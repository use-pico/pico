(async()=>{function iC(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in t)){const a=Object.getOwnPropertyDescriptor(n,o);a&&Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();var Pv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function sC(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var o=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return t[n]}})}),r}var lg={exports:{}},Ic={},ug={exports:{}},ar={};var Y0;function oC(){if(Y0)return ar;Y0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.iterator;function N(H){return H===null||typeof H!="object"?null:(H=x&&H[x]||H["@@iterator"],typeof H=="function"?H:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,O={};function P(H,xe,lt){this.props=H,this.context=xe,this.refs=O,this.updater=lt||q}P.prototype.isReactComponent={},P.prototype.setState=function(H,xe){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,xe,"setState")},P.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function M(){}M.prototype=P.prototype;function j(H,xe,lt){this.props=H,this.context=xe,this.refs=O,this.updater=lt||q}var $=j.prototype=new M;$.constructor=j,C($,P.prototype),$.isPureReactComponent=!0;var U=Array.isArray,G=Object.prototype.hasOwnProperty,B={current:null},J={key:!0,ref:!0,__self:!0,__source:!0};function re(H,xe,lt){var at,dt={},mt=null,ft=null;if(xe!=null)for(at in xe.ref!==void 0&&(ft=xe.ref),xe.key!==void 0&&(mt=""+xe.key),xe)G.call(xe,at)&&!J.hasOwnProperty(at)&&(dt[at]=xe[at]);var gt=arguments.length-2;if(gt===1)dt.children=lt;else if(1<gt){for(var Tt=Array(gt),vt=0;vt<gt;vt++)Tt[vt]=arguments[vt+2];dt.children=Tt}if(H&&H.defaultProps)for(at in gt=H.defaultProps,gt)dt[at]===void 0&&(dt[at]=gt[at]);return{$$typeof:t,type:H,key:mt,ref:ft,props:dt,_owner:B.current}}function V(H,xe){return{$$typeof:t,type:H.type,key:xe,ref:H.ref,props:H.props,_owner:H._owner}}function ie(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function D(H){var xe={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(lt){return xe[lt]})}var ne=/\/+/g;function Z(H,xe){return typeof H=="object"&&H!==null&&H.key!=null?D(""+H.key):xe.toString(36)}function pe(H,xe,lt,at,dt){var mt=typeof H;(mt==="undefined"||mt==="boolean")&&(H=null);var ft=!1;if(H===null)ft=!0;else switch(mt){case"string":case"number":ft=!0;break;case"object":switch(H.$$typeof){case t:case e:ft=!0}}if(ft)return ft=H,dt=dt(ft),H=at===""?"."+Z(ft,0):at,U(dt)?(lt="",H!=null&&(lt=H.replace(ne,"$&/")+"/"),pe(dt,xe,lt,"",function(vt){return vt})):dt!=null&&(ie(dt)&&(dt=V(dt,lt+(!dt.key||ft&&ft.key===dt.key?"":(""+dt.key).replace(ne,"$&/")+"/")+H)),xe.push(dt)),1;if(ft=0,at=at===""?".":at+":",U(H))for(var gt=0;gt<H.length;gt++){mt=H[gt];var Tt=at+Z(mt,gt);ft+=pe(mt,xe,lt,Tt,dt)}else if(Tt=N(H),typeof Tt=="function")for(H=Tt.call(H),gt=0;!(mt=H.next()).done;)mt=mt.value,Tt=at+Z(mt,gt++),ft+=pe(mt,xe,lt,Tt,dt);else if(mt==="object")throw xe=String(H),Error("Objects are not valid as a React child (found: "+(xe==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":xe)+"). If you meant to render a collection of children, use an array instead.");return ft}function Oe(H,xe,lt){if(H==null)return H;var at=[],dt=0;return pe(H,at,"","",function(mt){return xe.call(lt,mt,dt++)}),at}function Ce(H){if(H._status===-1){var xe=H._result;xe=xe(),xe.then(function(lt){(H._status===0||H._status===-1)&&(H._status=1,H._result=lt)},function(lt){(H._status===0||H._status===-1)&&(H._status=2,H._result=lt)}),H._status===-1&&(H._status=0,H._result=xe)}if(H._status===1)return H._result.default;throw H._result}var Fe={current:null},ve={transition:null},me={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:ve,ReactCurrentOwner:B};function Ee(){throw Error("act(...) is not supported in production builds of React.")}return ar.Children={map:Oe,forEach:function(H,xe,lt){Oe(H,function(){xe.apply(this,arguments)},lt)},count:function(H){var xe=0;return Oe(H,function(){xe++}),xe},toArray:function(H){return Oe(H,function(xe){return xe})||[]},only:function(H){if(!ie(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},ar.Component=P,ar.Fragment=r,ar.Profiler=o,ar.PureComponent=j,ar.StrictMode=n,ar.Suspense=h,ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,ar.act=Ee,ar.cloneElement=function(H,xe,lt){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var at=C({},H.props),dt=H.key,mt=H.ref,ft=H._owner;if(xe!=null){if(xe.ref!==void 0&&(mt=xe.ref,ft=B.current),xe.key!==void 0&&(dt=""+xe.key),H.type&&H.type.defaultProps)var gt=H.type.defaultProps;for(Tt in xe)G.call(xe,Tt)&&!J.hasOwnProperty(Tt)&&(at[Tt]=xe[Tt]===void 0&&gt!==void 0?gt[Tt]:xe[Tt])}var Tt=arguments.length-2;if(Tt===1)at.children=lt;else if(1<Tt){gt=Array(Tt);for(var vt=0;vt<Tt;vt++)gt[vt]=arguments[vt+2];at.children=gt}return{$$typeof:t,type:H.type,key:dt,ref:mt,props:at,_owner:ft}},ar.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:a,_context:H},H.Consumer=H},ar.createElement=re,ar.createFactory=function(H){var xe=re.bind(null,H);return xe.type=H,xe},ar.createRef=function(){return{current:null}},ar.forwardRef=function(H){return{$$typeof:c,render:H}},ar.isValidElement=ie,ar.lazy=function(H){return{$$typeof:g,_payload:{_status:-1,_result:H},_init:Ce}},ar.memo=function(H,xe){return{$$typeof:m,type:H,compare:xe===void 0?null:xe}},ar.startTransition=function(H){var xe=ve.transition;ve.transition={};try{H()}finally{ve.transition=xe}},ar.unstable_act=Ee,ar.useCallback=function(H,xe){return Fe.current.useCallback(H,xe)},ar.useContext=function(H){return Fe.current.useContext(H)},ar.useDebugValue=function(){},ar.useDeferredValue=function(H){return Fe.current.useDeferredValue(H)},ar.useEffect=function(H,xe){return Fe.current.useEffect(H,xe)},ar.useId=function(){return Fe.current.useId()},ar.useImperativeHandle=function(H,xe,lt){return Fe.current.useImperativeHandle(H,xe,lt)},ar.useInsertionEffect=function(H,xe){return Fe.current.useInsertionEffect(H,xe)},ar.useLayoutEffect=function(H,xe){return Fe.current.useLayoutEffect(H,xe)},ar.useMemo=function(H,xe){return Fe.current.useMemo(H,xe)},ar.useReducer=function(H,xe,lt){return Fe.current.useReducer(H,xe,lt)},ar.useRef=function(H){return Fe.current.useRef(H)},ar.useState=function(H){return Fe.current.useState(H)},ar.useSyncExternalStore=function(H,xe,lt){return Fe.current.useSyncExternalStore(H,xe,lt)},ar.useTransition=function(){return Fe.current.useTransition()},ar.version="18.3.1",ar}var ex;function Td(){return ex||(ex=1,ug.exports=oC()),ug.exports}var tx;function aC(){if(tx)return Ic;tx=1;var t=Td(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,h,m){var g,x={},N=null,q=null;m!==void 0&&(N=""+m),h.key!==void 0&&(N=""+h.key),h.ref!==void 0&&(q=h.ref);for(g in h)n.call(h,g)&&!a.hasOwnProperty(g)&&(x[g]=h[g]);if(c&&c.defaultProps)for(g in h=c.defaultProps,h)x[g]===void 0&&(x[g]=h[g]);return{$$typeof:e,type:c,key:N,ref:q,props:x,_owner:o.current}}return Ic.Fragment=r,Ic.jsx=l,Ic.jsxs=l,Ic}var rx;function lC(){return rx||(rx=1,lg.exports=aC()),lg.exports}var y=lC(),Pu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},sl=typeof window>"u"||"Deno"in globalThis;function $i(){}function uC(t,e){return typeof t=="function"?t(e):t}function Fv(t){return typeof t=="number"&&t>=0&&t!==1/0}function NN(t,e){return Math.max(t+(e||0)-Date.now(),0)}function uu(t,e){return typeof t=="function"?t(e):t}function ss(t,e){return typeof t=="function"?t(e):t}function nx(t,e){const{type:r="all",exact:n,fetchStatus:o,predicate:a,queryKey:l,stale:c}=t;if(l){if(n){if(e.queryHash!==q_(l,e.options))return!1}else if(!id(e.queryKey,l))return!1}if(r!=="all"){const h=e.isActive();if(r==="active"&&!h||r==="inactive"&&h)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||o&&o!==e.state.fetchStatus||a&&!a(e))}function ix(t,e){const{exact:r,status:n,predicate:o,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(ol(e.options.mutationKey)!==ol(a))return!1}else if(!id(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||o&&!o(e))}function q_(t,e){return(e?.queryKeyHashFn||ol)(t)}function ol(t){return JSON.stringify(t,(e,r)=>jv(r)?Object.keys(r).sort().reduce((n,o)=>(n[o]=r[o],n),{}):r)}function id(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!id(t[r],e[r])):!1}function kN(t,e){if(t===e)return t;const r=sx(t)&&sx(e);if(r||jv(t)&&jv(e)){const n=r?t:Object.keys(t),o=n.length,a=r?e:Object.keys(e),l=a.length,c=r?[]:{};let h=0;for(let m=0;m<l;m++){const g=r?m:a[m];(!r&&n.includes(g)||r)&&t[g]===void 0&&e[g]===void 0?(c[g]=void 0,h++):(c[g]=kN(t[g],e[g]),c[g]===t[g]&&t[g]!==void 0&&h++)}return o===l&&h===o?t:c}return e}function Zh(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function sx(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function jv(t){if(!ox(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!ox(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function ox(t){return Object.prototype.toString.call(t)==="[object Object]"}function cC(t){return new Promise(e=>{setTimeout(e,t)})}function Lv(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?kN(t,e):e}function dC(t){return t}function fC(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function hC(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var C_=Symbol();function qN(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===C_?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var pC=class extends Pu{#e;#t;#r;constructor(){super(),this.#r=t=>{if(!sl&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},O_=new pC,mC=class extends Pu{#e=!0;#t;#r;constructor(){super(),this.#r=t=>{if(!sl&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#e}},Xh=new mC;function Dv(){let t,e;const r=new Promise((o,a)=>{t=o,e=a});r.status="pending",r.catch(()=>{});function n(o){Object.assign(r,o),delete r.resolve,delete r.reject}return r.resolve=o=>{n({status:"fulfilled",value:o}),t(o)},r.reject=o=>{n({status:"rejected",reason:o}),e(o)},r}function yC(t){return Math.min(1e3*2**t,3e4)}function CN(t){return(t??"online")==="online"?Xh.isOnline():!0}var ON=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function cg(t){return t instanceof ON}function IN(t){let e=!1,r=0,n=!1,o;const a=Dv(),l=O=>{n||(N(new ON(O)),t.abort?.())},c=()=>{e=!0},h=()=>{e=!1},m=()=>O_.isFocused()&&(t.networkMode==="always"||Xh.isOnline())&&t.canRun(),g=()=>CN(t.networkMode)&&t.canRun(),x=O=>{n||(n=!0,t.onSuccess?.(O),o?.(),a.resolve(O))},N=O=>{n||(n=!0,t.onError?.(O),o?.(),a.reject(O))},q=()=>new Promise(O=>{o=P=>{(n||m())&&O(P)},t.onPause?.()}).then(()=>{o=void 0,n||t.onContinue?.()}),C=()=>{if(n)return;let O;const P=r===0?t.initialPromise:void 0;try{O=P??t.fn()}catch(M){O=Promise.reject(M)}Promise.resolve(O).then(x).catch(M=>{if(n)return;const j=t.retry??(sl?0:3),$=t.retryDelay??yC,U=typeof $=="function"?$(r,M):$,G=j===!0||typeof j=="number"&&r<j||typeof j=="function"&&j(r,M);if(e||!G){N(M);return}r++,t.onFail?.(r,M),cC(U).then(()=>m()?void 0:q()).then(()=>{e?N(M):C()})})};return{promise:a,cancel:l,continue:()=>(o?.(),a),cancelRetry:c,continueRetry:h,canStart:g,start:()=>(g()?C():q().then(C),a)}}function gC(){let t=[],e=0,r=c=>{c()},n=c=>{c()},o=c=>setTimeout(c,0);const a=c=>{e?t.push(c):o(()=>{r(c)})},l=()=>{const c=t;t=[],c.length&&o(()=>{n(()=>{c.forEach(h=>{r(h)})})})};return{batch:c=>{let h;e++;try{h=c()}finally{e--,e||l()}return h},batchCalls:c=>(...h)=>{a(()=>{c(...h)})},schedule:a,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{o=c}}}var hn=gC(),RN=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Fv(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(sl?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},vC=class extends RN{#e;#t;#r;#n;#i;#s;constructor(t){super(),this.#s=!1,this.#i=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=_C(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(t){this.options={...this.#i,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){const r=Lv(this.state.data,t,this.options);return this.#o({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#o({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#n?.promise;return this.#n?.cancel(t),e?e.then($i).catch($i):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>ss(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===C_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!NN(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#n&&(this.#s?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(t&&this.setOptions(t),!this.options.queryFn){const c=this.observers.find(h=>h.options.queryFn);c&&this.setOptions(c.options)}const r=new AbortController,n=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#s=!0,r.signal)})},o=()=>{const c=qN(this.options,e),h={queryKey:this.queryKey,meta:this.meta};return n(h),this.#s=!1,this.options.persister?this.options.persister(c,h,this):c(h)},a={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};n(a),this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#o({type:"fetch",meta:a.fetchOptions?.meta});const l=c=>{cg(c)&&c.silent||this.#o({type:"error",error:c}),cg(c)||(this.#r.config.onError?.(c,this),this.#r.config.onSettled?.(this.state.data,c,this)),this.scheduleGc()};return this.#n=IN({initialPromise:e?.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:c=>{if(c===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(c)}catch(h){l(h);return}this.#r.config.onSuccess?.(c,this),this.#r.config.onSettled?.(c,this.state.error,this),this.scheduleGc()},onError:l,onFail:(c,h)=>{this.#o({type:"failed",failureCount:c,error:h})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}),this.#n.start()}#o(t){const e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...AN(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=t.error;return cg(n)&&n.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),hn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function AN(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:CN(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function _C(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var bC=class extends Pu{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,r){const n=e.queryKey,o=e.queryHash??q_(n,e);let a=this.get(o);return a||(a=new vC({cache:this,queryKey:n,queryHash:o,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(a)),a}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){hn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>nx(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>nx(t,r)):e}notify(t){hn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){hn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){hn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},wC=class extends RN{#e;#t;#r;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||TN(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){this.#r=IN({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(n,o)=>{this.#n({type:"failed",failureCount:n,error:o})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const e=this.state.status==="pending",r=!this.#r.canStart();try{if(!e){this.#n({type:"pending",variables:t,isPaused:r}),await this.#t.config.onMutate?.(t,this);const o=await this.options.onMutate?.(t);o!==this.state.context&&this.#n({type:"pending",context:o,variables:t,isPaused:r})}const n=await this.#r.start();return await this.#t.config.onSuccess?.(n,t,this.state.context,this),await this.options.onSuccess?.(n,t,this.state.context),await this.#t.config.onSettled?.(n,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(n,null,t,this.state.context),this.#n({type:"success",data:n}),n}catch(n){try{throw await this.#t.config.onError?.(n,t,this.state.context,this),await this.options.onError?.(n,t,this.state.context),await this.#t.config.onSettled?.(void 0,n,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,n,t,this.state.context),n}finally{this.#n({type:"error",error:n})}}finally{this.#t.runNext(this)}}#n(t){const e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),hn.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function TN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var xC=class extends Pu{constructor(t={}){super(),this.config=t,this.#e=new Map,this.#t=Date.now()}#e;#t;build(t,e,r){const n=new wC({mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){const e=dh(t),r=this.#e.get(e)??[];r.push(t),this.#e.set(e,r),this.notify({type:"added",mutation:t})}remove(t){const e=dh(t);if(this.#e.has(e)){const r=this.#e.get(e)?.filter(n=>n!==t);r&&(r.length===0?this.#e.delete(e):this.#e.set(e,r))}this.notify({type:"removed",mutation:t})}canRun(t){const e=this.#e.get(dh(t))?.find(r=>r.state.status==="pending");return!e||e===t}runNext(t){return this.#e.get(dh(t))?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve()}clear(){hn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...this.#e.values()].flat()}find(t){const e={exact:!0,...t};return this.getAll().find(r=>ix(e,r))}findAll(t={}){return this.getAll().filter(e=>ix(t,e))}notify(t){hn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return hn.batch(()=>Promise.all(t.map(e=>e.continue().catch($i))))}};function dh(t){return t.options.scope?.id??String(t.mutationId)}function ax(t){return{onFetch:(e,r)=>{const n=e.options,o=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],l=e.state.data?.pageParams||[];let c={pages:[],pageParams:[]},h=0;const m=async()=>{let g=!1;const x=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},N=qN(e.options,e.fetchOptions),q=async(C,O,P)=>{if(g)return Promise.reject();if(O==null&&C.pages.length)return Promise.resolve(C);const M={queryKey:e.queryKey,pageParam:O,direction:P?"backward":"forward",meta:e.options.meta};x(M);const j=await N(M),{maxPages:$}=e.options,U=P?hC:fC;return{pages:U(C.pages,j,$),pageParams:U(C.pageParams,O,$)}};if(o&&a.length){const C=o==="backward",O=C?SC:lx,P={pages:a,pageParams:l},M=O(n,P);c=await q(P,M,C)}else{const C=t??a.length;do{const O=h===0?l[0]??n.initialPageParam:lx(n,c);if(h>0&&O==null)break;c=await q(c,O),h++}while(h<C)}return c};e.options.persister?e.fetchFn=()=>e.options.persister?.(m,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=m}}}function lx(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function SC(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}var EC=class{#e;#t;#r;#n;#i;#s;#o;#a;constructor(t={}){this.#e=t.queryCache||new bC,this.#t=t.mutationCache||new xC,this.#r=t.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=O_.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=Xh.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=this.#e.build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(uu(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),a=this.#e.get(n.queryHash)?.state.data,l=uC(e,a);if(l!==void 0)return this.#e.build(this,n).setData(l,{...r,manual:!0})}setQueriesData(t,e,r){return hn.batch(()=>this.#e.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;hn.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=this.#e,n={type:"active",...t};return hn.batch(()=>(r.findAll(t).forEach(o=>{o.reset()}),this.refetchQueries(n,e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=hn.batch(()=>this.#e.findAll(t).map(o=>o.cancel(r)));return Promise.all(n).then($i).catch($i)}invalidateQueries(t,e={}){return hn.batch(()=>{if(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none")return Promise.resolve();const r={...t,type:t?.refetchType??t?.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=hn.batch(()=>this.#e.findAll(t).filter(o=>!o.isDisabled()).map(o=>{let a=o.fetch(void 0,r);return r.throwOnError||(a=a.catch($i)),o.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then($i)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=this.#e.build(this,e);return r.isStaleByTime(uu(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then($i).catch($i)}fetchInfiniteQuery(t){return t.behavior=ax(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then($i).catch($i)}ensureInfiniteQueryData(t){return t.behavior=ax(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Xh.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#n.set(ol(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#n.values()],r={};return e.forEach(n=>{id(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){this.#i.set(ol(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()];let r={};return e.forEach(n=>{id(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=q_(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===C_&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},NC=class extends Pu{constructor(t,e){super(),this.options=e,this.#e=t,this.#a=null,this.#o=Dv(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#r=void 0;#n=void 0;#i;#s;#o;#a;#u;#l;#c;#d;#h;#f;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),ux(this.#t,this.options)?this.#p():this.updateResult(),this.#_())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Mv(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Mv(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(t,e){const r=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ss(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#x(),this.#t.setOptions(this.options),r._defaulted&&!Zh(this.options,r)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const o=this.hasListeners();o&&cx(this.#t,n,this.options,r)&&this.#p(),this.updateResult(e),o&&(this.#t!==n||ss(this.options.enabled,this.#t)!==ss(r.enabled,this.#t)||uu(this.options.staleTime,this.#t)!==uu(r.staleTime,this.#t))&&this.#y();const a=this.#g();o&&(this.#t!==n||ss(this.options.enabled,this.#t)!==ss(r.enabled,this.#t)||a!==this.#f)&&this.#v(a)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),r=this.createResult(e,t);return qC(this,r)&&(this.#n=r,this.#s=this.options,this.#i=this.#t.state),r}getCurrentResult(){return this.#n}trackResult(t,e){const r={};return Object.keys(t).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),e?.(n),t[n])})}),r}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),r=this.#e.getQueryCache().build(this.#e,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#p({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#p(t){this.#x();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch($i)),e}#y(){this.#b();const t=uu(this.options.staleTime,this.#t);if(sl||this.#n.isStale||!Fv(t))return;const r=NN(this.#n.dataUpdatedAt,t)+1;this.#d=setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#w(),this.#f=t,!(sl||ss(this.options.enabled,this.#t)===!1||!Fv(this.#f)||this.#f===0)&&(this.#h=setInterval(()=>{(this.options.refetchIntervalInBackground||O_.isFocused())&&this.#p()},this.#f))}#_(){this.#y(),this.#v(this.#g())}#b(){this.#d&&(clearTimeout(this.#d),this.#d=void 0)}#w(){this.#h&&(clearInterval(this.#h),this.#h=void 0)}createResult(t,e){const r=this.#t,n=this.options,o=this.#n,a=this.#i,l=this.#s,h=t!==r?t.state:this.#r,{state:m}=t;let g={...m},x=!1,N;if(e._optimisticResults){const J=this.hasListeners(),re=!J&&ux(t,e),V=J&&cx(t,r,e,n);(re||V)&&(g={...g,...AN(m.data,t.options)}),e._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:q,errorUpdatedAt:C,status:O}=g;if(e.select&&g.data!==void 0)if(o&&g.data===a?.data&&e.select===this.#u)N=this.#l;else try{this.#u=e.select,N=e.select(g.data),N=Lv(o?.data,N,e),this.#l=N,this.#a=null}catch(J){this.#a=J}else N=g.data;if(e.placeholderData!==void 0&&N===void 0&&O==="pending"){let J;if(o?.isPlaceholderData&&e.placeholderData===l?.placeholderData)J=o.data;else if(J=typeof e.placeholderData=="function"?e.placeholderData(this.#c?.state.data,this.#c):e.placeholderData,e.select&&J!==void 0)try{J=e.select(J),this.#a=null}catch(re){this.#a=re}J!==void 0&&(O="success",N=Lv(o?.data,J,e),x=!0)}this.#a&&(q=this.#a,N=this.#l,C=Date.now(),O="error");const P=g.fetchStatus==="fetching",M=O==="pending",j=O==="error",$=M&&P,U=N!==void 0,B={status:O,fetchStatus:g.fetchStatus,isPending:M,isSuccess:O==="success",isError:j,isInitialLoading:$,isLoading:$,data:N,dataUpdatedAt:g.dataUpdatedAt,error:q,errorUpdatedAt:C,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>h.dataUpdateCount||g.errorUpdateCount>h.errorUpdateCount,isFetching:P,isRefetching:P&&!M,isLoadingError:j&&!U,isPaused:g.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:j&&U,isStale:I_(t,e),refetch:this.refetch,promise:this.#o};if(this.options.experimental_prefetchInRender){const J=ie=>{B.status==="error"?ie.reject(B.error):B.data!==void 0&&ie.resolve(B.data)},re=()=>{const ie=this.#o=B.promise=Dv();J(ie)},V=this.#o;switch(V.status){case"pending":t.queryHash===r.queryHash&&J(V);break;case"fulfilled":(B.status==="error"||B.data!==V.value)&&re();break;case"rejected":(B.status!=="error"||B.error!==V.reason)&&re();break}}return B}updateResult(t){const e=this.#n,r=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#s=this.options,this.#i.data!==void 0&&(this.#c=this.#t),Zh(r,e))return;this.#n=r;const n={},o=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!this.#m.size)return!0;const c=new Set(l??this.#m);return this.options.throwOnError&&c.add("error"),Object.keys(this.#n).some(h=>{const m=h;return this.#n[m]!==e[m]&&c.has(m)})};t?.listeners!==!1&&o()&&(n.listeners=!0),this.#S({...n,...t})}#x(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#r=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#_()}#S(t){hn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function kC(t,e){return ss(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function ux(t,e){return kC(t,e)||t.state.data!==void 0&&Mv(t,e,e.refetchOnMount)}function Mv(t,e,r){if(ss(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&I_(t,e)}return!1}function cx(t,e,r,n){return(t!==e||ss(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&I_(t,r)}function I_(t,e){return ss(e.enabled,t)!==!1&&t.isStaleByTime(uu(e.staleTime,t))}function qC(t,e){return!Zh(t.getCurrentResult(),e)}var CC=class extends Pu{#e;#t=void 0;#r;#n;constructor(e,r){super(),this.#e=e,this.setOptions(r),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const r=this.options;this.options=this.#e.defaultMutationOptions(e),Zh(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&ol(r.mutationKey)!==ol(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#s(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#s()}mutate(e,r){return this.#n=r,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#i(){const e=this.#r?.state??TN();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#s(e){hn.batch(()=>{if(this.#n&&this.hasListeners()){const r=this.#t.variables,n=this.#t.context;e?.type==="success"?(this.#n.onSuccess?.(e.data,r,n),this.#n.onSettled?.(e.data,null,r,n)):e?.type==="error"&&(this.#n.onError?.(e.error,r,n),this.#n.onSettled?.(void 0,e.error,r,n))}this.listeners.forEach(r=>{r(this.#t)})})}},Q=Td();const wr=Tu(Q),OC=iC({__proto__:null,default:wr},[Q]);var PN=Q.createContext(void 0),yl=t=>{const e=Q.useContext(PN);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},IC=({client:t,children:e})=>(Q.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),y.jsx(PN.Provider,{value:t,children:e})),FN=Q.createContext(!1),RC=()=>Q.useContext(FN);FN.Provider;function AC(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var TC=Q.createContext(AC()),PC=()=>Q.useContext(TC);function jN(t,e){return typeof t=="function"?t(...e):!!t}function Bv(){}var FC=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},jC=t=>{Q.useEffect(()=>{t.clearReset()},[t])},LC=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&jN(r,[t.error,n]),DC=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},MC=(t,e)=>t.isLoading&&t.isFetching&&!e,BC=(t,e)=>t?.suspense&&e.isPending,dx=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function WC(t,e,r){const n=yl(),o=RC(),a=PC(),l=n.defaultQueryOptions(t);n.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=o?"isRestoring":"optimistic",DC(l),FC(l,a),jC(a);const c=!n.getQueryCache().get(l.queryHash),[h]=Q.useState(()=>new e(n,l)),m=h.getOptimisticResult(l);if(Q.useSyncExternalStore(Q.useCallback(g=>{const x=o?Bv:h.subscribe(hn.batchCalls(g));return h.updateResult(),x},[h,o]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),Q.useEffect(()=>{h.setOptions(l,{listeners:!1})},[l,h]),BC(l,m))throw dx(l,h,a);if(LC({result:m,errorResetBoundary:a,throwOnError:l.throwOnError,query:n.getQueryCache().get(l.queryHash)}))throw m.error;return n.getDefaultOptions().queries?._experimental_afterQuery?.(l,m),l.experimental_prefetchInRender&&!sl&&MC(m,o)&&(c?dx(l,h,a):n.getQueryCache().get(l.queryHash)?.promise)?.catch(Bv).finally(()=>{h.updateResult()}),l.notifyOnChangeProps?m:h.trackResult(m)}function $C(t,e){return WC(t,NC)}function Pd(t,e){const r=yl(),[n]=Q.useState(()=>new CC(r,t));Q.useEffect(()=>{n.setOptions(t)},[n,t]);const o=Q.useSyncExternalStore(Q.useCallback(l=>n.subscribe(hn.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=Q.useCallback((l,c)=>{n.mutate(l,c).catch(Bv)},[n]);if(o.error&&jN(n.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:a,mutateAsync:o.mutate}}const fx="popstate",hx="beforeunload";function LN(t){let e=t.getLocation();const r=new Set,n=l=>{e=t.getLocation(),r.forEach(c=>c({location:e,action:l}))},o=()=>{e=t.getLocation(),r.forEach(l=>l({location:e,action:{type:"ROLLBACK"}}))},a=async({task:l,navigateOpts:c,...h})=>{var m,g;if(c?.ignoreBlocker??!1){l();return}const N=((m=t.getBlockers)==null?void 0:m.call(t))??[],q=h.type==="PUSH"||h.type==="REPLACE";if(typeof document<"u"&&N.length&&q)for(const C of N){const O=sd(h.path,h.state);if(await C.blockerFn({currentLocation:e,nextLocation:O,action:h.type})){(g=t.onBlocked)==null||g.call(t,o);return}}l()};return{get location(){return e},get length(){return t.getLength()},subscribers:r,subscribe:l=>(r.add(l),()=>{r.delete(l)}),push:(l,c,h)=>{c=px(c),a({task:()=>{t.pushState(l,c),n({type:"PUSH"})},navigateOpts:h,type:"PUSH",path:l,state:c})},replace:(l,c,h)=>{c=px(c),a({task:()=>{t.replaceState(l,c),n({type:"REPLACE"})},navigateOpts:h,type:"REPLACE",path:l,state:c})},go:(l,c)=>{a({task:()=>{t.go(l),n({type:"GO",index:l})},navigateOpts:c,type:"GO"})},back:l=>{a({task:()=>{t.back(l?.ignoreBlocker??!1),n({type:"BACK"})},navigateOpts:l,type:"BACK"})},forward:l=>{a({task:()=>{t.forward(l?.ignoreBlocker??!1),n({type:"FORWARD"})},navigateOpts:l,type:"FORWARD"})},createHref:l=>t.createHref(l),block:l=>{var c;if(!t.setBlockers)return()=>{};const h=((c=t.getBlockers)==null?void 0:c.call(t))??[];return t.setBlockers([...h,l]),()=>{var m,g;const x=((m=t.getBlockers)==null?void 0:m.call(t))??[];(g=t.setBlockers)==null||g.call(t,x.filter(N=>N!==l))}},flush:()=>{var l;return(l=t.flush)==null?void 0:l.call(t)},destroy:()=>{var l;return(l=t.destroy)==null?void 0:l.call(t)},notify:n}}function px(t){return t||(t={}),{...t,key:VC()}}function zC(t){const e=typeof document<"u"?window:void 0,r=e.history.pushState,n=e.history.replaceState;let o=[];const a=()=>o,l=J=>o=J,c=J=>J,h=()=>sd(`${e.location.pathname}${e.location.search}${e.location.hash}`,e.history.state);let m=h(),g,x=!1,N=!1,q=!1;const C=()=>m;let O,P;const M=()=>{O&&(B._ignoreSubscribers=!0,(O.isPush?e.history.pushState:e.history.replaceState)(O.state,"",O.href),B._ignoreSubscribers=!1,O=void 0,P=void 0,g=void 0)},j=(J,re,V)=>{const ie=c(re);P||(g=m),m=sd(re,V),O={href:ie,state:V,isPush:O?.isPush||J==="push"},P||(P=Promise.resolve().then(()=>M()))},$=()=>{m=h(),B.notify({type:"POP"})},U=async()=>{if(x){x=!1;return}if(N)N=!1;else{const J=a();if(typeof document<"u"&&J.length)for(const re of J){const V=h();if(await re.blockerFn({currentLocation:m,nextLocation:V,action:"POP"})){x=!0,e.history.go(1),B.notify({type:"POP"});return}}}m=h(),B.notify({type:"POP"})},G=J=>{if(q){q=!1;return}let re=!1;const V=a();if(typeof document<"u"&&V.length)for(const ie of V){const D=ie.enableBeforeUnload??!0;if(D===!0){re=!0;break}if(typeof D=="function"&&D()===!0){re=!0;break}}if(re)return J.preventDefault(),J.returnValue=""},B=LN({getLocation:C,getLength:()=>e.history.length,pushState:(J,re)=>j("push",J,re),replaceState:(J,re)=>j("replace",J,re),back:J=>(J&&(N=!0),q=!0,e.history.back()),forward:J=>{J&&(N=!0),q=!0,e.history.forward()},go:J=>e.history.go(J),createHref:J=>c(J),flush:M,destroy:()=>{e.history.pushState=r,e.history.replaceState=n,e.removeEventListener(hx,G,{capture:!0}),e.removeEventListener(fx,U)},onBlocked:J=>{g&&m!==g&&(m=g,J())},getBlockers:a,setBlockers:l});return e.addEventListener(hx,G,{capture:!0}),e.addEventListener(fx,U),e.history.pushState=function(...J){const re=r.apply(e.history,J);return B._ignoreSubscribers||$(),re},e.history.replaceState=function(...J){const re=n.apply(e.history,J);return B._ignoreSubscribers||$(),re},B}function UC(t={initialEntries:["/"]}){const e=t.initialEntries;let r=t.initialIndex??e.length-1;const n=e.map(()=>({}));return LN({getLocation:()=>sd(e[r],n[r]),getLength:()=>e.length,pushState:(a,l)=>{r<e.length-1&&(e.splice(r+1),n.splice(r+1)),n.push(l),e.push(a),r=Math.max(e.length-1,0)},replaceState:(a,l)=>{n[r]=l,e[r]=a},back:()=>{r=Math.max(r-1,0)},forward:()=>{r=Math.min(r+1,e.length-1)},go:a=>{r=Math.min(Math.max(r+a,0),e.length-1)},createHref:a=>a})}function sd(t,e){const r=t.indexOf("#"),n=t.indexOf("?");return{href:t,pathname:t.substring(0,r>0?n>0?Math.min(r,n):r:n>0?n:t.length),hash:r>-1?t.substring(r):"",search:n>-1?t.slice(n,r===-1?void 0:r):"",state:e||{}}}function VC(){return(Math.random()+1).toString(36).substring(7)}var HC="Invariant failed";function xi(t,e){if(!t)throw new Error(HC)}const dg=Q.createContext(null);function DN(){return typeof document>"u"?dg:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=dg,dg)}function di(t){const e=Q.useContext(DN());return t?.warn,e}var fg={exports:{}},hg={},pg={exports:{}},mg={};var mx;function QC(){if(mx)return mg;mx=1;var t=Td();function e(x,N){return x===N&&(x!==0||1/x===1/N)||x!==x&&N!==N}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,o=t.useEffect,a=t.useLayoutEffect,l=t.useDebugValue;function c(x,N){var q=N(),C=n({inst:{value:q,getSnapshot:N}}),O=C[0].inst,P=C[1];return a(function(){O.value=q,O.getSnapshot=N,h(O)&&P({inst:O})},[x,q,N]),o(function(){return h(O)&&P({inst:O}),x(function(){h(O)&&P({inst:O})})},[x]),l(q),q}function h(x){var N=x.getSnapshot;x=x.value;try{var q=N();return!r(x,q)}catch{return!0}}function m(x,N){return N()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:c;return mg.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:g,mg}var yx;function KC(){return yx||(yx=1,pg.exports=QC()),pg.exports}var gx;function GC(){if(gx)return hg;gx=1;var t=Td(),e=KC();function r(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var n=typeof Object.is=="function"?Object.is:r,o=e.useSyncExternalStore,a=t.useRef,l=t.useEffect,c=t.useMemo,h=t.useDebugValue;return hg.useSyncExternalStoreWithSelector=function(m,g,x,N,q){var C=a(null);if(C.current===null){var O={hasValue:!1,value:null};C.current=O}else O=C.current;C=c(function(){function M(B){if(!j){if(j=!0,$=B,B=N(B),q!==void 0&&O.hasValue){var J=O.value;if(q(J,B))return U=J}return U=B}if(J=U,n($,B))return J;var re=N(B);return q!==void 0&&q(J,re)?($=B,J):($=B,U=re)}var j=!1,$,U,G=x===void 0?null:x;return[function(){return M(g())},G===null?void 0:function(){return M(G())}]},[g,x,N,q]);var P=o(m,C[0],C[1]);return l(function(){O.hasValue=!0,O.value=P},[P]),h(P),P},hg}var vx;function JC(){return vx||(vx=1,fg.exports=GC()),fg.exports}var ZC=JC();class XC{constructor(e,r){this.listeners=new Set,this._batching=!1,this._flushing=0,this.subscribe=n=>{var o,a;this.listeners.add(n);const l=(a=(o=this.options)==null?void 0:o.onSubscribe)==null?void 0:a.call(o,n,this);return()=>{this.listeners.delete(n),l?.()}},this.setState=n=>{var o,a,l;const c=this.state;this.state=(o=this.options)!=null&&o.updateFn?this.options.updateFn(c)(n):n(c),(l=(a=this.options)==null?void 0:a.onUpdate)==null||l.call(a),this._flush()},this._flush=()=>{if(this._batching)return;const n=++this._flushing;this.listeners.forEach(o=>{this._flushing===n&&o()})},this.batch=n=>{if(this._batching)return n();this._batching=!0,n(),this._batching=!1,this._flush()},this.state=e,this.options=r}}function YC(t,e=r=>r){return ZC.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,eO)}function eO(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[n,o]of t)if(!e.has(n)||!Object.is(o,e.get(n)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!1;for(let n=0;n<r.length;n++)if(!Object.prototype.hasOwnProperty.call(e,r[n])||!Object.is(t[r[n]],e[r[n]]))return!1;return!0}const _i="__root__";function tO(t,e){let r,n,o,a="";for(r in t)if((o=t[r])!==void 0)if(Array.isArray(o))for(n=0;n<o.length;n++)a&&(a+="&"),a+=encodeURIComponent(r)+"="+encodeURIComponent(o[n]);else a&&(a+="&"),a+=encodeURIComponent(r)+"="+encodeURIComponent(o);return""+a}function _x(t){if(!t)return"";const e=decodeURIComponent(t);return e==="false"?!1:e==="true"?!0:+e*0===0&&+e+""===e?+e:e}function rO(t,e){let r,n;const o={},a=t.split("&");for(;r=a.shift();){const l=r.indexOf("=");if(l!==-1){n=r.slice(0,l),n=decodeURIComponent(n);const c=r.slice(l+1);o[n]!==void 0?o[n]=[].concat(o[n],_x(c)):o[n]=_x(c)}else n=r,n=decodeURIComponent(n),o[n]=""}return o}const nO=sO(JSON.parse),iO=oO(JSON.stringify,JSON.parse);function sO(t){return e=>{e.substring(0,1)==="?"&&(e=e.substring(1));const r=rO(e);for(const n in r){const o=r[n];if(typeof o=="string")try{r[n]=t(o)}catch{}}return r}}function oO(t,e){function r(n){if(typeof n=="object"&&n!==null)try{return t(n)}catch{}else if(typeof n=="string"&&typeof e=="function")try{return e(n),t(n)}catch{}return n}return n=>{n={...n},Object.keys(n).forEach(a=>{const l=n[a];typeof l>"u"||l===void 0?delete n[a]:n[a]=r(l)});const o=tO(n).toString();return o?`?${o}`:""}}function Vc(t){return t[t.length-1]}function aO(t){return typeof t=="function"}function Ja(t,e){return aO(t)?t(e):t}function Nh(t,e){return e.reduce((r,n)=>(r[n]=t[n],r),{})}function Bi(t,e){if(t===e)return t;const r=e,n=wx(t)&&wx(r);if(n||xu(t)&&xu(r)){const o=n?t:Object.keys(t),a=o.length,l=n?r:Object.keys(r),c=l.length,h=n?[]:{};let m=0;for(let g=0;g<c;g++){const x=n?g:l[g];(!n&&o.includes(x)||n)&&t[x]===void 0&&r[x]===void 0?(h[x]=void 0,m++):(h[x]=Bi(t[x],r[x]),h[x]===t[x]&&t[x]!==void 0&&m++)}return a===c&&m===a?t:h}return r}function xu(t){if(!bx(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const r=e.prototype;return!(!bx(r)||!r.hasOwnProperty("isPrototypeOf"))}function bx(t){return Object.prototype.toString.call(t)==="[object Object]"}function wx(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function xx(t,e){let r=Object.keys(t);return e&&(r=r.filter(n=>t[n]!==void 0)),r}function cu(t,e,r){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(xu(t)&&xu(e)){const n=r?.ignoreUndefined??!0,o=xx(t,n),a=xx(e,n);return!r?.partial&&o.length!==a.length?!1:a.every(l=>cu(t[l],e[l],r))}return Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:!t.some((n,o)=>!cu(n,e[o],r)):!1}const Dc=typeof window<"u"?Q.useLayoutEffect:Q.useEffect;function Yl(t){let e,r;const n=new Promise((o,a)=>{e=o,r=a});return n.status="pending",n.resolve=o=>{n.status="resolved",n.value=o,e(o),t?.(o)},n.reject=o=>{n.status="rejected",r(o)},n}function yg(t){const e=Q.useRef({value:t,prev:null}),r=e.current.value;return t!==r&&(e.current={value:t,prev:r}),e.current.prev}function lO(t,e,r={},n={}){const o=Q.useRef(typeof IntersectionObserver=="function"),a=Q.useRef(null);return Q.useEffect(()=>{if(!(!t.current||!o.current||n.disabled))return a.current=new IntersectionObserver(([l])=>{e(l)},r),a.current.observe(t.current),()=>{var l;(l=a.current)==null||l.disconnect()}},[e,r,n.disabled,t]),a.current}function uO(t){const e=Q.useRef(null);return Q.useEffect(()=>{t&&(typeof t=="function"?t(e.current):t.current=e.current)}),e}function lo(t){return Dp(t.filter(e=>e!==void 0).join("/"))}function Dp(t){return t.replace(/\/{2,}/g,"/")}function R_(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function Za(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function cO(t){return Za(R_(t))}function Yh(t,e){return t.endsWith("/")&&t!=="/"&&t!==`${e}/`?t.slice(0,-1):t}function dO(t,e,r){return Yh(t,r)===Yh(e,r)}function fO({basepath:t,base:e,to:r,trailingSlash:n="never",caseSensitive:o}){var a,l;e=ep(t,e,o),r=ep(t,r,o);let c=Su(e);const h=Su(r);c.length>1&&((a=Vc(c))==null?void 0:a.value)==="/"&&c.pop(),h.forEach((g,x)=>{g.value==="/"?x?x===h.length-1&&c.push(g):c=[g]:g.value===".."?c.pop():g.value==="."||c.push(g)}),c.length>1&&(((l=Vc(c))==null?void 0:l.value)==="/"?n==="never"&&c.pop():n==="always"&&c.push({type:"pathname",value:"/"}));const m=lo([t,...c.map(g=>g.value)]);return Dp(m)}function Su(t){if(!t)return[];t=Dp(t);const e=[];if(t.slice(0,1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),!t)return e;const r=t.split("/").filter(Boolean);return e.push(...r.map(n=>n==="$"||n==="*"?{type:"wildcard",value:n}:n.charAt(0)==="$"?{type:"param",value:n}:{type:"pathname",value:decodeURI(n)})),t.slice(-1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),e}function fh({path:t,params:e,leaveWildcards:r,leaveParams:n,decodeCharMap:o}){const a=Su(t),l={};for(const[c,h]of Object.entries(e)){const m=typeof h=="string";["*","_splat"].includes(c)?l[c]=m?encodeURI(h):h:l[c]=m?hO(h,o):h}return lo(a.map(c=>{if(c.type==="wildcard"){const h=l._splat;return r?`${c.value}${h??""}`:h}if(c.type==="param"){if(n){const h=l[c.value];return`${c.value}${h??""}`}return l[c.value.substring(1)]??"undefined"}return c.value}))}function hO(t,e){let r=encodeURIComponent(t);if(e)for(const[n,o]of e)r=r.replaceAll(n,o);return r}function hh(t,e,r){const n=pO(t,e,r);if(!(r.to&&!n))return n??{}}function ep(t,e,r=!1){const n=r?t:t.toLowerCase(),o=r?e:e.toLowerCase();switch(!0){case n==="/":return e;case o===n:return"";case e.length<t.length:return e;case o[n.length]!=="/":return e;case o.startsWith(n):return e.slice(t.length);default:return e}}function pO(t,e,r){if(t!=="/"&&!e.startsWith(t))return;e=ep(t,e,r.caseSensitive);const n=ep(t,`${r.to??"$"}`,r.caseSensitive),o=Su(e),a=Su(n);e.startsWith("/")||o.unshift({type:"pathname",value:"/"}),n.startsWith("/")||a.unshift({type:"pathname",value:"/"});const l={};return(()=>{for(let h=0;h<Math.max(o.length,a.length);h++){const m=o[h],g=a[h],x=h>=o.length-1,N=h>=a.length-1;if(g){if(g.type==="wildcard"){const q=decodeURI(lo(o.slice(h).map(C=>C.value)));return l["*"]=q,l._splat=q,!0}if(g.type==="pathname"){if(g.value==="/"&&!m?.value)return!0;if(m){if(r.caseSensitive){if(g.value!==m.value)return!1}else if(g.value.toLowerCase()!==m.value.toLowerCase())return!1}}if(!m)return!1;if(g.type==="param"){if(m.value==="/")return!1;m.value.charAt(0)!=="$"&&(l[g.value.substring(1)]=decodeURIComponent(m.value))}}if(!x&&N)return l["**"]=lo(o.slice(h+1).map(q=>q.value)),!!r.fuzzy&&g?.value!=="/"}return!0})()?l:void 0}function Mp(t){if(t.isRedirect=!0,t.statusCode=t.statusCode||t.code||307,t.headers=t.headers||{},!t.reloadDocument){t.reloadDocument=!1;try{new URL(`${t.href}`),t.reloadDocument=!0}catch{}}if(t.throw)throw t;return t}function Ua(t){return!!t?.isRedirect}function gg(t){return!!t?.isRedirect&&t.href}function A_(t){const e=t.errorComponent??Bp;return y.jsx(mO,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:r,reset:n})=>r?Q.createElement(e,{error:r,reset:n}):t.children})}class mO extends Q.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,r){r.error&&r.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,r){this.props.onCatch&&this.props.onCatch(e,r)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function Bp({error:t}){const[e,r]=Q.useState(!1);return y.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[y.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),y.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>r(n=>!n),children:e?"Hide Error":"Show Error"})]}),y.jsx("div",{style:{height:".25rem"}}),e?y.jsx("div",{children:y.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?y.jsx("code",{children:t.message}):null})}):null]})}function Un(t){const e=di({warn:t?.router===void 0}),r=t?.router||e,n=Q.useRef();return YC(r.__store,o=>{if(t?.select){if(t.structuralSharing??r.options.defaultStructuralSharing){const a=Bi(n.current,t.select(o));return n.current=a,a}return t.select(o)}return o})}function is(t){return!!t?.isNotFound}function yO(t){const e=Un({select:r=>`not-found-${r.location.pathname}-${r.status}`});return y.jsx(A_,{getResetKey:()=>e,onCatch:(r,n)=>{var o;if(is(r))(o=t.onCatch)==null||o.call(t,r,n);else throw r},errorComponent:({error:r})=>{var n;if(is(r))return(n=t.fallback)==null?void 0:n.call(t,r);throw r},children:t.children})}function gO(){return y.jsx("p",{children:"Not Found"})}const vO={stringify:t=>JSON.stringify(t,function(r,n){const o=this[r],a=Sx.find(l=>l.stringifyCondition(o));return a?a.stringify(o):n}),parse:t=>JSON.parse(t,function(r,n){const o=this[r],a=Sx.find(l=>l.parseCondition(o));return a?a.parse(o):n})},Sx=[{stringifyCondition:t=>t instanceof Date,stringify:t=>({$date:t.toISOString()}),parseCondition:t=>xu(t)&&t.$date,parse:t=>new Date(t.$date)},{stringifyCondition:t=>t===void 0,stringify:()=>({$undefined:""}),parseCondition:t=>xu(t)&&t.$undefined==="",parse:()=>{}}],MN=["component","errorComponent","pendingComponent","notFoundComponent"];function _O(t){var e;for(const r of MN)if((e=t.options[r])!=null&&e.preload)return!0;return!1}function vg(t,e){if(t==null)return{};if("~standard"in t){const r=t["~standard"].validate(e);if(r instanceof Promise)throw new Wv("Async validation not supported");if(r.issues)throw new Wv(JSON.stringify(r.issues,void 0,2));return r.value}return"parse"in t?t.parse(e):typeof t=="function"?t(e):{}}function bO(t){return new wO(t)}class wO{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.startReactTransition=r=>r(),this.update=r=>{var n;r.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/guide/not-found-errors#migrating-from-notfoundroute for more info.");const o=this.options;this.options={...this.options,...r},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(a=>[encodeURIComponent(a),a])):void 0,(!this.basepath||r.basepath&&r.basepath!==o.basepath)&&(r.basepath===void 0||r.basepath===""||r.basepath==="/"?this.basepath="/":this.basepath=`/${cO(r.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?UC({initialEntries:[this.basepath||"/"]}):zC()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new XC(SO(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(a=>!["redirected"].includes(a.status))}}})),typeof window<"u"&&"CSS"in window&&typeof((n=window.CSS)==null?void 0:n.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.buildRouteTree=()=>{this.routesById={},this.routesByPath={};const r=this.options.notFoundRoute;r&&(r.init({originalIndex:0x174876e7ff,defaultSsr:this.options.defaultSsr}),this.routesById[r.id]=r);const n=l=>{l.forEach((c,h)=>{c.init({originalIndex:h,defaultSsr:this.options.defaultSsr});const m=this.routesById[c.id];if(xi(!m,`Duplicate routes found with id: ${String(c.id)}`),this.routesById[c.id]=c,!c.isRoot&&c.path){const x=Za(c.fullPath);(!this.routesByPath[x]||c.fullPath.endsWith("/"))&&(this.routesByPath[x]=c)}const g=c.children;g?.length&&n(g)})};n([this.routeTree]);const o=[];Object.values(this.routesById).forEach((l,c)=>{var h;if(l.isRoot||!l.path)return;const m=R_(l.fullPath),g=Su(m);for(;g.length>1&&((h=g[0])==null?void 0:h.value)==="/";)g.shift();const x=g.map(N=>N.value==="/"?.75:N.type==="param"?.5:N.type==="wildcard"?.25:1);o.push({child:l,trimmed:m,parsed:g,index:c,scores:x})}),this.flatRoutes=o.sort((l,c)=>{const h=Math.min(l.scores.length,c.scores.length);for(let m=0;m<h;m++)if(l.scores[m]!==c.scores[m])return c.scores[m]-l.scores[m];if(l.scores.length!==c.scores.length)return c.scores.length-l.scores.length;for(let m=0;m<h;m++)if(l.parsed[m].value!==c.parsed[m].value)return l.parsed[m].value>c.parsed[m].value?1:-1;return l.index-c.index}).map((l,c)=>(l.child.rank=c,l.child))},this.subscribe=(r,n)=>{const o={eventType:r,fn:n};return this.subscribers.add(o),()=>{this.subscribers.delete(o)}},this.emit=r=>{this.subscribers.forEach(n=>{n.eventType===r.type&&n.fn(r)})},this.parseLocation=(r,n)=>{const o=({pathname:h,search:m,hash:g,state:x})=>{const N=this.options.parseSearch(m),q=this.options.stringifySearch(N);return{pathname:h,searchStr:q,search:Bi(r?.search,N),hash:g.split("#").reverse()[0]??"",href:`${h}${q}${g}`,state:Bi(r?.state,x)}},a=o(n??this.history.location),{__tempLocation:l,__tempKey:c}=a.state;if(l&&(!c||c===this.tempLocationKey)){const h=o(l);return h.state.key=a.state.key,delete h.state.__tempLocation,{...h,maskedLocation:a}}return a},this.resolvePathWithBase=(r,n)=>fO({basepath:this.basepath,base:r,to:Dp(n),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.getMatchedRoutes=(r,n)=>{let o={};const a=Za(r.pathname),l=g=>hh(this.basepath,a,{to:g.fullPath,caseSensitive:g.options.caseSensitive??this.options.caseSensitive,fuzzy:!0});let c=n?.to!==void 0?this.routesByPath[n.to]:void 0;c?o=l(c):c=this.flatRoutes.find(g=>{const x=l(g);return x?(o=x,!0):!1});let h=c||this.routesById[_i];const m=[h];for(;h.parentRoute;)h=h.parentRoute,m.unshift(h);return{matchedRoutes:m,routeParams:o,foundRoute:c}},this.cancelMatch=r=>{const n=this.getMatch(r);n&&(n.abortController.abort(),clearTimeout(n.pendingTimeout))},this.cancelMatches=()=>{var r;(r=this.state.pendingMatches)==null||r.forEach(n=>{this.cancelMatch(n.id)})},this.buildLocation=r=>{const n=(a={},l)=>{var c,h,m,g,x,N;const q=a._fromLocation?this.matchRoutes(a._fromLocation,{_buildLocation:!0}):this.state.matches,C=a.from!=null?q.find(D=>hh(this.basepath,Za(D.pathname),{to:a.from,caseSensitive:!1,fuzzy:!1})):void 0,O=C?.pathname||this.latestLocation.pathname;xi(a.from==null||C!=null,"Could not find match for from: "+a.from);const P=(c=this.state.pendingMatches)!=null&&c.length?(h=Vc(this.state.pendingMatches))==null?void 0:h.search:((m=Vc(q))==null?void 0:m.search)||this.latestLocation.search,M=l?.matchedRoutes.filter(D=>q.find(ne=>ne.routeId===D.id));let j;if(a.to)j=this.resolvePathWithBase(O,`${a.to}`);else{const D=this.routesById[(g=M?.find(ne=>{const Z=fh({path:ne.fullPath,params:l?.routeParams??{},decodeCharMap:this.pathParamsDecodeCharMap});return lo([this.basepath,Z])===O}))==null?void 0:g.id];j=this.resolvePathWithBase(O,D?.to??O)}const $={...(x=Vc(q))==null?void 0:x.params};let U=(a.params??!0)===!0?$:{...$,...Ja(a.params,$)};Object.keys(U).length>0&&l?.matchedRoutes.map(D=>{var ne;return((ne=D.options.params)==null?void 0:ne.stringify)??D.options.stringifyParams}).filter(Boolean).forEach(D=>{U={...U,...D(U)}}),j=fh({path:j,params:U??{},leaveWildcards:!1,leaveParams:r.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap});let G=P;if(r._includeValidateSearch&&((N=this.options.search)!=null&&N.strict)){let D={};l?.matchedRoutes.forEach(ne=>{try{ne.options.validateSearch&&(D={...D,...vg(ne.options.validateSearch,{...D,...G})??{}})}catch{}}),G=D}G=(D=>{const ne=l?.matchedRoutes.reduce((Oe,Ce)=>{var Fe;const ve=[];if("search"in Ce.options)(Fe=Ce.options.search)!=null&&Fe.middlewares&&ve.push(...Ce.options.search.middlewares);else if(Ce.options.preSearchFilters||Ce.options.postSearchFilters){const me=({search:Ee,next:H})=>{let xe=Ee;"preSearchFilters"in Ce.options&&Ce.options.preSearchFilters&&(xe=Ce.options.preSearchFilters.reduce((at,dt)=>dt(at),Ee));const lt=H(xe);return"postSearchFilters"in Ce.options&&Ce.options.postSearchFilters?Ce.options.postSearchFilters.reduce((at,dt)=>dt(at),lt):lt};ve.push(me)}if(r._includeValidateSearch&&Ce.options.validateSearch){const me=({search:Ee,next:H})=>{try{const xe=H(Ee);return{...xe,...vg(Ce.options.validateSearch,xe)??{}}}catch{}};ve.push(me)}return Oe.concat(ve)},[])??[],Z=({search:Oe})=>a.search?a.search===!0?Oe:Ja(a.search,Oe):{};ne.push(Z);const pe=(Oe,Ce)=>{if(Oe>=ne.length)return Ce;const Fe=ne[Oe];return Fe({search:Ce,next:me=>pe(Oe+1,me)})};return pe(0,D)})(G),G=Bi(P,G);const J=this.options.stringifySearch(G),re=a.hash===!0?this.latestLocation.hash:a.hash?Ja(a.hash,this.latestLocation.hash):void 0,V=re?`#${re}`:"";let ie=a.state===!0?this.latestLocation.state:a.state?Ja(a.state,this.latestLocation.state):{};return ie=Bi(this.latestLocation.state,ie),{pathname:j,search:G,searchStr:J,state:ie,hash:re??"",href:`${j}${J}${V}`,unmaskOnReload:a.unmaskOnReload}},o=(a={},l)=>{var c;const h=n(a);let m=l?n(l):void 0;if(!m){let N={};const q=(c=this.options.routeMasks)==null?void 0:c.find(C=>{const O=hh(this.basepath,h.pathname,{to:C.from,caseSensitive:!1,fuzzy:!1});return O?(N=O,!0):!1});if(q){const{from:C,...O}=q;l={...Nh(r,["from"]),...O,params:N},m=n(l)}}const g=this.getMatchedRoutes(h,a),x=n(a,g);if(m){const N=this.getMatchedRoutes(m,l),q=n(l,N);x.maskedLocation=q}return x};return r.mask?o(r,{...Nh(r,["from"]),...r.mask}):o(r)},this.commitLocation=({viewTransition:r,ignoreBlocker:n,...o})=>{const a=()=>{o.state.key=this.latestLocation.state.key;const h=cu(o.state,this.latestLocation.state);return delete o.state.key,h},l=this.latestLocation.href===o.href,c=this.commitLocationPromise;if(this.commitLocationPromise=Yl(()=>{c?.resolve()}),l&&a())this.load();else{let{maskedLocation:h,hashScrollIntoView:m,...g}=o;h&&(g={...h,state:{...h.state,__tempKey:void 0,__tempLocation:{...g,search:g.searchStr,state:{...g.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}},(g.unmaskOnReload??this.options.unmaskOnReload??!1)&&(g.state.__tempKey=this.tempLocationKey)),g.state.__hashScrollIntoViewOptions=m??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=r,this.history[o.replace?"replace":"push"](g.href,g.state,{ignoreBlocker:n})}return this.resetNextScroll=o.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:r,resetScroll:n,hashScrollIntoView:o,viewTransition:a,ignoreBlocker:l,href:c,...h}={})=>{if(c){const g=sd(c,{});h.to=g.pathname,h.search=this.options.parseSearch(g.search),h.hash=g.hash.slice(1)}const m=this.buildLocation({...h,_includeValidateSearch:!0});return this.commitLocation({...m,viewTransition:a,replace:r,resetScroll:n,hashScrollIntoView:o,ignoreBlocker:l})},this.navigate=({to:r,reloadDocument:n,href:o,...a})=>{if(n){o||(o=this.buildLocation({to:r,...a}).href),a.replace?window.location.replace(o):window.location.href=o;return}return this.buildAndCommitLocation({...a,href:o,to:r})},this.load=async()=>{this.latestLocation=this.parseLocation(this.latestLocation);let r,n,o;for(o=new Promise(a=>{this.startReactTransition(async()=>{var l;try{const c=this.latestLocation,h=this.state.resolvedLocation,m=h.href!==c.href,g=h.pathname!==c.pathname;this.cancelMatches();let x;this.__store.batch(()=>{x=this.matchRoutes(c),this.__store.setState(N=>({...N,status:"pending",isLoading:!0,location:c,pendingMatches:x,cachedMatches:N.cachedMatches.filter(q=>!x.find(C=>C.id===q.id))}))}),this.state.redirect||this.emit({type:"onBeforeNavigate",fromLocation:h,toLocation:c,pathChanged:g,hrefChanged:m}),this.emit({type:"onBeforeLoad",fromLocation:h,toLocation:c,pathChanged:g,hrefChanged:m}),await this.loadMatches({matches:x,location:c,onReady:async()=>{this.startViewTransition(async()=>{let N,q,C;this.__store.batch(()=>{this.__store.setState(O=>{const P=O.matches,M=O.pendingMatches||O.matches;return N=P.filter(j=>!M.find($=>$.id===j.id)),q=M.filter(j=>!P.find($=>$.id===j.id)),C=P.filter(j=>M.find($=>$.id===j.id)),{...O,isLoading:!1,loadedAt:Date.now(),matches:M,pendingMatches:void 0,cachedMatches:[...O.cachedMatches,...N.filter(j=>j.status!=="error")]}}),this.clearExpiredCache()}),[[N,"onLeave"],[q,"onEnter"],[C,"onStay"]].forEach(([O,P])=>{O.forEach(M=>{var j,$;($=(j=this.looseRoutesById[M.routeId].options)[P])==null||$.call(j,M)})})})}})}catch(c){gg(c)?(r=c,this.isServer||this.navigate({...r,replace:!0,ignoreBlocker:!0})):is(c)&&(n=c),this.__store.setState(h=>({...h,statusCode:r?r.statusCode:n?404:h.matches.some(m=>m.status==="error")?500:200,redirect:r}))}this.latestLoadPromise===o&&((l=this.commitLocationPromise)==null||l.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),a()})}),this.latestLoadPromise=o,await o;this.latestLoadPromise&&o!==this.latestLoadPromise;)await this.latestLoadPromise},this.startViewTransition=r=>{const n=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,n&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let o;typeof n=="object"&&this.isViewTransitionTypesSupported?o={update:r,types:n.types}:o=r,document.startViewTransition(o)}else r()},this.updateMatch=(r,n)=>{var o;let a;const l=(o=this.state.pendingMatches)==null?void 0:o.find(g=>g.id===r),c=this.state.matches.find(g=>g.id===r),h=this.state.cachedMatches.find(g=>g.id===r),m=l?"pendingMatches":c?"matches":h?"cachedMatches":"";return m&&this.__store.setState(g=>{var x;return{...g,[m]:(x=g[m])==null?void 0:x.map(N=>N.id===r?a=n(N):N)}}),a},this.getMatch=r=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(n=>n.id===r),this.loadMatches=async({location:r,matches:n,preload:o,onReady:a,updateMatch:l=this.updateMatch})=>{let c,h=!1;const m=async()=>{h||(h=!0,await a?.())},g=N=>!!(o&&!this.state.matches.find(q=>q.id===N));!this.isServer&&!this.state.matches.length&&m();const x=(N,q)=>{var C,O,P;if(gg(q)&&!q.reloadDocument)throw q;if(Ua(q)||is(q)){if(l(N.id,M=>({...M,status:Ua(q)?"redirected":is(q)?"notFound":"error",isFetching:!1,error:q,beforeLoadPromise:void 0,loaderPromise:void 0})),q.routeId||(q.routeId=N.routeId),(C=N.beforeLoadPromise)==null||C.resolve(),(O=N.loaderPromise)==null||O.resolve(),(P=N.loadPromise)==null||P.resolve(),Ua(q))throw h=!0,q=this.resolveRedirect({...q,_fromLocation:r}),q;if(is(q))throw this._handleNotFound(n,q,{updateMatch:l}),q}};try{await new Promise((N,q)=>{(async()=>{var C,O,P;try{const M=(U,G,B)=>{var J,re;const{id:V,routeId:ie}=n[U],D=this.looseRoutesById[ie];if(G instanceof Promise)throw G;G.routerCode=B,c=c??U,x(this.getMatch(V),G);try{(re=(J=D.options).onError)==null||re.call(J,G)}catch(ne){G=ne,x(this.getMatch(V),G)}l(V,ne=>{var Z,pe;return(Z=ne.beforeLoadPromise)==null||Z.resolve(),(pe=ne.loadPromise)==null||pe.resolve(),{...ne,error:G,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[U,{id:G,routeId:B}]of n.entries()){const J=this.getMatch(G),re=(C=n[U-1])==null?void 0:C.id,V=this.looseRoutesById[B],ie=V.options.pendingMs??this.options.defaultPendingMs,D=!!(a&&!this.isServer&&!g(G)&&(V.options.loader||V.options.beforeLoad)&&typeof ie=="number"&&ie!==1/0&&(V.options.pendingComponent??this.options.defaultPendingComponent));let ne=!0;if((J.beforeLoadPromise||J.loaderPromise)&&(D&&setTimeout(()=>{try{m()}catch{}},ie),await J.beforeLoadPromise,ne=this.getMatch(G).status!=="success"),ne){try{l(G,dt=>({...dt,loadPromise:Yl(()=>{var mt;(mt=dt.loadPromise)==null||mt.resolve()}),beforeLoadPromise:Yl()}));const Z=new AbortController;let pe;D&&(pe=setTimeout(()=>{try{m()}catch{}},ie));const{paramsError:Oe,searchError:Ce}=this.getMatch(G);Oe&&M(U,Oe,"PARSE_PARAMS"),Ce&&M(U,Ce,"VALIDATE_SEARCH");const Fe=()=>re?this.getMatch(re).context:this.options.context??{};l(G,dt=>({...dt,isFetching:"beforeLoad",fetchCount:dt.fetchCount+1,abortController:Z,pendingTimeout:pe,context:{...Fe(),...dt.__routeContext,...dt.__beforeLoadContext}}));const{search:ve,params:me,context:Ee,cause:H}=this.getMatch(G),xe=g(G),lt={search:ve,abortController:Z,params:me,preload:xe,context:Ee,location:r,navigate:dt=>this.navigate({...dt,_fromLocation:r}),buildLocation:this.buildLocation,cause:xe?"preload":H,matches:n};let at=await ((P=(O=V.options).beforeLoad)==null?void 0:P.call(O,lt))??{};this.serializeLoaderData&&(at=this.serializeLoaderData("__beforeLoadContext",at,{router:this,match:this.getMatch(G)})),(Ua(at)||is(at))&&M(U,at,"BEFORE_LOAD"),l(G,dt=>({...dt,__beforeLoadContext:at,context:{...Fe(),...dt.__routeContext,...at},abortController:Z}))}catch(Z){M(U,Z,"BEFORE_LOAD")}l(G,Z=>{var pe;return(pe=Z.beforeLoadPromise)==null||pe.resolve(),{...Z,beforeLoadPromise:void 0,isFetching:!1}})}}const j=n.slice(0,c),$=[];j.forEach(({id:U,routeId:G},B)=>{$.push((async()=>{const{loaderPromise:J}=this.getMatch(U);let re=!1;if(J)await J;else{const V=$[B-1],ie=this.looseRoutesById[G],D=()=>{const{params:xe,loaderDeps:lt,abortController:at,context:dt,cause:mt}=this.getMatch(U),ft=g(U);return{params:xe,deps:lt,preload:!!ft,parentMatchPromise:V,abortController:at,context:dt,location:r,navigate:gt=>this.navigate({...gt,_fromLocation:r}),cause:ft?"preload":mt,route:ie}},ne=Date.now()-this.getMatch(U).updatedAt,Z=g(U),pe=Z?ie.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:ie.options.staleTime??this.options.defaultStaleTime??0,Oe=ie.options.shouldReload,Ce=typeof Oe=="function"?Oe(D()):Oe;l(U,xe=>({...xe,loaderPromise:Yl(),preload:!!Z&&!this.state.matches.find(lt=>lt.id===U)}));const Fe=async()=>{var xe,lt,at,dt,mt,ft,gt,Tt;try{const vt=async()=>{const yt=this.getMatch(U);yt.minPendingPromise&&await yt.minPendingPromise};try{this.loadRouteChunk(ie),l(U,ur=>({...ur,isFetching:"loader"}));let yt=await ((lt=(xe=ie.options).loader)==null?void 0:lt.call(xe,D()));this.serializeLoaderData&&(yt=this.serializeLoaderData("loaderData",yt,{router:this,match:this.getMatch(U)})),x(this.getMatch(U),yt),await ie._lazyPromise,await vt();const Ot=(dt=(at=ie.options).head)==null?void 0:dt.call(at,{matches:n,match:this.getMatch(U),params:this.getMatch(U).params,loaderData:yt}),qt=Ot?.meta,Jt=Ot?.links,Gt=Ot?.scripts,er=(ft=(mt=ie.options).headers)==null?void 0:ft.call(mt,{loaderData:yt});l(U,ur=>({...ur,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:yt,meta:qt,links:Jt,scripts:Gt,headers:er}))}catch(yt){let Ot=yt;await vt(),x(this.getMatch(U),yt);try{(Tt=(gt=ie.options).onError)==null||Tt.call(gt,yt)}catch(qt){Ot=qt,x(this.getMatch(U),qt)}l(U,qt=>({...qt,error:Ot,status:"error",isFetching:!1}))}await ie._componentsPromise}catch(vt){l(U,yt=>({...yt,loaderPromise:void 0})),x(this.getMatch(U),vt)}},{status:ve,invalid:me}=this.getMatch(U);re=ve==="success"&&(me||(Ce??ne>pe)),Z&&ie.options.preload===!1||(re?(async()=>{try{await Fe()}catch(xe){gg(xe)&&await this.navigate(xe)}})():ve!=="success"&&await Fe());const{loaderPromise:Ee,loadPromise:H}=this.getMatch(U);Ee?.resolve(),H?.resolve()}return l(U,V=>({...V,isFetching:re?V.isFetching:!1,loaderPromise:void 0,invalid:!1})),this.getMatch(U)})())}),await Promise.all($),N()}catch(M){q(M)}})()}),await m()}catch(N){if(Ua(N)||is(N))throw is(N)&&!o&&await m(),N}return n},this.invalidate=r=>{const n=o=>{var a;return((a=r?.filter)==null?void 0:a.call(r,o))??!0?{...o,invalid:!0,...o.status==="error"?{status:"pending",error:void 0}:{}}:o};return this.__store.setState(o=>{var a;return{...o,matches:o.matches.map(n),cachedMatches:o.cachedMatches.map(n),pendingMatches:(a=o.pendingMatches)==null?void 0:a.map(n)}}),this.load()},this.resolveRedirect=r=>{const n=r;return n.href||(n.href=this.buildLocation(n).href),n},this.clearCache=r=>{const n=r?.filter;n!==void 0?this.__store.setState(o=>({...o,cachedMatches:o.cachedMatches.filter(a=>!n(a))})):this.__store.setState(o=>({...o,cachedMatches:[]}))},this.clearExpiredCache=()=>{const r=n=>{const o=this.looseRoutesById[n.routeId];if(!o.options.loader)return!0;const a=(n.preload?o.options.preloadGcTime??this.options.defaultPreloadGcTime:o.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return!(n.status!=="error"&&Date.now()-n.updatedAt<a)};this.clearCache({filter:r})},this.loadRouteChunk=r=>(r._lazyPromise===void 0&&(r.lazyFn?r._lazyPromise=r.lazyFn().then(n=>{const{id:o,...a}=n.options;Object.assign(r.options,a)}):r._lazyPromise=Promise.resolve()),r._componentsPromise===void 0&&(r._componentsPromise=r._lazyPromise.then(()=>Promise.all(MN.map(async n=>{const o=r.options[n];o?.preload&&await o.preload()})))),r._componentsPromise),this.preloadRoute=async r=>{const n=this.buildLocation(r);let o=this.matchRoutes(n,{throwOnError:!0,preload:!0,dest:r});const a=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(c=>c.id)),l=new Set([...a,...this.state.cachedMatches.map(c=>c.id)]);this.__store.batch(()=>{o.forEach(c=>{l.has(c.id)||this.__store.setState(h=>({...h,cachedMatches:[...h.cachedMatches,c]}))})});try{return o=await this.loadMatches({matches:o,location:n,preload:!0,updateMatch:(c,h)=>{a.has(c)?o=o.map(m=>m.id===c?h(m):m):this.updateMatch(c,h)}}),o}catch(c){if(Ua(c))return c.reloadDocument?void 0:await this.preloadRoute({...c,_fromLocation:n});console.error(c);return}},this.matchRoute=(r,n)=>{const o={...r,to:r.to?this.resolvePathWithBase(r.from||"",r.to):void 0,params:r.params||{},leaveParams:!0},a=this.buildLocation(o);if(n?.pending&&this.state.status!=="pending")return!1;const c=(n?.pending===void 0?!this.state.isLoading:n.pending)?this.latestLocation:this.state.resolvedLocation,h=hh(this.basepath,c.pathname,{...n,to:a.pathname});return!h||r.params&&!cu(h,r.params,{partial:!0})?!1:h&&(n?.includeSearch??!0)?cu(c.search,a.search,{partial:!0})?h:!1:h},this.dehydrate=()=>{var r;const n=((r=this.options.errorSerializer)==null?void 0:r.serialize)??EO;return{state:{dehydratedMatches:this.state.matches.map(o=>({...Nh(o,["id","status","updatedAt"]),error:o.error?{data:n(o.error),__isServerError:!0}:void 0}))},manifest:this.manifest}},this.hydrate=()=>{var r,n,o;let a;typeof document<"u"&&(a=this.options.transformer.parse((r=window.__TSR__)==null?void 0:r.dehydrated)),xi(a),this.dehydratedData=a.payload,(o=(n=this.options).hydrate)==null||o.call(n,a.payload);const l=a.router.state,c=this.matchRoutes(this.state.location).map(h=>{const m=l.dehydratedMatches.find(g=>g.id===h.id);return xi(m,`Could not find a client-side match for dehydrated match with id: ${h.id}!`),{...h,...m}});this.__store.setState(h=>({...h,matches:c})),this.manifest=a.router.manifest},this.injectedHtml=[],this.injectHtml=r=>{const n=()=>(this.injectedHtml=this.injectedHtml.filter(o=>o!==n),r);this.injectedHtml.push(n)},this.injectScript=(r,n)=>{this.injectHtml(`<script class='tsr-once'>${r}; if (typeof __TSR__ !== 'undefined') __TSR__.cleanScripts()</script>`)},this.streamedKeys=new Set,this.getStreamedValue=r=>{var n;if(this.isServer)return;const o=(n=window.__TSR__)==null?void 0:n.streamedValues[r];if(o)return o.parsed||(o.parsed=this.options.transformer.parse(o.value)),o.parsed},this.streamValue=(r,n)=>{var o;this.streamedKeys.has(r),this.streamedKeys.add(r),this.injectScript(`__TSR__.streamedValues['${r}'] = { value: ${(o=this.serializer)==null?void 0:o.call(this,this.options.transformer.stringify(n))}}`)},this._handleNotFound=(r,n,{updateMatch:o=this.updateMatch}={})=>{const a=Object.fromEntries(r.map(h=>[h.routeId,h]));let l=(n.global?this.looseRoutesById[_i]:this.looseRoutesById[n.routeId])||this.looseRoutesById[_i];for(;!l.options.notFoundComponent&&!this.options.defaultNotFoundComponent&&l.id!==_i;)l=l.parentRoute,xi(l);const c=a[l.id];xi(c,"Could not find match for route: "+l.id),o(c.id,h=>({...h,status:"notFound",error:n,isFetching:!1})),n.routerCode==="BEFORE_LOAD"&&l.parentRoute&&(n.routeId=l.parentRoute.id,this._handleNotFound(r,n,{updateMatch:o}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(r=>r.status==="notFound"||r.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??iO,parseSearch:e.parseSearch??nO,transformer:e.transformer??vO}),typeof document<"u"&&(window.__TSR__ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutes(e,r,n){return typeof e=="string"?this.matchRoutesInternal({pathname:e,search:r},n):this.matchRoutesInternal(e,r)}matchRoutesInternal(e,r){const{foundRoute:n,matchedRoutes:o,routeParams:a}=this.getMatchedRoutes(e,r?.dest);let l=!1;(n?n.path!=="/"&&a["**"]:Za(e.pathname))&&(this.options.notFoundRoute?o.push(this.options.notFoundRoute):l=!0);const c=(()=>{if(l){if(this.options.notFoundMode!=="root")for(let x=o.length-1;x>=0;x--){const N=o[x];if(N.children)return N.id}return _i}})(),h=o.map(x=>{var N;let q;const C=((N=x.options.params)==null?void 0:N.parse)??x.options.parseParams;if(C)try{const O=C(a);Object.assign(a,O)}catch(O){if(q=new xO(O.message,{cause:O}),r?.throwOnError)throw q;return q}}),m=[],g=x=>x?.id?x.context??this.options.context??{}:this.options.context??{};return o.forEach((x,N)=>{var q,C,O,P;const M=m[N-1],[j,$]=(()=>{const Z=M?.search??e.search;try{const pe=vg(x.options.validateSearch,Z)??{};return[{...Z,...pe},void 0]}catch(pe){const Oe=new Wv(pe.message,{cause:pe});if(r?.throwOnError)throw Oe;return[Z,Oe]}})(),U=((C=(q=x.options).loaderDeps)==null?void 0:C.call(q,{search:j}))??"",G=U?JSON.stringify(U):"",B=fh({path:x.fullPath,params:a,decodeCharMap:this.pathParamsDecodeCharMap}),J=fh({path:x.id,params:a,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap})+G,re=this.getMatch(J),V=this.state.matches.find(Z=>Z.routeId===x.id),ie=V?"stay":"enter";let D;if(re)D={...re,cause:ie,params:V?Bi(V.params,a):a,search:Bi(V?V.search:re.search,j)};else{const Z=x.options.loader||x.options.beforeLoad||x.lazyFn||_O(x)?"pending":"success";D={id:J,index:N,routeId:x.id,params:V?Bi(V.params,a):a,pathname:lo([this.basepath,B]),updatedAt:Date.now(),search:V?Bi(V.search,j):j,searchError:void 0,status:Z,isFetching:!1,error:void 0,paramsError:h[N],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:ie,loaderDeps:V?Bi(V.loaderDeps,U):U,invalid:!1,preload:!1,links:void 0,scripts:void 0,meta:void 0,staticData:x.options.staticData||{},loadPromise:Yl(),fullPath:x.fullPath}}D.status==="success"&&(D.headers=(P=(O=x.options).headers)==null?void 0:P.call(O,{loaderData:D.loaderData})),r?.preload||(D.globalNotFound=c===x.id),D.searchError=$;const ne=g(M);D.context={...ne,...D.__routeContext,...D.__beforeLoadContext},m.push(D)}),m.forEach((x,N)=>{var q,C,O,P;const M=this.looseRoutesById[x.routeId];if(!this.getMatch(x.id)&&r?._buildLocation!==!0){const U=m[N-1],G=g(U),B={deps:x.loaderDeps,params:x.params,context:G,location:e,navigate:J=>this.navigate({...J,_fromLocation:e}),buildLocation:this.buildLocation,cause:x.cause,abortController:x.abortController,preload:!!x.preload,matches:m};x.__routeContext=((C=(q=M.options).context)==null?void 0:C.call(q,B))??{},x.context={...G,...x.__routeContext,...x.__beforeLoadContext}}const $=(P=(O=M.options).head)==null?void 0:P.call(O,{matches:m,match:x,params:x.params,loaderData:x.loaderData??void 0});x.links=$?.links,x.scripts=$?.scripts,x.meta=$?.meta}),m}}class Wv extends Error{}class xO extends Error{}function SO(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:{...t},location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function EO(t){return t instanceof Error?{name:t.name,message:t.message}:{data:t}}function Ex(t){return!(typeof t=="object"&&t&&"data"in t)||!("__isServerError"in t&&t.__isServerError)||!(typeof t.data=="object"&&t.data)?!1:t.__isServerError===!0}function Nx(t){if("name"in t&&"message"in t){const e=new Error(t.message);return e.name=t.name,e}return t.data}const Wp=Q.createContext(void 0),NO=Q.createContext(void 0);function da(t){const e=Q.useContext(t.from?NO:Wp);return Un({select:n=>{const o=n.matches.find(a=>t.from?t.from===a.routeId:a.id===e);if(xi(!((t.shouldThrow??!0)&&!o),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),o!==void 0)return t.select?t.select(o):o},structuralSharing:t.structuralSharing})}function gl(t){return da({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}function kO(t){const{select:e,...r}=t;return da({...r,select:n=>e?e(n.loaderDeps):n.loaderDeps})}function vn(t){return da({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.params):e.params})}function qO(t){return da({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}function T_(t){const{navigate:e}=di();return Q.useCallback(r=>e({...r}),[e])}let BN=class{constructor(e){this.init=r=>{var n,o;this.originalIndex=r.originalIndex;const a=this.options,l=!a?.path&&!a?.id;this.parentRoute=(o=(n=this.options).getParentRoute)==null?void 0:o.call(n),l?this._path=_i:xi(this.parentRoute);let c=l?_i:a.path;c&&c!=="/"&&(c=R_(c));const h=a?.id||c;let m=l?_i:lo([this.parentRoute.id===_i?"":this.parentRoute.id,h]);c===_i&&(c="/"),m!==_i&&(m=lo(["/",m]));const g=m===_i?"/":lo([this.parentRoute.fullPath,c]);this._path=c,this._id=m,this._fullPath=g,this._to=g,this._ssr=a?.ssr??r.defaultSsr??!0},this.updateLoader=r=>(Object.assign(this.options,r),this),this.update=r=>(Object.assign(this.options,r),this),this.lazy=r=>(this.lazyFn=r,this),this.useMatch=r=>da({select:r?.select,from:this.id,structuralSharing:r?.structuralSharing}),this.useRouteContext=r=>da({...r,from:this.id,select:n=>r?.select?r.select(n.context):n.context}),this.useSearch=r=>qO({select:r?.select,structuralSharing:r?.structuralSharing,from:this.id}),this.useParams=r=>vn({select:r?.select,structuralSharing:r?.structuralSharing,from:this.id}),this.useLoaderDeps=r=>kO({...r,from:this.id}),this.useLoaderData=r=>gl({...r,from:this.id}),this.useNavigate=()=>T_({from:this.id}),this.options=e||{},this.isRoot=!e?.getParentRoute,xi(!(e?.id&&e?.path)),this.$$typeof=Symbol.for("react.memo")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}get ssr(){return this._ssr}addChildren(e){return this._addFileChildren(e)}_addFileChildren(e){return Array.isArray(e)&&(this.children=e),typeof e=="object"&&e!==null&&(this.children=Object.values(e)),this}};function CO(t){return new BN(t)}function OO(){return t=>RO(t)}class IO extends BN{constructor(e){super(e)}addChildren(e){return super.addChildren(e),this}_addFileChildren(e){return super._addFileChildren(e),this}_addFileTypes(){return this}}function RO(t){return new IO(t)}function fr(t){return new AO(t,{silent:!0}).createRoute}class AO{constructor(e,r){this.path=e,this.createRoute=n=>{this.silent;const o=CO(n);return o.isRoot=!1,o},this.silent=r?.silent}}function kh(t){return y.jsx(y.Fragment,{children:t.children})}function WN(t,e,r){return e.options.notFoundComponent?y.jsx(e.options.notFoundComponent,{data:r}):t.options.defaultNotFoundComponent?y.jsx(t.options.defaultNotFoundComponent,{data:r}):y.jsx(gO,{})}const $N=Q.memo(function({matchId:e}){var r,n;const o=di(),a=Un({select:P=>{var M;return(M=P.matches.find(j=>j.id===e))==null?void 0:M.routeId}});xi(a);const l=o.routesById[a],c=l.options.pendingComponent??o.options.defaultPendingComponent,h=c?y.jsx(c,{}):null,m=l.options.errorComponent??o.options.defaultErrorComponent,g=l.options.onCatch??o.options.defaultOnCatch,x=l.isRoot?l.options.notFoundComponent??((r=o.options.notFoundRoute)==null?void 0:r.options.component):l.options.notFoundComponent,N=(!l.isRoot||l.options.wrapInSuspense)&&(l.options.wrapInSuspense??c??((n=l.options.errorComponent)==null?void 0:n.preload))?Q.Suspense:kh,q=m?A_:kh,C=x?yO:kh,O=Un({select:P=>P.loadedAt});return y.jsx(Wp.Provider,{value:e,children:y.jsx(N,{fallback:h,children:y.jsx(q,{getResetKey:()=>O,errorComponent:m||Bp,onCatch:(P,M)=>{if(is(P))throw P;g?.(P,M)},children:y.jsx(C,{fallback:P=>{if(!x||P.routeId&&P.routeId!==a||!P.routeId&&!l.isRoot)throw P;return Q.createElement(x,P)},children:y.jsx(TO,{matchId:e})})})})})}),TO=Q.memo(function({matchId:e}){var r,n,o,a,l;const c=di(),{match:h,matchIndex:m,routeId:g}=Un({select:C=>{const O=C.matches.findIndex(j=>j.id===e),P=C.matches[O];return{routeId:P.routeId,matchIndex:O,match:Nh(P,["id","status","error"])}},structuralSharing:!0}),x=c.routesById[g],N=Q.useMemo(()=>{const C=x.options.component??c.options.defaultComponent;return C?y.jsx(C,{}):y.jsx(wa,{})},[x.options.component,c.options.defaultComponent]),q=(x.options.errorComponent??c.options.defaultErrorComponent)||Bp;if(h.status==="notFound"){let C;return Ex(h.error)?C=(((r=c.options.errorSerializer)==null?void 0:r.deserialize)??Nx)(h.error.data):C=h.error,xi(is(C)),WN(c,x,C)}if(h.status==="redirected")throw xi(Ua(h.error)),(n=c.getMatch(h.id))==null?void 0:n.loadPromise;if(h.status==="error"){if(c.isServer)return y.jsx(q,{error:h.error,info:{componentStack:""}});throw Ex(h.error)?(((o=c.options.errorSerializer)==null?void 0:o.deserialize)??Nx)(h.error.data):h.error}if(h.status==="pending"){const C=x.options.pendingMinMs??c.options.defaultPendingMinMs;if(C&&!((a=c.getMatch(h.id))!=null&&a.minPendingPromise)&&!c.isServer){const O=Yl();Promise.resolve().then(()=>{c.updateMatch(h.id,P=>({...P,minPendingPromise:O}))}),setTimeout(()=>{O.resolve(),c.updateMatch(h.id,P=>({...P,minPendingPromise:void 0}))},C)}throw(l=c.getMatch(h.id))==null?void 0:l.loadPromise}return y.jsxs(y.Fragment,{children:[N,c.AfterEachMatch?y.jsx(c.AfterEachMatch,{match:h,matchIndex:m}):null]})}),wa=Q.memo(function(){const e=di(),r=Q.useContext(Wp),n=Un({select:m=>{var g;return(g=m.matches.find(x=>x.id===r))==null?void 0:g.routeId}}),o=e.routesById[n],a=Un({select:m=>{const x=m.matches.find(N=>N.id===r);return xi(x),x.globalNotFound}}),l=Un({select:m=>{var g;const x=m.matches,N=x.findIndex(q=>q.id===r);return(g=x[N+1])==null?void 0:g.id}});if(a)return WN(e,o,void 0);if(!l)return null;const c=y.jsx($N,{matchId:l}),h=e.options.defaultPendingComponent?y.jsx(e.options.defaultPendingComponent,{}):null;return r===_i?y.jsx(Q.Suspense,{fallback:h,children:c}):c});var _g={exports:{}},ei={},bg={exports:{}},wg={};var kx;function PO(){return kx||(kx=1,function(t){function e(ve,me){var Ee=ve.length;ve.push(me);e:for(;0<Ee;){var H=Ee-1>>>1,xe=ve[H];if(0<o(xe,me))ve[H]=me,ve[Ee]=xe,Ee=H;else break e}}function r(ve){return ve.length===0?null:ve[0]}function n(ve){if(ve.length===0)return null;var me=ve[0],Ee=ve.pop();if(Ee!==me){ve[0]=Ee;e:for(var H=0,xe=ve.length,lt=xe>>>1;H<lt;){var at=2*(H+1)-1,dt=ve[at],mt=at+1,ft=ve[mt];if(0>o(dt,Ee))mt<xe&&0>o(ft,dt)?(ve[H]=ft,ve[mt]=Ee,H=mt):(ve[H]=dt,ve[at]=Ee,H=at);else if(mt<xe&&0>o(ft,Ee))ve[H]=ft,ve[mt]=Ee,H=mt;else break e}}return me}function o(ve,me){var Ee=ve.sortIndex-me.sortIndex;return Ee!==0?Ee:ve.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var h=[],m=[],g=1,x=null,N=3,q=!1,C=!1,O=!1,P=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(ve){for(var me=r(m);me!==null;){if(me.callback===null)n(m);else if(me.startTime<=ve)n(m),me.sortIndex=me.expirationTime,e(h,me);else break;me=r(m)}}function U(ve){if(O=!1,$(ve),!C)if(r(h)!==null)C=!0,Ce(G);else{var me=r(m);me!==null&&Fe(U,me.startTime-ve)}}function G(ve,me){C=!1,O&&(O=!1,M(re),re=-1),q=!0;var Ee=N;try{for($(me),x=r(h);x!==null&&(!(x.expirationTime>me)||ve&&!D());){var H=x.callback;if(typeof H=="function"){x.callback=null,N=x.priorityLevel;var xe=H(x.expirationTime<=me);me=t.unstable_now(),typeof xe=="function"?x.callback=xe:x===r(h)&&n(h),$(me)}else n(h);x=r(h)}if(x!==null)var lt=!0;else{var at=r(m);at!==null&&Fe(U,at.startTime-me),lt=!1}return lt}finally{x=null,N=Ee,q=!1}}var B=!1,J=null,re=-1,V=5,ie=-1;function D(){return!(t.unstable_now()-ie<V)}function ne(){if(J!==null){var ve=t.unstable_now();ie=ve;var me=!0;try{me=J(!0,ve)}finally{me?Z():(B=!1,J=null)}}else B=!1}var Z;if(typeof j=="function")Z=function(){j(ne)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,Oe=pe.port2;pe.port1.onmessage=ne,Z=function(){Oe.postMessage(null)}}else Z=function(){P(ne,0)};function Ce(ve){J=ve,B||(B=!0,Z())}function Fe(ve,me){re=P(function(){ve(t.unstable_now())},me)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ve){ve.callback=null},t.unstable_continueExecution=function(){C||q||(C=!0,Ce(G))},t.unstable_forceFrameRate=function(ve){0>ve||125<ve?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<ve?Math.floor(1e3/ve):5},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(ve){switch(N){case 1:case 2:case 3:var me=3;break;default:me=N}var Ee=N;N=me;try{return ve()}finally{N=Ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ve,me){switch(ve){case 1:case 2:case 3:case 4:case 5:break;default:ve=3}var Ee=N;N=ve;try{return me()}finally{N=Ee}},t.unstable_scheduleCallback=function(ve,me,Ee){var H=t.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?H+Ee:H):Ee=H,ve){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=0x3fffffff;break;case 4:xe=1e4;break;default:xe=5e3}return xe=Ee+xe,ve={id:g++,callback:me,priorityLevel:ve,startTime:Ee,expirationTime:xe,sortIndex:-1},Ee>H?(ve.sortIndex=Ee,e(m,ve),r(h)===null&&ve===r(m)&&(O?(M(re),re=-1):O=!0,Fe(U,Ee-H))):(ve.sortIndex=xe,e(h,ve),C||q||(C=!0,Ce(G))),ve},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(ve){var me=N;return function(){var Ee=N;N=me;try{return ve.apply(this,arguments)}finally{N=Ee}}}}(wg)),wg}var qx;function FO(){return qx||(qx=1,bg.exports=PO()),bg.exports}var Cx;function jO(){if(Cx)return ei;Cx=1;var t=Td(),e=FO();function r(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,o={};function a(i,s){l(i,s),l(i+"Capture",s)}function l(i,s){for(o[i]=s,i=0;i<s.length;i++)n.add(s[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},x={};function N(i){return h.call(x,i)?!0:h.call(g,i)?!1:m.test(i)?x[i]=!0:(g[i]=!0,!1)}function q(i,s,u,p){if(u!==null&&u.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function C(i,s,u,p){if(s===null||typeof s>"u"||q(i,s,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function O(i,s,u,p,w,E,T){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=p,this.attributeNamespace=w,this.mustUseProperty=u,this.propertyName=i,this.type=s,this.sanitizeURL=E,this.removeEmptyString=T}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){P[i]=new O(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];P[s]=new O(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){P[i]=new O(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){P[i]=new O(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){P[i]=new O(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){P[i]=new O(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){P[i]=new O(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){P[i]=new O(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){P[i]=new O(i,5,!1,i.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function j(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(M,j);P[s]=new O(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(M,j);P[s]=new O(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(M,j);P[s]=new O(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){P[i]=new O(i,1,!1,i.toLowerCase(),null,!1,!1)}),P.xlinkHref=new O("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){P[i]=new O(i,1,!1,i.toLowerCase(),null,!0,!0)});function $(i,s,u,p){var w=P.hasOwnProperty(s)?P[s]:null;(w!==null?w.type!==0:p||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(C(s,u,w,p)&&(u=null),p||w===null?N(s)&&(u===null?i.removeAttribute(s):i.setAttribute(s,""+u)):w.mustUseProperty?i[w.propertyName]=u===null?w.type===3?!1:"":u:(s=w.attributeName,p=w.attributeNamespace,u===null?i.removeAttribute(s):(w=w.type,u=w===3||w===4&&u===!0?"":""+u,p?i.setAttributeNS(p,s,u):i.setAttribute(s,u))))}var U=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,G=Symbol.for("react.element"),B=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),re=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),ie=Symbol.for("react.provider"),D=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),Oe=Symbol.for("react.memo"),Ce=Symbol.for("react.lazy"),Fe=Symbol.for("react.offscreen"),ve=Symbol.iterator;function me(i){return i===null||typeof i!="object"?null:(i=ve&&i[ve]||i["@@iterator"],typeof i=="function"?i:null)}var Ee=Object.assign,H;function xe(i){if(H===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);H=s&&s[1]||""}return`
`+H+i}var lt=!1;function at(i,s){if(!i||lt)return"";lt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(je){var p=je}Reflect.construct(i,[],s)}else{try{s.call()}catch(je){p=je}i.call(s.prototype)}else{try{throw Error()}catch(je){p=je}i()}}catch(je){if(je&&p&&typeof je.stack=="string"){for(var w=je.stack.split(`
`),E=p.stack.split(`
`),T=w.length-1,se=E.length-1;1<=T&&0<=se&&w[T]!==E[se];)se--;for(;1<=T&&0<=se;T--,se--)if(w[T]!==E[se]){if(T!==1||se!==1)do if(T--,se--,0>se||w[T]!==E[se]){var de=`
`+w[T].replace(" at new "," at ");return i.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",i.displayName)),de}while(1<=T&&0<=se);break}}}finally{lt=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?xe(i):""}function dt(i){switch(i.tag){case 5:return xe(i.type);case 16:return xe("Lazy");case 13:return xe("Suspense");case 19:return xe("SuspenseList");case 0:case 2:case 15:return i=at(i.type,!1),i;case 11:return i=at(i.type.render,!1),i;case 1:return i=at(i.type,!0),i;default:return""}}function mt(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case J:return"Fragment";case B:return"Portal";case V:return"Profiler";case re:return"StrictMode";case Z:return"Suspense";case pe:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case D:return(i.displayName||"Context")+".Consumer";case ie:return(i._context.displayName||"Context")+".Provider";case ne:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Oe:return s=i.displayName||null,s!==null?s:mt(i.type)||"Memo";case Ce:s=i._payload,i=i._init;try{return mt(i(s))}catch{}}return null}function ft(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mt(s);case 8:return s===re?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function gt(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Tt(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function vt(i){var s=Tt(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),p=""+i[s];if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var w=u.get,E=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return w.call(this)},set:function(T){p=""+T,E.call(this,T)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(T){p=""+T},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function yt(i){i._valueTracker||(i._valueTracker=vt(i))}function Ot(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var u=s.getValue(),p="";return i&&(p=Tt(i)?i.checked?"true":"false":i.value),i=p,i!==u?(s.setValue(i),!0):!1}function qt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Jt(i,s){var u=s.checked;return Ee({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function Gt(i,s){var u=s.defaultValue==null?"":s.defaultValue,p=s.checked!=null?s.checked:s.defaultChecked;u=gt(s.value!=null?s.value:u),i._wrapperState={initialChecked:p,initialValue:u,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function er(i,s){s=s.checked,s!=null&&$(i,"checked",s,!1)}function ur(i,s){er(i,s);var u=gt(s.value),p=s.type;if(u!=null)p==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(p==="submit"||p==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?le(i,s.type,u):s.hasOwnProperty("defaultValue")&&le(i,s.type,gt(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function oe(i,s,u){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var p=s.type;if(!(p!=="submit"&&p!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,u||s===i.value||(i.value=s),i.defaultValue=s}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function le(i,s,u){(s!=="number"||qt(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var ye=Array.isArray;function Ie(i,s,u,p){if(i=i.options,s){s={};for(var w=0;w<u.length;w++)s["$"+u[w]]=!0;for(u=0;u<i.length;u++)w=s.hasOwnProperty("$"+i[u].value),i[u].selected!==w&&(i[u].selected=w),w&&p&&(i[u].defaultSelected=!0)}else{for(u=""+gt(u),s=null,w=0;w<i.length;w++){if(i[w].value===u){i[w].selected=!0,p&&(i[w].defaultSelected=!0);return}s!==null||i[w].disabled||(s=i[w])}s!==null&&(s.selected=!0)}}function De(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(r(91));return Ee({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Ge(i,s){var u=s.value;if(u==null){if(u=s.children,s=s.defaultValue,u!=null){if(s!=null)throw Error(r(92));if(ye(u)){if(1<u.length)throw Error(r(93));u=u[0]}s=u}s==null&&(s=""),u=s}i._wrapperState={initialValue:gt(u)}}function _t(i,s){var u=gt(s.value),p=gt(s.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),s.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),p!=null&&(i.defaultValue=""+p)}function Mt(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function mr(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cr(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?mr(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Ir,Ln=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,u,p,w){MSApp.execUnsafeLocalFunction(function(){return i(s,u,p,w)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(Ir=Ir||document.createElement("div"),Ir.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Ir.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function Zr(i,s){if(s){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=s;return}}i.textContent=s}var Qn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ws=["Webkit","ms","Moz","O"];Object.keys(Qn).forEach(function(i){Ws.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),Qn[s]=Qn[i]})});function _n(i,s,u){return s==null||typeof s=="boolean"||s===""?"":u||typeof s!="number"||s===0||Qn.hasOwnProperty(i)&&Qn[i]?(""+s).trim():s+"px"}function Ut(i,s){i=i.style;for(var u in s)if(s.hasOwnProperty(u)){var p=u.indexOf("--")===0,w=_n(u,s[u],p);u==="float"&&(u="cssFloat"),p?i.setProperty(u,w):i[u]=w}}var Oo=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Io(i,s){if(s){if(Oo[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(r(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(r(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(r(61))}if(s.style!=null&&typeof s.style!="object")throw Error(r(62))}}function Ro(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hu=null;function Qu(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ku=null,gs=null,R=null;function sf(i){if(i=mc(i)){if(typeof Ku!="function")throw Error(r(280));var s=i.stateNode;s&&(s=kf(s),Ku(i.stateNode,i.type,s))}}function Xt(i){gs?R?R.push(i):R=[i]:gs=i}function of(){if(gs){var i=gs,s=R;if(R=gs=null,sf(i),s)for(i=0;i<s.length;i++)sf(s[i])}}function af(i,s){return i(s)}function lf(){}var Gu=!1;function qa(i,s,u){if(Gu)return i(s,u);Gu=!0;try{return af(i,s,u)}finally{Gu=!1,(gs!==null||R!==null)&&(lf(),of())}}function Ri(i,s){var u=i.stateNode;if(u===null)return null;var p=kf(u);if(p===null)return null;u=p[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,s,typeof u));return u}var Ju=!1;if(c)try{var Ca={};Object.defineProperty(Ca,"passive",{get:function(){Ju=!0}}),window.addEventListener("test",Ca,Ca),window.removeEventListener("test",Ca,Ca)}catch{Ju=!1}function Sm(i,s,u,p,w,E,T,se,de){var je=Array.prototype.slice.call(arguments,3);try{s.apply(u,je)}catch(tt){this.onError(tt)}}var Oa=!1,vs=null,Sl=!1,_s=null,Em={onError:function(i){Oa=!0,vs=i}};function Nm(i,s,u,p,w,E,T,se,de){Oa=!1,vs=null,Sm.apply(Em,arguments)}function km(i,s,u,p,w,E,T,se,de){if(Nm.apply(this,arguments),Oa){if(Oa){var je=vs;Oa=!1,vs=null}else throw Error(r(198));Sl||(Sl=!0,_s=je)}}function $s(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function uf(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function cf(i){if($s(i)!==i)throw Error(r(188))}function qm(i){var s=i.alternate;if(!s){if(s=$s(i),s===null)throw Error(r(188));return s!==i?null:i}for(var u=i,p=s;;){var w=u.return;if(w===null)break;var E=w.alternate;if(E===null){if(p=w.return,p!==null){u=p;continue}break}if(w.child===E.child){for(E=w.child;E;){if(E===u)return cf(w),i;if(E===p)return cf(w),s;E=E.sibling}throw Error(r(188))}if(u.return!==p.return)u=w,p=E;else{for(var T=!1,se=w.child;se;){if(se===u){T=!0,u=w,p=E;break}if(se===p){T=!0,p=w,u=E;break}se=se.sibling}if(!T){for(se=E.child;se;){if(se===u){T=!0,u=E,p=w;break}if(se===p){T=!0,p=E,u=w;break}se=se.sibling}if(!T)throw Error(r(189))}}if(u.alternate!==p)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:s}function df(i){return i=qm(i),i!==null?ff(i):null}function ff(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=ff(i);if(s!==null)return s;i=i.sibling}return null}var hf=e.unstable_scheduleCallback,Zu=e.unstable_cancelCallback,Cm=e.unstable_shouldYield,Om=e.unstable_requestPaint,Ur=e.unstable_now,Im=e.unstable_getCurrentPriorityLevel,Xu=e.unstable_ImmediatePriority,pf=e.unstable_UserBlockingPriority,El=e.unstable_NormalPriority,Rm=e.unstable_LowPriority,mf=e.unstable_IdlePriority,Nl=null,Ai=null;function Am(i){if(Ai&&typeof Ai.onCommitFiberRoot=="function")try{Ai.onCommitFiberRoot(Nl,i,void 0,(i.current.flags&128)===128)}catch{}}var Kn=Math.clz32?Math.clz32:Fm,Tm=Math.log,Pm=Math.LN2;function Fm(i){return i>>>=0,i===0?32:31-(Tm(i)/Pm|0)|0}var Ao=64,kl=4194304;function Gi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return i&0x7c00000;case 0x8000000:return 0x8000000;case 0x10000000:return 0x10000000;case 0x20000000:return 0x20000000;case 0x40000000:return 0x40000000;default:return i}}function ql(i,s){var u=i.pendingLanes;if(u===0)return 0;var p=0,w=i.suspendedLanes,E=i.pingedLanes,T=u&0xfffffff;if(T!==0){var se=T&~w;se!==0?p=Gi(se):(E&=T,E!==0&&(p=Gi(E)))}else T=u&~w,T!==0?p=Gi(T):E!==0&&(p=Gi(E));if(p===0)return 0;if(s!==0&&s!==p&&!(s&w)&&(w=p&-p,E=s&-s,w>=E||w===16&&(E&4194240)!==0))return s;if(p&4&&(p|=u&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=p;0<s;)u=31-Kn(s),w=1<<u,p|=i[u],s&=~w;return p}function jm(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return-1;case 0x8000000:case 0x10000000:case 0x20000000:case 0x40000000:return-1;default:return-1}}function Lm(i,s){for(var u=i.suspendedLanes,p=i.pingedLanes,w=i.expirationTimes,E=i.pendingLanes;0<E;){var T=31-Kn(E),se=1<<T,de=w[T];de===-1?(!(se&u)||se&p)&&(w[T]=jm(se,s)):de<=s&&(i.expiredLanes|=se),E&=~se}}function Yu(i){return i=i.pendingLanes&-0x40000001,i!==0?i:i&0x40000000?0x40000000:0}function yf(){var i=Ao;return Ao<<=1,!(Ao&4194240)&&(Ao=64),i}function ec(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function Ia(i,s,u){i.pendingLanes|=s,s!==0x20000000&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-Kn(s),i[s]=u}function Dm(i,s){var u=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var p=i.eventTimes;for(i=i.expirationTimes;0<u;){var w=31-Kn(u),E=1<<w;s[w]=0,p[w]=-1,i[w]=-1,u&=~E}}function tc(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var p=31-Kn(u),w=1<<p;w&s|i[p]&s&&(i[p]|=s),u&=~w}}var yr=0;function gf(i){return i&=-i,1<i?4<i?i&0xfffffff?16:0x20000000:4:1}var rc,ee,nc,Ra,ic,d=!1,f=[],_=null,b=null,S=null,k=new Map,X=new Map,te=[],Le="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ue(i,s){switch(i){case"focusin":case"focusout":_=null;break;case"dragenter":case"dragleave":b=null;break;case"mouseover":case"mouseout":S=null;break;case"pointerover":case"pointerout":k.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":X.delete(s.pointerId)}}function Je(i,s,u,p,w,E){return i===null||i.nativeEvent!==E?(i={blockedOn:s,domEventName:u,eventSystemFlags:p,nativeEvent:E,targetContainers:[w]},s!==null&&(s=mc(s),s!==null&&ee(s)),i):(i.eventSystemFlags|=p,s=i.targetContainers,w!==null&&s.indexOf(w)===-1&&s.push(w),i)}function rt(i,s,u,p,w){switch(s){case"focusin":return _=Je(_,i,s,u,p,w),!0;case"dragenter":return b=Je(b,i,s,u,p,w),!0;case"mouseover":return S=Je(S,i,s,u,p,w),!0;case"pointerover":var E=w.pointerId;return k.set(E,Je(k.get(E)||null,i,s,u,p,w)),!0;case"gotpointercapture":return E=w.pointerId,X.set(E,Je(X.get(E)||null,i,s,u,p,w)),!0}return!1}function Ae(i){var s=Aa(i.target);if(s!==null){var u=$s(s);if(u!==null){if(s=u.tag,s===13){if(s=uf(u),s!==null){i.blockedOn=s,ic(i.priority,function(){nc(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function we(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var u=K(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var p=new u.constructor(u.type,u);Hu=p,u.target.dispatchEvent(p),Hu=null}else return s=mc(u),s!==null&&ee(s),i.blockedOn=u,!1;s.shift()}return!0}function ze(i,s,u){we(i)&&u.delete(s)}function ae(){d=!1,_!==null&&we(_)&&(_=null),b!==null&&we(b)&&(b=null),S!==null&&we(S)&&(S=null),k.forEach(ze),X.forEach(ze)}function he(i,s){i.blockedOn===s&&(i.blockedOn=null,d||(d=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ae)))}function _e(i){function s(w){return he(w,i)}if(0<f.length){he(f[0],i);for(var u=1;u<f.length;u++){var p=f[u];p.blockedOn===i&&(p.blockedOn=null)}}for(_!==null&&he(_,i),b!==null&&he(b,i),S!==null&&he(S,i),k.forEach(s),X.forEach(s),u=0;u<te.length;u++)p=te[u],p.blockedOn===i&&(p.blockedOn=null);for(;0<te.length&&(u=te[0],u.blockedOn===null);)Ae(u),u.blockedOn===null&&te.shift()}var We=U.ReactCurrentBatchConfig,Be=!0;function be(i,s,u,p){var w=yr,E=We.transition;We.transition=null;try{yr=1,ht(i,s,u,p)}finally{yr=w,We.transition=E}}function Me(i,s,u,p){var w=yr,E=We.transition;We.transition=null;try{yr=4,ht(i,s,u,p)}finally{yr=w,We.transition=E}}function ht(i,s,u,p){if(Be){var w=K(i,s,u,p);if(w===null)Xm(i,s,p,F,u),Ue(i,p);else if(rt(w,i,s,u,p))p.stopPropagation();else if(Ue(i,p),s&4&&-1<Le.indexOf(i)){for(;w!==null;){var E=mc(w);if(E!==null&&rc(E),E=K(i,s,u,p),E===null&&Xm(i,s,p,F,u),E===w)break;w=E}w!==null&&p.stopPropagation()}else Xm(i,s,p,null,u)}}var F=null;function K(i,s,u,p){if(F=null,i=Qu(p),i=Aa(i),i!==null)if(s=$s(i),s===null)i=null;else if(u=s.tag,u===13){if(i=uf(s),i!==null)return i;i=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return F=i,null}function fe(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Im()){case Xu:return 1;case pf:return 4;case El:case Rm:return 16;case mf:return 0x20000000;default:return 16}default:return 16}}var Qe=null,z=null,Y=null;function I(){if(Y)return Y;var i,s=z,u=s.length,p,w="value"in Qe?Qe.value:Qe.textContent,E=w.length;for(i=0;i<u&&s[i]===w[i];i++);var T=u-i;for(p=1;p<=T&&s[u-p]===w[E-p];p++);return Y=w.slice(i,1<p?1-p:void 0)}function L(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function W(){return!0}function qe(){return!1}function He(i){function s(u,p,w,E,T){this._reactName=u,this._targetInst=w,this.type=p,this.nativeEvent=E,this.target=T,this.currentTarget=null;for(var se in i)i.hasOwnProperty(se)&&(u=i[se],this[se]=u?u(E):E[se]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?W:qe,this.isPropagationStopped=qe,this}return Ee(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=W)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=W)},persist:function(){},isPersistent:W}),s}var St={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ft=He(St),Bt=Ee({},St,{view:0,detail:0}),Ze=He(Bt),ue,Ne,Ke,et=Ee({},Bt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ke&&(Ke&&i.type==="mousemove"?(ue=i.screenX-Ke.screenX,Ne=i.screenY-Ke.screenY):Ne=ue=0,Ke=i),ue)},movementY:function(i){return"movementY"in i?i.movementY:Ne}}),It=He(et),Wt=Ee({},et,{dataTransfer:0}),Se=He(Wt),Ve=Ee({},Bt,{relatedTarget:0}),Xe=He(Ve),bt=Ee({},St,{animationName:0,elapsedTime:0,pseudoElement:0}),ut=He(bt),Pt=Ee({},St,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Yt=He(Pt),Et=Ee({},St,{data:0}),Vr=He(Et),Pe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},st={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ct={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wt(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=ct[i])?!!s[i]:!1}function tr(){return wt}var xr=Ee({},Bt,{key:function(i){if(i.key){var s=Pe[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=L(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?st[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tr,charCode:function(i){return i.type==="keypress"?L(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?L(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),gr=He(xr),br=Ee({},et,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zs=He(br),bn=Ee({},Bt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tr}),Mm=He(bn),Bm=Ee({},St,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ti=He(Bm),Wm=Ee({},et,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),vf=He(Wm),sc=[9,13,27,32],$m=c&&"CompositionEvent"in window,oc=null;c&&"documentMode"in document&&(oc=document.documentMode);var eq=c&&"TextEvent"in window&&!oc,Vb=c&&(!$m||oc&&8<oc&&11>=oc),Hb=" ",Qb=!1;function Kb(i,s){switch(i){case"keyup":return sc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gb(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Cl=!1;function tq(i,s){switch(i){case"compositionend":return Gb(s);case"keypress":return s.which!==32?null:(Qb=!0,Hb);case"textInput":return i=s.data,i===Hb&&Qb?null:i;default:return null}}function rq(i,s){if(Cl)return i==="compositionend"||!$m&&Kb(i,s)?(i=I(),Y=z=Qe=null,Cl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Vb&&s.locale!=="ko"?null:s.data;default:return null}}var nq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jb(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!nq[i.type]:s==="textarea"}function Zb(i,s,u,p){Xt(p),s=Sf(s,"onChange"),0<s.length&&(u=new Ft("onChange","change",null,u,p),i.push({event:u,listeners:s}))}var ac=null,lc=null;function iq(i){mw(i,0)}function _f(i){var s=Tl(i);if(Ot(s))return i}function sq(i,s){if(i==="change")return s}var Xb=!1;if(c){var zm;if(c){var Um="oninput"in document;if(!Um){var Yb=document.createElement("div");Yb.setAttribute("oninput","return;"),Um=typeof Yb.oninput=="function"}zm=Um}else zm=!1;Xb=zm&&(!document.documentMode||9<document.documentMode)}function ew(){ac&&(ac.detachEvent("onpropertychange",tw),lc=ac=null)}function tw(i){if(i.propertyName==="value"&&_f(lc)){var s=[];Zb(s,lc,i,Qu(i)),qa(iq,s)}}function oq(i,s,u){i==="focusin"?(ew(),ac=s,lc=u,ac.attachEvent("onpropertychange",tw)):i==="focusout"&&ew()}function aq(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return _f(lc)}function lq(i,s){if(i==="click")return _f(s)}function uq(i,s){if(i==="input"||i==="change")return _f(s)}function cq(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Ji=typeof Object.is=="function"?Object.is:cq;function uc(i,s){if(Ji(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),p=Object.keys(s);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var w=u[p];if(!h.call(s,w)||!Ji(i[w],s[w]))return!1}return!0}function rw(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function nw(i,s){var u=rw(i);i=0;for(var p;u;){if(u.nodeType===3){if(p=i+u.textContent.length,i<=s&&p>=s)return{node:u,offset:s-i};i=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=rw(u)}}function iw(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?iw(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function sw(){for(var i=window,s=qt();s instanceof i.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)i=s.contentWindow;else break;s=qt(i.document)}return s}function Vm(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function dq(i){var s=sw(),u=i.focusedElem,p=i.selectionRange;if(s!==u&&u&&u.ownerDocument&&iw(u.ownerDocument.documentElement,u)){if(p!==null&&Vm(u)){if(s=p.start,i=p.end,i===void 0&&(i=s),"selectionStart"in u)u.selectionStart=s,u.selectionEnd=Math.min(i,u.value.length);else if(i=(s=u.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var w=u.textContent.length,E=Math.min(p.start,w);p=p.end===void 0?E:Math.min(p.end,w),!i.extend&&E>p&&(w=p,p=E,E=w),w=nw(u,E);var T=nw(u,p);w&&T&&(i.rangeCount!==1||i.anchorNode!==w.node||i.anchorOffset!==w.offset||i.focusNode!==T.node||i.focusOffset!==T.offset)&&(s=s.createRange(),s.setStart(w.node,w.offset),i.removeAllRanges(),E>p?(i.addRange(s),i.extend(T.node,T.offset)):(s.setEnd(T.node,T.offset),i.addRange(s)))}}for(s=[],i=u;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<s.length;u++)i=s[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var fq=c&&"documentMode"in document&&11>=document.documentMode,Ol=null,Hm=null,cc=null,Qm=!1;function ow(i,s,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Qm||Ol==null||Ol!==qt(p)||(p=Ol,"selectionStart"in p&&Vm(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),cc&&uc(cc,p)||(cc=p,p=Sf(Hm,"onSelect"),0<p.length&&(s=new Ft("onSelect","select",null,s,u),i.push({event:s,listeners:p}),s.target=Ol)))}function bf(i,s){var u={};return u[i.toLowerCase()]=s.toLowerCase(),u["Webkit"+i]="webkit"+s,u["Moz"+i]="moz"+s,u}var Il={animationend:bf("Animation","AnimationEnd"),animationiteration:bf("Animation","AnimationIteration"),animationstart:bf("Animation","AnimationStart"),transitionend:bf("Transition","TransitionEnd")},Km={},aw={};c&&(aw=document.createElement("div").style,"AnimationEvent"in window||(delete Il.animationend.animation,delete Il.animationiteration.animation,delete Il.animationstart.animation),"TransitionEvent"in window||delete Il.transitionend.transition);function wf(i){if(Km[i])return Km[i];if(!Il[i])return i;var s=Il[i],u;for(u in s)if(s.hasOwnProperty(u)&&u in aw)return Km[i]=s[u];return i}var lw=wf("animationend"),uw=wf("animationiteration"),cw=wf("animationstart"),dw=wf("transitionend"),fw=new Map,hw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function To(i,s){fw.set(i,s),a(s,[i])}for(var Gm=0;Gm<hw.length;Gm++){var Jm=hw[Gm],hq=Jm.toLowerCase(),pq=Jm[0].toUpperCase()+Jm.slice(1);To(hq,"on"+pq)}To(lw,"onAnimationEnd"),To(uw,"onAnimationIteration"),To(cw,"onAnimationStart"),To("dblclick","onDoubleClick"),To("focusin","onFocus"),To("focusout","onBlur"),To(dw,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mq=new Set("cancel close invalid load scroll toggle".split(" ").concat(dc));function pw(i,s,u){var p=i.type||"unknown-event";i.currentTarget=u,km(p,s,void 0,i),i.currentTarget=null}function mw(i,s){s=(s&4)!==0;for(var u=0;u<i.length;u++){var p=i[u],w=p.event;p=p.listeners;e:{var E=void 0;if(s)for(var T=p.length-1;0<=T;T--){var se=p[T],de=se.instance,je=se.currentTarget;if(se=se.listener,de!==E&&w.isPropagationStopped())break e;pw(w,se,je),E=de}else for(T=0;T<p.length;T++){if(se=p[T],de=se.instance,je=se.currentTarget,se=se.listener,de!==E&&w.isPropagationStopped())break e;pw(w,se,je),E=de}}}if(Sl)throw i=_s,Sl=!1,_s=null,i}function Fr(i,s){var u=s[iy];u===void 0&&(u=s[iy]=new Set);var p=i+"__bubble";u.has(p)||(yw(s,i,2,!1),u.add(p))}function Zm(i,s,u){var p=0;s&&(p|=4),yw(u,i,p,s)}var xf="_reactListening"+Math.random().toString(36).slice(2);function fc(i){if(!i[xf]){i[xf]=!0,n.forEach(function(u){u!=="selectionchange"&&(mq.has(u)||Zm(u,!1,i),Zm(u,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[xf]||(s[xf]=!0,Zm("selectionchange",!1,s))}}function yw(i,s,u,p){switch(fe(s)){case 1:var w=be;break;case 4:w=Me;break;default:w=ht}u=w.bind(null,s,u,i),w=void 0,!Ju||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(w=!0),p?w!==void 0?i.addEventListener(s,u,{capture:!0,passive:w}):i.addEventListener(s,u,!0):w!==void 0?i.addEventListener(s,u,{passive:w}):i.addEventListener(s,u,!1)}function Xm(i,s,u,p,w){var E=p;if(!(s&1)&&!(s&2)&&p!==null)e:for(;;){if(p===null)return;var T=p.tag;if(T===3||T===4){var se=p.stateNode.containerInfo;if(se===w||se.nodeType===8&&se.parentNode===w)break;if(T===4)for(T=p.return;T!==null;){var de=T.tag;if((de===3||de===4)&&(de=T.stateNode.containerInfo,de===w||de.nodeType===8&&de.parentNode===w))return;T=T.return}for(;se!==null;){if(T=Aa(se),T===null)return;if(de=T.tag,de===5||de===6){p=E=T;continue e}se=se.parentNode}}p=p.return}qa(function(){var je=E,tt=Qu(u),nt=[];e:{var Ye=fw.get(i);if(Ye!==void 0){var Nt=Ft,At=i;switch(i){case"keypress":if(L(u)===0)break e;case"keydown":case"keyup":Nt=gr;break;case"focusin":At="focus",Nt=Xe;break;case"focusout":At="blur",Nt=Xe;break;case"beforeblur":case"afterblur":Nt=Xe;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Nt=It;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Nt=Se;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Nt=Mm;break;case lw:case uw:case cw:Nt=ut;break;case dw:Nt=Ti;break;case"scroll":Nt=Ze;break;case"wheel":Nt=vf;break;case"copy":case"cut":case"paste":Nt=Yt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Nt=zs}var jt=(s&4)!==0,en=!jt&&i==="scroll",ke=jt?Ye!==null?Ye+"Capture":null:Ye;jt=[];for(var ge=je,Re;ge!==null;){Re=ge;var ot=Re.stateNode;if(Re.tag===5&&ot!==null&&(Re=ot,ke!==null&&(ot=Ri(ge,ke),ot!=null&&jt.push(hc(ge,ot,Re)))),en)break;ge=ge.return}0<jt.length&&(Ye=new Nt(Ye,At,null,u,tt),nt.push({event:Ye,listeners:jt}))}}if(!(s&7)){e:{if(Ye=i==="mouseover"||i==="pointerover",Nt=i==="mouseout"||i==="pointerout",Ye&&u!==Hu&&(At=u.relatedTarget||u.fromElement)&&(Aa(At)||At[Us]))break e;if((Nt||Ye)&&(Ye=tt.window===tt?tt:(Ye=tt.ownerDocument)?Ye.defaultView||Ye.parentWindow:window,Nt?(At=u.relatedTarget||u.toElement,Nt=je,At=At?Aa(At):null,At!==null&&(en=$s(At),At!==en||At.tag!==5&&At.tag!==6)&&(At=null)):(Nt=null,At=je),Nt!==At)){if(jt=It,ot="onMouseLeave",ke="onMouseEnter",ge="mouse",(i==="pointerout"||i==="pointerover")&&(jt=zs,ot="onPointerLeave",ke="onPointerEnter",ge="pointer"),en=Nt==null?Ye:Tl(Nt),Re=At==null?Ye:Tl(At),Ye=new jt(ot,ge+"leave",Nt,u,tt),Ye.target=en,Ye.relatedTarget=Re,ot=null,Aa(tt)===je&&(jt=new jt(ke,ge+"enter",At,u,tt),jt.target=Re,jt.relatedTarget=en,ot=jt),en=ot,Nt&&At)t:{for(jt=Nt,ke=At,ge=0,Re=jt;Re;Re=Rl(Re))ge++;for(Re=0,ot=ke;ot;ot=Rl(ot))Re++;for(;0<ge-Re;)jt=Rl(jt),ge--;for(;0<Re-ge;)ke=Rl(ke),Re--;for(;ge--;){if(jt===ke||ke!==null&&jt===ke.alternate)break t;jt=Rl(jt),ke=Rl(ke)}jt=null}else jt=null;Nt!==null&&gw(nt,Ye,Nt,jt,!1),At!==null&&en!==null&&gw(nt,en,At,jt,!0)}}e:{if(Ye=je?Tl(je):window,Nt=Ye.nodeName&&Ye.nodeName.toLowerCase(),Nt==="select"||Nt==="input"&&Ye.type==="file")var Lt=sq;else if(Jb(Ye))if(Xb)Lt=uq;else{Lt=aq;var $t=oq}else(Nt=Ye.nodeName)&&Nt.toLowerCase()==="input"&&(Ye.type==="checkbox"||Ye.type==="radio")&&(Lt=lq);if(Lt&&(Lt=Lt(i,je))){Zb(nt,Lt,u,tt);break e}$t&&$t(i,Ye,je),i==="focusout"&&($t=Ye._wrapperState)&&$t.controlled&&Ye.type==="number"&&le(Ye,"number",Ye.value)}switch($t=je?Tl(je):window,i){case"focusin":(Jb($t)||$t.contentEditable==="true")&&(Ol=$t,Hm=je,cc=null);break;case"focusout":cc=Hm=Ol=null;break;case"mousedown":Qm=!0;break;case"contextmenu":case"mouseup":case"dragend":Qm=!1,ow(nt,u,tt);break;case"selectionchange":if(fq)break;case"keydown":case"keyup":ow(nt,u,tt)}var zt;if($m)e:{switch(i){case"compositionstart":var Kt="onCompositionStart";break e;case"compositionend":Kt="onCompositionEnd";break e;case"compositionupdate":Kt="onCompositionUpdate";break e}Kt=void 0}else Cl?Kb(i,u)&&(Kt="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Kt="onCompositionStart");Kt&&(Vb&&u.locale!=="ko"&&(Cl||Kt!=="onCompositionStart"?Kt==="onCompositionEnd"&&Cl&&(zt=I()):(Qe=tt,z="value"in Qe?Qe.value:Qe.textContent,Cl=!0)),$t=Sf(je,Kt),0<$t.length&&(Kt=new Vr(Kt,i,null,u,tt),nt.push({event:Kt,listeners:$t}),zt?Kt.data=zt:(zt=Gb(u),zt!==null&&(Kt.data=zt)))),(zt=eq?tq(i,u):rq(i,u))&&(je=Sf(je,"onBeforeInput"),0<je.length&&(tt=new Vr("onBeforeInput","beforeinput",null,u,tt),nt.push({event:tt,listeners:je}),tt.data=zt))}mw(nt,s)})}function hc(i,s,u){return{instance:i,listener:s,currentTarget:u}}function Sf(i,s){for(var u=s+"Capture",p=[];i!==null;){var w=i,E=w.stateNode;w.tag===5&&E!==null&&(w=E,E=Ri(i,u),E!=null&&p.unshift(hc(i,E,w)),E=Ri(i,s),E!=null&&p.push(hc(i,E,w))),i=i.return}return p}function Rl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function gw(i,s,u,p,w){for(var E=s._reactName,T=[];u!==null&&u!==p;){var se=u,de=se.alternate,je=se.stateNode;if(de!==null&&de===p)break;se.tag===5&&je!==null&&(se=je,w?(de=Ri(u,E),de!=null&&T.unshift(hc(u,de,se))):w||(de=Ri(u,E),de!=null&&T.push(hc(u,de,se)))),u=u.return}T.length!==0&&i.push({event:s,listeners:T})}var yq=/\r\n?/g,gq=/\u0000|\uFFFD/g;function vw(i){return(typeof i=="string"?i:""+i).replace(yq,`
`).replace(gq,"")}function Ef(i,s,u){if(s=vw(s),vw(i)!==s&&u)throw Error(r(425))}function Nf(){}var Ym=null,ey=null;function ty(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ry=typeof setTimeout=="function"?setTimeout:void 0,vq=typeof clearTimeout=="function"?clearTimeout:void 0,_w=typeof Promise=="function"?Promise:void 0,_q=typeof queueMicrotask=="function"?queueMicrotask:typeof _w<"u"?function(i){return _w.resolve(null).then(i).catch(bq)}:ry;function bq(i){setTimeout(function(){throw i})}function ny(i,s){var u=s,p=0;do{var w=u.nextSibling;if(i.removeChild(u),w&&w.nodeType===8)if(u=w.data,u==="/$"){if(p===0){i.removeChild(w),_e(s);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=w}while(u);_e(s)}function Po(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function bw(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return i;s--}else u==="/$"&&s++}i=i.previousSibling}return null}var Al=Math.random().toString(36).slice(2),bs="__reactFiber$"+Al,pc="__reactProps$"+Al,Us="__reactContainer$"+Al,iy="__reactEvents$"+Al,wq="__reactListeners$"+Al,xq="__reactHandles$"+Al;function Aa(i){var s=i[bs];if(s)return s;for(var u=i.parentNode;u;){if(s=u[Us]||u[bs]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(i=bw(i);i!==null;){if(u=i[bs])return u;i=bw(i)}return s}i=u,u=i.parentNode}return null}function mc(i){return i=i[bs]||i[Us],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Tl(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(r(33))}function kf(i){return i[pc]||null}var sy=[],Pl=-1;function Fo(i){return{current:i}}function jr(i){0>Pl||(i.current=sy[Pl],sy[Pl]=null,Pl--)}function Rr(i,s){Pl++,sy[Pl]=i.current,i.current=s}var jo={},qn=Fo(jo),Gn=Fo(!1),Ta=jo;function Fl(i,s){var u=i.type.contextTypes;if(!u)return jo;var p=i.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===s)return p.__reactInternalMemoizedMaskedChildContext;var w={},E;for(E in u)w[E]=s[E];return p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=w),w}function Jn(i){return i=i.childContextTypes,i!=null}function qf(){jr(Gn),jr(qn)}function ww(i,s,u){if(qn.current!==jo)throw Error(r(168));Rr(qn,s),Rr(Gn,u)}function xw(i,s,u){var p=i.stateNode;if(s=s.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var w in p)if(!(w in s))throw Error(r(108,ft(i)||"Unknown",w));return Ee({},u,p)}function Cf(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||jo,Ta=qn.current,Rr(qn,i),Rr(Gn,Gn.current),!0}function Sw(i,s,u){var p=i.stateNode;if(!p)throw Error(r(169));u?(i=xw(i,s,Ta),p.__reactInternalMemoizedMergedChildContext=i,jr(Gn),jr(qn),Rr(qn,i)):jr(Gn),Rr(Gn,u)}var Vs=null,Of=!1,oy=!1;function Ew(i){Vs===null?Vs=[i]:Vs.push(i)}function Sq(i){Of=!0,Ew(i)}function Lo(){if(!oy&&Vs!==null){oy=!0;var i=0,s=yr;try{var u=Vs;for(yr=1;i<u.length;i++){var p=u[i];do p=p(!0);while(p!==null)}Vs=null,Of=!1}catch(w){throw Vs!==null&&(Vs=Vs.slice(i+1)),hf(Xu,Lo),w}finally{yr=s,oy=!1}}return null}var jl=[],Ll=0,If=null,Rf=0,Pi=[],Fi=0,Pa=null,Hs=1,Qs="";function Fa(i,s){jl[Ll++]=Rf,jl[Ll++]=If,If=i,Rf=s}function Nw(i,s,u){Pi[Fi++]=Hs,Pi[Fi++]=Qs,Pi[Fi++]=Pa,Pa=i;var p=Hs;i=Qs;var w=32-Kn(p)-1;p&=~(1<<w),u+=1;var E=32-Kn(s)+w;if(30<E){var T=w-w%5;E=(p&(1<<T)-1).toString(32),p>>=T,w-=T,Hs=1<<32-Kn(s)+w|u<<w|p,Qs=E+i}else Hs=1<<E|u<<w|p,Qs=i}function ay(i){i.return!==null&&(Fa(i,1),Nw(i,1,0))}function ly(i){for(;i===If;)If=jl[--Ll],jl[Ll]=null,Rf=jl[--Ll],jl[Ll]=null;for(;i===Pa;)Pa=Pi[--Fi],Pi[Fi]=null,Qs=Pi[--Fi],Pi[Fi]=null,Hs=Pi[--Fi],Pi[Fi]=null}var pi=null,mi=null,Dr=!1,Zi=null;function kw(i,s){var u=Mi(5,null,null,0);u.elementType="DELETED",u.stateNode=s,u.return=i,s=i.deletions,s===null?(i.deletions=[u],i.flags|=16):s.push(u)}function qw(i,s){switch(i.tag){case 5:var u=i.type;return s=s.nodeType!==1||u.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,pi=i,mi=Po(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,pi=i,mi=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(u=Pa!==null?{id:Hs,overflow:Qs}:null,i.memoizedState={dehydrated:s,treeContext:u,retryLane:0x40000000},u=Mi(18,null,null,0),u.stateNode=s,u.return=i,i.child=u,pi=i,mi=null,!0):!1;default:return!1}}function uy(i){return(i.mode&1)!==0&&(i.flags&128)===0}function cy(i){if(Dr){var s=mi;if(s){var u=s;if(!qw(i,s)){if(uy(i))throw Error(r(418));s=Po(u.nextSibling);var p=pi;s&&qw(i,s)?kw(p,u):(i.flags=i.flags&-4097|2,Dr=!1,pi=i)}}else{if(uy(i))throw Error(r(418));i.flags=i.flags&-4097|2,Dr=!1,pi=i}}}function Cw(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;pi=i}function Af(i){if(i!==pi)return!1;if(!Dr)return Cw(i),Dr=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!ty(i.type,i.memoizedProps)),s&&(s=mi)){if(uy(i))throw Ow(),Error(r(418));for(;s;)kw(i,s),s=Po(s.nextSibling)}if(Cw(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(s===0){mi=Po(i.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++}i=i.nextSibling}mi=null}}else mi=pi?Po(i.stateNode.nextSibling):null;return!0}function Ow(){for(var i=mi;i;)i=Po(i.nextSibling)}function Dl(){mi=pi=null,Dr=!1}function dy(i){Zi===null?Zi=[i]:Zi.push(i)}var Eq=U.ReactCurrentBatchConfig;function yc(i,s,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(r(309));var p=u.stateNode}if(!p)throw Error(r(147,i));var w=p,E=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===E?s.ref:(s=function(T){var se=w.refs;T===null?delete se[E]:se[E]=T},s._stringRef=E,s)}if(typeof i!="string")throw Error(r(284));if(!u._owner)throw Error(r(290,i))}return i}function Tf(i,s){throw i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function Iw(i){var s=i._init;return s(i._payload)}function Rw(i){function s(ke,ge){if(i){var Re=ke.deletions;Re===null?(ke.deletions=[ge],ke.flags|=16):Re.push(ge)}}function u(ke,ge){if(!i)return null;for(;ge!==null;)s(ke,ge),ge=ge.sibling;return null}function p(ke,ge){for(ke=new Map;ge!==null;)ge.key!==null?ke.set(ge.key,ge):ke.set(ge.index,ge),ge=ge.sibling;return ke}function w(ke,ge){return ke=Vo(ke,ge),ke.index=0,ke.sibling=null,ke}function E(ke,ge,Re){return ke.index=Re,i?(Re=ke.alternate,Re!==null?(Re=Re.index,Re<ge?(ke.flags|=2,ge):Re):(ke.flags|=2,ge)):(ke.flags|=1048576,ge)}function T(ke){return i&&ke.alternate===null&&(ke.flags|=2),ke}function se(ke,ge,Re,ot){return ge===null||ge.tag!==6?(ge=rg(Re,ke.mode,ot),ge.return=ke,ge):(ge=w(ge,Re),ge.return=ke,ge)}function de(ke,ge,Re,ot){var Lt=Re.type;return Lt===J?tt(ke,ge,Re.props.children,ot,Re.key):ge!==null&&(ge.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===Ce&&Iw(Lt)===ge.type)?(ot=w(ge,Re.props),ot.ref=yc(ke,ge,Re),ot.return=ke,ot):(ot=nh(Re.type,Re.key,Re.props,null,ke.mode,ot),ot.ref=yc(ke,ge,Re),ot.return=ke,ot)}function je(ke,ge,Re,ot){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==Re.containerInfo||ge.stateNode.implementation!==Re.implementation?(ge=ng(Re,ke.mode,ot),ge.return=ke,ge):(ge=w(ge,Re.children||[]),ge.return=ke,ge)}function tt(ke,ge,Re,ot,Lt){return ge===null||ge.tag!==7?(ge=za(Re,ke.mode,ot,Lt),ge.return=ke,ge):(ge=w(ge,Re),ge.return=ke,ge)}function nt(ke,ge,Re){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return ge=rg(""+ge,ke.mode,Re),ge.return=ke,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case G:return Re=nh(ge.type,ge.key,ge.props,null,ke.mode,Re),Re.ref=yc(ke,null,ge),Re.return=ke,Re;case B:return ge=ng(ge,ke.mode,Re),ge.return=ke,ge;case Ce:var ot=ge._init;return nt(ke,ot(ge._payload),Re)}if(ye(ge)||me(ge))return ge=za(ge,ke.mode,Re,null),ge.return=ke,ge;Tf(ke,ge)}return null}function Ye(ke,ge,Re,ot){var Lt=ge!==null?ge.key:null;if(typeof Re=="string"&&Re!==""||typeof Re=="number")return Lt!==null?null:se(ke,ge,""+Re,ot);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case G:return Re.key===Lt?de(ke,ge,Re,ot):null;case B:return Re.key===Lt?je(ke,ge,Re,ot):null;case Ce:return Lt=Re._init,Ye(ke,ge,Lt(Re._payload),ot)}if(ye(Re)||me(Re))return Lt!==null?null:tt(ke,ge,Re,ot,null);Tf(ke,Re)}return null}function Nt(ke,ge,Re,ot,Lt){if(typeof ot=="string"&&ot!==""||typeof ot=="number")return ke=ke.get(Re)||null,se(ge,ke,""+ot,Lt);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case G:return ke=ke.get(ot.key===null?Re:ot.key)||null,de(ge,ke,ot,Lt);case B:return ke=ke.get(ot.key===null?Re:ot.key)||null,je(ge,ke,ot,Lt);case Ce:var $t=ot._init;return Nt(ke,ge,Re,$t(ot._payload),Lt)}if(ye(ot)||me(ot))return ke=ke.get(Re)||null,tt(ge,ke,ot,Lt,null);Tf(ge,ot)}return null}function At(ke,ge,Re,ot){for(var Lt=null,$t=null,zt=ge,Kt=ge=0,yn=null;zt!==null&&Kt<Re.length;Kt++){zt.index>Kt?(yn=zt,zt=null):yn=zt.sibling;var pr=Ye(ke,zt,Re[Kt],ot);if(pr===null){zt===null&&(zt=yn);break}i&&zt&&pr.alternate===null&&s(ke,zt),ge=E(pr,ge,Kt),$t===null?Lt=pr:$t.sibling=pr,$t=pr,zt=yn}if(Kt===Re.length)return u(ke,zt),Dr&&Fa(ke,Kt),Lt;if(zt===null){for(;Kt<Re.length;Kt++)zt=nt(ke,Re[Kt],ot),zt!==null&&(ge=E(zt,ge,Kt),$t===null?Lt=zt:$t.sibling=zt,$t=zt);return Dr&&Fa(ke,Kt),Lt}for(zt=p(ke,zt);Kt<Re.length;Kt++)yn=Nt(zt,ke,Kt,Re[Kt],ot),yn!==null&&(i&&yn.alternate!==null&&zt.delete(yn.key===null?Kt:yn.key),ge=E(yn,ge,Kt),$t===null?Lt=yn:$t.sibling=yn,$t=yn);return i&&zt.forEach(function(Ho){return s(ke,Ho)}),Dr&&Fa(ke,Kt),Lt}function jt(ke,ge,Re,ot){var Lt=me(Re);if(typeof Lt!="function")throw Error(r(150));if(Re=Lt.call(Re),Re==null)throw Error(r(151));for(var $t=Lt=null,zt=ge,Kt=ge=0,yn=null,pr=Re.next();zt!==null&&!pr.done;Kt++,pr=Re.next()){zt.index>Kt?(yn=zt,zt=null):yn=zt.sibling;var Ho=Ye(ke,zt,pr.value,ot);if(Ho===null){zt===null&&(zt=yn);break}i&&zt&&Ho.alternate===null&&s(ke,zt),ge=E(Ho,ge,Kt),$t===null?Lt=Ho:$t.sibling=Ho,$t=Ho,zt=yn}if(pr.done)return u(ke,zt),Dr&&Fa(ke,Kt),Lt;if(zt===null){for(;!pr.done;Kt++,pr=Re.next())pr=nt(ke,pr.value,ot),pr!==null&&(ge=E(pr,ge,Kt),$t===null?Lt=pr:$t.sibling=pr,$t=pr);return Dr&&Fa(ke,Kt),Lt}for(zt=p(ke,zt);!pr.done;Kt++,pr=Re.next())pr=Nt(zt,ke,Kt,pr.value,ot),pr!==null&&(i&&pr.alternate!==null&&zt.delete(pr.key===null?Kt:pr.key),ge=E(pr,ge,Kt),$t===null?Lt=pr:$t.sibling=pr,$t=pr);return i&&zt.forEach(function(nC){return s(ke,nC)}),Dr&&Fa(ke,Kt),Lt}function en(ke,ge,Re,ot){if(typeof Re=="object"&&Re!==null&&Re.type===J&&Re.key===null&&(Re=Re.props.children),typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case G:e:{for(var Lt=Re.key,$t=ge;$t!==null;){if($t.key===Lt){if(Lt=Re.type,Lt===J){if($t.tag===7){u(ke,$t.sibling),ge=w($t,Re.props.children),ge.return=ke,ke=ge;break e}}else if($t.elementType===Lt||typeof Lt=="object"&&Lt!==null&&Lt.$$typeof===Ce&&Iw(Lt)===$t.type){u(ke,$t.sibling),ge=w($t,Re.props),ge.ref=yc(ke,$t,Re),ge.return=ke,ke=ge;break e}u(ke,$t);break}else s(ke,$t);$t=$t.sibling}Re.type===J?(ge=za(Re.props.children,ke.mode,ot,Re.key),ge.return=ke,ke=ge):(ot=nh(Re.type,Re.key,Re.props,null,ke.mode,ot),ot.ref=yc(ke,ge,Re),ot.return=ke,ke=ot)}return T(ke);case B:e:{for($t=Re.key;ge!==null;){if(ge.key===$t)if(ge.tag===4&&ge.stateNode.containerInfo===Re.containerInfo&&ge.stateNode.implementation===Re.implementation){u(ke,ge.sibling),ge=w(ge,Re.children||[]),ge.return=ke,ke=ge;break e}else{u(ke,ge);break}else s(ke,ge);ge=ge.sibling}ge=ng(Re,ke.mode,ot),ge.return=ke,ke=ge}return T(ke);case Ce:return $t=Re._init,en(ke,ge,$t(Re._payload),ot)}if(ye(Re))return At(ke,ge,Re,ot);if(me(Re))return jt(ke,ge,Re,ot);Tf(ke,Re)}return typeof Re=="string"&&Re!==""||typeof Re=="number"?(Re=""+Re,ge!==null&&ge.tag===6?(u(ke,ge.sibling),ge=w(ge,Re),ge.return=ke,ke=ge):(u(ke,ge),ge=rg(Re,ke.mode,ot),ge.return=ke,ke=ge),T(ke)):u(ke,ge)}return en}var Ml=Rw(!0),Aw=Rw(!1),Pf=Fo(null),Ff=null,Bl=null,fy=null;function hy(){fy=Bl=Ff=null}function py(i){var s=Pf.current;jr(Pf),i._currentValue=s}function my(i,s,u){for(;i!==null;){var p=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,p!==null&&(p.childLanes|=s)):p!==null&&(p.childLanes&s)!==s&&(p.childLanes|=s),i===u)break;i=i.return}}function Wl(i,s){Ff=i,fy=Bl=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(Zn=!0),i.firstContext=null)}function ji(i){var s=i._currentValue;if(fy!==i)if(i={context:i,memoizedValue:s,next:null},Bl===null){if(Ff===null)throw Error(r(308));Bl=i,Ff.dependencies={lanes:0,firstContext:i}}else Bl=Bl.next=i;return s}var ja=null;function yy(i){ja===null?ja=[i]:ja.push(i)}function Tw(i,s,u,p){var w=s.interleaved;return w===null?(u.next=u,yy(s)):(u.next=w.next,w.next=u),s.interleaved=u,Ks(i,p)}function Ks(i,s){i.lanes|=s;var u=i.alternate;for(u!==null&&(u.lanes|=s),u=i,i=i.return;i!==null;)i.childLanes|=s,u=i.alternate,u!==null&&(u.childLanes|=s),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Do=!1;function gy(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pw(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Gs(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function Mo(i,s,u){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,hr&2){var w=p.pending;return w===null?s.next=s:(s.next=w.next,w.next=s),p.pending=s,Ks(i,u)}return w=p.interleaved,w===null?(s.next=s,yy(p)):(s.next=w.next,w.next=s),p.interleaved=s,Ks(i,u)}function jf(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194240)!==0)){var p=s.lanes;p&=i.pendingLanes,u|=p,s.lanes=u,tc(i,u)}}function Fw(i,s){var u=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var w=null,E=null;if(u=u.firstBaseUpdate,u!==null){do{var T={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};E===null?w=E=T:E=E.next=T,u=u.next}while(u!==null);E===null?w=E=s:E=E.next=s}else w=E=s;u={baseState:p.baseState,firstBaseUpdate:w,lastBaseUpdate:E,shared:p.shared,effects:p.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}function Lf(i,s,u,p){var w=i.updateQueue;Do=!1;var E=w.firstBaseUpdate,T=w.lastBaseUpdate,se=w.shared.pending;if(se!==null){w.shared.pending=null;var de=se,je=de.next;de.next=null,T===null?E=je:T.next=je,T=de;var tt=i.alternate;tt!==null&&(tt=tt.updateQueue,se=tt.lastBaseUpdate,se!==T&&(se===null?tt.firstBaseUpdate=je:se.next=je,tt.lastBaseUpdate=de))}if(E!==null){var nt=w.baseState;T=0,tt=je=de=null,se=E;do{var Ye=se.lane,Nt=se.eventTime;if((p&Ye)===Ye){tt!==null&&(tt=tt.next={eventTime:Nt,lane:0,tag:se.tag,payload:se.payload,callback:se.callback,next:null});e:{var At=i,jt=se;switch(Ye=s,Nt=u,jt.tag){case 1:if(At=jt.payload,typeof At=="function"){nt=At.call(Nt,nt,Ye);break e}nt=At;break e;case 3:At.flags=At.flags&-65537|128;case 0:if(At=jt.payload,Ye=typeof At=="function"?At.call(Nt,nt,Ye):At,Ye==null)break e;nt=Ee({},nt,Ye);break e;case 2:Do=!0}}se.callback!==null&&se.lane!==0&&(i.flags|=64,Ye=w.effects,Ye===null?w.effects=[se]:Ye.push(se))}else Nt={eventTime:Nt,lane:Ye,tag:se.tag,payload:se.payload,callback:se.callback,next:null},tt===null?(je=tt=Nt,de=nt):tt=tt.next=Nt,T|=Ye;if(se=se.next,se===null){if(se=w.shared.pending,se===null)break;Ye=se,se=Ye.next,Ye.next=null,w.lastBaseUpdate=Ye,w.shared.pending=null}}while(!0);if(tt===null&&(de=nt),w.baseState=de,w.firstBaseUpdate=je,w.lastBaseUpdate=tt,s=w.shared.interleaved,s!==null){w=s;do T|=w.lane,w=w.next;while(w!==s)}else E===null&&(w.shared.lanes=0);Ma|=T,i.lanes=T,i.memoizedState=nt}}function jw(i,s,u){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var p=i[s],w=p.callback;if(w!==null){if(p.callback=null,p=u,typeof w!="function")throw Error(r(191,w));w.call(p)}}}var gc={},ws=Fo(gc),vc=Fo(gc),_c=Fo(gc);function La(i){if(i===gc)throw Error(r(174));return i}function vy(i,s){switch(Rr(_c,s),Rr(vc,i),Rr(ws,gc),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:cr(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=cr(s,i)}jr(ws),Rr(ws,s)}function $l(){jr(ws),jr(vc),jr(_c)}function Lw(i){La(_c.current);var s=La(ws.current),u=cr(s,i.type);s!==u&&(Rr(vc,i),Rr(ws,u))}function _y(i){vc.current===i&&(jr(ws),jr(vc))}var Hr=Fo(0);function Df(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var by=[];function wy(){for(var i=0;i<by.length;i++)by[i]._workInProgressVersionPrimary=null;by.length=0}var Mf=U.ReactCurrentDispatcher,xy=U.ReactCurrentBatchConfig,Da=0,Qr=null,cn=null,pn=null,Bf=!1,bc=!1,wc=0,Nq=0;function Cn(){throw Error(r(321))}function Sy(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!Ji(i[u],s[u]))return!1;return!0}function Ey(i,s,u,p,w,E){if(Da=E,Qr=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Mf.current=i===null||i.memoizedState===null?Oq:Iq,i=u(p,w),bc){E=0;do{if(bc=!1,wc=0,25<=E)throw Error(r(301));E+=1,pn=cn=null,s.updateQueue=null,Mf.current=Rq,i=u(p,w)}while(bc)}if(Mf.current=zf,s=cn!==null&&cn.next!==null,Da=0,pn=cn=Qr=null,Bf=!1,s)throw Error(r(300));return i}function Ny(){var i=wc!==0;return wc=0,i}function xs(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?Qr.memoizedState=pn=i:pn=pn.next=i,pn}function Li(){if(cn===null){var i=Qr.alternate;i=i!==null?i.memoizedState:null}else i=cn.next;var s=pn===null?Qr.memoizedState:pn.next;if(s!==null)pn=s,cn=i;else{if(i===null)throw Error(r(310));cn=i,i={memoizedState:cn.memoizedState,baseState:cn.baseState,baseQueue:cn.baseQueue,queue:cn.queue,next:null},pn===null?Qr.memoizedState=pn=i:pn=pn.next=i}return pn}function xc(i,s){return typeof s=="function"?s(i):s}function ky(i){var s=Li(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var p=cn,w=p.baseQueue,E=u.pending;if(E!==null){if(w!==null){var T=w.next;w.next=E.next,E.next=T}p.baseQueue=w=E,u.pending=null}if(w!==null){E=w.next,p=p.baseState;var se=T=null,de=null,je=E;do{var tt=je.lane;if((Da&tt)===tt)de!==null&&(de=de.next={lane:0,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null}),p=je.hasEagerState?je.eagerState:i(p,je.action);else{var nt={lane:tt,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null};de===null?(se=de=nt,T=p):de=de.next=nt,Qr.lanes|=tt,Ma|=tt}je=je.next}while(je!==null&&je!==E);de===null?T=p:de.next=se,Ji(p,s.memoizedState)||(Zn=!0),s.memoizedState=p,s.baseState=T,s.baseQueue=de,u.lastRenderedState=p}if(i=u.interleaved,i!==null){w=i;do E=w.lane,Qr.lanes|=E,Ma|=E,w=w.next;while(w!==i)}else w===null&&(u.lanes=0);return[s.memoizedState,u.dispatch]}function qy(i){var s=Li(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var p=u.dispatch,w=u.pending,E=s.memoizedState;if(w!==null){u.pending=null;var T=w=w.next;do E=i(E,T.action),T=T.next;while(T!==w);Ji(E,s.memoizedState)||(Zn=!0),s.memoizedState=E,s.baseQueue===null&&(s.baseState=E),u.lastRenderedState=E}return[E,p]}function Dw(){}function Mw(i,s){var u=Qr,p=Li(),w=s(),E=!Ji(p.memoizedState,w);if(E&&(p.memoizedState=w,Zn=!0),p=p.queue,Cy($w.bind(null,u,p,i),[i]),p.getSnapshot!==s||E||pn!==null&&pn.memoizedState.tag&1){if(u.flags|=2048,Sc(9,Ww.bind(null,u,p,w,s),void 0,null),mn===null)throw Error(r(349));Da&30||Bw(u,s,w)}return w}function Bw(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=Qr.updateQueue,s===null?(s={lastEffect:null,stores:null},Qr.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function Ww(i,s,u,p){s.value=u,s.getSnapshot=p,zw(s)&&Uw(i)}function $w(i,s,u){return u(function(){zw(s)&&Uw(i)})}function zw(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!Ji(i,u)}catch{return!0}}function Uw(i){var s=Ks(i,1);s!==null&&ts(s,i,1,-1)}function Vw(i){var s=xs();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xc,lastRenderedState:i},s.queue=i,i=i.dispatch=Cq.bind(null,Qr,i),[s.memoizedState,i]}function Sc(i,s,u,p){return i={tag:i,create:s,destroy:u,deps:p,next:null},s=Qr.updateQueue,s===null?(s={lastEffect:null,stores:null},Qr.updateQueue=s,s.lastEffect=i.next=i):(u=s.lastEffect,u===null?s.lastEffect=i.next=i:(p=u.next,u.next=i,i.next=p,s.lastEffect=i)),i}function Hw(){return Li().memoizedState}function Wf(i,s,u,p){var w=xs();Qr.flags|=i,w.memoizedState=Sc(1|s,u,void 0,p===void 0?null:p)}function $f(i,s,u,p){var w=Li();p=p===void 0?null:p;var E=void 0;if(cn!==null){var T=cn.memoizedState;if(E=T.destroy,p!==null&&Sy(p,T.deps)){w.memoizedState=Sc(s,u,E,p);return}}Qr.flags|=i,w.memoizedState=Sc(1|s,u,E,p)}function Qw(i,s){return Wf(8390656,8,i,s)}function Cy(i,s){return $f(2048,8,i,s)}function Kw(i,s){return $f(4,2,i,s)}function Gw(i,s){return $f(4,4,i,s)}function Jw(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Zw(i,s,u){return u=u!=null?u.concat([i]):null,$f(4,4,Jw.bind(null,s,i),u)}function Oy(){}function Xw(i,s){var u=Li();s=s===void 0?null:s;var p=u.memoizedState;return p!==null&&s!==null&&Sy(s,p[1])?p[0]:(u.memoizedState=[i,s],i)}function Yw(i,s){var u=Li();s=s===void 0?null:s;var p=u.memoizedState;return p!==null&&s!==null&&Sy(s,p[1])?p[0]:(i=i(),u.memoizedState=[i,s],i)}function e0(i,s,u){return Da&21?(Ji(u,s)||(u=yf(),Qr.lanes|=u,Ma|=u,i.baseState=!0),s):(i.baseState&&(i.baseState=!1,Zn=!0),i.memoizedState=u)}function kq(i,s){var u=yr;yr=u!==0&&4>u?u:4,i(!0);var p=xy.transition;xy.transition={};try{i(!1),s()}finally{yr=u,xy.transition=p}}function t0(){return Li().memoizedState}function qq(i,s,u){var p=zo(i);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},r0(i))n0(s,u);else if(u=Tw(i,s,u,p),u!==null){var w=Mn();ts(u,i,p,w),i0(u,s,p)}}function Cq(i,s,u){var p=zo(i),w={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(r0(i))n0(s,w);else{var E=i.alternate;if(i.lanes===0&&(E===null||E.lanes===0)&&(E=s.lastRenderedReducer,E!==null))try{var T=s.lastRenderedState,se=E(T,u);if(w.hasEagerState=!0,w.eagerState=se,Ji(se,T)){var de=s.interleaved;de===null?(w.next=w,yy(s)):(w.next=de.next,de.next=w),s.interleaved=w;return}}catch{}finally{}u=Tw(i,s,w,p),u!==null&&(w=Mn(),ts(u,i,p,w),i0(u,s,p))}}function r0(i){var s=i.alternate;return i===Qr||s!==null&&s===Qr}function n0(i,s){bc=Bf=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function i0(i,s,u){if(u&4194240){var p=s.lanes;p&=i.pendingLanes,u|=p,s.lanes=u,tc(i,u)}}var zf={readContext:ji,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useInsertionEffect:Cn,useLayoutEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useMutableSource:Cn,useSyncExternalStore:Cn,useId:Cn,unstable_isNewReconciler:!1},Oq={readContext:ji,useCallback:function(i,s){return xs().memoizedState=[i,s===void 0?null:s],i},useContext:ji,useEffect:Qw,useImperativeHandle:function(i,s,u){return u=u!=null?u.concat([i]):null,Wf(4194308,4,Jw.bind(null,s,i),u)},useLayoutEffect:function(i,s){return Wf(4194308,4,i,s)},useInsertionEffect:function(i,s){return Wf(4,2,i,s)},useMemo:function(i,s){var u=xs();return s=s===void 0?null:s,i=i(),u.memoizedState=[i,s],i},useReducer:function(i,s,u){var p=xs();return s=u!==void 0?u(s):s,p.memoizedState=p.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},p.queue=i,i=i.dispatch=qq.bind(null,Qr,i),[p.memoizedState,i]},useRef:function(i){var s=xs();return i={current:i},s.memoizedState=i},useState:Vw,useDebugValue:Oy,useDeferredValue:function(i){return xs().memoizedState=i},useTransition:function(){var i=Vw(!1),s=i[0];return i=kq.bind(null,i[1]),xs().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,u){var p=Qr,w=xs();if(Dr){if(u===void 0)throw Error(r(407));u=u()}else{if(u=s(),mn===null)throw Error(r(349));Da&30||Bw(p,s,u)}w.memoizedState=u;var E={value:u,getSnapshot:s};return w.queue=E,Qw($w.bind(null,p,E,i),[i]),p.flags|=2048,Sc(9,Ww.bind(null,p,E,u,s),void 0,null),u},useId:function(){var i=xs(),s=mn.identifierPrefix;if(Dr){var u=Qs,p=Hs;u=(p&~(1<<32-Kn(p)-1)).toString(32)+u,s=":"+s+"R"+u,u=wc++,0<u&&(s+="H"+u.toString(32)),s+=":"}else u=Nq++,s=":"+s+"r"+u.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},Iq={readContext:ji,useCallback:Xw,useContext:ji,useEffect:Cy,useImperativeHandle:Zw,useInsertionEffect:Kw,useLayoutEffect:Gw,useMemo:Yw,useReducer:ky,useRef:Hw,useState:function(){return ky(xc)},useDebugValue:Oy,useDeferredValue:function(i){var s=Li();return e0(s,cn.memoizedState,i)},useTransition:function(){var i=ky(xc)[0],s=Li().memoizedState;return[i,s]},useMutableSource:Dw,useSyncExternalStore:Mw,useId:t0,unstable_isNewReconciler:!1},Rq={readContext:ji,useCallback:Xw,useContext:ji,useEffect:Cy,useImperativeHandle:Zw,useInsertionEffect:Kw,useLayoutEffect:Gw,useMemo:Yw,useReducer:qy,useRef:Hw,useState:function(){return qy(xc)},useDebugValue:Oy,useDeferredValue:function(i){var s=Li();return cn===null?s.memoizedState=i:e0(s,cn.memoizedState,i)},useTransition:function(){var i=qy(xc)[0],s=Li().memoizedState;return[i,s]},useMutableSource:Dw,useSyncExternalStore:Mw,useId:t0,unstable_isNewReconciler:!1};function Xi(i,s){if(i&&i.defaultProps){s=Ee({},s),i=i.defaultProps;for(var u in i)s[u]===void 0&&(s[u]=i[u]);return s}return s}function Iy(i,s,u,p){s=i.memoizedState,u=u(p,s),u=u==null?s:Ee({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Uf={isMounted:function(i){return(i=i._reactInternals)?$s(i)===i:!1},enqueueSetState:function(i,s,u){i=i._reactInternals;var p=Mn(),w=zo(i),E=Gs(p,w);E.payload=s,u!=null&&(E.callback=u),s=Mo(i,E,w),s!==null&&(ts(s,i,w,p),jf(s,i,w))},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var p=Mn(),w=zo(i),E=Gs(p,w);E.tag=1,E.payload=s,u!=null&&(E.callback=u),s=Mo(i,E,w),s!==null&&(ts(s,i,w,p),jf(s,i,w))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=Mn(),p=zo(i),w=Gs(u,p);w.tag=2,s!=null&&(w.callback=s),s=Mo(i,w,p),s!==null&&(ts(s,i,p,u),jf(s,i,p))}};function s0(i,s,u,p,w,E,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,E,T):s.prototype&&s.prototype.isPureReactComponent?!uc(u,p)||!uc(w,E):!0}function o0(i,s,u){var p=!1,w=jo,E=s.contextType;return typeof E=="object"&&E!==null?E=ji(E):(w=Jn(s)?Ta:qn.current,p=s.contextTypes,E=(p=p!=null)?Fl(i,w):jo),s=new s(u,E),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Uf,i.stateNode=s,s._reactInternals=i,p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=w,i.__reactInternalMemoizedMaskedChildContext=E),s}function a0(i,s,u,p){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,p),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,p),s.state!==i&&Uf.enqueueReplaceState(s,s.state,null)}function Ry(i,s,u,p){var w=i.stateNode;w.props=u,w.state=i.memoizedState,w.refs={},gy(i);var E=s.contextType;typeof E=="object"&&E!==null?w.context=ji(E):(E=Jn(s)?Ta:qn.current,w.context=Fl(i,E)),w.state=i.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(Iy(i,s,E,u),w.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(s=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),s!==w.state&&Uf.enqueueReplaceState(w,w.state,null),Lf(i,u,w,p),w.state=i.memoizedState),typeof w.componentDidMount=="function"&&(i.flags|=4194308)}function zl(i,s){try{var u="",p=s;do u+=dt(p),p=p.return;while(p);var w=u}catch(E){w=`
Error generating stack: `+E.message+`
`+E.stack}return{value:i,source:s,stack:w,digest:null}}function Ay(i,s,u){return{value:i,source:null,stack:u??null,digest:s??null}}function Ty(i,s){try{console.error(s.value)}catch(u){setTimeout(function(){throw u})}}var Aq=typeof WeakMap=="function"?WeakMap:Map;function l0(i,s,u){u=Gs(-1,u),u.tag=3,u.payload={element:null};var p=s.value;return u.callback=function(){Zf||(Zf=!0,Ky=p),Ty(i,s)},u}function u0(i,s,u){u=Gs(-1,u),u.tag=3;var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var w=s.value;u.payload=function(){return p(w)},u.callback=function(){Ty(i,s)}}var E=i.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(u.callback=function(){Ty(i,s),typeof p!="function"&&(Wo===null?Wo=new Set([this]):Wo.add(this));var T=s.stack;this.componentDidCatch(s.value,{componentStack:T!==null?T:""})}),u}function c0(i,s,u){var p=i.pingCache;if(p===null){p=i.pingCache=new Aq;var w=new Set;p.set(s,w)}else w=p.get(s),w===void 0&&(w=new Set,p.set(s,w));w.has(u)||(w.add(u),i=Hq.bind(null,i,s,u),s.then(i,i))}function d0(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function f0(i,s,u,p,w){return i.mode&1?(i.flags|=65536,i.lanes=w,i):(i===s?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(s=Gs(-1,1),s.tag=2,Mo(u,s,1))),u.lanes|=1),i)}var Tq=U.ReactCurrentOwner,Zn=!1;function Dn(i,s,u,p){s.child=i===null?Aw(s,null,u,p):Ml(s,i.child,u,p)}function h0(i,s,u,p,w){u=u.render;var E=s.ref;return Wl(s,w),p=Ey(i,s,u,p,E,w),u=Ny(),i!==null&&!Zn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~w,Js(i,s,w)):(Dr&&u&&ay(s),s.flags|=1,Dn(i,s,p,w),s.child)}function p0(i,s,u,p,w){if(i===null){var E=u.type;return typeof E=="function"&&!tg(E)&&E.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(s.tag=15,s.type=E,m0(i,s,E,p,w)):(i=nh(u.type,null,p,s,s.mode,w),i.ref=s.ref,i.return=s,s.child=i)}if(E=i.child,!(i.lanes&w)){var T=E.memoizedProps;if(u=u.compare,u=u!==null?u:uc,u(T,p)&&i.ref===s.ref)return Js(i,s,w)}return s.flags|=1,i=Vo(E,p),i.ref=s.ref,i.return=s,s.child=i}function m0(i,s,u,p,w){if(i!==null){var E=i.memoizedProps;if(uc(E,p)&&i.ref===s.ref)if(Zn=!1,s.pendingProps=p=E,(i.lanes&w)!==0)i.flags&131072&&(Zn=!0);else return s.lanes=i.lanes,Js(i,s,w)}return Py(i,s,u,p,w)}function y0(i,s,u){var p=s.pendingProps,w=p.children,E=i!==null?i.memoizedState:null;if(p.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rr(Vl,yi),yi|=u;else{if(!(u&0x40000000))return i=E!==null?E.baseLanes|u:u,s.lanes=s.childLanes=0x40000000,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,Rr(Vl,yi),yi|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=E!==null?E.baseLanes:u,Rr(Vl,yi),yi|=p}else E!==null?(p=E.baseLanes|u,s.memoizedState=null):p=u,Rr(Vl,yi),yi|=p;return Dn(i,s,w,u),s.child}function g0(i,s){var u=s.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(s.flags|=512,s.flags|=2097152)}function Py(i,s,u,p,w){var E=Jn(u)?Ta:qn.current;return E=Fl(s,E),Wl(s,w),u=Ey(i,s,u,p,E,w),p=Ny(),i!==null&&!Zn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~w,Js(i,s,w)):(Dr&&p&&ay(s),s.flags|=1,Dn(i,s,u,w),s.child)}function v0(i,s,u,p,w){if(Jn(u)){var E=!0;Cf(s)}else E=!1;if(Wl(s,w),s.stateNode===null)Hf(i,s),o0(s,u,p),Ry(s,u,p,w),p=!0;else if(i===null){var T=s.stateNode,se=s.memoizedProps;T.props=se;var de=T.context,je=u.contextType;typeof je=="object"&&je!==null?je=ji(je):(je=Jn(u)?Ta:qn.current,je=Fl(s,je));var tt=u.getDerivedStateFromProps,nt=typeof tt=="function"||typeof T.getSnapshotBeforeUpdate=="function";nt||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(se!==p||de!==je)&&a0(s,T,p,je),Do=!1;var Ye=s.memoizedState;T.state=Ye,Lf(s,p,T,w),de=s.memoizedState,se!==p||Ye!==de||Gn.current||Do?(typeof tt=="function"&&(Iy(s,u,tt,p),de=s.memoizedState),(se=Do||s0(s,u,se,p,Ye,de,je))?(nt||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(s.flags|=4194308)):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=p,s.memoizedState=de),T.props=p,T.state=de,T.context=je,p=se):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),p=!1)}else{T=s.stateNode,Pw(i,s),se=s.memoizedProps,je=s.type===s.elementType?se:Xi(s.type,se),T.props=je,nt=s.pendingProps,Ye=T.context,de=u.contextType,typeof de=="object"&&de!==null?de=ji(de):(de=Jn(u)?Ta:qn.current,de=Fl(s,de));var Nt=u.getDerivedStateFromProps;(tt=typeof Nt=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(se!==nt||Ye!==de)&&a0(s,T,p,de),Do=!1,Ye=s.memoizedState,T.state=Ye,Lf(s,p,T,w);var At=s.memoizedState;se!==nt||Ye!==At||Gn.current||Do?(typeof Nt=="function"&&(Iy(s,u,Nt,p),At=s.memoizedState),(je=Do||s0(s,u,je,p,Ye,At,de)||!1)?(tt||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(p,At,de),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(p,At,de)),typeof T.componentDidUpdate=="function"&&(s.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof T.componentDidUpdate!="function"||se===i.memoizedProps&&Ye===i.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||se===i.memoizedProps&&Ye===i.memoizedState||(s.flags|=1024),s.memoizedProps=p,s.memoizedState=At),T.props=p,T.state=At,T.context=de,p=je):(typeof T.componentDidUpdate!="function"||se===i.memoizedProps&&Ye===i.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||se===i.memoizedProps&&Ye===i.memoizedState||(s.flags|=1024),p=!1)}return Fy(i,s,u,p,E,w)}function Fy(i,s,u,p,w,E){g0(i,s);var T=(s.flags&128)!==0;if(!p&&!T)return w&&Sw(s,u,!1),Js(i,s,E);p=s.stateNode,Tq.current=s;var se=T&&typeof u.getDerivedStateFromError!="function"?null:p.render();return s.flags|=1,i!==null&&T?(s.child=Ml(s,i.child,null,E),s.child=Ml(s,null,se,E)):Dn(i,s,se,E),s.memoizedState=p.state,w&&Sw(s,u,!0),s.child}function _0(i){var s=i.stateNode;s.pendingContext?ww(i,s.pendingContext,s.pendingContext!==s.context):s.context&&ww(i,s.context,!1),vy(i,s.containerInfo)}function b0(i,s,u,p,w){return Dl(),dy(w),s.flags|=256,Dn(i,s,u,p),s.child}var jy={dehydrated:null,treeContext:null,retryLane:0};function Ly(i){return{baseLanes:i,cachePool:null,transitions:null}}function w0(i,s,u){var p=s.pendingProps,w=Hr.current,E=!1,T=(s.flags&128)!==0,se;if((se=T)||(se=i!==null&&i.memoizedState===null?!1:(w&2)!==0),se?(E=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(w|=1),Rr(Hr,w&1),i===null)return cy(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?i.data==="$!"?s.lanes=8:s.lanes=0x40000000:s.lanes=1,null):(T=p.children,i=p.fallback,E?(p=s.mode,E=s.child,T={mode:"hidden",children:T},!(p&1)&&E!==null?(E.childLanes=0,E.pendingProps=T):E=ih(T,p,0,null),i=za(i,p,u,null),E.return=s,i.return=s,E.sibling=i,s.child=E,s.child.memoizedState=Ly(u),s.memoizedState=jy,i):Dy(s,T));if(w=i.memoizedState,w!==null&&(se=w.dehydrated,se!==null))return Pq(i,s,T,p,se,w,u);if(E){E=p.fallback,T=s.mode,w=i.child,se=w.sibling;var de={mode:"hidden",children:p.children};return!(T&1)&&s.child!==w?(p=s.child,p.childLanes=0,p.pendingProps=de,s.deletions=null):(p=Vo(w,de),p.subtreeFlags=w.subtreeFlags&0xe00000),se!==null?E=Vo(se,E):(E=za(E,T,u,null),E.flags|=2),E.return=s,p.return=s,p.sibling=E,s.child=p,p=E,E=s.child,T=i.child.memoizedState,T=T===null?Ly(u):{baseLanes:T.baseLanes|u,cachePool:null,transitions:T.transitions},E.memoizedState=T,E.childLanes=i.childLanes&~u,s.memoizedState=jy,p}return E=i.child,i=E.sibling,p=Vo(E,{mode:"visible",children:p.children}),!(s.mode&1)&&(p.lanes=u),p.return=s,p.sibling=null,i!==null&&(u=s.deletions,u===null?(s.deletions=[i],s.flags|=16):u.push(i)),s.child=p,s.memoizedState=null,p}function Dy(i,s){return s=ih({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function Vf(i,s,u,p){return p!==null&&dy(p),Ml(s,i.child,null,u),i=Dy(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Pq(i,s,u,p,w,E,T){if(u)return s.flags&256?(s.flags&=-257,p=Ay(Error(r(422))),Vf(i,s,T,p)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(E=p.fallback,w=s.mode,p=ih({mode:"visible",children:p.children},w,0,null),E=za(E,w,T,null),E.flags|=2,p.return=s,E.return=s,p.sibling=E,s.child=p,s.mode&1&&Ml(s,i.child,null,T),s.child.memoizedState=Ly(T),s.memoizedState=jy,E);if(!(s.mode&1))return Vf(i,s,T,null);if(w.data==="$!"){if(p=w.nextSibling&&w.nextSibling.dataset,p)var se=p.dgst;return p=se,E=Error(r(419)),p=Ay(E,p,void 0),Vf(i,s,T,p)}if(se=(T&i.childLanes)!==0,Zn||se){if(p=mn,p!==null){switch(T&-T){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:w=32;break;case 0x20000000:w=0x10000000;break;default:w=0}w=w&(p.suspendedLanes|T)?0:w,w!==0&&w!==E.retryLane&&(E.retryLane=w,Ks(i,w),ts(p,i,w,-1))}return eg(),p=Ay(Error(r(421))),Vf(i,s,T,p)}return w.data==="$?"?(s.flags|=128,s.child=i.child,s=Qq.bind(null,i),w._reactRetry=s,null):(i=E.treeContext,mi=Po(w.nextSibling),pi=s,Dr=!0,Zi=null,i!==null&&(Pi[Fi++]=Hs,Pi[Fi++]=Qs,Pi[Fi++]=Pa,Hs=i.id,Qs=i.overflow,Pa=s),s=Dy(s,p.children),s.flags|=4096,s)}function x0(i,s,u){i.lanes|=s;var p=i.alternate;p!==null&&(p.lanes|=s),my(i.return,s,u)}function My(i,s,u,p,w){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:w}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=p,E.tail=u,E.tailMode=w)}function S0(i,s,u){var p=s.pendingProps,w=p.revealOrder,E=p.tail;if(Dn(i,s,p.children,u),p=Hr.current,p&2)p=p&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&x0(i,u,s);else if(i.tag===19)x0(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}if(Rr(Hr,p),!(s.mode&1))s.memoizedState=null;else switch(w){case"forwards":for(u=s.child,w=null;u!==null;)i=u.alternate,i!==null&&Df(i)===null&&(w=u),u=u.sibling;u=w,u===null?(w=s.child,s.child=null):(w=u.sibling,u.sibling=null),My(s,!1,w,u,E);break;case"backwards":for(u=null,w=s.child,s.child=null;w!==null;){if(i=w.alternate,i!==null&&Df(i)===null){s.child=w;break}i=w.sibling,w.sibling=u,u=w,w=i}My(s,!0,u,null,E);break;case"together":My(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Hf(i,s){!(s.mode&1)&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function Js(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),Ma|=s.lanes,!(u&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,u=Vo(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=Vo(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function Fq(i,s,u){switch(s.tag){case 3:_0(s),Dl();break;case 5:Lw(s);break;case 1:Jn(s.type)&&Cf(s);break;case 4:vy(s,s.stateNode.containerInfo);break;case 10:var p=s.type._context,w=s.memoizedProps.value;Rr(Pf,p._currentValue),p._currentValue=w;break;case 13:if(p=s.memoizedState,p!==null)return p.dehydrated!==null?(Rr(Hr,Hr.current&1),s.flags|=128,null):u&s.child.childLanes?w0(i,s,u):(Rr(Hr,Hr.current&1),i=Js(i,s,u),i!==null?i.sibling:null);Rr(Hr,Hr.current&1);break;case 19:if(p=(u&s.childLanes)!==0,i.flags&128){if(p)return S0(i,s,u);s.flags|=128}if(w=s.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),Rr(Hr,Hr.current),p)break;return null;case 22:case 23:return s.lanes=0,y0(i,s,u)}return Js(i,s,u)}var E0,By,N0,k0;E0=function(i,s){for(var u=s.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},By=function(){},N0=function(i,s,u,p){var w=i.memoizedProps;if(w!==p){i=s.stateNode,La(ws.current);var E=null;switch(u){case"input":w=Jt(i,w),p=Jt(i,p),E=[];break;case"select":w=Ee({},w,{value:void 0}),p=Ee({},p,{value:void 0}),E=[];break;case"textarea":w=De(i,w),p=De(i,p),E=[];break;default:typeof w.onClick!="function"&&typeof p.onClick=="function"&&(i.onclick=Nf)}Io(u,p);var T;u=null;for(je in w)if(!p.hasOwnProperty(je)&&w.hasOwnProperty(je)&&w[je]!=null)if(je==="style"){var se=w[je];for(T in se)se.hasOwnProperty(T)&&(u||(u={}),u[T]="")}else je!=="dangerouslySetInnerHTML"&&je!=="children"&&je!=="suppressContentEditableWarning"&&je!=="suppressHydrationWarning"&&je!=="autoFocus"&&(o.hasOwnProperty(je)?E||(E=[]):(E=E||[]).push(je,null));for(je in p){var de=p[je];if(se=w?.[je],p.hasOwnProperty(je)&&de!==se&&(de!=null||se!=null))if(je==="style")if(se){for(T in se)!se.hasOwnProperty(T)||de&&de.hasOwnProperty(T)||(u||(u={}),u[T]="");for(T in de)de.hasOwnProperty(T)&&se[T]!==de[T]&&(u||(u={}),u[T]=de[T])}else u||(E||(E=[]),E.push(je,u)),u=de;else je==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,se=se?se.__html:void 0,de!=null&&se!==de&&(E=E||[]).push(je,de)):je==="children"?typeof de!="string"&&typeof de!="number"||(E=E||[]).push(je,""+de):je!=="suppressContentEditableWarning"&&je!=="suppressHydrationWarning"&&(o.hasOwnProperty(je)?(de!=null&&je==="onScroll"&&Fr("scroll",i),E||se===de||(E=[])):(E=E||[]).push(je,de))}u&&(E=E||[]).push("style",u);var je=E;(s.updateQueue=je)&&(s.flags|=4)}},k0=function(i,s,u,p){u!==p&&(s.flags|=4)};function Ec(i,s){if(!Dr)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function On(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,p=0;if(s)for(var w=i.child;w!==null;)u|=w.lanes|w.childLanes,p|=w.subtreeFlags&0xe00000,p|=w.flags&0xe00000,w.return=i,w=w.sibling;else for(w=i.child;w!==null;)u|=w.lanes|w.childLanes,p|=w.subtreeFlags,p|=w.flags,w.return=i,w=w.sibling;return i.subtreeFlags|=p,i.childLanes=u,s}function jq(i,s,u){var p=s.pendingProps;switch(ly(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return On(s),null;case 1:return Jn(s.type)&&qf(),On(s),null;case 3:return p=s.stateNode,$l(),jr(Gn),jr(qn),wy(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&(Af(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Zi!==null&&(Zy(Zi),Zi=null))),By(i,s),On(s),null;case 5:_y(s);var w=La(_c.current);if(u=s.type,i!==null&&s.stateNode!=null)N0(i,s,u,p,w),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!p){if(s.stateNode===null)throw Error(r(166));return On(s),null}if(i=La(ws.current),Af(s)){p=s.stateNode,u=s.type;var E=s.memoizedProps;switch(p[bs]=s,p[pc]=E,i=(s.mode&1)!==0,u){case"dialog":Fr("cancel",p),Fr("close",p);break;case"iframe":case"object":case"embed":Fr("load",p);break;case"video":case"audio":for(w=0;w<dc.length;w++)Fr(dc[w],p);break;case"source":Fr("error",p);break;case"img":case"image":case"link":Fr("error",p),Fr("load",p);break;case"details":Fr("toggle",p);break;case"input":Gt(p,E),Fr("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!E.multiple},Fr("invalid",p);break;case"textarea":Ge(p,E),Fr("invalid",p)}Io(u,E),w=null;for(var T in E)if(E.hasOwnProperty(T)){var se=E[T];T==="children"?typeof se=="string"?p.textContent!==se&&(E.suppressHydrationWarning!==!0&&Ef(p.textContent,se,i),w=["children",se]):typeof se=="number"&&p.textContent!==""+se&&(E.suppressHydrationWarning!==!0&&Ef(p.textContent,se,i),w=["children",""+se]):o.hasOwnProperty(T)&&se!=null&&T==="onScroll"&&Fr("scroll",p)}switch(u){case"input":yt(p),oe(p,E,!0);break;case"textarea":yt(p),Mt(p);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(p.onclick=Nf)}p=w,s.updateQueue=p,p!==null&&(s.flags|=4)}else{T=w.nodeType===9?w:w.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=mr(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=T.createElement("div"),i.innerHTML="<script></script>",i=i.removeChild(i.firstChild)):typeof p.is=="string"?i=T.createElement(u,{is:p.is}):(i=T.createElement(u),u==="select"&&(T=i,p.multiple?T.multiple=!0:p.size&&(T.size=p.size))):i=T.createElementNS(i,u),i[bs]=s,i[pc]=p,E0(i,s,!1,!1),s.stateNode=i;e:{switch(T=Ro(u,p),u){case"dialog":Fr("cancel",i),Fr("close",i),w=p;break;case"iframe":case"object":case"embed":Fr("load",i),w=p;break;case"video":case"audio":for(w=0;w<dc.length;w++)Fr(dc[w],i);w=p;break;case"source":Fr("error",i),w=p;break;case"img":case"image":case"link":Fr("error",i),Fr("load",i),w=p;break;case"details":Fr("toggle",i),w=p;break;case"input":Gt(i,p),w=Jt(i,p),Fr("invalid",i);break;case"option":w=p;break;case"select":i._wrapperState={wasMultiple:!!p.multiple},w=Ee({},p,{value:void 0}),Fr("invalid",i);break;case"textarea":Ge(i,p),w=De(i,p),Fr("invalid",i);break;default:w=p}Io(u,w),se=w;for(E in se)if(se.hasOwnProperty(E)){var de=se[E];E==="style"?Ut(i,de):E==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,de!=null&&Ln(i,de)):E==="children"?typeof de=="string"?(u!=="textarea"||de!=="")&&Zr(i,de):typeof de=="number"&&Zr(i,""+de):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(o.hasOwnProperty(E)?de!=null&&E==="onScroll"&&Fr("scroll",i):de!=null&&$(i,E,de,T))}switch(u){case"input":yt(i),oe(i,p,!1);break;case"textarea":yt(i),Mt(i);break;case"option":p.value!=null&&i.setAttribute("value",""+gt(p.value));break;case"select":i.multiple=!!p.multiple,E=p.value,E!=null?Ie(i,!!p.multiple,E,!1):p.defaultValue!=null&&Ie(i,!!p.multiple,p.defaultValue,!0);break;default:typeof w.onClick=="function"&&(i.onclick=Nf)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return On(s),null;case 6:if(i&&s.stateNode!=null)k0(i,s,i.memoizedProps,p);else{if(typeof p!="string"&&s.stateNode===null)throw Error(r(166));if(u=La(_c.current),La(ws.current),Af(s)){if(p=s.stateNode,u=s.memoizedProps,p[bs]=s,(E=p.nodeValue!==u)&&(i=pi,i!==null))switch(i.tag){case 3:Ef(p.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Ef(p.nodeValue,u,(i.mode&1)!==0)}E&&(s.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[bs]=s,s.stateNode=p}return On(s),null;case 13:if(jr(Hr),p=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Dr&&mi!==null&&s.mode&1&&!(s.flags&128))Ow(),Dl(),s.flags|=98560,E=!1;else if(E=Af(s),p!==null&&p.dehydrated!==null){if(i===null){if(!E)throw Error(r(318));if(E=s.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[bs]=s}else Dl(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;On(s),E=!1}else Zi!==null&&(Zy(Zi),Zi=null),E=!0;if(!E)return s.flags&65536?s:null}return s.flags&128?(s.lanes=u,s):(p=p!==null,p!==(i!==null&&i.memoizedState!==null)&&p&&(s.child.flags|=8192,s.mode&1&&(i===null||Hr.current&1?dn===0&&(dn=3):eg())),s.updateQueue!==null&&(s.flags|=4),On(s),null);case 4:return $l(),By(i,s),i===null&&fc(s.stateNode.containerInfo),On(s),null;case 10:return py(s.type._context),On(s),null;case 17:return Jn(s.type)&&qf(),On(s),null;case 19:if(jr(Hr),E=s.memoizedState,E===null)return On(s),null;if(p=(s.flags&128)!==0,T=E.rendering,T===null)if(p)Ec(E,!1);else{if(dn!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(T=Df(i),T!==null){for(s.flags|=128,Ec(E,!1),p=T.updateQueue,p!==null&&(s.updateQueue=p,s.flags|=4),s.subtreeFlags=0,p=u,u=s.child;u!==null;)E=u,i=p,E.flags&=0xe00002,T=E.alternate,T===null?(E.childLanes=0,E.lanes=i,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=T.childLanes,E.lanes=T.lanes,E.child=T.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=T.memoizedProps,E.memoizedState=T.memoizedState,E.updateQueue=T.updateQueue,E.type=T.type,i=T.dependencies,E.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Rr(Hr,Hr.current&1|2),s.child}i=i.sibling}E.tail!==null&&Ur()>Hl&&(s.flags|=128,p=!0,Ec(E,!1),s.lanes=4194304)}else{if(!p)if(i=Df(T),i!==null){if(s.flags|=128,p=!0,u=i.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),Ec(E,!0),E.tail===null&&E.tailMode==="hidden"&&!T.alternate&&!Dr)return On(s),null}else 2*Ur()-E.renderingStartTime>Hl&&u!==0x40000000&&(s.flags|=128,p=!0,Ec(E,!1),s.lanes=4194304);E.isBackwards?(T.sibling=s.child,s.child=T):(u=E.last,u!==null?u.sibling=T:s.child=T,E.last=T)}return E.tail!==null?(s=E.tail,E.rendering=s,E.tail=s.sibling,E.renderingStartTime=Ur(),s.sibling=null,u=Hr.current,Rr(Hr,p?u&1|2:u&1),s):(On(s),null);case 22:case 23:return Yy(),p=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(s.flags|=8192),p&&s.mode&1?yi&0x40000000&&(On(s),s.subtreeFlags&6&&(s.flags|=8192)):On(s),null;case 24:return null;case 25:return null}throw Error(r(156,s.tag))}function Lq(i,s){switch(ly(s),s.tag){case 1:return Jn(s.type)&&qf(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return $l(),jr(Gn),jr(qn),wy(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return _y(s),null;case 13:if(jr(Hr),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Dl()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return jr(Hr),null;case 4:return $l(),null;case 10:return py(s.type._context),null;case 22:case 23:return Yy(),null;case 24:return null;default:return null}}var Qf=!1,In=!1,Dq=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function Ul(i,s){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){Xr(i,s,p)}else u.current=null}function Wy(i,s,u){try{u()}catch(p){Xr(i,s,p)}}var q0=!1;function Mq(i,s){if(Ym=Be,i=sw(),Vm(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var w=p.anchorOffset,E=p.focusNode;p=p.focusOffset;try{u.nodeType,E.nodeType}catch{u=null;break e}var T=0,se=-1,de=-1,je=0,tt=0,nt=i,Ye=null;t:for(;;){for(var Nt;nt!==u||w!==0&&nt.nodeType!==3||(se=T+w),nt!==E||p!==0&&nt.nodeType!==3||(de=T+p),nt.nodeType===3&&(T+=nt.nodeValue.length),(Nt=nt.firstChild)!==null;)Ye=nt,nt=Nt;for(;;){if(nt===i)break t;if(Ye===u&&++je===w&&(se=T),Ye===E&&++tt===p&&(de=T),(Nt=nt.nextSibling)!==null)break;nt=Ye,Ye=nt.parentNode}nt=Nt}u=se===-1||de===-1?null:{start:se,end:de}}else u=null}u=u||{start:0,end:0}}else u=null;for(ey={focusedElem:i,selectionRange:u},Be=!1,Rt=s;Rt!==null;)if(s=Rt,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Rt=i;else for(;Rt!==null;){s=Rt;try{var At=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(At!==null){var jt=At.memoizedProps,en=At.memoizedState,ke=s.stateNode,ge=ke.getSnapshotBeforeUpdate(s.elementType===s.type?jt:Xi(s.type,jt),en);ke.__reactInternalSnapshotBeforeUpdate=ge}break;case 3:var Re=s.stateNode.containerInfo;Re.nodeType===1?Re.textContent="":Re.nodeType===9&&Re.documentElement&&Re.removeChild(Re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ot){Xr(s,s.return,ot)}if(i=s.sibling,i!==null){i.return=s.return,Rt=i;break}Rt=s.return}return At=q0,q0=!1,At}function Nc(i,s,u){var p=s.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var w=p=p.next;do{if((w.tag&i)===i){var E=w.destroy;w.destroy=void 0,E!==void 0&&Wy(s,u,E)}w=w.next}while(w!==p)}}function Kf(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&i)===i){var p=u.create;u.destroy=p()}u=u.next}while(u!==s)}}function $y(i){var s=i.ref;if(s!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof s=="function"?s(i):s.current=i}}function C0(i){var s=i.alternate;s!==null&&(i.alternate=null,C0(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[bs],delete s[pc],delete s[iy],delete s[wq],delete s[xq])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function O0(i){return i.tag===5||i.tag===3||i.tag===4}function I0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||O0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function zy(i,s,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,s?u.nodeType===8?u.parentNode.insertBefore(i,s):u.insertBefore(i,s):(u.nodeType===8?(s=u.parentNode,s.insertBefore(i,u)):(s=u,s.appendChild(i)),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=Nf));else if(p!==4&&(i=i.child,i!==null))for(zy(i,s,u),i=i.sibling;i!==null;)zy(i,s,u),i=i.sibling}function Uy(i,s,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,s?u.insertBefore(i,s):u.appendChild(i);else if(p!==4&&(i=i.child,i!==null))for(Uy(i,s,u),i=i.sibling;i!==null;)Uy(i,s,u),i=i.sibling}var wn=null,Yi=!1;function Bo(i,s,u){for(u=u.child;u!==null;)R0(i,s,u),u=u.sibling}function R0(i,s,u){if(Ai&&typeof Ai.onCommitFiberUnmount=="function")try{Ai.onCommitFiberUnmount(Nl,u)}catch{}switch(u.tag){case 5:In||Ul(u,s);case 6:var p=wn,w=Yi;wn=null,Bo(i,s,u),wn=p,Yi=w,wn!==null&&(Yi?(i=wn,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):wn.removeChild(u.stateNode));break;case 18:wn!==null&&(Yi?(i=wn,u=u.stateNode,i.nodeType===8?ny(i.parentNode,u):i.nodeType===1&&ny(i,u),_e(i)):ny(wn,u.stateNode));break;case 4:p=wn,w=Yi,wn=u.stateNode.containerInfo,Yi=!0,Bo(i,s,u),wn=p,Yi=w;break;case 0:case 11:case 14:case 15:if(!In&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){w=p=p.next;do{var E=w,T=E.destroy;E=E.tag,T!==void 0&&(E&2||E&4)&&Wy(u,s,T),w=w.next}while(w!==p)}Bo(i,s,u);break;case 1:if(!In&&(Ul(u,s),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch(se){Xr(u,s,se)}Bo(i,s,u);break;case 21:Bo(i,s,u);break;case 22:u.mode&1?(In=(p=In)||u.memoizedState!==null,Bo(i,s,u),In=p):Bo(i,s,u);break;default:Bo(i,s,u)}}function A0(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new Dq),s.forEach(function(p){var w=Kq.bind(null,i,p);u.has(p)||(u.add(p),p.then(w,w))})}}function es(i,s){var u=s.deletions;if(u!==null)for(var p=0;p<u.length;p++){var w=u[p];try{var E=i,T=s,se=T;e:for(;se!==null;){switch(se.tag){case 5:wn=se.stateNode,Yi=!1;break e;case 3:wn=se.stateNode.containerInfo,Yi=!0;break e;case 4:wn=se.stateNode.containerInfo,Yi=!0;break e}se=se.return}if(wn===null)throw Error(r(160));R0(E,T,w),wn=null,Yi=!1;var de=w.alternate;de!==null&&(de.return=null),w.return=null}catch(je){Xr(w,s,je)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)T0(s,i),s=s.sibling}function T0(i,s){var u=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(es(s,i),Ss(i),p&4){try{Nc(3,i,i.return),Kf(3,i)}catch(jt){Xr(i,i.return,jt)}try{Nc(5,i,i.return)}catch(jt){Xr(i,i.return,jt)}}break;case 1:es(s,i),Ss(i),p&512&&u!==null&&Ul(u,u.return);break;case 5:if(es(s,i),Ss(i),p&512&&u!==null&&Ul(u,u.return),i.flags&32){var w=i.stateNode;try{Zr(w,"")}catch(jt){Xr(i,i.return,jt)}}if(p&4&&(w=i.stateNode,w!=null)){var E=i.memoizedProps,T=u!==null?u.memoizedProps:E,se=i.type,de=i.updateQueue;if(i.updateQueue=null,de!==null)try{se==="input"&&E.type==="radio"&&E.name!=null&&er(w,E),Ro(se,T);var je=Ro(se,E);for(T=0;T<de.length;T+=2){var tt=de[T],nt=de[T+1];tt==="style"?Ut(w,nt):tt==="dangerouslySetInnerHTML"?Ln(w,nt):tt==="children"?Zr(w,nt):$(w,tt,nt,je)}switch(se){case"input":ur(w,E);break;case"textarea":_t(w,E);break;case"select":var Ye=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!E.multiple;var Nt=E.value;Nt!=null?Ie(w,!!E.multiple,Nt,!1):Ye!==!!E.multiple&&(E.defaultValue!=null?Ie(w,!!E.multiple,E.defaultValue,!0):Ie(w,!!E.multiple,E.multiple?[]:"",!1))}w[pc]=E}catch(jt){Xr(i,i.return,jt)}}break;case 6:if(es(s,i),Ss(i),p&4){if(i.stateNode===null)throw Error(r(162));w=i.stateNode,E=i.memoizedProps;try{w.nodeValue=E}catch(jt){Xr(i,i.return,jt)}}break;case 3:if(es(s,i),Ss(i),p&4&&u!==null&&u.memoizedState.isDehydrated)try{_e(s.containerInfo)}catch(jt){Xr(i,i.return,jt)}break;case 4:es(s,i),Ss(i);break;case 13:es(s,i),Ss(i),w=i.child,w.flags&8192&&(E=w.memoizedState!==null,w.stateNode.isHidden=E,!E||w.alternate!==null&&w.alternate.memoizedState!==null||(Qy=Ur())),p&4&&A0(i);break;case 22:if(tt=u!==null&&u.memoizedState!==null,i.mode&1?(In=(je=In)||tt,es(s,i),In=je):es(s,i),Ss(i),p&8192){if(je=i.memoizedState!==null,(i.stateNode.isHidden=je)&&!tt&&i.mode&1)for(Rt=i,tt=i.child;tt!==null;){for(nt=Rt=tt;Rt!==null;){switch(Ye=Rt,Nt=Ye.child,Ye.tag){case 0:case 11:case 14:case 15:Nc(4,Ye,Ye.return);break;case 1:Ul(Ye,Ye.return);var At=Ye.stateNode;if(typeof At.componentWillUnmount=="function"){p=Ye,u=Ye.return;try{s=p,At.props=s.memoizedProps,At.state=s.memoizedState,At.componentWillUnmount()}catch(jt){Xr(p,u,jt)}}break;case 5:Ul(Ye,Ye.return);break;case 22:if(Ye.memoizedState!==null){j0(nt);continue}}Nt!==null?(Nt.return=Ye,Rt=Nt):j0(nt)}tt=tt.sibling}e:for(tt=null,nt=i;;){if(nt.tag===5){if(tt===null){tt=nt;try{w=nt.stateNode,je?(E=w.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(se=nt.stateNode,de=nt.memoizedProps.style,T=de!=null&&de.hasOwnProperty("display")?de.display:null,se.style.display=_n("display",T))}catch(jt){Xr(i,i.return,jt)}}}else if(nt.tag===6){if(tt===null)try{nt.stateNode.nodeValue=je?"":nt.memoizedProps}catch(jt){Xr(i,i.return,jt)}}else if((nt.tag!==22&&nt.tag!==23||nt.memoizedState===null||nt===i)&&nt.child!==null){nt.child.return=nt,nt=nt.child;continue}if(nt===i)break e;for(;nt.sibling===null;){if(nt.return===null||nt.return===i)break e;tt===nt&&(tt=null),nt=nt.return}tt===nt&&(tt=null),nt.sibling.return=nt.return,nt=nt.sibling}}break;case 19:es(s,i),Ss(i),p&4&&A0(i);break;case 21:break;default:es(s,i),Ss(i)}}function Ss(i){var s=i.flags;if(s&2){try{e:{for(var u=i.return;u!==null;){if(O0(u)){var p=u;break e}u=u.return}throw Error(r(160))}switch(p.tag){case 5:var w=p.stateNode;p.flags&32&&(Zr(w,""),p.flags&=-33);var E=I0(i);Uy(i,E,w);break;case 3:case 4:var T=p.stateNode.containerInfo,se=I0(i);zy(i,se,T);break;default:throw Error(r(161))}}catch(de){Xr(i,i.return,de)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Bq(i,s,u){Rt=i,P0(i)}function P0(i,s,u){for(var p=(i.mode&1)!==0;Rt!==null;){var w=Rt,E=w.child;if(w.tag===22&&p){var T=w.memoizedState!==null||Qf;if(!T){var se=w.alternate,de=se!==null&&se.memoizedState!==null||In;se=Qf;var je=In;if(Qf=T,(In=de)&&!je)for(Rt=w;Rt!==null;)T=Rt,de=T.child,T.tag===22&&T.memoizedState!==null?L0(w):de!==null?(de.return=T,Rt=de):L0(w);for(;E!==null;)Rt=E,P0(E),E=E.sibling;Rt=w,Qf=se,In=je}F0(i)}else w.subtreeFlags&8772&&E!==null?(E.return=w,Rt=E):F0(i)}}function F0(i){for(;Rt!==null;){var s=Rt;if(s.flags&8772){var u=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:In||Kf(5,s);break;case 1:var p=s.stateNode;if(s.flags&4&&!In)if(u===null)p.componentDidMount();else{var w=s.elementType===s.type?u.memoizedProps:Xi(s.type,u.memoizedProps);p.componentDidUpdate(w,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var E=s.updateQueue;E!==null&&jw(s,E,p);break;case 3:var T=s.updateQueue;if(T!==null){if(u=null,s.child!==null)switch(s.child.tag){case 5:u=s.child.stateNode;break;case 1:u=s.child.stateNode}jw(s,T,u)}break;case 5:var se=s.stateNode;if(u===null&&s.flags&4){u=se;var de=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":de.autoFocus&&u.focus();break;case"img":de.src&&(u.src=de.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var je=s.alternate;if(je!==null){var tt=je.memoizedState;if(tt!==null){var nt=tt.dehydrated;nt!==null&&_e(nt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}In||s.flags&512&&$y(s)}catch(Ye){Xr(s,s.return,Ye)}}if(s===i){Rt=null;break}if(u=s.sibling,u!==null){u.return=s.return,Rt=u;break}Rt=s.return}}function j0(i){for(;Rt!==null;){var s=Rt;if(s===i){Rt=null;break}var u=s.sibling;if(u!==null){u.return=s.return,Rt=u;break}Rt=s.return}}function L0(i){for(;Rt!==null;){var s=Rt;try{switch(s.tag){case 0:case 11:case 15:var u=s.return;try{Kf(4,s)}catch(de){Xr(s,u,de)}break;case 1:var p=s.stateNode;if(typeof p.componentDidMount=="function"){var w=s.return;try{p.componentDidMount()}catch(de){Xr(s,w,de)}}var E=s.return;try{$y(s)}catch(de){Xr(s,E,de)}break;case 5:var T=s.return;try{$y(s)}catch(de){Xr(s,T,de)}}}catch(de){Xr(s,s.return,de)}if(s===i){Rt=null;break}var se=s.sibling;if(se!==null){se.return=s.return,Rt=se;break}Rt=s.return}}var Wq=Math.ceil,Gf=U.ReactCurrentDispatcher,Vy=U.ReactCurrentOwner,Di=U.ReactCurrentBatchConfig,hr=0,mn=null,an=null,xn=0,yi=0,Vl=Fo(0),dn=0,kc=null,Ma=0,Jf=0,Hy=0,qc=null,Xn=null,Qy=0,Hl=1/0,Zs=null,Zf=!1,Ky=null,Wo=null,Xf=!1,$o=null,Yf=0,Cc=0,Gy=null,eh=-1,th=0;function Mn(){return hr&6?Ur():eh!==-1?eh:eh=Ur()}function zo(i){return i.mode&1?hr&2&&xn!==0?xn&-xn:Eq.transition!==null?(th===0&&(th=yf()),th):(i=yr,i!==0||(i=window.event,i=i===void 0?16:fe(i.type)),i):1}function ts(i,s,u,p){if(50<Cc)throw Cc=0,Gy=null,Error(r(185));Ia(i,u,p),(!(hr&2)||i!==mn)&&(i===mn&&(!(hr&2)&&(Jf|=u),dn===4&&Uo(i,xn)),Yn(i,p),u===1&&hr===0&&!(s.mode&1)&&(Hl=Ur()+500,Of&&Lo()))}function Yn(i,s){var u=i.callbackNode;Lm(i,s);var p=ql(i,i===mn?xn:0);if(p===0)u!==null&&Zu(u),i.callbackNode=null,i.callbackPriority=0;else if(s=p&-p,i.callbackPriority!==s){if(u!=null&&Zu(u),s===1)i.tag===0?Sq(M0.bind(null,i)):Ew(M0.bind(null,i)),_q(function(){!(hr&6)&&Lo()}),u=null;else{switch(gf(p)){case 1:u=Xu;break;case 4:u=pf;break;case 16:u=El;break;case 0x20000000:u=mf;break;default:u=El}u=Q0(u,D0.bind(null,i))}i.callbackPriority=s,i.callbackNode=u}}function D0(i,s){if(eh=-1,th=0,hr&6)throw Error(r(327));var u=i.callbackNode;if(Ql()&&i.callbackNode!==u)return null;var p=ql(i,i===mn?xn:0);if(p===0)return null;if(p&30||p&i.expiredLanes||s)s=rh(i,p);else{s=p;var w=hr;hr|=2;var E=W0();(mn!==i||xn!==s)&&(Zs=null,Hl=Ur()+500,Wa(i,s));do try{Uq();break}catch(se){B0(i,se)}while(!0);hy(),Gf.current=E,hr=w,an!==null?s=0:(mn=null,xn=0,s=dn)}if(s!==0){if(s===2&&(w=Yu(i),w!==0&&(p=w,s=Jy(i,w))),s===1)throw u=kc,Wa(i,0),Uo(i,p),Yn(i,Ur()),u;if(s===6)Uo(i,p);else{if(w=i.current.alternate,!(p&30)&&!$q(w)&&(s=rh(i,p),s===2&&(E=Yu(i),E!==0&&(p=E,s=Jy(i,E))),s===1))throw u=kc,Wa(i,0),Uo(i,p),Yn(i,Ur()),u;switch(i.finishedWork=w,i.finishedLanes=p,s){case 0:case 1:throw Error(r(345));case 2:$a(i,Xn,Zs);break;case 3:if(Uo(i,p),(p&0x7c00000)===p&&(s=Qy+500-Ur(),10<s)){if(ql(i,0)!==0)break;if(w=i.suspendedLanes,(w&p)!==p){Mn(),i.pingedLanes|=i.suspendedLanes&w;break}i.timeoutHandle=ry($a.bind(null,i,Xn,Zs),s);break}$a(i,Xn,Zs);break;case 4:if(Uo(i,p),(p&4194240)===p)break;for(s=i.eventTimes,w=-1;0<p;){var T=31-Kn(p);E=1<<T,T=s[T],T>w&&(w=T),p&=~E}if(p=w,p=Ur()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*Wq(p/1960))-p,10<p){i.timeoutHandle=ry($a.bind(null,i,Xn,Zs),p);break}$a(i,Xn,Zs);break;case 5:$a(i,Xn,Zs);break;default:throw Error(r(329))}}}return Yn(i,Ur()),i.callbackNode===u?D0.bind(null,i):null}function Jy(i,s){var u=qc;return i.current.memoizedState.isDehydrated&&(Wa(i,s).flags|=256),i=rh(i,s),i!==2&&(s=Xn,Xn=u,s!==null&&Zy(s)),i}function Zy(i){Xn===null?Xn=i:Xn.push.apply(Xn,i)}function $q(i){for(var s=i;;){if(s.flags&16384){var u=s.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var w=u[p],E=w.getSnapshot;w=w.value;try{if(!Ji(E(),w))return!1}catch{return!1}}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Uo(i,s){for(s&=~Hy,s&=~Jf,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var u=31-Kn(s),p=1<<u;i[u]=-1,s&=~p}}function M0(i){if(hr&6)throw Error(r(327));Ql();var s=ql(i,0);if(!(s&1))return Yn(i,Ur()),null;var u=rh(i,s);if(i.tag!==0&&u===2){var p=Yu(i);p!==0&&(s=p,u=Jy(i,p))}if(u===1)throw u=kc,Wa(i,0),Uo(i,s),Yn(i,Ur()),u;if(u===6)throw Error(r(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,$a(i,Xn,Zs),Yn(i,Ur()),null}function Xy(i,s){var u=hr;hr|=1;try{return i(s)}finally{hr=u,hr===0&&(Hl=Ur()+500,Of&&Lo())}}function Ba(i){$o!==null&&$o.tag===0&&!(hr&6)&&Ql();var s=hr;hr|=1;var u=Di.transition,p=yr;try{if(Di.transition=null,yr=1,i)return i()}finally{yr=p,Di.transition=u,hr=s,!(hr&6)&&Lo()}}function Yy(){yi=Vl.current,jr(Vl)}function Wa(i,s){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,vq(u)),an!==null)for(u=an.return;u!==null;){var p=u;switch(ly(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&qf();break;case 3:$l(),jr(Gn),jr(qn),wy();break;case 5:_y(p);break;case 4:$l();break;case 13:jr(Hr);break;case 19:jr(Hr);break;case 10:py(p.type._context);break;case 22:case 23:Yy()}u=u.return}if(mn=i,an=i=Vo(i.current,null),xn=yi=s,dn=0,kc=null,Hy=Jf=Ma=0,Xn=qc=null,ja!==null){for(s=0;s<ja.length;s++)if(u=ja[s],p=u.interleaved,p!==null){u.interleaved=null;var w=p.next,E=u.pending;if(E!==null){var T=E.next;E.next=w,p.next=T}u.pending=p}ja=null}return i}function B0(i,s){do{var u=an;try{if(hy(),Mf.current=zf,Bf){for(var p=Qr.memoizedState;p!==null;){var w=p.queue;w!==null&&(w.pending=null),p=p.next}Bf=!1}if(Da=0,pn=cn=Qr=null,bc=!1,wc=0,Vy.current=null,u===null||u.return===null){dn=1,kc=s,an=null;break}e:{var E=i,T=u.return,se=u,de=s;if(s=xn,se.flags|=32768,de!==null&&typeof de=="object"&&typeof de.then=="function"){var je=de,tt=se,nt=tt.tag;if(!(tt.mode&1)&&(nt===0||nt===11||nt===15)){var Ye=tt.alternate;Ye?(tt.updateQueue=Ye.updateQueue,tt.memoizedState=Ye.memoizedState,tt.lanes=Ye.lanes):(tt.updateQueue=null,tt.memoizedState=null)}var Nt=d0(T);if(Nt!==null){Nt.flags&=-257,f0(Nt,T,se,E,s),Nt.mode&1&&c0(E,je,s),s=Nt,de=je;var At=s.updateQueue;if(At===null){var jt=new Set;jt.add(de),s.updateQueue=jt}else At.add(de);break e}else{if(!(s&1)){c0(E,je,s),eg();break e}de=Error(r(426))}}else if(Dr&&se.mode&1){var en=d0(T);if(en!==null){!(en.flags&65536)&&(en.flags|=256),f0(en,T,se,E,s),dy(zl(de,se));break e}}E=de=zl(de,se),dn!==4&&(dn=2),qc===null?qc=[E]:qc.push(E),E=T;do{switch(E.tag){case 3:E.flags|=65536,s&=-s,E.lanes|=s;var ke=l0(E,de,s);Fw(E,ke);break e;case 1:se=de;var ge=E.type,Re=E.stateNode;if(!(E.flags&128)&&(typeof ge.getDerivedStateFromError=="function"||Re!==null&&typeof Re.componentDidCatch=="function"&&(Wo===null||!Wo.has(Re)))){E.flags|=65536,s&=-s,E.lanes|=s;var ot=u0(E,se,s);Fw(E,ot);break e}}E=E.return}while(E!==null)}z0(u)}catch(Lt){s=Lt,an===u&&u!==null&&(an=u=u.return);continue}break}while(!0)}function W0(){var i=Gf.current;return Gf.current=zf,i===null?zf:i}function eg(){(dn===0||dn===3||dn===2)&&(dn=4),mn===null||!(Ma&0xfffffff)&&!(Jf&0xfffffff)||Uo(mn,xn)}function rh(i,s){var u=hr;hr|=2;var p=W0();(mn!==i||xn!==s)&&(Zs=null,Wa(i,s));do try{zq();break}catch(w){B0(i,w)}while(!0);if(hy(),hr=u,Gf.current=p,an!==null)throw Error(r(261));return mn=null,xn=0,dn}function zq(){for(;an!==null;)$0(an)}function Uq(){for(;an!==null&&!Cm();)$0(an)}function $0(i){var s=H0(i.alternate,i,yi);i.memoizedProps=i.pendingProps,s===null?z0(i):an=s,Vy.current=null}function z0(i){var s=i;do{var u=s.alternate;if(i=s.return,s.flags&32768){if(u=Lq(u,s),u!==null){u.flags&=32767,an=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{dn=6,an=null;return}}else if(u=jq(u,s,yi),u!==null){an=u;return}if(s=s.sibling,s!==null){an=s;return}an=s=i}while(s!==null);dn===0&&(dn=5)}function $a(i,s,u){var p=yr,w=Di.transition;try{Di.transition=null,yr=1,Vq(i,s,u,p)}finally{Di.transition=w,yr=p}return null}function Vq(i,s,u,p){do Ql();while($o!==null);if(hr&6)throw Error(r(327));u=i.finishedWork;var w=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0;var E=u.lanes|u.childLanes;if(Dm(i,E),i===mn&&(an=mn=null,xn=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||Xf||(Xf=!0,Q0(El,function(){return Ql(),null})),E=(u.flags&15990)!==0,u.subtreeFlags&15990||E){E=Di.transition,Di.transition=null;var T=yr;yr=1;var se=hr;hr|=4,Vy.current=null,Mq(i,u),T0(u,i),dq(ey),Be=!!Ym,ey=Ym=null,i.current=u,Bq(u),Om(),hr=se,yr=T,Di.transition=E}else i.current=u;if(Xf&&(Xf=!1,$o=i,Yf=w),E=i.pendingLanes,E===0&&(Wo=null),Am(u.stateNode),Yn(i,Ur()),s!==null)for(p=i.onRecoverableError,u=0;u<s.length;u++)w=s[u],p(w.value,{componentStack:w.stack,digest:w.digest});if(Zf)throw Zf=!1,i=Ky,Ky=null,i;return Yf&1&&i.tag!==0&&Ql(),E=i.pendingLanes,E&1?i===Gy?Cc++:(Cc=0,Gy=i):Cc=0,Lo(),null}function Ql(){if($o!==null){var i=gf(Yf),s=Di.transition,u=yr;try{if(Di.transition=null,yr=16>i?16:i,$o===null)var p=!1;else{if(i=$o,$o=null,Yf=0,hr&6)throw Error(r(331));var w=hr;for(hr|=4,Rt=i.current;Rt!==null;){var E=Rt,T=E.child;if(Rt.flags&16){var se=E.deletions;if(se!==null){for(var de=0;de<se.length;de++){var je=se[de];for(Rt=je;Rt!==null;){var tt=Rt;switch(tt.tag){case 0:case 11:case 15:Nc(8,tt,E)}var nt=tt.child;if(nt!==null)nt.return=tt,Rt=nt;else for(;Rt!==null;){tt=Rt;var Ye=tt.sibling,Nt=tt.return;if(C0(tt),tt===je){Rt=null;break}if(Ye!==null){Ye.return=Nt,Rt=Ye;break}Rt=Nt}}}var At=E.alternate;if(At!==null){var jt=At.child;if(jt!==null){At.child=null;do{var en=jt.sibling;jt.sibling=null,jt=en}while(jt!==null)}}Rt=E}}if(E.subtreeFlags&2064&&T!==null)T.return=E,Rt=T;else e:for(;Rt!==null;){if(E=Rt,E.flags&2048)switch(E.tag){case 0:case 11:case 15:Nc(9,E,E.return)}var ke=E.sibling;if(ke!==null){ke.return=E.return,Rt=ke;break e}Rt=E.return}}var ge=i.current;for(Rt=ge;Rt!==null;){T=Rt;var Re=T.child;if(T.subtreeFlags&2064&&Re!==null)Re.return=T,Rt=Re;else e:for(T=ge;Rt!==null;){if(se=Rt,se.flags&2048)try{switch(se.tag){case 0:case 11:case 15:Kf(9,se)}}catch(Lt){Xr(se,se.return,Lt)}if(se===T){Rt=null;break e}var ot=se.sibling;if(ot!==null){ot.return=se.return,Rt=ot;break e}Rt=se.return}}if(hr=w,Lo(),Ai&&typeof Ai.onPostCommitFiberRoot=="function")try{Ai.onPostCommitFiberRoot(Nl,i)}catch{}p=!0}return p}finally{yr=u,Di.transition=s}}return!1}function U0(i,s,u){s=zl(u,s),s=l0(i,s,1),i=Mo(i,s,1),s=Mn(),i!==null&&(Ia(i,1,s),Yn(i,s))}function Xr(i,s,u){if(i.tag===3)U0(i,i,u);else for(;s!==null;){if(s.tag===3){U0(s,i,u);break}else if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Wo===null||!Wo.has(p))){i=zl(u,i),i=u0(s,i,1),s=Mo(s,i,1),i=Mn(),s!==null&&(Ia(s,1,i),Yn(s,i));break}}s=s.return}}function Hq(i,s,u){var p=i.pingCache;p!==null&&p.delete(s),s=Mn(),i.pingedLanes|=i.suspendedLanes&u,mn===i&&(xn&u)===u&&(dn===4||dn===3&&(xn&0x7c00000)===xn&&500>Ur()-Qy?Wa(i,0):Hy|=u),Yn(i,s)}function V0(i,s){s===0&&(i.mode&1?(s=kl,kl<<=1,!(kl&0x7c00000)&&(kl=4194304)):s=1);var u=Mn();i=Ks(i,s),i!==null&&(Ia(i,s,u),Yn(i,u))}function Qq(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),V0(i,u)}function Kq(i,s){var u=0;switch(i.tag){case 13:var p=i.stateNode,w=i.memoizedState;w!==null&&(u=w.retryLane);break;case 19:p=i.stateNode;break;default:throw Error(r(314))}p!==null&&p.delete(s),V0(i,u)}var H0;H0=function(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps||Gn.current)Zn=!0;else{if(!(i.lanes&u)&&!(s.flags&128))return Zn=!1,Fq(i,s,u);Zn=!!(i.flags&131072)}else Zn=!1,Dr&&s.flags&1048576&&Nw(s,Rf,s.index);switch(s.lanes=0,s.tag){case 2:var p=s.type;Hf(i,s),i=s.pendingProps;var w=Fl(s,qn.current);Wl(s,u),w=Ey(null,s,p,i,w,u);var E=Ny();return s.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Jn(p)?(E=!0,Cf(s)):E=!1,s.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,gy(s),w.updater=Uf,s.stateNode=w,w._reactInternals=s,Ry(s,p,i,u),s=Fy(null,s,p,!0,E,u)):(s.tag=0,Dr&&E&&ay(s),Dn(null,s,w,u),s=s.child),s;case 16:p=s.elementType;e:{switch(Hf(i,s),i=s.pendingProps,w=p._init,p=w(p._payload),s.type=p,w=s.tag=Jq(p),i=Xi(p,i),w){case 0:s=Py(null,s,p,i,u);break e;case 1:s=v0(null,s,p,i,u);break e;case 11:s=h0(null,s,p,i,u);break e;case 14:s=p0(null,s,p,Xi(p.type,i),u);break e}throw Error(r(306,p,""))}return s;case 0:return p=s.type,w=s.pendingProps,w=s.elementType===p?w:Xi(p,w),Py(i,s,p,w,u);case 1:return p=s.type,w=s.pendingProps,w=s.elementType===p?w:Xi(p,w),v0(i,s,p,w,u);case 3:e:{if(_0(s),i===null)throw Error(r(387));p=s.pendingProps,E=s.memoizedState,w=E.element,Pw(i,s),Lf(s,p,null,u);var T=s.memoizedState;if(p=T.element,E.isDehydrated)if(E={element:p,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},s.updateQueue.baseState=E,s.memoizedState=E,s.flags&256){w=zl(Error(r(423)),s),s=b0(i,s,p,u,w);break e}else if(p!==w){w=zl(Error(r(424)),s),s=b0(i,s,p,u,w);break e}else for(mi=Po(s.stateNode.containerInfo.firstChild),pi=s,Dr=!0,Zi=null,u=Aw(s,null,p,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Dl(),p===w){s=Js(i,s,u);break e}Dn(i,s,p,u)}s=s.child}return s;case 5:return Lw(s),i===null&&cy(s),p=s.type,w=s.pendingProps,E=i!==null?i.memoizedProps:null,T=w.children,ty(p,w)?T=null:E!==null&&ty(p,E)&&(s.flags|=32),g0(i,s),Dn(i,s,T,u),s.child;case 6:return i===null&&cy(s),null;case 13:return w0(i,s,u);case 4:return vy(s,s.stateNode.containerInfo),p=s.pendingProps,i===null?s.child=Ml(s,null,p,u):Dn(i,s,p,u),s.child;case 11:return p=s.type,w=s.pendingProps,w=s.elementType===p?w:Xi(p,w),h0(i,s,p,w,u);case 7:return Dn(i,s,s.pendingProps,u),s.child;case 8:return Dn(i,s,s.pendingProps.children,u),s.child;case 12:return Dn(i,s,s.pendingProps.children,u),s.child;case 10:e:{if(p=s.type._context,w=s.pendingProps,E=s.memoizedProps,T=w.value,Rr(Pf,p._currentValue),p._currentValue=T,E!==null)if(Ji(E.value,T)){if(E.children===w.children&&!Gn.current){s=Js(i,s,u);break e}}else for(E=s.child,E!==null&&(E.return=s);E!==null;){var se=E.dependencies;if(se!==null){T=E.child;for(var de=se.firstContext;de!==null;){if(de.context===p){if(E.tag===1){de=Gs(-1,u&-u),de.tag=2;var je=E.updateQueue;if(je!==null){je=je.shared;var tt=je.pending;tt===null?de.next=de:(de.next=tt.next,tt.next=de),je.pending=de}}E.lanes|=u,de=E.alternate,de!==null&&(de.lanes|=u),my(E.return,u,s),se.lanes|=u;break}de=de.next}}else if(E.tag===10)T=E.type===s.type?null:E.child;else if(E.tag===18){if(T=E.return,T===null)throw Error(r(341));T.lanes|=u,se=T.alternate,se!==null&&(se.lanes|=u),my(T,u,s),T=E.sibling}else T=E.child;if(T!==null)T.return=E;else for(T=E;T!==null;){if(T===s){T=null;break}if(E=T.sibling,E!==null){E.return=T.return,T=E;break}T=T.return}E=T}Dn(i,s,w.children,u),s=s.child}return s;case 9:return w=s.type,p=s.pendingProps.children,Wl(s,u),w=ji(w),p=p(w),s.flags|=1,Dn(i,s,p,u),s.child;case 14:return p=s.type,w=Xi(p,s.pendingProps),w=Xi(p.type,w),p0(i,s,p,w,u);case 15:return m0(i,s,s.type,s.pendingProps,u);case 17:return p=s.type,w=s.pendingProps,w=s.elementType===p?w:Xi(p,w),Hf(i,s),s.tag=1,Jn(p)?(i=!0,Cf(s)):i=!1,Wl(s,u),o0(s,p,w),Ry(s,p,w,u),Fy(null,s,p,!0,i,u);case 19:return S0(i,s,u);case 22:return y0(i,s,u)}throw Error(r(156,s.tag))};function Q0(i,s){return hf(i,s)}function Gq(i,s,u,p){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mi(i,s,u,p){return new Gq(i,s,u,p)}function tg(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Jq(i){if(typeof i=="function")return tg(i)?1:0;if(i!=null){if(i=i.$$typeof,i===ne)return 11;if(i===Oe)return 14}return 2}function Vo(i,s){var u=i.alternate;return u===null?(u=Mi(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&0xe00000,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function nh(i,s,u,p,w,E){var T=2;if(p=i,typeof i=="function")tg(i)&&(T=1);else if(typeof i=="string")T=5;else e:switch(i){case J:return za(u.children,w,E,s);case re:T=8,w|=8;break;case V:return i=Mi(12,u,s,w|2),i.elementType=V,i.lanes=E,i;case Z:return i=Mi(13,u,s,w),i.elementType=Z,i.lanes=E,i;case pe:return i=Mi(19,u,s,w),i.elementType=pe,i.lanes=E,i;case Fe:return ih(u,w,E,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case ie:T=10;break e;case D:T=9;break e;case ne:T=11;break e;case Oe:T=14;break e;case Ce:T=16,p=null;break e}throw Error(r(130,i==null?i:typeof i,""))}return s=Mi(T,u,s,w),s.elementType=i,s.type=p,s.lanes=E,s}function za(i,s,u,p){return i=Mi(7,i,p,s),i.lanes=u,i}function ih(i,s,u,p){return i=Mi(22,i,p,s),i.elementType=Fe,i.lanes=u,i.stateNode={isHidden:!1},i}function rg(i,s,u){return i=Mi(6,i,null,s),i.lanes=u,i}function ng(i,s,u){return s=Mi(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function Zq(i,s,u,p,w){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ec(0),this.expirationTimes=ec(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ec(0),this.identifierPrefix=p,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function ig(i,s,u,p,w,E,T,se,de){return i=new Zq(i,s,u,se,de),s===1?(s=1,E===!0&&(s|=8)):s=0,E=Mi(3,null,null,s),i.current=E,E.stateNode=i,E.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},gy(E),i}function Xq(i,s,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:p==null?null:""+p,children:i,containerInfo:s,implementation:u}}function K0(i){if(!i)return jo;i=i._reactInternals;e:{if($s(i)!==i||i.tag!==1)throw Error(r(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Jn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(r(171))}if(i.tag===1){var u=i.type;if(Jn(u))return xw(i,u,s)}return s}function G0(i,s,u,p,w,E,T,se,de){return i=ig(u,p,!0,i,w,E,T,se,de),i.context=K0(null),u=i.current,p=Mn(),w=zo(u),E=Gs(p,w),E.callback=s??null,Mo(u,E,w),i.current.lanes=w,Ia(i,w,p),Yn(i,p),i}function sh(i,s,u,p){var w=s.current,E=Mn(),T=zo(w);return u=K0(u),s.context===null?s.context=u:s.pendingContext=u,s=Gs(E,T),s.payload={element:i},p=p===void 0?null:p,p!==null&&(s.callback=p),i=Mo(w,s,T),i!==null&&(ts(i,w,T,E),jf(i,w,T)),T}function oh(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function J0(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function sg(i,s){J0(i,s),(i=i.alternate)&&J0(i,s)}function Yq(){return null}var Z0=typeof reportError=="function"?reportError:function(i){console.error(i)};function og(i){this._internalRoot=i}ah.prototype.render=og.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));sh(i,s,null,null)},ah.prototype.unmount=og.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Ba(function(){sh(null,i,null,null)}),s[Us]=null}};function ah(i){this._internalRoot=i}ah.prototype.unstable_scheduleHydration=function(i){if(i){var s=Ra();i={blockedOn:null,target:i,priority:s};for(var u=0;u<te.length&&s!==0&&s<te[u].priority;u++);te.splice(u,0,i),u===0&&Ae(i)}};function ag(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function lh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function X0(){}function eC(i,s,u,p,w){if(w){if(typeof p=="function"){var E=p;p=function(){var je=oh(T);E.call(je)}}var T=G0(s,p,i,0,null,!1,!1,"",X0);return i._reactRootContainer=T,i[Us]=T.current,fc(i.nodeType===8?i.parentNode:i),Ba(),T}for(;w=i.lastChild;)i.removeChild(w);if(typeof p=="function"){var se=p;p=function(){var je=oh(de);se.call(je)}}var de=ig(i,0,!1,null,null,!1,!1,"",X0);return i._reactRootContainer=de,i[Us]=de.current,fc(i.nodeType===8?i.parentNode:i),Ba(function(){sh(s,de,u,p)}),de}function uh(i,s,u,p,w){var E=u._reactRootContainer;if(E){var T=E;if(typeof w=="function"){var se=w;w=function(){var de=oh(T);se.call(de)}}sh(s,T,i,w)}else T=eC(u,s,i,w,p);return oh(T)}rc=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var u=Gi(s.pendingLanes);u!==0&&(tc(s,u|1),Yn(s,Ur()),!(hr&6)&&(Hl=Ur()+500,Lo()))}break;case 13:Ba(function(){var p=Ks(i,1);if(p!==null){var w=Mn();ts(p,i,1,w)}}),sg(i,1)}},ee=function(i){if(i.tag===13){var s=Ks(i,0x8000000);if(s!==null){var u=Mn();ts(s,i,0x8000000,u)}sg(i,0x8000000)}},nc=function(i){if(i.tag===13){var s=zo(i),u=Ks(i,s);if(u!==null){var p=Mn();ts(u,i,s,p)}sg(i,s)}},Ra=function(){return yr},ic=function(i,s){var u=yr;try{return yr=i,s()}finally{yr=u}},Ku=function(i,s,u){switch(s){case"input":if(ur(i,u),s=u.name,u.type==="radio"&&s!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<u.length;s++){var p=u[s];if(p!==i&&p.form===i.form){var w=kf(p);if(!w)throw Error(r(90));Ot(p),ur(p,w)}}}break;case"textarea":_t(i,u);break;case"select":s=u.value,s!=null&&Ie(i,!!u.multiple,s,!1)}},af=Xy,lf=Ba;var tC={usingClientEntryPoint:!1,Events:[mc,Tl,kf,Xt,of,Xy]},Oc={findFiberByHostInstance:Aa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rC={bundleType:Oc.bundleType,version:Oc.version,rendererPackageName:Oc.rendererPackageName,rendererConfig:Oc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=df(i),i===null?null:i.stateNode},findFiberByHostInstance:Oc.findFiberByHostInstance||Yq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ch.isDisabled&&ch.supportsFiber)try{Nl=ch.inject(rC),Ai=ch}catch{}}return ei.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tC,ei.createPortal=function(i,s){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ag(s))throw Error(r(200));return Xq(i,s,null,u)},ei.createRoot=function(i,s){if(!ag(i))throw Error(r(299));var u=!1,p="",w=Z0;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(p=s.identifierPrefix),s.onRecoverableError!==void 0&&(w=s.onRecoverableError)),s=ig(i,1,!1,null,null,u,!1,p,w),i[Us]=s.current,fc(i.nodeType===8?i.parentNode:i),new og(s)},ei.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=df(s),i=i===null?null:i.stateNode,i},ei.flushSync=function(i){return Ba(i)},ei.hydrate=function(i,s,u){if(!lh(s))throw Error(r(200));return uh(null,i,s,!0,u)},ei.hydrateRoot=function(i,s,u){if(!ag(i))throw Error(r(405));var p=u!=null&&u.hydratedSources||null,w=!1,E="",T=Z0;if(u!=null&&(u.unstable_strictMode===!0&&(w=!0),u.identifierPrefix!==void 0&&(E=u.identifierPrefix),u.onRecoverableError!==void 0&&(T=u.onRecoverableError)),s=G0(s,null,i,1,u??null,w,!1,E,T),i[Us]=s.current,fc(i),p)for(i=0;i<p.length;i++)u=p[i],w=u._getVersion,w=w(u._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[u,w]:s.mutableSourceEagerHydrationData.push(u,w);return new ah(s)},ei.render=function(i,s,u){if(!lh(s))throw Error(r(200));return uh(null,i,s,!1,u)},ei.unmountComponentAtNode=function(i){if(!lh(i))throw Error(r(40));return i._reactRootContainer?(Ba(function(){uh(null,null,i,!1,function(){i._reactRootContainer=null,i[Us]=null})}),!0):!1},ei.unstable_batchedUpdates=Xy,ei.unstable_renderSubtreeIntoContainer=function(i,s,u,p){if(!lh(u))throw Error(r(200));if(i==null||i._reactInternals===void 0)throw Error(r(38));return uh(i,s,u,!1,p)},ei.version="18.3.1-next-f1338f8080-20240426",ei}var Ox;function zN(){if(Ox)return _g.exports;Ox=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_g.exports=jO(),_g.exports}var P_=zN();const LO="Error preloading route! ";function DO(t,e){const r=di(),[n,o]=Q.useState(!1),a=Q.useRef(!1),l=uO(e),{activeProps:c=()=>({className:"active"}),inactiveProps:h=()=>({}),activeOptions:m,to:g,preload:x,preloadDelay:N,hashScrollIntoView:q,replace:C,startTransition:O,resetScroll:P,viewTransition:M,children:j,target:$,disabled:U,style:G,className:B,onClick:J,onFocus:re,onMouseEnter:V,onMouseLeave:ie,onTouchStart:D,ignoreBlocker:ne,...Z}=t,{params:pe,search:Oe,hash:Ce,state:Fe,mask:ve,reloadDocument:me,...Ee}=Z,H=Q.useMemo(()=>{try{return new URL(`${g}`),"external"}catch{}return"internal"},[g]),xe=Un({select:ye=>ye.location.search,structuralSharing:!0});t={from:da({strict:!1,select:ye=>ye.pathname}),...t};const at=Q.useMemo(()=>r.buildLocation(t),[r,t,xe]),dt=Q.useMemo(()=>t.reloadDocument?!1:x??r.options.defaultPreload,[r.options.defaultPreload,x,t.reloadDocument]),mt=N??r.options.defaultPreloadDelay??0,ft=Un({select:ye=>{if(m?.exact){if(!dO(ye.location.pathname,at.pathname,r.basepath))return!1}else{const Ie=Yh(ye.location.pathname,r.basepath).split("/");if(!Yh(at.pathname,r.basepath).split("/").every((_t,Mt)=>_t===Ie[Mt]))return!1}return(m?.includeSearch??!0)&&!cu(ye.location.search,at.search,{partial:!m?.exact,ignoreUndefined:!m?.explicitUndefined})?!1:m?.includeHash?ye.location.hash===at.hash:!0}}),gt=Q.useCallback(()=>{r.preloadRoute(t).catch(ye=>{console.warn(ye),console.warn(LO)})},[t,r]),Tt=Q.useCallback(ye=>{ye?.isIntersecting&&gt()},[gt]);if(lO(l,Tt,{rootMargin:"100px"},{disabled:!!U||dt!=="viewport"}),Dc(()=>{a.current||!U&&dt==="render"&&(gt(),a.current=!0)},[U,gt,dt]),H==="external")return{...Ee,ref:l,type:H,href:g,...j&&{children:j},...$&&{target:$},...U&&{disabled:U},...G&&{style:G},...B&&{className:B},...J&&{onClick:J},...re&&{onFocus:re},...V&&{onMouseEnter:V},...ie&&{onMouseLeave:ie},...D&&{onTouchStart:D}};const vt=ye=>{if(!U&&!BO(ye)&&!ye.defaultPrevented&&(!$||$==="_self")&&ye.button===0){ye.preventDefault(),P_.flushSync(()=>{o(!0)});const Ie=r.subscribe("onResolved",()=>{Ie(),o(!1)});return r.navigate({...t,replace:C,resetScroll:P,hashScrollIntoView:q,startTransition:O,viewTransition:M,ignoreBlocker:ne})}},yt=ye=>{U||dt&&gt()},Ot=yt,qt=ye=>{if(U)return;const Ie=ye.target||{};if(dt){if(Ie.preloadTimeout)return;Ie.preloadTimeout=setTimeout(()=>{Ie.preloadTimeout=null,gt()},mt)}},Jt=ye=>{if(U)return;const Ie=ye.target||{};Ie.preloadTimeout&&(clearTimeout(Ie.preloadTimeout),Ie.preloadTimeout=null)},Gt=ye=>Ie=>{var De;(De=Ie.persist)==null||De.call(Ie),ye.filter(Boolean).forEach(Ge=>{Ie.defaultPrevented||Ge(Ie)})},er=ft?Ja(c,{})??{}:{},ur=ft?{}:Ja(h,{}),oe=[B,er.className,ur.className].filter(Boolean).join(" "),le={...G,...er.style,...ur.style};return{...Ee,...er,...ur,href:U?void 0:at.maskedLocation?r.history.createHref(at.maskedLocation.href):r.history.createHref(at.href),ref:l,onClick:Gt([J,vt]),onFocus:Gt([re,yt]),onMouseEnter:Gt([V,qt]),onMouseLeave:Gt([ie,Jt]),onTouchStart:Gt([D,Ot]),disabled:!!U,target:$,...Object.keys(le).length&&{style:le},...oe&&{className:oe},...U&&{role:"link","aria-disabled":!0},...ft&&{"data-status":"active","aria-current":"page"},...n&&{"data-transitioning":"transitioning"}}}function UN(t){return Q.forwardRef(function(r,n){return y.jsx(MO,{...r,_asChild:t,ref:n})})}const MO=Q.forwardRef((t,e)=>{const{_asChild:r,...n}=t,{type:o,ref:a,...l}=DO(n,e),c=typeof n.children=="function"?n.children({isActive:l["data-status"]==="active"}):n.children;return typeof r>"u"&&delete l.disabled,Q.createElement(r||"a",{...l,ref:a},c)});function BO(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function WO(){const t=di(),e=Q.useRef({router:t,mounted:!1}),r=Un({select:({isLoading:x})=>x}),[n,o]=Q.useState(!1),a=Un({select:x=>x.matches.some(N=>N.status==="pending"),structuralSharing:!0}),l=yg(r),c=r||n||a,h=yg(c),m=r||a,g=yg(m);return t.isServer||(t.startReactTransition=x=>{o(!0),Q.startTransition(()=>{x(),o(!1)})}),Q.useEffect(()=>{const x=t.history.subscribe(t.load),N=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Za(t.latestLocation.href)!==Za(N.href)&&t.commitLocation({...N,replace:!0}),()=>{x()}},[t,t.history]),Dc(()=>{var x;if(typeof window<"u"&&((x=window.__TSR__)!=null&&x.dehydrated)||e.current.router===t&&e.current.mounted)return;e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(q){console.error(q)}})()},[t]),Dc(()=>{if(l&&!r){const x=t.state.location,N=t.state.resolvedLocation,q=N.pathname!==x.pathname,C=N.href!==x.href;t.emit({type:"onLoad",fromLocation:N,toLocation:x,pathChanged:q,hrefChanged:C})}},[l,t,r]),Dc(()=>{if(g&&!m){const x=t.state.location,N=t.state.resolvedLocation,q=N.pathname!==x.pathname,C=N.href!==x.href;t.emit({type:"onBeforeRouteMount",fromLocation:N,toLocation:x,pathChanged:q,hrefChanged:C})}},[m,g,t]),Dc(()=>{if(h&&!c){const x=t.state.location,N=t.state.resolvedLocation,q=N.pathname!==x.pathname,C=N.href!==x.href;if(t.emit({type:"onResolved",fromLocation:N,toLocation:x,pathChanged:q,hrefChanged:C}),t.__store.setState(O=>({...O,status:"idle",resolvedLocation:O.location})),typeof document<"u"&&document.querySelector){const O=t.state.location.state.__hashScrollIntoViewOptions??!0;if(O&&t.state.location.hash!==""){const P=document.getElementById(t.state.location.hash);P&&P.scrollIntoView(O)}}}},[c,h,t]),null}function $O(){const t=di(),e=t.options.defaultPendingComponent?y.jsx(t.options.defaultPendingComponent,{}):null,r=t.isServer||typeof document<"u"&&window.__TSR__?kh:Q.Suspense,n=y.jsxs(r,{fallback:e,children:[y.jsx(WO,{}),y.jsx(zO,{})]});return t.options.InnerWrap?y.jsx(t.options.InnerWrap,{children:n}):n}function zO(){const t=Un({select:r=>{var n;return(n=r.matches[0])==null?void 0:n.id}}),e=Un({select:r=>r.loadedAt});return y.jsx(Wp.Provider,{value:t,children:y.jsx(A_,{getResetKey:()=>e,errorComponent:Bp,onCatch:r=>{r.message||r.toString()},children:t?y.jsx($N,{matchId:t}):null})})}function VN(){const t=di();return Un({select:e=>[e.location.href,e.resolvedLocation.href,e.status],structuralSharing:!0}),Q.useCallback(e=>{const{pending:r,caseSensitive:n,fuzzy:o,includeSearch:a,...l}=e;return t.matchRoute(l,{pending:r,caseSensitive:n,fuzzy:o,includeSearch:a})},[t])}function UO({router:t,children:e,...r}){t.update({...t.options,...r,context:{...t.options.context,...r.context}});const n=DN(),o=y.jsx(n.Provider,{value:t,children:e});return t.options.Wrap?y.jsx(t.options.Wrap,{children:o}):o}function VO({router:t,...e}){return y.jsx(UO,{router:t,...e,children:y.jsx($O,{})})}const HO=typeof window<"u"?Q.useLayoutEffect:Q.useEffect,xg="window",Ix="___";let Sg=new WeakSet;const QO=typeof window<"u"&&window.sessionStorage,ns=QO?(()=>{const t="tsr-scroll-restoration-v2";return{state:JSON.parse(window.sessionStorage.getItem(t)||"null")||{cached:{},next:{}},set:r=>{ns.state=Ja(r,ns.state),window.sessionStorage.setItem(t,JSON.stringify(ns.state))}}})():void 0,KO=t=>t.state.key||t.href;function GO(t){const e=di();HO(()=>{const r=t?.getKey||KO,{history:n}=window;n.scrollRestoration="manual";const o=c=>{if(Sg.has(c.target))return;Sg.add(c.target);let h="";if(c.target===document||c.target===window)h=xg;else{const m=c.target.getAttribute("data-scroll-restoration-id");m?h=`[data-scroll-restoration-id="${m}"]`:h=ZO(c.target)}ns.state.next[h]||ns.set(m=>({...m,next:{...m.next,[h]:{scrollX:NaN,scrollY:NaN}}}))};typeof document<"u"&&document.addEventListener("scroll",o,!0);const a=e.subscribe("onBeforeLoad",c=>{if(c.hrefChanged){const h=r(c.fromLocation);for(const m in ns.state.next){const g=ns.state.next[m];if(m===xg)g.scrollX=window.scrollX||0,g.scrollY=window.scrollY||0;else if(m){const x=document.querySelector(m);g.scrollX=x?.scrollLeft||0,g.scrollY=x?.scrollTop||0}ns.set(x=>{const N={...x.next};return delete N[m],{...x,next:N,cached:{...x.cached,[[h,m].join(Ix)]:g}}})}}}),l=e.subscribe("onBeforeRouteMount",c=>{if(c.hrefChanged){if(!e.resetNextScroll)return;e.resetNextScroll=!0;const h=r(c.toLocation);let m=!1;for(const g in ns.state.cached){const x=ns.state.cached[g],[N,q]=g.split(Ix);if(N===h){if(q===xg)m=!0,window.scrollTo(x.scrollX,x.scrollY);else if(q){const C=document.querySelector(q);C&&(C.scrollLeft=x.scrollX,C.scrollTop=x.scrollY)}}}m||window.scrollTo(0,0),ns.set(g=>({...g,next:{}})),Sg=new WeakSet}});return()=>{document.removeEventListener("scroll",o),a(),l()}},[t?.getKey,e])}function JO(t){return GO(t),null}function ZO(t){const e=[];let r;for(;r=t.parentNode;)e.unshift(`${t.tagName}:nth-child(${[].indexOf.call(r.children,t)+1})`),t=r;return`${e.join(" > ")}`.toLowerCase()}function fi(t){return da({...t,select:e=>t.select?t.select(e.context):e.context})}let XO={data:""},YO=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||XO,eI=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,tI=/\/\*[^]*?\*\/|  +/g,Rx=/\n+/g,Xo=(t,e)=>{let r="",n="",o="";for(let a in t){let l=t[a];a[0]=="@"?a[1]=="i"?r=a+" "+l+";":n+=a[1]=="f"?Xo(l,a):a+"{"+Xo(l,a[1]=="k"?"":e)+"}":typeof l=="object"?n+=Xo(l,e?e.replace(/([^,])+/g,c=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,c):c?c+" "+h:h)):a):l!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Xo.p?Xo.p(a,l):a+":"+l+";")}return r+(e&&o?e+"{"+o+"}":o)+n},Xs={},HN=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+HN(t[r]);return e}return t},rI=(t,e,r,n,o)=>{let a=HN(t),l=Xs[a]||(Xs[a]=(h=>{let m=0,g=11;for(;m<h.length;)g=101*g+h.charCodeAt(m++)>>>0;return"go"+g})(a));if(!Xs[l]){let h=a!==t?t:(m=>{let g,x,N=[{}];for(;g=eI.exec(m.replace(tI,""));)g[4]?N.shift():g[3]?(x=g[3].replace(Rx," ").trim(),N.unshift(N[0][x]=N[0][x]||{})):N[0][g[1]]=g[2].replace(Rx," ").trim();return N[0]})(t);Xs[l]=Xo(o?{["@keyframes "+l]:h}:h,r?"":"."+l)}let c=r&&Xs.g?Xs.g:null;return r&&(Xs.g=Xs[l]),((h,m,g,x)=>{x?m.data=m.data.replace(x,h):m.data.indexOf(h)===-1&&(m.data=g?h+m.data:m.data+h)})(Xs[l],e,n,c),l},nI=(t,e,r)=>t.reduce((n,o,a)=>{let l=e[a];if(l&&l.call){let c=l(r),h=c&&c.props&&c.props.className||/^go/.test(c)&&c;l=h?"."+h:c&&typeof c=="object"?c.props?"":Xo(c,""):c===!1?"":c}return n+o+(l??"")},"");function $p(t){let e=this||{},r=t.call?t(e.p):t;return rI(r.unshift?r.raw?nI(r,[].slice.call(arguments,1),e.p):r.reduce((n,o)=>Object.assign(n,o&&o.call?o(e.p):o),{}):r,YO(e.target),e.g,e.o,e.k)}let QN,$v,zv;$p.bind({g:1});let fo=$p.bind({k:1});function iI(t,e,r,n){Xo.p=e,QN=t,$v=r,zv=n}function xa(t,e){let r=this||{};return function(){let n=arguments;function o(a,l){let c=Object.assign({},a),h=c.className||o.className;r.p=Object.assign({theme:$v&&$v()},c),r.o=/ *go\d+/.test(h),c.className=$p.apply(r,n)+(h?" "+h:"");let m=t;return t[0]&&(m=c.as||t,delete c.as),zv&&m[0]&&zv(c),QN(m,c)}return o}}var sI=t=>typeof t=="function",tp=(t,e)=>sI(t)?t(e):t,oI=(()=>{let t=0;return()=>(++t).toString()})(),KN=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),aI=20,qh=new Map,lI=1e3,Ax=t=>{if(qh.has(t))return;let e=setTimeout(()=>{qh.delete(t),vl({type:4,toastId:t})},lI);qh.set(t,e)},uI=t=>{let e=qh.get(t);e&&clearTimeout(e)},Uv=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,aI)};case 1:return e.toast.id&&uI(e.toast.id),{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:r}=e;return t.toasts.find(a=>a.id===r.id)?Uv(t,{type:1,toast:r}):Uv(t,{type:0,toast:r});case 3:let{toastId:n}=e;return n?Ax(n):t.toasts.forEach(a=>{Ax(a.id)}),{...t,toasts:t.toasts.map(a=>a.id===n||n===void 0?{...a,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let o=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+o}))}}},Ch=[],Oh={toasts:[],pausedAt:void 0},vl=t=>{Oh=Uv(Oh,t),Ch.forEach(e=>{e(Oh)})},cI={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},dI=(t={})=>{let[e,r]=Q.useState(Oh);Q.useEffect(()=>(Ch.push(r),()=>{let o=Ch.indexOf(r);o>-1&&Ch.splice(o,1)}),[e]);let n=e.toasts.map(o=>{var a,l;return{...t,...t[o.type],...o,duration:o.duration||((a=t[o.type])==null?void 0:a.duration)||t?.duration||cI[o.type],style:{...t.style,...(l=t[o.type])==null?void 0:l.style,...o.style}}});return{...e,toasts:n}},fI=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:r?.id||oI()}),Fd=t=>(e,r)=>{let n=fI(e,t,r);return vl({type:2,toast:n}),n.id},qr=(t,e)=>Fd("blank")(t,e);qr.error=Fd("error");qr.success=Fd("success");qr.loading=Fd("loading");qr.custom=Fd("custom");qr.dismiss=t=>{vl({type:3,toastId:t})};qr.remove=t=>vl({type:4,toastId:t});qr.promise=(t,e,r)=>{let n=qr.loading(e.loading,{...r,...r?.loading});return t.then(o=>(qr.success(tp(e.success,o),{id:n,...r,...r?.success}),o)).catch(o=>{qr.error(tp(e.error,o),{id:n,...r,...r?.error})}),t};var hI=(t,e)=>{vl({type:1,toast:{id:t,height:e}})},pI=()=>{vl({type:5,time:Date.now()})},mI=t=>{let{toasts:e,pausedAt:r}=dI(t);Q.useEffect(()=>{if(r)return;let a=Date.now(),l=e.map(c=>{if(c.duration===1/0)return;let h=(c.duration||0)+c.pauseDuration-(a-c.createdAt);if(h<0){c.visible&&qr.dismiss(c.id);return}return setTimeout(()=>qr.dismiss(c.id),h)});return()=>{l.forEach(c=>c&&clearTimeout(c))}},[e,r]);let n=Q.useCallback(()=>{r&&vl({type:6,time:Date.now()})},[r]),o=Q.useCallback((a,l)=>{let{reverseOrder:c=!1,gutter:h=8,defaultPosition:m}=l||{},g=e.filter(q=>(q.position||m)===(a.position||m)&&q.height),x=g.findIndex(q=>q.id===a.id),N=g.filter((q,C)=>C<x&&q.visible).length;return g.filter(q=>q.visible).slice(...c?[N+1]:[0,N]).reduce((q,C)=>q+(C.height||0)+h,0)},[e]);return{toasts:e,handlers:{updateHeight:hI,startPause:pI,endPause:n,calculateOffset:o}}},yI=fo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,gI=fo`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,vI=fo`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,_I=xa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${yI} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${gI} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${vI} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,bI=fo`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,wI=xa("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${bI} 1s linear infinite;
`,xI=fo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,SI=fo`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,EI=xa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${xI} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${SI} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,NI=xa("div")`
  position: absolute;
`,kI=xa("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,qI=fo`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,CI=xa("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${qI} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,OI=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?Q.createElement(CI,null,e):e:r==="blank"?null:Q.createElement(kI,null,Q.createElement(wI,{...n}),r!=="loading"&&Q.createElement(NI,null,r==="error"?Q.createElement(_I,{...n}):Q.createElement(EI,{...n})))},II=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,RI=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,AI="0%{opacity:0;} 100%{opacity:1;}",TI="0%{opacity:1;} 100%{opacity:0;}",PI=xa("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,FI=xa("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,jI=(t,e)=>{let r=t.includes("top")?1:-1,[n,o]=KN()?[AI,TI]:[II(r),RI(r)];return{animation:e?`${fo(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${fo(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},LI=Q.memo(({toast:t,position:e,style:r,children:n})=>{let o=t.height?jI(t.position||e||"top-center",t.visible):{opacity:0},a=Q.createElement(OI,{toast:t}),l=Q.createElement(FI,{...t.ariaProps},tp(t.message,t));return Q.createElement(PI,{className:t.className,style:{...o,...r,...t.style}},typeof n=="function"?n({icon:a,message:l}):Q.createElement(Q.Fragment,null,a,l))});iI(Q.createElement);var DI=({id:t,className:e,style:r,onHeightUpdate:n,children:o})=>{let a=Q.useCallback(l=>{if(l){let c=()=>{let h=l.getBoundingClientRect().height;n(t,h)};c(),new MutationObserver(c).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return Q.createElement("div",{ref:a,className:e,style:r},o)},MI=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},o=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:KN()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...o}},BI=$p`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ph=16,WI=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:o,containerStyle:a,containerClassName:l})=>{let{toasts:c,handlers:h}=mI(r);return Q.createElement("div",{style:{position:"fixed",zIndex:9999,top:ph,left:ph,right:ph,bottom:ph,pointerEvents:"none",...a},className:l,onMouseEnter:h.startPause,onMouseLeave:h.endPause},c.map(m=>{let g=m.position||e,x=h.calculateOffset(m,{reverseOrder:t,gutter:n,defaultPosition:e}),N=MI(g,x);return Q.createElement(DI,{id:m.id,key:m.id,onHeightUpdate:h.updateHeight,className:m.visible?BI:"",style:N},m.type==="custom"?tp(m.message,m):o?o(m):Q.createElement(LI,{toast:m,position:g}))}))},$I=qr;function GN(t,e){return function(){return t.apply(e,arguments)}}const{toString:zI}=Object.prototype,{getPrototypeOf:F_}=Object,zp=(t=>e=>{const r=zI.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),fs=t=>(t=t.toLowerCase(),e=>zp(e)===t),Up=t=>e=>typeof e===t,{isArray:Fu}=Array,od=Up("undefined");function UI(t){return t!==null&&!od(t)&&t.constructor!==null&&!od(t.constructor)&&ki(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const JN=fs("ArrayBuffer");function VI(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&JN(t.buffer),e}const HI=Up("string"),ki=Up("function"),ZN=Up("number"),Vp=t=>t!==null&&typeof t=="object",QI=t=>t===!0||t===!1,Ih=t=>{if(zp(t)!=="object")return!1;const e=F_(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},KI=fs("Date"),GI=fs("File"),JI=fs("Blob"),ZI=fs("FileList"),XI=t=>Vp(t)&&ki(t.pipe),YI=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ki(t.append)&&((e=zp(t))==="formdata"||e==="object"&&ki(t.toString)&&t.toString()==="[object FormData]"))},eR=fs("URLSearchParams"),[tR,rR,nR,iR]=["ReadableStream","Request","Response","Headers"].map(fs),sR=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function jd(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,o;if(typeof t!="object"&&(t=[t]),Fu(t))for(n=0,o=t.length;n<o;n++)e.call(null,t[n],n,t);else{const a=r?Object.getOwnPropertyNames(t):Object.keys(t),l=a.length;let c;for(n=0;n<l;n++)c=a[n],e.call(null,t[c],c,t)}}function XN(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,o;for(;n-- >0;)if(o=r[n],e===o.toLowerCase())return o;return null}const Xa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,YN=t=>!od(t)&&t!==Xa;function Vv(){const{caseless:t}=YN(this)&&this||{},e={},r=(n,o)=>{const a=t&&XN(e,o)||o;Ih(e[a])&&Ih(n)?e[a]=Vv(e[a],n):Ih(n)?e[a]=Vv({},n):Fu(n)?e[a]=n.slice():e[a]=n};for(let n=0,o=arguments.length;n<o;n++)arguments[n]&&jd(arguments[n],r);return e}const oR=(t,e,r,{allOwnKeys:n}={})=>(jd(e,(o,a)=>{r&&ki(o)?t[a]=GN(o,r):t[a]=o},{allOwnKeys:n}),t),aR=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),lR=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},uR=(t,e,r,n)=>{let o,a,l;const c={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),a=o.length;a-- >0;)l=o[a],(!n||n(l,t,e))&&!c[l]&&(e[l]=t[l],c[l]=!0);t=r!==!1&&F_(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},cR=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},dR=t=>{if(!t)return null;if(Fu(t))return t;let e=t.length;if(!ZN(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},fR=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&F_(Uint8Array)),hR=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let o;for(;(o=n.next())&&!o.done;){const a=o.value;e.call(t,a[0],a[1])}},pR=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},mR=fs("HTMLFormElement"),yR=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,o){return n.toUpperCase()+o}),Tx=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),gR=fs("RegExp"),e1=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};jd(r,(o,a)=>{let l;(l=e(o,a,t))!==!1&&(n[a]=l||o)}),Object.defineProperties(t,n)},vR=t=>{e1(t,(e,r)=>{if(ki(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(ki(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},_R=(t,e)=>{const r={},n=o=>{o.forEach(a=>{r[a]=!0})};return Fu(t)?n(t):n(String(t).split(e)),r},bR=()=>{},wR=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Eg="abcdefghijklmnopqrstuvwxyz",Px="0123456789",t1={DIGIT:Px,ALPHA:Eg,ALPHA_DIGIT:Eg+Eg.toUpperCase()+Px},xR=(t=16,e=t1.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function SR(t){return!!(t&&ki(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const ER=t=>{const e=new Array(10),r=(n,o)=>{if(Vp(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[o]=n;const a=Fu(n)?[]:{};return jd(n,(l,c)=>{const h=r(l,o+1);!od(h)&&(a[c]=h)}),e[o]=void 0,a}}return n};return r(t,0)},NR=fs("AsyncFunction"),kR=t=>t&&(Vp(t)||ki(t))&&ki(t.then)&&ki(t.catch),r1=((t,e)=>t?setImmediate:e?((r,n)=>(Xa.addEventListener("message",({source:o,data:a})=>{o===Xa&&a===r&&n.length&&n.shift()()},!1),o=>{n.push(o),Xa.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ki(Xa.postMessage)),qR=typeof queueMicrotask<"u"?queueMicrotask.bind(Xa):typeof process<"u"&&process.nextTick||r1,$e={isArray:Fu,isArrayBuffer:JN,isBuffer:UI,isFormData:YI,isArrayBufferView:VI,isString:HI,isNumber:ZN,isBoolean:QI,isObject:Vp,isPlainObject:Ih,isReadableStream:tR,isRequest:rR,isResponse:nR,isHeaders:iR,isUndefined:od,isDate:KI,isFile:GI,isBlob:JI,isRegExp:gR,isFunction:ki,isStream:XI,isURLSearchParams:eR,isTypedArray:fR,isFileList:ZI,forEach:jd,merge:Vv,extend:oR,trim:sR,stripBOM:aR,inherits:lR,toFlatObject:uR,kindOf:zp,kindOfTest:fs,endsWith:cR,toArray:dR,forEachEntry:hR,matchAll:pR,isHTMLForm:mR,hasOwnProperty:Tx,hasOwnProp:Tx,reduceDescriptors:e1,freezeMethods:vR,toObjectSet:_R,toCamelCase:yR,noop:bR,toFiniteNumber:wR,findKey:XN,global:Xa,isContextDefined:YN,ALPHABET:t1,generateString:xR,isSpecCompliantForm:SR,toJSONObject:ER,isAsyncFn:NR,isThenable:kR,setImmediate:r1,asap:qR};function rr(t,e,r,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o,this.status=o.status?o.status:null)}$e.inherits(rr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$e.toJSONObject(this.config),code:this.code,status:this.status}}});const n1=rr.prototype,i1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{i1[t]={value:t}});Object.defineProperties(rr,i1);Object.defineProperty(n1,"isAxiosError",{value:!0});rr.from=(t,e,r,n,o,a)=>{const l=Object.create(n1);return $e.toFlatObject(t,l,function(h){return h!==Error.prototype},c=>c!=="isAxiosError"),rr.call(l,t.message,e,r,n,o),l.cause=t,l.name=t.name,a&&Object.assign(l,a),l};const CR=null;function Hv(t){return $e.isPlainObject(t)||$e.isArray(t)}function s1(t){return $e.endsWith(t,"[]")?t.slice(0,-2):t}function Fx(t,e,r){return t?t.concat(e).map(function(o,a){return o=s1(o),!r&&a?"["+o+"]":o}).join(r?".":""):e}function OR(t){return $e.isArray(t)&&!t.some(Hv)}const IR=$e.toFlatObject($e,{},null,function(e){return/^is[A-Z]/.test(e)});function Hp(t,e,r){if(!$e.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=$e.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(O,P){return!$e.isUndefined(P[O])});const n=r.metaTokens,o=r.visitor||g,a=r.dots,l=r.indexes,h=(r.Blob||typeof Blob<"u"&&Blob)&&$e.isSpecCompliantForm(e);if(!$e.isFunction(o))throw new TypeError("visitor must be a function");function m(C){if(C===null)return"";if($e.isDate(C))return C.toISOString();if(!h&&$e.isBlob(C))throw new rr("Blob is not supported. Use a Buffer instead.");return $e.isArrayBuffer(C)||$e.isTypedArray(C)?h&&typeof Blob=="function"?new Blob([C]):Buffer.from(C):C}function g(C,O,P){let M=C;if(C&&!P&&typeof C=="object"){if($e.endsWith(O,"{}"))O=n?O:O.slice(0,-2),C=JSON.stringify(C);else if($e.isArray(C)&&OR(C)||($e.isFileList(C)||$e.endsWith(O,"[]"))&&(M=$e.toArray(C)))return O=s1(O),M.forEach(function($,U){!($e.isUndefined($)||$===null)&&e.append(l===!0?Fx([O],U,a):l===null?O:O+"[]",m($))}),!1}return Hv(C)?!0:(e.append(Fx(P,O,a),m(C)),!1)}const x=[],N=Object.assign(IR,{defaultVisitor:g,convertValue:m,isVisitable:Hv});function q(C,O){if(!$e.isUndefined(C)){if(x.indexOf(C)!==-1)throw Error("Circular reference detected in "+O.join("."));x.push(C),$e.forEach(C,function(M,j){(!($e.isUndefined(M)||M===null)&&o.call(e,M,$e.isString(j)?j.trim():j,O,N))===!0&&q(M,O?O.concat(j):[j])}),x.pop()}}if(!$e.isObject(t))throw new TypeError("data must be an object");return q(t),e}function jx(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function j_(t,e){this._pairs=[],t&&Hp(t,this,e)}const o1=j_.prototype;o1.append=function(e,r){this._pairs.push([e,r])};o1.toString=function(e){const r=e?function(n){return e.call(this,n,jx)}:jx;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function RR(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function a1(t,e,r){if(!e)return t;const n=r&&r.encode||RR;$e.isFunction(r)&&(r={serialize:r});const o=r&&r.serialize;let a;if(o?a=o(e,r):a=$e.isURLSearchParams(e)?e.toString():new j_(e,r).toString(n),a){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class Lx{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){$e.forEach(this.handlers,function(n){n!==null&&e(n)})}}const l1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},AR=typeof URLSearchParams<"u"?URLSearchParams:j_,TR=typeof FormData<"u"?FormData:null,PR=typeof Blob<"u"?Blob:null,FR={isBrowser:!0,classes:{URLSearchParams:AR,FormData:TR,Blob:PR},protocols:["http","https","file","blob","url","data"]},L_=typeof window<"u"&&typeof document<"u",Qv=typeof navigator=="object"&&navigator||void 0,jR=L_&&(!Qv||["ReactNative","NativeScript","NS"].indexOf(Qv.product)<0),LR=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",DR=L_&&window.location.href||"http://localhost",MR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:L_,hasStandardBrowserEnv:jR,hasStandardBrowserWebWorkerEnv:LR,navigator:Qv,origin:DR},Symbol.toStringTag,{value:"Module"})),Tn={...MR,...FR};function BR(t,e){return Hp(t,new Tn.classes.URLSearchParams,Object.assign({visitor:function(r,n,o,a){return Tn.isNode&&$e.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function WR(t){return $e.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function $R(t){const e={},r=Object.keys(t);let n;const o=r.length;let a;for(n=0;n<o;n++)a=r[n],e[a]=t[a];return e}function u1(t){function e(r,n,o,a){let l=r[a++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),h=a>=r.length;return l=!l&&$e.isArray(o)?o.length:l,h?($e.hasOwnProp(o,l)?o[l]=[o[l],n]:o[l]=n,!c):((!o[l]||!$e.isObject(o[l]))&&(o[l]=[]),e(r,n,o[l],a)&&$e.isArray(o[l])&&(o[l]=$R(o[l])),!c)}if($e.isFormData(t)&&$e.isFunction(t.entries)){const r={};return $e.forEachEntry(t,(n,o)=>{e(WR(n),o,r,0)}),r}return null}function zR(t,e,r){if($e.isString(t))try{return(e||JSON.parse)(t),$e.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Ld={transitional:l1,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",o=n.indexOf("application/json")>-1,a=$e.isObject(e);if(a&&$e.isHTMLForm(e)&&(e=new FormData(e)),$e.isFormData(e))return o?JSON.stringify(u1(e)):e;if($e.isArrayBuffer(e)||$e.isBuffer(e)||$e.isStream(e)||$e.isFile(e)||$e.isBlob(e)||$e.isReadableStream(e))return e;if($e.isArrayBufferView(e))return e.buffer;if($e.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return BR(e,this.formSerializer).toString();if((c=$e.isFileList(e))||n.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return Hp(c?{"files[]":e}:e,h&&new h,this.formSerializer)}}return a||o?(r.setContentType("application/json",!1),zR(e)):e}],transformResponse:[function(e){const r=this.transitional||Ld.transitional,n=r&&r.forcedJSONParsing,o=this.responseType==="json";if($e.isResponse(e)||$e.isReadableStream(e))return e;if(e&&$e.isString(e)&&(n&&!this.responseType||o)){const l=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(c){if(l)throw c.name==="SyntaxError"?rr.from(c,rr.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Tn.classes.FormData,Blob:Tn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$e.forEach(["delete","get","head","post","put","patch"],t=>{Ld.headers[t]={}});const UR=$e.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),VR=t=>{const e={};let r,n,o;return t&&t.split(`
`).forEach(function(l){o=l.indexOf(":"),r=l.substring(0,o).trim().toLowerCase(),n=l.substring(o+1).trim(),!(!r||e[r]&&UR[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},Dx=Symbol("internals");function Rc(t){return t&&String(t).trim().toLowerCase()}function Rh(t){return t===!1||t==null?t:$e.isArray(t)?t.map(Rh):String(t)}function HR(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const QR=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Ng(t,e,r,n,o){if($e.isFunction(n))return n.call(this,e,r);if(o&&(e=r),!!$e.isString(e)){if($e.isString(n))return e.indexOf(n)!==-1;if($e.isRegExp(n))return n.test(e)}}function KR(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function GR(t,e){const r=$e.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(o,a,l){return this[n].call(this,e,o,a,l)},configurable:!0})})}let li=class{constructor(e){e&&this.set(e)}set(e,r,n){const o=this;function a(c,h,m){const g=Rc(h);if(!g)throw new Error("header name must be a non-empty string");const x=$e.findKey(o,g);(!x||o[x]===void 0||m===!0||m===void 0&&o[x]!==!1)&&(o[x||h]=Rh(c))}const l=(c,h)=>$e.forEach(c,(m,g)=>a(m,g,h));if($e.isPlainObject(e)||e instanceof this.constructor)l(e,r);else if($e.isString(e)&&(e=e.trim())&&!QR(e))l(VR(e),r);else if($e.isHeaders(e))for(const[c,h]of e.entries())a(h,c,n);else e!=null&&a(r,e,n);return this}get(e,r){if(e=Rc(e),e){const n=$e.findKey(this,e);if(n){const o=this[n];if(!r)return o;if(r===!0)return HR(o);if($e.isFunction(r))return r.call(this,o,n);if($e.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Rc(e),e){const n=$e.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Ng(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let o=!1;function a(l){if(l=Rc(l),l){const c=$e.findKey(n,l);c&&(!r||Ng(n,n[c],c,r))&&(delete n[c],o=!0)}}return $e.isArray(e)?e.forEach(a):a(e),o}clear(e){const r=Object.keys(this);let n=r.length,o=!1;for(;n--;){const a=r[n];(!e||Ng(this,this[a],a,e,!0))&&(delete this[a],o=!0)}return o}normalize(e){const r=this,n={};return $e.forEach(this,(o,a)=>{const l=$e.findKey(n,a);if(l){r[l]=Rh(o),delete r[a];return}const c=e?KR(a):String(a).trim();c!==a&&delete r[a],r[c]=Rh(o),n[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return $e.forEach(this,(n,o)=>{n!=null&&n!==!1&&(r[o]=e&&$e.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(o=>n.set(o)),n}static accessor(e){const n=(this[Dx]=this[Dx]={accessors:{}}).accessors,o=this.prototype;function a(l){const c=Rc(l);n[c]||(GR(o,l),n[c]=!0)}return $e.isArray(e)?e.forEach(a):a(e),this}};li.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$e.reduceDescriptors(li.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});$e.freezeMethods(li);function kg(t,e){const r=this||Ld,n=e||r,o=li.from(n.headers);let a=n.data;return $e.forEach(t,function(c){a=c.call(r,a,o.normalize(),e?e.status:void 0)}),o.normalize(),a}function c1(t){return!!(t&&t.__CANCEL__)}function ju(t,e,r){rr.call(this,t??"canceled",rr.ERR_CANCELED,e,r),this.name="CanceledError"}$e.inherits(ju,rr,{__CANCEL__:!0});function d1(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new rr("Request failed with status code "+r.status,[rr.ERR_BAD_REQUEST,rr.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function JR(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function ZR(t,e){t=t||10;const r=new Array(t),n=new Array(t);let o=0,a=0,l;return e=e!==void 0?e:1e3,function(h){const m=Date.now(),g=n[a];l||(l=m),r[o]=h,n[o]=m;let x=a,N=0;for(;x!==o;)N+=r[x++],x=x%t;if(o=(o+1)%t,o===a&&(a=(a+1)%t),m-l<e)return;const q=g&&m-g;return q?Math.round(N*1e3/q):void 0}}function XR(t,e){let r=0,n=1e3/e,o,a;const l=(m,g=Date.now())=>{r=g,o=null,a&&(clearTimeout(a),a=null),t.apply(null,m)};return[(...m)=>{const g=Date.now(),x=g-r;x>=n?l(m,g):(o=m,a||(a=setTimeout(()=>{a=null,l(o)},n-x)))},()=>o&&l(o)]}const rp=(t,e,r=3)=>{let n=0;const o=ZR(50,250);return XR(a=>{const l=a.loaded,c=a.lengthComputable?a.total:void 0,h=l-n,m=o(h),g=l<=c;n=l;const x={loaded:l,total:c,progress:c?l/c:void 0,bytes:h,rate:m||void 0,estimated:m&&c&&g?(c-l)/m:void 0,event:a,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(x)},r)},Mx=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},Bx=t=>(...e)=>$e.asap(()=>t(...e)),YR=Tn.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Tn.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Tn.origin),Tn.navigator&&/(msie|trident)/i.test(Tn.navigator.userAgent)):()=>!0,eA=Tn.hasStandardBrowserEnv?{write(t,e,r,n,o,a){const l=[t+"="+encodeURIComponent(e)];$e.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),$e.isString(n)&&l.push("path="+n),$e.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function tA(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function rA(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function f1(t,e){return t&&!tA(e)?rA(t,e):e}const Wx=t=>t instanceof li?{...t}:t;function al(t,e){e=e||{};const r={};function n(m,g,x,N){return $e.isPlainObject(m)&&$e.isPlainObject(g)?$e.merge.call({caseless:N},m,g):$e.isPlainObject(g)?$e.merge({},g):$e.isArray(g)?g.slice():g}function o(m,g,x,N){if($e.isUndefined(g)){if(!$e.isUndefined(m))return n(void 0,m,x,N)}else return n(m,g,x,N)}function a(m,g){if(!$e.isUndefined(g))return n(void 0,g)}function l(m,g){if($e.isUndefined(g)){if(!$e.isUndefined(m))return n(void 0,m)}else return n(void 0,g)}function c(m,g,x){if(x in e)return n(m,g);if(x in t)return n(void 0,m)}const h={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(m,g,x)=>o(Wx(m),Wx(g),x,!0)};return $e.forEach(Object.keys(Object.assign({},t,e)),function(g){const x=h[g]||o,N=x(t[g],e[g],g);$e.isUndefined(N)&&x!==c||(r[g]=N)}),r}const h1=t=>{const e=al({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:o,xsrfCookieName:a,headers:l,auth:c}=e;e.headers=l=li.from(l),e.url=a1(f1(e.baseURL,e.url),t.params,t.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let h;if($e.isFormData(r)){if(Tn.hasStandardBrowserEnv||Tn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((h=l.getContentType())!==!1){const[m,...g]=h?h.split(";").map(x=>x.trim()).filter(Boolean):[];l.setContentType([m||"multipart/form-data",...g].join("; "))}}if(Tn.hasStandardBrowserEnv&&(n&&$e.isFunction(n)&&(n=n(e)),n||n!==!1&&YR(e.url))){const m=o&&a&&eA.read(a);m&&l.set(o,m)}return e},nA=typeof XMLHttpRequest<"u",iA=nA&&function(t){return new Promise(function(r,n){const o=h1(t);let a=o.data;const l=li.from(o.headers).normalize();let{responseType:c,onUploadProgress:h,onDownloadProgress:m}=o,g,x,N,q,C;function O(){q&&q(),C&&C(),o.cancelToken&&o.cancelToken.unsubscribe(g),o.signal&&o.signal.removeEventListener("abort",g)}let P=new XMLHttpRequest;P.open(o.method.toUpperCase(),o.url,!0),P.timeout=o.timeout;function M(){if(!P)return;const $=li.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),G={data:!c||c==="text"||c==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:$,config:t,request:P};d1(function(J){r(J),O()},function(J){n(J),O()},G),P=null}"onloadend"in P?P.onloadend=M:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(M)},P.onabort=function(){P&&(n(new rr("Request aborted",rr.ECONNABORTED,t,P)),P=null)},P.onerror=function(){n(new rr("Network Error",rr.ERR_NETWORK,t,P)),P=null},P.ontimeout=function(){let U=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const G=o.transitional||l1;o.timeoutErrorMessage&&(U=o.timeoutErrorMessage),n(new rr(U,G.clarifyTimeoutError?rr.ETIMEDOUT:rr.ECONNABORTED,t,P)),P=null},a===void 0&&l.setContentType(null),"setRequestHeader"in P&&$e.forEach(l.toJSON(),function(U,G){P.setRequestHeader(G,U)}),$e.isUndefined(o.withCredentials)||(P.withCredentials=!!o.withCredentials),c&&c!=="json"&&(P.responseType=o.responseType),m&&([N,C]=rp(m,!0),P.addEventListener("progress",N)),h&&P.upload&&([x,q]=rp(h),P.upload.addEventListener("progress",x),P.upload.addEventListener("loadend",q)),(o.cancelToken||o.signal)&&(g=$=>{P&&(n(!$||$.type?new ju(null,t,P):$),P.abort(),P=null)},o.cancelToken&&o.cancelToken.subscribe(g),o.signal&&(o.signal.aborted?g():o.signal.addEventListener("abort",g)));const j=JR(o.url);if(j&&Tn.protocols.indexOf(j)===-1){n(new rr("Unsupported protocol "+j+":",rr.ERR_BAD_REQUEST,t));return}P.send(a||null)})},sA=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,o;const a=function(m){if(!o){o=!0,c();const g=m instanceof Error?m:this.reason;n.abort(g instanceof rr?g:new ju(g instanceof Error?g.message:g))}};let l=e&&setTimeout(()=>{l=null,a(new rr(`timeout ${e} of ms exceeded`,rr.ETIMEDOUT))},e);const c=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(a):m.removeEventListener("abort",a)}),t=null)};t.forEach(m=>m.addEventListener("abort",a));const{signal:h}=n;return h.unsubscribe=()=>$e.asap(c),h}},oA=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,o;for(;n<r;)o=n+e,yield t.slice(n,o),n=o},aA=async function*(t,e){for await(const r of lA(t))yield*oA(r,e)},lA=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},$x=(t,e,r,n)=>{const o=aA(t,e);let a=0,l,c=h=>{l||(l=!0,n&&n(h))};return new ReadableStream({async pull(h){try{const{done:m,value:g}=await o.next();if(m){c(),h.close();return}let x=g.byteLength;if(r){let N=a+=x;r(N)}h.enqueue(new Uint8Array(g))}catch(m){throw c(m),m}},cancel(h){return c(h),o.return()}},{highWaterMark:2})},Qp=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",p1=Qp&&typeof ReadableStream=="function",uA=Qp&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),m1=(t,...e)=>{try{return!!t(...e)}catch{return!1}},cA=p1&&m1(()=>{let t=!1;const e=new Request(Tn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),zx=64*1024,Kv=p1&&m1(()=>$e.isReadableStream(new Response("").body)),np={stream:Kv&&(t=>t.body)};Qp&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!np[e]&&(np[e]=$e.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new rr(`Response type '${e}' is not supported`,rr.ERR_NOT_SUPPORT,n)})})})(new Response);const dA=async t=>{if(t==null)return 0;if($e.isBlob(t))return t.size;if($e.isSpecCompliantForm(t))return(await new Request(Tn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if($e.isArrayBufferView(t)||$e.isArrayBuffer(t))return t.byteLength;if($e.isURLSearchParams(t)&&(t=t+""),$e.isString(t))return(await uA(t)).byteLength},fA=async(t,e)=>{const r=$e.toFiniteNumber(t.getContentLength());return r??dA(e)},hA=Qp&&(async t=>{let{url:e,method:r,data:n,signal:o,cancelToken:a,timeout:l,onDownloadProgress:c,onUploadProgress:h,responseType:m,headers:g,withCredentials:x="same-origin",fetchOptions:N}=h1(t);m=m?(m+"").toLowerCase():"text";let q=sA([o,a&&a.toAbortSignal()],l),C;const O=q&&q.unsubscribe&&(()=>{q.unsubscribe()});let P;try{if(h&&cA&&r!=="get"&&r!=="head"&&(P=await fA(g,n))!==0){let G=new Request(e,{method:"POST",body:n,duplex:"half"}),B;if($e.isFormData(n)&&(B=G.headers.get("content-type"))&&g.setContentType(B),G.body){const[J,re]=Mx(P,rp(Bx(h)));n=$x(G.body,zx,J,re)}}$e.isString(x)||(x=x?"include":"omit");const M="credentials"in Request.prototype;C=new Request(e,{...N,signal:q,method:r.toUpperCase(),headers:g.normalize().toJSON(),body:n,duplex:"half",credentials:M?x:void 0});let j=await fetch(C);const $=Kv&&(m==="stream"||m==="response");if(Kv&&(c||$&&O)){const G={};["status","statusText","headers"].forEach(V=>{G[V]=j[V]});const B=$e.toFiniteNumber(j.headers.get("content-length")),[J,re]=c&&Mx(B,rp(Bx(c),!0))||[];j=new Response($x(j.body,zx,J,()=>{re&&re(),O&&O()}),G)}m=m||"text";let U=await np[$e.findKey(np,m)||"text"](j,t);return!$&&O&&O(),await new Promise((G,B)=>{d1(G,B,{data:U,headers:li.from(j.headers),status:j.status,statusText:j.statusText,config:t,request:C})})}catch(M){throw O&&O(),M&&M.name==="TypeError"&&/fetch/i.test(M.message)?Object.assign(new rr("Network Error",rr.ERR_NETWORK,t,C),{cause:M.cause||M}):rr.from(M,M&&M.code,t,C)}}),Gv={http:CR,xhr:iA,fetch:hA};$e.forEach(Gv,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Ux=t=>`- ${t}`,pA=t=>$e.isFunction(t)||t===null||t===!1,y1={getAdapter:t=>{t=$e.isArray(t)?t:[t];const{length:e}=t;let r,n;const o={};for(let a=0;a<e;a++){r=t[a];let l;if(n=r,!pA(r)&&(n=Gv[(l=String(r)).toLowerCase()],n===void 0))throw new rr(`Unknown adapter '${l}'`);if(n)break;o[l||"#"+a]=n}if(!n){const a=Object.entries(o).map(([c,h])=>`adapter ${c} `+(h===!1?"is not supported by the environment":"is not available in the build"));let l=e?a.length>1?`since :
`+a.map(Ux).join(`
`):" "+Ux(a[0]):"as no adapter specified";throw new rr("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:Gv};function qg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ju(null,t)}function Vx(t){return qg(t),t.headers=li.from(t.headers),t.data=kg.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),y1.getAdapter(t.adapter||Ld.adapter)(t).then(function(n){return qg(t),n.data=kg.call(t,t.transformResponse,n),n.headers=li.from(n.headers),n},function(n){return c1(n)||(qg(t),n&&n.response&&(n.response.data=kg.call(t,t.transformResponse,n.response),n.response.headers=li.from(n.response.headers))),Promise.reject(n)})}const g1="1.7.9",Kp={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Kp[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const Hx={};Kp.transitional=function(e,r,n){function o(a,l){return"[Axios v"+g1+"] Transitional option '"+a+"'"+l+(n?". "+n:"")}return(a,l,c)=>{if(e===!1)throw new rr(o(l," has been removed"+(r?" in "+r:"")),rr.ERR_DEPRECATED);return r&&!Hx[l]&&(Hx[l]=!0,console.warn(o(l," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,l,c):!0}};Kp.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function mA(t,e,r){if(typeof t!="object")throw new rr("options must be an object",rr.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let o=n.length;for(;o-- >0;){const a=n[o],l=e[a];if(l){const c=t[a],h=c===void 0||l(c,a,t);if(h!==!0)throw new rr("option "+a+" must be "+h,rr.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new rr("Unknown option "+a,rr.ERR_BAD_OPTION)}}const Ah={assertOptions:mA,validators:Kp},Es=Ah.validators;let rl=class{constructor(e){this.defaults=e,this.interceptors={request:new Lx,response:new Lx}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=al(this.defaults,r);const{transitional:n,paramsSerializer:o,headers:a}=r;n!==void 0&&Ah.assertOptions(n,{silentJSONParsing:Es.transitional(Es.boolean),forcedJSONParsing:Es.transitional(Es.boolean),clarifyTimeoutError:Es.transitional(Es.boolean)},!1),o!=null&&($e.isFunction(o)?r.paramsSerializer={serialize:o}:Ah.assertOptions(o,{encode:Es.function,serialize:Es.function},!0)),Ah.assertOptions(r,{baseUrl:Es.spelling("baseURL"),withXsrfToken:Es.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=a&&$e.merge(a.common,a[r.method]);a&&$e.forEach(["delete","get","head","post","put","patch","common"],C=>{delete a[C]}),r.headers=li.concat(l,a);const c=[];let h=!0;this.interceptors.request.forEach(function(O){typeof O.runWhen=="function"&&O.runWhen(r)===!1||(h=h&&O.synchronous,c.unshift(O.fulfilled,O.rejected))});const m=[];this.interceptors.response.forEach(function(O){m.push(O.fulfilled,O.rejected)});let g,x=0,N;if(!h){const C=[Vx.bind(this),void 0];for(C.unshift.apply(C,c),C.push.apply(C,m),N=C.length,g=Promise.resolve(r);x<N;)g=g.then(C[x++],C[x++]);return g}N=c.length;let q=r;for(x=0;x<N;){const C=c[x++],O=c[x++];try{q=C(q)}catch(P){O.call(this,P);break}}try{g=Vx.call(this,q)}catch(C){return Promise.reject(C)}for(x=0,N=m.length;x<N;)g=g.then(m[x++],m[x++]);return g}getUri(e){e=al(this.defaults,e);const r=f1(e.baseURL,e.url);return a1(r,e.params,e.paramsSerializer)}};$e.forEach(["delete","get","head","options"],function(e){rl.prototype[e]=function(r,n){return this.request(al(n||{},{method:e,url:r,data:(n||{}).data}))}});$e.forEach(["post","put","patch"],function(e){function r(n){return function(a,l,c){return this.request(al(c||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}rl.prototype[e]=r(),rl.prototype[e+"Form"]=r(!0)});let yA=class v1{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(o=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](o);n._listeners=null}),this.promise.then=o=>{let a;const l=new Promise(c=>{n.subscribe(c),a=c}).then(o);return l.cancel=function(){n.unsubscribe(a)},l},e(function(a,l,c){n.reason||(n.reason=new ju(a,l,c),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new v1(function(o){e=o}),cancel:e}}};function gA(t){return function(r){return t.apply(null,r)}}function vA(t){return $e.isObject(t)&&t.isAxiosError===!0}const Jv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Jv).forEach(([t,e])=>{Jv[e]=t});function _1(t){const e=new rl(t),r=GN(rl.prototype.request,e);return $e.extend(r,rl.prototype,e,{allOwnKeys:!0}),$e.extend(r,e,null,{allOwnKeys:!0}),r.create=function(o){return _1(al(t,o))},r}const sn=_1(Ld);sn.Axios=rl;sn.CanceledError=ju;sn.CancelToken=yA;sn.isCancel=c1;sn.VERSION=g1;sn.toFormData=Hp;sn.AxiosError=rr;sn.Cancel=sn.CanceledError;sn.all=function(e){return Promise.all(e)};sn.spread=gA;sn.isAxiosError=vA;sn.mergeConfig=al;sn.AxiosHeaders=li;sn.formToJSON=t=>u1($e.isHTMLForm(t)?new FormData(t):t);sn.getAdapter=y1.getAdapter;sn.HttpStatusCode=Jv;sn.default=sn;const{Axios:H4,AxiosError:_A,CanceledError:Q4,isCancel:K4,CancelToken:G4,VERSION:J4,all:Z4,Cancel:X4,isAxiosError:Y4,spread:eW,toFormData:tW,AxiosHeaders:rW,HttpStatusCode:nW,formToJSON:iW,getAdapter:sW,mergeConfig:oW}=sn,D_=({error:t,schema:e,onError:r})=>{if(t instanceof _A){const o=e.safeParse(t.response?.data);return o.success&&r({error:t,data:o.data}),o.success}return!1};var Cg,Qx;function bA(){if(Qx)return Cg;Qx=1;function t(n){this.queue=[],this.timeslotRequests=0,this.interceptors={request:null,response:null},this.handleRequest=this.handleRequest.bind(this),this.handleResponse=this.handleResponse.bind(this),this.enable(n)}t.prototype.getMaxRPS=function(){var n=this.perMilliseconds/1e3;return this.maxRequests/n},t.prototype.getQueue=function(){return this.queue},t.prototype.setMaxRPS=function(n){this.setRateLimitOptions({maxRequests:n,perMilliseconds:1e3})},t.prototype.setRateLimitOptions=function(n){n.maxRPS?this.setMaxRPS(n.maxRPS):(this.perMilliseconds=n.perMilliseconds,this.maxRequests=n.maxRequests)},t.prototype.enable=function(n){function o(a){return Promise.reject(a)}this.interceptors.request=n.interceptors.request.use(this.handleRequest,o),this.interceptors.response=n.interceptors.response.use(this.handleResponse,o)};function e(n){n.cancelToken&&n.cancelToken.throwIfRequested()}t.prototype.handleRequest=function(n){return new Promise(function(o,a){this.push({resolve:function(){try{e(n)}catch(l){return a(l),!1}return o(n),!0}})}.bind(this))},t.prototype.handleResponse=function(n){return this.shift(),n},t.prototype.push=function(n){this.queue.push(n),this.shiftInitial()},t.prototype.shiftInitial=function(){setTimeout(function(){return this.shift()}.bind(this),0)},t.prototype.shift=function(){if(this.queue.length){if(this.timeslotRequests===this.maxRequests){this.timeoutId&&typeof this.timeoutId.ref=="function"&&this.timeoutId.ref();return}var n=this.queue.shift(),o=n.resolve();if(this.timeslotRequests===0&&(this.timeoutId=setTimeout(function(){this.timeslotRequests=0,this.shift()}.bind(this),this.perMilliseconds),typeof this.timeoutId.unref=="function"&&this.queue.length===0&&this.timeoutId.unref()),!o){this.shift();return}this.timeslotRequests+=1}};function r(n,o){var a=new t(n);return a.setRateLimitOptions(o),n.getQueue=t.prototype.getQueue.bind(a),n.getMaxRPS=t.prototype.getMaxRPS.bind(a),n.setMaxRPS=t.prototype.setMaxRPS.bind(a),n.setRateLimitOptions=t.prototype.setRateLimitOptions.bind(a),n}return Cg=r,Cg}var wA=bA();const xA=Tu(wA),SA=({instance:t,limit:e}={})=>xA(t||sn,e||{maxRequests:5,perMilliseconds:100}),M_="-",EA=t=>{const e=kA(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:l=>{const c=l.split(M_);return c[0]===""&&c.length!==1&&c.shift(),b1(c,e)||NA(l)},getConflictingClassGroupIds:(l,c)=>{const h=r[l]||[];return c&&n[l]?[...h,...n[l]]:h}}},b1=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),o=n?b1(t.slice(1),n):void 0;if(o)return o;if(e.validators.length===0)return;const a=t.join(M_);return e.validators.find(({validator:l})=>l(a))?.classGroupId},Kx=/^\[(.+)\]$/,NA=t=>{if(Kx.test(t)){const e=Kx.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},kA=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return CA(Object.entries(t.classGroups),r).forEach(([a,l])=>{Zv(l,n,a,e)}),n},Zv=(t,e,r,n)=>{t.forEach(o=>{if(typeof o=="string"){const a=o===""?e:Gx(e,o);a.classGroupId=r;return}if(typeof o=="function"){if(qA(o)){Zv(o(n),e,r,n);return}e.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([a,l])=>{Zv(l,Gx(e,a),r,n)})})},Gx=(t,e)=>{let r=t;return e.split(M_).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},qA=t=>t.isThemeGetter,CA=(t,e)=>e?t.map(([r,n])=>{const o=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([l,c])=>[e+l,c])):a);return[r,o]}):t,OA=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const o=(a,l)=>{r.set(a,l),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let l=r.get(a);if(l!==void 0)return l;if((l=n.get(a))!==void 0)return o(a,l),l},set(a,l){r.has(a)?r.set(a,l):o(a,l)}}},w1="!",IA=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,o=e[0],a=e.length,l=c=>{const h=[];let m=0,g=0,x;for(let P=0;P<c.length;P++){let M=c[P];if(m===0){if(M===o&&(n||c.slice(P,P+a)===e)){h.push(c.slice(g,P)),g=P+a;continue}if(M==="/"){x=P;continue}}M==="["?m++:M==="]"&&m--}const N=h.length===0?c:c.substring(g),q=N.startsWith(w1),C=q?N.substring(1):N,O=x&&x>g?x-g:void 0;return{modifiers:h,hasImportantModifier:q,baseClassName:C,maybePostfixModifierPosition:O}};return r?c=>r({className:c,parseClassName:l}):l},RA=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},AA=t=>({cache:OA(t.cacheSize),parseClassName:IA(t),...EA(t)}),TA=/\s+/,PA=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o}=e,a=[],l=t.trim().split(TA);let c="";for(let h=l.length-1;h>=0;h-=1){const m=l[h],{modifiers:g,hasImportantModifier:x,baseClassName:N,maybePostfixModifierPosition:q}=r(m);let C=!!q,O=n(C?N.substring(0,q):N);if(!O){if(!C){c=m+(c.length>0?" "+c:c);continue}if(O=n(N),!O){c=m+(c.length>0?" "+c:c);continue}C=!1}const P=RA(g).join(":"),M=x?P+w1:P,j=M+O;if(a.includes(j))continue;a.push(j);const $=o(O,C);for(let U=0;U<$.length;++U){const G=$[U];a.push(M+G)}c=m+(c.length>0?" "+c:c)}return c};function FA(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=x1(e))&&(n&&(n+=" "),n+=r);return n}const x1=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=x1(t[n]))&&(r&&(r+=" "),r+=e);return r};function jA(t,...e){let r,n,o,a=l;function l(h){const m=e.reduce((g,x)=>x(g),t());return r=AA(m),n=r.cache.get,o=r.cache.set,a=c,c(h)}function c(h){const m=n(h);if(m)return m;const g=PA(h,r);return o(h,g),g}return function(){return a(FA.apply(null,arguments))}}const Lr=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},S1=/^\[(?:([a-z-]+):)?(.+)\]$/i,LA=/^\d+\/\d+$/,DA=new Set(["px","full","screen"]),MA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,BA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,WA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,$A=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,zA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ys=t=>du(t)||DA.has(t)||LA.test(t),Qo=t=>Lu(t,"length",ZA),du=t=>!!t&&!Number.isNaN(Number(t)),Og=t=>Lu(t,"number",du),Ac=t=>!!t&&Number.isInteger(Number(t)),UA=t=>t.endsWith("%")&&du(t.slice(0,-1)),ir=t=>S1.test(t),Ko=t=>MA.test(t),VA=new Set(["length","size","percentage"]),HA=t=>Lu(t,VA,E1),QA=t=>Lu(t,"position",E1),KA=new Set(["image","url"]),GA=t=>Lu(t,KA,YA),JA=t=>Lu(t,"",XA),Tc=()=>!0,Lu=(t,e,r)=>{const n=S1.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},ZA=t=>BA.test(t)&&!WA.test(t),E1=()=>!1,XA=t=>$A.test(t),YA=t=>zA.test(t),eT=()=>{const t=Lr("colors"),e=Lr("spacing"),r=Lr("blur"),n=Lr("brightness"),o=Lr("borderColor"),a=Lr("borderRadius"),l=Lr("borderSpacing"),c=Lr("borderWidth"),h=Lr("contrast"),m=Lr("grayscale"),g=Lr("hueRotate"),x=Lr("invert"),N=Lr("gap"),q=Lr("gradientColorStops"),C=Lr("gradientColorStopPositions"),O=Lr("inset"),P=Lr("margin"),M=Lr("opacity"),j=Lr("padding"),$=Lr("saturate"),U=Lr("scale"),G=Lr("sepia"),B=Lr("skew"),J=Lr("space"),re=Lr("translate"),V=()=>["auto","contain","none"],ie=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",ir,e],ne=()=>[ir,e],Z=()=>["",Ys,Qo],pe=()=>["auto",du,ir],Oe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ce=()=>["solid","dashed","dotted","double","none"],Fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ve=()=>["start","end","center","between","around","evenly","stretch"],me=()=>["","0",ir],Ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[du,ir];return{cacheSize:500,separator:":",theme:{colors:[Tc],spacing:[Ys,Qo],blur:["none","",Ko,ir],brightness:H(),borderColor:[t],borderRadius:["none","","full",Ko,ir],borderSpacing:ne(),borderWidth:Z(),contrast:H(),grayscale:me(),hueRotate:H(),invert:me(),gap:ne(),gradientColorStops:[t],gradientColorStopPositions:[UA,Qo],inset:D(),margin:D(),opacity:H(),padding:ne(),saturate:H(),scale:H(),sepia:me(),skew:H(),space:ne(),translate:ne()},classGroups:{aspect:[{aspect:["auto","square","video",ir]}],container:["container"],columns:[{columns:[Ko]}],"break-after":[{"break-after":Ee()}],"break-before":[{"break-before":Ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Oe(),ir]}],overflow:[{overflow:ie()}],"overflow-x":[{"overflow-x":ie()}],"overflow-y":[{"overflow-y":ie()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[O]}],"inset-x":[{"inset-x":[O]}],"inset-y":[{"inset-y":[O]}],start:[{start:[O]}],end:[{end:[O]}],top:[{top:[O]}],right:[{right:[O]}],bottom:[{bottom:[O]}],left:[{left:[O]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ac,ir]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ir]}],grow:[{grow:me()}],shrink:[{shrink:me()}],order:[{order:["first","last","none",Ac,ir]}],"grid-cols":[{"grid-cols":[Tc]}],"col-start-end":[{col:["auto",{span:["full",Ac,ir]},ir]}],"col-start":[{"col-start":pe()}],"col-end":[{"col-end":pe()}],"grid-rows":[{"grid-rows":[Tc]}],"row-start-end":[{row:["auto",{span:[Ac,ir]},ir]}],"row-start":[{"row-start":pe()}],"row-end":[{"row-end":pe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ir]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ir]}],gap:[{gap:[N]}],"gap-x":[{"gap-x":[N]}],"gap-y":[{"gap-y":[N]}],"justify-content":[{justify:["normal",...ve()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ve(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ve(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[j]}],px:[{px:[j]}],py:[{py:[j]}],ps:[{ps:[j]}],pe:[{pe:[j]}],pt:[{pt:[j]}],pr:[{pr:[j]}],pb:[{pb:[j]}],pl:[{pl:[j]}],m:[{m:[P]}],mx:[{mx:[P]}],my:[{my:[P]}],ms:[{ms:[P]}],me:[{me:[P]}],mt:[{mt:[P]}],mr:[{mr:[P]}],mb:[{mb:[P]}],ml:[{ml:[P]}],"space-x":[{"space-x":[J]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[J]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ir,e]}],"min-w":[{"min-w":[ir,e,"min","max","fit"]}],"max-w":[{"max-w":[ir,e,"none","full","min","max","fit","prose",{screen:[Ko]},Ko]}],h:[{h:[ir,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ir,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ir,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ir,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ko,Qo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Og]}],"font-family":[{font:[Tc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ir]}],"line-clamp":[{"line-clamp":["none",du,Og]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ys,ir]}],"list-image":[{"list-image":["none",ir]}],"list-style-type":[{list:["none","disc","decimal",ir]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[M]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[M]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ce(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ys,Qo]}],"underline-offset":[{"underline-offset":["auto",Ys,ir]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:ne()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ir]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ir]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[M]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Oe(),QA]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",HA]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},GA]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[q]}],"gradient-via":[{via:[q]}],"gradient-to":[{to:[q]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[M]}],"border-style":[{border:[...Ce(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[M]}],"divide-style":[{divide:Ce()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...Ce()]}],"outline-offset":[{"outline-offset":[Ys,ir]}],"outline-w":[{outline:[Ys,Qo]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[M]}],"ring-offset-w":[{"ring-offset":[Ys,Qo]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ko,JA]}],"shadow-color":[{shadow:[Tc]}],opacity:[{opacity:[M]}],"mix-blend":[{"mix-blend":[...Fe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Fe()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",Ko,ir]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[x]}],saturate:[{saturate:[$]}],sepia:[{sepia:[G]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[x]}],"backdrop-opacity":[{"backdrop-opacity":[M]}],"backdrop-saturate":[{"backdrop-saturate":[$]}],"backdrop-sepia":[{"backdrop-sepia":[G]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ir]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",ir]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",ir]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[U]}],"scale-x":[{"scale-x":[U]}],"scale-y":[{"scale-y":[U]}],rotate:[{rotate:[Ac,ir]}],"translate-x":[{"translate-x":[re]}],"translate-y":[{"translate-y":[re]}],"skew-x":[{"skew-x":[B]}],"skew-y":[{"skew-y":[B]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ir]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ir]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":ne()}],"scroll-mx":[{"scroll-mx":ne()}],"scroll-my":[{"scroll-my":ne()}],"scroll-ms":[{"scroll-ms":ne()}],"scroll-me":[{"scroll-me":ne()}],"scroll-mt":[{"scroll-mt":ne()}],"scroll-mr":[{"scroll-mr":ne()}],"scroll-mb":[{"scroll-mb":ne()}],"scroll-ml":[{"scroll-ml":ne()}],"scroll-p":[{"scroll-p":ne()}],"scroll-px":[{"scroll-px":ne()}],"scroll-py":[{"scroll-py":ne()}],"scroll-ps":[{"scroll-ps":ne()}],"scroll-pe":[{"scroll-pe":ne()}],"scroll-pt":[{"scroll-pt":ne()}],"scroll-pr":[{"scroll-pr":ne()}],"scroll-pb":[{"scroll-pb":ne()}],"scroll-pl":[{"scroll-pl":ne()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ir]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ys,Qo,Og]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},N1=jA(eT),Xv=new Proxy(()=>Xv,{get:()=>Xv});function lr({use:t,slot:e,variant:r,match:n=[],defaults:o}){return({css:a,...l}={})=>({slots:new Proxy({},{get:(c,h)=>({css:m,...g}={})=>{const x=[],N=t,q={...N?.()?.config.defaults,...o,...l,...g};x.push(N?.(q)?.slots[h]?.(q)),x.push(Array.isArray(e[h])?e[h]:[e[h]]);for(const[C,O]of Object.entries(q)){const P=r[C]?.[O];P&&x.push(P)}for(const C of n)Object.entries(C.if).every(([O,P])=>P===q[O])&&x.push(C.then?.[h]);return x.push(a?.[h]),x.push(m),N1(x)}}),config:{defaults:{...t?.()?.config.defaults,...o},values:{...t?.()?.config.defaults,...o,...l}},type:Xv()})}const ad=N1;var Ig,Jx;function tT(){return Jx||(Jx=1,Ig=Object),Ig}var Rg,Zx;function rT(){return Zx||(Zx=1,Rg=Error),Rg}var Ag,Xx;function nT(){return Xx||(Xx=1,Ag=EvalError),Ag}var Tg,Yx;function iT(){return Yx||(Yx=1,Tg=RangeError),Tg}var Pg,eS;function sT(){return eS||(eS=1,Pg=ReferenceError),Pg}var Fg,tS;function oT(){return tS||(tS=1,Fg=SyntaxError),Fg}var jg,rS;function k1(){return rS||(rS=1,jg=TypeError),jg}var Lg,nS;function aT(){return nS||(nS=1,Lg=URIError),Lg}var Dg,iS;function lT(){return iS||(iS=1,Dg=Math.abs),Dg}var Mg,sS;function uT(){return sS||(sS=1,Mg=Math.floor),Mg}var Bg,oS;function cT(){return oS||(oS=1,Bg=Math.max),Bg}var Wg,aS;function dT(){return aS||(aS=1,Wg=Math.min),Wg}var $g,lS;function fT(){return lS||(lS=1,$g=Math.pow),$g}var zg,uS;function hT(){return uS||(uS=1,zg=Object.getOwnPropertyDescriptor),zg}var Ug,cS;function q1(){if(cS)return Ug;cS=1;var t=hT();if(t)try{t([],"length")}catch{t=null}return Ug=t,Ug}var Vg,dS;function pT(){if(dS)return Vg;dS=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return Vg=t,Vg}var Hg,fS;function C1(){return fS||(fS=1,Hg=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;e[r]=o;for(var a in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var l=Object.getOwnPropertySymbols(e);if(l.length!==1||l[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(e,r);if(c.value!==o||c.enumerable!==!0)return!1}return!0}),Hg}var Qg,hS;function mT(){if(hS)return Qg;hS=1;var t=typeof Symbol<"u"&&Symbol,e=C1();return Qg=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Qg}var Kg,pS;function yT(){if(pS)return Kg;pS=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,n="[object Function]",o=function(h,m){for(var g=[],x=0;x<h.length;x+=1)g[x]=h[x];for(var N=0;N<m.length;N+=1)g[N+h.length]=m[N];return g},a=function(h,m){for(var g=[],x=m,N=0;x<h.length;x+=1,N+=1)g[N]=h[x];return g},l=function(c,h){for(var m="",g=0;g<c.length;g+=1)m+=c[g],g+1<c.length&&(m+=h);return m};return Kg=function(h){var m=this;if(typeof m!="function"||e.apply(m)!==n)throw new TypeError(t+m);for(var g=a(arguments,1),x,N=function(){if(this instanceof x){var M=m.apply(this,o(g,arguments));return Object(M)===M?M:this}return m.apply(h,o(g,arguments))},q=r(0,m.length-g.length),C=[],O=0;O<q;O++)C[O]="$"+O;if(x=Function("binder","return function ("+l(C,",")+"){ return binder.apply(this,arguments); }")(N),m.prototype){var P=function(){};P.prototype=m.prototype,x.prototype=new P,P.prototype=null}return x},Kg}var Gg,mS;function Gp(){if(mS)return Gg;mS=1;var t=yT();return Gg=Function.prototype.bind||t,Gg}var Jg,yS;function B_(){return yS||(yS=1,Jg=Function.prototype.call),Jg}var Zg,gS;function O1(){return gS||(gS=1,Zg=Function.prototype.apply),Zg}var Xg,vS;function gT(){return vS||(vS=1,Xg=typeof Reflect<"u"&&Reflect&&Reflect.apply),Xg}var Yg,_S;function vT(){if(_S)return Yg;_S=1;var t=Gp(),e=O1(),r=B_(),n=gT();return Yg=n||t.call(r,e),Yg}var ev,bS;function I1(){if(bS)return ev;bS=1;var t=Gp(),e=k1(),r=B_(),n=vT();return ev=function(a){if(a.length<1||typeof a[0]!="function")throw new e("a function is required");return n(t,r,a)},ev}var tv,wS;function _T(){if(wS)return tv;wS=1;var t=I1(),e=q1(),r;try{r=[].__proto__===Array.prototype}catch(l){if(!l||typeof l!="object"||!("code"in l)||l.code!=="ERR_PROTO_ACCESS")throw l}var n=!!r&&e&&e(Object.prototype,"__proto__"),o=Object,a=o.getPrototypeOf;return tv=n&&typeof n.get=="function"?t([n.get]):typeof a=="function"?function(c){return a(c==null?c:o(c))}:!1,tv}var rv,xS;function bT(){if(xS)return rv;xS=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=Gp();return rv=r.call(t,e),rv}var nv,SS;function wT(){if(SS)return nv;SS=1;var t,e=tT(),r=rT(),n=nT(),o=iT(),a=sT(),l=oT(),c=k1(),h=aT(),m=lT(),g=uT(),x=cT(),N=dT(),q=fT(),C=Function,O=function(mt){try{return C('"use strict"; return ('+mt+").constructor;")()}catch{}},P=q1(),M=pT(),j=function(){throw new c},$=P?function(){try{return arguments.callee,j}catch{try{return P(arguments,"callee").get}catch{return j}}}():j,U=mT()(),G=_T(),B=typeof Reflect=="function"&&Reflect.getPrototypeOf||e.getPrototypeOf||G,J=O1(),re=B_(),V={},ie=typeof Uint8Array>"u"||!B?t:B(Uint8Array),D={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":U&&B?B([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":V,"%AsyncGenerator%":V,"%AsyncGeneratorFunction%":V,"%AsyncIteratorPrototype%":V,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":C,"%GeneratorFunction%":V,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":U&&B?B(B([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!U||!B?t:B(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":P,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":o,"%ReferenceError%":a,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!U||!B?t:B(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":U&&B?B(""[Symbol.iterator]()):t,"%Symbol%":U?Symbol:t,"%SyntaxError%":l,"%ThrowTypeError%":$,"%TypedArray%":ie,"%TypeError%":c,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":h,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":re,"%Function.prototype.apply%":J,"%Object.defineProperty%":M,"%Math.abs%":m,"%Math.floor%":g,"%Math.max%":x,"%Math.min%":N,"%Math.pow%":q};if(B)try{null.error}catch(mt){var ne=B(B(mt));D["%Error.prototype%"]=ne}var Z=function mt(ft){var gt;if(ft==="%AsyncFunction%")gt=O("async function () {}");else if(ft==="%GeneratorFunction%")gt=O("function* () {}");else if(ft==="%AsyncGeneratorFunction%")gt=O("async function* () {}");else if(ft==="%AsyncGenerator%"){var Tt=mt("%AsyncGeneratorFunction%");Tt&&(gt=Tt.prototype)}else if(ft==="%AsyncIteratorPrototype%"){var vt=mt("%AsyncGenerator%");vt&&B&&(gt=B(vt.prototype))}return D[ft]=gt,gt},pe={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Oe=Gp(),Ce=bT(),Fe=Oe.call(re,Array.prototype.concat),ve=Oe.call(J,Array.prototype.splice),me=Oe.call(re,String.prototype.replace),Ee=Oe.call(re,String.prototype.slice),H=Oe.call(re,RegExp.prototype.exec),xe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,lt=/\\(\\)?/g,at=function(ft){var gt=Ee(ft,0,1),Tt=Ee(ft,-1);if(gt==="%"&&Tt!=="%")throw new l("invalid intrinsic syntax, expected closing `%`");if(Tt==="%"&&gt!=="%")throw new l("invalid intrinsic syntax, expected opening `%`");var vt=[];return me(ft,xe,function(yt,Ot,qt,Jt){vt[vt.length]=qt?me(Jt,lt,"$1"):Ot||yt}),vt},dt=function(ft,gt){var Tt=ft,vt;if(Ce(pe,Tt)&&(vt=pe[Tt],Tt="%"+vt[0]+"%"),Ce(D,Tt)){var yt=D[Tt];if(yt===V&&(yt=Z(Tt)),typeof yt>"u"&&!gt)throw new c("intrinsic "+ft+" exists, but is not available. Please file an issue!");return{alias:vt,name:Tt,value:yt}}throw new l("intrinsic "+ft+" does not exist!")};return nv=function(ft,gt){if(typeof ft!="string"||ft.length===0)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof gt!="boolean")throw new c('"allowMissing" argument must be a boolean');if(H(/^%?[^%]*%?$/,ft)===null)throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Tt=at(ft),vt=Tt.length>0?Tt[0]:"",yt=dt("%"+vt+"%",gt),Ot=yt.name,qt=yt.value,Jt=!1,Gt=yt.alias;Gt&&(vt=Gt[0],ve(Tt,Fe([0,1],Gt)));for(var er=1,ur=!0;er<Tt.length;er+=1){var oe=Tt[er],le=Ee(oe,0,1),ye=Ee(oe,-1);if((le==='"'||le==="'"||le==="`"||ye==='"'||ye==="'"||ye==="`")&&le!==ye)throw new l("property names with quotes must have matching quotes");if((oe==="constructor"||!ur)&&(Jt=!0),vt+="."+oe,Ot="%"+vt+"%",Ce(D,Ot))qt=D[Ot];else if(qt!=null){if(!(oe in qt)){if(!gt)throw new c("base intrinsic for "+ft+" exists, but the property is not available.");return}if(P&&er+1>=Tt.length){var Ie=P(qt,oe);ur=!!Ie,ur&&"get"in Ie&&!("originalValue"in Ie.get)?qt=Ie.get:qt=qt[oe]}else ur=Ce(qt,oe),qt=qt[oe];ur&&!Jt&&(D[Ot]=qt)}}return qt},nv}var iv,ES;function xT(){if(ES)return iv;ES=1;var t=wT(),e=I1(),r=e([t("%String.prototype.indexOf%")]);return iv=function(o,a){var l=t(o,!!a);return typeof l=="function"&&r(o,".prototype.")>-1?e([l]):l},iv}var sv,NS;function ST(){if(NS)return sv;NS=1;var t=C1();return sv=function(){return t()&&!!Symbol.toStringTag},sv}var ov,kS;function ET(){if(kS)return ov;kS=1;var t=xT(),e=t("String.prototype.valueOf"),r=function(c){try{return e(c),!0}catch{return!1}},n=t("Object.prototype.toString"),o="[object String]",a=ST()();return ov=function(c){return typeof c=="string"?!0:!c||typeof c!="object"?!1:a?r(c):n(c)===o},ov}var NT=ET();const kT=Tu(NT),Jp=t=>kT(t),qT=(t,e,r={})=>{const n=[];return t.filter((a,l)=>{const c=r.regionLowerCase?a.toLowerCase():a;if(e.includes(c))return n.push({index:l,appLocale:c}),!0;const{isAvailable:h,appLocale:m}=CT(c,e,r);return h&&n.push({index:l,appLocale:r.regionLowerCase?m.toLowerCase():m}),h}).map((a,l)=>!n||n.length===0?a:n[l]?.appLocale)},CT=(t,e,r={})=>{r?.languageOnly||(r.languageOnly=!1);let n=t;return{isAvailable:e.some(a=>{if(!Th()&&!r.languageOnly&&t.split("-")[1]===void 0)return!1;const l=Th()?new Intl.Locale(t).minimize().language:t.split("-")[0],c=Th()?new Intl.Locale(a).minimize().language:a.split("-")[0],h=l===c;return h&&(n=a),h}),appLocale:n}},OT=(t={})=>{t?.regionLowerCase||(t.regionLowerCase=!1);let e=[];return Intl&&"DateTimeFormat"in Intl?e=[Intl.DateTimeFormat().resolvedOptions().locale]:typeof window=="object"&&window?.navigator?.languages&&(e=[...window.navigator.languages]),e.map(r=>t.regionLowerCase?r.toLowerCase():r)},Th=()=>Intl&&"Locale"in Intl,IT=(t,e={})=>{e?.regionLowerCase||(e.regionLowerCase=!1),e?.languageOnly||(e.languageOnly=!1);const r=t.map(n=>{const o=n.split("-");if(e.languageOnly)return o[0];const a=Th()?new Intl.Locale(n).maximize():{language:o[0],script:o.length===3?o[1]:void 0,region:o.length===3?o[2]:o[1]},{language:l,script:c}=a;let{region:h}=a;return e.regionLowerCase&&h&&(h=h.toLowerCase()),o.length>2?`${l}-${c}-${h}`:h?`${l}-${h}`:l});return[...new Set(r)]},RT=(t,e,r={})=>{r.regionLowerCase||(r.regionLowerCase=!1),r.languageOnly||(r.languageOnly=!1);const n=OT(r),o=IT([...n,t],r);return qT(o,e,r)[0]||t},AT=({available:t,fallback:e})=>RT(e,t,{languageOnly:!0});var av={exports:{}};const TT={},PT=Object.freeze(Object.defineProperty({__proto__:null,default:TT},Symbol.toStringTag,{value:"Module"})),qS=sC(PT);var CS;function FT(){return CS||(CS=1,function(t){(function(){var e="input is invalid type",r=typeof window=="object",n=r?window:{};n.JS_SHA256_NO_WINDOW&&(r=!1);var o=!r&&typeof self=="object",a=!n.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;a?n=Pv:o&&(n=self);var l=!n.JS_SHA256_NO_COMMON_JS&&!0&&t.exports,c=!n.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",h="0123456789abcdef".split(""),m=[-0x80000000,8388608,32768,128],g=[24,16,8,0],x=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2],N=["hex","array","digest","arrayBuffer"],q=[];(n.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(B){return Object.prototype.toString.call(B)==="[object Array]"}),c&&(n.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(B){return typeof B=="object"&&B.buffer&&B.buffer.constructor===ArrayBuffer});var C=function(B,J){return function(re){return new $(J,!0).update(re)[B]()}},O=function(B){var J=C("hex",B);a&&(J=P(J,B)),J.create=function(){return new $(B)},J.update=function(ie){return J.create().update(ie)};for(var re=0;re<N.length;++re){var V=N[re];J[V]=C(V,B)}return J},P=function(B,J){var re=qS,V=qS.Buffer,ie=J?"sha224":"sha256",D;V.from&&!n.JS_SHA256_NO_BUFFER_FROM?D=V.from:D=function(Z){return new V(Z)};var ne=function(Z){if(typeof Z=="string")return re.createHash(ie).update(Z,"utf8").digest("hex");if(Z==null)throw new Error(e);return Z.constructor===ArrayBuffer&&(Z=new Uint8Array(Z)),Array.isArray(Z)||ArrayBuffer.isView(Z)||Z.constructor===V?re.createHash(ie).update(D(Z)).digest("hex"):B(Z)};return ne},M=function(B,J){return function(re,V){return new U(re,J,!0).update(V)[B]()}},j=function(B){var J=M("hex",B);J.create=function(ie){return new U(ie,B)},J.update=function(ie,D){return J.create(ie).update(D)};for(var re=0;re<N.length;++re){var V=N[re];J[V]=M(V,B)}return J};function $(B,J){J?(q[0]=q[16]=q[1]=q[2]=q[3]=q[4]=q[5]=q[6]=q[7]=q[8]=q[9]=q[10]=q[11]=q[12]=q[13]=q[14]=q[15]=0,this.blocks=q):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],B?(this.h0=0xc1059ed8,this.h1=0x367cd507,this.h2=0x3070dd17,this.h3=0xf70e5939,this.h4=0xffc00b31,this.h5=0x68581511,this.h6=0x64f98fa7,this.h7=0xbefa4fa4):(this.h0=0x6a09e667,this.h1=0xbb67ae85,this.h2=0x3c6ef372,this.h3=0xa54ff53a,this.h4=0x510e527f,this.h5=0x9b05688c,this.h6=0x1f83d9ab,this.h7=0x5be0cd19),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=B}$.prototype.update=function(B){if(!this.finalized){var J,re=typeof B;if(re!=="string"){if(re==="object"){if(B===null)throw new Error(e);if(c&&B.constructor===ArrayBuffer)B=new Uint8Array(B);else if(!Array.isArray(B)&&(!c||!ArrayBuffer.isView(B)))throw new Error(e)}else throw new Error(e);J=!0}for(var V,ie=0,D,ne=B.length,Z=this.blocks;ie<ne;){if(this.hashed&&(this.hashed=!1,Z[0]=this.block,this.block=Z[16]=Z[1]=Z[2]=Z[3]=Z[4]=Z[5]=Z[6]=Z[7]=Z[8]=Z[9]=Z[10]=Z[11]=Z[12]=Z[13]=Z[14]=Z[15]=0),J)for(D=this.start;ie<ne&&D<64;++ie)Z[D>>>2]|=B[ie]<<g[D++&3];else for(D=this.start;ie<ne&&D<64;++ie)V=B.charCodeAt(ie),V<128?Z[D>>>2]|=V<<g[D++&3]:V<2048?(Z[D>>>2]|=(192|V>>>6)<<g[D++&3],Z[D>>>2]|=(128|V&63)<<g[D++&3]):V<55296||V>=57344?(Z[D>>>2]|=(224|V>>>12)<<g[D++&3],Z[D>>>2]|=(128|V>>>6&63)<<g[D++&3],Z[D>>>2]|=(128|V&63)<<g[D++&3]):(V=65536+((V&1023)<<10|B.charCodeAt(++ie)&1023),Z[D>>>2]|=(240|V>>>18)<<g[D++&3],Z[D>>>2]|=(128|V>>>12&63)<<g[D++&3],Z[D>>>2]|=(128|V>>>6&63)<<g[D++&3],Z[D>>>2]|=(128|V&63)<<g[D++&3]);this.lastByteIndex=D,this.bytes+=D-this.start,D>=64?(this.block=Z[16],this.start=D-64,this.hash(),this.hashed=!0):this.start=D}return this.bytes>0xffffffff&&(this.hBytes+=this.bytes/0x100000000<<0,this.bytes=this.bytes%0x100000000),this}},$.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var B=this.blocks,J=this.lastByteIndex;B[16]=this.block,B[J>>>2]|=m[J&3],this.block=B[16],J>=56&&(this.hashed||this.hash(),B[0]=this.block,B[16]=B[1]=B[2]=B[3]=B[4]=B[5]=B[6]=B[7]=B[8]=B[9]=B[10]=B[11]=B[12]=B[13]=B[14]=B[15]=0),B[14]=this.hBytes<<3|this.bytes>>>29,B[15]=this.bytes<<3,this.hash()}},$.prototype.hash=function(){var B=this.h0,J=this.h1,re=this.h2,V=this.h3,ie=this.h4,D=this.h5,ne=this.h6,Z=this.h7,pe=this.blocks,Oe,Ce,Fe,ve,me,Ee,H,xe,lt,at,dt;for(Oe=16;Oe<64;++Oe)me=pe[Oe-15],Ce=(me>>>7|me<<25)^(me>>>18|me<<14)^me>>>3,me=pe[Oe-2],Fe=(me>>>17|me<<15)^(me>>>19|me<<13)^me>>>10,pe[Oe]=pe[Oe-16]+Ce+pe[Oe-7]+Fe<<0;for(dt=J&re,Oe=0;Oe<64;Oe+=4)this.first?(this.is224?(xe=300032,me=pe[0]-0x543c9a5b,Z=me-0x8f1a6c7<<0,V=me+0x170e9b5<<0):(xe=0x2a01a605,me=pe[0]-0xc881298,Z=me-0x5ab00ac6<<0,V=me+0x8909ae5<<0),this.first=!1):(Ce=(B>>>2|B<<30)^(B>>>13|B<<19)^(B>>>22|B<<10),Fe=(ie>>>6|ie<<26)^(ie>>>11|ie<<21)^(ie>>>25|ie<<7),xe=B&J,ve=xe^B&re^dt,H=ie&D^~ie&ne,me=Z+Fe+H+x[Oe]+pe[Oe],Ee=Ce+ve,Z=V+me<<0,V=me+Ee<<0),Ce=(V>>>2|V<<30)^(V>>>13|V<<19)^(V>>>22|V<<10),Fe=(Z>>>6|Z<<26)^(Z>>>11|Z<<21)^(Z>>>25|Z<<7),lt=V&B,ve=lt^V&J^xe,H=Z&ie^~Z&D,me=ne+Fe+H+x[Oe+1]+pe[Oe+1],Ee=Ce+ve,ne=re+me<<0,re=me+Ee<<0,Ce=(re>>>2|re<<30)^(re>>>13|re<<19)^(re>>>22|re<<10),Fe=(ne>>>6|ne<<26)^(ne>>>11|ne<<21)^(ne>>>25|ne<<7),at=re&V,ve=at^re&B^lt,H=ne&Z^~ne&ie,me=D+Fe+H+x[Oe+2]+pe[Oe+2],Ee=Ce+ve,D=J+me<<0,J=me+Ee<<0,Ce=(J>>>2|J<<30)^(J>>>13|J<<19)^(J>>>22|J<<10),Fe=(D>>>6|D<<26)^(D>>>11|D<<21)^(D>>>25|D<<7),dt=J&re,ve=dt^J&V^at,H=D&ne^~D&Z,me=ie+Fe+H+x[Oe+3]+pe[Oe+3],Ee=Ce+ve,ie=B+me<<0,B=me+Ee<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+B<<0,this.h1=this.h1+J<<0,this.h2=this.h2+re<<0,this.h3=this.h3+V<<0,this.h4=this.h4+ie<<0,this.h5=this.h5+D<<0,this.h6=this.h6+ne<<0,this.h7=this.h7+Z<<0},$.prototype.hex=function(){this.finalize();var B=this.h0,J=this.h1,re=this.h2,V=this.h3,ie=this.h4,D=this.h5,ne=this.h6,Z=this.h7,pe=h[B>>>28&15]+h[B>>>24&15]+h[B>>>20&15]+h[B>>>16&15]+h[B>>>12&15]+h[B>>>8&15]+h[B>>>4&15]+h[B&15]+h[J>>>28&15]+h[J>>>24&15]+h[J>>>20&15]+h[J>>>16&15]+h[J>>>12&15]+h[J>>>8&15]+h[J>>>4&15]+h[J&15]+h[re>>>28&15]+h[re>>>24&15]+h[re>>>20&15]+h[re>>>16&15]+h[re>>>12&15]+h[re>>>8&15]+h[re>>>4&15]+h[re&15]+h[V>>>28&15]+h[V>>>24&15]+h[V>>>20&15]+h[V>>>16&15]+h[V>>>12&15]+h[V>>>8&15]+h[V>>>4&15]+h[V&15]+h[ie>>>28&15]+h[ie>>>24&15]+h[ie>>>20&15]+h[ie>>>16&15]+h[ie>>>12&15]+h[ie>>>8&15]+h[ie>>>4&15]+h[ie&15]+h[D>>>28&15]+h[D>>>24&15]+h[D>>>20&15]+h[D>>>16&15]+h[D>>>12&15]+h[D>>>8&15]+h[D>>>4&15]+h[D&15]+h[ne>>>28&15]+h[ne>>>24&15]+h[ne>>>20&15]+h[ne>>>16&15]+h[ne>>>12&15]+h[ne>>>8&15]+h[ne>>>4&15]+h[ne&15];return this.is224||(pe+=h[Z>>>28&15]+h[Z>>>24&15]+h[Z>>>20&15]+h[Z>>>16&15]+h[Z>>>12&15]+h[Z>>>8&15]+h[Z>>>4&15]+h[Z&15]),pe},$.prototype.toString=$.prototype.hex,$.prototype.digest=function(){this.finalize();var B=this.h0,J=this.h1,re=this.h2,V=this.h3,ie=this.h4,D=this.h5,ne=this.h6,Z=this.h7,pe=[B>>>24&255,B>>>16&255,B>>>8&255,B&255,J>>>24&255,J>>>16&255,J>>>8&255,J&255,re>>>24&255,re>>>16&255,re>>>8&255,re&255,V>>>24&255,V>>>16&255,V>>>8&255,V&255,ie>>>24&255,ie>>>16&255,ie>>>8&255,ie&255,D>>>24&255,D>>>16&255,D>>>8&255,D&255,ne>>>24&255,ne>>>16&255,ne>>>8&255,ne&255];return this.is224||pe.push(Z>>>24&255,Z>>>16&255,Z>>>8&255,Z&255),pe},$.prototype.array=$.prototype.digest,$.prototype.arrayBuffer=function(){this.finalize();var B=new ArrayBuffer(this.is224?28:32),J=new DataView(B);return J.setUint32(0,this.h0),J.setUint32(4,this.h1),J.setUint32(8,this.h2),J.setUint32(12,this.h3),J.setUint32(16,this.h4),J.setUint32(20,this.h5),J.setUint32(24,this.h6),this.is224||J.setUint32(28,this.h7),B};function U(B,J,re){var V,ie=typeof B;if(ie==="string"){var D=[],ne=B.length,Z=0,pe;for(V=0;V<ne;++V)pe=B.charCodeAt(V),pe<128?D[Z++]=pe:pe<2048?(D[Z++]=192|pe>>>6,D[Z++]=128|pe&63):pe<55296||pe>=57344?(D[Z++]=224|pe>>>12,D[Z++]=128|pe>>>6&63,D[Z++]=128|pe&63):(pe=65536+((pe&1023)<<10|B.charCodeAt(++V)&1023),D[Z++]=240|pe>>>18,D[Z++]=128|pe>>>12&63,D[Z++]=128|pe>>>6&63,D[Z++]=128|pe&63);B=D}else if(ie==="object"){if(B===null)throw new Error(e);if(c&&B.constructor===ArrayBuffer)B=new Uint8Array(B);else if(!Array.isArray(B)&&(!c||!ArrayBuffer.isView(B)))throw new Error(e)}else throw new Error(e);B.length>64&&(B=new $(J,!0).update(B).array());var Oe=[],Ce=[];for(V=0;V<64;++V){var Fe=B[V]||0;Oe[V]=92^Fe,Ce[V]=54^Fe}$.call(this,J,re),this.update(Ce),this.oKeyPad=Oe,this.inner=!0,this.sharedMemory=re}U.prototype=new $,U.prototype.finalize=function(){if($.prototype.finalize.call(this),this.inner){this.inner=!1;var B=this.array();$.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(B),$.prototype.finalize.call(this)}};var G=O();G.sha256=G,G.sha224=O(!0),G.sha256.hmac=j(),G.sha224.hmac=j(!0),l?t.exports=G:(n.sha256=G.sha256,n.sha224=G.sha224)})()}(av)),av.exports}var Yv=FT();const jT=Yv.sha224,R1=({index:t,key:e,fallback:r})=>t[jT(e)]?.value??t[e]?.value??r??e,LT=({index:t,key:e,fallback:r})=>R1({index:t,key:e,fallback:r}),DT=({index:t,key:e,fallback:r})=>R1({index:t,key:e,fallback:r}),Ci={index:{},push(t){this.index={...this.index,...t}},text:(t,e)=>LT({index:Ci.index,key:t,fallback:e}),rich:(t,e)=>DT({index:Ci.index,key:t,fallback:e})},W_={hash(t){return Yv.sha224(t)},verify(t,e){return Yv.sha224(t)===e}};var dr;(function(t){t.assertEqual=o=>o;function e(o){}t.assertIs=e;function r(o){throw new Error}t.assertNever=r,t.arrayToEnum=o=>{const a={};for(const l of o)a[l]=l;return a},t.getValidEnumValues=o=>{const a=t.objectKeys(o).filter(c=>typeof o[o[c]]!="number"),l={};for(const c of a)l[c]=o[c];return t.objectValues(l)},t.objectValues=o=>t.objectKeys(o).map(function(a){return o[a]}),t.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const a=[];for(const l in o)Object.prototype.hasOwnProperty.call(o,l)&&a.push(l);return a},t.find=(o,a)=>{for(const l of o)if(a(l))return l},t.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function n(o,a=" | "){return o.map(l=>typeof l=="string"?`'${l}'`:l).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(o,a)=>typeof a=="bigint"?a.toString():a})(dr||(dr={}));var e_;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(e_||(e_={}));const kt=dr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),oo=t=>{switch(typeof t){case"undefined":return kt.undefined;case"string":return kt.string;case"number":return isNaN(t)?kt.nan:kt.number;case"boolean":return kt.boolean;case"function":return kt.function;case"bigint":return kt.bigint;case"symbol":return kt.symbol;case"object":return Array.isArray(t)?kt.array:t===null?kt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?kt.promise:typeof Map<"u"&&t instanceof Map?kt.map:typeof Set<"u"&&t instanceof Set?kt.set:typeof Date<"u"&&t instanceof Date?kt.date:kt.object;default:return kt.unknown}},it=dr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),MT=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class qi extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},n={_errors:[]},o=a=>{for(const l of a.issues)if(l.code==="invalid_union")l.unionErrors.map(o);else if(l.code==="invalid_return_type")o(l.returnTypeError);else if(l.code==="invalid_arguments")o(l.argumentsError);else if(l.path.length===0)n._errors.push(r(l));else{let c=n,h=0;for(;h<l.path.length;){const m=l.path[h];h===l.path.length-1?(c[m]=c[m]||{_errors:[]},c[m]._errors.push(r(l))):c[m]=c[m]||{_errors:[]},c=c[m],h++}}};return o(this),n}static assert(e){if(!(e instanceof qi))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,dr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const o of this.issues)o.path.length>0?(r[o.path[0]]=r[o.path[0]]||[],r[o.path[0]].push(e(o))):n.push(e(o));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}qi.create=t=>new qi(t);const Eu=(t,e)=>{let r;switch(t.code){case it.invalid_type:t.received===kt.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case it.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,dr.jsonStringifyReplacer)}`;break;case it.unrecognized_keys:r=`Unrecognized key(s) in object: ${dr.joinValues(t.keys,", ")}`;break;case it.invalid_union:r="Invalid input";break;case it.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${dr.joinValues(t.options)}`;break;case it.invalid_enum_value:r=`Invalid enum value. Expected ${dr.joinValues(t.options)}, received '${t.received}'`;break;case it.invalid_arguments:r="Invalid function arguments";break;case it.invalid_return_type:r="Invalid function return type";break;case it.invalid_date:r="Invalid date";break;case it.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:dr.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case it.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case it.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case it.custom:r="Invalid input";break;case it.invalid_intersection_types:r="Intersection results could not be merged";break;case it.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case it.not_finite:r="Number must be finite";break;default:r=e.defaultError,dr.assertNever(t)}return{message:r}};let A1=Eu;function BT(t){A1=t}function ip(){return A1}const sp=t=>{const{data:e,path:r,errorMaps:n,issueData:o}=t,a=[...r,...o.path||[]],l={...o,path:a};if(o.message!==void 0)return{...o,path:a,message:o.message};let c="";const h=n.filter(m=>!!m).slice().reverse();for(const m of h)c=m(l,{data:e,defaultError:c}).message;return{...o,path:a,message:c}},WT=[];function xt(t,e){const r=ip(),n=sp({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Eu?void 0:Eu].filter(o=>!!o)});t.common.issues.push(n)}class Fn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const o of r){if(o.status==="aborted")return Qt;o.status==="dirty"&&e.dirty(),n.push(o.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const o of r){const a=await o.key,l=await o.value;n.push({key:a,value:l})}return Fn.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const o of r){const{key:a,value:l}=o;if(a.status==="aborted"||l.status==="aborted")return Qt;a.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof l.value<"u"||o.alwaysSet)&&(n[a.value]=l.value)}return{status:e.value,value:n}}}const Qt=Object.freeze({status:"aborted"}),nu=t=>({status:"dirty",value:t}),Vn=t=>({status:"valid",value:t}),t_=t=>t.status==="aborted",r_=t=>t.status==="dirty",ll=t=>t.status==="valid",ld=t=>typeof Promise<"u"&&t instanceof Promise;function op(t,e,r,n){if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function T1(t,e,r,n,o){if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var Dt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Dt||(Dt={}));var Mc,Bc;class Ts{constructor(e,r,n,o){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const OS=(t,e)=>{if(ll(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new qi(t.common.issues);return this._error=r,this._error}}};function nr(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:o}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(l,c)=>{var h,m;const{message:g}=t;return l.code==="invalid_enum_value"?{message:g??c.defaultError}:typeof c.data>"u"?{message:(h=g??n)!==null&&h!==void 0?h:c.defaultError}:l.code!=="invalid_type"?{message:c.defaultError}:{message:(m=g??r)!==null&&m!==void 0?m:c.defaultError}},description:o}}class or{get description(){return this._def.description}_getType(e){return oo(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:oo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Fn,ctx:{common:e.parent.common,data:e.data,parsedType:oo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(ld(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const o={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:oo(e)},a=this._parseSync({data:e,path:o.path,parent:o});return OS(o,a)}"~validate"(e){var r,n;const o={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:oo(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:o});return ll(a)?{value:a.value}:{issues:o.common.issues}}catch(a){!((n=(r=a?.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),o.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:o}).then(a=>ll(a)?{value:a.value}:{issues:o.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:oo(e)},o=this._parse({data:e,path:n.path,parent:n}),a=await (ld(o)?o:Promise.resolve(o));return OS(n,a)}refine(e,r){const n=o=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(o):r;return this._refinement((o,a)=>{const l=e(o),c=()=>a.addIssue({code:it.custom,...n(o)});return typeof Promise<"u"&&l instanceof Promise?l.then(h=>h?!0:(c(),!1)):l?!0:(c(),!1)})}refinement(e,r){return this._refinement((n,o)=>e(n)?!0:(o.addIssue(typeof r=="function"?r(n,o):r),!1))}_refinement(e){return new cs({schema:this,typeName:Ht.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Rs.create(this,this._def)}nullable(){return ma.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return us.create(this)}promise(){return ku.create(this,this._def)}or(e){return fd.create([this,e],this._def)}and(e){return hd.create(this,e,this._def)}transform(e){return new cs({...nr(this._def),schema:this,typeName:Ht.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new vd({...nr(this._def),innerType:this,defaultValue:r,typeName:Ht.ZodDefault})}brand(){return new $_({typeName:Ht.ZodBranded,type:this,...nr(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new _d({...nr(this._def),innerType:this,catchValue:r,typeName:Ht.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Dd.create(this,e)}readonly(){return bd.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const $T=/^c[^\s-]{8,}$/i,zT=/^[0-9a-z]+$/,UT=/^[0-9A-HJKMNP-TV-Z]{26}$/i,VT=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,HT=/^[a-z0-9_-]{21}$/i,QT=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,KT=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,GT=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,JT="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let lv;const ZT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,XT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,YT=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,eP=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,tP=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,rP=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,P1="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",nP=new RegExp(`^${P1}$`);function F1(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function iP(t){return new RegExp(`^${F1(t)}$`)}function j1(t){let e=`${P1}T${F1(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function sP(t,e){return!!((e==="v4"||!e)&&ZT.test(t)||(e==="v6"||!e)&&YT.test(t))}function oP(t,e){if(!QT.test(t))return!1;try{const[r]=t.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),o=JSON.parse(atob(n));return!(typeof o!="object"||o===null||!o.typ||!o.alg||e&&o.alg!==e)}catch{return!1}}function aP(t,e){return!!((e==="v4"||!e)&&XT.test(t)||(e==="v6"||!e)&&eP.test(t))}class ls extends or{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==kt.string){const a=this._getOrReturnCtx(e);return xt(a,{code:it.invalid_type,expected:kt.string,received:a.parsedType}),Qt}const n=new Fn;let o;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(o=this._getOrReturnCtx(e,o),xt(o,{code:it.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(o=this._getOrReturnCtx(e,o),xt(o,{code:it.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const l=e.data.length>a.value,c=e.data.length<a.value;(l||c)&&(o=this._getOrReturnCtx(e,o),l?xt(o,{code:it.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):c&&xt(o,{code:it.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")GT.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"email",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")lv||(lv=new RegExp(JT,"u")),lv.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"emoji",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")VT.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"uuid",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")HT.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"nanoid",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")$T.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"cuid",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")zT.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"cuid2",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")UT.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"ulid",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),xt(o,{validation:"url",code:it.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"regex",code:it.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(o=this._getOrReturnCtx(e,o),xt(o,{code:it.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(o=this._getOrReturnCtx(e,o),xt(o,{code:it.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(o=this._getOrReturnCtx(e,o),xt(o,{code:it.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?j1(a).test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{code:it.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?nP.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{code:it.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?iP(a).test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{code:it.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?KT.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"duration",code:it.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?sP(e.data,a.version)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"ip",code:it.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?oP(e.data,a.alg)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"jwt",code:it.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?aP(e.data,a.version)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"cidr",code:it.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?tP.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"base64",code:it.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?rP.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"base64url",code:it.invalid_string,message:a.message}),n.dirty()):dr.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(o=>e.test(o),{validation:r,code:it.invalid_string,...Dt.errToObj(n)})}_addCheck(e){return new ls({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Dt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Dt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Dt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Dt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Dt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Dt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Dt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Dt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Dt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Dt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Dt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Dt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Dt.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,local:(n=e?.local)!==null&&n!==void 0?n:!1,...Dt.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Dt.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Dt.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Dt.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...Dt.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Dt.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Dt.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Dt.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Dt.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Dt.errToObj(r)})}nonempty(e){return this.min(1,Dt.errToObj(e))}trim(){return new ls({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ls({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ls({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}ls.create=t=>{var e;return new ls({checks:[],typeName:Ht.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...nr(t)})};function lP(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,o=r>n?r:n,a=parseInt(t.toFixed(o).replace(".","")),l=parseInt(e.toFixed(o).replace(".",""));return a%l/Math.pow(10,o)}class fa extends or{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==kt.number){const a=this._getOrReturnCtx(e);return xt(a,{code:it.invalid_type,expected:kt.number,received:a.parsedType}),Qt}let n;const o=new Fn;for(const a of this._def.checks)a.kind==="int"?dr.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),xt(n,{code:it.invalid_type,expected:"integer",received:"float",message:a.message}),o.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),xt(n,{code:it.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),o.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),xt(n,{code:it.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),o.dirty()):a.kind==="multipleOf"?lP(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),xt(n,{code:it.not_multiple_of,multipleOf:a.value,message:a.message}),o.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),xt(n,{code:it.not_finite,message:a.message}),o.dirty()):dr.assertNever(a);return{status:o.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Dt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Dt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Dt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Dt.toString(r))}setLimit(e,r,n,o){return new fa({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Dt.toString(o)}]})}_addCheck(e){return new fa({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Dt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Dt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Dt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Dt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Dt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Dt.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Dt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Dt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Dt.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&dr.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}fa.create=t=>new fa({checks:[],typeName:Ht.ZodNumber,coerce:t?.coerce||!1,...nr(t)});class ha extends or{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==kt.bigint)return this._getInvalidInput(e);let n;const o=new Fn;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),xt(n,{code:it.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),o.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),xt(n,{code:it.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),o.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),xt(n,{code:it.not_multiple_of,multipleOf:a.value,message:a.message}),o.dirty()):dr.assertNever(a);return{status:o.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return xt(r,{code:it.invalid_type,expected:kt.bigint,received:r.parsedType}),Qt}gte(e,r){return this.setLimit("min",e,!0,Dt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Dt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Dt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Dt.toString(r))}setLimit(e,r,n,o){return new ha({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Dt.toString(o)}]})}_addCheck(e){return new ha({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Dt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Dt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Dt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Dt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Dt.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}ha.create=t=>{var e;return new ha({checks:[],typeName:Ht.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...nr(t)})};class ud extends or{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==kt.boolean){const n=this._getOrReturnCtx(e);return xt(n,{code:it.invalid_type,expected:kt.boolean,received:n.parsedType}),Qt}return Vn(e.data)}}ud.create=t=>new ud({typeName:Ht.ZodBoolean,coerce:t?.coerce||!1,...nr(t)});class ul extends or{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==kt.date){const a=this._getOrReturnCtx(e);return xt(a,{code:it.invalid_type,expected:kt.date,received:a.parsedType}),Qt}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return xt(a,{code:it.invalid_date}),Qt}const n=new Fn;let o;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(o=this._getOrReturnCtx(e,o),xt(o,{code:it.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(o=this._getOrReturnCtx(e,o),xt(o,{code:it.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):dr.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ul({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Dt.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Dt.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}ul.create=t=>new ul({checks:[],coerce:t?.coerce||!1,typeName:Ht.ZodDate,...nr(t)});class ap extends or{_parse(e){if(this._getType(e)!==kt.symbol){const n=this._getOrReturnCtx(e);return xt(n,{code:it.invalid_type,expected:kt.symbol,received:n.parsedType}),Qt}return Vn(e.data)}}ap.create=t=>new ap({typeName:Ht.ZodSymbol,...nr(t)});class cd extends or{_parse(e){if(this._getType(e)!==kt.undefined){const n=this._getOrReturnCtx(e);return xt(n,{code:it.invalid_type,expected:kt.undefined,received:n.parsedType}),Qt}return Vn(e.data)}}cd.create=t=>new cd({typeName:Ht.ZodUndefined,...nr(t)});class dd extends or{_parse(e){if(this._getType(e)!==kt.null){const n=this._getOrReturnCtx(e);return xt(n,{code:it.invalid_type,expected:kt.null,received:n.parsedType}),Qt}return Vn(e.data)}}dd.create=t=>new dd({typeName:Ht.ZodNull,...nr(t)});class Nu extends or{constructor(){super(...arguments),this._any=!0}_parse(e){return Vn(e.data)}}Nu.create=t=>new Nu({typeName:Ht.ZodAny,...nr(t)});class nl extends or{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Vn(e.data)}}nl.create=t=>new nl({typeName:Ht.ZodUnknown,...nr(t)});class ho extends or{_parse(e){const r=this._getOrReturnCtx(e);return xt(r,{code:it.invalid_type,expected:kt.never,received:r.parsedType}),Qt}}ho.create=t=>new ho({typeName:Ht.ZodNever,...nr(t)});class lp extends or{_parse(e){if(this._getType(e)!==kt.undefined){const n=this._getOrReturnCtx(e);return xt(n,{code:it.invalid_type,expected:kt.void,received:n.parsedType}),Qt}return Vn(e.data)}}lp.create=t=>new lp({typeName:Ht.ZodVoid,...nr(t)});class us extends or{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),o=this._def;if(r.parsedType!==kt.array)return xt(r,{code:it.invalid_type,expected:kt.array,received:r.parsedType}),Qt;if(o.exactLength!==null){const l=r.data.length>o.exactLength.value,c=r.data.length<o.exactLength.value;(l||c)&&(xt(r,{code:l?it.too_big:it.too_small,minimum:c?o.exactLength.value:void 0,maximum:l?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),n.dirty())}if(o.minLength!==null&&r.data.length<o.minLength.value&&(xt(r,{code:it.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),n.dirty()),o.maxLength!==null&&r.data.length>o.maxLength.value&&(xt(r,{code:it.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((l,c)=>o.type._parseAsync(new Ts(r,l,r.path,c)))).then(l=>Fn.mergeArray(n,l));const a=[...r.data].map((l,c)=>o.type._parseSync(new Ts(r,l,r.path,c)));return Fn.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new us({...this._def,minLength:{value:e,message:Dt.toString(r)}})}max(e,r){return new us({...this._def,maxLength:{value:e,message:Dt.toString(r)}})}length(e,r){return new us({...this._def,exactLength:{value:e,message:Dt.toString(r)}})}nonempty(e){return this.min(1,e)}}us.create=(t,e)=>new us({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ht.ZodArray,...nr(e)});function eu(t){if(t instanceof Kr){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Rs.create(eu(n))}return new Kr({...t._def,shape:()=>e})}else return t instanceof us?new us({...t._def,type:eu(t.element)}):t instanceof Rs?Rs.create(eu(t.unwrap())):t instanceof ma?ma.create(eu(t.unwrap())):t instanceof Ps?Ps.create(t.items.map(e=>eu(e))):t}class Kr extends or{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=dr.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==kt.object){const m=this._getOrReturnCtx(e);return xt(m,{code:it.invalid_type,expected:kt.object,received:m.parsedType}),Qt}const{status:n,ctx:o}=this._processInputParams(e),{shape:a,keys:l}=this._getCached(),c=[];if(!(this._def.catchall instanceof ho&&this._def.unknownKeys==="strip"))for(const m in o.data)l.includes(m)||c.push(m);const h=[];for(const m of l){const g=a[m],x=o.data[m];h.push({key:{status:"valid",value:m},value:g._parse(new Ts(o,x,o.path,m)),alwaysSet:m in o.data})}if(this._def.catchall instanceof ho){const m=this._def.unknownKeys;if(m==="passthrough")for(const g of c)h.push({key:{status:"valid",value:g},value:{status:"valid",value:o.data[g]}});else if(m==="strict")c.length>0&&(xt(o,{code:it.unrecognized_keys,keys:c}),n.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const g of c){const x=o.data[g];h.push({key:{status:"valid",value:g},value:m._parse(new Ts(o,x,o.path,g)),alwaysSet:g in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const m=[];for(const g of h){const x=await g.key,N=await g.value;m.push({key:x,value:N,alwaysSet:g.alwaysSet})}return m}).then(m=>Fn.mergeObjectSync(n,m)):Fn.mergeObjectSync(n,h)}get shape(){return this._def.shape()}strict(e){return Dt.errToObj,new Kr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var o,a,l,c;const h=(l=(a=(o=this._def).errorMap)===null||a===void 0?void 0:a.call(o,r,n).message)!==null&&l!==void 0?l:n.defaultError;return r.code==="unrecognized_keys"?{message:(c=Dt.errToObj(e).message)!==null&&c!==void 0?c:h}:{message:h}}}:{}})}strip(){return new Kr({...this._def,unknownKeys:"strip"})}passthrough(){return new Kr({...this._def,unknownKeys:"passthrough"})}extend(e){return new Kr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Kr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ht.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Kr({...this._def,catchall:e})}pick(e){const r={};return dr.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Kr({...this._def,shape:()=>r})}omit(e){const r={};return dr.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new Kr({...this._def,shape:()=>r})}deepPartial(){return eu(this)}partial(e){const r={};return dr.objectKeys(this.shape).forEach(n=>{const o=this.shape[n];e&&!e[n]?r[n]=o:r[n]=o.optional()}),new Kr({...this._def,shape:()=>r})}required(e){const r={};return dr.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Rs;)a=a._def.innerType;r[n]=a}}),new Kr({...this._def,shape:()=>r})}keyof(){return L1(dr.objectKeys(this.shape))}}Kr.create=(t,e)=>new Kr({shape:()=>t,unknownKeys:"strip",catchall:ho.create(),typeName:Ht.ZodObject,...nr(e)});Kr.strictCreate=(t,e)=>new Kr({shape:()=>t,unknownKeys:"strict",catchall:ho.create(),typeName:Ht.ZodObject,...nr(e)});Kr.lazycreate=(t,e)=>new Kr({shape:t,unknownKeys:"strip",catchall:ho.create(),typeName:Ht.ZodObject,...nr(e)});class fd extends or{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function o(a){for(const c of a)if(c.result.status==="valid")return c.result;for(const c of a)if(c.result.status==="dirty")return r.common.issues.push(...c.ctx.common.issues),c.result;const l=a.map(c=>new qi(c.ctx.common.issues));return xt(r,{code:it.invalid_union,unionErrors:l}),Qt}if(r.common.async)return Promise.all(n.map(async a=>{const l={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:l}),ctx:l}})).then(o);{let a;const l=[];for(const h of n){const m={...r,common:{...r.common,issues:[]},parent:null},g=h._parseSync({data:r.data,path:r.path,parent:m});if(g.status==="valid")return g;g.status==="dirty"&&!a&&(a={result:g,ctx:m}),m.common.issues.length&&l.push(m.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const c=l.map(h=>new qi(h));return xt(r,{code:it.invalid_union,unionErrors:c}),Qt}}get options(){return this._def.options}}fd.create=(t,e)=>new fd({options:t,typeName:Ht.ZodUnion,...nr(e)});const no=t=>t instanceof md?no(t.schema):t instanceof cs?no(t.innerType()):t instanceof yd?[t.value]:t instanceof pa?t.options:t instanceof gd?dr.objectValues(t.enum):t instanceof vd?no(t._def.innerType):t instanceof cd?[void 0]:t instanceof dd?[null]:t instanceof Rs?[void 0,...no(t.unwrap())]:t instanceof ma?[null,...no(t.unwrap())]:t instanceof $_||t instanceof bd?no(t.unwrap()):t instanceof _d?no(t._def.innerType):[];class Zp extends or{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==kt.object)return xt(r,{code:it.invalid_type,expected:kt.object,received:r.parsedType}),Qt;const n=this.discriminator,o=r.data[n],a=this.optionsMap.get(o);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(xt(r,{code:it.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Qt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const o=new Map;for(const a of r){const l=no(a.shape[e]);if(!l.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const c of l){if(o.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);o.set(c,a)}}return new Zp({typeName:Ht.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:o,...nr(n)})}}function n_(t,e){const r=oo(t),n=oo(e);if(t===e)return{valid:!0,data:t};if(r===kt.object&&n===kt.object){const o=dr.objectKeys(e),a=dr.objectKeys(t).filter(c=>o.indexOf(c)!==-1),l={...t,...e};for(const c of a){const h=n_(t[c],e[c]);if(!h.valid)return{valid:!1};l[c]=h.data}return{valid:!0,data:l}}else if(r===kt.array&&n===kt.array){if(t.length!==e.length)return{valid:!1};const o=[];for(let a=0;a<t.length;a++){const l=t[a],c=e[a],h=n_(l,c);if(!h.valid)return{valid:!1};o.push(h.data)}return{valid:!0,data:o}}else return r===kt.date&&n===kt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class hd extends or{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),o=(a,l)=>{if(t_(a)||t_(l))return Qt;const c=n_(a.value,l.value);return c.valid?((r_(a)||r_(l))&&r.dirty(),{status:r.value,value:c.data}):(xt(n,{code:it.invalid_intersection_types}),Qt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,l])=>o(a,l)):o(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}hd.create=(t,e,r)=>new hd({left:t,right:e,typeName:Ht.ZodIntersection,...nr(r)});class Ps extends or{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==kt.array)return xt(n,{code:it.invalid_type,expected:kt.array,received:n.parsedType}),Qt;if(n.data.length<this._def.items.length)return xt(n,{code:it.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Qt;!this._def.rest&&n.data.length>this._def.items.length&&(xt(n,{code:it.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((l,c)=>{const h=this._def.items[c]||this._def.rest;return h?h._parse(new Ts(n,l,n.path,c)):null}).filter(l=>!!l);return n.common.async?Promise.all(a).then(l=>Fn.mergeArray(r,l)):Fn.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new Ps({...this._def,rest:e})}}Ps.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ps({items:t,typeName:Ht.ZodTuple,rest:null,...nr(e)})};class pd extends or{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==kt.object)return xt(n,{code:it.invalid_type,expected:kt.object,received:n.parsedType}),Qt;const o=[],a=this._def.keyType,l=this._def.valueType;for(const c in n.data)o.push({key:a._parse(new Ts(n,c,n.path,c)),value:l._parse(new Ts(n,n.data[c],n.path,c)),alwaysSet:c in n.data});return n.common.async?Fn.mergeObjectAsync(r,o):Fn.mergeObjectSync(r,o)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof or?new pd({keyType:e,valueType:r,typeName:Ht.ZodRecord,...nr(n)}):new pd({keyType:ls.create(),valueType:e,typeName:Ht.ZodRecord,...nr(r)})}}class up extends or{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==kt.map)return xt(n,{code:it.invalid_type,expected:kt.map,received:n.parsedType}),Qt;const o=this._def.keyType,a=this._def.valueType,l=[...n.data.entries()].map(([c,h],m)=>({key:o._parse(new Ts(n,c,n.path,[m,"key"])),value:a._parse(new Ts(n,h,n.path,[m,"value"]))}));if(n.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const h of l){const m=await h.key,g=await h.value;if(m.status==="aborted"||g.status==="aborted")return Qt;(m.status==="dirty"||g.status==="dirty")&&r.dirty(),c.set(m.value,g.value)}return{status:r.value,value:c}})}else{const c=new Map;for(const h of l){const m=h.key,g=h.value;if(m.status==="aborted"||g.status==="aborted")return Qt;(m.status==="dirty"||g.status==="dirty")&&r.dirty(),c.set(m.value,g.value)}return{status:r.value,value:c}}}}up.create=(t,e,r)=>new up({valueType:e,keyType:t,typeName:Ht.ZodMap,...nr(r)});class cl extends or{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==kt.set)return xt(n,{code:it.invalid_type,expected:kt.set,received:n.parsedType}),Qt;const o=this._def;o.minSize!==null&&n.data.size<o.minSize.value&&(xt(n,{code:it.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),r.dirty()),o.maxSize!==null&&n.data.size>o.maxSize.value&&(xt(n,{code:it.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),r.dirty());const a=this._def.valueType;function l(h){const m=new Set;for(const g of h){if(g.status==="aborted")return Qt;g.status==="dirty"&&r.dirty(),m.add(g.value)}return{status:r.value,value:m}}const c=[...n.data.values()].map((h,m)=>a._parse(new Ts(n,h,n.path,m)));return n.common.async?Promise.all(c).then(h=>l(h)):l(c)}min(e,r){return new cl({...this._def,minSize:{value:e,message:Dt.toString(r)}})}max(e,r){return new cl({...this._def,maxSize:{value:e,message:Dt.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}cl.create=(t,e)=>new cl({valueType:t,minSize:null,maxSize:null,typeName:Ht.ZodSet,...nr(e)});class fu extends or{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==kt.function)return xt(r,{code:it.invalid_type,expected:kt.function,received:r.parsedType}),Qt;function n(c,h){return sp({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ip(),Eu].filter(m=>!!m),issueData:{code:it.invalid_arguments,argumentsError:h}})}function o(c,h){return sp({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ip(),Eu].filter(m=>!!m),issueData:{code:it.invalid_return_type,returnTypeError:h}})}const a={errorMap:r.common.contextualErrorMap},l=r.data;if(this._def.returns instanceof ku){const c=this;return Vn(async function(...h){const m=new qi([]),g=await c._def.args.parseAsync(h,a).catch(q=>{throw m.addIssue(n(h,q)),m}),x=await Reflect.apply(l,this,g);return await c._def.returns._def.type.parseAsync(x,a).catch(q=>{throw m.addIssue(o(x,q)),m})})}else{const c=this;return Vn(function(...h){const m=c._def.args.safeParse(h,a);if(!m.success)throw new qi([n(h,m.error)]);const g=Reflect.apply(l,this,m.data),x=c._def.returns.safeParse(g,a);if(!x.success)throw new qi([o(g,x.error)]);return x.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new fu({...this._def,args:Ps.create(e).rest(nl.create())})}returns(e){return new fu({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new fu({args:e||Ps.create([]).rest(nl.create()),returns:r||nl.create(),typeName:Ht.ZodFunction,...nr(n)})}}class md extends or{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}md.create=(t,e)=>new md({getter:t,typeName:Ht.ZodLazy,...nr(e)});class yd extends or{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return xt(r,{received:r.data,code:it.invalid_literal,expected:this._def.value}),Qt}return{status:"valid",value:e.data}}get value(){return this._def.value}}yd.create=(t,e)=>new yd({value:t,typeName:Ht.ZodLiteral,...nr(e)});function L1(t,e){return new pa({values:t,typeName:Ht.ZodEnum,...nr(e)})}class pa extends or{constructor(){super(...arguments),Mc.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return xt(r,{expected:dr.joinValues(n),received:r.parsedType,code:it.invalid_type}),Qt}if(op(this,Mc)||T1(this,Mc,new Set(this._def.values)),!op(this,Mc).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return xt(r,{received:r.data,code:it.invalid_enum_value,options:n}),Qt}return Vn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return pa.create(e,{...this._def,...r})}exclude(e,r=this._def){return pa.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Mc=new WeakMap;pa.create=L1;class gd extends or{constructor(){super(...arguments),Bc.set(this,void 0)}_parse(e){const r=dr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==kt.string&&n.parsedType!==kt.number){const o=dr.objectValues(r);return xt(n,{expected:dr.joinValues(o),received:n.parsedType,code:it.invalid_type}),Qt}if(op(this,Bc)||T1(this,Bc,new Set(dr.getValidEnumValues(this._def.values))),!op(this,Bc).has(e.data)){const o=dr.objectValues(r);return xt(n,{received:n.data,code:it.invalid_enum_value,options:o}),Qt}return Vn(e.data)}get enum(){return this._def.values}}Bc=new WeakMap;gd.create=(t,e)=>new gd({values:t,typeName:Ht.ZodNativeEnum,...nr(e)});class ku extends or{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==kt.promise&&r.common.async===!1)return xt(r,{code:it.invalid_type,expected:kt.promise,received:r.parsedType}),Qt;const n=r.parsedType===kt.promise?r.data:Promise.resolve(r.data);return Vn(n.then(o=>this._def.type.parseAsync(o,{path:r.path,errorMap:r.common.contextualErrorMap})))}}ku.create=(t,e)=>new ku({type:t,typeName:Ht.ZodPromise,...nr(e)});class cs extends or{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ht.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),o=this._def.effect||null,a={addIssue:l=>{xt(n,l),l.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),o.type==="preprocess"){const l=o.transform(n.data,a);if(n.common.async)return Promise.resolve(l).then(async c=>{if(r.value==="aborted")return Qt;const h=await this._def.schema._parseAsync({data:c,path:n.path,parent:n});return h.status==="aborted"?Qt:h.status==="dirty"||r.value==="dirty"?nu(h.value):h});{if(r.value==="aborted")return Qt;const c=this._def.schema._parseSync({data:l,path:n.path,parent:n});return c.status==="aborted"?Qt:c.status==="dirty"||r.value==="dirty"?nu(c.value):c}}if(o.type==="refinement"){const l=c=>{const h=o.refinement(c,a);if(n.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(n.common.async===!1){const c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return c.status==="aborted"?Qt:(c.status==="dirty"&&r.dirty(),l(c.value),{status:r.value,value:c.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>c.status==="aborted"?Qt:(c.status==="dirty"&&r.dirty(),l(c.value).then(()=>({status:r.value,value:c.value}))))}if(o.type==="transform")if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!ll(l))return l;const c=o.transform(l.value,a);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:c}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>ll(l)?Promise.resolve(o.transform(l.value,a)).then(c=>({status:r.value,value:c})):l);dr.assertNever(o)}}cs.create=(t,e,r)=>new cs({schema:t,typeName:Ht.ZodEffects,effect:e,...nr(r)});cs.createWithPreprocess=(t,e,r)=>new cs({schema:e,effect:{type:"preprocess",transform:t},typeName:Ht.ZodEffects,...nr(r)});class Rs extends or{_parse(e){return this._getType(e)===kt.undefined?Vn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Rs.create=(t,e)=>new Rs({innerType:t,typeName:Ht.ZodOptional,...nr(e)});class ma extends or{_parse(e){return this._getType(e)===kt.null?Vn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ma.create=(t,e)=>new ma({innerType:t,typeName:Ht.ZodNullable,...nr(e)});class vd extends or{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===kt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}vd.create=(t,e)=>new vd({innerType:t,typeName:Ht.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...nr(e)});class _d extends or{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},o=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return ld(o)?o.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new qi(n.common.issues)},input:n.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new qi(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}_d.create=(t,e)=>new _d({innerType:t,typeName:Ht.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...nr(e)});class cp extends or{_parse(e){if(this._getType(e)!==kt.nan){const n=this._getOrReturnCtx(e);return xt(n,{code:it.invalid_type,expected:kt.nan,received:n.parsedType}),Qt}return{status:"valid",value:e.data}}}cp.create=t=>new cp({typeName:Ht.ZodNaN,...nr(t)});const uP=Symbol("zod_brand");class $_ extends or{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Dd extends or{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Qt:a.status==="dirty"?(r.dirty(),nu(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const o=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Qt:o.status==="dirty"?(r.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:n.path,parent:n})}}static create(e,r){return new Dd({in:e,out:r,typeName:Ht.ZodPipeline})}}class bd extends or{_parse(e){const r=this._def.innerType._parse(e),n=o=>(ll(o)&&(o.value=Object.freeze(o.value)),o);return ld(r)?r.then(o=>n(o)):n(r)}unwrap(){return this._def.innerType}}bd.create=(t,e)=>new bd({innerType:t,typeName:Ht.ZodReadonly,...nr(e)});function D1(t,e={},r){return t?Nu.create().superRefine((n,o)=>{var a,l;if(!t(n)){const c=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,h=(l=(a=c.fatal)!==null&&a!==void 0?a:r)!==null&&l!==void 0?l:!0,m=typeof c=="string"?{message:c}:c;o.addIssue({code:"custom",...m,fatal:h})}}):Nu.create()}const cP={object:Kr.lazycreate};var Ht;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ht||(Ht={}));const dP=(t,e={message:`Input not instance of ${t.name}`})=>D1(r=>r instanceof t,e),M1=ls.create,B1=fa.create,fP=cp.create,hP=ha.create,W1=ud.create,pP=ul.create,mP=ap.create,yP=cd.create,gP=dd.create,vP=Nu.create,_P=nl.create,bP=ho.create,wP=lp.create,xP=us.create,SP=Kr.create,EP=Kr.strictCreate,NP=fd.create,kP=Zp.create,qP=hd.create,CP=Ps.create,OP=pd.create,IP=up.create,RP=cl.create,AP=fu.create,TP=md.create,PP=yd.create,FP=pa.create,jP=gd.create,LP=ku.create,IS=cs.create,DP=Rs.create,MP=ma.create,BP=cs.createWithPreprocess,WP=Dd.create,$P=()=>M1().optional(),zP=()=>B1().optional(),UP=()=>W1().optional(),VP={string:t=>ls.create({...t,coerce:!0}),number:t=>fa.create({...t,coerce:!0}),boolean:t=>ud.create({...t,coerce:!0}),bigint:t=>ha.create({...t,coerce:!0}),date:t=>ul.create({...t,coerce:!0})},HP=Qt;var Te=Object.freeze({__proto__:null,defaultErrorMap:Eu,setErrorMap:BT,getErrorMap:ip,makeIssue:sp,EMPTY_PATH:WT,addIssueToContext:xt,ParseStatus:Fn,INVALID:Qt,DIRTY:nu,OK:Vn,isAborted:t_,isDirty:r_,isValid:ll,isAsync:ld,get util(){return dr},get objectUtil(){return e_},ZodParsedType:kt,getParsedType:oo,ZodType:or,datetimeRegex:j1,ZodString:ls,ZodNumber:fa,ZodBigInt:ha,ZodBoolean:ud,ZodDate:ul,ZodSymbol:ap,ZodUndefined:cd,ZodNull:dd,ZodAny:Nu,ZodUnknown:nl,ZodNever:ho,ZodVoid:lp,ZodArray:us,ZodObject:Kr,ZodUnion:fd,ZodDiscriminatedUnion:Zp,ZodIntersection:hd,ZodTuple:Ps,ZodRecord:pd,ZodMap:up,ZodSet:cl,ZodFunction:fu,ZodLazy:md,ZodLiteral:yd,ZodEnum:pa,ZodNativeEnum:gd,ZodPromise:ku,ZodEffects:cs,ZodTransformer:cs,ZodOptional:Rs,ZodNullable:ma,ZodDefault:vd,ZodCatch:_d,ZodNaN:cp,BRAND:uP,ZodBranded:$_,ZodPipeline:Dd,ZodReadonly:bd,custom:D1,Schema:or,ZodSchema:or,late:cP,get ZodFirstPartyTypeKind(){return Ht},coerce:VP,any:vP,array:xP,bigint:hP,boolean:W1,date:pP,discriminatedUnion:kP,effect:IS,enum:FP,function:AP,instanceof:dP,intersection:qP,lazy:TP,literal:PP,map:IP,nan:fP,nativeEnum:jP,never:bP,null:gP,nullable:MP,number:B1,object:SP,oboolean:UP,onumber:zP,optional:DP,ostring:$P,pipeline:WP,preprocess:BP,promise:LP,record:OP,set:RP,strictObject:EP,string:M1,symbol:mP,transformer:IS,tuple:CP,undefined:yP,union:NP,unknown:_P,void:wP,NEVER:HP,ZodIssueCode:it,quotelessJson:MT,ZodError:qi});const QP=Te.object({page:Te.number().gte(0,"Page must be greater than zero"),size:Te.number().gte(1,"Page size must be greater than one to get any data")}),_o=Te.object({id:Te.string().min(1)}),z_=Te.object({message:Te.string()}),bo=Te.object({id:Te.string().optional(),idIn:Te.array(Te.string()).optional(),fulltext:Te.string().optional()}),KP=_o.merge(Te.object({code:Te.string().min(1),label:Te.string().min(1),group:Te.string().nullish(),sort:Te.number().default(0)}));var Kl={},eo={},Ar={},rs={},RS;function $1(){if(RS)return rs;RS=1,Object.defineProperty(rs,"__esModule",{value:!0}),rs.anumber=t,rs.number=t,rs.abytes=r,rs.bytes=r,rs.ahash=n,rs.aexists=o,rs.aoutput=a;function t(c){if(!Number.isSafeInteger(c)||c<0)throw new Error("positive integer expected, got "+c)}function e(c){return c instanceof Uint8Array||ArrayBuffer.isView(c)&&c.constructor.name==="Uint8Array"}function r(c,...h){if(!e(c))throw new Error("Uint8Array expected");if(h.length>0&&!h.includes(c.length))throw new Error("Uint8Array expected of length "+h+", got length="+c.length)}function n(c){if(typeof c!="function"||typeof c.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");t(c.outputLen),t(c.blockLen)}function o(c,h=!0){if(c.destroyed)throw new Error("Hash instance has been destroyed");if(h&&c.finished)throw new Error("Hash#digest() has already been called")}function a(c,h){r(c);const m=h.outputLen;if(c.length<m)throw new Error("digestInto() expects output buffer of length at least "+m)}const l={number:t,bytes:r,hash:n,exists:o,output:a};return rs.default=l,rs}var Zt={},AS;function GP(){if(AS)return Zt;AS=1,Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.add5L=Zt.add5H=Zt.add4H=Zt.add4L=Zt.add3H=Zt.add3L=Zt.rotlBL=Zt.rotlBH=Zt.rotlSL=Zt.rotlSH=Zt.rotr32L=Zt.rotr32H=Zt.rotrBL=Zt.rotrBH=Zt.rotrSL=Zt.rotrSH=Zt.shrSL=Zt.shrSH=Zt.toBig=void 0,Zt.fromBig=r,Zt.split=n,Zt.add=M;const t=BigInt(2**32-1),e=BigInt(32);function r(V,ie=!1){return ie?{h:Number(V&t),l:Number(V>>e&t)}:{h:Number(V>>e&t)|0,l:Number(V&t)|0}}function n(V,ie=!1){let D=new Uint32Array(V.length),ne=new Uint32Array(V.length);for(let Z=0;Z<V.length;Z++){const{h:pe,l:Oe}=r(V[Z],ie);[D[Z],ne[Z]]=[pe,Oe]}return[D,ne]}const o=(V,ie)=>BigInt(V>>>0)<<e|BigInt(ie>>>0);Zt.toBig=o;const a=(V,ie,D)=>V>>>D;Zt.shrSH=a;const l=(V,ie,D)=>V<<32-D|ie>>>D;Zt.shrSL=l;const c=(V,ie,D)=>V>>>D|ie<<32-D;Zt.rotrSH=c;const h=(V,ie,D)=>V<<32-D|ie>>>D;Zt.rotrSL=h;const m=(V,ie,D)=>V<<64-D|ie>>>D-32;Zt.rotrBH=m;const g=(V,ie,D)=>V>>>D-32|ie<<64-D;Zt.rotrBL=g;const x=(V,ie)=>ie;Zt.rotr32H=x;const N=(V,ie)=>V;Zt.rotr32L=N;const q=(V,ie,D)=>V<<D|ie>>>32-D;Zt.rotlSH=q;const C=(V,ie,D)=>ie<<D|V>>>32-D;Zt.rotlSL=C;const O=(V,ie,D)=>ie<<D-32|V>>>64-D;Zt.rotlBH=O;const P=(V,ie,D)=>V<<D-32|ie>>>64-D;Zt.rotlBL=P;function M(V,ie,D,ne){const Z=(ie>>>0)+(ne>>>0);return{h:V+D+(Z/2**32|0)|0,l:Z|0}}const j=(V,ie,D)=>(V>>>0)+(ie>>>0)+(D>>>0);Zt.add3L=j;const $=(V,ie,D,ne)=>ie+D+ne+(V/2**32|0)|0;Zt.add3H=$;const U=(V,ie,D,ne)=>(V>>>0)+(ie>>>0)+(D>>>0)+(ne>>>0);Zt.add4L=U;const G=(V,ie,D,ne,Z)=>ie+D+ne+Z+(V/2**32|0)|0;Zt.add4H=G;const B=(V,ie,D,ne,Z)=>(V>>>0)+(ie>>>0)+(D>>>0)+(ne>>>0)+(Z>>>0);Zt.add5L=B;const J=(V,ie,D,ne,Z,pe)=>ie+D+ne+Z+pe+(V/2**32|0)|0;Zt.add5H=J;const re={fromBig:r,split:n,toBig:o,shrSH:a,shrSL:l,rotrSH:c,rotrSL:h,rotrBH:m,rotrBL:g,rotr32H:x,rotr32L:N,rotlSH:q,rotlSL:C,rotlBH:O,rotlBL:P,add:M,add3L:j,add3H:$,add4L:U,add4H:G,add5H:J,add5L:B};return Zt.default=re,Zt}var uv={},Pc={},TS;function JP(){return TS||(TS=1,Object.defineProperty(Pc,"__esModule",{value:!0}),Pc.crypto=void 0,Pc.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),Pc}var PS;function ZP(){return PS||(PS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Hash=t.nextTick=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=void 0,t.isBytes=n,t.byteSwap32=g,t.bytesToHex=N,t.hexToBytes=O,t.asyncLoop=M,t.utf8ToBytes=j,t.toBytes=$,t.concatBytes=U,t.checkOpts=B,t.wrapConstructor=J,t.wrapConstructorWithOpts=re,t.wrapXOFConstructorWithOpts=V,t.randomBytes=ie;const e=JP(),r=$1();function n(D){return D instanceof Uint8Array||ArrayBuffer.isView(D)&&D.constructor.name==="Uint8Array"}const o=D=>new Uint8Array(D.buffer,D.byteOffset,D.byteLength);t.u8=o;const a=D=>new Uint32Array(D.buffer,D.byteOffset,Math.floor(D.byteLength/4));t.u32=a;const l=D=>new DataView(D.buffer,D.byteOffset,D.byteLength);t.createView=l;const c=(D,ne)=>D<<32-ne|D>>>ne;t.rotr=c;const h=(D,ne)=>D<<ne|D>>>32-ne>>>0;t.rotl=h,t.isLE=new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]===68;const m=D=>D<<24&0xff000000|D<<8&0xff0000|D>>>8&65280|D>>>24&255;t.byteSwap=m,t.byteSwapIfBE=t.isLE?D=>D:D=>(0,t.byteSwap)(D);function g(D){for(let ne=0;ne<D.length;ne++)D[ne]=(0,t.byteSwap)(D[ne])}const x=Array.from({length:256},(D,ne)=>ne.toString(16).padStart(2,"0"));function N(D){(0,r.abytes)(D);let ne="";for(let Z=0;Z<D.length;Z++)ne+=x[D[Z]];return ne}const q={_0:48,_9:57,A:65,F:70,a:97,f:102};function C(D){if(D>=q._0&&D<=q._9)return D-q._0;if(D>=q.A&&D<=q.F)return D-(q.A-10);if(D>=q.a&&D<=q.f)return D-(q.a-10)}function O(D){if(typeof D!="string")throw new Error("hex string expected, got "+typeof D);const ne=D.length,Z=ne/2;if(ne%2)throw new Error("hex string expected, got unpadded hex of length "+ne);const pe=new Uint8Array(Z);for(let Oe=0,Ce=0;Oe<Z;Oe++,Ce+=2){const Fe=C(D.charCodeAt(Ce)),ve=C(D.charCodeAt(Ce+1));if(Fe===void 0||ve===void 0){const me=D[Ce]+D[Ce+1];throw new Error('hex string expected, got non-hex character "'+me+'" at index '+Ce)}pe[Oe]=Fe*16+ve}return pe}const P=async()=>{};t.nextTick=P;async function M(D,ne,Z){let pe=Date.now();for(let Oe=0;Oe<D;Oe++){Z(Oe);const Ce=Date.now()-pe;Ce>=0&&Ce<ne||(await (0,t.nextTick)(),pe+=Ce)}}function j(D){if(typeof D!="string")throw new Error("utf8ToBytes expected string, got "+typeof D);return new Uint8Array(new TextEncoder().encode(D))}function $(D){return typeof D=="string"&&(D=j(D)),(0,r.abytes)(D),D}function U(...D){let ne=0;for(let pe=0;pe<D.length;pe++){const Oe=D[pe];(0,r.abytes)(Oe),ne+=Oe.length}const Z=new Uint8Array(ne);for(let pe=0,Oe=0;pe<D.length;pe++){const Ce=D[pe];Z.set(Ce,Oe),Oe+=Ce.length}return Z}class G{clone(){return this._cloneInto()}}t.Hash=G;function B(D,ne){if(ne!==void 0&&{}.toString.call(ne)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(D,ne)}function J(D){const ne=pe=>D().update($(pe)).digest(),Z=D();return ne.outputLen=Z.outputLen,ne.blockLen=Z.blockLen,ne.create=()=>D(),ne}function re(D){const ne=(pe,Oe)=>D(Oe).update($(pe)).digest(),Z=D({});return ne.outputLen=Z.outputLen,ne.blockLen=Z.blockLen,ne.create=pe=>D(pe),ne}function V(D){const ne=(pe,Oe)=>D(Oe).update($(pe)).digest(),Z=D({});return ne.outputLen=Z.outputLen,ne.blockLen=Z.blockLen,ne.create=pe=>D(pe),ne}function ie(D=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(D));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(D);throw new Error("crypto.getRandomValues must be defined")}}(uv)),uv}var FS;function XP(){if(FS)return Ar;FS=1,Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.shake256=Ar.shake128=Ar.keccak_512=Ar.keccak_384=Ar.keccak_256=Ar.keccak_224=Ar.sha3_512=Ar.sha3_384=Ar.sha3_256=Ar.sha3_224=Ar.Keccak=void 0,Ar.keccakP=P;const t=$1(),e=GP(),r=ZP(),n=[],o=[],a=[],l=BigInt(0),c=BigInt(1),h=BigInt(2),m=BigInt(7),g=BigInt(256),x=BigInt(113);for(let U=0,G=c,B=1,J=0;U<24;U++){[B,J]=[J,(2*B+3*J)%5],n.push(2*(5*J+B)),o.push((U+1)*(U+2)/2%64);let re=l;for(let V=0;V<7;V++)G=(G<<c^(G>>m)*x)%g,G&h&&(re^=c<<(c<<BigInt(V))-c);a.push(re)}const[N,q]=(0,e.split)(a,!0),C=(U,G,B)=>B>32?(0,e.rotlBH)(U,G,B):(0,e.rotlSH)(U,G,B),O=(U,G,B)=>B>32?(0,e.rotlBL)(U,G,B):(0,e.rotlSL)(U,G,B);function P(U,G=24){const B=new Uint32Array(10);for(let J=24-G;J<24;J++){for(let ie=0;ie<10;ie++)B[ie]=U[ie]^U[ie+10]^U[ie+20]^U[ie+30]^U[ie+40];for(let ie=0;ie<10;ie+=2){const D=(ie+8)%10,ne=(ie+2)%10,Z=B[ne],pe=B[ne+1],Oe=C(Z,pe,1)^B[D],Ce=O(Z,pe,1)^B[D+1];for(let Fe=0;Fe<50;Fe+=10)U[ie+Fe]^=Oe,U[ie+Fe+1]^=Ce}let re=U[2],V=U[3];for(let ie=0;ie<24;ie++){const D=o[ie],ne=C(re,V,D),Z=O(re,V,D),pe=n[ie];re=U[pe],V=U[pe+1],U[pe]=ne,U[pe+1]=Z}for(let ie=0;ie<50;ie+=10){for(let D=0;D<10;D++)B[D]=U[ie+D];for(let D=0;D<10;D++)U[ie+D]^=~B[(D+2)%10]&B[(D+4)%10]}U[0]^=N[J],U[1]^=q[J]}B.fill(0)}class M extends r.Hash{constructor(G,B,J,re=!1,V=24){if(super(),this.blockLen=G,this.suffix=B,this.outputLen=J,this.enableXOF=re,this.rounds=V,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,t.anumber)(J),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,r.u32)(this.state)}keccak(){r.isLE||(0,r.byteSwap32)(this.state32),P(this.state32,this.rounds),r.isLE||(0,r.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(G){(0,t.aexists)(this);const{blockLen:B,state:J}=this;G=(0,r.toBytes)(G);const re=G.length;for(let V=0;V<re;){const ie=Math.min(B-this.pos,re-V);for(let D=0;D<ie;D++)J[this.pos++]^=G[V++];this.pos===B&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:G,suffix:B,pos:J,blockLen:re}=this;G[J]^=B,B&128&&J===re-1&&this.keccak(),G[re-1]^=128,this.keccak()}writeInto(G){(0,t.aexists)(this,!1),(0,t.abytes)(G),this.finish();const B=this.state,{blockLen:J}=this;for(let re=0,V=G.length;re<V;){this.posOut>=J&&this.keccak();const ie=Math.min(J-this.posOut,V-re);G.set(B.subarray(this.posOut,this.posOut+ie),re),this.posOut+=ie,re+=ie}return G}xofInto(G){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(G)}xof(G){return(0,t.anumber)(G),this.xofInto(new Uint8Array(G))}digestInto(G){if((0,t.aoutput)(G,this),this.finished)throw new Error("digest() was already called");return this.writeInto(G),this.destroy(),G}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(G){const{blockLen:B,suffix:J,outputLen:re,rounds:V,enableXOF:ie}=this;return G||(G=new M(B,J,re,ie,V)),G.state32.set(this.state32),G.pos=this.pos,G.posOut=this.posOut,G.finished=this.finished,G.rounds=V,G.suffix=J,G.outputLen=re,G.enableXOF=ie,G.destroyed=this.destroyed,G}}Ar.Keccak=M;const j=(U,G,B)=>(0,r.wrapConstructor)(()=>new M(G,U,B));Ar.sha3_224=j(6,144,224/8),Ar.sha3_256=j(6,136,256/8),Ar.sha3_384=j(6,104,384/8),Ar.sha3_512=j(6,72,512/8),Ar.keccak_224=j(1,144,224/8),Ar.keccak_256=j(1,136,256/8),Ar.keccak_384=j(1,104,384/8),Ar.keccak_512=j(1,72,512/8);const $=(U,G,B)=>(0,r.wrapXOFConstructorWithOpts)((J={})=>new M(G,U,J.dkLen===void 0?B:J.dkLen,!0));return Ar.shake128=$(31,168,128/8),Ar.shake256=$(31,136,256/8),Ar}var jS;function YP(){if(jS)return eo;jS=1;const{sha3_512:t}=XP(),e=24,r=32,n=(C=4,O=Math.random)=>{let P="";for(;P.length<C;)P=P+Math.floor(O()*36).toString(36);return P};function o(C){let O=8n,P=0n;for(const M of C.values()){const j=BigInt(M);P=(P<<O)+j}return P}const a=(C="")=>o(t(C)).toString(36).slice(1),l=Array.from({length:26},(C,O)=>String.fromCharCode(O+97)),c=C=>l[Math.floor(C()*l.length)],h=({globalObj:C=typeof Pv<"u"?Pv:typeof window<"u"?window:{},random:O=Math.random}={})=>{const P=Object.keys(C).toString(),M=P.length?P+n(r,O):n(r,O);return a(M).substring(0,r)},m=C=>()=>C++,g=0x1c6b1f1f,x=({random:C=Math.random,counter:O=m(Math.floor(C()*g)),length:P=e,fingerprint:M=h({random:C})}={})=>function(){const $=c(C),U=Date.now().toString(36),G=O().toString(36),B=n(P,C),J=`${U+B+G+M}`;return`${$+a(J).substring(1,P)}`},N=x(),q=(C,{minLength:O=2,maxLength:P=r}={})=>{const M=C.length,j=/^[0-9a-z]+$/;try{if(typeof C=="string"&&M>=O&&M<=P&&j.test(C))return!0}finally{}return!1};return eo.getConstants=()=>({defaultLength:e,bigLength:r}),eo.init=x,eo.createId=N,eo.bufToBigInt=o,eo.createCounter=m,eo.createFingerprint=h,eo.isCuid=q,eo}var LS;function eF(){if(LS)return Kl;LS=1;const{createId:t,init:e,getConstants:r,isCuid:n}=YP();return Kl.createId=t,Kl.init=e,Kl.getConstants=r,Kl.isCuid=n,Kl}var tF=eF();const Yr=tF.createId,wo=({name:t,schema:e,db:r,map:n,select$:o,create$:a,patch$:l,delete$:c,event:h})=>({name:t,schema:e,db:r,async create$({tx:m,entity:g,shape:x}){const N=Yr();await h?.onPreCreate?.({tx:m,entity:g,shape:x}),await a({tx:m}).values(e.entity.parse({...await n?.toCreate?.({entity:g,shape:x})||g,id:N})).execute();const q=await this.getOrThrow$({tx:m,id:N});return await h?.onPostCreate?.({tx:m,entity:q,shape:x}),q},async patch$({tx:m,entity:g,shape:x,where:N,filter:q}){const C=await this.fetchOrThrow$({tx:m,where:N,filter:q,error:"Cannot patch an unknown entity (empty query result)."});await h?.onPrePatch?.({tx:m,entity:g,shape:x}),await l({tx:m}).set(e.entity.partial().parse(await n?.toPatch?.({entity:g,shape:x})||g)).where("id","=",C.id).execute();const O=await this.getOrThrow$({tx:m,id:C.id});return await h?.onPostPatch?.({tx:m,entity:O,shape:x}),O},async delete$({tx:m,where:g,filter:x}){const N=await this.fetchOrThrow$({tx:m,where:g,filter:x,error:"Cannot patch an unknown entity (empty query result)."});return await c({tx:m}).where("id","=",N.id).execute(),N},async fetch$({tx:m,where:g,filter:x}){const N=await o({tx:m,where:g,filter:x,cursor:{page:0,size:1},use:["where","filter","cursor","sort"]}).executeTakeFirst();if(!N)return;const q=e.entity.parse(N);return(e.output??e.entity).parse(await n?.toOutput?.({tx:m,entity:q})||q)},async fetchOrThrow$({tx:m,where:g,filter:x,error:N}){try{const q=e.entity.parse(await o({tx:m,where:g,filter:x,cursor:{page:0,size:1},use:["where","filter","cursor","sort"]}).executeTakeFirstOrThrow());return(e.output??e.entity).parse(await n?.toOutput?.({tx:m,entity:q})||q)}catch(q){throw N?new Error(N):q}},async get$({tx:m,id:g}){return this.fetch$({tx:m,where:{id:g}})},async getOrThrow$({tx:m,id:g,error:x}){return this.fetchOrThrow$({tx:m,where:{id:g},error:x})},async list$({tx:m,where:g,filter:x,cursor:N}){const q=e.output??e.entity;return Promise.all(Te.array(e.entity).parse(await o({tx:m,where:g,filter:x,cursor:N,use:["where","filter","cursor","sort"]}).execute()).map(C=>e.entity.parse(C)).map(async C=>q.parse(await n?.toOutput?.({tx:m,entity:C})||C)))},async count$({tx:m,where:g,filter:x}){return{total:(await o({tx:m,use:[]}).select([N=>N.fn.countAll().as("count")]).executeTakeFirst()).count,where:(await o({tx:m,where:g,use:[]}).select([N=>N.fn.countAll().as("count")]).executeTakeFirst()).count,filter:(await o({tx:m,where:g,filter:x,use:[]}).select([N=>N.fn.countAll().as("count")]).executeTakeFirst()).count}}}),i_=new Proxy(()=>i_,{get:()=>i_}),xo=({entity:t,output:e=t,shape:r,filter:n})=>{const o=i_();return{entity:t,"~entity":o,"~entity-array":[],"~entity-partial-exclude-id":o,shape:r,"~shape":o,"~shape-partial":o,filter:n,"~filter":o,output:e,"~output":o,"~output-array":[]}},Go=(t,e)=>Array.from({length:e-t+1},(r,n)=>n+t),rF=({page:t,total:e,siblings:r=1,boundaries:n=1})=>{const o=Math.max(Math.trunc(e),0);if(r*2+3+n*2>=o)return{type:"simple",page:t,total:e,pages:Go(1,o),start:[],end:[]};const l=Math.max(t-r,n),c=Math.min(t+r,o-n),h=l>n+2,m=c<o-(n+1);return!h&&m?{type:"end",page:t,total:e,start:[],pages:Go(1,r*2+n+2),end:Go(e-(n-1),o)}:h&&!m?{type:"start",page:t,total:e,start:Go(1,n),pages:Go(e-(n+1+2*r),o),end:[]}:{type:"both",page:t,total:e,start:Go(1,n),pages:Go(l,c),end:Go(o-n+1,o)}};var Ph={exports:{}},nF=Ph.exports,DS;function iF(){return DS||(DS=1,function(t){(function(e,r){t.exports=r()})(nF,function(){var e=Object.prototype.toString;function r(x,N){return x==null?!1:Object.prototype.hasOwnProperty.call(x,N)}function n(x){if(!x||l(x)&&x.length===0)return!0;if(typeof x!="string"){for(var N in x)if(r(x,N))return!1;return!0}return!1}function o(x){return e.call(x)}function a(x){return typeof x=="object"&&o(x)==="[object Object]"}var l=Array.isArray||function(x){return e.call(x)==="[object Array]"};function c(x){return typeof x=="boolean"||o(x)==="[object Boolean]"}function h(x){var N=parseInt(x);return N.toString()===x?N:x}function m(x){x=x||{};var N=function(M){return Object.keys(N).reduce(function(j,$){return $==="create"||typeof N[$]=="function"&&(j[$]=N[$].bind(N,M)),j},{})},q;x.includeInheritedProps?q=function(){return!0}:q=function(M,j){return typeof j=="number"&&Array.isArray(M)||r(M,j)};function C(M,j){if(q(M,j))return M[j]}var O;x.includeInheritedProps?O=function(M,j){typeof j!="string"&&typeof j!="number"&&(j=String(j));var $=C(M,j);if(j==="__proto__"||j==="prototype"||j==="constructor"&&typeof $=="function")throw new Error("For security reasons, object's magic properties cannot be set");return $}:O=function(M,j){return C(M,j)};function P(M,j,$,U){if(typeof j=="number"&&(j=[j]),!j||j.length===0)return M;if(typeof j=="string")return P(M,j.split(".").map(h),$,U);var G=j[0],B=O(M,G);return j.length===1?((B===void 0||!U)&&(M[G]=$),B):(B===void 0&&(typeof j[1]=="number"?M[G]=[]:M[G]={}),P(M[G],j.slice(1),$,U))}return N.has=function(M,j){if(typeof j=="number"?j=[j]:typeof j=="string"&&(j=j.split(".")),!j||j.length===0)return!!M;for(var $=0;$<j.length;$++){var U=h(j[$]);if(typeof U=="number"&&l(M)&&U<M.length||(x.includeInheritedProps?U in Object(M):r(M,U)))M=M[U];else return!1}return!0},N.ensureExists=function(M,j,$){return P(M,j,$,!0)},N.set=function(M,j,$,U){return P(M,j,$,U)},N.insert=function(M,j,$,U){var G=N.get(M,j);U=~~U,l(G)||(G=[],N.set(M,j,G)),G.splice(U,0,$)},N.empty=function(M,j){if(!n(j)&&M!=null){var $,U;if($=N.get(M,j)){if(typeof $=="string")return N.set(M,j,"");if(c($))return N.set(M,j,!1);if(typeof $=="number")return N.set(M,j,0);if(l($))$.length=0;else if(a($))for(U in $)q($,U)&&delete $[U];else return N.set(M,j,null)}}},N.push=function(M,j){var $=N.get(M,j);l($)||($=[],N.set(M,j,$)),$.push.apply($,Array.prototype.slice.call(arguments,2))},N.coalesce=function(M,j,$){for(var U,G=0,B=j.length;G<B;G++)if((U=N.get(M,j[G]))!==void 0)return U;return $},N.get=function(M,j,$){if(typeof j=="number"&&(j=[j]),!j||j.length===0)return M;if(M==null)return $;if(typeof j=="string")return N.get(M,j.split("."),$);var U=h(j[0]),G=O(M,U);return G===void 0?$:j.length===1?G:N.get(M[U],j.slice(1),$)},N.del=function(j,$){if(typeof $=="number"&&($=[$]),j==null||n($))return j;if(typeof $=="string")return N.del(j,$.split("."));var U=h($[0]);if(O(j,U),!q(j,U))return j;if($.length===1)l(j)?j.splice(U,1):delete j[U];else return N.del(j[U],$.slice(1));return j},N}var g=m();return g.create=m,g.withInheritedProps=m({includeInheritedProps:!0}),g})}(Ph)),Ph.exports}var sF=iF();const MS=Tu(sF);function qu({number:t,empty:e="-",fraction:r=2}){if(t==null)return e;try{return t.toLocaleString(void 0,{maximumFractionDigits:r})}catch(n){return console.error("toHumanNumber",t,n),t.toFixed(2)}}const U_=({error:t,errors:e,onError:r})=>{const n=e.some(a=>a),o=t instanceof Error;return!n&&o&&r(t),n||o},oF=lr({slot:{base:["flex","flex-row","gap-2","items-center","rounded","px-2","py-0.5","hover:bg-slate-100","text-slate-500","hover:text-blue-500","cursor-pointer"]},variant:{variant:{common:[],warning:["text-amber-500","hover:text-amber-600","hover:bg-amber-100"],danger:["text-red-500","hover:text-red-600","hover:bg-red-100"]},disabled:{true:["cursor-not-allowed","text-slate-300","bg-slate-100","hover:bg-slate-100"]}},defaults:{variant:"common",disabled:!1}});function Xp(){return typeof window<"u"}function Sa(t){return z1(t)?(t.nodeName||"").toLowerCase():"#document"}function ui(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ds(t){var e;return(e=(z1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function z1(t){return Xp()?t instanceof Node||t instanceof ui(t).Node:!1}function Pr(t){return Xp()?t instanceof Element||t instanceof ui(t).Element:!1}function un(t){return Xp()?t instanceof HTMLElement||t instanceof ui(t).HTMLElement:!1}function s_(t){return!Xp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ui(t).ShadowRoot}function Md(t){const{overflow:e,overflowX:r,overflowY:n,display:o}=Vi(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(o)}function aF(t){return["table","td","th"].includes(Sa(t))}function Yp(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function V_(t){const e=em(),r=Pr(t)?Vi(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function lF(t){let e=po(t);for(;un(e)&&!uo(e);){if(V_(e))return e;if(Yp(e))return null;e=po(e)}return null}function em(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function uo(t){return["html","body","#document"].includes(Sa(t))}function Vi(t){return ui(t).getComputedStyle(t)}function tm(t){return Pr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function po(t){if(Sa(t)==="html")return t;const e=t.assignedSlot||t.parentNode||s_(t)&&t.host||Ds(t);return s_(e)?e.host:e}function U1(t){const e=po(t);return uo(e)?t.ownerDocument?t.ownerDocument.body:t.body:un(e)&&Md(e)?e:U1(e)}function sa(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const o=U1(t),a=o===((n=t.ownerDocument)==null?void 0:n.body),l=ui(o);if(a){const c=o_(l);return e.concat(l,l.visualViewport||[],Md(o)?o:[],c&&r?sa(c):[])}return e.concat(o,sa(o,[],r))}function o_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function os(t){let e=t.activeElement;for(;((r=e)==null||(r=r.shadowRoot)==null?void 0:r.activeElement)!=null;){var r;e=e.shadowRoot.activeElement}return e}function En(t,e){if(!t||!e)return!1;const r=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(r&&s_(r)){let n=e;for(;n;){if(t===n)return!0;n=n.parentNode||n.host}}return!1}function H_(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function V1(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:r,version:n}=e;return r+"/"+n}).join(" "):navigator.userAgent}function H1(t){return t.mozInputSource===0&&t.isTrusted?!0:a_()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function Q_(t){return cF()?!1:!a_()&&t.width===0&&t.height===0||a_()&&t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0&&t.pointerType==="touch"}function Q1(){return/apple/i.test(navigator.vendor)}function a_(){const t=/android/i;return t.test(H_())||t.test(V1())}function uF(){return H_().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function cF(){return V1().includes("jsdom/")}function wd(t,e){const r=["mouse","pen"];return e||r.push("",void 0),r.includes(t)}function dF(t){return"nativeEvent"in t}function fF(t){return t.matches("html,body")}function Nn(t){return t?.ownerDocument||document}function cv(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const r=t;return r.target!=null&&e.contains(r.target)}function Yo(t){return"composedPath"in t?t.composedPath()[0]:t.target}const hF="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function K_(t){return un(t)&&t.matches(hF)}function Bn(t){t.preventDefault(),t.stopPropagation()}function K1(t){return t?t.getAttribute("role")==="combobox"&&K_(t):!1}const Cu=Math.min,Si=Math.max,dp=Math.round,iu=Math.floor,As=t=>({x:t,y:t}),pF={left:"right",right:"left",bottom:"top",top:"bottom"},mF={start:"end",end:"start"};function BS(t,e,r){return Si(t,Cu(e,r))}function Bd(t,e){return typeof t=="function"?t(e):t}function ya(t){return t.split("-")[0]}function Wd(t){return t.split("-")[1]}function G1(t){return t==="x"?"y":"x"}function J1(t){return t==="y"?"height":"width"}function dl(t){return["top","bottom"].includes(ya(t))?"y":"x"}function Z1(t){return G1(dl(t))}function yF(t,e,r){r===void 0&&(r=!1);const n=Wd(t),o=Z1(t),a=J1(o);let l=o==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=fp(l)),[l,fp(l)]}function gF(t){const e=fp(t);return[l_(t),e,l_(e)]}function l_(t){return t.replace(/start|end/g,e=>mF[e])}function vF(t,e,r){const n=["left","right"],o=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return r?e?o:n:e?n:o;case"left":case"right":return e?a:l;default:return[]}}function _F(t,e,r,n){const o=Wd(t);let a=vF(ya(t),r==="start",n);return o&&(a=a.map(l=>l+"-"+o),e&&(a=a.concat(a.map(l_)))),a}function fp(t){return t.replace(/left|right|bottom|top/g,e=>pF[e])}function bF(t){return{top:0,right:0,bottom:0,left:0,...t}}function wF(t){return typeof t!="number"?bF(t):{top:t,right:t,bottom:t,left:t}}function hp(t){const{x:e,y:r,width:n,height:o}=t;return{width:n,height:o,top:r,left:e,right:e+n,bottom:r+o,x:e,y:r}}var xF=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],pp=xF.join(","),X1=typeof Element>"u",Ou=X1?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,mp=!X1&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t?.ownerDocument},yp=function t(e,r){var n;r===void 0&&(r=!0);var o=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),a=o===""||o==="true",l=a||r&&e&&t(e.parentNode);return l},SF=function(e){var r,n=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"contenteditable");return n===""||n==="true"},EF=function(e,r,n){if(yp(e))return[];var o=Array.prototype.slice.apply(e.querySelectorAll(pp));return r&&Ou.call(e,pp)&&o.unshift(e),o=o.filter(n),o},NF=function t(e,r,n){for(var o=[],a=Array.from(e);a.length;){var l=a.shift();if(!yp(l,!1))if(l.tagName==="SLOT"){var c=l.assignedElements(),h=c.length?c:l.children,m=t(h,!0,n);n.flatten?o.push.apply(o,m):o.push({scopeParent:l,candidates:m})}else{var g=Ou.call(l,pp);g&&n.filter(l)&&(r||!e.includes(l))&&o.push(l);var x=l.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(l),N=!yp(x,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(l));if(x&&N){var q=t(x===!0?l.children:x.children,!0,n);n.flatten?o.push.apply(o,q):o.push({scopeParent:l,candidates:q})}else a.unshift.apply(a,l.children)}}return o},Y1=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},ek=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||SF(e))&&!Y1(e)?0:e.tabIndex},kF=function(e,r){var n=ek(e);return n<0&&r&&!Y1(e)?0:n},qF=function(e,r){return e.tabIndex===r.tabIndex?e.documentOrder-r.documentOrder:e.tabIndex-r.tabIndex},tk=function(e){return e.tagName==="INPUT"},CF=function(e){return tk(e)&&e.type==="hidden"},OF=function(e){var r=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return r},IF=function(e,r){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===r)return e[n]},RF=function(e){if(!e.name)return!0;var r=e.form||mp(e),n=function(c){return r.querySelectorAll('input[type="radio"][name="'+c+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=n(window.CSS.escape(e.name));else try{o=n(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var a=IF(o,e.form);return!a||a===e},AF=function(e){return tk(e)&&e.type==="radio"},TF=function(e){return AF(e)&&!RF(e)},PF=function(e){var r,n=e&&mp(e),o=(r=n)===null||r===void 0?void 0:r.host,a=!1;if(n&&n!==e){var l,c,h;for(a=!!((l=o)!==null&&l!==void 0&&(c=l.ownerDocument)!==null&&c!==void 0&&c.contains(o)||e!=null&&(h=e.ownerDocument)!==null&&h!==void 0&&h.contains(e));!a&&o;){var m,g,x;n=mp(o),o=(m=n)===null||m===void 0?void 0:m.host,a=!!((g=o)!==null&&g!==void 0&&(x=g.ownerDocument)!==null&&x!==void 0&&x.contains(o))}}return a},WS=function(e){var r=e.getBoundingClientRect(),n=r.width,o=r.height;return n===0&&o===0},FF=function(e,r){var n=r.displayCheck,o=r.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var a=Ou.call(e,"details>summary:first-of-type"),l=a?e.parentElement:e;if(Ou.call(l,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof o=="function"){for(var c=e;e;){var h=e.parentElement,m=mp(e);if(h&&!h.shadowRoot&&o(h)===!0)return WS(e);e.assignedSlot?e=e.assignedSlot:!h&&m!==e.ownerDocument?e=m.host:e=h}e=c}if(PF(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return WS(e);return!1},jF=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var r=e.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var n=0;n<r.children.length;n++){var o=r.children.item(n);if(o.tagName==="LEGEND")return Ou.call(r,"fieldset[disabled] *")?!0:!o.contains(e)}return!0}r=r.parentElement}return!1},LF=function(e,r){return!(r.disabled||yp(r)||CF(r)||FF(r,e)||OF(r)||jF(r))},u_=function(e,r){return!(TF(r)||ek(r)<0||!LF(e,r))},DF=function(e){var r=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},MF=function t(e){var r=[],n=[];return e.forEach(function(o,a){var l=!!o.scopeParent,c=l?o.scopeParent:o,h=kF(c,l),m=l?t(o.candidates):c;h===0?l?r.push.apply(r,m):r.push(c):n.push({documentOrder:a,tabIndex:h,item:o,isScope:l,content:m})}),n.sort(qF).reduce(function(o,a){return a.isScope?o.push.apply(o,a.content):o.push(a.content),o},[]).concat(r)},rm=function(e,r){r=r||{};var n;return r.getShadowRoot?n=NF([e],r.includeContainer,{filter:u_.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:DF}):n=EF(e,r.includeContainer,u_.bind(null,r)),MF(n)},BF=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return Ou.call(e,pp)===!1?!1:u_(r,e)};function $S(t,e,r){let{reference:n,floating:o}=t;const a=dl(e),l=Z1(e),c=J1(l),h=ya(e),m=a==="y",g=n.x+n.width/2-o.width/2,x=n.y+n.height/2-o.height/2,N=n[c]/2-o[c]/2;let q;switch(h){case"top":q={x:g,y:n.y-o.height};break;case"bottom":q={x:g,y:n.y+n.height};break;case"right":q={x:n.x+n.width,y:x};break;case"left":q={x:n.x-o.width,y:x};break;default:q={x:n.x,y:n.y}}switch(Wd(e)){case"start":q[l]-=N*(r&&m?-1:1);break;case"end":q[l]+=N*(r&&m?-1:1);break}return q}const WF=async(t,e,r)=>{const{placement:n="bottom",strategy:o="absolute",middleware:a=[],platform:l}=r,c=a.filter(Boolean),h=await (l.isRTL==null?void 0:l.isRTL(e));let m=await l.getElementRects({reference:t,floating:e,strategy:o}),{x:g,y:x}=$S(m,n,h),N=n,q={},C=0;for(let O=0;O<c.length;O++){const{name:P,fn:M}=c[O],{x:j,y:$,data:U,reset:G}=await M({x:g,y:x,initialPlacement:n,placement:N,strategy:o,middlewareData:q,rects:m,platform:l,elements:{reference:t,floating:e}});g=j??g,x=$??x,q={...q,[P]:{...q[P],...U}},G&&C<=50&&(C++,typeof G=="object"&&(G.placement&&(N=G.placement),G.rects&&(m=G.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:o}):G.rects),{x:g,y:x}=$S(m,N,h)),O=-1)}return{x:g,y:x,placement:N,strategy:o,middlewareData:q}};async function G_(t,e){var r;e===void 0&&(e={});const{x:n,y:o,platform:a,rects:l,elements:c,strategy:h}=t,{boundary:m="clippingAncestors",rootBoundary:g="viewport",elementContext:x="floating",altBoundary:N=!1,padding:q=0}=Bd(e,t),C=wF(q),P=c[N?x==="floating"?"reference":"floating":x],M=hp(await a.getClippingRect({element:(r=await (a.isElement==null?void 0:a.isElement(P)))==null||r?P:P.contextElement||await (a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:m,rootBoundary:g,strategy:h})),j=x==="floating"?{x:n,y:o,width:l.floating.width,height:l.floating.height}:l.reference,$=await (a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),U=await (a.isElement==null?void 0:a.isElement($))?await (a.getScale==null?void 0:a.getScale($))||{x:1,y:1}:{x:1,y:1},G=hp(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:j,offsetParent:$,strategy:h}):j);return{top:(M.top-G.top+C.top)/U.y,bottom:(G.bottom-M.bottom+C.bottom)/U.y,left:(M.left-G.left+C.left)/U.x,right:(G.right-M.right+C.right)/U.x}}const $F=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:o,middlewareData:a,rects:l,initialPlacement:c,platform:h,elements:m}=e,{mainAxis:g=!0,crossAxis:x=!0,fallbackPlacements:N,fallbackStrategy:q="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:O=!0,...P}=Bd(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const M=ya(o),j=dl(c),$=ya(c)===c,U=await (h.isRTL==null?void 0:h.isRTL(m.floating)),G=N||($||!O?[fp(c)]:gF(c)),B=C!=="none";!N&&B&&G.push(..._F(c,O,C,U));const J=[c,...G],re=await G_(e,P),V=[];let ie=((n=a.flip)==null?void 0:n.overflows)||[];if(g&&V.push(re[M]),x){const pe=yF(o,l,U);V.push(re[pe[0]],re[pe[1]])}if(ie=[...ie,{placement:o,overflows:V}],!V.every(pe=>pe<=0)){var D,ne;const pe=(((D=a.flip)==null?void 0:D.index)||0)+1,Oe=J[pe];if(Oe)return{data:{index:pe,overflows:ie},reset:{placement:Oe}};let Ce=(ne=ie.filter(Fe=>Fe.overflows[0]<=0).sort((Fe,ve)=>Fe.overflows[1]-ve.overflows[1])[0])==null?void 0:ne.placement;if(!Ce)switch(q){case"bestFit":{var Z;const Fe=(Z=ie.filter(ve=>{if(B){const me=dl(ve.placement);return me===j||me==="y"}return!0}).map(ve=>[ve.placement,ve.overflows.filter(me=>me>0).reduce((me,Ee)=>me+Ee,0)]).sort((ve,me)=>ve[1]-me[1])[0])==null?void 0:Z[0];Fe&&(Ce=Fe);break}case"initialPlacement":Ce=c;break}if(o!==Ce)return{reset:{placement:Ce}}}return{}}}};async function zF(t,e){const{placement:r,platform:n,elements:o}=t,a=await (n.isRTL==null?void 0:n.isRTL(o.floating)),l=ya(r),c=Wd(r),h=dl(r)==="y",m=["left","top"].includes(l)?-1:1,g=a&&h?-1:1,x=Bd(e,t);let{mainAxis:N,crossAxis:q,alignmentAxis:C}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return c&&typeof C=="number"&&(q=c==="end"?C*-1:C),h?{x:q*g,y:N*m}:{x:N*m,y:q*g}}const UF=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:o,y:a,placement:l,middlewareData:c}=e,h=await zF(e,t);return l===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:o+h.x,y:a+h.y,data:{...h,placement:l}}}}},VF=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:o}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:c={fn:P=>{let{x:M,y:j}=P;return{x:M,y:j}}},...h}=Bd(t,e),m={x:r,y:n},g=await G_(e,h),x=dl(ya(o)),N=G1(x);let q=m[N],C=m[x];if(a){const P=N==="y"?"top":"left",M=N==="y"?"bottom":"right",j=q+g[P],$=q-g[M];q=BS(j,q,$)}if(l){const P=x==="y"?"top":"left",M=x==="y"?"bottom":"right",j=C+g[P],$=C-g[M];C=BS(j,C,$)}const O=c.fn({...e,[N]:q,[x]:C});return{...O,data:{x:O.x-r,y:O.y-n,enabled:{[N]:a,[x]:l}}}}}},HF=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:o,rects:a,platform:l,elements:c}=e,{apply:h=()=>{},...m}=Bd(t,e),g=await G_(e,m),x=ya(o),N=Wd(o),q=dl(o)==="y",{width:C,height:O}=a.floating;let P,M;x==="top"||x==="bottom"?(P=x,M=N===(await (l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(M=x,P=N==="end"?"top":"bottom");const j=O-g.top-g.bottom,$=C-g.left-g.right,U=Cu(O-g[P],j),G=Cu(C-g[M],$),B=!e.middlewareData.shift;let J=U,re=G;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(re=$),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(J=j),B&&!N){const ie=Si(g.left,0),D=Si(g.right,0),ne=Si(g.top,0),Z=Si(g.bottom,0);q?re=C-2*(ie!==0||D!==0?ie+D:Si(g.left,g.right)):J=O-2*(ne!==0||Z!==0?ne+Z:Si(g.top,g.bottom))}await h({...e,availableWidth:re,availableHeight:J});const V=await l.getDimensions(c.floating);return C!==V.width||O!==V.height?{reset:{rects:!0}}:{}}}};function rk(t){const e=Vi(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const o=un(t),a=o?t.offsetWidth:r,l=o?t.offsetHeight:n,c=dp(r)!==a||dp(n)!==l;return c&&(r=a,n=l),{width:r,height:n,$:c}}function J_(t){return Pr(t)?t:t.contextElement}function hu(t){const e=J_(t);if(!un(e))return As(1);const r=e.getBoundingClientRect(),{width:n,height:o,$:a}=rk(e);let l=(a?dp(r.width):r.width)/n,c=(a?dp(r.height):r.height)/o;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const QF=As(0);function nk(t){const e=ui(t);return!em()||!e.visualViewport?QF:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function KF(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==ui(t)?!1:e}function fl(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const o=t.getBoundingClientRect(),a=J_(t);let l=As(1);e&&(n?Pr(n)&&(l=hu(n)):l=hu(t));const c=KF(a,r,n)?nk(a):As(0);let h=(o.left+c.x)/l.x,m=(o.top+c.y)/l.y,g=o.width/l.x,x=o.height/l.y;if(a){const N=ui(a),q=n&&Pr(n)?ui(n):n;let C=N,O=o_(C);for(;O&&n&&q!==C;){const P=hu(O),M=O.getBoundingClientRect(),j=Vi(O),$=M.left+(O.clientLeft+parseFloat(j.paddingLeft))*P.x,U=M.top+(O.clientTop+parseFloat(j.paddingTop))*P.y;h*=P.x,m*=P.y,g*=P.x,x*=P.y,h+=$,m+=U,C=ui(O),O=o_(C)}}return hp({width:g,height:x,x:h,y:m})}function Z_(t,e){const r=tm(t).scrollLeft;return e?e.left+r:fl(Ds(t)).left+r}function ik(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),o=n.left+e.scrollLeft-(r?0:Z_(t,n)),a=n.top+e.scrollTop;return{x:o,y:a}}function GF(t){let{elements:e,rect:r,offsetParent:n,strategy:o}=t;const a=o==="fixed",l=Ds(n),c=e?Yp(e.floating):!1;if(n===l||c&&a)return r;let h={scrollLeft:0,scrollTop:0},m=As(1);const g=As(0),x=un(n);if((x||!x&&!a)&&((Sa(n)!=="body"||Md(l))&&(h=tm(n)),un(n))){const q=fl(n);m=hu(n),g.x=q.x+n.clientLeft,g.y=q.y+n.clientTop}const N=l&&!x&&!a?ik(l,h,!0):As(0);return{width:r.width*m.x,height:r.height*m.y,x:r.x*m.x-h.scrollLeft*m.x+g.x+N.x,y:r.y*m.y-h.scrollTop*m.y+g.y+N.y}}function JF(t){return Array.from(t.getClientRects())}function ZF(t){const e=Ds(t),r=tm(t),n=t.ownerDocument.body,o=Si(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=Si(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+Z_(t);const c=-r.scrollTop;return Vi(n).direction==="rtl"&&(l+=Si(e.clientWidth,n.clientWidth)-o),{width:o,height:a,x:l,y:c}}function XF(t,e){const r=ui(t),n=Ds(t),o=r.visualViewport;let a=n.clientWidth,l=n.clientHeight,c=0,h=0;if(o){a=o.width,l=o.height;const m=em();(!m||m&&e==="fixed")&&(c=o.offsetLeft,h=o.offsetTop)}return{width:a,height:l,x:c,y:h}}function YF(t,e){const r=fl(t,!0,e==="fixed"),n=r.top+t.clientTop,o=r.left+t.clientLeft,a=un(t)?hu(t):As(1),l=t.clientWidth*a.x,c=t.clientHeight*a.y,h=o*a.x,m=n*a.y;return{width:l,height:c,x:h,y:m}}function zS(t,e,r){let n;if(e==="viewport")n=XF(t,r);else if(e==="document")n=ZF(Ds(t));else if(Pr(e))n=YF(e,r);else{const o=nk(t);n={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return hp(n)}function sk(t,e){const r=po(t);return r===e||!Pr(r)||uo(r)?!1:Vi(r).position==="fixed"||sk(r,e)}function ej(t,e){const r=e.get(t);if(r)return r;let n=sa(t,[],!1).filter(c=>Pr(c)&&Sa(c)!=="body"),o=null;const a=Vi(t).position==="fixed";let l=a?po(t):t;for(;Pr(l)&&!uo(l);){const c=Vi(l),h=V_(l);!h&&c.position==="fixed"&&(o=null),(a?!h&&!o:!h&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Md(l)&&!h&&sk(t,l))?n=n.filter(g=>g!==l):o=c,l=po(l)}return e.set(t,n),n}function tj(t){let{element:e,boundary:r,rootBoundary:n,strategy:o}=t;const l=[...r==="clippingAncestors"?Yp(e)?[]:ej(e,this._c):[].concat(r),n],c=l[0],h=l.reduce((m,g)=>{const x=zS(e,g,o);return m.top=Si(x.top,m.top),m.right=Cu(x.right,m.right),m.bottom=Cu(x.bottom,m.bottom),m.left=Si(x.left,m.left),m},zS(e,c,o));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function rj(t){const{width:e,height:r}=rk(t);return{width:e,height:r}}function nj(t,e,r){const n=un(e),o=Ds(e),a=r==="fixed",l=fl(t,!0,a,e);let c={scrollLeft:0,scrollTop:0};const h=As(0);if(n||!n&&!a)if((Sa(e)!=="body"||Md(o))&&(c=tm(e)),n){const N=fl(e,!0,a,e);h.x=N.x+e.clientLeft,h.y=N.y+e.clientTop}else o&&(h.x=Z_(o));const m=o&&!n&&!a?ik(o,c):As(0),g=l.left+c.scrollLeft-h.x-m.x,x=l.top+c.scrollTop-h.y-m.y;return{x:g,y:x,width:l.width,height:l.height}}function dv(t){return Vi(t).position==="static"}function US(t,e){if(!un(t)||Vi(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Ds(t)===r&&(r=r.ownerDocument.body),r}function ok(t,e){const r=ui(t);if(Yp(t))return r;if(!un(t)){let o=po(t);for(;o&&!uo(o);){if(Pr(o)&&!dv(o))return o;o=po(o)}return r}let n=US(t,e);for(;n&&aF(n)&&dv(n);)n=US(n,e);return n&&uo(n)&&dv(n)&&!V_(n)?r:n||lF(t)||r}const ij=async function(t){const e=this.getOffsetParent||ok,r=this.getDimensions,n=await r(t.floating);return{reference:nj(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function sj(t){return Vi(t).direction==="rtl"}const oj={convertOffsetParentRelativeRectToViewportRelativeRect:GF,getDocumentElement:Ds,getClippingRect:tj,getOffsetParent:ok,getElementRects:ij,getClientRects:JF,getDimensions:rj,getScale:hu,isElement:Pr,isRTL:sj};function aj(t,e){let r=null,n;const o=Ds(t);function a(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function l(c,h){c===void 0&&(c=!1),h===void 0&&(h=1),a();const{left:m,top:g,width:x,height:N}=t.getBoundingClientRect();if(c||e(),!x||!N)return;const q=iu(g),C=iu(o.clientWidth-(m+x)),O=iu(o.clientHeight-(g+N)),P=iu(m),j={rootMargin:-q+"px "+-C+"px "+-O+"px "+-P+"px",threshold:Si(0,Cu(1,h))||1};let $=!0;function U(G){const B=G[0].intersectionRatio;if(B!==h){if(!$)return l();B?l(!1,B):n=setTimeout(()=>{l(!1,1e-7)},1e3)}$=!1}try{r=new IntersectionObserver(U,{...j,root:o.ownerDocument})}catch{r=new IntersectionObserver(U,j)}r.observe(t)}return l(!0),a}function ak(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:h=!1}=n,m=J_(t),g=o||a?[...m?sa(m):[],...sa(e)]:[];g.forEach(M=>{o&&M.addEventListener("scroll",r,{passive:!0}),a&&M.addEventListener("resize",r)});const x=m&&c?aj(m,r):null;let N=-1,q=null;l&&(q=new ResizeObserver(M=>{let[j]=M;j&&j.target===m&&q&&(q.unobserve(e),cancelAnimationFrame(N),N=requestAnimationFrame(()=>{var $;($=q)==null||$.observe(e)})),r()}),m&&!h&&q.observe(m),q.observe(e));let C,O=h?fl(t):null;h&&P();function P(){const M=fl(t);O&&(M.x!==O.x||M.y!==O.y||M.width!==O.width||M.height!==O.height)&&r(),O=M,C=requestAnimationFrame(P)}return r(),()=>{var M;g.forEach(j=>{o&&j.removeEventListener("scroll",r),a&&j.removeEventListener("resize",r)}),x?.(),(M=q)==null||M.disconnect(),q=null,h&&cancelAnimationFrame(C)}}const lj=UF,uj=VF,cj=$F,dj=HF,fj=(t,e,r)=>{const n=new Map,o={platform:oj,...r},a={...o.platform,_c:n};return WF(t,e,{...o,platform:a})};var Fh=typeof document<"u"?Q.useLayoutEffect:Q.useEffect;function gp(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!gp(t[n],e[n]))return!1;return!0}if(o=Object.keys(t),r=o.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,o[n]))return!1;for(n=r;n--!==0;){const a=o[n];if(!(a==="_owner"&&t.$$typeof)&&!gp(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function lk(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function VS(t,e){const r=lk(t);return Math.round(e*r)/r}function fv(t){const e=Q.useRef(t);return Fh(()=>{e.current=t}),e}function hj(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:o,elements:{reference:a,floating:l}={},transform:c=!0,whileElementsMounted:h,open:m}=t,[g,x]=Q.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[N,q]=Q.useState(n);gp(N,n)||q(n);const[C,O]=Q.useState(null),[P,M]=Q.useState(null),j=Q.useCallback(ve=>{ve!==B.current&&(B.current=ve,O(ve))},[]),$=Q.useCallback(ve=>{ve!==J.current&&(J.current=ve,M(ve))},[]),U=a||C,G=l||P,B=Q.useRef(null),J=Q.useRef(null),re=Q.useRef(g),V=h!=null,ie=fv(h),D=fv(o),ne=fv(m),Z=Q.useCallback(()=>{if(!B.current||!J.current)return;const ve={placement:e,strategy:r,middleware:N};D.current&&(ve.platform=D.current),fj(B.current,J.current,ve).then(me=>{const Ee={...me,isPositioned:ne.current!==!1};pe.current&&!gp(re.current,Ee)&&(re.current=Ee,P_.flushSync(()=>{x(Ee)}))})},[N,e,r,D,ne]);Fh(()=>{m===!1&&re.current.isPositioned&&(re.current.isPositioned=!1,x(ve=>({...ve,isPositioned:!1})))},[m]);const pe=Q.useRef(!1);Fh(()=>(pe.current=!0,()=>{pe.current=!1}),[]),Fh(()=>{if(U&&(B.current=U),G&&(J.current=G),U&&G){if(ie.current)return ie.current(U,G,Z);Z()}},[U,G,Z,ie,V]);const Oe=Q.useMemo(()=>({reference:B,floating:J,setReference:j,setFloating:$}),[j,$]),Ce=Q.useMemo(()=>({reference:U,floating:G}),[U,G]),Fe=Q.useMemo(()=>{const ve={position:r,left:0,top:0};if(!Ce.floating)return ve;const me=VS(Ce.floating,g.x),Ee=VS(Ce.floating,g.y);return c?{...ve,transform:"translate("+me+"px, "+Ee+"px)",...lk(Ce.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:me,top:Ee}},[r,c,Ce.floating,g.x,g.y]);return Q.useMemo(()=>({...g,update:Z,refs:Oe,elements:Ce,floatingStyles:Fe}),[g,Z,Oe,Ce,Fe])}const uk=(t,e)=>({...lj(t),options:[t,e]}),pj=(t,e)=>({...uj(t),options:[t,e]}),ck=(t,e)=>({...cj(t),options:[t,e]}),mj=(t,e)=>({...dj(t),options:[t,e]});function HS(t){return Q.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})},t)}const dk={...OC},yj=dk.useInsertionEffect,gj=yj||(t=>t());function si(t){const e=Q.useRef(()=>{});return gj(()=>{e.current=t}),Q.useCallback(function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return e.current==null?void 0:e.current(...n)},[])}const X_="ArrowUp",$d="ArrowDown",oa="ArrowLeft",aa="ArrowRight";function mh(t,e,r){return Math.floor(t/e)!==r}function Hc(t,e){return e<0||e>=t.current.length}function hv(t,e){return Rn(t,{disabledIndices:e})}function QS(t,e){return Rn(t,{decrement:!0,startingIndex:t.current.length,disabledIndices:e})}function Rn(t,e){let{startingIndex:r=-1,decrement:n=!1,disabledIndices:o,amount:a=1}=e===void 0?{}:e;const l=t.current;let c=r;do c+=n?-a:a;while(c>=0&&c<=l.length-1&&jh(l,c,o));return c}function vj(t,e){let{event:r,orientation:n,loop:o,rtl:a,cols:l,disabledIndices:c,minIndex:h,maxIndex:m,prevIndex:g,stopEvent:x=!1}=e,N=g;if(r.key===X_){if(x&&Bn(r),g===-1)N=m;else if(N=Rn(t,{startingIndex:N,amount:l,decrement:!0,disabledIndices:c}),o&&(g-l<h||N<0)){const q=g%l,C=m%l,O=m-(C-q);C===q?N=m:N=C>q?O:O-l}Hc(t,N)&&(N=g)}if(r.key===$d&&(x&&Bn(r),g===-1?N=h:(N=Rn(t,{startingIndex:g,amount:l,disabledIndices:c}),o&&g+l>m&&(N=Rn(t,{startingIndex:g%l-l,amount:l,disabledIndices:c}))),Hc(t,N)&&(N=g)),n==="both"){const q=iu(g/l);r.key===(a?oa:aa)&&(x&&Bn(r),g%l!==l-1?(N=Rn(t,{startingIndex:g,disabledIndices:c}),o&&mh(N,l,q)&&(N=Rn(t,{startingIndex:g-g%l-1,disabledIndices:c}))):o&&(N=Rn(t,{startingIndex:g-g%l-1,disabledIndices:c})),mh(N,l,q)&&(N=g)),r.key===(a?aa:oa)&&(x&&Bn(r),g%l!==0?(N=Rn(t,{startingIndex:g,decrement:!0,disabledIndices:c}),o&&mh(N,l,q)&&(N=Rn(t,{startingIndex:g+(l-g%l),decrement:!0,disabledIndices:c}))):o&&(N=Rn(t,{startingIndex:g+(l-g%l),decrement:!0,disabledIndices:c})),mh(N,l,q)&&(N=g));const C=iu(m/l)===q;Hc(t,N)&&(o&&C?N=r.key===(a?aa:oa)?m:Rn(t,{startingIndex:g-g%l-1,disabledIndices:c}):N=g)}return N}function _j(t,e,r){const n=[];let o=0;return t.forEach((a,l)=>{let{width:c,height:h}=a,m=!1;for(r&&(o=0);!m;){const g=[];for(let x=0;x<c;x++)for(let N=0;N<h;N++)g.push(o+x+N*e);o%e+c<=e&&g.every(x=>n[x]==null)?(g.forEach(x=>{n[x]=l}),m=!0):o++}}),[...n]}function bj(t,e,r,n,o){if(t===-1)return-1;const a=r.indexOf(t),l=e[t];switch(o){case"tl":return a;case"tr":return l?a+l.width-1:a;case"bl":return l?a+(l.height-1)*n:a;case"br":return r.lastIndexOf(t)}}function wj(t,e){return e.flatMap((r,n)=>t.includes(r)?[n]:[])}function jh(t,e,r){if(r)return r.includes(e);const n=t[e];return n==null||n.hasAttribute("disabled")||n.getAttribute("aria-disabled")==="true"}var Wr=typeof document<"u"?Q.useLayoutEffect:Q.useEffect;function xd(){return xd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xd.apply(this,arguments)}let KS=!1,xj=0;const GS=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+xj++;function Sj(){const[t,e]=Q.useState(()=>KS?GS():void 0);return Wr(()=>{t==null&&e(GS())},[]),Q.useEffect(()=>{KS=!0},[]),t}const Ej=dk.useId,Y_=Ej||Sj;function fk(){const t=new Map;return{emit(e,r){var n;(n=t.get(e))==null||n.forEach(o=>o(r))},on(e,r){t.set(e,[...t.get(e)||[],r])},off(e,r){var n;t.set(e,((n=t.get(e))==null?void 0:n.filter(o=>o!==r))||[])}}}const hk=Q.createContext(null),pk=Q.createContext(null),zd=()=>{var t;return((t=Q.useContext(hk))==null?void 0:t.id)||null},Du=()=>Q.useContext(pk);function Nj(t){const e=Y_(),r=Du(),o=zd();return Wr(()=>{if(!e)return;const a={id:e,parentId:o};return r?.addNode(a),()=>{r?.removeNode(a)}},[r,e,o]),e}function kj(t){const{children:e,id:r}=t,n=zd();return Q.createElement(hk.Provider,{value:Q.useMemo(()=>({id:r,parentId:n}),[r,n])},e)}function qj(t){const{children:e}=t,r=Q.useRef([]),n=Q.useCallback(l=>{r.current=[...r.current,l]},[]),o=Q.useCallback(l=>{r.current=r.current.filter(c=>c!==l)},[]),a=Q.useState(()=>fk())[0];return Q.createElement(pk.Provider,{value:Q.useMemo(()=>({nodesRef:r,addNode:n,removeNode:o,events:a}),[n,o,a])},e)}function hl(t){return"data-floating-ui-"+t}function zn(t){const e=Q.useRef(t);return Wr(()=>{e.current=t}),e}const JS=hl("safe-polygon");function pv(t,e,r){return r&&!wd(r)?0:typeof t=="number"?t:t?.[e]}function Cj(t,e){e===void 0&&(e={});const{open:r,onOpenChange:n,dataRef:o,events:a,elements:l}=t,{enabled:c=!0,delay:h=0,handleClose:m=null,mouseOnly:g=!1,restMs:x=0,move:N=!0}=e,q=Du(),C=zd(),O=zn(m),P=zn(h),M=zn(r),j=Q.useRef(),$=Q.useRef(-1),U=Q.useRef(),G=Q.useRef(-1),B=Q.useRef(!0),J=Q.useRef(!1),re=Q.useRef(()=>{}),V=Q.useRef(!1),ie=Q.useCallback(()=>{var Fe;const ve=(Fe=o.current.openEvent)==null?void 0:Fe.type;return ve?.includes("mouse")&&ve!=="mousedown"},[o]);Q.useEffect(()=>{if(!c)return;function Fe(ve){let{open:me}=ve;me||(clearTimeout($.current),clearTimeout(G.current),B.current=!0,V.current=!1)}return a.on("openchange",Fe),()=>{a.off("openchange",Fe)}},[c,a]),Q.useEffect(()=>{if(!c||!O.current||!r)return;function Fe(me){ie()&&n(!1,me,"hover")}const ve=Nn(l.floating).documentElement;return ve.addEventListener("mouseleave",Fe),()=>{ve.removeEventListener("mouseleave",Fe)}},[l.floating,r,n,c,O,ie]);const D=Q.useCallback(function(Fe,ve,me){ve===void 0&&(ve=!0),me===void 0&&(me="hover");const Ee=pv(P.current,"close",j.current);Ee&&!U.current?(clearTimeout($.current),$.current=window.setTimeout(()=>n(!1,Fe,me),Ee)):ve&&(clearTimeout($.current),n(!1,Fe,me))},[P,n]),ne=si(()=>{re.current(),U.current=void 0}),Z=si(()=>{if(J.current){const Fe=Nn(l.floating).body;Fe.style.pointerEvents="",Fe.removeAttribute(JS),J.current=!1}}),pe=si(()=>o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1);Q.useEffect(()=>{if(!c)return;function Fe(H){if(clearTimeout($.current),B.current=!1,g&&!wd(j.current)||x>0&&!pv(P.current,"open"))return;const xe=pv(P.current,"open",j.current);xe?$.current=window.setTimeout(()=>{M.current||n(!0,H,"hover")},xe):r||n(!0,H,"hover")}function ve(H){if(pe())return;re.current();const xe=Nn(l.floating);if(clearTimeout(G.current),V.current=!1,O.current&&o.current.floatingContext){r||clearTimeout($.current),U.current=O.current({...o.current.floatingContext,tree:q,x:H.clientX,y:H.clientY,onClose(){Z(),ne(),pe()||D(H,!0,"safe-polygon")}});const at=U.current;xe.addEventListener("mousemove",at),re.current=()=>{xe.removeEventListener("mousemove",at)};return}(j.current==="touch"?!En(l.floating,H.relatedTarget):!0)&&D(H)}function me(H){pe()||o.current.floatingContext&&(O.current==null||O.current({...o.current.floatingContext,tree:q,x:H.clientX,y:H.clientY,onClose(){Z(),ne(),pe()||D(H)}})(H))}if(Pr(l.domReference)){var Ee;const H=l.domReference;return r&&H.addEventListener("mouseleave",me),(Ee=l.floating)==null||Ee.addEventListener("mouseleave",me),N&&H.addEventListener("mousemove",Fe,{once:!0}),H.addEventListener("mouseenter",Fe),H.addEventListener("mouseleave",ve),()=>{var xe;r&&H.removeEventListener("mouseleave",me),(xe=l.floating)==null||xe.removeEventListener("mouseleave",me),N&&H.removeEventListener("mousemove",Fe),H.removeEventListener("mouseenter",Fe),H.removeEventListener("mouseleave",ve)}}},[l,c,t,g,x,N,D,ne,Z,n,r,M,q,P,O,o,pe]),Wr(()=>{var Fe;if(c&&r&&(Fe=O.current)!=null&&Fe.__options.blockPointerEvents&&ie()){J.current=!0;const me=l.floating;if(Pr(l.domReference)&&me){var ve;const Ee=Nn(l.floating).body;Ee.setAttribute(JS,"");const H=l.domReference,xe=q==null||(ve=q.nodesRef.current.find(lt=>lt.id===C))==null||(ve=ve.context)==null?void 0:ve.elements.floating;return xe&&(xe.style.pointerEvents=""),Ee.style.pointerEvents="none",H.style.pointerEvents="auto",me.style.pointerEvents="auto",()=>{Ee.style.pointerEvents="",H.style.pointerEvents="",me.style.pointerEvents=""}}}},[c,r,C,l,q,O,ie]),Wr(()=>{r||(j.current=void 0,V.current=!1,ne(),Z())},[r,ne,Z]),Q.useEffect(()=>()=>{ne(),clearTimeout($.current),clearTimeout(G.current),Z()},[c,l.domReference,ne,Z]);const Oe=Q.useMemo(()=>{function Fe(ve){j.current=ve.pointerType}return{onPointerDown:Fe,onPointerEnter:Fe,onMouseMove(ve){const{nativeEvent:me}=ve;function Ee(){!B.current&&!M.current&&n(!0,me,"hover")}g&&!wd(j.current)||r||x===0||V.current&&ve.movementX**2+ve.movementY**2<2||(clearTimeout(G.current),j.current==="touch"?Ee():(V.current=!0,G.current=window.setTimeout(Ee,x)))}}},[g,n,r,M,x]),Ce=Q.useMemo(()=>({onMouseEnter(){clearTimeout($.current)},onMouseLeave(Fe){pe()||D(Fe.nativeEvent,!1)}}),[D,pe]);return Q.useMemo(()=>c?{reference:Oe,floating:Ce}:{},[c,Oe,Ce])}let ZS=0;function Va(t,e){e===void 0&&(e={});const{preventScroll:r=!1,cancelPrevious:n=!0,sync:o=!1}=e;n&&cancelAnimationFrame(ZS);const a=()=>t?.focus({preventScroll:r});o?a():ZS=requestAnimationFrame(a)}function XS(t,e){var r;let n=[],o=(r=t.find(a=>a.id===e))==null?void 0:r.parentId;for(;o;){const a=t.find(l=>l.id===o);o=a?.parentId,a&&(n=n.concat(a))}return n}function pu(t,e){let r=t.filter(o=>{var a;return o.parentId===e&&((a=o.context)==null?void 0:a.open)}),n=r;for(;n.length;)n=t.filter(o=>{var a;return(a=n)==null?void 0:a.some(l=>{var c;return o.parentId===l.id&&((c=o.context)==null?void 0:c.open)})}),r=r.concat(n);return r}function Oj(t,e){let r,n=-1;function o(a,l){l>n&&(r=a,n=l),pu(t,a).forEach(h=>{o(h.id,l+1)})}return o(e,0),t.find(a=>a.id===r)}let Gl=new WeakMap,yh=new WeakSet,gh={},mv=0;const Ij=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,mk=t=>t&&(t.host||mk(t.parentNode)),Rj=(t,e)=>e.map(r=>{if(t.contains(r))return r;const n=mk(r);return t.contains(n)?n:null}).filter(r=>r!=null);function Aj(t,e,r,n){const o="data-floating-ui-inert",a=n?"inert":r?"aria-hidden":null,l=Rj(e,t),c=new Set,h=new Set(l),m=[];gh[o]||(gh[o]=new WeakMap);const g=gh[o];l.forEach(x),N(e),c.clear();function x(q){!q||c.has(q)||(c.add(q),q.parentNode&&x(q.parentNode))}function N(q){!q||h.has(q)||[].forEach.call(q.children,C=>{if(Sa(C)!=="script")if(c.has(C))N(C);else{const O=a?C.getAttribute(a):null,P=O!==null&&O!=="false",M=Gl.get(C)||0,j=a?M+1:M,$=(g.get(C)||0)+1;Gl.set(C,j),g.set(C,$),m.push(C),j===1&&P&&yh.add(C),$===1&&C.setAttribute(o,""),!P&&a&&C.setAttribute(a,"true")}})}return mv++,()=>{m.forEach(q=>{const C=Gl.get(q)||0,O=a?C-1:C,P=(g.get(q)||0)-1;Gl.set(q,O),g.set(q,P),O||(!yh.has(q)&&a&&q.removeAttribute(a),yh.delete(q)),P||q.removeAttribute(o)}),mv--,mv||(Gl=new WeakMap,Gl=new WeakMap,yh=new WeakSet,gh={})}}function YS(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);const n=Nn(t[0]).body;return Aj(t.concat(Array.from(n.querySelectorAll("[aria-live]"))),n,e,r)}const nm=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function yk(t,e){const r=rm(t,nm());e==="prev"&&r.reverse();const n=r.indexOf(os(Nn(t)));return r.slice(n+1)[0]}function gk(){return yk(document.body,"next")}function vk(){return yk(document.body,"prev")}function Qc(t,e){const r=e||t.currentTarget,n=t.relatedTarget;return!n||!En(r,n)}function Tj(t){rm(t,nm()).forEach(r=>{r.dataset.tabindex=r.getAttribute("tabindex")||"",r.setAttribute("tabindex","-1")})}function eE(t){t.querySelectorAll("[data-tabindex]").forEach(r=>{const n=r.dataset.tabindex;delete r.dataset.tabindex,n?r.setAttribute("tabindex",n):r.removeAttribute("tabindex")})}const im={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let Pj;function tE(t){t.key==="Tab"&&(t.target,clearTimeout(Pj))}const vp=Q.forwardRef(function(e,r){const[n,o]=Q.useState();Wr(()=>(Q1()&&o("button"),document.addEventListener("keydown",tE),()=>{document.removeEventListener("keydown",tE)}),[]);const a={ref:r,tabIndex:0,role:n,"aria-hidden":n?void 0:!0,[hl("focus-guard")]:"",style:im};return Q.createElement("span",xd({},e,a))}),_k=Q.createContext(null),rE=hl("portal");function Fj(t){t===void 0&&(t={});const{id:e,root:r}=t,n=Y_(),o=bk(),[a,l]=Q.useState(null),c=Q.useRef(null);return Wr(()=>()=>{a?.remove(),queueMicrotask(()=>{c.current=null})},[a]),Wr(()=>{if(!n||c.current)return;const h=e?document.getElementById(e):null;if(!h)return;const m=document.createElement("div");m.id=n,m.setAttribute(rE,""),h.appendChild(m),c.current=m,l(m)},[e,n]),Wr(()=>{if(r===null||!n||c.current)return;let h=r||o?.portalNode;h&&!Pr(h)&&(h=h.current),h=h||document.body;let m=null;e&&(m=document.createElement("div"),m.id=e,h.appendChild(m));const g=document.createElement("div");g.id=n,g.setAttribute(rE,""),h=m||h,h.appendChild(g),c.current=g,l(g)},[e,r,n,o]),a}function eb(t){const{children:e,id:r,root:n,preserveTabOrder:o=!0}=t,a=Fj({id:r,root:n}),[l,c]=Q.useState(null),h=Q.useRef(null),m=Q.useRef(null),g=Q.useRef(null),x=Q.useRef(null),N=l?.modal,q=l?.open,C=!!l&&!l.modal&&l.open&&o&&!!(n||a);return Q.useEffect(()=>{if(!a||!o||N)return;function O(P){a&&Qc(P)&&(P.type==="focusin"?eE:Tj)(a)}return a.addEventListener("focusin",O,!0),a.addEventListener("focusout",O,!0),()=>{a.removeEventListener("focusin",O,!0),a.removeEventListener("focusout",O,!0)}},[a,o,N]),Q.useEffect(()=>{a&&(q||eE(a))},[q,a]),Q.createElement(_k.Provider,{value:Q.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:h,afterOutsideRef:m,beforeInsideRef:g,afterInsideRef:x,portalNode:a,setFocusManagerState:c}),[o,a])},C&&a&&Q.createElement(vp,{"data-type":"outside",ref:h,onFocus:O=>{if(Qc(O,a)){var P;(P=g.current)==null||P.focus()}else{const M=vk()||l?.refs.domReference.current;M?.focus()}}}),C&&a&&Q.createElement("span",{"aria-owns":a.id,style:im}),a&&P_.createPortal(e,a),C&&a&&Q.createElement(vp,{"data-type":"outside",ref:m,onFocus:O=>{if(Qc(O,a)){var P;(P=x.current)==null||P.focus()}else{const M=gk()||l?.refs.domReference.current;M?.focus(),l?.closeOnFocusOut&&l?.onOpenChange(!1,O.nativeEvent,"focus-out")}}}))}const bk=()=>Q.useContext(_k),c_="data-floating-ui-focusable";function d_(t){return t?t.hasAttribute(c_)?t:t.querySelector("["+c_+"]")||t:null}const nE=20;let Ha=[];function yv(t){Ha=Ha.filter(e=>e.isConnected),t&&Sa(t)!=="body"&&(Ha.push(t),Ha.length>nE&&(Ha=Ha.slice(-nE)))}function iE(){return Ha.slice().reverse().find(t=>t.isConnected)}function jj(t){const e=nm();return BF(t,e)?t:rm(t,e)[0]||t}const Lj=Q.forwardRef(function(e,r){return Q.createElement("button",xd({},e,{type:"button",ref:r,tabIndex:-1,style:im}))});function wk(t){const{context:e,children:r,disabled:n=!1,order:o=["content"],guards:a=!0,initialFocus:l=0,returnFocus:c=!0,restoreFocus:h=!1,modal:m=!0,visuallyHiddenDismiss:g=!1,closeOnFocusOut:x=!0,outsideElementsInert:N=!1}=t,{open:q,refs:C,nodeId:O,onOpenChange:P,events:M,dataRef:j,elements:{domReference:$,floating:U}}=e,G=typeof l=="number"&&l<0,B=K1($)&&G,J=Ij(),re=J?a:!0,V=!re||J&&N,ie=zn(o),D=zn(l),ne=zn(c),Z=Du(),pe=bk(),Oe=Q.useRef(null),Ce=Q.useRef(null),Fe=Q.useRef(!1),ve=Q.useRef(!1),me=Q.useRef(-1),Ee=pe!=null,H=d_(U),xe=si(function(vt){return vt===void 0&&(vt=H),vt?rm(vt,nm()):[]}),lt=si(vt=>{const yt=xe(vt);return ie.current.map(Ot=>$&&Ot==="reference"?$:H&&Ot==="floating"?H:yt).filter(Boolean).flat()});Q.useEffect(()=>{if(n||!m)return;function vt(Ot){if(Ot.key==="Tab"){En(H,os(Nn(H)))&&xe().length===0&&!B&&Bn(Ot);const qt=lt(),Jt=Yo(Ot);ie.current[0]==="reference"&&Jt===$&&(Bn(Ot),Ot.shiftKey?Va(qt[qt.length-1]):Va(qt[1])),ie.current[1]==="floating"&&Jt===H&&Ot.shiftKey&&(Bn(Ot),Va(qt[0]))}}const yt=Nn(H);return yt.addEventListener("keydown",vt),()=>{yt.removeEventListener("keydown",vt)}},[n,$,H,m,ie,B,xe,lt]),Q.useEffect(()=>{if(n||!U)return;function vt(yt){const Ot=Yo(yt),Jt=xe().indexOf(Ot);Jt!==-1&&(me.current=Jt)}return U.addEventListener("focusin",vt),()=>{U.removeEventListener("focusin",vt)}},[n,U,xe]),Q.useEffect(()=>{if(n||!x)return;function vt(){ve.current=!0,setTimeout(()=>{ve.current=!1})}function yt(Ot){const qt=Ot.relatedTarget;queueMicrotask(()=>{const Jt=!(En($,qt)||En(U,qt)||En(qt,U)||En(pe?.portalNode,qt)||qt!=null&&qt.hasAttribute(hl("focus-guard"))||Z&&(pu(Z.nodesRef.current,O).find(Gt=>{var er,ur;return En((er=Gt.context)==null?void 0:er.elements.floating,qt)||En((ur=Gt.context)==null?void 0:ur.elements.domReference,qt)})||XS(Z.nodesRef.current,O).find(Gt=>{var er,ur,oe;return[(er=Gt.context)==null?void 0:er.elements.floating,d_((ur=Gt.context)==null?void 0:ur.elements.floating)].includes(qt)||((oe=Gt.context)==null?void 0:oe.elements.domReference)===qt})));if(h&&Jt&&os(Nn(H))===Nn(H).body){un(H)&&H.focus();const Gt=me.current,er=xe(),ur=er[Gt]||er[er.length-1]||H;un(ur)&&ur.focus()}(B||!m)&&qt&&Jt&&!ve.current&&qt!==iE()&&(Fe.current=!0,P(!1,Ot,"focus-out"))})}if(U&&un($))return $.addEventListener("focusout",yt),$.addEventListener("pointerdown",vt),U.addEventListener("focusout",yt),()=>{$.removeEventListener("focusout",yt),$.removeEventListener("pointerdown",vt),U.removeEventListener("focusout",yt)}},[n,$,U,H,m,O,Z,pe,P,x,h,xe,B]);const at=Q.useRef(null),dt=Q.useRef(null),mt=HS([at,pe?.beforeInsideRef]),ft=HS([dt,pe?.afterInsideRef]);Q.useEffect(()=>{var vt;if(n||!U)return;const yt=Array.from((pe==null||(vt=pe.portalNode)==null?void 0:vt.querySelectorAll("["+hl("portal")+"]"))||[]),Ot=Z&&!m?XS(Z?.nodesRef.current,O).map(Gt=>{var er;return(er=Gt.context)==null?void 0:er.elements.floating}):[],qt=[U,...yt,...Ot,Oe.current,Ce.current,at.current,dt.current,pe?.beforeOutsideRef.current,pe?.afterOutsideRef.current,ie.current.includes("reference")||B?$:null].filter(Gt=>Gt!=null),Jt=m||B?YS(qt,!V,V):YS(qt);return()=>{Jt()}},[n,$,U,m,ie,pe,B,re,V,Z,O]),Wr(()=>{if(n||!un(H))return;const vt=Nn(H),yt=os(vt);queueMicrotask(()=>{const Ot=lt(H),qt=D.current,Jt=(typeof qt=="number"?Ot[qt]:qt.current)||H,Gt=En(H,yt);!G&&!Gt&&q&&Va(Jt,{preventScroll:Jt===H})})},[n,q,H,G,lt,D]),Wr(()=>{if(n||!H)return;let vt=!1;const yt=Nn(H),Ot=os(yt);let Jt=j.current.openEvent;yv(Ot);function Gt(oe){let{open:le,reason:ye,event:Ie,nested:De}=oe;le&&(Jt=Ie),ye==="escape-key"&&C.domReference.current&&yv(C.domReference.current),["hover","safe-polygon"].includes(ye)&&Ie.type==="mouseleave"&&(Fe.current=!0),ye==="outside-press"&&(De?(Fe.current=!1,vt=!0):Fe.current=!(H1(Ie)||Q_(Ie)))}M.on("openchange",Gt);const er=yt.createElement("span");er.setAttribute("tabindex","-1"),er.setAttribute("aria-hidden","true"),Object.assign(er.style,im),Ee&&$&&$.insertAdjacentElement("afterend",er);function ur(){return typeof ne.current=="boolean"?iE()||er:ne.current.current||er}return()=>{M.off("openchange",Gt);const oe=os(yt),le=En(U,oe)||Z&&pu(Z.nodesRef.current,O).some(De=>{var Ge;return En((Ge=De.context)==null?void 0:Ge.elements.floating,oe)});(le||Jt&&["click","mousedown"].includes(Jt.type))&&C.domReference.current&&yv(C.domReference.current);const Ie=ur();queueMicrotask(()=>{const De=jj(Ie);ne.current&&!Fe.current&&un(De)&&(!(De!==oe&&oe!==yt.body)||le)&&De.focus({preventScroll:vt}),er.remove()})}},[n,U,H,ne,j,C,M,Z,O,Ee,$]),Q.useEffect(()=>{queueMicrotask(()=>{Fe.current=!1})},[n]),Wr(()=>{if(!n&&pe)return pe.setFocusManagerState({modal:m,closeOnFocusOut:x,open:q,onOpenChange:P,refs:C}),()=>{pe.setFocusManagerState(null)}},[n,pe,m,q,P,C,x]),Wr(()=>{if(n||!H||typeof MutationObserver!="function"||G)return;const vt=()=>{const Ot=H.getAttribute("tabindex"),qt=xe(),Jt=os(Nn(U)),Gt=qt.indexOf(Jt);Gt!==-1&&(me.current=Gt),ie.current.includes("floating")||Jt!==C.domReference.current&&qt.length===0?Ot!=="0"&&H.setAttribute("tabindex","0"):Ot!=="-1"&&H.setAttribute("tabindex","-1")};vt();const yt=new MutationObserver(vt);return yt.observe(H,{childList:!0,subtree:!0,attributes:!0}),()=>{yt.disconnect()}},[n,U,H,C,ie,xe,G]);function gt(vt){return n||!g||!m?null:Q.createElement(Lj,{ref:vt==="start"?Oe:Ce,onClick:yt=>P(!1,yt.nativeEvent)},typeof g=="string"?g:"Dismiss")}const Tt=!n&&re&&(m?!B:!0)&&(Ee||m);return Q.createElement(Q.Fragment,null,Tt&&Q.createElement(vp,{"data-type":"inside",ref:mt,onFocus:vt=>{if(m){const Ot=lt();Va(o[0]==="reference"?Ot[0]:Ot[Ot.length-1])}else if(pe!=null&&pe.preserveTabOrder&&pe.portalNode)if(Fe.current=!1,Qc(vt,pe.portalNode)){const Ot=gk()||$;Ot?.focus()}else{var yt;(yt=pe.beforeOutsideRef.current)==null||yt.focus()}}}),!B&&gt("start"),r,gt("end"),Tt&&Q.createElement(vp,{"data-type":"inside",ref:ft,onFocus:vt=>{if(m)Va(lt()[0]);else if(pe!=null&&pe.preserveTabOrder&&pe.portalNode)if(x&&(Fe.current=!0),Qc(vt,pe.portalNode)){const Ot=vk()||$;Ot?.focus()}else{var yt;(yt=pe.afterOutsideRef.current)==null||yt.focus()}}}))}let vh=0;function Dj(){const t=/iP(hone|ad|od)|iOS/.test(H_()),e=document.body.style,n=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",o=window.innerWidth-document.documentElement.clientWidth,a=e.left?parseFloat(e.left):window.scrollX,l=e.top?parseFloat(e.top):window.scrollY;if(e.overflow="hidden",o&&(e[n]=o+"px"),t){var c,h;const m=((c=window.visualViewport)==null?void 0:c.offsetLeft)||0,g=((h=window.visualViewport)==null?void 0:h.offsetTop)||0;Object.assign(e,{position:"fixed",top:-(l-Math.floor(g))+"px",left:-(a-Math.floor(m))+"px",right:"0"})}return()=>{Object.assign(e,{overflow:"",[n]:""}),t&&(Object.assign(e,{position:"",top:"",left:"",right:""}),window.scrollTo(a,l))}}let sE=()=>{};const Mj=Q.forwardRef(function(e,r){const{lockScroll:n=!1,...o}=e;return Wr(()=>{if(n)return vh++,vh===1&&(sE=Dj()),()=>{vh--,vh===0&&sE()}},[n]),Q.createElement("div",xd({ref:r},o,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...o.style}}))});function oE(t){return un(t.target)&&t.target.tagName==="BUTTON"}function aE(t){return K_(t)}function tb(t,e){e===void 0&&(e={});const{open:r,onOpenChange:n,dataRef:o,elements:{domReference:a}}=t,{enabled:l=!0,event:c="click",toggle:h=!0,ignoreMouse:m=!1,keyboardHandlers:g=!0,stickIfOpen:x=!0}=e,N=Q.useRef(),q=Q.useRef(!1),C=Q.useMemo(()=>({onPointerDown(O){N.current=O.pointerType},onMouseDown(O){const P=N.current;O.button===0&&c!=="click"&&(wd(P,!0)&&m||(r&&h&&(!(o.current.openEvent&&x)||o.current.openEvent.type==="mousedown")?n(!1,O.nativeEvent,"click"):(O.preventDefault(),n(!0,O.nativeEvent,"click"))))},onClick(O){const P=N.current;if(c==="mousedown"&&N.current){N.current=void 0;return}wd(P,!0)&&m||(r&&h&&(!(o.current.openEvent&&x)||o.current.openEvent.type==="click")?n(!1,O.nativeEvent,"click"):n(!0,O.nativeEvent,"click"))},onKeyDown(O){N.current=void 0,!(O.defaultPrevented||!g||oE(O))&&(O.key===" "&&!aE(a)&&(O.preventDefault(),q.current=!0),O.key==="Enter"&&n(!(r&&h),O.nativeEvent,"click"))},onKeyUp(O){O.defaultPrevented||!g||oE(O)||aE(a)||O.key===" "&&q.current&&(q.current=!1,n(!(r&&h),O.nativeEvent,"click"))}}),[o,a,c,m,g,n,r,x,h]);return Q.useMemo(()=>l?{reference:C}:{},[l,C])}const Bj={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Wj={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},lE=t=>{var e,r;return{escapeKey:typeof t=="boolean"?t:(e=t?.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(r=t?.outsidePress)!=null?r:!0}};function rb(t,e){e===void 0&&(e={});const{open:r,onOpenChange:n,elements:o,dataRef:a}=t,{enabled:l=!0,escapeKey:c=!0,outsidePress:h=!0,outsidePressEvent:m="pointerdown",referencePress:g=!1,referencePressEvent:x="pointerdown",ancestorScroll:N=!1,bubbles:q,capture:C}=e,O=Du(),P=si(typeof h=="function"?h:()=>!1),M=typeof h=="function"?P:h,j=Q.useRef(!1),$=Q.useRef(!1),{escapeKey:U,outsidePress:G}=lE(q),{escapeKey:B,outsidePress:J}=lE(C),re=Q.useRef(!1),V=si(Oe=>{var Ce;if(!r||!l||!c||Oe.key!=="Escape"||re.current)return;const Fe=(Ce=a.current.floatingContext)==null?void 0:Ce.nodeId,ve=O?pu(O.nodesRef.current,Fe):[];if(!U&&(Oe.stopPropagation(),ve.length>0)){let me=!0;if(ve.forEach(Ee=>{var H;if((H=Ee.context)!=null&&H.open&&!Ee.context.dataRef.current.__escapeKeyBubbles){me=!1;return}}),!me)return}n(!1,dF(Oe)?Oe.nativeEvent:Oe,"escape-key")}),ie=si(Oe=>{var Ce;const Fe=()=>{var ve;V(Oe),(ve=Yo(Oe))==null||ve.removeEventListener("keydown",Fe)};(Ce=Yo(Oe))==null||Ce.addEventListener("keydown",Fe)}),D=si(Oe=>{var Ce;const Fe=j.current;j.current=!1;const ve=$.current;if($.current=!1,m==="click"&&ve||Fe||typeof M=="function"&&!M(Oe))return;const me=Yo(Oe),Ee="["+hl("inert")+"]",H=Nn(o.floating).querySelectorAll(Ee);let xe=Pr(me)?me:null;for(;xe&&!uo(xe);){const mt=po(xe);if(uo(mt)||!Pr(mt))break;xe=mt}if(H.length&&Pr(me)&&!fF(me)&&!En(me,o.floating)&&Array.from(H).every(mt=>!En(xe,mt)))return;if(un(me)&&pe){const mt=uo(me),ft=Vi(me),gt=/auto|scroll/,Tt=mt||gt.test(ft.overflowX),vt=mt||gt.test(ft.overflowY),yt=Tt&&me.clientWidth>0&&me.scrollWidth>me.clientWidth,Ot=vt&&me.clientHeight>0&&me.scrollHeight>me.clientHeight,qt=ft.direction==="rtl",Jt=Ot&&(qt?Oe.offsetX<=me.offsetWidth-me.clientWidth:Oe.offsetX>me.clientWidth),Gt=yt&&Oe.offsetY>me.clientHeight;if(Jt||Gt)return}const lt=(Ce=a.current.floatingContext)==null?void 0:Ce.nodeId,at=O&&pu(O.nodesRef.current,lt).some(mt=>{var ft;return cv(Oe,(ft=mt.context)==null?void 0:ft.elements.floating)});if(cv(Oe,o.floating)||cv(Oe,o.domReference)||at)return;const dt=O?pu(O.nodesRef.current,lt):[];if(dt.length>0){let mt=!0;if(dt.forEach(ft=>{var gt;if((gt=ft.context)!=null&&gt.open&&!ft.context.dataRef.current.__outsidePressBubbles){mt=!1;return}}),!mt)return}n(!1,Oe,"outside-press")}),ne=si(Oe=>{var Ce;const Fe=()=>{var ve;D(Oe),(ve=Yo(Oe))==null||ve.removeEventListener(m,Fe)};(Ce=Yo(Oe))==null||Ce.addEventListener(m,Fe)});Q.useEffect(()=>{if(!r||!l)return;a.current.__escapeKeyBubbles=U,a.current.__outsidePressBubbles=G;let Oe=-1;function Ce(H){n(!1,H,"ancestor-scroll")}function Fe(){window.clearTimeout(Oe),re.current=!0}function ve(){Oe=window.setTimeout(()=>{re.current=!1},em()?5:0)}const me=Nn(o.floating);c&&(me.addEventListener("keydown",B?ie:V,B),me.addEventListener("compositionstart",Fe),me.addEventListener("compositionend",ve)),M&&me.addEventListener(m,J?ne:D,J);let Ee=[];return N&&(Pr(o.domReference)&&(Ee=sa(o.domReference)),Pr(o.floating)&&(Ee=Ee.concat(sa(o.floating))),!Pr(o.reference)&&o.reference&&o.reference.contextElement&&(Ee=Ee.concat(sa(o.reference.contextElement)))),Ee=Ee.filter(H=>{var xe;return H!==((xe=me.defaultView)==null?void 0:xe.visualViewport)}),Ee.forEach(H=>{H.addEventListener("scroll",Ce,{passive:!0})}),()=>{c&&(me.removeEventListener("keydown",B?ie:V,B),me.removeEventListener("compositionstart",Fe),me.removeEventListener("compositionend",ve)),M&&me.removeEventListener(m,J?ne:D,J),Ee.forEach(H=>{H.removeEventListener("scroll",Ce)}),window.clearTimeout(Oe)}},[a,o,c,M,m,r,n,N,l,U,G,V,B,ie,D,J,ne]),Q.useEffect(()=>{j.current=!1},[M,m]);const Z=Q.useMemo(()=>({onKeyDown:V,...g&&{[Bj[x]]:Oe=>{n(!1,Oe.nativeEvent,"reference-press")},...x!=="click"&&{onClick(Oe){n(!1,Oe.nativeEvent,"reference-press")}}}}),[V,n,g,x]),pe=Q.useMemo(()=>({onKeyDown:V,onMouseDown(){$.current=!0},onMouseUp(){$.current=!0},[Wj[m]]:()=>{j.current=!0}}),[V,m]);return Q.useMemo(()=>l?{reference:Z,floating:pe}:{},[l,Z,pe])}function $j(t){const{open:e=!1,onOpenChange:r,elements:n}=t,o=Y_(),a=Q.useRef({}),[l]=Q.useState(()=>fk()),c=zd()!=null,[h,m]=Q.useState(n.reference),g=si((q,C,O)=>{a.current.openEvent=q?C:void 0,l.emit("openchange",{open:q,event:C,reason:O,nested:c}),r?.(q,C,O)}),x=Q.useMemo(()=>({setPositionReference:m}),[]),N=Q.useMemo(()=>({reference:h||n.reference||null,floating:n.floating||null,domReference:n.reference}),[h,n.reference,n.floating]);return Q.useMemo(()=>({dataRef:a,open:e,onOpenChange:g,elements:N,events:l,floatingId:o,refs:x}),[e,g,N,l,o,x])}function nb(t){t===void 0&&(t={});const{nodeId:e}=t,r=$j({...t,elements:{reference:null,floating:null,...t.elements}}),n=t.rootContext||r,o=n.elements,[a,l]=Q.useState(null),[c,h]=Q.useState(null),g=o?.domReference||a,x=Q.useRef(null),N=Du();Wr(()=>{g&&(x.current=g)},[g]);const q=hj({...t,elements:{...o,...c&&{reference:c}}}),C=Q.useCallback($=>{const U=Pr($)?{getBoundingClientRect:()=>$.getBoundingClientRect(),contextElement:$}:$;h(U),q.refs.setReference(U)},[q.refs]),O=Q.useCallback($=>{(Pr($)||$===null)&&(x.current=$,l($)),(Pr(q.refs.reference.current)||q.refs.reference.current===null||$!==null&&!Pr($))&&q.refs.setReference($)},[q.refs]),P=Q.useMemo(()=>({...q.refs,setReference:O,setPositionReference:C,domReference:x}),[q.refs,O,C]),M=Q.useMemo(()=>({...q.elements,domReference:g}),[q.elements,g]),j=Q.useMemo(()=>({...q,...n,refs:P,elements:M,nodeId:e}),[q,P,M,e,n]);return Wr(()=>{n.dataRef.current.floatingContext=j;const $=N?.nodesRef.current.find(U=>U.id===e);$&&($.context=j)}),Q.useMemo(()=>({...q,context:j,refs:P,elements:M}),[q,P,M,j])}function zj(t,e){e===void 0&&(e={});const{open:r,onOpenChange:n,events:o,dataRef:a,elements:l}=t,{enabled:c=!0,visibleOnly:h=!0}=e,m=Q.useRef(!1),g=Q.useRef(),x=Q.useRef(!0);Q.useEffect(()=>{if(!c)return;const q=ui(l.domReference);function C(){!r&&un(l.domReference)&&l.domReference===os(Nn(l.domReference))&&(m.current=!0)}function O(){x.current=!0}return q.addEventListener("blur",C),q.addEventListener("keydown",O,!0),()=>{q.removeEventListener("blur",C),q.removeEventListener("keydown",O,!0)}},[l.domReference,r,c]),Q.useEffect(()=>{if(!c)return;function q(C){let{reason:O}=C;(O==="reference-press"||O==="escape-key")&&(m.current=!0)}return o.on("openchange",q),()=>{o.off("openchange",q)}},[o,c]),Q.useEffect(()=>()=>{clearTimeout(g.current)},[]);const N=Q.useMemo(()=>({onPointerDown(q){Q_(q.nativeEvent)||(x.current=!1)},onMouseLeave(){m.current=!1},onFocus(q){if(m.current)return;const C=Yo(q.nativeEvent);if(h&&Pr(C))try{if(Q1()&&uF())throw Error();if(!C.matches(":focus-visible"))return}catch{if(!x.current&&!K_(C))return}n(!0,q.nativeEvent,"focus")},onBlur(q){m.current=!1;const C=q.relatedTarget,O=q.nativeEvent,P=Pr(C)&&C.hasAttribute(hl("focus-guard"))&&C.getAttribute("data-type")==="outside";g.current=window.setTimeout(()=>{var M;const j=os(l.domReference?l.domReference.ownerDocument:document);!C&&j===l.domReference||En((M=a.current.floatingContext)==null?void 0:M.refs.floating.current,j)||En(l.domReference,j)||P||n(!1,O,"focus")})}}),[a,l.domReference,n,h]);return Q.useMemo(()=>c?{reference:N}:{},[c,N])}const uE="active",cE="selected";function gv(t,e,r){const n=new Map,o=r==="item";let a=t;if(o&&t){const{[uE]:l,[cE]:c,...h}=t;a=h}return{...r==="floating"&&{tabIndex:-1,[c_]:""},...a,...e.map(l=>{const c=l?l[r]:null;return typeof c=="function"?t?c(t):null:c}).concat(t).reduce((l,c)=>(c&&Object.entries(c).forEach(h=>{let[m,g]=h;if(!(o&&[uE,cE].includes(m)))if(m.indexOf("on")===0){if(n.has(m)||n.set(m,[]),typeof g=="function"){var x;(x=n.get(m))==null||x.push(g),l[m]=function(){for(var N,q=arguments.length,C=new Array(q),O=0;O<q;O++)C[O]=arguments[O];return(N=n.get(m))==null?void 0:N.map(P=>P(...C)).find(P=>P!==void 0)}}}else l[m]=g}),l),{})}}function ib(t){t===void 0&&(t=[]);const e=t.map(c=>c?.reference),r=t.map(c=>c?.floating),n=t.map(c=>c?.item),o=Q.useCallback(c=>gv(c,t,"reference"),e),a=Q.useCallback(c=>gv(c,t,"floating"),r),l=Q.useCallback(c=>gv(c,t,"item"),n);return Q.useMemo(()=>({getReferenceProps:o,getFloatingProps:a,getItemProps:l}),[o,a,l])}function sm(t,e,r){switch(t){case"vertical":return e;case"horizontal":return r;default:return e||r}}function dE(t,e){return sm(e,t===X_||t===$d,t===oa||t===aa)}function vv(t,e,r){return sm(e,t===$d,r?t===oa:t===aa)||t==="Enter"||t===" "||t===""}function Uj(t,e,r){return sm(e,r?t===oa:t===aa,t===$d)}function fE(t,e,r){return sm(e,r?t===aa:t===oa,t===X_)}function Vj(t,e){const{open:r,onOpenChange:n,elements:o}=t,{listRef:a,activeIndex:l,onNavigate:c=()=>{},enabled:h=!0,selectedIndex:m=null,allowEscape:g=!1,loop:x=!1,nested:N=!1,rtl:q=!1,virtual:C=!1,focusItemOnOpen:O="auto",focusItemOnHover:P=!0,openOnArrowKeyDown:M=!0,disabledIndices:j=void 0,orientation:$="vertical",cols:U=1,scrollItemIntoView:G=!0,virtualItemRef:B,itemSizes:J,dense:re=!1}=e,V=d_(o.floating),ie=zn(V),D=zd(),ne=Du(),Z=si(()=>{c(Ce.current===-1?null:Ce.current)}),pe=K1(o.domReference),Oe=Q.useRef(O),Ce=Q.useRef(m??-1),Fe=Q.useRef(null),ve=Q.useRef(!0),me=Q.useRef(Z),Ee=Q.useRef(!!o.floating),H=Q.useRef(r),xe=Q.useRef(!1),lt=Q.useRef(!1),at=zn(j),dt=zn(r),mt=zn(G),ft=zn(m),[gt,Tt]=Q.useState(),[vt,yt]=Q.useState(),Ot=si(()=>{function le(De){C?(Tt(De.id),ne?.events.emit("virtualfocus",De),B&&(B.current=De)):Va(De,{sync:xe.current,preventScroll:!0})}const ye=a.current[Ce.current];ye&&le(ye),(xe.current?De=>De():requestAnimationFrame)(()=>{const De=a.current[Ce.current]||ye;if(!De)return;ye||le(De);const Ge=mt.current;Ge&&Jt&&(lt.current||!ve.current)&&(De.scrollIntoView==null||De.scrollIntoView(typeof Ge=="boolean"?{block:"nearest",inline:"nearest"}:Ge))})});Wr(()=>{h&&(r&&o.floating?Oe.current&&m!=null&&(lt.current=!0,Ce.current=m,Z()):Ee.current&&(Ce.current=-1,me.current()))},[h,r,o.floating,m,Z]),Wr(()=>{if(h&&r&&o.floating)if(l==null){if(xe.current=!1,ft.current!=null)return;if(Ee.current&&(Ce.current=-1,Ot()),(!H.current||!Ee.current)&&Oe.current&&(Fe.current!=null||Oe.current===!0&&Fe.current==null)){let le=0;const ye=()=>{a.current[0]==null?(le<2&&(le?requestAnimationFrame:queueMicrotask)(ye),le++):(Ce.current=Fe.current==null||vv(Fe.current,$,q)||N?hv(a,at.current):QS(a,at.current),Fe.current=null,Z())};ye()}}else Hc(a,l)||(Ce.current=l,Ot(),lt.current=!1)},[h,r,o.floating,l,ft,N,a,$,q,Z,Ot,at]),Wr(()=>{var le;if(!h||o.floating||!ne||C||!Ee.current)return;const ye=ne.nodesRef.current,Ie=(le=ye.find(_t=>_t.id===D))==null||(le=le.context)==null?void 0:le.elements.floating,De=os(Nn(o.floating)),Ge=ye.some(_t=>_t.context&&En(_t.context.elements.floating,De));Ie&&!Ge&&ve.current&&Ie.focus({preventScroll:!0})},[h,o.floating,ne,D,C]),Wr(()=>{if(!h||!ne||!C||D)return;function le(ye){yt(ye.id),B&&(B.current=ye)}return ne.events.on("virtualfocus",le),()=>{ne.events.off("virtualfocus",le)}},[h,ne,C,D,B]),Wr(()=>{me.current=Z,H.current=r,Ee.current=!!o.floating}),Wr(()=>{r||(Fe.current=null)},[r]);const qt=l!=null,Jt=Q.useMemo(()=>{function le(Ie){if(!r)return;const De=a.current.indexOf(Ie);De!==-1&&Ce.current!==De&&(Ce.current=De,Z())}return{onFocus(Ie){let{currentTarget:De}=Ie;xe.current=!0,le(De)},onClick:Ie=>{let{currentTarget:De}=Ie;return De.focus({preventScroll:!0})},...P&&{onMouseMove(Ie){let{currentTarget:De}=Ie;xe.current=!0,lt.current=!1,le(De)},onPointerLeave(Ie){let{pointerType:De}=Ie;if(!(!ve.current||De==="touch")&&(xe.current=!0,Ce.current=-1,Z(),!C)){var Ge;(Ge=ie.current)==null||Ge.focus({preventScroll:!0})}}}}},[r,ie,P,a,Z,C]),Gt=si(le=>{if(ve.current=!1,xe.current=!0,le.which===229||!dt.current&&le.currentTarget===ie.current)return;if(N&&fE(le.key,$,q)){Bn(le),n(!1,le.nativeEvent,"list-navigation"),un(o.domReference)&&(C?ne?.events.emit("virtualfocus",o.domReference):o.domReference.focus());return}const ye=Ce.current,Ie=hv(a,j),De=QS(a,j);if(pe||(le.key==="Home"&&(Bn(le),Ce.current=Ie,Z()),le.key==="End"&&(Bn(le),Ce.current=De,Z())),U>1){const Ge=J||Array.from({length:a.current.length},()=>({width:1,height:1})),_t=_j(Ge,U,re),Mt=_t.findIndex(Ir=>Ir!=null&&!jh(a.current,Ir,j)),mr=_t.reduce((Ir,Ln,Zr)=>Ln!=null&&!jh(a.current,Ln,j)?Zr:Ir,-1),cr=_t[vj({current:_t.map(Ir=>Ir!=null?a.current[Ir]:null)},{event:le,orientation:$,loop:x,rtl:q,cols:U,disabledIndices:wj([...j||a.current.map((Ir,Ln)=>jh(a.current,Ln)?Ln:void 0),void 0],_t),minIndex:Mt,maxIndex:mr,prevIndex:bj(Ce.current>De?Ie:Ce.current,Ge,_t,U,le.key===$d?"bl":le.key===(q?oa:aa)?"tr":"tl"),stopEvent:!0})];if(cr!=null&&(Ce.current=cr,Z()),$==="both")return}if(dE(le.key,$)){if(Bn(le),r&&!C&&os(le.currentTarget.ownerDocument)===le.currentTarget){Ce.current=vv(le.key,$,q)?Ie:De,Z();return}vv(le.key,$,q)?x?Ce.current=ye>=De?g&&ye!==a.current.length?-1:Ie:Rn(a,{startingIndex:ye,disabledIndices:j}):Ce.current=Math.min(De,Rn(a,{startingIndex:ye,disabledIndices:j})):x?Ce.current=ye<=Ie?g&&ye!==-1?a.current.length:De:Rn(a,{startingIndex:ye,decrement:!0,disabledIndices:j}):Ce.current=Math.max(Ie,Rn(a,{startingIndex:ye,decrement:!0,disabledIndices:j})),Hc(a,Ce.current)&&(Ce.current=-1),Z()}}),er=Q.useMemo(()=>C&&r&&qt&&{"aria-activedescendant":vt||gt},[C,r,qt,vt,gt]),ur=Q.useMemo(()=>({"aria-orientation":$==="both"?void 0:$,...pe?{}:er,onKeyDown:Gt,onPointerMove(){ve.current=!0}}),[er,Gt,$,pe]),oe=Q.useMemo(()=>{function le(Ie){O==="auto"&&H1(Ie.nativeEvent)&&(Oe.current=!0)}function ye(Ie){Oe.current=O,O==="auto"&&Q_(Ie.nativeEvent)&&(Oe.current=!0)}return{...er,onKeyDown(Ie){ve.current=!1;const De=Ie.key.startsWith("Arrow"),Ge=["Home","End"].includes(Ie.key),_t=De||Ge,Mt=Uj(Ie.key,$,q),mr=fE(Ie.key,$,q),cr=dE(Ie.key,$),Ir=(N?Mt:cr)||Ie.key==="Enter"||Ie.key.trim()==="";if(C&&r){const Ws=ne?.nodesRef.current.find(Ut=>Ut.parentId==null),_n=ne&&Ws?Oj(ne.nodesRef.current,Ws.id):null;if(_t&&_n&&B){const Ut=new KeyboardEvent("keydown",{key:Ie.key,bubbles:!0});if(Mt||mr){var Ln,Zr;const Oo=((Ln=_n.context)==null?void 0:Ln.elements.domReference)===Ie.currentTarget,Io=mr&&!Oo?(Zr=_n.context)==null?void 0:Zr.elements.domReference:Mt?a.current.find(Ro=>Ro?.id===gt):null;Io&&(Bn(Ie),Io.dispatchEvent(Ut),yt(void 0))}if((cr||Ge)&&_n.context&&_n.context.open&&_n.parentId&&Ie.currentTarget!==_n.context.elements.domReference){var Qn;Bn(Ie),(Qn=_n.context.elements.domReference)==null||Qn.dispatchEvent(Ut);return}}return Gt(Ie)}if(!(!r&&!M&&De)){if(Ir&&(Fe.current=N&&cr?null:Ie.key),N){Mt&&(Bn(Ie),r?(Ce.current=hv(a,at.current),Z()):n(!0,Ie.nativeEvent,"list-navigation"));return}cr&&(m!=null&&(Ce.current=m),Bn(Ie),!r&&M?n(!0,Ie.nativeEvent,"list-navigation"):Gt(Ie),r&&Z())}},onFocus(){r&&!C&&(Ce.current=-1,Z())},onPointerDown:ye,onMouseDown:le,onClick:le}},[gt,er,Gt,at,O,a,N,Z,n,r,M,$,q,m,ne,C,B]);return Q.useMemo(()=>h?{reference:oe,floating:ur,item:Jt}:{},[h,oe,ur,Jt])}const hE=t=>t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(e,r)=>(r?"-":"")+e.toLowerCase());function Jl(t,e){return typeof t=="function"?t(e):t}function Hj(t,e){const[r,n]=Q.useState(t);return t&&!r&&n(!0),Q.useEffect(()=>{if(!t&&r){const o=setTimeout(()=>n(!1),e);return()=>clearTimeout(o)}},[t,r,e]),r}function Qj(t,e){e===void 0&&(e={});const{open:r,elements:{floating:n}}=t,{duration:o=250}=e,l=(typeof o=="number"?o:o.close)||0,[c,h]=Q.useState("unmounted"),m=Hj(r,l);return!m&&c==="close"&&h("unmounted"),Wr(()=>{if(n){if(r){h("initial");const g=requestAnimationFrame(()=>{h("open")});return()=>{cancelAnimationFrame(g)}}h("close")}},[r,n]),{isMounted:m,status:c}}function sb(t,e){e===void 0&&(e={});const{initial:r={opacity:0},open:n,close:o,common:a,duration:l=250}=e,c=t.placement,h=c.split("-")[0],m=Q.useMemo(()=>({side:h,placement:c}),[h,c]),g=typeof l=="number",x=(g?l:l.open)||0,N=(g?l:l.close)||0,[q,C]=Q.useState(()=>({...Jl(a,m),...Jl(r,m)})),{isMounted:O,status:P}=Qj(t,{duration:l}),M=zn(r),j=zn(n),$=zn(o),U=zn(a);return Wr(()=>{const G=Jl(M.current,m),B=Jl($.current,m),J=Jl(U.current,m),re=Jl(j.current,m)||Object.keys(G).reduce((V,ie)=>(V[ie]="",V),{});if(P==="initial"&&C(V=>({transitionProperty:V.transitionProperty,...J,...G})),P==="open"&&C({transitionProperty:Object.keys(re).map(hE).join(","),transitionDuration:x+"ms",...J,...re}),P==="close"){const V=B||G;C({transitionProperty:Object.keys(V).map(hE).join(","),transitionDuration:N+"ms",...J,...V})}},[N,$,M,j,U,x,P,m]),{isMounted:O,styles:q}}const Kj=Q.createContext({close(){}}),Gj=lr({slot:{target:["flex","justify-center","items-center"],portal:[]},variant:{mounted:{true:[]}},match:[{if:{mounted:!1},then:{portal:["hidden"]}}],defaults:{mounted:!1}}),Jj=({target:t,action:e="hover",disabled:r=!1,closeOnClick:n=!1,delay:o=100,float:a,variant:l,tva:c=Gj,css:h,children:m})=>{const[g,x]=Q.useState(!1),{refs:N,floatingStyles:q,context:C}=nb({open:g,onOpenChange:x,placement:"top",whileElementsMounted:ak,middleware:[uk(10),ck({fallbackAxisSideDirection:"start"}),pj()],...a}),{getReferenceProps:O,getFloatingProps:P}=ib([Cj(C,{enabled:e==="hover",delay:o}),tb(C,{enabled:e==="click"}),zj(C),rb(C)]),{isMounted:M,styles:j}=sb(C),$=c({mounted:M,...l,css:h}).slots;return y.jsxs(y.Fragment,{children:[y.jsx("button",{type:"button",ref:N.setReference,...O(),disabled:r,className:$.target(),children:t}),y.jsx(eb,{children:y.jsx("div",{ref:N.setFloating,style:{...q,...j},className:$.portal(),...P(),onClick:n?()=>{x(!1)}:void 0,children:y.jsx(Kj.Provider,{value:{close(){x(!1)}},children:m})})})]})},xk="icon-[system-uicons--menu-hamburger]",Sk=lr({slot:{base:[]},variant:{size:{xs:"text-sm",sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl","2xl":"text-2xl","3xl":"text-3xl","4xl":"text-4xl","5xl":"text-5xl","6xl":"text-6xl","7xl":"text-7xl","8xl":"text-8xl"},disabled:{true:[]}},match:[{if:{disabled:!0},then:{base:["pointer-events-none","cursor-not-allowed","text-gray-400","opacity-50"]}}],defaults:{size:"xl",disabled:!1}}),_r=({icon:t,variant:e,tva:r=Sk,css:n,...o})=>{const a=r({...e,css:n}).slots;return t?y.jsx("div",{className:a.base({css:[t]}),...o}):null},Zj=lr({slot:{base:["p-1","bg-slate-50","border","border-slate-300","rounded","shadow-md","text-slate-500","flex","flex-col","gap-2"]},variant:{},defaults:{}}),ci=({icon:t=xk,iconProps:e,children:r,variant:n,tva:o=Zj,css:a,...l})=>{const c=o({...n,css:a}).slots;return y.jsx(qj,{children:y.jsx(Jj,{action:"click",target:y.jsx(_r,{icon:t,...e}),delay:100,float:{placement:"bottom-start"},closeOnClick:!0,...l,children:y.jsx("div",{className:c.base(),children:r})})})},Ek="icon-[svg-spinners--90-ring-with-bg]",Xj=lr({slot:{base:["flex","items-center","justify-center","gap-2","group","w-fit","h-fit","rounded","cursor-pointer","hover:shadow-md","hover:shadow-slate-200","transition-all","hover:bg-slate-200","text-slate-600","text-2xl","p-1"]},variant:{disabled:{true:["cursor-not-allowed","pointer-events-none"]},loading:{true:["cursor-not-allowed","pointer-events-none"]}},match:[{if:{disabled:!0},then:{base:["opacity-50","hover:bg-blue-400"]}}],defaults:{disabled:!1,loading:!1}}),ob=({iconEnabled:t,iconDisabled:e,iconLoading:r=Ek,disabled:n=!1,loading:o=!1,onClick:a,variant:l,tva:c=Xj,css:h,children:m,...g})=>{const x=c({disabled:n,loading:o,...l,css:h}).slots;return y.jsxs("div",{className:x.base(),onClick:n?void 0:a,...g,children:[n?y.jsx(_r,{icon:o?r:e??t,variant:{size:"xl"}}):y.jsx(_r,{icon:o?r:t,variant:{size:"xl"}}),m]})},Yj="icon-[iconamoon--close-light]",hs=Q.createContext(void 0),eL=lr({slot:{base:["bg-slate-500","bg-opacity-75","backdrop-blur-sm","flex","justify-center","py-12"],target:[],modal:["bg-white","rounded","shadow-lg","p-4","w-fit","h-fit","max-h-full","overflow-y-auto","relative","w-2/3","max-w-1/2"]},variant:{disabled:{true:["pointer-events-none"]},loading:{true:[]}},match:[{if:{loading:!0},then:{base:["pointer-events-none","opacity-50"]}}],defaults:{disabled:!1,loading:!1}}),om=({target:t,icon:e,title:r,disabled:n=!1,outside:o=!1,variant:a,css:l,tva:c=eL,children:h})=>{const[m,g]=Q.useState(!1),x=Nj(),{refs:N,context:q}=nb({nodeId:x,open:m,onOpenChange:g}),C=tb(q),O=rb(q,{outsidePress:o}),{getReferenceProps:P,getFloatingProps:M}=ib([C,O]),{isMounted:j,styles:$}=sb(q),U=c({disabled:n,...a,css:l}).slots;return y.jsxs(hs.Provider,{value:{close(){g(!1)}},children:[y.jsx("div",{ref:N.setReference,...P({disabled:n}),className:U.target(),children:t}),y.jsx(kj,{id:x,children:j&&y.jsx(y.Fragment,{children:y.jsx(eb,{children:y.jsx(Mj,{lockScroll:!0,style:$,className:U.base(),children:y.jsx(wk,{context:q,children:y.jsxs("div",{ref:N.setFloating,...M(),className:U.modal(),children:[y.jsxs("div",{className:"border-b border-slate-200 mb-2 py-1.5 flex flex-row items-center justify-between select-none",children:[y.jsxs("div",{className:"flex flex-row items-center gap-2 pr-4",children:[e&&(Jp(e)?y.jsx(_r,{icon:e,variant:{size:"xl"}}):e),r&&y.jsx("div",{className:"text-lg font-semibold text-slate-700",children:r})]}),y.jsx(ob,{iconEnabled:Yj,onClick:()=>g(!1)})]}),h]})})})})})})]})},tL=lr({use:oF,slot:{},variant:{},defaults:{}}),rn=({icon:t,iconProps:e,label:r,textTitle:n,disabled:o=!1,modalProps:a,hidden:l=!1,variant:c,tva:h=tL,css:m,children:g})=>{const x=h({...c,disabled:o,css:m}).slots;return l?null:y.jsxs("div",{className:x.base(),children:[Jp(t)?y.jsx(_r,{icon:t,...e}):t,y.jsx(om,{icon:t,target:r,title:n,disabled:o,css:{modal:["w-1/2"]},...a,children:g})]})},rL=lr({slot:{base:["rounded-2xl","bg-blue-50","border","border-blue-200","text-xs","px-4","py-0.5","font-bold"]},variant:{},defaults:{}}),nL=({variant:t,tva:e=rL,css:r,...n})=>{const o=e({...t,css:r}).slots;return y.jsx("div",{className:o.base(),...n})},iL="icon-[material-symbols-light--check-small]",sL="icon-[material-symbols-light--close-small]",oL="icon-[material-symbols-light--check-indeterminate-small]",aL=lr({use:Sk,slot:{},variant:{value:{true:"text-green-600",false:"text-amber-600"}},defaults:{value:!1}}),Nk=({value:t,checkIcon:e=iL,unCheckIcon:r=sL,undefinedIcon:n=oL,tva:o=aL,...a})=>t==null?y.jsx(_r,{icon:n,tva:o,...a}):y.jsx(_r,{icon:t?e:r,tva:l=>o({...l,value:t}),...a}),lL=lr({slot:{base:["flex","items-center","justify-between","text-sm","font-medium","text-slate-900","w-full"],switch:["relative","w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-blue-300","dark:peer-focus:ring-blue-800","rounded-full","peer","dark:bg-gray-700","peer-checked:after:translate-x-full","rtl:peer-checked:after:-translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","dark:border-gray-600","peer-checked:bg-blue-600"]},variant:{},defaults:{}}),kk=({value:t,onChange:e,variant:r,tva:n=lL,css:o,...a})=>{const l=n({...r,css:o}).slots;return y.jsx("div",{className:l.base(),children:y.jsxs("label",{children:[y.jsx("input",{type:"checkbox",checked:t,className:"sr-only peer",onChange:c=>{e(c.target.checked)},...a}),y.jsx("div",{className:l.switch()})]})})},uL=lr({slot:{base:["flex","flex-row","items-center","justify-center","gap-2","group","rounded","transition-all"]},variant:{variant:{primary:["text-white"],secondary:["text-slate-700"],subtle:["text-slate-600"],danger:["text-slate-50"]},disabled:{true:"cursor-not-allowed"},size:{xs:[],sm:[],md:[]}},match:[{if:{variant:"primary"},then:{base:["bg-blue-400","hover:bg-blue-500"]}},{if:{variant:"primary",disabled:!0},then:{base:["opacity-50","bg-blue-600","hover:bg-blue-600","cursor-not-allowed"]}},{if:{variant:"secondary"},then:{base:["bg-amber-400","hover:bg-amber-500"]}},{if:{variant:"secondary",disabled:!0},then:{base:["opacity-50","bg-amber-600","hover:bg-amber-600","cursor-not-allowed"]}},{if:{variant:"subtle"},then:{base:["text-slate-600","hover:text-slate-800","hover:bg-blue-50"]}},{if:{variant:"subtle",disabled:!0},then:{base:["opacity-50","bg-blue-50","hover:bg-blue-50","cursor-not-allowed"]}},{if:{variant:"danger"},then:{base:["bg-red-400","hover:bg-red-500","hover:text-white"]}},{if:{size:"xs"},then:{base:["py-0.5","px-1"]}},{if:{size:"sm"},then:{base:["py-1","px-2"]}},{if:{size:"md"},then:{base:["py-2","px-4"]}}],defaults:{variant:"primary",disabled:!1,size:"md"}}),jn=({iconEnabled:t,iconDisabled:e,iconLoading:r=Ek,iconProps:n,loading:o,variant:a,tva:l=uL,css:c,children:h,...m})=>{const g=l({disabled:m.disabled,...a,css:c}).slots;return y.jsxs("button",{type:"button",className:g.base({disabled:m.disabled}),...m,children:[m.disabled?y.jsx(_r,{icon:o===!0?r:e,variant:{size:"xl"},...n}):y.jsx(_r,{icon:o===!0?r:t,variant:{size:"xl"},...n}),h]})},ab=Q.createContext({inline:!1}),cL=lr({slot:{base:["border","border-slate-100","px-2","py-1","rounded-md"],label:["text-sm","font-semibold","text-slate-600","border-b","mb-2"],value:[]},variant:{inline:{true:[]},withBackground:{true:[]}},match:[{if:{inline:!0},then:{base:["border-none","flex","flex-row","items-center","gap-2"],label:["mb-0","font-light","text-md","text-slate-600","border-none"],value:["text-md","text-slate-800"]}},{if:{withBackground:!0},then:{base:["bg-slate-50","hover:bg-slate-100"]}}],defaults:{inline:!1,withBackground:!0}}),dL=({inline:t,label:e,value:r,variant:n,tva:o=cL,css:a})=>{const l=Q.useContext(ab),c=t??l?.inline,h=o({inline:c,...n,css:a}).slots;return y.jsxs("div",{className:h.base(),children:[e?y.jsx("div",{className:h.label(),children:e}):null,y.jsx("div",{className:h.value(),children:r})]})},fL=lr({slot:{base:["flex","flex-col","gap-4","border","border-slate-100","p-4","rounded-lg"]},variant:{inline:{true:["flex-row","border-none","gap-1","p-0","flex-1"]}},defaults:{inline:!1}}),qk=({items:t,hidden:e=[],valueOfProps:r,entity:n,variant:o,tva:a=fL,css:l,inline:c=!1})=>{const h=a({inline:c,...o,css:l}).slots;return y.jsx(ab.Provider,{value:{inline:c},children:y.jsx("div",{className:h.base(),children:t.filter(({id:m})=>!e.includes(m)).map(({id:m,render:g,...x})=>y.jsx(dL,{value:y.jsx(g,{entity:n}),...r,...x},m))})})},hL=lr({slot:{base:["flex","flex-col","gap-2"]},variant:{},defaults:{}}),pE="icon-[tabler--dots]",pL=lr({slot:{base:["flex","items-center","justify-between","gap-2"],sums:["flex","items-center","gap-2","text-sm"]},variant:{},defaults:{}}),mL=lr({slot:{base:["select-none"],list:["flex","items-center","-space-x-px","text-xs","gap-2"],page:["flex","items-center","justify-center","w-12","px-2","py-1","rounded","border","border-slate-200","hover:bg-slate-200","cursor-pointer","transition-all","duration-200"]},variant:{current:{true:[]}},match:[{if:{current:!0},then:{page:["bg-slate-100","hover:bg-slate-200","text-slate-800","font-bold"]}}],defaults:{current:!1}}),_v=({pages:t,page:e,onPage:r,variant:n,tva:o=mL,css:a})=>{const l=o({...n,css:a}).slots;return y.jsx("nav",{className:l.base(),children:y.jsx("ul",{className:l.list(),children:t.map((c,h)=>y.jsx("li",{className:l.page({current:e===c-1}),onClick:()=>r(c-1),children:c},`page-${c}-${h}`))})})},yL=lr({slot:{base:["cursor-pointer","bg-slate-50","text-slate-900","text-sm","border","border-slate-300","rounded","focus:border-sky-400","focus:outline-none","p-2.5","hover:shadow-md","transition-all","group"],input:["flex","flex-row","items-center","justify-between","gap-2"],popup:["z-50","cursor-pointer","overflow-y-auto","rounded","border","border-slate-300","bg-white","shadow-lg","focus:outline-none"],item:["focus:outline-none","py-2","px-2.5","flex","items-center","justify-between"]},variant:{disabled:{true:["cursor-not-allowed","hover:shadow-none","focus:border-slate-300","opacity-50"]},active:{true:[]},selected:{true:[]}},match:[{if:{selected:!0},then:{item:["bg-slate-100"]}},{if:{active:!0},then:{item:["bg-slate-200"]}}],defaults:{disabled:!1,selected:!1,active:!1}}),gL=({items:t,icon:e,defaultValue:r,render:n,textSelect:o,disabled:a=!1,onItem:l,onSelect:c,onChange:h,value:m,variant:g,tva:x=yL,css:N})=>{const[q,C]=Q.useState(!1),[O,P]=Q.useState(null),[M,j]=Q.useState(t.findIndex(me=>me.id===r));Q.useEffect(()=>{j(t.findIndex(me=>me.id===m))},[m]);const{refs:$,floatingStyles:U,context:G}=nb({placement:"bottom-start",open:q,onOpenChange:C,whileElementsMounted:ak,middleware:[uk(5),ck({padding:10}),mj({apply({rects:me,elements:Ee,availableHeight:H}){Object.assign(Ee.floating.style,{maxHeight:`${H}px`,minWidth:`${me.reference.width}px`})},padding:10})]}),B=Q.useRef([]),J=Q.useRef(!1),re=tb(G,{event:"mousedown"}),V=rb(G),ie=Vj(G,{listRef:B,activeIndex:O,selectedIndex:M,onNavigate:P,loop:!0}),{getReferenceProps:D,getFloatingProps:ne,getItemProps:Z}=ib([V,ie,re]),{isMounted:pe,styles:Oe}=sb(G),Ce=me=>{j(me),C(!1);const Ee=t[me];Ee&&l?.(Ee),c?.(Ee),h?.(Ee?.id)},Fe=M===null?void 0:t[M],ve=x({disabled:a,...g,css:N}).slots;return y.jsxs(y.Fragment,{children:[y.jsx("div",{tabIndex:a?-1:0,ref:a?void 0:$.setReference,"aria-labelledby":"select-label","aria-autocomplete":"none",...a?{}:D(),className:ve.base(),children:y.jsxs("div",{className:ve.input(),children:[e?y.jsx(_r,{icon:e,variant:{size:"xl"},css:{base:["text-slate-400","group-hover:text-slate-600"]}}):null,Fe?y.jsx(n,{entity:Fe}):o||Ci.rich("Select item"),y.jsx(_r,{icon:"icon-[gg--select]",variant:{size:"xl"},css:{base:[!q&&"text-slate-400",q&&"text-slate-600","group-hover:text-slate-600"]}})]})}),pe&&y.jsx(eb,{children:y.jsx(wk,{context:G,modal:!1,children:y.jsx("div",{ref:$.setFloating,style:{...U,...Oe},className:ve.popup(),...ne(),children:t.map((me,Ee)=>y.jsxs("div",{ref:H=>{B.current[Ee]=H},role:"option",tabIndex:Ee===O?0:-1,"aria-selected":Ee===M&&Ee===O,className:ve.item({selected:Ee===M,active:Ee===O}),...Z({onClick(){Ce(Ee)},onKeyDown(H){H.key==="Enter"&&(H.preventDefault(),Ce(Ee)),H.key===" "&&!J.current&&(H.preventDefault(),Ce(Ee))}}),children:[y.jsx(n,{entity:me}),Ee===M&&y.jsx(_r,{icon:"icon-[basil--check-outline]",variant:{size:"xl"}})]},me.id))})})})]})},vL=({sizes:t=[5,15,30,50,100],size:e,onSize:r,...n})=>y.jsx(gL,{items:t.map(o=>({id:`${o}`,size:o})),defaultValue:`${e}`,value:`${e}`,onItem:({size:o})=>r(o),render:({entity:{size:o}})=>o,css:{base:["px-8","py-1"],item:["px-8","py-1"]},...n}),mE=({cursor:t,count:e,textTotal:r,onPage:n,onSize:o,variant:a,tva:l=pL,css:c})=>{const h=Q.useMemo(()=>rF({page:t.page,total:Math.ceil(e.filter/t.size),siblings:1,boundaries:1}),[t.page,e.filter,t.size]),m=l({...a,css:c}).slots;return y.jsxs("div",{className:m.base(),children:[h.total>1?y.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[["both","start"].includes(h.type)&&y.jsxs(y.Fragment,{children:[y.jsx(_v,{page:t.page,pages:h.start,onPage:n}),y.jsx(_r,{icon:pE})]}),y.jsx(_v,{page:t.page,pages:h.pages,onPage:n}),["both","end"].includes(h.type)&&y.jsxs(y.Fragment,{children:[y.jsx(_r,{icon:pE}),y.jsx(_v,{page:t.page,pages:h.end,onPage:n})]})]}):null,y.jsxs("div",{className:m.sums(),children:[y.jsx("div",{children:r}),y.jsx("div",{className:"font-bold",children:e.filter}),e.filter!==e.where&&y.jsxs(y.Fragment,{children:[y.jsx("div",{children:"/"}),y.jsx("div",{className:"font-semibold",children:e.where})]})]}),y.jsx(vL,{size:t.size,onSize:o})]})},ps=t=>e=>{t({search:({cursor:r,...n})=>({...n,cursor:{...r,page:e}})})},ms=t=>e=>{t({search:({cursor:r,...n})=>({...n,cursor:{...r,size:e,page:0}})})};function la(t){return typeof t>"u"||t===void 0}function Oi(t){return typeof t=="string"}function am(t){return typeof t=="number"}function _p(t){return typeof t=="boolean"}function lb(t){return t===null}function _L(t){return t instanceof Date}function ub(t){return typeof t=="bigint"}function Ii(t){return typeof t=="function"}function ks(t){return typeof t=="object"&&t!==null}function A(t){return Object.freeze(t)}function _h(t){return mo(t)?t:[t]}function mo(t){return Array.isArray(t)}function ua(t){return t}const Nr=A({is(t){return t.kind==="AlterTableNode"},create(t){return A({kind:"AlterTableNode",table:t})},cloneWithTableProps(t,e){return A({...t,...e})},cloneWithColumnAlteration(t,e){return A({...t,columnAlterations:t.columnAlterations?[...t.columnAlterations,e]:[e]})}}),zr=A({is(t){return t.kind==="IdentifierNode"},create(t){return A({kind:"IdentifierNode",name:t})}}),io=A({is(t){return t.kind==="CreateIndexNode"},create(t){return A({kind:"CreateIndexNode",name:zr.create(t)})},cloneWith(t,e){return A({...t,...e})},cloneWithColumns(t,e){return A({...t,columns:[...t.columns||[],...e]})}}),Ck=A({is(t){return t.kind==="CreateSchemaNode"},create(t,e){return A({kind:"CreateSchemaNode",schema:zr.create(t),...e})},cloneWith(t,e){return A({...t,...e})}}),bL=["preserve rows","delete rows","drop"],gi=A({is(t){return t.kind==="CreateTableNode"},create(t){return A({kind:"CreateTableNode",table:t,columns:A([])})},cloneWithColumn(t,e){return A({...t,columns:A([...t.columns,e])})},cloneWithConstraint(t,e){return A({...t,constraints:t.constraints?A([...t.constraints,e]):A([e])})},cloneWithFrontModifier(t,e){return A({...t,frontModifiers:t.frontModifiers?A([...t.frontModifiers,e]):A([e])})},cloneWithEndModifier(t,e){return A({...t,endModifiers:t.endModifiers?A([...t.endModifiers,e]):A([e])})},cloneWith(t,e){return A({...t,...e})}}),ga=A({is(t){return t.kind==="SchemableIdentifierNode"},create(t){return A({kind:"SchemableIdentifierNode",identifier:zr.create(t)})},createWithSchema(t,e){return A({kind:"SchemableIdentifierNode",schema:zr.create(t),identifier:zr.create(e)})}}),Kc=A({is(t){return t.kind==="DropIndexNode"},create(t,e){return A({kind:"DropIndexNode",name:ga.create(t),...e})},cloneWith(t,e){return A({...t,...e})}}),f_=A({is(t){return t.kind==="DropSchemaNode"},create(t,e){return A({kind:"DropSchemaNode",schema:zr.create(t),...e})},cloneWith(t,e){return A({...t,...e})}}),h_=A({is(t){return t.kind==="DropTableNode"},create(t,e){return A({kind:"DropTableNode",table:t,...e})},cloneWith(t,e){return A({...t,...e})}}),Ea=A({is(t){return t.kind==="AliasNode"},create(t,e){return A({kind:"AliasNode",node:t,alias:e})}}),ca=A({is(t){return t.kind==="TableNode"},create(t){return A({kind:"TableNode",table:ga.create(t)})},createWithSchema(t,e){return A({kind:"TableNode",table:ga.createWithSchema(t,e)})}});function hi(t){return ks(t)&&Ii(t.toOperationNode)}function wL(t){return ks(t)&&"expressionType"in t&&hi(t)}function xL(t){return ks(t)&&"expression"in t&&Oi(t.alias)&&hi(t)}const to=A({is(t){return t.kind==="SelectModifierNode"},create(t,e){return A({kind:"SelectModifierNode",modifier:t,of:e})},createWithExpression(t){return A({kind:"SelectModifierNode",rawModifier:t})}}),va=A({is(t){return t.kind==="AndNode"},create(t,e){return A({kind:"AndNode",left:t,right:e})}}),Mu=A({is(t){return t.kind==="OrNode"},create(t,e){return A({kind:"OrNode",left:t,right:e})}}),bv=A({is(t){return t.kind==="OnNode"},create(t){return A({kind:"OnNode",on:t})},cloneWithOperation(t,e,r){return A({...t,on:e==="And"?va.create(t.on,r):Mu.create(t.on,r)})}}),Gc=A({is(t){return t.kind==="JoinNode"},create(t,e){return A({kind:"JoinNode",joinType:t,table:e,on:void 0})},createWithOn(t,e,r){return A({kind:"JoinNode",joinType:t,table:e,on:bv.create(r)})},cloneWithOn(t,e){return A({...t,on:t.on?bv.cloneWithOperation(t.on,"And",e):bv.create(e)})}}),Iu=A({is(t){return t.kind==="BinaryOperationNode"},create(t,e,r){return A({kind:"BinaryOperationNode",leftOperand:t,operator:e,rightOperand:r})}}),SL=["=","==","!=","<>",">",">=","<","<=","in","not in","is","is not","like","not like","match","ilike","not ilike","@>","<@","^@","&&","?","?&","?|","!<","!>","<=>","!~","~","~*","!~*","@@","@@@","!!","<->","regexp","is distinct from","is not distinct from"],EL=["+","-","*","/","%","^","&","|","#","<<",">>"],Ok=["->","->>"],NL=[...SL,...EL,"&&","||"],kL=["exists","not exists"],qL=["not","-",...kL],CL=[...NL,...Ok,...qL,"between","between symmetric"],_a=A({is(t){return t.kind==="OperatorNode"},create(t){return A({kind:"OperatorNode",operator:t})}});function yE(t){return Oi(t)&&Ok.includes(t)}const on=A({is(t){return t.kind==="ColumnNode"},create(t){return A({kind:"ColumnNode",column:zr.create(t)})}}),cb=A({is(t){return t.kind==="SelectAllNode"},create(){return A({kind:"SelectAllNode"})}}),lm=A({is(t){return t.kind==="ReferenceNode"},create(t,e){return A({kind:"ReferenceNode",table:e,column:t})},createSelectAll(t){return A({kind:"ReferenceNode",table:t,column:cb.create()})}});class OL{#e;get dynamicReference(){return this.#e}get refType(){}constructor(e){this.#e=e}toOperationNode(){return Pk(this.#e)}}function Ik(t){return ks(t)&&hi(t)&&Oi(t.dynamicReference)}const p_=A({is(t){return t.kind==="OrderByItemNode"},create(t,e){return A({kind:"OrderByItemNode",orderBy:t,direction:e})}}),An=A({is(t){return t.kind==="RawNode"},create(t,e){return A({kind:"RawNode",sqlFragments:A(t),parameters:A(e)})},createWithSql(t){return An.create([t],[])},createWithChild(t){return An.create(["",""],[t])},createWithChildren(t){return An.create(new Array(t.length+1).fill(""),t)}});function Rk(t){return t==="asc"||t==="desc"}function Ud(t){if(t.length===2)return[wv(t[0],t[1])];if(t.length===1){const[e]=t;return Array.isArray(e)?e.map(r=>wv(r)):[wv(e)]}throw new Error(`Invalid number of arguments at order by! expected 1-2, received ${t.length}`)}function wv(t,e){const r=IL(t);if(p_.is(r)){if(e)throw new Error("Cannot specify direction twice!");return r}return p_.create(r,Ak(e))}function IL(t){if(Gd(t))return _l(t);if(Ik(t))return t.toOperationNode();const[e,r]=t.split(" ");if(r){if(!Rk(r))throw new Error(`Invalid order by direction: ${r}`);return p_.create(yo(e),Ak(r))}return yo(t)}function Ak(t){if(t)return t==="asc"||t==="desc"?An.createWithSql(t):t.toOperationNode()}const bp=A({is(t){return t.kind==="JSONReferenceNode"},create(t,e){return A({kind:"JSONReferenceNode",reference:t,traversal:e})},cloneWithTraversal(t,e){return A({...t,traversal:e})}}),Tk=A({is(t){return t.kind==="JSONOperatorChainNode"},create(t){return A({kind:"JSONOperatorChainNode",operator:t,values:A([])})},cloneWithValue(t,e){return A({...t,values:A([...t.values,e])})}}),Jc=A({is(t){return t.kind==="JSONPathNode"},create(t){return A({kind:"JSONPathNode",inOperator:t,pathLegs:A([])})},cloneWithLeg(t,e){return A({...t,pathLegs:A([...t.pathLegs,e])})}});function Pk(t){return Oi(t)?yo(t):t.toOperationNode()}function Sd(t){return mo(t)?t.map(e=>Ei(e)):[Ei(t)]}function Ei(t){return Gd(t)?_l(t):Pk(t)}function RL(t,e){const r=yo(t);if(yE(e))return bp.create(r,Tk.create(_a.create(e)));const n=e.slice(0,-1);if(yE(n))return bp.create(r,Jc.create(_a.create(n)));throw new Error(`Invalid JSON operator: ${e}`)}function yo(t){const e=".";if(!t.includes(e))return lm.create(on.create(t));const r=t.split(e).map(db);if(r.length===3)return TL(r);if(r.length===2)return PL(r);throw new Error(`invalid column reference ${t}`)}function AL(t){const e=" as ";if(t.includes(e)){const[r,n]=t.split(e).map(db);return Ea.create(yo(r),zr.create(n))}else return yo(t)}function Fk(t){return on.create(t)}function wp(t){const e=" ";if(t.includes(e)){const[r,n]=t.split(e).map(db);if(!Rk(n))throw new Error(`invalid order direction "${n}" next to "${r}"`);return Ud([r,n])[0]}else return Fk(t)}function TL(t){const[e,r,n]=t;return lm.create(on.create(n),ca.createWithSchema(e,r))}function PL(t){const[e,r]=t;return lm.create(on.create(r),ca.create(e))}function db(t){return t.trim()}const jk=A({is(t){return t.kind==="PrimitiveValueListNode"},create(t){return A({kind:"PrimitiveValueListNode",values:A([...t])})}}),fb=A({is(t){return t.kind==="ValueListNode"},create(t){return A({kind:"ValueListNode",values:A(t)})}}),Fs=A({is(t){return t.kind==="ValueNode"},create(t){return A({kind:"ValueNode",value:t})},createImmediate(t){return A({kind:"ValueNode",value:t,immediate:!0})}});function FL(t){return mo(t)?jL(t):ln(t)}function ln(t){return Gd(t)?_l(t):Fs.create(t)}function hb(t){return am(t)||_p(t)||lb(t)}function pb(t){if(!hb(t))throw new Error(`unsafe immediate value ${JSON.stringify(t)}`);return Fs.createImmediate(t)}function jL(t){return t.some(Gd)?fb.create(t.map(e=>ln(e))):jk.create(t)}const Ru=A({is(t){return t.kind==="ParensNode"},create(t){return A({kind:"ParensNode",node:t})}});function kn(t){if(t.length===3)return mb(t[0],t[1],t[2]);if(t.length===1)return ln(t[0]);throw new Error(`invalid arguments: ${JSON.stringify(t)}`)}function mb(t,e,r){return LL(e)&&Lk(r)?Iu.create(Ei(t),m_(e),Fs.createImmediate(r)):Iu.create(Ei(t),m_(e),FL(r))}function js(t,e,r){return Iu.create(Ei(t),m_(e),Ei(r))}function gE(t,e){return xp(Object.entries(t).filter(([,r])=>!la(r)).map(([r,n])=>mb(r,Lk(n)?"is":"=",n)),e)}function xp(t,e,r=!0){const n=e==="and"?va.create:Mu.create;if(t.length===0)return Iu.create(Fs.createImmediate(1),_a.create("="),Fs.createImmediate(e==="and"?1:0));let o=vE(t[0]);for(let a=1;a<t.length;++a)o=n(o,vE(t[a]));return t.length>1&&r?Ru.create(o):o}function LL(t){return t==="is"||t==="is not"}function Lk(t){return lb(t)||_p(t)}function m_(t){if(Oi(t)&&CL.includes(t))return _a.create(t);if(hi(t))return t.toOperationNode();throw new Error(`invalid operator ${JSON.stringify(t)}`)}function vE(t){return hi(t)?t.toOperationNode():t}const ba=A({is(t){return t.kind==="OrderByNode"},create(t){return A({kind:"OrderByNode",items:A([...t])})},cloneWithItems(t,e){return A({...t,items:A([...t.items,...e])})}}),_E=A({is(t){return t.kind==="PartitionByNode"},create(t){return A({kind:"PartitionByNode",items:A(t)})},cloneWithItems(t,e){return A({...t,items:A([...t.items,...e])})}}),y_=A({is(t){return t.kind==="OverNode"},create(){return A({kind:"OverNode"})},cloneWithOrderByItems(t,e){return A({...t,orderBy:t.orderBy?ba.cloneWithItems(t.orderBy,e):ba.create(e)})},cloneWithPartitionByItems(t,e){return A({...t,partitionBy:t.partitionBy?_E.cloneWithItems(t.partitionBy,e):_E.create(e)})}}),Sp=A({is(t){return t.kind==="FromNode"},create(t){return A({kind:"FromNode",froms:A(t)})},cloneWithFroms(t,e){return A({...t,froms:A([...t.froms,...e])})}}),bE=A({is(t){return t.kind==="GroupByNode"},create(t){return A({kind:"GroupByNode",items:A(t)})},cloneWithItems(t,e){return A({...t,items:A([...t.items,...e])})}}),wE=A({is(t){return t.kind==="HavingNode"},create(t){return A({kind:"HavingNode",having:t})},cloneWithOperation(t,e,r){return A({...t,having:e==="And"?va.create(t.having,r):Mu.create(t.having,r)})}}),Er=A({is(t){return t.kind==="SelectQueryNode"},create(t){return A({kind:"SelectQueryNode",...t&&{with:t}})},createFrom(t,e){return A({kind:"SelectQueryNode",from:Sp.create(t),...e&&{with:e}})},cloneWithSelections(t,e){return A({...t,selections:t.selections?A([...t.selections,...e]):A(e)})},cloneWithDistinctOn(t,e){return A({...t,distinctOn:t.distinctOn?A([...t.distinctOn,...e]):A(e)})},cloneWithFrontModifier(t,e){return A({...t,frontModifiers:t.frontModifiers?A([...t.frontModifiers,e]):A([e])})},cloneWithOrderByItems(t,e){return A({...t,orderBy:t.orderBy?ba.cloneWithItems(t.orderBy,e):ba.create(e)})},cloneWithGroupByItems(t,e){return A({...t,groupBy:t.groupBy?bE.cloneWithItems(t.groupBy,e):bE.create(e)})},cloneWithLimit(t,e){return A({...t,limit:e})},cloneWithOffset(t,e){return A({...t,offset:e})},cloneWithFetch(t,e){return A({...t,fetch:e})},cloneWithHaving(t,e){return A({...t,having:t.having?wE.cloneWithOperation(t.having,"And",e):wE.create(e)})},cloneWithSetOperations(t,e){return A({...t,setOperations:t.setOperations?A([...t.setOperations,...e]):A([...e])})},cloneWithoutSelections(t){return A({...t,selections:[]})},cloneWithoutLimit(t){return A({...t,limit:void 0})},cloneWithoutOffset(t){return A({...t,offset:void 0})},cloneWithoutOrderBy(t){return A({...t,orderBy:void 0})},cloneWithoutGroupBy(t){return A({...t,groupBy:void 0})}});function sr(t,e){Object.defineProperties(t.prototype,{then:{enumerable:!1,value:()=>{throw new Error(e)}}})}class mu{#e;constructor(e){this.#e=A(e)}on(...e){return new mu({...this.#e,joinNode:Gc.cloneWithOn(this.#e.joinNode,kn(e))})}onRef(e,r,n){return new mu({...this.#e,joinNode:Gc.cloneWithOn(this.#e.joinNode,js(e,r,n))})}onTrue(){return new mu({...this.#e,joinNode:Gc.cloneWithOn(this.#e.joinNode,An.createWithSql("true"))})}$call(e){return e(this)}toOperationNode(){return this.#e.joinNode}}sr(mu,"don't await JoinBuilder instances. They are never executed directly and are always just a part of a query.");const DL=A({is(t){return t.kind==="PartitionByItemNode"},create(t){return A({kind:"PartitionByItemNode",partitionBy:t})}});function ML(t){return Sd(t).map(DL.create)}class Ed{#e;constructor(e){this.#e=A(e)}orderBy(e,r){return new Ed({overNode:y_.cloneWithOrderByItems(this.#e.overNode,Ud([e,r]))})}partitionBy(e){return new Ed({overNode:y_.cloneWithPartitionByItems(this.#e.overNode,ML(e))})}$call(e){return e(this)}toOperationNode(){return this.#e.overNode}}sr(Ed,"don't await OverBuilder instances. They are never executed directly and are always just a part of a query.");const Zc=A({is(t){return t.kind==="SelectionNode"},create(t){return A({kind:"SelectionNode",selection:t})},createSelectAll(){return A({kind:"SelectionNode",selection:cb.create()})},createSelectAllFromTable(t){return A({kind:"SelectionNode",selection:lm.createSelectAll(t)})}});function ds(t){return Ii(t)?ds(t(Wu())):mo(t)?t.map(e=>xE(e)):[xE(t)]}function xE(t){return Oi(t)?Zc.create(AL(t)):Ik(t)?Zc.create(t.toOperationNode()):Zc.create(Jk(t))}function Ls(t){return t?Array.isArray(t)?t.map(SE):[SE(t)]:[Zc.createSelectAll()]}function SE(t){if(Oi(t))return Zc.createSelectAllFromTable(tn(t));throw new Error(`invalid value selectAll expression: ${JSON.stringify(t)}`)}const BL=A({is(t){return t.kind==="ValuesNode"},create(t){return A({kind:"ValuesNode",values:A(t)})}}),WL=A({is(t){return t.kind==="DefaultInsertValueNode"},create(){return A({kind:"DefaultInsertValueNode"})}});function Dk(t){const e=Ii(t)?t(Wu()):t,r=mo(e)?e:A([e]);return $L(r)}function $L(t){const e=zL(t);return[A([...e.keys()].map(on.create)),BL.create(t.map(r=>UL(r,e)))]}function zL(t){const e=new Map;for(const r of t){const n=Object.keys(r);for(const o of n)!e.has(o)&&r[o]!==void 0&&e.set(o,e.size)}return e}function UL(t,e){const r=Object.keys(t),n=Array.from({length:e.size});let o=!1;for(const l of r){const c=e.get(l);if(la(c))continue;const h=t[l];(la(h)||Gd(h))&&(o=!0),n[c]=h}if(r.length<e.size||o){const l=WL.create();return fb.create(n.map(c=>la(c)?l:ln(c)))}return jk.create(n)}const bi=A({is(t){return t.kind==="InsertQueryNode"},create(t,e,r){return A({kind:"InsertQueryNode",into:t,...e&&{with:e},replace:r})},createWithoutInto(){return A({kind:"InsertQueryNode"})},cloneWith(t,e){return A({...t,...e})}}),yu=A({is(t){return t.kind==="UpdateQueryNode"},create(t,e){return A({kind:"UpdateQueryNode",table:t,...e&&{with:e}})},createWithoutTable(){return A({kind:"UpdateQueryNode"})},cloneWithFromItems(t,e){return A({...t,from:t.from?Sp.cloneWithFroms(t.from,e):Sp.create(e)})},cloneWithUpdates(t,e){return A({...t,updates:t.updates?A([...t.updates,...e]):e})},cloneWithLimit(t,e){return A({...t,limit:e})}}),EE=A({is(t){return t.kind==="UsingNode"},create(t){return A({kind:"UsingNode",tables:A(t)})},cloneWithTables(t,e){return A({...t,tables:A([...t.tables,...e])})}}),Ka=A({is(t){return t.kind==="DeleteQueryNode"},create(t,e){return A({kind:"DeleteQueryNode",from:Sp.create(t),...e&&{with:e}})},cloneWithOrderByItems(t,e){return A({...t,orderBy:t.orderBy?ba.cloneWithItems(t.orderBy,e):ba.create(e)})},cloneWithoutOrderBy(t){return A({...t,orderBy:void 0})},cloneWithLimit(t,e){return A({...t,limit:e})},cloneWithoutLimit(t){return A({...t,limit:void 0})},cloneWithUsing(t,e){return A({...t,using:t.using!==void 0?EE.cloneWithTables(t.using,e):EE.create(e)})}}),ii=A({is(t){return t.kind==="WhereNode"},create(t){return A({kind:"WhereNode",where:t})},cloneWithOperation(t,e,r){return A({...t,where:e==="And"?va.create(t.where,r):Mu.create(t.where,r)})}}),NE=A({is(t){return t.kind==="ReturningNode"},create(t){return A({kind:"ReturningNode",selections:A(t)})},cloneWithSelections(t,e){return A({...t,selections:t.selections?A([...t.selections,...e]):A(e)})}}),VL=A({is(t){return t.kind==="ExplainNode"},create(t,e){return A({kind:"ExplainNode",format:t,options:e})}}),Vd=A({is(t){return t.kind==="WhenNode"},create(t){return A({kind:"WhenNode",condition:t})},cloneWithResult(t,e){return A({...t,result:e})}}),oi=A({is(t){return t.kind==="MergeQueryNode"},create(t,e){return A({kind:"MergeQueryNode",into:t,...e&&{with:e}})},cloneWithUsing(t,e){return A({...t,using:e})},cloneWithWhen(t,e){return A({...t,whens:t.whens?A([...t.whens,e]):A([e])})},cloneWithThen(t,e){return A({...t,whens:t.whens?A([...t.whens.slice(0,-1),Vd.cloneWithResult(t.whens[t.whens.length-1],e)]):void 0})}}),kE=A({is(t){return t.kind==="OutputNode"},create(t){return A({kind:"OutputNode",selections:A(t)})},cloneWithSelections(t,e){return A({...t,selections:t.selections?A([...t.selections,...e]):A(e)})}}),Ct=A({is(t){return Er.is(t)||bi.is(t)||yu.is(t)||Ka.is(t)||oi.is(t)},cloneWithEndModifier(t,e){return A({...t,endModifiers:t.endModifiers?A([...t.endModifiers,e]):A([e])})},cloneWithWhere(t,e){return A({...t,where:t.where?ii.cloneWithOperation(t.where,"And",e):ii.create(e)})},cloneWithJoin(t,e){return A({...t,joins:t.joins?A([...t.joins,e]):A([e])})},cloneWithReturning(t,e){return A({...t,returning:t.returning?NE.cloneWithSelections(t.returning,e):NE.create(e)})},cloneWithoutReturning(t){return A({...t,returning:void 0})},cloneWithoutWhere(t){return A({...t,where:void 0})},cloneWithExplain(t,e,r){return A({...t,explain:VL.create(e,r?.toOperationNode())})},cloneWithTop(t,e){return A({...t,top:e})},cloneWithOutput(t,e){return A({...t,output:t.output?kE.cloneWithSelections(t.output,e):kE.create(e)})}}),Mk=A({is(t){return t.kind==="ColumnUpdateNode"},create(t,e){return A({kind:"ColumnUpdateNode",column:t,value:e})}});function HL(...t){return t.length===2?[Mk.create(Ei(t[0]),ln(t[1]))]:yb(t[0])}function yb(t){const e=Ii(t)?t(Wu()):t;return Object.entries(e).filter(([r,n])=>n!==void 0).map(([r,n])=>Mk.create(on.create(r),ln(n)))}const QL=A({is(t){return t.kind==="OnDuplicateKeyNode"},create(t){return A({kind:"OnDuplicateKeyNode",updates:t})}});class KL{insertId;numInsertedOrUpdatedRows;constructor(e,r){this.insertId=e,this.numInsertedOrUpdatedRows=r}}class Hd extends Error{node;constructor(e){super("no result"),this.node=e}}function Qd(t){return Object.prototype.hasOwnProperty.call(t,"prototype")}const vi=A({is(t){return t.kind==="OnConflictNode"},create(){return A({kind:"OnConflictNode"})},cloneWith(t,e){return A({...t,...e})},cloneWithIndexWhere(t,e){return A({...t,indexWhere:t.indexWhere?ii.cloneWithOperation(t.indexWhere,"And",e):ii.create(e)})},cloneWithIndexOrWhere(t,e){return A({...t,indexWhere:t.indexWhere?ii.cloneWithOperation(t.indexWhere,"Or",e):ii.create(e)})},cloneWithUpdateWhere(t,e){return A({...t,updateWhere:t.updateWhere?ii.cloneWithOperation(t.updateWhere,"And",e):ii.create(e)})},cloneWithUpdateOrWhere(t,e){return A({...t,updateWhere:t.updateWhere?ii.cloneWithOperation(t.updateWhere,"Or",e):ii.create(e)})},cloneWithoutIndexWhere(t){return A({...t,indexWhere:void 0})},cloneWithoutUpdateWhere(t){return A({...t,updateWhere:void 0})}});class Ns{#e;constructor(e){this.#e=A(e)}column(e){const r=on.create(e);return new Ns({...this.#e,onConflictNode:vi.cloneWith(this.#e.onConflictNode,{columns:this.#e.onConflictNode.columns?A([...this.#e.onConflictNode.columns,r]):A([r])})})}columns(e){const r=e.map(on.create);return new Ns({...this.#e,onConflictNode:vi.cloneWith(this.#e.onConflictNode,{columns:this.#e.onConflictNode.columns?A([...this.#e.onConflictNode.columns,...r]):A(r)})})}constraint(e){return new Ns({...this.#e,onConflictNode:vi.cloneWith(this.#e.onConflictNode,{constraint:zr.create(e)})})}expression(e){return new Ns({...this.#e,onConflictNode:vi.cloneWith(this.#e.onConflictNode,{indexExpression:e.toOperationNode()})})}where(...e){return new Ns({...this.#e,onConflictNode:vi.cloneWithIndexWhere(this.#e.onConflictNode,kn(e))})}whereRef(e,r,n){return new Ns({...this.#e,onConflictNode:vi.cloneWithIndexWhere(this.#e.onConflictNode,js(e,r,n))})}clearWhere(){return new Ns({...this.#e,onConflictNode:vi.cloneWithoutIndexWhere(this.#e.onConflictNode)})}doNothing(){return new Bk({...this.#e,onConflictNode:vi.cloneWith(this.#e.onConflictNode,{doNothing:!0})})}doUpdateSet(e){return new gu({...this.#e,onConflictNode:vi.cloneWith(this.#e.onConflictNode,{updates:yb(e)})})}$call(e){return e(this)}}sr(Ns,"don't await OnConflictBuilder instances.");class Bk{#e;constructor(e){this.#e=A(e)}toOperationNode(){return this.#e.onConflictNode}}sr(Bk,"don't await OnConflictDoNothingBuilder instances.");class gu{#e;constructor(e){this.#e=A(e)}where(...e){return new gu({...this.#e,onConflictNode:vi.cloneWithUpdateWhere(this.#e.onConflictNode,kn(e))})}whereRef(e,r,n){return new gu({...this.#e,onConflictNode:vi.cloneWithUpdateWhere(this.#e.onConflictNode,js(e,r,n))})}clearWhere(){return new gu({...this.#e,onConflictNode:vi.cloneWithoutUpdateWhere(this.#e.onConflictNode)})}$call(e){return e(this)}toOperationNode(){return this.#e.onConflictNode}}sr(gu,"don't await OnConflictUpdateBuilder instances.");const GL=A({is(t){return t.kind==="TopNode"},create(t,e){return A({kind:"TopNode",expression:t,modifiers:e})}});function Bu(t,e){if(!am(t)&&!ub(t))throw new Error(`Invalid top expression: ${t}`);if(!la(e)&&!JL(e))throw new Error(`Invalid top modifiers: ${e}`);return GL.create(t,e)}function JL(t){return t==="percent"||t==="with ties"||t==="percent with ties"}class Mr{#e;constructor(e){this.#e=A(e)}values(e){const[r,n]=Dk(e);return new Mr({...this.#e,queryNode:bi.cloneWith(this.#e.queryNode,{columns:r,values:n})})}columns(e){return new Mr({...this.#e,queryNode:bi.cloneWith(this.#e.queryNode,{columns:A(e.map(on.create))})})}expression(e){return new Mr({...this.#e,queryNode:bi.cloneWith(this.#e.queryNode,{values:_l(e)})})}defaultValues(){return new Mr({...this.#e,queryNode:bi.cloneWith(this.#e.queryNode,{defaultValues:!0})})}modifyEnd(e){return new Mr({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}ignore(){return new Mr({...this.#e,queryNode:bi.cloneWith(this.#e.queryNode,{ignore:!0})})}top(e,r){return new Mr({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,Bu(e,r))})}onConflict(e){return new Mr({...this.#e,queryNode:bi.cloneWith(this.#e.queryNode,{onConflict:e(new Ns({onConflictNode:vi.create()})).toOperationNode()})})}onDuplicateKeyUpdate(e){return new Mr({...this.#e,queryNode:bi.cloneWith(this.#e.queryNode,{onDuplicateKey:QL.create(yb(e))})})}returning(e){return new Mr({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,ds(e))})}returningAll(){return new Mr({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,Ls())})}output(e){return new Mr({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,ds(e))})}outputAll(e){return new Mr({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,Ls(e))})}clearReturning(){return new Mr({...this.#e,queryNode:Ct.cloneWithoutReturning(this.#e.queryNode)})}$call(e){return e(this)}$if(e,r){return e?r(this):new Mr({...this.#e})}$castTo(){return new Mr(this.#e)}$narrowType(){return new Mr(this.#e)}$assertType(){return new Mr(this.#e)}withPlugin(e){return new Mr({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),r=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:n}=this.#e.executor,o=e.query;return o.returning&&n.supportsReturning||o.output&&n.supportsOutput?r.rows:[new KL(r.insertId,r.numAffectedRows??r.numUpdatedOrDeletedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Hd){const r=await this.executeTakeFirst();if(r===void 0)throw Qd(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async *stream(e=100){const r=this.compile(),n=this.#e.executor.stream(r,e,this.#e.queryId);for await(const o of n)yield*o.rows}async explain(e,r){return await new Mr({...this.#e,queryNode:Ct.cloneWithExplain(this.#e.queryNode,e,r)}).execute()}}sr(Mr,"don't await InsertQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class ZL{numDeletedRows;constructor(e){this.numDeletedRows=e}}const gb=A({is(t){return t.kind==="LimitNode"},create(t){return A({kind:"LimitNode",limit:t})}});class Sr{#e;constructor(e){this.#e=A(e)}where(...e){return new Sr({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,kn(e))})}whereRef(e,r,n){return new Sr({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,js(e,r,n))})}clearWhere(){return new Sr({...this.#e,queryNode:Ct.cloneWithoutWhere(this.#e.queryNode)})}top(e,r){return new Sr({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,Bu(e,r))})}using(e){return new Sr({...this.#e,queryNode:Ka.cloneWithUsing(this.#e.queryNode,qd(e))})}innerJoin(...e){return new Sr({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,$n("InnerJoin",e))})}leftJoin(...e){return new Sr({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,$n("LeftJoin",e))})}rightJoin(...e){return new Sr({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,$n("RightJoin",e))})}fullJoin(...e){return new Sr({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,$n("FullJoin",e))})}returning(e){return new Sr({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,ds(e))})}returningAll(e){return new Sr({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,Ls(e))})}output(e){return new Sr({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,ds(e))})}outputAll(e){return new Sr({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,Ls(e))})}clearReturning(){return new Sr({...this.#e,queryNode:Ct.cloneWithoutReturning(this.#e.queryNode)})}clearLimit(){return new Sr({...this.#e,queryNode:Ka.cloneWithoutLimit(this.#e.queryNode)})}clearOrderBy(){return new Sr({...this.#e,queryNode:Ka.cloneWithoutOrderBy(this.#e.queryNode)})}orderBy(e,r){return new Sr({...this.#e,queryNode:Ka.cloneWithOrderByItems(this.#e.queryNode,Ud([e,r]))})}limit(e){return new Sr({...this.#e,queryNode:Ka.cloneWithLimit(this.#e.queryNode,gb.create(ln(e)))})}modifyEnd(e){return new Sr({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}$call(e){return e(this)}$if(e,r){return e?r(this):new Sr({...this.#e})}$castTo(){return new Sr(this.#e)}$narrowType(){return new Sr(this.#e)}$assertType(){return new Sr(this.#e)}withPlugin(e){return new Sr({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),r=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:n}=this.#e.executor,o=e.query;return o.returning&&n.supportsReturning||o.output&&n.supportsOutput?r.rows:[new ZL(r.numAffectedRows??r.numUpdatedOrDeletedRows??BigInt(0))]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Hd){const r=await this.executeTakeFirst();if(r===void 0)throw Qd(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async *stream(e=100){const r=this.compile(),n=this.#e.executor.stream(r,e,this.#e.queryId);for await(const o of n)yield*o.rows}async explain(e,r){return await new Sr({...this.#e,queryNode:Ct.cloneWithExplain(this.#e.queryNode,e,r)}).execute()}}sr(Sr,"don't await DeleteQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class XL{numUpdatedRows;numChangedRows;constructor(e,r){this.numUpdatedRows=e,this.numChangedRows=r}}class Cr{#e;constructor(e){this.#e=A(e)}where(...e){return new Cr({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,kn(e))})}whereRef(e,r,n){return new Cr({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,js(e,r,n))})}clearWhere(){return new Cr({...this.#e,queryNode:Ct.cloneWithoutWhere(this.#e.queryNode)})}top(e,r){return new Cr({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,Bu(e,r))})}from(e){return new Cr({...this.#e,queryNode:yu.cloneWithFromItems(this.#e.queryNode,qd(e))})}innerJoin(...e){return new Cr({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,$n("InnerJoin",e))})}leftJoin(...e){return new Cr({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,$n("LeftJoin",e))})}rightJoin(...e){return new Cr({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,$n("RightJoin",e))})}fullJoin(...e){return new Cr({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,$n("FullJoin",e))})}limit(e){return new Cr({...this.#e,queryNode:yu.cloneWithLimit(this.#e.queryNode,gb.create(ln(e)))})}set(...e){return new Cr({...this.#e,queryNode:yu.cloneWithUpdates(this.#e.queryNode,HL(...e))})}returning(e){return new Cr({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,ds(e))})}returningAll(e){return new Cr({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,Ls(e))})}output(e){return new Cr({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,ds(e))})}outputAll(e){return new Cr({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,Ls(e))})}modifyEnd(e){return new Cr({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}clearReturning(){return new Cr({...this.#e,queryNode:Ct.cloneWithoutReturning(this.#e.queryNode)})}$call(e){return e(this)}$if(e,r){return e?r(this):new Cr({...this.#e})}$castTo(){return new Cr(this.#e)}$narrowType(){return new Cr(this.#e)}$assertType(){return new Cr(this.#e)}withPlugin(e){return new Cr({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),r=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:n}=this.#e.executor,o=e.query;return o.returning&&n.supportsReturning||o.output&&n.supportsOutput?r.rows:[new XL(r.numAffectedRows??r.numUpdatedOrDeletedRows??BigInt(0),r.numChangedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Hd){const r=await this.executeTakeFirst();if(r===void 0)throw Qd(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async *stream(e=100){const r=this.compile(),n=this.#e.executor.stream(r,e,this.#e.queryId);for await(const o of n)yield*o.rows}async explain(e,r){return await new Cr({...this.#e,queryNode:Ct.cloneWithExplain(this.#e.queryNode,e,r)}).execute()}}sr(Cr,"don't await UpdateQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");const qE=A({is(t){return t.kind==="CommonTableExpressionNameNode"},create(t,e){return A({kind:"CommonTableExpressionNameNode",table:ca.create(t),columns:e?A(e.map(on.create)):void 0})}}),Ep=A({is(t){return t.kind==="CommonTableExpressionNode"},create(t,e){return A({kind:"CommonTableExpressionNode",name:t,expression:e})},cloneWith(t,e){return A({...t,...e})}});class Nd{#e;constructor(e){this.#e=A(e)}materialized(){return new Nd({...this.#e,node:Ep.cloneWith(this.#e.node,{materialized:!0})})}notMaterialized(){return new Nd({...this.#e,node:Ep.cloneWith(this.#e.node,{materialized:!1})})}toOperationNode(){return this.#e.node}}sr(Nd,"don't await CTEBuilder instances. They are never executed directly and are always just a part of a query.");function CE(t,e){const r=e(c2()).toOperationNode();return Ii(t)?t(YL(r)).toOperationNode():Ep.create(Wk(t),r)}function YL(t){return e=>new Nd({node:Ep.create(Wk(e),t)})}function Wk(t){if(t.includes("(")){const e=t.split(/[\(\)]/),r=e[0],n=e[1].split(",").map(o=>o.trim());return qE.create(r,n)}else return qE.create(t)}const bh=A({is(t){return t.kind==="WithNode"},create(t,e){return A({kind:"WithNode",expressions:A([t]),...e})},cloneWithExpression(t,e){return A({...t,expressions:A([...t.expressions,e])})}}),OE=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"];function e2(t){let e="";for(let r=0;r<t;++r)e+=t2();return e}function t2(){return OE[~~(Math.random()*OE.length)]}function kr(){return new r2}class r2{#e;get queryId(){return this.#e===void 0&&(this.#e=e2(8)),this.#e}}class $k{nodeStack=[];#e=A({AliasNode:this.transformAlias.bind(this),ColumnNode:this.transformColumn.bind(this),IdentifierNode:this.transformIdentifier.bind(this),SchemableIdentifierNode:this.transformSchemableIdentifier.bind(this),RawNode:this.transformRaw.bind(this),ReferenceNode:this.transformReference.bind(this),SelectQueryNode:this.transformSelectQuery.bind(this),SelectionNode:this.transformSelection.bind(this),TableNode:this.transformTable.bind(this),FromNode:this.transformFrom.bind(this),SelectAllNode:this.transformSelectAll.bind(this),AndNode:this.transformAnd.bind(this),OrNode:this.transformOr.bind(this),ValueNode:this.transformValue.bind(this),ValueListNode:this.transformValueList.bind(this),PrimitiveValueListNode:this.transformPrimitiveValueList.bind(this),ParensNode:this.transformParens.bind(this),JoinNode:this.transformJoin.bind(this),OperatorNode:this.transformOperator.bind(this),WhereNode:this.transformWhere.bind(this),InsertQueryNode:this.transformInsertQuery.bind(this),DeleteQueryNode:this.transformDeleteQuery.bind(this),ReturningNode:this.transformReturning.bind(this),CreateTableNode:this.transformCreateTable.bind(this),AddColumnNode:this.transformAddColumn.bind(this),ColumnDefinitionNode:this.transformColumnDefinition.bind(this),DropTableNode:this.transformDropTable.bind(this),DataTypeNode:this.transformDataType.bind(this),OrderByNode:this.transformOrderBy.bind(this),OrderByItemNode:this.transformOrderByItem.bind(this),GroupByNode:this.transformGroupBy.bind(this),GroupByItemNode:this.transformGroupByItem.bind(this),UpdateQueryNode:this.transformUpdateQuery.bind(this),ColumnUpdateNode:this.transformColumnUpdate.bind(this),LimitNode:this.transformLimit.bind(this),OffsetNode:this.transformOffset.bind(this),OnConflictNode:this.transformOnConflict.bind(this),OnDuplicateKeyNode:this.transformOnDuplicateKey.bind(this),CreateIndexNode:this.transformCreateIndex.bind(this),DropIndexNode:this.transformDropIndex.bind(this),ListNode:this.transformList.bind(this),PrimaryKeyConstraintNode:this.transformPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.transformUniqueConstraint.bind(this),ReferencesNode:this.transformReferences.bind(this),CheckConstraintNode:this.transformCheckConstraint.bind(this),WithNode:this.transformWith.bind(this),CommonTableExpressionNode:this.transformCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.transformCommonTableExpressionName.bind(this),HavingNode:this.transformHaving.bind(this),CreateSchemaNode:this.transformCreateSchema.bind(this),DropSchemaNode:this.transformDropSchema.bind(this),AlterTableNode:this.transformAlterTable.bind(this),DropColumnNode:this.transformDropColumn.bind(this),RenameColumnNode:this.transformRenameColumn.bind(this),AlterColumnNode:this.transformAlterColumn.bind(this),ModifyColumnNode:this.transformModifyColumn.bind(this),AddConstraintNode:this.transformAddConstraint.bind(this),DropConstraintNode:this.transformDropConstraint.bind(this),ForeignKeyConstraintNode:this.transformForeignKeyConstraint.bind(this),CreateViewNode:this.transformCreateView.bind(this),DropViewNode:this.transformDropView.bind(this),GeneratedNode:this.transformGenerated.bind(this),DefaultValueNode:this.transformDefaultValue.bind(this),OnNode:this.transformOn.bind(this),ValuesNode:this.transformValues.bind(this),SelectModifierNode:this.transformSelectModifier.bind(this),CreateTypeNode:this.transformCreateType.bind(this),DropTypeNode:this.transformDropType.bind(this),ExplainNode:this.transformExplain.bind(this),DefaultInsertValueNode:this.transformDefaultInsertValue.bind(this),AggregateFunctionNode:this.transformAggregateFunction.bind(this),OverNode:this.transformOver.bind(this),PartitionByNode:this.transformPartitionBy.bind(this),PartitionByItemNode:this.transformPartitionByItem.bind(this),SetOperationNode:this.transformSetOperation.bind(this),BinaryOperationNode:this.transformBinaryOperation.bind(this),UnaryOperationNode:this.transformUnaryOperation.bind(this),UsingNode:this.transformUsing.bind(this),FunctionNode:this.transformFunction.bind(this),CaseNode:this.transformCase.bind(this),WhenNode:this.transformWhen.bind(this),JSONReferenceNode:this.transformJSONReference.bind(this),JSONPathNode:this.transformJSONPath.bind(this),JSONPathLegNode:this.transformJSONPathLeg.bind(this),JSONOperatorChainNode:this.transformJSONOperatorChain.bind(this),TupleNode:this.transformTuple.bind(this),MergeQueryNode:this.transformMergeQuery.bind(this),MatchedNode:this.transformMatched.bind(this),AddIndexNode:this.transformAddIndex.bind(this),CastNode:this.transformCast.bind(this),FetchNode:this.transformFetch.bind(this),TopNode:this.transformTop.bind(this),OutputNode:this.transformOutput.bind(this)});transformNode(e){if(!e)return e;this.nodeStack.push(e);const r=this.transformNodeImpl(e);return this.nodeStack.pop(),A(r)}transformNodeImpl(e){return this.#e[e.kind](e)}transformNodeList(e){return e&&A(e.map(r=>this.transformNode(r)))}transformSelectQuery(e){return{kind:"SelectQueryNode",from:this.transformNode(e.from),selections:this.transformNodeList(e.selections),distinctOn:this.transformNodeList(e.distinctOn),joins:this.transformNodeList(e.joins),groupBy:this.transformNode(e.groupBy),orderBy:this.transformNode(e.orderBy),where:this.transformNode(e.where),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),limit:this.transformNode(e.limit),offset:this.transformNode(e.offset),with:this.transformNode(e.with),having:this.transformNode(e.having),explain:this.transformNode(e.explain),setOperations:this.transformNodeList(e.setOperations),fetch:this.transformNode(e.fetch),top:this.transformNode(e.top)}}transformSelection(e){return{kind:"SelectionNode",selection:this.transformNode(e.selection)}}transformColumn(e){return{kind:"ColumnNode",column:this.transformNode(e.column)}}transformAlias(e){return{kind:"AliasNode",node:this.transformNode(e.node),alias:this.transformNode(e.alias)}}transformTable(e){return{kind:"TableNode",table:this.transformNode(e.table)}}transformFrom(e){return{kind:"FromNode",froms:this.transformNodeList(e.froms)}}transformReference(e){return{kind:"ReferenceNode",column:this.transformNode(e.column),table:this.transformNode(e.table)}}transformAnd(e){return{kind:"AndNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformOr(e){return{kind:"OrNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformValueList(e){return{kind:"ValueListNode",values:this.transformNodeList(e.values)}}transformParens(e){return{kind:"ParensNode",node:this.transformNode(e.node)}}transformJoin(e){return{kind:"JoinNode",joinType:e.joinType,table:this.transformNode(e.table),on:this.transformNode(e.on)}}transformRaw(e){return{kind:"RawNode",sqlFragments:A([...e.sqlFragments]),parameters:this.transformNodeList(e.parameters)}}transformWhere(e){return{kind:"WhereNode",where:this.transformNode(e.where)}}transformInsertQuery(e){return{kind:"InsertQueryNode",into:this.transformNode(e.into),columns:this.transformNodeList(e.columns),values:this.transformNode(e.values),returning:this.transformNode(e.returning),onConflict:this.transformNode(e.onConflict),onDuplicateKey:this.transformNode(e.onDuplicateKey),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),ignore:e.ignore,replace:e.replace,explain:this.transformNode(e.explain),defaultValues:e.defaultValues,top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformValues(e){return{kind:"ValuesNode",values:this.transformNodeList(e.values)}}transformDeleteQuery(e){return{kind:"DeleteQueryNode",from:this.transformNode(e.from),using:this.transformNode(e.using),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),returning:this.transformNode(e.returning),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),orderBy:this.transformNode(e.orderBy),limit:this.transformNode(e.limit),explain:this.transformNode(e.explain),top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformReturning(e){return{kind:"ReturningNode",selections:this.transformNodeList(e.selections)}}transformCreateTable(e){return{kind:"CreateTableNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),constraints:this.transformNodeList(e.constraints),temporary:e.temporary,ifNotExists:e.ifNotExists,onCommit:e.onCommit,frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),selectQuery:this.transformNode(e.selectQuery)}}transformColumnDefinition(e){return{kind:"ColumnDefinitionNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),references:this.transformNode(e.references),primaryKey:e.primaryKey,autoIncrement:e.autoIncrement,unique:e.unique,notNull:e.notNull,unsigned:e.unsigned,defaultTo:this.transformNode(e.defaultTo),check:this.transformNode(e.check),generated:this.transformNode(e.generated),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),nullsNotDistinct:e.nullsNotDistinct,identity:e.identity,ifNotExists:e.ifNotExists}}transformAddColumn(e){return{kind:"AddColumnNode",column:this.transformNode(e.column)}}transformDropTable(e){return{kind:"DropTableNode",table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformOrderBy(e){return{kind:"OrderByNode",items:this.transformNodeList(e.items)}}transformOrderByItem(e){return{kind:"OrderByItemNode",orderBy:this.transformNode(e.orderBy),direction:this.transformNode(e.direction)}}transformGroupBy(e){return{kind:"GroupByNode",items:this.transformNodeList(e.items)}}transformGroupByItem(e){return{kind:"GroupByItemNode",groupBy:this.transformNode(e.groupBy)}}transformUpdateQuery(e){return{kind:"UpdateQueryNode",table:this.transformNode(e.table),from:this.transformNode(e.from),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),updates:this.transformNodeList(e.updates),returning:this.transformNode(e.returning),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),explain:this.transformNode(e.explain),limit:this.transformNode(e.limit),top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformColumnUpdate(e){return{kind:"ColumnUpdateNode",column:this.transformNode(e.column),value:this.transformNode(e.value)}}transformLimit(e){return{kind:"LimitNode",limit:this.transformNode(e.limit)}}transformOffset(e){return{kind:"OffsetNode",offset:this.transformNode(e.offset)}}transformOnConflict(e){return{kind:"OnConflictNode",columns:this.transformNodeList(e.columns),constraint:this.transformNode(e.constraint),indexExpression:this.transformNode(e.indexExpression),indexWhere:this.transformNode(e.indexWhere),updates:this.transformNodeList(e.updates),updateWhere:this.transformNode(e.updateWhere),doNothing:e.doNothing}}transformOnDuplicateKey(e){return{kind:"OnDuplicateKeyNode",updates:this.transformNodeList(e.updates)}}transformCreateIndex(e){return{kind:"CreateIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists,where:this.transformNode(e.where),nullsNotDistinct:e.nullsNotDistinct}}transformList(e){return{kind:"ListNode",items:this.transformNodeList(e.items)}}transformDropIndex(e){return{kind:"DropIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformPrimaryKeyConstraint(e){return{kind:"PrimaryKeyConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name)}}transformUniqueConstraint(e){return{kind:"UniqueConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name),nullsNotDistinct:e.nullsNotDistinct}}transformForeignKeyConstraint(e){return{kind:"ForeignKeyConstraintNode",columns:this.transformNodeList(e.columns),references:this.transformNode(e.references),name:this.transformNode(e.name),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformSetOperation(e){return{kind:"SetOperationNode",operator:e.operator,expression:this.transformNode(e.expression),all:e.all}}transformReferences(e){return{kind:"ReferencesNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformCheckConstraint(e){return{kind:"CheckConstraintNode",expression:this.transformNode(e.expression),name:this.transformNode(e.name)}}transformWith(e){return{kind:"WithNode",expressions:this.transformNodeList(e.expressions),recursive:e.recursive}}transformCommonTableExpression(e){return{kind:"CommonTableExpressionNode",name:this.transformNode(e.name),materialized:e.materialized,expression:this.transformNode(e.expression)}}transformCommonTableExpressionName(e){return{kind:"CommonTableExpressionNameNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns)}}transformHaving(e){return{kind:"HavingNode",having:this.transformNode(e.having)}}transformCreateSchema(e){return{kind:"CreateSchemaNode",schema:this.transformNode(e.schema),ifNotExists:e.ifNotExists}}transformDropSchema(e){return{kind:"DropSchemaNode",schema:this.transformNode(e.schema),ifExists:e.ifExists,cascade:e.cascade}}transformAlterTable(e){return{kind:"AlterTableNode",table:this.transformNode(e.table),renameTo:this.transformNode(e.renameTo),setSchema:this.transformNode(e.setSchema),columnAlterations:this.transformNodeList(e.columnAlterations),addConstraint:this.transformNode(e.addConstraint),dropConstraint:this.transformNode(e.dropConstraint),addIndex:this.transformNode(e.addIndex),dropIndex:this.transformNode(e.dropIndex)}}transformDropColumn(e){return{kind:"DropColumnNode",column:this.transformNode(e.column)}}transformRenameColumn(e){return{kind:"RenameColumnNode",column:this.transformNode(e.column),renameTo:this.transformNode(e.renameTo)}}transformAlterColumn(e){return{kind:"AlterColumnNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),dataTypeExpression:this.transformNode(e.dataTypeExpression),setDefault:this.transformNode(e.setDefault),dropDefault:e.dropDefault,setNotNull:e.setNotNull,dropNotNull:e.dropNotNull}}transformModifyColumn(e){return{kind:"ModifyColumnNode",column:this.transformNode(e.column)}}transformAddConstraint(e){return{kind:"AddConstraintNode",constraint:this.transformNode(e.constraint)}}transformDropConstraint(e){return{kind:"DropConstraintNode",constraintName:this.transformNode(e.constraintName),ifExists:e.ifExists,modifier:e.modifier}}transformCreateView(e){return{kind:"CreateViewNode",name:this.transformNode(e.name),temporary:e.temporary,orReplace:e.orReplace,ifNotExists:e.ifNotExists,materialized:e.materialized,columns:this.transformNodeList(e.columns),as:this.transformNode(e.as)}}transformDropView(e){return{kind:"DropViewNode",name:this.transformNode(e.name),ifExists:e.ifExists,materialized:e.materialized,cascade:e.cascade}}transformGenerated(e){return{kind:"GeneratedNode",byDefault:e.byDefault,always:e.always,identity:e.identity,stored:e.stored,expression:this.transformNode(e.expression)}}transformDefaultValue(e){return{kind:"DefaultValueNode",defaultValue:this.transformNode(e.defaultValue)}}transformOn(e){return{kind:"OnNode",on:this.transformNode(e.on)}}transformSelectModifier(e){return{kind:"SelectModifierNode",modifier:e.modifier,rawModifier:this.transformNode(e.rawModifier),of:this.transformNodeList(e.of)}}transformCreateType(e){return{kind:"CreateTypeNode",name:this.transformNode(e.name),enum:this.transformNode(e.enum)}}transformDropType(e){return{kind:"DropTypeNode",name:this.transformNode(e.name),ifExists:e.ifExists}}transformExplain(e){return{kind:"ExplainNode",format:e.format,options:this.transformNode(e.options)}}transformSchemableIdentifier(e){return{kind:"SchemableIdentifierNode",schema:this.transformNode(e.schema),identifier:this.transformNode(e.identifier)}}transformAggregateFunction(e){return{kind:"AggregateFunctionNode",aggregated:this.transformNodeList(e.aggregated),distinct:e.distinct,orderBy:this.transformNode(e.orderBy),filter:this.transformNode(e.filter),func:e.func,over:this.transformNode(e.over)}}transformOver(e){return{kind:"OverNode",orderBy:this.transformNode(e.orderBy),partitionBy:this.transformNode(e.partitionBy)}}transformPartitionBy(e){return{kind:"PartitionByNode",items:this.transformNodeList(e.items)}}transformPartitionByItem(e){return{kind:"PartitionByItemNode",partitionBy:this.transformNode(e.partitionBy)}}transformBinaryOperation(e){return{kind:"BinaryOperationNode",leftOperand:this.transformNode(e.leftOperand),operator:this.transformNode(e.operator),rightOperand:this.transformNode(e.rightOperand)}}transformUnaryOperation(e){return{kind:"UnaryOperationNode",operator:this.transformNode(e.operator),operand:this.transformNode(e.operand)}}transformUsing(e){return{kind:"UsingNode",tables:this.transformNodeList(e.tables)}}transformFunction(e){return{kind:"FunctionNode",func:e.func,arguments:this.transformNodeList(e.arguments)}}transformCase(e){return{kind:"CaseNode",value:this.transformNode(e.value),when:this.transformNodeList(e.when),else:this.transformNode(e.else),isStatement:e.isStatement}}transformWhen(e){return{kind:"WhenNode",condition:this.transformNode(e.condition),result:this.transformNode(e.result)}}transformJSONReference(e){return{kind:"JSONReferenceNode",reference:this.transformNode(e.reference),traversal:this.transformNode(e.traversal)}}transformJSONPath(e){return{kind:"JSONPathNode",inOperator:this.transformNode(e.inOperator),pathLegs:this.transformNodeList(e.pathLegs)}}transformJSONPathLeg(e){return{kind:"JSONPathLegNode",type:e.type,value:e.value}}transformJSONOperatorChain(e){return{kind:"JSONOperatorChainNode",operator:this.transformNode(e.operator),values:this.transformNodeList(e.values)}}transformTuple(e){return{kind:"TupleNode",values:this.transformNodeList(e.values)}}transformMergeQuery(e){return{kind:"MergeQueryNode",into:this.transformNode(e.into),using:this.transformNode(e.using),whens:this.transformNodeList(e.whens),with:this.transformNode(e.with),top:this.transformNode(e.top),endModifiers:this.transformNodeList(e.endModifiers),output:this.transformNode(e.output)}}transformMatched(e){return{kind:"MatchedNode",not:e.not,bySource:e.bySource}}transformAddIndex(e){return{kind:"AddIndexNode",name:this.transformNode(e.name),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists}}transformCast(e){return{kind:"CastNode",expression:this.transformNode(e.expression),dataType:this.transformNode(e.dataType)}}transformFetch(e){return{kind:"FetchNode",rowCount:this.transformNode(e.rowCount),modifier:e.modifier}}transformTop(e){return{kind:"TopNode",expression:e.expression,modifiers:e.modifiers}}transformOutput(e){return{kind:"OutputNode",selections:this.transformNodeList(e.selections)}}transformDataType(e){return e}transformSelectAll(e){return e}transformIdentifier(e){return e}transformValue(e){return e}transformPrimitiveValueList(e){return e}transformOperator(e){return e}transformDefaultInsertValue(e){return e}}const n2=A({AlterTableNode:!0,CreateIndexNode:!0,CreateSchemaNode:!0,CreateTableNode:!0,CreateTypeNode:!0,CreateViewNode:!0,DeleteQueryNode:!0,DropIndexNode:!0,DropSchemaNode:!0,DropTableNode:!0,DropTypeNode:!0,DropViewNode:!0,InsertQueryNode:!0,RawNode:!0,SelectQueryNode:!0,UpdateQueryNode:!0,MergeQueryNode:!0});class i2 extends $k{#e;#t=new Set;#r=new Set;constructor(e){super(),this.#e=e}transformNodeImpl(e){if(!this.#n(e))return super.transformNodeImpl(e);const r=this.#s(e);for(const a of r)this.#r.add(a);const n=this.#i(e);for(const a of n)this.#t.add(a);const o=super.transformNodeImpl(e);for(const a of n)this.#t.delete(a);for(const a of r)this.#r.delete(a);return o}transformSchemableIdentifier(e){const r=super.transformSchemableIdentifier(e);return r.schema||!this.#t.has(e.identifier.name)?r:{...r,schema:zr.create(this.#e)}}transformReferences(e){const r=super.transformReferences(e);return r.table.table.schema?r:{...r,table:ca.createWithSchema(this.#e,r.table.table.identifier.name)}}#n(e){return e.kind in n2}#i(e){const r=new Set;if("name"in e&&e.name&&ga.is(e.name)&&this.#a(e.name,r),"from"in e&&e.from)for(const n of e.from.froms)this.#o(n,r);if("into"in e&&e.into&&this.#o(e.into,r),"table"in e&&e.table&&this.#o(e.table,r),"joins"in e&&e.joins)for(const n of e.joins)this.#o(n.table,r);return"using"in e&&e.using&&this.#o(e.using,r),r}#s(e){const r=new Set;return"with"in e&&e.with&&this.#u(e.with,r),r}#o(e,r){const n=ca.is(e)?e:Ea.is(e)&&ca.is(e.node)?e.node:null;n&&this.#a(n.table,r)}#a(e,r){const n=e.identifier.name;!this.#t.has(n)&&!this.#r.has(n)&&r.add(n)}#u(e,r){for(const n of e.expressions){const o=n.name.table.table.identifier.name;this.#r.has(o)||r.add(o)}}}class Kd{#e;constructor(e){this.#e=new i2(e)}transformQuery(e){return this.#e.transformNode(e.node)}async transformResult(e){return e.result}}const s2=A({is(t){return t.kind==="MatchedNode"},create(t,e=!1){return A({kind:"MatchedNode",not:t,bySource:e})}});function IE(t,e,r){return Vd.create(xp([s2.create(!t.isMatched,t.bySource),...e&&e.length>0?[e.length===3&&r?js(e[0],e[1],e[2]):kn(e)]:[]],"and",!1))}function Xc(t){return Oi(t)?An.create([t],[]):hi(t)?t.toOperationNode():t}class RE{#e;#t;#r;constructor(){this.#e=new Promise((e,r)=>{this.#r=r,this.#t=e})}get promise(){return this.#e}resolve=e=>{this.#t&&this.#t(e)};reject=e=>{this.#r&&this.#r(e)}}const AE=new Set;function o2(t){AE.has(t)||(AE.add(t),console.log(t))}const a2=A([]);class zk{#e;constructor(e=a2){this.#e=e}get plugins(){return this.#e}transformQuery(e,r){for(const n of this.#e){const o=n.transformQuery({node:e,queryId:r});if(o.kind===e.kind)e=o;else throw new Error(["KyselyPlugin.transformQuery must return a node","of the same kind that was given to it.",`The plugin was given a ${e.kind}`,`but it returned a ${o.kind}`].join(" "))}return e}async executeQuery(e,r){return await this.provideConnection(async n=>{const o=await n.executeQuery(e),a=await this.#t(o,r);return l2(o,a),a})}async *stream(e,r,n){const o=new RE,a=new RE;this.provideConnection(async c=>(o.resolve(c),await a.promise)).catch(c=>o.reject(c));const l=await o.promise;try{for await(const c of l.streamQuery(e,r))yield await this.#t(c,n)}finally{a.resolve()}}async #t(e,r){for(const n of this.#e)e=await n.transformResult({result:e,queryId:r});return e}}function l2(t,e){const{numAffectedRows:r}=t;r===void 0&&t.numUpdatedOrDeletedRows===void 0||r!==void 0&&e.numAffectedRows!==void 0||o2("kysely:warning: outdated driver/plugin detected! QueryResult.numUpdatedOrDeletedRows is deprecated and will be removed in a future release.")}class su extends zk{get adapter(){throw new Error("this query cannot be compiled to SQL")}compileQuery(){throw new Error("this query cannot be compiled to SQL")}provideConnection(){throw new Error("this query cannot be executed")}withConnectionProvider(){throw new Error("this query cannot have a connection provider")}withPlugin(e){return new su([...this.plugins,e])}withPlugins(e){return new su([...this.plugins,...e])}withPluginAtFront(e){return new su([e,...this.plugins])}withoutPlugins(){return new su([])}}const um=new su;class u2{numChangedRows;constructor(e){this.numChangedRows=e}}class Ya{#e;constructor(e){this.#e=A(e)}modifyEnd(e){return new Ya({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}top(e,r){return new Ya({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,Bu(e,r))})}using(...e){return new Ni({...this.#e,queryNode:oi.cloneWithUsing(this.#e.queryNode,$n("Using",e))})}output(e){return new Ya({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,ds(e))})}outputAll(e){return new Ya({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,Ls(e))})}}sr(Ya,"don't await MergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class Ni{#e;constructor(e){this.#e=A(e)}modifyEnd(e){return new Ni({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}top(e,r){return new Ni({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,Bu(e,r))})}whenMatched(){return this.#t([])}whenMatchedAnd(...e){return this.#t(e)}whenMatchedAndRef(e,r,n){return this.#t([e,r,n],!0)}#t(e,r){return new g_({...this.#e,queryNode:oi.cloneWithWhen(this.#e.queryNode,IE({isMatched:!0},e,r))})}whenNotMatched(){return this.#r([])}whenNotMatchedAnd(...e){return this.#r(e)}whenNotMatchedAndRef(e,r,n){return this.#r([e,r,n],!0)}whenNotMatchedBySource(){return this.#r([],!1,!0)}whenNotMatchedBySourceAnd(...e){return this.#r(e,!1,!0)}whenNotMatchedBySourceAndRef(e,r,n){return this.#r([e,r,n],!0,!0)}output(e){return new Ni({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,ds(e))})}outputAll(e){return new Ni({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,Ls(e))})}#r(e,r=!1,n=!1){const o={...this.#e,queryNode:oi.cloneWithWhen(this.#e.queryNode,IE({isMatched:!1,bySource:n},e,r))},a=n?g_:Uk;return new a(o)}$call(e){return e(this)}$if(e,r){return e?r(this):new Ni({...this.#e})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),r=await this.#e.executor.executeQuery(e,this.#e.queryId);return e.query.output&&this.#e.executor.adapter.supportsOutput?r.rows:[new u2(r.numAffectedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Hd){const r=await this.executeTakeFirst();if(r===void 0)throw Qd(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}}sr(Ni,"don't await WheneableMergeQueryBuilder instances directly. To execute the query you need to call `execute`.");class g_{#e;constructor(e){this.#e=A(e)}thenDelete(){return new Ni({...this.#e,queryNode:oi.cloneWithThen(this.#e.queryNode,Xc("delete"))})}thenDoNothing(){return new Ni({...this.#e,queryNode:oi.cloneWithThen(this.#e.queryNode,Xc("do nothing"))})}thenUpdate(e){return new Ni({...this.#e,queryNode:oi.cloneWithThen(this.#e.queryNode,Xc(e(new Cr({queryId:this.#e.queryId,executor:um,queryNode:yu.createWithoutTable()}))))})}thenUpdateSet(...e){return this.thenUpdate(r=>r.set(...e))}}sr(g_,"don't await MatchedThenableMergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class Uk{#e;constructor(e){this.#e=A(e)}thenDoNothing(){return new Ni({...this.#e,queryNode:oi.cloneWithThen(this.#e.queryNode,Xc("do nothing"))})}thenInsertValues(e){const[r,n]=Dk(e);return new Ni({...this.#e,queryNode:oi.cloneWithThen(this.#e.queryNode,Xc(bi.cloneWith(bi.createWithoutInto(),{columns:r,values:n})))})}}sr(Uk,"don't await NotMatchedThenableMergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class ea{#e;constructor(e){this.#e=A(e)}selectFrom(e){return v_({queryId:kr(),executor:this.#e.executor,queryNode:Er.createFrom(qd(e),this.#e.withNode)})}selectNoFrom(e){return v_({queryId:kr(),executor:this.#e.executor,queryNode:Er.cloneWithSelections(Er.create(this.#e.withNode),ds(e))})}insertInto(e){return new Mr({queryId:kr(),executor:this.#e.executor,queryNode:bi.create(tn(e),this.#e.withNode)})}replaceInto(e){return new Mr({queryId:kr(),executor:this.#e.executor,queryNode:bi.create(tn(e),this.#e.withNode,!0)})}deleteFrom(e){return new Sr({queryId:kr(),executor:this.#e.executor,queryNode:Ka.create(qd(e),this.#e.withNode)})}updateTable(e){return new Cr({queryId:kr(),executor:this.#e.executor,queryNode:yu.create(Cd(e),this.#e.withNode)})}mergeInto(e){return new Ya({queryId:kr(),executor:this.#e.executor,queryNode:oi.create(Zk(e),this.#e.withNode)})}with(e,r){const n=CE(e,r);return new ea({...this.#e,withNode:this.#e.withNode?bh.cloneWithExpression(this.#e.withNode,n):bh.create(n)})}withRecursive(e,r){const n=CE(e,r);return new ea({...this.#e,withNode:this.#e.withNode?bh.cloneWithExpression(this.#e.withNode,n):bh.create(n,{recursive:!0})})}withPlugin(e){return new ea({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new ea({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new ea({...this.#e,executor:this.#e.executor.withPluginAtFront(new Kd(e))})}}function c2(){return new ea({executor:um})}function d2(t,e){return new mu({joinNode:Gc.create(t,Cd(e))})}function f2(){return new Ed({overNode:y_.create()})}function $n(t,e){if(e.length===3)return p2(t,e[0],e[1],e[2]);if(e.length===2)return h2(t,e[0],e[1]);throw new Error("not implemented")}function h2(t,e,r){return r(d2(t,e)).toOperationNode()}function p2(t,e,r,n){return Gc.createWithOn(t,Cd(e),js(r,"=",n))}const m2=A({is(t){return t.kind==="OffsetNode"},create(t){return A({kind:"OffsetNode",offset:t})}}),y2=A({is(t){return t.kind==="GroupByItemNode"},create(t){return A({kind:"GroupByItemNode",groupBy:t})}});function g2(t){return t=Ii(t)?t(Wu()):t,Sd(t).map(y2.create)}const Vk=A({is(t){return t.kind==="SetOperationNode"},create(t,e,r){return A({kind:"SetOperationNode",operator:t,expression:e,all:r})}});function Zl(t,e,r){return Ii(e)&&(e=e(_b())),mo(e)||(e=[e]),e.map(n=>Vk.create(t,_l(n),r))}class Or{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new vb(this,e)}or(...e){return new Np(Mu.create(this.#e,kn(e)))}and(...e){return new kp(va.create(this.#e,kn(e)))}$castTo(){return new Or(this.#e)}$notNull(){return new Or(this.#e)}toOperationNode(){return this.#e}}class vb{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return Ea.create(this.#e.toOperationNode(),hi(this.#t)?this.#t.toOperationNode():zr.create(this.#t))}}class Np{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new vb(this,e)}or(...e){return new Np(Mu.create(this.#e,kn(e)))}$castTo(){return new Np(this.#e)}toOperationNode(){return Ru.create(this.#e)}}class kp{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new vb(this,e)}and(...e){return new kp(va.create(this.#e,kn(e)))}$castTo(){return new kp(this.#e)}toOperationNode(){return Ru.create(this.#e)}}const v2={is(t){return t.kind==="FetchNode"},create(t,e){return{kind:"FetchNode",rowCount:Fs.create(t),modifier:e}}};function _2(t,e){if(!am(t)&&!ub(t))throw new Error(`Invalid fetch row count: ${t}`);if(!b2(e))throw new Error(`Invalid fetch modifier: ${e}`);return v2.create(t,e)}function b2(t){return t==="only"||t==="with ties"}class Vt{#e;constructor(e){this.#e=A(e)}get expressionType(){}get isSelectQueryBuilder(){return!0}where(...e){return new Vt({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,kn(e))})}whereRef(e,r,n){return new Vt({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,js(e,r,n))})}having(...e){return new Vt({...this.#e,queryNode:Er.cloneWithHaving(this.#e.queryNode,kn(e))})}havingRef(e,r,n){return new Vt({...this.#e,queryNode:Er.cloneWithHaving(this.#e.queryNode,js(e,r,n))})}select(e){return new Vt({...this.#e,queryNode:Er.cloneWithSelections(this.#e.queryNode,ds(e))})}distinctOn(e){return new Vt({...this.#e,queryNode:Er.cloneWithDistinctOn(this.#e.queryNode,Sd(e))})}modifyFront(e){return new Vt({...this.#e,queryNode:Er.cloneWithFrontModifier(this.#e.queryNode,to.createWithExpression(e.toOperationNode()))})}modifyEnd(e){return new Vt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,to.createWithExpression(e.toOperationNode()))})}distinct(){return new Vt({...this.#e,queryNode:Er.cloneWithFrontModifier(this.#e.queryNode,to.create("Distinct"))})}forUpdate(e){return new Vt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,to.create("ForUpdate",e?_h(e).map(tn):void 0))})}forShare(e){return new Vt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,to.create("ForShare",e?_h(e).map(tn):void 0))})}forKeyShare(e){return new Vt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,to.create("ForKeyShare",e?_h(e).map(tn):void 0))})}forNoKeyUpdate(e){return new Vt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,to.create("ForNoKeyUpdate",e?_h(e).map(tn):void 0))})}skipLocked(){return new Vt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,to.create("SkipLocked"))})}noWait(){return new Vt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,to.create("NoWait"))})}selectAll(e){return new Vt({...this.#e,queryNode:Er.cloneWithSelections(this.#e.queryNode,Ls(e))})}innerJoin(...e){return new Vt({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,$n("InnerJoin",e))})}leftJoin(...e){return new Vt({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,$n("LeftJoin",e))})}rightJoin(...e){return new Vt({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,$n("RightJoin",e))})}fullJoin(...e){return new Vt({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,$n("FullJoin",e))})}innerJoinLateral(...e){return new Vt({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,$n("LateralInnerJoin",e))})}leftJoinLateral(...e){return new Vt({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,$n("LateralLeftJoin",e))})}orderBy(...e){return new Vt({...this.#e,queryNode:Er.cloneWithOrderByItems(this.#e.queryNode,Ud(e))})}groupBy(e){return new Vt({...this.#e,queryNode:Er.cloneWithGroupByItems(this.#e.queryNode,g2(e))})}limit(e){return new Vt({...this.#e,queryNode:Er.cloneWithLimit(this.#e.queryNode,gb.create(ln(e)))})}offset(e){return new Vt({...this.#e,queryNode:Er.cloneWithOffset(this.#e.queryNode,m2.create(ln(e)))})}fetch(e,r="only"){return new Vt({...this.#e,queryNode:Er.cloneWithFetch(this.#e.queryNode,_2(e,r))})}top(e,r){return new Vt({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,Bu(e,r))})}union(e){return new Vt({...this.#e,queryNode:Er.cloneWithSetOperations(this.#e.queryNode,Zl("union",e,!1))})}unionAll(e){return new Vt({...this.#e,queryNode:Er.cloneWithSetOperations(this.#e.queryNode,Zl("union",e,!0))})}intersect(e){return new Vt({...this.#e,queryNode:Er.cloneWithSetOperations(this.#e.queryNode,Zl("intersect",e,!1))})}intersectAll(e){return new Vt({...this.#e,queryNode:Er.cloneWithSetOperations(this.#e.queryNode,Zl("intersect",e,!0))})}except(e){return new Vt({...this.#e,queryNode:Er.cloneWithSetOperations(this.#e.queryNode,Zl("except",e,!1))})}exceptAll(e){return new Vt({...this.#e,queryNode:Er.cloneWithSetOperations(this.#e.queryNode,Zl("except",e,!0))})}as(e){return new Hk(this,e)}clearSelect(){return new Vt({...this.#e,queryNode:Er.cloneWithoutSelections(this.#e.queryNode)})}clearWhere(){return new Vt({...this.#e,queryNode:Ct.cloneWithoutWhere(this.#e.queryNode)})}clearLimit(){return new Vt({...this.#e,queryNode:Er.cloneWithoutLimit(this.#e.queryNode)})}clearOffset(){return new Vt({...this.#e,queryNode:Er.cloneWithoutOffset(this.#e.queryNode)})}clearOrderBy(){return new Vt({...this.#e,queryNode:Er.cloneWithoutOrderBy(this.#e.queryNode)})}clearGroupBy(){return new Vt({...this.#e,queryNode:Er.cloneWithoutGroupBy(this.#e.queryNode)})}$call(e){return e(this)}$if(e,r){return e?r(this):new Vt({...this.#e})}$castTo(){return new Vt(this.#e)}$narrowType(){return new Vt(this.#e)}$assertType(){return new Vt(this.#e)}$asTuple(){return new Or(this.toOperationNode())}withPlugin(e){return new Vt({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile();return(await this.#e.executor.executeQuery(e,this.#e.queryId)).rows}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Hd){const r=await this.executeTakeFirst();if(r===void 0)throw Qd(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async *stream(e=100){const r=this.compile(),n=this.#e.executor.stream(r,e,this.#e.queryId);for await(const o of n)yield*o.rows}async explain(e,r){return await new Vt({...this.#e,queryNode:Ct.cloneWithExplain(this.#e.queryNode,e,r)}).execute()}}sr(Vt,"don't await SelectQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");function v_(t){return new Vt(t)}class Hk{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}get isAliasedSelectQueryBuilder(){return!0}toOperationNode(){return Ea.create(this.#e.toOperationNode(),zr.create(this.#t))}}sr(Hk,"don't await AliasedSelectQueryBuilder instances directly. AliasedSelectQueryBuilder should never be executed directly since it's always a part of another query.");const ta=A({is(t){return t.kind==="AggregateFunctionNode"},create(t,e=[]){return A({kind:"AggregateFunctionNode",func:t,aggregated:e})},cloneWithDistinct(t){return A({...t,distinct:!0})},cloneWithOrderBy(t,e){return A({...t,orderBy:t.orderBy?ba.cloneWithItems(t.orderBy,e):ba.create(e)})},cloneWithFilter(t,e){return A({...t,filter:t.filter?ii.cloneWithOperation(t.filter,"And",e):ii.create(e)})},cloneWithOrFilter(t,e){return A({...t,filter:t.filter?ii.cloneWithOperation(t.filter,"Or",e):ii.create(e)})},cloneWithOver(t,e){return A({...t,over:e})}}),TE=A({is(t){return t.kind==="FunctionNode"},create(t,e){return A({kind:"FunctionNode",func:t,arguments:e})}});class zi{#e;constructor(e){this.#e=A(e)}get expressionType(){}as(e){return new w2(this,e)}distinct(){return new zi({...this.#e,aggregateFunctionNode:ta.cloneWithDistinct(this.#e.aggregateFunctionNode)})}orderBy(e,r){return new zi({...this.#e,aggregateFunctionNode:ta.cloneWithOrderBy(this.#e.aggregateFunctionNode,Ud([e,r]))})}filterWhere(...e){return new zi({...this.#e,aggregateFunctionNode:ta.cloneWithFilter(this.#e.aggregateFunctionNode,kn(e))})}filterWhereRef(e,r,n){return new zi({...this.#e,aggregateFunctionNode:ta.cloneWithFilter(this.#e.aggregateFunctionNode,js(e,r,n))})}over(e){const r=f2();return new zi({...this.#e,aggregateFunctionNode:ta.cloneWithOver(this.#e.aggregateFunctionNode,(e?e(r):r).toOperationNode())})}$call(e){return e(this)}$castTo(){return new zi(this.#e)}$notNull(){return new zi(this.#e)}toOperationNode(){return this.#e.aggregateFunctionNode}}sr(zi,"don't await AggregateFunctionBuilder instances. They are never executed directly and are always just a part of a query.");class w2{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return Ea.create(this.#e.toOperationNode(),zr.create(this.#t))}}function Qk(){const t=(r,n)=>new Or(TE.create(r,Sd(n??[]))),e=(r,n)=>new zi({aggregateFunctionNode:ta.create(r,n?Sd(n):void 0)});return Object.assign(t,{agg:e,avg(r){return e("avg",[r])},coalesce(...r){return t("coalesce",r)},count(r){return e("count",[r])},countAll(r){return new zi({aggregateFunctionNode:ta.create("count",Ls(r))})},max(r){return e("max",[r])},min(r){return e("min",[r])},sum(r){return e("sum",[r])},any(r){return t("any",[r])},jsonAgg(r){return new zi({aggregateFunctionNode:ta.create("json_agg",[Oi(r)?tn(r):r.toOperationNode()])})},toJson(r){return new Or(TE.create("to_json",[Oi(r)?tn(r):r.toOperationNode()]))}})}const x2=A({is(t){return t.kind==="UnaryOperationNode"},create(t,e){return A({kind:"UnaryOperationNode",operator:t,operand:e})}});function S2(t,e){return x2.create(_a.create(t),Ei(e))}const Cs=A({is(t){return t.kind==="CaseNode"},create(t){return A({kind:"CaseNode",value:t})},cloneWithWhen(t,e){return A({...t,when:A(t.when?[...t.when,e]:[e])})},cloneWithThen(t,e){return A({...t,when:t.when?A([...t.when.slice(0,-1),Vd.cloneWithResult(t.when[t.when.length-1],e)]):void 0})},cloneWith(t,e){return A({...t,...e})}});class Kk{#e;constructor(e){this.#e=A(e)}when(...e){return new Gk({...this.#e,node:Cs.cloneWithWhen(this.#e.node,Vd.create(kn(e)))})}}class Gk{#e;constructor(e){this.#e=A(e)}then(e){return new E2({...this.#e,node:Cs.cloneWithThen(this.#e.node,hb(e)?pb(e):ln(e))})}}class E2{#e;constructor(e){this.#e=A(e)}when(...e){return new Gk({...this.#e,node:Cs.cloneWithWhen(this.#e.node,Vd.create(kn(e)))})}else(e){return new N2({...this.#e,node:Cs.cloneWith(this.#e.node,{else:hb(e)?pb(e):ln(e)})})}end(){return new Or(Cs.cloneWith(this.#e.node,{isStatement:!1}))}endCase(){return new Or(Cs.cloneWith(this.#e.node,{isStatement:!0}))}}class N2{#e;constructor(e){this.#e=A(e)}end(){return new Or(Cs.cloneWith(this.#e.node,{isStatement:!1}))}endCase(){return new Or(Cs.cloneWith(this.#e.node,{isStatement:!0}))}}const PE=A({is(t){return t.kind==="JSONPathLegNode"},create(t,e){return A({kind:"JSONPathLegNode",type:t,value:e})}});class __{#e;constructor(e){this.#e=e}at(e){return this.#t("ArrayLocation",e)}key(e){return this.#t("Member",e)}#t(e,r){return bp.is(this.#e)?new kd(bp.cloneWithTraversal(this.#e,Jc.is(this.#e.traversal)?Jc.cloneWithLeg(this.#e.traversal,PE.create(e,r)):Tk.cloneWithValue(this.#e.traversal,Fs.createImmediate(r)))):new kd(Jc.cloneWithLeg(this.#e,PE.create(e,r)))}}class kd extends __{#e;constructor(e){super(e),this.#e=e}get expressionType(){}as(e){return new k2(this,e)}$castTo(){return new kd(this.#e)}$notNull(){return new kd(this.#e)}toOperationNode(){return this.#e}}class k2{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return Ea.create(this.#e.toOperationNode(),hi(this.#t)?this.#t.toOperationNode():zr.create(this.#t))}}const FE=A({is(t){return t.kind==="TupleNode"},create(t){return A({kind:"TupleNode",values:A(t)})}}),q2=["varchar","char","text","integer","int2","int4","int8","smallint","bigint","boolean","real","double precision","float4","float8","decimal","numeric","binary","bytea","date","datetime","time","timetz","timestamp","timestamptz","serial","bigserial","uuid","json","jsonb","blob","varbinary","int4range","int4multirange","int8range","int8multirange","numrange","nummultirange","tsrange","tsmultirange","tstzrange","tstzmultirange","daterange","datemultirange"],C2=[/^varchar\(\d+\)$/,/^char\(\d+\)$/,/^decimal\(\d+, \d+\)$/,/^numeric\(\d+, \d+\)$/,/^binary\(\d+\)$/,/^datetime\(\d+\)$/,/^time\(\d+\)$/,/^timetz\(\d+\)$/,/^timestamp\(\d+\)$/,/^timestamptz\(\d+\)$/,/^varbinary\(\d+\)$/],O2=A({is(t){return t.kind==="DataTypeNode"},create(t){return A({kind:"DataTypeNode",dataType:t})}});function I2(t){return!!(q2.includes(t)||C2.some(e=>e.test(t)))}function pl(t){if(hi(t))return t.toOperationNode();if(I2(t))return O2.create(t);throw new Error(`invalid column data type ${JSON.stringify(t)}`)}const R2=A({is(t){return t.kind==="CastNode"},create(t,e){return A({kind:"CastNode",expression:t,dataType:e})}});function _b(t=um){function e(o,a,l){return new Or(mb(o,a,l))}function r(o,a){return new Or(S2(o,a))}const n=Object.assign(e,{fn:void 0,eb:void 0,selectFrom(o){return v_({queryId:kr(),executor:t,queryNode:Er.createFrom(qd(o))})},case(o){return new Kk({node:Cs.create(la(o)?void 0:Ei(o))})},ref(o,a){return la(a)?new Or(yo(o)):new __(RL(o,a))},jsonPath(){return new __(Jc.create())},table(o){return new Or(tn(o))},val(o){return new Or(ln(o))},refTuple(...o){return new Or(FE.create(o.map(Ei)))},tuple(...o){return new Or(FE.create(o.map(ln)))},lit(o){return new Or(pb(o))},unary:r,not(o){return r("not",o)},exists(o){return r("exists",o)},neg(o){return r("-",o)},between(o,a,l){return new Or(Iu.create(Ei(o),_a.create("between"),va.create(ln(a),ln(l))))},betweenSymmetric(o,a,l){return new Or(Iu.create(Ei(o),_a.create("between symmetric"),va.create(ln(a),ln(l))))},and(o){return mo(o)?new Or(xp(o,"and")):new Or(gE(o,"and"))},or(o){return mo(o)?new Or(xp(o,"or")):new Or(gE(o,"or"))},parens(...o){const a=kn(o);return Ru.is(a)?new Or(a):new Or(Ru.create(a))},cast(o,a){return new Or(R2.create(Ei(o),pl(a)))},withSchema(o){return _b(t.withPluginAtFront(new Kd(o)))}});return n.fn=Qk(),n.eb=n,n}function Wu(t){return _b()}function _l(t){if(hi(t))return t.toOperationNode();if(Ii(t))return t(Wu()).toOperationNode();throw new Error(`invalid expression: ${JSON.stringify(t)}`)}function Jk(t){if(hi(t))return t.toOperationNode();if(Ii(t))return t(Wu()).toOperationNode();throw new Error(`invalid aliased expression: ${JSON.stringify(t)}`)}function Gd(t){return wL(t)||xL(t)||Ii(t)}function qd(t){return mo(t)?t.map(e=>Cd(e)):[Cd(t)]}function Cd(t){return Oi(t)?Zk(t):Jk(t)}function Zk(t){const e=" as ";if(t.includes(e)){const[r,n]=t.split(e).map(Xk);return Ea.create(tn(r),zr.create(n))}else return tn(t)}function tn(t){const e=".";if(t.includes(e)){const[r,n]=t.split(e).map(Xk);return ca.createWithSchema(r,n)}else return ca.create(t)}function Xk(t){return t.trim()}const Yk=A({is(t){return t.kind==="AddColumnNode"},create(t){return A({kind:"AddColumnNode",column:t})}}),Br=A({is(t){return t.kind==="ColumnDefinitionNode"},create(t,e){return A({kind:"ColumnDefinitionNode",column:on.create(t),dataType:e})},cloneWithFrontModifier(t,e){return A({...t,frontModifiers:t.frontModifiers?A([...t.frontModifiers,e]):[e]})},cloneWithEndModifier(t,e){return A({...t,endModifiers:t.endModifiers?A([...t.endModifiers,e]):[e]})},cloneWith(t,e){return A({...t,...e})}}),e3=A({is(t){return t.kind==="DropColumnNode"},create(t){return A({kind:"DropColumnNode",column:on.create(t)})}}),t3=A({is(t){return t.kind==="RenameColumnNode"},create(t,e){return A({kind:"RenameColumnNode",column:on.create(t),renameTo:on.create(e)})}}),bb=A({is(t){return t.kind==="CheckConstraintNode"},create(t,e){return A({kind:"CheckConstraintNode",expression:t,name:e?zr.create(e):void 0})}}),A2=["no action","restrict","cascade","set null","set default"],Lh=A({is(t){return t.kind==="ReferencesNode"},create(t,e){return A({kind:"ReferencesNode",table:t,columns:A([...e])})},cloneWithOnDelete(t,e){return A({...t,onDelete:e})},cloneWithOnUpdate(t,e){return A({...t,onUpdate:e})}});function r3(t){return hi(t)?t.toOperationNode():Fs.createImmediate(t)}const wh=A({is(t){return t.kind==="GeneratedNode"},create(t){return A({kind:"GeneratedNode",...t})},createWithExpression(t){return A({kind:"GeneratedNode",always:!0,expression:t})},cloneWith(t,e){return A({...t,...e})}}),T2=A({is(t){return t.kind==="DefaultValueNode"},create(t){return A({kind:"DefaultValueNode",defaultValue:t})}});function qp(t){if(A2.includes(t))return t;throw new Error(`invalid OnModifyForeignAction ${t}`)}class Tr{#e;constructor(e){this.#e=e}autoIncrement(){return new Tr(Br.cloneWith(this.#e,{autoIncrement:!0}))}identity(){return new Tr(Br.cloneWith(this.#e,{identity:!0}))}primaryKey(){return new Tr(Br.cloneWith(this.#e,{primaryKey:!0}))}references(e){const r=yo(e);if(!r.table||cb.is(r.column))throw new Error(`invalid call references('${e}'). The reference must have format table.column or schema.table.column`);return new Tr(Br.cloneWith(this.#e,{references:Lh.create(r.table,[r.column])}))}onDelete(e){if(!this.#e.references)throw new Error("on delete constraint can only be added for foreign keys");return new Tr(Br.cloneWith(this.#e,{references:Lh.cloneWithOnDelete(this.#e.references,qp(e))}))}onUpdate(e){if(!this.#e.references)throw new Error("on update constraint can only be added for foreign keys");return new Tr(Br.cloneWith(this.#e,{references:Lh.cloneWithOnUpdate(this.#e.references,qp(e))}))}unique(){return new Tr(Br.cloneWith(this.#e,{unique:!0}))}notNull(){return new Tr(Br.cloneWith(this.#e,{notNull:!0}))}unsigned(){return new Tr(Br.cloneWith(this.#e,{unsigned:!0}))}defaultTo(e){return new Tr(Br.cloneWith(this.#e,{defaultTo:T2.create(r3(e))}))}check(e){return new Tr(Br.cloneWith(this.#e,{check:bb.create(e.toOperationNode())}))}generatedAlwaysAs(e){return new Tr(Br.cloneWith(this.#e,{generated:wh.createWithExpression(e.toOperationNode())}))}generatedAlwaysAsIdentity(){return new Tr(Br.cloneWith(this.#e,{generated:wh.create({identity:!0,always:!0})}))}generatedByDefaultAsIdentity(){return new Tr(Br.cloneWith(this.#e,{generated:wh.create({identity:!0,byDefault:!0})}))}stored(){if(!this.#e.generated)throw new Error("stored() can only be called after generatedAlwaysAs");return new Tr(Br.cloneWith(this.#e,{generated:wh.cloneWith(this.#e.generated,{stored:!0})}))}modifyFront(e){return new Tr(Br.cloneWithFrontModifier(this.#e,e.toOperationNode()))}nullsNotDistinct(){return new Tr(Br.cloneWith(this.#e,{nullsNotDistinct:!0}))}ifNotExists(){return new Tr(Br.cloneWith(this.#e,{ifNotExists:!0}))}modifyEnd(e){return new Tr(Br.cloneWithEndModifier(this.#e,e.toOperationNode()))}$call(e){return e(this)}toOperationNode(){return this.#e}}sr(Tr,"don't await ColumnDefinitionBuilder instances directly.");const n3=A({is(t){return t.kind==="ModifyColumnNode"},create(t){return A({kind:"ModifyColumnNode",column:t})}}),Cp=A({is(t){return t.kind==="ForeignKeyConstraintNode"},create(t,e,r,n){return A({kind:"ForeignKeyConstraintNode",columns:t,references:Lh.create(e,r),name:n?zr.create(n):void 0})},cloneWith(t,e){return A({...t,...e})}});class Au{#e;constructor(e){this.#e=e}onDelete(e){return new Au(Cp.cloneWith(this.#e,{onDelete:qp(e)}))}onUpdate(e){return new Au(Cp.cloneWith(this.#e,{onUpdate:qp(e)}))}$call(e){return e(this)}toOperationNode(){return this.#e}}sr(Au,"don't await ForeignKeyConstraintBuilder instances directly.");const Dh=A({is(t){return t.kind==="AddConstraintNode"},create(t){return A({kind:"AddConstraintNode",constraint:t})}}),wb=A({is(t){return t.kind==="UniqueConstraintNode"},create(t,e,r){return A({kind:"UniqueConstraintNode",columns:A(t.map(on.create)),name:e?zr.create(e):void 0,nullsNotDistinct:r})},cloneWith(t,e){return A({...t,...e})}}),Mh=A({is(t){return t.kind==="DropConstraintNode"},create(t){return A({kind:"DropConstraintNode",constraintName:zr.create(t)})},cloneWith(t,e){return A({...t,...e})}}),Fc=A({is(t){return t.kind==="AlterColumnNode"},create(t,e,r){return A({kind:"AlterColumnNode",column:on.create(t),[e]:r})}});class xb{#e;constructor(e){this.#e=e}setDataType(e){return new tu(Fc.create(this.#e,"dataType",pl(e)))}setDefault(e){return new tu(Fc.create(this.#e,"setDefault",r3(e)))}dropDefault(){return new tu(Fc.create(this.#e,"dropDefault",!0))}setNotNull(){return new tu(Fc.create(this.#e,"setNotNull",!0))}dropNotNull(){return new tu(Fc.create(this.#e,"dropNotNull",!0))}$call(e){return e(this)}}sr(xb,"don't await AlterColumnBuilder instances");class tu{#e;constructor(e){this.#e=e}toOperationNode(){return this.#e}}sr(tu,"don't await AlteredColumnBuilder instances");class Qa{#e;constructor(e){this.#e=A(e)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(Qa,"don't await AlterTableExecutor instances directly. To execute the query you need to call `execute`");class Od{#e;constructor(e){this.#e=A(e)}onDelete(e){return new Od({...this.#e,constraintBuilder:this.#e.constraintBuilder.onDelete(e)})}onUpdate(e){return new Od({...this.#e,constraintBuilder:this.#e.constraintBuilder.onUpdate(e)})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(Nr.cloneWithTableProps(this.#e.node,{addConstraint:Dh.create(this.#e.constraintBuilder.toOperationNode())}),this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(Od,"don't await AlterTableAddForeignKeyConstraintBuilder instances directly. To execute the query you need to call `execute`");class vu{#e;constructor(e){this.#e=A(e)}ifExists(){return new vu({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{dropConstraint:Mh.cloneWith(this.#e.node.dropConstraint,{ifExists:!0})})})}cascade(){return new vu({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{dropConstraint:Mh.cloneWith(this.#e.node.dropConstraint,{modifier:"cascade"})})})}restrict(){return new vu({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{dropConstraint:Mh.cloneWith(this.#e.node.dropConstraint,{modifier:"restrict"})})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(vu,"don't await AlterTableDropConstraintBuilder instances directly. To execute the query you need to call `execute`");const i3=A({is(t){return t.kind==="PrimaryKeyConstraintNode"},create(t,e){return A({kind:"PrimaryKeyConstraintNode",columns:A(t.map(on.create)),name:e?zr.create(e):void 0})}}),ru=A({is(t){return t.kind==="AddIndexNode"},create(t){return A({kind:"AddIndexNode",name:zr.create(t)})},cloneWith(t,e){return A({...t,...e})},cloneWithColumns(t,e){return A({...t,columns:[...t.columns||[],...e]})}});class ra{#e;constructor(e){this.#e=A(e)}unique(){return new ra({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{addIndex:ru.cloneWith(this.#e.node.addIndex,{unique:!0})})})}column(e){return new ra({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{addIndex:ru.cloneWithColumns(this.#e.node.addIndex,[wp(e)])})})}columns(e){return new ra({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{addIndex:ru.cloneWithColumns(this.#e.node.addIndex,e.map(wp))})})}expression(e){return new ra({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{addIndex:ru.cloneWithColumns(this.#e.node.addIndex,[e.toOperationNode()])})})}using(e){return new ra({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{addIndex:ru.cloneWith(this.#e.node.addIndex,{using:An.createWithSql(e)})})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(ra,"don't await AlterTableAddIndexBuilder instances directly. To execute the query you need to call `execute`");class Jd{#e;constructor(e){this.#e=e}toOperationNode(){return this.#e}nullsNotDistinct(){return new Jd(wb.cloneWith(this.#e,{nullsNotDistinct:!0}))}}sr(Jd,"don't await UniqueConstraintNodeBuilder instances directly.");class s3{#e;constructor(e){this.#e=A(e)}renameTo(e){return new Qa({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{renameTo:tn(e)})})}setSchema(e){return new Qa({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{setSchema:zr.create(e)})})}alterColumn(e,r){const n=r(new xb(e));return new Ui({...this.#e,node:Nr.cloneWithColumnAlteration(this.#e.node,n.toOperationNode())})}dropColumn(e){return new Ui({...this.#e,node:Nr.cloneWithColumnAlteration(this.#e.node,e3.create(e))})}renameColumn(e,r){return new Ui({...this.#e,node:Nr.cloneWithColumnAlteration(this.#e.node,t3.create(e,r))})}addColumn(e,r,n=ua){const o=n(new Tr(Br.create(e,pl(r))));return new Ui({...this.#e,node:Nr.cloneWithColumnAlteration(this.#e.node,Yk.create(o.toOperationNode()))})}modifyColumn(e,r,n=ua){const o=n(new Tr(Br.create(e,pl(r))));return new Ui({...this.#e,node:Nr.cloneWithColumnAlteration(this.#e.node,n3.create(o.toOperationNode()))})}addUniqueConstraint(e,r,n=ua){const o=n(new Jd(wb.create(r,e)));return new Qa({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{addConstraint:Dh.create(o.toOperationNode())})})}addCheckConstraint(e,r){return new Qa({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{addConstraint:Dh.create(bb.create(r.toOperationNode(),e))})})}addForeignKeyConstraint(e,r,n,o){return new Od({...this.#e,constraintBuilder:new Au(Cp.create(r.map(on.create),tn(n),o.map(on.create),e))})}addPrimaryKeyConstraint(e,r){return new Qa({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{addConstraint:Dh.create(i3.create(r,e))})})}dropConstraint(e){return new vu({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{dropConstraint:Mh.create(e)})})}addIndex(e){return new ra({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{addIndex:ru.create(e)})})}dropIndex(e){return new Qa({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{dropIndex:Kc.create(e)})})}$call(e){return e(this)}}sr(s3,"don't await AlterTableBuilder instances");class Ui{#e;constructor(e){this.#e=A(e)}alterColumn(e,r){const n=r(new xb(e));return new Ui({...this.#e,node:Nr.cloneWithColumnAlteration(this.#e.node,n.toOperationNode())})}dropColumn(e){return new Ui({...this.#e,node:Nr.cloneWithColumnAlteration(this.#e.node,e3.create(e))})}renameColumn(e,r){return new Ui({...this.#e,node:Nr.cloneWithColumnAlteration(this.#e.node,t3.create(e,r))})}addColumn(e,r,n=ua){const o=n(new Tr(Br.create(e,pl(r))));return new Ui({...this.#e,node:Nr.cloneWithColumnAlteration(this.#e.node,Yk.create(o.toOperationNode()))})}modifyColumn(e,r,n=ua){const o=n(new Tr(Br.create(e,pl(r))));return new Ui({...this.#e,node:Nr.cloneWithColumnAlteration(this.#e.node,n3.create(o.toOperationNode()))})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(Ui,"don't await AlterTableColumnAlteringBuilder instances directly. To execute the query you need to call `execute`");class o3 extends $k{transformValue(e){return{...super.transformValue(e),immediate:!0}}}class Wi{#e;constructor(e){this.#e=A(e)}ifNotExists(){return new Wi({...this.#e,node:io.cloneWith(this.#e.node,{ifNotExists:!0})})}unique(){return new Wi({...this.#e,node:io.cloneWith(this.#e.node,{unique:!0})})}nullsNotDistinct(){return new Wi({...this.#e,node:io.cloneWith(this.#e.node,{nullsNotDistinct:!0})})}on(e){return new Wi({...this.#e,node:io.cloneWith(this.#e.node,{table:tn(e)})})}column(e){return new Wi({...this.#e,node:io.cloneWithColumns(this.#e.node,[wp(e)])})}columns(e){return new Wi({...this.#e,node:io.cloneWithColumns(this.#e.node,e.map(wp))})}expression(e){return new Wi({...this.#e,node:io.cloneWithColumns(this.#e.node,[e.toOperationNode()])})}using(e){return new Wi({...this.#e,node:io.cloneWith(this.#e.node,{using:An.createWithSql(e)})})}where(...e){const r=new o3;return new Wi({...this.#e,node:Ct.cloneWithWhere(this.#e.node,r.transformNode(kn(e)))})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(Wi,"don't await CreateIndexBuilder instances directly. To execute the query you need to call `execute`");class cm{#e;constructor(e){this.#e=A(e)}ifNotExists(){return new cm({...this.#e,node:Ck.cloneWith(this.#e.node,{ifNotExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(cm,"don't await CreateSchemaBuilder instances directly. To execute the query you need to call `execute`");function P2(t){if(bL.includes(t))return t;throw new Error(`invalid OnCommitAction ${t}`)}class ti{#e;constructor(e){this.#e=A(e)}temporary(){return new ti({...this.#e,node:gi.cloneWith(this.#e.node,{temporary:!0})})}onCommit(e){return new ti({...this.#e,node:gi.cloneWith(this.#e.node,{onCommit:P2(e)})})}ifNotExists(){return new ti({...this.#e,node:gi.cloneWith(this.#e.node,{ifNotExists:!0})})}addColumn(e,r,n=ua){const o=n(new Tr(Br.create(e,pl(r))));return new ti({...this.#e,node:gi.cloneWithColumn(this.#e.node,o.toOperationNode())})}addPrimaryKeyConstraint(e,r){return new ti({...this.#e,node:gi.cloneWithConstraint(this.#e.node,i3.create(r,e))})}addUniqueConstraint(e,r,n=ua){const o=n(new Jd(wb.create(r,e)));return new ti({...this.#e,node:gi.cloneWithConstraint(this.#e.node,o.toOperationNode())})}addCheckConstraint(e,r){return new ti({...this.#e,node:gi.cloneWithConstraint(this.#e.node,bb.create(r.toOperationNode(),e))})}addForeignKeyConstraint(e,r,n,o,a=ua){const l=a(new Au(Cp.create(r.map(on.create),tn(n),o.map(on.create),e)));return new ti({...this.#e,node:gi.cloneWithConstraint(this.#e.node,l.toOperationNode())})}modifyFront(e){return new ti({...this.#e,node:gi.cloneWithFrontModifier(this.#e.node,e.toOperationNode())})}modifyEnd(e){return new ti({...this.#e,node:gi.cloneWithEndModifier(this.#e.node,e.toOperationNode())})}as(e){return new ti({...this.#e,node:gi.cloneWith(this.#e.node,{selectQuery:_l(e)})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(ti,"don't await CreateTableBuilder instances directly. To execute the query you need to call `execute`");class _u{#e;constructor(e){this.#e=A(e)}on(e){return new _u({...this.#e,node:Kc.cloneWith(this.#e.node,{table:tn(e)})})}ifExists(){return new _u({...this.#e,node:Kc.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new _u({...this.#e,node:Kc.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(_u,"don't await DropIndexBuilder instances directly. To execute the query you need to call `execute`");class Id{#e;constructor(e){this.#e=A(e)}ifExists(){return new Id({...this.#e,node:f_.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new Id({...this.#e,node:f_.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(Id,"don't await DropSchemaBuilder instances directly. To execute the query you need to call `execute`");class Rd{#e;constructor(e){this.#e=A(e)}ifExists(){return new Rd({...this.#e,node:h_.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new Rd({...this.#e,node:h_.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(Rd,"don't await DropTableBuilder instances directly. To execute the query you need to call `execute`");const Zo=A({is(t){return t.kind==="CreateViewNode"},create(t){return A({kind:"CreateViewNode",name:ga.create(t)})},cloneWith(t,e){return A({...t,...e})}});class F2{#e=new o3;transformQuery(e){return this.#e.transformNode(e.node)}transformResult(e){return Promise.resolve(e.result)}}class ao{#e;constructor(e){this.#e=A(e)}temporary(){return new ao({...this.#e,node:Zo.cloneWith(this.#e.node,{temporary:!0})})}materialized(){return new ao({...this.#e,node:Zo.cloneWith(this.#e.node,{materialized:!0})})}ifNotExists(){return new ao({...this.#e,node:Zo.cloneWith(this.#e.node,{ifNotExists:!0})})}orReplace(){return new ao({...this.#e,node:Zo.cloneWith(this.#e.node,{orReplace:!0})})}columns(e){return new ao({...this.#e,node:Zo.cloneWith(this.#e.node,{columns:e.map(Fk)})})}as(e){const r=e.withPlugin(new F2).toOperationNode();return new ao({...this.#e,node:Zo.cloneWith(this.#e.node,{as:r})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(ao,"don't await CreateViewBuilder instances directly. To execute the query you need to call `execute`");const Bh=A({is(t){return t.kind==="DropViewNode"},create(t){return A({kind:"DropViewNode",name:ga.create(t)})},cloneWith(t,e){return A({...t,...e})}});class bu{#e;constructor(e){this.#e=A(e)}materialized(){return new bu({...this.#e,node:Bh.cloneWith(this.#e.node,{materialized:!0})})}ifExists(){return new bu({...this.#e,node:Bh.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new bu({...this.#e,node:Bh.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(bu,"don't await DropViewBuilder instances directly. To execute the query you need to call `execute`");const a3=A({is(t){return t.kind==="CreateTypeNode"},create(t){return A({kind:"CreateTypeNode",name:t})},cloneWithEnum(t,e){return A({...t,enum:fb.create(e.map(r=>Fs.createImmediate(r)))})}});class dm{#e;constructor(e){this.#e=A(e)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}asEnum(e){return new dm({...this.#e,node:a3.cloneWithEnum(this.#e.node,e)})}$call(e){return e(this)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(dm,"don't await CreateTypeBuilder instances directly. To execute the query you need to call `execute`");const l3=A({is(t){return t.kind==="DropTypeNode"},create(t){return A({kind:"DropTypeNode",name:t})},cloneWith(t,e){return A({...t,...e})}});class fm{#e;constructor(e){this.#e=A(e)}ifExists(){return new fm({...this.#e,node:l3.cloneWith(this.#e.node,{ifExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(fm,"don't await DropTypeBuilder instances directly. To execute the query you need to call `execute`");function jE(t){const e=".";if(t.includes(e)){const r=t.split(e).map(j2);if(r.length===2)return ga.createWithSchema(r[0],r[1]);throw new Error(`invalid schemable identifier ${t}`)}else return ga.create(t)}function j2(t){return t.trim()}class Yc{#e;constructor(e){this.#e=e}createTable(e){return new ti({queryId:kr(),executor:this.#e,node:gi.create(tn(e))})}dropTable(e){return new Rd({queryId:kr(),executor:this.#e,node:h_.create(tn(e))})}createIndex(e){return new Wi({queryId:kr(),executor:this.#e,node:io.create(e)})}dropIndex(e){return new _u({queryId:kr(),executor:this.#e,node:Kc.create(e)})}createSchema(e){return new cm({queryId:kr(),executor:this.#e,node:Ck.create(e)})}dropSchema(e){return new Id({queryId:kr(),executor:this.#e,node:f_.create(e)})}alterTable(e){return new s3({queryId:kr(),executor:this.#e,node:Nr.create(tn(e))})}createView(e){return new ao({queryId:kr(),executor:this.#e,node:Zo.create(e)})}dropView(e){return new bu({queryId:kr(),executor:this.#e,node:Bh.create(e)})}createType(e){return new dm({queryId:kr(),executor:this.#e,node:a3.create(jE(e))})}dropType(e){return new fm({queryId:kr(),executor:this.#e,node:l3.create(jE(e))})}withPlugin(e){return new Yc(this.#e.withPlugin(e))}withoutPlugins(){return new Yc(this.#e.withoutPlugins())}withSchema(e){return new Yc(this.#e.withPluginAtFront(new Kd(e)))}}class L2{ref(e){return new OL(e)}}class D2{#e;constructor(e){this.#e=e}async provideConnection(e){const r=await this.#e.acquireConnection();try{return await e(r)}finally{await this.#e.releaseConnection(r)}}}class Ga extends zk{#e;#t;#r;constructor(e,r,n,o=[]){super(o),this.#e=e,this.#t=r,this.#r=n}get adapter(){return this.#t}compileQuery(e){return this.#e.compileQuery(e)}provideConnection(e){return this.#r.provideConnection(e)}withPlugins(e){return new Ga(this.#e,this.#t,this.#r,[...this.plugins,...e])}withPlugin(e){return new Ga(this.#e,this.#t,this.#r,[...this.plugins,e])}withPluginAtFront(e){return new Ga(this.#e,this.#t,this.#r,[e,...this.plugins])}withConnectionProvider(e){return new Ga(this.#e,this.#t,e,[...this.plugins])}withoutPlugins(){return new Ga(this.#e,this.#t,this.#r,[])}}function LE(){return typeof performance<"u"&&Ii(performance.now)?performance.now():Date.now()}class M2{#e;#t;#r;#n;#i;#s=new WeakSet;constructor(e,r){this.#n=!1,this.#e=e,this.#t=r}async init(){if(this.#i)throw new Error("driver has already been destroyed");this.#r||(this.#r=this.#e.init().then(()=>{this.#n=!0}).catch(e=>(this.#r=void 0,Promise.reject(e)))),await this.#r}async acquireConnection(){if(this.#i)throw new Error("driver has already been destroyed");this.#n||await this.init();const e=await this.#e.acquireConnection();return this.#s.has(e)||(this.#o()&&this.#a(e),this.#s.add(e)),e}async releaseConnection(e){await this.#e.releaseConnection(e)}beginTransaction(e,r){return this.#e.beginTransaction(e,r)}commitTransaction(e){return this.#e.commitTransaction(e)}rollbackTransaction(e){return this.#e.rollbackTransaction(e)}async destroy(){this.#r&&(await this.#r,this.#i||(this.#i=this.#e.destroy().catch(e=>(this.#i=void 0,Promise.reject(e)))),await this.#i)}#o(){return this.#t.isLevelEnabled("query")||this.#t.isLevelEnabled("error")}#a(e){const r=e.executeQuery;e.executeQuery=async n=>{let o;const a=LE();try{return await r.call(e,n)}catch(l){throw o=l,await this.#u(l,n,a),l}finally{o||await this.#l(n,a)}}}async #u(e,r,n){await this.#t.error(()=>({level:"error",error:e,query:r,queryDurationMillis:this.#c(n)}))}async #l(e,r){await this.#t.query(()=>({level:"query",query:e,queryDurationMillis:this.#c(r)}))}#c(e){return LE()-e}}const B2=()=>{};class u3{#e;#t;constructor(e){this.#e=e}async provideConnection(e){for(;this.#t;)await this.#t.catch(B2);return this.#t=this.#r(e).finally(()=>{this.#t=void 0}),this.#t}async #r(e){return await e(this.#e)}}const W2=["read uncommitted","read committed","repeatable read","serializable","snapshot"];A(["query","error"]);class $2{#e;#t;constructor(e){Ii(e)?(this.#t=e,this.#e=A({query:!0,error:!0})):(this.#t=z2,this.#e=A({query:e.includes("query"),error:e.includes("error")}))}isLevelEnabled(e){return this.#e[e]}async query(e){this.#e.query&&await this.#t(e())}async error(e){this.#e.error&&await this.#t(e())}}function z2(t){t.level==="query"?(console.log(`kysely:query: ${t.query.sql}`),console.log(`kysely:query: duration: ${t.queryDurationMillis.toFixed(1)}ms`)):t.level==="error"&&(t.error instanceof Error?console.error(`kysely:error: ${t.error.stack??t.error.message}`):console.error(`kysely:error: ${JSON.stringify({error:t.error,query:t.query.sql,queryDurationMillis:t.queryDurationMillis})}`))}function U2(t){return ks(t)&&Ii(t.compile)}class ia extends ea{#e;constructor(e){let r,n;if(V2(e))r={executor:e.executor},n={...e};else{const o=e.dialect,a=o.createDriver(),l=o.createQueryCompiler(),c=o.createAdapter(),h=new $2(e.log??[]),m=new M2(a,h),g=new D2(m),x=new Ga(l,c,g,e.plugins??[]);r={executor:x},n={config:e,executor:x,dialect:o,driver:m}}super(r),this.#e=A(n)}get schema(){return new Yc(this.#e.executor)}get dynamic(){return new L2}get introspection(){return this.#e.dialect.createIntrospector(this.withoutPlugins())}case(e){return new Kk({node:Cs.create(la(e)?void 0:_l(e))})}get fn(){return Qk()}transaction(){return new hm({...this.#e})}connection(){return new c3({...this.#e})}withPlugin(e){return new ia({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new ia({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new ia({...this.#e,executor:this.#e.executor.withPluginAtFront(new Kd(e))})}withTables(){return new ia({...this.#e})}async destroy(){await this.#e.driver.destroy()}get isTransaction(){return!1}getExecutor(){return this.#e.executor}executeQuery(e,r=kr()){const n=U2(e)?e.compile():e;return this.getExecutor().executeQuery(n,r)}}class ou extends ia{#e;constructor(e){super(e),this.#e=e}get isTransaction(){return!0}transaction(){throw new Error("calling the transaction method for a Transaction is not supported")}connection(){throw new Error("calling the connection method for a Transaction is not supported")}async destroy(){throw new Error("calling the destroy method for a Transaction is not supported")}withPlugin(e){return new ou({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new ou({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new ou({...this.#e,executor:this.#e.executor.withPluginAtFront(new Kd(e))})}withTables(){return new ou({...this.#e})}}function V2(t){return ks(t)&&ks(t.config)&&ks(t.driver)&&ks(t.executor)&&ks(t.dialect)}class c3{#e;constructor(e){this.#e=A(e)}async execute(e){return this.#e.executor.provideConnection(async r=>{const n=this.#e.executor.withConnectionProvider(new u3(r)),o=new ia({...this.#e,executor:n});return await e(o)})}}sr(c3,"don't await ConnectionBuilder instances directly. To execute the query you need to call the `execute` method");class hm{#e;constructor(e){this.#e=A(e)}setIsolationLevel(e){return new hm({...this.#e,isolationLevel:e})}async execute(e){const{isolationLevel:r,...n}=this.#e,o={isolationLevel:r};return H2(o),this.#e.executor.provideConnection(async a=>{const l=this.#e.executor.withConnectionProvider(new u3(a)),c=new ou({...n,executor:l});try{await this.#e.driver.beginTransaction(a,o);const h=await e(c);return await this.#e.driver.commitTransaction(a),h}catch(h){throw await this.#e.driver.rollbackTransaction(a),h}})}}sr(hm,"don't await TransactionBuilder instances directly. To execute the transaction you need to call the `execute` method");function H2(t){if(t.isolationLevel&&!W2.includes(t.isolationLevel))throw new Error(`invalid transaction isolation level ${t.isolationLevel}`)}class wu{#e;constructor(e){this.#e=A(e)}get expressionType(){}get isRawBuilder(){return!0}as(e){return new d3(this,e)}$castTo(){return new wu({...this.#e})}$notNull(){return new wu(this.#e)}withPlugin(e){return new wu({...this.#e,plugins:this.#e.plugins!==void 0?A([...this.#e.plugins,e]):A([e])})}toOperationNode(){return this.#r(this.#t())}compile(e){return this.#n(this.#t(e))}async execute(e){const r=this.#t(e);return r.executeQuery(this.#n(r),this.#e.queryId)}#t(e){const r=e!==void 0?e.getExecutor():um;return this.#e.plugins!==void 0?r.withPlugins(this.#e.plugins):r}#r(e){return e.transformQuery(this.#e.rawNode,this.#e.queryId)}#n(e){return e.compileQuery(this.#r(e),this.#e.queryId)}}function Jo(t){return new wu(t)}sr(wu,"don't await RawBuilder instances directly. To execute the query you need to call `execute`");class d3{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}get rawBuilder(){return this.#e}toOperationNode(){return Ea.create(this.#e.toOperationNode(),hi(this.#t)?this.#t.toOperationNode():zr.create(this.#t))}}sr(d3,"don't await AliasedRawBuilder instances directly. AliasedRawBuilder should never be executed directly since it's always a part of another query.");const f3=Object.assign((t,...e)=>Jo({queryId:kr(),rawNode:An.create(t,e?.map(DE)??[])}),{ref(t){return Jo({queryId:kr(),rawNode:An.createWithChild(yo(t))})},val(t){return Jo({queryId:kr(),rawNode:An.createWithChild(ln(t))})},value(t){return this.val(t)},table(t){return Jo({queryId:kr(),rawNode:An.createWithChild(tn(t))})},id(...t){const e=new Array(t.length+1).fill(".");return e[0]="",e[e.length-1]="",Jo({queryId:kr(),rawNode:An.create(e,t.map(zr.create))})},lit(t){return Jo({queryId:kr(),rawNode:An.createWithChild(Fs.createImmediate(t))})},literal(t){return this.lit(t)},raw(t){return Jo({queryId:kr(),rawNode:An.createWithSql(t)})},join(t,e=f3`, `){const r=new Array(2*t.length-1),n=e.toOperationNode();for(let o=0;o<t.length;++o)r[2*o]=DE(t[o]),o!==t.length-1&&(r[2*o+1]=n);return Jo({queryId:kr(),rawNode:An.createWithChildren(r)})}});function DE(t){return hi(t)?t.toOperationNode():ln(t)}class Q2{nodeStack=[];get parentNode(){return this.nodeStack[this.nodeStack.length-2]}#e=A({AliasNode:this.visitAlias.bind(this),ColumnNode:this.visitColumn.bind(this),IdentifierNode:this.visitIdentifier.bind(this),SchemableIdentifierNode:this.visitSchemableIdentifier.bind(this),RawNode:this.visitRaw.bind(this),ReferenceNode:this.visitReference.bind(this),SelectQueryNode:this.visitSelectQuery.bind(this),SelectionNode:this.visitSelection.bind(this),TableNode:this.visitTable.bind(this),FromNode:this.visitFrom.bind(this),SelectAllNode:this.visitSelectAll.bind(this),AndNode:this.visitAnd.bind(this),OrNode:this.visitOr.bind(this),ValueNode:this.visitValue.bind(this),ValueListNode:this.visitValueList.bind(this),PrimitiveValueListNode:this.visitPrimitiveValueList.bind(this),ParensNode:this.visitParens.bind(this),JoinNode:this.visitJoin.bind(this),OperatorNode:this.visitOperator.bind(this),WhereNode:this.visitWhere.bind(this),InsertQueryNode:this.visitInsertQuery.bind(this),DeleteQueryNode:this.visitDeleteQuery.bind(this),ReturningNode:this.visitReturning.bind(this),CreateTableNode:this.visitCreateTable.bind(this),AddColumnNode:this.visitAddColumn.bind(this),ColumnDefinitionNode:this.visitColumnDefinition.bind(this),DropTableNode:this.visitDropTable.bind(this),DataTypeNode:this.visitDataType.bind(this),OrderByNode:this.visitOrderBy.bind(this),OrderByItemNode:this.visitOrderByItem.bind(this),GroupByNode:this.visitGroupBy.bind(this),GroupByItemNode:this.visitGroupByItem.bind(this),UpdateQueryNode:this.visitUpdateQuery.bind(this),ColumnUpdateNode:this.visitColumnUpdate.bind(this),LimitNode:this.visitLimit.bind(this),OffsetNode:this.visitOffset.bind(this),OnConflictNode:this.visitOnConflict.bind(this),OnDuplicateKeyNode:this.visitOnDuplicateKey.bind(this),CreateIndexNode:this.visitCreateIndex.bind(this),DropIndexNode:this.visitDropIndex.bind(this),ListNode:this.visitList.bind(this),PrimaryKeyConstraintNode:this.visitPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.visitUniqueConstraint.bind(this),ReferencesNode:this.visitReferences.bind(this),CheckConstraintNode:this.visitCheckConstraint.bind(this),WithNode:this.visitWith.bind(this),CommonTableExpressionNode:this.visitCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.visitCommonTableExpressionName.bind(this),HavingNode:this.visitHaving.bind(this),CreateSchemaNode:this.visitCreateSchema.bind(this),DropSchemaNode:this.visitDropSchema.bind(this),AlterTableNode:this.visitAlterTable.bind(this),DropColumnNode:this.visitDropColumn.bind(this),RenameColumnNode:this.visitRenameColumn.bind(this),AlterColumnNode:this.visitAlterColumn.bind(this),ModifyColumnNode:this.visitModifyColumn.bind(this),AddConstraintNode:this.visitAddConstraint.bind(this),DropConstraintNode:this.visitDropConstraint.bind(this),ForeignKeyConstraintNode:this.visitForeignKeyConstraint.bind(this),CreateViewNode:this.visitCreateView.bind(this),DropViewNode:this.visitDropView.bind(this),GeneratedNode:this.visitGenerated.bind(this),DefaultValueNode:this.visitDefaultValue.bind(this),OnNode:this.visitOn.bind(this),ValuesNode:this.visitValues.bind(this),SelectModifierNode:this.visitSelectModifier.bind(this),CreateTypeNode:this.visitCreateType.bind(this),DropTypeNode:this.visitDropType.bind(this),ExplainNode:this.visitExplain.bind(this),DefaultInsertValueNode:this.visitDefaultInsertValue.bind(this),AggregateFunctionNode:this.visitAggregateFunction.bind(this),OverNode:this.visitOver.bind(this),PartitionByNode:this.visitPartitionBy.bind(this),PartitionByItemNode:this.visitPartitionByItem.bind(this),SetOperationNode:this.visitSetOperation.bind(this),BinaryOperationNode:this.visitBinaryOperation.bind(this),UnaryOperationNode:this.visitUnaryOperation.bind(this),UsingNode:this.visitUsing.bind(this),FunctionNode:this.visitFunction.bind(this),CaseNode:this.visitCase.bind(this),WhenNode:this.visitWhen.bind(this),JSONReferenceNode:this.visitJSONReference.bind(this),JSONPathNode:this.visitJSONPath.bind(this),JSONPathLegNode:this.visitJSONPathLeg.bind(this),JSONOperatorChainNode:this.visitJSONOperatorChain.bind(this),TupleNode:this.visitTuple.bind(this),MergeQueryNode:this.visitMergeQuery.bind(this),MatchedNode:this.visitMatched.bind(this),AddIndexNode:this.visitAddIndex.bind(this),CastNode:this.visitCast.bind(this),FetchNode:this.visitFetch.bind(this),TopNode:this.visitTop.bind(this),OutputNode:this.visitOutput.bind(this)});visitNode=e=>{this.nodeStack.push(e),this.#e[e.kind](e),this.nodeStack.pop()}}class K2 extends Q2{#e="";#t=[];get numParameters(){return this.#t.length}compileQuery(e){return this.#e="",this.#t=[],this.nodeStack.splice(0,this.nodeStack.length),this.visitNode(e),A({query:e,sql:this.getSql(),parameters:[...this.#t]})}getSql(){return this.#e}visitSelectQuery(e){const r=this.parentNode!==void 0&&!Ru.is(this.parentNode)&&!bi.is(this.parentNode)&&!gi.is(this.parentNode)&&!Zo.is(this.parentNode)&&!Vk.is(this.parentNode);this.parentNode===void 0&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("select"),e.distinctOn&&(this.append(" "),this.compileDistinctOn(e.distinctOn)),e.frontModifiers?.length&&(this.append(" "),this.compileList(e.frontModifiers," ")),e.top&&(this.append(" "),this.visitNode(e.top)),e.selections&&(this.append(" "),this.compileList(e.selections)),e.from&&(this.append(" "),this.visitNode(e.from)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.groupBy&&(this.append(" "),this.visitNode(e.groupBy)),e.having&&(this.append(" "),this.visitNode(e.having)),e.setOperations&&(this.append(" "),this.compileList(e.setOperations," ")),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.offset&&(this.append(" "),this.visitNode(e.offset)),e.fetch&&(this.append(" "),this.visitNode(e.fetch)),e.endModifiers?.length&&(this.append(" "),this.compileList(this.sortSelectModifiers([...e.endModifiers])," ")),r&&this.append(")")}visitFrom(e){this.append("from "),this.compileList(e.froms)}visitSelection(e){this.visitNode(e.selection)}visitColumn(e){this.visitNode(e.column)}compileDistinctOn(e){this.append("distinct on ("),this.compileList(e),this.append(")")}compileList(e,r=", "){const n=e.length-1;for(let o=0;o<=n;o++)this.visitNode(e[o]),o<n&&this.append(r)}visitWhere(e){this.append("where "),this.visitNode(e.where)}visitHaving(e){this.append("having "),this.visitNode(e.having)}visitInsertQuery(e){const r=this.nodeStack.find(Ct.is),n=r!==e;!n&&e.explain&&(this.visitNode(e.explain),this.append(" ")),n&&!oi.is(r)&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append(e.replace?"replace":"insert"),e.ignore&&this.append(" ignore"),e.top&&(this.append(" "),this.visitNode(e.top)),e.into&&(this.append(" into "),this.visitNode(e.into)),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.output&&(this.append(" "),this.visitNode(e.output)),e.values&&(this.append(" "),this.visitNode(e.values)),e.defaultValues&&(this.append(" "),this.append("default values")),e.onConflict&&(this.append(" "),this.visitNode(e.onConflict)),e.onDuplicateKey&&(this.append(" "),this.visitNode(e.onDuplicateKey)),e.returning&&(this.append(" "),this.visitNode(e.returning)),n&&!oi.is(r)&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitValues(e){this.append("values "),this.compileList(e.values)}visitDeleteQuery(e){const r=this.nodeStack.find(Ct.is)!==e;!r&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("delete "),e.top&&(this.visitNode(e.top),this.append(" ")),this.visitNode(e.from),e.output&&(this.append(" "),this.visitNode(e.output)),e.using&&(this.append(" "),this.visitNode(e.using)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.returning&&(this.append(" "),this.visitNode(e.returning)),r&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitReturning(e){this.append("returning "),this.compileList(e.selections)}visitAlias(e){this.visitNode(e.node),this.append(" as "),this.visitNode(e.alias)}visitReference(e){e.table&&(this.visitNode(e.table),this.append(".")),this.visitNode(e.column)}visitSelectAll(e){this.append("*")}visitIdentifier(e){this.append(this.getLeftIdentifierWrapper()),this.compileUnwrappedIdentifier(e),this.append(this.getRightIdentifierWrapper())}compileUnwrappedIdentifier(e){if(!Oi(e.name))throw new Error("a non-string identifier was passed to compileUnwrappedIdentifier.");this.append(this.sanitizeIdentifier(e.name))}visitAnd(e){this.visitNode(e.left),this.append(" and "),this.visitNode(e.right)}visitOr(e){this.visitNode(e.left),this.append(" or "),this.visitNode(e.right)}visitValue(e){e.immediate?this.appendImmediateValue(e.value):this.appendValue(e.value)}visitValueList(e){this.append("("),this.compileList(e.values),this.append(")")}visitTuple(e){this.append("("),this.compileList(e.values),this.append(")")}visitPrimitiveValueList(e){this.append("(");const{values:r}=e;for(let n=0;n<r.length;++n)this.appendValue(r[n]),n!==r.length-1&&this.append(", ");this.append(")")}visitParens(e){this.append("("),this.visitNode(e.node),this.append(")")}visitJoin(e){this.append(J2[e.joinType]),this.append(" "),this.visitNode(e.table),e.on&&(this.append(" "),this.visitNode(e.on))}visitOn(e){this.append("on "),this.visitNode(e.on)}visitRaw(e){const{sqlFragments:r,parameters:n}=e;for(let o=0;o<r.length;++o)this.append(r[o]),n.length>o&&this.visitNode(n[o])}visitOperator(e){this.append(e.operator)}visitTable(e){this.visitNode(e.table)}visitSchemableIdentifier(e){e.schema&&(this.visitNode(e.schema),this.append(".")),this.visitNode(e.identifier)}visitCreateTable(e){this.append("create "),e.frontModifiers&&e.frontModifiers.length>0&&(this.compileList(e.frontModifiers," "),this.append(" ")),e.temporary&&this.append("temporary "),this.append("table "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.table),e.selectQuery?(this.append(" as "),this.visitNode(e.selectQuery)):(this.append(" ("),this.compileList([...e.columns,...e.constraints??[]]),this.append(")"),e.onCommit&&(this.append(" on commit "),this.append(e.onCommit)),e.endModifiers&&e.endModifiers.length>0&&(this.append(" "),this.compileList(e.endModifiers," ")))}visitColumnDefinition(e){e.ifNotExists&&this.append("if not exists "),this.visitNode(e.column),this.append(" "),this.visitNode(e.dataType),e.unsigned&&this.append(" unsigned"),e.frontModifiers&&e.frontModifiers.length>0&&(this.append(" "),this.compileList(e.frontModifiers," ")),e.generated&&(this.append(" "),this.visitNode(e.generated)),e.identity&&this.append(" identity"),e.defaultTo&&(this.append(" "),this.visitNode(e.defaultTo)),e.notNull&&this.append(" not null"),e.unique&&this.append(" unique"),e.nullsNotDistinct&&this.append(" nulls not distinct"),e.primaryKey&&this.append(" primary key"),e.autoIncrement&&(this.append(" "),this.append(this.getAutoIncrement())),e.references&&(this.append(" "),this.visitNode(e.references)),e.check&&(this.append(" "),this.visitNode(e.check)),e.endModifiers&&e.endModifiers.length>0&&(this.append(" "),this.compileList(e.endModifiers," "))}getAutoIncrement(){return"auto_increment"}visitReferences(e){this.append("references "),this.visitNode(e.table),this.append(" ("),this.compileList(e.columns),this.append(")"),e.onDelete&&(this.append(" on delete "),this.append(e.onDelete)),e.onUpdate&&(this.append(" on update "),this.append(e.onUpdate))}visitDropTable(e){this.append("drop table "),e.ifExists&&this.append("if exists "),this.visitNode(e.table),e.cascade&&this.append(" cascade")}visitDataType(e){this.append(e.dataType)}visitOrderBy(e){this.append("order by "),this.compileList(e.items)}visitOrderByItem(e){this.visitNode(e.orderBy),e.direction&&(this.append(" "),this.visitNode(e.direction))}visitGroupBy(e){this.append("group by "),this.compileList(e.items)}visitGroupByItem(e){this.visitNode(e.groupBy)}visitUpdateQuery(e){const r=this.nodeStack.find(Ct.is),n=r!==e;!n&&e.explain&&(this.visitNode(e.explain),this.append(" ")),n&&!oi.is(r)&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("update "),e.top&&(this.visitNode(e.top),this.append(" ")),e.table&&(this.visitNode(e.table),this.append(" ")),this.append("set "),e.updates&&this.compileList(e.updates),e.output&&(this.append(" "),this.visitNode(e.output)),e.from&&(this.append(" "),this.visitNode(e.from)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.returning&&(this.append(" "),this.visitNode(e.returning)),n&&!oi.is(r)&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitColumnUpdate(e){this.visitNode(e.column),this.append(" = "),this.visitNode(e.value)}visitLimit(e){this.append("limit "),this.visitNode(e.limit)}visitOffset(e){this.append("offset "),this.visitNode(e.offset)}visitOnConflict(e){this.append("on conflict"),e.columns?(this.append(" ("),this.compileList(e.columns),this.append(")")):e.constraint?(this.append(" on constraint "),this.visitNode(e.constraint)):e.indexExpression&&(this.append(" ("),this.visitNode(e.indexExpression),this.append(")")),e.indexWhere&&(this.append(" "),this.visitNode(e.indexWhere)),e.doNothing===!0?this.append(" do nothing"):e.updates&&(this.append(" do update set "),this.compileList(e.updates),e.updateWhere&&(this.append(" "),this.visitNode(e.updateWhere)))}visitOnDuplicateKey(e){this.append("on duplicate key update "),this.compileList(e.updates)}visitCreateIndex(e){this.append("create "),e.unique&&this.append("unique "),this.append("index "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),e.table&&(this.append(" on "),this.visitNode(e.table)),e.using&&(this.append(" using "),this.visitNode(e.using)),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.nullsNotDistinct&&this.append(" nulls not distinct"),e.where&&(this.append(" "),this.visitNode(e.where))}visitDropIndex(e){this.append("drop index "),e.ifExists&&this.append("if exists "),this.visitNode(e.name),e.table&&(this.append(" on "),this.visitNode(e.table)),e.cascade&&this.append(" cascade")}visitCreateSchema(e){this.append("create schema "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.schema)}visitDropSchema(e){this.append("drop schema "),e.ifExists&&this.append("if exists "),this.visitNode(e.schema),e.cascade&&this.append(" cascade")}visitPrimaryKeyConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("primary key ("),this.compileList(e.columns),this.append(")")}visitUniqueConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("unique"),e.nullsNotDistinct&&this.append(" nulls not distinct"),this.append(" ("),this.compileList(e.columns),this.append(")")}visitCheckConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("check ("),this.visitNode(e.expression),this.append(")")}visitForeignKeyConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("foreign key ("),this.compileList(e.columns),this.append(") "),this.visitNode(e.references),e.onDelete&&(this.append(" on delete "),this.append(e.onDelete)),e.onUpdate&&(this.append(" on update "),this.append(e.onUpdate))}visitList(e){this.compileList(e.items)}visitWith(e){this.append("with "),e.recursive&&this.append("recursive "),this.compileList(e.expressions)}visitCommonTableExpression(e){this.visitNode(e.name),this.append(" as "),_p(e.materialized)&&(e.materialized||this.append("not "),this.append("materialized ")),this.visitNode(e.expression)}visitCommonTableExpressionName(e){this.visitNode(e.table),e.columns&&(this.append("("),this.compileList(e.columns),this.append(")"))}visitAlterTable(e){this.append("alter table "),this.visitNode(e.table),this.append(" "),e.renameTo&&(this.append("rename to "),this.visitNode(e.renameTo)),e.setSchema&&(this.append("set schema "),this.visitNode(e.setSchema)),e.addConstraint&&this.visitNode(e.addConstraint),e.dropConstraint&&this.visitNode(e.dropConstraint),e.columnAlterations&&this.compileColumnAlterations(e.columnAlterations),e.addIndex&&this.visitNode(e.addIndex),e.dropIndex&&this.visitNode(e.dropIndex)}visitAddColumn(e){this.append("add column "),this.visitNode(e.column)}visitRenameColumn(e){this.append("rename column "),this.visitNode(e.column),this.append(" to "),this.visitNode(e.renameTo)}visitDropColumn(e){this.append("drop column "),this.visitNode(e.column)}visitAlterColumn(e){this.append("alter column "),this.visitNode(e.column),this.append(" "),e.dataType&&(this.announcesNewColumnDataType()&&this.append("type "),this.visitNode(e.dataType),e.dataTypeExpression&&(this.append("using "),this.visitNode(e.dataTypeExpression))),e.setDefault&&(this.append("set default "),this.visitNode(e.setDefault)),e.dropDefault&&this.append("drop default"),e.setNotNull&&this.append("set not null"),e.dropNotNull&&this.append("drop not null")}visitModifyColumn(e){this.append("modify column "),this.visitNode(e.column)}visitAddConstraint(e){this.append("add "),this.visitNode(e.constraint)}visitDropConstraint(e){this.append("drop constraint "),e.ifExists&&this.append("if exists "),this.visitNode(e.constraintName),e.modifier==="cascade"?this.append(" cascade"):e.modifier==="restrict"&&this.append(" restrict")}visitSetOperation(e){this.append(e.operator),this.append(" "),e.all&&this.append("all "),this.visitNode(e.expression)}visitCreateView(e){this.append("create "),e.orReplace&&this.append("or replace "),e.materialized&&this.append("materialized "),e.temporary&&this.append("temporary "),this.append("view "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),this.append(" "),e.columns&&(this.append("("),this.compileList(e.columns),this.append(") ")),e.as&&(this.append("as "),this.visitNode(e.as))}visitDropView(e){this.append("drop "),e.materialized&&this.append("materialized "),this.append("view "),e.ifExists&&this.append("if exists "),this.visitNode(e.name),e.cascade&&this.append(" cascade")}visitGenerated(e){this.append("generated "),e.always&&this.append("always "),e.byDefault&&this.append("by default "),this.append("as "),e.identity&&this.append("identity"),e.expression&&(this.append("("),this.visitNode(e.expression),this.append(")")),e.stored&&this.append(" stored")}visitDefaultValue(e){this.append("default "),this.visitNode(e.defaultValue)}visitSelectModifier(e){e.rawModifier?this.visitNode(e.rawModifier):this.append(G2[e.modifier]),e.of&&(this.append(" of "),this.compileList(e.of,", "))}visitCreateType(e){this.append("create type "),this.visitNode(e.name),e.enum&&(this.append(" as enum "),this.visitNode(e.enum))}visitDropType(e){this.append("drop type "),e.ifExists&&this.append("if exists "),this.visitNode(e.name)}visitExplain(e){this.append("explain"),(e.options||e.format)&&(this.append(" "),this.append(this.getLeftExplainOptionsWrapper()),e.options&&(this.visitNode(e.options),e.format&&this.append(this.getExplainOptionsDelimiter())),e.format&&(this.append("format"),this.append(this.getExplainOptionAssignment()),this.append(e.format)),this.append(this.getRightExplainOptionsWrapper()))}visitDefaultInsertValue(e){this.append("default")}visitAggregateFunction(e){this.append(e.func),this.append("("),e.distinct&&this.append("distinct "),this.compileList(e.aggregated),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),this.append(")"),e.filter&&(this.append(" filter("),this.visitNode(e.filter),this.append(")")),e.over&&(this.append(" "),this.visitNode(e.over))}visitOver(e){this.append("over("),e.partitionBy&&(this.visitNode(e.partitionBy),e.orderBy&&this.append(" ")),e.orderBy&&this.visitNode(e.orderBy),this.append(")")}visitPartitionBy(e){this.append("partition by "),this.compileList(e.items)}visitPartitionByItem(e){this.visitNode(e.partitionBy)}visitBinaryOperation(e){this.visitNode(e.leftOperand),this.append(" "),this.visitNode(e.operator),this.append(" "),this.visitNode(e.rightOperand)}visitUnaryOperation(e){this.visitNode(e.operator),this.isMinusOperator(e.operator)||this.append(" "),this.visitNode(e.operand)}isMinusOperator(e){return _a.is(e)&&e.operator==="-"}visitUsing(e){this.append("using "),this.compileList(e.tables)}visitFunction(e){this.append(e.func),this.append("("),this.compileList(e.arguments),this.append(")")}visitCase(e){this.append("case"),e.value&&(this.append(" "),this.visitNode(e.value)),e.when&&(this.append(" "),this.compileList(e.when," ")),e.else&&(this.append(" else "),this.visitNode(e.else)),this.append(" end"),e.isStatement&&this.append(" case")}visitWhen(e){this.append("when "),this.visitNode(e.condition),e.result&&(this.append(" then "),this.visitNode(e.result))}visitJSONReference(e){this.visitNode(e.reference),this.visitNode(e.traversal)}visitJSONPath(e){e.inOperator&&this.visitNode(e.inOperator),this.append("'$");for(const r of e.pathLegs)this.visitNode(r);this.append("'")}visitJSONPathLeg(e){const r=e.type==="ArrayLocation";this.append(r?"[":"."),this.append(String(e.value)),r&&this.append("]")}visitJSONOperatorChain(e){for(let r=0,n=e.values.length;r<n;r++)r===n-1?this.visitNode(e.operator):this.append("->"),this.visitNode(e.values[r])}visitMergeQuery(e){e.with&&(this.visitNode(e.with),this.append(" ")),this.append("merge "),e.top&&(this.visitNode(e.top),this.append(" ")),this.append("into "),this.visitNode(e.into),e.using&&(this.append(" "),this.visitNode(e.using)),e.whens&&(this.append(" "),this.compileList(e.whens," ")),e.output&&(this.append(" "),this.visitNode(e.output)),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitMatched(e){e.not&&this.append("not "),this.append("matched"),e.bySource&&this.append(" by source")}visitAddIndex(e){this.append("add "),e.unique&&this.append("unique "),this.append("index "),this.visitNode(e.name),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.using&&(this.append(" using "),this.visitNode(e.using))}visitCast(e){this.append("cast("),this.visitNode(e.expression),this.append(" as "),this.visitNode(e.dataType),this.append(")")}visitFetch(e){this.append("fetch next "),this.visitNode(e.rowCount),this.append(` rows ${e.modifier}`)}visitOutput(e){this.append("output "),this.compileList(e.selections)}visitTop(e){this.append(`top(${e.expression})`),e.modifiers&&this.append(` ${e.modifiers}`)}append(e){this.#e+=e}appendValue(e){this.addParameter(e),this.append(this.getCurrentParameterPlaceholder())}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getCurrentParameterPlaceholder(){return"$"+this.numParameters}getLeftExplainOptionsWrapper(){return"("}getExplainOptionAssignment(){return" "}getExplainOptionsDelimiter(){return", "}getRightExplainOptionsWrapper(){return")"}sanitizeIdentifier(e){const r=this.getLeftIdentifierWrapper(),n=this.getRightIdentifierWrapper();let o="";for(const a of e)o+=a,a===r?o+=r:a===n&&(o+=n);return o}addParameter(e){this.#t.push(e)}appendImmediateValue(e){if(Oi(e))this.append(`'${e}'`);else if(am(e)||_p(e))this.append(e.toString());else if(lb(e))this.append("null");else if(_L(e))this.appendImmediateValue(e.toISOString());else if(ub(e))this.appendImmediateValue(e.toString());else throw new Error(`invalid immediate value ${e}`)}sortSelectModifiers(e){return e.sort((r,n)=>r.modifier&&n.modifier?ME[r.modifier]-ME[n.modifier]:1),A(e)}compileColumnAlterations(e){this.compileList(e)}announcesNewColumnDataType(){return!0}}const G2=A({ForKeyShare:"for key share",ForNoKeyUpdate:"for no key update",ForUpdate:"for update",ForShare:"for share",NoWait:"nowait",SkipLocked:"skip locked",Distinct:"distinct"}),ME=A({ForKeyShare:1,ForNoKeyUpdate:1,ForUpdate:1,ForShare:1,NoWait:2,SkipLocked:2,Distinct:0}),J2=A({InnerJoin:"inner join",LeftJoin:"left join",RightJoin:"right join",FullJoin:"full join",LateralInnerJoin:"inner join lateral",LateralLeftJoin:"left join lateral",Using:"using"});class Z2{get supportsCreateIfNotExists(){return!0}get supportsTransactionalDdl(){return!1}get supportsReturning(){return!1}get supportsOutput(){return!1}}const X2=/"/g;class Y2 extends K2{getCurrentParameterPlaceholder(){return"?"}getLeftExplainOptionsWrapper(){return""}getRightExplainOptionsWrapper(){return""}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getAutoIncrement(){return"autoincrement"}sanitizeIdentifier(e){return e.replace(X2,'""')}visitDefaultInsertValue(e){this.append("null")}}const eD="kysely_migration",tD="kysely_migration_lock";A({__noMigrations__:!0});class rD{#e;constructor(e){this.#e=e}async getSchemas(){return[]}async getTables(e={withInternalKyselyTables:!1}){let r=this.#e.selectFrom("sqlite_master").where("type","in",["table","view"]).where("name","not like","sqlite_%").select("name").orderBy("name").$castTo();e.withInternalKyselyTables||(r=r.where("name","!=",eD).where("name","!=",tD));const n=await r.execute();return Promise.all(n.map(({name:o})=>this.#t(o)))}async getMetadata(e){return{tables:await this.getTables(e)}}async #t(e){const r=this.#e,n=await r.selectFrom("sqlite_master").where("name","=",e).select(["sql","type"]).$castTo().executeTakeFirstOrThrow(),o=n.sql?.split(/[\(\),]/)?.find(l=>l.toLowerCase().includes("autoincrement"))?.trimStart()?.split(/\s+/)?.[0]?.replace(/["`]/g,""),a=await r.selectFrom(f3`pragma_table_info(${e})`.as("table_info")).select(["name","type","notnull","dflt_value"]).orderBy("cid").execute();return{name:e,isView:n.type==="view",columns:a.map(l=>({name:l.name,dataType:l.type,isNullable:!l.notnull,isAutoIncrementing:l.name===o,hasDefaultValue:l.dflt_value!=null,comment:void 0}))}}}class nD extends Z2{get supportsTransactionalDdl(){return!1}get supportsReturning(){return!0}async acquireMigrationLock(e,r){}async releaseMigrationLock(e,r){}}const BE="function",au="64e10b34-2bf7-4616-9668-f99de5aa046e",iD="get",sD="has",oD="set",{isArray:Wh}=Array;let{SharedArrayBuffer:Op,window:aD}=globalThis,{notify:h3,wait:p3,waitAsync:Ip}=Atomics,m3=null;Ip||(Ip=t=>({value:new Promise(e=>{let r=new Worker("data:application/javascript,onmessage%3D(%7Bdata%3Ab%7D)%3D%3E(Atomics.wait(b%2C0)%2CpostMessage(0))");r.onmessage=e,r.postMessage(t)})}));try{new Op(4)}catch{Op=ArrayBuffer;const e=new WeakMap;if(aD){const r=new Map,{prototype:{postMessage:n}}=Worker,o=a=>{const l=a.data?.[au];if(!Wh(l)){a.stopImmediatePropagation();const{id:c,sb:h}=l;r.get(c)(h)}};m3=function(a,...l){const c=a?.[au];if(Wh(c)){const[h,m]=c;e.set(m,h),this.addEventListener("message",o)}return n.call(this,a,...l)},Ip=a=>({value:new Promise(l=>{r.set(e.get(a),l)}).then(l=>{r.delete(e.get(a)),e.delete(a);for(let c=0;c<l.length;c++)a[c]=l[c];return"ok"})})}else{const r=(n,o)=>({[au]:{id:n,sb:o}});h3=n=>{postMessage(r(e.get(n),n))},addEventListener("message",n=>{const o=n.data?.[au];if(Wh(o)){const[a,l]=o;e.set(l,a)}})}}const{Int32Array:b_,Map:WE,Uint16Array:w_}=globalThis,{BYTES_PER_ELEMENT:$E}=b_,{BYTES_PER_ELEMENT:lD}=w_,uD=(t,e,r)=>{for(;p3(t,0,0,e)==="timed-out";)r()},x_=new WeakSet,xv=new WeakMap,cD={value:{then:t=>t()}};let dD=0;const Sb=(t,{parse:e=JSON.parse,stringify:r=JSON.stringify,transform:n,interrupt:o}=JSON)=>{if(!xv.has(t)){const a=m3||t.postMessage,l=(N,...q)=>a.call(t,{[au]:q},{transfer:N}),c=typeof o===BE?o:o?.handler,h=o?.delay||42,m=new TextDecoder("utf-16"),g=(N,q)=>N?Ip(q,0):(c?uD(q,h,c):p3(q,0),cD);let x=!1;xv.set(t,new Proxy(new WE,{[sD]:(N,q)=>typeof q=="string"&&!q.startsWith("_"),[iD]:(N,q)=>q==="then"?null:(...C)=>{const O=dD++;let P=new b_(new Op($E*2)),M=[];x_.has(C.at(-1)||M)&&x_.delete(M=C.pop()),l(M,O,P,q,n?C.map(n):C);const j=t!==globalThis;let $=0;return x&&j&&($=setTimeout(console.warn,1e3,` - Possible deadlock if proxy.${q}(...args) is awaited`)),g(j,P).value.then(()=>{clearTimeout($);const U=P[1];if(!U)return;const G=lD*U;return P=new b_(new Op(G+G%$E)),l([],O,P),g(j,P).value.then(()=>e(m.decode(new w_(P.buffer).slice(0,U))))})},[oD](N,q,C){const O=typeof C;if(O!==BE)throw new Error(`Unable to assign ${q} as ${O}`);if(!N.size){const P=new WE;t.addEventListener("message",async M=>{const j=M.data?.[au];if(Wh(j)){M.stopImmediatePropagation();const[$,U,...G]=j;let B;if(G.length){const[J,re]=G;if(N.has(J)){x=!0;try{const V=await N.get(J)(...re);if(V!==void 0){const ie=r(n?n(V):V);P.set($,ie),U[1]=ie.length}}catch(V){B=V}finally{x=!1}}else B=new Error(`Unsupported action: ${J}`);U[0]=1}else{const J=P.get($);P.delete($);for(let re=new w_(U.buffer),V=0;V<J.length;V++)re[V]=J.charCodeAt(V)}if(h3(U,0),B)throw B}})}return!!N.set(q,C)}}))}return xv.get(t)};Sb.transfer=(...t)=>(x_.add(t),t);var Eb=(()=>{var t=import.meta.url;return function(e={}){var r,n=e,o,a,l=new Promise((d,f)=>{o=d,a=f}),c=typeof window=="object",h=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;const m=globalThis.sqlite3InitModuleState||Object.assign(Object.create(null),{debugModule:()=>{}});delete globalThis.sqlite3InitModuleState,m.debugModule("globalThis.location =",globalThis.location);var g=Object.assign({},n),x="./this.program",N="";function q(d){return n.locateFile?n.locateFile(d,N):N+d}var C,O;(c||h)&&(h?N=self.location.href:typeof document<"u"&&document.currentScript&&(N=document.currentScript.src),t&&(N=t),N.startsWith("blob:")?N="":N=N.substr(0,N.replace(/[?#].*/,"").lastIndexOf("/")+1),h&&(O=d=>{var f=new XMLHttpRequest;return f.open("GET",d,!1),f.responseType="arraybuffer",f.send(null),new Uint8Array(f.response)}),C=d=>fetch(d,{credentials:"same-origin"}).then(f=>f.ok?f.arrayBuffer():Promise.reject(new Error(f.status+" : "+f.url))));var P=n.print||console.log.bind(console),M=n.printErr||console.error.bind(console);Object.assign(n,g),g=null,n.arguments&&n.arguments,n.thisProgram&&(x=n.thisProgram);var j=n.wasmBinary,$,U=!1,G,B,J,re,V,ie;function D(){var d=$.buffer;n.HEAP8=G=new Int8Array(d),n.HEAP16=J=new Int16Array(d),n.HEAPU8=B=new Uint8Array(d),n.HEAPU16=new Uint16Array(d),n.HEAP32=re=new Int32Array(d),n.HEAPU32=V=new Uint32Array(d),n.HEAPF32=new Float32Array(d),n.HEAPF64=new Float64Array(d),n.HEAP64=ie=new BigInt64Array(d),n.HEAPU64=new BigUint64Array(d)}if(n.wasmMemory)$=n.wasmMemory;else{var ne=n.INITIAL_MEMORY||0x1000000;$=new WebAssembly.Memory({initial:ne/65536,maximum:32768})}D();var Z=[],pe=[],Oe=[];function Ce(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)me(n.preRun.shift());oe(Z)}function Fe(){!n.noFSInit&&!R.initialized&&R.init(),R.ignorePermissions=!1,oe(pe)}function ve(){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)H(n.postRun.shift());oe(Oe)}function me(d){Z.unshift(d)}function Ee(d){pe.unshift(d)}function H(d){Oe.unshift(d)}var xe=0,lt=null;function at(d){return d}function dt(d){xe++,n.monitorRunDependencies?.(xe)}function mt(d){if(xe--,n.monitorRunDependencies?.(xe),xe==0&&lt){var f=lt;lt=null,f()}}function ft(d){n.onAbort?.(d),d="Aborted("+d+")",M(d),U=!0,d+=". Build with -sASSERTIONS for more info.";var f=new WebAssembly.RuntimeError(d);throw a(f),f}var gt="data:application/octet-stream;base64,",Tt=d=>d.startsWith(gt);function vt(){if(n.locateFile){var d="sqlite3.wasm";return Tt(d)?d:q(d)}return new URL("/assets/sqlite3-CgX3seBP.wasm",import.meta.url).href}var yt;function Ot(d){if(d==yt&&j)return new Uint8Array(j);if(O)return O(d);throw"both async and sync fetching of the wasm failed"}function qt(d){return j?Promise.resolve().then(()=>Ot(d)):C(d).then(f=>new Uint8Array(f),()=>Ot(d))}function Jt(d,f,_){return qt(d).then(b=>WebAssembly.instantiate(b,f)).then(_,b=>{M(`failed to asynchronously prepare wasm: ${b}`),ft(b)})}function Gt(d,f,_,b){return!d&&typeof WebAssembly.instantiateStreaming=="function"&&!Tt(f)&&typeof fetch=="function"?fetch(f,{credentials:"same-origin"}).then(S=>{var k=WebAssembly.instantiateStreaming(S,_);return k.then(b,function(X){return M(`wasm streaming compile failed: ${X}`),M("falling back to ArrayBuffer instantiation"),Jt(f,_,b)})}):Jt(f,_,b)}function er(){return{env:rc,wasi_snapshot_preview1:rc}}function ur(){var d=er();function f(b,S){return ee=b.exports,Ee(ee.__wasm_call_ctors),mt(),ee}dt();function _(b){f(b.instance)}if(n.instantiateWasm)try{return n.instantiateWasm(d,f)}catch(b){M(`Module.instantiateWasm callback failed with error: ${b}`),a(b)}return yt||(yt=vt()),Gt(j,yt,d,_).catch(a),{}}var oe=d=>{for(;d.length>0;)d.shift()(n)};n.noExitRuntime;var le={isAbs:d=>d.charAt(0)==="/",splitPath:d=>{var f=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return f.exec(d).slice(1)},normalizeArray:(d,f)=>{for(var _=0,b=d.length-1;b>=0;b--){var S=d[b];S==="."?d.splice(b,1):S===".."?(d.splice(b,1),_++):_&&(d.splice(b,1),_--)}if(f)for(;_;_--)d.unshift("..");return d},normalize:d=>{var f=le.isAbs(d),_=d.substr(-1)==="/";return d=le.normalizeArray(d.split("/").filter(b=>!!b),!f).join("/"),!d&&!f&&(d="."),d&&_&&(d+="/"),(f?"/":"")+d},dirname:d=>{var f=le.splitPath(d),_=f[0],b=f[1];return!_&&!b?".":(b&&(b=b.substr(0,b.length-1)),_+b)},basename:d=>{if(d==="/")return"/";d=le.normalize(d),d=d.replace(/\/$/,"");var f=d.lastIndexOf("/");return f===-1?d:d.substr(f+1)},join:(...d)=>le.normalize(d.join("/")),join2:(d,f)=>le.normalize(d+"/"+f)},ye=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return d=>crypto.getRandomValues(d);ft("initRandomDevice")},Ie=d=>(Ie=ye())(d),De={resolve:(...d)=>{for(var f="",_=!1,b=d.length-1;b>=-1&&!_;b--){var S=b>=0?d[b]:R.cwd();if(typeof S!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!S)return"";f=S+"/"+f,_=le.isAbs(S)}return f=le.normalizeArray(f.split("/").filter(k=>!!k),!_).join("/"),(_?"/":"")+f||"."},relative:(d,f)=>{d=De.resolve(d).substr(1),f=De.resolve(f).substr(1);function _(Ue){for(var Je=0;Je<Ue.length&&Ue[Je]==="";Je++);for(var rt=Ue.length-1;rt>=0&&Ue[rt]==="";rt--);return Je>rt?[]:Ue.slice(Je,rt-Je+1)}for(var b=_(d.split("/")),S=_(f.split("/")),k=Math.min(b.length,S.length),X=k,te=0;te<k;te++)if(b[te]!==S[te]){X=te;break}for(var Le=[],te=X;te<b.length;te++)Le.push("..");return Le=Le.concat(S.slice(X)),Le.join("/")}},Ge=typeof TextDecoder<"u"?new TextDecoder:void 0,_t=(d,f,_)=>{for(var b=f+_,S=f;d[S]&&!(S>=b);)++S;if(S-f>16&&d.buffer&&Ge)return Ge.decode(d.subarray(f,S));for(var k="";f<S;){var X=d[f++];if(!(X&128)){k+=String.fromCharCode(X);continue}var te=d[f++]&63;if((X&224)==192){k+=String.fromCharCode((X&31)<<6|te);continue}var Le=d[f++]&63;if((X&240)==224?X=(X&15)<<12|te<<6|Le:X=(X&7)<<18|te<<12|Le<<6|d[f++]&63,X<65536)k+=String.fromCharCode(X);else{var Ue=X-65536;k+=String.fromCharCode(55296|Ue>>10,56320|Ue&1023)}}return k},Mt=[],mr=d=>{for(var f=0,_=0;_<d.length;++_){var b=d.charCodeAt(_);b<=127?f++:b<=2047?f+=2:b>=55296&&b<=57343?(f+=4,++_):f+=3}return f},cr=(d,f,_,b)=>{if(!(b>0))return 0;for(var S=_,k=_+b-1,X=0;X<d.length;++X){var te=d.charCodeAt(X);if(te>=55296&&te<=57343){var Le=d.charCodeAt(++X);te=65536+((te&1023)<<10)|Le&1023}if(te<=127){if(_>=k)break;f[_++]=te}else if(te<=2047){if(_+1>=k)break;f[_++]=192|te>>6,f[_++]=128|te&63}else if(te<=65535){if(_+2>=k)break;f[_++]=224|te>>12,f[_++]=128|te>>6&63,f[_++]=128|te&63}else{if(_+3>=k)break;f[_++]=240|te>>18,f[_++]=128|te>>12&63,f[_++]=128|te>>6&63,f[_++]=128|te&63}}return f[_]=0,_-S};function Ir(d,f,_){var b=mr(d)+1,S=new Array(b),k=cr(d,S,0,S.length);return S.length=k,S}var Ln=()=>{if(!Mt.length){var d=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(d=window.prompt("Input: "),d!==null&&(d+=`
`)),!d)return null;Mt=Ir(d)}return Mt.shift()},Zr={ttys:[],init(){},shutdown(){},register(d,f){Zr.ttys[d]={input:[],output:[],ops:f},R.registerDevice(d,Zr.stream_ops)},stream_ops:{open(d){var f=Zr.ttys[d.node.rdev];if(!f)throw new R.ErrnoError(43);d.tty=f,d.seekable=!1},close(d){d.tty.ops.fsync(d.tty)},fsync(d){d.tty.ops.fsync(d.tty)},read(d,f,_,b,S){if(!d.tty||!d.tty.ops.get_char)throw new R.ErrnoError(60);for(var k=0,X=0;X<b;X++){var te;try{te=d.tty.ops.get_char(d.tty)}catch{throw new R.ErrnoError(29)}if(te===void 0&&k===0)throw new R.ErrnoError(6);if(te==null)break;k++,f[_+X]=te}return k&&(d.node.timestamp=Date.now()),k},write(d,f,_,b,S){if(!d.tty||!d.tty.ops.put_char)throw new R.ErrnoError(60);try{for(var k=0;k<b;k++)d.tty.ops.put_char(d.tty,f[_+k])}catch{throw new R.ErrnoError(29)}return b&&(d.node.timestamp=Date.now()),k}},default_tty_ops:{get_char(d){return Ln()},put_char(d,f){f===null||f===10?(P(_t(d.output,0)),d.output=[]):f!=0&&d.output.push(f)},fsync(d){d.output&&d.output.length>0&&(P(_t(d.output,0)),d.output=[])},ioctl_tcgets(d){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(d,f,_){return 0},ioctl_tiocgwinsz(d){return[24,80]}},default_tty1_ops:{put_char(d,f){f===null||f===10?(M(_t(d.output,0)),d.output=[]):f!=0&&d.output.push(f)},fsync(d){d.output&&d.output.length>0&&(M(_t(d.output,0)),d.output=[])}}},Qn=(d,f)=>(B.fill(0,d,d+f),d),Ws=(d,f)=>Math.ceil(d/f)*f,_n=d=>{d=Ws(d,65536);var f=nc(65536,d);return f?Qn(f,d):0},Ut={ops_table:null,mount(d){return Ut.createNode(null,"/",16895,0)},createNode(d,f,_,b){if(R.isBlkdev(_)||R.isFIFO(_))throw new R.ErrnoError(63);Ut.ops_table||={dir:{node:{getattr:Ut.node_ops.getattr,setattr:Ut.node_ops.setattr,lookup:Ut.node_ops.lookup,mknod:Ut.node_ops.mknod,rename:Ut.node_ops.rename,unlink:Ut.node_ops.unlink,rmdir:Ut.node_ops.rmdir,readdir:Ut.node_ops.readdir,symlink:Ut.node_ops.symlink},stream:{llseek:Ut.stream_ops.llseek}},file:{node:{getattr:Ut.node_ops.getattr,setattr:Ut.node_ops.setattr},stream:{llseek:Ut.stream_ops.llseek,read:Ut.stream_ops.read,write:Ut.stream_ops.write,allocate:Ut.stream_ops.allocate,mmap:Ut.stream_ops.mmap,msync:Ut.stream_ops.msync}},link:{node:{getattr:Ut.node_ops.getattr,setattr:Ut.node_ops.setattr,readlink:Ut.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Ut.node_ops.getattr,setattr:Ut.node_ops.setattr},stream:R.chrdev_stream_ops}};var S=R.createNode(d,f,_,b);return R.isDir(S.mode)?(S.node_ops=Ut.ops_table.dir.node,S.stream_ops=Ut.ops_table.dir.stream,S.contents={}):R.isFile(S.mode)?(S.node_ops=Ut.ops_table.file.node,S.stream_ops=Ut.ops_table.file.stream,S.usedBytes=0,S.contents=null):R.isLink(S.mode)?(S.node_ops=Ut.ops_table.link.node,S.stream_ops=Ut.ops_table.link.stream):R.isChrdev(S.mode)&&(S.node_ops=Ut.ops_table.chrdev.node,S.stream_ops=Ut.ops_table.chrdev.stream),S.timestamp=Date.now(),d&&(d.contents[f]=S,d.timestamp=S.timestamp),S},getFileDataAsTypedArray(d){return d.contents?d.contents.subarray?d.contents.subarray(0,d.usedBytes):new Uint8Array(d.contents):new Uint8Array(0)},expandFileStorage(d,f){var _=d.contents?d.contents.length:0;if(!(_>=f)){var b=1024*1024;f=Math.max(f,_*(_<b?2:1.125)>>>0),_!=0&&(f=Math.max(f,256));var S=d.contents;d.contents=new Uint8Array(f),d.usedBytes>0&&d.contents.set(S.subarray(0,d.usedBytes),0)}},resizeFileStorage(d,f){if(d.usedBytes!=f)if(f==0)d.contents=null,d.usedBytes=0;else{var _=d.contents;d.contents=new Uint8Array(f),_&&d.contents.set(_.subarray(0,Math.min(f,d.usedBytes))),d.usedBytes=f}},node_ops:{getattr(d){var f={};return f.dev=R.isChrdev(d.mode)?d.id:1,f.ino=d.id,f.mode=d.mode,f.nlink=1,f.uid=0,f.gid=0,f.rdev=d.rdev,R.isDir(d.mode)?f.size=4096:R.isFile(d.mode)?f.size=d.usedBytes:R.isLink(d.mode)?f.size=d.link.length:f.size=0,f.atime=new Date(d.timestamp),f.mtime=new Date(d.timestamp),f.ctime=new Date(d.timestamp),f.blksize=4096,f.blocks=Math.ceil(f.size/f.blksize),f},setattr(d,f){f.mode!==void 0&&(d.mode=f.mode),f.timestamp!==void 0&&(d.timestamp=f.timestamp),f.size!==void 0&&Ut.resizeFileStorage(d,f.size)},lookup(d,f){throw R.genericErrors[44]},mknod(d,f,_,b){return Ut.createNode(d,f,_,b)},rename(d,f,_){if(R.isDir(d.mode)){var b;try{b=R.lookupNode(f,_)}catch{}if(b)for(var S in b.contents)throw new R.ErrnoError(55)}delete d.parent.contents[d.name],d.parent.timestamp=Date.now(),d.name=_,f.contents[_]=d,f.timestamp=d.parent.timestamp},unlink(d,f){delete d.contents[f],d.timestamp=Date.now()},rmdir(d,f){var _=R.lookupNode(d,f);for(var b in _.contents)throw new R.ErrnoError(55);delete d.contents[f],d.timestamp=Date.now()},readdir(d){var f=[".",".."];for(var _ of Object.keys(d.contents))f.push(_);return f},symlink(d,f,_){var b=Ut.createNode(d,f,41471,0);return b.link=_,b},readlink(d){if(!R.isLink(d.mode))throw new R.ErrnoError(28);return d.link}},stream_ops:{read(d,f,_,b,S){var k=d.node.contents;if(S>=d.node.usedBytes)return 0;var X=Math.min(d.node.usedBytes-S,b);if(X>8&&k.subarray)f.set(k.subarray(S,S+X),_);else for(var te=0;te<X;te++)f[_+te]=k[S+te];return X},write(d,f,_,b,S,k){if(f.buffer===G.buffer&&(k=!1),!b)return 0;var X=d.node;if(X.timestamp=Date.now(),f.subarray&&(!X.contents||X.contents.subarray)){if(k)return X.contents=f.subarray(_,_+b),X.usedBytes=b,b;if(X.usedBytes===0&&S===0)return X.contents=f.slice(_,_+b),X.usedBytes=b,b;if(S+b<=X.usedBytes)return X.contents.set(f.subarray(_,_+b),S),b}if(Ut.expandFileStorage(X,S+b),X.contents.subarray&&f.subarray)X.contents.set(f.subarray(_,_+b),S);else for(var te=0;te<b;te++)X.contents[S+te]=f[_+te];return X.usedBytes=Math.max(X.usedBytes,S+b),b},llseek(d,f,_){var b=f;if(_===1?b+=d.position:_===2&&R.isFile(d.node.mode)&&(b+=d.node.usedBytes),b<0)throw new R.ErrnoError(28);return b},allocate(d,f,_){Ut.expandFileStorage(d.node,f+_),d.node.usedBytes=Math.max(d.node.usedBytes,f+_)},mmap(d,f,_,b,S){if(!R.isFile(d.node.mode))throw new R.ErrnoError(43);var k,X,te=d.node.contents;if(!(S&2)&&te&&te.buffer===G.buffer)X=!1,k=te.byteOffset;else{if(X=!0,k=_n(f),!k)throw new R.ErrnoError(48);te&&((_>0||_+f<te.length)&&(te.subarray?te=te.subarray(_,_+f):te=Array.prototype.slice.call(te,_,_+f)),G.set(te,k))}return{ptr:k,allocated:X}},msync(d,f,_,b,S){return Ut.stream_ops.write(d,f,0,b,_,!1),0}}},Oo=(d,f,_,b)=>{var S=`al ${d}`;C(d).then(k=>{f(new Uint8Array(k)),S&&mt()},k=>{if(_)_();else throw`Loading data file "${d}" failed.`}),S&&dt()},Io=(d,f,_,b,S,k)=>{R.createDataFile(d,f,_,b,S,k)},Ro=n.preloadPlugins||[],Hu=(d,f,_,b)=>{typeof Browser<"u"&&Browser.init();var S=!1;return Ro.forEach(k=>{S||k.canHandle(f)&&(k.handle(d,f,_,b),S=!0)}),S},Qu=(d,f,_,b,S,k,X,te,Le,Ue)=>{var Je=f?De.resolve(le.join2(d,f)):d;function rt(Ae){function we(ze){Ue?.(),te||Io(d,f,ze,b,S,Le),k?.(),mt()}Hu(Ae,Je,we,()=>{X?.(),mt()})||we(Ae)}dt(),typeof _=="string"?Oo(_,rt,X):rt(_)},Ku=d=>{var f={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},_=f[d];if(typeof _>"u")throw new Error(`Unknown file open mode: ${d}`);return _},gs=(d,f)=>{var _=0;return d&&(_|=365),f&&(_|=146),_},R={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:class{constructor(d){this.name="ErrnoError",this.errno=d}},genericErrors:{},filesystems:null,syncFSRequests:0,FSStream:class{constructor(){this.shared={}}get object(){return this.node}set object(d){this.node=d}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(d){this.shared.flags=d}get position(){return this.shared.position}set position(d){this.shared.position=d}},FSNode:class{constructor(d,f,_,b){d||(d=this),this.parent=d,this.mount=d.mount,this.mounted=null,this.id=R.nextInode++,this.name=f,this.mode=_,this.node_ops={},this.stream_ops={},this.rdev=b,this.readMode=365,this.writeMode=146}get read(){return(this.mode&this.readMode)===this.readMode}set read(d){d?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(d){d?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return R.isDir(this.mode)}get isDevice(){return R.isChrdev(this.mode)}},lookupPath(d,f={}){if(d=De.resolve(d),!d)return{path:"",node:null};var _={follow_mount:!0,recurse_count:0};if(f=Object.assign(_,f),f.recurse_count>8)throw new R.ErrnoError(32);for(var b=d.split("/").filter(rt=>!!rt),S=R.root,k="/",X=0;X<b.length;X++){var te=X===b.length-1;if(te&&f.parent)break;if(S=R.lookupNode(S,b[X]),k=le.join2(k,b[X]),R.isMountpoint(S)&&(!te||te&&f.follow_mount)&&(S=S.mounted.root),!te||f.follow)for(var Le=0;R.isLink(S.mode);){var Ue=R.readlink(k);k=De.resolve(le.dirname(k),Ue);var Je=R.lookupPath(k,{recurse_count:f.recurse_count+1});if(S=Je.node,Le++>40)throw new R.ErrnoError(32)}}return{path:k,node:S}},getPath(d){for(var f;;){if(R.isRoot(d)){var _=d.mount.mountpoint;return f?_[_.length-1]!=="/"?`${_}/${f}`:_+f:_}f=f?`${d.name}/${f}`:d.name,d=d.parent}},hashName(d,f){for(var _=0,b=0;b<f.length;b++)_=(_<<5)-_+f.charCodeAt(b)|0;return(d+_>>>0)%R.nameTable.length},hashAddNode(d){var f=R.hashName(d.parent.id,d.name);d.name_next=R.nameTable[f],R.nameTable[f]=d},hashRemoveNode(d){var f=R.hashName(d.parent.id,d.name);if(R.nameTable[f]===d)R.nameTable[f]=d.name_next;else for(var _=R.nameTable[f];_;){if(_.name_next===d){_.name_next=d.name_next;break}_=_.name_next}},lookupNode(d,f){var _=R.mayLookup(d);if(_)throw new R.ErrnoError(_);for(var b=R.hashName(d.id,f),S=R.nameTable[b];S;S=S.name_next){var k=S.name;if(S.parent.id===d.id&&k===f)return S}return R.lookup(d,f)},createNode(d,f,_,b){var S=new R.FSNode(d,f,_,b);return R.hashAddNode(S),S},destroyNode(d){R.hashRemoveNode(d)},isRoot(d){return d===d.parent},isMountpoint(d){return!!d.mounted},isFile(d){return(d&61440)===32768},isDir(d){return(d&61440)===16384},isLink(d){return(d&61440)===40960},isChrdev(d){return(d&61440)===8192},isBlkdev(d){return(d&61440)===24576},isFIFO(d){return(d&61440)===4096},isSocket(d){return(d&49152)===49152},flagsToPermissionString(d){var f=["r","w","rw"][d&3];return d&512&&(f+="w"),f},nodePermissions(d,f){return R.ignorePermissions?0:f.includes("r")&&!(d.mode&292)||f.includes("w")&&!(d.mode&146)||f.includes("x")&&!(d.mode&73)?2:0},mayLookup(d){if(!R.isDir(d.mode))return 54;var f=R.nodePermissions(d,"x");return f||(d.node_ops.lookup?0:2)},mayCreate(d,f){try{var _=R.lookupNode(d,f);return 20}catch{}return R.nodePermissions(d,"wx")},mayDelete(d,f,_){var b;try{b=R.lookupNode(d,f)}catch(k){return k.errno}var S=R.nodePermissions(d,"wx");if(S)return S;if(_){if(!R.isDir(b.mode))return 54;if(R.isRoot(b)||R.getPath(b)===R.cwd())return 10}else if(R.isDir(b.mode))return 31;return 0},mayOpen(d,f){return d?R.isLink(d.mode)?32:R.isDir(d.mode)&&(R.flagsToPermissionString(f)!=="r"||f&512)?31:R.nodePermissions(d,R.flagsToPermissionString(f)):44},MAX_OPEN_FDS:4096,nextfd(){for(var d=0;d<=R.MAX_OPEN_FDS;d++)if(!R.streams[d])return d;throw new R.ErrnoError(33)},getStreamChecked(d){var f=R.getStream(d);if(!f)throw new R.ErrnoError(8);return f},getStream:d=>R.streams[d],createStream(d,f=-1){return d=Object.assign(new R.FSStream,d),f==-1&&(f=R.nextfd()),d.fd=f,R.streams[f]=d,d},closeStream(d){R.streams[d]=null},dupStream(d,f=-1){var _=R.createStream(d,f);return _.stream_ops?.dup?.(_),_},chrdev_stream_ops:{open(d){var f=R.getDevice(d.node.rdev);d.stream_ops=f.stream_ops,d.stream_ops.open?.(d)},llseek(){throw new R.ErrnoError(70)}},major:d=>d>>8,minor:d=>d&255,makedev:(d,f)=>d<<8|f,registerDevice(d,f){R.devices[d]={stream_ops:f}},getDevice:d=>R.devices[d],getMounts(d){for(var f=[],_=[d];_.length;){var b=_.pop();f.push(b),_.push(...b.mounts)}return f},syncfs(d,f){typeof d=="function"&&(f=d,d=!1),R.syncFSRequests++,R.syncFSRequests>1&&M(`warning: ${R.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var _=R.getMounts(R.root.mount),b=0;function S(X){return R.syncFSRequests--,f(X)}function k(X){if(X)return k.errored?void 0:(k.errored=!0,S(X));++b>=_.length&&S(null)}_.forEach(X=>{if(!X.type.syncfs)return k(null);X.type.syncfs(X,d,k)})},mount(d,f,_){var b=_==="/",S=!_,k;if(b&&R.root)throw new R.ErrnoError(10);if(!b&&!S){var X=R.lookupPath(_,{follow_mount:!1});if(_=X.path,k=X.node,R.isMountpoint(k))throw new R.ErrnoError(10);if(!R.isDir(k.mode))throw new R.ErrnoError(54)}var te={type:d,opts:f,mountpoint:_,mounts:[]},Le=d.mount(te);return Le.mount=te,te.root=Le,b?R.root=Le:k&&(k.mounted=te,k.mount&&k.mount.mounts.push(te)),Le},unmount(d){var f=R.lookupPath(d,{follow_mount:!1});if(!R.isMountpoint(f.node))throw new R.ErrnoError(28);var _=f.node,b=_.mounted,S=R.getMounts(b);Object.keys(R.nameTable).forEach(X=>{for(var te=R.nameTable[X];te;){var Le=te.name_next;S.includes(te.mount)&&R.destroyNode(te),te=Le}}),_.mounted=null;var k=_.mount.mounts.indexOf(b);_.mount.mounts.splice(k,1)},lookup(d,f){return d.node_ops.lookup(d,f)},mknod(d,f,_){var b=R.lookupPath(d,{parent:!0}),S=b.node,k=le.basename(d);if(!k||k==="."||k==="..")throw new R.ErrnoError(28);var X=R.mayCreate(S,k);if(X)throw new R.ErrnoError(X);if(!S.node_ops.mknod)throw new R.ErrnoError(63);return S.node_ops.mknod(S,k,f,_)},create(d,f){return f=f!==void 0?f:438,f&=4095,f|=32768,R.mknod(d,f,0)},mkdir(d,f){return f=f!==void 0?f:511,f&=1023,f|=16384,R.mknod(d,f,0)},mkdirTree(d,f){for(var _=d.split("/"),b="",S=0;S<_.length;++S)if(_[S]){b+="/"+_[S];try{R.mkdir(b,f)}catch(k){if(k.errno!=20)throw k}}},mkdev(d,f,_){return typeof _>"u"&&(_=f,f=438),f|=8192,R.mknod(d,f,_)},symlink(d,f){if(!De.resolve(d))throw new R.ErrnoError(44);var _=R.lookupPath(f,{parent:!0}),b=_.node;if(!b)throw new R.ErrnoError(44);var S=le.basename(f),k=R.mayCreate(b,S);if(k)throw new R.ErrnoError(k);if(!b.node_ops.symlink)throw new R.ErrnoError(63);return b.node_ops.symlink(b,S,d)},rename(d,f){var _=le.dirname(d),b=le.dirname(f),S=le.basename(d),k=le.basename(f),X,te,Le;if(X=R.lookupPath(d,{parent:!0}),te=X.node,X=R.lookupPath(f,{parent:!0}),Le=X.node,!te||!Le)throw new R.ErrnoError(44);if(te.mount!==Le.mount)throw new R.ErrnoError(75);var Ue=R.lookupNode(te,S),Je=De.relative(d,b);if(Je.charAt(0)!==".")throw new R.ErrnoError(28);if(Je=De.relative(f,_),Je.charAt(0)!==".")throw new R.ErrnoError(55);var rt;try{rt=R.lookupNode(Le,k)}catch{}if(Ue!==rt){var Ae=R.isDir(Ue.mode),we=R.mayDelete(te,S,Ae);if(we)throw new R.ErrnoError(we);if(we=rt?R.mayDelete(Le,k,Ae):R.mayCreate(Le,k),we)throw new R.ErrnoError(we);if(!te.node_ops.rename)throw new R.ErrnoError(63);if(R.isMountpoint(Ue)||rt&&R.isMountpoint(rt))throw new R.ErrnoError(10);if(Le!==te&&(we=R.nodePermissions(te,"w"),we))throw new R.ErrnoError(we);R.hashRemoveNode(Ue);try{te.node_ops.rename(Ue,Le,k),Ue.parent=Le}catch(ze){throw ze}finally{R.hashAddNode(Ue)}}},rmdir(d){var f=R.lookupPath(d,{parent:!0}),_=f.node,b=le.basename(d),S=R.lookupNode(_,b),k=R.mayDelete(_,b,!0);if(k)throw new R.ErrnoError(k);if(!_.node_ops.rmdir)throw new R.ErrnoError(63);if(R.isMountpoint(S))throw new R.ErrnoError(10);_.node_ops.rmdir(_,b),R.destroyNode(S)},readdir(d){var f=R.lookupPath(d,{follow:!0}),_=f.node;if(!_.node_ops.readdir)throw new R.ErrnoError(54);return _.node_ops.readdir(_)},unlink(d){var f=R.lookupPath(d,{parent:!0}),_=f.node;if(!_)throw new R.ErrnoError(44);var b=le.basename(d),S=R.lookupNode(_,b),k=R.mayDelete(_,b,!1);if(k)throw new R.ErrnoError(k);if(!_.node_ops.unlink)throw new R.ErrnoError(63);if(R.isMountpoint(S))throw new R.ErrnoError(10);_.node_ops.unlink(_,b),R.destroyNode(S)},readlink(d){var f=R.lookupPath(d),_=f.node;if(!_)throw new R.ErrnoError(44);if(!_.node_ops.readlink)throw new R.ErrnoError(28);return De.resolve(R.getPath(_.parent),_.node_ops.readlink(_))},stat(d,f){var _=R.lookupPath(d,{follow:!f}),b=_.node;if(!b)throw new R.ErrnoError(44);if(!b.node_ops.getattr)throw new R.ErrnoError(63);return b.node_ops.getattr(b)},lstat(d){return R.stat(d,!0)},chmod(d,f,_){var b;if(typeof d=="string"){var S=R.lookupPath(d,{follow:!_});b=S.node}else b=d;if(!b.node_ops.setattr)throw new R.ErrnoError(63);b.node_ops.setattr(b,{mode:f&4095|b.mode&-4096,timestamp:Date.now()})},lchmod(d,f){R.chmod(d,f,!0)},fchmod(d,f){var _=R.getStreamChecked(d);R.chmod(_.node,f)},chown(d,f,_,b){var S;if(typeof d=="string"){var k=R.lookupPath(d,{follow:!b});S=k.node}else S=d;if(!S.node_ops.setattr)throw new R.ErrnoError(63);S.node_ops.setattr(S,{timestamp:Date.now()})},lchown(d,f,_){R.chown(d,f,_,!0)},fchown(d,f,_){var b=R.getStreamChecked(d);R.chown(b.node,f,_)},truncate(d,f){if(f<0)throw new R.ErrnoError(28);var _;if(typeof d=="string"){var b=R.lookupPath(d,{follow:!0});_=b.node}else _=d;if(!_.node_ops.setattr)throw new R.ErrnoError(63);if(R.isDir(_.mode))throw new R.ErrnoError(31);if(!R.isFile(_.mode))throw new R.ErrnoError(28);var S=R.nodePermissions(_,"w");if(S)throw new R.ErrnoError(S);_.node_ops.setattr(_,{size:f,timestamp:Date.now()})},ftruncate(d,f){var _=R.getStreamChecked(d);if(!(_.flags&2097155))throw new R.ErrnoError(28);R.truncate(_.node,f)},utime(d,f,_){var b=R.lookupPath(d,{follow:!0}),S=b.node;S.node_ops.setattr(S,{timestamp:Math.max(f,_)})},open(d,f,_){if(d==="")throw new R.ErrnoError(44);f=typeof f=="string"?Ku(f):f,f&64?(_=typeof _>"u"?438:_,_=_&4095|32768):_=0;var b;if(typeof d=="object")b=d;else{d=le.normalize(d);try{var S=R.lookupPath(d,{follow:!(f&131072)});b=S.node}catch{}}var k=!1;if(f&64)if(b){if(f&128)throw new R.ErrnoError(20)}else b=R.mknod(d,_,0),k=!0;if(!b)throw new R.ErrnoError(44);if(R.isChrdev(b.mode)&&(f&=-513),f&65536&&!R.isDir(b.mode))throw new R.ErrnoError(54);if(!k){var X=R.mayOpen(b,f);if(X)throw new R.ErrnoError(X)}f&512&&!k&&R.truncate(b,0),f&=-131713;var te=R.createStream({node:b,path:R.getPath(b),flags:f,seekable:!0,position:0,stream_ops:b.stream_ops,ungotten:[],error:!1});return te.stream_ops.open&&te.stream_ops.open(te),n.logReadFiles&&!(f&1)&&(R.readFiles||(R.readFiles={}),d in R.readFiles||(R.readFiles[d]=1)),te},close(d){if(R.isClosed(d))throw new R.ErrnoError(8);d.getdents&&(d.getdents=null);try{d.stream_ops.close&&d.stream_ops.close(d)}catch(f){throw f}finally{R.closeStream(d.fd)}d.fd=null},isClosed(d){return d.fd===null},llseek(d,f,_){if(R.isClosed(d))throw new R.ErrnoError(8);if(!d.seekable||!d.stream_ops.llseek)throw new R.ErrnoError(70);if(_!=0&&_!=1&&_!=2)throw new R.ErrnoError(28);return d.position=d.stream_ops.llseek(d,f,_),d.ungotten=[],d.position},read(d,f,_,b,S){if(b<0||S<0)throw new R.ErrnoError(28);if(R.isClosed(d))throw new R.ErrnoError(8);if((d.flags&2097155)===1)throw new R.ErrnoError(8);if(R.isDir(d.node.mode))throw new R.ErrnoError(31);if(!d.stream_ops.read)throw new R.ErrnoError(28);var k=typeof S<"u";if(!k)S=d.position;else if(!d.seekable)throw new R.ErrnoError(70);var X=d.stream_ops.read(d,f,_,b,S);return k||(d.position+=X),X},write(d,f,_,b,S,k){if(b<0||S<0)throw new R.ErrnoError(28);if(R.isClosed(d))throw new R.ErrnoError(8);if(!(d.flags&2097155))throw new R.ErrnoError(8);if(R.isDir(d.node.mode))throw new R.ErrnoError(31);if(!d.stream_ops.write)throw new R.ErrnoError(28);d.seekable&&d.flags&1024&&R.llseek(d,0,2);var X=typeof S<"u";if(!X)S=d.position;else if(!d.seekable)throw new R.ErrnoError(70);var te=d.stream_ops.write(d,f,_,b,S,k);return X||(d.position+=te),te},allocate(d,f,_){if(R.isClosed(d))throw new R.ErrnoError(8);if(f<0||_<=0)throw new R.ErrnoError(28);if(!(d.flags&2097155))throw new R.ErrnoError(8);if(!R.isFile(d.node.mode)&&!R.isDir(d.node.mode))throw new R.ErrnoError(43);if(!d.stream_ops.allocate)throw new R.ErrnoError(138);d.stream_ops.allocate(d,f,_)},mmap(d,f,_,b,S){if(b&2&&!(S&2)&&(d.flags&2097155)!==2)throw new R.ErrnoError(2);if((d.flags&2097155)===1)throw new R.ErrnoError(2);if(!d.stream_ops.mmap)throw new R.ErrnoError(43);if(!f)throw new R.ErrnoError(28);return d.stream_ops.mmap(d,f,_,b,S)},msync(d,f,_,b,S){return d.stream_ops.msync?d.stream_ops.msync(d,f,_,b,S):0},ioctl(d,f,_){if(!d.stream_ops.ioctl)throw new R.ErrnoError(59);return d.stream_ops.ioctl(d,f,_)},readFile(d,f={}){if(f.flags=f.flags||0,f.encoding=f.encoding||"binary",f.encoding!=="utf8"&&f.encoding!=="binary")throw new Error(`Invalid encoding type "${f.encoding}"`);var _,b=R.open(d,f.flags),S=R.stat(d),k=S.size,X=new Uint8Array(k);return R.read(b,X,0,k,0),f.encoding==="utf8"?_=_t(X,0):f.encoding==="binary"&&(_=X),R.close(b),_},writeFile(d,f,_={}){_.flags=_.flags||577;var b=R.open(d,_.flags,_.mode);if(typeof f=="string"){var S=new Uint8Array(mr(f)+1),k=cr(f,S,0,S.length);R.write(b,S,0,k,void 0,_.canOwn)}else if(ArrayBuffer.isView(f))R.write(b,f,0,f.byteLength,void 0,_.canOwn);else throw new Error("Unsupported data type");R.close(b)},cwd:()=>R.currentPath,chdir(d){var f=R.lookupPath(d,{follow:!0});if(f.node===null)throw new R.ErrnoError(44);if(!R.isDir(f.node.mode))throw new R.ErrnoError(54);var _=R.nodePermissions(f.node,"x");if(_)throw new R.ErrnoError(_);R.currentPath=f.path},createDefaultDirectories(){R.mkdir("/tmp"),R.mkdir("/home"),R.mkdir("/home/web_user")},createDefaultDevices(){R.mkdir("/dev"),R.registerDevice(R.makedev(1,3),{read:()=>0,write:(b,S,k,X,te)=>X}),R.mkdev("/dev/null",R.makedev(1,3)),Zr.register(R.makedev(5,0),Zr.default_tty_ops),Zr.register(R.makedev(6,0),Zr.default_tty1_ops),R.mkdev("/dev/tty",R.makedev(5,0)),R.mkdev("/dev/tty1",R.makedev(6,0));var d=new Uint8Array(1024),f=0,_=()=>(f===0&&(f=Ie(d).byteLength),d[--f]);R.createDevice("/dev","random",_),R.createDevice("/dev","urandom",_),R.mkdir("/dev/shm"),R.mkdir("/dev/shm/tmp")},createSpecialDirectories(){R.mkdir("/proc");var d=R.mkdir("/proc/self");R.mkdir("/proc/self/fd"),R.mount({mount(){var f=R.createNode(d,"fd",16895,73);return f.node_ops={lookup(_,b){var S=+b,k=R.getStreamChecked(S),X={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>k.path}};return X.parent=X,X}},f}},{},"/proc/self/fd")},createStandardStreams(d,f,_){d?R.createDevice("/dev","stdin",d):R.symlink("/dev/tty","/dev/stdin"),f?R.createDevice("/dev","stdout",null,f):R.symlink("/dev/tty","/dev/stdout"),_?R.createDevice("/dev","stderr",null,_):R.symlink("/dev/tty1","/dev/stderr"),R.open("/dev/stdin",0),R.open("/dev/stdout",1),R.open("/dev/stderr",1)},staticInit(){[44].forEach(d=>{R.genericErrors[d]=new R.ErrnoError(d),R.genericErrors[d].stack="<generic error, no stack>"}),R.nameTable=new Array(4096),R.mount(Ut,{},"/"),R.createDefaultDirectories(),R.createDefaultDevices(),R.createSpecialDirectories(),R.filesystems={MEMFS:Ut}},init(d,f,_){R.initialized=!0,d??=n.stdin,f??=n.stdout,_??=n.stderr,R.createStandardStreams(d,f,_)},quit(){R.initialized=!1;for(var d=0;d<R.streams.length;d++){var f=R.streams[d];f&&R.close(f)}},findObject(d,f){var _=R.analyzePath(d,f);return _.exists?_.object:null},analyzePath(d,f){try{var _=R.lookupPath(d,{follow:!f});d=_.path}catch{}var b={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var _=R.lookupPath(d,{parent:!0});b.parentExists=!0,b.parentPath=_.path,b.parentObject=_.node,b.name=le.basename(d),_=R.lookupPath(d,{follow:!f}),b.exists=!0,b.path=_.path,b.object=_.node,b.name=_.node.name,b.isRoot=_.path==="/"}catch(S){b.error=S.errno}return b},createPath(d,f,_,b){d=typeof d=="string"?d:R.getPath(d);for(var S=f.split("/").reverse();S.length;){var k=S.pop();if(k){var X=le.join2(d,k);try{R.mkdir(X)}catch{}d=X}}return X},createFile(d,f,_,b,S){var k=le.join2(typeof d=="string"?d:R.getPath(d),f),X=gs(b,S);return R.create(k,X)},createDataFile(d,f,_,b,S,k){var X=f;d&&(d=typeof d=="string"?d:R.getPath(d),X=f?le.join2(d,f):d);var te=gs(b,S),Le=R.create(X,te);if(_){if(typeof _=="string"){for(var Ue=new Array(_.length),Je=0,rt=_.length;Je<rt;++Je)Ue[Je]=_.charCodeAt(Je);_=Ue}R.chmod(Le,te|146);var Ae=R.open(Le,577);R.write(Ae,_,0,_.length,0,k),R.close(Ae),R.chmod(Le,te)}},createDevice(d,f,_,b){var S=le.join2(typeof d=="string"?d:R.getPath(d),f),k=gs(!!_,!!b);R.createDevice.major||(R.createDevice.major=64);var X=R.makedev(R.createDevice.major++,0);return R.registerDevice(X,{open(te){te.seekable=!1},close(te){b?.buffer?.length&&b(10)},read(te,Le,Ue,Je,rt){for(var Ae=0,we=0;we<Je;we++){var ze;try{ze=_()}catch{throw new R.ErrnoError(29)}if(ze===void 0&&Ae===0)throw new R.ErrnoError(6);if(ze==null)break;Ae++,Le[Ue+we]=ze}return Ae&&(te.node.timestamp=Date.now()),Ae},write(te,Le,Ue,Je,rt){for(var Ae=0;Ae<Je;Ae++)try{b(Le[Ue+Ae])}catch{throw new R.ErrnoError(29)}return Je&&(te.node.timestamp=Date.now()),Ae}}),R.mkdev(S,k,X)},forceLoadFile(d){if(d.isDevice||d.isFolder||d.link||d.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{d.contents=O(d.url),d.usedBytes=d.contents.length}catch{throw new R.ErrnoError(29)}},createLazyFile(d,f,_,b,S){class k{constructor(){this.lengthKnown=!1,this.chunks=[]}get(we){if(!(we>this.length-1||we<0)){var ze=we%this.chunkSize,ae=we/this.chunkSize|0;return this.getter(ae)[ze]}}setDataGetter(we){this.getter=we}cacheLength(){var we=new XMLHttpRequest;if(we.open("HEAD",_,!1),we.send(null),!(we.status>=200&&we.status<300||we.status===304))throw new Error("Couldn't load "+_+". Status: "+we.status);var ze=Number(we.getResponseHeader("Content-length")),ae,he=(ae=we.getResponseHeader("Accept-Ranges"))&&ae==="bytes",_e=(ae=we.getResponseHeader("Content-Encoding"))&&ae==="gzip",We=1024*1024;he||(We=ze);var Be=(Me,ht)=>{if(Me>ht)throw new Error("invalid range ("+Me+", "+ht+") or no bytes requested!");if(ht>ze-1)throw new Error("only "+ze+" bytes available! programmer error!");var F=new XMLHttpRequest;if(F.open("GET",_,!1),ze!==We&&F.setRequestHeader("Range","bytes="+Me+"-"+ht),F.responseType="arraybuffer",F.overrideMimeType&&F.overrideMimeType("text/plain; charset=x-user-defined"),F.send(null),!(F.status>=200&&F.status<300||F.status===304))throw new Error("Couldn't load "+_+". Status: "+F.status);return F.response!==void 0?new Uint8Array(F.response||[]):Ir(F.responseText||"")},be=this;be.setDataGetter(Me=>{var ht=Me*We,F=(Me+1)*We-1;if(F=Math.min(F,ze-1),typeof be.chunks[Me]>"u"&&(be.chunks[Me]=Be(ht,F)),typeof be.chunks[Me]>"u")throw new Error("doXHR failed!");return be.chunks[Me]}),(_e||!ze)&&(We=ze=1,ze=this.getter(0).length,We=ze,P("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=ze,this._chunkSize=We,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){if(!h)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var X=new k,te={isDevice:!1,contents:X}}else var te={isDevice:!1,url:_};var Le=R.createFile(d,f,te,b,S);te.contents?Le.contents=te.contents:te.url&&(Le.contents=null,Le.url=te.url),Object.defineProperties(Le,{usedBytes:{get:function(){return this.contents.length}}});var Ue={},Je=Object.keys(Le.stream_ops);Je.forEach(Ae=>{var we=Le.stream_ops[Ae];Ue[Ae]=(...ze)=>(R.forceLoadFile(Le),we(...ze))});function rt(Ae,we,ze,ae,he){var _e=Ae.node.contents;if(he>=_e.length)return 0;var We=Math.min(_e.length-he,ae);if(_e.slice)for(var Be=0;Be<We;Be++)we[ze+Be]=_e[he+Be];else for(var Be=0;Be<We;Be++)we[ze+Be]=_e.get(he+Be);return We}return Ue.read=(Ae,we,ze,ae,he)=>(R.forceLoadFile(Le),rt(Ae,we,ze,ae,he)),Ue.mmap=(Ae,we,ze,ae,he)=>{R.forceLoadFile(Le);var _e=_n(we);if(!_e)throw new R.ErrnoError(48);return rt(Ae,G,_e,we,ze),{ptr:_e,allocated:!0}},Le.stream_ops=Ue,Le}},sf=(d,f)=>d?_t(B,d,f):"",Xt={DEFAULT_POLLMASK:5,calculateAt(d,f,_){if(le.isAbs(f))return f;var b;if(d===-100)b=R.cwd();else{var S=Xt.getStreamFromFD(d);b=S.path}if(f.length==0){if(!_)throw new R.ErrnoError(44);return b}return le.join2(b,f)},doStat(d,f,_){var b=d(f);re[_>>2]=b.dev,re[_+4>>2]=b.mode,V[_+8>>2]=b.nlink,re[_+12>>2]=b.uid,re[_+16>>2]=b.gid,re[_+20>>2]=b.rdev,ie[_+24>>3]=BigInt(b.size),re[_+32>>2]=4096,re[_+36>>2]=b.blocks;var S=b.atime.getTime(),k=b.mtime.getTime(),X=b.ctime.getTime();return ie[_+40>>3]=BigInt(Math.floor(S/1e3)),V[_+48>>2]=S%1e3*1e3*1e3,ie[_+56>>3]=BigInt(Math.floor(k/1e3)),V[_+64>>2]=k%1e3*1e3*1e3,ie[_+72>>3]=BigInt(Math.floor(X/1e3)),V[_+80>>2]=X%1e3*1e3*1e3,ie[_+88>>3]=BigInt(b.ino),0},doMsync(d,f,_,b,S){if(!R.isFile(f.node.mode))throw new R.ErrnoError(43);if(b&2)return 0;var k=B.slice(d,d+_);R.msync(f,k,S,_,b)},getStreamFromFD(d){var f=R.getStreamChecked(d);return f},varargs:void 0,getStr(d){var f=sf(d);return f}};function of(d,f){try{return d=Xt.getStr(d),R.chmod(d,f),0}catch(_){if(typeof R>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function af(d,f,_,b){try{if(f=Xt.getStr(f),f=Xt.calculateAt(d,f),_&-8)return-28;var S=R.lookupPath(f,{follow:!0}),k=S.node;if(!k)return-44;var X="";return _&4&&(X+="r"),_&2&&(X+="w"),_&1&&(X+="x"),X&&R.nodePermissions(k,X)?-2:0}catch(te){if(typeof R>"u"||te.name!=="ErrnoError")throw te;return-te.errno}}function lf(d,f){try{return R.fchmod(d,f),0}catch(_){if(typeof R>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function Gu(d,f,_){try{return R.fchown(d,f,_),0}catch(b){if(typeof R>"u"||b.name!=="ErrnoError")throw b;return-b.errno}}function qa(){var d=re[+Xt.varargs>>2];return Xt.varargs+=4,d}var Ri=qa;function Ju(d,f,_){Xt.varargs=_;try{var b=Xt.getStreamFromFD(d);switch(f){case 0:{var S=qa();if(S<0)return-28;for(;R.streams[S];)S++;var k;return k=R.dupStream(b,S),k.fd}case 1:case 2:return 0;case 3:return b.flags;case 4:{var S=qa();return b.flags|=S,0}case 12:{var S=Ri(),X=0;return J[S+X>>1]=2,0}case 13:case 14:return 0}return-28}catch(te){if(typeof R>"u"||te.name!=="ErrnoError")throw te;return-te.errno}}function Ca(d,f){try{var _=Xt.getStreamFromFD(d);return Xt.doStat(R.stat,_.path,f)}catch(b){if(typeof R>"u"||b.name!=="ErrnoError")throw b;return-b.errno}}var Sm=0x20000000000000,Oa=-0x20000000000000,vs=d=>d<Oa||d>Sm?NaN:Number(d);function Sl(d,f){f=vs(f);try{return isNaN(f)?61:(R.ftruncate(d,f),0)}catch(_){if(typeof R>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}var _s=(d,f,_)=>cr(d,B,f,_);function Em(d,f){try{if(f===0)return-28;var _=R.cwd(),b=mr(_)+1;return f<b?-68:(_s(_,d,f),b)}catch(S){if(typeof R>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}function Nm(d,f,_){Xt.varargs=_;try{var b=Xt.getStreamFromFD(d);switch(f){case 21509:return b.tty?0:-59;case 21505:{if(!b.tty)return-59;if(b.tty.ops.ioctl_tcgets){var S=b.tty.ops.ioctl_tcgets(b),k=Ri();re[k>>2]=S.c_iflag||0,re[k+4>>2]=S.c_oflag||0,re[k+8>>2]=S.c_cflag||0,re[k+12>>2]=S.c_lflag||0;for(var X=0;X<32;X++)G[k+X+17]=S.c_cc[X]||0;return 0}return 0}case 21510:case 21511:case 21512:return b.tty?0:-59;case 21506:case 21507:case 21508:{if(!b.tty)return-59;if(b.tty.ops.ioctl_tcsets){for(var k=Ri(),te=re[k>>2],Le=re[k+4>>2],Ue=re[k+8>>2],Je=re[k+12>>2],rt=[],X=0;X<32;X++)rt.push(G[k+X+17]);return b.tty.ops.ioctl_tcsets(b.tty,f,{c_iflag:te,c_oflag:Le,c_cflag:Ue,c_lflag:Je,c_cc:rt})}return 0}case 21519:{if(!b.tty)return-59;var k=Ri();return re[k>>2]=0,0}case 21520:return b.tty?-28:-59;case 21531:{var k=Ri();return R.ioctl(b,f,k)}case 21523:{if(!b.tty)return-59;if(b.tty.ops.ioctl_tiocgwinsz){var Ae=b.tty.ops.ioctl_tiocgwinsz(b.tty),k=Ri();J[k>>1]=Ae[0],J[k+2>>1]=Ae[1]}return 0}case 21524:return b.tty?0:-59;case 21515:return b.tty?0:-59;default:return-28}}catch(we){if(typeof R>"u"||we.name!=="ErrnoError")throw we;return-we.errno}}function km(d,f){try{return d=Xt.getStr(d),Xt.doStat(R.lstat,d,f)}catch(_){if(typeof R>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function $s(d,f,_){try{return f=Xt.getStr(f),f=Xt.calculateAt(d,f),f=le.normalize(f),f[f.length-1]==="/"&&(f=f.substr(0,f.length-1)),R.mkdir(f,_,0),0}catch(b){if(typeof R>"u"||b.name!=="ErrnoError")throw b;return-b.errno}}function uf(d,f,_,b){try{f=Xt.getStr(f);var S=b&256,k=b&4096;return b=b&-6401,f=Xt.calculateAt(d,f,k),Xt.doStat(S?R.lstat:R.stat,f,_)}catch(X){if(typeof R>"u"||X.name!=="ErrnoError")throw X;return-X.errno}}function cf(d,f,_,b){Xt.varargs=b;try{f=Xt.getStr(f),f=Xt.calculateAt(d,f);var S=b?qa():0;return R.open(f,_,S).fd}catch(k){if(typeof R>"u"||k.name!=="ErrnoError")throw k;return-k.errno}}function qm(d,f,_,b){try{if(f=Xt.getStr(f),f=Xt.calculateAt(d,f),b<=0)return-28;var S=R.readlink(f),k=Math.min(b,mr(S)),X=G[_+k];return _s(S,_,b+1),G[_+k]=X,k}catch(te){if(typeof R>"u"||te.name!=="ErrnoError")throw te;return-te.errno}}function df(d){try{return d=Xt.getStr(d),R.rmdir(d),0}catch(f){if(typeof R>"u"||f.name!=="ErrnoError")throw f;return-f.errno}}function ff(d,f){try{return d=Xt.getStr(d),Xt.doStat(R.stat,d,f)}catch(_){if(typeof R>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function hf(d,f,_){try{return f=Xt.getStr(f),f=Xt.calculateAt(d,f),_===0?R.unlink(f):_===512?R.rmdir(f):ft("Invalid flags passed to unlinkat"),0}catch(b){if(typeof R>"u"||b.name!=="ErrnoError")throw b;return-b.errno}}var Zu=d=>V[d>>2]+re[d+4>>2]*0x100000000;function Cm(d,f,_,b){try{f=Xt.getStr(f),f=Xt.calculateAt(d,f,!0);var S=Date.now(),k,X;if(!_)k=S,X=S;else{var te=Zu(_),Le=re[_+8>>2];Le==0x3fffffff?k=S:Le==0x3ffffffe?k=-1:k=te*1e3+Le/(1e3*1e3),_+=16,te=Zu(_),Le=re[_+8>>2],Le==0x3fffffff?X=S:Le==0x3ffffffe?X=-1:X=te*1e3+Le/(1e3*1e3)}return(X!=-1||k!=-1)&&R.utime(f,k,X),0}catch(Ue){if(typeof R>"u"||Ue.name!=="ErrnoError")throw Ue;return-Ue.errno}}var Om=1,Ur=()=>Om,Im=d=>d%4===0&&(d%100!==0||d%400===0),Xu=[0,31,60,91,121,152,182,213,244,274,305,335],pf=[0,31,59,90,120,151,181,212,243,273,304,334],El=d=>{var f=Im(d.getFullYear()),_=f?Xu:pf,b=_[d.getMonth()]+d.getDate()-1;return b};function Rm(d,f){d=vs(d);var _=new Date(d*1e3);re[f>>2]=_.getSeconds(),re[f+4>>2]=_.getMinutes(),re[f+8>>2]=_.getHours(),re[f+12>>2]=_.getDate(),re[f+16>>2]=_.getMonth(),re[f+20>>2]=_.getFullYear()-1900,re[f+24>>2]=_.getDay();var b=El(_)|0;re[f+28>>2]=b,re[f+36>>2]=-(_.getTimezoneOffset()*60);var S=new Date(_.getFullYear(),0,1),k=new Date(_.getFullYear(),6,1).getTimezoneOffset(),X=S.getTimezoneOffset(),te=(k!=X&&_.getTimezoneOffset()==Math.min(X,k))|0;re[f+32>>2]=te}function mf(d,f,_,b,S,k,X){S=vs(S);try{if(isNaN(S))return 61;var te=Xt.getStreamFromFD(b),Le=R.mmap(te,d,S,f,_),Ue=Le.ptr;return re[k>>2]=Le.allocated,V[X>>2]=Ue,0}catch(Je){if(typeof R>"u"||Je.name!=="ErrnoError")throw Je;return-Je.errno}}function Nl(d,f,_,b,S,k){k=vs(k);try{var X=Xt.getStreamFromFD(S);_&2&&Xt.doMsync(d,X,f,b,k)}catch(te){if(typeof R>"u"||te.name!=="ErrnoError")throw te;return-te.errno}}var Ai=(d,f,_,b)=>{var S=new Date().getFullYear(),k=new Date(S,0,1),X=new Date(S,6,1),te=k.getTimezoneOffset(),Le=X.getTimezoneOffset(),Ue=Math.max(te,Le);V[d>>2]=Ue*60,re[f>>2]=+(te!=Le);var Je=we=>{var ze=we>=0?"-":"+",ae=Math.abs(we),he=String(Math.floor(ae/60)).padStart(2,"0"),_e=String(ae%60).padStart(2,"0");return`UTC${ze}${he}${_e}`},rt=Je(te),Ae=Je(Le);Le<te?(_s(rt,_,17),_s(Ae,b,17)):(_s(rt,b,17),_s(Ae,_,17))},Am=()=>Date.now(),Kn;Kn=()=>performance.now();var Tm=()=>0x80000000,Pm=d=>{var f=$.buffer,_=(d-f.byteLength+65535)/65536;try{return $.grow(_),D(),1}catch{}},Fm=d=>{var f=B.length;d>>>=0;var _=Tm();if(d>_)return!1;for(var b=1;b<=4;b*=2){var S=f*(1+.2/b);S=Math.min(S,d+0x6000000);var k=Math.min(_,Ws(Math.max(d,S),65536)),X=Pm(k);if(X)return!0}return!1},Ao={},kl=()=>x||"./this.program",Gi=()=>{if(!Gi.strings){var d=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",f={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:d,_:kl()};for(var _ in Ao)Ao[_]===void 0?delete f[_]:f[_]=Ao[_];var b=[];for(var _ in f)b.push(`${_}=${f[_]}`);Gi.strings=b}return Gi.strings},ql=(d,f)=>{for(var _=0;_<d.length;++_)G[f++]=d.charCodeAt(_);G[f]=0},jm=(d,f)=>{var _=0;return Gi().forEach((b,S)=>{var k=f+_;V[d+S*4>>2]=k,ql(b,k),_+=b.length+1}),0},Lm=(d,f)=>{var _=Gi();V[d>>2]=_.length;var b=0;return _.forEach(S=>b+=S.length+1),V[f>>2]=b,0};function Yu(d){try{var f=Xt.getStreamFromFD(d);return R.close(f),0}catch(_){if(typeof R>"u"||_.name!=="ErrnoError")throw _;return _.errno}}function yf(d,f){try{var _=0,b=0,S=0,k=Xt.getStreamFromFD(d),X=k.tty?2:R.isDir(k.mode)?3:R.isLink(k.mode)?7:4;return G[f]=X,J[f+2>>1]=S,ie[f+8>>3]=BigInt(_),ie[f+16>>3]=BigInt(b),0}catch(te){if(typeof R>"u"||te.name!=="ErrnoError")throw te;return te.errno}}var ec=(d,f,_,b)=>{for(var S=0,k=0;k<_;k++){var X=V[f>>2],te=V[f+4>>2];f+=8;var Le=R.read(d,G,X,te,b);if(Le<0)return-1;if(S+=Le,Le<te)break}return S};function Ia(d,f,_,b){try{var S=Xt.getStreamFromFD(d),k=ec(S,f,_);return V[b>>2]=k,0}catch(X){if(typeof R>"u"||X.name!=="ErrnoError")throw X;return X.errno}}function Dm(d,f,_,b){f=vs(f);try{if(isNaN(f))return 61;var S=Xt.getStreamFromFD(d);return R.llseek(S,f,_),ie[b>>3]=BigInt(S.position),S.getdents&&f===0&&_===0&&(S.getdents=null),0}catch(k){if(typeof R>"u"||k.name!=="ErrnoError")throw k;return k.errno}}function tc(d){try{var f=Xt.getStreamFromFD(d);return f.stream_ops?.fsync?f.stream_ops.fsync(f):0}catch(_){if(typeof R>"u"||_.name!=="ErrnoError")throw _;return _.errno}}var yr=(d,f,_,b)=>{for(var S=0,k=0;k<_;k++){var X=V[f>>2],te=V[f+4>>2];f+=8;var Le=R.write(d,G,X,te,b);if(Le<0)return-1;if(S+=Le,Le<te)break}return S};function gf(d,f,_,b){try{var S=Xt.getStreamFromFD(d),k=yr(S,f,_);return V[b>>2]=k,0}catch(X){if(typeof R>"u"||X.name!=="ErrnoError")throw X;return X.errno}}R.createPreloadedFile=Qu,R.staticInit();var rc={__syscall_chmod:of,__syscall_faccessat:af,__syscall_fchmod:lf,__syscall_fchown32:Gu,__syscall_fcntl64:Ju,__syscall_fstat64:Ca,__syscall_ftruncate64:Sl,__syscall_getcwd:Em,__syscall_ioctl:Nm,__syscall_lstat64:km,__syscall_mkdirat:$s,__syscall_newfstatat:uf,__syscall_openat:cf,__syscall_readlinkat:qm,__syscall_rmdir:df,__syscall_stat64:ff,__syscall_unlinkat:hf,__syscall_utimensat:Cm,_emscripten_get_now_is_monotonic:Ur,_localtime_js:Rm,_mmap_js:mf,_munmap_js:Nl,_tzset_js:Ai,emscripten_date_now:Am,emscripten_get_now:Kn,emscripten_resize_heap:Fm,environ_get:jm,environ_sizes_get:Lm,fd_close:Yu,fd_fdstat_get:yf,fd_read:Ia,fd_seek:Dm,fd_sync:tc,fd_write:gf,memory:$},ee=ur();n._sqlite3_status64=(d,f,_,b)=>(n._sqlite3_status64=ee.sqlite3_status64)(d,f,_,b),n._sqlite3_status=(d,f,_,b)=>(n._sqlite3_status=ee.sqlite3_status)(d,f,_,b),n._sqlite3_db_status=(d,f,_,b,S)=>(n._sqlite3_db_status=ee.sqlite3_db_status)(d,f,_,b,S),n._sqlite3_msize=d=>(n._sqlite3_msize=ee.sqlite3_msize)(d),n._sqlite3_vfs_find=d=>(n._sqlite3_vfs_find=ee.sqlite3_vfs_find)(d),n._sqlite3_initialize=()=>(n._sqlite3_initialize=ee.sqlite3_initialize)(),n._sqlite3_malloc=d=>(n._sqlite3_malloc=ee.sqlite3_malloc)(d),n._sqlite3_free=d=>(n._sqlite3_free=ee.sqlite3_free)(d),n._sqlite3_vfs_register=(d,f)=>(n._sqlite3_vfs_register=ee.sqlite3_vfs_register)(d,f),n._sqlite3_vfs_unregister=d=>(n._sqlite3_vfs_unregister=ee.sqlite3_vfs_unregister)(d),n._sqlite3_malloc64=d=>(n._sqlite3_malloc64=ee.sqlite3_malloc64)(d),n._sqlite3_realloc=(d,f)=>(n._sqlite3_realloc=ee.sqlite3_realloc)(d,f),n._sqlite3_realloc64=(d,f)=>(n._sqlite3_realloc64=ee.sqlite3_realloc64)(d,f),n._sqlite3_value_text=d=>(n._sqlite3_value_text=ee.sqlite3_value_text)(d),n._sqlite3_randomness=(d,f)=>(n._sqlite3_randomness=ee.sqlite3_randomness)(d,f),n._sqlite3_stricmp=(d,f)=>(n._sqlite3_stricmp=ee.sqlite3_stricmp)(d,f),n._sqlite3_strnicmp=(d,f,_)=>(n._sqlite3_strnicmp=ee.sqlite3_strnicmp)(d,f,_),n._sqlite3_uri_parameter=(d,f)=>(n._sqlite3_uri_parameter=ee.sqlite3_uri_parameter)(d,f),n._sqlite3_uri_boolean=(d,f,_)=>(n._sqlite3_uri_boolean=ee.sqlite3_uri_boolean)(d,f,_),n._sqlite3_serialize=(d,f,_,b)=>(n._sqlite3_serialize=ee.sqlite3_serialize)(d,f,_,b),n._sqlite3_prepare_v2=(d,f,_,b,S)=>(n._sqlite3_prepare_v2=ee.sqlite3_prepare_v2)(d,f,_,b,S),n._sqlite3_step=d=>(n._sqlite3_step=ee.sqlite3_step)(d),n._sqlite3_column_int64=(d,f)=>(n._sqlite3_column_int64=ee.sqlite3_column_int64)(d,f),n._sqlite3_reset=d=>(n._sqlite3_reset=ee.sqlite3_reset)(d),n._sqlite3_exec=(d,f,_,b,S)=>(n._sqlite3_exec=ee.sqlite3_exec)(d,f,_,b,S),n._sqlite3_column_int=(d,f)=>(n._sqlite3_column_int=ee.sqlite3_column_int)(d,f),n._sqlite3_finalize=d=>(n._sqlite3_finalize=ee.sqlite3_finalize)(d),n._sqlite3_file_control=(d,f,_,b)=>(n._sqlite3_file_control=ee.sqlite3_file_control)(d,f,_,b),n._sqlite3_column_name=(d,f)=>(n._sqlite3_column_name=ee.sqlite3_column_name)(d,f),n._sqlite3_column_text=(d,f)=>(n._sqlite3_column_text=ee.sqlite3_column_text)(d,f),n._sqlite3_column_type=(d,f)=>(n._sqlite3_column_type=ee.sqlite3_column_type)(d,f),n._sqlite3_errmsg=d=>(n._sqlite3_errmsg=ee.sqlite3_errmsg)(d),n._sqlite3_deserialize=(d,f,_,b,S,k)=>(n._sqlite3_deserialize=ee.sqlite3_deserialize)(d,f,_,b,S,k),n._sqlite3_clear_bindings=d=>(n._sqlite3_clear_bindings=ee.sqlite3_clear_bindings)(d),n._sqlite3_value_blob=d=>(n._sqlite3_value_blob=ee.sqlite3_value_blob)(d),n._sqlite3_value_bytes=d=>(n._sqlite3_value_bytes=ee.sqlite3_value_bytes)(d),n._sqlite3_value_double=d=>(n._sqlite3_value_double=ee.sqlite3_value_double)(d),n._sqlite3_value_int=d=>(n._sqlite3_value_int=ee.sqlite3_value_int)(d),n._sqlite3_value_int64=d=>(n._sqlite3_value_int64=ee.sqlite3_value_int64)(d),n._sqlite3_value_subtype=d=>(n._sqlite3_value_subtype=ee.sqlite3_value_subtype)(d),n._sqlite3_value_pointer=(d,f)=>(n._sqlite3_value_pointer=ee.sqlite3_value_pointer)(d,f),n._sqlite3_value_type=d=>(n._sqlite3_value_type=ee.sqlite3_value_type)(d),n._sqlite3_value_nochange=d=>(n._sqlite3_value_nochange=ee.sqlite3_value_nochange)(d),n._sqlite3_value_frombind=d=>(n._sqlite3_value_frombind=ee.sqlite3_value_frombind)(d),n._sqlite3_value_dup=d=>(n._sqlite3_value_dup=ee.sqlite3_value_dup)(d),n._sqlite3_value_free=d=>(n._sqlite3_value_free=ee.sqlite3_value_free)(d),n._sqlite3_result_blob=(d,f,_,b)=>(n._sqlite3_result_blob=ee.sqlite3_result_blob)(d,f,_,b),n._sqlite3_result_error_toobig=d=>(n._sqlite3_result_error_toobig=ee.sqlite3_result_error_toobig)(d),n._sqlite3_result_error_nomem=d=>(n._sqlite3_result_error_nomem=ee.sqlite3_result_error_nomem)(d),n._sqlite3_result_double=(d,f)=>(n._sqlite3_result_double=ee.sqlite3_result_double)(d,f),n._sqlite3_result_error=(d,f,_)=>(n._sqlite3_result_error=ee.sqlite3_result_error)(d,f,_),n._sqlite3_result_int=(d,f)=>(n._sqlite3_result_int=ee.sqlite3_result_int)(d,f),n._sqlite3_result_int64=(d,f)=>(n._sqlite3_result_int64=ee.sqlite3_result_int64)(d,f),n._sqlite3_result_null=d=>(n._sqlite3_result_null=ee.sqlite3_result_null)(d),n._sqlite3_result_pointer=(d,f,_,b)=>(n._sqlite3_result_pointer=ee.sqlite3_result_pointer)(d,f,_,b),n._sqlite3_result_subtype=(d,f)=>(n._sqlite3_result_subtype=ee.sqlite3_result_subtype)(d,f),n._sqlite3_result_text=(d,f,_,b)=>(n._sqlite3_result_text=ee.sqlite3_result_text)(d,f,_,b),n._sqlite3_result_zeroblob=(d,f)=>(n._sqlite3_result_zeroblob=ee.sqlite3_result_zeroblob)(d,f),n._sqlite3_result_zeroblob64=(d,f)=>(n._sqlite3_result_zeroblob64=ee.sqlite3_result_zeroblob64)(d,f),n._sqlite3_result_error_code=(d,f)=>(n._sqlite3_result_error_code=ee.sqlite3_result_error_code)(d,f),n._sqlite3_user_data=d=>(n._sqlite3_user_data=ee.sqlite3_user_data)(d),n._sqlite3_context_db_handle=d=>(n._sqlite3_context_db_handle=ee.sqlite3_context_db_handle)(d),n._sqlite3_vtab_nochange=d=>(n._sqlite3_vtab_nochange=ee.sqlite3_vtab_nochange)(d),n._sqlite3_vtab_in_first=(d,f)=>(n._sqlite3_vtab_in_first=ee.sqlite3_vtab_in_first)(d,f),n._sqlite3_vtab_in_next=(d,f)=>(n._sqlite3_vtab_in_next=ee.sqlite3_vtab_in_next)(d,f),n._sqlite3_aggregate_context=(d,f)=>(n._sqlite3_aggregate_context=ee.sqlite3_aggregate_context)(d,f),n._sqlite3_get_auxdata=(d,f)=>(n._sqlite3_get_auxdata=ee.sqlite3_get_auxdata)(d,f),n._sqlite3_set_auxdata=(d,f,_,b)=>(n._sqlite3_set_auxdata=ee.sqlite3_set_auxdata)(d,f,_,b),n._sqlite3_column_count=d=>(n._sqlite3_column_count=ee.sqlite3_column_count)(d),n._sqlite3_data_count=d=>(n._sqlite3_data_count=ee.sqlite3_data_count)(d),n._sqlite3_column_blob=(d,f)=>(n._sqlite3_column_blob=ee.sqlite3_column_blob)(d,f),n._sqlite3_column_bytes=(d,f)=>(n._sqlite3_column_bytes=ee.sqlite3_column_bytes)(d,f),n._sqlite3_column_double=(d,f)=>(n._sqlite3_column_double=ee.sqlite3_column_double)(d,f),n._sqlite3_column_value=(d,f)=>(n._sqlite3_column_value=ee.sqlite3_column_value)(d,f),n._sqlite3_column_decltype=(d,f)=>(n._sqlite3_column_decltype=ee.sqlite3_column_decltype)(d,f),n._sqlite3_bind_blob=(d,f,_,b,S)=>(n._sqlite3_bind_blob=ee.sqlite3_bind_blob)(d,f,_,b,S),n._sqlite3_bind_double=(d,f,_)=>(n._sqlite3_bind_double=ee.sqlite3_bind_double)(d,f,_),n._sqlite3_bind_int=(d,f,_)=>(n._sqlite3_bind_int=ee.sqlite3_bind_int)(d,f,_),n._sqlite3_bind_int64=(d,f,_)=>(n._sqlite3_bind_int64=ee.sqlite3_bind_int64)(d,f,_),n._sqlite3_bind_null=(d,f)=>(n._sqlite3_bind_null=ee.sqlite3_bind_null)(d,f),n._sqlite3_bind_pointer=(d,f,_,b,S)=>(n._sqlite3_bind_pointer=ee.sqlite3_bind_pointer)(d,f,_,b,S),n._sqlite3_bind_text=(d,f,_,b,S)=>(n._sqlite3_bind_text=ee.sqlite3_bind_text)(d,f,_,b,S),n._sqlite3_bind_parameter_count=d=>(n._sqlite3_bind_parameter_count=ee.sqlite3_bind_parameter_count)(d),n._sqlite3_bind_parameter_name=(d,f)=>(n._sqlite3_bind_parameter_name=ee.sqlite3_bind_parameter_name)(d,f),n._sqlite3_bind_parameter_index=(d,f)=>(n._sqlite3_bind_parameter_index=ee.sqlite3_bind_parameter_index)(d,f),n._sqlite3_db_handle=d=>(n._sqlite3_db_handle=ee.sqlite3_db_handle)(d),n._sqlite3_stmt_readonly=d=>(n._sqlite3_stmt_readonly=ee.sqlite3_stmt_readonly)(d),n._sqlite3_stmt_isexplain=d=>(n._sqlite3_stmt_isexplain=ee.sqlite3_stmt_isexplain)(d),n._sqlite3_stmt_explain=(d,f)=>(n._sqlite3_stmt_explain=ee.sqlite3_stmt_explain)(d,f),n._sqlite3_stmt_busy=d=>(n._sqlite3_stmt_busy=ee.sqlite3_stmt_busy)(d),n._sqlite3_stmt_status=(d,f,_)=>(n._sqlite3_stmt_status=ee.sqlite3_stmt_status)(d,f,_),n._sqlite3_sql=d=>(n._sqlite3_sql=ee.sqlite3_sql)(d),n._sqlite3_expanded_sql=d=>(n._sqlite3_expanded_sql=ee.sqlite3_expanded_sql)(d),n._sqlite3_preupdate_old=(d,f,_)=>(n._sqlite3_preupdate_old=ee.sqlite3_preupdate_old)(d,f,_),n._sqlite3_preupdate_count=d=>(n._sqlite3_preupdate_count=ee.sqlite3_preupdate_count)(d),n._sqlite3_preupdate_depth=d=>(n._sqlite3_preupdate_depth=ee.sqlite3_preupdate_depth)(d),n._sqlite3_preupdate_blobwrite=d=>(n._sqlite3_preupdate_blobwrite=ee.sqlite3_preupdate_blobwrite)(d),n._sqlite3_preupdate_new=(d,f,_)=>(n._sqlite3_preupdate_new=ee.sqlite3_preupdate_new)(d,f,_),n._sqlite3_value_numeric_type=d=>(n._sqlite3_value_numeric_type=ee.sqlite3_value_numeric_type)(d),n._sqlite3_set_authorizer=(d,f,_)=>(n._sqlite3_set_authorizer=ee.sqlite3_set_authorizer)(d,f,_),n._sqlite3_strglob=(d,f)=>(n._sqlite3_strglob=ee.sqlite3_strglob)(d,f),n._sqlite3_strlike=(d,f,_)=>(n._sqlite3_strlike=ee.sqlite3_strlike)(d,f,_),n._sqlite3_auto_extension=d=>(n._sqlite3_auto_extension=ee.sqlite3_auto_extension)(d),n._sqlite3_cancel_auto_extension=d=>(n._sqlite3_cancel_auto_extension=ee.sqlite3_cancel_auto_extension)(d),n._sqlite3_reset_auto_extension=()=>(n._sqlite3_reset_auto_extension=ee.sqlite3_reset_auto_extension)(),n._sqlite3_prepare_v3=(d,f,_,b,S,k)=>(n._sqlite3_prepare_v3=ee.sqlite3_prepare_v3)(d,f,_,b,S,k),n._sqlite3_create_module=(d,f,_,b)=>(n._sqlite3_create_module=ee.sqlite3_create_module)(d,f,_,b),n._sqlite3_create_module_v2=(d,f,_,b,S)=>(n._sqlite3_create_module_v2=ee.sqlite3_create_module_v2)(d,f,_,b,S),n._sqlite3_drop_modules=(d,f)=>(n._sqlite3_drop_modules=ee.sqlite3_drop_modules)(d,f),n._sqlite3_declare_vtab=(d,f)=>(n._sqlite3_declare_vtab=ee.sqlite3_declare_vtab)(d,f),n._sqlite3_vtab_on_conflict=d=>(n._sqlite3_vtab_on_conflict=ee.sqlite3_vtab_on_conflict)(d),n._sqlite3_vtab_collation=(d,f)=>(n._sqlite3_vtab_collation=ee.sqlite3_vtab_collation)(d,f),n._sqlite3_vtab_in=(d,f,_)=>(n._sqlite3_vtab_in=ee.sqlite3_vtab_in)(d,f,_),n._sqlite3_vtab_rhs_value=(d,f,_)=>(n._sqlite3_vtab_rhs_value=ee.sqlite3_vtab_rhs_value)(d,f,_),n._sqlite3_vtab_distinct=d=>(n._sqlite3_vtab_distinct=ee.sqlite3_vtab_distinct)(d),n._sqlite3_keyword_name=(d,f,_)=>(n._sqlite3_keyword_name=ee.sqlite3_keyword_name)(d,f,_),n._sqlite3_keyword_count=()=>(n._sqlite3_keyword_count=ee.sqlite3_keyword_count)(),n._sqlite3_keyword_check=(d,f)=>(n._sqlite3_keyword_check=ee.sqlite3_keyword_check)(d,f),n._sqlite3_complete=d=>(n._sqlite3_complete=ee.sqlite3_complete)(d),n._sqlite3_libversion=()=>(n._sqlite3_libversion=ee.sqlite3_libversion)(),n._sqlite3_libversion_number=()=>(n._sqlite3_libversion_number=ee.sqlite3_libversion_number)(),n._sqlite3_shutdown=()=>(n._sqlite3_shutdown=ee.sqlite3_shutdown)(),n._sqlite3_last_insert_rowid=d=>(n._sqlite3_last_insert_rowid=ee.sqlite3_last_insert_rowid)(d),n._sqlite3_set_last_insert_rowid=(d,f)=>(n._sqlite3_set_last_insert_rowid=ee.sqlite3_set_last_insert_rowid)(d,f),n._sqlite3_changes64=d=>(n._sqlite3_changes64=ee.sqlite3_changes64)(d),n._sqlite3_changes=d=>(n._sqlite3_changes=ee.sqlite3_changes)(d),n._sqlite3_total_changes64=d=>(n._sqlite3_total_changes64=ee.sqlite3_total_changes64)(d),n._sqlite3_total_changes=d=>(n._sqlite3_total_changes=ee.sqlite3_total_changes)(d),n._sqlite3_txn_state=(d,f)=>(n._sqlite3_txn_state=ee.sqlite3_txn_state)(d,f),n._sqlite3_close_v2=d=>(n._sqlite3_close_v2=ee.sqlite3_close_v2)(d),n._sqlite3_busy_handler=(d,f,_)=>(n._sqlite3_busy_handler=ee.sqlite3_busy_handler)(d,f,_),n._sqlite3_progress_handler=(d,f,_,b)=>(n._sqlite3_progress_handler=ee.sqlite3_progress_handler)(d,f,_,b),n._sqlite3_busy_timeout=(d,f)=>(n._sqlite3_busy_timeout=ee.sqlite3_busy_timeout)(d,f),n._sqlite3_interrupt=d=>(n._sqlite3_interrupt=ee.sqlite3_interrupt)(d),n._sqlite3_is_interrupted=d=>(n._sqlite3_is_interrupted=ee.sqlite3_is_interrupted)(d),n._sqlite3_create_function=(d,f,_,b,S,k,X,te)=>(n._sqlite3_create_function=ee.sqlite3_create_function)(d,f,_,b,S,k,X,te),n._sqlite3_create_function_v2=(d,f,_,b,S,k,X,te,Le)=>(n._sqlite3_create_function_v2=ee.sqlite3_create_function_v2)(d,f,_,b,S,k,X,te,Le),n._sqlite3_create_window_function=(d,f,_,b,S,k,X,te,Le,Ue)=>(n._sqlite3_create_window_function=ee.sqlite3_create_window_function)(d,f,_,b,S,k,X,te,Le,Ue),n._sqlite3_overload_function=(d,f,_)=>(n._sqlite3_overload_function=ee.sqlite3_overload_function)(d,f,_),n._sqlite3_trace_v2=(d,f,_,b)=>(n._sqlite3_trace_v2=ee.sqlite3_trace_v2)(d,f,_,b),n._sqlite3_commit_hook=(d,f,_)=>(n._sqlite3_commit_hook=ee.sqlite3_commit_hook)(d,f,_),n._sqlite3_update_hook=(d,f,_)=>(n._sqlite3_update_hook=ee.sqlite3_update_hook)(d,f,_),n._sqlite3_rollback_hook=(d,f,_)=>(n._sqlite3_rollback_hook=ee.sqlite3_rollback_hook)(d,f,_),n._sqlite3_preupdate_hook=(d,f,_)=>(n._sqlite3_preupdate_hook=ee.sqlite3_preupdate_hook)(d,f,_),n._sqlite3_error_offset=d=>(n._sqlite3_error_offset=ee.sqlite3_error_offset)(d),n._sqlite3_errcode=d=>(n._sqlite3_errcode=ee.sqlite3_errcode)(d),n._sqlite3_extended_errcode=d=>(n._sqlite3_extended_errcode=ee.sqlite3_extended_errcode)(d),n._sqlite3_errstr=d=>(n._sqlite3_errstr=ee.sqlite3_errstr)(d),n._sqlite3_limit=(d,f,_)=>(n._sqlite3_limit=ee.sqlite3_limit)(d,f,_),n._sqlite3_open=(d,f)=>(n._sqlite3_open=ee.sqlite3_open)(d,f),n._sqlite3_open_v2=(d,f,_,b)=>(n._sqlite3_open_v2=ee.sqlite3_open_v2)(d,f,_,b),n._sqlite3_create_collation=(d,f,_,b,S)=>(n._sqlite3_create_collation=ee.sqlite3_create_collation)(d,f,_,b,S),n._sqlite3_create_collation_v2=(d,f,_,b,S,k)=>(n._sqlite3_create_collation_v2=ee.sqlite3_create_collation_v2)(d,f,_,b,S,k),n._sqlite3_collation_needed=(d,f,_)=>(n._sqlite3_collation_needed=ee.sqlite3_collation_needed)(d,f,_),n._sqlite3_get_autocommit=d=>(n._sqlite3_get_autocommit=ee.sqlite3_get_autocommit)(d),n._sqlite3_table_column_metadata=(d,f,_,b,S,k,X,te,Le)=>(n._sqlite3_table_column_metadata=ee.sqlite3_table_column_metadata)(d,f,_,b,S,k,X,te,Le),n._sqlite3_extended_result_codes=(d,f)=>(n._sqlite3_extended_result_codes=ee.sqlite3_extended_result_codes)(d,f),n._sqlite3_uri_key=(d,f)=>(n._sqlite3_uri_key=ee.sqlite3_uri_key)(d,f),n._sqlite3_uri_int64=(d,f,_)=>(n._sqlite3_uri_int64=ee.sqlite3_uri_int64)(d,f,_),n._sqlite3_db_name=(d,f)=>(n._sqlite3_db_name=ee.sqlite3_db_name)(d,f),n._sqlite3_db_filename=(d,f)=>(n._sqlite3_db_filename=ee.sqlite3_db_filename)(d,f),n._sqlite3_db_readonly=(d,f)=>(n._sqlite3_db_readonly=ee.sqlite3_db_readonly)(d,f),n._sqlite3_compileoption_used=d=>(n._sqlite3_compileoption_used=ee.sqlite3_compileoption_used)(d),n._sqlite3_compileoption_get=d=>(n._sqlite3_compileoption_get=ee.sqlite3_compileoption_get)(d),n._sqlite3session_diff=(d,f,_,b)=>(n._sqlite3session_diff=ee.sqlite3session_diff)(d,f,_,b),n._sqlite3session_attach=(d,f)=>(n._sqlite3session_attach=ee.sqlite3session_attach)(d,f),n._sqlite3session_create=(d,f,_)=>(n._sqlite3session_create=ee.sqlite3session_create)(d,f,_),n._sqlite3session_delete=d=>(n._sqlite3session_delete=ee.sqlite3session_delete)(d),n._sqlite3session_table_filter=(d,f,_)=>(n._sqlite3session_table_filter=ee.sqlite3session_table_filter)(d,f,_),n._sqlite3session_changeset=(d,f,_)=>(n._sqlite3session_changeset=ee.sqlite3session_changeset)(d,f,_),n._sqlite3session_changeset_strm=(d,f,_)=>(n._sqlite3session_changeset_strm=ee.sqlite3session_changeset_strm)(d,f,_),n._sqlite3session_patchset_strm=(d,f,_)=>(n._sqlite3session_patchset_strm=ee.sqlite3session_patchset_strm)(d,f,_),n._sqlite3session_patchset=(d,f,_)=>(n._sqlite3session_patchset=ee.sqlite3session_patchset)(d,f,_),n._sqlite3session_enable=(d,f)=>(n._sqlite3session_enable=ee.sqlite3session_enable)(d,f),n._sqlite3session_indirect=(d,f)=>(n._sqlite3session_indirect=ee.sqlite3session_indirect)(d,f),n._sqlite3session_isempty=d=>(n._sqlite3session_isempty=ee.sqlite3session_isempty)(d),n._sqlite3session_memory_used=d=>(n._sqlite3session_memory_used=ee.sqlite3session_memory_used)(d),n._sqlite3session_object_config=(d,f,_)=>(n._sqlite3session_object_config=ee.sqlite3session_object_config)(d,f,_),n._sqlite3session_changeset_size=d=>(n._sqlite3session_changeset_size=ee.sqlite3session_changeset_size)(d),n._sqlite3changeset_start=(d,f,_)=>(n._sqlite3changeset_start=ee.sqlite3changeset_start)(d,f,_),n._sqlite3changeset_start_v2=(d,f,_,b)=>(n._sqlite3changeset_start_v2=ee.sqlite3changeset_start_v2)(d,f,_,b),n._sqlite3changeset_start_strm=(d,f,_)=>(n._sqlite3changeset_start_strm=ee.sqlite3changeset_start_strm)(d,f,_),n._sqlite3changeset_start_v2_strm=(d,f,_,b)=>(n._sqlite3changeset_start_v2_strm=ee.sqlite3changeset_start_v2_strm)(d,f,_,b),n._sqlite3changeset_next=d=>(n._sqlite3changeset_next=ee.sqlite3changeset_next)(d),n._sqlite3changeset_op=(d,f,_,b,S)=>(n._sqlite3changeset_op=ee.sqlite3changeset_op)(d,f,_,b,S),n._sqlite3changeset_pk=(d,f,_)=>(n._sqlite3changeset_pk=ee.sqlite3changeset_pk)(d,f,_),n._sqlite3changeset_old=(d,f,_)=>(n._sqlite3changeset_old=ee.sqlite3changeset_old)(d,f,_),n._sqlite3changeset_new=(d,f,_)=>(n._sqlite3changeset_new=ee.sqlite3changeset_new)(d,f,_),n._sqlite3changeset_conflict=(d,f,_)=>(n._sqlite3changeset_conflict=ee.sqlite3changeset_conflict)(d,f,_),n._sqlite3changeset_fk_conflicts=(d,f)=>(n._sqlite3changeset_fk_conflicts=ee.sqlite3changeset_fk_conflicts)(d,f),n._sqlite3changeset_finalize=d=>(n._sqlite3changeset_finalize=ee.sqlite3changeset_finalize)(d),n._sqlite3changeset_invert=(d,f,_,b)=>(n._sqlite3changeset_invert=ee.sqlite3changeset_invert)(d,f,_,b),n._sqlite3changeset_invert_strm=(d,f,_,b)=>(n._sqlite3changeset_invert_strm=ee.sqlite3changeset_invert_strm)(d,f,_,b),n._sqlite3changeset_apply_v2=(d,f,_,b,S,k,X,te,Le)=>(n._sqlite3changeset_apply_v2=ee.sqlite3changeset_apply_v2)(d,f,_,b,S,k,X,te,Le),n._sqlite3changeset_apply=(d,f,_,b,S,k)=>(n._sqlite3changeset_apply=ee.sqlite3changeset_apply)(d,f,_,b,S,k),n._sqlite3changeset_apply_v2_strm=(d,f,_,b,S,k,X,te,Le)=>(n._sqlite3changeset_apply_v2_strm=ee.sqlite3changeset_apply_v2_strm)(d,f,_,b,S,k,X,te,Le),n._sqlite3changeset_apply_strm=(d,f,_,b,S,k)=>(n._sqlite3changeset_apply_strm=ee.sqlite3changeset_apply_strm)(d,f,_,b,S,k),n._sqlite3changegroup_new=d=>(n._sqlite3changegroup_new=ee.sqlite3changegroup_new)(d),n._sqlite3changegroup_add=(d,f,_)=>(n._sqlite3changegroup_add=ee.sqlite3changegroup_add)(d,f,_),n._sqlite3changegroup_output=(d,f,_)=>(n._sqlite3changegroup_output=ee.sqlite3changegroup_output)(d,f,_),n._sqlite3changegroup_add_strm=(d,f,_)=>(n._sqlite3changegroup_add_strm=ee.sqlite3changegroup_add_strm)(d,f,_),n._sqlite3changegroup_output_strm=(d,f,_)=>(n._sqlite3changegroup_output_strm=ee.sqlite3changegroup_output_strm)(d,f,_),n._sqlite3changegroup_delete=d=>(n._sqlite3changegroup_delete=ee.sqlite3changegroup_delete)(d),n._sqlite3changeset_concat=(d,f,_,b,S,k)=>(n._sqlite3changeset_concat=ee.sqlite3changeset_concat)(d,f,_,b,S,k),n._sqlite3changeset_concat_strm=(d,f,_,b,S,k)=>(n._sqlite3changeset_concat_strm=ee.sqlite3changeset_concat_strm)(d,f,_,b,S,k),n._sqlite3session_config=(d,f)=>(n._sqlite3session_config=ee.sqlite3session_config)(d,f),n._sqlite3_sourceid=()=>(n._sqlite3_sourceid=ee.sqlite3_sourceid)(),n._sqlite3__wasm_pstack_ptr=()=>(n._sqlite3__wasm_pstack_ptr=ee.sqlite3__wasm_pstack_ptr)(),n._sqlite3__wasm_pstack_restore=d=>(n._sqlite3__wasm_pstack_restore=ee.sqlite3__wasm_pstack_restore)(d),n._sqlite3__wasm_pstack_alloc=d=>(n._sqlite3__wasm_pstack_alloc=ee.sqlite3__wasm_pstack_alloc)(d),n._sqlite3__wasm_pstack_remaining=()=>(n._sqlite3__wasm_pstack_remaining=ee.sqlite3__wasm_pstack_remaining)(),n._sqlite3__wasm_pstack_quota=()=>(n._sqlite3__wasm_pstack_quota=ee.sqlite3__wasm_pstack_quota)(),n._sqlite3__wasm_db_error=(d,f,_)=>(n._sqlite3__wasm_db_error=ee.sqlite3__wasm_db_error)(d,f,_),n._sqlite3__wasm_test_struct=d=>(n._sqlite3__wasm_test_struct=ee.sqlite3__wasm_test_struct)(d),n._sqlite3__wasm_enum_json=()=>(n._sqlite3__wasm_enum_json=ee.sqlite3__wasm_enum_json)(),n._sqlite3__wasm_vfs_unlink=(d,f)=>(n._sqlite3__wasm_vfs_unlink=ee.sqlite3__wasm_vfs_unlink)(d,f),n._sqlite3__wasm_db_vfs=(d,f)=>(n._sqlite3__wasm_db_vfs=ee.sqlite3__wasm_db_vfs)(d,f),n._sqlite3__wasm_db_reset=d=>(n._sqlite3__wasm_db_reset=ee.sqlite3__wasm_db_reset)(d),n._sqlite3__wasm_db_export_chunked=(d,f)=>(n._sqlite3__wasm_db_export_chunked=ee.sqlite3__wasm_db_export_chunked)(d,f),n._sqlite3__wasm_db_serialize=(d,f,_,b,S)=>(n._sqlite3__wasm_db_serialize=ee.sqlite3__wasm_db_serialize)(d,f,_,b,S),n._sqlite3__wasm_vfs_create_file=(d,f,_,b)=>(n._sqlite3__wasm_vfs_create_file=ee.sqlite3__wasm_vfs_create_file)(d,f,_,b),n._sqlite3__wasm_posix_create_file=(d,f,_)=>(n._sqlite3__wasm_posix_create_file=ee.sqlite3__wasm_posix_create_file)(d,f,_),n._sqlite3__wasm_kvvfsMakeKeyOnPstack=(d,f)=>(n._sqlite3__wasm_kvvfsMakeKeyOnPstack=ee.sqlite3__wasm_kvvfsMakeKeyOnPstack)(d,f),n._sqlite3__wasm_kvvfs_methods=()=>(n._sqlite3__wasm_kvvfs_methods=ee.sqlite3__wasm_kvvfs_methods)(),n._sqlite3__wasm_vtab_config=(d,f,_)=>(n._sqlite3__wasm_vtab_config=ee.sqlite3__wasm_vtab_config)(d,f,_),n._sqlite3__wasm_db_config_ip=(d,f,_,b)=>(n._sqlite3__wasm_db_config_ip=ee.sqlite3__wasm_db_config_ip)(d,f,_,b),n._sqlite3__wasm_db_config_pii=(d,f,_,b,S)=>(n._sqlite3__wasm_db_config_pii=ee.sqlite3__wasm_db_config_pii)(d,f,_,b,S),n._sqlite3__wasm_db_config_s=(d,f,_)=>(n._sqlite3__wasm_db_config_s=ee.sqlite3__wasm_db_config_s)(d,f,_),n._sqlite3__wasm_config_i=(d,f)=>(n._sqlite3__wasm_config_i=ee.sqlite3__wasm_config_i)(d,f),n._sqlite3__wasm_config_ii=(d,f,_)=>(n._sqlite3__wasm_config_ii=ee.sqlite3__wasm_config_ii)(d,f,_),n._sqlite3__wasm_config_j=(d,f)=>(n._sqlite3__wasm_config_j=ee.sqlite3__wasm_config_j)(d,f),n._sqlite3__wasm_qfmt_token=(d,f)=>(n._sqlite3__wasm_qfmt_token=ee.sqlite3__wasm_qfmt_token)(d,f),n._sqlite3__wasm_init_wasmfs=d=>(n._sqlite3__wasm_init_wasmfs=ee.sqlite3__wasm_init_wasmfs)(d),n._sqlite3__wasm_test_intptr=d=>(n._sqlite3__wasm_test_intptr=ee.sqlite3__wasm_test_intptr)(d),n._sqlite3__wasm_test_voidptr=d=>(n._sqlite3__wasm_test_voidptr=ee.sqlite3__wasm_test_voidptr)(d),n._sqlite3__wasm_test_int64_max=()=>(n._sqlite3__wasm_test_int64_max=ee.sqlite3__wasm_test_int64_max)(),n._sqlite3__wasm_test_int64_min=()=>(n._sqlite3__wasm_test_int64_min=ee.sqlite3__wasm_test_int64_min)(),n._sqlite3__wasm_test_int64_times2=d=>(n._sqlite3__wasm_test_int64_times2=ee.sqlite3__wasm_test_int64_times2)(d),n._sqlite3__wasm_test_int64_minmax=(d,f)=>(n._sqlite3__wasm_test_int64_minmax=ee.sqlite3__wasm_test_int64_minmax)(d,f),n._sqlite3__wasm_test_int64ptr=d=>(n._sqlite3__wasm_test_int64ptr=ee.sqlite3__wasm_test_int64ptr)(d),n._sqlite3__wasm_test_stack_overflow=d=>(n._sqlite3__wasm_test_stack_overflow=ee.sqlite3__wasm_test_stack_overflow)(d),n._sqlite3__wasm_test_str_hello=d=>(n._sqlite3__wasm_test_str_hello=ee.sqlite3__wasm_test_str_hello)(d),n._sqlite3__wasm_SQLTester_strglob=(d,f)=>(n._sqlite3__wasm_SQLTester_strglob=ee.sqlite3__wasm_SQLTester_strglob)(d,f),n._malloc=d=>(n._malloc=ee.malloc)(d),n._free=d=>(n._free=ee.free)(d),n._realloc=(d,f)=>(n._realloc=ee.realloc)(d,f);var nc=(d,f)=>(nc=ee.emscripten_builtin_memalign)(d,f);n.wasmMemory=$;var Ra;lt=function d(){Ra||ic(),Ra||(lt=d)};function ic(){if(xe>0||(Ce(),xe>0))return;function d(){Ra||(Ra=!0,n.calledRun=!0,!U&&(Fe(),o(n),n.onRuntimeInitialized?.(),ve()))}n.setStatus?(n.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>n.setStatus(""),1),d()},1)):d()}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return ic(),n.postRun||(n.postRun=[]),n.postRun.push(function(d){if(globalThis.sqlite3ApiBootstrap=function f(_=globalThis.sqlite3ApiConfig||f.defaultConfig){if(f.sqlite3)return(f.sqlite3.config||console).warn("sqlite3ApiBootstrap() called multiple times.","Config and external initializers are ignored on calls after the first."),f.sqlite3;const b=Object.assign(Object.create(null),{exports:void 0,memory:void 0,bigIntEnabled:typeof d<"u"&&d.HEAPU64?!0:!!globalThis.BigInt64Array,debug:console.debug.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),log:console.log.bind(console),wasmfsOpfsDir:"/opfs",useStdAlloc:!1},_||{});Object.assign(b,{allocExportName:b.useStdAlloc?"malloc":"sqlite3_malloc",deallocExportName:b.useStdAlloc?"free":"sqlite3_free",reallocExportName:b.useStdAlloc?"realloc":"sqlite3_realloc"},b),["exports","memory","wasmfsOpfsDir"].forEach(I=>{typeof b[I]=="function"&&(b[I]=b[I]())}),delete globalThis.sqlite3ApiConfig,delete f.defaultConfig;const S=Object.create(null),k=Object.create(null),X=I=>S.sqlite3_js_rc_str&&S.sqlite3_js_rc_str(I)||"Unknown result code #"+I,te=I=>typeof I=="number"&&I===(I|0);class Le extends Error{constructor(...L){let W;if(L.length)if(te(L[0]))if(W=L[0],L.length===1)super(X(L[0]));else{const qe=X(W);typeof L[1]=="object"?super(qe,L[1]):(L[0]=qe+":",super(L.join(" ")))}else L.length===2&&typeof L[1]=="object"?super(...L):super(L.join(" "));this.resultCode=W||S.SQLITE_ERROR,this.name="SQLite3Error"}}Le.toss=(...I)=>{throw new Le(...I)};const Ue=Le.toss;b.wasmfsOpfsDir&&!/^\/[^/]+$/.test(b.wasmfsOpfsDir)&&Ue("config.wasmfsOpfsDir must be falsy or in the form '/dir-name'.");const Je=I=>typeof I!="bigint"&&I===(I|0)&&I<=0x7fffffff&&I>=-0x80000000,rt=function I(L){return I._max||(I._max=BigInt("0x7fffffffffffffff"),I._min=~I._max),L>=I._min&&L<=I._max},Ae=I=>I>=-2147483647n-1n&&I<=2147483647n,we=function I(L){return I._min||(I._min=Number.MIN_SAFE_INTEGER,I._max=Number.MAX_SAFE_INTEGER),L>=I._min&&L<=I._max},ze=I=>I&&I.constructor&&Je(I.constructor.BYTES_PER_ELEMENT)?I:!1,ae=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,he=I=>I.buffer instanceof ae,_e=(I,L,W)=>he(I)?I.slice(L,W):I.subarray(L,W),We=I=>I&&(I instanceof Uint8Array||I instanceof Int8Array||I instanceof ArrayBuffer),Be=I=>I&&(I instanceof Uint8Array||I instanceof Int8Array||I instanceof ArrayBuffer),be=I=>We(I)||Ue("Value is not of a supported TypedArray type."),Me=new TextDecoder("utf-8"),ht=function(I,L,W){return Me.decode(_e(I,L,W))},F=function(I){return Be(I)?ht(I instanceof ArrayBuffer?new Uint8Array(I):I):Array.isArray(I)?I.join(""):(k.isPtr(I)&&(I=k.cstrToJs(I)),I)};class K extends Error{constructor(...L){L.length===2&&typeof L[1]=="object"?super(...L):L.length?super(L.join(" ")):super("Allocation failed."),this.resultCode=S.SQLITE_NOMEM,this.name="WasmAllocError"}}K.toss=(...I)=>{throw new K(...I)},Object.assign(S,{sqlite3_bind_blob:void 0,sqlite3_bind_text:void 0,sqlite3_create_function_v2:(I,L,W,qe,He,St,Ft,Bt,Ze)=>{},sqlite3_create_function:(I,L,W,qe,He,St,Ft,Bt)=>{},sqlite3_create_window_function:(I,L,W,qe,He,St,Ft,Bt,Ze,ue)=>{},sqlite3_prepare_v3:(I,L,W,qe,He,St)=>{},sqlite3_prepare_v2:(I,L,W,qe,He)=>{},sqlite3_exec:(I,L,W,qe,He)=>{},sqlite3_randomness:(I,L)=>{}});const fe={affirmBindableTypedArray:be,flexibleString:F,bigIntFits32:Ae,bigIntFits64:rt,bigIntFitsDouble:we,isBindableTypedArray:We,isInt32:Je,isSQLableTypedArray:Be,isTypedArray:ze,typedArrayToString:ht,isUIThread:()=>globalThis.window===globalThis&&!!globalThis.document,isSharedTypedArray:he,toss:function(...I){throw new Error(I.join(" "))},toss3:Ue,typedArrayPart:_e,affirmDbHeader:function(I){I instanceof ArrayBuffer&&(I=new Uint8Array(I));const L="SQLite format 3";L.length>I.byteLength&&Ue("Input does not contain an SQLite3 database header.");for(let W=0;W<L.length;++W)L.charCodeAt(W)!==I[W]&&Ue("Input does not contain an SQLite3 database header.")},affirmIsDb:function(I){I instanceof ArrayBuffer&&(I=new Uint8Array(I));const L=I.byteLength;(L<512||L%512!==0)&&Ue("Byte array size",L,"is invalid for an SQLite3 db."),fe.affirmDbHeader(I)}};Object.assign(k,{ptrSizeof:b.wasmPtrSizeof||4,ptrIR:b.wasmPtrIR||"i32",bigIntEnabled:!!b.bigIntEnabled,exports:b.exports||Ue("Missing API config.exports (WASM module exports)."),memory:b.memory||b.exports.memory||Ue("API config object requires a WebAssembly.Memory object","in either config.exports.memory (exported)","or config.memory (imported)."),alloc:void 0,realloc:void 0,dealloc:void 0}),k.allocFromTypedArray=function(I){I instanceof ArrayBuffer&&(I=new Uint8Array(I)),be(I);const L=k.alloc(I.byteLength||1);return k.heapForSize(I.constructor).set(I.byteLength?I:[0],L),L};{const I=b.allocExportName,L=b.deallocExportName,W=b.reallocExportName;for(const qe of[I,L,W])k.exports[qe]instanceof Function||Ue("Missing required exports[",qe,"] function.");k.alloc=function qe(He){return qe.impl(He)||K.toss("Failed to allocate",He," bytes.")},k.alloc.impl=k.exports[I],k.realloc=function qe(He,St){const Ft=qe.impl(He,St);return St?Ft||K.toss("Failed to reallocate",St," bytes."):0},k.realloc.impl=k.exports[W],k.dealloc=k.exports[L]}k.compileOptionUsed=function I(L){if(arguments.length){if(Array.isArray(L)){const W={};return L.forEach(qe=>{W[qe]=S.sqlite3_compileoption_used(qe)}),W}else if(typeof L=="object")return Object.keys(L).forEach(W=>{L[W]=S.sqlite3_compileoption_used(W)}),L}else{if(I._result)return I._result;I._opt||(I._rx=/^([^=]+)=(.+)/,I._rxInt=/^-?\d+$/,I._opt=function(Ft,Bt){const Ze=I._rx.exec(Ft);Bt[0]=Ze?Ze[1]:Ft,Bt[1]=Ze?I._rxInt.test(Ze[2])?+Ze[2]:Ze[2]:!0});const W={},qe=[0,0];let He=0,St;for(;St=S.sqlite3_compileoption_get(He++);)I._opt(St,qe),W[qe[0]]=qe[1];return I._result=W}return typeof L=="string"?!!S.sqlite3_compileoption_used(L):!1},k.pstack=Object.assign(Object.create(null),{restore:k.exports.sqlite3__wasm_pstack_restore,alloc:function(I){return typeof I=="string"&&!(I=k.sizeofIR(I))&&K.toss("Invalid value for pstack.alloc(",arguments[0],")"),k.exports.sqlite3__wasm_pstack_alloc(I)||K.toss("Could not allocate",I,"bytes from the pstack.")},allocChunks:function(I,L){typeof L=="string"&&!(L=k.sizeofIR(L))&&K.toss("Invalid size value for allocChunks(",arguments[1],")");const W=k.pstack.alloc(I*L),qe=[];let He=0,St=0;for(;He<I;++He,St+=L)qe.push(W+St);return qe},allocPtr:(I=1,L=!0)=>I===1?k.pstack.alloc(L?8:k.ptrSizeof):k.pstack.allocChunks(I,L?8:k.ptrSizeof),call:function(I){const L=k.pstack.pointer;try{return I(Y)}finally{k.pstack.restore(L)}}}),Object.defineProperties(k.pstack,{pointer:{configurable:!1,iterable:!0,writeable:!1,get:k.exports.sqlite3__wasm_pstack_ptr},quota:{configurable:!1,iterable:!0,writeable:!1,get:k.exports.sqlite3__wasm_pstack_quota},remaining:{configurable:!1,iterable:!0,writeable:!1,get:k.exports.sqlite3__wasm_pstack_remaining}}),S.sqlite3_randomness=(...I)=>{if(I.length===1&&fe.isTypedArray(I[0])&&I[0].BYTES_PER_ELEMENT===1){const L=I[0];if(L.byteLength===0)return k.exports.sqlite3_randomness(0,0),L;const W=k.pstack.pointer;try{let qe=L.byteLength,He=0;const St=k.exports.sqlite3_randomness,Ft=k.heap8u(),Bt=qe<512?qe:512,Ze=k.pstack.alloc(Bt);do{const ue=qe>Bt?Bt:qe;St(ue,Ze),L.set(_e(Ft,Ze,Ze+ue),He),qe-=ue,He+=ue}while(qe>0)}catch(qe){console.error("Highly unexpected (and ignored!) exception in sqlite3_randomness():",qe)}finally{k.pstack.restore(W)}return L}k.exports.sqlite3_randomness(...I)};let Qe;if(S.sqlite3_wasmfs_opfs_dir=function(){if(Qe!==void 0)return Qe;const I=b.wasmfsOpfsDir;if(!I||!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle)return Qe="";try{return I&&k.xCallWrapped("sqlite3__wasm_init_wasmfs","i32",["string"],I)===0?Qe=I:Qe=""}catch{return Qe=""}},S.sqlite3_wasmfs_filename_is_persistent=function(I){const L=S.sqlite3_wasmfs_opfs_dir();return L&&I?I.startsWith(L+"/"):!1},S.sqlite3_js_db_uses_vfs=function(I,L,W=0){try{const qe=S.sqlite3_vfs_find(L);return qe?I?qe===S.sqlite3_js_db_vfs(I,W)?qe:!1:qe===S.sqlite3_vfs_find(0)?qe:!1:!1}catch{return!1}},S.sqlite3_js_vfs_list=function(){const I=[];let L=S.sqlite3_vfs_find(0);for(;L;){const W=new S.sqlite3_vfs(L);I.push(k.cstrToJs(W.$zName)),L=W.$pNext,W.dispose()}return I},S.sqlite3_js_db_export=function(I,L=0){I=k.xWrap.testConvertArg("sqlite3*",I),I||Ue("Invalid sqlite3* argument."),k.bigIntEnabled||Ue("BigInt64 support is not enabled.");const W=k.scopedAllocPush();let qe;try{const He=k.scopedAlloc(8+k.ptrSizeof),St=He+8,Ft=L?k.isPtr(L)?L:k.scopedAllocCString(""+L):0;let Bt=k.exports.sqlite3__wasm_db_serialize(I,Ft,St,He,0);Bt&&Ue("Database serialization failed with code",Y.capi.sqlite3_js_rc_str(Bt)),qe=k.peekPtr(St);const Ze=k.peek(He,"i64");return Bt=Ze?k.heap8u().slice(qe,qe+Number(Ze)):new Uint8Array,Bt}finally{qe&&k.exports.sqlite3_free(qe),k.scopedAllocPop(W)}},S.sqlite3_js_db_vfs=(I,L=0)=>fe.sqlite3__wasm_db_vfs(I,L),S.sqlite3_js_aggregate_context=(I,L)=>S.sqlite3_aggregate_context(I,L)||(L?K.toss("Cannot allocate",L,"bytes for sqlite3_aggregate_context()"):0),S.sqlite3_js_posix_create_file=function(I,L,W){let qe;L&&k.isPtr(L)?qe=L:L instanceof ArrayBuffer||L instanceof Uint8Array?(qe=k.allocFromTypedArray(L),(arguments.length<3||!fe.isInt32(W)||W<0)&&(W=L.byteLength)):Le.toss("Invalid 2nd argument for sqlite3_js_posix_create_file().");try{(!fe.isInt32(W)||W<0)&&Le.toss("Invalid 3rd argument for sqlite3_js_posix_create_file().");const He=fe.sqlite3__wasm_posix_create_file(I,qe,W);He&&Le.toss("Creation of file failed with sqlite3 result code",S.sqlite3_js_rc_str(He))}finally{k.dealloc(qe)}},S.sqlite3_js_vfs_create_file=function(I,L,W,qe){b.warn("sqlite3_js_vfs_create_file() is deprecated and","should be avoided because it can lead to C-level crashes.","See its documentation for alternative options.");let He;W?(k.isPtr(W)?He=W:W instanceof ArrayBuffer&&(W=new Uint8Array(W)),W instanceof Uint8Array?(He=k.allocFromTypedArray(W),(arguments.length<4||!fe.isInt32(qe)||qe<0)&&(qe=W.byteLength)):Le.toss("Invalid 3rd argument type for sqlite3_js_vfs_create_file().")):He=0,(!fe.isInt32(qe)||qe<0)&&(k.dealloc(He),Le.toss("Invalid 4th argument for sqlite3_js_vfs_create_file()."));try{const St=fe.sqlite3__wasm_vfs_create_file(I,L,He,qe);St&&Le.toss("Creation of file failed with sqlite3 result code",S.sqlite3_js_rc_str(St))}finally{k.dealloc(He)}},S.sqlite3_js_sql_to_string=I=>{if(typeof I=="string")return I;const L=F(v);return L===v?void 0:L},fe.isUIThread()){const I=function(L){const W=Object.create(null);return W.prefix="kvvfs-"+L,W.stores=[],(L==="session"||L==="")&&W.stores.push(globalThis.sessionStorage),(L==="local"||L==="")&&W.stores.push(globalThis.localStorage),W};S.sqlite3_js_kvvfs_clear=function(L=""){let W=0;const qe=I(L);return qe.stores.forEach(He=>{const St=[];let Ft;for(Ft=0;Ft<He.length;++Ft){const Bt=He.key(Ft);Bt.startsWith(qe.prefix)&&St.push(Bt)}St.forEach(Bt=>He.removeItem(Bt)),W+=St.length}),W},S.sqlite3_js_kvvfs_size=function(L=""){let W=0;const qe=I(L);return qe.stores.forEach(He=>{let St;for(St=0;St<He.length;++St){const Ft=He.key(St);Ft.startsWith(qe.prefix)&&(W+=Ft.length,W+=He.getItem(Ft).length)}}),W*2}}S.sqlite3_db_config=function(I,L,...W){switch(this.s||(this.s=k.xWrap("sqlite3__wasm_db_config_s","int",["sqlite3*","int","string:static"]),this.pii=k.xWrap("sqlite3__wasm_db_config_pii","int",["sqlite3*","int","*","int","int"]),this.ip=k.xWrap("sqlite3__wasm_db_config_ip","int",["sqlite3*","int","int","*"])),L){case S.SQLITE_DBCONFIG_ENABLE_FKEY:case S.SQLITE_DBCONFIG_ENABLE_TRIGGER:case S.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER:case S.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION:case S.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE:case S.SQLITE_DBCONFIG_ENABLE_QPSG:case S.SQLITE_DBCONFIG_TRIGGER_EQP:case S.SQLITE_DBCONFIG_RESET_DATABASE:case S.SQLITE_DBCONFIG_DEFENSIVE:case S.SQLITE_DBCONFIG_WRITABLE_SCHEMA:case S.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE:case S.SQLITE_DBCONFIG_DQS_DML:case S.SQLITE_DBCONFIG_DQS_DDL:case S.SQLITE_DBCONFIG_ENABLE_VIEW:case S.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT:case S.SQLITE_DBCONFIG_TRUSTED_SCHEMA:case S.SQLITE_DBCONFIG_STMT_SCANSTATUS:case S.SQLITE_DBCONFIG_REVERSE_SCANORDER:return this.ip(I,L,W[0],W[1]||0);case S.SQLITE_DBCONFIG_LOOKASIDE:return this.pii(I,L,W[0],W[1],W[2]);case S.SQLITE_DBCONFIG_MAINDBNAME:return this.s(I,L,W[0]);default:return S.SQLITE_MISUSE}}.bind(Object.create(null)),S.sqlite3_value_to_js=function(I,L=!0){let W;const qe=S.sqlite3_value_type(I);switch(qe){case S.SQLITE_INTEGER:k.bigIntEnabled?(W=S.sqlite3_value_int64(I),fe.bigIntFitsDouble(W)&&(W=Number(W))):W=S.sqlite3_value_double(I);break;case S.SQLITE_FLOAT:W=S.sqlite3_value_double(I);break;case S.SQLITE_TEXT:W=S.sqlite3_value_text(I);break;case S.SQLITE_BLOB:{const He=S.sqlite3_value_bytes(I),St=S.sqlite3_value_blob(I);He&&!St&&Y.WasmAllocError.toss("Cannot allocate memory for blob argument of",He,"byte(s)"),W=He?k.heap8u().slice(St,St+Number(He)):null;break}case S.SQLITE_NULL:W=null;break;default:L&&Ue(S.SQLITE_MISMATCH,"Unhandled sqlite3_value_type():",qe),W=void 0}return W},S.sqlite3_values_to_js=function(I,L,W=!0){let qe;const He=[];for(qe=0;qe<I;++qe)He.push(S.sqlite3_value_to_js(k.peekPtr(L+k.ptrSizeof*qe),W));return He},S.sqlite3_result_error_js=function(I,L){L instanceof K?S.sqlite3_result_error_nomem(I):S.sqlite3_result_error(I,""+L,-1)},S.sqlite3_result_js=function(I,L){if(L instanceof Error){S.sqlite3_result_error_js(I,L);return}try{switch(typeof L){case"undefined":break;case"boolean":S.sqlite3_result_int(I,L?1:0);break;case"bigint":fe.bigIntFits32(L)?S.sqlite3_result_int(I,Number(L)):fe.bigIntFitsDouble(L)?S.sqlite3_result_double(I,Number(L)):k.bigIntEnabled?fe.bigIntFits64(L)?S.sqlite3_result_int64(I,L):Ue("BigInt value",L.toString(),"is too BigInt for int64."):Ue("BigInt value",L.toString(),"is too BigInt.");break;case"number":{let W;fe.isInt32(L)?W=S.sqlite3_result_int:k.bigIntEnabled&&Number.isInteger(L)&&fe.bigIntFits64(BigInt(L))?W=S.sqlite3_result_int64:W=S.sqlite3_result_double,W(I,L);break}case"string":{const[W,qe]=k.allocCString(L,!0);S.sqlite3_result_text(I,W,qe,S.SQLITE_WASM_DEALLOC);break}case"object":if(L===null){S.sqlite3_result_null(I);break}else if(fe.isBindableTypedArray(L)){const W=k.allocFromTypedArray(L);S.sqlite3_result_blob(I,W,L.byteLength,S.SQLITE_WASM_DEALLOC);break}default:Ue("Don't not how to handle this UDF result value:",typeof L,L)}}catch(W){S.sqlite3_result_error_js(I,W)}},S.sqlite3_column_js=function(I,L,W=!0){const qe=S.sqlite3_column_value(I,L);return qe===0?void 0:S.sqlite3_value_to_js(qe,W)};const z=function(I,L,W){W=S[W],this.ptr?k.pokePtr(this.ptr,0):this.ptr=k.allocPtr();const qe=W(I,L,this.ptr);if(qe)return Le.toss(qe,arguments[2]+"() failed with code "+qe);const He=k.peekPtr(this.ptr);return He?S.sqlite3_value_to_js(He,!0):void 0}.bind(Object.create(null));S.sqlite3_preupdate_new_js=(I,L)=>z(I,L,"sqlite3_preupdate_new"),S.sqlite3_preupdate_old_js=(I,L)=>z(I,L,"sqlite3_preupdate_old"),S.sqlite3changeset_new_js=(I,L)=>z(I,L,"sqlite3changeset_new"),S.sqlite3changeset_old_js=(I,L)=>z(I,L,"sqlite3changeset_old");const Y={WasmAllocError:K,SQLite3Error:Le,capi:S,util:fe,wasm:k,config:b,version:Object.create(null),client:void 0,asyncPostInit:async function I(){if(I.isReady instanceof Promise)return I.isReady;let L=f.initializersAsync;delete f.initializersAsync;const W=async()=>(Y.__isUnderTest||(delete Y.util,delete Y.StructBinder),Y),qe=St=>{throw b.error("an async sqlite3 initializer failed:",St),St};if(!L||!L.length)return I.isReady=W().catch(qe);L=L.map(St=>St instanceof Function?async Ft=>St(Y):St),L.push(W);let He=Promise.resolve(Y);for(;L.length;)He=He.then(L.shift());return I.isReady=He.catch(qe)},scriptInfo:void 0};try{f.initializers.forEach(I=>{I(Y)})}catch(I){throw console.error("sqlite3 bootstrap initializer threw:",I),I}return delete f.initializers,f.sqlite3=Y,Y},globalThis.sqlite3ApiBootstrap.initializers=[],globalThis.sqlite3ApiBootstrap.initializersAsync=[],globalThis.sqlite3ApiBootstrap.defaultConfig=Object.create(null),globalThis.sqlite3ApiBootstrap.sqlite3=void 0,globalThis.WhWasmUtilInstaller=function(f){f.bigIntEnabled===void 0&&(f.bigIntEnabled=!!globalThis.BigInt64Array);const _=(...F)=>{throw new Error(F.join(" "))};f.exports||Object.defineProperty(f,"exports",{enumerable:!0,configurable:!0,get:()=>f.instance&&f.instance.exports});const b=f.pointerIR||"i32",S=f.ptrSizeof=b==="i32"?4:b==="i64"?8:_("Unhandled ptrSizeof:",b),k=Object.create(null);k.heapSize=0,k.memory=null,k.freeFuncIndexes=[],k.scopedAlloc=[],k.utf8Decoder=new TextDecoder,k.utf8Encoder=new TextEncoder("utf-8"),f.sizeofIR=F=>{switch(F){case"i8":return 1;case"i16":return 2;case"i32":case"f32":case"float":return 4;case"i64":case"f64":case"double":return 8;case"*":return S;default:return(""+F).endsWith("*")?S:void 0}};const X=function(){if(!k.memory)k.memory=f.memory instanceof WebAssembly.Memory?f.memory:f.exports.memory;else if(k.heapSize===k.memory.buffer.byteLength)return k;const F=k.memory.buffer;return k.HEAP8=new Int8Array(F),k.HEAP8U=new Uint8Array(F),k.HEAP16=new Int16Array(F),k.HEAP16U=new Uint16Array(F),k.HEAP32=new Int32Array(F),k.HEAP32U=new Uint32Array(F),f.bigIntEnabled&&(k.HEAP64=new BigInt64Array(F),k.HEAP64U=new BigUint64Array(F)),k.HEAP32F=new Float32Array(F),k.HEAP64F=new Float64Array(F),k.heapSize=F.byteLength,k};f.heap8=()=>X().HEAP8,f.heap8u=()=>X().HEAP8U,f.heap16=()=>X().HEAP16,f.heap16u=()=>X().HEAP16U,f.heap32=()=>X().HEAP32,f.heap32u=()=>X().HEAP32U,f.heapForSize=function(F,K=!0){const fe=k.memory&&k.heapSize===k.memory.buffer.byteLength?k:X();switch(F){case Int8Array:return fe.HEAP8;case Uint8Array:return fe.HEAP8U;case Int16Array:return fe.HEAP16;case Uint16Array:return fe.HEAP16U;case Int32Array:return fe.HEAP32;case Uint32Array:return fe.HEAP32U;case 8:return K?fe.HEAP8U:fe.HEAP8;case 16:return K?fe.HEAP16U:fe.HEAP16;case 32:return K?fe.HEAP32U:fe.HEAP32;case 64:if(fe.HEAP64)return K?fe.HEAP64U:fe.HEAP64;break;default:if(f.bigIntEnabled){if(F===globalThis.BigUint64Array)return fe.HEAP64U;if(F===globalThis.BigInt64Array)return fe.HEAP64;break}}_("Invalid heapForSize() size: expecting 8, 16, 32,","or (if BigInt is enabled) 64.")},f.functionTable=function(){return f.exports.__indirect_function_table},f.functionEntry=function(F){const K=f.functionTable();return F<K.length?K.get(F):void 0},f.jsFuncToWasm=function F(K,fe){if(F._||(F._={sigTypes:Object.assign(Object.create(null),{i:"i32",p:"i32",P:"i32",s:"i32",j:"i64",f:"f32",d:"f64"}),typeCodes:Object.assign(Object.create(null),{f64:124,f32:125,i64:126,i32:127}),uleb128Encode:function(Y,I,L){L<128?Y[I](L):Y[I](L%128|128,L>>7)},rxJSig:/^(\w)\((\w*)\)$/,sigParams:function(Y){const I=F._.rxJSig.exec(Y);return I?I[2]:Y.substr(1)},letterType:Y=>F._.sigTypes[Y]||_("Invalid signature letter:",Y),pushSigType:(Y,I)=>Y.push(F._.typeCodes[F._.letterType(I)])}),typeof K=="string"){const Y=fe;fe=K,K=Y}const Qe=F._.sigParams(fe),z=[1,96];F._.uleb128Encode(z,"push",Qe.length);for(const Y of Qe)F._.pushSigType(z,Y);return fe[0]==="v"?z.push(0):(z.push(1),F._.pushSigType(z,fe[0])),F._.uleb128Encode(z,"unshift",z.length),z.unshift(0,97,115,109,1,0,0,0,1),z.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array(z)),{e:{f:K}}).exports.f};const te=function(K,fe,Qe){if(Qe&&!k.scopedAlloc.length&&_("No scopedAllocPush() scope is active."),typeof K=="string"){const L=fe;fe=K,K=L}(typeof fe!="string"||!(K instanceof Function))&&_("Invalid arguments: expecting (function,signature) or (signature,function).");const z=f.functionTable(),Y=z.length;let I;for(;k.freeFuncIndexes.length&&(I=k.freeFuncIndexes.pop(),z.get(I));){I=null;continue}I||(I=Y,z.grow(1));try{return z.set(I,K),Qe&&k.scopedAlloc[k.scopedAlloc.length-1].push(I),I}catch(L){if(!(L instanceof TypeError))throw I===Y&&k.freeFuncIndexes.push(Y),L}try{const L=f.jsFuncToWasm(K,fe);z.set(I,L),Qe&&k.scopedAlloc[k.scopedAlloc.length-1].push(I)}catch(L){throw I===Y&&k.freeFuncIndexes.push(Y),L}return I};f.installFunction=(F,K)=>te(F,K,!1),f.scopedInstallFunction=(F,K)=>te(F,K,!0),f.uninstallFunction=function(F){if(!F&&F!==0)return;const K=k.freeFuncIndexes,fe=f.functionTable();K.push(F);const Qe=fe.get(F);return fe.set(F,null),Qe},f.peek=function(K,fe="i8"){fe.endsWith("*")&&(fe=b);const Qe=k.memory&&k.heapSize===k.memory.buffer.byteLength?k:X(),z=Array.isArray(K)?[]:void 0;let Y;do{switch(z&&(K=arguments[0].shift()),fe){case"i1":case"i8":Y=Qe.HEAP8[K>>0];break;case"i16":Y=Qe.HEAP16[K>>1];break;case"i32":Y=Qe.HEAP32[K>>2];break;case"float":case"f32":Y=Qe.HEAP32F[K>>2];break;case"double":case"f64":Y=Number(Qe.HEAP64F[K>>3]);break;case"i64":if(f.bigIntEnabled){Y=BigInt(Qe.HEAP64[K>>3]);break}default:_("Invalid type for peek():",fe)}z&&z.push(Y)}while(z&&arguments[0].length);return z||Y},f.poke=function(F,K,fe="i8"){fe.endsWith("*")&&(fe=b);const Qe=k.memory&&k.heapSize===k.memory.buffer.byteLength?k:X();for(const z of Array.isArray(F)?F:[F])switch(fe){case"i1":case"i8":Qe.HEAP8[z>>0]=K;continue;case"i16":Qe.HEAP16[z>>1]=K;continue;case"i32":Qe.HEAP32[z>>2]=K;continue;case"float":case"f32":Qe.HEAP32F[z>>2]=K;continue;case"double":case"f64":Qe.HEAP64F[z>>3]=K;continue;case"i64":if(Qe.HEAP64){Qe.HEAP64[z>>3]=BigInt(K);continue}default:_("Invalid type for poke(): "+fe)}return this},f.peekPtr=(...F)=>f.peek(F.length===1?F[0]:F,b),f.pokePtr=(F,K=0)=>f.poke(F,K,b),f.peek8=(...F)=>f.peek(F.length===1?F[0]:F,"i8"),f.poke8=(F,K)=>f.poke(F,K,"i8"),f.peek16=(...F)=>f.peek(F.length===1?F[0]:F,"i16"),f.poke16=(F,K)=>f.poke(F,K,"i16"),f.peek32=(...F)=>f.peek(F.length===1?F[0]:F,"i32"),f.poke32=(F,K)=>f.poke(F,K,"i32"),f.peek64=(...F)=>f.peek(F.length===1?F[0]:F,"i64"),f.poke64=(F,K)=>f.poke(F,K,"i64"),f.peek32f=(...F)=>f.peek(F.length===1?F[0]:F,"f32"),f.poke32f=(F,K)=>f.poke(F,K,"f32"),f.peek64f=(...F)=>f.peek(F.length===1?F[0]:F,"f64"),f.poke64f=(F,K)=>f.poke(F,K,"f64"),f.getMemValue=f.peek,f.getPtrValue=f.peekPtr,f.setMemValue=f.poke,f.setPtrValue=f.pokePtr,f.isPtr32=F=>typeof F=="number"&&F===(F|0)&&F>=0,f.isPtr=f.isPtr32,f.cstrlen=function(F){if(!F||!f.isPtr(F))return null;const K=X().HEAP8U;let fe=F;for(;K[fe]!==0;++fe);return fe-F};const Le=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,Ue=function(F,K,fe){return k.utf8Decoder.decode(F.buffer instanceof Le?F.slice(K,fe):F.subarray(K,fe))};f.cstrToJs=function(F){const K=f.cstrlen(F);return K?Ue(X().HEAP8U,F,F+K):K===null?K:""},f.jstrlen=function(F){if(typeof F!="string")return null;const K=F.length;let fe=0;for(let Qe=0;Qe<K;++Qe){let z=F.charCodeAt(Qe);z>=55296&&z<=57343&&(z=65536+((z&1023)<<10)|F.charCodeAt(++Qe)&1023),z<=127?++fe:z<=2047?fe+=2:z<=65535?fe+=3:fe+=4}return fe},f.jstrcpy=function(F,K,fe=0,Qe=-1,z=!0){if((!K||!(K instanceof Int8Array)&&!(K instanceof Uint8Array))&&_("jstrcpy() target must be an Int8Array or Uint8Array."),Qe<0&&(Qe=K.length-fe),!(Qe>0)||!(fe>=0))return 0;let Y=0,I=F.length;const L=fe,W=fe+Qe-(z?1:0);for(;Y<I&&fe<W;++Y){let qe=F.charCodeAt(Y);if(qe>=55296&&qe<=57343&&(qe=65536+((qe&1023)<<10)|F.charCodeAt(++Y)&1023),qe<=127){if(fe>=W)break;K[fe++]=qe}else if(qe<=2047){if(fe+1>=W)break;K[fe++]=192|qe>>6,K[fe++]=128|qe&63}else if(qe<=65535){if(fe+2>=W)break;K[fe++]=224|qe>>12,K[fe++]=128|qe>>6&63,K[fe++]=128|qe&63}else{if(fe+3>=W)break;K[fe++]=240|qe>>18,K[fe++]=128|qe>>12&63,K[fe++]=128|qe>>6&63,K[fe++]=128|qe&63}}return z&&(K[fe++]=0),fe-L},f.cstrncpy=function(F,K,fe){if((!F||!K)&&_("cstrncpy() does not accept NULL strings."),fe<0)fe=f.cstrlen(strPtr)+1;else if(!(fe>0))return 0;const Qe=f.heap8u();let z=0,Y;for(;z<fe&&(Y=Qe[K+z]);++z)Qe[F+z]=Y;return z<fe&&(Qe[F+z++]=0),z},f.jstrToUintArray=(F,K=!1)=>k.utf8Encoder.encode(K?F+"\0":F);const Je=(F,K)=>{(!(F.alloc instanceof Function)||!(F.dealloc instanceof Function))&&_("Object is missing alloc() and/or dealloc() function(s)","required by",K+"().")},rt=function(F,K,fe,Qe){if(Je(f,Qe),typeof F!="string")return null;{const z=k.utf8Encoder.encode(F),Y=fe(z.length+1),I=X().HEAP8U;return I.set(z,Y),I[Y+z.length]=0,K?[Y,z.length]:Y}};f.allocCString=(F,K=!1)=>rt(F,K,f.alloc,"allocCString()"),f.scopedAllocPush=function(){Je(f,"scopedAllocPush");const F=[];return k.scopedAlloc.push(F),F},f.scopedAllocPop=function(F){Je(f,"scopedAllocPop");const K=arguments.length?k.scopedAlloc.indexOf(F):k.scopedAlloc.length-1;K<0&&_("Invalid state object for scopedAllocPop()."),arguments.length===0&&(F=k.scopedAlloc[K]),k.scopedAlloc.splice(K,1);for(let fe;fe=F.pop();)f.functionEntry(fe)?f.uninstallFunction(fe):f.dealloc(fe)},f.scopedAlloc=function(F){k.scopedAlloc.length||_("No scopedAllocPush() scope is active.");const K=f.alloc(F);return k.scopedAlloc[k.scopedAlloc.length-1].push(K),K},Object.defineProperty(f.scopedAlloc,"level",{configurable:!1,enumerable:!1,get:()=>k.scopedAlloc.length,set:()=>_("The 'active' property is read-only.")}),f.scopedAllocCString=(F,K=!1)=>rt(F,K,f.scopedAlloc,"scopedAllocCString()");const Ae=function(F,K){const fe=f[F?"scopedAlloc":"alloc"]((K.length+1)*f.ptrSizeof);let Qe=0;return K.forEach(z=>{f.pokePtr(fe+f.ptrSizeof*Qe++,f[F?"scopedAllocCString":"allocCString"](""+z))}),f.pokePtr(fe+f.ptrSizeof*Qe,0),fe};f.scopedAllocMainArgv=F=>Ae(!0,F),f.allocMainArgv=F=>Ae(!1,F),f.cArgvToJs=(F,K)=>{const fe=[];for(let Qe=0;Qe<F;++Qe){const z=f.peekPtr(K+f.ptrSizeof*Qe);fe.push(z?f.cstrToJs(z):null)}return fe},f.scopedAllocCall=function(F){f.scopedAllocPush();try{return F()}finally{f.scopedAllocPop()}};const we=function(F,K,fe){Je(f,fe);const Qe=K?"i64":b;let z=f[fe](F*(K?8:S));if(f.poke(z,0,Qe),F===1)return z;const Y=[z];for(let I=1;I<F;++I)z+=K?8:S,Y[I]=z,f.poke(z,0,Qe);return Y};f.allocPtr=(F=1,K=!0)=>we(F,K,"alloc"),f.scopedAllocPtr=(F=1,K=!0)=>we(F,K,"scopedAlloc"),f.xGet=function(F){return f.exports[F]||_("Cannot find exported symbol:",F)};const ze=(F,K)=>_(F+"() requires",K,"argument(s).");f.xCall=function(F,...K){const fe=F instanceof Function?F:f.xGet(F);return fe instanceof Function||_("Exported symbol",F,"is not a function."),fe.length!==K.length&&ze(fe===F?fe.name:F,fe.length),arguments.length===2&&Array.isArray(arguments[1])?fe.apply(null,arguments[1]):fe.apply(null,K)},k.xWrap=Object.create(null),k.xWrap.convert=Object.create(null),k.xWrap.convert.arg=new Map,k.xWrap.convert.result=new Map;const ae=k.xWrap.convert.arg,he=k.xWrap.convert.result;f.bigIntEnabled&&ae.set("i64",F=>BigInt(F));const _e=b==="i32"?F=>F|0:F=>BigInt(F)|BigInt(0);ae.set("i32",_e).set("i16",F=>(F|0)&65535).set("i8",F=>(F|0)&255).set("f32",F=>Number(F).valueOf()).set("float",ae.get("f32")).set("f64",ae.get("f32")).set("double",ae.get("f64")).set("int",ae.get("i32")).set("null",F=>F).set(null,ae.get("null")).set("**",_e).set("*",_e),he.set("*",_e).set("pointer",_e).set("number",F=>Number(F)).set("void",F=>{}).set("null",F=>F).set(null,he.get("null"));{const F=["i8","i16","i32","int","f32","float","f64","double"];f.bigIntEnabled&&F.push("i64");const K=ae.get(b);for(const fe of F)ae.set(fe+"*",K),he.set(fe+"*",K),he.set(fe,ae.get(fe)||_("Missing arg converter:",fe))}const We=function(F){return typeof F=="string"?f.scopedAllocCString(F):F?_e(F):null};ae.set("string",We).set("utf8",We).set("pointer",We),he.set("string",F=>f.cstrToJs(F)).set("utf8",he.get("string")).set("string:dealloc",F=>{try{return F?f.cstrToJs(F):null}finally{f.dealloc(F)}}).set("utf8:dealloc",he.get("string:dealloc")).set("json",F=>JSON.parse(f.cstrToJs(F))).set("json:dealloc",F=>{try{return F?JSON.parse(f.cstrToJs(F)):null}finally{f.dealloc(F)}});const Be=class{constructor(F){this.name=F.name||"unnamed adapter"}convertArg(F,K,fe){_("AbstractArgAdapter must be subclassed.")}};ae.FuncPtrAdapter=class so extends Be{constructor(K){super(K),ae.FuncPtrAdapter.warnOnUse&&console.warn("xArg.FuncPtrAdapter is an internal-only API","and is not intended to be invoked from","client-level code. Invoked with:",K),this.name=K.name||"unnamed",this.signature=K.signature,K.contextKey instanceof Function&&(this.contextKey=K.contextKey,K.bindScope||(K.bindScope="context")),this.bindScope=K.bindScope||_("FuncPtrAdapter options requires a bindScope (explicit or implied)."),so.bindScopes.indexOf(K.bindScope)<0&&_("Invalid options.bindScope ("+K.bindMod+") for FuncPtrAdapter. Expecting one of: ("+so.bindScopes.join(", ")+")"),this.isTransient=this.bindScope==="transient",this.isContext=this.bindScope==="context",this.isPermanent=this.bindScope==="permanent",this.singleton=this.bindScope==="singleton"?[]:void 0,this.callProxy=K.callProxy instanceof Function?K.callProxy:void 0}contextKey(K,fe){return this}contextMap(K){const fe=this.__cmap||(this.__cmap=new Map);let Qe=fe.get(K);return Qe===void 0&&fe.set(K,Qe=[]),Qe}convertArg(K,fe,Qe){let z=this.singleton;if(!z&&this.isContext&&(z=this.contextMap(this.contextKey(fe,Qe))),z&&z[0]===K)return z[1];if(K instanceof Function){this.callProxy&&(K=this.callProxy(K));const Y=te(K,this.signature,this.isTransient);if(so.debugFuncInstall&&so.debugOut("FuncPtrAdapter installed",this,this.contextKey(fe,Qe),"@"+Y,K),z){if(z[1]){so.debugFuncInstall&&so.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(fe,Qe),"@"+z[1],K);try{k.scopedAlloc[k.scopedAlloc.length-1].push(z[1])}catch{}}z[0]=K,z[1]=Y}return Y}else if(f.isPtr(K)||K===null||K===void 0){if(z&&z[1]&&z[1]!==K){so.debugFuncInstall&&so.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(fe,Qe),"@"+z[1],K);try{k.scopedAlloc[k.scopedAlloc.length-1].push(z[1])}catch{}z[0]=z[1]=K|0}return K||0}else throw new TypeError("Invalid FuncPtrAdapter argument type. Expecting a function pointer or a "+(this.name?this.name+" ":"")+"function matching signature "+this.signature+".")}},ae.FuncPtrAdapter.warnOnUse=!1,ae.FuncPtrAdapter.debugFuncInstall=!1,ae.FuncPtrAdapter.debugOut=console.debug.bind(console),ae.FuncPtrAdapter.bindScopes=["transient","context","singleton","permanent"];const be=F=>ae.get(F)||_("Argument adapter not found:",F),Me=F=>he.get(F)||_("Result adapter not found:",F);k.xWrap.convertArg=(F,...K)=>be(F)(...K),k.xWrap.convertArgNoCheck=(F,...K)=>ae.get(F)(...K),k.xWrap.convertResult=(F,K)=>F===null?K:F?Me(F)(K):void 0,k.xWrap.convertResultNoCheck=(F,K)=>F===null?K:F?he.get(F)(K):void 0,f.xWrap=function(F,K,...fe){arguments.length===3&&Array.isArray(arguments[2])&&(fe=arguments[2]),f.isPtr(F)&&(F=f.functionEntry(F)||_("Function pointer not found in WASM function table."));const Qe=F instanceof Function,z=Qe?F:f.xGet(F);if(Qe&&(F=z.name||"unnamed function"),fe.length!==z.length&&ze(F,z.length),K===null&&z.length===0)return z;K!=null&&Me(K);for(const I of fe)I instanceof Be?ae.set(I,(...L)=>I.convertArg(...L)):be(I);const Y=k.xWrap;return z.length===0?(...I)=>I.length?ze(F,z.length):Y.convertResult(K,z.call(null)):function(...I){I.length!==z.length&&ze(F,z.length);const L=f.scopedAllocPush();try{let W=0;for(;W<I.length;++W)I[W]=Y.convertArgNoCheck(fe[W],I[W],I,W);return Y.convertResultNoCheck(K,z.apply(null,I))}finally{f.scopedAllocPop(L)}}};const ht=function(F,K,fe,Qe,z,Y){if(typeof fe=="string"){if(K===1)return Y.get(fe);if(K===2){if(Qe)Qe instanceof Function||_(z,"requires a function argument.");else return delete Y.get(fe),F;return Y.set(fe,Qe),F}}_("Invalid arguments to",z)};return f.xWrap.resultAdapter=function F(K,fe){return ht(F,arguments.length,K,fe,"resultAdapter()",he)},f.xWrap.argAdapter=function F(K,fe){return ht(F,arguments.length,K,fe,"argAdapter()",ae)},f.xWrap.FuncPtrAdapter=ae.FuncPtrAdapter,f.xCallWrapped=function(F,K,fe,...Qe){return Array.isArray(arguments[3])&&(Qe=arguments[3]),f.xWrap(F,K,fe||[]).apply(null,Qe||[])},f.xWrap.testConvertArg=k.xWrap.convertArg,f.xWrap.testConvertResult=k.xWrap.convertResult,f},globalThis.WhWasmUtilInstaller.yawl=function(f){const _=()=>fetch(f.uri,{credentials:"same-origin"}),b=this,S=function(X){if(f.wasmUtilTarget){const te=(...Ue)=>{throw new Error(Ue.join(" "))},Le=f.wasmUtilTarget;if(Le.module=X.module,Le.instance=X.instance,Le.instance.exports.memory||(Le.memory=f.imports&&f.imports.env&&f.imports.env.memory||te("Missing 'memory' object!")),!Le.alloc&&X.instance.exports.malloc){const Ue=X.instance.exports;Le.alloc=function(Je){return Ue.malloc(Je)||te("Allocation of",Je,"bytes failed.")},Le.dealloc=function(Je){Ue.free(Je)}}b(Le)}return f.onload&&f.onload(X,f),X};return WebAssembly.instantiateStreaming?function(){return WebAssembly.instantiateStreaming(_(),f.imports||{}).then(S)}:function(){return _().then(te=>te.arrayBuffer()).then(te=>WebAssembly.instantiate(te,f.imports||{})).then(S)}}.bind(globalThis.WhWasmUtilInstaller),globalThis.Jaccwabyt=function f(_){const b=(...Pe)=>{throw new Error(Pe.join(" "))};!(_.heap instanceof WebAssembly.Memory)&&!(_.heap instanceof Function)&&b("config.heap must be WebAssembly.Memory instance or a function."),["alloc","dealloc"].forEach(function(Pe){_[Pe]instanceof Function||b("Config option '"+Pe+"' must be a function.")});const S=f,k=_.heap instanceof Function?_.heap:()=>new Uint8Array(_.heap.buffer),X=_.alloc,te=_.dealloc,Le=_.log||console.log.bind(console),Ue=_.memberPrefix||"",Je=_.memberSuffix||"",rt=_.bigIntEnabled===void 0?!!globalThis.BigInt64Array:!!_.bigIntEnabled,Ae=globalThis.BigInt,we=globalThis.BigInt64Array,ze=_.ptrSizeof||4,ae=_.ptrIR||"i32";S.debugFlags||(S.__makeDebugFlags=function(Pe=null){Pe&&Pe.__flags&&(Pe=Pe.__flags);const st=function ct(wt){return arguments.length===0?ct.__flags:(wt<0?(delete ct.__flags.getter,delete ct.__flags.setter,delete ct.__flags.alloc,delete ct.__flags.dealloc):(ct.__flags.getter=(1&wt)!==0,ct.__flags.setter=(2&wt)!==0,ct.__flags.alloc=(4&wt)!==0,ct.__flags.dealloc=(8&wt)!==0),ct._flags)};return Object.defineProperty(st,"__flags",{iterable:!1,writable:!1,value:Object.create(Pe)}),Pe||st(0),st},S.debugFlags=S.__makeDebugFlags());const he=function(){const Pe=new ArrayBuffer(2);return new DataView(Pe).setInt16(0,256,!0),new Int16Array(Pe)[0]===256}(),_e=Pe=>Pe[1]==="(",We=Pe=>Pe==="P",Be=Pe=>_e(Pe)?"p":Pe[0],be=function(Pe){switch(Be(Pe)){case"c":case"C":return"i8";case"i":return"i32";case"p":case"P":case"s":return ae;case"j":return"i64";case"f":return"float";case"d":return"double"}b("Unhandled signature IR:",Pe)},Me=we?()=>!0:()=>b("BigInt64Array is not available."),ht=function(Pe){switch(Be(Pe)){case"p":case"P":case"s":{switch(ze){case 4:return"getInt32";case 8:return Me()&&"getBigInt64"}break}case"i":return"getInt32";case"c":return"getInt8";case"C":return"getUint8";case"j":return Me()&&"getBigInt64";case"f":return"getFloat32";case"d":return"getFloat64"}b("Unhandled DataView getter for signature:",Pe)},F=function(Pe){switch(Be(Pe)){case"p":case"P":case"s":{switch(ze){case 4:return"setInt32";case 8:return Me()&&"setBigInt64"}break}case"i":return"setInt32";case"c":return"setInt8";case"C":return"setUint8";case"j":return Me()&&"setBigInt64";case"f":return"setFloat32";case"d":return"setFloat64"}b("Unhandled DataView setter for signature:",Pe)},K=function(Pe){switch(Be(Pe)){case"i":case"f":case"c":case"C":case"d":return Number;case"j":return Me()&&Ae;case"p":case"P":case"s":switch(ze){case 4:return Number;case 8:return Me()&&Ae}break}b("Unhandled DataView set wrapper for signature:",Pe)},fe=(Pe,st)=>Pe+"::"+st,Qe=function(Pe,st){return()=>b(fe(Pe,st),"is read-only.")},z=new WeakMap,Y="(pointer-is-external)",I=function(Pe,st,ct){if(ct||(ct=z.get(st)),ct){if(z.delete(st),Array.isArray(st.ondispose)){let wt;for(;wt=st.ondispose.shift();)try{wt instanceof Function?wt.call(st):wt instanceof Pt?wt.dispose():typeof wt=="number"&&te(wt)}catch(tr){console.warn("ondispose() for",Pe.structName,"@",ct,"threw. NOT propagating it.",tr)}}else if(st.ondispose instanceof Function)try{st.ondispose()}catch(wt){console.warn("ondispose() for",Pe.structName,"@",ct,"threw. NOT propagating it.",wt)}delete st.ondispose,Pe.debugFlags.__flags.dealloc&&Le("debug.dealloc:",st[Y]?"EXTERNAL":"",Pe.structName,"instance:",Pe.structInfo.sizeof,"bytes @"+ct),st[Y]||te(ct)}},L=Pe=>({configurable:!1,writable:!1,iterable:!1,value:Pe}),W=function(Pe,st,ct){let wt=!ct;ct?Object.defineProperty(st,Y,L(ct)):(ct=X(Pe.structInfo.sizeof),ct||b("Allocation of",Pe.structName,"structure failed."));try{Pe.debugFlags.__flags.alloc&&Le("debug.alloc:",wt?"":"EXTERNAL",Pe.structName,"instance:",Pe.structInfo.sizeof,"bytes @"+ct),wt&&k().fill(0,ct,ct+Pe.structInfo.sizeof),z.set(st,ct)}catch(tr){throw I(Pe,st,ct),tr}},qe=function(){const Pe=this.pointer;return Pe?new Uint8Array(k().slice(Pe,Pe+this.structInfo.sizeof)):null},St=L(Pe=>Ue+Pe+Je),Ft=function(Pe,st,ct=!0){let wt=Pe.members[st];if(!wt&&(Ue||Je)){for(const tr of Object.values(Pe.members))if(tr.key===st){wt=tr;break}!wt&&ct&&b(fe(Pe.name,st),"is not a mapped struct member.")}return wt},Bt=function Pe(st,ct,wt=!1){Pe._||(Pe._=xr=>xr.replace(/[^vipPsjrdcC]/g,"").replace(/[pPscC]/g,"i"));const tr=Ft(st.structInfo,ct,!0);return wt?Pe._(tr.signature):tr.signature},Ze={configurable:!1,enumerable:!1,get:function(){return z.get(this)},set:()=>b("Cannot assign the 'pointer' property of a struct.")},ue=L(function(){const Pe=[];for(const st of Object.keys(this.structInfo.members))Pe.push(this.memberKey(st));return Pe}),Ne=new TextDecoder("utf-8"),Ke=new TextEncoder,et=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,It=function(Pe,st,ct){return Ne.decode(Pe.buffer instanceof et?Pe.slice(st,ct):Pe.subarray(st,ct))},Wt=function(Pe,st,ct=!1){const wt=Ft(Pe.structInfo,st,ct);return wt&&wt.signature.length===1&&wt.signature[0]==="s"?wt:!1},Se=function(Pe){Pe.signature!=="s"&&b("Invalid member type signature for C-string value:",JSON.stringify(Pe))},Ve=function(st,ct){const wt=Ft(st.structInfo,ct,!0);Se(wt);const tr=st[wt.key];if(!tr)return null;let xr=tr;const gr=k();for(;gr[xr]!==0;++xr);return tr===xr?"":It(gr,tr,xr)},Xe=function(Pe,...st){Pe.ondispose?Array.isArray(Pe.ondispose)||(Pe.ondispose=[Pe.ondispose]):Pe.ondispose=[],Pe.ondispose.push(...st)},bt=function(Pe){const st=Ke.encode(Pe),ct=X(st.length+1);ct||b("Allocation error while duplicating string:",Pe);const wt=k();return wt.set(st,ct),wt[ct+st.length]=0,ct},ut=function(Pe,st,ct){const wt=Ft(Pe.structInfo,st,!0);Se(wt);const tr=bt(ct);return Pe[wt.key]=tr,Xe(Pe,tr),Pe},Pt=function(st,ct){arguments[2]!==L&&b("Do not call the StructType constructor","from client-level code."),Object.defineProperties(this,{structName:L(st),structInfo:L(ct)})};Pt.prototype=Object.create(null,{dispose:L(function(){I(this.constructor,this)}),lookupMember:L(function(Pe,st=!0){return Ft(this.structInfo,Pe,st)}),memberToJsString:L(function(Pe){return Ve(this,Pe)}),memberIsString:L(function(Pe,st=!0){return Wt(this,Pe,st)}),memberKey:St,memberKeys:ue,memberSignature:L(function(Pe,st=!1){return Bt(this,Pe,st)}),memoryDump:L(qe),pointer:Ze,setMemberCString:L(function(Pe,st){return ut(this,Pe,st)})}),Object.assign(Pt.prototype,{addOnDispose:function(...Pe){return Xe(this,...Pe),this}}),Object.defineProperties(Pt,{allocCString:L(bt),isA:L(Pe=>Pe instanceof Pt),hasExternalPointer:L(Pe=>Pe instanceof Pt&&!!Pe[Y]),memberKey:St});const Yt=Pe=>Number.isFinite(Pe)||Pe instanceof(Ae||Number),Et=function Pe(st,ct,wt){if(!Pe._){Pe._={getters:{},setters:{},sw:{}};const bn=["i","c","C","p","P","s","f","d","v()"];rt&&bn.push("j"),bn.forEach(function(Ti){Pe._.getters[Ti]=ht(Ti),Pe._.setters[Ti]=F(Ti),Pe._.sw[Ti]=K(Ti)});const Mm=/^[ipPsjfdcC]$/,Bm=/^[vipPsjfdcC]\([ipPsjfdcC]*\)$/;Pe.sigCheck=function(Ti,Wm,vf,sc){Object.prototype.hasOwnProperty.call(Ti,vf)&&b(Ti.structName,"already has a property named",vf+"."),Mm.test(sc)||Bm.test(sc)||b("Malformed signature for",fe(Ti.structName,Wm)+":",sc)}}const tr=st.memberKey(ct);Pe.sigCheck(st.prototype,ct,tr,wt.signature),wt.key=tr,wt.name=ct;const xr=Be(wt.signature),gr=fe(st.prototype.structName,tr),br=st.prototype.debugFlags.__flags,zs=Object.create(null);zs.configurable=!1,zs.enumerable=!1,zs.get=function(){br.getter&&Le("debug.getter:",Pe._.getters[xr],"for",be(xr),gr,"@",this.pointer,"+",wt.offset,"sz",wt.sizeof);let bn=new DataView(k().buffer,this.pointer+wt.offset,wt.sizeof)[Pe._.getters[xr]](0,he);return br.getter&&Le("debug.getter:",gr,"result =",bn),bn},wt.readOnly?zs.set=Qe(st.prototype.structName,tr):zs.set=function(bn){if(br.setter&&Le("debug.setter:",Pe._.setters[xr],"for",be(xr),gr,"@",this.pointer,"+",wt.offset,"sz",wt.sizeof,bn),this.pointer||b("Cannot set struct property on disposed instance."),bn===null)bn=0;else for(;!Yt(bn);){if(We(wt.signature)&&bn instanceof Pt){bn=bn.pointer||0,br.setter&&Le("debug.setter:",gr,"resolved to",bn);break}b("Invalid value for pointer-type",gr+".")}new DataView(k().buffer,this.pointer+wt.offset,wt.sizeof)[Pe._.setters[xr]](0,Pe._.sw[xr](bn),he)},Object.defineProperty(st.prototype,tr,zs)},Vr=function Pe(st,ct){arguments.length===1?(ct=st,st=ct.name):ct.name||(ct.name=st),st||b("Struct name is required.");let wt=!1;Object.keys(ct.members).forEach(gr=>{const br=ct.members[gr];br.sizeof?br.sizeof===1?br.signature==="c"||br.signature==="C"||b("Unexpected sizeof==1 member",fe(ct.name,gr),"with signature",br.signature):(br.sizeof%4!==0&&(console.warn("Invalid struct member description =",br,"from",ct),b(st,"member",gr,"sizeof is not aligned. sizeof="+br.sizeof)),br.offset%4!==0&&(console.warn("Invalid struct member description =",br,"from",ct),b(st,"member",gr,"offset is not aligned. offset="+br.offset))):b(st,"member",gr,"is missing sizeof."),(!wt||wt.offset<br.offset)&&(wt=br)}),wt?ct.sizeof<wt.offset+wt.sizeof&&b("Invalid struct config:",st,"max member offset ("+wt.offset+") ","extends past end of struct (sizeof="+ct.sizeof+")."):b("No member property descriptions found.");const tr=L(S.__makeDebugFlags(Pe.debugFlags)),xr=function gr(br){this instanceof gr?arguments.length?((br!==(br|0)||br<=0)&&b("Invalid pointer value for",st,"constructor."),W(gr,this,br)):W(gr,this):b("The",st,"constructor may only be called via 'new'.")};return Object.defineProperties(xr,{debugFlags:tr,isA:L(gr=>gr instanceof xr),memberKey:St,memberKeys:ue,methodInfoForKey:L(function(gr){}),structInfo:L(ct),structName:L(st)}),xr.prototype=new Pt(st,ct,L),Object.defineProperties(xr.prototype,{debugFlags:tr,constructor:L(xr)}),Object.keys(ct.members).forEach(gr=>Et(xr,gr,ct.members[gr])),xr};return Vr.StructType=Pt,Vr.config=_,Vr.allocCString=bt,Vr.debugFlags||(Vr.debugFlags=S.__makeDebugFlags(S.debugFlags)),Vr},globalThis.sqlite3ApiBootstrap.initializers.push(function(f){const _=(...ae)=>{throw new Error(ae.join(" "))};f.SQLite3Error.toss;const b=f.capi,S=f.wasm,k=f.util;if(globalThis.WhWasmUtilInstaller(S),delete globalThis.WhWasmUtilInstaller,S.bindingSignatures=[["sqlite3_aggregate_context","void*","sqlite3_context*","int"],["sqlite3_bind_double","int","sqlite3_stmt*","int","f64"],["sqlite3_bind_int","int","sqlite3_stmt*","int","int"],["sqlite3_bind_null",void 0,"sqlite3_stmt*","int"],["sqlite3_bind_parameter_count","int","sqlite3_stmt*"],["sqlite3_bind_parameter_index","int","sqlite3_stmt*","string"],["sqlite3_bind_parameter_name","string","sqlite3_stmt*","int"],["sqlite3_bind_pointer","int","sqlite3_stmt*","int","*","string:static","*"],["sqlite3_busy_handler","int",["sqlite3*",new S.xWrap.FuncPtrAdapter({signature:"i(pi)",contextKey:(ae,he)=>ae[0]}),"*"]],["sqlite3_busy_timeout","int","sqlite3*","int"],["sqlite3_changes","int","sqlite3*"],["sqlite3_clear_bindings","int","sqlite3_stmt*"],["sqlite3_collation_needed","int","sqlite3*","*","*"],["sqlite3_column_blob","*","sqlite3_stmt*","int"],["sqlite3_column_bytes","int","sqlite3_stmt*","int"],["sqlite3_column_count","int","sqlite3_stmt*"],["sqlite3_column_decltype","string","sqlite3_stmt*","int"],["sqlite3_column_double","f64","sqlite3_stmt*","int"],["sqlite3_column_int","int","sqlite3_stmt*","int"],["sqlite3_column_name","string","sqlite3_stmt*","int"],["sqlite3_column_text","string","sqlite3_stmt*","int"],["sqlite3_column_type","int","sqlite3_stmt*","int"],["sqlite3_column_value","sqlite3_value*","sqlite3_stmt*","int"],["sqlite3_commit_hook","void*",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_commit_hook",signature:"i(p)",contextKey:ae=>ae[0]}),"*"]],["sqlite3_compileoption_get","string","int"],["sqlite3_compileoption_used","int","string"],["sqlite3_complete","int","string:flexible"],["sqlite3_context_db_handle","sqlite3*","sqlite3_context*"],["sqlite3_data_count","int","sqlite3_stmt*"],["sqlite3_db_filename","string","sqlite3*","string"],["sqlite3_db_handle","sqlite3*","sqlite3_stmt*"],["sqlite3_db_name","string","sqlite3*","int"],["sqlite3_db_readonly","int","sqlite3*","string"],["sqlite3_db_status","int","sqlite3*","int","*","*","int"],["sqlite3_errcode","int","sqlite3*"],["sqlite3_errmsg","string","sqlite3*"],["sqlite3_error_offset","int","sqlite3*"],["sqlite3_errstr","string","int"],["sqlite3_exec","int",["sqlite3*","string:flexible",new S.xWrap.FuncPtrAdapter({signature:"i(pipp)",bindScope:"transient",callProxy:ae=>{let he;return(_e,We,Be,be)=>{try{const Me=S.cArgvToJs(We,Be);return he||(he=S.cArgvToJs(We,be)),ae(Me,he)|0}catch(Me){return Me.resultCode||b.SQLITE_ERROR}}}}),"*","**"]],["sqlite3_expanded_sql","string","sqlite3_stmt*"],["sqlite3_extended_errcode","int","sqlite3*"],["sqlite3_extended_result_codes","int","sqlite3*","int"],["sqlite3_file_control","int","sqlite3*","string","int","*"],["sqlite3_finalize","int","sqlite3_stmt*"],["sqlite3_free",void 0,"*"],["sqlite3_get_autocommit","int","sqlite3*"],["sqlite3_get_auxdata","*","sqlite3_context*","int"],["sqlite3_initialize",void 0],["sqlite3_interrupt",void 0,"sqlite3*"],["sqlite3_is_interrupted","int","sqlite3*"],["sqlite3_keyword_count","int"],["sqlite3_keyword_name","int",["int","**","*"]],["sqlite3_keyword_check","int",["string","int"]],["sqlite3_libversion","string"],["sqlite3_libversion_number","int"],["sqlite3_limit","int",["sqlite3*","int","int"]],["sqlite3_malloc","*","int"],["sqlite3_open","int","string","*"],["sqlite3_open_v2","int","string","*","int","string"],["sqlite3_realloc","*","*","int"],["sqlite3_reset","int","sqlite3_stmt*"],["sqlite3_result_blob",void 0,"sqlite3_context*","*","int","*"],["sqlite3_result_double",void 0,"sqlite3_context*","f64"],["sqlite3_result_error",void 0,"sqlite3_context*","string","int"],["sqlite3_result_error_code",void 0,"sqlite3_context*","int"],["sqlite3_result_error_nomem",void 0,"sqlite3_context*"],["sqlite3_result_error_toobig",void 0,"sqlite3_context*"],["sqlite3_result_int",void 0,"sqlite3_context*","int"],["sqlite3_result_null",void 0,"sqlite3_context*"],["sqlite3_result_pointer",void 0,"sqlite3_context*","*","string:static","*"],["sqlite3_result_subtype",void 0,"sqlite3_value*","int"],["sqlite3_result_text",void 0,"sqlite3_context*","string","int","*"],["sqlite3_result_zeroblob",void 0,"sqlite3_context*","int"],["sqlite3_rollback_hook","void*",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_rollback_hook",signature:"v(p)",contextKey:ae=>ae[0]}),"*"]],["sqlite3_set_auxdata",void 0,["sqlite3_context*","int","*",new S.xWrap.FuncPtrAdapter({name:"xDestroyAuxData",signature:"v(*)",contextKey:(ae,he)=>ae[0]})]],["sqlite3_shutdown",void 0],["sqlite3_sourceid","string"],["sqlite3_sql","string","sqlite3_stmt*"],["sqlite3_status","int","int","*","*","int"],["sqlite3_step","int","sqlite3_stmt*"],["sqlite3_stmt_busy","int","sqlite3_stmt*"],["sqlite3_stmt_readonly","int","sqlite3_stmt*"],["sqlite3_stmt_status","int","sqlite3_stmt*","int","int"],["sqlite3_strglob","int","string","string"],["sqlite3_stricmp","int","string","string"],["sqlite3_strlike","int","string","string","int"],["sqlite3_strnicmp","int","string","string","int"],["sqlite3_table_column_metadata","int","sqlite3*","string","string","string","**","**","*","*","*"],["sqlite3_total_changes","int","sqlite3*"],["sqlite3_trace_v2","int",["sqlite3*","int",new S.xWrap.FuncPtrAdapter({name:"sqlite3_trace_v2::callback",signature:"i(ippp)",contextKey:(ae,he)=>ae[0]}),"*"]],["sqlite3_txn_state","int",["sqlite3*","string"]],["sqlite3_uri_boolean","int","sqlite3_filename","string","int"],["sqlite3_uri_key","string","sqlite3_filename","int"],["sqlite3_uri_parameter","string","sqlite3_filename","string"],["sqlite3_user_data","void*","sqlite3_context*"],["sqlite3_value_blob","*","sqlite3_value*"],["sqlite3_value_bytes","int","sqlite3_value*"],["sqlite3_value_double","f64","sqlite3_value*"],["sqlite3_value_dup","sqlite3_value*","sqlite3_value*"],["sqlite3_value_free",void 0,"sqlite3_value*"],["sqlite3_value_frombind","int","sqlite3_value*"],["sqlite3_value_int","int","sqlite3_value*"],["sqlite3_value_nochange","int","sqlite3_value*"],["sqlite3_value_numeric_type","int","sqlite3_value*"],["sqlite3_value_pointer","*","sqlite3_value*","string:static"],["sqlite3_value_subtype","int","sqlite3_value*"],["sqlite3_value_text","string","sqlite3_value*"],["sqlite3_value_type","int","sqlite3_value*"],["sqlite3_vfs_find","*","string"],["sqlite3_vfs_register","int","sqlite3_vfs*","int"],["sqlite3_vfs_unregister","int","sqlite3_vfs*"]],S.exports.sqlite3_progress_handler&&S.bindingSignatures.push(["sqlite3_progress_handler",void 0,["sqlite3*","int",new S.xWrap.FuncPtrAdapter({name:"xProgressHandler",signature:"i(p)",bindScope:"context",contextKey:(ae,he)=>ae[0]}),"*"]]),S.exports.sqlite3_stmt_explain&&S.bindingSignatures.push(["sqlite3_stmt_explain","int","sqlite3_stmt*","int"],["sqlite3_stmt_isexplain","int","sqlite3_stmt*"]),S.exports.sqlite3_set_authorizer&&S.bindingSignatures.push(["sqlite3_set_authorizer","int",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_set_authorizer::xAuth",signature:"i(pissss)",contextKey:(ae,he)=>ae[0],callProxy:ae=>(he,_e,We,Be,be,Me)=>{try{return We=We&&S.cstrToJs(We),Be=Be&&S.cstrToJs(Be),be=be&&S.cstrToJs(be),Me=Me&&S.cstrToJs(Me),ae(he,_e,We,Be,be,Me)||0}catch(ht){return ht.resultCode||b.SQLITE_ERROR}}}),"*"]]),S.bindingSignatures.int64=[["sqlite3_bind_int64","int",["sqlite3_stmt*","int","i64"]],["sqlite3_changes64","i64",["sqlite3*"]],["sqlite3_column_int64","i64",["sqlite3_stmt*","int"]],["sqlite3_deserialize","int","sqlite3*","string","*","i64","i64","int"],["sqlite3_last_insert_rowid","i64",["sqlite3*"]],["sqlite3_malloc64","*","i64"],["sqlite3_msize","i64","*"],["sqlite3_overload_function","int",["sqlite3*","string","int"]],["sqlite3_realloc64","*","*","i64"],["sqlite3_result_int64",void 0,"*","i64"],["sqlite3_result_zeroblob64","int","*","i64"],["sqlite3_serialize","*","sqlite3*","string","*","int"],["sqlite3_set_last_insert_rowid",void 0,["sqlite3*","i64"]],["sqlite3_status64","int","int","*","*","int"],["sqlite3_total_changes64","i64",["sqlite3*"]],["sqlite3_update_hook","*",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_update_hook",signature:"v(iippj)",contextKey:ae=>ae[0],callProxy:ae=>(he,_e,We,Be,be)=>{ae(he,_e,S.cstrToJs(We),S.cstrToJs(Be),be)}}),"*"]],["sqlite3_uri_int64","i64",["sqlite3_filename","string","i64"]],["sqlite3_value_int64","i64","sqlite3_value*"]],S.bigIntEnabled&&S.exports.sqlite3_declare_vtab&&S.bindingSignatures.int64.push(["sqlite3_create_module","int",["sqlite3*","string","sqlite3_module*","*"]],["sqlite3_create_module_v2","int",["sqlite3*","string","sqlite3_module*","*","*"]],["sqlite3_declare_vtab","int",["sqlite3*","string:flexible"]],["sqlite3_drop_modules","int",["sqlite3*","**"]],["sqlite3_vtab_collation","string","sqlite3_index_info*","int"],["sqlite3_vtab_distinct","int","sqlite3_index_info*"],["sqlite3_vtab_in","int","sqlite3_index_info*","int","int"],["sqlite3_vtab_in_first","int","sqlite3_value*","**"],["sqlite3_vtab_in_next","int","sqlite3_value*","**"],["sqlite3_vtab_nochange","int","sqlite3_context*"],["sqlite3_vtab_on_conflict","int","sqlite3*"],["sqlite3_vtab_rhs_value","int","sqlite3_index_info*","int","**"]),S.bigIntEnabled&&S.exports.sqlite3_preupdate_hook&&S.bindingSignatures.int64.push(["sqlite3_preupdate_blobwrite","int","sqlite3*"],["sqlite3_preupdate_count","int","sqlite3*"],["sqlite3_preupdate_depth","int","sqlite3*"],["sqlite3_preupdate_hook","*",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_preupdate_hook",signature:"v(ppippjj)",contextKey:ae=>ae[0],callProxy:ae=>(he,_e,We,Be,be,Me,ht)=>{ae(he,_e,We,S.cstrToJs(Be),S.cstrToJs(be),Me,ht)}}),"*"]],["sqlite3_preupdate_new","int",["sqlite3*","int","**"]],["sqlite3_preupdate_old","int",["sqlite3*","int","**"]]),S.bigIntEnabled&&S.exports.sqlite3changegroup_add&&S.exports.sqlite3session_create&&S.exports.sqlite3_preupdate_hook){const ae={signature:"i(ps)",callProxy:he=>(_e,We)=>{try{return he(_e,S.cstrToJs(We))|0}catch(Be){return Be.resultCode||b.SQLITE_ERROR}}};S.bindingSignatures.int64.push(["sqlite3changegroup_add","int",["sqlite3_changegroup*","int","void*"]],["sqlite3changegroup_add_strm","int",["sqlite3_changegroup*",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changegroup_delete",void 0,["sqlite3_changegroup*"]],["sqlite3changegroup_new","int",["**"]],["sqlite3changegroup_output","int",["sqlite3_changegroup*","int*","**"]],["sqlite3changegroup_output_strm","int",["sqlite3_changegroup*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply","int",["sqlite3*","int","void*",new S.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...ae}),new S.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_strm","int",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...ae}),new S.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_v2","int",["sqlite3*","int","void*",new S.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...ae}),new S.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_apply_v2_strm","int",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...ae}),new S.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_concat","int",["int","void*","int","void*","int*","**"]],["sqlite3changeset_concat_strm","int",[new S.xWrap.FuncPtrAdapter({name:"xInputA",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xInputB",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_conflict","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_finalize","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_fk_conflicts","int",["sqlite3_changeset_iter*","int*"]],["sqlite3changeset_invert","int",["int","void*","int*","**"]],["sqlite3changeset_invert_strm","int",[new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_new","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_next","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_old","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_op","int",["sqlite3_changeset_iter*","**","int*","int*","int*"]],["sqlite3changeset_pk","int",["sqlite3_changeset_iter*","**","int*"]],["sqlite3changeset_start","int",["**","int","*"]],["sqlite3changeset_start_strm","int",["**",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changeset_start_v2","int",["**","int","*","int"]],["sqlite3changeset_start_v2_strm","int",["**",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*","int"]],["sqlite3session_attach","int",["sqlite3_session*","string"]],["sqlite3session_changeset","int",["sqlite3_session*","int*","**"]],["sqlite3session_changeset_size","i64",["sqlite3_session*"]],["sqlite3session_changeset_strm","int",["sqlite3_session*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_config","int",["int","void*"]],["sqlite3session_create","int",["sqlite3*","string","**"]],["sqlite3session_diff","int",["sqlite3_session*","string","string","**"]],["sqlite3session_enable","int",["sqlite3_session*","int"]],["sqlite3session_indirect","int",["sqlite3_session*","int"]],["sqlite3session_isempty","int",["sqlite3_session*"]],["sqlite3session_memory_used","i64",["sqlite3_session*"]],["sqlite3session_object_config","int",["sqlite3_session*","int","void*"]],["sqlite3session_patchset","int",["sqlite3_session*","*","**"]],["sqlite3session_patchset_strm","int",["sqlite3_session*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_table_filter",void 0,["sqlite3_session*",new S.xWrap.FuncPtrAdapter({name:"xFilter",...ae,contextKey:(he,_e)=>he[0]}),"*"]])}S.bindingSignatures.wasmInternal=[["sqlite3__wasm_db_reset","int","sqlite3*"],["sqlite3__wasm_db_vfs","sqlite3_vfs*","sqlite3*","string"],["sqlite3__wasm_vfs_create_file","int","sqlite3_vfs*","string","*","int"],["sqlite3__wasm_posix_create_file","int","string","*","int"],["sqlite3__wasm_vfs_unlink","int","sqlite3_vfs*","string"],["sqlite3__wasm_qfmt_token","string:dealloc","string","int"]],f.StructBinder=globalThis.Jaccwabyt({heap:S.heap8u,alloc:S.alloc,dealloc:S.dealloc,bigIntEnabled:S.bigIntEnabled,memberPrefix:"$"}),delete globalThis.Jaccwabyt;{const ae=S.xWrap.argAdapter("string");S.xWrap.argAdapter("string:flexible",be=>ae(k.flexibleString(be))),S.xWrap.argAdapter("string:static",function(be){return S.isPtr(be)?be:(be=""+be,this[be]||(this[be]=S.allocCString(be)))}.bind(Object.create(null)));const he=S.xWrap.argAdapter("*"),_e=function(){};S.xWrap.argAdapter("sqlite3_filename",he)("sqlite3_context*",he)("sqlite3_value*",he)("void*",he)("sqlite3_changegroup*",he)("sqlite3_changeset_iter*",he)("sqlite3_session*",he)("sqlite3_stmt*",be=>he(be instanceof(f?.oo1?.Stmt||_e)?be.pointer:be))("sqlite3*",be=>he(be instanceof(f?.oo1?.DB||_e)?be.pointer:be))("sqlite3_vfs*",be=>typeof be=="string"?b.sqlite3_vfs_find(be)||f.SQLite3Error.toss(b.SQLITE_NOTFOUND,"Unknown sqlite3_vfs name:",be):he(be instanceof(b.sqlite3_vfs||_e)?be.pointer:be)),S.exports.sqlite3_declare_vtab&&S.xWrap.argAdapter("sqlite3_index_info*",be=>he(be instanceof(b.sqlite3_index_info||_e)?be.pointer:be))("sqlite3_module*",be=>he(be instanceof(b.sqlite3_module||_e)?be.pointer:be));const We=S.xWrap.resultAdapter("*");S.xWrap.resultAdapter("sqlite3*",We)("sqlite3_context*",We)("sqlite3_stmt*",We)("sqlite3_value*",We)("sqlite3_vfs*",We)("void*",We),S.exports.sqlite3_step.length===0&&(S.xWrap.doArgcCheck=!1,f.config.warn("Disabling sqlite3.wasm.xWrap.doArgcCheck due to environmental quirks."));for(const be of S.bindingSignatures)b[be[0]]=S.xWrap.apply(null,be);for(const be of S.bindingSignatures.wasmInternal)k[be[0]]=S.xWrap.apply(null,be);const Be=function(be){return()=>_(be+"() is unavailable due to lack","of BigInt support in this build.")};for(const be of S.bindingSignatures.int64)b[be[0]]=S.bigIntEnabled?S.xWrap.apply(null,be):Be(be[0]);if(delete S.bindingSignatures,S.exports.sqlite3__wasm_db_error){const be=S.xWrap("sqlite3__wasm_db_error","int","sqlite3*","int","string");k.sqlite3__wasm_db_error=function(Me,ht,F){return ht instanceof f.WasmAllocError?(ht=b.SQLITE_NOMEM,F=0):ht instanceof Error&&(F=F||""+ht,ht=ht.resultCode||b.SQLITE_ERROR),Me?be(Me,ht,F):ht}}else k.sqlite3__wasm_db_error=function(be,Me,ht){return console.warn("sqlite3__wasm_db_error() is not exported.",arguments),Me}}{const ae=S.xCall("sqlite3__wasm_enum_json");ae||_("Maintenance required: increase sqlite3__wasm_enum_json()'s","static buffer size!"),S.ctype=JSON.parse(S.cstrToJs(ae));const he=["access","authorizer","blobFinalizers","changeset","config","dataTypes","dbConfig","dbStatus","encodings","fcntl","flock","ioCap","limits","openFlags","prepareFlags","resultCodes","sqlite3Status","stmtStatus","syncFlags","trace","txnState","udfFlags","version"];S.bigIntEnabled&&he.push("serialize","session","vtab");for(const Be of he)for(const be of Object.entries(S.ctype[Be]))b[be[0]]=be[1];S.functionEntry(b.SQLITE_WASM_DEALLOC)||_("Internal error: cannot resolve exported function","entry SQLITE_WASM_DEALLOC (=="+b.SQLITE_WASM_DEALLOC+").");const _e=Object.create(null);for(const Be of["resultCodes"])for(const be of Object.entries(S.ctype[Be]))_e[be[1]]=be[0];b.sqlite3_js_rc_str=Be=>_e[Be];const We=Object.assign(Object.create(null),{WasmTestStruct:!0,sqlite3_kvvfs_methods:!k.isUIThread(),sqlite3_index_info:!S.bigIntEnabled,sqlite3_index_constraint:!S.bigIntEnabled,sqlite3_index_orderby:!S.bigIntEnabled,sqlite3_index_constraint_usage:!S.bigIntEnabled});for(const Be of S.ctype.structs)We[Be.name]||(b[Be.name]=f.StructBinder(Be));if(b.sqlite3_index_info){for(const Be of["sqlite3_index_constraint","sqlite3_index_orderby","sqlite3_index_constraint_usage"])b.sqlite3_index_info[Be]=b[Be],delete b[Be];b.sqlite3_vtab_config=S.xWrap("sqlite3__wasm_vtab_config","int",["sqlite3*","int","int"])}}const X=(ae,he,_e)=>k.sqlite3__wasm_db_error(ae,b.SQLITE_MISUSE,he+"() requires "+_e+" argument"+(_e===1?"":"s")+"."),te=ae=>k.sqlite3__wasm_db_error(ae,b.SQLITE_FORMAT,"SQLITE_UTF8 is the only supported encoding."),Le=ae=>S.xWrap.argAdapter("sqlite3*")(ae),Ue=ae=>S.isPtr(ae)?S.cstrToJs(ae):ae,Je=function(ae,he){ae=Le(ae);let _e=this.dbMap.get(ae);if(he)!_e&&he>0&&this.dbMap.set(ae,_e=Object.create(null));else return this.dbMap.delete(ae),_e;return _e}.bind(Object.assign(Object.create(null),{dbMap:new Map}));Je.addCollation=function(ae,he){const _e=Je(ae,1);_e.collation||(_e.collation=new Set),_e.collation.add(Ue(he).toLowerCase())},Je._addUDF=function(ae,he,_e,We){he=Ue(he).toLowerCase();let Be=We.get(he);Be||We.set(he,Be=new Set),Be.add(_e<0?-1:_e)},Je.addFunction=function(ae,he,_e){const We=Je(ae,1);We.udf||(We.udf=new Map),this._addUDF(ae,he,_e,We.udf)},S.exports.sqlite3_create_window_function&&(Je.addWindowFunc=function(ae,he,_e){const We=Je(ae,1);We.wudf||(We.wudf=new Map),this._addUDF(ae,he,_e,We.wudf)}),Je.cleanup=function(ae){ae=Le(ae);const he=[ae];for(const Be of["sqlite3_busy_handler","sqlite3_commit_hook","sqlite3_preupdate_hook","sqlite3_progress_handler","sqlite3_rollback_hook","sqlite3_set_authorizer","sqlite3_trace_v2","sqlite3_update_hook"]){const be=S.exports[Be];if(be){he.length=be.length;try{b[Be](...he)}catch(Me){f.config.warn("close-time call of",Be+"(",he,") threw:",Me)}}}const _e=Je(ae,0);if(!_e)return;if(_e.collation){for(const Be of _e.collation)try{b.sqlite3_create_collation_v2(ae,Be,b.SQLITE_UTF8,0,0,0)}catch{}delete _e.collation}let We;for(We=0;We<2;++We){const Be=We?_e.wudf:_e.udf;if(!Be)continue;const be=We?b.sqlite3_create_window_function:b.sqlite3_create_function_v2;for(const Me of Be){const ht=Me[0],F=Me[1],K=[ae,ht,0,b.SQLITE_UTF8,0,0,0,0,0];We&&K.push(0);for(const fe of F)try{K[2]=fe,be.apply(null,K)}catch{}F.clear()}Be.clear()}delete _e.udf,delete _e.wudf};{const ae=S.xWrap("sqlite3_close_v2","int","sqlite3*");b.sqlite3_close_v2=function(he){if(arguments.length!==1)return X(he,"sqlite3_close_v2",1);if(he)try{Je.cleanup(he)}catch{}return ae(he)}}if(b.sqlite3session_create){const ae=S.xWrap("sqlite3session_delete",void 0,["sqlite3_session*"]);b.sqlite3session_delete=function(he){if(arguments.length!==1)return X(pDb,"sqlite3session_delete",1);he&&b.sqlite3session_table_filter(he,0,0),ae(he)}}{const ae=(_e,We)=>"argv["+We+"]:"+_e[0]+":"+S.cstrToJs(_e[1]).toLowerCase(),he=S.xWrap("sqlite3_create_collation_v2","int",["sqlite3*","string","int","*",new S.xWrap.FuncPtrAdapter({name:"xCompare",signature:"i(pipip)",contextKey:ae}),new S.xWrap.FuncPtrAdapter({name:"xDestroy",signature:"v(p)",contextKey:ae})]);b.sqlite3_create_collation_v2=function(_e,We,Be,be,Me,ht){if(arguments.length!==6)return X(_e,"sqlite3_create_collation_v2",6);if(!(Be&15))Be|=b.SQLITE_UTF8;else if(b.SQLITE_UTF8!==(Be&15))return te(_e);try{const F=he(_e,We,Be,be,Me,ht);return F===0&&Me instanceof Function&&Je.addCollation(_e,We),F}catch(F){return k.sqlite3__wasm_db_error(_e,F)}},b.sqlite3_create_collation=(_e,We,Be,be,Me)=>arguments.length===5?b.sqlite3_create_collation_v2(_e,We,Be,be,Me,0):X(_e,"sqlite3_create_collation",5)}{const ae=function(Be,be){return Be[0]+":"+(Be[2]<0?-1:Be[2])+":"+be+":"+S.cstrToJs(Be[1]).toLowerCase()},he=Object.assign(Object.create(null),{xInverseAndStep:{signature:"v(pip)",contextKey:ae,callProxy:Be=>(be,Me,ht)=>{try{Be(be,...b.sqlite3_values_to_js(Me,ht))}catch(F){b.sqlite3_result_error_js(be,F)}}},xFinalAndValue:{signature:"v(p)",contextKey:ae,callProxy:Be=>be=>{try{b.sqlite3_result_js(be,Be(be))}catch(Me){b.sqlite3_result_error_js(be,Me)}}},xFunc:{signature:"v(pip)",contextKey:ae,callProxy:Be=>(be,Me,ht)=>{try{b.sqlite3_result_js(be,Be(be,...b.sqlite3_values_to_js(Me,ht)))}catch(F){b.sqlite3_result_error_js(be,F)}}},xDestroy:{signature:"v(p)",contextKey:ae,callProxy:Be=>be=>{try{Be(be)}catch(Me){console.error("UDF xDestroy method threw:",Me)}}}}),_e=S.xWrap("sqlite3_create_function_v2","int",["sqlite3*","string","int","int","*",new S.xWrap.FuncPtrAdapter({name:"xFunc",...he.xFunc}),new S.xWrap.FuncPtrAdapter({name:"xStep",...he.xInverseAndStep}),new S.xWrap.FuncPtrAdapter({name:"xFinal",...he.xFinalAndValue}),new S.xWrap.FuncPtrAdapter({name:"xDestroy",...he.xDestroy})]),We=S.exports.sqlite3_create_window_function?S.xWrap("sqlite3_create_window_function","int",["sqlite3*","string","int","int","*",new S.xWrap.FuncPtrAdapter({name:"xStep",...he.xInverseAndStep}),new S.xWrap.FuncPtrAdapter({name:"xFinal",...he.xFinalAndValue}),new S.xWrap.FuncPtrAdapter({name:"xValue",...he.xFinalAndValue}),new S.xWrap.FuncPtrAdapter({name:"xInverse",...he.xInverseAndStep}),new S.xWrap.FuncPtrAdapter({name:"xDestroy",...he.xDestroy})]):void 0;b.sqlite3_create_function_v2=function Be(be,Me,ht,F,K,fe,Qe,z,Y){if(Be.length!==arguments.length)return X(be,"sqlite3_create_function_v2",Be.length);if(!(F&15))F|=b.SQLITE_UTF8;else if(b.SQLITE_UTF8!==(F&15))return te(be);try{const I=_e(be,Me,ht,F,K,fe,Qe,z,Y);return I===0&&(fe instanceof Function||Qe instanceof Function||z instanceof Function||Y instanceof Function)&&Je.addFunction(be,Me,ht),I}catch(I){return console.error("sqlite3_create_function_v2() setup threw:",I),k.sqlite3__wasm_db_error(be,I,"Creation of UDF threw: "+I)}},b.sqlite3_create_function=function Be(be,Me,ht,F,K,fe,Qe,z){return Be.length===arguments.length?b.sqlite3_create_function_v2(be,Me,ht,F,K,fe,Qe,z,0):X(be,"sqlite3_create_function",Be.length)},We?b.sqlite3_create_window_function=function Be(be,Me,ht,F,K,fe,Qe,z,Y,I){if(Be.length!==arguments.length)return X(be,"sqlite3_create_window_function",Be.length);if(!(F&15))F|=b.SQLITE_UTF8;else if(b.SQLITE_UTF8!==(F&15))return te(be);try{const L=We(be,Me,ht,F,K,fe,Qe,z,Y,I);return L===0&&(fe instanceof Function||Qe instanceof Function||z instanceof Function||Y instanceof Function||I instanceof Function)&&Je.addWindowFunc(be,Me,ht),L}catch(L){return console.error("sqlite3_create_window_function() setup threw:",L),k.sqlite3__wasm_db_error(be,L,"Creation of UDF threw: "+L)}}:delete b.sqlite3_create_window_function,b.sqlite3_create_function_v2.udfSetResult=b.sqlite3_create_function.udfSetResult=b.sqlite3_result_js,b.sqlite3_create_window_function&&(b.sqlite3_create_window_function.udfSetResult=b.sqlite3_result_js),b.sqlite3_create_function_v2.udfConvertArgs=b.sqlite3_create_function.udfConvertArgs=b.sqlite3_values_to_js,b.sqlite3_create_window_function&&(b.sqlite3_create_window_function.udfConvertArgs=b.sqlite3_values_to_js),b.sqlite3_create_function_v2.udfSetError=b.sqlite3_create_function.udfSetError=b.sqlite3_result_error_js,b.sqlite3_create_window_function&&(b.sqlite3_create_window_function.udfSetError=b.sqlite3_result_error_js)}{const ae=(_e,We)=>(typeof _e=="string"?We=-1:k.isSQLableTypedArray(_e)?(We=_e.byteLength,_e=k.typedArrayToString(_e instanceof ArrayBuffer?new Uint8Array(_e):_e)):Array.isArray(_e)&&(_e=_e.join(""),We=-1),[_e,We]),he={basic:S.xWrap("sqlite3_prepare_v3","int",["sqlite3*","string","int","int","**","**"]),full:S.xWrap("sqlite3_prepare_v3","int",["sqlite3*","*","int","int","**","**"])};b.sqlite3_prepare_v3=function _e(We,Be,be,Me,ht,F){if(_e.length!==arguments.length)return X(We,"sqlite3_prepare_v3",_e.length);const[K,fe]=ae(Be,be);switch(typeof K){case"string":return he.basic(We,K,fe,Me,ht,null);case"number":return he.full(We,K,fe,Me,ht,F);default:return k.sqlite3__wasm_db_error(We,b.SQLITE_MISUSE,"Invalid SQL argument type for sqlite3_prepare_v2/v3().")}},b.sqlite3_prepare_v2=function _e(We,Be,be,Me,ht){return _e.length===arguments.length?b.sqlite3_prepare_v3(We,Be,be,0,Me,ht):X(We,"sqlite3_prepare_v2",_e.length)}}{const ae=S.xWrap("sqlite3_bind_text","int",["sqlite3_stmt*","int","string","int","*"]),he=S.xWrap("sqlite3_bind_blob","int",["sqlite3_stmt*","int","*","int","*"]);b.sqlite3_bind_text=function _e(We,Be,be,Me,ht){if(_e.length!==arguments.length)return X(b.sqlite3_db_handle(We),"sqlite3_bind_text",_e.length);if(S.isPtr(be)||be===null)return ae(We,Be,be,Me,ht);be instanceof ArrayBuffer?be=new Uint8Array(be):Array.isArray(pMem)&&(be=pMem.join(""));let F,K;try{if(k.isSQLableTypedArray(be))F=S.allocFromTypedArray(be),K=be.byteLength;else if(typeof be=="string")[F,K]=S.allocCString(be);else return k.sqlite3__wasm_db_error(b.sqlite3_db_handle(We),b.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_text().");return ae(We,Be,F,K,b.SQLITE_WASM_DEALLOC)}catch(fe){return S.dealloc(F),k.sqlite3__wasm_db_error(b.sqlite3_db_handle(We),fe)}},b.sqlite3_bind_blob=function _e(We,Be,be,Me,ht){if(_e.length!==arguments.length)return X(b.sqlite3_db_handle(We),"sqlite3_bind_blob",_e.length);if(S.isPtr(be)||be===null)return he(We,Be,be,Me,ht);be instanceof ArrayBuffer?be=new Uint8Array(be):Array.isArray(be)&&(be=be.join(""));let F,K;try{if(k.isBindableTypedArray(be))F=S.allocFromTypedArray(be),K=Me>=0?Me:be.byteLength;else if(typeof be=="string")[F,K]=S.allocCString(be);else return k.sqlite3__wasm_db_error(b.sqlite3_db_handle(We),b.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_blob().");return he(We,Be,F,K,b.SQLITE_WASM_DEALLOC)}catch(fe){return S.dealloc(F),k.sqlite3__wasm_db_error(b.sqlite3_db_handle(We),fe)}}}b.sqlite3_config=function(ae,...he){if(arguments.length<2)return b.SQLITE_MISUSE;switch(ae){case b.SQLITE_CONFIG_COVERING_INDEX_SCAN:case b.SQLITE_CONFIG_MEMSTATUS:case b.SQLITE_CONFIG_SMALL_MALLOC:case b.SQLITE_CONFIG_SORTERREF_SIZE:case b.SQLITE_CONFIG_STMTJRNL_SPILL:case b.SQLITE_CONFIG_URI:return S.exports.sqlite3__wasm_config_i(ae,he[0]);case b.SQLITE_CONFIG_LOOKASIDE:return S.exports.sqlite3__wasm_config_ii(ae,he[0],he[1]);case b.SQLITE_CONFIG_MEMDB_MAXSIZE:return S.exports.sqlite3__wasm_config_j(ae,he[0]);case b.SQLITE_CONFIG_GETMALLOC:case b.SQLITE_CONFIG_GETMUTEX:case b.SQLITE_CONFIG_GETPCACHE2:case b.SQLITE_CONFIG_GETPCACHE:case b.SQLITE_CONFIG_HEAP:case b.SQLITE_CONFIG_LOG:case b.SQLITE_CONFIG_MALLOC:case b.SQLITE_CONFIG_MMAP_SIZE:case b.SQLITE_CONFIG_MULTITHREAD:case b.SQLITE_CONFIG_MUTEX:case b.SQLITE_CONFIG_PAGECACHE:case b.SQLITE_CONFIG_PCACHE2:case b.SQLITE_CONFIG_PCACHE:case b.SQLITE_CONFIG_PCACHE_HDRSZ:case b.SQLITE_CONFIG_PMASZ:case b.SQLITE_CONFIG_SERIALIZED:case b.SQLITE_CONFIG_SINGLETHREAD:case b.SQLITE_CONFIG_SQLLOG:case b.SQLITE_CONFIG_WIN32_HEAPSIZE:default:return b.SQLITE_NOTFOUND}};{const ae=new Set;b.sqlite3_auto_extension=function(he){if(he instanceof Function)he=S.installFunction("i(ppp)",he);else if(arguments.length!==1||!S.isPtr(he))return b.SQLITE_MISUSE;const _e=S.exports.sqlite3_auto_extension(he);return he!==arguments[0]&&(_e===0?ae.add(he):S.uninstallFunction(he)),_e},b.sqlite3_cancel_auto_extension=function(he){return!he||arguments.length!==1||!S.isPtr(he)?0:S.exports.sqlite3_cancel_auto_extension(he)},b.sqlite3_reset_auto_extension=function(){S.exports.sqlite3_reset_auto_extension();for(const he of ae)S.uninstallFunction(he);ae.clear()}}const rt=b.sqlite3_vfs_find("kvvfs");if(rt)if(k.isUIThread()){const ae=new b.sqlite3_kvvfs_methods(S.exports.sqlite3__wasm_kvvfs_methods());delete b.sqlite3_kvvfs_methods;const he=S.exports.sqlite3__wasm_kvvfsMakeKeyOnPstack,_e=S.pstack,We=be=>S.peek(be)===115?sessionStorage:localStorage,Be={xRead:(be,Me,ht,F)=>{const K=_e.pointer,fe=S.scopedAllocPush();try{const Qe=he(be,Me);if(!Qe)return-3;const z=S.cstrToJs(Qe),Y=We(be).getItem(z);if(!Y)return-1;const I=Y.length;if(F<=0)return I;if(F===1)return S.poke(ht,0),I;const L=S.scopedAllocCString(Y);return F>I+1&&(F=I+1),S.heap8u().copyWithin(ht,L,L+F-1),S.poke(ht+F-1,0),F-1}catch(Qe){return console.error("kvstorageRead()",Qe),-2}finally{_e.restore(K),S.scopedAllocPop(fe)}},xWrite:(be,Me,ht)=>{const F=_e.pointer;try{const K=he(be,Me);if(!K)return 1;const fe=S.cstrToJs(K);return We(be).setItem(fe,S.cstrToJs(ht)),0}catch(K){return console.error("kvstorageWrite()",K),b.SQLITE_IOERR}finally{_e.restore(F)}},xDelete:(be,Me)=>{const ht=_e.pointer;try{const F=he(be,Me);return F?(We(be).removeItem(S.cstrToJs(F)),0):1}catch(F){return console.error("kvstorageDelete()",F),b.SQLITE_IOERR}finally{_e.restore(ht)}}};for(const be of Object.keys(Be))ae[ae.memberKey(be)]=S.installFunction(ae.memberSignature(be),Be[be])}else b.sqlite3_vfs_unregister(rt);S.xWrap.FuncPtrAdapter.warnOnUse=!0;const Ae=f.StructBinder,we=function ae(he,_e,We,Be=ae.installMethodArgcCheck){if(he instanceof Ae.StructType?!(We instanceof Function)&&!S.isPtr(We)&&_("Usage errror: expecting a Function or WASM pointer to one."):_("Usage error: target object is-not-a StructType."),arguments.length===1)return(F,K)=>ae(he,F,K,Be);ae.argcProxy||(ae.argcProxy=function(F,K,fe,Qe){return function(...z){return fe.length!==arguments.length&&_("Argument mismatch for",F.structInfo.name+"::"+K+": Native signature is:",Qe),fe.apply(this,z)}},ae.removeFuncList=function(){this.ondispose.__removeFuncList&&(this.ondispose.__removeFuncList.forEach((F,K)=>{if(typeof F=="number")try{S.uninstallFunction(F)}catch{}}),delete this.ondispose.__removeFuncList)});const be=he.memberSignature(_e);be.length<2&&_("Member",_e,"does not have a function pointer signature:",be);const Me=he.memberKey(_e),ht=Be&&!S.isPtr(We)?ae.argcProxy(he,Me,We,be):We;if(S.isPtr(ht))ht&&!S.functionEntry(ht)&&_("Pointer",ht,"is not a WASM function table entry."),he[Me]=ht;else{const F=S.installFunction(ht,he.memberSignature(_e,!0));he[Me]=F,(!he.ondispose||!he.ondispose.__removeFuncList)&&(he.addOnDispose("ondispose.__removeFuncList handler",ae.removeFuncList),he.ondispose.__removeFuncList=[]),he.ondispose.__removeFuncList.push(Me,F)}return(F,K)=>ae(he,F,K,Be)};we.installMethodArgcCheck=!1;const ze=function(ae,he,_e=we.installMethodArgcCheck){const We=new Map;for(const Be of Object.keys(he)){const be=he[Be],Me=We.get(be);if(Me){const ht=ae.memberKey(Be);ae[ht]=ae[ae.memberKey(Me)]}else we(ae,Be,be,_e),We.set(be,Be)}return ae};Ae.StructType.prototype.installMethod=function(he,_e,We=we.installMethodArgcCheck){return arguments.length<3&&he&&typeof he=="object"?ze(this,...arguments):we(this,...arguments)},Ae.StructType.prototype.installMethods=function(ae,he=we.installMethodArgcCheck){return ze(this,ae,he)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(f){f.version={libVersion:"3.47.1",libVersionNumber:3047001,sourceId:"2024-11-25 12:07:48 b95d11e958643b969c47a8e5857f3793b9e69700b8f1469371386369a26e577e",downloadVersion:3470100}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(f){const _=(...z)=>{throw new f.SQLite3Error(...z)},b=f.capi,S=f.wasm,k=f.util,X=new WeakMap,te=new WeakMap,Le=(z,Y,I)=>{const L=Object.getOwnPropertyDescriptor(z,Y);return L?L.value:I},Ue=function(z,Y){return Y&&(z instanceof we&&(z=z.pointer),_(Y,"sqlite3 result code",Y+":",z?b.sqlite3_errmsg(z):b.sqlite3_errstr(Y))),arguments[0]},Je=S.installFunction("i(ippp)",function(z,Y,I,L){b.SQLITE_TRACE_STMT===z&&console.log("SQL TRACE #"+ ++this.counter+" via sqlite3@"+Y+":",S.cstrToJs(L))}.bind({counter:0})),rt=Object.create(null),Ae=function z(...Y){if(!z._name2vfs){z._name2vfs=Object.create(null);const ue=typeof importScripts=="function"?Ne=>_("The VFS for",Ne,"is only available in the main window thread."):!1;z._name2vfs[":localStorage:"]={vfs:"kvvfs",filename:ue||(()=>"local")},z._name2vfs[":sessionStorage:"]={vfs:"kvvfs",filename:ue||(()=>"session")}}const I=z.normalizeArgs(...Y);let L=I.filename,W=I.vfs,qe=I.flags;(typeof L!="string"&&typeof L!="number"||typeof qe!="string"||W&&typeof W!="string"&&typeof W!="number")&&(f.config.error("Invalid DB ctor args",I,arguments),_("Invalid arguments for DB constructor."));let He=typeof L=="number"?S.cstrToJs(L):L;const St=z._name2vfs[He];St&&(W=St.vfs,L=He=St.filename(He));let Ft,Bt=0;qe.indexOf("c")>=0&&(Bt|=b.SQLITE_OPEN_CREATE|b.SQLITE_OPEN_READWRITE),qe.indexOf("w")>=0&&(Bt|=b.SQLITE_OPEN_READWRITE),Bt===0&&(Bt|=b.SQLITE_OPEN_READONLY),Bt|=b.SQLITE_OPEN_EXRESCODE;const Ze=S.pstack.pointer;try{const ue=S.pstack.allocPtr();let Ne=b.sqlite3_open_v2(L,ue,Bt,W||0);Ft=S.peekPtr(ue),Ue(Ft,Ne),b.sqlite3_extended_result_codes(Ft,1),qe.indexOf("t")>=0&&b.sqlite3_trace_v2(Ft,b.SQLITE_TRACE_STMT,Je,Ft)}catch(ue){throw Ft&&b.sqlite3_close_v2(Ft),ue}finally{S.pstack.restore(Ze)}this.filename=He,X.set(this,Ft),te.set(this,Object.create(null));try{const ue=b.sqlite3_js_db_vfs(Ft)||_("Internal error: cannot get VFS for new db handle."),Ne=rt[ue];Ne&&(Ne instanceof Function?Ne(this,f):Ue(Ft,b.sqlite3_exec(Ft,Ne,0,0,0)))}catch(ue){throw this.close(),ue}};Ae.setVfsPostOpenCallback=function(z,Y){Y instanceof Function||_("dbCtorHelper.setVfsPostOpenCallback() should not be used with a non-function argument.",arguments),rt[z]=Y},Ae.normalizeArgs=function(z=":memory:",Y="c",I=null){const L={};return arguments.length===1&&arguments[0]&&typeof arguments[0]=="object"?(Object.assign(L,arguments[0]),L.flags===void 0&&(L.flags="c"),L.vfs===void 0&&(L.vfs=null),L.filename===void 0&&(L.filename=":memory:")):(L.filename=z,L.flags=Y,L.vfs=I),L};const we=function(...z){Ae.apply(this,z)};we.dbCtorHelper=Ae;const ze={null:1,number:2,string:3,boolean:4,blob:5};ze.undefined==ze.null,S.bigIntEnabled&&(ze.bigint=ze.number);const ae=function(){ze!==arguments[2]&&_(b.SQLITE_MISUSE,"Do not call the Stmt constructor directly. Use DB.prepare()."),this.db=arguments[0],X.set(this,arguments[1]),this.parameterCount=b.sqlite3_bind_parameter_count(this.pointer)},he=function(z){return z.pointer||_("DB has been closed."),z},_e=function(z,Y){return(Y!==(Y|0)||Y<0||Y>=z.columnCount)&&_("Column index",Y,"is out of range."),z},We=function(z,Y){const I=Object.create(null);switch(I.opt=Object.create(null),Y.length){case 1:typeof Y[0]=="string"||k.isSQLableTypedArray(Y[0])||Array.isArray(Y[0])?I.sql=Y[0]:Y[0]&&typeof Y[0]=="object"&&(I.opt=Y[0],I.sql=I.opt.sql);break;case 2:I.sql=Y[0],I.opt=Y[1];break;default:_("Invalid argument count for exec().")}I.sql=k.flexibleString(I.sql),typeof I.sql!="string"&&_("Missing SQL argument or unsupported SQL value type.");const L=I.opt;switch(L.returnValue){case"resultRows":L.resultRows||(L.resultRows=[]),I.returnVal=()=>L.resultRows;break;case"saveSql":L.saveSql||(L.saveSql=[]),I.returnVal=()=>L.saveSql;break;case void 0:case"this":I.returnVal=()=>z;break;default:_("Invalid returnValue value:",L.returnValue)}if(!L.callback&&!L.returnValue&&L.rowMode!==void 0&&(L.resultRows||(L.resultRows=[]),I.returnVal=()=>L.resultRows),L.callback||L.resultRows)switch(L.rowMode===void 0?"array":L.rowMode){case"object":I.cbArg=(W,qe)=>{qe.columnNames||(qe.columnNames=W.getColumnNames([]));const He=W.get([]),St=Object.create(null);for(const Ft in qe.columnNames)St[qe.columnNames[Ft]]=He[Ft];return St};break;case"array":I.cbArg=W=>W.get([]);break;case"stmt":Array.isArray(L.resultRows)&&_("exec(): invalid rowMode for a resultRows array: must","be one of 'array', 'object',","a result column number, or column name reference."),I.cbArg=W=>W;break;default:if(k.isInt32(L.rowMode)){I.cbArg=W=>W.get(L.rowMode);break}else if(typeof L.rowMode=="string"&&L.rowMode.length>1&&L.rowMode[0]==="$"){const W=L.rowMode.substr(1);I.cbArg=qe=>{const He=qe.get(Object.create(null))[W];return He===void 0?_(b.SQLITE_NOTFOUND,"exec(): unknown result column:",W):He};break}_("Invalid rowMode:",L.rowMode)}return I},Be=(z,Y,I,...L)=>{const W=z.prepare(Y);try{const qe=W.bind(I).step()?W.get(...L):void 0;return W.reset(),qe}finally{W.finalize()}},be=(z,Y,I,L)=>z.exec({sql:Y,bind:I,rowMode:L,returnValue:"resultRows"});we.checkRc=(z,Y)=>Ue(z,Y),we.prototype={isOpen:function(){return!!this.pointer},affirmOpen:function(){return he(this)},close:function(){if(this.pointer){if(this.onclose&&this.onclose.before instanceof Function)try{this.onclose.before(this)}catch{}const z=this.pointer;if(Object.keys(te.get(this)).forEach((Y,I)=>{if(I&&I.pointer)try{I.finalize()}catch{}}),X.delete(this),te.delete(this),b.sqlite3_close_v2(z),this.onclose&&this.onclose.after instanceof Function)try{this.onclose.after(this)}catch{}delete this.filename}},changes:function(z=!1,Y=!1){const I=he(this).pointer;return z?Y?b.sqlite3_total_changes64(I):b.sqlite3_total_changes(I):Y?b.sqlite3_changes64(I):b.sqlite3_changes(I)},dbFilename:function(z="main"){return b.sqlite3_db_filename(he(this).pointer,z)},dbName:function(z=0){return b.sqlite3_db_name(he(this).pointer,z)},dbVfsName:function(z=0){let Y;const I=b.sqlite3_js_db_vfs(he(this).pointer,z);if(I){const L=new b.sqlite3_vfs(I);try{Y=S.cstrToJs(L.$zName)}finally{L.dispose()}}return Y},prepare:function(z){he(this);const Y=S.pstack.pointer;let I,L;try{I=S.pstack.alloc(8),we.checkRc(this,b.sqlite3_prepare_v2(this.pointer,z,-1,I,null)),L=S.peekPtr(I)}finally{S.pstack.restore(Y)}L||_("Cannot prepare empty SQL.");const W=new ae(this,L,ze);return te.get(this)[L]=W,W},exec:function(){he(this);const z=We(this,arguments);if(!z.sql)return _("exec() requires an SQL string.");const Y=z.opt,I=Y.callback,L=Array.isArray(Y.resultRows)?Y.resultRows:void 0;let W,qe=Y.bind,He=!!(z.cbArg||Y.columnNames||L);const St=S.scopedAllocPush(),Ft=Array.isArray(Y.saveSql)?Y.saveSql:void 0;try{const Bt=k.isSQLableTypedArray(z.sql);let Ze=Bt?z.sql.byteLength:S.jstrlen(z.sql);const ue=S.scopedAlloc(2*S.ptrSizeof+(Ze+1)),Ne=ue+S.ptrSizeof;let Ke=Ne+S.ptrSizeof;const et=Ke+Ze;for(Bt?S.heap8().set(z.sql,Ke):S.jstrcpy(z.sql,S.heap8(),Ke,Ze,!1),S.poke(Ke+Ze,0);Ke&&S.peek(Ke,"i8");){S.pokePtr([ue,Ne],0),we.checkRc(this,b.sqlite3_prepare_v3(this.pointer,Ke,Ze,0,ue,Ne));const It=S.peekPtr(ue);if(Ke=S.peekPtr(Ne),Ze=et-Ke,!!It){if(Ft&&Ft.push(b.sqlite3_sql(It).trim()),W=new ae(this,It,ze),qe&&W.parameterCount&&(W.bind(qe),qe=null),He&&W.columnCount){let Wt=Array.isArray(Y.columnNames)?0:1;if(He=!1,z.cbArg||L){const Se=Object.create(null);for(;W.step();W._lockedByExec=!1){Wt++===0&&W.getColumnNames(Se.columnNames=Y.columnNames||[]),W._lockedByExec=!0;const Ve=z.cbArg(W,Se);if(L&&L.push(Ve),I&&I.call(Y,Ve,W)===!1)break}W._lockedByExec=!1}Wt===0&&W.getColumnNames(Y.columnNames)}else W.step();W.reset().finalize(),W=null}}}finally{S.scopedAllocPop(St),W&&(delete W._lockedByExec,W.finalize())}return z.returnVal()},createFunction:function(Y,I,L){const W=Se=>Se instanceof Function;switch(arguments.length){case 1:L=Y,Y=L.name,I=L.xFunc||0;break;case 2:W(I)||(L=I,I=L.xFunc||0);break}L||(L={}),typeof Y!="string"&&_("Invalid arguments: missing function name.");let qe=L.xStep||0,He=L.xFinal||0;const St=L.xValue||0,Ft=L.xInverse||0;let Bt;W(I)?(Bt=!1,(W(qe)||W(He))&&_("Ambiguous arguments: scalar or aggregate?"),qe=He=null):W(qe)?(W(He)||_("Missing xFinal() callback for aggregate or window UDF."),I=null):W(He)?_("Missing xStep() callback for aggregate or window UDF."):_("Missing function-type properties."),Bt===!1?(W(St)||W(Ft))&&_("xValue and xInverse are not permitted for non-window UDFs."):W(St)?(W(Ft)||_("xInverse must be provided if xValue is."),Bt=!0):W(Ft)&&_("xValue must be provided if xInverse is.");const Ze=L.pApp;Ze!=null&&(typeof Ze!="number"||!k.isInt32(Ze))&&_("Invalid value for pApp property. Must be a legal WASM pointer value.");const ue=L.xDestroy||0;ue&&!W(ue)&&_("xDestroy property must be a function.");let Ne=0;Le(L,"deterministic")&&(Ne|=b.SQLITE_DETERMINISTIC),Le(L,"directOnly")&&(Ne|=b.SQLITE_DIRECTONLY),Le(L,"innocuous")&&(Ne|=b.SQLITE_INNOCUOUS),Y=Y.toLowerCase();const Ke=I||qe,et=Le(L,"arity"),It=typeof et=="number"?et:Ke.length?Ke.length-1:0;let Wt;return Bt?Wt=b.sqlite3_create_window_function(this.pointer,Y,It,b.SQLITE_UTF8|Ne,Ze||0,qe,He,St,Ft,ue):Wt=b.sqlite3_create_function_v2(this.pointer,Y,It,b.SQLITE_UTF8|Ne,Ze||0,I,qe,He,ue),we.checkRc(this,Wt),this},selectValue:function(z,Y,I){return Be(this,z,Y,0,I)},selectValues:function(z,Y,I){const L=this.prepare(z),W=[];try{for(L.bind(Y);L.step();)W.push(L.get(0,I));L.reset()}finally{L.finalize()}return W},selectArray:function(z,Y){return Be(this,z,Y,[])},selectObject:function(z,Y){return Be(this,z,Y,{})},selectArrays:function(z,Y){return be(this,z,Y,"array")},selectObjects:function(z,Y){return be(this,z,Y,"object")},openStatementCount:function(){return this.pointer?Object.keys(te.get(this)).length:0},transaction:function(z){let Y="BEGIN";arguments.length>1&&(/[^a-zA-Z]/.test(arguments[0])&&_(b.SQLITE_MISUSE,"Invalid argument for BEGIN qualifier."),Y+=" "+arguments[0],z=arguments[1]),he(this).exec(Y);try{const I=z(this);return this.exec("COMMIT"),I}catch(I){throw this.exec("ROLLBACK"),I}},savepoint:function(z){he(this).exec("SAVEPOINT oo1");try{const Y=z(this);return this.exec("RELEASE oo1"),Y}catch(Y){throw this.exec("ROLLBACK to SAVEPOINT oo1; RELEASE SAVEPOINT oo1"),Y}},checkRc:function(z){return Ue(this,z)}};const Me=function(z){return z.pointer||_("Stmt has been closed."),z},ht=function(z){let Y=ze[z==null?"null":typeof z];switch(Y){case ze.boolean:case ze.null:case ze.number:case ze.string:return Y;case ze.bigint:if(S.bigIntEnabled)return Y;default:return k.isBindableTypedArray(z)?ze.blob:void 0}},F=function(z){return ht(z)||_("Unsupported bind() argument type:",typeof z)},K=function(z,Y){const I=typeof Y=="number"?Y:b.sqlite3_bind_parameter_index(z.pointer,Y);return I===0||!k.isInt32(I)?_("Invalid bind() parameter name: "+Y):(I<1||I>z.parameterCount)&&_("Bind index",Y,"is out of range."),I},fe=function(z,Y){return z._lockedByExec&&_("Operation is illegal when statement is locked:",Y),z},Qe=function z(Y,I,L,W){fe(Me(Y),"bind()"),z._||(z._tooBigInt=He=>_("BigInt value is too big to store without precision loss:",He),z._={string:function(He,St,Ft,Bt){const[Ze,ue]=S.allocCString(Ft,!0);return(Bt?b.sqlite3_bind_blob:b.sqlite3_bind_text)(He.pointer,St,Ze,ue,b.SQLITE_WASM_DEALLOC)}}),F(W),I=K(Y,I);let qe=0;switch(W==null?ze.null:L){case ze.null:qe=b.sqlite3_bind_null(Y.pointer,I);break;case ze.string:qe=z._.string(Y,I,W,!1);break;case ze.number:{let He;k.isInt32(W)?He=b.sqlite3_bind_int:typeof W=="bigint"?k.bigIntFits64(W)?S.bigIntEnabled?He=b.sqlite3_bind_int64:k.bigIntFitsDouble(W)?(W=Number(W),He=b.sqlite3_bind_double):z._tooBigInt(W):z._tooBigInt(W):(W=Number(W),S.bigIntEnabled&&Number.isInteger(W)?He=b.sqlite3_bind_int64:He=b.sqlite3_bind_double),qe=He(Y.pointer,I,W);break}case ze.boolean:qe=b.sqlite3_bind_int(Y.pointer,I,W?1:0);break;case ze.blob:{if(typeof W=="string"){qe=z._.string(Y,I,W,!0);break}else W instanceof ArrayBuffer?W=new Uint8Array(W):k.isBindableTypedArray(W)||_("Binding a value as a blob requires","that it be a string, Uint8Array, Int8Array, or ArrayBuffer.");const He=S.alloc(W.byteLength||1);S.heap8().set(W.byteLength?W:[0],He),qe=b.sqlite3_bind_blob(Y.pointer,I,He,W.byteLength,b.SQLITE_WASM_DEALLOC);break}default:f.config.warn("Unsupported bind() argument type:",W),_("Unsupported bind() argument type: "+typeof W)}return qe&&we.checkRc(Y.db.pointer,qe),Y._mayGet=!1,Y};ae.prototype={finalize:function(){if(this.pointer){fe(this,"finalize()");const z=b.sqlite3_finalize(this.pointer);return delete te.get(this.db)[this.pointer],X.delete(this),delete this._mayGet,delete this.parameterCount,delete this._lockedByExec,delete this.db,z}},clearBindings:function(){return fe(Me(this),"clearBindings()"),b.sqlite3_clear_bindings(this.pointer),this._mayGet=!1,this},reset:function(z){fe(this,"reset()"),z&&this.clearBindings();const Y=b.sqlite3_reset(Me(this).pointer);return this._mayGet=!1,Ue(this.db,Y),this},bind:function(){Me(this);let z,Y;switch(arguments.length){case 1:z=1,Y=arguments[0];break;case 2:z=arguments[0],Y=arguments[1];break;default:_("Invalid bind() arguments.")}return Y===void 0?this:(this.parameterCount||_("This statement has no bindable parameters."),this._mayGet=!1,Y===null?Qe(this,z,ze.null,Y):Array.isArray(Y)?(arguments.length!==1&&_("When binding an array, an index argument is not permitted."),Y.forEach((I,L)=>Qe(this,L+1,F(I),I)),this):(Y instanceof ArrayBuffer&&(Y=new Uint8Array(Y)),typeof Y=="object"&&!k.isBindableTypedArray(Y)?(arguments.length!==1&&_("When binding an object, an index argument is not permitted."),Object.keys(Y).forEach(I=>Qe(this,I,F(Y[I]),Y[I])),this):Qe(this,z,F(Y),Y)))},bindAsBlob:function(z,Y){Me(this),arguments.length===1&&(Y=z,z=1);const I=F(Y);return ze.string!==I&&ze.blob!==I&&ze.null!==I&&_("Invalid value type for bindAsBlob()"),Qe(this,z,ze.blob,Y)},step:function(){fe(this,"step()");const z=b.sqlite3_step(Me(this).pointer);switch(z){case b.SQLITE_DONE:return this._mayGet=!1;case b.SQLITE_ROW:return this._mayGet=!0;default:this._mayGet=!1,f.config.warn("sqlite3_step() rc=",z,b.sqlite3_js_rc_str(z),"SQL =",b.sqlite3_sql(this.pointer)),we.checkRc(this.db.pointer,z)}},stepReset:function(){return this.step(),this.reset()},stepFinalize:function(){try{const z=this.step();return this.reset(),z}finally{try{this.finalize()}catch{}}},get:function(z,Y){if(Me(this)._mayGet||_("Stmt.step() has not (recently) returned true."),Array.isArray(z)){let I=0;const L=this.columnCount;for(;I<L;)z[I]=this.get(I++);return z}else if(z&&typeof z=="object"){let I=0;const L=this.columnCount;for(;I<L;)z[b.sqlite3_column_name(this.pointer,I)]=this.get(I++);return z}switch(_e(this,z),Y===void 0?b.sqlite3_column_type(this.pointer,z):Y){case b.SQLITE_NULL:return null;case b.SQLITE_INTEGER:if(S.bigIntEnabled){const I=b.sqlite3_column_int64(this.pointer,z);return I>=Number.MIN_SAFE_INTEGER&&I<=Number.MAX_SAFE_INTEGER?Number(I).valueOf():I}else{const I=b.sqlite3_column_double(this.pointer,z);return(I>Number.MAX_SAFE_INTEGER||I<Number.MIN_SAFE_INTEGER)&&_("Integer is out of range for JS integer range: "+I),k.isInt32(I)?I|0:I}case b.SQLITE_FLOAT:return b.sqlite3_column_double(this.pointer,z);case b.SQLITE_TEXT:return b.sqlite3_column_text(this.pointer,z);case b.SQLITE_BLOB:{const I=b.sqlite3_column_bytes(this.pointer,z),L=b.sqlite3_column_blob(this.pointer,z),W=new Uint8Array(I);return I&&W.set(S.heap8u().slice(L,L+I),0),I&&this.db._blobXfer instanceof Array&&this.db._blobXfer.push(W.buffer),W}default:_("Don't know how to translate","type of result column #"+z+".")}_("Not reached.")},getInt:function(z){return this.get(z,b.SQLITE_INTEGER)},getFloat:function(z){return this.get(z,b.SQLITE_FLOAT)},getString:function(z){return this.get(z,b.SQLITE_TEXT)},getBlob:function(z){return this.get(z,b.SQLITE_BLOB)},getJSON:function(z){const Y=this.get(z,b.SQLITE_STRING);return Y===null?Y:JSON.parse(Y)},getColumnName:function(z){return b.sqlite3_column_name(_e(Me(this),z).pointer,z)},getColumnNames:function(z=[]){_e(Me(this),0);const Y=this.columnCount;for(let I=0;I<Y;++I)z.push(b.sqlite3_column_name(this.pointer,I));return z},getParamIndex:function(z){return Me(this).parameterCount?b.sqlite3_bind_parameter_index(this.pointer,z):void 0},getParamName:function(z){return Me(this).parameterCount?b.sqlite3_bind_parameter_name(this.pointer,z):void 0},isBusy:function(){return b.sqlite3_stmt_busy(Me(this))!==0},isReadOnly:function(){return b.sqlite3_stmt_readonly(Me(this))!==0}};{const z={enumerable:!0,get:function(){return X.get(this)},set:()=>_("The pointer property is read-only.")};Object.defineProperty(ae.prototype,"pointer",z),Object.defineProperty(we.prototype,"pointer",z)}if(Object.defineProperty(ae.prototype,"columnCount",{enumerable:!1,get:function(){return b.sqlite3_column_count(this.pointer)},set:()=>_("The columnCount property is read-only.")}),f.oo1={DB:we,Stmt:ae},k.isUIThread()){f.oo1.JsStorageDb=function(Y="session"){const I=Ae.normalizeArgs(...arguments);Y=I.filename,Y!=="session"&&Y!=="local"&&_("JsStorageDb db name must be one of 'session' or 'local'."),I.vfs="kvvfs",Ae.call(this,I)};const z=f.oo1.JsStorageDb;z.prototype=Object.create(we.prototype),z.clearStorage=b.sqlite3_js_kvvfs_clear,z.prototype.clearStorage=function(){return z.clearStorage(he(this).filename)},z.storageSize=b.sqlite3_js_kvvfs_size,z.prototype.storageSize=function(){return z.storageSize(he(this).filename)}}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(f){const _=f.util;f.initWorker1API=function(){const b=(...Ae)=>{throw new Error(Ae.join(" "))};globalThis.WorkerGlobalScope instanceof Function||b("initWorker1API() must be run from a Worker thread.");const S=this.sqlite3||b("Missing this.sqlite3 object."),k=S.oo1.DB,X=function(Ae){let we=te.idMap.get(Ae);return we||(we="db#"+ ++te.idSeq+"@"+Ae.pointer,te.idMap.set(Ae,we),we)},te={dbList:[],idSeq:0,idMap:new WeakMap,xfer:[],open:function(Ae){const we=new k(Ae);return this.dbs[X(we)]=we,this.dbList.indexOf(we)<0&&this.dbList.push(we),we},close:function(Ae,we){if(Ae){delete this.dbs[X(Ae)];const ze=Ae.filename,ae=_.sqlite3__wasm_db_vfs(Ae.pointer,0);Ae.close();const he=this.dbList.indexOf(Ae);he>=0&&this.dbList.splice(he,1),we&&ze&&ae&&_.sqlite3__wasm_vfs_unlink(ae,ze)}},post:function(Ae,we){we&&we.length?(globalThis.postMessage(Ae,Array.from(we)),we.length=0):globalThis.postMessage(Ae)},dbs:Object.create(null),getDb:function(Ae,we=!0){return this.dbs[Ae]||(we?b("Unknown (or closed) DB ID:",Ae):void 0)}},Le=function(Ae=te.dbList[0]){return Ae&&Ae.pointer?Ae:b("DB is not opened.")},Ue=function(Ae,we=!0){const ze=te.getDb(Ae.dbId,!1)||te.dbList[0];return we?Le(ze):ze},Je=function(){return te.dbList[0]&&X(te.dbList[0])},rt={open:function(Ae){const we=Object.create(null),ze=Ae.args||Object.create(null);ze.simulateError&&b("Throwing because of simulateError flag.");const ae=Object.create(null);we.vfs=ze.vfs,we.filename=ze.filename||"";const he=te.open(we);return ae.filename=he.filename,ae.persistent=!!S.capi.sqlite3_js_db_uses_vfs(he.pointer,"opfs"),ae.dbId=X(he),ae.vfs=he.dbVfsName(),ae},close:function(Ae){const we=Ue(Ae,!1),ze={filename:we&&we.filename};if(we){const ae=Ae.args&&typeof Ae.args=="object"?!!Ae.args.unlink:!1;te.close(we,ae)}return ze},exec:function(Ae){const we=typeof Ae.args=="string"?{sql:Ae.args}:Ae.args||Object.create(null);we.rowMode==="stmt"?b("Invalid rowMode for 'exec': stmt mode","does not work in the Worker API."):we.sql||b("'exec' requires input SQL.");const ze=Ue(Ae);(we.callback||Array.isArray(we.resultRows))&&(ze._blobXfer=te.xfer);const ae=we.callback;let he=0;const _e=!!we.columnNames;typeof ae=="string"&&(_e||(we.columnNames=[]),we.callback=function(We,Be){te.post({type:ae,columnNames:we.columnNames,rowNumber:++he,row:We},te.xfer)});try{const We=we.countChanges?ze.changes(!0,we.countChanges===64):void 0;ze.exec(we),We!==void 0&&(we.changeCount=ze.changes(!0,we.countChanges===64)-We),we.callback instanceof Function&&(we.callback=ae,te.post({type:ae,columnNames:we.columnNames,rowNumber:null,row:void 0}))}finally{delete ze._blobXfer,we.callback&&(we.callback=ae)}return we},"config-get":function(){const Ae=Object.create(null),we=S.config;return["bigIntEnabled"].forEach(function(ze){Object.getOwnPropertyDescriptor(we,ze)&&(Ae[ze]=we[ze])}),Ae.version=S.version,Ae.vfsList=S.capi.sqlite3_js_vfs_list(),Ae},export:function(Ae){const we=Ue(Ae),ze={byteArray:S.capi.sqlite3_js_db_export(we.pointer),filename:we.filename,mimetype:"application/x-sqlite3"};return te.xfer.push(ze.byteArray.buffer),ze},toss:function(Ae){b("Testing worker exception")}};globalThis.onmessage=async function(Ae){Ae=Ae.data;let we,ze=Ae.dbId,ae=Ae.type;const he=performance.now();try{rt.hasOwnProperty(ae)&&rt[ae]instanceof Function?we=await rt[ae](Ae):b("Unknown db worker message type:",Ae.type)}catch(_e){ae="error",we={operation:Ae.type,message:_e.message,errorClass:_e.name,input:Ae},_e.stack&&(we.stack=typeof _e.stack=="string"?_e.stack.split(/\n\s*/):_e.stack)}ze||(ze=we.dbId||Je()),te.post({type:ae,dbId:ze,messageId:Ae.messageId,workerReceivedTime:he,workerRespondTime:performance.now(),departureTime:Ae.departureTime,result:we},te.xfer)},globalThis.postMessage({type:"sqlite3-api",result:"worker1-ready"})}.bind({sqlite3:f})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(f){const _=f.wasm,b=f.capi,S=f.util.toss3,k=Object.create(null);f.vfs=k,b.sqlite3_vfs.prototype.registerVfs=function(X=!1){this instanceof f.capi.sqlite3_vfs||S("Expecting a sqlite3_vfs-type argument.");const te=b.sqlite3_vfs_register(this,X?1:0);return te&&S("sqlite3_vfs_register(",this,") failed with rc",te),this.pointer!==b.sqlite3_vfs_find(this.$zName)&&S("BUG: sqlite3_vfs_find(vfs.$zName) failed for just-installed VFS",this),this},k.installVfs=function(X){let te=0;const Le=["io","vfs"];for(const Ue of Le){const Je=X[Ue];Je&&(++te,Je.struct.installMethods(Je.methods,!!Je.applyArgcCheck),Ue==="vfs"&&(!Je.struct.$zName&&typeof Je.name=="string"&&Je.struct.addOnDispose(Je.struct.$zName=_.allocCString(Je.name)),Je.struct.registerVfs(!!Je.asDefault)))}return te||S("Misuse: installVfs() options object requires at least","one of:",Le),this}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(f){if(!f.wasm.exports.sqlite3_declare_vtab)return;const _=f.wasm,b=f.capi,S=f.util.toss3,k=Object.create(null);f.vtab=k;const X=b.sqlite3_index_info;X.prototype.nthConstraint=function(Ue,Je=!1){if(Ue<0||Ue>=this.$nConstraint)return!1;const rt=this.$aConstraint+X.sqlite3_index_constraint.structInfo.sizeof*Ue;return Je?rt:new X.sqlite3_index_constraint(rt)},X.prototype.nthConstraintUsage=function(Ue,Je=!1){if(Ue<0||Ue>=this.$nConstraint)return!1;const rt=this.$aConstraintUsage+X.sqlite3_index_constraint_usage.structInfo.sizeof*Ue;return Je?rt:new X.sqlite3_index_constraint_usage(rt)},X.prototype.nthOrderBy=function(Ue,Je=!1){if(Ue<0||Ue>=this.$nOrderBy)return!1;const rt=this.$aOrderBy+X.sqlite3_index_orderby.structInfo.sizeof*Ue;return Je?rt:new X.sqlite3_index_orderby(rt)};const te=function(Ue,Je){return function(rt,Ae=!1){if(arguments.length===0&&(rt=new Je),rt instanceof Je)return this.set(rt.pointer,rt),rt;_.isPtr(rt)||f.SQLite3Error.toss("Invalid argument to",Ue+"()");let we=this.get(rt);return Ae&&this.delete(rt),we}.bind(new Map)},Le=function(Ue,Je){const rt=te(Ue,Je);return Object.assign(Object.create(null),{StructType:Je,create:Ae=>{const we=rt();return _.pokePtr(Ae,we.pointer),we},get:Ae=>rt(Ae),unget:Ae=>rt(Ae,!0),dispose:Ae=>{const we=rt(Ae,!0);we&&we.dispose()}})};k.xVtab=Le("xVtab",b.sqlite3_vtab),k.xCursor=Le("xCursor",b.sqlite3_vtab_cursor),k.xIndexInfo=Ue=>new b.sqlite3_index_info(Ue),k.xError=function Ue(Je,rt,Ae){if(Ue.errorReporter instanceof Function)try{Ue.errorReporter("sqlite3_module::"+Je+"(): "+rt.message)}catch{}let we;return rt instanceof f.WasmAllocError?we=b.SQLITE_NOMEM:arguments.length>2?we=Ae:rt instanceof f.SQLite3Error&&(we=rt.resultCode),we||b.SQLITE_ERROR},k.xError.errorReporter=console.error.bind(console),k.xRowid=(Ue,Je)=>_.poke(Ue,Je,"i64"),k.setupModule=function(Ue){let Je=!1;const rt=this instanceof b.sqlite3_module?this:Ue.struct||(Je=new b.sqlite3_module);try{const Ae=Ue.methods||S("Missing 'methods' object.");for(const we of Object.entries({xConnect:"xCreate",xDisconnect:"xDestroy"})){const ze=we[0],ae=we[1];Ae[ze]===!0?Ae[ze]=Ae[ae]:Ae[ae]===!0&&(Ae[ae]=Ae[ze])}if(Ue.catchExceptions){const we=function(he,_e){return["xConnect","xCreate"].indexOf(he)>=0?function(We,Be,be,Me,ht,F){try{return _e(...arguments)||0}catch(K){return K instanceof f.WasmAllocError||(_.dealloc(_.peekPtr(F)),_.pokePtr(F,_.allocCString(K.message))),k.xError(he,K)}}:function(...We){try{return _e(...We)||0}catch(Be){return k.xError(he,Be)}}},ze=["xCreate","xConnect","xBestIndex","xDisconnect","xDestroy","xOpen","xClose","xFilter","xNext","xEof","xColumn","xRowid","xUpdate","xBegin","xSync","xCommit","xRollback","xFindFunction","xRename","xSavepoint","xRelease","xRollbackTo","xShadowName"],ae=Object.create(null);for(const he of ze){const _e=Ae[he];if(_e instanceof Function)he==="xConnect"&&Ae.xCreate===_e?ae[he]=Ae.xCreate:he==="xCreate"&&Ae.xConnect===_e?ae[he]=Ae.xConnect:ae[he]=we(he,_e);else continue}rt.installMethods(ae,!1)}else rt.installMethods(Ae,!!Ue.applyArgcCheck);if(rt.$iVersion===0){let we;typeof Ue.iVersion=="number"?we=Ue.iVersion:rt.$xShadowName?we=3:rt.$xSavePoint||rt.$xRelease||rt.$xRollbackTo?we=2:we=1,rt.$iVersion=we}}catch(Ae){throw Je&&Je.dispose(),Ae}return rt},b.sqlite3_module.prototype.setupModule=function(Ue){return k.setupModule.call(this,Ue)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(f){const _=function b(S){if(!globalThis.SharedArrayBuffer||!globalThis.Atomics)return Promise.reject(new Error("Cannot install OPFS: Missing SharedArrayBuffer and/or Atomics. The server must emit the COOP/COEP response headers to enable those. See https://sqlite.org/wasm/doc/trunk/persistence.md#coop-coep"));if(typeof WorkerGlobalScope>"u")return Promise.reject(new Error("The OPFS sqlite3_vfs cannot run in the main thread because it requires Atomics.wait()."));if(!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory)return Promise.reject(new Error("Missing required OPFS APIs."));(!S||typeof S!="object")&&(S=Object.create(null));const k=new URL(globalThis.location.href).searchParams;return k.has("opfs-disable")?Promise.resolve(f):(S.verbose===void 0&&(S.verbose=k.has("opfs-verbose")?+k.get("opfs-verbose")||2:1),S.sanityChecks===void 0&&(S.sanityChecks=k.has("opfs-sanity-check")),S.proxyUri===void 0&&(S.proxyUri=b.defaultProxyUri),typeof S.proxyUri=="function"&&(S.proxyUri=S.proxyUri()),new Promise(function(te,Le){const Ue=[f.config.error,f.config.warn,f.config.log],Je=(Se,...Ve)=>{S.verbose>Se&&Ue[Se]("OPFS syncer:",...Ve)},rt=(...Se)=>Je(2,...Se),Ae=(...Se)=>Je(1,...Se),we=(...Se)=>Je(0,...Se),ze=f.util.toss,ae=f.capi,he=f.util,_e=f.wasm,We=ae.sqlite3_vfs,Be=ae.sqlite3_file,be=ae.sqlite3_io_methods,Me=Object.create(null),ht=()=>globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&navigator?.storage?.getDirectory;Me.metrics={dump:function(){let Se,Ve=0,Xe=0,bt=0;for(Se in W.opIds){const ut=qe[Se];Ve+=ut.count,Xe+=ut.time,bt+=ut.wait,ut.avgTime=ut.count&&ut.time?ut.time/ut.count:0,ut.avgWait=ut.count&&ut.wait?ut.wait/ut.count:0}f.config.log(globalThis.location.href,"metrics for",globalThis.location.href,":",qe,`
Total of`,Ve,"op(s) for",Xe,"ms (incl. "+bt+" ms of waiting on the async side)"),f.config.log("Serialization metrics:",qe.s11n),Y.postMessage({type:"opfs-async-metrics"})},reset:function(){let Se;const Ve=bt=>bt.count=bt.time=bt.wait=0;for(Se in W.opIds)Ve(qe[Se]=Object.create(null));let Xe=qe.s11n=Object.create(null);Xe=Xe.serialize=Object.create(null),Xe.count=Xe.time=0,Xe=qe.s11n.deserialize=Object.create(null),Xe.count=Xe.time=0}};const F=new be,K=new We().addOnDispose(()=>F.dispose());let fe;const Qe=Se=>(fe=!0,K.dispose(),Le(Se)),z=()=>(fe=!1,te(f)),Y=new Worker(new URL("/assets/sqlite3-opfs-async-proxy-C_otN2ZJ.js",import.meta.url));setTimeout(()=>{fe===void 0&&Qe(new Error("Timeout while waiting for OPFS async proxy worker."))},4e3),Y._originalOnError=Y.onerror,Y.onerror=function(Se){we("Error initializing OPFS asyncer:",Se),Qe(new Error("Loading OPFS async Worker failed for unknown reasons."))};const I=ae.sqlite3_vfs_find(null),L=I?new We(I):null;F.$iVersion=1,K.$iVersion=2,K.$szOsFile=ae.sqlite3_file.structInfo.sizeof,K.$mxPathname=1024,K.$zName=_e.allocCString("opfs"),K.$xDlOpen=K.$xDlError=K.$xDlSym=K.$xDlClose=null,K.addOnDispose("$zName",K.$zName,"cleanup default VFS wrapper",()=>L?L.dispose():null);const W=Object.create(null);W.verbose=S.verbose,W.littleEndian=(()=>{const Se=new ArrayBuffer(2);return new DataView(Se).setInt16(0,256,!0),new Int16Array(Se)[0]===256})(),W.asyncIdleWaitTime=150,W.asyncS11nExceptions=1,W.fileBufferSize=1024*64,W.sabS11nOffset=W.fileBufferSize,W.sabS11nSize=K.$mxPathname*2,W.sabIO=new SharedArrayBuffer(W.fileBufferSize+W.sabS11nSize),W.opIds=Object.create(null);const qe=Object.create(null);{let Se=0;W.opIds.whichOp=Se++,W.opIds.rc=Se++,W.opIds.xAccess=Se++,W.opIds.xClose=Se++,W.opIds.xDelete=Se++,W.opIds.xDeleteNoWait=Se++,W.opIds.xFileSize=Se++,W.opIds.xLock=Se++,W.opIds.xOpen=Se++,W.opIds.xRead=Se++,W.opIds.xSleep=Se++,W.opIds.xSync=Se++,W.opIds.xTruncate=Se++,W.opIds.xUnlock=Se++,W.opIds.xWrite=Se++,W.opIds.mkdir=Se++,W.opIds["opfs-async-metrics"]=Se++,W.opIds["opfs-async-shutdown"]=Se++,W.opIds.retry=Se++,W.sabOP=new SharedArrayBuffer(Se*4),Me.metrics.reset()}W.sq3Codes=Object.create(null),["SQLITE_ACCESS_EXISTS","SQLITE_ACCESS_READWRITE","SQLITE_BUSY","SQLITE_CANTOPEN","SQLITE_ERROR","SQLITE_IOERR","SQLITE_IOERR_ACCESS","SQLITE_IOERR_CLOSE","SQLITE_IOERR_DELETE","SQLITE_IOERR_FSYNC","SQLITE_IOERR_LOCK","SQLITE_IOERR_READ","SQLITE_IOERR_SHORT_READ","SQLITE_IOERR_TRUNCATE","SQLITE_IOERR_UNLOCK","SQLITE_IOERR_WRITE","SQLITE_LOCK_EXCLUSIVE","SQLITE_LOCK_NONE","SQLITE_LOCK_PENDING","SQLITE_LOCK_RESERVED","SQLITE_LOCK_SHARED","SQLITE_LOCKED","SQLITE_MISUSE","SQLITE_NOTFOUND","SQLITE_OPEN_CREATE","SQLITE_OPEN_DELETEONCLOSE","SQLITE_OPEN_MAIN_DB","SQLITE_OPEN_READONLY"].forEach(Se=>{(W.sq3Codes[Se]=ae[Se])===void 0&&ze("Maintenance required: not found:",Se)}),W.opfsFlags=Object.assign(Object.create(null),{OPFS_UNLOCK_ASAP:1,OPFS_UNLINK_BEFORE_OPEN:2,defaultUnlockAsap:!1});const He=(Se,...Ve)=>{const Xe=W.opIds[Se]||ze("Invalid op ID:",Se);W.s11n.serialize(...Ve),Atomics.store(W.sabOPView,W.opIds.rc,-1),Atomics.store(W.sabOPView,W.opIds.whichOp,Xe),Atomics.notify(W.sabOPView,W.opIds.whichOp);const bt=performance.now();for(;Atomics.wait(W.sabOPView,W.opIds.rc,-1)!=="not-equal";);const ut=Atomics.load(W.sabOPView,W.opIds.rc);if(qe[Se].wait+=performance.now()-bt,ut&&W.asyncS11nExceptions){const Pt=W.s11n.deserialize();Pt&&we(Se+"() async error:",...Pt)}return ut};Me.debug={asyncShutdown:()=>{Ae("Shutting down OPFS async listener. The OPFS VFS will no longer work."),He("opfs-async-shutdown")},asyncRestart:()=>{Ae("Attempting to restart OPFS VFS async listener. Might work, might not."),Y.postMessage({type:"opfs-async-restart"})}};const St=()=>{if(W.s11n)return W.s11n;const Se=new TextDecoder,Ve=new TextEncoder("utf-8"),Xe=new Uint8Array(W.sabIO,W.sabS11nOffset,W.sabS11nSize),bt=new DataView(W.sabIO,W.sabS11nOffset,W.sabS11nSize);W.s11n=Object.create(null);const ut=Object.create(null);ut.number={id:1,size:8,getter:"getFloat64",setter:"setFloat64"},ut.bigint={id:2,size:8,getter:"getBigInt64",setter:"setBigInt64"},ut.boolean={id:3,size:4,getter:"getInt32",setter:"setInt32"},ut.string={id:4};const Pt=Et=>ut[typeof Et]||ze("Maintenance required: this value type cannot be serialized.",Et),Yt=Et=>{switch(Et){case ut.number.id:return ut.number;case ut.bigint.id:return ut.bigint;case ut.boolean.id:return ut.boolean;case ut.string.id:return ut.string;default:ze("Invalid type ID:",Et)}};return W.s11n.deserialize=function(Et=!1){++qe.s11n.deserialize.count;const Vr=performance.now(),Pe=Xe[0],st=Pe?[]:null;if(Pe){const ct=[];let wt=1,tr,xr,gr;for(tr=0;tr<Pe;++tr,++wt)ct.push(Yt(Xe[wt]));for(tr=0;tr<Pe;++tr){const br=ct[tr];br.getter?(gr=bt[br.getter](wt,W.littleEndian),wt+=br.size):(xr=bt.getInt32(wt,W.littleEndian),wt+=4,gr=Se.decode(Xe.slice(wt,wt+xr)),wt+=xr),st.push(gr)}}return Et&&(Xe[0]=0),qe.s11n.deserialize.time+=performance.now()-Vr,st},W.s11n.serialize=function(...Et){const Vr=performance.now();if(++qe.s11n.serialize.count,Et.length){const Pe=[];let st=0,ct=1;for(Xe[0]=Et.length&255;st<Et.length;++st,++ct)Pe.push(Pt(Et[st])),Xe[ct]=Pe[st].id;for(st=0;st<Et.length;++st){const wt=Pe[st];if(wt.setter)bt[wt.setter](ct,Et[st],W.littleEndian),ct+=wt.size;else{const tr=Ve.encode(Et[st]);bt.setInt32(ct,tr.byteLength,W.littleEndian),ct+=4,Xe.set(tr,ct),ct+=tr.byteLength}}}else Xe[0]=0;qe.s11n.serialize.time+=performance.now()-Vr},W.s11n},Ft=function Se(Ve=16){Se._chars||(Se._chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ012346789",Se._n=Se._chars.length);const Xe=[];let bt=0;for(;bt<Ve;++bt){const ut=Math.random()*(Se._n*64)%Se._n|0;Xe[bt]=Se._chars[ut]}return Xe.join("")},Bt=Object.create(null),Ze=Object.create(null);Ze.op=void 0,Ze.start=void 0;const ue=Se=>{Ze.start=performance.now(),Ze.op=Se,++qe[Se].count},Ne=()=>qe[Ze.op].time+=performance.now()-Ze.start,Ke={xCheckReservedLock:function(Se,Ve){return _e.poke(Ve,0,"i32"),0},xClose:function(Se){ue("xClose");let Ve=0;const Xe=Bt[Se];return Xe&&(delete Bt[Se],Ve=He("xClose",Se),Xe.sq3File&&Xe.sq3File.dispose()),Ne(),Ve},xDeviceCharacteristics:function(Se){return ae.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(Se,Ve,Xe){return ae.SQLITE_NOTFOUND},xFileSize:function(Se,Ve){ue("xFileSize");let Xe=He("xFileSize",Se);if(Xe==0)try{const bt=W.s11n.deserialize()[0];_e.poke(Ve,bt,"i64")}catch(bt){we("Unexpected error reading xFileSize() result:",bt),Xe=W.sq3Codes.SQLITE_IOERR}return Ne(),Xe},xLock:function(Se,Ve){ue("xLock");const Xe=Bt[Se];let bt=0;return Xe.lockType?Xe.lockType=Ve:(bt=He("xLock",Se,Ve),bt===0&&(Xe.lockType=Ve)),Ne(),bt},xRead:function(Se,Ve,Xe,bt){ue("xRead");const ut=Bt[Se];let Pt;try{Pt=He("xRead",Se,Xe,Number(bt)),(Pt===0||ae.SQLITE_IOERR_SHORT_READ===Pt)&&_e.heap8u().set(ut.sabView.subarray(0,Xe),Ve)}catch(Yt){we("xRead(",arguments,") failed:",Yt,ut),Pt=ae.SQLITE_IOERR_READ}return Ne(),Pt},xSync:function(Se,Ve){ue("xSync"),++qe.xSync.count;const Xe=He("xSync",Se,Ve);return Ne(),Xe},xTruncate:function(Se,Ve){ue("xTruncate");const Xe=He("xTruncate",Se,Number(Ve));return Ne(),Xe},xUnlock:function(Se,Ve){ue("xUnlock");const Xe=Bt[Se];let bt=0;return ae.SQLITE_LOCK_NONE===Ve&&Xe.lockType&&(bt=He("xUnlock",Se,Ve)),bt===0&&(Xe.lockType=Ve),Ne(),bt},xWrite:function(Se,Ve,Xe,bt){ue("xWrite");const ut=Bt[Se];let Pt;try{ut.sabView.set(_e.heap8u().subarray(Ve,Ve+Xe)),Pt=He("xWrite",Se,Xe,Number(bt))}catch(Yt){we("xWrite(",arguments,") failed:",Yt,ut),Pt=ae.SQLITE_IOERR_WRITE}return Ne(),Pt}},et={xAccess:function(Se,Ve,Xe,bt){ue("xAccess");const ut=He("xAccess",_e.cstrToJs(Ve));return _e.poke(bt,ut?0:1,"i32"),Ne(),0},xCurrentTime:function(Se,Ve){return _e.poke(Ve,2440587.5+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(Se,Ve){return _e.poke(Ve,2440587.5*864e5+new Date().getTime(),"i64"),0},xDelete:function(Se,Ve,Xe){ue("xDelete");const bt=He("xDelete",_e.cstrToJs(Ve),Xe,!1);return Ne(),bt},xFullPathname:function(Se,Ve,Xe,bt){return _e.cstrncpy(bt,Ve,Xe)<Xe?0:ae.SQLITE_CANTOPEN},xGetLastError:function(Se,Ve,Xe){return Ae("OPFS xGetLastError() has nothing sensible to return."),0},xOpen:function(Ve,Xe,bt,ut,Pt){ue("xOpen");let Yt=0;Xe===0?Xe=Ft():_e.isPtr(Xe)&&(ae.sqlite3_uri_boolean(Xe,"opfs-unlock-asap",0)&&(Yt|=W.opfsFlags.OPFS_UNLOCK_ASAP),ae.sqlite3_uri_boolean(Xe,"delete-before-open",0)&&(Yt|=W.opfsFlags.OPFS_UNLINK_BEFORE_OPEN),Xe=_e.cstrToJs(Xe));const Et=Object.create(null);Et.fid=bt,Et.filename=Xe,Et.sab=new SharedArrayBuffer(W.fileBufferSize),Et.flags=ut,Et.readOnly=!(f.SQLITE_OPEN_CREATE&ut)&&!!(ut&ae.SQLITE_OPEN_READONLY);const Vr=He("xOpen",bt,Xe,ut,Yt);return Vr||(Et.readOnly&&_e.poke(Pt,ae.SQLITE_OPEN_READONLY,"i32"),Bt[bt]=Et,Et.sabView=W.sabFileBufView,Et.sq3File=new Be(bt),Et.sq3File.$pMethods=F.pointer,Et.lockType=ae.SQLITE_LOCK_NONE),Ne(),Vr}};L&&(K.$xRandomness=L.$xRandomness,K.$xSleep=L.$xSleep),K.$xRandomness||(et.xRandomness=function(Se,Ve,Xe){const bt=_e.heap8u();let ut=0;for(;ut<Ve;++ut)bt[Xe+ut]=Math.random()*255e3&255;return ut}),K.$xSleep||(et.xSleep=function(Se,Ve){return Atomics.wait(W.sabOPView,W.opIds.xSleep,0,Ve),0}),Me.getResolvedPath=function(Se,Ve){const Xe=new URL(Se,"file://irrelevant").pathname;return Ve?Xe.split("/").filter(bt=>!!bt):Xe},Me.getDirForFilename=async function(Ve,Xe=!1){const bt=Me.getResolvedPath(Ve,!0),ut=bt.pop();let Pt=Me.rootDirectory;for(const Yt of bt)Yt&&(Pt=await Pt.getDirectoryHandle(Yt,{create:!!Xe}));return[Pt,ut]},Me.mkdir=async function(Se){try{return await Me.getDirForFilename(Se+"/filepart",!0),!0}catch{return!1}},Me.entryExists=async function(Se){try{const[Ve,Xe]=await Me.getDirForFilename(Se);return await Ve.getFileHandle(Xe),!0}catch{return!1}},Me.randomFilename=Ft,Me.treeList=async function(){const Se=async function Xe(bt,ut){ut.name=bt.name,ut.dirs=[],ut.files=[];for await(const Pt of bt.values())if(Pt.kind==="directory"){const Yt=Object.create(null);ut.dirs.push(Yt),await Xe(Pt,Yt)}else ut.files.push(Pt.name)},Ve=Object.create(null);return await Se(Me.rootDirectory,Ve),Ve},Me.rmfr=async function(){const Se=Me.rootDirectory,Ve={recurse:!0};for await(const Xe of Se.values())Se.removeEntry(Xe.name,Ve)},Me.unlink=async function(Se,Ve=!1,Xe=!1){try{const[bt,ut]=await Me.getDirForFilename(Se,!1);return await bt.removeEntry(ut,{recursive:Ve}),!0}catch(bt){if(Xe)throw new Error("unlink(",arguments[0],") failed: "+bt.message,{cause:bt});return!1}},Me.traverse=async function(Se){const Ve={recursive:!0,directory:Me.rootDirectory};typeof Se=="function"&&(Se={callback:Se}),Se=Object.assign(Ve,Se||{}),async function bt(ut,Pt){for await(const Yt of ut.values()){if(Se.callback(Yt,ut,Pt)===!1)return!1;if(Se.recursive&&Yt.kind==="directory"&&await bt(Yt,Pt+1)===!1)break}}(Se.directory,0)};const It=async function(Se,Ve){const[Xe,bt]=await Me.getDirForFilename(Se,!0);let Pt=await (await Xe.getFileHandle(bt,{create:!0})).createSyncAccessHandle(),Yt=0,Et,Vr=!1;try{for(Pt.truncate(0);(Et=await Ve())!==void 0;)Et instanceof ArrayBuffer&&(Et=new Uint8Array(Et)),Yt===0&&Et.byteLength>=15&&(he.affirmDbHeader(Et),Vr=!0),Pt.write(Et,{at:Yt}),Yt+=Et.byteLength;if((Yt<512||Yt%512!==0)&&ze("Input size",Yt,"is not correct for an SQLite database."),!Vr){const Pe=new Uint8Array(20);Pt.read(Pe,{at:0}),he.affirmDbHeader(Pe)}return Pt.write(new Uint8Array([1,1]),{at:18}),Yt}catch(Pe){throw await Pt.close(),Pt=void 0,await Xe.removeEntry(bt).catch(()=>{}),Pe}finally{Pt&&await Pt.close()}};if(Me.importDb=async function(Se,Ve){if(Ve instanceof Function)return It(Se,Ve);Ve instanceof ArrayBuffer&&(Ve=new Uint8Array(Ve)),he.affirmIsDb(Ve);const Xe=Ve.byteLength,[bt,ut]=await Me.getDirForFilename(Se,!0);let Pt,Yt=0;try{return Pt=await (await bt.getFileHandle(ut,{create:!0})).createSyncAccessHandle(),Pt.truncate(0),Yt=Pt.write(Ve,{at:0}),Yt!=Xe&&ze("Expected to write "+Xe+" bytes but wrote "+Yt+"."),Pt.write(new Uint8Array([1,1]),{at:18}),Yt}catch(Et){throw Pt&&(await Pt.close(),Pt=void 0),await bt.removeEntry(ut).catch(()=>{}),Et}finally{Pt&&await Pt.close()}},f.oo1){const Se=function(...Ve){const Xe=f.oo1.DB.dbCtorHelper.normalizeArgs(...Ve);Xe.vfs=K.$zName,f.oo1.DB.dbCtorHelper.call(this,Xe)};Se.prototype=Object.create(f.oo1.DB.prototype),f.oo1.OpfsDb=Se,Se.importDb=Me.importDb,f.oo1.DB.dbCtorHelper.setVfsPostOpenCallback(K.pointer,function(Ve,Xe){Xe.capi.sqlite3_busy_timeout(Ve,1e4)})}const Wt=function(){const Se=_e.scopedAllocPush(),Ve=new Be;try{const Xe=Ve.pointer,bt=ae.SQLITE_OPEN_CREATE|ae.SQLITE_OPEN_READWRITE|ae.SQLITE_OPEN_MAIN_DB,ut=_e.scopedAlloc(8),Pt="/sanity/check/file"+Ft(8),Yt=_e.scopedAllocCString(Pt);let Et;if(W.s11n.serialize("This is \xe4 string."),Et=W.s11n.deserialize(),rt("deserialize() says:",Et),Et[0]!=="This is \xe4 string."&&ze("String d13n error."),et.xAccess(K.pointer,Yt,0,ut),Et=_e.peek(ut,"i32"),rt("xAccess(",Pt,") exists ?=",Et),Et=et.xOpen(K.pointer,Yt,Xe,bt,ut),rt("open rc =",Et,"state.sabOPView[xOpen] =",W.sabOPView[W.opIds.xOpen]),Et!==0){we("open failed with code",Et);return}et.xAccess(K.pointer,Yt,0,ut),Et=_e.peek(ut,"i32"),Et||ze("xAccess() failed to detect file."),Et=Ke.xSync(Ve.pointer,0),Et&&ze("sync failed w/ rc",Et),Et=Ke.xTruncate(Ve.pointer,1024),Et&&ze("truncate failed w/ rc",Et),_e.poke(ut,0,"i64"),Et=Ke.xFileSize(Ve.pointer,ut),Et&&ze("xFileSize failed w/ rc",Et),rt("xFileSize says:",_e.peek(ut,"i64")),Et=Ke.xWrite(Ve.pointer,Yt,10,1),Et&&ze("xWrite() failed!");const Vr=_e.scopedAlloc(16);Et=Ke.xRead(Ve.pointer,Vr,6,2),_e.poke(Vr+6,0);let Pe=_e.cstrToJs(Vr);rt("xRead() got:",Pe),Pe!=="sanity"&&ze("Unexpected xRead() value."),et.xSleep&&(rt("xSleep()ing before close()ing..."),et.xSleep(K.pointer,2e3),rt("waking up from xSleep()")),Et=Ke.xClose(Xe),rt("xClose rc =",Et,"sabOPView =",W.sabOPView),rt("Deleting file:",Pt),et.xDelete(K.pointer,Yt,4660),et.xAccess(K.pointer,Yt,0,ut),Et=_e.peek(ut,"i32"),Et&&ze("Expecting 0 from xAccess(",Pt,") after xDelete()."),Ae("End of OPFS sanity checks.")}finally{Ve.dispose(),_e.scopedAllocPop(Se)}};Y.onmessage=function({data:Se}){switch(Se.type){case"opfs-unavailable":Qe(new Error(Se.payload.join(" ")));break;case"opfs-async-loaded":Y.postMessage({type:"opfs-async-init",args:W});break;case"opfs-async-inited":{if(fe===!0)break;try{f.vfs.installVfs({io:{struct:F,methods:Ke},vfs:{struct:K,methods:et}}),W.sabOPView=new Int32Array(W.sabOP),W.sabFileBufView=new Uint8Array(W.sabIO,0,W.fileBufferSize),W.sabS11nView=new Uint8Array(W.sabIO,W.sabS11nOffset,W.sabS11nSize),St(),S.sanityChecks&&(Ae("Running sanity checks because of opfs-sanity-check URL arg..."),Wt()),ht()?navigator.storage.getDirectory().then(Ve=>{Y.onerror=Y._originalOnError,delete Y._originalOnError,f.opfs=Me,Me.rootDirectory=Ve,rt("End of OPFS sqlite3_vfs setup.",K),z()}).catch(Qe):z()}catch(Ve){we(Ve),Qe(Ve)}break}default:{const Ve="Unexpected message from the OPFS async worker: "+JSON.stringify(Se);we(Ve),Qe(new Error(Ve));break}}}}))};_.defaultProxyUri="sqlite3-opfs-async-proxy.js",globalThis.sqlite3ApiBootstrap.initializersAsync.push(async b=>{try{let S=_.defaultProxyUri;return b.scriptInfo.sqlite3Dir&&(_.defaultProxyUri=b.scriptInfo.sqlite3Dir+S),_().catch(k=>{b.config.warn("Ignoring inability to install OPFS sqlite3_vfs:",k.message)})}catch(S){return b.config.error("installOpfsVfs() exception:",S),Promise.reject(S)}})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(f){const _=f.util.toss,b=f.util.toss3,S=Object.create(null),k=f.capi,X=f.util,te=f.wasm,Le=4096,Ue=512,Je=4,rt=8,Ae=Ue+Je,we=Ue,ze=Ae,ae=Le,he=k.SQLITE_OPEN_MAIN_DB|k.SQLITE_OPEN_MAIN_JOURNAL|k.SQLITE_OPEN_SUPER_JOURNAL|k.SQLITE_OPEN_WAL,_e=".opaque",We=()=>Math.random().toString(36).slice(2),Be=new TextDecoder,be=new TextEncoder,Me=Object.assign(Object.create(null),{name:"opfs-sahpool",directory:void 0,initialCapacity:6,clearOnInit:!1,verbosity:2,forceReinitIfPreviouslyFailed:!1}),ht=[f.config.error,f.config.warn,f.config.log];f.config.log;const F=f.config.warn;f.config.error;const K=new Map,fe=Ze=>K.get(Ze),Qe=(Ze,ue)=>{ue?K.set(Ze,ue):K.delete(Ze)},z=new Map,Y=Ze=>z.get(Ze),I=(Ze,ue)=>{ue?z.set(Ze,ue):z.delete(Ze)},L={xCheckReservedLock:function(Ze,ue){const Ne=Y(Ze);return Ne.log("xCheckReservedLock"),Ne.storeErr(),te.poke32(ue,1),0},xClose:function(Ze){const ue=Y(Ze);ue.storeErr();const Ne=ue.getOFileForS3File(Ze);if(Ne)try{ue.log(`xClose ${Ne.path}`),ue.mapS3FileToOFile(Ze,!1),Ne.sah.flush(),Ne.flags&k.SQLITE_OPEN_DELETEONCLOSE&&ue.deletePath(Ne.path)}catch(Ke){return ue.storeErr(Ke,k.SQLITE_IOERR)}return 0},xDeviceCharacteristics:function(Ze){return k.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(Ze,ue,Ne){return k.SQLITE_NOTFOUND},xFileSize:function(Ze,ue){const Ne=Y(Ze);Ne.log("xFileSize");const et=Ne.getOFileForS3File(Ze).sah.getSize()-ae;return te.poke64(ue,BigInt(et)),0},xLock:function(Ze,ue){const Ne=Y(Ze);Ne.log(`xLock ${ue}`),Ne.storeErr();const Ke=Ne.getOFileForS3File(Ze);return Ke.lockType=ue,0},xRead:function(Ze,ue,Ne,Ke){const et=Y(Ze);et.storeErr();const It=et.getOFileForS3File(Ze);et.log(`xRead ${It.path} ${Ne} @ ${Ke}`);try{const Wt=It.sah.read(te.heap8u().subarray(ue,ue+Ne),{at:ae+Number(Ke)});return Wt<Ne?(te.heap8u().fill(0,ue+Wt,ue+Ne),k.SQLITE_IOERR_SHORT_READ):0}catch(Wt){return et.storeErr(Wt,k.SQLITE_IOERR)}},xSectorSize:function(Ze){return Le},xSync:function(Ze,ue){const Ne=Y(Ze);Ne.log(`xSync ${ue}`),Ne.storeErr();const Ke=Ne.getOFileForS3File(Ze);try{return Ke.sah.flush(),0}catch(et){return Ne.storeErr(et,k.SQLITE_IOERR)}},xTruncate:function(Ze,ue){const Ne=Y(Ze);Ne.log(`xTruncate ${ue}`),Ne.storeErr();const Ke=Ne.getOFileForS3File(Ze);try{return Ke.sah.truncate(ae+Number(ue)),0}catch(et){return Ne.storeErr(et,k.SQLITE_IOERR)}},xUnlock:function(Ze,ue){const Ne=Y(Ze);Ne.log("xUnlock");const Ke=Ne.getOFileForS3File(Ze);return Ke.lockType=ue,0},xWrite:function(Ze,ue,Ne,Ke){const et=Y(Ze);et.storeErr();const It=et.getOFileForS3File(Ze);et.log(`xWrite ${It.path} ${Ne} ${Ke}`);try{const Wt=It.sah.write(te.heap8u().subarray(ue,ue+Ne),{at:ae+Number(Ke)});return Ne===Wt?0:_("Unknown write() failure.")}catch(Wt){return et.storeErr(Wt,k.SQLITE_IOERR)}}},W=new k.sqlite3_io_methods;W.$iVersion=1,f.vfs.installVfs({io:{struct:W,methods:L}});const qe={xAccess:function(Ze,ue,Ne,Ke){const et=fe(Ze);et.storeErr();try{const It=et.getPath(ue);te.poke32(Ke,et.hasFilename(It)?1:0)}catch{te.poke32(Ke,0)}return 0},xCurrentTime:function(Ze,ue){return te.poke(ue,2440587.5+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(Ze,ue){return te.poke(ue,2440587.5*864e5+new Date().getTime(),"i64"),0},xDelete:function(Ze,ue,Ne){const Ke=fe(Ze);Ke.log(`xDelete ${te.cstrToJs(ue)}`),Ke.storeErr();try{return Ke.deletePath(Ke.getPath(ue)),0}catch(et){return Ke.storeErr(et),k.SQLITE_IOERR_DELETE}},xFullPathname:function(Ze,ue,Ne,Ke){return te.cstrncpy(Ke,ue,Ne)<Ne?0:k.SQLITE_CANTOPEN},xGetLastError:function(Ze,ue,Ne){const Ke=fe(Ze),et=Ke.popErr();if(Ke.log(`xGetLastError ${ue} e =`,et),et){const It=te.scopedAllocPush();try{const[Wt,Se]=te.scopedAllocCString(et.message,!0);te.cstrncpy(Ne,Wt,ue),Se>ue&&te.poke8(Ne+ue-1,0)}catch{return k.SQLITE_NOMEM}finally{te.scopedAllocPop(It)}}return et?et.sqlite3Rc||k.SQLITE_IOERR:0},xOpen:function(ue,Ne,Ke,et,It){const Wt=fe(ue);try{Wt.log(`xOpen ${te.cstrToJs(Ne)} ${et}`);const Se=Ne&&te.peek8(Ne)?Wt.getPath(Ne):We();let Ve=Wt.getSAHForPath(Se);!Ve&&et&k.SQLITE_OPEN_CREATE&&(Wt.getFileCount()<Wt.getCapacity()?(Ve=Wt.nextAvailableSAH(),Wt.setAssociatedPath(Ve,Se,et)):_("SAH pool is full. Cannot create file",Se)),Ve||_("file not found:",Se);const Xe={path:Se,flags:et,sah:Ve};Wt.mapS3FileToOFile(Ke,Xe),Xe.lockType=k.SQLITE_LOCK_NONE;const bt=new k.sqlite3_file(Ke);return bt.$pMethods=W.pointer,bt.dispose(),te.poke32(It,et),0}catch(Se){return Wt.storeErr(Se),k.SQLITE_CANTOPEN}}},He=function(Ze){f.capi.sqlite3_vfs_find(Ze)&&b("VFS name is already registered:",Ze);const ue=new k.sqlite3_vfs,Ne=k.sqlite3_vfs_find(null),Ke=Ne?new k.sqlite3_vfs(Ne):null;return ue.$iVersion=2,ue.$szOsFile=k.sqlite3_file.structInfo.sizeof,ue.$mxPathname=Ue,ue.addOnDispose(ue.$zName=te.allocCString(Ze),()=>Qe(ue.pointer,0)),Ke&&(ue.$xRandomness=Ke.$xRandomness,ue.$xSleep=Ke.$xSleep,Ke.dispose()),!ue.$xRandomness&&!qe.xRandomness&&(qe.xRandomness=function(et,It,Wt){const Se=te.heap8u();let Ve=0;for(;Ve<It;++Ve)Se[Wt+Ve]=Math.random()*255e3&255;return Ve}),!ue.$xSleep&&!qe.xSleep&&(qe.xSleep=(et,It)=>0),f.vfs.installVfs({vfs:{struct:ue,methods:qe}}),ue};class St{vfsDir;#e;#t;#r;#n=new Map;#i=new Map;#s=new Set;#o=new Map;#a=new Uint8Array(Ae);#u;#l;#c;constructor(ue=Object.create(null)){this.#c=ue.verbosity??Me.verbosity,this.vfsName=ue.name||Me.name,this.#l=He(this.vfsName),Qe(this.#l.pointer,this),this.vfsDir=ue.directory||"."+this.vfsName,this.#u=new DataView(this.#a.buffer,this.#a.byteOffset),this.isReady=this.reset(!!(ue.clearOnInit??Me.clearOnInit)).then(()=>{if(this.$error)throw this.$error;return this.getCapacity()?Promise.resolve(void 0):this.addCapacity(ue.initialCapacity||Me.initialCapacity)})}#d(ue,...Ne){this.#c>ue&&ht[ue](this.vfsName+":",...Ne)}log(...ue){this.#d(2,...ue)}warn(...ue){this.#d(1,...ue)}error(...ue){this.#d(0,...ue)}getVfs(){return this.#l}getCapacity(){return this.#n.size}getFileCount(){return this.#i.size}getFileNames(){const ue=[],Ne=this.#i.keys();for(const Ke of Ne)ue.push(Ke);return ue}async addCapacity(ue){for(let Ne=0;Ne<ue;++Ne){const Ke=We(),It=await (await this.#t.getFileHandle(Ke,{create:!0})).createSyncAccessHandle();this.#n.set(It,Ke),this.setAssociatedPath(It,"",0)}return this.getCapacity()}async reduceCapacity(ue){let Ne=0;for(const Ke of Array.from(this.#s)){if(Ne===ue||this.getFileCount()===this.getCapacity())break;const et=this.#n.get(Ke);Ke.close(),await this.#t.removeEntry(et),this.#n.delete(Ke),this.#s.delete(Ke),++Ne}return Ne}releaseAccessHandles(){for(const ue of this.#n.keys())ue.close();this.#n.clear(),this.#i.clear(),this.#s.clear()}async acquireAccessHandles(ue){const Ne=[];for await(const[Ke,et]of this.#t)et.kind==="file"&&Ne.push([Ke,et]);return Promise.all(Ne.map(async([Ke,et])=>{try{const It=await et.createSyncAccessHandle();if(this.#n.set(It,Ke),ue)It.truncate(ae),this.setAssociatedPath(It,"",0);else{const Wt=this.getAssociatedPath(It);Wt?this.#i.set(Wt,It):this.#s.add(It)}}catch(It){throw this.storeErr(It),this.releaseAccessHandles(),It}}))}getAssociatedPath(ue){ue.read(this.#a,{at:0});const Ne=this.#u.getUint32(we);if(this.#a[0]&&(Ne&k.SQLITE_OPEN_DELETEONCLOSE||!(Ne&he)))return F(`Removing file with unexpected flags ${Ne.toString(16)}`,this.#a),this.setAssociatedPath(ue,"",0),"";const Ke=new Uint32Array(rt/4);ue.read(Ke,{at:ze});const et=this.computeDigest(this.#a);if(Ke.every((It,Wt)=>It===et[Wt])){const It=this.#a.findIndex(Wt=>Wt===0);return It===0&&ue.truncate(ae),It?Be.decode(this.#a.subarray(0,It)):""}else return F("Disassociating file with bad digest."),this.setAssociatedPath(ue,"",0),""}setAssociatedPath(ue,Ne,Ke){const et=be.encodeInto(Ne,this.#a);Ue<=et.written+1&&_("Path too long:",Ne),this.#a.fill(0,et.written,Ue),this.#u.setUint32(we,Ke);const It=this.computeDigest(this.#a);ue.write(this.#a,{at:0}),ue.write(It,{at:ze}),ue.flush(),Ne?(this.#i.set(Ne,ue),this.#s.delete(ue)):(ue.truncate(ae),this.#s.add(ue))}computeDigest(ue){let Ne=0xdeadbeef,Ke=0x41c6ce57;for(const et of ue)Ne=31*Ne+et*307,Ke=31*Ke+et*307;return new Uint32Array([Ne>>>0,Ke>>>0])}async reset(ue){await this.isReady;let Ne=await navigator.storage.getDirectory(),Ke;for(const et of this.vfsDir.split("/"))et&&(Ke=Ne,Ne=await Ne.getDirectoryHandle(et,{create:!0}));return this.#e=Ne,this.#r=Ke,this.#t=await this.#e.getDirectoryHandle(_e,{create:!0}),this.releaseAccessHandles(),this.acquireAccessHandles(ue)}getPath(ue){return te.isPtr(ue)&&(ue=te.cstrToJs(ue)),(ue instanceof URL?ue:new URL(ue,"file://localhost/")).pathname}deletePath(ue){const Ne=this.#i.get(ue);return Ne&&(this.#i.delete(ue),this.setAssociatedPath(Ne,"",0)),!!Ne}storeErr(ue,Ne){return ue&&(ue.sqlite3Rc=Ne||k.SQLITE_IOERR,this.error(ue)),this.$error=ue,Ne}popErr(){const ue=this.$error;return this.$error=void 0,ue}nextAvailableSAH(){const[ue]=this.#s.keys();return ue}getOFileForS3File(ue){return this.#o.get(ue)}mapS3FileToOFile(ue,Ne){Ne?(this.#o.set(ue,Ne),I(ue,this)):(this.#o.delete(ue),I(ue,!1))}hasFilename(ue){return this.#i.has(ue)}getSAHForPath(ue){return this.#i.get(ue)}async removeVfs(){if(!this.#l.pointer||!this.#t)return!1;k.sqlite3_vfs_unregister(this.#l.pointer),this.#l.dispose(),delete S[this.vfsName];try{this.releaseAccessHandles(),await this.#e.removeEntry(_e,{recursive:!0}),this.#t=void 0,await this.#r.removeEntry(this.#e.name,{recursive:!0}),this.#e=this.#r=void 0}catch(ue){f.config.error(this.vfsName,"removeVfs() failed:",ue)}return!0}exportFile(ue){const Ne=this.#i.get(ue)||_("File not found:",ue),Ke=Ne.getSize()-ae,et=new Uint8Array(Ke>0?Ke:0);if(Ke>0){const It=Ne.read(et,{at:ae});It!=Ke&&_("Expected to read "+Ke+" bytes but read "+It+".")}return et}async importDbChunked(ue,Ne){const Ke=this.#i.get(ue)||this.nextAvailableSAH()||_("No available handles to import to.");Ke.truncate(0);let et=0,It,Wt=!1;try{for(;(It=await Ne())!==void 0;)It instanceof ArrayBuffer&&(It=new Uint8Array(It)),et===0&&It.byteLength>=15&&(X.affirmDbHeader(It),Wt=!0),Ke.write(It,{at:ae+et}),et+=It.byteLength;if((et<512||et%512!==0)&&_("Input size",et,"is not correct for an SQLite database."),!Wt){const Se=new Uint8Array(20);Ke.read(Se,{at:0}),X.affirmDbHeader(Se)}Ke.write(new Uint8Array([1,1]),{at:ae+18})}catch(Se){throw this.setAssociatedPath(Ke,"",0),Se}return this.setAssociatedPath(Ke,ue,k.SQLITE_OPEN_MAIN_DB),et}importDb(ue,Ne){if(Ne instanceof ArrayBuffer)Ne=new Uint8Array(Ne);else if(Ne instanceof Function)return this.importDbChunked(ue,Ne);const Ke=this.#i.get(ue)||this.nextAvailableSAH()||_("No available handles to import to."),et=Ne.byteLength;(et<512||et%512!=0)&&_("Byte array size is invalid for an SQLite db.");const It="SQLite format 3";for(let Se=0;Se<It.length;++Se)It.charCodeAt(Se)!==Ne[Se]&&_("Input does not contain an SQLite database header.");const Wt=Ke.write(Ne,{at:ae});return Wt!=et?(this.setAssociatedPath(Ke,"",0),_("Expected to write "+et+" bytes but wrote "+Wt+".")):(Ke.write(new Uint8Array([1,1]),{at:ae+18}),this.setAssociatedPath(Ke,ue,k.SQLITE_OPEN_MAIN_DB)),Wt}}class Ft{#e;constructor(ue){this.#e=ue,this.vfsName=ue.vfsName}async addCapacity(ue){return this.#e.addCapacity(ue)}async reduceCapacity(ue){return this.#e.reduceCapacity(ue)}getCapacity(){return this.#e.getCapacity(this.#e)}getFileCount(){return this.#e.getFileCount()}getFileNames(){return this.#e.getFileNames()}async reserveMinimumCapacity(ue){const Ne=this.#e.getCapacity();return Ne<ue?this.#e.addCapacity(ue-Ne):Ne}exportFile(ue){return this.#e.exportFile(ue)}importDb(ue,Ne){return this.#e.importDb(ue,Ne)}async wipeFiles(){return this.#e.reset(!0)}unlink(ue){return this.#e.deletePath(ue)}async removeVfs(){return this.#e.removeVfs()}}const Bt=async()=>{const Ze=await navigator.storage.getDirectory(),ue=".opfs-sahpool-sync-check-"+We(),et=(await (await Ze.getFileHandle(ue,{create:!0})).createSyncAccessHandle()).close();return await et,await Ze.removeEntry(ue),et?.then&&_("The local OPFS API is too old for opfs-sahpool:","it has an async FileSystemSyncAccessHandle.close() method."),!0};f.installOpfsSAHPoolVfs=async function(Ze=Object.create(null)){Ze=Object.assign(Object.create(null),Me,Ze||{});const ue=Ze.name;if(Ze.$testThrowPhase1)throw Ze.$testThrowPhase1;if(S[ue])try{return await S[ue]}catch(Ne){if(Ze.forceReinitIfPreviouslyFailed)delete S[ue];else throw Ne}return!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory?S[ue]=Promise.reject(new Error("Missing required OPFS APIs.")):S[ue]=Bt().then(async function(){if(Ze.$testThrowPhase2)throw Ze.$testThrowPhase2;const Ne=new St(Ze);return Ne.isReady.then(async()=>{const Ke=new Ft(Ne);if(f.oo1){const et=f.oo1,It=Ne.getVfs(),Wt=function(...Se){const Ve=et.DB.dbCtorHelper.normalizeArgs(...Se);Ve.vfs=It.$zName,et.DB.dbCtorHelper.call(this,Ve)};Wt.prototype=Object.create(et.DB.prototype),Ke.OpfsSAHPoolDb=Wt}return Ne.log("VFS initialized."),Ke}).catch(async Ke=>{throw await Ne.removeVfs().catch(()=>{}),Ke})}).catch(Ne=>S[ue]=Promise.reject(Ne))}}),typeof d<"u"){const f=Object.assign(Object.create(null),{exports:typeof ee>"u"?d.asm:ee,memory:d.wasmMemory},globalThis.sqlite3ApiConfig||{});globalThis.sqlite3ApiConfig=f;let _;try{_=globalThis.sqlite3ApiBootstrap()}catch(b){throw console.error("sqlite3ApiBootstrap() error:",b),b}finally{delete globalThis.sqlite3ApiBootstrap,delete globalThis.sqlite3ApiConfig}d.sqlite3=_}else console.warn("This is not running in an Emscripten module context, so","globalThis.sqlite3ApiBootstrap() is _not_ being called due to lack","of config info for the WASM environment.","It must be called manually.")}),r=l,r}})();const fD=function(){const t=Eb;if(!t)throw new Error("Expecting globalThis.sqlite3InitModule to be defined by the Emscripten build.");const e=globalThis.sqlite3InitModuleState=Object.assign(Object.create(null),{moduleScript:globalThis?.document?.currentScript,isWorker:typeof WorkerGlobalScope<"u",location:globalThis.location,urlParams:globalThis?.location?.href?new URL(globalThis.location.href).searchParams:new URLSearchParams});if(e.debugModule=e.urlParams.has("sqlite3.debugModule")?(...r)=>console.warn("sqlite3.debugModule:",...r):()=>{},e.urlParams.has("sqlite3.dir"))e.sqlite3Dir=e.urlParams.get("sqlite3.dir")+"/";else if(e.moduleScript){const r=e.moduleScript.src.split("/");r.pop(),e.sqlite3Dir=r.join("/")+"/"}if(globalThis.sqlite3InitModule=function r(...n){return t(...n).then(o=>{const a=o.sqlite3;a.scriptInfo=e,r.__isUnderTest&&(a.__isUnderTest=!0);const l=a.asyncPostInit;return delete a.asyncPostInit,l()}).catch(o=>{throw console.error("Exception loading sqlite3 module:",o),o})},globalThis.sqlite3InitModule.ready=t.ready,globalThis.sqlite3InitModuleState.moduleScript){const r=globalThis.sqlite3InitModuleState;let n=r.moduleScript.src.split("/");n.pop(),r.scriptDir=n.join("/")+"/"}return e.debugModule("sqlite3InitModuleState =",e),globalThis.sqlite3InitModule}();Eb=fD;const hD=Eb;globalThis.sqlite3Worker1Promiser=function t(e=t.defaultConfig){if(arguments.length===1&&typeof arguments[0]=="function"){const x=e;e=Object.assign(Object.create(null),t.defaultConfig),e.onready=x}else e=Object.assign(Object.create(null),t.defaultConfig,e);const r=Object.create(null),n=function(){},o=e.onerror||n,a=e.debug||n,l=e.generateMessageId?void 0:Object.create(null),c=e.generateMessageId||function(x){return x.type+"#"+(l[x.type]=(l[x.type]||0)+1)},h=(...x)=>{throw new Error(x.join(" "))};e.worker||(e.worker=t.defaultConfig.worker),typeof e.worker=="function"&&(e.worker=e.worker());let m,g;return e.worker.onmessage=function(x){x=x.data,a("worker1.onmessage",x);let N=r[x.messageId];if(!N){if(x&&x.type==="sqlite3-api"&&x.result==="worker1-ready"){e.onready&&e.onready(g);return}if(N=r[x.type],N&&N.onrow){N.onrow(x);return}e.onunhandled?e.onunhandled(arguments[0]):o("sqlite3Worker1Promiser() unhandled worker message:",x);return}switch(delete r[x.messageId],x.type){case"error":N.reject(x);return;case"open":m||(m=x.dbId);break;case"close":x.dbId===m&&(m=void 0);break}try{N.resolve(x)}catch(q){N.reject(q)}},g=function(){let x;arguments.length===1?x=arguments[0]:arguments.length===2?(x=Object.create(null),x.type=arguments[0],x.args=arguments[1],x.dbId=x.args.dbId):h("Invalid arguments for sqlite3Worker1Promiser()-created factory."),!x.dbId&&x.type!=="open"&&(x.dbId=m),x.messageId=c(x),x.departureTime=performance.now();const N=Object.create(null);N.message=x;let q;x.type==="exec"&&x.args&&(typeof x.args.callback=="function"?(q=x.messageId+":row",N.onrow=x.args.callback,x.args.callback=q,r[q]=N):typeof x.args.callback=="string"&&h("exec callback may not be a string when using the Promise interface."));let C=new Promise(function(O,P){N.resolve=O,N.reject=P,r[x.messageId]=N,a("Posting",x.type,"message to Worker dbId="+(m||"default")+":",x),e.worker.postMessage(x)});return q&&(C=C.finally(()=>delete r[q])),C}};globalThis.sqlite3Worker1Promiser.defaultConfig={worker:function(){return new Worker(new URL("/assets/sqlite3-worker1-bundler-friendly-BF9rosUC.js",import.meta.url),{type:"module"})},onerror:(...t)=>console.error("worker1 promiser error",...t)};sqlite3Worker1Promiser.v2=function(t){let e;typeof t=="function"?(e=t,t={}):typeof t?.onready=="function"&&(e=t.onready,delete t.onready);const r=Object.create(null);t=Object.assign(t||Object.create(null),{onready:async function(o){try{e&&await e(o),r.resolve(o)}catch(a){r.reject(a)}}});const n=new Promise(function(o,a){r.resolve=o,r.reject=a});try{this.original(t)}catch(o){r.reject(o)}return n}.bind({original:sqlite3Worker1Promiser});sqlite3Worker1Promiser.v2;function zE(){let t,e;return{lock:async()=>{for(;t;)await t;t=new Promise(o=>{e=o})},unlock:async()=>{const o=e;t=void 0,e=void 0,o?.()}}}function Sv(t,e){const r={rows:[],columns:[]},n=t.exec({sql:e.sql,bind:e.params,returnValue:"resultRows",rowMode:"array",columnNames:r.columns});switch(e.method){case"run":break;case"get":r.rows=n[0]??[];break;case"all":default:r.rows=n;break}return r}function y3(t){const e=t.split(/[\\/]/).filter(a=>a!==""),r=e.pop();if(!r)throw new Error("Database path is invalid.");const n=["journal","wal","shm"].map(a=>`${r}-${a}`);return{directories:e,fileName:r,tempFileNames:n,getDirectoryHandle:async()=>{let a=await navigator.storage.getDirectory();for(let l of e)a=await a.getDirectoryHandle(l);return a}}}async function S_(t,e){let r;if(t instanceof Blob?r=t.stream():r=t,r instanceof ReadableStream&&e){const o=r.getReader();switch(e){case"callback":return async()=>(await o.read()).value;case"buffer":const a=[];let l=!1;for(;!l;){const g=await o.read();g.value&&a.push(g.value),l=g.done}const c=a.reduce((g,x)=>g+x.length,0),h=new Uint8Array(c);let m=0;return a.forEach(g=>{h.set(g,m),m+=g.length}),h}}else return r}class pD{constructor(e){Object.defineProperty(this,"sqlite3",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"db",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dbStorageType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"pointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"userFunctions",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"initMutex",{enumerable:!0,configurable:!0,writable:!0,value:zE()}),Object.defineProperty(this,"transactionMutex",{enumerable:!0,configurable:!0,writable:!0,value:zE()}),Object.defineProperty(this,"transactionKey",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"proxy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reinitChannel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onmessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"init",{enumerable:!0,configurable:!0,writable:!0,value:async n=>{if(!this.config.databasePath)return;await this.initMutex.lock();const{databasePath:o,readOnly:a,verbose:l}=this.config,c=[a===!0?"r":"cw",l===!0?"t":""].join("");try{this.sqlite3||(this.sqlite3=await hD()),this.db&&this.destroy(),"opfs"in this.sqlite3&&o!==":memory:"?(this.db=new this.sqlite3.oo1.OpfsDb(o,c),this.dbStorageType="opfs"):(this.db=new this.sqlite3.oo1.DB(o,c),this.dbStorageType="memory",o!==":memory:"&&console.warn(`The origin private file system is not available, so ${o} will not be persisted. Make sure your web server is configured to use the correct HTTP response headers (See https://sqlocal.dallashoffman.com/guide/setup#cross-origin-isolation).`)),this.dbStorageType!=="memory"&&(this.reinitChannel=new BroadcastChannel(`_sqlocal_reinit_(${o})`),this.reinitChannel.onmessage=h=>{this.config.clientKey!==h.data.clientKey&&this.init(h.data.reason)}),this.userFunctions.forEach(this.initUserFunction),this.execInitStatements(),this.emitMessage({type:"event",event:"connect",reason:n})}catch(h){this.emitMessage({type:"error",error:h,queryKey:null}),this.destroy()}finally{await this.initMutex.unlock()}}}),Object.defineProperty(this,"postMessage",{enumerable:!0,configurable:!0,writable:!0,value:async(n,o)=>{const a=n instanceof MessageEvent?n.data:n;switch(await this.initMutex.lock(),a.type){case"config":this.editConfig(a);break;case"query":case"batch":case"transaction":this.exec(a);break;case"function":this.createUserFunction(a);break;case"getinfo":this.getDatabaseInfo(a);break;case"import":this.importDb(a);break;case"export":this.exportDb(a);break;case"delete":this.deleteDb(a);break;case"destroy":this.destroy(a);break}await this.initMutex.unlock()}}),Object.defineProperty(this,"emitMessage",{enumerable:!0,configurable:!0,writable:!0,value:(n,o=[])=>{this.onmessage&&this.onmessage(n,o)}}),Object.defineProperty(this,"editConfig",{enumerable:!0,configurable:!0,writable:!0,value:n=>{this.config=n.config,this.init("initial")}}),Object.defineProperty(this,"exec",{enumerable:!0,configurable:!0,writable:!0,value:async n=>{if(this.db)try{const o={type:"data",queryKey:n.queryKey,data:[]};switch(n.type){case"query":const a=this.transactionKey!==null&&this.transactionKey===n.transactionKey;try{a||await this.transactionMutex.lock();const l=Sv(this.db,n);o.data.push(l)}finally{a||await this.transactionMutex.unlock()}break;case"batch":try{await this.transactionMutex.lock(),this.db.transaction(l=>{for(let c of n.statements){const h=Sv(l,c);o.data.push(h)}})}finally{await this.transactionMutex.unlock()}break;case"transaction":if(n.action==="begin"&&(await this.transactionMutex.lock(),this.transactionKey=n.transactionKey,this.db.exec({sql:"BEGIN"})),(n.action==="commit"||n.action==="rollback")&&this.transactionKey!==null&&this.transactionKey===n.transactionKey){const l=n.action==="commit"?"COMMIT":"ROLLBACK";this.db.exec({sql:l}),this.transactionKey=null,await this.transactionMutex.unlock()}break}this.emitMessage(o)}catch(o){this.emitMessage({type:"error",error:o,queryKey:n.queryKey})}}}),Object.defineProperty(this,"execInitStatements",{enumerable:!0,configurable:!0,writable:!0,value:()=>{if(this.db&&this.config.onInitStatements)for(let n of this.config.onInitStatements)Sv(this.db,n)}}),Object.defineProperty(this,"getDatabaseInfo",{enumerable:!0,configurable:!0,writable:!0,value:async n=>{try{const o=this.config.databasePath,a=this.dbStorageType,l=a!==void 0?a!=="memory"?await navigator.storage?.persisted():!1:void 0,h=this.db?.exec({sql:"SELECT page_count * page_size AS size FROM pragma_page_count(), pragma_page_size()",returnValue:"resultRows",rowMode:"array"})?.[0]?.[0],m=typeof h=="number"?h:void 0;this.emitMessage({type:"info",queryKey:n.queryKey,info:{databasePath:o,databaseSizeBytes:m,storageType:a,persisted:l}})}catch(o){this.emitMessage({type:"error",queryKey:n.queryKey,error:o})}}}),Object.defineProperty(this,"createUserFunction",{enumerable:!0,configurable:!0,writable:!0,value:n=>{const{functionName:o,functionType:a,queryKey:l}=n;let c;if(this.userFunctions.has(o)){this.emitMessage({type:"error",error:new Error(`A user-defined function with the name "${o}" has already been created for this SQLocal instance.`),queryKey:l});return}a==="callback"?c=(...h)=>{this.emitMessage({type:"callback",name:o,args:h})}:c=this.proxy[`_sqlocal_func_${o}`];try{this.initUserFunction({type:a,name:o,func:c}),this.emitMessage({type:"success",queryKey:l})}catch(h){this.emitMessage({type:"error",error:h,queryKey:l})}}}),Object.defineProperty(this,"initUserFunction",{enumerable:!0,configurable:!0,writable:!0,value:n=>{this.db&&(this.db.createFunction({name:n.name,xFunc:(o,...a)=>n.func(...a),arity:-1}),this.userFunctions.set(n.name,n))}}),Object.defineProperty(this,"importDb",{enumerable:!0,configurable:!0,writable:!0,value:async n=>{if(!this.sqlite3||!this.config.databasePath||!this.db)return;const{queryKey:o,database:a}=n;let l=!1;try{if(this.dbStorageType==="opfs"){this.destroy();const c=await S_(a,"callback");await this.sqlite3.oo1.OpfsDb.importDb(this.config.databasePath,c)}else{const c=await S_(a,"buffer"),h=this.sqlite3.wasm.allocFromTypedArray(c);this.pointers.push(h);const m=this.sqlite3.capi.sqlite3_deserialize(this.db,"main",h,c.byteLength,c.byteLength,this.config.readOnly?this.sqlite3.capi.SQLITE_DESERIALIZE_READONLY:this.sqlite3.capi.SQLITE_DESERIALIZE_RESIZEABLE);this.db.checkRc(m),this.execInitStatements()}}catch(c){this.emitMessage({type:"error",error:c,queryKey:o}),l=!0}finally{this.dbStorageType!=="memory"&&await this.init("overwrite")}l||this.emitMessage({type:"success",queryKey:o})}}),Object.defineProperty(this,"exportDb",{enumerable:!0,configurable:!0,writable:!0,value:n=>{if(!this.sqlite3||!this.db)return;const{queryKey:o}=n;try{const a=this.sqlite3.capi.sqlite3_js_db_export(this.db);this.emitMessage({type:"buffer",queryKey:o,buffer:a},[a])}catch(a){this.emitMessage({type:"error",error:a,queryKey:o})}}}),Object.defineProperty(this,"deleteDb",{enumerable:!0,configurable:!0,writable:!0,value:async n=>{if(!this.config.databasePath)return;const{queryKey:o}=n;let a=!1;try{if(this.dbStorageType==="opfs"){const{getDirectoryHandle:l,fileName:c,tempFileNames:h}=y3(this.config.databasePath),m=await l(),g=[c,...h];this.destroy(),await Promise.all(g.map(async x=>m.removeEntry(x).catch(N=>{if(!(N instanceof DOMException&&N.name==="NotFoundError"))throw N})))}else this.destroy()}catch(l){this.emitMessage({type:"error",error:l,queryKey:o}),a=!0}finally{await this.init("delete")}a||this.emitMessage({type:"success",queryKey:o})}}),Object.defineProperty(this,"destroy",{enumerable:!0,configurable:!0,writable:!0,value:n=>{this.db&&(this.db.exec({sql:"PRAGMA optimize"}),this.db.close(),this.db=void 0,this.dbStorageType=void 0),this.reinitChannel&&(this.reinitChannel.close(),this.reinitChannel=void 0),this.pointers.forEach(o=>this.sqlite3?.wasm.dealloc(o)),this.pointers=[],n&&this.emitMessage({type:"success",queryKey:n.queryKey})}});const r=e?globalThis:Sb(globalThis);this.proxy=r,this.init("initial")}}function Rp(t,...e){return{sql:t.join("?"),params:e}}function mD(t){return!t.some(e=>!Array.isArray(e))}function Ev(t,e){let r;return mD(t)?r=t:r=[t],r.map(n=>{const o={};return e.forEach((a,l)=>{o[a]=n[l]}),o})}function yD(t){return typeof t=="object"&&t!==null&&"getSQL"in t&&typeof t.getSQL=="function"}function gD(t){return typeof t=="object"&&t!==null&&"sql"in t&&typeof t.sql=="string"&&"params"in t}function vD(t){if(typeof t=="function"&&(t=t(Rp)),yD(t))try{if(!("toSQL"in t&&typeof t.toSQL=="function"))throw 1;const n=t.toSQL();if(!gD(n))throw 2;return n}catch{throw new Error("The passed statement could not be parsed.")}const e=t.sql;let r=[];return"params"in t?r=t.params:"parameters"in t&&(r=t.parameters),{sql:e,params:r}}function Nv(){return crypto.randomUUID()}function UE(t,e){let r;return typeof t=="string"?r={sql:t,params:e}:r=Rp(t,...e),r}async function xh(t,e,r,n){return!e&&"locks"in navigator?navigator.locks.request(`_sqlocal_mutation_(${r.databasePath})`,{mode:t},n):n()}class _D{constructor(e){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isDestroyed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"bypassMutationLock",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"userCallbacks",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"queriesInProgress",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"proxy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reinitChannel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"processMessageEvent",{enumerable:!0,configurable:!0,writable:!0,value:l=>{const c=l instanceof MessageEvent?l.data:l,h=this.queriesInProgress;switch(c.type){case"success":case"data":case"buffer":case"info":case"error":if(c.queryKey&&h.has(c.queryKey)){const[g,x]=h.get(c.queryKey);c.type==="error"?x(c.error):g(c),h.delete(c.queryKey)}else if(c.type==="error")throw c.error;break;case"callback":const m=this.userCallbacks.get(c.name);m&&m(...c.args??[]);break;case"event":this.config.onConnect?.(c.reason);break}}}),Object.defineProperty(this,"createQuery",{enumerable:!0,configurable:!0,writable:!0,value:async l=>xh("shared",this.bypassMutationLock||l.type==="import"||l.type==="delete",this.config,async()=>{if(this.isDestroyed===!0)throw new Error("This SQLocal client has been destroyed. You will need to initialize a new client in order to make further queries.");const c=Nv();switch(l.type){case"import":this.processor.postMessage({...l,queryKey:c},[l.database]);break;default:this.processor.postMessage({...l,queryKey:c});break}return new Promise((h,m)=>{this.queriesInProgress.set(c,[h,m])})})}),Object.defineProperty(this,"exec",{enumerable:!0,configurable:!0,writable:!0,value:async(l,c,h="all",m)=>{const g=await this.createQuery({type:"query",transactionKey:m,sql:l,params:c,method:h}),x={rows:[],columns:[]};return g.type==="data"&&(x.rows=g.data[0]?.rows??[],x.columns=g.data[0]?.columns??[]),x}}),Object.defineProperty(this,"execBatch",{enumerable:!0,configurable:!0,writable:!0,value:async l=>{const c=await this.createQuery({type:"batch",statements:l}),h=new Array(l.length).fill({rows:[],columns:[]});return c.type==="data"&&c.data.forEach((m,g)=>{h[g]=m}),h}}),Object.defineProperty(this,"sql",{enumerable:!0,configurable:!0,writable:!0,value:async(l,...c)=>{const h=UE(l,c),{rows:m,columns:g}=await this.exec(h.sql,h.params,"all");return Ev(m,g)}}),Object.defineProperty(this,"batch",{enumerable:!0,configurable:!0,writable:!0,value:async l=>{const c=l(Rp);return(await this.execBatch(c)).map(({rows:m,columns:g})=>Ev(m,g))}}),Object.defineProperty(this,"beginTransaction",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{const l=Nv();await this.createQuery({type:"transaction",transactionKey:l,action:"begin"});const c=async x=>{const N=vD(x),{rows:q,columns:C}=await this.exec(N.sql,N.params,"all",l);return Ev(q,C)};return{query:c,sql:async(x,...N)=>{const q=UE(x,N);return await c(q)},commit:async()=>{await this.createQuery({type:"transaction",transactionKey:l,action:"commit"})},rollback:async()=>{await this.createQuery({type:"transaction",transactionKey:l,action:"rollback"})}}}}),Object.defineProperty(this,"transaction",{enumerable:!0,configurable:!0,writable:!0,value:async l=>xh("exclusive",!1,this.config,async()=>{let c;this.bypassMutationLock=!0;try{c=await this.beginTransaction();const h=await l({sql:c.sql,query:c.query});return await c.commit(),h}catch(h){throw await c?.rollback(),h}finally{this.bypassMutationLock=!1}})}),Object.defineProperty(this,"createCallbackFunction",{enumerable:!0,configurable:!0,writable:!0,value:async(l,c)=>{await this.createQuery({type:"function",functionName:l,functionType:"callback"}),this.userCallbacks.set(l,c)}}),Object.defineProperty(this,"createScalarFunction",{enumerable:!0,configurable:!0,writable:!0,value:async(l,c)=>{const h=`_sqlocal_func_${l}`;this.proxy===globalThis&&(this.proxy[h]=c),await this.createQuery({type:"function",functionName:l,functionType:"scalar"}),this.proxy!==globalThis&&(this.proxy[h]=c)}}),Object.defineProperty(this,"getDatabaseInfo",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{const l=await this.createQuery({type:"getinfo"});if(l.type==="info")return l.info;throw new Error("The database failed to return valid information.")}}),Object.defineProperty(this,"getDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{let l,c;const{storageType:h}=await this.getDatabaseInfo();if(h==="opfs"){const m=y3(this.config.databasePath),{directories:g,getDirectoryHandle:x}=m;l=m.fileName;const N=`backup-${Date.now()}--${l}`,q=`${g.join("/")}/${N}`;await this.exec("VACUUM INTO ?",[q]);const C=await x();c=await (await (await C.getFileHandle(N)).getFile()).arrayBuffer(),await C.removeEntry(N)}else{const m=await this.createQuery({type:"export"});if(m.type==="buffer")l="database.sqlite3",c=m.buffer;else throw new Error("The database failed to export.")}return new File([c],l,{type:"application/x-sqlite3"})}}),Object.defineProperty(this,"overwriteDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async(l,c)=>{await xh("exclusive",!1,this.config,async()=>{try{const h=await S_(l);await this.createQuery({type:"import",database:h}),typeof c=="function"&&(this.bypassMutationLock=!0,await c()),this.reinitChannel.postMessage({clientKey:this.clientKey,reason:"overwrite"})}finally{this.bypassMutationLock=!1}})}}),Object.defineProperty(this,"deleteDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async l=>{await xh("exclusive",!1,this.config,async()=>{try{await this.createQuery({type:"delete"}),typeof l=="function"&&(this.bypassMutationLock=!0,await l()),this.reinitChannel.postMessage({clientKey:this.clientKey,reason:"delete"})}finally{this.bypassMutationLock=!1}})}}),Object.defineProperty(this,"destroy",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{await this.createQuery({type:"destroy"}),this.processor instanceof Worker&&(this.processor.removeEventListener("message",this.processMessageEvent),this.processor.terminate()),this.queriesInProgress.clear(),this.userCallbacks.clear(),this.reinitChannel.close(),this.isDestroyed=!0}});const r=typeof e=="string"?{databasePath:e}:e,{onInit:n,onConnect:o,...a}=r;this.config=r,this.clientKey=Nv(),this.reinitChannel=new BroadcastChannel(`_sqlocal_reinit_(${a.databasePath})`),typeof globalThis.Worker<"u"&&a.databasePath!==":memory:"?(this.processor=new Worker(new URL("/assets/worker-DxuAzsZq.js",import.meta.url),{type:"module"}),this.processor.addEventListener("message",this.processMessageEvent),this.proxy=Sb(this.processor)):(this.processor=new pD(!0),this.processor.onmessage=l=>this.processMessageEvent(l),this.proxy=globalThis),this.processor.postMessage({type:"config",config:{...a,clientKey:this.clientKey,onInitStatements:n?.(Rp)??[]}})}}class bD extends _D{constructor(){super(...arguments),Object.defineProperty(this,"dialect",{enumerable:!0,configurable:!0,writable:!0,value:{createAdapter:()=>new nD,createDriver:()=>new wD(this),createIntrospector:e=>new rD(e),createQueryCompiler:()=>new Y2}})}}class wD{constructor(e){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:e})}async init(){}async acquireConnection(){return new xD(this.client)}async releaseConnection(){}async beginTransaction(e){e.transaction=await this.client.beginTransaction()}async commitTransaction(e){await e.transaction?.commit(),e.transaction=null}async rollbackTransaction(e){await e.transaction?.rollback(),e.transaction=null}async destroy(){await this.client.destroy()}}class xD{constructor(e){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"transaction",{enumerable:!0,configurable:!0,writable:!0,value:null})}async executeQuery(e){let r;return this.transaction===null?r=await this.client.sql(e.sql,...e.parameters):r=await this.transaction.query(e),{rows:r}}async *streamQuery(){throw new Error("SQLite3 does not support streaming.")}}const SD=({database:t,bootstrap:e})=>{const{dialect:r}=new bD({databasePath:`${t}.sqlite3`}),n=new ia({dialect:r});return{kysely:n,bootstrap(){return e({kysely:n})}}},So=lr({slot:{base:["border","border-gray-300","rounded-md","p-4","flex","flex-col","gap-2","items-center"],input:["w-full","border","border-gray-300","rounded-md","p-2","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"]},variant:{isLoading:{true:[]},isSubmitting:{true:[]}},match:[{if:{isSubmitting:!0},then:{base:["opacity-50","pointer-events-none","select-none"]}}],defaults:{isLoading:!1,isSubmitting:!1}}),ED="icon-[material-symbols--error-outline]",ND=lr({slot:{base:["flex","flex-row","gap-1","items-center","text-red-600","p-2"]},variant:{highlight:{true:[]},compact:{true:[]}},match:[{if:{highlight:!0},then:{base:["bg-red-100","p-2","font-bold","border","border-red-200","rounded-md","w-full"]}},{if:{compact:!0},then:{base:["p-0"]}}],defaults:{highlight:!1,compact:!1}}),Ms=({error:t,variant:e,tva:r=ND,css:n})=>{const o=r({...e,css:n}).slots;return t?.message?y.jsxs("div",{className:o.base(),children:[y.jsx(_r,{icon:ED}),y.jsx("span",{children:Ci.rich(t.message)})]}):null},kD=lr({slot:{base:["flex","flex-col","gap-1","w-full"],input:[]},variant:{required:{true:[]},disabled:{true:[]},isSubmitting:{true:[]},isLoading:{true:[]},isError:{true:[]}},match:[{if:{isError:!0},then:{base:["text-red-600"]}},{if:{required:!0},then:{base:["text-amber-600"]}}],defaults:{required:!1,disabled:!1,isSubmitting:!1,isLoading:!1,isError:!1}}),$r=({label:t,hint:e,required:r=!1,formState:n,name:o,children:a,variant:l,tva:c=kD,css:h})=>{const m=c({isSubmitting:n.isSubmitting,isLoading:n.isLoading,isError:!!n.errors[o],required:r,...l,css:h}).slots;return y.jsxs("div",{className:m.base(),children:[y.jsxs("div",{className:"flex flex-row justify-between",children:[t?y.jsx("label",{htmlFor:o,children:t}):null,y.jsx(Ms,{variant:{compact:!0},error:n.errors[o]})]}),e?y.jsx("div",{className:"text-sm italic",children:e}):null,y.jsx("div",{className:m.input(),children:a})]})},bl=({form:t,mutation:e,onSuccess:r})=>{const n=t.handleSubmit(async o=>e.mutateAsync(o,{onSuccess:r,onError:a=>{U_({error:a,errors:[D_({error:a,schema:z_,onError:({data:l})=>{t.setError("root",{message:l.message})}})],onError:l=>{t.setError("root",{message:l.message})}})}}).catch(()=>{}));return o=>{o.stopPropagation(),n(o)}};function qD(t,e,r,n={leading:!1}){const[o,a]=Q.useState(t),[l,c]=Q.useState(t),h=Q.useRef(null),m=Q.useRef(!0),g=()=>window.clearTimeout(h.current||void 0);Q.useEffect(()=>g,[]),Q.useEffect(()=>{e(o)},[o]),Q.useEffect(()=>{c(t),a(t)},[t]);const x=Q.useCallback(N=>{c(N),g(),m.current&&n.leading?a(N):h.current=window.setTimeout(()=>{m.current=!0,a(N)},r),m.current=!1},[n.leading]);return[l,x]}const CD=lr({slot:{base:["relative","w-full"],search:["absolute","inset-y-0","left-2","flex","items-center","pointer-events-none","text-slate-500"],input:["pl-8","py-1","w-full","bg-slate-50","text-slate-900","text-sm","border","border-slate-300","rounded","focus:border-sky-400","focus:outline-none","block"],clear:["absolute","inset-y-0","right-2","flex","items-center","cursor-pointer","text-slate-300","hover:text-slate-500"]},variant:{},defaults:{}}),OD=({value:t="",onFulltext:e,textPlaceholder:r,variant:n,tva:o=CD,css:a})=>{const l=o({...n,css:a}).slots,[c,h]=qD(t,m=>{e(m||"")},500);return y.jsxs("div",{className:l.base(),children:[y.jsx("div",{className:l.search(),children:y.jsx(_r,{icon:"icon-[material-symbols-light--search]",variant:{size:"xl"}})}),y.jsx("input",{value:c||"",className:l.input(),type:"text",placeholder:r||Ci.text("Fulltext (placeholder)"),onChange:m=>{h(m.target.value)}}),t&&y.jsx("div",{className:l.clear(),onClick:()=>{e("")},children:y.jsx(_r,{icon:"icon-[gridicons--cross]",variant:{size:"md"}})})]})},ys=t=>e=>{t({search:({cursor:r,filter:n,...o})=>({...o,filter:{...n,fulltext:e},cursor:{...r,page:e?0:r.page}}),replace:!!e})},Ad="icon-[pajamas--go-back]",Ap="icon-[line-md--confirm-circle]",ID="icon-[mage--edit]",RD="icon-[arcticons--nothing-x]",AD="icon-[tabler--filter-plus]",VE="icon-[tabler--filter-minus]",Nb="icon-[ph--list-dashes-thin]",kb="icon-[material-symbols-light--logout-sharp]",TD="icon-[fluent--shape-intersect-20-regular]",pm="icon-[fluent--checkbox-unchecked-20-regular]",mm="icon-[fluent--checkbox-checked-20-regular]",PD="icon-[ph--gear-thin]",Tp="icon-[teenyicons--tag-outline]",Na="icon-[ph--trash]",qb="icon-[ph--user]",FD=async({queryClient:t,keys:e})=>Promise.all(e.map(r=>t.refetchQueries({queryKey:r}))).catch(r=>{console.error(r)}),jD=lr({slot:{base:[],header:["flex","flex-row","items-center","bg-slate-50","shadow-sm","border-b","border-b-slate-200","w-full","gap-4","p-4"],content:["min-h-screen","border-b","border-b-slate-200","mb-4","p-2"]},variant:{},defaults:{}}),LD=()=>y.jsx("div",{className:"text-center text-xs text-gray-500 mb-8",children:void 0}),g3=({logo:t,menu:e,actions:r,variant:n,tva:o=jD,css:a,children:l})=>{const c=o({...n,css:a}).slots;return y.jsxs("div",{className:c.base(),children:[y.jsx(WI,{position:"top-center"}),y.jsxs("div",{className:c.header(),children:[y.jsx("div",{children:t}),y.jsx("div",{className:"flex-grow",children:e}),y.jsx("div",{className:"flex flex-row gap-2 items-center",children:r})]}),y.jsx("div",{className:c.content(),children:l??y.jsx(wa,{})}),y.jsx(LD,{})]})},DD=lr({slot:{base:["flex","flex-row","gap-2","items-center","justify-between","text-blue-500","rounded","px-1","py-0.5","hover:text-blue-700","focus:outline-none","w-fit"]},variant:{},defaults:{}}),MD=Q.forwardRef(({icon:t,iconProps:e,variant:r,tva:n=DD,css:o,children:a,...l},c)=>{const h=n({...r,css:o}).slots;return y.jsxs("a",{...l,ref:c,className:h.base(),children:[t&&y.jsx(_r,{icon:t,...e}),a]})}),BD=UN(MD),Pn=t=>y.jsx(BD,{preload:"intent",...t}),WD=lr({slot:{base:["fixed","inset-0","h-full","items-center","justify-center","bg-slate-100","flex","transition-all","duration-200","z-[10]","pointer-events-none","bg-opacity-0","backdrop-blur-none"]},variant:{show:{true:["bg-opacity-50","backdrop-blur-sm","pointer-events-auto"]}},defaults:{show:!0}}),$D=({show:t=!0,variant:e,tva:r=WD,css:n})=>{const o=r({show:t,...e,css:n}).slots;return t?y.jsx("div",{className:o.base(),children:y.jsx(_r,{icon:"icon-[svg-spinners--pulse-rings-multiple]",variant:{size:"8xl"},css:{base:["text-sky-400"]}})}):null};var $h={exports:{}},zD=$h.exports,HE;function UD(){return HE||(HE=1,function(t,e){(function(r,n){t.exports=n()})(zD,()=>(()=>{var r={d:(C,O)=>{for(var P in O)r.o(O,P)&&!r.o(C,P)&&Object.defineProperty(C,P,{enumerable:!0,get:O[P]})},o:(C,O)=>Object.prototype.hasOwnProperty.call(C,O)},n={};r.d(n,{default:()=>q});const o=(...C)=>{},a=C=>C!==null&&C?.constructor.name==="Object";let l,c;const h=()=>{if(!l){l=!0;try{c=x.storage||localStorage,c.getItem("")}catch{c=(()=>{const C={getItem:P=>O[P]||null,setItem:(P,M)=>{O[P]=M},removeItem:P=>{O[P]=void 0},clear:()=>{O={__proto__:C}}};let O={__proto__:C};return O})()}N()}},m="\0",g=(C,O,P=!0)=>P?[...JSON.stringify(C)].map(M=>String.fromCharCode(M.charCodeAt(0)+O)).join(""):JSON.parse([...C].map(M=>String.fromCharCode(M.charCodeAt(0)-O)).join("")),x={ttl:null,encrypt:!1,encrypter:g,decrypter:(C,O)=>g(C,O,!1),secret:75,storage:void 0};Object.seal(x);const N=(C=!1)=>{h();for(const O of Object.keys(c)){const P=c.getItem(O);let M;try{M=JSON.parse(P||"")}catch{continue}a(M)&&m in M&&(Date.now()>M.ttl||C)&&c.removeItem(O)}},q={config:x,set:(C,O,P={})=>{h();const M={...x,...P,encrypt:P.encrypt!==!1&&(P.encrypt||x.encrypt),ttl:P.ttl===null?null:P.ttl||x.ttl};try{const j=M.ttl&&!isNaN(M.ttl)&&M.ttl>0;let $=j?{[m]:O,ttl:Date.now()+1e3*M.ttl}:O;M.encrypt&&(j?$[m]=(M.encrypter||o)($[m],M.secret):$=(M.encrypter||o)($,M.secret)),c.setItem(C,JSON.stringify($))}catch{return!1}},get:(C,O={})=>{h();const P=c.getItem(C),M={...x,...O,encrypt:O.encrypt!==!1&&(O.encrypt||x.encrypt),ttl:O.ttl===null?null:O.ttl||x.ttl};let j,$;try{j=JSON.parse(P||""),$=a(j)&&m in j,(M.decrypt||M.encrypt)&&($?j[m]=(M.decrypter||o)(j[m],M.secret):j=(M.decrypter||o)(j,M.secret))}catch{}return $?Date.now()>j.ttl?(c.removeItem(C),null):j[m]:j!==void 0?j:P},flush:N,clear:()=>{h(),c.clear()},remove:C=>{h(),c.removeItem(C)}};return n.default})())}($h)),$h.exports}var VD=UD();const HD=Tu(VD),Zd=HD,QD=lr({slot:{base:["flex","flex-row","gap-2","items-center"]},variant:{},defaults:{}}),Xd=({variant:t,tva:e=QD,css:r,children:n})=>{const o=e({...t,css:r}).slots;return y.jsx("div",{className:o.base(),children:n})},KD=lr({slot:{base:["group","relative","cursor-pointer"],label:["flex","flex-row","gap-2","items-center","rounded","px-2","py-1","border","border-b-2","border-transparent","hover:text-slate-500"],items:["flex flex-col w-max gap-2","invisible absolute","group-hover:visible","shadow-md","z-20","bg-white","px-4","py-2"]},variant:{active:{true:[]}},match:[{if:{active:!0},then:{label:["border","border-b-2","border-blue-400","bg-blue-50","hover:border-blue-500","text-slate-800","hover:text-blue-800"]}}],defaults:{active:!1}}),QE=({icon:t,label:e,active:r=[],variant:n,tva:o=KD,css:a,children:l})=>{const c=VN(),h=r.some(g=>!!c(g)),m=o({active:h,...n,css:a}).slots;return y.jsxs("div",{className:m.base(),children:[y.jsxs("div",{className:m.label(),children:[t?y.jsx(_r,{icon:t}):null,e]}),y.jsx("div",{className:m.items(),children:l})]})},GD=lr({slot:{base:["flex","flex-row","gap-2","items-center","rounded","px-2","py-1","border","border-b-2","border-transparent","hover:text-slate-500"]},variant:{active:{true:[]},inner:{true:[]},subtle:{true:[]}},match:[{if:{active:!0,inner:!1},then:{base:["border","border-b-2","border-blue-400","bg-blue-50","hover:border-blue-500","text-slate-800","hover:text-blue-800"]}},{if:{active:!0,inner:!0},then:{base:["border-none","text-blue-600","hover:text-blue-800"]}},{if:{subtle:!0},then:{base:["hover:bg-slate-50","hover:border-slate-300","hover:text-slate-600"]}},{if:{active:!0,subtle:!0},then:{base:["bg-slate-100","border-slate-400"]}}],defaults:{active:!1,inner:!1,subtle:!1}}),JD=Q.forwardRef(({icon:t=null,variant:e,tva:r=GD,css:n,children:o,...a},l)=>{const c=r({...e,css:n}).slots;return y.jsxs("a",{...a,className:c.base(),ref:l,children:[Jp(t)?y.jsx(_r,{icon:t}):t,o]})}),ZD=UN(JD),gn=({active:t=[],variant:e,...r})=>{const n=VN(),o=t.some(a=>!!n(a));return y.jsx(ZD,{preload:"intent",variant:{active:!!n({to:r.to,params:r.params})||o,...e},...r})},XD=lr({slot:{base:["flex","flex-row","items-center","gap-2","text-sm","font-semibold"],item:["border","border-blue-200","bg-blue-50","rounded-md","px-2","py-1"]},variant:{},defaults:{}}),YD=({textTitle:t,textEmpty:e,items:r,render:n,limit:o,variant:a,tva:l=XD,css:c})=>{const h=o?r.slice(0,o):r,m=l({...a,css:c}).slots;return y.jsxs("div",{className:m.base(),children:[r.length?null:e,h.map(g=>y.jsx(n,{entity:g},`items-${g.id}`)),o&&r.length>o&&y.jsx(om,{title:t,target:y.jsx(ob,{iconEnabled:xk}),outside:!0,children:y.jsx("div",{className:"flex flex-col gap-2",children:r.map(g=>y.jsx(n,{entity:g},`items-${g.id}`))})})]})},eM=lr({slot:{base:[]},variant:{},defaults:{}}),ce=({label:t,fallback:e,variant:r,tva:n=eM,css:o})=>{const a=n({...r,css:o}).slots;return y.jsx("div",{className:a.base(),children:Ci.rich(t,e)})},v3=lr({slot:{base:["flex","flex-col","gap-2"],input:["py-2","px-2","flex","flex-row","gap-2","items-center","cursor-pointer","hover:bg-slate-50","border","border-gray-300","rounded-md","text-slate-400","hover:text-slate-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],content:[],footer:["flex","items-center","justify-between","gap-2","border-t-2","border-slate-100","mt-4","pt-2"]},variant:{loading:{true:[]},selected:{true:[]}},match:[{if:{loading:!0},then:{input:["text-slate-300"]}},{if:{selected:!0},then:{input:["bg-slate-50","text-slate-700","hover:bg-slate-100","hover:text-slate-800"]}}],defaults:{loading:!1,selected:!1}}),tM=lr({use:v3,slot:{},variant:{},defaults:{}}),rM=({icon:t,titleText:e,modalProps:r,table:n,render:o,allowEmpty:a=!1,source:l,useListQuery:c,value:h,onChange:m,variant:g,tva:x=tM,css:N})=>{const q=x({...g,css:N}).slots,[C,O]=Q.useState(0),[P,M]=Q.useState(15),[j,$]=Q.useState(h||[]),[U,G]=Q.useState(void 0),B=c({source:l,filter:{fulltext:U},cursor:{page:C,size:P}}),J=c({source:l,where:{idIn:h},options:{enabled:!!h}});return y.jsx(om,{icon:t,target:y.jsxs("label",{className:q.input({loading:J.isLoading,selected:!!J.data?.data.length}),children:[y.jsx(_r,{icon:J.data?.data?.length?mm:pm}),J.data&&J.data.data.length?y.jsx(o,{entities:J.data.data}):y.jsx(ce,{label:"Select item (label)"})]}),title:e,variant:{loading:B.isLoading},disabled:B.isLoading,...r,children:y.jsxs("div",{className:q.base(),children:[y.jsx("div",{className:q.content(),children:y.jsx(n,{cursor:{cursor:{page:C,size:P},count:B.data?.count?B.data.count:{filter:-1,total:-1,where:-1},textTotal:y.jsx(ce,{label:"Total count of items (label)"}),onPage(re){O(re)},onSize(re){M(re),O(0)}},fulltext:{value:U,onFulltext(re){G(re)}},table:{data:B.data?.data??[],selection:{type:"multi",value:j,set(re){$(re)}}}})}),y.jsx(hs.Consumer,{children:re=>y.jsxs("div",{className:q.footer(),children:[y.jsx(jn,{iconEnabled:Ad,iconDisabled:Ad,onClick:()=>{re?.close()},variant:{variant:"subtle"},children:y.jsx(ce,{label:"Close (label)"})}),y.jsx(jn,{iconEnabled:Ap,iconDisabled:Ap,disabled:!j.length&&!a,onClick:()=>{m(j),re?.close()},children:y.jsx(ce,{label:"Confirm selection (label)"})})]})})]})})},_3=({icon:t,titleText:e,modalProps:r,table:n,render:o,allowEmpty:a=!1,source:l,useListQuery:c,value:h,onChange:m,variant:g,tva:x=v3,css:N})=>{const q=x({...g,css:N}).slots,[C,O]=Q.useState(0),[P,M]=Q.useState(10),[j,$]=Q.useState(h?[h]:[]),[U,G]=Q.useState(void 0),B=c({source:l,where:{fulltext:U},cursor:{page:C,size:P}}),J=c({source:l,where:{id:h},options:{enabled:!!h}});return y.jsx(om,{icon:t,target:y.jsxs("label",{className:q.input({loading:J.isLoading,selected:!!J.data?.data?.length}),children:[y.jsx(_r,{icon:J.data?.data?.[0]?mm:pm}),J.data?.data?.[0]?y.jsx(o,{entity:J.data?.data?.[0]}):y.jsx(ce,{label:"Select item (label)"})]}),title:e,variant:{loading:B.isLoading},disabled:B.isLoading,...r,children:y.jsxs("div",{className:q.base(),children:[y.jsx("div",{className:q.content(),children:y.jsx(n,{cursor:{cursor:{page:C,size:P},count:B.data?.count?B.data.count:{filter:-1,total:-1,where:-1},textTotal:y.jsx(ce,{label:"Total count of items (label)"}),onPage(re){O(re)},onSize(re){M(re)}},fulltext:{value:U,onFulltext(re){G(re)}},table:{data:B.data?.data??[],selection:{type:"single",value:j,set(re){$(re)}}}})}),y.jsx(hs.Consumer,{children:re=>y.jsxs("div",{className:q.footer(),children:[y.jsx(jn,{iconEnabled:Ad,iconDisabled:Ad,onClick:()=>{re?.close()},variant:{variant:"subtle"},children:y.jsx(ce,{label:"Close (label)"})}),y.jsx(jn,{iconEnabled:Ap,iconDisabled:Ap,disabled:!j.length&&!a,onClick:()=>{m(j?.[0]),re?.close()},children:y.jsx(ce,{label:"Confirm selection (label)"})})]})})]})})},nM=lr({slot:{base:["bg-blue-50","p-2","rounded-md","border","border-blue-200"],container:["grid","grid-cols-2","grid-rows-2","gap-1"],title:["col-span-1","row-span-1","border-b","border-b-slate-300","pb-2"],links:["col-span-1","row-span-1","border-b","border-b-slate-300","pb-2","flex","flex-row","items-center","gap-4","justify-end"],actions:["col-span-1","row-span-1","flex","flex-row","items-center","gap-4"],extra:["col-span-1","row-span-1","flex","flex-row","gap-4","justify-end"]},variant:{},defaults:{}}),Cb=({entity:t,title:e=()=>null,links:r=()=>null,actions:n=()=>null,extra:o=()=>null,variant:a,tva:l=nM,css:c})=>{const h=l({...a,css:c}).slots;return y.jsx(ab.Provider,{value:{inline:!0},children:y.jsx("div",{className:h.base(),children:y.jsxs("div",{className:h.container(),children:[y.jsx("div",{className:h.title(),children:y.jsx(e,{entity:t})}),y.jsx("div",{className:h.links(),children:y.jsx(r,{entity:t})}),y.jsx("div",{className:h.actions(),children:y.jsx(n,{entity:t})}),y.jsx("div",{className:h.extra(),children:y.jsx(o,{entity:t})})]})})})},iM=lr({slot:{base:["flex","flex-col","gap-4"],content:["text-bold","text-red-500","font-bold"],footer:["flex","flex-row","items-center","justify-between","gap-4"]},variant:{},defaults:{}}),sM=({source:t,wrap:e=o=>o(),onSuccess:r,options:n})=>{const o=yl(),a=di();return Pd({mutationKey:["useRemoveMutation",t.name],async mutationFn({where:l,filter:c}){return e(async()=>t.db.transaction().execute(async h=>{const m=await t.delete$({tx:h,where:l,filter:c});return await r?.({queryClient:o,router:a,entity:m}),m}))},...n})},wl=({source:t,textContent:e,filter:r,onCancel:n,invalidator:o,variant:a,tva:l=iM,css:c})=>{const h=l({...a,css:c}).slots,m=Q.useContext(hs),g=sM({source:t,async wrap(x){return $I.promise(x(),{loading:y.jsx(ce,{label:"Deleting... (label)"}),success:y.jsx(ce,{label:"Items deleted (label)"}),error:y.jsx(ce,{label:"Items cannot be removed (label)"})})},options:{async onSuccess(){await o?.(),m?.close()}}});return y.jsxs("div",{className:h.base(),children:[y.jsx("div",{className:h.content(),children:e}),y.jsxs("div",{className:h.footer(),children:[y.jsx(jn,{variant:{variant:"subtle",size:"sm"},iconEnabled:Ad,onClick:()=>{m?.close(),n?.()},children:y.jsx(ce,{label:"Cancel (button)"})}),y.jsx(jn,{variant:{variant:"danger",size:"md"},iconEnabled:Na,onClick:()=>g.mutate({filter:r}),children:y.jsx(ce,{label:"Delete (button)"})})]})]})},xl=({source:t,wrap:e=async o=>o(),toCreate:r=async({shape:o})=>({entity:o,shape:o}),onSuccess:n})=>{const o=yl(),a=di();return Pd({mutationKey:["useCreateMutation",t.name],async mutationFn(l){return e(async()=>t.db.transaction().execute(async c=>{const h=await t.create$({tx:c,...await r({shape:l}),shape:l});return await n?.({queryClient:o,router:a,entity:h}),h}))}})},Hi=async({tx:t,queryClient:e,source:r,where:n,filter:o,cursor:a})=>e.ensureQueryData({queryKey:["withListCountLoader",r.name,{where:n,filter:o,cursor:a}],async queryFn(){return{data:await r.list$({tx:t,where:n,filter:o,cursor:a}),count:await r.count$({tx:t,where:n,filter:o})}}}),Ob=({source:t,where:e,filter:r,cursor:n,options:o})=>{const a=yl();return $C({queryKey:["useListQuery",t.name,{where:e,filter:r,cursor:n}],async queryFn(){return t.db.transaction().execute(async l=>Hi({queryClient:a,tx:l,source:t,where:e,filter:r,cursor:n}))},...o})},ka=({source:t,wrap:e=async o=>o(),toPatch:r,onSuccess:n})=>{const o=yl(),a=di();return Pd({mutationKey:["usePatchMutation",t.name],async mutationFn(l){return e(async()=>t.db.transaction().execute(async c=>{const h=await t.patch$({tx:c,entity:l,shape:l,...await r({shape:l})});return await n?.({queryClient:o,router:a,entity:h}),h}))}})},Yd=({sources:t,route:e=!0})=>{const r=yl(),n=di();return async()=>{await FD({queryClient:r,keys:[...t.map(({name:o})=>["withCountLoader",o]),...t.map(({name:o})=>["withFetchLoader",o]),...t.map(({name:o})=>["withListLoader",o]),...t.map(({name:o})=>["useListQuery",o]),...t.map(({name:o})=>["withListCountLoader",o])]}),e&&await n.invalidate()}},Ib=async({tx:t,queryClient:e,source:r,where:n,filter:o})=>e.ensureQueryData({queryKey:["withFetchLoader",r.name,{where:n,filter:o}],async queryFn(){return r.fetchOrThrow$({tx:t,where:n,filter:o})}}),oM=async({tx:t,queryClient:e,source:r,where:n,filter:o,cursor:a})=>e.ensureQueryData({queryKey:["withListLoader",r.name,{where:n,filter:o,cursor:a}],async queryFn(){return r.list$({tx:t,where:n,filter:o,cursor:a})}}),Qi=t=>{const e="input"in t?t.input:"input",r="output"in t?t.output:"output",n="schema"in t?t.schema._input:t._input,o="schema"in t?t.schema._output:t._output;return{types:{input:e==="output"?o:n,output:r==="input"?n:o},parse:a=>"schema"in t?t.schema.parse(a):t.parse(a)}},kv=(t,e)=>Te.custom().pipe(t.catch(e)),Ki=({filter:t})=>Te.object({filter:kv(t.optional(),void 0),cursor:kv(QP,{page:0,size:15}).default({page:0,size:15}),selection:kv(Te.array(Te.string()),[]).default([])}),aM=lr({slot:{base:["w-full","flex","flex-col","items-center","justify-center"],title:["text-xl","text-bold"],message:["text-base","text-slate-500"],body:["pt-2"]},variant:{},defaults:{}}),b3=({textTitle:t,textMessage:e,icon:r,iconProps:n,variant:o,tva:a=aM,css:l,children:c})=>{const h=a({...o,css:l}).slots;return y.jsxs("div",{className:h.base(),children:[r?y.jsx(_r,{icon:r,variant:{size:"6xl"},css:{base:["text-slate-500","opacity-50"]},...n}):null,y.jsx("div",{className:h.title(),children:t}),y.jsx("div",{className:h.message(),children:e}),y.jsx("div",{className:h.body(),children:c})]})},Rb=lr({slot:{base:["min-w-full","flex","flex-col","gap-2","text-sm"],table:["min-w-full","w-max","table-fixed"],thead:["border","border-slate-200","bg-slate-100"],th:["text-left","px-2","py-1","border-t","border-b","border-slate-300"],tbody:[],tr:["border-b","border-b-slate-200","odd:bg-slate-50","hover:bg-purple-100","hover:border-purple-300"],td:["px-2","py-1"],tfoot:[],select:["cursor-pointer","text-slate-400","hover:text-slate-600"]},variant:{selected:{true:[]}},match:[{if:{selected:!0},then:{tr:["bg-blue-100","odd:bg-blue-50","border-blue-300"],select:["text-slate-600"]}}],defaults:{selected:!1}}),lM=({table:t,cell:{column:e,data:r,value:n},variant:o,tva:a=Rb,css:l})=>{const c=e.def.render,h=a({...o,css:l}).slots;return y.jsx("td",{className:h.td(),children:y.jsxs("div",{className:"group flex flex-row items-center gap-2 justify-between",children:[y.jsx(c,{table:t,data:r,value:n}),e.filter&&!e.filter.is()?y.jsx(_r,{icon:AD,css:{base:["group-hover:visible","invisible","opacity-50 hover:opacity-100","cursor-pointer"]},variant:{size:"xl"},onClick:()=>{e.filter&&(e.def.filter?.onFilter({data:r,filter:e.filter}),window.scrollTo({top:0,behavior:"smooth"}))}}):null]})})},uM=({table:t,row:e,action:r,variant:n,tva:o=Rb,css:a})=>{const l=o({...n,css:a}).slots,c=r?.table,h=r?.row;return y.jsxs("tr",{className:l.tr({selected:t.selection.isSelected(e)}),children:[c||h||t.selection.enabled?y.jsx("td",{className:"w-0",children:y.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.selection.enabled?y.jsx(_r,{icon:t.selection.isSelected(e)?mm:pm,css:{base:l.select({selected:t.selection.isSelected(e)})},onClick:t.selection.withRowHandler(e)}):null,h?y.jsx(h,{table:t,data:e.data}):null]})}):null,e.cells.map(m=>y.jsx(lM,{table:t,cell:m,variant:n,tva:o,css:a},`${e.id}-${m.column.id}`)),y.jsx("td",{})]})},Eo=({table:t,fulltext:e,cursor:r,empty:n=()=>y.jsx(b3,{icon:RD,textTitle:y.jsx(ce,{label:"Nothing here"}),textMessage:y.jsx(ce,{label:"There is nothing to see right now."})}),action:o,variant:a,tva:l=Rb,css:c})=>{const h=l({...a,css:c}).slots,m=o?.table,g=o?.row;return y.jsxs("div",{className:h.base(),children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("div",{className:"flex items-center gap-6 w-1/3",children:e?y.jsx(OD,{...e}):null}),y.jsxs("div",{className:"flex flex-row items-center justify-center gap-2",children:[y.jsx(mE,{...r}),t.filter.is()&&y.jsx(ob,{iconEnabled:VE,css:{base:["text-amber-500"]},onClick:()=>t.filter.reset()})]})]}),y.jsx("div",{className:"relative overflow-x-auto",children:y.jsxs("table",{className:h.table(),children:[y.jsx("thead",{className:h.thead(),children:y.jsxs("tr",{children:[m||g||t.selection.enabled?y.jsx("th",{className:"w-0",children:y.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.selection.enabled?y.jsx(_r,{icon:t.selection.isAll()?mm:t.selection.isAny()?TD:pm,variant:{disabled:t.selection.isSingle},css:{base:h.select({selected:t.selection.isAny()})},onClick:t.selection.withAllHandler()}):null,m?y.jsx(m,{table:t}):null]})}):null,t.visible.map(x=>{const N=x.def.header||(()=>null);return y.jsx("th",{className:h.th(),style:x.def.size?{width:`${x.def.size}rem`}:void 0,children:y.jsxs("div",{className:"flex flex-row items-center justify-between",children:[y.jsx(N,{table:t}),y.jsx("div",{className:"flex flex-row items-center gap-2",children:x.filter?.is()&&y.jsx(_r,{icon:VE,variant:{size:"md"},css:{base:["opacity-50","hover:opacity-100","cursor-pointer"]},onClick:()=>{x.filter?.reset()}})})]})},x.id)}),y.jsx("th",{})]})}),t.isEmpty?null:y.jsx("tbody",{className:h.tbody(),children:t.rows?.map(x=>y.jsx(uM,{row:x,table:t,action:o,variant:a,tva:l,css:c},x.id))})]})}),t.isEmpty?y.jsx(n,{}):null,y.jsxs("div",{className:"flex flex-row items-center justify-end gap-2",children:[y.jsx("div",{}),y.jsx(mE,{...r})]})]})},Sn=[];for(let t=0;t<256;++t)Sn.push((t+256).toString(16).slice(1));function cM(t,e=0){return(Sn[t[e+0]]+Sn[t[e+1]]+Sn[t[e+2]]+Sn[t[e+3]]+"-"+Sn[t[e+4]]+Sn[t[e+5]]+"-"+Sn[t[e+6]]+Sn[t[e+7]]+"-"+Sn[t[e+8]]+Sn[t[e+9]]+"-"+Sn[t[e+10]]+Sn[t[e+11]]+Sn[t[e+12]]+Sn[t[e+13]]+Sn[t[e+14]]+Sn[t[e+15]]).toLowerCase()}let qv;const dM=new Uint8Array(16);function fM(){if(!qv){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");qv=crypto.getRandomValues.bind(crypto)}return qv(dM)}const hM=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),KE={randomUUID:hM};function GE(t,e,r){if(KE.randomUUID&&!e&&!t)return KE.randomUUID();t=t||{};const n=t.random||(t.rng||fM)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,cM(n)}const No=({columns:t,order:e=t.map(c=>c.name),hidden:r=[],visible:n=t.map(c=>c.name),data:o,filter:a,selection:l})=>{const c={...a?.value||{}},h=MS(c||{}),m=new Set(l?.value),g=t.map(N=>({id:GE(),def:N,filter:N.filter?{is(){return N.filter?h.get(N.filter.path)!==void 0:!1},reset(){N.filter&&h.set(N.filter.path,void 0),a?.set({...c})},shallow(q,C){N.filter&&h.set(q,C),a?.set({...c})},set(q){a?.set({...q})}}:void 0})),x=g.filter(N=>n.includes(N.def.name)&&!r.includes(N.def.name)).sort((N,q)=>{const C=e.indexOf(N.def.name),O=e.indexOf(q.def.name);return(C===-1?1/0:C)-(O===-1?1/0:O)});return{columns:g,visible:x,rows:o?.map(N=>({id:GE(),data:N,cells:x.map(q=>({column:q,data:N,value:MS(N).get(q.def.name)}))})),isEmpty:o.length===0,filter:{is(){return g.some(N=>N.filter?.is())},reset(){a?.set({})},set(N){a?.set({...N})},shallow(N,q){h.set(N,q)}},selection:{enabled:!!l&&o.length>0,selection:Array.from(m),isSingle:l?.type==="single",isMulti:l?.type==="multi",isSelected({data:N}){return m.has(N.id)||!1},isAll(){return o.every(N=>m.has(N.id))},isAny(){return o.some(N=>m.has(N.id))},withRowHandler({data:N}){return()=>{if(l?.type==="single"){const q=m.has(N.id);m.clear(),q?m.delete(N.id):m.add(N.id)}else m.has(N.id)?m.delete(N.id):m.add(N.id);l?.set(Array.from(m))}},withAllHandler(){return()=>{o.every(N=>m.has(N.id))?m.clear():o.forEach(({id:N})=>m.add(N)),l?.set(Array.from(m))}}}}},ko=()=>t=>t,w3=({tags:t=[],render:e=({tag:o})=>o.label,onClick:r,textEmpty:n})=>{const o=t.filter(Boolean).sort((a,l)=>a.sort-l.sort);return y.jsx("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:o.length?o.map(a=>y.jsx(nL,{onClick:()=>r?.(a),children:e({tag:a})},a.id)):n||y.jsx(ce,{label:"No tags (label)"})})},pM=lr({slot:{base:["flex","flex-row","gap-2","items-center"],title:["flex","flex-row","gap-2","items-center","text-lg","text-slate-500"],subtitle:["flex","flex-row","gap-4","items-center","text-lg"]},variant:{withSubtitle:{true:[]}},match:[{if:{withSubtitle:!0},then:{title:["border-r","border-r-slate-300","pr-2"]}}],defaults:{withSubtitle:!1}}),Ab=({icon:t,title:e,subtitle:r,variant:n,tva:o=pM,css:a})=>{const l=o({withSubtitle:!!r,...n,css:a}).slots;return y.jsxs("div",{className:l.base(),children:[y.jsxs("div",{className:l.title(),children:[t?y.jsx(_r,{icon:t}):null,e]}),r?y.jsx("div",{className:l.subtitle(),children:r}):null]})};var Sh={},JE;function mM(){if(JE)return Sh;JE=1;var t=zN();return Sh.createRoot=t.createRoot,Sh.hydrateRoot=t.hydrateRoot,Sh}var yM=mM();const gM=Tu(yM),Tb=OO()({component:()=>y.jsxs(y.Fragment,{children:[y.jsx(JO,{}),y.jsx(wa,{})]})}),vM="modulepreload",_M=function(t){return"/"+t},ZE={},XE=function(e,r,n){let o=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");o=Promise.allSettled(r.map(h=>{if(h=_M(h),h in ZE)return;ZE[h]=!0;const m=h.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const x=document.createElement("link");if(x.rel=m?"stylesheet":vM,m||(x.as="script"),x.crossOrigin="",x.href=h,c&&x.setAttribute("nonce",c),document.head.appendChild(x),m)return new Promise((N,q)=>{x.addEventListener("load",N),x.addEventListener("error",()=>q(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return o.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})},bM=fr("/$locale")({component:wa,loader:async({params:{locale:t}})=>{try{Ci.push((await wM(`../translation/${t}.yaml`)).default)}catch(e){console.error(e)}}});function wM(t){switch(t){case"../translation/cs":case"../translation/cs.yaml":return XE(()=>import("./cs-D6ordFHs.js"),[]);case"../translation/en":case"../translation/en.yaml":return XE(()=>import("./en-U0FaVjzU.js"),[]);default:return new Promise(function(e,r){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(r.bind(null,new Error("Unknown variable dynamic import: "+t)))})}}const x3="cs",xM=[x3,"en"],SM=fr("/")({loader:async()=>{throw Mp({to:"/$locale",params:{locale:AT({available:xM,fallback:x3})}})}}),EM=fr("/$locale/")({component:()=>{const{locale:t}=vn({from:"/$locale"});return y.jsx("div",{className:"flex flex-col items-center justify-center h-screen w-screen",children:y.jsxs("div",{className:"rounded bg-slate-50 p-4 shadow-md border border-slate-300",children:[y.jsx("h1",{className:"text-3xl text-center",children:"Apps"}),y.jsx("ul",{children:y.jsx("li",{children:y.jsx(Pn,{icon:"icon-[bx--game]",to:"/$locale/apps/derivean/public/login",params:{locale:t},children:"DeRivean"})})})]})})}}),NM=async t=>{const e={user:Yr(),castle:Yr(),storage:Yr(),resource:{wood:Yr(),stone:Yr(),storageBlueprint:Yr(),castleBlueprint:Yr()},tag:{material:Yr(),blueprint:Yr()}};try{await t.insertInto("User").values([{id:e.user,login:"aaa",password:W_.hash("aaa"),name:"Root"}]).execute()}catch{}try{await t.insertInto("BaseBuilding").values([{id:e.castle,name:"Castle",preview:!0,cycles:5,limit:0},{id:e.storage,name:"Storage",preview:!0,cycles:1,limit:0}]).execute()}catch{}try{await t.insertInto("Tag").values([{id:e.tag.material,code:"material",label:"Material",sort:0,group:"resource"},{id:e.tag.blueprint,code:"blueprint",label:"Blueprint",sort:1,group:"resource"}]).execute()}catch{}try{await t.insertInto("Resource").values([{id:e.resource.wood,name:"Wood"},{id:e.resource.stone,name:"Stone"},{id:e.resource.storageBlueprint,name:"Storage - Blueprint"},{id:e.resource.castleBlueprint,name:"Castle - Blueprint"}]).execute()}catch{}try{await t.insertInto("Resource_Tag").values([{id:Yr(),resourceId:e.resource.stone,tagId:e.tag.material},{id:Yr(),resourceId:e.resource.wood,tagId:e.tag.material},{id:Yr(),resourceId:e.resource.storageBlueprint,tagId:e.tag.blueprint},{id:Yr(),resourceId:e.resource.castleBlueprint,tagId:e.tag.blueprint}]).execute()}catch{}try{await t.insertInto("BaseBuilding_Requirement").values([{id:Yr(),baseBuildingId:e.storage,resourceId:e.resource.stone,passive:!1,amount:3},{id:Yr(),baseBuildingId:e.storage,resourceId:e.resource.wood,passive:!1,amount:5},{id:Yr(),baseBuildingId:e.castle,resourceId:e.resource.stone,passive:!1,amount:10},{id:Yr(),baseBuildingId:e.castle,resourceId:e.resource.wood,passive:!1,amount:25}]).execute()}catch{}try{await t.insertInto("BaseBuilding_Limit").values([{id:Yr(),baseBuildingId:e.storage,resourceId:e.resource.stone,limit:100},{id:Yr(),baseBuildingId:e.storage,resourceId:e.resource.wood,limit:150},{id:Yr(),baseBuildingId:e.castle,resourceId:e.resource.stone,limit:25},{id:Yr(),baseBuildingId:e.castle,resourceId:e.resource.wood,limit:50}]).execute()}catch{}},{kysely:Hn,bootstrap:kM}=SD({database:"derivean",async bootstrap({kysely:t}){const e="varchar(36)",r=async()=>{await t.schema.createTable("User").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("name","varchar(64)",l=>l.notNull()).addColumn("login","varchar(128)",l=>l.notNull().unique()).addColumn("password","varchar(256)",l=>l.notNull()).execute(),await t.schema.createTable("Tag").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("code","varchar(64)",l=>l.notNull()).addColumn("label","varchar(128)",l=>l.notNull()).addColumn("group","varchar(64)").addColumn("sort","integer",l=>l.notNull().defaultTo(0)).addUniqueConstraint("Tag_code_group",["code","group"]).execute()},n=async()=>{await t.schema.createTable("Resource").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("name","varchar(64)",l=>l.notNull().unique()).execute(),await t.schema.createTable("Resource_Tag").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("resourceId",e,l=>l.references("Resource.id").onDelete("cascade").notNull()).addColumn("tagId",e,l=>l.references("Tag.id").onDelete("cascade").notNull()).addUniqueConstraint("Resource_Tag_resourceId_tagId",["resourceId","tagId"]).execute()},o=async()=>{await t.schema.createTable("BaseBuilding").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("name","varchar(64)",l=>l.notNull().unique()).addColumn("preview","boolean",l=>l.notNull()).addColumn("cycles","int2",l=>l.notNull()).addColumn("limit","int2",l=>l.notNull()).execute(),await t.schema.createTable("BaseBuilding_Requirement").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("baseBuildingId",e,l=>l.references("BaseBuilding.id").onDelete("cascade").notNull()).addColumn("resourceId",e,l=>l.references("Resource.id").onDelete("cascade").notNull()).addColumn("amount","float8",l=>l.notNull()).addColumn("passive","boolean",l=>l.notNull()).addUniqueConstraint("BaseBuilding_Requirement_baseBuildingId_resourceId",["baseBuildingId","resourceId"]).execute(),await t.schema.createTable("BaseBuilding_Limit").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("baseBuildingId",e,l=>l.references("BaseBuilding.id").onDelete("cascade").notNull()).addColumn("resourceId",e,l=>l.references("Resource.id").onDelete("cascade").notNull()).addColumn("limit","float8",l=>l.notNull()).addUniqueConstraint("BaseBuilding_Limit_baseBuildingId_resourceId",["baseBuildingId","resourceId"]).execute()},a=async()=>{await t.schema.createTable("Building").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("userId",e,l=>l.references("User.id").onDelete("cascade").notNull()).addColumn("baseBuildingId",e,l=>l.references("BaseBuilding.id").onDelete("cascade").notNull()).execute(),await t.schema.createTable("Building_Resource").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("buildingId",e,l=>l.references("Building.id").onDelete("cascade").notNull()).addColumn("resourceId",e,l=>l.references("Resource.id").onDelete("cascade").notNull()).addColumn("amount","float8",l=>l.notNull()).addUniqueConstraint("Building_Storage_buildingId_resourceId",["buildingId","resourceId"]).execute()};await r(),await n(),await o(),await a(),await NM(t)}}),qM=fr("/$locale/apps/derivean")({loader:kM}),CM="icon-[proicons--game]",OM=lr({slot:{base:["text-orange-500","font-bold","text-2xl","shadow-md","hover:shadow-lg","hover:text-orange-600","rounded","px-2","py-1","bg-slate-100"]},variant:{},defaults:{}}),S3=({variant:t,tva:e=OM,css:r})=>{const n=e({...t,css:r}).slots;return y.jsx("div",{className:n.base(),children:"DeRivean"})},go="icon-[material-symbols-light--construction-rounded]",vo="icon-[fluent--building-shop-20-regular]",Jr="icon-[hugeicons--resources-add]",IM=t=>{const{locale:e}=vn({from:"/$locale"});return y.jsxs(Xd,{...t,children:[y.jsx(gn,{icon:qb,to:"/$locale/apps/derivean/root/user/list",params:{locale:e},active:[{to:"/$locale/apps/derivean/root/user/$id/view"},{to:"/$locale/apps/derivean/root/user/$id/building/list"}],children:y.jsx(ce,{label:"User list (menu)"})}),y.jsxs(QE,{icon:vo,label:y.jsx(ce,{label:"Buildings (menu)"}),active:[{to:"/$locale/apps/derivean/root/building/base/list"},{to:"/$locale/apps/derivean/root/building/list"},{to:"/$locale/apps/derivean/root/building/$id/view"},{to:"/$locale/apps/derivean/root/building/base/$id/view"},{to:"/$locale/apps/derivean/root/building/base/$id/requirement/list"},{to:"/$locale/apps/derivean/root/building/base/$id/limit/list"},{to:"/$locale/apps/derivean/root/building/base/$id/edit"},{to:"/$locale/apps/derivean/root/building/$id/resource/list"},{to:"/$locale/apps/derivean/root/building/base/$id/resource/list"}],children:[y.jsx(gn,{icon:go,to:"/$locale/apps/derivean/root/building/base/list",params:{locale:e},variant:{inner:!0},children:y.jsx(ce,{label:"Base building list (menu)"})}),y.jsx(gn,{icon:vo,to:"/$locale/apps/derivean/root/building/list",params:{locale:e},variant:{inner:!0},children:y.jsx(ce,{label:"Building list (menu)"})})]}),y.jsx(gn,{icon:Jr,to:"/$locale/apps/derivean/root/resource/list",params:{locale:e},children:y.jsx(ce,{label:"Resource list (menu)"})}),y.jsx(QE,{icon:PD,label:y.jsx(ce,{label:"Settings (menu)"}),children:y.jsx(gn,{icon:Tp,to:"/$locale/apps/derivean/root/tag/list",params:{locale:e},variant:{inner:!0},children:y.jsx(ce,{label:"Tag list (menu)"})})})]})},ym=Te.object({id:Te.string(),name:Te.string(),login:Te.string()}),RM=fr("/$locale/apps/derivean/root")({async beforeLoad({context:t,params:{locale:e}}){return{...t,async session(){try{return ym.parse(Zd.get("session"))}catch{throw Mp({to:"/$locale/apps/derivean/public/login",params:{locale:e}})}}}},async loader({context:{session:t}}){return{session:await t()}},component:()=>{const{locale:t}=vn({from:"/$locale"}),{session:e}=gl({from:"/$locale/apps/derivean/root"});return y.jsx(g3,{logo:y.jsx(Pn,{to:"/$locale/apps/derivean/root",params:{locale:t},children:y.jsx(S3,{})}),menu:y.jsx(IM,{}),actions:y.jsxs(y.Fragment,{children:[e.name,y.jsx(Pn,{icon:CM,to:"/$locale/apps/derivean/game",params:{locale:t}}),y.jsx(Pn,{icon:kb,to:"/$locale/apps/derivean/public/logout",params:{locale:t},preload:!1})]})})}}),gm=xo({entity:KP,shape:Te.object({code:Te.string().min(1),label:Te.string().min(1),group:Te.string().nullish(),sort:Te.number()}),filter:bo.merge(Te.object({code:Te.string().optional(),group:Te.string().optional()}))}),YE=_o.merge(Te.object({name:Te.string().min(1)})),$u=xo({entity:YE,output:YE.merge(Te.object({tagIds:Te.array(Te.string()),tags:Te.array(gm.output)})),shape:Te.object({name:Te.string().min(1),tagIds:Te.array(Te.string()).optional()}),filter:bo.merge(Te.object({baseBuildingId:Te.string().optional()}))}),eN=_o.merge(Te.object({baseBuildingId:Te.string().min(1),resourceId:Te.string().min(1),limit:Te.number().positive()})),vm=xo({entity:eN,output:eN.merge(Te.object({resource:$u.output})),shape:Te.object({resourceId:Te.string().min(1),limit:Te.union([Te.number().positive(),Te.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:Ci.text("Limit must be a number")})])}),filter:bo.merge(Te.object({resourceId:Te.string().optional(),baseBuildingId:Te.string().optional()}))}),tN=_o.merge(Te.object({baseBuildingId:Te.string().min(1),resourceId:Te.string().min(1),amount:Te.number().positive(),passive:Te.union([Te.boolean(),Te.number().int().refine(t=>t===0||t===1).transform(t=>typeof t=="boolean"?t:t===1)])})),_m=xo({entity:tN,output:tN.merge(Te.object({resource:$u.output})),shape:Te.object({resourceId:Te.string().min(1),amount:Te.union([Te.number().positive(),Te.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:Ci.text("Amount must be a number")})]),passive:Te.boolean()}),filter:bo.merge(Te.object({baseBuildingId:Te.string().optional(),resourceId:Te.string().optional(),passive:Te.boolean().optional()}))}),rN=_o.merge(Te.object({name:Te.string().min(1),preview:Te.union([Te.boolean(),Te.number().int().refine(t=>t===0||t===1).transform(t=>typeof t=="boolean"?t:t===1)]),cycles:Te.number().int().positive(),limit:Te.number().int().nonnegative()})),ef=xo({entity:rN,output:rN.merge(Te.object({requirements:Te.array(_m.output),limits:Te.array(vm.output)})),shape:Te.object({name:Te.string().min(1),preview:Te.boolean(),cycles:Te.union([Te.number().int().positive(),Te.string().transform(t=>parseInt(t,10)).refine(t=>!isNaN(t),{message:Ci.text("Cycles must be a number")})]),limit:Te.union([Te.number().int().nonnegative(),Te.string().transform(t=>parseInt(t,10)).refine(t=>!isNaN(t),{message:Ci.text("Limit must be a number")})])}),filter:bo.merge(Te.object({name:Te.string().optional(),preview:Te.boolean().optional()}))}),AM=xo({entity:_o.merge(Te.object({resourceId:Te.string().min(1),tagId:Te.string().min(1)})),shape:Te.object({resourceId:Te.string().min(1),tagId:Te.string().min(1)}),filter:bo.merge(Te.object({resourceId:Te.string().optional(),tagId:Te.string().optional()}))}),ed=wo({name:"ResourceTagSource",schema:AM,db:Hn,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:o}){let a=t.selectFrom("Resource_Tag as rt").selectAll("rt").leftJoin("Resource as r","r.id","rt.resourceId").leftJoin("Tag as t","t.id","rt.tagId");const l=h=>{const m=`%${h}%`;return a.where(g=>g.or([g("rt.id","like",m),g("r.id","like",m),g("t.id","like",m),g("r.name","like",m),g("t.code","like",m),g("t.label","like",m),g("t.group","like",m)]))},c=h=>{h?.id&&(a=a.where("rt.id","=",h.id)),h?.idIn&&h.idIn.length&&(a=a.where("rt.id","in",h.idIn)),h?.resourceId&&(a=a.where("rt.resourceId","=",h.resourceId)),h?.tagId&&(a=a.where("rt.tagId","=",h.tagId)),h?.fulltext&&(a=l(h.fulltext))};return o.includes("filter")&&c(r||{}),o.includes("where")&&c(e||{}),o.includes("cursor")&&(a=a.limit(n.size).offset(n.page*n.size)),a},create$({tx:t}){return t.insertInto("Resource_Tag")},patch$({tx:t}){return t.updateTable("Resource_Tag")},delete$({tx:t}){return t.deleteFrom("Resource_Tag")}}),el=wo({name:"TagSource",schema:gm,db:Hn,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:o}){let a=t.selectFrom("Tag as t").selectAll("t");const l=h=>{const m=`%${h}%`;return a.where(g=>g.or([g("t.id","like",m),g("t.code","like",m),g("t.group","like",m),g("t.label","like",m)]))},c=h=>{h?.id&&(a=a.where("t.id","=",h.id)),h?.idIn&&h.idIn.length&&(a=a.where("t.id","in",h.idIn)),h?.code&&(a=a.where("t.code","=",h.code)),h?.group&&(a=a.where("t.group","=",h.group)),h?.fulltext&&(a=l(h.fulltext))};return o.includes("filter")&&c(r||{}),o.includes("where")&&c(e||{}),o.includes("cursor")&&(a=a.limit(n.size).offset(n.page*n.size)),a},create$({tx:t}){return t.insertInto("Tag")},patch$({tx:t}){return t.updateTable("Tag")},delete$({tx:t}){return t.deleteFrom("Tag")}}),Os=wo({name:"ResourceSource",schema:$u,db:Hn,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:o}){let a=t.selectFrom("Resource as r").selectAll("r").leftJoin("BaseBuilding_Requirement as bbr","bbr.resourceId","r.id");const l=h=>{const m=`%${h}%`;return a.where(g=>g.or([g("r.id","like",m),g("r.name","like",m)]))},c=h=>{h?.id&&(a=a.where("r.id","=",h.id)),h?.idIn&&h.idIn.length&&(a=a.where("r.id","in",h.idIn)),h?.baseBuildingId&&(a=a.where("bbr.baseBuildingId","=",h.baseBuildingId)),h?.fulltext&&(a=l(h.fulltext))};return o.includes("filter")&&c(r||{}),o.includes("where")&&c(e||{}),o.includes("cursor")&&(a=a.limit(n.size).offset(n.page*n.size)),a},create$({tx:t}){return t.insertInto("Resource")},patch$({tx:t}){return t.updateTable("Resource")},delete$({tx:t}){return t.deleteFrom("Resource")},map:{async toOutput({tx:t,entity:e}){const r=(await ed.list$({tx:t,where:{resourceId:e.id}})).map(({tagId:n})=>n);return{...e,tagIds:r,tags:await el.list$({tx:t,where:{idIn:r}})}}},event:{async onPostCreate({tx:t,entity:e,shape:r}){await Promise.all(r.tagIds?.forEach(async n=>ed.create$({tx:t,entity:{resourceId:e.id,tagId:n},shape:{resourceId:e.id,tagId:n}}))||[])},async onPostPatch({tx:t,entity:e,shape:r}){Array.isArray(r.tagIds)&&(await t.deleteFrom("Resource_Tag").where("resourceId","=",e.id).execute(),await Promise.all(r.tagIds.map(async n=>ed.create$({tx:t,entity:{resourceId:e.id,tagId:n},shape:{resourceId:e.id,tagId:n}}))))}}}),td=wo({name:"BaseBuildingLimitSource",schema:vm,db:Hn,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:o}){let a=t.selectFrom("BaseBuilding_Limit as bbl").selectAll("bbl").leftJoin("BaseBuilding as bb","bb.id","bbl.baseBuildingId").leftJoin("Resource as r","r.id","bbl.resourceId");const l=h=>{const m=`%${h}%`;return a.where(g=>g.or([g("bbl.id","like",m),g("bb.id","like",m),g("r.id","like",m),g("bb.name","like",m),g("r.name","like",m)]))},c=h=>{h?.id&&(a=a.where("bb.id","=",h.id)),h?.idIn&&h.idIn.length&&(a=a.where("bb.id","in",h.idIn)),h?.resourceId&&(a=a.where("bbl.resourceId","=",h.resourceId)),h?.baseBuildingId&&(a=a.where("bbl.baseBuildingId","=",h.baseBuildingId)),h?.fulltext&&(a=l(h.fulltext))};return o.includes("filter")&&c(r||{}),o.includes("where")&&c(e||{}),o.includes("cursor")&&(a=a.limit(n.size).offset(n.page*n.size)),a},create$({tx:t}){return t.insertInto("BaseBuilding_Limit")},patch$({tx:t}){return t.updateTable("BaseBuilding_Limit")},delete$({tx:t}){return t.deleteFrom("BaseBuilding_Limit")},map:{async toOutput({tx:t,entity:e}){return{...e,resource:await Os.getOrThrow$({tx:t,id:e.resourceId})}}}}),lu=wo({name:"BaseBuildingRequirementSource",schema:_m,db:Hn,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:o}){let a=t.selectFrom("BaseBuilding_Requirement as bbr").selectAll("bbr").leftJoin("BaseBuilding as bb","bb.id","bbr.baseBuildingId").leftJoin("Resource as r","r.id","bbr.resourceId");const l=h=>{const m=`%${h}%`;return a.where(g=>g.or([g("bbr.id","like",m),g("bb.id","like",m),g("r.id","like",m),g("bb.name","like",m),g("r.name","like",m)]))},c=h=>{h?.id&&(a=a.where("bbr.id","=",h.id)),h?.idIn&&h.idIn.length&&(a=a.where("bbr.id","in",h.idIn)),h?.baseBuildingId&&(a=a.where("bbr.baseBuildingId","=",h.baseBuildingId)),h?.resourceId&&(a=a.where("bbr.resourceId","=",h.resourceId)),h?.fulltext&&(a=l(h.fulltext))};return o.includes("filter")&&c(r||{}),o.includes("where")&&c(e||{}),o.includes("cursor")&&(a=a.limit(n.size).offset(n.page*n.size)),a},create$({tx:t}){return t.insertInto("BaseBuilding_Requirement")},patch$({tx:t}){return t.updateTable("BaseBuilding_Requirement")},delete$({tx:t}){return t.deleteFrom("BaseBuilding_Requirement")},map:{async toOutput({tx:t,entity:e}){return{...e,resource:await Os.getOrThrow$({tx:t,id:e.resourceId})}}}}),ai=wo({name:"BaseBuildingSource",schema:ef,db:Hn,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:o}){let a=t.selectFrom("BaseBuilding as bb").selectAll("bb");const l=h=>{const m=`%${h}%`;return a.where(g=>g.or([g("bb.id","like",m),g("bb.name","like",m)]))},c=h=>{h?.id&&(a=a.where("bb.id","=",h.id)),h?.idIn&&h.idIn.length&&(a=a.where("bb.id","in",h.idIn)),h?.name&&(a=a.where("bb.name","=",h.name)),h?.fulltext&&(a=l(h.fulltext)),h?.preview!==void 0&&(a=a.where("bb.preview","=",h.preview))};return o.includes("filter")&&c(r||{}),o.includes("where")&&c(e||{}),o.includes("cursor")&&(a=a.limit(n.size).offset(n.page*n.size)),a},create$({tx:t}){return t.insertInto("BaseBuilding")},patch$({tx:t}){return t.updateTable("BaseBuilding")},delete$({tx:t}){return t.deleteFrom("BaseBuilding")},map:{async toOutput({tx:t,entity:e}){return{...e,requirements:await lu.list$({tx:t,where:{baseBuildingId:e.id}}),limits:await td.list$({tx:t,where:{baseBuildingId:e.id}})}}}}),nN=_o.merge(Te.object({userId:Te.string().min(1),baseBuildingId:Te.string().min(1)})),tf=xo({entity:nN,output:nN.merge(Te.object({baseBuilding:ef.output})),shape:Te.object({baseBuildingId:Te.string().min(1)}),filter:bo.merge(Te.object({userId:Te.string().optional(),baseBuildingId:Te.string().optional()}))}),il=wo({name:"BuildingSource",db:Hn,schema:tf,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:o}){let a=t.selectFrom("Building as b").selectAll("b").leftJoin("BaseBuilding as bb","bb.id","b.baseBuildingId");const l=h=>{const m=`%${h}%`;return a.where(g=>g.or([g("b.id","like",m),g("bb.id","like",m),g("bb.name","like",m)]))},c=h=>{h?.id&&(a=a.where("b.id","=",h.id)),h?.idIn&&h.idIn.length&&(a=a.where("b.id","in",h.idIn)),h?.baseBuildingId&&(a=a.where("b.baseBuildingId","=",h.baseBuildingId)),h?.fulltext&&(a=l(h.fulltext))};return o.includes("filter")&&c(r||{}),o.includes("where")&&c(e||{}),o.includes("cursor")&&(a=a.limit(n.size).offset(n.page*n.size)),a},create$({tx:t}){return t.insertInto("Building")},patch$({tx:t}){return t.updateTable("Building")},delete$({tx:t}){return t.deleteFrom("Building")},map:{async toOutput({tx:t,entity:e}){return{...e,baseBuilding:await ai.getOrThrow$({tx:t,id:e.baseBuildingId})}}}}),iN=_o.merge(Te.object({buildingId:Te.string().min(1),resourceId:Te.string().min(1),amount:Te.number().positive()})),rf=xo({entity:iN,output:iN.merge(Te.object({building:tf.output,resource:$u.output})),shape:Te.object({resourceId:Te.string().min(1),amount:Te.union([Te.number().positive(),Te.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:Ci.text("Amount must be a number")})])}),filter:bo.merge(Te.object({userId:Te.string().optional(),buildingId:Te.string().optional(),resourceId:Te.string().optional(),baseBuildingId:Te.string().optional()}))}),co=wo({name:"BuildingResourceSource",schema:rf,db:Hn,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:o}){let a=t.selectFrom("Building_Resource as br").selectAll("br").leftJoin("Building as b","b.id","br.buildingId").leftJoin("BaseBuilding as bb","bb.id","b.baseBuildingId").leftJoin("Resource as r","r.id","br.resourceId");const l=h=>{const m=`%${h}%`;return a.where(g=>g.or([g("br.id","like",m),g("bb.id","like",m),g("r.id","like",m),g("bb.name","like",m),g("r.name","like",m)]))},c=h=>{h?.id&&(a=a.where("br.id","=",h.id)),h?.idIn&&h.idIn.length&&(a=a.where("br.id","in",h.idIn)),h?.buildingId&&(a=a.where("br.buildingId","=",h.buildingId)),h?.baseBuildingId&&(a=a.where("b.baseBuildingId","=",h.baseBuildingId)),h?.resourceId&&(a=a.where("br.resourceId","=",h.resourceId)),h?.fulltext&&(a=l(h.fulltext))};return o.includes("filter")&&c(r||{}),o.includes("where")&&c(e||{}),o.includes("cursor")&&(a=a.limit(n.size).offset(n.page*n.size)),a},create$({tx:t}){return t.insertInto("Building_Resource")},patch$({tx:t}){return t.updateTable("Building_Resource")},delete$({tx:t}){return t.deleteFrom("Building_Resource")},map:{async toOutput({tx:t,entity:e}){return{...e,building:await il.getOrThrow$({tx:t,id:e.buildingId}),resource:await Os.getOrThrow$({tx:t,id:e.resourceId})}}}}),TM=t=>{const{locale:e}=vn({from:"/$locale"});return y.jsxs(Xd,{...t,children:[y.jsx(gn,{icon:go,to:"/$locale/apps/derivean/game/building/base/list",params:{locale:e},children:y.jsx(ce,{label:"Building build list (label)"})}),y.jsx(gn,{icon:vo,to:"/$locale/apps/derivean/game/building/list",params:{locale:e},children:y.jsx(ce,{label:"Building list (label)"})}),y.jsx(gn,{icon:Jr,to:"/$locale/apps/derivean/game/building/resource/list",params:{locale:e},children:y.jsx(ce,{label:"Resource list (menu)"})})]})},Pb=({resources:t})=>t.reduce((e,r)=>(e[r.resourceId]||(e[r.resourceId]=0),e[r.resourceId]+=r.amount,e),{}),PM=fr("/$locale/apps/derivean/game")({async beforeLoad({context:t,params:{locale:e}}){return{...t,async session(){try{return ym.parse(Zd.get("session"))}catch{throw Mp({to:"/$locale/apps/derivean/public/login",params:{locale:e}})}}}},async loader({context:{kysely:t,session:e}}){const r=await e();return t.transaction().execute(async n=>({session:r,resources:Pb({resources:await co.list$({tx:n,where:{userId:r.id}})})}))},component:()=>{const{locale:t}=vn({from:"/$locale"}),{session:e}=gl({from:"/$locale/apps/derivean/game"});return y.jsx(g3,{logo:y.jsx(Pn,{to:"/$locale/apps/derivean/game",params:{locale:t},children:y.jsx(S3,{})}),menu:y.jsx(TM,{}),actions:y.jsxs(y.Fragment,{children:[e.name,y.jsx(Pn,{icon:"icon-[clarity--crown-line]",to:"/$locale/apps/derivean/root",params:{locale:t}}),y.jsx(Pn,{icon:kb,to:"/$locale/apps/derivean/public/logout",params:{locale:t},preload:!1})]}),children:y.jsx(wa,{})})}}),FM=fr("/$locale/apps/derivean/game/")({component:()=>y.jsx("div",{children:"game dashboard here :)"}),async loader({context:{session:t}}){return Hn.transaction().execute(async e=>{const r=await t(),n=await co.list$({tx:e,where:{userId:r.id}}),o=Pb({resources:n});console.log("counts",o)})}});var nf=t=>t.type==="checkbox",tl=t=>t instanceof Date,Wn=t=>t==null;const E3=t=>typeof t=="object";var nn=t=>!Wn(t)&&!Array.isArray(t)&&E3(t)&&!tl(t),N3=t=>nn(t)&&t.target?nf(t.target)?t.target.checked:t.target.value:t,jM=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,k3=(t,e)=>t.has(jM(e)),LM=t=>{const e=t.constructor&&t.constructor.prototype;return nn(e)&&e.hasOwnProperty("isPrototypeOf")},Fb=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ri(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Fb&&(t instanceof Blob||n))&&(r||nn(t)))if(e=r?[]:{},!r&&!LM(t))e=t;else for(const o in t)t.hasOwnProperty(o)&&(e[o]=ri(t[o]));else return t;return e}var bm=t=>Array.isArray(t)?t.filter(Boolean):[],Gr=t=>t===void 0,pt=(t,e,r)=>{if(!e||!nn(t))return r;const n=bm(e.split(/[,[\].]+?/)).reduce((o,a)=>Wn(o)?o:o[a],t);return Gr(n)||n===t?Gr(t[e])?r:t[e]:n},wi=t=>typeof t=="boolean",jb=t=>/^\w*$/.test(t),q3=t=>bm(t.replace(/["|']|\]/g,"").split(/\.|\[/)),vr=(t,e,r)=>{let n=-1;const o=jb(e)?[e]:q3(e),a=o.length,l=a-1;for(;++n<a;){const c=o[n];let h=r;if(n!==l){const m=t[c];h=nn(m)||Array.isArray(m)?m:isNaN(+o[n+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;t[c]=h,t=t[c]}return t};const Pp={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},as={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ro={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},DM=wr.createContext(null),Lb=()=>wr.useContext(DM);var C3=(t,e,r,n=!0)=>{const o={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(o,a,{get:()=>{const l=a;return e._proxyFormState[l]!==as.all&&(e._proxyFormState[l]=!n||as.all),r&&(r[l]=!0),t[l]}});return o},ni=t=>nn(t)&&!Object.keys(t).length,O3=(t,e,r,n)=>{r(t);const{name:o,...a}=t;return ni(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(l=>e[l]===(!n||as.all))},rd=t=>Array.isArray(t)?t:[t],I3=(t,e,r)=>!t||!e||t===e||rd(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n)));function Db(t){const e=wr.useRef(t);e.current=t,wr.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}function MM(t){const e=Lb(),{control:r=e.control,disabled:n,name:o,exact:a}=t||{},[l,c]=wr.useState(r._formState),h=wr.useRef(!0),m=wr.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),g=wr.useRef(o);return g.current=o,Db({disabled:n,next:x=>h.current&&I3(g.current,x.name,a)&&O3(x,m.current,r._updateFormState)&&c({...r._formState,...x}),subject:r._subjects.state}),wr.useEffect(()=>(h.current=!0,m.current.isValid&&r._updateValid(!0),()=>{h.current=!1}),[r]),wr.useMemo(()=>C3(l,r,m.current,!1),[l,r])}var Is=t=>typeof t=="string",R3=(t,e,r,n,o)=>Is(t)?(n&&e.watch.add(t),pt(r,t,o)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),pt(r,a))):(n&&(e.watchAll=!0),r);function BM(t){const e=Lb(),{control:r=e.control,name:n,defaultValue:o,disabled:a,exact:l}=t||{},c=wr.useRef(n);c.current=n,Db({disabled:a,subject:r._subjects.values,next:g=>{I3(c.current,g.name,l)&&m(ri(R3(c.current,r._names,g.values||r._formValues,!1,o)))}});const[h,m]=wr.useState(r._getWatch(n,o));return wr.useEffect(()=>r._removeUnmounted()),h}function WM(t){const e=Lb(),{name:r,disabled:n,control:o=e.control,shouldUnregister:a}=t,l=k3(o._names.array,r),c=BM({control:o,name:r,defaultValue:pt(o._formValues,r,pt(o._defaultValues,r,t.defaultValue)),exact:!0}),h=MM({control:o,name:r,exact:!0}),m=wr.useRef(o.register(r,{...t.rules,value:c,...wi(t.disabled)?{disabled:t.disabled}:{}})),g=wr.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!pt(h.errors,r)},isDirty:{enumerable:!0,get:()=>!!pt(h.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!pt(h.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!pt(h.validatingFields,r)},error:{enumerable:!0,get:()=>pt(h.errors,r)}}),[h,r]),x=wr.useMemo(()=>({name:r,value:c,...wi(n)||h.disabled?{disabled:h.disabled||n}:{},onChange:N=>m.current.onChange({target:{value:N3(N),name:r},type:Pp.CHANGE}),onBlur:()=>m.current.onBlur({target:{value:pt(o._formValues,r),name:r},type:Pp.BLUR}),ref:N=>{const q=pt(o._fields,r);q&&N&&(q._f.ref={focus:()=>N.focus(),select:()=>N.select(),setCustomValidity:C=>N.setCustomValidity(C),reportValidity:()=>N.reportValidity()})}}),[r,o._formValues,n,h.disabled,c,o._fields]);return wr.useEffect(()=>{const N=o._options.shouldUnregister||a,q=(C,O)=>{const P=pt(o._fields,C);P&&P._f&&(P._f.mount=O)};if(q(r,!0),N){const C=ri(pt(o._options.defaultValues,r));vr(o._defaultValues,r,C),Gr(pt(o._formValues,r))&&vr(o._formValues,r,C)}return()=>{(l?N&&!o._state.action:N)?o.unregister(r):q(r,!1)}},[r,o,l,a]),wr.useEffect(()=>{wi(n)&&pt(o._fields,r)&&o._updateDisabledField({disabled:n,fields:o._fields,name:r,value:pt(o._fields,r)._f.value})},[n,r,o]),wr.useMemo(()=>({field:x,formState:h,fieldState:g}),[x,h,g])}const ml=t=>t.render(WM(t));var A3=(t,e,r,n,o)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:o||!0}}:{},sN=t=>({isOnSubmit:!t||t===as.onSubmit,isOnBlur:t===as.onBlur,isOnChange:t===as.onChange,isOnAll:t===as.all,isOnTouch:t===as.onTouched}),oN=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const nd=(t,e,r,n)=>{for(const o of r||Object.keys(t)){const a=pt(t,o);if(a){const{_f:l,...c}=a;if(l){if(l.refs&&l.refs[0]&&e(l.refs[0],o)&&!n)return!0;if(l.ref&&e(l.ref,l.name)&&!n)return!0;if(nd(c,e))break}else if(nn(c)&&nd(c,e))break}}};var $M=(t,e,r)=>{const n=rd(pt(t,r));return vr(n,"root",e[r]),vr(t,r,n),t},Mb=t=>t.type==="file",qs=t=>typeof t=="function",Fp=t=>{if(!Fb)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},zh=t=>Is(t),Bb=t=>t.type==="radio",jp=t=>t instanceof RegExp;const aN={value:!1,isValid:!1},lN={value:!0,isValid:!0};var T3=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Gr(t[0].attributes.value)?Gr(t[0].value)||t[0].value===""?lN:{value:t[0].value,isValid:!0}:lN:aN}return aN};const uN={isValid:!1,value:null};var P3=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,uN):uN;function cN(t,e,r="validate"){if(zh(t)||Array.isArray(t)&&t.every(zh)||wi(t)&&!t)return{type:r,message:zh(t)?t:"",ref:e}}var Xl=t=>nn(t)&&!jp(t)?t:{value:t,message:""},dN=async(t,e,r,n,o)=>{const{ref:a,refs:l,required:c,maxLength:h,minLength:m,min:g,max:x,pattern:N,validate:q,name:C,valueAsNumber:O,mount:P,disabled:M}=t._f,j=pt(e,C);if(!P||M)return{};const $=l?l[0]:a,U=ne=>{n&&$.reportValidity&&($.setCustomValidity(wi(ne)?"":ne||""),$.reportValidity())},G={},B=Bb(a),J=nf(a),re=B||J,V=(O||Mb(a))&&Gr(a.value)&&Gr(j)||Fp(a)&&a.value===""||j===""||Array.isArray(j)&&!j.length,ie=A3.bind(null,C,r,G),D=(ne,Z,pe,Oe=ro.maxLength,Ce=ro.minLength)=>{const Fe=ne?Z:pe;G[C]={type:ne?Oe:Ce,message:Fe,ref:a,...ie(ne?Oe:Ce,Fe)}};if(o?!Array.isArray(j)||!j.length:c&&(!re&&(V||Wn(j))||wi(j)&&!j||J&&!T3(l).isValid||B&&!P3(l).isValid)){const{value:ne,message:Z}=zh(c)?{value:!!c,message:c}:Xl(c);if(ne&&(G[C]={type:ro.required,message:Z,ref:$,...ie(ro.required,Z)},!r))return U(Z),G}if(!V&&(!Wn(g)||!Wn(x))){let ne,Z;const pe=Xl(x),Oe=Xl(g);if(!Wn(j)&&!isNaN(j)){const Ce=a.valueAsNumber||j&&+j;Wn(pe.value)||(ne=Ce>pe.value),Wn(Oe.value)||(Z=Ce<Oe.value)}else{const Ce=a.valueAsDate||new Date(j),Fe=Ee=>new Date(new Date().toDateString()+" "+Ee),ve=a.type=="time",me=a.type=="week";Is(pe.value)&&j&&(ne=ve?Fe(j)>Fe(pe.value):me?j>pe.value:Ce>new Date(pe.value)),Is(Oe.value)&&j&&(Z=ve?Fe(j)<Fe(Oe.value):me?j<Oe.value:Ce<new Date(Oe.value))}if((ne||Z)&&(D(!!ne,pe.message,Oe.message,ro.max,ro.min),!r))return U(G[C].message),G}if((h||m)&&!V&&(Is(j)||o&&Array.isArray(j))){const ne=Xl(h),Z=Xl(m),pe=!Wn(ne.value)&&j.length>+ne.value,Oe=!Wn(Z.value)&&j.length<+Z.value;if((pe||Oe)&&(D(pe,ne.message,Z.message),!r))return U(G[C].message),G}if(N&&!V&&Is(j)){const{value:ne,message:Z}=Xl(N);if(jp(ne)&&!j.match(ne)&&(G[C]={type:ro.pattern,message:Z,ref:a,...ie(ro.pattern,Z)},!r))return U(Z),G}if(q){if(qs(q)){const ne=await q(j,e),Z=cN(ne,$);if(Z&&(G[C]={...Z,...ie(ro.validate,Z.message)},!r))return U(Z.message),G}else if(nn(q)){let ne={};for(const Z in q){if(!ni(ne)&&!r)break;const pe=cN(await q[Z](j,e),$,Z);pe&&(ne={...pe,...ie(Z,pe.message)},U(pe.message),r&&(G[C]=ne))}if(!ni(ne)&&(G[C]={ref:$,...ne},!r))return G}}return U(!0),G};function zM(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Gr(t)?n++:t[e[n++]];return t}function UM(t){for(const e in t)if(t.hasOwnProperty(e)&&!Gr(t[e]))return!1;return!0}function fn(t,e){const r=Array.isArray(e)?e:jb(e)?[e]:q3(e),n=r.length===1?t:zM(t,r),o=r.length-1,a=r[o];return n&&delete n[a],o!==0&&(nn(n)&&ni(n)||Array.isArray(n)&&UM(n))&&fn(t,r.slice(0,-1)),t}var Cv=()=>{let t=[];return{get observers(){return t},next:o=>{for(const a of t)a.next&&a.next(o)},subscribe:o=>(t.push(o),{unsubscribe:()=>{t=t.filter(a=>a!==o)}}),unsubscribe:()=>{t=[]}}},E_=t=>Wn(t)||!E3(t);function na(t,e){if(E_(t)||E_(e))return t===e;if(tl(t)&&tl(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const o of r){const a=t[o];if(!n.includes(o))return!1;if(o!=="ref"){const l=e[o];if(tl(a)&&tl(l)||nn(a)&&nn(l)||Array.isArray(a)&&Array.isArray(l)?!na(a,l):a!==l)return!1}}return!0}var F3=t=>t.type==="select-multiple",VM=t=>Bb(t)||nf(t),Ov=t=>Fp(t)&&t.isConnected,j3=t=>{for(const e in t)if(qs(t[e]))return!0;return!1};function Lp(t,e={}){const r=Array.isArray(t);if(nn(t)||r)for(const n in t)Array.isArray(t[n])||nn(t[n])&&!j3(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Lp(t[n],e[n])):Wn(t[n])||(e[n]=!0);return e}function L3(t,e,r){const n=Array.isArray(t);if(nn(t)||n)for(const o in t)Array.isArray(t[o])||nn(t[o])&&!j3(t[o])?Gr(e)||E_(r[o])?r[o]=Array.isArray(t[o])?Lp(t[o],[]):{...Lp(t[o])}:L3(t[o],Wn(e)?{}:e[o],r[o]):r[o]=!na(t[o],e[o]);return r}var jc=(t,e)=>L3(t,e,Lp(e)),D3=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Gr(t)?t:e?t===""?NaN:t&&+t:r&&Is(t)?new Date(t):n?n(t):t;function Iv(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return Mb(e)?e.files:Bb(e)?P3(t.refs).value:F3(e)?[...e.selectedOptions].map(({value:r})=>r):nf(e)?T3(t.refs).value:D3(Gr(e.value)?t.ref.value:e.value,t)}var HM=(t,e,r,n)=>{const o={};for(const a of t){const l=pt(e,a);l&&vr(o,a,l._f)}return{criteriaMode:r,names:[...t],fields:o,shouldUseNativeValidation:n}},Lc=t=>Gr(t)?t:jp(t)?t.source:nn(t)?jp(t.value)?t.value.source:t.value:t;const fN="AsyncFunction";var QM=t=>!!t&&!!t.validate&&!!(qs(t.validate)&&t.validate.constructor.name===fN||nn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===fN)),KM=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function hN(t,e,r){const n=pt(t,r);if(n||jb(r))return{error:n,name:r};const o=r.split(".");for(;o.length;){const a=o.join("."),l=pt(e,a),c=pt(t,a);if(l&&!Array.isArray(l)&&r!==a)return{name:r};if(c&&c.type)return{name:a,error:c};o.pop()}return{name:r}}var GM=(t,e,r,n,o)=>o.isOnAll?!1:!r&&o.isOnTouch?!(e||t):(r?n.isOnBlur:o.isOnBlur)?!t:(r?n.isOnChange:o.isOnChange)?t:!0,JM=(t,e)=>!bm(pt(t,e)).length&&fn(t,e);const ZM={mode:as.onSubmit,reValidateMode:as.onChange,shouldFocusError:!0};function XM(t={}){let e={...ZM,...t},r={submitCount:0,isDirty:!1,isLoading:qs(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},o=nn(e.defaultValues)||nn(e.values)?ri(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:ri(o),l={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},h,m=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},x={values:Cv(),array:Cv(),state:Cv()},N=sN(e.mode),q=sN(e.reValidateMode),C=e.criteriaMode===as.all,O=oe=>le=>{clearTimeout(m),m=setTimeout(oe,le)},P=async oe=>{if(!e.disabled&&(g.isValid||oe)){const le=e.resolver?ni((await re()).errors):await ie(n,!0);le!==r.isValid&&x.state.next({isValid:le})}},M=(oe,le)=>{!e.disabled&&(g.isValidating||g.validatingFields)&&((oe||Array.from(c.mount)).forEach(ye=>{ye&&(le?vr(r.validatingFields,ye,le):fn(r.validatingFields,ye))}),x.state.next({validatingFields:r.validatingFields,isValidating:!ni(r.validatingFields)}))},j=(oe,le=[],ye,Ie,De=!0,Ge=!0)=>{if(Ie&&ye&&!e.disabled){if(l.action=!0,Ge&&Array.isArray(pt(n,oe))){const _t=ye(pt(n,oe),Ie.argA,Ie.argB);De&&vr(n,oe,_t)}if(Ge&&Array.isArray(pt(r.errors,oe))){const _t=ye(pt(r.errors,oe),Ie.argA,Ie.argB);De&&vr(r.errors,oe,_t),JM(r.errors,oe)}if(g.touchedFields&&Ge&&Array.isArray(pt(r.touchedFields,oe))){const _t=ye(pt(r.touchedFields,oe),Ie.argA,Ie.argB);De&&vr(r.touchedFields,oe,_t)}g.dirtyFields&&(r.dirtyFields=jc(o,a)),x.state.next({name:oe,isDirty:ne(oe,le),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else vr(a,oe,le)},$=(oe,le)=>{vr(r.errors,oe,le),x.state.next({errors:r.errors})},U=oe=>{r.errors=oe,x.state.next({errors:r.errors,isValid:!1})},G=(oe,le,ye,Ie)=>{const De=pt(n,oe);if(De){const Ge=pt(a,oe,Gr(ye)?pt(o,oe):ye);Gr(Ge)||Ie&&Ie.defaultChecked||le?vr(a,oe,le?Ge:Iv(De._f)):Oe(oe,Ge),l.mount&&P()}},B=(oe,le,ye,Ie,De)=>{let Ge=!1,_t=!1;const Mt={name:oe};if(!e.disabled){const mr=!!(pt(n,oe)&&pt(n,oe)._f&&pt(n,oe)._f.disabled);if(!ye||Ie){g.isDirty&&(_t=r.isDirty,r.isDirty=Mt.isDirty=ne(),Ge=_t!==Mt.isDirty);const cr=mr||na(pt(o,oe),le);_t=!!(!mr&&pt(r.dirtyFields,oe)),cr||mr?fn(r.dirtyFields,oe):vr(r.dirtyFields,oe,!0),Mt.dirtyFields=r.dirtyFields,Ge=Ge||g.dirtyFields&&_t!==!cr}if(ye){const cr=pt(r.touchedFields,oe);cr||(vr(r.touchedFields,oe,ye),Mt.touchedFields=r.touchedFields,Ge=Ge||g.touchedFields&&cr!==ye)}Ge&&De&&x.state.next(Mt)}return Ge?Mt:{}},J=(oe,le,ye,Ie)=>{const De=pt(r.errors,oe),Ge=g.isValid&&wi(le)&&r.isValid!==le;if(e.delayError&&ye?(h=O(()=>$(oe,ye)),h(e.delayError)):(clearTimeout(m),h=null,ye?vr(r.errors,oe,ye):fn(r.errors,oe)),(ye?!na(De,ye):De)||!ni(Ie)||Ge){const _t={...Ie,...Ge&&wi(le)?{isValid:le}:{},errors:r.errors,name:oe};r={...r,..._t},x.state.next(_t)}},re=async oe=>{M(oe,!0);const le=await e.resolver(a,e.context,HM(oe||c.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return M(oe),le},V=async oe=>{const{errors:le}=await re(oe);if(oe)for(const ye of oe){const Ie=pt(le,ye);Ie?vr(r.errors,ye,Ie):fn(r.errors,ye)}else r.errors=le;return le},ie=async(oe,le,ye={valid:!0})=>{for(const Ie in oe){const De=oe[Ie];if(De){const{_f:Ge,..._t}=De;if(Ge){const Mt=c.array.has(Ge.name),mr=De._f&&QM(De._f);mr&&g.validatingFields&&M([Ie],!0);const cr=await dN(De,a,C,e.shouldUseNativeValidation&&!le,Mt);if(mr&&g.validatingFields&&M([Ie]),cr[Ge.name]&&(ye.valid=!1,le))break;!le&&(pt(cr,Ge.name)?Mt?$M(r.errors,cr,Ge.name):vr(r.errors,Ge.name,cr[Ge.name]):fn(r.errors,Ge.name))}!ni(_t)&&await ie(_t,le,ye)}}return ye.valid},D=()=>{for(const oe of c.unMount){const le=pt(n,oe);le&&(le._f.refs?le._f.refs.every(ye=>!Ov(ye)):!Ov(le._f.ref))&&mt(oe)}c.unMount=new Set},ne=(oe,le)=>!e.disabled&&(oe&&le&&vr(a,oe,le),!na(H(),o)),Z=(oe,le,ye)=>R3(oe,c,{...l.mount?a:Gr(le)?o:Is(oe)?{[oe]:le}:le},ye,le),pe=oe=>bm(pt(l.mount?a:o,oe,e.shouldUnregister?pt(o,oe,[]):[])),Oe=(oe,le,ye={})=>{const Ie=pt(n,oe);let De=le;if(Ie){const Ge=Ie._f;Ge&&(!Ge.disabled&&vr(a,oe,D3(le,Ge)),De=Fp(Ge.ref)&&Wn(le)?"":le,F3(Ge.ref)?[...Ge.ref.options].forEach(_t=>_t.selected=De.includes(_t.value)):Ge.refs?nf(Ge.ref)?Ge.refs.length>1?Ge.refs.forEach(_t=>(!_t.defaultChecked||!_t.disabled)&&(_t.checked=Array.isArray(De)?!!De.find(Mt=>Mt===_t.value):De===_t.value)):Ge.refs[0]&&(Ge.refs[0].checked=!!De):Ge.refs.forEach(_t=>_t.checked=_t.value===De):Mb(Ge.ref)?Ge.ref.value="":(Ge.ref.value=De,Ge.ref.type||x.values.next({name:oe,values:{...a}})))}(ye.shouldDirty||ye.shouldTouch)&&B(oe,De,ye.shouldTouch,ye.shouldDirty,!0),ye.shouldValidate&&Ee(oe)},Ce=(oe,le,ye)=>{for(const Ie in le){const De=le[Ie],Ge=`${oe}.${Ie}`,_t=pt(n,Ge);(c.array.has(oe)||nn(De)||_t&&!_t._f)&&!tl(De)?Ce(Ge,De,ye):Oe(Ge,De,ye)}},Fe=(oe,le,ye={})=>{const Ie=pt(n,oe),De=c.array.has(oe),Ge=ri(le);vr(a,oe,Ge),De?(x.array.next({name:oe,values:{...a}}),(g.isDirty||g.dirtyFields)&&ye.shouldDirty&&x.state.next({name:oe,dirtyFields:jc(o,a),isDirty:ne(oe,Ge)})):Ie&&!Ie._f&&!Wn(Ge)?Ce(oe,Ge,ye):Oe(oe,Ge,ye),oN(oe,c)&&x.state.next({...r}),x.values.next({name:l.mount?oe:void 0,values:{...a}})},ve=async oe=>{l.mount=!0;const le=oe.target;let ye=le.name,Ie=!0;const De=pt(n,ye),Ge=()=>le.type?Iv(De._f):N3(oe),_t=Mt=>{Ie=Number.isNaN(Mt)||tl(Mt)&&isNaN(Mt.getTime())||na(Mt,pt(a,ye,Mt))};if(De){let Mt,mr;const cr=Ge(),Ir=oe.type===Pp.BLUR||oe.type===Pp.FOCUS_OUT,Ln=!KM(De._f)&&!e.resolver&&!pt(r.errors,ye)&&!De._f.deps||GM(Ir,pt(r.touchedFields,ye),r.isSubmitted,q,N),Zr=oN(ye,c,Ir);vr(a,ye,cr),Ir?(De._f.onBlur&&De._f.onBlur(oe),h&&h(0)):De._f.onChange&&De._f.onChange(oe);const Qn=B(ye,cr,Ir,!1),Ws=!ni(Qn)||Zr;if(!Ir&&x.values.next({name:ye,type:oe.type,values:{...a}}),Ln)return g.isValid&&(e.mode==="onBlur"?Ir&&P():P()),Ws&&x.state.next({name:ye,...Zr?{}:Qn});if(!Ir&&Zr&&x.state.next({...r}),e.resolver){const{errors:_n}=await re([ye]);if(_t(cr),Ie){const Ut=hN(r.errors,n,ye),Oo=hN(_n,n,Ut.name||ye);Mt=Oo.error,ye=Oo.name,mr=ni(_n)}}else M([ye],!0),Mt=(await dN(De,a,C,e.shouldUseNativeValidation))[ye],M([ye]),_t(cr),Ie&&(Mt?mr=!1:g.isValid&&(mr=await ie(n,!0)));Ie&&(De._f.deps&&Ee(De._f.deps),J(ye,mr,Mt,Qn))}},me=(oe,le)=>{if(pt(r.errors,le)&&oe.focus)return oe.focus(),1},Ee=async(oe,le={})=>{let ye,Ie;const De=rd(oe);if(e.resolver){const Ge=await V(Gr(oe)?oe:De);ye=ni(Ge),Ie=oe?!De.some(_t=>pt(Ge,_t)):ye}else oe?(Ie=(await Promise.all(De.map(async Ge=>{const _t=pt(n,Ge);return await ie(_t&&_t._f?{[Ge]:_t}:_t)}))).every(Boolean),!(!Ie&&!r.isValid)&&P()):Ie=ye=await ie(n);return x.state.next({...!Is(oe)||g.isValid&&ye!==r.isValid?{}:{name:oe},...e.resolver||!oe?{isValid:ye}:{},errors:r.errors}),le.shouldFocus&&!Ie&&nd(n,me,oe?De:c.mount),Ie},H=oe=>{const le={...l.mount?a:o};return Gr(oe)?le:Is(oe)?pt(le,oe):oe.map(ye=>pt(le,ye))},xe=(oe,le)=>({invalid:!!pt((le||r).errors,oe),isDirty:!!pt((le||r).dirtyFields,oe),error:pt((le||r).errors,oe),isValidating:!!pt(r.validatingFields,oe),isTouched:!!pt((le||r).touchedFields,oe)}),lt=oe=>{oe&&rd(oe).forEach(le=>fn(r.errors,le)),x.state.next({errors:oe?r.errors:{}})},at=(oe,le,ye)=>{const Ie=(pt(n,oe,{_f:{}})._f||{}).ref,De=pt(r.errors,oe)||{},{ref:Ge,message:_t,type:Mt,...mr}=De;vr(r.errors,oe,{...mr,...le,ref:Ie}),x.state.next({name:oe,errors:r.errors,isValid:!1}),ye&&ye.shouldFocus&&Ie&&Ie.focus&&Ie.focus()},dt=(oe,le)=>qs(oe)?x.values.subscribe({next:ye=>oe(Z(void 0,le),ye)}):Z(oe,le,!0),mt=(oe,le={})=>{for(const ye of oe?rd(oe):c.mount)c.mount.delete(ye),c.array.delete(ye),le.keepValue||(fn(n,ye),fn(a,ye)),!le.keepError&&fn(r.errors,ye),!le.keepDirty&&fn(r.dirtyFields,ye),!le.keepTouched&&fn(r.touchedFields,ye),!le.keepIsValidating&&fn(r.validatingFields,ye),!e.shouldUnregister&&!le.keepDefaultValue&&fn(o,ye);x.values.next({values:{...a}}),x.state.next({...r,...le.keepDirty?{isDirty:ne()}:{}}),!le.keepIsValid&&P()},ft=({disabled:oe,name:le,field:ye,fields:Ie,value:De})=>{if(wi(oe)&&l.mount||oe){const Ge=oe?void 0:Gr(De)?Iv(ye?ye._f:pt(Ie,le)._f):De;(oe||!oe&&!Gr(Ge))&&vr(a,le,Ge),B(le,Ge,!1,!1,!0)}},gt=(oe,le={})=>{let ye=pt(n,oe);const Ie=wi(le.disabled)||wi(e.disabled);return vr(n,oe,{...ye||{},_f:{...ye&&ye._f?ye._f:{ref:{name:oe}},name:oe,mount:!0,...le}}),c.mount.add(oe),ye?ft({field:ye,disabled:wi(le.disabled)?le.disabled:e.disabled,name:oe,value:le.value}):G(oe,!0,le.value),{...Ie?{disabled:le.disabled||e.disabled}:{},...e.progressive?{required:!!le.required,min:Lc(le.min),max:Lc(le.max),minLength:Lc(le.minLength),maxLength:Lc(le.maxLength),pattern:Lc(le.pattern)}:{},name:oe,onChange:ve,onBlur:ve,ref:De=>{if(De){gt(oe,le),ye=pt(n,oe);const Ge=Gr(De.value)&&De.querySelectorAll&&De.querySelectorAll("input,select,textarea")[0]||De,_t=VM(Ge),Mt=ye._f.refs||[];if(_t?Mt.find(mr=>mr===Ge):Ge===ye._f.ref)return;vr(n,oe,{_f:{...ye._f,..._t?{refs:[...Mt.filter(Ov),Ge,...Array.isArray(pt(o,oe))?[{}]:[]],ref:{type:Ge.type,name:oe}}:{ref:Ge}}}),G(oe,!1,void 0,Ge)}else ye=pt(n,oe,{}),ye._f&&(ye._f.mount=!1),(e.shouldUnregister||le.shouldUnregister)&&!(k3(c.array,oe)&&l.action)&&c.unMount.add(oe)}}},Tt=()=>e.shouldFocusError&&nd(n,me,c.mount),vt=oe=>{wi(oe)&&(x.state.next({disabled:oe}),nd(n,(le,ye)=>{const Ie=pt(n,ye);Ie&&(le.disabled=Ie._f.disabled||oe,Array.isArray(Ie._f.refs)&&Ie._f.refs.forEach(De=>{De.disabled=Ie._f.disabled||oe}))},0,!1))},yt=(oe,le)=>async ye=>{let Ie;if(ye&&(ye.preventDefault&&ye.preventDefault(),ye.persist&&ye.persist()),e.disabled){le&&await le({...r.errors},ye);return}let De=ri(a);if(x.state.next({isSubmitting:!0}),e.resolver){const{errors:Ge,values:_t}=await re();r.errors=Ge,De=_t}else await ie(n);if(fn(r.errors,"root"),ni(r.errors)){x.state.next({errors:{}});try{await oe(De,ye)}catch(Ge){Ie=Ge}}else le&&await le({...r.errors},ye),Tt(),setTimeout(Tt);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ni(r.errors)&&!Ie,submitCount:r.submitCount+1,errors:r.errors}),Ie)throw Ie},Ot=(oe,le={})=>{pt(n,oe)&&(Gr(le.defaultValue)?Fe(oe,ri(pt(o,oe))):(Fe(oe,le.defaultValue),vr(o,oe,ri(le.defaultValue))),le.keepTouched||fn(r.touchedFields,oe),le.keepDirty||(fn(r.dirtyFields,oe),r.isDirty=le.defaultValue?ne(oe,ri(pt(o,oe))):ne()),le.keepError||(fn(r.errors,oe),g.isValid&&P()),x.state.next({...r}))},qt=(oe,le={})=>{const ye=oe?ri(oe):o,Ie=ri(ye),De=ni(oe),Ge=De?o:Ie;if(le.keepDefaultValues||(o=ye),!le.keepValues){if(le.keepDirtyValues){const _t=new Set([...c.mount,...Object.keys(jc(o,a))]);for(const Mt of Array.from(_t))pt(r.dirtyFields,Mt)?vr(Ge,Mt,pt(a,Mt)):Fe(Mt,pt(Ge,Mt))}else{if(Fb&&Gr(oe))for(const _t of c.mount){const Mt=pt(n,_t);if(Mt&&Mt._f){const mr=Array.isArray(Mt._f.refs)?Mt._f.refs[0]:Mt._f.ref;if(Fp(mr)){const cr=mr.closest("form");if(cr){cr.reset();break}}}}n={}}a=e.shouldUnregister?le.keepDefaultValues?ri(o):{}:ri(Ge),x.array.next({values:{...Ge}}),x.values.next({values:{...Ge}})}c={mount:le.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!g.isValid||!!le.keepIsValid||!!le.keepDirtyValues,l.watch=!!e.shouldUnregister,x.state.next({submitCount:le.keepSubmitCount?r.submitCount:0,isDirty:De?!1:le.keepDirty?r.isDirty:!!(le.keepDefaultValues&&!na(oe,o)),isSubmitted:le.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:De?{}:le.keepDirtyValues?le.keepDefaultValues&&a?jc(o,a):r.dirtyFields:le.keepDefaultValues&&oe?jc(o,oe):le.keepDirty?r.dirtyFields:{},touchedFields:le.keepTouched?r.touchedFields:{},errors:le.keepErrors?r.errors:{},isSubmitSuccessful:le.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Jt=(oe,le)=>qt(qs(oe)?oe(a):oe,le);return{control:{register:gt,unregister:mt,getFieldState:xe,handleSubmit:yt,setError:at,_executeSchema:re,_getWatch:Z,_getDirty:ne,_updateValid:P,_removeUnmounted:D,_updateFieldArray:j,_updateDisabledField:ft,_getFieldArray:pe,_reset:qt,_resetDefaultValues:()=>qs(e.defaultValues)&&e.defaultValues().then(oe=>{Jt(oe,e.resetOptions),x.state.next({isLoading:!1})}),_updateFormState:oe=>{r={...r,...oe}},_disableForm:vt,_subjects:x,_proxyFormState:g,_setErrors:U,get _fields(){return n},get _formValues(){return a},get _state(){return l},set _state(oe){l=oe},get _defaultValues(){return o},get _names(){return c},set _names(oe){c=oe},get _formState(){return r},set _formState(oe){r=oe},get _options(){return e},set _options(oe){e={...e,...oe}}},trigger:Ee,register:gt,handleSubmit:yt,watch:dt,setValue:Fe,getValues:H,reset:Jt,resetField:Ot,clearErrors:lt,unregister:mt,setError:at,setFocus:(oe,le={})=>{const ye=pt(n,oe),Ie=ye&&ye._f;if(Ie){const De=Ie.refs?Ie.refs[0]:Ie.ref;De.focus&&(De.focus(),le.shouldSelect&&qs(De.select)&&De.select())}},getFieldState:xe}}function qo(t={}){const e=wr.useRef(void 0),r=wr.useRef(void 0),[n,o]=wr.useState({isDirty:!1,isValidating:!1,isLoading:qs(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:qs(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...XM(t),formState:n});const a=e.current.control;return a._options=t,Db({subject:a._subjects.state,next:l=>{O3(l,a._proxyFormState,a._updateFormState,!0)&&o({...a._formState})}}),wr.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),wr.useEffect(()=>{if(a._proxyFormState.isDirty){const l=a._getDirty();l!==n.isDirty&&a._subjects.state.next({isDirty:l})}},[a,n.isDirty]),wr.useEffect(()=>{t.values&&!na(t.values,r.current)?(a._reset(t.values,a._options.resetOptions),r.current=t.values,o(l=>({...l}))):a._resetDefaultValues()},[t.values,a]),wr.useEffect(()=>{t.errors&&a._setErrors(t.errors)},[t.errors,a]),wr.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),wr.useEffect(()=>{t.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[t.shouldUnregister,a]),e.current.formState=C3(n,a),e.current}const pN=(t,e,r)=>{if(t&&"reportValidity"in t){const n=pt(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},M3=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?pN(n.ref,r,t):n.refs&&n.refs.forEach(o=>pN(o,r,t))}},YM=(t,e)=>{e.shouldUseNativeValidation&&M3(t,e);const r={};for(const n in t){const o=pt(e.fields,n),a=Object.assign(t[n]||{},{ref:o&&o.ref});if(eB(e.names||Object.keys(t),n)){const l=Object.assign({},pt(r,n));vr(l,"root",a),vr(r,n,l)}else vr(r,n,a)}return r},eB=(t,e)=>t.some(r=>r.startsWith(e+"."));var tB=function(t,e){for(var r={};t.length;){var n=t[0],o=n.code,a=n.message,l=n.path.join(".");if(!r[l])if("unionErrors"in n){var c=n.unionErrors[0].errors[0];r[l]={message:c.message,type:c.code}}else r[l]={message:a,type:o};if("unionErrors"in n&&n.unionErrors.forEach(function(g){return g.errors.forEach(function(x){return t.push(x)})}),e){var h=r[l].types,m=h&&h[n.code];r[l]=A3(l,e,r,o,m?[].concat(m,n.message):n.message)}t.shift()}return r},Co=function(t,e,r){return r===void 0&&(r={}),function(n,o,a){try{return Promise.resolve(function(l,c){try{var h=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(m){return a.shouldUseNativeValidation&&M3({},a),{errors:{},values:r.raw?n:m}})}catch(m){return c(m)}return h&&h.then?h.then(void 0,c):h}(0,function(l){if(function(c){return Array.isArray(c?.errors)}(l))return{values:{},errors:YM(tB(l.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw l}))}catch(l){return Promise.reject(l)}}};const B3=({requirements:t,resources:e})=>{for(const r of t)if((e[r.resourceId]||-1)<r.amount)return!1;return!0},rB=async({tx:t,userId:e,baseBuildingId:r,bypass:n=!1})=>{const o=await ai.getOrThrow$({tx:t,id:r});if(!n&&!B3({requirements:o.requirements,resources:Pb({resources:await co.list$({tx:t,where:{userId:e}})})}))throw new Error("Not enough resources to construct the building.")},nB=async({tx:t,userId:e})=>{const r=["Castle","Storage"];for await(const n of r)await rB({tx:t,userId:e,baseBuildingId:(await ai.fetchOrThrow$({tx:t,where:{name:n}})).id,bypass:!0})},W3=xo({entity:_o.merge(Te.object({name:Te.string().min(1),login:Te.string().min(1),password:Te.string().min(1)})),shape:Te.object({name:Te.string().min(1),login:Te.string().min(1),password:Te.string().min(1)}),filter:bo.merge(Te.object({login:Te.string().optional(),password:Te.string().optional()}))}),wm=wo({name:"UserSource",schema:W3,db:Hn,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:o}){let a=t.selectFrom("User as u").selectAll("u");const l=h=>{const m=`%${h}%`;return a.where(g=>g.or([g("u.id","like",m),g("u.name","like",m),g("u.login","like",m)]))},c=h=>{h?.id&&(a=a.where("u.id","=",h.id)),h?.password&&(a=a.where("u.password","=",h.password)),h?.login&&(a=a.where("u.login","=",h.login)),h?.fulltext&&(a=l(h.fulltext))};return o.includes("filter")&&c(r||{}),o.includes("where")&&c(e||{}),o.includes("cursor")&&(a=a.limit(n.size).offset(n.page*n.size)),a},create$({tx:t}){return t.insertInto("User")},patch$({tx:t}){return t.updateTable("User")},delete$({tx:t}){return t.deleteFrom("User")},map:{async toCreate({entity:{password:t,...e}}){return{...e,password:t?W_.hash(t):void 0}}}}),iB=()=>Pd({mutationKey:["useRegisterMutation"],async mutationFn({login:t,name:e,password1:r}){return Hn.transaction().execute(async n=>{const o=ym.parse(await wm.create$({tx:n,shape:{name:e,login:t,password:r},entity:{name:e,login:t,password:r}}));return await nB({tx:n,userId:o.id}),o})}}),sB=Te.object({name:Te.string().min(1),login:Te.string().min(1),password1:Te.string().min(1),password2:Te.string().min(1)}).refine(t=>t.password1===t.password2,{message:"Passwords must match",path:["password1"]}),oB=({onSuccess:t})=>{const e=iB(),r=qo({resolver:Co(sB)}),n=So({isLoading:r.formState.isLoading,isSubmitting:r.formState.isSubmitting}).slots;return y.jsxs("form",{className:n.base(),onSubmit:r.handleSubmit(async o=>e.mutateAsync(o,{onSuccess:t,onError:a=>{U_({error:a,errors:[D_({error:a,schema:z_,onError:({data:l})=>{r.setError("root",{message:l.message})}})],onError:l=>{r.setError("root",{message:l.message})}})}}).catch(()=>{})),children:[y.jsx(Ms,{variant:{highlight:!0},error:r.formState.errors.root}),y.jsx($r,{formState:r.formState,name:"name",label:y.jsx(ce,{label:"Name (label)"}),children:y.jsx("input",{type:"text",className:n.input(),...r.register("name")})}),y.jsx($r,{formState:r.formState,name:"login",label:y.jsx(ce,{label:"Login (label)"}),children:y.jsx("input",{type:"text",className:n.input(),...r.register("login")})}),y.jsx($r,{formState:r.formState,name:"password1",label:y.jsx(ce,{label:"Password 1 (label)"}),children:y.jsx("input",{type:"password",className:n.input(),...r.register("password1")})}),y.jsx($r,{formState:r.formState,name:"password2",label:y.jsx(ce,{label:"Password 2 (label)"}),children:y.jsx("input",{type:"password",className:n.input(),...r.register("password2")})}),y.jsx(jn,{type:"submit",children:y.jsx(ce,{label:"Register (submit)"})})]})},aB=fr("/$locale/apps/derivean/public/register")({component:()=>{const t=T_();return y.jsx("div",{className:ad(["flex","justify-center","h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:y.jsxs("div",{className:"flex flex-col bg-slate-100 p-20 w-1/2 m-10 drop-shadow-xl",children:[y.jsx("hr",{className:"my-12 h-0.5 border-t-0 bg-slate-300"}),y.jsx(oB,{onSuccess:async e=>{Zd.set("session",e),await t({to:"/$locale/apps/derivean/game"})}})]})})}}),lB=fr("/$locale/apps/derivean/public/logout")({pendingComponent(){return y.jsx("div",{className:ad(["flex items-center justify-center h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:y.jsx(b3,{icon:kb,textTitle:y.jsx(ce,{label:"Logout (label)"}),textMessage:y.jsx(ce,{label:"Logout in progress..."}),css:{base:["p-4","bg-slate-200","rounded"]}})})},async loader({params:{locale:t}}){throw Zd.remove("session"),Mp({to:"/$locale/apps/derivean/public/login",params:{locale:t}})}}),uB=()=>Pd({mutationKey:["useLoginMutation"],async mutationFn({login:t,password:e}){return Hn.transaction().execute(async r=>{const n=await wm.fetchOrThrow$({tx:r,where:{login:t,password:W_.hash(e)},error:"Invalid login or password"});return{id:n.id,login:n.login,name:n.name}})}}),cB=Te.object({login:Te.string().min(1),password:Te.string().min(1)}),dB=({onSuccess:t})=>{const{locale:e}=vn({from:"/$locale"}),r=uB(),n=qo({resolver:Co(cB)}),o=So({isLoading:n.formState.isLoading,isSubmitting:n.formState.isSubmitting}).slots;return y.jsxs("form",{className:o.base(),onSubmit:n.handleSubmit(async a=>r.mutateAsync(a,{onSuccess:t,onError:l=>{U_({error:l,errors:[D_({error:l,schema:z_,onError:({data:c})=>{n.setError("root",{message:c.message})}})],onError:c=>{n.setError("root",{message:c.message})}})}}).catch(()=>{})),children:[y.jsx(Ms,{variant:{highlight:!0},error:n.formState.errors.root}),y.jsx($r,{formState:n.formState,name:"login",label:y.jsx(ce,{label:"Login (label)"}),children:y.jsx("input",{type:"text",className:o.input(),...n.register("login")})}),y.jsx($r,{formState:n.formState,name:"password",label:y.jsx(ce,{label:"Password (label)"}),children:y.jsx("input",{type:"password",className:o.input(),...n.register("password")})}),y.jsxs("div",{className:"flex flex-row justify-between gap-8",children:[y.jsx(Pn,{to:"/$locale/apps/derivean/public/register",params:{locale:e},children:y.jsx(ce,{label:"Register (link)"})}),y.jsx(jn,{type:"submit",children:y.jsx(ce,{label:"Login (submit)"})})]})]})},fB=fr("/$locale/apps/derivean/public/login")({component:()=>{const t=T_();return y.jsx("div",{className:ad(["flex","justify-center","h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:y.jsxs("div",{className:"flex flex-col bg-slate-100 p-20 w-1/2 m-10 drop-shadow-xl",children:[y.jsx("hr",{className:"my-12 h-0.5 border-t-0 bg-slate-300"}),y.jsx(dB,{onSuccess:async e=>{Zd.set("session",e),await t({to:"/$locale/apps/derivean/game"})}})]})})}}),hB=({entity:t,...e})=>{const{locale:r}=vn({from:"/$locale"});return y.jsxs(Xd,{...e,children:[y.jsx(gn,{icon:qb,to:"/$locale/apps/derivean/root/user/$id/view",params:{locale:r,id:t.id},children:y.jsx(ce,{label:"View detail (menu)"})}),y.jsx(gn,{icon:vo,to:"/$locale/apps/derivean/root/user/$id/building/list",params:{locale:r,id:t.id},children:y.jsx(ce,{label:"Building list (menu)"})}),y.jsx(gn,{icon:Jr,to:"/$locale/apps/derivean/root/user/$id/building/resource/list",params:{locale:r,id:t.id},children:y.jsx(ce,{label:"Building resource list (label)"})})]})},pB=t=>{const{locale:e}=vn({from:"/$locale"});return y.jsx(Cb,{title:({entity:r})=>y.jsx(Ab,{icon:qb,title:r.name}),actions:()=>y.jsx(y.Fragment,{children:y.jsx(Pn,{icon:Nb,to:"/$locale/apps/derivean/root/user/list",params:{locale:e},children:y.jsx(ce,{label:"User list (label)"})})}),...t})},$3=fr("/$locale/apps/derivean/root/user/$id")({async loader({context:{queryClient:t},params:{id:e}}){return Hn.transaction().execute(async r=>({entity:await Ib({tx:r,queryClient:t,source:wm,where:{id:e}})}))},component(){const{tva:t}=fi({from:"__root__"}),{entity:e}=$3.useLoaderData(),r=t().slots;return y.jsxs("div",{className:r.base(),children:[y.jsx(pB,{entity:e}),y.jsx(hB,{entity:e}),y.jsx(wa,{})]})}}),mB=fr("/$locale/apps/derivean/root/resource/$id")({component:()=>y.jsx("div",{children:'Hello "/$locale/apps/derivean/root/resource/$id"!'})}),yB=({entity:t,...e})=>{const{locale:r}=vn({from:"/$locale"});return y.jsxs(Xd,{...e,children:[y.jsx(gn,{icon:vo,to:"/$locale/apps/derivean/root/building/$id/view",params:{locale:r,id:t.id},children:y.jsx(ce,{label:"Building detail (label)"})}),y.jsx(gn,{icon:Jr,to:"/$locale/apps/derivean/root/building/$id/resource/list",params:{locale:r,id:t.id},children:y.jsx(ce,{label:"Building resource list (label)"})})]})},gB=t=>{const{locale:e}=vn({from:"/$locale"});return y.jsx(Cb,{title:({entity:r})=>y.jsx(Ab,{icon:vo,title:r.baseBuilding.name}),actions:()=>y.jsx(y.Fragment,{children:y.jsx(Pn,{icon:Nb,to:"/$locale/apps/derivean/root/building/list",params:{locale:e},children:y.jsx(ce,{label:"Building list (label)"})})}),...t})},z3=fr("/$locale/apps/derivean/root/building/$id")({component(){const{tva:t}=fi({from:"__root__"}),{entity:e}=z3.useLoaderData(),r=t().slots;return y.jsxs("div",{className:r.base(),children:[y.jsx(gB,{entity:e}),y.jsx(yB,{entity:e}),y.jsx(wa,{})]})},async loader({context:{kysely:t,queryClient:e},params:{id:r}}){return t.transaction().execute(async n=>({entity:await Ib({tx:n,queryClient:e,source:il,where:{id:r}})}))}}),mN=ko(),vB=[mN({name:"name",header(){return y.jsx(ce,{label:"User name (label)"})},render({data:t,value:e}){const{locale:r}=vn({from:"/$locale"});return y.jsx(Pn,{to:"/$locale/apps/derivean/root/user/$id/view",params:{locale:r,id:t.id},children:e})},size:14}),mN({name:"login",header(){return y.jsx(ce,{label:"User login (label)"})},render({value:t}){return t},size:14})],_B=({table:t,...e})=>y.jsx(Eo,{table:No({...t,columns:vB}),...e}),Uh=fr("/$locale/apps/derivean/root/user/list/")({validateSearch:Qi(Ki(W3)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n}}){return e.transaction().execute(o=>Hi({tx:o,queryClient:t,source:wm,filter:r,cursor:n}))},component:()=>{const{data:t,count:e}=Uh.useLoaderData(),{filter:r,cursor:n,selection:o}=Uh.useSearch(),a=Uh.useNavigate(),{tva:l}=fi({from:"__root__"}),c=l().slots;return y.jsx("div",{className:c.base(),children:y.jsx(_B,{table:{data:t,filter:{value:r,set(h){a({search:({cursor:m,...g})=>({...g,filter:h,cursor:{...m,page:0}})})}},selection:{type:"multi",value:o,set(h){a({search(m){return{...m,selection:h}}})}}},fulltext:{onFulltext:ys(a),value:r?.fulltext},cursor:{count:e,cursor:n,textTotal:y.jsx(ce,{label:"Number of items"}),onPage:ps(a),onSize:ms(a)}})})}}),yN=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:o=So,css:a})=>{const l=qo({resolver:Co(gm.shape),defaultValues:{sort:0,...e}}),c=Q.useContext(hs),h=o({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return y.jsxs("form",{className:h.base(),onSubmit:bl({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:c})}}),children:[y.jsx(Ms,{variant:{highlight:!0},error:l.formState.errors.root}),y.jsx($r,{formState:l.formState,name:"code",label:y.jsx(ce,{label:"Tag code (label)"}),required:!0,children:y.jsx("input",{type:"text",className:h.input(),...l.register("code")})}),y.jsx($r,{formState:l.formState,name:"label",label:y.jsx(ce,{label:"Resource description (label)"}),required:!0,children:y.jsx("input",{type:"text",className:h.input(),...l.register("label")})}),y.jsx($r,{formState:l.formState,name:"group",label:y.jsx(ce,{label:"Tag group (label)"}),children:y.jsx("input",{type:"text",className:h.input(),...l.register("group")})}),y.jsx($r,{formState:l.formState,name:"sort",label:y.jsx(ce,{label:"Tag sort (label)"}),children:y.jsx("input",{type:"number",className:h.input(),...l.register("sort")})}),y.jsx("div",{className:"flex flex-row justify-between gap-8",children:y.jsx(jn,{iconEnabled:Tp,type:"submit",children:y.jsx(ce,{label:"Save tag (submit)"})})})]})},Rv=ko(),bB=[Rv({name:"code",header(){return y.jsx(ce,{label:"Tag code (label)"})},render({value:t}){return t},size:14}),Rv({name:"label",header(){return y.jsx(ce,{label:"Tag label (label)"})},render({value:t}){return t},size:14}),Rv({name:"group",header(){return y.jsx(ce,{label:"Tag group (label)"})},render({value:t}){return t},filter:{path:"group",onFilter({data:t,filter:e}){e.shallow("group",t.group)}},size:24})],U3=({group:t,table:e,...r})=>{const n=Yd({sources:[el,Os,ed]});return y.jsx(Eo,{table:No({...e,columns:bB}),action:{table(){return y.jsx(ci,{children:y.jsx(rn,{label:y.jsx(ce,{label:"Create tag (menu)"}),textTitle:y.jsx(ce,{label:"Create tag (modal)"}),icon:Tp,children:y.jsx(yN,{defaultValues:{group:t},mutation:xl({source:el,async wrap(o){return qr.promise(o(),{loading:y.jsx(ce,{label:"Saving tag (label)"}),success:y.jsx(ce,{label:"Tag successfully saved (label)"}),error:y.jsx(ce,{label:"Cannot save tag (label)"})})}}),onSuccess:async({modalContext:o})=>{await n(),o?.close()}})})})},row({data:o}){return y.jsxs(ci,{children:[y.jsx(rn,{label:y.jsx(ce,{label:"Edit tag (menu)"}),textTitle:y.jsx(ce,{label:"Edit tag (modal)"}),icon:Tp,children:y.jsx(yN,{defaultValues:{group:t,...o},mutation:ka({source:el,async wrap(a){return qr.promise(a(),{loading:y.jsx(ce,{label:"Saving tag (label)"}),success:y.jsx(ce,{label:"Tag successfully saved (label)"}),error:y.jsx(ce,{label:"Cannot save tag (label)"})})},async toPatch({shape:a}){return{entity:a,filter:{id:o.id}}}}),onSuccess:async({modalContext:a})=>{await n(),a?.close()}})}),y.jsx(rn,{icon:Na,label:y.jsx(ce,{label:"Delete tag (label)"}),textTitle:y.jsx(ce,{label:"Delete tag (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:y.jsx(wl,{source:el,textContent:y.jsx(ce,{label:"Tag delete (content)"}),filter:{id:o.id},invalidator:n})})]})}},...r})},Vh=fr("/$locale/apps/derivean/root/tag/list/")({validateSearch:Qi(Ki(gm)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n}}){return e.transaction().execute(async o=>Hi({tx:o,queryClient:t,source:el,filter:r,cursor:n}))},component:()=>{const{data:t,count:e}=Vh.useLoaderData(),{filter:r,cursor:n,selection:o}=Vh.useSearch(),a=Vh.useNavigate(),{tva:l}=fi({from:"__root__"}),c=l().slots;return y.jsx("div",{className:c.base(),children:y.jsx(U3,{table:{data:t,filter:{value:r,set(h){a({search:({cursor:m,...g})=>({...g,filter:h,cursor:{...m,page:0}})})}},selection:{type:"multi",value:o,set(h){a({search(m){return{...m,selection:h}}})}}},fulltext:{onFulltext:ys(a),value:r?.fulltext},cursor:{count:e,cursor:n,textTotal:y.jsx(ce,{label:"Number of items"}),onPage:ps(a),onSize:ms(a)}})})}}),wB=({group:t,...e})=>y.jsx(rM,{table:r=>y.jsx(U3,{group:t,...r}),render:({entities:r})=>y.jsx(w3,{tags:r}),source:el,useListQuery:({where:r,...n})=>Ob({...n,where:{...r,group:t}}),...e}),gN=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:o=So,css:a})=>{const l=qo({resolver:Co($u.shape),defaultValues:e}),c=Q.useContext(hs),h=o({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return y.jsxs("form",{className:h.base(),onSubmit:bl({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:c})}}),children:[y.jsx(Ms,{variant:{highlight:!0},error:l.formState.errors.root}),y.jsx($r,{formState:l.formState,name:"name",label:y.jsx(ce,{label:"Resource name (label)"}),children:y.jsx("input",{type:"text",className:h.input(),...l.register("name")})}),y.jsx($r,{formState:l.formState,name:"tagIds",label:y.jsx(ce,{label:"Resource tags (label)"}),children:y.jsx(ml,{control:l.control,name:"tagIds",render:({field:{ref:m,...g}})=>y.jsx(wB,{icon:Jr,group:"resource",titleText:y.jsx(ce,{label:"Select resource tags (title)"}),allowEmpty:!0,...g})})}),y.jsx("div",{className:"flex flex-row justify-between gap-8",children:y.jsx(jn,{iconEnabled:Jr,type:"submit",children:y.jsx(ce,{label:"Save resource (submit)"})})})]})},vN=ko(),xB=[vN({name:"name",header(){return y.jsx(ce,{label:"Resource name (label)"})},render({data:t,value:e}){const{locale:r}=vn({from:"/$locale"});return y.jsx(Pn,{to:"/$locale/apps/derivean/root/resource/$id/view",params:{locale:r,id:t.id},children:e})},size:18}),vN({name:"tags",header(){return y.jsx(ce,{label:"Resource tags (label)"})},render({value:t}){return y.jsx(w3,{tags:t})},size:32})],V3=({table:t,...e})=>{const r=Yd({sources:[Os,ed]});return y.jsx(Eo,{table:No({...t,columns:xB}),action:{table(){return y.jsx(ci,{children:y.jsx(rn,{label:y.jsx(ce,{label:"Create resource (menu)"}),textTitle:y.jsx(ce,{label:"Create resource (modal)"}),icon:Jr,children:y.jsx(gN,{mutation:xl({source:Os,async wrap(n){return qr.promise(n(),{loading:y.jsx(ce,{label:"Saving resource (label)"}),success:y.jsx(ce,{label:"Resource successfully saved (label)"}),error:y.jsx(ce,{label:"Cannot save resource (label)"})})}}),onSuccess:async({modalContext:n})=>{await r(),n?.close()}})})})},row({data:n}){return y.jsxs(ci,{children:[y.jsx(rn,{label:y.jsx(ce,{label:"Edit resource (menu)"}),textTitle:y.jsx(ce,{label:"Edit resource (modal)"}),icon:Jr,children:y.jsx(gN,{defaultValues:n,mutation:ka({source:Os,async wrap(o){return qr.promise(o(),{loading:y.jsx(ce,{label:"Saving resource (label)"}),success:y.jsx(ce,{label:"Resource successfully saved (label)"}),error:y.jsx(ce,{label:"Cannot save resource (label)"})})},async toPatch(){return{filter:{id:n.id}}}}),onSuccess:async({modalContext:o})=>{await r(),o?.close()}})}),y.jsx(rn,{icon:Na,label:y.jsx(ce,{label:"Delete resource (label)"}),textTitle:y.jsx(ce,{label:"Delete resource (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:y.jsx(wl,{source:Os,textContent:y.jsx(ce,{label:"Resource delete (content)"}),filter:{id:n.id},invalidator:r})})]})}},...e})},Hh=fr("/$locale/apps/derivean/root/resource/list/")({validateSearch:Qi(Ki($u)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n}}){return e.transaction().execute(o=>Hi({tx:o,queryClient:t,source:Os,filter:r,cursor:n}))},component:()=>{const{data:t,count:e}=Hh.useLoaderData(),{filter:r,cursor:n,selection:o}=Hh.useSearch(),a=Hh.useNavigate(),{tva:l}=fi({from:"__root__"}),c=l().slots;return y.jsx("div",{className:c.base(),children:y.jsx(V3,{table:{data:t,filter:{value:r,set(h){a({search:({cursor:m,...g})=>({...g,filter:h,cursor:{...m,page:0}})})}},selection:{type:"multi",value:o,set(h){a({search(m){return{...m,selection:h}}})}}},fulltext:{onFulltext:ys(a),value:r?.fulltext},cursor:{count:e,cursor:n,textTotal:y.jsx(ce,{label:"Number of items"}),onPage:ps(a),onSize:ms(a)}})})}}),SB=fr("/$locale/apps/derivean/root/building/list/")({component:()=>y.jsx("div",{children:'Hello "/$locale/apps/derivean/root/building/list/"!'})}),EB=ko(),NB=[EB({name:"baseBuilding.name",header(){return y.jsx(ce,{label:"Base building name (label)"})},render({data:t,value:e}){const{locale:r}=vn({from:"/$locale"});return y.jsx(Pn,{to:"/$locale/apps/derivean/game/building/$id/view",params:{locale:r,id:t.id},children:e})},size:14})],kB=({table:t,...e})=>y.jsx(Eo,{table:No({...t,columns:NB}),...e}),Qh=fr("/$locale/apps/derivean/game/building/list/")({validateSearch:Qi(Ki(tf)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e,session:r},deps:{filter:n,cursor:o}}){const a=await r();return e.transaction().execute(async l=>Hi({tx:l,queryClient:t,source:il,where:{userId:a.id},filter:n,cursor:o}))},component:()=>{const{data:t,count:e}=Qh.useLoaderData(),{filter:r,cursor:n,selection:o}=Qh.useSearch(),a=Qh.useNavigate(),{tva:l}=fi({from:"__root__"}),c=l().slots;return y.jsx("div",{className:c.base(),children:y.jsx(kB,{table:{data:t,filter:{value:r,set(h){a({search:({cursor:m,...g})=>({...g,filter:h,cursor:{...m,page:0}})})}},selection:{type:"multi",value:o,set(h){a({search(m){return{...m,selection:h}}})}}},fulltext:{onFulltext:ys(a),value:r?.fulltext},cursor:{count:e,cursor:n,textTotal:y.jsx(ce,{label:"Number of items"}),onPage:ps(a),onSize:ms(a)}})})}}),N_="icon-[vaadin--storage]",qB=({entity:t,...e})=>{const{locale:r}=vn({from:"/$locale"});return y.jsxs(Xd,{...e,children:[y.jsx(gn,{icon:go,to:"/$locale/apps/derivean/root/building/base/$id/view",params:{locale:r,id:t.id},children:y.jsx(ce,{label:"View detail (menu)"})}),y.jsx(gn,{icon:Jr,to:"/$locale/apps/derivean/root/building/base/$id/requirement/list",params:{locale:r,id:t.id},children:y.jsx(ce,{label:"Base building resource requirement (menu)"})}),y.jsx(gn,{icon:N_,to:"/$locale/apps/derivean/root/building/base/$id/limit/list",params:{locale:r,id:t.id},children:y.jsx(ce,{label:"Base building limit list (menu)"})}),y.jsx(gn,{icon:"icon-[carbon--software-resource-cluster]",to:"/$locale/apps/derivean/root/building/base/$id/resource/list",params:{locale:r,id:t.id},children:y.jsx(ce,{label:"Base building resource list (menu)"})}),y.jsx(gn,{icon:ID,to:"/$locale/apps/derivean/root/building/base/$id/edit",params:{locale:r,id:t.id},children:y.jsx(ce,{label:"Base building edit (menu)"})})]})},CB=t=>{const{locale:e}=vn({from:"/$locale"});return y.jsx(Cb,{title:({entity:r})=>y.jsx(Ab,{icon:go,title:r.name}),actions:()=>y.jsx(Pn,{icon:Nb,to:"/$locale/apps/derivean/root/building/base/list",params:{locale:e},children:y.jsx(ce,{label:"Base building list (label)"})}),...t})},H3=fr("/$locale/apps/derivean/root/building/base/$id")({async loader({context:{queryClient:t},params:{id:e}}){return Hn.transaction().execute(async r=>({entity:await Ib({tx:r,queryClient:t,source:ai,where:{id:e}})}))},component(){const{tva:t}=fi({from:"__root__"}),{entity:e}=H3.useLoaderData(),r=t().slots;return y.jsxs("div",{className:r.base(),children:[y.jsx(CB,{entity:e}),y.jsx(qB,{entity:e}),y.jsx(wa,{})]})}}),OB=fr("/$locale/apps/derivean/root/user/$id/view/")({component:()=>"yep"}),IB=fr("/$locale/apps/derivean/root/resource/$id/view/")({component:()=>y.jsx("div",{children:'Hello "/$locale/apps/derivean/root/resource/$id/view/"!'})}),k_=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:o=So,css:a})=>{const l=qo({resolver:Co(ef.shape),defaultValues:{preview:!0,...e}}),c=Q.useContext(hs),h=o({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return y.jsxs("form",{className:h.base(),onSubmit:bl({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:c})}}),children:[y.jsx(Ms,{variant:{highlight:!0},error:l.formState.errors.root}),y.jsx($r,{formState:l.formState,name:"name",label:y.jsx(ce,{label:"Base building name (label)"}),required:!0,children:y.jsx("input",{type:"text",className:h.input(),...l.register("name")})}),y.jsx($r,{formState:l.formState,name:"preview",label:y.jsx(ce,{label:"Base building preview (label)"}),hint:y.jsx(ce,{label:"Base building preview (hint)"}),required:!0,children:y.jsx(ml,{control:l.control,name:"preview",render:({field:{ref:m,...g}})=>y.jsx(kk,{...g})})}),y.jsx($r,{formState:l.formState,name:"cycles",label:y.jsx(ce,{label:"Base building cycles (label)"}),hint:y.jsx(ce,{label:"Base building cycles (hint)"}),required:!0,children:y.jsx("input",{type:"number",className:h.input(),...l.register("cycles")})}),y.jsx($r,{formState:l.formState,name:"limit",label:y.jsx(ce,{label:"Base building limit (label)"}),hint:y.jsx(ce,{label:"Base building limit (hint)"}),required:!0,children:y.jsx("input",{type:"number",className:h.input(),...l.register("limit")})}),y.jsx("div",{className:"flex flex-row justify-between gap-8",children:y.jsx(jn,{iconEnabled:go,type:"submit",children:y.jsx(ce,{label:"Save base building (submit)"})})})]})},Eh=ko(),RB=[Eh({name:"name",header(){return y.jsx(ce,{label:"Base building name (label)"})},render({data:t,value:e}){const{locale:r}=vn({from:"/$locale"});return y.jsx(Pn,{to:"/$locale/apps/derivean/root/building/base/$id/view",params:{locale:r,id:t.id},children:e})},size:10}),Eh({name:"preview",header(){return y.jsx(ce,{label:"Base building preview (label)"})},render({value:t}){return y.jsx(Nk,{value:t})},size:14}),Eh({name:"cycles",header(){return y.jsx(ce,{label:"Base building cycles (label)"})},render({value:t}){return qu({number:t})},size:14}),Eh({name:"limit",header(){return y.jsx(ce,{label:"Base building limit (label)"})},render({value:t}){return qu({number:t,empty:Ci.text("Unlimited (label)")})},size:14})],Q3=({table:t,...e})=>{const r=Yd({sources:[ai]});return y.jsx(Eo,{table:No({...t,columns:RB}),action:{table(){return y.jsx(ci,{children:y.jsx(rn,{label:y.jsx(ce,{label:"Create base building (menu)"}),textTitle:y.jsx(ce,{label:"Create base building (modal)"}),icon:go,children:y.jsx(k_,{mutation:xl({source:ai,async wrap(n){return qr.promise(n(),{loading:y.jsx(ce,{label:"Saving base building (label)"}),success:y.jsx(ce,{label:"Base building successfully saved (label)"}),error:y.jsx(ce,{label:"Cannot save base building (label)"})})}}),onSuccess:async({modalContext:n})=>{await r(),n?.close()}})})})},row({data:n}){return y.jsxs(ci,{children:[y.jsx(rn,{label:y.jsx(ce,{label:"Edit base building (menu)"}),textTitle:y.jsx(ce,{label:"Edit base building (modal)"}),icon:go,children:y.jsx(k_,{defaultValues:n,mutation:ka({source:ai,async wrap(o){return qr.promise(o(),{loading:y.jsx(ce,{label:"Saving base building (label)"}),success:y.jsx(ce,{label:"Base building successfully saved (label)"}),error:y.jsx(ce,{label:"Cannot save base building (label)"})})},async toPatch(){return{filter:{id:n.id}}}}),onSuccess:async({modalContext:o})=>{await r(),o?.close()}})}),y.jsx(rn,{icon:Na,label:y.jsx(ce,{label:"Delete base building (label)"}),textTitle:y.jsx(ce,{label:"Delete base building (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:y.jsx(wl,{source:ai,textContent:y.jsx(ce,{label:"Base building delete (content)"}),filter:{id:n.id},invalidator:r})})]})}},...e})},Kh=fr("/$locale/apps/derivean/root/building/base/list/")({validateSearch:Qi(Ki(ef)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n}}){return e.transaction().execute(async o=>Hi({tx:o,queryClient:t,source:ai,filter:r,cursor:n}))},component:()=>{const{data:t,count:e}=Kh.useLoaderData(),{filter:r,cursor:n,selection:o}=Kh.useSearch(),a=Kh.useNavigate(),{tva:l}=fi({from:"__root__"}),c=l().slots;return y.jsx("div",{className:c.base(),children:y.jsx(Q3,{table:{data:t,filter:{value:r,set(h){a({search:({cursor:m,...g})=>({...g,filter:h,cursor:{...m,page:0}})})}},selection:{type:"multi",value:o,set(h){a({search(m){return{...m,selection:h}}})}}},fulltext:{onFulltext:ys(a),value:r?.fulltext},cursor:{count:e,cursor:n,textTotal:y.jsx(ce,{label:"Number of items"}),onPage:ps(a),onSize:ms(a)}})})}}),AB=t=>y.jsx(qk,{items:[{id:"name",label:y.jsx(ce,{label:"Building name (label)"}),render({entity:e}){return e.baseBuilding.name}}],...t}),TB=fr("/$locale/apps/derivean/root/building/$id/view/")({component(){const{entity:t}=gl({from:"/$locale/apps/derivean/root/building/$id"});return y.jsx("div",{className:"w-1/2 mx-auto",children:y.jsx(AB,{entity:t})})}}),Wb=t=>y.jsx(_3,{icon:Jr,titleText:y.jsx(ce,{label:"Select resource (title)"}),table:V3,render:({entity:e})=>e.name,source:Os,useListQuery:Ob,...t}),_N=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:o=So,css:a})=>{const l=qo({resolver:Co(rf.shape),defaultValues:e}),c=Q.useContext(hs),h=o({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return y.jsxs("form",{className:h.base(),onSubmit:bl({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:c})}}),children:[y.jsx(Ms,{variant:{highlight:!0},error:l.formState.errors.root}),y.jsx($r,{formState:l.formState,name:"resourceId",label:y.jsx(ce,{label:"Resource name (label)"}),children:y.jsx(ml,{control:l.control,name:"resourceId",render:({field:{ref:m,...g}})=>y.jsx(Wb,{icon:Jr,titleText:y.jsx(ce,{label:"Select resource (title)"}),allowEmpty:!0,...g})})}),y.jsx($r,{formState:l.formState,name:"amount",label:y.jsx(ce,{label:"Amount (label)"}),children:y.jsx("input",{type:"number",className:h.input(),...l.register("amount")})}),y.jsx("div",{className:"flex flex-row justify-between gap-8",children:y.jsx(jn,{iconEnabled:Jr,type:"submit",children:y.jsx(ce,{label:"Save resources item (submit)"})})})]})},PB=({source:t,resourceId:e,fallback:r=void 0})=>{const n=t.find(o=>o.resourceId===e);return n===void 0?r:n.limit},FB=({limits:t,resourceId:e,amount:r})=>{const n=PB({source:t,resourceId:e});return y.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[y.jsx("div",{className:"",children:qu({number:r})}),n===void 0?null:y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"text-slate-500",children:"/"}),y.jsx("div",{className:"font-light text-slate-500",children:n})]})]})},Av=ko(),jB=[Av({name:"building.baseBuilding.name",header(){return y.jsx(ce,{label:"Building name (label)"})},render({value:t}){return t},filter:{path:"buildingId",onFilter({data:t,filter:e}){e.shallow("buildingId",t.buildingId)}},size:15}),Av({name:"resource.name",header(){return y.jsx(ce,{label:"Resource name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceId",t.resourceId)}},size:18}),Av({name:"amount",header(){return y.jsx(ce,{label:"Amount (label)"})},render({data:t,value:e}){return y.jsx(FB,{limits:t.building.baseBuilding.limits,resourceId:t.resourceId,amount:e})},size:18})],$b=({buildingId:t,table:e,...r})=>y.jsx(Eo,{table:No({...e,columns:jB}),action:{table(){return y.jsx(ci,{children:y.jsx(rn,{label:y.jsx(ce,{label:"Create resource item (menu)"}),textTitle:y.jsx(ce,{label:"Create resource item (modal)"}),icon:Jr,hidden:!t,children:y.jsx(_N,{mutation:xl({source:co,async wrap(n){return qr.promise(n(),{loading:y.jsx(ce,{label:"Saving resource item (label)"}),success:y.jsx(ce,{label:"Resource item successfully saved (label)"}),error:y.jsx(ce,{label:"Cannot save resource item (label)"})})},async toCreate({shape:n}){return{entity:{...n,buildingId:t}}}}),onSuccess:async({modalContext:n})=>{n?.close()}})})})},row({data:n}){return y.jsxs(ci,{children:[y.jsx(rn,{label:y.jsx(ce,{label:"Edit resource item (menu)"}),textTitle:y.jsx(ce,{label:"Edit resource item (modal)"}),icon:Jr,children:y.jsx(_N,{defaultValues:n,mutation:ka({source:co,async wrap(o){return qr.promise(o(),{loading:y.jsx(ce,{label:"Saving resource item (label)"}),success:y.jsx(ce,{label:"Resource item successfully saved (label)"}),error:y.jsx(ce,{label:"Cannot save resource item (label)"})})},async toPatch(){return{filter:{id:n.id}}}}),onSuccess:async({modalContext:o})=>{o?.close()}})}),y.jsx(rn,{icon:Na,label:y.jsx(ce,{label:"Delete resource item (label)"}),textTitle:y.jsx(ce,{label:"Delete resource item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:y.jsx(wl,{source:co,textContent:y.jsx(ce,{label:"Resource item delete (content)"}),filter:{id:n.id}})})]})}},...r}),K3=({icon:t,title:e,amount:r})=>y.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[t?Jp(t)?y.jsx(_r,{icon:t,css:{base:["text-slate-500"]}}):t:null,y.jsx("div",{className:"text-slate-500",children:e}),y.jsx("div",{className:"font-bold text-slate-700",children:qu({number:r.map(({amount:n})=>n).reduce((n,o)=>n+o,0)})})]}),Gh=fr("/$locale/apps/derivean/game/building/resource/list/")({validateSearch:Qi(Ki(rf)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e,session:r},deps:{filter:n,cursor:o}}){const a=await r();return e.transaction().execute(async l=>Hi({tx:l,queryClient:t,source:co,filter:n,cursor:o,where:{userId:a.id}}))},component(){const{data:t,count:e}=Gh.useLoaderData(),{filter:r,cursor:n,selection:o}=Gh.useSearch(),a=Gh.useNavigate(),{tva:l}=fi({from:"__root__"}),c=l().slots;return y.jsxs("div",{className:c.base(),children:[y.jsx(K3,{icon:Jr,title:y.jsx(ce,{label:"Resource sum (label)"}),amount:t}),y.jsx($b,{table:{data:t,filter:{value:r,set(h){a({search:({cursor:m,...g})=>({...g,filter:h,cursor:{...m,page:0}})})}},selection:{type:"multi",value:o,set(h){a({search(m){return{...m,selection:h}}})}}},fulltext:{onFulltext:ys(a),value:r?.fulltext},cursor:{count:e,cursor:n,textTotal:y.jsx(ce,{label:"Number of items"}),onPage:ps(a),onSize:ms(a)}})]})}}),LB=lr({slot:{base:["flex","flex-col","gap-2"],item:["flex","flex-col","gap-2","bg-slate-50","hover:bg-slate-100","border","border-slate-300","hover:border-slate-400","p-2","rounded-lg"],title:["font-bold"]},variant:{canBuild:{true:[]}},match:[{if:{canBuild:!0},then:{item:["bg-emerald-50","hover:bg-emerald-100","border-emerald-300","hover:border-emerald-400"]}}],defaults:{canBuild:!1}}),G3=({requirements:t})=>y.jsx(YD,{items:t,render:({entity:e})=>y.jsxs("div",{className:ad(["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2"]),children:[y.jsx("div",{className:ad(e.passive?"text-emerald-700":"text-amber-700"),children:e.resource.name}),y.jsxs("div",{className:"text-sm font-bold text-slate-500",children:["x",qu({number:e.amount})]})]})}),DB=({resources:t,entities:e,variant:r,tva:n=LB,css:o})=>{const a=n({...r,css:o}).slots;return y.jsx("div",{className:a.base(),children:e.map(l=>{const c=B3({resources:t,requirements:l.requirements});return y.jsxs("div",{className:a.item({canBuild:c}),children:[y.jsxs("div",{className:"flex flex-row justify-between",children:[y.jsx("div",{className:a.title(),children:l.name}),y.jsx("div",{children:y.jsx(G3,{requirements:l.requirements})})]}),y.jsxs("div",{className:"flex flex-row justify-between",children:[y.jsx(jn,{iconEnabled:vo,iconDisabled:vo,variant:{variant:"secondary"},disabled:!c,children:y.jsx(ce,{label:"Build (label)"})}),y.jsx("div",{})]})]},l.id)})})},J3=fr("/$locale/apps/derivean/game/building/base/list/")({validateSearch:Qi(Ki(ef)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n}}){return e.transaction().execute(async o=>({data:await oM({tx:o,queryClient:t,source:ai,filter:r,cursor:n})}))},component(){const{data:t}=J3.useLoaderData(),{resources:e}=gl({from:"/$locale/apps/derivean/game"});return y.jsx("div",{children:y.jsx(DB,{resources:e,entities:t})})}}),MB=fr("/$locale/apps/derivean/game/building/$id/view/")({component(){return"detail"}}),BB=t=>y.jsx(_3,{icon:go,titleText:y.jsx(ce,{label:"Select base building (title)"}),table:Q3,render:({entity:e})=>e.name,source:ai,useListQuery:Ob,...t}),bN=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:o=So,css:a})=>{const l=qo({resolver:Co(tf.shape),defaultValues:e}),c=Q.useContext(hs),h=o({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return y.jsxs("form",{className:h.base(),onSubmit:bl({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:c})}}),children:[y.jsx(Ms,{variant:{highlight:!0},error:l.formState.errors.root}),y.jsx($r,{formState:l.formState,name:"baseBuildingId",label:y.jsx(ce,{label:"Base building name (label)"}),children:y.jsx(ml,{control:l.control,name:"baseBuildingId",render:({field:{ref:m,...g}})=>y.jsx(BB,{icon:go,titleText:y.jsx(ce,{label:"Select base building (title)"}),allowEmpty:!0,...g})})}),y.jsx("div",{className:"flex flex-row justify-between gap-8",children:y.jsx(jn,{iconEnabled:Jr,type:"submit",children:y.jsx(ce,{label:"Save Building (submit)"})})})]})},WB=ko(),$B=[WB({name:"baseBuilding.name",header(){return y.jsx(ce,{label:"Base building name (label)"})},render({data:t,value:e}){const{locale:r}=vn({from:"/$locale"});return y.jsx(Pn,{to:"/$locale/apps/derivean/root/building/$id/view",params:{locale:r,id:t.id},children:e})},size:14})],zB=({userId:t,table:e,...r})=>y.jsx(Eo,{table:No({...e,columns:$B}),action:{table(){return y.jsx(ci,{children:y.jsx(rn,{label:y.jsx(ce,{label:"Create building (menu)"}),textTitle:y.jsx(ce,{label:"Create building (modal)"}),icon:Jr,children:y.jsx(bN,{mutation:xl({source:il,async wrap(n){return qr.promise(n(),{loading:y.jsx(ce,{label:"Saving building (label)"}),success:y.jsx(ce,{label:"Building successfully saved (label)"}),error:y.jsx(ce,{label:"Cannot save building (label)"})})},async toCreate({shape:n}){return{entity:{...n,userId:t}}}}),onSuccess:async({modalContext:n})=>{n?.close()}})})})},row({data:n}){return y.jsxs(ci,{children:[y.jsx(rn,{label:y.jsx(ce,{label:"Edit building (menu)"}),textTitle:y.jsx(ce,{label:"Edit building (modal)"}),icon:vo,children:y.jsx(bN,{defaultValues:n,mutation:ka({source:il,async wrap(o){return qr.promise(o(),{loading:y.jsx(ce,{label:"Saving building (label)"}),success:y.jsx(ce,{label:"Building successfully saved (label)"}),error:y.jsx(ce,{label:"Cannot save building (label)"})})},async toPatch(){return{filter:{id:n.id}}}}),onSuccess:async({modalContext:o})=>{o?.close()}})}),y.jsx(rn,{icon:Na,label:y.jsx(ce,{label:"Delete building (label)"}),textTitle:y.jsx(ce,{label:"Delete building (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:y.jsx(wl,{source:il,textContent:y.jsx(ce,{label:"Building delete (content)"}),filter:{id:n.id}})})]})}},...r}),Wc=fr("/$locale/apps/derivean/root/user/$id/building/list/")({validateSearch:Qi(Ki(tf)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n},params:{id:o}}){return e.transaction().execute(a=>Hi({tx:a,queryClient:t,source:il,filter:r,cursor:n,where:{userId:o}}))},component(){const{data:t,count:e}=Wc.useLoaderData(),{filter:r,cursor:n,selection:o}=Wc.useSearch(),{id:a}=Wc.useParams(),l=Wc.useNavigate(),{tva:c}=fi({from:"__root__"}),h=c().slots;return y.jsx("div",{className:h.base(),children:y.jsx(zB,{userId:a,table:{data:t,filter:{value:r,set(m){l({search:({cursor:g,...x})=>({...x,filter:m,cursor:{...g,page:0}})})}},selection:{type:"multi",value:o,set(m){l({search(g){return{...g,selection:m}}})}}},fulltext:{onFulltext:ys(l),value:r?.fulltext},cursor:{count:e,cursor:n,textTotal:y.jsx(ce,{label:"Number of items"}),onPage:ps(l),onSize:ms(l)}})})}}),UB=t=>y.jsx(qk,{items:[{id:"name",label:y.jsx(ce,{label:"Base building name (label)"}),render({entity:e}){return e.name}},{id:"requirement.resources",label:y.jsx(ce,{label:"Base building requirements (label)"}),render({entity:e}){return y.jsx(G3,{requirements:e.requirements})}}],...t}),VB=fr("/$locale/apps/derivean/root/building/base/$id/view/")({component:()=>{const{entity:t}=gl({from:"/$locale/apps/derivean/root/building/base/$id"});return y.jsx("div",{className:"w-1/2 mx-auto",children:y.jsx(UB,{entity:t})})}}),Z3=fr("/$locale/apps/derivean/root/building/base/$id/edit/")({component:()=>{const{entity:t}=gl({from:"/$locale/apps/derivean/root/building/base/$id"}),e=Z3.useNavigate(),r=Yd({sources:[ai]});return y.jsx("div",{className:"w-1/2 mx-auto",children:y.jsx(k_,{defaultValues:t,mutation:ka({source:ai,async wrap(n){return qr.promise(n(),{loading:y.jsx(ce,{label:"Saving base building (label)"}),success:y.jsx(ce,{label:"Base building successfully saved (label)"}),error:y.jsx(ce,{label:"Cannot save base building (label)"})})},async toPatch(){return{filter:{id:t.id}}}}),onSuccess:async()=>{await r(),e({to:"/$locale/apps/derivean/root/building/base/$id/view",params:{id:t.id}})}})})}}),$c=fr("/$locale/apps/derivean/root/building/$id/resource/list/")({validateSearch:Qi(Ki(rf)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n},params:{id:o}}){return e.transaction().execute(a=>Hi({tx:a,queryClient:t,source:co,filter:r,cursor:n,where:{buildingId:o}}))},component(){const{data:t,count:e}=$c.useLoaderData(),{filter:r,cursor:n,selection:o}=$c.useSearch(),{id:a}=$c.useParams(),l=$c.useNavigate(),{tva:c}=fi({from:"__root__"}),h=c().slots;return y.jsx("div",{className:h.base(),children:y.jsx($b,{buildingId:a,table:{data:t,filter:{value:r,set(m){l({search:({cursor:g,...x})=>({...x,filter:m,cursor:{...g,page:0}})})}},selection:{type:"multi",value:o,set(m){l({search(g){return{...g,selection:m}}})}}},fulltext:{onFulltext:ys(l),value:r?.fulltext},cursor:{count:e,cursor:n,textTotal:y.jsx(ce,{label:"Number of items"}),onPage:ps(l),onSize:ms(l)}})})}}),Jh=fr("/$locale/apps/derivean/root/user/$id/building/resource/list/")({validateSearch:Qi(Ki(rf)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n},params:{id:o}}){return e.transaction().execute(a=>Hi({tx:a,queryClient:t,source:co,filter:r,where:{userId:o},cursor:n}))},component(){const{data:t,count:e}=Jh.useLoaderData(),{filter:r,cursor:n,selection:o}=Jh.useSearch(),a=Jh.useNavigate(),{tva:l}=fi({from:"__root__"}),c=l().slots;return y.jsxs("div",{className:c.base(),children:[y.jsx(K3,{icon:Jr,title:y.jsx(ce,{label:"Resource sum (label)"}),amount:t}),y.jsx($b,{table:{data:t,filter:{value:r,set(h){a({search:({cursor:m,...g})=>({...g,filter:h,cursor:{...m,page:0}})})}},selection:{type:"multi",value:o,set(h){a({search(m){return{...m,selection:h}}})}}},fulltext:{onFulltext:ys(a),value:r?.fulltext},cursor:{count:e,cursor:n,textTotal:y.jsx(ce,{label:"Number of items"}),onPage:ps(a),onSize:ms(a)}})]})}}),HB=fr("/$locale/apps/derivean/root/building/base/$id/resource/list/")({component(){return"resources available by default with this building"}}),wN=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:o=So,css:a})=>{const l=qo({resolver:Co(_m.shape),defaultValues:{passive:!1,...e}}),c=Q.useContext(hs),h=o({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return y.jsxs("form",{className:h.base(),onSubmit:bl({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:c})}}),children:[y.jsx(Ms,{variant:{highlight:!0},error:l.formState.errors.root}),y.jsx($r,{formState:l.formState,name:"resourceId",label:y.jsx(ce,{label:"Resource name (label)"}),children:y.jsx(ml,{control:l.control,name:"resourceId",render:({field:{ref:m,...g}})=>y.jsx(Wb,{...g})})}),y.jsx($r,{formState:l.formState,name:"amount",label:y.jsx(ce,{label:"Amount (label)"}),children:y.jsx("input",{type:"number",className:h.input(),...l.register("amount")})}),y.jsx($r,{formState:l.formState,name:"passive",label:y.jsx(ce,{label:"Passive requirement (label)"}),hint:y.jsx(ce,{label:"Passive requirement (hint)"}),children:y.jsx(ml,{control:l.control,name:"passive",render:({field:{ref:m,...g}})=>y.jsx(kk,{...g})})}),y.jsx("div",{className:"flex flex-row justify-between gap-8",children:y.jsx(jn,{iconEnabled:Jr,type:"submit",children:y.jsx(ce,{label:"Save resource requirement (submit)"})})})]})},Tv=ko(),QB=[Tv({name:"resource.name",header(){return y.jsx(ce,{label:"Resource name (label)"})},render({value:t}){return t},size:18}),Tv({name:"amount",header(){return y.jsx(ce,{label:"Amount (label)"})},render({value:t}){return qu({number:t})},size:14}),Tv({name:"passive",header(){return y.jsx(ce,{label:"Passive requirement (label)"})},render({value:t}){return y.jsx(Nk,{value:t})},size:14})],KB=({baseBuildingId:t,table:e,...r})=>{const n=Yd({sources:[ai,lu]});return y.jsx(Eo,{table:No({...e,columns:QB}),action:{table(){return y.jsx(ci,{children:y.jsx(rn,{label:y.jsx(ce,{label:"Create resource requirement (menu)"}),textTitle:y.jsx(ce,{label:"Create resource requirement (modal)"}),icon:Jr,children:y.jsx(wN,{mutation:xl({source:lu,async wrap(o){return qr.promise(o(),{loading:y.jsx(ce,{label:"Saving resource requirement (label)"}),success:y.jsx(ce,{label:"Resource requirement successfully saved (label)"}),error:y.jsx(ce,{label:"Cannot save resource requirement (label)"})})},async toCreate({shape:o}){return{entity:{...o,baseBuildingId:t}}}}),onSuccess:async({modalContext:o})=>{await n(),o?.close()}})})})},row({data:o}){return y.jsxs(ci,{children:[y.jsx(rn,{label:y.jsx(ce,{label:"Edit resource requirement (menu)"}),textTitle:y.jsx(ce,{label:"Edit resource requirement (modal)"}),icon:Jr,children:y.jsx(wN,{defaultValues:o,mutation:ka({source:lu,async wrap(a){return qr.promise(a(),{loading:y.jsx(ce,{label:"Saving resource requirement (label)"}),success:y.jsx(ce,{label:"Resource requirement successfully saved (label)"}),error:y.jsx(ce,{label:"Cannot save resource requirement (label)"})})},async toPatch({shape:a}){return{entity:{...a,baseBuildingId:t},filter:{id:o.id}}}}),onSuccess:async({modalContext:a})=>{await n(),a?.close()}})}),y.jsx(rn,{icon:Na,label:y.jsx(ce,{label:"Delete resource requirement (label)"}),textTitle:y.jsx(ce,{label:"Delete resource requirement (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:y.jsx(wl,{source:lu,textContent:y.jsx(ce,{label:"Resource requirement delete (content)"}),filter:{id:o.id},invalidator:n})})]})}},...r})},zc=fr("/$locale/apps/derivean/root/building/base/$id/requirement/list/")({validateSearch:Qi(Ki(_m)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n},params:{id:o}}){return e.transaction().execute(async a=>Hi({tx:a,queryClient:t,source:lu,filter:r,cursor:n,where:{baseBuildingId:o}}))},component:()=>{const{data:t,count:e}=zc.useLoaderData(),{filter:r,cursor:n,selection:o}=zc.useSearch(),{id:a}=zc.useParams(),l=zc.useNavigate(),{tva:c}=fi({from:"__root__"}),h=c().slots;return y.jsx("div",{className:h.base(),children:y.jsx(KB,{baseBuildingId:a,table:{data:t,filter:{value:r,set(m){l({search:({cursor:g,...x})=>({...x,filter:m,cursor:{...g,page:0}})})}},selection:{type:"multi",value:o,set(m){l({search(g){return{...g,selection:m}}})}}},fulltext:{onFulltext:ys(l),value:r?.fulltext},cursor:{count:e,cursor:n,textTotal:y.jsx(ce,{label:"Number of items"}),onPage:ps(l),onSize:ms(l)}})})}}),xN=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:o=So,css:a})=>{const l=qo({resolver:Co(vm.shape),defaultValues:e}),c=Q.useContext(hs),h=o({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return y.jsxs("form",{className:h.base(),onSubmit:bl({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:c})}}),children:[y.jsx(Ms,{variant:{highlight:!0},error:l.formState.errors.root}),y.jsx($r,{formState:l.formState,name:"resourceId",label:y.jsx(ce,{label:"Resource name (label)"}),children:y.jsx(ml,{control:l.control,name:"resourceId",render:({field:{ref:m,...g}})=>y.jsx(Wb,{icon:Jr,titleText:y.jsx(ce,{label:"Select resource (title)"}),allowEmpty:!0,...g})})}),y.jsx($r,{formState:l.formState,name:"limit",label:y.jsx(ce,{label:"Limit (label)"}),children:y.jsx("input",{type:"number",className:h.input(),...l.register("limit")})}),y.jsx("div",{className:"flex flex-row justify-between gap-8",children:y.jsx(jn,{iconEnabled:Jr,type:"submit",children:y.jsx(ce,{label:"Save resource limit (submit)"})})})]})},SN=ko(),GB=[SN({name:"resource.name",header(){return y.jsx(ce,{label:"Resource name (label)"})},render({value:t}){return t},size:18}),SN({name:"limit",header(){return y.jsx(ce,{label:"Storage limit (label)"})},render({value:t}){return t},size:18})],JB=({baseBuildingId:t,table:e,...r})=>y.jsx(Eo,{table:No({...e,columns:GB}),action:{table(){return y.jsx(ci,{children:y.jsx(rn,{label:y.jsx(ce,{label:"Create resource limit (menu)"}),textTitle:y.jsx(ce,{label:"Create resource limit (modal)"}),icon:N_,children:y.jsx(xN,{mutation:xl({source:td,async wrap(n){return qr.promise(n(),{loading:y.jsx(ce,{label:"Saving resource limit (label)"}),success:y.jsx(ce,{label:"Resource limit successfully saved (label)"}),error:y.jsx(ce,{label:"Cannot resource limit storage (label)"})})},async toCreate({shape:n}){return{entity:{...n,baseBuildingId:t}}}}),onSuccess:async({modalContext:n})=>{n?.close()}})})})},row({data:n}){return y.jsxs(ci,{children:[y.jsx(rn,{label:y.jsx(ce,{label:"Edit base storage (menu)"}),textTitle:y.jsx(ce,{label:"Edit base storage (modal)"}),icon:N_,children:y.jsx(xN,{defaultValues:n,mutation:ka({source:td,async wrap(o){return qr.promise(o(),{loading:y.jsx(ce,{label:"Saving base storage (label)"}),success:y.jsx(ce,{label:"Base storage successfully saved (label)"}),error:y.jsx(ce,{label:"Cannot save base storage (label)"})})},async toPatch(){return{filter:{id:n.id}}}}),onSuccess:async({modalContext:o})=>{o?.close()}})}),y.jsx(rn,{icon:Na,label:y.jsx(ce,{label:"Delete base storage (label)"}),textTitle:y.jsx(ce,{label:"Delete base storage (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:y.jsx(wl,{source:td,textContent:y.jsx(ce,{label:"Base storage delete (content)"}),filter:{id:n.id}})})]})}},...r}),Uc=fr("/$locale/apps/derivean/root/building/base/$id/limit/list/")({validateSearch:Qi(Ki(vm)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n},params:{id:o}}){return e.transaction().execute(async a=>Hi({tx:a,queryClient:t,source:td,filter:r,cursor:n,where:{baseBuildingId:o}}))},component(){const{data:t,count:e}=Uc.useLoaderData(),{filter:r,cursor:n,selection:o}=Uc.useSearch(),{id:a}=Uc.useParams(),l=Uc.useNavigate(),{tva:c}=fi({from:"__root__"}),h=c().slots;return y.jsx("div",{className:h.base(),children:y.jsx(JB,{baseBuildingId:a,table:{data:t,filter:{value:r,set(m){l({search:({cursor:g,...x})=>({...x,filter:m,cursor:{...g,page:0}})})}},selection:{type:"multi",value:o,set(m){l({search(g){return{...g,selection:m}}})}}},fulltext:{onFulltext:ys(l),value:r?.fulltext},cursor:{count:e,cursor:n,textTotal:y.jsx(ce,{label:"Number of items"}),onPage:ps(l),onSize:ms(l)}})})}}),zb=bM.update({id:"/$locale",path:"/$locale",getParentRoute:()=>Tb}),ZB=SM.update({id:"/",path:"/",getParentRoute:()=>Tb}),XB=EM.update({id:"/",path:"/",getParentRoute:()=>zb}),zu=qM.update({id:"/apps/derivean",path:"/apps/derivean",getParentRoute:()=>zb}),Bs=RM.update({id:"/root",path:"/root",getParentRoute:()=>zu}),Uu=PM.update({id:"/game",path:"/game",getParentRoute:()=>zu}),YB=FM.update({id:"/",path:"/",getParentRoute:()=>Uu}),e4=aB.update({id:"/public/register",path:"/public/register",getParentRoute:()=>zu}),t4=lB.update({id:"/public/logout",path:"/public/logout",getParentRoute:()=>zu}),r4=fB.update({id:"/public/login",path:"/public/login",getParentRoute:()=>zu}),xm=$3.update({id:"/user/$id",path:"/user/$id",getParentRoute:()=>Bs}),X3=mB.update({id:"/resource/$id",path:"/resource/$id",getParentRoute:()=>Bs}),Ub=z3.update({id:"/building/$id",path:"/building/$id",getParentRoute:()=>Bs}),n4=Uh.update({id:"/user/list/",path:"/user/list/",getParentRoute:()=>Bs}),i4=Vh.update({id:"/tag/list/",path:"/tag/list/",getParentRoute:()=>Bs}),s4=Hh.update({id:"/resource/list/",path:"/resource/list/",getParentRoute:()=>Bs}),o4=SB.update({id:"/building/list/",path:"/building/list/",getParentRoute:()=>Bs}),a4=Qh.update({id:"/building/list/",path:"/building/list/",getParentRoute:()=>Uu}),Vu=H3.update({id:"/building/base/$id",path:"/building/base/$id",getParentRoute:()=>Bs}),l4=OB.update({id:"/view/",path:"/view/",getParentRoute:()=>xm}),u4=IB.update({id:"/view/",path:"/view/",getParentRoute:()=>X3}),c4=Kh.update({id:"/building/base/list/",path:"/building/base/list/",getParentRoute:()=>Bs}),d4=TB.update({id:"/view/",path:"/view/",getParentRoute:()=>Ub}),f4=Gh.update({id:"/building/resource/list/",path:"/building/resource/list/",getParentRoute:()=>Uu}),h4=J3.update({id:"/building/base/list/",path:"/building/base/list/",getParentRoute:()=>Uu}),p4=MB.update({id:"/building/$id/view/",path:"/building/$id/view/",getParentRoute:()=>Uu}),m4=Wc.update({id:"/building/list/",path:"/building/list/",getParentRoute:()=>xm}),y4=VB.update({id:"/view/",path:"/view/",getParentRoute:()=>Vu}),g4=Z3.update({id:"/edit/",path:"/edit/",getParentRoute:()=>Vu}),v4=$c.update({id:"/resource/list/",path:"/resource/list/",getParentRoute:()=>Ub}),_4=Jh.update({id:"/building/resource/list/",path:"/building/resource/list/",getParentRoute:()=>xm}),b4=HB.update({id:"/resource/list/",path:"/resource/list/",getParentRoute:()=>Vu}),w4=zc.update({id:"/requirement/list/",path:"/requirement/list/",getParentRoute:()=>Vu}),x4=Uc.update({id:"/limit/list/",path:"/limit/list/",getParentRoute:()=>Vu}),S4={LocaleAppsDeriveanGameIndexRoute:YB,LocaleAppsDeriveanGameBuildingListIndexRoute:a4,LocaleAppsDeriveanGameBuildingIdViewIndexRoute:p4,LocaleAppsDeriveanGameBuildingBaseListIndexRoute:h4,LocaleAppsDeriveanGameBuildingResourceListIndexRoute:f4},E4=Uu._addFileChildren(S4),N4={LocaleAppsDeriveanRootBuildingIdViewIndexRoute:d4,LocaleAppsDeriveanRootBuildingIdResourceListIndexRoute:v4},k4=Ub._addFileChildren(N4),q4={LocaleAppsDeriveanRootResourceIdViewIndexRoute:u4},C4=X3._addFileChildren(q4),O4={LocaleAppsDeriveanRootUserIdViewIndexRoute:l4,LocaleAppsDeriveanRootUserIdBuildingListIndexRoute:m4,LocaleAppsDeriveanRootUserIdBuildingResourceListIndexRoute:_4},I4=xm._addFileChildren(O4),R4={LocaleAppsDeriveanRootBuildingBaseIdEditIndexRoute:g4,LocaleAppsDeriveanRootBuildingBaseIdViewIndexRoute:y4,LocaleAppsDeriveanRootBuildingBaseIdLimitListIndexRoute:x4,LocaleAppsDeriveanRootBuildingBaseIdRequirementListIndexRoute:w4,LocaleAppsDeriveanRootBuildingBaseIdResourceListIndexRoute:b4},A4=Vu._addFileChildren(R4),T4={LocaleAppsDeriveanRootBuildingIdRoute:k4,LocaleAppsDeriveanRootResourceIdRoute:C4,LocaleAppsDeriveanRootUserIdRoute:I4,LocaleAppsDeriveanRootBuildingBaseIdRoute:A4,LocaleAppsDeriveanRootBuildingListIndexRoute:o4,LocaleAppsDeriveanRootResourceListIndexRoute:s4,LocaleAppsDeriveanRootTagListIndexRoute:i4,LocaleAppsDeriveanRootUserListIndexRoute:n4,LocaleAppsDeriveanRootBuildingBaseListIndexRoute:c4},P4=Bs._addFileChildren(T4),F4={LocaleAppsDeriveanGameRoute:E4,LocaleAppsDeriveanRootRoute:P4,LocaleAppsDeriveanPublicLoginRoute:r4,LocaleAppsDeriveanPublicLogoutRoute:t4,LocaleAppsDeriveanPublicRegisterRoute:e4},j4=zu._addFileChildren(F4),L4={LocaleIndexRoute:XB,LocaleAppsDeriveanRoute:j4},D4=zb._addFileChildren(L4),M4={IndexRoute:ZB,LocaleRoute:D4},B4=Tb._addFileChildren(M4)._addFileTypes(),Y3=new EC({defaultOptions:{queries:{placeholderData:dC}}}),W4=bO({routeTree:B4,context:{queryClient:Y3,tva:hL,async session(){return ym.parse(null)},kysely:Hn},defaultPendingComponent:$D,defaultPreload:"intent",defaultPreloadStaleTime:0,defaultPendingMinMs:200}),EN=document.getElementById("app");SA({limit:{maxRequests:10,perMilliseconds:100}});EN.innerHTML||gM.createRoot(EN).render(y.jsx(IC,{client:Y3,children:y.jsx(VO,{router:W4})}))})();