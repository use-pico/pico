(async()=>{function OA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Xl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function TA(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var wb={exports:{}},Ud={},Sb={exports:{}},vn={};var VE;function qA(){if(VE)return vn;VE=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function E(K){return K===null||typeof K!="object"?null:(K=b&&K[b]||K["@@iterator"],typeof K=="function"?K:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,T={};function A(K,xe,ut){this.props=K,this.context=xe,this.refs=T,this.updater=ut||N}A.prototype.isReactComponent={},A.prototype.setState=function(K,xe){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,xe,"setState")},A.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function L(){}L.prototype=A.prototype;function P(K,xe,ut){this.props=K,this.context=xe,this.refs=T,this.updater=ut||N}var B=P.prototype=new L;B.constructor=P,O(B,A.prototype),B.isPureReactComponent=!0;var Q=Array.isArray,J=Object.prototype.hasOwnProperty,W={current:null},G={key:!0,ref:!0,__self:!0,__source:!0};function re(K,xe,ut){var at,ft={},dt=null,pt=null;if(xe!=null)for(at in xe.ref!==void 0&&(pt=xe.ref),xe.key!==void 0&&(dt=""+xe.key),xe)J.call(xe,at)&&!G.hasOwnProperty(at)&&(ft[at]=xe[at]);var vt=arguments.length-2;if(vt===1)ft.children=ut;else if(1<vt){for(var At=Array(vt),mt=0;mt<vt;mt++)At[mt]=arguments[mt+2];ft.children=At}if(K&&K.defaultProps)for(at in vt=K.defaultProps,vt)ft[at]===void 0&&(ft[at]=vt[at]);return{$$typeof:t,type:K,key:dt,ref:pt,props:ft,_owner:W.current}}function H(K,xe){return{$$typeof:t,type:K.type,key:xe,ref:K.ref,props:K.props,_owner:K._owner}}function te(K){return typeof K=="object"&&K!==null&&K.$$typeof===t}function $(K){var xe={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(ut){return xe[ut]})}var oe=/\/+/g;function Y(K,xe){return typeof K=="object"&&K!==null&&K.key!=null?$(""+K.key):xe.toString(36)}function fe(K,xe,ut,at,ft){var dt=typeof K;(dt==="undefined"||dt==="boolean")&&(K=null);var pt=!1;if(K===null)pt=!0;else switch(dt){case"string":case"number":pt=!0;break;case"object":switch(K.$$typeof){case t:case e:pt=!0}}if(pt)return pt=K,ft=ft(pt),K=at===""?"."+Y(pt,0):at,Q(ft)?(ut="",K!=null&&(ut=K.replace(oe,"$&/")+"/"),fe(ft,xe,ut,"",function(mt){return mt})):ft!=null&&(te(ft)&&(ft=H(ft,ut+(!ft.key||pt&&pt.key===ft.key?"":(""+ft.key).replace(oe,"$&/")+"/")+K)),xe.push(ft)),1;if(pt=0,at=at===""?".":at+":",Q(K))for(var vt=0;vt<K.length;vt++){dt=K[vt];var At=at+Y(dt,vt);pt+=fe(dt,xe,ut,At,ft)}else if(At=E(K),typeof At=="function")for(K=At.call(K),vt=0;!(dt=K.next()).done;)dt=dt.value,At=at+Y(dt,vt++),pt+=fe(dt,xe,ut,At,ft);else if(dt==="object")throw xe=String(K),Error("Objects are not valid as a React child (found: "+(xe==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":xe)+"). If you meant to render a collection of children, use an array instead.");return pt}function Ee(K,xe,ut){if(K==null)return K;var at=[],ft=0;return fe(K,at,"","",function(dt){return xe.call(ut,dt,ft++)}),at}function qe(K){if(K._status===-1){var xe=K._result;xe=xe(),xe.then(function(ut){(K._status===0||K._status===-1)&&(K._status=1,K._result=ut)},function(ut){(K._status===0||K._status===-1)&&(K._status=2,K._result=ut)}),K._status===-1&&(K._status=0,K._result=xe)}if(K._status===1)return K._result.default;throw K._result}var je={current:null},ve={transition:null},pe={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:ve,ReactCurrentOwner:W};function ke(){throw Error("act(...) is not supported in production builds of React.")}return vn.Children={map:Ee,forEach:function(K,xe,ut){Ee(K,function(){xe.apply(this,arguments)},ut)},count:function(K){var xe=0;return Ee(K,function(){xe++}),xe},toArray:function(K){return Ee(K,function(xe){return xe})||[]},only:function(K){if(!te(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},vn.Component=A,vn.Fragment=n,vn.Profiler=i,vn.PureComponent=P,vn.StrictMode=r,vn.Suspense=d,vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,vn.act=ke,vn.cloneElement=function(K,xe,ut){if(K==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+K+".");var at=O({},K.props),ft=K.key,dt=K.ref,pt=K._owner;if(xe!=null){if(xe.ref!==void 0&&(dt=xe.ref,pt=W.current),xe.key!==void 0&&(ft=""+xe.key),K.type&&K.type.defaultProps)var vt=K.type.defaultProps;for(At in xe)J.call(xe,At)&&!G.hasOwnProperty(At)&&(at[At]=xe[At]===void 0&&vt!==void 0?vt[At]:xe[At])}var At=arguments.length-2;if(At===1)at.children=ut;else if(1<At){vt=Array(At);for(var mt=0;mt<At;mt++)vt[mt]=arguments[mt+2];at.children=vt}return{$$typeof:t,type:K.type,key:ft,ref:dt,props:at,_owner:pt}},vn.createContext=function(K){return K={$$typeof:l,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},K.Provider={$$typeof:o,_context:K},K.Consumer=K},vn.createElement=re,vn.createFactory=function(K){var xe=re.bind(null,K);return xe.type=K,xe},vn.createRef=function(){return{current:null}},vn.forwardRef=function(K){return{$$typeof:c,render:K}},vn.isValidElement=te,vn.lazy=function(K){return{$$typeof:y,_payload:{_status:-1,_result:K},_init:qe}},vn.memo=function(K,xe){return{$$typeof:m,type:K,compare:xe===void 0?null:xe}},vn.startTransition=function(K){var xe=ve.transition;ve.transition={};try{K()}finally{ve.transition=xe}},vn.unstable_act=ke,vn.useCallback=function(K,xe){return je.current.useCallback(K,xe)},vn.useContext=function(K){return je.current.useContext(K)},vn.useDebugValue=function(){},vn.useDeferredValue=function(K){return je.current.useDeferredValue(K)},vn.useEffect=function(K,xe){return je.current.useEffect(K,xe)},vn.useId=function(){return je.current.useId()},vn.useImperativeHandle=function(K,xe,ut){return je.current.useImperativeHandle(K,xe,ut)},vn.useInsertionEffect=function(K,xe){return je.current.useInsertionEffect(K,xe)},vn.useLayoutEffect=function(K,xe){return je.current.useLayoutEffect(K,xe)},vn.useMemo=function(K,xe){return je.current.useMemo(K,xe)},vn.useReducer=function(K,xe,ut){return je.current.useReducer(K,xe,ut)},vn.useRef=function(K){return je.current.useRef(K)},vn.useState=function(K){return je.current.useState(K)},vn.useSyncExternalStore=function(K,xe,ut){return je.current.useSyncExternalStore(K,xe,ut)},vn.useTransition=function(){return je.current.useTransition()},vn.version="18.3.1",vn}var HE;function rp(){return HE||(HE=1,Sb.exports=qA()),Sb.exports}var QE;function CA(){if(QE)return Ud;QE=1;var t=rp(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,m){var y,b={},E=null,N=null;m!==void 0&&(E=""+m),d.key!==void 0&&(E=""+d.key),d.ref!==void 0&&(N=d.ref);for(y in d)r.call(d,y)&&!o.hasOwnProperty(y)&&(b[y]=d[y]);if(c&&c.defaultProps)for(y in d=c.defaultProps,d)b[y]===void 0&&(b[y]=d[y]);return{$$typeof:e,type:c,key:E,ref:N,props:b,_owner:i.current}}return Ud.Fragment=n,Ud.jsx=l,Ud.jsxs=l,Ud}var KE;function RA(){return KE||(KE=1,wb.exports=CA()),wb.exports}var h=RA(),Hu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},uc=typeof window>"u"||"Deno"in globalThis;function As(){}function AA(t,e){return typeof t=="function"?t(e):t}function cx(t){return typeof t=="number"&&t>=0&&t!==1/0}function EO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function vu(t,e){return typeof t=="function"?t(e):t}function to(t,e){return typeof t=="function"?t(e):t}function GE(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:l,stale:c}=t;if(l){if(r){if(e.queryHash!==fw(l,e.options))return!1}else if(!Nf(e.queryKey,l))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||i&&i!==e.state.fetchStatus||o&&!o(e))}function JE(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(dc(e.options.mutationKey)!==dc(o))return!1}else if(!Nf(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function fw(t,e){return(e?.queryKeyHashFn||dc)(t)}function dc(t){return JSON.stringify(t,(e,n)=>ux(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Nf(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Nf(t[n],e[n])):!1}function pw(t,e){if(t===e)return t;const n=ZE(t)&&ZE(e);if(n||ux(t)&&ux(e)){const r=n?t:Object.keys(t),i=r.length,o=n?e:Object.keys(e),l=o.length,c=n?[]:{};let d=0;for(let m=0;m<l;m++){const y=n?m:o[m];(!n&&r.includes(y)||n)&&t[y]===void 0&&e[y]===void 0?(c[y]=void 0,d++):(c[y]=pw(t[y],e[y]),c[y]===t[y]&&t[y]!==void 0&&d++)}return i===l&&d===i?t:c}return e}function Jm(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function ZE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ux(t){if(!YE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!YE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function YE(t){return Object.prototype.toString.call(t)==="[object Object]"}function jA(t){return new Promise(e=>{setTimeout(e,t)})}function dx(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?pw(t,e):e}function PA(t){return t}function FA(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function LA(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var hw=Symbol();function kO(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===hw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var DA=class extends Hu{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!uc&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},mw=new DA,MA=class extends Hu{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!uc&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Zm=new MA;function fx(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function $A(t){return Math.min(1e3*2**t,3e4)}function NO(t){return(t??"online")==="online"?Zm.isOnline():!0}var IO=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Eb(t){return t instanceof IO}function OO(t){let e=!1,n=0,r=!1,i;const o=fx(),l=T=>{r||(E(new IO(T)),t.abort?.())},c=()=>{e=!0},d=()=>{e=!1},m=()=>mw.isFocused()&&(t.networkMode==="always"||Zm.isOnline())&&t.canRun(),y=()=>NO(t.networkMode)&&t.canRun(),b=T=>{r||(r=!0,t.onSuccess?.(T),i?.(),o.resolve(T))},E=T=>{r||(r=!0,t.onError?.(T),i?.(),o.reject(T))},N=()=>new Promise(T=>{i=A=>{(r||m())&&T(A)},t.onPause?.()}).then(()=>{i=void 0,r||t.onContinue?.()}),O=()=>{if(r)return;let T;const A=n===0?t.initialPromise:void 0;try{T=A??t.fn()}catch(L){T=Promise.reject(L)}Promise.resolve(T).then(b).catch(L=>{if(r)return;const P=t.retry??(uc?0:3),B=t.retryDelay??$A,Q=typeof B=="function"?B(n,L):B,J=P===!0||typeof P=="number"&&n<P||typeof P=="function"&&P(n,L);if(e||!J){E(L);return}n++,t.onFail?.(n,L),jA(Q).then(()=>m()?void 0:N()).then(()=>{e?E(L):O()})})};return{promise:o,cancel:l,continue:()=>(i?.(),o),cancelRetry:c,continueRetry:d,canStart:y,start:()=>(y()?O():N().then(O),o)}}function BA(){let t=[],e=0,n=c=>{c()},r=c=>{c()},i=c=>setTimeout(c,0);const o=c=>{e?t.push(c):i(()=>{n(c)})},l=()=>{const c=t;t=[],c.length&&i(()=>{r(()=>{c.forEach(d=>{n(d)})})})};return{batch:c=>{let d;e++;try{d=c()}finally{e--,e||l()}return d},batchCalls:c=>(...d)=>{o(()=>{c(...d)})},schedule:o,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{i=c}}}var Pr=BA(),TO=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),cx(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(uc?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},WA=class extends TO{#e;#t;#n;#r;#i;#s;constructor(t){super(),this.#s=!1,this.#i=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=zA(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){this.options={...this.#i,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=dx(this.state.data,t,this.options);return this.#o({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#o({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(As).catch(As):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>to(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===hw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!EO(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#s?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const c=this.observers.find(d=>d.options.queryFn);c&&this.setOptions(c.options)}const n=new AbortController,r=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#s=!0,n.signal)})},i=()=>{const c=kO(this.options,e),d={queryKey:this.queryKey,meta:this.meta};return r(d),this.#s=!1,this.options.persister?this.options.persister(c,d,this):c(d)},o={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};r(o),this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#o({type:"fetch",meta:o.fetchOptions?.meta});const l=c=>{Eb(c)&&c.silent||this.#o({type:"error",error:c}),Eb(c)||(this.#n.config.onError?.(c,this),this.#n.config.onSettled?.(this.state.data,c,this)),this.scheduleGc()};return this.#r=OO({initialPromise:e?.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:c=>{if(c===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(c)}catch(d){l(d);return}this.#n.config.onSuccess?.(c,this),this.#n.config.onSettled?.(c,this.state.error,this),this.scheduleGc()},onError:l,onFail:(c,d)=>{this.#o({type:"failed",failureCount:c,error:d})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#r.start()}#o(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...qO(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return Eb(r)&&r.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Pr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function qO(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:NO(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function zA(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var UA=class extends Hu{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??fw(r,e);let o=this.get(i);return o||(o=new WA({cache:this,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Pr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>GE(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>GE(t,n)):e}notify(t){Pr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Pr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Pr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},VA=class extends TO{#e;#t;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||CO(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){this.#n=OO({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(r,i)=>{this.#r({type:"failed",failureCount:r,error:i})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const e=this.state.status==="pending",n=!this.#n.canStart();try{if(!e){this.#r({type:"pending",variables:t,isPaused:n}),await this.#t.config.onMutate?.(t,this);const i=await this.options.onMutate?.(t);i!==this.state.context&&this.#r({type:"pending",context:i,variables:t,isPaused:n})}const r=await this.#n.start();return await this.#t.config.onSuccess?.(r,t,this.state.context,this),await this.options.onSuccess?.(r,t,this.state.context),await this.#t.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,t,this.state.context),this.#r({type:"success",data:r}),r}catch(r){try{throw await this.#t.config.onError?.(r,t,this.state.context,this),await this.options.onError?.(r,t,this.state.context),await this.#t.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,t,this.state.context),r}finally{this.#r({type:"error",error:r})}}finally{this.#t.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Pr.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function CO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var HA=class extends Hu{constructor(t={}){super(),this.config=t,this.#e=new Map,this.#t=Date.now()}#e;#t;build(t,e,n){const r=new VA({mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){const e=$h(t),n=this.#e.get(e)??[];n.push(t),this.#e.set(e,n),this.notify({type:"added",mutation:t})}remove(t){const e=$h(t);if(this.#e.has(e)){const n=this.#e.get(e)?.filter(r=>r!==t);n&&(n.length===0?this.#e.delete(e):this.#e.set(e,n))}this.notify({type:"removed",mutation:t})}canRun(t){const e=this.#e.get($h(t))?.find(n=>n.state.status==="pending");return!e||e===t}runNext(t){return this.#e.get($h(t))?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve()}clear(){Pr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...this.#e.values()].flat()}find(t){const e={exact:!0,...t};return this.getAll().find(n=>JE(e,n))}findAll(t={}){return this.getAll().filter(e=>JE(t,e))}notify(t){Pr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Pr.batch(()=>Promise.all(t.map(e=>e.continue().catch(As))))}};function $h(t){return t.options.scope?.id??String(t.mutationId)}function XE(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],l=e.state.data?.pageParams||[];let c={pages:[],pageParams:[]},d=0;const m=async()=>{let y=!1;const b=O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},E=kO(e.options,e.fetchOptions),N=async(O,T,A)=>{if(y)return Promise.reject();if(T==null&&O.pages.length)return Promise.resolve(O);const L={queryKey:e.queryKey,pageParam:T,direction:A?"backward":"forward",meta:e.options.meta};b(L);const P=await E(L),{maxPages:B}=e.options,Q=A?LA:FA;return{pages:Q(O.pages,P,B),pageParams:Q(O.pageParams,T,B)}};if(i&&o.length){const O=i==="backward",T=O?QA:ek,A={pages:o,pageParams:l},L=T(r,A);c=await N(A,L,O)}else{const O=t??o.length;do{const T=d===0?l[0]??r.initialPageParam:ek(r,c);if(d>0&&T==null)break;c=await N(c,T),d++}while(d<O)}return c};e.options.persister?e.fetchFn=()=>e.options.persister?.(m,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=m}}}function ek(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function QA(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var KA=class{#e;#t;#n;#r;#i;#s;#o;#a;constructor(t={}){this.#e=t.queryCache||new UA,this.#t=t.mutationCache||new HA,this.#n=t.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=mw.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=Zm.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(vu(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(r.queryHash)?.state.data,l=AA(e,o);if(l!==void 0)return this.#e.build(this,r).setData(l,{...n,manual:!0})}setQueriesData(t,e,n){return Pr.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Pr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e,r={type:"active",...t};return Pr.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Pr.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(As).catch(As)}invalidateQueries(t,e={}){return Pr.batch(()=>{if(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none")return Promise.resolve();const n={...t,type:t?.refetchType??t?.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Pr.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(As)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(As)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(vu(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(As).catch(As)}fetchInfiniteQuery(t){return t.behavior=XE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(As).catch(As)}ensureInfiniteQueryData(t){return t.behavior=XE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Zm.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(dc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{Nf(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#i.set(dc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()];let n={};return e.forEach(r=>{Nf(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=fw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===hw&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},GA=class extends Hu{constructor(t,e){super(),this.options=e,this.#e=t,this.#a=null,this.#o=fx(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#r=void 0;#i;#s;#o;#a;#c;#l;#u;#d;#p;#f;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),tk(this.#t,this.options)?this.#h():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return px(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return px(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#_(),this.#x(),this.#t.removeObserver(this)}setOptions(t,e){const n=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof to(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),n._defaulted&&!Jm(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&nk(this.#t,r,this.options,n)&&this.#h(),this.updateResult(e),i&&(this.#t!==r||to(this.options.enabled,this.#t)!==to(n.enabled,this.#t)||vu(this.options.staleTime,this.#t)!==vu(n.staleTime,this.#t))&&this.#g();const o=this.#y();i&&(this.#t!==r||to(this.options.enabled,this.#t)!==to(n.enabled,this.#t)||o!==this.#f)&&this.#v(o)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return ZA(this,n)&&(this.#r=n,this.#s=this.options,this.#i=this.#t.state),n}getCurrentResult(){return this.#r}trackResult(t,e){const n={};return Object.keys(t).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),e?.(r),t[r])})}),n}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#h({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#h(t){this.#w();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(As)),e}#g(){this.#_();const t=vu(this.options.staleTime,this.#t);if(uc||this.#r.isStale||!cx(t))return;const n=EO(this.#r.dataUpdatedAt,t)+1;this.#d=setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#x(),this.#f=t,!(uc||to(this.options.enabled,this.#t)===!1||!cx(this.#f)||this.#f===0)&&(this.#p=setInterval(()=>{(this.options.refetchIntervalInBackground||mw.isFocused())&&this.#h()},this.#f))}#b(){this.#g(),this.#v(this.#y())}#_(){this.#d&&(clearTimeout(this.#d),this.#d=void 0)}#x(){this.#p&&(clearInterval(this.#p),this.#p=void 0)}createResult(t,e){const n=this.#t,r=this.options,i=this.#r,o=this.#i,l=this.#s,d=t!==n?t.state:this.#n,{state:m}=t;let y={...m},b=!1,E;if(e._optimisticResults){const G=this.hasListeners(),re=!G&&tk(t,e),H=G&&nk(t,n,e,r);(re||H)&&(y={...y,...qO(m.data,t.options)}),e._optimisticResults==="isRestoring"&&(y.fetchStatus="idle")}let{error:N,errorUpdatedAt:O,status:T}=y;if(e.select&&y.data!==void 0)if(i&&y.data===o?.data&&e.select===this.#c)E=this.#l;else try{this.#c=e.select,E=e.select(y.data),E=dx(i?.data,E,e),this.#l=E,this.#a=null}catch(G){this.#a=G}else E=y.data;if(e.placeholderData!==void 0&&E===void 0&&T==="pending"){let G;if(i?.isPlaceholderData&&e.placeholderData===l?.placeholderData)G=i.data;else if(G=typeof e.placeholderData=="function"?e.placeholderData(this.#u?.state.data,this.#u):e.placeholderData,e.select&&G!==void 0)try{G=e.select(G),this.#a=null}catch(re){this.#a=re}G!==void 0&&(T="success",E=dx(i?.data,G,e),b=!0)}this.#a&&(N=this.#a,E=this.#l,O=Date.now(),T="error");const A=y.fetchStatus==="fetching",L=T==="pending",P=T==="error",B=L&&A,Q=E!==void 0,W={status:T,fetchStatus:y.fetchStatus,isPending:L,isSuccess:T==="success",isError:P,isInitialLoading:B,isLoading:B,data:E,dataUpdatedAt:y.dataUpdatedAt,error:N,errorUpdatedAt:O,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>d.dataUpdateCount||y.errorUpdateCount>d.errorUpdateCount,isFetching:A,isRefetching:A&&!L,isLoadingError:P&&!Q,isPaused:y.fetchStatus==="paused",isPlaceholderData:b,isRefetchError:P&&Q,isStale:gw(t,e),refetch:this.refetch,promise:this.#o};if(this.options.experimental_prefetchInRender){const G=te=>{W.status==="error"?te.reject(W.error):W.data!==void 0&&te.resolve(W.data)},re=()=>{const te=this.#o=W.promise=fx();G(te)},H=this.#o;switch(H.status){case"pending":t.queryHash===n.queryHash&&G(H);break;case"fulfilled":(W.status==="error"||W.data!==H.value)&&re();break;case"rejected":(W.status!=="error"||W.error!==H.reason)&&re();break}}return W}updateResult(t){const e=this.#r,n=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#s=this.options,this.#i.data!==void 0&&(this.#u=this.#t),Jm(n,e))return;this.#r=n;const r={},i=()=>{if(!e)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!this.#m.size)return!0;const c=new Set(l??this.#m);return this.options.throwOnError&&c.add("error"),Object.keys(this.#r).some(d=>{const m=d;return this.#r[m]!==e[m]&&c.has(m)})};t?.listeners!==!1&&i()&&(r.listeners=!0),this.#S({...r,...t})}#w(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#S(t){Pr.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function JA(t,e){return to(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function tk(t,e){return JA(t,e)||t.state.data!==void 0&&px(t,e,e.refetchOnMount)}function px(t,e,n){if(to(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&gw(t,e)}return!1}function nk(t,e,n,r){return(t!==e||to(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&gw(t,n)}function gw(t,e){return to(e.enabled,t)!==!1&&t.isStaleByTime(vu(e.staleTime,t))}function ZA(t,e){return!Jm(t.getCurrentResult(),e)}var YA=class extends Hu{#e;#t=void 0;#n;#r;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),Jm(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&dc(n.mutationKey)!==dc(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#s(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#s()}mutate(e,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#i(){const e=this.#n?.state??CO();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#s(e){Pr.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,n,r),this.#r.onSettled?.(e.data,null,n,r)):e?.type==="error"&&(this.#r.onError?.(e.error,n,r),this.#r.onSettled?.(void 0,e.error,n,r))}this.listeners.forEach(n=>{n(this.#t)})})}},U=rp();const An=wa(U),XA=OA({__proto__:null,default:An},[U]);var RO=U.createContext(void 0),xl=t=>{const e=U.useContext(RO);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},ej=({client:t,children:e})=>(U.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),h.jsx(RO.Provider,{value:t,children:e})),AO=U.createContext(!1),tj=()=>U.useContext(AO);AO.Provider;function nj(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var rj=U.createContext(nj()),ij=()=>U.useContext(rj);function jO(t,e){return typeof t=="function"?t(...e):!!t}function hx(){}var sj=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},oj=t=>{U.useEffect(()=>{t.clearReset()},[t])},aj=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&jO(n,[t.error,r]),lj=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},cj=(t,e)=>t.isLoading&&t.isFetching&&!e,uj=(t,e)=>t?.suspense&&e.isPending,rk=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function dj(t,e,n){const r=xl(),i=tj(),o=ij(),l=r.defaultQueryOptions(t);r.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=i?"isRestoring":"optimistic",lj(l),sj(l,o),oj(o);const c=!r.getQueryCache().get(l.queryHash),[d]=U.useState(()=>new e(r,l)),m=d.getOptimisticResult(l);if(U.useSyncExternalStore(U.useCallback(y=>{const b=i?hx:d.subscribe(Pr.batchCalls(y));return d.updateResult(),b},[d,i]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),U.useEffect(()=>{d.setOptions(l,{listeners:!1})},[l,d]),uj(l,m))throw rk(l,d,o);if(aj({result:m,errorResetBoundary:o,throwOnError:l.throwOnError,query:r.getQueryCache().get(l.queryHash)}))throw m.error;return r.getDefaultOptions().queries?._experimental_afterQuery?.(l,m),l.experimental_prefetchInRender&&!uc&&cj(m,i)&&(c?rk(l,d,o):r.getQueryCache().get(l.queryHash)?.promise)?.catch(hx).finally(()=>{d.updateResult()}),l.notifyOnChangeProps?m:d.trackResult(m)}function yw(t,e){return dj(t,GA)}function ik(t,e){return t.findAll(e.filters).map(n=>e.select?e.select(n):n.state)}function fj(t={},e){const n=xl().getMutationCache(),r=U.useRef(t),i=U.useRef(null);return i.current||(i.current=ik(n,t)),U.useEffect(()=>{r.current=t}),U.useSyncExternalStore(U.useCallback(o=>n.subscribe(()=>{const l=pw(i.current,ik(n,r.current));i.current!==l&&(i.current=l,Pr.schedule(o))}),[n]),()=>i.current,()=>i.current)}function $o(t,e){const n=xl(),[r]=U.useState(()=>new YA(n,t));U.useEffect(()=>{r.setOptions(t)},[r,t]);const i=U.useSyncExternalStore(U.useCallback(l=>r.subscribe(Pr.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=U.useCallback((l,c)=>{r.mutate(l,c).catch(hx)},[r]);if(i.error&&jO(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}const sk="popstate",ok="beforeunload";function PO(t){let e=t.getLocation();const n=new Set,r=l=>{e=t.getLocation(),n.forEach(c=>c({location:e,action:l}))},i=()=>{e=t.getLocation(),n.forEach(l=>l({location:e,action:{type:"ROLLBACK"}}))},o=async({task:l,navigateOpts:c,...d})=>{var m,y;if(c?.ignoreBlocker??!1){l();return}const E=((m=t.getBlockers)==null?void 0:m.call(t))??[],N=d.type==="PUSH"||d.type==="REPLACE";if(typeof document<"u"&&E.length&&N)for(const O of E){const T=If(d.path,d.state);if(await O.blockerFn({currentLocation:e,nextLocation:T,action:d.type})){(y=t.onBlocked)==null||y.call(t,i);return}}l()};return{get location(){return e},get length(){return t.getLength()},subscribers:n,subscribe:l=>(n.add(l),()=>{n.delete(l)}),push:(l,c,d)=>{c=ak(c),o({task:()=>{t.pushState(l,c),r({type:"PUSH"})},navigateOpts:d,type:"PUSH",path:l,state:c})},replace:(l,c,d)=>{c=ak(c),o({task:()=>{t.replaceState(l,c),r({type:"REPLACE"})},navigateOpts:d,type:"REPLACE",path:l,state:c})},go:(l,c)=>{o({task:()=>{t.go(l),r({type:"GO",index:l})},navigateOpts:c,type:"GO"})},back:l=>{o({task:()=>{t.back(l?.ignoreBlocker??!1),r({type:"BACK"})},navigateOpts:l,type:"BACK"})},forward:l=>{o({task:()=>{t.forward(l?.ignoreBlocker??!1),r({type:"FORWARD"})},navigateOpts:l,type:"FORWARD"})},createHref:l=>t.createHref(l),block:l=>{var c;if(!t.setBlockers)return()=>{};const d=((c=t.getBlockers)==null?void 0:c.call(t))??[];return t.setBlockers([...d,l]),()=>{var m,y;const b=((m=t.getBlockers)==null?void 0:m.call(t))??[];(y=t.setBlockers)==null||y.call(t,b.filter(E=>E!==l))}},flush:()=>{var l;return(l=t.flush)==null?void 0:l.call(t)},destroy:()=>{var l;return(l=t.destroy)==null?void 0:l.call(t)},notify:r}}function ak(t){return t||(t={}),{...t,key:mj()}}function pj(t){const e=typeof document<"u"?window:void 0,n=e.history.pushState,r=e.history.replaceState;let i=[];const o=()=>i,l=G=>i=G,c=G=>G,d=()=>If(`${e.location.pathname}${e.location.search}${e.location.hash}`,e.history.state);let m=d(),y,b=!1,E=!1,N=!1;const O=()=>m;let T,A;const L=()=>{T&&(W._ignoreSubscribers=!0,(T.isPush?e.history.pushState:e.history.replaceState)(T.state,"",T.href),W._ignoreSubscribers=!1,T=void 0,A=void 0,y=void 0)},P=(G,re,H)=>{const te=c(re);A||(y=m),m=If(re,H),T={href:te,state:H,isPush:T?.isPush||G==="push"},A||(A=Promise.resolve().then(()=>L()))},B=()=>{m=d(),W.notify({type:"POP"})},Q=async()=>{if(b){b=!1;return}if(E)E=!1;else{const G=o();if(typeof document<"u"&&G.length)for(const re of G){const H=d();if(await re.blockerFn({currentLocation:m,nextLocation:H,action:"POP"})){b=!0,e.history.go(1),W.notify({type:"POP"});return}}}m=d(),W.notify({type:"POP"})},J=G=>{if(N){N=!1;return}let re=!1;const H=o();if(typeof document<"u"&&H.length)for(const te of H){const $=te.enableBeforeUnload??!0;if($===!0){re=!0;break}if(typeof $=="function"&&$()===!0){re=!0;break}}if(re)return G.preventDefault(),G.returnValue=""},W=PO({getLocation:O,getLength:()=>e.history.length,pushState:(G,re)=>P("push",G,re),replaceState:(G,re)=>P("replace",G,re),back:G=>(G&&(E=!0),N=!0,e.history.back()),forward:G=>{G&&(E=!0),N=!0,e.history.forward()},go:G=>e.history.go(G),createHref:G=>c(G),flush:L,destroy:()=>{e.history.pushState=n,e.history.replaceState=r,e.removeEventListener(ok,J,{capture:!0}),e.removeEventListener(sk,Q)},onBlocked:G=>{y&&m!==y&&(m=y,G())},getBlockers:o,setBlockers:l});return e.addEventListener(ok,J,{capture:!0}),e.addEventListener(sk,Q),e.history.pushState=function(...G){const re=n.apply(e.history,G);return W._ignoreSubscribers||B(),re},e.history.replaceState=function(...G){const re=r.apply(e.history,G);return W._ignoreSubscribers||B(),re},W}function hj(t={initialEntries:["/"]}){const e=t.initialEntries;let n=t.initialIndex??e.length-1;const r=e.map(()=>({}));return PO({getLocation:()=>If(e[n],r[n]),getLength:()=>e.length,pushState:(o,l)=>{n<e.length-1&&(e.splice(n+1),r.splice(n+1)),r.push(l),e.push(o),n=Math.max(e.length-1,0)},replaceState:(o,l)=>{r[n]=l,e[n]=o},back:()=>{n=Math.max(n-1,0)},forward:()=>{n=Math.min(n+1,e.length-1)},go:o=>{n=Math.min(Math.max(n+o,0),e.length-1)},createHref:o=>o})}function If(t,e){const n=t.indexOf("#"),r=t.indexOf("?");return{href:t,pathname:t.substring(0,n>0?r>0?Math.min(n,r):n:r>0?r:t.length),hash:n>-1?t.substring(n):"",search:r>-1?t.slice(r,n===-1?void 0:n):"",state:e||{}}}function mj(){return(Math.random()+1).toString(36).substring(7)}var gj="Invariant failed";function ss(t,e){if(!t)throw new Error(gj)}const kb=U.createContext(null);function FO(){return typeof document>"u"?kb:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=kb,kb)}function Hi(t){const e=U.useContext(FO());return t?.warn,e}var Nb={exports:{}},Ib={},Ob={exports:{}},Tb={};var lk;function yj(){if(lk)return Tb;lk=1;var t=rp();function e(b,E){return b===E&&(b!==0||1/b===1/E)||b!==b&&E!==E}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,l=t.useDebugValue;function c(b,E){var N=E(),O=r({inst:{value:N,getSnapshot:E}}),T=O[0].inst,A=O[1];return o(function(){T.value=N,T.getSnapshot=E,d(T)&&A({inst:T})},[b,N,E]),i(function(){return d(T)&&A({inst:T}),b(function(){d(T)&&A({inst:T})})},[b]),l(N),N}function d(b){var E=b.getSnapshot;b=b.value;try{var N=E();return!n(b,N)}catch{return!0}}function m(b,E){return E()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:c;return Tb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:y,Tb}var ck;function vj(){return ck||(ck=1,Ob.exports=yj()),Ob.exports}var uk;function bj(){if(uk)return Ib;uk=1;var t=rp(),e=vj();function n(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,l=t.useEffect,c=t.useMemo,d=t.useDebugValue;return Ib.useSyncExternalStoreWithSelector=function(m,y,b,E,N){var O=o(null);if(O.current===null){var T={hasValue:!1,value:null};O.current=T}else T=O.current;O=c(function(){function L(W){if(!P){if(P=!0,B=W,W=E(W),N!==void 0&&T.hasValue){var G=T.value;if(N(G,W))return Q=G}return Q=W}if(G=Q,r(B,W))return G;var re=E(W);return N!==void 0&&N(G,re)?(B=W,G):(B=W,Q=re)}var P=!1,B,Q,J=b===void 0?null:b;return[function(){return L(y())},J===null?void 0:function(){return L(J())}]},[y,b,E,N]);var A=i(m,O[0],O[1]);return l(function(){T.hasValue=!0,T.value=A},[A]),d(A),A},Ib}var dk;function _j(){return dk||(dk=1,Nb.exports=bj()),Nb.exports}var xj=_j();class wj{constructor(e,n){this.listeners=new Set,this._batching=!1,this._flushing=0,this.subscribe=r=>{var i,o;this.listeners.add(r);const l=(o=(i=this.options)==null?void 0:i.onSubscribe)==null?void 0:o.call(i,r,this);return()=>{this.listeners.delete(r),l?.()}},this.setState=r=>{var i,o,l;const c=this.state;this.state=(i=this.options)!=null&&i.updateFn?this.options.updateFn(c)(r):r(c),(l=(o=this.options)==null?void 0:o.onUpdate)==null||l.call(o),this._flush()},this._flush=()=>{if(this._batching)return;const r=++this._flushing;this.listeners.forEach(i=>{this._flushing===r&&i()})},this.batch=r=>{if(this._batching)return r();this._batching=!0,r(),this._batching=!1,this._flush()},this.state=e,this.options=n}}function Sj(t,e=n=>n){return xj.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,Ej)}function Ej(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!e.has(r)||!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}const ns="__root__";function kj(t,e){let n,r,i,o="";for(n in t)if((i=t[n])!==void 0)if(Array.isArray(i))for(r=0;r<i.length;r++)o&&(o+="&"),o+=encodeURIComponent(n)+"="+encodeURIComponent(i[r]);else o&&(o+="&"),o+=encodeURIComponent(n)+"="+encodeURIComponent(i);return""+o}function fk(t){if(!t)return"";const e=decodeURIComponent(t);return e==="false"?!1:e==="true"?!0:+e*0===0&&+e+""===e?+e:e}function Nj(t,e){let n,r;const i={},o=t.split("&");for(;n=o.shift();){const l=n.indexOf("=");if(l!==-1){r=n.slice(0,l),r=decodeURIComponent(r);const c=n.slice(l+1);i[r]!==void 0?i[r]=[].concat(i[r],fk(c)):i[r]=fk(c)}else r=n,r=decodeURIComponent(r),i[r]=""}return i}const Ij=Tj(JSON.parse),Oj=qj(JSON.stringify,JSON.parse);function Tj(t){return e=>{e.substring(0,1)==="?"&&(e=e.substring(1));const n=Nj(e);for(const r in n){const i=n[r];if(typeof i=="string")try{n[r]=t(i)}catch{}}return n}}function qj(t,e){function n(r){if(typeof r=="object"&&r!==null)try{return t(r)}catch{}else if(typeof r=="string"&&typeof e=="function")try{return e(r),t(r)}catch{}return r}return r=>{r={...r},Object.keys(r).forEach(o=>{const l=r[o];typeof l>"u"||l===void 0?delete r[o]:r[o]=n(l)});const i=kj(r).toString();return i?`?${i}`:""}}function hf(t){return t[t.length-1]}function Cj(t){return typeof t=="function"}function ec(t,e){return Cj(t)?t(e):t}function fm(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function Cs(t,e){if(t===e)return t;const n=e,r=hk(t)&&hk(n);if(r||Au(t)&&Au(n)){const i=r?t:Object.keys(t),o=i.length,l=r?n:Object.keys(n),c=l.length,d=r?[]:{};let m=0;for(let y=0;y<c;y++){const b=r?y:l[y];(!r&&i.includes(b)||r)&&t[b]===void 0&&n[b]===void 0?(d[b]=void 0,m++):(d[b]=Cs(t[b],n[b]),d[b]===t[b]&&t[b]!==void 0&&m++)}return o===c&&m===o?t:d}return n}function Au(t){if(!pk(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!pk(n)||!n.hasOwnProperty("isPrototypeOf"))}function pk(t){return Object.prototype.toString.call(t)==="[object Object]"}function hk(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function mk(t,e){let n=Object.keys(t);return e&&(n=n.filter(r=>t[r]!==void 0)),n}function bu(t,e,n){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(Au(t)&&Au(e)){const r=n?.ignoreUndefined??!0,i=mk(t,r),o=mk(e,r);return!n?.partial&&i.length!==o.length?!1:o.every(l=>bu(t[l],e[l],n))}return Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:!t.some((r,i)=>!bu(r,e[i],n)):!1}const Xd=typeof window<"u"?U.useLayoutEffect:U.useEffect;function au(t){let e,n;const r=new Promise((i,o)=>{e=i,n=o});return r.status="pending",r.resolve=i=>{r.status="resolved",r.value=i,e(i),t?.(i)},r.reject=i=>{r.status="rejected",n(i)},r}function qb(t){const e=U.useRef({value:t,prev:null}),n=e.current.value;return t!==n&&(e.current={value:t,prev:n}),e.current.prev}function Rj(t,e,n={},r={}){const i=U.useRef(typeof IntersectionObserver=="function"),o=U.useRef(null);return U.useEffect(()=>{if(!(!t.current||!i.current||r.disabled))return o.current=new IntersectionObserver(([l])=>{e(l)},n),o.current.observe(t.current),()=>{var l;(l=o.current)==null||l.disconnect()}},[e,n,r.disabled,t]),o.current}function Aj(t){const e=U.useRef(null);return U.useEffect(()=>{t&&(typeof t=="function"?t(e.current):t.current=e.current)}),e}function pa(t){return Vg(t.filter(e=>e!==void 0).join("/"))}function Vg(t){return t.replace(/\/{2,}/g,"/")}function vw(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function tc(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function jj(t){return tc(vw(t))}function Ym(t,e){return t.endsWith("/")&&t!=="/"&&t!==`${e}/`?t.slice(0,-1):t}function Pj(t,e,n){return Ym(t,n)===Ym(e,n)}function Fj({basepath:t,base:e,to:n,trailingSlash:r="never",caseSensitive:i}){var o,l;e=Xm(t,e,i),n=Xm(t,n,i);let c=ju(e);const d=ju(n);c.length>1&&((o=hf(c))==null?void 0:o.value)==="/"&&c.pop(),d.forEach((y,b)=>{y.value==="/"?b?b===d.length-1&&c.push(y):c=[y]:y.value===".."?c.pop():y.value==="."||c.push(y)}),c.length>1&&(((l=hf(c))==null?void 0:l.value)==="/"?r==="never"&&c.pop():r==="always"&&c.push({type:"pathname",value:"/"}));const m=pa([t,...c.map(y=>y.value)]);return Vg(m)}function ju(t){if(!t)return[];t=Vg(t);const e=[];if(t.slice(0,1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),!t)return e;const n=t.split("/").filter(Boolean);return e.push(...n.map(r=>r==="$"||r==="*"?{type:"wildcard",value:r}:r.charAt(0)==="$"?{type:"param",value:r}:{type:"pathname",value:decodeURI(r)})),t.slice(-1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),e}function Bh({path:t,params:e,leaveWildcards:n,leaveParams:r,decodeCharMap:i}){const o=ju(t),l={};for(const[c,d]of Object.entries(e)){const m=typeof d=="string";["*","_splat"].includes(c)?l[c]=m?encodeURI(d):d:l[c]=m?Lj(d,i):d}return pa(o.map(c=>{if(c.type==="wildcard"){const d=l._splat;return n?`${c.value}${d??""}`:d}if(c.type==="param"){if(r){const d=l[c.value];return`${c.value}${d??""}`}return l[c.value.substring(1)]??"undefined"}return c.value}))}function Lj(t,e){let n=encodeURIComponent(t);if(e)for(const[r,i]of e)n=n.replaceAll(r,i);return n}function Wh(t,e,n){const r=Dj(t,e,n);if(!(n.to&&!r))return r??{}}function Xm(t,e,n=!1){const r=n?t:t.toLowerCase(),i=n?e:e.toLowerCase();switch(!0){case r==="/":return e;case i===r:return"";case e.length<t.length:return e;case i[r.length]!=="/":return e;case i.startsWith(r):return e.slice(t.length);default:return e}}function Dj(t,e,n){if(t!=="/"&&!e.startsWith(t))return;e=Xm(t,e,n.caseSensitive);const r=Xm(t,`${n.to??"$"}`,n.caseSensitive),i=ju(e),o=ju(r);e.startsWith("/")||i.unshift({type:"pathname",value:"/"}),r.startsWith("/")||o.unshift({type:"pathname",value:"/"});const l={};return(()=>{for(let d=0;d<Math.max(i.length,o.length);d++){const m=i[d],y=o[d],b=d>=i.length-1,E=d>=o.length-1;if(y){if(y.type==="wildcard"){const N=decodeURI(pa(i.slice(d).map(O=>O.value)));return l["*"]=N,l._splat=N,!0}if(y.type==="pathname"){if(y.value==="/"&&!m?.value)return!0;if(m){if(n.caseSensitive){if(y.value!==m.value)return!1}else if(y.value.toLowerCase()!==m.value.toLowerCase())return!1}}if(!m)return!1;if(y.type==="param"){if(m.value==="/")return!1;m.value.charAt(0)!=="$"&&(l[y.value.substring(1)]=decodeURIComponent(m.value))}}if(!b&&E)return l["**"]=pa(i.slice(d+1).map(N=>N.value)),!!n.fuzzy&&y?.value!=="/"}return!0})()?l:void 0}function Hg(t){if(t.isRedirect=!0,t.statusCode=t.statusCode||t.code||307,t.headers=t.headers||{},!t.reloadDocument){t.reloadDocument=!1;try{new URL(`${t.href}`),t.reloadDocument=!0}catch{}}if(t.throw)throw t;return t}function Hl(t){return!!t?.isRedirect}function Cb(t){return!!t?.isRedirect&&t.href}function bw(t){const e=t.errorComponent??Qg;return h.jsx(Mj,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:n,reset:r})=>n?U.createElement(e,{error:n,reset:r}):t.children})}class Mj extends U.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,n){n.error&&n.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,n){this.props.onCatch&&this.props.onCatch(e,n)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function Qg({error:t}){const[e,n]=U.useState(!1);return h.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[h.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),h.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>n(r=>!r),children:e?"Hide Error":"Show Error"})]}),h.jsx("div",{style:{height:".25rem"}}),e?h.jsx("div",{children:h.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?h.jsx("code",{children:t.message}):null})}):null]})}function Ii(t){const e=Hi({warn:t?.router===void 0}),n=t?.router||e,r=U.useRef();return Sj(n.__store,i=>{if(t?.select){if(t.structuralSharing??n.options.defaultStructuralSharing){const o=Cs(r.current,t.select(i));return r.current=o,o}return t.select(i)}return i})}function eo(t){return!!t?.isNotFound}function $j(t){const e=Ii({select:n=>`not-found-${n.location.pathname}-${n.status}`});return h.jsx(bw,{getResetKey:()=>e,onCatch:(n,r)=>{var i;if(eo(n))(i=t.onCatch)==null||i.call(t,n,r);else throw n},errorComponent:({error:n})=>{var r;if(eo(n))return(r=t.fallback)==null?void 0:r.call(t,n);throw n},children:t.children})}function Bj(){return h.jsx("p",{children:"Not Found"})}const Wj={stringify:t=>JSON.stringify(t,function(n,r){const i=this[n],o=gk.find(l=>l.stringifyCondition(i));return o?o.stringify(i):r}),parse:t=>JSON.parse(t,function(n,r){const i=this[n],o=gk.find(l=>l.parseCondition(i));return o?o.parse(i):r})},gk=[{stringifyCondition:t=>t instanceof Date,stringify:t=>({$date:t.toISOString()}),parseCondition:t=>Au(t)&&t.$date,parse:t=>new Date(t.$date)},{stringifyCondition:t=>t===void 0,stringify:()=>({$undefined:""}),parseCondition:t=>Au(t)&&t.$undefined==="",parse:()=>{}}],LO=["component","errorComponent","pendingComponent","notFoundComponent"];function zj(t){var e;for(const n of LO)if((e=t.options[n])!=null&&e.preload)return!0;return!1}function Rb(t,e){if(t==null)return{};if("~standard"in t){const n=t["~standard"].validate(e);if(n instanceof Promise)throw new mx("Async validation not supported");if(n.issues)throw new mx(JSON.stringify(n.issues,void 0,2));return n.value}return"parse"in t?t.parse(e):typeof t=="function"?t(e):{}}function Uj(t){return new Vj(t)}class Vj{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.startReactTransition=n=>n(),this.update=n=>{var r;n.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/guide/not-found-errors#migrating-from-notfoundroute for more info.");const i=this.options;this.options={...this.options,...n},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(o=>[encodeURIComponent(o),o])):void 0,(!this.basepath||n.basepath&&n.basepath!==i.basepath)&&(n.basepath===void 0||n.basepath===""||n.basepath==="/"?this.basepath="/":this.basepath=`/${jj(n.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?hj({initialEntries:[this.basepath||"/"]}):pj()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new wj(Qj(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(o=>!["redirected"].includes(o.status))}}})),typeof window<"u"&&"CSS"in window&&typeof((r=window.CSS)==null?void 0:r.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.buildRouteTree=()=>{this.routesById={},this.routesByPath={};const n=this.options.notFoundRoute;n&&(n.init({originalIndex:0x174876e7ff,defaultSsr:this.options.defaultSsr}),this.routesById[n.id]=n);const r=l=>{l.forEach((c,d)=>{c.init({originalIndex:d,defaultSsr:this.options.defaultSsr});const m=this.routesById[c.id];if(ss(!m,`Duplicate routes found with id: ${String(c.id)}`),this.routesById[c.id]=c,!c.isRoot&&c.path){const b=tc(c.fullPath);(!this.routesByPath[b]||c.fullPath.endsWith("/"))&&(this.routesByPath[b]=c)}const y=c.children;y?.length&&r(y)})};r([this.routeTree]);const i=[];Object.values(this.routesById).forEach((l,c)=>{var d;if(l.isRoot||!l.path)return;const m=vw(l.fullPath),y=ju(m);for(;y.length>1&&((d=y[0])==null?void 0:d.value)==="/";)y.shift();const b=y.map(E=>E.value==="/"?.75:E.type==="param"?.5:E.type==="wildcard"?.25:1);i.push({child:l,trimmed:m,parsed:y,index:c,scores:b})}),this.flatRoutes=i.sort((l,c)=>{const d=Math.min(l.scores.length,c.scores.length);for(let m=0;m<d;m++)if(l.scores[m]!==c.scores[m])return c.scores[m]-l.scores[m];if(l.scores.length!==c.scores.length)return c.scores.length-l.scores.length;for(let m=0;m<d;m++)if(l.parsed[m].value!==c.parsed[m].value)return l.parsed[m].value>c.parsed[m].value?1:-1;return l.index-c.index}).map((l,c)=>(l.child.rank=c,l.child))},this.subscribe=(n,r)=>{const i={eventType:n,fn:r};return this.subscribers.add(i),()=>{this.subscribers.delete(i)}},this.emit=n=>{this.subscribers.forEach(r=>{r.eventType===n.type&&r.fn(n)})},this.parseLocation=(n,r)=>{const i=({pathname:d,search:m,hash:y,state:b})=>{const E=this.options.parseSearch(m),N=this.options.stringifySearch(E);return{pathname:d,searchStr:N,search:Cs(n?.search,E),hash:y.split("#").reverse()[0]??"",href:`${d}${N}${y}`,state:Cs(n?.state,b)}},o=i(r??this.history.location),{__tempLocation:l,__tempKey:c}=o.state;if(l&&(!c||c===this.tempLocationKey)){const d=i(l);return d.state.key=o.state.key,delete d.state.__tempLocation,{...d,maskedLocation:o}}return o},this.resolvePathWithBase=(n,r)=>Fj({basepath:this.basepath,base:n,to:Vg(r),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.getMatchedRoutes=(n,r)=>{let i={};const o=tc(n.pathname),l=y=>Wh(this.basepath,o,{to:y.fullPath,caseSensitive:y.options.caseSensitive??this.options.caseSensitive,fuzzy:!0});let c=r?.to!==void 0?this.routesByPath[r.to]:void 0;c?i=l(c):c=this.flatRoutes.find(y=>{const b=l(y);return b?(i=b,!0):!1});let d=c||this.routesById[ns];const m=[d];for(;d.parentRoute;)d=d.parentRoute,m.unshift(d);return{matchedRoutes:m,routeParams:i,foundRoute:c}},this.cancelMatch=n=>{const r=this.getMatch(n);r&&(r.abortController.abort(),clearTimeout(r.pendingTimeout))},this.cancelMatches=()=>{var n;(n=this.state.pendingMatches)==null||n.forEach(r=>{this.cancelMatch(r.id)})},this.buildLocation=n=>{const r=(o={},l)=>{var c,d,m,y,b,E;const N=o._fromLocation?this.matchRoutes(o._fromLocation,{_buildLocation:!0}):this.state.matches,O=o.from!=null?N.find($=>Wh(this.basepath,tc($.pathname),{to:o.from,caseSensitive:!1,fuzzy:!1})):void 0,T=O?.pathname||this.latestLocation.pathname;ss(o.from==null||O!=null,"Could not find match for from: "+o.from);const A=(c=this.state.pendingMatches)!=null&&c.length?(d=hf(this.state.pendingMatches))==null?void 0:d.search:((m=hf(N))==null?void 0:m.search)||this.latestLocation.search,L=l?.matchedRoutes.filter($=>N.find(oe=>oe.routeId===$.id));let P;if(o.to)P=this.resolvePathWithBase(T,`${o.to}`);else{const $=this.routesById[(y=L?.find(oe=>{const Y=Bh({path:oe.fullPath,params:l?.routeParams??{},decodeCharMap:this.pathParamsDecodeCharMap});return pa([this.basepath,Y])===T}))==null?void 0:y.id];P=this.resolvePathWithBase(T,$?.to??T)}const B={...(b=hf(N))==null?void 0:b.params};let Q=(o.params??!0)===!0?B:{...B,...ec(o.params,B)};Object.keys(Q).length>0&&l?.matchedRoutes.map($=>{var oe;return((oe=$.options.params)==null?void 0:oe.stringify)??$.options.stringifyParams}).filter(Boolean).forEach($=>{Q={...Q,...$(Q)}}),P=Bh({path:P,params:Q??{},leaveWildcards:!1,leaveParams:n.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap});let J=A;if(n._includeValidateSearch&&((E=this.options.search)!=null&&E.strict)){let $={};l?.matchedRoutes.forEach(oe=>{try{oe.options.validateSearch&&($={...$,...Rb(oe.options.validateSearch,{...$,...J})??{}})}catch{}}),J=$}J=($=>{const oe=l?.matchedRoutes.reduce((Ee,qe)=>{var je;const ve=[];if("search"in qe.options)(je=qe.options.search)!=null&&je.middlewares&&ve.push(...qe.options.search.middlewares);else if(qe.options.preSearchFilters||qe.options.postSearchFilters){const pe=({search:ke,next:K})=>{let xe=ke;"preSearchFilters"in qe.options&&qe.options.preSearchFilters&&(xe=qe.options.preSearchFilters.reduce((at,ft)=>ft(at),ke));const ut=K(xe);return"postSearchFilters"in qe.options&&qe.options.postSearchFilters?qe.options.postSearchFilters.reduce((at,ft)=>ft(at),ut):ut};ve.push(pe)}if(n._includeValidateSearch&&qe.options.validateSearch){const pe=({search:ke,next:K})=>{try{const xe=K(ke);return{...xe,...Rb(qe.options.validateSearch,xe)??{}}}catch{}};ve.push(pe)}return Ee.concat(ve)},[])??[],Y=({search:Ee})=>o.search?o.search===!0?Ee:ec(o.search,Ee):{};oe.push(Y);const fe=(Ee,qe)=>{if(Ee>=oe.length)return qe;const je=oe[Ee];return je({search:qe,next:pe=>fe(Ee+1,pe)})};return fe(0,$)})(J),J=Cs(A,J);const G=this.options.stringifySearch(J),re=o.hash===!0?this.latestLocation.hash:o.hash?ec(o.hash,this.latestLocation.hash):void 0,H=re?`#${re}`:"";let te=o.state===!0?this.latestLocation.state:o.state?ec(o.state,this.latestLocation.state):{};return te=Cs(this.latestLocation.state,te),{pathname:P,search:J,searchStr:G,state:te,hash:re??"",href:`${P}${G}${H}`,unmaskOnReload:o.unmaskOnReload}},i=(o={},l)=>{var c;const d=r(o);let m=l?r(l):void 0;if(!m){let E={};const N=(c=this.options.routeMasks)==null?void 0:c.find(O=>{const T=Wh(this.basepath,d.pathname,{to:O.from,caseSensitive:!1,fuzzy:!1});return T?(E=T,!0):!1});if(N){const{from:O,...T}=N;l={...fm(n,["from"]),...T,params:E},m=r(l)}}const y=this.getMatchedRoutes(d,o),b=r(o,y);if(m){const E=this.getMatchedRoutes(m,l),N=r(l,E);b.maskedLocation=N}return b};return n.mask?i(n,{...fm(n,["from"]),...n.mask}):i(n)},this.commitLocation=({viewTransition:n,ignoreBlocker:r,...i})=>{const o=()=>{i.state.key=this.latestLocation.state.key;const d=bu(i.state,this.latestLocation.state);return delete i.state.key,d},l=this.latestLocation.href===i.href,c=this.commitLocationPromise;if(this.commitLocationPromise=au(()=>{c?.resolve()}),l&&o())this.load();else{let{maskedLocation:d,hashScrollIntoView:m,...y}=i;d&&(y={...d,state:{...d.state,__tempKey:void 0,__tempLocation:{...y,search:y.searchStr,state:{...y.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}},(y.unmaskOnReload??this.options.unmaskOnReload??!1)&&(y.state.__tempKey=this.tempLocationKey)),y.state.__hashScrollIntoViewOptions=m??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=n,this.history[i.replace?"replace":"push"](y.href,y.state,{ignoreBlocker:r})}return this.resetNextScroll=i.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:n,resetScroll:r,hashScrollIntoView:i,viewTransition:o,ignoreBlocker:l,href:c,...d}={})=>{if(c){const y=If(c,{});d.to=y.pathname,d.search=this.options.parseSearch(y.search),d.hash=y.hash.slice(1)}const m=this.buildLocation({...d,_includeValidateSearch:!0});return this.commitLocation({...m,viewTransition:o,replace:n,resetScroll:r,hashScrollIntoView:i,ignoreBlocker:l})},this.navigate=({to:n,reloadDocument:r,href:i,...o})=>{if(r){i||(i=this.buildLocation({to:n,...o}).href),o.replace?window.location.replace(i):window.location.href=i;return}return this.buildAndCommitLocation({...o,href:i,to:n})},this.load=async()=>{this.latestLocation=this.parseLocation(this.latestLocation);let n,r,i;for(i=new Promise(o=>{this.startReactTransition(async()=>{var l;try{const c=this.latestLocation,d=this.state.resolvedLocation,m=d.href!==c.href,y=d.pathname!==c.pathname;this.cancelMatches();let b;this.__store.batch(()=>{b=this.matchRoutes(c),this.__store.setState(E=>({...E,status:"pending",isLoading:!0,location:c,pendingMatches:b,cachedMatches:E.cachedMatches.filter(N=>!b.find(O=>O.id===N.id))}))}),this.state.redirect||this.emit({type:"onBeforeNavigate",fromLocation:d,toLocation:c,pathChanged:y,hrefChanged:m}),this.emit({type:"onBeforeLoad",fromLocation:d,toLocation:c,pathChanged:y,hrefChanged:m}),await this.loadMatches({matches:b,location:c,onReady:async()=>{this.startViewTransition(async()=>{let E,N,O;this.__store.batch(()=>{this.__store.setState(T=>{const A=T.matches,L=T.pendingMatches||T.matches;return E=A.filter(P=>!L.find(B=>B.id===P.id)),N=L.filter(P=>!A.find(B=>B.id===P.id)),O=A.filter(P=>L.find(B=>B.id===P.id)),{...T,isLoading:!1,loadedAt:Date.now(),matches:L,pendingMatches:void 0,cachedMatches:[...T.cachedMatches,...E.filter(P=>P.status!=="error")]}}),this.clearExpiredCache()}),[[E,"onLeave"],[N,"onEnter"],[O,"onStay"]].forEach(([T,A])=>{T.forEach(L=>{var P,B;(B=(P=this.looseRoutesById[L.routeId].options)[A])==null||B.call(P,L)})})})}})}catch(c){Cb(c)?(n=c,this.isServer||this.navigate({...n,replace:!0,ignoreBlocker:!0})):eo(c)&&(r=c),this.__store.setState(d=>({...d,statusCode:n?n.statusCode:r?404:d.matches.some(m=>m.status==="error")?500:200,redirect:n}))}this.latestLoadPromise===i&&((l=this.commitLocationPromise)==null||l.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),o()})}),this.latestLoadPromise=i,await i;this.latestLoadPromise&&i!==this.latestLoadPromise;)await this.latestLoadPromise},this.startViewTransition=n=>{const r=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,r&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let i;typeof r=="object"&&this.isViewTransitionTypesSupported?i={update:n,types:r.types}:i=n,document.startViewTransition(i)}else n()},this.updateMatch=(n,r)=>{var i;let o;const l=(i=this.state.pendingMatches)==null?void 0:i.find(y=>y.id===n),c=this.state.matches.find(y=>y.id===n),d=this.state.cachedMatches.find(y=>y.id===n),m=l?"pendingMatches":c?"matches":d?"cachedMatches":"";return m&&this.__store.setState(y=>{var b;return{...y,[m]:(b=y[m])==null?void 0:b.map(E=>E.id===n?o=r(E):E)}}),o},this.getMatch=n=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(r=>r.id===n),this.loadMatches=async({location:n,matches:r,preload:i,onReady:o,updateMatch:l=this.updateMatch})=>{let c,d=!1;const m=async()=>{d||(d=!0,await o?.())},y=E=>!!(i&&!this.state.matches.find(N=>N.id===E));!this.isServer&&!this.state.matches.length&&m();const b=(E,N)=>{var O,T,A;if(Cb(N)&&!N.reloadDocument)throw N;if(Hl(N)||eo(N)){if(l(E.id,L=>({...L,status:Hl(N)?"redirected":eo(N)?"notFound":"error",isFetching:!1,error:N,beforeLoadPromise:void 0,loaderPromise:void 0})),N.routeId||(N.routeId=E.routeId),(O=E.beforeLoadPromise)==null||O.resolve(),(T=E.loaderPromise)==null||T.resolve(),(A=E.loadPromise)==null||A.resolve(),Hl(N))throw d=!0,N=this.resolveRedirect({...N,_fromLocation:n}),N;if(eo(N))throw this._handleNotFound(r,N,{updateMatch:l}),N}};try{await new Promise((E,N)=>{(async()=>{var O,T,A;try{const L=(Q,J,W)=>{var G,re;const{id:H,routeId:te}=r[Q],$=this.looseRoutesById[te];if(J instanceof Promise)throw J;J.routerCode=W,c=c??Q,b(this.getMatch(H),J);try{(re=(G=$.options).onError)==null||re.call(G,J)}catch(oe){J=oe,b(this.getMatch(H),J)}l(H,oe=>{var Y,fe;return(Y=oe.beforeLoadPromise)==null||Y.resolve(),(fe=oe.loadPromise)==null||fe.resolve(),{...oe,error:J,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[Q,{id:J,routeId:W}]of r.entries()){const G=this.getMatch(J),re=(O=r[Q-1])==null?void 0:O.id,H=this.looseRoutesById[W],te=H.options.pendingMs??this.options.defaultPendingMs,$=!!(o&&!this.isServer&&!y(J)&&(H.options.loader||H.options.beforeLoad)&&typeof te=="number"&&te!==1/0&&(H.options.pendingComponent??this.options.defaultPendingComponent));let oe=!0;if((G.beforeLoadPromise||G.loaderPromise)&&($&&setTimeout(()=>{try{m()}catch{}},te),await G.beforeLoadPromise,oe=this.getMatch(J).status!=="success"),oe){try{l(J,ft=>({...ft,loadPromise:au(()=>{var dt;(dt=ft.loadPromise)==null||dt.resolve()}),beforeLoadPromise:au()}));const Y=new AbortController;let fe;$&&(fe=setTimeout(()=>{try{m()}catch{}},te));const{paramsError:Ee,searchError:qe}=this.getMatch(J);Ee&&L(Q,Ee,"PARSE_PARAMS"),qe&&L(Q,qe,"VALIDATE_SEARCH");const je=()=>re?this.getMatch(re).context:this.options.context??{};l(J,ft=>({...ft,isFetching:"beforeLoad",fetchCount:ft.fetchCount+1,abortController:Y,pendingTimeout:fe,context:{...je(),...ft.__routeContext,...ft.__beforeLoadContext}}));const{search:ve,params:pe,context:ke,cause:K}=this.getMatch(J),xe=y(J),ut={search:ve,abortController:Y,params:pe,preload:xe,context:ke,location:n,navigate:ft=>this.navigate({...ft,_fromLocation:n}),buildLocation:this.buildLocation,cause:xe?"preload":K,matches:r};let at=await ((A=(T=H.options).beforeLoad)==null?void 0:A.call(T,ut))??{};this.serializeLoaderData&&(at=this.serializeLoaderData("__beforeLoadContext",at,{router:this,match:this.getMatch(J)})),(Hl(at)||eo(at))&&L(Q,at,"BEFORE_LOAD"),l(J,ft=>({...ft,__beforeLoadContext:at,context:{...je(),...ft.__routeContext,...at},abortController:Y}))}catch(Y){L(Q,Y,"BEFORE_LOAD")}l(J,Y=>{var fe;return(fe=Y.beforeLoadPromise)==null||fe.resolve(),{...Y,beforeLoadPromise:void 0,isFetching:!1}})}}const P=r.slice(0,c),B=[];P.forEach(({id:Q,routeId:J},W)=>{B.push((async()=>{const{loaderPromise:G}=this.getMatch(Q);let re=!1;if(G)await G;else{const H=B[W-1],te=this.looseRoutesById[J],$=()=>{const{params:xe,loaderDeps:ut,abortController:at,context:ft,cause:dt}=this.getMatch(Q),pt=y(Q);return{params:xe,deps:ut,preload:!!pt,parentMatchPromise:H,abortController:at,context:ft,location:n,navigate:vt=>this.navigate({...vt,_fromLocation:n}),cause:pt?"preload":dt,route:te}},oe=Date.now()-this.getMatch(Q).updatedAt,Y=y(Q),fe=Y?te.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:te.options.staleTime??this.options.defaultStaleTime??0,Ee=te.options.shouldReload,qe=typeof Ee=="function"?Ee($()):Ee;l(Q,xe=>({...xe,loaderPromise:au(),preload:!!Y&&!this.state.matches.find(ut=>ut.id===Q)}));const je=async()=>{var xe,ut,at,ft,dt,pt,vt,At;try{const mt=async()=>{const ht=this.getMatch(Q);ht.minPendingPromise&&await ht.minPendingPromise};try{this.loadRouteChunk(te),l(Q,dn=>({...dn,isFetching:"loader"}));let ht=await ((ut=(xe=te.options).loader)==null?void 0:ut.call(xe,$()));this.serializeLoaderData&&(ht=this.serializeLoaderData("loaderData",ht,{router:this,match:this.getMatch(Q)})),b(this.getMatch(Q),ht),await te._lazyPromise,await mt();const kt=(ft=(at=te.options).head)==null?void 0:ft.call(at,{matches:r,match:this.getMatch(Q),params:this.getMatch(Q).params,loaderData:ht}),Nt=kt?.meta,Zt=kt?.links,Kt=kt?.scripts,rn=(pt=(dt=te.options).headers)==null?void 0:pt.call(dt,{loaderData:ht});l(Q,dn=>({...dn,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:ht,meta:Nt,links:Zt,scripts:Kt,headers:rn}))}catch(ht){let kt=ht;await mt(),b(this.getMatch(Q),ht);try{(At=(vt=te.options).onError)==null||At.call(vt,ht)}catch(Nt){kt=Nt,b(this.getMatch(Q),Nt)}l(Q,Nt=>({...Nt,error:kt,status:"error",isFetching:!1}))}await te._componentsPromise}catch(mt){l(Q,ht=>({...ht,loaderPromise:void 0})),b(this.getMatch(Q),mt)}},{status:ve,invalid:pe}=this.getMatch(Q);re=ve==="success"&&(pe||(qe??oe>fe)),Y&&te.options.preload===!1||(re?(async()=>{try{await je()}catch(xe){Cb(xe)&&await this.navigate(xe)}})():ve!=="success"&&await je());const{loaderPromise:ke,loadPromise:K}=this.getMatch(Q);ke?.resolve(),K?.resolve()}return l(Q,H=>({...H,isFetching:re?H.isFetching:!1,loaderPromise:void 0,invalid:!1})),this.getMatch(Q)})())}),await Promise.all(B),E()}catch(L){N(L)}})()}),await m()}catch(E){if(Hl(E)||eo(E))throw eo(E)&&!i&&await m(),E}return r},this.invalidate=n=>{const r=i=>{var o;return((o=n?.filter)==null?void 0:o.call(n,i))??!0?{...i,invalid:!0,...i.status==="error"?{status:"pending",error:void 0}:{}}:i};return this.__store.setState(i=>{var o;return{...i,matches:i.matches.map(r),cachedMatches:i.cachedMatches.map(r),pendingMatches:(o=i.pendingMatches)==null?void 0:o.map(r)}}),this.load()},this.resolveRedirect=n=>{const r=n;return r.href||(r.href=this.buildLocation(r).href),r},this.clearCache=n=>{const r=n?.filter;r!==void 0?this.__store.setState(i=>({...i,cachedMatches:i.cachedMatches.filter(o=>!r(o))})):this.__store.setState(i=>({...i,cachedMatches:[]}))},this.clearExpiredCache=()=>{const n=r=>{const i=this.looseRoutesById[r.routeId];if(!i.options.loader)return!0;const o=(r.preload?i.options.preloadGcTime??this.options.defaultPreloadGcTime:i.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return!(r.status!=="error"&&Date.now()-r.updatedAt<o)};this.clearCache({filter:n})},this.loadRouteChunk=n=>(n._lazyPromise===void 0&&(n.lazyFn?n._lazyPromise=n.lazyFn().then(r=>{const{id:i,...o}=r.options;Object.assign(n.options,o)}):n._lazyPromise=Promise.resolve()),n._componentsPromise===void 0&&(n._componentsPromise=n._lazyPromise.then(()=>Promise.all(LO.map(async r=>{const i=n.options[r];i?.preload&&await i.preload()})))),n._componentsPromise),this.preloadRoute=async n=>{const r=this.buildLocation(n);let i=this.matchRoutes(r,{throwOnError:!0,preload:!0,dest:n});const o=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(c=>c.id)),l=new Set([...o,...this.state.cachedMatches.map(c=>c.id)]);this.__store.batch(()=>{i.forEach(c=>{l.has(c.id)||this.__store.setState(d=>({...d,cachedMatches:[...d.cachedMatches,c]}))})});try{return i=await this.loadMatches({matches:i,location:r,preload:!0,updateMatch:(c,d)=>{o.has(c)?i=i.map(m=>m.id===c?d(m):m):this.updateMatch(c,d)}}),i}catch(c){if(Hl(c))return c.reloadDocument?void 0:await this.preloadRoute({...c,_fromLocation:r});console.error(c);return}},this.matchRoute=(n,r)=>{const i={...n,to:n.to?this.resolvePathWithBase(n.from||"",n.to):void 0,params:n.params||{},leaveParams:!0},o=this.buildLocation(i);if(r?.pending&&this.state.status!=="pending")return!1;const c=(r?.pending===void 0?!this.state.isLoading:r.pending)?this.latestLocation:this.state.resolvedLocation,d=Wh(this.basepath,c.pathname,{...r,to:o.pathname});return!d||n.params&&!bu(d,n.params,{partial:!0})?!1:d&&(r?.includeSearch??!0)?bu(c.search,o.search,{partial:!0})?d:!1:d},this.dehydrate=()=>{var n;const r=((n=this.options.errorSerializer)==null?void 0:n.serialize)??Kj;return{state:{dehydratedMatches:this.state.matches.map(i=>({...fm(i,["id","status","updatedAt"]),error:i.error?{data:r(i.error),__isServerError:!0}:void 0}))},manifest:this.manifest}},this.hydrate=()=>{var n,r,i;let o;typeof document<"u"&&(o=this.options.transformer.parse((n=window.__TSR__)==null?void 0:n.dehydrated)),ss(o),this.dehydratedData=o.payload,(i=(r=this.options).hydrate)==null||i.call(r,o.payload);const l=o.router.state,c=this.matchRoutes(this.state.location).map(d=>{const m=l.dehydratedMatches.find(y=>y.id===d.id);return ss(m,`Could not find a client-side match for dehydrated match with id: ${d.id}!`),{...d,...m}});this.__store.setState(d=>({...d,matches:c})),this.manifest=o.router.manifest},this.injectedHtml=[],this.injectHtml=n=>{const r=()=>(this.injectedHtml=this.injectedHtml.filter(i=>i!==r),n);this.injectedHtml.push(r)},this.injectScript=(n,r)=>{this.injectHtml(`<script class='tsr-once'>${n}; if (typeof __TSR__ !== 'undefined') __TSR__.cleanScripts()</script>`)},this.streamedKeys=new Set,this.getStreamedValue=n=>{var r;if(this.isServer)return;const i=(r=window.__TSR__)==null?void 0:r.streamedValues[n];if(i)return i.parsed||(i.parsed=this.options.transformer.parse(i.value)),i.parsed},this.streamValue=(n,r)=>{var i;this.streamedKeys.has(n),this.streamedKeys.add(n),this.injectScript(`__TSR__.streamedValues['${n}'] = { value: ${(i=this.serializer)==null?void 0:i.call(this,this.options.transformer.stringify(r))}}`)},this._handleNotFound=(n,r,{updateMatch:i=this.updateMatch}={})=>{const o=Object.fromEntries(n.map(d=>[d.routeId,d]));let l=(r.global?this.looseRoutesById[ns]:this.looseRoutesById[r.routeId])||this.looseRoutesById[ns];for(;!l.options.notFoundComponent&&!this.options.defaultNotFoundComponent&&l.id!==ns;)l=l.parentRoute,ss(l);const c=o[l.id];ss(c,"Could not find match for route: "+l.id),i(c.id,d=>({...d,status:"notFound",error:r,isFetching:!1})),r.routerCode==="BEFORE_LOAD"&&l.parentRoute&&(r.routeId=l.parentRoute.id,this._handleNotFound(n,r,{updateMatch:i}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(n=>n.status==="notFound"||n.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??Oj,parseSearch:e.parseSearch??Ij,transformer:e.transformer??Wj}),typeof document<"u"&&(window.__TSR__ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutes(e,n,r){return typeof e=="string"?this.matchRoutesInternal({pathname:e,search:n},r):this.matchRoutesInternal(e,n)}matchRoutesInternal(e,n){const{foundRoute:r,matchedRoutes:i,routeParams:o}=this.getMatchedRoutes(e,n?.dest);let l=!1;(r?r.path!=="/"&&o["**"]:tc(e.pathname))&&(this.options.notFoundRoute?i.push(this.options.notFoundRoute):l=!0);const c=(()=>{if(l){if(this.options.notFoundMode!=="root")for(let b=i.length-1;b>=0;b--){const E=i[b];if(E.children)return E.id}return ns}})(),d=i.map(b=>{var E;let N;const O=((E=b.options.params)==null?void 0:E.parse)??b.options.parseParams;if(O)try{const T=O(o);Object.assign(o,T)}catch(T){if(N=new Hj(T.message,{cause:T}),n?.throwOnError)throw N;return N}}),m=[],y=b=>b?.id?b.context??this.options.context??{}:this.options.context??{};return i.forEach((b,E)=>{var N,O,T,A;const L=m[E-1],[P,B]=(()=>{const Y=L?.search??e.search;try{const fe=Rb(b.options.validateSearch,Y)??{};return[{...Y,...fe},void 0]}catch(fe){const Ee=new mx(fe.message,{cause:fe});if(n?.throwOnError)throw Ee;return[Y,Ee]}})(),Q=((O=(N=b.options).loaderDeps)==null?void 0:O.call(N,{search:P}))??"",J=Q?JSON.stringify(Q):"",W=Bh({path:b.fullPath,params:o,decodeCharMap:this.pathParamsDecodeCharMap}),G=Bh({path:b.id,params:o,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap})+J,re=this.getMatch(G),H=this.state.matches.find(Y=>Y.routeId===b.id),te=H?"stay":"enter";let $;if(re)$={...re,cause:te,params:H?Cs(H.params,o):o,search:Cs(H?H.search:re.search,P)};else{const Y=b.options.loader||b.options.beforeLoad||b.lazyFn||zj(b)?"pending":"success";$={id:G,index:E,routeId:b.id,params:H?Cs(H.params,o):o,pathname:pa([this.basepath,W]),updatedAt:Date.now(),search:H?Cs(H.search,P):P,searchError:void 0,status:Y,isFetching:!1,error:void 0,paramsError:d[E],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:te,loaderDeps:H?Cs(H.loaderDeps,Q):Q,invalid:!1,preload:!1,links:void 0,scripts:void 0,meta:void 0,staticData:b.options.staticData||{},loadPromise:au(),fullPath:b.fullPath}}$.status==="success"&&($.headers=(A=(T=b.options).headers)==null?void 0:A.call(T,{loaderData:$.loaderData})),n?.preload||($.globalNotFound=c===b.id),$.searchError=B;const oe=y(L);$.context={...oe,...$.__routeContext,...$.__beforeLoadContext},m.push($)}),m.forEach((b,E)=>{var N,O,T,A;const L=this.looseRoutesById[b.routeId];if(!this.getMatch(b.id)&&n?._buildLocation!==!0){const Q=m[E-1],J=y(Q),W={deps:b.loaderDeps,params:b.params,context:J,location:e,navigate:G=>this.navigate({...G,_fromLocation:e}),buildLocation:this.buildLocation,cause:b.cause,abortController:b.abortController,preload:!!b.preload,matches:m};b.__routeContext=((O=(N=L.options).context)==null?void 0:O.call(N,W))??{},b.context={...J,...b.__routeContext,...b.__beforeLoadContext}}const B=(A=(T=L.options).head)==null?void 0:A.call(T,{matches:m,match:b,params:b.params,loaderData:b.loaderData??void 0});b.links=B?.links,b.scripts=B?.scripts,b.meta=B?.meta}),m}}class mx extends Error{}class Hj extends Error{}function Qj(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:{...t},location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function Kj(t){return t instanceof Error?{name:t.name,message:t.message}:{data:t}}function yk(t){return!(typeof t=="object"&&t&&"data"in t)||!("__isServerError"in t&&t.__isServerError)||!(typeof t.data=="object"&&t.data)?!1:t.__isServerError===!0}function vk(t){if("name"in t&&"message"in t){const e=new Error(t.message);return e.name=t.name,e}return t.data}const Kg=U.createContext(void 0),Gj=U.createContext(void 0);function dl(t){const e=U.useContext(t.from?Gj:Kg);return Ii({select:r=>{const i=r.matches.find(o=>t.from?t.from===o.routeId:o.id===e);if(ss(!((t.shouldThrow??!0)&&!i),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),i!==void 0)return t.select?t.select(i):i},structuralSharing:t.structuralSharing})}function wl(t){return dl({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}function Jj(t){const{select:e,...n}=t;return dl({...n,select:r=>e?e(r.loaderDeps):r.loaderDeps})}function Wn(t){return dl({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.params):e.params})}function Zj(t){return dl({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}function _w(t){const{navigate:e}=Hi();return U.useCallback(n=>e({...n}),[e])}let DO=class{constructor(e){this.init=n=>{var r,i;this.originalIndex=n.originalIndex;const o=this.options,l=!o?.path&&!o?.id;this.parentRoute=(i=(r=this.options).getParentRoute)==null?void 0:i.call(r),l?this._path=ns:ss(this.parentRoute);let c=l?ns:o.path;c&&c!=="/"&&(c=vw(c));const d=o?.id||c;let m=l?ns:pa([this.parentRoute.id===ns?"":this.parentRoute.id,d]);c===ns&&(c="/"),m!==ns&&(m=pa(["/",m]));const y=m===ns?"/":pa([this.parentRoute.fullPath,c]);this._path=c,this._id=m,this._fullPath=y,this._to=y,this._ssr=o?.ssr??n.defaultSsr??!0},this.updateLoader=n=>(Object.assign(this.options,n),this),this.update=n=>(Object.assign(this.options,n),this),this.lazy=n=>(this.lazyFn=n,this),this.useMatch=n=>dl({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>dl({...n,from:this.id,select:r=>n?.select?n.select(r.context):r.context}),this.useSearch=n=>Zj({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>Wn({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>Jj({...n,from:this.id}),this.useLoaderData=n=>wl({...n,from:this.id}),this.useNavigate=()=>_w({from:this.id}),this.options=e||{},this.isRoot=!e?.getParentRoute,ss(!(e?.id&&e?.path)),this.$$typeof=Symbol.for("react.memo")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}get ssr(){return this._ssr}addChildren(e){return this._addFileChildren(e)}_addFileChildren(e){return Array.isArray(e)&&(this.children=e),typeof e=="object"&&e!==null&&(this.children=Object.values(e)),this}};function Yj(t){return new DO(t)}function Xj(){return t=>tP(t)}class eP extends DO{constructor(e){super(e)}addChildren(e){return super.addChildren(e),this}_addFileChildren(e){return super._addFileChildren(e),this}_addFileTypes(){return this}}function tP(t){return new eP(t)}function Xt(t){return new nP(t,{silent:!0}).createRoute}class nP{constructor(e,n){this.path=e,this.createRoute=r=>{this.silent;const i=Yj(r);return i.isRoot=!1,i},this.silent=n?.silent}}function pm(t){return h.jsx(h.Fragment,{children:t.children})}function MO(t,e,n){return e.options.notFoundComponent?h.jsx(e.options.notFoundComponent,{data:n}):t.options.defaultNotFoundComponent?h.jsx(t.options.defaultNotFoundComponent,{data:n}):h.jsx(Bj,{})}const $O=U.memo(function({matchId:e}){var n,r;const i=Hi(),o=Ii({select:A=>{var L;return(L=A.matches.find(P=>P.id===e))==null?void 0:L.routeId}});ss(o);const l=i.routesById[o],c=l.options.pendingComponent??i.options.defaultPendingComponent,d=c?h.jsx(c,{}):null,m=l.options.errorComponent??i.options.defaultErrorComponent,y=l.options.onCatch??i.options.defaultOnCatch,b=l.isRoot?l.options.notFoundComponent??((n=i.options.notFoundRoute)==null?void 0:n.options.component):l.options.notFoundComponent,E=(!l.isRoot||l.options.wrapInSuspense)&&(l.options.wrapInSuspense??c??((r=l.options.errorComponent)==null?void 0:r.preload))?U.Suspense:pm,N=m?bw:pm,O=b?$j:pm,T=Ii({select:A=>A.loadedAt});return h.jsx(Kg.Provider,{value:e,children:h.jsx(E,{fallback:d,children:h.jsx(N,{getResetKey:()=>T,errorComponent:m||Qg,onCatch:(A,L)=>{if(eo(A))throw A;y?.(A,L)},children:h.jsx(O,{fallback:A=>{if(!b||A.routeId&&A.routeId!==o||!A.routeId&&!l.isRoot)throw A;return U.createElement(b,A)},children:h.jsx(rP,{matchId:e})})})})})}),rP=U.memo(function({matchId:e}){var n,r,i,o,l;const c=Hi(),{match:d,matchIndex:m,routeId:y}=Ii({select:O=>{const T=O.matches.findIndex(P=>P.id===e),A=O.matches[T];return{routeId:A.routeId,matchIndex:T,match:fm(A,["id","status","error"])}},structuralSharing:!0}),b=c.routesById[y],E=U.useMemo(()=>{const O=b.options.component??c.options.defaultComponent;return O?h.jsx(O,{}):h.jsx(Bo,{})},[b.options.component,c.options.defaultComponent]),N=(b.options.errorComponent??c.options.defaultErrorComponent)||Qg;if(d.status==="notFound"){let O;return yk(d.error)?O=(((n=c.options.errorSerializer)==null?void 0:n.deserialize)??vk)(d.error.data):O=d.error,ss(eo(O)),MO(c,b,O)}if(d.status==="redirected")throw ss(Hl(d.error)),(r=c.getMatch(d.id))==null?void 0:r.loadPromise;if(d.status==="error"){if(c.isServer)return h.jsx(N,{error:d.error,info:{componentStack:""}});throw yk(d.error)?(((i=c.options.errorSerializer)==null?void 0:i.deserialize)??vk)(d.error.data):d.error}if(d.status==="pending"){const O=b.options.pendingMinMs??c.options.defaultPendingMinMs;if(O&&!((o=c.getMatch(d.id))!=null&&o.minPendingPromise)&&!c.isServer){const T=au();Promise.resolve().then(()=>{c.updateMatch(d.id,A=>({...A,minPendingPromise:T}))}),setTimeout(()=>{T.resolve(),c.updateMatch(d.id,A=>({...A,minPendingPromise:void 0}))},O)}throw(l=c.getMatch(d.id))==null?void 0:l.loadPromise}return h.jsxs(h.Fragment,{children:[E,c.AfterEachMatch?h.jsx(c.AfterEachMatch,{match:d,matchIndex:m}):null]})}),Bo=U.memo(function(){const e=Hi(),n=U.useContext(Kg),r=Ii({select:m=>{var y;return(y=m.matches.find(b=>b.id===n))==null?void 0:y.routeId}}),i=e.routesById[r],o=Ii({select:m=>{const b=m.matches.find(E=>E.id===n);return ss(b),b.globalNotFound}}),l=Ii({select:m=>{var y;const b=m.matches,E=b.findIndex(N=>N.id===n);return(y=b[E+1])==null?void 0:y.id}});if(o)return MO(e,i,void 0);if(!l)return null;const c=h.jsx($O,{matchId:l}),d=e.options.defaultPendingComponent?h.jsx(e.options.defaultPendingComponent,{}):null;return n===ns?h.jsx(U.Suspense,{fallback:d,children:c}):c});var Ab={exports:{}},Li={},jb={exports:{}},Pb={};var bk;function iP(){return bk||(bk=1,function(t){function e(ve,pe){var ke=ve.length;ve.push(pe);e:for(;0<ke;){var K=ke-1>>>1,xe=ve[K];if(0<i(xe,pe))ve[K]=pe,ve[ke]=xe,ke=K;else break e}}function n(ve){return ve.length===0?null:ve[0]}function r(ve){if(ve.length===0)return null;var pe=ve[0],ke=ve.pop();if(ke!==pe){ve[0]=ke;e:for(var K=0,xe=ve.length,ut=xe>>>1;K<ut;){var at=2*(K+1)-1,ft=ve[at],dt=at+1,pt=ve[dt];if(0>i(ft,ke))dt<xe&&0>i(pt,ft)?(ve[K]=pt,ve[dt]=ke,K=dt):(ve[K]=ft,ve[at]=ke,K=at);else if(dt<xe&&0>i(pt,ke))ve[K]=pt,ve[dt]=ke,K=dt;else break e}}return pe}function i(ve,pe){var ke=ve.sortIndex-pe.sortIndex;return ke!==0?ke:ve.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],m=[],y=1,b=null,E=3,N=!1,O=!1,T=!1,A=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(ve){for(var pe=n(m);pe!==null;){if(pe.callback===null)r(m);else if(pe.startTime<=ve)r(m),pe.sortIndex=pe.expirationTime,e(d,pe);else break;pe=n(m)}}function Q(ve){if(T=!1,B(ve),!O)if(n(d)!==null)O=!0,qe(J);else{var pe=n(m);pe!==null&&je(Q,pe.startTime-ve)}}function J(ve,pe){O=!1,T&&(T=!1,L(re),re=-1),N=!0;var ke=E;try{for(B(pe),b=n(d);b!==null&&(!(b.expirationTime>pe)||ve&&!$());){var K=b.callback;if(typeof K=="function"){b.callback=null,E=b.priorityLevel;var xe=K(b.expirationTime<=pe);pe=t.unstable_now(),typeof xe=="function"?b.callback=xe:b===n(d)&&r(d),B(pe)}else r(d);b=n(d)}if(b!==null)var ut=!0;else{var at=n(m);at!==null&&je(Q,at.startTime-pe),ut=!1}return ut}finally{b=null,E=ke,N=!1}}var W=!1,G=null,re=-1,H=5,te=-1;function $(){return!(t.unstable_now()-te<H)}function oe(){if(G!==null){var ve=t.unstable_now();te=ve;var pe=!0;try{pe=G(!0,ve)}finally{pe?Y():(W=!1,G=null)}}else W=!1}var Y;if(typeof P=="function")Y=function(){P(oe)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,Ee=fe.port2;fe.port1.onmessage=oe,Y=function(){Ee.postMessage(null)}}else Y=function(){A(oe,0)};function qe(ve){G=ve,W||(W=!0,Y())}function je(ve,pe){re=A(function(){ve(t.unstable_now())},pe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ve){ve.callback=null},t.unstable_continueExecution=function(){O||N||(O=!0,qe(J))},t.unstable_forceFrameRate=function(ve){0>ve||125<ve?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<ve?Math.floor(1e3/ve):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(ve){switch(E){case 1:case 2:case 3:var pe=3;break;default:pe=E}var ke=E;E=pe;try{return ve()}finally{E=ke}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ve,pe){switch(ve){case 1:case 2:case 3:case 4:case 5:break;default:ve=3}var ke=E;E=ve;try{return pe()}finally{E=ke}},t.unstable_scheduleCallback=function(ve,pe,ke){var K=t.unstable_now();switch(typeof ke=="object"&&ke!==null?(ke=ke.delay,ke=typeof ke=="number"&&0<ke?K+ke:K):ke=K,ve){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=0x3fffffff;break;case 4:xe=1e4;break;default:xe=5e3}return xe=ke+xe,ve={id:y++,callback:pe,priorityLevel:ve,startTime:ke,expirationTime:xe,sortIndex:-1},ke>K?(ve.sortIndex=ke,e(m,ve),n(d)===null&&ve===n(m)&&(T?(L(re),re=-1):T=!0,je(Q,ke-K))):(ve.sortIndex=xe,e(d,ve),O||N||(O=!0,qe(J))),ve},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(ve){var pe=E;return function(){var ke=E;E=pe;try{return ve.apply(this,arguments)}finally{E=ke}}}}(Pb)),Pb}var _k;function sP(){return _k||(_k=1,jb.exports=iP()),jb.exports}var xk;function oP(){if(xk)return Li;xk=1;var t=rp(),e=sP();function n(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},b={};function E(s){return d.call(b,s)?!0:d.call(y,s)?!1:m.test(s)?b[s]=!0:(y[s]=!0,!1)}function N(s,a,u,g){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return g?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function O(s,a,u,g){if(a===null||typeof a>"u"||N(s,a,u,g))return!0;if(g)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function T(s,a,u,g,w,k,j){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=g,this.attributeNamespace=w,this.mustUseProperty=u,this.propertyName=s,this.type=a,this.sanitizeURL=k,this.removeEmptyString=j}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){A[s]=new T(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];A[a]=new T(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){A[s]=new T(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){A[s]=new T(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){A[s]=new T(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){A[s]=new T(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){A[s]=new T(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){A[s]=new T(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){A[s]=new T(s,5,!1,s.toLowerCase(),null,!1,!1)});var L=/[\-:]([a-z])/g;function P(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(L,P);A[a]=new T(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(L,P);A[a]=new T(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(L,P);A[a]=new T(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){A[s]=new T(s,1,!1,s.toLowerCase(),null,!1,!1)}),A.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){A[s]=new T(s,1,!1,s.toLowerCase(),null,!0,!0)});function B(s,a,u,g){var w=A.hasOwnProperty(a)?A[a]:null;(w!==null?w.type!==0:g||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(O(a,u,w,g)&&(u=null),g||w===null?E(a)&&(u===null?s.removeAttribute(a):s.setAttribute(a,""+u)):w.mustUseProperty?s[w.propertyName]=u===null?w.type===3?!1:"":u:(a=w.attributeName,g=w.attributeNamespace,u===null?s.removeAttribute(a):(w=w.type,u=w===3||w===4&&u===!0?"":""+u,g?s.setAttributeNS(g,a,u):s.setAttribute(a,u))))}var Q=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),W=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),re=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),te=Symbol.for("react.provider"),$=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),Ee=Symbol.for("react.memo"),qe=Symbol.for("react.lazy"),je=Symbol.for("react.offscreen"),ve=Symbol.iterator;function pe(s){return s===null||typeof s!="object"?null:(s=ve&&s[ve]||s["@@iterator"],typeof s=="function"?s:null)}var ke=Object.assign,K;function xe(s){if(K===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);K=a&&a[1]||""}return`
`+K+s}var ut=!1;function at(s,a){if(!s||ut)return"";ut=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Le){var g=Le}Reflect.construct(s,[],a)}else{try{a.call()}catch(Le){g=Le}s.call(a.prototype)}else{try{throw Error()}catch(Le){g=Le}s()}}catch(Le){if(Le&&g&&typeof Le.stack=="string"){for(var w=Le.stack.split(`
`),k=g.stack.split(`
`),j=w.length-1,ae=k.length-1;1<=j&&0<=ae&&w[j]!==k[ae];)ae--;for(;1<=j&&0<=ae;j--,ae--)if(w[j]!==k[ae]){if(j!==1||ae!==1)do if(j--,ae--,0>ae||w[j]!==k[ae]){var he=`
`+w[j].replace(" at new "," at ");return s.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",s.displayName)),he}while(1<=j&&0<=ae);break}}}finally{ut=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?xe(s):""}function ft(s){switch(s.tag){case 5:return xe(s.type);case 16:return xe("Lazy");case 13:return xe("Suspense");case 19:return xe("SuspenseList");case 0:case 2:case 15:return s=at(s.type,!1),s;case 11:return s=at(s.type.render,!1),s;case 1:return s=at(s.type,!0),s;default:return""}}function dt(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case G:return"Fragment";case W:return"Portal";case H:return"Profiler";case re:return"StrictMode";case Y:return"Suspense";case fe:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case $:return(s.displayName||"Context")+".Consumer";case te:return(s._context.displayName||"Context")+".Provider";case oe:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ee:return a=s.displayName||null,a!==null?a:dt(s.type)||"Memo";case qe:a=s._payload,s=s._init;try{return dt(s(a))}catch{}}return null}function pt(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dt(a);case 8:return a===re?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function vt(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function At(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function mt(s){var a=At(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),g=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var w=u.get,k=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return w.call(this)},set:function(j){g=""+j,k.call(this,j)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return g},setValue:function(j){g=""+j},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function ht(s){s._valueTracker||(s._valueTracker=mt(s))}function kt(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),g="";return s&&(g=At(s)?s.checked?"true":"false":s.value),s=g,s!==u?(a.setValue(s),!0):!1}function Nt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Zt(s,a){var u=a.checked;return ke({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function Kt(s,a){var u=a.defaultValue==null?"":a.defaultValue,g=a.checked!=null?a.checked:a.defaultChecked;u=vt(a.value!=null?a.value:u),s._wrapperState={initialChecked:g,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function rn(s,a){a=a.checked,a!=null&&B(s,"checked",a,!1)}function dn(s,a){rn(s,a);var u=vt(a.value),g=a.type;if(u!=null)g==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(g==="submit"||g==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?ue(s,a.type,u):a.hasOwnProperty("defaultValue")&&ue(s,a.type,vt(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function le(s,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var g=a.type;if(!(g!=="submit"&&g!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,u||a===s.value||(s.value=a),s.defaultValue=a}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function ue(s,a,u){(a!=="number"||Nt(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var ye=Array.isArray;function Ce(s,a,u,g){if(s=s.options,a){a={};for(var w=0;w<u.length;w++)a["$"+u[w]]=!0;for(u=0;u<s.length;u++)w=a.hasOwnProperty("$"+s[u].value),s[u].selected!==w&&(s[u].selected=w),w&&g&&(s[u].defaultSelected=!0)}else{for(u=""+vt(u),a=null,w=0;w<s.length;w++){if(s[w].value===u){s[w].selected=!0,g&&(s[w].defaultSelected=!0);return}a!==null||s[w].disabled||(a=s[w])}a!==null&&(a.selected=!0)}}function De(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return ke({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Je(s,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(n(92));if(ye(u)){if(1<u.length)throw Error(n(93));u=u[0]}a=u}a==null&&(a=""),u=a}s._wrapperState={initialValue:vt(u)}}function Fe(s,a){var u=vt(a.value),g=vt(a.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),a.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),g!=null&&(s.defaultValue=""+g)}function et(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Vt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Vt(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var mn,Nr=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,g,w){MSApp.execUnsafeLocalFunction(function(){return s(a,u,g,w)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(mn=mn||document.createElement("div"),mn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=mn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function jn(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var Hr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ji=["Webkit","ms","Moz","O"];Object.keys(Hr).forEach(function(s){Ji.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Hr[a]=Hr[s]})});function Ir(s,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||Hr.hasOwnProperty(s)&&Hr[s]?(""+a).trim():a+"px"}function Bt(s,a){s=s.style;for(var u in a)if(a.hasOwnProperty(u)){var g=u.indexOf("--")===0,w=Ir(u,a[u],g);u==="float"&&(u="cssFloat"),g?s.setProperty(u,w):s[u]=w}}var vs=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bs(s,a){if(a){if(vs[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function _s(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uo=null;function Nl(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ld=null,bo=null,C=null;function jp(s){if(s=Td(s)){if(typeof ld!="function")throw Error(n(280));var a=s.stateNode;a&&(a=th(a),ld(s.stateNode,s.type,a))}}function on(s){bo?C?C.push(s):C=[s]:bo=s}function Pp(){if(bo){var s=bo,a=C;if(C=bo=null,jp(s),a)for(s=0;s<a.length;s++)jp(a[s])}}function Fp(s,a){return s(a)}function Lp(){}var cd=!1;function Il(s,a,u){if(cd)return s(a,u);cd=!0;try{return Fp(s,a,u)}finally{cd=!1,(bo!==null||C!==null)&&(Lp(),Pp())}}function xs(s,a){var u=s.stateNode;if(u===null)return null;var g=th(u);if(g===null)return null;u=g[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,a,typeof u));return u}var ud=!1;if(c)try{var Ol={};Object.defineProperty(Ol,"passive",{get:function(){ud=!0}}),window.addEventListener("test",Ol,Ol),window.removeEventListener("test",Ol,Ol)}catch{ud=!1}function Ly(s,a,u,g,w,k,j,ae,he){var Le=Array.prototype.slice.call(arguments,3);try{a.apply(u,Le)}catch(rt){this.onError(rt)}}var Tl=!1,_o=null,Ic=!1,xo=null,Dy={onError:function(s){Tl=!0,_o=s}};function My(s,a,u,g,w,k,j,ae,he){Tl=!1,_o=null,Ly.apply(Dy,arguments)}function $y(s,a,u,g,w,k,j,ae,he){if(My.apply(this,arguments),Tl){if(Tl){var Le=_o;Tl=!1,_o=null}else throw Error(n(198));Ic||(Ic=!0,xo=Le)}}function Vo(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,a.flags&4098&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function Dp(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Mp(s){if(Vo(s)!==s)throw Error(n(188))}function By(s){var a=s.alternate;if(!a){if(a=Vo(s),a===null)throw Error(n(188));return a!==s?null:s}for(var u=s,g=a;;){var w=u.return;if(w===null)break;var k=w.alternate;if(k===null){if(g=w.return,g!==null){u=g;continue}break}if(w.child===k.child){for(k=w.child;k;){if(k===u)return Mp(w),s;if(k===g)return Mp(w),a;k=k.sibling}throw Error(n(188))}if(u.return!==g.return)u=w,g=k;else{for(var j=!1,ae=w.child;ae;){if(ae===u){j=!0,u=w,g=k;break}if(ae===g){j=!0,g=w,u=k;break}ae=ae.sibling}if(!j){for(ae=k.child;ae;){if(ae===u){j=!0,u=k,g=w;break}if(ae===g){j=!0,g=k,u=w;break}ae=ae.sibling}if(!j)throw Error(n(189))}}if(u.alternate!==g)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:a}function $p(s){return s=By(s),s!==null?Bp(s):null}function Bp(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Bp(s);if(a!==null)return a;s=s.sibling}return null}var Wp=e.unstable_scheduleCallback,dd=e.unstable_cancelCallback,Wy=e.unstable_shouldYield,zy=e.unstable_requestPaint,dr=e.unstable_now,Uy=e.unstable_getCurrentPriorityLevel,fd=e.unstable_ImmediatePriority,zp=e.unstable_UserBlockingPriority,Oc=e.unstable_NormalPriority,Vy=e.unstable_LowPriority,Up=e.unstable_IdlePriority,Tc=null,ws=null;function Hy(s){if(ws&&typeof ws.onCommitFiberRoot=="function")try{ws.onCommitFiberRoot(Tc,s,void 0,(s.current.flags&128)===128)}catch{}}var Ci=Math.clz32?Math.clz32:Gy,Qy=Math.log,Ky=Math.LN2;function Gy(s){return s>>>=0,s===0?32:31-(Qy(s)/Ky|0)|0}var Sa=64,qc=4194304;function zs(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return s&0x7c00000;case 0x8000000:return 0x8000000;case 0x10000000:return 0x10000000;case 0x20000000:return 0x20000000;case 0x40000000:return 0x40000000;default:return s}}function Cc(s,a){var u=s.pendingLanes;if(u===0)return 0;var g=0,w=s.suspendedLanes,k=s.pingedLanes,j=u&0xfffffff;if(j!==0){var ae=j&~w;ae!==0?g=zs(ae):(k&=j,k!==0&&(g=zs(k)))}else j=u&~w,j!==0?g=zs(j):k!==0&&(g=zs(k));if(g===0)return 0;if(a!==0&&a!==g&&!(a&w)&&(w=g&-g,k=a&-a,w>=k||w===16&&(k&4194240)!==0))return a;if(g&4&&(g|=u&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=g;0<a;)u=31-Ci(a),w=1<<u,g|=s[u],a&=~w;return g}function Jy(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return-1;case 0x8000000:case 0x10000000:case 0x20000000:case 0x40000000:return-1;default:return-1}}function Zy(s,a){for(var u=s.suspendedLanes,g=s.pingedLanes,w=s.expirationTimes,k=s.pendingLanes;0<k;){var j=31-Ci(k),ae=1<<j,he=w[j];he===-1?(!(ae&u)||ae&g)&&(w[j]=Jy(ae,a)):he<=a&&(s.expiredLanes|=ae),k&=~ae}}function pd(s){return s=s.pendingLanes&-0x40000001,s!==0?s:s&0x40000000?0x40000000:0}function Vp(){var s=Sa;return Sa<<=1,!(Sa&4194240)&&(Sa=64),s}function hd(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function ql(s,a,u){s.pendingLanes|=a,a!==0x20000000&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-Ci(a),s[a]=u}function Yy(s,a){var u=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var g=s.eventTimes;for(s=s.expirationTimes;0<u;){var w=31-Ci(u),k=1<<w;a[w]=0,g[w]=-1,s[w]=-1,u&=~k}}function md(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var g=31-Ci(u),w=1<<g;w&a|s[g]&a&&(s[g]|=a),u&=~w}}var On=0;function Hp(s){return s&=-s,1<s?4<s?s&0xfffffff?16:0x20000000:4:1}var gd,ie,yd,Cl,vd,f=!1,p=[],_=null,x=null,S=null,I=new Map,X=new Map,se=[],Me="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ve(s,a){switch(s){case"focusin":case"focusout":_=null;break;case"dragenter":case"dragleave":x=null;break;case"mouseover":case"mouseout":S=null;break;case"pointerover":case"pointerout":I.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":X.delete(a.pointerId)}}function Ze(s,a,u,g,w,k){return s===null||s.nativeEvent!==k?(s={blockedOn:a,domEventName:u,eventSystemFlags:g,nativeEvent:k,targetContainers:[w]},a!==null&&(a=Td(a),a!==null&&ie(a)),s):(s.eventSystemFlags|=g,a=s.targetContainers,w!==null&&a.indexOf(w)===-1&&a.push(w),s)}function it(s,a,u,g,w){switch(a){case"focusin":return _=Ze(_,s,a,u,g,w),!0;case"dragenter":return x=Ze(x,s,a,u,g,w),!0;case"mouseover":return S=Ze(S,s,a,u,g,w),!0;case"pointerover":var k=w.pointerId;return I.set(k,Ze(I.get(k)||null,s,a,u,g,w)),!0;case"gotpointercapture":return k=w.pointerId,X.set(k,Ze(X.get(k)||null,s,a,u,g,w)),!0}return!1}function Ae(s){var a=Rl(s.target);if(a!==null){var u=Vo(a);if(u!==null){if(a=u.tag,a===13){if(a=Dp(u),a!==null){s.blockedOn=a,vd(s.priority,function(){yd(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Se(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=Z(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var g=new u.constructor(u.type,u);Uo=g,u.target.dispatchEvent(g),Uo=null}else return a=Td(u),a!==null&&ie(a),s.blockedOn=u,!1;a.shift()}return!0}function Ue(s,a,u){Se(s)&&u.delete(a)}function ce(){f=!1,_!==null&&Se(_)&&(_=null),x!==null&&Se(x)&&(x=null),S!==null&&Se(S)&&(S=null),I.forEach(Ue),X.forEach(Ue)}function ge(s,a){s.blockedOn===a&&(s.blockedOn=null,f||(f=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ce)))}function _e(s){function a(w){return ge(w,s)}if(0<p.length){ge(p[0],s);for(var u=1;u<p.length;u++){var g=p[u];g.blockedOn===s&&(g.blockedOn=null)}}for(_!==null&&ge(_,s),x!==null&&ge(x,s),S!==null&&ge(S,s),I.forEach(a),X.forEach(a),u=0;u<se.length;u++)g=se[u],g.blockedOn===s&&(g.blockedOn=null);for(;0<se.length&&(u=se[0],u.blockedOn===null);)Ae(u),u.blockedOn===null&&se.shift()}var We=Q.ReactCurrentBatchConfig,Be=!0;function we(s,a,u,g){var w=On,k=We.transition;We.transition=null;try{On=1,bt(s,a,u,g)}finally{On=w,We.transition=k}}function $e(s,a,u,g){var w=On,k=We.transition;We.transition=null;try{On=4,bt(s,a,u,g)}finally{On=w,We.transition=k}}function bt(s,a,u,g){if(Be){var w=Z(s,a,u,g);if(w===null)fv(s,a,g,F,u),Ve(s,g);else if(it(w,s,a,u,g))g.stopPropagation();else if(Ve(s,g),a&4&&-1<Me.indexOf(s)){for(;w!==null;){var k=Td(w);if(k!==null&&gd(k),k=Z(s,a,u,g),k===null&&fv(s,a,g,F,u),k===w)break;w=k}w!==null&&g.stopPropagation()}else fv(s,a,g,null,u)}}var F=null;function Z(s,a,u,g){if(F=null,s=Nl(g),s=Rl(s),s!==null)if(a=Vo(s),a===null)s=null;else if(u=a.tag,u===13){if(s=Dp(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return F=s,null}function me(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Uy()){case fd:return 1;case zp:return 4;case Oc:case Vy:return 16;case Up:return 0x20000000;default:return 16}default:return 16}}var Ke=null,V=null,ee=null;function q(){if(ee)return ee;var s,a=V,u=a.length,g,w="value"in Ke?Ke.value:Ke.textContent,k=w.length;for(s=0;s<u&&a[s]===w[s];s++);var j=u-s;for(g=1;g<=j&&a[u-g]===w[k-g];g++);return ee=w.slice(s,1<g?1-g:void 0)}function M(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function z(){return!0}function Te(){return!1}function Qe(s){function a(u,g,w,k,j){this._reactName=u,this._targetInst=w,this.type=g,this.nativeEvent=k,this.target=j,this.currentTarget=null;for(var ae in s)s.hasOwnProperty(ae)&&(u=s[ae],this[ae]=u?u(k):k[ae]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?z:Te,this.isPropagationStopped=Te,this}return ke(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=z)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=z)},persist:function(){},isPersistent:z}),a}var It={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lt=Qe(It),Wt=ke({},It,{view:0,detail:0}),Ye=Qe(Wt),de,Ie,Ge,nt=ke({},Wt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ln,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ge&&(Ge&&s.type==="mousemove"?(de=s.screenX-Ge.screenX,Ie=s.screenY-Ge.screenY):Ie=de=0,Ge=s),de)},movementY:function(s){return"movementY"in s?s.movementY:Ie}}),Rt=Qe(nt),Ut=ke({},nt,{dataTransfer:0}),Ne=Qe(Ut),He=ke({},Wt,{relatedTarget:0}),Xe=Qe(He),xt=ke({},It,{animationName:0,elapsedTime:0,pseudoElement:0}),gt=Qe(xt),Ft=ke({},It,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),an=Qe(Ft),Ot=ke({},It,{data:0}),fr=Qe(Ot),Pe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wt(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=yt[s])?!!a[s]:!1}function ln(){return wt}var Ln=ke({},Wt,{key:function(s){if(s.key){var a=Pe[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=M(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?lt[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ln,charCode:function(s){return s.type==="keypress"?M(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?M(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),qn=Qe(Ln),Pn=ke({},nt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ho=Qe(Pn),Jr=ke({},Wt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ln}),Xy=Qe(Jr),ev=ke({},It,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ss=Qe(ev),tv=ke({},nt,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Qp=Qe(tv),bd=[9,13,27,32],nv=c&&"CompositionEvent"in window,_d=null;c&&"documentMode"in document&&(_d=document.documentMode);var ER=c&&"TextEvent"in window&&!_d,L0=c&&(!nv||_d&&8<_d&&11>=_d),D0=" ",M0=!1;function $0(s,a){switch(s){case"keyup":return bd.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function B0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Rc=!1;function kR(s,a){switch(s){case"compositionend":return B0(a);case"keypress":return a.which!==32?null:(M0=!0,D0);case"textInput":return s=a.data,s===D0&&M0?null:s;default:return null}}function NR(s,a){if(Rc)return s==="compositionend"||!nv&&$0(s,a)?(s=q(),ee=V=Ke=null,Rc=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return L0&&a.locale!=="ko"?null:a.data;default:return null}}var IR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function W0(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!IR[s.type]:a==="textarea"}function z0(s,a,u,g){on(g),a=Yp(a,"onChange"),0<a.length&&(u=new Lt("onChange","change",null,u,g),s.push({event:u,listeners:a}))}var xd=null,wd=null;function OR(s){aS(s,0)}function Kp(s){var a=Lc(s);if(kt(a))return s}function TR(s,a){if(s==="change")return a}var U0=!1;if(c){var rv;if(c){var iv="oninput"in document;if(!iv){var V0=document.createElement("div");V0.setAttribute("oninput","return;"),iv=typeof V0.oninput=="function"}rv=iv}else rv=!1;U0=rv&&(!document.documentMode||9<document.documentMode)}function H0(){xd&&(xd.detachEvent("onpropertychange",Q0),wd=xd=null)}function Q0(s){if(s.propertyName==="value"&&Kp(wd)){var a=[];z0(a,wd,s,Nl(s)),Il(OR,a)}}function qR(s,a,u){s==="focusin"?(H0(),xd=a,wd=u,xd.attachEvent("onpropertychange",Q0)):s==="focusout"&&H0()}function CR(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Kp(wd)}function RR(s,a){if(s==="click")return Kp(a)}function AR(s,a){if(s==="input"||s==="change")return Kp(a)}function jR(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Us=typeof Object.is=="function"?Object.is:jR;function Sd(s,a){if(Us(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),g=Object.keys(a);if(u.length!==g.length)return!1;for(g=0;g<u.length;g++){var w=u[g];if(!d.call(a,w)||!Us(s[w],a[w]))return!1}return!0}function K0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function G0(s,a){var u=K0(s);s=0;for(var g;u;){if(u.nodeType===3){if(g=s+u.textContent.length,s<=a&&g>=a)return{node:u,offset:a-s};s=g}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=K0(u)}}function J0(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?J0(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Z0(){for(var s=window,a=Nt();a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=Nt(s.document)}return a}function sv(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function PR(s){var a=Z0(),u=s.focusedElem,g=s.selectionRange;if(a!==u&&u&&u.ownerDocument&&J0(u.ownerDocument.documentElement,u)){if(g!==null&&sv(u)){if(a=g.start,s=g.end,s===void 0&&(s=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(s,u.value.length);else if(s=(a=u.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var w=u.textContent.length,k=Math.min(g.start,w);g=g.end===void 0?k:Math.min(g.end,w),!s.extend&&k>g&&(w=g,g=k,k=w),w=G0(u,k);var j=G0(u,g);w&&j&&(s.rangeCount!==1||s.anchorNode!==w.node||s.anchorOffset!==w.offset||s.focusNode!==j.node||s.focusOffset!==j.offset)&&(a=a.createRange(),a.setStart(w.node,w.offset),s.removeAllRanges(),k>g?(s.addRange(a),s.extend(j.node,j.offset)):(a.setEnd(j.node,j.offset),s.addRange(a)))}}for(a=[],s=u;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)s=a[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var FR=c&&"documentMode"in document&&11>=document.documentMode,Ac=null,ov=null,Ed=null,av=!1;function Y0(s,a,u){var g=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;av||Ac==null||Ac!==Nt(g)||(g=Ac,"selectionStart"in g&&sv(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Ed&&Sd(Ed,g)||(Ed=g,g=Yp(ov,"onSelect"),0<g.length&&(a=new Lt("onSelect","select",null,a,u),s.push({event:a,listeners:g}),a.target=Ac)))}function Gp(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var jc={animationend:Gp("Animation","AnimationEnd"),animationiteration:Gp("Animation","AnimationIteration"),animationstart:Gp("Animation","AnimationStart"),transitionend:Gp("Transition","TransitionEnd")},lv={},X0={};c&&(X0=document.createElement("div").style,"AnimationEvent"in window||(delete jc.animationend.animation,delete jc.animationiteration.animation,delete jc.animationstart.animation),"TransitionEvent"in window||delete jc.transitionend.transition);function Jp(s){if(lv[s])return lv[s];if(!jc[s])return s;var a=jc[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in X0)return lv[s]=a[u];return s}var eS=Jp("animationend"),tS=Jp("animationiteration"),nS=Jp("animationstart"),rS=Jp("transitionend"),iS=new Map,sS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ea(s,a){iS.set(s,a),o(a,[s])}for(var cv=0;cv<sS.length;cv++){var uv=sS[cv],LR=uv.toLowerCase(),DR=uv[0].toUpperCase()+uv.slice(1);Ea(LR,"on"+DR)}Ea(eS,"onAnimationEnd"),Ea(tS,"onAnimationIteration"),Ea(nS,"onAnimationStart"),Ea("dblclick","onDoubleClick"),Ea("focusin","onFocus"),Ea("focusout","onBlur"),Ea(rS,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MR=new Set("cancel close invalid load scroll toggle".split(" ").concat(kd));function oS(s,a,u){var g=s.type||"unknown-event";s.currentTarget=u,$y(g,a,void 0,s),s.currentTarget=null}function aS(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var g=s[u],w=g.event;g=g.listeners;e:{var k=void 0;if(a)for(var j=g.length-1;0<=j;j--){var ae=g[j],he=ae.instance,Le=ae.currentTarget;if(ae=ae.listener,he!==k&&w.isPropagationStopped())break e;oS(w,ae,Le),k=he}else for(j=0;j<g.length;j++){if(ae=g[j],he=ae.instance,Le=ae.currentTarget,ae=ae.listener,he!==k&&w.isPropagationStopped())break e;oS(w,ae,Le),k=he}}}if(Ic)throw s=xo,Ic=!1,xo=null,s}function Yn(s,a){var u=a[vv];u===void 0&&(u=a[vv]=new Set);var g=s+"__bubble";u.has(g)||(lS(a,s,2,!1),u.add(g))}function dv(s,a,u){var g=0;a&&(g|=4),lS(u,s,g,a)}var Zp="_reactListening"+Math.random().toString(36).slice(2);function Nd(s){if(!s[Zp]){s[Zp]=!0,r.forEach(function(u){u!=="selectionchange"&&(MR.has(u)||dv(u,!1,s),dv(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Zp]||(a[Zp]=!0,dv("selectionchange",!1,a))}}function lS(s,a,u,g){switch(me(a)){case 1:var w=we;break;case 4:w=$e;break;default:w=bt}u=w.bind(null,a,u,s),w=void 0,!ud||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(w=!0),g?w!==void 0?s.addEventListener(a,u,{capture:!0,passive:w}):s.addEventListener(a,u,!0):w!==void 0?s.addEventListener(a,u,{passive:w}):s.addEventListener(a,u,!1)}function fv(s,a,u,g,w){var k=g;if(!(a&1)&&!(a&2)&&g!==null)e:for(;;){if(g===null)return;var j=g.tag;if(j===3||j===4){var ae=g.stateNode.containerInfo;if(ae===w||ae.nodeType===8&&ae.parentNode===w)break;if(j===4)for(j=g.return;j!==null;){var he=j.tag;if((he===3||he===4)&&(he=j.stateNode.containerInfo,he===w||he.nodeType===8&&he.parentNode===w))return;j=j.return}for(;ae!==null;){if(j=Rl(ae),j===null)return;if(he=j.tag,he===5||he===6){g=k=j;continue e}ae=ae.parentNode}}g=g.return}Il(function(){var Le=k,rt=Nl(u),st=[];e:{var tt=iS.get(s);if(tt!==void 0){var Tt=Lt,Pt=s;switch(s){case"keypress":if(M(u)===0)break e;case"keydown":case"keyup":Tt=qn;break;case"focusin":Pt="focus",Tt=Xe;break;case"focusout":Pt="blur",Tt=Xe;break;case"beforeblur":case"afterblur":Tt=Xe;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Tt=Rt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Tt=Ne;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Tt=Xy;break;case eS:case tS:case nS:Tt=gt;break;case rS:Tt=Ss;break;case"scroll":Tt=Ye;break;case"wheel":Tt=Qp;break;case"copy":case"cut":case"paste":Tt=an;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Tt=Ho}var Dt=(a&4)!==0,Or=!Dt&&s==="scroll",Oe=Dt?tt!==null?tt+"Capture":null:tt;Dt=[];for(var be=Le,Re;be!==null;){Re=be;var ct=Re.stateNode;if(Re.tag===5&&ct!==null&&(Re=ct,Oe!==null&&(ct=xs(be,Oe),ct!=null&&Dt.push(Id(be,ct,Re)))),Or)break;be=be.return}0<Dt.length&&(tt=new Tt(tt,Pt,null,u,rt),st.push({event:tt,listeners:Dt}))}}if(!(a&7)){e:{if(tt=s==="mouseover"||s==="pointerover",Tt=s==="mouseout"||s==="pointerout",tt&&u!==Uo&&(Pt=u.relatedTarget||u.fromElement)&&(Rl(Pt)||Pt[Qo]))break e;if((Tt||tt)&&(tt=rt.window===rt?rt:(tt=rt.ownerDocument)?tt.defaultView||tt.parentWindow:window,Tt?(Pt=u.relatedTarget||u.toElement,Tt=Le,Pt=Pt?Rl(Pt):null,Pt!==null&&(Or=Vo(Pt),Pt!==Or||Pt.tag!==5&&Pt.tag!==6)&&(Pt=null)):(Tt=null,Pt=Le),Tt!==Pt)){if(Dt=Rt,ct="onMouseLeave",Oe="onMouseEnter",be="mouse",(s==="pointerout"||s==="pointerover")&&(Dt=Ho,ct="onPointerLeave",Oe="onPointerEnter",be="pointer"),Or=Tt==null?tt:Lc(Tt),Re=Pt==null?tt:Lc(Pt),tt=new Dt(ct,be+"leave",Tt,u,rt),tt.target=Or,tt.relatedTarget=Re,ct=null,Rl(rt)===Le&&(Dt=new Dt(Oe,be+"enter",Pt,u,rt),Dt.target=Re,Dt.relatedTarget=Or,ct=Dt),Or=ct,Tt&&Pt)t:{for(Dt=Tt,Oe=Pt,be=0,Re=Dt;Re;Re=Pc(Re))be++;for(Re=0,ct=Oe;ct;ct=Pc(ct))Re++;for(;0<be-Re;)Dt=Pc(Dt),be--;for(;0<Re-be;)Oe=Pc(Oe),Re--;for(;be--;){if(Dt===Oe||Oe!==null&&Dt===Oe.alternate)break t;Dt=Pc(Dt),Oe=Pc(Oe)}Dt=null}else Dt=null;Tt!==null&&cS(st,tt,Tt,Dt,!1),Pt!==null&&Or!==null&&cS(st,Or,Pt,Dt,!0)}}e:{if(tt=Le?Lc(Le):window,Tt=tt.nodeName&&tt.nodeName.toLowerCase(),Tt==="select"||Tt==="input"&&tt.type==="file")var Mt=TR;else if(W0(tt))if(U0)Mt=AR;else{Mt=CR;var Ht=qR}else(Tt=tt.nodeName)&&Tt.toLowerCase()==="input"&&(tt.type==="checkbox"||tt.type==="radio")&&(Mt=RR);if(Mt&&(Mt=Mt(s,Le))){z0(st,Mt,u,rt);break e}Ht&&Ht(s,tt,Le),s==="focusout"&&(Ht=tt._wrapperState)&&Ht.controlled&&tt.type==="number"&&ue(tt,"number",tt.value)}switch(Ht=Le?Lc(Le):window,s){case"focusin":(W0(Ht)||Ht.contentEditable==="true")&&(Ac=Ht,ov=Le,Ed=null);break;case"focusout":Ed=ov=Ac=null;break;case"mousedown":av=!0;break;case"contextmenu":case"mouseup":case"dragend":av=!1,Y0(st,u,rt);break;case"selectionchange":if(FR)break;case"keydown":case"keyup":Y0(st,u,rt)}var Qt;if(nv)e:{switch(s){case"compositionstart":var en="onCompositionStart";break e;case"compositionend":en="onCompositionEnd";break e;case"compositionupdate":en="onCompositionUpdate";break e}en=void 0}else Rc?$0(s,u)&&(en="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(en="onCompositionStart");en&&(L0&&u.locale!=="ko"&&(Rc||en!=="onCompositionStart"?en==="onCompositionEnd"&&Rc&&(Qt=q()):(Ke=rt,V="value"in Ke?Ke.value:Ke.textContent,Rc=!0)),Ht=Yp(Le,en),0<Ht.length&&(en=new fr(en,s,null,u,rt),st.push({event:en,listeners:Ht}),Qt?en.data=Qt:(Qt=B0(u),Qt!==null&&(en.data=Qt)))),(Qt=ER?kR(s,u):NR(s,u))&&(Le=Yp(Le,"onBeforeInput"),0<Le.length&&(rt=new fr("onBeforeInput","beforeinput",null,u,rt),st.push({event:rt,listeners:Le}),rt.data=Qt))}aS(st,a)})}function Id(s,a,u){return{instance:s,listener:a,currentTarget:u}}function Yp(s,a){for(var u=a+"Capture",g=[];s!==null;){var w=s,k=w.stateNode;w.tag===5&&k!==null&&(w=k,k=xs(s,u),k!=null&&g.unshift(Id(s,k,w)),k=xs(s,a),k!=null&&g.push(Id(s,k,w))),s=s.return}return g}function Pc(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function cS(s,a,u,g,w){for(var k=a._reactName,j=[];u!==null&&u!==g;){var ae=u,he=ae.alternate,Le=ae.stateNode;if(he!==null&&he===g)break;ae.tag===5&&Le!==null&&(ae=Le,w?(he=xs(u,k),he!=null&&j.unshift(Id(u,he,ae))):w||(he=xs(u,k),he!=null&&j.push(Id(u,he,ae)))),u=u.return}j.length!==0&&s.push({event:a,listeners:j})}var $R=/\r\n?/g,BR=/\u0000|\uFFFD/g;function uS(s){return(typeof s=="string"?s:""+s).replace($R,`
`).replace(BR,"")}function Xp(s,a,u){if(a=uS(a),uS(s)!==a&&u)throw Error(n(425))}function eh(){}var pv=null,hv=null;function mv(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var gv=typeof setTimeout=="function"?setTimeout:void 0,WR=typeof clearTimeout=="function"?clearTimeout:void 0,dS=typeof Promise=="function"?Promise:void 0,zR=typeof queueMicrotask=="function"?queueMicrotask:typeof dS<"u"?function(s){return dS.resolve(null).then(s).catch(UR)}:gv;function UR(s){setTimeout(function(){throw s})}function yv(s,a){var u=a,g=0;do{var w=u.nextSibling;if(s.removeChild(u),w&&w.nodeType===8)if(u=w.data,u==="/$"){if(g===0){s.removeChild(w),_e(a);return}g--}else u!=="$"&&u!=="$?"&&u!=="$!"||g++;u=w}while(u);_e(a)}function ka(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function fS(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}var Fc=Math.random().toString(36).slice(2),wo="__reactFiber$"+Fc,Od="__reactProps$"+Fc,Qo="__reactContainer$"+Fc,vv="__reactEvents$"+Fc,VR="__reactListeners$"+Fc,HR="__reactHandles$"+Fc;function Rl(s){var a=s[wo];if(a)return a;for(var u=s.parentNode;u;){if(a=u[Qo]||u[wo]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=fS(s);s!==null;){if(u=s[wo])return u;s=fS(s)}return a}s=u,u=s.parentNode}return null}function Td(s){return s=s[wo]||s[Qo],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Lc(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function th(s){return s[Od]||null}var bv=[],Dc=-1;function Na(s){return{current:s}}function Xn(s){0>Dc||(s.current=bv[Dc],bv[Dc]=null,Dc--)}function Kn(s,a){Dc++,bv[Dc]=s.current,s.current=a}var Ia={},ii=Na(Ia),Ri=Na(!1),Al=Ia;function Mc(s,a){var u=s.type.contextTypes;if(!u)return Ia;var g=s.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===a)return g.__reactInternalMemoizedMaskedChildContext;var w={},k;for(k in u)w[k]=a[k];return g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=w),w}function Ai(s){return s=s.childContextTypes,s!=null}function nh(){Xn(Ri),Xn(ii)}function pS(s,a,u){if(ii.current!==Ia)throw Error(n(168));Kn(ii,a),Kn(Ri,u)}function hS(s,a,u){var g=s.stateNode;if(a=a.childContextTypes,typeof g.getChildContext!="function")return u;g=g.getChildContext();for(var w in g)if(!(w in a))throw Error(n(108,pt(s)||"Unknown",w));return ke({},u,g)}function rh(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ia,Al=ii.current,Kn(ii,s),Kn(Ri,Ri.current),!0}function mS(s,a,u){var g=s.stateNode;if(!g)throw Error(n(169));u?(s=hS(s,a,Al),g.__reactInternalMemoizedMergedChildContext=s,Xn(Ri),Xn(ii),Kn(ii,s)):Xn(Ri),Kn(Ri,u)}var Ko=null,ih=!1,_v=!1;function gS(s){Ko===null?Ko=[s]:Ko.push(s)}function QR(s){ih=!0,gS(s)}function Oa(){if(!_v&&Ko!==null){_v=!0;var s=0,a=On;try{var u=Ko;for(On=1;s<u.length;s++){var g=u[s];do g=g(!0);while(g!==null)}Ko=null,ih=!1}catch(w){throw Ko!==null&&(Ko=Ko.slice(s+1)),Wp(fd,Oa),w}finally{On=a,_v=!1}}return null}var $c=[],Bc=0,sh=null,oh=0,Es=[],ks=0,jl=null,Go=1,Jo="";function Pl(s,a){$c[Bc++]=oh,$c[Bc++]=sh,sh=s,oh=a}function yS(s,a,u){Es[ks++]=Go,Es[ks++]=Jo,Es[ks++]=jl,jl=s;var g=Go;s=Jo;var w=32-Ci(g)-1;g&=~(1<<w),u+=1;var k=32-Ci(a)+w;if(30<k){var j=w-w%5;k=(g&(1<<j)-1).toString(32),g>>=j,w-=j,Go=1<<32-Ci(a)+w|u<<w|g,Jo=k+s}else Go=1<<k|u<<w|g,Jo=s}function xv(s){s.return!==null&&(Pl(s,1),yS(s,1,0))}function wv(s){for(;s===sh;)sh=$c[--Bc],$c[Bc]=null,oh=$c[--Bc],$c[Bc]=null;for(;s===jl;)jl=Es[--ks],Es[ks]=null,Jo=Es[--ks],Es[ks]=null,Go=Es[--ks],Es[ks]=null}var Zi=null,Yi=null,nr=!1,Vs=null;function vS(s,a){var u=Ts(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=s,a=s.deletions,a===null?(s.deletions=[u],s.flags|=16):a.push(u)}function bS(s,a){switch(s.tag){case 5:var u=s.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Zi=s,Yi=ka(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Zi=s,Yi=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=jl!==null?{id:Go,overflow:Jo}:null,s.memoizedState={dehydrated:a,treeContext:u,retryLane:0x40000000},u=Ts(18,null,null,0),u.stateNode=a,u.return=s,s.child=u,Zi=s,Yi=null,!0):!1;default:return!1}}function Sv(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Ev(s){if(nr){var a=Yi;if(a){var u=a;if(!bS(s,a)){if(Sv(s))throw Error(n(418));a=ka(u.nextSibling);var g=Zi;a&&bS(s,a)?vS(g,u):(s.flags=s.flags&-4097|2,nr=!1,Zi=s)}}else{if(Sv(s))throw Error(n(418));s.flags=s.flags&-4097|2,nr=!1,Zi=s}}}function _S(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Zi=s}function ah(s){if(s!==Zi)return!1;if(!nr)return _S(s),nr=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!mv(s.type,s.memoizedProps)),a&&(a=Yi)){if(Sv(s))throw xS(),Error(n(418));for(;a;)vS(s,a),a=ka(a.nextSibling)}if(_S(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(a===0){Yi=ka(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}s=s.nextSibling}Yi=null}}else Yi=Zi?ka(s.stateNode.nextSibling):null;return!0}function xS(){for(var s=Yi;s;)s=ka(s.nextSibling)}function Wc(){Yi=Zi=null,nr=!1}function kv(s){Vs===null?Vs=[s]:Vs.push(s)}var KR=Q.ReactCurrentBatchConfig;function qd(s,a,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var g=u.stateNode}if(!g)throw Error(n(147,s));var w=g,k=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===k?a.ref:(a=function(j){var ae=w.refs;j===null?delete ae[k]:ae[k]=j},a._stringRef=k,a)}if(typeof s!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,s))}return s}function lh(s,a){throw s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function wS(s){var a=s._init;return a(s._payload)}function SS(s){function a(Oe,be){if(s){var Re=Oe.deletions;Re===null?(Oe.deletions=[be],Oe.flags|=16):Re.push(be)}}function u(Oe,be){if(!s)return null;for(;be!==null;)a(Oe,be),be=be.sibling;return null}function g(Oe,be){for(Oe=new Map;be!==null;)be.key!==null?Oe.set(be.key,be):Oe.set(be.index,be),be=be.sibling;return Oe}function w(Oe,be){return Oe=Fa(Oe,be),Oe.index=0,Oe.sibling=null,Oe}function k(Oe,be,Re){return Oe.index=Re,s?(Re=Oe.alternate,Re!==null?(Re=Re.index,Re<be?(Oe.flags|=2,be):Re):(Oe.flags|=2,be)):(Oe.flags|=1048576,be)}function j(Oe){return s&&Oe.alternate===null&&(Oe.flags|=2),Oe}function ae(Oe,be,Re,ct){return be===null||be.tag!==6?(be=gb(Re,Oe.mode,ct),be.return=Oe,be):(be=w(be,Re),be.return=Oe,be)}function he(Oe,be,Re,ct){var Mt=Re.type;return Mt===G?rt(Oe,be,Re.props.children,ct,Re.key):be!==null&&(be.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===qe&&wS(Mt)===be.type)?(ct=w(be,Re.props),ct.ref=qd(Oe,be,Re),ct.return=Oe,ct):(ct=Rh(Re.type,Re.key,Re.props,null,Oe.mode,ct),ct.ref=qd(Oe,be,Re),ct.return=Oe,ct)}function Le(Oe,be,Re,ct){return be===null||be.tag!==4||be.stateNode.containerInfo!==Re.containerInfo||be.stateNode.implementation!==Re.implementation?(be=yb(Re,Oe.mode,ct),be.return=Oe,be):(be=w(be,Re.children||[]),be.return=Oe,be)}function rt(Oe,be,Re,ct,Mt){return be===null||be.tag!==7?(be=zl(Re,Oe.mode,ct,Mt),be.return=Oe,be):(be=w(be,Re),be.return=Oe,be)}function st(Oe,be,Re){if(typeof be=="string"&&be!==""||typeof be=="number")return be=gb(""+be,Oe.mode,Re),be.return=Oe,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case J:return Re=Rh(be.type,be.key,be.props,null,Oe.mode,Re),Re.ref=qd(Oe,null,be),Re.return=Oe,Re;case W:return be=yb(be,Oe.mode,Re),be.return=Oe,be;case qe:var ct=be._init;return st(Oe,ct(be._payload),Re)}if(ye(be)||pe(be))return be=zl(be,Oe.mode,Re,null),be.return=Oe,be;lh(Oe,be)}return null}function tt(Oe,be,Re,ct){var Mt=be!==null?be.key:null;if(typeof Re=="string"&&Re!==""||typeof Re=="number")return Mt!==null?null:ae(Oe,be,""+Re,ct);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case J:return Re.key===Mt?he(Oe,be,Re,ct):null;case W:return Re.key===Mt?Le(Oe,be,Re,ct):null;case qe:return Mt=Re._init,tt(Oe,be,Mt(Re._payload),ct)}if(ye(Re)||pe(Re))return Mt!==null?null:rt(Oe,be,Re,ct,null);lh(Oe,Re)}return null}function Tt(Oe,be,Re,ct,Mt){if(typeof ct=="string"&&ct!==""||typeof ct=="number")return Oe=Oe.get(Re)||null,ae(be,Oe,""+ct,Mt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case J:return Oe=Oe.get(ct.key===null?Re:ct.key)||null,he(be,Oe,ct,Mt);case W:return Oe=Oe.get(ct.key===null?Re:ct.key)||null,Le(be,Oe,ct,Mt);case qe:var Ht=ct._init;return Tt(Oe,be,Re,Ht(ct._payload),Mt)}if(ye(ct)||pe(ct))return Oe=Oe.get(Re)||null,rt(be,Oe,ct,Mt,null);lh(be,ct)}return null}function Pt(Oe,be,Re,ct){for(var Mt=null,Ht=null,Qt=be,en=be=0,Gr=null;Qt!==null&&en<Re.length;en++){Qt.index>en?(Gr=Qt,Qt=null):Gr=Qt.sibling;var In=tt(Oe,Qt,Re[en],ct);if(In===null){Qt===null&&(Qt=Gr);break}s&&Qt&&In.alternate===null&&a(Oe,Qt),be=k(In,be,en),Ht===null?Mt=In:Ht.sibling=In,Ht=In,Qt=Gr}if(en===Re.length)return u(Oe,Qt),nr&&Pl(Oe,en),Mt;if(Qt===null){for(;en<Re.length;en++)Qt=st(Oe,Re[en],ct),Qt!==null&&(be=k(Qt,be,en),Ht===null?Mt=Qt:Ht.sibling=Qt,Ht=Qt);return nr&&Pl(Oe,en),Mt}for(Qt=g(Oe,Qt);en<Re.length;en++)Gr=Tt(Qt,Oe,en,Re[en],ct),Gr!==null&&(s&&Gr.alternate!==null&&Qt.delete(Gr.key===null?en:Gr.key),be=k(Gr,be,en),Ht===null?Mt=Gr:Ht.sibling=Gr,Ht=Gr);return s&&Qt.forEach(function(La){return a(Oe,La)}),nr&&Pl(Oe,en),Mt}function Dt(Oe,be,Re,ct){var Mt=pe(Re);if(typeof Mt!="function")throw Error(n(150));if(Re=Mt.call(Re),Re==null)throw Error(n(151));for(var Ht=Mt=null,Qt=be,en=be=0,Gr=null,In=Re.next();Qt!==null&&!In.done;en++,In=Re.next()){Qt.index>en?(Gr=Qt,Qt=null):Gr=Qt.sibling;var La=tt(Oe,Qt,In.value,ct);if(La===null){Qt===null&&(Qt=Gr);break}s&&Qt&&La.alternate===null&&a(Oe,Qt),be=k(La,be,en),Ht===null?Mt=La:Ht.sibling=La,Ht=La,Qt=Gr}if(In.done)return u(Oe,Qt),nr&&Pl(Oe,en),Mt;if(Qt===null){for(;!In.done;en++,In=Re.next())In=st(Oe,In.value,ct),In!==null&&(be=k(In,be,en),Ht===null?Mt=In:Ht.sibling=In,Ht=In);return nr&&Pl(Oe,en),Mt}for(Qt=g(Oe,Qt);!In.done;en++,In=Re.next())In=Tt(Qt,Oe,en,In.value,ct),In!==null&&(s&&In.alternate!==null&&Qt.delete(In.key===null?en:In.key),be=k(In,be,en),Ht===null?Mt=In:Ht.sibling=In,Ht=In);return s&&Qt.forEach(function(IA){return a(Oe,IA)}),nr&&Pl(Oe,en),Mt}function Or(Oe,be,Re,ct){if(typeof Re=="object"&&Re!==null&&Re.type===G&&Re.key===null&&(Re=Re.props.children),typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case J:e:{for(var Mt=Re.key,Ht=be;Ht!==null;){if(Ht.key===Mt){if(Mt=Re.type,Mt===G){if(Ht.tag===7){u(Oe,Ht.sibling),be=w(Ht,Re.props.children),be.return=Oe,Oe=be;break e}}else if(Ht.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===qe&&wS(Mt)===Ht.type){u(Oe,Ht.sibling),be=w(Ht,Re.props),be.ref=qd(Oe,Ht,Re),be.return=Oe,Oe=be;break e}u(Oe,Ht);break}else a(Oe,Ht);Ht=Ht.sibling}Re.type===G?(be=zl(Re.props.children,Oe.mode,ct,Re.key),be.return=Oe,Oe=be):(ct=Rh(Re.type,Re.key,Re.props,null,Oe.mode,ct),ct.ref=qd(Oe,be,Re),ct.return=Oe,Oe=ct)}return j(Oe);case W:e:{for(Ht=Re.key;be!==null;){if(be.key===Ht)if(be.tag===4&&be.stateNode.containerInfo===Re.containerInfo&&be.stateNode.implementation===Re.implementation){u(Oe,be.sibling),be=w(be,Re.children||[]),be.return=Oe,Oe=be;break e}else{u(Oe,be);break}else a(Oe,be);be=be.sibling}be=yb(Re,Oe.mode,ct),be.return=Oe,Oe=be}return j(Oe);case qe:return Ht=Re._init,Or(Oe,be,Ht(Re._payload),ct)}if(ye(Re))return Pt(Oe,be,Re,ct);if(pe(Re))return Dt(Oe,be,Re,ct);lh(Oe,Re)}return typeof Re=="string"&&Re!==""||typeof Re=="number"?(Re=""+Re,be!==null&&be.tag===6?(u(Oe,be.sibling),be=w(be,Re),be.return=Oe,Oe=be):(u(Oe,be),be=gb(Re,Oe.mode,ct),be.return=Oe,Oe=be),j(Oe)):u(Oe,be)}return Or}var zc=SS(!0),ES=SS(!1),ch=Na(null),uh=null,Uc=null,Nv=null;function Iv(){Nv=Uc=uh=null}function Ov(s){var a=ch.current;Xn(ch),s._currentValue=a}function Tv(s,a,u){for(;s!==null;){var g=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,g!==null&&(g.childLanes|=a)):g!==null&&(g.childLanes&a)!==a&&(g.childLanes|=a),s===u)break;s=s.return}}function Vc(s,a){uh=s,Nv=Uc=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&a&&(ji=!0),s.firstContext=null)}function Ns(s){var a=s._currentValue;if(Nv!==s)if(s={context:s,memoizedValue:a,next:null},Uc===null){if(uh===null)throw Error(n(308));Uc=s,uh.dependencies={lanes:0,firstContext:s}}else Uc=Uc.next=s;return a}var Fl=null;function qv(s){Fl===null?Fl=[s]:Fl.push(s)}function kS(s,a,u,g){var w=a.interleaved;return w===null?(u.next=u,qv(a)):(u.next=w.next,w.next=u),a.interleaved=u,Zo(s,g)}function Zo(s,a){s.lanes|=a;var u=s.alternate;for(u!==null&&(u.lanes|=a),u=s,s=s.return;s!==null;)s.childLanes|=a,u=s.alternate,u!==null&&(u.childLanes|=a),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Ta=!1;function Cv(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NS(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Yo(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function qa(s,a,u){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,Sn&2){var w=g.pending;return w===null?a.next=a:(a.next=w.next,w.next=a),g.pending=a,Zo(s,u)}return w=g.interleaved,w===null?(a.next=a,qv(g)):(a.next=w.next,w.next=a),g.interleaved=a,Zo(s,u)}function dh(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var g=a.lanes;g&=s.pendingLanes,u|=g,a.lanes=u,md(s,u)}}function IS(s,a){var u=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,u===g)){var w=null,k=null;if(u=u.firstBaseUpdate,u!==null){do{var j={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};k===null?w=k=j:k=k.next=j,u=u.next}while(u!==null);k===null?w=k=a:k=k.next=a}else w=k=a;u={baseState:g.baseState,firstBaseUpdate:w,lastBaseUpdate:k,shared:g.shared,effects:g.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}function fh(s,a,u,g){var w=s.updateQueue;Ta=!1;var k=w.firstBaseUpdate,j=w.lastBaseUpdate,ae=w.shared.pending;if(ae!==null){w.shared.pending=null;var he=ae,Le=he.next;he.next=null,j===null?k=Le:j.next=Le,j=he;var rt=s.alternate;rt!==null&&(rt=rt.updateQueue,ae=rt.lastBaseUpdate,ae!==j&&(ae===null?rt.firstBaseUpdate=Le:ae.next=Le,rt.lastBaseUpdate=he))}if(k!==null){var st=w.baseState;j=0,rt=Le=he=null,ae=k;do{var tt=ae.lane,Tt=ae.eventTime;if((g&tt)===tt){rt!==null&&(rt=rt.next={eventTime:Tt,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var Pt=s,Dt=ae;switch(tt=a,Tt=u,Dt.tag){case 1:if(Pt=Dt.payload,typeof Pt=="function"){st=Pt.call(Tt,st,tt);break e}st=Pt;break e;case 3:Pt.flags=Pt.flags&-65537|128;case 0:if(Pt=Dt.payload,tt=typeof Pt=="function"?Pt.call(Tt,st,tt):Pt,tt==null)break e;st=ke({},st,tt);break e;case 2:Ta=!0}}ae.callback!==null&&ae.lane!==0&&(s.flags|=64,tt=w.effects,tt===null?w.effects=[ae]:tt.push(ae))}else Tt={eventTime:Tt,lane:tt,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},rt===null?(Le=rt=Tt,he=st):rt=rt.next=Tt,j|=tt;if(ae=ae.next,ae===null){if(ae=w.shared.pending,ae===null)break;tt=ae,ae=tt.next,tt.next=null,w.lastBaseUpdate=tt,w.shared.pending=null}}while(!0);if(rt===null&&(he=st),w.baseState=he,w.firstBaseUpdate=Le,w.lastBaseUpdate=rt,a=w.shared.interleaved,a!==null){w=a;do j|=w.lane,w=w.next;while(w!==a)}else k===null&&(w.shared.lanes=0);Ml|=j,s.lanes=j,s.memoizedState=st}}function OS(s,a,u){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var g=s[a],w=g.callback;if(w!==null){if(g.callback=null,g=u,typeof w!="function")throw Error(n(191,w));w.call(g)}}}var Cd={},So=Na(Cd),Rd=Na(Cd),Ad=Na(Cd);function Ll(s){if(s===Cd)throw Error(n(174));return s}function Rv(s,a){switch(Kn(Ad,a),Kn(Rd,s),Kn(So,Cd),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:zt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=zt(a,s)}Xn(So),Kn(So,a)}function Hc(){Xn(So),Xn(Rd),Xn(Ad)}function TS(s){Ll(Ad.current);var a=Ll(So.current),u=zt(a,s.type);a!==u&&(Kn(Rd,s),Kn(So,u))}function Av(s){Rd.current===s&&(Xn(So),Xn(Rd))}var pr=Na(0);function ph(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var jv=[];function Pv(){for(var s=0;s<jv.length;s++)jv[s]._workInProgressVersionPrimary=null;jv.length=0}var hh=Q.ReactCurrentDispatcher,Fv=Q.ReactCurrentBatchConfig,Dl=0,hr=null,Mr=null,Qr=null,mh=!1,jd=!1,Pd=0,GR=0;function si(){throw Error(n(321))}function Lv(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!Us(s[u],a[u]))return!1;return!0}function Dv(s,a,u,g,w,k){if(Dl=k,hr=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,hh.current=s===null||s.memoizedState===null?XR:eA,s=u(g,w),jd){k=0;do{if(jd=!1,Pd=0,25<=k)throw Error(n(301));k+=1,Qr=Mr=null,a.updateQueue=null,hh.current=tA,s=u(g,w)}while(jd)}if(hh.current=vh,a=Mr!==null&&Mr.next!==null,Dl=0,Qr=Mr=hr=null,mh=!1,a)throw Error(n(300));return s}function Mv(){var s=Pd!==0;return Pd=0,s}function Eo(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qr===null?hr.memoizedState=Qr=s:Qr=Qr.next=s,Qr}function Is(){if(Mr===null){var s=hr.alternate;s=s!==null?s.memoizedState:null}else s=Mr.next;var a=Qr===null?hr.memoizedState:Qr.next;if(a!==null)Qr=a,Mr=s;else{if(s===null)throw Error(n(310));Mr=s,s={memoizedState:Mr.memoizedState,baseState:Mr.baseState,baseQueue:Mr.baseQueue,queue:Mr.queue,next:null},Qr===null?hr.memoizedState=Qr=s:Qr=Qr.next=s}return Qr}function Fd(s,a){return typeof a=="function"?a(s):a}function $v(s){var a=Is(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var g=Mr,w=g.baseQueue,k=u.pending;if(k!==null){if(w!==null){var j=w.next;w.next=k.next,k.next=j}g.baseQueue=w=k,u.pending=null}if(w!==null){k=w.next,g=g.baseState;var ae=j=null,he=null,Le=k;do{var rt=Le.lane;if((Dl&rt)===rt)he!==null&&(he=he.next={lane:0,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),g=Le.hasEagerState?Le.eagerState:s(g,Le.action);else{var st={lane:rt,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null};he===null?(ae=he=st,j=g):he=he.next=st,hr.lanes|=rt,Ml|=rt}Le=Le.next}while(Le!==null&&Le!==k);he===null?j=g:he.next=ae,Us(g,a.memoizedState)||(ji=!0),a.memoizedState=g,a.baseState=j,a.baseQueue=he,u.lastRenderedState=g}if(s=u.interleaved,s!==null){w=s;do k=w.lane,hr.lanes|=k,Ml|=k,w=w.next;while(w!==s)}else w===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function Bv(s){var a=Is(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var g=u.dispatch,w=u.pending,k=a.memoizedState;if(w!==null){u.pending=null;var j=w=w.next;do k=s(k,j.action),j=j.next;while(j!==w);Us(k,a.memoizedState)||(ji=!0),a.memoizedState=k,a.baseQueue===null&&(a.baseState=k),u.lastRenderedState=k}return[k,g]}function qS(){}function CS(s,a){var u=hr,g=Is(),w=a(),k=!Us(g.memoizedState,w);if(k&&(g.memoizedState=w,ji=!0),g=g.queue,Wv(jS.bind(null,u,g,s),[s]),g.getSnapshot!==a||k||Qr!==null&&Qr.memoizedState.tag&1){if(u.flags|=2048,Ld(9,AS.bind(null,u,g,w,a),void 0,null),Kr===null)throw Error(n(349));Dl&30||RS(u,a,w)}return w}function RS(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=hr.updateQueue,a===null?(a={lastEffect:null,stores:null},hr.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function AS(s,a,u,g){a.value=u,a.getSnapshot=g,PS(a)&&FS(s)}function jS(s,a,u){return u(function(){PS(a)&&FS(s)})}function PS(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!Us(s,u)}catch{return!0}}function FS(s){var a=Zo(s,1);a!==null&&Gs(a,s,1,-1)}function LS(s){var a=Eo();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fd,lastRenderedState:s},a.queue=s,s=s.dispatch=YR.bind(null,hr,s),[a.memoizedState,s]}function Ld(s,a,u,g){return s={tag:s,create:a,destroy:u,deps:g,next:null},a=hr.updateQueue,a===null?(a={lastEffect:null,stores:null},hr.updateQueue=a,a.lastEffect=s.next=s):(u=a.lastEffect,u===null?a.lastEffect=s.next=s:(g=u.next,u.next=s,s.next=g,a.lastEffect=s)),s}function DS(){return Is().memoizedState}function gh(s,a,u,g){var w=Eo();hr.flags|=s,w.memoizedState=Ld(1|a,u,void 0,g===void 0?null:g)}function yh(s,a,u,g){var w=Is();g=g===void 0?null:g;var k=void 0;if(Mr!==null){var j=Mr.memoizedState;if(k=j.destroy,g!==null&&Lv(g,j.deps)){w.memoizedState=Ld(a,u,k,g);return}}hr.flags|=s,w.memoizedState=Ld(1|a,u,k,g)}function MS(s,a){return gh(8390656,8,s,a)}function Wv(s,a){return yh(2048,8,s,a)}function $S(s,a){return yh(4,2,s,a)}function BS(s,a){return yh(4,4,s,a)}function WS(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function zS(s,a,u){return u=u!=null?u.concat([s]):null,yh(4,4,WS.bind(null,a,s),u)}function zv(){}function US(s,a){var u=Is();a=a===void 0?null:a;var g=u.memoizedState;return g!==null&&a!==null&&Lv(a,g[1])?g[0]:(u.memoizedState=[s,a],s)}function VS(s,a){var u=Is();a=a===void 0?null:a;var g=u.memoizedState;return g!==null&&a!==null&&Lv(a,g[1])?g[0]:(s=s(),u.memoizedState=[s,a],s)}function HS(s,a,u){return Dl&21?(Us(u,a)||(u=Vp(),hr.lanes|=u,Ml|=u,s.baseState=!0),a):(s.baseState&&(s.baseState=!1,ji=!0),s.memoizedState=u)}function JR(s,a){var u=On;On=u!==0&&4>u?u:4,s(!0);var g=Fv.transition;Fv.transition={};try{s(!1),a()}finally{On=u,Fv.transition=g}}function QS(){return Is().memoizedState}function ZR(s,a,u){var g=ja(s);if(u={lane:g,action:u,hasEagerState:!1,eagerState:null,next:null},KS(s))GS(a,u);else if(u=kS(s,a,u,g),u!==null){var w=xi();Gs(u,s,g,w),JS(u,a,g)}}function YR(s,a,u){var g=ja(s),w={lane:g,action:u,hasEagerState:!1,eagerState:null,next:null};if(KS(s))GS(a,w);else{var k=s.alternate;if(s.lanes===0&&(k===null||k.lanes===0)&&(k=a.lastRenderedReducer,k!==null))try{var j=a.lastRenderedState,ae=k(j,u);if(w.hasEagerState=!0,w.eagerState=ae,Us(ae,j)){var he=a.interleaved;he===null?(w.next=w,qv(a)):(w.next=he.next,he.next=w),a.interleaved=w;return}}catch{}finally{}u=kS(s,a,w,g),u!==null&&(w=xi(),Gs(u,s,g,w),JS(u,a,g))}}function KS(s){var a=s.alternate;return s===hr||a!==null&&a===hr}function GS(s,a){jd=mh=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function JS(s,a,u){if(u&4194240){var g=a.lanes;g&=s.pendingLanes,u|=g,a.lanes=u,md(s,u)}}var vh={readContext:Ns,useCallback:si,useContext:si,useEffect:si,useImperativeHandle:si,useInsertionEffect:si,useLayoutEffect:si,useMemo:si,useReducer:si,useRef:si,useState:si,useDebugValue:si,useDeferredValue:si,useTransition:si,useMutableSource:si,useSyncExternalStore:si,useId:si,unstable_isNewReconciler:!1},XR={readContext:Ns,useCallback:function(s,a){return Eo().memoizedState=[s,a===void 0?null:a],s},useContext:Ns,useEffect:MS,useImperativeHandle:function(s,a,u){return u=u!=null?u.concat([s]):null,gh(4194308,4,WS.bind(null,a,s),u)},useLayoutEffect:function(s,a){return gh(4194308,4,s,a)},useInsertionEffect:function(s,a){return gh(4,2,s,a)},useMemo:function(s,a){var u=Eo();return a=a===void 0?null:a,s=s(),u.memoizedState=[s,a],s},useReducer:function(s,a,u){var g=Eo();return a=u!==void 0?u(a):a,g.memoizedState=g.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},g.queue=s,s=s.dispatch=ZR.bind(null,hr,s),[g.memoizedState,s]},useRef:function(s){var a=Eo();return s={current:s},a.memoizedState=s},useState:LS,useDebugValue:zv,useDeferredValue:function(s){return Eo().memoizedState=s},useTransition:function(){var s=LS(!1),a=s[0];return s=JR.bind(null,s[1]),Eo().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,u){var g=hr,w=Eo();if(nr){if(u===void 0)throw Error(n(407));u=u()}else{if(u=a(),Kr===null)throw Error(n(349));Dl&30||RS(g,a,u)}w.memoizedState=u;var k={value:u,getSnapshot:a};return w.queue=k,MS(jS.bind(null,g,k,s),[s]),g.flags|=2048,Ld(9,AS.bind(null,g,k,u,a),void 0,null),u},useId:function(){var s=Eo(),a=Kr.identifierPrefix;if(nr){var u=Jo,g=Go;u=(g&~(1<<32-Ci(g)-1)).toString(32)+u,a=":"+a+"R"+u,u=Pd++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=GR++,a=":"+a+"r"+u.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},eA={readContext:Ns,useCallback:US,useContext:Ns,useEffect:Wv,useImperativeHandle:zS,useInsertionEffect:$S,useLayoutEffect:BS,useMemo:VS,useReducer:$v,useRef:DS,useState:function(){return $v(Fd)},useDebugValue:zv,useDeferredValue:function(s){var a=Is();return HS(a,Mr.memoizedState,s)},useTransition:function(){var s=$v(Fd)[0],a=Is().memoizedState;return[s,a]},useMutableSource:qS,useSyncExternalStore:CS,useId:QS,unstable_isNewReconciler:!1},tA={readContext:Ns,useCallback:US,useContext:Ns,useEffect:Wv,useImperativeHandle:zS,useInsertionEffect:$S,useLayoutEffect:BS,useMemo:VS,useReducer:Bv,useRef:DS,useState:function(){return Bv(Fd)},useDebugValue:zv,useDeferredValue:function(s){var a=Is();return Mr===null?a.memoizedState=s:HS(a,Mr.memoizedState,s)},useTransition:function(){var s=Bv(Fd)[0],a=Is().memoizedState;return[s,a]},useMutableSource:qS,useSyncExternalStore:CS,useId:QS,unstable_isNewReconciler:!1};function Hs(s,a){if(s&&s.defaultProps){a=ke({},a),s=s.defaultProps;for(var u in s)a[u]===void 0&&(a[u]=s[u]);return a}return a}function Uv(s,a,u,g){a=s.memoizedState,u=u(g,a),u=u==null?a:ke({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var bh={isMounted:function(s){return(s=s._reactInternals)?Vo(s)===s:!1},enqueueSetState:function(s,a,u){s=s._reactInternals;var g=xi(),w=ja(s),k=Yo(g,w);k.payload=a,u!=null&&(k.callback=u),a=qa(s,k,w),a!==null&&(Gs(a,s,w,g),dh(a,s,w))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var g=xi(),w=ja(s),k=Yo(g,w);k.tag=1,k.payload=a,u!=null&&(k.callback=u),a=qa(s,k,w),a!==null&&(Gs(a,s,w,g),dh(a,s,w))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=xi(),g=ja(s),w=Yo(u,g);w.tag=2,a!=null&&(w.callback=a),a=qa(s,w,g),a!==null&&(Gs(a,s,g,u),dh(a,s,g))}};function ZS(s,a,u,g,w,k,j){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,k,j):a.prototype&&a.prototype.isPureReactComponent?!Sd(u,g)||!Sd(w,k):!0}function YS(s,a,u){var g=!1,w=Ia,k=a.contextType;return typeof k=="object"&&k!==null?k=Ns(k):(w=Ai(a)?Al:ii.current,g=a.contextTypes,k=(g=g!=null)?Mc(s,w):Ia),a=new a(u,k),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=bh,s.stateNode=a,a._reactInternals=s,g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=w,s.__reactInternalMemoizedMaskedChildContext=k),a}function XS(s,a,u,g){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,g),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,g),a.state!==s&&bh.enqueueReplaceState(a,a.state,null)}function Vv(s,a,u,g){var w=s.stateNode;w.props=u,w.state=s.memoizedState,w.refs={},Cv(s);var k=a.contextType;typeof k=="object"&&k!==null?w.context=Ns(k):(k=Ai(a)?Al:ii.current,w.context=Mc(s,k)),w.state=s.memoizedState,k=a.getDerivedStateFromProps,typeof k=="function"&&(Uv(s,a,k,u),w.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(a=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),a!==w.state&&bh.enqueueReplaceState(w,w.state,null),fh(s,u,w,g),w.state=s.memoizedState),typeof w.componentDidMount=="function"&&(s.flags|=4194308)}function Qc(s,a){try{var u="",g=a;do u+=ft(g),g=g.return;while(g);var w=u}catch(k){w=`
Error generating stack: `+k.message+`
`+k.stack}return{value:s,source:a,stack:w,digest:null}}function Hv(s,a,u){return{value:s,source:null,stack:u??null,digest:a??null}}function Qv(s,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var nA=typeof WeakMap=="function"?WeakMap:Map;function eE(s,a,u){u=Yo(-1,u),u.tag=3,u.payload={element:null};var g=a.value;return u.callback=function(){Nh||(Nh=!0,lb=g),Qv(s,a)},u}function tE(s,a,u){u=Yo(-1,u),u.tag=3;var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var w=a.value;u.payload=function(){return g(w)},u.callback=function(){Qv(s,a)}}var k=s.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(u.callback=function(){Qv(s,a),typeof g!="function"&&(Ra===null?Ra=new Set([this]):Ra.add(this));var j=a.stack;this.componentDidCatch(a.value,{componentStack:j!==null?j:""})}),u}function nE(s,a,u){var g=s.pingCache;if(g===null){g=s.pingCache=new nA;var w=new Set;g.set(a,w)}else w=g.get(a),w===void 0&&(w=new Set,g.set(a,w));w.has(u)||(w.add(u),s=gA.bind(null,s,a,u),a.then(s,s))}function rE(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function iE(s,a,u,g,w){return s.mode&1?(s.flags|=65536,s.lanes=w,s):(s===a?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=Yo(-1,1),a.tag=2,qa(u,a,1))),u.lanes|=1),s)}var rA=Q.ReactCurrentOwner,ji=!1;function _i(s,a,u,g){a.child=s===null?ES(a,null,u,g):zc(a,s.child,u,g)}function sE(s,a,u,g,w){u=u.render;var k=a.ref;return Vc(a,w),g=Dv(s,a,u,g,k,w),u=Mv(),s!==null&&!ji?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~w,Xo(s,a,w)):(nr&&u&&xv(a),a.flags|=1,_i(s,a,g,w),a.child)}function oE(s,a,u,g,w){if(s===null){var k=u.type;return typeof k=="function"&&!mb(k)&&k.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=k,aE(s,a,k,g,w)):(s=Rh(u.type,null,g,a,a.mode,w),s.ref=a.ref,s.return=a,a.child=s)}if(k=s.child,!(s.lanes&w)){var j=k.memoizedProps;if(u=u.compare,u=u!==null?u:Sd,u(j,g)&&s.ref===a.ref)return Xo(s,a,w)}return a.flags|=1,s=Fa(k,g),s.ref=a.ref,s.return=a,a.child=s}function aE(s,a,u,g,w){if(s!==null){var k=s.memoizedProps;if(Sd(k,g)&&s.ref===a.ref)if(ji=!1,a.pendingProps=g=k,(s.lanes&w)!==0)s.flags&131072&&(ji=!0);else return a.lanes=s.lanes,Xo(s,a,w)}return Kv(s,a,u,g,w)}function lE(s,a,u){var g=a.pendingProps,w=g.children,k=s!==null?s.memoizedState:null;if(g.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Kn(Gc,Xi),Xi|=u;else{if(!(u&0x40000000))return s=k!==null?k.baseLanes|u:u,a.lanes=a.childLanes=0x40000000,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,Kn(Gc,Xi),Xi|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=k!==null?k.baseLanes:u,Kn(Gc,Xi),Xi|=g}else k!==null?(g=k.baseLanes|u,a.memoizedState=null):g=u,Kn(Gc,Xi),Xi|=g;return _i(s,a,w,u),a.child}function cE(s,a){var u=a.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function Kv(s,a,u,g,w){var k=Ai(u)?Al:ii.current;return k=Mc(a,k),Vc(a,w),u=Dv(s,a,u,g,k,w),g=Mv(),s!==null&&!ji?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~w,Xo(s,a,w)):(nr&&g&&xv(a),a.flags|=1,_i(s,a,u,w),a.child)}function uE(s,a,u,g,w){if(Ai(u)){var k=!0;rh(a)}else k=!1;if(Vc(a,w),a.stateNode===null)xh(s,a),YS(a,u,g),Vv(a,u,g,w),g=!0;else if(s===null){var j=a.stateNode,ae=a.memoizedProps;j.props=ae;var he=j.context,Le=u.contextType;typeof Le=="object"&&Le!==null?Le=Ns(Le):(Le=Ai(u)?Al:ii.current,Le=Mc(a,Le));var rt=u.getDerivedStateFromProps,st=typeof rt=="function"||typeof j.getSnapshotBeforeUpdate=="function";st||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(ae!==g||he!==Le)&&XS(a,j,g,Le),Ta=!1;var tt=a.memoizedState;j.state=tt,fh(a,g,j,w),he=a.memoizedState,ae!==g||tt!==he||Ri.current||Ta?(typeof rt=="function"&&(Uv(a,u,rt,g),he=a.memoizedState),(ae=Ta||ZS(a,u,ae,g,tt,he,Le))?(st||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(a.flags|=4194308)):(typeof j.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=g,a.memoizedState=he),j.props=g,j.state=he,j.context=Le,g=ae):(typeof j.componentDidMount=="function"&&(a.flags|=4194308),g=!1)}else{j=a.stateNode,NS(s,a),ae=a.memoizedProps,Le=a.type===a.elementType?ae:Hs(a.type,ae),j.props=Le,st=a.pendingProps,tt=j.context,he=u.contextType,typeof he=="object"&&he!==null?he=Ns(he):(he=Ai(u)?Al:ii.current,he=Mc(a,he));var Tt=u.getDerivedStateFromProps;(rt=typeof Tt=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(ae!==st||tt!==he)&&XS(a,j,g,he),Ta=!1,tt=a.memoizedState,j.state=tt,fh(a,g,j,w);var Pt=a.memoizedState;ae!==st||tt!==Pt||Ri.current||Ta?(typeof Tt=="function"&&(Uv(a,u,Tt,g),Pt=a.memoizedState),(Le=Ta||ZS(a,u,Le,g,tt,Pt,he)||!1)?(rt||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(g,Pt,he),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(g,Pt,he)),typeof j.componentDidUpdate=="function"&&(a.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof j.componentDidUpdate!="function"||ae===s.memoizedProps&&tt===s.memoizedState||(a.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||ae===s.memoizedProps&&tt===s.memoizedState||(a.flags|=1024),a.memoizedProps=g,a.memoizedState=Pt),j.props=g,j.state=Pt,j.context=he,g=Le):(typeof j.componentDidUpdate!="function"||ae===s.memoizedProps&&tt===s.memoizedState||(a.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||ae===s.memoizedProps&&tt===s.memoizedState||(a.flags|=1024),g=!1)}return Gv(s,a,u,g,k,w)}function Gv(s,a,u,g,w,k){cE(s,a);var j=(a.flags&128)!==0;if(!g&&!j)return w&&mS(a,u,!1),Xo(s,a,k);g=a.stateNode,rA.current=a;var ae=j&&typeof u.getDerivedStateFromError!="function"?null:g.render();return a.flags|=1,s!==null&&j?(a.child=zc(a,s.child,null,k),a.child=zc(a,null,ae,k)):_i(s,a,ae,k),a.memoizedState=g.state,w&&mS(a,u,!0),a.child}function dE(s){var a=s.stateNode;a.pendingContext?pS(s,a.pendingContext,a.pendingContext!==a.context):a.context&&pS(s,a.context,!1),Rv(s,a.containerInfo)}function fE(s,a,u,g,w){return Wc(),kv(w),a.flags|=256,_i(s,a,u,g),a.child}var Jv={dehydrated:null,treeContext:null,retryLane:0};function Zv(s){return{baseLanes:s,cachePool:null,transitions:null}}function pE(s,a,u){var g=a.pendingProps,w=pr.current,k=!1,j=(a.flags&128)!==0,ae;if((ae=j)||(ae=s!==null&&s.memoizedState===null?!1:(w&2)!==0),ae?(k=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(w|=1),Kn(pr,w&1),s===null)return Ev(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(a.mode&1?s.data==="$!"?a.lanes=8:a.lanes=0x40000000:a.lanes=1,null):(j=g.children,s=g.fallback,k?(g=a.mode,k=a.child,j={mode:"hidden",children:j},!(g&1)&&k!==null?(k.childLanes=0,k.pendingProps=j):k=Ah(j,g,0,null),s=zl(s,g,u,null),k.return=a,s.return=a,k.sibling=s,a.child=k,a.child.memoizedState=Zv(u),a.memoizedState=Jv,s):Yv(a,j));if(w=s.memoizedState,w!==null&&(ae=w.dehydrated,ae!==null))return iA(s,a,j,g,ae,w,u);if(k){k=g.fallback,j=a.mode,w=s.child,ae=w.sibling;var he={mode:"hidden",children:g.children};return!(j&1)&&a.child!==w?(g=a.child,g.childLanes=0,g.pendingProps=he,a.deletions=null):(g=Fa(w,he),g.subtreeFlags=w.subtreeFlags&0xe00000),ae!==null?k=Fa(ae,k):(k=zl(k,j,u,null),k.flags|=2),k.return=a,g.return=a,g.sibling=k,a.child=g,g=k,k=a.child,j=s.child.memoizedState,j=j===null?Zv(u):{baseLanes:j.baseLanes|u,cachePool:null,transitions:j.transitions},k.memoizedState=j,k.childLanes=s.childLanes&~u,a.memoizedState=Jv,g}return k=s.child,s=k.sibling,g=Fa(k,{mode:"visible",children:g.children}),!(a.mode&1)&&(g.lanes=u),g.return=a,g.sibling=null,s!==null&&(u=a.deletions,u===null?(a.deletions=[s],a.flags|=16):u.push(s)),a.child=g,a.memoizedState=null,g}function Yv(s,a){return a=Ah({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function _h(s,a,u,g){return g!==null&&kv(g),zc(a,s.child,null,u),s=Yv(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function iA(s,a,u,g,w,k,j){if(u)return a.flags&256?(a.flags&=-257,g=Hv(Error(n(422))),_h(s,a,j,g)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(k=g.fallback,w=a.mode,g=Ah({mode:"visible",children:g.children},w,0,null),k=zl(k,w,j,null),k.flags|=2,g.return=a,k.return=a,g.sibling=k,a.child=g,a.mode&1&&zc(a,s.child,null,j),a.child.memoizedState=Zv(j),a.memoizedState=Jv,k);if(!(a.mode&1))return _h(s,a,j,null);if(w.data==="$!"){if(g=w.nextSibling&&w.nextSibling.dataset,g)var ae=g.dgst;return g=ae,k=Error(n(419)),g=Hv(k,g,void 0),_h(s,a,j,g)}if(ae=(j&s.childLanes)!==0,ji||ae){if(g=Kr,g!==null){switch(j&-j){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:w=32;break;case 0x20000000:w=0x10000000;break;default:w=0}w=w&(g.suspendedLanes|j)?0:w,w!==0&&w!==k.retryLane&&(k.retryLane=w,Zo(s,w),Gs(g,s,w,-1))}return hb(),g=Hv(Error(n(421))),_h(s,a,j,g)}return w.data==="$?"?(a.flags|=128,a.child=s.child,a=yA.bind(null,s),w._reactRetry=a,null):(s=k.treeContext,Yi=ka(w.nextSibling),Zi=a,nr=!0,Vs=null,s!==null&&(Es[ks++]=Go,Es[ks++]=Jo,Es[ks++]=jl,Go=s.id,Jo=s.overflow,jl=a),a=Yv(a,g.children),a.flags|=4096,a)}function hE(s,a,u){s.lanes|=a;var g=s.alternate;g!==null&&(g.lanes|=a),Tv(s.return,a,u)}function Xv(s,a,u,g,w){var k=s.memoizedState;k===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:g,tail:u,tailMode:w}:(k.isBackwards=a,k.rendering=null,k.renderingStartTime=0,k.last=g,k.tail=u,k.tailMode=w)}function mE(s,a,u){var g=a.pendingProps,w=g.revealOrder,k=g.tail;if(_i(s,a,g.children,u),g=pr.current,g&2)g=g&1|2,a.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&hE(s,u,a);else if(s.tag===19)hE(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}if(Kn(pr,g),!(a.mode&1))a.memoizedState=null;else switch(w){case"forwards":for(u=a.child,w=null;u!==null;)s=u.alternate,s!==null&&ph(s)===null&&(w=u),u=u.sibling;u=w,u===null?(w=a.child,a.child=null):(w=u.sibling,u.sibling=null),Xv(a,!1,w,u,k);break;case"backwards":for(u=null,w=a.child,a.child=null;w!==null;){if(s=w.alternate,s!==null&&ph(s)===null){a.child=w;break}s=w.sibling,w.sibling=u,u=w,w=s}Xv(a,!0,u,null,k);break;case"together":Xv(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function xh(s,a){!(a.mode&1)&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Xo(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),Ml|=a.lanes,!(u&a.childLanes))return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,u=Fa(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=Fa(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function sA(s,a,u){switch(a.tag){case 3:dE(a),Wc();break;case 5:TS(a);break;case 1:Ai(a.type)&&rh(a);break;case 4:Rv(a,a.stateNode.containerInfo);break;case 10:var g=a.type._context,w=a.memoizedProps.value;Kn(ch,g._currentValue),g._currentValue=w;break;case 13:if(g=a.memoizedState,g!==null)return g.dehydrated!==null?(Kn(pr,pr.current&1),a.flags|=128,null):u&a.child.childLanes?pE(s,a,u):(Kn(pr,pr.current&1),s=Xo(s,a,u),s!==null?s.sibling:null);Kn(pr,pr.current&1);break;case 19:if(g=(u&a.childLanes)!==0,s.flags&128){if(g)return mE(s,a,u);a.flags|=128}if(w=a.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),Kn(pr,pr.current),g)break;return null;case 22:case 23:return a.lanes=0,lE(s,a,u)}return Xo(s,a,u)}var gE,eb,yE,vE;gE=function(s,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},eb=function(){},yE=function(s,a,u,g){var w=s.memoizedProps;if(w!==g){s=a.stateNode,Ll(So.current);var k=null;switch(u){case"input":w=Zt(s,w),g=Zt(s,g),k=[];break;case"select":w=ke({},w,{value:void 0}),g=ke({},g,{value:void 0}),k=[];break;case"textarea":w=De(s,w),g=De(s,g),k=[];break;default:typeof w.onClick!="function"&&typeof g.onClick=="function"&&(s.onclick=eh)}bs(u,g);var j;u=null;for(Le in w)if(!g.hasOwnProperty(Le)&&w.hasOwnProperty(Le)&&w[Le]!=null)if(Le==="style"){var ae=w[Le];for(j in ae)ae.hasOwnProperty(j)&&(u||(u={}),u[j]="")}else Le!=="dangerouslySetInnerHTML"&&Le!=="children"&&Le!=="suppressContentEditableWarning"&&Le!=="suppressHydrationWarning"&&Le!=="autoFocus"&&(i.hasOwnProperty(Le)?k||(k=[]):(k=k||[]).push(Le,null));for(Le in g){var he=g[Le];if(ae=w?.[Le],g.hasOwnProperty(Le)&&he!==ae&&(he!=null||ae!=null))if(Le==="style")if(ae){for(j in ae)!ae.hasOwnProperty(j)||he&&he.hasOwnProperty(j)||(u||(u={}),u[j]="");for(j in he)he.hasOwnProperty(j)&&ae[j]!==he[j]&&(u||(u={}),u[j]=he[j])}else u||(k||(k=[]),k.push(Le,u)),u=he;else Le==="dangerouslySetInnerHTML"?(he=he?he.__html:void 0,ae=ae?ae.__html:void 0,he!=null&&ae!==he&&(k=k||[]).push(Le,he)):Le==="children"?typeof he!="string"&&typeof he!="number"||(k=k||[]).push(Le,""+he):Le!=="suppressContentEditableWarning"&&Le!=="suppressHydrationWarning"&&(i.hasOwnProperty(Le)?(he!=null&&Le==="onScroll"&&Yn("scroll",s),k||ae===he||(k=[])):(k=k||[]).push(Le,he))}u&&(k=k||[]).push("style",u);var Le=k;(a.updateQueue=Le)&&(a.flags|=4)}},vE=function(s,a,u,g){u!==g&&(a.flags|=4)};function Dd(s,a){if(!nr)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function oi(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,g=0;if(a)for(var w=s.child;w!==null;)u|=w.lanes|w.childLanes,g|=w.subtreeFlags&0xe00000,g|=w.flags&0xe00000,w.return=s,w=w.sibling;else for(w=s.child;w!==null;)u|=w.lanes|w.childLanes,g|=w.subtreeFlags,g|=w.flags,w.return=s,w=w.sibling;return s.subtreeFlags|=g,s.childLanes=u,a}function oA(s,a,u){var g=a.pendingProps;switch(wv(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oi(a),null;case 1:return Ai(a.type)&&nh(),oi(a),null;case 3:return g=a.stateNode,Hc(),Xn(Ri),Xn(ii),Pv(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&(ah(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,Vs!==null&&(db(Vs),Vs=null))),eb(s,a),oi(a),null;case 5:Av(a);var w=Ll(Ad.current);if(u=a.type,s!==null&&a.stateNode!=null)yE(s,a,u,g,w),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!g){if(a.stateNode===null)throw Error(n(166));return oi(a),null}if(s=Ll(So.current),ah(a)){g=a.stateNode,u=a.type;var k=a.memoizedProps;switch(g[wo]=a,g[Od]=k,s=(a.mode&1)!==0,u){case"dialog":Yn("cancel",g),Yn("close",g);break;case"iframe":case"object":case"embed":Yn("load",g);break;case"video":case"audio":for(w=0;w<kd.length;w++)Yn(kd[w],g);break;case"source":Yn("error",g);break;case"img":case"image":case"link":Yn("error",g),Yn("load",g);break;case"details":Yn("toggle",g);break;case"input":Kt(g,k),Yn("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!k.multiple},Yn("invalid",g);break;case"textarea":Je(g,k),Yn("invalid",g)}bs(u,k),w=null;for(var j in k)if(k.hasOwnProperty(j)){var ae=k[j];j==="children"?typeof ae=="string"?g.textContent!==ae&&(k.suppressHydrationWarning!==!0&&Xp(g.textContent,ae,s),w=["children",ae]):typeof ae=="number"&&g.textContent!==""+ae&&(k.suppressHydrationWarning!==!0&&Xp(g.textContent,ae,s),w=["children",""+ae]):i.hasOwnProperty(j)&&ae!=null&&j==="onScroll"&&Yn("scroll",g)}switch(u){case"input":ht(g),le(g,k,!0);break;case"textarea":ht(g),et(g);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(g.onclick=eh)}g=w,a.updateQueue=g,g!==null&&(a.flags|=4)}else{j=w.nodeType===9?w:w.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Vt(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=j.createElement("div"),s.innerHTML="<script></script>",s=s.removeChild(s.firstChild)):typeof g.is=="string"?s=j.createElement(u,{is:g.is}):(s=j.createElement(u),u==="select"&&(j=s,g.multiple?j.multiple=!0:g.size&&(j.size=g.size))):s=j.createElementNS(s,u),s[wo]=a,s[Od]=g,gE(s,a,!1,!1),a.stateNode=s;e:{switch(j=_s(u,g),u){case"dialog":Yn("cancel",s),Yn("close",s),w=g;break;case"iframe":case"object":case"embed":Yn("load",s),w=g;break;case"video":case"audio":for(w=0;w<kd.length;w++)Yn(kd[w],s);w=g;break;case"source":Yn("error",s),w=g;break;case"img":case"image":case"link":Yn("error",s),Yn("load",s),w=g;break;case"details":Yn("toggle",s),w=g;break;case"input":Kt(s,g),w=Zt(s,g),Yn("invalid",s);break;case"option":w=g;break;case"select":s._wrapperState={wasMultiple:!!g.multiple},w=ke({},g,{value:void 0}),Yn("invalid",s);break;case"textarea":Je(s,g),w=De(s,g),Yn("invalid",s);break;default:w=g}bs(u,w),ae=w;for(k in ae)if(ae.hasOwnProperty(k)){var he=ae[k];k==="style"?Bt(s,he):k==="dangerouslySetInnerHTML"?(he=he?he.__html:void 0,he!=null&&Nr(s,he)):k==="children"?typeof he=="string"?(u!=="textarea"||he!=="")&&jn(s,he):typeof he=="number"&&jn(s,""+he):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(i.hasOwnProperty(k)?he!=null&&k==="onScroll"&&Yn("scroll",s):he!=null&&B(s,k,he,j))}switch(u){case"input":ht(s),le(s,g,!1);break;case"textarea":ht(s),et(s);break;case"option":g.value!=null&&s.setAttribute("value",""+vt(g.value));break;case"select":s.multiple=!!g.multiple,k=g.value,k!=null?Ce(s,!!g.multiple,k,!1):g.defaultValue!=null&&Ce(s,!!g.multiple,g.defaultValue,!0);break;default:typeof w.onClick=="function"&&(s.onclick=eh)}switch(u){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return oi(a),null;case 6:if(s&&a.stateNode!=null)vE(s,a,s.memoizedProps,g);else{if(typeof g!="string"&&a.stateNode===null)throw Error(n(166));if(u=Ll(Ad.current),Ll(So.current),ah(a)){if(g=a.stateNode,u=a.memoizedProps,g[wo]=a,(k=g.nodeValue!==u)&&(s=Zi,s!==null))switch(s.tag){case 3:Xp(g.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Xp(g.nodeValue,u,(s.mode&1)!==0)}k&&(a.flags|=4)}else g=(u.nodeType===9?u:u.ownerDocument).createTextNode(g),g[wo]=a,a.stateNode=g}return oi(a),null;case 13:if(Xn(pr),g=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(nr&&Yi!==null&&a.mode&1&&!(a.flags&128))xS(),Wc(),a.flags|=98560,k=!1;else if(k=ah(a),g!==null&&g.dehydrated!==null){if(s===null){if(!k)throw Error(n(318));if(k=a.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(n(317));k[wo]=a}else Wc(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;oi(a),k=!1}else Vs!==null&&(db(Vs),Vs=null),k=!0;if(!k)return a.flags&65536?a:null}return a.flags&128?(a.lanes=u,a):(g=g!==null,g!==(s!==null&&s.memoizedState!==null)&&g&&(a.child.flags|=8192,a.mode&1&&(s===null||pr.current&1?$r===0&&($r=3):hb())),a.updateQueue!==null&&(a.flags|=4),oi(a),null);case 4:return Hc(),eb(s,a),s===null&&Nd(a.stateNode.containerInfo),oi(a),null;case 10:return Ov(a.type._context),oi(a),null;case 17:return Ai(a.type)&&nh(),oi(a),null;case 19:if(Xn(pr),k=a.memoizedState,k===null)return oi(a),null;if(g=(a.flags&128)!==0,j=k.rendering,j===null)if(g)Dd(k,!1);else{if($r!==0||s!==null&&s.flags&128)for(s=a.child;s!==null;){if(j=ph(s),j!==null){for(a.flags|=128,Dd(k,!1),g=j.updateQueue,g!==null&&(a.updateQueue=g,a.flags|=4),a.subtreeFlags=0,g=u,u=a.child;u!==null;)k=u,s=g,k.flags&=0xe00002,j=k.alternate,j===null?(k.childLanes=0,k.lanes=s,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=j.childLanes,k.lanes=j.lanes,k.child=j.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=j.memoizedProps,k.memoizedState=j.memoizedState,k.updateQueue=j.updateQueue,k.type=j.type,s=j.dependencies,k.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return Kn(pr,pr.current&1|2),a.child}s=s.sibling}k.tail!==null&&dr()>Jc&&(a.flags|=128,g=!0,Dd(k,!1),a.lanes=4194304)}else{if(!g)if(s=ph(j),s!==null){if(a.flags|=128,g=!0,u=s.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),Dd(k,!0),k.tail===null&&k.tailMode==="hidden"&&!j.alternate&&!nr)return oi(a),null}else 2*dr()-k.renderingStartTime>Jc&&u!==0x40000000&&(a.flags|=128,g=!0,Dd(k,!1),a.lanes=4194304);k.isBackwards?(j.sibling=a.child,a.child=j):(u=k.last,u!==null?u.sibling=j:a.child=j,k.last=j)}return k.tail!==null?(a=k.tail,k.rendering=a,k.tail=a.sibling,k.renderingStartTime=dr(),a.sibling=null,u=pr.current,Kn(pr,g?u&1|2:u&1),a):(oi(a),null);case 22:case 23:return pb(),g=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==g&&(a.flags|=8192),g&&a.mode&1?Xi&0x40000000&&(oi(a),a.subtreeFlags&6&&(a.flags|=8192)):oi(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function aA(s,a){switch(wv(a),a.tag){case 1:return Ai(a.type)&&nh(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Hc(),Xn(Ri),Xn(ii),Pv(),s=a.flags,s&65536&&!(s&128)?(a.flags=s&-65537|128,a):null;case 5:return Av(a),null;case 13:if(Xn(pr),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Wc()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return Xn(pr),null;case 4:return Hc(),null;case 10:return Ov(a.type._context),null;case 22:case 23:return pb(),null;case 24:return null;default:return null}}var wh=!1,ai=!1,lA=typeof WeakSet=="function"?WeakSet:Set,jt=null;function Kc(s,a){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(g){Sr(s,a,g)}else u.current=null}function tb(s,a,u){try{u()}catch(g){Sr(s,a,g)}}var bE=!1;function cA(s,a){if(pv=Be,s=Z0(),sv(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var g=u.getSelection&&u.getSelection();if(g&&g.rangeCount!==0){u=g.anchorNode;var w=g.anchorOffset,k=g.focusNode;g=g.focusOffset;try{u.nodeType,k.nodeType}catch{u=null;break e}var j=0,ae=-1,he=-1,Le=0,rt=0,st=s,tt=null;t:for(;;){for(var Tt;st!==u||w!==0&&st.nodeType!==3||(ae=j+w),st!==k||g!==0&&st.nodeType!==3||(he=j+g),st.nodeType===3&&(j+=st.nodeValue.length),(Tt=st.firstChild)!==null;)tt=st,st=Tt;for(;;){if(st===s)break t;if(tt===u&&++Le===w&&(ae=j),tt===k&&++rt===g&&(he=j),(Tt=st.nextSibling)!==null)break;st=tt,tt=st.parentNode}st=Tt}u=ae===-1||he===-1?null:{start:ae,end:he}}else u=null}u=u||{start:0,end:0}}else u=null;for(hv={focusedElem:s,selectionRange:u},Be=!1,jt=a;jt!==null;)if(a=jt,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,jt=s;else for(;jt!==null;){a=jt;try{var Pt=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Pt!==null){var Dt=Pt.memoizedProps,Or=Pt.memoizedState,Oe=a.stateNode,be=Oe.getSnapshotBeforeUpdate(a.elementType===a.type?Dt:Hs(a.type,Dt),Or);Oe.__reactInternalSnapshotBeforeUpdate=be}break;case 3:var Re=a.stateNode.containerInfo;Re.nodeType===1?Re.textContent="":Re.nodeType===9&&Re.documentElement&&Re.removeChild(Re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ct){Sr(a,a.return,ct)}if(s=a.sibling,s!==null){s.return=a.return,jt=s;break}jt=a.return}return Pt=bE,bE=!1,Pt}function Md(s,a,u){var g=a.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var w=g=g.next;do{if((w.tag&s)===s){var k=w.destroy;w.destroy=void 0,k!==void 0&&tb(a,u,k)}w=w.next}while(w!==g)}}function Sh(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&s)===s){var g=u.create;u.destroy=g()}u=u.next}while(u!==a)}}function nb(s){var a=s.ref;if(a!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof a=="function"?a(s):a.current=s}}function _E(s){var a=s.alternate;a!==null&&(s.alternate=null,_E(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[wo],delete a[Od],delete a[vv],delete a[VR],delete a[HR])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function xE(s){return s.tag===5||s.tag===3||s.tag===4}function wE(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||xE(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function rb(s,a,u){var g=s.tag;if(g===5||g===6)s=s.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(s,a):u.insertBefore(s,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(s,u)):(a=u,a.appendChild(s)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=eh));else if(g!==4&&(s=s.child,s!==null))for(rb(s,a,u),s=s.sibling;s!==null;)rb(s,a,u),s=s.sibling}function ib(s,a,u){var g=s.tag;if(g===5||g===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(g!==4&&(s=s.child,s!==null))for(ib(s,a,u),s=s.sibling;s!==null;)ib(s,a,u),s=s.sibling}var Zr=null,Qs=!1;function Ca(s,a,u){for(u=u.child;u!==null;)SE(s,a,u),u=u.sibling}function SE(s,a,u){if(ws&&typeof ws.onCommitFiberUnmount=="function")try{ws.onCommitFiberUnmount(Tc,u)}catch{}switch(u.tag){case 5:ai||Kc(u,a);case 6:var g=Zr,w=Qs;Zr=null,Ca(s,a,u),Zr=g,Qs=w,Zr!==null&&(Qs?(s=Zr,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Zr.removeChild(u.stateNode));break;case 18:Zr!==null&&(Qs?(s=Zr,u=u.stateNode,s.nodeType===8?yv(s.parentNode,u):s.nodeType===1&&yv(s,u),_e(s)):yv(Zr,u.stateNode));break;case 4:g=Zr,w=Qs,Zr=u.stateNode.containerInfo,Qs=!0,Ca(s,a,u),Zr=g,Qs=w;break;case 0:case 11:case 14:case 15:if(!ai&&(g=u.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){w=g=g.next;do{var k=w,j=k.destroy;k=k.tag,j!==void 0&&(k&2||k&4)&&tb(u,a,j),w=w.next}while(w!==g)}Ca(s,a,u);break;case 1:if(!ai&&(Kc(u,a),g=u.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=u.memoizedProps,g.state=u.memoizedState,g.componentWillUnmount()}catch(ae){Sr(u,a,ae)}Ca(s,a,u);break;case 21:Ca(s,a,u);break;case 22:u.mode&1?(ai=(g=ai)||u.memoizedState!==null,Ca(s,a,u),ai=g):Ca(s,a,u);break;default:Ca(s,a,u)}}function EE(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new lA),a.forEach(function(g){var w=vA.bind(null,s,g);u.has(g)||(u.add(g),g.then(w,w))})}}function Ks(s,a){var u=a.deletions;if(u!==null)for(var g=0;g<u.length;g++){var w=u[g];try{var k=s,j=a,ae=j;e:for(;ae!==null;){switch(ae.tag){case 5:Zr=ae.stateNode,Qs=!1;break e;case 3:Zr=ae.stateNode.containerInfo,Qs=!0;break e;case 4:Zr=ae.stateNode.containerInfo,Qs=!0;break e}ae=ae.return}if(Zr===null)throw Error(n(160));SE(k,j,w),Zr=null,Qs=!1;var he=w.alternate;he!==null&&(he.return=null),w.return=null}catch(Le){Sr(w,a,Le)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)kE(a,s),a=a.sibling}function kE(s,a){var u=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Ks(a,s),ko(s),g&4){try{Md(3,s,s.return),Sh(3,s)}catch(Dt){Sr(s,s.return,Dt)}try{Md(5,s,s.return)}catch(Dt){Sr(s,s.return,Dt)}}break;case 1:Ks(a,s),ko(s),g&512&&u!==null&&Kc(u,u.return);break;case 5:if(Ks(a,s),ko(s),g&512&&u!==null&&Kc(u,u.return),s.flags&32){var w=s.stateNode;try{jn(w,"")}catch(Dt){Sr(s,s.return,Dt)}}if(g&4&&(w=s.stateNode,w!=null)){var k=s.memoizedProps,j=u!==null?u.memoizedProps:k,ae=s.type,he=s.updateQueue;if(s.updateQueue=null,he!==null)try{ae==="input"&&k.type==="radio"&&k.name!=null&&rn(w,k),_s(ae,j);var Le=_s(ae,k);for(j=0;j<he.length;j+=2){var rt=he[j],st=he[j+1];rt==="style"?Bt(w,st):rt==="dangerouslySetInnerHTML"?Nr(w,st):rt==="children"?jn(w,st):B(w,rt,st,Le)}switch(ae){case"input":dn(w,k);break;case"textarea":Fe(w,k);break;case"select":var tt=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!k.multiple;var Tt=k.value;Tt!=null?Ce(w,!!k.multiple,Tt,!1):tt!==!!k.multiple&&(k.defaultValue!=null?Ce(w,!!k.multiple,k.defaultValue,!0):Ce(w,!!k.multiple,k.multiple?[]:"",!1))}w[Od]=k}catch(Dt){Sr(s,s.return,Dt)}}break;case 6:if(Ks(a,s),ko(s),g&4){if(s.stateNode===null)throw Error(n(162));w=s.stateNode,k=s.memoizedProps;try{w.nodeValue=k}catch(Dt){Sr(s,s.return,Dt)}}break;case 3:if(Ks(a,s),ko(s),g&4&&u!==null&&u.memoizedState.isDehydrated)try{_e(a.containerInfo)}catch(Dt){Sr(s,s.return,Dt)}break;case 4:Ks(a,s),ko(s);break;case 13:Ks(a,s),ko(s),w=s.child,w.flags&8192&&(k=w.memoizedState!==null,w.stateNode.isHidden=k,!k||w.alternate!==null&&w.alternate.memoizedState!==null||(ab=dr())),g&4&&EE(s);break;case 22:if(rt=u!==null&&u.memoizedState!==null,s.mode&1?(ai=(Le=ai)||rt,Ks(a,s),ai=Le):Ks(a,s),ko(s),g&8192){if(Le=s.memoizedState!==null,(s.stateNode.isHidden=Le)&&!rt&&s.mode&1)for(jt=s,rt=s.child;rt!==null;){for(st=jt=rt;jt!==null;){switch(tt=jt,Tt=tt.child,tt.tag){case 0:case 11:case 14:case 15:Md(4,tt,tt.return);break;case 1:Kc(tt,tt.return);var Pt=tt.stateNode;if(typeof Pt.componentWillUnmount=="function"){g=tt,u=tt.return;try{a=g,Pt.props=a.memoizedProps,Pt.state=a.memoizedState,Pt.componentWillUnmount()}catch(Dt){Sr(g,u,Dt)}}break;case 5:Kc(tt,tt.return);break;case 22:if(tt.memoizedState!==null){OE(st);continue}}Tt!==null?(Tt.return=tt,jt=Tt):OE(st)}rt=rt.sibling}e:for(rt=null,st=s;;){if(st.tag===5){if(rt===null){rt=st;try{w=st.stateNode,Le?(k=w.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(ae=st.stateNode,he=st.memoizedProps.style,j=he!=null&&he.hasOwnProperty("display")?he.display:null,ae.style.display=Ir("display",j))}catch(Dt){Sr(s,s.return,Dt)}}}else if(st.tag===6){if(rt===null)try{st.stateNode.nodeValue=Le?"":st.memoizedProps}catch(Dt){Sr(s,s.return,Dt)}}else if((st.tag!==22&&st.tag!==23||st.memoizedState===null||st===s)&&st.child!==null){st.child.return=st,st=st.child;continue}if(st===s)break e;for(;st.sibling===null;){if(st.return===null||st.return===s)break e;rt===st&&(rt=null),st=st.return}rt===st&&(rt=null),st.sibling.return=st.return,st=st.sibling}}break;case 19:Ks(a,s),ko(s),g&4&&EE(s);break;case 21:break;default:Ks(a,s),ko(s)}}function ko(s){var a=s.flags;if(a&2){try{e:{for(var u=s.return;u!==null;){if(xE(u)){var g=u;break e}u=u.return}throw Error(n(160))}switch(g.tag){case 5:var w=g.stateNode;g.flags&32&&(jn(w,""),g.flags&=-33);var k=wE(s);ib(s,k,w);break;case 3:case 4:var j=g.stateNode.containerInfo,ae=wE(s);rb(s,ae,j);break;default:throw Error(n(161))}}catch(he){Sr(s,s.return,he)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function uA(s,a,u){jt=s,NE(s)}function NE(s,a,u){for(var g=(s.mode&1)!==0;jt!==null;){var w=jt,k=w.child;if(w.tag===22&&g){var j=w.memoizedState!==null||wh;if(!j){var ae=w.alternate,he=ae!==null&&ae.memoizedState!==null||ai;ae=wh;var Le=ai;if(wh=j,(ai=he)&&!Le)for(jt=w;jt!==null;)j=jt,he=j.child,j.tag===22&&j.memoizedState!==null?TE(w):he!==null?(he.return=j,jt=he):TE(w);for(;k!==null;)jt=k,NE(k),k=k.sibling;jt=w,wh=ae,ai=Le}IE(s)}else w.subtreeFlags&8772&&k!==null?(k.return=w,jt=k):IE(s)}}function IE(s){for(;jt!==null;){var a=jt;if(a.flags&8772){var u=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:ai||Sh(5,a);break;case 1:var g=a.stateNode;if(a.flags&4&&!ai)if(u===null)g.componentDidMount();else{var w=a.elementType===a.type?u.memoizedProps:Hs(a.type,u.memoizedProps);g.componentDidUpdate(w,u.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var k=a.updateQueue;k!==null&&OS(a,k,g);break;case 3:var j=a.updateQueue;if(j!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}OS(a,j,u)}break;case 5:var ae=a.stateNode;if(u===null&&a.flags&4){u=ae;var he=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":he.autoFocus&&u.focus();break;case"img":he.src&&(u.src=he.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Le=a.alternate;if(Le!==null){var rt=Le.memoizedState;if(rt!==null){var st=rt.dehydrated;st!==null&&_e(st)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ai||a.flags&512&&nb(a)}catch(tt){Sr(a,a.return,tt)}}if(a===s){jt=null;break}if(u=a.sibling,u!==null){u.return=a.return,jt=u;break}jt=a.return}}function OE(s){for(;jt!==null;){var a=jt;if(a===s){jt=null;break}var u=a.sibling;if(u!==null){u.return=a.return,jt=u;break}jt=a.return}}function TE(s){for(;jt!==null;){var a=jt;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{Sh(4,a)}catch(he){Sr(a,u,he)}break;case 1:var g=a.stateNode;if(typeof g.componentDidMount=="function"){var w=a.return;try{g.componentDidMount()}catch(he){Sr(a,w,he)}}var k=a.return;try{nb(a)}catch(he){Sr(a,k,he)}break;case 5:var j=a.return;try{nb(a)}catch(he){Sr(a,j,he)}}}catch(he){Sr(a,a.return,he)}if(a===s){jt=null;break}var ae=a.sibling;if(ae!==null){ae.return=a.return,jt=ae;break}jt=a.return}}var dA=Math.ceil,Eh=Q.ReactCurrentDispatcher,sb=Q.ReactCurrentOwner,Os=Q.ReactCurrentBatchConfig,Sn=0,Kr=null,Ar=null,Yr=0,Xi=0,Gc=Na(0),$r=0,$d=null,Ml=0,kh=0,ob=0,Bd=null,Pi=null,ab=0,Jc=1/0,ea=null,Nh=!1,lb=null,Ra=null,Ih=!1,Aa=null,Oh=0,Wd=0,cb=null,Th=-1,qh=0;function xi(){return Sn&6?dr():Th!==-1?Th:Th=dr()}function ja(s){return s.mode&1?Sn&2&&Yr!==0?Yr&-Yr:KR.transition!==null?(qh===0&&(qh=Vp()),qh):(s=On,s!==0||(s=window.event,s=s===void 0?16:me(s.type)),s):1}function Gs(s,a,u,g){if(50<Wd)throw Wd=0,cb=null,Error(n(185));ql(s,u,g),(!(Sn&2)||s!==Kr)&&(s===Kr&&(!(Sn&2)&&(kh|=u),$r===4&&Pa(s,Yr)),Fi(s,g),u===1&&Sn===0&&!(a.mode&1)&&(Jc=dr()+500,ih&&Oa()))}function Fi(s,a){var u=s.callbackNode;Zy(s,a);var g=Cc(s,s===Kr?Yr:0);if(g===0)u!==null&&dd(u),s.callbackNode=null,s.callbackPriority=0;else if(a=g&-g,s.callbackPriority!==a){if(u!=null&&dd(u),a===1)s.tag===0?QR(CE.bind(null,s)):gS(CE.bind(null,s)),zR(function(){!(Sn&6)&&Oa()}),u=null;else{switch(Hp(g)){case 1:u=fd;break;case 4:u=zp;break;case 16:u=Oc;break;case 0x20000000:u=Up;break;default:u=Oc}u=ME(u,qE.bind(null,s))}s.callbackPriority=a,s.callbackNode=u}}function qE(s,a){if(Th=-1,qh=0,Sn&6)throw Error(n(327));var u=s.callbackNode;if(Zc()&&s.callbackNode!==u)return null;var g=Cc(s,s===Kr?Yr:0);if(g===0)return null;if(g&30||g&s.expiredLanes||a)a=Ch(s,g);else{a=g;var w=Sn;Sn|=2;var k=AE();(Kr!==s||Yr!==a)&&(ea=null,Jc=dr()+500,Bl(s,a));do try{hA();break}catch(ae){RE(s,ae)}while(!0);Iv(),Eh.current=k,Sn=w,Ar!==null?a=0:(Kr=null,Yr=0,a=$r)}if(a!==0){if(a===2&&(w=pd(s),w!==0&&(g=w,a=ub(s,w))),a===1)throw u=$d,Bl(s,0),Pa(s,g),Fi(s,dr()),u;if(a===6)Pa(s,g);else{if(w=s.current.alternate,!(g&30)&&!fA(w)&&(a=Ch(s,g),a===2&&(k=pd(s),k!==0&&(g=k,a=ub(s,k))),a===1))throw u=$d,Bl(s,0),Pa(s,g),Fi(s,dr()),u;switch(s.finishedWork=w,s.finishedLanes=g,a){case 0:case 1:throw Error(n(345));case 2:Wl(s,Pi,ea);break;case 3:if(Pa(s,g),(g&0x7c00000)===g&&(a=ab+500-dr(),10<a)){if(Cc(s,0)!==0)break;if(w=s.suspendedLanes,(w&g)!==g){xi(),s.pingedLanes|=s.suspendedLanes&w;break}s.timeoutHandle=gv(Wl.bind(null,s,Pi,ea),a);break}Wl(s,Pi,ea);break;case 4:if(Pa(s,g),(g&4194240)===g)break;for(a=s.eventTimes,w=-1;0<g;){var j=31-Ci(g);k=1<<j,j=a[j],j>w&&(w=j),g&=~k}if(g=w,g=dr()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*dA(g/1960))-g,10<g){s.timeoutHandle=gv(Wl.bind(null,s,Pi,ea),g);break}Wl(s,Pi,ea);break;case 5:Wl(s,Pi,ea);break;default:throw Error(n(329))}}}return Fi(s,dr()),s.callbackNode===u?qE.bind(null,s):null}function ub(s,a){var u=Bd;return s.current.memoizedState.isDehydrated&&(Bl(s,a).flags|=256),s=Ch(s,a),s!==2&&(a=Pi,Pi=u,a!==null&&db(a)),s}function db(s){Pi===null?Pi=s:Pi.push.apply(Pi,s)}function fA(s){for(var a=s;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var g=0;g<u.length;g++){var w=u[g],k=w.getSnapshot;w=w.value;try{if(!Us(k(),w))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Pa(s,a){for(a&=~ob,a&=~kh,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var u=31-Ci(a),g=1<<u;s[u]=-1,a&=~g}}function CE(s){if(Sn&6)throw Error(n(327));Zc();var a=Cc(s,0);if(!(a&1))return Fi(s,dr()),null;var u=Ch(s,a);if(s.tag!==0&&u===2){var g=pd(s);g!==0&&(a=g,u=ub(s,g))}if(u===1)throw u=$d,Bl(s,0),Pa(s,a),Fi(s,dr()),u;if(u===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Wl(s,Pi,ea),Fi(s,dr()),null}function fb(s,a){var u=Sn;Sn|=1;try{return s(a)}finally{Sn=u,Sn===0&&(Jc=dr()+500,ih&&Oa())}}function $l(s){Aa!==null&&Aa.tag===0&&!(Sn&6)&&Zc();var a=Sn;Sn|=1;var u=Os.transition,g=On;try{if(Os.transition=null,On=1,s)return s()}finally{On=g,Os.transition=u,Sn=a,!(Sn&6)&&Oa()}}function pb(){Xi=Gc.current,Xn(Gc)}function Bl(s,a){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,WR(u)),Ar!==null)for(u=Ar.return;u!==null;){var g=u;switch(wv(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&nh();break;case 3:Hc(),Xn(Ri),Xn(ii),Pv();break;case 5:Av(g);break;case 4:Hc();break;case 13:Xn(pr);break;case 19:Xn(pr);break;case 10:Ov(g.type._context);break;case 22:case 23:pb()}u=u.return}if(Kr=s,Ar=s=Fa(s.current,null),Yr=Xi=a,$r=0,$d=null,ob=kh=Ml=0,Pi=Bd=null,Fl!==null){for(a=0;a<Fl.length;a++)if(u=Fl[a],g=u.interleaved,g!==null){u.interleaved=null;var w=g.next,k=u.pending;if(k!==null){var j=k.next;k.next=w,g.next=j}u.pending=g}Fl=null}return s}function RE(s,a){do{var u=Ar;try{if(Iv(),hh.current=vh,mh){for(var g=hr.memoizedState;g!==null;){var w=g.queue;w!==null&&(w.pending=null),g=g.next}mh=!1}if(Dl=0,Qr=Mr=hr=null,jd=!1,Pd=0,sb.current=null,u===null||u.return===null){$r=1,$d=a,Ar=null;break}e:{var k=s,j=u.return,ae=u,he=a;if(a=Yr,ae.flags|=32768,he!==null&&typeof he=="object"&&typeof he.then=="function"){var Le=he,rt=ae,st=rt.tag;if(!(rt.mode&1)&&(st===0||st===11||st===15)){var tt=rt.alternate;tt?(rt.updateQueue=tt.updateQueue,rt.memoizedState=tt.memoizedState,rt.lanes=tt.lanes):(rt.updateQueue=null,rt.memoizedState=null)}var Tt=rE(j);if(Tt!==null){Tt.flags&=-257,iE(Tt,j,ae,k,a),Tt.mode&1&&nE(k,Le,a),a=Tt,he=Le;var Pt=a.updateQueue;if(Pt===null){var Dt=new Set;Dt.add(he),a.updateQueue=Dt}else Pt.add(he);break e}else{if(!(a&1)){nE(k,Le,a),hb();break e}he=Error(n(426))}}else if(nr&&ae.mode&1){var Or=rE(j);if(Or!==null){!(Or.flags&65536)&&(Or.flags|=256),iE(Or,j,ae,k,a),kv(Qc(he,ae));break e}}k=he=Qc(he,ae),$r!==4&&($r=2),Bd===null?Bd=[k]:Bd.push(k),k=j;do{switch(k.tag){case 3:k.flags|=65536,a&=-a,k.lanes|=a;var Oe=eE(k,he,a);IS(k,Oe);break e;case 1:ae=he;var be=k.type,Re=k.stateNode;if(!(k.flags&128)&&(typeof be.getDerivedStateFromError=="function"||Re!==null&&typeof Re.componentDidCatch=="function"&&(Ra===null||!Ra.has(Re)))){k.flags|=65536,a&=-a,k.lanes|=a;var ct=tE(k,ae,a);IS(k,ct);break e}}k=k.return}while(k!==null)}PE(u)}catch(Mt){a=Mt,Ar===u&&u!==null&&(Ar=u=u.return);continue}break}while(!0)}function AE(){var s=Eh.current;return Eh.current=vh,s===null?vh:s}function hb(){($r===0||$r===3||$r===2)&&($r=4),Kr===null||!(Ml&0xfffffff)&&!(kh&0xfffffff)||Pa(Kr,Yr)}function Ch(s,a){var u=Sn;Sn|=2;var g=AE();(Kr!==s||Yr!==a)&&(ea=null,Bl(s,a));do try{pA();break}catch(w){RE(s,w)}while(!0);if(Iv(),Sn=u,Eh.current=g,Ar!==null)throw Error(n(261));return Kr=null,Yr=0,$r}function pA(){for(;Ar!==null;)jE(Ar)}function hA(){for(;Ar!==null&&!Wy();)jE(Ar)}function jE(s){var a=DE(s.alternate,s,Xi);s.memoizedProps=s.pendingProps,a===null?PE(s):Ar=a,sb.current=null}function PE(s){var a=s;do{var u=a.alternate;if(s=a.return,a.flags&32768){if(u=aA(u,a),u!==null){u.flags&=32767,Ar=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{$r=6,Ar=null;return}}else if(u=oA(u,a,Xi),u!==null){Ar=u;return}if(a=a.sibling,a!==null){Ar=a;return}Ar=a=s}while(a!==null);$r===0&&($r=5)}function Wl(s,a,u){var g=On,w=Os.transition;try{Os.transition=null,On=1,mA(s,a,u,g)}finally{Os.transition=w,On=g}return null}function mA(s,a,u,g){do Zc();while(Aa!==null);if(Sn&6)throw Error(n(327));u=s.finishedWork;var w=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var k=u.lanes|u.childLanes;if(Yy(s,k),s===Kr&&(Ar=Kr=null,Yr=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||Ih||(Ih=!0,ME(Oc,function(){return Zc(),null})),k=(u.flags&15990)!==0,u.subtreeFlags&15990||k){k=Os.transition,Os.transition=null;var j=On;On=1;var ae=Sn;Sn|=4,sb.current=null,cA(s,u),kE(u,s),PR(hv),Be=!!pv,hv=pv=null,s.current=u,uA(u),zy(),Sn=ae,On=j,Os.transition=k}else s.current=u;if(Ih&&(Ih=!1,Aa=s,Oh=w),k=s.pendingLanes,k===0&&(Ra=null),Hy(u.stateNode),Fi(s,dr()),a!==null)for(g=s.onRecoverableError,u=0;u<a.length;u++)w=a[u],g(w.value,{componentStack:w.stack,digest:w.digest});if(Nh)throw Nh=!1,s=lb,lb=null,s;return Oh&1&&s.tag!==0&&Zc(),k=s.pendingLanes,k&1?s===cb?Wd++:(Wd=0,cb=s):Wd=0,Oa(),null}function Zc(){if(Aa!==null){var s=Hp(Oh),a=Os.transition,u=On;try{if(Os.transition=null,On=16>s?16:s,Aa===null)var g=!1;else{if(s=Aa,Aa=null,Oh=0,Sn&6)throw Error(n(331));var w=Sn;for(Sn|=4,jt=s.current;jt!==null;){var k=jt,j=k.child;if(jt.flags&16){var ae=k.deletions;if(ae!==null){for(var he=0;he<ae.length;he++){var Le=ae[he];for(jt=Le;jt!==null;){var rt=jt;switch(rt.tag){case 0:case 11:case 15:Md(8,rt,k)}var st=rt.child;if(st!==null)st.return=rt,jt=st;else for(;jt!==null;){rt=jt;var tt=rt.sibling,Tt=rt.return;if(_E(rt),rt===Le){jt=null;break}if(tt!==null){tt.return=Tt,jt=tt;break}jt=Tt}}}var Pt=k.alternate;if(Pt!==null){var Dt=Pt.child;if(Dt!==null){Pt.child=null;do{var Or=Dt.sibling;Dt.sibling=null,Dt=Or}while(Dt!==null)}}jt=k}}if(k.subtreeFlags&2064&&j!==null)j.return=k,jt=j;else e:for(;jt!==null;){if(k=jt,k.flags&2048)switch(k.tag){case 0:case 11:case 15:Md(9,k,k.return)}var Oe=k.sibling;if(Oe!==null){Oe.return=k.return,jt=Oe;break e}jt=k.return}}var be=s.current;for(jt=be;jt!==null;){j=jt;var Re=j.child;if(j.subtreeFlags&2064&&Re!==null)Re.return=j,jt=Re;else e:for(j=be;jt!==null;){if(ae=jt,ae.flags&2048)try{switch(ae.tag){case 0:case 11:case 15:Sh(9,ae)}}catch(Mt){Sr(ae,ae.return,Mt)}if(ae===j){jt=null;break e}var ct=ae.sibling;if(ct!==null){ct.return=ae.return,jt=ct;break e}jt=ae.return}}if(Sn=w,Oa(),ws&&typeof ws.onPostCommitFiberRoot=="function")try{ws.onPostCommitFiberRoot(Tc,s)}catch{}g=!0}return g}finally{On=u,Os.transition=a}}return!1}function FE(s,a,u){a=Qc(u,a),a=eE(s,a,1),s=qa(s,a,1),a=xi(),s!==null&&(ql(s,1,a),Fi(s,a))}function Sr(s,a,u){if(s.tag===3)FE(s,s,u);else for(;a!==null;){if(a.tag===3){FE(a,s,u);break}else if(a.tag===1){var g=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ra===null||!Ra.has(g))){s=Qc(u,s),s=tE(a,s,1),a=qa(a,s,1),s=xi(),a!==null&&(ql(a,1,s),Fi(a,s));break}}a=a.return}}function gA(s,a,u){var g=s.pingCache;g!==null&&g.delete(a),a=xi(),s.pingedLanes|=s.suspendedLanes&u,Kr===s&&(Yr&u)===u&&($r===4||$r===3&&(Yr&0x7c00000)===Yr&&500>dr()-ab?Bl(s,0):ob|=u),Fi(s,a)}function LE(s,a){a===0&&(s.mode&1?(a=qc,qc<<=1,!(qc&0x7c00000)&&(qc=4194304)):a=1);var u=xi();s=Zo(s,a),s!==null&&(ql(s,a,u),Fi(s,u))}function yA(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),LE(s,u)}function vA(s,a){var u=0;switch(s.tag){case 13:var g=s.stateNode,w=s.memoizedState;w!==null&&(u=w.retryLane);break;case 19:g=s.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(a),LE(s,u)}var DE;DE=function(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps||Ri.current)ji=!0;else{if(!(s.lanes&u)&&!(a.flags&128))return ji=!1,sA(s,a,u);ji=!!(s.flags&131072)}else ji=!1,nr&&a.flags&1048576&&yS(a,oh,a.index);switch(a.lanes=0,a.tag){case 2:var g=a.type;xh(s,a),s=a.pendingProps;var w=Mc(a,ii.current);Vc(a,u),w=Dv(null,a,g,s,w,u);var k=Mv();return a.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Ai(g)?(k=!0,rh(a)):k=!1,a.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,Cv(a),w.updater=bh,a.stateNode=w,w._reactInternals=a,Vv(a,g,s,u),a=Gv(null,a,g,!0,k,u)):(a.tag=0,nr&&k&&xv(a),_i(null,a,w,u),a=a.child),a;case 16:g=a.elementType;e:{switch(xh(s,a),s=a.pendingProps,w=g._init,g=w(g._payload),a.type=g,w=a.tag=_A(g),s=Hs(g,s),w){case 0:a=Kv(null,a,g,s,u);break e;case 1:a=uE(null,a,g,s,u);break e;case 11:a=sE(null,a,g,s,u);break e;case 14:a=oE(null,a,g,Hs(g.type,s),u);break e}throw Error(n(306,g,""))}return a;case 0:return g=a.type,w=a.pendingProps,w=a.elementType===g?w:Hs(g,w),Kv(s,a,g,w,u);case 1:return g=a.type,w=a.pendingProps,w=a.elementType===g?w:Hs(g,w),uE(s,a,g,w,u);case 3:e:{if(dE(a),s===null)throw Error(n(387));g=a.pendingProps,k=a.memoizedState,w=k.element,NS(s,a),fh(a,g,null,u);var j=a.memoizedState;if(g=j.element,k.isDehydrated)if(k={element:g,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},a.updateQueue.baseState=k,a.memoizedState=k,a.flags&256){w=Qc(Error(n(423)),a),a=fE(s,a,g,u,w);break e}else if(g!==w){w=Qc(Error(n(424)),a),a=fE(s,a,g,u,w);break e}else for(Yi=ka(a.stateNode.containerInfo.firstChild),Zi=a,nr=!0,Vs=null,u=ES(a,null,g,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Wc(),g===w){a=Xo(s,a,u);break e}_i(s,a,g,u)}a=a.child}return a;case 5:return TS(a),s===null&&Ev(a),g=a.type,w=a.pendingProps,k=s!==null?s.memoizedProps:null,j=w.children,mv(g,w)?j=null:k!==null&&mv(g,k)&&(a.flags|=32),cE(s,a),_i(s,a,j,u),a.child;case 6:return s===null&&Ev(a),null;case 13:return pE(s,a,u);case 4:return Rv(a,a.stateNode.containerInfo),g=a.pendingProps,s===null?a.child=zc(a,null,g,u):_i(s,a,g,u),a.child;case 11:return g=a.type,w=a.pendingProps,w=a.elementType===g?w:Hs(g,w),sE(s,a,g,w,u);case 7:return _i(s,a,a.pendingProps,u),a.child;case 8:return _i(s,a,a.pendingProps.children,u),a.child;case 12:return _i(s,a,a.pendingProps.children,u),a.child;case 10:e:{if(g=a.type._context,w=a.pendingProps,k=a.memoizedProps,j=w.value,Kn(ch,g._currentValue),g._currentValue=j,k!==null)if(Us(k.value,j)){if(k.children===w.children&&!Ri.current){a=Xo(s,a,u);break e}}else for(k=a.child,k!==null&&(k.return=a);k!==null;){var ae=k.dependencies;if(ae!==null){j=k.child;for(var he=ae.firstContext;he!==null;){if(he.context===g){if(k.tag===1){he=Yo(-1,u&-u),he.tag=2;var Le=k.updateQueue;if(Le!==null){Le=Le.shared;var rt=Le.pending;rt===null?he.next=he:(he.next=rt.next,rt.next=he),Le.pending=he}}k.lanes|=u,he=k.alternate,he!==null&&(he.lanes|=u),Tv(k.return,u,a),ae.lanes|=u;break}he=he.next}}else if(k.tag===10)j=k.type===a.type?null:k.child;else if(k.tag===18){if(j=k.return,j===null)throw Error(n(341));j.lanes|=u,ae=j.alternate,ae!==null&&(ae.lanes|=u),Tv(j,u,a),j=k.sibling}else j=k.child;if(j!==null)j.return=k;else for(j=k;j!==null;){if(j===a){j=null;break}if(k=j.sibling,k!==null){k.return=j.return,j=k;break}j=j.return}k=j}_i(s,a,w.children,u),a=a.child}return a;case 9:return w=a.type,g=a.pendingProps.children,Vc(a,u),w=Ns(w),g=g(w),a.flags|=1,_i(s,a,g,u),a.child;case 14:return g=a.type,w=Hs(g,a.pendingProps),w=Hs(g.type,w),oE(s,a,g,w,u);case 15:return aE(s,a,a.type,a.pendingProps,u);case 17:return g=a.type,w=a.pendingProps,w=a.elementType===g?w:Hs(g,w),xh(s,a),a.tag=1,Ai(g)?(s=!0,rh(a)):s=!1,Vc(a,u),YS(a,g,w),Vv(a,g,w,u),Gv(null,a,g,!0,s,u);case 19:return mE(s,a,u);case 22:return lE(s,a,u)}throw Error(n(156,a.tag))};function ME(s,a){return Wp(s,a)}function bA(s,a,u,g){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ts(s,a,u,g){return new bA(s,a,u,g)}function mb(s){return s=s.prototype,!(!s||!s.isReactComponent)}function _A(s){if(typeof s=="function")return mb(s)?1:0;if(s!=null){if(s=s.$$typeof,s===oe)return 11;if(s===Ee)return 14}return 2}function Fa(s,a){var u=s.alternate;return u===null?(u=Ts(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&0xe00000,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function Rh(s,a,u,g,w,k){var j=2;if(g=s,typeof s=="function")mb(s)&&(j=1);else if(typeof s=="string")j=5;else e:switch(s){case G:return zl(u.children,w,k,a);case re:j=8,w|=8;break;case H:return s=Ts(12,u,a,w|2),s.elementType=H,s.lanes=k,s;case Y:return s=Ts(13,u,a,w),s.elementType=Y,s.lanes=k,s;case fe:return s=Ts(19,u,a,w),s.elementType=fe,s.lanes=k,s;case je:return Ah(u,w,k,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case te:j=10;break e;case $:j=9;break e;case oe:j=11;break e;case Ee:j=14;break e;case qe:j=16,g=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return a=Ts(j,u,a,w),a.elementType=s,a.type=g,a.lanes=k,a}function zl(s,a,u,g){return s=Ts(7,s,g,a),s.lanes=u,s}function Ah(s,a,u,g){return s=Ts(22,s,g,a),s.elementType=je,s.lanes=u,s.stateNode={isHidden:!1},s}function gb(s,a,u){return s=Ts(6,s,null,a),s.lanes=u,s}function yb(s,a,u){return a=Ts(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function xA(s,a,u,g,w){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hd(0),this.expirationTimes=hd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hd(0),this.identifierPrefix=g,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function vb(s,a,u,g,w,k,j,ae,he){return s=new xA(s,a,u,ae,he),a===1?(a=1,k===!0&&(a|=8)):a=0,k=Ts(3,null,null,a),s.current=k,k.stateNode=s,k.memoizedState={element:g,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cv(k),s}function wA(s,a,u){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:g==null?null:""+g,children:s,containerInfo:a,implementation:u}}function $E(s){if(!s)return Ia;s=s._reactInternals;e:{if(Vo(s)!==s||s.tag!==1)throw Error(n(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Ai(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(s.tag===1){var u=s.type;if(Ai(u))return hS(s,u,a)}return a}function BE(s,a,u,g,w,k,j,ae,he){return s=vb(u,g,!0,s,w,k,j,ae,he),s.context=$E(null),u=s.current,g=xi(),w=ja(u),k=Yo(g,w),k.callback=a??null,qa(u,k,w),s.current.lanes=w,ql(s,w,g),Fi(s,g),s}function jh(s,a,u,g){var w=a.current,k=xi(),j=ja(w);return u=$E(u),a.context===null?a.context=u:a.pendingContext=u,a=Yo(k,j),a.payload={element:s},g=g===void 0?null:g,g!==null&&(a.callback=g),s=qa(w,a,j),s!==null&&(Gs(s,w,j,k),dh(s,w,j)),j}function Ph(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function WE(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function bb(s,a){WE(s,a),(s=s.alternate)&&WE(s,a)}function SA(){return null}var zE=typeof reportError=="function"?reportError:function(s){console.error(s)};function _b(s){this._internalRoot=s}Fh.prototype.render=_b.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));jh(s,a,null,null)},Fh.prototype.unmount=_b.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;$l(function(){jh(null,s,null,null)}),a[Qo]=null}};function Fh(s){this._internalRoot=s}Fh.prototype.unstable_scheduleHydration=function(s){if(s){var a=Cl();s={blockedOn:null,target:s,priority:a};for(var u=0;u<se.length&&a!==0&&a<se[u].priority;u++);se.splice(u,0,s),u===0&&Ae(s)}};function xb(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Lh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function UE(){}function EA(s,a,u,g,w){if(w){if(typeof g=="function"){var k=g;g=function(){var Le=Ph(j);k.call(Le)}}var j=BE(a,g,s,0,null,!1,!1,"",UE);return s._reactRootContainer=j,s[Qo]=j.current,Nd(s.nodeType===8?s.parentNode:s),$l(),j}for(;w=s.lastChild;)s.removeChild(w);if(typeof g=="function"){var ae=g;g=function(){var Le=Ph(he);ae.call(Le)}}var he=vb(s,0,!1,null,null,!1,!1,"",UE);return s._reactRootContainer=he,s[Qo]=he.current,Nd(s.nodeType===8?s.parentNode:s),$l(function(){jh(a,he,u,g)}),he}function Dh(s,a,u,g,w){var k=u._reactRootContainer;if(k){var j=k;if(typeof w=="function"){var ae=w;w=function(){var he=Ph(j);ae.call(he)}}jh(a,j,s,w)}else j=EA(u,a,s,w,g);return Ph(j)}gd=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var u=zs(a.pendingLanes);u!==0&&(md(a,u|1),Fi(a,dr()),!(Sn&6)&&(Jc=dr()+500,Oa()))}break;case 13:$l(function(){var g=Zo(s,1);if(g!==null){var w=xi();Gs(g,s,1,w)}}),bb(s,1)}},ie=function(s){if(s.tag===13){var a=Zo(s,0x8000000);if(a!==null){var u=xi();Gs(a,s,0x8000000,u)}bb(s,0x8000000)}},yd=function(s){if(s.tag===13){var a=ja(s),u=Zo(s,a);if(u!==null){var g=xi();Gs(u,s,a,g)}bb(s,a)}},Cl=function(){return On},vd=function(s,a){var u=On;try{return On=s,a()}finally{On=u}},ld=function(s,a,u){switch(a){case"input":if(dn(s,u),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var g=u[a];if(g!==s&&g.form===s.form){var w=th(g);if(!w)throw Error(n(90));kt(g),dn(g,w)}}}break;case"textarea":Fe(s,u);break;case"select":a=u.value,a!=null&&Ce(s,!!u.multiple,a,!1)}},Fp=fb,Lp=$l;var kA={usingClientEntryPoint:!1,Events:[Td,Lc,th,on,Pp,fb]},zd={findFiberByHostInstance:Rl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NA={bundleType:zd.bundleType,version:zd.version,rendererPackageName:zd.rendererPackageName,rendererConfig:zd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=$p(s),s===null?null:s.stateNode},findFiberByHostInstance:zd.findFiberByHostInstance||SA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mh.isDisabled&&Mh.supportsFiber)try{Tc=Mh.inject(NA),ws=Mh}catch{}}return Li.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kA,Li.createPortal=function(s,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xb(a))throw Error(n(200));return wA(s,a,null,u)},Li.createRoot=function(s,a){if(!xb(s))throw Error(n(299));var u=!1,g="",w=zE;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),a=vb(s,1,!1,null,null,u,!1,g,w),s[Qo]=a.current,Nd(s.nodeType===8?s.parentNode:s),new _b(a)},Li.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=$p(a),s=s===null?null:s.stateNode,s},Li.flushSync=function(s){return $l(s)},Li.hydrate=function(s,a,u){if(!Lh(a))throw Error(n(200));return Dh(null,s,a,!0,u)},Li.hydrateRoot=function(s,a,u){if(!xb(s))throw Error(n(405));var g=u!=null&&u.hydratedSources||null,w=!1,k="",j=zE;if(u!=null&&(u.unstable_strictMode===!0&&(w=!0),u.identifierPrefix!==void 0&&(k=u.identifierPrefix),u.onRecoverableError!==void 0&&(j=u.onRecoverableError)),a=BE(a,null,s,1,u??null,w,!1,k,j),s[Qo]=a.current,Nd(s),g)for(s=0;s<g.length;s++)u=g[s],w=u._getVersion,w=w(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,w]:a.mutableSourceEagerHydrationData.push(u,w);return new Fh(a)},Li.render=function(s,a,u){if(!Lh(a))throw Error(n(200));return Dh(null,s,a,!1,u)},Li.unmountComponentAtNode=function(s){if(!Lh(s))throw Error(n(40));return s._reactRootContainer?($l(function(){Dh(null,null,s,!1,function(){s._reactRootContainer=null,s[Qo]=null})}),!0):!1},Li.unstable_batchedUpdates=fb,Li.unstable_renderSubtreeIntoContainer=function(s,a,u,g){if(!Lh(u))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Dh(s,a,u,!1,g)},Li.version="18.3.1-next-f1338f8080-20240426",Li}var wk;function BO(){if(wk)return Ab.exports;wk=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ab.exports=oP(),Ab.exports}var xw=BO();const aP="Error preloading route! ";function lP(t,e){const n=Hi(),[r,i]=U.useState(!1),o=U.useRef(!1),l=Aj(e),{activeProps:c=()=>({className:"active"}),inactiveProps:d=()=>({}),activeOptions:m,to:y,preload:b,preloadDelay:E,hashScrollIntoView:N,replace:O,startTransition:T,resetScroll:A,viewTransition:L,children:P,target:B,disabled:Q,style:J,className:W,onClick:G,onFocus:re,onMouseEnter:H,onMouseLeave:te,onTouchStart:$,ignoreBlocker:oe,...Y}=t,{params:fe,search:Ee,hash:qe,state:je,mask:ve,reloadDocument:pe,...ke}=Y,K=U.useMemo(()=>{try{return new URL(`${y}`),"external"}catch{}return"internal"},[y]),xe=Ii({select:ye=>ye.location.search,structuralSharing:!0});t={from:dl({strict:!1,select:ye=>ye.pathname}),...t};const at=U.useMemo(()=>n.buildLocation(t),[n,t,xe]),ft=U.useMemo(()=>t.reloadDocument?!1:b??n.options.defaultPreload,[n.options.defaultPreload,b,t.reloadDocument]),dt=E??n.options.defaultPreloadDelay??0,pt=Ii({select:ye=>{if(m?.exact){if(!Pj(ye.location.pathname,at.pathname,n.basepath))return!1}else{const Ce=Ym(ye.location.pathname,n.basepath).split("/");if(!Ym(at.pathname,n.basepath).split("/").every((Fe,et)=>Fe===Ce[et]))return!1}return(m?.includeSearch??!0)&&!bu(ye.location.search,at.search,{partial:!m?.exact,ignoreUndefined:!m?.explicitUndefined})?!1:m?.includeHash?ye.location.hash===at.hash:!0}}),vt=U.useCallback(()=>{n.preloadRoute(t).catch(ye=>{console.warn(ye),console.warn(aP)})},[t,n]),At=U.useCallback(ye=>{ye?.isIntersecting&&vt()},[vt]);if(Rj(l,At,{rootMargin:"100px"},{disabled:!!Q||ft!=="viewport"}),Xd(()=>{o.current||!Q&&ft==="render"&&(vt(),o.current=!0)},[Q,vt,ft]),K==="external")return{...ke,ref:l,type:K,href:y,...P&&{children:P},...B&&{target:B},...Q&&{disabled:Q},...J&&{style:J},...W&&{className:W},...G&&{onClick:G},...re&&{onFocus:re},...H&&{onMouseEnter:H},...te&&{onMouseLeave:te},...$&&{onTouchStart:$}};const mt=ye=>{if(!Q&&!uP(ye)&&!ye.defaultPrevented&&(!B||B==="_self")&&ye.button===0){ye.preventDefault(),xw.flushSync(()=>{i(!0)});const Ce=n.subscribe("onResolved",()=>{Ce(),i(!1)});return n.navigate({...t,replace:O,resetScroll:A,hashScrollIntoView:N,startTransition:T,viewTransition:L,ignoreBlocker:oe})}},ht=ye=>{Q||ft&&vt()},kt=ht,Nt=ye=>{if(Q)return;const Ce=ye.target||{};if(ft){if(Ce.preloadTimeout)return;Ce.preloadTimeout=setTimeout(()=>{Ce.preloadTimeout=null,vt()},dt)}},Zt=ye=>{if(Q)return;const Ce=ye.target||{};Ce.preloadTimeout&&(clearTimeout(Ce.preloadTimeout),Ce.preloadTimeout=null)},Kt=ye=>Ce=>{var De;(De=Ce.persist)==null||De.call(Ce),ye.filter(Boolean).forEach(Je=>{Ce.defaultPrevented||Je(Ce)})},rn=pt?ec(c,{})??{}:{},dn=pt?{}:ec(d,{}),le=[W,rn.className,dn.className].filter(Boolean).join(" "),ue={...J,...rn.style,...dn.style};return{...ke,...rn,...dn,href:Q?void 0:at.maskedLocation?n.history.createHref(at.maskedLocation.href):n.history.createHref(at.href),ref:l,onClick:Kt([G,mt]),onFocus:Kt([re,ht]),onMouseEnter:Kt([H,Nt]),onMouseLeave:Kt([te,Zt]),onTouchStart:Kt([$,kt]),disabled:!!Q,target:B,...Object.keys(ue).length&&{style:ue},...le&&{className:le},...Q&&{role:"link","aria-disabled":!0},...pt&&{"data-status":"active","aria-current":"page"},...r&&{"data-transitioning":"transitioning"}}}function WO(t){return U.forwardRef(function(n,r){return h.jsx(cP,{...n,_asChild:t,ref:r})})}const cP=U.forwardRef((t,e)=>{const{_asChild:n,...r}=t,{type:i,ref:o,...l}=lP(r,e),c=typeof r.children=="function"?r.children({isActive:l["data-status"]==="active"}):r.children;return typeof n>"u"&&delete l.disabled,U.createElement(n||"a",{...l,ref:o},c)});function uP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function dP(){const t=Hi(),e=U.useRef({router:t,mounted:!1}),n=Ii({select:({isLoading:b})=>b}),[r,i]=U.useState(!1),o=Ii({select:b=>b.matches.some(E=>E.status==="pending"),structuralSharing:!0}),l=qb(n),c=n||r||o,d=qb(c),m=n||o,y=qb(m);return t.isServer||(t.startReactTransition=b=>{i(!0),U.startTransition(()=>{b(),i(!1)})}),U.useEffect(()=>{const b=t.history.subscribe(t.load),E=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return tc(t.latestLocation.href)!==tc(E.href)&&t.commitLocation({...E,replace:!0}),()=>{b()}},[t,t.history]),Xd(()=>{var b;if(typeof window<"u"&&((b=window.__TSR__)!=null&&b.dehydrated)||e.current.router===t&&e.current.mounted)return;e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(N){console.error(N)}})()},[t]),Xd(()=>{if(l&&!n){const b=t.state.location,E=t.state.resolvedLocation,N=E.pathname!==b.pathname,O=E.href!==b.href;t.emit({type:"onLoad",fromLocation:E,toLocation:b,pathChanged:N,hrefChanged:O})}},[l,t,n]),Xd(()=>{if(y&&!m){const b=t.state.location,E=t.state.resolvedLocation,N=E.pathname!==b.pathname,O=E.href!==b.href;t.emit({type:"onBeforeRouteMount",fromLocation:E,toLocation:b,pathChanged:N,hrefChanged:O})}},[m,y,t]),Xd(()=>{if(d&&!c){const b=t.state.location,E=t.state.resolvedLocation,N=E.pathname!==b.pathname,O=E.href!==b.href;if(t.emit({type:"onResolved",fromLocation:E,toLocation:b,pathChanged:N,hrefChanged:O}),t.__store.setState(T=>({...T,status:"idle",resolvedLocation:T.location})),typeof document<"u"&&document.querySelector){const T=t.state.location.state.__hashScrollIntoViewOptions??!0;if(T&&t.state.location.hash!==""){const A=document.getElementById(t.state.location.hash);A&&A.scrollIntoView(T)}}}},[c,d,t]),null}function fP(){const t=Hi(),e=t.options.defaultPendingComponent?h.jsx(t.options.defaultPendingComponent,{}):null,n=t.isServer||typeof document<"u"&&window.__TSR__?pm:U.Suspense,r=h.jsxs(n,{fallback:e,children:[h.jsx(dP,{}),h.jsx(pP,{})]});return t.options.InnerWrap?h.jsx(t.options.InnerWrap,{children:r}):r}function pP(){const t=Ii({select:n=>{var r;return(r=n.matches[0])==null?void 0:r.id}}),e=Ii({select:n=>n.loadedAt});return h.jsx(Kg.Provider,{value:t,children:h.jsx(bw,{getResetKey:()=>e,errorComponent:Qg,onCatch:n=>{n.message||n.toString()},children:t?h.jsx($O,{matchId:t}):null})})}function zO(){const t=Hi();return Ii({select:e=>[e.location.href,e.resolvedLocation.href,e.status],structuralSharing:!0}),U.useCallback(e=>{const{pending:n,caseSensitive:r,fuzzy:i,includeSearch:o,...l}=e;return t.matchRoute(l,{pending:n,caseSensitive:r,fuzzy:i,includeSearch:o})},[t])}function hP({router:t,children:e,...n}){t.update({...t.options,...n,context:{...t.options.context,...n.context}});const r=FO(),i=h.jsx(r.Provider,{value:t,children:e});return t.options.Wrap?h.jsx(t.options.Wrap,{children:i}):i}function mP({router:t,...e}){return h.jsx(hP,{router:t,...e,children:h.jsx(fP,{})})}const gP=typeof window<"u"?U.useLayoutEffect:U.useEffect,Fb="window",Sk="___";let Lb=new WeakSet;const yP=typeof window<"u"&&window.sessionStorage,Xs=yP?(()=>{const t="tsr-scroll-restoration-v2";return{state:JSON.parse(window.sessionStorage.getItem(t)||"null")||{cached:{},next:{}},set:n=>{Xs.state=ec(n,Xs.state),window.sessionStorage.setItem(t,JSON.stringify(Xs.state))}}})():void 0,vP=t=>t.state.key||t.href;function bP(t){const e=Hi();gP(()=>{const n=t?.getKey||vP,{history:r}=window;r.scrollRestoration="manual";const i=c=>{if(Lb.has(c.target))return;Lb.add(c.target);let d="";if(c.target===document||c.target===window)d=Fb;else{const m=c.target.getAttribute("data-scroll-restoration-id");m?d=`[data-scroll-restoration-id="${m}"]`:d=xP(c.target)}Xs.state.next[d]||Xs.set(m=>({...m,next:{...m.next,[d]:{scrollX:NaN,scrollY:NaN}}}))};typeof document<"u"&&document.addEventListener("scroll",i,!0);const o=e.subscribe("onBeforeLoad",c=>{if(c.hrefChanged){const d=n(c.fromLocation);for(const m in Xs.state.next){const y=Xs.state.next[m];if(m===Fb)y.scrollX=window.scrollX||0,y.scrollY=window.scrollY||0;else if(m){const b=document.querySelector(m);y.scrollX=b?.scrollLeft||0,y.scrollY=b?.scrollTop||0}Xs.set(b=>{const E={...b.next};return delete E[m],{...b,next:E,cached:{...b.cached,[[d,m].join(Sk)]:y}}})}}}),l=e.subscribe("onBeforeRouteMount",c=>{if(c.hrefChanged){if(!e.resetNextScroll)return;e.resetNextScroll=!0;const d=n(c.toLocation);let m=!1;for(const y in Xs.state.cached){const b=Xs.state.cached[y],[E,N]=y.split(Sk);if(E===d){if(N===Fb)m=!0,window.scrollTo(b.scrollX,b.scrollY);else if(N){const O=document.querySelector(N);O&&(O.scrollLeft=b.scrollX,O.scrollTop=b.scrollY)}}}m||window.scrollTo(0,0),Xs.set(y=>({...y,next:{}})),Lb=new WeakSet}});return()=>{document.removeEventListener("scroll",i),o(),l()}},[t?.getKey,e])}function _P(t){return bP(t),null}function xP(t){const e=[];let n;for(;n=t.parentNode;)e.unshift(`${t.tagName}:nth-child(${[].indexOf.call(n.children,t)+1})`),t=n;return`${e.join(" > ")}`.toLowerCase()}function Un(t){return dl({...t,select:e=>t.select?t.select(e.context):e.context})}let wP={data:""},SP=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||wP,EP=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,kP=/\/\*[^]*?\*\/|  +/g,Ek=/\n+/g,Ha=(t,e)=>{let n="",r="",i="";for(let o in t){let l=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+l+";":r+=o[1]=="f"?Ha(l,o):o+"{"+Ha(l,o[1]=="k"?"":e)+"}":typeof l=="object"?r+=Ha(l,e?e.replace(/([^,])+/g,c=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,c):c?c+" "+d:d)):o):l!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ha.p?Ha.p(o,l):o+":"+l+";")}return n+(e&&i?e+"{"+i+"}":i)+r},ta={},UO=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+UO(t[n]);return e}return t},NP=(t,e,n,r,i)=>{let o=UO(t),l=ta[o]||(ta[o]=(d=>{let m=0,y=11;for(;m<d.length;)y=101*y+d.charCodeAt(m++)>>>0;return"go"+y})(o));if(!ta[l]){let d=o!==t?t:(m=>{let y,b,E=[{}];for(;y=EP.exec(m.replace(kP,""));)y[4]?E.shift():y[3]?(b=y[3].replace(Ek," ").trim(),E.unshift(E[0][b]=E[0][b]||{})):E[0][y[1]]=y[2].replace(Ek," ").trim();return E[0]})(t);ta[l]=Ha(i?{["@keyframes "+l]:d}:d,n?"":"."+l)}let c=n&&ta.g?ta.g:null;return n&&(ta.g=ta[l]),((d,m,y,b)=>{b?m.data=m.data.replace(b,d):m.data.indexOf(d)===-1&&(m.data=y?d+m.data:m.data+d)})(ta[l],e,r,c),l},IP=(t,e,n)=>t.reduce((r,i,o)=>{let l=e[o];if(l&&l.call){let c=l(n),d=c&&c.props&&c.props.className||/^go/.test(c)&&c;l=d?"."+d:c&&typeof c=="object"?c.props?"":Ha(c,""):c===!1?"":c}return r+i+(l??"")},"");function Gg(t){let e=this||{},n=t.call?t(e.p):t;return NP(n.unshift?n.raw?IP(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,SP(e.target),e.g,e.o,e.k)}let VO,gx,yx;Gg.bind({g:1});let ma=Gg.bind({k:1});function OP(t,e,n,r){Ha.p=e,VO=t,gx=n,yx=r}function Sl(t,e){let n=this||{};return function(){let r=arguments;function i(o,l){let c=Object.assign({},o),d=c.className||i.className;n.p=Object.assign({theme:gx&&gx()},c),n.o=/ *go\d+/.test(d),c.className=Gg.apply(n,r)+(d?" "+d:"");let m=t;return t[0]&&(m=c.as||t,delete c.as),yx&&m[0]&&yx(c),VO(m,c)}return i}}var TP=t=>typeof t=="function",eg=(t,e)=>TP(t)?t(e):t,qP=(()=>{let t=0;return()=>(++t).toString()})(),HO=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),CP=20,hm=new Map,RP=1e3,kk=t=>{if(hm.has(t))return;let e=setTimeout(()=>{hm.delete(t),_c({type:4,toastId:t})},RP);hm.set(t,e)},AP=t=>{let e=hm.get(t);e&&clearTimeout(e)},vx=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,CP)};case 1:return e.toast.id&&AP(e.toast.id),{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:n}=e;return t.toasts.find(o=>o.id===n.id)?vx(t,{type:1,toast:n}):vx(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?kk(r):t.toasts.forEach(o=>{kk(o.id)}),{...t,toasts:t.toasts.map(o=>o.id===r||r===void 0?{...o,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},mm=[],gm={toasts:[],pausedAt:void 0},_c=t=>{gm=vx(gm,t),mm.forEach(e=>{e(gm)})},jP={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},PP=(t={})=>{let[e,n]=U.useState(gm);U.useEffect(()=>(mm.push(n),()=>{let i=mm.indexOf(n);i>-1&&mm.splice(i,1)}),[e]);let r=e.toasts.map(i=>{var o,l;return{...t,...t[i.type],...i,duration:i.duration||((o=t[i.type])==null?void 0:o.duration)||t?.duration||jP[i.type],style:{...t.style,...(l=t[i.type])==null?void 0:l.style,...i.style}}});return{...e,toasts:r}},FP=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||qP()}),ip=t=>(e,n)=>{let r=FP(e,t,n);return _c({type:2,toast:r}),r.id},pn=(t,e)=>ip("blank")(t,e);pn.error=ip("error");pn.success=ip("success");pn.loading=ip("loading");pn.custom=ip("custom");pn.dismiss=t=>{_c({type:3,toastId:t})};pn.remove=t=>_c({type:4,toastId:t});pn.promise=(t,e,n)=>{let r=pn.loading(e.loading,{...n,...n?.loading});return t.then(i=>(pn.success(eg(e.success,i),{id:r,...n,...n?.success}),i)).catch(i=>{pn.error(eg(e.error,i),{id:r,...n,...n?.error})}),t};var LP=(t,e)=>{_c({type:1,toast:{id:t,height:e}})},DP=()=>{_c({type:5,time:Date.now()})},MP=t=>{let{toasts:e,pausedAt:n}=PP(t);U.useEffect(()=>{if(n)return;let o=Date.now(),l=e.map(c=>{if(c.duration===1/0)return;let d=(c.duration||0)+c.pauseDuration-(o-c.createdAt);if(d<0){c.visible&&pn.dismiss(c.id);return}return setTimeout(()=>pn.dismiss(c.id),d)});return()=>{l.forEach(c=>c&&clearTimeout(c))}},[e,n]);let r=U.useCallback(()=>{n&&_c({type:6,time:Date.now()})},[n]),i=U.useCallback((o,l)=>{let{reverseOrder:c=!1,gutter:d=8,defaultPosition:m}=l||{},y=e.filter(N=>(N.position||m)===(o.position||m)&&N.height),b=y.findIndex(N=>N.id===o.id),E=y.filter((N,O)=>O<b&&N.visible).length;return y.filter(N=>N.visible).slice(...c?[E+1]:[0,E]).reduce((N,O)=>N+(O.height||0)+d,0)},[e]);return{toasts:e,handlers:{updateHeight:LP,startPause:DP,endPause:r,calculateOffset:i}}},$P=ma`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,BP=ma`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,WP=ma`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,zP=Sl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$P} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${BP} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${WP} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,UP=ma`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,VP=Sl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${UP} 1s linear infinite;
`,HP=ma`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,QP=ma`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,KP=Sl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${HP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${QP} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,GP=Sl("div")`
  position: absolute;
`,JP=Sl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,ZP=ma`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,YP=Sl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${ZP} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,XP=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?U.createElement(YP,null,e):e:n==="blank"?null:U.createElement(JP,null,U.createElement(VP,{...r}),n!=="loading"&&U.createElement(GP,null,n==="error"?U.createElement(zP,{...r}):U.createElement(KP,{...r})))},eF=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,tF=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,nF="0%{opacity:0;} 100%{opacity:1;}",rF="0%{opacity:1;} 100%{opacity:0;}",iF=Sl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,sF=Sl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,oF=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=HO()?[nF,rF]:[eF(n),tF(n)];return{animation:e?`${ma(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ma(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},aF=U.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?oF(t.position||e||"top-center",t.visible):{opacity:0},o=U.createElement(XP,{toast:t}),l=U.createElement(sF,{...t.ariaProps},eg(t.message,t));return U.createElement(iF,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:o,message:l}):U.createElement(U.Fragment,null,o,l))});OP(U.createElement);var lF=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let o=U.useCallback(l=>{if(l){let c=()=>{let d=l.getBoundingClientRect().height;r(t,d)};c(),new MutationObserver(c).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return U.createElement("div",{ref:o,className:e,style:n},i)},cF=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:HO()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},uF=Gg`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,zh=16,dF=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:o,containerClassName:l})=>{let{toasts:c,handlers:d}=MP(n);return U.createElement("div",{style:{position:"fixed",zIndex:9999,top:zh,left:zh,right:zh,bottom:zh,pointerEvents:"none",...o},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(m=>{let y=m.position||e,b=d.calculateOffset(m,{reverseOrder:t,gutter:r,defaultPosition:e}),E=cF(y,b);return U.createElement(lF,{id:m.id,key:m.id,onHeightUpdate:d.updateHeight,className:m.visible?uF:"",style:E},m.type==="custom"?eg(m.message,m):i?i(m):U.createElement(aF,{toast:m,position:y}))}))},fF=pn;class xc extends Error{}class pF extends xc{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class hF extends xc{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class mF extends xc{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class fu extends xc{}class QO extends xc{constructor(e){super(`Invalid unit ${e}`)}}class ci extends xc{}class Da extends xc{constructor(){super("Zone is an abstract class")}}const Et="numeric",lo="short",cs="long",tg={year:Et,month:Et,day:Et},KO={year:Et,month:lo,day:Et},gF={year:Et,month:lo,day:Et,weekday:lo},GO={year:Et,month:cs,day:Et},JO={year:Et,month:cs,day:Et,weekday:cs},ZO={hour:Et,minute:Et},YO={hour:Et,minute:Et,second:Et},XO={hour:Et,minute:Et,second:Et,timeZoneName:lo},eT={hour:Et,minute:Et,second:Et,timeZoneName:cs},tT={hour:Et,minute:Et,hourCycle:"h23"},nT={hour:Et,minute:Et,second:Et,hourCycle:"h23"},rT={hour:Et,minute:Et,second:Et,hourCycle:"h23",timeZoneName:lo},iT={hour:Et,minute:Et,second:Et,hourCycle:"h23",timeZoneName:cs},sT={year:Et,month:Et,day:Et,hour:Et,minute:Et},oT={year:Et,month:Et,day:Et,hour:Et,minute:Et,second:Et},aT={year:Et,month:lo,day:Et,hour:Et,minute:Et},lT={year:Et,month:lo,day:Et,hour:Et,minute:Et,second:Et},yF={year:Et,month:lo,day:Et,weekday:lo,hour:Et,minute:Et},cT={year:Et,month:cs,day:Et,hour:Et,minute:Et,timeZoneName:lo},uT={year:Et,month:cs,day:Et,hour:Et,minute:Et,second:Et,timeZoneName:lo},dT={year:Et,month:cs,day:Et,weekday:cs,hour:Et,minute:Et,timeZoneName:cs},fT={year:Et,month:cs,day:Et,weekday:cs,hour:Et,minute:Et,second:Et,timeZoneName:cs};class sp{get type(){throw new Da}get name(){throw new Da}get ianaName(){return this.name}get isUniversal(){throw new Da}offsetName(e,n){throw new Da}formatOffset(e,n){throw new Da}offset(e){throw new Da}equals(e){throw new Da}get isValid(){throw new Da}}let Db=null;class Jg extends sp{static get instance(){return Db===null&&(Db=new Jg),Db}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return xT(e,n,r)}formatOffset(e,n){return mf(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let ym={};function vF(t){return ym[t]||(ym[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),ym[t]}const bF={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function _F(t,e){const n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,i,o,l,c,d,m,y]=r;return[l,i,o,c,d,m,y]}function xF(t,e){const n=t.formatToParts(e),r=[];for(let i=0;i<n.length;i++){const{type:o,value:l}=n[i],c=bF[o];o==="era"?r[c]=l:nn(c)||(r[c]=parseInt(l,10))}return r}let Uh={};class ga extends sp{static create(e){return Uh[e]||(Uh[e]=new ga(e)),Uh[e]}static resetCache(){Uh={},ym={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=ga.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return xT(e,n,r,this.name)}formatOffset(e,n){return mf(this.offset(e),n)}offset(e){const n=new Date(e);if(isNaN(n))return NaN;const r=vF(this.name);let[i,o,l,c,d,m,y]=r.formatToParts?xF(r,n):_F(r,n);c==="BC"&&(i=-Math.abs(i)+1);const E=Yg({year:i,month:o,day:l,hour:d===24?0:d,minute:m,second:y,millisecond:0});let N=+n;const O=N%1e3;return N-=O>=0?O:1e3+O,(E-N)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let Nk={};function wF(t,e={}){const n=JSON.stringify([t,e]);let r=Nk[n];return r||(r=new Intl.ListFormat(t,e),Nk[n]=r),r}let bx={};function _x(t,e={}){const n=JSON.stringify([t,e]);let r=bx[n];return r||(r=new Intl.DateTimeFormat(t,e),bx[n]=r),r}let xx={};function SF(t,e={}){const n=JSON.stringify([t,e]);let r=xx[n];return r||(r=new Intl.NumberFormat(t,e),xx[n]=r),r}let wx={};function EF(t,e={}){const{base:n,...r}=e,i=JSON.stringify([t,r]);let o=wx[i];return o||(o=new Intl.RelativeTimeFormat(t,e),wx[i]=o),o}let ef=null;function kF(){return ef||(ef=new Intl.DateTimeFormat().resolvedOptions().locale,ef)}let Ik={};function NF(t){let e=Ik[t];if(!e){const n=new Intl.Locale(t);e="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,Ik[t]=e}return e}function IF(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const n=t.indexOf("-u-");if(n===-1)return[t];{let r,i;try{r=_x(t).resolvedOptions(),i=t}catch{const d=t.substring(0,n);r=_x(d).resolvedOptions(),i=d}const{numberingSystem:o,calendar:l}=r;return[i,o,l]}}function OF(t,e,n){return(n||e)&&(t.includes("-u-")||(t+="-u"),n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function TF(t){const e=[];for(let n=1;n<=12;n++){const r=tn.utc(2009,n,1);e.push(t(r))}return e}function qF(t){const e=[];for(let n=1;n<=7;n++){const r=tn.utc(2016,11,13+n);e.push(t(r))}return e}function Vh(t,e,n,r){const i=t.listingMode();return i==="error"?null:i==="en"?n(e):r(e)}function CF(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class RF{constructor(e,n,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:i,floor:o,...l}=r;if(!n||Object.keys(l).length>0){const c={useGrouping:!1,...r};r.padTo>0&&(c.minimumIntegerDigits=r.padTo),this.inf=SF(e,c)}}format(e){if(this.inf){const n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{const n=this.floor?Math.floor(e):Nw(e,3);return jr(n,this.padTo)}}}class AF{constructor(e,n,r){this.opts=r,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const l=-1*(e.offset/60),c=l>=0?`Etc/GMT+${l}`:`Etc/GMT${l}`;e.offset!==0&&ga.create(c).valid?(i=c,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const o={...this.opts};o.timeZone=o.timeZone||i,this.dtf=_x(n,o)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(n=>{if(n.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...n,value:r}}else return n}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class jF{constructor(e,n,r){this.opts={style:"long",...r},!n&&bT()&&(this.rtf=EF(e,r))}format(e,n){return this.rtf?this.rtf.format(e,n):rL(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}}const PF={firstDay:1,minimalDays:4,weekend:[6,7]};class Rn{static fromOpts(e){return Rn.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,n,r,i,o=!1){const l=e||kr.defaultLocale,c=l||(o?"en-US":kF()),d=n||kr.defaultNumberingSystem,m=r||kr.defaultOutputCalendar,y=Sx(i)||kr.defaultWeekSettings;return new Rn(c,d,m,y,l)}static resetCache(){ef=null,bx={},xx={},wx={}}static fromObject({locale:e,numberingSystem:n,outputCalendar:r,weekSettings:i}={}){return Rn.create(e,n,r,i)}constructor(e,n,r,i,o){const[l,c,d]=IF(e);this.locale=l,this.numberingSystem=n||c||null,this.outputCalendar=r||d||null,this.weekSettings=i,this.intl=OF(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=o,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=CF(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Rn.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,Sx(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,n=!1){return Vh(this,e,ET,()=>{const r=n?{month:e,day:"numeric"}:{month:e},i=n?"format":"standalone";return this.monthsCache[i][e]||(this.monthsCache[i][e]=TF(o=>this.extract(o,r,"month"))),this.monthsCache[i][e]})}weekdays(e,n=!1){return Vh(this,e,IT,()=>{const r=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=n?"format":"standalone";return this.weekdaysCache[i][e]||(this.weekdaysCache[i][e]=qF(o=>this.extract(o,r,"weekday"))),this.weekdaysCache[i][e]})}meridiems(){return Vh(this,void 0,()=>OT,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[tn.utc(2016,11,13,9),tn.utc(2016,11,13,19)].map(n=>this.extract(n,e,"dayperiod"))}return this.meridiemCache})}eras(e){return Vh(this,e,TT,()=>{const n={era:e};return this.eraCache[e]||(this.eraCache[e]=[tn.utc(-40,1,1),tn.utc(2017,1,1)].map(r=>this.extract(r,n,"era"))),this.eraCache[e]})}extract(e,n,r){const i=this.dtFormatter(e,n),o=i.formatToParts(),l=o.find(c=>c.type.toLowerCase()===r);return l?l.value:null}numberFormatter(e={}){return new RF(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new AF(e,this.intl,n)}relFormatter(e={}){return new jF(this.intl,this.isEnglish(),e)}listFormatter(e={}){return wF(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:_T()?NF(this.locale):PF}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let Mb=null;class Ni extends sp{static get utcInstance(){return Mb===null&&(Mb=new Ni(0)),Mb}static instance(e){return e===0?Ni.utcInstance:new Ni(e)}static parseSpecifier(e){if(e){const n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new Ni(Xg(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${mf(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${mf(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return mf(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class FF extends sp{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Qa(t,e){if(nn(t)||t===null)return e;if(t instanceof sp)return t;if(WF(t)){const n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?Jg.instance:n==="utc"||n==="gmt"?Ni.utcInstance:Ni.parseSpecifier(n)||ga.create(t)}else return il(t)?Ni.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new FF(t)}const ww={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},Ok={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},LF=ww.hanidec.replace(/[\[|\]]/g,"").split("");function DF(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);if(t[n].search(ww.hanidec)!==-1)e+=LF.indexOf(t[n]);else for(const i in Ok){const[o,l]=Ok[i];r>=o&&r<=l&&(e+=r-o)}}return parseInt(e,10)}else return e}let lu={};function MF(){lu={}}function Js({numberingSystem:t},e=""){const n=t||"latn";return lu[n]||(lu[n]={}),lu[n][e]||(lu[n][e]=new RegExp(`${ww[n]}${e}`)),lu[n][e]}let Tk=()=>Date.now(),qk="system",Ck=null,Rk=null,Ak=null,jk=60,Pk,Fk=null;class kr{static get now(){return Tk}static set now(e){Tk=e}static set defaultZone(e){qk=e}static get defaultZone(){return Qa(qk,Jg.instance)}static get defaultLocale(){return Ck}static set defaultLocale(e){Ck=e}static get defaultNumberingSystem(){return Rk}static set defaultNumberingSystem(e){Rk=e}static get defaultOutputCalendar(){return Ak}static set defaultOutputCalendar(e){Ak=e}static get defaultWeekSettings(){return Fk}static set defaultWeekSettings(e){Fk=Sx(e)}static get twoDigitCutoffYear(){return jk}static set twoDigitCutoffYear(e){jk=e%100}static get throwOnInvalid(){return Pk}static set throwOnInvalid(e){Pk=e}static resetCaches(){Rn.resetCache(),ga.resetCache(),tn.resetCache(),MF()}}class so{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const pT=[0,31,59,90,120,151,181,212,243,273,304,334],hT=[0,31,60,91,121,152,182,213,244,274,305,335];function Fs(t,e){return new so("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function Sw(t,e,n){const r=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const i=r.getUTCDay();return i===0?7:i}function mT(t,e,n){return n+(op(t)?hT:pT)[e-1]}function gT(t,e){const n=op(t)?hT:pT,r=n.findIndex(o=>o<e),i=e-n[r];return{month:r+1,day:i}}function Ew(t,e){return(t-e+7)%7+1}function ng(t,e=4,n=1){const{year:r,month:i,day:o}=t,l=mT(r,i,o),c=Ew(Sw(r,i,o),n);let d=Math.floor((l-c+14-e)/7),m;return d<1?(m=r-1,d=Of(m,e,n)):d>Of(r,e,n)?(m=r+1,d=1):m=r,{weekYear:m,weekNumber:d,weekday:c,...ey(t)}}function Lk(t,e=4,n=1){const{weekYear:r,weekNumber:i,weekday:o}=t,l=Ew(Sw(r,1,e),n),c=_u(r);let d=i*7+o-l-7+e,m;d<1?(m=r-1,d+=_u(m)):d>c?(m=r+1,d-=_u(r)):m=r;const{month:y,day:b}=gT(m,d);return{year:m,month:y,day:b,...ey(t)}}function $b(t){const{year:e,month:n,day:r}=t,i=mT(e,n,r);return{year:e,ordinal:i,...ey(t)}}function Dk(t){const{year:e,ordinal:n}=t,{month:r,day:i}=gT(e,n);return{year:e,month:r,day:i,...ey(t)}}function Mk(t,e){if(!nn(t.localWeekday)||!nn(t.localWeekNumber)||!nn(t.localWeekYear)){if(!nn(t.weekday)||!nn(t.weekNumber)||!nn(t.weekYear))throw new fu("Cannot mix locale-based week fields with ISO-based week fields");return nn(t.localWeekday)||(t.weekday=t.localWeekday),nn(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),nn(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function $F(t,e=4,n=1){const r=Zg(t.weekYear),i=Ls(t.weekNumber,1,Of(t.weekYear,e,n)),o=Ls(t.weekday,1,7);return r?i?o?!1:Fs("weekday",t.weekday):Fs("week",t.weekNumber):Fs("weekYear",t.weekYear)}function BF(t){const e=Zg(t.year),n=Ls(t.ordinal,1,_u(t.year));return e?n?!1:Fs("ordinal",t.ordinal):Fs("year",t.year)}function yT(t){const e=Zg(t.year),n=Ls(t.month,1,12),r=Ls(t.day,1,rg(t.year,t.month));return e?n?r?!1:Fs("day",t.day):Fs("month",t.month):Fs("year",t.year)}function vT(t){const{hour:e,minute:n,second:r,millisecond:i}=t,o=Ls(e,0,23)||e===24&&n===0&&r===0&&i===0,l=Ls(n,0,59),c=Ls(r,0,59),d=Ls(i,0,999);return o?l?c?d?!1:Fs("millisecond",i):Fs("second",r):Fs("minute",n):Fs("hour",e)}function nn(t){return typeof t>"u"}function il(t){return typeof t=="number"}function Zg(t){return typeof t=="number"&&t%1===0}function WF(t){return typeof t=="string"}function zF(t){return Object.prototype.toString.call(t)==="[object Date]"}function bT(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function _T(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function UF(t){return Array.isArray(t)?t:[t]}function $k(t,e,n){if(t.length!==0)return t.reduce((r,i)=>{const o=[e(i),i];return r&&n(r[0],o[0])===r[0]?r:o},null)[1]}function VF(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function Pu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Sx(t){if(t==null)return null;if(typeof t!="object")throw new ci("Week settings must be an object");if(!Ls(t.firstDay,1,7)||!Ls(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!Ls(e,1,7)))throw new ci("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function Ls(t,e,n){return Zg(t)&&t>=e&&t<=n}function HF(t,e){return t-e*Math.floor(t/e)}function jr(t,e=2){const n=t<0;let r;return n?r="-"+(""+-t).padStart(e,"0"):r=(""+t).padStart(e,"0"),r}function Ua(t){if(!(nn(t)||t===null||t===""))return parseInt(t,10)}function Ul(t){if(!(nn(t)||t===null||t===""))return parseFloat(t)}function kw(t){if(!(nn(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function Nw(t,e,n=!1){const r=10**e;return(n?Math.trunc:Math.round)(t*r)/r}function op(t){return t%4===0&&(t%100!==0||t%400===0)}function _u(t){return op(t)?366:365}function rg(t,e){const n=HF(e-1,12)+1,r=t+(e-n)/12;return n===2?op(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function Yg(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function Bk(t,e,n){return-Ew(Sw(t,1,e),n)+e-1}function Of(t,e=4,n=1){const r=Bk(t,e,n),i=Bk(t+1,e,n);return(_u(t)-r+i)/7}function Ex(t){return t>99?t:t>kr.twoDigitCutoffYear?1900+t:2e3+t}function xT(t,e,n,r=null){const i=new Date(t),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(o.timeZone=r);const l={timeZoneName:e,...o},c=new Intl.DateTimeFormat(n,l).formatToParts(i).find(d=>d.type.toLowerCase()==="timezonename");return c?c.value:null}function Xg(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);const r=parseInt(e,10)||0,i=n<0||Object.is(n,-0)?-r:r;return n*60+i}function wT(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new ci(`Invalid unit value ${t}`);return e}function ig(t,e){const n={};for(const r in t)if(Pu(t,r)){const i=t[r];if(i==null)continue;n[e(r)]=wT(i)}return n}function mf(t,e){const n=Math.trunc(Math.abs(t/60)),r=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${jr(n,2)}:${jr(r,2)}`;case"narrow":return`${i}${n}${r>0?`:${r}`:""}`;case"techie":return`${i}${jr(n,2)}${jr(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function ey(t){return VF(t,["hour","minute","second","millisecond"])}const QF=["January","February","March","April","May","June","July","August","September","October","November","December"],ST=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],KF=["J","F","M","A","M","J","J","A","S","O","N","D"];function ET(t){switch(t){case"narrow":return[...KF];case"short":return[...ST];case"long":return[...QF];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const kT=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],NT=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],GF=["M","T","W","T","F","S","S"];function IT(t){switch(t){case"narrow":return[...GF];case"short":return[...NT];case"long":return[...kT];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const OT=["AM","PM"],JF=["Before Christ","Anno Domini"],ZF=["BC","AD"],YF=["B","A"];function TT(t){switch(t){case"narrow":return[...YF];case"short":return[...ZF];case"long":return[...JF];default:return null}}function XF(t){return OT[t.hour<12?0:1]}function eL(t,e){return IT(e)[t.weekday-1]}function tL(t,e){return ET(e)[t.month-1]}function nL(t,e){return TT(e)[t.year<0?0:1]}function rL(t,e,n="always",r=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&o){const b=t==="days";switch(e){case 1:return b?"tomorrow":`next ${i[t][0]}`;case-1:return b?"yesterday":`last ${i[t][0]}`;case 0:return b?"today":`this ${i[t][0]}`}}const l=Object.is(e,-0)||e<0,c=Math.abs(e),d=c===1,m=i[t],y=r?d?m[1]:m[2]||m[1]:d?i[t][0]:t;return l?`${c} ${y} ago`:`in ${c} ${y}`}function Wk(t,e){let n="";for(const r of t)r.literal?n+=r.val:n+=e(r.val);return n}const iL={D:tg,DD:KO,DDD:GO,DDDD:JO,t:ZO,tt:YO,ttt:XO,tttt:eT,T:tT,TT:nT,TTT:rT,TTTT:iT,f:sT,ff:aT,fff:cT,ffff:dT,F:oT,FF:lT,FFF:uT,FFFF:fT};class di{static create(e,n={}){return new di(e,n)}static parseFormat(e){let n=null,r="",i=!1;const o=[];for(let l=0;l<e.length;l++){const c=e.charAt(l);c==="'"?(r.length>0&&o.push({literal:i||/^\s+$/.test(r),val:r}),n=null,r="",i=!i):i||c===n?r+=c:(r.length>0&&o.push({literal:/^\s+$/.test(r),val:r}),r=c,n=c)}return r.length>0&&o.push({literal:i||/^\s+$/.test(r),val:r}),o}static macroTokenToFormatOpts(e){return iL[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...n}).format()}dtFormatter(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n})}formatDateTime(e,n){return this.dtFormatter(e,n).format()}formatDateTimeParts(e,n){return this.dtFormatter(e,n).formatToParts()}formatInterval(e,n){return this.dtFormatter(e.start,n).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,n){return this.dtFormatter(e,n).resolvedOptions()}num(e,n=0){if(this.opts.forceSimple)return jr(e,n);const r={...this.opts};return n>0&&(r.padTo=n),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,n){const r=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",o=(N,O)=>this.loc.extract(e,N,O),l=N=>e.isOffsetFixed&&e.offset===0&&N.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,N.format):"",c=()=>r?XF(e):o({hour:"numeric",hourCycle:"h12"},"dayperiod"),d=(N,O)=>r?tL(e,N):o(O?{month:N}:{month:N,day:"numeric"},"month"),m=(N,O)=>r?eL(e,N):o(O?{weekday:N}:{weekday:N,month:"long",day:"numeric"},"weekday"),y=N=>{const O=di.macroTokenToFormatOpts(N);return O?this.formatWithSystemDefault(e,O):N},b=N=>r?nL(e,N):o({era:N},"era"),E=N=>{switch(N){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return l({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return l({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return l({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return c();case"d":return i?o({day:"numeric"},"day"):this.num(e.day);case"dd":return i?o({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return m("short",!0);case"cccc":return m("long",!0);case"ccccc":return m("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return m("short",!1);case"EEEE":return m("long",!1);case"EEEEE":return m("narrow",!1);case"L":return i?o({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?o({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return d("short",!0);case"LLLL":return d("long",!0);case"LLLLL":return d("narrow",!0);case"M":return i?o({month:"numeric"},"month"):this.num(e.month);case"MM":return i?o({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return d("short",!1);case"MMMM":return d("long",!1);case"MMMMM":return d("narrow",!1);case"y":return i?o({year:"numeric"},"year"):this.num(e.year);case"yy":return i?o({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?o({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?o({year:"numeric"},"year"):this.num(e.year,6);case"G":return b("short");case"GG":return b("long");case"GGGGG":return b("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return y(N)}};return Wk(di.parseFormat(n),E)}formatDurationFromString(e,n){const r=d=>{switch(d[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=d=>m=>{const y=r(m);return y?this.num(d.get(y),m.length):m},o=di.parseFormat(n),l=o.reduce((d,{literal:m,val:y})=>m?d:d.concat(y),[]),c=e.shiftTo(...l.map(r).filter(d=>d));return Wk(o,i(c))}}const qT=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Qu(...t){const e=t.reduce((n,r)=>n+r.source,"");return RegExp(`^${e}$`)}function Ku(...t){return e=>t.reduce(([n,r,i],o)=>{const[l,c,d]=o(e,i);return[{...n,...l},c||r,d]},[{},null,1]).slice(0,2)}function Gu(t,...e){if(t==null)return[null,null];for(const[n,r]of e){const i=n.exec(t);if(i)return r(i)}return[null,null]}function CT(...t){return(e,n)=>{const r={};let i;for(i=0;i<t.length;i++)r[t[i]]=Ua(e[n+i]);return[r,null,n+i]}}const RT=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,sL=`(?:${RT.source}?(?:\\[(${qT.source})\\])?)?`,Iw=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,AT=RegExp(`${Iw.source}${sL}`),Ow=RegExp(`(?:T${AT.source})?`),oL=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,aL=/(\d{4})-?W(\d\d)(?:-?(\d))?/,lL=/(\d{4})-?(\d{3})/,cL=CT("weekYear","weekNumber","weekDay"),uL=CT("year","ordinal"),dL=/(\d{4})-(\d\d)-(\d\d)/,jT=RegExp(`${Iw.source} ?(?:${RT.source}|(${qT.source}))?`),fL=RegExp(`(?: ${jT.source})?`);function xu(t,e,n){const r=t[e];return nn(r)?n:Ua(r)}function pL(t,e){return[{year:xu(t,e),month:xu(t,e+1,1),day:xu(t,e+2,1)},null,e+3]}function Ju(t,e){return[{hours:xu(t,e,0),minutes:xu(t,e+1,0),seconds:xu(t,e+2,0),milliseconds:kw(t[e+3])},null,e+4]}function ap(t,e){const n=!t[e]&&!t[e+1],r=Xg(t[e+1],t[e+2]),i=n?null:Ni.instance(r);return[{},i,e+3]}function lp(t,e){const n=t[e]?ga.create(t[e]):null;return[{},n,e+1]}const hL=RegExp(`^T?${Iw.source}$`),mL=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function gL(t){const[e,n,r,i,o,l,c,d,m]=t,y=e[0]==="-",b=d&&d[0]==="-",E=(N,O=!1)=>N!==void 0&&(O||N&&y)?-N:N;return[{years:E(Ul(n)),months:E(Ul(r)),weeks:E(Ul(i)),days:E(Ul(o)),hours:E(Ul(l)),minutes:E(Ul(c)),seconds:E(Ul(d),d==="-0"),milliseconds:E(kw(m),b)}]}const yL={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Tw(t,e,n,r,i,o,l){const c={year:e.length===2?Ex(Ua(e)):Ua(e),month:ST.indexOf(n)+1,day:Ua(r),hour:Ua(i),minute:Ua(o)};return l&&(c.second=Ua(l)),t&&(c.weekday=t.length>3?kT.indexOf(t)+1:NT.indexOf(t)+1),c}const vL=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function bL(t){const[,e,n,r,i,o,l,c,d,m,y,b]=t,E=Tw(e,i,r,n,o,l,c);let N;return d?N=yL[d]:m?N=0:N=Xg(y,b),[E,new Ni(N)]}function _L(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const xL=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,wL=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,SL=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function zk(t){const[,e,n,r,i,o,l,c]=t;return[Tw(e,i,r,n,o,l,c),Ni.utcInstance]}function EL(t){const[,e,n,r,i,o,l,c]=t;return[Tw(e,c,n,r,i,o,l),Ni.utcInstance]}const kL=Qu(oL,Ow),NL=Qu(aL,Ow),IL=Qu(lL,Ow),OL=Qu(AT),PT=Ku(pL,Ju,ap,lp),TL=Ku(cL,Ju,ap,lp),qL=Ku(uL,Ju,ap,lp),CL=Ku(Ju,ap,lp);function RL(t){return Gu(t,[kL,PT],[NL,TL],[IL,qL],[OL,CL])}function AL(t){return Gu(_L(t),[vL,bL])}function jL(t){return Gu(t,[xL,zk],[wL,zk],[SL,EL])}function PL(t){return Gu(t,[mL,gL])}const FL=Ku(Ju);function LL(t){return Gu(t,[hL,FL])}const DL=Qu(dL,fL),ML=Qu(jT),$L=Ku(Ju,ap,lp);function BL(t){return Gu(t,[DL,PT],[ML,$L])}const Uk="Invalid Duration",FT={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},WL={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...FT},qs=146097/400,Yc=146097/4800,zL={years:{quarters:4,months:12,weeks:qs/7,days:qs,hours:qs*24,minutes:qs*24*60,seconds:qs*24*60*60,milliseconds:qs*24*60*60*1e3},quarters:{months:3,weeks:qs/28,days:qs/4,hours:qs*24/4,minutes:qs*24*60/4,seconds:qs*24*60*60/4,milliseconds:qs*24*60*60*1e3/4},months:{weeks:Yc/7,days:Yc,hours:Yc*24,minutes:Yc*24*60,seconds:Yc*24*60*60,milliseconds:Yc*24*60*60*1e3},...FT},nc=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],UL=nc.slice(0).reverse();function Ma(t,e,n=!1){const r={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new En(r)}function LT(t,e){let n=e.milliseconds??0;for(const r of UL.slice(1))e[r]&&(n+=e[r]*t[r].milliseconds);return n}function Vk(t,e){const n=LT(t,e)<0?-1:1;nc.reduceRight((r,i)=>{if(nn(e[i]))return r;if(r){const o=e[r]*n,l=t[i][r],c=Math.floor(o/l);e[i]+=c*n,e[r]-=c*l*n}return i},null),nc.reduce((r,i)=>{if(nn(e[i]))return r;if(r){const o=e[r]%1;e[r]-=o,e[i]+=o*t[r][i]}return i},null)}function VL(t){const e={};for(const[n,r]of Object.entries(t))r!==0&&(e[n]=r);return e}class En{constructor(e){const n=e.conversionAccuracy==="longterm"||!1;let r=n?zL:WL;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||Rn.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,n){return En.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new ci(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new En({values:ig(e,En.normalizeUnit),loc:Rn.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if(il(e))return En.fromMillis(e);if(En.isDuration(e))return e;if(typeof e=="object")return En.fromObject(e);throw new ci(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){const[r]=PL(e);return r?En.fromObject(r,n):En.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,n){const[r]=LL(e);return r?En.fromObject(r,n):En.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new ci("need to specify a reason the Duration is invalid");const r=e instanceof so?e:new so(e,n);if(kr.throwOnInvalid)throw new mF(r);return new En({invalid:r})}static normalizeUnit(e){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new QO(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){const r={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?di.create(this.loc,r).formatDurationFromString(this,e):Uk}toHuman(e={}){if(!this.isValid)return Uk;const n=nc.map(r=>{const i=this.values[r];return nn(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(i)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Nw(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const n=this.toMillis();return n<0||n>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},tn.fromMillis(n,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?LT(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const n=En.fromDurationLike(e),r={};for(const i of nc)(Pu(n.values,i)||Pu(this.values,i))&&(r[i]=n.get(i)+this.get(i));return Ma(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const n=En.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=wT(e(this.values[r],r));return Ma(this,{values:n},!0)}get(e){return this[En.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const n={...this.values,...ig(e,En.normalizeUnit)};return Ma(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:r,matrix:i}={}){const l={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:i,conversionAccuracy:r};return Ma(this,l)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return Vk(this.matrix,e),Ma(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=VL(this.normalize().shiftToAll().toObject());return Ma(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(l=>En.normalizeUnit(l));const n={},r={},i=this.toObject();let o;for(const l of nc)if(e.indexOf(l)>=0){o=l;let c=0;for(const m in r)c+=this.matrix[m][l]*r[m],r[m]=0;il(i[l])&&(c+=i[l]);const d=Math.trunc(c);n[l]=d,r[l]=(c*1e3-d*1e3)/1e3}else il(i[l])&&(r[l]=i[l]);for(const l in r)r[l]!==0&&(n[o]+=l===o?r[l]:r[l]/this.matrix[o][l]);return Vk(this.matrix,n),Ma(this,{values:n},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return Ma(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(r,i){return r===void 0||r===0?i===void 0||i===0:r===i}for(const r of nc)if(!n(this.values[r],e.values[r]))return!1;return!0}}const Xc="Invalid Interval";function HL(t,e){return!t||!t.isValid?Er.invalid("missing or invalid start"):!e||!e.isValid?Er.invalid("missing or invalid end"):e<t?Er.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class Er{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new ci("need to specify a reason the Interval is invalid");const r=e instanceof so?e:new so(e,n);if(kr.throwOnInvalid)throw new hF(r);return new Er({invalid:r})}static fromDateTimes(e,n){const r=Vd(e),i=Vd(n),o=HL(r,i);return o??new Er({start:r,end:i})}static after(e,n){const r=En.fromDurationLike(n),i=Vd(e);return Er.fromDateTimes(i,i.plus(r))}static before(e,n){const r=En.fromDurationLike(n),i=Vd(e);return Er.fromDateTimes(i.minus(r),i)}static fromISO(e,n){const[r,i]=(e||"").split("/",2);if(r&&i){let o,l;try{o=tn.fromISO(r,n),l=o.isValid}catch{l=!1}let c,d;try{c=tn.fromISO(i,n),d=c.isValid}catch{d=!1}if(l&&d)return Er.fromDateTimes(o,c);if(l){const m=En.fromISO(i,n);if(m.isValid)return Er.after(o,m)}else if(d){const m=En.fromISO(r,n);if(m.isValid)return Er.before(c,m)}}return Er.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",n){if(!this.isValid)return NaN;const r=this.start.startOf(e,n);let i;return n?.useLocaleWeeks?i=this.end.reconfigure({locale:r.locale}):i=this.end,i=i.startOf(e,n),Math.floor(i.diff(r,e).get(e))+(i.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?Er.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];const n=e.map(Vd).filter(l=>this.contains(l)).sort((l,c)=>l.toMillis()-c.toMillis()),r=[];let{s:i}=this,o=0;for(;i<this.e;){const l=n[o]||this.e,c=+l>+this.e?this.e:l;r.push(Er.fromDateTimes(i,c)),i=c,o+=1}return r}splitBy(e){const n=En.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:r}=this,i=1,o;const l=[];for(;r<this.e;){const c=this.start.plus(n.mapUnits(d=>d*i));o=+c>+this.e?this.e:c,l.push(Er.fromDateTimes(r,o)),r=o,i+=1}return l}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const n=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return n>=r?null:Er.fromDateTimes(n,r)}union(e){if(!this.isValid)return this;const n=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return Er.fromDateTimes(n,r)}static merge(e){const[n,r]=e.sort((i,o)=>i.s-o.s).reduce(([i,o],l)=>o?o.overlaps(l)||o.abutsStart(l)?[i,o.union(l)]:[i.concat([o]),l]:[i,l],[[],null]);return r&&n.push(r),n}static xor(e){let n=null,r=0;const i=[],o=e.map(d=>[{time:d.s,type:"s"},{time:d.e,type:"e"}]),l=Array.prototype.concat(...o),c=l.sort((d,m)=>d.time-m.time);for(const d of c)r+=d.type==="s"?1:-1,r===1?n=d.time:(n&&+n!=+d.time&&i.push(Er.fromDateTimes(n,d.time)),n=null);return Er.merge(i)}difference(...e){return Er.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:Xc}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=tg,n={}){return this.isValid?di.create(this.s.loc.clone(n),e).formatInterval(this):Xc}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Xc}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Xc}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Xc}toFormat(e,{separator:n="  "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:Xc}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):En.invalid(this.invalidReason)}mapEndpoints(e){return Er.fromDateTimes(e(this.s),e(this.e))}}class Hh{static hasDST(e=kr.defaultZone){const n=tn.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return ga.isValidZone(e)}static normalizeZone(e){return Qa(e,kr.defaultZone)}static getStartOfWeek({locale:e=null,locObj:n=null}={}){return(n||Rn.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:n=null}={}){return(n||Rn.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:n=null}={}){return(n||Rn.create(e)).getWeekendDays().slice()}static months(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:o="gregory"}={}){return(i||Rn.create(n,r,o)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:o="gregory"}={}){return(i||Rn.create(n,r,o)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Rn.create(n,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Rn.create(n,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Rn.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return Rn.create(n,null,"gregory").eras(e)}static features(){return{relative:bT(),localeWeek:_T()}}}function Hk(t,e){const n=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(e)-n(t);return Math.floor(En.fromMillis(r).as("days"))}function QL(t,e,n){const r=[["years",(d,m)=>m.year-d.year],["quarters",(d,m)=>m.quarter-d.quarter+(m.year-d.year)*4],["months",(d,m)=>m.month-d.month+(m.year-d.year)*12],["weeks",(d,m)=>{const y=Hk(d,m);return(y-y%7)/7}],["days",Hk]],i={},o=t;let l,c;for(const[d,m]of r)n.indexOf(d)>=0&&(l=d,i[d]=m(t,e),c=o.plus(i),c>e?(i[d]--,t=o.plus(i),t>e&&(c=t,i[d]--,t=o.plus(i))):t=c);return[t,i,c,l]}function KL(t,e,n,r){let[i,o,l,c]=QL(t,e,n);const d=e-i,m=n.filter(b=>["hours","minutes","seconds","milliseconds"].indexOf(b)>=0);m.length===0&&(l<e&&(l=i.plus({[c]:1})),l!==i&&(o[c]=(o[c]||0)+d/(l-i)));const y=En.fromObject(o,r);return m.length>0?En.fromMillis(d,r).shiftTo(...m).plus(y):y}const GL="missing Intl.DateTimeFormat.formatToParts support";function Tn(t,e=n=>n){return{regex:t,deser:([n])=>e(DF(n))}}const JL="\xa0",DT=`[ ${JL}]`,MT=new RegExp(DT,"g");function ZL(t){return t.replace(/\./g,"\\.?").replace(MT,DT)}function Qk(t){return t.replace(/\./g,"").replace(MT," ").toLowerCase()}function Zs(t,e){return t===null?null:{regex:RegExp(t.map(ZL).join("|")),deser:([n])=>t.findIndex(r=>Qk(n)===Qk(r))+e}}function Kk(t,e){return{regex:t,deser:([,n,r])=>Xg(n,r),groups:e}}function Qh(t){return{regex:t,deser:([e])=>e}}function YL(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function XL(t,e){const n=Js(e),r=Js(e,"{2}"),i=Js(e,"{3}"),o=Js(e,"{4}"),l=Js(e,"{6}"),c=Js(e,"{1,2}"),d=Js(e,"{1,3}"),m=Js(e,"{1,6}"),y=Js(e,"{1,9}"),b=Js(e,"{2,4}"),E=Js(e,"{4,6}"),N=A=>({regex:RegExp(YL(A.val)),deser:([L])=>L,literal:!0}),T=(A=>{if(t.literal)return N(A);switch(A.val){case"G":return Zs(e.eras("short"),0);case"GG":return Zs(e.eras("long"),0);case"y":return Tn(m);case"yy":return Tn(b,Ex);case"yyyy":return Tn(o);case"yyyyy":return Tn(E);case"yyyyyy":return Tn(l);case"M":return Tn(c);case"MM":return Tn(r);case"MMM":return Zs(e.months("short",!0),1);case"MMMM":return Zs(e.months("long",!0),1);case"L":return Tn(c);case"LL":return Tn(r);case"LLL":return Zs(e.months("short",!1),1);case"LLLL":return Zs(e.months("long",!1),1);case"d":return Tn(c);case"dd":return Tn(r);case"o":return Tn(d);case"ooo":return Tn(i);case"HH":return Tn(r);case"H":return Tn(c);case"hh":return Tn(r);case"h":return Tn(c);case"mm":return Tn(r);case"m":return Tn(c);case"q":return Tn(c);case"qq":return Tn(r);case"s":return Tn(c);case"ss":return Tn(r);case"S":return Tn(d);case"SSS":return Tn(i);case"u":return Qh(y);case"uu":return Qh(c);case"uuu":return Tn(n);case"a":return Zs(e.meridiems(),0);case"kkkk":return Tn(o);case"kk":return Tn(b,Ex);case"W":return Tn(c);case"WW":return Tn(r);case"E":case"c":return Tn(n);case"EEE":return Zs(e.weekdays("short",!1),1);case"EEEE":return Zs(e.weekdays("long",!1),1);case"ccc":return Zs(e.weekdays("short",!0),1);case"cccc":return Zs(e.weekdays("long",!0),1);case"Z":case"ZZ":return Kk(new RegExp(`([+-]${c.source})(?::(${r.source}))?`),2);case"ZZZ":return Kk(new RegExp(`([+-]${c.source})(${r.source})?`),2);case"z":return Qh(/[a-z_+-/]{1,256}?/i);case" ":return Qh(/[^\S\n\r]/);default:return N(A)}})(t)||{invalidReason:GL};return T.token=t,T}const eD={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function tD(t,e,n){const{type:r,value:i}=t;if(r==="literal"){const d=/^\s+$/.test(i);return{literal:!d,val:d?" ":i}}const o=e[r];let l=r;r==="hour"&&(e.hour12!=null?l=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?l="hour12":l="hour24":l=n.hour12?"hour12":"hour24");let c=eD[l];if(typeof c=="object"&&(c=c[o]),c)return{literal:!1,val:c}}function nD(t){return[`^${t.map(n=>n.regex).reduce((n,r)=>`${n}(${r.source})`,"")}$`,t]}function rD(t,e,n){const r=t.match(e);if(r){const i={};let o=1;for(const l in n)if(Pu(n,l)){const c=n[l],d=c.groups?c.groups+1:1;!c.literal&&c.token&&(i[c.token.val[0]]=c.deser(r.slice(o,o+d))),o+=d}return[r,i]}else return[r,{}]}function iD(t){const e=o=>{switch(o){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,r;return nn(t.z)||(n=ga.create(t.z)),nn(t.Z)||(n||(n=new Ni(t.Z)),r=t.Z),nn(t.q)||(t.M=(t.q-1)*3+1),nn(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),nn(t.u)||(t.S=kw(t.u)),[Object.keys(t).reduce((o,l)=>{const c=e(l);return c&&(o[c]=t[l]),o},{}),n,r]}let Bb=null;function sD(){return Bb||(Bb=tn.fromMillis(0x16a2e5618e3)),Bb}function oD(t,e){if(t.literal)return t;const n=di.macroTokenToFormatOpts(t.val),r=zT(n,e);return r==null||r.includes(void 0)?t:r}function $T(t,e){return Array.prototype.concat(...t.map(n=>oD(n,e)))}class BT{constructor(e,n){if(this.locale=e,this.format=n,this.tokens=$T(di.parseFormat(n),e),this.units=this.tokens.map(r=>XL(r,e)),this.disqualifyingUnit=this.units.find(r=>r.invalidReason),!this.disqualifyingUnit){const[r,i]=nD(this.units);this.regex=RegExp(r,"i"),this.handlers=i}}explainFromTokens(e){if(this.isValid){const[n,r]=rD(e,this.regex,this.handlers),[i,o,l]=r?iD(r):[null,null,void 0];if(Pu(r,"a")&&Pu(r,"H"))throw new fu("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:n,matches:r,result:i,zone:o,specificOffset:l}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function WT(t,e,n){return new BT(t,n).explainFromTokens(e)}function aD(t,e,n){const{result:r,zone:i,specificOffset:o,invalidReason:l}=WT(t,e,n);return[r,i,o,l]}function zT(t,e){if(!t)return null;const r=di.create(e,t).dtFormatter(sD()),i=r.formatToParts(),o=r.resolvedOptions();return i.map(l=>tD(l,t,o))}const Wb="Invalid DateTime",Gk=864e13;function tf(t){return new so("unsupported zone",`the zone "${t.name}" is not supported`)}function zb(t){return t.weekData===null&&(t.weekData=ng(t.c)),t.weekData}function Ub(t){return t.localWeekData===null&&(t.localWeekData=ng(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function Vl(t,e){const n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new tn({...n,...e,old:n})}function UT(t,e,n){let r=t-e*60*1e3;const i=n.offset(r);if(e===i)return[r,e];r-=(i-e)*60*1e3;const o=n.offset(r);return i===o?[r,i]:[t-Math.min(i,o)*60*1e3,Math.max(i,o)]}function Kh(t,e){t+=e*60*1e3;const n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function vm(t,e,n){return UT(Yg(t),e,n)}function Jk(t,e){const n=t.o,r=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,o={...t.c,year:r,month:i,day:Math.min(t.c.day,rg(r,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},l=En.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),c=Yg(o);let[d,m]=UT(c,n,t.zone);return l!==0&&(d+=l,m=t.zone.offset(d)),{ts:d,o:m}}function eu(t,e,n,r,i,o){const{setZone:l,zone:c}=n;if(t&&Object.keys(t).length!==0||e){const d=e||c,m=tn.fromObject(t,{...n,zone:d,specificOffset:o});return l?m:m.setZone(c)}else return tn.invalid(new so("unparsable",`the input "${i}" can't be parsed as ${r}`))}function Gh(t,e,n=!0){return t.isValid?di.create(Rn.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function Vb(t,e){const n=t.c.year>9999||t.c.year<0;let r="";return n&&t.c.year>=0&&(r+="+"),r+=jr(t.c.year,n?6:4),e?(r+="-",r+=jr(t.c.month),r+="-",r+=jr(t.c.day)):(r+=jr(t.c.month),r+=jr(t.c.day)),r}function Zk(t,e,n,r,i,o){let l=jr(t.c.hour);return e?(l+=":",l+=jr(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(l+=":")):l+=jr(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(l+=jr(t.c.second),(t.c.millisecond!==0||!r)&&(l+=".",l+=jr(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0&&!o?l+="Z":t.o<0?(l+="-",l+=jr(Math.trunc(-t.o/60)),l+=":",l+=jr(Math.trunc(-t.o%60))):(l+="+",l+=jr(Math.trunc(t.o/60)),l+=":",l+=jr(Math.trunc(t.o%60)))),o&&(l+="["+t.zone.ianaName+"]"),l}const VT={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},lD={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},cD={ordinal:1,hour:0,minute:0,second:0,millisecond:0},HT=["year","month","day","hour","minute","second","millisecond"],uD=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],dD=["year","ordinal","hour","minute","second","millisecond"];function fD(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new QO(t);return e}function Yk(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return fD(t)}}function pD(t){return _m[t]||(bm===void 0&&(bm=kr.now()),_m[t]=t.offset(bm)),_m[t]}function Xk(t,e){const n=Qa(e.zone,kr.defaultZone);if(!n.isValid)return tn.invalid(tf(n));const r=Rn.fromObject(e);let i,o;if(nn(t.year))i=kr.now();else{for(const d of HT)nn(t[d])&&(t[d]=VT[d]);const l=yT(t)||vT(t);if(l)return tn.invalid(l);const c=pD(n);[i,o]=vm(t,c,n)}return new tn({ts:i,zone:n,loc:r,o})}function eN(t,e,n){const r=nn(n.round)?!0:n.round,i=(l,c)=>(l=Nw(l,r||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(l,c)),o=l=>n.calendary?e.hasSame(t,l)?0:e.startOf(l).diff(t.startOf(l),l).get(l):e.diff(t,l).get(l);if(n.unit)return i(o(n.unit),n.unit);for(const l of n.units){const c=o(l);if(Math.abs(c)>=1)return i(c,l)}return i(t>e?-0:0,n.units[n.units.length-1])}function tN(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}let bm,_m={};class tn{constructor(e){const n=e.zone||kr.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new so("invalid input"):null)||(n.isValid?null:tf(n));this.ts=nn(e.ts)?kr.now():e.ts;let i=null,o=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[i,o]=[e.old.c,e.old.o];else{const c=il(e.o)&&!e.old?e.o:n.offset(this.ts);i=Kh(this.ts,c),r=Number.isNaN(i.year)?new so("invalid input"):null,i=r?null:i,o=r?null:c}this._zone=n,this.loc=e.loc||Rn.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=i,this.o=o,this.isLuxonDateTime=!0}static now(){return new tn({})}static local(){const[e,n]=tN(arguments),[r,i,o,l,c,d,m]=n;return Xk({year:r,month:i,day:o,hour:l,minute:c,second:d,millisecond:m},e)}static utc(){const[e,n]=tN(arguments),[r,i,o,l,c,d,m]=n;return e.zone=Ni.utcInstance,Xk({year:r,month:i,day:o,hour:l,minute:c,second:d,millisecond:m},e)}static fromJSDate(e,n={}){const r=zF(e)?e.valueOf():NaN;if(Number.isNaN(r))return tn.invalid("invalid input");const i=Qa(n.zone,kr.defaultZone);return i.isValid?new tn({ts:r,zone:i,loc:Rn.fromObject(n)}):tn.invalid(tf(i))}static fromMillis(e,n={}){if(il(e))return e<-Gk||e>Gk?tn.invalid("Timestamp out of range"):new tn({ts:e,zone:Qa(n.zone,kr.defaultZone),loc:Rn.fromObject(n)});throw new ci(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(il(e))return new tn({ts:e*1e3,zone:Qa(n.zone,kr.defaultZone),loc:Rn.fromObject(n)});throw new ci("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};const r=Qa(n.zone,kr.defaultZone);if(!r.isValid)return tn.invalid(tf(r));const i=Rn.fromObject(n),o=ig(e,Yk),{minDaysInFirstWeek:l,startOfWeek:c}=Mk(o,i),d=kr.now(),m=nn(n.specificOffset)?r.offset(d):n.specificOffset,y=!nn(o.ordinal),b=!nn(o.year),E=!nn(o.month)||!nn(o.day),N=b||E,O=o.weekYear||o.weekNumber;if((N||y)&&O)throw new fu("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(E&&y)throw new fu("Can't mix ordinal dates with month/day");const T=O||o.weekday&&!N;let A,L,P=Kh(d,m);T?(A=uD,L=lD,P=ng(P,l,c)):y?(A=dD,L=cD,P=$b(P)):(A=HT,L=VT);let B=!1;for(const te of A){const $=o[te];nn($)?B?o[te]=L[te]:o[te]=P[te]:B=!0}const Q=T?$F(o,l,c):y?BF(o):yT(o),J=Q||vT(o);if(J)return tn.invalid(J);const W=T?Lk(o,l,c):y?Dk(o):o,[G,re]=vm(W,m,r),H=new tn({ts:G,zone:r,o:re,loc:i});return o.weekday&&N&&e.weekday!==H.weekday?tn.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${H.toISO()}`):H.isValid?H:tn.invalid(H.invalid)}static fromISO(e,n={}){const[r,i]=RL(e);return eu(r,i,n,"ISO 8601",e)}static fromRFC2822(e,n={}){const[r,i]=AL(e);return eu(r,i,n,"RFC 2822",e)}static fromHTTP(e,n={}){const[r,i]=jL(e);return eu(r,i,n,"HTTP",n)}static fromFormat(e,n,r={}){if(nn(e)||nn(n))throw new ci("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:o=null}=r,l=Rn.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0}),[c,d,m,y]=aD(l,e,n);return y?tn.invalid(y):eu(c,d,r,`format ${n}`,e,m)}static fromString(e,n,r={}){return tn.fromFormat(e,n,r)}static fromSQL(e,n={}){const[r,i]=BL(e);return eu(r,i,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new ci("need to specify a reason the DateTime is invalid");const r=e instanceof so?e:new so(e,n);if(kr.throwOnInvalid)throw new pF(r);return new tn({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){const r=zT(e,Rn.fromObject(n));return r?r.map(i=>i?i.val:null).join(""):null}static expandFormat(e,n={}){return $T(di.parseFormat(e),Rn.fromObject(n)).map(i=>i.val).join("")}static resetCache(){bm=void 0,_m={}}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?zb(this).weekYear:NaN}get weekNumber(){return this.isValid?zb(this).weekNumber:NaN}get weekday(){return this.isValid?zb(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Ub(this).weekday:NaN}get localWeekNumber(){return this.isValid?Ub(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Ub(this).weekYear:NaN}get ordinal(){return this.isValid?$b(this.c).ordinal:NaN}get monthShort(){return this.isValid?Hh.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Hh.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Hh.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Hh.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,n=6e4,r=Yg(this.c),i=this.zone.offset(r-e),o=this.zone.offset(r+e),l=this.zone.offset(r-i*n),c=this.zone.offset(r-o*n);if(l===c)return[this];const d=r-l*n,m=r-c*n,y=Kh(d,l),b=Kh(m,c);return y.hour===b.hour&&y.minute===b.minute&&y.second===b.second&&y.millisecond===b.millisecond?[Vl(this,{ts:d}),Vl(this,{ts:m})]:[this]}get isInLeapYear(){return op(this.year)}get daysInMonth(){return rg(this.year,this.month)}get daysInYear(){return this.isValid?_u(this.year):NaN}get weeksInWeekYear(){return this.isValid?Of(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Of(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:n,numberingSystem:r,calendar:i}=di.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:r,outputCalendar:i}}toUTC(e=0,n={}){return this.setZone(Ni.instance(e),n)}toLocal(){return this.setZone(kr.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(e=Qa(e,kr.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(n||r){const o=e.offset(this.ts),l=this.toObject();[i]=vm(l,o,e)}return Vl(this,{ts:i,zone:e})}else return tn.invalid(tf(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:r}={}){const i=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:r});return Vl(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const n=ig(e,Yk),{minDaysInFirstWeek:r,startOfWeek:i}=Mk(n,this.loc),o=!nn(n.weekYear)||!nn(n.weekNumber)||!nn(n.weekday),l=!nn(n.ordinal),c=!nn(n.year),d=!nn(n.month)||!nn(n.day),m=c||d,y=n.weekYear||n.weekNumber;if((m||l)&&y)throw new fu("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(d&&l)throw new fu("Can't mix ordinal dates with month/day");let b;o?b=Lk({...ng(this.c,r,i),...n},r,i):nn(n.ordinal)?(b={...this.toObject(),...n},nn(n.day)&&(b.day=Math.min(rg(b.year,b.month),b.day))):b=Dk({...$b(this.c),...n});const[E,N]=vm(b,this.o,this.zone);return Vl(this,{ts:E,o:N})}plus(e){if(!this.isValid)return this;const n=En.fromDurationLike(e);return Vl(this,Jk(this,n))}minus(e){if(!this.isValid)return this;const n=En.fromDurationLike(e).negate();return Vl(this,Jk(this,n))}startOf(e,{useLocaleWeeks:n=!1}={}){if(!this.isValid)return this;const r={},i=En.normalizeUnit(e);switch(i){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(i==="weeks")if(n){const o=this.loc.getStartOfWeek(),{weekday:l}=this;l<o&&(r.weekNumber=this.weekNumber-1),r.weekday=o}else r.weekday=1;if(i==="quarters"){const o=Math.ceil(this.month/3);r.month=(o-1)*3+1}return this.set(r)}endOf(e,n){return this.isValid?this.plus({[e]:1}).startOf(e,n).minus(1):this}toFormat(e,n={}){return this.isValid?di.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):Wb}toLocaleString(e=tg,n={}){return this.isValid?di.create(this.loc.clone(n),e).formatDateTime(this):Wb}toLocaleParts(e={}){return this.isValid?di.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:r=!1,includeOffset:i=!0,extendedZone:o=!1}={}){if(!this.isValid)return null;const l=e==="extended";let c=Vb(this,l);return c+="T",c+=Zk(this,l,n,r,i,o),c}toISODate({format:e="extended"}={}){return this.isValid?Vb(this,e==="extended"):null}toISOWeekDate(){return Gh(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:r=!0,includePrefix:i=!1,extendedZone:o=!1,format:l="extended"}={}){return this.isValid?(i?"T":"")+Zk(this,l==="extended",n,e,r,o):null}toRFC2822(){return Gh(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Gh(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Vb(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:r=!0}={}){let i="HH:mm:ss.SSS";return(n||e)&&(r&&(i+=" "),n?i+="z":e&&(i+="ZZ")),Gh(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Wb}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const n={...this.c};return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",r={}){if(!this.isValid||!e.isValid)return En.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...r},o=UF(n).map(En.normalizeUnit),l=e.valueOf()>this.valueOf(),c=l?this:e,d=l?e:this,m=KL(c,d,o,i);return l?m.negate():m}diffNow(e="milliseconds",n={}){return this.diff(tn.now(),e,n)}until(e){return this.isValid?Er.fromDateTimes(this,e):this}hasSame(e,n,r){if(!this.isValid)return!1;const i=e.valueOf(),o=this.setZone(e.zone,{keepLocalTime:!0});return o.startOf(n,r)<=i&&i<=o.endOf(n,r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const n=e.base||tn.fromObject({},{zone:this.zone}),r=e.padding?this<n?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],o=e.unit;return Array.isArray(e.unit)&&(i=e.unit,o=void 0),eN(n,this.plus(r),{...e,numeric:"always",units:i,unit:o})}toRelativeCalendar(e={}){return this.isValid?eN(e.base||tn.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(tn.isDateTime))throw new ci("min requires all arguments be DateTimes");return $k(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(tn.isDateTime))throw new ci("max requires all arguments be DateTimes");return $k(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,r={}){const{locale:i=null,numberingSystem:o=null}=r,l=Rn.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0});return WT(l,e,n)}static fromStringExplain(e,n,r={}){return tn.fromFormatExplain(e,n,r)}static buildFormatParser(e,n={}){const{locale:r=null,numberingSystem:i=null}=n,o=Rn.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0});return new BT(o,e)}static fromFormatParser(e,n,r={}){if(nn(e)||nn(n))throw new ci("fromFormatParser requires an input string and a format parser");const{locale:i=null,numberingSystem:o=null}=r,l=Rn.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0});if(!l.equals(n.locale))throw new ci(`fromFormatParser called with a locale of ${l}, but the format parser was created for ${n.locale}`);const{result:c,zone:d,specificOffset:m,invalidReason:y}=n.explainFromTokens(e);return y?tn.invalid(y):eu(c,d,r,`format ${n.format}`,e,m)}static get DATE_SHORT(){return tg}static get DATE_MED(){return KO}static get DATE_MED_WITH_WEEKDAY(){return gF}static get DATE_FULL(){return GO}static get DATE_HUGE(){return JO}static get TIME_SIMPLE(){return ZO}static get TIME_WITH_SECONDS(){return YO}static get TIME_WITH_SHORT_OFFSET(){return XO}static get TIME_WITH_LONG_OFFSET(){return eT}static get TIME_24_SIMPLE(){return tT}static get TIME_24_WITH_SECONDS(){return nT}static get TIME_24_WITH_SHORT_OFFSET(){return rT}static get TIME_24_WITH_LONG_OFFSET(){return iT}static get DATETIME_SHORT(){return sT}static get DATETIME_SHORT_WITH_SECONDS(){return oT}static get DATETIME_MED(){return aT}static get DATETIME_MED_WITH_SECONDS(){return lT}static get DATETIME_MED_WITH_WEEKDAY(){return yF}static get DATETIME_FULL(){return cT}static get DATETIME_FULL_WITH_SECONDS(){return uT}static get DATETIME_HUGE(){return dT}static get DATETIME_HUGE_WITH_SECONDS(){return fT}}function Vd(t){if(tn.isDateTime(t))return t;if(t&&t.valueOf&&il(t.valueOf()))return tn.fromJSDate(t);if(t&&typeof t=="object")return tn.fromObject(t);throw new ci(`Unknown datetime argument: ${t}, of type ${typeof t}`)}function QT(t,e){return function(){return t.apply(e,arguments)}}const{toString:hD}=Object.prototype,{getPrototypeOf:qw}=Object,ty=(t=>e=>{const n=hD.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),mo=t=>(t=t.toLowerCase(),e=>ty(e)===t),ny=t=>e=>typeof e===t,{isArray:Zu}=Array,Tf=ny("undefined");function mD(t){return t!==null&&!Tf(t)&&t.constructor!==null&&!Tf(t.constructor)&&us(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const KT=mo("ArrayBuffer");function gD(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&KT(t.buffer),e}const yD=ny("string"),us=ny("function"),GT=ny("number"),ry=t=>t!==null&&typeof t=="object",vD=t=>t===!0||t===!1,xm=t=>{if(ty(t)!=="object")return!1;const e=qw(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},bD=mo("Date"),_D=mo("File"),xD=mo("Blob"),wD=mo("FileList"),SD=t=>ry(t)&&us(t.pipe),ED=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||us(t.append)&&((e=ty(t))==="formdata"||e==="object"&&us(t.toString)&&t.toString()==="[object FormData]"))},kD=mo("URLSearchParams"),[ND,ID,OD,TD]=["ReadableStream","Request","Response","Headers"].map(mo),qD=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function cp(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Zu(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),l=o.length;let c;for(r=0;r<l;r++)c=o[r],e.call(null,t[c],c,t)}}function JT(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const rc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ZT=t=>!Tf(t)&&t!==rc;function kx(){const{caseless:t}=ZT(this)&&this||{},e={},n=(r,i)=>{const o=t&&JT(e,i)||i;xm(e[o])&&xm(r)?e[o]=kx(e[o],r):xm(r)?e[o]=kx({},r):Zu(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&cp(arguments[r],n);return e}const CD=(t,e,n,{allOwnKeys:r}={})=>(cp(e,(i,o)=>{n&&us(i)?t[o]=QT(i,n):t[o]=i},{allOwnKeys:r}),t),RD=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),AD=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},jD=(t,e,n,r)=>{let i,o,l;const c={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)l=i[o],(!r||r(l,t,e))&&!c[l]&&(e[l]=t[l],c[l]=!0);t=n!==!1&&qw(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},PD=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},FD=t=>{if(!t)return null;if(Zu(t))return t;let e=t.length;if(!GT(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},LD=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&qw(Uint8Array)),DD=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},MD=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},$D=mo("HTMLFormElement"),BD=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),nN=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),WD=mo("RegExp"),YT=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};cp(n,(i,o)=>{let l;(l=e(i,o,t))!==!1&&(r[o]=l||i)}),Object.defineProperties(t,r)},zD=t=>{YT(t,(e,n)=>{if(us(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(us(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},UD=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Zu(t)?r(t):r(String(t).split(e)),n},VD=()=>{},HD=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,Hb="abcdefghijklmnopqrstuvwxyz",rN="0123456789",XT={DIGIT:rN,ALPHA:Hb,ALPHA_DIGIT:Hb+Hb.toUpperCase()+rN},QD=(t=16,e=XT.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function KD(t){return!!(t&&us(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const GD=t=>{const e=new Array(10),n=(r,i)=>{if(ry(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=Zu(r)?[]:{};return cp(r,(l,c)=>{const d=n(l,i+1);!Tf(d)&&(o[c]=d)}),e[i]=void 0,o}}return r};return n(t,0)},JD=mo("AsyncFunction"),ZD=t=>t&&(ry(t)||us(t))&&us(t.then)&&us(t.catch),eq=((t,e)=>t?setImmediate:e?((n,r)=>(rc.addEventListener("message",({source:i,data:o})=>{i===rc&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),rc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",us(rc.postMessage)),YD=typeof queueMicrotask<"u"?queueMicrotask.bind(rc):typeof process<"u"&&process.nextTick||eq,ze={isArray:Zu,isArrayBuffer:KT,isBuffer:mD,isFormData:ED,isArrayBufferView:gD,isString:yD,isNumber:GT,isBoolean:vD,isObject:ry,isPlainObject:xm,isReadableStream:ND,isRequest:ID,isResponse:OD,isHeaders:TD,isUndefined:Tf,isDate:bD,isFile:_D,isBlob:xD,isRegExp:WD,isFunction:us,isStream:SD,isURLSearchParams:kD,isTypedArray:LD,isFileList:wD,forEach:cp,merge:kx,extend:CD,trim:qD,stripBOM:RD,inherits:AD,toFlatObject:jD,kindOf:ty,kindOfTest:mo,endsWith:PD,toArray:FD,forEachEntry:DD,matchAll:MD,isHTMLForm:$D,hasOwnProperty:nN,hasOwnProp:nN,reduceDescriptors:YT,freezeMethods:zD,toObjectSet:UD,toCamelCase:BD,noop:VD,toFiniteNumber:HD,findKey:JT,global:rc,isContextDefined:ZT,ALPHABET:XT,generateString:QD,isSpecCompliantForm:KD,toJSONObject:GD,isAsyncFn:JD,isThenable:ZD,setImmediate:eq,asap:YD};function cn(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ze.inherits(cn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ze.toJSONObject(this.config),code:this.code,status:this.status}}});const tq=cn.prototype,nq={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{nq[t]={value:t}});Object.defineProperties(cn,nq);Object.defineProperty(tq,"isAxiosError",{value:!0});cn.from=(t,e,n,r,i,o)=>{const l=Object.create(tq);return ze.toFlatObject(t,l,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),cn.call(l,t.message,e,n,r,i),l.cause=t,l.name=t.name,o&&Object.assign(l,o),l};const XD=null;function Nx(t){return ze.isPlainObject(t)||ze.isArray(t)}function rq(t){return ze.endsWith(t,"[]")?t.slice(0,-2):t}function iN(t,e,n){return t?t.concat(e).map(function(i,o){return i=rq(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function e2(t){return ze.isArray(t)&&!t.some(Nx)}const t2=ze.toFlatObject(ze,{},null,function(e){return/^is[A-Z]/.test(e)});function iy(t,e,n){if(!ze.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ze.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,A){return!ze.isUndefined(A[T])});const r=n.metaTokens,i=n.visitor||y,o=n.dots,l=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&ze.isSpecCompliantForm(e);if(!ze.isFunction(i))throw new TypeError("visitor must be a function");function m(O){if(O===null)return"";if(ze.isDate(O))return O.toISOString();if(!d&&ze.isBlob(O))throw new cn("Blob is not supported. Use a Buffer instead.");return ze.isArrayBuffer(O)||ze.isTypedArray(O)?d&&typeof Blob=="function"?new Blob([O]):Buffer.from(O):O}function y(O,T,A){let L=O;if(O&&!A&&typeof O=="object"){if(ze.endsWith(T,"{}"))T=r?T:T.slice(0,-2),O=JSON.stringify(O);else if(ze.isArray(O)&&e2(O)||(ze.isFileList(O)||ze.endsWith(T,"[]"))&&(L=ze.toArray(O)))return T=rq(T),L.forEach(function(B,Q){!(ze.isUndefined(B)||B===null)&&e.append(l===!0?iN([T],Q,o):l===null?T:T+"[]",m(B))}),!1}return Nx(O)?!0:(e.append(iN(A,T,o),m(O)),!1)}const b=[],E=Object.assign(t2,{defaultVisitor:y,convertValue:m,isVisitable:Nx});function N(O,T){if(!ze.isUndefined(O)){if(b.indexOf(O)!==-1)throw Error("Circular reference detected in "+T.join("."));b.push(O),ze.forEach(O,function(L,P){(!(ze.isUndefined(L)||L===null)&&i.call(e,L,ze.isString(P)?P.trim():P,T,E))===!0&&N(L,T?T.concat(P):[P])}),b.pop()}}if(!ze.isObject(t))throw new TypeError("data must be an object");return N(t),e}function sN(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function Cw(t,e){this._pairs=[],t&&iy(t,this,e)}const iq=Cw.prototype;iq.append=function(e,n){this._pairs.push([e,n])};iq.toString=function(e){const n=e?function(r){return e.call(this,r,sN)}:sN;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function n2(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function sq(t,e,n){if(!e)return t;const r=n&&n.encode||n2;ze.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(e,n):o=ze.isURLSearchParams(e)?e.toString():new Cw(e,n).toString(r),o){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class oN{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ze.forEach(this.handlers,function(r){r!==null&&e(r)})}}const oq={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},r2=typeof URLSearchParams<"u"?URLSearchParams:Cw,i2=typeof FormData<"u"?FormData:null,s2=typeof Blob<"u"?Blob:null,o2={isBrowser:!0,classes:{URLSearchParams:r2,FormData:i2,Blob:s2},protocols:["http","https","file","blob","url","data"]},Rw=typeof window<"u"&&typeof document<"u",Ix=typeof navigator=="object"&&navigator||void 0,a2=Rw&&(!Ix||["ReactNative","NativeScript","NS"].indexOf(Ix.product)<0),l2=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",c2=Rw&&window.location.href||"http://localhost",u2=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Rw,hasStandardBrowserEnv:a2,hasStandardBrowserWebWorkerEnv:l2,navigator:Ix,origin:c2},Symbol.toStringTag,{value:"Module"})),fi={...u2,...o2};function d2(t,e){return iy(t,new fi.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return fi.isNode&&ze.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function f2(t){return ze.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function p2(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function aq(t){function e(n,r,i,o){let l=n[o++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),d=o>=n.length;return l=!l&&ze.isArray(i)?i.length:l,d?(ze.hasOwnProp(i,l)?i[l]=[i[l],r]:i[l]=r,!c):((!i[l]||!ze.isObject(i[l]))&&(i[l]=[]),e(n,r,i[l],o)&&ze.isArray(i[l])&&(i[l]=p2(i[l])),!c)}if(ze.isFormData(t)&&ze.isFunction(t.entries)){const n={};return ze.forEachEntry(t,(r,i)=>{e(f2(r),i,n,0)}),n}return null}function h2(t,e,n){if(ze.isString(t))try{return(e||JSON.parse)(t),ze.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const up={transitional:oq,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=ze.isObject(e);if(o&&ze.isHTMLForm(e)&&(e=new FormData(e)),ze.isFormData(e))return i?JSON.stringify(aq(e)):e;if(ze.isArrayBuffer(e)||ze.isBuffer(e)||ze.isStream(e)||ze.isFile(e)||ze.isBlob(e)||ze.isReadableStream(e))return e;if(ze.isArrayBufferView(e))return e.buffer;if(ze.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return d2(e,this.formSerializer).toString();if((c=ze.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return iy(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),h2(e)):e}],transformResponse:[function(e){const n=this.transitional||up.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(ze.isResponse(e)||ze.isReadableStream(e))return e;if(e&&ze.isString(e)&&(r&&!this.responseType||i)){const l=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(c){if(l)throw c.name==="SyntaxError"?cn.from(c,cn.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fi.classes.FormData,Blob:fi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ze.forEach(["delete","get","head","post","put","patch"],t=>{up.headers[t]={}});const m2=ze.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),g2=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(l){i=l.indexOf(":"),n=l.substring(0,i).trim().toLowerCase(),r=l.substring(i+1).trim(),!(!n||e[n]&&m2[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},aN=Symbol("internals");function Hd(t){return t&&String(t).trim().toLowerCase()}function wm(t){return t===!1||t==null?t:ze.isArray(t)?t.map(wm):String(t)}function y2(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const v2=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Qb(t,e,n,r,i){if(ze.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!ze.isString(e)){if(ze.isString(r))return e.indexOf(r)!==-1;if(ze.isRegExp(r))return r.test(e)}}function b2(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function _2(t,e){const n=ze.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,l){return this[r].call(this,e,i,o,l)},configurable:!0})})}let Ui=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(c,d,m){const y=Hd(d);if(!y)throw new Error("header name must be a non-empty string");const b=ze.findKey(i,y);(!b||i[b]===void 0||m===!0||m===void 0&&i[b]!==!1)&&(i[b||d]=wm(c))}const l=(c,d)=>ze.forEach(c,(m,y)=>o(m,y,d));if(ze.isPlainObject(e)||e instanceof this.constructor)l(e,n);else if(ze.isString(e)&&(e=e.trim())&&!v2(e))l(g2(e),n);else if(ze.isHeaders(e))for(const[c,d]of e.entries())o(d,c,r);else e!=null&&o(n,e,r);return this}get(e,n){if(e=Hd(e),e){const r=ze.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return y2(i);if(ze.isFunction(n))return n.call(this,i,r);if(ze.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Hd(e),e){const r=ze.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Qb(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(l){if(l=Hd(l),l){const c=ze.findKey(r,l);c&&(!n||Qb(r,r[c],c,n))&&(delete r[c],i=!0)}}return ze.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||Qb(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return ze.forEach(this,(i,o)=>{const l=ze.findKey(r,o);if(l){n[l]=wm(i),delete n[o];return}const c=e?b2(o):String(o).trim();c!==o&&delete n[o],n[c]=wm(i),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ze.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&ze.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[aN]=this[aN]={accessors:{}}).accessors,i=this.prototype;function o(l){const c=Hd(l);r[c]||(_2(i,l),r[c]=!0)}return ze.isArray(e)?e.forEach(o):o(e),this}};Ui.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ze.reduceDescriptors(Ui.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});ze.freezeMethods(Ui);function Kb(t,e){const n=this||up,r=e||n,i=Ui.from(r.headers);let o=r.data;return ze.forEach(t,function(c){o=c.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function lq(t){return!!(t&&t.__CANCEL__)}function Yu(t,e,n){cn.call(this,t??"canceled",cn.ERR_CANCELED,e,n),this.name="CanceledError"}ze.inherits(Yu,cn,{__CANCEL__:!0});function cq(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new cn("Request failed with status code "+n.status,[cn.ERR_BAD_REQUEST,cn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function x2(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function w2(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,l;return e=e!==void 0?e:1e3,function(d){const m=Date.now(),y=r[o];l||(l=m),n[i]=d,r[i]=m;let b=o,E=0;for(;b!==i;)E+=n[b++],b=b%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),m-l<e)return;const N=y&&m-y;return N?Math.round(E*1e3/N):void 0}}function S2(t,e){let n=0,r=1e3/e,i,o;const l=(m,y=Date.now())=>{n=y,i=null,o&&(clearTimeout(o),o=null),t.apply(null,m)};return[(...m)=>{const y=Date.now(),b=y-n;b>=r?l(m,y):(i=m,o||(o=setTimeout(()=>{o=null,l(i)},r-b)))},()=>i&&l(i)]}const sg=(t,e,n=3)=>{let r=0;const i=w2(50,250);return S2(o=>{const l=o.loaded,c=o.lengthComputable?o.total:void 0,d=l-r,m=i(d),y=l<=c;r=l;const b={loaded:l,total:c,progress:c?l/c:void 0,bytes:d,rate:m||void 0,estimated:m&&c&&y?(c-l)/m:void 0,event:o,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(b)},n)},lN=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},cN=t=>(...e)=>ze.asap(()=>t(...e)),E2=fi.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,fi.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(fi.origin),fi.navigator&&/(msie|trident)/i.test(fi.navigator.userAgent)):()=>!0,k2=fi.hasStandardBrowserEnv?{write(t,e,n,r,i,o){const l=[t+"="+encodeURIComponent(e)];ze.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),ze.isString(r)&&l.push("path="+r),ze.isString(i)&&l.push("domain="+i),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function N2(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function I2(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function uq(t,e){return t&&!N2(e)?I2(t,e):e}const uN=t=>t instanceof Ui?{...t}:t;function fc(t,e){e=e||{};const n={};function r(m,y,b,E){return ze.isPlainObject(m)&&ze.isPlainObject(y)?ze.merge.call({caseless:E},m,y):ze.isPlainObject(y)?ze.merge({},y):ze.isArray(y)?y.slice():y}function i(m,y,b,E){if(ze.isUndefined(y)){if(!ze.isUndefined(m))return r(void 0,m,b,E)}else return r(m,y,b,E)}function o(m,y){if(!ze.isUndefined(y))return r(void 0,y)}function l(m,y){if(ze.isUndefined(y)){if(!ze.isUndefined(m))return r(void 0,m)}else return r(void 0,y)}function c(m,y,b){if(b in e)return r(m,y);if(b in t)return r(void 0,m)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(m,y,b)=>i(uN(m),uN(y),b,!0)};return ze.forEach(Object.keys(Object.assign({},t,e)),function(y){const b=d[y]||i,E=b(t[y],e[y],y);ze.isUndefined(E)&&b!==c||(n[y]=E)}),n}const dq=t=>{const e=fc({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:l,auth:c}=e;e.headers=l=Ui.from(l),e.url=sq(uq(e.baseURL,e.url),t.params,t.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let d;if(ze.isFormData(n)){if(fi.hasStandardBrowserEnv||fi.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[m,...y]=d?d.split(";").map(b=>b.trim()).filter(Boolean):[];l.setContentType([m||"multipart/form-data",...y].join("; "))}}if(fi.hasStandardBrowserEnv&&(r&&ze.isFunction(r)&&(r=r(e)),r||r!==!1&&E2(e.url))){const m=i&&o&&k2.read(o);m&&l.set(i,m)}return e},O2=typeof XMLHttpRequest<"u",T2=O2&&function(t){return new Promise(function(n,r){const i=dq(t);let o=i.data;const l=Ui.from(i.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:m}=i,y,b,E,N,O;function T(){N&&N(),O&&O(),i.cancelToken&&i.cancelToken.unsubscribe(y),i.signal&&i.signal.removeEventListener("abort",y)}let A=new XMLHttpRequest;A.open(i.method.toUpperCase(),i.url,!0),A.timeout=i.timeout;function L(){if(!A)return;const B=Ui.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),J={data:!c||c==="text"||c==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:B,config:t,request:A};cq(function(G){n(G),T()},function(G){r(G),T()},J),A=null}"onloadend"in A?A.onloadend=L:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(L)},A.onabort=function(){A&&(r(new cn("Request aborted",cn.ECONNABORTED,t,A)),A=null)},A.onerror=function(){r(new cn("Network Error",cn.ERR_NETWORK,t,A)),A=null},A.ontimeout=function(){let Q=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const J=i.transitional||oq;i.timeoutErrorMessage&&(Q=i.timeoutErrorMessage),r(new cn(Q,J.clarifyTimeoutError?cn.ETIMEDOUT:cn.ECONNABORTED,t,A)),A=null},o===void 0&&l.setContentType(null),"setRequestHeader"in A&&ze.forEach(l.toJSON(),function(Q,J){A.setRequestHeader(J,Q)}),ze.isUndefined(i.withCredentials)||(A.withCredentials=!!i.withCredentials),c&&c!=="json"&&(A.responseType=i.responseType),m&&([E,O]=sg(m,!0),A.addEventListener("progress",E)),d&&A.upload&&([b,N]=sg(d),A.upload.addEventListener("progress",b),A.upload.addEventListener("loadend",N)),(i.cancelToken||i.signal)&&(y=B=>{A&&(r(!B||B.type?new Yu(null,t,A):B),A.abort(),A=null)},i.cancelToken&&i.cancelToken.subscribe(y),i.signal&&(i.signal.aborted?y():i.signal.addEventListener("abort",y)));const P=x2(i.url);if(P&&fi.protocols.indexOf(P)===-1){r(new cn("Unsupported protocol "+P+":",cn.ERR_BAD_REQUEST,t));return}A.send(o||null)})},q2=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const o=function(m){if(!i){i=!0,c();const y=m instanceof Error?m:this.reason;r.abort(y instanceof cn?y:new Yu(y instanceof Error?y.message:y))}};let l=e&&setTimeout(()=>{l=null,o(new cn(`timeout ${e} of ms exceeded`,cn.ETIMEDOUT))},e);const c=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(o):m.removeEventListener("abort",o)}),t=null)};t.forEach(m=>m.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=()=>ze.asap(c),d}},C2=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},R2=async function*(t,e){for await(const n of A2(t))yield*C2(n,e)},A2=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},dN=(t,e,n,r)=>{const i=R2(t,e);let o=0,l,c=d=>{l||(l=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:m,value:y}=await i.next();if(m){c(),d.close();return}let b=y.byteLength;if(n){let E=o+=b;n(E)}d.enqueue(new Uint8Array(y))}catch(m){throw c(m),m}},cancel(d){return c(d),i.return()}},{highWaterMark:2})},sy=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",fq=sy&&typeof ReadableStream=="function",j2=sy&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),pq=(t,...e)=>{try{return!!t(...e)}catch{return!1}},P2=fq&&pq(()=>{let t=!1;const e=new Request(fi.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),fN=64*1024,Ox=fq&&pq(()=>ze.isReadableStream(new Response("").body)),og={stream:Ox&&(t=>t.body)};sy&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!og[e]&&(og[e]=ze.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new cn(`Response type '${e}' is not supported`,cn.ERR_NOT_SUPPORT,r)})})})(new Response);const F2=async t=>{if(t==null)return 0;if(ze.isBlob(t))return t.size;if(ze.isSpecCompliantForm(t))return(await new Request(fi.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ze.isArrayBufferView(t)||ze.isArrayBuffer(t))return t.byteLength;if(ze.isURLSearchParams(t)&&(t=t+""),ze.isString(t))return(await j2(t)).byteLength},L2=async(t,e)=>{const n=ze.toFiniteNumber(t.getContentLength());return n??F2(e)},D2=sy&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:o,timeout:l,onDownloadProgress:c,onUploadProgress:d,responseType:m,headers:y,withCredentials:b="same-origin",fetchOptions:E}=dq(t);m=m?(m+"").toLowerCase():"text";let N=q2([i,o&&o.toAbortSignal()],l),O;const T=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let A;try{if(d&&P2&&n!=="get"&&n!=="head"&&(A=await L2(y,r))!==0){let J=new Request(e,{method:"POST",body:r,duplex:"half"}),W;if(ze.isFormData(r)&&(W=J.headers.get("content-type"))&&y.setContentType(W),J.body){const[G,re]=lN(A,sg(cN(d)));r=dN(J.body,fN,G,re)}}ze.isString(b)||(b=b?"include":"omit");const L="credentials"in Request.prototype;O=new Request(e,{...E,signal:N,method:n.toUpperCase(),headers:y.normalize().toJSON(),body:r,duplex:"half",credentials:L?b:void 0});let P=await fetch(O);const B=Ox&&(m==="stream"||m==="response");if(Ox&&(c||B&&T)){const J={};["status","statusText","headers"].forEach(H=>{J[H]=P[H]});const W=ze.toFiniteNumber(P.headers.get("content-length")),[G,re]=c&&lN(W,sg(cN(c),!0))||[];P=new Response(dN(P.body,fN,G,()=>{re&&re(),T&&T()}),J)}m=m||"text";let Q=await og[ze.findKey(og,m)||"text"](P,t);return!B&&T&&T(),await new Promise((J,W)=>{cq(J,W,{data:Q,headers:Ui.from(P.headers),status:P.status,statusText:P.statusText,config:t,request:O})})}catch(L){throw T&&T(),L&&L.name==="TypeError"&&/fetch/i.test(L.message)?Object.assign(new cn("Network Error",cn.ERR_NETWORK,t,O),{cause:L.cause||L}):cn.from(L,L&&L.code,t,O)}}),Tx={http:XD,xhr:T2,fetch:D2};ze.forEach(Tx,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const pN=t=>`- ${t}`,M2=t=>ze.isFunction(t)||t===null||t===!1,hq={getAdapter:t=>{t=ze.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let o=0;o<e;o++){n=t[o];let l;if(r=n,!M2(n)&&(r=Tx[(l=String(n)).toLowerCase()],r===void 0))throw new cn(`Unknown adapter '${l}'`);if(r)break;i[l||"#"+o]=r}if(!r){const o=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?o.length>1?`since :
`+o.map(pN).join(`
`):" "+pN(o[0]):"as no adapter specified";throw new cn("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:Tx};function Gb(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Yu(null,t)}function hN(t){return Gb(t),t.headers=Ui.from(t.headers),t.data=Kb.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),hq.getAdapter(t.adapter||up.adapter)(t).then(function(r){return Gb(t),r.data=Kb.call(t,t.transformResponse,r),r.headers=Ui.from(r.headers),r},function(r){return lq(r)||(Gb(t),r&&r.response&&(r.response.data=Kb.call(t,t.transformResponse,r.response),r.response.headers=Ui.from(r.response.headers))),Promise.reject(r)})}const mq="1.7.9",oy={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{oy[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const mN={};oy.transitional=function(e,n,r){function i(o,l){return"[Axios v"+mq+"] Transitional option '"+o+"'"+l+(r?". "+r:"")}return(o,l,c)=>{if(e===!1)throw new cn(i(l," has been removed"+(n?" in "+n:"")),cn.ERR_DEPRECATED);return n&&!mN[l]&&(mN[l]=!0,console.warn(i(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,l,c):!0}};oy.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function $2(t,e,n){if(typeof t!="object")throw new cn("options must be an object",cn.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],l=e[o];if(l){const c=t[o],d=c===void 0||l(c,o,t);if(d!==!0)throw new cn("option "+o+" must be "+d,cn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new cn("Unknown option "+o,cn.ERR_BAD_OPTION)}}const Sm={assertOptions:$2,validators:oy},No=Sm.validators;let ac=class{constructor(e){this.defaults=e,this.interceptors={request:new oN,response:new oN}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=fc(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&Sm.assertOptions(r,{silentJSONParsing:No.transitional(No.boolean),forcedJSONParsing:No.transitional(No.boolean),clarifyTimeoutError:No.transitional(No.boolean)},!1),i!=null&&(ze.isFunction(i)?n.paramsSerializer={serialize:i}:Sm.assertOptions(i,{encode:No.function,serialize:No.function},!0)),Sm.assertOptions(n,{baseUrl:No.spelling("baseURL"),withXsrfToken:No.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=o&&ze.merge(o.common,o[n.method]);o&&ze.forEach(["delete","get","head","post","put","patch","common"],O=>{delete o[O]}),n.headers=Ui.concat(l,o);const c=[];let d=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(n)===!1||(d=d&&T.synchronous,c.unshift(T.fulfilled,T.rejected))});const m=[];this.interceptors.response.forEach(function(T){m.push(T.fulfilled,T.rejected)});let y,b=0,E;if(!d){const O=[hN.bind(this),void 0];for(O.unshift.apply(O,c),O.push.apply(O,m),E=O.length,y=Promise.resolve(n);b<E;)y=y.then(O[b++],O[b++]);return y}E=c.length;let N=n;for(b=0;b<E;){const O=c[b++],T=c[b++];try{N=O(N)}catch(A){T.call(this,A);break}}try{y=hN.call(this,N)}catch(O){return Promise.reject(O)}for(b=0,E=m.length;b<E;)y=y.then(m[b++],m[b++]);return y}getUri(e){e=fc(this.defaults,e);const n=uq(e.baseURL,e.url);return sq(n,e.params,e.paramsSerializer)}};ze.forEach(["delete","get","head","options"],function(e){ac.prototype[e]=function(n,r){return this.request(fc(r||{},{method:e,url:n,data:(r||{}).data}))}});ze.forEach(["post","put","patch"],function(e){function n(r){return function(o,l,c){return this.request(fc(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}ac.prototype[e]=n(),ac.prototype[e+"Form"]=n(!0)});let B2=class gq{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const l=new Promise(c=>{r.subscribe(c),o=c}).then(i);return l.cancel=function(){r.unsubscribe(o)},l},e(function(o,l,c){r.reason||(r.reason=new Yu(o,l,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new gq(function(i){e=i}),cancel:e}}};function W2(t){return function(n){return t.apply(null,n)}}function z2(t){return ze.isObject(t)&&t.isAxiosError===!0}const qx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(qx).forEach(([t,e])=>{qx[e]=t});function yq(t){const e=new ac(t),n=QT(ac.prototype.request,e);return ze.extend(n,ac.prototype,e,{allOwnKeys:!0}),ze.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return yq(fc(t,i))},n}const Cr=yq(up);Cr.Axios=ac;Cr.CanceledError=Yu;Cr.CancelToken=B2;Cr.isCancel=lq;Cr.VERSION=mq;Cr.toFormData=iy;Cr.AxiosError=cn;Cr.Cancel=Cr.CanceledError;Cr.all=function(e){return Promise.all(e)};Cr.spread=W2;Cr.isAxiosError=z2;Cr.mergeConfig=fc;Cr.AxiosHeaders=Ui;Cr.formToJSON=t=>aq(ze.isHTMLForm(t)?new FormData(t):t);Cr.getAdapter=hq.getAdapter;Cr.HttpStatusCode=qx;Cr.default=Cr;const{Axios:dQ,AxiosError:U2,CanceledError:fQ,isCancel:pQ,CancelToken:hQ,VERSION:mQ,all:gQ,Cancel:yQ,isAxiosError:vQ,spread:bQ,toFormData:_Q,AxiosHeaders:xQ,HttpStatusCode:wQ,formToJSON:SQ,getAdapter:EQ,mergeConfig:kQ}=Cr,Aw=({error:t,schema:e,onError:n})=>{if(t instanceof U2){const i=e.safeParse(t.response?.data);return i.success&&n({error:t,data:i.data}),i.success}return!1};var Jb,gN;function V2(){if(gN)return Jb;gN=1;function t(r){this.queue=[],this.timeslotRequests=0,this.interceptors={request:null,response:null},this.handleRequest=this.handleRequest.bind(this),this.handleResponse=this.handleResponse.bind(this),this.enable(r)}t.prototype.getMaxRPS=function(){var r=this.perMilliseconds/1e3;return this.maxRequests/r},t.prototype.getQueue=function(){return this.queue},t.prototype.setMaxRPS=function(r){this.setRateLimitOptions({maxRequests:r,perMilliseconds:1e3})},t.prototype.setRateLimitOptions=function(r){r.maxRPS?this.setMaxRPS(r.maxRPS):(this.perMilliseconds=r.perMilliseconds,this.maxRequests=r.maxRequests)},t.prototype.enable=function(r){function i(o){return Promise.reject(o)}this.interceptors.request=r.interceptors.request.use(this.handleRequest,i),this.interceptors.response=r.interceptors.response.use(this.handleResponse,i)};function e(r){r.cancelToken&&r.cancelToken.throwIfRequested()}t.prototype.handleRequest=function(r){return new Promise(function(i,o){this.push({resolve:function(){try{e(r)}catch(l){return o(l),!1}return i(r),!0}})}.bind(this))},t.prototype.handleResponse=function(r){return this.shift(),r},t.prototype.push=function(r){this.queue.push(r),this.shiftInitial()},t.prototype.shiftInitial=function(){setTimeout(function(){return this.shift()}.bind(this),0)},t.prototype.shift=function(){if(this.queue.length){if(this.timeslotRequests===this.maxRequests){this.timeoutId&&typeof this.timeoutId.ref=="function"&&this.timeoutId.ref();return}var r=this.queue.shift(),i=r.resolve();if(this.timeslotRequests===0&&(this.timeoutId=setTimeout(function(){this.timeslotRequests=0,this.shift()}.bind(this),this.perMilliseconds),typeof this.timeoutId.unref=="function"&&this.queue.length===0&&this.timeoutId.unref()),!i){this.shift();return}this.timeslotRequests+=1}};function n(r,i){var o=new t(r);return o.setRateLimitOptions(i),r.getQueue=t.prototype.getQueue.bind(o),r.getMaxRPS=t.prototype.getMaxRPS.bind(o),r.setMaxRPS=t.prototype.setMaxRPS.bind(o),r.setRateLimitOptions=t.prototype.setRateLimitOptions.bind(o),r}return Jb=n,Jb}var H2=V2();const Q2=wa(H2),K2=({instance:t,limit:e}={})=>Q2(t||Cr,e||{maxRequests:5,perMilliseconds:100}),jw="-",G2=t=>{const e=Z2(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{const c=l.split(jw);return c[0]===""&&c.length!==1&&c.shift(),vq(c,e)||J2(l)},getConflictingClassGroupIds:(l,c)=>{const d=n[l]||[];return c&&r[l]?[...d,...r[l]]:d}}},vq=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?vq(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(jw);return e.validators.find(({validator:l})=>l(o))?.classGroupId},yN=/^\[(.+)\]$/,J2=t=>{if(yN.test(t)){const e=yN.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Z2=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return X2(Object.entries(t.classGroups),n).forEach(([o,l])=>{Cx(l,r,o,e)}),r},Cx=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:vN(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(Y2(i)){Cx(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,l])=>{Cx(l,vN(e,o),n,r)})})},vN=(t,e)=>{let n=t;return e.split(jw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Y2=t=>t.isThemeGetter,X2=(t,e)=>e?t.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([l,c])=>[e+l,c])):o);return[n,i]}):t,eM=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,l)=>{n.set(o,l),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let l=n.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return i(o,l),l},set(o,l){n.has(o)?n.set(o,l):i(o,l)}}},bq="!",tM=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],o=e.length,l=c=>{const d=[];let m=0,y=0,b;for(let A=0;A<c.length;A++){let L=c[A];if(m===0){if(L===i&&(r||c.slice(A,A+o)===e)){d.push(c.slice(y,A)),y=A+o;continue}if(L==="/"){b=A;continue}}L==="["?m++:L==="]"&&m--}const E=d.length===0?c:c.substring(y),N=E.startsWith(bq),O=N?E.substring(1):E,T=b&&b>y?b-y:void 0;return{modifiers:d,hasImportantModifier:N,baseClassName:O,maybePostfixModifierPosition:T}};return n?c=>n({className:c,parseClassName:l}):l},nM=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},rM=t=>({cache:eM(t.cacheSize),parseClassName:tM(t),...G2(t)}),iM=/\s+/,sM=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],l=t.trim().split(iM);let c="";for(let d=l.length-1;d>=0;d-=1){const m=l[d],{modifiers:y,hasImportantModifier:b,baseClassName:E,maybePostfixModifierPosition:N}=n(m);let O=!!N,T=r(O?E.substring(0,N):E);if(!T){if(!O){c=m+(c.length>0?" "+c:c);continue}if(T=r(E),!T){c=m+(c.length>0?" "+c:c);continue}O=!1}const A=nM(y).join(":"),L=b?A+bq:A,P=L+T;if(o.includes(P))continue;o.push(P);const B=i(T,O);for(let Q=0;Q<B.length;++Q){const J=B[Q];o.push(L+J)}c=m+(c.length>0?" "+c:c)}return c};function oM(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=_q(e))&&(r&&(r+=" "),r+=n);return r}const _q=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=_q(t[r]))&&(n&&(n+=" "),n+=e);return n};function aM(t,...e){let n,r,i,o=l;function l(d){const m=e.reduce((y,b)=>b(y),t());return n=rM(m),r=n.cache.get,i=n.cache.set,o=c,c(d)}function c(d){const m=r(d);if(m)return m;const y=sM(d,n);return i(d,y),y}return function(){return o(oM.apply(null,arguments))}}const er=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},xq=/^\[(?:([a-z-]+):)?(.+)\]$/i,lM=/^\d+\/\d+$/,cM=new Set(["px","full","screen"]),uM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,pM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,na=t=>wu(t)||cM.has(t)||lM.test(t),$a=t=>Xu(t,"length",wM),wu=t=>!!t&&!Number.isNaN(Number(t)),Zb=t=>Xu(t,"number",wu),Qd=t=>!!t&&Number.isInteger(Number(t)),mM=t=>t.endsWith("%")&&wu(t.slice(0,-1)),fn=t=>xq.test(t),Ba=t=>uM.test(t),gM=new Set(["length","size","percentage"]),yM=t=>Xu(t,gM,wq),vM=t=>Xu(t,"position",wq),bM=new Set(["image","url"]),_M=t=>Xu(t,bM,EM),xM=t=>Xu(t,"",SM),Kd=()=>!0,Xu=(t,e,n)=>{const r=xq.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},wM=t=>dM.test(t)&&!fM.test(t),wq=()=>!1,SM=t=>pM.test(t),EM=t=>hM.test(t),kM=()=>{const t=er("colors"),e=er("spacing"),n=er("blur"),r=er("brightness"),i=er("borderColor"),o=er("borderRadius"),l=er("borderSpacing"),c=er("borderWidth"),d=er("contrast"),m=er("grayscale"),y=er("hueRotate"),b=er("invert"),E=er("gap"),N=er("gradientColorStops"),O=er("gradientColorStopPositions"),T=er("inset"),A=er("margin"),L=er("opacity"),P=er("padding"),B=er("saturate"),Q=er("scale"),J=er("sepia"),W=er("skew"),G=er("space"),re=er("translate"),H=()=>["auto","contain","none"],te=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",fn,e],oe=()=>[fn,e],Y=()=>["",na,$a],fe=()=>["auto",wu,fn],Ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],qe=()=>["solid","dashed","dotted","double","none"],je=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ve=()=>["start","end","center","between","around","evenly","stretch"],pe=()=>["","0",fn],ke=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[wu,fn];return{cacheSize:500,separator:":",theme:{colors:[Kd],spacing:[na,$a],blur:["none","",Ba,fn],brightness:K(),borderColor:[t],borderRadius:["none","","full",Ba,fn],borderSpacing:oe(),borderWidth:Y(),contrast:K(),grayscale:pe(),hueRotate:K(),invert:pe(),gap:oe(),gradientColorStops:[t],gradientColorStopPositions:[mM,$a],inset:$(),margin:$(),opacity:K(),padding:oe(),saturate:K(),scale:K(),sepia:pe(),skew:K(),space:oe(),translate:oe()},classGroups:{aspect:[{aspect:["auto","square","video",fn]}],container:["container"],columns:[{columns:[Ba]}],"break-after":[{"break-after":ke()}],"break-before":[{"break-before":ke()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Ee(),fn]}],overflow:[{overflow:te()}],"overflow-x":[{"overflow-x":te()}],"overflow-y":[{"overflow-y":te()}],overscroll:[{overscroll:H()}],"overscroll-x":[{"overscroll-x":H()}],"overscroll-y":[{"overscroll-y":H()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[T]}],"inset-x":[{"inset-x":[T]}],"inset-y":[{"inset-y":[T]}],start:[{start:[T]}],end:[{end:[T]}],top:[{top:[T]}],right:[{right:[T]}],bottom:[{bottom:[T]}],left:[{left:[T]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Qd,fn]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",fn]}],grow:[{grow:pe()}],shrink:[{shrink:pe()}],order:[{order:["first","last","none",Qd,fn]}],"grid-cols":[{"grid-cols":[Kd]}],"col-start-end":[{col:["auto",{span:["full",Qd,fn]},fn]}],"col-start":[{"col-start":fe()}],"col-end":[{"col-end":fe()}],"grid-rows":[{"grid-rows":[Kd]}],"row-start-end":[{row:["auto",{span:[Qd,fn]},fn]}],"row-start":[{"row-start":fe()}],"row-end":[{"row-end":fe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",fn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",fn]}],gap:[{gap:[E]}],"gap-x":[{"gap-x":[E]}],"gap-y":[{"gap-y":[E]}],"justify-content":[{justify:["normal",...ve()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ve(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ve(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[P]}],px:[{px:[P]}],py:[{py:[P]}],ps:[{ps:[P]}],pe:[{pe:[P]}],pt:[{pt:[P]}],pr:[{pr:[P]}],pb:[{pb:[P]}],pl:[{pl:[P]}],m:[{m:[A]}],mx:[{mx:[A]}],my:[{my:[A]}],ms:[{ms:[A]}],me:[{me:[A]}],mt:[{mt:[A]}],mr:[{mr:[A]}],mb:[{mb:[A]}],ml:[{ml:[A]}],"space-x":[{"space-x":[G]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[G]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",fn,e]}],"min-w":[{"min-w":[fn,e,"min","max","fit"]}],"max-w":[{"max-w":[fn,e,"none","full","min","max","fit","prose",{screen:[Ba]},Ba]}],h:[{h:[fn,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[fn,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[fn,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[fn,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ba,$a]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Zb]}],"font-family":[{font:[Kd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",fn]}],"line-clamp":[{"line-clamp":["none",wu,Zb]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",na,fn]}],"list-image":[{"list-image":["none",fn]}],"list-style-type":[{list:["none","disc","decimal",fn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[L]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[L]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...qe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",na,$a]}],"underline-offset":[{"underline-offset":["auto",na,fn]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:oe()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[L]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Ee(),vM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",yM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},_M]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[O]}],"gradient-via-pos":[{via:[O]}],"gradient-to-pos":[{to:[O]}],"gradient-from":[{from:[N]}],"gradient-via":[{via:[N]}],"gradient-to":[{to:[N]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[L]}],"border-style":[{border:[...qe(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[L]}],"divide-style":[{divide:qe()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...qe()]}],"outline-offset":[{"outline-offset":[na,fn]}],"outline-w":[{outline:[na,$a]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[L]}],"ring-offset-w":[{"ring-offset":[na,$a]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ba,xM]}],"shadow-color":[{shadow:[Kd]}],opacity:[{opacity:[L]}],"mix-blend":[{"mix-blend":[...je(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":je()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Ba,fn]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[b]}],saturate:[{saturate:[B]}],sepia:[{sepia:[J]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[b]}],"backdrop-opacity":[{"backdrop-opacity":[L]}],"backdrop-saturate":[{"backdrop-saturate":[B]}],"backdrop-sepia":[{"backdrop-sepia":[J]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",fn]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",fn]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",fn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[Q]}],"scale-x":[{"scale-x":[Q]}],"scale-y":[{"scale-y":[Q]}],rotate:[{rotate:[Qd,fn]}],"translate-x":[{"translate-x":[re]}],"translate-y":[{"translate-y":[re]}],"skew-x":[{"skew-x":[W]}],"skew-y":[{"skew-y":[W]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",fn]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fn]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":oe()}],"scroll-mx":[{"scroll-mx":oe()}],"scroll-my":[{"scroll-my":oe()}],"scroll-ms":[{"scroll-ms":oe()}],"scroll-me":[{"scroll-me":oe()}],"scroll-mt":[{"scroll-mt":oe()}],"scroll-mr":[{"scroll-mr":oe()}],"scroll-mb":[{"scroll-mb":oe()}],"scroll-ml":[{"scroll-ml":oe()}],"scroll-p":[{"scroll-p":oe()}],"scroll-px":[{"scroll-px":oe()}],"scroll-py":[{"scroll-py":oe()}],"scroll-ps":[{"scroll-ps":oe()}],"scroll-pe":[{"scroll-pe":oe()}],"scroll-pt":[{"scroll-pt":oe()}],"scroll-pr":[{"scroll-pr":oe()}],"scroll-pb":[{"scroll-pb":oe()}],"scroll-pl":[{"scroll-pl":oe()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fn]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[na,$a,Zb]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Sq=aM(kM),Rx=new Proxy(()=>Rx,{get:()=>Rx});function yn({use:t,slot:e,variant:n,match:r=[],defaults:i}){return({css:o,...l}={})=>({slots:new Proxy({},{get:(c,d)=>({css:m,...y}={})=>{const b=[],E=t,N={...E?.()?.config.defaults,...i,...l,...y};b.push(E?.(N)?.slots[d]?.(N)),b.push(Array.isArray(e[d])?e[d]:[e[d]]);for(const[O,T]of Object.entries(N)){const A=n[O]?.[T];A&&b.push(A)}for(const O of r)Object.entries(O.if).every(([T,A])=>A===N[T])&&b.push(O.then?.[d]);return b.push(o?.[d]),b.push(m),Sq(b)}}),config:{defaults:{...t?.()?.config.defaults,...i},values:{...t?.()?.config.defaults,...i,...l}},type:Rx()})}const ay=Sq;var Yb,bN;function NM(){return bN||(bN=1,Yb=Object),Yb}var Xb,_N;function IM(){return _N||(_N=1,Xb=Error),Xb}var e_,xN;function OM(){return xN||(xN=1,e_=EvalError),e_}var t_,wN;function TM(){return wN||(wN=1,t_=RangeError),t_}var n_,SN;function qM(){return SN||(SN=1,n_=ReferenceError),n_}var r_,EN;function CM(){return EN||(EN=1,r_=SyntaxError),r_}var i_,kN;function Eq(){return kN||(kN=1,i_=TypeError),i_}var s_,NN;function RM(){return NN||(NN=1,s_=URIError),s_}var o_,IN;function AM(){return IN||(IN=1,o_=Math.abs),o_}var a_,ON;function jM(){return ON||(ON=1,a_=Math.floor),a_}var l_,TN;function PM(){return TN||(TN=1,l_=Math.max),l_}var c_,qN;function FM(){return qN||(qN=1,c_=Math.min),c_}var u_,CN;function LM(){return CN||(CN=1,u_=Math.pow),u_}var d_,RN;function DM(){return RN||(RN=1,d_=Object.getOwnPropertyDescriptor),d_}var f_,AN;function kq(){if(AN)return f_;AN=1;var t=DM();if(t)try{t([],"length")}catch{t=null}return f_=t,f_}var p_,jN;function MM(){if(jN)return p_;jN=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return p_=t,p_}var h_,PN;function Nq(){return PN||(PN=1,h_=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[n]=i;for(var o in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var l=Object.getOwnPropertySymbols(e);if(l.length!==1||l[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(e,n);if(c.value!==i||c.enumerable!==!0)return!1}return!0}),h_}var m_,FN;function $M(){if(FN)return m_;FN=1;var t=typeof Symbol<"u"&&Symbol,e=Nq();return m_=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},m_}var g_,LN;function BM(){if(LN)return g_;LN=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,n=Math.max,r="[object Function]",i=function(d,m){for(var y=[],b=0;b<d.length;b+=1)y[b]=d[b];for(var E=0;E<m.length;E+=1)y[E+d.length]=m[E];return y},o=function(d,m){for(var y=[],b=m,E=0;b<d.length;b+=1,E+=1)y[E]=d[b];return y},l=function(c,d){for(var m="",y=0;y<c.length;y+=1)m+=c[y],y+1<c.length&&(m+=d);return m};return g_=function(d){var m=this;if(typeof m!="function"||e.apply(m)!==r)throw new TypeError(t+m);for(var y=o(arguments,1),b,E=function(){if(this instanceof b){var L=m.apply(this,i(y,arguments));return Object(L)===L?L:this}return m.apply(d,i(y,arguments))},N=n(0,m.length-y.length),O=[],T=0;T<N;T++)O[T]="$"+T;if(b=Function("binder","return function ("+l(O,",")+"){ return binder.apply(this,arguments); }")(E),m.prototype){var A=function(){};A.prototype=m.prototype,b.prototype=new A,A.prototype=null}return b},g_}var y_,DN;function ly(){if(DN)return y_;DN=1;var t=BM();return y_=Function.prototype.bind||t,y_}var v_,MN;function Pw(){return MN||(MN=1,v_=Function.prototype.call),v_}var b_,$N;function Iq(){return $N||($N=1,b_=Function.prototype.apply),b_}var __,BN;function WM(){return BN||(BN=1,__=typeof Reflect<"u"&&Reflect&&Reflect.apply),__}var x_,WN;function zM(){if(WN)return x_;WN=1;var t=ly(),e=Iq(),n=Pw(),r=WM();return x_=r||t.call(n,e),x_}var w_,zN;function Oq(){if(zN)return w_;zN=1;var t=ly(),e=Eq(),n=Pw(),r=zM();return w_=function(o){if(o.length<1||typeof o[0]!="function")throw new e("a function is required");return r(t,n,o)},w_}var S_,UN;function UM(){if(UN)return S_;UN=1;var t=Oq(),e=kq(),n;try{n=[].__proto__===Array.prototype}catch(l){if(!l||typeof l!="object"||!("code"in l)||l.code!=="ERR_PROTO_ACCESS")throw l}var r=!!n&&e&&e(Object.prototype,"__proto__"),i=Object,o=i.getPrototypeOf;return S_=r&&typeof r.get=="function"?t([r.get]):typeof o=="function"?function(c){return o(c==null?c:i(c))}:!1,S_}var E_,VN;function VM(){if(VN)return E_;VN=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,n=ly();return E_=n.call(t,e),E_}var k_,HN;function HM(){if(HN)return k_;HN=1;var t,e=NM(),n=IM(),r=OM(),i=TM(),o=qM(),l=CM(),c=Eq(),d=RM(),m=AM(),y=jM(),b=PM(),E=FM(),N=LM(),O=Function,T=function(dt){try{return O('"use strict"; return ('+dt+").constructor;")()}catch{}},A=kq(),L=MM(),P=function(){throw new c},B=A?function(){try{return arguments.callee,P}catch{try{return A(arguments,"callee").get}catch{return P}}}():P,Q=$M()(),J=UM(),W=typeof Reflect=="function"&&Reflect.getPrototypeOf||e.getPrototypeOf||J,G=Iq(),re=Pw(),H={},te=typeof Uint8Array>"u"||!W?t:W(Uint8Array),$={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":Q&&W?W([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":H,"%AsyncGenerator%":H,"%AsyncGeneratorFunction%":H,"%AsyncIteratorPrototype%":H,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":r,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":O,"%GeneratorFunction%":H,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Q&&W?W(W([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Q||!W?t:W(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":A,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":i,"%ReferenceError%":o,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Q||!W?t:W(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Q&&W?W(""[Symbol.iterator]()):t,"%Symbol%":Q?Symbol:t,"%SyntaxError%":l,"%ThrowTypeError%":B,"%TypedArray%":te,"%TypeError%":c,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":d,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":re,"%Function.prototype.apply%":G,"%Object.defineProperty%":L,"%Math.abs%":m,"%Math.floor%":y,"%Math.max%":b,"%Math.min%":E,"%Math.pow%":N};if(W)try{null.error}catch(dt){var oe=W(W(dt));$["%Error.prototype%"]=oe}var Y=function dt(pt){var vt;if(pt==="%AsyncFunction%")vt=T("async function () {}");else if(pt==="%GeneratorFunction%")vt=T("function* () {}");else if(pt==="%AsyncGeneratorFunction%")vt=T("async function* () {}");else if(pt==="%AsyncGenerator%"){var At=dt("%AsyncGeneratorFunction%");At&&(vt=At.prototype)}else if(pt==="%AsyncIteratorPrototype%"){var mt=dt("%AsyncGenerator%");mt&&W&&(vt=W(mt.prototype))}return $[pt]=vt,vt},fe={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ee=ly(),qe=VM(),je=Ee.call(re,Array.prototype.concat),ve=Ee.call(G,Array.prototype.splice),pe=Ee.call(re,String.prototype.replace),ke=Ee.call(re,String.prototype.slice),K=Ee.call(re,RegExp.prototype.exec),xe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ut=/\\(\\)?/g,at=function(pt){var vt=ke(pt,0,1),At=ke(pt,-1);if(vt==="%"&&At!=="%")throw new l("invalid intrinsic syntax, expected closing `%`");if(At==="%"&&vt!=="%")throw new l("invalid intrinsic syntax, expected opening `%`");var mt=[];return pe(pt,xe,function(ht,kt,Nt,Zt){mt[mt.length]=Nt?pe(Zt,ut,"$1"):kt||ht}),mt},ft=function(pt,vt){var At=pt,mt;if(qe(fe,At)&&(mt=fe[At],At="%"+mt[0]+"%"),qe($,At)){var ht=$[At];if(ht===H&&(ht=Y(At)),typeof ht>"u"&&!vt)throw new c("intrinsic "+pt+" exists, but is not available. Please file an issue!");return{alias:mt,name:At,value:ht}}throw new l("intrinsic "+pt+" does not exist!")};return k_=function(pt,vt){if(typeof pt!="string"||pt.length===0)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof vt!="boolean")throw new c('"allowMissing" argument must be a boolean');if(K(/^%?[^%]*%?$/,pt)===null)throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var At=at(pt),mt=At.length>0?At[0]:"",ht=ft("%"+mt+"%",vt),kt=ht.name,Nt=ht.value,Zt=!1,Kt=ht.alias;Kt&&(mt=Kt[0],ve(At,je([0,1],Kt)));for(var rn=1,dn=!0;rn<At.length;rn+=1){var le=At[rn],ue=ke(le,0,1),ye=ke(le,-1);if((ue==='"'||ue==="'"||ue==="`"||ye==='"'||ye==="'"||ye==="`")&&ue!==ye)throw new l("property names with quotes must have matching quotes");if((le==="constructor"||!dn)&&(Zt=!0),mt+="."+le,kt="%"+mt+"%",qe($,kt))Nt=$[kt];else if(Nt!=null){if(!(le in Nt)){if(!vt)throw new c("base intrinsic for "+pt+" exists, but the property is not available.");return}if(A&&rn+1>=At.length){var Ce=A(Nt,le);dn=!!Ce,dn&&"get"in Ce&&!("originalValue"in Ce.get)?Nt=Ce.get:Nt=Nt[le]}else dn=qe(Nt,le),Nt=Nt[le];dn&&!Zt&&($[kt]=Nt)}}return Nt},k_}var N_,QN;function QM(){if(QN)return N_;QN=1;var t=HM(),e=Oq(),n=e([t("%String.prototype.indexOf%")]);return N_=function(i,o){var l=t(i,!!o);return typeof l=="function"&&n(i,".prototype.")>-1?e([l]):l},N_}var I_,KN;function KM(){if(KN)return I_;KN=1;var t=Nq();return I_=function(){return t()&&!!Symbol.toStringTag},I_}var O_,GN;function GM(){if(GN)return O_;GN=1;var t=QM(),e=t("String.prototype.valueOf"),n=function(c){try{return e(c),!0}catch{return!1}},r=t("Object.prototype.toString"),i="[object String]",o=KM()();return O_=function(c){return typeof c=="string"?!0:!c||typeof c!="object"?!1:o?n(c):r(c)===i},O_}var JM=GM();const ZM=wa(JM),dp=t=>ZM(t),YM=(t,e,n={})=>{const r=[];return t.filter((o,l)=>{const c=n.regionLowerCase?o.toLowerCase():o;if(e.includes(c))return r.push({index:l,appLocale:c}),!0;const{isAvailable:d,appLocale:m}=XM(c,e,n);return d&&r.push({index:l,appLocale:n.regionLowerCase?m.toLowerCase():m}),d}).map((o,l)=>!r||r.length===0?o:r[l]?.appLocale)},XM=(t,e,n={})=>{n?.languageOnly||(n.languageOnly=!1);let r=t;return{isAvailable:e.some(o=>{if(!Em()&&!n.languageOnly&&t.split("-")[1]===void 0)return!1;const l=Em()?new Intl.Locale(t).minimize().language:t.split("-")[0],c=Em()?new Intl.Locale(o).minimize().language:o.split("-")[0],d=l===c;return d&&(r=o),d}),appLocale:r}},e$=(t={})=>{t?.regionLowerCase||(t.regionLowerCase=!1);let e=[];return Intl&&"DateTimeFormat"in Intl?e=[Intl.DateTimeFormat().resolvedOptions().locale]:typeof window=="object"&&window?.navigator?.languages&&(e=[...window.navigator.languages]),e.map(n=>t.regionLowerCase?n.toLowerCase():n)},Em=()=>Intl&&"Locale"in Intl,t$=(t,e={})=>{e?.regionLowerCase||(e.regionLowerCase=!1),e?.languageOnly||(e.languageOnly=!1);const n=t.map(r=>{const i=r.split("-");if(e.languageOnly)return i[0];const o=Em()?new Intl.Locale(r).maximize():{language:i[0],script:i.length===3?i[1]:void 0,region:i.length===3?i[2]:i[1]},{language:l,script:c}=o;let{region:d}=o;return e.regionLowerCase&&d&&(d=d.toLowerCase()),i.length>2?`${l}-${c}-${d}`:d?`${l}-${d}`:l});return[...new Set(n)]},n$=(t,e,n={})=>{n.regionLowerCase||(n.regionLowerCase=!1),n.languageOnly||(n.languageOnly=!1);const r=e$(n),i=t$([...r,t],n);return YM(i,e,n)[0]||t},r$=({available:t,fallback:e})=>n$(e,t,{languageOnly:!0});var T_={exports:{}};const i$={},s$=Object.freeze(Object.defineProperty({__proto__:null,default:i$},Symbol.toStringTag,{value:"Module"})),JN=TA(s$);var ZN;function o$(){return ZN||(ZN=1,function(t){(function(){var e="input is invalid type",n=typeof window=="object",r=n?window:{};r.JS_SHA256_NO_WINDOW&&(n=!1);var i=!n&&typeof self=="object",o=!r.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?r=Xl:i&&(r=self);var l=!r.JS_SHA256_NO_COMMON_JS&&!0&&t.exports,c=!r.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",d="0123456789abcdef".split(""),m=[-0x80000000,8388608,32768,128],y=[24,16,8,0],b=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2],E=["hex","array","digest","arrayBuffer"],N=[];(r.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(W){return Object.prototype.toString.call(W)==="[object Array]"}),c&&(r.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(W){return typeof W=="object"&&W.buffer&&W.buffer.constructor===ArrayBuffer});var O=function(W,G){return function(re){return new B(G,!0).update(re)[W]()}},T=function(W){var G=O("hex",W);o&&(G=A(G,W)),G.create=function(){return new B(W)},G.update=function(te){return G.create().update(te)};for(var re=0;re<E.length;++re){var H=E[re];G[H]=O(H,W)}return G},A=function(W,G){var re=JN,H=JN.Buffer,te=G?"sha224":"sha256",$;H.from&&!r.JS_SHA256_NO_BUFFER_FROM?$=H.from:$=function(Y){return new H(Y)};var oe=function(Y){if(typeof Y=="string")return re.createHash(te).update(Y,"utf8").digest("hex");if(Y==null)throw new Error(e);return Y.constructor===ArrayBuffer&&(Y=new Uint8Array(Y)),Array.isArray(Y)||ArrayBuffer.isView(Y)||Y.constructor===H?re.createHash(te).update($(Y)).digest("hex"):W(Y)};return oe},L=function(W,G){return function(re,H){return new Q(re,G,!0).update(H)[W]()}},P=function(W){var G=L("hex",W);G.create=function(te){return new Q(te,W)},G.update=function(te,$){return G.create(te).update($)};for(var re=0;re<E.length;++re){var H=E[re];G[H]=L(H,W)}return G};function B(W,G){G?(N[0]=N[16]=N[1]=N[2]=N[3]=N[4]=N[5]=N[6]=N[7]=N[8]=N[9]=N[10]=N[11]=N[12]=N[13]=N[14]=N[15]=0,this.blocks=N):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],W?(this.h0=0xc1059ed8,this.h1=0x367cd507,this.h2=0x3070dd17,this.h3=0xf70e5939,this.h4=0xffc00b31,this.h5=0x68581511,this.h6=0x64f98fa7,this.h7=0xbefa4fa4):(this.h0=0x6a09e667,this.h1=0xbb67ae85,this.h2=0x3c6ef372,this.h3=0xa54ff53a,this.h4=0x510e527f,this.h5=0x9b05688c,this.h6=0x1f83d9ab,this.h7=0x5be0cd19),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=W}B.prototype.update=function(W){if(!this.finalized){var G,re=typeof W;if(re!=="string"){if(re==="object"){if(W===null)throw new Error(e);if(c&&W.constructor===ArrayBuffer)W=new Uint8Array(W);else if(!Array.isArray(W)&&(!c||!ArrayBuffer.isView(W)))throw new Error(e)}else throw new Error(e);G=!0}for(var H,te=0,$,oe=W.length,Y=this.blocks;te<oe;){if(this.hashed&&(this.hashed=!1,Y[0]=this.block,this.block=Y[16]=Y[1]=Y[2]=Y[3]=Y[4]=Y[5]=Y[6]=Y[7]=Y[8]=Y[9]=Y[10]=Y[11]=Y[12]=Y[13]=Y[14]=Y[15]=0),G)for($=this.start;te<oe&&$<64;++te)Y[$>>>2]|=W[te]<<y[$++&3];else for($=this.start;te<oe&&$<64;++te)H=W.charCodeAt(te),H<128?Y[$>>>2]|=H<<y[$++&3]:H<2048?(Y[$>>>2]|=(192|H>>>6)<<y[$++&3],Y[$>>>2]|=(128|H&63)<<y[$++&3]):H<55296||H>=57344?(Y[$>>>2]|=(224|H>>>12)<<y[$++&3],Y[$>>>2]|=(128|H>>>6&63)<<y[$++&3],Y[$>>>2]|=(128|H&63)<<y[$++&3]):(H=65536+((H&1023)<<10|W.charCodeAt(++te)&1023),Y[$>>>2]|=(240|H>>>18)<<y[$++&3],Y[$>>>2]|=(128|H>>>12&63)<<y[$++&3],Y[$>>>2]|=(128|H>>>6&63)<<y[$++&3],Y[$>>>2]|=(128|H&63)<<y[$++&3]);this.lastByteIndex=$,this.bytes+=$-this.start,$>=64?(this.block=Y[16],this.start=$-64,this.hash(),this.hashed=!0):this.start=$}return this.bytes>0xffffffff&&(this.hBytes+=this.bytes/0x100000000<<0,this.bytes=this.bytes%0x100000000),this}},B.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var W=this.blocks,G=this.lastByteIndex;W[16]=this.block,W[G>>>2]|=m[G&3],this.block=W[16],G>=56&&(this.hashed||this.hash(),W[0]=this.block,W[16]=W[1]=W[2]=W[3]=W[4]=W[5]=W[6]=W[7]=W[8]=W[9]=W[10]=W[11]=W[12]=W[13]=W[14]=W[15]=0),W[14]=this.hBytes<<3|this.bytes>>>29,W[15]=this.bytes<<3,this.hash()}},B.prototype.hash=function(){var W=this.h0,G=this.h1,re=this.h2,H=this.h3,te=this.h4,$=this.h5,oe=this.h6,Y=this.h7,fe=this.blocks,Ee,qe,je,ve,pe,ke,K,xe,ut,at,ft;for(Ee=16;Ee<64;++Ee)pe=fe[Ee-15],qe=(pe>>>7|pe<<25)^(pe>>>18|pe<<14)^pe>>>3,pe=fe[Ee-2],je=(pe>>>17|pe<<15)^(pe>>>19|pe<<13)^pe>>>10,fe[Ee]=fe[Ee-16]+qe+fe[Ee-7]+je<<0;for(ft=G&re,Ee=0;Ee<64;Ee+=4)this.first?(this.is224?(xe=300032,pe=fe[0]-0x543c9a5b,Y=pe-0x8f1a6c7<<0,H=pe+0x170e9b5<<0):(xe=0x2a01a605,pe=fe[0]-0xc881298,Y=pe-0x5ab00ac6<<0,H=pe+0x8909ae5<<0),this.first=!1):(qe=(W>>>2|W<<30)^(W>>>13|W<<19)^(W>>>22|W<<10),je=(te>>>6|te<<26)^(te>>>11|te<<21)^(te>>>25|te<<7),xe=W&G,ve=xe^W&re^ft,K=te&$^~te&oe,pe=Y+je+K+b[Ee]+fe[Ee],ke=qe+ve,Y=H+pe<<0,H=pe+ke<<0),qe=(H>>>2|H<<30)^(H>>>13|H<<19)^(H>>>22|H<<10),je=(Y>>>6|Y<<26)^(Y>>>11|Y<<21)^(Y>>>25|Y<<7),ut=H&W,ve=ut^H&G^xe,K=Y&te^~Y&$,pe=oe+je+K+b[Ee+1]+fe[Ee+1],ke=qe+ve,oe=re+pe<<0,re=pe+ke<<0,qe=(re>>>2|re<<30)^(re>>>13|re<<19)^(re>>>22|re<<10),je=(oe>>>6|oe<<26)^(oe>>>11|oe<<21)^(oe>>>25|oe<<7),at=re&H,ve=at^re&W^ut,K=oe&Y^~oe&te,pe=$+je+K+b[Ee+2]+fe[Ee+2],ke=qe+ve,$=G+pe<<0,G=pe+ke<<0,qe=(G>>>2|G<<30)^(G>>>13|G<<19)^(G>>>22|G<<10),je=($>>>6|$<<26)^($>>>11|$<<21)^($>>>25|$<<7),ft=G&re,ve=ft^G&H^at,K=$&oe^~$&Y,pe=te+je+K+b[Ee+3]+fe[Ee+3],ke=qe+ve,te=W+pe<<0,W=pe+ke<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+W<<0,this.h1=this.h1+G<<0,this.h2=this.h2+re<<0,this.h3=this.h3+H<<0,this.h4=this.h4+te<<0,this.h5=this.h5+$<<0,this.h6=this.h6+oe<<0,this.h7=this.h7+Y<<0},B.prototype.hex=function(){this.finalize();var W=this.h0,G=this.h1,re=this.h2,H=this.h3,te=this.h4,$=this.h5,oe=this.h6,Y=this.h7,fe=d[W>>>28&15]+d[W>>>24&15]+d[W>>>20&15]+d[W>>>16&15]+d[W>>>12&15]+d[W>>>8&15]+d[W>>>4&15]+d[W&15]+d[G>>>28&15]+d[G>>>24&15]+d[G>>>20&15]+d[G>>>16&15]+d[G>>>12&15]+d[G>>>8&15]+d[G>>>4&15]+d[G&15]+d[re>>>28&15]+d[re>>>24&15]+d[re>>>20&15]+d[re>>>16&15]+d[re>>>12&15]+d[re>>>8&15]+d[re>>>4&15]+d[re&15]+d[H>>>28&15]+d[H>>>24&15]+d[H>>>20&15]+d[H>>>16&15]+d[H>>>12&15]+d[H>>>8&15]+d[H>>>4&15]+d[H&15]+d[te>>>28&15]+d[te>>>24&15]+d[te>>>20&15]+d[te>>>16&15]+d[te>>>12&15]+d[te>>>8&15]+d[te>>>4&15]+d[te&15]+d[$>>>28&15]+d[$>>>24&15]+d[$>>>20&15]+d[$>>>16&15]+d[$>>>12&15]+d[$>>>8&15]+d[$>>>4&15]+d[$&15]+d[oe>>>28&15]+d[oe>>>24&15]+d[oe>>>20&15]+d[oe>>>16&15]+d[oe>>>12&15]+d[oe>>>8&15]+d[oe>>>4&15]+d[oe&15];return this.is224||(fe+=d[Y>>>28&15]+d[Y>>>24&15]+d[Y>>>20&15]+d[Y>>>16&15]+d[Y>>>12&15]+d[Y>>>8&15]+d[Y>>>4&15]+d[Y&15]),fe},B.prototype.toString=B.prototype.hex,B.prototype.digest=function(){this.finalize();var W=this.h0,G=this.h1,re=this.h2,H=this.h3,te=this.h4,$=this.h5,oe=this.h6,Y=this.h7,fe=[W>>>24&255,W>>>16&255,W>>>8&255,W&255,G>>>24&255,G>>>16&255,G>>>8&255,G&255,re>>>24&255,re>>>16&255,re>>>8&255,re&255,H>>>24&255,H>>>16&255,H>>>8&255,H&255,te>>>24&255,te>>>16&255,te>>>8&255,te&255,$>>>24&255,$>>>16&255,$>>>8&255,$&255,oe>>>24&255,oe>>>16&255,oe>>>8&255,oe&255];return this.is224||fe.push(Y>>>24&255,Y>>>16&255,Y>>>8&255,Y&255),fe},B.prototype.array=B.prototype.digest,B.prototype.arrayBuffer=function(){this.finalize();var W=new ArrayBuffer(this.is224?28:32),G=new DataView(W);return G.setUint32(0,this.h0),G.setUint32(4,this.h1),G.setUint32(8,this.h2),G.setUint32(12,this.h3),G.setUint32(16,this.h4),G.setUint32(20,this.h5),G.setUint32(24,this.h6),this.is224||G.setUint32(28,this.h7),W};function Q(W,G,re){var H,te=typeof W;if(te==="string"){var $=[],oe=W.length,Y=0,fe;for(H=0;H<oe;++H)fe=W.charCodeAt(H),fe<128?$[Y++]=fe:fe<2048?($[Y++]=192|fe>>>6,$[Y++]=128|fe&63):fe<55296||fe>=57344?($[Y++]=224|fe>>>12,$[Y++]=128|fe>>>6&63,$[Y++]=128|fe&63):(fe=65536+((fe&1023)<<10|W.charCodeAt(++H)&1023),$[Y++]=240|fe>>>18,$[Y++]=128|fe>>>12&63,$[Y++]=128|fe>>>6&63,$[Y++]=128|fe&63);W=$}else if(te==="object"){if(W===null)throw new Error(e);if(c&&W.constructor===ArrayBuffer)W=new Uint8Array(W);else if(!Array.isArray(W)&&(!c||!ArrayBuffer.isView(W)))throw new Error(e)}else throw new Error(e);W.length>64&&(W=new B(G,!0).update(W).array());var Ee=[],qe=[];for(H=0;H<64;++H){var je=W[H]||0;Ee[H]=92^je,qe[H]=54^je}B.call(this,G,re),this.update(qe),this.oKeyPad=Ee,this.inner=!0,this.sharedMemory=re}Q.prototype=new B,Q.prototype.finalize=function(){if(B.prototype.finalize.call(this),this.inner){this.inner=!1;var W=this.array();B.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(W),B.prototype.finalize.call(this)}};var J=T();J.sha256=J,J.sha224=T(!0),J.sha256.hmac=P(),J.sha224.hmac=P(!0),l?t.exports=J:(r.sha256=J.sha256,r.sha224=J.sha224)})()}(T_)),T_.exports}var Ax=o$();const a$=Ax.sha224,Tq=({index:t,key:e,fallback:n})=>t[a$(e)]?.value??t[e]?.value??n??e,l$=({index:t,key:e,fallback:n})=>Tq({index:t,key:e,fallback:n}),c$=({index:t,key:e,fallback:n})=>Tq({index:t,key:e,fallback:n}),bn={index:{},push(t){this.index={...this.index,...t}},text:(t,e)=>l$({index:bn.index,key:t,fallback:e}),rich:(t,e)=>c$({index:bn.index,key:t,fallback:e})},qq={hash(t){return Ax.sha224(t)},verify(t,e){return Ax.sha224(t)===e}};var _n;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const o={};for(const l of i)o[l]=l;return o},t.getValidEnumValues=i=>{const o=t.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),l={};for(const c of o)l[c]=i[c];return t.objectValues(l)},t.objectValues=i=>t.objectKeys(i).map(function(o){return i[o]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&o.push(l);return o},t.find=(i,o)=>{for(const l of i)if(o(l))return l},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(l=>typeof l=="string"?`'${l}'`:l).join(o)}t.joinValues=r,t.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(_n||(_n={}));var jx;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(jx||(jx={}));const qt=_n.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ca=t=>{switch(typeof t){case"undefined":return qt.undefined;case"string":return qt.string;case"number":return isNaN(t)?qt.nan:qt.number;case"boolean":return qt.boolean;case"function":return qt.function;case"bigint":return qt.bigint;case"symbol":return qt.symbol;case"object":return Array.isArray(t)?qt.array:t===null?qt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?qt.promise:typeof Map<"u"&&t instanceof Map?qt.map:typeof Set<"u"&&t instanceof Set?qt.set:typeof Date<"u"&&t instanceof Date?qt.date:qt.object;default:return qt.unknown}},ot=_n.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),u$=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class ds extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(o){return o.message},r={_errors:[]},i=o=>{for(const l of o.issues)if(l.code==="invalid_union")l.unionErrors.map(i);else if(l.code==="invalid_return_type")i(l.returnTypeError);else if(l.code==="invalid_arguments")i(l.argumentsError);else if(l.path.length===0)r._errors.push(n(l));else{let c=r,d=0;for(;d<l.path.length;){const m=l.path[d];d===l.path.length-1?(c[m]=c[m]||{_errors:[]},c[m]._errors.push(n(l))):c[m]=c[m]||{_errors:[]},c=c[m],d++}}};return i(this),r}static assert(e){if(!(e instanceof ds))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,_n.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}ds.create=t=>new ds(t);const Fu=(t,e)=>{let n;switch(t.code){case ot.invalid_type:t.received===qt.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case ot.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,_n.jsonStringifyReplacer)}`;break;case ot.unrecognized_keys:n=`Unrecognized key(s) in object: ${_n.joinValues(t.keys,", ")}`;break;case ot.invalid_union:n="Invalid input";break;case ot.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${_n.joinValues(t.options)}`;break;case ot.invalid_enum_value:n=`Invalid enum value. Expected ${_n.joinValues(t.options)}, received '${t.received}'`;break;case ot.invalid_arguments:n="Invalid function arguments";break;case ot.invalid_return_type:n="Invalid function return type";break;case ot.invalid_date:n="Invalid date";break;case ot.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:_n.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case ot.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case ot.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case ot.custom:n="Invalid input";break;case ot.invalid_intersection_types:n="Intersection results could not be merged";break;case ot.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case ot.not_finite:n="Number must be finite";break;default:n=e.defaultError,_n.assertNever(t)}return{message:n}};let Cq=Fu;function d$(t){Cq=t}function ag(){return Cq}const lg=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,o=[...n,...i.path||[]],l={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let c="";const d=r.filter(m=>!!m).slice().reverse();for(const m of d)c=m(l,{data:e,defaultError:c}).message;return{...i,path:o,message:c}},f$=[];function St(t,e){const n=ag(),r=lg({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Fu?void 0:Fu].filter(i=>!!i)});t.common.issues.push(r)}class hi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Yt;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const o=await i.key,l=await i.value;r.push({key:o,value:l})}return hi.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:o,value:l}=i;if(o.status==="aborted"||l.status==="aborted")return Yt;o.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof l.value<"u"||i.alwaysSet)&&(r[o.value]=l.value)}return{status:e.value,value:r}}}const Yt=Object.freeze({status:"aborted"}),pu=t=>({status:"dirty",value:t}),Ti=t=>({status:"valid",value:t}),Px=t=>t.status==="aborted",Fx=t=>t.status==="dirty",pc=t=>t.status==="valid",qf=t=>typeof Promise<"u"&&t instanceof Promise;function cg(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Rq(t,e,n,r,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var $t;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})($t||($t={}));var nf,rf;class Po{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const YN=(t,e)=>{if(pc(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ds(t.common.issues);return this._error=n,this._error}}};function un(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(l,c)=>{var d,m;const{message:y}=t;return l.code==="invalid_enum_value"?{message:y??c.defaultError}:typeof c.data>"u"?{message:(d=y??r)!==null&&d!==void 0?d:c.defaultError}:l.code!=="invalid_type"?{message:c.defaultError}:{message:(m=y??n)!==null&&m!==void 0?m:c.defaultError}},description:i}}class gn{get description(){return this._def.description}_getType(e){return ca(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:ca(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new hi,ctx:{common:e.parent.common,data:e.data,parsedType:ca(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(qf(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ca(e)},o=this._parseSync({data:e,path:i.path,parent:i});return YN(i,o)}"~validate"(e){var n,r;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ca(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:i});return pc(o)?{value:o.value}:{issues:i.common.issues}}catch(o){!((r=(n=o?.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(o=>pc(o)?{value:o.value}:{issues:i.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ca(e)},i=this._parse({data:e,path:r.path,parent:r}),o=await (qf(i)?i:Promise.resolve(i));return YN(r,o)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{const l=e(i),c=()=>o.addIssue({code:ot.custom,...r(i)});return typeof Promise<"u"&&l instanceof Promise?l.then(d=>d?!0:(c(),!1)):l?!0:(c(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new co({schema:this,typeName:Jt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Ao.create(this,this._def)}nullable(){return ml.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ao.create(this)}promise(){return Du.create(this,this._def)}or(e){return jf.create([this,e],this._def)}and(e){return Pf.create(this,e,this._def)}transform(e){return new co({...un(this._def),schema:this,typeName:Jt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new $f({...un(this._def),innerType:this,defaultValue:n,typeName:Jt.ZodDefault})}brand(){return new Fw({typeName:Jt.ZodBranded,type:this,...un(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Bf({...un(this._def),innerType:this,catchValue:n,typeName:Jt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return fp.create(this,e)}readonly(){return Wf.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const p$=/^c[^\s-]{8,}$/i,h$=/^[0-9a-z]+$/,m$=/^[0-9A-HJKMNP-TV-Z]{26}$/i,g$=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,y$=/^[a-z0-9_-]{21}$/i,v$=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,b$=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,_$=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,x$="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let q_;const w$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,S$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,E$=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,k$=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,N$=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,I$=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Aq="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",O$=new RegExp(`^${Aq}$`);function jq(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function T$(t){return new RegExp(`^${jq(t)}$`)}function Pq(t){let e=`${Aq}T${jq(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function q$(t,e){return!!((e==="v4"||!e)&&w$.test(t)||(e==="v6"||!e)&&E$.test(t))}function C$(t,e){if(!v$.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function R$(t,e){return!!((e==="v4"||!e)&&S$.test(t)||(e==="v6"||!e)&&k$.test(t))}class oo extends gn{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==qt.string){const o=this._getOrReturnCtx(e);return St(o,{code:ot.invalid_type,expected:qt.string,received:o.parsedType}),Yt}const r=new hi;let i;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(i=this._getOrReturnCtx(e,i),St(i,{code:ot.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")e.data.length>o.value&&(i=this._getOrReturnCtx(e,i),St(i,{code:ot.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const l=e.data.length>o.value,c=e.data.length<o.value;(l||c)&&(i=this._getOrReturnCtx(e,i),l?St(i,{code:ot.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):c&&St(i,{code:ot.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")_$.test(e.data)||(i=this._getOrReturnCtx(e,i),St(i,{validation:"email",code:ot.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")q_||(q_=new RegExp(x$,"u")),q_.test(e.data)||(i=this._getOrReturnCtx(e,i),St(i,{validation:"emoji",code:ot.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")g$.test(e.data)||(i=this._getOrReturnCtx(e,i),St(i,{validation:"uuid",code:ot.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")y$.test(e.data)||(i=this._getOrReturnCtx(e,i),St(i,{validation:"nanoid",code:ot.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")p$.test(e.data)||(i=this._getOrReturnCtx(e,i),St(i,{validation:"cuid",code:ot.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")h$.test(e.data)||(i=this._getOrReturnCtx(e,i),St(i,{validation:"cuid2",code:ot.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")m$.test(e.data)||(i=this._getOrReturnCtx(e,i),St(i,{validation:"ulid",code:ot.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),St(i,{validation:"url",code:ot.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),St(i,{validation:"regex",code:ot.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(e,i),St(i,{code:ot.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(i=this._getOrReturnCtx(e,i),St(i,{code:ot.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(i=this._getOrReturnCtx(e,i),St(i,{code:ot.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?Pq(o).test(e.data)||(i=this._getOrReturnCtx(e,i),St(i,{code:ot.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?O$.test(e.data)||(i=this._getOrReturnCtx(e,i),St(i,{code:ot.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?T$(o).test(e.data)||(i=this._getOrReturnCtx(e,i),St(i,{code:ot.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?b$.test(e.data)||(i=this._getOrReturnCtx(e,i),St(i,{validation:"duration",code:ot.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?q$(e.data,o.version)||(i=this._getOrReturnCtx(e,i),St(i,{validation:"ip",code:ot.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?C$(e.data,o.alg)||(i=this._getOrReturnCtx(e,i),St(i,{validation:"jwt",code:ot.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?R$(e.data,o.version)||(i=this._getOrReturnCtx(e,i),St(i,{validation:"cidr",code:ot.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?N$.test(e.data)||(i=this._getOrReturnCtx(e,i),St(i,{validation:"base64",code:ot.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?I$.test(e.data)||(i=this._getOrReturnCtx(e,i),St(i,{validation:"base64url",code:ot.invalid_string,message:o.message}),r.dirty()):_n.assertNever(o);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:ot.invalid_string,...$t.errToObj(r)})}_addCheck(e){return new oo({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...$t.errToObj(e)})}url(e){return this._addCheck({kind:"url",...$t.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...$t.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...$t.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...$t.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...$t.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...$t.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...$t.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...$t.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...$t.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...$t.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...$t.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...$t.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(n=e?.offset)!==null&&n!==void 0?n:!1,local:(r=e?.local)!==null&&r!==void 0?r:!1,...$t.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...$t.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...$t.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...$t.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...$t.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...$t.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...$t.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...$t.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...$t.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...$t.errToObj(n)})}nonempty(e){return this.min(1,$t.errToObj(e))}trim(){return new oo({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new oo({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new oo({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}oo.create=t=>{var e;return new oo({checks:[],typeName:Jt.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...un(t)})};function A$(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,o=parseInt(t.toFixed(i).replace(".","")),l=parseInt(e.toFixed(i).replace(".",""));return o%l/Math.pow(10,i)}class fl extends gn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==qt.number){const o=this._getOrReturnCtx(e);return St(o,{code:ot.invalid_type,expected:qt.number,received:o.parsedType}),Yt}let r;const i=new hi;for(const o of this._def.checks)o.kind==="int"?_n.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),St(r,{code:ot.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),St(r,{code:ot.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),St(r,{code:ot.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?A$(e.data,o.value)!==0&&(r=this._getOrReturnCtx(e,r),St(r,{code:ot.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),St(r,{code:ot.not_finite,message:o.message}),i.dirty()):_n.assertNever(o);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,$t.toString(n))}gt(e,n){return this.setLimit("min",e,!1,$t.toString(n))}lte(e,n){return this.setLimit("max",e,!0,$t.toString(n))}lt(e,n){return this.setLimit("max",e,!1,$t.toString(n))}setLimit(e,n,r,i){return new fl({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:$t.toString(i)}]})}_addCheck(e){return new fl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:$t.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:$t.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:$t.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:$t.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:$t.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:$t.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:$t.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:$t.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:$t.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&_n.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}fl.create=t=>new fl({checks:[],typeName:Jt.ZodNumber,coerce:t?.coerce||!1,...un(t)});class pl extends gn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==qt.bigint)return this._getInvalidInput(e);let r;const i=new hi;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),St(r,{code:ot.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),St(r,{code:ot.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),St(r,{code:ot.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):_n.assertNever(o);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return St(n,{code:ot.invalid_type,expected:qt.bigint,received:n.parsedType}),Yt}gte(e,n){return this.setLimit("min",e,!0,$t.toString(n))}gt(e,n){return this.setLimit("min",e,!1,$t.toString(n))}lte(e,n){return this.setLimit("max",e,!0,$t.toString(n))}lt(e,n){return this.setLimit("max",e,!1,$t.toString(n))}setLimit(e,n,r,i){return new pl({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:$t.toString(i)}]})}_addCheck(e){return new pl({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:$t.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:$t.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:$t.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:$t.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:$t.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}pl.create=t=>{var e;return new pl({checks:[],typeName:Jt.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...un(t)})};class Cf extends gn{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==qt.boolean){const r=this._getOrReturnCtx(e);return St(r,{code:ot.invalid_type,expected:qt.boolean,received:r.parsedType}),Yt}return Ti(e.data)}}Cf.create=t=>new Cf({typeName:Jt.ZodBoolean,coerce:t?.coerce||!1,...un(t)});class hc extends gn{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==qt.date){const o=this._getOrReturnCtx(e);return St(o,{code:ot.invalid_type,expected:qt.date,received:o.parsedType}),Yt}if(isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return St(o,{code:ot.invalid_date}),Yt}const r=new hi;let i;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(i=this._getOrReturnCtx(e,i),St(i,{code:ot.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(i=this._getOrReturnCtx(e,i),St(i,{code:ot.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):_n.assertNever(o);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new hc({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:$t.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:$t.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}hc.create=t=>new hc({checks:[],coerce:t?.coerce||!1,typeName:Jt.ZodDate,...un(t)});class ug extends gn{_parse(e){if(this._getType(e)!==qt.symbol){const r=this._getOrReturnCtx(e);return St(r,{code:ot.invalid_type,expected:qt.symbol,received:r.parsedType}),Yt}return Ti(e.data)}}ug.create=t=>new ug({typeName:Jt.ZodSymbol,...un(t)});class Rf extends gn{_parse(e){if(this._getType(e)!==qt.undefined){const r=this._getOrReturnCtx(e);return St(r,{code:ot.invalid_type,expected:qt.undefined,received:r.parsedType}),Yt}return Ti(e.data)}}Rf.create=t=>new Rf({typeName:Jt.ZodUndefined,...un(t)});class Af extends gn{_parse(e){if(this._getType(e)!==qt.null){const r=this._getOrReturnCtx(e);return St(r,{code:ot.invalid_type,expected:qt.null,received:r.parsedType}),Yt}return Ti(e.data)}}Af.create=t=>new Af({typeName:Jt.ZodNull,...un(t)});class Lu extends gn{constructor(){super(...arguments),this._any=!0}_parse(e){return Ti(e.data)}}Lu.create=t=>new Lu({typeName:Jt.ZodAny,...un(t)});class lc extends gn{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ti(e.data)}}lc.create=t=>new lc({typeName:Jt.ZodUnknown,...un(t)});class ya extends gn{_parse(e){const n=this._getOrReturnCtx(e);return St(n,{code:ot.invalid_type,expected:qt.never,received:n.parsedType}),Yt}}ya.create=t=>new ya({typeName:Jt.ZodNever,...un(t)});class dg extends gn{_parse(e){if(this._getType(e)!==qt.undefined){const r=this._getOrReturnCtx(e);return St(r,{code:ot.invalid_type,expected:qt.void,received:r.parsedType}),Yt}return Ti(e.data)}}dg.create=t=>new dg({typeName:Jt.ZodVoid,...un(t)});class ao extends gn{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==qt.array)return St(n,{code:ot.invalid_type,expected:qt.array,received:n.parsedType}),Yt;if(i.exactLength!==null){const l=n.data.length>i.exactLength.value,c=n.data.length<i.exactLength.value;(l||c)&&(St(n,{code:l?ot.too_big:ot.too_small,minimum:c?i.exactLength.value:void 0,maximum:l?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(St(n,{code:ot.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(St(n,{code:ot.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((l,c)=>i.type._parseAsync(new Po(n,l,n.path,c)))).then(l=>hi.mergeArray(r,l));const o=[...n.data].map((l,c)=>i.type._parseSync(new Po(n,l,n.path,c)));return hi.mergeArray(r,o)}get element(){return this._def.type}min(e,n){return new ao({...this._def,minLength:{value:e,message:$t.toString(n)}})}max(e,n){return new ao({...this._def,maxLength:{value:e,message:$t.toString(n)}})}length(e,n){return new ao({...this._def,exactLength:{value:e,message:$t.toString(n)}})}nonempty(e){return this.min(1,e)}}ao.create=(t,e)=>new ao({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Jt.ZodArray,...un(e)});function cu(t){if(t instanceof gr){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Ao.create(cu(r))}return new gr({...t._def,shape:()=>e})}else return t instanceof ao?new ao({...t._def,type:cu(t.element)}):t instanceof Ao?Ao.create(cu(t.unwrap())):t instanceof ml?ml.create(cu(t.unwrap())):t instanceof Fo?Fo.create(t.items.map(e=>cu(e))):t}class gr extends gn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=_n.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==qt.object){const m=this._getOrReturnCtx(e);return St(m,{code:ot.invalid_type,expected:qt.object,received:m.parsedType}),Yt}const{status:r,ctx:i}=this._processInputParams(e),{shape:o,keys:l}=this._getCached(),c=[];if(!(this._def.catchall instanceof ya&&this._def.unknownKeys==="strip"))for(const m in i.data)l.includes(m)||c.push(m);const d=[];for(const m of l){const y=o[m],b=i.data[m];d.push({key:{status:"valid",value:m},value:y._parse(new Po(i,b,i.path,m)),alwaysSet:m in i.data})}if(this._def.catchall instanceof ya){const m=this._def.unknownKeys;if(m==="passthrough")for(const y of c)d.push({key:{status:"valid",value:y},value:{status:"valid",value:i.data[y]}});else if(m==="strict")c.length>0&&(St(i,{code:ot.unrecognized_keys,keys:c}),r.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const y of c){const b=i.data[y];d.push({key:{status:"valid",value:y},value:m._parse(new Po(i,b,i.path,y)),alwaysSet:y in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const m=[];for(const y of d){const b=await y.key,E=await y.value;m.push({key:b,value:E,alwaysSet:y.alwaysSet})}return m}).then(m=>hi.mergeObjectSync(r,m)):hi.mergeObjectSync(r,d)}get shape(){return this._def.shape()}strict(e){return $t.errToObj,new gr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,o,l,c;const d=(l=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,n,r).message)!==null&&l!==void 0?l:r.defaultError;return n.code==="unrecognized_keys"?{message:(c=$t.errToObj(e).message)!==null&&c!==void 0?c:d}:{message:d}}}:{}})}strip(){return new gr({...this._def,unknownKeys:"strip"})}passthrough(){return new gr({...this._def,unknownKeys:"passthrough"})}extend(e){return new gr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new gr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Jt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new gr({...this._def,catchall:e})}pick(e){const n={};return _n.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new gr({...this._def,shape:()=>n})}omit(e){const n={};return _n.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new gr({...this._def,shape:()=>n})}deepPartial(){return cu(this)}partial(e){const n={};return _n.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new gr({...this._def,shape:()=>n})}required(e){const n={};return _n.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof Ao;)o=o._def.innerType;n[r]=o}}),new gr({...this._def,shape:()=>n})}keyof(){return Fq(_n.objectKeys(this.shape))}}gr.create=(t,e)=>new gr({shape:()=>t,unknownKeys:"strip",catchall:ya.create(),typeName:Jt.ZodObject,...un(e)});gr.strictCreate=(t,e)=>new gr({shape:()=>t,unknownKeys:"strict",catchall:ya.create(),typeName:Jt.ZodObject,...un(e)});gr.lazycreate=(t,e)=>new gr({shape:t,unknownKeys:"strip",catchall:ya.create(),typeName:Jt.ZodObject,...un(e)});class jf extends gn{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(o){for(const c of o)if(c.result.status==="valid")return c.result;for(const c of o)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const l=o.map(c=>new ds(c.ctx.common.issues));return St(n,{code:ot.invalid_union,unionErrors:l}),Yt}if(n.common.async)return Promise.all(r.map(async o=>{const l={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:l}),ctx:l}})).then(i);{let o;const l=[];for(const d of r){const m={...n,common:{...n.common,issues:[]},parent:null},y=d._parseSync({data:n.data,path:n.path,parent:m});if(y.status==="valid")return y;y.status==="dirty"&&!o&&(o={result:y,ctx:m}),m.common.issues.length&&l.push(m.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const c=l.map(d=>new ds(d));return St(n,{code:ot.invalid_union,unionErrors:c}),Yt}}get options(){return this._def.options}}jf.create=(t,e)=>new jf({options:t,typeName:Jt.ZodUnion,...un(e)});const oa=t=>t instanceof Lf?oa(t.schema):t instanceof co?oa(t.innerType()):t instanceof Df?[t.value]:t instanceof hl?t.options:t instanceof Mf?_n.objectValues(t.enum):t instanceof $f?oa(t._def.innerType):t instanceof Rf?[void 0]:t instanceof Af?[null]:t instanceof Ao?[void 0,...oa(t.unwrap())]:t instanceof ml?[null,...oa(t.unwrap())]:t instanceof Fw||t instanceof Wf?oa(t.unwrap()):t instanceof Bf?oa(t._def.innerType):[];class cy extends gn{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==qt.object)return St(n,{code:ot.invalid_type,expected:qt.object,received:n.parsedType}),Yt;const r=this.discriminator,i=n.data[r],o=this.optionsMap.get(i);return o?n.common.async?o._parseAsync({data:n.data,path:n.path,parent:n}):o._parseSync({data:n.data,path:n.path,parent:n}):(St(n,{code:ot.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Yt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const o of n){const l=oa(o.shape[e]);if(!l.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const c of l){if(i.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);i.set(c,o)}}return new cy({typeName:Jt.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...un(r)})}}function Lx(t,e){const n=ca(t),r=ca(e);if(t===e)return{valid:!0,data:t};if(n===qt.object&&r===qt.object){const i=_n.objectKeys(e),o=_n.objectKeys(t).filter(c=>i.indexOf(c)!==-1),l={...t,...e};for(const c of o){const d=Lx(t[c],e[c]);if(!d.valid)return{valid:!1};l[c]=d.data}return{valid:!0,data:l}}else if(n===qt.array&&r===qt.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let o=0;o<t.length;o++){const l=t[o],c=e[o],d=Lx(l,c);if(!d.valid)return{valid:!1};i.push(d.data)}return{valid:!0,data:i}}else return n===qt.date&&r===qt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Pf extends gn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(o,l)=>{if(Px(o)||Px(l))return Yt;const c=Lx(o.value,l.value);return c.valid?((Fx(o)||Fx(l))&&n.dirty(),{status:n.value,value:c.data}):(St(r,{code:ot.invalid_intersection_types}),Yt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,l])=>i(o,l)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Pf.create=(t,e,n)=>new Pf({left:t,right:e,typeName:Jt.ZodIntersection,...un(n)});class Fo extends gn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==qt.array)return St(r,{code:ot.invalid_type,expected:qt.array,received:r.parsedType}),Yt;if(r.data.length<this._def.items.length)return St(r,{code:ot.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Yt;!this._def.rest&&r.data.length>this._def.items.length&&(St(r,{code:ot.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((l,c)=>{const d=this._def.items[c]||this._def.rest;return d?d._parse(new Po(r,l,r.path,c)):null}).filter(l=>!!l);return r.common.async?Promise.all(o).then(l=>hi.mergeArray(n,l)):hi.mergeArray(n,o)}get items(){return this._def.items}rest(e){return new Fo({...this._def,rest:e})}}Fo.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Fo({items:t,typeName:Jt.ZodTuple,rest:null,...un(e)})};class Ff extends gn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==qt.object)return St(r,{code:ot.invalid_type,expected:qt.object,received:r.parsedType}),Yt;const i=[],o=this._def.keyType,l=this._def.valueType;for(const c in r.data)i.push({key:o._parse(new Po(r,c,r.path,c)),value:l._parse(new Po(r,r.data[c],r.path,c)),alwaysSet:c in r.data});return r.common.async?hi.mergeObjectAsync(n,i):hi.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof gn?new Ff({keyType:e,valueType:n,typeName:Jt.ZodRecord,...un(r)}):new Ff({keyType:oo.create(),valueType:e,typeName:Jt.ZodRecord,...un(n)})}}class fg extends gn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==qt.map)return St(r,{code:ot.invalid_type,expected:qt.map,received:r.parsedType}),Yt;const i=this._def.keyType,o=this._def.valueType,l=[...r.data.entries()].map(([c,d],m)=>({key:i._parse(new Po(r,c,r.path,[m,"key"])),value:o._parse(new Po(r,d,r.path,[m,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const d of l){const m=await d.key,y=await d.value;if(m.status==="aborted"||y.status==="aborted")return Yt;(m.status==="dirty"||y.status==="dirty")&&n.dirty(),c.set(m.value,y.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const d of l){const m=d.key,y=d.value;if(m.status==="aborted"||y.status==="aborted")return Yt;(m.status==="dirty"||y.status==="dirty")&&n.dirty(),c.set(m.value,y.value)}return{status:n.value,value:c}}}}fg.create=(t,e,n)=>new fg({valueType:e,keyType:t,typeName:Jt.ZodMap,...un(n)});class mc extends gn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==qt.set)return St(r,{code:ot.invalid_type,expected:qt.set,received:r.parsedType}),Yt;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(St(r,{code:ot.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(St(r,{code:ot.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const o=this._def.valueType;function l(d){const m=new Set;for(const y of d){if(y.status==="aborted")return Yt;y.status==="dirty"&&n.dirty(),m.add(y.value)}return{status:n.value,value:m}}const c=[...r.data.values()].map((d,m)=>o._parse(new Po(r,d,r.path,m)));return r.common.async?Promise.all(c).then(d=>l(d)):l(c)}min(e,n){return new mc({...this._def,minSize:{value:e,message:$t.toString(n)}})}max(e,n){return new mc({...this._def,maxSize:{value:e,message:$t.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}mc.create=(t,e)=>new mc({valueType:t,minSize:null,maxSize:null,typeName:Jt.ZodSet,...un(e)});class Su extends gn{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==qt.function)return St(n,{code:ot.invalid_type,expected:qt.function,received:n.parsedType}),Yt;function r(c,d){return lg({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ag(),Fu].filter(m=>!!m),issueData:{code:ot.invalid_arguments,argumentsError:d}})}function i(c,d){return lg({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,ag(),Fu].filter(m=>!!m),issueData:{code:ot.invalid_return_type,returnTypeError:d}})}const o={errorMap:n.common.contextualErrorMap},l=n.data;if(this._def.returns instanceof Du){const c=this;return Ti(async function(...d){const m=new ds([]),y=await c._def.args.parseAsync(d,o).catch(N=>{throw m.addIssue(r(d,N)),m}),b=await Reflect.apply(l,this,y);return await c._def.returns._def.type.parseAsync(b,o).catch(N=>{throw m.addIssue(i(b,N)),m})})}else{const c=this;return Ti(function(...d){const m=c._def.args.safeParse(d,o);if(!m.success)throw new ds([r(d,m.error)]);const y=Reflect.apply(l,this,m.data),b=c._def.returns.safeParse(y,o);if(!b.success)throw new ds([i(y,b.error)]);return b.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Su({...this._def,args:Fo.create(e).rest(lc.create())})}returns(e){return new Su({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Su({args:e||Fo.create([]).rest(lc.create()),returns:n||lc.create(),typeName:Jt.ZodFunction,...un(r)})}}class Lf extends gn{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Lf.create=(t,e)=>new Lf({getter:t,typeName:Jt.ZodLazy,...un(e)});class Df extends gn{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return St(n,{received:n.data,code:ot.invalid_literal,expected:this._def.value}),Yt}return{status:"valid",value:e.data}}get value(){return this._def.value}}Df.create=(t,e)=>new Df({value:t,typeName:Jt.ZodLiteral,...un(e)});function Fq(t,e){return new hl({values:t,typeName:Jt.ZodEnum,...un(e)})}class hl extends gn{constructor(){super(...arguments),nf.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return St(n,{expected:_n.joinValues(r),received:n.parsedType,code:ot.invalid_type}),Yt}if(cg(this,nf)||Rq(this,nf,new Set(this._def.values)),!cg(this,nf).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return St(n,{received:n.data,code:ot.invalid_enum_value,options:r}),Yt}return Ti(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return hl.create(e,{...this._def,...n})}exclude(e,n=this._def){return hl.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}nf=new WeakMap;hl.create=Fq;class Mf extends gn{constructor(){super(...arguments),rf.set(this,void 0)}_parse(e){const n=_n.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==qt.string&&r.parsedType!==qt.number){const i=_n.objectValues(n);return St(r,{expected:_n.joinValues(i),received:r.parsedType,code:ot.invalid_type}),Yt}if(cg(this,rf)||Rq(this,rf,new Set(_n.getValidEnumValues(this._def.values))),!cg(this,rf).has(e.data)){const i=_n.objectValues(n);return St(r,{received:r.data,code:ot.invalid_enum_value,options:i}),Yt}return Ti(e.data)}get enum(){return this._def.values}}rf=new WeakMap;Mf.create=(t,e)=>new Mf({values:t,typeName:Jt.ZodNativeEnum,...un(e)});class Du extends gn{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==qt.promise&&n.common.async===!1)return St(n,{code:ot.invalid_type,expected:qt.promise,received:n.parsedType}),Yt;const r=n.parsedType===qt.promise?n.data:Promise.resolve(n.data);return Ti(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Du.create=(t,e)=>new Du({type:t,typeName:Jt.ZodPromise,...un(e)});class co extends gn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Jt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,o={addIssue:l=>{St(r,l),l.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const l=i.transform(r.data,o);if(r.common.async)return Promise.resolve(l).then(async c=>{if(n.value==="aborted")return Yt;const d=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return d.status==="aborted"?Yt:d.status==="dirty"||n.value==="dirty"?pu(d.value):d});{if(n.value==="aborted")return Yt;const c=this._def.schema._parseSync({data:l,path:r.path,parent:r});return c.status==="aborted"?Yt:c.status==="dirty"||n.value==="dirty"?pu(c.value):c}}if(i.type==="refinement"){const l=c=>{const d=i.refinement(c,o);if(r.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?Yt:(c.status==="dirty"&&n.dirty(),l(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?Yt:(c.status==="dirty"&&n.dirty(),l(c.value).then(()=>({status:n.value,value:c.value}))))}if(i.type==="transform")if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!pc(l))return l;const c=i.transform(l.value,o);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>pc(l)?Promise.resolve(i.transform(l.value,o)).then(c=>({status:n.value,value:c})):l);_n.assertNever(i)}}co.create=(t,e,n)=>new co({schema:t,typeName:Jt.ZodEffects,effect:e,...un(n)});co.createWithPreprocess=(t,e,n)=>new co({schema:e,effect:{type:"preprocess",transform:t},typeName:Jt.ZodEffects,...un(n)});class Ao extends gn{_parse(e){return this._getType(e)===qt.undefined?Ti(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ao.create=(t,e)=>new Ao({innerType:t,typeName:Jt.ZodOptional,...un(e)});class ml extends gn{_parse(e){return this._getType(e)===qt.null?Ti(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ml.create=(t,e)=>new ml({innerType:t,typeName:Jt.ZodNullable,...un(e)});class $f extends gn{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===qt.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}$f.create=(t,e)=>new $f({innerType:t,typeName:Jt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...un(e)});class Bf extends gn{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return qf(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new ds(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ds(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Bf.create=(t,e)=>new Bf({innerType:t,typeName:Jt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...un(e)});class pg extends gn{_parse(e){if(this._getType(e)!==qt.nan){const r=this._getOrReturnCtx(e);return St(r,{code:ot.invalid_type,expected:qt.nan,received:r.parsedType}),Yt}return{status:"valid",value:e.data}}}pg.create=t=>new pg({typeName:Jt.ZodNaN,...un(t)});const j$=Symbol("zod_brand");class Fw extends gn{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class fp extends gn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Yt:o.status==="dirty"?(n.dirty(),pu(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Yt:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new fp({in:e,out:n,typeName:Jt.ZodPipeline})}}class Wf extends gn{_parse(e){const n=this._def.innerType._parse(e),r=i=>(pc(i)&&(i.value=Object.freeze(i.value)),i);return qf(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Wf.create=(t,e)=>new Wf({innerType:t,typeName:Jt.ZodReadonly,...un(e)});function Lq(t,e={},n){return t?Lu.create().superRefine((r,i)=>{var o,l;if(!t(r)){const c=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,d=(l=(o=c.fatal)!==null&&o!==void 0?o:n)!==null&&l!==void 0?l:!0,m=typeof c=="string"?{message:c}:c;i.addIssue({code:"custom",...m,fatal:d})}}):Lu.create()}const P$={object:gr.lazycreate};var Jt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Jt||(Jt={}));const F$=(t,e={message:`Input not instance of ${t.name}`})=>Lq(n=>n instanceof t,e),Dq=oo.create,Mq=fl.create,L$=pg.create,D$=pl.create,$q=Cf.create,M$=hc.create,$$=ug.create,B$=Rf.create,W$=Af.create,z$=Lu.create,U$=lc.create,V$=ya.create,H$=dg.create,Q$=ao.create,K$=gr.create,G$=gr.strictCreate,J$=jf.create,Z$=cy.create,Y$=Pf.create,X$=Fo.create,eB=Ff.create,tB=fg.create,nB=mc.create,rB=Su.create,iB=Lf.create,sB=Df.create,oB=hl.create,aB=Mf.create,lB=Du.create,XN=co.create,cB=Ao.create,uB=ml.create,dB=co.createWithPreprocess,fB=fp.create,pB=()=>Dq().optional(),hB=()=>Mq().optional(),mB=()=>$q().optional(),gB={string:t=>oo.create({...t,coerce:!0}),number:t=>fl.create({...t,coerce:!0}),boolean:t=>Cf.create({...t,coerce:!0}),bigint:t=>pl.create({...t,coerce:!0}),date:t=>hc.create({...t,coerce:!0})},yB=Yt;var ne=Object.freeze({__proto__:null,defaultErrorMap:Fu,setErrorMap:d$,getErrorMap:ag,makeIssue:lg,EMPTY_PATH:f$,addIssueToContext:St,ParseStatus:hi,INVALID:Yt,DIRTY:pu,OK:Ti,isAborted:Px,isDirty:Fx,isValid:pc,isAsync:qf,get util(){return _n},get objectUtil(){return jx},ZodParsedType:qt,getParsedType:ca,ZodType:gn,datetimeRegex:Pq,ZodString:oo,ZodNumber:fl,ZodBigInt:pl,ZodBoolean:Cf,ZodDate:hc,ZodSymbol:ug,ZodUndefined:Rf,ZodNull:Af,ZodAny:Lu,ZodUnknown:lc,ZodNever:ya,ZodVoid:dg,ZodArray:ao,ZodObject:gr,ZodUnion:jf,ZodDiscriminatedUnion:cy,ZodIntersection:Pf,ZodTuple:Fo,ZodRecord:Ff,ZodMap:fg,ZodSet:mc,ZodFunction:Su,ZodLazy:Lf,ZodLiteral:Df,ZodEnum:hl,ZodNativeEnum:Mf,ZodPromise:Du,ZodEffects:co,ZodTransformer:co,ZodOptional:Ao,ZodNullable:ml,ZodDefault:$f,ZodCatch:Bf,ZodNaN:pg,BRAND:j$,ZodBranded:Fw,ZodPipeline:fp,ZodReadonly:Wf,custom:Lq,Schema:gn,ZodSchema:gn,late:P$,get ZodFirstPartyTypeKind(){return Jt},coerce:gB,any:z$,array:Q$,bigint:D$,boolean:$q,date:M$,discriminatedUnion:Z$,effect:XN,enum:oB,function:rB,instanceof:F$,intersection:Y$,lazy:iB,literal:sB,map:tB,nan:L$,nativeEnum:aB,never:V$,null:W$,nullable:uB,number:Mq,object:K$,oboolean:mB,onumber:hB,optional:cB,ostring:pB,pipeline:fB,preprocess:dB,promise:lB,record:eB,set:nB,strictObject:G$,string:Dq,symbol:$$,transformer:XN,tuple:X$,undefined:B$,union:J$,unknown:U$,void:H$,NEVER:yB,ZodIssueCode:ot,quotelessJson:u$,ZodError:ds});const vB=ne.object({page:ne.number().gte(0,"Page must be greater than zero"),size:ne.number().gte(1,"Page size must be greater than one to get any data")}),mi=ne.object({id:ne.string().min(1)}),Lw=ne.object({message:ne.string()}),gi=ne.object({id:ne.string().optional(),idIn:ne.array(ne.string()).optional(),fulltext:ne.string().optional()}),bB=ne.enum(["asc","desc"]),_B=mi.merge(ne.object({code:ne.string().min(1),label:ne.string().min(1),group:ne.string().nullish(),sort:ne.number().default(0)}));var tu={},ra={},Gn={},Ys={},e1;function Bq(){if(e1)return Ys;e1=1,Object.defineProperty(Ys,"__esModule",{value:!0}),Ys.anumber=t,Ys.number=t,Ys.abytes=n,Ys.bytes=n,Ys.ahash=r,Ys.aexists=i,Ys.aoutput=o;function t(c){if(!Number.isSafeInteger(c)||c<0)throw new Error("positive integer expected, got "+c)}function e(c){return c instanceof Uint8Array||ArrayBuffer.isView(c)&&c.constructor.name==="Uint8Array"}function n(c,...d){if(!e(c))throw new Error("Uint8Array expected");if(d.length>0&&!d.includes(c.length))throw new Error("Uint8Array expected of length "+d+", got length="+c.length)}function r(c){if(typeof c!="function"||typeof c.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");t(c.outputLen),t(c.blockLen)}function i(c,d=!0){if(c.destroyed)throw new Error("Hash instance has been destroyed");if(d&&c.finished)throw new Error("Hash#digest() has already been called")}function o(c,d){n(c);const m=d.outputLen;if(c.length<m)throw new Error("digestInto() expects output buffer of length at least "+m)}const l={number:t,bytes:n,hash:r,exists:i,output:o};return Ys.default=l,Ys}var sn={},t1;function xB(){if(t1)return sn;t1=1,Object.defineProperty(sn,"__esModule",{value:!0}),sn.add5L=sn.add5H=sn.add4H=sn.add4L=sn.add3H=sn.add3L=sn.rotlBL=sn.rotlBH=sn.rotlSL=sn.rotlSH=sn.rotr32L=sn.rotr32H=sn.rotrBL=sn.rotrBH=sn.rotrSL=sn.rotrSH=sn.shrSL=sn.shrSH=sn.toBig=void 0,sn.fromBig=n,sn.split=r,sn.add=L;const t=BigInt(2**32-1),e=BigInt(32);function n(H,te=!1){return te?{h:Number(H&t),l:Number(H>>e&t)}:{h:Number(H>>e&t)|0,l:Number(H&t)|0}}function r(H,te=!1){let $=new Uint32Array(H.length),oe=new Uint32Array(H.length);for(let Y=0;Y<H.length;Y++){const{h:fe,l:Ee}=n(H[Y],te);[$[Y],oe[Y]]=[fe,Ee]}return[$,oe]}const i=(H,te)=>BigInt(H>>>0)<<e|BigInt(te>>>0);sn.toBig=i;const o=(H,te,$)=>H>>>$;sn.shrSH=o;const l=(H,te,$)=>H<<32-$|te>>>$;sn.shrSL=l;const c=(H,te,$)=>H>>>$|te<<32-$;sn.rotrSH=c;const d=(H,te,$)=>H<<32-$|te>>>$;sn.rotrSL=d;const m=(H,te,$)=>H<<64-$|te>>>$-32;sn.rotrBH=m;const y=(H,te,$)=>H>>>$-32|te<<64-$;sn.rotrBL=y;const b=(H,te)=>te;sn.rotr32H=b;const E=(H,te)=>H;sn.rotr32L=E;const N=(H,te,$)=>H<<$|te>>>32-$;sn.rotlSH=N;const O=(H,te,$)=>te<<$|H>>>32-$;sn.rotlSL=O;const T=(H,te,$)=>te<<$-32|H>>>64-$;sn.rotlBH=T;const A=(H,te,$)=>H<<$-32|te>>>64-$;sn.rotlBL=A;function L(H,te,$,oe){const Y=(te>>>0)+(oe>>>0);return{h:H+$+(Y/2**32|0)|0,l:Y|0}}const P=(H,te,$)=>(H>>>0)+(te>>>0)+($>>>0);sn.add3L=P;const B=(H,te,$,oe)=>te+$+oe+(H/2**32|0)|0;sn.add3H=B;const Q=(H,te,$,oe)=>(H>>>0)+(te>>>0)+($>>>0)+(oe>>>0);sn.add4L=Q;const J=(H,te,$,oe,Y)=>te+$+oe+Y+(H/2**32|0)|0;sn.add4H=J;const W=(H,te,$,oe,Y)=>(H>>>0)+(te>>>0)+($>>>0)+(oe>>>0)+(Y>>>0);sn.add5L=W;const G=(H,te,$,oe,Y,fe)=>te+$+oe+Y+fe+(H/2**32|0)|0;sn.add5H=G;const re={fromBig:n,split:r,toBig:i,shrSH:o,shrSL:l,rotrSH:c,rotrSL:d,rotrBH:m,rotrBL:y,rotr32H:b,rotr32L:E,rotlSH:N,rotlSL:O,rotlBH:T,rotlBL:A,add:L,add3L:P,add3H:B,add4L:Q,add4H:J,add5H:G,add5L:W};return sn.default=re,sn}var C_={},Gd={},n1;function wB(){return n1||(n1=1,Object.defineProperty(Gd,"__esModule",{value:!0}),Gd.crypto=void 0,Gd.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),Gd}var r1;function SB(){return r1||(r1=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Hash=t.nextTick=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=void 0,t.isBytes=r,t.byteSwap32=y,t.bytesToHex=E,t.hexToBytes=T,t.asyncLoop=L,t.utf8ToBytes=P,t.toBytes=B,t.concatBytes=Q,t.checkOpts=W,t.wrapConstructor=G,t.wrapConstructorWithOpts=re,t.wrapXOFConstructorWithOpts=H,t.randomBytes=te;const e=wB(),n=Bq();function r($){return $ instanceof Uint8Array||ArrayBuffer.isView($)&&$.constructor.name==="Uint8Array"}const i=$=>new Uint8Array($.buffer,$.byteOffset,$.byteLength);t.u8=i;const o=$=>new Uint32Array($.buffer,$.byteOffset,Math.floor($.byteLength/4));t.u32=o;const l=$=>new DataView($.buffer,$.byteOffset,$.byteLength);t.createView=l;const c=($,oe)=>$<<32-oe|$>>>oe;t.rotr=c;const d=($,oe)=>$<<oe|$>>>32-oe>>>0;t.rotl=d,t.isLE=new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]===68;const m=$=>$<<24&0xff000000|$<<8&0xff0000|$>>>8&65280|$>>>24&255;t.byteSwap=m,t.byteSwapIfBE=t.isLE?$=>$:$=>(0,t.byteSwap)($);function y($){for(let oe=0;oe<$.length;oe++)$[oe]=(0,t.byteSwap)($[oe])}const b=Array.from({length:256},($,oe)=>oe.toString(16).padStart(2,"0"));function E($){(0,n.abytes)($);let oe="";for(let Y=0;Y<$.length;Y++)oe+=b[$[Y]];return oe}const N={_0:48,_9:57,A:65,F:70,a:97,f:102};function O($){if($>=N._0&&$<=N._9)return $-N._0;if($>=N.A&&$<=N.F)return $-(N.A-10);if($>=N.a&&$<=N.f)return $-(N.a-10)}function T($){if(typeof $!="string")throw new Error("hex string expected, got "+typeof $);const oe=$.length,Y=oe/2;if(oe%2)throw new Error("hex string expected, got unpadded hex of length "+oe);const fe=new Uint8Array(Y);for(let Ee=0,qe=0;Ee<Y;Ee++,qe+=2){const je=O($.charCodeAt(qe)),ve=O($.charCodeAt(qe+1));if(je===void 0||ve===void 0){const pe=$[qe]+$[qe+1];throw new Error('hex string expected, got non-hex character "'+pe+'" at index '+qe)}fe[Ee]=je*16+ve}return fe}const A=async()=>{};t.nextTick=A;async function L($,oe,Y){let fe=Date.now();for(let Ee=0;Ee<$;Ee++){Y(Ee);const qe=Date.now()-fe;qe>=0&&qe<oe||(await (0,t.nextTick)(),fe+=qe)}}function P($){if(typeof $!="string")throw new Error("utf8ToBytes expected string, got "+typeof $);return new Uint8Array(new TextEncoder().encode($))}function B($){return typeof $=="string"&&($=P($)),(0,n.abytes)($),$}function Q(...$){let oe=0;for(let fe=0;fe<$.length;fe++){const Ee=$[fe];(0,n.abytes)(Ee),oe+=Ee.length}const Y=new Uint8Array(oe);for(let fe=0,Ee=0;fe<$.length;fe++){const qe=$[fe];Y.set(qe,Ee),Ee+=qe.length}return Y}class J{clone(){return this._cloneInto()}}t.Hash=J;function W($,oe){if(oe!==void 0&&{}.toString.call(oe)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign($,oe)}function G($){const oe=fe=>$().update(B(fe)).digest(),Y=$();return oe.outputLen=Y.outputLen,oe.blockLen=Y.blockLen,oe.create=()=>$(),oe}function re($){const oe=(fe,Ee)=>$(Ee).update(B(fe)).digest(),Y=$({});return oe.outputLen=Y.outputLen,oe.blockLen=Y.blockLen,oe.create=fe=>$(fe),oe}function H($){const oe=(fe,Ee)=>$(Ee).update(B(fe)).digest(),Y=$({});return oe.outputLen=Y.outputLen,oe.blockLen=Y.blockLen,oe.create=fe=>$(fe),oe}function te($=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array($));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes($);throw new Error("crypto.getRandomValues must be defined")}}(C_)),C_}var i1;function EB(){if(i1)return Gn;i1=1,Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.shake256=Gn.shake128=Gn.keccak_512=Gn.keccak_384=Gn.keccak_256=Gn.keccak_224=Gn.sha3_512=Gn.sha3_384=Gn.sha3_256=Gn.sha3_224=Gn.Keccak=void 0,Gn.keccakP=A;const t=Bq(),e=xB(),n=SB(),r=[],i=[],o=[],l=BigInt(0),c=BigInt(1),d=BigInt(2),m=BigInt(7),y=BigInt(256),b=BigInt(113);for(let Q=0,J=c,W=1,G=0;Q<24;Q++){[W,G]=[G,(2*W+3*G)%5],r.push(2*(5*G+W)),i.push((Q+1)*(Q+2)/2%64);let re=l;for(let H=0;H<7;H++)J=(J<<c^(J>>m)*b)%y,J&d&&(re^=c<<(c<<BigInt(H))-c);o.push(re)}const[E,N]=(0,e.split)(o,!0),O=(Q,J,W)=>W>32?(0,e.rotlBH)(Q,J,W):(0,e.rotlSH)(Q,J,W),T=(Q,J,W)=>W>32?(0,e.rotlBL)(Q,J,W):(0,e.rotlSL)(Q,J,W);function A(Q,J=24){const W=new Uint32Array(10);for(let G=24-J;G<24;G++){for(let te=0;te<10;te++)W[te]=Q[te]^Q[te+10]^Q[te+20]^Q[te+30]^Q[te+40];for(let te=0;te<10;te+=2){const $=(te+8)%10,oe=(te+2)%10,Y=W[oe],fe=W[oe+1],Ee=O(Y,fe,1)^W[$],qe=T(Y,fe,1)^W[$+1];for(let je=0;je<50;je+=10)Q[te+je]^=Ee,Q[te+je+1]^=qe}let re=Q[2],H=Q[3];for(let te=0;te<24;te++){const $=i[te],oe=O(re,H,$),Y=T(re,H,$),fe=r[te];re=Q[fe],H=Q[fe+1],Q[fe]=oe,Q[fe+1]=Y}for(let te=0;te<50;te+=10){for(let $=0;$<10;$++)W[$]=Q[te+$];for(let $=0;$<10;$++)Q[te+$]^=~W[($+2)%10]&W[($+4)%10]}Q[0]^=E[G],Q[1]^=N[G]}W.fill(0)}class L extends n.Hash{constructor(J,W,G,re=!1,H=24){if(super(),this.blockLen=J,this.suffix=W,this.outputLen=G,this.enableXOF=re,this.rounds=H,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,t.anumber)(G),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,n.u32)(this.state)}keccak(){n.isLE||(0,n.byteSwap32)(this.state32),A(this.state32,this.rounds),n.isLE||(0,n.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(J){(0,t.aexists)(this);const{blockLen:W,state:G}=this;J=(0,n.toBytes)(J);const re=J.length;for(let H=0;H<re;){const te=Math.min(W-this.pos,re-H);for(let $=0;$<te;$++)G[this.pos++]^=J[H++];this.pos===W&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:J,suffix:W,pos:G,blockLen:re}=this;J[G]^=W,W&128&&G===re-1&&this.keccak(),J[re-1]^=128,this.keccak()}writeInto(J){(0,t.aexists)(this,!1),(0,t.abytes)(J),this.finish();const W=this.state,{blockLen:G}=this;for(let re=0,H=J.length;re<H;){this.posOut>=G&&this.keccak();const te=Math.min(G-this.posOut,H-re);J.set(W.subarray(this.posOut,this.posOut+te),re),this.posOut+=te,re+=te}return J}xofInto(J){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(J)}xof(J){return(0,t.anumber)(J),this.xofInto(new Uint8Array(J))}digestInto(J){if((0,t.aoutput)(J,this),this.finished)throw new Error("digest() was already called");return this.writeInto(J),this.destroy(),J}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(J){const{blockLen:W,suffix:G,outputLen:re,rounds:H,enableXOF:te}=this;return J||(J=new L(W,G,re,te,H)),J.state32.set(this.state32),J.pos=this.pos,J.posOut=this.posOut,J.finished=this.finished,J.rounds=H,J.suffix=G,J.outputLen=re,J.enableXOF=te,J.destroyed=this.destroyed,J}}Gn.Keccak=L;const P=(Q,J,W)=>(0,n.wrapConstructor)(()=>new L(J,Q,W));Gn.sha3_224=P(6,144,224/8),Gn.sha3_256=P(6,136,256/8),Gn.sha3_384=P(6,104,384/8),Gn.sha3_512=P(6,72,512/8),Gn.keccak_224=P(1,144,224/8),Gn.keccak_256=P(1,136,256/8),Gn.keccak_384=P(1,104,384/8),Gn.keccak_512=P(1,72,512/8);const B=(Q,J,W)=>(0,n.wrapXOFConstructorWithOpts)((G={})=>new L(J,Q,G.dkLen===void 0?W:G.dkLen,!0));return Gn.shake128=B(31,168,128/8),Gn.shake256=B(31,136,256/8),Gn}var s1;function kB(){if(s1)return ra;s1=1;const{sha3_512:t}=EB(),e=24,n=32,r=(O=4,T=Math.random)=>{let A="";for(;A.length<O;)A=A+Math.floor(T()*36).toString(36);return A};function i(O){let T=8n,A=0n;for(const L of O.values()){const P=BigInt(L);A=(A<<T)+P}return A}const o=(O="")=>i(t(O)).toString(36).slice(1),l=Array.from({length:26},(O,T)=>String.fromCharCode(T+97)),c=O=>l[Math.floor(O()*l.length)],d=({globalObj:O=typeof Xl<"u"?Xl:typeof window<"u"?window:{},random:T=Math.random}={})=>{const A=Object.keys(O).toString(),L=A.length?A+r(n,T):r(n,T);return o(L).substring(0,n)},m=O=>()=>O++,y=0x1c6b1f1f,b=({random:O=Math.random,counter:T=m(Math.floor(O()*y)),length:A=e,fingerprint:L=d({random:O})}={})=>function(){const B=c(O),Q=Date.now().toString(36),J=T().toString(36),W=r(A,O),G=`${Q+W+J+L}`;return`${B+o(G).substring(1,A)}`},E=b(),N=(O,{minLength:T=2,maxLength:A=n}={})=>{const L=O.length,P=/^[0-9a-z]+$/;try{if(typeof O=="string"&&L>=T&&L<=A&&P.test(O))return!0}finally{}return!1};return ra.getConstants=()=>({defaultLength:e,bigLength:n}),ra.init=b,ra.createId=E,ra.bufToBigInt=i,ra.createCounter=m,ra.createFingerprint=d,ra.isCuid=N,ra}var o1;function NB(){if(o1)return tu;o1=1;const{createId:t,init:e,getConstants:n,isCuid:r}=kB();return tu.createId=t,tu.init=e,tu.getConstants=n,tu.isCuid=r,tu}var IB=NB();const OB=IB.createId,yi=({name:t,schema:e,db:n,map:r,select$:i,create$:o,patch$:l,delete$:c,event:d})=>({name:t,schema:e,db:n,async create$({tx:m,entity:y,shape:b}){const E=OB();await d?.onPreCreate?.({tx:m,entity:y,shape:b}),await o({tx:m}).values(e.entity.parse({...await r?.toCreate?.({entity:y,shape:b})||y,id:E})).execute();const N=await this.getOrThrow$({tx:m,id:E,error:"Cannot fetch created entity"});return await d?.onPostCreate?.({tx:m,entity:N,shape:b}),N},async patch$({tx:m,entity:y,shape:b,where:E,filter:N}){const O=await this.fetchOrThrow$({tx:m,where:E,filter:N,error:"Cannot patch an unknown entity (empty query result)."});await d?.onPrePatch?.({tx:m,entity:y,shape:b}),await l({tx:m}).set(e.entity.partial().parse(await r?.toPatch?.({entity:y,shape:b})||y)).where("id","=",O.id).execute();const T=await this.getOrThrow$({tx:m,id:O.id});return await d?.onPostPatch?.({tx:m,entity:T,shape:b}),T},async delete$({tx:m,where:y,filter:b}){const E=await this.fetchOrThrow$({tx:m,where:y,filter:b,error:"Cannot patch an unknown entity (empty query result)."});return await c({tx:m}).where("id","=",E.id).execute(),E},async fetch$({tx:m,where:y,filter:b,sort:E}){const N=await i({tx:m,where:y,filter:b,sort:E,cursor:{page:0,size:1},use:["where","filter","cursor","sort"]}).executeTakeFirst();if(!N)return;const O=e.entity.parse(N);return(e.output??e.entity).parse(await r?.toOutput?.({tx:m,entity:O})||O)},async fetchOrThrow$({tx:m,where:y,filter:b,sort:E,error:N}){try{const O=e.entity.parse(await i({tx:m,where:y,filter:b,sort:E,cursor:{page:0,size:1},use:["where","filter","cursor","sort"]}).executeTakeFirstOrThrow());return(e.output??e.entity).parse(await r?.toOutput?.({tx:m,entity:O})||O)}catch(O){throw console.error(O),N?new Error(N):O}},async get$({tx:m,id:y}){return this.fetch$({tx:m,where:{id:y}})},async getOrThrow$({tx:m,id:y,error:b}){return this.fetchOrThrow$({tx:m,where:{id:y},error:b})},async list$({tx:m,where:y,filter:b,sort:E,cursor:N}){const O=e.output??e.entity;return Promise.all(ne.array(e.entity).parse(await i({tx:m,where:y,filter:b,sort:E,cursor:N,use:["where","filter","cursor","sort"]}).execute()).map(T=>e.entity.parse(T)).map(async T=>O.parse(await r?.toOutput?.({tx:m,entity:T})||T)))},async count$({tx:m,where:y,filter:b}){return{total:(await i({tx:m,use:[]}).select([E=>E.fn.countAll().as("count")]).executeTakeFirst()).count,where:(await i({tx:m,where:y,use:["where"]}).select([E=>E.fn.countAll().as("count")]).executeTakeFirst()).count,filter:(await i({tx:m,where:y,filter:b,use:["where","filter"]}).select([E=>E.fn.countAll().as("count")]).executeTakeFirst()).count}}}),Dx=new Proxy(()=>Dx,{get:()=>Dx}),vi=({entity:t,output:e=t,shape:n,filter:r,sort:i})=>{const o=Dx();return{entity:t,"~entity":o,"~entity-array":[],"~entity-partial-exclude-id":o,shape:n,"~shape":o,"~shape-partial":o,filter:r,"~filter":o,output:e,"~output":o,"~output-array":[],sort:ne.array(ne.object({name:ne.enum(i),sort:bB})),"~sort":o,"~sort-keyof":o}},Wa=(t,e)=>Array.from({length:e-t+1},(n,r)=>r+t),TB=({page:t,total:e,siblings:n=1,boundaries:r=1})=>{const i=Math.max(Math.trunc(e),0);if(n*2+3+r*2>=i)return{type:"simple",page:t,total:e,pages:Wa(1,i),start:[],end:[]};const l=Math.max(t-n,r),c=Math.min(t+n,i-r),d=l>r+2,m=c<i-(r+1);return!d&&m?{type:"end",page:t,total:e,start:[],pages:Wa(1,n*2+r+2),end:Wa(e-(r-1),i)}:d&&!m?{type:"start",page:t,total:e,start:Wa(1,r),pages:Wa(e-(r+1+2*n),i),end:[]}:{type:"both",page:t,total:e,start:Wa(1,r),pages:Wa(l,c),end:Wa(i-r+1,i)}};var km={exports:{}},qB=km.exports,a1;function CB(){return a1||(a1=1,function(t){(function(e,n){t.exports=n()})(qB,function(){var e=Object.prototype.toString;function n(b,E){return b==null?!1:Object.prototype.hasOwnProperty.call(b,E)}function r(b){if(!b||l(b)&&b.length===0)return!0;if(typeof b!="string"){for(var E in b)if(n(b,E))return!1;return!0}return!1}function i(b){return e.call(b)}function o(b){return typeof b=="object"&&i(b)==="[object Object]"}var l=Array.isArray||function(b){return e.call(b)==="[object Array]"};function c(b){return typeof b=="boolean"||i(b)==="[object Boolean]"}function d(b){var E=parseInt(b);return E.toString()===b?E:b}function m(b){b=b||{};var E=function(L){return Object.keys(E).reduce(function(P,B){return B==="create"||typeof E[B]=="function"&&(P[B]=E[B].bind(E,L)),P},{})},N;b.includeInheritedProps?N=function(){return!0}:N=function(L,P){return typeof P=="number"&&Array.isArray(L)||n(L,P)};function O(L,P){if(N(L,P))return L[P]}var T;b.includeInheritedProps?T=function(L,P){typeof P!="string"&&typeof P!="number"&&(P=String(P));var B=O(L,P);if(P==="__proto__"||P==="prototype"||P==="constructor"&&typeof B=="function")throw new Error("For security reasons, object's magic properties cannot be set");return B}:T=function(L,P){return O(L,P)};function A(L,P,B,Q){if(typeof P=="number"&&(P=[P]),!P||P.length===0)return L;if(typeof P=="string")return A(L,P.split(".").map(d),B,Q);var J=P[0],W=T(L,J);return P.length===1?((W===void 0||!Q)&&(L[J]=B),W):(W===void 0&&(typeof P[1]=="number"?L[J]=[]:L[J]={}),A(L[J],P.slice(1),B,Q))}return E.has=function(L,P){if(typeof P=="number"?P=[P]:typeof P=="string"&&(P=P.split(".")),!P||P.length===0)return!!L;for(var B=0;B<P.length;B++){var Q=d(P[B]);if(typeof Q=="number"&&l(L)&&Q<L.length||(b.includeInheritedProps?Q in Object(L):n(L,Q)))L=L[Q];else return!1}return!0},E.ensureExists=function(L,P,B){return A(L,P,B,!0)},E.set=function(L,P,B,Q){return A(L,P,B,Q)},E.insert=function(L,P,B,Q){var J=E.get(L,P);Q=~~Q,l(J)||(J=[],E.set(L,P,J)),J.splice(Q,0,B)},E.empty=function(L,P){if(!r(P)&&L!=null){var B,Q;if(B=E.get(L,P)){if(typeof B=="string")return E.set(L,P,"");if(c(B))return E.set(L,P,!1);if(typeof B=="number")return E.set(L,P,0);if(l(B))B.length=0;else if(o(B))for(Q in B)N(B,Q)&&delete B[Q];else return E.set(L,P,null)}}},E.push=function(L,P){var B=E.get(L,P);l(B)||(B=[],E.set(L,P,B)),B.push.apply(B,Array.prototype.slice.call(arguments,2))},E.coalesce=function(L,P,B){for(var Q,J=0,W=P.length;J<W;J++)if((Q=E.get(L,P[J]))!==void 0)return Q;return B},E.get=function(L,P,B){if(typeof P=="number"&&(P=[P]),!P||P.length===0)return L;if(L==null)return B;if(typeof P=="string")return E.get(L,P.split("."),B);var Q=d(P[0]),J=T(L,Q);return J===void 0?B:P.length===1?J:E.get(L[Q],P.slice(1),B)},E.del=function(P,B){if(typeof B=="number"&&(B=[B]),P==null||r(B))return P;if(typeof B=="string")return E.del(P,B.split("."));var Q=d(B[0]);if(T(P,Q),!N(P,Q))return P;if(B.length===1)l(P)?P.splice(Q,1):delete P[Q];else return E.del(P[Q],B.slice(1));return P},E}var y=m();return y.create=m,y.withInheritedProps=m({includeInheritedProps:!0}),y})}(km)),km.exports}var RB=CB();const l1=wa(RB);function tr({number:t,empty:e="-",fraction:n=2}){if(t==null)return e;try{return t.toLocaleString(void 0,{maximumFractionDigits:n})}catch(r){return console.error("toHumanNumber",t,r),t.toFixed(2)}}const Dw=({error:t,errors:e,onError:n})=>{const r=e.some(o=>o),i=t instanceof Error;return!r&&i&&n(t),r||i},Wq=yn({slot:{base:["flex","flex-row","gap-2","items-center","rounded","px-2","py-0.5","hover:bg-slate-100","text-slate-500","hover:text-blue-500","cursor-pointer"]},variant:{variant:{common:[],warning:["text-amber-500","hover:text-amber-600","hover:bg-amber-100"],danger:["text-red-500","hover:text-red-600","hover:bg-red-100"]},disabled:{true:["cursor-not-allowed","text-slate-300","bg-slate-100","hover:bg-slate-100"]}},defaults:{variant:"common",disabled:!1}}),AB=yn({use:Wq,slot:{},variant:{},defaults:{}}),jB=({icon:t,iconProps:e,variant:n,tva:r=AB,css:i,children:o,...l})=>{const c=r({...n,css:i}).slots;return h.jsxs("div",{className:c.base(),...l,children:[dp(t)?h.jsx(xn,{icon:t,...e}):t,o]})};function uy(){return typeof window<"u"}function El(t){return zq(t)?(t.nodeName||"").toLowerCase():"#document"}function Vi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Wo(t){var e;return(e=(zq(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function zq(t){return uy()?t instanceof Node||t instanceof Vi(t).Node:!1}function Zn(t){return uy()?t instanceof Element||t instanceof Vi(t).Element:!1}function Lr(t){return uy()?t instanceof HTMLElement||t instanceof Vi(t).HTMLElement:!1}function Mx(t){return!uy()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Vi(t).ShadowRoot}function pp(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Ms(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function PB(t){return["table","td","th"].includes(El(t))}function dy(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Mw(t){const e=fy(),n=Zn(t)?Ms(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function FB(t){let e=va(t);for(;Lr(e)&&!ha(e);){if(Mw(e))return e;if(dy(e))return null;e=va(e)}return null}function fy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ha(t){return["html","body","#document"].includes(El(t))}function Ms(t){return Vi(t).getComputedStyle(t)}function py(t){return Zn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function va(t){if(El(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Mx(t)&&t.host||Wo(t);return Mx(e)?e.host:e}function Uq(t){const e=va(t);return ha(e)?t.ownerDocument?t.ownerDocument.body:t.body:Lr(e)&&pp(e)?e:Uq(e)}function sl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Uq(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),l=Vi(i);if(o){const c=$x(l);return e.concat(l,l.visualViewport||[],pp(i)?i:[],c&&n?sl(c):[])}return e.concat(i,sl(i,[],n))}function $x(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function no(t){let e=t.activeElement;for(;((n=e)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;e=e.shadowRoot.activeElement}return e}function ei(t,e){if(!t||!e)return!1;const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&Mx(n)){let r=e;for(;r;){if(t===r)return!0;r=r.parentNode||r.host}}return!1}function $w(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function Vq(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}function Hq(t){return t.mozInputSource===0&&t.isTrusted?!0:Bx()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function Bw(t){return DB()?!1:!Bx()&&t.width===0&&t.height===0||Bx()&&t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0&&t.pointerType==="touch"}function Qq(){return/apple/i.test(navigator.vendor)}function Bx(){const t=/android/i;return t.test($w())||t.test(Vq())}function LB(){return $w().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function DB(){return Vq().includes("jsdom/")}function zf(t,e){const n=["mouse","pen"];return e||n.push("",void 0),n.includes(t)}function MB(t){return"nativeEvent"in t}function $B(t){return t.matches("html,body")}function ti(t){return t?.ownerDocument||document}function R_(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}function Ka(t){return"composedPath"in t?t.composedPath()[0]:t.target}const BB="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Ww(t){return Lr(t)&&t.matches(BB)}function wi(t){t.preventDefault(),t.stopPropagation()}function Kq(t){return t?t.getAttribute("role")==="combobox"&&Ww(t):!1}const Mu=Math.min,os=Math.max,hg=Math.round,hu=Math.floor,jo=t=>({x:t,y:t}),WB={left:"right",right:"left",bottom:"top",top:"bottom"},zB={start:"end",end:"start"};function c1(t,e,n){return os(t,Mu(e,n))}function hp(t,e){return typeof t=="function"?t(e):t}function gl(t){return t.split("-")[0]}function mp(t){return t.split("-")[1]}function Gq(t){return t==="x"?"y":"x"}function Jq(t){return t==="y"?"height":"width"}function gc(t){return["top","bottom"].includes(gl(t))?"y":"x"}function Zq(t){return Gq(gc(t))}function UB(t,e,n){n===void 0&&(n=!1);const r=mp(t),i=Zq(t),o=Jq(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=mg(l)),[l,mg(l)]}function VB(t){const e=mg(t);return[Wx(t),e,Wx(e)]}function Wx(t){return t.replace(/start|end/g,e=>zB[e])}function HB(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:l;default:return[]}}function QB(t,e,n,r){const i=mp(t);let o=HB(gl(t),n==="start",r);return i&&(o=o.map(l=>l+"-"+i),e&&(o=o.concat(o.map(Wx)))),o}function mg(t){return t.replace(/left|right|bottom|top/g,e=>WB[e])}function KB(t){return{top:0,right:0,bottom:0,left:0,...t}}function GB(t){return typeof t!="number"?KB(t):{top:t,right:t,bottom:t,left:t}}function gg(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}var JB=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],yg=JB.join(","),Yq=typeof Element>"u",$u=Yq?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,vg=!Yq&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t?.ownerDocument},bg=function t(e,n){var r;n===void 0&&(n=!0);var i=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),o=i===""||i==="true",l=o||n&&e&&t(e.parentNode);return l},ZB=function(e){var n,r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return r===""||r==="true"},YB=function(e,n,r){if(bg(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(yg));return n&&$u.call(e,yg)&&i.unshift(e),i=i.filter(r),i},XB=function t(e,n,r){for(var i=[],o=Array.from(e);o.length;){var l=o.shift();if(!bg(l,!1))if(l.tagName==="SLOT"){var c=l.assignedElements(),d=c.length?c:l.children,m=t(d,!0,r);r.flatten?i.push.apply(i,m):i.push({scopeParent:l,candidates:m})}else{var y=$u.call(l,yg);y&&r.filter(l)&&(n||!e.includes(l))&&i.push(l);var b=l.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(l),E=!bg(b,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(l));if(b&&E){var N=t(b===!0?l.children:b.children,!0,r);r.flatten?i.push.apply(i,N):i.push({scopeParent:l,candidates:N})}else o.unshift.apply(o,l.children)}}return i},Xq=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},eC=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||ZB(e))&&!Xq(e)?0:e.tabIndex},e4=function(e,n){var r=eC(e);return r<0&&n&&!Xq(e)?0:r},t4=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},tC=function(e){return e.tagName==="INPUT"},n4=function(e){return tC(e)&&e.type==="hidden"},r4=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},i4=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},s4=function(e){if(!e.name)return!0;var n=e.form||vg(e),r=function(c){return n.querySelectorAll('input[type="radio"][name="'+c+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var o=i4(i,e.form);return!o||o===e},o4=function(e){return tC(e)&&e.type==="radio"},a4=function(e){return o4(e)&&!s4(e)},l4=function(e){var n,r=e&&vg(e),i=(n=r)===null||n===void 0?void 0:n.host,o=!1;if(r&&r!==e){var l,c,d;for(o=!!((l=i)!==null&&l!==void 0&&(c=l.ownerDocument)!==null&&c!==void 0&&c.contains(i)||e!=null&&(d=e.ownerDocument)!==null&&d!==void 0&&d.contains(e));!o&&i;){var m,y,b;r=vg(i),i=(m=r)===null||m===void 0?void 0:m.host,o=!!((y=i)!==null&&y!==void 0&&(b=y.ownerDocument)!==null&&b!==void 0&&b.contains(i))}}return o},u1=function(e){var n=e.getBoundingClientRect(),r=n.width,i=n.height;return r===0&&i===0},c4=function(e,n){var r=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=$u.call(e,"details>summary:first-of-type"),l=o?e.parentElement:e;if($u.call(l,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var c=e;e;){var d=e.parentElement,m=vg(e);if(d&&!d.shadowRoot&&i(d)===!0)return u1(e);e.assignedSlot?e=e.assignedSlot:!d&&m!==e.ownerDocument?e=m.host:e=d}e=c}if(l4(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return u1(e);return!1},u4=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return $u.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},d4=function(e,n){return!(n.disabled||bg(n)||n4(n)||c4(n,e)||r4(n)||u4(n))},zx=function(e,n){return!(a4(n)||eC(n)<0||!d4(e,n))},f4=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},p4=function t(e){var n=[],r=[];return e.forEach(function(i,o){var l=!!i.scopeParent,c=l?i.scopeParent:i,d=e4(c,l),m=l?t(i.candidates):c;d===0?l?n.push.apply(n,m):n.push(c):r.push({documentOrder:o,tabIndex:d,item:i,isScope:l,content:m})}),r.sort(t4).reduce(function(i,o){return o.isScope?i.push.apply(i,o.content):i.push(o.content),i},[]).concat(n)},hy=function(e,n){n=n||{};var r;return n.getShadowRoot?r=XB([e],n.includeContainer,{filter:zx.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:f4}):r=YB(e,n.includeContainer,zx.bind(null,n)),p4(r)},h4=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return $u.call(e,yg)===!1?!1:zx(n,e)};function d1(t,e,n){let{reference:r,floating:i}=t;const o=gc(e),l=Zq(e),c=Jq(l),d=gl(e),m=o==="y",y=r.x+r.width/2-i.width/2,b=r.y+r.height/2-i.height/2,E=r[c]/2-i[c]/2;let N;switch(d){case"top":N={x:y,y:r.y-i.height};break;case"bottom":N={x:y,y:r.y+r.height};break;case"right":N={x:r.x+r.width,y:b};break;case"left":N={x:r.x-i.width,y:b};break;default:N={x:r.x,y:r.y}}switch(mp(e)){case"start":N[l]-=E*(n&&m?-1:1);break;case"end":N[l]+=E*(n&&m?-1:1);break}return N}const m4=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:l}=n,c=o.filter(Boolean),d=await (l.isRTL==null?void 0:l.isRTL(e));let m=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:y,y:b}=d1(m,r,d),E=r,N={},O=0;for(let T=0;T<c.length;T++){const{name:A,fn:L}=c[T],{x:P,y:B,data:Q,reset:J}=await L({x:y,y:b,initialPlacement:r,placement:E,strategy:i,middlewareData:N,rects:m,platform:l,elements:{reference:t,floating:e}});y=P??y,b=B??b,N={...N,[A]:{...N[A],...Q}},J&&O<=50&&(O++,typeof J=="object"&&(J.placement&&(E=J.placement),J.rects&&(m=J.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):J.rects),{x:y,y:b}=d1(m,E,d)),T=-1)}return{x:y,y:b,placement:E,strategy:i,middlewareData:N}};async function zw(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:l,elements:c,strategy:d}=t,{boundary:m="clippingAncestors",rootBoundary:y="viewport",elementContext:b="floating",altBoundary:E=!1,padding:N=0}=hp(e,t),O=GB(N),A=c[E?b==="floating"?"reference":"floating":b],L=gg(await o.getClippingRect({element:(n=await (o.isElement==null?void 0:o.isElement(A)))==null||n?A:A.contextElement||await (o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:m,rootBoundary:y,strategy:d})),P=b==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,B=await (o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),Q=await (o.isElement==null?void 0:o.isElement(B))?await (o.getScale==null?void 0:o.getScale(B))||{x:1,y:1}:{x:1,y:1},J=gg(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:P,offsetParent:B,strategy:d}):P);return{top:(L.top-J.top+O.top)/Q.y,bottom:(J.bottom-L.bottom+O.bottom)/Q.y,left:(L.left-J.left+O.left)/Q.x,right:(J.right-L.right+O.right)/Q.x}}const g4=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:l,initialPlacement:c,platform:d,elements:m}=e,{mainAxis:y=!0,crossAxis:b=!0,fallbackPlacements:E,fallbackStrategy:N="bestFit",fallbackAxisSideDirection:O="none",flipAlignment:T=!0,...A}=hp(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const L=gl(i),P=gc(c),B=gl(c)===c,Q=await (d.isRTL==null?void 0:d.isRTL(m.floating)),J=E||(B||!T?[mg(c)]:VB(c)),W=O!=="none";!E&&W&&J.push(...QB(c,T,O,Q));const G=[c,...J],re=await zw(e,A),H=[];let te=((r=o.flip)==null?void 0:r.overflows)||[];if(y&&H.push(re[L]),b){const fe=UB(i,l,Q);H.push(re[fe[0]],re[fe[1]])}if(te=[...te,{placement:i,overflows:H}],!H.every(fe=>fe<=0)){var $,oe;const fe=((($=o.flip)==null?void 0:$.index)||0)+1,Ee=G[fe];if(Ee)return{data:{index:fe,overflows:te},reset:{placement:Ee}};let qe=(oe=te.filter(je=>je.overflows[0]<=0).sort((je,ve)=>je.overflows[1]-ve.overflows[1])[0])==null?void 0:oe.placement;if(!qe)switch(N){case"bestFit":{var Y;const je=(Y=te.filter(ve=>{if(W){const pe=gc(ve.placement);return pe===P||pe==="y"}return!0}).map(ve=>[ve.placement,ve.overflows.filter(pe=>pe>0).reduce((pe,ke)=>pe+ke,0)]).sort((ve,pe)=>ve[1]-pe[1])[0])==null?void 0:Y[0];je&&(qe=je);break}case"initialPlacement":qe=c;break}if(i!==qe)return{reset:{placement:qe}}}return{}}}};async function y4(t,e){const{placement:n,platform:r,elements:i}=t,o=await (r.isRTL==null?void 0:r.isRTL(i.floating)),l=gl(n),c=mp(n),d=gc(n)==="y",m=["left","top"].includes(l)?-1:1,y=o&&d?-1:1,b=hp(e,t);let{mainAxis:E,crossAxis:N,alignmentAxis:O}=typeof b=="number"?{mainAxis:b,crossAxis:0,alignmentAxis:null}:{mainAxis:b.mainAxis||0,crossAxis:b.crossAxis||0,alignmentAxis:b.alignmentAxis};return c&&typeof O=="number"&&(N=c==="end"?O*-1:O),d?{x:N*y,y:E*m}:{x:E*m,y:N*y}}const v4=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:l,middlewareData:c}=e,d=await y4(e,t);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+d.x,y:o+d.y,data:{...d,placement:l}}}}},b4=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:A=>{let{x:L,y:P}=A;return{x:L,y:P}}},...d}=hp(t,e),m={x:n,y:r},y=await zw(e,d),b=gc(gl(i)),E=Gq(b);let N=m[E],O=m[b];if(o){const A=E==="y"?"top":"left",L=E==="y"?"bottom":"right",P=N+y[A],B=N-y[L];N=c1(P,N,B)}if(l){const A=b==="y"?"top":"left",L=b==="y"?"bottom":"right",P=O+y[A],B=O-y[L];O=c1(P,O,B)}const T=c.fn({...e,[E]:N,[b]:O});return{...T,data:{x:T.x-n,y:T.y-r,enabled:{[E]:o,[b]:l}}}}}},_4=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:l,elements:c}=e,{apply:d=()=>{},...m}=hp(t,e),y=await zw(e,m),b=gl(i),E=mp(i),N=gc(i)==="y",{width:O,height:T}=o.floating;let A,L;b==="top"||b==="bottom"?(A=b,L=E===(await (l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(L=b,A=E==="end"?"top":"bottom");const P=T-y.top-y.bottom,B=O-y.left-y.right,Q=Mu(T-y[A],P),J=Mu(O-y[L],B),W=!e.middlewareData.shift;let G=Q,re=J;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(re=B),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(G=P),W&&!E){const te=os(y.left,0),$=os(y.right,0),oe=os(y.top,0),Y=os(y.bottom,0);N?re=O-2*(te!==0||$!==0?te+$:os(y.left,y.right)):G=T-2*(oe!==0||Y!==0?oe+Y:os(y.top,y.bottom))}await d({...e,availableWidth:re,availableHeight:G});const H=await l.getDimensions(c.floating);return O!==H.width||T!==H.height?{reset:{rects:!0}}:{}}}};function nC(t){const e=Ms(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Lr(t),o=i?t.offsetWidth:n,l=i?t.offsetHeight:r,c=hg(n)!==o||hg(r)!==l;return c&&(n=o,r=l),{width:n,height:r,$:c}}function Uw(t){return Zn(t)?t:t.contextElement}function Eu(t){const e=Uw(t);if(!Lr(e))return jo(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=nC(e);let l=(o?hg(n.width):n.width)/r,c=(o?hg(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const x4=jo(0);function rC(t){const e=Vi(t);return!fy()||!e.visualViewport?x4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function w4(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Vi(t)?!1:e}function yc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=Uw(t);let l=jo(1);e&&(r?Zn(r)&&(l=Eu(r)):l=Eu(t));const c=w4(o,n,r)?rC(o):jo(0);let d=(i.left+c.x)/l.x,m=(i.top+c.y)/l.y,y=i.width/l.x,b=i.height/l.y;if(o){const E=Vi(o),N=r&&Zn(r)?Vi(r):r;let O=E,T=$x(O);for(;T&&r&&N!==O;){const A=Eu(T),L=T.getBoundingClientRect(),P=Ms(T),B=L.left+(T.clientLeft+parseFloat(P.paddingLeft))*A.x,Q=L.top+(T.clientTop+parseFloat(P.paddingTop))*A.y;d*=A.x,m*=A.y,y*=A.x,b*=A.y,d+=B,m+=Q,O=Vi(T),T=$x(O)}}return gg({width:y,height:b,x:d,y:m})}function Vw(t,e){const n=py(t).scrollLeft;return e?e.left+n:yc(Wo(t)).left+n}function iC(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:Vw(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function S4(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",l=Wo(r),c=e?dy(e.floating):!1;if(r===l||c&&o)return n;let d={scrollLeft:0,scrollTop:0},m=jo(1);const y=jo(0),b=Lr(r);if((b||!b&&!o)&&((El(r)!=="body"||pp(l))&&(d=py(r)),Lr(r))){const N=yc(r);m=Eu(r),y.x=N.x+r.clientLeft,y.y=N.y+r.clientTop}const E=l&&!b&&!o?iC(l,d,!0):jo(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-d.scrollLeft*m.x+y.x+E.x,y:n.y*m.y-d.scrollTop*m.y+y.y+E.y}}function E4(t){return Array.from(t.getClientRects())}function k4(t){const e=Wo(t),n=py(t),r=t.ownerDocument.body,i=os(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=os(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+Vw(t);const c=-n.scrollTop;return Ms(r).direction==="rtl"&&(l+=os(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:l,y:c}}function N4(t,e){const n=Vi(t),r=Wo(t),i=n.visualViewport;let o=r.clientWidth,l=r.clientHeight,c=0,d=0;if(i){o=i.width,l=i.height;const m=fy();(!m||m&&e==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}return{width:o,height:l,x:c,y:d}}function I4(t,e){const n=yc(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=Lr(t)?Eu(t):jo(1),l=t.clientWidth*o.x,c=t.clientHeight*o.y,d=i*o.x,m=r*o.y;return{width:l,height:c,x:d,y:m}}function f1(t,e,n){let r;if(e==="viewport")r=N4(t,n);else if(e==="document")r=k4(Wo(t));else if(Zn(e))r=I4(e,n);else{const i=rC(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return gg(r)}function sC(t,e){const n=va(t);return n===e||!Zn(n)||ha(n)?!1:Ms(n).position==="fixed"||sC(n,e)}function O4(t,e){const n=e.get(t);if(n)return n;let r=sl(t,[],!1).filter(c=>Zn(c)&&El(c)!=="body"),i=null;const o=Ms(t).position==="fixed";let l=o?va(t):t;for(;Zn(l)&&!ha(l);){const c=Ms(l),d=Mw(l);!d&&c.position==="fixed"&&(i=null),(o?!d&&!i:!d&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||pp(l)&&!d&&sC(t,l))?r=r.filter(y=>y!==l):i=c,l=va(l)}return e.set(t,r),r}function T4(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const l=[...n==="clippingAncestors"?dy(e)?[]:O4(e,this._c):[].concat(n),r],c=l[0],d=l.reduce((m,y)=>{const b=f1(e,y,i);return m.top=os(b.top,m.top),m.right=Mu(b.right,m.right),m.bottom=Mu(b.bottom,m.bottom),m.left=os(b.left,m.left),m},f1(e,c,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function q4(t){const{width:e,height:n}=nC(t);return{width:e,height:n}}function C4(t,e,n){const r=Lr(e),i=Wo(e),o=n==="fixed",l=yc(t,!0,o,e);let c={scrollLeft:0,scrollTop:0};const d=jo(0);if(r||!r&&!o)if((El(e)!=="body"||pp(i))&&(c=py(e)),r){const E=yc(e,!0,o,e);d.x=E.x+e.clientLeft,d.y=E.y+e.clientTop}else i&&(d.x=Vw(i));const m=i&&!r&&!o?iC(i,c):jo(0),y=l.left+c.scrollLeft-d.x-m.x,b=l.top+c.scrollTop-d.y-m.y;return{x:y,y:b,width:l.width,height:l.height}}function A_(t){return Ms(t).position==="static"}function p1(t,e){if(!Lr(t)||Ms(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Wo(t)===n&&(n=n.ownerDocument.body),n}function oC(t,e){const n=Vi(t);if(dy(t))return n;if(!Lr(t)){let i=va(t);for(;i&&!ha(i);){if(Zn(i)&&!A_(i))return i;i=va(i)}return n}let r=p1(t,e);for(;r&&PB(r)&&A_(r);)r=p1(r,e);return r&&ha(r)&&A_(r)&&!Mw(r)?n:r||FB(t)||n}const R4=async function(t){const e=this.getOffsetParent||oC,n=this.getDimensions,r=await n(t.floating);return{reference:C4(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function A4(t){return Ms(t).direction==="rtl"}const j4={convertOffsetParentRelativeRectToViewportRelativeRect:S4,getDocumentElement:Wo,getClippingRect:T4,getOffsetParent:oC,getElementRects:R4,getClientRects:E4,getDimensions:q4,getScale:Eu,isElement:Zn,isRTL:A4};function P4(t,e){let n=null,r;const i=Wo(t);function o(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),o();const{left:m,top:y,width:b,height:E}=t.getBoundingClientRect();if(c||e(),!b||!E)return;const N=hu(y),O=hu(i.clientWidth-(m+b)),T=hu(i.clientHeight-(y+E)),A=hu(m),P={rootMargin:-N+"px "+-O+"px "+-T+"px "+-A+"px",threshold:os(0,Mu(1,d))||1};let B=!0;function Q(J){const W=J[0].intersectionRatio;if(W!==d){if(!B)return l();W?l(!1,W):r=setTimeout(()=>{l(!1,1e-7)},1e3)}B=!1}try{n=new IntersectionObserver(Q,{...P,root:i.ownerDocument})}catch{n=new IntersectionObserver(Q,P)}n.observe(t)}return l(!0),o}function aC(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,m=Uw(t),y=i||o?[...m?sl(m):[],...sl(e)]:[];y.forEach(L=>{i&&L.addEventListener("scroll",n,{passive:!0}),o&&L.addEventListener("resize",n)});const b=m&&c?P4(m,n):null;let E=-1,N=null;l&&(N=new ResizeObserver(L=>{let[P]=L;P&&P.target===m&&N&&(N.unobserve(e),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var B;(B=N)==null||B.observe(e)})),n()}),m&&!d&&N.observe(m),N.observe(e));let O,T=d?yc(t):null;d&&A();function A(){const L=yc(t);T&&(L.x!==T.x||L.y!==T.y||L.width!==T.width||L.height!==T.height)&&n(),T=L,O=requestAnimationFrame(A)}return n(),()=>{var L;y.forEach(P=>{i&&P.removeEventListener("scroll",n),o&&P.removeEventListener("resize",n)}),b?.(),(L=N)==null||L.disconnect(),N=null,d&&cancelAnimationFrame(O)}}const F4=v4,L4=b4,D4=g4,M4=_4,$4=(t,e,n)=>{const r=new Map,i={platform:j4,...n},o={...i.platform,_c:r};return m4(t,e,{...i,platform:o})};var Nm=typeof document<"u"?U.useLayoutEffect:U.useEffect;function _g(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!_g(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!_g(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function lC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function h1(t,e){const n=lC(t);return Math.round(e*n)/n}function j_(t){const e=U.useRef(t);return Nm(()=>{e.current=t}),e}function B4(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:d,open:m}=t,[y,b]=U.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[E,N]=U.useState(r);_g(E,r)||N(r);const[O,T]=U.useState(null),[A,L]=U.useState(null),P=U.useCallback(ve=>{ve!==W.current&&(W.current=ve,T(ve))},[]),B=U.useCallback(ve=>{ve!==G.current&&(G.current=ve,L(ve))},[]),Q=o||O,J=l||A,W=U.useRef(null),G=U.useRef(null),re=U.useRef(y),H=d!=null,te=j_(d),$=j_(i),oe=j_(m),Y=U.useCallback(()=>{if(!W.current||!G.current)return;const ve={placement:e,strategy:n,middleware:E};$.current&&(ve.platform=$.current),$4(W.current,G.current,ve).then(pe=>{const ke={...pe,isPositioned:oe.current!==!1};fe.current&&!_g(re.current,ke)&&(re.current=ke,xw.flushSync(()=>{b(ke)}))})},[E,e,n,$,oe]);Nm(()=>{m===!1&&re.current.isPositioned&&(re.current.isPositioned=!1,b(ve=>({...ve,isPositioned:!1})))},[m]);const fe=U.useRef(!1);Nm(()=>(fe.current=!0,()=>{fe.current=!1}),[]),Nm(()=>{if(Q&&(W.current=Q),J&&(G.current=J),Q&&J){if(te.current)return te.current(Q,J,Y);Y()}},[Q,J,Y,te,H]);const Ee=U.useMemo(()=>({reference:W,floating:G,setReference:P,setFloating:B}),[P,B]),qe=U.useMemo(()=>({reference:Q,floating:J}),[Q,J]),je=U.useMemo(()=>{const ve={position:n,left:0,top:0};if(!qe.floating)return ve;const pe=h1(qe.floating,y.x),ke=h1(qe.floating,y.y);return c?{...ve,transform:"translate("+pe+"px, "+ke+"px)",...lC(qe.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:pe,top:ke}},[n,c,qe.floating,y.x,y.y]);return U.useMemo(()=>({...y,update:Y,refs:Ee,elements:qe,floatingStyles:je}),[y,Y,Ee,qe,je])}const cC=(t,e)=>({...F4(t),options:[t,e]}),W4=(t,e)=>({...L4(t),options:[t,e]}),uC=(t,e)=>({...D4(t),options:[t,e]}),z4=(t,e)=>({...M4(t),options:[t,e]});function m1(t){return U.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})},t)}const dC={...XA},U4=dC.useInsertionEffect,V4=U4||(t=>t());function Wi(t){const e=U.useRef(()=>{});return V4(()=>{e.current=t}),U.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}const Hw="ArrowUp",gp="ArrowDown",ol="ArrowLeft",al="ArrowRight";function Jh(t,e,n){return Math.floor(t/e)!==n}function gf(t,e){return e<0||e>=t.current.length}function P_(t,e){return li(t,{disabledIndices:e})}function g1(t,e){return li(t,{decrement:!0,startingIndex:t.current.length,disabledIndices:e})}function li(t,e){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:i,amount:o=1}=e===void 0?{}:e;const l=t.current;let c=n;do c+=r?-o:o;while(c>=0&&c<=l.length-1&&Im(l,c,i));return c}function H4(t,e){let{event:n,orientation:r,loop:i,rtl:o,cols:l,disabledIndices:c,minIndex:d,maxIndex:m,prevIndex:y,stopEvent:b=!1}=e,E=y;if(n.key===Hw){if(b&&wi(n),y===-1)E=m;else if(E=li(t,{startingIndex:E,amount:l,decrement:!0,disabledIndices:c}),i&&(y-l<d||E<0)){const N=y%l,O=m%l,T=m-(O-N);O===N?E=m:E=O>N?T:T-l}gf(t,E)&&(E=y)}if(n.key===gp&&(b&&wi(n),y===-1?E=d:(E=li(t,{startingIndex:y,amount:l,disabledIndices:c}),i&&y+l>m&&(E=li(t,{startingIndex:y%l-l,amount:l,disabledIndices:c}))),gf(t,E)&&(E=y)),r==="both"){const N=hu(y/l);n.key===(o?ol:al)&&(b&&wi(n),y%l!==l-1?(E=li(t,{startingIndex:y,disabledIndices:c}),i&&Jh(E,l,N)&&(E=li(t,{startingIndex:y-y%l-1,disabledIndices:c}))):i&&(E=li(t,{startingIndex:y-y%l-1,disabledIndices:c})),Jh(E,l,N)&&(E=y)),n.key===(o?al:ol)&&(b&&wi(n),y%l!==0?(E=li(t,{startingIndex:y,decrement:!0,disabledIndices:c}),i&&Jh(E,l,N)&&(E=li(t,{startingIndex:y+(l-y%l),decrement:!0,disabledIndices:c}))):i&&(E=li(t,{startingIndex:y+(l-y%l),decrement:!0,disabledIndices:c})),Jh(E,l,N)&&(E=y));const O=hu(m/l)===N;gf(t,E)&&(i&&O?E=n.key===(o?al:ol)?m:li(t,{startingIndex:y-y%l-1,disabledIndices:c}):E=y)}return E}function Q4(t,e,n){const r=[];let i=0;return t.forEach((o,l)=>{let{width:c,height:d}=o,m=!1;for(n&&(i=0);!m;){const y=[];for(let b=0;b<c;b++)for(let E=0;E<d;E++)y.push(i+b+E*e);i%e+c<=e&&y.every(b=>r[b]==null)?(y.forEach(b=>{r[b]=l}),m=!0):i++}}),[...r]}function K4(t,e,n,r,i){if(t===-1)return-1;const o=n.indexOf(t),l=e[t];switch(i){case"tl":return o;case"tr":return l?o+l.width-1:o;case"bl":return l?o+(l.height-1)*r:o;case"br":return n.lastIndexOf(t)}}function G4(t,e){return e.flatMap((n,r)=>t.includes(n)?[r]:[])}function Im(t,e,n){if(n)return n.includes(e);const r=t[e];return r==null||r.hasAttribute("disabled")||r.getAttribute("aria-disabled")==="true"}var sr=typeof document<"u"?U.useLayoutEffect:U.useEffect;function Uf(){return Uf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uf.apply(this,arguments)}let y1=!1,J4=0;const v1=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+J4++;function Z4(){const[t,e]=U.useState(()=>y1?v1():void 0);return sr(()=>{t==null&&e(v1())},[]),U.useEffect(()=>{y1=!0},[]),t}const Y4=dC.useId,Qw=Y4||Z4;function fC(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const pC=U.createContext(null),hC=U.createContext(null),yp=()=>{var t;return((t=U.useContext(pC))==null?void 0:t.id)||null},ed=()=>U.useContext(hC);function X4(t){const e=Qw(),n=ed(),i=yp();return sr(()=>{if(!e)return;const o={id:e,parentId:i};return n?.addNode(o),()=>{n?.removeNode(o)}},[n,e,i]),e}function eW(t){const{children:e,id:n}=t,r=yp();return U.createElement(pC.Provider,{value:U.useMemo(()=>({id:n,parentId:r}),[n,r])},e)}function tW(t){const{children:e}=t,n=U.useRef([]),r=U.useCallback(l=>{n.current=[...n.current,l]},[]),i=U.useCallback(l=>{n.current=n.current.filter(c=>c!==l)},[]),o=U.useState(()=>fC())[0];return U.createElement(hC.Provider,{value:U.useMemo(()=>({nodesRef:n,addNode:r,removeNode:i,events:o}),[r,i,o])},e)}function vc(t){return"data-floating-ui-"+t}function ki(t){const e=U.useRef(t);return sr(()=>{e.current=t}),e}const b1=vc("safe-polygon");function F_(t,e,n){return n&&!zf(n)?0:typeof t=="number"?t:t?.[e]}function nW(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:i,events:o,elements:l}=t,{enabled:c=!0,delay:d=0,handleClose:m=null,mouseOnly:y=!1,restMs:b=0,move:E=!0}=e,N=ed(),O=yp(),T=ki(m),A=ki(d),L=ki(n),P=U.useRef(),B=U.useRef(-1),Q=U.useRef(),J=U.useRef(-1),W=U.useRef(!0),G=U.useRef(!1),re=U.useRef(()=>{}),H=U.useRef(!1),te=U.useCallback(()=>{var je;const ve=(je=i.current.openEvent)==null?void 0:je.type;return ve?.includes("mouse")&&ve!=="mousedown"},[i]);U.useEffect(()=>{if(!c)return;function je(ve){let{open:pe}=ve;pe||(clearTimeout(B.current),clearTimeout(J.current),W.current=!0,H.current=!1)}return o.on("openchange",je),()=>{o.off("openchange",je)}},[c,o]),U.useEffect(()=>{if(!c||!T.current||!n)return;function je(pe){te()&&r(!1,pe,"hover")}const ve=ti(l.floating).documentElement;return ve.addEventListener("mouseleave",je),()=>{ve.removeEventListener("mouseleave",je)}},[l.floating,n,r,c,T,te]);const $=U.useCallback(function(je,ve,pe){ve===void 0&&(ve=!0),pe===void 0&&(pe="hover");const ke=F_(A.current,"close",P.current);ke&&!Q.current?(clearTimeout(B.current),B.current=window.setTimeout(()=>r(!1,je,pe),ke)):ve&&(clearTimeout(B.current),r(!1,je,pe))},[A,r]),oe=Wi(()=>{re.current(),Q.current=void 0}),Y=Wi(()=>{if(G.current){const je=ti(l.floating).body;je.style.pointerEvents="",je.removeAttribute(b1),G.current=!1}}),fe=Wi(()=>i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1);U.useEffect(()=>{if(!c)return;function je(K){if(clearTimeout(B.current),W.current=!1,y&&!zf(P.current)||b>0&&!F_(A.current,"open"))return;const xe=F_(A.current,"open",P.current);xe?B.current=window.setTimeout(()=>{L.current||r(!0,K,"hover")},xe):n||r(!0,K,"hover")}function ve(K){if(fe())return;re.current();const xe=ti(l.floating);if(clearTimeout(J.current),H.current=!1,T.current&&i.current.floatingContext){n||clearTimeout(B.current),Q.current=T.current({...i.current.floatingContext,tree:N,x:K.clientX,y:K.clientY,onClose(){Y(),oe(),fe()||$(K,!0,"safe-polygon")}});const at=Q.current;xe.addEventListener("mousemove",at),re.current=()=>{xe.removeEventListener("mousemove",at)};return}(P.current==="touch"?!ei(l.floating,K.relatedTarget):!0)&&$(K)}function pe(K){fe()||i.current.floatingContext&&(T.current==null||T.current({...i.current.floatingContext,tree:N,x:K.clientX,y:K.clientY,onClose(){Y(),oe(),fe()||$(K)}})(K))}if(Zn(l.domReference)){var ke;const K=l.domReference;return n&&K.addEventListener("mouseleave",pe),(ke=l.floating)==null||ke.addEventListener("mouseleave",pe),E&&K.addEventListener("mousemove",je,{once:!0}),K.addEventListener("mouseenter",je),K.addEventListener("mouseleave",ve),()=>{var xe;n&&K.removeEventListener("mouseleave",pe),(xe=l.floating)==null||xe.removeEventListener("mouseleave",pe),E&&K.removeEventListener("mousemove",je),K.removeEventListener("mouseenter",je),K.removeEventListener("mouseleave",ve)}}},[l,c,t,y,b,E,$,oe,Y,r,n,L,N,A,T,i,fe]),sr(()=>{var je;if(c&&n&&(je=T.current)!=null&&je.__options.blockPointerEvents&&te()){G.current=!0;const pe=l.floating;if(Zn(l.domReference)&&pe){var ve;const ke=ti(l.floating).body;ke.setAttribute(b1,"");const K=l.domReference,xe=N==null||(ve=N.nodesRef.current.find(ut=>ut.id===O))==null||(ve=ve.context)==null?void 0:ve.elements.floating;return xe&&(xe.style.pointerEvents=""),ke.style.pointerEvents="none",K.style.pointerEvents="auto",pe.style.pointerEvents="auto",()=>{ke.style.pointerEvents="",K.style.pointerEvents="",pe.style.pointerEvents=""}}}},[c,n,O,l,N,T,te]),sr(()=>{n||(P.current=void 0,H.current=!1,oe(),Y())},[n,oe,Y]),U.useEffect(()=>()=>{oe(),clearTimeout(B.current),clearTimeout(J.current),Y()},[c,l.domReference,oe,Y]);const Ee=U.useMemo(()=>{function je(ve){P.current=ve.pointerType}return{onPointerDown:je,onPointerEnter:je,onMouseMove(ve){const{nativeEvent:pe}=ve;function ke(){!W.current&&!L.current&&r(!0,pe,"hover")}y&&!zf(P.current)||n||b===0||H.current&&ve.movementX**2+ve.movementY**2<2||(clearTimeout(J.current),P.current==="touch"?ke():(H.current=!0,J.current=window.setTimeout(ke,b)))}}},[y,r,n,L,b]),qe=U.useMemo(()=>({onMouseEnter(){clearTimeout(B.current)},onMouseLeave(je){fe()||$(je.nativeEvent,!1)}}),[$,fe]);return U.useMemo(()=>c?{reference:Ee,floating:qe}:{},[c,Ee,qe])}let _1=0;function Ql(t,e){e===void 0&&(e={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:i=!1}=e;r&&cancelAnimationFrame(_1);const o=()=>t?.focus({preventScroll:n});i?o():_1=requestAnimationFrame(o)}function x1(t,e){var n;let r=[],i=(n=t.find(o=>o.id===e))==null?void 0:n.parentId;for(;i;){const o=t.find(l=>l.id===i);i=o?.parentId,o&&(r=r.concat(o))}return r}function ku(t,e){let n=t.filter(i=>{var o;return i.parentId===e&&((o=i.context)==null?void 0:o.open)}),r=n;for(;r.length;)r=t.filter(i=>{var o;return(o=r)==null?void 0:o.some(l=>{var c;return i.parentId===l.id&&((c=i.context)==null?void 0:c.open)})}),n=n.concat(r);return n}function rW(t,e){let n,r=-1;function i(o,l){l>r&&(n=o,r=l),ku(t,o).forEach(d=>{i(d.id,l+1)})}return i(e,0),t.find(o=>o.id===n)}let nu=new WeakMap,Zh=new WeakSet,Yh={},L_=0;const iW=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,mC=t=>t&&(t.host||mC(t.parentNode)),sW=(t,e)=>e.map(n=>{if(t.contains(n))return n;const r=mC(n);return t.contains(r)?r:null}).filter(n=>n!=null);function oW(t,e,n,r){const i="data-floating-ui-inert",o=r?"inert":n?"aria-hidden":null,l=sW(e,t),c=new Set,d=new Set(l),m=[];Yh[i]||(Yh[i]=new WeakMap);const y=Yh[i];l.forEach(b),E(e),c.clear();function b(N){!N||c.has(N)||(c.add(N),N.parentNode&&b(N.parentNode))}function E(N){!N||d.has(N)||[].forEach.call(N.children,O=>{if(El(O)!=="script")if(c.has(O))E(O);else{const T=o?O.getAttribute(o):null,A=T!==null&&T!=="false",L=nu.get(O)||0,P=o?L+1:L,B=(y.get(O)||0)+1;nu.set(O,P),y.set(O,B),m.push(O),P===1&&A&&Zh.add(O),B===1&&O.setAttribute(i,""),!A&&o&&O.setAttribute(o,"true")}})}return L_++,()=>{m.forEach(N=>{const O=nu.get(N)||0,T=o?O-1:O,A=(y.get(N)||0)-1;nu.set(N,T),y.set(N,A),T||(!Zh.has(N)&&o&&N.removeAttribute(o),Zh.delete(N)),A||N.removeAttribute(i)}),L_--,L_||(nu=new WeakMap,nu=new WeakMap,Zh=new WeakSet,Yh={})}}function w1(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=ti(t[0]).body;return oW(t.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,e,n)}const my=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function gC(t,e){const n=hy(t,my());e==="prev"&&n.reverse();const r=n.indexOf(no(ti(t)));return n.slice(r+1)[0]}function yC(){return gC(document.body,"next")}function vC(){return gC(document.body,"prev")}function yf(t,e){const n=e||t.currentTarget,r=t.relatedTarget;return!r||!ei(n,r)}function aW(t){hy(t,my()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function S1(t){t.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const gy={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let lW;function E1(t){t.key==="Tab"&&(t.target,clearTimeout(lW))}const xg=U.forwardRef(function(e,n){const[r,i]=U.useState();sr(()=>(Qq()&&i("button"),document.addEventListener("keydown",E1),()=>{document.removeEventListener("keydown",E1)}),[]);const o={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[vc("focus-guard")]:"",style:gy};return U.createElement("span",Uf({},e,o))}),bC=U.createContext(null),k1=vc("portal");function cW(t){t===void 0&&(t={});const{id:e,root:n}=t,r=Qw(),i=_C(),[o,l]=U.useState(null),c=U.useRef(null);return sr(()=>()=>{o?.remove(),queueMicrotask(()=>{c.current=null})},[o]),sr(()=>{if(!r||c.current)return;const d=e?document.getElementById(e):null;if(!d)return;const m=document.createElement("div");m.id=r,m.setAttribute(k1,""),d.appendChild(m),c.current=m,l(m)},[e,r]),sr(()=>{if(n===null||!r||c.current)return;let d=n||i?.portalNode;d&&!Zn(d)&&(d=d.current),d=d||document.body;let m=null;e&&(m=document.createElement("div"),m.id=e,d.appendChild(m));const y=document.createElement("div");y.id=r,y.setAttribute(k1,""),d=m||d,d.appendChild(y),c.current=y,l(y)},[e,n,r,i]),o}function Kw(t){const{children:e,id:n,root:r,preserveTabOrder:i=!0}=t,o=cW({id:n,root:r}),[l,c]=U.useState(null),d=U.useRef(null),m=U.useRef(null),y=U.useRef(null),b=U.useRef(null),E=l?.modal,N=l?.open,O=!!l&&!l.modal&&l.open&&i&&!!(r||o);return U.useEffect(()=>{if(!o||!i||E)return;function T(A){o&&yf(A)&&(A.type==="focusin"?S1:aW)(o)}return o.addEventListener("focusin",T,!0),o.addEventListener("focusout",T,!0),()=>{o.removeEventListener("focusin",T,!0),o.removeEventListener("focusout",T,!0)}},[o,i,E]),U.useEffect(()=>{o&&(N||S1(o))},[N,o]),U.createElement(bC.Provider,{value:U.useMemo(()=>({preserveTabOrder:i,beforeOutsideRef:d,afterOutsideRef:m,beforeInsideRef:y,afterInsideRef:b,portalNode:o,setFocusManagerState:c}),[i,o])},O&&o&&U.createElement(xg,{"data-type":"outside",ref:d,onFocus:T=>{if(yf(T,o)){var A;(A=y.current)==null||A.focus()}else{const L=vC()||l?.refs.domReference.current;L?.focus()}}}),O&&o&&U.createElement("span",{"aria-owns":o.id,style:gy}),o&&xw.createPortal(e,o),O&&o&&U.createElement(xg,{"data-type":"outside",ref:m,onFocus:T=>{if(yf(T,o)){var A;(A=b.current)==null||A.focus()}else{const L=yC()||l?.refs.domReference.current;L?.focus(),l?.closeOnFocusOut&&l?.onOpenChange(!1,T.nativeEvent,"focus-out")}}}))}const _C=()=>U.useContext(bC),Ux="data-floating-ui-focusable";function Vx(t){return t?t.hasAttribute(Ux)?t:t.querySelector("["+Ux+"]")||t:null}const N1=20;let Kl=[];function D_(t){Kl=Kl.filter(e=>e.isConnected),t&&El(t)!=="body"&&(Kl.push(t),Kl.length>N1&&(Kl=Kl.slice(-N1)))}function I1(){return Kl.slice().reverse().find(t=>t.isConnected)}function uW(t){const e=my();return h4(t,e)?t:hy(t,e)[0]||t}const dW=U.forwardRef(function(e,n){return U.createElement("button",Uf({},e,{type:"button",ref:n,tabIndex:-1,style:gy}))});function xC(t){const{context:e,children:n,disabled:r=!1,order:i=["content"],guards:o=!0,initialFocus:l=0,returnFocus:c=!0,restoreFocus:d=!1,modal:m=!0,visuallyHiddenDismiss:y=!1,closeOnFocusOut:b=!0,outsideElementsInert:E=!1}=t,{open:N,refs:O,nodeId:T,onOpenChange:A,events:L,dataRef:P,elements:{domReference:B,floating:Q}}=e,J=typeof l=="number"&&l<0,W=Kq(B)&&J,G=iW(),re=G?o:!0,H=!re||G&&E,te=ki(i),$=ki(l),oe=ki(c),Y=ed(),fe=_C(),Ee=U.useRef(null),qe=U.useRef(null),je=U.useRef(!1),ve=U.useRef(!1),pe=U.useRef(-1),ke=fe!=null,K=Vx(Q),xe=Wi(function(mt){return mt===void 0&&(mt=K),mt?hy(mt,my()):[]}),ut=Wi(mt=>{const ht=xe(mt);return te.current.map(kt=>B&&kt==="reference"?B:K&&kt==="floating"?K:ht).filter(Boolean).flat()});U.useEffect(()=>{if(r||!m)return;function mt(kt){if(kt.key==="Tab"){ei(K,no(ti(K)))&&xe().length===0&&!W&&wi(kt);const Nt=ut(),Zt=Ka(kt);te.current[0]==="reference"&&Zt===B&&(wi(kt),kt.shiftKey?Ql(Nt[Nt.length-1]):Ql(Nt[1])),te.current[1]==="floating"&&Zt===K&&kt.shiftKey&&(wi(kt),Ql(Nt[0]))}}const ht=ti(K);return ht.addEventListener("keydown",mt),()=>{ht.removeEventListener("keydown",mt)}},[r,B,K,m,te,W,xe,ut]),U.useEffect(()=>{if(r||!Q)return;function mt(ht){const kt=Ka(ht),Zt=xe().indexOf(kt);Zt!==-1&&(pe.current=Zt)}return Q.addEventListener("focusin",mt),()=>{Q.removeEventListener("focusin",mt)}},[r,Q,xe]),U.useEffect(()=>{if(r||!b)return;function mt(){ve.current=!0,setTimeout(()=>{ve.current=!1})}function ht(kt){const Nt=kt.relatedTarget;queueMicrotask(()=>{const Zt=!(ei(B,Nt)||ei(Q,Nt)||ei(Nt,Q)||ei(fe?.portalNode,Nt)||Nt!=null&&Nt.hasAttribute(vc("focus-guard"))||Y&&(ku(Y.nodesRef.current,T).find(Kt=>{var rn,dn;return ei((rn=Kt.context)==null?void 0:rn.elements.floating,Nt)||ei((dn=Kt.context)==null?void 0:dn.elements.domReference,Nt)})||x1(Y.nodesRef.current,T).find(Kt=>{var rn,dn,le;return[(rn=Kt.context)==null?void 0:rn.elements.floating,Vx((dn=Kt.context)==null?void 0:dn.elements.floating)].includes(Nt)||((le=Kt.context)==null?void 0:le.elements.domReference)===Nt})));if(d&&Zt&&no(ti(K))===ti(K).body){Lr(K)&&K.focus();const Kt=pe.current,rn=xe(),dn=rn[Kt]||rn[rn.length-1]||K;Lr(dn)&&dn.focus()}(W||!m)&&Nt&&Zt&&!ve.current&&Nt!==I1()&&(je.current=!0,A(!1,kt,"focus-out"))})}if(Q&&Lr(B))return B.addEventListener("focusout",ht),B.addEventListener("pointerdown",mt),Q.addEventListener("focusout",ht),()=>{B.removeEventListener("focusout",ht),B.removeEventListener("pointerdown",mt),Q.removeEventListener("focusout",ht)}},[r,B,Q,K,m,T,Y,fe,A,b,d,xe,W]);const at=U.useRef(null),ft=U.useRef(null),dt=m1([at,fe?.beforeInsideRef]),pt=m1([ft,fe?.afterInsideRef]);U.useEffect(()=>{var mt;if(r||!Q)return;const ht=Array.from((fe==null||(mt=fe.portalNode)==null?void 0:mt.querySelectorAll("["+vc("portal")+"]"))||[]),kt=Y&&!m?x1(Y?.nodesRef.current,T).map(Kt=>{var rn;return(rn=Kt.context)==null?void 0:rn.elements.floating}):[],Nt=[Q,...ht,...kt,Ee.current,qe.current,at.current,ft.current,fe?.beforeOutsideRef.current,fe?.afterOutsideRef.current,te.current.includes("reference")||W?B:null].filter(Kt=>Kt!=null),Zt=m||W?w1(Nt,!H,H):w1(Nt);return()=>{Zt()}},[r,B,Q,m,te,fe,W,re,H,Y,T]),sr(()=>{if(r||!Lr(K))return;const mt=ti(K),ht=no(mt);queueMicrotask(()=>{const kt=ut(K),Nt=$.current,Zt=(typeof Nt=="number"?kt[Nt]:Nt.current)||K,Kt=ei(K,ht);!J&&!Kt&&N&&Ql(Zt,{preventScroll:Zt===K})})},[r,N,K,J,ut,$]),sr(()=>{if(r||!K)return;let mt=!1;const ht=ti(K),kt=no(ht);let Zt=P.current.openEvent;D_(kt);function Kt(le){let{open:ue,reason:ye,event:Ce,nested:De}=le;ue&&(Zt=Ce),ye==="escape-key"&&O.domReference.current&&D_(O.domReference.current),["hover","safe-polygon"].includes(ye)&&Ce.type==="mouseleave"&&(je.current=!0),ye==="outside-press"&&(De?(je.current=!1,mt=!0):je.current=!(Hq(Ce)||Bw(Ce)))}L.on("openchange",Kt);const rn=ht.createElement("span");rn.setAttribute("tabindex","-1"),rn.setAttribute("aria-hidden","true"),Object.assign(rn.style,gy),ke&&B&&B.insertAdjacentElement("afterend",rn);function dn(){return typeof oe.current=="boolean"?I1()||rn:oe.current.current||rn}return()=>{L.off("openchange",Kt);const le=no(ht),ue=ei(Q,le)||Y&&ku(Y.nodesRef.current,T).some(De=>{var Je;return ei((Je=De.context)==null?void 0:Je.elements.floating,le)});(ue||Zt&&["click","mousedown"].includes(Zt.type))&&O.domReference.current&&D_(O.domReference.current);const Ce=dn();queueMicrotask(()=>{const De=uW(Ce);oe.current&&!je.current&&Lr(De)&&(!(De!==le&&le!==ht.body)||ue)&&De.focus({preventScroll:mt}),rn.remove()})}},[r,Q,K,oe,P,O,L,Y,T,ke,B]),U.useEffect(()=>{queueMicrotask(()=>{je.current=!1})},[r]),sr(()=>{if(!r&&fe)return fe.setFocusManagerState({modal:m,closeOnFocusOut:b,open:N,onOpenChange:A,refs:O}),()=>{fe.setFocusManagerState(null)}},[r,fe,m,N,A,O,b]),sr(()=>{if(r||!K||typeof MutationObserver!="function"||J)return;const mt=()=>{const kt=K.getAttribute("tabindex"),Nt=xe(),Zt=no(ti(Q)),Kt=Nt.indexOf(Zt);Kt!==-1&&(pe.current=Kt),te.current.includes("floating")||Zt!==O.domReference.current&&Nt.length===0?kt!=="0"&&K.setAttribute("tabindex","0"):kt!=="-1"&&K.setAttribute("tabindex","-1")};mt();const ht=new MutationObserver(mt);return ht.observe(K,{childList:!0,subtree:!0,attributes:!0}),()=>{ht.disconnect()}},[r,Q,K,O,te,xe,J]);function vt(mt){return r||!y||!m?null:U.createElement(dW,{ref:mt==="start"?Ee:qe,onClick:ht=>A(!1,ht.nativeEvent)},typeof y=="string"?y:"Dismiss")}const At=!r&&re&&(m?!W:!0)&&(ke||m);return U.createElement(U.Fragment,null,At&&U.createElement(xg,{"data-type":"inside",ref:dt,onFocus:mt=>{if(m){const kt=ut();Ql(i[0]==="reference"?kt[0]:kt[kt.length-1])}else if(fe!=null&&fe.preserveTabOrder&&fe.portalNode)if(je.current=!1,yf(mt,fe.portalNode)){const kt=yC()||B;kt?.focus()}else{var ht;(ht=fe.beforeOutsideRef.current)==null||ht.focus()}}}),!W&&vt("start"),n,vt("end"),At&&U.createElement(xg,{"data-type":"inside",ref:pt,onFocus:mt=>{if(m)Ql(ut()[0]);else if(fe!=null&&fe.preserveTabOrder&&fe.portalNode)if(b&&(je.current=!0),yf(mt,fe.portalNode)){const kt=vC()||B;kt?.focus()}else{var ht;(ht=fe.afterOutsideRef.current)==null||ht.focus()}}}))}let Xh=0;function fW(){const t=/iP(hone|ad|od)|iOS/.test($w()),e=document.body.style,r=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",i=window.innerWidth-document.documentElement.clientWidth,o=e.left?parseFloat(e.left):window.scrollX,l=e.top?parseFloat(e.top):window.scrollY;if(e.overflow="hidden",i&&(e[r]=i+"px"),t){var c,d;const m=((c=window.visualViewport)==null?void 0:c.offsetLeft)||0,y=((d=window.visualViewport)==null?void 0:d.offsetTop)||0;Object.assign(e,{position:"fixed",top:-(l-Math.floor(y))+"px",left:-(o-Math.floor(m))+"px",right:"0"})}return()=>{Object.assign(e,{overflow:"",[r]:""}),t&&(Object.assign(e,{position:"",top:"",left:"",right:""}),window.scrollTo(o,l))}}let O1=()=>{};const pW=U.forwardRef(function(e,n){const{lockScroll:r=!1,...i}=e;return sr(()=>{if(r)return Xh++,Xh===1&&(O1=fW()),()=>{Xh--,Xh===0&&O1()}},[r]),U.createElement("div",Uf({ref:n},i,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...i.style}}))});function T1(t){return Lr(t.target)&&t.target.tagName==="BUTTON"}function q1(t){return Ww(t)}function Gw(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:i,elements:{domReference:o}}=t,{enabled:l=!0,event:c="click",toggle:d=!0,ignoreMouse:m=!1,keyboardHandlers:y=!0,stickIfOpen:b=!0}=e,E=U.useRef(),N=U.useRef(!1),O=U.useMemo(()=>({onPointerDown(T){E.current=T.pointerType},onMouseDown(T){const A=E.current;T.button===0&&c!=="click"&&(zf(A,!0)&&m||(n&&d&&(!(i.current.openEvent&&b)||i.current.openEvent.type==="mousedown")?r(!1,T.nativeEvent,"click"):(T.preventDefault(),r(!0,T.nativeEvent,"click"))))},onClick(T){const A=E.current;if(c==="mousedown"&&E.current){E.current=void 0;return}zf(A,!0)&&m||(n&&d&&(!(i.current.openEvent&&b)||i.current.openEvent.type==="click")?r(!1,T.nativeEvent,"click"):r(!0,T.nativeEvent,"click"))},onKeyDown(T){E.current=void 0,!(T.defaultPrevented||!y||T1(T))&&(T.key===" "&&!q1(o)&&(T.preventDefault(),N.current=!0),T.key==="Enter"&&r(!(n&&d),T.nativeEvent,"click"))},onKeyUp(T){T.defaultPrevented||!y||T1(T)||q1(o)||T.key===" "&&N.current&&(N.current=!1,r(!(n&&d),T.nativeEvent,"click"))}}),[i,o,c,m,y,r,n,b,d]);return U.useMemo(()=>l?{reference:O}:{},[l,O])}const hW={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},mW={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},C1=t=>{var e,n;return{escapeKey:typeof t=="boolean"?t:(e=t?.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(n=t?.outsidePress)!=null?n:!0}};function Jw(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,elements:i,dataRef:o}=t,{enabled:l=!0,escapeKey:c=!0,outsidePress:d=!0,outsidePressEvent:m="pointerdown",referencePress:y=!1,referencePressEvent:b="pointerdown",ancestorScroll:E=!1,bubbles:N,capture:O}=e,T=ed(),A=Wi(typeof d=="function"?d:()=>!1),L=typeof d=="function"?A:d,P=U.useRef(!1),B=U.useRef(!1),{escapeKey:Q,outsidePress:J}=C1(N),{escapeKey:W,outsidePress:G}=C1(O),re=U.useRef(!1),H=Wi(Ee=>{var qe;if(!n||!l||!c||Ee.key!=="Escape"||re.current)return;const je=(qe=o.current.floatingContext)==null?void 0:qe.nodeId,ve=T?ku(T.nodesRef.current,je):[];if(!Q&&(Ee.stopPropagation(),ve.length>0)){let pe=!0;if(ve.forEach(ke=>{var K;if((K=ke.context)!=null&&K.open&&!ke.context.dataRef.current.__escapeKeyBubbles){pe=!1;return}}),!pe)return}r(!1,MB(Ee)?Ee.nativeEvent:Ee,"escape-key")}),te=Wi(Ee=>{var qe;const je=()=>{var ve;H(Ee),(ve=Ka(Ee))==null||ve.removeEventListener("keydown",je)};(qe=Ka(Ee))==null||qe.addEventListener("keydown",je)}),$=Wi(Ee=>{var qe;const je=P.current;P.current=!1;const ve=B.current;if(B.current=!1,m==="click"&&ve||je||typeof L=="function"&&!L(Ee))return;const pe=Ka(Ee),ke="["+vc("inert")+"]",K=ti(i.floating).querySelectorAll(ke);let xe=Zn(pe)?pe:null;for(;xe&&!ha(xe);){const dt=va(xe);if(ha(dt)||!Zn(dt))break;xe=dt}if(K.length&&Zn(pe)&&!$B(pe)&&!ei(pe,i.floating)&&Array.from(K).every(dt=>!ei(xe,dt)))return;if(Lr(pe)&&fe){const dt=ha(pe),pt=Ms(pe),vt=/auto|scroll/,At=dt||vt.test(pt.overflowX),mt=dt||vt.test(pt.overflowY),ht=At&&pe.clientWidth>0&&pe.scrollWidth>pe.clientWidth,kt=mt&&pe.clientHeight>0&&pe.scrollHeight>pe.clientHeight,Nt=pt.direction==="rtl",Zt=kt&&(Nt?Ee.offsetX<=pe.offsetWidth-pe.clientWidth:Ee.offsetX>pe.clientWidth),Kt=ht&&Ee.offsetY>pe.clientHeight;if(Zt||Kt)return}const ut=(qe=o.current.floatingContext)==null?void 0:qe.nodeId,at=T&&ku(T.nodesRef.current,ut).some(dt=>{var pt;return R_(Ee,(pt=dt.context)==null?void 0:pt.elements.floating)});if(R_(Ee,i.floating)||R_(Ee,i.domReference)||at)return;const ft=T?ku(T.nodesRef.current,ut):[];if(ft.length>0){let dt=!0;if(ft.forEach(pt=>{var vt;if((vt=pt.context)!=null&&vt.open&&!pt.context.dataRef.current.__outsidePressBubbles){dt=!1;return}}),!dt)return}r(!1,Ee,"outside-press")}),oe=Wi(Ee=>{var qe;const je=()=>{var ve;$(Ee),(ve=Ka(Ee))==null||ve.removeEventListener(m,je)};(qe=Ka(Ee))==null||qe.addEventListener(m,je)});U.useEffect(()=>{if(!n||!l)return;o.current.__escapeKeyBubbles=Q,o.current.__outsidePressBubbles=J;let Ee=-1;function qe(K){r(!1,K,"ancestor-scroll")}function je(){window.clearTimeout(Ee),re.current=!0}function ve(){Ee=window.setTimeout(()=>{re.current=!1},fy()?5:0)}const pe=ti(i.floating);c&&(pe.addEventListener("keydown",W?te:H,W),pe.addEventListener("compositionstart",je),pe.addEventListener("compositionend",ve)),L&&pe.addEventListener(m,G?oe:$,G);let ke=[];return E&&(Zn(i.domReference)&&(ke=sl(i.domReference)),Zn(i.floating)&&(ke=ke.concat(sl(i.floating))),!Zn(i.reference)&&i.reference&&i.reference.contextElement&&(ke=ke.concat(sl(i.reference.contextElement)))),ke=ke.filter(K=>{var xe;return K!==((xe=pe.defaultView)==null?void 0:xe.visualViewport)}),ke.forEach(K=>{K.addEventListener("scroll",qe,{passive:!0})}),()=>{c&&(pe.removeEventListener("keydown",W?te:H,W),pe.removeEventListener("compositionstart",je),pe.removeEventListener("compositionend",ve)),L&&pe.removeEventListener(m,G?oe:$,G),ke.forEach(K=>{K.removeEventListener("scroll",qe)}),window.clearTimeout(Ee)}},[o,i,c,L,m,n,r,E,l,Q,J,H,W,te,$,G,oe]),U.useEffect(()=>{P.current=!1},[L,m]);const Y=U.useMemo(()=>({onKeyDown:H,...y&&{[hW[b]]:Ee=>{r(!1,Ee.nativeEvent,"reference-press")},...b!=="click"&&{onClick(Ee){r(!1,Ee.nativeEvent,"reference-press")}}}}),[H,r,y,b]),fe=U.useMemo(()=>({onKeyDown:H,onMouseDown(){B.current=!0},onMouseUp(){B.current=!0},[mW[m]]:()=>{P.current=!0}}),[H,m]);return U.useMemo(()=>l?{reference:Y,floating:fe}:{},[l,Y,fe])}function gW(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=Qw(),o=U.useRef({}),[l]=U.useState(()=>fC()),c=yp()!=null,[d,m]=U.useState(r.reference),y=Wi((N,O,T)=>{o.current.openEvent=N?O:void 0,l.emit("openchange",{open:N,event:O,reason:T,nested:c}),n?.(N,O,T)}),b=U.useMemo(()=>({setPositionReference:m}),[]),E=U.useMemo(()=>({reference:d||r.reference||null,floating:r.floating||null,domReference:r.reference}),[d,r.reference,r.floating]);return U.useMemo(()=>({dataRef:o,open:e,onOpenChange:y,elements:E,events:l,floatingId:i,refs:b}),[e,y,E,l,i,b])}function Zw(t){t===void 0&&(t={});const{nodeId:e}=t,n=gW({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[o,l]=U.useState(null),[c,d]=U.useState(null),y=i?.domReference||o,b=U.useRef(null),E=ed();sr(()=>{y&&(b.current=y)},[y]);const N=B4({...t,elements:{...i,...c&&{reference:c}}}),O=U.useCallback(B=>{const Q=Zn(B)?{getBoundingClientRect:()=>B.getBoundingClientRect(),contextElement:B}:B;d(Q),N.refs.setReference(Q)},[N.refs]),T=U.useCallback(B=>{(Zn(B)||B===null)&&(b.current=B,l(B)),(Zn(N.refs.reference.current)||N.refs.reference.current===null||B!==null&&!Zn(B))&&N.refs.setReference(B)},[N.refs]),A=U.useMemo(()=>({...N.refs,setReference:T,setPositionReference:O,domReference:b}),[N.refs,T,O]),L=U.useMemo(()=>({...N.elements,domReference:y}),[N.elements,y]),P=U.useMemo(()=>({...N,...r,refs:A,elements:L,nodeId:e}),[N,A,L,e,r]);return sr(()=>{r.dataRef.current.floatingContext=P;const B=E?.nodesRef.current.find(Q=>Q.id===e);B&&(B.context=P)}),U.useMemo(()=>({...N,context:P,refs:A,elements:L}),[N,A,L,P])}function yW(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,events:i,dataRef:o,elements:l}=t,{enabled:c=!0,visibleOnly:d=!0}=e,m=U.useRef(!1),y=U.useRef(),b=U.useRef(!0);U.useEffect(()=>{if(!c)return;const N=Vi(l.domReference);function O(){!n&&Lr(l.domReference)&&l.domReference===no(ti(l.domReference))&&(m.current=!0)}function T(){b.current=!0}return N.addEventListener("blur",O),N.addEventListener("keydown",T,!0),()=>{N.removeEventListener("blur",O),N.removeEventListener("keydown",T,!0)}},[l.domReference,n,c]),U.useEffect(()=>{if(!c)return;function N(O){let{reason:T}=O;(T==="reference-press"||T==="escape-key")&&(m.current=!0)}return i.on("openchange",N),()=>{i.off("openchange",N)}},[i,c]),U.useEffect(()=>()=>{clearTimeout(y.current)},[]);const E=U.useMemo(()=>({onPointerDown(N){Bw(N.nativeEvent)||(b.current=!1)},onMouseLeave(){m.current=!1},onFocus(N){if(m.current)return;const O=Ka(N.nativeEvent);if(d&&Zn(O))try{if(Qq()&&LB())throw Error();if(!O.matches(":focus-visible"))return}catch{if(!b.current&&!Ww(O))return}r(!0,N.nativeEvent,"focus")},onBlur(N){m.current=!1;const O=N.relatedTarget,T=N.nativeEvent,A=Zn(O)&&O.hasAttribute(vc("focus-guard"))&&O.getAttribute("data-type")==="outside";y.current=window.setTimeout(()=>{var L;const P=no(l.domReference?l.domReference.ownerDocument:document);!O&&P===l.domReference||ei((L=o.current.floatingContext)==null?void 0:L.refs.floating.current,P)||ei(l.domReference,P)||A||r(!1,T,"focus")})}}),[o,l.domReference,r,d]);return U.useMemo(()=>c?{reference:E}:{},[c,E])}const R1="active",A1="selected";function M_(t,e,n){const r=new Map,i=n==="item";let o=t;if(i&&t){const{[R1]:l,[A1]:c,...d}=t;o=d}return{...n==="floating"&&{tabIndex:-1,[Ux]:""},...o,...e.map(l=>{const c=l?l[n]:null;return typeof c=="function"?t?c(t):null:c}).concat(t).reduce((l,c)=>(c&&Object.entries(c).forEach(d=>{let[m,y]=d;if(!(i&&[R1,A1].includes(m)))if(m.indexOf("on")===0){if(r.has(m)||r.set(m,[]),typeof y=="function"){var b;(b=r.get(m))==null||b.push(y),l[m]=function(){for(var E,N=arguments.length,O=new Array(N),T=0;T<N;T++)O[T]=arguments[T];return(E=r.get(m))==null?void 0:E.map(A=>A(...O)).find(A=>A!==void 0)}}}else l[m]=y}),l),{})}}function Yw(t){t===void 0&&(t=[]);const e=t.map(c=>c?.reference),n=t.map(c=>c?.floating),r=t.map(c=>c?.item),i=U.useCallback(c=>M_(c,t,"reference"),e),o=U.useCallback(c=>M_(c,t,"floating"),n),l=U.useCallback(c=>M_(c,t,"item"),r);return U.useMemo(()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:l}),[i,o,l])}function yy(t,e,n){switch(t){case"vertical":return e;case"horizontal":return n;default:return e||n}}function j1(t,e){return yy(e,t===Hw||t===gp,t===ol||t===al)}function $_(t,e,n){return yy(e,t===gp,n?t===ol:t===al)||t==="Enter"||t===" "||t===""}function vW(t,e,n){return yy(e,n?t===ol:t===al,t===gp)}function P1(t,e,n){return yy(e,n?t===al:t===ol,t===Hw)}function bW(t,e){const{open:n,onOpenChange:r,elements:i}=t,{listRef:o,activeIndex:l,onNavigate:c=()=>{},enabled:d=!0,selectedIndex:m=null,allowEscape:y=!1,loop:b=!1,nested:E=!1,rtl:N=!1,virtual:O=!1,focusItemOnOpen:T="auto",focusItemOnHover:A=!0,openOnArrowKeyDown:L=!0,disabledIndices:P=void 0,orientation:B="vertical",cols:Q=1,scrollItemIntoView:J=!0,virtualItemRef:W,itemSizes:G,dense:re=!1}=e,H=Vx(i.floating),te=ki(H),$=yp(),oe=ed(),Y=Wi(()=>{c(qe.current===-1?null:qe.current)}),fe=Kq(i.domReference),Ee=U.useRef(T),qe=U.useRef(m??-1),je=U.useRef(null),ve=U.useRef(!0),pe=U.useRef(Y),ke=U.useRef(!!i.floating),K=U.useRef(n),xe=U.useRef(!1),ut=U.useRef(!1),at=ki(P),ft=ki(n),dt=ki(J),pt=ki(m),[vt,At]=U.useState(),[mt,ht]=U.useState(),kt=Wi(()=>{function ue(De){O?(At(De.id),oe?.events.emit("virtualfocus",De),W&&(W.current=De)):Ql(De,{sync:xe.current,preventScroll:!0})}const ye=o.current[qe.current];ye&&ue(ye),(xe.current?De=>De():requestAnimationFrame)(()=>{const De=o.current[qe.current]||ye;if(!De)return;ye||ue(De);const Je=dt.current;Je&&Zt&&(ut.current||!ve.current)&&(De.scrollIntoView==null||De.scrollIntoView(typeof Je=="boolean"?{block:"nearest",inline:"nearest"}:Je))})});sr(()=>{d&&(n&&i.floating?Ee.current&&m!=null&&(ut.current=!0,qe.current=m,Y()):ke.current&&(qe.current=-1,pe.current()))},[d,n,i.floating,m,Y]),sr(()=>{if(d&&n&&i.floating)if(l==null){if(xe.current=!1,pt.current!=null)return;if(ke.current&&(qe.current=-1,kt()),(!K.current||!ke.current)&&Ee.current&&(je.current!=null||Ee.current===!0&&je.current==null)){let ue=0;const ye=()=>{o.current[0]==null?(ue<2&&(ue?requestAnimationFrame:queueMicrotask)(ye),ue++):(qe.current=je.current==null||$_(je.current,B,N)||E?P_(o,at.current):g1(o,at.current),je.current=null,Y())};ye()}}else gf(o,l)||(qe.current=l,kt(),ut.current=!1)},[d,n,i.floating,l,pt,E,o,B,N,Y,kt,at]),sr(()=>{var ue;if(!d||i.floating||!oe||O||!ke.current)return;const ye=oe.nodesRef.current,Ce=(ue=ye.find(Fe=>Fe.id===$))==null||(ue=ue.context)==null?void 0:ue.elements.floating,De=no(ti(i.floating)),Je=ye.some(Fe=>Fe.context&&ei(Fe.context.elements.floating,De));Ce&&!Je&&ve.current&&Ce.focus({preventScroll:!0})},[d,i.floating,oe,$,O]),sr(()=>{if(!d||!oe||!O||$)return;function ue(ye){ht(ye.id),W&&(W.current=ye)}return oe.events.on("virtualfocus",ue),()=>{oe.events.off("virtualfocus",ue)}},[d,oe,O,$,W]),sr(()=>{pe.current=Y,K.current=n,ke.current=!!i.floating}),sr(()=>{n||(je.current=null)},[n]);const Nt=l!=null,Zt=U.useMemo(()=>{function ue(Ce){if(!n)return;const De=o.current.indexOf(Ce);De!==-1&&qe.current!==De&&(qe.current=De,Y())}return{onFocus(Ce){let{currentTarget:De}=Ce;xe.current=!0,ue(De)},onClick:Ce=>{let{currentTarget:De}=Ce;return De.focus({preventScroll:!0})},...A&&{onMouseMove(Ce){let{currentTarget:De}=Ce;xe.current=!0,ut.current=!1,ue(De)},onPointerLeave(Ce){let{pointerType:De}=Ce;if(!(!ve.current||De==="touch")&&(xe.current=!0,qe.current=-1,Y(),!O)){var Je;(Je=te.current)==null||Je.focus({preventScroll:!0})}}}}},[n,te,A,o,Y,O]),Kt=Wi(ue=>{if(ve.current=!1,xe.current=!0,ue.which===229||!ft.current&&ue.currentTarget===te.current)return;if(E&&P1(ue.key,B,N)){wi(ue),r(!1,ue.nativeEvent,"list-navigation"),Lr(i.domReference)&&(O?oe?.events.emit("virtualfocus",i.domReference):i.domReference.focus());return}const ye=qe.current,Ce=P_(o,P),De=g1(o,P);if(fe||(ue.key==="Home"&&(wi(ue),qe.current=Ce,Y()),ue.key==="End"&&(wi(ue),qe.current=De,Y())),Q>1){const Je=G||Array.from({length:o.current.length},()=>({width:1,height:1})),Fe=Q4(Je,Q,re),et=Fe.findIndex(mn=>mn!=null&&!Im(o.current,mn,P)),Vt=Fe.reduce((mn,Nr,jn)=>Nr!=null&&!Im(o.current,Nr,P)?jn:mn,-1),zt=Fe[H4({current:Fe.map(mn=>mn!=null?o.current[mn]:null)},{event:ue,orientation:B,loop:b,rtl:N,cols:Q,disabledIndices:G4([...P||o.current.map((mn,Nr)=>Im(o.current,Nr)?Nr:void 0),void 0],Fe),minIndex:et,maxIndex:Vt,prevIndex:K4(qe.current>De?Ce:qe.current,Je,Fe,Q,ue.key===gp?"bl":ue.key===(N?ol:al)?"tr":"tl"),stopEvent:!0})];if(zt!=null&&(qe.current=zt,Y()),B==="both")return}if(j1(ue.key,B)){if(wi(ue),n&&!O&&no(ue.currentTarget.ownerDocument)===ue.currentTarget){qe.current=$_(ue.key,B,N)?Ce:De,Y();return}$_(ue.key,B,N)?b?qe.current=ye>=De?y&&ye!==o.current.length?-1:Ce:li(o,{startingIndex:ye,disabledIndices:P}):qe.current=Math.min(De,li(o,{startingIndex:ye,disabledIndices:P})):b?qe.current=ye<=Ce?y&&ye!==-1?o.current.length:De:li(o,{startingIndex:ye,decrement:!0,disabledIndices:P}):qe.current=Math.max(Ce,li(o,{startingIndex:ye,decrement:!0,disabledIndices:P})),gf(o,qe.current)&&(qe.current=-1),Y()}}),rn=U.useMemo(()=>O&&n&&Nt&&{"aria-activedescendant":mt||vt},[O,n,Nt,mt,vt]),dn=U.useMemo(()=>({"aria-orientation":B==="both"?void 0:B,...fe?{}:rn,onKeyDown:Kt,onPointerMove(){ve.current=!0}}),[rn,Kt,B,fe]),le=U.useMemo(()=>{function ue(Ce){T==="auto"&&Hq(Ce.nativeEvent)&&(Ee.current=!0)}function ye(Ce){Ee.current=T,T==="auto"&&Bw(Ce.nativeEvent)&&(Ee.current=!0)}return{...rn,onKeyDown(Ce){ve.current=!1;const De=Ce.key.startsWith("Arrow"),Je=["Home","End"].includes(Ce.key),Fe=De||Je,et=vW(Ce.key,B,N),Vt=P1(Ce.key,B,N),zt=j1(Ce.key,B),mn=(E?et:zt)||Ce.key==="Enter"||Ce.key.trim()==="";if(O&&n){const Ji=oe?.nodesRef.current.find(Bt=>Bt.parentId==null),Ir=oe&&Ji?rW(oe.nodesRef.current,Ji.id):null;if(Fe&&Ir&&W){const Bt=new KeyboardEvent("keydown",{key:Ce.key,bubbles:!0});if(et||Vt){var Nr,jn;const vs=((Nr=Ir.context)==null?void 0:Nr.elements.domReference)===Ce.currentTarget,bs=Vt&&!vs?(jn=Ir.context)==null?void 0:jn.elements.domReference:et?o.current.find(_s=>_s?.id===vt):null;bs&&(wi(Ce),bs.dispatchEvent(Bt),ht(void 0))}if((zt||Je)&&Ir.context&&Ir.context.open&&Ir.parentId&&Ce.currentTarget!==Ir.context.elements.domReference){var Hr;wi(Ce),(Hr=Ir.context.elements.domReference)==null||Hr.dispatchEvent(Bt);return}}return Kt(Ce)}if(!(!n&&!L&&De)){if(mn&&(je.current=E&&zt?null:Ce.key),E){et&&(wi(Ce),n?(qe.current=P_(o,at.current),Y()):r(!0,Ce.nativeEvent,"list-navigation"));return}zt&&(m!=null&&(qe.current=m),wi(Ce),!n&&L?r(!0,Ce.nativeEvent,"list-navigation"):Kt(Ce),n&&Y())}},onFocus(){n&&!O&&(qe.current=-1,Y())},onPointerDown:ye,onMouseDown:ue,onClick:ue}},[vt,rn,Kt,at,T,o,E,Y,r,n,L,B,N,m,oe,O,W]);return U.useMemo(()=>d?{reference:le,floating:dn,item:Zt}:{},[d,le,dn,Zt])}const F1=t=>t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(e,n)=>(n?"-":"")+e.toLowerCase());function ru(t,e){return typeof t=="function"?t(e):t}function _W(t,e){const[n,r]=U.useState(t);return t&&!n&&r(!0),U.useEffect(()=>{if(!t&&n){const i=setTimeout(()=>r(!1),e);return()=>clearTimeout(i)}},[t,n,e]),n}function xW(t,e){e===void 0&&(e={});const{open:n,elements:{floating:r}}=t,{duration:i=250}=e,l=(typeof i=="number"?i:i.close)||0,[c,d]=U.useState("unmounted"),m=_W(n,l);return!m&&c==="close"&&d("unmounted"),sr(()=>{if(r){if(n){d("initial");const y=requestAnimationFrame(()=>{d("open")});return()=>{cancelAnimationFrame(y)}}d("close")}},[n,r]),{isMounted:m,status:c}}function Xw(t,e){e===void 0&&(e={});const{initial:n={opacity:0},open:r,close:i,common:o,duration:l=250}=e,c=t.placement,d=c.split("-")[0],m=U.useMemo(()=>({side:d,placement:c}),[d,c]),y=typeof l=="number",b=(y?l:l.open)||0,E=(y?l:l.close)||0,[N,O]=U.useState(()=>({...ru(o,m),...ru(n,m)})),{isMounted:T,status:A}=xW(t,{duration:l}),L=ki(n),P=ki(r),B=ki(i),Q=ki(o);return sr(()=>{const J=ru(L.current,m),W=ru(B.current,m),G=ru(Q.current,m),re=ru(P.current,m)||Object.keys(J).reduce((H,te)=>(H[te]="",H),{});if(A==="initial"&&O(H=>({transitionProperty:H.transitionProperty,...G,...J})),A==="open"&&O({transitionProperty:Object.keys(re).map(F1).join(","),transitionDuration:b+"ms",...G,...re}),A==="close"){const H=W||J;O({transitionProperty:Object.keys(H).map(F1).join(","),transitionDuration:E+"ms",...G,...H})}},[E,B,L,P,Q,b,A,m]),{isMounted:T,styles:N}}const wW=U.createContext({close(){}}),SW=yn({slot:{target:["flex","justify-center","items-center"],portal:[]},variant:{mounted:{true:[]}},match:[{if:{mounted:!1},then:{portal:["hidden"]}}],defaults:{mounted:!1}}),EW=({target:t,action:e="hover",disabled:n=!1,closeOnClick:r=!1,delay:i=100,float:o,variant:l,tva:c=SW,css:d,children:m})=>{const[y,b]=U.useState(!1),{refs:E,floatingStyles:N,context:O}=Zw({open:y,onOpenChange:b,placement:"top",whileElementsMounted:aC,middleware:[cC(10),uC({fallbackAxisSideDirection:"start"}),W4()],...o}),{getReferenceProps:T,getFloatingProps:A}=Yw([nW(O,{enabled:e==="hover",delay:i}),Gw(O,{enabled:e==="click"}),yW(O),Jw(O)]),{isMounted:L,styles:P}=Xw(O),B=c({mounted:L,...l,css:d}).slots;return h.jsxs(h.Fragment,{children:[h.jsx("button",{type:"button",ref:E.setReference,...T(),disabled:n,className:B.target(),children:t}),h.jsx(Kw,{children:h.jsx("div",{ref:E.setFloating,style:{...N,...P},className:B.portal(),...A(),onClick:r?()=>{b(!1)}:void 0,children:h.jsx(wW.Provider,{value:{close(){b(!1)}},children:m})})})]})},wC="icon-[system-uicons--menu-hamburger]",SC=yn({slot:{base:[]},variant:{size:{xs:"text-sm",sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl","2xl":"text-2xl","3xl":"text-3xl","4xl":"text-4xl","5xl":"text-5xl","6xl":"text-6xl","7xl":"text-7xl","8xl":"text-8xl"},disabled:{true:[]}},match:[{if:{disabled:!0},then:{base:["pointer-events-none","cursor-not-allowed","text-gray-400","opacity-50"]}}],defaults:{size:"xl",disabled:!1}}),xn=({icon:t,variant:e,tva:n=SC,css:r,...i})=>{const o=n({...e,css:r}).slots;return t?h.jsx("div",{className:o.base({css:[t]}),...i}):null},kW=yn({slot:{base:["p-1","bg-slate-50","border","border-slate-300","rounded","shadow-md","text-slate-500","flex","flex-col","gap-2"]},variant:{},defaults:{}}),lr=({icon:t=wC,iconProps:e,children:n,variant:r,tva:i=kW,css:o,...l})=>{const c=i({...r,css:o}).slots;return h.jsx(tW,{children:h.jsx(EW,{action:"click",target:h.jsx(xn,{icon:t,...e}),delay:100,float:{placement:"bottom-start"},closeOnClick:!0,...l,children:h.jsx("div",{className:c.base(),children:n})})})},EC="icon-[svg-spinners--90-ring-with-bg]",NW=yn({slot:{base:["flex","items-center","justify-center","gap-2","group","w-fit","h-fit","rounded","cursor-pointer","hover:shadow-md","hover:shadow-slate-200","transition-all","hover:bg-slate-200","text-slate-600","text-2xl","p-1"]},variant:{disabled:{true:["cursor-not-allowed","pointer-events-none"]},loading:{true:["cursor-not-allowed","pointer-events-none"]}},match:[{if:{disabled:!0},then:{base:["opacity-50","hover:bg-blue-400"]}}],defaults:{disabled:!1,loading:!1}}),e0=({iconEnabled:t,iconDisabled:e,iconLoading:n=EC,disabled:r=!1,loading:i=!1,onClick:o,variant:l,tva:c=NW,css:d,children:m,...y})=>{const b=c({disabled:r,loading:i,...l,css:d}).slots;return h.jsxs("div",{className:b.base(),onClick:r?void 0:o,...y,children:[r?h.jsx(xn,{icon:i?n:e??t,variant:{size:"xl"}}):h.jsx(xn,{icon:i?n:t,variant:{size:"xl"}}),m]})},IW="icon-[iconamoon--close-light]",qi=U.createContext(void 0),OW=yn({slot:{base:["bg-slate-500","bg-opacity-75","backdrop-blur-sm","flex","justify-center","py-12"],target:[],modal:["bg-white","rounded","shadow-lg","p-4","w-fit","h-fit","max-h-full","overflow-y-auto","relative","w-2/3","max-w-1/2"]},variant:{disabled:{true:["pointer-events-none"]},loading:{true:[]}},match:[{if:{loading:!0},then:{base:["pointer-events-none","opacity-50"]}}],defaults:{disabled:!1,loading:!1}}),vy=({target:t,icon:e,title:n,disabled:r=!1,outside:i=!1,variant:o,css:l,tva:c=OW,children:d})=>{const[m,y]=U.useState(!1),b=X4(),{refs:E,context:N}=Zw({nodeId:b,open:m,onOpenChange:y}),O=Gw(N),T=Jw(N,{outsidePress:i}),{getReferenceProps:A,getFloatingProps:L}=Yw([O,T]),{isMounted:P,styles:B}=Xw(N),Q=c({disabled:r,...o,css:l}).slots;return h.jsxs(qi.Provider,{value:{close(){y(!1)}},children:[h.jsx("div",{ref:E.setReference,...A({disabled:r}),className:Q.target(),children:t}),h.jsx(eW,{id:b,children:P&&h.jsx(h.Fragment,{children:h.jsx(Kw,{children:h.jsx(pW,{lockScroll:!0,style:B,className:Q.base(),children:h.jsx(xC,{context:N,children:h.jsxs("div",{ref:E.setFloating,...L(),className:Q.modal(),children:[h.jsxs("div",{className:"border-b border-slate-200 mb-2 py-1.5 flex flex-row items-center justify-between select-none",children:[h.jsxs("div",{className:"flex flex-row items-center gap-2 pr-4",children:[e&&(dp(e)?h.jsx(xn,{icon:e,variant:{size:"xl"}}):e),n&&h.jsx("div",{className:"text-lg font-semibold text-slate-700",children:n})]}),h.jsx(e0,{iconEnabled:IW,onClick:()=>y(!1)})]}),d]})})})})})})]})},TW=yn({use:Wq,slot:{},variant:{},defaults:{}}),wn=({icon:t,iconProps:e,label:n,textTitle:r,disabled:i=!1,modalProps:o,hidden:l=!1,variant:c,tva:d=TW,css:m,children:y})=>{const b=d({...c,disabled:i,css:m}).slots;return l?null:h.jsxs("div",{className:b.base(),children:[dp(t)?h.jsx(xn,{icon:t,...e}):t,h.jsx(vy,{icon:t,target:n,title:r,disabled:i,css:{modal:["w-1/2"]},...o,children:y})]})},qW=yn({slot:{base:["rounded-2xl","bg-blue-50","border","border-blue-200","text-xs","px-4","py-0.5","font-bold"]},variant:{},defaults:{}}),kC=({variant:t,tva:e=qW,css:n,...r})=>{const i=e({...t,css:n}).slots;return h.jsx("div",{className:i.base(),...r})},CW="icon-[material-symbols-light--check-small]",RW="icon-[material-symbols-light--close-small]",AW="icon-[material-symbols-light--check-indeterminate-small]",jW=yn({use:SC,slot:{},variant:{value:{true:"text-green-600",false:"text-amber-600"}},defaults:{value:!1}}),NC=({value:t,checkIcon:e=CW,unCheckIcon:n=RW,undefinedIcon:r=AW,tva:i=jW,...o})=>t==null?h.jsx(xn,{icon:r,tva:i,...o}):h.jsx(xn,{icon:t?e:n,tva:l=>i({...l,value:t}),...o}),PW=yn({slot:{base:["flex","items-center","justify-between","text-sm","font-medium","text-slate-900","w-full"],switch:["relative","w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-blue-300","dark:peer-focus:ring-blue-800","rounded-full","peer","dark:bg-gray-700","peer-checked:after:translate-x-full","rtl:peer-checked:after:-translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","dark:border-gray-600","peer-checked:bg-blue-600"]},variant:{},defaults:{}}),IC=({value:t,onChange:e,variant:n,tva:r=PW,css:i,...o})=>{const l=r({...n,css:i}).slots;return h.jsx("div",{className:l.base(),children:h.jsxs("label",{children:[h.jsx("input",{type:"checkbox",checked:t,className:"sr-only peer",onChange:c=>{e(c.target.checked)},...o}),h.jsx("div",{className:l.switch()})]})})},FW=yn({slot:{base:["flex","flex-row","items-center","justify-center","gap-2","group","rounded","transition-all"]},variant:{variant:{primary:["text-white"],secondary:["text-slate-700"],subtle:["text-slate-600"],danger:["text-slate-50"]},disabled:{true:"cursor-not-allowed"},size:{xs:[],sm:[],md:[]}},match:[{if:{variant:"primary"},then:{base:["bg-blue-400","hover:bg-blue-500"]}},{if:{variant:"primary",disabled:!0},then:{base:["opacity-50","bg-blue-600","hover:bg-blue-600","cursor-not-allowed"]}},{if:{variant:"secondary"},then:{base:["bg-amber-400","hover:bg-amber-500"]}},{if:{variant:"secondary",disabled:!0},then:{base:["opacity-50","bg-amber-600","hover:bg-amber-600","cursor-not-allowed"]}},{if:{variant:"subtle"},then:{base:["text-slate-600","hover:text-slate-800","hover:bg-blue-50"]}},{if:{variant:"subtle",disabled:!0},then:{base:["opacity-50","bg-blue-50","hover:bg-blue-50","cursor-not-allowed"]}},{if:{variant:"danger"},then:{base:["bg-red-400","hover:bg-red-500","hover:text-white"]}},{if:{size:"xs"},then:{base:["py-0.5","px-1"]}},{if:{size:"sm"},then:{base:["py-1","px-2"]}},{if:{size:"md"},then:{base:["py-2","px-4"]}}],defaults:{variant:"primary",disabled:!1,size:"md"}}),cr=({iconEnabled:t,iconDisabled:e,iconLoading:n=EC,iconProps:r,loading:i,variant:o,tva:l=FW,css:c,children:d,...m})=>{const y=l({disabled:m.disabled,...o,css:c}).slots;return h.jsxs("button",{type:"button",className:y.base({disabled:m.disabled}),...m,children:[m.disabled?h.jsx(xn,{icon:i===!0?n:e,variant:{size:"xl"},...r}):h.jsx(xn,{icon:i===!0?n:t,variant:{size:"xl"},...r}),d]})},t0=U.createContext({inline:!1}),LW=yn({slot:{base:["border","border-slate-100","px-2","py-1","rounded-md"],label:["text-sm","font-semibold","text-slate-600","border-b","mb-2"],value:[]},variant:{inline:{true:[]},withBackground:{true:[]}},match:[{if:{inline:!0},then:{base:["border-none","flex","flex-row","items-center","gap-2"],label:["mb-0","font-light","text-md","text-slate-600","border-none"],value:["text-md","text-slate-800"]}},{if:{withBackground:!0},then:{base:["bg-slate-50","hover:bg-slate-100"]}}],defaults:{inline:!1,withBackground:!0}}),DW=({inline:t,label:e,value:n,variant:r,tva:i=LW,css:o})=>{const l=U.useContext(t0),c=t??l?.inline,d=i({inline:c,...r,css:o}).slots;return h.jsxs("div",{className:d.base(),children:[e?h.jsx("div",{className:d.label(),children:e}):null,h.jsx("div",{className:d.value(),children:n})]})},MW=yn({slot:{base:["flex","flex-col","gap-4","border","border-slate-100","p-4","rounded-lg"]},variant:{inline:{true:["flex-row","border-none","gap-1","p-0","flex-1"]}},defaults:{inline:!1}}),OC=({items:t,hidden:e=[],valueOfProps:n,entity:r,variant:i,tva:o=MW,css:l,inline:c=!1})=>{const d=o({inline:c,...i,css:l}).slots;return h.jsx(t0.Provider,{value:{inline:c},children:h.jsx("div",{className:d.base(),children:t.filter(({id:m})=>!e.includes(m)).map(({id:m,render:y,...b})=>h.jsx(DW,{value:h.jsx(y,{entity:r}),...n,...b},m))})})},$W=yn({slot:{base:["flex","flex-col","gap-2"]},variant:{},defaults:{}}),L1="icon-[tabler--dots]",BW=yn({slot:{base:["flex","items-center","justify-between","gap-2"],sums:["flex","items-center","gap-2","text-sm"]},variant:{},defaults:{}}),WW=yn({slot:{base:["select-none"],list:["flex","items-center","-space-x-px","text-xs","gap-2"],page:["flex","items-center","justify-center","w-12","px-2","py-1","rounded","border","border-slate-200","hover:bg-slate-200","cursor-pointer","transition-all","duration-200"]},variant:{current:{true:[]}},match:[{if:{current:!0},then:{page:["bg-slate-100","hover:bg-slate-200","text-slate-800","font-bold"]}}],defaults:{current:!1}}),B_=({pages:t,page:e,onPage:n,variant:r,tva:i=WW,css:o})=>{const l=i({...r,css:o}).slots;return h.jsx("nav",{className:l.base(),children:h.jsx("ul",{className:l.list(),children:t.map((c,d)=>h.jsx("li",{className:l.page({current:e===c-1}),onClick:()=>n(c-1),children:c},`page-${c}-${d}`))})})},zW=yn({slot:{base:["cursor-pointer","bg-slate-50","text-slate-900","text-sm","border","border-slate-300","rounded","focus:border-sky-400","focus:outline-none","p-2.5","hover:shadow-md","transition-all","group"],input:["flex","flex-row","items-center","justify-between","gap-2"],popup:["z-50","cursor-pointer","overflow-y-auto","rounded","border","border-slate-300","bg-white","shadow-lg","focus:outline-none"],item:["focus:outline-none","py-2","px-2.5","flex","items-center","justify-between"]},variant:{disabled:{true:["cursor-not-allowed","hover:shadow-none","focus:border-slate-300","opacity-50"]},active:{true:[]},selected:{true:[]}},match:[{if:{selected:!0},then:{item:["bg-slate-100"]}},{if:{active:!0},then:{item:["bg-slate-200"]}}],defaults:{disabled:!1,selected:!1,active:!1}}),UW=({items:t,icon:e,defaultValue:n,render:r,textSelect:i,disabled:o=!1,onItem:l,onSelect:c,onChange:d,value:m,variant:y,tva:b=zW,css:E})=>{const[N,O]=U.useState(!1),[T,A]=U.useState(null),[L,P]=U.useState(t.findIndex(pe=>pe.id===n));U.useEffect(()=>{P(t.findIndex(pe=>pe.id===m))},[m]);const{refs:B,floatingStyles:Q,context:J}=Zw({placement:"bottom-start",open:N,onOpenChange:O,whileElementsMounted:aC,middleware:[cC(5),uC({padding:10}),z4({apply({rects:pe,elements:ke,availableHeight:K}){Object.assign(ke.floating.style,{maxHeight:`${K}px`,minWidth:`${pe.reference.width}px`})},padding:10})]}),W=U.useRef([]),G=U.useRef(!1),re=Gw(J,{event:"mousedown"}),H=Jw(J),te=bW(J,{listRef:W,activeIndex:T,selectedIndex:L,onNavigate:A,loop:!0}),{getReferenceProps:$,getFloatingProps:oe,getItemProps:Y}=Yw([H,te,re]),{isMounted:fe,styles:Ee}=Xw(J),qe=pe=>{P(pe),O(!1);const ke=t[pe];ke&&l?.(ke),c?.(ke),d?.(ke?.id)},je=L===null?void 0:t[L],ve=b({disabled:o,...y,css:E}).slots;return h.jsxs(h.Fragment,{children:[h.jsx("div",{tabIndex:o?-1:0,ref:o?void 0:B.setReference,"aria-labelledby":"select-label","aria-autocomplete":"none",...o?{}:$(),className:ve.base(),children:h.jsxs("div",{className:ve.input(),children:[e?h.jsx(xn,{icon:e,variant:{size:"xl"},css:{base:["text-slate-400","group-hover:text-slate-600"]}}):null,je?h.jsx(r,{entity:je}):i||bn.rich("Select item"),h.jsx(xn,{icon:"icon-[gg--select]",variant:{size:"xl"},css:{base:[!N&&"text-slate-400",N&&"text-slate-600","group-hover:text-slate-600"]}})]})}),fe&&h.jsx(Kw,{children:h.jsx(xC,{context:J,modal:!1,children:h.jsx("div",{ref:B.setFloating,style:{...Q,...Ee},className:ve.popup(),...oe(),children:t.map((pe,ke)=>h.jsxs("div",{ref:K=>{W.current[ke]=K},role:"option",tabIndex:ke===T?0:-1,"aria-selected":ke===L&&ke===T,className:ve.item({selected:ke===L,active:ke===T}),...Y({onClick(){qe(ke)},onKeyDown(K){K.key==="Enter"&&(K.preventDefault(),qe(ke)),K.key===" "&&!G.current&&(K.preventDefault(),qe(ke))}}),children:[h.jsx(r,{entity:pe}),ke===L&&h.jsx(xn,{icon:"icon-[basil--check-outline]",variant:{size:"xl"}})]},pe.id))})})})]})},VW=({sizes:t=[5,15,30,50,100],size:e,onSize:n,...r})=>h.jsx(UW,{items:t.map(i=>({id:`${i}`,size:i})),defaultValue:`${e}`,value:`${e}`,onItem:({size:i})=>n(i),render:({entity:{size:i}})=>i,css:{base:["px-8","py-1"],item:["px-8","py-1"]},...r}),D1=({cursor:t,count:e,textTotal:n,onPage:r,onSize:i,variant:o,tva:l=BW,css:c})=>{const d=U.useMemo(()=>TB({page:t.page,total:Math.ceil(e.filter/t.size),siblings:1,boundaries:1}),[t.page,e.filter,t.size]),m=l({...o,css:c}).slots;return h.jsxs("div",{className:m.base(),children:[d.total>1?h.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[["both","start"].includes(d.type)&&h.jsxs(h.Fragment,{children:[h.jsx(B_,{page:t.page,pages:d.start,onPage:r}),h.jsx(xn,{icon:L1})]}),h.jsx(B_,{page:t.page,pages:d.pages,onPage:r}),["both","end"].includes(d.type)&&h.jsxs(h.Fragment,{children:[h.jsx(xn,{icon:L1}),h.jsx(B_,{page:t.page,pages:d.end,onPage:r})]})]}):null,h.jsxs("div",{className:m.sums(),children:[h.jsx("div",{children:n}),h.jsx("div",{className:"font-bold",children:e.filter}),e.filter!==e.where&&h.jsxs(h.Fragment,{children:[h.jsx("div",{children:"/"}),h.jsx("div",{className:"font-semibold",children:e.where})]})]}),h.jsx(VW,{size:t.size,onSize:i})]})};function ll(t){return typeof t>"u"||t===void 0}function fs(t){return typeof t=="string"}function by(t){return typeof t=="number"}function wg(t){return typeof t=="boolean"}function n0(t){return t===null}function HW(t){return t instanceof Date}function r0(t){return typeof t=="bigint"}function ps(t){return typeof t=="function"}function To(t){return typeof t=="object"&&t!==null}function R(t){return Object.freeze(t)}function em(t){return ba(t)?t:[t]}function ba(t){return Array.isArray(t)}function cl(t){return t}const $n=R({is(t){return t.kind==="AlterTableNode"},create(t){return R({kind:"AlterTableNode",table:t})},cloneWithTableProps(t,e){return R({...t,...e})},cloneWithColumnAlteration(t,e){return R({...t,columnAlterations:t.columnAlterations?[...t.columnAlterations,e]:[e]})}}),or=R({is(t){return t.kind==="IdentifierNode"},create(t){return R({kind:"IdentifierNode",name:t})}}),aa=R({is(t){return t.kind==="CreateIndexNode"},create(t){return R({kind:"CreateIndexNode",name:or.create(t)})},cloneWith(t,e){return R({...t,...e})},cloneWithColumns(t,e){return R({...t,columns:[...t.columns||[],...e]})}}),TC=R({is(t){return t.kind==="CreateSchemaNode"},create(t,e){return R({kind:"CreateSchemaNode",schema:or.create(t),...e})},cloneWith(t,e){return R({...t,...e})}}),QW=["preserve rows","delete rows","drop"],es=R({is(t){return t.kind==="CreateTableNode"},create(t){return R({kind:"CreateTableNode",table:t,columns:R([])})},cloneWithColumn(t,e){return R({...t,columns:R([...t.columns,e])})},cloneWithConstraint(t,e){return R({...t,constraints:t.constraints?R([...t.constraints,e]):R([e])})},cloneWithFrontModifier(t,e){return R({...t,frontModifiers:t.frontModifiers?R([...t.frontModifiers,e]):R([e])})},cloneWithEndModifier(t,e){return R({...t,endModifiers:t.endModifiers?R([...t.endModifiers,e]):R([e])})},cloneWith(t,e){return R({...t,...e})}}),yl=R({is(t){return t.kind==="SchemableIdentifierNode"},create(t){return R({kind:"SchemableIdentifierNode",identifier:or.create(t)})},createWithSchema(t,e){return R({kind:"SchemableIdentifierNode",schema:or.create(t),identifier:or.create(e)})}}),vf=R({is(t){return t.kind==="DropIndexNode"},create(t,e){return R({kind:"DropIndexNode",name:yl.create(t),...e})},cloneWith(t,e){return R({...t,...e})}}),Hx=R({is(t){return t.kind==="DropSchemaNode"},create(t,e){return R({kind:"DropSchemaNode",schema:or.create(t),...e})},cloneWith(t,e){return R({...t,...e})}}),Qx=R({is(t){return t.kind==="DropTableNode"},create(t,e){return R({kind:"DropTableNode",table:t,...e})},cloneWith(t,e){return R({...t,...e})}}),kl=R({is(t){return t.kind==="AliasNode"},create(t,e){return R({kind:"AliasNode",node:t,alias:e})}}),ul=R({is(t){return t.kind==="TableNode"},create(t){return R({kind:"TableNode",table:yl.create(t)})},createWithSchema(t,e){return R({kind:"TableNode",table:yl.createWithSchema(t,e)})}});function Qi(t){return To(t)&&ps(t.toOperationNode)}function KW(t){return To(t)&&"expressionType"in t&&Qi(t)}function GW(t){return To(t)&&"expression"in t&&fs(t.alias)&&Qi(t)}const ia=R({is(t){return t.kind==="SelectModifierNode"},create(t,e){return R({kind:"SelectModifierNode",modifier:t,of:e})},createWithExpression(t){return R({kind:"SelectModifierNode",rawModifier:t})}}),vl=R({is(t){return t.kind==="AndNode"},create(t,e){return R({kind:"AndNode",left:t,right:e})}}),td=R({is(t){return t.kind==="OrNode"},create(t,e){return R({kind:"OrNode",left:t,right:e})}}),W_=R({is(t){return t.kind==="OnNode"},create(t){return R({kind:"OnNode",on:t})},cloneWithOperation(t,e,n){return R({...t,on:e==="And"?vl.create(t.on,n):td.create(t.on,n)})}}),bf=R({is(t){return t.kind==="JoinNode"},create(t,e){return R({kind:"JoinNode",joinType:t,table:e,on:void 0})},createWithOn(t,e,n){return R({kind:"JoinNode",joinType:t,table:e,on:W_.create(n)})},cloneWithOn(t,e){return R({...t,on:t.on?W_.cloneWithOperation(t.on,"And",e):W_.create(e)})}}),Bu=R({is(t){return t.kind==="BinaryOperationNode"},create(t,e,n){return R({kind:"BinaryOperationNode",leftOperand:t,operator:e,rightOperand:n})}}),JW=["=","==","!=","<>",">",">=","<","<=","in","not in","is","is not","like","not like","match","ilike","not ilike","@>","<@","^@","&&","?","?&","?|","!<","!>","<=>","!~","~","~*","!~*","@@","@@@","!!","<->","regexp","is distinct from","is not distinct from"],ZW=["+","-","*","/","%","^","&","|","#","<<",">>"],qC=["->","->>"],YW=[...JW,...ZW,"&&","||"],XW=["exists","not exists"],ez=["not","-",...XW],tz=[...YW,...qC,...ez,"between","between symmetric"],bl=R({is(t){return t.kind==="OperatorNode"},create(t){return R({kind:"OperatorNode",operator:t})}});function M1(t){return fs(t)&&qC.includes(t)}const Rr=R({is(t){return t.kind==="ColumnNode"},create(t){return R({kind:"ColumnNode",column:or.create(t)})}}),i0=R({is(t){return t.kind==="SelectAllNode"},create(){return R({kind:"SelectAllNode"})}}),_y=R({is(t){return t.kind==="ReferenceNode"},create(t,e){return R({kind:"ReferenceNode",table:e,column:t})},createSelectAll(t){return R({kind:"ReferenceNode",table:t,column:i0.create()})}});class nz{#e;get dynamicReference(){return this.#e}get refType(){}constructor(e){this.#e=e}toOperationNode(){return PC(this.#e)}}function CC(t){return To(t)&&Qi(t)&&fs(t.dynamicReference)}const Kx=R({is(t){return t.kind==="OrderByItemNode"},create(t,e){return R({kind:"OrderByItemNode",orderBy:t,direction:e})}}),ui=R({is(t){return t.kind==="RawNode"},create(t,e){return R({kind:"RawNode",sqlFragments:R(t),parameters:R(e)})},createWithSql(t){return ui.create([t],[])},createWithChild(t){return ui.create(["",""],[t])},createWithChildren(t){return ui.create(new Array(t.length+1).fill(""),t)}});function RC(t){return t==="asc"||t==="desc"}function vp(t){if(t.length===2)return[z_(t[0],t[1])];if(t.length===1){const[e]=t;return Array.isArray(e)?e.map(n=>z_(n)):[z_(e)]}throw new Error(`Invalid number of arguments at order by! expected 1-2, received ${t.length}`)}function z_(t,e){const n=rz(t);if(Kx.is(n)){if(e)throw new Error("Cannot specify direction twice!");return n}return Kx.create(n,AC(e))}function rz(t){if(Sp(t))return wc(t);if(CC(t))return t.toOperationNode();const[e,n]=t.split(" ");if(n){if(!RC(n))throw new Error(`Invalid order by direction: ${n}`);return Kx.create(_a(e),AC(n))}return _a(t)}function AC(t){if(t)return t==="asc"||t==="desc"?ui.createWithSql(t):t.toOperationNode()}const Sg=R({is(t){return t.kind==="JSONReferenceNode"},create(t,e){return R({kind:"JSONReferenceNode",reference:t,traversal:e})},cloneWithTraversal(t,e){return R({...t,traversal:e})}}),jC=R({is(t){return t.kind==="JSONOperatorChainNode"},create(t){return R({kind:"JSONOperatorChainNode",operator:t,values:R([])})},cloneWithValue(t,e){return R({...t,values:R([...t.values,e])})}}),_f=R({is(t){return t.kind==="JSONPathNode"},create(t){return R({kind:"JSONPathNode",inOperator:t,pathLegs:R([])})},cloneWithLeg(t,e){return R({...t,pathLegs:R([...t.pathLegs,e])})}});function PC(t){return fs(t)?_a(t):t.toOperationNode()}function Vf(t){return ba(t)?t.map(e=>as(e)):[as(t)]}function as(t){return Sp(t)?wc(t):PC(t)}function iz(t,e){const n=_a(t);if(M1(e))return Sg.create(n,jC.create(bl.create(e)));const r=e.slice(0,-1);if(M1(r))return Sg.create(n,_f.create(bl.create(r)));throw new Error(`Invalid JSON operator: ${e}`)}function _a(t){const e=".";if(!t.includes(e))return _y.create(Rr.create(t));const n=t.split(e).map(s0);if(n.length===3)return oz(n);if(n.length===2)return az(n);throw new Error(`invalid column reference ${t}`)}function sz(t){const e=" as ";if(t.includes(e)){const[n,r]=t.split(e).map(s0);return kl.create(_a(n),or.create(r))}else return _a(t)}function FC(t){return Rr.create(t)}function Eg(t){const e=" ";if(t.includes(e)){const[n,r]=t.split(e).map(s0);if(!RC(r))throw new Error(`invalid order direction "${r}" next to "${n}"`);return vp([n,r])[0]}else return FC(t)}function oz(t){const[e,n,r]=t;return _y.create(Rr.create(r),ul.createWithSchema(e,n))}function az(t){const[e,n]=t;return _y.create(Rr.create(n),ul.create(e))}function s0(t){return t.trim()}const LC=R({is(t){return t.kind==="PrimitiveValueListNode"},create(t){return R({kind:"PrimitiveValueListNode",values:R([...t])})}}),o0=R({is(t){return t.kind==="ValueListNode"},create(t){return R({kind:"ValueListNode",values:R(t)})}}),Lo=R({is(t){return t.kind==="ValueNode"},create(t){return R({kind:"ValueNode",value:t})},createImmediate(t){return R({kind:"ValueNode",value:t,immediate:!0})}});function lz(t){return ba(t)?cz(t):Fr(t)}function Fr(t){return Sp(t)?wc(t):Lo.create(t)}function a0(t){return by(t)||wg(t)||n0(t)}function l0(t){if(!a0(t))throw new Error(`unsafe immediate value ${JSON.stringify(t)}`);return Lo.createImmediate(t)}function cz(t){return t.some(Sp)?o0.create(t.map(e=>Fr(e))):LC.create(t)}const Wu=R({is(t){return t.kind==="ParensNode"},create(t){return R({kind:"ParensNode",node:t})}});function ri(t){if(t.length===3)return c0(t[0],t[1],t[2]);if(t.length===1)return Fr(t[0]);throw new Error(`invalid arguments: ${JSON.stringify(t)}`)}function c0(t,e,n){return uz(e)&&DC(n)?Bu.create(as(t),Gx(e),Lo.createImmediate(n)):Bu.create(as(t),Gx(e),lz(n))}function Do(t,e,n){return Bu.create(as(t),Gx(e),as(n))}function $1(t,e){return kg(Object.entries(t).filter(([,n])=>!ll(n)).map(([n,r])=>c0(n,DC(r)?"is":"=",r)),e)}function kg(t,e,n=!0){const r=e==="and"?vl.create:td.create;if(t.length===0)return Bu.create(Lo.createImmediate(1),bl.create("="),Lo.createImmediate(e==="and"?1:0));let i=B1(t[0]);for(let o=1;o<t.length;++o)i=r(i,B1(t[o]));return t.length>1&&n?Wu.create(i):i}function uz(t){return t==="is"||t==="is not"}function DC(t){return n0(t)||wg(t)}function Gx(t){if(fs(t)&&tz.includes(t))return bl.create(t);if(Qi(t))return t.toOperationNode();throw new Error(`invalid operator ${JSON.stringify(t)}`)}function B1(t){return Qi(t)?t.toOperationNode():t}const _l=R({is(t){return t.kind==="OrderByNode"},create(t){return R({kind:"OrderByNode",items:R([...t])})},cloneWithItems(t,e){return R({...t,items:R([...t.items,...e])})}}),W1=R({is(t){return t.kind==="PartitionByNode"},create(t){return R({kind:"PartitionByNode",items:R(t)})},cloneWithItems(t,e){return R({...t,items:R([...t.items,...e])})}}),Jx=R({is(t){return t.kind==="OverNode"},create(){return R({kind:"OverNode"})},cloneWithOrderByItems(t,e){return R({...t,orderBy:t.orderBy?_l.cloneWithItems(t.orderBy,e):_l.create(e)})},cloneWithPartitionByItems(t,e){return R({...t,partitionBy:t.partitionBy?W1.cloneWithItems(t.partitionBy,e):W1.create(e)})}}),Ng=R({is(t){return t.kind==="FromNode"},create(t){return R({kind:"FromNode",froms:R(t)})},cloneWithFroms(t,e){return R({...t,froms:R([...t.froms,...e])})}}),z1=R({is(t){return t.kind==="GroupByNode"},create(t){return R({kind:"GroupByNode",items:R(t)})},cloneWithItems(t,e){return R({...t,items:R([...t.items,...e])})}}),U1=R({is(t){return t.kind==="HavingNode"},create(t){return R({kind:"HavingNode",having:t})},cloneWithOperation(t,e,n){return R({...t,having:e==="And"?vl.create(t.having,n):td.create(t.having,n)})}}),Mn=R({is(t){return t.kind==="SelectQueryNode"},create(t){return R({kind:"SelectQueryNode",...t&&{with:t}})},createFrom(t,e){return R({kind:"SelectQueryNode",from:Ng.create(t),...e&&{with:e}})},cloneWithSelections(t,e){return R({...t,selections:t.selections?R([...t.selections,...e]):R(e)})},cloneWithDistinctOn(t,e){return R({...t,distinctOn:t.distinctOn?R([...t.distinctOn,...e]):R(e)})},cloneWithFrontModifier(t,e){return R({...t,frontModifiers:t.frontModifiers?R([...t.frontModifiers,e]):R([e])})},cloneWithOrderByItems(t,e){return R({...t,orderBy:t.orderBy?_l.cloneWithItems(t.orderBy,e):_l.create(e)})},cloneWithGroupByItems(t,e){return R({...t,groupBy:t.groupBy?z1.cloneWithItems(t.groupBy,e):z1.create(e)})},cloneWithLimit(t,e){return R({...t,limit:e})},cloneWithOffset(t,e){return R({...t,offset:e})},cloneWithFetch(t,e){return R({...t,fetch:e})},cloneWithHaving(t,e){return R({...t,having:t.having?U1.cloneWithOperation(t.having,"And",e):U1.create(e)})},cloneWithSetOperations(t,e){return R({...t,setOperations:t.setOperations?R([...t.setOperations,...e]):R([...e])})},cloneWithoutSelections(t){return R({...t,selections:[]})},cloneWithoutLimit(t){return R({...t,limit:void 0})},cloneWithoutOffset(t){return R({...t,offset:void 0})},cloneWithoutOrderBy(t){return R({...t,orderBy:void 0})},cloneWithoutGroupBy(t){return R({...t,groupBy:void 0})}});function hn(t,e){Object.defineProperties(t.prototype,{then:{enumerable:!1,value:()=>{throw new Error(e)}}})}class Nu{#e;constructor(e){this.#e=R(e)}on(...e){return new Nu({...this.#e,joinNode:bf.cloneWithOn(this.#e.joinNode,ri(e))})}onRef(e,n,r){return new Nu({...this.#e,joinNode:bf.cloneWithOn(this.#e.joinNode,Do(e,n,r))})}onTrue(){return new Nu({...this.#e,joinNode:bf.cloneWithOn(this.#e.joinNode,ui.createWithSql("true"))})}$call(e){return e(this)}toOperationNode(){return this.#e.joinNode}}hn(Nu,"don't await JoinBuilder instances. They are never executed directly and are always just a part of a query.");const dz=R({is(t){return t.kind==="PartitionByItemNode"},create(t){return R({kind:"PartitionByItemNode",partitionBy:t})}});function fz(t){return Vf(t).map(dz.create)}class Hf{#e;constructor(e){this.#e=R(e)}orderBy(e,n){return new Hf({overNode:Jx.cloneWithOrderByItems(this.#e.overNode,vp([e,n]))})}partitionBy(e){return new Hf({overNode:Jx.cloneWithPartitionByItems(this.#e.overNode,fz(e))})}$call(e){return e(this)}toOperationNode(){return this.#e.overNode}}hn(Hf,"don't await OverBuilder instances. They are never executed directly and are always just a part of a query.");const xf=R({is(t){return t.kind==="SelectionNode"},create(t){return R({kind:"SelectionNode",selection:t})},createSelectAll(){return R({kind:"SelectionNode",selection:i0.create()})},createSelectAllFromTable(t){return R({kind:"SelectionNode",selection:_y.createSelectAll(t)})}});function uo(t){return ps(t)?uo(t(rd())):ba(t)?t.map(e=>V1(e)):[V1(t)]}function V1(t){return fs(t)?xf.create(sz(t)):CC(t)?xf.create(t.toOperationNode()):xf.create(ZC(t))}function Mo(t){return t?Array.isArray(t)?t.map(H1):[H1(t)]:[xf.createSelectAll()]}function H1(t){if(fs(t))return xf.createSelectAllFromTable(Tr(t));throw new Error(`invalid value selectAll expression: ${JSON.stringify(t)}`)}const pz=R({is(t){return t.kind==="ValuesNode"},create(t){return R({kind:"ValuesNode",values:R(t)})}}),hz=R({is(t){return t.kind==="DefaultInsertValueNode"},create(){return R({kind:"DefaultInsertValueNode"})}});function MC(t){const e=ps(t)?t(rd()):t,n=ba(e)?e:R([e]);return mz(n)}function mz(t){const e=gz(t);return[R([...e.keys()].map(Rr.create)),pz.create(t.map(n=>yz(n,e)))]}function gz(t){const e=new Map;for(const n of t){const r=Object.keys(n);for(const i of r)!e.has(i)&&n[i]!==void 0&&e.set(i,e.size)}return e}function yz(t,e){const n=Object.keys(t),r=Array.from({length:e.size});let i=!1;for(const l of n){const c=e.get(l);if(ll(c))continue;const d=t[l];(ll(d)||Sp(d))&&(i=!0),r[c]=d}if(n.length<e.size||i){const l=hz.create();return o0.create(r.map(c=>ll(c)?l:Fr(c)))}return LC.create(r)}const rs=R({is(t){return t.kind==="InsertQueryNode"},create(t,e,n){return R({kind:"InsertQueryNode",into:t,...e&&{with:e},replace:n})},createWithoutInto(){return R({kind:"InsertQueryNode"})},cloneWith(t,e){return R({...t,...e})}}),Iu=R({is(t){return t.kind==="UpdateQueryNode"},create(t,e){return R({kind:"UpdateQueryNode",table:t,...e&&{with:e}})},createWithoutTable(){return R({kind:"UpdateQueryNode"})},cloneWithFromItems(t,e){return R({...t,from:t.from?Ng.cloneWithFroms(t.from,e):Ng.create(e)})},cloneWithUpdates(t,e){return R({...t,updates:t.updates?R([...t.updates,...e]):e})},cloneWithLimit(t,e){return R({...t,limit:e})}}),Q1=R({is(t){return t.kind==="UsingNode"},create(t){return R({kind:"UsingNode",tables:R(t)})},cloneWithTables(t,e){return R({...t,tables:R([...t.tables,...e])})}}),Jl=R({is(t){return t.kind==="DeleteQueryNode"},create(t,e){return R({kind:"DeleteQueryNode",from:Ng.create(t),...e&&{with:e}})},cloneWithOrderByItems(t,e){return R({...t,orderBy:t.orderBy?_l.cloneWithItems(t.orderBy,e):_l.create(e)})},cloneWithoutOrderBy(t){return R({...t,orderBy:void 0})},cloneWithLimit(t,e){return R({...t,limit:e})},cloneWithoutLimit(t){return R({...t,limit:void 0})},cloneWithUsing(t,e){return R({...t,using:t.using!==void 0?Q1.cloneWithTables(t.using,e):Q1.create(e)})}}),Bi=R({is(t){return t.kind==="WhereNode"},create(t){return R({kind:"WhereNode",where:t})},cloneWithOperation(t,e,n){return R({...t,where:e==="And"?vl.create(t.where,n):td.create(t.where,n)})}}),K1=R({is(t){return t.kind==="ReturningNode"},create(t){return R({kind:"ReturningNode",selections:R(t)})},cloneWithSelections(t,e){return R({...t,selections:t.selections?R([...t.selections,...e]):R(e)})}}),vz=R({is(t){return t.kind==="ExplainNode"},create(t,e){return R({kind:"ExplainNode",format:t,options:e})}}),bp=R({is(t){return t.kind==="WhenNode"},create(t){return R({kind:"WhenNode",condition:t})},cloneWithResult(t,e){return R({...t,result:e})}}),zi=R({is(t){return t.kind==="MergeQueryNode"},create(t,e){return R({kind:"MergeQueryNode",into:t,...e&&{with:e}})},cloneWithUsing(t,e){return R({...t,using:e})},cloneWithWhen(t,e){return R({...t,whens:t.whens?R([...t.whens,e]):R([e])})},cloneWithThen(t,e){return R({...t,whens:t.whens?R([...t.whens.slice(0,-1),bp.cloneWithResult(t.whens[t.whens.length-1],e)]):void 0})}}),G1=R({is(t){return t.kind==="OutputNode"},create(t){return R({kind:"OutputNode",selections:R(t)})},cloneWithSelections(t,e){return R({...t,selections:t.selections?R([...t.selections,...e]):R(e)})}}),Ct=R({is(t){return Mn.is(t)||rs.is(t)||Iu.is(t)||Jl.is(t)||zi.is(t)},cloneWithEndModifier(t,e){return R({...t,endModifiers:t.endModifiers?R([...t.endModifiers,e]):R([e])})},cloneWithWhere(t,e){return R({...t,where:t.where?Bi.cloneWithOperation(t.where,"And",e):Bi.create(e)})},cloneWithJoin(t,e){return R({...t,joins:t.joins?R([...t.joins,e]):R([e])})},cloneWithReturning(t,e){return R({...t,returning:t.returning?K1.cloneWithSelections(t.returning,e):K1.create(e)})},cloneWithoutReturning(t){return R({...t,returning:void 0})},cloneWithoutWhere(t){return R({...t,where:void 0})},cloneWithExplain(t,e,n){return R({...t,explain:vz.create(e,n?.toOperationNode())})},cloneWithTop(t,e){return R({...t,top:e})},cloneWithOutput(t,e){return R({...t,output:t.output?G1.cloneWithSelections(t.output,e):G1.create(e)})}}),$C=R({is(t){return t.kind==="ColumnUpdateNode"},create(t,e){return R({kind:"ColumnUpdateNode",column:t,value:e})}});function bz(...t){return t.length===2?[$C.create(as(t[0]),Fr(t[1]))]:u0(t[0])}function u0(t){const e=ps(t)?t(rd()):t;return Object.entries(e).filter(([n,r])=>r!==void 0).map(([n,r])=>$C.create(Rr.create(n),Fr(r)))}const _z=R({is(t){return t.kind==="OnDuplicateKeyNode"},create(t){return R({kind:"OnDuplicateKeyNode",updates:t})}});class xz{insertId;numInsertedOrUpdatedRows;constructor(e,n){this.insertId=e,this.numInsertedOrUpdatedRows=n}}class _p extends Error{node;constructor(e){super("no result"),this.node=e}}function xp(t){return Object.prototype.hasOwnProperty.call(t,"prototype")}const ts=R({is(t){return t.kind==="OnConflictNode"},create(){return R({kind:"OnConflictNode"})},cloneWith(t,e){return R({...t,...e})},cloneWithIndexWhere(t,e){return R({...t,indexWhere:t.indexWhere?Bi.cloneWithOperation(t.indexWhere,"And",e):Bi.create(e)})},cloneWithIndexOrWhere(t,e){return R({...t,indexWhere:t.indexWhere?Bi.cloneWithOperation(t.indexWhere,"Or",e):Bi.create(e)})},cloneWithUpdateWhere(t,e){return R({...t,updateWhere:t.updateWhere?Bi.cloneWithOperation(t.updateWhere,"And",e):Bi.create(e)})},cloneWithUpdateOrWhere(t,e){return R({...t,updateWhere:t.updateWhere?Bi.cloneWithOperation(t.updateWhere,"Or",e):Bi.create(e)})},cloneWithoutIndexWhere(t){return R({...t,indexWhere:void 0})},cloneWithoutUpdateWhere(t){return R({...t,updateWhere:void 0})}});class Oo{#e;constructor(e){this.#e=R(e)}column(e){const n=Rr.create(e);return new Oo({...this.#e,onConflictNode:ts.cloneWith(this.#e.onConflictNode,{columns:this.#e.onConflictNode.columns?R([...this.#e.onConflictNode.columns,n]):R([n])})})}columns(e){const n=e.map(Rr.create);return new Oo({...this.#e,onConflictNode:ts.cloneWith(this.#e.onConflictNode,{columns:this.#e.onConflictNode.columns?R([...this.#e.onConflictNode.columns,...n]):R(n)})})}constraint(e){return new Oo({...this.#e,onConflictNode:ts.cloneWith(this.#e.onConflictNode,{constraint:or.create(e)})})}expression(e){return new Oo({...this.#e,onConflictNode:ts.cloneWith(this.#e.onConflictNode,{indexExpression:e.toOperationNode()})})}where(...e){return new Oo({...this.#e,onConflictNode:ts.cloneWithIndexWhere(this.#e.onConflictNode,ri(e))})}whereRef(e,n,r){return new Oo({...this.#e,onConflictNode:ts.cloneWithIndexWhere(this.#e.onConflictNode,Do(e,n,r))})}clearWhere(){return new Oo({...this.#e,onConflictNode:ts.cloneWithoutIndexWhere(this.#e.onConflictNode)})}doNothing(){return new BC({...this.#e,onConflictNode:ts.cloneWith(this.#e.onConflictNode,{doNothing:!0})})}doUpdateSet(e){return new Ou({...this.#e,onConflictNode:ts.cloneWith(this.#e.onConflictNode,{updates:u0(e)})})}$call(e){return e(this)}}hn(Oo,"don't await OnConflictBuilder instances.");class BC{#e;constructor(e){this.#e=R(e)}toOperationNode(){return this.#e.onConflictNode}}hn(BC,"don't await OnConflictDoNothingBuilder instances.");class Ou{#e;constructor(e){this.#e=R(e)}where(...e){return new Ou({...this.#e,onConflictNode:ts.cloneWithUpdateWhere(this.#e.onConflictNode,ri(e))})}whereRef(e,n,r){return new Ou({...this.#e,onConflictNode:ts.cloneWithUpdateWhere(this.#e.onConflictNode,Do(e,n,r))})}clearWhere(){return new Ou({...this.#e,onConflictNode:ts.cloneWithoutUpdateWhere(this.#e.onConflictNode)})}$call(e){return e(this)}toOperationNode(){return this.#e.onConflictNode}}hn(Ou,"don't await OnConflictUpdateBuilder instances.");const wz=R({is(t){return t.kind==="TopNode"},create(t,e){return R({kind:"TopNode",expression:t,modifiers:e})}});function nd(t,e){if(!by(t)&&!r0(t))throw new Error(`Invalid top expression: ${t}`);if(!ll(e)&&!Sz(e))throw new Error(`Invalid top modifiers: ${e}`);return wz.create(t,e)}function Sz(t){return t==="percent"||t==="with ties"||t==="percent with ties"}class rr{#e;constructor(e){this.#e=R(e)}values(e){const[n,r]=MC(e);return new rr({...this.#e,queryNode:rs.cloneWith(this.#e.queryNode,{columns:n,values:r})})}columns(e){return new rr({...this.#e,queryNode:rs.cloneWith(this.#e.queryNode,{columns:R(e.map(Rr.create))})})}expression(e){return new rr({...this.#e,queryNode:rs.cloneWith(this.#e.queryNode,{values:wc(e)})})}defaultValues(){return new rr({...this.#e,queryNode:rs.cloneWith(this.#e.queryNode,{defaultValues:!0})})}modifyEnd(e){return new rr({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}ignore(){return new rr({...this.#e,queryNode:rs.cloneWith(this.#e.queryNode,{ignore:!0})})}top(e,n){return new rr({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,nd(e,n))})}onConflict(e){return new rr({...this.#e,queryNode:rs.cloneWith(this.#e.queryNode,{onConflict:e(new Oo({onConflictNode:ts.create()})).toOperationNode()})})}onDuplicateKeyUpdate(e){return new rr({...this.#e,queryNode:rs.cloneWith(this.#e.queryNode,{onDuplicateKey:_z.create(u0(e))})})}returning(e){return new rr({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,uo(e))})}returningAll(){return new rr({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,Mo())})}output(e){return new rr({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,uo(e))})}outputAll(e){return new rr({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,Mo(e))})}clearReturning(){return new rr({...this.#e,queryNode:Ct.cloneWithoutReturning(this.#e.queryNode)})}$call(e){return e(this)}$if(e,n){return e?n(this):new rr({...this.#e})}$castTo(){return new rr(this.#e)}$narrowType(){return new rr(this.#e)}$assertType(){return new rr(this.#e)}withPlugin(e){return new rr({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),n=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:r}=this.#e.executor,i=e.query;return i.returning&&r.supportsReturning||i.output&&r.supportsOutput?n.rows:[new xz(n.insertId,n.numAffectedRows??n.numUpdatedOrDeletedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=_p){const n=await this.executeTakeFirst();if(n===void 0)throw xp(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async *stream(e=100){const n=this.compile(),r=this.#e.executor.stream(n,e,this.#e.queryId);for await(const i of r)yield*i.rows}async explain(e,n){return await new rr({...this.#e,queryNode:Ct.cloneWithExplain(this.#e.queryNode,e,n)}).execute()}}hn(rr,"don't await InsertQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class Ez{numDeletedRows;constructor(e){this.numDeletedRows=e}}const d0=R({is(t){return t.kind==="LimitNode"},create(t){return R({kind:"LimitNode",limit:t})}});class Dn{#e;constructor(e){this.#e=R(e)}where(...e){return new Dn({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,ri(e))})}whereRef(e,n,r){return new Dn({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,Do(e,n,r))})}clearWhere(){return new Dn({...this.#e,queryNode:Ct.cloneWithoutWhere(this.#e.queryNode)})}top(e,n){return new Dn({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,nd(e,n))})}using(e){return new Dn({...this.#e,queryNode:Jl.cloneWithUsing(this.#e.queryNode,Gf(e))})}innerJoin(...e){return new Dn({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Ei("InnerJoin",e))})}leftJoin(...e){return new Dn({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Ei("LeftJoin",e))})}rightJoin(...e){return new Dn({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Ei("RightJoin",e))})}fullJoin(...e){return new Dn({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Ei("FullJoin",e))})}returning(e){return new Dn({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,uo(e))})}returningAll(e){return new Dn({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,Mo(e))})}output(e){return new Dn({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,uo(e))})}outputAll(e){return new Dn({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,Mo(e))})}clearReturning(){return new Dn({...this.#e,queryNode:Ct.cloneWithoutReturning(this.#e.queryNode)})}clearLimit(){return new Dn({...this.#e,queryNode:Jl.cloneWithoutLimit(this.#e.queryNode)})}clearOrderBy(){return new Dn({...this.#e,queryNode:Jl.cloneWithoutOrderBy(this.#e.queryNode)})}orderBy(e,n){return new Dn({...this.#e,queryNode:Jl.cloneWithOrderByItems(this.#e.queryNode,vp([e,n]))})}limit(e){return new Dn({...this.#e,queryNode:Jl.cloneWithLimit(this.#e.queryNode,d0.create(Fr(e)))})}modifyEnd(e){return new Dn({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}$call(e){return e(this)}$if(e,n){return e?n(this):new Dn({...this.#e})}$castTo(){return new Dn(this.#e)}$narrowType(){return new Dn(this.#e)}$assertType(){return new Dn(this.#e)}withPlugin(e){return new Dn({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),n=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:r}=this.#e.executor,i=e.query;return i.returning&&r.supportsReturning||i.output&&r.supportsOutput?n.rows:[new Ez(n.numAffectedRows??n.numUpdatedOrDeletedRows??BigInt(0))]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=_p){const n=await this.executeTakeFirst();if(n===void 0)throw xp(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async *stream(e=100){const n=this.compile(),r=this.#e.executor.stream(n,e,this.#e.queryId);for await(const i of r)yield*i.rows}async explain(e,n){return await new Dn({...this.#e,queryNode:Ct.cloneWithExplain(this.#e.queryNode,e,n)}).execute()}}hn(Dn,"don't await DeleteQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class kz{numUpdatedRows;numChangedRows;constructor(e,n){this.numUpdatedRows=e,this.numChangedRows=n}}class Hn{#e;constructor(e){this.#e=R(e)}where(...e){return new Hn({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,ri(e))})}whereRef(e,n,r){return new Hn({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,Do(e,n,r))})}clearWhere(){return new Hn({...this.#e,queryNode:Ct.cloneWithoutWhere(this.#e.queryNode)})}top(e,n){return new Hn({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,nd(e,n))})}from(e){return new Hn({...this.#e,queryNode:Iu.cloneWithFromItems(this.#e.queryNode,Gf(e))})}innerJoin(...e){return new Hn({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Ei("InnerJoin",e))})}leftJoin(...e){return new Hn({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Ei("LeftJoin",e))})}rightJoin(...e){return new Hn({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Ei("RightJoin",e))})}fullJoin(...e){return new Hn({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Ei("FullJoin",e))})}limit(e){return new Hn({...this.#e,queryNode:Iu.cloneWithLimit(this.#e.queryNode,d0.create(Fr(e)))})}set(...e){return new Hn({...this.#e,queryNode:Iu.cloneWithUpdates(this.#e.queryNode,bz(...e))})}returning(e){return new Hn({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,uo(e))})}returningAll(e){return new Hn({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,Mo(e))})}output(e){return new Hn({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,uo(e))})}outputAll(e){return new Hn({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,Mo(e))})}modifyEnd(e){return new Hn({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}clearReturning(){return new Hn({...this.#e,queryNode:Ct.cloneWithoutReturning(this.#e.queryNode)})}$call(e){return e(this)}$if(e,n){return e?n(this):new Hn({...this.#e})}$castTo(){return new Hn(this.#e)}$narrowType(){return new Hn(this.#e)}$assertType(){return new Hn(this.#e)}withPlugin(e){return new Hn({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),n=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:r}=this.#e.executor,i=e.query;return i.returning&&r.supportsReturning||i.output&&r.supportsOutput?n.rows:[new kz(n.numAffectedRows??n.numUpdatedOrDeletedRows??BigInt(0),n.numChangedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=_p){const n=await this.executeTakeFirst();if(n===void 0)throw xp(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async *stream(e=100){const n=this.compile(),r=this.#e.executor.stream(n,e,this.#e.queryId);for await(const i of r)yield*i.rows}async explain(e,n){return await new Hn({...this.#e,queryNode:Ct.cloneWithExplain(this.#e.queryNode,e,n)}).execute()}}hn(Hn,"don't await UpdateQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");const J1=R({is(t){return t.kind==="CommonTableExpressionNameNode"},create(t,e){return R({kind:"CommonTableExpressionNameNode",table:ul.create(t),columns:e?R(e.map(Rr.create)):void 0})}}),Ig=R({is(t){return t.kind==="CommonTableExpressionNode"},create(t,e){return R({kind:"CommonTableExpressionNode",name:t,expression:e})},cloneWith(t,e){return R({...t,...e})}});class Qf{#e;constructor(e){this.#e=R(e)}materialized(){return new Qf({...this.#e,node:Ig.cloneWith(this.#e.node,{materialized:!0})})}notMaterialized(){return new Qf({...this.#e,node:Ig.cloneWith(this.#e.node,{materialized:!1})})}toOperationNode(){return this.#e.node}}hn(Qf,"don't await CTEBuilder instances. They are never executed directly and are always just a part of a query.");function Z1(t,e){const n=e(Lz()).toOperationNode();return ps(t)?t(Nz(n)).toOperationNode():Ig.create(WC(t),n)}function Nz(t){return e=>new Qf({node:Ig.create(WC(e),t)})}function WC(t){if(t.includes("(")){const e=t.split(/[\(\)]/),n=e[0],r=e[1].split(",").map(i=>i.trim());return J1.create(n,r)}else return J1.create(t)}const tm=R({is(t){return t.kind==="WithNode"},create(t,e){return R({kind:"WithNode",expressions:R([t]),...e})},cloneWithExpression(t,e){return R({...t,expressions:R([...t.expressions,e])})}}),Y1=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"];function Iz(t){let e="";for(let n=0;n<t;++n)e+=Oz();return e}function Oz(){return Y1[~~(Math.random()*Y1.length)]}function Bn(){return new Tz}class Tz{#e;get queryId(){return this.#e===void 0&&(this.#e=Iz(8)),this.#e}}class zC{nodeStack=[];#e=R({AliasNode:this.transformAlias.bind(this),ColumnNode:this.transformColumn.bind(this),IdentifierNode:this.transformIdentifier.bind(this),SchemableIdentifierNode:this.transformSchemableIdentifier.bind(this),RawNode:this.transformRaw.bind(this),ReferenceNode:this.transformReference.bind(this),SelectQueryNode:this.transformSelectQuery.bind(this),SelectionNode:this.transformSelection.bind(this),TableNode:this.transformTable.bind(this),FromNode:this.transformFrom.bind(this),SelectAllNode:this.transformSelectAll.bind(this),AndNode:this.transformAnd.bind(this),OrNode:this.transformOr.bind(this),ValueNode:this.transformValue.bind(this),ValueListNode:this.transformValueList.bind(this),PrimitiveValueListNode:this.transformPrimitiveValueList.bind(this),ParensNode:this.transformParens.bind(this),JoinNode:this.transformJoin.bind(this),OperatorNode:this.transformOperator.bind(this),WhereNode:this.transformWhere.bind(this),InsertQueryNode:this.transformInsertQuery.bind(this),DeleteQueryNode:this.transformDeleteQuery.bind(this),ReturningNode:this.transformReturning.bind(this),CreateTableNode:this.transformCreateTable.bind(this),AddColumnNode:this.transformAddColumn.bind(this),ColumnDefinitionNode:this.transformColumnDefinition.bind(this),DropTableNode:this.transformDropTable.bind(this),DataTypeNode:this.transformDataType.bind(this),OrderByNode:this.transformOrderBy.bind(this),OrderByItemNode:this.transformOrderByItem.bind(this),GroupByNode:this.transformGroupBy.bind(this),GroupByItemNode:this.transformGroupByItem.bind(this),UpdateQueryNode:this.transformUpdateQuery.bind(this),ColumnUpdateNode:this.transformColumnUpdate.bind(this),LimitNode:this.transformLimit.bind(this),OffsetNode:this.transformOffset.bind(this),OnConflictNode:this.transformOnConflict.bind(this),OnDuplicateKeyNode:this.transformOnDuplicateKey.bind(this),CreateIndexNode:this.transformCreateIndex.bind(this),DropIndexNode:this.transformDropIndex.bind(this),ListNode:this.transformList.bind(this),PrimaryKeyConstraintNode:this.transformPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.transformUniqueConstraint.bind(this),ReferencesNode:this.transformReferences.bind(this),CheckConstraintNode:this.transformCheckConstraint.bind(this),WithNode:this.transformWith.bind(this),CommonTableExpressionNode:this.transformCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.transformCommonTableExpressionName.bind(this),HavingNode:this.transformHaving.bind(this),CreateSchemaNode:this.transformCreateSchema.bind(this),DropSchemaNode:this.transformDropSchema.bind(this),AlterTableNode:this.transformAlterTable.bind(this),DropColumnNode:this.transformDropColumn.bind(this),RenameColumnNode:this.transformRenameColumn.bind(this),AlterColumnNode:this.transformAlterColumn.bind(this),ModifyColumnNode:this.transformModifyColumn.bind(this),AddConstraintNode:this.transformAddConstraint.bind(this),DropConstraintNode:this.transformDropConstraint.bind(this),ForeignKeyConstraintNode:this.transformForeignKeyConstraint.bind(this),CreateViewNode:this.transformCreateView.bind(this),DropViewNode:this.transformDropView.bind(this),GeneratedNode:this.transformGenerated.bind(this),DefaultValueNode:this.transformDefaultValue.bind(this),OnNode:this.transformOn.bind(this),ValuesNode:this.transformValues.bind(this),SelectModifierNode:this.transformSelectModifier.bind(this),CreateTypeNode:this.transformCreateType.bind(this),DropTypeNode:this.transformDropType.bind(this),ExplainNode:this.transformExplain.bind(this),DefaultInsertValueNode:this.transformDefaultInsertValue.bind(this),AggregateFunctionNode:this.transformAggregateFunction.bind(this),OverNode:this.transformOver.bind(this),PartitionByNode:this.transformPartitionBy.bind(this),PartitionByItemNode:this.transformPartitionByItem.bind(this),SetOperationNode:this.transformSetOperation.bind(this),BinaryOperationNode:this.transformBinaryOperation.bind(this),UnaryOperationNode:this.transformUnaryOperation.bind(this),UsingNode:this.transformUsing.bind(this),FunctionNode:this.transformFunction.bind(this),CaseNode:this.transformCase.bind(this),WhenNode:this.transformWhen.bind(this),JSONReferenceNode:this.transformJSONReference.bind(this),JSONPathNode:this.transformJSONPath.bind(this),JSONPathLegNode:this.transformJSONPathLeg.bind(this),JSONOperatorChainNode:this.transformJSONOperatorChain.bind(this),TupleNode:this.transformTuple.bind(this),MergeQueryNode:this.transformMergeQuery.bind(this),MatchedNode:this.transformMatched.bind(this),AddIndexNode:this.transformAddIndex.bind(this),CastNode:this.transformCast.bind(this),FetchNode:this.transformFetch.bind(this),TopNode:this.transformTop.bind(this),OutputNode:this.transformOutput.bind(this)});transformNode(e){if(!e)return e;this.nodeStack.push(e);const n=this.transformNodeImpl(e);return this.nodeStack.pop(),R(n)}transformNodeImpl(e){return this.#e[e.kind](e)}transformNodeList(e){return e&&R(e.map(n=>this.transformNode(n)))}transformSelectQuery(e){return{kind:"SelectQueryNode",from:this.transformNode(e.from),selections:this.transformNodeList(e.selections),distinctOn:this.transformNodeList(e.distinctOn),joins:this.transformNodeList(e.joins),groupBy:this.transformNode(e.groupBy),orderBy:this.transformNode(e.orderBy),where:this.transformNode(e.where),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),limit:this.transformNode(e.limit),offset:this.transformNode(e.offset),with:this.transformNode(e.with),having:this.transformNode(e.having),explain:this.transformNode(e.explain),setOperations:this.transformNodeList(e.setOperations),fetch:this.transformNode(e.fetch),top:this.transformNode(e.top)}}transformSelection(e){return{kind:"SelectionNode",selection:this.transformNode(e.selection)}}transformColumn(e){return{kind:"ColumnNode",column:this.transformNode(e.column)}}transformAlias(e){return{kind:"AliasNode",node:this.transformNode(e.node),alias:this.transformNode(e.alias)}}transformTable(e){return{kind:"TableNode",table:this.transformNode(e.table)}}transformFrom(e){return{kind:"FromNode",froms:this.transformNodeList(e.froms)}}transformReference(e){return{kind:"ReferenceNode",column:this.transformNode(e.column),table:this.transformNode(e.table)}}transformAnd(e){return{kind:"AndNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformOr(e){return{kind:"OrNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformValueList(e){return{kind:"ValueListNode",values:this.transformNodeList(e.values)}}transformParens(e){return{kind:"ParensNode",node:this.transformNode(e.node)}}transformJoin(e){return{kind:"JoinNode",joinType:e.joinType,table:this.transformNode(e.table),on:this.transformNode(e.on)}}transformRaw(e){return{kind:"RawNode",sqlFragments:R([...e.sqlFragments]),parameters:this.transformNodeList(e.parameters)}}transformWhere(e){return{kind:"WhereNode",where:this.transformNode(e.where)}}transformInsertQuery(e){return{kind:"InsertQueryNode",into:this.transformNode(e.into),columns:this.transformNodeList(e.columns),values:this.transformNode(e.values),returning:this.transformNode(e.returning),onConflict:this.transformNode(e.onConflict),onDuplicateKey:this.transformNode(e.onDuplicateKey),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),ignore:e.ignore,replace:e.replace,explain:this.transformNode(e.explain),defaultValues:e.defaultValues,top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformValues(e){return{kind:"ValuesNode",values:this.transformNodeList(e.values)}}transformDeleteQuery(e){return{kind:"DeleteQueryNode",from:this.transformNode(e.from),using:this.transformNode(e.using),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),returning:this.transformNode(e.returning),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),orderBy:this.transformNode(e.orderBy),limit:this.transformNode(e.limit),explain:this.transformNode(e.explain),top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformReturning(e){return{kind:"ReturningNode",selections:this.transformNodeList(e.selections)}}transformCreateTable(e){return{kind:"CreateTableNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),constraints:this.transformNodeList(e.constraints),temporary:e.temporary,ifNotExists:e.ifNotExists,onCommit:e.onCommit,frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),selectQuery:this.transformNode(e.selectQuery)}}transformColumnDefinition(e){return{kind:"ColumnDefinitionNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),references:this.transformNode(e.references),primaryKey:e.primaryKey,autoIncrement:e.autoIncrement,unique:e.unique,notNull:e.notNull,unsigned:e.unsigned,defaultTo:this.transformNode(e.defaultTo),check:this.transformNode(e.check),generated:this.transformNode(e.generated),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),nullsNotDistinct:e.nullsNotDistinct,identity:e.identity,ifNotExists:e.ifNotExists}}transformAddColumn(e){return{kind:"AddColumnNode",column:this.transformNode(e.column)}}transformDropTable(e){return{kind:"DropTableNode",table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformOrderBy(e){return{kind:"OrderByNode",items:this.transformNodeList(e.items)}}transformOrderByItem(e){return{kind:"OrderByItemNode",orderBy:this.transformNode(e.orderBy),direction:this.transformNode(e.direction)}}transformGroupBy(e){return{kind:"GroupByNode",items:this.transformNodeList(e.items)}}transformGroupByItem(e){return{kind:"GroupByItemNode",groupBy:this.transformNode(e.groupBy)}}transformUpdateQuery(e){return{kind:"UpdateQueryNode",table:this.transformNode(e.table),from:this.transformNode(e.from),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),updates:this.transformNodeList(e.updates),returning:this.transformNode(e.returning),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),explain:this.transformNode(e.explain),limit:this.transformNode(e.limit),top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformColumnUpdate(e){return{kind:"ColumnUpdateNode",column:this.transformNode(e.column),value:this.transformNode(e.value)}}transformLimit(e){return{kind:"LimitNode",limit:this.transformNode(e.limit)}}transformOffset(e){return{kind:"OffsetNode",offset:this.transformNode(e.offset)}}transformOnConflict(e){return{kind:"OnConflictNode",columns:this.transformNodeList(e.columns),constraint:this.transformNode(e.constraint),indexExpression:this.transformNode(e.indexExpression),indexWhere:this.transformNode(e.indexWhere),updates:this.transformNodeList(e.updates),updateWhere:this.transformNode(e.updateWhere),doNothing:e.doNothing}}transformOnDuplicateKey(e){return{kind:"OnDuplicateKeyNode",updates:this.transformNodeList(e.updates)}}transformCreateIndex(e){return{kind:"CreateIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists,where:this.transformNode(e.where),nullsNotDistinct:e.nullsNotDistinct}}transformList(e){return{kind:"ListNode",items:this.transformNodeList(e.items)}}transformDropIndex(e){return{kind:"DropIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformPrimaryKeyConstraint(e){return{kind:"PrimaryKeyConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name)}}transformUniqueConstraint(e){return{kind:"UniqueConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name),nullsNotDistinct:e.nullsNotDistinct}}transformForeignKeyConstraint(e){return{kind:"ForeignKeyConstraintNode",columns:this.transformNodeList(e.columns),references:this.transformNode(e.references),name:this.transformNode(e.name),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformSetOperation(e){return{kind:"SetOperationNode",operator:e.operator,expression:this.transformNode(e.expression),all:e.all}}transformReferences(e){return{kind:"ReferencesNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformCheckConstraint(e){return{kind:"CheckConstraintNode",expression:this.transformNode(e.expression),name:this.transformNode(e.name)}}transformWith(e){return{kind:"WithNode",expressions:this.transformNodeList(e.expressions),recursive:e.recursive}}transformCommonTableExpression(e){return{kind:"CommonTableExpressionNode",name:this.transformNode(e.name),materialized:e.materialized,expression:this.transformNode(e.expression)}}transformCommonTableExpressionName(e){return{kind:"CommonTableExpressionNameNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns)}}transformHaving(e){return{kind:"HavingNode",having:this.transformNode(e.having)}}transformCreateSchema(e){return{kind:"CreateSchemaNode",schema:this.transformNode(e.schema),ifNotExists:e.ifNotExists}}transformDropSchema(e){return{kind:"DropSchemaNode",schema:this.transformNode(e.schema),ifExists:e.ifExists,cascade:e.cascade}}transformAlterTable(e){return{kind:"AlterTableNode",table:this.transformNode(e.table),renameTo:this.transformNode(e.renameTo),setSchema:this.transformNode(e.setSchema),columnAlterations:this.transformNodeList(e.columnAlterations),addConstraint:this.transformNode(e.addConstraint),dropConstraint:this.transformNode(e.dropConstraint),addIndex:this.transformNode(e.addIndex),dropIndex:this.transformNode(e.dropIndex)}}transformDropColumn(e){return{kind:"DropColumnNode",column:this.transformNode(e.column)}}transformRenameColumn(e){return{kind:"RenameColumnNode",column:this.transformNode(e.column),renameTo:this.transformNode(e.renameTo)}}transformAlterColumn(e){return{kind:"AlterColumnNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),dataTypeExpression:this.transformNode(e.dataTypeExpression),setDefault:this.transformNode(e.setDefault),dropDefault:e.dropDefault,setNotNull:e.setNotNull,dropNotNull:e.dropNotNull}}transformModifyColumn(e){return{kind:"ModifyColumnNode",column:this.transformNode(e.column)}}transformAddConstraint(e){return{kind:"AddConstraintNode",constraint:this.transformNode(e.constraint)}}transformDropConstraint(e){return{kind:"DropConstraintNode",constraintName:this.transformNode(e.constraintName),ifExists:e.ifExists,modifier:e.modifier}}transformCreateView(e){return{kind:"CreateViewNode",name:this.transformNode(e.name),temporary:e.temporary,orReplace:e.orReplace,ifNotExists:e.ifNotExists,materialized:e.materialized,columns:this.transformNodeList(e.columns),as:this.transformNode(e.as)}}transformDropView(e){return{kind:"DropViewNode",name:this.transformNode(e.name),ifExists:e.ifExists,materialized:e.materialized,cascade:e.cascade}}transformGenerated(e){return{kind:"GeneratedNode",byDefault:e.byDefault,always:e.always,identity:e.identity,stored:e.stored,expression:this.transformNode(e.expression)}}transformDefaultValue(e){return{kind:"DefaultValueNode",defaultValue:this.transformNode(e.defaultValue)}}transformOn(e){return{kind:"OnNode",on:this.transformNode(e.on)}}transformSelectModifier(e){return{kind:"SelectModifierNode",modifier:e.modifier,rawModifier:this.transformNode(e.rawModifier),of:this.transformNodeList(e.of)}}transformCreateType(e){return{kind:"CreateTypeNode",name:this.transformNode(e.name),enum:this.transformNode(e.enum)}}transformDropType(e){return{kind:"DropTypeNode",name:this.transformNode(e.name),ifExists:e.ifExists}}transformExplain(e){return{kind:"ExplainNode",format:e.format,options:this.transformNode(e.options)}}transformSchemableIdentifier(e){return{kind:"SchemableIdentifierNode",schema:this.transformNode(e.schema),identifier:this.transformNode(e.identifier)}}transformAggregateFunction(e){return{kind:"AggregateFunctionNode",aggregated:this.transformNodeList(e.aggregated),distinct:e.distinct,orderBy:this.transformNode(e.orderBy),filter:this.transformNode(e.filter),func:e.func,over:this.transformNode(e.over)}}transformOver(e){return{kind:"OverNode",orderBy:this.transformNode(e.orderBy),partitionBy:this.transformNode(e.partitionBy)}}transformPartitionBy(e){return{kind:"PartitionByNode",items:this.transformNodeList(e.items)}}transformPartitionByItem(e){return{kind:"PartitionByItemNode",partitionBy:this.transformNode(e.partitionBy)}}transformBinaryOperation(e){return{kind:"BinaryOperationNode",leftOperand:this.transformNode(e.leftOperand),operator:this.transformNode(e.operator),rightOperand:this.transformNode(e.rightOperand)}}transformUnaryOperation(e){return{kind:"UnaryOperationNode",operator:this.transformNode(e.operator),operand:this.transformNode(e.operand)}}transformUsing(e){return{kind:"UsingNode",tables:this.transformNodeList(e.tables)}}transformFunction(e){return{kind:"FunctionNode",func:e.func,arguments:this.transformNodeList(e.arguments)}}transformCase(e){return{kind:"CaseNode",value:this.transformNode(e.value),when:this.transformNodeList(e.when),else:this.transformNode(e.else),isStatement:e.isStatement}}transformWhen(e){return{kind:"WhenNode",condition:this.transformNode(e.condition),result:this.transformNode(e.result)}}transformJSONReference(e){return{kind:"JSONReferenceNode",reference:this.transformNode(e.reference),traversal:this.transformNode(e.traversal)}}transformJSONPath(e){return{kind:"JSONPathNode",inOperator:this.transformNode(e.inOperator),pathLegs:this.transformNodeList(e.pathLegs)}}transformJSONPathLeg(e){return{kind:"JSONPathLegNode",type:e.type,value:e.value}}transformJSONOperatorChain(e){return{kind:"JSONOperatorChainNode",operator:this.transformNode(e.operator),values:this.transformNodeList(e.values)}}transformTuple(e){return{kind:"TupleNode",values:this.transformNodeList(e.values)}}transformMergeQuery(e){return{kind:"MergeQueryNode",into:this.transformNode(e.into),using:this.transformNode(e.using),whens:this.transformNodeList(e.whens),with:this.transformNode(e.with),top:this.transformNode(e.top),endModifiers:this.transformNodeList(e.endModifiers),output:this.transformNode(e.output)}}transformMatched(e){return{kind:"MatchedNode",not:e.not,bySource:e.bySource}}transformAddIndex(e){return{kind:"AddIndexNode",name:this.transformNode(e.name),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists}}transformCast(e){return{kind:"CastNode",expression:this.transformNode(e.expression),dataType:this.transformNode(e.dataType)}}transformFetch(e){return{kind:"FetchNode",rowCount:this.transformNode(e.rowCount),modifier:e.modifier}}transformTop(e){return{kind:"TopNode",expression:e.expression,modifiers:e.modifiers}}transformOutput(e){return{kind:"OutputNode",selections:this.transformNodeList(e.selections)}}transformDataType(e){return e}transformSelectAll(e){return e}transformIdentifier(e){return e}transformValue(e){return e}transformPrimitiveValueList(e){return e}transformOperator(e){return e}transformDefaultInsertValue(e){return e}}const qz=R({AlterTableNode:!0,CreateIndexNode:!0,CreateSchemaNode:!0,CreateTableNode:!0,CreateTypeNode:!0,CreateViewNode:!0,DeleteQueryNode:!0,DropIndexNode:!0,DropSchemaNode:!0,DropTableNode:!0,DropTypeNode:!0,DropViewNode:!0,InsertQueryNode:!0,RawNode:!0,SelectQueryNode:!0,UpdateQueryNode:!0,MergeQueryNode:!0});class Cz extends zC{#e;#t=new Set;#n=new Set;constructor(e){super(),this.#e=e}transformNodeImpl(e){if(!this.#r(e))return super.transformNodeImpl(e);const n=this.#s(e);for(const o of n)this.#n.add(o);const r=this.#i(e);for(const o of r)this.#t.add(o);const i=super.transformNodeImpl(e);for(const o of r)this.#t.delete(o);for(const o of n)this.#n.delete(o);return i}transformSchemableIdentifier(e){const n=super.transformSchemableIdentifier(e);return n.schema||!this.#t.has(e.identifier.name)?n:{...n,schema:or.create(this.#e)}}transformReferences(e){const n=super.transformReferences(e);return n.table.table.schema?n:{...n,table:ul.createWithSchema(this.#e,n.table.table.identifier.name)}}#r(e){return e.kind in qz}#i(e){const n=new Set;if("name"in e&&e.name&&yl.is(e.name)&&this.#a(e.name,n),"from"in e&&e.from)for(const r of e.from.froms)this.#o(r,n);if("into"in e&&e.into&&this.#o(e.into,n),"table"in e&&e.table&&this.#o(e.table,n),"joins"in e&&e.joins)for(const r of e.joins)this.#o(r.table,n);return"using"in e&&e.using&&this.#o(e.using,n),n}#s(e){const n=new Set;return"with"in e&&e.with&&this.#c(e.with,n),n}#o(e,n){const r=ul.is(e)?e:kl.is(e)&&ul.is(e.node)?e.node:null;r&&this.#a(r.table,n)}#a(e,n){const r=e.identifier.name;!this.#t.has(r)&&!this.#n.has(r)&&n.add(r)}#c(e,n){for(const r of e.expressions){const i=r.name.table.table.identifier.name;this.#n.has(i)||n.add(i)}}}class wp{#e;constructor(e){this.#e=new Cz(e)}transformQuery(e){return this.#e.transformNode(e.node)}async transformResult(e){return e.result}}const Rz=R({is(t){return t.kind==="MatchedNode"},create(t,e=!1){return R({kind:"MatchedNode",not:t,bySource:e})}});function X1(t,e,n){return bp.create(kg([Rz.create(!t.isMatched,t.bySource),...e&&e.length>0?[e.length===3&&n?Do(e[0],e[1],e[2]):ri(e)]:[]],"and",!1))}function wf(t){return fs(t)?ui.create([t],[]):Qi(t)?t.toOperationNode():t}class eI{#e;#t;#n;constructor(){this.#e=new Promise((e,n)=>{this.#n=n,this.#t=e})}get promise(){return this.#e}resolve=e=>{this.#t&&this.#t(e)};reject=e=>{this.#n&&this.#n(e)}}const tI=new Set;function Az(t){tI.has(t)||(tI.add(t),console.log(t))}const jz=R([]);class UC{#e;constructor(e=jz){this.#e=e}get plugins(){return this.#e}transformQuery(e,n){for(const r of this.#e){const i=r.transformQuery({node:e,queryId:n});if(i.kind===e.kind)e=i;else throw new Error(["KyselyPlugin.transformQuery must return a node","of the same kind that was given to it.",`The plugin was given a ${e.kind}`,`but it returned a ${i.kind}`].join(" "))}return e}async executeQuery(e,n){return await this.provideConnection(async r=>{const i=await r.executeQuery(e),o=await this.#t(i,n);return Pz(i,o),o})}async *stream(e,n,r){const i=new eI,o=new eI;this.provideConnection(async c=>(i.resolve(c),await o.promise)).catch(c=>i.reject(c));const l=await i.promise;try{for await(const c of l.streamQuery(e,n))yield await this.#t(c,r)}finally{o.resolve()}}async #t(e,n){for(const r of this.#e)e=await r.transformResult({result:e,queryId:n});return e}}function Pz(t,e){const{numAffectedRows:n}=t;n===void 0&&t.numUpdatedOrDeletedRows===void 0||n!==void 0&&e.numAffectedRows!==void 0||Az("kysely:warning: outdated driver/plugin detected! QueryResult.numUpdatedOrDeletedRows is deprecated and will be removed in a future release.")}class mu extends UC{get adapter(){throw new Error("this query cannot be compiled to SQL")}compileQuery(){throw new Error("this query cannot be compiled to SQL")}provideConnection(){throw new Error("this query cannot be executed")}withConnectionProvider(){throw new Error("this query cannot have a connection provider")}withPlugin(e){return new mu([...this.plugins,e])}withPlugins(e){return new mu([...this.plugins,...e])}withPluginAtFront(e){return new mu([e,...this.plugins])}withoutPlugins(){return new mu([])}}const xy=new mu;class Fz{numChangedRows;constructor(e){this.numChangedRows=e}}class ic{#e;constructor(e){this.#e=R(e)}modifyEnd(e){return new ic({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}top(e,n){return new ic({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,nd(e,n))})}using(...e){return new ls({...this.#e,queryNode:zi.cloneWithUsing(this.#e.queryNode,Ei("Using",e))})}output(e){return new ic({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,uo(e))})}outputAll(e){return new ic({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,Mo(e))})}}hn(ic,"don't await MergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class ls{#e;constructor(e){this.#e=R(e)}modifyEnd(e){return new ls({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}top(e,n){return new ls({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,nd(e,n))})}whenMatched(){return this.#t([])}whenMatchedAnd(...e){return this.#t(e)}whenMatchedAndRef(e,n,r){return this.#t([e,n,r],!0)}#t(e,n){return new Zx({...this.#e,queryNode:zi.cloneWithWhen(this.#e.queryNode,X1({isMatched:!0},e,n))})}whenNotMatched(){return this.#n([])}whenNotMatchedAnd(...e){return this.#n(e)}whenNotMatchedAndRef(e,n,r){return this.#n([e,n,r],!0)}whenNotMatchedBySource(){return this.#n([],!1,!0)}whenNotMatchedBySourceAnd(...e){return this.#n(e,!1,!0)}whenNotMatchedBySourceAndRef(e,n,r){return this.#n([e,n,r],!0,!0)}output(e){return new ls({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,uo(e))})}outputAll(e){return new ls({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,Mo(e))})}#n(e,n=!1,r=!1){const i={...this.#e,queryNode:zi.cloneWithWhen(this.#e.queryNode,X1({isMatched:!1,bySource:r},e,n))},o=r?Zx:VC;return new o(i)}$call(e){return e(this)}$if(e,n){return e?n(this):new ls({...this.#e})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),n=await this.#e.executor.executeQuery(e,this.#e.queryId);return e.query.output&&this.#e.executor.adapter.supportsOutput?n.rows:[new Fz(n.numAffectedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=_p){const n=await this.executeTakeFirst();if(n===void 0)throw xp(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}}hn(ls,"don't await WheneableMergeQueryBuilder instances directly. To execute the query you need to call `execute`.");class Zx{#e;constructor(e){this.#e=R(e)}thenDelete(){return new ls({...this.#e,queryNode:zi.cloneWithThen(this.#e.queryNode,wf("delete"))})}thenDoNothing(){return new ls({...this.#e,queryNode:zi.cloneWithThen(this.#e.queryNode,wf("do nothing"))})}thenUpdate(e){return new ls({...this.#e,queryNode:zi.cloneWithThen(this.#e.queryNode,wf(e(new Hn({queryId:this.#e.queryId,executor:xy,queryNode:Iu.createWithoutTable()}))))})}thenUpdateSet(...e){return this.thenUpdate(n=>n.set(...e))}}hn(Zx,"don't await MatchedThenableMergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class VC{#e;constructor(e){this.#e=R(e)}thenDoNothing(){return new ls({...this.#e,queryNode:zi.cloneWithThen(this.#e.queryNode,wf("do nothing"))})}thenInsertValues(e){const[n,r]=MC(e);return new ls({...this.#e,queryNode:zi.cloneWithThen(this.#e.queryNode,wf(rs.cloneWith(rs.createWithoutInto(),{columns:n,values:r})))})}}hn(VC,"don't await NotMatchedThenableMergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class Ga{#e;constructor(e){this.#e=R(e)}selectFrom(e){return Yx({queryId:Bn(),executor:this.#e.executor,queryNode:Mn.createFrom(Gf(e),this.#e.withNode)})}selectNoFrom(e){return Yx({queryId:Bn(),executor:this.#e.executor,queryNode:Mn.cloneWithSelections(Mn.create(this.#e.withNode),uo(e))})}insertInto(e){return new rr({queryId:Bn(),executor:this.#e.executor,queryNode:rs.create(Tr(e),this.#e.withNode)})}replaceInto(e){return new rr({queryId:Bn(),executor:this.#e.executor,queryNode:rs.create(Tr(e),this.#e.withNode,!0)})}deleteFrom(e){return new Dn({queryId:Bn(),executor:this.#e.executor,queryNode:Jl.create(Gf(e),this.#e.withNode)})}updateTable(e){return new Hn({queryId:Bn(),executor:this.#e.executor,queryNode:Iu.create(Jf(e),this.#e.withNode)})}mergeInto(e){return new ic({queryId:Bn(),executor:this.#e.executor,queryNode:zi.create(YC(e),this.#e.withNode)})}with(e,n){const r=Z1(e,n);return new Ga({...this.#e,withNode:this.#e.withNode?tm.cloneWithExpression(this.#e.withNode,r):tm.create(r)})}withRecursive(e,n){const r=Z1(e,n);return new Ga({...this.#e,withNode:this.#e.withNode?tm.cloneWithExpression(this.#e.withNode,r):tm.create(r,{recursive:!0})})}withPlugin(e){return new Ga({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new Ga({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new Ga({...this.#e,executor:this.#e.executor.withPluginAtFront(new wp(e))})}}function Lz(){return new Ga({executor:xy})}function Dz(t,e){return new Nu({joinNode:bf.create(t,Jf(e))})}function Mz(){return new Hf({overNode:Jx.create()})}function Ei(t,e){if(e.length===3)return Bz(t,e[0],e[1],e[2]);if(e.length===2)return $z(t,e[0],e[1]);throw new Error("not implemented")}function $z(t,e,n){return n(Dz(t,e)).toOperationNode()}function Bz(t,e,n,r){return bf.createWithOn(t,Jf(e),Do(n,"=",r))}const Wz=R({is(t){return t.kind==="OffsetNode"},create(t){return R({kind:"OffsetNode",offset:t})}}),zz=R({is(t){return t.kind==="GroupByItemNode"},create(t){return R({kind:"GroupByItemNode",groupBy:t})}});function Uz(t){return t=ps(t)?t(rd()):t,Vf(t).map(zz.create)}const HC=R({is(t){return t.kind==="SetOperationNode"},create(t,e,n){return R({kind:"SetOperationNode",operator:t,expression:e,all:n})}});function iu(t,e,n){return ps(e)&&(e=e(p0())),ba(e)||(e=[e]),e.map(r=>HC.create(t,wc(r),n))}class Qn{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new f0(this,e)}or(...e){return new Og(td.create(this.#e,ri(e)))}and(...e){return new Tg(vl.create(this.#e,ri(e)))}$castTo(){return new Qn(this.#e)}$notNull(){return new Qn(this.#e)}toOperationNode(){return this.#e}}class f0{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return kl.create(this.#e.toOperationNode(),Qi(this.#t)?this.#t.toOperationNode():or.create(this.#t))}}class Og{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new f0(this,e)}or(...e){return new Og(td.create(this.#e,ri(e)))}$castTo(){return new Og(this.#e)}toOperationNode(){return Wu.create(this.#e)}}class Tg{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new f0(this,e)}and(...e){return new Tg(vl.create(this.#e,ri(e)))}$castTo(){return new Tg(this.#e)}toOperationNode(){return Wu.create(this.#e)}}const Vz={is(t){return t.kind==="FetchNode"},create(t,e){return{kind:"FetchNode",rowCount:Lo.create(t),modifier:e}}};function Hz(t,e){if(!by(t)&&!r0(t))throw new Error(`Invalid fetch row count: ${t}`);if(!Qz(e))throw new Error(`Invalid fetch modifier: ${e}`);return Vz.create(t,e)}function Qz(t){return t==="only"||t==="with ties"}class Gt{#e;constructor(e){this.#e=R(e)}get expressionType(){}get isSelectQueryBuilder(){return!0}where(...e){return new Gt({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,ri(e))})}whereRef(e,n,r){return new Gt({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,Do(e,n,r))})}having(...e){return new Gt({...this.#e,queryNode:Mn.cloneWithHaving(this.#e.queryNode,ri(e))})}havingRef(e,n,r){return new Gt({...this.#e,queryNode:Mn.cloneWithHaving(this.#e.queryNode,Do(e,n,r))})}select(e){return new Gt({...this.#e,queryNode:Mn.cloneWithSelections(this.#e.queryNode,uo(e))})}distinctOn(e){return new Gt({...this.#e,queryNode:Mn.cloneWithDistinctOn(this.#e.queryNode,Vf(e))})}modifyFront(e){return new Gt({...this.#e,queryNode:Mn.cloneWithFrontModifier(this.#e.queryNode,ia.createWithExpression(e.toOperationNode()))})}modifyEnd(e){return new Gt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,ia.createWithExpression(e.toOperationNode()))})}distinct(){return new Gt({...this.#e,queryNode:Mn.cloneWithFrontModifier(this.#e.queryNode,ia.create("Distinct"))})}forUpdate(e){return new Gt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,ia.create("ForUpdate",e?em(e).map(Tr):void 0))})}forShare(e){return new Gt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,ia.create("ForShare",e?em(e).map(Tr):void 0))})}forKeyShare(e){return new Gt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,ia.create("ForKeyShare",e?em(e).map(Tr):void 0))})}forNoKeyUpdate(e){return new Gt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,ia.create("ForNoKeyUpdate",e?em(e).map(Tr):void 0))})}skipLocked(){return new Gt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,ia.create("SkipLocked"))})}noWait(){return new Gt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,ia.create("NoWait"))})}selectAll(e){return new Gt({...this.#e,queryNode:Mn.cloneWithSelections(this.#e.queryNode,Mo(e))})}innerJoin(...e){return new Gt({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Ei("InnerJoin",e))})}leftJoin(...e){return new Gt({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Ei("LeftJoin",e))})}rightJoin(...e){return new Gt({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Ei("RightJoin",e))})}fullJoin(...e){return new Gt({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Ei("FullJoin",e))})}innerJoinLateral(...e){return new Gt({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Ei("LateralInnerJoin",e))})}leftJoinLateral(...e){return new Gt({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Ei("LateralLeftJoin",e))})}orderBy(...e){return new Gt({...this.#e,queryNode:Mn.cloneWithOrderByItems(this.#e.queryNode,vp(e))})}groupBy(e){return new Gt({...this.#e,queryNode:Mn.cloneWithGroupByItems(this.#e.queryNode,Uz(e))})}limit(e){return new Gt({...this.#e,queryNode:Mn.cloneWithLimit(this.#e.queryNode,d0.create(Fr(e)))})}offset(e){return new Gt({...this.#e,queryNode:Mn.cloneWithOffset(this.#e.queryNode,Wz.create(Fr(e)))})}fetch(e,n="only"){return new Gt({...this.#e,queryNode:Mn.cloneWithFetch(this.#e.queryNode,Hz(e,n))})}top(e,n){return new Gt({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,nd(e,n))})}union(e){return new Gt({...this.#e,queryNode:Mn.cloneWithSetOperations(this.#e.queryNode,iu("union",e,!1))})}unionAll(e){return new Gt({...this.#e,queryNode:Mn.cloneWithSetOperations(this.#e.queryNode,iu("union",e,!0))})}intersect(e){return new Gt({...this.#e,queryNode:Mn.cloneWithSetOperations(this.#e.queryNode,iu("intersect",e,!1))})}intersectAll(e){return new Gt({...this.#e,queryNode:Mn.cloneWithSetOperations(this.#e.queryNode,iu("intersect",e,!0))})}except(e){return new Gt({...this.#e,queryNode:Mn.cloneWithSetOperations(this.#e.queryNode,iu("except",e,!1))})}exceptAll(e){return new Gt({...this.#e,queryNode:Mn.cloneWithSetOperations(this.#e.queryNode,iu("except",e,!0))})}as(e){return new QC(this,e)}clearSelect(){return new Gt({...this.#e,queryNode:Mn.cloneWithoutSelections(this.#e.queryNode)})}clearWhere(){return new Gt({...this.#e,queryNode:Ct.cloneWithoutWhere(this.#e.queryNode)})}clearLimit(){return new Gt({...this.#e,queryNode:Mn.cloneWithoutLimit(this.#e.queryNode)})}clearOffset(){return new Gt({...this.#e,queryNode:Mn.cloneWithoutOffset(this.#e.queryNode)})}clearOrderBy(){return new Gt({...this.#e,queryNode:Mn.cloneWithoutOrderBy(this.#e.queryNode)})}clearGroupBy(){return new Gt({...this.#e,queryNode:Mn.cloneWithoutGroupBy(this.#e.queryNode)})}$call(e){return e(this)}$if(e,n){return e?n(this):new Gt({...this.#e})}$castTo(){return new Gt(this.#e)}$narrowType(){return new Gt(this.#e)}$assertType(){return new Gt(this.#e)}$asTuple(){return new Qn(this.toOperationNode())}withPlugin(e){return new Gt({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile();return(await this.#e.executor.executeQuery(e,this.#e.queryId)).rows}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=_p){const n=await this.executeTakeFirst();if(n===void 0)throw xp(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async *stream(e=100){const n=this.compile(),r=this.#e.executor.stream(n,e,this.#e.queryId);for await(const i of r)yield*i.rows}async explain(e,n){return await new Gt({...this.#e,queryNode:Ct.cloneWithExplain(this.#e.queryNode,e,n)}).execute()}}hn(Gt,"don't await SelectQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");function Yx(t){return new Gt(t)}class QC{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}get isAliasedSelectQueryBuilder(){return!0}toOperationNode(){return kl.create(this.#e.toOperationNode(),or.create(this.#t))}}hn(QC,"don't await AliasedSelectQueryBuilder instances directly. AliasedSelectQueryBuilder should never be executed directly since it's always a part of another query.");const Ja=R({is(t){return t.kind==="AggregateFunctionNode"},create(t,e=[]){return R({kind:"AggregateFunctionNode",func:t,aggregated:e})},cloneWithDistinct(t){return R({...t,distinct:!0})},cloneWithOrderBy(t,e){return R({...t,orderBy:t.orderBy?_l.cloneWithItems(t.orderBy,e):_l.create(e)})},cloneWithFilter(t,e){return R({...t,filter:t.filter?Bi.cloneWithOperation(t.filter,"And",e):Bi.create(e)})},cloneWithOrFilter(t,e){return R({...t,filter:t.filter?Bi.cloneWithOperation(t.filter,"Or",e):Bi.create(e)})},cloneWithOver(t,e){return R({...t,over:e})}}),nI=R({is(t){return t.kind==="FunctionNode"},create(t,e){return R({kind:"FunctionNode",func:t,arguments:e})}});class js{#e;constructor(e){this.#e=R(e)}get expressionType(){}as(e){return new Kz(this,e)}distinct(){return new js({...this.#e,aggregateFunctionNode:Ja.cloneWithDistinct(this.#e.aggregateFunctionNode)})}orderBy(e,n){return new js({...this.#e,aggregateFunctionNode:Ja.cloneWithOrderBy(this.#e.aggregateFunctionNode,vp([e,n]))})}filterWhere(...e){return new js({...this.#e,aggregateFunctionNode:Ja.cloneWithFilter(this.#e.aggregateFunctionNode,ri(e))})}filterWhereRef(e,n,r){return new js({...this.#e,aggregateFunctionNode:Ja.cloneWithFilter(this.#e.aggregateFunctionNode,Do(e,n,r))})}over(e){const n=Mz();return new js({...this.#e,aggregateFunctionNode:Ja.cloneWithOver(this.#e.aggregateFunctionNode,(e?e(n):n).toOperationNode())})}$call(e){return e(this)}$castTo(){return new js(this.#e)}$notNull(){return new js(this.#e)}toOperationNode(){return this.#e.aggregateFunctionNode}}hn(js,"don't await AggregateFunctionBuilder instances. They are never executed directly and are always just a part of a query.");class Kz{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return kl.create(this.#e.toOperationNode(),or.create(this.#t))}}function KC(){const t=(n,r)=>new Qn(nI.create(n,Vf(r??[]))),e=(n,r)=>new js({aggregateFunctionNode:Ja.create(n,r?Vf(r):void 0)});return Object.assign(t,{agg:e,avg(n){return e("avg",[n])},coalesce(...n){return t("coalesce",n)},count(n){return e("count",[n])},countAll(n){return new js({aggregateFunctionNode:Ja.create("count",Mo(n))})},max(n){return e("max",[n])},min(n){return e("min",[n])},sum(n){return e("sum",[n])},any(n){return t("any",[n])},jsonAgg(n){return new js({aggregateFunctionNode:Ja.create("json_agg",[fs(n)?Tr(n):n.toOperationNode()])})},toJson(n){return new Qn(nI.create("to_json",[fs(n)?Tr(n):n.toOperationNode()]))}})}const Gz=R({is(t){return t.kind==="UnaryOperationNode"},create(t,e){return R({kind:"UnaryOperationNode",operator:t,operand:e})}});function Jz(t,e){return Gz.create(bl.create(t),as(e))}const Co=R({is(t){return t.kind==="CaseNode"},create(t){return R({kind:"CaseNode",value:t})},cloneWithWhen(t,e){return R({...t,when:R(t.when?[...t.when,e]:[e])})},cloneWithThen(t,e){return R({...t,when:t.when?R([...t.when.slice(0,-1),bp.cloneWithResult(t.when[t.when.length-1],e)]):void 0})},cloneWith(t,e){return R({...t,...e})}});class GC{#e;constructor(e){this.#e=R(e)}when(...e){return new JC({...this.#e,node:Co.cloneWithWhen(this.#e.node,bp.create(ri(e)))})}}class JC{#e;constructor(e){this.#e=R(e)}then(e){return new Zz({...this.#e,node:Co.cloneWithThen(this.#e.node,a0(e)?l0(e):Fr(e))})}}class Zz{#e;constructor(e){this.#e=R(e)}when(...e){return new JC({...this.#e,node:Co.cloneWithWhen(this.#e.node,bp.create(ri(e)))})}else(e){return new Yz({...this.#e,node:Co.cloneWith(this.#e.node,{else:a0(e)?l0(e):Fr(e)})})}end(){return new Qn(Co.cloneWith(this.#e.node,{isStatement:!1}))}endCase(){return new Qn(Co.cloneWith(this.#e.node,{isStatement:!0}))}}class Yz{#e;constructor(e){this.#e=R(e)}end(){return new Qn(Co.cloneWith(this.#e.node,{isStatement:!1}))}endCase(){return new Qn(Co.cloneWith(this.#e.node,{isStatement:!0}))}}const rI=R({is(t){return t.kind==="JSONPathLegNode"},create(t,e){return R({kind:"JSONPathLegNode",type:t,value:e})}});class Xx{#e;constructor(e){this.#e=e}at(e){return this.#t("ArrayLocation",e)}key(e){return this.#t("Member",e)}#t(e,n){return Sg.is(this.#e)?new Kf(Sg.cloneWithTraversal(this.#e,_f.is(this.#e.traversal)?_f.cloneWithLeg(this.#e.traversal,rI.create(e,n)):jC.cloneWithValue(this.#e.traversal,Lo.createImmediate(n)))):new Kf(_f.cloneWithLeg(this.#e,rI.create(e,n)))}}class Kf extends Xx{#e;constructor(e){super(e),this.#e=e}get expressionType(){}as(e){return new Xz(this,e)}$castTo(){return new Kf(this.#e)}$notNull(){return new Kf(this.#e)}toOperationNode(){return this.#e}}class Xz{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return kl.create(this.#e.toOperationNode(),Qi(this.#t)?this.#t.toOperationNode():or.create(this.#t))}}const iI=R({is(t){return t.kind==="TupleNode"},create(t){return R({kind:"TupleNode",values:R(t)})}}),e6=["varchar","char","text","integer","int2","int4","int8","smallint","bigint","boolean","real","double precision","float4","float8","decimal","numeric","binary","bytea","date","datetime","time","timetz","timestamp","timestamptz","serial","bigserial","uuid","json","jsonb","blob","varbinary","int4range","int4multirange","int8range","int8multirange","numrange","nummultirange","tsrange","tsmultirange","tstzrange","tstzmultirange","daterange","datemultirange"],t6=[/^varchar\(\d+\)$/,/^char\(\d+\)$/,/^decimal\(\d+, \d+\)$/,/^numeric\(\d+, \d+\)$/,/^binary\(\d+\)$/,/^datetime\(\d+\)$/,/^time\(\d+\)$/,/^timetz\(\d+\)$/,/^timestamp\(\d+\)$/,/^timestamptz\(\d+\)$/,/^varbinary\(\d+\)$/],n6=R({is(t){return t.kind==="DataTypeNode"},create(t){return R({kind:"DataTypeNode",dataType:t})}});function r6(t){return!!(e6.includes(t)||t6.some(e=>e.test(t)))}function bc(t){if(Qi(t))return t.toOperationNode();if(r6(t))return n6.create(t);throw new Error(`invalid column data type ${JSON.stringify(t)}`)}const i6=R({is(t){return t.kind==="CastNode"},create(t,e){return R({kind:"CastNode",expression:t,dataType:e})}});function p0(t=xy){function e(i,o,l){return new Qn(c0(i,o,l))}function n(i,o){return new Qn(Jz(i,o))}const r=Object.assign(e,{fn:void 0,eb:void 0,selectFrom(i){return Yx({queryId:Bn(),executor:t,queryNode:Mn.createFrom(Gf(i))})},case(i){return new GC({node:Co.create(ll(i)?void 0:as(i))})},ref(i,o){return ll(o)?new Qn(_a(i)):new Xx(iz(i,o))},jsonPath(){return new Xx(_f.create())},table(i){return new Qn(Tr(i))},val(i){return new Qn(Fr(i))},refTuple(...i){return new Qn(iI.create(i.map(as)))},tuple(...i){return new Qn(iI.create(i.map(Fr)))},lit(i){return new Qn(l0(i))},unary:n,not(i){return n("not",i)},exists(i){return n("exists",i)},neg(i){return n("-",i)},between(i,o,l){return new Qn(Bu.create(as(i),bl.create("between"),vl.create(Fr(o),Fr(l))))},betweenSymmetric(i,o,l){return new Qn(Bu.create(as(i),bl.create("between symmetric"),vl.create(Fr(o),Fr(l))))},and(i){return ba(i)?new Qn(kg(i,"and")):new Qn($1(i,"and"))},or(i){return ba(i)?new Qn(kg(i,"or")):new Qn($1(i,"or"))},parens(...i){const o=ri(i);return Wu.is(o)?new Qn(o):new Qn(Wu.create(o))},cast(i,o){return new Qn(i6.create(as(i),bc(o)))},withSchema(i){return p0(t.withPluginAtFront(new wp(i)))}});return r.fn=KC(),r.eb=r,r}function rd(t){return p0()}function wc(t){if(Qi(t))return t.toOperationNode();if(ps(t))return t(rd()).toOperationNode();throw new Error(`invalid expression: ${JSON.stringify(t)}`)}function ZC(t){if(Qi(t))return t.toOperationNode();if(ps(t))return t(rd()).toOperationNode();throw new Error(`invalid aliased expression: ${JSON.stringify(t)}`)}function Sp(t){return KW(t)||GW(t)||ps(t)}function Gf(t){return ba(t)?t.map(e=>Jf(e)):[Jf(t)]}function Jf(t){return fs(t)?YC(t):ZC(t)}function YC(t){const e=" as ";if(t.includes(e)){const[n,r]=t.split(e).map(XC);return kl.create(Tr(n),or.create(r))}else return Tr(t)}function Tr(t){const e=".";if(t.includes(e)){const[n,r]=t.split(e).map(XC);return ul.createWithSchema(n,r)}else return ul.create(t)}function XC(t){return t.trim()}const e3=R({is(t){return t.kind==="AddColumnNode"},create(t){return R({kind:"AddColumnNode",column:t})}}),ir=R({is(t){return t.kind==="ColumnDefinitionNode"},create(t,e){return R({kind:"ColumnDefinitionNode",column:Rr.create(t),dataType:e})},cloneWithFrontModifier(t,e){return R({...t,frontModifiers:t.frontModifiers?R([...t.frontModifiers,e]):[e]})},cloneWithEndModifier(t,e){return R({...t,endModifiers:t.endModifiers?R([...t.endModifiers,e]):[e]})},cloneWith(t,e){return R({...t,...e})}}),t3=R({is(t){return t.kind==="DropColumnNode"},create(t){return R({kind:"DropColumnNode",column:Rr.create(t)})}}),n3=R({is(t){return t.kind==="RenameColumnNode"},create(t,e){return R({kind:"RenameColumnNode",column:Rr.create(t),renameTo:Rr.create(e)})}}),h0=R({is(t){return t.kind==="CheckConstraintNode"},create(t,e){return R({kind:"CheckConstraintNode",expression:t,name:e?or.create(e):void 0})}}),s6=["no action","restrict","cascade","set null","set default"],Om=R({is(t){return t.kind==="ReferencesNode"},create(t,e){return R({kind:"ReferencesNode",table:t,columns:R([...e])})},cloneWithOnDelete(t,e){return R({...t,onDelete:e})},cloneWithOnUpdate(t,e){return R({...t,onUpdate:e})}});function r3(t){return Qi(t)?t.toOperationNode():Lo.createImmediate(t)}const nm=R({is(t){return t.kind==="GeneratedNode"},create(t){return R({kind:"GeneratedNode",...t})},createWithExpression(t){return R({kind:"GeneratedNode",always:!0,expression:t})},cloneWith(t,e){return R({...t,...e})}}),o6=R({is(t){return t.kind==="DefaultValueNode"},create(t){return R({kind:"DefaultValueNode",defaultValue:t})}});function qg(t){if(s6.includes(t))return t;throw new Error(`invalid OnModifyForeignAction ${t}`)}class Jn{#e;constructor(e){this.#e=e}autoIncrement(){return new Jn(ir.cloneWith(this.#e,{autoIncrement:!0}))}identity(){return new Jn(ir.cloneWith(this.#e,{identity:!0}))}primaryKey(){return new Jn(ir.cloneWith(this.#e,{primaryKey:!0}))}references(e){const n=_a(e);if(!n.table||i0.is(n.column))throw new Error(`invalid call references('${e}'). The reference must have format table.column or schema.table.column`);return new Jn(ir.cloneWith(this.#e,{references:Om.create(n.table,[n.column])}))}onDelete(e){if(!this.#e.references)throw new Error("on delete constraint can only be added for foreign keys");return new Jn(ir.cloneWith(this.#e,{references:Om.cloneWithOnDelete(this.#e.references,qg(e))}))}onUpdate(e){if(!this.#e.references)throw new Error("on update constraint can only be added for foreign keys");return new Jn(ir.cloneWith(this.#e,{references:Om.cloneWithOnUpdate(this.#e.references,qg(e))}))}unique(){return new Jn(ir.cloneWith(this.#e,{unique:!0}))}notNull(){return new Jn(ir.cloneWith(this.#e,{notNull:!0}))}unsigned(){return new Jn(ir.cloneWith(this.#e,{unsigned:!0}))}defaultTo(e){return new Jn(ir.cloneWith(this.#e,{defaultTo:o6.create(r3(e))}))}check(e){return new Jn(ir.cloneWith(this.#e,{check:h0.create(e.toOperationNode())}))}generatedAlwaysAs(e){return new Jn(ir.cloneWith(this.#e,{generated:nm.createWithExpression(e.toOperationNode())}))}generatedAlwaysAsIdentity(){return new Jn(ir.cloneWith(this.#e,{generated:nm.create({identity:!0,always:!0})}))}generatedByDefaultAsIdentity(){return new Jn(ir.cloneWith(this.#e,{generated:nm.create({identity:!0,byDefault:!0})}))}stored(){if(!this.#e.generated)throw new Error("stored() can only be called after generatedAlwaysAs");return new Jn(ir.cloneWith(this.#e,{generated:nm.cloneWith(this.#e.generated,{stored:!0})}))}modifyFront(e){return new Jn(ir.cloneWithFrontModifier(this.#e,e.toOperationNode()))}nullsNotDistinct(){return new Jn(ir.cloneWith(this.#e,{nullsNotDistinct:!0}))}ifNotExists(){return new Jn(ir.cloneWith(this.#e,{ifNotExists:!0}))}modifyEnd(e){return new Jn(ir.cloneWithEndModifier(this.#e,e.toOperationNode()))}$call(e){return e(this)}toOperationNode(){return this.#e}}hn(Jn,"don't await ColumnDefinitionBuilder instances directly.");const i3=R({is(t){return t.kind==="ModifyColumnNode"},create(t){return R({kind:"ModifyColumnNode",column:t})}}),Cg=R({is(t){return t.kind==="ForeignKeyConstraintNode"},create(t,e,n,r){return R({kind:"ForeignKeyConstraintNode",columns:t,references:Om.create(e,n),name:r?or.create(r):void 0})},cloneWith(t,e){return R({...t,...e})}});class zu{#e;constructor(e){this.#e=e}onDelete(e){return new zu(Cg.cloneWith(this.#e,{onDelete:qg(e)}))}onUpdate(e){return new zu(Cg.cloneWith(this.#e,{onUpdate:qg(e)}))}$call(e){return e(this)}toOperationNode(){return this.#e}}hn(zu,"don't await ForeignKeyConstraintBuilder instances directly.");const Tm=R({is(t){return t.kind==="AddConstraintNode"},create(t){return R({kind:"AddConstraintNode",constraint:t})}}),m0=R({is(t){return t.kind==="UniqueConstraintNode"},create(t,e,n){return R({kind:"UniqueConstraintNode",columns:R(t.map(Rr.create)),name:e?or.create(e):void 0,nullsNotDistinct:n})},cloneWith(t,e){return R({...t,...e})}}),qm=R({is(t){return t.kind==="DropConstraintNode"},create(t){return R({kind:"DropConstraintNode",constraintName:or.create(t)})},cloneWith(t,e){return R({...t,...e})}}),Jd=R({is(t){return t.kind==="AlterColumnNode"},create(t,e,n){return R({kind:"AlterColumnNode",column:Rr.create(t),[e]:n})}});class g0{#e;constructor(e){this.#e=e}setDataType(e){return new uu(Jd.create(this.#e,"dataType",bc(e)))}setDefault(e){return new uu(Jd.create(this.#e,"setDefault",r3(e)))}dropDefault(){return new uu(Jd.create(this.#e,"dropDefault",!0))}setNotNull(){return new uu(Jd.create(this.#e,"setNotNull",!0))}dropNotNull(){return new uu(Jd.create(this.#e,"dropNotNull",!0))}$call(e){return e(this)}}hn(g0,"don't await AlterColumnBuilder instances");class uu{#e;constructor(e){this.#e=e}toOperationNode(){return this.#e}}hn(uu,"don't await AlteredColumnBuilder instances");class Gl{#e;constructor(e){this.#e=R(e)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}hn(Gl,"don't await AlterTableExecutor instances directly. To execute the query you need to call `execute`");class Zf{#e;constructor(e){this.#e=R(e)}onDelete(e){return new Zf({...this.#e,constraintBuilder:this.#e.constraintBuilder.onDelete(e)})}onUpdate(e){return new Zf({...this.#e,constraintBuilder:this.#e.constraintBuilder.onUpdate(e)})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery($n.cloneWithTableProps(this.#e.node,{addConstraint:Tm.create(this.#e.constraintBuilder.toOperationNode())}),this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}hn(Zf,"don't await AlterTableAddForeignKeyConstraintBuilder instances directly. To execute the query you need to call `execute`");class Tu{#e;constructor(e){this.#e=R(e)}ifExists(){return new Tu({...this.#e,node:$n.cloneWithTableProps(this.#e.node,{dropConstraint:qm.cloneWith(this.#e.node.dropConstraint,{ifExists:!0})})})}cascade(){return new Tu({...this.#e,node:$n.cloneWithTableProps(this.#e.node,{dropConstraint:qm.cloneWith(this.#e.node.dropConstraint,{modifier:"cascade"})})})}restrict(){return new Tu({...this.#e,node:$n.cloneWithTableProps(this.#e.node,{dropConstraint:qm.cloneWith(this.#e.node.dropConstraint,{modifier:"restrict"})})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}hn(Tu,"don't await AlterTableDropConstraintBuilder instances directly. To execute the query you need to call `execute`");const s3=R({is(t){return t.kind==="PrimaryKeyConstraintNode"},create(t,e){return R({kind:"PrimaryKeyConstraintNode",columns:R(t.map(Rr.create)),name:e?or.create(e):void 0})}}),du=R({is(t){return t.kind==="AddIndexNode"},create(t){return R({kind:"AddIndexNode",name:or.create(t)})},cloneWith(t,e){return R({...t,...e})},cloneWithColumns(t,e){return R({...t,columns:[...t.columns||[],...e]})}});class Za{#e;constructor(e){this.#e=R(e)}unique(){return new Za({...this.#e,node:$n.cloneWithTableProps(this.#e.node,{addIndex:du.cloneWith(this.#e.node.addIndex,{unique:!0})})})}column(e){return new Za({...this.#e,node:$n.cloneWithTableProps(this.#e.node,{addIndex:du.cloneWithColumns(this.#e.node.addIndex,[Eg(e)])})})}columns(e){return new Za({...this.#e,node:$n.cloneWithTableProps(this.#e.node,{addIndex:du.cloneWithColumns(this.#e.node.addIndex,e.map(Eg))})})}expression(e){return new Za({...this.#e,node:$n.cloneWithTableProps(this.#e.node,{addIndex:du.cloneWithColumns(this.#e.node.addIndex,[e.toOperationNode()])})})}using(e){return new Za({...this.#e,node:$n.cloneWithTableProps(this.#e.node,{addIndex:du.cloneWith(this.#e.node.addIndex,{using:ui.createWithSql(e)})})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}hn(Za,"don't await AlterTableAddIndexBuilder instances directly. To execute the query you need to call `execute`");class Ep{#e;constructor(e){this.#e=e}toOperationNode(){return this.#e}nullsNotDistinct(){return new Ep(m0.cloneWith(this.#e,{nullsNotDistinct:!0}))}}hn(Ep,"don't await UniqueConstraintNodeBuilder instances directly.");class o3{#e;constructor(e){this.#e=R(e)}renameTo(e){return new Gl({...this.#e,node:$n.cloneWithTableProps(this.#e.node,{renameTo:Tr(e)})})}setSchema(e){return new Gl({...this.#e,node:$n.cloneWithTableProps(this.#e.node,{setSchema:or.create(e)})})}alterColumn(e,n){const r=n(new g0(e));return new Ps({...this.#e,node:$n.cloneWithColumnAlteration(this.#e.node,r.toOperationNode())})}dropColumn(e){return new Ps({...this.#e,node:$n.cloneWithColumnAlteration(this.#e.node,t3.create(e))})}renameColumn(e,n){return new Ps({...this.#e,node:$n.cloneWithColumnAlteration(this.#e.node,n3.create(e,n))})}addColumn(e,n,r=cl){const i=r(new Jn(ir.create(e,bc(n))));return new Ps({...this.#e,node:$n.cloneWithColumnAlteration(this.#e.node,e3.create(i.toOperationNode()))})}modifyColumn(e,n,r=cl){const i=r(new Jn(ir.create(e,bc(n))));return new Ps({...this.#e,node:$n.cloneWithColumnAlteration(this.#e.node,i3.create(i.toOperationNode()))})}addUniqueConstraint(e,n,r=cl){const i=r(new Ep(m0.create(n,e)));return new Gl({...this.#e,node:$n.cloneWithTableProps(this.#e.node,{addConstraint:Tm.create(i.toOperationNode())})})}addCheckConstraint(e,n){return new Gl({...this.#e,node:$n.cloneWithTableProps(this.#e.node,{addConstraint:Tm.create(h0.create(n.toOperationNode(),e))})})}addForeignKeyConstraint(e,n,r,i){return new Zf({...this.#e,constraintBuilder:new zu(Cg.create(n.map(Rr.create),Tr(r),i.map(Rr.create),e))})}addPrimaryKeyConstraint(e,n){return new Gl({...this.#e,node:$n.cloneWithTableProps(this.#e.node,{addConstraint:Tm.create(s3.create(n,e))})})}dropConstraint(e){return new Tu({...this.#e,node:$n.cloneWithTableProps(this.#e.node,{dropConstraint:qm.create(e)})})}addIndex(e){return new Za({...this.#e,node:$n.cloneWithTableProps(this.#e.node,{addIndex:du.create(e)})})}dropIndex(e){return new Gl({...this.#e,node:$n.cloneWithTableProps(this.#e.node,{dropIndex:vf.create(e)})})}$call(e){return e(this)}}hn(o3,"don't await AlterTableBuilder instances");class Ps{#e;constructor(e){this.#e=R(e)}alterColumn(e,n){const r=n(new g0(e));return new Ps({...this.#e,node:$n.cloneWithColumnAlteration(this.#e.node,r.toOperationNode())})}dropColumn(e){return new Ps({...this.#e,node:$n.cloneWithColumnAlteration(this.#e.node,t3.create(e))})}renameColumn(e,n){return new Ps({...this.#e,node:$n.cloneWithColumnAlteration(this.#e.node,n3.create(e,n))})}addColumn(e,n,r=cl){const i=r(new Jn(ir.create(e,bc(n))));return new Ps({...this.#e,node:$n.cloneWithColumnAlteration(this.#e.node,e3.create(i.toOperationNode()))})}modifyColumn(e,n,r=cl){const i=r(new Jn(ir.create(e,bc(n))));return new Ps({...this.#e,node:$n.cloneWithColumnAlteration(this.#e.node,i3.create(i.toOperationNode()))})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}hn(Ps,"don't await AlterTableColumnAlteringBuilder instances directly. To execute the query you need to call `execute`");class a3 extends zC{transformValue(e){return{...super.transformValue(e),immediate:!0}}}class Rs{#e;constructor(e){this.#e=R(e)}ifNotExists(){return new Rs({...this.#e,node:aa.cloneWith(this.#e.node,{ifNotExists:!0})})}unique(){return new Rs({...this.#e,node:aa.cloneWith(this.#e.node,{unique:!0})})}nullsNotDistinct(){return new Rs({...this.#e,node:aa.cloneWith(this.#e.node,{nullsNotDistinct:!0})})}on(e){return new Rs({...this.#e,node:aa.cloneWith(this.#e.node,{table:Tr(e)})})}column(e){return new Rs({...this.#e,node:aa.cloneWithColumns(this.#e.node,[Eg(e)])})}columns(e){return new Rs({...this.#e,node:aa.cloneWithColumns(this.#e.node,e.map(Eg))})}expression(e){return new Rs({...this.#e,node:aa.cloneWithColumns(this.#e.node,[e.toOperationNode()])})}using(e){return new Rs({...this.#e,node:aa.cloneWith(this.#e.node,{using:ui.createWithSql(e)})})}where(...e){const n=new a3;return new Rs({...this.#e,node:Ct.cloneWithWhere(this.#e.node,n.transformNode(ri(e)))})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}hn(Rs,"don't await CreateIndexBuilder instances directly. To execute the query you need to call `execute`");class wy{#e;constructor(e){this.#e=R(e)}ifNotExists(){return new wy({...this.#e,node:TC.cloneWith(this.#e.node,{ifNotExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}hn(wy,"don't await CreateSchemaBuilder instances directly. To execute the query you need to call `execute`");function a6(t){if(QW.includes(t))return t;throw new Error(`invalid OnCommitAction ${t}`)}class Di{#e;constructor(e){this.#e=R(e)}temporary(){return new Di({...this.#e,node:es.cloneWith(this.#e.node,{temporary:!0})})}onCommit(e){return new Di({...this.#e,node:es.cloneWith(this.#e.node,{onCommit:a6(e)})})}ifNotExists(){return new Di({...this.#e,node:es.cloneWith(this.#e.node,{ifNotExists:!0})})}addColumn(e,n,r=cl){const i=r(new Jn(ir.create(e,bc(n))));return new Di({...this.#e,node:es.cloneWithColumn(this.#e.node,i.toOperationNode())})}addPrimaryKeyConstraint(e,n){return new Di({...this.#e,node:es.cloneWithConstraint(this.#e.node,s3.create(n,e))})}addUniqueConstraint(e,n,r=cl){const i=r(new Ep(m0.create(n,e)));return new Di({...this.#e,node:es.cloneWithConstraint(this.#e.node,i.toOperationNode())})}addCheckConstraint(e,n){return new Di({...this.#e,node:es.cloneWithConstraint(this.#e.node,h0.create(n.toOperationNode(),e))})}addForeignKeyConstraint(e,n,r,i,o=cl){const l=o(new zu(Cg.create(n.map(Rr.create),Tr(r),i.map(Rr.create),e)));return new Di({...this.#e,node:es.cloneWithConstraint(this.#e.node,l.toOperationNode())})}modifyFront(e){return new Di({...this.#e,node:es.cloneWithFrontModifier(this.#e.node,e.toOperationNode())})}modifyEnd(e){return new Di({...this.#e,node:es.cloneWithEndModifier(this.#e.node,e.toOperationNode())})}as(e){return new Di({...this.#e,node:es.cloneWith(this.#e.node,{selectQuery:wc(e)})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}hn(Di,"don't await CreateTableBuilder instances directly. To execute the query you need to call `execute`");class qu{#e;constructor(e){this.#e=R(e)}on(e){return new qu({...this.#e,node:vf.cloneWith(this.#e.node,{table:Tr(e)})})}ifExists(){return new qu({...this.#e,node:vf.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new qu({...this.#e,node:vf.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}hn(qu,"don't await DropIndexBuilder instances directly. To execute the query you need to call `execute`");class Yf{#e;constructor(e){this.#e=R(e)}ifExists(){return new Yf({...this.#e,node:Hx.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new Yf({...this.#e,node:Hx.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}hn(Yf,"don't await DropSchemaBuilder instances directly. To execute the query you need to call `execute`");class Xf{#e;constructor(e){this.#e=R(e)}ifExists(){return new Xf({...this.#e,node:Qx.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new Xf({...this.#e,node:Qx.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}hn(Xf,"don't await DropTableBuilder instances directly. To execute the query you need to call `execute`");const Va=R({is(t){return t.kind==="CreateViewNode"},create(t){return R({kind:"CreateViewNode",name:yl.create(t)})},cloneWith(t,e){return R({...t,...e})}});class l6{#e=new a3;transformQuery(e){return this.#e.transformNode(e.node)}transformResult(e){return Promise.resolve(e.result)}}class ua{#e;constructor(e){this.#e=R(e)}temporary(){return new ua({...this.#e,node:Va.cloneWith(this.#e.node,{temporary:!0})})}materialized(){return new ua({...this.#e,node:Va.cloneWith(this.#e.node,{materialized:!0})})}ifNotExists(){return new ua({...this.#e,node:Va.cloneWith(this.#e.node,{ifNotExists:!0})})}orReplace(){return new ua({...this.#e,node:Va.cloneWith(this.#e.node,{orReplace:!0})})}columns(e){return new ua({...this.#e,node:Va.cloneWith(this.#e.node,{columns:e.map(FC)})})}as(e){const n=e.withPlugin(new l6).toOperationNode();return new ua({...this.#e,node:Va.cloneWith(this.#e.node,{as:n})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}hn(ua,"don't await CreateViewBuilder instances directly. To execute the query you need to call `execute`");const Cm=R({is(t){return t.kind==="DropViewNode"},create(t){return R({kind:"DropViewNode",name:yl.create(t)})},cloneWith(t,e){return R({...t,...e})}});class Cu{#e;constructor(e){this.#e=R(e)}materialized(){return new Cu({...this.#e,node:Cm.cloneWith(this.#e.node,{materialized:!0})})}ifExists(){return new Cu({...this.#e,node:Cm.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new Cu({...this.#e,node:Cm.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}hn(Cu,"don't await DropViewBuilder instances directly. To execute the query you need to call `execute`");const l3=R({is(t){return t.kind==="CreateTypeNode"},create(t){return R({kind:"CreateTypeNode",name:t})},cloneWithEnum(t,e){return R({...t,enum:o0.create(e.map(n=>Lo.createImmediate(n)))})}});class Sy{#e;constructor(e){this.#e=R(e)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}asEnum(e){return new Sy({...this.#e,node:l3.cloneWithEnum(this.#e.node,e)})}$call(e){return e(this)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}hn(Sy,"don't await CreateTypeBuilder instances directly. To execute the query you need to call `execute`");const c3=R({is(t){return t.kind==="DropTypeNode"},create(t){return R({kind:"DropTypeNode",name:t})},cloneWith(t,e){return R({...t,...e})}});class Ey{#e;constructor(e){this.#e=R(e)}ifExists(){return new Ey({...this.#e,node:c3.cloneWith(this.#e.node,{ifExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}hn(Ey,"don't await DropTypeBuilder instances directly. To execute the query you need to call `execute`");function sI(t){const e=".";if(t.includes(e)){const n=t.split(e).map(c6);if(n.length===2)return yl.createWithSchema(n[0],n[1]);throw new Error(`invalid schemable identifier ${t}`)}else return yl.create(t)}function c6(t){return t.trim()}class Sf{#e;constructor(e){this.#e=e}createTable(e){return new Di({queryId:Bn(),executor:this.#e,node:es.create(Tr(e))})}dropTable(e){return new Xf({queryId:Bn(),executor:this.#e,node:Qx.create(Tr(e))})}createIndex(e){return new Rs({queryId:Bn(),executor:this.#e,node:aa.create(e)})}dropIndex(e){return new qu({queryId:Bn(),executor:this.#e,node:vf.create(e)})}createSchema(e){return new wy({queryId:Bn(),executor:this.#e,node:TC.create(e)})}dropSchema(e){return new Yf({queryId:Bn(),executor:this.#e,node:Hx.create(e)})}alterTable(e){return new o3({queryId:Bn(),executor:this.#e,node:$n.create(Tr(e))})}createView(e){return new ua({queryId:Bn(),executor:this.#e,node:Va.create(e)})}dropView(e){return new Cu({queryId:Bn(),executor:this.#e,node:Cm.create(e)})}createType(e){return new Sy({queryId:Bn(),executor:this.#e,node:l3.create(sI(e))})}dropType(e){return new Ey({queryId:Bn(),executor:this.#e,node:c3.create(sI(e))})}withPlugin(e){return new Sf(this.#e.withPlugin(e))}withoutPlugins(){return new Sf(this.#e.withoutPlugins())}withSchema(e){return new Sf(this.#e.withPluginAtFront(new wp(e)))}}class u6{ref(e){return new nz(e)}}class d6{#e;constructor(e){this.#e=e}async provideConnection(e){const n=await this.#e.acquireConnection();try{return await e(n)}finally{await this.#e.releaseConnection(n)}}}class Zl extends UC{#e;#t;#n;constructor(e,n,r,i=[]){super(i),this.#e=e,this.#t=n,this.#n=r}get adapter(){return this.#t}compileQuery(e){return this.#e.compileQuery(e)}provideConnection(e){return this.#n.provideConnection(e)}withPlugins(e){return new Zl(this.#e,this.#t,this.#n,[...this.plugins,...e])}withPlugin(e){return new Zl(this.#e,this.#t,this.#n,[...this.plugins,e])}withPluginAtFront(e){return new Zl(this.#e,this.#t,this.#n,[e,...this.plugins])}withConnectionProvider(e){return new Zl(this.#e,this.#t,e,[...this.plugins])}withoutPlugins(){return new Zl(this.#e,this.#t,this.#n,[])}}function oI(){return typeof performance<"u"&&ps(performance.now)?performance.now():Date.now()}class f6{#e;#t;#n;#r;#i;#s=new WeakSet;constructor(e,n){this.#r=!1,this.#e=e,this.#t=n}async init(){if(this.#i)throw new Error("driver has already been destroyed");this.#n||(this.#n=this.#e.init().then(()=>{this.#r=!0}).catch(e=>(this.#n=void 0,Promise.reject(e)))),await this.#n}async acquireConnection(){if(this.#i)throw new Error("driver has already been destroyed");this.#r||await this.init();const e=await this.#e.acquireConnection();return this.#s.has(e)||(this.#o()&&this.#a(e),this.#s.add(e)),e}async releaseConnection(e){await this.#e.releaseConnection(e)}beginTransaction(e,n){return this.#e.beginTransaction(e,n)}commitTransaction(e){return this.#e.commitTransaction(e)}rollbackTransaction(e){return this.#e.rollbackTransaction(e)}async destroy(){this.#n&&(await this.#n,this.#i||(this.#i=this.#e.destroy().catch(e=>(this.#i=void 0,Promise.reject(e)))),await this.#i)}#o(){return this.#t.isLevelEnabled("query")||this.#t.isLevelEnabled("error")}#a(e){const n=e.executeQuery;e.executeQuery=async r=>{let i;const o=oI();try{return await n.call(e,r)}catch(l){throw i=l,await this.#c(l,r,o),l}finally{i||await this.#l(r,o)}}}async #c(e,n,r){await this.#t.error(()=>({level:"error",error:e,query:n,queryDurationMillis:this.#u(r)}))}async #l(e,n){await this.#t.query(()=>({level:"query",query:e,queryDurationMillis:this.#u(n)}))}#u(e){return oI()-e}}const p6=()=>{};class u3{#e;#t;constructor(e){this.#e=e}async provideConnection(e){for(;this.#t;)await this.#t.catch(p6);return this.#t=this.#n(e).finally(()=>{this.#t=void 0}),this.#t}async #n(e){return await e(this.#e)}}const h6=["read uncommitted","read committed","repeatable read","serializable","snapshot"];R(["query","error"]);class m6{#e;#t;constructor(e){ps(e)?(this.#t=e,this.#e=R({query:!0,error:!0})):(this.#t=g6,this.#e=R({query:e.includes("query"),error:e.includes("error")}))}isLevelEnabled(e){return this.#e[e]}async query(e){this.#e.query&&await this.#t(e())}async error(e){this.#e.error&&await this.#t(e())}}function g6(t){t.level==="query"?(console.log(`kysely:query: ${t.query.sql}`),console.log(`kysely:query: duration: ${t.queryDurationMillis.toFixed(1)}ms`)):t.level==="error"&&(t.error instanceof Error?console.error(`kysely:error: ${t.error.stack??t.error.message}`):console.error(`kysely:error: ${JSON.stringify({error:t.error,query:t.query.sql,queryDurationMillis:t.queryDurationMillis})}`))}function y6(t){return To(t)&&ps(t.compile)}class Xa extends Ga{#e;constructor(e){let n,r;if(v6(e))n={executor:e.executor},r={...e};else{const i=e.dialect,o=i.createDriver(),l=i.createQueryCompiler(),c=i.createAdapter(),d=new m6(e.log??[]),m=new f6(o,d),y=new d6(m),b=new Zl(l,c,y,e.plugins??[]);n={executor:b},r={config:e,executor:b,dialect:i,driver:m}}super(n),this.#e=R(r)}get schema(){return new Sf(this.#e.executor)}get dynamic(){return new u6}get introspection(){return this.#e.dialect.createIntrospector(this.withoutPlugins())}case(e){return new GC({node:Co.create(ll(e)?void 0:wc(e))})}get fn(){return KC()}transaction(){return new ky({...this.#e})}connection(){return new d3({...this.#e})}withPlugin(e){return new Xa({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new Xa({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new Xa({...this.#e,executor:this.#e.executor.withPluginAtFront(new wp(e))})}withTables(){return new Xa({...this.#e})}async destroy(){await this.#e.driver.destroy()}get isTransaction(){return!1}getExecutor(){return this.#e.executor}executeQuery(e,n=Bn()){const r=y6(e)?e.compile():e;return this.getExecutor().executeQuery(r,n)}}class gu extends Xa{#e;constructor(e){super(e),this.#e=e}get isTransaction(){return!0}transaction(){throw new Error("calling the transaction method for a Transaction is not supported")}connection(){throw new Error("calling the connection method for a Transaction is not supported")}async destroy(){throw new Error("calling the destroy method for a Transaction is not supported")}withPlugin(e){return new gu({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new gu({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new gu({...this.#e,executor:this.#e.executor.withPluginAtFront(new wp(e))})}withTables(){return new gu({...this.#e})}}function v6(t){return To(t)&&To(t.config)&&To(t.driver)&&To(t.executor)&&To(t.dialect)}class d3{#e;constructor(e){this.#e=R(e)}async execute(e){return this.#e.executor.provideConnection(async n=>{const r=this.#e.executor.withConnectionProvider(new u3(n)),i=new Xa({...this.#e,executor:r});return await e(i)})}}hn(d3,"don't await ConnectionBuilder instances directly. To execute the query you need to call the `execute` method");class ky{#e;constructor(e){this.#e=R(e)}setIsolationLevel(e){return new ky({...this.#e,isolationLevel:e})}async execute(e){const{isolationLevel:n,...r}=this.#e,i={isolationLevel:n};return b6(i),this.#e.executor.provideConnection(async o=>{const l=this.#e.executor.withConnectionProvider(new u3(o)),c=new gu({...r,executor:l});try{await this.#e.driver.beginTransaction(o,i);const d=await e(c);return await this.#e.driver.commitTransaction(o),d}catch(d){throw await this.#e.driver.rollbackTransaction(o),d}})}}hn(ky,"don't await TransactionBuilder instances directly. To execute the transaction you need to call the `execute` method");function b6(t){if(t.isolationLevel&&!h6.includes(t.isolationLevel))throw new Error(`invalid transaction isolation level ${t.isolationLevel}`)}class Ru{#e;constructor(e){this.#e=R(e)}get expressionType(){}get isRawBuilder(){return!0}as(e){return new f3(this,e)}$castTo(){return new Ru({...this.#e})}$notNull(){return new Ru(this.#e)}withPlugin(e){return new Ru({...this.#e,plugins:this.#e.plugins!==void 0?R([...this.#e.plugins,e]):R([e])})}toOperationNode(){return this.#n(this.#t())}compile(e){return this.#r(this.#t(e))}async execute(e){const n=this.#t(e);return n.executeQuery(this.#r(n),this.#e.queryId)}#t(e){const n=e!==void 0?e.getExecutor():xy;return this.#e.plugins!==void 0?n.withPlugins(this.#e.plugins):n}#n(e){return e.transformQuery(this.#e.rawNode,this.#e.queryId)}#r(e){return e.compileQuery(this.#n(e),this.#e.queryId)}}function za(t){return new Ru(t)}hn(Ru,"don't await RawBuilder instances directly. To execute the query you need to call `execute`");class f3{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}get rawBuilder(){return this.#e}toOperationNode(){return kl.create(this.#e.toOperationNode(),Qi(this.#t)?this.#t.toOperationNode():or.create(this.#t))}}hn(f3,"don't await AliasedRawBuilder instances directly. AliasedRawBuilder should never be executed directly since it's always a part of another query.");const y0=Object.assign((t,...e)=>za({queryId:Bn(),rawNode:ui.create(t,e?.map(aI)??[])}),{ref(t){return za({queryId:Bn(),rawNode:ui.createWithChild(_a(t))})},val(t){return za({queryId:Bn(),rawNode:ui.createWithChild(Fr(t))})},value(t){return this.val(t)},table(t){return za({queryId:Bn(),rawNode:ui.createWithChild(Tr(t))})},id(...t){const e=new Array(t.length+1).fill(".");return e[0]="",e[e.length-1]="",za({queryId:Bn(),rawNode:ui.create(e,t.map(or.create))})},lit(t){return za({queryId:Bn(),rawNode:ui.createWithChild(Lo.createImmediate(t))})},literal(t){return this.lit(t)},raw(t){return za({queryId:Bn(),rawNode:ui.createWithSql(t)})},join(t,e=y0`, `){const n=new Array(2*t.length-1),r=e.toOperationNode();for(let i=0;i<t.length;++i)n[2*i]=aI(t[i]),i!==t.length-1&&(n[2*i+1]=r);return za({queryId:Bn(),rawNode:ui.createWithChildren(n)})}});function aI(t){return Qi(t)?t.toOperationNode():Fr(t)}class _6{nodeStack=[];get parentNode(){return this.nodeStack[this.nodeStack.length-2]}#e=R({AliasNode:this.visitAlias.bind(this),ColumnNode:this.visitColumn.bind(this),IdentifierNode:this.visitIdentifier.bind(this),SchemableIdentifierNode:this.visitSchemableIdentifier.bind(this),RawNode:this.visitRaw.bind(this),ReferenceNode:this.visitReference.bind(this),SelectQueryNode:this.visitSelectQuery.bind(this),SelectionNode:this.visitSelection.bind(this),TableNode:this.visitTable.bind(this),FromNode:this.visitFrom.bind(this),SelectAllNode:this.visitSelectAll.bind(this),AndNode:this.visitAnd.bind(this),OrNode:this.visitOr.bind(this),ValueNode:this.visitValue.bind(this),ValueListNode:this.visitValueList.bind(this),PrimitiveValueListNode:this.visitPrimitiveValueList.bind(this),ParensNode:this.visitParens.bind(this),JoinNode:this.visitJoin.bind(this),OperatorNode:this.visitOperator.bind(this),WhereNode:this.visitWhere.bind(this),InsertQueryNode:this.visitInsertQuery.bind(this),DeleteQueryNode:this.visitDeleteQuery.bind(this),ReturningNode:this.visitReturning.bind(this),CreateTableNode:this.visitCreateTable.bind(this),AddColumnNode:this.visitAddColumn.bind(this),ColumnDefinitionNode:this.visitColumnDefinition.bind(this),DropTableNode:this.visitDropTable.bind(this),DataTypeNode:this.visitDataType.bind(this),OrderByNode:this.visitOrderBy.bind(this),OrderByItemNode:this.visitOrderByItem.bind(this),GroupByNode:this.visitGroupBy.bind(this),GroupByItemNode:this.visitGroupByItem.bind(this),UpdateQueryNode:this.visitUpdateQuery.bind(this),ColumnUpdateNode:this.visitColumnUpdate.bind(this),LimitNode:this.visitLimit.bind(this),OffsetNode:this.visitOffset.bind(this),OnConflictNode:this.visitOnConflict.bind(this),OnDuplicateKeyNode:this.visitOnDuplicateKey.bind(this),CreateIndexNode:this.visitCreateIndex.bind(this),DropIndexNode:this.visitDropIndex.bind(this),ListNode:this.visitList.bind(this),PrimaryKeyConstraintNode:this.visitPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.visitUniqueConstraint.bind(this),ReferencesNode:this.visitReferences.bind(this),CheckConstraintNode:this.visitCheckConstraint.bind(this),WithNode:this.visitWith.bind(this),CommonTableExpressionNode:this.visitCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.visitCommonTableExpressionName.bind(this),HavingNode:this.visitHaving.bind(this),CreateSchemaNode:this.visitCreateSchema.bind(this),DropSchemaNode:this.visitDropSchema.bind(this),AlterTableNode:this.visitAlterTable.bind(this),DropColumnNode:this.visitDropColumn.bind(this),RenameColumnNode:this.visitRenameColumn.bind(this),AlterColumnNode:this.visitAlterColumn.bind(this),ModifyColumnNode:this.visitModifyColumn.bind(this),AddConstraintNode:this.visitAddConstraint.bind(this),DropConstraintNode:this.visitDropConstraint.bind(this),ForeignKeyConstraintNode:this.visitForeignKeyConstraint.bind(this),CreateViewNode:this.visitCreateView.bind(this),DropViewNode:this.visitDropView.bind(this),GeneratedNode:this.visitGenerated.bind(this),DefaultValueNode:this.visitDefaultValue.bind(this),OnNode:this.visitOn.bind(this),ValuesNode:this.visitValues.bind(this),SelectModifierNode:this.visitSelectModifier.bind(this),CreateTypeNode:this.visitCreateType.bind(this),DropTypeNode:this.visitDropType.bind(this),ExplainNode:this.visitExplain.bind(this),DefaultInsertValueNode:this.visitDefaultInsertValue.bind(this),AggregateFunctionNode:this.visitAggregateFunction.bind(this),OverNode:this.visitOver.bind(this),PartitionByNode:this.visitPartitionBy.bind(this),PartitionByItemNode:this.visitPartitionByItem.bind(this),SetOperationNode:this.visitSetOperation.bind(this),BinaryOperationNode:this.visitBinaryOperation.bind(this),UnaryOperationNode:this.visitUnaryOperation.bind(this),UsingNode:this.visitUsing.bind(this),FunctionNode:this.visitFunction.bind(this),CaseNode:this.visitCase.bind(this),WhenNode:this.visitWhen.bind(this),JSONReferenceNode:this.visitJSONReference.bind(this),JSONPathNode:this.visitJSONPath.bind(this),JSONPathLegNode:this.visitJSONPathLeg.bind(this),JSONOperatorChainNode:this.visitJSONOperatorChain.bind(this),TupleNode:this.visitTuple.bind(this),MergeQueryNode:this.visitMergeQuery.bind(this),MatchedNode:this.visitMatched.bind(this),AddIndexNode:this.visitAddIndex.bind(this),CastNode:this.visitCast.bind(this),FetchNode:this.visitFetch.bind(this),TopNode:this.visitTop.bind(this),OutputNode:this.visitOutput.bind(this)});visitNode=e=>{this.nodeStack.push(e),this.#e[e.kind](e),this.nodeStack.pop()}}class x6 extends _6{#e="";#t=[];get numParameters(){return this.#t.length}compileQuery(e){return this.#e="",this.#t=[],this.nodeStack.splice(0,this.nodeStack.length),this.visitNode(e),R({query:e,sql:this.getSql(),parameters:[...this.#t]})}getSql(){return this.#e}visitSelectQuery(e){const n=this.parentNode!==void 0&&!Wu.is(this.parentNode)&&!rs.is(this.parentNode)&&!es.is(this.parentNode)&&!Va.is(this.parentNode)&&!HC.is(this.parentNode);this.parentNode===void 0&&e.explain&&(this.visitNode(e.explain),this.append(" ")),n&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("select"),e.distinctOn&&(this.append(" "),this.compileDistinctOn(e.distinctOn)),e.frontModifiers?.length&&(this.append(" "),this.compileList(e.frontModifiers," ")),e.top&&(this.append(" "),this.visitNode(e.top)),e.selections&&(this.append(" "),this.compileList(e.selections)),e.from&&(this.append(" "),this.visitNode(e.from)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.groupBy&&(this.append(" "),this.visitNode(e.groupBy)),e.having&&(this.append(" "),this.visitNode(e.having)),e.setOperations&&(this.append(" "),this.compileList(e.setOperations," ")),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.offset&&(this.append(" "),this.visitNode(e.offset)),e.fetch&&(this.append(" "),this.visitNode(e.fetch)),e.endModifiers?.length&&(this.append(" "),this.compileList(this.sortSelectModifiers([...e.endModifiers])," ")),n&&this.append(")")}visitFrom(e){this.append("from "),this.compileList(e.froms)}visitSelection(e){this.visitNode(e.selection)}visitColumn(e){this.visitNode(e.column)}compileDistinctOn(e){this.append("distinct on ("),this.compileList(e),this.append(")")}compileList(e,n=", "){const r=e.length-1;for(let i=0;i<=r;i++)this.visitNode(e[i]),i<r&&this.append(n)}visitWhere(e){this.append("where "),this.visitNode(e.where)}visitHaving(e){this.append("having "),this.visitNode(e.having)}visitInsertQuery(e){const n=this.nodeStack.find(Ct.is),r=n!==e;!r&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&!zi.is(n)&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append(e.replace?"replace":"insert"),e.ignore&&this.append(" ignore"),e.top&&(this.append(" "),this.visitNode(e.top)),e.into&&(this.append(" into "),this.visitNode(e.into)),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.output&&(this.append(" "),this.visitNode(e.output)),e.values&&(this.append(" "),this.visitNode(e.values)),e.defaultValues&&(this.append(" "),this.append("default values")),e.onConflict&&(this.append(" "),this.visitNode(e.onConflict)),e.onDuplicateKey&&(this.append(" "),this.visitNode(e.onDuplicateKey)),e.returning&&(this.append(" "),this.visitNode(e.returning)),r&&!zi.is(n)&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitValues(e){this.append("values "),this.compileList(e.values)}visitDeleteQuery(e){const n=this.nodeStack.find(Ct.is)!==e;!n&&e.explain&&(this.visitNode(e.explain),this.append(" ")),n&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("delete "),e.top&&(this.visitNode(e.top),this.append(" ")),this.visitNode(e.from),e.output&&(this.append(" "),this.visitNode(e.output)),e.using&&(this.append(" "),this.visitNode(e.using)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.returning&&(this.append(" "),this.visitNode(e.returning)),n&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitReturning(e){this.append("returning "),this.compileList(e.selections)}visitAlias(e){this.visitNode(e.node),this.append(" as "),this.visitNode(e.alias)}visitReference(e){e.table&&(this.visitNode(e.table),this.append(".")),this.visitNode(e.column)}visitSelectAll(e){this.append("*")}visitIdentifier(e){this.append(this.getLeftIdentifierWrapper()),this.compileUnwrappedIdentifier(e),this.append(this.getRightIdentifierWrapper())}compileUnwrappedIdentifier(e){if(!fs(e.name))throw new Error("a non-string identifier was passed to compileUnwrappedIdentifier.");this.append(this.sanitizeIdentifier(e.name))}visitAnd(e){this.visitNode(e.left),this.append(" and "),this.visitNode(e.right)}visitOr(e){this.visitNode(e.left),this.append(" or "),this.visitNode(e.right)}visitValue(e){e.immediate?this.appendImmediateValue(e.value):this.appendValue(e.value)}visitValueList(e){this.append("("),this.compileList(e.values),this.append(")")}visitTuple(e){this.append("("),this.compileList(e.values),this.append(")")}visitPrimitiveValueList(e){this.append("(");const{values:n}=e;for(let r=0;r<n.length;++r)this.appendValue(n[r]),r!==n.length-1&&this.append(", ");this.append(")")}visitParens(e){this.append("("),this.visitNode(e.node),this.append(")")}visitJoin(e){this.append(S6[e.joinType]),this.append(" "),this.visitNode(e.table),e.on&&(this.append(" "),this.visitNode(e.on))}visitOn(e){this.append("on "),this.visitNode(e.on)}visitRaw(e){const{sqlFragments:n,parameters:r}=e;for(let i=0;i<n.length;++i)this.append(n[i]),r.length>i&&this.visitNode(r[i])}visitOperator(e){this.append(e.operator)}visitTable(e){this.visitNode(e.table)}visitSchemableIdentifier(e){e.schema&&(this.visitNode(e.schema),this.append(".")),this.visitNode(e.identifier)}visitCreateTable(e){this.append("create "),e.frontModifiers&&e.frontModifiers.length>0&&(this.compileList(e.frontModifiers," "),this.append(" ")),e.temporary&&this.append("temporary "),this.append("table "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.table),e.selectQuery?(this.append(" as "),this.visitNode(e.selectQuery)):(this.append(" ("),this.compileList([...e.columns,...e.constraints??[]]),this.append(")"),e.onCommit&&(this.append(" on commit "),this.append(e.onCommit)),e.endModifiers&&e.endModifiers.length>0&&(this.append(" "),this.compileList(e.endModifiers," ")))}visitColumnDefinition(e){e.ifNotExists&&this.append("if not exists "),this.visitNode(e.column),this.append(" "),this.visitNode(e.dataType),e.unsigned&&this.append(" unsigned"),e.frontModifiers&&e.frontModifiers.length>0&&(this.append(" "),this.compileList(e.frontModifiers," ")),e.generated&&(this.append(" "),this.visitNode(e.generated)),e.identity&&this.append(" identity"),e.defaultTo&&(this.append(" "),this.visitNode(e.defaultTo)),e.notNull&&this.append(" not null"),e.unique&&this.append(" unique"),e.nullsNotDistinct&&this.append(" nulls not distinct"),e.primaryKey&&this.append(" primary key"),e.autoIncrement&&(this.append(" "),this.append(this.getAutoIncrement())),e.references&&(this.append(" "),this.visitNode(e.references)),e.check&&(this.append(" "),this.visitNode(e.check)),e.endModifiers&&e.endModifiers.length>0&&(this.append(" "),this.compileList(e.endModifiers," "))}getAutoIncrement(){return"auto_increment"}visitReferences(e){this.append("references "),this.visitNode(e.table),this.append(" ("),this.compileList(e.columns),this.append(")"),e.onDelete&&(this.append(" on delete "),this.append(e.onDelete)),e.onUpdate&&(this.append(" on update "),this.append(e.onUpdate))}visitDropTable(e){this.append("drop table "),e.ifExists&&this.append("if exists "),this.visitNode(e.table),e.cascade&&this.append(" cascade")}visitDataType(e){this.append(e.dataType)}visitOrderBy(e){this.append("order by "),this.compileList(e.items)}visitOrderByItem(e){this.visitNode(e.orderBy),e.direction&&(this.append(" "),this.visitNode(e.direction))}visitGroupBy(e){this.append("group by "),this.compileList(e.items)}visitGroupByItem(e){this.visitNode(e.groupBy)}visitUpdateQuery(e){const n=this.nodeStack.find(Ct.is),r=n!==e;!r&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&!zi.is(n)&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("update "),e.top&&(this.visitNode(e.top),this.append(" ")),e.table&&(this.visitNode(e.table),this.append(" ")),this.append("set "),e.updates&&this.compileList(e.updates),e.output&&(this.append(" "),this.visitNode(e.output)),e.from&&(this.append(" "),this.visitNode(e.from)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.returning&&(this.append(" "),this.visitNode(e.returning)),r&&!zi.is(n)&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitColumnUpdate(e){this.visitNode(e.column),this.append(" = "),this.visitNode(e.value)}visitLimit(e){this.append("limit "),this.visitNode(e.limit)}visitOffset(e){this.append("offset "),this.visitNode(e.offset)}visitOnConflict(e){this.append("on conflict"),e.columns?(this.append(" ("),this.compileList(e.columns),this.append(")")):e.constraint?(this.append(" on constraint "),this.visitNode(e.constraint)):e.indexExpression&&(this.append(" ("),this.visitNode(e.indexExpression),this.append(")")),e.indexWhere&&(this.append(" "),this.visitNode(e.indexWhere)),e.doNothing===!0?this.append(" do nothing"):e.updates&&(this.append(" do update set "),this.compileList(e.updates),e.updateWhere&&(this.append(" "),this.visitNode(e.updateWhere)))}visitOnDuplicateKey(e){this.append("on duplicate key update "),this.compileList(e.updates)}visitCreateIndex(e){this.append("create "),e.unique&&this.append("unique "),this.append("index "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),e.table&&(this.append(" on "),this.visitNode(e.table)),e.using&&(this.append(" using "),this.visitNode(e.using)),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.nullsNotDistinct&&this.append(" nulls not distinct"),e.where&&(this.append(" "),this.visitNode(e.where))}visitDropIndex(e){this.append("drop index "),e.ifExists&&this.append("if exists "),this.visitNode(e.name),e.table&&(this.append(" on "),this.visitNode(e.table)),e.cascade&&this.append(" cascade")}visitCreateSchema(e){this.append("create schema "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.schema)}visitDropSchema(e){this.append("drop schema "),e.ifExists&&this.append("if exists "),this.visitNode(e.schema),e.cascade&&this.append(" cascade")}visitPrimaryKeyConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("primary key ("),this.compileList(e.columns),this.append(")")}visitUniqueConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("unique"),e.nullsNotDistinct&&this.append(" nulls not distinct"),this.append(" ("),this.compileList(e.columns),this.append(")")}visitCheckConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("check ("),this.visitNode(e.expression),this.append(")")}visitForeignKeyConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("foreign key ("),this.compileList(e.columns),this.append(") "),this.visitNode(e.references),e.onDelete&&(this.append(" on delete "),this.append(e.onDelete)),e.onUpdate&&(this.append(" on update "),this.append(e.onUpdate))}visitList(e){this.compileList(e.items)}visitWith(e){this.append("with "),e.recursive&&this.append("recursive "),this.compileList(e.expressions)}visitCommonTableExpression(e){this.visitNode(e.name),this.append(" as "),wg(e.materialized)&&(e.materialized||this.append("not "),this.append("materialized ")),this.visitNode(e.expression)}visitCommonTableExpressionName(e){this.visitNode(e.table),e.columns&&(this.append("("),this.compileList(e.columns),this.append(")"))}visitAlterTable(e){this.append("alter table "),this.visitNode(e.table),this.append(" "),e.renameTo&&(this.append("rename to "),this.visitNode(e.renameTo)),e.setSchema&&(this.append("set schema "),this.visitNode(e.setSchema)),e.addConstraint&&this.visitNode(e.addConstraint),e.dropConstraint&&this.visitNode(e.dropConstraint),e.columnAlterations&&this.compileColumnAlterations(e.columnAlterations),e.addIndex&&this.visitNode(e.addIndex),e.dropIndex&&this.visitNode(e.dropIndex)}visitAddColumn(e){this.append("add column "),this.visitNode(e.column)}visitRenameColumn(e){this.append("rename column "),this.visitNode(e.column),this.append(" to "),this.visitNode(e.renameTo)}visitDropColumn(e){this.append("drop column "),this.visitNode(e.column)}visitAlterColumn(e){this.append("alter column "),this.visitNode(e.column),this.append(" "),e.dataType&&(this.announcesNewColumnDataType()&&this.append("type "),this.visitNode(e.dataType),e.dataTypeExpression&&(this.append("using "),this.visitNode(e.dataTypeExpression))),e.setDefault&&(this.append("set default "),this.visitNode(e.setDefault)),e.dropDefault&&this.append("drop default"),e.setNotNull&&this.append("set not null"),e.dropNotNull&&this.append("drop not null")}visitModifyColumn(e){this.append("modify column "),this.visitNode(e.column)}visitAddConstraint(e){this.append("add "),this.visitNode(e.constraint)}visitDropConstraint(e){this.append("drop constraint "),e.ifExists&&this.append("if exists "),this.visitNode(e.constraintName),e.modifier==="cascade"?this.append(" cascade"):e.modifier==="restrict"&&this.append(" restrict")}visitSetOperation(e){this.append(e.operator),this.append(" "),e.all&&this.append("all "),this.visitNode(e.expression)}visitCreateView(e){this.append("create "),e.orReplace&&this.append("or replace "),e.materialized&&this.append("materialized "),e.temporary&&this.append("temporary "),this.append("view "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),this.append(" "),e.columns&&(this.append("("),this.compileList(e.columns),this.append(") ")),e.as&&(this.append("as "),this.visitNode(e.as))}visitDropView(e){this.append("drop "),e.materialized&&this.append("materialized "),this.append("view "),e.ifExists&&this.append("if exists "),this.visitNode(e.name),e.cascade&&this.append(" cascade")}visitGenerated(e){this.append("generated "),e.always&&this.append("always "),e.byDefault&&this.append("by default "),this.append("as "),e.identity&&this.append("identity"),e.expression&&(this.append("("),this.visitNode(e.expression),this.append(")")),e.stored&&this.append(" stored")}visitDefaultValue(e){this.append("default "),this.visitNode(e.defaultValue)}visitSelectModifier(e){e.rawModifier?this.visitNode(e.rawModifier):this.append(w6[e.modifier]),e.of&&(this.append(" of "),this.compileList(e.of,", "))}visitCreateType(e){this.append("create type "),this.visitNode(e.name),e.enum&&(this.append(" as enum "),this.visitNode(e.enum))}visitDropType(e){this.append("drop type "),e.ifExists&&this.append("if exists "),this.visitNode(e.name)}visitExplain(e){this.append("explain"),(e.options||e.format)&&(this.append(" "),this.append(this.getLeftExplainOptionsWrapper()),e.options&&(this.visitNode(e.options),e.format&&this.append(this.getExplainOptionsDelimiter())),e.format&&(this.append("format"),this.append(this.getExplainOptionAssignment()),this.append(e.format)),this.append(this.getRightExplainOptionsWrapper()))}visitDefaultInsertValue(e){this.append("default")}visitAggregateFunction(e){this.append(e.func),this.append("("),e.distinct&&this.append("distinct "),this.compileList(e.aggregated),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),this.append(")"),e.filter&&(this.append(" filter("),this.visitNode(e.filter),this.append(")")),e.over&&(this.append(" "),this.visitNode(e.over))}visitOver(e){this.append("over("),e.partitionBy&&(this.visitNode(e.partitionBy),e.orderBy&&this.append(" ")),e.orderBy&&this.visitNode(e.orderBy),this.append(")")}visitPartitionBy(e){this.append("partition by "),this.compileList(e.items)}visitPartitionByItem(e){this.visitNode(e.partitionBy)}visitBinaryOperation(e){this.visitNode(e.leftOperand),this.append(" "),this.visitNode(e.operator),this.append(" "),this.visitNode(e.rightOperand)}visitUnaryOperation(e){this.visitNode(e.operator),this.isMinusOperator(e.operator)||this.append(" "),this.visitNode(e.operand)}isMinusOperator(e){return bl.is(e)&&e.operator==="-"}visitUsing(e){this.append("using "),this.compileList(e.tables)}visitFunction(e){this.append(e.func),this.append("("),this.compileList(e.arguments),this.append(")")}visitCase(e){this.append("case"),e.value&&(this.append(" "),this.visitNode(e.value)),e.when&&(this.append(" "),this.compileList(e.when," ")),e.else&&(this.append(" else "),this.visitNode(e.else)),this.append(" end"),e.isStatement&&this.append(" case")}visitWhen(e){this.append("when "),this.visitNode(e.condition),e.result&&(this.append(" then "),this.visitNode(e.result))}visitJSONReference(e){this.visitNode(e.reference),this.visitNode(e.traversal)}visitJSONPath(e){e.inOperator&&this.visitNode(e.inOperator),this.append("'$");for(const n of e.pathLegs)this.visitNode(n);this.append("'")}visitJSONPathLeg(e){const n=e.type==="ArrayLocation";this.append(n?"[":"."),this.append(String(e.value)),n&&this.append("]")}visitJSONOperatorChain(e){for(let n=0,r=e.values.length;n<r;n++)n===r-1?this.visitNode(e.operator):this.append("->"),this.visitNode(e.values[n])}visitMergeQuery(e){e.with&&(this.visitNode(e.with),this.append(" ")),this.append("merge "),e.top&&(this.visitNode(e.top),this.append(" ")),this.append("into "),this.visitNode(e.into),e.using&&(this.append(" "),this.visitNode(e.using)),e.whens&&(this.append(" "),this.compileList(e.whens," ")),e.output&&(this.append(" "),this.visitNode(e.output)),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitMatched(e){e.not&&this.append("not "),this.append("matched"),e.bySource&&this.append(" by source")}visitAddIndex(e){this.append("add "),e.unique&&this.append("unique "),this.append("index "),this.visitNode(e.name),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.using&&(this.append(" using "),this.visitNode(e.using))}visitCast(e){this.append("cast("),this.visitNode(e.expression),this.append(" as "),this.visitNode(e.dataType),this.append(")")}visitFetch(e){this.append("fetch next "),this.visitNode(e.rowCount),this.append(` rows ${e.modifier}`)}visitOutput(e){this.append("output "),this.compileList(e.selections)}visitTop(e){this.append(`top(${e.expression})`),e.modifiers&&this.append(` ${e.modifiers}`)}append(e){this.#e+=e}appendValue(e){this.addParameter(e),this.append(this.getCurrentParameterPlaceholder())}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getCurrentParameterPlaceholder(){return"$"+this.numParameters}getLeftExplainOptionsWrapper(){return"("}getExplainOptionAssignment(){return" "}getExplainOptionsDelimiter(){return", "}getRightExplainOptionsWrapper(){return")"}sanitizeIdentifier(e){const n=this.getLeftIdentifierWrapper(),r=this.getRightIdentifierWrapper();let i="";for(const o of e)i+=o,o===n?i+=n:o===r&&(i+=r);return i}addParameter(e){this.#t.push(e)}appendImmediateValue(e){if(fs(e))this.append(`'${e}'`);else if(by(e)||wg(e))this.append(e.toString());else if(n0(e))this.append("null");else if(HW(e))this.appendImmediateValue(e.toISOString());else if(r0(e))this.appendImmediateValue(e.toString());else throw new Error(`invalid immediate value ${e}`)}sortSelectModifiers(e){return e.sort((n,r)=>n.modifier&&r.modifier?lI[n.modifier]-lI[r.modifier]:1),R(e)}compileColumnAlterations(e){this.compileList(e)}announcesNewColumnDataType(){return!0}}const w6=R({ForKeyShare:"for key share",ForNoKeyUpdate:"for no key update",ForUpdate:"for update",ForShare:"for share",NoWait:"nowait",SkipLocked:"skip locked",Distinct:"distinct"}),lI=R({ForKeyShare:1,ForNoKeyUpdate:1,ForUpdate:1,ForShare:1,NoWait:2,SkipLocked:2,Distinct:0}),S6=R({InnerJoin:"inner join",LeftJoin:"left join",RightJoin:"right join",FullJoin:"full join",LateralInnerJoin:"inner join lateral",LateralLeftJoin:"left join lateral",Using:"using"});class E6{get supportsCreateIfNotExists(){return!0}get supportsTransactionalDdl(){return!1}get supportsReturning(){return!1}get supportsOutput(){return!1}}const k6=/"/g;class N6 extends x6{getCurrentParameterPlaceholder(){return"?"}getLeftExplainOptionsWrapper(){return""}getRightExplainOptionsWrapper(){return""}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getAutoIncrement(){return"autoincrement"}sanitizeIdentifier(e){return e.replace(k6,'""')}visitDefaultInsertValue(e){this.append("null")}}const I6="kysely_migration",O6="kysely_migration_lock";R({__noMigrations__:!0});class T6{#e;constructor(e){this.#e=e}async getSchemas(){return[]}async getTables(e={withInternalKyselyTables:!1}){let n=this.#e.selectFrom("sqlite_master").where("type","in",["table","view"]).where("name","not like","sqlite_%").select("name").orderBy("name").$castTo();e.withInternalKyselyTables||(n=n.where("name","!=",I6).where("name","!=",O6));const r=await n.execute();return Promise.all(r.map(({name:i})=>this.#t(i)))}async getMetadata(e){return{tables:await this.getTables(e)}}async #t(e){const n=this.#e,r=await n.selectFrom("sqlite_master").where("name","=",e).select(["sql","type"]).$castTo().executeTakeFirstOrThrow(),i=r.sql?.split(/[\(\),]/)?.find(l=>l.toLowerCase().includes("autoincrement"))?.trimStart()?.split(/\s+/)?.[0]?.replace(/["`]/g,""),o=await n.selectFrom(y0`pragma_table_info(${e})`.as("table_info")).select(["name","type","notnull","dflt_value"]).orderBy("cid").execute();return{name:e,isView:r.type==="view",columns:o.map(l=>({name:l.name,dataType:l.type,isNullable:!l.notnull,isAutoIncrementing:l.name===i,hasDefaultValue:l.dflt_value!=null,comment:void 0}))}}}class q6 extends E6{get supportsTransactionalDdl(){return!1}get supportsReturning(){return!0}async acquireMigrationLock(e,n){}async releaseMigrationLock(e,n){}}const cI="function",yu="64e10b34-2bf7-4616-9668-f99de5aa046e",C6="get",R6="has",A6="set",{isArray:Rm}=Array;let{SharedArrayBuffer:Rg,window:j6}=globalThis,{notify:p3,wait:h3,waitAsync:Ag}=Atomics,m3=null;Ag||(Ag=t=>({value:new Promise(e=>{let n=new Worker("data:application/javascript,onmessage%3D(%7Bdata%3Ab%7D)%3D%3E(Atomics.wait(b%2C0)%2CpostMessage(0))");n.onmessage=e,n.postMessage(t)})}));try{new Rg(4)}catch{Rg=ArrayBuffer;const e=new WeakMap;if(j6){const n=new Map,{prototype:{postMessage:r}}=Worker,i=o=>{const l=o.data?.[yu];if(!Rm(l)){o.stopImmediatePropagation();const{id:c,sb:d}=l;n.get(c)(d)}};m3=function(o,...l){const c=o?.[yu];if(Rm(c)){const[d,m]=c;e.set(m,d),this.addEventListener("message",i)}return r.call(this,o,...l)},Ag=o=>({value:new Promise(l=>{n.set(e.get(o),l)}).then(l=>{n.delete(e.get(o)),e.delete(o);for(let c=0;c<l.length;c++)o[c]=l[c];return"ok"})})}else{const n=(r,i)=>({[yu]:{id:r,sb:i}});p3=r=>{postMessage(n(e.get(r),r))},addEventListener("message",r=>{const i=r.data?.[yu];if(Rm(i)){const[o,l]=i;e.set(l,o)}})}}const{Int32Array:ew,Map:uI,Uint16Array:tw}=globalThis,{BYTES_PER_ELEMENT:dI}=ew,{BYTES_PER_ELEMENT:P6}=tw,F6=(t,e,n)=>{for(;h3(t,0,0,e)==="timed-out";)n()},nw=new WeakSet,U_=new WeakMap,L6={value:{then:t=>t()}};let D6=0;const v0=(t,{parse:e=JSON.parse,stringify:n=JSON.stringify,transform:r,interrupt:i}=JSON)=>{if(!U_.has(t)){const o=m3||t.postMessage,l=(E,...N)=>o.call(t,{[yu]:N},{transfer:E}),c=typeof i===cI?i:i?.handler,d=i?.delay||42,m=new TextDecoder("utf-16"),y=(E,N)=>E?Ag(N,0):(c?F6(N,d,c):h3(N,0),L6);let b=!1;U_.set(t,new Proxy(new uI,{[R6]:(E,N)=>typeof N=="string"&&!N.startsWith("_"),[C6]:(E,N)=>N==="then"?null:(...O)=>{const T=D6++;let A=new ew(new Rg(dI*2)),L=[];nw.has(O.at(-1)||L)&&nw.delete(L=O.pop()),l(L,T,A,N,r?O.map(r):O);const P=t!==globalThis;let B=0;return b&&P&&(B=setTimeout(console.warn,1e3,` - Possible deadlock if proxy.${N}(...args) is awaited`)),y(P,A).value.then(()=>{clearTimeout(B);const Q=A[1];if(!Q)return;const J=P6*Q;return A=new ew(new Rg(J+J%dI)),l([],T,A),y(P,A).value.then(()=>e(m.decode(new tw(A.buffer).slice(0,Q))))})},[A6](E,N,O){const T=typeof O;if(T!==cI)throw new Error(`Unable to assign ${N} as ${T}`);if(!E.size){const A=new uI;t.addEventListener("message",async L=>{const P=L.data?.[yu];if(Rm(P)){L.stopImmediatePropagation();const[B,Q,...J]=P;let W;if(J.length){const[G,re]=J;if(E.has(G)){b=!0;try{const H=await E.get(G)(...re);if(H!==void 0){const te=n(r?r(H):H);A.set(B,te),Q[1]=te.length}}catch(H){W=H}finally{b=!1}}else W=new Error(`Unsupported action: ${G}`);Q[0]=1}else{const G=A.get(B);A.delete(B);for(let re=new tw(Q.buffer),H=0;H<G.length;H++)re[H]=G.charCodeAt(H)}if(p3(Q,0),W)throw W}})}return!!E.set(N,O)}}))}return U_.get(t)};v0.transfer=(...t)=>(nw.add(t),t);var b0=(()=>{var t=import.meta.url;return function(e={}){var n,r=e,i,o,l=new Promise((f,p)=>{i=f,o=p}),c=typeof window=="object",d=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;const m=globalThis.sqlite3InitModuleState||Object.assign(Object.create(null),{debugModule:()=>{}});delete globalThis.sqlite3InitModuleState,m.debugModule("globalThis.location =",globalThis.location);var y=Object.assign({},r),b="./this.program",E="";function N(f){return r.locateFile?r.locateFile(f,E):E+f}var O,T;(c||d)&&(d?E=self.location.href:typeof document<"u"&&document.currentScript&&(E=document.currentScript.src),t&&(E=t),E.startsWith("blob:")?E="":E=E.substr(0,E.replace(/[?#].*/,"").lastIndexOf("/")+1),d&&(T=f=>{var p=new XMLHttpRequest;return p.open("GET",f,!1),p.responseType="arraybuffer",p.send(null),new Uint8Array(p.response)}),O=f=>fetch(f,{credentials:"same-origin"}).then(p=>p.ok?p.arrayBuffer():Promise.reject(new Error(p.status+" : "+p.url))));var A=r.print||console.log.bind(console),L=r.printErr||console.error.bind(console);Object.assign(r,y),y=null,r.arguments&&r.arguments,r.thisProgram&&(b=r.thisProgram);var P=r.wasmBinary,B,Q=!1,J,W,G,re,H,te;function $(){var f=B.buffer;r.HEAP8=J=new Int8Array(f),r.HEAP16=G=new Int16Array(f),r.HEAPU8=W=new Uint8Array(f),r.HEAPU16=new Uint16Array(f),r.HEAP32=re=new Int32Array(f),r.HEAPU32=H=new Uint32Array(f),r.HEAPF32=new Float32Array(f),r.HEAPF64=new Float64Array(f),r.HEAP64=te=new BigInt64Array(f),r.HEAPU64=new BigUint64Array(f)}if(r.wasmMemory)B=r.wasmMemory;else{var oe=r.INITIAL_MEMORY||0x1000000;B=new WebAssembly.Memory({initial:oe/65536,maximum:32768})}$();var Y=[],fe=[],Ee=[];function qe(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)pe(r.preRun.shift());le(Y)}function je(){!r.noFSInit&&!C.initialized&&C.init(),C.ignorePermissions=!1,le(fe)}function ve(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)K(r.postRun.shift());le(Ee)}function pe(f){Y.unshift(f)}function ke(f){fe.unshift(f)}function K(f){Ee.unshift(f)}var xe=0,ut=null;function at(f){return f}function ft(f){xe++,r.monitorRunDependencies?.(xe)}function dt(f){if(xe--,r.monitorRunDependencies?.(xe),xe==0&&ut){var p=ut;ut=null,p()}}function pt(f){r.onAbort?.(f),f="Aborted("+f+")",L(f),Q=!0,f+=". Build with -sASSERTIONS for more info.";var p=new WebAssembly.RuntimeError(f);throw o(p),p}var vt="data:application/octet-stream;base64,",At=f=>f.startsWith(vt);function mt(){if(r.locateFile){var f="sqlite3.wasm";return At(f)?f:N(f)}return new URL("/assets/sqlite3-CgX3seBP.wasm",import.meta.url).href}var ht;function kt(f){if(f==ht&&P)return new Uint8Array(P);if(T)return T(f);throw"both async and sync fetching of the wasm failed"}function Nt(f){return P?Promise.resolve().then(()=>kt(f)):O(f).then(p=>new Uint8Array(p),()=>kt(f))}function Zt(f,p,_){return Nt(f).then(x=>WebAssembly.instantiate(x,p)).then(_,x=>{L(`failed to asynchronously prepare wasm: ${x}`),pt(x)})}function Kt(f,p,_,x){return!f&&typeof WebAssembly.instantiateStreaming=="function"&&!At(p)&&typeof fetch=="function"?fetch(p,{credentials:"same-origin"}).then(S=>{var I=WebAssembly.instantiateStreaming(S,_);return I.then(x,function(X){return L(`wasm streaming compile failed: ${X}`),L("falling back to ArrayBuffer instantiation"),Zt(p,_,x)})}):Zt(p,_,x)}function rn(){return{env:gd,wasi_snapshot_preview1:gd}}function dn(){var f=rn();function p(x,S){return ie=x.exports,ke(ie.__wasm_call_ctors),dt(),ie}ft();function _(x){p(x.instance)}if(r.instantiateWasm)try{return r.instantiateWasm(f,p)}catch(x){L(`Module.instantiateWasm callback failed with error: ${x}`),o(x)}return ht||(ht=mt()),Kt(P,ht,f,_).catch(o),{}}var le=f=>{for(;f.length>0;)f.shift()(r)};r.noExitRuntime;var ue={isAbs:f=>f.charAt(0)==="/",splitPath:f=>{var p=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return p.exec(f).slice(1)},normalizeArray:(f,p)=>{for(var _=0,x=f.length-1;x>=0;x--){var S=f[x];S==="."?f.splice(x,1):S===".."?(f.splice(x,1),_++):_&&(f.splice(x,1),_--)}if(p)for(;_;_--)f.unshift("..");return f},normalize:f=>{var p=ue.isAbs(f),_=f.substr(-1)==="/";return f=ue.normalizeArray(f.split("/").filter(x=>!!x),!p).join("/"),!f&&!p&&(f="."),f&&_&&(f+="/"),(p?"/":"")+f},dirname:f=>{var p=ue.splitPath(f),_=p[0],x=p[1];return!_&&!x?".":(x&&(x=x.substr(0,x.length-1)),_+x)},basename:f=>{if(f==="/")return"/";f=ue.normalize(f),f=f.replace(/\/$/,"");var p=f.lastIndexOf("/");return p===-1?f:f.substr(p+1)},join:(...f)=>ue.normalize(f.join("/")),join2:(f,p)=>ue.normalize(f+"/"+p)},ye=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return f=>crypto.getRandomValues(f);pt("initRandomDevice")},Ce=f=>(Ce=ye())(f),De={resolve:(...f)=>{for(var p="",_=!1,x=f.length-1;x>=-1&&!_;x--){var S=x>=0?f[x]:C.cwd();if(typeof S!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!S)return"";p=S+"/"+p,_=ue.isAbs(S)}return p=ue.normalizeArray(p.split("/").filter(I=>!!I),!_).join("/"),(_?"/":"")+p||"."},relative:(f,p)=>{f=De.resolve(f).substr(1),p=De.resolve(p).substr(1);function _(Ve){for(var Ze=0;Ze<Ve.length&&Ve[Ze]==="";Ze++);for(var it=Ve.length-1;it>=0&&Ve[it]==="";it--);return Ze>it?[]:Ve.slice(Ze,it-Ze+1)}for(var x=_(f.split("/")),S=_(p.split("/")),I=Math.min(x.length,S.length),X=I,se=0;se<I;se++)if(x[se]!==S[se]){X=se;break}for(var Me=[],se=X;se<x.length;se++)Me.push("..");return Me=Me.concat(S.slice(X)),Me.join("/")}},Je=typeof TextDecoder<"u"?new TextDecoder:void 0,Fe=(f,p,_)=>{for(var x=p+_,S=p;f[S]&&!(S>=x);)++S;if(S-p>16&&f.buffer&&Je)return Je.decode(f.subarray(p,S));for(var I="";p<S;){var X=f[p++];if(!(X&128)){I+=String.fromCharCode(X);continue}var se=f[p++]&63;if((X&224)==192){I+=String.fromCharCode((X&31)<<6|se);continue}var Me=f[p++]&63;if((X&240)==224?X=(X&15)<<12|se<<6|Me:X=(X&7)<<18|se<<12|Me<<6|f[p++]&63,X<65536)I+=String.fromCharCode(X);else{var Ve=X-65536;I+=String.fromCharCode(55296|Ve>>10,56320|Ve&1023)}}return I},et=[],Vt=f=>{for(var p=0,_=0;_<f.length;++_){var x=f.charCodeAt(_);x<=127?p++:x<=2047?p+=2:x>=55296&&x<=57343?(p+=4,++_):p+=3}return p},zt=(f,p,_,x)=>{if(!(x>0))return 0;for(var S=_,I=_+x-1,X=0;X<f.length;++X){var se=f.charCodeAt(X);if(se>=55296&&se<=57343){var Me=f.charCodeAt(++X);se=65536+((se&1023)<<10)|Me&1023}if(se<=127){if(_>=I)break;p[_++]=se}else if(se<=2047){if(_+1>=I)break;p[_++]=192|se>>6,p[_++]=128|se&63}else if(se<=65535){if(_+2>=I)break;p[_++]=224|se>>12,p[_++]=128|se>>6&63,p[_++]=128|se&63}else{if(_+3>=I)break;p[_++]=240|se>>18,p[_++]=128|se>>12&63,p[_++]=128|se>>6&63,p[_++]=128|se&63}}return p[_]=0,_-S};function mn(f,p,_){var x=Vt(f)+1,S=new Array(x),I=zt(f,S,0,S.length);return S.length=I,S}var Nr=()=>{if(!et.length){var f=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(f=window.prompt("Input: "),f!==null&&(f+=`
`)),!f)return null;et=mn(f)}return et.shift()},jn={ttys:[],init(){},shutdown(){},register(f,p){jn.ttys[f]={input:[],output:[],ops:p},C.registerDevice(f,jn.stream_ops)},stream_ops:{open(f){var p=jn.ttys[f.node.rdev];if(!p)throw new C.ErrnoError(43);f.tty=p,f.seekable=!1},close(f){f.tty.ops.fsync(f.tty)},fsync(f){f.tty.ops.fsync(f.tty)},read(f,p,_,x,S){if(!f.tty||!f.tty.ops.get_char)throw new C.ErrnoError(60);for(var I=0,X=0;X<x;X++){var se;try{se=f.tty.ops.get_char(f.tty)}catch{throw new C.ErrnoError(29)}if(se===void 0&&I===0)throw new C.ErrnoError(6);if(se==null)break;I++,p[_+X]=se}return I&&(f.node.timestamp=Date.now()),I},write(f,p,_,x,S){if(!f.tty||!f.tty.ops.put_char)throw new C.ErrnoError(60);try{for(var I=0;I<x;I++)f.tty.ops.put_char(f.tty,p[_+I])}catch{throw new C.ErrnoError(29)}return x&&(f.node.timestamp=Date.now()),I}},default_tty_ops:{get_char(f){return Nr()},put_char(f,p){p===null||p===10?(A(Fe(f.output,0)),f.output=[]):p!=0&&f.output.push(p)},fsync(f){f.output&&f.output.length>0&&(A(Fe(f.output,0)),f.output=[])},ioctl_tcgets(f){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(f,p,_){return 0},ioctl_tiocgwinsz(f){return[24,80]}},default_tty1_ops:{put_char(f,p){p===null||p===10?(L(Fe(f.output,0)),f.output=[]):p!=0&&f.output.push(p)},fsync(f){f.output&&f.output.length>0&&(L(Fe(f.output,0)),f.output=[])}}},Hr=(f,p)=>(W.fill(0,f,f+p),f),Ji=(f,p)=>Math.ceil(f/p)*p,Ir=f=>{f=Ji(f,65536);var p=yd(65536,f);return p?Hr(p,f):0},Bt={ops_table:null,mount(f){return Bt.createNode(null,"/",16895,0)},createNode(f,p,_,x){if(C.isBlkdev(_)||C.isFIFO(_))throw new C.ErrnoError(63);Bt.ops_table||={dir:{node:{getattr:Bt.node_ops.getattr,setattr:Bt.node_ops.setattr,lookup:Bt.node_ops.lookup,mknod:Bt.node_ops.mknod,rename:Bt.node_ops.rename,unlink:Bt.node_ops.unlink,rmdir:Bt.node_ops.rmdir,readdir:Bt.node_ops.readdir,symlink:Bt.node_ops.symlink},stream:{llseek:Bt.stream_ops.llseek}},file:{node:{getattr:Bt.node_ops.getattr,setattr:Bt.node_ops.setattr},stream:{llseek:Bt.stream_ops.llseek,read:Bt.stream_ops.read,write:Bt.stream_ops.write,allocate:Bt.stream_ops.allocate,mmap:Bt.stream_ops.mmap,msync:Bt.stream_ops.msync}},link:{node:{getattr:Bt.node_ops.getattr,setattr:Bt.node_ops.setattr,readlink:Bt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Bt.node_ops.getattr,setattr:Bt.node_ops.setattr},stream:C.chrdev_stream_ops}};var S=C.createNode(f,p,_,x);return C.isDir(S.mode)?(S.node_ops=Bt.ops_table.dir.node,S.stream_ops=Bt.ops_table.dir.stream,S.contents={}):C.isFile(S.mode)?(S.node_ops=Bt.ops_table.file.node,S.stream_ops=Bt.ops_table.file.stream,S.usedBytes=0,S.contents=null):C.isLink(S.mode)?(S.node_ops=Bt.ops_table.link.node,S.stream_ops=Bt.ops_table.link.stream):C.isChrdev(S.mode)&&(S.node_ops=Bt.ops_table.chrdev.node,S.stream_ops=Bt.ops_table.chrdev.stream),S.timestamp=Date.now(),f&&(f.contents[p]=S,f.timestamp=S.timestamp),S},getFileDataAsTypedArray(f){return f.contents?f.contents.subarray?f.contents.subarray(0,f.usedBytes):new Uint8Array(f.contents):new Uint8Array(0)},expandFileStorage(f,p){var _=f.contents?f.contents.length:0;if(!(_>=p)){var x=1024*1024;p=Math.max(p,_*(_<x?2:1.125)>>>0),_!=0&&(p=Math.max(p,256));var S=f.contents;f.contents=new Uint8Array(p),f.usedBytes>0&&f.contents.set(S.subarray(0,f.usedBytes),0)}},resizeFileStorage(f,p){if(f.usedBytes!=p)if(p==0)f.contents=null,f.usedBytes=0;else{var _=f.contents;f.contents=new Uint8Array(p),_&&f.contents.set(_.subarray(0,Math.min(p,f.usedBytes))),f.usedBytes=p}},node_ops:{getattr(f){var p={};return p.dev=C.isChrdev(f.mode)?f.id:1,p.ino=f.id,p.mode=f.mode,p.nlink=1,p.uid=0,p.gid=0,p.rdev=f.rdev,C.isDir(f.mode)?p.size=4096:C.isFile(f.mode)?p.size=f.usedBytes:C.isLink(f.mode)?p.size=f.link.length:p.size=0,p.atime=new Date(f.timestamp),p.mtime=new Date(f.timestamp),p.ctime=new Date(f.timestamp),p.blksize=4096,p.blocks=Math.ceil(p.size/p.blksize),p},setattr(f,p){p.mode!==void 0&&(f.mode=p.mode),p.timestamp!==void 0&&(f.timestamp=p.timestamp),p.size!==void 0&&Bt.resizeFileStorage(f,p.size)},lookup(f,p){throw C.genericErrors[44]},mknod(f,p,_,x){return Bt.createNode(f,p,_,x)},rename(f,p,_){if(C.isDir(f.mode)){var x;try{x=C.lookupNode(p,_)}catch{}if(x)for(var S in x.contents)throw new C.ErrnoError(55)}delete f.parent.contents[f.name],f.parent.timestamp=Date.now(),f.name=_,p.contents[_]=f,p.timestamp=f.parent.timestamp},unlink(f,p){delete f.contents[p],f.timestamp=Date.now()},rmdir(f,p){var _=C.lookupNode(f,p);for(var x in _.contents)throw new C.ErrnoError(55);delete f.contents[p],f.timestamp=Date.now()},readdir(f){var p=[".",".."];for(var _ of Object.keys(f.contents))p.push(_);return p},symlink(f,p,_){var x=Bt.createNode(f,p,41471,0);return x.link=_,x},readlink(f){if(!C.isLink(f.mode))throw new C.ErrnoError(28);return f.link}},stream_ops:{read(f,p,_,x,S){var I=f.node.contents;if(S>=f.node.usedBytes)return 0;var X=Math.min(f.node.usedBytes-S,x);if(X>8&&I.subarray)p.set(I.subarray(S,S+X),_);else for(var se=0;se<X;se++)p[_+se]=I[S+se];return X},write(f,p,_,x,S,I){if(p.buffer===J.buffer&&(I=!1),!x)return 0;var X=f.node;if(X.timestamp=Date.now(),p.subarray&&(!X.contents||X.contents.subarray)){if(I)return X.contents=p.subarray(_,_+x),X.usedBytes=x,x;if(X.usedBytes===0&&S===0)return X.contents=p.slice(_,_+x),X.usedBytes=x,x;if(S+x<=X.usedBytes)return X.contents.set(p.subarray(_,_+x),S),x}if(Bt.expandFileStorage(X,S+x),X.contents.subarray&&p.subarray)X.contents.set(p.subarray(_,_+x),S);else for(var se=0;se<x;se++)X.contents[S+se]=p[_+se];return X.usedBytes=Math.max(X.usedBytes,S+x),x},llseek(f,p,_){var x=p;if(_===1?x+=f.position:_===2&&C.isFile(f.node.mode)&&(x+=f.node.usedBytes),x<0)throw new C.ErrnoError(28);return x},allocate(f,p,_){Bt.expandFileStorage(f.node,p+_),f.node.usedBytes=Math.max(f.node.usedBytes,p+_)},mmap(f,p,_,x,S){if(!C.isFile(f.node.mode))throw new C.ErrnoError(43);var I,X,se=f.node.contents;if(!(S&2)&&se&&se.buffer===J.buffer)X=!1,I=se.byteOffset;else{if(X=!0,I=Ir(p),!I)throw new C.ErrnoError(48);se&&((_>0||_+p<se.length)&&(se.subarray?se=se.subarray(_,_+p):se=Array.prototype.slice.call(se,_,_+p)),J.set(se,I))}return{ptr:I,allocated:X}},msync(f,p,_,x,S){return Bt.stream_ops.write(f,p,0,x,_,!1),0}}},vs=(f,p,_,x)=>{var S=`al ${f}`;O(f).then(I=>{p(new Uint8Array(I)),S&&dt()},I=>{if(_)_();else throw`Loading data file "${f}" failed.`}),S&&ft()},bs=(f,p,_,x,S,I)=>{C.createDataFile(f,p,_,x,S,I)},_s=r.preloadPlugins||[],Uo=(f,p,_,x)=>{typeof Browser<"u"&&Browser.init();var S=!1;return _s.forEach(I=>{S||I.canHandle(p)&&(I.handle(f,p,_,x),S=!0)}),S},Nl=(f,p,_,x,S,I,X,se,Me,Ve)=>{var Ze=p?De.resolve(ue.join2(f,p)):f;function it(Ae){function Se(Ue){Ve?.(),se||bs(f,p,Ue,x,S,Me),I?.(),dt()}Uo(Ae,Ze,Se,()=>{X?.(),dt()})||Se(Ae)}ft(),typeof _=="string"?vs(_,it,X):it(_)},ld=f=>{var p={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},_=p[f];if(typeof _>"u")throw new Error(`Unknown file open mode: ${f}`);return _},bo=(f,p)=>{var _=0;return f&&(_|=365),p&&(_|=146),_},C={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:class{constructor(f){this.name="ErrnoError",this.errno=f}},genericErrors:{},filesystems:null,syncFSRequests:0,FSStream:class{constructor(){this.shared={}}get object(){return this.node}set object(f){this.node=f}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(f){this.shared.flags=f}get position(){return this.shared.position}set position(f){this.shared.position=f}},FSNode:class{constructor(f,p,_,x){f||(f=this),this.parent=f,this.mount=f.mount,this.mounted=null,this.id=C.nextInode++,this.name=p,this.mode=_,this.node_ops={},this.stream_ops={},this.rdev=x,this.readMode=365,this.writeMode=146}get read(){return(this.mode&this.readMode)===this.readMode}set read(f){f?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(f){f?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return C.isDir(this.mode)}get isDevice(){return C.isChrdev(this.mode)}},lookupPath(f,p={}){if(f=De.resolve(f),!f)return{path:"",node:null};var _={follow_mount:!0,recurse_count:0};if(p=Object.assign(_,p),p.recurse_count>8)throw new C.ErrnoError(32);for(var x=f.split("/").filter(it=>!!it),S=C.root,I="/",X=0;X<x.length;X++){var se=X===x.length-1;if(se&&p.parent)break;if(S=C.lookupNode(S,x[X]),I=ue.join2(I,x[X]),C.isMountpoint(S)&&(!se||se&&p.follow_mount)&&(S=S.mounted.root),!se||p.follow)for(var Me=0;C.isLink(S.mode);){var Ve=C.readlink(I);I=De.resolve(ue.dirname(I),Ve);var Ze=C.lookupPath(I,{recurse_count:p.recurse_count+1});if(S=Ze.node,Me++>40)throw new C.ErrnoError(32)}}return{path:I,node:S}},getPath(f){for(var p;;){if(C.isRoot(f)){var _=f.mount.mountpoint;return p?_[_.length-1]!=="/"?`${_}/${p}`:_+p:_}p=p?`${f.name}/${p}`:f.name,f=f.parent}},hashName(f,p){for(var _=0,x=0;x<p.length;x++)_=(_<<5)-_+p.charCodeAt(x)|0;return(f+_>>>0)%C.nameTable.length},hashAddNode(f){var p=C.hashName(f.parent.id,f.name);f.name_next=C.nameTable[p],C.nameTable[p]=f},hashRemoveNode(f){var p=C.hashName(f.parent.id,f.name);if(C.nameTable[p]===f)C.nameTable[p]=f.name_next;else for(var _=C.nameTable[p];_;){if(_.name_next===f){_.name_next=f.name_next;break}_=_.name_next}},lookupNode(f,p){var _=C.mayLookup(f);if(_)throw new C.ErrnoError(_);for(var x=C.hashName(f.id,p),S=C.nameTable[x];S;S=S.name_next){var I=S.name;if(S.parent.id===f.id&&I===p)return S}return C.lookup(f,p)},createNode(f,p,_,x){var S=new C.FSNode(f,p,_,x);return C.hashAddNode(S),S},destroyNode(f){C.hashRemoveNode(f)},isRoot(f){return f===f.parent},isMountpoint(f){return!!f.mounted},isFile(f){return(f&61440)===32768},isDir(f){return(f&61440)===16384},isLink(f){return(f&61440)===40960},isChrdev(f){return(f&61440)===8192},isBlkdev(f){return(f&61440)===24576},isFIFO(f){return(f&61440)===4096},isSocket(f){return(f&49152)===49152},flagsToPermissionString(f){var p=["r","w","rw"][f&3];return f&512&&(p+="w"),p},nodePermissions(f,p){return C.ignorePermissions?0:p.includes("r")&&!(f.mode&292)||p.includes("w")&&!(f.mode&146)||p.includes("x")&&!(f.mode&73)?2:0},mayLookup(f){if(!C.isDir(f.mode))return 54;var p=C.nodePermissions(f,"x");return p||(f.node_ops.lookup?0:2)},mayCreate(f,p){try{var _=C.lookupNode(f,p);return 20}catch{}return C.nodePermissions(f,"wx")},mayDelete(f,p,_){var x;try{x=C.lookupNode(f,p)}catch(I){return I.errno}var S=C.nodePermissions(f,"wx");if(S)return S;if(_){if(!C.isDir(x.mode))return 54;if(C.isRoot(x)||C.getPath(x)===C.cwd())return 10}else if(C.isDir(x.mode))return 31;return 0},mayOpen(f,p){return f?C.isLink(f.mode)?32:C.isDir(f.mode)&&(C.flagsToPermissionString(p)!=="r"||p&512)?31:C.nodePermissions(f,C.flagsToPermissionString(p)):44},MAX_OPEN_FDS:4096,nextfd(){for(var f=0;f<=C.MAX_OPEN_FDS;f++)if(!C.streams[f])return f;throw new C.ErrnoError(33)},getStreamChecked(f){var p=C.getStream(f);if(!p)throw new C.ErrnoError(8);return p},getStream:f=>C.streams[f],createStream(f,p=-1){return f=Object.assign(new C.FSStream,f),p==-1&&(p=C.nextfd()),f.fd=p,C.streams[p]=f,f},closeStream(f){C.streams[f]=null},dupStream(f,p=-1){var _=C.createStream(f,p);return _.stream_ops?.dup?.(_),_},chrdev_stream_ops:{open(f){var p=C.getDevice(f.node.rdev);f.stream_ops=p.stream_ops,f.stream_ops.open?.(f)},llseek(){throw new C.ErrnoError(70)}},major:f=>f>>8,minor:f=>f&255,makedev:(f,p)=>f<<8|p,registerDevice(f,p){C.devices[f]={stream_ops:p}},getDevice:f=>C.devices[f],getMounts(f){for(var p=[],_=[f];_.length;){var x=_.pop();p.push(x),_.push(...x.mounts)}return p},syncfs(f,p){typeof f=="function"&&(p=f,f=!1),C.syncFSRequests++,C.syncFSRequests>1&&L(`warning: ${C.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var _=C.getMounts(C.root.mount),x=0;function S(X){return C.syncFSRequests--,p(X)}function I(X){if(X)return I.errored?void 0:(I.errored=!0,S(X));++x>=_.length&&S(null)}_.forEach(X=>{if(!X.type.syncfs)return I(null);X.type.syncfs(X,f,I)})},mount(f,p,_){var x=_==="/",S=!_,I;if(x&&C.root)throw new C.ErrnoError(10);if(!x&&!S){var X=C.lookupPath(_,{follow_mount:!1});if(_=X.path,I=X.node,C.isMountpoint(I))throw new C.ErrnoError(10);if(!C.isDir(I.mode))throw new C.ErrnoError(54)}var se={type:f,opts:p,mountpoint:_,mounts:[]},Me=f.mount(se);return Me.mount=se,se.root=Me,x?C.root=Me:I&&(I.mounted=se,I.mount&&I.mount.mounts.push(se)),Me},unmount(f){var p=C.lookupPath(f,{follow_mount:!1});if(!C.isMountpoint(p.node))throw new C.ErrnoError(28);var _=p.node,x=_.mounted,S=C.getMounts(x);Object.keys(C.nameTable).forEach(X=>{for(var se=C.nameTable[X];se;){var Me=se.name_next;S.includes(se.mount)&&C.destroyNode(se),se=Me}}),_.mounted=null;var I=_.mount.mounts.indexOf(x);_.mount.mounts.splice(I,1)},lookup(f,p){return f.node_ops.lookup(f,p)},mknod(f,p,_){var x=C.lookupPath(f,{parent:!0}),S=x.node,I=ue.basename(f);if(!I||I==="."||I==="..")throw new C.ErrnoError(28);var X=C.mayCreate(S,I);if(X)throw new C.ErrnoError(X);if(!S.node_ops.mknod)throw new C.ErrnoError(63);return S.node_ops.mknod(S,I,p,_)},create(f,p){return p=p!==void 0?p:438,p&=4095,p|=32768,C.mknod(f,p,0)},mkdir(f,p){return p=p!==void 0?p:511,p&=1023,p|=16384,C.mknod(f,p,0)},mkdirTree(f,p){for(var _=f.split("/"),x="",S=0;S<_.length;++S)if(_[S]){x+="/"+_[S];try{C.mkdir(x,p)}catch(I){if(I.errno!=20)throw I}}},mkdev(f,p,_){return typeof _>"u"&&(_=p,p=438),p|=8192,C.mknod(f,p,_)},symlink(f,p){if(!De.resolve(f))throw new C.ErrnoError(44);var _=C.lookupPath(p,{parent:!0}),x=_.node;if(!x)throw new C.ErrnoError(44);var S=ue.basename(p),I=C.mayCreate(x,S);if(I)throw new C.ErrnoError(I);if(!x.node_ops.symlink)throw new C.ErrnoError(63);return x.node_ops.symlink(x,S,f)},rename(f,p){var _=ue.dirname(f),x=ue.dirname(p),S=ue.basename(f),I=ue.basename(p),X,se,Me;if(X=C.lookupPath(f,{parent:!0}),se=X.node,X=C.lookupPath(p,{parent:!0}),Me=X.node,!se||!Me)throw new C.ErrnoError(44);if(se.mount!==Me.mount)throw new C.ErrnoError(75);var Ve=C.lookupNode(se,S),Ze=De.relative(f,x);if(Ze.charAt(0)!==".")throw new C.ErrnoError(28);if(Ze=De.relative(p,_),Ze.charAt(0)!==".")throw new C.ErrnoError(55);var it;try{it=C.lookupNode(Me,I)}catch{}if(Ve!==it){var Ae=C.isDir(Ve.mode),Se=C.mayDelete(se,S,Ae);if(Se)throw new C.ErrnoError(Se);if(Se=it?C.mayDelete(Me,I,Ae):C.mayCreate(Me,I),Se)throw new C.ErrnoError(Se);if(!se.node_ops.rename)throw new C.ErrnoError(63);if(C.isMountpoint(Ve)||it&&C.isMountpoint(it))throw new C.ErrnoError(10);if(Me!==se&&(Se=C.nodePermissions(se,"w"),Se))throw new C.ErrnoError(Se);C.hashRemoveNode(Ve);try{se.node_ops.rename(Ve,Me,I),Ve.parent=Me}catch(Ue){throw Ue}finally{C.hashAddNode(Ve)}}},rmdir(f){var p=C.lookupPath(f,{parent:!0}),_=p.node,x=ue.basename(f),S=C.lookupNode(_,x),I=C.mayDelete(_,x,!0);if(I)throw new C.ErrnoError(I);if(!_.node_ops.rmdir)throw new C.ErrnoError(63);if(C.isMountpoint(S))throw new C.ErrnoError(10);_.node_ops.rmdir(_,x),C.destroyNode(S)},readdir(f){var p=C.lookupPath(f,{follow:!0}),_=p.node;if(!_.node_ops.readdir)throw new C.ErrnoError(54);return _.node_ops.readdir(_)},unlink(f){var p=C.lookupPath(f,{parent:!0}),_=p.node;if(!_)throw new C.ErrnoError(44);var x=ue.basename(f),S=C.lookupNode(_,x),I=C.mayDelete(_,x,!1);if(I)throw new C.ErrnoError(I);if(!_.node_ops.unlink)throw new C.ErrnoError(63);if(C.isMountpoint(S))throw new C.ErrnoError(10);_.node_ops.unlink(_,x),C.destroyNode(S)},readlink(f){var p=C.lookupPath(f),_=p.node;if(!_)throw new C.ErrnoError(44);if(!_.node_ops.readlink)throw new C.ErrnoError(28);return De.resolve(C.getPath(_.parent),_.node_ops.readlink(_))},stat(f,p){var _=C.lookupPath(f,{follow:!p}),x=_.node;if(!x)throw new C.ErrnoError(44);if(!x.node_ops.getattr)throw new C.ErrnoError(63);return x.node_ops.getattr(x)},lstat(f){return C.stat(f,!0)},chmod(f,p,_){var x;if(typeof f=="string"){var S=C.lookupPath(f,{follow:!_});x=S.node}else x=f;if(!x.node_ops.setattr)throw new C.ErrnoError(63);x.node_ops.setattr(x,{mode:p&4095|x.mode&-4096,timestamp:Date.now()})},lchmod(f,p){C.chmod(f,p,!0)},fchmod(f,p){var _=C.getStreamChecked(f);C.chmod(_.node,p)},chown(f,p,_,x){var S;if(typeof f=="string"){var I=C.lookupPath(f,{follow:!x});S=I.node}else S=f;if(!S.node_ops.setattr)throw new C.ErrnoError(63);S.node_ops.setattr(S,{timestamp:Date.now()})},lchown(f,p,_){C.chown(f,p,_,!0)},fchown(f,p,_){var x=C.getStreamChecked(f);C.chown(x.node,p,_)},truncate(f,p){if(p<0)throw new C.ErrnoError(28);var _;if(typeof f=="string"){var x=C.lookupPath(f,{follow:!0});_=x.node}else _=f;if(!_.node_ops.setattr)throw new C.ErrnoError(63);if(C.isDir(_.mode))throw new C.ErrnoError(31);if(!C.isFile(_.mode))throw new C.ErrnoError(28);var S=C.nodePermissions(_,"w");if(S)throw new C.ErrnoError(S);_.node_ops.setattr(_,{size:p,timestamp:Date.now()})},ftruncate(f,p){var _=C.getStreamChecked(f);if(!(_.flags&2097155))throw new C.ErrnoError(28);C.truncate(_.node,p)},utime(f,p,_){var x=C.lookupPath(f,{follow:!0}),S=x.node;S.node_ops.setattr(S,{timestamp:Math.max(p,_)})},open(f,p,_){if(f==="")throw new C.ErrnoError(44);p=typeof p=="string"?ld(p):p,p&64?(_=typeof _>"u"?438:_,_=_&4095|32768):_=0;var x;if(typeof f=="object")x=f;else{f=ue.normalize(f);try{var S=C.lookupPath(f,{follow:!(p&131072)});x=S.node}catch{}}var I=!1;if(p&64)if(x){if(p&128)throw new C.ErrnoError(20)}else x=C.mknod(f,_,0),I=!0;if(!x)throw new C.ErrnoError(44);if(C.isChrdev(x.mode)&&(p&=-513),p&65536&&!C.isDir(x.mode))throw new C.ErrnoError(54);if(!I){var X=C.mayOpen(x,p);if(X)throw new C.ErrnoError(X)}p&512&&!I&&C.truncate(x,0),p&=-131713;var se=C.createStream({node:x,path:C.getPath(x),flags:p,seekable:!0,position:0,stream_ops:x.stream_ops,ungotten:[],error:!1});return se.stream_ops.open&&se.stream_ops.open(se),r.logReadFiles&&!(p&1)&&(C.readFiles||(C.readFiles={}),f in C.readFiles||(C.readFiles[f]=1)),se},close(f){if(C.isClosed(f))throw new C.ErrnoError(8);f.getdents&&(f.getdents=null);try{f.stream_ops.close&&f.stream_ops.close(f)}catch(p){throw p}finally{C.closeStream(f.fd)}f.fd=null},isClosed(f){return f.fd===null},llseek(f,p,_){if(C.isClosed(f))throw new C.ErrnoError(8);if(!f.seekable||!f.stream_ops.llseek)throw new C.ErrnoError(70);if(_!=0&&_!=1&&_!=2)throw new C.ErrnoError(28);return f.position=f.stream_ops.llseek(f,p,_),f.ungotten=[],f.position},read(f,p,_,x,S){if(x<0||S<0)throw new C.ErrnoError(28);if(C.isClosed(f))throw new C.ErrnoError(8);if((f.flags&2097155)===1)throw new C.ErrnoError(8);if(C.isDir(f.node.mode))throw new C.ErrnoError(31);if(!f.stream_ops.read)throw new C.ErrnoError(28);var I=typeof S<"u";if(!I)S=f.position;else if(!f.seekable)throw new C.ErrnoError(70);var X=f.stream_ops.read(f,p,_,x,S);return I||(f.position+=X),X},write(f,p,_,x,S,I){if(x<0||S<0)throw new C.ErrnoError(28);if(C.isClosed(f))throw new C.ErrnoError(8);if(!(f.flags&2097155))throw new C.ErrnoError(8);if(C.isDir(f.node.mode))throw new C.ErrnoError(31);if(!f.stream_ops.write)throw new C.ErrnoError(28);f.seekable&&f.flags&1024&&C.llseek(f,0,2);var X=typeof S<"u";if(!X)S=f.position;else if(!f.seekable)throw new C.ErrnoError(70);var se=f.stream_ops.write(f,p,_,x,S,I);return X||(f.position+=se),se},allocate(f,p,_){if(C.isClosed(f))throw new C.ErrnoError(8);if(p<0||_<=0)throw new C.ErrnoError(28);if(!(f.flags&2097155))throw new C.ErrnoError(8);if(!C.isFile(f.node.mode)&&!C.isDir(f.node.mode))throw new C.ErrnoError(43);if(!f.stream_ops.allocate)throw new C.ErrnoError(138);f.stream_ops.allocate(f,p,_)},mmap(f,p,_,x,S){if(x&2&&!(S&2)&&(f.flags&2097155)!==2)throw new C.ErrnoError(2);if((f.flags&2097155)===1)throw new C.ErrnoError(2);if(!f.stream_ops.mmap)throw new C.ErrnoError(43);if(!p)throw new C.ErrnoError(28);return f.stream_ops.mmap(f,p,_,x,S)},msync(f,p,_,x,S){return f.stream_ops.msync?f.stream_ops.msync(f,p,_,x,S):0},ioctl(f,p,_){if(!f.stream_ops.ioctl)throw new C.ErrnoError(59);return f.stream_ops.ioctl(f,p,_)},readFile(f,p={}){if(p.flags=p.flags||0,p.encoding=p.encoding||"binary",p.encoding!=="utf8"&&p.encoding!=="binary")throw new Error(`Invalid encoding type "${p.encoding}"`);var _,x=C.open(f,p.flags),S=C.stat(f),I=S.size,X=new Uint8Array(I);return C.read(x,X,0,I,0),p.encoding==="utf8"?_=Fe(X,0):p.encoding==="binary"&&(_=X),C.close(x),_},writeFile(f,p,_={}){_.flags=_.flags||577;var x=C.open(f,_.flags,_.mode);if(typeof p=="string"){var S=new Uint8Array(Vt(p)+1),I=zt(p,S,0,S.length);C.write(x,S,0,I,void 0,_.canOwn)}else if(ArrayBuffer.isView(p))C.write(x,p,0,p.byteLength,void 0,_.canOwn);else throw new Error("Unsupported data type");C.close(x)},cwd:()=>C.currentPath,chdir(f){var p=C.lookupPath(f,{follow:!0});if(p.node===null)throw new C.ErrnoError(44);if(!C.isDir(p.node.mode))throw new C.ErrnoError(54);var _=C.nodePermissions(p.node,"x");if(_)throw new C.ErrnoError(_);C.currentPath=p.path},createDefaultDirectories(){C.mkdir("/tmp"),C.mkdir("/home"),C.mkdir("/home/web_user")},createDefaultDevices(){C.mkdir("/dev"),C.registerDevice(C.makedev(1,3),{read:()=>0,write:(x,S,I,X,se)=>X}),C.mkdev("/dev/null",C.makedev(1,3)),jn.register(C.makedev(5,0),jn.default_tty_ops),jn.register(C.makedev(6,0),jn.default_tty1_ops),C.mkdev("/dev/tty",C.makedev(5,0)),C.mkdev("/dev/tty1",C.makedev(6,0));var f=new Uint8Array(1024),p=0,_=()=>(p===0&&(p=Ce(f).byteLength),f[--p]);C.createDevice("/dev","random",_),C.createDevice("/dev","urandom",_),C.mkdir("/dev/shm"),C.mkdir("/dev/shm/tmp")},createSpecialDirectories(){C.mkdir("/proc");var f=C.mkdir("/proc/self");C.mkdir("/proc/self/fd"),C.mount({mount(){var p=C.createNode(f,"fd",16895,73);return p.node_ops={lookup(_,x){var S=+x,I=C.getStreamChecked(S),X={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>I.path}};return X.parent=X,X}},p}},{},"/proc/self/fd")},createStandardStreams(f,p,_){f?C.createDevice("/dev","stdin",f):C.symlink("/dev/tty","/dev/stdin"),p?C.createDevice("/dev","stdout",null,p):C.symlink("/dev/tty","/dev/stdout"),_?C.createDevice("/dev","stderr",null,_):C.symlink("/dev/tty1","/dev/stderr"),C.open("/dev/stdin",0),C.open("/dev/stdout",1),C.open("/dev/stderr",1)},staticInit(){[44].forEach(f=>{C.genericErrors[f]=new C.ErrnoError(f),C.genericErrors[f].stack="<generic error, no stack>"}),C.nameTable=new Array(4096),C.mount(Bt,{},"/"),C.createDefaultDirectories(),C.createDefaultDevices(),C.createSpecialDirectories(),C.filesystems={MEMFS:Bt}},init(f,p,_){C.initialized=!0,f??=r.stdin,p??=r.stdout,_??=r.stderr,C.createStandardStreams(f,p,_)},quit(){C.initialized=!1;for(var f=0;f<C.streams.length;f++){var p=C.streams[f];p&&C.close(p)}},findObject(f,p){var _=C.analyzePath(f,p);return _.exists?_.object:null},analyzePath(f,p){try{var _=C.lookupPath(f,{follow:!p});f=_.path}catch{}var x={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var _=C.lookupPath(f,{parent:!0});x.parentExists=!0,x.parentPath=_.path,x.parentObject=_.node,x.name=ue.basename(f),_=C.lookupPath(f,{follow:!p}),x.exists=!0,x.path=_.path,x.object=_.node,x.name=_.node.name,x.isRoot=_.path==="/"}catch(S){x.error=S.errno}return x},createPath(f,p,_,x){f=typeof f=="string"?f:C.getPath(f);for(var S=p.split("/").reverse();S.length;){var I=S.pop();if(I){var X=ue.join2(f,I);try{C.mkdir(X)}catch{}f=X}}return X},createFile(f,p,_,x,S){var I=ue.join2(typeof f=="string"?f:C.getPath(f),p),X=bo(x,S);return C.create(I,X)},createDataFile(f,p,_,x,S,I){var X=p;f&&(f=typeof f=="string"?f:C.getPath(f),X=p?ue.join2(f,p):f);var se=bo(x,S),Me=C.create(X,se);if(_){if(typeof _=="string"){for(var Ve=new Array(_.length),Ze=0,it=_.length;Ze<it;++Ze)Ve[Ze]=_.charCodeAt(Ze);_=Ve}C.chmod(Me,se|146);var Ae=C.open(Me,577);C.write(Ae,_,0,_.length,0,I),C.close(Ae),C.chmod(Me,se)}},createDevice(f,p,_,x){var S=ue.join2(typeof f=="string"?f:C.getPath(f),p),I=bo(!!_,!!x);C.createDevice.major||(C.createDevice.major=64);var X=C.makedev(C.createDevice.major++,0);return C.registerDevice(X,{open(se){se.seekable=!1},close(se){x?.buffer?.length&&x(10)},read(se,Me,Ve,Ze,it){for(var Ae=0,Se=0;Se<Ze;Se++){var Ue;try{Ue=_()}catch{throw new C.ErrnoError(29)}if(Ue===void 0&&Ae===0)throw new C.ErrnoError(6);if(Ue==null)break;Ae++,Me[Ve+Se]=Ue}return Ae&&(se.node.timestamp=Date.now()),Ae},write(se,Me,Ve,Ze,it){for(var Ae=0;Ae<Ze;Ae++)try{x(Me[Ve+Ae])}catch{throw new C.ErrnoError(29)}return Ze&&(se.node.timestamp=Date.now()),Ae}}),C.mkdev(S,I,X)},forceLoadFile(f){if(f.isDevice||f.isFolder||f.link||f.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{f.contents=T(f.url),f.usedBytes=f.contents.length}catch{throw new C.ErrnoError(29)}},createLazyFile(f,p,_,x,S){class I{constructor(){this.lengthKnown=!1,this.chunks=[]}get(Se){if(!(Se>this.length-1||Se<0)){var Ue=Se%this.chunkSize,ce=Se/this.chunkSize|0;return this.getter(ce)[Ue]}}setDataGetter(Se){this.getter=Se}cacheLength(){var Se=new XMLHttpRequest;if(Se.open("HEAD",_,!1),Se.send(null),!(Se.status>=200&&Se.status<300||Se.status===304))throw new Error("Couldn't load "+_+". Status: "+Se.status);var Ue=Number(Se.getResponseHeader("Content-length")),ce,ge=(ce=Se.getResponseHeader("Accept-Ranges"))&&ce==="bytes",_e=(ce=Se.getResponseHeader("Content-Encoding"))&&ce==="gzip",We=1024*1024;ge||(We=Ue);var Be=($e,bt)=>{if($e>bt)throw new Error("invalid range ("+$e+", "+bt+") or no bytes requested!");if(bt>Ue-1)throw new Error("only "+Ue+" bytes available! programmer error!");var F=new XMLHttpRequest;if(F.open("GET",_,!1),Ue!==We&&F.setRequestHeader("Range","bytes="+$e+"-"+bt),F.responseType="arraybuffer",F.overrideMimeType&&F.overrideMimeType("text/plain; charset=x-user-defined"),F.send(null),!(F.status>=200&&F.status<300||F.status===304))throw new Error("Couldn't load "+_+". Status: "+F.status);return F.response!==void 0?new Uint8Array(F.response||[]):mn(F.responseText||"")},we=this;we.setDataGetter($e=>{var bt=$e*We,F=($e+1)*We-1;if(F=Math.min(F,Ue-1),typeof we.chunks[$e]>"u"&&(we.chunks[$e]=Be(bt,F)),typeof we.chunks[$e]>"u")throw new Error("doXHR failed!");return we.chunks[$e]}),(_e||!Ue)&&(We=Ue=1,Ue=this.getter(0).length,We=Ue,A("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Ue,this._chunkSize=We,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){if(!d)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var X=new I,se={isDevice:!1,contents:X}}else var se={isDevice:!1,url:_};var Me=C.createFile(f,p,se,x,S);se.contents?Me.contents=se.contents:se.url&&(Me.contents=null,Me.url=se.url),Object.defineProperties(Me,{usedBytes:{get:function(){return this.contents.length}}});var Ve={},Ze=Object.keys(Me.stream_ops);Ze.forEach(Ae=>{var Se=Me.stream_ops[Ae];Ve[Ae]=(...Ue)=>(C.forceLoadFile(Me),Se(...Ue))});function it(Ae,Se,Ue,ce,ge){var _e=Ae.node.contents;if(ge>=_e.length)return 0;var We=Math.min(_e.length-ge,ce);if(_e.slice)for(var Be=0;Be<We;Be++)Se[Ue+Be]=_e[ge+Be];else for(var Be=0;Be<We;Be++)Se[Ue+Be]=_e.get(ge+Be);return We}return Ve.read=(Ae,Se,Ue,ce,ge)=>(C.forceLoadFile(Me),it(Ae,Se,Ue,ce,ge)),Ve.mmap=(Ae,Se,Ue,ce,ge)=>{C.forceLoadFile(Me);var _e=Ir(Se);if(!_e)throw new C.ErrnoError(48);return it(Ae,J,_e,Se,Ue),{ptr:_e,allocated:!0}},Me.stream_ops=Ve,Me}},jp=(f,p)=>f?Fe(W,f,p):"",on={DEFAULT_POLLMASK:5,calculateAt(f,p,_){if(ue.isAbs(p))return p;var x;if(f===-100)x=C.cwd();else{var S=on.getStreamFromFD(f);x=S.path}if(p.length==0){if(!_)throw new C.ErrnoError(44);return x}return ue.join2(x,p)},doStat(f,p,_){var x=f(p);re[_>>2]=x.dev,re[_+4>>2]=x.mode,H[_+8>>2]=x.nlink,re[_+12>>2]=x.uid,re[_+16>>2]=x.gid,re[_+20>>2]=x.rdev,te[_+24>>3]=BigInt(x.size),re[_+32>>2]=4096,re[_+36>>2]=x.blocks;var S=x.atime.getTime(),I=x.mtime.getTime(),X=x.ctime.getTime();return te[_+40>>3]=BigInt(Math.floor(S/1e3)),H[_+48>>2]=S%1e3*1e3*1e3,te[_+56>>3]=BigInt(Math.floor(I/1e3)),H[_+64>>2]=I%1e3*1e3*1e3,te[_+72>>3]=BigInt(Math.floor(X/1e3)),H[_+80>>2]=X%1e3*1e3*1e3,te[_+88>>3]=BigInt(x.ino),0},doMsync(f,p,_,x,S){if(!C.isFile(p.node.mode))throw new C.ErrnoError(43);if(x&2)return 0;var I=W.slice(f,f+_);C.msync(p,I,S,_,x)},getStreamFromFD(f){var p=C.getStreamChecked(f);return p},varargs:void 0,getStr(f){var p=jp(f);return p}};function Pp(f,p){try{return f=on.getStr(f),C.chmod(f,p),0}catch(_){if(typeof C>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function Fp(f,p,_,x){try{if(p=on.getStr(p),p=on.calculateAt(f,p),_&-8)return-28;var S=C.lookupPath(p,{follow:!0}),I=S.node;if(!I)return-44;var X="";return _&4&&(X+="r"),_&2&&(X+="w"),_&1&&(X+="x"),X&&C.nodePermissions(I,X)?-2:0}catch(se){if(typeof C>"u"||se.name!=="ErrnoError")throw se;return-se.errno}}function Lp(f,p){try{return C.fchmod(f,p),0}catch(_){if(typeof C>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function cd(f,p,_){try{return C.fchown(f,p,_),0}catch(x){if(typeof C>"u"||x.name!=="ErrnoError")throw x;return-x.errno}}function Il(){var f=re[+on.varargs>>2];return on.varargs+=4,f}var xs=Il;function ud(f,p,_){on.varargs=_;try{var x=on.getStreamFromFD(f);switch(p){case 0:{var S=Il();if(S<0)return-28;for(;C.streams[S];)S++;var I;return I=C.dupStream(x,S),I.fd}case 1:case 2:return 0;case 3:return x.flags;case 4:{var S=Il();return x.flags|=S,0}case 12:{var S=xs(),X=0;return G[S+X>>1]=2,0}case 13:case 14:return 0}return-28}catch(se){if(typeof C>"u"||se.name!=="ErrnoError")throw se;return-se.errno}}function Ol(f,p){try{var _=on.getStreamFromFD(f);return on.doStat(C.stat,_.path,p)}catch(x){if(typeof C>"u"||x.name!=="ErrnoError")throw x;return-x.errno}}var Ly=0x20000000000000,Tl=-0x20000000000000,_o=f=>f<Tl||f>Ly?NaN:Number(f);function Ic(f,p){p=_o(p);try{return isNaN(p)?61:(C.ftruncate(f,p),0)}catch(_){if(typeof C>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}var xo=(f,p,_)=>zt(f,W,p,_);function Dy(f,p){try{if(p===0)return-28;var _=C.cwd(),x=Vt(_)+1;return p<x?-68:(xo(_,f,p),x)}catch(S){if(typeof C>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}function My(f,p,_){on.varargs=_;try{var x=on.getStreamFromFD(f);switch(p){case 21509:return x.tty?0:-59;case 21505:{if(!x.tty)return-59;if(x.tty.ops.ioctl_tcgets){var S=x.tty.ops.ioctl_tcgets(x),I=xs();re[I>>2]=S.c_iflag||0,re[I+4>>2]=S.c_oflag||0,re[I+8>>2]=S.c_cflag||0,re[I+12>>2]=S.c_lflag||0;for(var X=0;X<32;X++)J[I+X+17]=S.c_cc[X]||0;return 0}return 0}case 21510:case 21511:case 21512:return x.tty?0:-59;case 21506:case 21507:case 21508:{if(!x.tty)return-59;if(x.tty.ops.ioctl_tcsets){for(var I=xs(),se=re[I>>2],Me=re[I+4>>2],Ve=re[I+8>>2],Ze=re[I+12>>2],it=[],X=0;X<32;X++)it.push(J[I+X+17]);return x.tty.ops.ioctl_tcsets(x.tty,p,{c_iflag:se,c_oflag:Me,c_cflag:Ve,c_lflag:Ze,c_cc:it})}return 0}case 21519:{if(!x.tty)return-59;var I=xs();return re[I>>2]=0,0}case 21520:return x.tty?-28:-59;case 21531:{var I=xs();return C.ioctl(x,p,I)}case 21523:{if(!x.tty)return-59;if(x.tty.ops.ioctl_tiocgwinsz){var Ae=x.tty.ops.ioctl_tiocgwinsz(x.tty),I=xs();G[I>>1]=Ae[0],G[I+2>>1]=Ae[1]}return 0}case 21524:return x.tty?0:-59;case 21515:return x.tty?0:-59;default:return-28}}catch(Se){if(typeof C>"u"||Se.name!=="ErrnoError")throw Se;return-Se.errno}}function $y(f,p){try{return f=on.getStr(f),on.doStat(C.lstat,f,p)}catch(_){if(typeof C>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function Vo(f,p,_){try{return p=on.getStr(p),p=on.calculateAt(f,p),p=ue.normalize(p),p[p.length-1]==="/"&&(p=p.substr(0,p.length-1)),C.mkdir(p,_,0),0}catch(x){if(typeof C>"u"||x.name!=="ErrnoError")throw x;return-x.errno}}function Dp(f,p,_,x){try{p=on.getStr(p);var S=x&256,I=x&4096;return x=x&-6401,p=on.calculateAt(f,p,I),on.doStat(S?C.lstat:C.stat,p,_)}catch(X){if(typeof C>"u"||X.name!=="ErrnoError")throw X;return-X.errno}}function Mp(f,p,_,x){on.varargs=x;try{p=on.getStr(p),p=on.calculateAt(f,p);var S=x?Il():0;return C.open(p,_,S).fd}catch(I){if(typeof C>"u"||I.name!=="ErrnoError")throw I;return-I.errno}}function By(f,p,_,x){try{if(p=on.getStr(p),p=on.calculateAt(f,p),x<=0)return-28;var S=C.readlink(p),I=Math.min(x,Vt(S)),X=J[_+I];return xo(S,_,x+1),J[_+I]=X,I}catch(se){if(typeof C>"u"||se.name!=="ErrnoError")throw se;return-se.errno}}function $p(f){try{return f=on.getStr(f),C.rmdir(f),0}catch(p){if(typeof C>"u"||p.name!=="ErrnoError")throw p;return-p.errno}}function Bp(f,p){try{return f=on.getStr(f),on.doStat(C.stat,f,p)}catch(_){if(typeof C>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function Wp(f,p,_){try{return p=on.getStr(p),p=on.calculateAt(f,p),_===0?C.unlink(p):_===512?C.rmdir(p):pt("Invalid flags passed to unlinkat"),0}catch(x){if(typeof C>"u"||x.name!=="ErrnoError")throw x;return-x.errno}}var dd=f=>H[f>>2]+re[f+4>>2]*0x100000000;function Wy(f,p,_,x){try{p=on.getStr(p),p=on.calculateAt(f,p,!0);var S=Date.now(),I,X;if(!_)I=S,X=S;else{var se=dd(_),Me=re[_+8>>2];Me==0x3fffffff?I=S:Me==0x3ffffffe?I=-1:I=se*1e3+Me/(1e3*1e3),_+=16,se=dd(_),Me=re[_+8>>2],Me==0x3fffffff?X=S:Me==0x3ffffffe?X=-1:X=se*1e3+Me/(1e3*1e3)}return(X!=-1||I!=-1)&&C.utime(p,I,X),0}catch(Ve){if(typeof C>"u"||Ve.name!=="ErrnoError")throw Ve;return-Ve.errno}}var zy=1,dr=()=>zy,Uy=f=>f%4===0&&(f%100!==0||f%400===0),fd=[0,31,60,91,121,152,182,213,244,274,305,335],zp=[0,31,59,90,120,151,181,212,243,273,304,334],Oc=f=>{var p=Uy(f.getFullYear()),_=p?fd:zp,x=_[f.getMonth()]+f.getDate()-1;return x};function Vy(f,p){f=_o(f);var _=new Date(f*1e3);re[p>>2]=_.getSeconds(),re[p+4>>2]=_.getMinutes(),re[p+8>>2]=_.getHours(),re[p+12>>2]=_.getDate(),re[p+16>>2]=_.getMonth(),re[p+20>>2]=_.getFullYear()-1900,re[p+24>>2]=_.getDay();var x=Oc(_)|0;re[p+28>>2]=x,re[p+36>>2]=-(_.getTimezoneOffset()*60);var S=new Date(_.getFullYear(),0,1),I=new Date(_.getFullYear(),6,1).getTimezoneOffset(),X=S.getTimezoneOffset(),se=(I!=X&&_.getTimezoneOffset()==Math.min(X,I))|0;re[p+32>>2]=se}function Up(f,p,_,x,S,I,X){S=_o(S);try{if(isNaN(S))return 61;var se=on.getStreamFromFD(x),Me=C.mmap(se,f,S,p,_),Ve=Me.ptr;return re[I>>2]=Me.allocated,H[X>>2]=Ve,0}catch(Ze){if(typeof C>"u"||Ze.name!=="ErrnoError")throw Ze;return-Ze.errno}}function Tc(f,p,_,x,S,I){I=_o(I);try{var X=on.getStreamFromFD(S);_&2&&on.doMsync(f,X,p,x,I)}catch(se){if(typeof C>"u"||se.name!=="ErrnoError")throw se;return-se.errno}}var ws=(f,p,_,x)=>{var S=new Date().getFullYear(),I=new Date(S,0,1),X=new Date(S,6,1),se=I.getTimezoneOffset(),Me=X.getTimezoneOffset(),Ve=Math.max(se,Me);H[f>>2]=Ve*60,re[p>>2]=+(se!=Me);var Ze=Se=>{var Ue=Se>=0?"-":"+",ce=Math.abs(Se),ge=String(Math.floor(ce/60)).padStart(2,"0"),_e=String(ce%60).padStart(2,"0");return`UTC${Ue}${ge}${_e}`},it=Ze(se),Ae=Ze(Me);Me<se?(xo(it,_,17),xo(Ae,x,17)):(xo(it,x,17),xo(Ae,_,17))},Hy=()=>Date.now(),Ci;Ci=()=>performance.now();var Qy=()=>0x80000000,Ky=f=>{var p=B.buffer,_=(f-p.byteLength+65535)/65536;try{return B.grow(_),$(),1}catch{}},Gy=f=>{var p=W.length;f>>>=0;var _=Qy();if(f>_)return!1;for(var x=1;x<=4;x*=2){var S=p*(1+.2/x);S=Math.min(S,f+0x6000000);var I=Math.min(_,Ji(Math.max(f,S),65536)),X=Ky(I);if(X)return!0}return!1},Sa={},qc=()=>b||"./this.program",zs=()=>{if(!zs.strings){var f=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",p={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:f,_:qc()};for(var _ in Sa)Sa[_]===void 0?delete p[_]:p[_]=Sa[_];var x=[];for(var _ in p)x.push(`${_}=${p[_]}`);zs.strings=x}return zs.strings},Cc=(f,p)=>{for(var _=0;_<f.length;++_)J[p++]=f.charCodeAt(_);J[p]=0},Jy=(f,p)=>{var _=0;return zs().forEach((x,S)=>{var I=p+_;H[f+S*4>>2]=I,Cc(x,I),_+=x.length+1}),0},Zy=(f,p)=>{var _=zs();H[f>>2]=_.length;var x=0;return _.forEach(S=>x+=S.length+1),H[p>>2]=x,0};function pd(f){try{var p=on.getStreamFromFD(f);return C.close(p),0}catch(_){if(typeof C>"u"||_.name!=="ErrnoError")throw _;return _.errno}}function Vp(f,p){try{var _=0,x=0,S=0,I=on.getStreamFromFD(f),X=I.tty?2:C.isDir(I.mode)?3:C.isLink(I.mode)?7:4;return J[p]=X,G[p+2>>1]=S,te[p+8>>3]=BigInt(_),te[p+16>>3]=BigInt(x),0}catch(se){if(typeof C>"u"||se.name!=="ErrnoError")throw se;return se.errno}}var hd=(f,p,_,x)=>{for(var S=0,I=0;I<_;I++){var X=H[p>>2],se=H[p+4>>2];p+=8;var Me=C.read(f,J,X,se,x);if(Me<0)return-1;if(S+=Me,Me<se)break}return S};function ql(f,p,_,x){try{var S=on.getStreamFromFD(f),I=hd(S,p,_);return H[x>>2]=I,0}catch(X){if(typeof C>"u"||X.name!=="ErrnoError")throw X;return X.errno}}function Yy(f,p,_,x){p=_o(p);try{if(isNaN(p))return 61;var S=on.getStreamFromFD(f);return C.llseek(S,p,_),te[x>>3]=BigInt(S.position),S.getdents&&p===0&&_===0&&(S.getdents=null),0}catch(I){if(typeof C>"u"||I.name!=="ErrnoError")throw I;return I.errno}}function md(f){try{var p=on.getStreamFromFD(f);return p.stream_ops?.fsync?p.stream_ops.fsync(p):0}catch(_){if(typeof C>"u"||_.name!=="ErrnoError")throw _;return _.errno}}var On=(f,p,_,x)=>{for(var S=0,I=0;I<_;I++){var X=H[p>>2],se=H[p+4>>2];p+=8;var Me=C.write(f,J,X,se,x);if(Me<0)return-1;if(S+=Me,Me<se)break}return S};function Hp(f,p,_,x){try{var S=on.getStreamFromFD(f),I=On(S,p,_);return H[x>>2]=I,0}catch(X){if(typeof C>"u"||X.name!=="ErrnoError")throw X;return X.errno}}C.createPreloadedFile=Nl,C.staticInit();var gd={__syscall_chmod:Pp,__syscall_faccessat:Fp,__syscall_fchmod:Lp,__syscall_fchown32:cd,__syscall_fcntl64:ud,__syscall_fstat64:Ol,__syscall_ftruncate64:Ic,__syscall_getcwd:Dy,__syscall_ioctl:My,__syscall_lstat64:$y,__syscall_mkdirat:Vo,__syscall_newfstatat:Dp,__syscall_openat:Mp,__syscall_readlinkat:By,__syscall_rmdir:$p,__syscall_stat64:Bp,__syscall_unlinkat:Wp,__syscall_utimensat:Wy,_emscripten_get_now_is_monotonic:dr,_localtime_js:Vy,_mmap_js:Up,_munmap_js:Tc,_tzset_js:ws,emscripten_date_now:Hy,emscripten_get_now:Ci,emscripten_resize_heap:Gy,environ_get:Jy,environ_sizes_get:Zy,fd_close:pd,fd_fdstat_get:Vp,fd_read:ql,fd_seek:Yy,fd_sync:md,fd_write:Hp,memory:B},ie=dn();r._sqlite3_status64=(f,p,_,x)=>(r._sqlite3_status64=ie.sqlite3_status64)(f,p,_,x),r._sqlite3_status=(f,p,_,x)=>(r._sqlite3_status=ie.sqlite3_status)(f,p,_,x),r._sqlite3_db_status=(f,p,_,x,S)=>(r._sqlite3_db_status=ie.sqlite3_db_status)(f,p,_,x,S),r._sqlite3_msize=f=>(r._sqlite3_msize=ie.sqlite3_msize)(f),r._sqlite3_vfs_find=f=>(r._sqlite3_vfs_find=ie.sqlite3_vfs_find)(f),r._sqlite3_initialize=()=>(r._sqlite3_initialize=ie.sqlite3_initialize)(),r._sqlite3_malloc=f=>(r._sqlite3_malloc=ie.sqlite3_malloc)(f),r._sqlite3_free=f=>(r._sqlite3_free=ie.sqlite3_free)(f),r._sqlite3_vfs_register=(f,p)=>(r._sqlite3_vfs_register=ie.sqlite3_vfs_register)(f,p),r._sqlite3_vfs_unregister=f=>(r._sqlite3_vfs_unregister=ie.sqlite3_vfs_unregister)(f),r._sqlite3_malloc64=f=>(r._sqlite3_malloc64=ie.sqlite3_malloc64)(f),r._sqlite3_realloc=(f,p)=>(r._sqlite3_realloc=ie.sqlite3_realloc)(f,p),r._sqlite3_realloc64=(f,p)=>(r._sqlite3_realloc64=ie.sqlite3_realloc64)(f,p),r._sqlite3_value_text=f=>(r._sqlite3_value_text=ie.sqlite3_value_text)(f),r._sqlite3_randomness=(f,p)=>(r._sqlite3_randomness=ie.sqlite3_randomness)(f,p),r._sqlite3_stricmp=(f,p)=>(r._sqlite3_stricmp=ie.sqlite3_stricmp)(f,p),r._sqlite3_strnicmp=(f,p,_)=>(r._sqlite3_strnicmp=ie.sqlite3_strnicmp)(f,p,_),r._sqlite3_uri_parameter=(f,p)=>(r._sqlite3_uri_parameter=ie.sqlite3_uri_parameter)(f,p),r._sqlite3_uri_boolean=(f,p,_)=>(r._sqlite3_uri_boolean=ie.sqlite3_uri_boolean)(f,p,_),r._sqlite3_serialize=(f,p,_,x)=>(r._sqlite3_serialize=ie.sqlite3_serialize)(f,p,_,x),r._sqlite3_prepare_v2=(f,p,_,x,S)=>(r._sqlite3_prepare_v2=ie.sqlite3_prepare_v2)(f,p,_,x,S),r._sqlite3_step=f=>(r._sqlite3_step=ie.sqlite3_step)(f),r._sqlite3_column_int64=(f,p)=>(r._sqlite3_column_int64=ie.sqlite3_column_int64)(f,p),r._sqlite3_reset=f=>(r._sqlite3_reset=ie.sqlite3_reset)(f),r._sqlite3_exec=(f,p,_,x,S)=>(r._sqlite3_exec=ie.sqlite3_exec)(f,p,_,x,S),r._sqlite3_column_int=(f,p)=>(r._sqlite3_column_int=ie.sqlite3_column_int)(f,p),r._sqlite3_finalize=f=>(r._sqlite3_finalize=ie.sqlite3_finalize)(f),r._sqlite3_file_control=(f,p,_,x)=>(r._sqlite3_file_control=ie.sqlite3_file_control)(f,p,_,x),r._sqlite3_column_name=(f,p)=>(r._sqlite3_column_name=ie.sqlite3_column_name)(f,p),r._sqlite3_column_text=(f,p)=>(r._sqlite3_column_text=ie.sqlite3_column_text)(f,p),r._sqlite3_column_type=(f,p)=>(r._sqlite3_column_type=ie.sqlite3_column_type)(f,p),r._sqlite3_errmsg=f=>(r._sqlite3_errmsg=ie.sqlite3_errmsg)(f),r._sqlite3_deserialize=(f,p,_,x,S,I)=>(r._sqlite3_deserialize=ie.sqlite3_deserialize)(f,p,_,x,S,I),r._sqlite3_clear_bindings=f=>(r._sqlite3_clear_bindings=ie.sqlite3_clear_bindings)(f),r._sqlite3_value_blob=f=>(r._sqlite3_value_blob=ie.sqlite3_value_blob)(f),r._sqlite3_value_bytes=f=>(r._sqlite3_value_bytes=ie.sqlite3_value_bytes)(f),r._sqlite3_value_double=f=>(r._sqlite3_value_double=ie.sqlite3_value_double)(f),r._sqlite3_value_int=f=>(r._sqlite3_value_int=ie.sqlite3_value_int)(f),r._sqlite3_value_int64=f=>(r._sqlite3_value_int64=ie.sqlite3_value_int64)(f),r._sqlite3_value_subtype=f=>(r._sqlite3_value_subtype=ie.sqlite3_value_subtype)(f),r._sqlite3_value_pointer=(f,p)=>(r._sqlite3_value_pointer=ie.sqlite3_value_pointer)(f,p),r._sqlite3_value_type=f=>(r._sqlite3_value_type=ie.sqlite3_value_type)(f),r._sqlite3_value_nochange=f=>(r._sqlite3_value_nochange=ie.sqlite3_value_nochange)(f),r._sqlite3_value_frombind=f=>(r._sqlite3_value_frombind=ie.sqlite3_value_frombind)(f),r._sqlite3_value_dup=f=>(r._sqlite3_value_dup=ie.sqlite3_value_dup)(f),r._sqlite3_value_free=f=>(r._sqlite3_value_free=ie.sqlite3_value_free)(f),r._sqlite3_result_blob=(f,p,_,x)=>(r._sqlite3_result_blob=ie.sqlite3_result_blob)(f,p,_,x),r._sqlite3_result_error_toobig=f=>(r._sqlite3_result_error_toobig=ie.sqlite3_result_error_toobig)(f),r._sqlite3_result_error_nomem=f=>(r._sqlite3_result_error_nomem=ie.sqlite3_result_error_nomem)(f),r._sqlite3_result_double=(f,p)=>(r._sqlite3_result_double=ie.sqlite3_result_double)(f,p),r._sqlite3_result_error=(f,p,_)=>(r._sqlite3_result_error=ie.sqlite3_result_error)(f,p,_),r._sqlite3_result_int=(f,p)=>(r._sqlite3_result_int=ie.sqlite3_result_int)(f,p),r._sqlite3_result_int64=(f,p)=>(r._sqlite3_result_int64=ie.sqlite3_result_int64)(f,p),r._sqlite3_result_null=f=>(r._sqlite3_result_null=ie.sqlite3_result_null)(f),r._sqlite3_result_pointer=(f,p,_,x)=>(r._sqlite3_result_pointer=ie.sqlite3_result_pointer)(f,p,_,x),r._sqlite3_result_subtype=(f,p)=>(r._sqlite3_result_subtype=ie.sqlite3_result_subtype)(f,p),r._sqlite3_result_text=(f,p,_,x)=>(r._sqlite3_result_text=ie.sqlite3_result_text)(f,p,_,x),r._sqlite3_result_zeroblob=(f,p)=>(r._sqlite3_result_zeroblob=ie.sqlite3_result_zeroblob)(f,p),r._sqlite3_result_zeroblob64=(f,p)=>(r._sqlite3_result_zeroblob64=ie.sqlite3_result_zeroblob64)(f,p),r._sqlite3_result_error_code=(f,p)=>(r._sqlite3_result_error_code=ie.sqlite3_result_error_code)(f,p),r._sqlite3_user_data=f=>(r._sqlite3_user_data=ie.sqlite3_user_data)(f),r._sqlite3_context_db_handle=f=>(r._sqlite3_context_db_handle=ie.sqlite3_context_db_handle)(f),r._sqlite3_vtab_nochange=f=>(r._sqlite3_vtab_nochange=ie.sqlite3_vtab_nochange)(f),r._sqlite3_vtab_in_first=(f,p)=>(r._sqlite3_vtab_in_first=ie.sqlite3_vtab_in_first)(f,p),r._sqlite3_vtab_in_next=(f,p)=>(r._sqlite3_vtab_in_next=ie.sqlite3_vtab_in_next)(f,p),r._sqlite3_aggregate_context=(f,p)=>(r._sqlite3_aggregate_context=ie.sqlite3_aggregate_context)(f,p),r._sqlite3_get_auxdata=(f,p)=>(r._sqlite3_get_auxdata=ie.sqlite3_get_auxdata)(f,p),r._sqlite3_set_auxdata=(f,p,_,x)=>(r._sqlite3_set_auxdata=ie.sqlite3_set_auxdata)(f,p,_,x),r._sqlite3_column_count=f=>(r._sqlite3_column_count=ie.sqlite3_column_count)(f),r._sqlite3_data_count=f=>(r._sqlite3_data_count=ie.sqlite3_data_count)(f),r._sqlite3_column_blob=(f,p)=>(r._sqlite3_column_blob=ie.sqlite3_column_blob)(f,p),r._sqlite3_column_bytes=(f,p)=>(r._sqlite3_column_bytes=ie.sqlite3_column_bytes)(f,p),r._sqlite3_column_double=(f,p)=>(r._sqlite3_column_double=ie.sqlite3_column_double)(f,p),r._sqlite3_column_value=(f,p)=>(r._sqlite3_column_value=ie.sqlite3_column_value)(f,p),r._sqlite3_column_decltype=(f,p)=>(r._sqlite3_column_decltype=ie.sqlite3_column_decltype)(f,p),r._sqlite3_bind_blob=(f,p,_,x,S)=>(r._sqlite3_bind_blob=ie.sqlite3_bind_blob)(f,p,_,x,S),r._sqlite3_bind_double=(f,p,_)=>(r._sqlite3_bind_double=ie.sqlite3_bind_double)(f,p,_),r._sqlite3_bind_int=(f,p,_)=>(r._sqlite3_bind_int=ie.sqlite3_bind_int)(f,p,_),r._sqlite3_bind_int64=(f,p,_)=>(r._sqlite3_bind_int64=ie.sqlite3_bind_int64)(f,p,_),r._sqlite3_bind_null=(f,p)=>(r._sqlite3_bind_null=ie.sqlite3_bind_null)(f,p),r._sqlite3_bind_pointer=(f,p,_,x,S)=>(r._sqlite3_bind_pointer=ie.sqlite3_bind_pointer)(f,p,_,x,S),r._sqlite3_bind_text=(f,p,_,x,S)=>(r._sqlite3_bind_text=ie.sqlite3_bind_text)(f,p,_,x,S),r._sqlite3_bind_parameter_count=f=>(r._sqlite3_bind_parameter_count=ie.sqlite3_bind_parameter_count)(f),r._sqlite3_bind_parameter_name=(f,p)=>(r._sqlite3_bind_parameter_name=ie.sqlite3_bind_parameter_name)(f,p),r._sqlite3_bind_parameter_index=(f,p)=>(r._sqlite3_bind_parameter_index=ie.sqlite3_bind_parameter_index)(f,p),r._sqlite3_db_handle=f=>(r._sqlite3_db_handle=ie.sqlite3_db_handle)(f),r._sqlite3_stmt_readonly=f=>(r._sqlite3_stmt_readonly=ie.sqlite3_stmt_readonly)(f),r._sqlite3_stmt_isexplain=f=>(r._sqlite3_stmt_isexplain=ie.sqlite3_stmt_isexplain)(f),r._sqlite3_stmt_explain=(f,p)=>(r._sqlite3_stmt_explain=ie.sqlite3_stmt_explain)(f,p),r._sqlite3_stmt_busy=f=>(r._sqlite3_stmt_busy=ie.sqlite3_stmt_busy)(f),r._sqlite3_stmt_status=(f,p,_)=>(r._sqlite3_stmt_status=ie.sqlite3_stmt_status)(f,p,_),r._sqlite3_sql=f=>(r._sqlite3_sql=ie.sqlite3_sql)(f),r._sqlite3_expanded_sql=f=>(r._sqlite3_expanded_sql=ie.sqlite3_expanded_sql)(f),r._sqlite3_preupdate_old=(f,p,_)=>(r._sqlite3_preupdate_old=ie.sqlite3_preupdate_old)(f,p,_),r._sqlite3_preupdate_count=f=>(r._sqlite3_preupdate_count=ie.sqlite3_preupdate_count)(f),r._sqlite3_preupdate_depth=f=>(r._sqlite3_preupdate_depth=ie.sqlite3_preupdate_depth)(f),r._sqlite3_preupdate_blobwrite=f=>(r._sqlite3_preupdate_blobwrite=ie.sqlite3_preupdate_blobwrite)(f),r._sqlite3_preupdate_new=(f,p,_)=>(r._sqlite3_preupdate_new=ie.sqlite3_preupdate_new)(f,p,_),r._sqlite3_value_numeric_type=f=>(r._sqlite3_value_numeric_type=ie.sqlite3_value_numeric_type)(f),r._sqlite3_set_authorizer=(f,p,_)=>(r._sqlite3_set_authorizer=ie.sqlite3_set_authorizer)(f,p,_),r._sqlite3_strglob=(f,p)=>(r._sqlite3_strglob=ie.sqlite3_strglob)(f,p),r._sqlite3_strlike=(f,p,_)=>(r._sqlite3_strlike=ie.sqlite3_strlike)(f,p,_),r._sqlite3_auto_extension=f=>(r._sqlite3_auto_extension=ie.sqlite3_auto_extension)(f),r._sqlite3_cancel_auto_extension=f=>(r._sqlite3_cancel_auto_extension=ie.sqlite3_cancel_auto_extension)(f),r._sqlite3_reset_auto_extension=()=>(r._sqlite3_reset_auto_extension=ie.sqlite3_reset_auto_extension)(),r._sqlite3_prepare_v3=(f,p,_,x,S,I)=>(r._sqlite3_prepare_v3=ie.sqlite3_prepare_v3)(f,p,_,x,S,I),r._sqlite3_create_module=(f,p,_,x)=>(r._sqlite3_create_module=ie.sqlite3_create_module)(f,p,_,x),r._sqlite3_create_module_v2=(f,p,_,x,S)=>(r._sqlite3_create_module_v2=ie.sqlite3_create_module_v2)(f,p,_,x,S),r._sqlite3_drop_modules=(f,p)=>(r._sqlite3_drop_modules=ie.sqlite3_drop_modules)(f,p),r._sqlite3_declare_vtab=(f,p)=>(r._sqlite3_declare_vtab=ie.sqlite3_declare_vtab)(f,p),r._sqlite3_vtab_on_conflict=f=>(r._sqlite3_vtab_on_conflict=ie.sqlite3_vtab_on_conflict)(f),r._sqlite3_vtab_collation=(f,p)=>(r._sqlite3_vtab_collation=ie.sqlite3_vtab_collation)(f,p),r._sqlite3_vtab_in=(f,p,_)=>(r._sqlite3_vtab_in=ie.sqlite3_vtab_in)(f,p,_),r._sqlite3_vtab_rhs_value=(f,p,_)=>(r._sqlite3_vtab_rhs_value=ie.sqlite3_vtab_rhs_value)(f,p,_),r._sqlite3_vtab_distinct=f=>(r._sqlite3_vtab_distinct=ie.sqlite3_vtab_distinct)(f),r._sqlite3_keyword_name=(f,p,_)=>(r._sqlite3_keyword_name=ie.sqlite3_keyword_name)(f,p,_),r._sqlite3_keyword_count=()=>(r._sqlite3_keyword_count=ie.sqlite3_keyword_count)(),r._sqlite3_keyword_check=(f,p)=>(r._sqlite3_keyword_check=ie.sqlite3_keyword_check)(f,p),r._sqlite3_complete=f=>(r._sqlite3_complete=ie.sqlite3_complete)(f),r._sqlite3_libversion=()=>(r._sqlite3_libversion=ie.sqlite3_libversion)(),r._sqlite3_libversion_number=()=>(r._sqlite3_libversion_number=ie.sqlite3_libversion_number)(),r._sqlite3_shutdown=()=>(r._sqlite3_shutdown=ie.sqlite3_shutdown)(),r._sqlite3_last_insert_rowid=f=>(r._sqlite3_last_insert_rowid=ie.sqlite3_last_insert_rowid)(f),r._sqlite3_set_last_insert_rowid=(f,p)=>(r._sqlite3_set_last_insert_rowid=ie.sqlite3_set_last_insert_rowid)(f,p),r._sqlite3_changes64=f=>(r._sqlite3_changes64=ie.sqlite3_changes64)(f),r._sqlite3_changes=f=>(r._sqlite3_changes=ie.sqlite3_changes)(f),r._sqlite3_total_changes64=f=>(r._sqlite3_total_changes64=ie.sqlite3_total_changes64)(f),r._sqlite3_total_changes=f=>(r._sqlite3_total_changes=ie.sqlite3_total_changes)(f),r._sqlite3_txn_state=(f,p)=>(r._sqlite3_txn_state=ie.sqlite3_txn_state)(f,p),r._sqlite3_close_v2=f=>(r._sqlite3_close_v2=ie.sqlite3_close_v2)(f),r._sqlite3_busy_handler=(f,p,_)=>(r._sqlite3_busy_handler=ie.sqlite3_busy_handler)(f,p,_),r._sqlite3_progress_handler=(f,p,_,x)=>(r._sqlite3_progress_handler=ie.sqlite3_progress_handler)(f,p,_,x),r._sqlite3_busy_timeout=(f,p)=>(r._sqlite3_busy_timeout=ie.sqlite3_busy_timeout)(f,p),r._sqlite3_interrupt=f=>(r._sqlite3_interrupt=ie.sqlite3_interrupt)(f),r._sqlite3_is_interrupted=f=>(r._sqlite3_is_interrupted=ie.sqlite3_is_interrupted)(f),r._sqlite3_create_function=(f,p,_,x,S,I,X,se)=>(r._sqlite3_create_function=ie.sqlite3_create_function)(f,p,_,x,S,I,X,se),r._sqlite3_create_function_v2=(f,p,_,x,S,I,X,se,Me)=>(r._sqlite3_create_function_v2=ie.sqlite3_create_function_v2)(f,p,_,x,S,I,X,se,Me),r._sqlite3_create_window_function=(f,p,_,x,S,I,X,se,Me,Ve)=>(r._sqlite3_create_window_function=ie.sqlite3_create_window_function)(f,p,_,x,S,I,X,se,Me,Ve),r._sqlite3_overload_function=(f,p,_)=>(r._sqlite3_overload_function=ie.sqlite3_overload_function)(f,p,_),r._sqlite3_trace_v2=(f,p,_,x)=>(r._sqlite3_trace_v2=ie.sqlite3_trace_v2)(f,p,_,x),r._sqlite3_commit_hook=(f,p,_)=>(r._sqlite3_commit_hook=ie.sqlite3_commit_hook)(f,p,_),r._sqlite3_update_hook=(f,p,_)=>(r._sqlite3_update_hook=ie.sqlite3_update_hook)(f,p,_),r._sqlite3_rollback_hook=(f,p,_)=>(r._sqlite3_rollback_hook=ie.sqlite3_rollback_hook)(f,p,_),r._sqlite3_preupdate_hook=(f,p,_)=>(r._sqlite3_preupdate_hook=ie.sqlite3_preupdate_hook)(f,p,_),r._sqlite3_error_offset=f=>(r._sqlite3_error_offset=ie.sqlite3_error_offset)(f),r._sqlite3_errcode=f=>(r._sqlite3_errcode=ie.sqlite3_errcode)(f),r._sqlite3_extended_errcode=f=>(r._sqlite3_extended_errcode=ie.sqlite3_extended_errcode)(f),r._sqlite3_errstr=f=>(r._sqlite3_errstr=ie.sqlite3_errstr)(f),r._sqlite3_limit=(f,p,_)=>(r._sqlite3_limit=ie.sqlite3_limit)(f,p,_),r._sqlite3_open=(f,p)=>(r._sqlite3_open=ie.sqlite3_open)(f,p),r._sqlite3_open_v2=(f,p,_,x)=>(r._sqlite3_open_v2=ie.sqlite3_open_v2)(f,p,_,x),r._sqlite3_create_collation=(f,p,_,x,S)=>(r._sqlite3_create_collation=ie.sqlite3_create_collation)(f,p,_,x,S),r._sqlite3_create_collation_v2=(f,p,_,x,S,I)=>(r._sqlite3_create_collation_v2=ie.sqlite3_create_collation_v2)(f,p,_,x,S,I),r._sqlite3_collation_needed=(f,p,_)=>(r._sqlite3_collation_needed=ie.sqlite3_collation_needed)(f,p,_),r._sqlite3_get_autocommit=f=>(r._sqlite3_get_autocommit=ie.sqlite3_get_autocommit)(f),r._sqlite3_table_column_metadata=(f,p,_,x,S,I,X,se,Me)=>(r._sqlite3_table_column_metadata=ie.sqlite3_table_column_metadata)(f,p,_,x,S,I,X,se,Me),r._sqlite3_extended_result_codes=(f,p)=>(r._sqlite3_extended_result_codes=ie.sqlite3_extended_result_codes)(f,p),r._sqlite3_uri_key=(f,p)=>(r._sqlite3_uri_key=ie.sqlite3_uri_key)(f,p),r._sqlite3_uri_int64=(f,p,_)=>(r._sqlite3_uri_int64=ie.sqlite3_uri_int64)(f,p,_),r._sqlite3_db_name=(f,p)=>(r._sqlite3_db_name=ie.sqlite3_db_name)(f,p),r._sqlite3_db_filename=(f,p)=>(r._sqlite3_db_filename=ie.sqlite3_db_filename)(f,p),r._sqlite3_db_readonly=(f,p)=>(r._sqlite3_db_readonly=ie.sqlite3_db_readonly)(f,p),r._sqlite3_compileoption_used=f=>(r._sqlite3_compileoption_used=ie.sqlite3_compileoption_used)(f),r._sqlite3_compileoption_get=f=>(r._sqlite3_compileoption_get=ie.sqlite3_compileoption_get)(f),r._sqlite3session_diff=(f,p,_,x)=>(r._sqlite3session_diff=ie.sqlite3session_diff)(f,p,_,x),r._sqlite3session_attach=(f,p)=>(r._sqlite3session_attach=ie.sqlite3session_attach)(f,p),r._sqlite3session_create=(f,p,_)=>(r._sqlite3session_create=ie.sqlite3session_create)(f,p,_),r._sqlite3session_delete=f=>(r._sqlite3session_delete=ie.sqlite3session_delete)(f),r._sqlite3session_table_filter=(f,p,_)=>(r._sqlite3session_table_filter=ie.sqlite3session_table_filter)(f,p,_),r._sqlite3session_changeset=(f,p,_)=>(r._sqlite3session_changeset=ie.sqlite3session_changeset)(f,p,_),r._sqlite3session_changeset_strm=(f,p,_)=>(r._sqlite3session_changeset_strm=ie.sqlite3session_changeset_strm)(f,p,_),r._sqlite3session_patchset_strm=(f,p,_)=>(r._sqlite3session_patchset_strm=ie.sqlite3session_patchset_strm)(f,p,_),r._sqlite3session_patchset=(f,p,_)=>(r._sqlite3session_patchset=ie.sqlite3session_patchset)(f,p,_),r._sqlite3session_enable=(f,p)=>(r._sqlite3session_enable=ie.sqlite3session_enable)(f,p),r._sqlite3session_indirect=(f,p)=>(r._sqlite3session_indirect=ie.sqlite3session_indirect)(f,p),r._sqlite3session_isempty=f=>(r._sqlite3session_isempty=ie.sqlite3session_isempty)(f),r._sqlite3session_memory_used=f=>(r._sqlite3session_memory_used=ie.sqlite3session_memory_used)(f),r._sqlite3session_object_config=(f,p,_)=>(r._sqlite3session_object_config=ie.sqlite3session_object_config)(f,p,_),r._sqlite3session_changeset_size=f=>(r._sqlite3session_changeset_size=ie.sqlite3session_changeset_size)(f),r._sqlite3changeset_start=(f,p,_)=>(r._sqlite3changeset_start=ie.sqlite3changeset_start)(f,p,_),r._sqlite3changeset_start_v2=(f,p,_,x)=>(r._sqlite3changeset_start_v2=ie.sqlite3changeset_start_v2)(f,p,_,x),r._sqlite3changeset_start_strm=(f,p,_)=>(r._sqlite3changeset_start_strm=ie.sqlite3changeset_start_strm)(f,p,_),r._sqlite3changeset_start_v2_strm=(f,p,_,x)=>(r._sqlite3changeset_start_v2_strm=ie.sqlite3changeset_start_v2_strm)(f,p,_,x),r._sqlite3changeset_next=f=>(r._sqlite3changeset_next=ie.sqlite3changeset_next)(f),r._sqlite3changeset_op=(f,p,_,x,S)=>(r._sqlite3changeset_op=ie.sqlite3changeset_op)(f,p,_,x,S),r._sqlite3changeset_pk=(f,p,_)=>(r._sqlite3changeset_pk=ie.sqlite3changeset_pk)(f,p,_),r._sqlite3changeset_old=(f,p,_)=>(r._sqlite3changeset_old=ie.sqlite3changeset_old)(f,p,_),r._sqlite3changeset_new=(f,p,_)=>(r._sqlite3changeset_new=ie.sqlite3changeset_new)(f,p,_),r._sqlite3changeset_conflict=(f,p,_)=>(r._sqlite3changeset_conflict=ie.sqlite3changeset_conflict)(f,p,_),r._sqlite3changeset_fk_conflicts=(f,p)=>(r._sqlite3changeset_fk_conflicts=ie.sqlite3changeset_fk_conflicts)(f,p),r._sqlite3changeset_finalize=f=>(r._sqlite3changeset_finalize=ie.sqlite3changeset_finalize)(f),r._sqlite3changeset_invert=(f,p,_,x)=>(r._sqlite3changeset_invert=ie.sqlite3changeset_invert)(f,p,_,x),r._sqlite3changeset_invert_strm=(f,p,_,x)=>(r._sqlite3changeset_invert_strm=ie.sqlite3changeset_invert_strm)(f,p,_,x),r._sqlite3changeset_apply_v2=(f,p,_,x,S,I,X,se,Me)=>(r._sqlite3changeset_apply_v2=ie.sqlite3changeset_apply_v2)(f,p,_,x,S,I,X,se,Me),r._sqlite3changeset_apply=(f,p,_,x,S,I)=>(r._sqlite3changeset_apply=ie.sqlite3changeset_apply)(f,p,_,x,S,I),r._sqlite3changeset_apply_v2_strm=(f,p,_,x,S,I,X,se,Me)=>(r._sqlite3changeset_apply_v2_strm=ie.sqlite3changeset_apply_v2_strm)(f,p,_,x,S,I,X,se,Me),r._sqlite3changeset_apply_strm=(f,p,_,x,S,I)=>(r._sqlite3changeset_apply_strm=ie.sqlite3changeset_apply_strm)(f,p,_,x,S,I),r._sqlite3changegroup_new=f=>(r._sqlite3changegroup_new=ie.sqlite3changegroup_new)(f),r._sqlite3changegroup_add=(f,p,_)=>(r._sqlite3changegroup_add=ie.sqlite3changegroup_add)(f,p,_),r._sqlite3changegroup_output=(f,p,_)=>(r._sqlite3changegroup_output=ie.sqlite3changegroup_output)(f,p,_),r._sqlite3changegroup_add_strm=(f,p,_)=>(r._sqlite3changegroup_add_strm=ie.sqlite3changegroup_add_strm)(f,p,_),r._sqlite3changegroup_output_strm=(f,p,_)=>(r._sqlite3changegroup_output_strm=ie.sqlite3changegroup_output_strm)(f,p,_),r._sqlite3changegroup_delete=f=>(r._sqlite3changegroup_delete=ie.sqlite3changegroup_delete)(f),r._sqlite3changeset_concat=(f,p,_,x,S,I)=>(r._sqlite3changeset_concat=ie.sqlite3changeset_concat)(f,p,_,x,S,I),r._sqlite3changeset_concat_strm=(f,p,_,x,S,I)=>(r._sqlite3changeset_concat_strm=ie.sqlite3changeset_concat_strm)(f,p,_,x,S,I),r._sqlite3session_config=(f,p)=>(r._sqlite3session_config=ie.sqlite3session_config)(f,p),r._sqlite3_sourceid=()=>(r._sqlite3_sourceid=ie.sqlite3_sourceid)(),r._sqlite3__wasm_pstack_ptr=()=>(r._sqlite3__wasm_pstack_ptr=ie.sqlite3__wasm_pstack_ptr)(),r._sqlite3__wasm_pstack_restore=f=>(r._sqlite3__wasm_pstack_restore=ie.sqlite3__wasm_pstack_restore)(f),r._sqlite3__wasm_pstack_alloc=f=>(r._sqlite3__wasm_pstack_alloc=ie.sqlite3__wasm_pstack_alloc)(f),r._sqlite3__wasm_pstack_remaining=()=>(r._sqlite3__wasm_pstack_remaining=ie.sqlite3__wasm_pstack_remaining)(),r._sqlite3__wasm_pstack_quota=()=>(r._sqlite3__wasm_pstack_quota=ie.sqlite3__wasm_pstack_quota)(),r._sqlite3__wasm_db_error=(f,p,_)=>(r._sqlite3__wasm_db_error=ie.sqlite3__wasm_db_error)(f,p,_),r._sqlite3__wasm_test_struct=f=>(r._sqlite3__wasm_test_struct=ie.sqlite3__wasm_test_struct)(f),r._sqlite3__wasm_enum_json=()=>(r._sqlite3__wasm_enum_json=ie.sqlite3__wasm_enum_json)(),r._sqlite3__wasm_vfs_unlink=(f,p)=>(r._sqlite3__wasm_vfs_unlink=ie.sqlite3__wasm_vfs_unlink)(f,p),r._sqlite3__wasm_db_vfs=(f,p)=>(r._sqlite3__wasm_db_vfs=ie.sqlite3__wasm_db_vfs)(f,p),r._sqlite3__wasm_db_reset=f=>(r._sqlite3__wasm_db_reset=ie.sqlite3__wasm_db_reset)(f),r._sqlite3__wasm_db_export_chunked=(f,p)=>(r._sqlite3__wasm_db_export_chunked=ie.sqlite3__wasm_db_export_chunked)(f,p),r._sqlite3__wasm_db_serialize=(f,p,_,x,S)=>(r._sqlite3__wasm_db_serialize=ie.sqlite3__wasm_db_serialize)(f,p,_,x,S),r._sqlite3__wasm_vfs_create_file=(f,p,_,x)=>(r._sqlite3__wasm_vfs_create_file=ie.sqlite3__wasm_vfs_create_file)(f,p,_,x),r._sqlite3__wasm_posix_create_file=(f,p,_)=>(r._sqlite3__wasm_posix_create_file=ie.sqlite3__wasm_posix_create_file)(f,p,_),r._sqlite3__wasm_kvvfsMakeKeyOnPstack=(f,p)=>(r._sqlite3__wasm_kvvfsMakeKeyOnPstack=ie.sqlite3__wasm_kvvfsMakeKeyOnPstack)(f,p),r._sqlite3__wasm_kvvfs_methods=()=>(r._sqlite3__wasm_kvvfs_methods=ie.sqlite3__wasm_kvvfs_methods)(),r._sqlite3__wasm_vtab_config=(f,p,_)=>(r._sqlite3__wasm_vtab_config=ie.sqlite3__wasm_vtab_config)(f,p,_),r._sqlite3__wasm_db_config_ip=(f,p,_,x)=>(r._sqlite3__wasm_db_config_ip=ie.sqlite3__wasm_db_config_ip)(f,p,_,x),r._sqlite3__wasm_db_config_pii=(f,p,_,x,S)=>(r._sqlite3__wasm_db_config_pii=ie.sqlite3__wasm_db_config_pii)(f,p,_,x,S),r._sqlite3__wasm_db_config_s=(f,p,_)=>(r._sqlite3__wasm_db_config_s=ie.sqlite3__wasm_db_config_s)(f,p,_),r._sqlite3__wasm_config_i=(f,p)=>(r._sqlite3__wasm_config_i=ie.sqlite3__wasm_config_i)(f,p),r._sqlite3__wasm_config_ii=(f,p,_)=>(r._sqlite3__wasm_config_ii=ie.sqlite3__wasm_config_ii)(f,p,_),r._sqlite3__wasm_config_j=(f,p)=>(r._sqlite3__wasm_config_j=ie.sqlite3__wasm_config_j)(f,p),r._sqlite3__wasm_qfmt_token=(f,p)=>(r._sqlite3__wasm_qfmt_token=ie.sqlite3__wasm_qfmt_token)(f,p),r._sqlite3__wasm_init_wasmfs=f=>(r._sqlite3__wasm_init_wasmfs=ie.sqlite3__wasm_init_wasmfs)(f),r._sqlite3__wasm_test_intptr=f=>(r._sqlite3__wasm_test_intptr=ie.sqlite3__wasm_test_intptr)(f),r._sqlite3__wasm_test_voidptr=f=>(r._sqlite3__wasm_test_voidptr=ie.sqlite3__wasm_test_voidptr)(f),r._sqlite3__wasm_test_int64_max=()=>(r._sqlite3__wasm_test_int64_max=ie.sqlite3__wasm_test_int64_max)(),r._sqlite3__wasm_test_int64_min=()=>(r._sqlite3__wasm_test_int64_min=ie.sqlite3__wasm_test_int64_min)(),r._sqlite3__wasm_test_int64_times2=f=>(r._sqlite3__wasm_test_int64_times2=ie.sqlite3__wasm_test_int64_times2)(f),r._sqlite3__wasm_test_int64_minmax=(f,p)=>(r._sqlite3__wasm_test_int64_minmax=ie.sqlite3__wasm_test_int64_minmax)(f,p),r._sqlite3__wasm_test_int64ptr=f=>(r._sqlite3__wasm_test_int64ptr=ie.sqlite3__wasm_test_int64ptr)(f),r._sqlite3__wasm_test_stack_overflow=f=>(r._sqlite3__wasm_test_stack_overflow=ie.sqlite3__wasm_test_stack_overflow)(f),r._sqlite3__wasm_test_str_hello=f=>(r._sqlite3__wasm_test_str_hello=ie.sqlite3__wasm_test_str_hello)(f),r._sqlite3__wasm_SQLTester_strglob=(f,p)=>(r._sqlite3__wasm_SQLTester_strglob=ie.sqlite3__wasm_SQLTester_strglob)(f,p),r._malloc=f=>(r._malloc=ie.malloc)(f),r._free=f=>(r._free=ie.free)(f),r._realloc=(f,p)=>(r._realloc=ie.realloc)(f,p);var yd=(f,p)=>(yd=ie.emscripten_builtin_memalign)(f,p);r.wasmMemory=B;var Cl;ut=function f(){Cl||vd(),Cl||(ut=f)};function vd(){if(xe>0||(qe(),xe>0))return;function f(){Cl||(Cl=!0,r.calledRun=!0,!Q&&(je(),i(r),r.onRuntimeInitialized?.(),ve()))}r.setStatus?(r.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>r.setStatus(""),1),f()},1)):f()}if(r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return vd(),r.postRun||(r.postRun=[]),r.postRun.push(function(f){if(globalThis.sqlite3ApiBootstrap=function p(_=globalThis.sqlite3ApiConfig||p.defaultConfig){if(p.sqlite3)return(p.sqlite3.config||console).warn("sqlite3ApiBootstrap() called multiple times.","Config and external initializers are ignored on calls after the first."),p.sqlite3;const x=Object.assign(Object.create(null),{exports:void 0,memory:void 0,bigIntEnabled:typeof f<"u"&&f.HEAPU64?!0:!!globalThis.BigInt64Array,debug:console.debug.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),log:console.log.bind(console),wasmfsOpfsDir:"/opfs",useStdAlloc:!1},_||{});Object.assign(x,{allocExportName:x.useStdAlloc?"malloc":"sqlite3_malloc",deallocExportName:x.useStdAlloc?"free":"sqlite3_free",reallocExportName:x.useStdAlloc?"realloc":"sqlite3_realloc"},x),["exports","memory","wasmfsOpfsDir"].forEach(q=>{typeof x[q]=="function"&&(x[q]=x[q]())}),delete globalThis.sqlite3ApiConfig,delete p.defaultConfig;const S=Object.create(null),I=Object.create(null),X=q=>S.sqlite3_js_rc_str&&S.sqlite3_js_rc_str(q)||"Unknown result code #"+q,se=q=>typeof q=="number"&&q===(q|0);class Me extends Error{constructor(...M){let z;if(M.length)if(se(M[0]))if(z=M[0],M.length===1)super(X(M[0]));else{const Te=X(z);typeof M[1]=="object"?super(Te,M[1]):(M[0]=Te+":",super(M.join(" ")))}else M.length===2&&typeof M[1]=="object"?super(...M):super(M.join(" "));this.resultCode=z||S.SQLITE_ERROR,this.name="SQLite3Error"}}Me.toss=(...q)=>{throw new Me(...q)};const Ve=Me.toss;x.wasmfsOpfsDir&&!/^\/[^/]+$/.test(x.wasmfsOpfsDir)&&Ve("config.wasmfsOpfsDir must be falsy or in the form '/dir-name'.");const Ze=q=>typeof q!="bigint"&&q===(q|0)&&q<=0x7fffffff&&q>=-0x80000000,it=function q(M){return q._max||(q._max=BigInt("0x7fffffffffffffff"),q._min=~q._max),M>=q._min&&M<=q._max},Ae=q=>q>=-2147483647n-1n&&q<=2147483647n,Se=function q(M){return q._min||(q._min=Number.MIN_SAFE_INTEGER,q._max=Number.MAX_SAFE_INTEGER),M>=q._min&&M<=q._max},Ue=q=>q&&q.constructor&&Ze(q.constructor.BYTES_PER_ELEMENT)?q:!1,ce=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,ge=q=>q.buffer instanceof ce,_e=(q,M,z)=>ge(q)?q.slice(M,z):q.subarray(M,z),We=q=>q&&(q instanceof Uint8Array||q instanceof Int8Array||q instanceof ArrayBuffer),Be=q=>q&&(q instanceof Uint8Array||q instanceof Int8Array||q instanceof ArrayBuffer),we=q=>We(q)||Ve("Value is not of a supported TypedArray type."),$e=new TextDecoder("utf-8"),bt=function(q,M,z){return $e.decode(_e(q,M,z))},F=function(q){return Be(q)?bt(q instanceof ArrayBuffer?new Uint8Array(q):q):Array.isArray(q)?q.join(""):(I.isPtr(q)&&(q=I.cstrToJs(q)),q)};class Z extends Error{constructor(...M){M.length===2&&typeof M[1]=="object"?super(...M):M.length?super(M.join(" ")):super("Allocation failed."),this.resultCode=S.SQLITE_NOMEM,this.name="WasmAllocError"}}Z.toss=(...q)=>{throw new Z(...q)},Object.assign(S,{sqlite3_bind_blob:void 0,sqlite3_bind_text:void 0,sqlite3_create_function_v2:(q,M,z,Te,Qe,It,Lt,Wt,Ye)=>{},sqlite3_create_function:(q,M,z,Te,Qe,It,Lt,Wt)=>{},sqlite3_create_window_function:(q,M,z,Te,Qe,It,Lt,Wt,Ye,de)=>{},sqlite3_prepare_v3:(q,M,z,Te,Qe,It)=>{},sqlite3_prepare_v2:(q,M,z,Te,Qe)=>{},sqlite3_exec:(q,M,z,Te,Qe)=>{},sqlite3_randomness:(q,M)=>{}});const me={affirmBindableTypedArray:we,flexibleString:F,bigIntFits32:Ae,bigIntFits64:it,bigIntFitsDouble:Se,isBindableTypedArray:We,isInt32:Ze,isSQLableTypedArray:Be,isTypedArray:Ue,typedArrayToString:bt,isUIThread:()=>globalThis.window===globalThis&&!!globalThis.document,isSharedTypedArray:ge,toss:function(...q){throw new Error(q.join(" "))},toss3:Ve,typedArrayPart:_e,affirmDbHeader:function(q){q instanceof ArrayBuffer&&(q=new Uint8Array(q));const M="SQLite format 3";M.length>q.byteLength&&Ve("Input does not contain an SQLite3 database header.");for(let z=0;z<M.length;++z)M.charCodeAt(z)!==q[z]&&Ve("Input does not contain an SQLite3 database header.")},affirmIsDb:function(q){q instanceof ArrayBuffer&&(q=new Uint8Array(q));const M=q.byteLength;(M<512||M%512!==0)&&Ve("Byte array size",M,"is invalid for an SQLite3 db."),me.affirmDbHeader(q)}};Object.assign(I,{ptrSizeof:x.wasmPtrSizeof||4,ptrIR:x.wasmPtrIR||"i32",bigIntEnabled:!!x.bigIntEnabled,exports:x.exports||Ve("Missing API config.exports (WASM module exports)."),memory:x.memory||x.exports.memory||Ve("API config object requires a WebAssembly.Memory object","in either config.exports.memory (exported)","or config.memory (imported)."),alloc:void 0,realloc:void 0,dealloc:void 0}),I.allocFromTypedArray=function(q){q instanceof ArrayBuffer&&(q=new Uint8Array(q)),we(q);const M=I.alloc(q.byteLength||1);return I.heapForSize(q.constructor).set(q.byteLength?q:[0],M),M};{const q=x.allocExportName,M=x.deallocExportName,z=x.reallocExportName;for(const Te of[q,M,z])I.exports[Te]instanceof Function||Ve("Missing required exports[",Te,"] function.");I.alloc=function Te(Qe){return Te.impl(Qe)||Z.toss("Failed to allocate",Qe," bytes.")},I.alloc.impl=I.exports[q],I.realloc=function Te(Qe,It){const Lt=Te.impl(Qe,It);return It?Lt||Z.toss("Failed to reallocate",It," bytes."):0},I.realloc.impl=I.exports[z],I.dealloc=I.exports[M]}I.compileOptionUsed=function q(M){if(arguments.length){if(Array.isArray(M)){const z={};return M.forEach(Te=>{z[Te]=S.sqlite3_compileoption_used(Te)}),z}else if(typeof M=="object")return Object.keys(M).forEach(z=>{M[z]=S.sqlite3_compileoption_used(z)}),M}else{if(q._result)return q._result;q._opt||(q._rx=/^([^=]+)=(.+)/,q._rxInt=/^-?\d+$/,q._opt=function(Lt,Wt){const Ye=q._rx.exec(Lt);Wt[0]=Ye?Ye[1]:Lt,Wt[1]=Ye?q._rxInt.test(Ye[2])?+Ye[2]:Ye[2]:!0});const z={},Te=[0,0];let Qe=0,It;for(;It=S.sqlite3_compileoption_get(Qe++);)q._opt(It,Te),z[Te[0]]=Te[1];return q._result=z}return typeof M=="string"?!!S.sqlite3_compileoption_used(M):!1},I.pstack=Object.assign(Object.create(null),{restore:I.exports.sqlite3__wasm_pstack_restore,alloc:function(q){return typeof q=="string"&&!(q=I.sizeofIR(q))&&Z.toss("Invalid value for pstack.alloc(",arguments[0],")"),I.exports.sqlite3__wasm_pstack_alloc(q)||Z.toss("Could not allocate",q,"bytes from the pstack.")},allocChunks:function(q,M){typeof M=="string"&&!(M=I.sizeofIR(M))&&Z.toss("Invalid size value for allocChunks(",arguments[1],")");const z=I.pstack.alloc(q*M),Te=[];let Qe=0,It=0;for(;Qe<q;++Qe,It+=M)Te.push(z+It);return Te},allocPtr:(q=1,M=!0)=>q===1?I.pstack.alloc(M?8:I.ptrSizeof):I.pstack.allocChunks(q,M?8:I.ptrSizeof),call:function(q){const M=I.pstack.pointer;try{return q(ee)}finally{I.pstack.restore(M)}}}),Object.defineProperties(I.pstack,{pointer:{configurable:!1,iterable:!0,writeable:!1,get:I.exports.sqlite3__wasm_pstack_ptr},quota:{configurable:!1,iterable:!0,writeable:!1,get:I.exports.sqlite3__wasm_pstack_quota},remaining:{configurable:!1,iterable:!0,writeable:!1,get:I.exports.sqlite3__wasm_pstack_remaining}}),S.sqlite3_randomness=(...q)=>{if(q.length===1&&me.isTypedArray(q[0])&&q[0].BYTES_PER_ELEMENT===1){const M=q[0];if(M.byteLength===0)return I.exports.sqlite3_randomness(0,0),M;const z=I.pstack.pointer;try{let Te=M.byteLength,Qe=0;const It=I.exports.sqlite3_randomness,Lt=I.heap8u(),Wt=Te<512?Te:512,Ye=I.pstack.alloc(Wt);do{const de=Te>Wt?Wt:Te;It(de,Ye),M.set(_e(Lt,Ye,Ye+de),Qe),Te-=de,Qe+=de}while(Te>0)}catch(Te){console.error("Highly unexpected (and ignored!) exception in sqlite3_randomness():",Te)}finally{I.pstack.restore(z)}return M}I.exports.sqlite3_randomness(...q)};let Ke;if(S.sqlite3_wasmfs_opfs_dir=function(){if(Ke!==void 0)return Ke;const q=x.wasmfsOpfsDir;if(!q||!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle)return Ke="";try{return q&&I.xCallWrapped("sqlite3__wasm_init_wasmfs","i32",["string"],q)===0?Ke=q:Ke=""}catch{return Ke=""}},S.sqlite3_wasmfs_filename_is_persistent=function(q){const M=S.sqlite3_wasmfs_opfs_dir();return M&&q?q.startsWith(M+"/"):!1},S.sqlite3_js_db_uses_vfs=function(q,M,z=0){try{const Te=S.sqlite3_vfs_find(M);return Te?q?Te===S.sqlite3_js_db_vfs(q,z)?Te:!1:Te===S.sqlite3_vfs_find(0)?Te:!1:!1}catch{return!1}},S.sqlite3_js_vfs_list=function(){const q=[];let M=S.sqlite3_vfs_find(0);for(;M;){const z=new S.sqlite3_vfs(M);q.push(I.cstrToJs(z.$zName)),M=z.$pNext,z.dispose()}return q},S.sqlite3_js_db_export=function(q,M=0){q=I.xWrap.testConvertArg("sqlite3*",q),q||Ve("Invalid sqlite3* argument."),I.bigIntEnabled||Ve("BigInt64 support is not enabled.");const z=I.scopedAllocPush();let Te;try{const Qe=I.scopedAlloc(8+I.ptrSizeof),It=Qe+8,Lt=M?I.isPtr(M)?M:I.scopedAllocCString(""+M):0;let Wt=I.exports.sqlite3__wasm_db_serialize(q,Lt,It,Qe,0);Wt&&Ve("Database serialization failed with code",ee.capi.sqlite3_js_rc_str(Wt)),Te=I.peekPtr(It);const Ye=I.peek(Qe,"i64");return Wt=Ye?I.heap8u().slice(Te,Te+Number(Ye)):new Uint8Array,Wt}finally{Te&&I.exports.sqlite3_free(Te),I.scopedAllocPop(z)}},S.sqlite3_js_db_vfs=(q,M=0)=>me.sqlite3__wasm_db_vfs(q,M),S.sqlite3_js_aggregate_context=(q,M)=>S.sqlite3_aggregate_context(q,M)||(M?Z.toss("Cannot allocate",M,"bytes for sqlite3_aggregate_context()"):0),S.sqlite3_js_posix_create_file=function(q,M,z){let Te;M&&I.isPtr(M)?Te=M:M instanceof ArrayBuffer||M instanceof Uint8Array?(Te=I.allocFromTypedArray(M),(arguments.length<3||!me.isInt32(z)||z<0)&&(z=M.byteLength)):Me.toss("Invalid 2nd argument for sqlite3_js_posix_create_file().");try{(!me.isInt32(z)||z<0)&&Me.toss("Invalid 3rd argument for sqlite3_js_posix_create_file().");const Qe=me.sqlite3__wasm_posix_create_file(q,Te,z);Qe&&Me.toss("Creation of file failed with sqlite3 result code",S.sqlite3_js_rc_str(Qe))}finally{I.dealloc(Te)}},S.sqlite3_js_vfs_create_file=function(q,M,z,Te){x.warn("sqlite3_js_vfs_create_file() is deprecated and","should be avoided because it can lead to C-level crashes.","See its documentation for alternative options.");let Qe;z?(I.isPtr(z)?Qe=z:z instanceof ArrayBuffer&&(z=new Uint8Array(z)),z instanceof Uint8Array?(Qe=I.allocFromTypedArray(z),(arguments.length<4||!me.isInt32(Te)||Te<0)&&(Te=z.byteLength)):Me.toss("Invalid 3rd argument type for sqlite3_js_vfs_create_file().")):Qe=0,(!me.isInt32(Te)||Te<0)&&(I.dealloc(Qe),Me.toss("Invalid 4th argument for sqlite3_js_vfs_create_file()."));try{const It=me.sqlite3__wasm_vfs_create_file(q,M,Qe,Te);It&&Me.toss("Creation of file failed with sqlite3 result code",S.sqlite3_js_rc_str(It))}finally{I.dealloc(Qe)}},S.sqlite3_js_sql_to_string=q=>{if(typeof q=="string")return q;const M=F(v);return M===v?void 0:M},me.isUIThread()){const q=function(M){const z=Object.create(null);return z.prefix="kvvfs-"+M,z.stores=[],(M==="session"||M==="")&&z.stores.push(globalThis.sessionStorage),(M==="local"||M==="")&&z.stores.push(globalThis.localStorage),z};S.sqlite3_js_kvvfs_clear=function(M=""){let z=0;const Te=q(M);return Te.stores.forEach(Qe=>{const It=[];let Lt;for(Lt=0;Lt<Qe.length;++Lt){const Wt=Qe.key(Lt);Wt.startsWith(Te.prefix)&&It.push(Wt)}It.forEach(Wt=>Qe.removeItem(Wt)),z+=It.length}),z},S.sqlite3_js_kvvfs_size=function(M=""){let z=0;const Te=q(M);return Te.stores.forEach(Qe=>{let It;for(It=0;It<Qe.length;++It){const Lt=Qe.key(It);Lt.startsWith(Te.prefix)&&(z+=Lt.length,z+=Qe.getItem(Lt).length)}}),z*2}}S.sqlite3_db_config=function(q,M,...z){switch(this.s||(this.s=I.xWrap("sqlite3__wasm_db_config_s","int",["sqlite3*","int","string:static"]),this.pii=I.xWrap("sqlite3__wasm_db_config_pii","int",["sqlite3*","int","*","int","int"]),this.ip=I.xWrap("sqlite3__wasm_db_config_ip","int",["sqlite3*","int","int","*"])),M){case S.SQLITE_DBCONFIG_ENABLE_FKEY:case S.SQLITE_DBCONFIG_ENABLE_TRIGGER:case S.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER:case S.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION:case S.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE:case S.SQLITE_DBCONFIG_ENABLE_QPSG:case S.SQLITE_DBCONFIG_TRIGGER_EQP:case S.SQLITE_DBCONFIG_RESET_DATABASE:case S.SQLITE_DBCONFIG_DEFENSIVE:case S.SQLITE_DBCONFIG_WRITABLE_SCHEMA:case S.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE:case S.SQLITE_DBCONFIG_DQS_DML:case S.SQLITE_DBCONFIG_DQS_DDL:case S.SQLITE_DBCONFIG_ENABLE_VIEW:case S.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT:case S.SQLITE_DBCONFIG_TRUSTED_SCHEMA:case S.SQLITE_DBCONFIG_STMT_SCANSTATUS:case S.SQLITE_DBCONFIG_REVERSE_SCANORDER:return this.ip(q,M,z[0],z[1]||0);case S.SQLITE_DBCONFIG_LOOKASIDE:return this.pii(q,M,z[0],z[1],z[2]);case S.SQLITE_DBCONFIG_MAINDBNAME:return this.s(q,M,z[0]);default:return S.SQLITE_MISUSE}}.bind(Object.create(null)),S.sqlite3_value_to_js=function(q,M=!0){let z;const Te=S.sqlite3_value_type(q);switch(Te){case S.SQLITE_INTEGER:I.bigIntEnabled?(z=S.sqlite3_value_int64(q),me.bigIntFitsDouble(z)&&(z=Number(z))):z=S.sqlite3_value_double(q);break;case S.SQLITE_FLOAT:z=S.sqlite3_value_double(q);break;case S.SQLITE_TEXT:z=S.sqlite3_value_text(q);break;case S.SQLITE_BLOB:{const Qe=S.sqlite3_value_bytes(q),It=S.sqlite3_value_blob(q);Qe&&!It&&ee.WasmAllocError.toss("Cannot allocate memory for blob argument of",Qe,"byte(s)"),z=Qe?I.heap8u().slice(It,It+Number(Qe)):null;break}case S.SQLITE_NULL:z=null;break;default:M&&Ve(S.SQLITE_MISMATCH,"Unhandled sqlite3_value_type():",Te),z=void 0}return z},S.sqlite3_values_to_js=function(q,M,z=!0){let Te;const Qe=[];for(Te=0;Te<q;++Te)Qe.push(S.sqlite3_value_to_js(I.peekPtr(M+I.ptrSizeof*Te),z));return Qe},S.sqlite3_result_error_js=function(q,M){M instanceof Z?S.sqlite3_result_error_nomem(q):S.sqlite3_result_error(q,""+M,-1)},S.sqlite3_result_js=function(q,M){if(M instanceof Error){S.sqlite3_result_error_js(q,M);return}try{switch(typeof M){case"undefined":break;case"boolean":S.sqlite3_result_int(q,M?1:0);break;case"bigint":me.bigIntFits32(M)?S.sqlite3_result_int(q,Number(M)):me.bigIntFitsDouble(M)?S.sqlite3_result_double(q,Number(M)):I.bigIntEnabled?me.bigIntFits64(M)?S.sqlite3_result_int64(q,M):Ve("BigInt value",M.toString(),"is too BigInt for int64."):Ve("BigInt value",M.toString(),"is too BigInt.");break;case"number":{let z;me.isInt32(M)?z=S.sqlite3_result_int:I.bigIntEnabled&&Number.isInteger(M)&&me.bigIntFits64(BigInt(M))?z=S.sqlite3_result_int64:z=S.sqlite3_result_double,z(q,M);break}case"string":{const[z,Te]=I.allocCString(M,!0);S.sqlite3_result_text(q,z,Te,S.SQLITE_WASM_DEALLOC);break}case"object":if(M===null){S.sqlite3_result_null(q);break}else if(me.isBindableTypedArray(M)){const z=I.allocFromTypedArray(M);S.sqlite3_result_blob(q,z,M.byteLength,S.SQLITE_WASM_DEALLOC);break}default:Ve("Don't not how to handle this UDF result value:",typeof M,M)}}catch(z){S.sqlite3_result_error_js(q,z)}},S.sqlite3_column_js=function(q,M,z=!0){const Te=S.sqlite3_column_value(q,M);return Te===0?void 0:S.sqlite3_value_to_js(Te,z)};const V=function(q,M,z){z=S[z],this.ptr?I.pokePtr(this.ptr,0):this.ptr=I.allocPtr();const Te=z(q,M,this.ptr);if(Te)return Me.toss(Te,arguments[2]+"() failed with code "+Te);const Qe=I.peekPtr(this.ptr);return Qe?S.sqlite3_value_to_js(Qe,!0):void 0}.bind(Object.create(null));S.sqlite3_preupdate_new_js=(q,M)=>V(q,M,"sqlite3_preupdate_new"),S.sqlite3_preupdate_old_js=(q,M)=>V(q,M,"sqlite3_preupdate_old"),S.sqlite3changeset_new_js=(q,M)=>V(q,M,"sqlite3changeset_new"),S.sqlite3changeset_old_js=(q,M)=>V(q,M,"sqlite3changeset_old");const ee={WasmAllocError:Z,SQLite3Error:Me,capi:S,util:me,wasm:I,config:x,version:Object.create(null),client:void 0,asyncPostInit:async function q(){if(q.isReady instanceof Promise)return q.isReady;let M=p.initializersAsync;delete p.initializersAsync;const z=async()=>(ee.__isUnderTest||(delete ee.util,delete ee.StructBinder),ee),Te=It=>{throw x.error("an async sqlite3 initializer failed:",It),It};if(!M||!M.length)return q.isReady=z().catch(Te);M=M.map(It=>It instanceof Function?async Lt=>It(ee):It),M.push(z);let Qe=Promise.resolve(ee);for(;M.length;)Qe=Qe.then(M.shift());return q.isReady=Qe.catch(Te)},scriptInfo:void 0};try{p.initializers.forEach(q=>{q(ee)})}catch(q){throw console.error("sqlite3 bootstrap initializer threw:",q),q}return delete p.initializers,p.sqlite3=ee,ee},globalThis.sqlite3ApiBootstrap.initializers=[],globalThis.sqlite3ApiBootstrap.initializersAsync=[],globalThis.sqlite3ApiBootstrap.defaultConfig=Object.create(null),globalThis.sqlite3ApiBootstrap.sqlite3=void 0,globalThis.WhWasmUtilInstaller=function(p){p.bigIntEnabled===void 0&&(p.bigIntEnabled=!!globalThis.BigInt64Array);const _=(...F)=>{throw new Error(F.join(" "))};p.exports||Object.defineProperty(p,"exports",{enumerable:!0,configurable:!0,get:()=>p.instance&&p.instance.exports});const x=p.pointerIR||"i32",S=p.ptrSizeof=x==="i32"?4:x==="i64"?8:_("Unhandled ptrSizeof:",x),I=Object.create(null);I.heapSize=0,I.memory=null,I.freeFuncIndexes=[],I.scopedAlloc=[],I.utf8Decoder=new TextDecoder,I.utf8Encoder=new TextEncoder("utf-8"),p.sizeofIR=F=>{switch(F){case"i8":return 1;case"i16":return 2;case"i32":case"f32":case"float":return 4;case"i64":case"f64":case"double":return 8;case"*":return S;default:return(""+F).endsWith("*")?S:void 0}};const X=function(){if(!I.memory)I.memory=p.memory instanceof WebAssembly.Memory?p.memory:p.exports.memory;else if(I.heapSize===I.memory.buffer.byteLength)return I;const F=I.memory.buffer;return I.HEAP8=new Int8Array(F),I.HEAP8U=new Uint8Array(F),I.HEAP16=new Int16Array(F),I.HEAP16U=new Uint16Array(F),I.HEAP32=new Int32Array(F),I.HEAP32U=new Uint32Array(F),p.bigIntEnabled&&(I.HEAP64=new BigInt64Array(F),I.HEAP64U=new BigUint64Array(F)),I.HEAP32F=new Float32Array(F),I.HEAP64F=new Float64Array(F),I.heapSize=F.byteLength,I};p.heap8=()=>X().HEAP8,p.heap8u=()=>X().HEAP8U,p.heap16=()=>X().HEAP16,p.heap16u=()=>X().HEAP16U,p.heap32=()=>X().HEAP32,p.heap32u=()=>X().HEAP32U,p.heapForSize=function(F,Z=!0){const me=I.memory&&I.heapSize===I.memory.buffer.byteLength?I:X();switch(F){case Int8Array:return me.HEAP8;case Uint8Array:return me.HEAP8U;case Int16Array:return me.HEAP16;case Uint16Array:return me.HEAP16U;case Int32Array:return me.HEAP32;case Uint32Array:return me.HEAP32U;case 8:return Z?me.HEAP8U:me.HEAP8;case 16:return Z?me.HEAP16U:me.HEAP16;case 32:return Z?me.HEAP32U:me.HEAP32;case 64:if(me.HEAP64)return Z?me.HEAP64U:me.HEAP64;break;default:if(p.bigIntEnabled){if(F===globalThis.BigUint64Array)return me.HEAP64U;if(F===globalThis.BigInt64Array)return me.HEAP64;break}}_("Invalid heapForSize() size: expecting 8, 16, 32,","or (if BigInt is enabled) 64.")},p.functionTable=function(){return p.exports.__indirect_function_table},p.functionEntry=function(F){const Z=p.functionTable();return F<Z.length?Z.get(F):void 0},p.jsFuncToWasm=function F(Z,me){if(F._||(F._={sigTypes:Object.assign(Object.create(null),{i:"i32",p:"i32",P:"i32",s:"i32",j:"i64",f:"f32",d:"f64"}),typeCodes:Object.assign(Object.create(null),{f64:124,f32:125,i64:126,i32:127}),uleb128Encode:function(ee,q,M){M<128?ee[q](M):ee[q](M%128|128,M>>7)},rxJSig:/^(\w)\((\w*)\)$/,sigParams:function(ee){const q=F._.rxJSig.exec(ee);return q?q[2]:ee.substr(1)},letterType:ee=>F._.sigTypes[ee]||_("Invalid signature letter:",ee),pushSigType:(ee,q)=>ee.push(F._.typeCodes[F._.letterType(q)])}),typeof Z=="string"){const ee=me;me=Z,Z=ee}const Ke=F._.sigParams(me),V=[1,96];F._.uleb128Encode(V,"push",Ke.length);for(const ee of Ke)F._.pushSigType(V,ee);return me[0]==="v"?V.push(0):(V.push(1),F._.pushSigType(V,me[0])),F._.uleb128Encode(V,"unshift",V.length),V.unshift(0,97,115,109,1,0,0,0,1),V.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array(V)),{e:{f:Z}}).exports.f};const se=function(Z,me,Ke){if(Ke&&!I.scopedAlloc.length&&_("No scopedAllocPush() scope is active."),typeof Z=="string"){const M=me;me=Z,Z=M}(typeof me!="string"||!(Z instanceof Function))&&_("Invalid arguments: expecting (function,signature) or (signature,function).");const V=p.functionTable(),ee=V.length;let q;for(;I.freeFuncIndexes.length&&(q=I.freeFuncIndexes.pop(),V.get(q));){q=null;continue}q||(q=ee,V.grow(1));try{return V.set(q,Z),Ke&&I.scopedAlloc[I.scopedAlloc.length-1].push(q),q}catch(M){if(!(M instanceof TypeError))throw q===ee&&I.freeFuncIndexes.push(ee),M}try{const M=p.jsFuncToWasm(Z,me);V.set(q,M),Ke&&I.scopedAlloc[I.scopedAlloc.length-1].push(q)}catch(M){throw q===ee&&I.freeFuncIndexes.push(ee),M}return q};p.installFunction=(F,Z)=>se(F,Z,!1),p.scopedInstallFunction=(F,Z)=>se(F,Z,!0),p.uninstallFunction=function(F){if(!F&&F!==0)return;const Z=I.freeFuncIndexes,me=p.functionTable();Z.push(F);const Ke=me.get(F);return me.set(F,null),Ke},p.peek=function(Z,me="i8"){me.endsWith("*")&&(me=x);const Ke=I.memory&&I.heapSize===I.memory.buffer.byteLength?I:X(),V=Array.isArray(Z)?[]:void 0;let ee;do{switch(V&&(Z=arguments[0].shift()),me){case"i1":case"i8":ee=Ke.HEAP8[Z>>0];break;case"i16":ee=Ke.HEAP16[Z>>1];break;case"i32":ee=Ke.HEAP32[Z>>2];break;case"float":case"f32":ee=Ke.HEAP32F[Z>>2];break;case"double":case"f64":ee=Number(Ke.HEAP64F[Z>>3]);break;case"i64":if(p.bigIntEnabled){ee=BigInt(Ke.HEAP64[Z>>3]);break}default:_("Invalid type for peek():",me)}V&&V.push(ee)}while(V&&arguments[0].length);return V||ee},p.poke=function(F,Z,me="i8"){me.endsWith("*")&&(me=x);const Ke=I.memory&&I.heapSize===I.memory.buffer.byteLength?I:X();for(const V of Array.isArray(F)?F:[F])switch(me){case"i1":case"i8":Ke.HEAP8[V>>0]=Z;continue;case"i16":Ke.HEAP16[V>>1]=Z;continue;case"i32":Ke.HEAP32[V>>2]=Z;continue;case"float":case"f32":Ke.HEAP32F[V>>2]=Z;continue;case"double":case"f64":Ke.HEAP64F[V>>3]=Z;continue;case"i64":if(Ke.HEAP64){Ke.HEAP64[V>>3]=BigInt(Z);continue}default:_("Invalid type for poke(): "+me)}return this},p.peekPtr=(...F)=>p.peek(F.length===1?F[0]:F,x),p.pokePtr=(F,Z=0)=>p.poke(F,Z,x),p.peek8=(...F)=>p.peek(F.length===1?F[0]:F,"i8"),p.poke8=(F,Z)=>p.poke(F,Z,"i8"),p.peek16=(...F)=>p.peek(F.length===1?F[0]:F,"i16"),p.poke16=(F,Z)=>p.poke(F,Z,"i16"),p.peek32=(...F)=>p.peek(F.length===1?F[0]:F,"i32"),p.poke32=(F,Z)=>p.poke(F,Z,"i32"),p.peek64=(...F)=>p.peek(F.length===1?F[0]:F,"i64"),p.poke64=(F,Z)=>p.poke(F,Z,"i64"),p.peek32f=(...F)=>p.peek(F.length===1?F[0]:F,"f32"),p.poke32f=(F,Z)=>p.poke(F,Z,"f32"),p.peek64f=(...F)=>p.peek(F.length===1?F[0]:F,"f64"),p.poke64f=(F,Z)=>p.poke(F,Z,"f64"),p.getMemValue=p.peek,p.getPtrValue=p.peekPtr,p.setMemValue=p.poke,p.setPtrValue=p.pokePtr,p.isPtr32=F=>typeof F=="number"&&F===(F|0)&&F>=0,p.isPtr=p.isPtr32,p.cstrlen=function(F){if(!F||!p.isPtr(F))return null;const Z=X().HEAP8U;let me=F;for(;Z[me]!==0;++me);return me-F};const Me=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,Ve=function(F,Z,me){return I.utf8Decoder.decode(F.buffer instanceof Me?F.slice(Z,me):F.subarray(Z,me))};p.cstrToJs=function(F){const Z=p.cstrlen(F);return Z?Ve(X().HEAP8U,F,F+Z):Z===null?Z:""},p.jstrlen=function(F){if(typeof F!="string")return null;const Z=F.length;let me=0;for(let Ke=0;Ke<Z;++Ke){let V=F.charCodeAt(Ke);V>=55296&&V<=57343&&(V=65536+((V&1023)<<10)|F.charCodeAt(++Ke)&1023),V<=127?++me:V<=2047?me+=2:V<=65535?me+=3:me+=4}return me},p.jstrcpy=function(F,Z,me=0,Ke=-1,V=!0){if((!Z||!(Z instanceof Int8Array)&&!(Z instanceof Uint8Array))&&_("jstrcpy() target must be an Int8Array or Uint8Array."),Ke<0&&(Ke=Z.length-me),!(Ke>0)||!(me>=0))return 0;let ee=0,q=F.length;const M=me,z=me+Ke-(V?1:0);for(;ee<q&&me<z;++ee){let Te=F.charCodeAt(ee);if(Te>=55296&&Te<=57343&&(Te=65536+((Te&1023)<<10)|F.charCodeAt(++ee)&1023),Te<=127){if(me>=z)break;Z[me++]=Te}else if(Te<=2047){if(me+1>=z)break;Z[me++]=192|Te>>6,Z[me++]=128|Te&63}else if(Te<=65535){if(me+2>=z)break;Z[me++]=224|Te>>12,Z[me++]=128|Te>>6&63,Z[me++]=128|Te&63}else{if(me+3>=z)break;Z[me++]=240|Te>>18,Z[me++]=128|Te>>12&63,Z[me++]=128|Te>>6&63,Z[me++]=128|Te&63}}return V&&(Z[me++]=0),me-M},p.cstrncpy=function(F,Z,me){if((!F||!Z)&&_("cstrncpy() does not accept NULL strings."),me<0)me=p.cstrlen(strPtr)+1;else if(!(me>0))return 0;const Ke=p.heap8u();let V=0,ee;for(;V<me&&(ee=Ke[Z+V]);++V)Ke[F+V]=ee;return V<me&&(Ke[F+V++]=0),V},p.jstrToUintArray=(F,Z=!1)=>I.utf8Encoder.encode(Z?F+"\0":F);const Ze=(F,Z)=>{(!(F.alloc instanceof Function)||!(F.dealloc instanceof Function))&&_("Object is missing alloc() and/or dealloc() function(s)","required by",Z+"().")},it=function(F,Z,me,Ke){if(Ze(p,Ke),typeof F!="string")return null;{const V=I.utf8Encoder.encode(F),ee=me(V.length+1),q=X().HEAP8U;return q.set(V,ee),q[ee+V.length]=0,Z?[ee,V.length]:ee}};p.allocCString=(F,Z=!1)=>it(F,Z,p.alloc,"allocCString()"),p.scopedAllocPush=function(){Ze(p,"scopedAllocPush");const F=[];return I.scopedAlloc.push(F),F},p.scopedAllocPop=function(F){Ze(p,"scopedAllocPop");const Z=arguments.length?I.scopedAlloc.indexOf(F):I.scopedAlloc.length-1;Z<0&&_("Invalid state object for scopedAllocPop()."),arguments.length===0&&(F=I.scopedAlloc[Z]),I.scopedAlloc.splice(Z,1);for(let me;me=F.pop();)p.functionEntry(me)?p.uninstallFunction(me):p.dealloc(me)},p.scopedAlloc=function(F){I.scopedAlloc.length||_("No scopedAllocPush() scope is active.");const Z=p.alloc(F);return I.scopedAlloc[I.scopedAlloc.length-1].push(Z),Z},Object.defineProperty(p.scopedAlloc,"level",{configurable:!1,enumerable:!1,get:()=>I.scopedAlloc.length,set:()=>_("The 'active' property is read-only.")}),p.scopedAllocCString=(F,Z=!1)=>it(F,Z,p.scopedAlloc,"scopedAllocCString()");const Ae=function(F,Z){const me=p[F?"scopedAlloc":"alloc"]((Z.length+1)*p.ptrSizeof);let Ke=0;return Z.forEach(V=>{p.pokePtr(me+p.ptrSizeof*Ke++,p[F?"scopedAllocCString":"allocCString"](""+V))}),p.pokePtr(me+p.ptrSizeof*Ke,0),me};p.scopedAllocMainArgv=F=>Ae(!0,F),p.allocMainArgv=F=>Ae(!1,F),p.cArgvToJs=(F,Z)=>{const me=[];for(let Ke=0;Ke<F;++Ke){const V=p.peekPtr(Z+p.ptrSizeof*Ke);me.push(V?p.cstrToJs(V):null)}return me},p.scopedAllocCall=function(F){p.scopedAllocPush();try{return F()}finally{p.scopedAllocPop()}};const Se=function(F,Z,me){Ze(p,me);const Ke=Z?"i64":x;let V=p[me](F*(Z?8:S));if(p.poke(V,0,Ke),F===1)return V;const ee=[V];for(let q=1;q<F;++q)V+=Z?8:S,ee[q]=V,p.poke(V,0,Ke);return ee};p.allocPtr=(F=1,Z=!0)=>Se(F,Z,"alloc"),p.scopedAllocPtr=(F=1,Z=!0)=>Se(F,Z,"scopedAlloc"),p.xGet=function(F){return p.exports[F]||_("Cannot find exported symbol:",F)};const Ue=(F,Z)=>_(F+"() requires",Z,"argument(s).");p.xCall=function(F,...Z){const me=F instanceof Function?F:p.xGet(F);return me instanceof Function||_("Exported symbol",F,"is not a function."),me.length!==Z.length&&Ue(me===F?me.name:F,me.length),arguments.length===2&&Array.isArray(arguments[1])?me.apply(null,arguments[1]):me.apply(null,Z)},I.xWrap=Object.create(null),I.xWrap.convert=Object.create(null),I.xWrap.convert.arg=new Map,I.xWrap.convert.result=new Map;const ce=I.xWrap.convert.arg,ge=I.xWrap.convert.result;p.bigIntEnabled&&ce.set("i64",F=>BigInt(F));const _e=x==="i32"?F=>F|0:F=>BigInt(F)|BigInt(0);ce.set("i32",_e).set("i16",F=>(F|0)&65535).set("i8",F=>(F|0)&255).set("f32",F=>Number(F).valueOf()).set("float",ce.get("f32")).set("f64",ce.get("f32")).set("double",ce.get("f64")).set("int",ce.get("i32")).set("null",F=>F).set(null,ce.get("null")).set("**",_e).set("*",_e),ge.set("*",_e).set("pointer",_e).set("number",F=>Number(F)).set("void",F=>{}).set("null",F=>F).set(null,ge.get("null"));{const F=["i8","i16","i32","int","f32","float","f64","double"];p.bigIntEnabled&&F.push("i64");const Z=ce.get(x);for(const me of F)ce.set(me+"*",Z),ge.set(me+"*",Z),ge.set(me,ce.get(me)||_("Missing arg converter:",me))}const We=function(F){return typeof F=="string"?p.scopedAllocCString(F):F?_e(F):null};ce.set("string",We).set("utf8",We).set("pointer",We),ge.set("string",F=>p.cstrToJs(F)).set("utf8",ge.get("string")).set("string:dealloc",F=>{try{return F?p.cstrToJs(F):null}finally{p.dealloc(F)}}).set("utf8:dealloc",ge.get("string:dealloc")).set("json",F=>JSON.parse(p.cstrToJs(F))).set("json:dealloc",F=>{try{return F?JSON.parse(p.cstrToJs(F)):null}finally{p.dealloc(F)}});const Be=class{constructor(F){this.name=F.name||"unnamed adapter"}convertArg(F,Z,me){_("AbstractArgAdapter must be subclassed.")}};ce.FuncPtrAdapter=class la extends Be{constructor(Z){super(Z),ce.FuncPtrAdapter.warnOnUse&&console.warn("xArg.FuncPtrAdapter is an internal-only API","and is not intended to be invoked from","client-level code. Invoked with:",Z),this.name=Z.name||"unnamed",this.signature=Z.signature,Z.contextKey instanceof Function&&(this.contextKey=Z.contextKey,Z.bindScope||(Z.bindScope="context")),this.bindScope=Z.bindScope||_("FuncPtrAdapter options requires a bindScope (explicit or implied)."),la.bindScopes.indexOf(Z.bindScope)<0&&_("Invalid options.bindScope ("+Z.bindMod+") for FuncPtrAdapter. Expecting one of: ("+la.bindScopes.join(", ")+")"),this.isTransient=this.bindScope==="transient",this.isContext=this.bindScope==="context",this.isPermanent=this.bindScope==="permanent",this.singleton=this.bindScope==="singleton"?[]:void 0,this.callProxy=Z.callProxy instanceof Function?Z.callProxy:void 0}contextKey(Z,me){return this}contextMap(Z){const me=this.__cmap||(this.__cmap=new Map);let Ke=me.get(Z);return Ke===void 0&&me.set(Z,Ke=[]),Ke}convertArg(Z,me,Ke){let V=this.singleton;if(!V&&this.isContext&&(V=this.contextMap(this.contextKey(me,Ke))),V&&V[0]===Z)return V[1];if(Z instanceof Function){this.callProxy&&(Z=this.callProxy(Z));const ee=se(Z,this.signature,this.isTransient);if(la.debugFuncInstall&&la.debugOut("FuncPtrAdapter installed",this,this.contextKey(me,Ke),"@"+ee,Z),V){if(V[1]){la.debugFuncInstall&&la.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(me,Ke),"@"+V[1],Z);try{I.scopedAlloc[I.scopedAlloc.length-1].push(V[1])}catch{}}V[0]=Z,V[1]=ee}return ee}else if(p.isPtr(Z)||Z===null||Z===void 0){if(V&&V[1]&&V[1]!==Z){la.debugFuncInstall&&la.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(me,Ke),"@"+V[1],Z);try{I.scopedAlloc[I.scopedAlloc.length-1].push(V[1])}catch{}V[0]=V[1]=Z|0}return Z||0}else throw new TypeError("Invalid FuncPtrAdapter argument type. Expecting a function pointer or a "+(this.name?this.name+" ":"")+"function matching signature "+this.signature+".")}},ce.FuncPtrAdapter.warnOnUse=!1,ce.FuncPtrAdapter.debugFuncInstall=!1,ce.FuncPtrAdapter.debugOut=console.debug.bind(console),ce.FuncPtrAdapter.bindScopes=["transient","context","singleton","permanent"];const we=F=>ce.get(F)||_("Argument adapter not found:",F),$e=F=>ge.get(F)||_("Result adapter not found:",F);I.xWrap.convertArg=(F,...Z)=>we(F)(...Z),I.xWrap.convertArgNoCheck=(F,...Z)=>ce.get(F)(...Z),I.xWrap.convertResult=(F,Z)=>F===null?Z:F?$e(F)(Z):void 0,I.xWrap.convertResultNoCheck=(F,Z)=>F===null?Z:F?ge.get(F)(Z):void 0,p.xWrap=function(F,Z,...me){arguments.length===3&&Array.isArray(arguments[2])&&(me=arguments[2]),p.isPtr(F)&&(F=p.functionEntry(F)||_("Function pointer not found in WASM function table."));const Ke=F instanceof Function,V=Ke?F:p.xGet(F);if(Ke&&(F=V.name||"unnamed function"),me.length!==V.length&&Ue(F,V.length),Z===null&&V.length===0)return V;Z!=null&&$e(Z);for(const q of me)q instanceof Be?ce.set(q,(...M)=>q.convertArg(...M)):we(q);const ee=I.xWrap;return V.length===0?(...q)=>q.length?Ue(F,V.length):ee.convertResult(Z,V.call(null)):function(...q){q.length!==V.length&&Ue(F,V.length);const M=p.scopedAllocPush();try{let z=0;for(;z<q.length;++z)q[z]=ee.convertArgNoCheck(me[z],q[z],q,z);return ee.convertResultNoCheck(Z,V.apply(null,q))}finally{p.scopedAllocPop(M)}}};const bt=function(F,Z,me,Ke,V,ee){if(typeof me=="string"){if(Z===1)return ee.get(me);if(Z===2){if(Ke)Ke instanceof Function||_(V,"requires a function argument.");else return delete ee.get(me),F;return ee.set(me,Ke),F}}_("Invalid arguments to",V)};return p.xWrap.resultAdapter=function F(Z,me){return bt(F,arguments.length,Z,me,"resultAdapter()",ge)},p.xWrap.argAdapter=function F(Z,me){return bt(F,arguments.length,Z,me,"argAdapter()",ce)},p.xWrap.FuncPtrAdapter=ce.FuncPtrAdapter,p.xCallWrapped=function(F,Z,me,...Ke){return Array.isArray(arguments[3])&&(Ke=arguments[3]),p.xWrap(F,Z,me||[]).apply(null,Ke||[])},p.xWrap.testConvertArg=I.xWrap.convertArg,p.xWrap.testConvertResult=I.xWrap.convertResult,p},globalThis.WhWasmUtilInstaller.yawl=function(p){const _=()=>fetch(p.uri,{credentials:"same-origin"}),x=this,S=function(X){if(p.wasmUtilTarget){const se=(...Ve)=>{throw new Error(Ve.join(" "))},Me=p.wasmUtilTarget;if(Me.module=X.module,Me.instance=X.instance,Me.instance.exports.memory||(Me.memory=p.imports&&p.imports.env&&p.imports.env.memory||se("Missing 'memory' object!")),!Me.alloc&&X.instance.exports.malloc){const Ve=X.instance.exports;Me.alloc=function(Ze){return Ve.malloc(Ze)||se("Allocation of",Ze,"bytes failed.")},Me.dealloc=function(Ze){Ve.free(Ze)}}x(Me)}return p.onload&&p.onload(X,p),X};return WebAssembly.instantiateStreaming?function(){return WebAssembly.instantiateStreaming(_(),p.imports||{}).then(S)}:function(){return _().then(se=>se.arrayBuffer()).then(se=>WebAssembly.instantiate(se,p.imports||{})).then(S)}}.bind(globalThis.WhWasmUtilInstaller),globalThis.Jaccwabyt=function p(_){const x=(...Pe)=>{throw new Error(Pe.join(" "))};!(_.heap instanceof WebAssembly.Memory)&&!(_.heap instanceof Function)&&x("config.heap must be WebAssembly.Memory instance or a function."),["alloc","dealloc"].forEach(function(Pe){_[Pe]instanceof Function||x("Config option '"+Pe+"' must be a function.")});const S=p,I=_.heap instanceof Function?_.heap:()=>new Uint8Array(_.heap.buffer),X=_.alloc,se=_.dealloc,Me=_.log||console.log.bind(console),Ve=_.memberPrefix||"",Ze=_.memberSuffix||"",it=_.bigIntEnabled===void 0?!!globalThis.BigInt64Array:!!_.bigIntEnabled,Ae=globalThis.BigInt,Se=globalThis.BigInt64Array,Ue=_.ptrSizeof||4,ce=_.ptrIR||"i32";S.debugFlags||(S.__makeDebugFlags=function(Pe=null){Pe&&Pe.__flags&&(Pe=Pe.__flags);const lt=function yt(wt){return arguments.length===0?yt.__flags:(wt<0?(delete yt.__flags.getter,delete yt.__flags.setter,delete yt.__flags.alloc,delete yt.__flags.dealloc):(yt.__flags.getter=(1&wt)!==0,yt.__flags.setter=(2&wt)!==0,yt.__flags.alloc=(4&wt)!==0,yt.__flags.dealloc=(8&wt)!==0),yt._flags)};return Object.defineProperty(lt,"__flags",{iterable:!1,writable:!1,value:Object.create(Pe)}),Pe||lt(0),lt},S.debugFlags=S.__makeDebugFlags());const ge=function(){const Pe=new ArrayBuffer(2);return new DataView(Pe).setInt16(0,256,!0),new Int16Array(Pe)[0]===256}(),_e=Pe=>Pe[1]==="(",We=Pe=>Pe==="P",Be=Pe=>_e(Pe)?"p":Pe[0],we=function(Pe){switch(Be(Pe)){case"c":case"C":return"i8";case"i":return"i32";case"p":case"P":case"s":return ce;case"j":return"i64";case"f":return"float";case"d":return"double"}x("Unhandled signature IR:",Pe)},$e=Se?()=>!0:()=>x("BigInt64Array is not available."),bt=function(Pe){switch(Be(Pe)){case"p":case"P":case"s":{switch(Ue){case 4:return"getInt32";case 8:return $e()&&"getBigInt64"}break}case"i":return"getInt32";case"c":return"getInt8";case"C":return"getUint8";case"j":return $e()&&"getBigInt64";case"f":return"getFloat32";case"d":return"getFloat64"}x("Unhandled DataView getter for signature:",Pe)},F=function(Pe){switch(Be(Pe)){case"p":case"P":case"s":{switch(Ue){case 4:return"setInt32";case 8:return $e()&&"setBigInt64"}break}case"i":return"setInt32";case"c":return"setInt8";case"C":return"setUint8";case"j":return $e()&&"setBigInt64";case"f":return"setFloat32";case"d":return"setFloat64"}x("Unhandled DataView setter for signature:",Pe)},Z=function(Pe){switch(Be(Pe)){case"i":case"f":case"c":case"C":case"d":return Number;case"j":return $e()&&Ae;case"p":case"P":case"s":switch(Ue){case 4:return Number;case 8:return $e()&&Ae}break}x("Unhandled DataView set wrapper for signature:",Pe)},me=(Pe,lt)=>Pe+"::"+lt,Ke=function(Pe,lt){return()=>x(me(Pe,lt),"is read-only.")},V=new WeakMap,ee="(pointer-is-external)",q=function(Pe,lt,yt){if(yt||(yt=V.get(lt)),yt){if(V.delete(lt),Array.isArray(lt.ondispose)){let wt;for(;wt=lt.ondispose.shift();)try{wt instanceof Function?wt.call(lt):wt instanceof Ft?wt.dispose():typeof wt=="number"&&se(wt)}catch(ln){console.warn("ondispose() for",Pe.structName,"@",yt,"threw. NOT propagating it.",ln)}}else if(lt.ondispose instanceof Function)try{lt.ondispose()}catch(wt){console.warn("ondispose() for",Pe.structName,"@",yt,"threw. NOT propagating it.",wt)}delete lt.ondispose,Pe.debugFlags.__flags.dealloc&&Me("debug.dealloc:",lt[ee]?"EXTERNAL":"",Pe.structName,"instance:",Pe.structInfo.sizeof,"bytes @"+yt),lt[ee]||se(yt)}},M=Pe=>({configurable:!1,writable:!1,iterable:!1,value:Pe}),z=function(Pe,lt,yt){let wt=!yt;yt?Object.defineProperty(lt,ee,M(yt)):(yt=X(Pe.structInfo.sizeof),yt||x("Allocation of",Pe.structName,"structure failed."));try{Pe.debugFlags.__flags.alloc&&Me("debug.alloc:",wt?"":"EXTERNAL",Pe.structName,"instance:",Pe.structInfo.sizeof,"bytes @"+yt),wt&&I().fill(0,yt,yt+Pe.structInfo.sizeof),V.set(lt,yt)}catch(ln){throw q(Pe,lt,yt),ln}},Te=function(){const Pe=this.pointer;return Pe?new Uint8Array(I().slice(Pe,Pe+this.structInfo.sizeof)):null},It=M(Pe=>Ve+Pe+Ze),Lt=function(Pe,lt,yt=!0){let wt=Pe.members[lt];if(!wt&&(Ve||Ze)){for(const ln of Object.values(Pe.members))if(ln.key===lt){wt=ln;break}!wt&&yt&&x(me(Pe.name,lt),"is not a mapped struct member.")}return wt},Wt=function Pe(lt,yt,wt=!1){Pe._||(Pe._=Ln=>Ln.replace(/[^vipPsjrdcC]/g,"").replace(/[pPscC]/g,"i"));const ln=Lt(lt.structInfo,yt,!0);return wt?Pe._(ln.signature):ln.signature},Ye={configurable:!1,enumerable:!1,get:function(){return V.get(this)},set:()=>x("Cannot assign the 'pointer' property of a struct.")},de=M(function(){const Pe=[];for(const lt of Object.keys(this.structInfo.members))Pe.push(this.memberKey(lt));return Pe}),Ie=new TextDecoder("utf-8"),Ge=new TextEncoder,nt=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,Rt=function(Pe,lt,yt){return Ie.decode(Pe.buffer instanceof nt?Pe.slice(lt,yt):Pe.subarray(lt,yt))},Ut=function(Pe,lt,yt=!1){const wt=Lt(Pe.structInfo,lt,yt);return wt&&wt.signature.length===1&&wt.signature[0]==="s"?wt:!1},Ne=function(Pe){Pe.signature!=="s"&&x("Invalid member type signature for C-string value:",JSON.stringify(Pe))},He=function(lt,yt){const wt=Lt(lt.structInfo,yt,!0);Ne(wt);const ln=lt[wt.key];if(!ln)return null;let Ln=ln;const qn=I();for(;qn[Ln]!==0;++Ln);return ln===Ln?"":Rt(qn,ln,Ln)},Xe=function(Pe,...lt){Pe.ondispose?Array.isArray(Pe.ondispose)||(Pe.ondispose=[Pe.ondispose]):Pe.ondispose=[],Pe.ondispose.push(...lt)},xt=function(Pe){const lt=Ge.encode(Pe),yt=X(lt.length+1);yt||x("Allocation error while duplicating string:",Pe);const wt=I();return wt.set(lt,yt),wt[yt+lt.length]=0,yt},gt=function(Pe,lt,yt){const wt=Lt(Pe.structInfo,lt,!0);Ne(wt);const ln=xt(yt);return Pe[wt.key]=ln,Xe(Pe,ln),Pe},Ft=function(lt,yt){arguments[2]!==M&&x("Do not call the StructType constructor","from client-level code."),Object.defineProperties(this,{structName:M(lt),structInfo:M(yt)})};Ft.prototype=Object.create(null,{dispose:M(function(){q(this.constructor,this)}),lookupMember:M(function(Pe,lt=!0){return Lt(this.structInfo,Pe,lt)}),memberToJsString:M(function(Pe){return He(this,Pe)}),memberIsString:M(function(Pe,lt=!0){return Ut(this,Pe,lt)}),memberKey:It,memberKeys:de,memberSignature:M(function(Pe,lt=!1){return Wt(this,Pe,lt)}),memoryDump:M(Te),pointer:Ye,setMemberCString:M(function(Pe,lt){return gt(this,Pe,lt)})}),Object.assign(Ft.prototype,{addOnDispose:function(...Pe){return Xe(this,...Pe),this}}),Object.defineProperties(Ft,{allocCString:M(xt),isA:M(Pe=>Pe instanceof Ft),hasExternalPointer:M(Pe=>Pe instanceof Ft&&!!Pe[ee]),memberKey:It});const an=Pe=>Number.isFinite(Pe)||Pe instanceof(Ae||Number),Ot=function Pe(lt,yt,wt){if(!Pe._){Pe._={getters:{},setters:{},sw:{}};const Jr=["i","c","C","p","P","s","f","d","v()"];it&&Jr.push("j"),Jr.forEach(function(Ss){Pe._.getters[Ss]=bt(Ss),Pe._.setters[Ss]=F(Ss),Pe._.sw[Ss]=Z(Ss)});const Xy=/^[ipPsjfdcC]$/,ev=/^[vipPsjfdcC]\([ipPsjfdcC]*\)$/;Pe.sigCheck=function(Ss,tv,Qp,bd){Object.prototype.hasOwnProperty.call(Ss,Qp)&&x(Ss.structName,"already has a property named",Qp+"."),Xy.test(bd)||ev.test(bd)||x("Malformed signature for",me(Ss.structName,tv)+":",bd)}}const ln=lt.memberKey(yt);Pe.sigCheck(lt.prototype,yt,ln,wt.signature),wt.key=ln,wt.name=yt;const Ln=Be(wt.signature),qn=me(lt.prototype.structName,ln),Pn=lt.prototype.debugFlags.__flags,Ho=Object.create(null);Ho.configurable=!1,Ho.enumerable=!1,Ho.get=function(){Pn.getter&&Me("debug.getter:",Pe._.getters[Ln],"for",we(Ln),qn,"@",this.pointer,"+",wt.offset,"sz",wt.sizeof);let Jr=new DataView(I().buffer,this.pointer+wt.offset,wt.sizeof)[Pe._.getters[Ln]](0,ge);return Pn.getter&&Me("debug.getter:",qn,"result =",Jr),Jr},wt.readOnly?Ho.set=Ke(lt.prototype.structName,ln):Ho.set=function(Jr){if(Pn.setter&&Me("debug.setter:",Pe._.setters[Ln],"for",we(Ln),qn,"@",this.pointer,"+",wt.offset,"sz",wt.sizeof,Jr),this.pointer||x("Cannot set struct property on disposed instance."),Jr===null)Jr=0;else for(;!an(Jr);){if(We(wt.signature)&&Jr instanceof Ft){Jr=Jr.pointer||0,Pn.setter&&Me("debug.setter:",qn,"resolved to",Jr);break}x("Invalid value for pointer-type",qn+".")}new DataView(I().buffer,this.pointer+wt.offset,wt.sizeof)[Pe._.setters[Ln]](0,Pe._.sw[Ln](Jr),ge)},Object.defineProperty(lt.prototype,ln,Ho)},fr=function Pe(lt,yt){arguments.length===1?(yt=lt,lt=yt.name):yt.name||(yt.name=lt),lt||x("Struct name is required.");let wt=!1;Object.keys(yt.members).forEach(qn=>{const Pn=yt.members[qn];Pn.sizeof?Pn.sizeof===1?Pn.signature==="c"||Pn.signature==="C"||x("Unexpected sizeof==1 member",me(yt.name,qn),"with signature",Pn.signature):(Pn.sizeof%4!==0&&(console.warn("Invalid struct member description =",Pn,"from",yt),x(lt,"member",qn,"sizeof is not aligned. sizeof="+Pn.sizeof)),Pn.offset%4!==0&&(console.warn("Invalid struct member description =",Pn,"from",yt),x(lt,"member",qn,"offset is not aligned. offset="+Pn.offset))):x(lt,"member",qn,"is missing sizeof."),(!wt||wt.offset<Pn.offset)&&(wt=Pn)}),wt?yt.sizeof<wt.offset+wt.sizeof&&x("Invalid struct config:",lt,"max member offset ("+wt.offset+") ","extends past end of struct (sizeof="+yt.sizeof+")."):x("No member property descriptions found.");const ln=M(S.__makeDebugFlags(Pe.debugFlags)),Ln=function qn(Pn){this instanceof qn?arguments.length?((Pn!==(Pn|0)||Pn<=0)&&x("Invalid pointer value for",lt,"constructor."),z(qn,this,Pn)):z(qn,this):x("The",lt,"constructor may only be called via 'new'.")};return Object.defineProperties(Ln,{debugFlags:ln,isA:M(qn=>qn instanceof Ln),memberKey:It,memberKeys:de,methodInfoForKey:M(function(qn){}),structInfo:M(yt),structName:M(lt)}),Ln.prototype=new Ft(lt,yt,M),Object.defineProperties(Ln.prototype,{debugFlags:ln,constructor:M(Ln)}),Object.keys(yt.members).forEach(qn=>Ot(Ln,qn,yt.members[qn])),Ln};return fr.StructType=Ft,fr.config=_,fr.allocCString=xt,fr.debugFlags||(fr.debugFlags=S.__makeDebugFlags(S.debugFlags)),fr},globalThis.sqlite3ApiBootstrap.initializers.push(function(p){const _=(...ce)=>{throw new Error(ce.join(" "))};p.SQLite3Error.toss;const x=p.capi,S=p.wasm,I=p.util;if(globalThis.WhWasmUtilInstaller(S),delete globalThis.WhWasmUtilInstaller,S.bindingSignatures=[["sqlite3_aggregate_context","void*","sqlite3_context*","int"],["sqlite3_bind_double","int","sqlite3_stmt*","int","f64"],["sqlite3_bind_int","int","sqlite3_stmt*","int","int"],["sqlite3_bind_null",void 0,"sqlite3_stmt*","int"],["sqlite3_bind_parameter_count","int","sqlite3_stmt*"],["sqlite3_bind_parameter_index","int","sqlite3_stmt*","string"],["sqlite3_bind_parameter_name","string","sqlite3_stmt*","int"],["sqlite3_bind_pointer","int","sqlite3_stmt*","int","*","string:static","*"],["sqlite3_busy_handler","int",["sqlite3*",new S.xWrap.FuncPtrAdapter({signature:"i(pi)",contextKey:(ce,ge)=>ce[0]}),"*"]],["sqlite3_busy_timeout","int","sqlite3*","int"],["sqlite3_changes","int","sqlite3*"],["sqlite3_clear_bindings","int","sqlite3_stmt*"],["sqlite3_collation_needed","int","sqlite3*","*","*"],["sqlite3_column_blob","*","sqlite3_stmt*","int"],["sqlite3_column_bytes","int","sqlite3_stmt*","int"],["sqlite3_column_count","int","sqlite3_stmt*"],["sqlite3_column_decltype","string","sqlite3_stmt*","int"],["sqlite3_column_double","f64","sqlite3_stmt*","int"],["sqlite3_column_int","int","sqlite3_stmt*","int"],["sqlite3_column_name","string","sqlite3_stmt*","int"],["sqlite3_column_text","string","sqlite3_stmt*","int"],["sqlite3_column_type","int","sqlite3_stmt*","int"],["sqlite3_column_value","sqlite3_value*","sqlite3_stmt*","int"],["sqlite3_commit_hook","void*",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_commit_hook",signature:"i(p)",contextKey:ce=>ce[0]}),"*"]],["sqlite3_compileoption_get","string","int"],["sqlite3_compileoption_used","int","string"],["sqlite3_complete","int","string:flexible"],["sqlite3_context_db_handle","sqlite3*","sqlite3_context*"],["sqlite3_data_count","int","sqlite3_stmt*"],["sqlite3_db_filename","string","sqlite3*","string"],["sqlite3_db_handle","sqlite3*","sqlite3_stmt*"],["sqlite3_db_name","string","sqlite3*","int"],["sqlite3_db_readonly","int","sqlite3*","string"],["sqlite3_db_status","int","sqlite3*","int","*","*","int"],["sqlite3_errcode","int","sqlite3*"],["sqlite3_errmsg","string","sqlite3*"],["sqlite3_error_offset","int","sqlite3*"],["sqlite3_errstr","string","int"],["sqlite3_exec","int",["sqlite3*","string:flexible",new S.xWrap.FuncPtrAdapter({signature:"i(pipp)",bindScope:"transient",callProxy:ce=>{let ge;return(_e,We,Be,we)=>{try{const $e=S.cArgvToJs(We,Be);return ge||(ge=S.cArgvToJs(We,we)),ce($e,ge)|0}catch($e){return $e.resultCode||x.SQLITE_ERROR}}}}),"*","**"]],["sqlite3_expanded_sql","string","sqlite3_stmt*"],["sqlite3_extended_errcode","int","sqlite3*"],["sqlite3_extended_result_codes","int","sqlite3*","int"],["sqlite3_file_control","int","sqlite3*","string","int","*"],["sqlite3_finalize","int","sqlite3_stmt*"],["sqlite3_free",void 0,"*"],["sqlite3_get_autocommit","int","sqlite3*"],["sqlite3_get_auxdata","*","sqlite3_context*","int"],["sqlite3_initialize",void 0],["sqlite3_interrupt",void 0,"sqlite3*"],["sqlite3_is_interrupted","int","sqlite3*"],["sqlite3_keyword_count","int"],["sqlite3_keyword_name","int",["int","**","*"]],["sqlite3_keyword_check","int",["string","int"]],["sqlite3_libversion","string"],["sqlite3_libversion_number","int"],["sqlite3_limit","int",["sqlite3*","int","int"]],["sqlite3_malloc","*","int"],["sqlite3_open","int","string","*"],["sqlite3_open_v2","int","string","*","int","string"],["sqlite3_realloc","*","*","int"],["sqlite3_reset","int","sqlite3_stmt*"],["sqlite3_result_blob",void 0,"sqlite3_context*","*","int","*"],["sqlite3_result_double",void 0,"sqlite3_context*","f64"],["sqlite3_result_error",void 0,"sqlite3_context*","string","int"],["sqlite3_result_error_code",void 0,"sqlite3_context*","int"],["sqlite3_result_error_nomem",void 0,"sqlite3_context*"],["sqlite3_result_error_toobig",void 0,"sqlite3_context*"],["sqlite3_result_int",void 0,"sqlite3_context*","int"],["sqlite3_result_null",void 0,"sqlite3_context*"],["sqlite3_result_pointer",void 0,"sqlite3_context*","*","string:static","*"],["sqlite3_result_subtype",void 0,"sqlite3_value*","int"],["sqlite3_result_text",void 0,"sqlite3_context*","string","int","*"],["sqlite3_result_zeroblob",void 0,"sqlite3_context*","int"],["sqlite3_rollback_hook","void*",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_rollback_hook",signature:"v(p)",contextKey:ce=>ce[0]}),"*"]],["sqlite3_set_auxdata",void 0,["sqlite3_context*","int","*",new S.xWrap.FuncPtrAdapter({name:"xDestroyAuxData",signature:"v(*)",contextKey:(ce,ge)=>ce[0]})]],["sqlite3_shutdown",void 0],["sqlite3_sourceid","string"],["sqlite3_sql","string","sqlite3_stmt*"],["sqlite3_status","int","int","*","*","int"],["sqlite3_step","int","sqlite3_stmt*"],["sqlite3_stmt_busy","int","sqlite3_stmt*"],["sqlite3_stmt_readonly","int","sqlite3_stmt*"],["sqlite3_stmt_status","int","sqlite3_stmt*","int","int"],["sqlite3_strglob","int","string","string"],["sqlite3_stricmp","int","string","string"],["sqlite3_strlike","int","string","string","int"],["sqlite3_strnicmp","int","string","string","int"],["sqlite3_table_column_metadata","int","sqlite3*","string","string","string","**","**","*","*","*"],["sqlite3_total_changes","int","sqlite3*"],["sqlite3_trace_v2","int",["sqlite3*","int",new S.xWrap.FuncPtrAdapter({name:"sqlite3_trace_v2::callback",signature:"i(ippp)",contextKey:(ce,ge)=>ce[0]}),"*"]],["sqlite3_txn_state","int",["sqlite3*","string"]],["sqlite3_uri_boolean","int","sqlite3_filename","string","int"],["sqlite3_uri_key","string","sqlite3_filename","int"],["sqlite3_uri_parameter","string","sqlite3_filename","string"],["sqlite3_user_data","void*","sqlite3_context*"],["sqlite3_value_blob","*","sqlite3_value*"],["sqlite3_value_bytes","int","sqlite3_value*"],["sqlite3_value_double","f64","sqlite3_value*"],["sqlite3_value_dup","sqlite3_value*","sqlite3_value*"],["sqlite3_value_free",void 0,"sqlite3_value*"],["sqlite3_value_frombind","int","sqlite3_value*"],["sqlite3_value_int","int","sqlite3_value*"],["sqlite3_value_nochange","int","sqlite3_value*"],["sqlite3_value_numeric_type","int","sqlite3_value*"],["sqlite3_value_pointer","*","sqlite3_value*","string:static"],["sqlite3_value_subtype","int","sqlite3_value*"],["sqlite3_value_text","string","sqlite3_value*"],["sqlite3_value_type","int","sqlite3_value*"],["sqlite3_vfs_find","*","string"],["sqlite3_vfs_register","int","sqlite3_vfs*","int"],["sqlite3_vfs_unregister","int","sqlite3_vfs*"]],S.exports.sqlite3_progress_handler&&S.bindingSignatures.push(["sqlite3_progress_handler",void 0,["sqlite3*","int",new S.xWrap.FuncPtrAdapter({name:"xProgressHandler",signature:"i(p)",bindScope:"context",contextKey:(ce,ge)=>ce[0]}),"*"]]),S.exports.sqlite3_stmt_explain&&S.bindingSignatures.push(["sqlite3_stmt_explain","int","sqlite3_stmt*","int"],["sqlite3_stmt_isexplain","int","sqlite3_stmt*"]),S.exports.sqlite3_set_authorizer&&S.bindingSignatures.push(["sqlite3_set_authorizer","int",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_set_authorizer::xAuth",signature:"i(pissss)",contextKey:(ce,ge)=>ce[0],callProxy:ce=>(ge,_e,We,Be,we,$e)=>{try{return We=We&&S.cstrToJs(We),Be=Be&&S.cstrToJs(Be),we=we&&S.cstrToJs(we),$e=$e&&S.cstrToJs($e),ce(ge,_e,We,Be,we,$e)||0}catch(bt){return bt.resultCode||x.SQLITE_ERROR}}}),"*"]]),S.bindingSignatures.int64=[["sqlite3_bind_int64","int",["sqlite3_stmt*","int","i64"]],["sqlite3_changes64","i64",["sqlite3*"]],["sqlite3_column_int64","i64",["sqlite3_stmt*","int"]],["sqlite3_deserialize","int","sqlite3*","string","*","i64","i64","int"],["sqlite3_last_insert_rowid","i64",["sqlite3*"]],["sqlite3_malloc64","*","i64"],["sqlite3_msize","i64","*"],["sqlite3_overload_function","int",["sqlite3*","string","int"]],["sqlite3_realloc64","*","*","i64"],["sqlite3_result_int64",void 0,"*","i64"],["sqlite3_result_zeroblob64","int","*","i64"],["sqlite3_serialize","*","sqlite3*","string","*","int"],["sqlite3_set_last_insert_rowid",void 0,["sqlite3*","i64"]],["sqlite3_status64","int","int","*","*","int"],["sqlite3_total_changes64","i64",["sqlite3*"]],["sqlite3_update_hook","*",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_update_hook",signature:"v(iippj)",contextKey:ce=>ce[0],callProxy:ce=>(ge,_e,We,Be,we)=>{ce(ge,_e,S.cstrToJs(We),S.cstrToJs(Be),we)}}),"*"]],["sqlite3_uri_int64","i64",["sqlite3_filename","string","i64"]],["sqlite3_value_int64","i64","sqlite3_value*"]],S.bigIntEnabled&&S.exports.sqlite3_declare_vtab&&S.bindingSignatures.int64.push(["sqlite3_create_module","int",["sqlite3*","string","sqlite3_module*","*"]],["sqlite3_create_module_v2","int",["sqlite3*","string","sqlite3_module*","*","*"]],["sqlite3_declare_vtab","int",["sqlite3*","string:flexible"]],["sqlite3_drop_modules","int",["sqlite3*","**"]],["sqlite3_vtab_collation","string","sqlite3_index_info*","int"],["sqlite3_vtab_distinct","int","sqlite3_index_info*"],["sqlite3_vtab_in","int","sqlite3_index_info*","int","int"],["sqlite3_vtab_in_first","int","sqlite3_value*","**"],["sqlite3_vtab_in_next","int","sqlite3_value*","**"],["sqlite3_vtab_nochange","int","sqlite3_context*"],["sqlite3_vtab_on_conflict","int","sqlite3*"],["sqlite3_vtab_rhs_value","int","sqlite3_index_info*","int","**"]),S.bigIntEnabled&&S.exports.sqlite3_preupdate_hook&&S.bindingSignatures.int64.push(["sqlite3_preupdate_blobwrite","int","sqlite3*"],["sqlite3_preupdate_count","int","sqlite3*"],["sqlite3_preupdate_depth","int","sqlite3*"],["sqlite3_preupdate_hook","*",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_preupdate_hook",signature:"v(ppippjj)",contextKey:ce=>ce[0],callProxy:ce=>(ge,_e,We,Be,we,$e,bt)=>{ce(ge,_e,We,S.cstrToJs(Be),S.cstrToJs(we),$e,bt)}}),"*"]],["sqlite3_preupdate_new","int",["sqlite3*","int","**"]],["sqlite3_preupdate_old","int",["sqlite3*","int","**"]]),S.bigIntEnabled&&S.exports.sqlite3changegroup_add&&S.exports.sqlite3session_create&&S.exports.sqlite3_preupdate_hook){const ce={signature:"i(ps)",callProxy:ge=>(_e,We)=>{try{return ge(_e,S.cstrToJs(We))|0}catch(Be){return Be.resultCode||x.SQLITE_ERROR}}};S.bindingSignatures.int64.push(["sqlite3changegroup_add","int",["sqlite3_changegroup*","int","void*"]],["sqlite3changegroup_add_strm","int",["sqlite3_changegroup*",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changegroup_delete",void 0,["sqlite3_changegroup*"]],["sqlite3changegroup_new","int",["**"]],["sqlite3changegroup_output","int",["sqlite3_changegroup*","int*","**"]],["sqlite3changegroup_output_strm","int",["sqlite3_changegroup*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply","int",["sqlite3*","int","void*",new S.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...ce}),new S.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_strm","int",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...ce}),new S.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_v2","int",["sqlite3*","int","void*",new S.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...ce}),new S.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_apply_v2_strm","int",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...ce}),new S.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_concat","int",["int","void*","int","void*","int*","**"]],["sqlite3changeset_concat_strm","int",[new S.xWrap.FuncPtrAdapter({name:"xInputA",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xInputB",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_conflict","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_finalize","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_fk_conflicts","int",["sqlite3_changeset_iter*","int*"]],["sqlite3changeset_invert","int",["int","void*","int*","**"]],["sqlite3changeset_invert_strm","int",[new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_new","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_next","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_old","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_op","int",["sqlite3_changeset_iter*","**","int*","int*","int*"]],["sqlite3changeset_pk","int",["sqlite3_changeset_iter*","**","int*"]],["sqlite3changeset_start","int",["**","int","*"]],["sqlite3changeset_start_strm","int",["**",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changeset_start_v2","int",["**","int","*","int"]],["sqlite3changeset_start_v2_strm","int",["**",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*","int"]],["sqlite3session_attach","int",["sqlite3_session*","string"]],["sqlite3session_changeset","int",["sqlite3_session*","int*","**"]],["sqlite3session_changeset_size","i64",["sqlite3_session*"]],["sqlite3session_changeset_strm","int",["sqlite3_session*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_config","int",["int","void*"]],["sqlite3session_create","int",["sqlite3*","string","**"]],["sqlite3session_diff","int",["sqlite3_session*","string","string","**"]],["sqlite3session_enable","int",["sqlite3_session*","int"]],["sqlite3session_indirect","int",["sqlite3_session*","int"]],["sqlite3session_isempty","int",["sqlite3_session*"]],["sqlite3session_memory_used","i64",["sqlite3_session*"]],["sqlite3session_object_config","int",["sqlite3_session*","int","void*"]],["sqlite3session_patchset","int",["sqlite3_session*","*","**"]],["sqlite3session_patchset_strm","int",["sqlite3_session*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_table_filter",void 0,["sqlite3_session*",new S.xWrap.FuncPtrAdapter({name:"xFilter",...ce,contextKey:(ge,_e)=>ge[0]}),"*"]])}S.bindingSignatures.wasmInternal=[["sqlite3__wasm_db_reset","int","sqlite3*"],["sqlite3__wasm_db_vfs","sqlite3_vfs*","sqlite3*","string"],["sqlite3__wasm_vfs_create_file","int","sqlite3_vfs*","string","*","int"],["sqlite3__wasm_posix_create_file","int","string","*","int"],["sqlite3__wasm_vfs_unlink","int","sqlite3_vfs*","string"],["sqlite3__wasm_qfmt_token","string:dealloc","string","int"]],p.StructBinder=globalThis.Jaccwabyt({heap:S.heap8u,alloc:S.alloc,dealloc:S.dealloc,bigIntEnabled:S.bigIntEnabled,memberPrefix:"$"}),delete globalThis.Jaccwabyt;{const ce=S.xWrap.argAdapter("string");S.xWrap.argAdapter("string:flexible",we=>ce(I.flexibleString(we))),S.xWrap.argAdapter("string:static",function(we){return S.isPtr(we)?we:(we=""+we,this[we]||(this[we]=S.allocCString(we)))}.bind(Object.create(null)));const ge=S.xWrap.argAdapter("*"),_e=function(){};S.xWrap.argAdapter("sqlite3_filename",ge)("sqlite3_context*",ge)("sqlite3_value*",ge)("void*",ge)("sqlite3_changegroup*",ge)("sqlite3_changeset_iter*",ge)("sqlite3_session*",ge)("sqlite3_stmt*",we=>ge(we instanceof(p?.oo1?.Stmt||_e)?we.pointer:we))("sqlite3*",we=>ge(we instanceof(p?.oo1?.DB||_e)?we.pointer:we))("sqlite3_vfs*",we=>typeof we=="string"?x.sqlite3_vfs_find(we)||p.SQLite3Error.toss(x.SQLITE_NOTFOUND,"Unknown sqlite3_vfs name:",we):ge(we instanceof(x.sqlite3_vfs||_e)?we.pointer:we)),S.exports.sqlite3_declare_vtab&&S.xWrap.argAdapter("sqlite3_index_info*",we=>ge(we instanceof(x.sqlite3_index_info||_e)?we.pointer:we))("sqlite3_module*",we=>ge(we instanceof(x.sqlite3_module||_e)?we.pointer:we));const We=S.xWrap.resultAdapter("*");S.xWrap.resultAdapter("sqlite3*",We)("sqlite3_context*",We)("sqlite3_stmt*",We)("sqlite3_value*",We)("sqlite3_vfs*",We)("void*",We),S.exports.sqlite3_step.length===0&&(S.xWrap.doArgcCheck=!1,p.config.warn("Disabling sqlite3.wasm.xWrap.doArgcCheck due to environmental quirks."));for(const we of S.bindingSignatures)x[we[0]]=S.xWrap.apply(null,we);for(const we of S.bindingSignatures.wasmInternal)I[we[0]]=S.xWrap.apply(null,we);const Be=function(we){return()=>_(we+"() is unavailable due to lack","of BigInt support in this build.")};for(const we of S.bindingSignatures.int64)x[we[0]]=S.bigIntEnabled?S.xWrap.apply(null,we):Be(we[0]);if(delete S.bindingSignatures,S.exports.sqlite3__wasm_db_error){const we=S.xWrap("sqlite3__wasm_db_error","int","sqlite3*","int","string");I.sqlite3__wasm_db_error=function($e,bt,F){return bt instanceof p.WasmAllocError?(bt=x.SQLITE_NOMEM,F=0):bt instanceof Error&&(F=F||""+bt,bt=bt.resultCode||x.SQLITE_ERROR),$e?we($e,bt,F):bt}}else I.sqlite3__wasm_db_error=function(we,$e,bt){return console.warn("sqlite3__wasm_db_error() is not exported.",arguments),$e}}{const ce=S.xCall("sqlite3__wasm_enum_json");ce||_("Maintenance required: increase sqlite3__wasm_enum_json()'s","static buffer size!"),S.ctype=JSON.parse(S.cstrToJs(ce));const ge=["access","authorizer","blobFinalizers","changeset","config","dataTypes","dbConfig","dbStatus","encodings","fcntl","flock","ioCap","limits","openFlags","prepareFlags","resultCodes","sqlite3Status","stmtStatus","syncFlags","trace","txnState","udfFlags","version"];S.bigIntEnabled&&ge.push("serialize","session","vtab");for(const Be of ge)for(const we of Object.entries(S.ctype[Be]))x[we[0]]=we[1];S.functionEntry(x.SQLITE_WASM_DEALLOC)||_("Internal error: cannot resolve exported function","entry SQLITE_WASM_DEALLOC (=="+x.SQLITE_WASM_DEALLOC+").");const _e=Object.create(null);for(const Be of["resultCodes"])for(const we of Object.entries(S.ctype[Be]))_e[we[1]]=we[0];x.sqlite3_js_rc_str=Be=>_e[Be];const We=Object.assign(Object.create(null),{WasmTestStruct:!0,sqlite3_kvvfs_methods:!I.isUIThread(),sqlite3_index_info:!S.bigIntEnabled,sqlite3_index_constraint:!S.bigIntEnabled,sqlite3_index_orderby:!S.bigIntEnabled,sqlite3_index_constraint_usage:!S.bigIntEnabled});for(const Be of S.ctype.structs)We[Be.name]||(x[Be.name]=p.StructBinder(Be));if(x.sqlite3_index_info){for(const Be of["sqlite3_index_constraint","sqlite3_index_orderby","sqlite3_index_constraint_usage"])x.sqlite3_index_info[Be]=x[Be],delete x[Be];x.sqlite3_vtab_config=S.xWrap("sqlite3__wasm_vtab_config","int",["sqlite3*","int","int"])}}const X=(ce,ge,_e)=>I.sqlite3__wasm_db_error(ce,x.SQLITE_MISUSE,ge+"() requires "+_e+" argument"+(_e===1?"":"s")+"."),se=ce=>I.sqlite3__wasm_db_error(ce,x.SQLITE_FORMAT,"SQLITE_UTF8 is the only supported encoding."),Me=ce=>S.xWrap.argAdapter("sqlite3*")(ce),Ve=ce=>S.isPtr(ce)?S.cstrToJs(ce):ce,Ze=function(ce,ge){ce=Me(ce);let _e=this.dbMap.get(ce);if(ge)!_e&&ge>0&&this.dbMap.set(ce,_e=Object.create(null));else return this.dbMap.delete(ce),_e;return _e}.bind(Object.assign(Object.create(null),{dbMap:new Map}));Ze.addCollation=function(ce,ge){const _e=Ze(ce,1);_e.collation||(_e.collation=new Set),_e.collation.add(Ve(ge).toLowerCase())},Ze._addUDF=function(ce,ge,_e,We){ge=Ve(ge).toLowerCase();let Be=We.get(ge);Be||We.set(ge,Be=new Set),Be.add(_e<0?-1:_e)},Ze.addFunction=function(ce,ge,_e){const We=Ze(ce,1);We.udf||(We.udf=new Map),this._addUDF(ce,ge,_e,We.udf)},S.exports.sqlite3_create_window_function&&(Ze.addWindowFunc=function(ce,ge,_e){const We=Ze(ce,1);We.wudf||(We.wudf=new Map),this._addUDF(ce,ge,_e,We.wudf)}),Ze.cleanup=function(ce){ce=Me(ce);const ge=[ce];for(const Be of["sqlite3_busy_handler","sqlite3_commit_hook","sqlite3_preupdate_hook","sqlite3_progress_handler","sqlite3_rollback_hook","sqlite3_set_authorizer","sqlite3_trace_v2","sqlite3_update_hook"]){const we=S.exports[Be];if(we){ge.length=we.length;try{x[Be](...ge)}catch($e){p.config.warn("close-time call of",Be+"(",ge,") threw:",$e)}}}const _e=Ze(ce,0);if(!_e)return;if(_e.collation){for(const Be of _e.collation)try{x.sqlite3_create_collation_v2(ce,Be,x.SQLITE_UTF8,0,0,0)}catch{}delete _e.collation}let We;for(We=0;We<2;++We){const Be=We?_e.wudf:_e.udf;if(!Be)continue;const we=We?x.sqlite3_create_window_function:x.sqlite3_create_function_v2;for(const $e of Be){const bt=$e[0],F=$e[1],Z=[ce,bt,0,x.SQLITE_UTF8,0,0,0,0,0];We&&Z.push(0);for(const me of F)try{Z[2]=me,we.apply(null,Z)}catch{}F.clear()}Be.clear()}delete _e.udf,delete _e.wudf};{const ce=S.xWrap("sqlite3_close_v2","int","sqlite3*");x.sqlite3_close_v2=function(ge){if(arguments.length!==1)return X(ge,"sqlite3_close_v2",1);if(ge)try{Ze.cleanup(ge)}catch{}return ce(ge)}}if(x.sqlite3session_create){const ce=S.xWrap("sqlite3session_delete",void 0,["sqlite3_session*"]);x.sqlite3session_delete=function(ge){if(arguments.length!==1)return X(pDb,"sqlite3session_delete",1);ge&&x.sqlite3session_table_filter(ge,0,0),ce(ge)}}{const ce=(_e,We)=>"argv["+We+"]:"+_e[0]+":"+S.cstrToJs(_e[1]).toLowerCase(),ge=S.xWrap("sqlite3_create_collation_v2","int",["sqlite3*","string","int","*",new S.xWrap.FuncPtrAdapter({name:"xCompare",signature:"i(pipip)",contextKey:ce}),new S.xWrap.FuncPtrAdapter({name:"xDestroy",signature:"v(p)",contextKey:ce})]);x.sqlite3_create_collation_v2=function(_e,We,Be,we,$e,bt){if(arguments.length!==6)return X(_e,"sqlite3_create_collation_v2",6);if(!(Be&15))Be|=x.SQLITE_UTF8;else if(x.SQLITE_UTF8!==(Be&15))return se(_e);try{const F=ge(_e,We,Be,we,$e,bt);return F===0&&$e instanceof Function&&Ze.addCollation(_e,We),F}catch(F){return I.sqlite3__wasm_db_error(_e,F)}},x.sqlite3_create_collation=(_e,We,Be,we,$e)=>arguments.length===5?x.sqlite3_create_collation_v2(_e,We,Be,we,$e,0):X(_e,"sqlite3_create_collation",5)}{const ce=function(Be,we){return Be[0]+":"+(Be[2]<0?-1:Be[2])+":"+we+":"+S.cstrToJs(Be[1]).toLowerCase()},ge=Object.assign(Object.create(null),{xInverseAndStep:{signature:"v(pip)",contextKey:ce,callProxy:Be=>(we,$e,bt)=>{try{Be(we,...x.sqlite3_values_to_js($e,bt))}catch(F){x.sqlite3_result_error_js(we,F)}}},xFinalAndValue:{signature:"v(p)",contextKey:ce,callProxy:Be=>we=>{try{x.sqlite3_result_js(we,Be(we))}catch($e){x.sqlite3_result_error_js(we,$e)}}},xFunc:{signature:"v(pip)",contextKey:ce,callProxy:Be=>(we,$e,bt)=>{try{x.sqlite3_result_js(we,Be(we,...x.sqlite3_values_to_js($e,bt)))}catch(F){x.sqlite3_result_error_js(we,F)}}},xDestroy:{signature:"v(p)",contextKey:ce,callProxy:Be=>we=>{try{Be(we)}catch($e){console.error("UDF xDestroy method threw:",$e)}}}}),_e=S.xWrap("sqlite3_create_function_v2","int",["sqlite3*","string","int","int","*",new S.xWrap.FuncPtrAdapter({name:"xFunc",...ge.xFunc}),new S.xWrap.FuncPtrAdapter({name:"xStep",...ge.xInverseAndStep}),new S.xWrap.FuncPtrAdapter({name:"xFinal",...ge.xFinalAndValue}),new S.xWrap.FuncPtrAdapter({name:"xDestroy",...ge.xDestroy})]),We=S.exports.sqlite3_create_window_function?S.xWrap("sqlite3_create_window_function","int",["sqlite3*","string","int","int","*",new S.xWrap.FuncPtrAdapter({name:"xStep",...ge.xInverseAndStep}),new S.xWrap.FuncPtrAdapter({name:"xFinal",...ge.xFinalAndValue}),new S.xWrap.FuncPtrAdapter({name:"xValue",...ge.xFinalAndValue}),new S.xWrap.FuncPtrAdapter({name:"xInverse",...ge.xInverseAndStep}),new S.xWrap.FuncPtrAdapter({name:"xDestroy",...ge.xDestroy})]):void 0;x.sqlite3_create_function_v2=function Be(we,$e,bt,F,Z,me,Ke,V,ee){if(Be.length!==arguments.length)return X(we,"sqlite3_create_function_v2",Be.length);if(!(F&15))F|=x.SQLITE_UTF8;else if(x.SQLITE_UTF8!==(F&15))return se(we);try{const q=_e(we,$e,bt,F,Z,me,Ke,V,ee);return q===0&&(me instanceof Function||Ke instanceof Function||V instanceof Function||ee instanceof Function)&&Ze.addFunction(we,$e,bt),q}catch(q){return console.error("sqlite3_create_function_v2() setup threw:",q),I.sqlite3__wasm_db_error(we,q,"Creation of UDF threw: "+q)}},x.sqlite3_create_function=function Be(we,$e,bt,F,Z,me,Ke,V){return Be.length===arguments.length?x.sqlite3_create_function_v2(we,$e,bt,F,Z,me,Ke,V,0):X(we,"sqlite3_create_function",Be.length)},We?x.sqlite3_create_window_function=function Be(we,$e,bt,F,Z,me,Ke,V,ee,q){if(Be.length!==arguments.length)return X(we,"sqlite3_create_window_function",Be.length);if(!(F&15))F|=x.SQLITE_UTF8;else if(x.SQLITE_UTF8!==(F&15))return se(we);try{const M=We(we,$e,bt,F,Z,me,Ke,V,ee,q);return M===0&&(me instanceof Function||Ke instanceof Function||V instanceof Function||ee instanceof Function||q instanceof Function)&&Ze.addWindowFunc(we,$e,bt),M}catch(M){return console.error("sqlite3_create_window_function() setup threw:",M),I.sqlite3__wasm_db_error(we,M,"Creation of UDF threw: "+M)}}:delete x.sqlite3_create_window_function,x.sqlite3_create_function_v2.udfSetResult=x.sqlite3_create_function.udfSetResult=x.sqlite3_result_js,x.sqlite3_create_window_function&&(x.sqlite3_create_window_function.udfSetResult=x.sqlite3_result_js),x.sqlite3_create_function_v2.udfConvertArgs=x.sqlite3_create_function.udfConvertArgs=x.sqlite3_values_to_js,x.sqlite3_create_window_function&&(x.sqlite3_create_window_function.udfConvertArgs=x.sqlite3_values_to_js),x.sqlite3_create_function_v2.udfSetError=x.sqlite3_create_function.udfSetError=x.sqlite3_result_error_js,x.sqlite3_create_window_function&&(x.sqlite3_create_window_function.udfSetError=x.sqlite3_result_error_js)}{const ce=(_e,We)=>(typeof _e=="string"?We=-1:I.isSQLableTypedArray(_e)?(We=_e.byteLength,_e=I.typedArrayToString(_e instanceof ArrayBuffer?new Uint8Array(_e):_e)):Array.isArray(_e)&&(_e=_e.join(""),We=-1),[_e,We]),ge={basic:S.xWrap("sqlite3_prepare_v3","int",["sqlite3*","string","int","int","**","**"]),full:S.xWrap("sqlite3_prepare_v3","int",["sqlite3*","*","int","int","**","**"])};x.sqlite3_prepare_v3=function _e(We,Be,we,$e,bt,F){if(_e.length!==arguments.length)return X(We,"sqlite3_prepare_v3",_e.length);const[Z,me]=ce(Be,we);switch(typeof Z){case"string":return ge.basic(We,Z,me,$e,bt,null);case"number":return ge.full(We,Z,me,$e,bt,F);default:return I.sqlite3__wasm_db_error(We,x.SQLITE_MISUSE,"Invalid SQL argument type for sqlite3_prepare_v2/v3().")}},x.sqlite3_prepare_v2=function _e(We,Be,we,$e,bt){return _e.length===arguments.length?x.sqlite3_prepare_v3(We,Be,we,0,$e,bt):X(We,"sqlite3_prepare_v2",_e.length)}}{const ce=S.xWrap("sqlite3_bind_text","int",["sqlite3_stmt*","int","string","int","*"]),ge=S.xWrap("sqlite3_bind_blob","int",["sqlite3_stmt*","int","*","int","*"]);x.sqlite3_bind_text=function _e(We,Be,we,$e,bt){if(_e.length!==arguments.length)return X(x.sqlite3_db_handle(We),"sqlite3_bind_text",_e.length);if(S.isPtr(we)||we===null)return ce(We,Be,we,$e,bt);we instanceof ArrayBuffer?we=new Uint8Array(we):Array.isArray(pMem)&&(we=pMem.join(""));let F,Z;try{if(I.isSQLableTypedArray(we))F=S.allocFromTypedArray(we),Z=we.byteLength;else if(typeof we=="string")[F,Z]=S.allocCString(we);else return I.sqlite3__wasm_db_error(x.sqlite3_db_handle(We),x.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_text().");return ce(We,Be,F,Z,x.SQLITE_WASM_DEALLOC)}catch(me){return S.dealloc(F),I.sqlite3__wasm_db_error(x.sqlite3_db_handle(We),me)}},x.sqlite3_bind_blob=function _e(We,Be,we,$e,bt){if(_e.length!==arguments.length)return X(x.sqlite3_db_handle(We),"sqlite3_bind_blob",_e.length);if(S.isPtr(we)||we===null)return ge(We,Be,we,$e,bt);we instanceof ArrayBuffer?we=new Uint8Array(we):Array.isArray(we)&&(we=we.join(""));let F,Z;try{if(I.isBindableTypedArray(we))F=S.allocFromTypedArray(we),Z=$e>=0?$e:we.byteLength;else if(typeof we=="string")[F,Z]=S.allocCString(we);else return I.sqlite3__wasm_db_error(x.sqlite3_db_handle(We),x.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_blob().");return ge(We,Be,F,Z,x.SQLITE_WASM_DEALLOC)}catch(me){return S.dealloc(F),I.sqlite3__wasm_db_error(x.sqlite3_db_handle(We),me)}}}x.sqlite3_config=function(ce,...ge){if(arguments.length<2)return x.SQLITE_MISUSE;switch(ce){case x.SQLITE_CONFIG_COVERING_INDEX_SCAN:case x.SQLITE_CONFIG_MEMSTATUS:case x.SQLITE_CONFIG_SMALL_MALLOC:case x.SQLITE_CONFIG_SORTERREF_SIZE:case x.SQLITE_CONFIG_STMTJRNL_SPILL:case x.SQLITE_CONFIG_URI:return S.exports.sqlite3__wasm_config_i(ce,ge[0]);case x.SQLITE_CONFIG_LOOKASIDE:return S.exports.sqlite3__wasm_config_ii(ce,ge[0],ge[1]);case x.SQLITE_CONFIG_MEMDB_MAXSIZE:return S.exports.sqlite3__wasm_config_j(ce,ge[0]);case x.SQLITE_CONFIG_GETMALLOC:case x.SQLITE_CONFIG_GETMUTEX:case x.SQLITE_CONFIG_GETPCACHE2:case x.SQLITE_CONFIG_GETPCACHE:case x.SQLITE_CONFIG_HEAP:case x.SQLITE_CONFIG_LOG:case x.SQLITE_CONFIG_MALLOC:case x.SQLITE_CONFIG_MMAP_SIZE:case x.SQLITE_CONFIG_MULTITHREAD:case x.SQLITE_CONFIG_MUTEX:case x.SQLITE_CONFIG_PAGECACHE:case x.SQLITE_CONFIG_PCACHE2:case x.SQLITE_CONFIG_PCACHE:case x.SQLITE_CONFIG_PCACHE_HDRSZ:case x.SQLITE_CONFIG_PMASZ:case x.SQLITE_CONFIG_SERIALIZED:case x.SQLITE_CONFIG_SINGLETHREAD:case x.SQLITE_CONFIG_SQLLOG:case x.SQLITE_CONFIG_WIN32_HEAPSIZE:default:return x.SQLITE_NOTFOUND}};{const ce=new Set;x.sqlite3_auto_extension=function(ge){if(ge instanceof Function)ge=S.installFunction("i(ppp)",ge);else if(arguments.length!==1||!S.isPtr(ge))return x.SQLITE_MISUSE;const _e=S.exports.sqlite3_auto_extension(ge);return ge!==arguments[0]&&(_e===0?ce.add(ge):S.uninstallFunction(ge)),_e},x.sqlite3_cancel_auto_extension=function(ge){return!ge||arguments.length!==1||!S.isPtr(ge)?0:S.exports.sqlite3_cancel_auto_extension(ge)},x.sqlite3_reset_auto_extension=function(){S.exports.sqlite3_reset_auto_extension();for(const ge of ce)S.uninstallFunction(ge);ce.clear()}}const it=x.sqlite3_vfs_find("kvvfs");if(it)if(I.isUIThread()){const ce=new x.sqlite3_kvvfs_methods(S.exports.sqlite3__wasm_kvvfs_methods());delete x.sqlite3_kvvfs_methods;const ge=S.exports.sqlite3__wasm_kvvfsMakeKeyOnPstack,_e=S.pstack,We=we=>S.peek(we)===115?sessionStorage:localStorage,Be={xRead:(we,$e,bt,F)=>{const Z=_e.pointer,me=S.scopedAllocPush();try{const Ke=ge(we,$e);if(!Ke)return-3;const V=S.cstrToJs(Ke),ee=We(we).getItem(V);if(!ee)return-1;const q=ee.length;if(F<=0)return q;if(F===1)return S.poke(bt,0),q;const M=S.scopedAllocCString(ee);return F>q+1&&(F=q+1),S.heap8u().copyWithin(bt,M,M+F-1),S.poke(bt+F-1,0),F-1}catch(Ke){return console.error("kvstorageRead()",Ke),-2}finally{_e.restore(Z),S.scopedAllocPop(me)}},xWrite:(we,$e,bt)=>{const F=_e.pointer;try{const Z=ge(we,$e);if(!Z)return 1;const me=S.cstrToJs(Z);return We(we).setItem(me,S.cstrToJs(bt)),0}catch(Z){return console.error("kvstorageWrite()",Z),x.SQLITE_IOERR}finally{_e.restore(F)}},xDelete:(we,$e)=>{const bt=_e.pointer;try{const F=ge(we,$e);return F?(We(we).removeItem(S.cstrToJs(F)),0):1}catch(F){return console.error("kvstorageDelete()",F),x.SQLITE_IOERR}finally{_e.restore(bt)}}};for(const we of Object.keys(Be))ce[ce.memberKey(we)]=S.installFunction(ce.memberSignature(we),Be[we])}else x.sqlite3_vfs_unregister(it);S.xWrap.FuncPtrAdapter.warnOnUse=!0;const Ae=p.StructBinder,Se=function ce(ge,_e,We,Be=ce.installMethodArgcCheck){if(ge instanceof Ae.StructType?!(We instanceof Function)&&!S.isPtr(We)&&_("Usage errror: expecting a Function or WASM pointer to one."):_("Usage error: target object is-not-a StructType."),arguments.length===1)return(F,Z)=>ce(ge,F,Z,Be);ce.argcProxy||(ce.argcProxy=function(F,Z,me,Ke){return function(...V){return me.length!==arguments.length&&_("Argument mismatch for",F.structInfo.name+"::"+Z+": Native signature is:",Ke),me.apply(this,V)}},ce.removeFuncList=function(){this.ondispose.__removeFuncList&&(this.ondispose.__removeFuncList.forEach((F,Z)=>{if(typeof F=="number")try{S.uninstallFunction(F)}catch{}}),delete this.ondispose.__removeFuncList)});const we=ge.memberSignature(_e);we.length<2&&_("Member",_e,"does not have a function pointer signature:",we);const $e=ge.memberKey(_e),bt=Be&&!S.isPtr(We)?ce.argcProxy(ge,$e,We,we):We;if(S.isPtr(bt))bt&&!S.functionEntry(bt)&&_("Pointer",bt,"is not a WASM function table entry."),ge[$e]=bt;else{const F=S.installFunction(bt,ge.memberSignature(_e,!0));ge[$e]=F,(!ge.ondispose||!ge.ondispose.__removeFuncList)&&(ge.addOnDispose("ondispose.__removeFuncList handler",ce.removeFuncList),ge.ondispose.__removeFuncList=[]),ge.ondispose.__removeFuncList.push($e,F)}return(F,Z)=>ce(ge,F,Z,Be)};Se.installMethodArgcCheck=!1;const Ue=function(ce,ge,_e=Se.installMethodArgcCheck){const We=new Map;for(const Be of Object.keys(ge)){const we=ge[Be],$e=We.get(we);if($e){const bt=ce.memberKey(Be);ce[bt]=ce[ce.memberKey($e)]}else Se(ce,Be,we,_e),We.set(we,Be)}return ce};Ae.StructType.prototype.installMethod=function(ge,_e,We=Se.installMethodArgcCheck){return arguments.length<3&&ge&&typeof ge=="object"?Ue(this,...arguments):Se(this,...arguments)},Ae.StructType.prototype.installMethods=function(ce,ge=Se.installMethodArgcCheck){return Ue(this,ce,ge)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(p){p.version={libVersion:"3.47.1",libVersionNumber:3047001,sourceId:"2024-11-25 12:07:48 b95d11e958643b969c47a8e5857f3793b9e69700b8f1469371386369a26e577e",downloadVersion:3470100}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(p){const _=(...V)=>{throw new p.SQLite3Error(...V)},x=p.capi,S=p.wasm,I=p.util,X=new WeakMap,se=new WeakMap,Me=(V,ee,q)=>{const M=Object.getOwnPropertyDescriptor(V,ee);return M?M.value:q},Ve=function(V,ee){return ee&&(V instanceof Se&&(V=V.pointer),_(ee,"sqlite3 result code",ee+":",V?x.sqlite3_errmsg(V):x.sqlite3_errstr(ee))),arguments[0]},Ze=S.installFunction("i(ippp)",function(V,ee,q,M){x.SQLITE_TRACE_STMT===V&&console.log("SQL TRACE #"+ ++this.counter+" via sqlite3@"+ee+":",S.cstrToJs(M))}.bind({counter:0})),it=Object.create(null),Ae=function V(...ee){if(!V._name2vfs){V._name2vfs=Object.create(null);const de=typeof importScripts=="function"?Ie=>_("The VFS for",Ie,"is only available in the main window thread."):!1;V._name2vfs[":localStorage:"]={vfs:"kvvfs",filename:de||(()=>"local")},V._name2vfs[":sessionStorage:"]={vfs:"kvvfs",filename:de||(()=>"session")}}const q=V.normalizeArgs(...ee);let M=q.filename,z=q.vfs,Te=q.flags;(typeof M!="string"&&typeof M!="number"||typeof Te!="string"||z&&typeof z!="string"&&typeof z!="number")&&(p.config.error("Invalid DB ctor args",q,arguments),_("Invalid arguments for DB constructor."));let Qe=typeof M=="number"?S.cstrToJs(M):M;const It=V._name2vfs[Qe];It&&(z=It.vfs,M=Qe=It.filename(Qe));let Lt,Wt=0;Te.indexOf("c")>=0&&(Wt|=x.SQLITE_OPEN_CREATE|x.SQLITE_OPEN_READWRITE),Te.indexOf("w")>=0&&(Wt|=x.SQLITE_OPEN_READWRITE),Wt===0&&(Wt|=x.SQLITE_OPEN_READONLY),Wt|=x.SQLITE_OPEN_EXRESCODE;const Ye=S.pstack.pointer;try{const de=S.pstack.allocPtr();let Ie=x.sqlite3_open_v2(M,de,Wt,z||0);Lt=S.peekPtr(de),Ve(Lt,Ie),x.sqlite3_extended_result_codes(Lt,1),Te.indexOf("t")>=0&&x.sqlite3_trace_v2(Lt,x.SQLITE_TRACE_STMT,Ze,Lt)}catch(de){throw Lt&&x.sqlite3_close_v2(Lt),de}finally{S.pstack.restore(Ye)}this.filename=Qe,X.set(this,Lt),se.set(this,Object.create(null));try{const de=x.sqlite3_js_db_vfs(Lt)||_("Internal error: cannot get VFS for new db handle."),Ie=it[de];Ie&&(Ie instanceof Function?Ie(this,p):Ve(Lt,x.sqlite3_exec(Lt,Ie,0,0,0)))}catch(de){throw this.close(),de}};Ae.setVfsPostOpenCallback=function(V,ee){ee instanceof Function||_("dbCtorHelper.setVfsPostOpenCallback() should not be used with a non-function argument.",arguments),it[V]=ee},Ae.normalizeArgs=function(V=":memory:",ee="c",q=null){const M={};return arguments.length===1&&arguments[0]&&typeof arguments[0]=="object"?(Object.assign(M,arguments[0]),M.flags===void 0&&(M.flags="c"),M.vfs===void 0&&(M.vfs=null),M.filename===void 0&&(M.filename=":memory:")):(M.filename=V,M.flags=ee,M.vfs=q),M};const Se=function(...V){Ae.apply(this,V)};Se.dbCtorHelper=Ae;const Ue={null:1,number:2,string:3,boolean:4,blob:5};Ue.undefined==Ue.null,S.bigIntEnabled&&(Ue.bigint=Ue.number);const ce=function(){Ue!==arguments[2]&&_(x.SQLITE_MISUSE,"Do not call the Stmt constructor directly. Use DB.prepare()."),this.db=arguments[0],X.set(this,arguments[1]),this.parameterCount=x.sqlite3_bind_parameter_count(this.pointer)},ge=function(V){return V.pointer||_("DB has been closed."),V},_e=function(V,ee){return(ee!==(ee|0)||ee<0||ee>=V.columnCount)&&_("Column index",ee,"is out of range."),V},We=function(V,ee){const q=Object.create(null);switch(q.opt=Object.create(null),ee.length){case 1:typeof ee[0]=="string"||I.isSQLableTypedArray(ee[0])||Array.isArray(ee[0])?q.sql=ee[0]:ee[0]&&typeof ee[0]=="object"&&(q.opt=ee[0],q.sql=q.opt.sql);break;case 2:q.sql=ee[0],q.opt=ee[1];break;default:_("Invalid argument count for exec().")}q.sql=I.flexibleString(q.sql),typeof q.sql!="string"&&_("Missing SQL argument or unsupported SQL value type.");const M=q.opt;switch(M.returnValue){case"resultRows":M.resultRows||(M.resultRows=[]),q.returnVal=()=>M.resultRows;break;case"saveSql":M.saveSql||(M.saveSql=[]),q.returnVal=()=>M.saveSql;break;case void 0:case"this":q.returnVal=()=>V;break;default:_("Invalid returnValue value:",M.returnValue)}if(!M.callback&&!M.returnValue&&M.rowMode!==void 0&&(M.resultRows||(M.resultRows=[]),q.returnVal=()=>M.resultRows),M.callback||M.resultRows)switch(M.rowMode===void 0?"array":M.rowMode){case"object":q.cbArg=(z,Te)=>{Te.columnNames||(Te.columnNames=z.getColumnNames([]));const Qe=z.get([]),It=Object.create(null);for(const Lt in Te.columnNames)It[Te.columnNames[Lt]]=Qe[Lt];return It};break;case"array":q.cbArg=z=>z.get([]);break;case"stmt":Array.isArray(M.resultRows)&&_("exec(): invalid rowMode for a resultRows array: must","be one of 'array', 'object',","a result column number, or column name reference."),q.cbArg=z=>z;break;default:if(I.isInt32(M.rowMode)){q.cbArg=z=>z.get(M.rowMode);break}else if(typeof M.rowMode=="string"&&M.rowMode.length>1&&M.rowMode[0]==="$"){const z=M.rowMode.substr(1);q.cbArg=Te=>{const Qe=Te.get(Object.create(null))[z];return Qe===void 0?_(x.SQLITE_NOTFOUND,"exec(): unknown result column:",z):Qe};break}_("Invalid rowMode:",M.rowMode)}return q},Be=(V,ee,q,...M)=>{const z=V.prepare(ee);try{const Te=z.bind(q).step()?z.get(...M):void 0;return z.reset(),Te}finally{z.finalize()}},we=(V,ee,q,M)=>V.exec({sql:ee,bind:q,rowMode:M,returnValue:"resultRows"});Se.checkRc=(V,ee)=>Ve(V,ee),Se.prototype={isOpen:function(){return!!this.pointer},affirmOpen:function(){return ge(this)},close:function(){if(this.pointer){if(this.onclose&&this.onclose.before instanceof Function)try{this.onclose.before(this)}catch{}const V=this.pointer;if(Object.keys(se.get(this)).forEach((ee,q)=>{if(q&&q.pointer)try{q.finalize()}catch{}}),X.delete(this),se.delete(this),x.sqlite3_close_v2(V),this.onclose&&this.onclose.after instanceof Function)try{this.onclose.after(this)}catch{}delete this.filename}},changes:function(V=!1,ee=!1){const q=ge(this).pointer;return V?ee?x.sqlite3_total_changes64(q):x.sqlite3_total_changes(q):ee?x.sqlite3_changes64(q):x.sqlite3_changes(q)},dbFilename:function(V="main"){return x.sqlite3_db_filename(ge(this).pointer,V)},dbName:function(V=0){return x.sqlite3_db_name(ge(this).pointer,V)},dbVfsName:function(V=0){let ee;const q=x.sqlite3_js_db_vfs(ge(this).pointer,V);if(q){const M=new x.sqlite3_vfs(q);try{ee=S.cstrToJs(M.$zName)}finally{M.dispose()}}return ee},prepare:function(V){ge(this);const ee=S.pstack.pointer;let q,M;try{q=S.pstack.alloc(8),Se.checkRc(this,x.sqlite3_prepare_v2(this.pointer,V,-1,q,null)),M=S.peekPtr(q)}finally{S.pstack.restore(ee)}M||_("Cannot prepare empty SQL.");const z=new ce(this,M,Ue);return se.get(this)[M]=z,z},exec:function(){ge(this);const V=We(this,arguments);if(!V.sql)return _("exec() requires an SQL string.");const ee=V.opt,q=ee.callback,M=Array.isArray(ee.resultRows)?ee.resultRows:void 0;let z,Te=ee.bind,Qe=!!(V.cbArg||ee.columnNames||M);const It=S.scopedAllocPush(),Lt=Array.isArray(ee.saveSql)?ee.saveSql:void 0;try{const Wt=I.isSQLableTypedArray(V.sql);let Ye=Wt?V.sql.byteLength:S.jstrlen(V.sql);const de=S.scopedAlloc(2*S.ptrSizeof+(Ye+1)),Ie=de+S.ptrSizeof;let Ge=Ie+S.ptrSizeof;const nt=Ge+Ye;for(Wt?S.heap8().set(V.sql,Ge):S.jstrcpy(V.sql,S.heap8(),Ge,Ye,!1),S.poke(Ge+Ye,0);Ge&&S.peek(Ge,"i8");){S.pokePtr([de,Ie],0),Se.checkRc(this,x.sqlite3_prepare_v3(this.pointer,Ge,Ye,0,de,Ie));const Rt=S.peekPtr(de);if(Ge=S.peekPtr(Ie),Ye=nt-Ge,!!Rt){if(Lt&&Lt.push(x.sqlite3_sql(Rt).trim()),z=new ce(this,Rt,Ue),Te&&z.parameterCount&&(z.bind(Te),Te=null),Qe&&z.columnCount){let Ut=Array.isArray(ee.columnNames)?0:1;if(Qe=!1,V.cbArg||M){const Ne=Object.create(null);for(;z.step();z._lockedByExec=!1){Ut++===0&&z.getColumnNames(Ne.columnNames=ee.columnNames||[]),z._lockedByExec=!0;const He=V.cbArg(z,Ne);if(M&&M.push(He),q&&q.call(ee,He,z)===!1)break}z._lockedByExec=!1}Ut===0&&z.getColumnNames(ee.columnNames)}else z.step();z.reset().finalize(),z=null}}}finally{S.scopedAllocPop(It),z&&(delete z._lockedByExec,z.finalize())}return V.returnVal()},createFunction:function(ee,q,M){const z=Ne=>Ne instanceof Function;switch(arguments.length){case 1:M=ee,ee=M.name,q=M.xFunc||0;break;case 2:z(q)||(M=q,q=M.xFunc||0);break}M||(M={}),typeof ee!="string"&&_("Invalid arguments: missing function name.");let Te=M.xStep||0,Qe=M.xFinal||0;const It=M.xValue||0,Lt=M.xInverse||0;let Wt;z(q)?(Wt=!1,(z(Te)||z(Qe))&&_("Ambiguous arguments: scalar or aggregate?"),Te=Qe=null):z(Te)?(z(Qe)||_("Missing xFinal() callback for aggregate or window UDF."),q=null):z(Qe)?_("Missing xStep() callback for aggregate or window UDF."):_("Missing function-type properties."),Wt===!1?(z(It)||z(Lt))&&_("xValue and xInverse are not permitted for non-window UDFs."):z(It)?(z(Lt)||_("xInverse must be provided if xValue is."),Wt=!0):z(Lt)&&_("xValue must be provided if xInverse is.");const Ye=M.pApp;Ye!=null&&(typeof Ye!="number"||!I.isInt32(Ye))&&_("Invalid value for pApp property. Must be a legal WASM pointer value.");const de=M.xDestroy||0;de&&!z(de)&&_("xDestroy property must be a function.");let Ie=0;Me(M,"deterministic")&&(Ie|=x.SQLITE_DETERMINISTIC),Me(M,"directOnly")&&(Ie|=x.SQLITE_DIRECTONLY),Me(M,"innocuous")&&(Ie|=x.SQLITE_INNOCUOUS),ee=ee.toLowerCase();const Ge=q||Te,nt=Me(M,"arity"),Rt=typeof nt=="number"?nt:Ge.length?Ge.length-1:0;let Ut;return Wt?Ut=x.sqlite3_create_window_function(this.pointer,ee,Rt,x.SQLITE_UTF8|Ie,Ye||0,Te,Qe,It,Lt,de):Ut=x.sqlite3_create_function_v2(this.pointer,ee,Rt,x.SQLITE_UTF8|Ie,Ye||0,q,Te,Qe,de),Se.checkRc(this,Ut),this},selectValue:function(V,ee,q){return Be(this,V,ee,0,q)},selectValues:function(V,ee,q){const M=this.prepare(V),z=[];try{for(M.bind(ee);M.step();)z.push(M.get(0,q));M.reset()}finally{M.finalize()}return z},selectArray:function(V,ee){return Be(this,V,ee,[])},selectObject:function(V,ee){return Be(this,V,ee,{})},selectArrays:function(V,ee){return we(this,V,ee,"array")},selectObjects:function(V,ee){return we(this,V,ee,"object")},openStatementCount:function(){return this.pointer?Object.keys(se.get(this)).length:0},transaction:function(V){let ee="BEGIN";arguments.length>1&&(/[^a-zA-Z]/.test(arguments[0])&&_(x.SQLITE_MISUSE,"Invalid argument for BEGIN qualifier."),ee+=" "+arguments[0],V=arguments[1]),ge(this).exec(ee);try{const q=V(this);return this.exec("COMMIT"),q}catch(q){throw this.exec("ROLLBACK"),q}},savepoint:function(V){ge(this).exec("SAVEPOINT oo1");try{const ee=V(this);return this.exec("RELEASE oo1"),ee}catch(ee){throw this.exec("ROLLBACK to SAVEPOINT oo1; RELEASE SAVEPOINT oo1"),ee}},checkRc:function(V){return Ve(this,V)}};const $e=function(V){return V.pointer||_("Stmt has been closed."),V},bt=function(V){let ee=Ue[V==null?"null":typeof V];switch(ee){case Ue.boolean:case Ue.null:case Ue.number:case Ue.string:return ee;case Ue.bigint:if(S.bigIntEnabled)return ee;default:return I.isBindableTypedArray(V)?Ue.blob:void 0}},F=function(V){return bt(V)||_("Unsupported bind() argument type:",typeof V)},Z=function(V,ee){const q=typeof ee=="number"?ee:x.sqlite3_bind_parameter_index(V.pointer,ee);return q===0||!I.isInt32(q)?_("Invalid bind() parameter name: "+ee):(q<1||q>V.parameterCount)&&_("Bind index",ee,"is out of range."),q},me=function(V,ee){return V._lockedByExec&&_("Operation is illegal when statement is locked:",ee),V},Ke=function V(ee,q,M,z){me($e(ee),"bind()"),V._||(V._tooBigInt=Qe=>_("BigInt value is too big to store without precision loss:",Qe),V._={string:function(Qe,It,Lt,Wt){const[Ye,de]=S.allocCString(Lt,!0);return(Wt?x.sqlite3_bind_blob:x.sqlite3_bind_text)(Qe.pointer,It,Ye,de,x.SQLITE_WASM_DEALLOC)}}),F(z),q=Z(ee,q);let Te=0;switch(z==null?Ue.null:M){case Ue.null:Te=x.sqlite3_bind_null(ee.pointer,q);break;case Ue.string:Te=V._.string(ee,q,z,!1);break;case Ue.number:{let Qe;I.isInt32(z)?Qe=x.sqlite3_bind_int:typeof z=="bigint"?I.bigIntFits64(z)?S.bigIntEnabled?Qe=x.sqlite3_bind_int64:I.bigIntFitsDouble(z)?(z=Number(z),Qe=x.sqlite3_bind_double):V._tooBigInt(z):V._tooBigInt(z):(z=Number(z),S.bigIntEnabled&&Number.isInteger(z)?Qe=x.sqlite3_bind_int64:Qe=x.sqlite3_bind_double),Te=Qe(ee.pointer,q,z);break}case Ue.boolean:Te=x.sqlite3_bind_int(ee.pointer,q,z?1:0);break;case Ue.blob:{if(typeof z=="string"){Te=V._.string(ee,q,z,!0);break}else z instanceof ArrayBuffer?z=new Uint8Array(z):I.isBindableTypedArray(z)||_("Binding a value as a blob requires","that it be a string, Uint8Array, Int8Array, or ArrayBuffer.");const Qe=S.alloc(z.byteLength||1);S.heap8().set(z.byteLength?z:[0],Qe),Te=x.sqlite3_bind_blob(ee.pointer,q,Qe,z.byteLength,x.SQLITE_WASM_DEALLOC);break}default:p.config.warn("Unsupported bind() argument type:",z),_("Unsupported bind() argument type: "+typeof z)}return Te&&Se.checkRc(ee.db.pointer,Te),ee._mayGet=!1,ee};ce.prototype={finalize:function(){if(this.pointer){me(this,"finalize()");const V=x.sqlite3_finalize(this.pointer);return delete se.get(this.db)[this.pointer],X.delete(this),delete this._mayGet,delete this.parameterCount,delete this._lockedByExec,delete this.db,V}},clearBindings:function(){return me($e(this),"clearBindings()"),x.sqlite3_clear_bindings(this.pointer),this._mayGet=!1,this},reset:function(V){me(this,"reset()"),V&&this.clearBindings();const ee=x.sqlite3_reset($e(this).pointer);return this._mayGet=!1,Ve(this.db,ee),this},bind:function(){$e(this);let V,ee;switch(arguments.length){case 1:V=1,ee=arguments[0];break;case 2:V=arguments[0],ee=arguments[1];break;default:_("Invalid bind() arguments.")}return ee===void 0?this:(this.parameterCount||_("This statement has no bindable parameters."),this._mayGet=!1,ee===null?Ke(this,V,Ue.null,ee):Array.isArray(ee)?(arguments.length!==1&&_("When binding an array, an index argument is not permitted."),ee.forEach((q,M)=>Ke(this,M+1,F(q),q)),this):(ee instanceof ArrayBuffer&&(ee=new Uint8Array(ee)),typeof ee=="object"&&!I.isBindableTypedArray(ee)?(arguments.length!==1&&_("When binding an object, an index argument is not permitted."),Object.keys(ee).forEach(q=>Ke(this,q,F(ee[q]),ee[q])),this):Ke(this,V,F(ee),ee)))},bindAsBlob:function(V,ee){$e(this),arguments.length===1&&(ee=V,V=1);const q=F(ee);return Ue.string!==q&&Ue.blob!==q&&Ue.null!==q&&_("Invalid value type for bindAsBlob()"),Ke(this,V,Ue.blob,ee)},step:function(){me(this,"step()");const V=x.sqlite3_step($e(this).pointer);switch(V){case x.SQLITE_DONE:return this._mayGet=!1;case x.SQLITE_ROW:return this._mayGet=!0;default:this._mayGet=!1,p.config.warn("sqlite3_step() rc=",V,x.sqlite3_js_rc_str(V),"SQL =",x.sqlite3_sql(this.pointer)),Se.checkRc(this.db.pointer,V)}},stepReset:function(){return this.step(),this.reset()},stepFinalize:function(){try{const V=this.step();return this.reset(),V}finally{try{this.finalize()}catch{}}},get:function(V,ee){if($e(this)._mayGet||_("Stmt.step() has not (recently) returned true."),Array.isArray(V)){let q=0;const M=this.columnCount;for(;q<M;)V[q]=this.get(q++);return V}else if(V&&typeof V=="object"){let q=0;const M=this.columnCount;for(;q<M;)V[x.sqlite3_column_name(this.pointer,q)]=this.get(q++);return V}switch(_e(this,V),ee===void 0?x.sqlite3_column_type(this.pointer,V):ee){case x.SQLITE_NULL:return null;case x.SQLITE_INTEGER:if(S.bigIntEnabled){const q=x.sqlite3_column_int64(this.pointer,V);return q>=Number.MIN_SAFE_INTEGER&&q<=Number.MAX_SAFE_INTEGER?Number(q).valueOf():q}else{const q=x.sqlite3_column_double(this.pointer,V);return(q>Number.MAX_SAFE_INTEGER||q<Number.MIN_SAFE_INTEGER)&&_("Integer is out of range for JS integer range: "+q),I.isInt32(q)?q|0:q}case x.SQLITE_FLOAT:return x.sqlite3_column_double(this.pointer,V);case x.SQLITE_TEXT:return x.sqlite3_column_text(this.pointer,V);case x.SQLITE_BLOB:{const q=x.sqlite3_column_bytes(this.pointer,V),M=x.sqlite3_column_blob(this.pointer,V),z=new Uint8Array(q);return q&&z.set(S.heap8u().slice(M,M+q),0),q&&this.db._blobXfer instanceof Array&&this.db._blobXfer.push(z.buffer),z}default:_("Don't know how to translate","type of result column #"+V+".")}_("Not reached.")},getInt:function(V){return this.get(V,x.SQLITE_INTEGER)},getFloat:function(V){return this.get(V,x.SQLITE_FLOAT)},getString:function(V){return this.get(V,x.SQLITE_TEXT)},getBlob:function(V){return this.get(V,x.SQLITE_BLOB)},getJSON:function(V){const ee=this.get(V,x.SQLITE_STRING);return ee===null?ee:JSON.parse(ee)},getColumnName:function(V){return x.sqlite3_column_name(_e($e(this),V).pointer,V)},getColumnNames:function(V=[]){_e($e(this),0);const ee=this.columnCount;for(let q=0;q<ee;++q)V.push(x.sqlite3_column_name(this.pointer,q));return V},getParamIndex:function(V){return $e(this).parameterCount?x.sqlite3_bind_parameter_index(this.pointer,V):void 0},getParamName:function(V){return $e(this).parameterCount?x.sqlite3_bind_parameter_name(this.pointer,V):void 0},isBusy:function(){return x.sqlite3_stmt_busy($e(this))!==0},isReadOnly:function(){return x.sqlite3_stmt_readonly($e(this))!==0}};{const V={enumerable:!0,get:function(){return X.get(this)},set:()=>_("The pointer property is read-only.")};Object.defineProperty(ce.prototype,"pointer",V),Object.defineProperty(Se.prototype,"pointer",V)}if(Object.defineProperty(ce.prototype,"columnCount",{enumerable:!1,get:function(){return x.sqlite3_column_count(this.pointer)},set:()=>_("The columnCount property is read-only.")}),p.oo1={DB:Se,Stmt:ce},I.isUIThread()){p.oo1.JsStorageDb=function(ee="session"){const q=Ae.normalizeArgs(...arguments);ee=q.filename,ee!=="session"&&ee!=="local"&&_("JsStorageDb db name must be one of 'session' or 'local'."),q.vfs="kvvfs",Ae.call(this,q)};const V=p.oo1.JsStorageDb;V.prototype=Object.create(Se.prototype),V.clearStorage=x.sqlite3_js_kvvfs_clear,V.prototype.clearStorage=function(){return V.clearStorage(ge(this).filename)},V.storageSize=x.sqlite3_js_kvvfs_size,V.prototype.storageSize=function(){return V.storageSize(ge(this).filename)}}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(p){const _=p.util;p.initWorker1API=function(){const x=(...Ae)=>{throw new Error(Ae.join(" "))};globalThis.WorkerGlobalScope instanceof Function||x("initWorker1API() must be run from a Worker thread.");const S=this.sqlite3||x("Missing this.sqlite3 object."),I=S.oo1.DB,X=function(Ae){let Se=se.idMap.get(Ae);return Se||(Se="db#"+ ++se.idSeq+"@"+Ae.pointer,se.idMap.set(Ae,Se),Se)},se={dbList:[],idSeq:0,idMap:new WeakMap,xfer:[],open:function(Ae){const Se=new I(Ae);return this.dbs[X(Se)]=Se,this.dbList.indexOf(Se)<0&&this.dbList.push(Se),Se},close:function(Ae,Se){if(Ae){delete this.dbs[X(Ae)];const Ue=Ae.filename,ce=_.sqlite3__wasm_db_vfs(Ae.pointer,0);Ae.close();const ge=this.dbList.indexOf(Ae);ge>=0&&this.dbList.splice(ge,1),Se&&Ue&&ce&&_.sqlite3__wasm_vfs_unlink(ce,Ue)}},post:function(Ae,Se){Se&&Se.length?(globalThis.postMessage(Ae,Array.from(Se)),Se.length=0):globalThis.postMessage(Ae)},dbs:Object.create(null),getDb:function(Ae,Se=!0){return this.dbs[Ae]||(Se?x("Unknown (or closed) DB ID:",Ae):void 0)}},Me=function(Ae=se.dbList[0]){return Ae&&Ae.pointer?Ae:x("DB is not opened.")},Ve=function(Ae,Se=!0){const Ue=se.getDb(Ae.dbId,!1)||se.dbList[0];return Se?Me(Ue):Ue},Ze=function(){return se.dbList[0]&&X(se.dbList[0])},it={open:function(Ae){const Se=Object.create(null),Ue=Ae.args||Object.create(null);Ue.simulateError&&x("Throwing because of simulateError flag.");const ce=Object.create(null);Se.vfs=Ue.vfs,Se.filename=Ue.filename||"";const ge=se.open(Se);return ce.filename=ge.filename,ce.persistent=!!S.capi.sqlite3_js_db_uses_vfs(ge.pointer,"opfs"),ce.dbId=X(ge),ce.vfs=ge.dbVfsName(),ce},close:function(Ae){const Se=Ve(Ae,!1),Ue={filename:Se&&Se.filename};if(Se){const ce=Ae.args&&typeof Ae.args=="object"?!!Ae.args.unlink:!1;se.close(Se,ce)}return Ue},exec:function(Ae){const Se=typeof Ae.args=="string"?{sql:Ae.args}:Ae.args||Object.create(null);Se.rowMode==="stmt"?x("Invalid rowMode for 'exec': stmt mode","does not work in the Worker API."):Se.sql||x("'exec' requires input SQL.");const Ue=Ve(Ae);(Se.callback||Array.isArray(Se.resultRows))&&(Ue._blobXfer=se.xfer);const ce=Se.callback;let ge=0;const _e=!!Se.columnNames;typeof ce=="string"&&(_e||(Se.columnNames=[]),Se.callback=function(We,Be){se.post({type:ce,columnNames:Se.columnNames,rowNumber:++ge,row:We},se.xfer)});try{const We=Se.countChanges?Ue.changes(!0,Se.countChanges===64):void 0;Ue.exec(Se),We!==void 0&&(Se.changeCount=Ue.changes(!0,Se.countChanges===64)-We),Se.callback instanceof Function&&(Se.callback=ce,se.post({type:ce,columnNames:Se.columnNames,rowNumber:null,row:void 0}))}finally{delete Ue._blobXfer,Se.callback&&(Se.callback=ce)}return Se},"config-get":function(){const Ae=Object.create(null),Se=S.config;return["bigIntEnabled"].forEach(function(Ue){Object.getOwnPropertyDescriptor(Se,Ue)&&(Ae[Ue]=Se[Ue])}),Ae.version=S.version,Ae.vfsList=S.capi.sqlite3_js_vfs_list(),Ae},export:function(Ae){const Se=Ve(Ae),Ue={byteArray:S.capi.sqlite3_js_db_export(Se.pointer),filename:Se.filename,mimetype:"application/x-sqlite3"};return se.xfer.push(Ue.byteArray.buffer),Ue},toss:function(Ae){x("Testing worker exception")}};globalThis.onmessage=async function(Ae){Ae=Ae.data;let Se,Ue=Ae.dbId,ce=Ae.type;const ge=performance.now();try{it.hasOwnProperty(ce)&&it[ce]instanceof Function?Se=await it[ce](Ae):x("Unknown db worker message type:",Ae.type)}catch(_e){ce="error",Se={operation:Ae.type,message:_e.message,errorClass:_e.name,input:Ae},_e.stack&&(Se.stack=typeof _e.stack=="string"?_e.stack.split(/\n\s*/):_e.stack)}Ue||(Ue=Se.dbId||Ze()),se.post({type:ce,dbId:Ue,messageId:Ae.messageId,workerReceivedTime:ge,workerRespondTime:performance.now(),departureTime:Ae.departureTime,result:Se},se.xfer)},globalThis.postMessage({type:"sqlite3-api",result:"worker1-ready"})}.bind({sqlite3:p})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(p){const _=p.wasm,x=p.capi,S=p.util.toss3,I=Object.create(null);p.vfs=I,x.sqlite3_vfs.prototype.registerVfs=function(X=!1){this instanceof p.capi.sqlite3_vfs||S("Expecting a sqlite3_vfs-type argument.");const se=x.sqlite3_vfs_register(this,X?1:0);return se&&S("sqlite3_vfs_register(",this,") failed with rc",se),this.pointer!==x.sqlite3_vfs_find(this.$zName)&&S("BUG: sqlite3_vfs_find(vfs.$zName) failed for just-installed VFS",this),this},I.installVfs=function(X){let se=0;const Me=["io","vfs"];for(const Ve of Me){const Ze=X[Ve];Ze&&(++se,Ze.struct.installMethods(Ze.methods,!!Ze.applyArgcCheck),Ve==="vfs"&&(!Ze.struct.$zName&&typeof Ze.name=="string"&&Ze.struct.addOnDispose(Ze.struct.$zName=_.allocCString(Ze.name)),Ze.struct.registerVfs(!!Ze.asDefault)))}return se||S("Misuse: installVfs() options object requires at least","one of:",Me),this}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(p){if(!p.wasm.exports.sqlite3_declare_vtab)return;const _=p.wasm,x=p.capi,S=p.util.toss3,I=Object.create(null);p.vtab=I;const X=x.sqlite3_index_info;X.prototype.nthConstraint=function(Ve,Ze=!1){if(Ve<0||Ve>=this.$nConstraint)return!1;const it=this.$aConstraint+X.sqlite3_index_constraint.structInfo.sizeof*Ve;return Ze?it:new X.sqlite3_index_constraint(it)},X.prototype.nthConstraintUsage=function(Ve,Ze=!1){if(Ve<0||Ve>=this.$nConstraint)return!1;const it=this.$aConstraintUsage+X.sqlite3_index_constraint_usage.structInfo.sizeof*Ve;return Ze?it:new X.sqlite3_index_constraint_usage(it)},X.prototype.nthOrderBy=function(Ve,Ze=!1){if(Ve<0||Ve>=this.$nOrderBy)return!1;const it=this.$aOrderBy+X.sqlite3_index_orderby.structInfo.sizeof*Ve;return Ze?it:new X.sqlite3_index_orderby(it)};const se=function(Ve,Ze){return function(it,Ae=!1){if(arguments.length===0&&(it=new Ze),it instanceof Ze)return this.set(it.pointer,it),it;_.isPtr(it)||p.SQLite3Error.toss("Invalid argument to",Ve+"()");let Se=this.get(it);return Ae&&this.delete(it),Se}.bind(new Map)},Me=function(Ve,Ze){const it=se(Ve,Ze);return Object.assign(Object.create(null),{StructType:Ze,create:Ae=>{const Se=it();return _.pokePtr(Ae,Se.pointer),Se},get:Ae=>it(Ae),unget:Ae=>it(Ae,!0),dispose:Ae=>{const Se=it(Ae,!0);Se&&Se.dispose()}})};I.xVtab=Me("xVtab",x.sqlite3_vtab),I.xCursor=Me("xCursor",x.sqlite3_vtab_cursor),I.xIndexInfo=Ve=>new x.sqlite3_index_info(Ve),I.xError=function Ve(Ze,it,Ae){if(Ve.errorReporter instanceof Function)try{Ve.errorReporter("sqlite3_module::"+Ze+"(): "+it.message)}catch{}let Se;return it instanceof p.WasmAllocError?Se=x.SQLITE_NOMEM:arguments.length>2?Se=Ae:it instanceof p.SQLite3Error&&(Se=it.resultCode),Se||x.SQLITE_ERROR},I.xError.errorReporter=console.error.bind(console),I.xRowid=(Ve,Ze)=>_.poke(Ve,Ze,"i64"),I.setupModule=function(Ve){let Ze=!1;const it=this instanceof x.sqlite3_module?this:Ve.struct||(Ze=new x.sqlite3_module);try{const Ae=Ve.methods||S("Missing 'methods' object.");for(const Se of Object.entries({xConnect:"xCreate",xDisconnect:"xDestroy"})){const Ue=Se[0],ce=Se[1];Ae[Ue]===!0?Ae[Ue]=Ae[ce]:Ae[ce]===!0&&(Ae[ce]=Ae[Ue])}if(Ve.catchExceptions){const Se=function(ge,_e){return["xConnect","xCreate"].indexOf(ge)>=0?function(We,Be,we,$e,bt,F){try{return _e(...arguments)||0}catch(Z){return Z instanceof p.WasmAllocError||(_.dealloc(_.peekPtr(F)),_.pokePtr(F,_.allocCString(Z.message))),I.xError(ge,Z)}}:function(...We){try{return _e(...We)||0}catch(Be){return I.xError(ge,Be)}}},Ue=["xCreate","xConnect","xBestIndex","xDisconnect","xDestroy","xOpen","xClose","xFilter","xNext","xEof","xColumn","xRowid","xUpdate","xBegin","xSync","xCommit","xRollback","xFindFunction","xRename","xSavepoint","xRelease","xRollbackTo","xShadowName"],ce=Object.create(null);for(const ge of Ue){const _e=Ae[ge];if(_e instanceof Function)ge==="xConnect"&&Ae.xCreate===_e?ce[ge]=Ae.xCreate:ge==="xCreate"&&Ae.xConnect===_e?ce[ge]=Ae.xConnect:ce[ge]=Se(ge,_e);else continue}it.installMethods(ce,!1)}else it.installMethods(Ae,!!Ve.applyArgcCheck);if(it.$iVersion===0){let Se;typeof Ve.iVersion=="number"?Se=Ve.iVersion:it.$xShadowName?Se=3:it.$xSavePoint||it.$xRelease||it.$xRollbackTo?Se=2:Se=1,it.$iVersion=Se}}catch(Ae){throw Ze&&Ze.dispose(),Ae}return it},x.sqlite3_module.prototype.setupModule=function(Ve){return I.setupModule.call(this,Ve)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(p){const _=function x(S){if(!globalThis.SharedArrayBuffer||!globalThis.Atomics)return Promise.reject(new Error("Cannot install OPFS: Missing SharedArrayBuffer and/or Atomics. The server must emit the COOP/COEP response headers to enable those. See https://sqlite.org/wasm/doc/trunk/persistence.md#coop-coep"));if(typeof WorkerGlobalScope>"u")return Promise.reject(new Error("The OPFS sqlite3_vfs cannot run in the main thread because it requires Atomics.wait()."));if(!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory)return Promise.reject(new Error("Missing required OPFS APIs."));(!S||typeof S!="object")&&(S=Object.create(null));const I=new URL(globalThis.location.href).searchParams;return I.has("opfs-disable")?Promise.resolve(p):(S.verbose===void 0&&(S.verbose=I.has("opfs-verbose")?+I.get("opfs-verbose")||2:1),S.sanityChecks===void 0&&(S.sanityChecks=I.has("opfs-sanity-check")),S.proxyUri===void 0&&(S.proxyUri=x.defaultProxyUri),typeof S.proxyUri=="function"&&(S.proxyUri=S.proxyUri()),new Promise(function(se,Me){const Ve=[p.config.error,p.config.warn,p.config.log],Ze=(Ne,...He)=>{S.verbose>Ne&&Ve[Ne]("OPFS syncer:",...He)},it=(...Ne)=>Ze(2,...Ne),Ae=(...Ne)=>Ze(1,...Ne),Se=(...Ne)=>Ze(0,...Ne),Ue=p.util.toss,ce=p.capi,ge=p.util,_e=p.wasm,We=ce.sqlite3_vfs,Be=ce.sqlite3_file,we=ce.sqlite3_io_methods,$e=Object.create(null),bt=()=>globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&navigator?.storage?.getDirectory;$e.metrics={dump:function(){let Ne,He=0,Xe=0,xt=0;for(Ne in z.opIds){const gt=Te[Ne];He+=gt.count,Xe+=gt.time,xt+=gt.wait,gt.avgTime=gt.count&&gt.time?gt.time/gt.count:0,gt.avgWait=gt.count&&gt.wait?gt.wait/gt.count:0}p.config.log(globalThis.location.href,"metrics for",globalThis.location.href,":",Te,`
Total of`,He,"op(s) for",Xe,"ms (incl. "+xt+" ms of waiting on the async side)"),p.config.log("Serialization metrics:",Te.s11n),ee.postMessage({type:"opfs-async-metrics"})},reset:function(){let Ne;const He=xt=>xt.count=xt.time=xt.wait=0;for(Ne in z.opIds)He(Te[Ne]=Object.create(null));let Xe=Te.s11n=Object.create(null);Xe=Xe.serialize=Object.create(null),Xe.count=Xe.time=0,Xe=Te.s11n.deserialize=Object.create(null),Xe.count=Xe.time=0}};const F=new we,Z=new We().addOnDispose(()=>F.dispose());let me;const Ke=Ne=>(me=!0,Z.dispose(),Me(Ne)),V=()=>(me=!1,se(p)),ee=new Worker(new URL("/assets/sqlite3-opfs-async-proxy-C_otN2ZJ.js",import.meta.url));setTimeout(()=>{me===void 0&&Ke(new Error("Timeout while waiting for OPFS async proxy worker."))},4e3),ee._originalOnError=ee.onerror,ee.onerror=function(Ne){Se("Error initializing OPFS asyncer:",Ne),Ke(new Error("Loading OPFS async Worker failed for unknown reasons."))};const q=ce.sqlite3_vfs_find(null),M=q?new We(q):null;F.$iVersion=1,Z.$iVersion=2,Z.$szOsFile=ce.sqlite3_file.structInfo.sizeof,Z.$mxPathname=1024,Z.$zName=_e.allocCString("opfs"),Z.$xDlOpen=Z.$xDlError=Z.$xDlSym=Z.$xDlClose=null,Z.addOnDispose("$zName",Z.$zName,"cleanup default VFS wrapper",()=>M?M.dispose():null);const z=Object.create(null);z.verbose=S.verbose,z.littleEndian=(()=>{const Ne=new ArrayBuffer(2);return new DataView(Ne).setInt16(0,256,!0),new Int16Array(Ne)[0]===256})(),z.asyncIdleWaitTime=150,z.asyncS11nExceptions=1,z.fileBufferSize=1024*64,z.sabS11nOffset=z.fileBufferSize,z.sabS11nSize=Z.$mxPathname*2,z.sabIO=new SharedArrayBuffer(z.fileBufferSize+z.sabS11nSize),z.opIds=Object.create(null);const Te=Object.create(null);{let Ne=0;z.opIds.whichOp=Ne++,z.opIds.rc=Ne++,z.opIds.xAccess=Ne++,z.opIds.xClose=Ne++,z.opIds.xDelete=Ne++,z.opIds.xDeleteNoWait=Ne++,z.opIds.xFileSize=Ne++,z.opIds.xLock=Ne++,z.opIds.xOpen=Ne++,z.opIds.xRead=Ne++,z.opIds.xSleep=Ne++,z.opIds.xSync=Ne++,z.opIds.xTruncate=Ne++,z.opIds.xUnlock=Ne++,z.opIds.xWrite=Ne++,z.opIds.mkdir=Ne++,z.opIds["opfs-async-metrics"]=Ne++,z.opIds["opfs-async-shutdown"]=Ne++,z.opIds.retry=Ne++,z.sabOP=new SharedArrayBuffer(Ne*4),$e.metrics.reset()}z.sq3Codes=Object.create(null),["SQLITE_ACCESS_EXISTS","SQLITE_ACCESS_READWRITE","SQLITE_BUSY","SQLITE_CANTOPEN","SQLITE_ERROR","SQLITE_IOERR","SQLITE_IOERR_ACCESS","SQLITE_IOERR_CLOSE","SQLITE_IOERR_DELETE","SQLITE_IOERR_FSYNC","SQLITE_IOERR_LOCK","SQLITE_IOERR_READ","SQLITE_IOERR_SHORT_READ","SQLITE_IOERR_TRUNCATE","SQLITE_IOERR_UNLOCK","SQLITE_IOERR_WRITE","SQLITE_LOCK_EXCLUSIVE","SQLITE_LOCK_NONE","SQLITE_LOCK_PENDING","SQLITE_LOCK_RESERVED","SQLITE_LOCK_SHARED","SQLITE_LOCKED","SQLITE_MISUSE","SQLITE_NOTFOUND","SQLITE_OPEN_CREATE","SQLITE_OPEN_DELETEONCLOSE","SQLITE_OPEN_MAIN_DB","SQLITE_OPEN_READONLY"].forEach(Ne=>{(z.sq3Codes[Ne]=ce[Ne])===void 0&&Ue("Maintenance required: not found:",Ne)}),z.opfsFlags=Object.assign(Object.create(null),{OPFS_UNLOCK_ASAP:1,OPFS_UNLINK_BEFORE_OPEN:2,defaultUnlockAsap:!1});const Qe=(Ne,...He)=>{const Xe=z.opIds[Ne]||Ue("Invalid op ID:",Ne);z.s11n.serialize(...He),Atomics.store(z.sabOPView,z.opIds.rc,-1),Atomics.store(z.sabOPView,z.opIds.whichOp,Xe),Atomics.notify(z.sabOPView,z.opIds.whichOp);const xt=performance.now();for(;Atomics.wait(z.sabOPView,z.opIds.rc,-1)!=="not-equal";);const gt=Atomics.load(z.sabOPView,z.opIds.rc);if(Te[Ne].wait+=performance.now()-xt,gt&&z.asyncS11nExceptions){const Ft=z.s11n.deserialize();Ft&&Se(Ne+"() async error:",...Ft)}return gt};$e.debug={asyncShutdown:()=>{Ae("Shutting down OPFS async listener. The OPFS VFS will no longer work."),Qe("opfs-async-shutdown")},asyncRestart:()=>{Ae("Attempting to restart OPFS VFS async listener. Might work, might not."),ee.postMessage({type:"opfs-async-restart"})}};const It=()=>{if(z.s11n)return z.s11n;const Ne=new TextDecoder,He=new TextEncoder("utf-8"),Xe=new Uint8Array(z.sabIO,z.sabS11nOffset,z.sabS11nSize),xt=new DataView(z.sabIO,z.sabS11nOffset,z.sabS11nSize);z.s11n=Object.create(null);const gt=Object.create(null);gt.number={id:1,size:8,getter:"getFloat64",setter:"setFloat64"},gt.bigint={id:2,size:8,getter:"getBigInt64",setter:"setBigInt64"},gt.boolean={id:3,size:4,getter:"getInt32",setter:"setInt32"},gt.string={id:4};const Ft=Ot=>gt[typeof Ot]||Ue("Maintenance required: this value type cannot be serialized.",Ot),an=Ot=>{switch(Ot){case gt.number.id:return gt.number;case gt.bigint.id:return gt.bigint;case gt.boolean.id:return gt.boolean;case gt.string.id:return gt.string;default:Ue("Invalid type ID:",Ot)}};return z.s11n.deserialize=function(Ot=!1){++Te.s11n.deserialize.count;const fr=performance.now(),Pe=Xe[0],lt=Pe?[]:null;if(Pe){const yt=[];let wt=1,ln,Ln,qn;for(ln=0;ln<Pe;++ln,++wt)yt.push(an(Xe[wt]));for(ln=0;ln<Pe;++ln){const Pn=yt[ln];Pn.getter?(qn=xt[Pn.getter](wt,z.littleEndian),wt+=Pn.size):(Ln=xt.getInt32(wt,z.littleEndian),wt+=4,qn=Ne.decode(Xe.slice(wt,wt+Ln)),wt+=Ln),lt.push(qn)}}return Ot&&(Xe[0]=0),Te.s11n.deserialize.time+=performance.now()-fr,lt},z.s11n.serialize=function(...Ot){const fr=performance.now();if(++Te.s11n.serialize.count,Ot.length){const Pe=[];let lt=0,yt=1;for(Xe[0]=Ot.length&255;lt<Ot.length;++lt,++yt)Pe.push(Ft(Ot[lt])),Xe[yt]=Pe[lt].id;for(lt=0;lt<Ot.length;++lt){const wt=Pe[lt];if(wt.setter)xt[wt.setter](yt,Ot[lt],z.littleEndian),yt+=wt.size;else{const ln=He.encode(Ot[lt]);xt.setInt32(yt,ln.byteLength,z.littleEndian),yt+=4,Xe.set(ln,yt),yt+=ln.byteLength}}}else Xe[0]=0;Te.s11n.serialize.time+=performance.now()-fr},z.s11n},Lt=function Ne(He=16){Ne._chars||(Ne._chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ012346789",Ne._n=Ne._chars.length);const Xe=[];let xt=0;for(;xt<He;++xt){const gt=Math.random()*(Ne._n*64)%Ne._n|0;Xe[xt]=Ne._chars[gt]}return Xe.join("")},Wt=Object.create(null),Ye=Object.create(null);Ye.op=void 0,Ye.start=void 0;const de=Ne=>{Ye.start=performance.now(),Ye.op=Ne,++Te[Ne].count},Ie=()=>Te[Ye.op].time+=performance.now()-Ye.start,Ge={xCheckReservedLock:function(Ne,He){return _e.poke(He,0,"i32"),0},xClose:function(Ne){de("xClose");let He=0;const Xe=Wt[Ne];return Xe&&(delete Wt[Ne],He=Qe("xClose",Ne),Xe.sq3File&&Xe.sq3File.dispose()),Ie(),He},xDeviceCharacteristics:function(Ne){return ce.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(Ne,He,Xe){return ce.SQLITE_NOTFOUND},xFileSize:function(Ne,He){de("xFileSize");let Xe=Qe("xFileSize",Ne);if(Xe==0)try{const xt=z.s11n.deserialize()[0];_e.poke(He,xt,"i64")}catch(xt){Se("Unexpected error reading xFileSize() result:",xt),Xe=z.sq3Codes.SQLITE_IOERR}return Ie(),Xe},xLock:function(Ne,He){de("xLock");const Xe=Wt[Ne];let xt=0;return Xe.lockType?Xe.lockType=He:(xt=Qe("xLock",Ne,He),xt===0&&(Xe.lockType=He)),Ie(),xt},xRead:function(Ne,He,Xe,xt){de("xRead");const gt=Wt[Ne];let Ft;try{Ft=Qe("xRead",Ne,Xe,Number(xt)),(Ft===0||ce.SQLITE_IOERR_SHORT_READ===Ft)&&_e.heap8u().set(gt.sabView.subarray(0,Xe),He)}catch(an){Se("xRead(",arguments,") failed:",an,gt),Ft=ce.SQLITE_IOERR_READ}return Ie(),Ft},xSync:function(Ne,He){de("xSync"),++Te.xSync.count;const Xe=Qe("xSync",Ne,He);return Ie(),Xe},xTruncate:function(Ne,He){de("xTruncate");const Xe=Qe("xTruncate",Ne,Number(He));return Ie(),Xe},xUnlock:function(Ne,He){de("xUnlock");const Xe=Wt[Ne];let xt=0;return ce.SQLITE_LOCK_NONE===He&&Xe.lockType&&(xt=Qe("xUnlock",Ne,He)),xt===0&&(Xe.lockType=He),Ie(),xt},xWrite:function(Ne,He,Xe,xt){de("xWrite");const gt=Wt[Ne];let Ft;try{gt.sabView.set(_e.heap8u().subarray(He,He+Xe)),Ft=Qe("xWrite",Ne,Xe,Number(xt))}catch(an){Se("xWrite(",arguments,") failed:",an,gt),Ft=ce.SQLITE_IOERR_WRITE}return Ie(),Ft}},nt={xAccess:function(Ne,He,Xe,xt){de("xAccess");const gt=Qe("xAccess",_e.cstrToJs(He));return _e.poke(xt,gt?0:1,"i32"),Ie(),0},xCurrentTime:function(Ne,He){return _e.poke(He,2440587.5+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(Ne,He){return _e.poke(He,2440587.5*864e5+new Date().getTime(),"i64"),0},xDelete:function(Ne,He,Xe){de("xDelete");const xt=Qe("xDelete",_e.cstrToJs(He),Xe,!1);return Ie(),xt},xFullPathname:function(Ne,He,Xe,xt){return _e.cstrncpy(xt,He,Xe)<Xe?0:ce.SQLITE_CANTOPEN},xGetLastError:function(Ne,He,Xe){return Ae("OPFS xGetLastError() has nothing sensible to return."),0},xOpen:function(He,Xe,xt,gt,Ft){de("xOpen");let an=0;Xe===0?Xe=Lt():_e.isPtr(Xe)&&(ce.sqlite3_uri_boolean(Xe,"opfs-unlock-asap",0)&&(an|=z.opfsFlags.OPFS_UNLOCK_ASAP),ce.sqlite3_uri_boolean(Xe,"delete-before-open",0)&&(an|=z.opfsFlags.OPFS_UNLINK_BEFORE_OPEN),Xe=_e.cstrToJs(Xe));const Ot=Object.create(null);Ot.fid=xt,Ot.filename=Xe,Ot.sab=new SharedArrayBuffer(z.fileBufferSize),Ot.flags=gt,Ot.readOnly=!(p.SQLITE_OPEN_CREATE&gt)&&!!(gt&ce.SQLITE_OPEN_READONLY);const fr=Qe("xOpen",xt,Xe,gt,an);return fr||(Ot.readOnly&&_e.poke(Ft,ce.SQLITE_OPEN_READONLY,"i32"),Wt[xt]=Ot,Ot.sabView=z.sabFileBufView,Ot.sq3File=new Be(xt),Ot.sq3File.$pMethods=F.pointer,Ot.lockType=ce.SQLITE_LOCK_NONE),Ie(),fr}};M&&(Z.$xRandomness=M.$xRandomness,Z.$xSleep=M.$xSleep),Z.$xRandomness||(nt.xRandomness=function(Ne,He,Xe){const xt=_e.heap8u();let gt=0;for(;gt<He;++gt)xt[Xe+gt]=Math.random()*255e3&255;return gt}),Z.$xSleep||(nt.xSleep=function(Ne,He){return Atomics.wait(z.sabOPView,z.opIds.xSleep,0,He),0}),$e.getResolvedPath=function(Ne,He){const Xe=new URL(Ne,"file://irrelevant").pathname;return He?Xe.split("/").filter(xt=>!!xt):Xe},$e.getDirForFilename=async function(He,Xe=!1){const xt=$e.getResolvedPath(He,!0),gt=xt.pop();let Ft=$e.rootDirectory;for(const an of xt)an&&(Ft=await Ft.getDirectoryHandle(an,{create:!!Xe}));return[Ft,gt]},$e.mkdir=async function(Ne){try{return await $e.getDirForFilename(Ne+"/filepart",!0),!0}catch{return!1}},$e.entryExists=async function(Ne){try{const[He,Xe]=await $e.getDirForFilename(Ne);return await He.getFileHandle(Xe),!0}catch{return!1}},$e.randomFilename=Lt,$e.treeList=async function(){const Ne=async function Xe(xt,gt){gt.name=xt.name,gt.dirs=[],gt.files=[];for await(const Ft of xt.values())if(Ft.kind==="directory"){const an=Object.create(null);gt.dirs.push(an),await Xe(Ft,an)}else gt.files.push(Ft.name)},He=Object.create(null);return await Ne($e.rootDirectory,He),He},$e.rmfr=async function(){const Ne=$e.rootDirectory,He={recurse:!0};for await(const Xe of Ne.values())Ne.removeEntry(Xe.name,He)},$e.unlink=async function(Ne,He=!1,Xe=!1){try{const[xt,gt]=await $e.getDirForFilename(Ne,!1);return await xt.removeEntry(gt,{recursive:He}),!0}catch(xt){if(Xe)throw new Error("unlink(",arguments[0],") failed: "+xt.message,{cause:xt});return!1}},$e.traverse=async function(Ne){const He={recursive:!0,directory:$e.rootDirectory};typeof Ne=="function"&&(Ne={callback:Ne}),Ne=Object.assign(He,Ne||{}),async function xt(gt,Ft){for await(const an of gt.values()){if(Ne.callback(an,gt,Ft)===!1)return!1;if(Ne.recursive&&an.kind==="directory"&&await xt(an,Ft+1)===!1)break}}(Ne.directory,0)};const Rt=async function(Ne,He){const[Xe,xt]=await $e.getDirForFilename(Ne,!0);let Ft=await (await Xe.getFileHandle(xt,{create:!0})).createSyncAccessHandle(),an=0,Ot,fr=!1;try{for(Ft.truncate(0);(Ot=await He())!==void 0;)Ot instanceof ArrayBuffer&&(Ot=new Uint8Array(Ot)),an===0&&Ot.byteLength>=15&&(ge.affirmDbHeader(Ot),fr=!0),Ft.write(Ot,{at:an}),an+=Ot.byteLength;if((an<512||an%512!==0)&&Ue("Input size",an,"is not correct for an SQLite database."),!fr){const Pe=new Uint8Array(20);Ft.read(Pe,{at:0}),ge.affirmDbHeader(Pe)}return Ft.write(new Uint8Array([1,1]),{at:18}),an}catch(Pe){throw await Ft.close(),Ft=void 0,await Xe.removeEntry(xt).catch(()=>{}),Pe}finally{Ft&&await Ft.close()}};if($e.importDb=async function(Ne,He){if(He instanceof Function)return Rt(Ne,He);He instanceof ArrayBuffer&&(He=new Uint8Array(He)),ge.affirmIsDb(He);const Xe=He.byteLength,[xt,gt]=await $e.getDirForFilename(Ne,!0);let Ft,an=0;try{return Ft=await (await xt.getFileHandle(gt,{create:!0})).createSyncAccessHandle(),Ft.truncate(0),an=Ft.write(He,{at:0}),an!=Xe&&Ue("Expected to write "+Xe+" bytes but wrote "+an+"."),Ft.write(new Uint8Array([1,1]),{at:18}),an}catch(Ot){throw Ft&&(await Ft.close(),Ft=void 0),await xt.removeEntry(gt).catch(()=>{}),Ot}finally{Ft&&await Ft.close()}},p.oo1){const Ne=function(...He){const Xe=p.oo1.DB.dbCtorHelper.normalizeArgs(...He);Xe.vfs=Z.$zName,p.oo1.DB.dbCtorHelper.call(this,Xe)};Ne.prototype=Object.create(p.oo1.DB.prototype),p.oo1.OpfsDb=Ne,Ne.importDb=$e.importDb,p.oo1.DB.dbCtorHelper.setVfsPostOpenCallback(Z.pointer,function(He,Xe){Xe.capi.sqlite3_busy_timeout(He,1e4)})}const Ut=function(){const Ne=_e.scopedAllocPush(),He=new Be;try{const Xe=He.pointer,xt=ce.SQLITE_OPEN_CREATE|ce.SQLITE_OPEN_READWRITE|ce.SQLITE_OPEN_MAIN_DB,gt=_e.scopedAlloc(8),Ft="/sanity/check/file"+Lt(8),an=_e.scopedAllocCString(Ft);let Ot;if(z.s11n.serialize("This is \xe4 string."),Ot=z.s11n.deserialize(),it("deserialize() says:",Ot),Ot[0]!=="This is \xe4 string."&&Ue("String d13n error."),nt.xAccess(Z.pointer,an,0,gt),Ot=_e.peek(gt,"i32"),it("xAccess(",Ft,") exists ?=",Ot),Ot=nt.xOpen(Z.pointer,an,Xe,xt,gt),it("open rc =",Ot,"state.sabOPView[xOpen] =",z.sabOPView[z.opIds.xOpen]),Ot!==0){Se("open failed with code",Ot);return}nt.xAccess(Z.pointer,an,0,gt),Ot=_e.peek(gt,"i32"),Ot||Ue("xAccess() failed to detect file."),Ot=Ge.xSync(He.pointer,0),Ot&&Ue("sync failed w/ rc",Ot),Ot=Ge.xTruncate(He.pointer,1024),Ot&&Ue("truncate failed w/ rc",Ot),_e.poke(gt,0,"i64"),Ot=Ge.xFileSize(He.pointer,gt),Ot&&Ue("xFileSize failed w/ rc",Ot),it("xFileSize says:",_e.peek(gt,"i64")),Ot=Ge.xWrite(He.pointer,an,10,1),Ot&&Ue("xWrite() failed!");const fr=_e.scopedAlloc(16);Ot=Ge.xRead(He.pointer,fr,6,2),_e.poke(fr+6,0);let Pe=_e.cstrToJs(fr);it("xRead() got:",Pe),Pe!=="sanity"&&Ue("Unexpected xRead() value."),nt.xSleep&&(it("xSleep()ing before close()ing..."),nt.xSleep(Z.pointer,2e3),it("waking up from xSleep()")),Ot=Ge.xClose(Xe),it("xClose rc =",Ot,"sabOPView =",z.sabOPView),it("Deleting file:",Ft),nt.xDelete(Z.pointer,an,4660),nt.xAccess(Z.pointer,an,0,gt),Ot=_e.peek(gt,"i32"),Ot&&Ue("Expecting 0 from xAccess(",Ft,") after xDelete()."),Ae("End of OPFS sanity checks.")}finally{He.dispose(),_e.scopedAllocPop(Ne)}};ee.onmessage=function({data:Ne}){switch(Ne.type){case"opfs-unavailable":Ke(new Error(Ne.payload.join(" ")));break;case"opfs-async-loaded":ee.postMessage({type:"opfs-async-init",args:z});break;case"opfs-async-inited":{if(me===!0)break;try{p.vfs.installVfs({io:{struct:F,methods:Ge},vfs:{struct:Z,methods:nt}}),z.sabOPView=new Int32Array(z.sabOP),z.sabFileBufView=new Uint8Array(z.sabIO,0,z.fileBufferSize),z.sabS11nView=new Uint8Array(z.sabIO,z.sabS11nOffset,z.sabS11nSize),It(),S.sanityChecks&&(Ae("Running sanity checks because of opfs-sanity-check URL arg..."),Ut()),bt()?navigator.storage.getDirectory().then(He=>{ee.onerror=ee._originalOnError,delete ee._originalOnError,p.opfs=$e,$e.rootDirectory=He,it("End of OPFS sqlite3_vfs setup.",Z),V()}).catch(Ke):V()}catch(He){Se(He),Ke(He)}break}default:{const He="Unexpected message from the OPFS async worker: "+JSON.stringify(Ne);Se(He),Ke(new Error(He));break}}}}))};_.defaultProxyUri="sqlite3-opfs-async-proxy.js",globalThis.sqlite3ApiBootstrap.initializersAsync.push(async x=>{try{let S=_.defaultProxyUri;return x.scriptInfo.sqlite3Dir&&(_.defaultProxyUri=x.scriptInfo.sqlite3Dir+S),_().catch(I=>{x.config.warn("Ignoring inability to install OPFS sqlite3_vfs:",I.message)})}catch(S){return x.config.error("installOpfsVfs() exception:",S),Promise.reject(S)}})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(p){const _=p.util.toss,x=p.util.toss3,S=Object.create(null),I=p.capi,X=p.util,se=p.wasm,Me=4096,Ve=512,Ze=4,it=8,Ae=Ve+Ze,Se=Ve,Ue=Ae,ce=Me,ge=I.SQLITE_OPEN_MAIN_DB|I.SQLITE_OPEN_MAIN_JOURNAL|I.SQLITE_OPEN_SUPER_JOURNAL|I.SQLITE_OPEN_WAL,_e=".opaque",We=()=>Math.random().toString(36).slice(2),Be=new TextDecoder,we=new TextEncoder,$e=Object.assign(Object.create(null),{name:"opfs-sahpool",directory:void 0,initialCapacity:6,clearOnInit:!1,verbosity:2,forceReinitIfPreviouslyFailed:!1}),bt=[p.config.error,p.config.warn,p.config.log];p.config.log;const F=p.config.warn;p.config.error;const Z=new Map,me=Ye=>Z.get(Ye),Ke=(Ye,de)=>{de?Z.set(Ye,de):Z.delete(Ye)},V=new Map,ee=Ye=>V.get(Ye),q=(Ye,de)=>{de?V.set(Ye,de):V.delete(Ye)},M={xCheckReservedLock:function(Ye,de){const Ie=ee(Ye);return Ie.log("xCheckReservedLock"),Ie.storeErr(),se.poke32(de,1),0},xClose:function(Ye){const de=ee(Ye);de.storeErr();const Ie=de.getOFileForS3File(Ye);if(Ie)try{de.log(`xClose ${Ie.path}`),de.mapS3FileToOFile(Ye,!1),Ie.sah.flush(),Ie.flags&I.SQLITE_OPEN_DELETEONCLOSE&&de.deletePath(Ie.path)}catch(Ge){return de.storeErr(Ge,I.SQLITE_IOERR)}return 0},xDeviceCharacteristics:function(Ye){return I.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(Ye,de,Ie){return I.SQLITE_NOTFOUND},xFileSize:function(Ye,de){const Ie=ee(Ye);Ie.log("xFileSize");const nt=Ie.getOFileForS3File(Ye).sah.getSize()-ce;return se.poke64(de,BigInt(nt)),0},xLock:function(Ye,de){const Ie=ee(Ye);Ie.log(`xLock ${de}`),Ie.storeErr();const Ge=Ie.getOFileForS3File(Ye);return Ge.lockType=de,0},xRead:function(Ye,de,Ie,Ge){const nt=ee(Ye);nt.storeErr();const Rt=nt.getOFileForS3File(Ye);nt.log(`xRead ${Rt.path} ${Ie} @ ${Ge}`);try{const Ut=Rt.sah.read(se.heap8u().subarray(de,de+Ie),{at:ce+Number(Ge)});return Ut<Ie?(se.heap8u().fill(0,de+Ut,de+Ie),I.SQLITE_IOERR_SHORT_READ):0}catch(Ut){return nt.storeErr(Ut,I.SQLITE_IOERR)}},xSectorSize:function(Ye){return Me},xSync:function(Ye,de){const Ie=ee(Ye);Ie.log(`xSync ${de}`),Ie.storeErr();const Ge=Ie.getOFileForS3File(Ye);try{return Ge.sah.flush(),0}catch(nt){return Ie.storeErr(nt,I.SQLITE_IOERR)}},xTruncate:function(Ye,de){const Ie=ee(Ye);Ie.log(`xTruncate ${de}`),Ie.storeErr();const Ge=Ie.getOFileForS3File(Ye);try{return Ge.sah.truncate(ce+Number(de)),0}catch(nt){return Ie.storeErr(nt,I.SQLITE_IOERR)}},xUnlock:function(Ye,de){const Ie=ee(Ye);Ie.log("xUnlock");const Ge=Ie.getOFileForS3File(Ye);return Ge.lockType=de,0},xWrite:function(Ye,de,Ie,Ge){const nt=ee(Ye);nt.storeErr();const Rt=nt.getOFileForS3File(Ye);nt.log(`xWrite ${Rt.path} ${Ie} ${Ge}`);try{const Ut=Rt.sah.write(se.heap8u().subarray(de,de+Ie),{at:ce+Number(Ge)});return Ie===Ut?0:_("Unknown write() failure.")}catch(Ut){return nt.storeErr(Ut,I.SQLITE_IOERR)}}},z=new I.sqlite3_io_methods;z.$iVersion=1,p.vfs.installVfs({io:{struct:z,methods:M}});const Te={xAccess:function(Ye,de,Ie,Ge){const nt=me(Ye);nt.storeErr();try{const Rt=nt.getPath(de);se.poke32(Ge,nt.hasFilename(Rt)?1:0)}catch{se.poke32(Ge,0)}return 0},xCurrentTime:function(Ye,de){return se.poke(de,2440587.5+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(Ye,de){return se.poke(de,2440587.5*864e5+new Date().getTime(),"i64"),0},xDelete:function(Ye,de,Ie){const Ge=me(Ye);Ge.log(`xDelete ${se.cstrToJs(de)}`),Ge.storeErr();try{return Ge.deletePath(Ge.getPath(de)),0}catch(nt){return Ge.storeErr(nt),I.SQLITE_IOERR_DELETE}},xFullPathname:function(Ye,de,Ie,Ge){return se.cstrncpy(Ge,de,Ie)<Ie?0:I.SQLITE_CANTOPEN},xGetLastError:function(Ye,de,Ie){const Ge=me(Ye),nt=Ge.popErr();if(Ge.log(`xGetLastError ${de} e =`,nt),nt){const Rt=se.scopedAllocPush();try{const[Ut,Ne]=se.scopedAllocCString(nt.message,!0);se.cstrncpy(Ie,Ut,de),Ne>de&&se.poke8(Ie+de-1,0)}catch{return I.SQLITE_NOMEM}finally{se.scopedAllocPop(Rt)}}return nt?nt.sqlite3Rc||I.SQLITE_IOERR:0},xOpen:function(de,Ie,Ge,nt,Rt){const Ut=me(de);try{Ut.log(`xOpen ${se.cstrToJs(Ie)} ${nt}`);const Ne=Ie&&se.peek8(Ie)?Ut.getPath(Ie):We();let He=Ut.getSAHForPath(Ne);!He&&nt&I.SQLITE_OPEN_CREATE&&(Ut.getFileCount()<Ut.getCapacity()?(He=Ut.nextAvailableSAH(),Ut.setAssociatedPath(He,Ne,nt)):_("SAH pool is full. Cannot create file",Ne)),He||_("file not found:",Ne);const Xe={path:Ne,flags:nt,sah:He};Ut.mapS3FileToOFile(Ge,Xe),Xe.lockType=I.SQLITE_LOCK_NONE;const xt=new I.sqlite3_file(Ge);return xt.$pMethods=z.pointer,xt.dispose(),se.poke32(Rt,nt),0}catch(Ne){return Ut.storeErr(Ne),I.SQLITE_CANTOPEN}}},Qe=function(Ye){p.capi.sqlite3_vfs_find(Ye)&&x("VFS name is already registered:",Ye);const de=new I.sqlite3_vfs,Ie=I.sqlite3_vfs_find(null),Ge=Ie?new I.sqlite3_vfs(Ie):null;return de.$iVersion=2,de.$szOsFile=I.sqlite3_file.structInfo.sizeof,de.$mxPathname=Ve,de.addOnDispose(de.$zName=se.allocCString(Ye),()=>Ke(de.pointer,0)),Ge&&(de.$xRandomness=Ge.$xRandomness,de.$xSleep=Ge.$xSleep,Ge.dispose()),!de.$xRandomness&&!Te.xRandomness&&(Te.xRandomness=function(nt,Rt,Ut){const Ne=se.heap8u();let He=0;for(;He<Rt;++He)Ne[Ut+He]=Math.random()*255e3&255;return He}),!de.$xSleep&&!Te.xSleep&&(Te.xSleep=(nt,Rt)=>0),p.vfs.installVfs({vfs:{struct:de,methods:Te}}),de};class It{vfsDir;#e;#t;#n;#r=new Map;#i=new Map;#s=new Set;#o=new Map;#a=new Uint8Array(Ae);#c;#l;#u;constructor(de=Object.create(null)){this.#u=de.verbosity??$e.verbosity,this.vfsName=de.name||$e.name,this.#l=Qe(this.vfsName),Ke(this.#l.pointer,this),this.vfsDir=de.directory||"."+this.vfsName,this.#c=new DataView(this.#a.buffer,this.#a.byteOffset),this.isReady=this.reset(!!(de.clearOnInit??$e.clearOnInit)).then(()=>{if(this.$error)throw this.$error;return this.getCapacity()?Promise.resolve(void 0):this.addCapacity(de.initialCapacity||$e.initialCapacity)})}#d(de,...Ie){this.#u>de&&bt[de](this.vfsName+":",...Ie)}log(...de){this.#d(2,...de)}warn(...de){this.#d(1,...de)}error(...de){this.#d(0,...de)}getVfs(){return this.#l}getCapacity(){return this.#r.size}getFileCount(){return this.#i.size}getFileNames(){const de=[],Ie=this.#i.keys();for(const Ge of Ie)de.push(Ge);return de}async addCapacity(de){for(let Ie=0;Ie<de;++Ie){const Ge=We(),Rt=await (await this.#t.getFileHandle(Ge,{create:!0})).createSyncAccessHandle();this.#r.set(Rt,Ge),this.setAssociatedPath(Rt,"",0)}return this.getCapacity()}async reduceCapacity(de){let Ie=0;for(const Ge of Array.from(this.#s)){if(Ie===de||this.getFileCount()===this.getCapacity())break;const nt=this.#r.get(Ge);Ge.close(),await this.#t.removeEntry(nt),this.#r.delete(Ge),this.#s.delete(Ge),++Ie}return Ie}releaseAccessHandles(){for(const de of this.#r.keys())de.close();this.#r.clear(),this.#i.clear(),this.#s.clear()}async acquireAccessHandles(de){const Ie=[];for await(const[Ge,nt]of this.#t)nt.kind==="file"&&Ie.push([Ge,nt]);return Promise.all(Ie.map(async([Ge,nt])=>{try{const Rt=await nt.createSyncAccessHandle();if(this.#r.set(Rt,Ge),de)Rt.truncate(ce),this.setAssociatedPath(Rt,"",0);else{const Ut=this.getAssociatedPath(Rt);Ut?this.#i.set(Ut,Rt):this.#s.add(Rt)}}catch(Rt){throw this.storeErr(Rt),this.releaseAccessHandles(),Rt}}))}getAssociatedPath(de){de.read(this.#a,{at:0});const Ie=this.#c.getUint32(Se);if(this.#a[0]&&(Ie&I.SQLITE_OPEN_DELETEONCLOSE||!(Ie&ge)))return F(`Removing file with unexpected flags ${Ie.toString(16)}`,this.#a),this.setAssociatedPath(de,"",0),"";const Ge=new Uint32Array(it/4);de.read(Ge,{at:Ue});const nt=this.computeDigest(this.#a);if(Ge.every((Rt,Ut)=>Rt===nt[Ut])){const Rt=this.#a.findIndex(Ut=>Ut===0);return Rt===0&&de.truncate(ce),Rt?Be.decode(this.#a.subarray(0,Rt)):""}else return F("Disassociating file with bad digest."),this.setAssociatedPath(de,"",0),""}setAssociatedPath(de,Ie,Ge){const nt=we.encodeInto(Ie,this.#a);Ve<=nt.written+1&&_("Path too long:",Ie),this.#a.fill(0,nt.written,Ve),this.#c.setUint32(Se,Ge);const Rt=this.computeDigest(this.#a);de.write(this.#a,{at:0}),de.write(Rt,{at:Ue}),de.flush(),Ie?(this.#i.set(Ie,de),this.#s.delete(de)):(de.truncate(ce),this.#s.add(de))}computeDigest(de){let Ie=0xdeadbeef,Ge=0x41c6ce57;for(const nt of de)Ie=31*Ie+nt*307,Ge=31*Ge+nt*307;return new Uint32Array([Ie>>>0,Ge>>>0])}async reset(de){await this.isReady;let Ie=await navigator.storage.getDirectory(),Ge;for(const nt of this.vfsDir.split("/"))nt&&(Ge=Ie,Ie=await Ie.getDirectoryHandle(nt,{create:!0}));return this.#e=Ie,this.#n=Ge,this.#t=await this.#e.getDirectoryHandle(_e,{create:!0}),this.releaseAccessHandles(),this.acquireAccessHandles(de)}getPath(de){return se.isPtr(de)&&(de=se.cstrToJs(de)),(de instanceof URL?de:new URL(de,"file://localhost/")).pathname}deletePath(de){const Ie=this.#i.get(de);return Ie&&(this.#i.delete(de),this.setAssociatedPath(Ie,"",0)),!!Ie}storeErr(de,Ie){return de&&(de.sqlite3Rc=Ie||I.SQLITE_IOERR,this.error(de)),this.$error=de,Ie}popErr(){const de=this.$error;return this.$error=void 0,de}nextAvailableSAH(){const[de]=this.#s.keys();return de}getOFileForS3File(de){return this.#o.get(de)}mapS3FileToOFile(de,Ie){Ie?(this.#o.set(de,Ie),q(de,this)):(this.#o.delete(de),q(de,!1))}hasFilename(de){return this.#i.has(de)}getSAHForPath(de){return this.#i.get(de)}async removeVfs(){if(!this.#l.pointer||!this.#t)return!1;I.sqlite3_vfs_unregister(this.#l.pointer),this.#l.dispose(),delete S[this.vfsName];try{this.releaseAccessHandles(),await this.#e.removeEntry(_e,{recursive:!0}),this.#t=void 0,await this.#n.removeEntry(this.#e.name,{recursive:!0}),this.#e=this.#n=void 0}catch(de){p.config.error(this.vfsName,"removeVfs() failed:",de)}return!0}exportFile(de){const Ie=this.#i.get(de)||_("File not found:",de),Ge=Ie.getSize()-ce,nt=new Uint8Array(Ge>0?Ge:0);if(Ge>0){const Rt=Ie.read(nt,{at:ce});Rt!=Ge&&_("Expected to read "+Ge+" bytes but read "+Rt+".")}return nt}async importDbChunked(de,Ie){const Ge=this.#i.get(de)||this.nextAvailableSAH()||_("No available handles to import to.");Ge.truncate(0);let nt=0,Rt,Ut=!1;try{for(;(Rt=await Ie())!==void 0;)Rt instanceof ArrayBuffer&&(Rt=new Uint8Array(Rt)),nt===0&&Rt.byteLength>=15&&(X.affirmDbHeader(Rt),Ut=!0),Ge.write(Rt,{at:ce+nt}),nt+=Rt.byteLength;if((nt<512||nt%512!==0)&&_("Input size",nt,"is not correct for an SQLite database."),!Ut){const Ne=new Uint8Array(20);Ge.read(Ne,{at:0}),X.affirmDbHeader(Ne)}Ge.write(new Uint8Array([1,1]),{at:ce+18})}catch(Ne){throw this.setAssociatedPath(Ge,"",0),Ne}return this.setAssociatedPath(Ge,de,I.SQLITE_OPEN_MAIN_DB),nt}importDb(de,Ie){if(Ie instanceof ArrayBuffer)Ie=new Uint8Array(Ie);else if(Ie instanceof Function)return this.importDbChunked(de,Ie);const Ge=this.#i.get(de)||this.nextAvailableSAH()||_("No available handles to import to."),nt=Ie.byteLength;(nt<512||nt%512!=0)&&_("Byte array size is invalid for an SQLite db.");const Rt="SQLite format 3";for(let Ne=0;Ne<Rt.length;++Ne)Rt.charCodeAt(Ne)!==Ie[Ne]&&_("Input does not contain an SQLite database header.");const Ut=Ge.write(Ie,{at:ce});return Ut!=nt?(this.setAssociatedPath(Ge,"",0),_("Expected to write "+nt+" bytes but wrote "+Ut+".")):(Ge.write(new Uint8Array([1,1]),{at:ce+18}),this.setAssociatedPath(Ge,de,I.SQLITE_OPEN_MAIN_DB)),Ut}}class Lt{#e;constructor(de){this.#e=de,this.vfsName=de.vfsName}async addCapacity(de){return this.#e.addCapacity(de)}async reduceCapacity(de){return this.#e.reduceCapacity(de)}getCapacity(){return this.#e.getCapacity(this.#e)}getFileCount(){return this.#e.getFileCount()}getFileNames(){return this.#e.getFileNames()}async reserveMinimumCapacity(de){const Ie=this.#e.getCapacity();return Ie<de?this.#e.addCapacity(de-Ie):Ie}exportFile(de){return this.#e.exportFile(de)}importDb(de,Ie){return this.#e.importDb(de,Ie)}async wipeFiles(){return this.#e.reset(!0)}unlink(de){return this.#e.deletePath(de)}async removeVfs(){return this.#e.removeVfs()}}const Wt=async()=>{const Ye=await navigator.storage.getDirectory(),de=".opfs-sahpool-sync-check-"+We(),nt=(await (await Ye.getFileHandle(de,{create:!0})).createSyncAccessHandle()).close();return await nt,await Ye.removeEntry(de),nt?.then&&_("The local OPFS API is too old for opfs-sahpool:","it has an async FileSystemSyncAccessHandle.close() method."),!0};p.installOpfsSAHPoolVfs=async function(Ye=Object.create(null)){Ye=Object.assign(Object.create(null),$e,Ye||{});const de=Ye.name;if(Ye.$testThrowPhase1)throw Ye.$testThrowPhase1;if(S[de])try{return await S[de]}catch(Ie){if(Ye.forceReinitIfPreviouslyFailed)delete S[de];else throw Ie}return!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory?S[de]=Promise.reject(new Error("Missing required OPFS APIs.")):S[de]=Wt().then(async function(){if(Ye.$testThrowPhase2)throw Ye.$testThrowPhase2;const Ie=new It(Ye);return Ie.isReady.then(async()=>{const Ge=new Lt(Ie);if(p.oo1){const nt=p.oo1,Rt=Ie.getVfs(),Ut=function(...Ne){const He=nt.DB.dbCtorHelper.normalizeArgs(...Ne);He.vfs=Rt.$zName,nt.DB.dbCtorHelper.call(this,He)};Ut.prototype=Object.create(nt.DB.prototype),Ge.OpfsSAHPoolDb=Ut}return Ie.log("VFS initialized."),Ge}).catch(async Ge=>{throw await Ie.removeVfs().catch(()=>{}),Ge})}).catch(Ie=>S[de]=Promise.reject(Ie))}}),typeof f<"u"){const p=Object.assign(Object.create(null),{exports:typeof ie>"u"?f.asm:ie,memory:f.wasmMemory},globalThis.sqlite3ApiConfig||{});globalThis.sqlite3ApiConfig=p;let _;try{_=globalThis.sqlite3ApiBootstrap()}catch(x){throw console.error("sqlite3ApiBootstrap() error:",x),x}finally{delete globalThis.sqlite3ApiBootstrap,delete globalThis.sqlite3ApiConfig}f.sqlite3=_}else console.warn("This is not running in an Emscripten module context, so","globalThis.sqlite3ApiBootstrap() is _not_ being called due to lack","of config info for the WASM environment.","It must be called manually.")}),n=l,n}})();const M6=function(){const t=b0;if(!t)throw new Error("Expecting globalThis.sqlite3InitModule to be defined by the Emscripten build.");const e=globalThis.sqlite3InitModuleState=Object.assign(Object.create(null),{moduleScript:globalThis?.document?.currentScript,isWorker:typeof WorkerGlobalScope<"u",location:globalThis.location,urlParams:globalThis?.location?.href?new URL(globalThis.location.href).searchParams:new URLSearchParams});if(e.debugModule=e.urlParams.has("sqlite3.debugModule")?(...n)=>console.warn("sqlite3.debugModule:",...n):()=>{},e.urlParams.has("sqlite3.dir"))e.sqlite3Dir=e.urlParams.get("sqlite3.dir")+"/";else if(e.moduleScript){const n=e.moduleScript.src.split("/");n.pop(),e.sqlite3Dir=n.join("/")+"/"}if(globalThis.sqlite3InitModule=function n(...r){return t(...r).then(i=>{const o=i.sqlite3;o.scriptInfo=e,n.__isUnderTest&&(o.__isUnderTest=!0);const l=o.asyncPostInit;return delete o.asyncPostInit,l()}).catch(i=>{throw console.error("Exception loading sqlite3 module:",i),i})},globalThis.sqlite3InitModule.ready=t.ready,globalThis.sqlite3InitModuleState.moduleScript){const n=globalThis.sqlite3InitModuleState;let r=n.moduleScript.src.split("/");r.pop(),n.scriptDir=r.join("/")+"/"}return e.debugModule("sqlite3InitModuleState =",e),globalThis.sqlite3InitModule}();b0=M6;const $6=b0;globalThis.sqlite3Worker1Promiser=function t(e=t.defaultConfig){if(arguments.length===1&&typeof arguments[0]=="function"){const b=e;e=Object.assign(Object.create(null),t.defaultConfig),e.onready=b}else e=Object.assign(Object.create(null),t.defaultConfig,e);const n=Object.create(null),r=function(){},i=e.onerror||r,o=e.debug||r,l=e.generateMessageId?void 0:Object.create(null),c=e.generateMessageId||function(b){return b.type+"#"+(l[b.type]=(l[b.type]||0)+1)},d=(...b)=>{throw new Error(b.join(" "))};e.worker||(e.worker=t.defaultConfig.worker),typeof e.worker=="function"&&(e.worker=e.worker());let m,y;return e.worker.onmessage=function(b){b=b.data,o("worker1.onmessage",b);let E=n[b.messageId];if(!E){if(b&&b.type==="sqlite3-api"&&b.result==="worker1-ready"){e.onready&&e.onready(y);return}if(E=n[b.type],E&&E.onrow){E.onrow(b);return}e.onunhandled?e.onunhandled(arguments[0]):i("sqlite3Worker1Promiser() unhandled worker message:",b);return}switch(delete n[b.messageId],b.type){case"error":E.reject(b);return;case"open":m||(m=b.dbId);break;case"close":b.dbId===m&&(m=void 0);break}try{E.resolve(b)}catch(N){E.reject(N)}},y=function(){let b;arguments.length===1?b=arguments[0]:arguments.length===2?(b=Object.create(null),b.type=arguments[0],b.args=arguments[1],b.dbId=b.args.dbId):d("Invalid arguments for sqlite3Worker1Promiser()-created factory."),!b.dbId&&b.type!=="open"&&(b.dbId=m),b.messageId=c(b),b.departureTime=performance.now();const E=Object.create(null);E.message=b;let N;b.type==="exec"&&b.args&&(typeof b.args.callback=="function"?(N=b.messageId+":row",E.onrow=b.args.callback,b.args.callback=N,n[N]=E):typeof b.args.callback=="string"&&d("exec callback may not be a string when using the Promise interface."));let O=new Promise(function(T,A){E.resolve=T,E.reject=A,n[b.messageId]=E,o("Posting",b.type,"message to Worker dbId="+(m||"default")+":",b),e.worker.postMessage(b)});return N&&(O=O.finally(()=>delete n[N])),O}};globalThis.sqlite3Worker1Promiser.defaultConfig={worker:function(){return new Worker(new URL("/assets/sqlite3-worker1-bundler-friendly-BF9rosUC.js",import.meta.url),{type:"module"})},onerror:(...t)=>console.error("worker1 promiser error",...t)};sqlite3Worker1Promiser.v2=function(t){let e;typeof t=="function"?(e=t,t={}):typeof t?.onready=="function"&&(e=t.onready,delete t.onready);const n=Object.create(null);t=Object.assign(t||Object.create(null),{onready:async function(i){try{e&&await e(i),n.resolve(i)}catch(o){n.reject(o)}}});const r=new Promise(function(i,o){n.resolve=i,n.reject=o});try{this.original(t)}catch(i){n.reject(i)}return r}.bind({original:sqlite3Worker1Promiser});sqlite3Worker1Promiser.v2;function fI(){let t,e;return{lock:async()=>{for(;t;)await t;t=new Promise(i=>{e=i})},unlock:async()=>{const i=e;t=void 0,e=void 0,i?.()}}}function V_(t,e){const n={rows:[],columns:[]},r=t.exec({sql:e.sql,bind:e.params,returnValue:"resultRows",rowMode:"array",columnNames:n.columns});switch(e.method){case"run":break;case"get":n.rows=r[0]??[];break;case"all":default:n.rows=r;break}return n}function g3(t){const e=t.split(/[\\/]/).filter(o=>o!==""),n=e.pop();if(!n)throw new Error("Database path is invalid.");const r=["journal","wal","shm"].map(o=>`${n}-${o}`);return{directories:e,fileName:n,tempFileNames:r,getDirectoryHandle:async()=>{let o=await navigator.storage.getDirectory();for(let l of e)o=await o.getDirectoryHandle(l);return o}}}async function rw(t,e){let n;if(t instanceof Blob?n=t.stream():n=t,n instanceof ReadableStream&&e){const i=n.getReader();switch(e){case"callback":return async()=>(await i.read()).value;case"buffer":const o=[];let l=!1;for(;!l;){const y=await i.read();y.value&&o.push(y.value),l=y.done}const c=o.reduce((y,b)=>y+b.length,0),d=new Uint8Array(c);let m=0;return o.forEach(y=>{d.set(y,m),m+=y.length}),d}}else return n}class B6{constructor(e){Object.defineProperty(this,"sqlite3",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"db",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dbStorageType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"pointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"userFunctions",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"initMutex",{enumerable:!0,configurable:!0,writable:!0,value:fI()}),Object.defineProperty(this,"transactionMutex",{enumerable:!0,configurable:!0,writable:!0,value:fI()}),Object.defineProperty(this,"transactionKey",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"proxy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reinitChannel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onmessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"init",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{if(!this.config.databasePath)return;await this.initMutex.lock();const{databasePath:i,readOnly:o,verbose:l}=this.config,c=[o===!0?"r":"cw",l===!0?"t":""].join("");try{this.sqlite3||(this.sqlite3=await $6()),this.db&&this.destroy(),"opfs"in this.sqlite3&&i!==":memory:"?(this.db=new this.sqlite3.oo1.OpfsDb(i,c),this.dbStorageType="opfs"):(this.db=new this.sqlite3.oo1.DB(i,c),this.dbStorageType="memory",i!==":memory:"&&console.warn(`The origin private file system is not available, so ${i} will not be persisted. Make sure your web server is configured to use the correct HTTP response headers (See https://sqlocal.dallashoffman.com/guide/setup#cross-origin-isolation).`)),this.dbStorageType!=="memory"&&(this.reinitChannel=new BroadcastChannel(`_sqlocal_reinit_(${i})`),this.reinitChannel.onmessage=d=>{this.config.clientKey!==d.data.clientKey&&this.init(d.data.reason)}),this.userFunctions.forEach(this.initUserFunction),this.execInitStatements(),this.emitMessage({type:"event",event:"connect",reason:r})}catch(d){this.emitMessage({type:"error",error:d,queryKey:null}),this.destroy()}finally{await this.initMutex.unlock()}}}),Object.defineProperty(this,"postMessage",{enumerable:!0,configurable:!0,writable:!0,value:async(r,i)=>{const o=r instanceof MessageEvent?r.data:r;switch(await this.initMutex.lock(),o.type){case"config":this.editConfig(o);break;case"query":case"batch":case"transaction":this.exec(o);break;case"function":this.createUserFunction(o);break;case"getinfo":this.getDatabaseInfo(o);break;case"import":this.importDb(o);break;case"export":this.exportDb(o);break;case"delete":this.deleteDb(o);break;case"destroy":this.destroy(o);break}await this.initMutex.unlock()}}),Object.defineProperty(this,"emitMessage",{enumerable:!0,configurable:!0,writable:!0,value:(r,i=[])=>{this.onmessage&&this.onmessage(r,i)}}),Object.defineProperty(this,"editConfig",{enumerable:!0,configurable:!0,writable:!0,value:r=>{this.config=r.config,this.init("initial")}}),Object.defineProperty(this,"exec",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{if(this.db)try{const i={type:"data",queryKey:r.queryKey,data:[]};switch(r.type){case"query":const o=this.transactionKey!==null&&this.transactionKey===r.transactionKey;try{o||await this.transactionMutex.lock();const l=V_(this.db,r);i.data.push(l)}finally{o||await this.transactionMutex.unlock()}break;case"batch":try{await this.transactionMutex.lock(),this.db.transaction(l=>{for(let c of r.statements){const d=V_(l,c);i.data.push(d)}})}finally{await this.transactionMutex.unlock()}break;case"transaction":if(r.action==="begin"&&(await this.transactionMutex.lock(),this.transactionKey=r.transactionKey,this.db.exec({sql:"BEGIN"})),(r.action==="commit"||r.action==="rollback")&&this.transactionKey!==null&&this.transactionKey===r.transactionKey){const l=r.action==="commit"?"COMMIT":"ROLLBACK";this.db.exec({sql:l}),this.transactionKey=null,await this.transactionMutex.unlock()}break}this.emitMessage(i)}catch(i){this.emitMessage({type:"error",error:i,queryKey:r.queryKey})}}}),Object.defineProperty(this,"execInitStatements",{enumerable:!0,configurable:!0,writable:!0,value:()=>{if(this.db&&this.config.onInitStatements)for(let r of this.config.onInitStatements)V_(this.db,r)}}),Object.defineProperty(this,"getDatabaseInfo",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{try{const i=this.config.databasePath,o=this.dbStorageType,l=o!==void 0?o!=="memory"?await navigator.storage?.persisted():!1:void 0,d=this.db?.exec({sql:"SELECT page_count * page_size AS size FROM pragma_page_count(), pragma_page_size()",returnValue:"resultRows",rowMode:"array"})?.[0]?.[0],m=typeof d=="number"?d:void 0;this.emitMessage({type:"info",queryKey:r.queryKey,info:{databasePath:i,databaseSizeBytes:m,storageType:o,persisted:l}})}catch(i){this.emitMessage({type:"error",queryKey:r.queryKey,error:i})}}}),Object.defineProperty(this,"createUserFunction",{enumerable:!0,configurable:!0,writable:!0,value:r=>{const{functionName:i,functionType:o,queryKey:l}=r;let c;if(this.userFunctions.has(i)){this.emitMessage({type:"error",error:new Error(`A user-defined function with the name "${i}" has already been created for this SQLocal instance.`),queryKey:l});return}o==="callback"?c=(...d)=>{this.emitMessage({type:"callback",name:i,args:d})}:c=this.proxy[`_sqlocal_func_${i}`];try{this.initUserFunction({type:o,name:i,func:c}),this.emitMessage({type:"success",queryKey:l})}catch(d){this.emitMessage({type:"error",error:d,queryKey:l})}}}),Object.defineProperty(this,"initUserFunction",{enumerable:!0,configurable:!0,writable:!0,value:r=>{this.db&&(this.db.createFunction({name:r.name,xFunc:(i,...o)=>r.func(...o),arity:-1}),this.userFunctions.set(r.name,r))}}),Object.defineProperty(this,"importDb",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{if(!this.sqlite3||!this.config.databasePath||!this.db)return;const{queryKey:i,database:o}=r;let l=!1;try{if(this.dbStorageType==="opfs"){this.destroy();const c=await rw(o,"callback");await this.sqlite3.oo1.OpfsDb.importDb(this.config.databasePath,c)}else{const c=await rw(o,"buffer"),d=this.sqlite3.wasm.allocFromTypedArray(c);this.pointers.push(d);const m=this.sqlite3.capi.sqlite3_deserialize(this.db,"main",d,c.byteLength,c.byteLength,this.config.readOnly?this.sqlite3.capi.SQLITE_DESERIALIZE_READONLY:this.sqlite3.capi.SQLITE_DESERIALIZE_RESIZEABLE);this.db.checkRc(m),this.execInitStatements()}}catch(c){this.emitMessage({type:"error",error:c,queryKey:i}),l=!0}finally{this.dbStorageType!=="memory"&&await this.init("overwrite")}l||this.emitMessage({type:"success",queryKey:i})}}),Object.defineProperty(this,"exportDb",{enumerable:!0,configurable:!0,writable:!0,value:r=>{if(!this.sqlite3||!this.db)return;const{queryKey:i}=r;try{const o=this.sqlite3.capi.sqlite3_js_db_export(this.db);this.emitMessage({type:"buffer",queryKey:i,buffer:o},[o])}catch(o){this.emitMessage({type:"error",error:o,queryKey:i})}}}),Object.defineProperty(this,"deleteDb",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{if(!this.config.databasePath)return;const{queryKey:i}=r;let o=!1;try{if(this.dbStorageType==="opfs"){const{getDirectoryHandle:l,fileName:c,tempFileNames:d}=g3(this.config.databasePath),m=await l(),y=[c,...d];this.destroy(),await Promise.all(y.map(async b=>m.removeEntry(b).catch(E=>{if(!(E instanceof DOMException&&E.name==="NotFoundError"))throw E})))}else this.destroy()}catch(l){this.emitMessage({type:"error",error:l,queryKey:i}),o=!0}finally{await this.init("delete")}o||this.emitMessage({type:"success",queryKey:i})}}),Object.defineProperty(this,"destroy",{enumerable:!0,configurable:!0,writable:!0,value:r=>{this.db&&(this.db.exec({sql:"PRAGMA optimize"}),this.db.close(),this.db=void 0,this.dbStorageType=void 0),this.reinitChannel&&(this.reinitChannel.close(),this.reinitChannel=void 0),this.pointers.forEach(i=>this.sqlite3?.wasm.dealloc(i)),this.pointers=[],r&&this.emitMessage({type:"success",queryKey:r.queryKey})}});const n=e?globalThis:v0(globalThis);this.proxy=n,this.init("initial")}}function jg(t,...e){return{sql:t.join("?"),params:e}}function W6(t){return!t.some(e=>!Array.isArray(e))}function H_(t,e){let n;return W6(t)?n=t:n=[t],n.map(r=>{const i={};return e.forEach((o,l)=>{i[o]=r[l]}),i})}function z6(t){return typeof t=="object"&&t!==null&&"getSQL"in t&&typeof t.getSQL=="function"}function U6(t){return typeof t=="object"&&t!==null&&"sql"in t&&typeof t.sql=="string"&&"params"in t}function V6(t){if(typeof t=="function"&&(t=t(jg)),z6(t))try{if(!("toSQL"in t&&typeof t.toSQL=="function"))throw 1;const r=t.toSQL();if(!U6(r))throw 2;return r}catch{throw new Error("The passed statement could not be parsed.")}const e=t.sql;let n=[];return"params"in t?n=t.params:"parameters"in t&&(n=t.parameters),{sql:e,params:n}}function Q_(){return crypto.randomUUID()}function pI(t,e){let n;return typeof t=="string"?n={sql:t,params:e}:n=jg(t,...e),n}async function rm(t,e,n,r){return!e&&"locks"in navigator?navigator.locks.request(`_sqlocal_mutation_(${n.databasePath})`,{mode:t},r):r()}class H6{constructor(e){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isDestroyed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"bypassMutationLock",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"userCallbacks",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"queriesInProgress",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"proxy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reinitChannel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"processMessageEvent",{enumerable:!0,configurable:!0,writable:!0,value:l=>{const c=l instanceof MessageEvent?l.data:l,d=this.queriesInProgress;switch(c.type){case"success":case"data":case"buffer":case"info":case"error":if(c.queryKey&&d.has(c.queryKey)){const[y,b]=d.get(c.queryKey);c.type==="error"?b(c.error):y(c),d.delete(c.queryKey)}else if(c.type==="error")throw c.error;break;case"callback":const m=this.userCallbacks.get(c.name);m&&m(...c.args??[]);break;case"event":this.config.onConnect?.(c.reason);break}}}),Object.defineProperty(this,"createQuery",{enumerable:!0,configurable:!0,writable:!0,value:async l=>rm("shared",this.bypassMutationLock||l.type==="import"||l.type==="delete",this.config,async()=>{if(this.isDestroyed===!0)throw new Error("This SQLocal client has been destroyed. You will need to initialize a new client in order to make further queries.");const c=Q_();switch(l.type){case"import":this.processor.postMessage({...l,queryKey:c},[l.database]);break;default:this.processor.postMessage({...l,queryKey:c});break}return new Promise((d,m)=>{this.queriesInProgress.set(c,[d,m])})})}),Object.defineProperty(this,"exec",{enumerable:!0,configurable:!0,writable:!0,value:async(l,c,d="all",m)=>{const y=await this.createQuery({type:"query",transactionKey:m,sql:l,params:c,method:d}),b={rows:[],columns:[]};return y.type==="data"&&(b.rows=y.data[0]?.rows??[],b.columns=y.data[0]?.columns??[]),b}}),Object.defineProperty(this,"execBatch",{enumerable:!0,configurable:!0,writable:!0,value:async l=>{const c=await this.createQuery({type:"batch",statements:l}),d=new Array(l.length).fill({rows:[],columns:[]});return c.type==="data"&&c.data.forEach((m,y)=>{d[y]=m}),d}}),Object.defineProperty(this,"sql",{enumerable:!0,configurable:!0,writable:!0,value:async(l,...c)=>{const d=pI(l,c),{rows:m,columns:y}=await this.exec(d.sql,d.params,"all");return H_(m,y)}}),Object.defineProperty(this,"batch",{enumerable:!0,configurable:!0,writable:!0,value:async l=>{const c=l(jg);return(await this.execBatch(c)).map(({rows:m,columns:y})=>H_(m,y))}}),Object.defineProperty(this,"beginTransaction",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{const l=Q_();await this.createQuery({type:"transaction",transactionKey:l,action:"begin"});const c=async b=>{const E=V6(b),{rows:N,columns:O}=await this.exec(E.sql,E.params,"all",l);return H_(N,O)};return{query:c,sql:async(b,...E)=>{const N=pI(b,E);return await c(N)},commit:async()=>{await this.createQuery({type:"transaction",transactionKey:l,action:"commit"})},rollback:async()=>{await this.createQuery({type:"transaction",transactionKey:l,action:"rollback"})}}}}),Object.defineProperty(this,"transaction",{enumerable:!0,configurable:!0,writable:!0,value:async l=>rm("exclusive",!1,this.config,async()=>{let c;this.bypassMutationLock=!0;try{c=await this.beginTransaction();const d=await l({sql:c.sql,query:c.query});return await c.commit(),d}catch(d){throw await c?.rollback(),d}finally{this.bypassMutationLock=!1}})}),Object.defineProperty(this,"createCallbackFunction",{enumerable:!0,configurable:!0,writable:!0,value:async(l,c)=>{await this.createQuery({type:"function",functionName:l,functionType:"callback"}),this.userCallbacks.set(l,c)}}),Object.defineProperty(this,"createScalarFunction",{enumerable:!0,configurable:!0,writable:!0,value:async(l,c)=>{const d=`_sqlocal_func_${l}`;this.proxy===globalThis&&(this.proxy[d]=c),await this.createQuery({type:"function",functionName:l,functionType:"scalar"}),this.proxy!==globalThis&&(this.proxy[d]=c)}}),Object.defineProperty(this,"getDatabaseInfo",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{const l=await this.createQuery({type:"getinfo"});if(l.type==="info")return l.info;throw new Error("The database failed to return valid information.")}}),Object.defineProperty(this,"getDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{let l,c;const{storageType:d}=await this.getDatabaseInfo();if(d==="opfs"){const m=g3(this.config.databasePath),{directories:y,getDirectoryHandle:b}=m;l=m.fileName;const E=`backup-${Date.now()}--${l}`,N=`${y.join("/")}/${E}`;await this.exec("VACUUM INTO ?",[N]);const O=await b();c=await (await (await O.getFileHandle(E)).getFile()).arrayBuffer(),await O.removeEntry(E)}else{const m=await this.createQuery({type:"export"});if(m.type==="buffer")l="database.sqlite3",c=m.buffer;else throw new Error("The database failed to export.")}return new File([c],l,{type:"application/x-sqlite3"})}}),Object.defineProperty(this,"overwriteDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async(l,c)=>{await rm("exclusive",!1,this.config,async()=>{try{const d=await rw(l);await this.createQuery({type:"import",database:d}),typeof c=="function"&&(this.bypassMutationLock=!0,await c()),this.reinitChannel.postMessage({clientKey:this.clientKey,reason:"overwrite"})}finally{this.bypassMutationLock=!1}})}}),Object.defineProperty(this,"deleteDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async l=>{await rm("exclusive",!1,this.config,async()=>{try{await this.createQuery({type:"delete"}),typeof l=="function"&&(this.bypassMutationLock=!0,await l()),this.reinitChannel.postMessage({clientKey:this.clientKey,reason:"delete"})}finally{this.bypassMutationLock=!1}})}}),Object.defineProperty(this,"destroy",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{await this.createQuery({type:"destroy"}),this.processor instanceof Worker&&(this.processor.removeEventListener("message",this.processMessageEvent),this.processor.terminate()),this.queriesInProgress.clear(),this.userCallbacks.clear(),this.reinitChannel.close(),this.isDestroyed=!0}});const n=typeof e=="string"?{databasePath:e}:e,{onInit:r,onConnect:i,...o}=n;this.config=n,this.clientKey=Q_(),this.reinitChannel=new BroadcastChannel(`_sqlocal_reinit_(${o.databasePath})`),typeof globalThis.Worker<"u"&&o.databasePath!==":memory:"?(this.processor=new Worker(new URL("/assets/worker-DxuAzsZq.js",import.meta.url),{type:"module"}),this.processor.addEventListener("message",this.processMessageEvent),this.proxy=v0(this.processor)):(this.processor=new B6(!0),this.processor.onmessage=l=>this.processMessageEvent(l),this.proxy=globalThis),this.processor.postMessage({type:"config",config:{...o,clientKey:this.clientKey,onInitStatements:r?.(jg)??[]}})}}class Q6 extends H6{constructor(){super(...arguments),Object.defineProperty(this,"dialect",{enumerable:!0,configurable:!0,writable:!0,value:{createAdapter:()=>new q6,createDriver:()=>new K6(this),createIntrospector:e=>new T6(e),createQueryCompiler:()=>new N6}})}}class K6{constructor(e){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:e})}async init(){}async acquireConnection(){return new G6(this.client)}async releaseConnection(){}async beginTransaction(e){e.transaction=await this.client.beginTransaction()}async commitTransaction(e){await e.transaction?.commit(),e.transaction=null}async rollbackTransaction(e){await e.transaction?.rollback(),e.transaction=null}async destroy(){await this.client.destroy()}}class G6{constructor(e){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"transaction",{enumerable:!0,configurable:!0,writable:!0,value:null})}async executeQuery(e){let n;return this.transaction===null?n=await this.client.sql(e.sql,...e.parameters):n=await this.transaction.query(e),{rows:n}}async *streamQuery(){throw new Error("SQLite3 does not support streaming.")}}const J6=({database:t,bootstrap:e})=>{const{dialect:n}=new Q6({databasePath:`${t}.sqlite3`}),r=new Xa({dialect:n});return{kysely:r,bootstrap(){return e({kysely:r})}}},hs=yn({slot:{base:["border","border-gray-300","rounded-md","p-4","flex","flex-col","gap-2","items-center"],input:["w-full","border","border-gray-300","rounded-md","p-2","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"]},variant:{isLoading:{true:[]},isSubmitting:{true:[]}},match:[{if:{isSubmitting:!0},then:{base:["opacity-50","pointer-events-none","select-none"]}}],defaults:{isLoading:!1,isSubmitting:!1}}),Z6="icon-[material-symbols--error-outline]",Y6=yn({slot:{base:["flex","flex-row","gap-1","items-center","text-red-600","p-2"]},variant:{highlight:{true:[]},compact:{true:[]}},match:[{if:{highlight:!0},then:{base:["bg-red-100","p-2","font-bold","border","border-red-200","rounded-md","w-full"]}},{if:{compact:!0},then:{base:["p-0"]}}],defaults:{highlight:!1,compact:!1}}),Ki=({error:t,variant:e,tva:n=Y6,css:r})=>{const i=n({...e,css:r}).slots;return t?.message?h.jsxs("div",{className:i.base(),children:[h.jsx(xn,{icon:Z6}),h.jsx("span",{children:bn.rich(t.message)})]}):null},X6=yn({slot:{base:["flex","flex-col","gap-1","w-full"],input:[]},variant:{required:{true:[]},disabled:{true:[]},isSubmitting:{true:[]},isLoading:{true:[]},isError:{true:[]}},match:[{if:{isError:!0},then:{base:["text-red-600"]}},{if:{required:!0},then:{base:["text-amber-600"]}}],defaults:{required:!1,disabled:!1,isSubmitting:!1,isLoading:!1,isError:!1}}),kn=({label:t,hint:e,required:n=!1,formState:r,name:i,children:o,variant:l,tva:c=X6,css:d})=>{const m=c({isSubmitting:r.isSubmitting,isLoading:r.isLoading,isError:!!r.errors[i],required:n,...l,css:d}).slots;return h.jsxs("div",{className:m.base(),children:[h.jsxs("div",{className:"flex flex-row justify-between",children:[t?h.jsx("label",{htmlFor:i,children:t}):null,h.jsx(Ki,{variant:{compact:!0},error:r.errors[i]})]}),e?h.jsx("div",{className:"text-sm italic",children:e}):null,h.jsx("div",{className:m.input(),children:o})]})},go=({form:t,mutation:e,onSuccess:n})=>{const r=t.handleSubmit(async i=>e.mutateAsync(i,{onSuccess:n,onError:o=>{Dw({error:o,errors:[Aw({error:o,schema:Lw,onError:({data:l})=>{t.setError("root",{message:l.message})}})],onError:l=>{t.setError("root",{message:l.message})}})}}).catch(()=>{}));return i=>{i.stopPropagation(),r(i)}};function eU(t,e,n,r={leading:!1}){const[i,o]=U.useState(t),[l,c]=U.useState(t),d=U.useRef(null),m=U.useRef(!0),y=()=>window.clearTimeout(d.current||void 0);U.useEffect(()=>y,[]),U.useEffect(()=>{e(i)},[i]),U.useEffect(()=>{c(t),o(t)},[t]);const b=U.useCallback(E=>{c(E),y(),m.current&&r.leading?o(E):d.current=window.setTimeout(()=>{m.current=!0,o(E)},n),m.current=!1},[r.leading]);return[l,b]}const tU=yn({slot:{base:["relative","w-full"],search:["absolute","inset-y-0","left-2","flex","items-center","pointer-events-none","text-slate-500"],input:["pl-8","py-1","w-full","bg-slate-50","text-slate-900","text-sm","border","border-slate-300","rounded","focus:border-sky-400","focus:outline-none","block"],clear:["absolute","inset-y-0","right-2","flex","items-center","cursor-pointer","text-slate-300","hover:text-slate-500"]},variant:{},defaults:{}}),nU=({value:t="",onFulltext:e,textPlaceholder:n,variant:r,tva:i=tU,css:o})=>{const l=i({...r,css:o}).slots,[c,d]=eU(t,m=>{e(m||"")},500);return h.jsxs("div",{className:l.base(),children:[h.jsx("div",{className:l.search(),children:h.jsx(xn,{icon:"icon-[material-symbols-light--search]",variant:{size:"xl"}})}),h.jsx("input",{value:c||"",className:l.input(),type:"text",placeholder:n||bn.text("Fulltext (placeholder)"),onChange:m=>{d(m.target.value)}}),t&&h.jsx("div",{className:l.clear(),onClick:()=>{e("")},children:h.jsx(xn,{icon:"icon-[gridicons--cross]",variant:{size:"md"}})})]})},ep="icon-[pajamas--go-back]",Pg="icon-[line-md--confirm-circle]",y3="icon-[mage--edit]",rU="icon-[arcticons--nothing-x]",iU="icon-[tabler--filter-plus]",hI="icon-[tabler--filter-minus]",kp="icon-[ph--list-dashes-thin]",_0="icon-[material-symbols-light--logout-sharp]",sU="icon-[fluent--shape-intersect-20-regular]",Ny="icon-[fluent--checkbox-unchecked-20-regular]",Iy="icon-[fluent--checkbox-checked-20-regular]",oU="icon-[ph--gear-thin]",Fg="icon-[teenyicons--tag-outline]",ms="icon-[ph--trash]",aU="icon-[clarity--upload-cloud-line]",x0="icon-[ph--user]",lU=async({queryClient:t,keys:e})=>Promise.all(e.map(n=>t.refetchQueries({queryKey:n}))).catch(n=>{console.error(n)});var K_={exports:{}},G_,mI;function cU(){if(mI)return G_;mI=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return G_=t,G_}var J_,gI;function uU(){if(gI)return J_;gI=1;var t=cU();function e(){}function n(){}return n.resetWarningCache=e,J_=function(){function r(l,c,d,m,y,b){if(b!==t){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},J_}var yI;function dU(){return yI||(yI=1,K_.exports=uU()()),K_.exports}var fU=dU();const Vn=wa(fU);function Sc(t,e,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(y){try{m(r.next(y))}catch(b){l(b)}}function d(y){try{m(r.throw(y))}catch(b){l(b)}}function m(y){y.done?o(y.value):i(y.value).then(c,d)}m((r=r.apply(t,e||[])).next())})}const pU=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Uu(t,e,n){const r=hU(t),{webkitRelativePath:i}=t,o=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${t.name}`;return typeof r.path!="string"&&vI(r,"path",o),vI(r,"relativePath",o),r}function hU(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),i=pU.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}function vI(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const mU=[".DS_Store","Thumbs.db"];function gU(t){return Sc(this,void 0,void 0,function*(){return Lg(t)&&yU(t.dataTransfer)?xU(t.dataTransfer,t.type):vU(t)?bU(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?_U(t):[]})}function yU(t){return Lg(t)}function vU(t){return Lg(t)&&Lg(t.target)}function Lg(t){return typeof t=="object"&&t!==null}function bU(t){return iw(t.target.files).map(e=>Uu(e))}function _U(t){return Sc(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>Uu(n))})}function xU(t,e){return Sc(this,void 0,void 0,function*(){if(t.items){const n=iw(t.items).filter(i=>i.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(wU));return bI(v3(r))}return bI(iw(t.files).map(n=>Uu(n)))})}function bI(t){return t.filter(e=>mU.indexOf(e.name)===-1)}function iw(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function wU(t){if(typeof t.webkitGetAsEntry!="function")return _I(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?b3(e):_I(t,e)}function v3(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?v3(n):[n]],[])}function _I(t,e){return Sc(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const o=yield t.getAsFileSystemHandle();if(o===null)throw new Error(`${t} is not a File`);if(o!==void 0){const l=yield o.getFile();return l.handle=o,Uu(l)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return Uu(r,(n=e?.fullPath)!==null&&n!==void 0?n:void 0)})}function SU(t){return Sc(this,void 0,void 0,function*(){return t.isDirectory?b3(t):EU(t)})}function b3(t){const e=t.createReader();return new Promise((n,r)=>{const i=[];function o(){e.readEntries(l=>Sc(this,void 0,void 0,function*(){if(l.length){const c=Promise.all(l.map(SU));i.push(c),o()}else try{const c=yield Promise.all(i);n(c)}catch(c){r(c)}}),l=>{r(l)})}o()})}function EU(t){return Sc(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const i=Uu(r,t.fullPath);e(i)},r=>{n(r)})})})}var im={},xI;function kU(){return xI||(xI=1,im.__esModule=!0,im.default=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",i=(t.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return n.some(function(l){var c=l.trim().toLowerCase();return c.charAt(0)==="."?r.toLowerCase().endsWith(c):c.endsWith("/*")?o===c.replace(/\/.*$/,""):i===c})}return!0}),im}var NU=kU();const Z_=wa(NU);function wI(t){return TU(t)||OU(t)||x3(t)||IU()}function IU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OU(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function TU(t){if(Array.isArray(t))return sw(t)}function SI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SI(Object(n),!0).forEach(function(r){_3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _3(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tp(t,e){return RU(t)||CU(t,e)||x3(t,e)||qU()}function qU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x3(t,e){if(t){if(typeof t=="string")return sw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sw(t,e)}}function sw(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CU(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,l,c;try{for(n=n.call(t);!(i=(l=n.next()).done)&&(r.push(l.value),!(e&&r.length===e));i=!0);}catch(d){o=!0,c=d}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw c}}return r}}function RU(t){if(Array.isArray(t))return t}var AU=typeof Z_=="function"?Z_:Z_.default,w3="file-invalid-type",S3="file-too-large",E3="file-too-small",k3="too-many-files",jU={FileInvalidType:w3,FileTooLarge:S3,FileTooSmall:E3,TooManyFiles:k3},PU=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:w3,message:"File type must be ".concat(r)}},kI=function(e){return{code:S3,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},NI=function(e){return{code:E3,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},FU={code:k3,message:"Too many files"};function N3(t,e){var n=t.type==="application/x-moz-file"||AU(t,e);return[n,n?null:PU(e)]}function I3(t,e,n){if(Yl(t.size))if(Yl(e)&&Yl(n)){if(t.size>n)return[!1,kI(n)];if(t.size<e)return[!1,NI(e)]}else{if(Yl(e)&&t.size<e)return[!1,NI(e)];if(Yl(n)&&t.size>n)return[!1,kI(n)]}return[!0,null]}function Yl(t){return t!=null}function LU(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,o=t.multiple,l=t.maxFiles,c=t.validator;return!o&&e.length>1||o&&l>=1&&e.length>l?!1:e.every(function(d){var m=N3(d,n),y=tp(m,1),b=y[0],E=I3(d,r,i),N=tp(E,1),O=N[0],T=c?c(d):null;return b&&O&&!T})}function Dg(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function sm(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function II(t){t.preventDefault()}function DU(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function MU(t){return t.indexOf("Edge/")!==-1}function $U(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return DU(t)||MU(t)}function Io(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];return e.some(function(c){return!Dg(r)&&c&&c.apply(void 0,[r].concat(o)),Dg(r)})}}function BU(){return"showOpenFilePicker"in window}function WU(t){if(Yl(t)){var e=Object.entries(t).filter(function(n){var r=tp(n,2),i=r[0],o=r[1],l=!0;return O3(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),l=!1),(!Array.isArray(o)||!o.every(T3))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),l=!1),l}).reduce(function(n,r){var i=tp(r,2),o=i[0],l=i[1];return EI(EI({},n),{},_3({},o,l))},{});return[{description:"Files",accept:e}]}return t}function zU(t){if(Yl(t))return Object.entries(t).reduce(function(e,n){var r=tp(n,2),i=r[0],o=r[1];return[].concat(wI(e),[i],wI(o))},[]).filter(function(e){return O3(e)||T3(e)}).join(",")}function UU(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function VU(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function O3(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function T3(t){return/^.*\.[\w]+$/.test(t)}var HU=["children"],QU=["open"],KU=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],GU=["refKey","onChange","onClick"];function JU(t){return XU(t)||YU(t)||q3(t)||ZU()}function ZU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YU(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function XU(t){if(Array.isArray(t))return ow(t)}function Y_(t,e){return nV(t)||tV(t,e)||q3(t,e)||eV()}function eV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q3(t,e){if(t){if(typeof t=="string")return ow(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ow(t,e)}}function ow(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tV(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,l,c;try{for(n=n.call(t);!(i=(l=n.next()).done)&&(r.push(l.value),!(e&&r.length===e));i=!0);}catch(d){o=!0,c=d}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw c}}return r}}function nV(t){if(Array.isArray(t))return t}function OI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OI(Object(n),!0).forEach(function(r){aw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mg(t,e){if(t==null)return{};var n=rV(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rV(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Oy=U.forwardRef(function(t,e){var n=t.children,r=Mg(t,HU),i=R3(r),o=i.open,l=Mg(i,QU);return U.useImperativeHandle(e,function(){return{open:o}},[o]),An.createElement(U.Fragment,null,n(mr(mr({},l),{},{open:o})))});Oy.displayName="Dropzone";var C3={disabled:!1,getFilesFromEvent:gU,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Oy.defaultProps=C3;Oy.propTypes={children:Vn.func,accept:Vn.objectOf(Vn.arrayOf(Vn.string)),multiple:Vn.bool,preventDropOnDocument:Vn.bool,noClick:Vn.bool,noKeyboard:Vn.bool,noDrag:Vn.bool,noDragEventsBubbling:Vn.bool,minSize:Vn.number,maxSize:Vn.number,maxFiles:Vn.number,disabled:Vn.bool,getFilesFromEvent:Vn.func,onFileDialogCancel:Vn.func,onFileDialogOpen:Vn.func,useFsAccessApi:Vn.bool,autoFocus:Vn.bool,onDragEnter:Vn.func,onDragLeave:Vn.func,onDragOver:Vn.func,onDrop:Vn.func,onDropAccepted:Vn.func,onDropRejected:Vn.func,onError:Vn.func,validator:Vn.func};var lw={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function R3(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=mr(mr({},C3),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,o=e.maxSize,l=e.minSize,c=e.multiple,d=e.maxFiles,m=e.onDragEnter,y=e.onDragLeave,b=e.onDragOver,E=e.onDrop,N=e.onDropAccepted,O=e.onDropRejected,T=e.onFileDialogCancel,A=e.onFileDialogOpen,L=e.useFsAccessApi,P=e.autoFocus,B=e.preventDropOnDocument,Q=e.noClick,J=e.noKeyboard,W=e.noDrag,G=e.noDragEventsBubbling,re=e.onError,H=e.validator,te=U.useMemo(function(){return zU(n)},[n]),$=U.useMemo(function(){return WU(n)},[n]),oe=U.useMemo(function(){return typeof A=="function"?A:TI},[A]),Y=U.useMemo(function(){return typeof T=="function"?T:TI},[T]),fe=U.useRef(null),Ee=U.useRef(null),qe=U.useReducer(iV,lw),je=Y_(qe,2),ve=je[0],pe=je[1],ke=ve.isFocused,K=ve.isFileDialogActive,xe=U.useRef(typeof window<"u"&&window.isSecureContext&&L&&BU()),ut=function(){!xe.current&&K&&setTimeout(function(){if(Ee.current){var et=Ee.current.files;et.length||(pe({type:"closeDialog"}),Y())}},300)};U.useEffect(function(){return window.addEventListener("focus",ut,!1),function(){window.removeEventListener("focus",ut,!1)}},[Ee,K,Y,xe]);var at=U.useRef([]),ft=function(et){fe.current&&fe.current.contains(et.target)||(et.preventDefault(),at.current=[])};U.useEffect(function(){return B&&(document.addEventListener("dragover",II,!1),document.addEventListener("drop",ft,!1)),function(){B&&(document.removeEventListener("dragover",II),document.removeEventListener("drop",ft))}},[fe,B]),U.useEffect(function(){return!r&&P&&fe.current&&fe.current.focus(),function(){}},[fe,P,r]);var dt=U.useCallback(function(Fe){re?re(Fe):console.error(Fe)},[re]),pt=U.useCallback(function(Fe){Fe.preventDefault(),Fe.persist(),ye(Fe),at.current=[].concat(JU(at.current),[Fe.target]),sm(Fe)&&Promise.resolve(i(Fe)).then(function(et){if(!(Dg(Fe)&&!G)){var Vt=et.length,zt=Vt>0&&LU({files:et,accept:te,minSize:l,maxSize:o,multiple:c,maxFiles:d,validator:H}),mn=Vt>0&&!zt;pe({isDragAccept:zt,isDragReject:mn,isDragActive:!0,type:"setDraggedFiles"}),m&&m(Fe)}}).catch(function(et){return dt(et)})},[i,m,dt,G,te,l,o,c,d,H]),vt=U.useCallback(function(Fe){Fe.preventDefault(),Fe.persist(),ye(Fe);var et=sm(Fe);if(et&&Fe.dataTransfer)try{Fe.dataTransfer.dropEffect="copy"}catch{}return et&&b&&b(Fe),!1},[b,G]),At=U.useCallback(function(Fe){Fe.preventDefault(),Fe.persist(),ye(Fe);var et=at.current.filter(function(zt){return fe.current&&fe.current.contains(zt)}),Vt=et.indexOf(Fe.target);Vt!==-1&&et.splice(Vt,1),at.current=et,!(et.length>0)&&(pe({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),sm(Fe)&&y&&y(Fe))},[fe,y,G]),mt=U.useCallback(function(Fe,et){var Vt=[],zt=[];Fe.forEach(function(mn){var Nr=N3(mn,te),jn=Y_(Nr,2),Hr=jn[0],Ji=jn[1],Ir=I3(mn,l,o),Bt=Y_(Ir,2),vs=Bt[0],bs=Bt[1],_s=H?H(mn):null;if(Hr&&vs&&!_s)Vt.push(mn);else{var Uo=[Ji,bs];_s&&(Uo=Uo.concat(_s)),zt.push({file:mn,errors:Uo.filter(function(Nl){return Nl})})}}),(!c&&Vt.length>1||c&&d>=1&&Vt.length>d)&&(Vt.forEach(function(mn){zt.push({file:mn,errors:[FU]})}),Vt.splice(0)),pe({acceptedFiles:Vt,fileRejections:zt,isDragReject:zt.length>0,type:"setFiles"}),E&&E(Vt,zt,et),zt.length>0&&O&&O(zt,et),Vt.length>0&&N&&N(Vt,et)},[pe,c,te,l,o,d,E,N,O,H]),ht=U.useCallback(function(Fe){Fe.preventDefault(),Fe.persist(),ye(Fe),at.current=[],sm(Fe)&&Promise.resolve(i(Fe)).then(function(et){Dg(Fe)&&!G||mt(et,Fe)}).catch(function(et){return dt(et)}),pe({type:"reset"})},[i,mt,dt,G]),kt=U.useCallback(function(){if(xe.current){pe({type:"openDialog"}),oe();var Fe={multiple:c,types:$};window.showOpenFilePicker(Fe).then(function(et){return i(et)}).then(function(et){mt(et,null),pe({type:"closeDialog"})}).catch(function(et){UU(et)?(Y(et),pe({type:"closeDialog"})):VU(et)?(xe.current=!1,Ee.current?(Ee.current.value=null,Ee.current.click()):dt(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):dt(et)});return}Ee.current&&(pe({type:"openDialog"}),oe(),Ee.current.value=null,Ee.current.click())},[pe,oe,Y,L,mt,dt,$,c]),Nt=U.useCallback(function(Fe){!fe.current||!fe.current.isEqualNode(Fe.target)||(Fe.key===" "||Fe.key==="Enter"||Fe.keyCode===32||Fe.keyCode===13)&&(Fe.preventDefault(),kt())},[fe,kt]),Zt=U.useCallback(function(){pe({type:"focus"})},[]),Kt=U.useCallback(function(){pe({type:"blur"})},[]),rn=U.useCallback(function(){Q||($U()?setTimeout(kt,0):kt())},[Q,kt]),dn=function(et){return r?null:et},le=function(et){return J?null:dn(et)},ue=function(et){return W?null:dn(et)},ye=function(et){G&&et.stopPropagation()},Ce=U.useMemo(function(){return function(){var Fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},et=Fe.refKey,Vt=et===void 0?"ref":et,zt=Fe.role,mn=Fe.onKeyDown,Nr=Fe.onFocus,jn=Fe.onBlur,Hr=Fe.onClick,Ji=Fe.onDragEnter,Ir=Fe.onDragOver,Bt=Fe.onDragLeave,vs=Fe.onDrop,bs=Mg(Fe,KU);return mr(mr(aw({onKeyDown:le(Io(mn,Nt)),onFocus:le(Io(Nr,Zt)),onBlur:le(Io(jn,Kt)),onClick:dn(Io(Hr,rn)),onDragEnter:ue(Io(Ji,pt)),onDragOver:ue(Io(Ir,vt)),onDragLeave:ue(Io(Bt,At)),onDrop:ue(Io(vs,ht)),role:typeof zt=="string"&&zt!==""?zt:"presentation"},Vt,fe),!r&&!J?{tabIndex:0}:{}),bs)}},[fe,Nt,Zt,Kt,rn,pt,vt,At,ht,J,W,r]),De=U.useCallback(function(Fe){Fe.stopPropagation()},[]),Je=U.useMemo(function(){return function(){var Fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},et=Fe.refKey,Vt=et===void 0?"ref":et,zt=Fe.onChange,mn=Fe.onClick,Nr=Mg(Fe,GU),jn=aw({accept:te,multiple:c,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:dn(Io(zt,ht)),onClick:dn(Io(mn,De)),tabIndex:-1},Vt,Ee);return mr(mr({},jn),Nr)}},[Ee,n,c,ht,r]);return mr(mr({},ve),{},{isFocused:ke&&!r,getRootProps:Ce,getInputProps:Je,rootRef:fe,inputRef:Ee,open:dn(kt)})}function iV(t,e){switch(e.type){case"focus":return mr(mr({},t),{},{isFocused:!0});case"blur":return mr(mr({},t),{},{isFocused:!1});case"openDialog":return mr(mr({},lw),{},{isFileDialogActive:!0});case"closeDialog":return mr(mr({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return mr(mr({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return mr(mr({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return mr({},lw);default:return t}}function TI(){}const sV=Object.freeze(Object.defineProperty({__proto__:null,ErrorCode:jU,default:Oy,useDropzone:R3},Symbol.toStringTag,{value:"Module"})),oV=yn({slot:{base:["flex","items-center","justify-center","w-full"],label:["flex","flex-col","items-center","justify-center","w-full","h-64","border-2","border-gray-300","border-dashed","rounded-lg","cursor-pointer","bg-gray-50","hover:bg-gray-100"],zone:["flex","flex-col","items-center","justify-center","pt-5","pb-6","text-slate-500"]},variant:{active:{true:[]},rejected:{true:[]}},match:[{if:{active:!0},then:{label:["text-blue-400"],zone:["text-blue-400"]}},{if:{rejected:!0},then:{label:["text-red-400"],zone:["text-red-400"]}}],defaults:{active:!1,rejected:!1}}),{useDropzone:aV}=sV,lV=({id:t,accept:e,text:n,variant:r,tva:i=oV,css:o,...l})=>{const{getRootProps:c,getInputProps:d,isDragActive:m,isDragReject:y}=aV({noClick:!0,multiple:!1,accept:e,maxFiles:1,minSize:0,maxSize:8388608,...l}),b=i({active:m,rejected:y,...r,css:o}).slots;return h.jsx("div",{...c(),className:b.base(),children:h.jsxs("label",{htmlFor:t,className:b.label(),children:[h.jsxs("div",{className:b.zone(),children:[h.jsx(xn,{icon:aU,variant:{size:"4xl"}}),h.jsx("p",{className:"mb-2 text-sm font-semibold",children:n?.title||bn.rich("Drag 'n' drop a file here")}),n?.message?h.jsx("p",{className:"text-xs",children:n.message}):null]}),h.jsx("input",{id:t,type:"file",className:"hidden",...d()})]})})},cV=yn({slot:{base:[],header:["flex","flex-row","items-center","bg-slate-50","shadow-sm","border-b","border-b-slate-200","w-full","gap-4","p-4"],content:["min-h-screen","border-b","border-b-slate-200","mb-4","p-2"]},variant:{},defaults:{}}),uV=()=>h.jsx("div",{className:"text-center text-xs text-gray-500 mb-8",children:void 0}),A3=({logo:t,menu:e,actions:n,variant:r,tva:i=cV,css:o,children:l})=>{const c=i({...r,css:o}).slots;return h.jsxs("div",{className:c.base(),children:[h.jsx(dF,{position:"top-right"}),h.jsxs("div",{className:c.header(),children:[h.jsx("div",{children:t}),h.jsx("div",{className:"flex-grow",children:e}),h.jsx("div",{className:"flex flex-row gap-2 items-center",children:n})]}),h.jsx("div",{className:c.content(),children:l??h.jsx(Bo,{})}),h.jsx(uV,{})]})},dV=yn({slot:{base:["flex","flex-row","gap-2","items-center","justify-between","text-blue-500","rounded","px-1","py-0.5","hover:text-blue-700","focus:outline-none","w-fit"]},variant:{},defaults:{}}),fV=U.forwardRef(({icon:t,iconProps:e,variant:n,tva:r=dV,css:i,children:o,...l},c)=>{const d=r({...n,css:i}).slots;return h.jsxs("a",{...l,ref:c,className:d.base(),children:[t&&h.jsx(xn,{icon:t,...e}),o]})}),pV=WO(fV),ar=t=>h.jsx(pV,{preload:"intent",...t}),hV=yn({slot:{base:["fixed","inset-0","h-full","items-center","justify-center","bg-slate-100","flex","transition-all","duration-200","z-[10]","pointer-events-none","bg-opacity-0","backdrop-blur-none"]},variant:{show:{true:["bg-opacity-50","backdrop-blur-sm","pointer-events-auto"]}},defaults:{show:!0}}),mV=({show:t=!0,variant:e,tva:n=hV,css:r})=>{const i=n({show:t,...e,css:r}).slots;return t?h.jsx("div",{className:i.base(),children:h.jsx(xn,{icon:"icon-[svg-spinners--pulse-rings-multiple]",variant:{size:"8xl"},css:{base:["text-sky-400"]}})}):null};var Am={exports:{}},gV=Am.exports,qI;function yV(){return qI||(qI=1,function(t,e){(function(n,r){t.exports=r()})(gV,()=>(()=>{var n={d:(O,T)=>{for(var A in T)n.o(T,A)&&!n.o(O,A)&&Object.defineProperty(O,A,{enumerable:!0,get:T[A]})},o:(O,T)=>Object.prototype.hasOwnProperty.call(O,T)},r={};n.d(r,{default:()=>N});const i=(...O)=>{},o=O=>O!==null&&O?.constructor.name==="Object";let l,c;const d=()=>{if(!l){l=!0;try{c=b.storage||localStorage,c.getItem("")}catch{c=(()=>{const O={getItem:A=>T[A]||null,setItem:(A,L)=>{T[A]=L},removeItem:A=>{T[A]=void 0},clear:()=>{T={__proto__:O}}};let T={__proto__:O};return T})()}E()}},m="\0",y=(O,T,A=!0)=>A?[...JSON.stringify(O)].map(L=>String.fromCharCode(L.charCodeAt(0)+T)).join(""):JSON.parse([...O].map(L=>String.fromCharCode(L.charCodeAt(0)-T)).join("")),b={ttl:null,encrypt:!1,encrypter:y,decrypter:(O,T)=>y(O,T,!1),secret:75,storage:void 0};Object.seal(b);const E=(O=!1)=>{d();for(const T of Object.keys(c)){const A=c.getItem(T);let L;try{L=JSON.parse(A||"")}catch{continue}o(L)&&m in L&&(Date.now()>L.ttl||O)&&c.removeItem(T)}},N={config:b,set:(O,T,A={})=>{d();const L={...b,...A,encrypt:A.encrypt!==!1&&(A.encrypt||b.encrypt),ttl:A.ttl===null?null:A.ttl||b.ttl};try{const P=L.ttl&&!isNaN(L.ttl)&&L.ttl>0;let B=P?{[m]:T,ttl:Date.now()+1e3*L.ttl}:T;L.encrypt&&(P?B[m]=(L.encrypter||i)(B[m],L.secret):B=(L.encrypter||i)(B,L.secret)),c.setItem(O,JSON.stringify(B))}catch{return!1}},get:(O,T={})=>{d();const A=c.getItem(O),L={...b,...T,encrypt:T.encrypt!==!1&&(T.encrypt||b.encrypt),ttl:T.ttl===null?null:T.ttl||b.ttl};let P,B;try{P=JSON.parse(A||""),B=o(P)&&m in P,(L.decrypt||L.encrypt)&&(B?P[m]=(L.decrypter||i)(P[m],L.secret):P=(L.decrypter||i)(P,L.secret))}catch{}return B?Date.now()>P.ttl?(c.removeItem(O),null):P[m]:P!==void 0?P:A},flush:E,clear:()=>{d(),c.clear()},remove:O=>{d(),c.removeItem(O)}};return r.default})())}(Am)),Am.exports}var vV=yV();const bV=wa(vV),Np=bV,_V=yn({slot:{base:["flex","flex-row","gap-2","items-center"]},variant:{},defaults:{}}),Ec=({variant:t,tva:e=_V,css:n,children:r})=>{const i=e({...t,css:n}).slots;return h.jsx("div",{className:i.base(),children:r})},xV=yn({slot:{base:["group","relative","cursor-pointer"],label:["flex","flex-row","gap-2","items-center","rounded","px-2","py-1","border","border-b-2","border-transparent","hover:text-slate-500"],items:["flex flex-col w-max gap-2","invisible absolute","group-hover:visible","shadow-md","z-20","bg-white","px-4","py-2"]},variant:{active:{true:[]}},match:[{if:{active:!0},then:{label:["border","border-b-2","border-blue-400","bg-blue-50","hover:border-blue-500","text-slate-800","hover:text-blue-800"]}}],defaults:{active:!1}}),CI=({icon:t,label:e,active:n=[],variant:r,tva:i=xV,css:o,children:l})=>{const c=zO(),d=n.some(y=>!!c(y)),m=i({active:d,...r,css:o}).slots;return h.jsxs("div",{className:m.base(),children:[h.jsxs("div",{className:m.label(),children:[t?h.jsx(xn,{icon:t}):null,e]}),h.jsx("div",{className:m.items(),children:l})]})},wV=yn({slot:{base:["flex","flex-row","gap-2","items-center","rounded","px-2","py-1","border","border-b-2","border-transparent","hover:text-slate-500"]},variant:{active:{true:[]},inner:{true:[]},subtle:{true:[]}},match:[{if:{active:!0,inner:!1},then:{base:["border","border-b-2","border-blue-400","bg-blue-50","hover:border-blue-500","text-slate-800","hover:text-blue-800"]}},{if:{active:!0,inner:!0},then:{base:["border-none","text-blue-600","hover:text-blue-800"]}},{if:{subtle:!0},then:{base:["hover:bg-slate-50","hover:border-slate-300","hover:text-slate-600"]}},{if:{active:!0,subtle:!0},then:{base:["bg-slate-100","border-slate-400"]}}],defaults:{active:!1,inner:!1,subtle:!1}}),SV=U.forwardRef(({icon:t=null,variant:e,tva:n=wV,css:r,children:i,...o},l)=>{const c=n({...e,css:r}).slots;return h.jsxs("a",{...o,className:c.base(),ref:l,children:[dp(t)?h.jsx(xn,{icon:t}):t,i]})}),EV=WO(SV),Fn=({active:t=[],variant:e,...n})=>{const r=zO(),i=t.some(o=>!!r(o));return h.jsx(EV,{preload:"intent",variant:{active:!!r({to:n.to,params:n.params})||i,...e},...n})},kV=yn({slot:{base:["flex","flex-row","items-center","gap-2","text-sm","font-semibold"],item:["border","border-blue-200","bg-blue-50","rounded-md","px-2","py-1"]},variant:{},defaults:{}}),NV=({textTitle:t,textEmpty:e,items:n,render:r,limit:i,variant:o,tva:l=kV,css:c})=>{const d=i?n.slice(0,i):n,m=l({...o,css:c}).slots;return h.jsxs("div",{className:m.base(),children:[n.length?null:e,d.map(y=>h.jsx(r,{entity:y},`items-${y.id}`)),i&&n.length>i&&h.jsx(vy,{title:t,target:h.jsx(e0,{iconEnabled:wC}),outside:!0,children:h.jsx("div",{className:"flex flex-col gap-2",children:n.map(y=>h.jsx(r,{entity:y},`items-${y.id}`))})})]})},IV=yn({slot:{base:[]},variant:{},defaults:{}}),D=({label:t,fallback:e,variant:n,tva:r=IV,css:i})=>{const o=r({...n,css:i}).slots;return h.jsx("div",{className:o.base(),children:bn.rich(t,e)})},j3=yn({slot:{base:["flex","flex-col","gap-2"],input:["py-2","px-2","flex","flex-row","gap-2","items-center","cursor-pointer","hover:bg-slate-50","border","border-gray-300","rounded-md","text-slate-400","hover:text-slate-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],content:[],footer:["flex","items-center","justify-between","gap-2","border-t-2","border-slate-100","mt-4","pt-2"]},variant:{loading:{true:[]},selected:{true:[]}},match:[{if:{loading:!0},then:{input:["text-slate-300"]}},{if:{selected:!0},then:{input:["bg-slate-50","text-slate-700","hover:bg-slate-100","hover:text-slate-800"]}}],defaults:{loading:!1,selected:!1}}),OV=yn({use:j3,slot:{},variant:{},defaults:{}}),TV=({icon:t,titleText:e,modalProps:n,table:r,render:i,allowEmpty:o=!1,source:l,useListQuery:c,value:d,onChange:m,variant:y,tva:b=OV,css:E})=>{const N=b({...y,css:E}).slots,[O,T]=U.useState(0),[A,L]=U.useState(15),[P,B]=U.useState(d||[]),[Q,J]=U.useState(void 0),W=c({source:l,filter:{fulltext:Q},cursor:{page:O,size:A}}),G=c({source:l,where:{idIn:d},options:{enabled:!!d}});return h.jsx(vy,{icon:t,target:h.jsxs("label",{className:N.input({loading:G.isLoading,selected:!!G.data?.data.length}),children:[h.jsx(xn,{icon:G.data?.data?.length?Iy:Ny}),G.data&&G.data.data.length?h.jsx(i,{entities:G.data.data}):h.jsx(D,{label:"Select item (label)"})]}),title:e,variant:{loading:W.isLoading},disabled:W.isLoading,...n,children:h.jsxs("div",{className:N.base(),children:[h.jsx("div",{className:N.content(),children:h.jsx(r,{cursor:{cursor:{page:O,size:A},count:W.data?.count?W.data.count:{filter:-1,total:-1,where:-1},textTotal:h.jsx(D,{label:"Total count of items (label)"}),onPage(re){T(re)},onSize(re){L(re),T(0)}},fulltext:{value:Q,set(re){J(re)}},table:{data:W.data?.data??[],selection:{type:"multi",value:P,set(re){B(re)}}}})}),h.jsx(qi.Consumer,{children:re=>h.jsxs("div",{className:N.footer(),children:[h.jsx(cr,{iconEnabled:ep,iconDisabled:ep,onClick:()=>{re?.close()},variant:{variant:"subtle"},children:h.jsx(D,{label:"Close (label)"})}),h.jsx(cr,{iconEnabled:Pg,iconDisabled:Pg,disabled:!P.length&&!o,onClick:()=>{m(P),re?.close()},children:h.jsx(D,{label:"Confirm selection (label)"})})]})})]})})},P3=({icon:t,titleText:e,modalProps:n,table:r,render:i,allowEmpty:o=!1,source:l,useListQuery:c,value:d,onChange:m,variant:y,tva:b=j3,css:E})=>{const N=b({...y,css:E}).slots,[O,T]=U.useState(0),[A,L]=U.useState(10),[P,B]=U.useState(d?[d]:[]),[Q,J]=U.useState(void 0),W=c({source:l,where:{fulltext:Q},cursor:{page:O,size:A}}),G=c({source:l,where:{id:d},options:{enabled:!!d}});return h.jsx(vy,{icon:t,target:h.jsxs("label",{className:N.input({loading:G.isLoading,selected:!!G.data?.data?.length}),children:[h.jsx(xn,{icon:G.data?.data?.[0]?Iy:Ny}),G.data?.data?.[0]?h.jsx(i,{entity:G.data?.data?.[0]}):h.jsx(D,{label:"Select item (label)"})]}),title:e,variant:{loading:W.isLoading},disabled:W.isLoading,...n,children:h.jsxs("div",{className:N.base(),children:[h.jsx("div",{className:N.content(),children:h.jsx(r,{cursor:{cursor:{page:O,size:A},count:W.data?.count?W.data.count:{filter:-1,total:-1,where:-1},textTotal:h.jsx(D,{label:"Total count of items (label)"}),onPage(re){T(re)},onSize(re){L(re)}},fulltext:{value:Q,set(re){J(re)}},table:{data:W.data?.data??[],selection:{type:"single",value:P,set(re){B(re)}}}})}),h.jsx(qi.Consumer,{children:re=>h.jsxs("div",{className:N.footer(),children:[h.jsx(cr,{iconEnabled:ep,iconDisabled:ep,onClick:()=>{re?.close()},variant:{variant:"subtle"},children:h.jsx(D,{label:"Close (label)"})}),h.jsx(cr,{iconEnabled:Pg,iconDisabled:Pg,disabled:!P.length&&!o,onClick:()=>{m(P?.[0]),re?.close()},children:h.jsx(D,{label:"Confirm selection (label)"})})]})})]})})},qV=yn({slot:{base:["bg-blue-50","p-2","rounded-md","border","border-blue-200"],container:["grid","grid-cols-2","grid-rows-2","gap-1"],title:["col-span-1","row-span-1","border-b","border-b-slate-300","pb-2"],links:["col-span-1","row-span-1","border-b","border-b-slate-300","pb-2","flex","flex-row","items-center","gap-4","justify-end"],actions:["col-span-1","row-span-1","flex","flex-row","items-center","gap-4"],extra:["col-span-1","row-span-1","flex","flex-row","gap-4","justify-end"]},variant:{},defaults:{}}),Ip=({entity:t,title:e=()=>null,links:n=()=>null,actions:r=()=>null,extra:i=()=>null,variant:o,tva:l=qV,css:c})=>{const d=l({...o,css:c}).slots;return h.jsx(t0.Provider,{value:{inline:!0},children:h.jsx("div",{className:d.base(),children:h.jsxs("div",{className:d.container(),children:[h.jsx("div",{className:d.title(),children:h.jsx(e,{entity:t})}),h.jsx("div",{className:d.links(),children:h.jsx(n,{entity:t})}),h.jsx("div",{className:d.actions(),children:h.jsx(r,{entity:t})}),h.jsx("div",{className:d.extra(),children:h.jsx(i,{entity:t})})]})})})},CV=t=>e=>{t({search:({cursor:n,...r})=>({...r,cursor:{...n,page:e}})})},RV=t=>e=>{t({search:({cursor:n,...r})=>({...r,cursor:{...n,size:e,page:0}})})},vr=t=>({onPage:CV(t),onSize:RV(t)}),br=t=>e=>t({search:({cursor:n,...r})=>({...r,filter:e,cursor:{...n,page:0}})}),_r=t=>e=>{t({search:({cursor:n,filter:r,...i})=>({...i,filter:{...r,fulltext:e},cursor:{...n,page:e?0:n.page}}),replace:!!e})},bi=t=>e=>{t({search(n){return{...n,selection:e}}})},AV=yn({slot:{base:["flex","flex-col","gap-4"],content:["text-bold","text-red-500","font-bold"],footer:["flex","flex-row","items-center","justify-between","gap-4"]},variant:{},defaults:{}}),jV=({source:t,wrap:e=i=>i(),onSuccess:n,options:r})=>{const i=xl(),o=Hi();return $o({mutationKey:["useRemoveMutation",t.name],async mutationFn({where:l,filter:c}){return e(async()=>t.db.transaction().execute(async d=>{const m=await t.delete$({tx:d,where:l,filter:c});return await n?.({queryClient:i,router:o,entity:m}),m}))},...r})},$s=({source:t,textContent:e,filter:n,onCancel:r,invalidator:i,variant:o,tva:l=AV,css:c})=>{const d=l({...o,css:c}).slots,m=U.useContext(qi),y=jV({source:t,async wrap(b){return fF.promise(b(),{loading:h.jsx(D,{label:"Deleting... (label)"}),success:h.jsx(D,{label:"Items deleted (label)"}),error:h.jsx(D,{label:"Items cannot be removed (label)"})})},options:{async onSuccess(){await i?.(),m?.close()}}});return h.jsxs("div",{className:d.base(),children:[h.jsx("div",{className:d.content(),children:e}),h.jsxs("div",{className:d.footer(),children:[h.jsx(cr,{variant:{variant:"subtle",size:"sm"},iconEnabled:ep,onClick:()=>{m?.close(),r?.()},children:h.jsx(D,{label:"Cancel (button)"})}),h.jsx(cr,{variant:{variant:"danger",size:"md"},iconEnabled:ms,onClick:()=>y.mutate({filter:n}),children:h.jsx(D,{label:"Delete (button)"})})]})]})},$g=({source:t,where:e,filter:n,options:r})=>yw({queryKey:["useCountQuery",t.name,{where:e,filter:n}],async queryFn(){return t.db.transaction().execute(async i=>t.count$({tx:i,where:e,filter:n}))},...r}),yo=({source:t,wrap:e=async i=>i(),toCreate:n=async({shape:i})=>({entity:i,shape:i}),onSuccess:r})=>{const i=xl(),o=Hi();return $o({mutationKey:["useCreateMutation",t.name],async mutationFn(l){return e(async()=>t.db.transaction().execute(async c=>{const d=await t.create$({tx:c,...await n({shape:l}),shape:l});return await r?.({queryClient:i,router:o,entity:d}),d}))}})},ur=async({tx:t,queryClient:e,source:n,where:r,filter:i,cursor:o,sort:l})=>e.ensureQueryData({queryKey:["withListCountLoader",n.name,{where:r,filter:i,cursor:o,sort:l}],async queryFn(){return{data:await n.list$({tx:t,where:r,filter:i,cursor:o,sort:l}),count:await n.count$({tx:t,where:r,filter:i})}}}),w0=({source:t,where:e,filter:n,cursor:r,options:i})=>{const o=xl();return yw({queryKey:["useListQuery",t.name,{where:e,filter:n,cursor:r}],async queryFn(){return t.db.transaction().execute(async l=>ur({queryClient:o,tx:l,source:t,where:e,filter:n,cursor:r}))},...i})},Bs=({source:t,wrap:e=async i=>i(),toPatch:n,onSuccess:r})=>{const i=xl(),o=Hi();return $o({mutationKey:["usePatchMutation",t.name],async mutationFn(l){return e(async()=>t.db.transaction().execute(async c=>{const d=await t.patch$({tx:c,entity:l,shape:l,...await n({shape:l})});return await r?.({queryClient:i,router:o,entity:d}),d}))}})},Gi=({sources:t,route:e=!0,queries:n=[]})=>{const r=xl(),i=Hi();return async()=>{await lU({queryClient:r,keys:[...t.map(({name:o})=>["withCountLoader",o]),...t.map(({name:o})=>["withFetchLoader",o]),...t.map(({name:o})=>["withListLoader",o]),...t.map(({name:o})=>["useListQuery",o]),...t.map(({name:o})=>["withListCountLoader",o]),...t.map(({name:o})=>["useCountQuery",o]),...n]}),e&&await i.invalidate()}},Ty=async({tx:t,queryClient:e,source:n,where:r,filter:i})=>e.ensureQueryData({queryKey:["withFetchLoader",n.name,{where:r,filter:i}],async queryFn(){return n.fetchOrThrow$({tx:t,where:r,filter:i})}}),xr=t=>{const e="input"in t?t.input:"input",n="output"in t?t.output:"output",r="schema"in t?t.schema._input:t._input,i="schema"in t?t.schema._output:t._output;return{types:{input:e==="output"?i:r,output:n==="input"?r:i},parse:o=>"schema"in t?t.schema.parse(o):t.parse(o)}},om=(t,e)=>ne.custom().pipe(t.catch(e)),wr=({filter:t,sort:e})=>ne.object({filter:om(t.optional(),void 0),cursor:om(vB,{page:0,size:15}).default({page:0,size:15}),sort:om(e.optional(),void 0),selection:om(ne.array(ne.string()),[]).default([])}),PV=yn({slot:{base:["w-full","flex","flex-col","items-center","justify-center"],title:["text-xl","text-bold"],message:["text-base","text-slate-500"],body:["pt-2"]},variant:{},defaults:{}}),F3=({textTitle:t,textMessage:e,icon:n,iconProps:r,variant:i,tva:o=PV,css:l,children:c})=>{const d=o({...i,css:l}).slots;return h.jsxs("div",{className:d.base(),children:[n?h.jsx(xn,{icon:n,variant:{size:"6xl"},css:{base:["text-slate-500","opacity-50"]},...r}):null,h.jsx("div",{className:d.title(),children:t}),h.jsx("div",{className:d.message(),children:e}),h.jsx("div",{className:d.body(),children:c})]})},S0=yn({slot:{base:["min-w-full","flex","flex-col","gap-2","text-sm"],table:["min-w-full","w-max","table-fixed"],thead:["border","border-slate-200","bg-slate-100"],th:["text-left","px-2","py-1","border-t","border-b","border-slate-300"],tbody:[],tr:["border-b","border-b-slate-200","odd:bg-slate-50","hover:bg-purple-100","hover:border-purple-300"],td:["px-2","py-1"],tfoot:[],select:["cursor-pointer","text-slate-400","hover:text-slate-600"]},variant:{selected:{true:[]}},match:[{if:{selected:!0},then:{tr:["bg-blue-100","odd:bg-blue-50","border-blue-300"],select:["text-slate-600"]}}],defaults:{selected:!1}}),FV=({table:t,cell:{column:e,data:n,value:r},variant:i,tva:o=S0,css:l})=>{const c=e.def.render,d=o({...i,css:l}).slots;return h.jsx("td",{className:d.td(),children:h.jsxs("div",{className:"group flex flex-row items-center gap-2 justify-between",children:[h.jsx(c,{table:t,data:n,value:r,context:t.context}),e.filter&&!e.filter.is()?h.jsx(xn,{icon:iU,css:{base:["group-hover:visible","invisible","opacity-50 hover:opacity-100","cursor-pointer"]},variant:{size:"xl"},onClick:()=>{e.filter&&(e.def.filter?.onFilter({data:n,filter:e.filter}),window.scrollTo({top:0,behavior:"smooth"}))}}):null]})})},LV=({table:t,row:e,action:n,variant:r,tva:i=S0,css:o})=>{const l=i({...r,css:o}).slots,c=n?.table,d=n?.row;return h.jsxs("tr",{className:l.tr({selected:t.selection.isSelected(e)}),children:[c||d||t.selection.enabled?h.jsx("td",{className:"w-0",children:h.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.selection.enabled?h.jsx(xn,{icon:t.selection.isSelected(e)?Iy:Ny,css:{base:l.select({selected:t.selection.isSelected(e)})},onClick:t.selection.withRowHandler(e)}):null,d?h.jsx(d,{table:t,data:e.data}):null]})}):null,e.cells.map(m=>h.jsx(FV,{table:t,cell:m,variant:r,tva:i,css:o},`${e.id}-${m.column.id}`)),h.jsx("td",{})]})},zr=({table:t,fulltext:e,cursor:n,empty:r=()=>h.jsx(F3,{icon:rU,textTitle:h.jsx(D,{label:"Nothing here"}),textMessage:h.jsx(D,{label:"There is nothing to see right now."})}),action:i,variant:o,tva:l=S0,css:c})=>{const d=l({...o,css:c}).slots,m=i?.table,y=i?.row;return h.jsxs("div",{className:d.base(),children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("div",{className:"flex items-center gap-6 w-1/3",children:e?h.jsx(nU,{value:e.value,onFulltext:e.set}):null}),h.jsxs("div",{className:"flex flex-row items-center justify-center gap-2",children:[h.jsx(D1,{...n}),t.filter.is()&&h.jsx(e0,{iconEnabled:hI,css:{base:["text-amber-500"]},onClick:()=>t.filter.reset()})]})]}),h.jsx("div",{className:"relative overflow-x-auto",children:h.jsxs("table",{className:d.table(),children:[h.jsx("thead",{className:d.thead(),children:h.jsxs("tr",{children:[m||y||t.selection.enabled?h.jsx("th",{className:"w-0",children:h.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.selection.enabled?h.jsx(xn,{icon:t.selection.isAll()?Iy:t.selection.isAny()?sU:Ny,variant:{disabled:t.selection.isSingle},css:{base:d.select({selected:t.selection.isAny()})},onClick:t.selection.withAllHandler()}):null,m?h.jsx(m,{table:t}):null]})}):null,t.visible.map(b=>{const E=b.def.header||(()=>null);return h.jsx("th",{className:d.th(),style:b.def.size?{width:`${b.def.size}rem`}:void 0,children:h.jsxs("div",{className:"flex flex-row items-center justify-between",children:[h.jsx(E,{table:t}),h.jsx("div",{className:"flex flex-row items-center gap-2",children:b.filter?.is()&&h.jsx(xn,{icon:hI,variant:{size:"md"},css:{base:["opacity-50","hover:opacity-100","cursor-pointer"]},onClick:()=>{b.filter?.reset()}})})]})},b.id)}),h.jsx("th",{})]})}),t.isEmpty?null:h.jsx("tbody",{className:d.tbody(),children:t.rows?.map(b=>h.jsx(LV,{row:b,table:t,action:i,variant:o,tva:l,css:c},b.id))})]})}),t.isEmpty?h.jsx(r,{}):null,h.jsxs("div",{className:"flex flex-row items-center justify-end gap-2",children:[h.jsx("div",{}),h.jsx(D1,{...n})]})]})},Xr=[];for(let t=0;t<256;++t)Xr.push((t+256).toString(16).slice(1));function DV(t,e=0){return(Xr[t[e+0]]+Xr[t[e+1]]+Xr[t[e+2]]+Xr[t[e+3]]+"-"+Xr[t[e+4]]+Xr[t[e+5]]+"-"+Xr[t[e+6]]+Xr[t[e+7]]+"-"+Xr[t[e+8]]+Xr[t[e+9]]+"-"+Xr[t[e+10]]+Xr[t[e+11]]+Xr[t[e+12]]+Xr[t[e+13]]+Xr[t[e+14]]+Xr[t[e+15]]).toLowerCase()}let X_;const MV=new Uint8Array(16);function $V(){if(!X_){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");X_=crypto.getRandomValues.bind(crypto)}return X_(MV)}const BV=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),RI={randomUUID:BV};function AI(t,e,n){if(RI.randomUUID&&!e&&!t)return RI.randomUUID();t=t||{};const r=t.random||(t.rng||$V)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,DV(r)}const Ur=({columns:t,order:e=t.map(d=>d.name),hidden:n=[],visible:r=t.map(d=>d.name),data:i,filter:o,selection:l,context:c})=>{const d={...o?.value||{}},m=l1(d||{}),y=new Set(l?.value),b=t.map(N=>({id:AI(),def:N,filter:N.filter?{is(){return N.filter?m.get(N.filter.path)!==void 0:!1},reset(){N.filter&&m.set(N.filter.path,void 0),o?.set({...d})},shallow(O,T){N.filter&&m.set(O,T),o?.set({...d})},set(O){o?.set({...O})}}:void 0})),E=b.filter(N=>r.includes(N.def.name)&&!n.includes(N.def.name)).sort((N,O)=>{const T=e.indexOf(N.def.name),A=e.indexOf(O.def.name);return(T===-1?1/0:T)-(A===-1?1/0:A)});return{columns:b,visible:E,rows:i?.map(N=>({id:AI(),data:N,cells:E.map(O=>({column:O,data:N,value:l1(N).get(O.def.name)}))})),isEmpty:i.length===0,filter:{is(){return b.some(N=>N.filter?.is())},reset(){o?.set({})},set(N){o?.set({...N})},shallow(N,O){m.set(N,O)}},selection:{enabled:!!l&&i.length>0,selection:Array.from(y),isSingle:l?.type==="single",isMulti:l?.type==="multi",isSelected({data:N}){return y.has(N.id)||!1},isAll(){return i.every(N=>y.has(N.id))},isAny(){return i.some(N=>y.has(N.id))},withRowHandler({data:N}){return()=>{if(l?.type==="single"){const O=y.has(N.id);y.clear(),O?y.delete(N.id):y.add(N.id)}else y.has(N.id)?y.delete(N.id):y.add(N.id);l?.set(Array.from(y))}},withAllHandler(){return()=>{i.every(N=>y.has(N.id))?y.clear():i.forEach(({id:N})=>y.add(N)),l?.set(Array.from(y))}}},context:c}},Vr=()=>t=>t,L3=({tags:t=[],render:e=({tag:i})=>i.label,onClick:n,textEmpty:r})=>{const i=t.filter(Boolean).sort((o,l)=>o.sort-l.sort);return h.jsx("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:i.length?i.map(o=>h.jsx(kC,{onClick:()=>n?.(o),children:e({tag:o})},o.id)):r||h.jsx(D,{label:"No tags (label)"})})},WV=yn({slot:{base:["flex","flex-row","gap-2","items-center"],title:["flex","flex-row","gap-2","items-center","text-lg","text-slate-500"],subtitle:["flex","flex-row","gap-4","items-center","text-lg"]},variant:{withSubtitle:{true:[]}},match:[{if:{withSubtitle:!0},then:{title:["border-r","border-r-slate-300","pr-2"]}}],defaults:{withSubtitle:!1}}),Op=({icon:t,title:e,subtitle:n,variant:r,tva:i=WV,css:o})=>{const l=i({withSubtitle:!!n,...r,css:o}).slots;return h.jsxs("div",{className:l.base(),children:[h.jsxs("div",{className:l.title(),children:[t?h.jsx(xn,{icon:t}):null,e]}),n?h.jsx("div",{className:l.subtitle(),children:n}):null]})};var am={},jI;function zV(){if(jI)return am;jI=1;var t=BO();return am.createRoot=t.createRoot,am.hydrateRoot=t.hydrateRoot,am}var UV=zV();const VV=wa(UV),E0=Xj()({component:()=>h.jsxs(h.Fragment,{children:[h.jsx(_P,{}),h.jsx(Bo,{})]})}),HV="modulepreload",QV=function(t){return"/"+t},PI={},FI=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");i=Promise.allSettled(n.map(d=>{if(d=QV(d),d in PI)return;PI[d]=!0;const m=d.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${y}`))return;const b=document.createElement("link");if(b.rel=m?"stylesheet":HV,m||(b.as="script"),b.crossOrigin="",b.href=d,c&&b.setAttribute("nonce",c),document.head.appendChild(b),m)return new Promise((E,N)=>{b.addEventListener("load",E),b.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})},KV=Xt("/$locale")({component:Bo,loader:async({params:{locale:t}})=>{try{bn.push((await GV(`../translation/${t}.yaml`)).default)}catch(e){console.error(e)}}});function GV(t){switch(t){case"../translation/cs":case"../translation/cs.yaml":return FI(()=>import("./cs-CrEgTpJI.js"),[]);case"../translation/en":case"../translation/en.yaml":return FI(()=>import("./en-wMy11nkf.js"),[]);default:return new Promise(function(e,n){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+t)))})}}const D3="cs",JV=[D3,"en"],ZV=Xt("/")({loader:async()=>{throw Hg({to:"/$locale",params:{locale:r$({available:JV,fallback:D3})}})}}),YV=Xt("/$locale/")({component:()=>{const{locale:t}=Wn({from:"/$locale"});return h.jsx("div",{className:"flex flex-col items-center justify-center h-screen w-screen",children:h.jsxs("div",{className:"rounded bg-slate-50 p-4 shadow-md border border-slate-300",children:[h.jsx("h1",{className:"text-3xl text-center",children:"Apps"}),h.jsx("ul",{children:h.jsx("li",{children:h.jsx(ar,{icon:"icon-[bx--game]",to:"/$locale/apps/derivean/public/login",params:{locale:t},children:"DeRivean"})})})]})})}}),{kysely:zn,bootstrap:XV}=J6({database:"derivean",async bootstrap({kysely:t}){const e="varchar(36)",n=async()=>{await t.schema.createTable("User").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("name","varchar(64)",l=>l.notNull()).addColumn("login","varchar(128)",l=>l.notNull().unique()).addColumn("password","varchar(256)",l=>l.notNull()).execute(),await t.schema.createTable("Tag").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("code","varchar(64)",l=>l.notNull()).addColumn("label","varchar(128)",l=>l.notNull()).addColumn("group","varchar(64)").addColumn("sort","integer",l=>l.notNull().defaultTo(0)).addUniqueConstraint("Tag_code_group",["code","group"]).execute(),await t.schema.createTable("Cycle").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("userId",e,l=>l.references("User.id").onDelete("cascade").notNull()).addColumn("stamp","datetime",l=>l.defaultTo(y0`CURRENT_TIMESTAMP`).notNull()).execute()},r=async()=>{await t.schema.createTable("Resource").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("name","varchar(64)",l=>l.notNull().unique()).execute(),await t.schema.createTable("Resource_Tag").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("resourceId",e,l=>l.references("Resource.id").onDelete("cascade").notNull()).addColumn("tagId",e,l=>l.references("Tag.id").onDelete("cascade").notNull()).addUniqueConstraint("Resource_Tag_resourceId_tagId",["resourceId","tagId"]).execute(),await t.schema.createTable("Inventory").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("userId",e,l=>l.references("User.id").onDelete("cascade").notNull()).addColumn("resourceId",e,l=>l.references("Resource.id").onDelete("cascade").notNull()).addColumn("amount","float8",l=>l.notNull()).addUniqueConstraint("Inventory_userId_resourceId",["userId","resourceId"]).execute(),await t.schema.createTable("DefaultInventory").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("resourceId",e,l=>l.references("Resource.id").onDelete("cascade").notNull()).addColumn("amount","float8",l=>l.notNull()).execute()},i=async()=>{await t.schema.createTable("BaseBuilding").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("name","varchar(64)",l=>l.notNull().unique()).addColumn("cycles","int2",l=>l.notNull()).execute(),await t.schema.createTable("BaseBuilding_Requirement").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("baseBuildingId",e,l=>l.references("BaseBuilding.id").onDelete("cascade").notNull()).addColumn("resourceId",e,l=>l.references("Resource.id").onDelete("cascade").notNull()).addColumn("amount","float8",l=>l.notNull()).addColumn("passive","boolean",l=>l.notNull()).addUniqueConstraint("BaseBuilding_Requirement_baseBuildingId_resourceId",["baseBuildingId","resourceId"]).execute(),await t.schema.createTable("BaseBuilding_Limit").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("baseBuildingId",e,l=>l.references("BaseBuilding.id").onDelete("cascade").notNull()).addColumn("resourceId",e,l=>l.references("Resource.id").onDelete("cascade").notNull()).addColumn("limit","float8",l=>l.notNull()).addUniqueConstraint("BaseBuilding_Limit_baseBuildingId_resourceId",["baseBuildingId","resourceId"]).execute(),await t.schema.createTable("BaseBuildingProduction").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("baseBuildingId",e,l=>l.references("BaseBuilding.id").onDelete("cascade").notNull()).addColumn("resourceId",e,l=>l.references("User.id").onDelete("cascade").notNull()).addColumn("amount","float8",l=>l.notNull()).addColumn("cycles","float8",l=>l.notNull()).addColumn("limit","float8",l=>l.notNull()).execute(),await t.schema.createTable("BaseBuildingProductionRequirement").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("baseBuildingProductionId",e,l=>l.references("BaseBuildingProduction.id").onDelete("cascade").notNull()).addColumn("resourceId",e,l=>l.references("Resource.id").onDelete("cascade").notNull()).addColumn("amount","float8",l=>l.notNull()).addColumn("passive","boolean",l=>l.notNull()).execute()},o=async()=>{await t.schema.createTable("Building").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("userId",e,l=>l.references("User.id").onDelete("cascade").notNull()).addColumn("baseBuildingId",e,l=>l.references("BaseBuilding.id").onDelete("cascade").notNull()).execute(),await t.schema.createTable("Building_Resource").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("buildingId",e,l=>l.references("Building.id").onDelete("cascade").notNull()).addColumn("resourceId",e,l=>l.references("Resource.id").onDelete("cascade").notNull()).addColumn("amount","float8",l=>l.notNull()).addUniqueConstraint("Building_Storage_buildingId_resourceId",["buildingId","resourceId"]).execute(),await t.schema.createTable("BuildingQueue").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("userId",e,l=>l.references("User.id").onDelete("cascade").notNull()).addColumn("baseBuildingId",e,l=>l.references("BaseBuilding.id").onDelete("cascade").notNull()).addColumn("start","float8",l=>l.notNull()).addColumn("current","float8",l=>l.notNull()).addColumn("finish","float8",l=>l.notNull()).execute(),await t.schema.createTable("BuildingProductionQueue").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("buildingId",e,l=>l.references("Building.id").onDelete("cascade").notNull()).addColumn("resourceId",e,l=>l.references("Resource.id").onDelete("cascade").notNull()).addColumn("baseBuildingProductionId",e,l=>l.references("BaseBuildingProduction.id").onDelete("cascade").notNull()).addColumn("amount","float8",l=>l.notNull()).addColumn("start","float8",l=>l.notNull()).addColumn("current","float8",l=>l.notNull()).addColumn("finish","float8",l=>l.notNull()).execute()};await n(),await r(),await i(),await o()}}),e8=Xt("/$locale/apps/derivean")({loader:XV}),M3="icon-[proicons--game]",t8=yn({slot:{base:["text-orange-500","font-bold","text-2xl","shadow-md","hover:shadow-lg","hover:text-orange-600","rounded","px-2","py-1","bg-slate-100"]},variant:{},defaults:{}}),$3=({variant:t,tva:e=t8,css:n})=>{const r=e({...t,css:n}).slots;return h.jsx("div",{className:r.base(),children:"DeRivean"})},fo="icon-[material-symbols-light--construction-rounded]",po="icon-[fluent--building-shop-20-regular]",xa="icon-[mingcute--inventory-line]",Nn="icon-[hugeicons--resources-add]",n8=t=>{const{locale:e}=Wn({from:"/$locale"});return h.jsxs(Ec,{...t,children:[h.jsx(Fn,{icon:x0,to:"/$locale/apps/derivean/root/user/list",params:{locale:e},active:[{to:"/$locale/apps/derivean/root/user/$id/view"},{to:"/$locale/apps/derivean/root/user/$id/building/list"}],children:h.jsx(D,{label:"User list (menu)"})}),h.jsxs(CI,{icon:po,label:h.jsx(D,{label:"Buildings (menu)"}),active:[{to:"/$locale/apps/derivean/root/building/base/list"},{to:"/$locale/apps/derivean/root/building/list"},{to:"/$locale/apps/derivean/root/building/$id/view"},{to:"/$locale/apps/derivean/root/building/base/$id/view"},{to:"/$locale/apps/derivean/root/building/base/$id/requirement/list"},{to:"/$locale/apps/derivean/root/building/base/$id/limit/list"},{to:"/$locale/apps/derivean/root/building/base/$id/edit"},{to:"/$locale/apps/derivean/root/building/$id/resource/list"},{to:"/$locale/apps/derivean/root/building/base/$id/production"},{to:"/$locale/apps/derivean/root/building/base/$id/production/$productionId/requirement/list"}],children:[h.jsx(Fn,{icon:fo,to:"/$locale/apps/derivean/root/building/base/list",params:{locale:e},variant:{inner:!0},children:h.jsx(D,{label:"Base building list (menu)"})}),h.jsx(Fn,{icon:po,to:"/$locale/apps/derivean/root/building/list",params:{locale:e},variant:{inner:!0},children:h.jsx(D,{label:"Building list (menu)"})})]}),h.jsx(Fn,{icon:Nn,to:"/$locale/apps/derivean/root/resource/list",params:{locale:e},children:h.jsx(D,{label:"Resource list (menu)"})}),h.jsx(Fn,{icon:xa,to:"/$locale/apps/derivean/root/inventory/default",params:{locale:e},children:h.jsx(D,{label:"Default inventory (menu)"})}),h.jsx(CI,{icon:oU,label:h.jsx(D,{label:"Settings (menu)"}),children:h.jsx(Fn,{icon:Fg,to:"/$locale/apps/derivean/root/tag/list",params:{locale:e},variant:{inner:!0},children:h.jsx(D,{label:"Tag list (menu)"})})})]})},qy=ne.object({id:ne.string(),name:ne.string(),login:ne.string()}),r8=Xt("/$locale/apps/derivean/root")({async beforeLoad({context:t,params:{locale:e}}){return{...t,async session(){try{return qy.parse(Np.get("session"))}catch{throw Hg({to:"/$locale/apps/derivean/public/login",params:{locale:e}})}}}},async loader({context:{session:t}}){return{session:await t()}},component:()=>{const{locale:t}=Wn({from:"/$locale"}),{session:e}=wl({from:"/$locale/apps/derivean/root"});return h.jsx(A3,{logo:h.jsx(ar,{to:"/$locale/apps/derivean/root",params:{locale:t},children:h.jsx($3,{})}),menu:h.jsx(n8,{}),actions:h.jsxs(h.Fragment,{children:[e.name,h.jsx(ar,{icon:M3,to:"/$locale/apps/derivean/game",params:{locale:t}}),h.jsx(ar,{icon:_0,to:"/$locale/apps/derivean/public/logout",params:{locale:t},preload:!1})]})})}}),i8=vi({entity:mi.merge(ne.object({userId:ne.string().min(1),stamp:ne.string().min(1)})),shape:ne.object({}),filter:gi.merge(ne.object({userId:ne.string().optional()})),sort:["stamp"]}),sc=yi({name:"CycleSource",schema:i8,db:zn,select$({tx:t,where:e,filter:n,cursor:r={page:0,size:10},use:i}){let o=t.selectFrom("Cycle as c").selectAll("c").leftJoin("User as u","u.id","c.userId");const l=d=>{const m=`%${d}%`;return o.where(y=>y.or([y("c.id","like",m),y("u.id","like",m)]))},c=d=>{d?.id&&(o=o.where("c.id","=",d.id)),d?.idIn&&(o=o.where("c.id","in",d.idIn)),d?.userId&&(o=o.where("c.userId","=",d.userId)),d?.fulltext&&(o=l(d.fulltext))};return i.includes("filter")&&c(n||{}),i.includes("where")&&c(e||{}),i.includes("cursor")&&(o=o.limit(r.size).offset(r.page*r.size)),o},create$({tx:t}){return t.insertInto("Cycle")},patch$({tx:t}){return t.updateTable("Cycle")},delete$({tx:t}){return t.deleteFrom("Cycle")},map:{async toCreate({entity:t}){return{...t,stamp:tn.utc().toSQLTime()}}}}),Cy=vi({entity:_B,shape:ne.object({code:ne.string().min(1),label:ne.string().min(1),group:ne.string().nullish(),sort:ne.union([ne.number().int().nonnegative(),ne.string().transform(t=>parseInt(t,10)).refine(t=>!isNaN(t),{message:bn.text("Sort must be a number")})])}),filter:gi.merge(ne.object({code:ne.string().optional(),group:ne.string().optional()})),sort:["sort","code","label","group"]}),LI=mi.merge(ne.object({name:ne.string().min(1)})),vo=vi({entity:LI,output:LI.merge(ne.object({tagIds:ne.array(ne.string()),tags:ne.array(Cy.output)})),shape:ne.object({name:ne.string().min(1),tagIds:ne.array(ne.string()).optional()}),filter:gi.merge(ne.object({name:ne.string().optional()})),sort:["name"]}),DI=mi.merge(ne.object({baseBuildingId:ne.string().min(1),resourceId:ne.string().min(1),limit:ne.number().positive()})),Ry=vi({entity:DI,output:DI.merge(ne.object({resource:vo.output})),shape:ne.object({resourceId:ne.string().min(1),limit:ne.union([ne.number().positive(),ne.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:bn.text("Limit must be a number")})])}),filter:gi.merge(ne.object({resourceId:ne.string().optional(),baseBuildingId:ne.string().optional()})),sort:["name","resource"]}),MI=mi.merge(ne.object({baseBuildingId:ne.string().min(1),resourceId:ne.string().min(1),amount:ne.number().nonnegative(),passive:ne.union([ne.boolean(),ne.number().int().refine(t=>t===0||t===1).transform(t=>typeof t=="boolean"?t:t===1)])})),Ay=vi({entity:MI,output:MI.merge(ne.object({resource:vo.output})),shape:ne.object({resourceId:ne.string().min(1),amount:ne.union([ne.number().nonnegative(),ne.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:bn.text("Amount must be a number")})]),passive:ne.boolean()}),filter:gi.merge(ne.object({baseBuildingId:ne.string().optional(),resourceId:ne.string().optional(),passive:ne.boolean().optional()})),sort:["name","resource","passive"]}),$I=mi.merge(ne.object({name:ne.string().min(1),cycles:ne.number().int().positive()})),id=vi({entity:$I,output:$I.merge(ne.object({requirements:ne.array(Ay.output),limits:ne.array(Ry.output)})),shape:ne.object({name:ne.string().min(1),cycles:ne.union([ne.number().int().positive(),ne.string().transform(t=>parseInt(t,10)).refine(t=>!isNaN(t),{message:bn.text("Cycles must be a number")})])}),filter:gi.merge(ne.object({name:ne.string().optional()})),sort:["name"]}),s8=vi({entity:mi.merge(ne.object({resourceId:ne.string().min(1),tagId:ne.string().min(1)})),shape:ne.object({resourceId:ne.string().min(1),tagId:ne.string().min(1)}),filter:gi.merge(ne.object({resourceId:ne.string().optional(),tagId:ne.string().optional()})),sort:["name","sort"]}),cc=yi({name:"ResourceTagSource",schema:s8,db:zn,select$({tx:t,where:e,filter:n,cursor:r={page:0,size:10},use:i}){let o=t.selectFrom("Resource_Tag as rt").selectAll("rt").leftJoin("Resource as r","r.id","rt.resourceId").leftJoin("Tag as t","t.id","rt.tagId");const l=d=>{const m=`%${d}%`;return o.where(y=>y.or([y("rt.id","like",m),y("r.id","like",m),y("t.id","like",m),y("r.name","like",m),y("t.code","like",m),y("t.label","like",m),y("t.group","like",m)]))},c=d=>{d?.id&&(o=o.where("rt.id","=",d.id)),d?.idIn&&(o=o.where("rt.id","in",d.idIn)),d?.resourceId&&(o=o.where("rt.resourceId","=",d.resourceId)),d?.tagId&&(o=o.where("rt.tagId","=",d.tagId)),d?.fulltext&&(o=l(d.fulltext))};return i.includes("filter")&&c(n||{}),i.includes("where")&&c(e||{}),i.includes("cursor")&&(o=o.limit(r.size).offset(r.page*r.size)),o},create$({tx:t}){return t.insertInto("Resource_Tag")},patch$({tx:t}){return t.updateTable("Resource_Tag")},delete$({tx:t}){return t.deleteFrom("Resource_Tag")}}),fa=yi({name:"TagSource",schema:Cy,db:zn,select$({tx:t,where:e,filter:n,sort:r,cursor:i={page:0,size:10},use:o}){let l=t.selectFrom("Tag as t").selectAll("t");const c={code:"t.code",group:"t.group",label:"t.label",sort:"t.sort"};r?.forEach(({name:y,sort:b})=>{l=l.orderBy(c[y],b)});const d=y=>{const b=`%${y}%`;return l.where(E=>E.or([E("t.id","like",b),E("t.code","like",b),E("t.group","like",b),E("t.label","like",b)]))},m=y=>{y?.id&&(l=l.where("t.id","=",y.id)),y?.idIn&&(l=l.where("t.id","in",y.idIn)),y?.code&&(l=l.where("t.code","=",y.code)),y?.group&&(l=l.where("t.group","=",y.group)),y?.fulltext&&(l=d(y.fulltext))};return o.includes("filter")&&m(n||{}),o.includes("where")&&m(e||{}),o.includes("cursor")&&(l=l.limit(i.size).offset(i.page*i.size)),l},create$({tx:t}){return t.insertInto("Tag")},patch$({tx:t}){return t.updateTable("Tag")},delete$({tx:t}){return t.deleteFrom("Tag")}}),ni=yi({name:"ResourceSource",schema:vo,db:zn,select$({tx:t,where:e,filter:n,sort:r,cursor:i={page:0,size:10},use:o}){let l=t.selectFrom("Resource as r").selectAll("r");const c={name:"r.name"};r?.forEach(({name:y,sort:b})=>{l=l.orderBy(c[y],b)});const d=y=>{const b=`%${y}%`;return l.where(E=>E.or([E("r.id","like",b),E("r.name","like",b)]))},m=y=>{y?.id&&(l=l.where("r.id","=",y.id)),y?.idIn&&(l=l.where("r.id","in",y.idIn)),y?.name&&(l=l.where("r.name","=",y.name)),y?.fulltext&&(l=d(y.fulltext))};return o.includes("filter")&&m(n||{}),o.includes("where")&&m(e||{}),o.includes("cursor")&&(l=l.limit(i.size).offset(i.page*i.size)),l},create$({tx:t}){return t.insertInto("Resource")},patch$({tx:t}){return t.updateTable("Resource")},delete$({tx:t}){return t.deleteFrom("Resource")},map:{async toOutput({tx:t,entity:e}){const n=(await cc.list$({tx:t,where:{resourceId:e.id}})).map(({tagId:r})=>r);return{...e,tagIds:n,tags:await fa.list$({tx:t,where:{idIn:n}})}}},event:{async onPostCreate({tx:t,entity:e,shape:n}){await Promise.all(n.tagIds?.forEach(async r=>cc.create$({tx:t,entity:{resourceId:e.id,tagId:r},shape:{resourceId:e.id,tagId:r}}))||[])},async onPostPatch({tx:t,entity:e,shape:n}){Array.isArray(n.tagIds)&&(await t.deleteFrom("Resource_Tag").where("resourceId","=",e.id).execute(),await Promise.all(n.tagIds.map(async r=>cc.create$({tx:t,entity:{resourceId:e.id,tagId:r},shape:{resourceId:e.id,tagId:r}}))))}}}),el=yi({name:"BaseBuildingLimitSource",schema:Ry,db:zn,select$({tx:t,where:e,filter:n,cursor:r={page:0,size:10},use:i}){let o=t.selectFrom("BaseBuilding_Limit as bbl").selectAll("bbl").leftJoin("BaseBuilding as bb","bb.id","bbl.baseBuildingId").leftJoin("Resource as r","r.id","bbl.resourceId");const l=d=>{const m=`%${d}%`;return o.where(y=>y.or([y("bbl.id","like",m),y("bb.id","like",m),y("r.id","like",m),y("bb.name","like",m),y("r.name","like",m)]))},c=d=>{d?.id&&(o=o.where("bbl.id","=",d.id)),d?.idIn&&(o=o.where("bbl.id","in",d.idIn)),d?.resourceId&&(o=o.where("bbl.resourceId","=",d.resourceId)),d?.baseBuildingId&&(o=o.where("bbl.baseBuildingId","=",d.baseBuildingId)),d?.fulltext&&(o=l(d.fulltext))};return i.includes("filter")&&c(n||{}),i.includes("where")&&c(e||{}),i.includes("cursor")&&(o=o.limit(r.size).offset(r.page*r.size)),o},create$({tx:t}){return t.insertInto("BaseBuilding_Limit")},patch$({tx:t}){return t.updateTable("BaseBuilding_Limit")},delete$({tx:t}){return t.deleteFrom("BaseBuilding_Limit")},map:{async toOutput({tx:t,entity:e}){return{...e,resource:await ni.getOrThrow$({tx:t,id:e.resourceId,error:"Cannot find resource for limit"})}}}}),tl=yi({name:"BaseBuildingRequirementSource",schema:Ay,db:zn,select$({tx:t,where:e,filter:n,cursor:r={page:0,size:10},use:i}){let o=t.selectFrom("BaseBuilding_Requirement as bbr").selectAll("bbr").leftJoin("BaseBuilding as bb","bb.id","bbr.baseBuildingId").leftJoin("Resource as r","r.id","bbr.resourceId");const l=d=>{const m=`%${d}%`;return o.where(y=>y.or([y("bbr.id","like",m),y("bb.id","like",m),y("r.id","like",m),y("bb.name","like",m),y("r.name","like",m)]))},c=d=>{d?.id&&(o=o.where("bbr.id","=",d.id)),d?.idIn&&(o=o.where("bbr.id","in",d.idIn)),d?.baseBuildingId&&(o=o.where("bbr.baseBuildingId","=",d.baseBuildingId)),d?.resourceId&&(o=o.where("bbr.resourceId","=",d.resourceId)),d?.fulltext&&(o=l(d.fulltext))};return i.includes("filter")&&c(n||{}),i.includes("where")&&c(e||{}),i.includes("cursor")&&(o=o.limit(r.size).offset(r.page*r.size)),o},create$({tx:t}){return t.insertInto("BaseBuilding_Requirement")},patch$({tx:t}){return t.updateTable("BaseBuilding_Requirement")},delete$({tx:t}){return t.deleteFrom("BaseBuilding_Requirement")},map:{async toOutput({tx:t,entity:e}){return{...e,resource:await ni.getOrThrow$({tx:t,id:e.resourceId,error:"Cannot find resource for building requirement."})}}}}),Dr=yi({name:"BaseBuildingSource",schema:id,db:zn,select$({tx:t,where:e,filter:n,sort:r,cursor:i={page:0,size:10},use:o}){let l=t.selectFrom("BaseBuilding as bb").selectAll("bb");const c={name:"bb.name"};r?.forEach(({name:y,sort:b})=>{l=l.orderBy(c[y],b)});const d=y=>{const b=`%${y}%`;return l.where(E=>E.or([E("bb.id","like",b),E("bb.name","like",b)]))},m=y=>{y?.id&&(l=l.where("bb.id","=",y.id)),y?.idIn&&(l=l.where("bb.id","in",y.idIn)),y?.name&&(l=l.where("bb.name","=",y.name)),y?.fulltext&&(l=d(y.fulltext))};return o.includes("filter")&&m(n||{}),o.includes("where")&&m(e||{}),o.includes("cursor")&&(l=l.limit(i.size).offset(i.page*i.size)),l},create$({tx:t}){return t.insertInto("BaseBuilding")},patch$({tx:t}){return t.updateTable("BaseBuilding")},delete$({tx:t}){return t.deleteFrom("BaseBuilding")},map:{async toOutput({tx:t,entity:e}){return{...e,requirements:await tl.list$({tx:t,where:{baseBuildingId:e.id},sort:[{name:"name",sort:"asc"}]}),limits:await el.list$({tx:t,where:{baseBuildingId:e.id},sort:[{name:"resource",sort:"asc"}]})}}}}),BI=mi.merge(ne.object({userId:ne.string().min(1),baseBuildingId:ne.string().min(1)})),sd=vi({entity:BI,output:BI.merge(ne.object({baseBuilding:id.output})),shape:ne.object({baseBuildingId:ne.string().min(1)}),filter:gi.merge(ne.object({userId:ne.string().optional(),baseBuildingId:ne.string().optional(),name:ne.string().optional()})),sort:["name"]}),Oi=yi({name:"BuildingSource",db:zn,schema:sd,select$({tx:t,where:e,filter:n,cursor:r={page:0,size:10},use:i}){let o=t.selectFrom("Building as b").selectAll("b").leftJoin("BaseBuilding as bb","bb.id","b.baseBuildingId");const l=d=>{const m=`%${d}%`;return o.where(y=>y.or([y("b.id","like",m),y("bb.id","like",m),y("bb.name","like",m)]))},c=d=>{d?.id&&(o=o.where("b.id","=",d.id)),d?.idIn&&(o=o.where("b.id","in",d.idIn)),d?.baseBuildingId&&(o=o.where("b.baseBuildingId","=",d.baseBuildingId)),d?.name&&(o=o.where("bb.name","=",d.name)),d?.fulltext&&(o=l(d.fulltext))};return i.includes("filter")&&c(n||{}),i.includes("where")&&c(e||{}),i.includes("cursor")&&(o=o.limit(r.size).offset(r.page*r.size)),o},create$({tx:t}){return t.insertInto("Building")},patch$({tx:t}){return t.updateTable("Building")},delete$({tx:t}){return t.deleteFrom("Building")},map:{async toOutput({tx:t,entity:e}){return{...e,baseBuilding:await Dr.getOrThrow$({tx:t,id:e.baseBuildingId})}}}}),WI=mi.merge(ne.object({baseBuildingProductionId:ne.string().min(1),buildingId:ne.string().min(1),resourceId:ne.string().min(1),amount:ne.number().nonnegative(),start:ne.number().nonnegative(),current:ne.number().nonnegative(),finish:ne.number().nonnegative()})),k0=vi({entity:WI,output:WI.merge(ne.object({building:sd.output,resource:vo.output})),shape:ne.object({baseBuildingProductionId:ne.string().min(1),buildingId:ne.string().min(1),resourceId:ne.string().min(1),amount:ne.number().nonnegative(),start:ne.number().nonnegative(),current:ne.number().nonnegative(),finish:ne.number().nonnegative()}),filter:gi.merge(ne.object({baseBuildingProductionId:ne.string().optional(),buildingId:ne.string().optional(),baseBuildingId:ne.string().optional(),resourceId:ne.string().optional(),userId:ne.string().optional(),finishGte:ne.number().optional(),finishGt:ne.number().optional()})),sort:["building","resource","start","current","finish"]}),ro=yi({name:"BuildingProductionQueueSource",schema:k0,db:zn,select$({tx:t,where:e,filter:n,sort:r,cursor:i={page:0,size:10},use:o}){let l=t.selectFrom("BuildingProductionQueue as bpq").selectAll("bpq").leftJoin("Building as b","b.id","bpq.buildingId").leftJoin("BaseBuilding as bb","bb.id","b.baseBuildingId").leftJoin("Resource as r","r.id","bpq.resourceId");const c={resource:"r.name",building:"bb.name",start:"bpq.start",current:"bpq.current",finish:"bpq.finish"};r?.forEach(({name:y,sort:b})=>{l=l.orderBy(c[y],b)});const d=y=>{const b=`%${y}%`;return l.where(E=>E.or([E("bpq.id","like",b)]))},m=y=>{y?.id&&(l=l.where("bpq.id","=",y.id)),y?.idIn&&(l=l.where("bpq.id","in",y.idIn)),y?.userId&&(l=l.where("b.userId","=",y.userId)),y?.baseBuildingId&&(l=l.where("b.baseBuildingId","=",y.baseBuildingId)),y?.buildingId&&(l=l.where("bpq.buildingId","=",y.buildingId)),y?.baseBuildingProductionId&&(l=l.where("bpq.baseBuildingProductionId","=",y.baseBuildingProductionId)),y?.finishGte&&(l=l.where("bpq.finish","<=",y.finishGte)),y?.finishGt&&(l=l.where("bpq.finish","<",y.finishGt)),y?.fulltext&&(l=d(y.fulltext))};return o.includes("filter")&&m(n||{}),o.includes("where")&&m(e||{}),o.includes("cursor")&&(l=l.limit(i.size).offset(i.page*i.size)),l},create$({tx:t}){return t.insertInto("BuildingProductionQueue")},patch$({tx:t}){return t.updateTable("BuildingProductionQueue")},delete$({tx:t}){return t.deleteFrom("BuildingProductionQueue")},map:{async toOutput({tx:t,entity:e}){return{...e,building:await Oi.getOrThrow$({tx:t,id:e.buildingId}),resource:await ni.getOrThrow$({tx:t,id:e.resourceId})}}}}),zI=mi.merge(ne.object({userId:ne.string().min(1),baseBuildingId:ne.string().min(1),start:ne.number().nonnegative(),current:ne.number().nonnegative(),finish:ne.number().nonnegative()})),B3=vi({entity:zI,output:zI.merge(ne.object({baseBuilding:id.output})),shape:ne.object({baseBuildingId:ne.string().min(1),start:ne.number().nonnegative(),current:ne.number().nonnegative(),finish:ne.number().nonnegative()}),filter:gi.merge(ne.object({userId:ne.string().optional(),baseBuildingId:ne.string().optional(),finishGte:ne.number().optional(),finishGt:ne.number().optional()})),sort:["name","start","current","finish"]}),da=yi({name:"BuildingQueueSource",schema:B3,db:zn,select$({tx:t,where:e,filter:n,cursor:r={page:0,size:10},use:i}){let o=t.selectFrom("BuildingQueue as bq").selectAll("bq");const l=d=>{const m=`%${d}%`;return o.where(y=>y.or([y("bq.id","like",m)]))},c=d=>{d?.id&&(o=o.where("bq.id","=",d.id)),d?.idIn&&(o=o.where("bq.id","in",d.idIn)),d?.userId&&(o=o.where("bq.userId","=",d.userId)),d?.baseBuildingId&&(o=o.where("bq.baseBuildingId","=",d.baseBuildingId)),d?.finishGte&&(o=o.where("bq.finish","<=",d.finishGte)),d?.finishGt&&(o=o.where("bq.finish","<",d.finishGt)),d?.fulltext&&(o=l(d.fulltext))};return i.includes("filter")&&c(n||{}),i.includes("where")&&c(e||{}),i.includes("cursor")&&(o=o.limit(r.size).offset(r.page*r.size)),o},create$({tx:t}){return t.insertInto("BuildingQueue")},patch$({tx:t}){return t.updateTable("BuildingQueue")},delete$({tx:t}){return t.deleteFrom("BuildingQueue")},map:{async toOutput({tx:t,entity:e}){return{...e,baseBuilding:await Dr.getOrThrow$({tx:t,id:e.baseBuildingId,error:"Cannot find base building for building queue"})}}}}),UI=mi.merge(ne.object({buildingId:ne.string().min(1),resourceId:ne.string().min(1),amount:ne.number().nonnegative()})),od=vi({entity:UI,output:UI.merge(ne.object({building:sd.output,resource:vo.output})),shape:ne.object({resourceId:ne.string().min(1),amount:ne.union([ne.number().nonnegative(),ne.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:bn.text("Amount must be a number")})])}),filter:gi.merge(ne.object({userId:ne.string().optional(),buildingId:ne.string().optional(),resourceId:ne.string().optional(),baseBuildingId:ne.string().optional()})),sort:["name","resource"]}),pi=yi({name:"BuildingResourceSource",schema:od,db:zn,select$({tx:t,where:e,filter:n,cursor:r={page:0,size:10},use:i}){let o=t.selectFrom("Building_Resource as br").selectAll("br").leftJoin("Building as b","b.id","br.buildingId").leftJoin("BaseBuilding as bb","bb.id","b.baseBuildingId").leftJoin("Resource as r","r.id","br.resourceId");const l=d=>{const m=`%${d}%`;return o.where(y=>y.or([y("br.id","like",m),y("bb.id","like",m),y("r.id","like",m),y("bb.name","like",m),y("r.name","like",m)]))},c=d=>{d?.id&&(o=o.where("br.id","=",d.id)),d?.idIn&&(o=o.where("br.id","in",d.idIn)),d?.buildingId&&(o=o.where("br.buildingId","=",d.buildingId)),d?.baseBuildingId&&(o=o.where("b.baseBuildingId","=",d.baseBuildingId)),d?.resourceId&&(o=o.where("br.resourceId","=",d.resourceId)),d?.fulltext&&(o=l(d.fulltext))};return i.includes("filter")&&c(n||{}),i.includes("where")&&c(e||{}),i.includes("cursor")&&(o=o.limit(r.size).offset(r.page*r.size)),o},create$({tx:t}){return t.insertInto("Building_Resource")},patch$({tx:t}){return t.updateTable("Building_Resource")},delete$({tx:t}){return t.deleteFrom("Building_Resource")},map:{async toOutput({tx:t,entity:e}){return{...e,building:await Oi.getOrThrow$({tx:t,id:e.buildingId}),resource:await ni.getOrThrow$({tx:t,id:e.resourceId})}}}}),o8=({userId:t})=>{const e=Gi({sources:[sc,da,Oi,ro,pi]});return $o({mutationKey:["useCycleMutation"],async mutationFn(){return sc.db.transaction().execute(async n=>{await sc.create$({tx:n,shape:{},entity:{userId:t}});const{filter:r}=await sc.count$({tx:n,where:{userId:t}}),i=async()=>{const l=await da.list$({tx:n,cursor:{page:0,size:500},where:{userId:t}});for await(const d of l)await da.patch$({tx:n,entity:{current:d.current+1},shape:{current:d.current+1},where:{id:d.id}});const c=await da.list$({tx:n,cursor:{page:0,size:500},where:{userId:t,finishGt:r}});for await(const d of c)await Oi.create$({tx:n,shape:{baseBuildingId:d.baseBuildingId},entity:{baseBuildingId:d.baseBuildingId,userId:t}}),await da.delete$({tx:n,where:{id:d.id}})},o=async()=>{const l=await ro.list$({tx:n,cursor:{page:0,size:500},where:{userId:t}});for await(const d of l)await ro.patch$({tx:n,entity:{current:d.current+1},shape:{current:d.current+1},where:{id:d.id}});const c=await ro.list$({tx:n,cursor:{page:0,size:500},where:{userId:t,finishGt:r}});for await(const d of c){const m=d.building.baseBuilding.limits.find(b=>b.resourceId===d.resourceId)?.limit||void 0;let y=!1;try{(!m||d.amount<=m)&&(await pi.create$({tx:n,shape:{resourceId:d.resourceId,amount:d.amount},entity:{buildingId:d.buildingId,resourceId:d.resourceId,amount:d.amount}}),y=!0)}catch{const E=await pi.fetchOrThrow$({tx:n,where:{buildingId:d.buildingId,resourceId:d.resourceId}});(!m||E.amount+d.amount<=m)&&(await pi.patch$({tx:n,entity:{amount:E.amount+d.amount},shape:{amount:E.amount+d.amount},where:{buildingId:d.buildingId,resourceId:d.resourceId}}),y=!0)}y&&await ro.delete$({tx:n,where:{id:d.id}})}};await i(),await o()})},async onSuccess(){await e()}})},VI="icon-[iconamoon--clock-thin]",a8=({userId:t,...e})=>{const n=o8({userId:t}),r=$g({source:sc,where:{userId:t}});return h.jsxs(cr,{iconEnabled:VI,iconDisabled:VI,onClick:async()=>pn.promise(n.mutateAsync(),{loading:bn.text("Running cycle (toast)"),success:bn.text("Cycle success (toast)"),error:bn.text("Cycle failed (toast)")}),disabled:n.isPending,loading:r.isLoading,...e,children:[h.jsx(D,{label:"New cycle (label)"}),r.isSuccess?` (${tr({number:r.data.filter})})`:""]})},l8="icon-[emojione-monotone--construction]",W3="icon-[heroicons--queue-list]",c8=t=>{const{locale:e}=Wn({from:"/$locale"});return h.jsxs(Ec,{...t,children:[h.jsx(Fn,{icon:fo,to:"/$locale/apps/derivean/game/building/base/list",params:{locale:e},children:h.jsx(D,{label:"Building build list (label)"})}),h.jsx(Fn,{icon:po,to:"/$locale/apps/derivean/game/building/list",params:{locale:e},children:h.jsx(D,{label:"Building list (label)"})}),h.jsx(Fn,{icon:l8,to:"/$locale/apps/derivean/game/building/queue/construction/list",params:{locale:e},children:h.jsx(D,{label:"Building queue list (label)"})}),h.jsx(Fn,{icon:W3,to:"/$locale/apps/derivean/game/building/queue/production/list",params:{locale:e},children:h.jsx(D,{label:"Production queue (menu)"})}),h.jsx(Fn,{icon:Nn,to:"/$locale/apps/derivean/game/building/resource/list",params:{locale:e},children:h.jsx(D,{label:"Resource list (menu)"})}),h.jsx(Fn,{icon:xa,to:"/$locale/apps/derivean/game/inventory",params:{locale:e},children:h.jsx(D,{label:"Inventory (menu)"})})]})},HI=mi.merge(ne.object({userId:ne.string().min(1),resourceId:ne.string().min(1),amount:ne.number().nonnegative()})),jy=vi({entity:HI,output:HI.merge(ne.object({resource:vo.output})),shape:ne.object({resourceId:ne.string().min(1),amount:ne.union([ne.number().nonnegative(),ne.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:bn.text("Amount must be a number")})])}),filter:gi.merge(ne.object({userId:ne.string().optional(),resourceId:ne.string().optional()})),sort:["resource","amount"]}),Wr=yi({name:"InventorySource",db:zn,schema:jy,select$({tx:t,where:e,filter:n,sort:r,cursor:i={page:0,size:10},use:o}){let l=t.selectFrom("Inventory as i").selectAll("i").leftJoin("Resource as r","r.id","i.resourceId");const c={resource:"r.name",amount:"i.amount"};r?.forEach(({name:y,sort:b})=>{l=l.orderBy(c[y],b)});const d=y=>{const b=`%${y}%`;return l.where(E=>E.or([E("i.id","like",b),E("r.id","like",b),E("r.name","like",b)]))},m=y=>{y?.id&&(l=l.where("i.id","=",y.id)),y?.idIn&&(l=l.where("i.id","in",y.idIn)),y?.resourceId&&(l=l.where("i.resourceId","=",y.resourceId)),y?.userId&&(l=l.where("i.userId","=",y.userId)),y?.fulltext&&(l=d(y.fulltext))};return o.includes("filter")&&m(n||{}),o.includes("where")&&m(e||{}),o.includes("cursor")&&(l=l.limit(i.size).offset(i.page*i.size)),l},create$({tx:t}){return t.insertInto("Inventory")},patch$({tx:t}){return t.updateTable("Inventory")},delete$({tx:t}){return t.deleteFrom("Inventory")},map:{async toOutput({tx:t,entity:e}){return{...e,resource:await ni.getOrThrow$({tx:t,id:e.resourceId})}}}}),u8=Xt("/$locale/apps/derivean/game")({async beforeLoad({context:t,params:{locale:e}}){return{...t,async session(){try{return qy.parse(Np.get("session"))}catch{throw Hg({to:"/$locale/apps/derivean/public/login",params:{locale:e}})}}}},async loader({context:{kysely:t,session:e}}){const n=await e();return t.transaction().execute(async r=>({session:n,inventory:await Wr.list$({tx:r,where:{userId:n.id}})}))},component:()=>{const{locale:t}=Wn({from:"/$locale"}),{session:e}=wl({from:"/$locale/apps/derivean/game"}),n=fj({filters:{status:"pending",mutationKey:["useCycleMutation"]},select(r){return r.state.status}});return h.jsx(A3,{logo:h.jsx(ar,{to:"/$locale/apps/derivean/game",params:{locale:t},children:h.jsx($3,{})}),menu:h.jsxs("div",{className:"flex flex-row items-center gap-4",children:[h.jsx(c8,{}),h.jsx(a8,{userId:e.id})]}),actions:h.jsxs(h.Fragment,{children:[e.name,h.jsx(ar,{icon:"icon-[clarity--crown-line]",to:"/$locale/apps/derivean/root",params:{locale:t}}),h.jsx(ar,{icon:_0,to:"/$locale/apps/derivean/public/logout",params:{locale:t},preload:!1})]}),css:{base:n.length?["select-none","pointer-events-none","opacity-50"]:void 0},children:h.jsx(Bo,{})})}});var jm={exports:{}},d8=jm.exports,QI;function f8(){return QI||(QI=1,function(t,e){(function(n,r){r()})(d8,function(){function n(m,y){return typeof y>"u"?y={autoBom:!1}:typeof y!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),y={autoBom:!y}),y.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(m.type)?new Blob(["\uFEFF",m],{type:m.type}):m}function r(m,y,b){var E=new XMLHttpRequest;E.open("GET",m),E.responseType="blob",E.onload=function(){d(E.response,y,b)},E.onerror=function(){console.error("could not download file")},E.send()}function i(m){var y=new XMLHttpRequest;y.open("HEAD",m,!1);try{y.send()}catch{}return 200<=y.status&&299>=y.status}function o(m){try{m.dispatchEvent(new MouseEvent("click"))}catch{var y=document.createEvent("MouseEvents");y.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),m.dispatchEvent(y)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Xl=="object"&&Xl.global===Xl?Xl:void 0,c=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),d=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(m,y,b){var E=l.URL||l.webkitURL,N=document.createElement("a");y=y||m.name||"download",N.download=y,N.rel="noopener",typeof m=="string"?(N.href=m,N.origin===location.origin?o(N):i(N.href)?r(m,y,b):o(N,N.target="_blank")):(N.href=E.createObjectURL(m),setTimeout(function(){E.revokeObjectURL(N.href)},4e4),setTimeout(function(){o(N)},0))}:"msSaveOrOpenBlob"in navigator?function(m,y,b){if(y=y||m.name||"download",typeof m!="string")navigator.msSaveOrOpenBlob(n(m,b),y);else if(i(m))r(m,y,b);else{var E=document.createElement("a");E.href=m,E.target="_blank",setTimeout(function(){o(E)})}}:function(m,y,b,E){if(E=E||open("","_blank"),E&&(E.document.title=E.document.body.innerText="downloading..."),typeof m=="string")return r(m,y,b);var N=m.type==="application/octet-stream",O=/constructor/i.test(l.HTMLElement)||l.safari,T=/CriOS\/[\d]+/.test(navigator.userAgent);if((T||N&&O||c)&&typeof FileReader<"u"){var A=new FileReader;A.onloadend=function(){var B=A.result;B=T?B:B.replace(/^data:[^;]*;/,"data:attachment/file;"),E?E.location.href=B:location=B,E=null},A.readAsDataURL(m)}else{var L=l.URL||l.webkitURL,P=L.createObjectURL(m);E?E.location=P:location.href=P,E=null,setTimeout(function(){L.revokeObjectURL(P)},4e4)}});l.saveAs=d.saveAs=d,t.exports=d})}(jm)),jm.exports}var p8=f8();const h8=wa(p8),KI=mi.merge(ne.object({baseBuildingId:ne.string().min(1),resourceId:ne.string().min(1),amount:ne.number().nonnegative(),cycles:ne.number().nonnegative(),limit:ne.number().nonnegative()})),Tp=vi({entity:KI,output:KI.merge(ne.object({resource:vo.output,requirements:ne.array(ne.any())})),shape:ne.object({resourceId:ne.string().min(1),amount:ne.union([ne.number().positive(),ne.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:bn.text("Amount must be a number")})]),cycles:ne.union([ne.number().positive(),ne.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:bn.text("Cycles must be a number")})]),limit:ne.union([ne.number().positive(),ne.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:bn.text("Limit must be a number")})])}),filter:gi.merge(ne.object({baseBuildingId:ne.string().optional(),resourceId:ne.string().optional()})),sort:["name","resource"]}),GI=mi.merge(ne.object({baseBuildingProductionId:ne.string().min(1),resourceId:ne.string().min(1),amount:ne.number().nonnegative(),passive:ne.union([ne.boolean(),ne.number().int().refine(t=>t===0||t===1).transform(t=>typeof t=="boolean"?t:t===1)])})),N0=vi({entity:GI,output:GI.merge(ne.object({resource:vo.output})),shape:ne.object({resourceId:ne.string().min(1),amount:ne.union([ne.number().nonnegative(),ne.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:bn.text("Amount must be a number")})]),passive:ne.boolean()}),filter:gi.merge(ne.object({baseBuildingProductionId:ne.string().optional(),resourceId:ne.string().optional(),passive:ne.boolean().optional()})),sort:["resource"]}),nl=yi({name:"BaseBuildingProductionRequirementSource",schema:N0,db:zn,select$({tx:t,where:e,filter:n,sort:r,cursor:i={page:0,size:10},use:o}){let l=t.selectFrom("BaseBuildingProductionRequirement as bbpr").selectAll("bbpr").leftJoin("Resource as r","r.id","bbpr.resourceId");const c={resource:"r.name"};r?.forEach(({name:y,sort:b})=>{l=l.orderBy(c[y],b)});const d=y=>{const b=`%${y}%`;return l.where(E=>E.or([E("bbpr.id","like",b),E("r.id","like",b),E("r.name","like",b)]))},m=y=>{y?.id&&(l=l.where("bbpr.id","=",y.id)),y?.idIn&&(l=l.where("bbpr.id","in",y.idIn)),y?.resourceId&&(l=l.where("bbpr.resourceId","=",y.resourceId)),y?.baseBuildingProductionId&&(l=l.where("bbpr.baseBuildingProductionId","=",y.baseBuildingProductionId)),y?.fulltext&&(l=d(y.fulltext))};return o.includes("filter")&&m(n||{}),o.includes("where")&&m(e||{}),o.includes("cursor")&&(l=l.limit(i.size).offset(i.page*i.size)),l},create$({tx:t}){return t.insertInto("BaseBuildingProductionRequirement")},patch$({tx:t}){return t.updateTable("BaseBuildingProductionRequirement")},delete$({tx:t}){return t.deleteFrom("BaseBuildingProductionRequirement")},map:{async toOutput({tx:t,entity:e}){return{...e,resource:await ni.getOrThrow$({tx:t,id:e.resourceId})}}}}),Ds=yi({name:"BaseBuildingProductionSource",schema:Tp,db:zn,select$({tx:t,where:e,filter:n,cursor:r={page:0,size:10},use:i}){let o=t.selectFrom("BaseBuildingProduction as bbp").selectAll("bbp").leftJoin("BaseBuilding as bb","bb.id","bbp.baseBuildingId").leftJoin("Resource as r","r.id","bbp.resourceId");const l=d=>{const m=`%${d}%`;return o.where(y=>y.or([y("bbp.id","like",m),y("bb.id","like",m),y("r.id","like",m),y("bb.name","like",m),y("r.name","like",m)]))},c=d=>{d?.id&&(o=o.where("bbp.id","=",d.id)),d?.idIn&&(o=o.where("bbp.id","in",d.idIn)),d?.baseBuildingId&&(o=o.where("bbp.baseBuildingId","=",d.baseBuildingId)),d?.resourceId&&(o=o.where("bbp.resourceId","=",d.resourceId)),d?.fulltext&&(o=l(d.fulltext))};return i.includes("filter")&&c(n||{}),i.includes("where")&&c(e||{}),i.includes("cursor")&&(o=o.limit(r.size).offset(r.page*r.size)),o},create$({tx:t}){return t.insertInto("BaseBuildingProduction")},patch$({tx:t}){return t.updateTable("BaseBuildingProduction")},delete$({tx:t}){return t.deleteFrom("BaseBuildingProduction")},map:{async toOutput({tx:t,entity:e}){return{...e,resource:await ni.getOrThrow$({tx:t,id:e.resourceId}),requirements:await nl.list$({tx:t,where:{baseBuildingProductionId:e.id}})}}}}),JI=mi.merge(ne.object({resourceId:ne.string().min(1),amount:ne.number().nonnegative()})),I0=vi({entity:JI,output:JI.merge(ne.object({resource:vo.output})),shape:ne.object({resourceId:ne.string().min(1),amount:ne.union([ne.number().nonnegative(),ne.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:bn.text("Amount must be a number")})])}),filter:gi,sort:["resource"]}),rl=yi({name:"DefaultInventorySource",schema:I0,db:zn,select$({tx:t,where:e,filter:n,sort:r,cursor:i={page:0,size:10},use:o}){let l=t.selectFrom("DefaultInventory as di").selectAll("di").leftJoin("Resource as r","r.id","di.resourceId");const c={resource:"r.name"};r?.forEach(({name:y,sort:b})=>{l=l.orderBy(c[y],b)});const d=y=>{const b=`%${y}%`;return l.where(E=>E.or([E("di.id","like",b),E("r.id","like",b),E("r.name","like",b)]))},m=y=>{y?.id&&(l=l.where("di.id","=",y.id)),y?.idIn&&(l=l.where("di.id","in",y.idIn)),y?.fulltext&&(l=d(y.fulltext))};return o.includes("filter")&&m(n||{}),o.includes("where")&&m(e||{}),o.includes("cursor")&&(l=l.limit(i.size).offset(i.page*i.size)),l},create$({tx:t}){return t.insertInto("DefaultInventory")},patch$({tx:t}){return t.updateTable("DefaultInventory")},delete$({tx:t}){return t.deleteFrom("DefaultInventory")},map:{async toOutput({tx:t,entity:e}){return{...e,resource:await ni.getOrThrow$({tx:t,id:e.resourceId})}}}}),m8=Xt("/$locale/apps/derivean/root/")({component(){const t=$o({mutationKey:["export"],async mutationFn(){return pn.promise((async()=>{const e=[Dr,ni,fa,cc,tl,el,Ds,nl,rl],n=[];await zn.transaction().execute(async r=>{for await(const i of e){const o={};(await i.list$({tx:r,cursor:{page:0,size:5e3}})).forEach(l=>{o[l.id]=i.schema.entity.parse(l)}),n.push({source:i.name,entities:o})}}),h8.saveAs(new Blob([JSON.stringify(n,null,2)],{type:"application/json;charset=utf-8"}),"export.json")})(),{success:bn.text("Exported (toast)"),error:bn.text("Export failed (toast)"),loading:bn.text("Exporting (toast)")})}});return h.jsxs("div",{className:"flex flex-col gap-4",children:[h.jsx("div",{className:"flex items-center justify-center mt-10 gap-4",children:h.jsx(cr,{iconEnabled:M3,loading:t.isPending,onClick:()=>t.mutate(),variant:{variant:"subtle"},children:h.jsx(D,{label:"Export game files (label)"})})}),h.jsx(lV,{onDrop:async e=>{const[n]=e;if(!n)return;const r=JSON.parse(await n.text()),i={[Dr.name]:"BaseBuilding",[ni.name]:"Resource",[fa.name]:"Tag",[cc.name]:"Resource_Tag",[tl.name]:"BaseBuilding_Requirement",[el.name]:"BaseBuilding_Limit",[Ds.name]:"BaseBuildingProduction",[nl.name]:"BaseBuildingProductionRequirement",[rl.name]:"DefaultInventory"};await zn.transaction().execute(async o=>{for await(const{source:l}of r){const c=i[l];if(!c)throw new Error(`Unknown source [${l}]`);await o.deleteFrom(c).execute()}for await(const{source:l,entities:c}of r){const d=i[l];if(!d)throw new Error(`Unknown source [${l}]`);for await(const m of Object.values(c))await o.insertInto(d).values(m).execute()}})}})]})}}),g8=Xt("/$locale/apps/derivean/game/")({component:()=>h.jsx("div",{children:"game dashboard here :)"})});var qp=t=>t.type==="checkbox",oc=t=>t instanceof Date,Si=t=>t==null;const z3=t=>typeof t=="object";var qr=t=>!Si(t)&&!Array.isArray(t)&&z3(t)&&!oc(t),U3=t=>qr(t)&&t.target?qp(t.target)?t.target.checked:t.target.value:t,y8=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,V3=(t,e)=>t.has(y8(e)),v8=t=>{const e=t.constructor&&t.constructor.prototype;return qr(e)&&e.hasOwnProperty("isPrototypeOf")},O0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Mi(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(O0&&(t instanceof Blob||r))&&(n||qr(t)))if(e=n?[]:{},!n&&!v8(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Mi(t[i]));else return t;return e}var Py=t=>Array.isArray(t)?t.filter(Boolean):[],yr=t=>t===void 0,_t=(t,e,n)=>{if(!e||!qr(t))return n;const r=Py(e.split(/[,[\].]+?/)).reduce((i,o)=>Si(i)?i:i[o],t);return yr(r)||r===t?yr(t[e])?n:t[e]:r},is=t=>typeof t=="boolean",T0=t=>/^\w*$/.test(t),H3=t=>Py(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Cn=(t,e,n)=>{let r=-1;const i=T0(e)?[e]:H3(e),o=i.length,l=o-1;for(;++r<o;){const c=i[r];let d=n;if(r!==l){const m=t[c];d=qr(m)||Array.isArray(m)?m:isNaN(+i[r+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;t[c]=d,t=t[c]}return t};const Bg={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},io={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},sa={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},b8=An.createContext(null),q0=()=>An.useContext(b8);var Q3=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(i,o,{get:()=>{const l=o;return e._proxyFormState[l]!==io.all&&(e._proxyFormState[l]=!r||io.all),n&&(n[l]=!0),t[l]}});return i},$i=t=>qr(t)&&!Object.keys(t).length,K3=(t,e,n,r)=>{n(t);const{name:i,...o}=t;return $i(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(l=>e[l]===(!r||io.all))},Ef=t=>Array.isArray(t)?t:[t],G3=(t,e,n)=>!t||!e||t===e||Ef(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function C0(t){const e=An.useRef(t);e.current=t,An.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function _8(t){const e=q0(),{control:n=e.control,disabled:r,name:i,exact:o}=t||{},[l,c]=An.useState(n._formState),d=An.useRef(!0),m=An.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),y=An.useRef(i);return y.current=i,C0({disabled:r,next:b=>d.current&&G3(y.current,b.name,o)&&K3(b,m.current,n._updateFormState)&&c({...n._formState,...b}),subject:n._subjects.state}),An.useEffect(()=>(d.current=!0,m.current.isValid&&n._updateValid(!0),()=>{d.current=!1}),[n]),An.useMemo(()=>Q3(l,n,m.current,!1),[l,n])}var Ro=t=>typeof t=="string",J3=(t,e,n,r,i)=>Ro(t)?(r&&e.watch.add(t),_t(n,t,i)):Array.isArray(t)?t.map(o=>(r&&e.watch.add(o),_t(n,o))):(r&&(e.watchAll=!0),n);function x8(t){const e=q0(),{control:n=e.control,name:r,defaultValue:i,disabled:o,exact:l}=t||{},c=An.useRef(r);c.current=r,C0({disabled:o,subject:n._subjects.values,next:y=>{G3(c.current,y.name,l)&&m(Mi(J3(c.current,n._names,y.values||n._formValues,!1,i)))}});const[d,m]=An.useState(n._getWatch(r,i));return An.useEffect(()=>n._removeUnmounted()),d}function w8(t){const e=q0(),{name:n,disabled:r,control:i=e.control,shouldUnregister:o}=t,l=V3(i._names.array,n),c=x8({control:i,name:n,defaultValue:_t(i._formValues,n,_t(i._defaultValues,n,t.defaultValue)),exact:!0}),d=_8({control:i,name:n,exact:!0}),m=An.useRef(i.register(n,{...t.rules,value:c,...is(t.disabled)?{disabled:t.disabled}:{}})),y=An.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!_t(d.errors,n)},isDirty:{enumerable:!0,get:()=>!!_t(d.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!_t(d.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!_t(d.validatingFields,n)},error:{enumerable:!0,get:()=>_t(d.errors,n)}}),[d,n]),b=An.useMemo(()=>({name:n,value:c,...is(r)||d.disabled?{disabled:d.disabled||r}:{},onChange:E=>m.current.onChange({target:{value:U3(E),name:n},type:Bg.CHANGE}),onBlur:()=>m.current.onBlur({target:{value:_t(i._formValues,n),name:n},type:Bg.BLUR}),ref:E=>{const N=_t(i._fields,n);N&&E&&(N._f.ref={focus:()=>E.focus(),select:()=>E.select(),setCustomValidity:O=>E.setCustomValidity(O),reportValidity:()=>E.reportValidity()})}}),[n,i._formValues,r,d.disabled,c,i._fields]);return An.useEffect(()=>{const E=i._options.shouldUnregister||o,N=(O,T)=>{const A=_t(i._fields,O);A&&A._f&&(A._f.mount=T)};if(N(n,!0),E){const O=Mi(_t(i._options.defaultValues,n));Cn(i._defaultValues,n,O),yr(_t(i._formValues,n))&&Cn(i._formValues,n,O)}return()=>{(l?E&&!i._state.action:E)?i.unregister(n):N(n,!1)}},[n,i,l,o]),An.useEffect(()=>{is(r)&&_t(i._fields,n)&&i._updateDisabledField({disabled:r,fields:i._fields,name:n,value:_t(i._fields,n)._f.value})},[r,n,i]),An.useMemo(()=>({field:b,formState:d,fieldState:y}),[b,d,y])}const ho=t=>t.render(w8(t));var Z3=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},ZI=t=>({isOnSubmit:!t||t===io.onSubmit,isOnBlur:t===io.onBlur,isOnChange:t===io.onChange,isOnAll:t===io.all,isOnTouch:t===io.onTouched}),YI=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const kf=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const o=_t(t,i);if(o){const{_f:l,...c}=o;if(l){if(l.refs&&l.refs[0]&&e(l.refs[0],i)&&!r)return!0;if(l.ref&&e(l.ref,l.name)&&!r)return!0;if(kf(c,e))break}else if(qr(c)&&kf(c,e))break}}};var S8=(t,e,n)=>{const r=Ef(_t(t,n));return Cn(r,"root",e[n]),Cn(t,n,r),t},R0=t=>t.type==="file",qo=t=>typeof t=="function",Wg=t=>{if(!O0)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Pm=t=>Ro(t),A0=t=>t.type==="radio",zg=t=>t instanceof RegExp;const XI={value:!1,isValid:!1},eO={value:!0,isValid:!0};var Y3=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!yr(t[0].attributes.value)?yr(t[0].value)||t[0].value===""?eO:{value:t[0].value,isValid:!0}:eO:XI}return XI};const tO={isValid:!1,value:null};var X3=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,tO):tO;function nO(t,e,n="validate"){if(Pm(t)||Array.isArray(t)&&t.every(Pm)||is(t)&&!t)return{type:n,message:Pm(t)?t:"",ref:e}}var su=t=>qr(t)&&!zg(t)?t:{value:t,message:""},rO=async(t,e,n,r,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:m,min:y,max:b,pattern:E,validate:N,name:O,valueAsNumber:T,mount:A,disabled:L}=t._f,P=_t(e,O);if(!A||L)return{};const B=l?l[0]:o,Q=oe=>{r&&B.reportValidity&&(B.setCustomValidity(is(oe)?"":oe||""),B.reportValidity())},J={},W=A0(o),G=qp(o),re=W||G,H=(T||R0(o))&&yr(o.value)&&yr(P)||Wg(o)&&o.value===""||P===""||Array.isArray(P)&&!P.length,te=Z3.bind(null,O,n,J),$=(oe,Y,fe,Ee=sa.maxLength,qe=sa.minLength)=>{const je=oe?Y:fe;J[O]={type:oe?Ee:qe,message:je,ref:o,...te(oe?Ee:qe,je)}};if(i?!Array.isArray(P)||!P.length:c&&(!re&&(H||Si(P))||is(P)&&!P||G&&!Y3(l).isValid||W&&!X3(l).isValid)){const{value:oe,message:Y}=Pm(c)?{value:!!c,message:c}:su(c);if(oe&&(J[O]={type:sa.required,message:Y,ref:B,...te(sa.required,Y)},!n))return Q(Y),J}if(!H&&(!Si(y)||!Si(b))){let oe,Y;const fe=su(b),Ee=su(y);if(!Si(P)&&!isNaN(P)){const qe=o.valueAsNumber||P&&+P;Si(fe.value)||(oe=qe>fe.value),Si(Ee.value)||(Y=qe<Ee.value)}else{const qe=o.valueAsDate||new Date(P),je=ke=>new Date(new Date().toDateString()+" "+ke),ve=o.type=="time",pe=o.type=="week";Ro(fe.value)&&P&&(oe=ve?je(P)>je(fe.value):pe?P>fe.value:qe>new Date(fe.value)),Ro(Ee.value)&&P&&(Y=ve?je(P)<je(Ee.value):pe?P<Ee.value:qe<new Date(Ee.value))}if((oe||Y)&&($(!!oe,fe.message,Ee.message,sa.max,sa.min),!n))return Q(J[O].message),J}if((d||m)&&!H&&(Ro(P)||i&&Array.isArray(P))){const oe=su(d),Y=su(m),fe=!Si(oe.value)&&P.length>+oe.value,Ee=!Si(Y.value)&&P.length<+Y.value;if((fe||Ee)&&($(fe,oe.message,Y.message),!n))return Q(J[O].message),J}if(E&&!H&&Ro(P)){const{value:oe,message:Y}=su(E);if(zg(oe)&&!P.match(oe)&&(J[O]={type:sa.pattern,message:Y,ref:o,...te(sa.pattern,Y)},!n))return Q(Y),J}if(N){if(qo(N)){const oe=await N(P,e),Y=nO(oe,B);if(Y&&(J[O]={...Y,...te(sa.validate,Y.message)},!n))return Q(Y.message),J}else if(qr(N)){let oe={};for(const Y in N){if(!$i(oe)&&!n)break;const fe=nO(await N[Y](P,e),B,Y);fe&&(oe={...fe,...te(Y,fe.message)},Q(fe.message),n&&(J[O]=oe))}if(!$i(oe)&&(J[O]={ref:B,...oe},!n))return J}}return Q(!0),J};function E8(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=yr(t)?r++:t[e[r++]];return t}function k8(t){for(const e in t)if(t.hasOwnProperty(e)&&!yr(t[e]))return!1;return!0}function Br(t,e){const n=Array.isArray(e)?e:T0(e)?[e]:H3(e),r=n.length===1?t:E8(t,n),i=n.length-1,o=n[i];return r&&delete r[o],i!==0&&(qr(r)&&$i(r)||Array.isArray(r)&&k8(r))&&Br(t,n.slice(0,-1)),t}var ex=()=>{let t=[];return{get observers(){return t},next:i=>{for(const o of t)o.next&&o.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(o=>o!==i)}}),unsubscribe:()=>{t=[]}}},cw=t=>Si(t)||!z3(t);function Ya(t,e){if(cw(t)||cw(e))return t===e;if(oc(t)&&oc(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const o=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const l=e[i];if(oc(o)&&oc(l)||qr(o)&&qr(l)||Array.isArray(o)&&Array.isArray(l)?!Ya(o,l):o!==l)return!1}}return!0}var eR=t=>t.type==="select-multiple",N8=t=>A0(t)||qp(t),tx=t=>Wg(t)&&t.isConnected,tR=t=>{for(const e in t)if(qo(t[e]))return!0;return!1};function Ug(t,e={}){const n=Array.isArray(t);if(qr(t)||n)for(const r in t)Array.isArray(t[r])||qr(t[r])&&!tR(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Ug(t[r],e[r])):Si(t[r])||(e[r]=!0);return e}function nR(t,e,n){const r=Array.isArray(t);if(qr(t)||r)for(const i in t)Array.isArray(t[i])||qr(t[i])&&!tR(t[i])?yr(e)||cw(n[i])?n[i]=Array.isArray(t[i])?Ug(t[i],[]):{...Ug(t[i])}:nR(t[i],Si(e)?{}:e[i],n[i]):n[i]=!Ya(t[i],e[i]);return n}var Zd=(t,e)=>nR(t,e,Ug(e)),rR=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>yr(t)?t:e?t===""?NaN:t&&+t:n&&Ro(t)?new Date(t):r?r(t):t;function nx(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return R0(e)?e.files:A0(e)?X3(t.refs).value:eR(e)?[...e.selectedOptions].map(({value:n})=>n):qp(e)?Y3(t.refs).value:rR(yr(e.value)?t.ref.value:e.value,t)}var I8=(t,e,n,r)=>{const i={};for(const o of t){const l=_t(e,o);l&&Cn(i,o,l._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Yd=t=>yr(t)?t:zg(t)?t.source:qr(t)?zg(t.value)?t.value.source:t.value:t;const iO="AsyncFunction";var O8=t=>!!t&&!!t.validate&&!!(qo(t.validate)&&t.validate.constructor.name===iO||qr(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===iO)),T8=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function sO(t,e,n){const r=_t(t,n);if(r||T0(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const o=i.join("."),l=_t(e,o),c=_t(t,o);if(l&&!Array.isArray(l)&&n!==o)return{name:n};if(c&&c.type)return{name:o,error:c};i.pop()}return{name:n}}var q8=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,C8=(t,e)=>!Py(_t(t,e)).length&&Br(t,e);const R8={mode:io.onSubmit,reValidateMode:io.onChange,shouldFocusError:!0};function A8(t={}){let e={...R8,...t},n={submitCount:0,isDirty:!1,isLoading:qo(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=qr(e.defaultValues)||qr(e.values)?Mi(e.defaultValues||e.values)||{}:{},o=e.shouldUnregister?{}:Mi(i),l={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},d,m=0;const y={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},b={values:ex(),array:ex(),state:ex()},E=ZI(e.mode),N=ZI(e.reValidateMode),O=e.criteriaMode===io.all,T=le=>ue=>{clearTimeout(m),m=setTimeout(le,ue)},A=async le=>{if(!e.disabled&&(y.isValid||le)){const ue=e.resolver?$i((await re()).errors):await te(r,!0);ue!==n.isValid&&b.state.next({isValid:ue})}},L=(le,ue)=>{!e.disabled&&(y.isValidating||y.validatingFields)&&((le||Array.from(c.mount)).forEach(ye=>{ye&&(ue?Cn(n.validatingFields,ye,ue):Br(n.validatingFields,ye))}),b.state.next({validatingFields:n.validatingFields,isValidating:!$i(n.validatingFields)}))},P=(le,ue=[],ye,Ce,De=!0,Je=!0)=>{if(Ce&&ye&&!e.disabled){if(l.action=!0,Je&&Array.isArray(_t(r,le))){const Fe=ye(_t(r,le),Ce.argA,Ce.argB);De&&Cn(r,le,Fe)}if(Je&&Array.isArray(_t(n.errors,le))){const Fe=ye(_t(n.errors,le),Ce.argA,Ce.argB);De&&Cn(n.errors,le,Fe),C8(n.errors,le)}if(y.touchedFields&&Je&&Array.isArray(_t(n.touchedFields,le))){const Fe=ye(_t(n.touchedFields,le),Ce.argA,Ce.argB);De&&Cn(n.touchedFields,le,Fe)}y.dirtyFields&&(n.dirtyFields=Zd(i,o)),b.state.next({name:le,isDirty:oe(le,ue),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Cn(o,le,ue)},B=(le,ue)=>{Cn(n.errors,le,ue),b.state.next({errors:n.errors})},Q=le=>{n.errors=le,b.state.next({errors:n.errors,isValid:!1})},J=(le,ue,ye,Ce)=>{const De=_t(r,le);if(De){const Je=_t(o,le,yr(ye)?_t(i,le):ye);yr(Je)||Ce&&Ce.defaultChecked||ue?Cn(o,le,ue?Je:nx(De._f)):Ee(le,Je),l.mount&&A()}},W=(le,ue,ye,Ce,De)=>{let Je=!1,Fe=!1;const et={name:le};if(!e.disabled){const Vt=!!(_t(r,le)&&_t(r,le)._f&&_t(r,le)._f.disabled);if(!ye||Ce){y.isDirty&&(Fe=n.isDirty,n.isDirty=et.isDirty=oe(),Je=Fe!==et.isDirty);const zt=Vt||Ya(_t(i,le),ue);Fe=!!(!Vt&&_t(n.dirtyFields,le)),zt||Vt?Br(n.dirtyFields,le):Cn(n.dirtyFields,le,!0),et.dirtyFields=n.dirtyFields,Je=Je||y.dirtyFields&&Fe!==!zt}if(ye){const zt=_t(n.touchedFields,le);zt||(Cn(n.touchedFields,le,ye),et.touchedFields=n.touchedFields,Je=Je||y.touchedFields&&zt!==ye)}Je&&De&&b.state.next(et)}return Je?et:{}},G=(le,ue,ye,Ce)=>{const De=_t(n.errors,le),Je=y.isValid&&is(ue)&&n.isValid!==ue;if(e.delayError&&ye?(d=T(()=>B(le,ye)),d(e.delayError)):(clearTimeout(m),d=null,ye?Cn(n.errors,le,ye):Br(n.errors,le)),(ye?!Ya(De,ye):De)||!$i(Ce)||Je){const Fe={...Ce,...Je&&is(ue)?{isValid:ue}:{},errors:n.errors,name:le};n={...n,...Fe},b.state.next(Fe)}},re=async le=>{L(le,!0);const ue=await e.resolver(o,e.context,I8(le||c.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return L(le),ue},H=async le=>{const{errors:ue}=await re(le);if(le)for(const ye of le){const Ce=_t(ue,ye);Ce?Cn(n.errors,ye,Ce):Br(n.errors,ye)}else n.errors=ue;return ue},te=async(le,ue,ye={valid:!0})=>{for(const Ce in le){const De=le[Ce];if(De){const{_f:Je,...Fe}=De;if(Je){const et=c.array.has(Je.name),Vt=De._f&&O8(De._f);Vt&&y.validatingFields&&L([Ce],!0);const zt=await rO(De,o,O,e.shouldUseNativeValidation&&!ue,et);if(Vt&&y.validatingFields&&L([Ce]),zt[Je.name]&&(ye.valid=!1,ue))break;!ue&&(_t(zt,Je.name)?et?S8(n.errors,zt,Je.name):Cn(n.errors,Je.name,zt[Je.name]):Br(n.errors,Je.name))}!$i(Fe)&&await te(Fe,ue,ye)}}return ye.valid},$=()=>{for(const le of c.unMount){const ue=_t(r,le);ue&&(ue._f.refs?ue._f.refs.every(ye=>!tx(ye)):!tx(ue._f.ref))&&dt(le)}c.unMount=new Set},oe=(le,ue)=>!e.disabled&&(le&&ue&&Cn(o,le,ue),!Ya(K(),i)),Y=(le,ue,ye)=>J3(le,c,{...l.mount?o:yr(ue)?i:Ro(le)?{[le]:ue}:ue},ye,ue),fe=le=>Py(_t(l.mount?o:i,le,e.shouldUnregister?_t(i,le,[]):[])),Ee=(le,ue,ye={})=>{const Ce=_t(r,le);let De=ue;if(Ce){const Je=Ce._f;Je&&(!Je.disabled&&Cn(o,le,rR(ue,Je)),De=Wg(Je.ref)&&Si(ue)?"":ue,eR(Je.ref)?[...Je.ref.options].forEach(Fe=>Fe.selected=De.includes(Fe.value)):Je.refs?qp(Je.ref)?Je.refs.length>1?Je.refs.forEach(Fe=>(!Fe.defaultChecked||!Fe.disabled)&&(Fe.checked=Array.isArray(De)?!!De.find(et=>et===Fe.value):De===Fe.value)):Je.refs[0]&&(Je.refs[0].checked=!!De):Je.refs.forEach(Fe=>Fe.checked=Fe.value===De):R0(Je.ref)?Je.ref.value="":(Je.ref.value=De,Je.ref.type||b.values.next({name:le,values:{...o}})))}(ye.shouldDirty||ye.shouldTouch)&&W(le,De,ye.shouldTouch,ye.shouldDirty,!0),ye.shouldValidate&&ke(le)},qe=(le,ue,ye)=>{for(const Ce in ue){const De=ue[Ce],Je=`${le}.${Ce}`,Fe=_t(r,Je);(c.array.has(le)||qr(De)||Fe&&!Fe._f)&&!oc(De)?qe(Je,De,ye):Ee(Je,De,ye)}},je=(le,ue,ye={})=>{const Ce=_t(r,le),De=c.array.has(le),Je=Mi(ue);Cn(o,le,Je),De?(b.array.next({name:le,values:{...o}}),(y.isDirty||y.dirtyFields)&&ye.shouldDirty&&b.state.next({name:le,dirtyFields:Zd(i,o),isDirty:oe(le,Je)})):Ce&&!Ce._f&&!Si(Je)?qe(le,Je,ye):Ee(le,Je,ye),YI(le,c)&&b.state.next({...n}),b.values.next({name:l.mount?le:void 0,values:{...o}})},ve=async le=>{l.mount=!0;const ue=le.target;let ye=ue.name,Ce=!0;const De=_t(r,ye),Je=()=>ue.type?nx(De._f):U3(le),Fe=et=>{Ce=Number.isNaN(et)||oc(et)&&isNaN(et.getTime())||Ya(et,_t(o,ye,et))};if(De){let et,Vt;const zt=Je(),mn=le.type===Bg.BLUR||le.type===Bg.FOCUS_OUT,Nr=!T8(De._f)&&!e.resolver&&!_t(n.errors,ye)&&!De._f.deps||q8(mn,_t(n.touchedFields,ye),n.isSubmitted,N,E),jn=YI(ye,c,mn);Cn(o,ye,zt),mn?(De._f.onBlur&&De._f.onBlur(le),d&&d(0)):De._f.onChange&&De._f.onChange(le);const Hr=W(ye,zt,mn,!1),Ji=!$i(Hr)||jn;if(!mn&&b.values.next({name:ye,type:le.type,values:{...o}}),Nr)return y.isValid&&(e.mode==="onBlur"?mn&&A():A()),Ji&&b.state.next({name:ye,...jn?{}:Hr});if(!mn&&jn&&b.state.next({...n}),e.resolver){const{errors:Ir}=await re([ye]);if(Fe(zt),Ce){const Bt=sO(n.errors,r,ye),vs=sO(Ir,r,Bt.name||ye);et=vs.error,ye=vs.name,Vt=$i(Ir)}}else L([ye],!0),et=(await rO(De,o,O,e.shouldUseNativeValidation))[ye],L([ye]),Fe(zt),Ce&&(et?Vt=!1:y.isValid&&(Vt=await te(r,!0)));Ce&&(De._f.deps&&ke(De._f.deps),G(ye,Vt,et,Hr))}},pe=(le,ue)=>{if(_t(n.errors,ue)&&le.focus)return le.focus(),1},ke=async(le,ue={})=>{let ye,Ce;const De=Ef(le);if(e.resolver){const Je=await H(yr(le)?le:De);ye=$i(Je),Ce=le?!De.some(Fe=>_t(Je,Fe)):ye}else le?(Ce=(await Promise.all(De.map(async Je=>{const Fe=_t(r,Je);return await te(Fe&&Fe._f?{[Je]:Fe}:Fe)}))).every(Boolean),!(!Ce&&!n.isValid)&&A()):Ce=ye=await te(r);return b.state.next({...!Ro(le)||y.isValid&&ye!==n.isValid?{}:{name:le},...e.resolver||!le?{isValid:ye}:{},errors:n.errors}),ue.shouldFocus&&!Ce&&kf(r,pe,le?De:c.mount),Ce},K=le=>{const ue={...l.mount?o:i};return yr(le)?ue:Ro(le)?_t(ue,le):le.map(ye=>_t(ue,ye))},xe=(le,ue)=>({invalid:!!_t((ue||n).errors,le),isDirty:!!_t((ue||n).dirtyFields,le),error:_t((ue||n).errors,le),isValidating:!!_t(n.validatingFields,le),isTouched:!!_t((ue||n).touchedFields,le)}),ut=le=>{le&&Ef(le).forEach(ue=>Br(n.errors,ue)),b.state.next({errors:le?n.errors:{}})},at=(le,ue,ye)=>{const Ce=(_t(r,le,{_f:{}})._f||{}).ref,De=_t(n.errors,le)||{},{ref:Je,message:Fe,type:et,...Vt}=De;Cn(n.errors,le,{...Vt,...ue,ref:Ce}),b.state.next({name:le,errors:n.errors,isValid:!1}),ye&&ye.shouldFocus&&Ce&&Ce.focus&&Ce.focus()},ft=(le,ue)=>qo(le)?b.values.subscribe({next:ye=>le(Y(void 0,ue),ye)}):Y(le,ue,!0),dt=(le,ue={})=>{for(const ye of le?Ef(le):c.mount)c.mount.delete(ye),c.array.delete(ye),ue.keepValue||(Br(r,ye),Br(o,ye)),!ue.keepError&&Br(n.errors,ye),!ue.keepDirty&&Br(n.dirtyFields,ye),!ue.keepTouched&&Br(n.touchedFields,ye),!ue.keepIsValidating&&Br(n.validatingFields,ye),!e.shouldUnregister&&!ue.keepDefaultValue&&Br(i,ye);b.values.next({values:{...o}}),b.state.next({...n,...ue.keepDirty?{isDirty:oe()}:{}}),!ue.keepIsValid&&A()},pt=({disabled:le,name:ue,field:ye,fields:Ce,value:De})=>{if(is(le)&&l.mount||le){const Je=le?void 0:yr(De)?nx(ye?ye._f:_t(Ce,ue)._f):De;(le||!le&&!yr(Je))&&Cn(o,ue,Je),W(ue,Je,!1,!1,!0)}},vt=(le,ue={})=>{let ye=_t(r,le);const Ce=is(ue.disabled)||is(e.disabled);return Cn(r,le,{...ye||{},_f:{...ye&&ye._f?ye._f:{ref:{name:le}},name:le,mount:!0,...ue}}),c.mount.add(le),ye?pt({field:ye,disabled:is(ue.disabled)?ue.disabled:e.disabled,name:le,value:ue.value}):J(le,!0,ue.value),{...Ce?{disabled:ue.disabled||e.disabled}:{},...e.progressive?{required:!!ue.required,min:Yd(ue.min),max:Yd(ue.max),minLength:Yd(ue.minLength),maxLength:Yd(ue.maxLength),pattern:Yd(ue.pattern)}:{},name:le,onChange:ve,onBlur:ve,ref:De=>{if(De){vt(le,ue),ye=_t(r,le);const Je=yr(De.value)&&De.querySelectorAll&&De.querySelectorAll("input,select,textarea")[0]||De,Fe=N8(Je),et=ye._f.refs||[];if(Fe?et.find(Vt=>Vt===Je):Je===ye._f.ref)return;Cn(r,le,{_f:{...ye._f,...Fe?{refs:[...et.filter(tx),Je,...Array.isArray(_t(i,le))?[{}]:[]],ref:{type:Je.type,name:le}}:{ref:Je}}}),J(le,!1,void 0,Je)}else ye=_t(r,le,{}),ye._f&&(ye._f.mount=!1),(e.shouldUnregister||ue.shouldUnregister)&&!(V3(c.array,le)&&l.action)&&c.unMount.add(le)}}},At=()=>e.shouldFocusError&&kf(r,pe,c.mount),mt=le=>{is(le)&&(b.state.next({disabled:le}),kf(r,(ue,ye)=>{const Ce=_t(r,ye);Ce&&(ue.disabled=Ce._f.disabled||le,Array.isArray(Ce._f.refs)&&Ce._f.refs.forEach(De=>{De.disabled=Ce._f.disabled||le}))},0,!1))},ht=(le,ue)=>async ye=>{let Ce;if(ye&&(ye.preventDefault&&ye.preventDefault(),ye.persist&&ye.persist()),e.disabled){ue&&await ue({...n.errors},ye);return}let De=Mi(o);if(b.state.next({isSubmitting:!0}),e.resolver){const{errors:Je,values:Fe}=await re();n.errors=Je,De=Fe}else await te(r);if(Br(n.errors,"root"),$i(n.errors)){b.state.next({errors:{}});try{await le(De,ye)}catch(Je){Ce=Je}}else ue&&await ue({...n.errors},ye),At(),setTimeout(At);if(b.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:$i(n.errors)&&!Ce,submitCount:n.submitCount+1,errors:n.errors}),Ce)throw Ce},kt=(le,ue={})=>{_t(r,le)&&(yr(ue.defaultValue)?je(le,Mi(_t(i,le))):(je(le,ue.defaultValue),Cn(i,le,Mi(ue.defaultValue))),ue.keepTouched||Br(n.touchedFields,le),ue.keepDirty||(Br(n.dirtyFields,le),n.isDirty=ue.defaultValue?oe(le,Mi(_t(i,le))):oe()),ue.keepError||(Br(n.errors,le),y.isValid&&A()),b.state.next({...n}))},Nt=(le,ue={})=>{const ye=le?Mi(le):i,Ce=Mi(ye),De=$i(le),Je=De?i:Ce;if(ue.keepDefaultValues||(i=ye),!ue.keepValues){if(ue.keepDirtyValues){const Fe=new Set([...c.mount,...Object.keys(Zd(i,o))]);for(const et of Array.from(Fe))_t(n.dirtyFields,et)?Cn(Je,et,_t(o,et)):je(et,_t(Je,et))}else{if(O0&&yr(le))for(const Fe of c.mount){const et=_t(r,Fe);if(et&&et._f){const Vt=Array.isArray(et._f.refs)?et._f.refs[0]:et._f.ref;if(Wg(Vt)){const zt=Vt.closest("form");if(zt){zt.reset();break}}}}r={}}o=e.shouldUnregister?ue.keepDefaultValues?Mi(i):{}:Mi(Je),b.array.next({values:{...Je}}),b.values.next({values:{...Je}})}c={mount:ue.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!y.isValid||!!ue.keepIsValid||!!ue.keepDirtyValues,l.watch=!!e.shouldUnregister,b.state.next({submitCount:ue.keepSubmitCount?n.submitCount:0,isDirty:De?!1:ue.keepDirty?n.isDirty:!!(ue.keepDefaultValues&&!Ya(le,i)),isSubmitted:ue.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:De?{}:ue.keepDirtyValues?ue.keepDefaultValues&&o?Zd(i,o):n.dirtyFields:ue.keepDefaultValues&&le?Zd(i,le):ue.keepDirty?n.dirtyFields:{},touchedFields:ue.keepTouched?n.touchedFields:{},errors:ue.keepErrors?n.errors:{},isSubmitSuccessful:ue.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Zt=(le,ue)=>Nt(qo(le)?le(o):le,ue);return{control:{register:vt,unregister:dt,getFieldState:xe,handleSubmit:ht,setError:at,_executeSchema:re,_getWatch:Y,_getDirty:oe,_updateValid:A,_removeUnmounted:$,_updateFieldArray:P,_updateDisabledField:pt,_getFieldArray:fe,_reset:Nt,_resetDefaultValues:()=>qo(e.defaultValues)&&e.defaultValues().then(le=>{Zt(le,e.resetOptions),b.state.next({isLoading:!1})}),_updateFormState:le=>{n={...n,...le}},_disableForm:mt,_subjects:b,_proxyFormState:y,_setErrors:Q,get _fields(){return r},get _formValues(){return o},get _state(){return l},set _state(le){l=le},get _defaultValues(){return i},get _names(){return c},set _names(le){c=le},get _formState(){return n},set _formState(le){n=le},get _options(){return e},set _options(le){e={...e,...le}}},trigger:ke,register:vt,handleSubmit:ht,watch:ft,setValue:je,getValues:K,reset:Zt,resetField:kt,clearErrors:ut,unregister:dt,setError:at,setFocus:(le,ue={})=>{const ye=_t(r,le),Ce=ye&&ye._f;if(Ce){const De=Ce.refs?Ce.refs[0]:Ce.ref;De.focus&&(De.focus(),ue.shouldSelect&&qo(De.select)&&De.select())}},getFieldState:xe}}function gs(t={}){const e=An.useRef(void 0),n=An.useRef(void 0),[r,i]=An.useState({isDirty:!1,isValidating:!1,isLoading:qo(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:qo(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...A8(t),formState:r});const o=e.current.control;return o._options=t,C0({subject:o._subjects.state,next:l=>{K3(l,o._proxyFormState,o._updateFormState,!0)&&i({...o._formState})}}),An.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),An.useEffect(()=>{if(o._proxyFormState.isDirty){const l=o._getDirty();l!==r.isDirty&&o._subjects.state.next({isDirty:l})}},[o,r.isDirty]),An.useEffect(()=>{t.values&&!Ya(t.values,n.current)?(o._reset(t.values,o._options.resetOptions),n.current=t.values,i(l=>({...l}))):o._resetDefaultValues()},[t.values,o]),An.useEffect(()=>{t.errors&&o._setErrors(t.errors)},[t.errors,o]),An.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),An.useEffect(()=>{t.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})},[t.shouldUnregister,o]),e.current.formState=Q3(r,o),e.current}const oO=(t,e,n)=>{if(t&&"reportValidity"in t){const r=_t(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},iR=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?oO(r.ref,n,t):r.refs&&r.refs.forEach(i=>oO(i,n,t))}},j8=(t,e)=>{e.shouldUseNativeValidation&&iR(t,e);const n={};for(const r in t){const i=_t(e.fields,r),o=Object.assign(t[r]||{},{ref:i&&i.ref});if(P8(e.names||Object.keys(t),r)){const l=Object.assign({},_t(n,r));Cn(l,"root",o),Cn(n,r,l)}else Cn(n,r,o)}return n},P8=(t,e)=>t.some(n=>n.startsWith(e+"."));var F8=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,o=r.message,l=r.path.join(".");if(!n[l])if("unionErrors"in r){var c=r.unionErrors[0].errors[0];n[l]={message:c.message,type:c.code}}else n[l]={message:o,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(y){return y.errors.forEach(function(b){return t.push(b)})}),e){var d=n[l].types,m=d&&d[r.code];n[l]=Z3(l,e,n,i,m?[].concat(m,r.message):r.message)}t.shift()}return n},ys=function(t,e,n){return n===void 0&&(n={}),function(r,i,o){try{return Promise.resolve(function(l,c){try{var d=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(m){return o.shouldUseNativeValidation&&iR({},o),{errors:{},values:n.raw?r:m}})}catch(m){return c(m)}return d&&d.then?d.then(void 0,c):d}(0,function(l){if(function(c){return Array.isArray(c?.errors)}(l))return{values:{},errors:j8(F8(l.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw l}))}catch(l){return Promise.reject(l)}}};const L8=async({tx:t,userId:e})=>{const n=await rl.list$({tx:t,cursor:{page:0,size:5e3}});for await(const r of n){const i={userId:e,resourceId:r.resourceId,amount:r.amount};await Wr.create$({tx:t,shape:i,entity:i})}},sR=vi({entity:mi.merge(ne.object({name:ne.string().min(1),login:ne.string().min(1),password:ne.string().min(1)})),shape:ne.object({name:ne.string().min(1),login:ne.string().min(1),password:ne.string().min(1)}),filter:gi.merge(ne.object({login:ne.string().optional(),password:ne.string().optional()})),sort:["name","login"]}),Fy=yi({name:"UserSource",schema:sR,db:zn,select$({tx:t,where:e,filter:n,cursor:r={page:0,size:10},use:i}){let o=t.selectFrom("User as u").selectAll("u");const l=d=>{const m=`%${d}%`;return o.where(y=>y.or([y("u.id","like",m),y("u.name","like",m),y("u.login","like",m)]))},c=d=>{d?.id&&(o=o.where("u.id","=",d.id)),d?.password&&(o=o.where("u.password","=",d.password)),d?.login&&(o=o.where("u.login","=",d.login)),d?.fulltext&&(o=l(d.fulltext))};return i.includes("filter")&&c(n||{}),i.includes("where")&&c(e||{}),i.includes("cursor")&&(o=o.limit(r.size).offset(r.page*r.size)),o},create$({tx:t}){return t.insertInto("User")},patch$({tx:t}){return t.updateTable("User")},delete$({tx:t}){return t.deleteFrom("User")},map:{async toCreate({entity:{password:t,...e}}){return{...e,password:t?qq.hash(t):void 0}}}}),D8=()=>$o({mutationKey:["useRegisterMutation"],async mutationFn({login:t,name:e,password1:n}){return zn.transaction().execute(async r=>{const i=qy.parse(await Fy.create$({tx:r,shape:{name:e,login:t,password:n},entity:{name:e,login:t,password:n}}));try{await L8({tx:r,userId:i.id})}catch(o){console.error(o)}return i})}}),M8=ne.object({name:ne.string().min(1),login:ne.string().min(1),password1:ne.string().min(1),password2:ne.string().min(1)}).refine(t=>t.password1===t.password2,{message:"Passwords must match",path:["password1"]}),$8=({onSuccess:t})=>{const e=D8(),n=gs({resolver:ys(M8)}),r=hs({isLoading:n.formState.isLoading,isSubmitting:n.formState.isSubmitting}).slots;return h.jsxs("form",{className:r.base(),onSubmit:n.handleSubmit(async i=>e.mutateAsync(i,{onSuccess:t,onError:o=>{Dw({error:o,errors:[Aw({error:o,schema:Lw,onError:({data:l})=>{n.setError("root",{message:l.message})}})],onError:l=>{n.setError("root",{message:l.message})}})}}).catch(()=>{})),children:[h.jsx(Ki,{variant:{highlight:!0},error:n.formState.errors.root}),h.jsx(kn,{formState:n.formState,name:"name",label:h.jsx(D,{label:"Name (label)"}),children:h.jsx("input",{type:"text",className:r.input(),...n.register("name")})}),h.jsx(kn,{formState:n.formState,name:"login",label:h.jsx(D,{label:"Login (label)"}),children:h.jsx("input",{type:"text",className:r.input(),...n.register("login")})}),h.jsx(kn,{formState:n.formState,name:"password1",label:h.jsx(D,{label:"Password 1 (label)"}),children:h.jsx("input",{type:"password",className:r.input(),...n.register("password1")})}),h.jsx(kn,{formState:n.formState,name:"password2",label:h.jsx(D,{label:"Password 2 (label)"}),children:h.jsx("input",{type:"password",className:r.input(),...n.register("password2")})}),h.jsx(cr,{type:"submit",children:h.jsx(D,{label:"Register (submit)"})})]})},B8=Xt("/$locale/apps/derivean/public/register")({component:()=>{const t=_w();return h.jsx("div",{className:ay(["flex","justify-center","h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:h.jsxs("div",{className:"flex flex-col bg-slate-100 p-20 w-1/2 m-10 drop-shadow-xl",children:[h.jsx("hr",{className:"my-12 h-0.5 border-t-0 bg-slate-300"}),h.jsx($8,{onSuccess:async e=>{Np.set("session",e),await t({to:"/$locale/apps/derivean/game"})}})]})})}}),W8=Xt("/$locale/apps/derivean/public/logout")({pendingComponent(){return h.jsx("div",{className:ay(["flex items-center justify-center h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:h.jsx(F3,{icon:_0,textTitle:h.jsx(D,{label:"Logout (label)"}),textMessage:h.jsx(D,{label:"Logout in progress..."}),css:{base:["p-4","bg-slate-200","rounded"]}})})},async loader({params:{locale:t}}){throw Np.remove("session"),Hg({to:"/$locale/apps/derivean/public/login",params:{locale:t}})}}),z8=()=>$o({mutationKey:["useLoginMutation"],async mutationFn({login:t,password:e}){return zn.transaction().execute(async n=>{const r=await Fy.fetchOrThrow$({tx:n,where:{login:t,password:qq.hash(e)},error:"Invalid login or password"});return{id:r.id,login:r.login,name:r.name}})}}),U8=ne.object({login:ne.string().min(1),password:ne.string().min(1)}),V8=({onSuccess:t})=>{const{locale:e}=Wn({from:"/$locale"}),n=z8(),r=gs({resolver:ys(U8)}),i=hs({isLoading:r.formState.isLoading,isSubmitting:r.formState.isSubmitting}).slots;return h.jsxs("form",{className:i.base(),onSubmit:r.handleSubmit(async o=>n.mutateAsync(o,{onSuccess:t,onError:l=>{Dw({error:l,errors:[Aw({error:l,schema:Lw,onError:({data:c})=>{r.setError("root",{message:c.message})}})],onError:c=>{r.setError("root",{message:c.message})}})}}).catch(()=>{})),children:[h.jsx(Ki,{variant:{highlight:!0},error:r.formState.errors.root}),h.jsx(kn,{formState:r.formState,name:"login",label:h.jsx(D,{label:"Login (label)"}),children:h.jsx("input",{type:"text",className:i.input(),...r.register("login")})}),h.jsx(kn,{formState:r.formState,name:"password",label:h.jsx(D,{label:"Password (label)"}),children:h.jsx("input",{type:"password",className:i.input(),...r.register("password")})}),h.jsxs("div",{className:"flex flex-row justify-between gap-8",children:[h.jsx(ar,{to:"/$locale/apps/derivean/public/register",params:{locale:e},children:h.jsx(D,{label:"Register (link)"})}),h.jsx(cr,{type:"submit",children:h.jsx(D,{label:"Login (submit)"})})]})]})},H8=Xt("/$locale/apps/derivean/public/login")({component:()=>{const t=_w();return h.jsx("div",{className:ay(["flex","justify-center","h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:h.jsxs("div",{className:"flex flex-col bg-slate-100 p-20 w-1/2 m-10 drop-shadow-xl",children:[h.jsx("hr",{className:"my-12 h-0.5 border-t-0 bg-slate-300"}),h.jsx(V8,{onSuccess:async e=>{Np.set("session",e),await t({to:"/$locale/apps/derivean/game"})}})]})})}}),aO=({mutation:t,defaultValues:e,onSuccess:n,variant:r,tva:i=hs,css:o})=>{const l=gs({resolver:ys(Cy.shape),defaultValues:{sort:0,...e}}),c=U.useContext(qi),d=i({...r,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:o}).slots;return h.jsxs("form",{className:d.base(),onSubmit:go({form:l,mutation:t,async onSuccess(m){n?.({entity:m,modalContext:c})}}),children:[h.jsx(Ki,{variant:{highlight:!0},error:l.formState.errors.root}),h.jsx(kn,{formState:l.formState,name:"code",label:h.jsx(D,{label:"Tag code (label)"}),required:!0,children:h.jsx("input",{type:"text",className:d.input(),...l.register("code")})}),h.jsx(kn,{formState:l.formState,name:"label",label:h.jsx(D,{label:"Resource description (label)"}),required:!0,children:h.jsx("input",{type:"text",className:d.input(),...l.register("label")})}),h.jsx(kn,{formState:l.formState,name:"group",label:h.jsx(D,{label:"Tag group (label)"}),children:h.jsx("input",{type:"text",className:d.input(),...l.register("group")})}),h.jsx(kn,{formState:l.formState,name:"sort",label:h.jsx(D,{label:"Tag sort (label)"}),children:h.jsx("input",{type:"number",className:d.input(),...l.register("sort")})}),h.jsx("div",{className:"flex flex-row justify-between gap-8",children:h.jsx(cr,{iconEnabled:Fg,type:"submit",children:h.jsx(D,{label:"Save tag (submit)"})})})]})},rx=Vr(),Q8=[rx({name:"code",header(){return h.jsx(D,{label:"Tag code (label)"})},render({value:t}){return t},size:14}),rx({name:"label",header(){return h.jsx(D,{label:"Tag label (label)"})},render({value:t}){return t},size:14}),rx({name:"group",header(){return h.jsx(D,{label:"Tag group (label)"})},render({value:t}){return t},filter:{path:"group",onFilter({data:t,filter:e}){e.shallow("group",t.group)}},size:24})],oR=({group:t,table:e,...n})=>{const r=Gi({sources:[fa,ni,cc]});return h.jsx(zr,{table:Ur({...e,columns:Q8}),action:{table(){return h.jsx(lr,{children:h.jsx(wn,{label:h.jsx(D,{label:"Create tag (menu)"}),textTitle:h.jsx(D,{label:"Create tag (modal)"}),icon:Fg,children:h.jsx(aO,{defaultValues:{group:t},mutation:yo({source:fa,async wrap(i){return pn.promise(i(),{loading:h.jsx(D,{label:"Saving tag (label)"}),success:h.jsx(D,{label:"Tag successfully saved (label)"}),error:h.jsx(D,{label:"Cannot save tag (label)"})})}}),onSuccess:async({modalContext:i})=>{await r(),i?.close()}})})})},row({data:i}){return h.jsxs(lr,{children:[h.jsx(wn,{label:h.jsx(D,{label:"Edit tag (menu)"}),textTitle:h.jsx(D,{label:"Edit tag (modal)"}),icon:Fg,children:h.jsx(aO,{defaultValues:{group:t,...i},mutation:Bs({source:fa,async wrap(o){return pn.promise(o(),{loading:h.jsx(D,{label:"Saving tag (label)"}),success:h.jsx(D,{label:"Tag successfully saved (label)"}),error:h.jsx(D,{label:"Cannot save tag (label)"})})},async toPatch({shape:o}){return{entity:o,filter:{id:i.id}}}}),onSuccess:async({modalContext:o})=>{await r(),o?.close()}})}),h.jsx(wn,{icon:ms,label:h.jsx(D,{label:"Delete tag (label)"}),textTitle:h.jsx(D,{label:"Delete tag (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:h.jsx($s,{source:fa,textContent:h.jsx(D,{label:"Tag delete (content)"}),filter:{id:i.id},invalidator:r})})]})}},...n})},K8=({group:t,...e})=>h.jsx(TV,{table:n=>h.jsx(oR,{group:t,...n}),render:({entities:n})=>h.jsx(L3,{tags:n}),source:fa,useListQuery:({where:n,...r})=>w0({...r,where:{...n,group:t}}),...e}),lO=({mutation:t,defaultValues:e,onSuccess:n,variant:r,tva:i=hs,css:o})=>{const l=gs({resolver:ys(vo.shape),defaultValues:e}),c=U.useContext(qi),d=i({...r,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:o}).slots;return h.jsxs("form",{className:d.base(),onSubmit:go({form:l,mutation:t,async onSuccess(m){n?.({entity:m,modalContext:c})}}),children:[h.jsx(Ki,{variant:{highlight:!0},error:l.formState.errors.root}),h.jsx(kn,{formState:l.formState,name:"name",label:h.jsx(D,{label:"Resource name (label)"}),children:h.jsx("input",{type:"text",className:d.input(),...l.register("name")})}),h.jsx(kn,{formState:l.formState,name:"tagIds",label:h.jsx(D,{label:"Resource tags (label)"}),children:h.jsx(ho,{control:l.control,name:"tagIds",render:({field:{ref:m,...y}})=>h.jsx(K8,{icon:Nn,group:"resource",titleText:h.jsx(D,{label:"Select resource tags (title)"}),allowEmpty:!0,...y})})}),h.jsx("div",{className:"flex flex-row justify-between gap-8",children:h.jsx(cr,{iconEnabled:Nn,type:"submit",children:h.jsx(D,{label:"Save resource (submit)"})})})]})},cO=Vr(),G8=[cO({name:"name",header(){return h.jsx(D,{label:"Resource name (label)"})},render({data:t,value:e}){const{locale:n}=Wn({from:"/$locale"});return h.jsx(ar,{to:"/$locale/apps/derivean/root/resource/$id/view",params:{locale:n,id:t.id},children:e})},size:18}),cO({name:"tags",header(){return h.jsx(D,{label:"Resource tags (label)"})},render({value:t}){return h.jsx(L3,{tags:t})},size:32})],aR=({table:t,...e})=>{const n=Gi({sources:[ni,cc]});return h.jsx(zr,{table:Ur({...t,columns:G8}),action:{table(){return h.jsx(lr,{children:h.jsx(wn,{label:h.jsx(D,{label:"Create resource (menu)"}),textTitle:h.jsx(D,{label:"Create resource (modal)"}),icon:Nn,children:h.jsx(lO,{mutation:yo({source:ni,async wrap(r){return pn.promise(r(),{loading:h.jsx(D,{label:"Saving resource (label)"}),success:h.jsx(D,{label:"Resource successfully saved (label)"}),error:h.jsx(D,{label:"Cannot save resource (label)"})})}}),onSuccess:async({modalContext:r})=>{await n(),r?.close()}})})})},row({data:r}){return h.jsxs(lr,{children:[h.jsx(wn,{label:h.jsx(D,{label:"Edit resource (menu)"}),textTitle:h.jsx(D,{label:"Edit resource (modal)"}),icon:Nn,children:h.jsx(lO,{defaultValues:r,mutation:Bs({source:ni,async wrap(i){return pn.promise(i(),{loading:h.jsx(D,{label:"Saving resource (label)"}),success:h.jsx(D,{label:"Resource successfully saved (label)"}),error:h.jsx(D,{label:"Cannot save resource (label)"})})},async toPatch(){return{filter:{id:r.id}}}}),onSuccess:async({modalContext:i})=>{await n(),i?.close()}})}),h.jsx(wn,{icon:ms,label:h.jsx(D,{label:"Delete resource (label)"}),textTitle:h.jsx(D,{label:"Delete resource (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:h.jsx($s,{source:ni,textContent:h.jsx(D,{label:"Resource delete (content)"}),filter:{id:r.id},invalidator:n})})]})}},...e})},kc=t=>h.jsx(P3,{icon:Nn,titleText:h.jsx(D,{label:"Select resource (title)"}),table:aR,render:({entity:e})=>e.name,source:ni,useListQuery:w0,...t}),uO=({mutation:t,defaultValues:e,onSuccess:n,variant:r,tva:i=hs,css:o})=>{const l=gs({resolver:ys(jy.shape),defaultValues:e}),c=U.useContext(qi),d=i({...r,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:o}).slots;return h.jsxs("form",{className:d.base(),onSubmit:go({form:l,mutation:t,async onSuccess(m){n?.({entity:m,modalContext:c})}}),children:[h.jsx(Ki,{variant:{highlight:!0},error:l.formState.errors.root}),h.jsx(kn,{formState:l.formState,name:"resourceId",label:h.jsx(D,{label:"Resource name (label)"}),children:h.jsx(ho,{control:l.control,name:"resourceId",render:({field:{ref:m,...y}})=>h.jsx(kc,{icon:Nn,titleText:h.jsx(D,{label:"Select resource (title)"}),allowEmpty:!0,...y})})}),h.jsx(kn,{formState:l.formState,name:"amount",label:h.jsx(D,{label:"Amount (label)"}),children:h.jsx("input",{type:"number",className:d.input(),...l.register("amount")})}),h.jsx("div",{className:"flex flex-row justify-between gap-8",children:h.jsx(cr,{iconEnabled:xa,type:"submit",children:h.jsx(D,{label:"Save inventory item (submit)"})})})]})},dO=Vr(),J8=[dO({name:"resource.name",header(){return h.jsx(D,{label:"Resource name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceId",t.resourceId)}},size:18}),dO({name:"amount",header(){return h.jsx(D,{label:"Amount (label)"})},render({value:t}){return tr({number:t})},size:18})],lR=({userId:t,table:e,...n})=>{const r=Gi({sources:[Wr]});return h.jsx(zr,{table:Ur({...e,columns:J8}),action:{table:t?()=>h.jsx(lr,{children:h.jsx(wn,{label:h.jsx(D,{label:"Create inventory item (menu)"}),textTitle:h.jsx(D,{label:"Create inventory item (modal)"}),icon:xa,children:h.jsx(uO,{mutation:yo({source:Wr,async wrap(i){return pn.promise(i(),{loading:h.jsx(D,{label:"Saving inventory item (label)"}),success:h.jsx(D,{label:"Inventory item successfully saved (label)"}),error:h.jsx(D,{label:"Cannot save inventory item (label)"})})},async toCreate({shape:i}){return{entity:{...i,userId:t}}}}),onSuccess:async({modalContext:i})=>{await r(),i?.close()}})})}):void 0,row({data:i}){return h.jsxs(lr,{children:[t?h.jsx(wn,{label:h.jsx(D,{label:"Edit inventory item (menu)"}),textTitle:h.jsx(D,{label:"Edit inventory item (modal)"}),icon:xa,children:h.jsx(uO,{defaultValues:i,mutation:Bs({source:Wr,async wrap(o){return pn.promise(o(),{loading:h.jsx(D,{label:"Saving inventory item (label)"}),success:h.jsx(D,{label:"Inventory item successfully saved (label)"}),error:h.jsx(D,{label:"Cannot save inventory item (label)"})})},async toPatch(){return{filter:{id:i.id}}}}),onSuccess:async({modalContext:o})=>{await r(),o?.close()}})}):null,h.jsx(wn,{icon:ms,label:h.jsx(D,{label:"Delete inventory item (label)"}),textTitle:h.jsx(D,{label:"Delete inventory item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:h.jsx($s,{source:Wr,textContent:h.jsx(D,{label:"Inventory item delete (content)"}),filter:{id:i.id},invalidator:r})})]})}},...n})},Fm=Xt("/$locale/apps/derivean/game/inventory/")({validateSearch:xr(wr(jy)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e,session:n},deps:{filter:r,cursor:i}}){const o=await n();return e.transaction().execute(l=>ur({tx:l,queryClient:t,source:Wr,filter:r,cursor:i,where:{userId:o.id}}))},component(){const{data:t,count:e}=Fm.useLoaderData(),{filter:n,cursor:r,selection:i}=Fm.useSearch(),o=Fm.useNavigate(),{tva:l}=Un({from:"__root__"}),c=l().slots;return h.jsx("div",{className:c.base(),children:h.jsx(lR,{table:{data:t,filter:{value:n,set:br(o)},selection:{type:"multi",value:i,set:bi(o)}},fulltext:{value:n?.fulltext,set:_r(o)},cursor:{count:e,cursor:r,textTotal:h.jsx(D,{label:"Number of items"}),...vr(o)}})})}}),Z8=({entity:t,...e})=>{const{locale:n}=Wn({from:"/$locale"});return h.jsxs(Ec,{...e,children:[h.jsx(Fn,{icon:x0,to:"/$locale/apps/derivean/root/user/$id/view",params:{locale:n,id:t.id},children:h.jsx(D,{label:"View detail (menu)"})}),h.jsx(Fn,{icon:po,to:"/$locale/apps/derivean/root/user/$id/building/list",params:{locale:n,id:t.id},children:h.jsx(D,{label:"Building list (menu)"})}),h.jsx(Fn,{icon:Nn,to:"/$locale/apps/derivean/root/user/$id/building/resource/list",params:{locale:n,id:t.id},children:h.jsx(D,{label:"Building resource list (label)"})}),h.jsx(Fn,{icon:xa,to:"/$locale/apps/derivean/root/user/$id/inventory",params:{locale:n,id:t.id},children:h.jsx(D,{label:"Inventory (label)"})})]})},Y8=t=>{const{locale:e}=Wn({from:"/$locale"});return h.jsx(Ip,{title:({entity:n})=>h.jsx(Op,{icon:x0,title:n.name}),actions:()=>h.jsx(h.Fragment,{children:h.jsx(ar,{icon:kp,to:"/$locale/apps/derivean/root/user/list",params:{locale:e},children:h.jsx(D,{label:"User list (label)"})})}),...t})},cR=Xt("/$locale/apps/derivean/root/user/$id")({async loader({context:{queryClient:t},params:{id:e}}){return zn.transaction().execute(async n=>({entity:await Ty({tx:n,queryClient:t,source:Fy,where:{id:e}})}))},component(){const{tva:t}=Un({from:"__root__"}),{entity:e}=cR.useLoaderData(),n=t().slots;return h.jsxs("div",{className:n.base(),children:[h.jsx(Y8,{entity:e}),h.jsx(Z8,{entity:e}),h.jsx(Bo,{})]})}}),X8=Xt("/$locale/apps/derivean/root/resource/$id")({component:()=>h.jsx("div",{children:'Hello "/$locale/apps/derivean/root/resource/$id"!'})}),e5=({entity:t,...e})=>{const{locale:n}=Wn({from:"/$locale"});return h.jsxs(Ec,{...e,children:[h.jsx(Fn,{icon:po,to:"/$locale/apps/derivean/root/building/$id/view",params:{locale:n,id:t.id},children:h.jsx(D,{label:"Building detail (label)"})}),h.jsx(Fn,{icon:Nn,to:"/$locale/apps/derivean/root/building/$id/resource/list",params:{locale:n,id:t.id},children:h.jsx(D,{label:"Building resource list (label)"})})]})},t5=t=>{const{locale:e}=Wn({from:"/$locale"});return h.jsx(Ip,{title:({entity:n})=>h.jsx(Op,{icon:po,title:n.baseBuilding.name}),actions:()=>h.jsx(h.Fragment,{children:h.jsx(ar,{icon:kp,to:"/$locale/apps/derivean/root/building/list",params:{locale:e},children:h.jsx(D,{label:"Building list (label)"})})}),...t})},uR=Xt("/$locale/apps/derivean/root/building/$id")({async loader({context:{kysely:t,queryClient:e},params:{id:n}}){return t.transaction().execute(async r=>({entity:await Ty({tx:r,queryClient:e,source:Oi,where:{id:n}})}))},component(){const{tva:t}=Un({from:"__root__"}),{entity:e}=uR.useLoaderData(),n=t().slots;return h.jsxs("div",{className:n.base(),children:[h.jsx(t5,{entity:e}),h.jsx(e5,{entity:e}),h.jsx(Bo,{})]})}}),Vu="icon-[fluent-mdl2--production-floor-management]",n5=({entity:t,...e})=>{const{locale:n}=Wn({from:"/$locale"});return h.jsxs(Ec,{...e,children:[h.jsx(Fn,{icon:po,to:"/$locale/apps/derivean/game/building/$id/view",params:{locale:n,id:t.id},children:h.jsx(D,{label:"View detail (menu)"})}),h.jsx(Fn,{icon:Vu,to:"/$locale/apps/derivean/game/building/$id/production",params:{locale:n,id:t.id},children:h.jsx(D,{label:"Building production (menu)"})}),h.jsx(Fn,{icon:W3,to:"/$locale/apps/derivean/game/building/$id/production/queue",params:{locale:n,id:t.id},children:h.jsx(D,{label:"Building production queue (menu)"})}),h.jsx(Fn,{icon:Nn,to:"/$locale/apps/derivean/game/building/$id/resource/list",params:{locale:n,id:t.id},children:h.jsx(D,{label:"Building resource list (label)"})})]})},r5=t=>{const{locale:e}=Wn({from:"/$locale"});return h.jsx(Ip,{title:({entity:n})=>h.jsx(Op,{icon:po,title:n.baseBuilding.name}),actions:()=>h.jsx(h.Fragment,{children:h.jsx(ar,{icon:kp,to:"/$locale/apps/derivean/game/building/list",params:{locale:e},children:h.jsx(D,{label:"Building list (label)"})})}),...t})},dR=Xt("/$locale/apps/derivean/game/building/$id")({async loader({context:{kysely:t},params:{id:e}}){return t.transaction().execute(async n=>({entity:await Oi.getOrThrow$({tx:n,id:e,error:"Cannot find a building"})}))},component(){const{tva:t}=Un({from:"__root__"}),{entity:e}=dR.useLoaderData(),n=t().slots;return h.jsxs("div",{className:n.base(),children:[h.jsx(r5,{entity:e}),h.jsx(n5,{entity:e}),h.jsx(Bo,{})]})}}),fO=Vr(),i5=[fO({name:"name",header(){return h.jsx(D,{label:"User name (label)"})},render({data:t,value:e}){const{locale:n}=Wn({from:"/$locale"});return h.jsx(ar,{to:"/$locale/apps/derivean/root/user/$id/view",params:{locale:n,id:t.id},children:e})},size:14}),fO({name:"login",header(){return h.jsx(D,{label:"User login (label)"})},render({value:t}){return t},size:14})],s5=({table:t,...e})=>h.jsx(zr,{table:Ur({...t,columns:i5}),...e}),Lm=Xt("/$locale/apps/derivean/root/user/list/")({validateSearch:xr(wr(sR)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return e.transaction().execute(i=>ur({tx:i,queryClient:t,source:Fy,filter:n,cursor:r}))},component:()=>{const{data:t,count:e}=Lm.useLoaderData(),{filter:n,cursor:r,selection:i}=Lm.useSearch(),o=Lm.useNavigate(),{tva:l}=Un({from:"__root__"}),c=l().slots;return h.jsx("div",{className:c.base(),children:h.jsx(s5,{table:{data:t,filter:{value:n,set:br(o)},selection:{type:"multi",value:i,set:bi(o)}},fulltext:{value:n?.fulltext,set:_r(o)},cursor:{count:e,cursor:r,textTotal:h.jsx(D,{label:"Number of items"}),...vr(o)}})})}}),Dm=Xt("/$locale/apps/derivean/root/tag/list/")({validateSearch:xr(wr(Cy)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return e.transaction().execute(async i=>ur({tx:i,queryClient:t,source:fa,filter:n,cursor:r,sort:[{name:"sort",sort:"asc"},{name:"group",sort:"asc"},{name:"label",sort:"asc"}]}))},component:()=>{const{data:t,count:e}=Dm.useLoaderData(),{filter:n,cursor:r,selection:i}=Dm.useSearch(),o=Dm.useNavigate(),{tva:l}=Un({from:"__root__"}),c=l().slots;return h.jsx("div",{className:c.base(),children:h.jsx(oR,{table:{data:t,filter:{value:n,set:br(o)},selection:{type:"multi",value:i,set:bi(o)}},fulltext:{value:n?.fulltext,set:_r(o)},cursor:{count:e,cursor:r,textTotal:h.jsx(D,{label:"Number of items"}),...vr(o)}})})}}),Mm=Xt("/$locale/apps/derivean/root/resource/list/")({validateSearch:xr(wr(vo)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return e.transaction().execute(i=>ur({tx:i,queryClient:t,source:ni,filter:n,cursor:r,sort:[{name:"name",sort:"asc"}]}))},component:()=>{const{data:t,count:e}=Mm.useLoaderData(),{filter:n,cursor:r,selection:i}=Mm.useSearch(),o=Mm.useNavigate(),{tva:l}=Un({from:"__root__"}),c=l().slots;return h.jsx("div",{className:c.base(),children:h.jsx(aR,{table:{data:t,filter:{value:n,set:br(o)},selection:{type:"multi",value:i,set:bi(o)}},fulltext:{value:n?.fulltext,set:_r(o)},cursor:{count:e,cursor:r,textTotal:h.jsx(D,{label:"Number of items"}),...vr(o)}})})}}),pO=({mutation:t,defaultValues:e,onSuccess:n,variant:r,tva:i=hs,css:o})=>{const l=gs({resolver:ys(I0.shape),defaultValues:{amount:0,...e}}),c=U.useContext(qi),d=i({...r,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:o}).slots;return h.jsxs("form",{className:d.base(),onSubmit:go({form:l,mutation:t,async onSuccess(m){n?.({entity:m,modalContext:c})}}),children:[h.jsx(Ki,{variant:{highlight:!0},error:l.formState.errors.root}),h.jsx(kn,{formState:l.formState,name:"resourceId",label:h.jsx(D,{label:"Resource name (label)"}),children:h.jsx(ho,{control:l.control,name:"resourceId",render:({field:{ref:m,...y}})=>h.jsx(kc,{icon:Nn,titleText:h.jsx(D,{label:"Select resource (title)"}),allowEmpty:!0,...y})})}),h.jsx(kn,{formState:l.formState,name:"amount",label:h.jsx(D,{label:"Amount (label)"}),children:h.jsx("input",{type:"number",className:d.input(),...l.register("amount")})}),h.jsx("div",{className:"flex flex-row justify-between gap-8",children:h.jsx(cr,{iconEnabled:xa,type:"submit",children:h.jsx(D,{label:"Save default inventory item (submit)"})})})]})},hO=Vr(),o5=[hO({name:"resource.name",header(){return h.jsx(D,{label:"Resource name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceId",t.resourceId)}},size:18}),hO({name:"amount",header(){return h.jsx(D,{label:"Amount (label)"})},render({value:t}){return tr({number:t})},size:18})],a5=({table:t,...e})=>{const n=Gi({sources:[rl]});return h.jsx(zr,{table:Ur({...t,columns:o5}),action:{table(){return h.jsx(lr,{children:h.jsx(wn,{label:h.jsx(D,{label:"Create inventory item (menu)"}),textTitle:h.jsx(D,{label:"Create inventory item (modal)"}),icon:xa,children:h.jsx(pO,{mutation:yo({source:rl,async wrap(r){return pn.promise(r(),{loading:h.jsx(D,{label:"Saving inventory item (label)"}),success:h.jsx(D,{label:"Inventory item successfully saved (label)"}),error:h.jsx(D,{label:"Cannot save inventory item (label)"})})},async toCreate({shape:r}){return{entity:r}}}),onSuccess:async({modalContext:r})=>{await n(),r?.close()}})})})},row({data:r}){return h.jsxs(lr,{children:[h.jsx(wn,{label:h.jsx(D,{label:"Edit inventory item (menu)"}),textTitle:h.jsx(D,{label:"Edit inventory item (modal)"}),icon:xa,children:h.jsx(pO,{defaultValues:r,mutation:Bs({source:rl,async wrap(i){return pn.promise(i(),{loading:h.jsx(D,{label:"Saving inventory item (label)"}),success:h.jsx(D,{label:"Inventory item successfully saved (label)"}),error:h.jsx(D,{label:"Cannot save inventory item (label)"})})},async toPatch(){return{filter:{id:r.id}}}}),onSuccess:async({modalContext:i})=>{await n(),i?.close()}})}),h.jsx(wn,{icon:ms,label:h.jsx(D,{label:"Delete inventory item (label)"}),textTitle:h.jsx(D,{label:"Delete inventory item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:h.jsx($s,{source:rl,textContent:h.jsx(D,{label:"Inventory item delete (content)"}),filter:{id:r.id},invalidator:n})})]})}},...e})},$m=Xt("/$locale/apps/derivean/root/inventory/default/")({validateSearch:xr(wr(I0)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return e.transaction().execute(i=>ur({tx:i,queryClient:t,source:rl,filter:n,cursor:r}))},component(){const{data:t,count:e}=$m.useLoaderData(),{filter:n,cursor:r,selection:i}=$m.useSearch(),o=$m.useNavigate(),{tva:l}=Un({from:"__root__"}),c=l().slots;return h.jsx("div",{className:c.base(),children:h.jsx(a5,{table:{data:t,filter:{value:n,set:br(o)},selection:{type:"multi",value:i,set:bi(o)}},fulltext:{value:n?.fulltext,set:_r(o)},cursor:{count:e,cursor:r,textTotal:h.jsx(D,{label:"Number of items"}),...vr(o)}})})}}),l5=Xt("/$locale/apps/derivean/root/building/list/")({component:()=>h.jsx("div",{children:'Hello "/$locale/apps/derivean/root/building/list/"!'})}),fR=()=>{const t=Gi({sources:[pi,Wr]});return $o({mutationKey:["useResourcePickupMutation"],async mutationFn({buildingId:e}){return pn.promise(zn.transaction().execute(async n=>{const r=await Oi.getOrThrow$({tx:n,id:e}),i=await pi.list$({tx:n,where:{buildingId:e}});for await(const o of i){try{await Wr.create$({tx:n,shape:{amount:o.amount,resourceId:o.resourceId},entity:{amount:o.amount,resourceId:o.resourceId,userId:r.userId}})}catch{const c=await Wr.fetchOrThrow$({tx:n,where:{userId:r.userId,resourceId:o.resourceId}});await Wr.patch$({tx:n,filter:{id:c.id},shape:{},entity:{amount:c.amount+o.amount}})}await pi.delete$({tx:n,where:{id:o.id}})}}),{loading:bn.text("Transferring resources... (label)"),success:bn.text("Resources transferred successfully (label)"),error:bn.text("Failed to transfer resources (label)")})},async onSuccess(){await t()}})},c5=Vr(),u5=[c5({name:"baseBuilding.name",header(){return h.jsx(D,{label:"Base building name (label)"})},render({data:t,value:e}){const{locale:n}=Wn({from:"/$locale"}),r=$g({source:pi,filter:{buildingId:t.id}}),i=$g({source:ro,filter:{buildingId:t.id}}),o=fR();return h.jsxs("div",{className:"flex flex-row items-center gap-2",children:[h.jsx("div",{children:h.jsx(kC,{css:{base:i.data?.filter?["bg-emerald-200","border-emerald-400"]:["bg-amber-200","border-amber-400"]},children:i.data?.filter||0})}),h.jsx(cr,{iconEnabled:Nn,iconDisabled:Nn,disabled:!r.data?.filter,loading:o.isPending,onClick:()=>{o.mutate({buildingId:t.id})},variant:{variant:"subtle"}}),h.jsx(ar,{to:"/$locale/apps/derivean/game/building/$id/production",params:{locale:n,id:t.id},children:e})]})}})],d5=({table:t,...e})=>h.jsx(zr,{table:Ur({...t,columns:u5}),...e}),Bm=Xt("/$locale/apps/derivean/game/building/list/")({validateSearch:xr(wr(sd)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e,session:n},deps:{filter:r,cursor:i}}){const o=await n();return e.transaction().execute(async l=>ur({tx:l,queryClient:t,source:Oi,where:{userId:o.id},filter:r,cursor:i}))},component:()=>{const{data:t,count:e}=Bm.useLoaderData(),{filter:n,cursor:r}=Bm.useSearch(),i=Bm.useNavigate(),{tva:o}=Un({from:"__root__"}),l=o().slots;return h.jsx("div",{className:l.base(),children:h.jsx(d5,{table:{data:t,filter:{value:n,set:br(i)}},fulltext:{value:n?.fulltext,set:_r(i)},cursor:{count:e,cursor:r,textTotal:h.jsx(D,{label:"Number of items"}),...vr(i)}})})}}),uw="icon-[vaadin--storage]",f5=({entity:t,...e})=>{const{locale:n}=Wn({from:"/$locale"});return h.jsxs(Ec,{...e,children:[h.jsx(Fn,{icon:fo,to:"/$locale/apps/derivean/root/building/base/$id/view",params:{locale:n,id:t.id},children:h.jsx(D,{label:"View detail (menu)"})}),h.jsx(Fn,{icon:Nn,to:"/$locale/apps/derivean/root/building/base/$id/requirement/list",params:{locale:n,id:t.id},children:h.jsx(D,{label:"Base building resource requirement (menu)"})}),h.jsx(Fn,{icon:uw,to:"/$locale/apps/derivean/root/building/base/$id/limit/list",params:{locale:n,id:t.id},children:h.jsx(D,{label:"Base building limit list (menu)"})}),h.jsx(Fn,{icon:Vu,to:"/$locale/apps/derivean/root/building/base/$id/production",params:{locale:n,id:t.id},active:[{to:"/$locale/apps/derivean/root/building/base/$id/production/$productionId/requirement/list"}],children:h.jsx(D,{label:"Base building production (menu)"})}),h.jsx(Fn,{icon:y3,to:"/$locale/apps/derivean/root/building/base/$id/edit",params:{locale:n,id:t.id},children:h.jsx(D,{label:"Base building edit (menu)"})})]})},p5=t=>{const{locale:e}=Wn({from:"/$locale"});return h.jsx(Ip,{title:({entity:n})=>h.jsx(Op,{icon:fo,title:n.name}),actions:()=>h.jsx(ar,{icon:kp,to:"/$locale/apps/derivean/root/building/base/list",params:{locale:e},children:h.jsx(D,{label:"Base building list (label)"})}),...t})},pR=Xt("/$locale/apps/derivean/root/building/base/$id")({async loader({context:{queryClient:t},params:{id:e}}){return zn.transaction().execute(async n=>({entity:await Ty({tx:n,queryClient:t,source:Dr,where:{id:e}})}))},component(){const{tva:t}=Un({from:"__root__"}),{entity:e}=pR.useLoaderData(),n=t().slots;return h.jsxs("div",{className:n.base(),children:[h.jsx(p5,{entity:e}),h.jsx(f5,{entity:e}),h.jsx(Bo,{})]})}}),h5=({entity:t,...e})=>{const{locale:n}=Wn({from:"/$locale"});return h.jsxs(Ec,{...e,children:[h.jsx(Fn,{icon:fo,to:"/$locale/apps/derivean/game/building/base/$id/view",params:{locale:n,id:t.id},children:h.jsx(D,{label:"View detail (menu)"})}),h.jsx(Fn,{icon:Vu,to:"/$locale/apps/derivean/game/building/base/$id/production",params:{locale:n,id:t.id},children:h.jsx(D,{label:"Base building production (menu)"})})]})},m5=t=>{const{locale:e}=Wn({from:"/$locale"});return h.jsx(Ip,{title:({entity:n})=>h.jsx(Op,{icon:fo,title:n.name}),actions:()=>h.jsx(ar,{icon:kp,to:"/$locale/apps/derivean/game/building/base/list",params:{locale:e},children:h.jsx(D,{label:"Base building list (label)"})}),...t})},hR=Xt("/$locale/apps/derivean/game/building/base/$id")({async loader({context:{queryClient:t},params:{id:e}}){return zn.transaction().execute(async n=>({entity:await Ty({tx:n,queryClient:t,source:Dr,where:{id:e}})}))},component(){const{tva:t}=Un({from:"__root__"}),{entity:e}=hR.useLoaderData(),n=t().slots;return h.jsxs("div",{className:n.base(),children:[h.jsx(m5,{entity:e}),h.jsx(h5,{entity:e}),h.jsx(Bo,{})]})}}),g5=Xt("/$locale/apps/derivean/root/user/$id/view/")({component:()=>"yep"}),sf=Xt("/$locale/apps/derivean/root/user/$id/inventory/")({validateSearch:xr(wr(jy)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r,sort:i},params:{id:o}}){return e.transaction().execute(l=>ur({tx:l,queryClient:t,source:Wr,filter:n,cursor:r,where:{userId:o},sort:i||[{name:"resource",sort:"asc"},{name:"amount",sort:"desc"}]}))},component(){const{data:t,count:e}=sf.useLoaderData(),{filter:n,cursor:r,selection:i}=sf.useSearch(),o=sf.useNavigate(),{id:l}=sf.useParams(),{tva:c}=Un({from:"__root__"}),d=c().slots;return h.jsx("div",{className:d.base(),children:h.jsx(lR,{userId:l,table:{data:t,filter:{value:n,set:br(o)},selection:{type:"multi",value:i,set:bi(o)}},fulltext:{value:n?.fulltext,set:_r(o)},cursor:{count:e,cursor:r,textTotal:h.jsx(D,{label:"Number of items"}),...vr(o)}})})}}),y5=Xt("/$locale/apps/derivean/root/resource/$id/view/")({component:()=>h.jsx("div",{children:'Hello "/$locale/apps/derivean/root/resource/$id/view/"!'})}),dw=({mutation:t,defaultValues:e,onSuccess:n,variant:r,tva:i=hs,css:o})=>{const l=gs({resolver:ys(id.shape),defaultValues:{cycles:1,...e}}),c=U.useContext(qi),d=i({...r,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:o}).slots;return h.jsxs("form",{className:d.base(),onSubmit:go({form:l,mutation:t,async onSuccess(m){n?.({entity:m,modalContext:c})}}),children:[h.jsx(Ki,{variant:{highlight:!0},error:l.formState.errors.root}),h.jsx(kn,{formState:l.formState,name:"name",label:h.jsx(D,{label:"Base building name (label)"}),required:!0,children:h.jsx("input",{type:"text",className:d.input(),...l.register("name")})}),h.jsx(kn,{formState:l.formState,name:"cycles",label:h.jsx(D,{label:"Base building cycles (label)"}),hint:h.jsx(D,{label:"Base building cycles (hint)"}),required:!0,children:h.jsx("input",{type:"number",className:d.input(),...l.register("cycles")})}),h.jsx("div",{className:"flex flex-row justify-between gap-8",children:h.jsx(cr,{iconEnabled:fo,type:"submit",children:h.jsx(D,{label:"Save base building (submit)"})})})]})},mO=Vr(),v5=[mO({name:"name",header(){return h.jsx(D,{label:"Base building name (label)"})},render({data:t,value:e}){const{locale:n}=Wn({from:"/$locale"});return h.jsx(ar,{to:"/$locale/apps/derivean/root/building/base/$id/view",params:{locale:n,id:t.id},children:e})},size:10}),mO({name:"cycles",header(){return h.jsx(D,{label:"Base building cycles (label)"})},render({value:t}){return tr({number:t})},size:14})],mR=({table:t,...e})=>{const n=Gi({sources:[Dr]});return h.jsx(zr,{table:Ur({...t,columns:v5}),action:{table(){return h.jsx(lr,{children:h.jsx(wn,{label:h.jsx(D,{label:"Create base building (menu)"}),textTitle:h.jsx(D,{label:"Create base building (modal)"}),icon:fo,children:h.jsx(dw,{mutation:yo({source:Dr,async wrap(r){return pn.promise(r(),{loading:h.jsx(D,{label:"Saving base building (label)"}),success:h.jsx(D,{label:"Base building successfully saved (label)"}),error:h.jsx(D,{label:"Cannot save base building (label)"})})}}),onSuccess:async({modalContext:r})=>{await n(),r?.close()}})})})},row({data:r}){return h.jsxs(lr,{children:[h.jsx(wn,{label:h.jsx(D,{label:"Edit base building (menu)"}),textTitle:h.jsx(D,{label:"Edit base building (modal)"}),icon:fo,children:h.jsx(dw,{defaultValues:r,mutation:Bs({source:Dr,async wrap(i){return pn.promise(i(),{loading:h.jsx(D,{label:"Saving base building (label)"}),success:h.jsx(D,{label:"Base building successfully saved (label)"}),error:h.jsx(D,{label:"Cannot save base building (label)"})})},async toPatch(){return{filter:{id:r.id}}}}),onSuccess:async({modalContext:i})=>{await n(),i?.close()}})}),h.jsx(wn,{icon:ms,label:h.jsx(D,{label:"Delete base building (label)"}),textTitle:h.jsx(D,{label:"Delete base building (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:h.jsx($s,{source:Dr,textContent:h.jsx(D,{label:"Base building delete (content)"}),filter:{id:r.id},invalidator:n})})]})}},...e})},Wm=Xt("/$locale/apps/derivean/root/building/base/list/")({validateSearch:xr(wr(id)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r,sort:i}}){return e.transaction().execute(async o=>ur({tx:o,queryClient:t,source:Dr,filter:n,cursor:r,sort:i||[{name:"name",sort:"asc"}]}))},component:()=>{const{data:t,count:e}=Wm.useLoaderData(),{filter:n,cursor:r,selection:i}=Wm.useSearch(),o=Wm.useNavigate(),{tva:l}=Un({from:"__root__"}),c=l().slots;return h.jsx("div",{className:c.base(),children:h.jsx(mR,{table:{data:t,filter:{value:n,set:br(o)},selection:{type:"multi",value:i,set:bi(o)}},fulltext:{value:n?.fulltext,set:_r(o)},cursor:{count:e,cursor:r,textTotal:h.jsx(D,{label:"Number of items"}),...vr(o)}})})}}),b5=t=>h.jsx(OC,{items:[{id:"name",label:h.jsx(D,{label:"Building name (label)"}),render({entity:e}){return e.baseBuilding.name}}],...t}),_5=Xt("/$locale/apps/derivean/root/building/$id/view/")({component(){const{entity:t}=wl({from:"/$locale/apps/derivean/root/building/$id"});return h.jsx("div",{className:"w-1/2 mx-auto",children:h.jsx(b5,{entity:t})})}}),gR=({icon:t,title:e,amount:n})=>h.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[t?dp(t)?h.jsx(xn,{icon:t,css:{base:["text-slate-500"]}}):t:null,h.jsx("div",{className:"text-slate-500",children:e}),h.jsx("div",{className:"font-bold text-slate-700",children:tr({number:n.map(({amount:r})=>r).reduce((r,i)=>r+i,0)})})]}),x5=({source:t,resourceId:e,fallback:n=void 0})=>{const r=t.find(i=>i.resourceId===e);return r===void 0?n:r.limit},yR=({limits:t,resourceId:e,amount:n})=>{const r=x5({source:t,resourceId:e});return h.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[h.jsx("div",{className:"",children:tr({number:n})}),r===void 0?null:h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"text-slate-500",children:"/"}),h.jsx("div",{className:"font-light text-slate-500",children:r})]})]})},ix=Vr(),w5=[ix({name:"building.baseBuilding.name",header(){return h.jsx(D,{label:"Building name (label)"})},render({data:t,value:e}){const{locale:n}=Wn({from:"/$locale"});return h.jsx(ar,{to:"/$locale/apps/derivean/game/building/$id/resource/list",params:{locale:n,id:t.buildingId},children:e})},filter:{path:"buildingId",onFilter({data:t,filter:e}){e.shallow("buildingId",t.buildingId)}},size:15}),ix({name:"resource.name",header(){return h.jsx(D,{label:"Resource name (label)"})},render({data:t,value:e}){const{locale:n}=Wn({from:"/$locale"});return h.jsx(ar,{to:"/$locale/apps/derivean/game/inventory",params:{locale:n},search:{filter:{resourceId:t.resourceId}},children:e})},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceId",t.resourceId)}},size:18}),ix({name:"amount",header(){return h.jsx(D,{label:"Amount (label)"})},render({data:t,value:e}){return h.jsx(yR,{limits:t.building.baseBuilding.limits,resourceId:t.resourceId,amount:e})},size:18})],vR=({buildingId:t,table:e,...n})=>h.jsx(zr,{table:Ur({...e,hidden:t?["building.baseBuilding.name"]:[],columns:w5}),action:{table:t?()=>{const r=fR();return h.jsx(lr,{children:h.jsx(jB,{icon:Nn,onClick:()=>{r.mutate({buildingId:t})},children:h.jsx(D,{label:"Pickup resources (label)"})})})}:void 0,row({data:r}){return h.jsx(lr,{children:h.jsx(wn,{icon:ms,label:h.jsx(D,{label:"Delete resource item (label)"}),textTitle:h.jsx(D,{label:"Delete resource item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:h.jsx($s,{source:pi,textContent:h.jsx(D,{label:"Resource item delete user (content)"}),filter:{id:r.id}})})})}},...n}),zm=Xt("/$locale/apps/derivean/game/building/resource/list/")({validateSearch:xr(wr(od)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e,session:n},deps:{filter:r,cursor:i}}){const o=await n();return e.transaction().execute(async l=>ur({tx:l,queryClient:t,source:pi,filter:r,cursor:i,where:{userId:o.id}}))},component(){const{data:t,count:e}=zm.useLoaderData(),{filter:n,cursor:r,selection:i}=zm.useSearch(),o=zm.useNavigate(),{tva:l}=Un({from:"__root__"}),c=l().slots;return h.jsxs("div",{className:c.base(),children:[h.jsx(gR,{icon:Nn,title:h.jsx(D,{label:"Resource sum (label)"}),amount:t}),h.jsx(vR,{table:{data:t,filter:{value:n,set:br(o)},selection:{type:"multi",value:i,set:bi(o)}},fulltext:{value:n?.fulltext,set:_r(o)},cursor:{count:e,cursor:r,textTotal:h.jsx(D,{label:"Number of items"}),...vr(o)}})]})}}),S5=({baseBuildingId:t,userId:e})=>yw({queryKey:["useBuildingCount",t,e],async queryFn(){return zn.transaction().execute(async n=>{const{filter:r}=await Oi.count$({tx:n,filter:{baseBuildingId:t,userId:e}}),{filter:i}=await da.count$({tx:n,filter:{baseBuildingId:t,userId:e}});return{count:r,queue:i,total:r+i}})}}),np=({inventory:t,requirements:e})=>{const n=[];for(const r of e){const i=t.find(o=>o.resourceId===r.resourceId);i?i.amount<r.amount&&n.push({...r,amount:r.amount-i.amount}):n.push(r)}return n.length?{check:!1,missing:n}:{check:!0,missing:n}},E5=async({tx:t,userId:e,baseBuildingId:n,bypass:r=!1})=>{const i=await Dr.getOrThrow$({tx:t,id:n});if(!r&&!np({requirements:i.requirements,inventory:await Wr.list$({tx:t,where:{userId:e}})}).check)throw new Error(bn.text("Not enough resources to construct the building."));for await(const c of i.requirements){if(c.passive)continue;const d=await Wr.fetchOrThrow$({tx:t,where:{userId:e,resourceId:c.resourceId}});await Wr.patch$({tx:t,entity:{amount:d.amount-c.amount},shape:{amount:d.amount-c.amount},where:{userId:e,resourceId:c.resourceId}})}const{filter:o}=await sc.count$({tx:t,where:{userId:e}}),l={userId:e,baseBuildingId:i.id,start:o,current:0,finish:o+i.cycles};await da.create$({tx:t,shape:l,entity:l})},k5=({userId:t})=>{const e=Gi({sources:[da,Oi,Dr,Wr],queries:[["useBuildingCount"]]});return $o({mutationKey:["useConstructMutation"],async mutationFn({baseBuildingId:n}){return zn.transaction().execute(async r=>pn.promise(E5({tx:r,baseBuildingId:n,userId:t}),{success:bn.text("Building queued."),error:bn.text("Failed to queue building."),loading:bn.text("Queuing building...")}))},async onSuccess(){await e()}})},N5=yn({slot:{item:["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2"]},variant:{passive:{true:[]},missing:{true:[]}},match:[{if:{passive:!0},then:{item:["bg-purple-100","border-purple-300","text-purple-500"]}},{if:{passive:!1},then:{item:["bg-sky-100","border-sky-300","text-sky-500"]}},{if:{missing:!0},then:{item:["bg-amber-100","border-amber-300"]}}],defaults:{passive:!1,missing:!1}}),Cp=({resources:t,diff:e,variant:n,tva:r=N5,css:i,...o})=>{const l=r({...n,css:i}).slots;return h.jsx(NV,{items:t,render:({entity:c})=>{const d=e?.find(m=>m.resourceId===c.resourceId);return h.jsxs("div",{className:l.item({passive:c.passive}),children:[h.jsx("div",{children:c.resource.name}),h.jsxs("div",{className:"text-md font-bold text-slate-500",children:["x",tr({number:c.amount})]}),d?h.jsx(h.Fragment,{children:d.amount>0?h.jsxs("div",{className:"text-sm text-red-500",children:["(-",tr({number:d.amount}),")"]}):h.jsx(xn,{icon:"icon-[charm--cross]",css:{base:["text-red-500"]}})}):e?h.jsx(xn,{icon:"icon-[pajamas--check-sm]",css:{base:["text-emerald-600"]}}):null]})},...o})},sx=Vr(),I5=[sx({name:"name",header(){return h.jsx(D,{label:"Base building name (label)"})},render({data:t,value:e,context:{inventory:n,userId:r}}){const{locale:i}=Wn({from:"/$locale"}),o=k5({userId:r}),l=S5({baseBuildingId:t.id,userId:r}),{check:c}=np({inventory:n,requirements:t.requirements}),d=c;return h.jsxs("div",{className:ay(["w-full","flex","gap-2","items-center"]),children:[h.jsx(cr,{iconEnabled:po,iconDisabled:po,variant:{variant:!d||l.isLoading?"subtle":"primary"},onClick:()=>{o.mutate({baseBuildingId:t.id})},disabled:!d,loading:o.isPending||l.isLoading}),h.jsx(ar,{to:"/$locale/apps/derivean/game/building/base/$id/view",params:{locale:i,id:t.id},children:e})]})},size:16}),sx({name:"cycles",header(){return h.jsx(D,{label:"Base building cycles (label)"})},render({value:t}){return tr({number:t})},size:14}),sx({name:"requirements",header(){return h.jsx(D,{label:"Required resources (label)"})},render({value:t,context:{inventory:e}}){const{missing:n}=np({inventory:e,requirements:t});return h.jsx(Cp,{textTitle:h.jsx(D,{label:"Building requirements (title)"}),resources:t,diff:n,limit:5})},size:72})],O5=({userId:t,inventory:e,table:n,...r})=>h.jsx(zr,{table:Ur({...n,columns:I5,context:{userId:t,inventory:e}}),...r}),Um=Xt("/$locale/apps/derivean/game/building/base/list/")({validateSearch:xr(wr(id)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return e.transaction().execute(async i=>ur({tx:i,queryClient:t,source:Dr,filter:n,cursor:r}))},component(){const{data:t,count:e}=Um.useLoaderData(),{filter:n,cursor:r}=Um.useSearch(),i=Um.useNavigate(),{tva:o}=Un({from:"__root__"}),l=o().slots,{inventory:c,session:d}=wl({from:"/$locale/apps/derivean/game"});return h.jsx("div",{className:l.base(),children:h.jsx(O5,{userId:d.id,inventory:c,table:{data:t,filter:{value:n,set:br(i)}},fulltext:{value:n?.fulltext,set:_r(i)},cursor:{count:e,cursor:r,textTotal:h.jsx(D,{label:"Number of items"}),...vr(i)}})})}}),T5=Xt("/$locale/apps/derivean/game/building/$id/view/")({component(){return"detail"}}),q5=()=>{const t=Gi({sources:[Ds,ro,Wr]});return $o({mutationKey:["useProductionMutation"],async mutationFn({baseBuildingProductionId:e,buildingId:n,userId:r}){return pn.promise(zn.transaction().execute(async i=>{const o=await Ds.getOrThrow$({tx:i,id:e,error:"Cannot find base building production"});for await(const d of o.requirements){if(d.passive)continue;const m=await Wr.fetchOrThrow$({tx:i,where:{userId:r,resourceId:d.resourceId}});await Wr.patch$({tx:i,entity:{amount:m.amount-d.amount},shape:{amount:m.amount-d.amount},where:{userId:r,resourceId:d.resourceId}})}const{filter:l}=await sc.count$({tx:i,where:{userId:r}}),c={baseBuildingProductionId:e,buildingId:n,amount:o.amount,resourceId:o.resourceId,start:l,current:0,finish:l+o.cycles};await ro.create$({tx:i,shape:c,entity:c})}),{loading:bn.text("Queuing production... (label)"),error:bn.text("Failed to queue production. (label)"),success:bn.text("Production queued. (label)")})},async onSuccess(){await t()}})},lm=Vr(),C5=[lm({name:"resource.name",header(){return h.jsx(D,{label:"Resource name (label)"})},render({data:t,value:e,context:{inventory:n,buildingId:r,userId:i}}){const o=q5(),{check:l}=np({inventory:n,requirements:t.requirements}),c=$g({source:ro,filter:{baseBuildingProductionId:t.id,buildingId:r}}),d=l&&c.isSuccess?c.data.filter<t.limit:!1;return h.jsx(cr,{iconEnabled:Vu,iconDisabled:Vu,variant:{variant:d?"primary":"subtle"},onClick:()=>{o.mutate({baseBuildingProductionId:t.id,buildingId:r,userId:i})},disabled:!d,loading:o.isPending||c.isLoading,css:{base:["w-full"]},children:e})},size:18}),lm({name:"amount",header(){return h.jsx(D,{label:"Amount (label)"})},render({value:t}){return tr({number:t})},size:14}),lm({name:"cycles",header(){return h.jsx(D,{label:"Cycle count (label)"})},render({value:t}){return tr({number:t})},size:14}),lm({name:"requirements",header(){return h.jsx(D,{label:"Required resources (label)"})},render({value:t,context:{inventory:e}}){const{missing:n}=np({inventory:e,requirements:t});return h.jsx(Cp,{textTitle:h.jsx(D,{label:"Resource requirements (title)"}),resources:t,diff:n,limit:5})}})],R5=({table:t,inventory:e,buildingId:n,userId:r,...i})=>h.jsx(zr,{table:Ur({...t,columns:C5,context:{inventory:e,buildingId:n,userId:r}}),...i}),of=Xt("/$locale/apps/derivean/game/building/$id/production/")({validateSearch:xr(wr(Tp)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r,sort:i},params:{id:o}}){return e.transaction().execute(async l=>{const c=await Oi.getOrThrow$({tx:l,id:o});return ur({tx:l,queryClient:t,source:Ds,filter:n,cursor:r,sort:i,where:{baseBuildingId:c.baseBuildingId}})})},component(){const{data:t,count:e}=of.useLoaderData(),{filter:n,cursor:r}=of.useSearch(),{id:i}=of.useParams(),o=of.useNavigate(),{tva:l}=Un({from:"__root__"}),c=l().slots,{inventory:d,session:m}=wl({from:"/$locale/apps/derivean/game"});return h.jsx("div",{className:c.base(),children:h.jsx(R5,{buildingId:i,userId:m.id,inventory:d,table:{data:t,filter:{value:n,set:br(o)}},fulltext:{value:n?.fulltext,set:_r(o)},cursor:{count:e,cursor:r,textTotal:h.jsx(D,{label:"Number of items"}),...vr(o)}})})}}),ou=Vr(),A5=[ou({name:"building.baseBuilding.name",header(){return h.jsx(D,{label:"Base building name (label)"})},render({data:t,value:e}){const{locale:n}=Wn({from:"/$locale"});return h.jsx(ar,{to:"/$locale/apps/derivean/game/building/$id/production/queue",params:{locale:n,id:t.buildingId},children:e})},size:14}),ou({name:"resource.name",header(){return h.jsx(D,{label:"Resource name (label)"})},render({data:t,value:e}){const{locale:n}=Wn({from:"/$locale"});return h.jsx(ar,{to:"/$locale/apps/derivean/game/inventory",params:{locale:n},search:{filter:{resourceId:t.resourceId}},children:e})},size:14}),ou({name:"amount",header(){return h.jsx(D,{label:"Amount (label)"})},render({value:t}){return tr({number:t})},size:12}),ou({name:"current",header(){return h.jsx(D,{label:"Cycle - current (label)"})},render({data:t,value:e}){return h.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[h.jsx("div",{className:"font-bold",children:tr({number:e})}),"/",h.jsx("div",{className:"text-sm text-slate-600",children:tr({number:t.finish-t.start})})]})},size:10}),ou({name:"start",header(){return h.jsx(D,{label:"Cycle - started (label)"})},render({value:t}){return tr({number:t})},size:10}),ou({name:"finish",header(){return h.jsx(D,{label:"Cycle - finish (label)"})},render({value:t}){return tr({number:t})},size:10})],bR=({table:t,...e})=>h.jsx(zr,{table:Ur({...t,columns:A5}),...e}),Vm=Xt("/$locale/apps/derivean/game/building/$id/production/queue")({validateSearch:xr(wr(k0)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e,session:n},deps:{filter:r,cursor:i,sort:o},params:{id:l}}){const c=await n();return e.transaction().execute(async d=>ur({tx:d,queryClient:t,source:ro,filter:r,cursor:i,sort:o,where:{userId:c.id,buildingId:l}}))},component(){const{data:t,count:e}=Vm.useLoaderData(),{filter:n,cursor:r}=Vm.useSearch(),i=Vm.useNavigate(),{tva:o}=Un({from:"__root__"}),l=o().slots;return h.jsx("div",{className:l.base(),children:h.jsx(bR,{table:{data:t,filter:{value:n,set:br(i)},hidden:["building.baseBuilding.name"]},fulltext:{value:n?.fulltext,set:_r(i)},cursor:{count:e,cursor:r,textTotal:h.jsx(D,{label:"Number of items"}),...vr(i)}})})}}),j5=t=>h.jsx(P3,{icon:fo,titleText:h.jsx(D,{label:"Select base building (title)"}),table:mR,render:({entity:e})=>e.name,source:Dr,useListQuery:w0,...t}),gO=({mutation:t,defaultValues:e,onSuccess:n,variant:r,tva:i=hs,css:o})=>{const l=gs({resolver:ys(sd.shape),defaultValues:e}),c=U.useContext(qi),d=i({...r,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:o}).slots;return h.jsxs("form",{className:d.base(),onSubmit:go({form:l,mutation:t,async onSuccess(m){n?.({entity:m,modalContext:c})}}),children:[h.jsx(Ki,{variant:{highlight:!0},error:l.formState.errors.root}),h.jsx(kn,{formState:l.formState,name:"baseBuildingId",label:h.jsx(D,{label:"Base building name (label)"}),children:h.jsx(ho,{control:l.control,name:"baseBuildingId",render:({field:{ref:m,...y}})=>h.jsx(j5,{icon:fo,titleText:h.jsx(D,{label:"Select base building (title)"}),allowEmpty:!0,...y})})}),h.jsx("div",{className:"flex flex-row justify-between gap-8",children:h.jsx(cr,{iconEnabled:Nn,type:"submit",children:h.jsx(D,{label:"Save Building (submit)"})})})]})},P5=Vr(),F5=[P5({name:"baseBuilding.name",header(){return h.jsx(D,{label:"Base building name (label)"})},render({data:t,value:e}){const{locale:n}=Wn({from:"/$locale"});return h.jsx(ar,{to:"/$locale/apps/derivean/root/building/$id/view",params:{locale:n,id:t.id},children:e})},size:14})],L5=({userId:t,table:e,...n})=>h.jsx(zr,{table:Ur({...e,columns:F5}),action:{table(){return h.jsx(lr,{children:h.jsx(wn,{label:h.jsx(D,{label:"Create building (menu)"}),textTitle:h.jsx(D,{label:"Create building (modal)"}),icon:Nn,children:h.jsx(gO,{mutation:yo({source:Oi,async wrap(r){return pn.promise(r(),{loading:h.jsx(D,{label:"Saving building (label)"}),success:h.jsx(D,{label:"Building successfully saved (label)"}),error:h.jsx(D,{label:"Cannot save building (label)"})})},async toCreate({shape:r}){return{entity:{...r,userId:t}}}}),onSuccess:async({modalContext:r})=>{r?.close()}})})})},row({data:r}){return h.jsxs(lr,{children:[h.jsx(wn,{label:h.jsx(D,{label:"Edit building (menu)"}),textTitle:h.jsx(D,{label:"Edit building (modal)"}),icon:po,children:h.jsx(gO,{defaultValues:r,mutation:Bs({source:Oi,async wrap(i){return pn.promise(i(),{loading:h.jsx(D,{label:"Saving building (label)"}),success:h.jsx(D,{label:"Building successfully saved (label)"}),error:h.jsx(D,{label:"Cannot save building (label)"})})},async toPatch(){return{filter:{id:r.id}}}}),onSuccess:async({modalContext:i})=>{i?.close()}})}),h.jsx(wn,{icon:ms,label:h.jsx(D,{label:"Delete building (label)"}),textTitle:h.jsx(D,{label:"Delete building (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:h.jsx($s,{source:Oi,textContent:h.jsx(D,{label:"Building delete (content)"}),filter:{id:r.id}})})]})}},...n}),af=Xt("/$locale/apps/derivean/root/user/$id/building/list/")({validateSearch:xr(wr(sd)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r,sort:i},params:{id:o}}){return e.transaction().execute(l=>ur({tx:l,queryClient:t,source:Oi,filter:n,cursor:r,sort:i,where:{userId:o}}))},component(){const{data:t,count:e}=af.useLoaderData(),{filter:n,cursor:r,selection:i}=af.useSearch(),{id:o}=af.useParams(),l=af.useNavigate(),{tva:c}=Un({from:"__root__"}),d=c().slots;return h.jsx("div",{className:d.base(),children:h.jsx(L5,{userId:o,table:{data:t,filter:{value:n,set:br(l)},selection:{type:"multi",value:i,set:bi(l)}},fulltext:{value:n?.fulltext,set:_r(l)},cursor:{count:e,cursor:r,textTotal:h.jsx(D,{label:"Number of items"}),...vr(l)}})})}}),D5=t=>h.jsx(OC,{items:[{id:"name",label:h.jsx(D,{label:"Base building name (label)"}),render({entity:e}){return e.name}},{id:"cycles",label:h.jsx(D,{label:"Base building cycles (label)"}),render({entity:e}){return e.cycles}},{id:"requirement.resources",label:h.jsx(D,{label:"Base building requirements (label)"}),render({entity:e}){return h.jsx(Cp,{resources:e.requirements,limit:5})}}],...t}),M5=Xt("/$locale/apps/derivean/root/building/base/$id/view/")({component:()=>{const{entity:t}=wl({from:"/$locale/apps/derivean/root/building/base/$id"});return h.jsx("div",{className:"w-1/2 mx-auto",children:h.jsx(D5,{entity:t})})}}),yO=({mutation:t,defaultValues:e,onSuccess:n,variant:r,tva:i=hs,css:o})=>{const l=gs({resolver:ys(Tp.shape),defaultValues:{amount:1,cycles:1,limit:1,...e}}),c=U.useContext(qi),d=i({...r,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:o}).slots;return h.jsxs("form",{className:d.base(),onSubmit:go({form:l,mutation:t,async onSuccess(m){n?.({entity:m,modalContext:c})}}),children:[h.jsx(Ki,{variant:{highlight:!0},error:l.formState.errors.root}),h.jsx(kn,{formState:l.formState,name:"resourceId",label:h.jsx(D,{label:"Resource name (label)"}),children:h.jsx(ho,{control:l.control,name:"resourceId",render:({field:{ref:m,...y}})=>h.jsx(kc,{...y})})}),h.jsx(kn,{formState:l.formState,name:"amount",label:h.jsx(D,{label:"Amount (label)"}),children:h.jsx("input",{type:"number",className:d.input(),...l.register("amount")})}),h.jsx(kn,{formState:l.formState,name:"limit",label:h.jsx(D,{label:"Production limit (label)"}),children:h.jsx("input",{type:"number",className:d.input(),...l.register("limit")})}),h.jsx(kn,{formState:l.formState,name:"cycles",label:h.jsx(D,{label:"Cycle count (label)"}),hint:h.jsx(D,{label:"Cycle count (hint)"}),children:h.jsx("input",{type:"number",className:d.input(),...l.register("cycles")})}),h.jsx("div",{className:"flex flex-row justify-between gap-8",children:h.jsx(cr,{iconEnabled:Nn,type:"submit",children:h.jsx(D,{label:"Save resource production (submit)"})})})]})},cm=Vr(),$5=[cm({name:"resource.name",header(){return h.jsx(D,{label:"Resource name (label)"})},render({data:t,value:e}){const{locale:n}=Wn({from:"/$locale"});return h.jsx(ar,{to:"/$locale/apps/derivean/root/building/base/$id/production/$productionId/requirement/list",params:{locale:n,id:t.baseBuildingId,productionId:t.id},children:e})},size:18}),cm({name:"amount",header(){return h.jsx(D,{label:"Amount (label)"})},render({value:t}){return tr({number:t})},size:14}),cm({name:"cycles",header(){return h.jsx(D,{label:"Cycle count (label)"})},render({value:t}){return tr({number:t})},size:14}),cm({name:"requirements",header(){return h.jsx(D,{label:"Resource requirements (label)"})},render({value:t}){return h.jsx(Cp,{resources:t})}})],B5=({baseBuildingId:t,table:e,...n})=>{const r=Gi({sources:[Dr,Ds]});return h.jsx(zr,{table:Ur({...e,columns:$5}),action:{table(){return h.jsx(lr,{children:h.jsx(wn,{label:h.jsx(D,{label:"Create production resource (menu)"}),textTitle:h.jsx(D,{label:"Create production resource (modal)"}),icon:Nn,children:h.jsx(yO,{mutation:yo({source:Ds,async wrap(i){return pn.promise(i(),{loading:h.jsx(D,{label:"Saving production resource (label)"}),success:h.jsx(D,{label:"Production resource successfully saved (label)"}),error:h.jsx(D,{label:"Cannot save production resource (label)"})})},async toCreate({shape:i}){return{entity:{...i,baseBuildingId:t}}}}),onSuccess:async({modalContext:i})=>{await r(),i?.close()}})})})},row({data:i}){return h.jsxs(lr,{children:[h.jsx(wn,{label:h.jsx(D,{label:"Edit production resource (menu)"}),textTitle:h.jsx(D,{label:"Edit production resource (modal)"}),icon:y3,children:h.jsx(yO,{defaultValues:i,mutation:Bs({source:Ds,async wrap(o){return pn.promise(o(),{loading:h.jsx(D,{label:"Saving production resource (label)"}),success:h.jsx(D,{label:"Production resource successfully saved (label)"}),error:h.jsx(D,{label:"Cannot save production resource (label)"})})},async toPatch({shape:o}){return{entity:{...o,baseBuildingId:t},filter:{id:i.id}}}}),onSuccess:async({modalContext:o})=>{await r(),o?.close()}})}),h.jsx(wn,{icon:ms,label:h.jsx(D,{label:"Delete production resource (label)"}),textTitle:h.jsx(D,{label:"Delete production resource (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:h.jsx($s,{source:Ds,textContent:h.jsx(D,{label:"Production resource delete (content)"}),filter:{id:i.id},invalidator:r})})]})}},...n})},lf=Xt("/$locale/apps/derivean/root/building/base/$id/production/")({validateSearch:xr(wr(Tp)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r,sort:i},params:{id:o}}){return e.transaction().execute(async l=>ur({tx:l,queryClient:t,source:Ds,filter:n,cursor:r,sort:i,where:{baseBuildingId:o}}))},component:()=>{const{data:t,count:e}=lf.useLoaderData(),{filter:n,cursor:r,selection:i}=lf.useSearch(),{id:o}=lf.useParams(),l=lf.useNavigate(),{tva:c}=Un({from:"__root__"}),d=c().slots;return h.jsx("div",{className:d.base(),children:h.jsx(B5,{baseBuildingId:o,table:{data:t,filter:{value:n,set:br(l)},selection:{type:"multi",value:i,set:bi(l)}},fulltext:{value:n?.fulltext,set:_r(l)},cursor:{count:e,cursor:r,textTotal:h.jsx(D,{label:"Number of items"}),...vr(l)}})})}}),_R=Xt("/$locale/apps/derivean/root/building/base/$id/edit/")({component:()=>{const{entity:t}=wl({from:"/$locale/apps/derivean/root/building/base/$id"}),e=_R.useNavigate(),n=Gi({sources:[Dr]});return h.jsx("div",{className:"w-1/2 mx-auto",children:h.jsx(dw,{defaultValues:t,mutation:Bs({source:Dr,async wrap(r){return pn.promise(r(),{loading:h.jsx(D,{label:"Saving base building (label)"}),success:h.jsx(D,{label:"Base building successfully saved (label)"}),error:h.jsx(D,{label:"Cannot save base building (label)"})})},async toPatch(){return{filter:{id:t.id}}}}),onSuccess:async()=>{await n(),e({to:"/$locale/apps/derivean/root/building/base/$id/view",params:{id:t.id}})}})})}}),vO=({mutation:t,defaultValues:e,onSuccess:n,variant:r,tva:i=hs,css:o})=>{const l=gs({resolver:ys(od.shape),defaultValues:e}),c=U.useContext(qi),d=i({...r,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:o}).slots;return h.jsxs("form",{className:d.base(),onSubmit:go({form:l,mutation:t,async onSuccess(m){n?.({entity:m,modalContext:c})}}),children:[h.jsx(Ki,{variant:{highlight:!0},error:l.formState.errors.root}),h.jsx(kn,{formState:l.formState,name:"resourceId",label:h.jsx(D,{label:"Resource name (label)"}),children:h.jsx(ho,{control:l.control,name:"resourceId",render:({field:{ref:m,...y}})=>h.jsx(kc,{icon:Nn,titleText:h.jsx(D,{label:"Select resource (title)"}),allowEmpty:!0,...y})})}),h.jsx(kn,{formState:l.formState,name:"amount",label:h.jsx(D,{label:"Amount (label)"}),children:h.jsx("input",{type:"number",className:d.input(),...l.register("amount")})}),h.jsx("div",{className:"flex flex-row justify-between gap-8",children:h.jsx(cr,{iconEnabled:Nn,type:"submit",children:h.jsx(D,{label:"Save resources item (submit)"})})})]})},ox=Vr(),W5=[ox({name:"building.baseBuilding.name",header(){return h.jsx(D,{label:"Building name (label)"})},render({value:t}){return t},filter:{path:"buildingId",onFilter({data:t,filter:e}){e.shallow("buildingId",t.buildingId)}},size:15}),ox({name:"resource.name",header(){return h.jsx(D,{label:"Resource name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceId",t.resourceId)}},size:18}),ox({name:"amount",header(){return h.jsx(D,{label:"Amount (label)"})},render({data:t,value:e}){return h.jsx(yR,{limits:t.building.baseBuilding.limits,resourceId:t.resourceId,amount:e})},size:18})],xR=({buildingId:t,table:e,...n})=>h.jsx(zr,{table:Ur({...e,columns:W5}),action:{table(){return h.jsx(lr,{children:h.jsx(wn,{label:h.jsx(D,{label:"Create resource item (menu)"}),textTitle:h.jsx(D,{label:"Create resource item (modal)"}),icon:Nn,hidden:!t,children:h.jsx(vO,{mutation:yo({source:pi,async wrap(r){return pn.promise(r(),{loading:h.jsx(D,{label:"Saving resource item (label)"}),success:h.jsx(D,{label:"Resource item successfully saved (label)"}),error:h.jsx(D,{label:"Cannot save resource item (label)"})})},async toCreate({shape:r}){return{entity:{...r,buildingId:t}}}}),onSuccess:async({modalContext:r})=>{r?.close()}})})})},row({data:r}){return h.jsxs(lr,{children:[h.jsx(wn,{label:h.jsx(D,{label:"Edit resource item (menu)"}),textTitle:h.jsx(D,{label:"Edit resource item (modal)"}),icon:Nn,children:h.jsx(vO,{defaultValues:r,mutation:Bs({source:pi,async wrap(i){return pn.promise(i(),{loading:h.jsx(D,{label:"Saving resource item (label)"}),success:h.jsx(D,{label:"Resource item successfully saved (label)"}),error:h.jsx(D,{label:"Cannot save resource item (label)"})})},async toPatch(){return{filter:{id:r.id}}}}),onSuccess:async({modalContext:i})=>{i?.close()}})}),h.jsx(wn,{icon:ms,label:h.jsx(D,{label:"Delete resource item (label)"}),textTitle:h.jsx(D,{label:"Delete resource item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:h.jsx($s,{source:pi,textContent:h.jsx(D,{label:"Resource item delete (content)"}),filter:{id:r.id}})})]})}},...n}),cf=Xt("/$locale/apps/derivean/root/building/$id/resource/list/")({validateSearch:xr(wr(od)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return e.transaction().execute(o=>ur({tx:o,queryClient:t,source:pi,filter:n,cursor:r,where:{buildingId:i}}))},component(){const{data:t,count:e}=cf.useLoaderData(),{filter:n,cursor:r,selection:i}=cf.useSearch(),{id:o}=cf.useParams(),l=cf.useNavigate(),{tva:c}=Un({from:"__root__"}),d=c().slots;return h.jsx("div",{className:d.base(),children:h.jsx(xR,{buildingId:o,table:{data:t,filter:{value:n,set:br(l)},selection:{type:"multi",value:i,set:bi(l)}},fulltext:{value:n?.fulltext,set:_r(l)},cursor:{count:e,cursor:r,textTotal:h.jsx(D,{label:"Number of items"}),...vr(l)}})})}}),Hm=Xt("/$locale/apps/derivean/game/building/queue/production/list/")({validateSearch:xr(wr(k0)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e,session:n},deps:{filter:r,cursor:i,sort:o}}){const l=await n();return e.transaction().execute(async c=>ur({tx:c,queryClient:t,source:ro,filter:r,cursor:i,sort:o,where:{userId:l.id}}))},component(){const{data:t,count:e}=Hm.useLoaderData(),{filter:n,cursor:r}=Hm.useSearch(),i=Hm.useNavigate(),{tva:o}=Un({from:"__root__"}),l=o().slots;return h.jsx("div",{className:l.base(),children:h.jsx(bR,{table:{data:t,filter:{value:n,set:br(i)}},fulltext:{value:n?.fulltext,set:_r(i)},cursor:{count:e,cursor:r,textTotal:h.jsx(D,{label:"Number of items"}),...vr(i)}})})}}),um=Vr(),z5=[um({name:"baseBuilding.name",header(){return h.jsx(D,{label:"Base building name (label)"})},render({value:t}){return t},size:10}),um({name:"current",header(){return h.jsx(D,{label:"Building queue - current (label)"})},render({data:t,value:e}){return h.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[h.jsx("div",{className:"font-bold",children:tr({number:e})}),"/",h.jsx("div",{className:"text-sm text-slate-600",children:t.baseBuilding.cycles})]})},size:10}),um({name:"start",header(){return h.jsx(D,{label:"Building queue - started (label)"})},render({value:t}){return tr({number:t})},size:10}),um({name:"finish",header(){return h.jsx(D,{label:"Building queue - finish (label)"})},render({value:t}){return tr({number:t})},size:10})],U5=({table:t,...e})=>h.jsx(zr,{table:Ur({...t,columns:z5}),...e}),Qm=Xt("/$locale/apps/derivean/game/building/queue/construction/list/")({validateSearch:xr(wr(B3)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e,session:n},deps:{filter:r,cursor:i}}){const o=await n();return e.transaction().execute(l=>ur({tx:l,queryClient:t,source:da,filter:r,cursor:i,where:{userId:o.id}}))},component(){const{data:t,count:e}=Qm.useLoaderData(),{filter:n,cursor:r,selection:i}=Qm.useSearch(),o=Qm.useNavigate(),{tva:l}=Un({from:"__root__"}),c=l().slots;return h.jsx("div",{className:c.base(),children:h.jsx(U5,{table:{data:t,filter:{value:n,set:br(o)},selection:{type:"multi",value:i,set:bi(o)}},fulltext:{value:n?.fulltext,set:_r(o)},cursor:{count:e,cursor:r,textTotal:h.jsx(D,{label:"Number of items"}),...vr(o)}})})}}),V5=Xt("/$locale/apps/derivean/game/building/base/$id/view/")({component(){return h.jsx("div",{children:'Hello "/$locale/apps/derivean/game/building/base/$id/view/"!'})}}),dm=Vr(),H5=[dm({name:"resource.name",header(){return h.jsx(D,{label:"Resource name (label)"})},render({value:t}){return t},size:18}),dm({name:"amount",header(){return h.jsx(D,{label:"Amount (label)"})},render({value:t}){return tr({number:t})},size:14}),dm({name:"cycles",header(){return h.jsx(D,{label:"Cycle count (label)"})},render({value:t}){return tr({number:t})},size:14}),dm({name:"requirements",header(){return h.jsx(D,{label:"Resource requirements (label)"})},render({value:t}){return h.jsx(Cp,{resources:t})}})],Q5=({table:t,...e})=>h.jsx(zr,{table:Ur({...t,columns:H5}),...e}),Km=Xt("/$locale/apps/derivean/game/building/base/$id/production/")({validateSearch:xr(wr(Tp)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r,sort:i},params:{id:o}}){return e.transaction().execute(async l=>ur({tx:l,queryClient:t,source:Ds,filter:n,cursor:r,sort:i,where:{baseBuildingId:o}}))},component:()=>{const{data:t,count:e}=Km.useLoaderData(),{filter:n,cursor:r}=Km.useSearch(),i=Km.useNavigate(),{tva:o}=Un({from:"__root__"}),l=o().slots;return h.jsx("div",{className:l.base(),children:h.jsx(Q5,{table:{data:t,filter:{value:n,set:br(i)}},fulltext:{value:n?.fulltext,set:_r(i)},cursor:{count:e,cursor:r,textTotal:h.jsx(D,{label:"Number of items"}),...vr(i)}})})}}),uf=Xt("/$locale/apps/derivean/game/building/$id/resource/list/")({validateSearch:xr(wr(od)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r,sort:i},params:{id:o}}){return e.transaction().execute(l=>ur({tx:l,queryClient:t,source:pi,filter:n,cursor:r,sort:i,where:{buildingId:o}}))},component(){const{data:t,count:e}=uf.useLoaderData(),{filter:n,cursor:r}=uf.useSearch(),{id:i}=uf.useParams(),o=uf.useNavigate(),{tva:l}=Un({from:"__root__"}),c=l().slots;return h.jsx("div",{className:c.base(),children:h.jsx(vR,{buildingId:i,table:{data:t,filter:{value:n,set:br(o)}},fulltext:{value:n?.fulltext,set:_r(o)},cursor:{count:e,cursor:r,textTotal:h.jsx(D,{label:"Number of items"}),...vr(o)}})})}}),Gm=Xt("/$locale/apps/derivean/root/user/$id/building/resource/list/")({validateSearch:xr(wr(od)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return e.transaction().execute(o=>ur({tx:o,queryClient:t,source:pi,filter:n,where:{userId:i},cursor:r}))},component(){const{data:t,count:e}=Gm.useLoaderData(),{filter:n,cursor:r,selection:i}=Gm.useSearch(),o=Gm.useNavigate(),{tva:l}=Un({from:"__root__"}),c=l().slots;return h.jsxs("div",{className:c.base(),children:[h.jsx(gR,{icon:Nn,title:h.jsx(D,{label:"Resource sum (label)"}),amount:t}),h.jsx(xR,{table:{data:t,filter:{value:n,set:br(o)},selection:{type:"multi",value:i,set:bi(o)}},fulltext:{value:n?.fulltext,set:_r(o)},cursor:{count:e,cursor:r,textTotal:h.jsx(D,{label:"Number of items"}),...vr(o)}})]})}}),bO=({mutation:t,defaultValues:e,onSuccess:n,variant:r,tva:i=hs,css:o})=>{const l=gs({resolver:ys(Ay.shape),defaultValues:{passive:!1,...e}}),c=U.useContext(qi),d=i({...r,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:o}).slots;return h.jsxs("form",{className:d.base(),onSubmit:go({form:l,mutation:t,async onSuccess(m){n?.({entity:m,modalContext:c})}}),children:[h.jsx(Ki,{variant:{highlight:!0},error:l.formState.errors.root}),h.jsx(kn,{formState:l.formState,name:"resourceId",label:h.jsx(D,{label:"Resource name (label)"}),children:h.jsx(ho,{control:l.control,name:"resourceId",render:({field:{ref:m,...y}})=>h.jsx(kc,{...y})})}),h.jsx(kn,{formState:l.formState,name:"amount",label:h.jsx(D,{label:"Amount (label)"}),children:h.jsx("input",{type:"number",className:d.input(),...l.register("amount")})}),h.jsx(kn,{formState:l.formState,name:"passive",label:h.jsx(D,{label:"Passive requirement (label)"}),hint:h.jsx(D,{label:"Passive requirement (hint)"}),children:h.jsx(ho,{control:l.control,name:"passive",render:({field:{ref:m,...y}})=>h.jsx(IC,{...y})})}),h.jsx("div",{className:"flex flex-row justify-between gap-8",children:h.jsx(cr,{iconEnabled:Nn,type:"submit",children:h.jsx(D,{label:"Save resource requirement (submit)"})})})]})},ax=Vr(),K5=[ax({name:"resource.name",header(){return h.jsx(D,{label:"Resource name (label)"})},render({value:t}){return t},size:18}),ax({name:"amount",header(){return h.jsx(D,{label:"Amount (label)"})},render({value:t}){return tr({number:t})},size:14}),ax({name:"passive",header(){return h.jsx(D,{label:"Passive requirement (label)"})},render({value:t}){return h.jsx(NC,{value:t})},size:14})],G5=({baseBuildingId:t,table:e,...n})=>{const r=Gi({sources:[Dr,tl]});return h.jsx(zr,{table:Ur({...e,columns:K5}),action:{table(){return h.jsx(lr,{children:h.jsx(wn,{label:h.jsx(D,{label:"Create resource requirement (menu)"}),textTitle:h.jsx(D,{label:"Create resource requirement (modal)"}),icon:Nn,children:h.jsx(bO,{mutation:yo({source:tl,async wrap(i){return pn.promise(i(),{loading:h.jsx(D,{label:"Saving resource requirement (label)"}),success:h.jsx(D,{label:"Resource requirement successfully saved (label)"}),error:h.jsx(D,{label:"Cannot save resource requirement (label)"})})},async toCreate({shape:i}){return{entity:{...i,baseBuildingId:t}}}}),onSuccess:async({modalContext:i})=>{await r(),i?.close()}})})})},row({data:i}){return h.jsxs(lr,{children:[h.jsx(wn,{label:h.jsx(D,{label:"Edit resource requirement (menu)"}),textTitle:h.jsx(D,{label:"Edit resource requirement (modal)"}),icon:Nn,children:h.jsx(bO,{defaultValues:i,mutation:Bs({source:tl,async wrap(o){return pn.promise(o(),{loading:h.jsx(D,{label:"Saving resource requirement (label)"}),success:h.jsx(D,{label:"Resource requirement successfully saved (label)"}),error:h.jsx(D,{label:"Cannot save resource requirement (label)"})})},async toPatch({shape:o}){return{entity:{...o,baseBuildingId:t},filter:{id:i.id}}}}),onSuccess:async({modalContext:o})=>{await r(),o?.close()}})}),h.jsx(wn,{icon:ms,label:h.jsx(D,{label:"Delete resource requirement (label)"}),textTitle:h.jsx(D,{label:"Delete resource requirement (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:h.jsx($s,{source:tl,textContent:h.jsx(D,{label:"Resource requirement delete (content)"}),filter:{id:i.id},invalidator:r})})]})}},...n})},df=Xt("/$locale/apps/derivean/root/building/base/$id/requirement/list/")({validateSearch:xr(wr(Ay)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r,sort:i},params:{id:o}}){return e.transaction().execute(async l=>ur({tx:l,queryClient:t,source:tl,filter:n,cursor:r,sort:i||[{name:"resource",sort:"asc"}],where:{baseBuildingId:o}}))},component:()=>{const{data:t,count:e}=df.useLoaderData(),{filter:n,cursor:r,selection:i}=df.useSearch(),{id:o}=df.useParams(),l=df.useNavigate(),{tva:c}=Un({from:"__root__"}),d=c().slots;return h.jsx("div",{className:d.base(),children:h.jsx(G5,{baseBuildingId:o,table:{data:t,filter:{value:n,set:br(l)},selection:{type:"multi",value:i,set:bi(l)}},fulltext:{value:n?.fulltext,set:_r(l)},cursor:{count:e,cursor:r,textTotal:h.jsx(D,{label:"Number of items"}),...vr(l)}})})}}),_O=({mutation:t,defaultValues:e,onSuccess:n,variant:r,tva:i=hs,css:o})=>{const l=gs({resolver:ys(Ry.shape),defaultValues:{limit:0,...e}}),c=U.useContext(qi),d=i({...r,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:o}).slots;return h.jsxs("form",{className:d.base(),onSubmit:go({form:l,mutation:t,async onSuccess(m){n?.({entity:m,modalContext:c})}}),children:[h.jsx(Ki,{variant:{highlight:!0},error:l.formState.errors.root}),h.jsx(kn,{formState:l.formState,name:"resourceId",label:h.jsx(D,{label:"Resource name (label)"}),children:h.jsx(ho,{control:l.control,name:"resourceId",render:({field:{ref:m,...y}})=>h.jsx(kc,{icon:Nn,titleText:h.jsx(D,{label:"Select resource (title)"}),...y})})}),h.jsx(kn,{formState:l.formState,name:"limit",label:h.jsx(D,{label:"Limit (label)"}),children:h.jsx("input",{type:"number",className:d.input(),...l.register("limit")})}),h.jsx("div",{className:"flex flex-row justify-between gap-8",children:h.jsx(cr,{iconEnabled:Nn,type:"submit",children:h.jsx(D,{label:"Save resource limit (submit)"})})})]})},xO=Vr(),J5=[xO({name:"resource.name",header(){return h.jsx(D,{label:"Resource name (label)"})},render({value:t}){return t},size:18}),xO({name:"limit",header(){return h.jsx(D,{label:"Storage limit (label)"})},render({value:t}){return t},size:18})],Z5=({baseBuildingId:t,table:e,...n})=>{const r=Gi({sources:[el]});return h.jsx(zr,{table:Ur({...e,columns:J5}),action:{table(){return h.jsx(lr,{children:h.jsx(wn,{label:h.jsx(D,{label:"Create resource limit (menu)"}),textTitle:h.jsx(D,{label:"Create resource limit (modal)"}),icon:uw,children:h.jsx(_O,{mutation:yo({source:el,async wrap(i){return pn.promise(i(),{loading:h.jsx(D,{label:"Saving resource limit (label)"}),success:h.jsx(D,{label:"Resource limit successfully saved (label)"}),error:h.jsx(D,{label:"Cannot resource limit storage (label)"})})},async toCreate({shape:i}){return{entity:{...i,baseBuildingId:t}}}}),onSuccess:async({modalContext:i})=>{await r(),i?.close()}})})})},row({data:i}){return h.jsxs(lr,{children:[h.jsx(wn,{label:h.jsx(D,{label:"Edit base storage (menu)"}),textTitle:h.jsx(D,{label:"Edit base storage (modal)"}),icon:uw,children:h.jsx(_O,{defaultValues:i,mutation:Bs({source:el,async wrap(o){return pn.promise(o(),{loading:h.jsx(D,{label:"Saving base storage (label)"}),success:h.jsx(D,{label:"Base storage successfully saved (label)"}),error:h.jsx(D,{label:"Cannot save base storage (label)"})})},async toPatch(){return{filter:{id:i.id}}}}),onSuccess:async({modalContext:o})=>{await r(),o?.close()}})}),h.jsx(wn,{icon:ms,label:h.jsx(D,{label:"Delete base storage (label)"}),textTitle:h.jsx(D,{label:"Delete base storage (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:h.jsx($s,{source:el,textContent:h.jsx(D,{label:"Base storage delete (content)"}),filter:{id:i.id},invalidator:r})})]})}},...n})},ff=Xt("/$locale/apps/derivean/root/building/base/$id/limit/list/")({validateSearch:xr(wr(Ry)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r,sort:i},params:{id:o}}){return e.transaction().execute(async l=>ur({tx:l,queryClient:t,source:el,filter:n,cursor:r,sort:i,where:{baseBuildingId:o}}))},component(){const{data:t,count:e}=ff.useLoaderData(),{filter:n,cursor:r,selection:i}=ff.useSearch(),{id:o}=ff.useParams(),l=ff.useNavigate(),{tva:c}=Un({from:"__root__"}),d=c().slots;return h.jsx("div",{className:d.base(),children:h.jsx(Z5,{baseBuildingId:o,table:{data:t,filter:{value:n,set:br(l)},selection:{type:"multi",value:i,set:bi(l)}},fulltext:{value:n?.fulltext,set:_r(l)},cursor:{count:e,cursor:r,textTotal:h.jsx(D,{label:"Number of items"}),...vr(l)}})})}}),wO=({mutation:t,defaultValues:e,onSuccess:n,variant:r,tva:i=hs,css:o})=>{const l=gs({resolver:ys(N0.shape),defaultValues:{passive:!1,amount:0,...e}}),c=U.useContext(qi),d=i({...r,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:o}).slots;return h.jsxs("form",{className:d.base(),onSubmit:go({form:l,mutation:t,async onSuccess(m){n?.({entity:m,modalContext:c})}}),children:[h.jsx(Ki,{variant:{highlight:!0},error:l.formState.errors.root}),h.jsx(kn,{formState:l.formState,name:"resourceId",label:h.jsx(D,{label:"Resource name (label)"}),children:h.jsx(ho,{control:l.control,name:"resourceId",render:({field:{ref:m,...y}})=>h.jsx(kc,{...y})})}),h.jsx(kn,{formState:l.formState,name:"amount",label:h.jsx(D,{label:"Amount (label)"}),children:h.jsx("input",{type:"number",className:d.input(),...l.register("amount")})}),h.jsx(kn,{formState:l.formState,name:"passive",label:h.jsx(D,{label:"Passive requirement (label)"}),hint:h.jsx(D,{label:"Passive requirement (hint)"}),children:h.jsx(ho,{control:l.control,name:"passive",render:({field:{ref:m,...y}})=>h.jsx(IC,{...y})})}),h.jsx("div",{className:"flex flex-row justify-between gap-8",children:h.jsx(cr,{iconEnabled:Vu,type:"submit",children:h.jsx(D,{label:"Save production requirement (submit)"})})})]})},lx=Vr(),Y5=[lx({name:"resource.name",header(){return h.jsx(D,{label:"Resource name (label)"})},render({value:t}){return t},size:18}),lx({name:"amount",header(){return h.jsx(D,{label:"Amount (label)"})},render({value:t}){return tr({number:t})},size:14}),lx({name:"passive",header(){return h.jsx(D,{label:"Passive requirement (label)"})},render({value:t}){return h.jsx(NC,{value:t})},size:14})],X5=({baseBuildingProductionId:t,table:e,...n})=>{const r=Gi({sources:[Dr,Ds,nl]});return h.jsx(zr,{table:Ur({...e,columns:Y5}),action:{table(){return h.jsx(lr,{children:h.jsx(wn,{label:h.jsx(D,{label:"Create resource requirement (menu)"}),textTitle:h.jsx(D,{label:"Create resource requirement (modal)"}),icon:Nn,children:h.jsx(wO,{mutation:yo({source:nl,async wrap(i){return pn.promise(i(),{loading:h.jsx(D,{label:"Saving resource requirement (label)"}),success:h.jsx(D,{label:"Resource requirement successfully saved (label)"}),error:h.jsx(D,{label:"Cannot save resource requirement (label)"})})},async toCreate({shape:i}){return{entity:{...i,baseBuildingProductionId:t}}}}),onSuccess:async({modalContext:i})=>{await r(),i?.close()}})})})},row({data:i}){return h.jsxs(lr,{children:[h.jsx(wn,{label:h.jsx(D,{label:"Edit resource requirement (menu)"}),textTitle:h.jsx(D,{label:"Edit resource requirement (modal)"}),icon:Nn,children:h.jsx(wO,{defaultValues:i,mutation:Bs({source:nl,async wrap(o){return pn.promise(o(),{loading:h.jsx(D,{label:"Saving resource requirement (label)"}),success:h.jsx(D,{label:"Resource requirement successfully saved (label)"}),error:h.jsx(D,{label:"Cannot save resource requirement (label)"})})},async toPatch({shape:o}){return{entity:o,filter:{id:i.id}}}}),onSuccess:async({modalContext:o})=>{await r(),o?.close()}})}),h.jsx(wn,{icon:ms,label:h.jsx(D,{label:"Delete resource requirement (label)"}),textTitle:h.jsx(D,{label:"Delete resource requirement (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:h.jsx($s,{source:nl,textContent:h.jsx(D,{label:"Resource requirement delete (content)"}),filter:{id:i.id},invalidator:r})})]})}},...n})},pf=Xt("/$locale/apps/derivean/root/building/base/$id/production/$productionId/requirement/list")({validateSearch:xr(wr(N0)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r,sort:i},params:{productionId:o}}){return e.transaction().execute(async l=>ur({tx:l,queryClient:t,source:nl,filter:n,cursor:r,sort:i||[{name:"resource",sort:"asc"}],where:{baseBuildingProductionId:o}}))},component:()=>{const{data:t,count:e}=pf.useLoaderData(),{filter:n,cursor:r,selection:i}=pf.useSearch(),{productionId:o}=pf.useParams(),l=pf.useNavigate(),{tva:c}=Un({from:"__root__"}),d=c().slots;return h.jsx("div",{className:d.base(),children:h.jsx(X5,{baseBuildingProductionId:o,table:{data:t,filter:{value:n,set:br(l)},selection:{type:"multi",value:i,set:bi(l)}},fulltext:{value:n?.fulltext,set:_r(l)},cursor:{count:e,cursor:r,textTotal:h.jsx(D,{label:"Number of items"}),...vr(l)}})})}}),j0=KV.update({id:"/$locale",path:"/$locale",getParentRoute:()=>E0}),eH=ZV.update({id:"/",path:"/",getParentRoute:()=>E0}),tH=YV.update({id:"/",path:"/",getParentRoute:()=>j0}),ad=e8.update({id:"/apps/derivean",path:"/apps/derivean",getParentRoute:()=>j0}),Ws=r8.update({id:"/root",path:"/root",getParentRoute:()=>ad}),zo=u8.update({id:"/game",path:"/game",getParentRoute:()=>ad}),nH=m8.update({id:"/",path:"/",getParentRoute:()=>Ws}),rH=g8.update({id:"/",path:"/",getParentRoute:()=>zo}),iH=B8.update({id:"/public/register",path:"/public/register",getParentRoute:()=>ad}),sH=W8.update({id:"/public/logout",path:"/public/logout",getParentRoute:()=>ad}),oH=H8.update({id:"/public/login",path:"/public/login",getParentRoute:()=>ad}),aH=Fm.update({id:"/inventory/",path:"/inventory/",getParentRoute:()=>zo}),Rp=cR.update({id:"/user/$id",path:"/user/$id",getParentRoute:()=>Ws}),wR=X8.update({id:"/resource/$id",path:"/resource/$id",getParentRoute:()=>Ws}),P0=uR.update({id:"/building/$id",path:"/building/$id",getParentRoute:()=>Ws}),Ap=dR.update({id:"/building/$id",path:"/building/$id",getParentRoute:()=>zo}),lH=Lm.update({id:"/user/list/",path:"/user/list/",getParentRoute:()=>Ws}),cH=Dm.update({id:"/tag/list/",path:"/tag/list/",getParentRoute:()=>Ws}),uH=Mm.update({id:"/resource/list/",path:"/resource/list/",getParentRoute:()=>Ws}),dH=$m.update({id:"/inventory/default/",path:"/inventory/default/",getParentRoute:()=>Ws}),fH=l5.update({id:"/building/list/",path:"/building/list/",getParentRoute:()=>Ws}),pH=Bm.update({id:"/building/list/",path:"/building/list/",getParentRoute:()=>zo}),Nc=pR.update({id:"/building/base/$id",path:"/building/base/$id",getParentRoute:()=>Ws}),F0=hR.update({id:"/building/base/$id",path:"/building/base/$id",getParentRoute:()=>zo}),hH=g5.update({id:"/view/",path:"/view/",getParentRoute:()=>Rp}),mH=sf.update({id:"/inventory/",path:"/inventory/",getParentRoute:()=>Rp}),gH=y5.update({id:"/view/",path:"/view/",getParentRoute:()=>wR}),yH=Wm.update({id:"/building/base/list/",path:"/building/base/list/",getParentRoute:()=>Ws}),vH=_5.update({id:"/view/",path:"/view/",getParentRoute:()=>P0}),bH=zm.update({id:"/building/resource/list/",path:"/building/resource/list/",getParentRoute:()=>zo}),_H=Um.update({id:"/building/base/list/",path:"/building/base/list/",getParentRoute:()=>zo}),xH=T5.update({id:"/view/",path:"/view/",getParentRoute:()=>Ap}),wH=of.update({id:"/production/",path:"/production/",getParentRoute:()=>Ap}),SH=Vm.update({id:"/production/queue",path:"/production/queue",getParentRoute:()=>Ap}),EH=af.update({id:"/building/list/",path:"/building/list/",getParentRoute:()=>Rp}),kH=M5.update({id:"/view/",path:"/view/",getParentRoute:()=>Nc}),NH=lf.update({id:"/production/",path:"/production/",getParentRoute:()=>Nc}),IH=_R.update({id:"/edit/",path:"/edit/",getParentRoute:()=>Nc}),OH=cf.update({id:"/resource/list/",path:"/resource/list/",getParentRoute:()=>P0}),TH=Hm.update({id:"/building/queue/production/list/",path:"/building/queue/production/list/",getParentRoute:()=>zo}),qH=Qm.update({id:"/building/queue/construction/list/",path:"/building/queue/construction/list/",getParentRoute:()=>zo}),CH=V5.update({id:"/view/",path:"/view/",getParentRoute:()=>F0}),RH=Km.update({id:"/production/",path:"/production/",getParentRoute:()=>F0}),AH=uf.update({id:"/resource/list/",path:"/resource/list/",getParentRoute:()=>Ap}),jH=Gm.update({id:"/building/resource/list/",path:"/building/resource/list/",getParentRoute:()=>Rp}),PH=df.update({id:"/requirement/list/",path:"/requirement/list/",getParentRoute:()=>Nc}),FH=ff.update({id:"/limit/list/",path:"/limit/list/",getParentRoute:()=>Nc}),LH=pf.update({id:"/production/$productionId/requirement/list",path:"/production/$productionId/requirement/list",getParentRoute:()=>Nc}),DH={LocaleAppsDeriveanGameBuildingIdProductionQueueRoute:SH,LocaleAppsDeriveanGameBuildingIdProductionIndexRoute:wH,LocaleAppsDeriveanGameBuildingIdViewIndexRoute:xH,LocaleAppsDeriveanGameBuildingIdResourceListIndexRoute:AH},MH=Ap._addFileChildren(DH),$H={LocaleAppsDeriveanGameBuildingBaseIdProductionIndexRoute:RH,LocaleAppsDeriveanGameBuildingBaseIdViewIndexRoute:CH},BH=F0._addFileChildren($H),WH={LocaleAppsDeriveanGameIndexRoute:rH,LocaleAppsDeriveanGameBuildingIdRoute:MH,LocaleAppsDeriveanGameInventoryIndexRoute:aH,LocaleAppsDeriveanGameBuildingBaseIdRoute:BH,LocaleAppsDeriveanGameBuildingListIndexRoute:pH,LocaleAppsDeriveanGameBuildingBaseListIndexRoute:_H,LocaleAppsDeriveanGameBuildingResourceListIndexRoute:bH,LocaleAppsDeriveanGameBuildingQueueConstructionListIndexRoute:qH,LocaleAppsDeriveanGameBuildingQueueProductionListIndexRoute:TH},zH=zo._addFileChildren(WH),UH={LocaleAppsDeriveanRootBuildingIdViewIndexRoute:vH,LocaleAppsDeriveanRootBuildingIdResourceListIndexRoute:OH},VH=P0._addFileChildren(UH),HH={LocaleAppsDeriveanRootResourceIdViewIndexRoute:gH},QH=wR._addFileChildren(HH),KH={LocaleAppsDeriveanRootUserIdInventoryIndexRoute:mH,LocaleAppsDeriveanRootUserIdViewIndexRoute:hH,LocaleAppsDeriveanRootUserIdBuildingListIndexRoute:EH,LocaleAppsDeriveanRootUserIdBuildingResourceListIndexRoute:jH},GH=Rp._addFileChildren(KH),JH={LocaleAppsDeriveanRootBuildingBaseIdEditIndexRoute:IH,LocaleAppsDeriveanRootBuildingBaseIdProductionIndexRoute:NH,LocaleAppsDeriveanRootBuildingBaseIdViewIndexRoute:kH,LocaleAppsDeriveanRootBuildingBaseIdLimitListIndexRoute:FH,LocaleAppsDeriveanRootBuildingBaseIdRequirementListIndexRoute:PH,LocaleAppsDeriveanRootBuildingBaseIdProductionProductionIdRequirementListRoute:LH},ZH=Nc._addFileChildren(JH),YH={LocaleAppsDeriveanRootIndexRoute:nH,LocaleAppsDeriveanRootBuildingIdRoute:VH,LocaleAppsDeriveanRootResourceIdRoute:QH,LocaleAppsDeriveanRootUserIdRoute:GH,LocaleAppsDeriveanRootBuildingBaseIdRoute:ZH,LocaleAppsDeriveanRootBuildingListIndexRoute:fH,LocaleAppsDeriveanRootInventoryDefaultIndexRoute:dH,LocaleAppsDeriveanRootResourceListIndexRoute:uH,LocaleAppsDeriveanRootTagListIndexRoute:cH,LocaleAppsDeriveanRootUserListIndexRoute:lH,LocaleAppsDeriveanRootBuildingBaseListIndexRoute:yH},XH=Ws._addFileChildren(YH),eQ={LocaleAppsDeriveanGameRoute:zH,LocaleAppsDeriveanRootRoute:XH,LocaleAppsDeriveanPublicLoginRoute:oH,LocaleAppsDeriveanPublicLogoutRoute:sH,LocaleAppsDeriveanPublicRegisterRoute:iH},tQ=ad._addFileChildren(eQ),nQ={LocaleIndexRoute:tH,LocaleAppsDeriveanRoute:tQ},rQ=j0._addFileChildren(nQ),iQ={IndexRoute:eH,LocaleRoute:rQ},sQ=E0._addFileChildren(iQ)._addFileTypes(),SR=new KA({defaultOptions:{queries:{placeholderData:PA}}}),oQ=Uj({routeTree:sQ,context:{queryClient:SR,tva:$W,async session(){return qy.parse(null)},kysely:zn},defaultPendingComponent:mV,defaultPreload:"intent",defaultPreloadStaleTime:0,defaultPendingMinMs:200}),SO=document.getElementById("app");K2({limit:{maxRequests:10,perMilliseconds:100}});SO.innerHTML||VV.createRoot(SO).render(h.jsx(ej,{client:SR,children:h.jsx(mP,{router:oQ})}))})();