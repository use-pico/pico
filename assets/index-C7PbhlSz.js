(async()=>{function oA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var zl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function aA(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var ib={exports:{}},Pd={},sb={exports:{}},_n={};var RE;function lA(){if(RE)return _n;RE=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function N(K){return K===null||typeof K!="object"?null:(K=_&&K[_]||K["@@iterator"],typeof K=="function"?K:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,T={};function A(K,xe,ut){this.props=K,this.context=xe,this.refs=T,this.updater=ut||k}A.prototype.isReactComponent={},A.prototype.setState=function(K,xe){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,xe,"setState")},A.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function D(){}D.prototype=A.prototype;function P(K,xe,ut){this.props=K,this.context=xe,this.refs=T,this.updater=ut||k}var L=P.prototype=new D;L.constructor=P,q(L,A.prototype),L.isPureReactComponent=!0;var V=Array.isArray,J=Object.prototype.hasOwnProperty,W={current:null},Z={key:!0,ref:!0,__self:!0,__source:!0};function oe(K,xe,ut){var at,ft={},dt=null,pt=null;if(xe!=null)for(at in xe.ref!==void 0&&(pt=xe.ref),xe.key!==void 0&&(dt=""+xe.key),xe)J.call(xe,at)&&!Z.hasOwnProperty(at)&&(ft[at]=xe[at]);var vt=arguments.length-2;if(vt===1)ft.children=ut;else if(1<vt){for(var At=Array(vt),mt=0;mt<vt;mt++)At[mt]=arguments[mt+2];ft.children=At}if(K&&K.defaultProps)for(at in vt=K.defaultProps,vt)ft[at]===void 0&&(ft[at]=vt[at]);return{$$typeof:t,type:K,key:dt,ref:pt,props:ft,_owner:W.current}}function U(K,xe){return{$$typeof:t,type:K.type,key:xe,ref:K.ref,props:K.props,_owner:K._owner}}function ne(K){return typeof K=="object"&&K!==null&&K.$$typeof===t}function B(K){var xe={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(ut){return xe[ut]})}var se=/\/+/g;function X(K,xe){return typeof K=="object"&&K!==null&&K.key!=null?B(""+K.key):xe.toString(36)}function fe(K,xe,ut,at,ft){var dt=typeof K;(dt==="undefined"||dt==="boolean")&&(K=null);var pt=!1;if(K===null)pt=!0;else switch(dt){case"string":case"number":pt=!0;break;case"object":switch(K.$$typeof){case t:case e:pt=!0}}if(pt)return pt=K,ft=ft(pt),K=at===""?"."+X(pt,0):at,V(ft)?(ut="",K!=null&&(ut=K.replace(se,"$&/")+"/"),fe(ft,xe,ut,"",function(mt){return mt})):ft!=null&&(ne(ft)&&(ft=U(ft,ut+(!ft.key||pt&&pt.key===ft.key?"":(""+ft.key).replace(se,"$&/")+"/")+K)),xe.push(ft)),1;if(pt=0,at=at===""?".":at+":",V(K))for(var vt=0;vt<K.length;vt++){dt=K[vt];var At=at+X(dt,vt);pt+=fe(dt,xe,ut,At,ft)}else if(At=N(K),typeof At=="function")for(K=At.call(K),vt=0;!(dt=K.next()).done;)dt=dt.value,At=at+X(dt,vt++),pt+=fe(dt,xe,ut,At,ft);else if(dt==="object")throw xe=String(K),Error("Objects are not valid as a React child (found: "+(xe==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":xe)+"). If you meant to render a collection of children, use an array instead.");return pt}function Ee(K,xe,ut){if(K==null)return K;var at=[],ft=0;return fe(K,at,"","",function(dt){return xe.call(ut,dt,ft++)}),at}function Oe(K){if(K._status===-1){var xe=K._result;xe=xe(),xe.then(function(ut){(K._status===0||K._status===-1)&&(K._status=1,K._result=ut)},function(ut){(K._status===0||K._status===-1)&&(K._status=2,K._result=ut)}),K._status===-1&&(K._status=0,K._result=xe)}if(K._status===1)return K._result.default;throw K._result}var je={current:null},ve={transition:null},pe={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:ve,ReactCurrentOwner:W};function Ne(){throw Error("act(...) is not supported in production builds of React.")}return _n.Children={map:Ee,forEach:function(K,xe,ut){Ee(K,function(){xe.apply(this,arguments)},ut)},count:function(K){var xe=0;return Ee(K,function(){xe++}),xe},toArray:function(K){return Ee(K,function(xe){return xe})||[]},only:function(K){if(!ne(K))throw Error("React.Children.only expected to receive a single React element child.");return K}},_n.Component=A,_n.Fragment=n,_n.Profiler=i,_n.PureComponent=P,_n.StrictMode=r,_n.Suspense=d,_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,_n.act=Ne,_n.cloneElement=function(K,xe,ut){if(K==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+K+".");var at=q({},K.props),ft=K.key,dt=K.ref,pt=K._owner;if(xe!=null){if(xe.ref!==void 0&&(dt=xe.ref,pt=W.current),xe.key!==void 0&&(ft=""+xe.key),K.type&&K.type.defaultProps)var vt=K.type.defaultProps;for(At in xe)J.call(xe,At)&&!Z.hasOwnProperty(At)&&(at[At]=xe[At]===void 0&&vt!==void 0?vt[At]:xe[At])}var At=arguments.length-2;if(At===1)at.children=ut;else if(1<At){vt=Array(At);for(var mt=0;mt<At;mt++)vt[mt]=arguments[mt+2];at.children=vt}return{$$typeof:t,type:K.type,key:ft,ref:dt,props:at,_owner:pt}},_n.createContext=function(K){return K={$$typeof:l,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},K.Provider={$$typeof:o,_context:K},K.Consumer=K},_n.createElement=oe,_n.createFactory=function(K){var xe=oe.bind(null,K);return xe.type=K,xe},_n.createRef=function(){return{current:null}},_n.forwardRef=function(K){return{$$typeof:c,render:K}},_n.isValidElement=ne,_n.lazy=function(K){return{$$typeof:y,_payload:{_status:-1,_result:K},_init:Oe}},_n.memo=function(K,xe){return{$$typeof:m,type:K,compare:xe===void 0?null:xe}},_n.startTransition=function(K){var xe=ve.transition;ve.transition={};try{K()}finally{ve.transition=xe}},_n.unstable_act=Ne,_n.useCallback=function(K,xe){return je.current.useCallback(K,xe)},_n.useContext=function(K){return je.current.useContext(K)},_n.useDebugValue=function(){},_n.useDeferredValue=function(K){return je.current.useDeferredValue(K)},_n.useEffect=function(K,xe){return je.current.useEffect(K,xe)},_n.useId=function(){return je.current.useId()},_n.useImperativeHandle=function(K,xe,ut){return je.current.useImperativeHandle(K,xe,ut)},_n.useInsertionEffect=function(K,xe){return je.current.useInsertionEffect(K,xe)},_n.useLayoutEffect=function(K,xe){return je.current.useLayoutEffect(K,xe)},_n.useMemo=function(K,xe){return je.current.useMemo(K,xe)},_n.useReducer=function(K,xe,ut){return je.current.useReducer(K,xe,ut)},_n.useRef=function(K){return je.current.useRef(K)},_n.useState=function(K){return je.current.useState(K)},_n.useSyncExternalStore=function(K,xe,ut){return je.current.useSyncExternalStore(K,xe,ut)},_n.useTransition=function(){return je.current.useTransition()},_n.version="18.3.1",_n}var AE;function Kf(){return AE||(AE=1,sb.exports=lA()),sb.exports}var jE;function cA(){if(jE)return Pd;jE=1;var t=Kf(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,m){var y,_={},N=null,k=null;m!==void 0&&(N=""+m),d.key!==void 0&&(N=""+d.key),d.ref!==void 0&&(k=d.ref);for(y in d)r.call(d,y)&&!o.hasOwnProperty(y)&&(_[y]=d[y]);if(c&&c.defaultProps)for(y in d=c.defaultProps,d)_[y]===void 0&&(_[y]=d[y]);return{$$typeof:e,type:c,key:N,ref:k,props:_,_owner:i.current}}return Pd.Fragment=n,Pd.jsx=l,Pd.jsxs=l,Pd}var PE;function uA(){return PE||(PE=1,ib.exports=cA()),ib.exports}var h=uA(),Lu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Yl=typeof window>"u"||"Deno"in globalThis;function Ns(){}function dA(t,e){return typeof t=="function"?t(e):t}function K_(t){return typeof t=="number"&&t>=0&&t!==1/0}function GI(t,e){return Math.max(t+(e||0)-Date.now(),0)}function cu(t,e){return typeof t=="function"?t(e):t}function Zs(t,e){return typeof t=="function"?t(e):t}function FE(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:l,stale:c}=t;if(l){if(r){if(e.queryHash!==Xx(l,e.options))return!1}else if(!yf(e.queryKey,l))return!1}if(n!=="all"){const d=e.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||i&&i!==e.state.fetchStatus||o&&!o(e))}function LE(t,e){const{exact:n,status:r,predicate:i,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(Xl(e.options.mutationKey)!==Xl(o))return!1}else if(!yf(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function Xx(t,e){return(e?.queryKeyHashFn||Xl)(t)}function Xl(t){return JSON.stringify(t,(e,n)=>G_(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function yf(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!yf(t[n],e[n])):!1}function ew(t,e){if(t===e)return t;const n=DE(t)&&DE(e);if(n||G_(t)&&G_(e)){const r=n?t:Object.keys(t),i=r.length,o=n?e:Object.keys(e),l=o.length,c=n?[]:{};let d=0;for(let m=0;m<l;m++){const y=n?m:o[m];(!n&&r.includes(y)||n)&&t[y]===void 0&&e[y]===void 0?(c[y]=void 0,d++):(c[y]=ew(t[y],e[y]),c[y]===t[y]&&t[y]!==void 0&&d++)}return i===l&&d===i?t:c}return e}function Am(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function DE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function G_(t){if(!ME(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!ME(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function ME(t){return Object.prototype.toString.call(t)==="[object Object]"}function fA(t){return new Promise(e=>{setTimeout(e,t)})}function J_(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?ew(t,e):e}function pA(t){return t}function hA(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function mA(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var tw=Symbol();function JI(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===tw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var gA=class extends Lu{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Yl&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},nw=new gA,yA=class extends Lu{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Yl&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},jm=new yA;function Z_(){let t,e;const n=new Promise((i,o)=>{t=i,e=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function vA(t){return Math.min(1e3*2**t,3e4)}function ZI(t){return(t??"online")==="online"?jm.isOnline():!0}var YI=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function ob(t){return t instanceof YI}function XI(t){let e=!1,n=0,r=!1,i;const o=Z_(),l=T=>{r||(N(new YI(T)),t.abort?.())},c=()=>{e=!0},d=()=>{e=!1},m=()=>nw.isFocused()&&(t.networkMode==="always"||jm.isOnline())&&t.canRun(),y=()=>ZI(t.networkMode)&&t.canRun(),_=T=>{r||(r=!0,t.onSuccess?.(T),i?.(),o.resolve(T))},N=T=>{r||(r=!0,t.onError?.(T),i?.(),o.reject(T))},k=()=>new Promise(T=>{i=A=>{(r||m())&&T(A)},t.onPause?.()}).then(()=>{i=void 0,r||t.onContinue?.()}),q=()=>{if(r)return;let T;const A=n===0?t.initialPromise:void 0;try{T=A??t.fn()}catch(D){T=Promise.reject(D)}Promise.resolve(T).then(_).catch(D=>{if(r)return;const P=t.retry??(Yl?0:3),L=t.retryDelay??vA,V=typeof L=="function"?L(n,D):L,J=P===!0||typeof P=="number"&&n<P||typeof P=="function"&&P(n,D);if(e||!J){N(D);return}n++,t.onFail?.(n,D),fA(V).then(()=>m()?void 0:k()).then(()=>{e?N(D):q()})})};return{promise:o,cancel:l,continue:()=>(i?.(),o),cancelRetry:c,continueRetry:d,canStart:y,start:()=>(y()?q():k().then(q),o)}}function bA(){let t=[],e=0,n=c=>{c()},r=c=>{c()},i=c=>setTimeout(c,0);const o=c=>{e?t.push(c):i(()=>{n(c)})},l=()=>{const c=t;t=[],c.length&&i(()=>{r(()=>{c.forEach(d=>{n(d)})})})};return{batch:c=>{let d;e++;try{d=c()}finally{e--,e||l()}return d},batchCalls:c=>(...d)=>{o(()=>{c(...d)})},schedule:o,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{i=c}}}var Rr=bA(),eq=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),K_(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Yl?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},_A=class extends eq{#e;#t;#n;#r;#i;#s;constructor(t){super(),this.#s=!1,this.#i=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=xA(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){this.options={...this.#i,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=J_(this.state.data,t,this.options);return this.#o({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#o({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(Ns).catch(Ns):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Zs(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===tw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!GI(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#s?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const c=this.observers.find(d=>d.options.queryFn);c&&this.setOptions(c.options)}const n=new AbortController,r=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#s=!0,n.signal)})},i=()=>{const c=JI(this.options,e),d={queryKey:this.queryKey,meta:this.meta};return r(d),this.#s=!1,this.options.persister?this.options.persister(c,d,this):c(d)},o={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};r(o),this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#o({type:"fetch",meta:o.fetchOptions?.meta});const l=c=>{ob(c)&&c.silent||this.#o({type:"error",error:c}),ob(c)||(this.#n.config.onError?.(c,this),this.#n.config.onSettled?.(this.state.data,c,this)),this.scheduleGc()};return this.#r=XI({initialPromise:e?.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:c=>{if(c===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(c)}catch(d){l(d);return}this.#n.config.onSuccess?.(c,this),this.#n.config.onSettled?.(c,this.state.error,this),this.scheduleGc()},onError:l,onFail:(c,d)=>{this.#o({type:"failed",failureCount:c,error:d})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#r.start()}#o(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...tq(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return ob(r)&&r.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Rr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function tq(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ZI(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function xA(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var wA=class extends Lu{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??Xx(r,e);let o=this.get(i);return o||(o=new _A({cache:this,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Rr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>FE(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>FE(t,n)):e}notify(t){Rr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Rr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Rr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},SA=class extends eq{#e;#t;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||nq(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){this.#n=XI({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(r,i)=>{this.#r({type:"failed",failureCount:r,error:i})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const e=this.state.status==="pending",n=!this.#n.canStart();try{if(!e){this.#r({type:"pending",variables:t,isPaused:n}),await this.#t.config.onMutate?.(t,this);const i=await this.options.onMutate?.(t);i!==this.state.context&&this.#r({type:"pending",context:i,variables:t,isPaused:n})}const r=await this.#n.start();return await this.#t.config.onSuccess?.(r,t,this.state.context,this),await this.options.onSuccess?.(r,t,this.state.context),await this.#t.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,t,this.state.context),this.#r({type:"success",data:r}),r}catch(r){try{throw await this.#t.config.onError?.(r,t,this.state.context,this),await this.options.onError?.(r,t,this.state.context),await this.#t.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,t,this.state.context),r}finally{this.#r({type:"error",error:r})}}finally{this.#t.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Rr.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function nq(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var EA=class extends Lu{constructor(t={}){super(),this.config=t,this.#e=new Map,this.#t=Date.now()}#e;#t;build(t,e,n){const r=new SA({mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){const e=Ih(t),n=this.#e.get(e)??[];n.push(t),this.#e.set(e,n),this.notify({type:"added",mutation:t})}remove(t){const e=Ih(t);if(this.#e.has(e)){const n=this.#e.get(e)?.filter(r=>r!==t);n&&(n.length===0?this.#e.delete(e):this.#e.set(e,n))}this.notify({type:"removed",mutation:t})}canRun(t){const e=this.#e.get(Ih(t))?.find(n=>n.state.status==="pending");return!e||e===t}runNext(t){return this.#e.get(Ih(t))?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve()}clear(){Rr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...this.#e.values()].flat()}find(t){const e={exact:!0,...t};return this.getAll().find(n=>LE(e,n))}findAll(t={}){return this.getAll().filter(e=>LE(t,e))}notify(t){Rr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Rr.batch(()=>Promise.all(t.map(e=>e.continue().catch(Ns))))}};function Ih(t){return t.options.scope?.id??String(t.mutationId)}function BE(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],l=e.state.data?.pageParams||[];let c={pages:[],pageParams:[]},d=0;const m=async()=>{let y=!1;const _=q=>{Object.defineProperty(q,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},N=JI(e.options,e.fetchOptions),k=async(q,T,A)=>{if(y)return Promise.reject();if(T==null&&q.pages.length)return Promise.resolve(q);const D={queryKey:e.queryKey,pageParam:T,direction:A?"backward":"forward",meta:e.options.meta};_(D);const P=await N(D),{maxPages:L}=e.options,V=A?mA:hA;return{pages:V(q.pages,P,L),pageParams:V(q.pageParams,T,L)}};if(i&&o.length){const q=i==="backward",T=q?NA:$E,A={pages:o,pageParams:l},D=T(r,A);c=await k(A,D,q)}else{const q=t??o.length;do{const T=d===0?l[0]??r.initialPageParam:$E(r,c);if(d>0&&T==null)break;c=await k(c,T),d++}while(d<q)}return c};e.options.persister?e.fetchFn=()=>e.options.persister?.(m,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=m}}}function $E(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function NA(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var kA=class{#e;#t;#n;#r;#i;#s;#o;#a;constructor(t={}){this.#e=t.queryCache||new wA,this.#t=t.mutationCache||new EA,this.#n=t.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=nw.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=jm.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(cu(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(r.queryHash)?.state.data,l=dA(e,o);if(l!==void 0)return this.#e.build(this,r).setData(l,{...n,manual:!0})}setQueriesData(t,e,n){return Rr.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Rr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e,r={type:"active",...t};return Rr.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Rr.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Ns).catch(Ns)}invalidateQueries(t,e={}){return Rr.batch(()=>{if(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none")return Promise.resolve();const n={...t,type:t?.refetchType??t?.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Rr.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(Ns)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Ns)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(cu(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ns).catch(Ns)}fetchInfiniteQuery(t){return t.behavior=BE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ns).catch(Ns)}ensureInfiniteQueryData(t){return t.behavior=BE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return jm.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(Xl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{yf(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#i.set(Xl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()];let n={};return e.forEach(r=>{yf(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Xx(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===tw&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},IA=class extends Lu{constructor(t,e){super(),this.options=e,this.#e=t,this.#a=null,this.#o=Z_(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#r=void 0;#i;#s;#o;#a;#c;#l;#u;#d;#p;#f;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),WE(this.#t,this.options)?this.#h():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Y_(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Y_(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#_(),this.#x(),this.#t.removeObserver(this)}setOptions(t,e){const n=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Zs(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),n._defaulted&&!Am(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&zE(this.#t,r,this.options,n)&&this.#h(),this.updateResult(e),i&&(this.#t!==r||Zs(this.options.enabled,this.#t)!==Zs(n.enabled,this.#t)||cu(this.options.staleTime,this.#t)!==cu(n.staleTime,this.#t))&&this.#g();const o=this.#y();i&&(this.#t!==r||Zs(this.options.enabled,this.#t)!==Zs(n.enabled,this.#t)||o!==this.#f)&&this.#v(o)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return TA(this,n)&&(this.#r=n,this.#s=this.options,this.#i=this.#t.state),n}getCurrentResult(){return this.#r}trackResult(t,e){const n={};return Object.keys(t).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),e?.(r),t[r])})}),n}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#h({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#h(t){this.#w();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Ns)),e}#g(){this.#_();const t=cu(this.options.staleTime,this.#t);if(Yl||this.#r.isStale||!K_(t))return;const n=GI(this.#r.dataUpdatedAt,t)+1;this.#d=setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#x(),this.#f=t,!(Yl||Zs(this.options.enabled,this.#t)===!1||!K_(this.#f)||this.#f===0)&&(this.#p=setInterval(()=>{(this.options.refetchIntervalInBackground||nw.isFocused())&&this.#h()},this.#f))}#b(){this.#g(),this.#v(this.#y())}#_(){this.#d&&(clearTimeout(this.#d),this.#d=void 0)}#x(){this.#p&&(clearInterval(this.#p),this.#p=void 0)}createResult(t,e){const n=this.#t,r=this.options,i=this.#r,o=this.#i,l=this.#s,d=t!==n?t.state:this.#n,{state:m}=t;let y={...m},_=!1,N;if(e._optimisticResults){const Z=this.hasListeners(),oe=!Z&&WE(t,e),U=Z&&zE(t,n,e,r);(oe||U)&&(y={...y,...tq(m.data,t.options)}),e._optimisticResults==="isRestoring"&&(y.fetchStatus="idle")}let{error:k,errorUpdatedAt:q,status:T}=y;if(e.select&&y.data!==void 0)if(i&&y.data===o?.data&&e.select===this.#c)N=this.#l;else try{this.#c=e.select,N=e.select(y.data),N=J_(i?.data,N,e),this.#l=N,this.#a=null}catch(Z){this.#a=Z}else N=y.data;if(e.placeholderData!==void 0&&N===void 0&&T==="pending"){let Z;if(i?.isPlaceholderData&&e.placeholderData===l?.placeholderData)Z=i.data;else if(Z=typeof e.placeholderData=="function"?e.placeholderData(this.#u?.state.data,this.#u):e.placeholderData,e.select&&Z!==void 0)try{Z=e.select(Z),this.#a=null}catch(oe){this.#a=oe}Z!==void 0&&(T="success",N=J_(i?.data,Z,e),_=!0)}this.#a&&(k=this.#a,N=this.#l,q=Date.now(),T="error");const A=y.fetchStatus==="fetching",D=T==="pending",P=T==="error",L=D&&A,V=N!==void 0,W={status:T,fetchStatus:y.fetchStatus,isPending:D,isSuccess:T==="success",isError:P,isInitialLoading:L,isLoading:L,data:N,dataUpdatedAt:y.dataUpdatedAt,error:k,errorUpdatedAt:q,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>d.dataUpdateCount||y.errorUpdateCount>d.errorUpdateCount,isFetching:A,isRefetching:A&&!D,isLoadingError:P&&!V,isPaused:y.fetchStatus==="paused",isPlaceholderData:_,isRefetchError:P&&V,isStale:rw(t,e),refetch:this.refetch,promise:this.#o};if(this.options.experimental_prefetchInRender){const Z=ne=>{W.status==="error"?ne.reject(W.error):W.data!==void 0&&ne.resolve(W.data)},oe=()=>{const ne=this.#o=W.promise=Z_();Z(ne)},U=this.#o;switch(U.status){case"pending":t.queryHash===n.queryHash&&Z(U);break;case"fulfilled":(W.status==="error"||W.data!==U.value)&&oe();break;case"rejected":(W.status!=="error"||W.error!==U.reason)&&oe();break}}return W}updateResult(t){const e=this.#r,n=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#s=this.options,this.#i.data!==void 0&&(this.#u=this.#t),Am(n,e))return;this.#r=n;const r={},i=()=>{if(!e)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!this.#m.size)return!0;const c=new Set(l??this.#m);return this.options.throwOnError&&c.add("error"),Object.keys(this.#r).some(d=>{const m=d;return this.#r[m]!==e[m]&&c.has(m)})};t?.listeners!==!1&&i()&&(r.listeners=!0),this.#S({...r,...t})}#w(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#S(t){Rr.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function qA(t,e){return Zs(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function WE(t,e){return qA(t,e)||t.state.data!==void 0&&Y_(t,e,e.refetchOnMount)}function Y_(t,e,n){if(Zs(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&rw(t,e)}return!1}function zE(t,e,n,r){return(t!==e||Zs(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&rw(t,n)}function rw(t,e){return Zs(e.enabled,t)!==!1&&t.isStaleByTime(cu(e.staleTime,t))}function TA(t,e){return!Am(t.getCurrentResult(),e)}var OA=class extends Lu{#e;#t=void 0;#n;#r;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),Am(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Xl(n.mutationKey)!==Xl(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#s(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#s()}mutate(e,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#i(){const e=this.#n?.state??nq();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#s(e){Rr.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,n,r),this.#r.onSettled?.(e.data,null,n,r)):e?.type==="error"&&(this.#r.onError?.(e.error,n,r),this.#r.onSettled?.(void 0,e.error,n,r))}this.listeners.forEach(n=>{n(this.#t)})})}},Q=Kf();const An=Fo(Q),CA=oA({__proto__:null,default:An},[Q]);var rq=Q.createContext(void 0),Ig=t=>{const e=Q.useContext(rq);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},RA=({client:t,children:e})=>(Q.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),h.jsx(rq.Provider,{value:t,children:e})),iq=Q.createContext(!1),AA=()=>Q.useContext(iq);iq.Provider;function jA(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var PA=Q.createContext(jA()),FA=()=>Q.useContext(PA);function sq(t,e){return typeof t=="function"?t(...e):!!t}function X_(){}var LA=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},DA=t=>{Q.useEffect(()=>{t.clearReset()},[t])},MA=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&sq(n,[t.error,r]),BA=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},$A=(t,e)=>t.isLoading&&t.isFetching&&!e,WA=(t,e)=>t?.suspense&&e.isPending,UE=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function zA(t,e,n){const r=Ig(),i=AA(),o=FA(),l=r.defaultQueryOptions(t);r.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=i?"isRestoring":"optimistic",BA(l),LA(l,o),DA(o);const c=!r.getQueryCache().get(l.queryHash),[d]=Q.useState(()=>new e(r,l)),m=d.getOptimisticResult(l);if(Q.useSyncExternalStore(Q.useCallback(y=>{const _=i?X_:d.subscribe(Rr.batchCalls(y));return d.updateResult(),_},[d,i]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),Q.useEffect(()=>{d.setOptions(l,{listeners:!1})},[l,d]),WA(l,m))throw UE(l,d,o);if(MA({result:m,errorResetBoundary:o,throwOnError:l.throwOnError,query:r.getQueryCache().get(l.queryHash)}))throw m.error;return r.getDefaultOptions().queries?._experimental_afterQuery?.(l,m),l.experimental_prefetchInRender&&!Yl&&$A(m,i)&&(c?UE(l,d,o):r.getQueryCache().get(l.queryHash)?.promise)?.catch(X_).finally(()=>{d.updateResult()}),l.notifyOnChangeProps?m:d.trackResult(m)}function Pm(t,e){return zA(t,IA)}function VE(t,e){return t.findAll(e.filters).map(n=>e.select?e.select(n):n.state)}function UA(t={},e){const n=Ig().getMutationCache(),r=Q.useRef(t),i=Q.useRef(null);return i.current||(i.current=VE(n,t)),Q.useEffect(()=>{r.current=t}),Q.useSyncExternalStore(Q.useCallback(o=>n.subscribe(()=>{const l=ew(i.current,VE(n,r.current));i.current!==l&&(i.current=l,Rr.schedule(o))}),[n]),()=>i.current,()=>i.current)}function Dn(t,e){const n=Ig(),[r]=Q.useState(()=>new OA(n,t));Q.useEffect(()=>{r.setOptions(t)},[r,t]);const i=Q.useSyncExternalStore(Q.useCallback(l=>r.subscribe(Rr.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=Q.useCallback((l,c)=>{r.mutate(l,c).catch(X_)},[r]);if(i.error&&sq(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}const HE="popstate",QE="beforeunload";function oq(t){let e=t.getLocation();const n=new Set,r=l=>{e=t.getLocation(),n.forEach(c=>c({location:e,action:l}))},i=()=>{e=t.getLocation(),n.forEach(l=>l({location:e,action:{type:"ROLLBACK"}}))},o=async({task:l,navigateOpts:c,...d})=>{var m,y;if(c?.ignoreBlocker??!1){l();return}const N=((m=t.getBlockers)==null?void 0:m.call(t))??[],k=d.type==="PUSH"||d.type==="REPLACE";if(typeof document<"u"&&N.length&&k)for(const q of N){const T=vf(d.path,d.state);if(await q.blockerFn({currentLocation:e,nextLocation:T,action:d.type})){(y=t.onBlocked)==null||y.call(t,i);return}}l()};return{get location(){return e},get length(){return t.getLength()},subscribers:n,subscribe:l=>(n.add(l),()=>{n.delete(l)}),push:(l,c,d)=>{c=KE(c),o({task:()=>{t.pushState(l,c),r({type:"PUSH"})},navigateOpts:d,type:"PUSH",path:l,state:c})},replace:(l,c,d)=>{c=KE(c),o({task:()=>{t.replaceState(l,c),r({type:"REPLACE"})},navigateOpts:d,type:"REPLACE",path:l,state:c})},go:(l,c)=>{o({task:()=>{t.go(l),r({type:"GO",index:l})},navigateOpts:c,type:"GO"})},back:l=>{o({task:()=>{t.back(l?.ignoreBlocker??!1),r({type:"BACK"})},navigateOpts:l,type:"BACK"})},forward:l=>{o({task:()=>{t.forward(l?.ignoreBlocker??!1),r({type:"FORWARD"})},navigateOpts:l,type:"FORWARD"})},createHref:l=>t.createHref(l),block:l=>{var c;if(!t.setBlockers)return()=>{};const d=((c=t.getBlockers)==null?void 0:c.call(t))??[];return t.setBlockers([...d,l]),()=>{var m,y;const _=((m=t.getBlockers)==null?void 0:m.call(t))??[];(y=t.setBlockers)==null||y.call(t,_.filter(N=>N!==l))}},flush:()=>{var l;return(l=t.flush)==null?void 0:l.call(t)},destroy:()=>{var l;return(l=t.destroy)==null?void 0:l.call(t)},notify:r}}function KE(t){return t||(t={}),{...t,key:QA()}}function VA(t){const e=typeof document<"u"?window:void 0,n=e.history.pushState,r=e.history.replaceState;let i=[];const o=()=>i,l=Z=>i=Z,c=Z=>Z,d=()=>vf(`${e.location.pathname}${e.location.search}${e.location.hash}`,e.history.state);let m=d(),y,_=!1,N=!1,k=!1;const q=()=>m;let T,A;const D=()=>{T&&(W._ignoreSubscribers=!0,(T.isPush?e.history.pushState:e.history.replaceState)(T.state,"",T.href),W._ignoreSubscribers=!1,T=void 0,A=void 0,y=void 0)},P=(Z,oe,U)=>{const ne=c(oe);A||(y=m),m=vf(oe,U),T={href:ne,state:U,isPush:T?.isPush||Z==="push"},A||(A=Promise.resolve().then(()=>D()))},L=()=>{m=d(),W.notify({type:"POP"})},V=async()=>{if(_){_=!1;return}if(N)N=!1;else{const Z=o();if(typeof document<"u"&&Z.length)for(const oe of Z){const U=d();if(await oe.blockerFn({currentLocation:m,nextLocation:U,action:"POP"})){_=!0,e.history.go(1),W.notify({type:"POP"});return}}}m=d(),W.notify({type:"POP"})},J=Z=>{if(k){k=!1;return}let oe=!1;const U=o();if(typeof document<"u"&&U.length)for(const ne of U){const B=ne.enableBeforeUnload??!0;if(B===!0){oe=!0;break}if(typeof B=="function"&&B()===!0){oe=!0;break}}if(oe)return Z.preventDefault(),Z.returnValue=""},W=oq({getLocation:q,getLength:()=>e.history.length,pushState:(Z,oe)=>P("push",Z,oe),replaceState:(Z,oe)=>P("replace",Z,oe),back:Z=>(Z&&(N=!0),k=!0,e.history.back()),forward:Z=>{Z&&(N=!0),k=!0,e.history.forward()},go:Z=>e.history.go(Z),createHref:Z=>c(Z),flush:D,destroy:()=>{e.history.pushState=n,e.history.replaceState=r,e.removeEventListener(QE,J,{capture:!0}),e.removeEventListener(HE,V)},onBlocked:Z=>{y&&m!==y&&(m=y,Z())},getBlockers:o,setBlockers:l});return e.addEventListener(QE,J,{capture:!0}),e.addEventListener(HE,V),e.history.pushState=function(...Z){const oe=n.apply(e.history,Z);return W._ignoreSubscribers||L(),oe},e.history.replaceState=function(...Z){const oe=r.apply(e.history,Z);return W._ignoreSubscribers||L(),oe},W}function HA(t={initialEntries:["/"]}){const e=t.initialEntries;let n=t.initialIndex??e.length-1;const r=e.map(()=>({}));return oq({getLocation:()=>vf(e[n],r[n]),getLength:()=>e.length,pushState:(o,l)=>{n<e.length-1&&(e.splice(n+1),r.splice(n+1)),r.push(l),e.push(o),n=Math.max(e.length-1,0)},replaceState:(o,l)=>{r[n]=l,e[n]=o},back:()=>{n=Math.max(n-1,0)},forward:()=>{n=Math.min(n+1,e.length-1)},go:o=>{n=Math.min(Math.max(n+o,0),e.length-1)},createHref:o=>o})}function vf(t,e){const n=t.indexOf("#"),r=t.indexOf("?");return{href:t,pathname:t.substring(0,n>0?r>0?Math.min(n,r):n:r>0?r:t.length),hash:n>-1?t.substring(n):"",search:r>-1?t.slice(r,n===-1?void 0:n):"",state:e||{}}}function QA(){return(Math.random()+1).toString(36).substring(7)}var KA="Invariant failed";function Xi(t,e){if(!t)throw new Error(KA)}const ab=Q.createContext(null);function aq(){return typeof document>"u"?ab:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=ab,ab)}function ao(t){const e=Q.useContext(aq());return t?.warn,e}var lb={exports:{}},cb={},ub={exports:{}},db={};var GE;function GA(){if(GE)return db;GE=1;var t=Kf();function e(_,N){return _===N&&(_!==0||1/_===1/N)||_!==_&&N!==N}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,l=t.useDebugValue;function c(_,N){var k=N(),q=r({inst:{value:k,getSnapshot:N}}),T=q[0].inst,A=q[1];return o(function(){T.value=k,T.getSnapshot=N,d(T)&&A({inst:T})},[_,k,N]),i(function(){return d(T)&&A({inst:T}),_(function(){d(T)&&A({inst:T})})},[_]),l(k),k}function d(_){var N=_.getSnapshot;_=_.value;try{var k=N();return!n(_,k)}catch{return!0}}function m(_,N){return N()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:c;return db.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:y,db}var JE;function JA(){return JE||(JE=1,ub.exports=GA()),ub.exports}var ZE;function ZA(){if(ZE)return cb;ZE=1;var t=Kf(),e=JA();function n(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,l=t.useEffect,c=t.useMemo,d=t.useDebugValue;return cb.useSyncExternalStoreWithSelector=function(m,y,_,N,k){var q=o(null);if(q.current===null){var T={hasValue:!1,value:null};q.current=T}else T=q.current;q=c(function(){function D(W){if(!P){if(P=!0,L=W,W=N(W),k!==void 0&&T.hasValue){var Z=T.value;if(k(Z,W))return V=Z}return V=W}if(Z=V,r(L,W))return Z;var oe=N(W);return k!==void 0&&k(Z,oe)?(L=W,Z):(L=W,V=oe)}var P=!1,L,V,J=_===void 0?null:_;return[function(){return D(y())},J===null?void 0:function(){return D(J())}]},[y,_,N,k]);var A=i(m,q[0],q[1]);return l(function(){T.hasValue=!0,T.value=A},[A]),d(A),A},cb}var YE;function YA(){return YE||(YE=1,lb.exports=ZA()),lb.exports}var XA=YA();class ej{constructor(e,n){this.listeners=new Set,this._batching=!1,this._flushing=0,this.subscribe=r=>{var i,o;this.listeners.add(r);const l=(o=(i=this.options)==null?void 0:i.onSubscribe)==null?void 0:o.call(i,r,this);return()=>{this.listeners.delete(r),l?.()}},this.setState=r=>{var i,o,l;const c=this.state;this.state=(i=this.options)!=null&&i.updateFn?this.options.updateFn(c)(r):r(c),(l=(o=this.options)==null?void 0:o.onUpdate)==null||l.call(o),this._flush()},this._flush=()=>{if(this._batching)return;const r=++this._flushing;this.listeners.forEach(i=>{this._flushing===r&&i()})},this.batch=r=>{if(this._batching)return r();this._batching=!0,r(),this._batching=!1,this._flush()},this.state=e,this.options=n}}function tj(t,e=n=>n){return XA.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,nj)}function nj(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!e.has(r)||!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}const Ji="__root__";function rj(t,e){let n,r,i,o="";for(n in t)if((i=t[n])!==void 0)if(Array.isArray(i))for(r=0;r<i.length;r++)o&&(o+="&"),o+=encodeURIComponent(n)+"="+encodeURIComponent(i[r]);else o&&(o+="&"),o+=encodeURIComponent(n)+"="+encodeURIComponent(i);return""+o}function XE(t){if(!t)return"";const e=decodeURIComponent(t);return e==="false"?!1:e==="true"?!0:+e*0===0&&+e+""===e?+e:e}function ij(t,e){let n,r;const i={},o=t.split("&");for(;n=o.shift();){const l=n.indexOf("=");if(l!==-1){r=n.slice(0,l),r=decodeURIComponent(r);const c=n.slice(l+1);i[r]!==void 0?i[r]=[].concat(i[r],XE(c)):i[r]=XE(c)}else r=n,r=decodeURIComponent(r),i[r]=""}return i}const sj=aj(JSON.parse),oj=lj(JSON.stringify,JSON.parse);function aj(t){return e=>{e.substring(0,1)==="?"&&(e=e.substring(1));const n=ij(e);for(const r in n){const i=n[r];if(typeof i=="string")try{n[r]=t(i)}catch{}}return n}}function lj(t,e){function n(r){if(typeof r=="object"&&r!==null)try{return t(r)}catch{}else if(typeof r=="string"&&typeof e=="function")try{return e(r),t(r)}catch{}return r}return r=>{r={...r},Object.keys(r).forEach(o=>{const l=r[o];typeof l>"u"||l===void 0?delete r[o]:r[o]=n(l)});const i=rj(r).toString();return i?`?${i}`:""}}function sf(t){return t[t.length-1]}function cj(t){return typeof t=="function"}function Ul(t,e){return cj(t)?t(e):t}function Jh(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function Ss(t,e){if(t===e)return t;const n=e,r=tN(t)&&tN(n);if(r||Eu(t)&&Eu(n)){const i=r?t:Object.keys(t),o=i.length,l=r?n:Object.keys(n),c=l.length,d=r?[]:{};let m=0;for(let y=0;y<c;y++){const _=r?y:l[y];(!r&&i.includes(_)||r)&&t[_]===void 0&&n[_]===void 0?(d[_]=void 0,m++):(d[_]=Ss(t[_],n[_]),d[_]===t[_]&&t[_]!==void 0&&m++)}return o===c&&m===o?t:d}return n}function Eu(t){if(!eN(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!eN(n)||!n.hasOwnProperty("isPrototypeOf"))}function eN(t){return Object.prototype.toString.call(t)==="[object Object]"}function tN(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function nN(t,e){let n=Object.keys(t);return e&&(n=n.filter(r=>t[r]!==void 0)),n}function uu(t,e,n){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(Eu(t)&&Eu(e)){const r=n?.ignoreUndefined??!0,i=nN(t,r),o=nN(e,r);return!n?.partial&&i.length!==o.length?!1:o.every(l=>uu(t[l],e[l],n))}return Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:!t.some((r,i)=>!uu(r,e[i],n)):!1}const Qd=typeof window<"u"?Q.useLayoutEffect:Q.useEffect;function Yc(t){let e,n;const r=new Promise((i,o)=>{e=i,n=o});return r.status="pending",r.resolve=i=>{r.status="resolved",r.value=i,e(i),t?.(i)},r.reject=i=>{r.status="rejected",n(i)},r}function fb(t){const e=Q.useRef({value:t,prev:null}),n=e.current.value;return t!==n&&(e.current={value:t,prev:n}),e.current.prev}function uj(t,e,n={},r={}){const i=Q.useRef(typeof IntersectionObserver=="function"),o=Q.useRef(null);return Q.useEffect(()=>{if(!(!t.current||!i.current||r.disabled))return o.current=new IntersectionObserver(([l])=>{e(l)},n),o.current.observe(t.current),()=>{var l;(l=o.current)==null||l.disconnect()}},[e,n,r.disabled,t]),o.current}function dj(t){const e=Q.useRef(null);return Q.useEffect(()=>{t&&(typeof t=="function"?t(e.current):t.current=e.current)}),e}function aa(t){return qg(t.filter(e=>e!==void 0).join("/"))}function qg(t){return t.replace(/\/{2,}/g,"/")}function iw(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function Vl(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function fj(t){return Vl(iw(t))}function Fm(t,e){return t.endsWith("/")&&t!=="/"&&t!==`${e}/`?t.slice(0,-1):t}function pj(t,e,n){return Fm(t,n)===Fm(e,n)}function hj({basepath:t,base:e,to:n,trailingSlash:r="never",caseSensitive:i}){var o,l;e=Lm(t,e,i),n=Lm(t,n,i);let c=Nu(e);const d=Nu(n);c.length>1&&((o=sf(c))==null?void 0:o.value)==="/"&&c.pop(),d.forEach((y,_)=>{y.value==="/"?_?_===d.length-1&&c.push(y):c=[y]:y.value===".."?c.pop():y.value==="."||c.push(y)}),c.length>1&&(((l=sf(c))==null?void 0:l.value)==="/"?r==="never"&&c.pop():r==="always"&&c.push({type:"pathname",value:"/"}));const m=aa([t,...c.map(y=>y.value)]);return qg(m)}function Nu(t){if(!t)return[];t=qg(t);const e=[];if(t.slice(0,1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),!t)return e;const n=t.split("/").filter(Boolean);return e.push(...n.map(r=>r==="$"||r==="*"?{type:"wildcard",value:r}:r.charAt(0)==="$"?{type:"param",value:r}:{type:"pathname",value:decodeURI(r)})),t.slice(-1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),e}function qh({path:t,params:e,leaveWildcards:n,leaveParams:r,decodeCharMap:i}){const o=Nu(t),l={};for(const[c,d]of Object.entries(e)){const m=typeof d=="string";["*","_splat"].includes(c)?l[c]=m?encodeURI(d):d:l[c]=m?mj(d,i):d}return aa(o.map(c=>{if(c.type==="wildcard"){const d=l._splat;return n?`${c.value}${d??""}`:d}if(c.type==="param"){if(r){const d=l[c.value];return`${c.value}${d??""}`}return l[c.value.substring(1)]??"undefined"}return c.value}))}function mj(t,e){let n=encodeURIComponent(t);if(e)for(const[r,i]of e)n=n.replaceAll(r,i);return n}function Th(t,e,n){const r=gj(t,e,n);if(!(n.to&&!r))return r??{}}function Lm(t,e,n=!1){const r=n?t:t.toLowerCase(),i=n?e:e.toLowerCase();switch(!0){case r==="/":return e;case i===r:return"";case e.length<t.length:return e;case i[r.length]!=="/":return e;case i.startsWith(r):return e.slice(t.length);default:return e}}function gj(t,e,n){if(t!=="/"&&!e.startsWith(t))return;e=Lm(t,e,n.caseSensitive);const r=Lm(t,`${n.to??"$"}`,n.caseSensitive),i=Nu(e),o=Nu(r);e.startsWith("/")||i.unshift({type:"pathname",value:"/"}),r.startsWith("/")||o.unshift({type:"pathname",value:"/"});const l={};return(()=>{for(let d=0;d<Math.max(i.length,o.length);d++){const m=i[d],y=o[d],_=d>=i.length-1,N=d>=o.length-1;if(y){if(y.type==="wildcard"){const k=decodeURI(aa(i.slice(d).map(q=>q.value)));return l["*"]=k,l._splat=k,!0}if(y.type==="pathname"){if(y.value==="/"&&!m?.value)return!0;if(m){if(n.caseSensitive){if(y.value!==m.value)return!1}else if(y.value.toLowerCase()!==m.value.toLowerCase())return!1}}if(!m)return!1;if(y.type==="param"){if(m.value==="/")return!1;m.value.charAt(0)!=="$"&&(l[y.value.substring(1)]=decodeURIComponent(m.value))}}if(!_&&N)return l["**"]=aa(i.slice(d+1).map(k=>k.value)),!!n.fuzzy&&y?.value!=="/"}return!0})()?l:void 0}function Tg(t){if(t.isRedirect=!0,t.statusCode=t.statusCode||t.code||307,t.headers=t.headers||{},!t.reloadDocument){t.reloadDocument=!1;try{new URL(`${t.href}`),t.reloadDocument=!0}catch{}}if(t.throw)throw t;return t}function Fl(t){return!!t?.isRedirect}function pb(t){return!!t?.isRedirect&&t.href}function sw(t){const e=t.errorComponent??Og;return h.jsx(yj,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:n,reset:r})=>n?Q.createElement(e,{error:n,reset:r}):t.children})}class yj extends Q.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,n){n.error&&n.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,n){this.props.onCatch&&this.props.onCatch(e,n)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function Og({error:t}){const[e,n]=Q.useState(!1);return h.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[h.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[h.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),h.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>n(r=>!r),children:e?"Hide Error":"Show Error"})]}),h.jsx("div",{style:{height:".25rem"}}),e?h.jsx("div",{children:h.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?h.jsx("code",{children:t.message}):null})}):null]})}function wi(t){const e=ao({warn:t?.router===void 0}),n=t?.router||e,r=Q.useRef();return tj(n.__store,i=>{if(t?.select){if(t.structuralSharing??n.options.defaultStructuralSharing){const o=Ss(r.current,t.select(i));return r.current=o,o}return t.select(i)}return i})}function Js(t){return!!t?.isNotFound}function vj(t){const e=wi({select:n=>`not-found-${n.location.pathname}-${n.status}`});return h.jsx(sw,{getResetKey:()=>e,onCatch:(n,r)=>{var i;if(Js(n))(i=t.onCatch)==null||i.call(t,n,r);else throw n},errorComponent:({error:n})=>{var r;if(Js(n))return(r=t.fallback)==null?void 0:r.call(t,n);throw n},children:t.children})}function bj(){return h.jsx("p",{children:"Not Found"})}const _j={stringify:t=>JSON.stringify(t,function(n,r){const i=this[n],o=rN.find(l=>l.stringifyCondition(i));return o?o.stringify(i):r}),parse:t=>JSON.parse(t,function(n,r){const i=this[n],o=rN.find(l=>l.parseCondition(i));return o?o.parse(i):r})},rN=[{stringifyCondition:t=>t instanceof Date,stringify:t=>({$date:t.toISOString()}),parseCondition:t=>Eu(t)&&t.$date,parse:t=>new Date(t.$date)},{stringifyCondition:t=>t===void 0,stringify:()=>({$undefined:""}),parseCondition:t=>Eu(t)&&t.$undefined==="",parse:()=>{}}],lq=["component","errorComponent","pendingComponent","notFoundComponent"];function xj(t){var e;for(const n of lq)if((e=t.options[n])!=null&&e.preload)return!0;return!1}function hb(t,e){if(t==null)return{};if("~standard"in t){const n=t["~standard"].validate(e);if(n instanceof Promise)throw new ex("Async validation not supported");if(n.issues)throw new ex(JSON.stringify(n.issues,void 0,2));return n.value}return"parse"in t?t.parse(e):typeof t=="function"?t(e):{}}function wj(t){return new Sj(t)}class Sj{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.startReactTransition=n=>n(),this.update=n=>{var r;n.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/guide/not-found-errors#migrating-from-notfoundroute for more info.");const i=this.options;this.options={...this.options,...n},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(o=>[encodeURIComponent(o),o])):void 0,(!this.basepath||n.basepath&&n.basepath!==i.basepath)&&(n.basepath===void 0||n.basepath===""||n.basepath==="/"?this.basepath="/":this.basepath=`/${fj(n.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?HA({initialEntries:[this.basepath||"/"]}):VA()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new ej(Nj(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(o=>!["redirected"].includes(o.status))}}})),typeof window<"u"&&"CSS"in window&&typeof((r=window.CSS)==null?void 0:r.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.buildRouteTree=()=>{this.routesById={},this.routesByPath={};const n=this.options.notFoundRoute;n&&(n.init({originalIndex:0x174876e7ff,defaultSsr:this.options.defaultSsr}),this.routesById[n.id]=n);const r=l=>{l.forEach((c,d)=>{c.init({originalIndex:d,defaultSsr:this.options.defaultSsr});const m=this.routesById[c.id];if(Xi(!m,`Duplicate routes found with id: ${String(c.id)}`),this.routesById[c.id]=c,!c.isRoot&&c.path){const _=Vl(c.fullPath);(!this.routesByPath[_]||c.fullPath.endsWith("/"))&&(this.routesByPath[_]=c)}const y=c.children;y?.length&&r(y)})};r([this.routeTree]);const i=[];Object.values(this.routesById).forEach((l,c)=>{var d;if(l.isRoot||!l.path)return;const m=iw(l.fullPath),y=Nu(m);for(;y.length>1&&((d=y[0])==null?void 0:d.value)==="/";)y.shift();const _=y.map(N=>N.value==="/"?.75:N.type==="param"?.5:N.type==="wildcard"?.25:1);i.push({child:l,trimmed:m,parsed:y,index:c,scores:_})}),this.flatRoutes=i.sort((l,c)=>{const d=Math.min(l.scores.length,c.scores.length);for(let m=0;m<d;m++)if(l.scores[m]!==c.scores[m])return c.scores[m]-l.scores[m];if(l.scores.length!==c.scores.length)return c.scores.length-l.scores.length;for(let m=0;m<d;m++)if(l.parsed[m].value!==c.parsed[m].value)return l.parsed[m].value>c.parsed[m].value?1:-1;return l.index-c.index}).map((l,c)=>(l.child.rank=c,l.child))},this.subscribe=(n,r)=>{const i={eventType:n,fn:r};return this.subscribers.add(i),()=>{this.subscribers.delete(i)}},this.emit=n=>{this.subscribers.forEach(r=>{r.eventType===n.type&&r.fn(n)})},this.parseLocation=(n,r)=>{const i=({pathname:d,search:m,hash:y,state:_})=>{const N=this.options.parseSearch(m),k=this.options.stringifySearch(N);return{pathname:d,searchStr:k,search:Ss(n?.search,N),hash:y.split("#").reverse()[0]??"",href:`${d}${k}${y}`,state:Ss(n?.state,_)}},o=i(r??this.history.location),{__tempLocation:l,__tempKey:c}=o.state;if(l&&(!c||c===this.tempLocationKey)){const d=i(l);return d.state.key=o.state.key,delete d.state.__tempLocation,{...d,maskedLocation:o}}return o},this.resolvePathWithBase=(n,r)=>hj({basepath:this.basepath,base:n,to:qg(r),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.getMatchedRoutes=(n,r)=>{let i={};const o=Vl(n.pathname),l=y=>Th(this.basepath,o,{to:y.fullPath,caseSensitive:y.options.caseSensitive??this.options.caseSensitive,fuzzy:!0});let c=r?.to!==void 0?this.routesByPath[r.to]:void 0;c?i=l(c):c=this.flatRoutes.find(y=>{const _=l(y);return _?(i=_,!0):!1});let d=c||this.routesById[Ji];const m=[d];for(;d.parentRoute;)d=d.parentRoute,m.unshift(d);return{matchedRoutes:m,routeParams:i,foundRoute:c}},this.cancelMatch=n=>{const r=this.getMatch(n);r&&(r.abortController.abort(),clearTimeout(r.pendingTimeout))},this.cancelMatches=()=>{var n;(n=this.state.pendingMatches)==null||n.forEach(r=>{this.cancelMatch(r.id)})},this.buildLocation=n=>{const r=(o={},l)=>{var c,d,m,y,_,N;const k=o._fromLocation?this.matchRoutes(o._fromLocation,{_buildLocation:!0}):this.state.matches,q=o.from!=null?k.find(B=>Th(this.basepath,Vl(B.pathname),{to:o.from,caseSensitive:!1,fuzzy:!1})):void 0,T=q?.pathname||this.latestLocation.pathname;Xi(o.from==null||q!=null,"Could not find match for from: "+o.from);const A=(c=this.state.pendingMatches)!=null&&c.length?(d=sf(this.state.pendingMatches))==null?void 0:d.search:((m=sf(k))==null?void 0:m.search)||this.latestLocation.search,D=l?.matchedRoutes.filter(B=>k.find(se=>se.routeId===B.id));let P;if(o.to)P=this.resolvePathWithBase(T,`${o.to}`);else{const B=this.routesById[(y=D?.find(se=>{const X=qh({path:se.fullPath,params:l?.routeParams??{},decodeCharMap:this.pathParamsDecodeCharMap});return aa([this.basepath,X])===T}))==null?void 0:y.id];P=this.resolvePathWithBase(T,B?.to??T)}const L={...(_=sf(k))==null?void 0:_.params};let V=(o.params??!0)===!0?L:{...L,...Ul(o.params,L)};Object.keys(V).length>0&&l?.matchedRoutes.map(B=>{var se;return((se=B.options.params)==null?void 0:se.stringify)??B.options.stringifyParams}).filter(Boolean).forEach(B=>{V={...V,...B(V)}}),P=qh({path:P,params:V??{},leaveWildcards:!1,leaveParams:n.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap});let J=A;if(n._includeValidateSearch&&((N=this.options.search)!=null&&N.strict)){let B={};l?.matchedRoutes.forEach(se=>{try{se.options.validateSearch&&(B={...B,...hb(se.options.validateSearch,{...B,...J})??{}})}catch{}}),J=B}J=(B=>{const se=l?.matchedRoutes.reduce((Ee,Oe)=>{var je;const ve=[];if("search"in Oe.options)(je=Oe.options.search)!=null&&je.middlewares&&ve.push(...Oe.options.search.middlewares);else if(Oe.options.preSearchFilters||Oe.options.postSearchFilters){const pe=({search:Ne,next:K})=>{let xe=Ne;"preSearchFilters"in Oe.options&&Oe.options.preSearchFilters&&(xe=Oe.options.preSearchFilters.reduce((at,ft)=>ft(at),Ne));const ut=K(xe);return"postSearchFilters"in Oe.options&&Oe.options.postSearchFilters?Oe.options.postSearchFilters.reduce((at,ft)=>ft(at),ut):ut};ve.push(pe)}if(n._includeValidateSearch&&Oe.options.validateSearch){const pe=({search:Ne,next:K})=>{try{const xe=K(Ne);return{...xe,...hb(Oe.options.validateSearch,xe)??{}}}catch{}};ve.push(pe)}return Ee.concat(ve)},[])??[],X=({search:Ee})=>o.search?o.search===!0?Ee:Ul(o.search,Ee):{};se.push(X);const fe=(Ee,Oe)=>{if(Ee>=se.length)return Oe;const je=se[Ee];return je({search:Oe,next:pe=>fe(Ee+1,pe)})};return fe(0,B)})(J),J=Ss(A,J);const Z=this.options.stringifySearch(J),oe=o.hash===!0?this.latestLocation.hash:o.hash?Ul(o.hash,this.latestLocation.hash):void 0,U=oe?`#${oe}`:"";let ne=o.state===!0?this.latestLocation.state:o.state?Ul(o.state,this.latestLocation.state):{};return ne=Ss(this.latestLocation.state,ne),{pathname:P,search:J,searchStr:Z,state:ne,hash:oe??"",href:`${P}${Z}${U}`,unmaskOnReload:o.unmaskOnReload}},i=(o={},l)=>{var c;const d=r(o);let m=l?r(l):void 0;if(!m){let N={};const k=(c=this.options.routeMasks)==null?void 0:c.find(q=>{const T=Th(this.basepath,d.pathname,{to:q.from,caseSensitive:!1,fuzzy:!1});return T?(N=T,!0):!1});if(k){const{from:q,...T}=k;l={...Jh(n,["from"]),...T,params:N},m=r(l)}}const y=this.getMatchedRoutes(d,o),_=r(o,y);if(m){const N=this.getMatchedRoutes(m,l),k=r(l,N);_.maskedLocation=k}return _};return n.mask?i(n,{...Jh(n,["from"]),...n.mask}):i(n)},this.commitLocation=({viewTransition:n,ignoreBlocker:r,...i})=>{const o=()=>{i.state.key=this.latestLocation.state.key;const d=uu(i.state,this.latestLocation.state);return delete i.state.key,d},l=this.latestLocation.href===i.href,c=this.commitLocationPromise;if(this.commitLocationPromise=Yc(()=>{c?.resolve()}),l&&o())this.load();else{let{maskedLocation:d,hashScrollIntoView:m,...y}=i;d&&(y={...d,state:{...d.state,__tempKey:void 0,__tempLocation:{...y,search:y.searchStr,state:{...y.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}},(y.unmaskOnReload??this.options.unmaskOnReload??!1)&&(y.state.__tempKey=this.tempLocationKey)),y.state.__hashScrollIntoViewOptions=m??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=n,this.history[i.replace?"replace":"push"](y.href,y.state,{ignoreBlocker:r})}return this.resetNextScroll=i.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:n,resetScroll:r,hashScrollIntoView:i,viewTransition:o,ignoreBlocker:l,href:c,...d}={})=>{if(c){const y=vf(c,{});d.to=y.pathname,d.search=this.options.parseSearch(y.search),d.hash=y.hash.slice(1)}const m=this.buildLocation({...d,_includeValidateSearch:!0});return this.commitLocation({...m,viewTransition:o,replace:n,resetScroll:r,hashScrollIntoView:i,ignoreBlocker:l})},this.navigate=({to:n,reloadDocument:r,href:i,...o})=>{if(r){i||(i=this.buildLocation({to:n,...o}).href),o.replace?window.location.replace(i):window.location.href=i;return}return this.buildAndCommitLocation({...o,href:i,to:n})},this.load=async()=>{this.latestLocation=this.parseLocation(this.latestLocation);let n,r,i;for(i=new Promise(o=>{this.startReactTransition(async()=>{var l;try{const c=this.latestLocation,d=this.state.resolvedLocation,m=d.href!==c.href,y=d.pathname!==c.pathname;this.cancelMatches();let _;this.__store.batch(()=>{_=this.matchRoutes(c),this.__store.setState(N=>({...N,status:"pending",isLoading:!0,location:c,pendingMatches:_,cachedMatches:N.cachedMatches.filter(k=>!_.find(q=>q.id===k.id))}))}),this.state.redirect||this.emit({type:"onBeforeNavigate",fromLocation:d,toLocation:c,pathChanged:y,hrefChanged:m}),this.emit({type:"onBeforeLoad",fromLocation:d,toLocation:c,pathChanged:y,hrefChanged:m}),await this.loadMatches({matches:_,location:c,onReady:async()=>{this.startViewTransition(async()=>{let N,k,q;this.__store.batch(()=>{this.__store.setState(T=>{const A=T.matches,D=T.pendingMatches||T.matches;return N=A.filter(P=>!D.find(L=>L.id===P.id)),k=D.filter(P=>!A.find(L=>L.id===P.id)),q=A.filter(P=>D.find(L=>L.id===P.id)),{...T,isLoading:!1,loadedAt:Date.now(),matches:D,pendingMatches:void 0,cachedMatches:[...T.cachedMatches,...N.filter(P=>P.status!=="error")]}}),this.clearExpiredCache()}),[[N,"onLeave"],[k,"onEnter"],[q,"onStay"]].forEach(([T,A])=>{T.forEach(D=>{var P,L;(L=(P=this.looseRoutesById[D.routeId].options)[A])==null||L.call(P,D)})})})}})}catch(c){pb(c)?(n=c,this.isServer||this.navigate({...n,replace:!0,ignoreBlocker:!0})):Js(c)&&(r=c),this.__store.setState(d=>({...d,statusCode:n?n.statusCode:r?404:d.matches.some(m=>m.status==="error")?500:200,redirect:n}))}this.latestLoadPromise===i&&((l=this.commitLocationPromise)==null||l.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),o()})}),this.latestLoadPromise=i,await i;this.latestLoadPromise&&i!==this.latestLoadPromise;)await this.latestLoadPromise},this.startViewTransition=n=>{const r=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,r&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let i;typeof r=="object"&&this.isViewTransitionTypesSupported?i={update:n,types:r.types}:i=n,document.startViewTransition(i)}else n()},this.updateMatch=(n,r)=>{var i;let o;const l=(i=this.state.pendingMatches)==null?void 0:i.find(y=>y.id===n),c=this.state.matches.find(y=>y.id===n),d=this.state.cachedMatches.find(y=>y.id===n),m=l?"pendingMatches":c?"matches":d?"cachedMatches":"";return m&&this.__store.setState(y=>{var _;return{...y,[m]:(_=y[m])==null?void 0:_.map(N=>N.id===n?o=r(N):N)}}),o},this.getMatch=n=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(r=>r.id===n),this.loadMatches=async({location:n,matches:r,preload:i,onReady:o,updateMatch:l=this.updateMatch})=>{let c,d=!1;const m=async()=>{d||(d=!0,await o?.())},y=N=>!!(i&&!this.state.matches.find(k=>k.id===N));!this.isServer&&!this.state.matches.length&&m();const _=(N,k)=>{var q,T,A;if(pb(k)&&!k.reloadDocument)throw k;if(Fl(k)||Js(k)){if(l(N.id,D=>({...D,status:Fl(k)?"redirected":Js(k)?"notFound":"error",isFetching:!1,error:k,beforeLoadPromise:void 0,loaderPromise:void 0})),k.routeId||(k.routeId=N.routeId),(q=N.beforeLoadPromise)==null||q.resolve(),(T=N.loaderPromise)==null||T.resolve(),(A=N.loadPromise)==null||A.resolve(),Fl(k))throw d=!0,k=this.resolveRedirect({...k,_fromLocation:n}),k;if(Js(k))throw this._handleNotFound(r,k,{updateMatch:l}),k}};try{await new Promise((N,k)=>{(async()=>{var q,T,A;try{const D=(V,J,W)=>{var Z,oe;const{id:U,routeId:ne}=r[V],B=this.looseRoutesById[ne];if(J instanceof Promise)throw J;J.routerCode=W,c=c??V,_(this.getMatch(U),J);try{(oe=(Z=B.options).onError)==null||oe.call(Z,J)}catch(se){J=se,_(this.getMatch(U),J)}l(U,se=>{var X,fe;return(X=se.beforeLoadPromise)==null||X.resolve(),(fe=se.loadPromise)==null||fe.resolve(),{...se,error:J,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[V,{id:J,routeId:W}]of r.entries()){const Z=this.getMatch(J),oe=(q=r[V-1])==null?void 0:q.id,U=this.looseRoutesById[W],ne=U.options.pendingMs??this.options.defaultPendingMs,B=!!(o&&!this.isServer&&!y(J)&&(U.options.loader||U.options.beforeLoad)&&typeof ne=="number"&&ne!==1/0&&(U.options.pendingComponent??this.options.defaultPendingComponent));let se=!0;if((Z.beforeLoadPromise||Z.loaderPromise)&&(B&&setTimeout(()=>{try{m()}catch{}},ne),await Z.beforeLoadPromise,se=this.getMatch(J).status!=="success"),se){try{l(J,ft=>({...ft,loadPromise:Yc(()=>{var dt;(dt=ft.loadPromise)==null||dt.resolve()}),beforeLoadPromise:Yc()}));const X=new AbortController;let fe;B&&(fe=setTimeout(()=>{try{m()}catch{}},ne));const{paramsError:Ee,searchError:Oe}=this.getMatch(J);Ee&&D(V,Ee,"PARSE_PARAMS"),Oe&&D(V,Oe,"VALIDATE_SEARCH");const je=()=>oe?this.getMatch(oe).context:this.options.context??{};l(J,ft=>({...ft,isFetching:"beforeLoad",fetchCount:ft.fetchCount+1,abortController:X,pendingTimeout:fe,context:{...je(),...ft.__routeContext,...ft.__beforeLoadContext}}));const{search:ve,params:pe,context:Ne,cause:K}=this.getMatch(J),xe=y(J),ut={search:ve,abortController:X,params:pe,preload:xe,context:Ne,location:n,navigate:ft=>this.navigate({...ft,_fromLocation:n}),buildLocation:this.buildLocation,cause:xe?"preload":K,matches:r};let at=await ((A=(T=U.options).beforeLoad)==null?void 0:A.call(T,ut))??{};this.serializeLoaderData&&(at=this.serializeLoaderData("__beforeLoadContext",at,{router:this,match:this.getMatch(J)})),(Fl(at)||Js(at))&&D(V,at,"BEFORE_LOAD"),l(J,ft=>({...ft,__beforeLoadContext:at,context:{...je(),...ft.__routeContext,...at},abortController:X}))}catch(X){D(V,X,"BEFORE_LOAD")}l(J,X=>{var fe;return(fe=X.beforeLoadPromise)==null||fe.resolve(),{...X,beforeLoadPromise:void 0,isFetching:!1}})}}const P=r.slice(0,c),L=[];P.forEach(({id:V,routeId:J},W)=>{L.push((async()=>{const{loaderPromise:Z}=this.getMatch(V);let oe=!1;if(Z)await Z;else{const U=L[W-1],ne=this.looseRoutesById[J],B=()=>{const{params:xe,loaderDeps:ut,abortController:at,context:ft,cause:dt}=this.getMatch(V),pt=y(V);return{params:xe,deps:ut,preload:!!pt,parentMatchPromise:U,abortController:at,context:ft,location:n,navigate:vt=>this.navigate({...vt,_fromLocation:n}),cause:pt?"preload":dt,route:ne}},se=Date.now()-this.getMatch(V).updatedAt,X=y(V),fe=X?ne.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:ne.options.staleTime??this.options.defaultStaleTime??0,Ee=ne.options.shouldReload,Oe=typeof Ee=="function"?Ee(B()):Ee;l(V,xe=>({...xe,loaderPromise:Yc(),preload:!!X&&!this.state.matches.find(ut=>ut.id===V)}));const je=async()=>{var xe,ut,at,ft,dt,pt,vt,At;try{const mt=async()=>{const ht=this.getMatch(V);ht.minPendingPromise&&await ht.minPendingPromise};try{this.loadRouteChunk(ne),l(V,hn=>({...hn,isFetching:"loader"}));let ht=await ((ut=(xe=ne.options).loader)==null?void 0:ut.call(xe,B()));this.serializeLoaderData&&(ht=this.serializeLoaderData("loaderData",ht,{router:this,match:this.getMatch(V)})),_(this.getMatch(V),ht),await ne._lazyPromise,await mt();const Nt=(ft=(at=ne.options).head)==null?void 0:ft.call(at,{matches:r,match:this.getMatch(V),params:this.getMatch(V).params,loaderData:ht}),kt=Nt?.meta,Yt=Nt?.links,Kt=Nt?.scripts,sn=(pt=(dt=ne.options).headers)==null?void 0:pt.call(dt,{loaderData:ht});l(V,hn=>({...hn,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:ht,meta:kt,links:Yt,scripts:Kt,headers:sn}))}catch(ht){let Nt=ht;await mt(),_(this.getMatch(V),ht);try{(At=(vt=ne.options).onError)==null||At.call(vt,ht)}catch(kt){Nt=kt,_(this.getMatch(V),kt)}l(V,kt=>({...kt,error:Nt,status:"error",isFetching:!1}))}await ne._componentsPromise}catch(mt){l(V,ht=>({...ht,loaderPromise:void 0})),_(this.getMatch(V),mt)}},{status:ve,invalid:pe}=this.getMatch(V);oe=ve==="success"&&(pe||(Oe??se>fe)),X&&ne.options.preload===!1||(oe?(async()=>{try{await je()}catch(xe){pb(xe)&&await this.navigate(xe)}})():ve!=="success"&&await je());const{loaderPromise:Ne,loadPromise:K}=this.getMatch(V);Ne?.resolve(),K?.resolve()}return l(V,U=>({...U,isFetching:oe?U.isFetching:!1,loaderPromise:void 0,invalid:!1})),this.getMatch(V)})())}),await Promise.all(L),N()}catch(D){k(D)}})()}),await m()}catch(N){if(Fl(N)||Js(N))throw Js(N)&&!i&&await m(),N}return r},this.invalidate=n=>{const r=i=>{var o;return((o=n?.filter)==null?void 0:o.call(n,i))??!0?{...i,invalid:!0,...i.status==="error"?{status:"pending",error:void 0}:{}}:i};return this.__store.setState(i=>{var o;return{...i,matches:i.matches.map(r),cachedMatches:i.cachedMatches.map(r),pendingMatches:(o=i.pendingMatches)==null?void 0:o.map(r)}}),this.load()},this.resolveRedirect=n=>{const r=n;return r.href||(r.href=this.buildLocation(r).href),r},this.clearCache=n=>{const r=n?.filter;r!==void 0?this.__store.setState(i=>({...i,cachedMatches:i.cachedMatches.filter(o=>!r(o))})):this.__store.setState(i=>({...i,cachedMatches:[]}))},this.clearExpiredCache=()=>{const n=r=>{const i=this.looseRoutesById[r.routeId];if(!i.options.loader)return!0;const o=(r.preload?i.options.preloadGcTime??this.options.defaultPreloadGcTime:i.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return!(r.status!=="error"&&Date.now()-r.updatedAt<o)};this.clearCache({filter:n})},this.loadRouteChunk=n=>(n._lazyPromise===void 0&&(n.lazyFn?n._lazyPromise=n.lazyFn().then(r=>{const{id:i,...o}=r.options;Object.assign(n.options,o)}):n._lazyPromise=Promise.resolve()),n._componentsPromise===void 0&&(n._componentsPromise=n._lazyPromise.then(()=>Promise.all(lq.map(async r=>{const i=n.options[r];i?.preload&&await i.preload()})))),n._componentsPromise),this.preloadRoute=async n=>{const r=this.buildLocation(n);let i=this.matchRoutes(r,{throwOnError:!0,preload:!0,dest:n});const o=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(c=>c.id)),l=new Set([...o,...this.state.cachedMatches.map(c=>c.id)]);this.__store.batch(()=>{i.forEach(c=>{l.has(c.id)||this.__store.setState(d=>({...d,cachedMatches:[...d.cachedMatches,c]}))})});try{return i=await this.loadMatches({matches:i,location:r,preload:!0,updateMatch:(c,d)=>{o.has(c)?i=i.map(m=>m.id===c?d(m):m):this.updateMatch(c,d)}}),i}catch(c){if(Fl(c))return c.reloadDocument?void 0:await this.preloadRoute({...c,_fromLocation:r});console.error(c);return}},this.matchRoute=(n,r)=>{const i={...n,to:n.to?this.resolvePathWithBase(n.from||"",n.to):void 0,params:n.params||{},leaveParams:!0},o=this.buildLocation(i);if(r?.pending&&this.state.status!=="pending")return!1;const c=(r?.pending===void 0?!this.state.isLoading:r.pending)?this.latestLocation:this.state.resolvedLocation,d=Th(this.basepath,c.pathname,{...r,to:o.pathname});return!d||n.params&&!uu(d,n.params,{partial:!0})?!1:d&&(r?.includeSearch??!0)?uu(c.search,o.search,{partial:!0})?d:!1:d},this.dehydrate=()=>{var n;const r=((n=this.options.errorSerializer)==null?void 0:n.serialize)??kj;return{state:{dehydratedMatches:this.state.matches.map(i=>({...Jh(i,["id","status","updatedAt"]),error:i.error?{data:r(i.error),__isServerError:!0}:void 0}))},manifest:this.manifest}},this.hydrate=()=>{var n,r,i;let o;typeof document<"u"&&(o=this.options.transformer.parse((n=window.__TSR__)==null?void 0:n.dehydrated)),Xi(o),this.dehydratedData=o.payload,(i=(r=this.options).hydrate)==null||i.call(r,o.payload);const l=o.router.state,c=this.matchRoutes(this.state.location).map(d=>{const m=l.dehydratedMatches.find(y=>y.id===d.id);return Xi(m,`Could not find a client-side match for dehydrated match with id: ${d.id}!`),{...d,...m}});this.__store.setState(d=>({...d,matches:c})),this.manifest=o.router.manifest},this.injectedHtml=[],this.injectHtml=n=>{const r=()=>(this.injectedHtml=this.injectedHtml.filter(i=>i!==r),n);this.injectedHtml.push(r)},this.injectScript=(n,r)=>{this.injectHtml(`<script class='tsr-once'>${n}; if (typeof __TSR__ !== 'undefined') __TSR__.cleanScripts()</script>`)},this.streamedKeys=new Set,this.getStreamedValue=n=>{var r;if(this.isServer)return;const i=(r=window.__TSR__)==null?void 0:r.streamedValues[n];if(i)return i.parsed||(i.parsed=this.options.transformer.parse(i.value)),i.parsed},this.streamValue=(n,r)=>{var i;this.streamedKeys.has(n),this.streamedKeys.add(n),this.injectScript(`__TSR__.streamedValues['${n}'] = { value: ${(i=this.serializer)==null?void 0:i.call(this,this.options.transformer.stringify(r))}}`)},this._handleNotFound=(n,r,{updateMatch:i=this.updateMatch}={})=>{const o=Object.fromEntries(n.map(d=>[d.routeId,d]));let l=(r.global?this.looseRoutesById[Ji]:this.looseRoutesById[r.routeId])||this.looseRoutesById[Ji];for(;!l.options.notFoundComponent&&!this.options.defaultNotFoundComponent&&l.id!==Ji;)l=l.parentRoute,Xi(l);const c=o[l.id];Xi(c,"Could not find match for route: "+l.id),i(c.id,d=>({...d,status:"notFound",error:r,isFetching:!1})),r.routerCode==="BEFORE_LOAD"&&l.parentRoute&&(r.routeId=l.parentRoute.id,this._handleNotFound(n,r,{updateMatch:i}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(n=>n.status==="notFound"||n.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??oj,parseSearch:e.parseSearch??sj,transformer:e.transformer??_j}),typeof document<"u"&&(window.__TSR__ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutes(e,n,r){return typeof e=="string"?this.matchRoutesInternal({pathname:e,search:n},r):this.matchRoutesInternal(e,n)}matchRoutesInternal(e,n){const{foundRoute:r,matchedRoutes:i,routeParams:o}=this.getMatchedRoutes(e,n?.dest);let l=!1;(r?r.path!=="/"&&o["**"]:Vl(e.pathname))&&(this.options.notFoundRoute?i.push(this.options.notFoundRoute):l=!0);const c=(()=>{if(l){if(this.options.notFoundMode!=="root")for(let _=i.length-1;_>=0;_--){const N=i[_];if(N.children)return N.id}return Ji}})(),d=i.map(_=>{var N;let k;const q=((N=_.options.params)==null?void 0:N.parse)??_.options.parseParams;if(q)try{const T=q(o);Object.assign(o,T)}catch(T){if(k=new Ej(T.message,{cause:T}),n?.throwOnError)throw k;return k}}),m=[],y=_=>_?.id?_.context??this.options.context??{}:this.options.context??{};return i.forEach((_,N)=>{var k,q,T,A;const D=m[N-1],[P,L]=(()=>{const X=D?.search??e.search;try{const fe=hb(_.options.validateSearch,X)??{};return[{...X,...fe},void 0]}catch(fe){const Ee=new ex(fe.message,{cause:fe});if(n?.throwOnError)throw Ee;return[X,Ee]}})(),V=((q=(k=_.options).loaderDeps)==null?void 0:q.call(k,{search:P}))??"",J=V?JSON.stringify(V):"",W=qh({path:_.fullPath,params:o,decodeCharMap:this.pathParamsDecodeCharMap}),Z=qh({path:_.id,params:o,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap})+J,oe=this.getMatch(Z),U=this.state.matches.find(X=>X.routeId===_.id),ne=U?"stay":"enter";let B;if(oe)B={...oe,cause:ne,params:U?Ss(U.params,o):o,search:Ss(U?U.search:oe.search,P)};else{const X=_.options.loader||_.options.beforeLoad||_.lazyFn||xj(_)?"pending":"success";B={id:Z,index:N,routeId:_.id,params:U?Ss(U.params,o):o,pathname:aa([this.basepath,W]),updatedAt:Date.now(),search:U?Ss(U.search,P):P,searchError:void 0,status:X,isFetching:!1,error:void 0,paramsError:d[N],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:ne,loaderDeps:U?Ss(U.loaderDeps,V):V,invalid:!1,preload:!1,links:void 0,scripts:void 0,meta:void 0,staticData:_.options.staticData||{},loadPromise:Yc(),fullPath:_.fullPath}}B.status==="success"&&(B.headers=(A=(T=_.options).headers)==null?void 0:A.call(T,{loaderData:B.loaderData})),n?.preload||(B.globalNotFound=c===_.id),B.searchError=L;const se=y(D);B.context={...se,...B.__routeContext,...B.__beforeLoadContext},m.push(B)}),m.forEach((_,N)=>{var k,q,T,A;const D=this.looseRoutesById[_.routeId];if(!this.getMatch(_.id)&&n?._buildLocation!==!0){const V=m[N-1],J=y(V),W={deps:_.loaderDeps,params:_.params,context:J,location:e,navigate:Z=>this.navigate({...Z,_fromLocation:e}),buildLocation:this.buildLocation,cause:_.cause,abortController:_.abortController,preload:!!_.preload,matches:m};_.__routeContext=((q=(k=D.options).context)==null?void 0:q.call(k,W))??{},_.context={...J,..._.__routeContext,..._.__beforeLoadContext}}const L=(A=(T=D.options).head)==null?void 0:A.call(T,{matches:m,match:_,params:_.params,loaderData:_.loaderData??void 0});_.links=L?.links,_.scripts=L?.scripts,_.meta=L?.meta}),m}}class ex extends Error{}class Ej extends Error{}function Nj(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:{...t},location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function kj(t){return t instanceof Error?{name:t.name,message:t.message}:{data:t}}function iN(t){return!(typeof t=="object"&&t&&"data"in t)||!("__isServerError"in t&&t.__isServerError)||!(typeof t.data=="object"&&t.data)?!1:t.__isServerError===!0}function sN(t){if("name"in t&&"message"in t){const e=new Error(t.message);return e.name=t.name,e}return t.data}const Cg=Q.createContext(void 0),Ij=Q.createContext(void 0);function tl(t){const e=Q.useContext(t.from?Ij:Cg);return wi({select:r=>{const i=r.matches.find(o=>t.from?t.from===o.routeId:o.id===e);if(Xi(!((t.shouldThrow??!0)&&!i),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),i!==void 0)return t.select?t.select(i):i},structuralSharing:t.structuralSharing})}function Os(t){return tl({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}function qj(t){const{select:e,...n}=t;return tl({...n,select:r=>e?e(r.loaderDeps):r.loaderDeps})}function En(t){return tl({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.params):e.params})}function Tj(t){return tl({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}function ow(t){const{navigate:e}=ao();return Q.useCallback(n=>e({...n}),[e])}let cq=class{constructor(e){this.init=n=>{var r,i;this.originalIndex=n.originalIndex;const o=this.options,l=!o?.path&&!o?.id;this.parentRoute=(i=(r=this.options).getParentRoute)==null?void 0:i.call(r),l?this._path=Ji:Xi(this.parentRoute);let c=l?Ji:o.path;c&&c!=="/"&&(c=iw(c));const d=o?.id||c;let m=l?Ji:aa([this.parentRoute.id===Ji?"":this.parentRoute.id,d]);c===Ji&&(c="/"),m!==Ji&&(m=aa(["/",m]));const y=m===Ji?"/":aa([this.parentRoute.fullPath,c]);this._path=c,this._id=m,this._fullPath=y,this._to=y,this._ssr=o?.ssr??n.defaultSsr??!0},this.updateLoader=n=>(Object.assign(this.options,n),this),this.update=n=>(Object.assign(this.options,n),this),this.lazy=n=>(this.lazyFn=n,this),this.useMatch=n=>tl({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>tl({...n,from:this.id,select:r=>n?.select?n.select(r.context):r.context}),this.useSearch=n=>Tj({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>En({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>qj({...n,from:this.id}),this.useLoaderData=n=>Os({...n,from:this.id}),this.useNavigate=()=>ow({from:this.id}),this.options=e||{},this.isRoot=!e?.getParentRoute,Xi(!(e?.id&&e?.path)),this.$$typeof=Symbol.for("react.memo")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}get ssr(){return this._ssr}addChildren(e){return this._addFileChildren(e)}_addFileChildren(e){return Array.isArray(e)&&(this.children=e),typeof e=="object"&&e!==null&&(this.children=Object.values(e)),this}};function Oj(t){return new cq(t)}function Cj(){return t=>Aj(t)}class Rj extends cq{constructor(e){super(e)}addChildren(e){return super.addChildren(e),this}_addFileChildren(e){return super._addFileChildren(e),this}_addFileTypes(){return this}}function Aj(t){return new Rj(t)}function en(t){return new jj(t,{silent:!0}).createRoute}class jj{constructor(e,n){this.path=e,this.createRoute=r=>{this.silent;const i=Oj(r);return i.isRoot=!1,i},this.silent=n?.silent}}function Zh(t){return h.jsx(h.Fragment,{children:t.children})}function uq(t,e,n){return e.options.notFoundComponent?h.jsx(e.options.notFoundComponent,{data:n}):t.options.defaultNotFoundComponent?h.jsx(t.options.defaultNotFoundComponent,{data:n}):h.jsx(bj,{})}const dq=Q.memo(function({matchId:e}){var n,r;const i=ao(),o=wi({select:A=>{var D;return(D=A.matches.find(P=>P.id===e))==null?void 0:D.routeId}});Xi(o);const l=i.routesById[o],c=l.options.pendingComponent??i.options.defaultPendingComponent,d=c?h.jsx(c,{}):null,m=l.options.errorComponent??i.options.defaultErrorComponent,y=l.options.onCatch??i.options.defaultOnCatch,_=l.isRoot?l.options.notFoundComponent??((n=i.options.notFoundRoute)==null?void 0:n.options.component):l.options.notFoundComponent,N=(!l.isRoot||l.options.wrapInSuspense)&&(l.options.wrapInSuspense??c??((r=l.options.errorComponent)==null?void 0:r.preload))?Q.Suspense:Zh,k=m?sw:Zh,q=_?vj:Zh,T=wi({select:A=>A.loadedAt});return h.jsx(Cg.Provider,{value:e,children:h.jsx(N,{fallback:d,children:h.jsx(k,{getResetKey:()=>T,errorComponent:m||Og,onCatch:(A,D)=>{if(Js(A))throw A;y?.(A,D)},children:h.jsx(q,{fallback:A=>{if(!_||A.routeId&&A.routeId!==o||!A.routeId&&!l.isRoot)throw A;return Q.createElement(_,A)},children:h.jsx(Pj,{matchId:e})})})})})}),Pj=Q.memo(function({matchId:e}){var n,r,i,o,l;const c=ao(),{match:d,matchIndex:m,routeId:y}=wi({select:q=>{const T=q.matches.findIndex(P=>P.id===e),A=q.matches[T];return{routeId:A.routeId,matchIndex:T,match:Jh(A,["id","status","error"])}},structuralSharing:!0}),_=c.routesById[y],N=Q.useMemo(()=>{const q=_.options.component??c.options.defaultComponent;return q?h.jsx(q,{}):h.jsx(As,{})},[_.options.component,c.options.defaultComponent]),k=(_.options.errorComponent??c.options.defaultErrorComponent)||Og;if(d.status==="notFound"){let q;return iN(d.error)?q=(((n=c.options.errorSerializer)==null?void 0:n.deserialize)??sN)(d.error.data):q=d.error,Xi(Js(q)),uq(c,_,q)}if(d.status==="redirected")throw Xi(Fl(d.error)),(r=c.getMatch(d.id))==null?void 0:r.loadPromise;if(d.status==="error"){if(c.isServer)return h.jsx(k,{error:d.error,info:{componentStack:""}});throw iN(d.error)?(((i=c.options.errorSerializer)==null?void 0:i.deserialize)??sN)(d.error.data):d.error}if(d.status==="pending"){const q=_.options.pendingMinMs??c.options.defaultPendingMinMs;if(q&&!((o=c.getMatch(d.id))!=null&&o.minPendingPromise)&&!c.isServer){const T=Yc();Promise.resolve().then(()=>{c.updateMatch(d.id,A=>({...A,minPendingPromise:T}))}),setTimeout(()=>{T.resolve(),c.updateMatch(d.id,A=>({...A,minPendingPromise:void 0}))},q)}throw(l=c.getMatch(d.id))==null?void 0:l.loadPromise}return h.jsxs(h.Fragment,{children:[N,c.AfterEachMatch?h.jsx(c.AfterEachMatch,{match:d,matchIndex:m}):null]})}),As=Q.memo(function(){const e=ao(),n=Q.useContext(Cg),r=wi({select:m=>{var y;return(y=m.matches.find(_=>_.id===n))==null?void 0:y.routeId}}),i=e.routesById[r],o=wi({select:m=>{const _=m.matches.find(N=>N.id===n);return Xi(_),_.globalNotFound}}),l=wi({select:m=>{var y;const _=m.matches,N=_.findIndex(k=>k.id===n);return(y=_[N+1])==null?void 0:y.id}});if(o)return uq(e,i,void 0);if(!l)return null;const c=h.jsx(dq,{matchId:l}),d=e.options.defaultPendingComponent?h.jsx(e.options.defaultPendingComponent,{}):null;return n===Ji?h.jsx(Q.Suspense,{fallback:d,children:c}):c});var mb={exports:{}},Ci={},gb={exports:{}},yb={};var oN;function Fj(){return oN||(oN=1,function(t){function e(ve,pe){var Ne=ve.length;ve.push(pe);e:for(;0<Ne;){var K=Ne-1>>>1,xe=ve[K];if(0<i(xe,pe))ve[K]=pe,ve[Ne]=xe,Ne=K;else break e}}function n(ve){return ve.length===0?null:ve[0]}function r(ve){if(ve.length===0)return null;var pe=ve[0],Ne=ve.pop();if(Ne!==pe){ve[0]=Ne;e:for(var K=0,xe=ve.length,ut=xe>>>1;K<ut;){var at=2*(K+1)-1,ft=ve[at],dt=at+1,pt=ve[dt];if(0>i(ft,Ne))dt<xe&&0>i(pt,ft)?(ve[K]=pt,ve[dt]=Ne,K=dt):(ve[K]=ft,ve[at]=Ne,K=at);else if(dt<xe&&0>i(pt,Ne))ve[K]=pt,ve[dt]=Ne,K=dt;else break e}}return pe}function i(ve,pe){var Ne=ve.sortIndex-pe.sortIndex;return Ne!==0?Ne:ve.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],m=[],y=1,_=null,N=3,k=!1,q=!1,T=!1,A=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(ve){for(var pe=n(m);pe!==null;){if(pe.callback===null)r(m);else if(pe.startTime<=ve)r(m),pe.sortIndex=pe.expirationTime,e(d,pe);else break;pe=n(m)}}function V(ve){if(T=!1,L(ve),!q)if(n(d)!==null)q=!0,Oe(J);else{var pe=n(m);pe!==null&&je(V,pe.startTime-ve)}}function J(ve,pe){q=!1,T&&(T=!1,D(oe),oe=-1),k=!0;var Ne=N;try{for(L(pe),_=n(d);_!==null&&(!(_.expirationTime>pe)||ve&&!B());){var K=_.callback;if(typeof K=="function"){_.callback=null,N=_.priorityLevel;var xe=K(_.expirationTime<=pe);pe=t.unstable_now(),typeof xe=="function"?_.callback=xe:_===n(d)&&r(d),L(pe)}else r(d);_=n(d)}if(_!==null)var ut=!0;else{var at=n(m);at!==null&&je(V,at.startTime-pe),ut=!1}return ut}finally{_=null,N=Ne,k=!1}}var W=!1,Z=null,oe=-1,U=5,ne=-1;function B(){return!(t.unstable_now()-ne<U)}function se(){if(Z!==null){var ve=t.unstable_now();ne=ve;var pe=!0;try{pe=Z(!0,ve)}finally{pe?X():(W=!1,Z=null)}}else W=!1}var X;if(typeof P=="function")X=function(){P(se)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,Ee=fe.port2;fe.port1.onmessage=se,X=function(){Ee.postMessage(null)}}else X=function(){A(se,0)};function Oe(ve){Z=ve,W||(W=!0,X())}function je(ve,pe){oe=A(function(){ve(t.unstable_now())},pe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ve){ve.callback=null},t.unstable_continueExecution=function(){q||k||(q=!0,Oe(J))},t.unstable_forceFrameRate=function(ve){0>ve||125<ve?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<ve?Math.floor(1e3/ve):5},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(ve){switch(N){case 1:case 2:case 3:var pe=3;break;default:pe=N}var Ne=N;N=pe;try{return ve()}finally{N=Ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ve,pe){switch(ve){case 1:case 2:case 3:case 4:case 5:break;default:ve=3}var Ne=N;N=ve;try{return pe()}finally{N=Ne}},t.unstable_scheduleCallback=function(ve,pe,Ne){var K=t.unstable_now();switch(typeof Ne=="object"&&Ne!==null?(Ne=Ne.delay,Ne=typeof Ne=="number"&&0<Ne?K+Ne:K):Ne=K,ve){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=0x3fffffff;break;case 4:xe=1e4;break;default:xe=5e3}return xe=Ne+xe,ve={id:y++,callback:pe,priorityLevel:ve,startTime:Ne,expirationTime:xe,sortIndex:-1},Ne>K?(ve.sortIndex=Ne,e(m,ve),n(d)===null&&ve===n(m)&&(T?(D(oe),oe=-1):T=!0,je(V,Ne-K))):(ve.sortIndex=xe,e(d,ve),q||k||(q=!0,Oe(J))),ve},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(ve){var pe=N;return function(){var Ne=N;N=pe;try{return ve.apply(this,arguments)}finally{N=Ne}}}}(yb)),yb}var aN;function Lj(){return aN||(aN=1,gb.exports=Fj()),gb.exports}var lN;function Dj(){if(lN)return Ci;lN=1;var t=Kf(),e=Lj();function n(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},_={};function N(s){return d.call(_,s)?!0:d.call(y,s)?!1:m.test(s)?_[s]=!0:(y[s]=!0,!1)}function k(s,a,u,g){if(u!==null&&u.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return g?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function q(s,a,u,g){if(a===null||typeof a>"u"||k(s,a,u,g))return!0;if(g)return!1;if(u!==null)switch(u.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function T(s,a,u,g,w,E,j){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=g,this.attributeNamespace=w,this.mustUseProperty=u,this.propertyName=s,this.type=a,this.sanitizeURL=E,this.removeEmptyString=j}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){A[s]=new T(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];A[a]=new T(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){A[s]=new T(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){A[s]=new T(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){A[s]=new T(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){A[s]=new T(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){A[s]=new T(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){A[s]=new T(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){A[s]=new T(s,5,!1,s.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function P(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(D,P);A[a]=new T(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(D,P);A[a]=new T(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(D,P);A[a]=new T(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){A[s]=new T(s,1,!1,s.toLowerCase(),null,!1,!1)}),A.xlinkHref=new T("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){A[s]=new T(s,1,!1,s.toLowerCase(),null,!0,!0)});function L(s,a,u,g){var w=A.hasOwnProperty(a)?A[a]:null;(w!==null?w.type!==0:g||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(q(a,u,w,g)&&(u=null),g||w===null?N(a)&&(u===null?s.removeAttribute(a):s.setAttribute(a,""+u)):w.mustUseProperty?s[w.propertyName]=u===null?w.type===3?!1:"":u:(a=w.attributeName,g=w.attributeNamespace,u===null?s.removeAttribute(a):(w=w.type,u=w===3||w===4&&u===!0?"":""+u,g?s.setAttributeNS(g,a,u):s.setAttribute(a,u))))}var V=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J=Symbol.for("react.element"),W=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),oe=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),B=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),Ee=Symbol.for("react.memo"),Oe=Symbol.for("react.lazy"),je=Symbol.for("react.offscreen"),ve=Symbol.iterator;function pe(s){return s===null||typeof s!="object"?null:(s=ve&&s[ve]||s["@@iterator"],typeof s=="function"?s:null)}var Ne=Object.assign,K;function xe(s){if(K===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);K=a&&a[1]||""}return`
`+K+s}var ut=!1;function at(s,a){if(!s||ut)return"";ut=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Le){var g=Le}Reflect.construct(s,[],a)}else{try{a.call()}catch(Le){g=Le}s.call(a.prototype)}else{try{throw Error()}catch(Le){g=Le}s()}}catch(Le){if(Le&&g&&typeof Le.stack=="string"){for(var w=Le.stack.split(`
`),E=g.stack.split(`
`),j=w.length-1,ae=E.length-1;1<=j&&0<=ae&&w[j]!==E[ae];)ae--;for(;1<=j&&0<=ae;j--,ae--)if(w[j]!==E[ae]){if(j!==1||ae!==1)do if(j--,ae--,0>ae||w[j]!==E[ae]){var he=`
`+w[j].replace(" at new "," at ");return s.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",s.displayName)),he}while(1<=j&&0<=ae);break}}}finally{ut=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?xe(s):""}function ft(s){switch(s.tag){case 5:return xe(s.type);case 16:return xe("Lazy");case 13:return xe("Suspense");case 19:return xe("SuspenseList");case 0:case 2:case 15:return s=at(s.type,!1),s;case 11:return s=at(s.type.render,!1),s;case 1:return s=at(s.type,!0),s;default:return""}}function dt(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case Z:return"Fragment";case W:return"Portal";case U:return"Profiler";case oe:return"StrictMode";case X:return"Suspense";case fe:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case B:return(s.displayName||"Context")+".Consumer";case ne:return(s._context.displayName||"Context")+".Provider";case se:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ee:return a=s.displayName||null,a!==null?a:dt(s.type)||"Memo";case Oe:a=s._payload,s=s._init;try{return dt(s(a))}catch{}}return null}function pt(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dt(a);case 8:return a===oe?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function vt(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function At(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function mt(s){var a=At(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),g=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var w=u.get,E=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return w.call(this)},set:function(j){g=""+j,E.call(this,j)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return g},setValue:function(j){g=""+j},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function ht(s){s._valueTracker||(s._valueTracker=mt(s))}function Nt(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),g="";return s&&(g=At(s)?s.checked?"true":"false":s.value),s=g,s!==u?(a.setValue(s),!0):!1}function kt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Yt(s,a){var u=a.checked;return Ne({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function Kt(s,a){var u=a.defaultValue==null?"":a.defaultValue,g=a.checked!=null?a.checked:a.defaultChecked;u=vt(a.value!=null?a.value:u),s._wrapperState={initialChecked:g,initialValue:u,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function sn(s,a){a=a.checked,a!=null&&L(s,"checked",a,!1)}function hn(s,a){sn(s,a);var u=vt(a.value),g=a.type;if(u!=null)g==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(g==="submit"||g==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?ue(s,a.type,u):a.hasOwnProperty("defaultValue")&&ue(s,a.type,vt(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function le(s,a,u){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var g=a.type;if(!(g!=="submit"&&g!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,u||a===s.value||(s.value=a),s.defaultValue=a}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function ue(s,a,u){(a!=="number"||kt(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var ye=Array.isArray;function Ce(s,a,u,g){if(s=s.options,a){a={};for(var w=0;w<u.length;w++)a["$"+u[w]]=!0;for(u=0;u<s.length;u++)w=a.hasOwnProperty("$"+s[u].value),s[u].selected!==w&&(s[u].selected=w),w&&g&&(s[u].defaultSelected=!0)}else{for(u=""+vt(u),a=null,w=0;w<s.length;w++){if(s[w].value===u){s[w].selected=!0,g&&(s[w].defaultSelected=!0);return}a!==null||s[w].disabled||(a=s[w])}a!==null&&(a.selected=!0)}}function De(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return Ne({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Je(s,a){var u=a.value;if(u==null){if(u=a.children,a=a.defaultValue,u!=null){if(a!=null)throw Error(n(92));if(ye(u)){if(1<u.length)throw Error(n(93));u=u[0]}a=u}a==null&&(a=""),u=a}s._wrapperState={initialValue:vt(u)}}function Fe(s,a){var u=vt(a.value),g=vt(a.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),a.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),g!=null&&(s.defaultValue=""+g)}function et(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Vt(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Vt(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var yn,xr=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,u,g,w){MSApp.execUnsafeLocalFunction(function(){return s(a,u,g,w)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(yn=yn||document.createElement("div"),yn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=yn.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Fn(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var $r={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ui=["Webkit","ms","Moz","O"];Object.keys($r).forEach(function(s){Ui.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),$r[a]=$r[s]})});function wr(s,a,u){return a==null||typeof a=="boolean"||a===""?"":u||typeof a!="number"||a===0||$r.hasOwnProperty(s)&&$r[s]?(""+a).trim():a+"px"}function $t(s,a){s=s.style;for(var u in a)if(a.hasOwnProperty(u)){var g=u.indexOf("--")===0,w=wr(u,a[u],g);u==="float"&&(u="cssFloat"),g?s.setProperty(u,w):s[u]=w}}var us=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ds(s,a){if(a){if(us[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function fs(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bo=null;function gl(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Xu=null,fo=null,C=null;function xp(s){if(s=_d(s)){if(typeof Xu!="function")throw Error(n(280));var a=s.stateNode;a&&(a=Wp(a),Xu(s.stateNode,s.type,a))}}function ln(s){fo?C?C.push(s):C=[s]:fo=s}function wp(){if(fo){var s=fo,a=C;if(C=fo=null,xp(s),a)for(s=0;s<a.length;s++)xp(a[s])}}function Sp(s,a){return s(a)}function Ep(){}var ed=!1;function yl(s,a,u){if(ed)return s(a,u);ed=!0;try{return Sp(s,a,u)}finally{ed=!1,(fo!==null||C!==null)&&(Ep(),wp())}}function ps(s,a){var u=s.stateNode;if(u===null)return null;var g=Wp(u);if(g===null)return null;u=g[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,a,typeof u));return u}var td=!1;if(c)try{var vl={};Object.defineProperty(vl,"passive",{get:function(){td=!0}}),window.addEventListener("test",vl,vl),window.removeEventListener("test",vl,vl)}catch{td=!1}function by(s,a,u,g,w,E,j,ae,he){var Le=Array.prototype.slice.call(arguments,3);try{a.apply(u,Le)}catch(rt){this.onError(rt)}}var bl=!1,po=null,yc=!1,ho=null,_y={onError:function(s){bl=!0,po=s}};function xy(s,a,u,g,w,E,j,ae,he){bl=!1,po=null,by.apply(_y,arguments)}function wy(s,a,u,g,w,E,j,ae,he){if(xy.apply(this,arguments),bl){if(bl){var Le=po;bl=!1,po=null}else throw Error(n(198));yc||(yc=!0,ho=Le)}}function $o(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,a.flags&4098&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function Np(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function kp(s){if($o(s)!==s)throw Error(n(188))}function Sy(s){var a=s.alternate;if(!a){if(a=$o(s),a===null)throw Error(n(188));return a!==s?null:s}for(var u=s,g=a;;){var w=u.return;if(w===null)break;var E=w.alternate;if(E===null){if(g=w.return,g!==null){u=g;continue}break}if(w.child===E.child){for(E=w.child;E;){if(E===u)return kp(w),s;if(E===g)return kp(w),a;E=E.sibling}throw Error(n(188))}if(u.return!==g.return)u=w,g=E;else{for(var j=!1,ae=w.child;ae;){if(ae===u){j=!0,u=w,g=E;break}if(ae===g){j=!0,g=w,u=E;break}ae=ae.sibling}if(!j){for(ae=E.child;ae;){if(ae===u){j=!0,u=E,g=w;break}if(ae===g){j=!0,g=E,u=w;break}ae=ae.sibling}if(!j)throw Error(n(189))}}if(u.alternate!==g)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:a}function Ip(s){return s=Sy(s),s!==null?qp(s):null}function qp(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=qp(s);if(a!==null)return a;s=s.sibling}return null}var Tp=e.unstable_scheduleCallback,nd=e.unstable_cancelCallback,Ey=e.unstable_shouldYield,Ny=e.unstable_requestPaint,cr=e.unstable_now,ky=e.unstable_getCurrentPriorityLevel,rd=e.unstable_ImmediatePriority,Op=e.unstable_UserBlockingPriority,vc=e.unstable_NormalPriority,Iy=e.unstable_LowPriority,Cp=e.unstable_IdlePriority,bc=null,hs=null;function qy(s){if(hs&&typeof hs.onCommitFiberRoot=="function")try{hs.onCommitFiberRoot(bc,s,void 0,(s.current.flags&128)===128)}catch{}}var Ni=Math.clz32?Math.clz32:Cy,Ty=Math.log,Oy=Math.LN2;function Cy(s){return s>>>=0,s===0?32:31-(Ty(s)/Oy|0)|0}var ya=64,_c=4194304;function Ms(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return s&0x7c00000;case 0x8000000:return 0x8000000;case 0x10000000:return 0x10000000;case 0x20000000:return 0x20000000;case 0x40000000:return 0x40000000;default:return s}}function xc(s,a){var u=s.pendingLanes;if(u===0)return 0;var g=0,w=s.suspendedLanes,E=s.pingedLanes,j=u&0xfffffff;if(j!==0){var ae=j&~w;ae!==0?g=Ms(ae):(E&=j,E!==0&&(g=Ms(E)))}else j=u&~w,j!==0?g=Ms(j):E!==0&&(g=Ms(E));if(g===0)return 0;if(a!==0&&a!==g&&!(a&w)&&(w=g&-g,E=a&-a,w>=E||w===16&&(E&4194240)!==0))return a;if(g&4&&(g|=u&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=g;0<a;)u=31-Ni(a),w=1<<u,g|=s[u],a&=~w;return g}function Ry(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return-1;case 0x8000000:case 0x10000000:case 0x20000000:case 0x40000000:return-1;default:return-1}}function Ay(s,a){for(var u=s.suspendedLanes,g=s.pingedLanes,w=s.expirationTimes,E=s.pendingLanes;0<E;){var j=31-Ni(E),ae=1<<j,he=w[j];he===-1?(!(ae&u)||ae&g)&&(w[j]=Ry(ae,a)):he<=a&&(s.expiredLanes|=ae),E&=~ae}}function id(s){return s=s.pendingLanes&-0x40000001,s!==0?s:s&0x40000000?0x40000000:0}function Rp(){var s=ya;return ya<<=1,!(ya&4194240)&&(ya=64),s}function sd(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function _l(s,a,u){s.pendingLanes|=a,a!==0x20000000&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-Ni(a),s[a]=u}function jy(s,a){var u=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var g=s.eventTimes;for(s=s.expirationTimes;0<u;){var w=31-Ni(u),E=1<<w;a[w]=0,g[w]=-1,s[w]=-1,u&=~E}}function od(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var g=31-Ni(u),w=1<<g;w&a|s[g]&a&&(s[g]|=a),u&=~w}}var qn=0;function Ap(s){return s&=-s,1<s?4<s?s&0xfffffff?16:0x20000000:4:1}var ad,re,ld,xl,cd,f=!1,p=[],b=null,x=null,S=null,I=new Map,ee=new Map,ie=[],Me="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ve(s,a){switch(s){case"focusin":case"focusout":b=null;break;case"dragenter":case"dragleave":x=null;break;case"mouseover":case"mouseout":S=null;break;case"pointerover":case"pointerout":I.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ee.delete(a.pointerId)}}function Ze(s,a,u,g,w,E){return s===null||s.nativeEvent!==E?(s={blockedOn:a,domEventName:u,eventSystemFlags:g,nativeEvent:E,targetContainers:[w]},a!==null&&(a=_d(a),a!==null&&re(a)),s):(s.eventSystemFlags|=g,a=s.targetContainers,w!==null&&a.indexOf(w)===-1&&a.push(w),s)}function it(s,a,u,g,w){switch(a){case"focusin":return b=Ze(b,s,a,u,g,w),!0;case"dragenter":return x=Ze(x,s,a,u,g,w),!0;case"mouseover":return S=Ze(S,s,a,u,g,w),!0;case"pointerover":var E=w.pointerId;return I.set(E,Ze(I.get(E)||null,s,a,u,g,w)),!0;case"gotpointercapture":return E=w.pointerId,ee.set(E,Ze(ee.get(E)||null,s,a,u,g,w)),!0}return!1}function Ae(s){var a=wl(s.target);if(a!==null){var u=$o(a);if(u!==null){if(a=u.tag,a===13){if(a=Np(u),a!==null){s.blockedOn=a,cd(s.priority,function(){ld(u)});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Se(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=Y(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var g=new u.constructor(u.type,u);Bo=g,u.target.dispatchEvent(g),Bo=null}else return a=_d(u),a!==null&&re(a),s.blockedOn=u,!1;a.shift()}return!0}function Ue(s,a,u){Se(s)&&u.delete(a)}function ce(){f=!1,b!==null&&Se(b)&&(b=null),x!==null&&Se(x)&&(x=null),S!==null&&Se(S)&&(S=null),I.forEach(Ue),ee.forEach(Ue)}function ge(s,a){s.blockedOn===a&&(s.blockedOn=null,f||(f=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ce)))}function _e(s){function a(w){return ge(w,s)}if(0<p.length){ge(p[0],s);for(var u=1;u<p.length;u++){var g=p[u];g.blockedOn===s&&(g.blockedOn=null)}}for(b!==null&&ge(b,s),x!==null&&ge(x,s),S!==null&&ge(S,s),I.forEach(a),ee.forEach(a),u=0;u<ie.length;u++)g=ie[u],g.blockedOn===s&&(g.blockedOn=null);for(;0<ie.length&&(u=ie[0],u.blockedOn===null);)Ae(u),u.blockedOn===null&&ie.shift()}var We=V.ReactCurrentBatchConfig,$e=!0;function we(s,a,u,g){var w=qn,E=We.transition;We.transition=null;try{qn=1,bt(s,a,u,g)}finally{qn=w,We.transition=E}}function Be(s,a,u,g){var w=qn,E=We.transition;We.transition=null;try{qn=4,bt(s,a,u,g)}finally{qn=w,We.transition=E}}function bt(s,a,u,g){if($e){var w=Y(s,a,u,g);if(w===null)Ky(s,a,g,F,u),Ve(s,g);else if(it(w,s,a,u,g))g.stopPropagation();else if(Ve(s,g),a&4&&-1<Me.indexOf(s)){for(;w!==null;){var E=_d(w);if(E!==null&&ad(E),E=Y(s,a,u,g),E===null&&Ky(s,a,g,F,u),E===w)break;w=E}w!==null&&g.stopPropagation()}else Ky(s,a,g,null,u)}}var F=null;function Y(s,a,u,g){if(F=null,s=gl(g),s=wl(s),s!==null)if(a=$o(s),a===null)s=null;else if(u=a.tag,u===13){if(s=Np(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return F=s,null}function me(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ky()){case rd:return 1;case Op:return 4;case vc:case Iy:return 16;case Cp:return 0x20000000;default:return 16}default:return 16}}var Ke=null,H=null,te=null;function O(){if(te)return te;var s,a=H,u=a.length,g,w="value"in Ke?Ke.value:Ke.textContent,E=w.length;for(s=0;s<u&&a[s]===w[s];s++);var j=u-s;for(g=1;g<=j&&a[u-g]===w[E-g];g++);return te=w.slice(s,1<g?1-g:void 0)}function M(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function z(){return!0}function Te(){return!1}function Qe(s){function a(u,g,w,E,j){this._reactName=u,this._targetInst=w,this.type=g,this.nativeEvent=E,this.target=j,this.currentTarget=null;for(var ae in s)s.hasOwnProperty(ae)&&(u=s[ae],this[ae]=u?u(E):E[ae]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?z:Te,this.isPropagationStopped=Te,this}return Ne(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=z)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=z)},persist:function(){},isPersistent:z}),a}var It={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lt=Qe(It),Wt=Ne({},It,{view:0,detail:0}),Ye=Qe(Wt),de,Ie,Ge,nt=Ne({},Wt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:un,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ge&&(Ge&&s.type==="mousemove"?(de=s.screenX-Ge.screenX,Ie=s.screenY-Ge.screenY):Ie=de=0,Ge=s),de)},movementY:function(s){return"movementY"in s?s.movementY:Ie}}),Rt=Qe(nt),Ut=Ne({},nt,{dataTransfer:0}),ke=Qe(Ut),He=Ne({},Wt,{relatedTarget:0}),Xe=Qe(He),xt=Ne({},It,{animationName:0,elapsedTime:0,pseudoElement:0}),gt=Qe(xt),Ft=Ne({},It,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),cn=Qe(Ft),qt=Ne({},It,{data:0}),ur=Qe(qt),Pe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wt(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=yt[s])?!!a[s]:!1}function un(){return wt}var Mn=Ne({},Wt,{key:function(s){if(s.key){var a=Pe[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=M(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?lt[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:un,charCode:function(s){return s.type==="keypress"?M(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?M(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),On=Qe(Mn),Ln=Ne({},nt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wo=Qe(Ln),Qr=Ne({},Wt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:un}),Py=Qe(Qr),Fy=Ne({},It,{propertyName:0,elapsedTime:0,pseudoElement:0}),ms=Qe(Fy),Ly=Ne({},nt,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),jp=Qe(Ly),ud=[9,13,27,32],Dy=c&&"CompositionEvent"in window,dd=null;c&&"documentMode"in document&&(dd=document.documentMode);var n3=c&&"TextEvent"in window&&!dd,E0=c&&(!Dy||dd&&8<dd&&11>=dd),N0=" ",k0=!1;function I0(s,a){switch(s){case"keyup":return ud.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function q0(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var wc=!1;function r3(s,a){switch(s){case"compositionend":return q0(a);case"keypress":return a.which!==32?null:(k0=!0,N0);case"textInput":return s=a.data,s===N0&&k0?null:s;default:return null}}function i3(s,a){if(wc)return s==="compositionend"||!Dy&&I0(s,a)?(s=O(),te=H=Ke=null,wc=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return E0&&a.locale!=="ko"?null:a.data;default:return null}}var s3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T0(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!s3[s.type]:a==="textarea"}function O0(s,a,u,g){ln(g),a=Mp(a,"onChange"),0<a.length&&(u=new Lt("onChange","change",null,u,g),s.push({event:u,listeners:a}))}var fd=null,pd=null;function o3(s){K0(s,0)}function Pp(s){var a=Ic(s);if(Nt(a))return s}function a3(s,a){if(s==="change")return a}var C0=!1;if(c){var My;if(c){var By="oninput"in document;if(!By){var R0=document.createElement("div");R0.setAttribute("oninput","return;"),By=typeof R0.oninput=="function"}My=By}else My=!1;C0=My&&(!document.documentMode||9<document.documentMode)}function A0(){fd&&(fd.detachEvent("onpropertychange",j0),pd=fd=null)}function j0(s){if(s.propertyName==="value"&&Pp(pd)){var a=[];O0(a,pd,s,gl(s)),yl(o3,a)}}function l3(s,a,u){s==="focusin"?(A0(),fd=a,pd=u,fd.attachEvent("onpropertychange",j0)):s==="focusout"&&A0()}function c3(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Pp(pd)}function u3(s,a){if(s==="click")return Pp(a)}function d3(s,a){if(s==="input"||s==="change")return Pp(a)}function f3(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Bs=typeof Object.is=="function"?Object.is:f3;function hd(s,a){if(Bs(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),g=Object.keys(a);if(u.length!==g.length)return!1;for(g=0;g<u.length;g++){var w=u[g];if(!d.call(a,w)||!Bs(s[w],a[w]))return!1}return!0}function P0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function F0(s,a){var u=P0(s);s=0;for(var g;u;){if(u.nodeType===3){if(g=s+u.textContent.length,s<=a&&g>=a)return{node:u,offset:a-s};s=g}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=P0(u)}}function L0(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?L0(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function D0(){for(var s=window,a=kt();a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=kt(s.document)}return a}function $y(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function p3(s){var a=D0(),u=s.focusedElem,g=s.selectionRange;if(a!==u&&u&&u.ownerDocument&&L0(u.ownerDocument.documentElement,u)){if(g!==null&&$y(u)){if(a=g.start,s=g.end,s===void 0&&(s=a),"selectionStart"in u)u.selectionStart=a,u.selectionEnd=Math.min(s,u.value.length);else if(s=(a=u.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var w=u.textContent.length,E=Math.min(g.start,w);g=g.end===void 0?E:Math.min(g.end,w),!s.extend&&E>g&&(w=g,g=E,E=w),w=F0(u,E);var j=F0(u,g);w&&j&&(s.rangeCount!==1||s.anchorNode!==w.node||s.anchorOffset!==w.offset||s.focusNode!==j.node||s.focusOffset!==j.offset)&&(a=a.createRange(),a.setStart(w.node,w.offset),s.removeAllRanges(),E>g?(s.addRange(a),s.extend(j.node,j.offset)):(a.setEnd(j.node,j.offset),s.addRange(a)))}}for(a=[],s=u;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<a.length;u++)s=a[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var h3=c&&"documentMode"in document&&11>=document.documentMode,Sc=null,Wy=null,md=null,zy=!1;function M0(s,a,u){var g=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;zy||Sc==null||Sc!==kt(g)||(g=Sc,"selectionStart"in g&&$y(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),md&&hd(md,g)||(md=g,g=Mp(Wy,"onSelect"),0<g.length&&(a=new Lt("onSelect","select",null,a,u),s.push({event:a,listeners:g}),a.target=Sc)))}function Fp(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var Ec={animationend:Fp("Animation","AnimationEnd"),animationiteration:Fp("Animation","AnimationIteration"),animationstart:Fp("Animation","AnimationStart"),transitionend:Fp("Transition","TransitionEnd")},Uy={},B0={};c&&(B0=document.createElement("div").style,"AnimationEvent"in window||(delete Ec.animationend.animation,delete Ec.animationiteration.animation,delete Ec.animationstart.animation),"TransitionEvent"in window||delete Ec.transitionend.transition);function Lp(s){if(Uy[s])return Uy[s];if(!Ec[s])return s;var a=Ec[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in B0)return Uy[s]=a[u];return s}var $0=Lp("animationend"),W0=Lp("animationiteration"),z0=Lp("animationstart"),U0=Lp("transitionend"),V0=new Map,H0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function va(s,a){V0.set(s,a),o(a,[s])}for(var Vy=0;Vy<H0.length;Vy++){var Hy=H0[Vy],m3=Hy.toLowerCase(),g3=Hy[0].toUpperCase()+Hy.slice(1);va(m3,"on"+g3)}va($0,"onAnimationEnd"),va(W0,"onAnimationIteration"),va(z0,"onAnimationStart"),va("dblclick","onDoubleClick"),va("focusin","onFocus"),va("focusout","onBlur"),va(U0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y3=new Set("cancel close invalid load scroll toggle".split(" ").concat(gd));function Q0(s,a,u){var g=s.type||"unknown-event";s.currentTarget=u,wy(g,a,void 0,s),s.currentTarget=null}function K0(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var g=s[u],w=g.event;g=g.listeners;e:{var E=void 0;if(a)for(var j=g.length-1;0<=j;j--){var ae=g[j],he=ae.instance,Le=ae.currentTarget;if(ae=ae.listener,he!==E&&w.isPropagationStopped())break e;Q0(w,ae,Le),E=he}else for(j=0;j<g.length;j++){if(ae=g[j],he=ae.instance,Le=ae.currentTarget,ae=ae.listener,he!==E&&w.isPropagationStopped())break e;Q0(w,ae,Le),E=he}}}if(yc)throw s=ho,yc=!1,ho=null,s}function Xn(s,a){var u=a[ev];u===void 0&&(u=a[ev]=new Set);var g=s+"__bubble";u.has(g)||(G0(a,s,2,!1),u.add(g))}function Qy(s,a,u){var g=0;a&&(g|=4),G0(u,s,g,a)}var Dp="_reactListening"+Math.random().toString(36).slice(2);function yd(s){if(!s[Dp]){s[Dp]=!0,r.forEach(function(u){u!=="selectionchange"&&(y3.has(u)||Qy(u,!1,s),Qy(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Dp]||(a[Dp]=!0,Qy("selectionchange",!1,a))}}function G0(s,a,u,g){switch(me(a)){case 1:var w=we;break;case 4:w=Be;break;default:w=bt}u=w.bind(null,a,u,s),w=void 0,!td||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(w=!0),g?w!==void 0?s.addEventListener(a,u,{capture:!0,passive:w}):s.addEventListener(a,u,!0):w!==void 0?s.addEventListener(a,u,{passive:w}):s.addEventListener(a,u,!1)}function Ky(s,a,u,g,w){var E=g;if(!(a&1)&&!(a&2)&&g!==null)e:for(;;){if(g===null)return;var j=g.tag;if(j===3||j===4){var ae=g.stateNode.containerInfo;if(ae===w||ae.nodeType===8&&ae.parentNode===w)break;if(j===4)for(j=g.return;j!==null;){var he=j.tag;if((he===3||he===4)&&(he=j.stateNode.containerInfo,he===w||he.nodeType===8&&he.parentNode===w))return;j=j.return}for(;ae!==null;){if(j=wl(ae),j===null)return;if(he=j.tag,he===5||he===6){g=E=j;continue e}ae=ae.parentNode}}g=g.return}yl(function(){var Le=E,rt=gl(u),st=[];e:{var tt=V0.get(s);if(tt!==void 0){var Tt=Lt,Pt=s;switch(s){case"keypress":if(M(u)===0)break e;case"keydown":case"keyup":Tt=On;break;case"focusin":Pt="focus",Tt=Xe;break;case"focusout":Pt="blur",Tt=Xe;break;case"beforeblur":case"afterblur":Tt=Xe;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Tt=Rt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Tt=ke;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Tt=Py;break;case $0:case W0:case z0:Tt=gt;break;case U0:Tt=ms;break;case"scroll":Tt=Ye;break;case"wheel":Tt=jp;break;case"copy":case"cut":case"paste":Tt=cn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Tt=Wo}var Dt=(a&4)!==0,Sr=!Dt&&s==="scroll",qe=Dt?tt!==null?tt+"Capture":null:tt;Dt=[];for(var be=Le,Re;be!==null;){Re=be;var ct=Re.stateNode;if(Re.tag===5&&ct!==null&&(Re=ct,qe!==null&&(ct=ps(be,qe),ct!=null&&Dt.push(vd(be,ct,Re)))),Sr)break;be=be.return}0<Dt.length&&(tt=new Tt(tt,Pt,null,u,rt),st.push({event:tt,listeners:Dt}))}}if(!(a&7)){e:{if(tt=s==="mouseover"||s==="pointerover",Tt=s==="mouseout"||s==="pointerout",tt&&u!==Bo&&(Pt=u.relatedTarget||u.fromElement)&&(wl(Pt)||Pt[zo]))break e;if((Tt||tt)&&(tt=rt.window===rt?rt:(tt=rt.ownerDocument)?tt.defaultView||tt.parentWindow:window,Tt?(Pt=u.relatedTarget||u.toElement,Tt=Le,Pt=Pt?wl(Pt):null,Pt!==null&&(Sr=$o(Pt),Pt!==Sr||Pt.tag!==5&&Pt.tag!==6)&&(Pt=null)):(Tt=null,Pt=Le),Tt!==Pt)){if(Dt=Rt,ct="onMouseLeave",qe="onMouseEnter",be="mouse",(s==="pointerout"||s==="pointerover")&&(Dt=Wo,ct="onPointerLeave",qe="onPointerEnter",be="pointer"),Sr=Tt==null?tt:Ic(Tt),Re=Pt==null?tt:Ic(Pt),tt=new Dt(ct,be+"leave",Tt,u,rt),tt.target=Sr,tt.relatedTarget=Re,ct=null,wl(rt)===Le&&(Dt=new Dt(qe,be+"enter",Pt,u,rt),Dt.target=Re,Dt.relatedTarget=Sr,ct=Dt),Sr=ct,Tt&&Pt)t:{for(Dt=Tt,qe=Pt,be=0,Re=Dt;Re;Re=Nc(Re))be++;for(Re=0,ct=qe;ct;ct=Nc(ct))Re++;for(;0<be-Re;)Dt=Nc(Dt),be--;for(;0<Re-be;)qe=Nc(qe),Re--;for(;be--;){if(Dt===qe||qe!==null&&Dt===qe.alternate)break t;Dt=Nc(Dt),qe=Nc(qe)}Dt=null}else Dt=null;Tt!==null&&J0(st,tt,Tt,Dt,!1),Pt!==null&&Sr!==null&&J0(st,Sr,Pt,Dt,!0)}}e:{if(tt=Le?Ic(Le):window,Tt=tt.nodeName&&tt.nodeName.toLowerCase(),Tt==="select"||Tt==="input"&&tt.type==="file")var Mt=a3;else if(T0(tt))if(C0)Mt=d3;else{Mt=c3;var Ht=l3}else(Tt=tt.nodeName)&&Tt.toLowerCase()==="input"&&(tt.type==="checkbox"||tt.type==="radio")&&(Mt=u3);if(Mt&&(Mt=Mt(s,Le))){O0(st,Mt,u,rt);break e}Ht&&Ht(s,tt,Le),s==="focusout"&&(Ht=tt._wrapperState)&&Ht.controlled&&tt.type==="number"&&ue(tt,"number",tt.value)}switch(Ht=Le?Ic(Le):window,s){case"focusin":(T0(Ht)||Ht.contentEditable==="true")&&(Sc=Ht,Wy=Le,md=null);break;case"focusout":md=Wy=Sc=null;break;case"mousedown":zy=!0;break;case"contextmenu":case"mouseup":case"dragend":zy=!1,M0(st,u,rt);break;case"selectionchange":if(h3)break;case"keydown":case"keyup":M0(st,u,rt)}var Qt;if(Dy)e:{switch(s){case"compositionstart":var tn="onCompositionStart";break e;case"compositionend":tn="onCompositionEnd";break e;case"compositionupdate":tn="onCompositionUpdate";break e}tn=void 0}else wc?I0(s,u)&&(tn="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(tn="onCompositionStart");tn&&(E0&&u.locale!=="ko"&&(wc||tn!=="onCompositionStart"?tn==="onCompositionEnd"&&wc&&(Qt=O()):(Ke=rt,H="value"in Ke?Ke.value:Ke.textContent,wc=!0)),Ht=Mp(Le,tn),0<Ht.length&&(tn=new ur(tn,s,null,u,rt),st.push({event:tn,listeners:Ht}),Qt?tn.data=Qt:(Qt=q0(u),Qt!==null&&(tn.data=Qt)))),(Qt=n3?r3(s,u):i3(s,u))&&(Le=Mp(Le,"onBeforeInput"),0<Le.length&&(rt=new ur("onBeforeInput","beforeinput",null,u,rt),st.push({event:rt,listeners:Le}),rt.data=Qt))}K0(st,a)})}function vd(s,a,u){return{instance:s,listener:a,currentTarget:u}}function Mp(s,a){for(var u=a+"Capture",g=[];s!==null;){var w=s,E=w.stateNode;w.tag===5&&E!==null&&(w=E,E=ps(s,u),E!=null&&g.unshift(vd(s,E,w)),E=ps(s,a),E!=null&&g.push(vd(s,E,w))),s=s.return}return g}function Nc(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function J0(s,a,u,g,w){for(var E=a._reactName,j=[];u!==null&&u!==g;){var ae=u,he=ae.alternate,Le=ae.stateNode;if(he!==null&&he===g)break;ae.tag===5&&Le!==null&&(ae=Le,w?(he=ps(u,E),he!=null&&j.unshift(vd(u,he,ae))):w||(he=ps(u,E),he!=null&&j.push(vd(u,he,ae)))),u=u.return}j.length!==0&&s.push({event:a,listeners:j})}var v3=/\r\n?/g,b3=/\u0000|\uFFFD/g;function Z0(s){return(typeof s=="string"?s:""+s).replace(v3,`
`).replace(b3,"")}function Bp(s,a,u){if(a=Z0(a),Z0(s)!==a&&u)throw Error(n(425))}function $p(){}var Gy=null,Jy=null;function Zy(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Yy=typeof setTimeout=="function"?setTimeout:void 0,_3=typeof clearTimeout=="function"?clearTimeout:void 0,Y0=typeof Promise=="function"?Promise:void 0,x3=typeof queueMicrotask=="function"?queueMicrotask:typeof Y0<"u"?function(s){return Y0.resolve(null).then(s).catch(w3)}:Yy;function w3(s){setTimeout(function(){throw s})}function Xy(s,a){var u=a,g=0;do{var w=u.nextSibling;if(s.removeChild(u),w&&w.nodeType===8)if(u=w.data,u==="/$"){if(g===0){s.removeChild(w),_e(a);return}g--}else u!=="$"&&u!=="$?"&&u!=="$!"||g++;u=w}while(u);_e(a)}function ba(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function X0(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}var kc=Math.random().toString(36).slice(2),mo="__reactFiber$"+kc,bd="__reactProps$"+kc,zo="__reactContainer$"+kc,ev="__reactEvents$"+kc,S3="__reactListeners$"+kc,E3="__reactHandles$"+kc;function wl(s){var a=s[mo];if(a)return a;for(var u=s.parentNode;u;){if(a=u[zo]||u[mo]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=X0(s);s!==null;){if(u=s[mo])return u;s=X0(s)}return a}s=u,u=s.parentNode}return null}function _d(s){return s=s[mo]||s[zo],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ic(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Wp(s){return s[bd]||null}var tv=[],qc=-1;function _a(s){return{current:s}}function er(s){0>qc||(s.current=tv[qc],tv[qc]=null,qc--)}function Gn(s,a){qc++,tv[qc]=s.current,s.current=a}var xa={},ti=_a(xa),ki=_a(!1),Sl=xa;function Tc(s,a){var u=s.type.contextTypes;if(!u)return xa;var g=s.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===a)return g.__reactInternalMemoizedMaskedChildContext;var w={},E;for(E in u)w[E]=a[E];return g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=w),w}function Ii(s){return s=s.childContextTypes,s!=null}function zp(){er(ki),er(ti)}function eS(s,a,u){if(ti.current!==xa)throw Error(n(168));Gn(ti,a),Gn(ki,u)}function tS(s,a,u){var g=s.stateNode;if(a=a.childContextTypes,typeof g.getChildContext!="function")return u;g=g.getChildContext();for(var w in g)if(!(w in a))throw Error(n(108,pt(s)||"Unknown",w));return Ne({},u,g)}function Up(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||xa,Sl=ti.current,Gn(ti,s),Gn(ki,ki.current),!0}function nS(s,a,u){var g=s.stateNode;if(!g)throw Error(n(169));u?(s=tS(s,a,Sl),g.__reactInternalMemoizedMergedChildContext=s,er(ki),er(ti),Gn(ti,s)):er(ki),Gn(ki,u)}var Uo=null,Vp=!1,nv=!1;function rS(s){Uo===null?Uo=[s]:Uo.push(s)}function N3(s){Vp=!0,rS(s)}function wa(){if(!nv&&Uo!==null){nv=!0;var s=0,a=qn;try{var u=Uo;for(qn=1;s<u.length;s++){var g=u[s];do g=g(!0);while(g!==null)}Uo=null,Vp=!1}catch(w){throw Uo!==null&&(Uo=Uo.slice(s+1)),Tp(rd,wa),w}finally{qn=a,nv=!1}}return null}var Oc=[],Cc=0,Hp=null,Qp=0,gs=[],ys=0,El=null,Vo=1,Ho="";function Nl(s,a){Oc[Cc++]=Qp,Oc[Cc++]=Hp,Hp=s,Qp=a}function iS(s,a,u){gs[ys++]=Vo,gs[ys++]=Ho,gs[ys++]=El,El=s;var g=Vo;s=Ho;var w=32-Ni(g)-1;g&=~(1<<w),u+=1;var E=32-Ni(a)+w;if(30<E){var j=w-w%5;E=(g&(1<<j)-1).toString(32),g>>=j,w-=j,Vo=1<<32-Ni(a)+w|u<<w|g,Ho=E+s}else Vo=1<<E|u<<w|g,Ho=s}function rv(s){s.return!==null&&(Nl(s,1),iS(s,1,0))}function iv(s){for(;s===Hp;)Hp=Oc[--Cc],Oc[Cc]=null,Qp=Oc[--Cc],Oc[Cc]=null;for(;s===El;)El=gs[--ys],gs[ys]=null,Ho=gs[--ys],gs[ys]=null,Vo=gs[--ys],gs[ys]=null}var Vi=null,Hi=null,ir=!1,$s=null;function sS(s,a){var u=xs(5,null,null,0);u.elementType="DELETED",u.stateNode=a,u.return=s,a=s.deletions,a===null?(s.deletions=[u],s.flags|=16):a.push(u)}function oS(s,a){switch(s.tag){case 5:var u=s.type;return a=a.nodeType!==1||u.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Vi=s,Hi=ba(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Vi=s,Hi=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(u=El!==null?{id:Vo,overflow:Ho}:null,s.memoizedState={dehydrated:a,treeContext:u,retryLane:0x40000000},u=xs(18,null,null,0),u.stateNode=a,u.return=s,s.child=u,Vi=s,Hi=null,!0):!1;default:return!1}}function sv(s){return(s.mode&1)!==0&&(s.flags&128)===0}function ov(s){if(ir){var a=Hi;if(a){var u=a;if(!oS(s,a)){if(sv(s))throw Error(n(418));a=ba(u.nextSibling);var g=Vi;a&&oS(s,a)?sS(g,u):(s.flags=s.flags&-4097|2,ir=!1,Vi=s)}}else{if(sv(s))throw Error(n(418));s.flags=s.flags&-4097|2,ir=!1,Vi=s}}}function aS(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Vi=s}function Kp(s){if(s!==Vi)return!1;if(!ir)return aS(s),ir=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Zy(s.type,s.memoizedProps)),a&&(a=Hi)){if(sv(s))throw lS(),Error(n(418));for(;a;)sS(s,a),a=ba(a.nextSibling)}if(aS(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(a===0){Hi=ba(s.nextSibling);break e}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++}s=s.nextSibling}Hi=null}}else Hi=Vi?ba(s.stateNode.nextSibling):null;return!0}function lS(){for(var s=Hi;s;)s=ba(s.nextSibling)}function Rc(){Hi=Vi=null,ir=!1}function av(s){$s===null?$s=[s]:$s.push(s)}var k3=V.ReactCurrentBatchConfig;function xd(s,a,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var g=u.stateNode}if(!g)throw Error(n(147,s));var w=g,E=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===E?a.ref:(a=function(j){var ae=w.refs;j===null?delete ae[E]:ae[E]=j},a._stringRef=E,a)}if(typeof s!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,s))}return s}function Gp(s,a){throw s=Object.prototype.toString.call(a),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function cS(s){var a=s._init;return a(s._payload)}function uS(s){function a(qe,be){if(s){var Re=qe.deletions;Re===null?(qe.deletions=[be],qe.flags|=16):Re.push(be)}}function u(qe,be){if(!s)return null;for(;be!==null;)a(qe,be),be=be.sibling;return null}function g(qe,be){for(qe=new Map;be!==null;)be.key!==null?qe.set(be.key,be):qe.set(be.index,be),be=be.sibling;return qe}function w(qe,be){return qe=Oa(qe,be),qe.index=0,qe.sibling=null,qe}function E(qe,be,Re){return qe.index=Re,s?(Re=qe.alternate,Re!==null?(Re=Re.index,Re<be?(qe.flags|=2,be):Re):(qe.flags|=2,be)):(qe.flags|=1048576,be)}function j(qe){return s&&qe.alternate===null&&(qe.flags|=2),qe}function ae(qe,be,Re,ct){return be===null||be.tag!==6?(be=Yv(Re,qe.mode,ct),be.return=qe,be):(be=w(be,Re),be.return=qe,be)}function he(qe,be,Re,ct){var Mt=Re.type;return Mt===Z?rt(qe,be,Re.props.children,ct,Re.key):be!==null&&(be.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===Oe&&cS(Mt)===be.type)?(ct=w(be,Re.props),ct.ref=xd(qe,be,Re),ct.return=qe,ct):(ct=bh(Re.type,Re.key,Re.props,null,qe.mode,ct),ct.ref=xd(qe,be,Re),ct.return=qe,ct)}function Le(qe,be,Re,ct){return be===null||be.tag!==4||be.stateNode.containerInfo!==Re.containerInfo||be.stateNode.implementation!==Re.implementation?(be=Xv(Re,qe.mode,ct),be.return=qe,be):(be=w(be,Re.children||[]),be.return=qe,be)}function rt(qe,be,Re,ct,Mt){return be===null||be.tag!==7?(be=Al(Re,qe.mode,ct,Mt),be.return=qe,be):(be=w(be,Re),be.return=qe,be)}function st(qe,be,Re){if(typeof be=="string"&&be!==""||typeof be=="number")return be=Yv(""+be,qe.mode,Re),be.return=qe,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case J:return Re=bh(be.type,be.key,be.props,null,qe.mode,Re),Re.ref=xd(qe,null,be),Re.return=qe,Re;case W:return be=Xv(be,qe.mode,Re),be.return=qe,be;case Oe:var ct=be._init;return st(qe,ct(be._payload),Re)}if(ye(be)||pe(be))return be=Al(be,qe.mode,Re,null),be.return=qe,be;Gp(qe,be)}return null}function tt(qe,be,Re,ct){var Mt=be!==null?be.key:null;if(typeof Re=="string"&&Re!==""||typeof Re=="number")return Mt!==null?null:ae(qe,be,""+Re,ct);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case J:return Re.key===Mt?he(qe,be,Re,ct):null;case W:return Re.key===Mt?Le(qe,be,Re,ct):null;case Oe:return Mt=Re._init,tt(qe,be,Mt(Re._payload),ct)}if(ye(Re)||pe(Re))return Mt!==null?null:rt(qe,be,Re,ct,null);Gp(qe,Re)}return null}function Tt(qe,be,Re,ct,Mt){if(typeof ct=="string"&&ct!==""||typeof ct=="number")return qe=qe.get(Re)||null,ae(be,qe,""+ct,Mt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case J:return qe=qe.get(ct.key===null?Re:ct.key)||null,he(be,qe,ct,Mt);case W:return qe=qe.get(ct.key===null?Re:ct.key)||null,Le(be,qe,ct,Mt);case Oe:var Ht=ct._init;return Tt(qe,be,Re,Ht(ct._payload),Mt)}if(ye(ct)||pe(ct))return qe=qe.get(Re)||null,rt(be,qe,ct,Mt,null);Gp(be,ct)}return null}function Pt(qe,be,Re,ct){for(var Mt=null,Ht=null,Qt=be,tn=be=0,Ur=null;Qt!==null&&tn<Re.length;tn++){Qt.index>tn?(Ur=Qt,Qt=null):Ur=Qt.sibling;var In=tt(qe,Qt,Re[tn],ct);if(In===null){Qt===null&&(Qt=Ur);break}s&&Qt&&In.alternate===null&&a(qe,Qt),be=E(In,be,tn),Ht===null?Mt=In:Ht.sibling=In,Ht=In,Qt=Ur}if(tn===Re.length)return u(qe,Qt),ir&&Nl(qe,tn),Mt;if(Qt===null){for(;tn<Re.length;tn++)Qt=st(qe,Re[tn],ct),Qt!==null&&(be=E(Qt,be,tn),Ht===null?Mt=Qt:Ht.sibling=Qt,Ht=Qt);return ir&&Nl(qe,tn),Mt}for(Qt=g(qe,Qt);tn<Re.length;tn++)Ur=Tt(Qt,qe,tn,Re[tn],ct),Ur!==null&&(s&&Ur.alternate!==null&&Qt.delete(Ur.key===null?tn:Ur.key),be=E(Ur,be,tn),Ht===null?Mt=Ur:Ht.sibling=Ur,Ht=Ur);return s&&Qt.forEach(function(Ca){return a(qe,Ca)}),ir&&Nl(qe,tn),Mt}function Dt(qe,be,Re,ct){var Mt=pe(Re);if(typeof Mt!="function")throw Error(n(150));if(Re=Mt.call(Re),Re==null)throw Error(n(151));for(var Ht=Mt=null,Qt=be,tn=be=0,Ur=null,In=Re.next();Qt!==null&&!In.done;tn++,In=Re.next()){Qt.index>tn?(Ur=Qt,Qt=null):Ur=Qt.sibling;var Ca=tt(qe,Qt,In.value,ct);if(Ca===null){Qt===null&&(Qt=Ur);break}s&&Qt&&Ca.alternate===null&&a(qe,Qt),be=E(Ca,be,tn),Ht===null?Mt=Ca:Ht.sibling=Ca,Ht=Ca,Qt=Ur}if(In.done)return u(qe,Qt),ir&&Nl(qe,tn),Mt;if(Qt===null){for(;!In.done;tn++,In=Re.next())In=st(qe,In.value,ct),In!==null&&(be=E(In,be,tn),Ht===null?Mt=In:Ht.sibling=In,Ht=In);return ir&&Nl(qe,tn),Mt}for(Qt=g(qe,Qt);!In.done;tn++,In=Re.next())In=Tt(Qt,qe,tn,In.value,ct),In!==null&&(s&&In.alternate!==null&&Qt.delete(In.key===null?tn:In.key),be=E(In,be,tn),Ht===null?Mt=In:Ht.sibling=In,Ht=In);return s&&Qt.forEach(function(sA){return a(qe,sA)}),ir&&Nl(qe,tn),Mt}function Sr(qe,be,Re,ct){if(typeof Re=="object"&&Re!==null&&Re.type===Z&&Re.key===null&&(Re=Re.props.children),typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case J:e:{for(var Mt=Re.key,Ht=be;Ht!==null;){if(Ht.key===Mt){if(Mt=Re.type,Mt===Z){if(Ht.tag===7){u(qe,Ht.sibling),be=w(Ht,Re.props.children),be.return=qe,qe=be;break e}}else if(Ht.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===Oe&&cS(Mt)===Ht.type){u(qe,Ht.sibling),be=w(Ht,Re.props),be.ref=xd(qe,Ht,Re),be.return=qe,qe=be;break e}u(qe,Ht);break}else a(qe,Ht);Ht=Ht.sibling}Re.type===Z?(be=Al(Re.props.children,qe.mode,ct,Re.key),be.return=qe,qe=be):(ct=bh(Re.type,Re.key,Re.props,null,qe.mode,ct),ct.ref=xd(qe,be,Re),ct.return=qe,qe=ct)}return j(qe);case W:e:{for(Ht=Re.key;be!==null;){if(be.key===Ht)if(be.tag===4&&be.stateNode.containerInfo===Re.containerInfo&&be.stateNode.implementation===Re.implementation){u(qe,be.sibling),be=w(be,Re.children||[]),be.return=qe,qe=be;break e}else{u(qe,be);break}else a(qe,be);be=be.sibling}be=Xv(Re,qe.mode,ct),be.return=qe,qe=be}return j(qe);case Oe:return Ht=Re._init,Sr(qe,be,Ht(Re._payload),ct)}if(ye(Re))return Pt(qe,be,Re,ct);if(pe(Re))return Dt(qe,be,Re,ct);Gp(qe,Re)}return typeof Re=="string"&&Re!==""||typeof Re=="number"?(Re=""+Re,be!==null&&be.tag===6?(u(qe,be.sibling),be=w(be,Re),be.return=qe,qe=be):(u(qe,be),be=Yv(Re,qe.mode,ct),be.return=qe,qe=be),j(qe)):u(qe,be)}return Sr}var Ac=uS(!0),dS=uS(!1),Jp=_a(null),Zp=null,jc=null,lv=null;function cv(){lv=jc=Zp=null}function uv(s){var a=Jp.current;er(Jp),s._currentValue=a}function dv(s,a,u){for(;s!==null;){var g=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,g!==null&&(g.childLanes|=a)):g!==null&&(g.childLanes&a)!==a&&(g.childLanes|=a),s===u)break;s=s.return}}function Pc(s,a){Zp=s,lv=jc=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&a&&(qi=!0),s.firstContext=null)}function vs(s){var a=s._currentValue;if(lv!==s)if(s={context:s,memoizedValue:a,next:null},jc===null){if(Zp===null)throw Error(n(308));jc=s,Zp.dependencies={lanes:0,firstContext:s}}else jc=jc.next=s;return a}var kl=null;function fv(s){kl===null?kl=[s]:kl.push(s)}function fS(s,a,u,g){var w=a.interleaved;return w===null?(u.next=u,fv(a)):(u.next=w.next,w.next=u),a.interleaved=u,Qo(s,g)}function Qo(s,a){s.lanes|=a;var u=s.alternate;for(u!==null&&(u.lanes|=a),u=s,s=s.return;s!==null;)s.childLanes|=a,u=s.alternate,u!==null&&(u.childLanes|=a),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Sa=!1;function pv(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pS(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ko(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Ea(s,a,u){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,Nn&2){var w=g.pending;return w===null?a.next=a:(a.next=w.next,w.next=a),g.pending=a,Qo(s,u)}return w=g.interleaved,w===null?(a.next=a,fv(g)):(a.next=w.next,w.next=a),g.interleaved=a,Qo(s,u)}function Yp(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194240)!==0)){var g=a.lanes;g&=s.pendingLanes,u|=g,a.lanes=u,od(s,u)}}function hS(s,a){var u=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,u===g)){var w=null,E=null;if(u=u.firstBaseUpdate,u!==null){do{var j={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};E===null?w=E=j:E=E.next=j,u=u.next}while(u!==null);E===null?w=E=a:E=E.next=a}else w=E=a;u={baseState:g.baseState,firstBaseUpdate:w,lastBaseUpdate:E,shared:g.shared,effects:g.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}function Xp(s,a,u,g){var w=s.updateQueue;Sa=!1;var E=w.firstBaseUpdate,j=w.lastBaseUpdate,ae=w.shared.pending;if(ae!==null){w.shared.pending=null;var he=ae,Le=he.next;he.next=null,j===null?E=Le:j.next=Le,j=he;var rt=s.alternate;rt!==null&&(rt=rt.updateQueue,ae=rt.lastBaseUpdate,ae!==j&&(ae===null?rt.firstBaseUpdate=Le:ae.next=Le,rt.lastBaseUpdate=he))}if(E!==null){var st=w.baseState;j=0,rt=Le=he=null,ae=E;do{var tt=ae.lane,Tt=ae.eventTime;if((g&tt)===tt){rt!==null&&(rt=rt.next={eventTime:Tt,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var Pt=s,Dt=ae;switch(tt=a,Tt=u,Dt.tag){case 1:if(Pt=Dt.payload,typeof Pt=="function"){st=Pt.call(Tt,st,tt);break e}st=Pt;break e;case 3:Pt.flags=Pt.flags&-65537|128;case 0:if(Pt=Dt.payload,tt=typeof Pt=="function"?Pt.call(Tt,st,tt):Pt,tt==null)break e;st=Ne({},st,tt);break e;case 2:Sa=!0}}ae.callback!==null&&ae.lane!==0&&(s.flags|=64,tt=w.effects,tt===null?w.effects=[ae]:tt.push(ae))}else Tt={eventTime:Tt,lane:tt,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},rt===null?(Le=rt=Tt,he=st):rt=rt.next=Tt,j|=tt;if(ae=ae.next,ae===null){if(ae=w.shared.pending,ae===null)break;tt=ae,ae=tt.next,tt.next=null,w.lastBaseUpdate=tt,w.shared.pending=null}}while(!0);if(rt===null&&(he=st),w.baseState=he,w.firstBaseUpdate=Le,w.lastBaseUpdate=rt,a=w.shared.interleaved,a!==null){w=a;do j|=w.lane,w=w.next;while(w!==a)}else E===null&&(w.shared.lanes=0);Tl|=j,s.lanes=j,s.memoizedState=st}}function mS(s,a,u){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var g=s[a],w=g.callback;if(w!==null){if(g.callback=null,g=u,typeof w!="function")throw Error(n(191,w));w.call(g)}}}var wd={},go=_a(wd),Sd=_a(wd),Ed=_a(wd);function Il(s){if(s===wd)throw Error(n(174));return s}function hv(s,a){switch(Gn(Ed,a),Gn(Sd,s),Gn(go,wd),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:zt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=zt(a,s)}er(go),Gn(go,a)}function Fc(){er(go),er(Sd),er(Ed)}function gS(s){Il(Ed.current);var a=Il(go.current),u=zt(a,s.type);a!==u&&(Gn(Sd,s),Gn(go,u))}function mv(s){Sd.current===s&&(er(go),er(Sd))}var dr=_a(0);function eh(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var gv=[];function yv(){for(var s=0;s<gv.length;s++)gv[s]._workInProgressVersionPrimary=null;gv.length=0}var th=V.ReactCurrentDispatcher,vv=V.ReactCurrentBatchConfig,ql=0,fr=null,Pr=null,Wr=null,nh=!1,Nd=!1,kd=0,I3=0;function ni(){throw Error(n(321))}function bv(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!Bs(s[u],a[u]))return!1;return!0}function _v(s,a,u,g,w,E){if(ql=E,fr=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,th.current=s===null||s.memoizedState===null?C3:R3,s=u(g,w),Nd){E=0;do{if(Nd=!1,kd=0,25<=E)throw Error(n(301));E+=1,Wr=Pr=null,a.updateQueue=null,th.current=A3,s=u(g,w)}while(Nd)}if(th.current=sh,a=Pr!==null&&Pr.next!==null,ql=0,Wr=Pr=fr=null,nh=!1,a)throw Error(n(300));return s}function xv(){var s=kd!==0;return kd=0,s}function yo(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wr===null?fr.memoizedState=Wr=s:Wr=Wr.next=s,Wr}function bs(){if(Pr===null){var s=fr.alternate;s=s!==null?s.memoizedState:null}else s=Pr.next;var a=Wr===null?fr.memoizedState:Wr.next;if(a!==null)Wr=a,Pr=s;else{if(s===null)throw Error(n(310));Pr=s,s={memoizedState:Pr.memoizedState,baseState:Pr.baseState,baseQueue:Pr.baseQueue,queue:Pr.queue,next:null},Wr===null?fr.memoizedState=Wr=s:Wr=Wr.next=s}return Wr}function Id(s,a){return typeof a=="function"?a(s):a}function wv(s){var a=bs(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var g=Pr,w=g.baseQueue,E=u.pending;if(E!==null){if(w!==null){var j=w.next;w.next=E.next,E.next=j}g.baseQueue=w=E,u.pending=null}if(w!==null){E=w.next,g=g.baseState;var ae=j=null,he=null,Le=E;do{var rt=Le.lane;if((ql&rt)===rt)he!==null&&(he=he.next={lane:0,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),g=Le.hasEagerState?Le.eagerState:s(g,Le.action);else{var st={lane:rt,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null};he===null?(ae=he=st,j=g):he=he.next=st,fr.lanes|=rt,Tl|=rt}Le=Le.next}while(Le!==null&&Le!==E);he===null?j=g:he.next=ae,Bs(g,a.memoizedState)||(qi=!0),a.memoizedState=g,a.baseState=j,a.baseQueue=he,u.lastRenderedState=g}if(s=u.interleaved,s!==null){w=s;do E=w.lane,fr.lanes|=E,Tl|=E,w=w.next;while(w!==s)}else w===null&&(u.lanes=0);return[a.memoizedState,u.dispatch]}function Sv(s){var a=bs(),u=a.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var g=u.dispatch,w=u.pending,E=a.memoizedState;if(w!==null){u.pending=null;var j=w=w.next;do E=s(E,j.action),j=j.next;while(j!==w);Bs(E,a.memoizedState)||(qi=!0),a.memoizedState=E,a.baseQueue===null&&(a.baseState=E),u.lastRenderedState=E}return[E,g]}function yS(){}function vS(s,a){var u=fr,g=bs(),w=a(),E=!Bs(g.memoizedState,w);if(E&&(g.memoizedState=w,qi=!0),g=g.queue,Ev(xS.bind(null,u,g,s),[s]),g.getSnapshot!==a||E||Wr!==null&&Wr.memoizedState.tag&1){if(u.flags|=2048,qd(9,_S.bind(null,u,g,w,a),void 0,null),zr===null)throw Error(n(349));ql&30||bS(u,a,w)}return w}function bS(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=fr.updateQueue,a===null?(a={lastEffect:null,stores:null},fr.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function _S(s,a,u,g){a.value=u,a.getSnapshot=g,wS(a)&&SS(s)}function xS(s,a,u){return u(function(){wS(a)&&SS(s)})}function wS(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!Bs(s,u)}catch{return!0}}function SS(s){var a=Qo(s,1);a!==null&&Vs(a,s,1,-1)}function ES(s){var a=yo();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Id,lastRenderedState:s},a.queue=s,s=s.dispatch=O3.bind(null,fr,s),[a.memoizedState,s]}function qd(s,a,u,g){return s={tag:s,create:a,destroy:u,deps:g,next:null},a=fr.updateQueue,a===null?(a={lastEffect:null,stores:null},fr.updateQueue=a,a.lastEffect=s.next=s):(u=a.lastEffect,u===null?a.lastEffect=s.next=s:(g=u.next,u.next=s,s.next=g,a.lastEffect=s)),s}function NS(){return bs().memoizedState}function rh(s,a,u,g){var w=yo();fr.flags|=s,w.memoizedState=qd(1|a,u,void 0,g===void 0?null:g)}function ih(s,a,u,g){var w=bs();g=g===void 0?null:g;var E=void 0;if(Pr!==null){var j=Pr.memoizedState;if(E=j.destroy,g!==null&&bv(g,j.deps)){w.memoizedState=qd(a,u,E,g);return}}fr.flags|=s,w.memoizedState=qd(1|a,u,E,g)}function kS(s,a){return rh(8390656,8,s,a)}function Ev(s,a){return ih(2048,8,s,a)}function IS(s,a){return ih(4,2,s,a)}function qS(s,a){return ih(4,4,s,a)}function TS(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function OS(s,a,u){return u=u!=null?u.concat([s]):null,ih(4,4,TS.bind(null,a,s),u)}function Nv(){}function CS(s,a){var u=bs();a=a===void 0?null:a;var g=u.memoizedState;return g!==null&&a!==null&&bv(a,g[1])?g[0]:(u.memoizedState=[s,a],s)}function RS(s,a){var u=bs();a=a===void 0?null:a;var g=u.memoizedState;return g!==null&&a!==null&&bv(a,g[1])?g[0]:(s=s(),u.memoizedState=[s,a],s)}function AS(s,a,u){return ql&21?(Bs(u,a)||(u=Rp(),fr.lanes|=u,Tl|=u,s.baseState=!0),a):(s.baseState&&(s.baseState=!1,qi=!0),s.memoizedState=u)}function q3(s,a){var u=qn;qn=u!==0&&4>u?u:4,s(!0);var g=vv.transition;vv.transition={};try{s(!1),a()}finally{qn=u,vv.transition=g}}function jS(){return bs().memoizedState}function T3(s,a,u){var g=qa(s);if(u={lane:g,action:u,hasEagerState:!1,eagerState:null,next:null},PS(s))FS(a,u);else if(u=fS(s,a,u,g),u!==null){var w=gi();Vs(u,s,g,w),LS(u,a,g)}}function O3(s,a,u){var g=qa(s),w={lane:g,action:u,hasEagerState:!1,eagerState:null,next:null};if(PS(s))FS(a,w);else{var E=s.alternate;if(s.lanes===0&&(E===null||E.lanes===0)&&(E=a.lastRenderedReducer,E!==null))try{var j=a.lastRenderedState,ae=E(j,u);if(w.hasEagerState=!0,w.eagerState=ae,Bs(ae,j)){var he=a.interleaved;he===null?(w.next=w,fv(a)):(w.next=he.next,he.next=w),a.interleaved=w;return}}catch{}finally{}u=fS(s,a,w,g),u!==null&&(w=gi(),Vs(u,s,g,w),LS(u,a,g))}}function PS(s){var a=s.alternate;return s===fr||a!==null&&a===fr}function FS(s,a){Nd=nh=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function LS(s,a,u){if(u&4194240){var g=a.lanes;g&=s.pendingLanes,u|=g,a.lanes=u,od(s,u)}}var sh={readContext:vs,useCallback:ni,useContext:ni,useEffect:ni,useImperativeHandle:ni,useInsertionEffect:ni,useLayoutEffect:ni,useMemo:ni,useReducer:ni,useRef:ni,useState:ni,useDebugValue:ni,useDeferredValue:ni,useTransition:ni,useMutableSource:ni,useSyncExternalStore:ni,useId:ni,unstable_isNewReconciler:!1},C3={readContext:vs,useCallback:function(s,a){return yo().memoizedState=[s,a===void 0?null:a],s},useContext:vs,useEffect:kS,useImperativeHandle:function(s,a,u){return u=u!=null?u.concat([s]):null,rh(4194308,4,TS.bind(null,a,s),u)},useLayoutEffect:function(s,a){return rh(4194308,4,s,a)},useInsertionEffect:function(s,a){return rh(4,2,s,a)},useMemo:function(s,a){var u=yo();return a=a===void 0?null:a,s=s(),u.memoizedState=[s,a],s},useReducer:function(s,a,u){var g=yo();return a=u!==void 0?u(a):a,g.memoizedState=g.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},g.queue=s,s=s.dispatch=T3.bind(null,fr,s),[g.memoizedState,s]},useRef:function(s){var a=yo();return s={current:s},a.memoizedState=s},useState:ES,useDebugValue:Nv,useDeferredValue:function(s){return yo().memoizedState=s},useTransition:function(){var s=ES(!1),a=s[0];return s=q3.bind(null,s[1]),yo().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,u){var g=fr,w=yo();if(ir){if(u===void 0)throw Error(n(407));u=u()}else{if(u=a(),zr===null)throw Error(n(349));ql&30||bS(g,a,u)}w.memoizedState=u;var E={value:u,getSnapshot:a};return w.queue=E,kS(xS.bind(null,g,E,s),[s]),g.flags|=2048,qd(9,_S.bind(null,g,E,u,a),void 0,null),u},useId:function(){var s=yo(),a=zr.identifierPrefix;if(ir){var u=Ho,g=Vo;u=(g&~(1<<32-Ni(g)-1)).toString(32)+u,a=":"+a+"R"+u,u=kd++,0<u&&(a+="H"+u.toString(32)),a+=":"}else u=I3++,a=":"+a+"r"+u.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},R3={readContext:vs,useCallback:CS,useContext:vs,useEffect:Ev,useImperativeHandle:OS,useInsertionEffect:IS,useLayoutEffect:qS,useMemo:RS,useReducer:wv,useRef:NS,useState:function(){return wv(Id)},useDebugValue:Nv,useDeferredValue:function(s){var a=bs();return AS(a,Pr.memoizedState,s)},useTransition:function(){var s=wv(Id)[0],a=bs().memoizedState;return[s,a]},useMutableSource:yS,useSyncExternalStore:vS,useId:jS,unstable_isNewReconciler:!1},A3={readContext:vs,useCallback:CS,useContext:vs,useEffect:Ev,useImperativeHandle:OS,useInsertionEffect:IS,useLayoutEffect:qS,useMemo:RS,useReducer:Sv,useRef:NS,useState:function(){return Sv(Id)},useDebugValue:Nv,useDeferredValue:function(s){var a=bs();return Pr===null?a.memoizedState=s:AS(a,Pr.memoizedState,s)},useTransition:function(){var s=Sv(Id)[0],a=bs().memoizedState;return[s,a]},useMutableSource:yS,useSyncExternalStore:vS,useId:jS,unstable_isNewReconciler:!1};function Ws(s,a){if(s&&s.defaultProps){a=Ne({},a),s=s.defaultProps;for(var u in s)a[u]===void 0&&(a[u]=s[u]);return a}return a}function kv(s,a,u,g){a=s.memoizedState,u=u(g,a),u=u==null?a:Ne({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var oh={isMounted:function(s){return(s=s._reactInternals)?$o(s)===s:!1},enqueueSetState:function(s,a,u){s=s._reactInternals;var g=gi(),w=qa(s),E=Ko(g,w);E.payload=a,u!=null&&(E.callback=u),a=Ea(s,E,w),a!==null&&(Vs(a,s,w,g),Yp(a,s,w))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var g=gi(),w=qa(s),E=Ko(g,w);E.tag=1,E.payload=a,u!=null&&(E.callback=u),a=Ea(s,E,w),a!==null&&(Vs(a,s,w,g),Yp(a,s,w))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=gi(),g=qa(s),w=Ko(u,g);w.tag=2,a!=null&&(w.callback=a),a=Ea(s,w,g),a!==null&&(Vs(a,s,g,u),Yp(a,s,g))}};function DS(s,a,u,g,w,E,j){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,E,j):a.prototype&&a.prototype.isPureReactComponent?!hd(u,g)||!hd(w,E):!0}function MS(s,a,u){var g=!1,w=xa,E=a.contextType;return typeof E=="object"&&E!==null?E=vs(E):(w=Ii(a)?Sl:ti.current,g=a.contextTypes,E=(g=g!=null)?Tc(s,w):xa),a=new a(u,E),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=oh,s.stateNode=a,a._reactInternals=s,g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=w,s.__reactInternalMemoizedMaskedChildContext=E),a}function BS(s,a,u,g){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,g),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,g),a.state!==s&&oh.enqueueReplaceState(a,a.state,null)}function Iv(s,a,u,g){var w=s.stateNode;w.props=u,w.state=s.memoizedState,w.refs={},pv(s);var E=a.contextType;typeof E=="object"&&E!==null?w.context=vs(E):(E=Ii(a)?Sl:ti.current,w.context=Tc(s,E)),w.state=s.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(kv(s,a,E,u),w.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(a=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),a!==w.state&&oh.enqueueReplaceState(w,w.state,null),Xp(s,u,w,g),w.state=s.memoizedState),typeof w.componentDidMount=="function"&&(s.flags|=4194308)}function Lc(s,a){try{var u="",g=a;do u+=ft(g),g=g.return;while(g);var w=u}catch(E){w=`
Error generating stack: `+E.message+`
`+E.stack}return{value:s,source:a,stack:w,digest:null}}function qv(s,a,u){return{value:s,source:null,stack:u??null,digest:a??null}}function Tv(s,a){try{console.error(a.value)}catch(u){setTimeout(function(){throw u})}}var j3=typeof WeakMap=="function"?WeakMap:Map;function $S(s,a,u){u=Ko(-1,u),u.tag=3,u.payload={element:null};var g=a.value;return u.callback=function(){ph||(ph=!0,Uv=g),Tv(s,a)},u}function WS(s,a,u){u=Ko(-1,u),u.tag=3;var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var w=a.value;u.payload=function(){return g(w)},u.callback=function(){Tv(s,a)}}var E=s.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(u.callback=function(){Tv(s,a),typeof g!="function"&&(ka===null?ka=new Set([this]):ka.add(this));var j=a.stack;this.componentDidCatch(a.value,{componentStack:j!==null?j:""})}),u}function zS(s,a,u){var g=s.pingCache;if(g===null){g=s.pingCache=new j3;var w=new Set;g.set(a,w)}else w=g.get(a),w===void 0&&(w=new Set,g.set(a,w));w.has(u)||(w.add(u),s=K3.bind(null,s,a,u),a.then(s,s))}function US(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function VS(s,a,u,g,w){return s.mode&1?(s.flags|=65536,s.lanes=w,s):(s===a?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(a=Ko(-1,1),a.tag=2,Ea(u,a,1))),u.lanes|=1),s)}var P3=V.ReactCurrentOwner,qi=!1;function mi(s,a,u,g){a.child=s===null?dS(a,null,u,g):Ac(a,s.child,u,g)}function HS(s,a,u,g,w){u=u.render;var E=a.ref;return Pc(a,w),g=_v(s,a,u,g,E,w),u=xv(),s!==null&&!qi?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~w,Go(s,a,w)):(ir&&u&&rv(a),a.flags|=1,mi(s,a,g,w),a.child)}function QS(s,a,u,g,w){if(s===null){var E=u.type;return typeof E=="function"&&!Zv(E)&&E.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(a.tag=15,a.type=E,KS(s,a,E,g,w)):(s=bh(u.type,null,g,a,a.mode,w),s.ref=a.ref,s.return=a,a.child=s)}if(E=s.child,!(s.lanes&w)){var j=E.memoizedProps;if(u=u.compare,u=u!==null?u:hd,u(j,g)&&s.ref===a.ref)return Go(s,a,w)}return a.flags|=1,s=Oa(E,g),s.ref=a.ref,s.return=a,a.child=s}function KS(s,a,u,g,w){if(s!==null){var E=s.memoizedProps;if(hd(E,g)&&s.ref===a.ref)if(qi=!1,a.pendingProps=g=E,(s.lanes&w)!==0)s.flags&131072&&(qi=!0);else return a.lanes=s.lanes,Go(s,a,w)}return Ov(s,a,u,g,w)}function GS(s,a,u){var g=a.pendingProps,w=g.children,E=s!==null?s.memoizedState:null;if(g.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gn(Mc,Qi),Qi|=u;else{if(!(u&0x40000000))return s=E!==null?E.baseLanes|u:u,a.lanes=a.childLanes=0x40000000,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,Gn(Mc,Qi),Qi|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=E!==null?E.baseLanes:u,Gn(Mc,Qi),Qi|=g}else E!==null?(g=E.baseLanes|u,a.memoizedState=null):g=u,Gn(Mc,Qi),Qi|=g;return mi(s,a,w,u),a.child}function JS(s,a){var u=a.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(a.flags|=512,a.flags|=2097152)}function Ov(s,a,u,g,w){var E=Ii(u)?Sl:ti.current;return E=Tc(a,E),Pc(a,w),u=_v(s,a,u,g,E,w),g=xv(),s!==null&&!qi?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~w,Go(s,a,w)):(ir&&g&&rv(a),a.flags|=1,mi(s,a,u,w),a.child)}function ZS(s,a,u,g,w){if(Ii(u)){var E=!0;Up(a)}else E=!1;if(Pc(a,w),a.stateNode===null)lh(s,a),MS(a,u,g),Iv(a,u,g,w),g=!0;else if(s===null){var j=a.stateNode,ae=a.memoizedProps;j.props=ae;var he=j.context,Le=u.contextType;typeof Le=="object"&&Le!==null?Le=vs(Le):(Le=Ii(u)?Sl:ti.current,Le=Tc(a,Le));var rt=u.getDerivedStateFromProps,st=typeof rt=="function"||typeof j.getSnapshotBeforeUpdate=="function";st||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(ae!==g||he!==Le)&&BS(a,j,g,Le),Sa=!1;var tt=a.memoizedState;j.state=tt,Xp(a,g,j,w),he=a.memoizedState,ae!==g||tt!==he||ki.current||Sa?(typeof rt=="function"&&(kv(a,u,rt,g),he=a.memoizedState),(ae=Sa||DS(a,u,ae,g,tt,he,Le))?(st||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(a.flags|=4194308)):(typeof j.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=g,a.memoizedState=he),j.props=g,j.state=he,j.context=Le,g=ae):(typeof j.componentDidMount=="function"&&(a.flags|=4194308),g=!1)}else{j=a.stateNode,pS(s,a),ae=a.memoizedProps,Le=a.type===a.elementType?ae:Ws(a.type,ae),j.props=Le,st=a.pendingProps,tt=j.context,he=u.contextType,typeof he=="object"&&he!==null?he=vs(he):(he=Ii(u)?Sl:ti.current,he=Tc(a,he));var Tt=u.getDerivedStateFromProps;(rt=typeof Tt=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(ae!==st||tt!==he)&&BS(a,j,g,he),Sa=!1,tt=a.memoizedState,j.state=tt,Xp(a,g,j,w);var Pt=a.memoizedState;ae!==st||tt!==Pt||ki.current||Sa?(typeof Tt=="function"&&(kv(a,u,Tt,g),Pt=a.memoizedState),(Le=Sa||DS(a,u,Le,g,tt,Pt,he)||!1)?(rt||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(g,Pt,he),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(g,Pt,he)),typeof j.componentDidUpdate=="function"&&(a.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof j.componentDidUpdate!="function"||ae===s.memoizedProps&&tt===s.memoizedState||(a.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||ae===s.memoizedProps&&tt===s.memoizedState||(a.flags|=1024),a.memoizedProps=g,a.memoizedState=Pt),j.props=g,j.state=Pt,j.context=he,g=Le):(typeof j.componentDidUpdate!="function"||ae===s.memoizedProps&&tt===s.memoizedState||(a.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||ae===s.memoizedProps&&tt===s.memoizedState||(a.flags|=1024),g=!1)}return Cv(s,a,u,g,E,w)}function Cv(s,a,u,g,w,E){JS(s,a);var j=(a.flags&128)!==0;if(!g&&!j)return w&&nS(a,u,!1),Go(s,a,E);g=a.stateNode,P3.current=a;var ae=j&&typeof u.getDerivedStateFromError!="function"?null:g.render();return a.flags|=1,s!==null&&j?(a.child=Ac(a,s.child,null,E),a.child=Ac(a,null,ae,E)):mi(s,a,ae,E),a.memoizedState=g.state,w&&nS(a,u,!0),a.child}function YS(s){var a=s.stateNode;a.pendingContext?eS(s,a.pendingContext,a.pendingContext!==a.context):a.context&&eS(s,a.context,!1),hv(s,a.containerInfo)}function XS(s,a,u,g,w){return Rc(),av(w),a.flags|=256,mi(s,a,u,g),a.child}var Rv={dehydrated:null,treeContext:null,retryLane:0};function Av(s){return{baseLanes:s,cachePool:null,transitions:null}}function eE(s,a,u){var g=a.pendingProps,w=dr.current,E=!1,j=(a.flags&128)!==0,ae;if((ae=j)||(ae=s!==null&&s.memoizedState===null?!1:(w&2)!==0),ae?(E=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(w|=1),Gn(dr,w&1),s===null)return ov(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(a.mode&1?s.data==="$!"?a.lanes=8:a.lanes=0x40000000:a.lanes=1,null):(j=g.children,s=g.fallback,E?(g=a.mode,E=a.child,j={mode:"hidden",children:j},!(g&1)&&E!==null?(E.childLanes=0,E.pendingProps=j):E=_h(j,g,0,null),s=Al(s,g,u,null),E.return=a,s.return=a,E.sibling=s,a.child=E,a.child.memoizedState=Av(u),a.memoizedState=Rv,s):jv(a,j));if(w=s.memoizedState,w!==null&&(ae=w.dehydrated,ae!==null))return F3(s,a,j,g,ae,w,u);if(E){E=g.fallback,j=a.mode,w=s.child,ae=w.sibling;var he={mode:"hidden",children:g.children};return!(j&1)&&a.child!==w?(g=a.child,g.childLanes=0,g.pendingProps=he,a.deletions=null):(g=Oa(w,he),g.subtreeFlags=w.subtreeFlags&0xe00000),ae!==null?E=Oa(ae,E):(E=Al(E,j,u,null),E.flags|=2),E.return=a,g.return=a,g.sibling=E,a.child=g,g=E,E=a.child,j=s.child.memoizedState,j=j===null?Av(u):{baseLanes:j.baseLanes|u,cachePool:null,transitions:j.transitions},E.memoizedState=j,E.childLanes=s.childLanes&~u,a.memoizedState=Rv,g}return E=s.child,s=E.sibling,g=Oa(E,{mode:"visible",children:g.children}),!(a.mode&1)&&(g.lanes=u),g.return=a,g.sibling=null,s!==null&&(u=a.deletions,u===null?(a.deletions=[s],a.flags|=16):u.push(s)),a.child=g,a.memoizedState=null,g}function jv(s,a){return a=_h({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function ah(s,a,u,g){return g!==null&&av(g),Ac(a,s.child,null,u),s=jv(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function F3(s,a,u,g,w,E,j){if(u)return a.flags&256?(a.flags&=-257,g=qv(Error(n(422))),ah(s,a,j,g)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(E=g.fallback,w=a.mode,g=_h({mode:"visible",children:g.children},w,0,null),E=Al(E,w,j,null),E.flags|=2,g.return=a,E.return=a,g.sibling=E,a.child=g,a.mode&1&&Ac(a,s.child,null,j),a.child.memoizedState=Av(j),a.memoizedState=Rv,E);if(!(a.mode&1))return ah(s,a,j,null);if(w.data==="$!"){if(g=w.nextSibling&&w.nextSibling.dataset,g)var ae=g.dgst;return g=ae,E=Error(n(419)),g=qv(E,g,void 0),ah(s,a,j,g)}if(ae=(j&s.childLanes)!==0,qi||ae){if(g=zr,g!==null){switch(j&-j){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:w=32;break;case 0x20000000:w=0x10000000;break;default:w=0}w=w&(g.suspendedLanes|j)?0:w,w!==0&&w!==E.retryLane&&(E.retryLane=w,Qo(s,w),Vs(g,s,w,-1))}return Jv(),g=qv(Error(n(421))),ah(s,a,j,g)}return w.data==="$?"?(a.flags|=128,a.child=s.child,a=G3.bind(null,s),w._reactRetry=a,null):(s=E.treeContext,Hi=ba(w.nextSibling),Vi=a,ir=!0,$s=null,s!==null&&(gs[ys++]=Vo,gs[ys++]=Ho,gs[ys++]=El,Vo=s.id,Ho=s.overflow,El=a),a=jv(a,g.children),a.flags|=4096,a)}function tE(s,a,u){s.lanes|=a;var g=s.alternate;g!==null&&(g.lanes|=a),dv(s.return,a,u)}function Pv(s,a,u,g,w){var E=s.memoizedState;E===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:g,tail:u,tailMode:w}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=g,E.tail=u,E.tailMode=w)}function nE(s,a,u){var g=a.pendingProps,w=g.revealOrder,E=g.tail;if(mi(s,a,g.children,u),g=dr.current,g&2)g=g&1|2,a.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&tE(s,u,a);else if(s.tag===19)tE(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}if(Gn(dr,g),!(a.mode&1))a.memoizedState=null;else switch(w){case"forwards":for(u=a.child,w=null;u!==null;)s=u.alternate,s!==null&&eh(s)===null&&(w=u),u=u.sibling;u=w,u===null?(w=a.child,a.child=null):(w=u.sibling,u.sibling=null),Pv(a,!1,w,u,E);break;case"backwards":for(u=null,w=a.child,a.child=null;w!==null;){if(s=w.alternate,s!==null&&eh(s)===null){a.child=w;break}s=w.sibling,w.sibling=u,u=w,w=s}Pv(a,!0,u,null,E);break;case"together":Pv(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function lh(s,a){!(a.mode&1)&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Go(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),Tl|=a.lanes,!(u&a.childLanes))return null;if(s!==null&&a.child!==s.child)throw Error(n(153));if(a.child!==null){for(s=a.child,u=Oa(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=Oa(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function L3(s,a,u){switch(a.tag){case 3:YS(a),Rc();break;case 5:gS(a);break;case 1:Ii(a.type)&&Up(a);break;case 4:hv(a,a.stateNode.containerInfo);break;case 10:var g=a.type._context,w=a.memoizedProps.value;Gn(Jp,g._currentValue),g._currentValue=w;break;case 13:if(g=a.memoizedState,g!==null)return g.dehydrated!==null?(Gn(dr,dr.current&1),a.flags|=128,null):u&a.child.childLanes?eE(s,a,u):(Gn(dr,dr.current&1),s=Go(s,a,u),s!==null?s.sibling:null);Gn(dr,dr.current&1);break;case 19:if(g=(u&a.childLanes)!==0,s.flags&128){if(g)return nE(s,a,u);a.flags|=128}if(w=a.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),Gn(dr,dr.current),g)break;return null;case 22:case 23:return a.lanes=0,GS(s,a,u)}return Go(s,a,u)}var rE,Fv,iE,sE;rE=function(s,a){for(var u=a.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Fv=function(){},iE=function(s,a,u,g){var w=s.memoizedProps;if(w!==g){s=a.stateNode,Il(go.current);var E=null;switch(u){case"input":w=Yt(s,w),g=Yt(s,g),E=[];break;case"select":w=Ne({},w,{value:void 0}),g=Ne({},g,{value:void 0}),E=[];break;case"textarea":w=De(s,w),g=De(s,g),E=[];break;default:typeof w.onClick!="function"&&typeof g.onClick=="function"&&(s.onclick=$p)}ds(u,g);var j;u=null;for(Le in w)if(!g.hasOwnProperty(Le)&&w.hasOwnProperty(Le)&&w[Le]!=null)if(Le==="style"){var ae=w[Le];for(j in ae)ae.hasOwnProperty(j)&&(u||(u={}),u[j]="")}else Le!=="dangerouslySetInnerHTML"&&Le!=="children"&&Le!=="suppressContentEditableWarning"&&Le!=="suppressHydrationWarning"&&Le!=="autoFocus"&&(i.hasOwnProperty(Le)?E||(E=[]):(E=E||[]).push(Le,null));for(Le in g){var he=g[Le];if(ae=w?.[Le],g.hasOwnProperty(Le)&&he!==ae&&(he!=null||ae!=null))if(Le==="style")if(ae){for(j in ae)!ae.hasOwnProperty(j)||he&&he.hasOwnProperty(j)||(u||(u={}),u[j]="");for(j in he)he.hasOwnProperty(j)&&ae[j]!==he[j]&&(u||(u={}),u[j]=he[j])}else u||(E||(E=[]),E.push(Le,u)),u=he;else Le==="dangerouslySetInnerHTML"?(he=he?he.__html:void 0,ae=ae?ae.__html:void 0,he!=null&&ae!==he&&(E=E||[]).push(Le,he)):Le==="children"?typeof he!="string"&&typeof he!="number"||(E=E||[]).push(Le,""+he):Le!=="suppressContentEditableWarning"&&Le!=="suppressHydrationWarning"&&(i.hasOwnProperty(Le)?(he!=null&&Le==="onScroll"&&Xn("scroll",s),E||ae===he||(E=[])):(E=E||[]).push(Le,he))}u&&(E=E||[]).push("style",u);var Le=E;(a.updateQueue=Le)&&(a.flags|=4)}},sE=function(s,a,u,g){u!==g&&(a.flags|=4)};function Td(s,a){if(!ir)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function ri(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,g=0;if(a)for(var w=s.child;w!==null;)u|=w.lanes|w.childLanes,g|=w.subtreeFlags&0xe00000,g|=w.flags&0xe00000,w.return=s,w=w.sibling;else for(w=s.child;w!==null;)u|=w.lanes|w.childLanes,g|=w.subtreeFlags,g|=w.flags,w.return=s,w=w.sibling;return s.subtreeFlags|=g,s.childLanes=u,a}function D3(s,a,u){var g=a.pendingProps;switch(iv(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ri(a),null;case 1:return Ii(a.type)&&zp(),ri(a),null;case 3:return g=a.stateNode,Fc(),er(ki),er(ti),yv(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&(Kp(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,$s!==null&&(Qv($s),$s=null))),Fv(s,a),ri(a),null;case 5:mv(a);var w=Il(Ed.current);if(u=a.type,s!==null&&a.stateNode!=null)iE(s,a,u,g,w),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!g){if(a.stateNode===null)throw Error(n(166));return ri(a),null}if(s=Il(go.current),Kp(a)){g=a.stateNode,u=a.type;var E=a.memoizedProps;switch(g[mo]=a,g[bd]=E,s=(a.mode&1)!==0,u){case"dialog":Xn("cancel",g),Xn("close",g);break;case"iframe":case"object":case"embed":Xn("load",g);break;case"video":case"audio":for(w=0;w<gd.length;w++)Xn(gd[w],g);break;case"source":Xn("error",g);break;case"img":case"image":case"link":Xn("error",g),Xn("load",g);break;case"details":Xn("toggle",g);break;case"input":Kt(g,E),Xn("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!E.multiple},Xn("invalid",g);break;case"textarea":Je(g,E),Xn("invalid",g)}ds(u,E),w=null;for(var j in E)if(E.hasOwnProperty(j)){var ae=E[j];j==="children"?typeof ae=="string"?g.textContent!==ae&&(E.suppressHydrationWarning!==!0&&Bp(g.textContent,ae,s),w=["children",ae]):typeof ae=="number"&&g.textContent!==""+ae&&(E.suppressHydrationWarning!==!0&&Bp(g.textContent,ae,s),w=["children",""+ae]):i.hasOwnProperty(j)&&ae!=null&&j==="onScroll"&&Xn("scroll",g)}switch(u){case"input":ht(g),le(g,E,!0);break;case"textarea":ht(g),et(g);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(g.onclick=$p)}g=w,a.updateQueue=g,g!==null&&(a.flags|=4)}else{j=w.nodeType===9?w:w.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Vt(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=j.createElement("div"),s.innerHTML="<script></script>",s=s.removeChild(s.firstChild)):typeof g.is=="string"?s=j.createElement(u,{is:g.is}):(s=j.createElement(u),u==="select"&&(j=s,g.multiple?j.multiple=!0:g.size&&(j.size=g.size))):s=j.createElementNS(s,u),s[mo]=a,s[bd]=g,rE(s,a,!1,!1),a.stateNode=s;e:{switch(j=fs(u,g),u){case"dialog":Xn("cancel",s),Xn("close",s),w=g;break;case"iframe":case"object":case"embed":Xn("load",s),w=g;break;case"video":case"audio":for(w=0;w<gd.length;w++)Xn(gd[w],s);w=g;break;case"source":Xn("error",s),w=g;break;case"img":case"image":case"link":Xn("error",s),Xn("load",s),w=g;break;case"details":Xn("toggle",s),w=g;break;case"input":Kt(s,g),w=Yt(s,g),Xn("invalid",s);break;case"option":w=g;break;case"select":s._wrapperState={wasMultiple:!!g.multiple},w=Ne({},g,{value:void 0}),Xn("invalid",s);break;case"textarea":Je(s,g),w=De(s,g),Xn("invalid",s);break;default:w=g}ds(u,w),ae=w;for(E in ae)if(ae.hasOwnProperty(E)){var he=ae[E];E==="style"?$t(s,he):E==="dangerouslySetInnerHTML"?(he=he?he.__html:void 0,he!=null&&xr(s,he)):E==="children"?typeof he=="string"?(u!=="textarea"||he!=="")&&Fn(s,he):typeof he=="number"&&Fn(s,""+he):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(i.hasOwnProperty(E)?he!=null&&E==="onScroll"&&Xn("scroll",s):he!=null&&L(s,E,he,j))}switch(u){case"input":ht(s),le(s,g,!1);break;case"textarea":ht(s),et(s);break;case"option":g.value!=null&&s.setAttribute("value",""+vt(g.value));break;case"select":s.multiple=!!g.multiple,E=g.value,E!=null?Ce(s,!!g.multiple,E,!1):g.defaultValue!=null&&Ce(s,!!g.multiple,g.defaultValue,!0);break;default:typeof w.onClick=="function"&&(s.onclick=$p)}switch(u){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return ri(a),null;case 6:if(s&&a.stateNode!=null)sE(s,a,s.memoizedProps,g);else{if(typeof g!="string"&&a.stateNode===null)throw Error(n(166));if(u=Il(Ed.current),Il(go.current),Kp(a)){if(g=a.stateNode,u=a.memoizedProps,g[mo]=a,(E=g.nodeValue!==u)&&(s=Vi,s!==null))switch(s.tag){case 3:Bp(g.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Bp(g.nodeValue,u,(s.mode&1)!==0)}E&&(a.flags|=4)}else g=(u.nodeType===9?u:u.ownerDocument).createTextNode(g),g[mo]=a,a.stateNode=g}return ri(a),null;case 13:if(er(dr),g=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(ir&&Hi!==null&&a.mode&1&&!(a.flags&128))lS(),Rc(),a.flags|=98560,E=!1;else if(E=Kp(a),g!==null&&g.dehydrated!==null){if(s===null){if(!E)throw Error(n(318));if(E=a.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[mo]=a}else Rc(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;ri(a),E=!1}else $s!==null&&(Qv($s),$s=null),E=!0;if(!E)return a.flags&65536?a:null}return a.flags&128?(a.lanes=u,a):(g=g!==null,g!==(s!==null&&s.memoizedState!==null)&&g&&(a.child.flags|=8192,a.mode&1&&(s===null||dr.current&1?Fr===0&&(Fr=3):Jv())),a.updateQueue!==null&&(a.flags|=4),ri(a),null);case 4:return Fc(),Fv(s,a),s===null&&yd(a.stateNode.containerInfo),ri(a),null;case 10:return uv(a.type._context),ri(a),null;case 17:return Ii(a.type)&&zp(),ri(a),null;case 19:if(er(dr),E=a.memoizedState,E===null)return ri(a),null;if(g=(a.flags&128)!==0,j=E.rendering,j===null)if(g)Td(E,!1);else{if(Fr!==0||s!==null&&s.flags&128)for(s=a.child;s!==null;){if(j=eh(s),j!==null){for(a.flags|=128,Td(E,!1),g=j.updateQueue,g!==null&&(a.updateQueue=g,a.flags|=4),a.subtreeFlags=0,g=u,u=a.child;u!==null;)E=u,s=g,E.flags&=0xe00002,j=E.alternate,j===null?(E.childLanes=0,E.lanes=s,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=j.childLanes,E.lanes=j.lanes,E.child=j.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=j.memoizedProps,E.memoizedState=j.memoizedState,E.updateQueue=j.updateQueue,E.type=j.type,s=j.dependencies,E.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return Gn(dr,dr.current&1|2),a.child}s=s.sibling}E.tail!==null&&cr()>Bc&&(a.flags|=128,g=!0,Td(E,!1),a.lanes=4194304)}else{if(!g)if(s=eh(j),s!==null){if(a.flags|=128,g=!0,u=s.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),Td(E,!0),E.tail===null&&E.tailMode==="hidden"&&!j.alternate&&!ir)return ri(a),null}else 2*cr()-E.renderingStartTime>Bc&&u!==0x40000000&&(a.flags|=128,g=!0,Td(E,!1),a.lanes=4194304);E.isBackwards?(j.sibling=a.child,a.child=j):(u=E.last,u!==null?u.sibling=j:a.child=j,E.last=j)}return E.tail!==null?(a=E.tail,E.rendering=a,E.tail=a.sibling,E.renderingStartTime=cr(),a.sibling=null,u=dr.current,Gn(dr,g?u&1|2:u&1),a):(ri(a),null);case 22:case 23:return Gv(),g=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==g&&(a.flags|=8192),g&&a.mode&1?Qi&0x40000000&&(ri(a),a.subtreeFlags&6&&(a.flags|=8192)):ri(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function M3(s,a){switch(iv(a),a.tag){case 1:return Ii(a.type)&&zp(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Fc(),er(ki),er(ti),yv(),s=a.flags,s&65536&&!(s&128)?(a.flags=s&-65537|128,a):null;case 5:return mv(a),null;case 13:if(er(dr),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Rc()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return er(dr),null;case 4:return Fc(),null;case 10:return uv(a.type._context),null;case 22:case 23:return Gv(),null;case 24:return null;default:return null}}var ch=!1,ii=!1,B3=typeof WeakSet=="function"?WeakSet:Set,jt=null;function Dc(s,a){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(g){gr(s,a,g)}else u.current=null}function Lv(s,a,u){try{u()}catch(g){gr(s,a,g)}}var oE=!1;function $3(s,a){if(Gy=$e,s=D0(),$y(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var g=u.getSelection&&u.getSelection();if(g&&g.rangeCount!==0){u=g.anchorNode;var w=g.anchorOffset,E=g.focusNode;g=g.focusOffset;try{u.nodeType,E.nodeType}catch{u=null;break e}var j=0,ae=-1,he=-1,Le=0,rt=0,st=s,tt=null;t:for(;;){for(var Tt;st!==u||w!==0&&st.nodeType!==3||(ae=j+w),st!==E||g!==0&&st.nodeType!==3||(he=j+g),st.nodeType===3&&(j+=st.nodeValue.length),(Tt=st.firstChild)!==null;)tt=st,st=Tt;for(;;){if(st===s)break t;if(tt===u&&++Le===w&&(ae=j),tt===E&&++rt===g&&(he=j),(Tt=st.nextSibling)!==null)break;st=tt,tt=st.parentNode}st=Tt}u=ae===-1||he===-1?null:{start:ae,end:he}}else u=null}u=u||{start:0,end:0}}else u=null;for(Jy={focusedElem:s,selectionRange:u},$e=!1,jt=a;jt!==null;)if(a=jt,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,jt=s;else for(;jt!==null;){a=jt;try{var Pt=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Pt!==null){var Dt=Pt.memoizedProps,Sr=Pt.memoizedState,qe=a.stateNode,be=qe.getSnapshotBeforeUpdate(a.elementType===a.type?Dt:Ws(a.type,Dt),Sr);qe.__reactInternalSnapshotBeforeUpdate=be}break;case 3:var Re=a.stateNode.containerInfo;Re.nodeType===1?Re.textContent="":Re.nodeType===9&&Re.documentElement&&Re.removeChild(Re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ct){gr(a,a.return,ct)}if(s=a.sibling,s!==null){s.return=a.return,jt=s;break}jt=a.return}return Pt=oE,oE=!1,Pt}function Od(s,a,u){var g=a.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var w=g=g.next;do{if((w.tag&s)===s){var E=w.destroy;w.destroy=void 0,E!==void 0&&Lv(a,u,E)}w=w.next}while(w!==g)}}function uh(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var u=a=a.next;do{if((u.tag&s)===s){var g=u.create;u.destroy=g()}u=u.next}while(u!==a)}}function Dv(s){var a=s.ref;if(a!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof a=="function"?a(s):a.current=s}}function aE(s){var a=s.alternate;a!==null&&(s.alternate=null,aE(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[mo],delete a[bd],delete a[ev],delete a[S3],delete a[E3])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function lE(s){return s.tag===5||s.tag===3||s.tag===4}function cE(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||lE(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Mv(s,a,u){var g=s.tag;if(g===5||g===6)s=s.stateNode,a?u.nodeType===8?u.parentNode.insertBefore(s,a):u.insertBefore(s,a):(u.nodeType===8?(a=u.parentNode,a.insertBefore(s,u)):(a=u,a.appendChild(s)),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=$p));else if(g!==4&&(s=s.child,s!==null))for(Mv(s,a,u),s=s.sibling;s!==null;)Mv(s,a,u),s=s.sibling}function Bv(s,a,u){var g=s.tag;if(g===5||g===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(g!==4&&(s=s.child,s!==null))for(Bv(s,a,u),s=s.sibling;s!==null;)Bv(s,a,u),s=s.sibling}var Kr=null,zs=!1;function Na(s,a,u){for(u=u.child;u!==null;)uE(s,a,u),u=u.sibling}function uE(s,a,u){if(hs&&typeof hs.onCommitFiberUnmount=="function")try{hs.onCommitFiberUnmount(bc,u)}catch{}switch(u.tag){case 5:ii||Dc(u,a);case 6:var g=Kr,w=zs;Kr=null,Na(s,a,u),Kr=g,zs=w,Kr!==null&&(zs?(s=Kr,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):Kr.removeChild(u.stateNode));break;case 18:Kr!==null&&(zs?(s=Kr,u=u.stateNode,s.nodeType===8?Xy(s.parentNode,u):s.nodeType===1&&Xy(s,u),_e(s)):Xy(Kr,u.stateNode));break;case 4:g=Kr,w=zs,Kr=u.stateNode.containerInfo,zs=!0,Na(s,a,u),Kr=g,zs=w;break;case 0:case 11:case 14:case 15:if(!ii&&(g=u.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){w=g=g.next;do{var E=w,j=E.destroy;E=E.tag,j!==void 0&&(E&2||E&4)&&Lv(u,a,j),w=w.next}while(w!==g)}Na(s,a,u);break;case 1:if(!ii&&(Dc(u,a),g=u.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=u.memoizedProps,g.state=u.memoizedState,g.componentWillUnmount()}catch(ae){gr(u,a,ae)}Na(s,a,u);break;case 21:Na(s,a,u);break;case 22:u.mode&1?(ii=(g=ii)||u.memoizedState!==null,Na(s,a,u),ii=g):Na(s,a,u);break;default:Na(s,a,u)}}function dE(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new B3),a.forEach(function(g){var w=J3.bind(null,s,g);u.has(g)||(u.add(g),g.then(w,w))})}}function Us(s,a){var u=a.deletions;if(u!==null)for(var g=0;g<u.length;g++){var w=u[g];try{var E=s,j=a,ae=j;e:for(;ae!==null;){switch(ae.tag){case 5:Kr=ae.stateNode,zs=!1;break e;case 3:Kr=ae.stateNode.containerInfo,zs=!0;break e;case 4:Kr=ae.stateNode.containerInfo,zs=!0;break e}ae=ae.return}if(Kr===null)throw Error(n(160));uE(E,j,w),Kr=null,zs=!1;var he=w.alternate;he!==null&&(he.return=null),w.return=null}catch(Le){gr(w,a,Le)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)fE(a,s),a=a.sibling}function fE(s,a){var u=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Us(a,s),vo(s),g&4){try{Od(3,s,s.return),uh(3,s)}catch(Dt){gr(s,s.return,Dt)}try{Od(5,s,s.return)}catch(Dt){gr(s,s.return,Dt)}}break;case 1:Us(a,s),vo(s),g&512&&u!==null&&Dc(u,u.return);break;case 5:if(Us(a,s),vo(s),g&512&&u!==null&&Dc(u,u.return),s.flags&32){var w=s.stateNode;try{Fn(w,"")}catch(Dt){gr(s,s.return,Dt)}}if(g&4&&(w=s.stateNode,w!=null)){var E=s.memoizedProps,j=u!==null?u.memoizedProps:E,ae=s.type,he=s.updateQueue;if(s.updateQueue=null,he!==null)try{ae==="input"&&E.type==="radio"&&E.name!=null&&sn(w,E),fs(ae,j);var Le=fs(ae,E);for(j=0;j<he.length;j+=2){var rt=he[j],st=he[j+1];rt==="style"?$t(w,st):rt==="dangerouslySetInnerHTML"?xr(w,st):rt==="children"?Fn(w,st):L(w,rt,st,Le)}switch(ae){case"input":hn(w,E);break;case"textarea":Fe(w,E);break;case"select":var tt=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!E.multiple;var Tt=E.value;Tt!=null?Ce(w,!!E.multiple,Tt,!1):tt!==!!E.multiple&&(E.defaultValue!=null?Ce(w,!!E.multiple,E.defaultValue,!0):Ce(w,!!E.multiple,E.multiple?[]:"",!1))}w[bd]=E}catch(Dt){gr(s,s.return,Dt)}}break;case 6:if(Us(a,s),vo(s),g&4){if(s.stateNode===null)throw Error(n(162));w=s.stateNode,E=s.memoizedProps;try{w.nodeValue=E}catch(Dt){gr(s,s.return,Dt)}}break;case 3:if(Us(a,s),vo(s),g&4&&u!==null&&u.memoizedState.isDehydrated)try{_e(a.containerInfo)}catch(Dt){gr(s,s.return,Dt)}break;case 4:Us(a,s),vo(s);break;case 13:Us(a,s),vo(s),w=s.child,w.flags&8192&&(E=w.memoizedState!==null,w.stateNode.isHidden=E,!E||w.alternate!==null&&w.alternate.memoizedState!==null||(zv=cr())),g&4&&dE(s);break;case 22:if(rt=u!==null&&u.memoizedState!==null,s.mode&1?(ii=(Le=ii)||rt,Us(a,s),ii=Le):Us(a,s),vo(s),g&8192){if(Le=s.memoizedState!==null,(s.stateNode.isHidden=Le)&&!rt&&s.mode&1)for(jt=s,rt=s.child;rt!==null;){for(st=jt=rt;jt!==null;){switch(tt=jt,Tt=tt.child,tt.tag){case 0:case 11:case 14:case 15:Od(4,tt,tt.return);break;case 1:Dc(tt,tt.return);var Pt=tt.stateNode;if(typeof Pt.componentWillUnmount=="function"){g=tt,u=tt.return;try{a=g,Pt.props=a.memoizedProps,Pt.state=a.memoizedState,Pt.componentWillUnmount()}catch(Dt){gr(g,u,Dt)}}break;case 5:Dc(tt,tt.return);break;case 22:if(tt.memoizedState!==null){mE(st);continue}}Tt!==null?(Tt.return=tt,jt=Tt):mE(st)}rt=rt.sibling}e:for(rt=null,st=s;;){if(st.tag===5){if(rt===null){rt=st;try{w=st.stateNode,Le?(E=w.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(ae=st.stateNode,he=st.memoizedProps.style,j=he!=null&&he.hasOwnProperty("display")?he.display:null,ae.style.display=wr("display",j))}catch(Dt){gr(s,s.return,Dt)}}}else if(st.tag===6){if(rt===null)try{st.stateNode.nodeValue=Le?"":st.memoizedProps}catch(Dt){gr(s,s.return,Dt)}}else if((st.tag!==22&&st.tag!==23||st.memoizedState===null||st===s)&&st.child!==null){st.child.return=st,st=st.child;continue}if(st===s)break e;for(;st.sibling===null;){if(st.return===null||st.return===s)break e;rt===st&&(rt=null),st=st.return}rt===st&&(rt=null),st.sibling.return=st.return,st=st.sibling}}break;case 19:Us(a,s),vo(s),g&4&&dE(s);break;case 21:break;default:Us(a,s),vo(s)}}function vo(s){var a=s.flags;if(a&2){try{e:{for(var u=s.return;u!==null;){if(lE(u)){var g=u;break e}u=u.return}throw Error(n(160))}switch(g.tag){case 5:var w=g.stateNode;g.flags&32&&(Fn(w,""),g.flags&=-33);var E=cE(s);Bv(s,E,w);break;case 3:case 4:var j=g.stateNode.containerInfo,ae=cE(s);Mv(s,ae,j);break;default:throw Error(n(161))}}catch(he){gr(s,s.return,he)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function W3(s,a,u){jt=s,pE(s)}function pE(s,a,u){for(var g=(s.mode&1)!==0;jt!==null;){var w=jt,E=w.child;if(w.tag===22&&g){var j=w.memoizedState!==null||ch;if(!j){var ae=w.alternate,he=ae!==null&&ae.memoizedState!==null||ii;ae=ch;var Le=ii;if(ch=j,(ii=he)&&!Le)for(jt=w;jt!==null;)j=jt,he=j.child,j.tag===22&&j.memoizedState!==null?gE(w):he!==null?(he.return=j,jt=he):gE(w);for(;E!==null;)jt=E,pE(E),E=E.sibling;jt=w,ch=ae,ii=Le}hE(s)}else w.subtreeFlags&8772&&E!==null?(E.return=w,jt=E):hE(s)}}function hE(s){for(;jt!==null;){var a=jt;if(a.flags&8772){var u=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:ii||uh(5,a);break;case 1:var g=a.stateNode;if(a.flags&4&&!ii)if(u===null)g.componentDidMount();else{var w=a.elementType===a.type?u.memoizedProps:Ws(a.type,u.memoizedProps);g.componentDidUpdate(w,u.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var E=a.updateQueue;E!==null&&mS(a,E,g);break;case 3:var j=a.updateQueue;if(j!==null){if(u=null,a.child!==null)switch(a.child.tag){case 5:u=a.child.stateNode;break;case 1:u=a.child.stateNode}mS(a,j,u)}break;case 5:var ae=a.stateNode;if(u===null&&a.flags&4){u=ae;var he=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":he.autoFocus&&u.focus();break;case"img":he.src&&(u.src=he.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Le=a.alternate;if(Le!==null){var rt=Le.memoizedState;if(rt!==null){var st=rt.dehydrated;st!==null&&_e(st)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ii||a.flags&512&&Dv(a)}catch(tt){gr(a,a.return,tt)}}if(a===s){jt=null;break}if(u=a.sibling,u!==null){u.return=a.return,jt=u;break}jt=a.return}}function mE(s){for(;jt!==null;){var a=jt;if(a===s){jt=null;break}var u=a.sibling;if(u!==null){u.return=a.return,jt=u;break}jt=a.return}}function gE(s){for(;jt!==null;){var a=jt;try{switch(a.tag){case 0:case 11:case 15:var u=a.return;try{uh(4,a)}catch(he){gr(a,u,he)}break;case 1:var g=a.stateNode;if(typeof g.componentDidMount=="function"){var w=a.return;try{g.componentDidMount()}catch(he){gr(a,w,he)}}var E=a.return;try{Dv(a)}catch(he){gr(a,E,he)}break;case 5:var j=a.return;try{Dv(a)}catch(he){gr(a,j,he)}}}catch(he){gr(a,a.return,he)}if(a===s){jt=null;break}var ae=a.sibling;if(ae!==null){ae.return=a.return,jt=ae;break}jt=a.return}}var z3=Math.ceil,dh=V.ReactCurrentDispatcher,$v=V.ReactCurrentOwner,_s=V.ReactCurrentBatchConfig,Nn=0,zr=null,Or=null,Gr=0,Qi=0,Mc=_a(0),Fr=0,Cd=null,Tl=0,fh=0,Wv=0,Rd=null,Ti=null,zv=0,Bc=1/0,Jo=null,ph=!1,Uv=null,ka=null,hh=!1,Ia=null,mh=0,Ad=0,Vv=null,gh=-1,yh=0;function gi(){return Nn&6?cr():gh!==-1?gh:gh=cr()}function qa(s){return s.mode&1?Nn&2&&Gr!==0?Gr&-Gr:k3.transition!==null?(yh===0&&(yh=Rp()),yh):(s=qn,s!==0||(s=window.event,s=s===void 0?16:me(s.type)),s):1}function Vs(s,a,u,g){if(50<Ad)throw Ad=0,Vv=null,Error(n(185));_l(s,u,g),(!(Nn&2)||s!==zr)&&(s===zr&&(!(Nn&2)&&(fh|=u),Fr===4&&Ta(s,Gr)),Oi(s,g),u===1&&Nn===0&&!(a.mode&1)&&(Bc=cr()+500,Vp&&wa()))}function Oi(s,a){var u=s.callbackNode;Ay(s,a);var g=xc(s,s===zr?Gr:0);if(g===0)u!==null&&nd(u),s.callbackNode=null,s.callbackPriority=0;else if(a=g&-g,s.callbackPriority!==a){if(u!=null&&nd(u),a===1)s.tag===0?N3(vE.bind(null,s)):rS(vE.bind(null,s)),x3(function(){!(Nn&6)&&wa()}),u=null;else{switch(Ap(g)){case 1:u=rd;break;case 4:u=Op;break;case 16:u=vc;break;case 0x20000000:u=Cp;break;default:u=vc}u=kE(u,yE.bind(null,s))}s.callbackPriority=a,s.callbackNode=u}}function yE(s,a){if(gh=-1,yh=0,Nn&6)throw Error(n(327));var u=s.callbackNode;if($c()&&s.callbackNode!==u)return null;var g=xc(s,s===zr?Gr:0);if(g===0)return null;if(g&30||g&s.expiredLanes||a)a=vh(s,g);else{a=g;var w=Nn;Nn|=2;var E=_E();(zr!==s||Gr!==a)&&(Jo=null,Bc=cr()+500,Cl(s,a));do try{H3();break}catch(ae){bE(s,ae)}while(!0);cv(),dh.current=E,Nn=w,Or!==null?a=0:(zr=null,Gr=0,a=Fr)}if(a!==0){if(a===2&&(w=id(s),w!==0&&(g=w,a=Hv(s,w))),a===1)throw u=Cd,Cl(s,0),Ta(s,g),Oi(s,cr()),u;if(a===6)Ta(s,g);else{if(w=s.current.alternate,!(g&30)&&!U3(w)&&(a=vh(s,g),a===2&&(E=id(s),E!==0&&(g=E,a=Hv(s,E))),a===1))throw u=Cd,Cl(s,0),Ta(s,g),Oi(s,cr()),u;switch(s.finishedWork=w,s.finishedLanes=g,a){case 0:case 1:throw Error(n(345));case 2:Rl(s,Ti,Jo);break;case 3:if(Ta(s,g),(g&0x7c00000)===g&&(a=zv+500-cr(),10<a)){if(xc(s,0)!==0)break;if(w=s.suspendedLanes,(w&g)!==g){gi(),s.pingedLanes|=s.suspendedLanes&w;break}s.timeoutHandle=Yy(Rl.bind(null,s,Ti,Jo),a);break}Rl(s,Ti,Jo);break;case 4:if(Ta(s,g),(g&4194240)===g)break;for(a=s.eventTimes,w=-1;0<g;){var j=31-Ni(g);E=1<<j,j=a[j],j>w&&(w=j),g&=~E}if(g=w,g=cr()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*z3(g/1960))-g,10<g){s.timeoutHandle=Yy(Rl.bind(null,s,Ti,Jo),g);break}Rl(s,Ti,Jo);break;case 5:Rl(s,Ti,Jo);break;default:throw Error(n(329))}}}return Oi(s,cr()),s.callbackNode===u?yE.bind(null,s):null}function Hv(s,a){var u=Rd;return s.current.memoizedState.isDehydrated&&(Cl(s,a).flags|=256),s=vh(s,a),s!==2&&(a=Ti,Ti=u,a!==null&&Qv(a)),s}function Qv(s){Ti===null?Ti=s:Ti.push.apply(Ti,s)}function U3(s){for(var a=s;;){if(a.flags&16384){var u=a.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var g=0;g<u.length;g++){var w=u[g],E=w.getSnapshot;w=w.value;try{if(!Bs(E(),w))return!1}catch{return!1}}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ta(s,a){for(a&=~Wv,a&=~fh,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var u=31-Ni(a),g=1<<u;s[u]=-1,a&=~g}}function vE(s){if(Nn&6)throw Error(n(327));$c();var a=xc(s,0);if(!(a&1))return Oi(s,cr()),null;var u=vh(s,a);if(s.tag!==0&&u===2){var g=id(s);g!==0&&(a=g,u=Hv(s,g))}if(u===1)throw u=Cd,Cl(s,0),Ta(s,a),Oi(s,cr()),u;if(u===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Rl(s,Ti,Jo),Oi(s,cr()),null}function Kv(s,a){var u=Nn;Nn|=1;try{return s(a)}finally{Nn=u,Nn===0&&(Bc=cr()+500,Vp&&wa())}}function Ol(s){Ia!==null&&Ia.tag===0&&!(Nn&6)&&$c();var a=Nn;Nn|=1;var u=_s.transition,g=qn;try{if(_s.transition=null,qn=1,s)return s()}finally{qn=g,_s.transition=u,Nn=a,!(Nn&6)&&wa()}}function Gv(){Qi=Mc.current,er(Mc)}function Cl(s,a){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,_3(u)),Or!==null)for(u=Or.return;u!==null;){var g=u;switch(iv(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&zp();break;case 3:Fc(),er(ki),er(ti),yv();break;case 5:mv(g);break;case 4:Fc();break;case 13:er(dr);break;case 19:er(dr);break;case 10:uv(g.type._context);break;case 22:case 23:Gv()}u=u.return}if(zr=s,Or=s=Oa(s.current,null),Gr=Qi=a,Fr=0,Cd=null,Wv=fh=Tl=0,Ti=Rd=null,kl!==null){for(a=0;a<kl.length;a++)if(u=kl[a],g=u.interleaved,g!==null){u.interleaved=null;var w=g.next,E=u.pending;if(E!==null){var j=E.next;E.next=w,g.next=j}u.pending=g}kl=null}return s}function bE(s,a){do{var u=Or;try{if(cv(),th.current=sh,nh){for(var g=fr.memoizedState;g!==null;){var w=g.queue;w!==null&&(w.pending=null),g=g.next}nh=!1}if(ql=0,Wr=Pr=fr=null,Nd=!1,kd=0,$v.current=null,u===null||u.return===null){Fr=1,Cd=a,Or=null;break}e:{var E=s,j=u.return,ae=u,he=a;if(a=Gr,ae.flags|=32768,he!==null&&typeof he=="object"&&typeof he.then=="function"){var Le=he,rt=ae,st=rt.tag;if(!(rt.mode&1)&&(st===0||st===11||st===15)){var tt=rt.alternate;tt?(rt.updateQueue=tt.updateQueue,rt.memoizedState=tt.memoizedState,rt.lanes=tt.lanes):(rt.updateQueue=null,rt.memoizedState=null)}var Tt=US(j);if(Tt!==null){Tt.flags&=-257,VS(Tt,j,ae,E,a),Tt.mode&1&&zS(E,Le,a),a=Tt,he=Le;var Pt=a.updateQueue;if(Pt===null){var Dt=new Set;Dt.add(he),a.updateQueue=Dt}else Pt.add(he);break e}else{if(!(a&1)){zS(E,Le,a),Jv();break e}he=Error(n(426))}}else if(ir&&ae.mode&1){var Sr=US(j);if(Sr!==null){!(Sr.flags&65536)&&(Sr.flags|=256),VS(Sr,j,ae,E,a),av(Lc(he,ae));break e}}E=he=Lc(he,ae),Fr!==4&&(Fr=2),Rd===null?Rd=[E]:Rd.push(E),E=j;do{switch(E.tag){case 3:E.flags|=65536,a&=-a,E.lanes|=a;var qe=$S(E,he,a);hS(E,qe);break e;case 1:ae=he;var be=E.type,Re=E.stateNode;if(!(E.flags&128)&&(typeof be.getDerivedStateFromError=="function"||Re!==null&&typeof Re.componentDidCatch=="function"&&(ka===null||!ka.has(Re)))){E.flags|=65536,a&=-a,E.lanes|=a;var ct=WS(E,ae,a);hS(E,ct);break e}}E=E.return}while(E!==null)}wE(u)}catch(Mt){a=Mt,Or===u&&u!==null&&(Or=u=u.return);continue}break}while(!0)}function _E(){var s=dh.current;return dh.current=sh,s===null?sh:s}function Jv(){(Fr===0||Fr===3||Fr===2)&&(Fr=4),zr===null||!(Tl&0xfffffff)&&!(fh&0xfffffff)||Ta(zr,Gr)}function vh(s,a){var u=Nn;Nn|=2;var g=_E();(zr!==s||Gr!==a)&&(Jo=null,Cl(s,a));do try{V3();break}catch(w){bE(s,w)}while(!0);if(cv(),Nn=u,dh.current=g,Or!==null)throw Error(n(261));return zr=null,Gr=0,Fr}function V3(){for(;Or!==null;)xE(Or)}function H3(){for(;Or!==null&&!Ey();)xE(Or)}function xE(s){var a=NE(s.alternate,s,Qi);s.memoizedProps=s.pendingProps,a===null?wE(s):Or=a,$v.current=null}function wE(s){var a=s;do{var u=a.alternate;if(s=a.return,a.flags&32768){if(u=M3(u,a),u!==null){u.flags&=32767,Or=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Fr=6,Or=null;return}}else if(u=D3(u,a,Qi),u!==null){Or=u;return}if(a=a.sibling,a!==null){Or=a;return}Or=a=s}while(a!==null);Fr===0&&(Fr=5)}function Rl(s,a,u){var g=qn,w=_s.transition;try{_s.transition=null,qn=1,Q3(s,a,u,g)}finally{_s.transition=w,qn=g}return null}function Q3(s,a,u,g){do $c();while(Ia!==null);if(Nn&6)throw Error(n(327));u=s.finishedWork;var w=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var E=u.lanes|u.childLanes;if(jy(s,E),s===zr&&(Or=zr=null,Gr=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||hh||(hh=!0,kE(vc,function(){return $c(),null})),E=(u.flags&15990)!==0,u.subtreeFlags&15990||E){E=_s.transition,_s.transition=null;var j=qn;qn=1;var ae=Nn;Nn|=4,$v.current=null,$3(s,u),fE(u,s),p3(Jy),$e=!!Gy,Jy=Gy=null,s.current=u,W3(u),Ny(),Nn=ae,qn=j,_s.transition=E}else s.current=u;if(hh&&(hh=!1,Ia=s,mh=w),E=s.pendingLanes,E===0&&(ka=null),qy(u.stateNode),Oi(s,cr()),a!==null)for(g=s.onRecoverableError,u=0;u<a.length;u++)w=a[u],g(w.value,{componentStack:w.stack,digest:w.digest});if(ph)throw ph=!1,s=Uv,Uv=null,s;return mh&1&&s.tag!==0&&$c(),E=s.pendingLanes,E&1?s===Vv?Ad++:(Ad=0,Vv=s):Ad=0,wa(),null}function $c(){if(Ia!==null){var s=Ap(mh),a=_s.transition,u=qn;try{if(_s.transition=null,qn=16>s?16:s,Ia===null)var g=!1;else{if(s=Ia,Ia=null,mh=0,Nn&6)throw Error(n(331));var w=Nn;for(Nn|=4,jt=s.current;jt!==null;){var E=jt,j=E.child;if(jt.flags&16){var ae=E.deletions;if(ae!==null){for(var he=0;he<ae.length;he++){var Le=ae[he];for(jt=Le;jt!==null;){var rt=jt;switch(rt.tag){case 0:case 11:case 15:Od(8,rt,E)}var st=rt.child;if(st!==null)st.return=rt,jt=st;else for(;jt!==null;){rt=jt;var tt=rt.sibling,Tt=rt.return;if(aE(rt),rt===Le){jt=null;break}if(tt!==null){tt.return=Tt,jt=tt;break}jt=Tt}}}var Pt=E.alternate;if(Pt!==null){var Dt=Pt.child;if(Dt!==null){Pt.child=null;do{var Sr=Dt.sibling;Dt.sibling=null,Dt=Sr}while(Dt!==null)}}jt=E}}if(E.subtreeFlags&2064&&j!==null)j.return=E,jt=j;else e:for(;jt!==null;){if(E=jt,E.flags&2048)switch(E.tag){case 0:case 11:case 15:Od(9,E,E.return)}var qe=E.sibling;if(qe!==null){qe.return=E.return,jt=qe;break e}jt=E.return}}var be=s.current;for(jt=be;jt!==null;){j=jt;var Re=j.child;if(j.subtreeFlags&2064&&Re!==null)Re.return=j,jt=Re;else e:for(j=be;jt!==null;){if(ae=jt,ae.flags&2048)try{switch(ae.tag){case 0:case 11:case 15:uh(9,ae)}}catch(Mt){gr(ae,ae.return,Mt)}if(ae===j){jt=null;break e}var ct=ae.sibling;if(ct!==null){ct.return=ae.return,jt=ct;break e}jt=ae.return}}if(Nn=w,wa(),hs&&typeof hs.onPostCommitFiberRoot=="function")try{hs.onPostCommitFiberRoot(bc,s)}catch{}g=!0}return g}finally{qn=u,_s.transition=a}}return!1}function SE(s,a,u){a=Lc(u,a),a=$S(s,a,1),s=Ea(s,a,1),a=gi(),s!==null&&(_l(s,1,a),Oi(s,a))}function gr(s,a,u){if(s.tag===3)SE(s,s,u);else for(;a!==null;){if(a.tag===3){SE(a,s,u);break}else if(a.tag===1){var g=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ka===null||!ka.has(g))){s=Lc(u,s),s=WS(a,s,1),a=Ea(a,s,1),s=gi(),a!==null&&(_l(a,1,s),Oi(a,s));break}}a=a.return}}function K3(s,a,u){var g=s.pingCache;g!==null&&g.delete(a),a=gi(),s.pingedLanes|=s.suspendedLanes&u,zr===s&&(Gr&u)===u&&(Fr===4||Fr===3&&(Gr&0x7c00000)===Gr&&500>cr()-zv?Cl(s,0):Wv|=u),Oi(s,a)}function EE(s,a){a===0&&(s.mode&1?(a=_c,_c<<=1,!(_c&0x7c00000)&&(_c=4194304)):a=1);var u=gi();s=Qo(s,a),s!==null&&(_l(s,a,u),Oi(s,u))}function G3(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),EE(s,u)}function J3(s,a){var u=0;switch(s.tag){case 13:var g=s.stateNode,w=s.memoizedState;w!==null&&(u=w.retryLane);break;case 19:g=s.stateNode;break;default:throw Error(n(314))}g!==null&&g.delete(a),EE(s,u)}var NE;NE=function(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps||ki.current)qi=!0;else{if(!(s.lanes&u)&&!(a.flags&128))return qi=!1,L3(s,a,u);qi=!!(s.flags&131072)}else qi=!1,ir&&a.flags&1048576&&iS(a,Qp,a.index);switch(a.lanes=0,a.tag){case 2:var g=a.type;lh(s,a),s=a.pendingProps;var w=Tc(a,ti.current);Pc(a,u),w=_v(null,a,g,s,w,u);var E=xv();return a.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Ii(g)?(E=!0,Up(a)):E=!1,a.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,pv(a),w.updater=oh,a.stateNode=w,w._reactInternals=a,Iv(a,g,s,u),a=Cv(null,a,g,!0,E,u)):(a.tag=0,ir&&E&&rv(a),mi(null,a,w,u),a=a.child),a;case 16:g=a.elementType;e:{switch(lh(s,a),s=a.pendingProps,w=g._init,g=w(g._payload),a.type=g,w=a.tag=Y3(g),s=Ws(g,s),w){case 0:a=Ov(null,a,g,s,u);break e;case 1:a=ZS(null,a,g,s,u);break e;case 11:a=HS(null,a,g,s,u);break e;case 14:a=QS(null,a,g,Ws(g.type,s),u);break e}throw Error(n(306,g,""))}return a;case 0:return g=a.type,w=a.pendingProps,w=a.elementType===g?w:Ws(g,w),Ov(s,a,g,w,u);case 1:return g=a.type,w=a.pendingProps,w=a.elementType===g?w:Ws(g,w),ZS(s,a,g,w,u);case 3:e:{if(YS(a),s===null)throw Error(n(387));g=a.pendingProps,E=a.memoizedState,w=E.element,pS(s,a),Xp(a,g,null,u);var j=a.memoizedState;if(g=j.element,E.isDehydrated)if(E={element:g,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},a.updateQueue.baseState=E,a.memoizedState=E,a.flags&256){w=Lc(Error(n(423)),a),a=XS(s,a,g,u,w);break e}else if(g!==w){w=Lc(Error(n(424)),a),a=XS(s,a,g,u,w);break e}else for(Hi=ba(a.stateNode.containerInfo.firstChild),Vi=a,ir=!0,$s=null,u=dS(a,null,g,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Rc(),g===w){a=Go(s,a,u);break e}mi(s,a,g,u)}a=a.child}return a;case 5:return gS(a),s===null&&ov(a),g=a.type,w=a.pendingProps,E=s!==null?s.memoizedProps:null,j=w.children,Zy(g,w)?j=null:E!==null&&Zy(g,E)&&(a.flags|=32),JS(s,a),mi(s,a,j,u),a.child;case 6:return s===null&&ov(a),null;case 13:return eE(s,a,u);case 4:return hv(a,a.stateNode.containerInfo),g=a.pendingProps,s===null?a.child=Ac(a,null,g,u):mi(s,a,g,u),a.child;case 11:return g=a.type,w=a.pendingProps,w=a.elementType===g?w:Ws(g,w),HS(s,a,g,w,u);case 7:return mi(s,a,a.pendingProps,u),a.child;case 8:return mi(s,a,a.pendingProps.children,u),a.child;case 12:return mi(s,a,a.pendingProps.children,u),a.child;case 10:e:{if(g=a.type._context,w=a.pendingProps,E=a.memoizedProps,j=w.value,Gn(Jp,g._currentValue),g._currentValue=j,E!==null)if(Bs(E.value,j)){if(E.children===w.children&&!ki.current){a=Go(s,a,u);break e}}else for(E=a.child,E!==null&&(E.return=a);E!==null;){var ae=E.dependencies;if(ae!==null){j=E.child;for(var he=ae.firstContext;he!==null;){if(he.context===g){if(E.tag===1){he=Ko(-1,u&-u),he.tag=2;var Le=E.updateQueue;if(Le!==null){Le=Le.shared;var rt=Le.pending;rt===null?he.next=he:(he.next=rt.next,rt.next=he),Le.pending=he}}E.lanes|=u,he=E.alternate,he!==null&&(he.lanes|=u),dv(E.return,u,a),ae.lanes|=u;break}he=he.next}}else if(E.tag===10)j=E.type===a.type?null:E.child;else if(E.tag===18){if(j=E.return,j===null)throw Error(n(341));j.lanes|=u,ae=j.alternate,ae!==null&&(ae.lanes|=u),dv(j,u,a),j=E.sibling}else j=E.child;if(j!==null)j.return=E;else for(j=E;j!==null;){if(j===a){j=null;break}if(E=j.sibling,E!==null){E.return=j.return,j=E;break}j=j.return}E=j}mi(s,a,w.children,u),a=a.child}return a;case 9:return w=a.type,g=a.pendingProps.children,Pc(a,u),w=vs(w),g=g(w),a.flags|=1,mi(s,a,g,u),a.child;case 14:return g=a.type,w=Ws(g,a.pendingProps),w=Ws(g.type,w),QS(s,a,g,w,u);case 15:return KS(s,a,a.type,a.pendingProps,u);case 17:return g=a.type,w=a.pendingProps,w=a.elementType===g?w:Ws(g,w),lh(s,a),a.tag=1,Ii(g)?(s=!0,Up(a)):s=!1,Pc(a,u),MS(a,g,w),Iv(a,g,w,u),Cv(null,a,g,!0,s,u);case 19:return nE(s,a,u);case 22:return GS(s,a,u)}throw Error(n(156,a.tag))};function kE(s,a){return Tp(s,a)}function Z3(s,a,u,g){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xs(s,a,u,g){return new Z3(s,a,u,g)}function Zv(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Y3(s){if(typeof s=="function")return Zv(s)?1:0;if(s!=null){if(s=s.$$typeof,s===se)return 11;if(s===Ee)return 14}return 2}function Oa(s,a){var u=s.alternate;return u===null?(u=xs(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&0xe00000,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function bh(s,a,u,g,w,E){var j=2;if(g=s,typeof s=="function")Zv(s)&&(j=1);else if(typeof s=="string")j=5;else e:switch(s){case Z:return Al(u.children,w,E,a);case oe:j=8,w|=8;break;case U:return s=xs(12,u,a,w|2),s.elementType=U,s.lanes=E,s;case X:return s=xs(13,u,a,w),s.elementType=X,s.lanes=E,s;case fe:return s=xs(19,u,a,w),s.elementType=fe,s.lanes=E,s;case je:return _h(u,w,E,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case ne:j=10;break e;case B:j=9;break e;case se:j=11;break e;case Ee:j=14;break e;case Oe:j=16,g=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return a=xs(j,u,a,w),a.elementType=s,a.type=g,a.lanes=E,a}function Al(s,a,u,g){return s=xs(7,s,g,a),s.lanes=u,s}function _h(s,a,u,g){return s=xs(22,s,g,a),s.elementType=je,s.lanes=u,s.stateNode={isHidden:!1},s}function Yv(s,a,u){return s=xs(6,s,null,a),s.lanes=u,s}function Xv(s,a,u){return a=xs(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function X3(s,a,u,g,w){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sd(0),this.expirationTimes=sd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sd(0),this.identifierPrefix=g,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function eb(s,a,u,g,w,E,j,ae,he){return s=new X3(s,a,u,ae,he),a===1?(a=1,E===!0&&(a|=8)):a=0,E=xs(3,null,null,a),s.current=E,E.stateNode=s,E.memoizedState={element:g,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},pv(E),s}function eA(s,a,u){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:g==null?null:""+g,children:s,containerInfo:a,implementation:u}}function IE(s){if(!s)return xa;s=s._reactInternals;e:{if($o(s)!==s||s.tag!==1)throw Error(n(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Ii(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(s.tag===1){var u=s.type;if(Ii(u))return tS(s,u,a)}return a}function qE(s,a,u,g,w,E,j,ae,he){return s=eb(u,g,!0,s,w,E,j,ae,he),s.context=IE(null),u=s.current,g=gi(),w=qa(u),E=Ko(g,w),E.callback=a??null,Ea(u,E,w),s.current.lanes=w,_l(s,w,g),Oi(s,g),s}function xh(s,a,u,g){var w=a.current,E=gi(),j=qa(w);return u=IE(u),a.context===null?a.context=u:a.pendingContext=u,a=Ko(E,j),a.payload={element:s},g=g===void 0?null:g,g!==null&&(a.callback=g),s=Ea(w,a,j),s!==null&&(Vs(s,w,j,E),Yp(s,w,j)),j}function wh(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function TE(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function tb(s,a){TE(s,a),(s=s.alternate)&&TE(s,a)}function tA(){return null}var OE=typeof reportError=="function"?reportError:function(s){console.error(s)};function nb(s){this._internalRoot=s}Sh.prototype.render=nb.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(n(409));xh(s,a,null,null)},Sh.prototype.unmount=nb.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Ol(function(){xh(null,s,null,null)}),a[zo]=null}};function Sh(s){this._internalRoot=s}Sh.prototype.unstable_scheduleHydration=function(s){if(s){var a=xl();s={blockedOn:null,target:s,priority:a};for(var u=0;u<ie.length&&a!==0&&a<ie[u].priority;u++);ie.splice(u,0,s),u===0&&Ae(s)}};function rb(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Eh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function CE(){}function nA(s,a,u,g,w){if(w){if(typeof g=="function"){var E=g;g=function(){var Le=wh(j);E.call(Le)}}var j=qE(a,g,s,0,null,!1,!1,"",CE);return s._reactRootContainer=j,s[zo]=j.current,yd(s.nodeType===8?s.parentNode:s),Ol(),j}for(;w=s.lastChild;)s.removeChild(w);if(typeof g=="function"){var ae=g;g=function(){var Le=wh(he);ae.call(Le)}}var he=eb(s,0,!1,null,null,!1,!1,"",CE);return s._reactRootContainer=he,s[zo]=he.current,yd(s.nodeType===8?s.parentNode:s),Ol(function(){xh(a,he,u,g)}),he}function Nh(s,a,u,g,w){var E=u._reactRootContainer;if(E){var j=E;if(typeof w=="function"){var ae=w;w=function(){var he=wh(j);ae.call(he)}}xh(a,j,s,w)}else j=nA(u,a,s,w,g);return wh(j)}ad=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var u=Ms(a.pendingLanes);u!==0&&(od(a,u|1),Oi(a,cr()),!(Nn&6)&&(Bc=cr()+500,wa()))}break;case 13:Ol(function(){var g=Qo(s,1);if(g!==null){var w=gi();Vs(g,s,1,w)}}),tb(s,1)}},re=function(s){if(s.tag===13){var a=Qo(s,0x8000000);if(a!==null){var u=gi();Vs(a,s,0x8000000,u)}tb(s,0x8000000)}},ld=function(s){if(s.tag===13){var a=qa(s),u=Qo(s,a);if(u!==null){var g=gi();Vs(u,s,a,g)}tb(s,a)}},xl=function(){return qn},cd=function(s,a){var u=qn;try{return qn=s,a()}finally{qn=u}},Xu=function(s,a,u){switch(a){case"input":if(hn(s,u),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<u.length;a++){var g=u[a];if(g!==s&&g.form===s.form){var w=Wp(g);if(!w)throw Error(n(90));Nt(g),hn(g,w)}}}break;case"textarea":Fe(s,u);break;case"select":a=u.value,a!=null&&Ce(s,!!u.multiple,a,!1)}},Sp=Kv,Ep=Ol;var rA={usingClientEntryPoint:!1,Events:[_d,Ic,Wp,ln,wp,Kv]},jd={findFiberByHostInstance:wl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iA={bundleType:jd.bundleType,version:jd.version,rendererPackageName:jd.rendererPackageName,rendererConfig:jd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Ip(s),s===null?null:s.stateNode},findFiberByHostInstance:jd.findFiberByHostInstance||tA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kh.isDisabled&&kh.supportsFiber)try{bc=kh.inject(iA),hs=kh}catch{}}return Ci.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rA,Ci.createPortal=function(s,a){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rb(a))throw Error(n(200));return eA(s,a,null,u)},Ci.createRoot=function(s,a){if(!rb(s))throw Error(n(299));var u=!1,g="",w=OE;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),a=eb(s,1,!1,null,null,u,!1,g,w),s[zo]=a.current,yd(s.nodeType===8?s.parentNode:s),new nb(a)},Ci.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Ip(a),s=s===null?null:s.stateNode,s},Ci.flushSync=function(s){return Ol(s)},Ci.hydrate=function(s,a,u){if(!Eh(a))throw Error(n(200));return Nh(null,s,a,!0,u)},Ci.hydrateRoot=function(s,a,u){if(!rb(s))throw Error(n(405));var g=u!=null&&u.hydratedSources||null,w=!1,E="",j=OE;if(u!=null&&(u.unstable_strictMode===!0&&(w=!0),u.identifierPrefix!==void 0&&(E=u.identifierPrefix),u.onRecoverableError!==void 0&&(j=u.onRecoverableError)),a=qE(a,null,s,1,u??null,w,!1,E,j),s[zo]=a.current,yd(s),g)for(s=0;s<g.length;s++)u=g[s],w=u._getVersion,w=w(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,w]:a.mutableSourceEagerHydrationData.push(u,w);return new Sh(a)},Ci.render=function(s,a,u){if(!Eh(a))throw Error(n(200));return Nh(null,s,a,!1,u)},Ci.unmountComponentAtNode=function(s){if(!Eh(s))throw Error(n(40));return s._reactRootContainer?(Ol(function(){Nh(null,null,s,!1,function(){s._reactRootContainer=null,s[zo]=null})}),!0):!1},Ci.unstable_batchedUpdates=Kv,Ci.unstable_renderSubtreeIntoContainer=function(s,a,u,g){if(!Eh(u))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return Nh(s,a,u,!1,g)},Ci.version="18.3.1-next-f1338f8080-20240426",Ci}var cN;function fq(){if(cN)return mb.exports;cN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),mb.exports=Dj(),mb.exports}var aw=fq();const Mj="Error preloading route! ";function Bj(t,e){const n=ao(),[r,i]=Q.useState(!1),o=Q.useRef(!1),l=dj(e),{activeProps:c=()=>({className:"active"}),inactiveProps:d=()=>({}),activeOptions:m,to:y,preload:_,preloadDelay:N,hashScrollIntoView:k,replace:q,startTransition:T,resetScroll:A,viewTransition:D,children:P,target:L,disabled:V,style:J,className:W,onClick:Z,onFocus:oe,onMouseEnter:U,onMouseLeave:ne,onTouchStart:B,ignoreBlocker:se,...X}=t,{params:fe,search:Ee,hash:Oe,state:je,mask:ve,reloadDocument:pe,...Ne}=X,K=Q.useMemo(()=>{try{return new URL(`${y}`),"external"}catch{}return"internal"},[y]),xe=wi({select:ye=>ye.location.search,structuralSharing:!0});t={from:tl({strict:!1,select:ye=>ye.pathname}),...t};const at=Q.useMemo(()=>n.buildLocation(t),[n,t,xe]),ft=Q.useMemo(()=>t.reloadDocument?!1:_??n.options.defaultPreload,[n.options.defaultPreload,_,t.reloadDocument]),dt=N??n.options.defaultPreloadDelay??0,pt=wi({select:ye=>{if(m?.exact){if(!pj(ye.location.pathname,at.pathname,n.basepath))return!1}else{const Ce=Fm(ye.location.pathname,n.basepath).split("/");if(!Fm(at.pathname,n.basepath).split("/").every((Fe,et)=>Fe===Ce[et]))return!1}return(m?.includeSearch??!0)&&!uu(ye.location.search,at.search,{partial:!m?.exact,ignoreUndefined:!m?.explicitUndefined})?!1:m?.includeHash?ye.location.hash===at.hash:!0}}),vt=Q.useCallback(()=>{n.preloadRoute(t).catch(ye=>{console.warn(ye),console.warn(Mj)})},[t,n]),At=Q.useCallback(ye=>{ye?.isIntersecting&&vt()},[vt]);if(uj(l,At,{rootMargin:"100px"},{disabled:!!V||ft!=="viewport"}),Qd(()=>{o.current||!V&&ft==="render"&&(vt(),o.current=!0)},[V,vt,ft]),K==="external")return{...Ne,ref:l,type:K,href:y,...P&&{children:P},...L&&{target:L},...V&&{disabled:V},...J&&{style:J},...W&&{className:W},...Z&&{onClick:Z},...oe&&{onFocus:oe},...U&&{onMouseEnter:U},...ne&&{onMouseLeave:ne},...B&&{onTouchStart:B}};const mt=ye=>{if(!V&&!Wj(ye)&&!ye.defaultPrevented&&(!L||L==="_self")&&ye.button===0){ye.preventDefault(),aw.flushSync(()=>{i(!0)});const Ce=n.subscribe("onResolved",()=>{Ce(),i(!1)});return n.navigate({...t,replace:q,resetScroll:A,hashScrollIntoView:k,startTransition:T,viewTransition:D,ignoreBlocker:se})}},ht=ye=>{V||ft&&vt()},Nt=ht,kt=ye=>{if(V)return;const Ce=ye.target||{};if(ft){if(Ce.preloadTimeout)return;Ce.preloadTimeout=setTimeout(()=>{Ce.preloadTimeout=null,vt()},dt)}},Yt=ye=>{if(V)return;const Ce=ye.target||{};Ce.preloadTimeout&&(clearTimeout(Ce.preloadTimeout),Ce.preloadTimeout=null)},Kt=ye=>Ce=>{var De;(De=Ce.persist)==null||De.call(Ce),ye.filter(Boolean).forEach(Je=>{Ce.defaultPrevented||Je(Ce)})},sn=pt?Ul(c,{})??{}:{},hn=pt?{}:Ul(d,{}),le=[W,sn.className,hn.className].filter(Boolean).join(" "),ue={...J,...sn.style,...hn.style};return{...Ne,...sn,...hn,href:V?void 0:at.maskedLocation?n.history.createHref(at.maskedLocation.href):n.history.createHref(at.href),ref:l,onClick:Kt([Z,mt]),onFocus:Kt([oe,ht]),onMouseEnter:Kt([U,kt]),onMouseLeave:Kt([ne,Yt]),onTouchStart:Kt([B,Nt]),disabled:!!V,target:L,...Object.keys(ue).length&&{style:ue},...le&&{className:le},...V&&{role:"link","aria-disabled":!0},...pt&&{"data-status":"active","aria-current":"page"},...r&&{"data-transitioning":"transitioning"}}}function pq(t){return Q.forwardRef(function(n,r){return h.jsx($j,{...n,_asChild:t,ref:r})})}const $j=Q.forwardRef((t,e)=>{const{_asChild:n,...r}=t,{type:i,ref:o,...l}=Bj(r,e),c=typeof r.children=="function"?r.children({isActive:l["data-status"]==="active"}):r.children;return typeof n>"u"&&delete l.disabled,Q.createElement(n||"a",{...l,ref:o},c)});function Wj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function zj(){const t=ao(),e=Q.useRef({router:t,mounted:!1}),n=wi({select:({isLoading:_})=>_}),[r,i]=Q.useState(!1),o=wi({select:_=>_.matches.some(N=>N.status==="pending"),structuralSharing:!0}),l=fb(n),c=n||r||o,d=fb(c),m=n||o,y=fb(m);return t.isServer||(t.startReactTransition=_=>{i(!0),Q.startTransition(()=>{_(),i(!1)})}),Q.useEffect(()=>{const _=t.history.subscribe(t.load),N=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Vl(t.latestLocation.href)!==Vl(N.href)&&t.commitLocation({...N,replace:!0}),()=>{_()}},[t,t.history]),Qd(()=>{var _;if(typeof window<"u"&&((_=window.__TSR__)!=null&&_.dehydrated)||e.current.router===t&&e.current.mounted)return;e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(k){console.error(k)}})()},[t]),Qd(()=>{if(l&&!n){const _=t.state.location,N=t.state.resolvedLocation,k=N.pathname!==_.pathname,q=N.href!==_.href;t.emit({type:"onLoad",fromLocation:N,toLocation:_,pathChanged:k,hrefChanged:q})}},[l,t,n]),Qd(()=>{if(y&&!m){const _=t.state.location,N=t.state.resolvedLocation,k=N.pathname!==_.pathname,q=N.href!==_.href;t.emit({type:"onBeforeRouteMount",fromLocation:N,toLocation:_,pathChanged:k,hrefChanged:q})}},[m,y,t]),Qd(()=>{if(d&&!c){const _=t.state.location,N=t.state.resolvedLocation,k=N.pathname!==_.pathname,q=N.href!==_.href;if(t.emit({type:"onResolved",fromLocation:N,toLocation:_,pathChanged:k,hrefChanged:q}),t.__store.setState(T=>({...T,status:"idle",resolvedLocation:T.location})),typeof document<"u"&&document.querySelector){const T=t.state.location.state.__hashScrollIntoViewOptions??!0;if(T&&t.state.location.hash!==""){const A=document.getElementById(t.state.location.hash);A&&A.scrollIntoView(T)}}}},[c,d,t]),null}function Uj(){const t=ao(),e=t.options.defaultPendingComponent?h.jsx(t.options.defaultPendingComponent,{}):null,n=t.isServer||typeof document<"u"&&window.__TSR__?Zh:Q.Suspense,r=h.jsxs(n,{fallback:e,children:[h.jsx(zj,{}),h.jsx(Vj,{})]});return t.options.InnerWrap?h.jsx(t.options.InnerWrap,{children:r}):r}function Vj(){const t=wi({select:n=>{var r;return(r=n.matches[0])==null?void 0:r.id}}),e=wi({select:n=>n.loadedAt});return h.jsx(Cg.Provider,{value:t,children:h.jsx(sw,{getResetKey:()=>e,errorComponent:Og,onCatch:n=>{n.message||n.toString()},children:t?h.jsx(dq,{matchId:t}):null})})}function hq(){const t=ao();return wi({select:e=>[e.location.href,e.resolvedLocation.href,e.status],structuralSharing:!0}),Q.useCallback(e=>{const{pending:n,caseSensitive:r,fuzzy:i,includeSearch:o,...l}=e;return t.matchRoute(l,{pending:n,caseSensitive:r,fuzzy:i,includeSearch:o})},[t])}function Hj({router:t,children:e,...n}){t.update({...t.options,...n,context:{...t.options.context,...n.context}});const r=aq(),i=h.jsx(r.Provider,{value:t,children:e});return t.options.Wrap?h.jsx(t.options.Wrap,{children:i}):i}function Qj({router:t,...e}){return h.jsx(Hj,{router:t,...e,children:h.jsx(Uj,{})})}const Kj=typeof window<"u"?Q.useLayoutEffect:Q.useEffect,vb="window",uN="___";let bb=new WeakSet;const Gj=typeof window<"u"&&window.sessionStorage,Gs=Gj?(()=>{const t="tsr-scroll-restoration-v2";return{state:JSON.parse(window.sessionStorage.getItem(t)||"null")||{cached:{},next:{}},set:n=>{Gs.state=Ul(n,Gs.state),window.sessionStorage.setItem(t,JSON.stringify(Gs.state))}}})():void 0,Jj=t=>t.state.key||t.href;function Zj(t){const e=ao();Kj(()=>{const n=t?.getKey||Jj,{history:r}=window;r.scrollRestoration="manual";const i=c=>{if(bb.has(c.target))return;bb.add(c.target);let d="";if(c.target===document||c.target===window)d=vb;else{const m=c.target.getAttribute("data-scroll-restoration-id");m?d=`[data-scroll-restoration-id="${m}"]`:d=Xj(c.target)}Gs.state.next[d]||Gs.set(m=>({...m,next:{...m.next,[d]:{scrollX:NaN,scrollY:NaN}}}))};typeof document<"u"&&document.addEventListener("scroll",i,!0);const o=e.subscribe("onBeforeLoad",c=>{if(c.hrefChanged){const d=n(c.fromLocation);for(const m in Gs.state.next){const y=Gs.state.next[m];if(m===vb)y.scrollX=window.scrollX||0,y.scrollY=window.scrollY||0;else if(m){const _=document.querySelector(m);y.scrollX=_?.scrollLeft||0,y.scrollY=_?.scrollTop||0}Gs.set(_=>{const N={..._.next};return delete N[m],{..._,next:N,cached:{..._.cached,[[d,m].join(uN)]:y}}})}}}),l=e.subscribe("onBeforeRouteMount",c=>{if(c.hrefChanged){if(!e.resetNextScroll)return;e.resetNextScroll=!0;const d=n(c.toLocation);let m=!1;for(const y in Gs.state.cached){const _=Gs.state.cached[y],[N,k]=y.split(uN);if(N===d){if(k===vb)m=!0,window.scrollTo(_.scrollX,_.scrollY);else if(k){const q=document.querySelector(k);q&&(q.scrollLeft=_.scrollX,q.scrollTop=_.scrollY)}}}m||window.scrollTo(0,0),Gs.set(y=>({...y,next:{}})),bb=new WeakSet}});return()=>{document.removeEventListener("scroll",i),o(),l()}},[t?.getKey,e])}function Yj(t){return Zj(t),null}function Xj(t){const e=[];let n;for(;n=t.parentNode;)e.unshift(`${t.tagName}:nth-child(${[].indexOf.call(n.children,t)+1})`),t=n;return`${e.join(" > ")}`.toLowerCase()}function rr(t){return tl({...t,select:e=>t.select?t.select(e.context):e.context})}let eP={data:""},tP=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||eP,nP=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,rP=/\/\*[^]*?\*\/|  +/g,dN=/\n+/g,Ba=(t,e)=>{let n="",r="",i="";for(let o in t){let l=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+l+";":r+=o[1]=="f"?Ba(l,o):o+"{"+Ba(l,o[1]=="k"?"":e)+"}":typeof l=="object"?r+=Ba(l,e?e.replace(/([^,])+/g,c=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,c):c?c+" "+d:d)):o):l!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Ba.p?Ba.p(o,l):o+":"+l+";")}return n+(e&&i?e+"{"+i+"}":i)+r},Zo={},mq=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+mq(t[n]);return e}return t},iP=(t,e,n,r,i)=>{let o=mq(t),l=Zo[o]||(Zo[o]=(d=>{let m=0,y=11;for(;m<d.length;)y=101*y+d.charCodeAt(m++)>>>0;return"go"+y})(o));if(!Zo[l]){let d=o!==t?t:(m=>{let y,_,N=[{}];for(;y=nP.exec(m.replace(rP,""));)y[4]?N.shift():y[3]?(_=y[3].replace(dN," ").trim(),N.unshift(N[0][_]=N[0][_]||{})):N[0][y[1]]=y[2].replace(dN," ").trim();return N[0]})(t);Zo[l]=Ba(i?{["@keyframes "+l]:d}:d,n?"":"."+l)}let c=n&&Zo.g?Zo.g:null;return n&&(Zo.g=Zo[l]),((d,m,y,_)=>{_?m.data=m.data.replace(_,d):m.data.indexOf(d)===-1&&(m.data=y?d+m.data:m.data+d)})(Zo[l],e,r,c),l},sP=(t,e,n)=>t.reduce((r,i,o)=>{let l=e[o];if(l&&l.call){let c=l(n),d=c&&c.props&&c.props.className||/^go/.test(c)&&c;l=d?"."+d:c&&typeof c=="object"?c.props?"":Ba(c,""):c===!1?"":c}return r+i+(l??"")},"");function Rg(t){let e=this||{},n=t.call?t(e.p):t;return iP(n.unshift?n.raw?sP(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,tP(e.target),e.g,e.o,e.k)}let gq,tx,nx;Rg.bind({g:1});let ca=Rg.bind({k:1});function oP(t,e,n,r){Ba.p=e,gq=t,tx=n,nx=r}function pl(t,e){let n=this||{};return function(){let r=arguments;function i(o,l){let c=Object.assign({},o),d=c.className||i.className;n.p=Object.assign({theme:tx&&tx()},c),n.o=/ *go\d+/.test(d),c.className=Rg.apply(n,r)+(d?" "+d:"");let m=t;return t[0]&&(m=c.as||t,delete c.as),nx&&m[0]&&nx(c),gq(m,c)}return i}}var aP=t=>typeof t=="function",Dm=(t,e)=>aP(t)?t(e):t,lP=(()=>{let t=0;return()=>(++t).toString()})(),yq=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),cP=20,Yh=new Map,uP=1e3,fN=t=>{if(Yh.has(t))return;let e=setTimeout(()=>{Yh.delete(t),cc({type:4,toastId:t})},uP);Yh.set(t,e)},dP=t=>{let e=Yh.get(t);e&&clearTimeout(e)},rx=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,cP)};case 1:return e.toast.id&&dP(e.toast.id),{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:n}=e;return t.toasts.find(o=>o.id===n.id)?rx(t,{type:1,toast:n}):rx(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?fN(r):t.toasts.forEach(o=>{fN(o.id)}),{...t,toasts:t.toasts.map(o=>o.id===r||r===void 0?{...o,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},Xh=[],em={toasts:[],pausedAt:void 0},cc=t=>{em=rx(em,t),Xh.forEach(e=>{e(em)})},fP={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},pP=(t={})=>{let[e,n]=Q.useState(em);Q.useEffect(()=>(Xh.push(n),()=>{let i=Xh.indexOf(n);i>-1&&Xh.splice(i,1)}),[e]);let r=e.toasts.map(i=>{var o,l;return{...t,...t[i.type],...i,duration:i.duration||((o=t[i.type])==null?void 0:o.duration)||t?.duration||fP[i.type],style:{...t.style,...(l=t[i.type])==null?void 0:l.style,...i.style}}});return{...e,toasts:r}},hP=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||lP()}),Gf=t=>(e,n)=>{let r=hP(e,t,n);return cc({type:2,toast:r}),r.id},vn=(t,e)=>Gf("blank")(t,e);vn.error=Gf("error");vn.success=Gf("success");vn.loading=Gf("loading");vn.custom=Gf("custom");vn.dismiss=t=>{cc({type:3,toastId:t})};vn.remove=t=>cc({type:4,toastId:t});vn.promise=(t,e,n)=>{let r=vn.loading(e.loading,{...n,...n?.loading});return t.then(i=>(vn.success(Dm(e.success,i),{id:r,...n,...n?.success}),i)).catch(i=>{vn.error(Dm(e.error,i),{id:r,...n,...n?.error})}),t};var mP=(t,e)=>{cc({type:1,toast:{id:t,height:e}})},gP=()=>{cc({type:5,time:Date.now()})},yP=t=>{let{toasts:e,pausedAt:n}=pP(t);Q.useEffect(()=>{if(n)return;let o=Date.now(),l=e.map(c=>{if(c.duration===1/0)return;let d=(c.duration||0)+c.pauseDuration-(o-c.createdAt);if(d<0){c.visible&&vn.dismiss(c.id);return}return setTimeout(()=>vn.dismiss(c.id),d)});return()=>{l.forEach(c=>c&&clearTimeout(c))}},[e,n]);let r=Q.useCallback(()=>{n&&cc({type:6,time:Date.now()})},[n]),i=Q.useCallback((o,l)=>{let{reverseOrder:c=!1,gutter:d=8,defaultPosition:m}=l||{},y=e.filter(k=>(k.position||m)===(o.position||m)&&k.height),_=y.findIndex(k=>k.id===o.id),N=y.filter((k,q)=>q<_&&k.visible).length;return y.filter(k=>k.visible).slice(...c?[N+1]:[0,N]).reduce((k,q)=>k+(q.height||0)+d,0)},[e]);return{toasts:e,handlers:{updateHeight:mP,startPause:gP,endPause:r,calculateOffset:i}}},vP=ca`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,bP=ca`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,_P=ca`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,xP=pl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${vP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${bP} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${_P} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,wP=ca`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,SP=pl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${wP} 1s linear infinite;
`,EP=ca`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,NP=ca`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,kP=pl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${EP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${NP} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,IP=pl("div")`
  position: absolute;
`,qP=pl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,TP=ca`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,OP=pl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${TP} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,CP=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?Q.createElement(OP,null,e):e:n==="blank"?null:Q.createElement(qP,null,Q.createElement(SP,{...r}),n!=="loading"&&Q.createElement(IP,null,n==="error"?Q.createElement(xP,{...r}):Q.createElement(kP,{...r})))},RP=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,AP=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,jP="0%{opacity:0;} 100%{opacity:1;}",PP="0%{opacity:1;} 100%{opacity:0;}",FP=pl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,LP=pl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,DP=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=yq()?[jP,PP]:[RP(n),AP(n)];return{animation:e?`${ca(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ca(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},MP=Q.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?DP(t.position||e||"top-center",t.visible):{opacity:0},o=Q.createElement(CP,{toast:t}),l=Q.createElement(LP,{...t.ariaProps},Dm(t.message,t));return Q.createElement(FP,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:o,message:l}):Q.createElement(Q.Fragment,null,o,l))});oP(Q.createElement);var BP=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let o=Q.useCallback(l=>{if(l){let c=()=>{let d=l.getBoundingClientRect().height;r(t,d)};c(),new MutationObserver(c).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return Q.createElement("div",{ref:o,className:e,style:n},i)},$P=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:yq()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},WP=Rg`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Oh=16,zP=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:o,containerClassName:l})=>{let{toasts:c,handlers:d}=yP(n);return Q.createElement("div",{style:{position:"fixed",zIndex:9999,top:Oh,left:Oh,right:Oh,bottom:Oh,pointerEvents:"none",...o},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(m=>{let y=m.position||e,_=d.calculateOffset(m,{reverseOrder:t,gutter:r,defaultPosition:e}),N=$P(y,_);return Q.createElement(BP,{id:m.id,key:m.id,onHeightUpdate:d.updateHeight,className:m.visible?WP:"",style:N},m.type==="custom"?Dm(m.message,m):i?i(m):Q.createElement(MP,{toast:m,position:y}))}))},UP=vn;class uc extends Error{}class VP extends uc{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class HP extends uc{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class QP extends uc{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class ru extends uc{}class vq extends uc{constructor(e){super(`Invalid unit ${e}`)}}class ai extends uc{}class Ra extends uc{constructor(){super("Zone is an abstract class")}}const Et="numeric",io="short",rs="long",Mm={year:Et,month:Et,day:Et},bq={year:Et,month:io,day:Et},KP={year:Et,month:io,day:Et,weekday:io},_q={year:Et,month:rs,day:Et},xq={year:Et,month:rs,day:Et,weekday:rs},wq={hour:Et,minute:Et},Sq={hour:Et,minute:Et,second:Et},Eq={hour:Et,minute:Et,second:Et,timeZoneName:io},Nq={hour:Et,minute:Et,second:Et,timeZoneName:rs},kq={hour:Et,minute:Et,hourCycle:"h23"},Iq={hour:Et,minute:Et,second:Et,hourCycle:"h23"},qq={hour:Et,minute:Et,second:Et,hourCycle:"h23",timeZoneName:io},Tq={hour:Et,minute:Et,second:Et,hourCycle:"h23",timeZoneName:rs},Oq={year:Et,month:Et,day:Et,hour:Et,minute:Et},Cq={year:Et,month:Et,day:Et,hour:Et,minute:Et,second:Et},Rq={year:Et,month:io,day:Et,hour:Et,minute:Et},Aq={year:Et,month:io,day:Et,hour:Et,minute:Et,second:Et},GP={year:Et,month:io,day:Et,weekday:io,hour:Et,minute:Et},jq={year:Et,month:rs,day:Et,hour:Et,minute:Et,timeZoneName:io},Pq={year:Et,month:rs,day:Et,hour:Et,minute:Et,second:Et,timeZoneName:io},Fq={year:Et,month:rs,day:Et,weekday:rs,hour:Et,minute:Et,timeZoneName:rs},Lq={year:Et,month:rs,day:Et,weekday:rs,hour:Et,minute:Et,second:Et,timeZoneName:rs};class Jf{get type(){throw new Ra}get name(){throw new Ra}get ianaName(){return this.name}get isUniversal(){throw new Ra}offsetName(e,n){throw new Ra}formatOffset(e,n){throw new Ra}offset(e){throw new Ra}equals(e){throw new Ra}get isValid(){throw new Ra}}let _b=null;class Ag extends Jf{static get instance(){return _b===null&&(_b=new Ag),_b}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return Hq(e,n,r)}formatOffset(e,n){return of(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let tm={};function JP(t){return tm[t]||(tm[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),tm[t]}const ZP={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function YP(t,e){const n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,i,o,l,c,d,m,y]=r;return[l,i,o,c,d,m,y]}function XP(t,e){const n=t.formatToParts(e),r=[];for(let i=0;i<n.length;i++){const{type:o,value:l}=n[i],c=ZP[o];o==="era"?r[c]=l:rn(c)||(r[c]=parseInt(l,10))}return r}let Ch={};class ua extends Jf{static create(e){return Ch[e]||(Ch[e]=new ua(e)),Ch[e]}static resetCache(){Ch={},tm={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=ua.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return Hq(e,n,r,this.name)}formatOffset(e,n){return of(this.offset(e),n)}offset(e){const n=new Date(e);if(isNaN(n))return NaN;const r=JP(this.name);let[i,o,l,c,d,m,y]=r.formatToParts?XP(r,n):YP(r,n);c==="BC"&&(i=-Math.abs(i)+1);const N=Pg({year:i,month:o,day:l,hour:d===24?0:d,minute:m,second:y,millisecond:0});let k=+n;const q=k%1e3;return k-=q>=0?q:1e3+q,(N-k)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let pN={};function eF(t,e={}){const n=JSON.stringify([t,e]);let r=pN[n];return r||(r=new Intl.ListFormat(t,e),pN[n]=r),r}let ix={};function sx(t,e={}){const n=JSON.stringify([t,e]);let r=ix[n];return r||(r=new Intl.DateTimeFormat(t,e),ix[n]=r),r}let ox={};function tF(t,e={}){const n=JSON.stringify([t,e]);let r=ox[n];return r||(r=new Intl.NumberFormat(t,e),ox[n]=r),r}let ax={};function nF(t,e={}){const{base:n,...r}=e,i=JSON.stringify([t,r]);let o=ax[i];return o||(o=new Intl.RelativeTimeFormat(t,e),ax[i]=o),o}let Kd=null;function rF(){return Kd||(Kd=new Intl.DateTimeFormat().resolvedOptions().locale,Kd)}let hN={};function iF(t){let e=hN[t];if(!e){const n=new Intl.Locale(t);e="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,hN[t]=e}return e}function sF(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const n=t.indexOf("-u-");if(n===-1)return[t];{let r,i;try{r=sx(t).resolvedOptions(),i=t}catch{const d=t.substring(0,n);r=sx(d).resolvedOptions(),i=d}const{numberingSystem:o,calendar:l}=r;return[i,o,l]}}function oF(t,e,n){return(n||e)&&(t.includes("-u-")||(t+="-u"),n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function aF(t){const e=[];for(let n=1;n<=12;n++){const r=nn.utc(2009,n,1);e.push(t(r))}return e}function lF(t){const e=[];for(let n=1;n<=7;n++){const r=nn.utc(2016,11,13+n);e.push(t(r))}return e}function Rh(t,e,n,r){const i=t.listingMode();return i==="error"?null:i==="en"?n(e):r(e)}function cF(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class uF{constructor(e,n,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:i,floor:o,...l}=r;if(!n||Object.keys(l).length>0){const c={useGrouping:!1,...r};r.padTo>0&&(c.minimumIntegerDigits=r.padTo),this.inf=tF(e,c)}}format(e){if(this.inf){const n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{const n=this.floor?Math.floor(e):fw(e,3);return Cr(n,this.padTo)}}}class dF{constructor(e,n,r){this.opts=r,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const l=-1*(e.offset/60),c=l>=0?`Etc/GMT+${l}`:`Etc/GMT${l}`;e.offset!==0&&ua.create(c).valid?(i=c,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const o={...this.opts};o.timeZone=o.timeZone||i,this.dtf=sx(n,o)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(n=>{if(n.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...n,value:r}}else return n}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class fF{constructor(e,n,r){this.opts={style:"long",...r},!n&&Uq()&&(this.rtf=nF(e,r))}format(e,n){return this.rtf?this.rtf.format(e,n):PF(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}}const pF={firstDay:1,minimalDays:4,weekend:[6,7]};class Rn{static fromOpts(e){return Rn.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,n,r,i,o=!1){const l=e||vr.defaultLocale,c=l||(o?"en-US":rF()),d=n||vr.defaultNumberingSystem,m=r||vr.defaultOutputCalendar,y=lx(i)||vr.defaultWeekSettings;return new Rn(c,d,m,y,l)}static resetCache(){Kd=null,ix={},ox={},ax={}}static fromObject({locale:e,numberingSystem:n,outputCalendar:r,weekSettings:i}={}){return Rn.create(e,n,r,i)}constructor(e,n,r,i,o){const[l,c,d]=sF(e);this.locale=l,this.numberingSystem=n||c||null,this.outputCalendar=r||d||null,this.weekSettings=i,this.intl=oF(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=o,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=cF(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Rn.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,lx(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,n=!1){return Rh(this,e,Gq,()=>{const r=n?{month:e,day:"numeric"}:{month:e},i=n?"format":"standalone";return this.monthsCache[i][e]||(this.monthsCache[i][e]=aF(o=>this.extract(o,r,"month"))),this.monthsCache[i][e]})}weekdays(e,n=!1){return Rh(this,e,Yq,()=>{const r=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=n?"format":"standalone";return this.weekdaysCache[i][e]||(this.weekdaysCache[i][e]=lF(o=>this.extract(o,r,"weekday"))),this.weekdaysCache[i][e]})}meridiems(){return Rh(this,void 0,()=>Xq,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[nn.utc(2016,11,13,9),nn.utc(2016,11,13,19)].map(n=>this.extract(n,e,"dayperiod"))}return this.meridiemCache})}eras(e){return Rh(this,e,eT,()=>{const n={era:e};return this.eraCache[e]||(this.eraCache[e]=[nn.utc(-40,1,1),nn.utc(2017,1,1)].map(r=>this.extract(r,n,"era"))),this.eraCache[e]})}extract(e,n,r){const i=this.dtFormatter(e,n),o=i.formatToParts(),l=o.find(c=>c.type.toLowerCase()===r);return l?l.value:null}numberFormatter(e={}){return new uF(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new dF(e,this.intl,n)}relFormatter(e={}){return new fF(this.intl,this.isEnglish(),e)}listFormatter(e={}){return eF(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Vq()?iF(this.locale):pF}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let xb=null;class xi extends Jf{static get utcInstance(){return xb===null&&(xb=new xi(0)),xb}static instance(e){return e===0?xi.utcInstance:new xi(e)}static parseSpecifier(e){if(e){const n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new xi(Fg(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${of(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${of(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return of(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class hF extends Jf{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function $a(t,e){if(rn(t)||t===null)return e;if(t instanceof Jf)return t;if(_F(t)){const n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?Ag.instance:n==="utc"||n==="gmt"?xi.utcInstance:xi.parseSpecifier(n)||ua.create(t)}else return Ka(t)?xi.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new hF(t)}const lw={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},mN={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},mF=lw.hanidec.replace(/[\[|\]]/g,"").split("");function gF(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);if(t[n].search(lw.hanidec)!==-1)e+=mF.indexOf(t[n]);else for(const i in mN){const[o,l]=mN[i];r>=o&&r<=l&&(e+=r-o)}}return parseInt(e,10)}else return e}let Xc={};function yF(){Xc={}}function Hs({numberingSystem:t},e=""){const n=t||"latn";return Xc[n]||(Xc[n]={}),Xc[n][e]||(Xc[n][e]=new RegExp(`${lw[n]}${e}`)),Xc[n][e]}let gN=()=>Date.now(),yN="system",vN=null,bN=null,_N=null,xN=60,wN,SN=null;class vr{static get now(){return gN}static set now(e){gN=e}static set defaultZone(e){yN=e}static get defaultZone(){return $a(yN,Ag.instance)}static get defaultLocale(){return vN}static set defaultLocale(e){vN=e}static get defaultNumberingSystem(){return bN}static set defaultNumberingSystem(e){bN=e}static get defaultOutputCalendar(){return _N}static set defaultOutputCalendar(e){_N=e}static get defaultWeekSettings(){return SN}static set defaultWeekSettings(e){SN=lx(e)}static get twoDigitCutoffYear(){return xN}static set twoDigitCutoffYear(e){xN=e%100}static get throwOnInvalid(){return wN}static set throwOnInvalid(e){wN=e}static resetCaches(){Rn.resetCache(),ua.resetCache(),nn.resetCache(),yF()}}class eo{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const Dq=[0,31,59,90,120,151,181,212,243,273,304,334],Mq=[0,31,60,91,121,152,182,213,244,274,305,335];function qs(t,e){return new eo("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function cw(t,e,n){const r=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const i=r.getUTCDay();return i===0?7:i}function Bq(t,e,n){return n+(Zf(t)?Mq:Dq)[e-1]}function $q(t,e){const n=Zf(t)?Mq:Dq,r=n.findIndex(o=>o<e),i=e-n[r];return{month:r+1,day:i}}function uw(t,e){return(t-e+7)%7+1}function Bm(t,e=4,n=1){const{year:r,month:i,day:o}=t,l=Bq(r,i,o),c=uw(cw(r,i,o),n);let d=Math.floor((l-c+14-e)/7),m;return d<1?(m=r-1,d=bf(m,e,n)):d>bf(r,e,n)?(m=r+1,d=1):m=r,{weekYear:m,weekNumber:d,weekday:c,...Lg(t)}}function EN(t,e=4,n=1){const{weekYear:r,weekNumber:i,weekday:o}=t,l=uw(cw(r,1,e),n),c=du(r);let d=i*7+o-l-7+e,m;d<1?(m=r-1,d+=du(m)):d>c?(m=r+1,d-=du(r)):m=r;const{month:y,day:_}=$q(m,d);return{year:m,month:y,day:_,...Lg(t)}}function wb(t){const{year:e,month:n,day:r}=t,i=Bq(e,n,r);return{year:e,ordinal:i,...Lg(t)}}function NN(t){const{year:e,ordinal:n}=t,{month:r,day:i}=$q(e,n);return{year:e,month:r,day:i,...Lg(t)}}function kN(t,e){if(!rn(t.localWeekday)||!rn(t.localWeekNumber)||!rn(t.localWeekYear)){if(!rn(t.weekday)||!rn(t.weekNumber)||!rn(t.weekYear))throw new ru("Cannot mix locale-based week fields with ISO-based week fields");return rn(t.localWeekday)||(t.weekday=t.localWeekday),rn(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),rn(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function vF(t,e=4,n=1){const r=jg(t.weekYear),i=Ts(t.weekNumber,1,bf(t.weekYear,e,n)),o=Ts(t.weekday,1,7);return r?i?o?!1:qs("weekday",t.weekday):qs("week",t.weekNumber):qs("weekYear",t.weekYear)}function bF(t){const e=jg(t.year),n=Ts(t.ordinal,1,du(t.year));return e?n?!1:qs("ordinal",t.ordinal):qs("year",t.year)}function Wq(t){const e=jg(t.year),n=Ts(t.month,1,12),r=Ts(t.day,1,$m(t.year,t.month));return e?n?r?!1:qs("day",t.day):qs("month",t.month):qs("year",t.year)}function zq(t){const{hour:e,minute:n,second:r,millisecond:i}=t,o=Ts(e,0,23)||e===24&&n===0&&r===0&&i===0,l=Ts(n,0,59),c=Ts(r,0,59),d=Ts(i,0,999);return o?l?c?d?!1:qs("millisecond",i):qs("second",r):qs("minute",n):qs("hour",e)}function rn(t){return typeof t>"u"}function Ka(t){return typeof t=="number"}function jg(t){return typeof t=="number"&&t%1===0}function _F(t){return typeof t=="string"}function xF(t){return Object.prototype.toString.call(t)==="[object Date]"}function Uq(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Vq(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function wF(t){return Array.isArray(t)?t:[t]}function IN(t,e,n){if(t.length!==0)return t.reduce((r,i)=>{const o=[e(i),i];return r&&n(r[0],o[0])===r[0]?r:o},null)[1]}function SF(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function ku(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function lx(t){if(t==null)return null;if(typeof t!="object")throw new ai("Week settings must be an object");if(!Ts(t.firstDay,1,7)||!Ts(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!Ts(e,1,7)))throw new ai("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function Ts(t,e,n){return jg(t)&&t>=e&&t<=n}function EF(t,e){return t-e*Math.floor(t/e)}function Cr(t,e=2){const n=t<0;let r;return n?r="-"+(""+-t).padStart(e,"0"):r=(""+t).padStart(e,"0"),r}function Da(t){if(!(rn(t)||t===null||t===""))return parseInt(t,10)}function jl(t){if(!(rn(t)||t===null||t===""))return parseFloat(t)}function dw(t){if(!(rn(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function fw(t,e,n=!1){const r=10**e;return(n?Math.trunc:Math.round)(t*r)/r}function Zf(t){return t%4===0&&(t%100!==0||t%400===0)}function du(t){return Zf(t)?366:365}function $m(t,e){const n=EF(e-1,12)+1,r=t+(e-n)/12;return n===2?Zf(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function Pg(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function qN(t,e,n){return-uw(cw(t,1,e),n)+e-1}function bf(t,e=4,n=1){const r=qN(t,e,n),i=qN(t+1,e,n);return(du(t)-r+i)/7}function cx(t){return t>99?t:t>vr.twoDigitCutoffYear?1900+t:2e3+t}function Hq(t,e,n,r=null){const i=new Date(t),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(o.timeZone=r);const l={timeZoneName:e,...o},c=new Intl.DateTimeFormat(n,l).formatToParts(i).find(d=>d.type.toLowerCase()==="timezonename");return c?c.value:null}function Fg(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);const r=parseInt(e,10)||0,i=n<0||Object.is(n,-0)?-r:r;return n*60+i}function Qq(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new ai(`Invalid unit value ${t}`);return e}function Wm(t,e){const n={};for(const r in t)if(ku(t,r)){const i=t[r];if(i==null)continue;n[e(r)]=Qq(i)}return n}function of(t,e){const n=Math.trunc(Math.abs(t/60)),r=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${Cr(n,2)}:${Cr(r,2)}`;case"narrow":return`${i}${n}${r>0?`:${r}`:""}`;case"techie":return`${i}${Cr(n,2)}${Cr(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Lg(t){return SF(t,["hour","minute","second","millisecond"])}const NF=["January","February","March","April","May","June","July","August","September","October","November","December"],Kq=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],kF=["J","F","M","A","M","J","J","A","S","O","N","D"];function Gq(t){switch(t){case"narrow":return[...kF];case"short":return[...Kq];case"long":return[...NF];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Jq=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Zq=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],IF=["M","T","W","T","F","S","S"];function Yq(t){switch(t){case"narrow":return[...IF];case"short":return[...Zq];case"long":return[...Jq];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Xq=["AM","PM"],qF=["Before Christ","Anno Domini"],TF=["BC","AD"],OF=["B","A"];function eT(t){switch(t){case"narrow":return[...OF];case"short":return[...TF];case"long":return[...qF];default:return null}}function CF(t){return Xq[t.hour<12?0:1]}function RF(t,e){return Yq(e)[t.weekday-1]}function AF(t,e){return Gq(e)[t.month-1]}function jF(t,e){return eT(e)[t.year<0?0:1]}function PF(t,e,n="always",r=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&o){const _=t==="days";switch(e){case 1:return _?"tomorrow":`next ${i[t][0]}`;case-1:return _?"yesterday":`last ${i[t][0]}`;case 0:return _?"today":`this ${i[t][0]}`}}const l=Object.is(e,-0)||e<0,c=Math.abs(e),d=c===1,m=i[t],y=r?d?m[1]:m[2]||m[1]:d?i[t][0]:t;return l?`${c} ${y} ago`:`in ${c} ${y}`}function TN(t,e){let n="";for(const r of t)r.literal?n+=r.val:n+=e(r.val);return n}const FF={D:Mm,DD:bq,DDD:_q,DDDD:xq,t:wq,tt:Sq,ttt:Eq,tttt:Nq,T:kq,TT:Iq,TTT:qq,TTTT:Tq,f:Oq,ff:Rq,fff:jq,ffff:Fq,F:Cq,FF:Aq,FFF:Pq,FFFF:Lq};class ci{static create(e,n={}){return new ci(e,n)}static parseFormat(e){let n=null,r="",i=!1;const o=[];for(let l=0;l<e.length;l++){const c=e.charAt(l);c==="'"?(r.length>0&&o.push({literal:i||/^\s+$/.test(r),val:r}),n=null,r="",i=!i):i||c===n?r+=c:(r.length>0&&o.push({literal:/^\s+$/.test(r),val:r}),r=c,n=c)}return r.length>0&&o.push({literal:i||/^\s+$/.test(r),val:r}),o}static macroTokenToFormatOpts(e){return FF[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...n}).format()}dtFormatter(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n})}formatDateTime(e,n){return this.dtFormatter(e,n).format()}formatDateTimeParts(e,n){return this.dtFormatter(e,n).formatToParts()}formatInterval(e,n){return this.dtFormatter(e.start,n).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,n){return this.dtFormatter(e,n).resolvedOptions()}num(e,n=0){if(this.opts.forceSimple)return Cr(e,n);const r={...this.opts};return n>0&&(r.padTo=n),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,n){const r=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",o=(k,q)=>this.loc.extract(e,k,q),l=k=>e.isOffsetFixed&&e.offset===0&&k.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,k.format):"",c=()=>r?CF(e):o({hour:"numeric",hourCycle:"h12"},"dayperiod"),d=(k,q)=>r?AF(e,k):o(q?{month:k}:{month:k,day:"numeric"},"month"),m=(k,q)=>r?RF(e,k):o(q?{weekday:k}:{weekday:k,month:"long",day:"numeric"},"weekday"),y=k=>{const q=ci.macroTokenToFormatOpts(k);return q?this.formatWithSystemDefault(e,q):k},_=k=>r?jF(e,k):o({era:k},"era"),N=k=>{switch(k){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return l({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return l({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return l({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return c();case"d":return i?o({day:"numeric"},"day"):this.num(e.day);case"dd":return i?o({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return m("short",!0);case"cccc":return m("long",!0);case"ccccc":return m("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return m("short",!1);case"EEEE":return m("long",!1);case"EEEEE":return m("narrow",!1);case"L":return i?o({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?o({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return d("short",!0);case"LLLL":return d("long",!0);case"LLLLL":return d("narrow",!0);case"M":return i?o({month:"numeric"},"month"):this.num(e.month);case"MM":return i?o({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return d("short",!1);case"MMMM":return d("long",!1);case"MMMMM":return d("narrow",!1);case"y":return i?o({year:"numeric"},"year"):this.num(e.year);case"yy":return i?o({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?o({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?o({year:"numeric"},"year"):this.num(e.year,6);case"G":return _("short");case"GG":return _("long");case"GGGGG":return _("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return y(k)}};return TN(ci.parseFormat(n),N)}formatDurationFromString(e,n){const r=d=>{switch(d[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=d=>m=>{const y=r(m);return y?this.num(d.get(y),m.length):m},o=ci.parseFormat(n),l=o.reduce((d,{literal:m,val:y})=>m?d:d.concat(y),[]),c=e.shiftTo(...l.map(r).filter(d=>d));return TN(o,i(c))}}const tT=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Du(...t){const e=t.reduce((n,r)=>n+r.source,"");return RegExp(`^${e}$`)}function Mu(...t){return e=>t.reduce(([n,r,i],o)=>{const[l,c,d]=o(e,i);return[{...n,...l},c||r,d]},[{},null,1]).slice(0,2)}function Bu(t,...e){if(t==null)return[null,null];for(const[n,r]of e){const i=n.exec(t);if(i)return r(i)}return[null,null]}function nT(...t){return(e,n)=>{const r={};let i;for(i=0;i<t.length;i++)r[t[i]]=Da(e[n+i]);return[r,null,n+i]}}const rT=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,LF=`(?:${rT.source}?(?:\\[(${tT.source})\\])?)?`,pw=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,iT=RegExp(`${pw.source}${LF}`),hw=RegExp(`(?:T${iT.source})?`),DF=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,MF=/(\d{4})-?W(\d\d)(?:-?(\d))?/,BF=/(\d{4})-?(\d{3})/,$F=nT("weekYear","weekNumber","weekDay"),WF=nT("year","ordinal"),zF=/(\d{4})-(\d\d)-(\d\d)/,sT=RegExp(`${pw.source} ?(?:${rT.source}|(${tT.source}))?`),UF=RegExp(`(?: ${sT.source})?`);function fu(t,e,n){const r=t[e];return rn(r)?n:Da(r)}function VF(t,e){return[{year:fu(t,e),month:fu(t,e+1,1),day:fu(t,e+2,1)},null,e+3]}function $u(t,e){return[{hours:fu(t,e,0),minutes:fu(t,e+1,0),seconds:fu(t,e+2,0),milliseconds:dw(t[e+3])},null,e+4]}function Yf(t,e){const n=!t[e]&&!t[e+1],r=Fg(t[e+1],t[e+2]),i=n?null:xi.instance(r);return[{},i,e+3]}function Xf(t,e){const n=t[e]?ua.create(t[e]):null;return[{},n,e+1]}const HF=RegExp(`^T?${pw.source}$`),QF=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function KF(t){const[e,n,r,i,o,l,c,d,m]=t,y=e[0]==="-",_=d&&d[0]==="-",N=(k,q=!1)=>k!==void 0&&(q||k&&y)?-k:k;return[{years:N(jl(n)),months:N(jl(r)),weeks:N(jl(i)),days:N(jl(o)),hours:N(jl(l)),minutes:N(jl(c)),seconds:N(jl(d),d==="-0"),milliseconds:N(dw(m),_)}]}const GF={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function mw(t,e,n,r,i,o,l){const c={year:e.length===2?cx(Da(e)):Da(e),month:Kq.indexOf(n)+1,day:Da(r),hour:Da(i),minute:Da(o)};return l&&(c.second=Da(l)),t&&(c.weekday=t.length>3?Jq.indexOf(t)+1:Zq.indexOf(t)+1),c}const JF=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function ZF(t){const[,e,n,r,i,o,l,c,d,m,y,_]=t,N=mw(e,i,r,n,o,l,c);let k;return d?k=GF[d]:m?k=0:k=Fg(y,_),[N,new xi(k)]}function YF(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const XF=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,eL=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,tL=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function ON(t){const[,e,n,r,i,o,l,c]=t;return[mw(e,i,r,n,o,l,c),xi.utcInstance]}function nL(t){const[,e,n,r,i,o,l,c]=t;return[mw(e,c,n,r,i,o,l),xi.utcInstance]}const rL=Du(DF,hw),iL=Du(MF,hw),sL=Du(BF,hw),oL=Du(iT),oT=Mu(VF,$u,Yf,Xf),aL=Mu($F,$u,Yf,Xf),lL=Mu(WF,$u,Yf,Xf),cL=Mu($u,Yf,Xf);function uL(t){return Bu(t,[rL,oT],[iL,aL],[sL,lL],[oL,cL])}function dL(t){return Bu(YF(t),[JF,ZF])}function fL(t){return Bu(t,[XF,ON],[eL,ON],[tL,nL])}function pL(t){return Bu(t,[QF,KF])}const hL=Mu($u);function mL(t){return Bu(t,[HF,hL])}const gL=Du(zF,UF),yL=Du(sT),vL=Mu($u,Yf,Xf);function bL(t){return Bu(t,[gL,oT],[yL,vL])}const CN="Invalid Duration",aT={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},_L={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...aT},ws=146097/400,Wc=146097/4800,xL={years:{quarters:4,months:12,weeks:ws/7,days:ws,hours:ws*24,minutes:ws*24*60,seconds:ws*24*60*60,milliseconds:ws*24*60*60*1e3},quarters:{months:3,weeks:ws/28,days:ws/4,hours:ws*24/4,minutes:ws*24*60/4,seconds:ws*24*60*60/4,milliseconds:ws*24*60*60*1e3/4},months:{weeks:Wc/7,days:Wc,hours:Wc*24,minutes:Wc*24*60,seconds:Wc*24*60*60,milliseconds:Wc*24*60*60*1e3},...aT},Hl=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],wL=Hl.slice(0).reverse();function Aa(t,e,n=!1){const r={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new kn(r)}function lT(t,e){let n=e.milliseconds??0;for(const r of wL.slice(1))e[r]&&(n+=e[r]*t[r].milliseconds);return n}function RN(t,e){const n=lT(t,e)<0?-1:1;Hl.reduceRight((r,i)=>{if(rn(e[i]))return r;if(r){const o=e[r]*n,l=t[i][r],c=Math.floor(o/l);e[i]+=c*n,e[r]-=c*l*n}return i},null),Hl.reduce((r,i)=>{if(rn(e[i]))return r;if(r){const o=e[r]%1;e[r]-=o,e[i]+=o*t[r][i]}return i},null)}function SL(t){const e={};for(const[n,r]of Object.entries(t))r!==0&&(e[n]=r);return e}class kn{constructor(e){const n=e.conversionAccuracy==="longterm"||!1;let r=n?xL:_L;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||Rn.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,n){return kn.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new ai(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new kn({values:Wm(e,kn.normalizeUnit),loc:Rn.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if(Ka(e))return kn.fromMillis(e);if(kn.isDuration(e))return e;if(typeof e=="object")return kn.fromObject(e);throw new ai(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){const[r]=pL(e);return r?kn.fromObject(r,n):kn.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,n){const[r]=mL(e);return r?kn.fromObject(r,n):kn.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new ai("need to specify a reason the Duration is invalid");const r=e instanceof eo?e:new eo(e,n);if(vr.throwOnInvalid)throw new QP(r);return new kn({invalid:r})}static normalizeUnit(e){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new vq(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){const r={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?ci.create(this.loc,r).formatDurationFromString(this,e):CN}toHuman(e={}){if(!this.isValid)return CN;const n=Hl.map(r=>{const i=this.values[r];return rn(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(i)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=fw(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const n=this.toMillis();return n<0||n>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},nn.fromMillis(n,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?lT(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const n=kn.fromDurationLike(e),r={};for(const i of Hl)(ku(n.values,i)||ku(this.values,i))&&(r[i]=n.get(i)+this.get(i));return Aa(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const n=kn.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=Qq(e(this.values[r],r));return Aa(this,{values:n},!0)}get(e){return this[kn.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const n={...this.values,...Wm(e,kn.normalizeUnit)};return Aa(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:r,matrix:i}={}){const l={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:i,conversionAccuracy:r};return Aa(this,l)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return RN(this.matrix,e),Aa(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=SL(this.normalize().shiftToAll().toObject());return Aa(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(l=>kn.normalizeUnit(l));const n={},r={},i=this.toObject();let o;for(const l of Hl)if(e.indexOf(l)>=0){o=l;let c=0;for(const m in r)c+=this.matrix[m][l]*r[m],r[m]=0;Ka(i[l])&&(c+=i[l]);const d=Math.trunc(c);n[l]=d,r[l]=(c*1e3-d*1e3)/1e3}else Ka(i[l])&&(r[l]=i[l]);for(const l in r)r[l]!==0&&(n[o]+=l===o?r[l]:r[l]/this.matrix[o][l]);return RN(this.matrix,n),Aa(this,{values:n},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return Aa(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(r,i){return r===void 0||r===0?i===void 0||i===0:r===i}for(const r of Hl)if(!n(this.values[r],e.values[r]))return!1;return!0}}const zc="Invalid Interval";function EL(t,e){return!t||!t.isValid?yr.invalid("missing or invalid start"):!e||!e.isValid?yr.invalid("missing or invalid end"):e<t?yr.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class yr{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new ai("need to specify a reason the Interval is invalid");const r=e instanceof eo?e:new eo(e,n);if(vr.throwOnInvalid)throw new HP(r);return new yr({invalid:r})}static fromDateTimes(e,n){const r=Fd(e),i=Fd(n),o=EL(r,i);return o??new yr({start:r,end:i})}static after(e,n){const r=kn.fromDurationLike(n),i=Fd(e);return yr.fromDateTimes(i,i.plus(r))}static before(e,n){const r=kn.fromDurationLike(n),i=Fd(e);return yr.fromDateTimes(i.minus(r),i)}static fromISO(e,n){const[r,i]=(e||"").split("/",2);if(r&&i){let o,l;try{o=nn.fromISO(r,n),l=o.isValid}catch{l=!1}let c,d;try{c=nn.fromISO(i,n),d=c.isValid}catch{d=!1}if(l&&d)return yr.fromDateTimes(o,c);if(l){const m=kn.fromISO(i,n);if(m.isValid)return yr.after(o,m)}else if(d){const m=kn.fromISO(r,n);if(m.isValid)return yr.before(c,m)}}return yr.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",n){if(!this.isValid)return NaN;const r=this.start.startOf(e,n);let i;return n?.useLocaleWeeks?i=this.end.reconfigure({locale:r.locale}):i=this.end,i=i.startOf(e,n),Math.floor(i.diff(r,e).get(e))+(i.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?yr.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];const n=e.map(Fd).filter(l=>this.contains(l)).sort((l,c)=>l.toMillis()-c.toMillis()),r=[];let{s:i}=this,o=0;for(;i<this.e;){const l=n[o]||this.e,c=+l>+this.e?this.e:l;r.push(yr.fromDateTimes(i,c)),i=c,o+=1}return r}splitBy(e){const n=kn.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:r}=this,i=1,o;const l=[];for(;r<this.e;){const c=this.start.plus(n.mapUnits(d=>d*i));o=+c>+this.e?this.e:c,l.push(yr.fromDateTimes(r,o)),r=o,i+=1}return l}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const n=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return n>=r?null:yr.fromDateTimes(n,r)}union(e){if(!this.isValid)return this;const n=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return yr.fromDateTimes(n,r)}static merge(e){const[n,r]=e.sort((i,o)=>i.s-o.s).reduce(([i,o],l)=>o?o.overlaps(l)||o.abutsStart(l)?[i,o.union(l)]:[i.concat([o]),l]:[i,l],[[],null]);return r&&n.push(r),n}static xor(e){let n=null,r=0;const i=[],o=e.map(d=>[{time:d.s,type:"s"},{time:d.e,type:"e"}]),l=Array.prototype.concat(...o),c=l.sort((d,m)=>d.time-m.time);for(const d of c)r+=d.type==="s"?1:-1,r===1?n=d.time:(n&&+n!=+d.time&&i.push(yr.fromDateTimes(n,d.time)),n=null);return yr.merge(i)}difference(...e){return yr.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:zc}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=Mm,n={}){return this.isValid?ci.create(this.s.loc.clone(n),e).formatInterval(this):zc}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:zc}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:zc}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:zc}toFormat(e,{separator:n="  "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:zc}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):kn.invalid(this.invalidReason)}mapEndpoints(e){return yr.fromDateTimes(e(this.s),e(this.e))}}class Ah{static hasDST(e=vr.defaultZone){const n=nn.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return ua.isValidZone(e)}static normalizeZone(e){return $a(e,vr.defaultZone)}static getStartOfWeek({locale:e=null,locObj:n=null}={}){return(n||Rn.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:n=null}={}){return(n||Rn.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:n=null}={}){return(n||Rn.create(e)).getWeekendDays().slice()}static months(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:o="gregory"}={}){return(i||Rn.create(n,r,o)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:o="gregory"}={}){return(i||Rn.create(n,r,o)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Rn.create(n,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Rn.create(n,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Rn.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return Rn.create(n,null,"gregory").eras(e)}static features(){return{relative:Uq(),localeWeek:Vq()}}}function AN(t,e){const n=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(e)-n(t);return Math.floor(kn.fromMillis(r).as("days"))}function NL(t,e,n){const r=[["years",(d,m)=>m.year-d.year],["quarters",(d,m)=>m.quarter-d.quarter+(m.year-d.year)*4],["months",(d,m)=>m.month-d.month+(m.year-d.year)*12],["weeks",(d,m)=>{const y=AN(d,m);return(y-y%7)/7}],["days",AN]],i={},o=t;let l,c;for(const[d,m]of r)n.indexOf(d)>=0&&(l=d,i[d]=m(t,e),c=o.plus(i),c>e?(i[d]--,t=o.plus(i),t>e&&(c=t,i[d]--,t=o.plus(i))):t=c);return[t,i,c,l]}function kL(t,e,n,r){let[i,o,l,c]=NL(t,e,n);const d=e-i,m=n.filter(_=>["hours","minutes","seconds","milliseconds"].indexOf(_)>=0);m.length===0&&(l<e&&(l=i.plus({[c]:1})),l!==i&&(o[c]=(o[c]||0)+d/(l-i)));const y=kn.fromObject(o,r);return m.length>0?kn.fromMillis(d,r).shiftTo(...m).plus(y):y}const IL="missing Intl.DateTimeFormat.formatToParts support";function Tn(t,e=n=>n){return{regex:t,deser:([n])=>e(gF(n))}}const qL="\xa0",cT=`[ ${qL}]`,uT=new RegExp(cT,"g");function TL(t){return t.replace(/\./g,"\\.?").replace(uT,cT)}function jN(t){return t.replace(/\./g,"").replace(uT," ").toLowerCase()}function Qs(t,e){return t===null?null:{regex:RegExp(t.map(TL).join("|")),deser:([n])=>t.findIndex(r=>jN(n)===jN(r))+e}}function PN(t,e){return{regex:t,deser:([,n,r])=>Fg(n,r),groups:e}}function jh(t){return{regex:t,deser:([e])=>e}}function OL(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function CL(t,e){const n=Hs(e),r=Hs(e,"{2}"),i=Hs(e,"{3}"),o=Hs(e,"{4}"),l=Hs(e,"{6}"),c=Hs(e,"{1,2}"),d=Hs(e,"{1,3}"),m=Hs(e,"{1,6}"),y=Hs(e,"{1,9}"),_=Hs(e,"{2,4}"),N=Hs(e,"{4,6}"),k=A=>({regex:RegExp(OL(A.val)),deser:([D])=>D,literal:!0}),T=(A=>{if(t.literal)return k(A);switch(A.val){case"G":return Qs(e.eras("short"),0);case"GG":return Qs(e.eras("long"),0);case"y":return Tn(m);case"yy":return Tn(_,cx);case"yyyy":return Tn(o);case"yyyyy":return Tn(N);case"yyyyyy":return Tn(l);case"M":return Tn(c);case"MM":return Tn(r);case"MMM":return Qs(e.months("short",!0),1);case"MMMM":return Qs(e.months("long",!0),1);case"L":return Tn(c);case"LL":return Tn(r);case"LLL":return Qs(e.months("short",!1),1);case"LLLL":return Qs(e.months("long",!1),1);case"d":return Tn(c);case"dd":return Tn(r);case"o":return Tn(d);case"ooo":return Tn(i);case"HH":return Tn(r);case"H":return Tn(c);case"hh":return Tn(r);case"h":return Tn(c);case"mm":return Tn(r);case"m":return Tn(c);case"q":return Tn(c);case"qq":return Tn(r);case"s":return Tn(c);case"ss":return Tn(r);case"S":return Tn(d);case"SSS":return Tn(i);case"u":return jh(y);case"uu":return jh(c);case"uuu":return Tn(n);case"a":return Qs(e.meridiems(),0);case"kkkk":return Tn(o);case"kk":return Tn(_,cx);case"W":return Tn(c);case"WW":return Tn(r);case"E":case"c":return Tn(n);case"EEE":return Qs(e.weekdays("short",!1),1);case"EEEE":return Qs(e.weekdays("long",!1),1);case"ccc":return Qs(e.weekdays("short",!0),1);case"cccc":return Qs(e.weekdays("long",!0),1);case"Z":case"ZZ":return PN(new RegExp(`([+-]${c.source})(?::(${r.source}))?`),2);case"ZZZ":return PN(new RegExp(`([+-]${c.source})(${r.source})?`),2);case"z":return jh(/[a-z_+-/]{1,256}?/i);case" ":return jh(/[^\S\n\r]/);default:return k(A)}})(t)||{invalidReason:IL};return T.token=t,T}const RL={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function AL(t,e,n){const{type:r,value:i}=t;if(r==="literal"){const d=/^\s+$/.test(i);return{literal:!d,val:d?" ":i}}const o=e[r];let l=r;r==="hour"&&(e.hour12!=null?l=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?l="hour12":l="hour24":l=n.hour12?"hour12":"hour24");let c=RL[l];if(typeof c=="object"&&(c=c[o]),c)return{literal:!1,val:c}}function jL(t){return[`^${t.map(n=>n.regex).reduce((n,r)=>`${n}(${r.source})`,"")}$`,t]}function PL(t,e,n){const r=t.match(e);if(r){const i={};let o=1;for(const l in n)if(ku(n,l)){const c=n[l],d=c.groups?c.groups+1:1;!c.literal&&c.token&&(i[c.token.val[0]]=c.deser(r.slice(o,o+d))),o+=d}return[r,i]}else return[r,{}]}function FL(t){const e=o=>{switch(o){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,r;return rn(t.z)||(n=ua.create(t.z)),rn(t.Z)||(n||(n=new xi(t.Z)),r=t.Z),rn(t.q)||(t.M=(t.q-1)*3+1),rn(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),rn(t.u)||(t.S=dw(t.u)),[Object.keys(t).reduce((o,l)=>{const c=e(l);return c&&(o[c]=t[l]),o},{}),n,r]}let Sb=null;function LL(){return Sb||(Sb=nn.fromMillis(0x16a2e5618e3)),Sb}function DL(t,e){if(t.literal)return t;const n=ci.macroTokenToFormatOpts(t.val),r=hT(n,e);return r==null||r.includes(void 0)?t:r}function dT(t,e){return Array.prototype.concat(...t.map(n=>DL(n,e)))}class fT{constructor(e,n){if(this.locale=e,this.format=n,this.tokens=dT(ci.parseFormat(n),e),this.units=this.tokens.map(r=>CL(r,e)),this.disqualifyingUnit=this.units.find(r=>r.invalidReason),!this.disqualifyingUnit){const[r,i]=jL(this.units);this.regex=RegExp(r,"i"),this.handlers=i}}explainFromTokens(e){if(this.isValid){const[n,r]=PL(e,this.regex,this.handlers),[i,o,l]=r?FL(r):[null,null,void 0];if(ku(r,"a")&&ku(r,"H"))throw new ru("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:n,matches:r,result:i,zone:o,specificOffset:l}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function pT(t,e,n){return new fT(t,n).explainFromTokens(e)}function ML(t,e,n){const{result:r,zone:i,specificOffset:o,invalidReason:l}=pT(t,e,n);return[r,i,o,l]}function hT(t,e){if(!t)return null;const r=ci.create(e,t).dtFormatter(LL()),i=r.formatToParts(),o=r.resolvedOptions();return i.map(l=>AL(l,t,o))}const Eb="Invalid DateTime",FN=864e13;function Gd(t){return new eo("unsupported zone",`the zone "${t.name}" is not supported`)}function Nb(t){return t.weekData===null&&(t.weekData=Bm(t.c)),t.weekData}function kb(t){return t.localWeekData===null&&(t.localWeekData=Bm(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function Pl(t,e){const n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new nn({...n,...e,old:n})}function mT(t,e,n){let r=t-e*60*1e3;const i=n.offset(r);if(e===i)return[r,e];r-=(i-e)*60*1e3;const o=n.offset(r);return i===o?[r,i]:[t-Math.min(i,o)*60*1e3,Math.max(i,o)]}function Ph(t,e){t+=e*60*1e3;const n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function nm(t,e,n){return mT(Pg(t),e,n)}function LN(t,e){const n=t.o,r=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,o={...t.c,year:r,month:i,day:Math.min(t.c.day,$m(r,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},l=kn.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),c=Pg(o);let[d,m]=mT(c,n,t.zone);return l!==0&&(d+=l,m=t.zone.offset(d)),{ts:d,o:m}}function Uc(t,e,n,r,i,o){const{setZone:l,zone:c}=n;if(t&&Object.keys(t).length!==0||e){const d=e||c,m=nn.fromObject(t,{...n,zone:d,specificOffset:o});return l?m:m.setZone(c)}else return nn.invalid(new eo("unparsable",`the input "${i}" can't be parsed as ${r}`))}function Fh(t,e,n=!0){return t.isValid?ci.create(Rn.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function Ib(t,e){const n=t.c.year>9999||t.c.year<0;let r="";return n&&t.c.year>=0&&(r+="+"),r+=Cr(t.c.year,n?6:4),e?(r+="-",r+=Cr(t.c.month),r+="-",r+=Cr(t.c.day)):(r+=Cr(t.c.month),r+=Cr(t.c.day)),r}function DN(t,e,n,r,i,o){let l=Cr(t.c.hour);return e?(l+=":",l+=Cr(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(l+=":")):l+=Cr(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(l+=Cr(t.c.second),(t.c.millisecond!==0||!r)&&(l+=".",l+=Cr(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0&&!o?l+="Z":t.o<0?(l+="-",l+=Cr(Math.trunc(-t.o/60)),l+=":",l+=Cr(Math.trunc(-t.o%60))):(l+="+",l+=Cr(Math.trunc(t.o/60)),l+=":",l+=Cr(Math.trunc(t.o%60)))),o&&(l+="["+t.zone.ianaName+"]"),l}const gT={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},BL={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},$L={ordinal:1,hour:0,minute:0,second:0,millisecond:0},yT=["year","month","day","hour","minute","second","millisecond"],WL=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],zL=["year","ordinal","hour","minute","second","millisecond"];function UL(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new vq(t);return e}function MN(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return UL(t)}}function VL(t){return im[t]||(rm===void 0&&(rm=vr.now()),im[t]=t.offset(rm)),im[t]}function BN(t,e){const n=$a(e.zone,vr.defaultZone);if(!n.isValid)return nn.invalid(Gd(n));const r=Rn.fromObject(e);let i,o;if(rn(t.year))i=vr.now();else{for(const d of yT)rn(t[d])&&(t[d]=gT[d]);const l=Wq(t)||zq(t);if(l)return nn.invalid(l);const c=VL(n);[i,o]=nm(t,c,n)}return new nn({ts:i,zone:n,loc:r,o})}function $N(t,e,n){const r=rn(n.round)?!0:n.round,i=(l,c)=>(l=fw(l,r||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(l,c)),o=l=>n.calendary?e.hasSame(t,l)?0:e.startOf(l).diff(t.startOf(l),l).get(l):e.diff(t,l).get(l);if(n.unit)return i(o(n.unit),n.unit);for(const l of n.units){const c=o(l);if(Math.abs(c)>=1)return i(c,l)}return i(t>e?-0:0,n.units[n.units.length-1])}function WN(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}let rm,im={};class nn{constructor(e){const n=e.zone||vr.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new eo("invalid input"):null)||(n.isValid?null:Gd(n));this.ts=rn(e.ts)?vr.now():e.ts;let i=null,o=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[i,o]=[e.old.c,e.old.o];else{const c=Ka(e.o)&&!e.old?e.o:n.offset(this.ts);i=Ph(this.ts,c),r=Number.isNaN(i.year)?new eo("invalid input"):null,i=r?null:i,o=r?null:c}this._zone=n,this.loc=e.loc||Rn.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=i,this.o=o,this.isLuxonDateTime=!0}static now(){return new nn({})}static local(){const[e,n]=WN(arguments),[r,i,o,l,c,d,m]=n;return BN({year:r,month:i,day:o,hour:l,minute:c,second:d,millisecond:m},e)}static utc(){const[e,n]=WN(arguments),[r,i,o,l,c,d,m]=n;return e.zone=xi.utcInstance,BN({year:r,month:i,day:o,hour:l,minute:c,second:d,millisecond:m},e)}static fromJSDate(e,n={}){const r=xF(e)?e.valueOf():NaN;if(Number.isNaN(r))return nn.invalid("invalid input");const i=$a(n.zone,vr.defaultZone);return i.isValid?new nn({ts:r,zone:i,loc:Rn.fromObject(n)}):nn.invalid(Gd(i))}static fromMillis(e,n={}){if(Ka(e))return e<-FN||e>FN?nn.invalid("Timestamp out of range"):new nn({ts:e,zone:$a(n.zone,vr.defaultZone),loc:Rn.fromObject(n)});throw new ai(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(Ka(e))return new nn({ts:e*1e3,zone:$a(n.zone,vr.defaultZone),loc:Rn.fromObject(n)});throw new ai("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};const r=$a(n.zone,vr.defaultZone);if(!r.isValid)return nn.invalid(Gd(r));const i=Rn.fromObject(n),o=Wm(e,MN),{minDaysInFirstWeek:l,startOfWeek:c}=kN(o,i),d=vr.now(),m=rn(n.specificOffset)?r.offset(d):n.specificOffset,y=!rn(o.ordinal),_=!rn(o.year),N=!rn(o.month)||!rn(o.day),k=_||N,q=o.weekYear||o.weekNumber;if((k||y)&&q)throw new ru("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(N&&y)throw new ru("Can't mix ordinal dates with month/day");const T=q||o.weekday&&!k;let A,D,P=Ph(d,m);T?(A=WL,D=BL,P=Bm(P,l,c)):y?(A=zL,D=$L,P=wb(P)):(A=yT,D=gT);let L=!1;for(const ne of A){const B=o[ne];rn(B)?L?o[ne]=D[ne]:o[ne]=P[ne]:L=!0}const V=T?vF(o,l,c):y?bF(o):Wq(o),J=V||zq(o);if(J)return nn.invalid(J);const W=T?EN(o,l,c):y?NN(o):o,[Z,oe]=nm(W,m,r),U=new nn({ts:Z,zone:r,o:oe,loc:i});return o.weekday&&k&&e.weekday!==U.weekday?nn.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${U.toISO()}`):U.isValid?U:nn.invalid(U.invalid)}static fromISO(e,n={}){const[r,i]=uL(e);return Uc(r,i,n,"ISO 8601",e)}static fromRFC2822(e,n={}){const[r,i]=dL(e);return Uc(r,i,n,"RFC 2822",e)}static fromHTTP(e,n={}){const[r,i]=fL(e);return Uc(r,i,n,"HTTP",n)}static fromFormat(e,n,r={}){if(rn(e)||rn(n))throw new ai("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:o=null}=r,l=Rn.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0}),[c,d,m,y]=ML(l,e,n);return y?nn.invalid(y):Uc(c,d,r,`format ${n}`,e,m)}static fromString(e,n,r={}){return nn.fromFormat(e,n,r)}static fromSQL(e,n={}){const[r,i]=bL(e);return Uc(r,i,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new ai("need to specify a reason the DateTime is invalid");const r=e instanceof eo?e:new eo(e,n);if(vr.throwOnInvalid)throw new VP(r);return new nn({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){const r=hT(e,Rn.fromObject(n));return r?r.map(i=>i?i.val:null).join(""):null}static expandFormat(e,n={}){return dT(ci.parseFormat(e),Rn.fromObject(n)).map(i=>i.val).join("")}static resetCache(){rm=void 0,im={}}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Nb(this).weekYear:NaN}get weekNumber(){return this.isValid?Nb(this).weekNumber:NaN}get weekday(){return this.isValid?Nb(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?kb(this).weekday:NaN}get localWeekNumber(){return this.isValid?kb(this).weekNumber:NaN}get localWeekYear(){return this.isValid?kb(this).weekYear:NaN}get ordinal(){return this.isValid?wb(this.c).ordinal:NaN}get monthShort(){return this.isValid?Ah.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Ah.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Ah.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Ah.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,n=6e4,r=Pg(this.c),i=this.zone.offset(r-e),o=this.zone.offset(r+e),l=this.zone.offset(r-i*n),c=this.zone.offset(r-o*n);if(l===c)return[this];const d=r-l*n,m=r-c*n,y=Ph(d,l),_=Ph(m,c);return y.hour===_.hour&&y.minute===_.minute&&y.second===_.second&&y.millisecond===_.millisecond?[Pl(this,{ts:d}),Pl(this,{ts:m})]:[this]}get isInLeapYear(){return Zf(this.year)}get daysInMonth(){return $m(this.year,this.month)}get daysInYear(){return this.isValid?du(this.year):NaN}get weeksInWeekYear(){return this.isValid?bf(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?bf(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:n,numberingSystem:r,calendar:i}=ci.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:r,outputCalendar:i}}toUTC(e=0,n={}){return this.setZone(xi.instance(e),n)}toLocal(){return this.setZone(vr.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(e=$a(e,vr.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(n||r){const o=e.offset(this.ts),l=this.toObject();[i]=nm(l,o,e)}return Pl(this,{ts:i,zone:e})}else return nn.invalid(Gd(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:r}={}){const i=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:r});return Pl(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const n=Wm(e,MN),{minDaysInFirstWeek:r,startOfWeek:i}=kN(n,this.loc),o=!rn(n.weekYear)||!rn(n.weekNumber)||!rn(n.weekday),l=!rn(n.ordinal),c=!rn(n.year),d=!rn(n.month)||!rn(n.day),m=c||d,y=n.weekYear||n.weekNumber;if((m||l)&&y)throw new ru("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(d&&l)throw new ru("Can't mix ordinal dates with month/day");let _;o?_=EN({...Bm(this.c,r,i),...n},r,i):rn(n.ordinal)?(_={...this.toObject(),...n},rn(n.day)&&(_.day=Math.min($m(_.year,_.month),_.day))):_=NN({...wb(this.c),...n});const[N,k]=nm(_,this.o,this.zone);return Pl(this,{ts:N,o:k})}plus(e){if(!this.isValid)return this;const n=kn.fromDurationLike(e);return Pl(this,LN(this,n))}minus(e){if(!this.isValid)return this;const n=kn.fromDurationLike(e).negate();return Pl(this,LN(this,n))}startOf(e,{useLocaleWeeks:n=!1}={}){if(!this.isValid)return this;const r={},i=kn.normalizeUnit(e);switch(i){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(i==="weeks")if(n){const o=this.loc.getStartOfWeek(),{weekday:l}=this;l<o&&(r.weekNumber=this.weekNumber-1),r.weekday=o}else r.weekday=1;if(i==="quarters"){const o=Math.ceil(this.month/3);r.month=(o-1)*3+1}return this.set(r)}endOf(e,n){return this.isValid?this.plus({[e]:1}).startOf(e,n).minus(1):this}toFormat(e,n={}){return this.isValid?ci.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):Eb}toLocaleString(e=Mm,n={}){return this.isValid?ci.create(this.loc.clone(n),e).formatDateTime(this):Eb}toLocaleParts(e={}){return this.isValid?ci.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:r=!1,includeOffset:i=!0,extendedZone:o=!1}={}){if(!this.isValid)return null;const l=e==="extended";let c=Ib(this,l);return c+="T",c+=DN(this,l,n,r,i,o),c}toISODate({format:e="extended"}={}){return this.isValid?Ib(this,e==="extended"):null}toISOWeekDate(){return Fh(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:r=!0,includePrefix:i=!1,extendedZone:o=!1,format:l="extended"}={}){return this.isValid?(i?"T":"")+DN(this,l==="extended",n,e,r,o):null}toRFC2822(){return Fh(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Fh(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Ib(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:r=!0}={}){let i="HH:mm:ss.SSS";return(n||e)&&(r&&(i+=" "),n?i+="z":e&&(i+="ZZ")),Fh(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Eb}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const n={...this.c};return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",r={}){if(!this.isValid||!e.isValid)return kn.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...r},o=wF(n).map(kn.normalizeUnit),l=e.valueOf()>this.valueOf(),c=l?this:e,d=l?e:this,m=kL(c,d,o,i);return l?m.negate():m}diffNow(e="milliseconds",n={}){return this.diff(nn.now(),e,n)}until(e){return this.isValid?yr.fromDateTimes(this,e):this}hasSame(e,n,r){if(!this.isValid)return!1;const i=e.valueOf(),o=this.setZone(e.zone,{keepLocalTime:!0});return o.startOf(n,r)<=i&&i<=o.endOf(n,r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const n=e.base||nn.fromObject({},{zone:this.zone}),r=e.padding?this<n?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],o=e.unit;return Array.isArray(e.unit)&&(i=e.unit,o=void 0),$N(n,this.plus(r),{...e,numeric:"always",units:i,unit:o})}toRelativeCalendar(e={}){return this.isValid?$N(e.base||nn.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(nn.isDateTime))throw new ai("min requires all arguments be DateTimes");return IN(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(nn.isDateTime))throw new ai("max requires all arguments be DateTimes");return IN(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,r={}){const{locale:i=null,numberingSystem:o=null}=r,l=Rn.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0});return pT(l,e,n)}static fromStringExplain(e,n,r={}){return nn.fromFormatExplain(e,n,r)}static buildFormatParser(e,n={}){const{locale:r=null,numberingSystem:i=null}=n,o=Rn.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0});return new fT(o,e)}static fromFormatParser(e,n,r={}){if(rn(e)||rn(n))throw new ai("fromFormatParser requires an input string and a format parser");const{locale:i=null,numberingSystem:o=null}=r,l=Rn.fromOpts({locale:i,numberingSystem:o,defaultToEN:!0});if(!l.equals(n.locale))throw new ai(`fromFormatParser called with a locale of ${l}, but the format parser was created for ${n.locale}`);const{result:c,zone:d,specificOffset:m,invalidReason:y}=n.explainFromTokens(e);return y?nn.invalid(y):Uc(c,d,r,`format ${n.format}`,e,m)}static get DATE_SHORT(){return Mm}static get DATE_MED(){return bq}static get DATE_MED_WITH_WEEKDAY(){return KP}static get DATE_FULL(){return _q}static get DATE_HUGE(){return xq}static get TIME_SIMPLE(){return wq}static get TIME_WITH_SECONDS(){return Sq}static get TIME_WITH_SHORT_OFFSET(){return Eq}static get TIME_WITH_LONG_OFFSET(){return Nq}static get TIME_24_SIMPLE(){return kq}static get TIME_24_WITH_SECONDS(){return Iq}static get TIME_24_WITH_SHORT_OFFSET(){return qq}static get TIME_24_WITH_LONG_OFFSET(){return Tq}static get DATETIME_SHORT(){return Oq}static get DATETIME_SHORT_WITH_SECONDS(){return Cq}static get DATETIME_MED(){return Rq}static get DATETIME_MED_WITH_SECONDS(){return Aq}static get DATETIME_MED_WITH_WEEKDAY(){return GP}static get DATETIME_FULL(){return jq}static get DATETIME_FULL_WITH_SECONDS(){return Pq}static get DATETIME_HUGE(){return Fq}static get DATETIME_HUGE_WITH_SECONDS(){return Lq}}function Fd(t){if(nn.isDateTime(t))return t;if(t&&t.valueOf&&Ka(t.valueOf()))return nn.fromJSDate(t);if(t&&typeof t=="object")return nn.fromObject(t);throw new ai(`Unknown datetime argument: ${t}, of type ${typeof t}`)}function vT(t,e){return function(){return t.apply(e,arguments)}}const{toString:HL}=Object.prototype,{getPrototypeOf:gw}=Object,Dg=(t=>e=>{const n=HL.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),lo=t=>(t=t.toLowerCase(),e=>Dg(e)===t),Mg=t=>e=>typeof e===t,{isArray:Wu}=Array,_f=Mg("undefined");function QL(t){return t!==null&&!_f(t)&&t.constructor!==null&&!_f(t.constructor)&&is(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const bT=lo("ArrayBuffer");function KL(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&bT(t.buffer),e}const GL=Mg("string"),is=Mg("function"),_T=Mg("number"),Bg=t=>t!==null&&typeof t=="object",JL=t=>t===!0||t===!1,sm=t=>{if(Dg(t)!=="object")return!1;const e=gw(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ZL=lo("Date"),YL=lo("File"),XL=lo("Blob"),eD=lo("FileList"),tD=t=>Bg(t)&&is(t.pipe),nD=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||is(t.append)&&((e=Dg(t))==="formdata"||e==="object"&&is(t.toString)&&t.toString()==="[object FormData]"))},rD=lo("URLSearchParams"),[iD,sD,oD,aD]=["ReadableStream","Request","Response","Headers"].map(lo),lD=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ep(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Wu(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const o=n?Object.getOwnPropertyNames(t):Object.keys(t),l=o.length;let c;for(r=0;r<l;r++)c=o[r],e.call(null,t[c],c,t)}}function xT(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Ql=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,wT=t=>!_f(t)&&t!==Ql;function ux(){const{caseless:t}=wT(this)&&this||{},e={},n=(r,i)=>{const o=t&&xT(e,i)||i;sm(e[o])&&sm(r)?e[o]=ux(e[o],r):sm(r)?e[o]=ux({},r):Wu(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&ep(arguments[r],n);return e}const cD=(t,e,n,{allOwnKeys:r}={})=>(ep(e,(i,o)=>{n&&is(i)?t[o]=vT(i,n):t[o]=i},{allOwnKeys:r}),t),uD=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),dD=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},fD=(t,e,n,r)=>{let i,o,l;const c={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)l=i[o],(!r||r(l,t,e))&&!c[l]&&(e[l]=t[l],c[l]=!0);t=n!==!1&&gw(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},pD=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},hD=t=>{if(!t)return null;if(Wu(t))return t;let e=t.length;if(!_T(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},mD=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&gw(Uint8Array)),gD=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(t,o[0],o[1])}},yD=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},vD=lo("HTMLFormElement"),bD=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),zN=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),_D=lo("RegExp"),ST=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};ep(n,(i,o)=>{let l;(l=e(i,o,t))!==!1&&(r[o]=l||i)}),Object.defineProperties(t,r)},xD=t=>{ST(t,(e,n)=>{if(is(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(is(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},wD=(t,e)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Wu(t)?r(t):r(String(t).split(e)),n},SD=()=>{},ED=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,qb="abcdefghijklmnopqrstuvwxyz",UN="0123456789",ET={DIGIT:UN,ALPHA:qb,ALPHA_DIGIT:qb+qb.toUpperCase()+UN},ND=(t=16,e=ET.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function kD(t){return!!(t&&is(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const ID=t=>{const e=new Array(10),n=(r,i)=>{if(Bg(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=Wu(r)?[]:{};return ep(r,(l,c)=>{const d=n(l,i+1);!_f(d)&&(o[c]=d)}),e[i]=void 0,o}}return r};return n(t,0)},qD=lo("AsyncFunction"),TD=t=>t&&(Bg(t)||is(t))&&is(t.then)&&is(t.catch),NT=((t,e)=>t?setImmediate:e?((n,r)=>(Ql.addEventListener("message",({source:i,data:o})=>{i===Ql&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Ql.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",is(Ql.postMessage)),OD=typeof queueMicrotask<"u"?queueMicrotask.bind(Ql):typeof process<"u"&&process.nextTick||NT,ze={isArray:Wu,isArrayBuffer:bT,isBuffer:QL,isFormData:nD,isArrayBufferView:KL,isString:GL,isNumber:_T,isBoolean:JL,isObject:Bg,isPlainObject:sm,isReadableStream:iD,isRequest:sD,isResponse:oD,isHeaders:aD,isUndefined:_f,isDate:ZL,isFile:YL,isBlob:XL,isRegExp:_D,isFunction:is,isStream:tD,isURLSearchParams:rD,isTypedArray:mD,isFileList:eD,forEach:ep,merge:ux,extend:cD,trim:lD,stripBOM:uD,inherits:dD,toFlatObject:fD,kindOf:Dg,kindOfTest:lo,endsWith:pD,toArray:hD,forEachEntry:gD,matchAll:yD,isHTMLForm:vD,hasOwnProperty:zN,hasOwnProp:zN,reduceDescriptors:ST,freezeMethods:xD,toObjectSet:wD,toCamelCase:bD,noop:SD,toFiniteNumber:ED,findKey:xT,global:Ql,isContextDefined:wT,ALPHABET:ET,generateString:ND,isSpecCompliantForm:kD,toJSONObject:ID,isAsyncFn:qD,isThenable:TD,setImmediate:NT,asap:OD};function dn(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ze.inherits(dn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ze.toJSONObject(this.config),code:this.code,status:this.status}}});const kT=dn.prototype,IT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{IT[t]={value:t}});Object.defineProperties(dn,IT);Object.defineProperty(kT,"isAxiosError",{value:!0});dn.from=(t,e,n,r,i,o)=>{const l=Object.create(kT);return ze.toFlatObject(t,l,function(d){return d!==Error.prototype},c=>c!=="isAxiosError"),dn.call(l,t.message,e,n,r,i),l.cause=t,l.name=t.name,o&&Object.assign(l,o),l};const CD=null;function dx(t){return ze.isPlainObject(t)||ze.isArray(t)}function qT(t){return ze.endsWith(t,"[]")?t.slice(0,-2):t}function VN(t,e,n){return t?t.concat(e).map(function(i,o){return i=qT(i),!n&&o?"["+i+"]":i}).join(n?".":""):e}function RD(t){return ze.isArray(t)&&!t.some(dx)}const AD=ze.toFlatObject(ze,{},null,function(e){return/^is[A-Z]/.test(e)});function $g(t,e,n){if(!ze.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ze.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(T,A){return!ze.isUndefined(A[T])});const r=n.metaTokens,i=n.visitor||y,o=n.dots,l=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&ze.isSpecCompliantForm(e);if(!ze.isFunction(i))throw new TypeError("visitor must be a function");function m(q){if(q===null)return"";if(ze.isDate(q))return q.toISOString();if(!d&&ze.isBlob(q))throw new dn("Blob is not supported. Use a Buffer instead.");return ze.isArrayBuffer(q)||ze.isTypedArray(q)?d&&typeof Blob=="function"?new Blob([q]):Buffer.from(q):q}function y(q,T,A){let D=q;if(q&&!A&&typeof q=="object"){if(ze.endsWith(T,"{}"))T=r?T:T.slice(0,-2),q=JSON.stringify(q);else if(ze.isArray(q)&&RD(q)||(ze.isFileList(q)||ze.endsWith(T,"[]"))&&(D=ze.toArray(q)))return T=qT(T),D.forEach(function(L,V){!(ze.isUndefined(L)||L===null)&&e.append(l===!0?VN([T],V,o):l===null?T:T+"[]",m(L))}),!1}return dx(q)?!0:(e.append(VN(A,T,o),m(q)),!1)}const _=[],N=Object.assign(AD,{defaultVisitor:y,convertValue:m,isVisitable:dx});function k(q,T){if(!ze.isUndefined(q)){if(_.indexOf(q)!==-1)throw Error("Circular reference detected in "+T.join("."));_.push(q),ze.forEach(q,function(D,P){(!(ze.isUndefined(D)||D===null)&&i.call(e,D,ze.isString(P)?P.trim():P,T,N))===!0&&k(D,T?T.concat(P):[P])}),_.pop()}}if(!ze.isObject(t))throw new TypeError("data must be an object");return k(t),e}function HN(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function yw(t,e){this._pairs=[],t&&$g(t,this,e)}const TT=yw.prototype;TT.append=function(e,n){this._pairs.push([e,n])};TT.toString=function(e){const n=e?function(r){return e.call(this,r,HN)}:HN;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function jD(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function OT(t,e,n){if(!e)return t;const r=n&&n.encode||jD;ze.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(e,n):o=ze.isURLSearchParams(e)?e.toString():new yw(e,n).toString(r),o){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class QN{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ze.forEach(this.handlers,function(r){r!==null&&e(r)})}}const CT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},PD=typeof URLSearchParams<"u"?URLSearchParams:yw,FD=typeof FormData<"u"?FormData:null,LD=typeof Blob<"u"?Blob:null,DD={isBrowser:!0,classes:{URLSearchParams:PD,FormData:FD,Blob:LD},protocols:["http","https","file","blob","url","data"]},vw=typeof window<"u"&&typeof document<"u",fx=typeof navigator=="object"&&navigator||void 0,MD=vw&&(!fx||["ReactNative","NativeScript","NS"].indexOf(fx.product)<0),BD=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",$D=vw&&window.location.href||"http://localhost",WD=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:vw,hasStandardBrowserEnv:MD,hasStandardBrowserWebWorkerEnv:BD,navigator:fx,origin:$D},Symbol.toStringTag,{value:"Module"})),ui={...WD,...DD};function zD(t,e){return $g(t,new ui.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return ui.isNode&&ze.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function UD(t){return ze.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function VD(t){const e={},n=Object.keys(t);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],e[o]=t[o];return e}function RT(t){function e(n,r,i,o){let l=n[o++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),d=o>=n.length;return l=!l&&ze.isArray(i)?i.length:l,d?(ze.hasOwnProp(i,l)?i[l]=[i[l],r]:i[l]=r,!c):((!i[l]||!ze.isObject(i[l]))&&(i[l]=[]),e(n,r,i[l],o)&&ze.isArray(i[l])&&(i[l]=VD(i[l])),!c)}if(ze.isFormData(t)&&ze.isFunction(t.entries)){const n={};return ze.forEachEntry(t,(r,i)=>{e(UD(r),i,n,0)}),n}return null}function HD(t,e,n){if(ze.isString(t))try{return(e||JSON.parse)(t),ze.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const tp={transitional:CT,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=ze.isObject(e);if(o&&ze.isHTMLForm(e)&&(e=new FormData(e)),ze.isFormData(e))return i?JSON.stringify(RT(e)):e;if(ze.isArrayBuffer(e)||ze.isBuffer(e)||ze.isStream(e)||ze.isFile(e)||ze.isBlob(e)||ze.isReadableStream(e))return e;if(ze.isArrayBufferView(e))return e.buffer;if(ze.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return zD(e,this.formSerializer).toString();if((c=ze.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return $g(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),HD(e)):e}],transformResponse:[function(e){const n=this.transitional||tp.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(ze.isResponse(e)||ze.isReadableStream(e))return e;if(e&&ze.isString(e)&&(r&&!this.responseType||i)){const l=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(c){if(l)throw c.name==="SyntaxError"?dn.from(c,dn.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ui.classes.FormData,Blob:ui.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ze.forEach(["delete","get","head","post","put","patch"],t=>{tp.headers[t]={}});const QD=ze.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),KD=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(l){i=l.indexOf(":"),n=l.substring(0,i).trim().toLowerCase(),r=l.substring(i+1).trim(),!(!n||e[n]&&QD[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},KN=Symbol("internals");function Ld(t){return t&&String(t).trim().toLowerCase()}function om(t){return t===!1||t==null?t:ze.isArray(t)?t.map(om):String(t)}function GD(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const JD=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Tb(t,e,n,r,i){if(ze.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!ze.isString(e)){if(ze.isString(r))return e.indexOf(r)!==-1;if(ze.isRegExp(r))return r.test(e)}}function ZD(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function YD(t,e){const n=ze.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,o,l){return this[r].call(this,e,i,o,l)},configurable:!0})})}let Di=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function o(c,d,m){const y=Ld(d);if(!y)throw new Error("header name must be a non-empty string");const _=ze.findKey(i,y);(!_||i[_]===void 0||m===!0||m===void 0&&i[_]!==!1)&&(i[_||d]=om(c))}const l=(c,d)=>ze.forEach(c,(m,y)=>o(m,y,d));if(ze.isPlainObject(e)||e instanceof this.constructor)l(e,n);else if(ze.isString(e)&&(e=e.trim())&&!JD(e))l(KD(e),n);else if(ze.isHeaders(e))for(const[c,d]of e.entries())o(d,c,r);else e!=null&&o(n,e,r);return this}get(e,n){if(e=Ld(e),e){const r=ze.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return GD(i);if(ze.isFunction(n))return n.call(this,i,r);if(ze.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Ld(e),e){const r=ze.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Tb(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function o(l){if(l=Ld(l),l){const c=ze.findKey(r,l);c&&(!n||Tb(r,r[c],c,n))&&(delete r[c],i=!0)}}return ze.isArray(e)?e.forEach(o):o(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!e||Tb(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const n=this,r={};return ze.forEach(this,(i,o)=>{const l=ze.findKey(r,o);if(l){n[l]=om(i),delete n[o];return}const c=e?ZD(o):String(o).trim();c!==o&&delete n[o],n[c]=om(i),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ze.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&ze.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[KN]=this[KN]={accessors:{}}).accessors,i=this.prototype;function o(l){const c=Ld(l);r[c]||(YD(i,l),r[c]=!0)}return ze.isArray(e)?e.forEach(o):o(e),this}};Di.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ze.reduceDescriptors(Di.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});ze.freezeMethods(Di);function Ob(t,e){const n=this||tp,r=e||n,i=Di.from(r.headers);let o=r.data;return ze.forEach(t,function(c){o=c.call(n,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function AT(t){return!!(t&&t.__CANCEL__)}function zu(t,e,n){dn.call(this,t??"canceled",dn.ERR_CANCELED,e,n),this.name="CanceledError"}ze.inherits(zu,dn,{__CANCEL__:!0});function jT(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new dn("Request failed with status code "+n.status,[dn.ERR_BAD_REQUEST,dn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function XD(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function e2(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,o=0,l;return e=e!==void 0?e:1e3,function(d){const m=Date.now(),y=r[o];l||(l=m),n[i]=d,r[i]=m;let _=o,N=0;for(;_!==i;)N+=n[_++],_=_%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),m-l<e)return;const k=y&&m-y;return k?Math.round(N*1e3/k):void 0}}function t2(t,e){let n=0,r=1e3/e,i,o;const l=(m,y=Date.now())=>{n=y,i=null,o&&(clearTimeout(o),o=null),t.apply(null,m)};return[(...m)=>{const y=Date.now(),_=y-n;_>=r?l(m,y):(i=m,o||(o=setTimeout(()=>{o=null,l(i)},r-_)))},()=>i&&l(i)]}const zm=(t,e,n=3)=>{let r=0;const i=e2(50,250);return t2(o=>{const l=o.loaded,c=o.lengthComputable?o.total:void 0,d=l-r,m=i(d),y=l<=c;r=l;const _={loaded:l,total:c,progress:c?l/c:void 0,bytes:d,rate:m||void 0,estimated:m&&c&&y?(c-l)/m:void 0,event:o,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(_)},n)},GN=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},JN=t=>(...e)=>ze.asap(()=>t(...e)),n2=ui.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,ui.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(ui.origin),ui.navigator&&/(msie|trident)/i.test(ui.navigator.userAgent)):()=>!0,r2=ui.hasStandardBrowserEnv?{write(t,e,n,r,i,o){const l=[t+"="+encodeURIComponent(e)];ze.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),ze.isString(r)&&l.push("path="+r),ze.isString(i)&&l.push("domain="+i),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function i2(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function s2(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function PT(t,e){return t&&!i2(e)?s2(t,e):e}const ZN=t=>t instanceof Di?{...t}:t;function ec(t,e){e=e||{};const n={};function r(m,y,_,N){return ze.isPlainObject(m)&&ze.isPlainObject(y)?ze.merge.call({caseless:N},m,y):ze.isPlainObject(y)?ze.merge({},y):ze.isArray(y)?y.slice():y}function i(m,y,_,N){if(ze.isUndefined(y)){if(!ze.isUndefined(m))return r(void 0,m,_,N)}else return r(m,y,_,N)}function o(m,y){if(!ze.isUndefined(y))return r(void 0,y)}function l(m,y){if(ze.isUndefined(y)){if(!ze.isUndefined(m))return r(void 0,m)}else return r(void 0,y)}function c(m,y,_){if(_ in e)return r(m,y);if(_ in t)return r(void 0,m)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(m,y,_)=>i(ZN(m),ZN(y),_,!0)};return ze.forEach(Object.keys(Object.assign({},t,e)),function(y){const _=d[y]||i,N=_(t[y],e[y],y);ze.isUndefined(N)&&_!==c||(n[y]=N)}),n}const FT=t=>{const e=ec({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:l,auth:c}=e;e.headers=l=Di.from(l),e.url=OT(PT(e.baseURL,e.url),t.params,t.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let d;if(ze.isFormData(n)){if(ui.hasStandardBrowserEnv||ui.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[m,...y]=d?d.split(";").map(_=>_.trim()).filter(Boolean):[];l.setContentType([m||"multipart/form-data",...y].join("; "))}}if(ui.hasStandardBrowserEnv&&(r&&ze.isFunction(r)&&(r=r(e)),r||r!==!1&&n2(e.url))){const m=i&&o&&r2.read(o);m&&l.set(i,m)}return e},o2=typeof XMLHttpRequest<"u",a2=o2&&function(t){return new Promise(function(n,r){const i=FT(t);let o=i.data;const l=Di.from(i.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:m}=i,y,_,N,k,q;function T(){k&&k(),q&&q(),i.cancelToken&&i.cancelToken.unsubscribe(y),i.signal&&i.signal.removeEventListener("abort",y)}let A=new XMLHttpRequest;A.open(i.method.toUpperCase(),i.url,!0),A.timeout=i.timeout;function D(){if(!A)return;const L=Di.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),J={data:!c||c==="text"||c==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:L,config:t,request:A};jT(function(Z){n(Z),T()},function(Z){r(Z),T()},J),A=null}"onloadend"in A?A.onloadend=D:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(D)},A.onabort=function(){A&&(r(new dn("Request aborted",dn.ECONNABORTED,t,A)),A=null)},A.onerror=function(){r(new dn("Network Error",dn.ERR_NETWORK,t,A)),A=null},A.ontimeout=function(){let V=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const J=i.transitional||CT;i.timeoutErrorMessage&&(V=i.timeoutErrorMessage),r(new dn(V,J.clarifyTimeoutError?dn.ETIMEDOUT:dn.ECONNABORTED,t,A)),A=null},o===void 0&&l.setContentType(null),"setRequestHeader"in A&&ze.forEach(l.toJSON(),function(V,J){A.setRequestHeader(J,V)}),ze.isUndefined(i.withCredentials)||(A.withCredentials=!!i.withCredentials),c&&c!=="json"&&(A.responseType=i.responseType),m&&([N,q]=zm(m,!0),A.addEventListener("progress",N)),d&&A.upload&&([_,k]=zm(d),A.upload.addEventListener("progress",_),A.upload.addEventListener("loadend",k)),(i.cancelToken||i.signal)&&(y=L=>{A&&(r(!L||L.type?new zu(null,t,A):L),A.abort(),A=null)},i.cancelToken&&i.cancelToken.subscribe(y),i.signal&&(i.signal.aborted?y():i.signal.addEventListener("abort",y)));const P=XD(i.url);if(P&&ui.protocols.indexOf(P)===-1){r(new dn("Unsupported protocol "+P+":",dn.ERR_BAD_REQUEST,t));return}A.send(o||null)})},l2=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const o=function(m){if(!i){i=!0,c();const y=m instanceof Error?m:this.reason;r.abort(y instanceof dn?y:new zu(y instanceof Error?y.message:y))}};let l=e&&setTimeout(()=>{l=null,o(new dn(`timeout ${e} of ms exceeded`,dn.ETIMEDOUT))},e);const c=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(o):m.removeEventListener("abort",o)}),t=null)};t.forEach(m=>m.addEventListener("abort",o));const{signal:d}=r;return d.unsubscribe=()=>ze.asap(c),d}},c2=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},u2=async function*(t,e){for await(const n of d2(t))yield*c2(n,e)},d2=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},YN=(t,e,n,r)=>{const i=u2(t,e);let o=0,l,c=d=>{l||(l=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:m,value:y}=await i.next();if(m){c(),d.close();return}let _=y.byteLength;if(n){let N=o+=_;n(N)}d.enqueue(new Uint8Array(y))}catch(m){throw c(m),m}},cancel(d){return c(d),i.return()}},{highWaterMark:2})},Wg=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",LT=Wg&&typeof ReadableStream=="function",f2=Wg&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),DT=(t,...e)=>{try{return!!t(...e)}catch{return!1}},p2=LT&&DT(()=>{let t=!1;const e=new Request(ui.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),XN=64*1024,px=LT&&DT(()=>ze.isReadableStream(new Response("").body)),Um={stream:px&&(t=>t.body)};Wg&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Um[e]&&(Um[e]=ze.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new dn(`Response type '${e}' is not supported`,dn.ERR_NOT_SUPPORT,r)})})})(new Response);const h2=async t=>{if(t==null)return 0;if(ze.isBlob(t))return t.size;if(ze.isSpecCompliantForm(t))return(await new Request(ui.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ze.isArrayBufferView(t)||ze.isArrayBuffer(t))return t.byteLength;if(ze.isURLSearchParams(t)&&(t=t+""),ze.isString(t))return(await f2(t)).byteLength},m2=async(t,e)=>{const n=ze.toFiniteNumber(t.getContentLength());return n??h2(e)},g2=Wg&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:o,timeout:l,onDownloadProgress:c,onUploadProgress:d,responseType:m,headers:y,withCredentials:_="same-origin",fetchOptions:N}=FT(t);m=m?(m+"").toLowerCase():"text";let k=l2([i,o&&o.toAbortSignal()],l),q;const T=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let A;try{if(d&&p2&&n!=="get"&&n!=="head"&&(A=await m2(y,r))!==0){let J=new Request(e,{method:"POST",body:r,duplex:"half"}),W;if(ze.isFormData(r)&&(W=J.headers.get("content-type"))&&y.setContentType(W),J.body){const[Z,oe]=GN(A,zm(JN(d)));r=YN(J.body,XN,Z,oe)}}ze.isString(_)||(_=_?"include":"omit");const D="credentials"in Request.prototype;q=new Request(e,{...N,signal:k,method:n.toUpperCase(),headers:y.normalize().toJSON(),body:r,duplex:"half",credentials:D?_:void 0});let P=await fetch(q);const L=px&&(m==="stream"||m==="response");if(px&&(c||L&&T)){const J={};["status","statusText","headers"].forEach(U=>{J[U]=P[U]});const W=ze.toFiniteNumber(P.headers.get("content-length")),[Z,oe]=c&&GN(W,zm(JN(c),!0))||[];P=new Response(YN(P.body,XN,Z,()=>{oe&&oe(),T&&T()}),J)}m=m||"text";let V=await Um[ze.findKey(Um,m)||"text"](P,t);return!L&&T&&T(),await new Promise((J,W)=>{jT(J,W,{data:V,headers:Di.from(P.headers),status:P.status,statusText:P.statusText,config:t,request:q})})}catch(D){throw T&&T(),D&&D.name==="TypeError"&&/fetch/i.test(D.message)?Object.assign(new dn("Network Error",dn.ERR_NETWORK,t,q),{cause:D.cause||D}):dn.from(D,D&&D.code,t,q)}}),hx={http:CD,xhr:a2,fetch:g2};ze.forEach(hx,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const e1=t=>`- ${t}`,y2=t=>ze.isFunction(t)||t===null||t===!1,MT={getAdapter:t=>{t=ze.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let o=0;o<e;o++){n=t[o];let l;if(r=n,!y2(n)&&(r=hx[(l=String(n)).toLowerCase()],r===void 0))throw new dn(`Unknown adapter '${l}'`);if(r)break;i[l||"#"+o]=r}if(!r){const o=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?o.length>1?`since :
`+o.map(e1).join(`
`):" "+e1(o[0]):"as no adapter specified";throw new dn("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r},adapters:hx};function Cb(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new zu(null,t)}function t1(t){return Cb(t),t.headers=Di.from(t.headers),t.data=Ob.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),MT.getAdapter(t.adapter||tp.adapter)(t).then(function(r){return Cb(t),r.data=Ob.call(t,t.transformResponse,r),r.headers=Di.from(r.headers),r},function(r){return AT(r)||(Cb(t),r&&r.response&&(r.response.data=Ob.call(t,t.transformResponse,r.response),r.response.headers=Di.from(r.response.headers))),Promise.reject(r)})}const BT="1.7.9",zg={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{zg[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const n1={};zg.transitional=function(e,n,r){function i(o,l){return"[Axios v"+BT+"] Transitional option '"+o+"'"+l+(r?". "+r:"")}return(o,l,c)=>{if(e===!1)throw new dn(i(l," has been removed"+(n?" in "+n:"")),dn.ERR_DEPRECATED);return n&&!n1[l]&&(n1[l]=!0,console.warn(i(l," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,l,c):!0}};zg.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function v2(t,e,n){if(typeof t!="object")throw new dn("options must be an object",dn.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],l=e[o];if(l){const c=t[o],d=c===void 0||l(c,o,t);if(d!==!0)throw new dn("option "+o+" must be "+d,dn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new dn("Unknown option "+o,dn.ERR_BAD_OPTION)}}const am={assertOptions:v2,validators:zg},bo=am.validators;let Jl=class{constructor(e){this.defaults=e,this.interceptors={request:new QN,response:new QN}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ec(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&am.assertOptions(r,{silentJSONParsing:bo.transitional(bo.boolean),forcedJSONParsing:bo.transitional(bo.boolean),clarifyTimeoutError:bo.transitional(bo.boolean)},!1),i!=null&&(ze.isFunction(i)?n.paramsSerializer={serialize:i}:am.assertOptions(i,{encode:bo.function,serialize:bo.function},!0)),am.assertOptions(n,{baseUrl:bo.spelling("baseURL"),withXsrfToken:bo.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=o&&ze.merge(o.common,o[n.method]);o&&ze.forEach(["delete","get","head","post","put","patch","common"],q=>{delete o[q]}),n.headers=Di.concat(l,o);const c=[];let d=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(n)===!1||(d=d&&T.synchronous,c.unshift(T.fulfilled,T.rejected))});const m=[];this.interceptors.response.forEach(function(T){m.push(T.fulfilled,T.rejected)});let y,_=0,N;if(!d){const q=[t1.bind(this),void 0];for(q.unshift.apply(q,c),q.push.apply(q,m),N=q.length,y=Promise.resolve(n);_<N;)y=y.then(q[_++],q[_++]);return y}N=c.length;let k=n;for(_=0;_<N;){const q=c[_++],T=c[_++];try{k=q(k)}catch(A){T.call(this,A);break}}try{y=t1.call(this,k)}catch(q){return Promise.reject(q)}for(_=0,N=m.length;_<N;)y=y.then(m[_++],m[_++]);return y}getUri(e){e=ec(this.defaults,e);const n=PT(e.baseURL,e.url);return OT(n,e.params,e.paramsSerializer)}};ze.forEach(["delete","get","head","options"],function(e){Jl.prototype[e]=function(n,r){return this.request(ec(r||{},{method:e,url:n,data:(r||{}).data}))}});ze.forEach(["post","put","patch"],function(e){function n(r){return function(o,l,c){return this.request(ec(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}Jl.prototype[e]=n(),Jl.prototype[e+"Form"]=n(!0)});let b2=class $T{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const l=new Promise(c=>{r.subscribe(c),o=c}).then(i);return l.cancel=function(){r.unsubscribe(o)},l},e(function(o,l,c){r.reason||(r.reason=new zu(o,l,c),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new $T(function(i){e=i}),cancel:e}}};function _2(t){return function(n){return t.apply(null,n)}}function x2(t){return ze.isObject(t)&&t.isAxiosError===!0}const mx={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(mx).forEach(([t,e])=>{mx[e]=t});function WT(t){const e=new Jl(t),n=vT(Jl.prototype.request,e);return ze.extend(n,Jl.prototype,e,{allOwnKeys:!0}),ze.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return WT(ec(t,i))},n}const Ir=WT(tp);Ir.Axios=Jl;Ir.CanceledError=zu;Ir.CancelToken=b2;Ir.isCancel=AT;Ir.VERSION=BT;Ir.toFormData=$g;Ir.AxiosError=dn;Ir.Cancel=Ir.CanceledError;Ir.all=function(e){return Promise.all(e)};Ir.spread=_2;Ir.isAxiosError=x2;Ir.mergeConfig=ec;Ir.AxiosHeaders=Di;Ir.formToJSON=t=>RT(ze.isHTMLForm(t)?new FormData(t):t);Ir.getAdapter=MT.getAdapter;Ir.HttpStatusCode=mx;Ir.default=Ir;const{Axios:aQ,AxiosError:w2,CanceledError:lQ,isCancel:cQ,CancelToken:uQ,VERSION:dQ,all:fQ,Cancel:pQ,isAxiosError:hQ,spread:mQ,toFormData:gQ,AxiosHeaders:yQ,HttpStatusCode:vQ,formToJSON:bQ,getAdapter:_Q,mergeConfig:xQ}=Ir,bw=({error:t,schema:e,onError:n})=>{if(t instanceof w2){const i=e.safeParse(t.response?.data);return i.success&&n({error:t,data:i.data}),i.success}return!1};var Rb,r1;function S2(){if(r1)return Rb;r1=1;function t(r){this.queue=[],this.timeslotRequests=0,this.interceptors={request:null,response:null},this.handleRequest=this.handleRequest.bind(this),this.handleResponse=this.handleResponse.bind(this),this.enable(r)}t.prototype.getMaxRPS=function(){var r=this.perMilliseconds/1e3;return this.maxRequests/r},t.prototype.getQueue=function(){return this.queue},t.prototype.setMaxRPS=function(r){this.setRateLimitOptions({maxRequests:r,perMilliseconds:1e3})},t.prototype.setRateLimitOptions=function(r){r.maxRPS?this.setMaxRPS(r.maxRPS):(this.perMilliseconds=r.perMilliseconds,this.maxRequests=r.maxRequests)},t.prototype.enable=function(r){function i(o){return Promise.reject(o)}this.interceptors.request=r.interceptors.request.use(this.handleRequest,i),this.interceptors.response=r.interceptors.response.use(this.handleResponse,i)};function e(r){r.cancelToken&&r.cancelToken.throwIfRequested()}t.prototype.handleRequest=function(r){return new Promise(function(i,o){this.push({resolve:function(){try{e(r)}catch(l){return o(l),!1}return i(r),!0}})}.bind(this))},t.prototype.handleResponse=function(r){return this.shift(),r},t.prototype.push=function(r){this.queue.push(r),this.shiftInitial()},t.prototype.shiftInitial=function(){setTimeout(function(){return this.shift()}.bind(this),0)},t.prototype.shift=function(){if(this.queue.length){if(this.timeslotRequests===this.maxRequests){this.timeoutId&&typeof this.timeoutId.ref=="function"&&this.timeoutId.ref();return}var r=this.queue.shift(),i=r.resolve();if(this.timeslotRequests===0&&(this.timeoutId=setTimeout(function(){this.timeslotRequests=0,this.shift()}.bind(this),this.perMilliseconds),typeof this.timeoutId.unref=="function"&&this.queue.length===0&&this.timeoutId.unref()),!i){this.shift();return}this.timeslotRequests+=1}};function n(r,i){var o=new t(r);return o.setRateLimitOptions(i),r.getQueue=t.prototype.getQueue.bind(o),r.getMaxRPS=t.prototype.getMaxRPS.bind(o),r.setMaxRPS=t.prototype.setMaxRPS.bind(o),r.setRateLimitOptions=t.prototype.setRateLimitOptions.bind(o),r}return Rb=n,Rb}var E2=S2();const N2=Fo(E2),k2=({instance:t,limit:e}={})=>N2(t||Ir,e||{maxRequests:5,perMilliseconds:100}),_w="-",I2=t=>{const e=T2(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{const c=l.split(_w);return c[0]===""&&c.length!==1&&c.shift(),zT(c,e)||q2(l)},getConflictingClassGroupIds:(l,c)=>{const d=n[l]||[];return c&&r[l]?[...d,...r[l]]:d}}},zT=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?zT(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(_w);return e.validators.find(({validator:l})=>l(o))?.classGroupId},i1=/^\[(.+)\]$/,q2=t=>{if(i1.test(t)){const e=i1.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},T2=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return C2(Object.entries(t.classGroups),n).forEach(([o,l])=>{gx(l,r,o,e)}),r},gx=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:s1(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(O2(i)){gx(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,l])=>{gx(l,s1(e,o),n,r)})})},s1=(t,e)=>{let n=t;return e.split(_w).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},O2=t=>t.isThemeGetter,C2=(t,e)=>e?t.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([l,c])=>[e+l,c])):o);return[n,i]}):t,R2=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,l)=>{n.set(o,l),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let l=n.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return i(o,l),l},set(o,l){n.has(o)?n.set(o,l):i(o,l)}}},UT="!",A2=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],o=e.length,l=c=>{const d=[];let m=0,y=0,_;for(let A=0;A<c.length;A++){let D=c[A];if(m===0){if(D===i&&(r||c.slice(A,A+o)===e)){d.push(c.slice(y,A)),y=A+o;continue}if(D==="/"){_=A;continue}}D==="["?m++:D==="]"&&m--}const N=d.length===0?c:c.substring(y),k=N.startsWith(UT),q=k?N.substring(1):N,T=_&&_>y?_-y:void 0;return{modifiers:d,hasImportantModifier:k,baseClassName:q,maybePostfixModifierPosition:T}};return n?c=>n({className:c,parseClassName:l}):l},j2=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},P2=t=>({cache:R2(t.cacheSize),parseClassName:A2(t),...I2(t)}),F2=/\s+/,L2=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],l=t.trim().split(F2);let c="";for(let d=l.length-1;d>=0;d-=1){const m=l[d],{modifiers:y,hasImportantModifier:_,baseClassName:N,maybePostfixModifierPosition:k}=n(m);let q=!!k,T=r(q?N.substring(0,k):N);if(!T){if(!q){c=m+(c.length>0?" "+c:c);continue}if(T=r(N),!T){c=m+(c.length>0?" "+c:c);continue}q=!1}const A=j2(y).join(":"),D=_?A+UT:A,P=D+T;if(o.includes(P))continue;o.push(P);const L=i(T,q);for(let V=0;V<L.length;++V){const J=L[V];o.push(D+J)}c=m+(c.length>0?" "+c:c)}return c};function D2(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=VT(e))&&(r&&(r+=" "),r+=n);return r}const VT=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=VT(t[r]))&&(n&&(n+=" "),n+=e);return n};function M2(t,...e){let n,r,i,o=l;function l(d){const m=e.reduce((y,_)=>_(y),t());return n=P2(m),r=n.cache.get,i=n.cache.set,o=c,c(d)}function c(d){const m=r(d);if(m)return m;const y=L2(d,n);return i(d,y),y}return function(){return o(D2.apply(null,arguments))}}const tr=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},HT=/^\[(?:([a-z-]+):)?(.+)\]$/i,B2=/^\d+\/\d+$/,$2=new Set(["px","full","screen"]),W2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,z2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,U2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,V2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,H2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yo=t=>pu(t)||$2.has(t)||B2.test(t),ja=t=>Uu(t,"length",eM),pu=t=>!!t&&!Number.isNaN(Number(t)),Ab=t=>Uu(t,"number",pu),Dd=t=>!!t&&Number.isInteger(Number(t)),Q2=t=>t.endsWith("%")&&pu(t.slice(0,-1)),mn=t=>HT.test(t),Pa=t=>W2.test(t),K2=new Set(["length","size","percentage"]),G2=t=>Uu(t,K2,QT),J2=t=>Uu(t,"position",QT),Z2=new Set(["image","url"]),Y2=t=>Uu(t,Z2,nM),X2=t=>Uu(t,"",tM),Md=()=>!0,Uu=(t,e,n)=>{const r=HT.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},eM=t=>z2.test(t)&&!U2.test(t),QT=()=>!1,tM=t=>V2.test(t),nM=t=>H2.test(t),rM=()=>{const t=tr("colors"),e=tr("spacing"),n=tr("blur"),r=tr("brightness"),i=tr("borderColor"),o=tr("borderRadius"),l=tr("borderSpacing"),c=tr("borderWidth"),d=tr("contrast"),m=tr("grayscale"),y=tr("hueRotate"),_=tr("invert"),N=tr("gap"),k=tr("gradientColorStops"),q=tr("gradientColorStopPositions"),T=tr("inset"),A=tr("margin"),D=tr("opacity"),P=tr("padding"),L=tr("saturate"),V=tr("scale"),J=tr("sepia"),W=tr("skew"),Z=tr("space"),oe=tr("translate"),U=()=>["auto","contain","none"],ne=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto",mn,e],se=()=>[mn,e],X=()=>["",Yo,ja],fe=()=>["auto",pu,mn],Ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Oe=()=>["solid","dashed","dotted","double","none"],je=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ve=()=>["start","end","center","between","around","evenly","stretch"],pe=()=>["","0",mn],Ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[pu,mn];return{cacheSize:500,separator:":",theme:{colors:[Md],spacing:[Yo,ja],blur:["none","",Pa,mn],brightness:K(),borderColor:[t],borderRadius:["none","","full",Pa,mn],borderSpacing:se(),borderWidth:X(),contrast:K(),grayscale:pe(),hueRotate:K(),invert:pe(),gap:se(),gradientColorStops:[t],gradientColorStopPositions:[Q2,ja],inset:B(),margin:B(),opacity:K(),padding:se(),saturate:K(),scale:K(),sepia:pe(),skew:K(),space:se(),translate:se()},classGroups:{aspect:[{aspect:["auto","square","video",mn]}],container:["container"],columns:[{columns:[Pa]}],"break-after":[{"break-after":Ne()}],"break-before":[{"break-before":Ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Ee(),mn]}],overflow:[{overflow:ne()}],"overflow-x":[{"overflow-x":ne()}],"overflow-y":[{"overflow-y":ne()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[T]}],"inset-x":[{"inset-x":[T]}],"inset-y":[{"inset-y":[T]}],start:[{start:[T]}],end:[{end:[T]}],top:[{top:[T]}],right:[{right:[T]}],bottom:[{bottom:[T]}],left:[{left:[T]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Dd,mn]}],basis:[{basis:B()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",mn]}],grow:[{grow:pe()}],shrink:[{shrink:pe()}],order:[{order:["first","last","none",Dd,mn]}],"grid-cols":[{"grid-cols":[Md]}],"col-start-end":[{col:["auto",{span:["full",Dd,mn]},mn]}],"col-start":[{"col-start":fe()}],"col-end":[{"col-end":fe()}],"grid-rows":[{"grid-rows":[Md]}],"row-start-end":[{row:["auto",{span:[Dd,mn]},mn]}],"row-start":[{"row-start":fe()}],"row-end":[{"row-end":fe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",mn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",mn]}],gap:[{gap:[N]}],"gap-x":[{"gap-x":[N]}],"gap-y":[{"gap-y":[N]}],"justify-content":[{justify:["normal",...ve()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ve(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ve(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[P]}],px:[{px:[P]}],py:[{py:[P]}],ps:[{ps:[P]}],pe:[{pe:[P]}],pt:[{pt:[P]}],pr:[{pr:[P]}],pb:[{pb:[P]}],pl:[{pl:[P]}],m:[{m:[A]}],mx:[{mx:[A]}],my:[{my:[A]}],ms:[{ms:[A]}],me:[{me:[A]}],mt:[{mt:[A]}],mr:[{mr:[A]}],mb:[{mb:[A]}],ml:[{ml:[A]}],"space-x":[{"space-x":[Z]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[Z]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",mn,e]}],"min-w":[{"min-w":[mn,e,"min","max","fit"]}],"max-w":[{"max-w":[mn,e,"none","full","min","max","fit","prose",{screen:[Pa]},Pa]}],h:[{h:[mn,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[mn,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[mn,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[mn,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Pa,ja]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ab]}],"font-family":[{font:[Md]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",mn]}],"line-clamp":[{"line-clamp":["none",pu,Ab]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Yo,mn]}],"list-image":[{"list-image":["none",mn]}],"list-style-type":[{list:["none","disc","decimal",mn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[D]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[D]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Oe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Yo,ja]}],"underline-offset":[{"underline-offset":["auto",Yo,mn]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:se()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",mn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",mn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[D]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Ee(),J2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",G2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Y2]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[q]}],"gradient-via-pos":[{via:[q]}],"gradient-to-pos":[{to:[q]}],"gradient-from":[{from:[k]}],"gradient-via":[{via:[k]}],"gradient-to":[{to:[k]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[D]}],"border-style":[{border:[...Oe(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[D]}],"divide-style":[{divide:Oe()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Oe()]}],"outline-offset":[{"outline-offset":[Yo,mn]}],"outline-w":[{outline:[Yo,ja]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[D]}],"ring-offset-w":[{"ring-offset":[Yo,ja]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Pa,X2]}],"shadow-color":[{shadow:[Md]}],opacity:[{opacity:[D]}],"mix-blend":[{"mix-blend":[...je(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":je()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Pa,mn]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[_]}],saturate:[{saturate:[L]}],sepia:[{sepia:[J]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[_]}],"backdrop-opacity":[{"backdrop-opacity":[D]}],"backdrop-saturate":[{"backdrop-saturate":[L]}],"backdrop-sepia":[{"backdrop-sepia":[J]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",mn]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",mn]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",mn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[V]}],"scale-x":[{"scale-x":[V]}],"scale-y":[{"scale-y":[V]}],rotate:[{rotate:[Dd,mn]}],"translate-x":[{"translate-x":[oe]}],"translate-y":[{"translate-y":[oe]}],"skew-x":[{"skew-x":[W]}],"skew-y":[{"skew-y":[W]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",mn]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",mn]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":se()}],"scroll-mx":[{"scroll-mx":se()}],"scroll-my":[{"scroll-my":se()}],"scroll-ms":[{"scroll-ms":se()}],"scroll-me":[{"scroll-me":se()}],"scroll-mt":[{"scroll-mt":se()}],"scroll-mr":[{"scroll-mr":se()}],"scroll-mb":[{"scroll-mb":se()}],"scroll-ml":[{"scroll-ml":se()}],"scroll-p":[{"scroll-p":se()}],"scroll-px":[{"scroll-px":se()}],"scroll-py":[{"scroll-py":se()}],"scroll-ps":[{"scroll-ps":se()}],"scroll-pe":[{"scroll-pe":se()}],"scroll-pt":[{"scroll-pt":se()}],"scroll-pr":[{"scroll-pr":se()}],"scroll-pb":[{"scroll-pb":se()}],"scroll-pl":[{"scroll-pl":se()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",mn]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Yo,ja,Ab]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},KT=M2(rM),yx=new Proxy(()=>yx,{get:()=>yx});function pn({use:t,slot:e,variant:n,match:r=[],defaults:i}){return({css:o,...l}={})=>({slots:new Proxy({},{get:(c,d)=>({css:m,...y}={})=>{const _=[],N=t,k={...N?.()?.config.defaults,...i,...l,...y};_.push(N?.(k)?.slots[d]?.(k)),_.push(Array.isArray(e[d])?e[d]:[e[d]]);for(const[q,T]of Object.entries(k)){const A=n[q]?.[T];A&&_.push(A)}for(const q of r)Object.entries(q.if).every(([T,A])=>A===k[T])&&_.push(q.then?.[d]);return _.push(o?.[d]),_.push(m),KT(_)}}),config:{defaults:{...t?.()?.config.defaults,...i},values:{...t?.()?.config.defaults,...i,...l}},type:yx()})}const oi=KT;var jb,o1;function iM(){return o1||(o1=1,jb=Object),jb}var Pb,a1;function sM(){return a1||(a1=1,Pb=Error),Pb}var Fb,l1;function oM(){return l1||(l1=1,Fb=EvalError),Fb}var Lb,c1;function aM(){return c1||(c1=1,Lb=RangeError),Lb}var Db,u1;function lM(){return u1||(u1=1,Db=ReferenceError),Db}var Mb,d1;function cM(){return d1||(d1=1,Mb=SyntaxError),Mb}var Bb,f1;function GT(){return f1||(f1=1,Bb=TypeError),Bb}var $b,p1;function uM(){return p1||(p1=1,$b=URIError),$b}var Wb,h1;function dM(){return h1||(h1=1,Wb=Math.abs),Wb}var zb,m1;function fM(){return m1||(m1=1,zb=Math.floor),zb}var Ub,g1;function pM(){return g1||(g1=1,Ub=Math.max),Ub}var Vb,y1;function hM(){return y1||(y1=1,Vb=Math.min),Vb}var Hb,v1;function mM(){return v1||(v1=1,Hb=Math.pow),Hb}var Qb,b1;function gM(){return b1||(b1=1,Qb=Object.getOwnPropertyDescriptor),Qb}var Kb,_1;function JT(){if(_1)return Kb;_1=1;var t=gM();if(t)try{t([],"length")}catch{t=null}return Kb=t,Kb}var Gb,x1;function yM(){if(x1)return Gb;x1=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return Gb=t,Gb}var Jb,w1;function ZT(){return w1||(w1=1,Jb=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[n]=i;for(var o in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var l=Object.getOwnPropertySymbols(e);if(l.length!==1||l[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(e,n);if(c.value!==i||c.enumerable!==!0)return!1}return!0}),Jb}var Zb,S1;function vM(){if(S1)return Zb;S1=1;var t=typeof Symbol<"u"&&Symbol,e=ZT();return Zb=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Zb}var Yb,E1;function bM(){if(E1)return Yb;E1=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,n=Math.max,r="[object Function]",i=function(d,m){for(var y=[],_=0;_<d.length;_+=1)y[_]=d[_];for(var N=0;N<m.length;N+=1)y[N+d.length]=m[N];return y},o=function(d,m){for(var y=[],_=m,N=0;_<d.length;_+=1,N+=1)y[N]=d[_];return y},l=function(c,d){for(var m="",y=0;y<c.length;y+=1)m+=c[y],y+1<c.length&&(m+=d);return m};return Yb=function(d){var m=this;if(typeof m!="function"||e.apply(m)!==r)throw new TypeError(t+m);for(var y=o(arguments,1),_,N=function(){if(this instanceof _){var D=m.apply(this,i(y,arguments));return Object(D)===D?D:this}return m.apply(d,i(y,arguments))},k=n(0,m.length-y.length),q=[],T=0;T<k;T++)q[T]="$"+T;if(_=Function("binder","return function ("+l(q,",")+"){ return binder.apply(this,arguments); }")(N),m.prototype){var A=function(){};A.prototype=m.prototype,_.prototype=new A,A.prototype=null}return _},Yb}var Xb,N1;function Ug(){if(N1)return Xb;N1=1;var t=bM();return Xb=Function.prototype.bind||t,Xb}var e_,k1;function xw(){return k1||(k1=1,e_=Function.prototype.call),e_}var t_,I1;function YT(){return I1||(I1=1,t_=Function.prototype.apply),t_}var n_,q1;function _M(){return q1||(q1=1,n_=typeof Reflect<"u"&&Reflect&&Reflect.apply),n_}var r_,T1;function xM(){if(T1)return r_;T1=1;var t=Ug(),e=YT(),n=xw(),r=_M();return r_=r||t.call(n,e),r_}var i_,O1;function XT(){if(O1)return i_;O1=1;var t=Ug(),e=GT(),n=xw(),r=xM();return i_=function(o){if(o.length<1||typeof o[0]!="function")throw new e("a function is required");return r(t,n,o)},i_}var s_,C1;function wM(){if(C1)return s_;C1=1;var t=XT(),e=JT(),n;try{n=[].__proto__===Array.prototype}catch(l){if(!l||typeof l!="object"||!("code"in l)||l.code!=="ERR_PROTO_ACCESS")throw l}var r=!!n&&e&&e(Object.prototype,"__proto__"),i=Object,o=i.getPrototypeOf;return s_=r&&typeof r.get=="function"?t([r.get]):typeof o=="function"?function(c){return o(c==null?c:i(c))}:!1,s_}var o_,R1;function SM(){if(R1)return o_;R1=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,n=Ug();return o_=n.call(t,e),o_}var a_,A1;function EM(){if(A1)return a_;A1=1;var t,e=iM(),n=sM(),r=oM(),i=aM(),o=lM(),l=cM(),c=GT(),d=uM(),m=dM(),y=fM(),_=pM(),N=hM(),k=mM(),q=Function,T=function(dt){try{return q('"use strict"; return ('+dt+").constructor;")()}catch{}},A=JT(),D=yM(),P=function(){throw new c},L=A?function(){try{return arguments.callee,P}catch{try{return A(arguments,"callee").get}catch{return P}}}():P,V=vM()(),J=wM(),W=typeof Reflect=="function"&&Reflect.getPrototypeOf||e.getPrototypeOf||J,Z=YT(),oe=xw(),U={},ne=typeof Uint8Array>"u"||!W?t:W(Uint8Array),B={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":V&&W?W([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":U,"%AsyncGenerator%":U,"%AsyncGeneratorFunction%":U,"%AsyncIteratorPrototype%":U,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":r,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":q,"%GeneratorFunction%":U,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":V&&W?W(W([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!V||!W?t:W(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":A,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":i,"%ReferenceError%":o,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!V||!W?t:W(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":V&&W?W(""[Symbol.iterator]()):t,"%Symbol%":V?Symbol:t,"%SyntaxError%":l,"%ThrowTypeError%":L,"%TypedArray%":ne,"%TypeError%":c,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":d,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":oe,"%Function.prototype.apply%":Z,"%Object.defineProperty%":D,"%Math.abs%":m,"%Math.floor%":y,"%Math.max%":_,"%Math.min%":N,"%Math.pow%":k};if(W)try{null.error}catch(dt){var se=W(W(dt));B["%Error.prototype%"]=se}var X=function dt(pt){var vt;if(pt==="%AsyncFunction%")vt=T("async function () {}");else if(pt==="%GeneratorFunction%")vt=T("function* () {}");else if(pt==="%AsyncGeneratorFunction%")vt=T("async function* () {}");else if(pt==="%AsyncGenerator%"){var At=dt("%AsyncGeneratorFunction%");At&&(vt=At.prototype)}else if(pt==="%AsyncIteratorPrototype%"){var mt=dt("%AsyncGenerator%");mt&&W&&(vt=W(mt.prototype))}return B[pt]=vt,vt},fe={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ee=Ug(),Oe=SM(),je=Ee.call(oe,Array.prototype.concat),ve=Ee.call(Z,Array.prototype.splice),pe=Ee.call(oe,String.prototype.replace),Ne=Ee.call(oe,String.prototype.slice),K=Ee.call(oe,RegExp.prototype.exec),xe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ut=/\\(\\)?/g,at=function(pt){var vt=Ne(pt,0,1),At=Ne(pt,-1);if(vt==="%"&&At!=="%")throw new l("invalid intrinsic syntax, expected closing `%`");if(At==="%"&&vt!=="%")throw new l("invalid intrinsic syntax, expected opening `%`");var mt=[];return pe(pt,xe,function(ht,Nt,kt,Yt){mt[mt.length]=kt?pe(Yt,ut,"$1"):Nt||ht}),mt},ft=function(pt,vt){var At=pt,mt;if(Oe(fe,At)&&(mt=fe[At],At="%"+mt[0]+"%"),Oe(B,At)){var ht=B[At];if(ht===U&&(ht=X(At)),typeof ht>"u"&&!vt)throw new c("intrinsic "+pt+" exists, but is not available. Please file an issue!");return{alias:mt,name:At,value:ht}}throw new l("intrinsic "+pt+" does not exist!")};return a_=function(pt,vt){if(typeof pt!="string"||pt.length===0)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof vt!="boolean")throw new c('"allowMissing" argument must be a boolean');if(K(/^%?[^%]*%?$/,pt)===null)throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var At=at(pt),mt=At.length>0?At[0]:"",ht=ft("%"+mt+"%",vt),Nt=ht.name,kt=ht.value,Yt=!1,Kt=ht.alias;Kt&&(mt=Kt[0],ve(At,je([0,1],Kt)));for(var sn=1,hn=!0;sn<At.length;sn+=1){var le=At[sn],ue=Ne(le,0,1),ye=Ne(le,-1);if((ue==='"'||ue==="'"||ue==="`"||ye==='"'||ye==="'"||ye==="`")&&ue!==ye)throw new l("property names with quotes must have matching quotes");if((le==="constructor"||!hn)&&(Yt=!0),mt+="."+le,Nt="%"+mt+"%",Oe(B,Nt))kt=B[Nt];else if(kt!=null){if(!(le in kt)){if(!vt)throw new c("base intrinsic for "+pt+" exists, but the property is not available.");return}if(A&&sn+1>=At.length){var Ce=A(kt,le);hn=!!Ce,hn&&"get"in Ce&&!("originalValue"in Ce.get)?kt=Ce.get:kt=kt[le]}else hn=Oe(kt,le),kt=kt[le];hn&&!Yt&&(B[Nt]=kt)}}return kt},a_}var l_,j1;function NM(){if(j1)return l_;j1=1;var t=EM(),e=XT(),n=e([t("%String.prototype.indexOf%")]);return l_=function(i,o){var l=t(i,!!o);return typeof l=="function"&&n(i,".prototype.")>-1?e([l]):l},l_}var c_,P1;function kM(){if(P1)return c_;P1=1;var t=ZT();return c_=function(){return t()&&!!Symbol.toStringTag},c_}var u_,F1;function IM(){if(F1)return u_;F1=1;var t=NM(),e=t("String.prototype.valueOf"),n=function(c){try{return e(c),!0}catch{return!1}},r=t("Object.prototype.toString"),i="[object String]",o=kM()();return u_=function(c){return typeof c=="string"?!0:!c||typeof c!="object"?!1:o?n(c):r(c)===i},u_}var qM=IM();const TM=Fo(qM),Vg=t=>TM(t),OM=(t,e,n={})=>{const r=[];return t.filter((o,l)=>{const c=n.regionLowerCase?o.toLowerCase():o;if(e.includes(c))return r.push({index:l,appLocale:c}),!0;const{isAvailable:d,appLocale:m}=CM(c,e,n);return d&&r.push({index:l,appLocale:n.regionLowerCase?m.toLowerCase():m}),d}).map((o,l)=>!r||r.length===0?o:r[l]?.appLocale)},CM=(t,e,n={})=>{n?.languageOnly||(n.languageOnly=!1);let r=t;return{isAvailable:e.some(o=>{if(!lm()&&!n.languageOnly&&t.split("-")[1]===void 0)return!1;const l=lm()?new Intl.Locale(t).minimize().language:t.split("-")[0],c=lm()?new Intl.Locale(o).minimize().language:o.split("-")[0],d=l===c;return d&&(r=o),d}),appLocale:r}},RM=(t={})=>{t?.regionLowerCase||(t.regionLowerCase=!1);let e=[];return Intl&&"DateTimeFormat"in Intl?e=[Intl.DateTimeFormat().resolvedOptions().locale]:typeof window=="object"&&window?.navigator?.languages&&(e=[...window.navigator.languages]),e.map(n=>t.regionLowerCase?n.toLowerCase():n)},lm=()=>Intl&&"Locale"in Intl,AM=(t,e={})=>{e?.regionLowerCase||(e.regionLowerCase=!1),e?.languageOnly||(e.languageOnly=!1);const n=t.map(r=>{const i=r.split("-");if(e.languageOnly)return i[0];const o=lm()?new Intl.Locale(r).maximize():{language:i[0],script:i.length===3?i[1]:void 0,region:i.length===3?i[2]:i[1]},{language:l,script:c}=o;let{region:d}=o;return e.regionLowerCase&&d&&(d=d.toLowerCase()),i.length>2?`${l}-${c}-${d}`:d?`${l}-${d}`:l});return[...new Set(n)]},jM=(t,e,n={})=>{n.regionLowerCase||(n.regionLowerCase=!1),n.languageOnly||(n.languageOnly=!1);const r=RM(n),i=AM([...r,t],n);return OM(i,e,n)[0]||t},PM=({available:t,fallback:e})=>jM(e,t,{languageOnly:!0});var d_={exports:{}};const FM={},LM=Object.freeze(Object.defineProperty({__proto__:null,default:FM},Symbol.toStringTag,{value:"Module"})),L1=aA(LM);var D1;function DM(){return D1||(D1=1,function(t){(function(){var e="input is invalid type",n=typeof window=="object",r=n?window:{};r.JS_SHA256_NO_WINDOW&&(n=!1);var i=!n&&typeof self=="object",o=!r.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?r=zl:i&&(r=self);var l=!r.JS_SHA256_NO_COMMON_JS&&!0&&t.exports,c=!r.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",d="0123456789abcdef".split(""),m=[-0x80000000,8388608,32768,128],y=[24,16,8,0],_=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2],N=["hex","array","digest","arrayBuffer"],k=[];(r.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(W){return Object.prototype.toString.call(W)==="[object Array]"}),c&&(r.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(W){return typeof W=="object"&&W.buffer&&W.buffer.constructor===ArrayBuffer});var q=function(W,Z){return function(oe){return new L(Z,!0).update(oe)[W]()}},T=function(W){var Z=q("hex",W);o&&(Z=A(Z,W)),Z.create=function(){return new L(W)},Z.update=function(ne){return Z.create().update(ne)};for(var oe=0;oe<N.length;++oe){var U=N[oe];Z[U]=q(U,W)}return Z},A=function(W,Z){var oe=L1,U=L1.Buffer,ne=Z?"sha224":"sha256",B;U.from&&!r.JS_SHA256_NO_BUFFER_FROM?B=U.from:B=function(X){return new U(X)};var se=function(X){if(typeof X=="string")return oe.createHash(ne).update(X,"utf8").digest("hex");if(X==null)throw new Error(e);return X.constructor===ArrayBuffer&&(X=new Uint8Array(X)),Array.isArray(X)||ArrayBuffer.isView(X)||X.constructor===U?oe.createHash(ne).update(B(X)).digest("hex"):W(X)};return se},D=function(W,Z){return function(oe,U){return new V(oe,Z,!0).update(U)[W]()}},P=function(W){var Z=D("hex",W);Z.create=function(ne){return new V(ne,W)},Z.update=function(ne,B){return Z.create(ne).update(B)};for(var oe=0;oe<N.length;++oe){var U=N[oe];Z[U]=D(U,W)}return Z};function L(W,Z){Z?(k[0]=k[16]=k[1]=k[2]=k[3]=k[4]=k[5]=k[6]=k[7]=k[8]=k[9]=k[10]=k[11]=k[12]=k[13]=k[14]=k[15]=0,this.blocks=k):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],W?(this.h0=0xc1059ed8,this.h1=0x367cd507,this.h2=0x3070dd17,this.h3=0xf70e5939,this.h4=0xffc00b31,this.h5=0x68581511,this.h6=0x64f98fa7,this.h7=0xbefa4fa4):(this.h0=0x6a09e667,this.h1=0xbb67ae85,this.h2=0x3c6ef372,this.h3=0xa54ff53a,this.h4=0x510e527f,this.h5=0x9b05688c,this.h6=0x1f83d9ab,this.h7=0x5be0cd19),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=W}L.prototype.update=function(W){if(!this.finalized){var Z,oe=typeof W;if(oe!=="string"){if(oe==="object"){if(W===null)throw new Error(e);if(c&&W.constructor===ArrayBuffer)W=new Uint8Array(W);else if(!Array.isArray(W)&&(!c||!ArrayBuffer.isView(W)))throw new Error(e)}else throw new Error(e);Z=!0}for(var U,ne=0,B,se=W.length,X=this.blocks;ne<se;){if(this.hashed&&(this.hashed=!1,X[0]=this.block,this.block=X[16]=X[1]=X[2]=X[3]=X[4]=X[5]=X[6]=X[7]=X[8]=X[9]=X[10]=X[11]=X[12]=X[13]=X[14]=X[15]=0),Z)for(B=this.start;ne<se&&B<64;++ne)X[B>>>2]|=W[ne]<<y[B++&3];else for(B=this.start;ne<se&&B<64;++ne)U=W.charCodeAt(ne),U<128?X[B>>>2]|=U<<y[B++&3]:U<2048?(X[B>>>2]|=(192|U>>>6)<<y[B++&3],X[B>>>2]|=(128|U&63)<<y[B++&3]):U<55296||U>=57344?(X[B>>>2]|=(224|U>>>12)<<y[B++&3],X[B>>>2]|=(128|U>>>6&63)<<y[B++&3],X[B>>>2]|=(128|U&63)<<y[B++&3]):(U=65536+((U&1023)<<10|W.charCodeAt(++ne)&1023),X[B>>>2]|=(240|U>>>18)<<y[B++&3],X[B>>>2]|=(128|U>>>12&63)<<y[B++&3],X[B>>>2]|=(128|U>>>6&63)<<y[B++&3],X[B>>>2]|=(128|U&63)<<y[B++&3]);this.lastByteIndex=B,this.bytes+=B-this.start,B>=64?(this.block=X[16],this.start=B-64,this.hash(),this.hashed=!0):this.start=B}return this.bytes>0xffffffff&&(this.hBytes+=this.bytes/0x100000000<<0,this.bytes=this.bytes%0x100000000),this}},L.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var W=this.blocks,Z=this.lastByteIndex;W[16]=this.block,W[Z>>>2]|=m[Z&3],this.block=W[16],Z>=56&&(this.hashed||this.hash(),W[0]=this.block,W[16]=W[1]=W[2]=W[3]=W[4]=W[5]=W[6]=W[7]=W[8]=W[9]=W[10]=W[11]=W[12]=W[13]=W[14]=W[15]=0),W[14]=this.hBytes<<3|this.bytes>>>29,W[15]=this.bytes<<3,this.hash()}},L.prototype.hash=function(){var W=this.h0,Z=this.h1,oe=this.h2,U=this.h3,ne=this.h4,B=this.h5,se=this.h6,X=this.h7,fe=this.blocks,Ee,Oe,je,ve,pe,Ne,K,xe,ut,at,ft;for(Ee=16;Ee<64;++Ee)pe=fe[Ee-15],Oe=(pe>>>7|pe<<25)^(pe>>>18|pe<<14)^pe>>>3,pe=fe[Ee-2],je=(pe>>>17|pe<<15)^(pe>>>19|pe<<13)^pe>>>10,fe[Ee]=fe[Ee-16]+Oe+fe[Ee-7]+je<<0;for(ft=Z&oe,Ee=0;Ee<64;Ee+=4)this.first?(this.is224?(xe=300032,pe=fe[0]-0x543c9a5b,X=pe-0x8f1a6c7<<0,U=pe+0x170e9b5<<0):(xe=0x2a01a605,pe=fe[0]-0xc881298,X=pe-0x5ab00ac6<<0,U=pe+0x8909ae5<<0),this.first=!1):(Oe=(W>>>2|W<<30)^(W>>>13|W<<19)^(W>>>22|W<<10),je=(ne>>>6|ne<<26)^(ne>>>11|ne<<21)^(ne>>>25|ne<<7),xe=W&Z,ve=xe^W&oe^ft,K=ne&B^~ne&se,pe=X+je+K+_[Ee]+fe[Ee],Ne=Oe+ve,X=U+pe<<0,U=pe+Ne<<0),Oe=(U>>>2|U<<30)^(U>>>13|U<<19)^(U>>>22|U<<10),je=(X>>>6|X<<26)^(X>>>11|X<<21)^(X>>>25|X<<7),ut=U&W,ve=ut^U&Z^xe,K=X&ne^~X&B,pe=se+je+K+_[Ee+1]+fe[Ee+1],Ne=Oe+ve,se=oe+pe<<0,oe=pe+Ne<<0,Oe=(oe>>>2|oe<<30)^(oe>>>13|oe<<19)^(oe>>>22|oe<<10),je=(se>>>6|se<<26)^(se>>>11|se<<21)^(se>>>25|se<<7),at=oe&U,ve=at^oe&W^ut,K=se&X^~se&ne,pe=B+je+K+_[Ee+2]+fe[Ee+2],Ne=Oe+ve,B=Z+pe<<0,Z=pe+Ne<<0,Oe=(Z>>>2|Z<<30)^(Z>>>13|Z<<19)^(Z>>>22|Z<<10),je=(B>>>6|B<<26)^(B>>>11|B<<21)^(B>>>25|B<<7),ft=Z&oe,ve=ft^Z&U^at,K=B&se^~B&X,pe=ne+je+K+_[Ee+3]+fe[Ee+3],Ne=Oe+ve,ne=W+pe<<0,W=pe+Ne<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+W<<0,this.h1=this.h1+Z<<0,this.h2=this.h2+oe<<0,this.h3=this.h3+U<<0,this.h4=this.h4+ne<<0,this.h5=this.h5+B<<0,this.h6=this.h6+se<<0,this.h7=this.h7+X<<0},L.prototype.hex=function(){this.finalize();var W=this.h0,Z=this.h1,oe=this.h2,U=this.h3,ne=this.h4,B=this.h5,se=this.h6,X=this.h7,fe=d[W>>>28&15]+d[W>>>24&15]+d[W>>>20&15]+d[W>>>16&15]+d[W>>>12&15]+d[W>>>8&15]+d[W>>>4&15]+d[W&15]+d[Z>>>28&15]+d[Z>>>24&15]+d[Z>>>20&15]+d[Z>>>16&15]+d[Z>>>12&15]+d[Z>>>8&15]+d[Z>>>4&15]+d[Z&15]+d[oe>>>28&15]+d[oe>>>24&15]+d[oe>>>20&15]+d[oe>>>16&15]+d[oe>>>12&15]+d[oe>>>8&15]+d[oe>>>4&15]+d[oe&15]+d[U>>>28&15]+d[U>>>24&15]+d[U>>>20&15]+d[U>>>16&15]+d[U>>>12&15]+d[U>>>8&15]+d[U>>>4&15]+d[U&15]+d[ne>>>28&15]+d[ne>>>24&15]+d[ne>>>20&15]+d[ne>>>16&15]+d[ne>>>12&15]+d[ne>>>8&15]+d[ne>>>4&15]+d[ne&15]+d[B>>>28&15]+d[B>>>24&15]+d[B>>>20&15]+d[B>>>16&15]+d[B>>>12&15]+d[B>>>8&15]+d[B>>>4&15]+d[B&15]+d[se>>>28&15]+d[se>>>24&15]+d[se>>>20&15]+d[se>>>16&15]+d[se>>>12&15]+d[se>>>8&15]+d[se>>>4&15]+d[se&15];return this.is224||(fe+=d[X>>>28&15]+d[X>>>24&15]+d[X>>>20&15]+d[X>>>16&15]+d[X>>>12&15]+d[X>>>8&15]+d[X>>>4&15]+d[X&15]),fe},L.prototype.toString=L.prototype.hex,L.prototype.digest=function(){this.finalize();var W=this.h0,Z=this.h1,oe=this.h2,U=this.h3,ne=this.h4,B=this.h5,se=this.h6,X=this.h7,fe=[W>>>24&255,W>>>16&255,W>>>8&255,W&255,Z>>>24&255,Z>>>16&255,Z>>>8&255,Z&255,oe>>>24&255,oe>>>16&255,oe>>>8&255,oe&255,U>>>24&255,U>>>16&255,U>>>8&255,U&255,ne>>>24&255,ne>>>16&255,ne>>>8&255,ne&255,B>>>24&255,B>>>16&255,B>>>8&255,B&255,se>>>24&255,se>>>16&255,se>>>8&255,se&255];return this.is224||fe.push(X>>>24&255,X>>>16&255,X>>>8&255,X&255),fe},L.prototype.array=L.prototype.digest,L.prototype.arrayBuffer=function(){this.finalize();var W=new ArrayBuffer(this.is224?28:32),Z=new DataView(W);return Z.setUint32(0,this.h0),Z.setUint32(4,this.h1),Z.setUint32(8,this.h2),Z.setUint32(12,this.h3),Z.setUint32(16,this.h4),Z.setUint32(20,this.h5),Z.setUint32(24,this.h6),this.is224||Z.setUint32(28,this.h7),W};function V(W,Z,oe){var U,ne=typeof W;if(ne==="string"){var B=[],se=W.length,X=0,fe;for(U=0;U<se;++U)fe=W.charCodeAt(U),fe<128?B[X++]=fe:fe<2048?(B[X++]=192|fe>>>6,B[X++]=128|fe&63):fe<55296||fe>=57344?(B[X++]=224|fe>>>12,B[X++]=128|fe>>>6&63,B[X++]=128|fe&63):(fe=65536+((fe&1023)<<10|W.charCodeAt(++U)&1023),B[X++]=240|fe>>>18,B[X++]=128|fe>>>12&63,B[X++]=128|fe>>>6&63,B[X++]=128|fe&63);W=B}else if(ne==="object"){if(W===null)throw new Error(e);if(c&&W.constructor===ArrayBuffer)W=new Uint8Array(W);else if(!Array.isArray(W)&&(!c||!ArrayBuffer.isView(W)))throw new Error(e)}else throw new Error(e);W.length>64&&(W=new L(Z,!0).update(W).array());var Ee=[],Oe=[];for(U=0;U<64;++U){var je=W[U]||0;Ee[U]=92^je,Oe[U]=54^je}L.call(this,Z,oe),this.update(Oe),this.oKeyPad=Ee,this.inner=!0,this.sharedMemory=oe}V.prototype=new L,V.prototype.finalize=function(){if(L.prototype.finalize.call(this),this.inner){this.inner=!1;var W=this.array();L.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(W),L.prototype.finalize.call(this)}};var J=T();J.sha256=J,J.sha224=T(!0),J.sha256.hmac=P(),J.sha224.hmac=P(!0),l?t.exports=J:(r.sha256=J.sha256,r.sha224=J.sha224)})()}(d_)),d_.exports}var vx=DM();const MM=vx.sha224,eO=({index:t,key:e,fallback:n})=>t[MM(e)]?.value??t[e]?.value??n??e,BM=({index:t,key:e,fallback:n})=>eO({index:t,key:e,fallback:n}),$M=({index:t,key:e,fallback:n})=>eO({index:t,key:e,fallback:n}),nl={index:{},push(t){this.index={...this.index,...t}},text:(t,e)=>BM({index:nl.index,key:t,fallback:e}),rich:(t,e)=>$M({index:nl.index,key:t,fallback:e})},tO={hash(t){return vx.sha224(t)},verify(t,e){return vx.sha224(t)===e}};var xn;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const o={};for(const l of i)o[l]=l;return o},t.getValidEnumValues=i=>{const o=t.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),l={};for(const c of o)l[c]=i[c];return t.objectValues(l)},t.objectValues=i=>t.objectKeys(i).map(function(o){return i[o]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&o.push(l);return o},t.find=(i,o)=>{for(const l of i)if(o(l))return l},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(l=>typeof l=="string"?`'${l}'`:l).join(o)}t.joinValues=r,t.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(xn||(xn={}));var bx;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(bx||(bx={}));const Ot=xn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),sa=t=>{switch(typeof t){case"undefined":return Ot.undefined;case"string":return Ot.string;case"number":return isNaN(t)?Ot.nan:Ot.number;case"boolean":return Ot.boolean;case"function":return Ot.function;case"bigint":return Ot.bigint;case"symbol":return Ot.symbol;case"object":return Array.isArray(t)?Ot.array:t===null?Ot.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ot.promise:typeof Map<"u"&&t instanceof Map?Ot.map:typeof Set<"u"&&t instanceof Set?Ot.set:typeof Date<"u"&&t instanceof Date?Ot.date:Ot.object;default:return Ot.unknown}},ot=xn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),WM=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class ss extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(o){return o.message},r={_errors:[]},i=o=>{for(const l of o.issues)if(l.code==="invalid_union")l.unionErrors.map(i);else if(l.code==="invalid_return_type")i(l.returnTypeError);else if(l.code==="invalid_arguments")i(l.argumentsError);else if(l.path.length===0)r._errors.push(n(l));else{let c=r,d=0;for(;d<l.path.length;){const m=l.path[d];d===l.path.length-1?(c[m]=c[m]||{_errors:[]},c[m]._errors.push(n(l))):c[m]=c[m]||{_errors:[]},c=c[m],d++}}};return i(this),r}static assert(e){if(!(e instanceof ss))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,xn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}ss.create=t=>new ss(t);const Iu=(t,e)=>{let n;switch(t.code){case ot.invalid_type:t.received===Ot.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case ot.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,xn.jsonStringifyReplacer)}`;break;case ot.unrecognized_keys:n=`Unrecognized key(s) in object: ${xn.joinValues(t.keys,", ")}`;break;case ot.invalid_union:n="Invalid input";break;case ot.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${xn.joinValues(t.options)}`;break;case ot.invalid_enum_value:n=`Invalid enum value. Expected ${xn.joinValues(t.options)}, received '${t.received}'`;break;case ot.invalid_arguments:n="Invalid function arguments";break;case ot.invalid_return_type:n="Invalid function return type";break;case ot.invalid_date:n="Invalid date";break;case ot.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:xn.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case ot.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case ot.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case ot.custom:n="Invalid input";break;case ot.invalid_intersection_types:n="Intersection results could not be merged";break;case ot.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case ot.not_finite:n="Number must be finite";break;default:n=e.defaultError,xn.assertNever(t)}return{message:n}};let nO=Iu;function zM(t){nO=t}function Vm(){return nO}const Hm=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,o=[...n,...i.path||[]],l={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let c="";const d=r.filter(m=>!!m).slice().reverse();for(const m of d)c=m(l,{data:e,defaultError:c}).message;return{...i,path:o,message:c}},UM=[];function St(t,e){const n=Vm(),r=Hm({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Iu?void 0:Iu].filter(i=>!!i)});t.common.issues.push(r)}class di{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Xt;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const o=await i.key,l=await i.value;r.push({key:o,value:l})}return di.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:o,value:l}=i;if(o.status==="aborted"||l.status==="aborted")return Xt;o.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof l.value<"u"||i.alwaysSet)&&(r[o.value]=l.value)}return{status:e.value,value:r}}}const Xt=Object.freeze({status:"aborted"}),iu=t=>({status:"dirty",value:t}),Si=t=>({status:"valid",value:t}),_x=t=>t.status==="aborted",xx=t=>t.status==="dirty",tc=t=>t.status==="valid",xf=t=>typeof Promise<"u"&&t instanceof Promise;function Qm(t,e,n,r){if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function rO(t,e,n,r,i){if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var Bt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Bt||(Bt={}));var Jd,Zd;class qo{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const M1=(t,e)=>{if(tc(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ss(t.common.issues);return this._error=n,this._error}}};function fn(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(l,c)=>{var d,m;const{message:y}=t;return l.code==="invalid_enum_value"?{message:y??c.defaultError}:typeof c.data>"u"?{message:(d=y??r)!==null&&d!==void 0?d:c.defaultError}:l.code!=="invalid_type"?{message:c.defaultError}:{message:(m=y??n)!==null&&m!==void 0?m:c.defaultError}},description:i}}class bn{get description(){return this._def.description}_getType(e){return sa(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:sa(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new di,ctx:{common:e.parent.common,data:e.data,parsedType:sa(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(xf(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:sa(e)},o=this._parseSync({data:e,path:i.path,parent:i});return M1(i,o)}"~validate"(e){var n,r;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:sa(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:i});return tc(o)?{value:o.value}:{issues:i.common.issues}}catch(o){!((r=(n=o?.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(o=>tc(o)?{value:o.value}:{issues:i.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:sa(e)},i=this._parse({data:e,path:r.path,parent:r}),o=await (xf(i)?i:Promise.resolve(i));return M1(r,o)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{const l=e(i),c=()=>o.addIssue({code:ot.custom,...r(i)});return typeof Promise<"u"&&l instanceof Promise?l.then(d=>d?!0:(c(),!1)):l?!0:(c(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new so({schema:this,typeName:Jt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return ko.create(this,this._def)}nullable(){return ol.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return no.create(this)}promise(){return Tu.create(this,this._def)}or(e){return Nf.create([this,e],this._def)}and(e){return kf.create(this,e,this._def)}transform(e){return new so({...fn(this._def),schema:this,typeName:Jt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Cf({...fn(this._def),innerType:this,defaultValue:n,typeName:Jt.ZodDefault})}brand(){return new ww({typeName:Jt.ZodBranded,type:this,...fn(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Rf({...fn(this._def),innerType:this,catchValue:n,typeName:Jt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return np.create(this,e)}readonly(){return Af.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const VM=/^c[^\s-]{8,}$/i,HM=/^[0-9a-z]+$/,QM=/^[0-9A-HJKMNP-TV-Z]{26}$/i,KM=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,GM=/^[a-z0-9_-]{21}$/i,JM=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ZM=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,YM=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,XM="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let f_;const eB=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,tB=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,nB=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,rB=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,iB=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,sB=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,iO="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",oB=new RegExp(`^${iO}$`);function sO(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function aB(t){return new RegExp(`^${sO(t)}$`)}function oO(t){let e=`${iO}T${sO(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function lB(t,e){return!!((e==="v4"||!e)&&eB.test(t)||(e==="v6"||!e)&&nB.test(t))}function cB(t,e){if(!JM.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function uB(t,e){return!!((e==="v4"||!e)&&tB.test(t)||(e==="v6"||!e)&&rB.test(t))}class to extends bn{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ot.string){const o=this._getOrReturnCtx(e);return St(o,{code:ot.invalid_type,expected:Ot.string,received:o.parsedType}),Xt}const r=new di;let i;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(i=this._getOrReturnCtx(e,i),St(i,{code:ot.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")e.data.length>o.value&&(i=this._getOrReturnCtx(e,i),St(i,{code:ot.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const l=e.data.length>o.value,c=e.data.length<o.value;(l||c)&&(i=this._getOrReturnCtx(e,i),l?St(i,{code:ot.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):c&&St(i,{code:ot.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")YM.test(e.data)||(i=this._getOrReturnCtx(e,i),St(i,{validation:"email",code:ot.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")f_||(f_=new RegExp(XM,"u")),f_.test(e.data)||(i=this._getOrReturnCtx(e,i),St(i,{validation:"emoji",code:ot.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")KM.test(e.data)||(i=this._getOrReturnCtx(e,i),St(i,{validation:"uuid",code:ot.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")GM.test(e.data)||(i=this._getOrReturnCtx(e,i),St(i,{validation:"nanoid",code:ot.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")VM.test(e.data)||(i=this._getOrReturnCtx(e,i),St(i,{validation:"cuid",code:ot.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")HM.test(e.data)||(i=this._getOrReturnCtx(e,i),St(i,{validation:"cuid2",code:ot.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")QM.test(e.data)||(i=this._getOrReturnCtx(e,i),St(i,{validation:"ulid",code:ot.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),St(i,{validation:"url",code:ot.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),St(i,{validation:"regex",code:ot.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(e,i),St(i,{code:ot.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(i=this._getOrReturnCtx(e,i),St(i,{code:ot.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(i=this._getOrReturnCtx(e,i),St(i,{code:ot.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?oO(o).test(e.data)||(i=this._getOrReturnCtx(e,i),St(i,{code:ot.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?oB.test(e.data)||(i=this._getOrReturnCtx(e,i),St(i,{code:ot.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?aB(o).test(e.data)||(i=this._getOrReturnCtx(e,i),St(i,{code:ot.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?ZM.test(e.data)||(i=this._getOrReturnCtx(e,i),St(i,{validation:"duration",code:ot.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?lB(e.data,o.version)||(i=this._getOrReturnCtx(e,i),St(i,{validation:"ip",code:ot.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?cB(e.data,o.alg)||(i=this._getOrReturnCtx(e,i),St(i,{validation:"jwt",code:ot.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?uB(e.data,o.version)||(i=this._getOrReturnCtx(e,i),St(i,{validation:"cidr",code:ot.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?iB.test(e.data)||(i=this._getOrReturnCtx(e,i),St(i,{validation:"base64",code:ot.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?sB.test(e.data)||(i=this._getOrReturnCtx(e,i),St(i,{validation:"base64url",code:ot.invalid_string,message:o.message}),r.dirty()):xn.assertNever(o);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:ot.invalid_string,...Bt.errToObj(r)})}_addCheck(e){return new to({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Bt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Bt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Bt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Bt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Bt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Bt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Bt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Bt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Bt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Bt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Bt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Bt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Bt.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(n=e?.offset)!==null&&n!==void 0?n:!1,local:(r=e?.local)!==null&&r!==void 0?r:!1,...Bt.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Bt.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Bt.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Bt.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...Bt.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Bt.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Bt.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Bt.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Bt.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Bt.errToObj(n)})}nonempty(e){return this.min(1,Bt.errToObj(e))}trim(){return new to({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new to({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new to({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}to.create=t=>{var e;return new to({checks:[],typeName:Jt.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...fn(t)})};function dB(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,o=parseInt(t.toFixed(i).replace(".","")),l=parseInt(e.toFixed(i).replace(".",""));return o%l/Math.pow(10,i)}class rl extends bn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ot.number){const o=this._getOrReturnCtx(e);return St(o,{code:ot.invalid_type,expected:Ot.number,received:o.parsedType}),Xt}let r;const i=new di;for(const o of this._def.checks)o.kind==="int"?xn.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),St(r,{code:ot.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),St(r,{code:ot.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),St(r,{code:ot.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?dB(e.data,o.value)!==0&&(r=this._getOrReturnCtx(e,r),St(r,{code:ot.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),St(r,{code:ot.not_finite,message:o.message}),i.dirty()):xn.assertNever(o);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Bt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Bt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Bt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Bt.toString(n))}setLimit(e,n,r,i){return new rl({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Bt.toString(i)}]})}_addCheck(e){return new rl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Bt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Bt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Bt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Bt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Bt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Bt.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Bt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Bt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Bt.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&xn.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}rl.create=t=>new rl({checks:[],typeName:Jt.ZodNumber,coerce:t?.coerce||!1,...fn(t)});class il extends bn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ot.bigint)return this._getInvalidInput(e);let r;const i=new di;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),St(r,{code:ot.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),St(r,{code:ot.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),St(r,{code:ot.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):xn.assertNever(o);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return St(n,{code:ot.invalid_type,expected:Ot.bigint,received:n.parsedType}),Xt}gte(e,n){return this.setLimit("min",e,!0,Bt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Bt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Bt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Bt.toString(n))}setLimit(e,n,r,i){return new il({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Bt.toString(i)}]})}_addCheck(e){return new il({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Bt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Bt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Bt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Bt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Bt.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}il.create=t=>{var e;return new il({checks:[],typeName:Jt.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...fn(t)})};class wf extends bn{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ot.boolean){const r=this._getOrReturnCtx(e);return St(r,{code:ot.invalid_type,expected:Ot.boolean,received:r.parsedType}),Xt}return Si(e.data)}}wf.create=t=>new wf({typeName:Jt.ZodBoolean,coerce:t?.coerce||!1,...fn(t)});class nc extends bn{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ot.date){const o=this._getOrReturnCtx(e);return St(o,{code:ot.invalid_type,expected:Ot.date,received:o.parsedType}),Xt}if(isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return St(o,{code:ot.invalid_date}),Xt}const r=new di;let i;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(i=this._getOrReturnCtx(e,i),St(i,{code:ot.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(i=this._getOrReturnCtx(e,i),St(i,{code:ot.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):xn.assertNever(o);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new nc({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Bt.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Bt.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}nc.create=t=>new nc({checks:[],coerce:t?.coerce||!1,typeName:Jt.ZodDate,...fn(t)});class Km extends bn{_parse(e){if(this._getType(e)!==Ot.symbol){const r=this._getOrReturnCtx(e);return St(r,{code:ot.invalid_type,expected:Ot.symbol,received:r.parsedType}),Xt}return Si(e.data)}}Km.create=t=>new Km({typeName:Jt.ZodSymbol,...fn(t)});class Sf extends bn{_parse(e){if(this._getType(e)!==Ot.undefined){const r=this._getOrReturnCtx(e);return St(r,{code:ot.invalid_type,expected:Ot.undefined,received:r.parsedType}),Xt}return Si(e.data)}}Sf.create=t=>new Sf({typeName:Jt.ZodUndefined,...fn(t)});class Ef extends bn{_parse(e){if(this._getType(e)!==Ot.null){const r=this._getOrReturnCtx(e);return St(r,{code:ot.invalid_type,expected:Ot.null,received:r.parsedType}),Xt}return Si(e.data)}}Ef.create=t=>new Ef({typeName:Jt.ZodNull,...fn(t)});class qu extends bn{constructor(){super(...arguments),this._any=!0}_parse(e){return Si(e.data)}}qu.create=t=>new qu({typeName:Jt.ZodAny,...fn(t)});class Zl extends bn{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Si(e.data)}}Zl.create=t=>new Zl({typeName:Jt.ZodUnknown,...fn(t)});class da extends bn{_parse(e){const n=this._getOrReturnCtx(e);return St(n,{code:ot.invalid_type,expected:Ot.never,received:n.parsedType}),Xt}}da.create=t=>new da({typeName:Jt.ZodNever,...fn(t)});class Gm extends bn{_parse(e){if(this._getType(e)!==Ot.undefined){const r=this._getOrReturnCtx(e);return St(r,{code:ot.invalid_type,expected:Ot.void,received:r.parsedType}),Xt}return Si(e.data)}}Gm.create=t=>new Gm({typeName:Jt.ZodVoid,...fn(t)});class no extends bn{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==Ot.array)return St(n,{code:ot.invalid_type,expected:Ot.array,received:n.parsedType}),Xt;if(i.exactLength!==null){const l=n.data.length>i.exactLength.value,c=n.data.length<i.exactLength.value;(l||c)&&(St(n,{code:l?ot.too_big:ot.too_small,minimum:c?i.exactLength.value:void 0,maximum:l?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(St(n,{code:ot.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(St(n,{code:ot.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((l,c)=>i.type._parseAsync(new qo(n,l,n.path,c)))).then(l=>di.mergeArray(r,l));const o=[...n.data].map((l,c)=>i.type._parseSync(new qo(n,l,n.path,c)));return di.mergeArray(r,o)}get element(){return this._def.type}min(e,n){return new no({...this._def,minLength:{value:e,message:Bt.toString(n)}})}max(e,n){return new no({...this._def,maxLength:{value:e,message:Bt.toString(n)}})}length(e,n){return new no({...this._def,exactLength:{value:e,message:Bt.toString(n)}})}nonempty(e){return this.min(1,e)}}no.create=(t,e)=>new no({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Jt.ZodArray,...fn(e)});function eu(t){if(t instanceof hr){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=ko.create(eu(r))}return new hr({...t._def,shape:()=>e})}else return t instanceof no?new no({...t._def,type:eu(t.element)}):t instanceof ko?ko.create(eu(t.unwrap())):t instanceof ol?ol.create(eu(t.unwrap())):t instanceof To?To.create(t.items.map(e=>eu(e))):t}class hr extends bn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=xn.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==Ot.object){const m=this._getOrReturnCtx(e);return St(m,{code:ot.invalid_type,expected:Ot.object,received:m.parsedType}),Xt}const{status:r,ctx:i}=this._processInputParams(e),{shape:o,keys:l}=this._getCached(),c=[];if(!(this._def.catchall instanceof da&&this._def.unknownKeys==="strip"))for(const m in i.data)l.includes(m)||c.push(m);const d=[];for(const m of l){const y=o[m],_=i.data[m];d.push({key:{status:"valid",value:m},value:y._parse(new qo(i,_,i.path,m)),alwaysSet:m in i.data})}if(this._def.catchall instanceof da){const m=this._def.unknownKeys;if(m==="passthrough")for(const y of c)d.push({key:{status:"valid",value:y},value:{status:"valid",value:i.data[y]}});else if(m==="strict")c.length>0&&(St(i,{code:ot.unrecognized_keys,keys:c}),r.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const y of c){const _=i.data[y];d.push({key:{status:"valid",value:y},value:m._parse(new qo(i,_,i.path,y)),alwaysSet:y in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const m=[];for(const y of d){const _=await y.key,N=await y.value;m.push({key:_,value:N,alwaysSet:y.alwaysSet})}return m}).then(m=>di.mergeObjectSync(r,m)):di.mergeObjectSync(r,d)}get shape(){return this._def.shape()}strict(e){return Bt.errToObj,new hr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,o,l,c;const d=(l=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,n,r).message)!==null&&l!==void 0?l:r.defaultError;return n.code==="unrecognized_keys"?{message:(c=Bt.errToObj(e).message)!==null&&c!==void 0?c:d}:{message:d}}}:{}})}strip(){return new hr({...this._def,unknownKeys:"strip"})}passthrough(){return new hr({...this._def,unknownKeys:"passthrough"})}extend(e){return new hr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new hr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Jt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new hr({...this._def,catchall:e})}pick(e){const n={};return xn.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new hr({...this._def,shape:()=>n})}omit(e){const n={};return xn.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new hr({...this._def,shape:()=>n})}deepPartial(){return eu(this)}partial(e){const n={};return xn.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new hr({...this._def,shape:()=>n})}required(e){const n={};return xn.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof ko;)o=o._def.innerType;n[r]=o}}),new hr({...this._def,shape:()=>n})}keyof(){return aO(xn.objectKeys(this.shape))}}hr.create=(t,e)=>new hr({shape:()=>t,unknownKeys:"strip",catchall:da.create(),typeName:Jt.ZodObject,...fn(e)});hr.strictCreate=(t,e)=>new hr({shape:()=>t,unknownKeys:"strict",catchall:da.create(),typeName:Jt.ZodObject,...fn(e)});hr.lazycreate=(t,e)=>new hr({shape:t,unknownKeys:"strip",catchall:da.create(),typeName:Jt.ZodObject,...fn(e)});class Nf extends bn{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(o){for(const c of o)if(c.result.status==="valid")return c.result;for(const c of o)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const l=o.map(c=>new ss(c.ctx.common.issues));return St(n,{code:ot.invalid_union,unionErrors:l}),Xt}if(n.common.async)return Promise.all(r.map(async o=>{const l={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:l}),ctx:l}})).then(i);{let o;const l=[];for(const d of r){const m={...n,common:{...n.common,issues:[]},parent:null},y=d._parseSync({data:n.data,path:n.path,parent:m});if(y.status==="valid")return y;y.status==="dirty"&&!o&&(o={result:y,ctx:m}),m.common.issues.length&&l.push(m.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const c=l.map(d=>new ss(d));return St(n,{code:ot.invalid_union,unionErrors:c}),Xt}}get options(){return this._def.options}}Nf.create=(t,e)=>new Nf({options:t,typeName:Jt.ZodUnion,...fn(e)});const na=t=>t instanceof qf?na(t.schema):t instanceof so?na(t.innerType()):t instanceof Tf?[t.value]:t instanceof sl?t.options:t instanceof Of?xn.objectValues(t.enum):t instanceof Cf?na(t._def.innerType):t instanceof Sf?[void 0]:t instanceof Ef?[null]:t instanceof ko?[void 0,...na(t.unwrap())]:t instanceof ol?[null,...na(t.unwrap())]:t instanceof ww||t instanceof Af?na(t.unwrap()):t instanceof Rf?na(t._def.innerType):[];class Hg extends bn{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ot.object)return St(n,{code:ot.invalid_type,expected:Ot.object,received:n.parsedType}),Xt;const r=this.discriminator,i=n.data[r],o=this.optionsMap.get(i);return o?n.common.async?o._parseAsync({data:n.data,path:n.path,parent:n}):o._parseSync({data:n.data,path:n.path,parent:n}):(St(n,{code:ot.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Xt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const o of n){const l=na(o.shape[e]);if(!l.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const c of l){if(i.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);i.set(c,o)}}return new Hg({typeName:Jt.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...fn(r)})}}function wx(t,e){const n=sa(t),r=sa(e);if(t===e)return{valid:!0,data:t};if(n===Ot.object&&r===Ot.object){const i=xn.objectKeys(e),o=xn.objectKeys(t).filter(c=>i.indexOf(c)!==-1),l={...t,...e};for(const c of o){const d=wx(t[c],e[c]);if(!d.valid)return{valid:!1};l[c]=d.data}return{valid:!0,data:l}}else if(n===Ot.array&&r===Ot.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let o=0;o<t.length;o++){const l=t[o],c=e[o],d=wx(l,c);if(!d.valid)return{valid:!1};i.push(d.data)}return{valid:!0,data:i}}else return n===Ot.date&&r===Ot.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class kf extends bn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(o,l)=>{if(_x(o)||_x(l))return Xt;const c=wx(o.value,l.value);return c.valid?((xx(o)||xx(l))&&n.dirty(),{status:n.value,value:c.data}):(St(r,{code:ot.invalid_intersection_types}),Xt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,l])=>i(o,l)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}kf.create=(t,e,n)=>new kf({left:t,right:e,typeName:Jt.ZodIntersection,...fn(n)});class To extends bn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ot.array)return St(r,{code:ot.invalid_type,expected:Ot.array,received:r.parsedType}),Xt;if(r.data.length<this._def.items.length)return St(r,{code:ot.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Xt;!this._def.rest&&r.data.length>this._def.items.length&&(St(r,{code:ot.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((l,c)=>{const d=this._def.items[c]||this._def.rest;return d?d._parse(new qo(r,l,r.path,c)):null}).filter(l=>!!l);return r.common.async?Promise.all(o).then(l=>di.mergeArray(n,l)):di.mergeArray(n,o)}get items(){return this._def.items}rest(e){return new To({...this._def,rest:e})}}To.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new To({items:t,typeName:Jt.ZodTuple,rest:null,...fn(e)})};class If extends bn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ot.object)return St(r,{code:ot.invalid_type,expected:Ot.object,received:r.parsedType}),Xt;const i=[],o=this._def.keyType,l=this._def.valueType;for(const c in r.data)i.push({key:o._parse(new qo(r,c,r.path,c)),value:l._parse(new qo(r,r.data[c],r.path,c)),alwaysSet:c in r.data});return r.common.async?di.mergeObjectAsync(n,i):di.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof bn?new If({keyType:e,valueType:n,typeName:Jt.ZodRecord,...fn(r)}):new If({keyType:to.create(),valueType:e,typeName:Jt.ZodRecord,...fn(n)})}}class Jm extends bn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ot.map)return St(r,{code:ot.invalid_type,expected:Ot.map,received:r.parsedType}),Xt;const i=this._def.keyType,o=this._def.valueType,l=[...r.data.entries()].map(([c,d],m)=>({key:i._parse(new qo(r,c,r.path,[m,"key"])),value:o._parse(new qo(r,d,r.path,[m,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const d of l){const m=await d.key,y=await d.value;if(m.status==="aborted"||y.status==="aborted")return Xt;(m.status==="dirty"||y.status==="dirty")&&n.dirty(),c.set(m.value,y.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const d of l){const m=d.key,y=d.value;if(m.status==="aborted"||y.status==="aborted")return Xt;(m.status==="dirty"||y.status==="dirty")&&n.dirty(),c.set(m.value,y.value)}return{status:n.value,value:c}}}}Jm.create=(t,e,n)=>new Jm({valueType:e,keyType:t,typeName:Jt.ZodMap,...fn(n)});class rc extends bn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ot.set)return St(r,{code:ot.invalid_type,expected:Ot.set,received:r.parsedType}),Xt;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(St(r,{code:ot.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(St(r,{code:ot.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const o=this._def.valueType;function l(d){const m=new Set;for(const y of d){if(y.status==="aborted")return Xt;y.status==="dirty"&&n.dirty(),m.add(y.value)}return{status:n.value,value:m}}const c=[...r.data.values()].map((d,m)=>o._parse(new qo(r,d,r.path,m)));return r.common.async?Promise.all(c).then(d=>l(d)):l(c)}min(e,n){return new rc({...this._def,minSize:{value:e,message:Bt.toString(n)}})}max(e,n){return new rc({...this._def,maxSize:{value:e,message:Bt.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}rc.create=(t,e)=>new rc({valueType:t,minSize:null,maxSize:null,typeName:Jt.ZodSet,...fn(e)});class hu extends bn{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ot.function)return St(n,{code:ot.invalid_type,expected:Ot.function,received:n.parsedType}),Xt;function r(c,d){return Hm({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Vm(),Iu].filter(m=>!!m),issueData:{code:ot.invalid_arguments,argumentsError:d}})}function i(c,d){return Hm({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Vm(),Iu].filter(m=>!!m),issueData:{code:ot.invalid_return_type,returnTypeError:d}})}const o={errorMap:n.common.contextualErrorMap},l=n.data;if(this._def.returns instanceof Tu){const c=this;return Si(async function(...d){const m=new ss([]),y=await c._def.args.parseAsync(d,o).catch(k=>{throw m.addIssue(r(d,k)),m}),_=await Reflect.apply(l,this,y);return await c._def.returns._def.type.parseAsync(_,o).catch(k=>{throw m.addIssue(i(_,k)),m})})}else{const c=this;return Si(function(...d){const m=c._def.args.safeParse(d,o);if(!m.success)throw new ss([r(d,m.error)]);const y=Reflect.apply(l,this,m.data),_=c._def.returns.safeParse(y,o);if(!_.success)throw new ss([i(y,_.error)]);return _.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new hu({...this._def,args:To.create(e).rest(Zl.create())})}returns(e){return new hu({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new hu({args:e||To.create([]).rest(Zl.create()),returns:n||Zl.create(),typeName:Jt.ZodFunction,...fn(r)})}}class qf extends bn{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}qf.create=(t,e)=>new qf({getter:t,typeName:Jt.ZodLazy,...fn(e)});class Tf extends bn{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return St(n,{received:n.data,code:ot.invalid_literal,expected:this._def.value}),Xt}return{status:"valid",value:e.data}}get value(){return this._def.value}}Tf.create=(t,e)=>new Tf({value:t,typeName:Jt.ZodLiteral,...fn(e)});function aO(t,e){return new sl({values:t,typeName:Jt.ZodEnum,...fn(e)})}class sl extends bn{constructor(){super(...arguments),Jd.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return St(n,{expected:xn.joinValues(r),received:n.parsedType,code:ot.invalid_type}),Xt}if(Qm(this,Jd)||rO(this,Jd,new Set(this._def.values)),!Qm(this,Jd).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return St(n,{received:n.data,code:ot.invalid_enum_value,options:r}),Xt}return Si(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return sl.create(e,{...this._def,...n})}exclude(e,n=this._def){return sl.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Jd=new WeakMap;sl.create=aO;class Of extends bn{constructor(){super(...arguments),Zd.set(this,void 0)}_parse(e){const n=xn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Ot.string&&r.parsedType!==Ot.number){const i=xn.objectValues(n);return St(r,{expected:xn.joinValues(i),received:r.parsedType,code:ot.invalid_type}),Xt}if(Qm(this,Zd)||rO(this,Zd,new Set(xn.getValidEnumValues(this._def.values))),!Qm(this,Zd).has(e.data)){const i=xn.objectValues(n);return St(r,{received:r.data,code:ot.invalid_enum_value,options:i}),Xt}return Si(e.data)}get enum(){return this._def.values}}Zd=new WeakMap;Of.create=(t,e)=>new Of({values:t,typeName:Jt.ZodNativeEnum,...fn(e)});class Tu extends bn{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ot.promise&&n.common.async===!1)return St(n,{code:ot.invalid_type,expected:Ot.promise,received:n.parsedType}),Xt;const r=n.parsedType===Ot.promise?n.data:Promise.resolve(n.data);return Si(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Tu.create=(t,e)=>new Tu({type:t,typeName:Jt.ZodPromise,...fn(e)});class so extends bn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Jt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,o={addIssue:l=>{St(r,l),l.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const l=i.transform(r.data,o);if(r.common.async)return Promise.resolve(l).then(async c=>{if(n.value==="aborted")return Xt;const d=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return d.status==="aborted"?Xt:d.status==="dirty"||n.value==="dirty"?iu(d.value):d});{if(n.value==="aborted")return Xt;const c=this._def.schema._parseSync({data:l,path:r.path,parent:r});return c.status==="aborted"?Xt:c.status==="dirty"||n.value==="dirty"?iu(c.value):c}}if(i.type==="refinement"){const l=c=>{const d=i.refinement(c,o);if(r.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?Xt:(c.status==="dirty"&&n.dirty(),l(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?Xt:(c.status==="dirty"&&n.dirty(),l(c.value).then(()=>({status:n.value,value:c.value}))))}if(i.type==="transform")if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!tc(l))return l;const c=i.transform(l.value,o);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>tc(l)?Promise.resolve(i.transform(l.value,o)).then(c=>({status:n.value,value:c})):l);xn.assertNever(i)}}so.create=(t,e,n)=>new so({schema:t,typeName:Jt.ZodEffects,effect:e,...fn(n)});so.createWithPreprocess=(t,e,n)=>new so({schema:e,effect:{type:"preprocess",transform:t},typeName:Jt.ZodEffects,...fn(n)});class ko extends bn{_parse(e){return this._getType(e)===Ot.undefined?Si(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ko.create=(t,e)=>new ko({innerType:t,typeName:Jt.ZodOptional,...fn(e)});class ol extends bn{_parse(e){return this._getType(e)===Ot.null?Si(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ol.create=(t,e)=>new ol({innerType:t,typeName:Jt.ZodNullable,...fn(e)});class Cf extends bn{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Ot.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Cf.create=(t,e)=>new Cf({innerType:t,typeName:Jt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...fn(e)});class Rf extends bn{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return xf(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new ss(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ss(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Rf.create=(t,e)=>new Rf({innerType:t,typeName:Jt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...fn(e)});class Zm extends bn{_parse(e){if(this._getType(e)!==Ot.nan){const r=this._getOrReturnCtx(e);return St(r,{code:ot.invalid_type,expected:Ot.nan,received:r.parsedType}),Xt}return{status:"valid",value:e.data}}}Zm.create=t=>new Zm({typeName:Jt.ZodNaN,...fn(t)});const fB=Symbol("zod_brand");class ww extends bn{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class np extends bn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Xt:o.status==="dirty"?(n.dirty(),iu(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Xt:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new np({in:e,out:n,typeName:Jt.ZodPipeline})}}class Af extends bn{_parse(e){const n=this._def.innerType._parse(e),r=i=>(tc(i)&&(i.value=Object.freeze(i.value)),i);return xf(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Af.create=(t,e)=>new Af({innerType:t,typeName:Jt.ZodReadonly,...fn(e)});function lO(t,e={},n){return t?qu.create().superRefine((r,i)=>{var o,l;if(!t(r)){const c=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,d=(l=(o=c.fatal)!==null&&o!==void 0?o:n)!==null&&l!==void 0?l:!0,m=typeof c=="string"?{message:c}:c;i.addIssue({code:"custom",...m,fatal:d})}}):qu.create()}const pB={object:hr.lazycreate};var Jt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Jt||(Jt={}));const hB=(t,e={message:`Input not instance of ${t.name}`})=>lO(n=>n instanceof t,e),cO=to.create,uO=rl.create,mB=Zm.create,gB=il.create,dO=wf.create,yB=nc.create,vB=Km.create,bB=Sf.create,_B=Ef.create,xB=qu.create,wB=Zl.create,SB=da.create,EB=Gm.create,NB=no.create,kB=hr.create,IB=hr.strictCreate,qB=Nf.create,TB=Hg.create,OB=kf.create,CB=To.create,RB=If.create,AB=Jm.create,jB=rc.create,PB=hu.create,FB=qf.create,LB=Tf.create,DB=sl.create,MB=Of.create,BB=Tu.create,B1=so.create,$B=ko.create,WB=ol.create,zB=so.createWithPreprocess,UB=np.create,VB=()=>cO().optional(),HB=()=>uO().optional(),QB=()=>dO().optional(),KB={string:t=>to.create({...t,coerce:!0}),number:t=>rl.create({...t,coerce:!0}),boolean:t=>wf.create({...t,coerce:!0}),bigint:t=>il.create({...t,coerce:!0}),date:t=>nc.create({...t,coerce:!0})},GB=Xt;var $=Object.freeze({__proto__:null,defaultErrorMap:Iu,setErrorMap:zM,getErrorMap:Vm,makeIssue:Hm,EMPTY_PATH:UM,addIssueToContext:St,ParseStatus:di,INVALID:Xt,DIRTY:iu,OK:Si,isAborted:_x,isDirty:xx,isValid:tc,isAsync:xf,get util(){return xn},get objectUtil(){return bx},ZodParsedType:Ot,getParsedType:sa,ZodType:bn,datetimeRegex:oO,ZodString:to,ZodNumber:rl,ZodBigInt:il,ZodBoolean:wf,ZodDate:nc,ZodSymbol:Km,ZodUndefined:Sf,ZodNull:Ef,ZodAny:qu,ZodUnknown:Zl,ZodNever:da,ZodVoid:Gm,ZodArray:no,ZodObject:hr,ZodUnion:Nf,ZodDiscriminatedUnion:Hg,ZodIntersection:kf,ZodTuple:To,ZodRecord:If,ZodMap:Jm,ZodSet:rc,ZodFunction:hu,ZodLazy:qf,ZodLiteral:Tf,ZodEnum:sl,ZodNativeEnum:Of,ZodPromise:Tu,ZodEffects:so,ZodTransformer:so,ZodOptional:ko,ZodNullable:ol,ZodDefault:Cf,ZodCatch:Rf,ZodNaN:Zm,BRAND:fB,ZodBranded:ww,ZodPipeline:np,ZodReadonly:Af,custom:lO,Schema:bn,ZodSchema:bn,late:pB,get ZodFirstPartyTypeKind(){return Jt},coerce:KB,any:xB,array:NB,bigint:gB,boolean:dO,date:yB,discriminatedUnion:TB,effect:B1,enum:DB,function:PB,instanceof:hB,intersection:OB,lazy:FB,literal:LB,map:AB,nan:mB,nativeEnum:MB,never:SB,null:_B,nullable:WB,number:uO,object:kB,oboolean:QB,onumber:HB,optional:$B,ostring:VB,pipeline:UB,preprocess:zB,promise:BB,record:RB,set:jB,strictObject:IB,string:cO,symbol:vB,transformer:B1,tuple:CB,undefined:bB,union:qB,unknown:wB,void:EB,NEVER:GB,ZodIssueCode:ot,quotelessJson:WM,ZodError:ss});const JB=$.object({page:$.number().gte(0,"Page must be greater than zero"),size:$.number().gte(1,"Page size must be greater than one to get any data")}),js=$.object({id:$.string().min(1)}),Sw=$.object({message:$.string()}),$i=$.object({id:$.string().optional(),idIn:$.array($.string()).optional(),fulltext:$.string().optional()}),ZB=$.enum(["asc","desc"]),al=()=>$.union([$.boolean(),$.number().int().refine(t=>t===0||t===1).transform(t=>typeof t=="boolean"?t:t===1)]),ic=()=>$.union([$.number().nonnegative(),$.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t))]),Ou=()=>$.union([$.number().int().nonnegative(),$.string().transform(t=>parseInt(t,10)).refine(t=>!isNaN(t))]),Mi=t=>$.string().transform(e=>JSON.parse(e)).refine(e=>Array.isArray(e)).transform(e=>$.array(t).parse(e)),Sx=new Proxy(()=>Sx,{get:()=>Sx}),Ps=({entity:t,shape:e,filter:n,sort:r})=>{const i=Sx();return{entity:t,"~entity":i,"~entity-array":[],"~entity-partial-exclude-id":i,shape:e,"~shape":i,"~shape-partial":i,filter:n,"~filter":i,sort:$.array($.object({name:$.enum(r),sort:ZB})),"~sort":i,"~sort-keyof":i}},Fa=(t,e)=>Array.from({length:e-t+1},(n,r)=>r+t),YB=({page:t,total:e,siblings:n=1,boundaries:r=1})=>{const i=Math.max(Math.trunc(e),0);if(n*2+3+r*2>=i)return{type:"simple",page:t,total:e,pages:Fa(1,i),start:[],end:[]};const l=Math.max(t-n,r),c=Math.min(t+n,i-r),d=l>r+2,m=c<i-(r+1);return!d&&m?{type:"end",page:t,total:e,start:[],pages:Fa(1,n*2+r+2),end:Fa(e-(r-1),i)}:d&&!m?{type:"start",page:t,total:e,start:Fa(1,r),pages:Fa(e-(r+1+2*n),i),end:[]}:{type:"both",page:t,total:e,start:Fa(1,r),pages:Fa(l,c),end:Fa(i-r+1,i)}};var Vc={},Xo={},Jn={},Ks={},$1;function fO(){if($1)return Ks;$1=1,Object.defineProperty(Ks,"__esModule",{value:!0}),Ks.anumber=t,Ks.number=t,Ks.abytes=n,Ks.bytes=n,Ks.ahash=r,Ks.aexists=i,Ks.aoutput=o;function t(c){if(!Number.isSafeInteger(c)||c<0)throw new Error("positive integer expected, got "+c)}function e(c){return c instanceof Uint8Array||ArrayBuffer.isView(c)&&c.constructor.name==="Uint8Array"}function n(c,...d){if(!e(c))throw new Error("Uint8Array expected");if(d.length>0&&!d.includes(c.length))throw new Error("Uint8Array expected of length "+d+", got length="+c.length)}function r(c){if(typeof c!="function"||typeof c.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");t(c.outputLen),t(c.blockLen)}function i(c,d=!0){if(c.destroyed)throw new Error("Hash instance has been destroyed");if(d&&c.finished)throw new Error("Hash#digest() has already been called")}function o(c,d){n(c);const m=d.outputLen;if(c.length<m)throw new Error("digestInto() expects output buffer of length at least "+m)}const l={number:t,bytes:n,hash:r,exists:i,output:o};return Ks.default=l,Ks}var on={},W1;function XB(){if(W1)return on;W1=1,Object.defineProperty(on,"__esModule",{value:!0}),on.add5L=on.add5H=on.add4H=on.add4L=on.add3H=on.add3L=on.rotlBL=on.rotlBH=on.rotlSL=on.rotlSH=on.rotr32L=on.rotr32H=on.rotrBL=on.rotrBH=on.rotrSL=on.rotrSH=on.shrSL=on.shrSH=on.toBig=void 0,on.fromBig=n,on.split=r,on.add=D;const t=BigInt(2**32-1),e=BigInt(32);function n(U,ne=!1){return ne?{h:Number(U&t),l:Number(U>>e&t)}:{h:Number(U>>e&t)|0,l:Number(U&t)|0}}function r(U,ne=!1){let B=new Uint32Array(U.length),se=new Uint32Array(U.length);for(let X=0;X<U.length;X++){const{h:fe,l:Ee}=n(U[X],ne);[B[X],se[X]]=[fe,Ee]}return[B,se]}const i=(U,ne)=>BigInt(U>>>0)<<e|BigInt(ne>>>0);on.toBig=i;const o=(U,ne,B)=>U>>>B;on.shrSH=o;const l=(U,ne,B)=>U<<32-B|ne>>>B;on.shrSL=l;const c=(U,ne,B)=>U>>>B|ne<<32-B;on.rotrSH=c;const d=(U,ne,B)=>U<<32-B|ne>>>B;on.rotrSL=d;const m=(U,ne,B)=>U<<64-B|ne>>>B-32;on.rotrBH=m;const y=(U,ne,B)=>U>>>B-32|ne<<64-B;on.rotrBL=y;const _=(U,ne)=>ne;on.rotr32H=_;const N=(U,ne)=>U;on.rotr32L=N;const k=(U,ne,B)=>U<<B|ne>>>32-B;on.rotlSH=k;const q=(U,ne,B)=>ne<<B|U>>>32-B;on.rotlSL=q;const T=(U,ne,B)=>ne<<B-32|U>>>64-B;on.rotlBH=T;const A=(U,ne,B)=>U<<B-32|ne>>>64-B;on.rotlBL=A;function D(U,ne,B,se){const X=(ne>>>0)+(se>>>0);return{h:U+B+(X/2**32|0)|0,l:X|0}}const P=(U,ne,B)=>(U>>>0)+(ne>>>0)+(B>>>0);on.add3L=P;const L=(U,ne,B,se)=>ne+B+se+(U/2**32|0)|0;on.add3H=L;const V=(U,ne,B,se)=>(U>>>0)+(ne>>>0)+(B>>>0)+(se>>>0);on.add4L=V;const J=(U,ne,B,se,X)=>ne+B+se+X+(U/2**32|0)|0;on.add4H=J;const W=(U,ne,B,se,X)=>(U>>>0)+(ne>>>0)+(B>>>0)+(se>>>0)+(X>>>0);on.add5L=W;const Z=(U,ne,B,se,X,fe)=>ne+B+se+X+fe+(U/2**32|0)|0;on.add5H=Z;const oe={fromBig:n,split:r,toBig:i,shrSH:o,shrSL:l,rotrSH:c,rotrSL:d,rotrBH:m,rotrBL:y,rotr32H:_,rotr32L:N,rotlSH:k,rotlSL:q,rotlBH:T,rotlBL:A,add:D,add3L:P,add3H:L,add4L:V,add4H:J,add5H:Z,add5L:W};return on.default=oe,on}var p_={},Bd={},z1;function e4(){return z1||(z1=1,Object.defineProperty(Bd,"__esModule",{value:!0}),Bd.crypto=void 0,Bd.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),Bd}var U1;function t4(){return U1||(U1=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Hash=t.nextTick=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=void 0,t.isBytes=r,t.byteSwap32=y,t.bytesToHex=N,t.hexToBytes=T,t.asyncLoop=D,t.utf8ToBytes=P,t.toBytes=L,t.concatBytes=V,t.checkOpts=W,t.wrapConstructor=Z,t.wrapConstructorWithOpts=oe,t.wrapXOFConstructorWithOpts=U,t.randomBytes=ne;const e=e4(),n=fO();function r(B){return B instanceof Uint8Array||ArrayBuffer.isView(B)&&B.constructor.name==="Uint8Array"}const i=B=>new Uint8Array(B.buffer,B.byteOffset,B.byteLength);t.u8=i;const o=B=>new Uint32Array(B.buffer,B.byteOffset,Math.floor(B.byteLength/4));t.u32=o;const l=B=>new DataView(B.buffer,B.byteOffset,B.byteLength);t.createView=l;const c=(B,se)=>B<<32-se|B>>>se;t.rotr=c;const d=(B,se)=>B<<se|B>>>32-se>>>0;t.rotl=d,t.isLE=new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]===68;const m=B=>B<<24&0xff000000|B<<8&0xff0000|B>>>8&65280|B>>>24&255;t.byteSwap=m,t.byteSwapIfBE=t.isLE?B=>B:B=>(0,t.byteSwap)(B);function y(B){for(let se=0;se<B.length;se++)B[se]=(0,t.byteSwap)(B[se])}const _=Array.from({length:256},(B,se)=>se.toString(16).padStart(2,"0"));function N(B){(0,n.abytes)(B);let se="";for(let X=0;X<B.length;X++)se+=_[B[X]];return se}const k={_0:48,_9:57,A:65,F:70,a:97,f:102};function q(B){if(B>=k._0&&B<=k._9)return B-k._0;if(B>=k.A&&B<=k.F)return B-(k.A-10);if(B>=k.a&&B<=k.f)return B-(k.a-10)}function T(B){if(typeof B!="string")throw new Error("hex string expected, got "+typeof B);const se=B.length,X=se/2;if(se%2)throw new Error("hex string expected, got unpadded hex of length "+se);const fe=new Uint8Array(X);for(let Ee=0,Oe=0;Ee<X;Ee++,Oe+=2){const je=q(B.charCodeAt(Oe)),ve=q(B.charCodeAt(Oe+1));if(je===void 0||ve===void 0){const pe=B[Oe]+B[Oe+1];throw new Error('hex string expected, got non-hex character "'+pe+'" at index '+Oe)}fe[Ee]=je*16+ve}return fe}const A=async()=>{};t.nextTick=A;async function D(B,se,X){let fe=Date.now();for(let Ee=0;Ee<B;Ee++){X(Ee);const Oe=Date.now()-fe;Oe>=0&&Oe<se||(await (0,t.nextTick)(),fe+=Oe)}}function P(B){if(typeof B!="string")throw new Error("utf8ToBytes expected string, got "+typeof B);return new Uint8Array(new TextEncoder().encode(B))}function L(B){return typeof B=="string"&&(B=P(B)),(0,n.abytes)(B),B}function V(...B){let se=0;for(let fe=0;fe<B.length;fe++){const Ee=B[fe];(0,n.abytes)(Ee),se+=Ee.length}const X=new Uint8Array(se);for(let fe=0,Ee=0;fe<B.length;fe++){const Oe=B[fe];X.set(Oe,Ee),Ee+=Oe.length}return X}class J{clone(){return this._cloneInto()}}t.Hash=J;function W(B,se){if(se!==void 0&&{}.toString.call(se)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(B,se)}function Z(B){const se=fe=>B().update(L(fe)).digest(),X=B();return se.outputLen=X.outputLen,se.blockLen=X.blockLen,se.create=()=>B(),se}function oe(B){const se=(fe,Ee)=>B(Ee).update(L(fe)).digest(),X=B({});return se.outputLen=X.outputLen,se.blockLen=X.blockLen,se.create=fe=>B(fe),se}function U(B){const se=(fe,Ee)=>B(Ee).update(L(fe)).digest(),X=B({});return se.outputLen=X.outputLen,se.blockLen=X.blockLen,se.create=fe=>B(fe),se}function ne(B=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(B));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(B);throw new Error("crypto.getRandomValues must be defined")}}(p_)),p_}var V1;function n4(){if(V1)return Jn;V1=1,Object.defineProperty(Jn,"__esModule",{value:!0}),Jn.shake256=Jn.shake128=Jn.keccak_512=Jn.keccak_384=Jn.keccak_256=Jn.keccak_224=Jn.sha3_512=Jn.sha3_384=Jn.sha3_256=Jn.sha3_224=Jn.Keccak=void 0,Jn.keccakP=A;const t=fO(),e=XB(),n=t4(),r=[],i=[],o=[],l=BigInt(0),c=BigInt(1),d=BigInt(2),m=BigInt(7),y=BigInt(256),_=BigInt(113);for(let V=0,J=c,W=1,Z=0;V<24;V++){[W,Z]=[Z,(2*W+3*Z)%5],r.push(2*(5*Z+W)),i.push((V+1)*(V+2)/2%64);let oe=l;for(let U=0;U<7;U++)J=(J<<c^(J>>m)*_)%y,J&d&&(oe^=c<<(c<<BigInt(U))-c);o.push(oe)}const[N,k]=(0,e.split)(o,!0),q=(V,J,W)=>W>32?(0,e.rotlBH)(V,J,W):(0,e.rotlSH)(V,J,W),T=(V,J,W)=>W>32?(0,e.rotlBL)(V,J,W):(0,e.rotlSL)(V,J,W);function A(V,J=24){const W=new Uint32Array(10);for(let Z=24-J;Z<24;Z++){for(let ne=0;ne<10;ne++)W[ne]=V[ne]^V[ne+10]^V[ne+20]^V[ne+30]^V[ne+40];for(let ne=0;ne<10;ne+=2){const B=(ne+8)%10,se=(ne+2)%10,X=W[se],fe=W[se+1],Ee=q(X,fe,1)^W[B],Oe=T(X,fe,1)^W[B+1];for(let je=0;je<50;je+=10)V[ne+je]^=Ee,V[ne+je+1]^=Oe}let oe=V[2],U=V[3];for(let ne=0;ne<24;ne++){const B=i[ne],se=q(oe,U,B),X=T(oe,U,B),fe=r[ne];oe=V[fe],U=V[fe+1],V[fe]=se,V[fe+1]=X}for(let ne=0;ne<50;ne+=10){for(let B=0;B<10;B++)W[B]=V[ne+B];for(let B=0;B<10;B++)V[ne+B]^=~W[(B+2)%10]&W[(B+4)%10]}V[0]^=N[Z],V[1]^=k[Z]}W.fill(0)}class D extends n.Hash{constructor(J,W,Z,oe=!1,U=24){if(super(),this.blockLen=J,this.suffix=W,this.outputLen=Z,this.enableXOF=oe,this.rounds=U,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,t.anumber)(Z),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,n.u32)(this.state)}keccak(){n.isLE||(0,n.byteSwap32)(this.state32),A(this.state32,this.rounds),n.isLE||(0,n.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(J){(0,t.aexists)(this);const{blockLen:W,state:Z}=this;J=(0,n.toBytes)(J);const oe=J.length;for(let U=0;U<oe;){const ne=Math.min(W-this.pos,oe-U);for(let B=0;B<ne;B++)Z[this.pos++]^=J[U++];this.pos===W&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:J,suffix:W,pos:Z,blockLen:oe}=this;J[Z]^=W,W&128&&Z===oe-1&&this.keccak(),J[oe-1]^=128,this.keccak()}writeInto(J){(0,t.aexists)(this,!1),(0,t.abytes)(J),this.finish();const W=this.state,{blockLen:Z}=this;for(let oe=0,U=J.length;oe<U;){this.posOut>=Z&&this.keccak();const ne=Math.min(Z-this.posOut,U-oe);J.set(W.subarray(this.posOut,this.posOut+ne),oe),this.posOut+=ne,oe+=ne}return J}xofInto(J){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(J)}xof(J){return(0,t.anumber)(J),this.xofInto(new Uint8Array(J))}digestInto(J){if((0,t.aoutput)(J,this),this.finished)throw new Error("digest() was already called");return this.writeInto(J),this.destroy(),J}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(J){const{blockLen:W,suffix:Z,outputLen:oe,rounds:U,enableXOF:ne}=this;return J||(J=new D(W,Z,oe,ne,U)),J.state32.set(this.state32),J.pos=this.pos,J.posOut=this.posOut,J.finished=this.finished,J.rounds=U,J.suffix=Z,J.outputLen=oe,J.enableXOF=ne,J.destroyed=this.destroyed,J}}Jn.Keccak=D;const P=(V,J,W)=>(0,n.wrapConstructor)(()=>new D(J,V,W));Jn.sha3_224=P(6,144,224/8),Jn.sha3_256=P(6,136,256/8),Jn.sha3_384=P(6,104,384/8),Jn.sha3_512=P(6,72,512/8),Jn.keccak_224=P(1,144,224/8),Jn.keccak_256=P(1,136,256/8),Jn.keccak_384=P(1,104,384/8),Jn.keccak_512=P(1,72,512/8);const L=(V,J,W)=>(0,n.wrapXOFConstructorWithOpts)((Z={})=>new D(J,V,Z.dkLen===void 0?W:Z.dkLen,!0));return Jn.shake128=L(31,168,128/8),Jn.shake256=L(31,136,256/8),Jn}var H1;function r4(){if(H1)return Xo;H1=1;const{sha3_512:t}=n4(),e=24,n=32,r=(q=4,T=Math.random)=>{let A="";for(;A.length<q;)A=A+Math.floor(T()*36).toString(36);return A};function i(q){let T=8n,A=0n;for(const D of q.values()){const P=BigInt(D);A=(A<<T)+P}return A}const o=(q="")=>i(t(q)).toString(36).slice(1),l=Array.from({length:26},(q,T)=>String.fromCharCode(T+97)),c=q=>l[Math.floor(q()*l.length)],d=({globalObj:q=typeof zl<"u"?zl:typeof window<"u"?window:{},random:T=Math.random}={})=>{const A=Object.keys(q).toString(),D=A.length?A+r(n,T):r(n,T);return o(D).substring(0,n)},m=q=>()=>q++,y=0x1c6b1f1f,_=({random:q=Math.random,counter:T=m(Math.floor(q()*y)),length:A=e,fingerprint:D=d({random:q})}={})=>function(){const L=c(q),V=Date.now().toString(36),J=T().toString(36),W=r(A,q),Z=`${V+W+J+D}`;return`${L+o(Z).substring(1,A)}`},N=_(),k=(q,{minLength:T=2,maxLength:A=n}={})=>{const D=q.length,P=/^[0-9a-z]+$/;try{if(typeof q=="string"&&D>=T&&D<=A&&P.test(q))return!0}finally{}return!1};return Xo.getConstants=()=>({defaultLength:e,bigLength:n}),Xo.init=_,Xo.createId=N,Xo.bufToBigInt=i,Xo.createCounter=m,Xo.createFingerprint=d,Xo.isCuid=k,Xo}var Q1;function i4(){if(Q1)return Vc;Q1=1;const{createId:t,init:e,getConstants:n,isCuid:r}=r4();return Vc.createId=t,Vc.init=e,Vc.getConstants=n,Vc.isCuid=r,Vc}var s4=i4();const nr=s4.createId;var h_,K1;function o4(){if(K1)return h_;K1=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,n,r;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{n=Object.defineProperty({},"length",{get:function(){throw r}}),r={},e(function(){throw 42},null,n)}catch(P){P!==r&&(e=null)}else e=null;var i=/^\s*class\b/,o=function(L){try{var V=t.call(L);return i.test(V)}catch{return!1}},l=function(L){try{return o(L)?!1:(t.call(L),!0)}catch{return!1}},c=Object.prototype.toString,d="[object Object]",m="[object Function]",y="[object GeneratorFunction]",_="[object HTMLAllCollection]",N="[object HTML document.all class]",k="[object HTMLCollection]",q=typeof Symbol=="function"&&!!Symbol.toStringTag,T=!(0 in[,]),A=function(){return!1};if(typeof document=="object"){var D=document.all;c.call(D)===c.call(document.all)&&(A=function(L){if((T||!L)&&(typeof L>"u"||typeof L=="object"))try{var V=c.call(L);return(V===_||V===N||V===k||V===d)&&L("")==null}catch{}return!1})}return h_=e?function(L){if(A(L))return!0;if(!L||typeof L!="function"&&typeof L!="object")return!1;try{e(L,null,n)}catch(V){if(V!==r)return!1}return!o(L)&&l(L)}:function(L){if(A(L))return!0;if(!L||typeof L!="function"&&typeof L!="object")return!1;if(q)return l(L);if(o(L))return!1;var V=c.call(L);return V!==m&&V!==y&&!/^\[object HTML/.test(V)?!1:l(L)},h_}var a4=o4();const l4=Fo(a4),c4=t=>l4(t);var cm={exports:{}},u4=cm.exports,G1;function d4(){return G1||(G1=1,function(t){(function(e,n){t.exports=n()})(u4,function(){var e=Object.prototype.toString;function n(_,N){return _==null?!1:Object.prototype.hasOwnProperty.call(_,N)}function r(_){if(!_||l(_)&&_.length===0)return!0;if(typeof _!="string"){for(var N in _)if(n(_,N))return!1;return!0}return!1}function i(_){return e.call(_)}function o(_){return typeof _=="object"&&i(_)==="[object Object]"}var l=Array.isArray||function(_){return e.call(_)==="[object Array]"};function c(_){return typeof _=="boolean"||i(_)==="[object Boolean]"}function d(_){var N=parseInt(_);return N.toString()===_?N:_}function m(_){_=_||{};var N=function(D){return Object.keys(N).reduce(function(P,L){return L==="create"||typeof N[L]=="function"&&(P[L]=N[L].bind(N,D)),P},{})},k;_.includeInheritedProps?k=function(){return!0}:k=function(D,P){return typeof P=="number"&&Array.isArray(D)||n(D,P)};function q(D,P){if(k(D,P))return D[P]}var T;_.includeInheritedProps?T=function(D,P){typeof P!="string"&&typeof P!="number"&&(P=String(P));var L=q(D,P);if(P==="__proto__"||P==="prototype"||P==="constructor"&&typeof L=="function")throw new Error("For security reasons, object's magic properties cannot be set");return L}:T=function(D,P){return q(D,P)};function A(D,P,L,V){if(typeof P=="number"&&(P=[P]),!P||P.length===0)return D;if(typeof P=="string")return A(D,P.split(".").map(d),L,V);var J=P[0],W=T(D,J);return P.length===1?((W===void 0||!V)&&(D[J]=L),W):(W===void 0&&(typeof P[1]=="number"?D[J]=[]:D[J]={}),A(D[J],P.slice(1),L,V))}return N.has=function(D,P){if(typeof P=="number"?P=[P]:typeof P=="string"&&(P=P.split(".")),!P||P.length===0)return!!D;for(var L=0;L<P.length;L++){var V=d(P[L]);if(typeof V=="number"&&l(D)&&V<D.length||(_.includeInheritedProps?V in Object(D):n(D,V)))D=D[V];else return!1}return!0},N.ensureExists=function(D,P,L){return A(D,P,L,!0)},N.set=function(D,P,L,V){return A(D,P,L,V)},N.insert=function(D,P,L,V){var J=N.get(D,P);V=~~V,l(J)||(J=[],N.set(D,P,J)),J.splice(V,0,L)},N.empty=function(D,P){if(!r(P)&&D!=null){var L,V;if(L=N.get(D,P)){if(typeof L=="string")return N.set(D,P,"");if(c(L))return N.set(D,P,!1);if(typeof L=="number")return N.set(D,P,0);if(l(L))L.length=0;else if(o(L))for(V in L)k(L,V)&&delete L[V];else return N.set(D,P,null)}}},N.push=function(D,P){var L=N.get(D,P);l(L)||(L=[],N.set(D,P,L)),L.push.apply(L,Array.prototype.slice.call(arguments,2))},N.coalesce=function(D,P,L){for(var V,J=0,W=P.length;J<W;J++)if((V=N.get(D,P[J]))!==void 0)return V;return L},N.get=function(D,P,L){if(typeof P=="number"&&(P=[P]),!P||P.length===0)return D;if(D==null)return L;if(typeof P=="string")return N.get(D,P.split("."),L);var V=d(P[0]),J=T(D,V);return J===void 0?L:P.length===1?J:N.get(D[V],P.slice(1),L)},N.del=function(P,L){if(typeof L=="number"&&(L=[L]),P==null||r(L))return P;if(typeof L=="string")return N.del(P,L.split("."));var V=d(L[0]);if(T(P,V),!k(P,V))return P;if(L.length===1)l(P)?P.splice(V,1):delete P[V];else return N.del(P[V],L.slice(1));return P},N}var y=m();return y.create=m,y.withInheritedProps=m({includeInheritedProps:!0}),y})}(cm)),cm.exports}var f4=d4();const J1=Fo(f4);function Sn({number:t,empty:e="-",fraction:n=2}){if(t==null)return e;try{return t.toLocaleString(void 0,{maximumFractionDigits:n})}catch(r){return console.error("toHumanNumber",t,r),t.toFixed(2)}}const Ew=({error:t,errors:e,onError:n})=>{const r=e.some(o=>o),i=t instanceof Error;return!r&&i&&n(t),r||i},pO=pn({slot:{base:["flex","flex-row","gap-2","items-center","rounded","px-2","py-0.5","hover:bg-slate-100","text-slate-500","hover:text-blue-500","cursor-pointer"]},variant:{variant:{common:[],warning:["text-amber-500","hover:text-amber-600","hover:bg-amber-100"],danger:["text-red-500","hover:text-red-600","hover:bg-red-100"]},disabled:{true:["cursor-not-allowed","text-slate-300","bg-slate-100","hover:bg-slate-100"]}},defaults:{variant:"common",disabled:!1}}),p4=pn({use:pO,slot:{},variant:{},defaults:{}}),h4=({icon:t,iconProps:e,variant:n,tva:r=p4,css:i,children:o,...l})=>{const c=r({...n,css:i}).slots;return h.jsxs("div",{className:c.base(),...l,children:[Vg(t)?h.jsx(Zt,{icon:t,...e}):t,o]})};function Qg(){return typeof window<"u"}function hl(t){return hO(t)?(t.nodeName||"").toLowerCase():"#document"}function Bi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Lo(t){var e;return(e=(hO(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function hO(t){return Qg()?t instanceof Node||t instanceof Bi(t).Node:!1}function Yn(t){return Qg()?t instanceof Element||t instanceof Bi(t).Element:!1}function jr(t){return Qg()?t instanceof HTMLElement||t instanceof Bi(t).HTMLElement:!1}function Ex(t){return!Qg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Bi(t).ShadowRoot}function rp(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Cs(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function m4(t){return["table","td","th"].includes(hl(t))}function Kg(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Nw(t){const e=Gg(),n=Yn(t)?Cs(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function g4(t){let e=fa(t);for(;jr(e)&&!la(e);){if(Nw(e))return e;if(Kg(e))return null;e=fa(e)}return null}function Gg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function la(t){return["html","body","#document"].includes(hl(t))}function Cs(t){return Bi(t).getComputedStyle(t)}function Jg(t){return Yn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function fa(t){if(hl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Ex(t)&&t.host||Lo(t);return Ex(e)?e.host:e}function mO(t){const e=fa(t);return la(e)?t.ownerDocument?t.ownerDocument.body:t.body:jr(e)&&rp(e)?e:mO(e)}function Ga(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=mO(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),l=Bi(i);if(o){const c=Nx(l);return e.concat(l,l.visualViewport||[],rp(i)?i:[],c&&n?Ga(c):[])}return e.concat(i,Ga(i,[],n))}function Nx(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Ys(t){let e=t.activeElement;for(;((n=e)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;e=e.shadowRoot.activeElement}return e}function Zr(t,e){if(!t||!e)return!1;const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&Ex(n)){let r=e;for(;r;){if(t===r)return!0;r=r.parentNode||r.host}}return!1}function kw(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function gO(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}function yO(t){return t.mozInputSource===0&&t.isTrusted?!0:kx()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function Iw(t){return v4()?!1:!kx()&&t.width===0&&t.height===0||kx()&&t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0&&t.pointerType==="touch"}function vO(){return/apple/i.test(navigator.vendor)}function kx(){const t=/android/i;return t.test(kw())||t.test(gO())}function y4(){return kw().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function v4(){return gO().includes("jsdom/")}function jf(t,e){const n=["mouse","pen"];return e||n.push("",void 0),n.includes(t)}function b4(t){return"nativeEvent"in t}function _4(t){return t.matches("html,body")}function Yr(t){return t?.ownerDocument||document}function m_(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}function Wa(t){return"composedPath"in t?t.composedPath()[0]:t.target}const x4="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function qw(t){return jr(t)&&t.matches(x4)}function yi(t){t.preventDefault(),t.stopPropagation()}function bO(t){return t?t.getAttribute("role")==="combobox"&&qw(t):!1}const Cu=Math.min,es=Math.max,Ym=Math.round,su=Math.floor,Io=t=>({x:t,y:t}),w4={left:"right",right:"left",bottom:"top",top:"bottom"},S4={start:"end",end:"start"};function Z1(t,e,n){return es(t,Cu(e,n))}function ip(t,e){return typeof t=="function"?t(e):t}function ll(t){return t.split("-")[0]}function sp(t){return t.split("-")[1]}function _O(t){return t==="x"?"y":"x"}function xO(t){return t==="y"?"height":"width"}function sc(t){return["top","bottom"].includes(ll(t))?"y":"x"}function wO(t){return _O(sc(t))}function E4(t,e,n){n===void 0&&(n=!1);const r=sp(t),i=wO(t),o=xO(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=Xm(l)),[l,Xm(l)]}function N4(t){const e=Xm(t);return[Ix(t),e,Ix(e)]}function Ix(t){return t.replace(/start|end/g,e=>S4[e])}function k4(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:l;default:return[]}}function I4(t,e,n,r){const i=sp(t);let o=k4(ll(t),n==="start",r);return i&&(o=o.map(l=>l+"-"+i),e&&(o=o.concat(o.map(Ix)))),o}function Xm(t){return t.replace(/left|right|bottom|top/g,e=>w4[e])}function q4(t){return{top:0,right:0,bottom:0,left:0,...t}}function T4(t){return typeof t!="number"?q4(t):{top:t,right:t,bottom:t,left:t}}function eg(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}var O4=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],tg=O4.join(","),SO=typeof Element>"u",Ru=SO?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,ng=!SO&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t?.ownerDocument},rg=function t(e,n){var r;n===void 0&&(n=!0);var i=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),o=i===""||i==="true",l=o||n&&e&&t(e.parentNode);return l},C4=function(e){var n,r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return r===""||r==="true"},R4=function(e,n,r){if(rg(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(tg));return n&&Ru.call(e,tg)&&i.unshift(e),i=i.filter(r),i},A4=function t(e,n,r){for(var i=[],o=Array.from(e);o.length;){var l=o.shift();if(!rg(l,!1))if(l.tagName==="SLOT"){var c=l.assignedElements(),d=c.length?c:l.children,m=t(d,!0,r);r.flatten?i.push.apply(i,m):i.push({scopeParent:l,candidates:m})}else{var y=Ru.call(l,tg);y&&r.filter(l)&&(n||!e.includes(l))&&i.push(l);var _=l.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(l),N=!rg(_,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(l));if(_&&N){var k=t(_===!0?l.children:_.children,!0,r);r.flatten?i.push.apply(i,k):i.push({scopeParent:l,candidates:k})}else o.unshift.apply(o,l.children)}}return i},EO=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},NO=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||C4(e))&&!EO(e)?0:e.tabIndex},j4=function(e,n){var r=NO(e);return r<0&&n&&!EO(e)?0:r},P4=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},kO=function(e){return e.tagName==="INPUT"},F4=function(e){return kO(e)&&e.type==="hidden"},L4=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},D4=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},M4=function(e){if(!e.name)return!0;var n=e.form||ng(e),r=function(c){return n.querySelectorAll('input[type="radio"][name="'+c+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var o=D4(i,e.form);return!o||o===e},B4=function(e){return kO(e)&&e.type==="radio"},$4=function(e){return B4(e)&&!M4(e)},W4=function(e){var n,r=e&&ng(e),i=(n=r)===null||n===void 0?void 0:n.host,o=!1;if(r&&r!==e){var l,c,d;for(o=!!((l=i)!==null&&l!==void 0&&(c=l.ownerDocument)!==null&&c!==void 0&&c.contains(i)||e!=null&&(d=e.ownerDocument)!==null&&d!==void 0&&d.contains(e));!o&&i;){var m,y,_;r=ng(i),i=(m=r)===null||m===void 0?void 0:m.host,o=!!((y=i)!==null&&y!==void 0&&(_=y.ownerDocument)!==null&&_!==void 0&&_.contains(i))}}return o},Y1=function(e){var n=e.getBoundingClientRect(),r=n.width,i=n.height;return r===0&&i===0},z4=function(e,n){var r=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=Ru.call(e,"details>summary:first-of-type"),l=o?e.parentElement:e;if(Ru.call(l,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var c=e;e;){var d=e.parentElement,m=ng(e);if(d&&!d.shadowRoot&&i(d)===!0)return Y1(e);e.assignedSlot?e=e.assignedSlot:!d&&m!==e.ownerDocument?e=m.host:e=d}e=c}if(W4(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return Y1(e);return!1},U4=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return Ru.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},V4=function(e,n){return!(n.disabled||rg(n)||F4(n)||z4(n,e)||L4(n)||U4(n))},qx=function(e,n){return!($4(n)||NO(n)<0||!V4(e,n))},H4=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},Q4=function t(e){var n=[],r=[];return e.forEach(function(i,o){var l=!!i.scopeParent,c=l?i.scopeParent:i,d=j4(c,l),m=l?t(i.candidates):c;d===0?l?n.push.apply(n,m):n.push(c):r.push({documentOrder:o,tabIndex:d,item:i,isScope:l,content:m})}),r.sort(P4).reduce(function(i,o){return o.isScope?i.push.apply(i,o.content):i.push(o.content),i},[]).concat(n)},Zg=function(e,n){n=n||{};var r;return n.getShadowRoot?r=A4([e],n.includeContainer,{filter:qx.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:H4}):r=R4(e,n.includeContainer,qx.bind(null,n)),Q4(r)},K4=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Ru.call(e,tg)===!1?!1:qx(n,e)};function X1(t,e,n){let{reference:r,floating:i}=t;const o=sc(e),l=wO(e),c=xO(l),d=ll(e),m=o==="y",y=r.x+r.width/2-i.width/2,_=r.y+r.height/2-i.height/2,N=r[c]/2-i[c]/2;let k;switch(d){case"top":k={x:y,y:r.y-i.height};break;case"bottom":k={x:y,y:r.y+r.height};break;case"right":k={x:r.x+r.width,y:_};break;case"left":k={x:r.x-i.width,y:_};break;default:k={x:r.x,y:r.y}}switch(sp(e)){case"start":k[l]-=N*(n&&m?-1:1);break;case"end":k[l]+=N*(n&&m?-1:1);break}return k}const G4=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:l}=n,c=o.filter(Boolean),d=await (l.isRTL==null?void 0:l.isRTL(e));let m=await l.getElementRects({reference:t,floating:e,strategy:i}),{x:y,y:_}=X1(m,r,d),N=r,k={},q=0;for(let T=0;T<c.length;T++){const{name:A,fn:D}=c[T],{x:P,y:L,data:V,reset:J}=await D({x:y,y:_,initialPlacement:r,placement:N,strategy:i,middlewareData:k,rects:m,platform:l,elements:{reference:t,floating:e}});y=P??y,_=L??_,k={...k,[A]:{...k[A],...V}},J&&q<=50&&(q++,typeof J=="object"&&(J.placement&&(N=J.placement),J.rects&&(m=J.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:i}):J.rects),{x:y,y:_}=X1(m,N,d)),T=-1)}return{x:y,y:_,placement:N,strategy:i,middlewareData:k}};async function Tw(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:l,elements:c,strategy:d}=t,{boundary:m="clippingAncestors",rootBoundary:y="viewport",elementContext:_="floating",altBoundary:N=!1,padding:k=0}=ip(e,t),q=T4(k),A=c[N?_==="floating"?"reference":"floating":_],D=eg(await o.getClippingRect({element:(n=await (o.isElement==null?void 0:o.isElement(A)))==null||n?A:A.contextElement||await (o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:m,rootBoundary:y,strategy:d})),P=_==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,L=await (o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),V=await (o.isElement==null?void 0:o.isElement(L))?await (o.getScale==null?void 0:o.getScale(L))||{x:1,y:1}:{x:1,y:1},J=eg(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:P,offsetParent:L,strategy:d}):P);return{top:(D.top-J.top+q.top)/V.y,bottom:(J.bottom-D.bottom+q.bottom)/V.y,left:(D.left-J.left+q.left)/V.x,right:(J.right-D.right+q.right)/V.x}}const J4=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:l,initialPlacement:c,platform:d,elements:m}=e,{mainAxis:y=!0,crossAxis:_=!0,fallbackPlacements:N,fallbackStrategy:k="bestFit",fallbackAxisSideDirection:q="none",flipAlignment:T=!0,...A}=ip(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const D=ll(i),P=sc(c),L=ll(c)===c,V=await (d.isRTL==null?void 0:d.isRTL(m.floating)),J=N||(L||!T?[Xm(c)]:N4(c)),W=q!=="none";!N&&W&&J.push(...I4(c,T,q,V));const Z=[c,...J],oe=await Tw(e,A),U=[];let ne=((r=o.flip)==null?void 0:r.overflows)||[];if(y&&U.push(oe[D]),_){const fe=E4(i,l,V);U.push(oe[fe[0]],oe[fe[1]])}if(ne=[...ne,{placement:i,overflows:U}],!U.every(fe=>fe<=0)){var B,se;const fe=(((B=o.flip)==null?void 0:B.index)||0)+1,Ee=Z[fe];if(Ee)return{data:{index:fe,overflows:ne},reset:{placement:Ee}};let Oe=(se=ne.filter(je=>je.overflows[0]<=0).sort((je,ve)=>je.overflows[1]-ve.overflows[1])[0])==null?void 0:se.placement;if(!Oe)switch(k){case"bestFit":{var X;const je=(X=ne.filter(ve=>{if(W){const pe=sc(ve.placement);return pe===P||pe==="y"}return!0}).map(ve=>[ve.placement,ve.overflows.filter(pe=>pe>0).reduce((pe,Ne)=>pe+Ne,0)]).sort((ve,pe)=>ve[1]-pe[1])[0])==null?void 0:X[0];je&&(Oe=je);break}case"initialPlacement":Oe=c;break}if(i!==Oe)return{reset:{placement:Oe}}}return{}}}};async function Z4(t,e){const{placement:n,platform:r,elements:i}=t,o=await (r.isRTL==null?void 0:r.isRTL(i.floating)),l=ll(n),c=sp(n),d=sc(n)==="y",m=["left","top"].includes(l)?-1:1,y=o&&d?-1:1,_=ip(e,t);let{mainAxis:N,crossAxis:k,alignmentAxis:q}=typeof _=="number"?{mainAxis:_,crossAxis:0,alignmentAxis:null}:{mainAxis:_.mainAxis||0,crossAxis:_.crossAxis||0,alignmentAxis:_.alignmentAxis};return c&&typeof q=="number"&&(k=c==="end"?q*-1:q),d?{x:k*y,y:N*m}:{x:N*m,y:k*y}}const Y4=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:l,middlewareData:c}=e,d=await Z4(e,t);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+d.x,y:o+d.y,data:{...d,placement:l}}}}},X4=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:A=>{let{x:D,y:P}=A;return{x:D,y:P}}},...d}=ip(t,e),m={x:n,y:r},y=await Tw(e,d),_=sc(ll(i)),N=_O(_);let k=m[N],q=m[_];if(o){const A=N==="y"?"top":"left",D=N==="y"?"bottom":"right",P=k+y[A],L=k-y[D];k=Z1(P,k,L)}if(l){const A=_==="y"?"top":"left",D=_==="y"?"bottom":"right",P=q+y[A],L=q-y[D];q=Z1(P,q,L)}const T=c.fn({...e,[N]:k,[_]:q});return{...T,data:{x:T.x-n,y:T.y-r,enabled:{[N]:o,[_]:l}}}}}},e$=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:l,elements:c}=e,{apply:d=()=>{},...m}=ip(t,e),y=await Tw(e,m),_=ll(i),N=sp(i),k=sc(i)==="y",{width:q,height:T}=o.floating;let A,D;_==="top"||_==="bottom"?(A=_,D=N===(await (l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(D=_,A=N==="end"?"top":"bottom");const P=T-y.top-y.bottom,L=q-y.left-y.right,V=Cu(T-y[A],P),J=Cu(q-y[D],L),W=!e.middlewareData.shift;let Z=V,oe=J;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(oe=L),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(Z=P),W&&!N){const ne=es(y.left,0),B=es(y.right,0),se=es(y.top,0),X=es(y.bottom,0);k?oe=q-2*(ne!==0||B!==0?ne+B:es(y.left,y.right)):Z=T-2*(se!==0||X!==0?se+X:es(y.top,y.bottom))}await d({...e,availableWidth:oe,availableHeight:Z});const U=await l.getDimensions(c.floating);return q!==U.width||T!==U.height?{reset:{rects:!0}}:{}}}};function IO(t){const e=Cs(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=jr(t),o=i?t.offsetWidth:n,l=i?t.offsetHeight:r,c=Ym(n)!==o||Ym(r)!==l;return c&&(n=o,r=l),{width:n,height:r,$:c}}function Ow(t){return Yn(t)?t:t.contextElement}function mu(t){const e=Ow(t);if(!jr(e))return Io(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=IO(e);let l=(o?Ym(n.width):n.width)/r,c=(o?Ym(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const t$=Io(0);function qO(t){const e=Bi(t);return!Gg()||!e.visualViewport?t$:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function n$(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Bi(t)?!1:e}function oc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=Ow(t);let l=Io(1);e&&(r?Yn(r)&&(l=mu(r)):l=mu(t));const c=n$(o,n,r)?qO(o):Io(0);let d=(i.left+c.x)/l.x,m=(i.top+c.y)/l.y,y=i.width/l.x,_=i.height/l.y;if(o){const N=Bi(o),k=r&&Yn(r)?Bi(r):r;let q=N,T=Nx(q);for(;T&&r&&k!==q;){const A=mu(T),D=T.getBoundingClientRect(),P=Cs(T),L=D.left+(T.clientLeft+parseFloat(P.paddingLeft))*A.x,V=D.top+(T.clientTop+parseFloat(P.paddingTop))*A.y;d*=A.x,m*=A.y,y*=A.x,_*=A.y,d+=L,m+=V,q=Bi(T),T=Nx(q)}}return eg({width:y,height:_,x:d,y:m})}function Cw(t,e){const n=Jg(t).scrollLeft;return e?e.left+n:oc(Lo(t)).left+n}function TO(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:Cw(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function r$(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",l=Lo(r),c=e?Kg(e.floating):!1;if(r===l||c&&o)return n;let d={scrollLeft:0,scrollTop:0},m=Io(1);const y=Io(0),_=jr(r);if((_||!_&&!o)&&((hl(r)!=="body"||rp(l))&&(d=Jg(r)),jr(r))){const k=oc(r);m=mu(r),y.x=k.x+r.clientLeft,y.y=k.y+r.clientTop}const N=l&&!_&&!o?TO(l,d,!0):Io(0);return{width:n.width*m.x,height:n.height*m.y,x:n.x*m.x-d.scrollLeft*m.x+y.x+N.x,y:n.y*m.y-d.scrollTop*m.y+y.y+N.y}}function i$(t){return Array.from(t.getClientRects())}function s$(t){const e=Lo(t),n=Jg(t),r=t.ownerDocument.body,i=es(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=es(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+Cw(t);const c=-n.scrollTop;return Cs(r).direction==="rtl"&&(l+=es(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:l,y:c}}function o$(t,e){const n=Bi(t),r=Lo(t),i=n.visualViewport;let o=r.clientWidth,l=r.clientHeight,c=0,d=0;if(i){o=i.width,l=i.height;const m=Gg();(!m||m&&e==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}return{width:o,height:l,x:c,y:d}}function a$(t,e){const n=oc(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=jr(t)?mu(t):Io(1),l=t.clientWidth*o.x,c=t.clientHeight*o.y,d=i*o.x,m=r*o.y;return{width:l,height:c,x:d,y:m}}function ek(t,e,n){let r;if(e==="viewport")r=o$(t,n);else if(e==="document")r=s$(Lo(t));else if(Yn(e))r=a$(e,n);else{const i=qO(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return eg(r)}function OO(t,e){const n=fa(t);return n===e||!Yn(n)||la(n)?!1:Cs(n).position==="fixed"||OO(n,e)}function l$(t,e){const n=e.get(t);if(n)return n;let r=Ga(t,[],!1).filter(c=>Yn(c)&&hl(c)!=="body"),i=null;const o=Cs(t).position==="fixed";let l=o?fa(t):t;for(;Yn(l)&&!la(l);){const c=Cs(l),d=Nw(l);!d&&c.position==="fixed"&&(i=null),(o?!d&&!i:!d&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||rp(l)&&!d&&OO(t,l))?r=r.filter(y=>y!==l):i=c,l=fa(l)}return e.set(t,r),r}function c$(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const l=[...n==="clippingAncestors"?Kg(e)?[]:l$(e,this._c):[].concat(n),r],c=l[0],d=l.reduce((m,y)=>{const _=ek(e,y,i);return m.top=es(_.top,m.top),m.right=Cu(_.right,m.right),m.bottom=Cu(_.bottom,m.bottom),m.left=es(_.left,m.left),m},ek(e,c,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function u$(t){const{width:e,height:n}=IO(t);return{width:e,height:n}}function d$(t,e,n){const r=jr(e),i=Lo(e),o=n==="fixed",l=oc(t,!0,o,e);let c={scrollLeft:0,scrollTop:0};const d=Io(0);if(r||!r&&!o)if((hl(e)!=="body"||rp(i))&&(c=Jg(e)),r){const N=oc(e,!0,o,e);d.x=N.x+e.clientLeft,d.y=N.y+e.clientTop}else i&&(d.x=Cw(i));const m=i&&!r&&!o?TO(i,c):Io(0),y=l.left+c.scrollLeft-d.x-m.x,_=l.top+c.scrollTop-d.y-m.y;return{x:y,y:_,width:l.width,height:l.height}}function g_(t){return Cs(t).position==="static"}function tk(t,e){if(!jr(t)||Cs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Lo(t)===n&&(n=n.ownerDocument.body),n}function CO(t,e){const n=Bi(t);if(Kg(t))return n;if(!jr(t)){let i=fa(t);for(;i&&!la(i);){if(Yn(i)&&!g_(i))return i;i=fa(i)}return n}let r=tk(t,e);for(;r&&m4(r)&&g_(r);)r=tk(r,e);return r&&la(r)&&g_(r)&&!Nw(r)?n:r||g4(t)||n}const f$=async function(t){const e=this.getOffsetParent||CO,n=this.getDimensions,r=await n(t.floating);return{reference:d$(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function p$(t){return Cs(t).direction==="rtl"}const h$={convertOffsetParentRelativeRectToViewportRelativeRect:r$,getDocumentElement:Lo,getClippingRect:c$,getOffsetParent:CO,getElementRects:f$,getClientRects:i$,getDimensions:u$,getScale:mu,isElement:Yn,isRTL:p$};function m$(t,e){let n=null,r;const i=Lo(t);function o(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),o();const{left:m,top:y,width:_,height:N}=t.getBoundingClientRect();if(c||e(),!_||!N)return;const k=su(y),q=su(i.clientWidth-(m+_)),T=su(i.clientHeight-(y+N)),A=su(m),P={rootMargin:-k+"px "+-q+"px "+-T+"px "+-A+"px",threshold:es(0,Cu(1,d))||1};let L=!0;function V(J){const W=J[0].intersectionRatio;if(W!==d){if(!L)return l();W?l(!1,W):r=setTimeout(()=>{l(!1,1e-7)},1e3)}L=!1}try{n=new IntersectionObserver(V,{...P,root:i.ownerDocument})}catch{n=new IntersectionObserver(V,P)}n.observe(t)}return l(!0),o}function RO(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,m=Ow(t),y=i||o?[...m?Ga(m):[],...Ga(e)]:[];y.forEach(D=>{i&&D.addEventListener("scroll",n,{passive:!0}),o&&D.addEventListener("resize",n)});const _=m&&c?m$(m,n):null;let N=-1,k=null;l&&(k=new ResizeObserver(D=>{let[P]=D;P&&P.target===m&&k&&(k.unobserve(e),cancelAnimationFrame(N),N=requestAnimationFrame(()=>{var L;(L=k)==null||L.observe(e)})),n()}),m&&!d&&k.observe(m),k.observe(e));let q,T=d?oc(t):null;d&&A();function A(){const D=oc(t);T&&(D.x!==T.x||D.y!==T.y||D.width!==T.width||D.height!==T.height)&&n(),T=D,q=requestAnimationFrame(A)}return n(),()=>{var D;y.forEach(P=>{i&&P.removeEventListener("scroll",n),o&&P.removeEventListener("resize",n)}),_?.(),(D=k)==null||D.disconnect(),k=null,d&&cancelAnimationFrame(q)}}const g$=Y4,y$=X4,v$=J4,b$=e$,_$=(t,e,n)=>{const r=new Map,i={platform:h$,...n},o={...i.platform,_c:r};return G4(t,e,{...i,platform:o})};var um=typeof document<"u"?Q.useLayoutEffect:Q.useEffect;function ig(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ig(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!ig(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function AO(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function nk(t,e){const n=AO(t);return Math.round(e*n)/n}function y_(t){const e=Q.useRef(t);return um(()=>{e.current=t}),e}function x$(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:d,open:m}=t,[y,_]=Q.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[N,k]=Q.useState(r);ig(N,r)||k(r);const[q,T]=Q.useState(null),[A,D]=Q.useState(null),P=Q.useCallback(ve=>{ve!==W.current&&(W.current=ve,T(ve))},[]),L=Q.useCallback(ve=>{ve!==Z.current&&(Z.current=ve,D(ve))},[]),V=o||q,J=l||A,W=Q.useRef(null),Z=Q.useRef(null),oe=Q.useRef(y),U=d!=null,ne=y_(d),B=y_(i),se=y_(m),X=Q.useCallback(()=>{if(!W.current||!Z.current)return;const ve={placement:e,strategy:n,middleware:N};B.current&&(ve.platform=B.current),_$(W.current,Z.current,ve).then(pe=>{const Ne={...pe,isPositioned:se.current!==!1};fe.current&&!ig(oe.current,Ne)&&(oe.current=Ne,aw.flushSync(()=>{_(Ne)}))})},[N,e,n,B,se]);um(()=>{m===!1&&oe.current.isPositioned&&(oe.current.isPositioned=!1,_(ve=>({...ve,isPositioned:!1})))},[m]);const fe=Q.useRef(!1);um(()=>(fe.current=!0,()=>{fe.current=!1}),[]),um(()=>{if(V&&(W.current=V),J&&(Z.current=J),V&&J){if(ne.current)return ne.current(V,J,X);X()}},[V,J,X,ne,U]);const Ee=Q.useMemo(()=>({reference:W,floating:Z,setReference:P,setFloating:L}),[P,L]),Oe=Q.useMemo(()=>({reference:V,floating:J}),[V,J]),je=Q.useMemo(()=>{const ve={position:n,left:0,top:0};if(!Oe.floating)return ve;const pe=nk(Oe.floating,y.x),Ne=nk(Oe.floating,y.y);return c?{...ve,transform:"translate("+pe+"px, "+Ne+"px)",...AO(Oe.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:pe,top:Ne}},[n,c,Oe.floating,y.x,y.y]);return Q.useMemo(()=>({...y,update:X,refs:Ee,elements:Oe,floatingStyles:je}),[y,X,Ee,Oe,je])}const jO=(t,e)=>({...g$(t),options:[t,e]}),w$=(t,e)=>({...y$(t),options:[t,e]}),PO=(t,e)=>({...v$(t),options:[t,e]}),S$=(t,e)=>({...b$(t),options:[t,e]});function rk(t){return Q.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})},t)}const FO={...CA},E$=FO.useInsertionEffect,N$=E$||(t=>t());function Fi(t){const e=Q.useRef(()=>{});return N$(()=>{e.current=t}),Q.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}const Rw="ArrowUp",op="ArrowDown",Ja="ArrowLeft",Za="ArrowRight";function Lh(t,e,n){return Math.floor(t/e)!==n}function af(t,e){return e<0||e>=t.current.length}function v_(t,e){return si(t,{disabledIndices:e})}function ik(t,e){return si(t,{decrement:!0,startingIndex:t.current.length,disabledIndices:e})}function si(t,e){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:i,amount:o=1}=e===void 0?{}:e;const l=t.current;let c=n;do c+=r?-o:o;while(c>=0&&c<=l.length-1&&dm(l,c,i));return c}function k$(t,e){let{event:n,orientation:r,loop:i,rtl:o,cols:l,disabledIndices:c,minIndex:d,maxIndex:m,prevIndex:y,stopEvent:_=!1}=e,N=y;if(n.key===Rw){if(_&&yi(n),y===-1)N=m;else if(N=si(t,{startingIndex:N,amount:l,decrement:!0,disabledIndices:c}),i&&(y-l<d||N<0)){const k=y%l,q=m%l,T=m-(q-k);q===k?N=m:N=q>k?T:T-l}af(t,N)&&(N=y)}if(n.key===op&&(_&&yi(n),y===-1?N=d:(N=si(t,{startingIndex:y,amount:l,disabledIndices:c}),i&&y+l>m&&(N=si(t,{startingIndex:y%l-l,amount:l,disabledIndices:c}))),af(t,N)&&(N=y)),r==="both"){const k=su(y/l);n.key===(o?Ja:Za)&&(_&&yi(n),y%l!==l-1?(N=si(t,{startingIndex:y,disabledIndices:c}),i&&Lh(N,l,k)&&(N=si(t,{startingIndex:y-y%l-1,disabledIndices:c}))):i&&(N=si(t,{startingIndex:y-y%l-1,disabledIndices:c})),Lh(N,l,k)&&(N=y)),n.key===(o?Za:Ja)&&(_&&yi(n),y%l!==0?(N=si(t,{startingIndex:y,decrement:!0,disabledIndices:c}),i&&Lh(N,l,k)&&(N=si(t,{startingIndex:y+(l-y%l),decrement:!0,disabledIndices:c}))):i&&(N=si(t,{startingIndex:y+(l-y%l),decrement:!0,disabledIndices:c})),Lh(N,l,k)&&(N=y));const q=su(m/l)===k;af(t,N)&&(i&&q?N=n.key===(o?Za:Ja)?m:si(t,{startingIndex:y-y%l-1,disabledIndices:c}):N=y)}return N}function I$(t,e,n){const r=[];let i=0;return t.forEach((o,l)=>{let{width:c,height:d}=o,m=!1;for(n&&(i=0);!m;){const y=[];for(let _=0;_<c;_++)for(let N=0;N<d;N++)y.push(i+_+N*e);i%e+c<=e&&y.every(_=>r[_]==null)?(y.forEach(_=>{r[_]=l}),m=!0):i++}}),[...r]}function q$(t,e,n,r,i){if(t===-1)return-1;const o=n.indexOf(t),l=e[t];switch(i){case"tl":return o;case"tr":return l?o+l.width-1:o;case"bl":return l?o+(l.height-1)*r:o;case"br":return n.lastIndexOf(t)}}function T$(t,e){return e.flatMap((n,r)=>t.includes(n)?[r]:[])}function dm(t,e,n){if(n)return n.includes(e);const r=t[e];return r==null||r.hasAttribute("disabled")||r.getAttribute("aria-disabled")==="true"}var ar=typeof document<"u"?Q.useLayoutEffect:Q.useEffect;function Pf(){return Pf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pf.apply(this,arguments)}let sk=!1,O$=0;const ok=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+O$++;function C$(){const[t,e]=Q.useState(()=>sk?ok():void 0);return ar(()=>{t==null&&e(ok())},[]),Q.useEffect(()=>{sk=!0},[]),t}const R$=FO.useId,Aw=R$||C$;function LO(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const DO=Q.createContext(null),MO=Q.createContext(null),ap=()=>{var t;return((t=Q.useContext(DO))==null?void 0:t.id)||null},Vu=()=>Q.useContext(MO);function A$(t){const e=Aw(),n=Vu(),i=ap();return ar(()=>{if(!e)return;const o={id:e,parentId:i};return n?.addNode(o),()=>{n?.removeNode(o)}},[n,e,i]),e}function j$(t){const{children:e,id:n}=t,r=ap();return Q.createElement(DO.Provider,{value:Q.useMemo(()=>({id:n,parentId:r}),[n,r])},e)}function P$(t){const{children:e}=t,n=Q.useRef([]),r=Q.useCallback(l=>{n.current=[...n.current,l]},[]),i=Q.useCallback(l=>{n.current=n.current.filter(c=>c!==l)},[]),o=Q.useState(()=>LO())[0];return Q.createElement(MO.Provider,{value:Q.useMemo(()=>({nodesRef:n,addNode:r,removeNode:i,events:o}),[r,i,o])},e)}function ac(t){return"data-floating-ui-"+t}function _i(t){const e=Q.useRef(t);return ar(()=>{e.current=t}),e}const ak=ac("safe-polygon");function b_(t,e,n){return n&&!jf(n)?0:typeof t=="number"?t:t?.[e]}function F$(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:i,events:o,elements:l}=t,{enabled:c=!0,delay:d=0,handleClose:m=null,mouseOnly:y=!1,restMs:_=0,move:N=!0}=e,k=Vu(),q=ap(),T=_i(m),A=_i(d),D=_i(n),P=Q.useRef(),L=Q.useRef(-1),V=Q.useRef(),J=Q.useRef(-1),W=Q.useRef(!0),Z=Q.useRef(!1),oe=Q.useRef(()=>{}),U=Q.useRef(!1),ne=Q.useCallback(()=>{var je;const ve=(je=i.current.openEvent)==null?void 0:je.type;return ve?.includes("mouse")&&ve!=="mousedown"},[i]);Q.useEffect(()=>{if(!c)return;function je(ve){let{open:pe}=ve;pe||(clearTimeout(L.current),clearTimeout(J.current),W.current=!0,U.current=!1)}return o.on("openchange",je),()=>{o.off("openchange",je)}},[c,o]),Q.useEffect(()=>{if(!c||!T.current||!n)return;function je(pe){ne()&&r(!1,pe,"hover")}const ve=Yr(l.floating).documentElement;return ve.addEventListener("mouseleave",je),()=>{ve.removeEventListener("mouseleave",je)}},[l.floating,n,r,c,T,ne]);const B=Q.useCallback(function(je,ve,pe){ve===void 0&&(ve=!0),pe===void 0&&(pe="hover");const Ne=b_(A.current,"close",P.current);Ne&&!V.current?(clearTimeout(L.current),L.current=window.setTimeout(()=>r(!1,je,pe),Ne)):ve&&(clearTimeout(L.current),r(!1,je,pe))},[A,r]),se=Fi(()=>{oe.current(),V.current=void 0}),X=Fi(()=>{if(Z.current){const je=Yr(l.floating).body;je.style.pointerEvents="",je.removeAttribute(ak),Z.current=!1}}),fe=Fi(()=>i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1);Q.useEffect(()=>{if(!c)return;function je(K){if(clearTimeout(L.current),W.current=!1,y&&!jf(P.current)||_>0&&!b_(A.current,"open"))return;const xe=b_(A.current,"open",P.current);xe?L.current=window.setTimeout(()=>{D.current||r(!0,K,"hover")},xe):n||r(!0,K,"hover")}function ve(K){if(fe())return;oe.current();const xe=Yr(l.floating);if(clearTimeout(J.current),U.current=!1,T.current&&i.current.floatingContext){n||clearTimeout(L.current),V.current=T.current({...i.current.floatingContext,tree:k,x:K.clientX,y:K.clientY,onClose(){X(),se(),fe()||B(K,!0,"safe-polygon")}});const at=V.current;xe.addEventListener("mousemove",at),oe.current=()=>{xe.removeEventListener("mousemove",at)};return}(P.current==="touch"?!Zr(l.floating,K.relatedTarget):!0)&&B(K)}function pe(K){fe()||i.current.floatingContext&&(T.current==null||T.current({...i.current.floatingContext,tree:k,x:K.clientX,y:K.clientY,onClose(){X(),se(),fe()||B(K)}})(K))}if(Yn(l.domReference)){var Ne;const K=l.domReference;return n&&K.addEventListener("mouseleave",pe),(Ne=l.floating)==null||Ne.addEventListener("mouseleave",pe),N&&K.addEventListener("mousemove",je,{once:!0}),K.addEventListener("mouseenter",je),K.addEventListener("mouseleave",ve),()=>{var xe;n&&K.removeEventListener("mouseleave",pe),(xe=l.floating)==null||xe.removeEventListener("mouseleave",pe),N&&K.removeEventListener("mousemove",je),K.removeEventListener("mouseenter",je),K.removeEventListener("mouseleave",ve)}}},[l,c,t,y,_,N,B,se,X,r,n,D,k,A,T,i,fe]),ar(()=>{var je;if(c&&n&&(je=T.current)!=null&&je.__options.blockPointerEvents&&ne()){Z.current=!0;const pe=l.floating;if(Yn(l.domReference)&&pe){var ve;const Ne=Yr(l.floating).body;Ne.setAttribute(ak,"");const K=l.domReference,xe=k==null||(ve=k.nodesRef.current.find(ut=>ut.id===q))==null||(ve=ve.context)==null?void 0:ve.elements.floating;return xe&&(xe.style.pointerEvents=""),Ne.style.pointerEvents="none",K.style.pointerEvents="auto",pe.style.pointerEvents="auto",()=>{Ne.style.pointerEvents="",K.style.pointerEvents="",pe.style.pointerEvents=""}}}},[c,n,q,l,k,T,ne]),ar(()=>{n||(P.current=void 0,U.current=!1,se(),X())},[n,se,X]),Q.useEffect(()=>()=>{se(),clearTimeout(L.current),clearTimeout(J.current),X()},[c,l.domReference,se,X]);const Ee=Q.useMemo(()=>{function je(ve){P.current=ve.pointerType}return{onPointerDown:je,onPointerEnter:je,onMouseMove(ve){const{nativeEvent:pe}=ve;function Ne(){!W.current&&!D.current&&r(!0,pe,"hover")}y&&!jf(P.current)||n||_===0||U.current&&ve.movementX**2+ve.movementY**2<2||(clearTimeout(J.current),P.current==="touch"?Ne():(U.current=!0,J.current=window.setTimeout(Ne,_)))}}},[y,r,n,D,_]),Oe=Q.useMemo(()=>({onMouseEnter(){clearTimeout(L.current)},onMouseLeave(je){fe()||B(je.nativeEvent,!1)}}),[B,fe]);return Q.useMemo(()=>c?{reference:Ee,floating:Oe}:{},[c,Ee,Oe])}let lk=0;function Ll(t,e){e===void 0&&(e={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:i=!1}=e;r&&cancelAnimationFrame(lk);const o=()=>t?.focus({preventScroll:n});i?o():lk=requestAnimationFrame(o)}function ck(t,e){var n;let r=[],i=(n=t.find(o=>o.id===e))==null?void 0:n.parentId;for(;i;){const o=t.find(l=>l.id===i);i=o?.parentId,o&&(r=r.concat(o))}return r}function gu(t,e){let n=t.filter(i=>{var o;return i.parentId===e&&((o=i.context)==null?void 0:o.open)}),r=n;for(;r.length;)r=t.filter(i=>{var o;return(o=r)==null?void 0:o.some(l=>{var c;return i.parentId===l.id&&((c=i.context)==null?void 0:c.open)})}),n=n.concat(r);return n}function L$(t,e){let n,r=-1;function i(o,l){l>r&&(n=o,r=l),gu(t,o).forEach(d=>{i(d.id,l+1)})}return i(e,0),t.find(o=>o.id===n)}let Hc=new WeakMap,Dh=new WeakSet,Mh={},__=0;const D$=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,BO=t=>t&&(t.host||BO(t.parentNode)),M$=(t,e)=>e.map(n=>{if(t.contains(n))return n;const r=BO(n);return t.contains(r)?r:null}).filter(n=>n!=null);function B$(t,e,n,r){const i="data-floating-ui-inert",o=r?"inert":n?"aria-hidden":null,l=M$(e,t),c=new Set,d=new Set(l),m=[];Mh[i]||(Mh[i]=new WeakMap);const y=Mh[i];l.forEach(_),N(e),c.clear();function _(k){!k||c.has(k)||(c.add(k),k.parentNode&&_(k.parentNode))}function N(k){!k||d.has(k)||[].forEach.call(k.children,q=>{if(hl(q)!=="script")if(c.has(q))N(q);else{const T=o?q.getAttribute(o):null,A=T!==null&&T!=="false",D=Hc.get(q)||0,P=o?D+1:D,L=(y.get(q)||0)+1;Hc.set(q,P),y.set(q,L),m.push(q),P===1&&A&&Dh.add(q),L===1&&q.setAttribute(i,""),!A&&o&&q.setAttribute(o,"true")}})}return __++,()=>{m.forEach(k=>{const q=Hc.get(k)||0,T=o?q-1:q,A=(y.get(k)||0)-1;Hc.set(k,T),y.set(k,A),T||(!Dh.has(k)&&o&&k.removeAttribute(o),Dh.delete(k)),A||k.removeAttribute(i)}),__--,__||(Hc=new WeakMap,Hc=new WeakMap,Dh=new WeakSet,Mh={})}}function uk(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=Yr(t[0]).body;return B$(t.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,e,n)}const Yg=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function $O(t,e){const n=Zg(t,Yg());e==="prev"&&n.reverse();const r=n.indexOf(Ys(Yr(t)));return n.slice(r+1)[0]}function WO(){return $O(document.body,"next")}function zO(){return $O(document.body,"prev")}function lf(t,e){const n=e||t.currentTarget,r=t.relatedTarget;return!r||!Zr(n,r)}function $$(t){Zg(t,Yg()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function dk(t){t.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const Xg={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let W$;function fk(t){t.key==="Tab"&&(t.target,clearTimeout(W$))}const sg=Q.forwardRef(function(e,n){const[r,i]=Q.useState();ar(()=>(vO()&&i("button"),document.addEventListener("keydown",fk),()=>{document.removeEventListener("keydown",fk)}),[]);const o={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[ac("focus-guard")]:"",style:Xg};return Q.createElement("span",Pf({},e,o))}),UO=Q.createContext(null),pk=ac("portal");function z$(t){t===void 0&&(t={});const{id:e,root:n}=t,r=Aw(),i=VO(),[o,l]=Q.useState(null),c=Q.useRef(null);return ar(()=>()=>{o?.remove(),queueMicrotask(()=>{c.current=null})},[o]),ar(()=>{if(!r||c.current)return;const d=e?document.getElementById(e):null;if(!d)return;const m=document.createElement("div");m.id=r,m.setAttribute(pk,""),d.appendChild(m),c.current=m,l(m)},[e,r]),ar(()=>{if(n===null||!r||c.current)return;let d=n||i?.portalNode;d&&!Yn(d)&&(d=d.current),d=d||document.body;let m=null;e&&(m=document.createElement("div"),m.id=e,d.appendChild(m));const y=document.createElement("div");y.id=r,y.setAttribute(pk,""),d=m||d,d.appendChild(y),c.current=y,l(y)},[e,n,r,i]),o}function jw(t){const{children:e,id:n,root:r,preserveTabOrder:i=!0}=t,o=z$({id:n,root:r}),[l,c]=Q.useState(null),d=Q.useRef(null),m=Q.useRef(null),y=Q.useRef(null),_=Q.useRef(null),N=l?.modal,k=l?.open,q=!!l&&!l.modal&&l.open&&i&&!!(r||o);return Q.useEffect(()=>{if(!o||!i||N)return;function T(A){o&&lf(A)&&(A.type==="focusin"?dk:$$)(o)}return o.addEventListener("focusin",T,!0),o.addEventListener("focusout",T,!0),()=>{o.removeEventListener("focusin",T,!0),o.removeEventListener("focusout",T,!0)}},[o,i,N]),Q.useEffect(()=>{o&&(k||dk(o))},[k,o]),Q.createElement(UO.Provider,{value:Q.useMemo(()=>({preserveTabOrder:i,beforeOutsideRef:d,afterOutsideRef:m,beforeInsideRef:y,afterInsideRef:_,portalNode:o,setFocusManagerState:c}),[i,o])},q&&o&&Q.createElement(sg,{"data-type":"outside",ref:d,onFocus:T=>{if(lf(T,o)){var A;(A=y.current)==null||A.focus()}else{const D=zO()||l?.refs.domReference.current;D?.focus()}}}),q&&o&&Q.createElement("span",{"aria-owns":o.id,style:Xg}),o&&aw.createPortal(e,o),q&&o&&Q.createElement(sg,{"data-type":"outside",ref:m,onFocus:T=>{if(lf(T,o)){var A;(A=_.current)==null||A.focus()}else{const D=WO()||l?.refs.domReference.current;D?.focus(),l?.closeOnFocusOut&&l?.onOpenChange(!1,T.nativeEvent,"focus-out")}}}))}const VO=()=>Q.useContext(UO),Tx="data-floating-ui-focusable";function Ox(t){return t?t.hasAttribute(Tx)?t:t.querySelector("["+Tx+"]")||t:null}const hk=20;let Dl=[];function x_(t){Dl=Dl.filter(e=>e.isConnected),t&&hl(t)!=="body"&&(Dl.push(t),Dl.length>hk&&(Dl=Dl.slice(-hk)))}function mk(){return Dl.slice().reverse().find(t=>t.isConnected)}function U$(t){const e=Yg();return K4(t,e)?t:Zg(t,e)[0]||t}const V$=Q.forwardRef(function(e,n){return Q.createElement("button",Pf({},e,{type:"button",ref:n,tabIndex:-1,style:Xg}))});function HO(t){const{context:e,children:n,disabled:r=!1,order:i=["content"],guards:o=!0,initialFocus:l=0,returnFocus:c=!0,restoreFocus:d=!1,modal:m=!0,visuallyHiddenDismiss:y=!1,closeOnFocusOut:_=!0,outsideElementsInert:N=!1}=t,{open:k,refs:q,nodeId:T,onOpenChange:A,events:D,dataRef:P,elements:{domReference:L,floating:V}}=e,J=typeof l=="number"&&l<0,W=bO(L)&&J,Z=D$(),oe=Z?o:!0,U=!oe||Z&&N,ne=_i(i),B=_i(l),se=_i(c),X=Vu(),fe=VO(),Ee=Q.useRef(null),Oe=Q.useRef(null),je=Q.useRef(!1),ve=Q.useRef(!1),pe=Q.useRef(-1),Ne=fe!=null,K=Ox(V),xe=Fi(function(mt){return mt===void 0&&(mt=K),mt?Zg(mt,Yg()):[]}),ut=Fi(mt=>{const ht=xe(mt);return ne.current.map(Nt=>L&&Nt==="reference"?L:K&&Nt==="floating"?K:ht).filter(Boolean).flat()});Q.useEffect(()=>{if(r||!m)return;function mt(Nt){if(Nt.key==="Tab"){Zr(K,Ys(Yr(K)))&&xe().length===0&&!W&&yi(Nt);const kt=ut(),Yt=Wa(Nt);ne.current[0]==="reference"&&Yt===L&&(yi(Nt),Nt.shiftKey?Ll(kt[kt.length-1]):Ll(kt[1])),ne.current[1]==="floating"&&Yt===K&&Nt.shiftKey&&(yi(Nt),Ll(kt[0]))}}const ht=Yr(K);return ht.addEventListener("keydown",mt),()=>{ht.removeEventListener("keydown",mt)}},[r,L,K,m,ne,W,xe,ut]),Q.useEffect(()=>{if(r||!V)return;function mt(ht){const Nt=Wa(ht),Yt=xe().indexOf(Nt);Yt!==-1&&(pe.current=Yt)}return V.addEventListener("focusin",mt),()=>{V.removeEventListener("focusin",mt)}},[r,V,xe]),Q.useEffect(()=>{if(r||!_)return;function mt(){ve.current=!0,setTimeout(()=>{ve.current=!1})}function ht(Nt){const kt=Nt.relatedTarget;queueMicrotask(()=>{const Yt=!(Zr(L,kt)||Zr(V,kt)||Zr(kt,V)||Zr(fe?.portalNode,kt)||kt!=null&&kt.hasAttribute(ac("focus-guard"))||X&&(gu(X.nodesRef.current,T).find(Kt=>{var sn,hn;return Zr((sn=Kt.context)==null?void 0:sn.elements.floating,kt)||Zr((hn=Kt.context)==null?void 0:hn.elements.domReference,kt)})||ck(X.nodesRef.current,T).find(Kt=>{var sn,hn,le;return[(sn=Kt.context)==null?void 0:sn.elements.floating,Ox((hn=Kt.context)==null?void 0:hn.elements.floating)].includes(kt)||((le=Kt.context)==null?void 0:le.elements.domReference)===kt})));if(d&&Yt&&Ys(Yr(K))===Yr(K).body){jr(K)&&K.focus();const Kt=pe.current,sn=xe(),hn=sn[Kt]||sn[sn.length-1]||K;jr(hn)&&hn.focus()}(W||!m)&&kt&&Yt&&!ve.current&&kt!==mk()&&(je.current=!0,A(!1,Nt,"focus-out"))})}if(V&&jr(L))return L.addEventListener("focusout",ht),L.addEventListener("pointerdown",mt),V.addEventListener("focusout",ht),()=>{L.removeEventListener("focusout",ht),L.removeEventListener("pointerdown",mt),V.removeEventListener("focusout",ht)}},[r,L,V,K,m,T,X,fe,A,_,d,xe,W]);const at=Q.useRef(null),ft=Q.useRef(null),dt=rk([at,fe?.beforeInsideRef]),pt=rk([ft,fe?.afterInsideRef]);Q.useEffect(()=>{var mt;if(r||!V)return;const ht=Array.from((fe==null||(mt=fe.portalNode)==null?void 0:mt.querySelectorAll("["+ac("portal")+"]"))||[]),Nt=X&&!m?ck(X?.nodesRef.current,T).map(Kt=>{var sn;return(sn=Kt.context)==null?void 0:sn.elements.floating}):[],kt=[V,...ht,...Nt,Ee.current,Oe.current,at.current,ft.current,fe?.beforeOutsideRef.current,fe?.afterOutsideRef.current,ne.current.includes("reference")||W?L:null].filter(Kt=>Kt!=null),Yt=m||W?uk(kt,!U,U):uk(kt);return()=>{Yt()}},[r,L,V,m,ne,fe,W,oe,U,X,T]),ar(()=>{if(r||!jr(K))return;const mt=Yr(K),ht=Ys(mt);queueMicrotask(()=>{const Nt=ut(K),kt=B.current,Yt=(typeof kt=="number"?Nt[kt]:kt.current)||K,Kt=Zr(K,ht);!J&&!Kt&&k&&Ll(Yt,{preventScroll:Yt===K})})},[r,k,K,J,ut,B]),ar(()=>{if(r||!K)return;let mt=!1;const ht=Yr(K),Nt=Ys(ht);let Yt=P.current.openEvent;x_(Nt);function Kt(le){let{open:ue,reason:ye,event:Ce,nested:De}=le;ue&&(Yt=Ce),ye==="escape-key"&&q.domReference.current&&x_(q.domReference.current),["hover","safe-polygon"].includes(ye)&&Ce.type==="mouseleave"&&(je.current=!0),ye==="outside-press"&&(De?(je.current=!1,mt=!0):je.current=!(yO(Ce)||Iw(Ce)))}D.on("openchange",Kt);const sn=ht.createElement("span");sn.setAttribute("tabindex","-1"),sn.setAttribute("aria-hidden","true"),Object.assign(sn.style,Xg),Ne&&L&&L.insertAdjacentElement("afterend",sn);function hn(){return typeof se.current=="boolean"?mk()||sn:se.current.current||sn}return()=>{D.off("openchange",Kt);const le=Ys(ht),ue=Zr(V,le)||X&&gu(X.nodesRef.current,T).some(De=>{var Je;return Zr((Je=De.context)==null?void 0:Je.elements.floating,le)});(ue||Yt&&["click","mousedown"].includes(Yt.type))&&q.domReference.current&&x_(q.domReference.current);const Ce=hn();queueMicrotask(()=>{const De=U$(Ce);se.current&&!je.current&&jr(De)&&(!(De!==le&&le!==ht.body)||ue)&&De.focus({preventScroll:mt}),sn.remove()})}},[r,V,K,se,P,q,D,X,T,Ne,L]),Q.useEffect(()=>{queueMicrotask(()=>{je.current=!1})},[r]),ar(()=>{if(!r&&fe)return fe.setFocusManagerState({modal:m,closeOnFocusOut:_,open:k,onOpenChange:A,refs:q}),()=>{fe.setFocusManagerState(null)}},[r,fe,m,k,A,q,_]),ar(()=>{if(r||!K||typeof MutationObserver!="function"||J)return;const mt=()=>{const Nt=K.getAttribute("tabindex"),kt=xe(),Yt=Ys(Yr(V)),Kt=kt.indexOf(Yt);Kt!==-1&&(pe.current=Kt),ne.current.includes("floating")||Yt!==q.domReference.current&&kt.length===0?Nt!=="0"&&K.setAttribute("tabindex","0"):Nt!=="-1"&&K.setAttribute("tabindex","-1")};mt();const ht=new MutationObserver(mt);return ht.observe(K,{childList:!0,subtree:!0,attributes:!0}),()=>{ht.disconnect()}},[r,V,K,q,ne,xe,J]);function vt(mt){return r||!y||!m?null:Q.createElement(V$,{ref:mt==="start"?Ee:Oe,onClick:ht=>A(!1,ht.nativeEvent)},typeof y=="string"?y:"Dismiss")}const At=!r&&oe&&(m?!W:!0)&&(Ne||m);return Q.createElement(Q.Fragment,null,At&&Q.createElement(sg,{"data-type":"inside",ref:dt,onFocus:mt=>{if(m){const Nt=ut();Ll(i[0]==="reference"?Nt[0]:Nt[Nt.length-1])}else if(fe!=null&&fe.preserveTabOrder&&fe.portalNode)if(je.current=!1,lf(mt,fe.portalNode)){const Nt=WO()||L;Nt?.focus()}else{var ht;(ht=fe.beforeOutsideRef.current)==null||ht.focus()}}}),!W&&vt("start"),n,vt("end"),At&&Q.createElement(sg,{"data-type":"inside",ref:pt,onFocus:mt=>{if(m)Ll(ut()[0]);else if(fe!=null&&fe.preserveTabOrder&&fe.portalNode)if(_&&(je.current=!0),lf(mt,fe.portalNode)){const Nt=zO()||L;Nt?.focus()}else{var ht;(ht=fe.afterOutsideRef.current)==null||ht.focus()}}}))}let Bh=0;function H$(){const t=/iP(hone|ad|od)|iOS/.test(kw()),e=document.body.style,r=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",i=window.innerWidth-document.documentElement.clientWidth,o=e.left?parseFloat(e.left):window.scrollX,l=e.top?parseFloat(e.top):window.scrollY;if(e.overflow="hidden",i&&(e[r]=i+"px"),t){var c,d;const m=((c=window.visualViewport)==null?void 0:c.offsetLeft)||0,y=((d=window.visualViewport)==null?void 0:d.offsetTop)||0;Object.assign(e,{position:"fixed",top:-(l-Math.floor(y))+"px",left:-(o-Math.floor(m))+"px",right:"0"})}return()=>{Object.assign(e,{overflow:"",[r]:""}),t&&(Object.assign(e,{position:"",top:"",left:"",right:""}),window.scrollTo(o,l))}}let gk=()=>{};const Q$=Q.forwardRef(function(e,n){const{lockScroll:r=!1,...i}=e;return ar(()=>{if(r)return Bh++,Bh===1&&(gk=H$()),()=>{Bh--,Bh===0&&gk()}},[r]),Q.createElement("div",Pf({ref:n},i,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...i.style}}))});function yk(t){return jr(t.target)&&t.target.tagName==="BUTTON"}function vk(t){return qw(t)}function Pw(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:i,elements:{domReference:o}}=t,{enabled:l=!0,event:c="click",toggle:d=!0,ignoreMouse:m=!1,keyboardHandlers:y=!0,stickIfOpen:_=!0}=e,N=Q.useRef(),k=Q.useRef(!1),q=Q.useMemo(()=>({onPointerDown(T){N.current=T.pointerType},onMouseDown(T){const A=N.current;T.button===0&&c!=="click"&&(jf(A,!0)&&m||(n&&d&&(!(i.current.openEvent&&_)||i.current.openEvent.type==="mousedown")?r(!1,T.nativeEvent,"click"):(T.preventDefault(),r(!0,T.nativeEvent,"click"))))},onClick(T){const A=N.current;if(c==="mousedown"&&N.current){N.current=void 0;return}jf(A,!0)&&m||(n&&d&&(!(i.current.openEvent&&_)||i.current.openEvent.type==="click")?r(!1,T.nativeEvent,"click"):r(!0,T.nativeEvent,"click"))},onKeyDown(T){N.current=void 0,!(T.defaultPrevented||!y||yk(T))&&(T.key===" "&&!vk(o)&&(T.preventDefault(),k.current=!0),T.key==="Enter"&&r(!(n&&d),T.nativeEvent,"click"))},onKeyUp(T){T.defaultPrevented||!y||yk(T)||vk(o)||T.key===" "&&k.current&&(k.current=!1,r(!(n&&d),T.nativeEvent,"click"))}}),[i,o,c,m,y,r,n,_,d]);return Q.useMemo(()=>l?{reference:q}:{},[l,q])}const K$={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},G$={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},bk=t=>{var e,n;return{escapeKey:typeof t=="boolean"?t:(e=t?.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(n=t?.outsidePress)!=null?n:!0}};function Fw(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,elements:i,dataRef:o}=t,{enabled:l=!0,escapeKey:c=!0,outsidePress:d=!0,outsidePressEvent:m="pointerdown",referencePress:y=!1,referencePressEvent:_="pointerdown",ancestorScroll:N=!1,bubbles:k,capture:q}=e,T=Vu(),A=Fi(typeof d=="function"?d:()=>!1),D=typeof d=="function"?A:d,P=Q.useRef(!1),L=Q.useRef(!1),{escapeKey:V,outsidePress:J}=bk(k),{escapeKey:W,outsidePress:Z}=bk(q),oe=Q.useRef(!1),U=Fi(Ee=>{var Oe;if(!n||!l||!c||Ee.key!=="Escape"||oe.current)return;const je=(Oe=o.current.floatingContext)==null?void 0:Oe.nodeId,ve=T?gu(T.nodesRef.current,je):[];if(!V&&(Ee.stopPropagation(),ve.length>0)){let pe=!0;if(ve.forEach(Ne=>{var K;if((K=Ne.context)!=null&&K.open&&!Ne.context.dataRef.current.__escapeKeyBubbles){pe=!1;return}}),!pe)return}r(!1,b4(Ee)?Ee.nativeEvent:Ee,"escape-key")}),ne=Fi(Ee=>{var Oe;const je=()=>{var ve;U(Ee),(ve=Wa(Ee))==null||ve.removeEventListener("keydown",je)};(Oe=Wa(Ee))==null||Oe.addEventListener("keydown",je)}),B=Fi(Ee=>{var Oe;const je=P.current;P.current=!1;const ve=L.current;if(L.current=!1,m==="click"&&ve||je||typeof D=="function"&&!D(Ee))return;const pe=Wa(Ee),Ne="["+ac("inert")+"]",K=Yr(i.floating).querySelectorAll(Ne);let xe=Yn(pe)?pe:null;for(;xe&&!la(xe);){const dt=fa(xe);if(la(dt)||!Yn(dt))break;xe=dt}if(K.length&&Yn(pe)&&!_4(pe)&&!Zr(pe,i.floating)&&Array.from(K).every(dt=>!Zr(xe,dt)))return;if(jr(pe)&&fe){const dt=la(pe),pt=Cs(pe),vt=/auto|scroll/,At=dt||vt.test(pt.overflowX),mt=dt||vt.test(pt.overflowY),ht=At&&pe.clientWidth>0&&pe.scrollWidth>pe.clientWidth,Nt=mt&&pe.clientHeight>0&&pe.scrollHeight>pe.clientHeight,kt=pt.direction==="rtl",Yt=Nt&&(kt?Ee.offsetX<=pe.offsetWidth-pe.clientWidth:Ee.offsetX>pe.clientWidth),Kt=ht&&Ee.offsetY>pe.clientHeight;if(Yt||Kt)return}const ut=(Oe=o.current.floatingContext)==null?void 0:Oe.nodeId,at=T&&gu(T.nodesRef.current,ut).some(dt=>{var pt;return m_(Ee,(pt=dt.context)==null?void 0:pt.elements.floating)});if(m_(Ee,i.floating)||m_(Ee,i.domReference)||at)return;const ft=T?gu(T.nodesRef.current,ut):[];if(ft.length>0){let dt=!0;if(ft.forEach(pt=>{var vt;if((vt=pt.context)!=null&&vt.open&&!pt.context.dataRef.current.__outsidePressBubbles){dt=!1;return}}),!dt)return}r(!1,Ee,"outside-press")}),se=Fi(Ee=>{var Oe;const je=()=>{var ve;B(Ee),(ve=Wa(Ee))==null||ve.removeEventListener(m,je)};(Oe=Wa(Ee))==null||Oe.addEventListener(m,je)});Q.useEffect(()=>{if(!n||!l)return;o.current.__escapeKeyBubbles=V,o.current.__outsidePressBubbles=J;let Ee=-1;function Oe(K){r(!1,K,"ancestor-scroll")}function je(){window.clearTimeout(Ee),oe.current=!0}function ve(){Ee=window.setTimeout(()=>{oe.current=!1},Gg()?5:0)}const pe=Yr(i.floating);c&&(pe.addEventListener("keydown",W?ne:U,W),pe.addEventListener("compositionstart",je),pe.addEventListener("compositionend",ve)),D&&pe.addEventListener(m,Z?se:B,Z);let Ne=[];return N&&(Yn(i.domReference)&&(Ne=Ga(i.domReference)),Yn(i.floating)&&(Ne=Ne.concat(Ga(i.floating))),!Yn(i.reference)&&i.reference&&i.reference.contextElement&&(Ne=Ne.concat(Ga(i.reference.contextElement)))),Ne=Ne.filter(K=>{var xe;return K!==((xe=pe.defaultView)==null?void 0:xe.visualViewport)}),Ne.forEach(K=>{K.addEventListener("scroll",Oe,{passive:!0})}),()=>{c&&(pe.removeEventListener("keydown",W?ne:U,W),pe.removeEventListener("compositionstart",je),pe.removeEventListener("compositionend",ve)),D&&pe.removeEventListener(m,Z?se:B,Z),Ne.forEach(K=>{K.removeEventListener("scroll",Oe)}),window.clearTimeout(Ee)}},[o,i,c,D,m,n,r,N,l,V,J,U,W,ne,B,Z,se]),Q.useEffect(()=>{P.current=!1},[D,m]);const X=Q.useMemo(()=>({onKeyDown:U,...y&&{[K$[_]]:Ee=>{r(!1,Ee.nativeEvent,"reference-press")},..._!=="click"&&{onClick(Ee){r(!1,Ee.nativeEvent,"reference-press")}}}}),[U,r,y,_]),fe=Q.useMemo(()=>({onKeyDown:U,onMouseDown(){L.current=!0},onMouseUp(){L.current=!0},[G$[m]]:()=>{P.current=!0}}),[U,m]);return Q.useMemo(()=>l?{reference:X,floating:fe}:{},[l,X,fe])}function J$(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=Aw(),o=Q.useRef({}),[l]=Q.useState(()=>LO()),c=ap()!=null,[d,m]=Q.useState(r.reference),y=Fi((k,q,T)=>{o.current.openEvent=k?q:void 0,l.emit("openchange",{open:k,event:q,reason:T,nested:c}),n?.(k,q,T)}),_=Q.useMemo(()=>({setPositionReference:m}),[]),N=Q.useMemo(()=>({reference:d||r.reference||null,floating:r.floating||null,domReference:r.reference}),[d,r.reference,r.floating]);return Q.useMemo(()=>({dataRef:o,open:e,onOpenChange:y,elements:N,events:l,floatingId:i,refs:_}),[e,y,N,l,i,_])}function Lw(t){t===void 0&&(t={});const{nodeId:e}=t,n=J$({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[o,l]=Q.useState(null),[c,d]=Q.useState(null),y=i?.domReference||o,_=Q.useRef(null),N=Vu();ar(()=>{y&&(_.current=y)},[y]);const k=x$({...t,elements:{...i,...c&&{reference:c}}}),q=Q.useCallback(L=>{const V=Yn(L)?{getBoundingClientRect:()=>L.getBoundingClientRect(),contextElement:L}:L;d(V),k.refs.setReference(V)},[k.refs]),T=Q.useCallback(L=>{(Yn(L)||L===null)&&(_.current=L,l(L)),(Yn(k.refs.reference.current)||k.refs.reference.current===null||L!==null&&!Yn(L))&&k.refs.setReference(L)},[k.refs]),A=Q.useMemo(()=>({...k.refs,setReference:T,setPositionReference:q,domReference:_}),[k.refs,T,q]),D=Q.useMemo(()=>({...k.elements,domReference:y}),[k.elements,y]),P=Q.useMemo(()=>({...k,...r,refs:A,elements:D,nodeId:e}),[k,A,D,e,r]);return ar(()=>{r.dataRef.current.floatingContext=P;const L=N?.nodesRef.current.find(V=>V.id===e);L&&(L.context=P)}),Q.useMemo(()=>({...k,context:P,refs:A,elements:D}),[k,A,D,P])}function Z$(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,events:i,dataRef:o,elements:l}=t,{enabled:c=!0,visibleOnly:d=!0}=e,m=Q.useRef(!1),y=Q.useRef(),_=Q.useRef(!0);Q.useEffect(()=>{if(!c)return;const k=Bi(l.domReference);function q(){!n&&jr(l.domReference)&&l.domReference===Ys(Yr(l.domReference))&&(m.current=!0)}function T(){_.current=!0}return k.addEventListener("blur",q),k.addEventListener("keydown",T,!0),()=>{k.removeEventListener("blur",q),k.removeEventListener("keydown",T,!0)}},[l.domReference,n,c]),Q.useEffect(()=>{if(!c)return;function k(q){let{reason:T}=q;(T==="reference-press"||T==="escape-key")&&(m.current=!0)}return i.on("openchange",k),()=>{i.off("openchange",k)}},[i,c]),Q.useEffect(()=>()=>{clearTimeout(y.current)},[]);const N=Q.useMemo(()=>({onPointerDown(k){Iw(k.nativeEvent)||(_.current=!1)},onMouseLeave(){m.current=!1},onFocus(k){if(m.current)return;const q=Wa(k.nativeEvent);if(d&&Yn(q))try{if(vO()&&y4())throw Error();if(!q.matches(":focus-visible"))return}catch{if(!_.current&&!qw(q))return}r(!0,k.nativeEvent,"focus")},onBlur(k){m.current=!1;const q=k.relatedTarget,T=k.nativeEvent,A=Yn(q)&&q.hasAttribute(ac("focus-guard"))&&q.getAttribute("data-type")==="outside";y.current=window.setTimeout(()=>{var D;const P=Ys(l.domReference?l.domReference.ownerDocument:document);!q&&P===l.domReference||Zr((D=o.current.floatingContext)==null?void 0:D.refs.floating.current,P)||Zr(l.domReference,P)||A||r(!1,T,"focus")})}}),[o,l.domReference,r,d]);return Q.useMemo(()=>c?{reference:N}:{},[c,N])}const _k="active",xk="selected";function w_(t,e,n){const r=new Map,i=n==="item";let o=t;if(i&&t){const{[_k]:l,[xk]:c,...d}=t;o=d}return{...n==="floating"&&{tabIndex:-1,[Tx]:""},...o,...e.map(l=>{const c=l?l[n]:null;return typeof c=="function"?t?c(t):null:c}).concat(t).reduce((l,c)=>(c&&Object.entries(c).forEach(d=>{let[m,y]=d;if(!(i&&[_k,xk].includes(m)))if(m.indexOf("on")===0){if(r.has(m)||r.set(m,[]),typeof y=="function"){var _;(_=r.get(m))==null||_.push(y),l[m]=function(){for(var N,k=arguments.length,q=new Array(k),T=0;T<k;T++)q[T]=arguments[T];return(N=r.get(m))==null?void 0:N.map(A=>A(...q)).find(A=>A!==void 0)}}}else l[m]=y}),l),{})}}function Dw(t){t===void 0&&(t=[]);const e=t.map(c=>c?.reference),n=t.map(c=>c?.floating),r=t.map(c=>c?.item),i=Q.useCallback(c=>w_(c,t,"reference"),e),o=Q.useCallback(c=>w_(c,t,"floating"),n),l=Q.useCallback(c=>w_(c,t,"item"),r);return Q.useMemo(()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:l}),[i,o,l])}function ey(t,e,n){switch(t){case"vertical":return e;case"horizontal":return n;default:return e||n}}function wk(t,e){return ey(e,t===Rw||t===op,t===Ja||t===Za)}function S_(t,e,n){return ey(e,t===op,n?t===Ja:t===Za)||t==="Enter"||t===" "||t===""}function Y$(t,e,n){return ey(e,n?t===Ja:t===Za,t===op)}function Sk(t,e,n){return ey(e,n?t===Za:t===Ja,t===Rw)}function X$(t,e){const{open:n,onOpenChange:r,elements:i}=t,{listRef:o,activeIndex:l,onNavigate:c=()=>{},enabled:d=!0,selectedIndex:m=null,allowEscape:y=!1,loop:_=!1,nested:N=!1,rtl:k=!1,virtual:q=!1,focusItemOnOpen:T="auto",focusItemOnHover:A=!0,openOnArrowKeyDown:D=!0,disabledIndices:P=void 0,orientation:L="vertical",cols:V=1,scrollItemIntoView:J=!0,virtualItemRef:W,itemSizes:Z,dense:oe=!1}=e,U=Ox(i.floating),ne=_i(U),B=ap(),se=Vu(),X=Fi(()=>{c(Oe.current===-1?null:Oe.current)}),fe=bO(i.domReference),Ee=Q.useRef(T),Oe=Q.useRef(m??-1),je=Q.useRef(null),ve=Q.useRef(!0),pe=Q.useRef(X),Ne=Q.useRef(!!i.floating),K=Q.useRef(n),xe=Q.useRef(!1),ut=Q.useRef(!1),at=_i(P),ft=_i(n),dt=_i(J),pt=_i(m),[vt,At]=Q.useState(),[mt,ht]=Q.useState(),Nt=Fi(()=>{function ue(De){q?(At(De.id),se?.events.emit("virtualfocus",De),W&&(W.current=De)):Ll(De,{sync:xe.current,preventScroll:!0})}const ye=o.current[Oe.current];ye&&ue(ye),(xe.current?De=>De():requestAnimationFrame)(()=>{const De=o.current[Oe.current]||ye;if(!De)return;ye||ue(De);const Je=dt.current;Je&&Yt&&(ut.current||!ve.current)&&(De.scrollIntoView==null||De.scrollIntoView(typeof Je=="boolean"?{block:"nearest",inline:"nearest"}:Je))})});ar(()=>{d&&(n&&i.floating?Ee.current&&m!=null&&(ut.current=!0,Oe.current=m,X()):Ne.current&&(Oe.current=-1,pe.current()))},[d,n,i.floating,m,X]),ar(()=>{if(d&&n&&i.floating)if(l==null){if(xe.current=!1,pt.current!=null)return;if(Ne.current&&(Oe.current=-1,Nt()),(!K.current||!Ne.current)&&Ee.current&&(je.current!=null||Ee.current===!0&&je.current==null)){let ue=0;const ye=()=>{o.current[0]==null?(ue<2&&(ue?requestAnimationFrame:queueMicrotask)(ye),ue++):(Oe.current=je.current==null||S_(je.current,L,k)||N?v_(o,at.current):ik(o,at.current),je.current=null,X())};ye()}}else af(o,l)||(Oe.current=l,Nt(),ut.current=!1)},[d,n,i.floating,l,pt,N,o,L,k,X,Nt,at]),ar(()=>{var ue;if(!d||i.floating||!se||q||!Ne.current)return;const ye=se.nodesRef.current,Ce=(ue=ye.find(Fe=>Fe.id===B))==null||(ue=ue.context)==null?void 0:ue.elements.floating,De=Ys(Yr(i.floating)),Je=ye.some(Fe=>Fe.context&&Zr(Fe.context.elements.floating,De));Ce&&!Je&&ve.current&&Ce.focus({preventScroll:!0})},[d,i.floating,se,B,q]),ar(()=>{if(!d||!se||!q||B)return;function ue(ye){ht(ye.id),W&&(W.current=ye)}return se.events.on("virtualfocus",ue),()=>{se.events.off("virtualfocus",ue)}},[d,se,q,B,W]),ar(()=>{pe.current=X,K.current=n,Ne.current=!!i.floating}),ar(()=>{n||(je.current=null)},[n]);const kt=l!=null,Yt=Q.useMemo(()=>{function ue(Ce){if(!n)return;const De=o.current.indexOf(Ce);De!==-1&&Oe.current!==De&&(Oe.current=De,X())}return{onFocus(Ce){let{currentTarget:De}=Ce;xe.current=!0,ue(De)},onClick:Ce=>{let{currentTarget:De}=Ce;return De.focus({preventScroll:!0})},...A&&{onMouseMove(Ce){let{currentTarget:De}=Ce;xe.current=!0,ut.current=!1,ue(De)},onPointerLeave(Ce){let{pointerType:De}=Ce;if(!(!ve.current||De==="touch")&&(xe.current=!0,Oe.current=-1,X(),!q)){var Je;(Je=ne.current)==null||Je.focus({preventScroll:!0})}}}}},[n,ne,A,o,X,q]),Kt=Fi(ue=>{if(ve.current=!1,xe.current=!0,ue.which===229||!ft.current&&ue.currentTarget===ne.current)return;if(N&&Sk(ue.key,L,k)){yi(ue),r(!1,ue.nativeEvent,"list-navigation"),jr(i.domReference)&&(q?se?.events.emit("virtualfocus",i.domReference):i.domReference.focus());return}const ye=Oe.current,Ce=v_(o,P),De=ik(o,P);if(fe||(ue.key==="Home"&&(yi(ue),Oe.current=Ce,X()),ue.key==="End"&&(yi(ue),Oe.current=De,X())),V>1){const Je=Z||Array.from({length:o.current.length},()=>({width:1,height:1})),Fe=I$(Je,V,oe),et=Fe.findIndex(yn=>yn!=null&&!dm(o.current,yn,P)),Vt=Fe.reduce((yn,xr,Fn)=>xr!=null&&!dm(o.current,xr,P)?Fn:yn,-1),zt=Fe[k$({current:Fe.map(yn=>yn!=null?o.current[yn]:null)},{event:ue,orientation:L,loop:_,rtl:k,cols:V,disabledIndices:T$([...P||o.current.map((yn,xr)=>dm(o.current,xr)?xr:void 0),void 0],Fe),minIndex:et,maxIndex:Vt,prevIndex:q$(Oe.current>De?Ce:Oe.current,Je,Fe,V,ue.key===op?"bl":ue.key===(k?Ja:Za)?"tr":"tl"),stopEvent:!0})];if(zt!=null&&(Oe.current=zt,X()),L==="both")return}if(wk(ue.key,L)){if(yi(ue),n&&!q&&Ys(ue.currentTarget.ownerDocument)===ue.currentTarget){Oe.current=S_(ue.key,L,k)?Ce:De,X();return}S_(ue.key,L,k)?_?Oe.current=ye>=De?y&&ye!==o.current.length?-1:Ce:si(o,{startingIndex:ye,disabledIndices:P}):Oe.current=Math.min(De,si(o,{startingIndex:ye,disabledIndices:P})):_?Oe.current=ye<=Ce?y&&ye!==-1?o.current.length:De:si(o,{startingIndex:ye,decrement:!0,disabledIndices:P}):Oe.current=Math.max(Ce,si(o,{startingIndex:ye,decrement:!0,disabledIndices:P})),af(o,Oe.current)&&(Oe.current=-1),X()}}),sn=Q.useMemo(()=>q&&n&&kt&&{"aria-activedescendant":mt||vt},[q,n,kt,mt,vt]),hn=Q.useMemo(()=>({"aria-orientation":L==="both"?void 0:L,...fe?{}:sn,onKeyDown:Kt,onPointerMove(){ve.current=!0}}),[sn,Kt,L,fe]),le=Q.useMemo(()=>{function ue(Ce){T==="auto"&&yO(Ce.nativeEvent)&&(Ee.current=!0)}function ye(Ce){Ee.current=T,T==="auto"&&Iw(Ce.nativeEvent)&&(Ee.current=!0)}return{...sn,onKeyDown(Ce){ve.current=!1;const De=Ce.key.startsWith("Arrow"),Je=["Home","End"].includes(Ce.key),Fe=De||Je,et=Y$(Ce.key,L,k),Vt=Sk(Ce.key,L,k),zt=wk(Ce.key,L),yn=(N?et:zt)||Ce.key==="Enter"||Ce.key.trim()==="";if(q&&n){const Ui=se?.nodesRef.current.find($t=>$t.parentId==null),wr=se&&Ui?L$(se.nodesRef.current,Ui.id):null;if(Fe&&wr&&W){const $t=new KeyboardEvent("keydown",{key:Ce.key,bubbles:!0});if(et||Vt){var xr,Fn;const us=((xr=wr.context)==null?void 0:xr.elements.domReference)===Ce.currentTarget,ds=Vt&&!us?(Fn=wr.context)==null?void 0:Fn.elements.domReference:et?o.current.find(fs=>fs?.id===vt):null;ds&&(yi(Ce),ds.dispatchEvent($t),ht(void 0))}if((zt||Je)&&wr.context&&wr.context.open&&wr.parentId&&Ce.currentTarget!==wr.context.elements.domReference){var $r;yi(Ce),($r=wr.context.elements.domReference)==null||$r.dispatchEvent($t);return}}return Kt(Ce)}if(!(!n&&!D&&De)){if(yn&&(je.current=N&&zt?null:Ce.key),N){et&&(yi(Ce),n?(Oe.current=v_(o,at.current),X()):r(!0,Ce.nativeEvent,"list-navigation"));return}zt&&(m!=null&&(Oe.current=m),yi(Ce),!n&&D?r(!0,Ce.nativeEvent,"list-navigation"):Kt(Ce),n&&X())}},onFocus(){n&&!q&&(Oe.current=-1,X())},onPointerDown:ye,onMouseDown:ue,onClick:ue}},[vt,sn,Kt,at,T,o,N,X,r,n,D,L,k,m,se,q,W]);return Q.useMemo(()=>d?{reference:le,floating:hn,item:Yt}:{},[d,le,hn,Yt])}const Ek=t=>t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(e,n)=>(n?"-":"")+e.toLowerCase());function Qc(t,e){return typeof t=="function"?t(e):t}function eW(t,e){const[n,r]=Q.useState(t);return t&&!n&&r(!0),Q.useEffect(()=>{if(!t&&n){const i=setTimeout(()=>r(!1),e);return()=>clearTimeout(i)}},[t,n,e]),n}function tW(t,e){e===void 0&&(e={});const{open:n,elements:{floating:r}}=t,{duration:i=250}=e,l=(typeof i=="number"?i:i.close)||0,[c,d]=Q.useState("unmounted"),m=eW(n,l);return!m&&c==="close"&&d("unmounted"),ar(()=>{if(r){if(n){d("initial");const y=requestAnimationFrame(()=>{d("open")});return()=>{cancelAnimationFrame(y)}}d("close")}},[n,r]),{isMounted:m,status:c}}function Mw(t,e){e===void 0&&(e={});const{initial:n={opacity:0},open:r,close:i,common:o,duration:l=250}=e,c=t.placement,d=c.split("-")[0],m=Q.useMemo(()=>({side:d,placement:c}),[d,c]),y=typeof l=="number",_=(y?l:l.open)||0,N=(y?l:l.close)||0,[k,q]=Q.useState(()=>({...Qc(o,m),...Qc(n,m)})),{isMounted:T,status:A}=tW(t,{duration:l}),D=_i(n),P=_i(r),L=_i(i),V=_i(o);return ar(()=>{const J=Qc(D.current,m),W=Qc(L.current,m),Z=Qc(V.current,m),oe=Qc(P.current,m)||Object.keys(J).reduce((U,ne)=>(U[ne]="",U),{});if(A==="initial"&&q(U=>({transitionProperty:U.transitionProperty,...Z,...J})),A==="open"&&q({transitionProperty:Object.keys(oe).map(Ek).join(","),transitionDuration:_+"ms",...Z,...oe}),A==="close"){const U=W||J;q({transitionProperty:Object.keys(U).map(Ek).join(","),transitionDuration:N+"ms",...Z,...U})}},[N,L,D,P,V,_,A,m]),{isMounted:T,styles:k}}const nW=Q.createContext({close(){}}),rW=pn({slot:{target:["flex","justify-center","items-center"],portal:[]},variant:{mounted:{true:[]}},match:[{if:{mounted:!1},then:{portal:["hidden"]}}],defaults:{mounted:!1}}),iW=({target:t,action:e="hover",disabled:n=!1,closeOnClick:r=!1,delay:i=100,float:o,variant:l,tva:c=rW,css:d,children:m})=>{const[y,_]=Q.useState(!1),{refs:N,floatingStyles:k,context:q}=Lw({open:y,onOpenChange:_,placement:"top",whileElementsMounted:RO,middleware:[jO(10),PO({fallbackAxisSideDirection:"start"}),w$()],...o}),{getReferenceProps:T,getFloatingProps:A}=Dw([F$(q,{enabled:e==="hover",delay:i}),Pw(q,{enabled:e==="click"}),Z$(q),Fw(q)]),{isMounted:D,styles:P}=Mw(q),L=c({mounted:D,...l,css:d}).slots;return h.jsxs(h.Fragment,{children:[h.jsx("button",{type:"button",ref:N.setReference,...T(),disabled:n,className:L.target(),children:t}),h.jsx(jw,{children:h.jsx("div",{ref:N.setFloating,style:{...k,...P},className:L.portal(),...A(),onClick:r?()=>{_(!1)}:void 0,children:h.jsx(nW.Provider,{value:{close(){_(!1)}},children:m})})})]})},QO="icon-[system-uicons--menu-hamburger]",KO=pn({slot:{base:[]},variant:{size:{xs:"text-sm",sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl","2xl":"text-2xl","3xl":"text-3xl","4xl":"text-4xl","5xl":"text-5xl","6xl":"text-6xl","7xl":"text-7xl","8xl":"text-8xl"},disabled:{true:[]}},match:[{if:{disabled:!0},then:{base:["pointer-events-none","cursor-not-allowed","text-gray-400","opacity-50"]}}],defaults:{size:"xl",disabled:!1}}),Zt=({icon:t,variant:e,tva:n=KO,css:r,...i})=>{const o=n({...e,css:r}).slots;return t?h.jsx("div",{className:o.base({css:[t]}),...i}):null},sW=pn({slot:{base:["p-1","bg-slate-50","border","border-slate-300","rounded","shadow-md","text-slate-500","flex","flex-col","gap-2"]},variant:{},defaults:{}}),qr=({icon:t=QO,iconProps:e,children:n,variant:r,tva:i=sW,css:o,...l})=>{const c=i({...r,css:o}).slots;return h.jsx(P$,{children:h.jsx(iW,{action:"click",target:h.jsx(Zt,{icon:t,...e}),delay:100,float:{placement:"bottom-start"},closeOnClick:!0,...l,children:h.jsx("div",{className:c.base(),children:n})})})},GO="icon-[svg-spinners--90-ring-with-bg]",oW=pn({slot:{base:["flex","items-center","justify-center","gap-2","group","w-fit","h-fit","rounded","cursor-pointer","hover:shadow-md","hover:shadow-slate-200","transition-all","hover:bg-slate-200","text-slate-600","text-2xl","p-1"]},variant:{disabled:{true:["cursor-not-allowed","pointer-events-none"]},loading:{true:["cursor-not-allowed","pointer-events-none"]}},match:[{if:{disabled:!0},then:{base:["opacity-50","hover:bg-blue-400"]}}],defaults:{disabled:!1,loading:!1}}),Bw=({iconEnabled:t,iconDisabled:e,iconLoading:n=GO,disabled:r=!1,loading:i=!1,onClick:o,variant:l,tva:c=oW,css:d,children:m,...y})=>{const _=c({disabled:r,loading:i,...l,css:d}).slots;return h.jsxs("div",{className:_.base(),onClick:r?void 0:o,...y,children:[r?h.jsx(Zt,{icon:i?n:e??t,variant:{size:"xl"}}):h.jsx(Zt,{icon:i?n:t,variant:{size:"xl"}}),m]})},aW="icon-[iconamoon--close-light]",ty=Q.createContext(void 0),lW=pn({slot:{base:["bg-slate-500","bg-opacity-75","backdrop-blur-sm","flex","justify-center","py-12"],target:[],modal:["bg-white","rounded","shadow-lg","p-4","w-fit","h-fit","max-h-full","overflow-y-auto","relative","w-2/3","max-w-1/2"]},variant:{disabled:{true:["pointer-events-none"]},loading:{true:[]}},match:[{if:{loading:!0},then:{base:["pointer-events-none","opacity-50"]}}],defaults:{disabled:!1,loading:!1}}),ny=({target:t,icon:e,textTitle:n,disabled:r=!1,outside:i=!1,variant:o,css:l,tva:c=lW,children:d})=>{const[m,y]=Q.useState(!1),_=A$(),{refs:N,context:k}=Lw({nodeId:_,open:m,onOpenChange:y}),q=Pw(k),T=Fw(k,{outsidePress:i}),{getReferenceProps:A,getFloatingProps:D}=Dw([q,T]),{isMounted:P,styles:L}=Mw(k),V=c({disabled:r,...o,css:l}).slots;return h.jsxs(ty.Provider,{value:{close(){y(!1)}},children:[h.jsx("div",{ref:N.setReference,...A({disabled:r}),className:V.target(),children:t}),h.jsx(j$,{id:_,children:P&&h.jsx(h.Fragment,{children:h.jsx(jw,{children:h.jsx(Q$,{lockScroll:!0,style:L,className:V.base(),children:h.jsx(HO,{context:k,children:h.jsxs("div",{ref:N.setFloating,...D(),className:V.modal(),children:[h.jsxs("div",{className:"border-b border-slate-200 mb-2 py-1.5 flex flex-row items-center justify-between select-none",children:[h.jsxs("div",{className:"flex flex-row items-center gap-2 pr-4",children:[e&&(Vg(e)?h.jsx(Zt,{icon:e,variant:{size:"xl"}}):e),n&&h.jsx("div",{className:"text-lg font-semibold text-slate-700",children:n})]}),h.jsx(Bw,{iconEnabled:aW,onClick:()=>y(!1)})]}),c4(d)?h.jsx(d,{close:()=>y(!1)}):d]})})})})})})]})},cW=pn({use:pO,slot:{},variant:{},defaults:{}}),jn=({icon:t,iconProps:e,label:n,disabled:r=!1,hidden:i=!1,variant:o,tva:l=cW,css:c,...d})=>{const m=l({...o,disabled:r,css:c}).slots;return i?null:h.jsxs("div",{className:m.base(),children:[Vg(t)?h.jsx(Zt,{icon:t,...e}):t,h.jsx(ny,{icon:t,target:n,disabled:r,css:{modal:["w-1/2"]},...d})]})},uW=pn({slot:{base:["flex","flex-row","gap-2","items-center","rounded-2xl","bg-blue-50","border","border-blue-200","text-xs","px-4","py-0.5","font-bold"]},variant:{},defaults:{}}),ro=({variant:t,tva:e=uW,css:n,...r})=>{const i=e({...t,css:n}).slots;return h.jsx("div",{className:i.base(),...r})},dW="icon-[material-symbols-light--check-small]",fW="icon-[material-symbols-light--close-small]",pW="icon-[material-symbols-light--check-indeterminate-small]",hW=pn({use:KO,slot:{},variant:{value:{true:"text-green-600",false:"text-amber-600"}},defaults:{value:!1}}),JO=({value:t,checkIcon:e=dW,unCheckIcon:n=fW,undefinedIcon:r=pW,tva:i=hW,...o})=>t==null?h.jsx(Zt,{icon:r,tva:i,...o}):h.jsx(Zt,{icon:t?e:n,tva:l=>i({...l,value:t}),...o}),mW=pn({slot:{base:["flex","items-center","justify-between","text-sm","font-medium","text-slate-900","w-full"],switch:["relative","w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-blue-300","dark:peer-focus:ring-blue-800","rounded-full","peer","dark:bg-gray-700","peer-checked:after:translate-x-full","rtl:peer-checked:after:-translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","dark:border-gray-600","peer-checked:bg-blue-600"]},variant:{},defaults:{}}),ZO=({value:t,onChange:e,variant:n,tva:r=mW,css:i,...o})=>{const l=r({...n,css:i}).slots;return h.jsx("div",{className:l.base(),children:h.jsxs("label",{children:[h.jsx("input",{type:"checkbox",checked:t,className:"sr-only peer",onChange:c=>{e(c.target.checked)},...o}),h.jsx("div",{className:l.switch()})]})})},gW=pn({slot:{base:["flex","flex-row","items-center","justify-center","gap-2","group","rounded","transition-all"]},variant:{variant:{primary:["text-white"],secondary:["text-slate-700"],subtle:["text-slate-600"],danger:["text-slate-50"]},disabled:{true:"cursor-not-allowed"},size:{xs:[],sm:[],md:[]}},match:[{if:{variant:"primary"},then:{base:["bg-blue-400","hover:bg-blue-500"]}},{if:{variant:"primary",disabled:!0},then:{base:["opacity-50","bg-blue-600","hover:bg-blue-600","cursor-not-allowed"]}},{if:{variant:"secondary"},then:{base:["bg-amber-400","hover:bg-amber-500"]}},{if:{variant:"secondary",disabled:!0},then:{base:["opacity-50","bg-amber-600","hover:bg-amber-600","cursor-not-allowed"]}},{if:{variant:"subtle"},then:{base:["text-slate-600","hover:text-slate-800","hover:bg-blue-50"]}},{if:{variant:"subtle",disabled:!0},then:{base:["opacity-50","bg-blue-50","hover:bg-blue-50","cursor-not-allowed"]}},{if:{variant:"danger"},then:{base:["bg-red-400","hover:bg-red-500","hover:text-white"]}},{if:{size:"xs"},then:{base:["py-0.5","px-1"]}},{if:{size:"sm"},then:{base:["py-1","px-2"]}},{if:{size:"md"},then:{base:["py-2","px-4"]}}],defaults:{variant:"primary",disabled:!1,size:"md"}}),br=({iconEnabled:t,iconDisabled:e,iconLoading:n=GO,iconProps:r,loading:i,variant:o,tva:l=gW,css:c,children:d,...m})=>{const y=l({disabled:m.disabled,...o,css:c}).slots;return h.jsxs("button",{type:"button",className:y.base({disabled:m.disabled}),...m,children:[m.disabled?h.jsx(Zt,{icon:i===!0?n:e,variant:{size:"xl"},...r}):h.jsx(Zt,{icon:i===!0?n:t,variant:{size:"xl"},...r}),d]})},$w=Q.createContext({inline:!1}),yW=pn({slot:{base:["border","border-slate-100","px-2","py-1","rounded-md"],label:["text-sm","font-semibold","text-slate-600","border-b","mb-2"],value:[]},variant:{inline:{true:[]},withBackground:{true:[]}},match:[{if:{inline:!0},then:{base:["border-none","flex","flex-row","items-center","gap-2"],label:["mb-0","font-light","text-md","text-slate-600","border-none"],value:["text-md","text-slate-800"]}},{if:{withBackground:!0},then:{base:["bg-slate-50","hover:bg-slate-100"]}}],defaults:{inline:!1,withBackground:!0}}),vW=({inline:t,label:e,value:n,variant:r,tva:i=yW,css:o})=>{const l=Q.useContext($w),c=t??l?.inline,d=i({inline:c,...r,css:o}).slots;return h.jsxs("div",{className:d.base(),children:[e?h.jsx("div",{className:d.label(),children:e}):null,h.jsx("div",{className:d.value(),children:n})]})},bW=pn({slot:{base:["flex","flex-col","gap-4","border","border-slate-100","p-4","rounded-lg"]},variant:{inline:{true:["flex-row","border-none","gap-1","p-0","flex-1"]}},defaults:{inline:!1}}),YO=({items:t,hidden:e=[],valueOfProps:n,entity:r,variant:i,tva:o=bW,css:l,inline:c=!1})=>{const d=o({inline:c,...i,css:l}).slots;return h.jsx($w.Provider,{value:{inline:c},children:h.jsx("div",{className:d.base(),children:t.filter(({id:m})=>!e.includes(m)).map(({id:m,render:y,..._})=>h.jsx(vW,{value:h.jsx(y,{entity:r}),...n,..._},m))})})},_W=pn({slot:{base:["flex","flex-col","gap-2"]},variant:{},defaults:{}}),Nk="icon-[tabler--dots]",xW=pn({slot:{base:["flex","items-center","justify-between","gap-2"],sums:["flex","items-center","gap-2","text-sm"]},variant:{},defaults:{}}),wW=pn({slot:{base:["select-none"],list:["flex","items-center","-space-x-px","text-xs","gap-2"],page:["flex","items-center","justify-center","w-12","px-2","py-1","rounded","border","border-slate-200","hover:bg-slate-200","cursor-pointer","transition-all","duration-200"]},variant:{current:{true:[]}},match:[{if:{current:!0},then:{page:["bg-slate-100","hover:bg-slate-200","text-slate-800","font-bold"]}}],defaults:{current:!1}}),E_=({pages:t,page:e,onPage:n,variant:r,tva:i=wW,css:o})=>{const l=i({...r,css:o}).slots;return h.jsx("nav",{className:l.base(),children:h.jsx("ul",{className:l.list(),children:t.map((c,d)=>h.jsx("li",{className:l.page({current:e===c-1}),onClick:()=>n(c-1),children:c},`page-${c}-${d}`))})})},SW=pn({slot:{base:["cursor-pointer","bg-slate-50","text-slate-900","text-sm","border","border-slate-300","rounded","focus:border-sky-400","focus:outline-none","p-2.5","hover:shadow-md","transition-all","group"],input:["flex","flex-row","items-center","justify-between","gap-2"],popup:["z-50","cursor-pointer","overflow-y-auto","rounded","border","border-slate-300","bg-white","shadow-lg","focus:outline-none"],item:["focus:outline-none","py-2","px-2.5","flex","items-center","justify-between"]},variant:{disabled:{true:["cursor-not-allowed","hover:shadow-none","focus:border-slate-300","opacity-50"]},active:{true:[]},selected:{true:[]}},match:[{if:{selected:!0},then:{item:["bg-slate-100"]}},{if:{active:!0},then:{item:["bg-slate-200"]}}],defaults:{disabled:!1,selected:!1,active:!1}}),EW=({items:t,icon:e,defaultValue:n,render:r,textSelect:i,disabled:o=!1,onItem:l,onSelect:c,onChange:d,value:m,variant:y,tva:_=SW,css:N})=>{const[k,q]=Q.useState(!1),[T,A]=Q.useState(null),[D,P]=Q.useState(t.findIndex(pe=>pe.id===n));Q.useEffect(()=>{P(t.findIndex(pe=>pe.id===m))},[m]);const{refs:L,floatingStyles:V,context:J}=Lw({placement:"bottom-start",open:k,onOpenChange:q,whileElementsMounted:RO,middleware:[jO(5),PO({padding:10}),S$({apply({rects:pe,elements:Ne,availableHeight:K}){Object.assign(Ne.floating.style,{maxHeight:`${K}px`,minWidth:`${pe.reference.width}px`})},padding:10})]}),W=Q.useRef([]),Z=Q.useRef(!1),oe=Pw(J,{event:"mousedown"}),U=Fw(J),ne=X$(J,{listRef:W,activeIndex:T,selectedIndex:D,onNavigate:A,loop:!0}),{getReferenceProps:B,getFloatingProps:se,getItemProps:X}=Dw([U,ne,oe]),{isMounted:fe,styles:Ee}=Mw(J),Oe=pe=>{P(pe),q(!1);const Ne=t[pe];Ne&&l?.(Ne),c?.(Ne),d?.(Ne?.id)},je=D===null?void 0:t[D],ve=_({disabled:o,...y,css:N}).slots;return h.jsxs(h.Fragment,{children:[h.jsx("div",{tabIndex:o?-1:0,ref:o?void 0:L.setReference,"aria-labelledby":"select-label","aria-autocomplete":"none",...o?{}:B(),className:ve.base(),children:h.jsxs("div",{className:ve.input(),children:[e?h.jsx(Zt,{icon:e,variant:{size:"xl"},css:{base:["text-slate-400","group-hover:text-slate-600"]}}):null,je?h.jsx(r,{entity:je}):i||nl.rich("Select item"),h.jsx(Zt,{icon:"icon-[gg--select]",variant:{size:"xl"},css:{base:[!k&&"text-slate-400",k&&"text-slate-600","group-hover:text-slate-600"]}})]})}),fe&&h.jsx(jw,{children:h.jsx(HO,{context:J,modal:!1,children:h.jsx("div",{ref:L.setFloating,style:{...V,...Ee},className:ve.popup(),...se(),children:t.map((pe,Ne)=>h.jsxs("div",{ref:K=>{W.current[Ne]=K},role:"option",tabIndex:Ne===T?0:-1,"aria-selected":Ne===D&&Ne===T,className:ve.item({selected:Ne===D,active:Ne===T}),...X({onClick(){Oe(Ne)},onKeyDown(K){K.key==="Enter"&&(K.preventDefault(),Oe(Ne)),K.key===" "&&!Z.current&&(K.preventDefault(),Oe(Ne))}}),children:[h.jsx(r,{entity:pe}),Ne===D&&h.jsx(Zt,{icon:"icon-[basil--check-outline]",variant:{size:"xl"}})]},pe.id))})})})]})},NW=({sizes:t=[5,15,30,50,100],size:e,onSize:n,...r})=>h.jsx(EW,{items:t.map(i=>({id:`${i}`,size:i})),defaultValue:`${e}`,value:`${e}`,onItem:({size:i})=>n(i),render:({entity:{size:i}})=>i,css:{base:["px-8","py-1"],item:["px-8","py-1"]},...r}),kk=({cursor:t,count:e,textTotal:n,onPage:r,onSize:i,variant:o,tva:l=xW,css:c})=>{const d=Q.useMemo(()=>YB({page:t.page,total:Math.ceil(e.filter/t.size),siblings:1,boundaries:1}),[t.page,e.filter,t.size]),m=l({...o,css:c}).slots;return h.jsxs("div",{className:m.base(),children:[d.total>1?h.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[["both","start"].includes(d.type)&&h.jsxs(h.Fragment,{children:[h.jsx(E_,{page:t.page,pages:d.start,onPage:r}),h.jsx(Zt,{icon:Nk})]}),h.jsx(E_,{page:t.page,pages:d.pages,onPage:r}),["both","end"].includes(d.type)&&h.jsxs(h.Fragment,{children:[h.jsx(Zt,{icon:Nk}),h.jsx(E_,{page:t.page,pages:d.end,onPage:r})]})]}):null,h.jsxs("div",{className:m.sums(),children:[h.jsx("div",{children:n}),h.jsx("div",{className:"font-bold",children:e.filter}),e.filter!==e.where&&h.jsxs(h.Fragment,{children:[h.jsx("div",{children:"/"}),h.jsx("div",{className:"font-semibold",children:e.where})]})]}),h.jsx(NW,{size:t.size,onSize:i})]})};function Ya(t){return typeof t>"u"||t===void 0}function os(t){return typeof t=="string"}function ry(t){return typeof t=="number"}function og(t){return typeof t=="boolean"}function Ww(t){return t===null}function kW(t){return t instanceof Date}function zw(t){return typeof t=="bigint"}function as(t){return typeof t=="function"}function wo(t){return typeof t=="object"&&t!==null}function R(t){return Object.freeze(t)}function $h(t){return pa(t)?t:[t]}function pa(t){return Array.isArray(t)}function Xa(t){return t}const Wn=R({is(t){return t.kind==="AlterTableNode"},create(t){return R({kind:"AlterTableNode",table:t})},cloneWithTableProps(t,e){return R({...t,...e})},cloneWithColumnAlteration(t,e){return R({...t,columnAlterations:t.columnAlterations?[...t.columnAlterations,e]:[e]})}}),lr=R({is(t){return t.kind==="IdentifierNode"},create(t){return R({kind:"IdentifierNode",name:t})}}),ra=R({is(t){return t.kind==="CreateIndexNode"},create(t){return R({kind:"CreateIndexNode",name:lr.create(t)})},cloneWith(t,e){return R({...t,...e})},cloneWithColumns(t,e){return R({...t,columns:[...t.columns||[],...e]})}}),XO=R({is(t){return t.kind==="CreateSchemaNode"},create(t,e){return R({kind:"CreateSchemaNode",schema:lr.create(t),...e})},cloneWith(t,e){return R({...t,...e})}}),IW=["preserve rows","delete rows","drop"],Ki=R({is(t){return t.kind==="CreateTableNode"},create(t){return R({kind:"CreateTableNode",table:t,columns:R([])})},cloneWithColumn(t,e){return R({...t,columns:R([...t.columns,e])})},cloneWithConstraint(t,e){return R({...t,constraints:t.constraints?R([...t.constraints,e]):R([e])})},cloneWithFrontModifier(t,e){return R({...t,frontModifiers:t.frontModifiers?R([...t.frontModifiers,e]):R([e])})},cloneWithEndModifier(t,e){return R({...t,endModifiers:t.endModifiers?R([...t.endModifiers,e]):R([e])})},cloneWith(t,e){return R({...t,...e})}}),cl=R({is(t){return t.kind==="SchemableIdentifierNode"},create(t){return R({kind:"SchemableIdentifierNode",identifier:lr.create(t)})},createWithSchema(t,e){return R({kind:"SchemableIdentifierNode",schema:lr.create(t),identifier:lr.create(e)})}}),cf=R({is(t){return t.kind==="DropIndexNode"},create(t,e){return R({kind:"DropIndexNode",name:cl.create(t),...e})},cloneWith(t,e){return R({...t,...e})}}),Cx=R({is(t){return t.kind==="DropSchemaNode"},create(t,e){return R({kind:"DropSchemaNode",schema:lr.create(t),...e})},cloneWith(t,e){return R({...t,...e})}}),Rx=R({is(t){return t.kind==="DropTableNode"},create(t,e){return R({kind:"DropTableNode",table:t,...e})},cloneWith(t,e){return R({...t,...e})}}),ml=R({is(t){return t.kind==="AliasNode"},create(t,e){return R({kind:"AliasNode",node:t,alias:e})}}),el=R({is(t){return t.kind==="TableNode"},create(t){return R({kind:"TableNode",table:cl.create(t)})},createWithSchema(t,e){return R({kind:"TableNode",table:cl.createWithSchema(t,e)})}});function Wi(t){return wo(t)&&as(t.toOperationNode)}function qW(t){return wo(t)&&"expressionType"in t&&Wi(t)}function TW(t){return wo(t)&&"expression"in t&&os(t.alias)&&Wi(t)}const ea=R({is(t){return t.kind==="SelectModifierNode"},create(t,e){return R({kind:"SelectModifierNode",modifier:t,of:e})},createWithExpression(t){return R({kind:"SelectModifierNode",rawModifier:t})}}),ul=R({is(t){return t.kind==="AndNode"},create(t,e){return R({kind:"AndNode",left:t,right:e})}}),Hu=R({is(t){return t.kind==="OrNode"},create(t,e){return R({kind:"OrNode",left:t,right:e})}}),N_=R({is(t){return t.kind==="OnNode"},create(t){return R({kind:"OnNode",on:t})},cloneWithOperation(t,e,n){return R({...t,on:e==="And"?ul.create(t.on,n):Hu.create(t.on,n)})}}),uf=R({is(t){return t.kind==="JoinNode"},create(t,e){return R({kind:"JoinNode",joinType:t,table:e,on:void 0})},createWithOn(t,e,n){return R({kind:"JoinNode",joinType:t,table:e,on:N_.create(n)})},cloneWithOn(t,e){return R({...t,on:t.on?N_.cloneWithOperation(t.on,"And",e):N_.create(e)})}}),Au=R({is(t){return t.kind==="BinaryOperationNode"},create(t,e,n){return R({kind:"BinaryOperationNode",leftOperand:t,operator:e,rightOperand:n})}}),OW=["=","==","!=","<>",">",">=","<","<=","in","not in","is","is not","like","not like","match","ilike","not ilike","@>","<@","^@","&&","?","?&","?|","!<","!>","<=>","!~","~","~*","!~*","@@","@@@","!!","<->","regexp","is distinct from","is not distinct from"],CW=["+","-","*","/","%","^","&","|","#","<<",">>"],eC=["->","->>"],RW=[...OW,...CW,"&&","||"],AW=["exists","not exists"],jW=["not","-",...AW],PW=[...RW,...eC,...jW,"between","between symmetric"],dl=R({is(t){return t.kind==="OperatorNode"},create(t){return R({kind:"OperatorNode",operator:t})}});function Ik(t){return os(t)&&eC.includes(t)}const Tr=R({is(t){return t.kind==="ColumnNode"},create(t){return R({kind:"ColumnNode",column:lr.create(t)})}}),Uw=R({is(t){return t.kind==="SelectAllNode"},create(){return R({kind:"SelectAllNode"})}}),iy=R({is(t){return t.kind==="ReferenceNode"},create(t,e){return R({kind:"ReferenceNode",table:e,column:t})},createSelectAll(t){return R({kind:"ReferenceNode",table:t,column:Uw.create()})}});class FW{#e;get dynamicReference(){return this.#e}get refType(){}constructor(e){this.#e=e}toOperationNode(){return sC(this.#e)}}function tC(t){return wo(t)&&Wi(t)&&os(t.dynamicReference)}const Ax=R({is(t){return t.kind==="OrderByItemNode"},create(t,e){return R({kind:"OrderByItemNode",orderBy:t,direction:e})}}),li=R({is(t){return t.kind==="RawNode"},create(t,e){return R({kind:"RawNode",sqlFragments:R(t),parameters:R(e)})},createWithSql(t){return li.create([t],[])},createWithChild(t){return li.create(["",""],[t])},createWithChildren(t){return li.create(new Array(t.length+1).fill(""),t)}});function nC(t){return t==="asc"||t==="desc"}function lp(t){if(t.length===2)return[k_(t[0],t[1])];if(t.length===1){const[e]=t;return Array.isArray(e)?e.map(n=>k_(n)):[k_(e)]}throw new Error(`Invalid number of arguments at order by! expected 1-2, received ${t.length}`)}function k_(t,e){const n=LW(t);if(Ax.is(n)){if(e)throw new Error("Cannot specify direction twice!");return n}return Ax.create(n,rC(e))}function LW(t){if(pp(t))return dc(t);if(tC(t))return t.toOperationNode();const[e,n]=t.split(" ");if(n){if(!nC(n))throw new Error(`Invalid order by direction: ${n}`);return Ax.create(ha(e),rC(n))}return ha(t)}function rC(t){if(t)return t==="asc"||t==="desc"?li.createWithSql(t):t.toOperationNode()}const ag=R({is(t){return t.kind==="JSONReferenceNode"},create(t,e){return R({kind:"JSONReferenceNode",reference:t,traversal:e})},cloneWithTraversal(t,e){return R({...t,traversal:e})}}),iC=R({is(t){return t.kind==="JSONOperatorChainNode"},create(t){return R({kind:"JSONOperatorChainNode",operator:t,values:R([])})},cloneWithValue(t,e){return R({...t,values:R([...t.values,e])})}}),df=R({is(t){return t.kind==="JSONPathNode"},create(t){return R({kind:"JSONPathNode",inOperator:t,pathLegs:R([])})},cloneWithLeg(t,e){return R({...t,pathLegs:R([...t.pathLegs,e])})}});function sC(t){return os(t)?ha(t):t.toOperationNode()}function Ff(t){return pa(t)?t.map(e=>ts(e)):[ts(t)]}function ts(t){return pp(t)?dc(t):sC(t)}function DW(t,e){const n=ha(t);if(Ik(e))return ag.create(n,iC.create(dl.create(e)));const r=e.slice(0,-1);if(Ik(r))return ag.create(n,df.create(dl.create(r)));throw new Error(`Invalid JSON operator: ${e}`)}function ha(t){const e=".";if(!t.includes(e))return iy.create(Tr.create(t));const n=t.split(e).map(Vw);if(n.length===3)return BW(n);if(n.length===2)return $W(n);throw new Error(`invalid column reference ${t}`)}function MW(t){const e=" as ";if(t.includes(e)){const[n,r]=t.split(e).map(Vw);return ml.create(ha(n),lr.create(r))}else return ha(t)}function oC(t){return Tr.create(t)}function lg(t){const e=" ";if(t.includes(e)){const[n,r]=t.split(e).map(Vw);if(!nC(r))throw new Error(`invalid order direction "${r}" next to "${n}"`);return lp([n,r])[0]}else return oC(t)}function BW(t){const[e,n,r]=t;return iy.create(Tr.create(r),el.createWithSchema(e,n))}function $W(t){const[e,n]=t;return iy.create(Tr.create(n),el.create(e))}function Vw(t){return t.trim()}const aC=R({is(t){return t.kind==="PrimitiveValueListNode"},create(t){return R({kind:"PrimitiveValueListNode",values:R([...t])})}}),Hw=R({is(t){return t.kind==="ValueListNode"},create(t){return R({kind:"ValueListNode",values:R(t)})}}),Oo=R({is(t){return t.kind==="ValueNode"},create(t){return R({kind:"ValueNode",value:t})},createImmediate(t){return R({kind:"ValueNode",value:t,immediate:!0})}});function WW(t){return pa(t)?zW(t):Ar(t)}function Ar(t){return pp(t)?dc(t):Oo.create(t)}function Qw(t){return ry(t)||og(t)||Ww(t)}function Kw(t){if(!Qw(t))throw new Error(`unsafe immediate value ${JSON.stringify(t)}`);return Oo.createImmediate(t)}function zW(t){return t.some(pp)?Hw.create(t.map(e=>Ar(e))):aC.create(t)}const ju=R({is(t){return t.kind==="ParensNode"},create(t){return R({kind:"ParensNode",node:t})}});function Xr(t){if(t.length===3)return Gw(t[0],t[1],t[2]);if(t.length===1)return Ar(t[0]);throw new Error(`invalid arguments: ${JSON.stringify(t)}`)}function Gw(t,e,n){return UW(e)&&lC(n)?Au.create(ts(t),jx(e),Oo.createImmediate(n)):Au.create(ts(t),jx(e),WW(n))}function Co(t,e,n){return Au.create(ts(t),jx(e),ts(n))}function qk(t,e){return cg(Object.entries(t).filter(([,n])=>!Ya(n)).map(([n,r])=>Gw(n,lC(r)?"is":"=",r)),e)}function cg(t,e,n=!0){const r=e==="and"?ul.create:Hu.create;if(t.length===0)return Au.create(Oo.createImmediate(1),dl.create("="),Oo.createImmediate(e==="and"?1:0));let i=Tk(t[0]);for(let o=1;o<t.length;++o)i=r(i,Tk(t[o]));return t.length>1&&n?ju.create(i):i}function UW(t){return t==="is"||t==="is not"}function lC(t){return Ww(t)||og(t)}function jx(t){if(os(t)&&PW.includes(t))return dl.create(t);if(Wi(t))return t.toOperationNode();throw new Error(`invalid operator ${JSON.stringify(t)}`)}function Tk(t){return Wi(t)?t.toOperationNode():t}const fl=R({is(t){return t.kind==="OrderByNode"},create(t){return R({kind:"OrderByNode",items:R([...t])})},cloneWithItems(t,e){return R({...t,items:R([...t.items,...e])})}}),Ok=R({is(t){return t.kind==="PartitionByNode"},create(t){return R({kind:"PartitionByNode",items:R(t)})},cloneWithItems(t,e){return R({...t,items:R([...t.items,...e])})}}),Px=R({is(t){return t.kind==="OverNode"},create(){return R({kind:"OverNode"})},cloneWithOrderByItems(t,e){return R({...t,orderBy:t.orderBy?fl.cloneWithItems(t.orderBy,e):fl.create(e)})},cloneWithPartitionByItems(t,e){return R({...t,partitionBy:t.partitionBy?Ok.cloneWithItems(t.partitionBy,e):Ok.create(e)})}}),ug=R({is(t){return t.kind==="FromNode"},create(t){return R({kind:"FromNode",froms:R(t)})},cloneWithFroms(t,e){return R({...t,froms:R([...t.froms,...e])})}}),Ck=R({is(t){return t.kind==="GroupByNode"},create(t){return R({kind:"GroupByNode",items:R(t)})},cloneWithItems(t,e){return R({...t,items:R([...t.items,...e])})}}),Rk=R({is(t){return t.kind==="HavingNode"},create(t){return R({kind:"HavingNode",having:t})},cloneWithOperation(t,e,n){return R({...t,having:e==="And"?ul.create(t.having,n):Hu.create(t.having,n)})}}),$n=R({is(t){return t.kind==="SelectQueryNode"},create(t){return R({kind:"SelectQueryNode",...t&&{with:t}})},createFrom(t,e){return R({kind:"SelectQueryNode",from:ug.create(t),...e&&{with:e}})},cloneWithSelections(t,e){return R({...t,selections:t.selections?R([...t.selections,...e]):R(e)})},cloneWithDistinctOn(t,e){return R({...t,distinctOn:t.distinctOn?R([...t.distinctOn,...e]):R(e)})},cloneWithFrontModifier(t,e){return R({...t,frontModifiers:t.frontModifiers?R([...t.frontModifiers,e]):R([e])})},cloneWithOrderByItems(t,e){return R({...t,orderBy:t.orderBy?fl.cloneWithItems(t.orderBy,e):fl.create(e)})},cloneWithGroupByItems(t,e){return R({...t,groupBy:t.groupBy?Ck.cloneWithItems(t.groupBy,e):Ck.create(e)})},cloneWithLimit(t,e){return R({...t,limit:e})},cloneWithOffset(t,e){return R({...t,offset:e})},cloneWithFetch(t,e){return R({...t,fetch:e})},cloneWithHaving(t,e){return R({...t,having:t.having?Rk.cloneWithOperation(t.having,"And",e):Rk.create(e)})},cloneWithSetOperations(t,e){return R({...t,setOperations:t.setOperations?R([...t.setOperations,...e]):R([...e])})},cloneWithoutSelections(t){return R({...t,selections:[]})},cloneWithoutLimit(t){return R({...t,limit:void 0})},cloneWithoutOffset(t){return R({...t,offset:void 0})},cloneWithoutOrderBy(t){return R({...t,orderBy:void 0})},cloneWithoutGroupBy(t){return R({...t,groupBy:void 0})}});function gn(t,e){Object.defineProperties(t.prototype,{then:{enumerable:!1,value:()=>{throw new Error(e)}}})}class yu{#e;constructor(e){this.#e=R(e)}on(...e){return new yu({...this.#e,joinNode:uf.cloneWithOn(this.#e.joinNode,Xr(e))})}onRef(e,n,r){return new yu({...this.#e,joinNode:uf.cloneWithOn(this.#e.joinNode,Co(e,n,r))})}onTrue(){return new yu({...this.#e,joinNode:uf.cloneWithOn(this.#e.joinNode,li.createWithSql("true"))})}$call(e){return e(this)}toOperationNode(){return this.#e.joinNode}}gn(yu,"don't await JoinBuilder instances. They are never executed directly and are always just a part of a query.");const VW=R({is(t){return t.kind==="PartitionByItemNode"},create(t){return R({kind:"PartitionByItemNode",partitionBy:t})}});function HW(t){return Ff(t).map(VW.create)}class Lf{#e;constructor(e){this.#e=R(e)}orderBy(e,n){return new Lf({overNode:Px.cloneWithOrderByItems(this.#e.overNode,lp([e,n]))})}partitionBy(e){return new Lf({overNode:Px.cloneWithPartitionByItems(this.#e.overNode,HW(e))})}$call(e){return e(this)}toOperationNode(){return this.#e.overNode}}gn(Lf,"don't await OverBuilder instances. They are never executed directly and are always just a part of a query.");const ff=R({is(t){return t.kind==="SelectionNode"},create(t){return R({kind:"SelectionNode",selection:t})},createSelectAll(){return R({kind:"SelectionNode",selection:Uw.create()})},createSelectAllFromTable(t){return R({kind:"SelectionNode",selection:iy.createSelectAll(t)})}});function oo(t){return as(t)?oo(t(Ku())):pa(t)?t.map(e=>Ak(e)):[Ak(t)]}function Ak(t){return os(t)?ff.create(MW(t)):tC(t)?ff.create(t.toOperationNode()):ff.create(xC(t))}function Ro(t){return t?Array.isArray(t)?t.map(jk):[jk(t)]:[ff.createSelectAll()]}function jk(t){if(os(t))return ff.createSelectAllFromTable(Er(t));throw new Error(`invalid value selectAll expression: ${JSON.stringify(t)}`)}const QW=R({is(t){return t.kind==="ValuesNode"},create(t){return R({kind:"ValuesNode",values:R(t)})}}),KW=R({is(t){return t.kind==="DefaultInsertValueNode"},create(){return R({kind:"DefaultInsertValueNode"})}});function cC(t){const e=as(t)?t(Ku()):t,n=pa(e)?e:R([e]);return GW(n)}function GW(t){const e=JW(t);return[R([...e.keys()].map(Tr.create)),QW.create(t.map(n=>ZW(n,e)))]}function JW(t){const e=new Map;for(const n of t){const r=Object.keys(n);for(const i of r)!e.has(i)&&n[i]!==void 0&&e.set(i,e.size)}return e}function ZW(t,e){const n=Object.keys(t),r=Array.from({length:e.size});let i=!1;for(const l of n){const c=e.get(l);if(Ya(c))continue;const d=t[l];(Ya(d)||pp(d))&&(i=!0),r[c]=d}if(n.length<e.size||i){const l=KW.create();return Hw.create(r.map(c=>Ya(c)?l:Ar(c)))}return aC.create(r)}const Zi=R({is(t){return t.kind==="InsertQueryNode"},create(t,e,n){return R({kind:"InsertQueryNode",into:t,...e&&{with:e},replace:n})},createWithoutInto(){return R({kind:"InsertQueryNode"})},cloneWith(t,e){return R({...t,...e})}}),vu=R({is(t){return t.kind==="UpdateQueryNode"},create(t,e){return R({kind:"UpdateQueryNode",table:t,...e&&{with:e}})},createWithoutTable(){return R({kind:"UpdateQueryNode"})},cloneWithFromItems(t,e){return R({...t,from:t.from?ug.cloneWithFroms(t.from,e):ug.create(e)})},cloneWithUpdates(t,e){return R({...t,updates:t.updates?R([...t.updates,...e]):e})},cloneWithLimit(t,e){return R({...t,limit:e})}}),Pk=R({is(t){return t.kind==="UsingNode"},create(t){return R({kind:"UsingNode",tables:R(t)})},cloneWithTables(t,e){return R({...t,tables:R([...t.tables,...e])})}}),Bl=R({is(t){return t.kind==="DeleteQueryNode"},create(t,e){return R({kind:"DeleteQueryNode",from:ug.create(t),...e&&{with:e}})},cloneWithOrderByItems(t,e){return R({...t,orderBy:t.orderBy?fl.cloneWithItems(t.orderBy,e):fl.create(e)})},cloneWithoutOrderBy(t){return R({...t,orderBy:void 0})},cloneWithLimit(t,e){return R({...t,limit:e})},cloneWithoutLimit(t){return R({...t,limit:void 0})},cloneWithUsing(t,e){return R({...t,using:t.using!==void 0?Pk.cloneWithTables(t.using,e):Pk.create(e)})}}),Pi=R({is(t){return t.kind==="WhereNode"},create(t){return R({kind:"WhereNode",where:t})},cloneWithOperation(t,e,n){return R({...t,where:e==="And"?ul.create(t.where,n):Hu.create(t.where,n)})}}),Fk=R({is(t){return t.kind==="ReturningNode"},create(t){return R({kind:"ReturningNode",selections:R(t)})},cloneWithSelections(t,e){return R({...t,selections:t.selections?R([...t.selections,...e]):R(e)})}}),YW=R({is(t){return t.kind==="ExplainNode"},create(t,e){return R({kind:"ExplainNode",format:t,options:e})}}),cp=R({is(t){return t.kind==="WhenNode"},create(t){return R({kind:"WhenNode",condition:t})},cloneWithResult(t,e){return R({...t,result:e})}}),Li=R({is(t){return t.kind==="MergeQueryNode"},create(t,e){return R({kind:"MergeQueryNode",into:t,...e&&{with:e}})},cloneWithUsing(t,e){return R({...t,using:e})},cloneWithWhen(t,e){return R({...t,whens:t.whens?R([...t.whens,e]):R([e])})},cloneWithThen(t,e){return R({...t,whens:t.whens?R([...t.whens.slice(0,-1),cp.cloneWithResult(t.whens[t.whens.length-1],e)]):void 0})}}),Lk=R({is(t){return t.kind==="OutputNode"},create(t){return R({kind:"OutputNode",selections:R(t)})},cloneWithSelections(t,e){return R({...t,selections:t.selections?R([...t.selections,...e]):R(e)})}}),Ct=R({is(t){return $n.is(t)||Zi.is(t)||vu.is(t)||Bl.is(t)||Li.is(t)},cloneWithEndModifier(t,e){return R({...t,endModifiers:t.endModifiers?R([...t.endModifiers,e]):R([e])})},cloneWithWhere(t,e){return R({...t,where:t.where?Pi.cloneWithOperation(t.where,"And",e):Pi.create(e)})},cloneWithJoin(t,e){return R({...t,joins:t.joins?R([...t.joins,e]):R([e])})},cloneWithReturning(t,e){return R({...t,returning:t.returning?Fk.cloneWithSelections(t.returning,e):Fk.create(e)})},cloneWithoutReturning(t){return R({...t,returning:void 0})},cloneWithoutWhere(t){return R({...t,where:void 0})},cloneWithExplain(t,e,n){return R({...t,explain:YW.create(e,n?.toOperationNode())})},cloneWithTop(t,e){return R({...t,top:e})},cloneWithOutput(t,e){return R({...t,output:t.output?Lk.cloneWithSelections(t.output,e):Lk.create(e)})}}),uC=R({is(t){return t.kind==="ColumnUpdateNode"},create(t,e){return R({kind:"ColumnUpdateNode",column:t,value:e})}});function XW(...t){return t.length===2?[uC.create(ts(t[0]),Ar(t[1]))]:Jw(t[0])}function Jw(t){const e=as(t)?t(Ku()):t;return Object.entries(e).filter(([n,r])=>r!==void 0).map(([n,r])=>uC.create(Tr.create(n),Ar(r)))}const ez=R({is(t){return t.kind==="OnDuplicateKeyNode"},create(t){return R({kind:"OnDuplicateKeyNode",updates:t})}});class tz{insertId;numInsertedOrUpdatedRows;constructor(e,n){this.insertId=e,this.numInsertedOrUpdatedRows=n}}class up extends Error{node;constructor(e){super("no result"),this.node=e}}function dp(t){return Object.prototype.hasOwnProperty.call(t,"prototype")}const Gi=R({is(t){return t.kind==="OnConflictNode"},create(){return R({kind:"OnConflictNode"})},cloneWith(t,e){return R({...t,...e})},cloneWithIndexWhere(t,e){return R({...t,indexWhere:t.indexWhere?Pi.cloneWithOperation(t.indexWhere,"And",e):Pi.create(e)})},cloneWithIndexOrWhere(t,e){return R({...t,indexWhere:t.indexWhere?Pi.cloneWithOperation(t.indexWhere,"Or",e):Pi.create(e)})},cloneWithUpdateWhere(t,e){return R({...t,updateWhere:t.updateWhere?Pi.cloneWithOperation(t.updateWhere,"And",e):Pi.create(e)})},cloneWithUpdateOrWhere(t,e){return R({...t,updateWhere:t.updateWhere?Pi.cloneWithOperation(t.updateWhere,"Or",e):Pi.create(e)})},cloneWithoutIndexWhere(t){return R({...t,indexWhere:void 0})},cloneWithoutUpdateWhere(t){return R({...t,updateWhere:void 0})}});class xo{#e;constructor(e){this.#e=R(e)}column(e){const n=Tr.create(e);return new xo({...this.#e,onConflictNode:Gi.cloneWith(this.#e.onConflictNode,{columns:this.#e.onConflictNode.columns?R([...this.#e.onConflictNode.columns,n]):R([n])})})}columns(e){const n=e.map(Tr.create);return new xo({...this.#e,onConflictNode:Gi.cloneWith(this.#e.onConflictNode,{columns:this.#e.onConflictNode.columns?R([...this.#e.onConflictNode.columns,...n]):R(n)})})}constraint(e){return new xo({...this.#e,onConflictNode:Gi.cloneWith(this.#e.onConflictNode,{constraint:lr.create(e)})})}expression(e){return new xo({...this.#e,onConflictNode:Gi.cloneWith(this.#e.onConflictNode,{indexExpression:e.toOperationNode()})})}where(...e){return new xo({...this.#e,onConflictNode:Gi.cloneWithIndexWhere(this.#e.onConflictNode,Xr(e))})}whereRef(e,n,r){return new xo({...this.#e,onConflictNode:Gi.cloneWithIndexWhere(this.#e.onConflictNode,Co(e,n,r))})}clearWhere(){return new xo({...this.#e,onConflictNode:Gi.cloneWithoutIndexWhere(this.#e.onConflictNode)})}doNothing(){return new dC({...this.#e,onConflictNode:Gi.cloneWith(this.#e.onConflictNode,{doNothing:!0})})}doUpdateSet(e){return new bu({...this.#e,onConflictNode:Gi.cloneWith(this.#e.onConflictNode,{updates:Jw(e)})})}$call(e){return e(this)}}gn(xo,"don't await OnConflictBuilder instances.");class dC{#e;constructor(e){this.#e=R(e)}toOperationNode(){return this.#e.onConflictNode}}gn(dC,"don't await OnConflictDoNothingBuilder instances.");class bu{#e;constructor(e){this.#e=R(e)}where(...e){return new bu({...this.#e,onConflictNode:Gi.cloneWithUpdateWhere(this.#e.onConflictNode,Xr(e))})}whereRef(e,n,r){return new bu({...this.#e,onConflictNode:Gi.cloneWithUpdateWhere(this.#e.onConflictNode,Co(e,n,r))})}clearWhere(){return new bu({...this.#e,onConflictNode:Gi.cloneWithoutUpdateWhere(this.#e.onConflictNode)})}$call(e){return e(this)}toOperationNode(){return this.#e.onConflictNode}}gn(bu,"don't await OnConflictUpdateBuilder instances.");const nz=R({is(t){return t.kind==="TopNode"},create(t,e){return R({kind:"TopNode",expression:t,modifiers:e})}});function Qu(t,e){if(!ry(t)&&!zw(t))throw new Error(`Invalid top expression: ${t}`);if(!Ya(e)&&!rz(e))throw new Error(`Invalid top modifiers: ${e}`);return nz.create(t,e)}function rz(t){return t==="percent"||t==="with ties"||t==="percent with ties"}class sr{#e;constructor(e){this.#e=R(e)}values(e){const[n,r]=cC(e);return new sr({...this.#e,queryNode:Zi.cloneWith(this.#e.queryNode,{columns:n,values:r})})}columns(e){return new sr({...this.#e,queryNode:Zi.cloneWith(this.#e.queryNode,{columns:R(e.map(Tr.create))})})}expression(e){return new sr({...this.#e,queryNode:Zi.cloneWith(this.#e.queryNode,{values:dc(e)})})}defaultValues(){return new sr({...this.#e,queryNode:Zi.cloneWith(this.#e.queryNode,{defaultValues:!0})})}modifyEnd(e){return new sr({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}ignore(){return new sr({...this.#e,queryNode:Zi.cloneWith(this.#e.queryNode,{ignore:!0})})}top(e,n){return new sr({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,Qu(e,n))})}onConflict(e){return new sr({...this.#e,queryNode:Zi.cloneWith(this.#e.queryNode,{onConflict:e(new xo({onConflictNode:Gi.create()})).toOperationNode()})})}onDuplicateKeyUpdate(e){return new sr({...this.#e,queryNode:Zi.cloneWith(this.#e.queryNode,{onDuplicateKey:ez.create(Jw(e))})})}returning(e){return new sr({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,oo(e))})}returningAll(){return new sr({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,Ro())})}output(e){return new sr({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,oo(e))})}outputAll(e){return new sr({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,Ro(e))})}clearReturning(){return new sr({...this.#e,queryNode:Ct.cloneWithoutReturning(this.#e.queryNode)})}$call(e){return e(this)}$if(e,n){return e?n(this):new sr({...this.#e})}$castTo(){return new sr(this.#e)}$narrowType(){return new sr(this.#e)}$assertType(){return new sr(this.#e)}withPlugin(e){return new sr({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),n=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:r}=this.#e.executor,i=e.query;return i.returning&&r.supportsReturning||i.output&&r.supportsOutput?n.rows:[new tz(n.insertId,n.numAffectedRows??n.numUpdatedOrDeletedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=up){const n=await this.executeTakeFirst();if(n===void 0)throw dp(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async *stream(e=100){const n=this.compile(),r=this.#e.executor.stream(n,e,this.#e.queryId);for await(const i of r)yield*i.rows}async explain(e,n){return await new sr({...this.#e,queryNode:Ct.cloneWithExplain(this.#e.queryNode,e,n)}).execute()}}gn(sr,"don't await InsertQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class iz{numDeletedRows;constructor(e){this.numDeletedRows=e}}const Zw=R({is(t){return t.kind==="LimitNode"},create(t){return R({kind:"LimitNode",limit:t})}});class Bn{#e;constructor(e){this.#e=R(e)}where(...e){return new Bn({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,Xr(e))})}whereRef(e,n,r){return new Bn({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,Co(e,n,r))})}clearWhere(){return new Bn({...this.#e,queryNode:Ct.cloneWithoutWhere(this.#e.queryNode)})}top(e,n){return new Bn({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,Qu(e,n))})}using(e){return new Bn({...this.#e,queryNode:Bl.cloneWithUsing(this.#e.queryNode,Bf(e))})}innerJoin(...e){return new Bn({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,bi("InnerJoin",e))})}leftJoin(...e){return new Bn({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,bi("LeftJoin",e))})}rightJoin(...e){return new Bn({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,bi("RightJoin",e))})}fullJoin(...e){return new Bn({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,bi("FullJoin",e))})}returning(e){return new Bn({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,oo(e))})}returningAll(e){return new Bn({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,Ro(e))})}output(e){return new Bn({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,oo(e))})}outputAll(e){return new Bn({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,Ro(e))})}clearReturning(){return new Bn({...this.#e,queryNode:Ct.cloneWithoutReturning(this.#e.queryNode)})}clearLimit(){return new Bn({...this.#e,queryNode:Bl.cloneWithoutLimit(this.#e.queryNode)})}clearOrderBy(){return new Bn({...this.#e,queryNode:Bl.cloneWithoutOrderBy(this.#e.queryNode)})}orderBy(e,n){return new Bn({...this.#e,queryNode:Bl.cloneWithOrderByItems(this.#e.queryNode,lp([e,n]))})}limit(e){return new Bn({...this.#e,queryNode:Bl.cloneWithLimit(this.#e.queryNode,Zw.create(Ar(e)))})}modifyEnd(e){return new Bn({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}$call(e){return e(this)}$if(e,n){return e?n(this):new Bn({...this.#e})}$castTo(){return new Bn(this.#e)}$narrowType(){return new Bn(this.#e)}$assertType(){return new Bn(this.#e)}withPlugin(e){return new Bn({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),n=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:r}=this.#e.executor,i=e.query;return i.returning&&r.supportsReturning||i.output&&r.supportsOutput?n.rows:[new iz(n.numAffectedRows??n.numUpdatedOrDeletedRows??BigInt(0))]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=up){const n=await this.executeTakeFirst();if(n===void 0)throw dp(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async *stream(e=100){const n=this.compile(),r=this.#e.executor.stream(n,e,this.#e.queryId);for await(const i of r)yield*i.rows}async explain(e,n){return await new Bn({...this.#e,queryNode:Ct.cloneWithExplain(this.#e.queryNode,e,n)}).execute()}}gn(Bn,"don't await DeleteQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class sz{numUpdatedRows;numChangedRows;constructor(e,n){this.numUpdatedRows=e,this.numChangedRows=n}}class Hn{#e;constructor(e){this.#e=R(e)}where(...e){return new Hn({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,Xr(e))})}whereRef(e,n,r){return new Hn({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,Co(e,n,r))})}clearWhere(){return new Hn({...this.#e,queryNode:Ct.cloneWithoutWhere(this.#e.queryNode)})}top(e,n){return new Hn({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,Qu(e,n))})}from(e){return new Hn({...this.#e,queryNode:vu.cloneWithFromItems(this.#e.queryNode,Bf(e))})}innerJoin(...e){return new Hn({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,bi("InnerJoin",e))})}leftJoin(...e){return new Hn({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,bi("LeftJoin",e))})}rightJoin(...e){return new Hn({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,bi("RightJoin",e))})}fullJoin(...e){return new Hn({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,bi("FullJoin",e))})}limit(e){return new Hn({...this.#e,queryNode:vu.cloneWithLimit(this.#e.queryNode,Zw.create(Ar(e)))})}set(...e){return new Hn({...this.#e,queryNode:vu.cloneWithUpdates(this.#e.queryNode,XW(...e))})}returning(e){return new Hn({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,oo(e))})}returningAll(e){return new Hn({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,Ro(e))})}output(e){return new Hn({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,oo(e))})}outputAll(e){return new Hn({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,Ro(e))})}modifyEnd(e){return new Hn({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}clearReturning(){return new Hn({...this.#e,queryNode:Ct.cloneWithoutReturning(this.#e.queryNode)})}$call(e){return e(this)}$if(e,n){return e?n(this):new Hn({...this.#e})}$castTo(){return new Hn(this.#e)}$narrowType(){return new Hn(this.#e)}$assertType(){return new Hn(this.#e)}withPlugin(e){return new Hn({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),n=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:r}=this.#e.executor,i=e.query;return i.returning&&r.supportsReturning||i.output&&r.supportsOutput?n.rows:[new sz(n.numAffectedRows??n.numUpdatedOrDeletedRows??BigInt(0),n.numChangedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=up){const n=await this.executeTakeFirst();if(n===void 0)throw dp(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async *stream(e=100){const n=this.compile(),r=this.#e.executor.stream(n,e,this.#e.queryId);for await(const i of r)yield*i.rows}async explain(e,n){return await new Hn({...this.#e,queryNode:Ct.cloneWithExplain(this.#e.queryNode,e,n)}).execute()}}gn(Hn,"don't await UpdateQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");const Dk=R({is(t){return t.kind==="CommonTableExpressionNameNode"},create(t,e){return R({kind:"CommonTableExpressionNameNode",table:el.create(t),columns:e?R(e.map(Tr.create)):void 0})}}),dg=R({is(t){return t.kind==="CommonTableExpressionNode"},create(t,e){return R({kind:"CommonTableExpressionNode",name:t,expression:e})},cloneWith(t,e){return R({...t,...e})}});class Df{#e;constructor(e){this.#e=R(e)}materialized(){return new Df({...this.#e,node:dg.cloneWith(this.#e.node,{materialized:!0})})}notMaterialized(){return new Df({...this.#e,node:dg.cloneWith(this.#e.node,{materialized:!1})})}toOperationNode(){return this.#e.node}}gn(Df,"don't await CTEBuilder instances. They are never executed directly and are always just a part of a query.");function Mk(t,e){const n=e(yz()).toOperationNode();return as(t)?t(oz(n)).toOperationNode():dg.create(fC(t),n)}function oz(t){return e=>new Df({node:dg.create(fC(e),t)})}function fC(t){if(t.includes("(")){const e=t.split(/[\(\)]/),n=e[0],r=e[1].split(",").map(i=>i.trim());return Dk.create(n,r)}else return Dk.create(t)}const Wh=R({is(t){return t.kind==="WithNode"},create(t,e){return R({kind:"WithNode",expressions:R([t]),...e})},cloneWithExpression(t,e){return R({...t,expressions:R([...t.expressions,e])})}}),Bk=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"];function az(t){let e="";for(let n=0;n<t;++n)e+=lz();return e}function lz(){return Bk[~~(Math.random()*Bk.length)]}function zn(){return new cz}class cz{#e;get queryId(){return this.#e===void 0&&(this.#e=az(8)),this.#e}}class pC{nodeStack=[];#e=R({AliasNode:this.transformAlias.bind(this),ColumnNode:this.transformColumn.bind(this),IdentifierNode:this.transformIdentifier.bind(this),SchemableIdentifierNode:this.transformSchemableIdentifier.bind(this),RawNode:this.transformRaw.bind(this),ReferenceNode:this.transformReference.bind(this),SelectQueryNode:this.transformSelectQuery.bind(this),SelectionNode:this.transformSelection.bind(this),TableNode:this.transformTable.bind(this),FromNode:this.transformFrom.bind(this),SelectAllNode:this.transformSelectAll.bind(this),AndNode:this.transformAnd.bind(this),OrNode:this.transformOr.bind(this),ValueNode:this.transformValue.bind(this),ValueListNode:this.transformValueList.bind(this),PrimitiveValueListNode:this.transformPrimitiveValueList.bind(this),ParensNode:this.transformParens.bind(this),JoinNode:this.transformJoin.bind(this),OperatorNode:this.transformOperator.bind(this),WhereNode:this.transformWhere.bind(this),InsertQueryNode:this.transformInsertQuery.bind(this),DeleteQueryNode:this.transformDeleteQuery.bind(this),ReturningNode:this.transformReturning.bind(this),CreateTableNode:this.transformCreateTable.bind(this),AddColumnNode:this.transformAddColumn.bind(this),ColumnDefinitionNode:this.transformColumnDefinition.bind(this),DropTableNode:this.transformDropTable.bind(this),DataTypeNode:this.transformDataType.bind(this),OrderByNode:this.transformOrderBy.bind(this),OrderByItemNode:this.transformOrderByItem.bind(this),GroupByNode:this.transformGroupBy.bind(this),GroupByItemNode:this.transformGroupByItem.bind(this),UpdateQueryNode:this.transformUpdateQuery.bind(this),ColumnUpdateNode:this.transformColumnUpdate.bind(this),LimitNode:this.transformLimit.bind(this),OffsetNode:this.transformOffset.bind(this),OnConflictNode:this.transformOnConflict.bind(this),OnDuplicateKeyNode:this.transformOnDuplicateKey.bind(this),CreateIndexNode:this.transformCreateIndex.bind(this),DropIndexNode:this.transformDropIndex.bind(this),ListNode:this.transformList.bind(this),PrimaryKeyConstraintNode:this.transformPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.transformUniqueConstraint.bind(this),ReferencesNode:this.transformReferences.bind(this),CheckConstraintNode:this.transformCheckConstraint.bind(this),WithNode:this.transformWith.bind(this),CommonTableExpressionNode:this.transformCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.transformCommonTableExpressionName.bind(this),HavingNode:this.transformHaving.bind(this),CreateSchemaNode:this.transformCreateSchema.bind(this),DropSchemaNode:this.transformDropSchema.bind(this),AlterTableNode:this.transformAlterTable.bind(this),DropColumnNode:this.transformDropColumn.bind(this),RenameColumnNode:this.transformRenameColumn.bind(this),AlterColumnNode:this.transformAlterColumn.bind(this),ModifyColumnNode:this.transformModifyColumn.bind(this),AddConstraintNode:this.transformAddConstraint.bind(this),DropConstraintNode:this.transformDropConstraint.bind(this),ForeignKeyConstraintNode:this.transformForeignKeyConstraint.bind(this),CreateViewNode:this.transformCreateView.bind(this),DropViewNode:this.transformDropView.bind(this),GeneratedNode:this.transformGenerated.bind(this),DefaultValueNode:this.transformDefaultValue.bind(this),OnNode:this.transformOn.bind(this),ValuesNode:this.transformValues.bind(this),SelectModifierNode:this.transformSelectModifier.bind(this),CreateTypeNode:this.transformCreateType.bind(this),DropTypeNode:this.transformDropType.bind(this),ExplainNode:this.transformExplain.bind(this),DefaultInsertValueNode:this.transformDefaultInsertValue.bind(this),AggregateFunctionNode:this.transformAggregateFunction.bind(this),OverNode:this.transformOver.bind(this),PartitionByNode:this.transformPartitionBy.bind(this),PartitionByItemNode:this.transformPartitionByItem.bind(this),SetOperationNode:this.transformSetOperation.bind(this),BinaryOperationNode:this.transformBinaryOperation.bind(this),UnaryOperationNode:this.transformUnaryOperation.bind(this),UsingNode:this.transformUsing.bind(this),FunctionNode:this.transformFunction.bind(this),CaseNode:this.transformCase.bind(this),WhenNode:this.transformWhen.bind(this),JSONReferenceNode:this.transformJSONReference.bind(this),JSONPathNode:this.transformJSONPath.bind(this),JSONPathLegNode:this.transformJSONPathLeg.bind(this),JSONOperatorChainNode:this.transformJSONOperatorChain.bind(this),TupleNode:this.transformTuple.bind(this),MergeQueryNode:this.transformMergeQuery.bind(this),MatchedNode:this.transformMatched.bind(this),AddIndexNode:this.transformAddIndex.bind(this),CastNode:this.transformCast.bind(this),FetchNode:this.transformFetch.bind(this),TopNode:this.transformTop.bind(this),OutputNode:this.transformOutput.bind(this)});transformNode(e){if(!e)return e;this.nodeStack.push(e);const n=this.transformNodeImpl(e);return this.nodeStack.pop(),R(n)}transformNodeImpl(e){return this.#e[e.kind](e)}transformNodeList(e){return e&&R(e.map(n=>this.transformNode(n)))}transformSelectQuery(e){return{kind:"SelectQueryNode",from:this.transformNode(e.from),selections:this.transformNodeList(e.selections),distinctOn:this.transformNodeList(e.distinctOn),joins:this.transformNodeList(e.joins),groupBy:this.transformNode(e.groupBy),orderBy:this.transformNode(e.orderBy),where:this.transformNode(e.where),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),limit:this.transformNode(e.limit),offset:this.transformNode(e.offset),with:this.transformNode(e.with),having:this.transformNode(e.having),explain:this.transformNode(e.explain),setOperations:this.transformNodeList(e.setOperations),fetch:this.transformNode(e.fetch),top:this.transformNode(e.top)}}transformSelection(e){return{kind:"SelectionNode",selection:this.transformNode(e.selection)}}transformColumn(e){return{kind:"ColumnNode",column:this.transformNode(e.column)}}transformAlias(e){return{kind:"AliasNode",node:this.transformNode(e.node),alias:this.transformNode(e.alias)}}transformTable(e){return{kind:"TableNode",table:this.transformNode(e.table)}}transformFrom(e){return{kind:"FromNode",froms:this.transformNodeList(e.froms)}}transformReference(e){return{kind:"ReferenceNode",column:this.transformNode(e.column),table:this.transformNode(e.table)}}transformAnd(e){return{kind:"AndNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformOr(e){return{kind:"OrNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformValueList(e){return{kind:"ValueListNode",values:this.transformNodeList(e.values)}}transformParens(e){return{kind:"ParensNode",node:this.transformNode(e.node)}}transformJoin(e){return{kind:"JoinNode",joinType:e.joinType,table:this.transformNode(e.table),on:this.transformNode(e.on)}}transformRaw(e){return{kind:"RawNode",sqlFragments:R([...e.sqlFragments]),parameters:this.transformNodeList(e.parameters)}}transformWhere(e){return{kind:"WhereNode",where:this.transformNode(e.where)}}transformInsertQuery(e){return{kind:"InsertQueryNode",into:this.transformNode(e.into),columns:this.transformNodeList(e.columns),values:this.transformNode(e.values),returning:this.transformNode(e.returning),onConflict:this.transformNode(e.onConflict),onDuplicateKey:this.transformNode(e.onDuplicateKey),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),ignore:e.ignore,replace:e.replace,explain:this.transformNode(e.explain),defaultValues:e.defaultValues,top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformValues(e){return{kind:"ValuesNode",values:this.transformNodeList(e.values)}}transformDeleteQuery(e){return{kind:"DeleteQueryNode",from:this.transformNode(e.from),using:this.transformNode(e.using),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),returning:this.transformNode(e.returning),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),orderBy:this.transformNode(e.orderBy),limit:this.transformNode(e.limit),explain:this.transformNode(e.explain),top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformReturning(e){return{kind:"ReturningNode",selections:this.transformNodeList(e.selections)}}transformCreateTable(e){return{kind:"CreateTableNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),constraints:this.transformNodeList(e.constraints),temporary:e.temporary,ifNotExists:e.ifNotExists,onCommit:e.onCommit,frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),selectQuery:this.transformNode(e.selectQuery)}}transformColumnDefinition(e){return{kind:"ColumnDefinitionNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),references:this.transformNode(e.references),primaryKey:e.primaryKey,autoIncrement:e.autoIncrement,unique:e.unique,notNull:e.notNull,unsigned:e.unsigned,defaultTo:this.transformNode(e.defaultTo),check:this.transformNode(e.check),generated:this.transformNode(e.generated),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),nullsNotDistinct:e.nullsNotDistinct,identity:e.identity,ifNotExists:e.ifNotExists}}transformAddColumn(e){return{kind:"AddColumnNode",column:this.transformNode(e.column)}}transformDropTable(e){return{kind:"DropTableNode",table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformOrderBy(e){return{kind:"OrderByNode",items:this.transformNodeList(e.items)}}transformOrderByItem(e){return{kind:"OrderByItemNode",orderBy:this.transformNode(e.orderBy),direction:this.transformNode(e.direction)}}transformGroupBy(e){return{kind:"GroupByNode",items:this.transformNodeList(e.items)}}transformGroupByItem(e){return{kind:"GroupByItemNode",groupBy:this.transformNode(e.groupBy)}}transformUpdateQuery(e){return{kind:"UpdateQueryNode",table:this.transformNode(e.table),from:this.transformNode(e.from),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),updates:this.transformNodeList(e.updates),returning:this.transformNode(e.returning),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),explain:this.transformNode(e.explain),limit:this.transformNode(e.limit),top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformColumnUpdate(e){return{kind:"ColumnUpdateNode",column:this.transformNode(e.column),value:this.transformNode(e.value)}}transformLimit(e){return{kind:"LimitNode",limit:this.transformNode(e.limit)}}transformOffset(e){return{kind:"OffsetNode",offset:this.transformNode(e.offset)}}transformOnConflict(e){return{kind:"OnConflictNode",columns:this.transformNodeList(e.columns),constraint:this.transformNode(e.constraint),indexExpression:this.transformNode(e.indexExpression),indexWhere:this.transformNode(e.indexWhere),updates:this.transformNodeList(e.updates),updateWhere:this.transformNode(e.updateWhere),doNothing:e.doNothing}}transformOnDuplicateKey(e){return{kind:"OnDuplicateKeyNode",updates:this.transformNodeList(e.updates)}}transformCreateIndex(e){return{kind:"CreateIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists,where:this.transformNode(e.where),nullsNotDistinct:e.nullsNotDistinct}}transformList(e){return{kind:"ListNode",items:this.transformNodeList(e.items)}}transformDropIndex(e){return{kind:"DropIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformPrimaryKeyConstraint(e){return{kind:"PrimaryKeyConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name)}}transformUniqueConstraint(e){return{kind:"UniqueConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name),nullsNotDistinct:e.nullsNotDistinct}}transformForeignKeyConstraint(e){return{kind:"ForeignKeyConstraintNode",columns:this.transformNodeList(e.columns),references:this.transformNode(e.references),name:this.transformNode(e.name),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformSetOperation(e){return{kind:"SetOperationNode",operator:e.operator,expression:this.transformNode(e.expression),all:e.all}}transformReferences(e){return{kind:"ReferencesNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformCheckConstraint(e){return{kind:"CheckConstraintNode",expression:this.transformNode(e.expression),name:this.transformNode(e.name)}}transformWith(e){return{kind:"WithNode",expressions:this.transformNodeList(e.expressions),recursive:e.recursive}}transformCommonTableExpression(e){return{kind:"CommonTableExpressionNode",name:this.transformNode(e.name),materialized:e.materialized,expression:this.transformNode(e.expression)}}transformCommonTableExpressionName(e){return{kind:"CommonTableExpressionNameNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns)}}transformHaving(e){return{kind:"HavingNode",having:this.transformNode(e.having)}}transformCreateSchema(e){return{kind:"CreateSchemaNode",schema:this.transformNode(e.schema),ifNotExists:e.ifNotExists}}transformDropSchema(e){return{kind:"DropSchemaNode",schema:this.transformNode(e.schema),ifExists:e.ifExists,cascade:e.cascade}}transformAlterTable(e){return{kind:"AlterTableNode",table:this.transformNode(e.table),renameTo:this.transformNode(e.renameTo),setSchema:this.transformNode(e.setSchema),columnAlterations:this.transformNodeList(e.columnAlterations),addConstraint:this.transformNode(e.addConstraint),dropConstraint:this.transformNode(e.dropConstraint),addIndex:this.transformNode(e.addIndex),dropIndex:this.transformNode(e.dropIndex)}}transformDropColumn(e){return{kind:"DropColumnNode",column:this.transformNode(e.column)}}transformRenameColumn(e){return{kind:"RenameColumnNode",column:this.transformNode(e.column),renameTo:this.transformNode(e.renameTo)}}transformAlterColumn(e){return{kind:"AlterColumnNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),dataTypeExpression:this.transformNode(e.dataTypeExpression),setDefault:this.transformNode(e.setDefault),dropDefault:e.dropDefault,setNotNull:e.setNotNull,dropNotNull:e.dropNotNull}}transformModifyColumn(e){return{kind:"ModifyColumnNode",column:this.transformNode(e.column)}}transformAddConstraint(e){return{kind:"AddConstraintNode",constraint:this.transformNode(e.constraint)}}transformDropConstraint(e){return{kind:"DropConstraintNode",constraintName:this.transformNode(e.constraintName),ifExists:e.ifExists,modifier:e.modifier}}transformCreateView(e){return{kind:"CreateViewNode",name:this.transformNode(e.name),temporary:e.temporary,orReplace:e.orReplace,ifNotExists:e.ifNotExists,materialized:e.materialized,columns:this.transformNodeList(e.columns),as:this.transformNode(e.as)}}transformDropView(e){return{kind:"DropViewNode",name:this.transformNode(e.name),ifExists:e.ifExists,materialized:e.materialized,cascade:e.cascade}}transformGenerated(e){return{kind:"GeneratedNode",byDefault:e.byDefault,always:e.always,identity:e.identity,stored:e.stored,expression:this.transformNode(e.expression)}}transformDefaultValue(e){return{kind:"DefaultValueNode",defaultValue:this.transformNode(e.defaultValue)}}transformOn(e){return{kind:"OnNode",on:this.transformNode(e.on)}}transformSelectModifier(e){return{kind:"SelectModifierNode",modifier:e.modifier,rawModifier:this.transformNode(e.rawModifier),of:this.transformNodeList(e.of)}}transformCreateType(e){return{kind:"CreateTypeNode",name:this.transformNode(e.name),enum:this.transformNode(e.enum)}}transformDropType(e){return{kind:"DropTypeNode",name:this.transformNode(e.name),ifExists:e.ifExists}}transformExplain(e){return{kind:"ExplainNode",format:e.format,options:this.transformNode(e.options)}}transformSchemableIdentifier(e){return{kind:"SchemableIdentifierNode",schema:this.transformNode(e.schema),identifier:this.transformNode(e.identifier)}}transformAggregateFunction(e){return{kind:"AggregateFunctionNode",aggregated:this.transformNodeList(e.aggregated),distinct:e.distinct,orderBy:this.transformNode(e.orderBy),filter:this.transformNode(e.filter),func:e.func,over:this.transformNode(e.over)}}transformOver(e){return{kind:"OverNode",orderBy:this.transformNode(e.orderBy),partitionBy:this.transformNode(e.partitionBy)}}transformPartitionBy(e){return{kind:"PartitionByNode",items:this.transformNodeList(e.items)}}transformPartitionByItem(e){return{kind:"PartitionByItemNode",partitionBy:this.transformNode(e.partitionBy)}}transformBinaryOperation(e){return{kind:"BinaryOperationNode",leftOperand:this.transformNode(e.leftOperand),operator:this.transformNode(e.operator),rightOperand:this.transformNode(e.rightOperand)}}transformUnaryOperation(e){return{kind:"UnaryOperationNode",operator:this.transformNode(e.operator),operand:this.transformNode(e.operand)}}transformUsing(e){return{kind:"UsingNode",tables:this.transformNodeList(e.tables)}}transformFunction(e){return{kind:"FunctionNode",func:e.func,arguments:this.transformNodeList(e.arguments)}}transformCase(e){return{kind:"CaseNode",value:this.transformNode(e.value),when:this.transformNodeList(e.when),else:this.transformNode(e.else),isStatement:e.isStatement}}transformWhen(e){return{kind:"WhenNode",condition:this.transformNode(e.condition),result:this.transformNode(e.result)}}transformJSONReference(e){return{kind:"JSONReferenceNode",reference:this.transformNode(e.reference),traversal:this.transformNode(e.traversal)}}transformJSONPath(e){return{kind:"JSONPathNode",inOperator:this.transformNode(e.inOperator),pathLegs:this.transformNodeList(e.pathLegs)}}transformJSONPathLeg(e){return{kind:"JSONPathLegNode",type:e.type,value:e.value}}transformJSONOperatorChain(e){return{kind:"JSONOperatorChainNode",operator:this.transformNode(e.operator),values:this.transformNodeList(e.values)}}transformTuple(e){return{kind:"TupleNode",values:this.transformNodeList(e.values)}}transformMergeQuery(e){return{kind:"MergeQueryNode",into:this.transformNode(e.into),using:this.transformNode(e.using),whens:this.transformNodeList(e.whens),with:this.transformNode(e.with),top:this.transformNode(e.top),endModifiers:this.transformNodeList(e.endModifiers),output:this.transformNode(e.output)}}transformMatched(e){return{kind:"MatchedNode",not:e.not,bySource:e.bySource}}transformAddIndex(e){return{kind:"AddIndexNode",name:this.transformNode(e.name),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists}}transformCast(e){return{kind:"CastNode",expression:this.transformNode(e.expression),dataType:this.transformNode(e.dataType)}}transformFetch(e){return{kind:"FetchNode",rowCount:this.transformNode(e.rowCount),modifier:e.modifier}}transformTop(e){return{kind:"TopNode",expression:e.expression,modifiers:e.modifiers}}transformOutput(e){return{kind:"OutputNode",selections:this.transformNodeList(e.selections)}}transformDataType(e){return e}transformSelectAll(e){return e}transformIdentifier(e){return e}transformValue(e){return e}transformPrimitiveValueList(e){return e}transformOperator(e){return e}transformDefaultInsertValue(e){return e}}const uz=R({AlterTableNode:!0,CreateIndexNode:!0,CreateSchemaNode:!0,CreateTableNode:!0,CreateTypeNode:!0,CreateViewNode:!0,DeleteQueryNode:!0,DropIndexNode:!0,DropSchemaNode:!0,DropTableNode:!0,DropTypeNode:!0,DropViewNode:!0,InsertQueryNode:!0,RawNode:!0,SelectQueryNode:!0,UpdateQueryNode:!0,MergeQueryNode:!0});class dz extends pC{#e;#t=new Set;#n=new Set;constructor(e){super(),this.#e=e}transformNodeImpl(e){if(!this.#r(e))return super.transformNodeImpl(e);const n=this.#s(e);for(const o of n)this.#n.add(o);const r=this.#i(e);for(const o of r)this.#t.add(o);const i=super.transformNodeImpl(e);for(const o of r)this.#t.delete(o);for(const o of n)this.#n.delete(o);return i}transformSchemableIdentifier(e){const n=super.transformSchemableIdentifier(e);return n.schema||!this.#t.has(e.identifier.name)?n:{...n,schema:lr.create(this.#e)}}transformReferences(e){const n=super.transformReferences(e);return n.table.table.schema?n:{...n,table:el.createWithSchema(this.#e,n.table.table.identifier.name)}}#r(e){return e.kind in uz}#i(e){const n=new Set;if("name"in e&&e.name&&cl.is(e.name)&&this.#a(e.name,n),"from"in e&&e.from)for(const r of e.from.froms)this.#o(r,n);if("into"in e&&e.into&&this.#o(e.into,n),"table"in e&&e.table&&this.#o(e.table,n),"joins"in e&&e.joins)for(const r of e.joins)this.#o(r.table,n);return"using"in e&&e.using&&this.#o(e.using,n),n}#s(e){const n=new Set;return"with"in e&&e.with&&this.#c(e.with,n),n}#o(e,n){const r=el.is(e)?e:ml.is(e)&&el.is(e.node)?e.node:null;r&&this.#a(r.table,n)}#a(e,n){const r=e.identifier.name;!this.#t.has(r)&&!this.#n.has(r)&&n.add(r)}#c(e,n){for(const r of e.expressions){const i=r.name.table.table.identifier.name;this.#n.has(i)||n.add(i)}}}class fp{#e;constructor(e){this.#e=new dz(e)}transformQuery(e){return this.#e.transformNode(e.node)}async transformResult(e){return e.result}}const fz=R({is(t){return t.kind==="MatchedNode"},create(t,e=!1){return R({kind:"MatchedNode",not:t,bySource:e})}});function $k(t,e,n){return cp.create(cg([fz.create(!t.isMatched,t.bySource),...e&&e.length>0?[e.length===3&&n?Co(e[0],e[1],e[2]):Xr(e)]:[]],"and",!1))}function pf(t){return os(t)?li.create([t],[]):Wi(t)?t.toOperationNode():t}class Wk{#e;#t;#n;constructor(){this.#e=new Promise((e,n)=>{this.#n=n,this.#t=e})}get promise(){return this.#e}resolve=e=>{this.#t&&this.#t(e)};reject=e=>{this.#n&&this.#n(e)}}const zk=new Set;function pz(t){zk.has(t)||(zk.add(t),console.log(t))}const hz=R([]);class hC{#e;constructor(e=hz){this.#e=e}get plugins(){return this.#e}transformQuery(e,n){for(const r of this.#e){const i=r.transformQuery({node:e,queryId:n});if(i.kind===e.kind)e=i;else throw new Error(["KyselyPlugin.transformQuery must return a node","of the same kind that was given to it.",`The plugin was given a ${e.kind}`,`but it returned a ${i.kind}`].join(" "))}return e}async executeQuery(e,n){return await this.provideConnection(async r=>{const i=await r.executeQuery(e),o=await this.#t(i,n);return mz(i,o),o})}async *stream(e,n,r){const i=new Wk,o=new Wk;this.provideConnection(async c=>(i.resolve(c),await o.promise)).catch(c=>i.reject(c));const l=await i.promise;try{for await(const c of l.streamQuery(e,n))yield await this.#t(c,r)}finally{o.resolve()}}async #t(e,n){for(const r of this.#e)e=await r.transformResult({result:e,queryId:n});return e}}function mz(t,e){const{numAffectedRows:n}=t;n===void 0&&t.numUpdatedOrDeletedRows===void 0||n!==void 0&&e.numAffectedRows!==void 0||pz("kysely:warning: outdated driver/plugin detected! QueryResult.numUpdatedOrDeletedRows is deprecated and will be removed in a future release.")}class ou extends hC{get adapter(){throw new Error("this query cannot be compiled to SQL")}compileQuery(){throw new Error("this query cannot be compiled to SQL")}provideConnection(){throw new Error("this query cannot be executed")}withConnectionProvider(){throw new Error("this query cannot have a connection provider")}withPlugin(e){return new ou([...this.plugins,e])}withPlugins(e){return new ou([...this.plugins,...e])}withPluginAtFront(e){return new ou([e,...this.plugins])}withoutPlugins(){return new ou([])}}const sy=new ou;class gz{numChangedRows;constructor(e){this.numChangedRows=e}}class Kl{#e;constructor(e){this.#e=R(e)}modifyEnd(e){return new Kl({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}top(e,n){return new Kl({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,Qu(e,n))})}using(...e){return new ns({...this.#e,queryNode:Li.cloneWithUsing(this.#e.queryNode,bi("Using",e))})}output(e){return new Kl({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,oo(e))})}outputAll(e){return new Kl({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,Ro(e))})}}gn(Kl,"don't await MergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class ns{#e;constructor(e){this.#e=R(e)}modifyEnd(e){return new ns({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}top(e,n){return new ns({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,Qu(e,n))})}whenMatched(){return this.#t([])}whenMatchedAnd(...e){return this.#t(e)}whenMatchedAndRef(e,n,r){return this.#t([e,n,r],!0)}#t(e,n){return new Fx({...this.#e,queryNode:Li.cloneWithWhen(this.#e.queryNode,$k({isMatched:!0},e,n))})}whenNotMatched(){return this.#n([])}whenNotMatchedAnd(...e){return this.#n(e)}whenNotMatchedAndRef(e,n,r){return this.#n([e,n,r],!0)}whenNotMatchedBySource(){return this.#n([],!1,!0)}whenNotMatchedBySourceAnd(...e){return this.#n(e,!1,!0)}whenNotMatchedBySourceAndRef(e,n,r){return this.#n([e,n,r],!0,!0)}output(e){return new ns({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,oo(e))})}outputAll(e){return new ns({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,Ro(e))})}#n(e,n=!1,r=!1){const i={...this.#e,queryNode:Li.cloneWithWhen(this.#e.queryNode,$k({isMatched:!1,bySource:r},e,n))},o=r?Fx:mC;return new o(i)}$call(e){return e(this)}$if(e,n){return e?n(this):new ns({...this.#e})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),n=await this.#e.executor.executeQuery(e,this.#e.queryId);return e.query.output&&this.#e.executor.adapter.supportsOutput?n.rows:[new gz(n.numAffectedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=up){const n=await this.executeTakeFirst();if(n===void 0)throw dp(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}}gn(ns,"don't await WheneableMergeQueryBuilder instances directly. To execute the query you need to call `execute`.");class Fx{#e;constructor(e){this.#e=R(e)}thenDelete(){return new ns({...this.#e,queryNode:Li.cloneWithThen(this.#e.queryNode,pf("delete"))})}thenDoNothing(){return new ns({...this.#e,queryNode:Li.cloneWithThen(this.#e.queryNode,pf("do nothing"))})}thenUpdate(e){return new ns({...this.#e,queryNode:Li.cloneWithThen(this.#e.queryNode,pf(e(new Hn({queryId:this.#e.queryId,executor:sy,queryNode:vu.createWithoutTable()}))))})}thenUpdateSet(...e){return this.thenUpdate(n=>n.set(...e))}}gn(Fx,"don't await MatchedThenableMergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class mC{#e;constructor(e){this.#e=R(e)}thenDoNothing(){return new ns({...this.#e,queryNode:Li.cloneWithThen(this.#e.queryNode,pf("do nothing"))})}thenInsertValues(e){const[n,r]=cC(e);return new ns({...this.#e,queryNode:Li.cloneWithThen(this.#e.queryNode,pf(Zi.cloneWith(Zi.createWithoutInto(),{columns:n,values:r})))})}}gn(mC,"don't await NotMatchedThenableMergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class za{#e;constructor(e){this.#e=R(e)}selectFrom(e){return Lx({queryId:zn(),executor:this.#e.executor,queryNode:$n.createFrom(Bf(e),this.#e.withNode)})}selectNoFrom(e){return Lx({queryId:zn(),executor:this.#e.executor,queryNode:$n.cloneWithSelections($n.create(this.#e.withNode),oo(e))})}insertInto(e){return new sr({queryId:zn(),executor:this.#e.executor,queryNode:Zi.create(Er(e),this.#e.withNode)})}replaceInto(e){return new sr({queryId:zn(),executor:this.#e.executor,queryNode:Zi.create(Er(e),this.#e.withNode,!0)})}deleteFrom(e){return new Bn({queryId:zn(),executor:this.#e.executor,queryNode:Bl.create(Bf(e),this.#e.withNode)})}updateTable(e){return new Hn({queryId:zn(),executor:this.#e.executor,queryNode:vu.create($f(e),this.#e.withNode)})}mergeInto(e){return new Kl({queryId:zn(),executor:this.#e.executor,queryNode:Li.create(wC(e),this.#e.withNode)})}with(e,n){const r=Mk(e,n);return new za({...this.#e,withNode:this.#e.withNode?Wh.cloneWithExpression(this.#e.withNode,r):Wh.create(r)})}withRecursive(e,n){const r=Mk(e,n);return new za({...this.#e,withNode:this.#e.withNode?Wh.cloneWithExpression(this.#e.withNode,r):Wh.create(r,{recursive:!0})})}withPlugin(e){return new za({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new za({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new za({...this.#e,executor:this.#e.executor.withPluginAtFront(new fp(e))})}}function yz(){return new za({executor:sy})}function vz(t,e){return new yu({joinNode:uf.create(t,$f(e))})}function bz(){return new Lf({overNode:Px.create()})}function bi(t,e){if(e.length===3)return xz(t,e[0],e[1],e[2]);if(e.length===2)return _z(t,e[0],e[1]);throw new Error("not implemented")}function _z(t,e,n){return n(vz(t,e)).toOperationNode()}function xz(t,e,n,r){return uf.createWithOn(t,$f(e),Co(n,"=",r))}const wz=R({is(t){return t.kind==="OffsetNode"},create(t){return R({kind:"OffsetNode",offset:t})}}),Sz=R({is(t){return t.kind==="GroupByItemNode"},create(t){return R({kind:"GroupByItemNode",groupBy:t})}});function Ez(t){return t=as(t)?t(Ku()):t,Ff(t).map(Sz.create)}const gC=R({is(t){return t.kind==="SetOperationNode"},create(t,e,n){return R({kind:"SetOperationNode",operator:t,expression:e,all:n})}});function Kc(t,e,n){return as(e)&&(e=e(Xw())),pa(e)||(e=[e]),e.map(r=>gC.create(t,dc(r),n))}class Qn{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new Yw(this,e)}or(...e){return new fg(Hu.create(this.#e,Xr(e)))}and(...e){return new pg(ul.create(this.#e,Xr(e)))}$castTo(){return new Qn(this.#e)}$notNull(){return new Qn(this.#e)}toOperationNode(){return this.#e}}class Yw{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return ml.create(this.#e.toOperationNode(),Wi(this.#t)?this.#t.toOperationNode():lr.create(this.#t))}}class fg{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new Yw(this,e)}or(...e){return new fg(Hu.create(this.#e,Xr(e)))}$castTo(){return new fg(this.#e)}toOperationNode(){return ju.create(this.#e)}}class pg{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new Yw(this,e)}and(...e){return new pg(ul.create(this.#e,Xr(e)))}$castTo(){return new pg(this.#e)}toOperationNode(){return ju.create(this.#e)}}const Nz={is(t){return t.kind==="FetchNode"},create(t,e){return{kind:"FetchNode",rowCount:Oo.create(t),modifier:e}}};function kz(t,e){if(!ry(t)&&!zw(t))throw new Error(`Invalid fetch row count: ${t}`);if(!Iz(e))throw new Error(`Invalid fetch modifier: ${e}`);return Nz.create(t,e)}function Iz(t){return t==="only"||t==="with ties"}class Gt{#e;constructor(e){this.#e=R(e)}get expressionType(){}get isSelectQueryBuilder(){return!0}where(...e){return new Gt({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,Xr(e))})}whereRef(e,n,r){return new Gt({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,Co(e,n,r))})}having(...e){return new Gt({...this.#e,queryNode:$n.cloneWithHaving(this.#e.queryNode,Xr(e))})}havingRef(e,n,r){return new Gt({...this.#e,queryNode:$n.cloneWithHaving(this.#e.queryNode,Co(e,n,r))})}select(e){return new Gt({...this.#e,queryNode:$n.cloneWithSelections(this.#e.queryNode,oo(e))})}distinctOn(e){return new Gt({...this.#e,queryNode:$n.cloneWithDistinctOn(this.#e.queryNode,Ff(e))})}modifyFront(e){return new Gt({...this.#e,queryNode:$n.cloneWithFrontModifier(this.#e.queryNode,ea.createWithExpression(e.toOperationNode()))})}modifyEnd(e){return new Gt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,ea.createWithExpression(e.toOperationNode()))})}distinct(){return new Gt({...this.#e,queryNode:$n.cloneWithFrontModifier(this.#e.queryNode,ea.create("Distinct"))})}forUpdate(e){return new Gt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,ea.create("ForUpdate",e?$h(e).map(Er):void 0))})}forShare(e){return new Gt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,ea.create("ForShare",e?$h(e).map(Er):void 0))})}forKeyShare(e){return new Gt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,ea.create("ForKeyShare",e?$h(e).map(Er):void 0))})}forNoKeyUpdate(e){return new Gt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,ea.create("ForNoKeyUpdate",e?$h(e).map(Er):void 0))})}skipLocked(){return new Gt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,ea.create("SkipLocked"))})}noWait(){return new Gt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,ea.create("NoWait"))})}selectAll(e){return new Gt({...this.#e,queryNode:$n.cloneWithSelections(this.#e.queryNode,Ro(e))})}innerJoin(...e){return new Gt({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,bi("InnerJoin",e))})}leftJoin(...e){return new Gt({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,bi("LeftJoin",e))})}rightJoin(...e){return new Gt({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,bi("RightJoin",e))})}fullJoin(...e){return new Gt({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,bi("FullJoin",e))})}innerJoinLateral(...e){return new Gt({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,bi("LateralInnerJoin",e))})}leftJoinLateral(...e){return new Gt({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,bi("LateralLeftJoin",e))})}orderBy(...e){return new Gt({...this.#e,queryNode:$n.cloneWithOrderByItems(this.#e.queryNode,lp(e))})}groupBy(e){return new Gt({...this.#e,queryNode:$n.cloneWithGroupByItems(this.#e.queryNode,Ez(e))})}limit(e){return new Gt({...this.#e,queryNode:$n.cloneWithLimit(this.#e.queryNode,Zw.create(Ar(e)))})}offset(e){return new Gt({...this.#e,queryNode:$n.cloneWithOffset(this.#e.queryNode,wz.create(Ar(e)))})}fetch(e,n="only"){return new Gt({...this.#e,queryNode:$n.cloneWithFetch(this.#e.queryNode,kz(e,n))})}top(e,n){return new Gt({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,Qu(e,n))})}union(e){return new Gt({...this.#e,queryNode:$n.cloneWithSetOperations(this.#e.queryNode,Kc("union",e,!1))})}unionAll(e){return new Gt({...this.#e,queryNode:$n.cloneWithSetOperations(this.#e.queryNode,Kc("union",e,!0))})}intersect(e){return new Gt({...this.#e,queryNode:$n.cloneWithSetOperations(this.#e.queryNode,Kc("intersect",e,!1))})}intersectAll(e){return new Gt({...this.#e,queryNode:$n.cloneWithSetOperations(this.#e.queryNode,Kc("intersect",e,!0))})}except(e){return new Gt({...this.#e,queryNode:$n.cloneWithSetOperations(this.#e.queryNode,Kc("except",e,!1))})}exceptAll(e){return new Gt({...this.#e,queryNode:$n.cloneWithSetOperations(this.#e.queryNode,Kc("except",e,!0))})}as(e){return new yC(this,e)}clearSelect(){return new Gt({...this.#e,queryNode:$n.cloneWithoutSelections(this.#e.queryNode)})}clearWhere(){return new Gt({...this.#e,queryNode:Ct.cloneWithoutWhere(this.#e.queryNode)})}clearLimit(){return new Gt({...this.#e,queryNode:$n.cloneWithoutLimit(this.#e.queryNode)})}clearOffset(){return new Gt({...this.#e,queryNode:$n.cloneWithoutOffset(this.#e.queryNode)})}clearOrderBy(){return new Gt({...this.#e,queryNode:$n.cloneWithoutOrderBy(this.#e.queryNode)})}clearGroupBy(){return new Gt({...this.#e,queryNode:$n.cloneWithoutGroupBy(this.#e.queryNode)})}$call(e){return e(this)}$if(e,n){return e?n(this):new Gt({...this.#e})}$castTo(){return new Gt(this.#e)}$narrowType(){return new Gt(this.#e)}$assertType(){return new Gt(this.#e)}$asTuple(){return new Qn(this.toOperationNode())}withPlugin(e){return new Gt({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile();return(await this.#e.executor.executeQuery(e,this.#e.queryId)).rows}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=up){const n=await this.executeTakeFirst();if(n===void 0)throw dp(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async *stream(e=100){const n=this.compile(),r=this.#e.executor.stream(n,e,this.#e.queryId);for await(const i of r)yield*i.rows}async explain(e,n){return await new Gt({...this.#e,queryNode:Ct.cloneWithExplain(this.#e.queryNode,e,n)}).execute()}}gn(Gt,"don't await SelectQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");function Lx(t){return new Gt(t)}class yC{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}get isAliasedSelectQueryBuilder(){return!0}toOperationNode(){return ml.create(this.#e.toOperationNode(),lr.create(this.#t))}}gn(yC,"don't await AliasedSelectQueryBuilder instances directly. AliasedSelectQueryBuilder should never be executed directly since it's always a part of another query.");const Ua=R({is(t){return t.kind==="AggregateFunctionNode"},create(t,e=[]){return R({kind:"AggregateFunctionNode",func:t,aggregated:e})},cloneWithDistinct(t){return R({...t,distinct:!0})},cloneWithOrderBy(t,e){return R({...t,orderBy:t.orderBy?fl.cloneWithItems(t.orderBy,e):fl.create(e)})},cloneWithFilter(t,e){return R({...t,filter:t.filter?Pi.cloneWithOperation(t.filter,"And",e):Pi.create(e)})},cloneWithOrFilter(t,e){return R({...t,filter:t.filter?Pi.cloneWithOperation(t.filter,"Or",e):Pi.create(e)})},cloneWithOver(t,e){return R({...t,over:e})}}),Uk=R({is(t){return t.kind==="FunctionNode"},create(t,e){return R({kind:"FunctionNode",func:t,arguments:e})}});class ks{#e;constructor(e){this.#e=R(e)}get expressionType(){}as(e){return new qz(this,e)}distinct(){return new ks({...this.#e,aggregateFunctionNode:Ua.cloneWithDistinct(this.#e.aggregateFunctionNode)})}orderBy(e,n){return new ks({...this.#e,aggregateFunctionNode:Ua.cloneWithOrderBy(this.#e.aggregateFunctionNode,lp([e,n]))})}filterWhere(...e){return new ks({...this.#e,aggregateFunctionNode:Ua.cloneWithFilter(this.#e.aggregateFunctionNode,Xr(e))})}filterWhereRef(e,n,r){return new ks({...this.#e,aggregateFunctionNode:Ua.cloneWithFilter(this.#e.aggregateFunctionNode,Co(e,n,r))})}over(e){const n=bz();return new ks({...this.#e,aggregateFunctionNode:Ua.cloneWithOver(this.#e.aggregateFunctionNode,(e?e(n):n).toOperationNode())})}$call(e){return e(this)}$castTo(){return new ks(this.#e)}$notNull(){return new ks(this.#e)}toOperationNode(){return this.#e.aggregateFunctionNode}}gn(ks,"don't await AggregateFunctionBuilder instances. They are never executed directly and are always just a part of a query.");class qz{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return ml.create(this.#e.toOperationNode(),lr.create(this.#t))}}function vC(){const t=(n,r)=>new Qn(Uk.create(n,Ff(r??[]))),e=(n,r)=>new ks({aggregateFunctionNode:Ua.create(n,r?Ff(r):void 0)});return Object.assign(t,{agg:e,avg(n){return e("avg",[n])},coalesce(...n){return t("coalesce",n)},count(n){return e("count",[n])},countAll(n){return new ks({aggregateFunctionNode:Ua.create("count",Ro(n))})},max(n){return e("max",[n])},min(n){return e("min",[n])},sum(n){return e("sum",[n])},any(n){return t("any",[n])},jsonAgg(n){return new ks({aggregateFunctionNode:Ua.create("json_agg",[os(n)?Er(n):n.toOperationNode()])})},toJson(n){return new Qn(Uk.create("to_json",[os(n)?Er(n):n.toOperationNode()]))}})}const Tz=R({is(t){return t.kind==="UnaryOperationNode"},create(t,e){return R({kind:"UnaryOperationNode",operator:t,operand:e})}});function Oz(t,e){return Tz.create(dl.create(t),ts(e))}const Eo=R({is(t){return t.kind==="CaseNode"},create(t){return R({kind:"CaseNode",value:t})},cloneWithWhen(t,e){return R({...t,when:R(t.when?[...t.when,e]:[e])})},cloneWithThen(t,e){return R({...t,when:t.when?R([...t.when.slice(0,-1),cp.cloneWithResult(t.when[t.when.length-1],e)]):void 0})},cloneWith(t,e){return R({...t,...e})}});class bC{#e;constructor(e){this.#e=R(e)}when(...e){return new _C({...this.#e,node:Eo.cloneWithWhen(this.#e.node,cp.create(Xr(e)))})}}class _C{#e;constructor(e){this.#e=R(e)}then(e){return new Cz({...this.#e,node:Eo.cloneWithThen(this.#e.node,Qw(e)?Kw(e):Ar(e))})}}class Cz{#e;constructor(e){this.#e=R(e)}when(...e){return new _C({...this.#e,node:Eo.cloneWithWhen(this.#e.node,cp.create(Xr(e)))})}else(e){return new Rz({...this.#e,node:Eo.cloneWith(this.#e.node,{else:Qw(e)?Kw(e):Ar(e)})})}end(){return new Qn(Eo.cloneWith(this.#e.node,{isStatement:!1}))}endCase(){return new Qn(Eo.cloneWith(this.#e.node,{isStatement:!0}))}}class Rz{#e;constructor(e){this.#e=R(e)}end(){return new Qn(Eo.cloneWith(this.#e.node,{isStatement:!1}))}endCase(){return new Qn(Eo.cloneWith(this.#e.node,{isStatement:!0}))}}const Vk=R({is(t){return t.kind==="JSONPathLegNode"},create(t,e){return R({kind:"JSONPathLegNode",type:t,value:e})}});class Dx{#e;constructor(e){this.#e=e}at(e){return this.#t("ArrayLocation",e)}key(e){return this.#t("Member",e)}#t(e,n){return ag.is(this.#e)?new Mf(ag.cloneWithTraversal(this.#e,df.is(this.#e.traversal)?df.cloneWithLeg(this.#e.traversal,Vk.create(e,n)):iC.cloneWithValue(this.#e.traversal,Oo.createImmediate(n)))):new Mf(df.cloneWithLeg(this.#e,Vk.create(e,n)))}}class Mf extends Dx{#e;constructor(e){super(e),this.#e=e}get expressionType(){}as(e){return new Az(this,e)}$castTo(){return new Mf(this.#e)}$notNull(){return new Mf(this.#e)}toOperationNode(){return this.#e}}class Az{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return ml.create(this.#e.toOperationNode(),Wi(this.#t)?this.#t.toOperationNode():lr.create(this.#t))}}const Hk=R({is(t){return t.kind==="TupleNode"},create(t){return R({kind:"TupleNode",values:R(t)})}}),jz=["varchar","char","text","integer","int2","int4","int8","smallint","bigint","boolean","real","double precision","float4","float8","decimal","numeric","binary","bytea","date","datetime","time","timetz","timestamp","timestamptz","serial","bigserial","uuid","json","jsonb","blob","varbinary","int4range","int4multirange","int8range","int8multirange","numrange","nummultirange","tsrange","tsmultirange","tstzrange","tstzmultirange","daterange","datemultirange"],Pz=[/^varchar\(\d+\)$/,/^char\(\d+\)$/,/^decimal\(\d+, \d+\)$/,/^numeric\(\d+, \d+\)$/,/^binary\(\d+\)$/,/^datetime\(\d+\)$/,/^time\(\d+\)$/,/^timetz\(\d+\)$/,/^timestamp\(\d+\)$/,/^timestamptz\(\d+\)$/,/^varbinary\(\d+\)$/],Fz=R({is(t){return t.kind==="DataTypeNode"},create(t){return R({kind:"DataTypeNode",dataType:t})}});function Lz(t){return!!(jz.includes(t)||Pz.some(e=>e.test(t)))}function lc(t){if(Wi(t))return t.toOperationNode();if(Lz(t))return Fz.create(t);throw new Error(`invalid column data type ${JSON.stringify(t)}`)}const Dz=R({is(t){return t.kind==="CastNode"},create(t,e){return R({kind:"CastNode",expression:t,dataType:e})}});function Xw(t=sy){function e(i,o,l){return new Qn(Gw(i,o,l))}function n(i,o){return new Qn(Oz(i,o))}const r=Object.assign(e,{fn:void 0,eb:void 0,selectFrom(i){return Lx({queryId:zn(),executor:t,queryNode:$n.createFrom(Bf(i))})},case(i){return new bC({node:Eo.create(Ya(i)?void 0:ts(i))})},ref(i,o){return Ya(o)?new Qn(ha(i)):new Dx(DW(i,o))},jsonPath(){return new Dx(df.create())},table(i){return new Qn(Er(i))},val(i){return new Qn(Ar(i))},refTuple(...i){return new Qn(Hk.create(i.map(ts)))},tuple(...i){return new Qn(Hk.create(i.map(Ar)))},lit(i){return new Qn(Kw(i))},unary:n,not(i){return n("not",i)},exists(i){return n("exists",i)},neg(i){return n("-",i)},between(i,o,l){return new Qn(Au.create(ts(i),dl.create("between"),ul.create(Ar(o),Ar(l))))},betweenSymmetric(i,o,l){return new Qn(Au.create(ts(i),dl.create("between symmetric"),ul.create(Ar(o),Ar(l))))},and(i){return pa(i)?new Qn(cg(i,"and")):new Qn(qk(i,"and"))},or(i){return pa(i)?new Qn(cg(i,"or")):new Qn(qk(i,"or"))},parens(...i){const o=Xr(i);return ju.is(o)?new Qn(o):new Qn(ju.create(o))},cast(i,o){return new Qn(Dz.create(ts(i),lc(o)))},withSchema(i){return Xw(t.withPluginAtFront(new fp(i)))}});return r.fn=vC(),r.eb=r,r}function Ku(t){return Xw()}function dc(t){if(Wi(t))return t.toOperationNode();if(as(t))return t(Ku()).toOperationNode();throw new Error(`invalid expression: ${JSON.stringify(t)}`)}function xC(t){if(Wi(t))return t.toOperationNode();if(as(t))return t(Ku()).toOperationNode();throw new Error(`invalid aliased expression: ${JSON.stringify(t)}`)}function pp(t){return qW(t)||TW(t)||as(t)}function Bf(t){return pa(t)?t.map(e=>$f(e)):[$f(t)]}function $f(t){return os(t)?wC(t):xC(t)}function wC(t){const e=" as ";if(t.includes(e)){const[n,r]=t.split(e).map(SC);return ml.create(Er(n),lr.create(r))}else return Er(t)}function Er(t){const e=".";if(t.includes(e)){const[n,r]=t.split(e).map(SC);return el.createWithSchema(n,r)}else return el.create(t)}function SC(t){return t.trim()}const EC=R({is(t){return t.kind==="AddColumnNode"},create(t){return R({kind:"AddColumnNode",column:t})}}),or=R({is(t){return t.kind==="ColumnDefinitionNode"},create(t,e){return R({kind:"ColumnDefinitionNode",column:Tr.create(t),dataType:e})},cloneWithFrontModifier(t,e){return R({...t,frontModifiers:t.frontModifiers?R([...t.frontModifiers,e]):[e]})},cloneWithEndModifier(t,e){return R({...t,endModifiers:t.endModifiers?R([...t.endModifiers,e]):[e]})},cloneWith(t,e){return R({...t,...e})}}),NC=R({is(t){return t.kind==="DropColumnNode"},create(t){return R({kind:"DropColumnNode",column:Tr.create(t)})}}),kC=R({is(t){return t.kind==="RenameColumnNode"},create(t,e){return R({kind:"RenameColumnNode",column:Tr.create(t),renameTo:Tr.create(e)})}}),e0=R({is(t){return t.kind==="CheckConstraintNode"},create(t,e){return R({kind:"CheckConstraintNode",expression:t,name:e?lr.create(e):void 0})}}),Mz=["no action","restrict","cascade","set null","set default"],fm=R({is(t){return t.kind==="ReferencesNode"},create(t,e){return R({kind:"ReferencesNode",table:t,columns:R([...e])})},cloneWithOnDelete(t,e){return R({...t,onDelete:e})},cloneWithOnUpdate(t,e){return R({...t,onUpdate:e})}});function IC(t){return Wi(t)?t.toOperationNode():Oo.createImmediate(t)}const zh=R({is(t){return t.kind==="GeneratedNode"},create(t){return R({kind:"GeneratedNode",...t})},createWithExpression(t){return R({kind:"GeneratedNode",always:!0,expression:t})},cloneWith(t,e){return R({...t,...e})}}),Bz=R({is(t){return t.kind==="DefaultValueNode"},create(t){return R({kind:"DefaultValueNode",defaultValue:t})}});function hg(t){if(Mz.includes(t))return t;throw new Error(`invalid OnModifyForeignAction ${t}`)}class Zn{#e;constructor(e){this.#e=e}autoIncrement(){return new Zn(or.cloneWith(this.#e,{autoIncrement:!0}))}identity(){return new Zn(or.cloneWith(this.#e,{identity:!0}))}primaryKey(){return new Zn(or.cloneWith(this.#e,{primaryKey:!0}))}references(e){const n=ha(e);if(!n.table||Uw.is(n.column))throw new Error(`invalid call references('${e}'). The reference must have format table.column or schema.table.column`);return new Zn(or.cloneWith(this.#e,{references:fm.create(n.table,[n.column])}))}onDelete(e){if(!this.#e.references)throw new Error("on delete constraint can only be added for foreign keys");return new Zn(or.cloneWith(this.#e,{references:fm.cloneWithOnDelete(this.#e.references,hg(e))}))}onUpdate(e){if(!this.#e.references)throw new Error("on update constraint can only be added for foreign keys");return new Zn(or.cloneWith(this.#e,{references:fm.cloneWithOnUpdate(this.#e.references,hg(e))}))}unique(){return new Zn(or.cloneWith(this.#e,{unique:!0}))}notNull(){return new Zn(or.cloneWith(this.#e,{notNull:!0}))}unsigned(){return new Zn(or.cloneWith(this.#e,{unsigned:!0}))}defaultTo(e){return new Zn(or.cloneWith(this.#e,{defaultTo:Bz.create(IC(e))}))}check(e){return new Zn(or.cloneWith(this.#e,{check:e0.create(e.toOperationNode())}))}generatedAlwaysAs(e){return new Zn(or.cloneWith(this.#e,{generated:zh.createWithExpression(e.toOperationNode())}))}generatedAlwaysAsIdentity(){return new Zn(or.cloneWith(this.#e,{generated:zh.create({identity:!0,always:!0})}))}generatedByDefaultAsIdentity(){return new Zn(or.cloneWith(this.#e,{generated:zh.create({identity:!0,byDefault:!0})}))}stored(){if(!this.#e.generated)throw new Error("stored() can only be called after generatedAlwaysAs");return new Zn(or.cloneWith(this.#e,{generated:zh.cloneWith(this.#e.generated,{stored:!0})}))}modifyFront(e){return new Zn(or.cloneWithFrontModifier(this.#e,e.toOperationNode()))}nullsNotDistinct(){return new Zn(or.cloneWith(this.#e,{nullsNotDistinct:!0}))}ifNotExists(){return new Zn(or.cloneWith(this.#e,{ifNotExists:!0}))}modifyEnd(e){return new Zn(or.cloneWithEndModifier(this.#e,e.toOperationNode()))}$call(e){return e(this)}toOperationNode(){return this.#e}}gn(Zn,"don't await ColumnDefinitionBuilder instances directly.");const qC=R({is(t){return t.kind==="ModifyColumnNode"},create(t){return R({kind:"ModifyColumnNode",column:t})}}),mg=R({is(t){return t.kind==="ForeignKeyConstraintNode"},create(t,e,n,r){return R({kind:"ForeignKeyConstraintNode",columns:t,references:fm.create(e,n),name:r?lr.create(r):void 0})},cloneWith(t,e){return R({...t,...e})}});class Pu{#e;constructor(e){this.#e=e}onDelete(e){return new Pu(mg.cloneWith(this.#e,{onDelete:hg(e)}))}onUpdate(e){return new Pu(mg.cloneWith(this.#e,{onUpdate:hg(e)}))}$call(e){return e(this)}toOperationNode(){return this.#e}}gn(Pu,"don't await ForeignKeyConstraintBuilder instances directly.");const pm=R({is(t){return t.kind==="AddConstraintNode"},create(t){return R({kind:"AddConstraintNode",constraint:t})}}),t0=R({is(t){return t.kind==="UniqueConstraintNode"},create(t,e,n){return R({kind:"UniqueConstraintNode",columns:R(t.map(Tr.create)),name:e?lr.create(e):void 0,nullsNotDistinct:n})},cloneWith(t,e){return R({...t,...e})}}),hm=R({is(t){return t.kind==="DropConstraintNode"},create(t){return R({kind:"DropConstraintNode",constraintName:lr.create(t)})},cloneWith(t,e){return R({...t,...e})}}),$d=R({is(t){return t.kind==="AlterColumnNode"},create(t,e,n){return R({kind:"AlterColumnNode",column:Tr.create(t),[e]:n})}});class n0{#e;constructor(e){this.#e=e}setDataType(e){return new tu($d.create(this.#e,"dataType",lc(e)))}setDefault(e){return new tu($d.create(this.#e,"setDefault",IC(e)))}dropDefault(){return new tu($d.create(this.#e,"dropDefault",!0))}setNotNull(){return new tu($d.create(this.#e,"setNotNull",!0))}dropNotNull(){return new tu($d.create(this.#e,"dropNotNull",!0))}$call(e){return e(this)}}gn(n0,"don't await AlterColumnBuilder instances");class tu{#e;constructor(e){this.#e=e}toOperationNode(){return this.#e}}gn(tu,"don't await AlteredColumnBuilder instances");class Ml{#e;constructor(e){this.#e=R(e)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}gn(Ml,"don't await AlterTableExecutor instances directly. To execute the query you need to call `execute`");class Wf{#e;constructor(e){this.#e=R(e)}onDelete(e){return new Wf({...this.#e,constraintBuilder:this.#e.constraintBuilder.onDelete(e)})}onUpdate(e){return new Wf({...this.#e,constraintBuilder:this.#e.constraintBuilder.onUpdate(e)})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(Wn.cloneWithTableProps(this.#e.node,{addConstraint:pm.create(this.#e.constraintBuilder.toOperationNode())}),this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}gn(Wf,"don't await AlterTableAddForeignKeyConstraintBuilder instances directly. To execute the query you need to call `execute`");class _u{#e;constructor(e){this.#e=R(e)}ifExists(){return new _u({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{dropConstraint:hm.cloneWith(this.#e.node.dropConstraint,{ifExists:!0})})})}cascade(){return new _u({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{dropConstraint:hm.cloneWith(this.#e.node.dropConstraint,{modifier:"cascade"})})})}restrict(){return new _u({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{dropConstraint:hm.cloneWith(this.#e.node.dropConstraint,{modifier:"restrict"})})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}gn(_u,"don't await AlterTableDropConstraintBuilder instances directly. To execute the query you need to call `execute`");const TC=R({is(t){return t.kind==="PrimaryKeyConstraintNode"},create(t,e){return R({kind:"PrimaryKeyConstraintNode",columns:R(t.map(Tr.create)),name:e?lr.create(e):void 0})}}),nu=R({is(t){return t.kind==="AddIndexNode"},create(t){return R({kind:"AddIndexNode",name:lr.create(t)})},cloneWith(t,e){return R({...t,...e})},cloneWithColumns(t,e){return R({...t,columns:[...t.columns||[],...e]})}});class Va{#e;constructor(e){this.#e=R(e)}unique(){return new Va({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{addIndex:nu.cloneWith(this.#e.node.addIndex,{unique:!0})})})}column(e){return new Va({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{addIndex:nu.cloneWithColumns(this.#e.node.addIndex,[lg(e)])})})}columns(e){return new Va({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{addIndex:nu.cloneWithColumns(this.#e.node.addIndex,e.map(lg))})})}expression(e){return new Va({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{addIndex:nu.cloneWithColumns(this.#e.node.addIndex,[e.toOperationNode()])})})}using(e){return new Va({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{addIndex:nu.cloneWith(this.#e.node.addIndex,{using:li.createWithSql(e)})})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}gn(Va,"don't await AlterTableAddIndexBuilder instances directly. To execute the query you need to call `execute`");class hp{#e;constructor(e){this.#e=e}toOperationNode(){return this.#e}nullsNotDistinct(){return new hp(t0.cloneWith(this.#e,{nullsNotDistinct:!0}))}}gn(hp,"don't await UniqueConstraintNodeBuilder instances directly.");class OC{#e;constructor(e){this.#e=R(e)}renameTo(e){return new Ml({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{renameTo:Er(e)})})}setSchema(e){return new Ml({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{setSchema:lr.create(e)})})}alterColumn(e,n){const r=n(new n0(e));return new Is({...this.#e,node:Wn.cloneWithColumnAlteration(this.#e.node,r.toOperationNode())})}dropColumn(e){return new Is({...this.#e,node:Wn.cloneWithColumnAlteration(this.#e.node,NC.create(e))})}renameColumn(e,n){return new Is({...this.#e,node:Wn.cloneWithColumnAlteration(this.#e.node,kC.create(e,n))})}addColumn(e,n,r=Xa){const i=r(new Zn(or.create(e,lc(n))));return new Is({...this.#e,node:Wn.cloneWithColumnAlteration(this.#e.node,EC.create(i.toOperationNode()))})}modifyColumn(e,n,r=Xa){const i=r(new Zn(or.create(e,lc(n))));return new Is({...this.#e,node:Wn.cloneWithColumnAlteration(this.#e.node,qC.create(i.toOperationNode()))})}addUniqueConstraint(e,n,r=Xa){const i=r(new hp(t0.create(n,e)));return new Ml({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{addConstraint:pm.create(i.toOperationNode())})})}addCheckConstraint(e,n){return new Ml({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{addConstraint:pm.create(e0.create(n.toOperationNode(),e))})})}addForeignKeyConstraint(e,n,r,i){return new Wf({...this.#e,constraintBuilder:new Pu(mg.create(n.map(Tr.create),Er(r),i.map(Tr.create),e))})}addPrimaryKeyConstraint(e,n){return new Ml({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{addConstraint:pm.create(TC.create(n,e))})})}dropConstraint(e){return new _u({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{dropConstraint:hm.create(e)})})}addIndex(e){return new Va({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{addIndex:nu.create(e)})})}dropIndex(e){return new Ml({...this.#e,node:Wn.cloneWithTableProps(this.#e.node,{dropIndex:cf.create(e)})})}$call(e){return e(this)}}gn(OC,"don't await AlterTableBuilder instances");class Is{#e;constructor(e){this.#e=R(e)}alterColumn(e,n){const r=n(new n0(e));return new Is({...this.#e,node:Wn.cloneWithColumnAlteration(this.#e.node,r.toOperationNode())})}dropColumn(e){return new Is({...this.#e,node:Wn.cloneWithColumnAlteration(this.#e.node,NC.create(e))})}renameColumn(e,n){return new Is({...this.#e,node:Wn.cloneWithColumnAlteration(this.#e.node,kC.create(e,n))})}addColumn(e,n,r=Xa){const i=r(new Zn(or.create(e,lc(n))));return new Is({...this.#e,node:Wn.cloneWithColumnAlteration(this.#e.node,EC.create(i.toOperationNode()))})}modifyColumn(e,n,r=Xa){const i=r(new Zn(or.create(e,lc(n))));return new Is({...this.#e,node:Wn.cloneWithColumnAlteration(this.#e.node,qC.create(i.toOperationNode()))})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}gn(Is,"don't await AlterTableColumnAlteringBuilder instances directly. To execute the query you need to call `execute`");class CC extends pC{transformValue(e){return{...super.transformValue(e),immediate:!0}}}class Es{#e;constructor(e){this.#e=R(e)}ifNotExists(){return new Es({...this.#e,node:ra.cloneWith(this.#e.node,{ifNotExists:!0})})}unique(){return new Es({...this.#e,node:ra.cloneWith(this.#e.node,{unique:!0})})}nullsNotDistinct(){return new Es({...this.#e,node:ra.cloneWith(this.#e.node,{nullsNotDistinct:!0})})}on(e){return new Es({...this.#e,node:ra.cloneWith(this.#e.node,{table:Er(e)})})}column(e){return new Es({...this.#e,node:ra.cloneWithColumns(this.#e.node,[lg(e)])})}columns(e){return new Es({...this.#e,node:ra.cloneWithColumns(this.#e.node,e.map(lg))})}expression(e){return new Es({...this.#e,node:ra.cloneWithColumns(this.#e.node,[e.toOperationNode()])})}using(e){return new Es({...this.#e,node:ra.cloneWith(this.#e.node,{using:li.createWithSql(e)})})}where(...e){const n=new CC;return new Es({...this.#e,node:Ct.cloneWithWhere(this.#e.node,n.transformNode(Xr(e)))})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}gn(Es,"don't await CreateIndexBuilder instances directly. To execute the query you need to call `execute`");class oy{#e;constructor(e){this.#e=R(e)}ifNotExists(){return new oy({...this.#e,node:XO.cloneWith(this.#e.node,{ifNotExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}gn(oy,"don't await CreateSchemaBuilder instances directly. To execute the query you need to call `execute`");function $z(t){if(IW.includes(t))return t;throw new Error(`invalid OnCommitAction ${t}`)}class Ri{#e;constructor(e){this.#e=R(e)}temporary(){return new Ri({...this.#e,node:Ki.cloneWith(this.#e.node,{temporary:!0})})}onCommit(e){return new Ri({...this.#e,node:Ki.cloneWith(this.#e.node,{onCommit:$z(e)})})}ifNotExists(){return new Ri({...this.#e,node:Ki.cloneWith(this.#e.node,{ifNotExists:!0})})}addColumn(e,n,r=Xa){const i=r(new Zn(or.create(e,lc(n))));return new Ri({...this.#e,node:Ki.cloneWithColumn(this.#e.node,i.toOperationNode())})}addPrimaryKeyConstraint(e,n){return new Ri({...this.#e,node:Ki.cloneWithConstraint(this.#e.node,TC.create(n,e))})}addUniqueConstraint(e,n,r=Xa){const i=r(new hp(t0.create(n,e)));return new Ri({...this.#e,node:Ki.cloneWithConstraint(this.#e.node,i.toOperationNode())})}addCheckConstraint(e,n){return new Ri({...this.#e,node:Ki.cloneWithConstraint(this.#e.node,e0.create(n.toOperationNode(),e))})}addForeignKeyConstraint(e,n,r,i,o=Xa){const l=o(new Pu(mg.create(n.map(Tr.create),Er(r),i.map(Tr.create),e)));return new Ri({...this.#e,node:Ki.cloneWithConstraint(this.#e.node,l.toOperationNode())})}modifyFront(e){return new Ri({...this.#e,node:Ki.cloneWithFrontModifier(this.#e.node,e.toOperationNode())})}modifyEnd(e){return new Ri({...this.#e,node:Ki.cloneWithEndModifier(this.#e.node,e.toOperationNode())})}as(e){return new Ri({...this.#e,node:Ki.cloneWith(this.#e.node,{selectQuery:dc(e)})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}gn(Ri,"don't await CreateTableBuilder instances directly. To execute the query you need to call `execute`");class xu{#e;constructor(e){this.#e=R(e)}on(e){return new xu({...this.#e,node:cf.cloneWith(this.#e.node,{table:Er(e)})})}ifExists(){return new xu({...this.#e,node:cf.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new xu({...this.#e,node:cf.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}gn(xu,"don't await DropIndexBuilder instances directly. To execute the query you need to call `execute`");class zf{#e;constructor(e){this.#e=R(e)}ifExists(){return new zf({...this.#e,node:Cx.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new zf({...this.#e,node:Cx.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}gn(zf,"don't await DropSchemaBuilder instances directly. To execute the query you need to call `execute`");class Uf{#e;constructor(e){this.#e=R(e)}ifExists(){return new Uf({...this.#e,node:Rx.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new Uf({...this.#e,node:Rx.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}gn(Uf,"don't await DropTableBuilder instances directly. To execute the query you need to call `execute`");const Ma=R({is(t){return t.kind==="CreateViewNode"},create(t){return R({kind:"CreateViewNode",name:cl.create(t)})},cloneWith(t,e){return R({...t,...e})}});class Wz{#e=new CC;transformQuery(e){return this.#e.transformNode(e.node)}transformResult(e){return Promise.resolve(e.result)}}class oa{#e;constructor(e){this.#e=R(e)}temporary(){return new oa({...this.#e,node:Ma.cloneWith(this.#e.node,{temporary:!0})})}materialized(){return new oa({...this.#e,node:Ma.cloneWith(this.#e.node,{materialized:!0})})}ifNotExists(){return new oa({...this.#e,node:Ma.cloneWith(this.#e.node,{ifNotExists:!0})})}orReplace(){return new oa({...this.#e,node:Ma.cloneWith(this.#e.node,{orReplace:!0})})}columns(e){return new oa({...this.#e,node:Ma.cloneWith(this.#e.node,{columns:e.map(oC)})})}as(e){const n=e.withPlugin(new Wz).toOperationNode();return new oa({...this.#e,node:Ma.cloneWith(this.#e.node,{as:n})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}gn(oa,"don't await CreateViewBuilder instances directly. To execute the query you need to call `execute`");const mm=R({is(t){return t.kind==="DropViewNode"},create(t){return R({kind:"DropViewNode",name:cl.create(t)})},cloneWith(t,e){return R({...t,...e})}});class wu{#e;constructor(e){this.#e=R(e)}materialized(){return new wu({...this.#e,node:mm.cloneWith(this.#e.node,{materialized:!0})})}ifExists(){return new wu({...this.#e,node:mm.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new wu({...this.#e,node:mm.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}gn(wu,"don't await DropViewBuilder instances directly. To execute the query you need to call `execute`");const RC=R({is(t){return t.kind==="CreateTypeNode"},create(t){return R({kind:"CreateTypeNode",name:t})},cloneWithEnum(t,e){return R({...t,enum:Hw.create(e.map(n=>Oo.createImmediate(n)))})}});class ay{#e;constructor(e){this.#e=R(e)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}asEnum(e){return new ay({...this.#e,node:RC.cloneWithEnum(this.#e.node,e)})}$call(e){return e(this)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}gn(ay,"don't await CreateTypeBuilder instances directly. To execute the query you need to call `execute`");const AC=R({is(t){return t.kind==="DropTypeNode"},create(t){return R({kind:"DropTypeNode",name:t})},cloneWith(t,e){return R({...t,...e})}});class ly{#e;constructor(e){this.#e=R(e)}ifExists(){return new ly({...this.#e,node:AC.cloneWith(this.#e.node,{ifExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}gn(ly,"don't await DropTypeBuilder instances directly. To execute the query you need to call `execute`");function Qk(t){const e=".";if(t.includes(e)){const n=t.split(e).map(zz);if(n.length===2)return cl.createWithSchema(n[0],n[1]);throw new Error(`invalid schemable identifier ${t}`)}else return cl.create(t)}function zz(t){return t.trim()}class hf{#e;constructor(e){this.#e=e}createTable(e){return new Ri({queryId:zn(),executor:this.#e,node:Ki.create(Er(e))})}dropTable(e){return new Uf({queryId:zn(),executor:this.#e,node:Rx.create(Er(e))})}createIndex(e){return new Es({queryId:zn(),executor:this.#e,node:ra.create(e)})}dropIndex(e){return new xu({queryId:zn(),executor:this.#e,node:cf.create(e)})}createSchema(e){return new oy({queryId:zn(),executor:this.#e,node:XO.create(e)})}dropSchema(e){return new zf({queryId:zn(),executor:this.#e,node:Cx.create(e)})}alterTable(e){return new OC({queryId:zn(),executor:this.#e,node:Wn.create(Er(e))})}createView(e){return new oa({queryId:zn(),executor:this.#e,node:Ma.create(e)})}dropView(e){return new wu({queryId:zn(),executor:this.#e,node:mm.create(e)})}createType(e){return new ay({queryId:zn(),executor:this.#e,node:RC.create(Qk(e))})}dropType(e){return new ly({queryId:zn(),executor:this.#e,node:AC.create(Qk(e))})}withPlugin(e){return new hf(this.#e.withPlugin(e))}withoutPlugins(){return new hf(this.#e.withoutPlugins())}withSchema(e){return new hf(this.#e.withPluginAtFront(new fp(e)))}}class Uz{ref(e){return new FW(e)}}class Vz{#e;constructor(e){this.#e=e}async provideConnection(e){const n=await this.#e.acquireConnection();try{return await e(n)}finally{await this.#e.releaseConnection(n)}}}class $l extends hC{#e;#t;#n;constructor(e,n,r,i=[]){super(i),this.#e=e,this.#t=n,this.#n=r}get adapter(){return this.#t}compileQuery(e){return this.#e.compileQuery(e)}provideConnection(e){return this.#n.provideConnection(e)}withPlugins(e){return new $l(this.#e,this.#t,this.#n,[...this.plugins,...e])}withPlugin(e){return new $l(this.#e,this.#t,this.#n,[...this.plugins,e])}withPluginAtFront(e){return new $l(this.#e,this.#t,this.#n,[e,...this.plugins])}withConnectionProvider(e){return new $l(this.#e,this.#t,e,[...this.plugins])}withoutPlugins(){return new $l(this.#e,this.#t,this.#n,[])}}function Kk(){return typeof performance<"u"&&as(performance.now)?performance.now():Date.now()}class Hz{#e;#t;#n;#r;#i;#s=new WeakSet;constructor(e,n){this.#r=!1,this.#e=e,this.#t=n}async init(){if(this.#i)throw new Error("driver has already been destroyed");this.#n||(this.#n=this.#e.init().then(()=>{this.#r=!0}).catch(e=>(this.#n=void 0,Promise.reject(e)))),await this.#n}async acquireConnection(){if(this.#i)throw new Error("driver has already been destroyed");this.#r||await this.init();const e=await this.#e.acquireConnection();return this.#s.has(e)||(this.#o()&&this.#a(e),this.#s.add(e)),e}async releaseConnection(e){await this.#e.releaseConnection(e)}beginTransaction(e,n){return this.#e.beginTransaction(e,n)}commitTransaction(e){return this.#e.commitTransaction(e)}rollbackTransaction(e){return this.#e.rollbackTransaction(e)}async destroy(){this.#n&&(await this.#n,this.#i||(this.#i=this.#e.destroy().catch(e=>(this.#i=void 0,Promise.reject(e)))),await this.#i)}#o(){return this.#t.isLevelEnabled("query")||this.#t.isLevelEnabled("error")}#a(e){const n=e.executeQuery;e.executeQuery=async r=>{let i;const o=Kk();try{return await n.call(e,r)}catch(l){throw i=l,await this.#c(l,r,o),l}finally{i||await this.#l(r,o)}}}async #c(e,n,r){await this.#t.error(()=>({level:"error",error:e,query:n,queryDurationMillis:this.#u(r)}))}async #l(e,n){await this.#t.query(()=>({level:"query",query:e,queryDurationMillis:this.#u(n)}))}#u(e){return Kk()-e}}const Qz=()=>{};class jC{#e;#t;constructor(e){this.#e=e}async provideConnection(e){for(;this.#t;)await this.#t.catch(Qz);return this.#t=this.#n(e).finally(()=>{this.#t=void 0}),this.#t}async #n(e){return await e(this.#e)}}const Kz=["read uncommitted","read committed","repeatable read","serializable","snapshot"];R(["query","error"]);class Gz{#e;#t;constructor(e){as(e)?(this.#t=e,this.#e=R({query:!0,error:!0})):(this.#t=Jz,this.#e=R({query:e.includes("query"),error:e.includes("error")}))}isLevelEnabled(e){return this.#e[e]}async query(e){this.#e.query&&await this.#t(e())}async error(e){this.#e.error&&await this.#t(e())}}function Jz(t){t.level==="query"?(console.log(`kysely:query: ${t.query.sql}`),console.log(`kysely:query: duration: ${t.queryDurationMillis.toFixed(1)}ms`)):t.level==="error"&&(t.error instanceof Error?console.error(`kysely:error: ${t.error.stack??t.error.message}`):console.error(`kysely:error: ${JSON.stringify({error:t.error,query:t.query.sql,queryDurationMillis:t.queryDurationMillis})}`))}function Zz(t){return wo(t)&&as(t.compile)}class Qa extends za{#e;constructor(e){let n,r;if(Yz(e))n={executor:e.executor},r={...e};else{const i=e.dialect,o=i.createDriver(),l=i.createQueryCompiler(),c=i.createAdapter(),d=new Gz(e.log??[]),m=new Hz(o,d),y=new Vz(m),_=new $l(l,c,y,e.plugins??[]);n={executor:_},r={config:e,executor:_,dialect:i,driver:m}}super(n),this.#e=R(r)}get schema(){return new hf(this.#e.executor)}get dynamic(){return new Uz}get introspection(){return this.#e.dialect.createIntrospector(this.withoutPlugins())}case(e){return new bC({node:Eo.create(Ya(e)?void 0:dc(e))})}get fn(){return vC()}transaction(){return new cy({...this.#e})}connection(){return new PC({...this.#e})}withPlugin(e){return new Qa({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new Qa({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new Qa({...this.#e,executor:this.#e.executor.withPluginAtFront(new fp(e))})}withTables(){return new Qa({...this.#e})}async destroy(){await this.#e.driver.destroy()}get isTransaction(){return!1}getExecutor(){return this.#e.executor}executeQuery(e,n=zn()){const r=Zz(e)?e.compile():e;return this.getExecutor().executeQuery(r,n)}}class au extends Qa{#e;constructor(e){super(e),this.#e=e}get isTransaction(){return!0}transaction(){throw new Error("calling the transaction method for a Transaction is not supported")}connection(){throw new Error("calling the connection method for a Transaction is not supported")}async destroy(){throw new Error("calling the destroy method for a Transaction is not supported")}withPlugin(e){return new au({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new au({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new au({...this.#e,executor:this.#e.executor.withPluginAtFront(new fp(e))})}withTables(){return new au({...this.#e})}}function Yz(t){return wo(t)&&wo(t.config)&&wo(t.driver)&&wo(t.executor)&&wo(t.dialect)}class PC{#e;constructor(e){this.#e=R(e)}async execute(e){return this.#e.executor.provideConnection(async n=>{const r=this.#e.executor.withConnectionProvider(new jC(n)),i=new Qa({...this.#e,executor:r});return await e(i)})}}gn(PC,"don't await ConnectionBuilder instances directly. To execute the query you need to call the `execute` method");class cy{#e;constructor(e){this.#e=R(e)}setIsolationLevel(e){return new cy({...this.#e,isolationLevel:e})}async execute(e){const{isolationLevel:n,...r}=this.#e,i={isolationLevel:n};return Xz(i),this.#e.executor.provideConnection(async o=>{const l=this.#e.executor.withConnectionProvider(new jC(o)),c=new au({...r,executor:l});try{await this.#e.driver.beginTransaction(o,i);const d=await e(c);return await this.#e.driver.commitTransaction(o),d}catch(d){throw await this.#e.driver.rollbackTransaction(o),d}})}}gn(cy,"don't await TransactionBuilder instances directly. To execute the transaction you need to call the `execute` method");function Xz(t){if(t.isolationLevel&&!Kz.includes(t.isolationLevel))throw new Error(`invalid transaction isolation level ${t.isolationLevel}`)}class Su{#e;constructor(e){this.#e=R(e)}get expressionType(){}get isRawBuilder(){return!0}as(e){return new FC(this,e)}$castTo(){return new Su({...this.#e})}$notNull(){return new Su(this.#e)}withPlugin(e){return new Su({...this.#e,plugins:this.#e.plugins!==void 0?R([...this.#e.plugins,e]):R([e])})}toOperationNode(){return this.#n(this.#t())}compile(e){return this.#r(this.#t(e))}async execute(e){const n=this.#t(e);return n.executeQuery(this.#r(n),this.#e.queryId)}#t(e){const n=e!==void 0?e.getExecutor():sy;return this.#e.plugins!==void 0?n.withPlugins(this.#e.plugins):n}#n(e){return e.transformQuery(this.#e.rawNode,this.#e.queryId)}#r(e){return e.compileQuery(this.#n(e),this.#e.queryId)}}function La(t){return new Su(t)}gn(Su,"don't await RawBuilder instances directly. To execute the query you need to call `execute`");class FC{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}get rawBuilder(){return this.#e}toOperationNode(){return ml.create(this.#e.toOperationNode(),Wi(this.#t)?this.#t.toOperationNode():lr.create(this.#t))}}gn(FC,"don't await AliasedRawBuilder instances directly. AliasedRawBuilder should never be executed directly since it's always a part of another query.");const Nr=Object.assign((t,...e)=>La({queryId:zn(),rawNode:li.create(t,e?.map(Gk)??[])}),{ref(t){return La({queryId:zn(),rawNode:li.createWithChild(ha(t))})},val(t){return La({queryId:zn(),rawNode:li.createWithChild(Ar(t))})},value(t){return this.val(t)},table(t){return La({queryId:zn(),rawNode:li.createWithChild(Er(t))})},id(...t){const e=new Array(t.length+1).fill(".");return e[0]="",e[e.length-1]="",La({queryId:zn(),rawNode:li.create(e,t.map(lr.create))})},lit(t){return La({queryId:zn(),rawNode:li.createWithChild(Oo.createImmediate(t))})},literal(t){return this.lit(t)},raw(t){return La({queryId:zn(),rawNode:li.createWithSql(t)})},join(t,e=Nr`, `){const n=new Array(2*t.length-1),r=e.toOperationNode();for(let i=0;i<t.length;++i)n[2*i]=Gk(t[i]),i!==t.length-1&&(n[2*i+1]=r);return La({queryId:zn(),rawNode:li.createWithChildren(n)})}});function Gk(t){return Wi(t)?t.toOperationNode():Ar(t)}class e6{nodeStack=[];get parentNode(){return this.nodeStack[this.nodeStack.length-2]}#e=R({AliasNode:this.visitAlias.bind(this),ColumnNode:this.visitColumn.bind(this),IdentifierNode:this.visitIdentifier.bind(this),SchemableIdentifierNode:this.visitSchemableIdentifier.bind(this),RawNode:this.visitRaw.bind(this),ReferenceNode:this.visitReference.bind(this),SelectQueryNode:this.visitSelectQuery.bind(this),SelectionNode:this.visitSelection.bind(this),TableNode:this.visitTable.bind(this),FromNode:this.visitFrom.bind(this),SelectAllNode:this.visitSelectAll.bind(this),AndNode:this.visitAnd.bind(this),OrNode:this.visitOr.bind(this),ValueNode:this.visitValue.bind(this),ValueListNode:this.visitValueList.bind(this),PrimitiveValueListNode:this.visitPrimitiveValueList.bind(this),ParensNode:this.visitParens.bind(this),JoinNode:this.visitJoin.bind(this),OperatorNode:this.visitOperator.bind(this),WhereNode:this.visitWhere.bind(this),InsertQueryNode:this.visitInsertQuery.bind(this),DeleteQueryNode:this.visitDeleteQuery.bind(this),ReturningNode:this.visitReturning.bind(this),CreateTableNode:this.visitCreateTable.bind(this),AddColumnNode:this.visitAddColumn.bind(this),ColumnDefinitionNode:this.visitColumnDefinition.bind(this),DropTableNode:this.visitDropTable.bind(this),DataTypeNode:this.visitDataType.bind(this),OrderByNode:this.visitOrderBy.bind(this),OrderByItemNode:this.visitOrderByItem.bind(this),GroupByNode:this.visitGroupBy.bind(this),GroupByItemNode:this.visitGroupByItem.bind(this),UpdateQueryNode:this.visitUpdateQuery.bind(this),ColumnUpdateNode:this.visitColumnUpdate.bind(this),LimitNode:this.visitLimit.bind(this),OffsetNode:this.visitOffset.bind(this),OnConflictNode:this.visitOnConflict.bind(this),OnDuplicateKeyNode:this.visitOnDuplicateKey.bind(this),CreateIndexNode:this.visitCreateIndex.bind(this),DropIndexNode:this.visitDropIndex.bind(this),ListNode:this.visitList.bind(this),PrimaryKeyConstraintNode:this.visitPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.visitUniqueConstraint.bind(this),ReferencesNode:this.visitReferences.bind(this),CheckConstraintNode:this.visitCheckConstraint.bind(this),WithNode:this.visitWith.bind(this),CommonTableExpressionNode:this.visitCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.visitCommonTableExpressionName.bind(this),HavingNode:this.visitHaving.bind(this),CreateSchemaNode:this.visitCreateSchema.bind(this),DropSchemaNode:this.visitDropSchema.bind(this),AlterTableNode:this.visitAlterTable.bind(this),DropColumnNode:this.visitDropColumn.bind(this),RenameColumnNode:this.visitRenameColumn.bind(this),AlterColumnNode:this.visitAlterColumn.bind(this),ModifyColumnNode:this.visitModifyColumn.bind(this),AddConstraintNode:this.visitAddConstraint.bind(this),DropConstraintNode:this.visitDropConstraint.bind(this),ForeignKeyConstraintNode:this.visitForeignKeyConstraint.bind(this),CreateViewNode:this.visitCreateView.bind(this),DropViewNode:this.visitDropView.bind(this),GeneratedNode:this.visitGenerated.bind(this),DefaultValueNode:this.visitDefaultValue.bind(this),OnNode:this.visitOn.bind(this),ValuesNode:this.visitValues.bind(this),SelectModifierNode:this.visitSelectModifier.bind(this),CreateTypeNode:this.visitCreateType.bind(this),DropTypeNode:this.visitDropType.bind(this),ExplainNode:this.visitExplain.bind(this),DefaultInsertValueNode:this.visitDefaultInsertValue.bind(this),AggregateFunctionNode:this.visitAggregateFunction.bind(this),OverNode:this.visitOver.bind(this),PartitionByNode:this.visitPartitionBy.bind(this),PartitionByItemNode:this.visitPartitionByItem.bind(this),SetOperationNode:this.visitSetOperation.bind(this),BinaryOperationNode:this.visitBinaryOperation.bind(this),UnaryOperationNode:this.visitUnaryOperation.bind(this),UsingNode:this.visitUsing.bind(this),FunctionNode:this.visitFunction.bind(this),CaseNode:this.visitCase.bind(this),WhenNode:this.visitWhen.bind(this),JSONReferenceNode:this.visitJSONReference.bind(this),JSONPathNode:this.visitJSONPath.bind(this),JSONPathLegNode:this.visitJSONPathLeg.bind(this),JSONOperatorChainNode:this.visitJSONOperatorChain.bind(this),TupleNode:this.visitTuple.bind(this),MergeQueryNode:this.visitMergeQuery.bind(this),MatchedNode:this.visitMatched.bind(this),AddIndexNode:this.visitAddIndex.bind(this),CastNode:this.visitCast.bind(this),FetchNode:this.visitFetch.bind(this),TopNode:this.visitTop.bind(this),OutputNode:this.visitOutput.bind(this)});visitNode=e=>{this.nodeStack.push(e),this.#e[e.kind](e),this.nodeStack.pop()}}class t6 extends e6{#e="";#t=[];get numParameters(){return this.#t.length}compileQuery(e){return this.#e="",this.#t=[],this.nodeStack.splice(0,this.nodeStack.length),this.visitNode(e),R({query:e,sql:this.getSql(),parameters:[...this.#t]})}getSql(){return this.#e}visitSelectQuery(e){const n=this.parentNode!==void 0&&!ju.is(this.parentNode)&&!Zi.is(this.parentNode)&&!Ki.is(this.parentNode)&&!Ma.is(this.parentNode)&&!gC.is(this.parentNode);this.parentNode===void 0&&e.explain&&(this.visitNode(e.explain),this.append(" ")),n&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("select"),e.distinctOn&&(this.append(" "),this.compileDistinctOn(e.distinctOn)),e.frontModifiers?.length&&(this.append(" "),this.compileList(e.frontModifiers," ")),e.top&&(this.append(" "),this.visitNode(e.top)),e.selections&&(this.append(" "),this.compileList(e.selections)),e.from&&(this.append(" "),this.visitNode(e.from)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.groupBy&&(this.append(" "),this.visitNode(e.groupBy)),e.having&&(this.append(" "),this.visitNode(e.having)),e.setOperations&&(this.append(" "),this.compileList(e.setOperations," ")),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.offset&&(this.append(" "),this.visitNode(e.offset)),e.fetch&&(this.append(" "),this.visitNode(e.fetch)),e.endModifiers?.length&&(this.append(" "),this.compileList(this.sortSelectModifiers([...e.endModifiers])," ")),n&&this.append(")")}visitFrom(e){this.append("from "),this.compileList(e.froms)}visitSelection(e){this.visitNode(e.selection)}visitColumn(e){this.visitNode(e.column)}compileDistinctOn(e){this.append("distinct on ("),this.compileList(e),this.append(")")}compileList(e,n=", "){const r=e.length-1;for(let i=0;i<=r;i++)this.visitNode(e[i]),i<r&&this.append(n)}visitWhere(e){this.append("where "),this.visitNode(e.where)}visitHaving(e){this.append("having "),this.visitNode(e.having)}visitInsertQuery(e){const n=this.nodeStack.find(Ct.is),r=n!==e;!r&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&!Li.is(n)&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append(e.replace?"replace":"insert"),e.ignore&&this.append(" ignore"),e.top&&(this.append(" "),this.visitNode(e.top)),e.into&&(this.append(" into "),this.visitNode(e.into)),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.output&&(this.append(" "),this.visitNode(e.output)),e.values&&(this.append(" "),this.visitNode(e.values)),e.defaultValues&&(this.append(" "),this.append("default values")),e.onConflict&&(this.append(" "),this.visitNode(e.onConflict)),e.onDuplicateKey&&(this.append(" "),this.visitNode(e.onDuplicateKey)),e.returning&&(this.append(" "),this.visitNode(e.returning)),r&&!Li.is(n)&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitValues(e){this.append("values "),this.compileList(e.values)}visitDeleteQuery(e){const n=this.nodeStack.find(Ct.is)!==e;!n&&e.explain&&(this.visitNode(e.explain),this.append(" ")),n&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("delete "),e.top&&(this.visitNode(e.top),this.append(" ")),this.visitNode(e.from),e.output&&(this.append(" "),this.visitNode(e.output)),e.using&&(this.append(" "),this.visitNode(e.using)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.returning&&(this.append(" "),this.visitNode(e.returning)),n&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitReturning(e){this.append("returning "),this.compileList(e.selections)}visitAlias(e){this.visitNode(e.node),this.append(" as "),this.visitNode(e.alias)}visitReference(e){e.table&&(this.visitNode(e.table),this.append(".")),this.visitNode(e.column)}visitSelectAll(e){this.append("*")}visitIdentifier(e){this.append(this.getLeftIdentifierWrapper()),this.compileUnwrappedIdentifier(e),this.append(this.getRightIdentifierWrapper())}compileUnwrappedIdentifier(e){if(!os(e.name))throw new Error("a non-string identifier was passed to compileUnwrappedIdentifier.");this.append(this.sanitizeIdentifier(e.name))}visitAnd(e){this.visitNode(e.left),this.append(" and "),this.visitNode(e.right)}visitOr(e){this.visitNode(e.left),this.append(" or "),this.visitNode(e.right)}visitValue(e){e.immediate?this.appendImmediateValue(e.value):this.appendValue(e.value)}visitValueList(e){this.append("("),this.compileList(e.values),this.append(")")}visitTuple(e){this.append("("),this.compileList(e.values),this.append(")")}visitPrimitiveValueList(e){this.append("(");const{values:n}=e;for(let r=0;r<n.length;++r)this.appendValue(n[r]),r!==n.length-1&&this.append(", ");this.append(")")}visitParens(e){this.append("("),this.visitNode(e.node),this.append(")")}visitJoin(e){this.append(r6[e.joinType]),this.append(" "),this.visitNode(e.table),e.on&&(this.append(" "),this.visitNode(e.on))}visitOn(e){this.append("on "),this.visitNode(e.on)}visitRaw(e){const{sqlFragments:n,parameters:r}=e;for(let i=0;i<n.length;++i)this.append(n[i]),r.length>i&&this.visitNode(r[i])}visitOperator(e){this.append(e.operator)}visitTable(e){this.visitNode(e.table)}visitSchemableIdentifier(e){e.schema&&(this.visitNode(e.schema),this.append(".")),this.visitNode(e.identifier)}visitCreateTable(e){this.append("create "),e.frontModifiers&&e.frontModifiers.length>0&&(this.compileList(e.frontModifiers," "),this.append(" ")),e.temporary&&this.append("temporary "),this.append("table "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.table),e.selectQuery?(this.append(" as "),this.visitNode(e.selectQuery)):(this.append(" ("),this.compileList([...e.columns,...e.constraints??[]]),this.append(")"),e.onCommit&&(this.append(" on commit "),this.append(e.onCommit)),e.endModifiers&&e.endModifiers.length>0&&(this.append(" "),this.compileList(e.endModifiers," ")))}visitColumnDefinition(e){e.ifNotExists&&this.append("if not exists "),this.visitNode(e.column),this.append(" "),this.visitNode(e.dataType),e.unsigned&&this.append(" unsigned"),e.frontModifiers&&e.frontModifiers.length>0&&(this.append(" "),this.compileList(e.frontModifiers," ")),e.generated&&(this.append(" "),this.visitNode(e.generated)),e.identity&&this.append(" identity"),e.defaultTo&&(this.append(" "),this.visitNode(e.defaultTo)),e.notNull&&this.append(" not null"),e.unique&&this.append(" unique"),e.nullsNotDistinct&&this.append(" nulls not distinct"),e.primaryKey&&this.append(" primary key"),e.autoIncrement&&(this.append(" "),this.append(this.getAutoIncrement())),e.references&&(this.append(" "),this.visitNode(e.references)),e.check&&(this.append(" "),this.visitNode(e.check)),e.endModifiers&&e.endModifiers.length>0&&(this.append(" "),this.compileList(e.endModifiers," "))}getAutoIncrement(){return"auto_increment"}visitReferences(e){this.append("references "),this.visitNode(e.table),this.append(" ("),this.compileList(e.columns),this.append(")"),e.onDelete&&(this.append(" on delete "),this.append(e.onDelete)),e.onUpdate&&(this.append(" on update "),this.append(e.onUpdate))}visitDropTable(e){this.append("drop table "),e.ifExists&&this.append("if exists "),this.visitNode(e.table),e.cascade&&this.append(" cascade")}visitDataType(e){this.append(e.dataType)}visitOrderBy(e){this.append("order by "),this.compileList(e.items)}visitOrderByItem(e){this.visitNode(e.orderBy),e.direction&&(this.append(" "),this.visitNode(e.direction))}visitGroupBy(e){this.append("group by "),this.compileList(e.items)}visitGroupByItem(e){this.visitNode(e.groupBy)}visitUpdateQuery(e){const n=this.nodeStack.find(Ct.is),r=n!==e;!r&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&!Li.is(n)&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("update "),e.top&&(this.visitNode(e.top),this.append(" ")),e.table&&(this.visitNode(e.table),this.append(" ")),this.append("set "),e.updates&&this.compileList(e.updates),e.output&&(this.append(" "),this.visitNode(e.output)),e.from&&(this.append(" "),this.visitNode(e.from)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.returning&&(this.append(" "),this.visitNode(e.returning)),r&&!Li.is(n)&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitColumnUpdate(e){this.visitNode(e.column),this.append(" = "),this.visitNode(e.value)}visitLimit(e){this.append("limit "),this.visitNode(e.limit)}visitOffset(e){this.append("offset "),this.visitNode(e.offset)}visitOnConflict(e){this.append("on conflict"),e.columns?(this.append(" ("),this.compileList(e.columns),this.append(")")):e.constraint?(this.append(" on constraint "),this.visitNode(e.constraint)):e.indexExpression&&(this.append(" ("),this.visitNode(e.indexExpression),this.append(")")),e.indexWhere&&(this.append(" "),this.visitNode(e.indexWhere)),e.doNothing===!0?this.append(" do nothing"):e.updates&&(this.append(" do update set "),this.compileList(e.updates),e.updateWhere&&(this.append(" "),this.visitNode(e.updateWhere)))}visitOnDuplicateKey(e){this.append("on duplicate key update "),this.compileList(e.updates)}visitCreateIndex(e){this.append("create "),e.unique&&this.append("unique "),this.append("index "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),e.table&&(this.append(" on "),this.visitNode(e.table)),e.using&&(this.append(" using "),this.visitNode(e.using)),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.nullsNotDistinct&&this.append(" nulls not distinct"),e.where&&(this.append(" "),this.visitNode(e.where))}visitDropIndex(e){this.append("drop index "),e.ifExists&&this.append("if exists "),this.visitNode(e.name),e.table&&(this.append(" on "),this.visitNode(e.table)),e.cascade&&this.append(" cascade")}visitCreateSchema(e){this.append("create schema "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.schema)}visitDropSchema(e){this.append("drop schema "),e.ifExists&&this.append("if exists "),this.visitNode(e.schema),e.cascade&&this.append(" cascade")}visitPrimaryKeyConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("primary key ("),this.compileList(e.columns),this.append(")")}visitUniqueConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("unique"),e.nullsNotDistinct&&this.append(" nulls not distinct"),this.append(" ("),this.compileList(e.columns),this.append(")")}visitCheckConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("check ("),this.visitNode(e.expression),this.append(")")}visitForeignKeyConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("foreign key ("),this.compileList(e.columns),this.append(") "),this.visitNode(e.references),e.onDelete&&(this.append(" on delete "),this.append(e.onDelete)),e.onUpdate&&(this.append(" on update "),this.append(e.onUpdate))}visitList(e){this.compileList(e.items)}visitWith(e){this.append("with "),e.recursive&&this.append("recursive "),this.compileList(e.expressions)}visitCommonTableExpression(e){this.visitNode(e.name),this.append(" as "),og(e.materialized)&&(e.materialized||this.append("not "),this.append("materialized ")),this.visitNode(e.expression)}visitCommonTableExpressionName(e){this.visitNode(e.table),e.columns&&(this.append("("),this.compileList(e.columns),this.append(")"))}visitAlterTable(e){this.append("alter table "),this.visitNode(e.table),this.append(" "),e.renameTo&&(this.append("rename to "),this.visitNode(e.renameTo)),e.setSchema&&(this.append("set schema "),this.visitNode(e.setSchema)),e.addConstraint&&this.visitNode(e.addConstraint),e.dropConstraint&&this.visitNode(e.dropConstraint),e.columnAlterations&&this.compileColumnAlterations(e.columnAlterations),e.addIndex&&this.visitNode(e.addIndex),e.dropIndex&&this.visitNode(e.dropIndex)}visitAddColumn(e){this.append("add column "),this.visitNode(e.column)}visitRenameColumn(e){this.append("rename column "),this.visitNode(e.column),this.append(" to "),this.visitNode(e.renameTo)}visitDropColumn(e){this.append("drop column "),this.visitNode(e.column)}visitAlterColumn(e){this.append("alter column "),this.visitNode(e.column),this.append(" "),e.dataType&&(this.announcesNewColumnDataType()&&this.append("type "),this.visitNode(e.dataType),e.dataTypeExpression&&(this.append("using "),this.visitNode(e.dataTypeExpression))),e.setDefault&&(this.append("set default "),this.visitNode(e.setDefault)),e.dropDefault&&this.append("drop default"),e.setNotNull&&this.append("set not null"),e.dropNotNull&&this.append("drop not null")}visitModifyColumn(e){this.append("modify column "),this.visitNode(e.column)}visitAddConstraint(e){this.append("add "),this.visitNode(e.constraint)}visitDropConstraint(e){this.append("drop constraint "),e.ifExists&&this.append("if exists "),this.visitNode(e.constraintName),e.modifier==="cascade"?this.append(" cascade"):e.modifier==="restrict"&&this.append(" restrict")}visitSetOperation(e){this.append(e.operator),this.append(" "),e.all&&this.append("all "),this.visitNode(e.expression)}visitCreateView(e){this.append("create "),e.orReplace&&this.append("or replace "),e.materialized&&this.append("materialized "),e.temporary&&this.append("temporary "),this.append("view "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),this.append(" "),e.columns&&(this.append("("),this.compileList(e.columns),this.append(") ")),e.as&&(this.append("as "),this.visitNode(e.as))}visitDropView(e){this.append("drop "),e.materialized&&this.append("materialized "),this.append("view "),e.ifExists&&this.append("if exists "),this.visitNode(e.name),e.cascade&&this.append(" cascade")}visitGenerated(e){this.append("generated "),e.always&&this.append("always "),e.byDefault&&this.append("by default "),this.append("as "),e.identity&&this.append("identity"),e.expression&&(this.append("("),this.visitNode(e.expression),this.append(")")),e.stored&&this.append(" stored")}visitDefaultValue(e){this.append("default "),this.visitNode(e.defaultValue)}visitSelectModifier(e){e.rawModifier?this.visitNode(e.rawModifier):this.append(n6[e.modifier]),e.of&&(this.append(" of "),this.compileList(e.of,", "))}visitCreateType(e){this.append("create type "),this.visitNode(e.name),e.enum&&(this.append(" as enum "),this.visitNode(e.enum))}visitDropType(e){this.append("drop type "),e.ifExists&&this.append("if exists "),this.visitNode(e.name)}visitExplain(e){this.append("explain"),(e.options||e.format)&&(this.append(" "),this.append(this.getLeftExplainOptionsWrapper()),e.options&&(this.visitNode(e.options),e.format&&this.append(this.getExplainOptionsDelimiter())),e.format&&(this.append("format"),this.append(this.getExplainOptionAssignment()),this.append(e.format)),this.append(this.getRightExplainOptionsWrapper()))}visitDefaultInsertValue(e){this.append("default")}visitAggregateFunction(e){this.append(e.func),this.append("("),e.distinct&&this.append("distinct "),this.compileList(e.aggregated),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),this.append(")"),e.filter&&(this.append(" filter("),this.visitNode(e.filter),this.append(")")),e.over&&(this.append(" "),this.visitNode(e.over))}visitOver(e){this.append("over("),e.partitionBy&&(this.visitNode(e.partitionBy),e.orderBy&&this.append(" ")),e.orderBy&&this.visitNode(e.orderBy),this.append(")")}visitPartitionBy(e){this.append("partition by "),this.compileList(e.items)}visitPartitionByItem(e){this.visitNode(e.partitionBy)}visitBinaryOperation(e){this.visitNode(e.leftOperand),this.append(" "),this.visitNode(e.operator),this.append(" "),this.visitNode(e.rightOperand)}visitUnaryOperation(e){this.visitNode(e.operator),this.isMinusOperator(e.operator)||this.append(" "),this.visitNode(e.operand)}isMinusOperator(e){return dl.is(e)&&e.operator==="-"}visitUsing(e){this.append("using "),this.compileList(e.tables)}visitFunction(e){this.append(e.func),this.append("("),this.compileList(e.arguments),this.append(")")}visitCase(e){this.append("case"),e.value&&(this.append(" "),this.visitNode(e.value)),e.when&&(this.append(" "),this.compileList(e.when," ")),e.else&&(this.append(" else "),this.visitNode(e.else)),this.append(" end"),e.isStatement&&this.append(" case")}visitWhen(e){this.append("when "),this.visitNode(e.condition),e.result&&(this.append(" then "),this.visitNode(e.result))}visitJSONReference(e){this.visitNode(e.reference),this.visitNode(e.traversal)}visitJSONPath(e){e.inOperator&&this.visitNode(e.inOperator),this.append("'$");for(const n of e.pathLegs)this.visitNode(n);this.append("'")}visitJSONPathLeg(e){const n=e.type==="ArrayLocation";this.append(n?"[":"."),this.append(String(e.value)),n&&this.append("]")}visitJSONOperatorChain(e){for(let n=0,r=e.values.length;n<r;n++)n===r-1?this.visitNode(e.operator):this.append("->"),this.visitNode(e.values[n])}visitMergeQuery(e){e.with&&(this.visitNode(e.with),this.append(" ")),this.append("merge "),e.top&&(this.visitNode(e.top),this.append(" ")),this.append("into "),this.visitNode(e.into),e.using&&(this.append(" "),this.visitNode(e.using)),e.whens&&(this.append(" "),this.compileList(e.whens," ")),e.output&&(this.append(" "),this.visitNode(e.output)),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitMatched(e){e.not&&this.append("not "),this.append("matched"),e.bySource&&this.append(" by source")}visitAddIndex(e){this.append("add "),e.unique&&this.append("unique "),this.append("index "),this.visitNode(e.name),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.using&&(this.append(" using "),this.visitNode(e.using))}visitCast(e){this.append("cast("),this.visitNode(e.expression),this.append(" as "),this.visitNode(e.dataType),this.append(")")}visitFetch(e){this.append("fetch next "),this.visitNode(e.rowCount),this.append(` rows ${e.modifier}`)}visitOutput(e){this.append("output "),this.compileList(e.selections)}visitTop(e){this.append(`top(${e.expression})`),e.modifiers&&this.append(` ${e.modifiers}`)}append(e){this.#e+=e}appendValue(e){this.addParameter(e),this.append(this.getCurrentParameterPlaceholder())}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getCurrentParameterPlaceholder(){return"$"+this.numParameters}getLeftExplainOptionsWrapper(){return"("}getExplainOptionAssignment(){return" "}getExplainOptionsDelimiter(){return", "}getRightExplainOptionsWrapper(){return")"}sanitizeIdentifier(e){const n=this.getLeftIdentifierWrapper(),r=this.getRightIdentifierWrapper();let i="";for(const o of e)i+=o,o===n?i+=n:o===r&&(i+=r);return i}addParameter(e){this.#t.push(e)}appendImmediateValue(e){if(os(e))this.append(`'${e}'`);else if(ry(e)||og(e))this.append(e.toString());else if(Ww(e))this.append("null");else if(kW(e))this.appendImmediateValue(e.toISOString());else if(zw(e))this.appendImmediateValue(e.toString());else throw new Error(`invalid immediate value ${e}`)}sortSelectModifiers(e){return e.sort((n,r)=>n.modifier&&r.modifier?Jk[n.modifier]-Jk[r.modifier]:1),R(e)}compileColumnAlterations(e){this.compileList(e)}announcesNewColumnDataType(){return!0}}const n6=R({ForKeyShare:"for key share",ForNoKeyUpdate:"for no key update",ForUpdate:"for update",ForShare:"for share",NoWait:"nowait",SkipLocked:"skip locked",Distinct:"distinct"}),Jk=R({ForKeyShare:1,ForNoKeyUpdate:1,ForUpdate:1,ForShare:1,NoWait:2,SkipLocked:2,Distinct:0}),r6=R({InnerJoin:"inner join",LeftJoin:"left join",RightJoin:"right join",FullJoin:"full join",LateralInnerJoin:"inner join lateral",LateralLeftJoin:"left join lateral",Using:"using"});class i6{get supportsCreateIfNotExists(){return!0}get supportsTransactionalDdl(){return!1}get supportsReturning(){return!1}get supportsOutput(){return!1}}const s6=/"/g;class o6 extends t6{getCurrentParameterPlaceholder(){return"?"}getLeftExplainOptionsWrapper(){return""}getRightExplainOptionsWrapper(){return""}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getAutoIncrement(){return"autoincrement"}sanitizeIdentifier(e){return e.replace(s6,'""')}visitDefaultInsertValue(e){this.append("null")}}const a6="kysely_migration",l6="kysely_migration_lock";R({__noMigrations__:!0});class c6{#e;constructor(e){this.#e=e}async getSchemas(){return[]}async getTables(e={withInternalKyselyTables:!1}){let n=this.#e.selectFrom("sqlite_master").where("type","in",["table","view"]).where("name","not like","sqlite_%").select("name").orderBy("name").$castTo();e.withInternalKyselyTables||(n=n.where("name","!=",a6).where("name","!=",l6));const r=await n.execute();return Promise.all(r.map(({name:i})=>this.#t(i)))}async getMetadata(e){return{tables:await this.getTables(e)}}async #t(e){const n=this.#e,r=await n.selectFrom("sqlite_master").where("name","=",e).select(["sql","type"]).$castTo().executeTakeFirstOrThrow(),i=r.sql?.split(/[\(\),]/)?.find(l=>l.toLowerCase().includes("autoincrement"))?.trimStart()?.split(/\s+/)?.[0]?.replace(/["`]/g,""),o=await n.selectFrom(Nr`pragma_table_info(${e})`.as("table_info")).select(["name","type","notnull","dflt_value"]).orderBy("cid").execute();return{name:e,isView:r.type==="view",columns:o.map(l=>({name:l.name,dataType:l.type,isNullable:!l.notnull,isAutoIncrementing:l.name===i,hasDefaultValue:l.dflt_value!=null,comment:void 0}))}}}class u6 extends i6{get supportsTransactionalDdl(){return!1}get supportsReturning(){return!0}async acquireMigrationLock(e,n){}async releaseMigrationLock(e,n){}}const Zk="function",lu="64e10b34-2bf7-4616-9668-f99de5aa046e",d6="get",f6="has",p6="set",{isArray:gm}=Array;let{SharedArrayBuffer:gg,window:h6}=globalThis,{notify:LC,wait:DC,waitAsync:yg}=Atomics,MC=null;yg||(yg=t=>({value:new Promise(e=>{let n=new Worker("data:application/javascript,onmessage%3D(%7Bdata%3Ab%7D)%3D%3E(Atomics.wait(b%2C0)%2CpostMessage(0))");n.onmessage=e,n.postMessage(t)})}));try{new gg(4)}catch{gg=ArrayBuffer;const e=new WeakMap;if(h6){const n=new Map,{prototype:{postMessage:r}}=Worker,i=o=>{const l=o.data?.[lu];if(!gm(l)){o.stopImmediatePropagation();const{id:c,sb:d}=l;n.get(c)(d)}};MC=function(o,...l){const c=o?.[lu];if(gm(c)){const[d,m]=c;e.set(m,d),this.addEventListener("message",i)}return r.call(this,o,...l)},yg=o=>({value:new Promise(l=>{n.set(e.get(o),l)}).then(l=>{n.delete(e.get(o)),e.delete(o);for(let c=0;c<l.length;c++)o[c]=l[c];return"ok"})})}else{const n=(r,i)=>({[lu]:{id:r,sb:i}});LC=r=>{postMessage(n(e.get(r),r))},addEventListener("message",r=>{const i=r.data?.[lu];if(gm(i)){const[o,l]=i;e.set(l,o)}})}}const{Int32Array:Mx,Map:Yk,Uint16Array:Bx}=globalThis,{BYTES_PER_ELEMENT:Xk}=Mx,{BYTES_PER_ELEMENT:m6}=Bx,g6=(t,e,n)=>{for(;DC(t,0,0,e)==="timed-out";)n()},$x=new WeakSet,I_=new WeakMap,y6={value:{then:t=>t()}};let v6=0;const r0=(t,{parse:e=JSON.parse,stringify:n=JSON.stringify,transform:r,interrupt:i}=JSON)=>{if(!I_.has(t)){const o=MC||t.postMessage,l=(N,...k)=>o.call(t,{[lu]:k},{transfer:N}),c=typeof i===Zk?i:i?.handler,d=i?.delay||42,m=new TextDecoder("utf-16"),y=(N,k)=>N?yg(k,0):(c?g6(k,d,c):DC(k,0),y6);let _=!1;I_.set(t,new Proxy(new Yk,{[f6]:(N,k)=>typeof k=="string"&&!k.startsWith("_"),[d6]:(N,k)=>k==="then"?null:(...q)=>{const T=v6++;let A=new Mx(new gg(Xk*2)),D=[];$x.has(q.at(-1)||D)&&$x.delete(D=q.pop()),l(D,T,A,k,r?q.map(r):q);const P=t!==globalThis;let L=0;return _&&P&&(L=setTimeout(console.warn,1e3,` - Possible deadlock if proxy.${k}(...args) is awaited`)),y(P,A).value.then(()=>{clearTimeout(L);const V=A[1];if(!V)return;const J=m6*V;return A=new Mx(new gg(J+J%Xk)),l([],T,A),y(P,A).value.then(()=>e(m.decode(new Bx(A.buffer).slice(0,V))))})},[p6](N,k,q){const T=typeof q;if(T!==Zk)throw new Error(`Unable to assign ${k} as ${T}`);if(!N.size){const A=new Yk;t.addEventListener("message",async D=>{const P=D.data?.[lu];if(gm(P)){D.stopImmediatePropagation();const[L,V,...J]=P;let W;if(J.length){const[Z,oe]=J;if(N.has(Z)){_=!0;try{const U=await N.get(Z)(...oe);if(U!==void 0){const ne=n(r?r(U):U);A.set(L,ne),V[1]=ne.length}}catch(U){W=U}finally{_=!1}}else W=new Error(`Unsupported action: ${Z}`);V[0]=1}else{const Z=A.get(L);A.delete(L);for(let oe=new Bx(V.buffer),U=0;U<Z.length;U++)oe[U]=Z.charCodeAt(U)}if(LC(V,0),W)throw W}})}return!!N.set(k,q)}}))}return I_.get(t)};r0.transfer=(...t)=>($x.add(t),t);var i0=(()=>{var t=import.meta.url;return function(e={}){var n,r=e,i,o,l=new Promise((f,p)=>{i=f,o=p}),c=typeof window=="object",d=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;const m=globalThis.sqlite3InitModuleState||Object.assign(Object.create(null),{debugModule:()=>{}});delete globalThis.sqlite3InitModuleState,m.debugModule("globalThis.location =",globalThis.location);var y=Object.assign({},r),_="./this.program",N="";function k(f){return r.locateFile?r.locateFile(f,N):N+f}var q,T;(c||d)&&(d?N=self.location.href:typeof document<"u"&&document.currentScript&&(N=document.currentScript.src),t&&(N=t),N.startsWith("blob:")?N="":N=N.substr(0,N.replace(/[?#].*/,"").lastIndexOf("/")+1),d&&(T=f=>{var p=new XMLHttpRequest;return p.open("GET",f,!1),p.responseType="arraybuffer",p.send(null),new Uint8Array(p.response)}),q=f=>fetch(f,{credentials:"same-origin"}).then(p=>p.ok?p.arrayBuffer():Promise.reject(new Error(p.status+" : "+p.url))));var A=r.print||console.log.bind(console),D=r.printErr||console.error.bind(console);Object.assign(r,y),y=null,r.arguments&&r.arguments,r.thisProgram&&(_=r.thisProgram);var P=r.wasmBinary,L,V=!1,J,W,Z,oe,U,ne;function B(){var f=L.buffer;r.HEAP8=J=new Int8Array(f),r.HEAP16=Z=new Int16Array(f),r.HEAPU8=W=new Uint8Array(f),r.HEAPU16=new Uint16Array(f),r.HEAP32=oe=new Int32Array(f),r.HEAPU32=U=new Uint32Array(f),r.HEAPF32=new Float32Array(f),r.HEAPF64=new Float64Array(f),r.HEAP64=ne=new BigInt64Array(f),r.HEAPU64=new BigUint64Array(f)}if(r.wasmMemory)L=r.wasmMemory;else{var se=r.INITIAL_MEMORY||0x1000000;L=new WebAssembly.Memory({initial:se/65536,maximum:32768})}B();var X=[],fe=[],Ee=[];function Oe(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)pe(r.preRun.shift());le(X)}function je(){!r.noFSInit&&!C.initialized&&C.init(),C.ignorePermissions=!1,le(fe)}function ve(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)K(r.postRun.shift());le(Ee)}function pe(f){X.unshift(f)}function Ne(f){fe.unshift(f)}function K(f){Ee.unshift(f)}var xe=0,ut=null;function at(f){return f}function ft(f){xe++,r.monitorRunDependencies?.(xe)}function dt(f){if(xe--,r.monitorRunDependencies?.(xe),xe==0&&ut){var p=ut;ut=null,p()}}function pt(f){r.onAbort?.(f),f="Aborted("+f+")",D(f),V=!0,f+=". Build with -sASSERTIONS for more info.";var p=new WebAssembly.RuntimeError(f);throw o(p),p}var vt="data:application/octet-stream;base64,",At=f=>f.startsWith(vt);function mt(){if(r.locateFile){var f="sqlite3.wasm";return At(f)?f:k(f)}return new URL("/assets/sqlite3-CgX3seBP.wasm",import.meta.url).href}var ht;function Nt(f){if(f==ht&&P)return new Uint8Array(P);if(T)return T(f);throw"both async and sync fetching of the wasm failed"}function kt(f){return P?Promise.resolve().then(()=>Nt(f)):q(f).then(p=>new Uint8Array(p),()=>Nt(f))}function Yt(f,p,b){return kt(f).then(x=>WebAssembly.instantiate(x,p)).then(b,x=>{D(`failed to asynchronously prepare wasm: ${x}`),pt(x)})}function Kt(f,p,b,x){return!f&&typeof WebAssembly.instantiateStreaming=="function"&&!At(p)&&typeof fetch=="function"?fetch(p,{credentials:"same-origin"}).then(S=>{var I=WebAssembly.instantiateStreaming(S,b);return I.then(x,function(ee){return D(`wasm streaming compile failed: ${ee}`),D("falling back to ArrayBuffer instantiation"),Yt(p,b,x)})}):Yt(p,b,x)}function sn(){return{env:ad,wasi_snapshot_preview1:ad}}function hn(){var f=sn();function p(x,S){return re=x.exports,Ne(re.__wasm_call_ctors),dt(),re}ft();function b(x){p(x.instance)}if(r.instantiateWasm)try{return r.instantiateWasm(f,p)}catch(x){D(`Module.instantiateWasm callback failed with error: ${x}`),o(x)}return ht||(ht=mt()),Kt(P,ht,f,b).catch(o),{}}var le=f=>{for(;f.length>0;)f.shift()(r)};r.noExitRuntime;var ue={isAbs:f=>f.charAt(0)==="/",splitPath:f=>{var p=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return p.exec(f).slice(1)},normalizeArray:(f,p)=>{for(var b=0,x=f.length-1;x>=0;x--){var S=f[x];S==="."?f.splice(x,1):S===".."?(f.splice(x,1),b++):b&&(f.splice(x,1),b--)}if(p)for(;b;b--)f.unshift("..");return f},normalize:f=>{var p=ue.isAbs(f),b=f.substr(-1)==="/";return f=ue.normalizeArray(f.split("/").filter(x=>!!x),!p).join("/"),!f&&!p&&(f="."),f&&b&&(f+="/"),(p?"/":"")+f},dirname:f=>{var p=ue.splitPath(f),b=p[0],x=p[1];return!b&&!x?".":(x&&(x=x.substr(0,x.length-1)),b+x)},basename:f=>{if(f==="/")return"/";f=ue.normalize(f),f=f.replace(/\/$/,"");var p=f.lastIndexOf("/");return p===-1?f:f.substr(p+1)},join:(...f)=>ue.normalize(f.join("/")),join2:(f,p)=>ue.normalize(f+"/"+p)},ye=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return f=>crypto.getRandomValues(f);pt("initRandomDevice")},Ce=f=>(Ce=ye())(f),De={resolve:(...f)=>{for(var p="",b=!1,x=f.length-1;x>=-1&&!b;x--){var S=x>=0?f[x]:C.cwd();if(typeof S!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!S)return"";p=S+"/"+p,b=ue.isAbs(S)}return p=ue.normalizeArray(p.split("/").filter(I=>!!I),!b).join("/"),(b?"/":"")+p||"."},relative:(f,p)=>{f=De.resolve(f).substr(1),p=De.resolve(p).substr(1);function b(Ve){for(var Ze=0;Ze<Ve.length&&Ve[Ze]==="";Ze++);for(var it=Ve.length-1;it>=0&&Ve[it]==="";it--);return Ze>it?[]:Ve.slice(Ze,it-Ze+1)}for(var x=b(f.split("/")),S=b(p.split("/")),I=Math.min(x.length,S.length),ee=I,ie=0;ie<I;ie++)if(x[ie]!==S[ie]){ee=ie;break}for(var Me=[],ie=ee;ie<x.length;ie++)Me.push("..");return Me=Me.concat(S.slice(ee)),Me.join("/")}},Je=typeof TextDecoder<"u"?new TextDecoder:void 0,Fe=(f,p,b)=>{for(var x=p+b,S=p;f[S]&&!(S>=x);)++S;if(S-p>16&&f.buffer&&Je)return Je.decode(f.subarray(p,S));for(var I="";p<S;){var ee=f[p++];if(!(ee&128)){I+=String.fromCharCode(ee);continue}var ie=f[p++]&63;if((ee&224)==192){I+=String.fromCharCode((ee&31)<<6|ie);continue}var Me=f[p++]&63;if((ee&240)==224?ee=(ee&15)<<12|ie<<6|Me:ee=(ee&7)<<18|ie<<12|Me<<6|f[p++]&63,ee<65536)I+=String.fromCharCode(ee);else{var Ve=ee-65536;I+=String.fromCharCode(55296|Ve>>10,56320|Ve&1023)}}return I},et=[],Vt=f=>{for(var p=0,b=0;b<f.length;++b){var x=f.charCodeAt(b);x<=127?p++:x<=2047?p+=2:x>=55296&&x<=57343?(p+=4,++b):p+=3}return p},zt=(f,p,b,x)=>{if(!(x>0))return 0;for(var S=b,I=b+x-1,ee=0;ee<f.length;++ee){var ie=f.charCodeAt(ee);if(ie>=55296&&ie<=57343){var Me=f.charCodeAt(++ee);ie=65536+((ie&1023)<<10)|Me&1023}if(ie<=127){if(b>=I)break;p[b++]=ie}else if(ie<=2047){if(b+1>=I)break;p[b++]=192|ie>>6,p[b++]=128|ie&63}else if(ie<=65535){if(b+2>=I)break;p[b++]=224|ie>>12,p[b++]=128|ie>>6&63,p[b++]=128|ie&63}else{if(b+3>=I)break;p[b++]=240|ie>>18,p[b++]=128|ie>>12&63,p[b++]=128|ie>>6&63,p[b++]=128|ie&63}}return p[b]=0,b-S};function yn(f,p,b){var x=Vt(f)+1,S=new Array(x),I=zt(f,S,0,S.length);return S.length=I,S}var xr=()=>{if(!et.length){var f=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(f=window.prompt("Input: "),f!==null&&(f+=`
`)),!f)return null;et=yn(f)}return et.shift()},Fn={ttys:[],init(){},shutdown(){},register(f,p){Fn.ttys[f]={input:[],output:[],ops:p},C.registerDevice(f,Fn.stream_ops)},stream_ops:{open(f){var p=Fn.ttys[f.node.rdev];if(!p)throw new C.ErrnoError(43);f.tty=p,f.seekable=!1},close(f){f.tty.ops.fsync(f.tty)},fsync(f){f.tty.ops.fsync(f.tty)},read(f,p,b,x,S){if(!f.tty||!f.tty.ops.get_char)throw new C.ErrnoError(60);for(var I=0,ee=0;ee<x;ee++){var ie;try{ie=f.tty.ops.get_char(f.tty)}catch{throw new C.ErrnoError(29)}if(ie===void 0&&I===0)throw new C.ErrnoError(6);if(ie==null)break;I++,p[b+ee]=ie}return I&&(f.node.timestamp=Date.now()),I},write(f,p,b,x,S){if(!f.tty||!f.tty.ops.put_char)throw new C.ErrnoError(60);try{for(var I=0;I<x;I++)f.tty.ops.put_char(f.tty,p[b+I])}catch{throw new C.ErrnoError(29)}return x&&(f.node.timestamp=Date.now()),I}},default_tty_ops:{get_char(f){return xr()},put_char(f,p){p===null||p===10?(A(Fe(f.output,0)),f.output=[]):p!=0&&f.output.push(p)},fsync(f){f.output&&f.output.length>0&&(A(Fe(f.output,0)),f.output=[])},ioctl_tcgets(f){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(f,p,b){return 0},ioctl_tiocgwinsz(f){return[24,80]}},default_tty1_ops:{put_char(f,p){p===null||p===10?(D(Fe(f.output,0)),f.output=[]):p!=0&&f.output.push(p)},fsync(f){f.output&&f.output.length>0&&(D(Fe(f.output,0)),f.output=[])}}},$r=(f,p)=>(W.fill(0,f,f+p),f),Ui=(f,p)=>Math.ceil(f/p)*p,wr=f=>{f=Ui(f,65536);var p=ld(65536,f);return p?$r(p,f):0},$t={ops_table:null,mount(f){return $t.createNode(null,"/",16895,0)},createNode(f,p,b,x){if(C.isBlkdev(b)||C.isFIFO(b))throw new C.ErrnoError(63);$t.ops_table||={dir:{node:{getattr:$t.node_ops.getattr,setattr:$t.node_ops.setattr,lookup:$t.node_ops.lookup,mknod:$t.node_ops.mknod,rename:$t.node_ops.rename,unlink:$t.node_ops.unlink,rmdir:$t.node_ops.rmdir,readdir:$t.node_ops.readdir,symlink:$t.node_ops.symlink},stream:{llseek:$t.stream_ops.llseek}},file:{node:{getattr:$t.node_ops.getattr,setattr:$t.node_ops.setattr},stream:{llseek:$t.stream_ops.llseek,read:$t.stream_ops.read,write:$t.stream_ops.write,allocate:$t.stream_ops.allocate,mmap:$t.stream_ops.mmap,msync:$t.stream_ops.msync}},link:{node:{getattr:$t.node_ops.getattr,setattr:$t.node_ops.setattr,readlink:$t.node_ops.readlink},stream:{}},chrdev:{node:{getattr:$t.node_ops.getattr,setattr:$t.node_ops.setattr},stream:C.chrdev_stream_ops}};var S=C.createNode(f,p,b,x);return C.isDir(S.mode)?(S.node_ops=$t.ops_table.dir.node,S.stream_ops=$t.ops_table.dir.stream,S.contents={}):C.isFile(S.mode)?(S.node_ops=$t.ops_table.file.node,S.stream_ops=$t.ops_table.file.stream,S.usedBytes=0,S.contents=null):C.isLink(S.mode)?(S.node_ops=$t.ops_table.link.node,S.stream_ops=$t.ops_table.link.stream):C.isChrdev(S.mode)&&(S.node_ops=$t.ops_table.chrdev.node,S.stream_ops=$t.ops_table.chrdev.stream),S.timestamp=Date.now(),f&&(f.contents[p]=S,f.timestamp=S.timestamp),S},getFileDataAsTypedArray(f){return f.contents?f.contents.subarray?f.contents.subarray(0,f.usedBytes):new Uint8Array(f.contents):new Uint8Array(0)},expandFileStorage(f,p){var b=f.contents?f.contents.length:0;if(!(b>=p)){var x=1024*1024;p=Math.max(p,b*(b<x?2:1.125)>>>0),b!=0&&(p=Math.max(p,256));var S=f.contents;f.contents=new Uint8Array(p),f.usedBytes>0&&f.contents.set(S.subarray(0,f.usedBytes),0)}},resizeFileStorage(f,p){if(f.usedBytes!=p)if(p==0)f.contents=null,f.usedBytes=0;else{var b=f.contents;f.contents=new Uint8Array(p),b&&f.contents.set(b.subarray(0,Math.min(p,f.usedBytes))),f.usedBytes=p}},node_ops:{getattr(f){var p={};return p.dev=C.isChrdev(f.mode)?f.id:1,p.ino=f.id,p.mode=f.mode,p.nlink=1,p.uid=0,p.gid=0,p.rdev=f.rdev,C.isDir(f.mode)?p.size=4096:C.isFile(f.mode)?p.size=f.usedBytes:C.isLink(f.mode)?p.size=f.link.length:p.size=0,p.atime=new Date(f.timestamp),p.mtime=new Date(f.timestamp),p.ctime=new Date(f.timestamp),p.blksize=4096,p.blocks=Math.ceil(p.size/p.blksize),p},setattr(f,p){p.mode!==void 0&&(f.mode=p.mode),p.timestamp!==void 0&&(f.timestamp=p.timestamp),p.size!==void 0&&$t.resizeFileStorage(f,p.size)},lookup(f,p){throw C.genericErrors[44]},mknod(f,p,b,x){return $t.createNode(f,p,b,x)},rename(f,p,b){if(C.isDir(f.mode)){var x;try{x=C.lookupNode(p,b)}catch{}if(x)for(var S in x.contents)throw new C.ErrnoError(55)}delete f.parent.contents[f.name],f.parent.timestamp=Date.now(),f.name=b,p.contents[b]=f,p.timestamp=f.parent.timestamp},unlink(f,p){delete f.contents[p],f.timestamp=Date.now()},rmdir(f,p){var b=C.lookupNode(f,p);for(var x in b.contents)throw new C.ErrnoError(55);delete f.contents[p],f.timestamp=Date.now()},readdir(f){var p=[".",".."];for(var b of Object.keys(f.contents))p.push(b);return p},symlink(f,p,b){var x=$t.createNode(f,p,41471,0);return x.link=b,x},readlink(f){if(!C.isLink(f.mode))throw new C.ErrnoError(28);return f.link}},stream_ops:{read(f,p,b,x,S){var I=f.node.contents;if(S>=f.node.usedBytes)return 0;var ee=Math.min(f.node.usedBytes-S,x);if(ee>8&&I.subarray)p.set(I.subarray(S,S+ee),b);else for(var ie=0;ie<ee;ie++)p[b+ie]=I[S+ie];return ee},write(f,p,b,x,S,I){if(p.buffer===J.buffer&&(I=!1),!x)return 0;var ee=f.node;if(ee.timestamp=Date.now(),p.subarray&&(!ee.contents||ee.contents.subarray)){if(I)return ee.contents=p.subarray(b,b+x),ee.usedBytes=x,x;if(ee.usedBytes===0&&S===0)return ee.contents=p.slice(b,b+x),ee.usedBytes=x,x;if(S+x<=ee.usedBytes)return ee.contents.set(p.subarray(b,b+x),S),x}if($t.expandFileStorage(ee,S+x),ee.contents.subarray&&p.subarray)ee.contents.set(p.subarray(b,b+x),S);else for(var ie=0;ie<x;ie++)ee.contents[S+ie]=p[b+ie];return ee.usedBytes=Math.max(ee.usedBytes,S+x),x},llseek(f,p,b){var x=p;if(b===1?x+=f.position:b===2&&C.isFile(f.node.mode)&&(x+=f.node.usedBytes),x<0)throw new C.ErrnoError(28);return x},allocate(f,p,b){$t.expandFileStorage(f.node,p+b),f.node.usedBytes=Math.max(f.node.usedBytes,p+b)},mmap(f,p,b,x,S){if(!C.isFile(f.node.mode))throw new C.ErrnoError(43);var I,ee,ie=f.node.contents;if(!(S&2)&&ie&&ie.buffer===J.buffer)ee=!1,I=ie.byteOffset;else{if(ee=!0,I=wr(p),!I)throw new C.ErrnoError(48);ie&&((b>0||b+p<ie.length)&&(ie.subarray?ie=ie.subarray(b,b+p):ie=Array.prototype.slice.call(ie,b,b+p)),J.set(ie,I))}return{ptr:I,allocated:ee}},msync(f,p,b,x,S){return $t.stream_ops.write(f,p,0,x,b,!1),0}}},us=(f,p,b,x)=>{var S=`al ${f}`;q(f).then(I=>{p(new Uint8Array(I)),S&&dt()},I=>{if(b)b();else throw`Loading data file "${f}" failed.`}),S&&ft()},ds=(f,p,b,x,S,I)=>{C.createDataFile(f,p,b,x,S,I)},fs=r.preloadPlugins||[],Bo=(f,p,b,x)=>{typeof Browser<"u"&&Browser.init();var S=!1;return fs.forEach(I=>{S||I.canHandle(p)&&(I.handle(f,p,b,x),S=!0)}),S},gl=(f,p,b,x,S,I,ee,ie,Me,Ve)=>{var Ze=p?De.resolve(ue.join2(f,p)):f;function it(Ae){function Se(Ue){Ve?.(),ie||ds(f,p,Ue,x,S,Me),I?.(),dt()}Bo(Ae,Ze,Se,()=>{ee?.(),dt()})||Se(Ae)}ft(),typeof b=="string"?us(b,it,ee):it(b)},Xu=f=>{var p={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},b=p[f];if(typeof b>"u")throw new Error(`Unknown file open mode: ${f}`);return b},fo=(f,p)=>{var b=0;return f&&(b|=365),p&&(b|=146),b},C={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:class{constructor(f){this.name="ErrnoError",this.errno=f}},genericErrors:{},filesystems:null,syncFSRequests:0,FSStream:class{constructor(){this.shared={}}get object(){return this.node}set object(f){this.node=f}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(f){this.shared.flags=f}get position(){return this.shared.position}set position(f){this.shared.position=f}},FSNode:class{constructor(f,p,b,x){f||(f=this),this.parent=f,this.mount=f.mount,this.mounted=null,this.id=C.nextInode++,this.name=p,this.mode=b,this.node_ops={},this.stream_ops={},this.rdev=x,this.readMode=365,this.writeMode=146}get read(){return(this.mode&this.readMode)===this.readMode}set read(f){f?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(f){f?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return C.isDir(this.mode)}get isDevice(){return C.isChrdev(this.mode)}},lookupPath(f,p={}){if(f=De.resolve(f),!f)return{path:"",node:null};var b={follow_mount:!0,recurse_count:0};if(p=Object.assign(b,p),p.recurse_count>8)throw new C.ErrnoError(32);for(var x=f.split("/").filter(it=>!!it),S=C.root,I="/",ee=0;ee<x.length;ee++){var ie=ee===x.length-1;if(ie&&p.parent)break;if(S=C.lookupNode(S,x[ee]),I=ue.join2(I,x[ee]),C.isMountpoint(S)&&(!ie||ie&&p.follow_mount)&&(S=S.mounted.root),!ie||p.follow)for(var Me=0;C.isLink(S.mode);){var Ve=C.readlink(I);I=De.resolve(ue.dirname(I),Ve);var Ze=C.lookupPath(I,{recurse_count:p.recurse_count+1});if(S=Ze.node,Me++>40)throw new C.ErrnoError(32)}}return{path:I,node:S}},getPath(f){for(var p;;){if(C.isRoot(f)){var b=f.mount.mountpoint;return p?b[b.length-1]!=="/"?`${b}/${p}`:b+p:b}p=p?`${f.name}/${p}`:f.name,f=f.parent}},hashName(f,p){for(var b=0,x=0;x<p.length;x++)b=(b<<5)-b+p.charCodeAt(x)|0;return(f+b>>>0)%C.nameTable.length},hashAddNode(f){var p=C.hashName(f.parent.id,f.name);f.name_next=C.nameTable[p],C.nameTable[p]=f},hashRemoveNode(f){var p=C.hashName(f.parent.id,f.name);if(C.nameTable[p]===f)C.nameTable[p]=f.name_next;else for(var b=C.nameTable[p];b;){if(b.name_next===f){b.name_next=f.name_next;break}b=b.name_next}},lookupNode(f,p){var b=C.mayLookup(f);if(b)throw new C.ErrnoError(b);for(var x=C.hashName(f.id,p),S=C.nameTable[x];S;S=S.name_next){var I=S.name;if(S.parent.id===f.id&&I===p)return S}return C.lookup(f,p)},createNode(f,p,b,x){var S=new C.FSNode(f,p,b,x);return C.hashAddNode(S),S},destroyNode(f){C.hashRemoveNode(f)},isRoot(f){return f===f.parent},isMountpoint(f){return!!f.mounted},isFile(f){return(f&61440)===32768},isDir(f){return(f&61440)===16384},isLink(f){return(f&61440)===40960},isChrdev(f){return(f&61440)===8192},isBlkdev(f){return(f&61440)===24576},isFIFO(f){return(f&61440)===4096},isSocket(f){return(f&49152)===49152},flagsToPermissionString(f){var p=["r","w","rw"][f&3];return f&512&&(p+="w"),p},nodePermissions(f,p){return C.ignorePermissions?0:p.includes("r")&&!(f.mode&292)||p.includes("w")&&!(f.mode&146)||p.includes("x")&&!(f.mode&73)?2:0},mayLookup(f){if(!C.isDir(f.mode))return 54;var p=C.nodePermissions(f,"x");return p||(f.node_ops.lookup?0:2)},mayCreate(f,p){try{var b=C.lookupNode(f,p);return 20}catch{}return C.nodePermissions(f,"wx")},mayDelete(f,p,b){var x;try{x=C.lookupNode(f,p)}catch(I){return I.errno}var S=C.nodePermissions(f,"wx");if(S)return S;if(b){if(!C.isDir(x.mode))return 54;if(C.isRoot(x)||C.getPath(x)===C.cwd())return 10}else if(C.isDir(x.mode))return 31;return 0},mayOpen(f,p){return f?C.isLink(f.mode)?32:C.isDir(f.mode)&&(C.flagsToPermissionString(p)!=="r"||p&512)?31:C.nodePermissions(f,C.flagsToPermissionString(p)):44},MAX_OPEN_FDS:4096,nextfd(){for(var f=0;f<=C.MAX_OPEN_FDS;f++)if(!C.streams[f])return f;throw new C.ErrnoError(33)},getStreamChecked(f){var p=C.getStream(f);if(!p)throw new C.ErrnoError(8);return p},getStream:f=>C.streams[f],createStream(f,p=-1){return f=Object.assign(new C.FSStream,f),p==-1&&(p=C.nextfd()),f.fd=p,C.streams[p]=f,f},closeStream(f){C.streams[f]=null},dupStream(f,p=-1){var b=C.createStream(f,p);return b.stream_ops?.dup?.(b),b},chrdev_stream_ops:{open(f){var p=C.getDevice(f.node.rdev);f.stream_ops=p.stream_ops,f.stream_ops.open?.(f)},llseek(){throw new C.ErrnoError(70)}},major:f=>f>>8,minor:f=>f&255,makedev:(f,p)=>f<<8|p,registerDevice(f,p){C.devices[f]={stream_ops:p}},getDevice:f=>C.devices[f],getMounts(f){for(var p=[],b=[f];b.length;){var x=b.pop();p.push(x),b.push(...x.mounts)}return p},syncfs(f,p){typeof f=="function"&&(p=f,f=!1),C.syncFSRequests++,C.syncFSRequests>1&&D(`warning: ${C.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var b=C.getMounts(C.root.mount),x=0;function S(ee){return C.syncFSRequests--,p(ee)}function I(ee){if(ee)return I.errored?void 0:(I.errored=!0,S(ee));++x>=b.length&&S(null)}b.forEach(ee=>{if(!ee.type.syncfs)return I(null);ee.type.syncfs(ee,f,I)})},mount(f,p,b){var x=b==="/",S=!b,I;if(x&&C.root)throw new C.ErrnoError(10);if(!x&&!S){var ee=C.lookupPath(b,{follow_mount:!1});if(b=ee.path,I=ee.node,C.isMountpoint(I))throw new C.ErrnoError(10);if(!C.isDir(I.mode))throw new C.ErrnoError(54)}var ie={type:f,opts:p,mountpoint:b,mounts:[]},Me=f.mount(ie);return Me.mount=ie,ie.root=Me,x?C.root=Me:I&&(I.mounted=ie,I.mount&&I.mount.mounts.push(ie)),Me},unmount(f){var p=C.lookupPath(f,{follow_mount:!1});if(!C.isMountpoint(p.node))throw new C.ErrnoError(28);var b=p.node,x=b.mounted,S=C.getMounts(x);Object.keys(C.nameTable).forEach(ee=>{for(var ie=C.nameTable[ee];ie;){var Me=ie.name_next;S.includes(ie.mount)&&C.destroyNode(ie),ie=Me}}),b.mounted=null;var I=b.mount.mounts.indexOf(x);b.mount.mounts.splice(I,1)},lookup(f,p){return f.node_ops.lookup(f,p)},mknod(f,p,b){var x=C.lookupPath(f,{parent:!0}),S=x.node,I=ue.basename(f);if(!I||I==="."||I==="..")throw new C.ErrnoError(28);var ee=C.mayCreate(S,I);if(ee)throw new C.ErrnoError(ee);if(!S.node_ops.mknod)throw new C.ErrnoError(63);return S.node_ops.mknod(S,I,p,b)},create(f,p){return p=p!==void 0?p:438,p&=4095,p|=32768,C.mknod(f,p,0)},mkdir(f,p){return p=p!==void 0?p:511,p&=1023,p|=16384,C.mknod(f,p,0)},mkdirTree(f,p){for(var b=f.split("/"),x="",S=0;S<b.length;++S)if(b[S]){x+="/"+b[S];try{C.mkdir(x,p)}catch(I){if(I.errno!=20)throw I}}},mkdev(f,p,b){return typeof b>"u"&&(b=p,p=438),p|=8192,C.mknod(f,p,b)},symlink(f,p){if(!De.resolve(f))throw new C.ErrnoError(44);var b=C.lookupPath(p,{parent:!0}),x=b.node;if(!x)throw new C.ErrnoError(44);var S=ue.basename(p),I=C.mayCreate(x,S);if(I)throw new C.ErrnoError(I);if(!x.node_ops.symlink)throw new C.ErrnoError(63);return x.node_ops.symlink(x,S,f)},rename(f,p){var b=ue.dirname(f),x=ue.dirname(p),S=ue.basename(f),I=ue.basename(p),ee,ie,Me;if(ee=C.lookupPath(f,{parent:!0}),ie=ee.node,ee=C.lookupPath(p,{parent:!0}),Me=ee.node,!ie||!Me)throw new C.ErrnoError(44);if(ie.mount!==Me.mount)throw new C.ErrnoError(75);var Ve=C.lookupNode(ie,S),Ze=De.relative(f,x);if(Ze.charAt(0)!==".")throw new C.ErrnoError(28);if(Ze=De.relative(p,b),Ze.charAt(0)!==".")throw new C.ErrnoError(55);var it;try{it=C.lookupNode(Me,I)}catch{}if(Ve!==it){var Ae=C.isDir(Ve.mode),Se=C.mayDelete(ie,S,Ae);if(Se)throw new C.ErrnoError(Se);if(Se=it?C.mayDelete(Me,I,Ae):C.mayCreate(Me,I),Se)throw new C.ErrnoError(Se);if(!ie.node_ops.rename)throw new C.ErrnoError(63);if(C.isMountpoint(Ve)||it&&C.isMountpoint(it))throw new C.ErrnoError(10);if(Me!==ie&&(Se=C.nodePermissions(ie,"w"),Se))throw new C.ErrnoError(Se);C.hashRemoveNode(Ve);try{ie.node_ops.rename(Ve,Me,I),Ve.parent=Me}catch(Ue){throw Ue}finally{C.hashAddNode(Ve)}}},rmdir(f){var p=C.lookupPath(f,{parent:!0}),b=p.node,x=ue.basename(f),S=C.lookupNode(b,x),I=C.mayDelete(b,x,!0);if(I)throw new C.ErrnoError(I);if(!b.node_ops.rmdir)throw new C.ErrnoError(63);if(C.isMountpoint(S))throw new C.ErrnoError(10);b.node_ops.rmdir(b,x),C.destroyNode(S)},readdir(f){var p=C.lookupPath(f,{follow:!0}),b=p.node;if(!b.node_ops.readdir)throw new C.ErrnoError(54);return b.node_ops.readdir(b)},unlink(f){var p=C.lookupPath(f,{parent:!0}),b=p.node;if(!b)throw new C.ErrnoError(44);var x=ue.basename(f),S=C.lookupNode(b,x),I=C.mayDelete(b,x,!1);if(I)throw new C.ErrnoError(I);if(!b.node_ops.unlink)throw new C.ErrnoError(63);if(C.isMountpoint(S))throw new C.ErrnoError(10);b.node_ops.unlink(b,x),C.destroyNode(S)},readlink(f){var p=C.lookupPath(f),b=p.node;if(!b)throw new C.ErrnoError(44);if(!b.node_ops.readlink)throw new C.ErrnoError(28);return De.resolve(C.getPath(b.parent),b.node_ops.readlink(b))},stat(f,p){var b=C.lookupPath(f,{follow:!p}),x=b.node;if(!x)throw new C.ErrnoError(44);if(!x.node_ops.getattr)throw new C.ErrnoError(63);return x.node_ops.getattr(x)},lstat(f){return C.stat(f,!0)},chmod(f,p,b){var x;if(typeof f=="string"){var S=C.lookupPath(f,{follow:!b});x=S.node}else x=f;if(!x.node_ops.setattr)throw new C.ErrnoError(63);x.node_ops.setattr(x,{mode:p&4095|x.mode&-4096,timestamp:Date.now()})},lchmod(f,p){C.chmod(f,p,!0)},fchmod(f,p){var b=C.getStreamChecked(f);C.chmod(b.node,p)},chown(f,p,b,x){var S;if(typeof f=="string"){var I=C.lookupPath(f,{follow:!x});S=I.node}else S=f;if(!S.node_ops.setattr)throw new C.ErrnoError(63);S.node_ops.setattr(S,{timestamp:Date.now()})},lchown(f,p,b){C.chown(f,p,b,!0)},fchown(f,p,b){var x=C.getStreamChecked(f);C.chown(x.node,p,b)},truncate(f,p){if(p<0)throw new C.ErrnoError(28);var b;if(typeof f=="string"){var x=C.lookupPath(f,{follow:!0});b=x.node}else b=f;if(!b.node_ops.setattr)throw new C.ErrnoError(63);if(C.isDir(b.mode))throw new C.ErrnoError(31);if(!C.isFile(b.mode))throw new C.ErrnoError(28);var S=C.nodePermissions(b,"w");if(S)throw new C.ErrnoError(S);b.node_ops.setattr(b,{size:p,timestamp:Date.now()})},ftruncate(f,p){var b=C.getStreamChecked(f);if(!(b.flags&2097155))throw new C.ErrnoError(28);C.truncate(b.node,p)},utime(f,p,b){var x=C.lookupPath(f,{follow:!0}),S=x.node;S.node_ops.setattr(S,{timestamp:Math.max(p,b)})},open(f,p,b){if(f==="")throw new C.ErrnoError(44);p=typeof p=="string"?Xu(p):p,p&64?(b=typeof b>"u"?438:b,b=b&4095|32768):b=0;var x;if(typeof f=="object")x=f;else{f=ue.normalize(f);try{var S=C.lookupPath(f,{follow:!(p&131072)});x=S.node}catch{}}var I=!1;if(p&64)if(x){if(p&128)throw new C.ErrnoError(20)}else x=C.mknod(f,b,0),I=!0;if(!x)throw new C.ErrnoError(44);if(C.isChrdev(x.mode)&&(p&=-513),p&65536&&!C.isDir(x.mode))throw new C.ErrnoError(54);if(!I){var ee=C.mayOpen(x,p);if(ee)throw new C.ErrnoError(ee)}p&512&&!I&&C.truncate(x,0),p&=-131713;var ie=C.createStream({node:x,path:C.getPath(x),flags:p,seekable:!0,position:0,stream_ops:x.stream_ops,ungotten:[],error:!1});return ie.stream_ops.open&&ie.stream_ops.open(ie),r.logReadFiles&&!(p&1)&&(C.readFiles||(C.readFiles={}),f in C.readFiles||(C.readFiles[f]=1)),ie},close(f){if(C.isClosed(f))throw new C.ErrnoError(8);f.getdents&&(f.getdents=null);try{f.stream_ops.close&&f.stream_ops.close(f)}catch(p){throw p}finally{C.closeStream(f.fd)}f.fd=null},isClosed(f){return f.fd===null},llseek(f,p,b){if(C.isClosed(f))throw new C.ErrnoError(8);if(!f.seekable||!f.stream_ops.llseek)throw new C.ErrnoError(70);if(b!=0&&b!=1&&b!=2)throw new C.ErrnoError(28);return f.position=f.stream_ops.llseek(f,p,b),f.ungotten=[],f.position},read(f,p,b,x,S){if(x<0||S<0)throw new C.ErrnoError(28);if(C.isClosed(f))throw new C.ErrnoError(8);if((f.flags&2097155)===1)throw new C.ErrnoError(8);if(C.isDir(f.node.mode))throw new C.ErrnoError(31);if(!f.stream_ops.read)throw new C.ErrnoError(28);var I=typeof S<"u";if(!I)S=f.position;else if(!f.seekable)throw new C.ErrnoError(70);var ee=f.stream_ops.read(f,p,b,x,S);return I||(f.position+=ee),ee},write(f,p,b,x,S,I){if(x<0||S<0)throw new C.ErrnoError(28);if(C.isClosed(f))throw new C.ErrnoError(8);if(!(f.flags&2097155))throw new C.ErrnoError(8);if(C.isDir(f.node.mode))throw new C.ErrnoError(31);if(!f.stream_ops.write)throw new C.ErrnoError(28);f.seekable&&f.flags&1024&&C.llseek(f,0,2);var ee=typeof S<"u";if(!ee)S=f.position;else if(!f.seekable)throw new C.ErrnoError(70);var ie=f.stream_ops.write(f,p,b,x,S,I);return ee||(f.position+=ie),ie},allocate(f,p,b){if(C.isClosed(f))throw new C.ErrnoError(8);if(p<0||b<=0)throw new C.ErrnoError(28);if(!(f.flags&2097155))throw new C.ErrnoError(8);if(!C.isFile(f.node.mode)&&!C.isDir(f.node.mode))throw new C.ErrnoError(43);if(!f.stream_ops.allocate)throw new C.ErrnoError(138);f.stream_ops.allocate(f,p,b)},mmap(f,p,b,x,S){if(x&2&&!(S&2)&&(f.flags&2097155)!==2)throw new C.ErrnoError(2);if((f.flags&2097155)===1)throw new C.ErrnoError(2);if(!f.stream_ops.mmap)throw new C.ErrnoError(43);if(!p)throw new C.ErrnoError(28);return f.stream_ops.mmap(f,p,b,x,S)},msync(f,p,b,x,S){return f.stream_ops.msync?f.stream_ops.msync(f,p,b,x,S):0},ioctl(f,p,b){if(!f.stream_ops.ioctl)throw new C.ErrnoError(59);return f.stream_ops.ioctl(f,p,b)},readFile(f,p={}){if(p.flags=p.flags||0,p.encoding=p.encoding||"binary",p.encoding!=="utf8"&&p.encoding!=="binary")throw new Error(`Invalid encoding type "${p.encoding}"`);var b,x=C.open(f,p.flags),S=C.stat(f),I=S.size,ee=new Uint8Array(I);return C.read(x,ee,0,I,0),p.encoding==="utf8"?b=Fe(ee,0):p.encoding==="binary"&&(b=ee),C.close(x),b},writeFile(f,p,b={}){b.flags=b.flags||577;var x=C.open(f,b.flags,b.mode);if(typeof p=="string"){var S=new Uint8Array(Vt(p)+1),I=zt(p,S,0,S.length);C.write(x,S,0,I,void 0,b.canOwn)}else if(ArrayBuffer.isView(p))C.write(x,p,0,p.byteLength,void 0,b.canOwn);else throw new Error("Unsupported data type");C.close(x)},cwd:()=>C.currentPath,chdir(f){var p=C.lookupPath(f,{follow:!0});if(p.node===null)throw new C.ErrnoError(44);if(!C.isDir(p.node.mode))throw new C.ErrnoError(54);var b=C.nodePermissions(p.node,"x");if(b)throw new C.ErrnoError(b);C.currentPath=p.path},createDefaultDirectories(){C.mkdir("/tmp"),C.mkdir("/home"),C.mkdir("/home/web_user")},createDefaultDevices(){C.mkdir("/dev"),C.registerDevice(C.makedev(1,3),{read:()=>0,write:(x,S,I,ee,ie)=>ee}),C.mkdev("/dev/null",C.makedev(1,3)),Fn.register(C.makedev(5,0),Fn.default_tty_ops),Fn.register(C.makedev(6,0),Fn.default_tty1_ops),C.mkdev("/dev/tty",C.makedev(5,0)),C.mkdev("/dev/tty1",C.makedev(6,0));var f=new Uint8Array(1024),p=0,b=()=>(p===0&&(p=Ce(f).byteLength),f[--p]);C.createDevice("/dev","random",b),C.createDevice("/dev","urandom",b),C.mkdir("/dev/shm"),C.mkdir("/dev/shm/tmp")},createSpecialDirectories(){C.mkdir("/proc");var f=C.mkdir("/proc/self");C.mkdir("/proc/self/fd"),C.mount({mount(){var p=C.createNode(f,"fd",16895,73);return p.node_ops={lookup(b,x){var S=+x,I=C.getStreamChecked(S),ee={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>I.path}};return ee.parent=ee,ee}},p}},{},"/proc/self/fd")},createStandardStreams(f,p,b){f?C.createDevice("/dev","stdin",f):C.symlink("/dev/tty","/dev/stdin"),p?C.createDevice("/dev","stdout",null,p):C.symlink("/dev/tty","/dev/stdout"),b?C.createDevice("/dev","stderr",null,b):C.symlink("/dev/tty1","/dev/stderr"),C.open("/dev/stdin",0),C.open("/dev/stdout",1),C.open("/dev/stderr",1)},staticInit(){[44].forEach(f=>{C.genericErrors[f]=new C.ErrnoError(f),C.genericErrors[f].stack="<generic error, no stack>"}),C.nameTable=new Array(4096),C.mount($t,{},"/"),C.createDefaultDirectories(),C.createDefaultDevices(),C.createSpecialDirectories(),C.filesystems={MEMFS:$t}},init(f,p,b){C.initialized=!0,f??=r.stdin,p??=r.stdout,b??=r.stderr,C.createStandardStreams(f,p,b)},quit(){C.initialized=!1;for(var f=0;f<C.streams.length;f++){var p=C.streams[f];p&&C.close(p)}},findObject(f,p){var b=C.analyzePath(f,p);return b.exists?b.object:null},analyzePath(f,p){try{var b=C.lookupPath(f,{follow:!p});f=b.path}catch{}var x={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var b=C.lookupPath(f,{parent:!0});x.parentExists=!0,x.parentPath=b.path,x.parentObject=b.node,x.name=ue.basename(f),b=C.lookupPath(f,{follow:!p}),x.exists=!0,x.path=b.path,x.object=b.node,x.name=b.node.name,x.isRoot=b.path==="/"}catch(S){x.error=S.errno}return x},createPath(f,p,b,x){f=typeof f=="string"?f:C.getPath(f);for(var S=p.split("/").reverse();S.length;){var I=S.pop();if(I){var ee=ue.join2(f,I);try{C.mkdir(ee)}catch{}f=ee}}return ee},createFile(f,p,b,x,S){var I=ue.join2(typeof f=="string"?f:C.getPath(f),p),ee=fo(x,S);return C.create(I,ee)},createDataFile(f,p,b,x,S,I){var ee=p;f&&(f=typeof f=="string"?f:C.getPath(f),ee=p?ue.join2(f,p):f);var ie=fo(x,S),Me=C.create(ee,ie);if(b){if(typeof b=="string"){for(var Ve=new Array(b.length),Ze=0,it=b.length;Ze<it;++Ze)Ve[Ze]=b.charCodeAt(Ze);b=Ve}C.chmod(Me,ie|146);var Ae=C.open(Me,577);C.write(Ae,b,0,b.length,0,I),C.close(Ae),C.chmod(Me,ie)}},createDevice(f,p,b,x){var S=ue.join2(typeof f=="string"?f:C.getPath(f),p),I=fo(!!b,!!x);C.createDevice.major||(C.createDevice.major=64);var ee=C.makedev(C.createDevice.major++,0);return C.registerDevice(ee,{open(ie){ie.seekable=!1},close(ie){x?.buffer?.length&&x(10)},read(ie,Me,Ve,Ze,it){for(var Ae=0,Se=0;Se<Ze;Se++){var Ue;try{Ue=b()}catch{throw new C.ErrnoError(29)}if(Ue===void 0&&Ae===0)throw new C.ErrnoError(6);if(Ue==null)break;Ae++,Me[Ve+Se]=Ue}return Ae&&(ie.node.timestamp=Date.now()),Ae},write(ie,Me,Ve,Ze,it){for(var Ae=0;Ae<Ze;Ae++)try{x(Me[Ve+Ae])}catch{throw new C.ErrnoError(29)}return Ze&&(ie.node.timestamp=Date.now()),Ae}}),C.mkdev(S,I,ee)},forceLoadFile(f){if(f.isDevice||f.isFolder||f.link||f.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{f.contents=T(f.url),f.usedBytes=f.contents.length}catch{throw new C.ErrnoError(29)}},createLazyFile(f,p,b,x,S){class I{constructor(){this.lengthKnown=!1,this.chunks=[]}get(Se){if(!(Se>this.length-1||Se<0)){var Ue=Se%this.chunkSize,ce=Se/this.chunkSize|0;return this.getter(ce)[Ue]}}setDataGetter(Se){this.getter=Se}cacheLength(){var Se=new XMLHttpRequest;if(Se.open("HEAD",b,!1),Se.send(null),!(Se.status>=200&&Se.status<300||Se.status===304))throw new Error("Couldn't load "+b+". Status: "+Se.status);var Ue=Number(Se.getResponseHeader("Content-length")),ce,ge=(ce=Se.getResponseHeader("Accept-Ranges"))&&ce==="bytes",_e=(ce=Se.getResponseHeader("Content-Encoding"))&&ce==="gzip",We=1024*1024;ge||(We=Ue);var $e=(Be,bt)=>{if(Be>bt)throw new Error("invalid range ("+Be+", "+bt+") or no bytes requested!");if(bt>Ue-1)throw new Error("only "+Ue+" bytes available! programmer error!");var F=new XMLHttpRequest;if(F.open("GET",b,!1),Ue!==We&&F.setRequestHeader("Range","bytes="+Be+"-"+bt),F.responseType="arraybuffer",F.overrideMimeType&&F.overrideMimeType("text/plain; charset=x-user-defined"),F.send(null),!(F.status>=200&&F.status<300||F.status===304))throw new Error("Couldn't load "+b+". Status: "+F.status);return F.response!==void 0?new Uint8Array(F.response||[]):yn(F.responseText||"")},we=this;we.setDataGetter(Be=>{var bt=Be*We,F=(Be+1)*We-1;if(F=Math.min(F,Ue-1),typeof we.chunks[Be]>"u"&&(we.chunks[Be]=$e(bt,F)),typeof we.chunks[Be]>"u")throw new Error("doXHR failed!");return we.chunks[Be]}),(_e||!Ue)&&(We=Ue=1,Ue=this.getter(0).length,We=Ue,A("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Ue,this._chunkSize=We,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){if(!d)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var ee=new I,ie={isDevice:!1,contents:ee}}else var ie={isDevice:!1,url:b};var Me=C.createFile(f,p,ie,x,S);ie.contents?Me.contents=ie.contents:ie.url&&(Me.contents=null,Me.url=ie.url),Object.defineProperties(Me,{usedBytes:{get:function(){return this.contents.length}}});var Ve={},Ze=Object.keys(Me.stream_ops);Ze.forEach(Ae=>{var Se=Me.stream_ops[Ae];Ve[Ae]=(...Ue)=>(C.forceLoadFile(Me),Se(...Ue))});function it(Ae,Se,Ue,ce,ge){var _e=Ae.node.contents;if(ge>=_e.length)return 0;var We=Math.min(_e.length-ge,ce);if(_e.slice)for(var $e=0;$e<We;$e++)Se[Ue+$e]=_e[ge+$e];else for(var $e=0;$e<We;$e++)Se[Ue+$e]=_e.get(ge+$e);return We}return Ve.read=(Ae,Se,Ue,ce,ge)=>(C.forceLoadFile(Me),it(Ae,Se,Ue,ce,ge)),Ve.mmap=(Ae,Se,Ue,ce,ge)=>{C.forceLoadFile(Me);var _e=wr(Se);if(!_e)throw new C.ErrnoError(48);return it(Ae,J,_e,Se,Ue),{ptr:_e,allocated:!0}},Me.stream_ops=Ve,Me}},xp=(f,p)=>f?Fe(W,f,p):"",ln={DEFAULT_POLLMASK:5,calculateAt(f,p,b){if(ue.isAbs(p))return p;var x;if(f===-100)x=C.cwd();else{var S=ln.getStreamFromFD(f);x=S.path}if(p.length==0){if(!b)throw new C.ErrnoError(44);return x}return ue.join2(x,p)},doStat(f,p,b){var x=f(p);oe[b>>2]=x.dev,oe[b+4>>2]=x.mode,U[b+8>>2]=x.nlink,oe[b+12>>2]=x.uid,oe[b+16>>2]=x.gid,oe[b+20>>2]=x.rdev,ne[b+24>>3]=BigInt(x.size),oe[b+32>>2]=4096,oe[b+36>>2]=x.blocks;var S=x.atime.getTime(),I=x.mtime.getTime(),ee=x.ctime.getTime();return ne[b+40>>3]=BigInt(Math.floor(S/1e3)),U[b+48>>2]=S%1e3*1e3*1e3,ne[b+56>>3]=BigInt(Math.floor(I/1e3)),U[b+64>>2]=I%1e3*1e3*1e3,ne[b+72>>3]=BigInt(Math.floor(ee/1e3)),U[b+80>>2]=ee%1e3*1e3*1e3,ne[b+88>>3]=BigInt(x.ino),0},doMsync(f,p,b,x,S){if(!C.isFile(p.node.mode))throw new C.ErrnoError(43);if(x&2)return 0;var I=W.slice(f,f+b);C.msync(p,I,S,b,x)},getStreamFromFD(f){var p=C.getStreamChecked(f);return p},varargs:void 0,getStr(f){var p=xp(f);return p}};function wp(f,p){try{return f=ln.getStr(f),C.chmod(f,p),0}catch(b){if(typeof C>"u"||b.name!=="ErrnoError")throw b;return-b.errno}}function Sp(f,p,b,x){try{if(p=ln.getStr(p),p=ln.calculateAt(f,p),b&-8)return-28;var S=C.lookupPath(p,{follow:!0}),I=S.node;if(!I)return-44;var ee="";return b&4&&(ee+="r"),b&2&&(ee+="w"),b&1&&(ee+="x"),ee&&C.nodePermissions(I,ee)?-2:0}catch(ie){if(typeof C>"u"||ie.name!=="ErrnoError")throw ie;return-ie.errno}}function Ep(f,p){try{return C.fchmod(f,p),0}catch(b){if(typeof C>"u"||b.name!=="ErrnoError")throw b;return-b.errno}}function ed(f,p,b){try{return C.fchown(f,p,b),0}catch(x){if(typeof C>"u"||x.name!=="ErrnoError")throw x;return-x.errno}}function yl(){var f=oe[+ln.varargs>>2];return ln.varargs+=4,f}var ps=yl;function td(f,p,b){ln.varargs=b;try{var x=ln.getStreamFromFD(f);switch(p){case 0:{var S=yl();if(S<0)return-28;for(;C.streams[S];)S++;var I;return I=C.dupStream(x,S),I.fd}case 1:case 2:return 0;case 3:return x.flags;case 4:{var S=yl();return x.flags|=S,0}case 12:{var S=ps(),ee=0;return Z[S+ee>>1]=2,0}case 13:case 14:return 0}return-28}catch(ie){if(typeof C>"u"||ie.name!=="ErrnoError")throw ie;return-ie.errno}}function vl(f,p){try{var b=ln.getStreamFromFD(f);return ln.doStat(C.stat,b.path,p)}catch(x){if(typeof C>"u"||x.name!=="ErrnoError")throw x;return-x.errno}}var by=0x20000000000000,bl=-0x20000000000000,po=f=>f<bl||f>by?NaN:Number(f);function yc(f,p){p=po(p);try{return isNaN(p)?61:(C.ftruncate(f,p),0)}catch(b){if(typeof C>"u"||b.name!=="ErrnoError")throw b;return-b.errno}}var ho=(f,p,b)=>zt(f,W,p,b);function _y(f,p){try{if(p===0)return-28;var b=C.cwd(),x=Vt(b)+1;return p<x?-68:(ho(b,f,p),x)}catch(S){if(typeof C>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}function xy(f,p,b){ln.varargs=b;try{var x=ln.getStreamFromFD(f);switch(p){case 21509:return x.tty?0:-59;case 21505:{if(!x.tty)return-59;if(x.tty.ops.ioctl_tcgets){var S=x.tty.ops.ioctl_tcgets(x),I=ps();oe[I>>2]=S.c_iflag||0,oe[I+4>>2]=S.c_oflag||0,oe[I+8>>2]=S.c_cflag||0,oe[I+12>>2]=S.c_lflag||0;for(var ee=0;ee<32;ee++)J[I+ee+17]=S.c_cc[ee]||0;return 0}return 0}case 21510:case 21511:case 21512:return x.tty?0:-59;case 21506:case 21507:case 21508:{if(!x.tty)return-59;if(x.tty.ops.ioctl_tcsets){for(var I=ps(),ie=oe[I>>2],Me=oe[I+4>>2],Ve=oe[I+8>>2],Ze=oe[I+12>>2],it=[],ee=0;ee<32;ee++)it.push(J[I+ee+17]);return x.tty.ops.ioctl_tcsets(x.tty,p,{c_iflag:ie,c_oflag:Me,c_cflag:Ve,c_lflag:Ze,c_cc:it})}return 0}case 21519:{if(!x.tty)return-59;var I=ps();return oe[I>>2]=0,0}case 21520:return x.tty?-28:-59;case 21531:{var I=ps();return C.ioctl(x,p,I)}case 21523:{if(!x.tty)return-59;if(x.tty.ops.ioctl_tiocgwinsz){var Ae=x.tty.ops.ioctl_tiocgwinsz(x.tty),I=ps();Z[I>>1]=Ae[0],Z[I+2>>1]=Ae[1]}return 0}case 21524:return x.tty?0:-59;case 21515:return x.tty?0:-59;default:return-28}}catch(Se){if(typeof C>"u"||Se.name!=="ErrnoError")throw Se;return-Se.errno}}function wy(f,p){try{return f=ln.getStr(f),ln.doStat(C.lstat,f,p)}catch(b){if(typeof C>"u"||b.name!=="ErrnoError")throw b;return-b.errno}}function $o(f,p,b){try{return p=ln.getStr(p),p=ln.calculateAt(f,p),p=ue.normalize(p),p[p.length-1]==="/"&&(p=p.substr(0,p.length-1)),C.mkdir(p,b,0),0}catch(x){if(typeof C>"u"||x.name!=="ErrnoError")throw x;return-x.errno}}function Np(f,p,b,x){try{p=ln.getStr(p);var S=x&256,I=x&4096;return x=x&-6401,p=ln.calculateAt(f,p,I),ln.doStat(S?C.lstat:C.stat,p,b)}catch(ee){if(typeof C>"u"||ee.name!=="ErrnoError")throw ee;return-ee.errno}}function kp(f,p,b,x){ln.varargs=x;try{p=ln.getStr(p),p=ln.calculateAt(f,p);var S=x?yl():0;return C.open(p,b,S).fd}catch(I){if(typeof C>"u"||I.name!=="ErrnoError")throw I;return-I.errno}}function Sy(f,p,b,x){try{if(p=ln.getStr(p),p=ln.calculateAt(f,p),x<=0)return-28;var S=C.readlink(p),I=Math.min(x,Vt(S)),ee=J[b+I];return ho(S,b,x+1),J[b+I]=ee,I}catch(ie){if(typeof C>"u"||ie.name!=="ErrnoError")throw ie;return-ie.errno}}function Ip(f){try{return f=ln.getStr(f),C.rmdir(f),0}catch(p){if(typeof C>"u"||p.name!=="ErrnoError")throw p;return-p.errno}}function qp(f,p){try{return f=ln.getStr(f),ln.doStat(C.stat,f,p)}catch(b){if(typeof C>"u"||b.name!=="ErrnoError")throw b;return-b.errno}}function Tp(f,p,b){try{return p=ln.getStr(p),p=ln.calculateAt(f,p),b===0?C.unlink(p):b===512?C.rmdir(p):pt("Invalid flags passed to unlinkat"),0}catch(x){if(typeof C>"u"||x.name!=="ErrnoError")throw x;return-x.errno}}var nd=f=>U[f>>2]+oe[f+4>>2]*0x100000000;function Ey(f,p,b,x){try{p=ln.getStr(p),p=ln.calculateAt(f,p,!0);var S=Date.now(),I,ee;if(!b)I=S,ee=S;else{var ie=nd(b),Me=oe[b+8>>2];Me==0x3fffffff?I=S:Me==0x3ffffffe?I=-1:I=ie*1e3+Me/(1e3*1e3),b+=16,ie=nd(b),Me=oe[b+8>>2],Me==0x3fffffff?ee=S:Me==0x3ffffffe?ee=-1:ee=ie*1e3+Me/(1e3*1e3)}return(ee!=-1||I!=-1)&&C.utime(p,I,ee),0}catch(Ve){if(typeof C>"u"||Ve.name!=="ErrnoError")throw Ve;return-Ve.errno}}var Ny=1,cr=()=>Ny,ky=f=>f%4===0&&(f%100!==0||f%400===0),rd=[0,31,60,91,121,152,182,213,244,274,305,335],Op=[0,31,59,90,120,151,181,212,243,273,304,334],vc=f=>{var p=ky(f.getFullYear()),b=p?rd:Op,x=b[f.getMonth()]+f.getDate()-1;return x};function Iy(f,p){f=po(f);var b=new Date(f*1e3);oe[p>>2]=b.getSeconds(),oe[p+4>>2]=b.getMinutes(),oe[p+8>>2]=b.getHours(),oe[p+12>>2]=b.getDate(),oe[p+16>>2]=b.getMonth(),oe[p+20>>2]=b.getFullYear()-1900,oe[p+24>>2]=b.getDay();var x=vc(b)|0;oe[p+28>>2]=x,oe[p+36>>2]=-(b.getTimezoneOffset()*60);var S=new Date(b.getFullYear(),0,1),I=new Date(b.getFullYear(),6,1).getTimezoneOffset(),ee=S.getTimezoneOffset(),ie=(I!=ee&&b.getTimezoneOffset()==Math.min(ee,I))|0;oe[p+32>>2]=ie}function Cp(f,p,b,x,S,I,ee){S=po(S);try{if(isNaN(S))return 61;var ie=ln.getStreamFromFD(x),Me=C.mmap(ie,f,S,p,b),Ve=Me.ptr;return oe[I>>2]=Me.allocated,U[ee>>2]=Ve,0}catch(Ze){if(typeof C>"u"||Ze.name!=="ErrnoError")throw Ze;return-Ze.errno}}function bc(f,p,b,x,S,I){I=po(I);try{var ee=ln.getStreamFromFD(S);b&2&&ln.doMsync(f,ee,p,x,I)}catch(ie){if(typeof C>"u"||ie.name!=="ErrnoError")throw ie;return-ie.errno}}var hs=(f,p,b,x)=>{var S=new Date().getFullYear(),I=new Date(S,0,1),ee=new Date(S,6,1),ie=I.getTimezoneOffset(),Me=ee.getTimezoneOffset(),Ve=Math.max(ie,Me);U[f>>2]=Ve*60,oe[p>>2]=+(ie!=Me);var Ze=Se=>{var Ue=Se>=0?"-":"+",ce=Math.abs(Se),ge=String(Math.floor(ce/60)).padStart(2,"0"),_e=String(ce%60).padStart(2,"0");return`UTC${Ue}${ge}${_e}`},it=Ze(ie),Ae=Ze(Me);Me<ie?(ho(it,b,17),ho(Ae,x,17)):(ho(it,x,17),ho(Ae,b,17))},qy=()=>Date.now(),Ni;Ni=()=>performance.now();var Ty=()=>0x80000000,Oy=f=>{var p=L.buffer,b=(f-p.byteLength+65535)/65536;try{return L.grow(b),B(),1}catch{}},Cy=f=>{var p=W.length;f>>>=0;var b=Ty();if(f>b)return!1;for(var x=1;x<=4;x*=2){var S=p*(1+.2/x);S=Math.min(S,f+0x6000000);var I=Math.min(b,Ui(Math.max(f,S),65536)),ee=Oy(I);if(ee)return!0}return!1},ya={},_c=()=>_||"./this.program",Ms=()=>{if(!Ms.strings){var f=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",p={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:f,_:_c()};for(var b in ya)ya[b]===void 0?delete p[b]:p[b]=ya[b];var x=[];for(var b in p)x.push(`${b}=${p[b]}`);Ms.strings=x}return Ms.strings},xc=(f,p)=>{for(var b=0;b<f.length;++b)J[p++]=f.charCodeAt(b);J[p]=0},Ry=(f,p)=>{var b=0;return Ms().forEach((x,S)=>{var I=p+b;U[f+S*4>>2]=I,xc(x,I),b+=x.length+1}),0},Ay=(f,p)=>{var b=Ms();U[f>>2]=b.length;var x=0;return b.forEach(S=>x+=S.length+1),U[p>>2]=x,0};function id(f){try{var p=ln.getStreamFromFD(f);return C.close(p),0}catch(b){if(typeof C>"u"||b.name!=="ErrnoError")throw b;return b.errno}}function Rp(f,p){try{var b=0,x=0,S=0,I=ln.getStreamFromFD(f),ee=I.tty?2:C.isDir(I.mode)?3:C.isLink(I.mode)?7:4;return J[p]=ee,Z[p+2>>1]=S,ne[p+8>>3]=BigInt(b),ne[p+16>>3]=BigInt(x),0}catch(ie){if(typeof C>"u"||ie.name!=="ErrnoError")throw ie;return ie.errno}}var sd=(f,p,b,x)=>{for(var S=0,I=0;I<b;I++){var ee=U[p>>2],ie=U[p+4>>2];p+=8;var Me=C.read(f,J,ee,ie,x);if(Me<0)return-1;if(S+=Me,Me<ie)break}return S};function _l(f,p,b,x){try{var S=ln.getStreamFromFD(f),I=sd(S,p,b);return U[x>>2]=I,0}catch(ee){if(typeof C>"u"||ee.name!=="ErrnoError")throw ee;return ee.errno}}function jy(f,p,b,x){p=po(p);try{if(isNaN(p))return 61;var S=ln.getStreamFromFD(f);return C.llseek(S,p,b),ne[x>>3]=BigInt(S.position),S.getdents&&p===0&&b===0&&(S.getdents=null),0}catch(I){if(typeof C>"u"||I.name!=="ErrnoError")throw I;return I.errno}}function od(f){try{var p=ln.getStreamFromFD(f);return p.stream_ops?.fsync?p.stream_ops.fsync(p):0}catch(b){if(typeof C>"u"||b.name!=="ErrnoError")throw b;return b.errno}}var qn=(f,p,b,x)=>{for(var S=0,I=0;I<b;I++){var ee=U[p>>2],ie=U[p+4>>2];p+=8;var Me=C.write(f,J,ee,ie,x);if(Me<0)return-1;if(S+=Me,Me<ie)break}return S};function Ap(f,p,b,x){try{var S=ln.getStreamFromFD(f),I=qn(S,p,b);return U[x>>2]=I,0}catch(ee){if(typeof C>"u"||ee.name!=="ErrnoError")throw ee;return ee.errno}}C.createPreloadedFile=gl,C.staticInit();var ad={__syscall_chmod:wp,__syscall_faccessat:Sp,__syscall_fchmod:Ep,__syscall_fchown32:ed,__syscall_fcntl64:td,__syscall_fstat64:vl,__syscall_ftruncate64:yc,__syscall_getcwd:_y,__syscall_ioctl:xy,__syscall_lstat64:wy,__syscall_mkdirat:$o,__syscall_newfstatat:Np,__syscall_openat:kp,__syscall_readlinkat:Sy,__syscall_rmdir:Ip,__syscall_stat64:qp,__syscall_unlinkat:Tp,__syscall_utimensat:Ey,_emscripten_get_now_is_monotonic:cr,_localtime_js:Iy,_mmap_js:Cp,_munmap_js:bc,_tzset_js:hs,emscripten_date_now:qy,emscripten_get_now:Ni,emscripten_resize_heap:Cy,environ_get:Ry,environ_sizes_get:Ay,fd_close:id,fd_fdstat_get:Rp,fd_read:_l,fd_seek:jy,fd_sync:od,fd_write:Ap,memory:L},re=hn();r._sqlite3_status64=(f,p,b,x)=>(r._sqlite3_status64=re.sqlite3_status64)(f,p,b,x),r._sqlite3_status=(f,p,b,x)=>(r._sqlite3_status=re.sqlite3_status)(f,p,b,x),r._sqlite3_db_status=(f,p,b,x,S)=>(r._sqlite3_db_status=re.sqlite3_db_status)(f,p,b,x,S),r._sqlite3_msize=f=>(r._sqlite3_msize=re.sqlite3_msize)(f),r._sqlite3_vfs_find=f=>(r._sqlite3_vfs_find=re.sqlite3_vfs_find)(f),r._sqlite3_initialize=()=>(r._sqlite3_initialize=re.sqlite3_initialize)(),r._sqlite3_malloc=f=>(r._sqlite3_malloc=re.sqlite3_malloc)(f),r._sqlite3_free=f=>(r._sqlite3_free=re.sqlite3_free)(f),r._sqlite3_vfs_register=(f,p)=>(r._sqlite3_vfs_register=re.sqlite3_vfs_register)(f,p),r._sqlite3_vfs_unregister=f=>(r._sqlite3_vfs_unregister=re.sqlite3_vfs_unregister)(f),r._sqlite3_malloc64=f=>(r._sqlite3_malloc64=re.sqlite3_malloc64)(f),r._sqlite3_realloc=(f,p)=>(r._sqlite3_realloc=re.sqlite3_realloc)(f,p),r._sqlite3_realloc64=(f,p)=>(r._sqlite3_realloc64=re.sqlite3_realloc64)(f,p),r._sqlite3_value_text=f=>(r._sqlite3_value_text=re.sqlite3_value_text)(f),r._sqlite3_randomness=(f,p)=>(r._sqlite3_randomness=re.sqlite3_randomness)(f,p),r._sqlite3_stricmp=(f,p)=>(r._sqlite3_stricmp=re.sqlite3_stricmp)(f,p),r._sqlite3_strnicmp=(f,p,b)=>(r._sqlite3_strnicmp=re.sqlite3_strnicmp)(f,p,b),r._sqlite3_uri_parameter=(f,p)=>(r._sqlite3_uri_parameter=re.sqlite3_uri_parameter)(f,p),r._sqlite3_uri_boolean=(f,p,b)=>(r._sqlite3_uri_boolean=re.sqlite3_uri_boolean)(f,p,b),r._sqlite3_serialize=(f,p,b,x)=>(r._sqlite3_serialize=re.sqlite3_serialize)(f,p,b,x),r._sqlite3_prepare_v2=(f,p,b,x,S)=>(r._sqlite3_prepare_v2=re.sqlite3_prepare_v2)(f,p,b,x,S),r._sqlite3_step=f=>(r._sqlite3_step=re.sqlite3_step)(f),r._sqlite3_column_int64=(f,p)=>(r._sqlite3_column_int64=re.sqlite3_column_int64)(f,p),r._sqlite3_reset=f=>(r._sqlite3_reset=re.sqlite3_reset)(f),r._sqlite3_exec=(f,p,b,x,S)=>(r._sqlite3_exec=re.sqlite3_exec)(f,p,b,x,S),r._sqlite3_column_int=(f,p)=>(r._sqlite3_column_int=re.sqlite3_column_int)(f,p),r._sqlite3_finalize=f=>(r._sqlite3_finalize=re.sqlite3_finalize)(f),r._sqlite3_file_control=(f,p,b,x)=>(r._sqlite3_file_control=re.sqlite3_file_control)(f,p,b,x),r._sqlite3_column_name=(f,p)=>(r._sqlite3_column_name=re.sqlite3_column_name)(f,p),r._sqlite3_column_text=(f,p)=>(r._sqlite3_column_text=re.sqlite3_column_text)(f,p),r._sqlite3_column_type=(f,p)=>(r._sqlite3_column_type=re.sqlite3_column_type)(f,p),r._sqlite3_errmsg=f=>(r._sqlite3_errmsg=re.sqlite3_errmsg)(f),r._sqlite3_deserialize=(f,p,b,x,S,I)=>(r._sqlite3_deserialize=re.sqlite3_deserialize)(f,p,b,x,S,I),r._sqlite3_clear_bindings=f=>(r._sqlite3_clear_bindings=re.sqlite3_clear_bindings)(f),r._sqlite3_value_blob=f=>(r._sqlite3_value_blob=re.sqlite3_value_blob)(f),r._sqlite3_value_bytes=f=>(r._sqlite3_value_bytes=re.sqlite3_value_bytes)(f),r._sqlite3_value_double=f=>(r._sqlite3_value_double=re.sqlite3_value_double)(f),r._sqlite3_value_int=f=>(r._sqlite3_value_int=re.sqlite3_value_int)(f),r._sqlite3_value_int64=f=>(r._sqlite3_value_int64=re.sqlite3_value_int64)(f),r._sqlite3_value_subtype=f=>(r._sqlite3_value_subtype=re.sqlite3_value_subtype)(f),r._sqlite3_value_pointer=(f,p)=>(r._sqlite3_value_pointer=re.sqlite3_value_pointer)(f,p),r._sqlite3_value_type=f=>(r._sqlite3_value_type=re.sqlite3_value_type)(f),r._sqlite3_value_nochange=f=>(r._sqlite3_value_nochange=re.sqlite3_value_nochange)(f),r._sqlite3_value_frombind=f=>(r._sqlite3_value_frombind=re.sqlite3_value_frombind)(f),r._sqlite3_value_dup=f=>(r._sqlite3_value_dup=re.sqlite3_value_dup)(f),r._sqlite3_value_free=f=>(r._sqlite3_value_free=re.sqlite3_value_free)(f),r._sqlite3_result_blob=(f,p,b,x)=>(r._sqlite3_result_blob=re.sqlite3_result_blob)(f,p,b,x),r._sqlite3_result_error_toobig=f=>(r._sqlite3_result_error_toobig=re.sqlite3_result_error_toobig)(f),r._sqlite3_result_error_nomem=f=>(r._sqlite3_result_error_nomem=re.sqlite3_result_error_nomem)(f),r._sqlite3_result_double=(f,p)=>(r._sqlite3_result_double=re.sqlite3_result_double)(f,p),r._sqlite3_result_error=(f,p,b)=>(r._sqlite3_result_error=re.sqlite3_result_error)(f,p,b),r._sqlite3_result_int=(f,p)=>(r._sqlite3_result_int=re.sqlite3_result_int)(f,p),r._sqlite3_result_int64=(f,p)=>(r._sqlite3_result_int64=re.sqlite3_result_int64)(f,p),r._sqlite3_result_null=f=>(r._sqlite3_result_null=re.sqlite3_result_null)(f),r._sqlite3_result_pointer=(f,p,b,x)=>(r._sqlite3_result_pointer=re.sqlite3_result_pointer)(f,p,b,x),r._sqlite3_result_subtype=(f,p)=>(r._sqlite3_result_subtype=re.sqlite3_result_subtype)(f,p),r._sqlite3_result_text=(f,p,b,x)=>(r._sqlite3_result_text=re.sqlite3_result_text)(f,p,b,x),r._sqlite3_result_zeroblob=(f,p)=>(r._sqlite3_result_zeroblob=re.sqlite3_result_zeroblob)(f,p),r._sqlite3_result_zeroblob64=(f,p)=>(r._sqlite3_result_zeroblob64=re.sqlite3_result_zeroblob64)(f,p),r._sqlite3_result_error_code=(f,p)=>(r._sqlite3_result_error_code=re.sqlite3_result_error_code)(f,p),r._sqlite3_user_data=f=>(r._sqlite3_user_data=re.sqlite3_user_data)(f),r._sqlite3_context_db_handle=f=>(r._sqlite3_context_db_handle=re.sqlite3_context_db_handle)(f),r._sqlite3_vtab_nochange=f=>(r._sqlite3_vtab_nochange=re.sqlite3_vtab_nochange)(f),r._sqlite3_vtab_in_first=(f,p)=>(r._sqlite3_vtab_in_first=re.sqlite3_vtab_in_first)(f,p),r._sqlite3_vtab_in_next=(f,p)=>(r._sqlite3_vtab_in_next=re.sqlite3_vtab_in_next)(f,p),r._sqlite3_aggregate_context=(f,p)=>(r._sqlite3_aggregate_context=re.sqlite3_aggregate_context)(f,p),r._sqlite3_get_auxdata=(f,p)=>(r._sqlite3_get_auxdata=re.sqlite3_get_auxdata)(f,p),r._sqlite3_set_auxdata=(f,p,b,x)=>(r._sqlite3_set_auxdata=re.sqlite3_set_auxdata)(f,p,b,x),r._sqlite3_column_count=f=>(r._sqlite3_column_count=re.sqlite3_column_count)(f),r._sqlite3_data_count=f=>(r._sqlite3_data_count=re.sqlite3_data_count)(f),r._sqlite3_column_blob=(f,p)=>(r._sqlite3_column_blob=re.sqlite3_column_blob)(f,p),r._sqlite3_column_bytes=(f,p)=>(r._sqlite3_column_bytes=re.sqlite3_column_bytes)(f,p),r._sqlite3_column_double=(f,p)=>(r._sqlite3_column_double=re.sqlite3_column_double)(f,p),r._sqlite3_column_value=(f,p)=>(r._sqlite3_column_value=re.sqlite3_column_value)(f,p),r._sqlite3_column_decltype=(f,p)=>(r._sqlite3_column_decltype=re.sqlite3_column_decltype)(f,p),r._sqlite3_bind_blob=(f,p,b,x,S)=>(r._sqlite3_bind_blob=re.sqlite3_bind_blob)(f,p,b,x,S),r._sqlite3_bind_double=(f,p,b)=>(r._sqlite3_bind_double=re.sqlite3_bind_double)(f,p,b),r._sqlite3_bind_int=(f,p,b)=>(r._sqlite3_bind_int=re.sqlite3_bind_int)(f,p,b),r._sqlite3_bind_int64=(f,p,b)=>(r._sqlite3_bind_int64=re.sqlite3_bind_int64)(f,p,b),r._sqlite3_bind_null=(f,p)=>(r._sqlite3_bind_null=re.sqlite3_bind_null)(f,p),r._sqlite3_bind_pointer=(f,p,b,x,S)=>(r._sqlite3_bind_pointer=re.sqlite3_bind_pointer)(f,p,b,x,S),r._sqlite3_bind_text=(f,p,b,x,S)=>(r._sqlite3_bind_text=re.sqlite3_bind_text)(f,p,b,x,S),r._sqlite3_bind_parameter_count=f=>(r._sqlite3_bind_parameter_count=re.sqlite3_bind_parameter_count)(f),r._sqlite3_bind_parameter_name=(f,p)=>(r._sqlite3_bind_parameter_name=re.sqlite3_bind_parameter_name)(f,p),r._sqlite3_bind_parameter_index=(f,p)=>(r._sqlite3_bind_parameter_index=re.sqlite3_bind_parameter_index)(f,p),r._sqlite3_db_handle=f=>(r._sqlite3_db_handle=re.sqlite3_db_handle)(f),r._sqlite3_stmt_readonly=f=>(r._sqlite3_stmt_readonly=re.sqlite3_stmt_readonly)(f),r._sqlite3_stmt_isexplain=f=>(r._sqlite3_stmt_isexplain=re.sqlite3_stmt_isexplain)(f),r._sqlite3_stmt_explain=(f,p)=>(r._sqlite3_stmt_explain=re.sqlite3_stmt_explain)(f,p),r._sqlite3_stmt_busy=f=>(r._sqlite3_stmt_busy=re.sqlite3_stmt_busy)(f),r._sqlite3_stmt_status=(f,p,b)=>(r._sqlite3_stmt_status=re.sqlite3_stmt_status)(f,p,b),r._sqlite3_sql=f=>(r._sqlite3_sql=re.sqlite3_sql)(f),r._sqlite3_expanded_sql=f=>(r._sqlite3_expanded_sql=re.sqlite3_expanded_sql)(f),r._sqlite3_preupdate_old=(f,p,b)=>(r._sqlite3_preupdate_old=re.sqlite3_preupdate_old)(f,p,b),r._sqlite3_preupdate_count=f=>(r._sqlite3_preupdate_count=re.sqlite3_preupdate_count)(f),r._sqlite3_preupdate_depth=f=>(r._sqlite3_preupdate_depth=re.sqlite3_preupdate_depth)(f),r._sqlite3_preupdate_blobwrite=f=>(r._sqlite3_preupdate_blobwrite=re.sqlite3_preupdate_blobwrite)(f),r._sqlite3_preupdate_new=(f,p,b)=>(r._sqlite3_preupdate_new=re.sqlite3_preupdate_new)(f,p,b),r._sqlite3_value_numeric_type=f=>(r._sqlite3_value_numeric_type=re.sqlite3_value_numeric_type)(f),r._sqlite3_set_authorizer=(f,p,b)=>(r._sqlite3_set_authorizer=re.sqlite3_set_authorizer)(f,p,b),r._sqlite3_strglob=(f,p)=>(r._sqlite3_strglob=re.sqlite3_strglob)(f,p),r._sqlite3_strlike=(f,p,b)=>(r._sqlite3_strlike=re.sqlite3_strlike)(f,p,b),r._sqlite3_auto_extension=f=>(r._sqlite3_auto_extension=re.sqlite3_auto_extension)(f),r._sqlite3_cancel_auto_extension=f=>(r._sqlite3_cancel_auto_extension=re.sqlite3_cancel_auto_extension)(f),r._sqlite3_reset_auto_extension=()=>(r._sqlite3_reset_auto_extension=re.sqlite3_reset_auto_extension)(),r._sqlite3_prepare_v3=(f,p,b,x,S,I)=>(r._sqlite3_prepare_v3=re.sqlite3_prepare_v3)(f,p,b,x,S,I),r._sqlite3_create_module=(f,p,b,x)=>(r._sqlite3_create_module=re.sqlite3_create_module)(f,p,b,x),r._sqlite3_create_module_v2=(f,p,b,x,S)=>(r._sqlite3_create_module_v2=re.sqlite3_create_module_v2)(f,p,b,x,S),r._sqlite3_drop_modules=(f,p)=>(r._sqlite3_drop_modules=re.sqlite3_drop_modules)(f,p),r._sqlite3_declare_vtab=(f,p)=>(r._sqlite3_declare_vtab=re.sqlite3_declare_vtab)(f,p),r._sqlite3_vtab_on_conflict=f=>(r._sqlite3_vtab_on_conflict=re.sqlite3_vtab_on_conflict)(f),r._sqlite3_vtab_collation=(f,p)=>(r._sqlite3_vtab_collation=re.sqlite3_vtab_collation)(f,p),r._sqlite3_vtab_in=(f,p,b)=>(r._sqlite3_vtab_in=re.sqlite3_vtab_in)(f,p,b),r._sqlite3_vtab_rhs_value=(f,p,b)=>(r._sqlite3_vtab_rhs_value=re.sqlite3_vtab_rhs_value)(f,p,b),r._sqlite3_vtab_distinct=f=>(r._sqlite3_vtab_distinct=re.sqlite3_vtab_distinct)(f),r._sqlite3_keyword_name=(f,p,b)=>(r._sqlite3_keyword_name=re.sqlite3_keyword_name)(f,p,b),r._sqlite3_keyword_count=()=>(r._sqlite3_keyword_count=re.sqlite3_keyword_count)(),r._sqlite3_keyword_check=(f,p)=>(r._sqlite3_keyword_check=re.sqlite3_keyword_check)(f,p),r._sqlite3_complete=f=>(r._sqlite3_complete=re.sqlite3_complete)(f),r._sqlite3_libversion=()=>(r._sqlite3_libversion=re.sqlite3_libversion)(),r._sqlite3_libversion_number=()=>(r._sqlite3_libversion_number=re.sqlite3_libversion_number)(),r._sqlite3_shutdown=()=>(r._sqlite3_shutdown=re.sqlite3_shutdown)(),r._sqlite3_last_insert_rowid=f=>(r._sqlite3_last_insert_rowid=re.sqlite3_last_insert_rowid)(f),r._sqlite3_set_last_insert_rowid=(f,p)=>(r._sqlite3_set_last_insert_rowid=re.sqlite3_set_last_insert_rowid)(f,p),r._sqlite3_changes64=f=>(r._sqlite3_changes64=re.sqlite3_changes64)(f),r._sqlite3_changes=f=>(r._sqlite3_changes=re.sqlite3_changes)(f),r._sqlite3_total_changes64=f=>(r._sqlite3_total_changes64=re.sqlite3_total_changes64)(f),r._sqlite3_total_changes=f=>(r._sqlite3_total_changes=re.sqlite3_total_changes)(f),r._sqlite3_txn_state=(f,p)=>(r._sqlite3_txn_state=re.sqlite3_txn_state)(f,p),r._sqlite3_close_v2=f=>(r._sqlite3_close_v2=re.sqlite3_close_v2)(f),r._sqlite3_busy_handler=(f,p,b)=>(r._sqlite3_busy_handler=re.sqlite3_busy_handler)(f,p,b),r._sqlite3_progress_handler=(f,p,b,x)=>(r._sqlite3_progress_handler=re.sqlite3_progress_handler)(f,p,b,x),r._sqlite3_busy_timeout=(f,p)=>(r._sqlite3_busy_timeout=re.sqlite3_busy_timeout)(f,p),r._sqlite3_interrupt=f=>(r._sqlite3_interrupt=re.sqlite3_interrupt)(f),r._sqlite3_is_interrupted=f=>(r._sqlite3_is_interrupted=re.sqlite3_is_interrupted)(f),r._sqlite3_create_function=(f,p,b,x,S,I,ee,ie)=>(r._sqlite3_create_function=re.sqlite3_create_function)(f,p,b,x,S,I,ee,ie),r._sqlite3_create_function_v2=(f,p,b,x,S,I,ee,ie,Me)=>(r._sqlite3_create_function_v2=re.sqlite3_create_function_v2)(f,p,b,x,S,I,ee,ie,Me),r._sqlite3_create_window_function=(f,p,b,x,S,I,ee,ie,Me,Ve)=>(r._sqlite3_create_window_function=re.sqlite3_create_window_function)(f,p,b,x,S,I,ee,ie,Me,Ve),r._sqlite3_overload_function=(f,p,b)=>(r._sqlite3_overload_function=re.sqlite3_overload_function)(f,p,b),r._sqlite3_trace_v2=(f,p,b,x)=>(r._sqlite3_trace_v2=re.sqlite3_trace_v2)(f,p,b,x),r._sqlite3_commit_hook=(f,p,b)=>(r._sqlite3_commit_hook=re.sqlite3_commit_hook)(f,p,b),r._sqlite3_update_hook=(f,p,b)=>(r._sqlite3_update_hook=re.sqlite3_update_hook)(f,p,b),r._sqlite3_rollback_hook=(f,p,b)=>(r._sqlite3_rollback_hook=re.sqlite3_rollback_hook)(f,p,b),r._sqlite3_preupdate_hook=(f,p,b)=>(r._sqlite3_preupdate_hook=re.sqlite3_preupdate_hook)(f,p,b),r._sqlite3_error_offset=f=>(r._sqlite3_error_offset=re.sqlite3_error_offset)(f),r._sqlite3_errcode=f=>(r._sqlite3_errcode=re.sqlite3_errcode)(f),r._sqlite3_extended_errcode=f=>(r._sqlite3_extended_errcode=re.sqlite3_extended_errcode)(f),r._sqlite3_errstr=f=>(r._sqlite3_errstr=re.sqlite3_errstr)(f),r._sqlite3_limit=(f,p,b)=>(r._sqlite3_limit=re.sqlite3_limit)(f,p,b),r._sqlite3_open=(f,p)=>(r._sqlite3_open=re.sqlite3_open)(f,p),r._sqlite3_open_v2=(f,p,b,x)=>(r._sqlite3_open_v2=re.sqlite3_open_v2)(f,p,b,x),r._sqlite3_create_collation=(f,p,b,x,S)=>(r._sqlite3_create_collation=re.sqlite3_create_collation)(f,p,b,x,S),r._sqlite3_create_collation_v2=(f,p,b,x,S,I)=>(r._sqlite3_create_collation_v2=re.sqlite3_create_collation_v2)(f,p,b,x,S,I),r._sqlite3_collation_needed=(f,p,b)=>(r._sqlite3_collation_needed=re.sqlite3_collation_needed)(f,p,b),r._sqlite3_get_autocommit=f=>(r._sqlite3_get_autocommit=re.sqlite3_get_autocommit)(f),r._sqlite3_table_column_metadata=(f,p,b,x,S,I,ee,ie,Me)=>(r._sqlite3_table_column_metadata=re.sqlite3_table_column_metadata)(f,p,b,x,S,I,ee,ie,Me),r._sqlite3_extended_result_codes=(f,p)=>(r._sqlite3_extended_result_codes=re.sqlite3_extended_result_codes)(f,p),r._sqlite3_uri_key=(f,p)=>(r._sqlite3_uri_key=re.sqlite3_uri_key)(f,p),r._sqlite3_uri_int64=(f,p,b)=>(r._sqlite3_uri_int64=re.sqlite3_uri_int64)(f,p,b),r._sqlite3_db_name=(f,p)=>(r._sqlite3_db_name=re.sqlite3_db_name)(f,p),r._sqlite3_db_filename=(f,p)=>(r._sqlite3_db_filename=re.sqlite3_db_filename)(f,p),r._sqlite3_db_readonly=(f,p)=>(r._sqlite3_db_readonly=re.sqlite3_db_readonly)(f,p),r._sqlite3_compileoption_used=f=>(r._sqlite3_compileoption_used=re.sqlite3_compileoption_used)(f),r._sqlite3_compileoption_get=f=>(r._sqlite3_compileoption_get=re.sqlite3_compileoption_get)(f),r._sqlite3session_diff=(f,p,b,x)=>(r._sqlite3session_diff=re.sqlite3session_diff)(f,p,b,x),r._sqlite3session_attach=(f,p)=>(r._sqlite3session_attach=re.sqlite3session_attach)(f,p),r._sqlite3session_create=(f,p,b)=>(r._sqlite3session_create=re.sqlite3session_create)(f,p,b),r._sqlite3session_delete=f=>(r._sqlite3session_delete=re.sqlite3session_delete)(f),r._sqlite3session_table_filter=(f,p,b)=>(r._sqlite3session_table_filter=re.sqlite3session_table_filter)(f,p,b),r._sqlite3session_changeset=(f,p,b)=>(r._sqlite3session_changeset=re.sqlite3session_changeset)(f,p,b),r._sqlite3session_changeset_strm=(f,p,b)=>(r._sqlite3session_changeset_strm=re.sqlite3session_changeset_strm)(f,p,b),r._sqlite3session_patchset_strm=(f,p,b)=>(r._sqlite3session_patchset_strm=re.sqlite3session_patchset_strm)(f,p,b),r._sqlite3session_patchset=(f,p,b)=>(r._sqlite3session_patchset=re.sqlite3session_patchset)(f,p,b),r._sqlite3session_enable=(f,p)=>(r._sqlite3session_enable=re.sqlite3session_enable)(f,p),r._sqlite3session_indirect=(f,p)=>(r._sqlite3session_indirect=re.sqlite3session_indirect)(f,p),r._sqlite3session_isempty=f=>(r._sqlite3session_isempty=re.sqlite3session_isempty)(f),r._sqlite3session_memory_used=f=>(r._sqlite3session_memory_used=re.sqlite3session_memory_used)(f),r._sqlite3session_object_config=(f,p,b)=>(r._sqlite3session_object_config=re.sqlite3session_object_config)(f,p,b),r._sqlite3session_changeset_size=f=>(r._sqlite3session_changeset_size=re.sqlite3session_changeset_size)(f),r._sqlite3changeset_start=(f,p,b)=>(r._sqlite3changeset_start=re.sqlite3changeset_start)(f,p,b),r._sqlite3changeset_start_v2=(f,p,b,x)=>(r._sqlite3changeset_start_v2=re.sqlite3changeset_start_v2)(f,p,b,x),r._sqlite3changeset_start_strm=(f,p,b)=>(r._sqlite3changeset_start_strm=re.sqlite3changeset_start_strm)(f,p,b),r._sqlite3changeset_start_v2_strm=(f,p,b,x)=>(r._sqlite3changeset_start_v2_strm=re.sqlite3changeset_start_v2_strm)(f,p,b,x),r._sqlite3changeset_next=f=>(r._sqlite3changeset_next=re.sqlite3changeset_next)(f),r._sqlite3changeset_op=(f,p,b,x,S)=>(r._sqlite3changeset_op=re.sqlite3changeset_op)(f,p,b,x,S),r._sqlite3changeset_pk=(f,p,b)=>(r._sqlite3changeset_pk=re.sqlite3changeset_pk)(f,p,b),r._sqlite3changeset_old=(f,p,b)=>(r._sqlite3changeset_old=re.sqlite3changeset_old)(f,p,b),r._sqlite3changeset_new=(f,p,b)=>(r._sqlite3changeset_new=re.sqlite3changeset_new)(f,p,b),r._sqlite3changeset_conflict=(f,p,b)=>(r._sqlite3changeset_conflict=re.sqlite3changeset_conflict)(f,p,b),r._sqlite3changeset_fk_conflicts=(f,p)=>(r._sqlite3changeset_fk_conflicts=re.sqlite3changeset_fk_conflicts)(f,p),r._sqlite3changeset_finalize=f=>(r._sqlite3changeset_finalize=re.sqlite3changeset_finalize)(f),r._sqlite3changeset_invert=(f,p,b,x)=>(r._sqlite3changeset_invert=re.sqlite3changeset_invert)(f,p,b,x),r._sqlite3changeset_invert_strm=(f,p,b,x)=>(r._sqlite3changeset_invert_strm=re.sqlite3changeset_invert_strm)(f,p,b,x),r._sqlite3changeset_apply_v2=(f,p,b,x,S,I,ee,ie,Me)=>(r._sqlite3changeset_apply_v2=re.sqlite3changeset_apply_v2)(f,p,b,x,S,I,ee,ie,Me),r._sqlite3changeset_apply=(f,p,b,x,S,I)=>(r._sqlite3changeset_apply=re.sqlite3changeset_apply)(f,p,b,x,S,I),r._sqlite3changeset_apply_v2_strm=(f,p,b,x,S,I,ee,ie,Me)=>(r._sqlite3changeset_apply_v2_strm=re.sqlite3changeset_apply_v2_strm)(f,p,b,x,S,I,ee,ie,Me),r._sqlite3changeset_apply_strm=(f,p,b,x,S,I)=>(r._sqlite3changeset_apply_strm=re.sqlite3changeset_apply_strm)(f,p,b,x,S,I),r._sqlite3changegroup_new=f=>(r._sqlite3changegroup_new=re.sqlite3changegroup_new)(f),r._sqlite3changegroup_add=(f,p,b)=>(r._sqlite3changegroup_add=re.sqlite3changegroup_add)(f,p,b),r._sqlite3changegroup_output=(f,p,b)=>(r._sqlite3changegroup_output=re.sqlite3changegroup_output)(f,p,b),r._sqlite3changegroup_add_strm=(f,p,b)=>(r._sqlite3changegroup_add_strm=re.sqlite3changegroup_add_strm)(f,p,b),r._sqlite3changegroup_output_strm=(f,p,b)=>(r._sqlite3changegroup_output_strm=re.sqlite3changegroup_output_strm)(f,p,b),r._sqlite3changegroup_delete=f=>(r._sqlite3changegroup_delete=re.sqlite3changegroup_delete)(f),r._sqlite3changeset_concat=(f,p,b,x,S,I)=>(r._sqlite3changeset_concat=re.sqlite3changeset_concat)(f,p,b,x,S,I),r._sqlite3changeset_concat_strm=(f,p,b,x,S,I)=>(r._sqlite3changeset_concat_strm=re.sqlite3changeset_concat_strm)(f,p,b,x,S,I),r._sqlite3session_config=(f,p)=>(r._sqlite3session_config=re.sqlite3session_config)(f,p),r._sqlite3_sourceid=()=>(r._sqlite3_sourceid=re.sqlite3_sourceid)(),r._sqlite3__wasm_pstack_ptr=()=>(r._sqlite3__wasm_pstack_ptr=re.sqlite3__wasm_pstack_ptr)(),r._sqlite3__wasm_pstack_restore=f=>(r._sqlite3__wasm_pstack_restore=re.sqlite3__wasm_pstack_restore)(f),r._sqlite3__wasm_pstack_alloc=f=>(r._sqlite3__wasm_pstack_alloc=re.sqlite3__wasm_pstack_alloc)(f),r._sqlite3__wasm_pstack_remaining=()=>(r._sqlite3__wasm_pstack_remaining=re.sqlite3__wasm_pstack_remaining)(),r._sqlite3__wasm_pstack_quota=()=>(r._sqlite3__wasm_pstack_quota=re.sqlite3__wasm_pstack_quota)(),r._sqlite3__wasm_db_error=(f,p,b)=>(r._sqlite3__wasm_db_error=re.sqlite3__wasm_db_error)(f,p,b),r._sqlite3__wasm_test_struct=f=>(r._sqlite3__wasm_test_struct=re.sqlite3__wasm_test_struct)(f),r._sqlite3__wasm_enum_json=()=>(r._sqlite3__wasm_enum_json=re.sqlite3__wasm_enum_json)(),r._sqlite3__wasm_vfs_unlink=(f,p)=>(r._sqlite3__wasm_vfs_unlink=re.sqlite3__wasm_vfs_unlink)(f,p),r._sqlite3__wasm_db_vfs=(f,p)=>(r._sqlite3__wasm_db_vfs=re.sqlite3__wasm_db_vfs)(f,p),r._sqlite3__wasm_db_reset=f=>(r._sqlite3__wasm_db_reset=re.sqlite3__wasm_db_reset)(f),r._sqlite3__wasm_db_export_chunked=(f,p)=>(r._sqlite3__wasm_db_export_chunked=re.sqlite3__wasm_db_export_chunked)(f,p),r._sqlite3__wasm_db_serialize=(f,p,b,x,S)=>(r._sqlite3__wasm_db_serialize=re.sqlite3__wasm_db_serialize)(f,p,b,x,S),r._sqlite3__wasm_vfs_create_file=(f,p,b,x)=>(r._sqlite3__wasm_vfs_create_file=re.sqlite3__wasm_vfs_create_file)(f,p,b,x),r._sqlite3__wasm_posix_create_file=(f,p,b)=>(r._sqlite3__wasm_posix_create_file=re.sqlite3__wasm_posix_create_file)(f,p,b),r._sqlite3__wasm_kvvfsMakeKeyOnPstack=(f,p)=>(r._sqlite3__wasm_kvvfsMakeKeyOnPstack=re.sqlite3__wasm_kvvfsMakeKeyOnPstack)(f,p),r._sqlite3__wasm_kvvfs_methods=()=>(r._sqlite3__wasm_kvvfs_methods=re.sqlite3__wasm_kvvfs_methods)(),r._sqlite3__wasm_vtab_config=(f,p,b)=>(r._sqlite3__wasm_vtab_config=re.sqlite3__wasm_vtab_config)(f,p,b),r._sqlite3__wasm_db_config_ip=(f,p,b,x)=>(r._sqlite3__wasm_db_config_ip=re.sqlite3__wasm_db_config_ip)(f,p,b,x),r._sqlite3__wasm_db_config_pii=(f,p,b,x,S)=>(r._sqlite3__wasm_db_config_pii=re.sqlite3__wasm_db_config_pii)(f,p,b,x,S),r._sqlite3__wasm_db_config_s=(f,p,b)=>(r._sqlite3__wasm_db_config_s=re.sqlite3__wasm_db_config_s)(f,p,b),r._sqlite3__wasm_config_i=(f,p)=>(r._sqlite3__wasm_config_i=re.sqlite3__wasm_config_i)(f,p),r._sqlite3__wasm_config_ii=(f,p,b)=>(r._sqlite3__wasm_config_ii=re.sqlite3__wasm_config_ii)(f,p,b),r._sqlite3__wasm_config_j=(f,p)=>(r._sqlite3__wasm_config_j=re.sqlite3__wasm_config_j)(f,p),r._sqlite3__wasm_qfmt_token=(f,p)=>(r._sqlite3__wasm_qfmt_token=re.sqlite3__wasm_qfmt_token)(f,p),r._sqlite3__wasm_init_wasmfs=f=>(r._sqlite3__wasm_init_wasmfs=re.sqlite3__wasm_init_wasmfs)(f),r._sqlite3__wasm_test_intptr=f=>(r._sqlite3__wasm_test_intptr=re.sqlite3__wasm_test_intptr)(f),r._sqlite3__wasm_test_voidptr=f=>(r._sqlite3__wasm_test_voidptr=re.sqlite3__wasm_test_voidptr)(f),r._sqlite3__wasm_test_int64_max=()=>(r._sqlite3__wasm_test_int64_max=re.sqlite3__wasm_test_int64_max)(),r._sqlite3__wasm_test_int64_min=()=>(r._sqlite3__wasm_test_int64_min=re.sqlite3__wasm_test_int64_min)(),r._sqlite3__wasm_test_int64_times2=f=>(r._sqlite3__wasm_test_int64_times2=re.sqlite3__wasm_test_int64_times2)(f),r._sqlite3__wasm_test_int64_minmax=(f,p)=>(r._sqlite3__wasm_test_int64_minmax=re.sqlite3__wasm_test_int64_minmax)(f,p),r._sqlite3__wasm_test_int64ptr=f=>(r._sqlite3__wasm_test_int64ptr=re.sqlite3__wasm_test_int64ptr)(f),r._sqlite3__wasm_test_stack_overflow=f=>(r._sqlite3__wasm_test_stack_overflow=re.sqlite3__wasm_test_stack_overflow)(f),r._sqlite3__wasm_test_str_hello=f=>(r._sqlite3__wasm_test_str_hello=re.sqlite3__wasm_test_str_hello)(f),r._sqlite3__wasm_SQLTester_strglob=(f,p)=>(r._sqlite3__wasm_SQLTester_strglob=re.sqlite3__wasm_SQLTester_strglob)(f,p),r._malloc=f=>(r._malloc=re.malloc)(f),r._free=f=>(r._free=re.free)(f),r._realloc=(f,p)=>(r._realloc=re.realloc)(f,p);var ld=(f,p)=>(ld=re.emscripten_builtin_memalign)(f,p);r.wasmMemory=L;var xl;ut=function f(){xl||cd(),xl||(ut=f)};function cd(){if(xe>0||(Oe(),xe>0))return;function f(){xl||(xl=!0,r.calledRun=!0,!V&&(je(),i(r),r.onRuntimeInitialized?.(),ve()))}r.setStatus?(r.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>r.setStatus(""),1),f()},1)):f()}if(r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return cd(),r.postRun||(r.postRun=[]),r.postRun.push(function(f){if(globalThis.sqlite3ApiBootstrap=function p(b=globalThis.sqlite3ApiConfig||p.defaultConfig){if(p.sqlite3)return(p.sqlite3.config||console).warn("sqlite3ApiBootstrap() called multiple times.","Config and external initializers are ignored on calls after the first."),p.sqlite3;const x=Object.assign(Object.create(null),{exports:void 0,memory:void 0,bigIntEnabled:typeof f<"u"&&f.HEAPU64?!0:!!globalThis.BigInt64Array,debug:console.debug.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),log:console.log.bind(console),wasmfsOpfsDir:"/opfs",useStdAlloc:!1},b||{});Object.assign(x,{allocExportName:x.useStdAlloc?"malloc":"sqlite3_malloc",deallocExportName:x.useStdAlloc?"free":"sqlite3_free",reallocExportName:x.useStdAlloc?"realloc":"sqlite3_realloc"},x),["exports","memory","wasmfsOpfsDir"].forEach(O=>{typeof x[O]=="function"&&(x[O]=x[O]())}),delete globalThis.sqlite3ApiConfig,delete p.defaultConfig;const S=Object.create(null),I=Object.create(null),ee=O=>S.sqlite3_js_rc_str&&S.sqlite3_js_rc_str(O)||"Unknown result code #"+O,ie=O=>typeof O=="number"&&O===(O|0);class Me extends Error{constructor(...M){let z;if(M.length)if(ie(M[0]))if(z=M[0],M.length===1)super(ee(M[0]));else{const Te=ee(z);typeof M[1]=="object"?super(Te,M[1]):(M[0]=Te+":",super(M.join(" ")))}else M.length===2&&typeof M[1]=="object"?super(...M):super(M.join(" "));this.resultCode=z||S.SQLITE_ERROR,this.name="SQLite3Error"}}Me.toss=(...O)=>{throw new Me(...O)};const Ve=Me.toss;x.wasmfsOpfsDir&&!/^\/[^/]+$/.test(x.wasmfsOpfsDir)&&Ve("config.wasmfsOpfsDir must be falsy or in the form '/dir-name'.");const Ze=O=>typeof O!="bigint"&&O===(O|0)&&O<=0x7fffffff&&O>=-0x80000000,it=function O(M){return O._max||(O._max=BigInt("0x7fffffffffffffff"),O._min=~O._max),M>=O._min&&M<=O._max},Ae=O=>O>=-2147483647n-1n&&O<=2147483647n,Se=function O(M){return O._min||(O._min=Number.MIN_SAFE_INTEGER,O._max=Number.MAX_SAFE_INTEGER),M>=O._min&&M<=O._max},Ue=O=>O&&O.constructor&&Ze(O.constructor.BYTES_PER_ELEMENT)?O:!1,ce=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,ge=O=>O.buffer instanceof ce,_e=(O,M,z)=>ge(O)?O.slice(M,z):O.subarray(M,z),We=O=>O&&(O instanceof Uint8Array||O instanceof Int8Array||O instanceof ArrayBuffer),$e=O=>O&&(O instanceof Uint8Array||O instanceof Int8Array||O instanceof ArrayBuffer),we=O=>We(O)||Ve("Value is not of a supported TypedArray type."),Be=new TextDecoder("utf-8"),bt=function(O,M,z){return Be.decode(_e(O,M,z))},F=function(O){return $e(O)?bt(O instanceof ArrayBuffer?new Uint8Array(O):O):Array.isArray(O)?O.join(""):(I.isPtr(O)&&(O=I.cstrToJs(O)),O)};class Y extends Error{constructor(...M){M.length===2&&typeof M[1]=="object"?super(...M):M.length?super(M.join(" ")):super("Allocation failed."),this.resultCode=S.SQLITE_NOMEM,this.name="WasmAllocError"}}Y.toss=(...O)=>{throw new Y(...O)},Object.assign(S,{sqlite3_bind_blob:void 0,sqlite3_bind_text:void 0,sqlite3_create_function_v2:(O,M,z,Te,Qe,It,Lt,Wt,Ye)=>{},sqlite3_create_function:(O,M,z,Te,Qe,It,Lt,Wt)=>{},sqlite3_create_window_function:(O,M,z,Te,Qe,It,Lt,Wt,Ye,de)=>{},sqlite3_prepare_v3:(O,M,z,Te,Qe,It)=>{},sqlite3_prepare_v2:(O,M,z,Te,Qe)=>{},sqlite3_exec:(O,M,z,Te,Qe)=>{},sqlite3_randomness:(O,M)=>{}});const me={affirmBindableTypedArray:we,flexibleString:F,bigIntFits32:Ae,bigIntFits64:it,bigIntFitsDouble:Se,isBindableTypedArray:We,isInt32:Ze,isSQLableTypedArray:$e,isTypedArray:Ue,typedArrayToString:bt,isUIThread:()=>globalThis.window===globalThis&&!!globalThis.document,isSharedTypedArray:ge,toss:function(...O){throw new Error(O.join(" "))},toss3:Ve,typedArrayPart:_e,affirmDbHeader:function(O){O instanceof ArrayBuffer&&(O=new Uint8Array(O));const M="SQLite format 3";M.length>O.byteLength&&Ve("Input does not contain an SQLite3 database header.");for(let z=0;z<M.length;++z)M.charCodeAt(z)!==O[z]&&Ve("Input does not contain an SQLite3 database header.")},affirmIsDb:function(O){O instanceof ArrayBuffer&&(O=new Uint8Array(O));const M=O.byteLength;(M<512||M%512!==0)&&Ve("Byte array size",M,"is invalid for an SQLite3 db."),me.affirmDbHeader(O)}};Object.assign(I,{ptrSizeof:x.wasmPtrSizeof||4,ptrIR:x.wasmPtrIR||"i32",bigIntEnabled:!!x.bigIntEnabled,exports:x.exports||Ve("Missing API config.exports (WASM module exports)."),memory:x.memory||x.exports.memory||Ve("API config object requires a WebAssembly.Memory object","in either config.exports.memory (exported)","or config.memory (imported)."),alloc:void 0,realloc:void 0,dealloc:void 0}),I.allocFromTypedArray=function(O){O instanceof ArrayBuffer&&(O=new Uint8Array(O)),we(O);const M=I.alloc(O.byteLength||1);return I.heapForSize(O.constructor).set(O.byteLength?O:[0],M),M};{const O=x.allocExportName,M=x.deallocExportName,z=x.reallocExportName;for(const Te of[O,M,z])I.exports[Te]instanceof Function||Ve("Missing required exports[",Te,"] function.");I.alloc=function Te(Qe){return Te.impl(Qe)||Y.toss("Failed to allocate",Qe," bytes.")},I.alloc.impl=I.exports[O],I.realloc=function Te(Qe,It){const Lt=Te.impl(Qe,It);return It?Lt||Y.toss("Failed to reallocate",It," bytes."):0},I.realloc.impl=I.exports[z],I.dealloc=I.exports[M]}I.compileOptionUsed=function O(M){if(arguments.length){if(Array.isArray(M)){const z={};return M.forEach(Te=>{z[Te]=S.sqlite3_compileoption_used(Te)}),z}else if(typeof M=="object")return Object.keys(M).forEach(z=>{M[z]=S.sqlite3_compileoption_used(z)}),M}else{if(O._result)return O._result;O._opt||(O._rx=/^([^=]+)=(.+)/,O._rxInt=/^-?\d+$/,O._opt=function(Lt,Wt){const Ye=O._rx.exec(Lt);Wt[0]=Ye?Ye[1]:Lt,Wt[1]=Ye?O._rxInt.test(Ye[2])?+Ye[2]:Ye[2]:!0});const z={},Te=[0,0];let Qe=0,It;for(;It=S.sqlite3_compileoption_get(Qe++);)O._opt(It,Te),z[Te[0]]=Te[1];return O._result=z}return typeof M=="string"?!!S.sqlite3_compileoption_used(M):!1},I.pstack=Object.assign(Object.create(null),{restore:I.exports.sqlite3__wasm_pstack_restore,alloc:function(O){return typeof O=="string"&&!(O=I.sizeofIR(O))&&Y.toss("Invalid value for pstack.alloc(",arguments[0],")"),I.exports.sqlite3__wasm_pstack_alloc(O)||Y.toss("Could not allocate",O,"bytes from the pstack.")},allocChunks:function(O,M){typeof M=="string"&&!(M=I.sizeofIR(M))&&Y.toss("Invalid size value for allocChunks(",arguments[1],")");const z=I.pstack.alloc(O*M),Te=[];let Qe=0,It=0;for(;Qe<O;++Qe,It+=M)Te.push(z+It);return Te},allocPtr:(O=1,M=!0)=>O===1?I.pstack.alloc(M?8:I.ptrSizeof):I.pstack.allocChunks(O,M?8:I.ptrSizeof),call:function(O){const M=I.pstack.pointer;try{return O(te)}finally{I.pstack.restore(M)}}}),Object.defineProperties(I.pstack,{pointer:{configurable:!1,iterable:!0,writeable:!1,get:I.exports.sqlite3__wasm_pstack_ptr},quota:{configurable:!1,iterable:!0,writeable:!1,get:I.exports.sqlite3__wasm_pstack_quota},remaining:{configurable:!1,iterable:!0,writeable:!1,get:I.exports.sqlite3__wasm_pstack_remaining}}),S.sqlite3_randomness=(...O)=>{if(O.length===1&&me.isTypedArray(O[0])&&O[0].BYTES_PER_ELEMENT===1){const M=O[0];if(M.byteLength===0)return I.exports.sqlite3_randomness(0,0),M;const z=I.pstack.pointer;try{let Te=M.byteLength,Qe=0;const It=I.exports.sqlite3_randomness,Lt=I.heap8u(),Wt=Te<512?Te:512,Ye=I.pstack.alloc(Wt);do{const de=Te>Wt?Wt:Te;It(de,Ye),M.set(_e(Lt,Ye,Ye+de),Qe),Te-=de,Qe+=de}while(Te>0)}catch(Te){console.error("Highly unexpected (and ignored!) exception in sqlite3_randomness():",Te)}finally{I.pstack.restore(z)}return M}I.exports.sqlite3_randomness(...O)};let Ke;if(S.sqlite3_wasmfs_opfs_dir=function(){if(Ke!==void 0)return Ke;const O=x.wasmfsOpfsDir;if(!O||!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle)return Ke="";try{return O&&I.xCallWrapped("sqlite3__wasm_init_wasmfs","i32",["string"],O)===0?Ke=O:Ke=""}catch{return Ke=""}},S.sqlite3_wasmfs_filename_is_persistent=function(O){const M=S.sqlite3_wasmfs_opfs_dir();return M&&O?O.startsWith(M+"/"):!1},S.sqlite3_js_db_uses_vfs=function(O,M,z=0){try{const Te=S.sqlite3_vfs_find(M);return Te?O?Te===S.sqlite3_js_db_vfs(O,z)?Te:!1:Te===S.sqlite3_vfs_find(0)?Te:!1:!1}catch{return!1}},S.sqlite3_js_vfs_list=function(){const O=[];let M=S.sqlite3_vfs_find(0);for(;M;){const z=new S.sqlite3_vfs(M);O.push(I.cstrToJs(z.$zName)),M=z.$pNext,z.dispose()}return O},S.sqlite3_js_db_export=function(O,M=0){O=I.xWrap.testConvertArg("sqlite3*",O),O||Ve("Invalid sqlite3* argument."),I.bigIntEnabled||Ve("BigInt64 support is not enabled.");const z=I.scopedAllocPush();let Te;try{const Qe=I.scopedAlloc(8+I.ptrSizeof),It=Qe+8,Lt=M?I.isPtr(M)?M:I.scopedAllocCString(""+M):0;let Wt=I.exports.sqlite3__wasm_db_serialize(O,Lt,It,Qe,0);Wt&&Ve("Database serialization failed with code",te.capi.sqlite3_js_rc_str(Wt)),Te=I.peekPtr(It);const Ye=I.peek(Qe,"i64");return Wt=Ye?I.heap8u().slice(Te,Te+Number(Ye)):new Uint8Array,Wt}finally{Te&&I.exports.sqlite3_free(Te),I.scopedAllocPop(z)}},S.sqlite3_js_db_vfs=(O,M=0)=>me.sqlite3__wasm_db_vfs(O,M),S.sqlite3_js_aggregate_context=(O,M)=>S.sqlite3_aggregate_context(O,M)||(M?Y.toss("Cannot allocate",M,"bytes for sqlite3_aggregate_context()"):0),S.sqlite3_js_posix_create_file=function(O,M,z){let Te;M&&I.isPtr(M)?Te=M:M instanceof ArrayBuffer||M instanceof Uint8Array?(Te=I.allocFromTypedArray(M),(arguments.length<3||!me.isInt32(z)||z<0)&&(z=M.byteLength)):Me.toss("Invalid 2nd argument for sqlite3_js_posix_create_file().");try{(!me.isInt32(z)||z<0)&&Me.toss("Invalid 3rd argument for sqlite3_js_posix_create_file().");const Qe=me.sqlite3__wasm_posix_create_file(O,Te,z);Qe&&Me.toss("Creation of file failed with sqlite3 result code",S.sqlite3_js_rc_str(Qe))}finally{I.dealloc(Te)}},S.sqlite3_js_vfs_create_file=function(O,M,z,Te){x.warn("sqlite3_js_vfs_create_file() is deprecated and","should be avoided because it can lead to C-level crashes.","See its documentation for alternative options.");let Qe;z?(I.isPtr(z)?Qe=z:z instanceof ArrayBuffer&&(z=new Uint8Array(z)),z instanceof Uint8Array?(Qe=I.allocFromTypedArray(z),(arguments.length<4||!me.isInt32(Te)||Te<0)&&(Te=z.byteLength)):Me.toss("Invalid 3rd argument type for sqlite3_js_vfs_create_file().")):Qe=0,(!me.isInt32(Te)||Te<0)&&(I.dealloc(Qe),Me.toss("Invalid 4th argument for sqlite3_js_vfs_create_file()."));try{const It=me.sqlite3__wasm_vfs_create_file(O,M,Qe,Te);It&&Me.toss("Creation of file failed with sqlite3 result code",S.sqlite3_js_rc_str(It))}finally{I.dealloc(Qe)}},S.sqlite3_js_sql_to_string=O=>{if(typeof O=="string")return O;const M=F(v);return M===v?void 0:M},me.isUIThread()){const O=function(M){const z=Object.create(null);return z.prefix="kvvfs-"+M,z.stores=[],(M==="session"||M==="")&&z.stores.push(globalThis.sessionStorage),(M==="local"||M==="")&&z.stores.push(globalThis.localStorage),z};S.sqlite3_js_kvvfs_clear=function(M=""){let z=0;const Te=O(M);return Te.stores.forEach(Qe=>{const It=[];let Lt;for(Lt=0;Lt<Qe.length;++Lt){const Wt=Qe.key(Lt);Wt.startsWith(Te.prefix)&&It.push(Wt)}It.forEach(Wt=>Qe.removeItem(Wt)),z+=It.length}),z},S.sqlite3_js_kvvfs_size=function(M=""){let z=0;const Te=O(M);return Te.stores.forEach(Qe=>{let It;for(It=0;It<Qe.length;++It){const Lt=Qe.key(It);Lt.startsWith(Te.prefix)&&(z+=Lt.length,z+=Qe.getItem(Lt).length)}}),z*2}}S.sqlite3_db_config=function(O,M,...z){switch(this.s||(this.s=I.xWrap("sqlite3__wasm_db_config_s","int",["sqlite3*","int","string:static"]),this.pii=I.xWrap("sqlite3__wasm_db_config_pii","int",["sqlite3*","int","*","int","int"]),this.ip=I.xWrap("sqlite3__wasm_db_config_ip","int",["sqlite3*","int","int","*"])),M){case S.SQLITE_DBCONFIG_ENABLE_FKEY:case S.SQLITE_DBCONFIG_ENABLE_TRIGGER:case S.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER:case S.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION:case S.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE:case S.SQLITE_DBCONFIG_ENABLE_QPSG:case S.SQLITE_DBCONFIG_TRIGGER_EQP:case S.SQLITE_DBCONFIG_RESET_DATABASE:case S.SQLITE_DBCONFIG_DEFENSIVE:case S.SQLITE_DBCONFIG_WRITABLE_SCHEMA:case S.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE:case S.SQLITE_DBCONFIG_DQS_DML:case S.SQLITE_DBCONFIG_DQS_DDL:case S.SQLITE_DBCONFIG_ENABLE_VIEW:case S.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT:case S.SQLITE_DBCONFIG_TRUSTED_SCHEMA:case S.SQLITE_DBCONFIG_STMT_SCANSTATUS:case S.SQLITE_DBCONFIG_REVERSE_SCANORDER:return this.ip(O,M,z[0],z[1]||0);case S.SQLITE_DBCONFIG_LOOKASIDE:return this.pii(O,M,z[0],z[1],z[2]);case S.SQLITE_DBCONFIG_MAINDBNAME:return this.s(O,M,z[0]);default:return S.SQLITE_MISUSE}}.bind(Object.create(null)),S.sqlite3_value_to_js=function(O,M=!0){let z;const Te=S.sqlite3_value_type(O);switch(Te){case S.SQLITE_INTEGER:I.bigIntEnabled?(z=S.sqlite3_value_int64(O),me.bigIntFitsDouble(z)&&(z=Number(z))):z=S.sqlite3_value_double(O);break;case S.SQLITE_FLOAT:z=S.sqlite3_value_double(O);break;case S.SQLITE_TEXT:z=S.sqlite3_value_text(O);break;case S.SQLITE_BLOB:{const Qe=S.sqlite3_value_bytes(O),It=S.sqlite3_value_blob(O);Qe&&!It&&te.WasmAllocError.toss("Cannot allocate memory for blob argument of",Qe,"byte(s)"),z=Qe?I.heap8u().slice(It,It+Number(Qe)):null;break}case S.SQLITE_NULL:z=null;break;default:M&&Ve(S.SQLITE_MISMATCH,"Unhandled sqlite3_value_type():",Te),z=void 0}return z},S.sqlite3_values_to_js=function(O,M,z=!0){let Te;const Qe=[];for(Te=0;Te<O;++Te)Qe.push(S.sqlite3_value_to_js(I.peekPtr(M+I.ptrSizeof*Te),z));return Qe},S.sqlite3_result_error_js=function(O,M){M instanceof Y?S.sqlite3_result_error_nomem(O):S.sqlite3_result_error(O,""+M,-1)},S.sqlite3_result_js=function(O,M){if(M instanceof Error){S.sqlite3_result_error_js(O,M);return}try{switch(typeof M){case"undefined":break;case"boolean":S.sqlite3_result_int(O,M?1:0);break;case"bigint":me.bigIntFits32(M)?S.sqlite3_result_int(O,Number(M)):me.bigIntFitsDouble(M)?S.sqlite3_result_double(O,Number(M)):I.bigIntEnabled?me.bigIntFits64(M)?S.sqlite3_result_int64(O,M):Ve("BigInt value",M.toString(),"is too BigInt for int64."):Ve("BigInt value",M.toString(),"is too BigInt.");break;case"number":{let z;me.isInt32(M)?z=S.sqlite3_result_int:I.bigIntEnabled&&Number.isInteger(M)&&me.bigIntFits64(BigInt(M))?z=S.sqlite3_result_int64:z=S.sqlite3_result_double,z(O,M);break}case"string":{const[z,Te]=I.allocCString(M,!0);S.sqlite3_result_text(O,z,Te,S.SQLITE_WASM_DEALLOC);break}case"object":if(M===null){S.sqlite3_result_null(O);break}else if(me.isBindableTypedArray(M)){const z=I.allocFromTypedArray(M);S.sqlite3_result_blob(O,z,M.byteLength,S.SQLITE_WASM_DEALLOC);break}default:Ve("Don't not how to handle this UDF result value:",typeof M,M)}}catch(z){S.sqlite3_result_error_js(O,z)}},S.sqlite3_column_js=function(O,M,z=!0){const Te=S.sqlite3_column_value(O,M);return Te===0?void 0:S.sqlite3_value_to_js(Te,z)};const H=function(O,M,z){z=S[z],this.ptr?I.pokePtr(this.ptr,0):this.ptr=I.allocPtr();const Te=z(O,M,this.ptr);if(Te)return Me.toss(Te,arguments[2]+"() failed with code "+Te);const Qe=I.peekPtr(this.ptr);return Qe?S.sqlite3_value_to_js(Qe,!0):void 0}.bind(Object.create(null));S.sqlite3_preupdate_new_js=(O,M)=>H(O,M,"sqlite3_preupdate_new"),S.sqlite3_preupdate_old_js=(O,M)=>H(O,M,"sqlite3_preupdate_old"),S.sqlite3changeset_new_js=(O,M)=>H(O,M,"sqlite3changeset_new"),S.sqlite3changeset_old_js=(O,M)=>H(O,M,"sqlite3changeset_old");const te={WasmAllocError:Y,SQLite3Error:Me,capi:S,util:me,wasm:I,config:x,version:Object.create(null),client:void 0,asyncPostInit:async function O(){if(O.isReady instanceof Promise)return O.isReady;let M=p.initializersAsync;delete p.initializersAsync;const z=async()=>(te.__isUnderTest||(delete te.util,delete te.StructBinder),te),Te=It=>{throw x.error("an async sqlite3 initializer failed:",It),It};if(!M||!M.length)return O.isReady=z().catch(Te);M=M.map(It=>It instanceof Function?async Lt=>It(te):It),M.push(z);let Qe=Promise.resolve(te);for(;M.length;)Qe=Qe.then(M.shift());return O.isReady=Qe.catch(Te)},scriptInfo:void 0};try{p.initializers.forEach(O=>{O(te)})}catch(O){throw console.error("sqlite3 bootstrap initializer threw:",O),O}return delete p.initializers,p.sqlite3=te,te},globalThis.sqlite3ApiBootstrap.initializers=[],globalThis.sqlite3ApiBootstrap.initializersAsync=[],globalThis.sqlite3ApiBootstrap.defaultConfig=Object.create(null),globalThis.sqlite3ApiBootstrap.sqlite3=void 0,globalThis.WhWasmUtilInstaller=function(p){p.bigIntEnabled===void 0&&(p.bigIntEnabled=!!globalThis.BigInt64Array);const b=(...F)=>{throw new Error(F.join(" "))};p.exports||Object.defineProperty(p,"exports",{enumerable:!0,configurable:!0,get:()=>p.instance&&p.instance.exports});const x=p.pointerIR||"i32",S=p.ptrSizeof=x==="i32"?4:x==="i64"?8:b("Unhandled ptrSizeof:",x),I=Object.create(null);I.heapSize=0,I.memory=null,I.freeFuncIndexes=[],I.scopedAlloc=[],I.utf8Decoder=new TextDecoder,I.utf8Encoder=new TextEncoder("utf-8"),p.sizeofIR=F=>{switch(F){case"i8":return 1;case"i16":return 2;case"i32":case"f32":case"float":return 4;case"i64":case"f64":case"double":return 8;case"*":return S;default:return(""+F).endsWith("*")?S:void 0}};const ee=function(){if(!I.memory)I.memory=p.memory instanceof WebAssembly.Memory?p.memory:p.exports.memory;else if(I.heapSize===I.memory.buffer.byteLength)return I;const F=I.memory.buffer;return I.HEAP8=new Int8Array(F),I.HEAP8U=new Uint8Array(F),I.HEAP16=new Int16Array(F),I.HEAP16U=new Uint16Array(F),I.HEAP32=new Int32Array(F),I.HEAP32U=new Uint32Array(F),p.bigIntEnabled&&(I.HEAP64=new BigInt64Array(F),I.HEAP64U=new BigUint64Array(F)),I.HEAP32F=new Float32Array(F),I.HEAP64F=new Float64Array(F),I.heapSize=F.byteLength,I};p.heap8=()=>ee().HEAP8,p.heap8u=()=>ee().HEAP8U,p.heap16=()=>ee().HEAP16,p.heap16u=()=>ee().HEAP16U,p.heap32=()=>ee().HEAP32,p.heap32u=()=>ee().HEAP32U,p.heapForSize=function(F,Y=!0){const me=I.memory&&I.heapSize===I.memory.buffer.byteLength?I:ee();switch(F){case Int8Array:return me.HEAP8;case Uint8Array:return me.HEAP8U;case Int16Array:return me.HEAP16;case Uint16Array:return me.HEAP16U;case Int32Array:return me.HEAP32;case Uint32Array:return me.HEAP32U;case 8:return Y?me.HEAP8U:me.HEAP8;case 16:return Y?me.HEAP16U:me.HEAP16;case 32:return Y?me.HEAP32U:me.HEAP32;case 64:if(me.HEAP64)return Y?me.HEAP64U:me.HEAP64;break;default:if(p.bigIntEnabled){if(F===globalThis.BigUint64Array)return me.HEAP64U;if(F===globalThis.BigInt64Array)return me.HEAP64;break}}b("Invalid heapForSize() size: expecting 8, 16, 32,","or (if BigInt is enabled) 64.")},p.functionTable=function(){return p.exports.__indirect_function_table},p.functionEntry=function(F){const Y=p.functionTable();return F<Y.length?Y.get(F):void 0},p.jsFuncToWasm=function F(Y,me){if(F._||(F._={sigTypes:Object.assign(Object.create(null),{i:"i32",p:"i32",P:"i32",s:"i32",j:"i64",f:"f32",d:"f64"}),typeCodes:Object.assign(Object.create(null),{f64:124,f32:125,i64:126,i32:127}),uleb128Encode:function(te,O,M){M<128?te[O](M):te[O](M%128|128,M>>7)},rxJSig:/^(\w)\((\w*)\)$/,sigParams:function(te){const O=F._.rxJSig.exec(te);return O?O[2]:te.substr(1)},letterType:te=>F._.sigTypes[te]||b("Invalid signature letter:",te),pushSigType:(te,O)=>te.push(F._.typeCodes[F._.letterType(O)])}),typeof Y=="string"){const te=me;me=Y,Y=te}const Ke=F._.sigParams(me),H=[1,96];F._.uleb128Encode(H,"push",Ke.length);for(const te of Ke)F._.pushSigType(H,te);return me[0]==="v"?H.push(0):(H.push(1),F._.pushSigType(H,me[0])),F._.uleb128Encode(H,"unshift",H.length),H.unshift(0,97,115,109,1,0,0,0,1),H.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array(H)),{e:{f:Y}}).exports.f};const ie=function(Y,me,Ke){if(Ke&&!I.scopedAlloc.length&&b("No scopedAllocPush() scope is active."),typeof Y=="string"){const M=me;me=Y,Y=M}(typeof me!="string"||!(Y instanceof Function))&&b("Invalid arguments: expecting (function,signature) or (signature,function).");const H=p.functionTable(),te=H.length;let O;for(;I.freeFuncIndexes.length&&(O=I.freeFuncIndexes.pop(),H.get(O));){O=null;continue}O||(O=te,H.grow(1));try{return H.set(O,Y),Ke&&I.scopedAlloc[I.scopedAlloc.length-1].push(O),O}catch(M){if(!(M instanceof TypeError))throw O===te&&I.freeFuncIndexes.push(te),M}try{const M=p.jsFuncToWasm(Y,me);H.set(O,M),Ke&&I.scopedAlloc[I.scopedAlloc.length-1].push(O)}catch(M){throw O===te&&I.freeFuncIndexes.push(te),M}return O};p.installFunction=(F,Y)=>ie(F,Y,!1),p.scopedInstallFunction=(F,Y)=>ie(F,Y,!0),p.uninstallFunction=function(F){if(!F&&F!==0)return;const Y=I.freeFuncIndexes,me=p.functionTable();Y.push(F);const Ke=me.get(F);return me.set(F,null),Ke},p.peek=function(Y,me="i8"){me.endsWith("*")&&(me=x);const Ke=I.memory&&I.heapSize===I.memory.buffer.byteLength?I:ee(),H=Array.isArray(Y)?[]:void 0;let te;do{switch(H&&(Y=arguments[0].shift()),me){case"i1":case"i8":te=Ke.HEAP8[Y>>0];break;case"i16":te=Ke.HEAP16[Y>>1];break;case"i32":te=Ke.HEAP32[Y>>2];break;case"float":case"f32":te=Ke.HEAP32F[Y>>2];break;case"double":case"f64":te=Number(Ke.HEAP64F[Y>>3]);break;case"i64":if(p.bigIntEnabled){te=BigInt(Ke.HEAP64[Y>>3]);break}default:b("Invalid type for peek():",me)}H&&H.push(te)}while(H&&arguments[0].length);return H||te},p.poke=function(F,Y,me="i8"){me.endsWith("*")&&(me=x);const Ke=I.memory&&I.heapSize===I.memory.buffer.byteLength?I:ee();for(const H of Array.isArray(F)?F:[F])switch(me){case"i1":case"i8":Ke.HEAP8[H>>0]=Y;continue;case"i16":Ke.HEAP16[H>>1]=Y;continue;case"i32":Ke.HEAP32[H>>2]=Y;continue;case"float":case"f32":Ke.HEAP32F[H>>2]=Y;continue;case"double":case"f64":Ke.HEAP64F[H>>3]=Y;continue;case"i64":if(Ke.HEAP64){Ke.HEAP64[H>>3]=BigInt(Y);continue}default:b("Invalid type for poke(): "+me)}return this},p.peekPtr=(...F)=>p.peek(F.length===1?F[0]:F,x),p.pokePtr=(F,Y=0)=>p.poke(F,Y,x),p.peek8=(...F)=>p.peek(F.length===1?F[0]:F,"i8"),p.poke8=(F,Y)=>p.poke(F,Y,"i8"),p.peek16=(...F)=>p.peek(F.length===1?F[0]:F,"i16"),p.poke16=(F,Y)=>p.poke(F,Y,"i16"),p.peek32=(...F)=>p.peek(F.length===1?F[0]:F,"i32"),p.poke32=(F,Y)=>p.poke(F,Y,"i32"),p.peek64=(...F)=>p.peek(F.length===1?F[0]:F,"i64"),p.poke64=(F,Y)=>p.poke(F,Y,"i64"),p.peek32f=(...F)=>p.peek(F.length===1?F[0]:F,"f32"),p.poke32f=(F,Y)=>p.poke(F,Y,"f32"),p.peek64f=(...F)=>p.peek(F.length===1?F[0]:F,"f64"),p.poke64f=(F,Y)=>p.poke(F,Y,"f64"),p.getMemValue=p.peek,p.getPtrValue=p.peekPtr,p.setMemValue=p.poke,p.setPtrValue=p.pokePtr,p.isPtr32=F=>typeof F=="number"&&F===(F|0)&&F>=0,p.isPtr=p.isPtr32,p.cstrlen=function(F){if(!F||!p.isPtr(F))return null;const Y=ee().HEAP8U;let me=F;for(;Y[me]!==0;++me);return me-F};const Me=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,Ve=function(F,Y,me){return I.utf8Decoder.decode(F.buffer instanceof Me?F.slice(Y,me):F.subarray(Y,me))};p.cstrToJs=function(F){const Y=p.cstrlen(F);return Y?Ve(ee().HEAP8U,F,F+Y):Y===null?Y:""},p.jstrlen=function(F){if(typeof F!="string")return null;const Y=F.length;let me=0;for(let Ke=0;Ke<Y;++Ke){let H=F.charCodeAt(Ke);H>=55296&&H<=57343&&(H=65536+((H&1023)<<10)|F.charCodeAt(++Ke)&1023),H<=127?++me:H<=2047?me+=2:H<=65535?me+=3:me+=4}return me},p.jstrcpy=function(F,Y,me=0,Ke=-1,H=!0){if((!Y||!(Y instanceof Int8Array)&&!(Y instanceof Uint8Array))&&b("jstrcpy() target must be an Int8Array or Uint8Array."),Ke<0&&(Ke=Y.length-me),!(Ke>0)||!(me>=0))return 0;let te=0,O=F.length;const M=me,z=me+Ke-(H?1:0);for(;te<O&&me<z;++te){let Te=F.charCodeAt(te);if(Te>=55296&&Te<=57343&&(Te=65536+((Te&1023)<<10)|F.charCodeAt(++te)&1023),Te<=127){if(me>=z)break;Y[me++]=Te}else if(Te<=2047){if(me+1>=z)break;Y[me++]=192|Te>>6,Y[me++]=128|Te&63}else if(Te<=65535){if(me+2>=z)break;Y[me++]=224|Te>>12,Y[me++]=128|Te>>6&63,Y[me++]=128|Te&63}else{if(me+3>=z)break;Y[me++]=240|Te>>18,Y[me++]=128|Te>>12&63,Y[me++]=128|Te>>6&63,Y[me++]=128|Te&63}}return H&&(Y[me++]=0),me-M},p.cstrncpy=function(F,Y,me){if((!F||!Y)&&b("cstrncpy() does not accept NULL strings."),me<0)me=p.cstrlen(strPtr)+1;else if(!(me>0))return 0;const Ke=p.heap8u();let H=0,te;for(;H<me&&(te=Ke[Y+H]);++H)Ke[F+H]=te;return H<me&&(Ke[F+H++]=0),H},p.jstrToUintArray=(F,Y=!1)=>I.utf8Encoder.encode(Y?F+"\0":F);const Ze=(F,Y)=>{(!(F.alloc instanceof Function)||!(F.dealloc instanceof Function))&&b("Object is missing alloc() and/or dealloc() function(s)","required by",Y+"().")},it=function(F,Y,me,Ke){if(Ze(p,Ke),typeof F!="string")return null;{const H=I.utf8Encoder.encode(F),te=me(H.length+1),O=ee().HEAP8U;return O.set(H,te),O[te+H.length]=0,Y?[te,H.length]:te}};p.allocCString=(F,Y=!1)=>it(F,Y,p.alloc,"allocCString()"),p.scopedAllocPush=function(){Ze(p,"scopedAllocPush");const F=[];return I.scopedAlloc.push(F),F},p.scopedAllocPop=function(F){Ze(p,"scopedAllocPop");const Y=arguments.length?I.scopedAlloc.indexOf(F):I.scopedAlloc.length-1;Y<0&&b("Invalid state object for scopedAllocPop()."),arguments.length===0&&(F=I.scopedAlloc[Y]),I.scopedAlloc.splice(Y,1);for(let me;me=F.pop();)p.functionEntry(me)?p.uninstallFunction(me):p.dealloc(me)},p.scopedAlloc=function(F){I.scopedAlloc.length||b("No scopedAllocPush() scope is active.");const Y=p.alloc(F);return I.scopedAlloc[I.scopedAlloc.length-1].push(Y),Y},Object.defineProperty(p.scopedAlloc,"level",{configurable:!1,enumerable:!1,get:()=>I.scopedAlloc.length,set:()=>b("The 'active' property is read-only.")}),p.scopedAllocCString=(F,Y=!1)=>it(F,Y,p.scopedAlloc,"scopedAllocCString()");const Ae=function(F,Y){const me=p[F?"scopedAlloc":"alloc"]((Y.length+1)*p.ptrSizeof);let Ke=0;return Y.forEach(H=>{p.pokePtr(me+p.ptrSizeof*Ke++,p[F?"scopedAllocCString":"allocCString"](""+H))}),p.pokePtr(me+p.ptrSizeof*Ke,0),me};p.scopedAllocMainArgv=F=>Ae(!0,F),p.allocMainArgv=F=>Ae(!1,F),p.cArgvToJs=(F,Y)=>{const me=[];for(let Ke=0;Ke<F;++Ke){const H=p.peekPtr(Y+p.ptrSizeof*Ke);me.push(H?p.cstrToJs(H):null)}return me},p.scopedAllocCall=function(F){p.scopedAllocPush();try{return F()}finally{p.scopedAllocPop()}};const Se=function(F,Y,me){Ze(p,me);const Ke=Y?"i64":x;let H=p[me](F*(Y?8:S));if(p.poke(H,0,Ke),F===1)return H;const te=[H];for(let O=1;O<F;++O)H+=Y?8:S,te[O]=H,p.poke(H,0,Ke);return te};p.allocPtr=(F=1,Y=!0)=>Se(F,Y,"alloc"),p.scopedAllocPtr=(F=1,Y=!0)=>Se(F,Y,"scopedAlloc"),p.xGet=function(F){return p.exports[F]||b("Cannot find exported symbol:",F)};const Ue=(F,Y)=>b(F+"() requires",Y,"argument(s).");p.xCall=function(F,...Y){const me=F instanceof Function?F:p.xGet(F);return me instanceof Function||b("Exported symbol",F,"is not a function."),me.length!==Y.length&&Ue(me===F?me.name:F,me.length),arguments.length===2&&Array.isArray(arguments[1])?me.apply(null,arguments[1]):me.apply(null,Y)},I.xWrap=Object.create(null),I.xWrap.convert=Object.create(null),I.xWrap.convert.arg=new Map,I.xWrap.convert.result=new Map;const ce=I.xWrap.convert.arg,ge=I.xWrap.convert.result;p.bigIntEnabled&&ce.set("i64",F=>BigInt(F));const _e=x==="i32"?F=>F|0:F=>BigInt(F)|BigInt(0);ce.set("i32",_e).set("i16",F=>(F|0)&65535).set("i8",F=>(F|0)&255).set("f32",F=>Number(F).valueOf()).set("float",ce.get("f32")).set("f64",ce.get("f32")).set("double",ce.get("f64")).set("int",ce.get("i32")).set("null",F=>F).set(null,ce.get("null")).set("**",_e).set("*",_e),ge.set("*",_e).set("pointer",_e).set("number",F=>Number(F)).set("void",F=>{}).set("null",F=>F).set(null,ge.get("null"));{const F=["i8","i16","i32","int","f32","float","f64","double"];p.bigIntEnabled&&F.push("i64");const Y=ce.get(x);for(const me of F)ce.set(me+"*",Y),ge.set(me+"*",Y),ge.set(me,ce.get(me)||b("Missing arg converter:",me))}const We=function(F){return typeof F=="string"?p.scopedAllocCString(F):F?_e(F):null};ce.set("string",We).set("utf8",We).set("pointer",We),ge.set("string",F=>p.cstrToJs(F)).set("utf8",ge.get("string")).set("string:dealloc",F=>{try{return F?p.cstrToJs(F):null}finally{p.dealloc(F)}}).set("utf8:dealloc",ge.get("string:dealloc")).set("json",F=>JSON.parse(p.cstrToJs(F))).set("json:dealloc",F=>{try{return F?JSON.parse(p.cstrToJs(F)):null}finally{p.dealloc(F)}});const $e=class{constructor(F){this.name=F.name||"unnamed adapter"}convertArg(F,Y,me){b("AbstractArgAdapter must be subclassed.")}};ce.FuncPtrAdapter=class ia extends $e{constructor(Y){super(Y),ce.FuncPtrAdapter.warnOnUse&&console.warn("xArg.FuncPtrAdapter is an internal-only API","and is not intended to be invoked from","client-level code. Invoked with:",Y),this.name=Y.name||"unnamed",this.signature=Y.signature,Y.contextKey instanceof Function&&(this.contextKey=Y.contextKey,Y.bindScope||(Y.bindScope="context")),this.bindScope=Y.bindScope||b("FuncPtrAdapter options requires a bindScope (explicit or implied)."),ia.bindScopes.indexOf(Y.bindScope)<0&&b("Invalid options.bindScope ("+Y.bindMod+") for FuncPtrAdapter. Expecting one of: ("+ia.bindScopes.join(", ")+")"),this.isTransient=this.bindScope==="transient",this.isContext=this.bindScope==="context",this.isPermanent=this.bindScope==="permanent",this.singleton=this.bindScope==="singleton"?[]:void 0,this.callProxy=Y.callProxy instanceof Function?Y.callProxy:void 0}contextKey(Y,me){return this}contextMap(Y){const me=this.__cmap||(this.__cmap=new Map);let Ke=me.get(Y);return Ke===void 0&&me.set(Y,Ke=[]),Ke}convertArg(Y,me,Ke){let H=this.singleton;if(!H&&this.isContext&&(H=this.contextMap(this.contextKey(me,Ke))),H&&H[0]===Y)return H[1];if(Y instanceof Function){this.callProxy&&(Y=this.callProxy(Y));const te=ie(Y,this.signature,this.isTransient);if(ia.debugFuncInstall&&ia.debugOut("FuncPtrAdapter installed",this,this.contextKey(me,Ke),"@"+te,Y),H){if(H[1]){ia.debugFuncInstall&&ia.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(me,Ke),"@"+H[1],Y);try{I.scopedAlloc[I.scopedAlloc.length-1].push(H[1])}catch{}}H[0]=Y,H[1]=te}return te}else if(p.isPtr(Y)||Y===null||Y===void 0){if(H&&H[1]&&H[1]!==Y){ia.debugFuncInstall&&ia.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(me,Ke),"@"+H[1],Y);try{I.scopedAlloc[I.scopedAlloc.length-1].push(H[1])}catch{}H[0]=H[1]=Y|0}return Y||0}else throw new TypeError("Invalid FuncPtrAdapter argument type. Expecting a function pointer or a "+(this.name?this.name+" ":"")+"function matching signature "+this.signature+".")}},ce.FuncPtrAdapter.warnOnUse=!1,ce.FuncPtrAdapter.debugFuncInstall=!1,ce.FuncPtrAdapter.debugOut=console.debug.bind(console),ce.FuncPtrAdapter.bindScopes=["transient","context","singleton","permanent"];const we=F=>ce.get(F)||b("Argument adapter not found:",F),Be=F=>ge.get(F)||b("Result adapter not found:",F);I.xWrap.convertArg=(F,...Y)=>we(F)(...Y),I.xWrap.convertArgNoCheck=(F,...Y)=>ce.get(F)(...Y),I.xWrap.convertResult=(F,Y)=>F===null?Y:F?Be(F)(Y):void 0,I.xWrap.convertResultNoCheck=(F,Y)=>F===null?Y:F?ge.get(F)(Y):void 0,p.xWrap=function(F,Y,...me){arguments.length===3&&Array.isArray(arguments[2])&&(me=arguments[2]),p.isPtr(F)&&(F=p.functionEntry(F)||b("Function pointer not found in WASM function table."));const Ke=F instanceof Function,H=Ke?F:p.xGet(F);if(Ke&&(F=H.name||"unnamed function"),me.length!==H.length&&Ue(F,H.length),Y===null&&H.length===0)return H;Y!=null&&Be(Y);for(const O of me)O instanceof $e?ce.set(O,(...M)=>O.convertArg(...M)):we(O);const te=I.xWrap;return H.length===0?(...O)=>O.length?Ue(F,H.length):te.convertResult(Y,H.call(null)):function(...O){O.length!==H.length&&Ue(F,H.length);const M=p.scopedAllocPush();try{let z=0;for(;z<O.length;++z)O[z]=te.convertArgNoCheck(me[z],O[z],O,z);return te.convertResultNoCheck(Y,H.apply(null,O))}finally{p.scopedAllocPop(M)}}};const bt=function(F,Y,me,Ke,H,te){if(typeof me=="string"){if(Y===1)return te.get(me);if(Y===2){if(Ke)Ke instanceof Function||b(H,"requires a function argument.");else return delete te.get(me),F;return te.set(me,Ke),F}}b("Invalid arguments to",H)};return p.xWrap.resultAdapter=function F(Y,me){return bt(F,arguments.length,Y,me,"resultAdapter()",ge)},p.xWrap.argAdapter=function F(Y,me){return bt(F,arguments.length,Y,me,"argAdapter()",ce)},p.xWrap.FuncPtrAdapter=ce.FuncPtrAdapter,p.xCallWrapped=function(F,Y,me,...Ke){return Array.isArray(arguments[3])&&(Ke=arguments[3]),p.xWrap(F,Y,me||[]).apply(null,Ke||[])},p.xWrap.testConvertArg=I.xWrap.convertArg,p.xWrap.testConvertResult=I.xWrap.convertResult,p},globalThis.WhWasmUtilInstaller.yawl=function(p){const b=()=>fetch(p.uri,{credentials:"same-origin"}),x=this,S=function(ee){if(p.wasmUtilTarget){const ie=(...Ve)=>{throw new Error(Ve.join(" "))},Me=p.wasmUtilTarget;if(Me.module=ee.module,Me.instance=ee.instance,Me.instance.exports.memory||(Me.memory=p.imports&&p.imports.env&&p.imports.env.memory||ie("Missing 'memory' object!")),!Me.alloc&&ee.instance.exports.malloc){const Ve=ee.instance.exports;Me.alloc=function(Ze){return Ve.malloc(Ze)||ie("Allocation of",Ze,"bytes failed.")},Me.dealloc=function(Ze){Ve.free(Ze)}}x(Me)}return p.onload&&p.onload(ee,p),ee};return WebAssembly.instantiateStreaming?function(){return WebAssembly.instantiateStreaming(b(),p.imports||{}).then(S)}:function(){return b().then(ie=>ie.arrayBuffer()).then(ie=>WebAssembly.instantiate(ie,p.imports||{})).then(S)}}.bind(globalThis.WhWasmUtilInstaller),globalThis.Jaccwabyt=function p(b){const x=(...Pe)=>{throw new Error(Pe.join(" "))};!(b.heap instanceof WebAssembly.Memory)&&!(b.heap instanceof Function)&&x("config.heap must be WebAssembly.Memory instance or a function."),["alloc","dealloc"].forEach(function(Pe){b[Pe]instanceof Function||x("Config option '"+Pe+"' must be a function.")});const S=p,I=b.heap instanceof Function?b.heap:()=>new Uint8Array(b.heap.buffer),ee=b.alloc,ie=b.dealloc,Me=b.log||console.log.bind(console),Ve=b.memberPrefix||"",Ze=b.memberSuffix||"",it=b.bigIntEnabled===void 0?!!globalThis.BigInt64Array:!!b.bigIntEnabled,Ae=globalThis.BigInt,Se=globalThis.BigInt64Array,Ue=b.ptrSizeof||4,ce=b.ptrIR||"i32";S.debugFlags||(S.__makeDebugFlags=function(Pe=null){Pe&&Pe.__flags&&(Pe=Pe.__flags);const lt=function yt(wt){return arguments.length===0?yt.__flags:(wt<0?(delete yt.__flags.getter,delete yt.__flags.setter,delete yt.__flags.alloc,delete yt.__flags.dealloc):(yt.__flags.getter=(1&wt)!==0,yt.__flags.setter=(2&wt)!==0,yt.__flags.alloc=(4&wt)!==0,yt.__flags.dealloc=(8&wt)!==0),yt._flags)};return Object.defineProperty(lt,"__flags",{iterable:!1,writable:!1,value:Object.create(Pe)}),Pe||lt(0),lt},S.debugFlags=S.__makeDebugFlags());const ge=function(){const Pe=new ArrayBuffer(2);return new DataView(Pe).setInt16(0,256,!0),new Int16Array(Pe)[0]===256}(),_e=Pe=>Pe[1]==="(",We=Pe=>Pe==="P",$e=Pe=>_e(Pe)?"p":Pe[0],we=function(Pe){switch($e(Pe)){case"c":case"C":return"i8";case"i":return"i32";case"p":case"P":case"s":return ce;case"j":return"i64";case"f":return"float";case"d":return"double"}x("Unhandled signature IR:",Pe)},Be=Se?()=>!0:()=>x("BigInt64Array is not available."),bt=function(Pe){switch($e(Pe)){case"p":case"P":case"s":{switch(Ue){case 4:return"getInt32";case 8:return Be()&&"getBigInt64"}break}case"i":return"getInt32";case"c":return"getInt8";case"C":return"getUint8";case"j":return Be()&&"getBigInt64";case"f":return"getFloat32";case"d":return"getFloat64"}x("Unhandled DataView getter for signature:",Pe)},F=function(Pe){switch($e(Pe)){case"p":case"P":case"s":{switch(Ue){case 4:return"setInt32";case 8:return Be()&&"setBigInt64"}break}case"i":return"setInt32";case"c":return"setInt8";case"C":return"setUint8";case"j":return Be()&&"setBigInt64";case"f":return"setFloat32";case"d":return"setFloat64"}x("Unhandled DataView setter for signature:",Pe)},Y=function(Pe){switch($e(Pe)){case"i":case"f":case"c":case"C":case"d":return Number;case"j":return Be()&&Ae;case"p":case"P":case"s":switch(Ue){case 4:return Number;case 8:return Be()&&Ae}break}x("Unhandled DataView set wrapper for signature:",Pe)},me=(Pe,lt)=>Pe+"::"+lt,Ke=function(Pe,lt){return()=>x(me(Pe,lt),"is read-only.")},H=new WeakMap,te="(pointer-is-external)",O=function(Pe,lt,yt){if(yt||(yt=H.get(lt)),yt){if(H.delete(lt),Array.isArray(lt.ondispose)){let wt;for(;wt=lt.ondispose.shift();)try{wt instanceof Function?wt.call(lt):wt instanceof Ft?wt.dispose():typeof wt=="number"&&ie(wt)}catch(un){console.warn("ondispose() for",Pe.structName,"@",yt,"threw. NOT propagating it.",un)}}else if(lt.ondispose instanceof Function)try{lt.ondispose()}catch(wt){console.warn("ondispose() for",Pe.structName,"@",yt,"threw. NOT propagating it.",wt)}delete lt.ondispose,Pe.debugFlags.__flags.dealloc&&Me("debug.dealloc:",lt[te]?"EXTERNAL":"",Pe.structName,"instance:",Pe.structInfo.sizeof,"bytes @"+yt),lt[te]||ie(yt)}},M=Pe=>({configurable:!1,writable:!1,iterable:!1,value:Pe}),z=function(Pe,lt,yt){let wt=!yt;yt?Object.defineProperty(lt,te,M(yt)):(yt=ee(Pe.structInfo.sizeof),yt||x("Allocation of",Pe.structName,"structure failed."));try{Pe.debugFlags.__flags.alloc&&Me("debug.alloc:",wt?"":"EXTERNAL",Pe.structName,"instance:",Pe.structInfo.sizeof,"bytes @"+yt),wt&&I().fill(0,yt,yt+Pe.structInfo.sizeof),H.set(lt,yt)}catch(un){throw O(Pe,lt,yt),un}},Te=function(){const Pe=this.pointer;return Pe?new Uint8Array(I().slice(Pe,Pe+this.structInfo.sizeof)):null},It=M(Pe=>Ve+Pe+Ze),Lt=function(Pe,lt,yt=!0){let wt=Pe.members[lt];if(!wt&&(Ve||Ze)){for(const un of Object.values(Pe.members))if(un.key===lt){wt=un;break}!wt&&yt&&x(me(Pe.name,lt),"is not a mapped struct member.")}return wt},Wt=function Pe(lt,yt,wt=!1){Pe._||(Pe._=Mn=>Mn.replace(/[^vipPsjrdcC]/g,"").replace(/[pPscC]/g,"i"));const un=Lt(lt.structInfo,yt,!0);return wt?Pe._(un.signature):un.signature},Ye={configurable:!1,enumerable:!1,get:function(){return H.get(this)},set:()=>x("Cannot assign the 'pointer' property of a struct.")},de=M(function(){const Pe=[];for(const lt of Object.keys(this.structInfo.members))Pe.push(this.memberKey(lt));return Pe}),Ie=new TextDecoder("utf-8"),Ge=new TextEncoder,nt=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,Rt=function(Pe,lt,yt){return Ie.decode(Pe.buffer instanceof nt?Pe.slice(lt,yt):Pe.subarray(lt,yt))},Ut=function(Pe,lt,yt=!1){const wt=Lt(Pe.structInfo,lt,yt);return wt&&wt.signature.length===1&&wt.signature[0]==="s"?wt:!1},ke=function(Pe){Pe.signature!=="s"&&x("Invalid member type signature for C-string value:",JSON.stringify(Pe))},He=function(lt,yt){const wt=Lt(lt.structInfo,yt,!0);ke(wt);const un=lt[wt.key];if(!un)return null;let Mn=un;const On=I();for(;On[Mn]!==0;++Mn);return un===Mn?"":Rt(On,un,Mn)},Xe=function(Pe,...lt){Pe.ondispose?Array.isArray(Pe.ondispose)||(Pe.ondispose=[Pe.ondispose]):Pe.ondispose=[],Pe.ondispose.push(...lt)},xt=function(Pe){const lt=Ge.encode(Pe),yt=ee(lt.length+1);yt||x("Allocation error while duplicating string:",Pe);const wt=I();return wt.set(lt,yt),wt[yt+lt.length]=0,yt},gt=function(Pe,lt,yt){const wt=Lt(Pe.structInfo,lt,!0);ke(wt);const un=xt(yt);return Pe[wt.key]=un,Xe(Pe,un),Pe},Ft=function(lt,yt){arguments[2]!==M&&x("Do not call the StructType constructor","from client-level code."),Object.defineProperties(this,{structName:M(lt),structInfo:M(yt)})};Ft.prototype=Object.create(null,{dispose:M(function(){O(this.constructor,this)}),lookupMember:M(function(Pe,lt=!0){return Lt(this.structInfo,Pe,lt)}),memberToJsString:M(function(Pe){return He(this,Pe)}),memberIsString:M(function(Pe,lt=!0){return Ut(this,Pe,lt)}),memberKey:It,memberKeys:de,memberSignature:M(function(Pe,lt=!1){return Wt(this,Pe,lt)}),memoryDump:M(Te),pointer:Ye,setMemberCString:M(function(Pe,lt){return gt(this,Pe,lt)})}),Object.assign(Ft.prototype,{addOnDispose:function(...Pe){return Xe(this,...Pe),this}}),Object.defineProperties(Ft,{allocCString:M(xt),isA:M(Pe=>Pe instanceof Ft),hasExternalPointer:M(Pe=>Pe instanceof Ft&&!!Pe[te]),memberKey:It});const cn=Pe=>Number.isFinite(Pe)||Pe instanceof(Ae||Number),qt=function Pe(lt,yt,wt){if(!Pe._){Pe._={getters:{},setters:{},sw:{}};const Qr=["i","c","C","p","P","s","f","d","v()"];it&&Qr.push("j"),Qr.forEach(function(ms){Pe._.getters[ms]=bt(ms),Pe._.setters[ms]=F(ms),Pe._.sw[ms]=Y(ms)});const Py=/^[ipPsjfdcC]$/,Fy=/^[vipPsjfdcC]\([ipPsjfdcC]*\)$/;Pe.sigCheck=function(ms,Ly,jp,ud){Object.prototype.hasOwnProperty.call(ms,jp)&&x(ms.structName,"already has a property named",jp+"."),Py.test(ud)||Fy.test(ud)||x("Malformed signature for",me(ms.structName,Ly)+":",ud)}}const un=lt.memberKey(yt);Pe.sigCheck(lt.prototype,yt,un,wt.signature),wt.key=un,wt.name=yt;const Mn=$e(wt.signature),On=me(lt.prototype.structName,un),Ln=lt.prototype.debugFlags.__flags,Wo=Object.create(null);Wo.configurable=!1,Wo.enumerable=!1,Wo.get=function(){Ln.getter&&Me("debug.getter:",Pe._.getters[Mn],"for",we(Mn),On,"@",this.pointer,"+",wt.offset,"sz",wt.sizeof);let Qr=new DataView(I().buffer,this.pointer+wt.offset,wt.sizeof)[Pe._.getters[Mn]](0,ge);return Ln.getter&&Me("debug.getter:",On,"result =",Qr),Qr},wt.readOnly?Wo.set=Ke(lt.prototype.structName,un):Wo.set=function(Qr){if(Ln.setter&&Me("debug.setter:",Pe._.setters[Mn],"for",we(Mn),On,"@",this.pointer,"+",wt.offset,"sz",wt.sizeof,Qr),this.pointer||x("Cannot set struct property on disposed instance."),Qr===null)Qr=0;else for(;!cn(Qr);){if(We(wt.signature)&&Qr instanceof Ft){Qr=Qr.pointer||0,Ln.setter&&Me("debug.setter:",On,"resolved to",Qr);break}x("Invalid value for pointer-type",On+".")}new DataView(I().buffer,this.pointer+wt.offset,wt.sizeof)[Pe._.setters[Mn]](0,Pe._.sw[Mn](Qr),ge)},Object.defineProperty(lt.prototype,un,Wo)},ur=function Pe(lt,yt){arguments.length===1?(yt=lt,lt=yt.name):yt.name||(yt.name=lt),lt||x("Struct name is required.");let wt=!1;Object.keys(yt.members).forEach(On=>{const Ln=yt.members[On];Ln.sizeof?Ln.sizeof===1?Ln.signature==="c"||Ln.signature==="C"||x("Unexpected sizeof==1 member",me(yt.name,On),"with signature",Ln.signature):(Ln.sizeof%4!==0&&(console.warn("Invalid struct member description =",Ln,"from",yt),x(lt,"member",On,"sizeof is not aligned. sizeof="+Ln.sizeof)),Ln.offset%4!==0&&(console.warn("Invalid struct member description =",Ln,"from",yt),x(lt,"member",On,"offset is not aligned. offset="+Ln.offset))):x(lt,"member",On,"is missing sizeof."),(!wt||wt.offset<Ln.offset)&&(wt=Ln)}),wt?yt.sizeof<wt.offset+wt.sizeof&&x("Invalid struct config:",lt,"max member offset ("+wt.offset+") ","extends past end of struct (sizeof="+yt.sizeof+")."):x("No member property descriptions found.");const un=M(S.__makeDebugFlags(Pe.debugFlags)),Mn=function On(Ln){this instanceof On?arguments.length?((Ln!==(Ln|0)||Ln<=0)&&x("Invalid pointer value for",lt,"constructor."),z(On,this,Ln)):z(On,this):x("The",lt,"constructor may only be called via 'new'.")};return Object.defineProperties(Mn,{debugFlags:un,isA:M(On=>On instanceof Mn),memberKey:It,memberKeys:de,methodInfoForKey:M(function(On){}),structInfo:M(yt),structName:M(lt)}),Mn.prototype=new Ft(lt,yt,M),Object.defineProperties(Mn.prototype,{debugFlags:un,constructor:M(Mn)}),Object.keys(yt.members).forEach(On=>qt(Mn,On,yt.members[On])),Mn};return ur.StructType=Ft,ur.config=b,ur.allocCString=xt,ur.debugFlags||(ur.debugFlags=S.__makeDebugFlags(S.debugFlags)),ur},globalThis.sqlite3ApiBootstrap.initializers.push(function(p){const b=(...ce)=>{throw new Error(ce.join(" "))};p.SQLite3Error.toss;const x=p.capi,S=p.wasm,I=p.util;if(globalThis.WhWasmUtilInstaller(S),delete globalThis.WhWasmUtilInstaller,S.bindingSignatures=[["sqlite3_aggregate_context","void*","sqlite3_context*","int"],["sqlite3_bind_double","int","sqlite3_stmt*","int","f64"],["sqlite3_bind_int","int","sqlite3_stmt*","int","int"],["sqlite3_bind_null",void 0,"sqlite3_stmt*","int"],["sqlite3_bind_parameter_count","int","sqlite3_stmt*"],["sqlite3_bind_parameter_index","int","sqlite3_stmt*","string"],["sqlite3_bind_parameter_name","string","sqlite3_stmt*","int"],["sqlite3_bind_pointer","int","sqlite3_stmt*","int","*","string:static","*"],["sqlite3_busy_handler","int",["sqlite3*",new S.xWrap.FuncPtrAdapter({signature:"i(pi)",contextKey:(ce,ge)=>ce[0]}),"*"]],["sqlite3_busy_timeout","int","sqlite3*","int"],["sqlite3_changes","int","sqlite3*"],["sqlite3_clear_bindings","int","sqlite3_stmt*"],["sqlite3_collation_needed","int","sqlite3*","*","*"],["sqlite3_column_blob","*","sqlite3_stmt*","int"],["sqlite3_column_bytes","int","sqlite3_stmt*","int"],["sqlite3_column_count","int","sqlite3_stmt*"],["sqlite3_column_decltype","string","sqlite3_stmt*","int"],["sqlite3_column_double","f64","sqlite3_stmt*","int"],["sqlite3_column_int","int","sqlite3_stmt*","int"],["sqlite3_column_name","string","sqlite3_stmt*","int"],["sqlite3_column_text","string","sqlite3_stmt*","int"],["sqlite3_column_type","int","sqlite3_stmt*","int"],["sqlite3_column_value","sqlite3_value*","sqlite3_stmt*","int"],["sqlite3_commit_hook","void*",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_commit_hook",signature:"i(p)",contextKey:ce=>ce[0]}),"*"]],["sqlite3_compileoption_get","string","int"],["sqlite3_compileoption_used","int","string"],["sqlite3_complete","int","string:flexible"],["sqlite3_context_db_handle","sqlite3*","sqlite3_context*"],["sqlite3_data_count","int","sqlite3_stmt*"],["sqlite3_db_filename","string","sqlite3*","string"],["sqlite3_db_handle","sqlite3*","sqlite3_stmt*"],["sqlite3_db_name","string","sqlite3*","int"],["sqlite3_db_readonly","int","sqlite3*","string"],["sqlite3_db_status","int","sqlite3*","int","*","*","int"],["sqlite3_errcode","int","sqlite3*"],["sqlite3_errmsg","string","sqlite3*"],["sqlite3_error_offset","int","sqlite3*"],["sqlite3_errstr","string","int"],["sqlite3_exec","int",["sqlite3*","string:flexible",new S.xWrap.FuncPtrAdapter({signature:"i(pipp)",bindScope:"transient",callProxy:ce=>{let ge;return(_e,We,$e,we)=>{try{const Be=S.cArgvToJs(We,$e);return ge||(ge=S.cArgvToJs(We,we)),ce(Be,ge)|0}catch(Be){return Be.resultCode||x.SQLITE_ERROR}}}}),"*","**"]],["sqlite3_expanded_sql","string","sqlite3_stmt*"],["sqlite3_extended_errcode","int","sqlite3*"],["sqlite3_extended_result_codes","int","sqlite3*","int"],["sqlite3_file_control","int","sqlite3*","string","int","*"],["sqlite3_finalize","int","sqlite3_stmt*"],["sqlite3_free",void 0,"*"],["sqlite3_get_autocommit","int","sqlite3*"],["sqlite3_get_auxdata","*","sqlite3_context*","int"],["sqlite3_initialize",void 0],["sqlite3_interrupt",void 0,"sqlite3*"],["sqlite3_is_interrupted","int","sqlite3*"],["sqlite3_keyword_count","int"],["sqlite3_keyword_name","int",["int","**","*"]],["sqlite3_keyword_check","int",["string","int"]],["sqlite3_libversion","string"],["sqlite3_libversion_number","int"],["sqlite3_limit","int",["sqlite3*","int","int"]],["sqlite3_malloc","*","int"],["sqlite3_open","int","string","*"],["sqlite3_open_v2","int","string","*","int","string"],["sqlite3_realloc","*","*","int"],["sqlite3_reset","int","sqlite3_stmt*"],["sqlite3_result_blob",void 0,"sqlite3_context*","*","int","*"],["sqlite3_result_double",void 0,"sqlite3_context*","f64"],["sqlite3_result_error",void 0,"sqlite3_context*","string","int"],["sqlite3_result_error_code",void 0,"sqlite3_context*","int"],["sqlite3_result_error_nomem",void 0,"sqlite3_context*"],["sqlite3_result_error_toobig",void 0,"sqlite3_context*"],["sqlite3_result_int",void 0,"sqlite3_context*","int"],["sqlite3_result_null",void 0,"sqlite3_context*"],["sqlite3_result_pointer",void 0,"sqlite3_context*","*","string:static","*"],["sqlite3_result_subtype",void 0,"sqlite3_value*","int"],["sqlite3_result_text",void 0,"sqlite3_context*","string","int","*"],["sqlite3_result_zeroblob",void 0,"sqlite3_context*","int"],["sqlite3_rollback_hook","void*",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_rollback_hook",signature:"v(p)",contextKey:ce=>ce[0]}),"*"]],["sqlite3_set_auxdata",void 0,["sqlite3_context*","int","*",new S.xWrap.FuncPtrAdapter({name:"xDestroyAuxData",signature:"v(*)",contextKey:(ce,ge)=>ce[0]})]],["sqlite3_shutdown",void 0],["sqlite3_sourceid","string"],["sqlite3_sql","string","sqlite3_stmt*"],["sqlite3_status","int","int","*","*","int"],["sqlite3_step","int","sqlite3_stmt*"],["sqlite3_stmt_busy","int","sqlite3_stmt*"],["sqlite3_stmt_readonly","int","sqlite3_stmt*"],["sqlite3_stmt_status","int","sqlite3_stmt*","int","int"],["sqlite3_strglob","int","string","string"],["sqlite3_stricmp","int","string","string"],["sqlite3_strlike","int","string","string","int"],["sqlite3_strnicmp","int","string","string","int"],["sqlite3_table_column_metadata","int","sqlite3*","string","string","string","**","**","*","*","*"],["sqlite3_total_changes","int","sqlite3*"],["sqlite3_trace_v2","int",["sqlite3*","int",new S.xWrap.FuncPtrAdapter({name:"sqlite3_trace_v2::callback",signature:"i(ippp)",contextKey:(ce,ge)=>ce[0]}),"*"]],["sqlite3_txn_state","int",["sqlite3*","string"]],["sqlite3_uri_boolean","int","sqlite3_filename","string","int"],["sqlite3_uri_key","string","sqlite3_filename","int"],["sqlite3_uri_parameter","string","sqlite3_filename","string"],["sqlite3_user_data","void*","sqlite3_context*"],["sqlite3_value_blob","*","sqlite3_value*"],["sqlite3_value_bytes","int","sqlite3_value*"],["sqlite3_value_double","f64","sqlite3_value*"],["sqlite3_value_dup","sqlite3_value*","sqlite3_value*"],["sqlite3_value_free",void 0,"sqlite3_value*"],["sqlite3_value_frombind","int","sqlite3_value*"],["sqlite3_value_int","int","sqlite3_value*"],["sqlite3_value_nochange","int","sqlite3_value*"],["sqlite3_value_numeric_type","int","sqlite3_value*"],["sqlite3_value_pointer","*","sqlite3_value*","string:static"],["sqlite3_value_subtype","int","sqlite3_value*"],["sqlite3_value_text","string","sqlite3_value*"],["sqlite3_value_type","int","sqlite3_value*"],["sqlite3_vfs_find","*","string"],["sqlite3_vfs_register","int","sqlite3_vfs*","int"],["sqlite3_vfs_unregister","int","sqlite3_vfs*"]],S.exports.sqlite3_progress_handler&&S.bindingSignatures.push(["sqlite3_progress_handler",void 0,["sqlite3*","int",new S.xWrap.FuncPtrAdapter({name:"xProgressHandler",signature:"i(p)",bindScope:"context",contextKey:(ce,ge)=>ce[0]}),"*"]]),S.exports.sqlite3_stmt_explain&&S.bindingSignatures.push(["sqlite3_stmt_explain","int","sqlite3_stmt*","int"],["sqlite3_stmt_isexplain","int","sqlite3_stmt*"]),S.exports.sqlite3_set_authorizer&&S.bindingSignatures.push(["sqlite3_set_authorizer","int",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_set_authorizer::xAuth",signature:"i(pissss)",contextKey:(ce,ge)=>ce[0],callProxy:ce=>(ge,_e,We,$e,we,Be)=>{try{return We=We&&S.cstrToJs(We),$e=$e&&S.cstrToJs($e),we=we&&S.cstrToJs(we),Be=Be&&S.cstrToJs(Be),ce(ge,_e,We,$e,we,Be)||0}catch(bt){return bt.resultCode||x.SQLITE_ERROR}}}),"*"]]),S.bindingSignatures.int64=[["sqlite3_bind_int64","int",["sqlite3_stmt*","int","i64"]],["sqlite3_changes64","i64",["sqlite3*"]],["sqlite3_column_int64","i64",["sqlite3_stmt*","int"]],["sqlite3_deserialize","int","sqlite3*","string","*","i64","i64","int"],["sqlite3_last_insert_rowid","i64",["sqlite3*"]],["sqlite3_malloc64","*","i64"],["sqlite3_msize","i64","*"],["sqlite3_overload_function","int",["sqlite3*","string","int"]],["sqlite3_realloc64","*","*","i64"],["sqlite3_result_int64",void 0,"*","i64"],["sqlite3_result_zeroblob64","int","*","i64"],["sqlite3_serialize","*","sqlite3*","string","*","int"],["sqlite3_set_last_insert_rowid",void 0,["sqlite3*","i64"]],["sqlite3_status64","int","int","*","*","int"],["sqlite3_total_changes64","i64",["sqlite3*"]],["sqlite3_update_hook","*",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_update_hook",signature:"v(iippj)",contextKey:ce=>ce[0],callProxy:ce=>(ge,_e,We,$e,we)=>{ce(ge,_e,S.cstrToJs(We),S.cstrToJs($e),we)}}),"*"]],["sqlite3_uri_int64","i64",["sqlite3_filename","string","i64"]],["sqlite3_value_int64","i64","sqlite3_value*"]],S.bigIntEnabled&&S.exports.sqlite3_declare_vtab&&S.bindingSignatures.int64.push(["sqlite3_create_module","int",["sqlite3*","string","sqlite3_module*","*"]],["sqlite3_create_module_v2","int",["sqlite3*","string","sqlite3_module*","*","*"]],["sqlite3_declare_vtab","int",["sqlite3*","string:flexible"]],["sqlite3_drop_modules","int",["sqlite3*","**"]],["sqlite3_vtab_collation","string","sqlite3_index_info*","int"],["sqlite3_vtab_distinct","int","sqlite3_index_info*"],["sqlite3_vtab_in","int","sqlite3_index_info*","int","int"],["sqlite3_vtab_in_first","int","sqlite3_value*","**"],["sqlite3_vtab_in_next","int","sqlite3_value*","**"],["sqlite3_vtab_nochange","int","sqlite3_context*"],["sqlite3_vtab_on_conflict","int","sqlite3*"],["sqlite3_vtab_rhs_value","int","sqlite3_index_info*","int","**"]),S.bigIntEnabled&&S.exports.sqlite3_preupdate_hook&&S.bindingSignatures.int64.push(["sqlite3_preupdate_blobwrite","int","sqlite3*"],["sqlite3_preupdate_count","int","sqlite3*"],["sqlite3_preupdate_depth","int","sqlite3*"],["sqlite3_preupdate_hook","*",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_preupdate_hook",signature:"v(ppippjj)",contextKey:ce=>ce[0],callProxy:ce=>(ge,_e,We,$e,we,Be,bt)=>{ce(ge,_e,We,S.cstrToJs($e),S.cstrToJs(we),Be,bt)}}),"*"]],["sqlite3_preupdate_new","int",["sqlite3*","int","**"]],["sqlite3_preupdate_old","int",["sqlite3*","int","**"]]),S.bigIntEnabled&&S.exports.sqlite3changegroup_add&&S.exports.sqlite3session_create&&S.exports.sqlite3_preupdate_hook){const ce={signature:"i(ps)",callProxy:ge=>(_e,We)=>{try{return ge(_e,S.cstrToJs(We))|0}catch($e){return $e.resultCode||x.SQLITE_ERROR}}};S.bindingSignatures.int64.push(["sqlite3changegroup_add","int",["sqlite3_changegroup*","int","void*"]],["sqlite3changegroup_add_strm","int",["sqlite3_changegroup*",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changegroup_delete",void 0,["sqlite3_changegroup*"]],["sqlite3changegroup_new","int",["**"]],["sqlite3changegroup_output","int",["sqlite3_changegroup*","int*","**"]],["sqlite3changegroup_output_strm","int",["sqlite3_changegroup*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply","int",["sqlite3*","int","void*",new S.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...ce}),new S.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_strm","int",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...ce}),new S.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_v2","int",["sqlite3*","int","void*",new S.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...ce}),new S.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_apply_v2_strm","int",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...ce}),new S.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_concat","int",["int","void*","int","void*","int*","**"]],["sqlite3changeset_concat_strm","int",[new S.xWrap.FuncPtrAdapter({name:"xInputA",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xInputB",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_conflict","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_finalize","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_fk_conflicts","int",["sqlite3_changeset_iter*","int*"]],["sqlite3changeset_invert","int",["int","void*","int*","**"]],["sqlite3changeset_invert_strm","int",[new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_new","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_next","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_old","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_op","int",["sqlite3_changeset_iter*","**","int*","int*","int*"]],["sqlite3changeset_pk","int",["sqlite3_changeset_iter*","**","int*"]],["sqlite3changeset_start","int",["**","int","*"]],["sqlite3changeset_start_strm","int",["**",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changeset_start_v2","int",["**","int","*","int"]],["sqlite3changeset_start_v2_strm","int",["**",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*","int"]],["sqlite3session_attach","int",["sqlite3_session*","string"]],["sqlite3session_changeset","int",["sqlite3_session*","int*","**"]],["sqlite3session_changeset_size","i64",["sqlite3_session*"]],["sqlite3session_changeset_strm","int",["sqlite3_session*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_config","int",["int","void*"]],["sqlite3session_create","int",["sqlite3*","string","**"]],["sqlite3session_diff","int",["sqlite3_session*","string","string","**"]],["sqlite3session_enable","int",["sqlite3_session*","int"]],["sqlite3session_indirect","int",["sqlite3_session*","int"]],["sqlite3session_isempty","int",["sqlite3_session*"]],["sqlite3session_memory_used","i64",["sqlite3_session*"]],["sqlite3session_object_config","int",["sqlite3_session*","int","void*"]],["sqlite3session_patchset","int",["sqlite3_session*","*","**"]],["sqlite3session_patchset_strm","int",["sqlite3_session*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_table_filter",void 0,["sqlite3_session*",new S.xWrap.FuncPtrAdapter({name:"xFilter",...ce,contextKey:(ge,_e)=>ge[0]}),"*"]])}S.bindingSignatures.wasmInternal=[["sqlite3__wasm_db_reset","int","sqlite3*"],["sqlite3__wasm_db_vfs","sqlite3_vfs*","sqlite3*","string"],["sqlite3__wasm_vfs_create_file","int","sqlite3_vfs*","string","*","int"],["sqlite3__wasm_posix_create_file","int","string","*","int"],["sqlite3__wasm_vfs_unlink","int","sqlite3_vfs*","string"],["sqlite3__wasm_qfmt_token","string:dealloc","string","int"]],p.StructBinder=globalThis.Jaccwabyt({heap:S.heap8u,alloc:S.alloc,dealloc:S.dealloc,bigIntEnabled:S.bigIntEnabled,memberPrefix:"$"}),delete globalThis.Jaccwabyt;{const ce=S.xWrap.argAdapter("string");S.xWrap.argAdapter("string:flexible",we=>ce(I.flexibleString(we))),S.xWrap.argAdapter("string:static",function(we){return S.isPtr(we)?we:(we=""+we,this[we]||(this[we]=S.allocCString(we)))}.bind(Object.create(null)));const ge=S.xWrap.argAdapter("*"),_e=function(){};S.xWrap.argAdapter("sqlite3_filename",ge)("sqlite3_context*",ge)("sqlite3_value*",ge)("void*",ge)("sqlite3_changegroup*",ge)("sqlite3_changeset_iter*",ge)("sqlite3_session*",ge)("sqlite3_stmt*",we=>ge(we instanceof(p?.oo1?.Stmt||_e)?we.pointer:we))("sqlite3*",we=>ge(we instanceof(p?.oo1?.DB||_e)?we.pointer:we))("sqlite3_vfs*",we=>typeof we=="string"?x.sqlite3_vfs_find(we)||p.SQLite3Error.toss(x.SQLITE_NOTFOUND,"Unknown sqlite3_vfs name:",we):ge(we instanceof(x.sqlite3_vfs||_e)?we.pointer:we)),S.exports.sqlite3_declare_vtab&&S.xWrap.argAdapter("sqlite3_index_info*",we=>ge(we instanceof(x.sqlite3_index_info||_e)?we.pointer:we))("sqlite3_module*",we=>ge(we instanceof(x.sqlite3_module||_e)?we.pointer:we));const We=S.xWrap.resultAdapter("*");S.xWrap.resultAdapter("sqlite3*",We)("sqlite3_context*",We)("sqlite3_stmt*",We)("sqlite3_value*",We)("sqlite3_vfs*",We)("void*",We),S.exports.sqlite3_step.length===0&&(S.xWrap.doArgcCheck=!1,p.config.warn("Disabling sqlite3.wasm.xWrap.doArgcCheck due to environmental quirks."));for(const we of S.bindingSignatures)x[we[0]]=S.xWrap.apply(null,we);for(const we of S.bindingSignatures.wasmInternal)I[we[0]]=S.xWrap.apply(null,we);const $e=function(we){return()=>b(we+"() is unavailable due to lack","of BigInt support in this build.")};for(const we of S.bindingSignatures.int64)x[we[0]]=S.bigIntEnabled?S.xWrap.apply(null,we):$e(we[0]);if(delete S.bindingSignatures,S.exports.sqlite3__wasm_db_error){const we=S.xWrap("sqlite3__wasm_db_error","int","sqlite3*","int","string");I.sqlite3__wasm_db_error=function(Be,bt,F){return bt instanceof p.WasmAllocError?(bt=x.SQLITE_NOMEM,F=0):bt instanceof Error&&(F=F||""+bt,bt=bt.resultCode||x.SQLITE_ERROR),Be?we(Be,bt,F):bt}}else I.sqlite3__wasm_db_error=function(we,Be,bt){return console.warn("sqlite3__wasm_db_error() is not exported.",arguments),Be}}{const ce=S.xCall("sqlite3__wasm_enum_json");ce||b("Maintenance required: increase sqlite3__wasm_enum_json()'s","static buffer size!"),S.ctype=JSON.parse(S.cstrToJs(ce));const ge=["access","authorizer","blobFinalizers","changeset","config","dataTypes","dbConfig","dbStatus","encodings","fcntl","flock","ioCap","limits","openFlags","prepareFlags","resultCodes","sqlite3Status","stmtStatus","syncFlags","trace","txnState","udfFlags","version"];S.bigIntEnabled&&ge.push("serialize","session","vtab");for(const $e of ge)for(const we of Object.entries(S.ctype[$e]))x[we[0]]=we[1];S.functionEntry(x.SQLITE_WASM_DEALLOC)||b("Internal error: cannot resolve exported function","entry SQLITE_WASM_DEALLOC (=="+x.SQLITE_WASM_DEALLOC+").");const _e=Object.create(null);for(const $e of["resultCodes"])for(const we of Object.entries(S.ctype[$e]))_e[we[1]]=we[0];x.sqlite3_js_rc_str=$e=>_e[$e];const We=Object.assign(Object.create(null),{WasmTestStruct:!0,sqlite3_kvvfs_methods:!I.isUIThread(),sqlite3_index_info:!S.bigIntEnabled,sqlite3_index_constraint:!S.bigIntEnabled,sqlite3_index_orderby:!S.bigIntEnabled,sqlite3_index_constraint_usage:!S.bigIntEnabled});for(const $e of S.ctype.structs)We[$e.name]||(x[$e.name]=p.StructBinder($e));if(x.sqlite3_index_info){for(const $e of["sqlite3_index_constraint","sqlite3_index_orderby","sqlite3_index_constraint_usage"])x.sqlite3_index_info[$e]=x[$e],delete x[$e];x.sqlite3_vtab_config=S.xWrap("sqlite3__wasm_vtab_config","int",["sqlite3*","int","int"])}}const ee=(ce,ge,_e)=>I.sqlite3__wasm_db_error(ce,x.SQLITE_MISUSE,ge+"() requires "+_e+" argument"+(_e===1?"":"s")+"."),ie=ce=>I.sqlite3__wasm_db_error(ce,x.SQLITE_FORMAT,"SQLITE_UTF8 is the only supported encoding."),Me=ce=>S.xWrap.argAdapter("sqlite3*")(ce),Ve=ce=>S.isPtr(ce)?S.cstrToJs(ce):ce,Ze=function(ce,ge){ce=Me(ce);let _e=this.dbMap.get(ce);if(ge)!_e&&ge>0&&this.dbMap.set(ce,_e=Object.create(null));else return this.dbMap.delete(ce),_e;return _e}.bind(Object.assign(Object.create(null),{dbMap:new Map}));Ze.addCollation=function(ce,ge){const _e=Ze(ce,1);_e.collation||(_e.collation=new Set),_e.collation.add(Ve(ge).toLowerCase())},Ze._addUDF=function(ce,ge,_e,We){ge=Ve(ge).toLowerCase();let $e=We.get(ge);$e||We.set(ge,$e=new Set),$e.add(_e<0?-1:_e)},Ze.addFunction=function(ce,ge,_e){const We=Ze(ce,1);We.udf||(We.udf=new Map),this._addUDF(ce,ge,_e,We.udf)},S.exports.sqlite3_create_window_function&&(Ze.addWindowFunc=function(ce,ge,_e){const We=Ze(ce,1);We.wudf||(We.wudf=new Map),this._addUDF(ce,ge,_e,We.wudf)}),Ze.cleanup=function(ce){ce=Me(ce);const ge=[ce];for(const $e of["sqlite3_busy_handler","sqlite3_commit_hook","sqlite3_preupdate_hook","sqlite3_progress_handler","sqlite3_rollback_hook","sqlite3_set_authorizer","sqlite3_trace_v2","sqlite3_update_hook"]){const we=S.exports[$e];if(we){ge.length=we.length;try{x[$e](...ge)}catch(Be){p.config.warn("close-time call of",$e+"(",ge,") threw:",Be)}}}const _e=Ze(ce,0);if(!_e)return;if(_e.collation){for(const $e of _e.collation)try{x.sqlite3_create_collation_v2(ce,$e,x.SQLITE_UTF8,0,0,0)}catch{}delete _e.collation}let We;for(We=0;We<2;++We){const $e=We?_e.wudf:_e.udf;if(!$e)continue;const we=We?x.sqlite3_create_window_function:x.sqlite3_create_function_v2;for(const Be of $e){const bt=Be[0],F=Be[1],Y=[ce,bt,0,x.SQLITE_UTF8,0,0,0,0,0];We&&Y.push(0);for(const me of F)try{Y[2]=me,we.apply(null,Y)}catch{}F.clear()}$e.clear()}delete _e.udf,delete _e.wudf};{const ce=S.xWrap("sqlite3_close_v2","int","sqlite3*");x.sqlite3_close_v2=function(ge){if(arguments.length!==1)return ee(ge,"sqlite3_close_v2",1);if(ge)try{Ze.cleanup(ge)}catch{}return ce(ge)}}if(x.sqlite3session_create){const ce=S.xWrap("sqlite3session_delete",void 0,["sqlite3_session*"]);x.sqlite3session_delete=function(ge){if(arguments.length!==1)return ee(pDb,"sqlite3session_delete",1);ge&&x.sqlite3session_table_filter(ge,0,0),ce(ge)}}{const ce=(_e,We)=>"argv["+We+"]:"+_e[0]+":"+S.cstrToJs(_e[1]).toLowerCase(),ge=S.xWrap("sqlite3_create_collation_v2","int",["sqlite3*","string","int","*",new S.xWrap.FuncPtrAdapter({name:"xCompare",signature:"i(pipip)",contextKey:ce}),new S.xWrap.FuncPtrAdapter({name:"xDestroy",signature:"v(p)",contextKey:ce})]);x.sqlite3_create_collation_v2=function(_e,We,$e,we,Be,bt){if(arguments.length!==6)return ee(_e,"sqlite3_create_collation_v2",6);if(!($e&15))$e|=x.SQLITE_UTF8;else if(x.SQLITE_UTF8!==($e&15))return ie(_e);try{const F=ge(_e,We,$e,we,Be,bt);return F===0&&Be instanceof Function&&Ze.addCollation(_e,We),F}catch(F){return I.sqlite3__wasm_db_error(_e,F)}},x.sqlite3_create_collation=(_e,We,$e,we,Be)=>arguments.length===5?x.sqlite3_create_collation_v2(_e,We,$e,we,Be,0):ee(_e,"sqlite3_create_collation",5)}{const ce=function($e,we){return $e[0]+":"+($e[2]<0?-1:$e[2])+":"+we+":"+S.cstrToJs($e[1]).toLowerCase()},ge=Object.assign(Object.create(null),{xInverseAndStep:{signature:"v(pip)",contextKey:ce,callProxy:$e=>(we,Be,bt)=>{try{$e(we,...x.sqlite3_values_to_js(Be,bt))}catch(F){x.sqlite3_result_error_js(we,F)}}},xFinalAndValue:{signature:"v(p)",contextKey:ce,callProxy:$e=>we=>{try{x.sqlite3_result_js(we,$e(we))}catch(Be){x.sqlite3_result_error_js(we,Be)}}},xFunc:{signature:"v(pip)",contextKey:ce,callProxy:$e=>(we,Be,bt)=>{try{x.sqlite3_result_js(we,$e(we,...x.sqlite3_values_to_js(Be,bt)))}catch(F){x.sqlite3_result_error_js(we,F)}}},xDestroy:{signature:"v(p)",contextKey:ce,callProxy:$e=>we=>{try{$e(we)}catch(Be){console.error("UDF xDestroy method threw:",Be)}}}}),_e=S.xWrap("sqlite3_create_function_v2","int",["sqlite3*","string","int","int","*",new S.xWrap.FuncPtrAdapter({name:"xFunc",...ge.xFunc}),new S.xWrap.FuncPtrAdapter({name:"xStep",...ge.xInverseAndStep}),new S.xWrap.FuncPtrAdapter({name:"xFinal",...ge.xFinalAndValue}),new S.xWrap.FuncPtrAdapter({name:"xDestroy",...ge.xDestroy})]),We=S.exports.sqlite3_create_window_function?S.xWrap("sqlite3_create_window_function","int",["sqlite3*","string","int","int","*",new S.xWrap.FuncPtrAdapter({name:"xStep",...ge.xInverseAndStep}),new S.xWrap.FuncPtrAdapter({name:"xFinal",...ge.xFinalAndValue}),new S.xWrap.FuncPtrAdapter({name:"xValue",...ge.xFinalAndValue}),new S.xWrap.FuncPtrAdapter({name:"xInverse",...ge.xInverseAndStep}),new S.xWrap.FuncPtrAdapter({name:"xDestroy",...ge.xDestroy})]):void 0;x.sqlite3_create_function_v2=function $e(we,Be,bt,F,Y,me,Ke,H,te){if($e.length!==arguments.length)return ee(we,"sqlite3_create_function_v2",$e.length);if(!(F&15))F|=x.SQLITE_UTF8;else if(x.SQLITE_UTF8!==(F&15))return ie(we);try{const O=_e(we,Be,bt,F,Y,me,Ke,H,te);return O===0&&(me instanceof Function||Ke instanceof Function||H instanceof Function||te instanceof Function)&&Ze.addFunction(we,Be,bt),O}catch(O){return console.error("sqlite3_create_function_v2() setup threw:",O),I.sqlite3__wasm_db_error(we,O,"Creation of UDF threw: "+O)}},x.sqlite3_create_function=function $e(we,Be,bt,F,Y,me,Ke,H){return $e.length===arguments.length?x.sqlite3_create_function_v2(we,Be,bt,F,Y,me,Ke,H,0):ee(we,"sqlite3_create_function",$e.length)},We?x.sqlite3_create_window_function=function $e(we,Be,bt,F,Y,me,Ke,H,te,O){if($e.length!==arguments.length)return ee(we,"sqlite3_create_window_function",$e.length);if(!(F&15))F|=x.SQLITE_UTF8;else if(x.SQLITE_UTF8!==(F&15))return ie(we);try{const M=We(we,Be,bt,F,Y,me,Ke,H,te,O);return M===0&&(me instanceof Function||Ke instanceof Function||H instanceof Function||te instanceof Function||O instanceof Function)&&Ze.addWindowFunc(we,Be,bt),M}catch(M){return console.error("sqlite3_create_window_function() setup threw:",M),I.sqlite3__wasm_db_error(we,M,"Creation of UDF threw: "+M)}}:delete x.sqlite3_create_window_function,x.sqlite3_create_function_v2.udfSetResult=x.sqlite3_create_function.udfSetResult=x.sqlite3_result_js,x.sqlite3_create_window_function&&(x.sqlite3_create_window_function.udfSetResult=x.sqlite3_result_js),x.sqlite3_create_function_v2.udfConvertArgs=x.sqlite3_create_function.udfConvertArgs=x.sqlite3_values_to_js,x.sqlite3_create_window_function&&(x.sqlite3_create_window_function.udfConvertArgs=x.sqlite3_values_to_js),x.sqlite3_create_function_v2.udfSetError=x.sqlite3_create_function.udfSetError=x.sqlite3_result_error_js,x.sqlite3_create_window_function&&(x.sqlite3_create_window_function.udfSetError=x.sqlite3_result_error_js)}{const ce=(_e,We)=>(typeof _e=="string"?We=-1:I.isSQLableTypedArray(_e)?(We=_e.byteLength,_e=I.typedArrayToString(_e instanceof ArrayBuffer?new Uint8Array(_e):_e)):Array.isArray(_e)&&(_e=_e.join(""),We=-1),[_e,We]),ge={basic:S.xWrap("sqlite3_prepare_v3","int",["sqlite3*","string","int","int","**","**"]),full:S.xWrap("sqlite3_prepare_v3","int",["sqlite3*","*","int","int","**","**"])};x.sqlite3_prepare_v3=function _e(We,$e,we,Be,bt,F){if(_e.length!==arguments.length)return ee(We,"sqlite3_prepare_v3",_e.length);const[Y,me]=ce($e,we);switch(typeof Y){case"string":return ge.basic(We,Y,me,Be,bt,null);case"number":return ge.full(We,Y,me,Be,bt,F);default:return I.sqlite3__wasm_db_error(We,x.SQLITE_MISUSE,"Invalid SQL argument type for sqlite3_prepare_v2/v3().")}},x.sqlite3_prepare_v2=function _e(We,$e,we,Be,bt){return _e.length===arguments.length?x.sqlite3_prepare_v3(We,$e,we,0,Be,bt):ee(We,"sqlite3_prepare_v2",_e.length)}}{const ce=S.xWrap("sqlite3_bind_text","int",["sqlite3_stmt*","int","string","int","*"]),ge=S.xWrap("sqlite3_bind_blob","int",["sqlite3_stmt*","int","*","int","*"]);x.sqlite3_bind_text=function _e(We,$e,we,Be,bt){if(_e.length!==arguments.length)return ee(x.sqlite3_db_handle(We),"sqlite3_bind_text",_e.length);if(S.isPtr(we)||we===null)return ce(We,$e,we,Be,bt);we instanceof ArrayBuffer?we=new Uint8Array(we):Array.isArray(pMem)&&(we=pMem.join(""));let F,Y;try{if(I.isSQLableTypedArray(we))F=S.allocFromTypedArray(we),Y=we.byteLength;else if(typeof we=="string")[F,Y]=S.allocCString(we);else return I.sqlite3__wasm_db_error(x.sqlite3_db_handle(We),x.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_text().");return ce(We,$e,F,Y,x.SQLITE_WASM_DEALLOC)}catch(me){return S.dealloc(F),I.sqlite3__wasm_db_error(x.sqlite3_db_handle(We),me)}},x.sqlite3_bind_blob=function _e(We,$e,we,Be,bt){if(_e.length!==arguments.length)return ee(x.sqlite3_db_handle(We),"sqlite3_bind_blob",_e.length);if(S.isPtr(we)||we===null)return ge(We,$e,we,Be,bt);we instanceof ArrayBuffer?we=new Uint8Array(we):Array.isArray(we)&&(we=we.join(""));let F,Y;try{if(I.isBindableTypedArray(we))F=S.allocFromTypedArray(we),Y=Be>=0?Be:we.byteLength;else if(typeof we=="string")[F,Y]=S.allocCString(we);else return I.sqlite3__wasm_db_error(x.sqlite3_db_handle(We),x.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_blob().");return ge(We,$e,F,Y,x.SQLITE_WASM_DEALLOC)}catch(me){return S.dealloc(F),I.sqlite3__wasm_db_error(x.sqlite3_db_handle(We),me)}}}x.sqlite3_config=function(ce,...ge){if(arguments.length<2)return x.SQLITE_MISUSE;switch(ce){case x.SQLITE_CONFIG_COVERING_INDEX_SCAN:case x.SQLITE_CONFIG_MEMSTATUS:case x.SQLITE_CONFIG_SMALL_MALLOC:case x.SQLITE_CONFIG_SORTERREF_SIZE:case x.SQLITE_CONFIG_STMTJRNL_SPILL:case x.SQLITE_CONFIG_URI:return S.exports.sqlite3__wasm_config_i(ce,ge[0]);case x.SQLITE_CONFIG_LOOKASIDE:return S.exports.sqlite3__wasm_config_ii(ce,ge[0],ge[1]);case x.SQLITE_CONFIG_MEMDB_MAXSIZE:return S.exports.sqlite3__wasm_config_j(ce,ge[0]);case x.SQLITE_CONFIG_GETMALLOC:case x.SQLITE_CONFIG_GETMUTEX:case x.SQLITE_CONFIG_GETPCACHE2:case x.SQLITE_CONFIG_GETPCACHE:case x.SQLITE_CONFIG_HEAP:case x.SQLITE_CONFIG_LOG:case x.SQLITE_CONFIG_MALLOC:case x.SQLITE_CONFIG_MMAP_SIZE:case x.SQLITE_CONFIG_MULTITHREAD:case x.SQLITE_CONFIG_MUTEX:case x.SQLITE_CONFIG_PAGECACHE:case x.SQLITE_CONFIG_PCACHE2:case x.SQLITE_CONFIG_PCACHE:case x.SQLITE_CONFIG_PCACHE_HDRSZ:case x.SQLITE_CONFIG_PMASZ:case x.SQLITE_CONFIG_SERIALIZED:case x.SQLITE_CONFIG_SINGLETHREAD:case x.SQLITE_CONFIG_SQLLOG:case x.SQLITE_CONFIG_WIN32_HEAPSIZE:default:return x.SQLITE_NOTFOUND}};{const ce=new Set;x.sqlite3_auto_extension=function(ge){if(ge instanceof Function)ge=S.installFunction("i(ppp)",ge);else if(arguments.length!==1||!S.isPtr(ge))return x.SQLITE_MISUSE;const _e=S.exports.sqlite3_auto_extension(ge);return ge!==arguments[0]&&(_e===0?ce.add(ge):S.uninstallFunction(ge)),_e},x.sqlite3_cancel_auto_extension=function(ge){return!ge||arguments.length!==1||!S.isPtr(ge)?0:S.exports.sqlite3_cancel_auto_extension(ge)},x.sqlite3_reset_auto_extension=function(){S.exports.sqlite3_reset_auto_extension();for(const ge of ce)S.uninstallFunction(ge);ce.clear()}}const it=x.sqlite3_vfs_find("kvvfs");if(it)if(I.isUIThread()){const ce=new x.sqlite3_kvvfs_methods(S.exports.sqlite3__wasm_kvvfs_methods());delete x.sqlite3_kvvfs_methods;const ge=S.exports.sqlite3__wasm_kvvfsMakeKeyOnPstack,_e=S.pstack,We=we=>S.peek(we)===115?sessionStorage:localStorage,$e={xRead:(we,Be,bt,F)=>{const Y=_e.pointer,me=S.scopedAllocPush();try{const Ke=ge(we,Be);if(!Ke)return-3;const H=S.cstrToJs(Ke),te=We(we).getItem(H);if(!te)return-1;const O=te.length;if(F<=0)return O;if(F===1)return S.poke(bt,0),O;const M=S.scopedAllocCString(te);return F>O+1&&(F=O+1),S.heap8u().copyWithin(bt,M,M+F-1),S.poke(bt+F-1,0),F-1}catch(Ke){return console.error("kvstorageRead()",Ke),-2}finally{_e.restore(Y),S.scopedAllocPop(me)}},xWrite:(we,Be,bt)=>{const F=_e.pointer;try{const Y=ge(we,Be);if(!Y)return 1;const me=S.cstrToJs(Y);return We(we).setItem(me,S.cstrToJs(bt)),0}catch(Y){return console.error("kvstorageWrite()",Y),x.SQLITE_IOERR}finally{_e.restore(F)}},xDelete:(we,Be)=>{const bt=_e.pointer;try{const F=ge(we,Be);return F?(We(we).removeItem(S.cstrToJs(F)),0):1}catch(F){return console.error("kvstorageDelete()",F),x.SQLITE_IOERR}finally{_e.restore(bt)}}};for(const we of Object.keys($e))ce[ce.memberKey(we)]=S.installFunction(ce.memberSignature(we),$e[we])}else x.sqlite3_vfs_unregister(it);S.xWrap.FuncPtrAdapter.warnOnUse=!0;const Ae=p.StructBinder,Se=function ce(ge,_e,We,$e=ce.installMethodArgcCheck){if(ge instanceof Ae.StructType?!(We instanceof Function)&&!S.isPtr(We)&&b("Usage errror: expecting a Function or WASM pointer to one."):b("Usage error: target object is-not-a StructType."),arguments.length===1)return(F,Y)=>ce(ge,F,Y,$e);ce.argcProxy||(ce.argcProxy=function(F,Y,me,Ke){return function(...H){return me.length!==arguments.length&&b("Argument mismatch for",F.structInfo.name+"::"+Y+": Native signature is:",Ke),me.apply(this,H)}},ce.removeFuncList=function(){this.ondispose.__removeFuncList&&(this.ondispose.__removeFuncList.forEach((F,Y)=>{if(typeof F=="number")try{S.uninstallFunction(F)}catch{}}),delete this.ondispose.__removeFuncList)});const we=ge.memberSignature(_e);we.length<2&&b("Member",_e,"does not have a function pointer signature:",we);const Be=ge.memberKey(_e),bt=$e&&!S.isPtr(We)?ce.argcProxy(ge,Be,We,we):We;if(S.isPtr(bt))bt&&!S.functionEntry(bt)&&b("Pointer",bt,"is not a WASM function table entry."),ge[Be]=bt;else{const F=S.installFunction(bt,ge.memberSignature(_e,!0));ge[Be]=F,(!ge.ondispose||!ge.ondispose.__removeFuncList)&&(ge.addOnDispose("ondispose.__removeFuncList handler",ce.removeFuncList),ge.ondispose.__removeFuncList=[]),ge.ondispose.__removeFuncList.push(Be,F)}return(F,Y)=>ce(ge,F,Y,$e)};Se.installMethodArgcCheck=!1;const Ue=function(ce,ge,_e=Se.installMethodArgcCheck){const We=new Map;for(const $e of Object.keys(ge)){const we=ge[$e],Be=We.get(we);if(Be){const bt=ce.memberKey($e);ce[bt]=ce[ce.memberKey(Be)]}else Se(ce,$e,we,_e),We.set(we,$e)}return ce};Ae.StructType.prototype.installMethod=function(ge,_e,We=Se.installMethodArgcCheck){return arguments.length<3&&ge&&typeof ge=="object"?Ue(this,...arguments):Se(this,...arguments)},Ae.StructType.prototype.installMethods=function(ce,ge=Se.installMethodArgcCheck){return Ue(this,ce,ge)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(p){p.version={libVersion:"3.47.1",libVersionNumber:3047001,sourceId:"2024-11-25 12:07:48 b95d11e958643b969c47a8e5857f3793b9e69700b8f1469371386369a26e577e",downloadVersion:3470100}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(p){const b=(...H)=>{throw new p.SQLite3Error(...H)},x=p.capi,S=p.wasm,I=p.util,ee=new WeakMap,ie=new WeakMap,Me=(H,te,O)=>{const M=Object.getOwnPropertyDescriptor(H,te);return M?M.value:O},Ve=function(H,te){return te&&(H instanceof Se&&(H=H.pointer),b(te,"sqlite3 result code",te+":",H?x.sqlite3_errmsg(H):x.sqlite3_errstr(te))),arguments[0]},Ze=S.installFunction("i(ippp)",function(H,te,O,M){x.SQLITE_TRACE_STMT===H&&console.log("SQL TRACE #"+ ++this.counter+" via sqlite3@"+te+":",S.cstrToJs(M))}.bind({counter:0})),it=Object.create(null),Ae=function H(...te){if(!H._name2vfs){H._name2vfs=Object.create(null);const de=typeof importScripts=="function"?Ie=>b("The VFS for",Ie,"is only available in the main window thread."):!1;H._name2vfs[":localStorage:"]={vfs:"kvvfs",filename:de||(()=>"local")},H._name2vfs[":sessionStorage:"]={vfs:"kvvfs",filename:de||(()=>"session")}}const O=H.normalizeArgs(...te);let M=O.filename,z=O.vfs,Te=O.flags;(typeof M!="string"&&typeof M!="number"||typeof Te!="string"||z&&typeof z!="string"&&typeof z!="number")&&(p.config.error("Invalid DB ctor args",O,arguments),b("Invalid arguments for DB constructor."));let Qe=typeof M=="number"?S.cstrToJs(M):M;const It=H._name2vfs[Qe];It&&(z=It.vfs,M=Qe=It.filename(Qe));let Lt,Wt=0;Te.indexOf("c")>=0&&(Wt|=x.SQLITE_OPEN_CREATE|x.SQLITE_OPEN_READWRITE),Te.indexOf("w")>=0&&(Wt|=x.SQLITE_OPEN_READWRITE),Wt===0&&(Wt|=x.SQLITE_OPEN_READONLY),Wt|=x.SQLITE_OPEN_EXRESCODE;const Ye=S.pstack.pointer;try{const de=S.pstack.allocPtr();let Ie=x.sqlite3_open_v2(M,de,Wt,z||0);Lt=S.peekPtr(de),Ve(Lt,Ie),x.sqlite3_extended_result_codes(Lt,1),Te.indexOf("t")>=0&&x.sqlite3_trace_v2(Lt,x.SQLITE_TRACE_STMT,Ze,Lt)}catch(de){throw Lt&&x.sqlite3_close_v2(Lt),de}finally{S.pstack.restore(Ye)}this.filename=Qe,ee.set(this,Lt),ie.set(this,Object.create(null));try{const de=x.sqlite3_js_db_vfs(Lt)||b("Internal error: cannot get VFS for new db handle."),Ie=it[de];Ie&&(Ie instanceof Function?Ie(this,p):Ve(Lt,x.sqlite3_exec(Lt,Ie,0,0,0)))}catch(de){throw this.close(),de}};Ae.setVfsPostOpenCallback=function(H,te){te instanceof Function||b("dbCtorHelper.setVfsPostOpenCallback() should not be used with a non-function argument.",arguments),it[H]=te},Ae.normalizeArgs=function(H=":memory:",te="c",O=null){const M={};return arguments.length===1&&arguments[0]&&typeof arguments[0]=="object"?(Object.assign(M,arguments[0]),M.flags===void 0&&(M.flags="c"),M.vfs===void 0&&(M.vfs=null),M.filename===void 0&&(M.filename=":memory:")):(M.filename=H,M.flags=te,M.vfs=O),M};const Se=function(...H){Ae.apply(this,H)};Se.dbCtorHelper=Ae;const Ue={null:1,number:2,string:3,boolean:4,blob:5};Ue.undefined==Ue.null,S.bigIntEnabled&&(Ue.bigint=Ue.number);const ce=function(){Ue!==arguments[2]&&b(x.SQLITE_MISUSE,"Do not call the Stmt constructor directly. Use DB.prepare()."),this.db=arguments[0],ee.set(this,arguments[1]),this.parameterCount=x.sqlite3_bind_parameter_count(this.pointer)},ge=function(H){return H.pointer||b("DB has been closed."),H},_e=function(H,te){return(te!==(te|0)||te<0||te>=H.columnCount)&&b("Column index",te,"is out of range."),H},We=function(H,te){const O=Object.create(null);switch(O.opt=Object.create(null),te.length){case 1:typeof te[0]=="string"||I.isSQLableTypedArray(te[0])||Array.isArray(te[0])?O.sql=te[0]:te[0]&&typeof te[0]=="object"&&(O.opt=te[0],O.sql=O.opt.sql);break;case 2:O.sql=te[0],O.opt=te[1];break;default:b("Invalid argument count for exec().")}O.sql=I.flexibleString(O.sql),typeof O.sql!="string"&&b("Missing SQL argument or unsupported SQL value type.");const M=O.opt;switch(M.returnValue){case"resultRows":M.resultRows||(M.resultRows=[]),O.returnVal=()=>M.resultRows;break;case"saveSql":M.saveSql||(M.saveSql=[]),O.returnVal=()=>M.saveSql;break;case void 0:case"this":O.returnVal=()=>H;break;default:b("Invalid returnValue value:",M.returnValue)}if(!M.callback&&!M.returnValue&&M.rowMode!==void 0&&(M.resultRows||(M.resultRows=[]),O.returnVal=()=>M.resultRows),M.callback||M.resultRows)switch(M.rowMode===void 0?"array":M.rowMode){case"object":O.cbArg=(z,Te)=>{Te.columnNames||(Te.columnNames=z.getColumnNames([]));const Qe=z.get([]),It=Object.create(null);for(const Lt in Te.columnNames)It[Te.columnNames[Lt]]=Qe[Lt];return It};break;case"array":O.cbArg=z=>z.get([]);break;case"stmt":Array.isArray(M.resultRows)&&b("exec(): invalid rowMode for a resultRows array: must","be one of 'array', 'object',","a result column number, or column name reference."),O.cbArg=z=>z;break;default:if(I.isInt32(M.rowMode)){O.cbArg=z=>z.get(M.rowMode);break}else if(typeof M.rowMode=="string"&&M.rowMode.length>1&&M.rowMode[0]==="$"){const z=M.rowMode.substr(1);O.cbArg=Te=>{const Qe=Te.get(Object.create(null))[z];return Qe===void 0?b(x.SQLITE_NOTFOUND,"exec(): unknown result column:",z):Qe};break}b("Invalid rowMode:",M.rowMode)}return O},$e=(H,te,O,...M)=>{const z=H.prepare(te);try{const Te=z.bind(O).step()?z.get(...M):void 0;return z.reset(),Te}finally{z.finalize()}},we=(H,te,O,M)=>H.exec({sql:te,bind:O,rowMode:M,returnValue:"resultRows"});Se.checkRc=(H,te)=>Ve(H,te),Se.prototype={isOpen:function(){return!!this.pointer},affirmOpen:function(){return ge(this)},close:function(){if(this.pointer){if(this.onclose&&this.onclose.before instanceof Function)try{this.onclose.before(this)}catch{}const H=this.pointer;if(Object.keys(ie.get(this)).forEach((te,O)=>{if(O&&O.pointer)try{O.finalize()}catch{}}),ee.delete(this),ie.delete(this),x.sqlite3_close_v2(H),this.onclose&&this.onclose.after instanceof Function)try{this.onclose.after(this)}catch{}delete this.filename}},changes:function(H=!1,te=!1){const O=ge(this).pointer;return H?te?x.sqlite3_total_changes64(O):x.sqlite3_total_changes(O):te?x.sqlite3_changes64(O):x.sqlite3_changes(O)},dbFilename:function(H="main"){return x.sqlite3_db_filename(ge(this).pointer,H)},dbName:function(H=0){return x.sqlite3_db_name(ge(this).pointer,H)},dbVfsName:function(H=0){let te;const O=x.sqlite3_js_db_vfs(ge(this).pointer,H);if(O){const M=new x.sqlite3_vfs(O);try{te=S.cstrToJs(M.$zName)}finally{M.dispose()}}return te},prepare:function(H){ge(this);const te=S.pstack.pointer;let O,M;try{O=S.pstack.alloc(8),Se.checkRc(this,x.sqlite3_prepare_v2(this.pointer,H,-1,O,null)),M=S.peekPtr(O)}finally{S.pstack.restore(te)}M||b("Cannot prepare empty SQL.");const z=new ce(this,M,Ue);return ie.get(this)[M]=z,z},exec:function(){ge(this);const H=We(this,arguments);if(!H.sql)return b("exec() requires an SQL string.");const te=H.opt,O=te.callback,M=Array.isArray(te.resultRows)?te.resultRows:void 0;let z,Te=te.bind,Qe=!!(H.cbArg||te.columnNames||M);const It=S.scopedAllocPush(),Lt=Array.isArray(te.saveSql)?te.saveSql:void 0;try{const Wt=I.isSQLableTypedArray(H.sql);let Ye=Wt?H.sql.byteLength:S.jstrlen(H.sql);const de=S.scopedAlloc(2*S.ptrSizeof+(Ye+1)),Ie=de+S.ptrSizeof;let Ge=Ie+S.ptrSizeof;const nt=Ge+Ye;for(Wt?S.heap8().set(H.sql,Ge):S.jstrcpy(H.sql,S.heap8(),Ge,Ye,!1),S.poke(Ge+Ye,0);Ge&&S.peek(Ge,"i8");){S.pokePtr([de,Ie],0),Se.checkRc(this,x.sqlite3_prepare_v3(this.pointer,Ge,Ye,0,de,Ie));const Rt=S.peekPtr(de);if(Ge=S.peekPtr(Ie),Ye=nt-Ge,!!Rt){if(Lt&&Lt.push(x.sqlite3_sql(Rt).trim()),z=new ce(this,Rt,Ue),Te&&z.parameterCount&&(z.bind(Te),Te=null),Qe&&z.columnCount){let Ut=Array.isArray(te.columnNames)?0:1;if(Qe=!1,H.cbArg||M){const ke=Object.create(null);for(;z.step();z._lockedByExec=!1){Ut++===0&&z.getColumnNames(ke.columnNames=te.columnNames||[]),z._lockedByExec=!0;const He=H.cbArg(z,ke);if(M&&M.push(He),O&&O.call(te,He,z)===!1)break}z._lockedByExec=!1}Ut===0&&z.getColumnNames(te.columnNames)}else z.step();z.reset().finalize(),z=null}}}finally{S.scopedAllocPop(It),z&&(delete z._lockedByExec,z.finalize())}return H.returnVal()},createFunction:function(te,O,M){const z=ke=>ke instanceof Function;switch(arguments.length){case 1:M=te,te=M.name,O=M.xFunc||0;break;case 2:z(O)||(M=O,O=M.xFunc||0);break}M||(M={}),typeof te!="string"&&b("Invalid arguments: missing function name.");let Te=M.xStep||0,Qe=M.xFinal||0;const It=M.xValue||0,Lt=M.xInverse||0;let Wt;z(O)?(Wt=!1,(z(Te)||z(Qe))&&b("Ambiguous arguments: scalar or aggregate?"),Te=Qe=null):z(Te)?(z(Qe)||b("Missing xFinal() callback for aggregate or window UDF."),O=null):z(Qe)?b("Missing xStep() callback for aggregate or window UDF."):b("Missing function-type properties."),Wt===!1?(z(It)||z(Lt))&&b("xValue and xInverse are not permitted for non-window UDFs."):z(It)?(z(Lt)||b("xInverse must be provided if xValue is."),Wt=!0):z(Lt)&&b("xValue must be provided if xInverse is.");const Ye=M.pApp;Ye!=null&&(typeof Ye!="number"||!I.isInt32(Ye))&&b("Invalid value for pApp property. Must be a legal WASM pointer value.");const de=M.xDestroy||0;de&&!z(de)&&b("xDestroy property must be a function.");let Ie=0;Me(M,"deterministic")&&(Ie|=x.SQLITE_DETERMINISTIC),Me(M,"directOnly")&&(Ie|=x.SQLITE_DIRECTONLY),Me(M,"innocuous")&&(Ie|=x.SQLITE_INNOCUOUS),te=te.toLowerCase();const Ge=O||Te,nt=Me(M,"arity"),Rt=typeof nt=="number"?nt:Ge.length?Ge.length-1:0;let Ut;return Wt?Ut=x.sqlite3_create_window_function(this.pointer,te,Rt,x.SQLITE_UTF8|Ie,Ye||0,Te,Qe,It,Lt,de):Ut=x.sqlite3_create_function_v2(this.pointer,te,Rt,x.SQLITE_UTF8|Ie,Ye||0,O,Te,Qe,de),Se.checkRc(this,Ut),this},selectValue:function(H,te,O){return $e(this,H,te,0,O)},selectValues:function(H,te,O){const M=this.prepare(H),z=[];try{for(M.bind(te);M.step();)z.push(M.get(0,O));M.reset()}finally{M.finalize()}return z},selectArray:function(H,te){return $e(this,H,te,[])},selectObject:function(H,te){return $e(this,H,te,{})},selectArrays:function(H,te){return we(this,H,te,"array")},selectObjects:function(H,te){return we(this,H,te,"object")},openStatementCount:function(){return this.pointer?Object.keys(ie.get(this)).length:0},transaction:function(H){let te="BEGIN";arguments.length>1&&(/[^a-zA-Z]/.test(arguments[0])&&b(x.SQLITE_MISUSE,"Invalid argument for BEGIN qualifier."),te+=" "+arguments[0],H=arguments[1]),ge(this).exec(te);try{const O=H(this);return this.exec("COMMIT"),O}catch(O){throw this.exec("ROLLBACK"),O}},savepoint:function(H){ge(this).exec("SAVEPOINT oo1");try{const te=H(this);return this.exec("RELEASE oo1"),te}catch(te){throw this.exec("ROLLBACK to SAVEPOINT oo1; RELEASE SAVEPOINT oo1"),te}},checkRc:function(H){return Ve(this,H)}};const Be=function(H){return H.pointer||b("Stmt has been closed."),H},bt=function(H){let te=Ue[H==null?"null":typeof H];switch(te){case Ue.boolean:case Ue.null:case Ue.number:case Ue.string:return te;case Ue.bigint:if(S.bigIntEnabled)return te;default:return I.isBindableTypedArray(H)?Ue.blob:void 0}},F=function(H){return bt(H)||b("Unsupported bind() argument type:",typeof H)},Y=function(H,te){const O=typeof te=="number"?te:x.sqlite3_bind_parameter_index(H.pointer,te);return O===0||!I.isInt32(O)?b("Invalid bind() parameter name: "+te):(O<1||O>H.parameterCount)&&b("Bind index",te,"is out of range."),O},me=function(H,te){return H._lockedByExec&&b("Operation is illegal when statement is locked:",te),H},Ke=function H(te,O,M,z){me(Be(te),"bind()"),H._||(H._tooBigInt=Qe=>b("BigInt value is too big to store without precision loss:",Qe),H._={string:function(Qe,It,Lt,Wt){const[Ye,de]=S.allocCString(Lt,!0);return(Wt?x.sqlite3_bind_blob:x.sqlite3_bind_text)(Qe.pointer,It,Ye,de,x.SQLITE_WASM_DEALLOC)}}),F(z),O=Y(te,O);let Te=0;switch(z==null?Ue.null:M){case Ue.null:Te=x.sqlite3_bind_null(te.pointer,O);break;case Ue.string:Te=H._.string(te,O,z,!1);break;case Ue.number:{let Qe;I.isInt32(z)?Qe=x.sqlite3_bind_int:typeof z=="bigint"?I.bigIntFits64(z)?S.bigIntEnabled?Qe=x.sqlite3_bind_int64:I.bigIntFitsDouble(z)?(z=Number(z),Qe=x.sqlite3_bind_double):H._tooBigInt(z):H._tooBigInt(z):(z=Number(z),S.bigIntEnabled&&Number.isInteger(z)?Qe=x.sqlite3_bind_int64:Qe=x.sqlite3_bind_double),Te=Qe(te.pointer,O,z);break}case Ue.boolean:Te=x.sqlite3_bind_int(te.pointer,O,z?1:0);break;case Ue.blob:{if(typeof z=="string"){Te=H._.string(te,O,z,!0);break}else z instanceof ArrayBuffer?z=new Uint8Array(z):I.isBindableTypedArray(z)||b("Binding a value as a blob requires","that it be a string, Uint8Array, Int8Array, or ArrayBuffer.");const Qe=S.alloc(z.byteLength||1);S.heap8().set(z.byteLength?z:[0],Qe),Te=x.sqlite3_bind_blob(te.pointer,O,Qe,z.byteLength,x.SQLITE_WASM_DEALLOC);break}default:p.config.warn("Unsupported bind() argument type:",z),b("Unsupported bind() argument type: "+typeof z)}return Te&&Se.checkRc(te.db.pointer,Te),te._mayGet=!1,te};ce.prototype={finalize:function(){if(this.pointer){me(this,"finalize()");const H=x.sqlite3_finalize(this.pointer);return delete ie.get(this.db)[this.pointer],ee.delete(this),delete this._mayGet,delete this.parameterCount,delete this._lockedByExec,delete this.db,H}},clearBindings:function(){return me(Be(this),"clearBindings()"),x.sqlite3_clear_bindings(this.pointer),this._mayGet=!1,this},reset:function(H){me(this,"reset()"),H&&this.clearBindings();const te=x.sqlite3_reset(Be(this).pointer);return this._mayGet=!1,Ve(this.db,te),this},bind:function(){Be(this);let H,te;switch(arguments.length){case 1:H=1,te=arguments[0];break;case 2:H=arguments[0],te=arguments[1];break;default:b("Invalid bind() arguments.")}return te===void 0?this:(this.parameterCount||b("This statement has no bindable parameters."),this._mayGet=!1,te===null?Ke(this,H,Ue.null,te):Array.isArray(te)?(arguments.length!==1&&b("When binding an array, an index argument is not permitted."),te.forEach((O,M)=>Ke(this,M+1,F(O),O)),this):(te instanceof ArrayBuffer&&(te=new Uint8Array(te)),typeof te=="object"&&!I.isBindableTypedArray(te)?(arguments.length!==1&&b("When binding an object, an index argument is not permitted."),Object.keys(te).forEach(O=>Ke(this,O,F(te[O]),te[O])),this):Ke(this,H,F(te),te)))},bindAsBlob:function(H,te){Be(this),arguments.length===1&&(te=H,H=1);const O=F(te);return Ue.string!==O&&Ue.blob!==O&&Ue.null!==O&&b("Invalid value type for bindAsBlob()"),Ke(this,H,Ue.blob,te)},step:function(){me(this,"step()");const H=x.sqlite3_step(Be(this).pointer);switch(H){case x.SQLITE_DONE:return this._mayGet=!1;case x.SQLITE_ROW:return this._mayGet=!0;default:this._mayGet=!1,p.config.warn("sqlite3_step() rc=",H,x.sqlite3_js_rc_str(H),"SQL =",x.sqlite3_sql(this.pointer)),Se.checkRc(this.db.pointer,H)}},stepReset:function(){return this.step(),this.reset()},stepFinalize:function(){try{const H=this.step();return this.reset(),H}finally{try{this.finalize()}catch{}}},get:function(H,te){if(Be(this)._mayGet||b("Stmt.step() has not (recently) returned true."),Array.isArray(H)){let O=0;const M=this.columnCount;for(;O<M;)H[O]=this.get(O++);return H}else if(H&&typeof H=="object"){let O=0;const M=this.columnCount;for(;O<M;)H[x.sqlite3_column_name(this.pointer,O)]=this.get(O++);return H}switch(_e(this,H),te===void 0?x.sqlite3_column_type(this.pointer,H):te){case x.SQLITE_NULL:return null;case x.SQLITE_INTEGER:if(S.bigIntEnabled){const O=x.sqlite3_column_int64(this.pointer,H);return O>=Number.MIN_SAFE_INTEGER&&O<=Number.MAX_SAFE_INTEGER?Number(O).valueOf():O}else{const O=x.sqlite3_column_double(this.pointer,H);return(O>Number.MAX_SAFE_INTEGER||O<Number.MIN_SAFE_INTEGER)&&b("Integer is out of range for JS integer range: "+O),I.isInt32(O)?O|0:O}case x.SQLITE_FLOAT:return x.sqlite3_column_double(this.pointer,H);case x.SQLITE_TEXT:return x.sqlite3_column_text(this.pointer,H);case x.SQLITE_BLOB:{const O=x.sqlite3_column_bytes(this.pointer,H),M=x.sqlite3_column_blob(this.pointer,H),z=new Uint8Array(O);return O&&z.set(S.heap8u().slice(M,M+O),0),O&&this.db._blobXfer instanceof Array&&this.db._blobXfer.push(z.buffer),z}default:b("Don't know how to translate","type of result column #"+H+".")}b("Not reached.")},getInt:function(H){return this.get(H,x.SQLITE_INTEGER)},getFloat:function(H){return this.get(H,x.SQLITE_FLOAT)},getString:function(H){return this.get(H,x.SQLITE_TEXT)},getBlob:function(H){return this.get(H,x.SQLITE_BLOB)},getJSON:function(H){const te=this.get(H,x.SQLITE_STRING);return te===null?te:JSON.parse(te)},getColumnName:function(H){return x.sqlite3_column_name(_e(Be(this),H).pointer,H)},getColumnNames:function(H=[]){_e(Be(this),0);const te=this.columnCount;for(let O=0;O<te;++O)H.push(x.sqlite3_column_name(this.pointer,O));return H},getParamIndex:function(H){return Be(this).parameterCount?x.sqlite3_bind_parameter_index(this.pointer,H):void 0},getParamName:function(H){return Be(this).parameterCount?x.sqlite3_bind_parameter_name(this.pointer,H):void 0},isBusy:function(){return x.sqlite3_stmt_busy(Be(this))!==0},isReadOnly:function(){return x.sqlite3_stmt_readonly(Be(this))!==0}};{const H={enumerable:!0,get:function(){return ee.get(this)},set:()=>b("The pointer property is read-only.")};Object.defineProperty(ce.prototype,"pointer",H),Object.defineProperty(Se.prototype,"pointer",H)}if(Object.defineProperty(ce.prototype,"columnCount",{enumerable:!1,get:function(){return x.sqlite3_column_count(this.pointer)},set:()=>b("The columnCount property is read-only.")}),p.oo1={DB:Se,Stmt:ce},I.isUIThread()){p.oo1.JsStorageDb=function(te="session"){const O=Ae.normalizeArgs(...arguments);te=O.filename,te!=="session"&&te!=="local"&&b("JsStorageDb db name must be one of 'session' or 'local'."),O.vfs="kvvfs",Ae.call(this,O)};const H=p.oo1.JsStorageDb;H.prototype=Object.create(Se.prototype),H.clearStorage=x.sqlite3_js_kvvfs_clear,H.prototype.clearStorage=function(){return H.clearStorage(ge(this).filename)},H.storageSize=x.sqlite3_js_kvvfs_size,H.prototype.storageSize=function(){return H.storageSize(ge(this).filename)}}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(p){const b=p.util;p.initWorker1API=function(){const x=(...Ae)=>{throw new Error(Ae.join(" "))};globalThis.WorkerGlobalScope instanceof Function||x("initWorker1API() must be run from a Worker thread.");const S=this.sqlite3||x("Missing this.sqlite3 object."),I=S.oo1.DB,ee=function(Ae){let Se=ie.idMap.get(Ae);return Se||(Se="db#"+ ++ie.idSeq+"@"+Ae.pointer,ie.idMap.set(Ae,Se),Se)},ie={dbList:[],idSeq:0,idMap:new WeakMap,xfer:[],open:function(Ae){const Se=new I(Ae);return this.dbs[ee(Se)]=Se,this.dbList.indexOf(Se)<0&&this.dbList.push(Se),Se},close:function(Ae,Se){if(Ae){delete this.dbs[ee(Ae)];const Ue=Ae.filename,ce=b.sqlite3__wasm_db_vfs(Ae.pointer,0);Ae.close();const ge=this.dbList.indexOf(Ae);ge>=0&&this.dbList.splice(ge,1),Se&&Ue&&ce&&b.sqlite3__wasm_vfs_unlink(ce,Ue)}},post:function(Ae,Se){Se&&Se.length?(globalThis.postMessage(Ae,Array.from(Se)),Se.length=0):globalThis.postMessage(Ae)},dbs:Object.create(null),getDb:function(Ae,Se=!0){return this.dbs[Ae]||(Se?x("Unknown (or closed) DB ID:",Ae):void 0)}},Me=function(Ae=ie.dbList[0]){return Ae&&Ae.pointer?Ae:x("DB is not opened.")},Ve=function(Ae,Se=!0){const Ue=ie.getDb(Ae.dbId,!1)||ie.dbList[0];return Se?Me(Ue):Ue},Ze=function(){return ie.dbList[0]&&ee(ie.dbList[0])},it={open:function(Ae){const Se=Object.create(null),Ue=Ae.args||Object.create(null);Ue.simulateError&&x("Throwing because of simulateError flag.");const ce=Object.create(null);Se.vfs=Ue.vfs,Se.filename=Ue.filename||"";const ge=ie.open(Se);return ce.filename=ge.filename,ce.persistent=!!S.capi.sqlite3_js_db_uses_vfs(ge.pointer,"opfs"),ce.dbId=ee(ge),ce.vfs=ge.dbVfsName(),ce},close:function(Ae){const Se=Ve(Ae,!1),Ue={filename:Se&&Se.filename};if(Se){const ce=Ae.args&&typeof Ae.args=="object"?!!Ae.args.unlink:!1;ie.close(Se,ce)}return Ue},exec:function(Ae){const Se=typeof Ae.args=="string"?{sql:Ae.args}:Ae.args||Object.create(null);Se.rowMode==="stmt"?x("Invalid rowMode for 'exec': stmt mode","does not work in the Worker API."):Se.sql||x("'exec' requires input SQL.");const Ue=Ve(Ae);(Se.callback||Array.isArray(Se.resultRows))&&(Ue._blobXfer=ie.xfer);const ce=Se.callback;let ge=0;const _e=!!Se.columnNames;typeof ce=="string"&&(_e||(Se.columnNames=[]),Se.callback=function(We,$e){ie.post({type:ce,columnNames:Se.columnNames,rowNumber:++ge,row:We},ie.xfer)});try{const We=Se.countChanges?Ue.changes(!0,Se.countChanges===64):void 0;Ue.exec(Se),We!==void 0&&(Se.changeCount=Ue.changes(!0,Se.countChanges===64)-We),Se.callback instanceof Function&&(Se.callback=ce,ie.post({type:ce,columnNames:Se.columnNames,rowNumber:null,row:void 0}))}finally{delete Ue._blobXfer,Se.callback&&(Se.callback=ce)}return Se},"config-get":function(){const Ae=Object.create(null),Se=S.config;return["bigIntEnabled"].forEach(function(Ue){Object.getOwnPropertyDescriptor(Se,Ue)&&(Ae[Ue]=Se[Ue])}),Ae.version=S.version,Ae.vfsList=S.capi.sqlite3_js_vfs_list(),Ae},export:function(Ae){const Se=Ve(Ae),Ue={byteArray:S.capi.sqlite3_js_db_export(Se.pointer),filename:Se.filename,mimetype:"application/x-sqlite3"};return ie.xfer.push(Ue.byteArray.buffer),Ue},toss:function(Ae){x("Testing worker exception")}};globalThis.onmessage=async function(Ae){Ae=Ae.data;let Se,Ue=Ae.dbId,ce=Ae.type;const ge=performance.now();try{it.hasOwnProperty(ce)&&it[ce]instanceof Function?Se=await it[ce](Ae):x("Unknown db worker message type:",Ae.type)}catch(_e){ce="error",Se={operation:Ae.type,message:_e.message,errorClass:_e.name,input:Ae},_e.stack&&(Se.stack=typeof _e.stack=="string"?_e.stack.split(/\n\s*/):_e.stack)}Ue||(Ue=Se.dbId||Ze()),ie.post({type:ce,dbId:Ue,messageId:Ae.messageId,workerReceivedTime:ge,workerRespondTime:performance.now(),departureTime:Ae.departureTime,result:Se},ie.xfer)},globalThis.postMessage({type:"sqlite3-api",result:"worker1-ready"})}.bind({sqlite3:p})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(p){const b=p.wasm,x=p.capi,S=p.util.toss3,I=Object.create(null);p.vfs=I,x.sqlite3_vfs.prototype.registerVfs=function(ee=!1){this instanceof p.capi.sqlite3_vfs||S("Expecting a sqlite3_vfs-type argument.");const ie=x.sqlite3_vfs_register(this,ee?1:0);return ie&&S("sqlite3_vfs_register(",this,") failed with rc",ie),this.pointer!==x.sqlite3_vfs_find(this.$zName)&&S("BUG: sqlite3_vfs_find(vfs.$zName) failed for just-installed VFS",this),this},I.installVfs=function(ee){let ie=0;const Me=["io","vfs"];for(const Ve of Me){const Ze=ee[Ve];Ze&&(++ie,Ze.struct.installMethods(Ze.methods,!!Ze.applyArgcCheck),Ve==="vfs"&&(!Ze.struct.$zName&&typeof Ze.name=="string"&&Ze.struct.addOnDispose(Ze.struct.$zName=b.allocCString(Ze.name)),Ze.struct.registerVfs(!!Ze.asDefault)))}return ie||S("Misuse: installVfs() options object requires at least","one of:",Me),this}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(p){if(!p.wasm.exports.sqlite3_declare_vtab)return;const b=p.wasm,x=p.capi,S=p.util.toss3,I=Object.create(null);p.vtab=I;const ee=x.sqlite3_index_info;ee.prototype.nthConstraint=function(Ve,Ze=!1){if(Ve<0||Ve>=this.$nConstraint)return!1;const it=this.$aConstraint+ee.sqlite3_index_constraint.structInfo.sizeof*Ve;return Ze?it:new ee.sqlite3_index_constraint(it)},ee.prototype.nthConstraintUsage=function(Ve,Ze=!1){if(Ve<0||Ve>=this.$nConstraint)return!1;const it=this.$aConstraintUsage+ee.sqlite3_index_constraint_usage.structInfo.sizeof*Ve;return Ze?it:new ee.sqlite3_index_constraint_usage(it)},ee.prototype.nthOrderBy=function(Ve,Ze=!1){if(Ve<0||Ve>=this.$nOrderBy)return!1;const it=this.$aOrderBy+ee.sqlite3_index_orderby.structInfo.sizeof*Ve;return Ze?it:new ee.sqlite3_index_orderby(it)};const ie=function(Ve,Ze){return function(it,Ae=!1){if(arguments.length===0&&(it=new Ze),it instanceof Ze)return this.set(it.pointer,it),it;b.isPtr(it)||p.SQLite3Error.toss("Invalid argument to",Ve+"()");let Se=this.get(it);return Ae&&this.delete(it),Se}.bind(new Map)},Me=function(Ve,Ze){const it=ie(Ve,Ze);return Object.assign(Object.create(null),{StructType:Ze,create:Ae=>{const Se=it();return b.pokePtr(Ae,Se.pointer),Se},get:Ae=>it(Ae),unget:Ae=>it(Ae,!0),dispose:Ae=>{const Se=it(Ae,!0);Se&&Se.dispose()}})};I.xVtab=Me("xVtab",x.sqlite3_vtab),I.xCursor=Me("xCursor",x.sqlite3_vtab_cursor),I.xIndexInfo=Ve=>new x.sqlite3_index_info(Ve),I.xError=function Ve(Ze,it,Ae){if(Ve.errorReporter instanceof Function)try{Ve.errorReporter("sqlite3_module::"+Ze+"(): "+it.message)}catch{}let Se;return it instanceof p.WasmAllocError?Se=x.SQLITE_NOMEM:arguments.length>2?Se=Ae:it instanceof p.SQLite3Error&&(Se=it.resultCode),Se||x.SQLITE_ERROR},I.xError.errorReporter=console.error.bind(console),I.xRowid=(Ve,Ze)=>b.poke(Ve,Ze,"i64"),I.setupModule=function(Ve){let Ze=!1;const it=this instanceof x.sqlite3_module?this:Ve.struct||(Ze=new x.sqlite3_module);try{const Ae=Ve.methods||S("Missing 'methods' object.");for(const Se of Object.entries({xConnect:"xCreate",xDisconnect:"xDestroy"})){const Ue=Se[0],ce=Se[1];Ae[Ue]===!0?Ae[Ue]=Ae[ce]:Ae[ce]===!0&&(Ae[ce]=Ae[Ue])}if(Ve.catchExceptions){const Se=function(ge,_e){return["xConnect","xCreate"].indexOf(ge)>=0?function(We,$e,we,Be,bt,F){try{return _e(...arguments)||0}catch(Y){return Y instanceof p.WasmAllocError||(b.dealloc(b.peekPtr(F)),b.pokePtr(F,b.allocCString(Y.message))),I.xError(ge,Y)}}:function(...We){try{return _e(...We)||0}catch($e){return I.xError(ge,$e)}}},Ue=["xCreate","xConnect","xBestIndex","xDisconnect","xDestroy","xOpen","xClose","xFilter","xNext","xEof","xColumn","xRowid","xUpdate","xBegin","xSync","xCommit","xRollback","xFindFunction","xRename","xSavepoint","xRelease","xRollbackTo","xShadowName"],ce=Object.create(null);for(const ge of Ue){const _e=Ae[ge];if(_e instanceof Function)ge==="xConnect"&&Ae.xCreate===_e?ce[ge]=Ae.xCreate:ge==="xCreate"&&Ae.xConnect===_e?ce[ge]=Ae.xConnect:ce[ge]=Se(ge,_e);else continue}it.installMethods(ce,!1)}else it.installMethods(Ae,!!Ve.applyArgcCheck);if(it.$iVersion===0){let Se;typeof Ve.iVersion=="number"?Se=Ve.iVersion:it.$xShadowName?Se=3:it.$xSavePoint||it.$xRelease||it.$xRollbackTo?Se=2:Se=1,it.$iVersion=Se}}catch(Ae){throw Ze&&Ze.dispose(),Ae}return it},x.sqlite3_module.prototype.setupModule=function(Ve){return I.setupModule.call(this,Ve)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(p){const b=function x(S){if(!globalThis.SharedArrayBuffer||!globalThis.Atomics)return Promise.reject(new Error("Cannot install OPFS: Missing SharedArrayBuffer and/or Atomics. The server must emit the COOP/COEP response headers to enable those. See https://sqlite.org/wasm/doc/trunk/persistence.md#coop-coep"));if(typeof WorkerGlobalScope>"u")return Promise.reject(new Error("The OPFS sqlite3_vfs cannot run in the main thread because it requires Atomics.wait()."));if(!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory)return Promise.reject(new Error("Missing required OPFS APIs."));(!S||typeof S!="object")&&(S=Object.create(null));const I=new URL(globalThis.location.href).searchParams;return I.has("opfs-disable")?Promise.resolve(p):(S.verbose===void 0&&(S.verbose=I.has("opfs-verbose")?+I.get("opfs-verbose")||2:1),S.sanityChecks===void 0&&(S.sanityChecks=I.has("opfs-sanity-check")),S.proxyUri===void 0&&(S.proxyUri=x.defaultProxyUri),typeof S.proxyUri=="function"&&(S.proxyUri=S.proxyUri()),new Promise(function(ie,Me){const Ve=[p.config.error,p.config.warn,p.config.log],Ze=(ke,...He)=>{S.verbose>ke&&Ve[ke]("OPFS syncer:",...He)},it=(...ke)=>Ze(2,...ke),Ae=(...ke)=>Ze(1,...ke),Se=(...ke)=>Ze(0,...ke),Ue=p.util.toss,ce=p.capi,ge=p.util,_e=p.wasm,We=ce.sqlite3_vfs,$e=ce.sqlite3_file,we=ce.sqlite3_io_methods,Be=Object.create(null),bt=()=>globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&navigator?.storage?.getDirectory;Be.metrics={dump:function(){let ke,He=0,Xe=0,xt=0;for(ke in z.opIds){const gt=Te[ke];He+=gt.count,Xe+=gt.time,xt+=gt.wait,gt.avgTime=gt.count&&gt.time?gt.time/gt.count:0,gt.avgWait=gt.count&&gt.wait?gt.wait/gt.count:0}p.config.log(globalThis.location.href,"metrics for",globalThis.location.href,":",Te,`
Total of`,He,"op(s) for",Xe,"ms (incl. "+xt+" ms of waiting on the async side)"),p.config.log("Serialization metrics:",Te.s11n),te.postMessage({type:"opfs-async-metrics"})},reset:function(){let ke;const He=xt=>xt.count=xt.time=xt.wait=0;for(ke in z.opIds)He(Te[ke]=Object.create(null));let Xe=Te.s11n=Object.create(null);Xe=Xe.serialize=Object.create(null),Xe.count=Xe.time=0,Xe=Te.s11n.deserialize=Object.create(null),Xe.count=Xe.time=0}};const F=new we,Y=new We().addOnDispose(()=>F.dispose());let me;const Ke=ke=>(me=!0,Y.dispose(),Me(ke)),H=()=>(me=!1,ie(p)),te=new Worker(new URL("/assets/sqlite3-opfs-async-proxy-C_otN2ZJ.js",import.meta.url));setTimeout(()=>{me===void 0&&Ke(new Error("Timeout while waiting for OPFS async proxy worker."))},4e3),te._originalOnError=te.onerror,te.onerror=function(ke){Se("Error initializing OPFS asyncer:",ke),Ke(new Error("Loading OPFS async Worker failed for unknown reasons."))};const O=ce.sqlite3_vfs_find(null),M=O?new We(O):null;F.$iVersion=1,Y.$iVersion=2,Y.$szOsFile=ce.sqlite3_file.structInfo.sizeof,Y.$mxPathname=1024,Y.$zName=_e.allocCString("opfs"),Y.$xDlOpen=Y.$xDlError=Y.$xDlSym=Y.$xDlClose=null,Y.addOnDispose("$zName",Y.$zName,"cleanup default VFS wrapper",()=>M?M.dispose():null);const z=Object.create(null);z.verbose=S.verbose,z.littleEndian=(()=>{const ke=new ArrayBuffer(2);return new DataView(ke).setInt16(0,256,!0),new Int16Array(ke)[0]===256})(),z.asyncIdleWaitTime=150,z.asyncS11nExceptions=1,z.fileBufferSize=1024*64,z.sabS11nOffset=z.fileBufferSize,z.sabS11nSize=Y.$mxPathname*2,z.sabIO=new SharedArrayBuffer(z.fileBufferSize+z.sabS11nSize),z.opIds=Object.create(null);const Te=Object.create(null);{let ke=0;z.opIds.whichOp=ke++,z.opIds.rc=ke++,z.opIds.xAccess=ke++,z.opIds.xClose=ke++,z.opIds.xDelete=ke++,z.opIds.xDeleteNoWait=ke++,z.opIds.xFileSize=ke++,z.opIds.xLock=ke++,z.opIds.xOpen=ke++,z.opIds.xRead=ke++,z.opIds.xSleep=ke++,z.opIds.xSync=ke++,z.opIds.xTruncate=ke++,z.opIds.xUnlock=ke++,z.opIds.xWrite=ke++,z.opIds.mkdir=ke++,z.opIds["opfs-async-metrics"]=ke++,z.opIds["opfs-async-shutdown"]=ke++,z.opIds.retry=ke++,z.sabOP=new SharedArrayBuffer(ke*4),Be.metrics.reset()}z.sq3Codes=Object.create(null),["SQLITE_ACCESS_EXISTS","SQLITE_ACCESS_READWRITE","SQLITE_BUSY","SQLITE_CANTOPEN","SQLITE_ERROR","SQLITE_IOERR","SQLITE_IOERR_ACCESS","SQLITE_IOERR_CLOSE","SQLITE_IOERR_DELETE","SQLITE_IOERR_FSYNC","SQLITE_IOERR_LOCK","SQLITE_IOERR_READ","SQLITE_IOERR_SHORT_READ","SQLITE_IOERR_TRUNCATE","SQLITE_IOERR_UNLOCK","SQLITE_IOERR_WRITE","SQLITE_LOCK_EXCLUSIVE","SQLITE_LOCK_NONE","SQLITE_LOCK_PENDING","SQLITE_LOCK_RESERVED","SQLITE_LOCK_SHARED","SQLITE_LOCKED","SQLITE_MISUSE","SQLITE_NOTFOUND","SQLITE_OPEN_CREATE","SQLITE_OPEN_DELETEONCLOSE","SQLITE_OPEN_MAIN_DB","SQLITE_OPEN_READONLY"].forEach(ke=>{(z.sq3Codes[ke]=ce[ke])===void 0&&Ue("Maintenance required: not found:",ke)}),z.opfsFlags=Object.assign(Object.create(null),{OPFS_UNLOCK_ASAP:1,OPFS_UNLINK_BEFORE_OPEN:2,defaultUnlockAsap:!1});const Qe=(ke,...He)=>{const Xe=z.opIds[ke]||Ue("Invalid op ID:",ke);z.s11n.serialize(...He),Atomics.store(z.sabOPView,z.opIds.rc,-1),Atomics.store(z.sabOPView,z.opIds.whichOp,Xe),Atomics.notify(z.sabOPView,z.opIds.whichOp);const xt=performance.now();for(;Atomics.wait(z.sabOPView,z.opIds.rc,-1)!=="not-equal";);const gt=Atomics.load(z.sabOPView,z.opIds.rc);if(Te[ke].wait+=performance.now()-xt,gt&&z.asyncS11nExceptions){const Ft=z.s11n.deserialize();Ft&&Se(ke+"() async error:",...Ft)}return gt};Be.debug={asyncShutdown:()=>{Ae("Shutting down OPFS async listener. The OPFS VFS will no longer work."),Qe("opfs-async-shutdown")},asyncRestart:()=>{Ae("Attempting to restart OPFS VFS async listener. Might work, might not."),te.postMessage({type:"opfs-async-restart"})}};const It=()=>{if(z.s11n)return z.s11n;const ke=new TextDecoder,He=new TextEncoder("utf-8"),Xe=new Uint8Array(z.sabIO,z.sabS11nOffset,z.sabS11nSize),xt=new DataView(z.sabIO,z.sabS11nOffset,z.sabS11nSize);z.s11n=Object.create(null);const gt=Object.create(null);gt.number={id:1,size:8,getter:"getFloat64",setter:"setFloat64"},gt.bigint={id:2,size:8,getter:"getBigInt64",setter:"setBigInt64"},gt.boolean={id:3,size:4,getter:"getInt32",setter:"setInt32"},gt.string={id:4};const Ft=qt=>gt[typeof qt]||Ue("Maintenance required: this value type cannot be serialized.",qt),cn=qt=>{switch(qt){case gt.number.id:return gt.number;case gt.bigint.id:return gt.bigint;case gt.boolean.id:return gt.boolean;case gt.string.id:return gt.string;default:Ue("Invalid type ID:",qt)}};return z.s11n.deserialize=function(qt=!1){++Te.s11n.deserialize.count;const ur=performance.now(),Pe=Xe[0],lt=Pe?[]:null;if(Pe){const yt=[];let wt=1,un,Mn,On;for(un=0;un<Pe;++un,++wt)yt.push(cn(Xe[wt]));for(un=0;un<Pe;++un){const Ln=yt[un];Ln.getter?(On=xt[Ln.getter](wt,z.littleEndian),wt+=Ln.size):(Mn=xt.getInt32(wt,z.littleEndian),wt+=4,On=ke.decode(Xe.slice(wt,wt+Mn)),wt+=Mn),lt.push(On)}}return qt&&(Xe[0]=0),Te.s11n.deserialize.time+=performance.now()-ur,lt},z.s11n.serialize=function(...qt){const ur=performance.now();if(++Te.s11n.serialize.count,qt.length){const Pe=[];let lt=0,yt=1;for(Xe[0]=qt.length&255;lt<qt.length;++lt,++yt)Pe.push(Ft(qt[lt])),Xe[yt]=Pe[lt].id;for(lt=0;lt<qt.length;++lt){const wt=Pe[lt];if(wt.setter)xt[wt.setter](yt,qt[lt],z.littleEndian),yt+=wt.size;else{const un=He.encode(qt[lt]);xt.setInt32(yt,un.byteLength,z.littleEndian),yt+=4,Xe.set(un,yt),yt+=un.byteLength}}}else Xe[0]=0;Te.s11n.serialize.time+=performance.now()-ur},z.s11n},Lt=function ke(He=16){ke._chars||(ke._chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ012346789",ke._n=ke._chars.length);const Xe=[];let xt=0;for(;xt<He;++xt){const gt=Math.random()*(ke._n*64)%ke._n|0;Xe[xt]=ke._chars[gt]}return Xe.join("")},Wt=Object.create(null),Ye=Object.create(null);Ye.op=void 0,Ye.start=void 0;const de=ke=>{Ye.start=performance.now(),Ye.op=ke,++Te[ke].count},Ie=()=>Te[Ye.op].time+=performance.now()-Ye.start,Ge={xCheckReservedLock:function(ke,He){return _e.poke(He,0,"i32"),0},xClose:function(ke){de("xClose");let He=0;const Xe=Wt[ke];return Xe&&(delete Wt[ke],He=Qe("xClose",ke),Xe.sq3File&&Xe.sq3File.dispose()),Ie(),He},xDeviceCharacteristics:function(ke){return ce.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(ke,He,Xe){return ce.SQLITE_NOTFOUND},xFileSize:function(ke,He){de("xFileSize");let Xe=Qe("xFileSize",ke);if(Xe==0)try{const xt=z.s11n.deserialize()[0];_e.poke(He,xt,"i64")}catch(xt){Se("Unexpected error reading xFileSize() result:",xt),Xe=z.sq3Codes.SQLITE_IOERR}return Ie(),Xe},xLock:function(ke,He){de("xLock");const Xe=Wt[ke];let xt=0;return Xe.lockType?Xe.lockType=He:(xt=Qe("xLock",ke,He),xt===0&&(Xe.lockType=He)),Ie(),xt},xRead:function(ke,He,Xe,xt){de("xRead");const gt=Wt[ke];let Ft;try{Ft=Qe("xRead",ke,Xe,Number(xt)),(Ft===0||ce.SQLITE_IOERR_SHORT_READ===Ft)&&_e.heap8u().set(gt.sabView.subarray(0,Xe),He)}catch(cn){Se("xRead(",arguments,") failed:",cn,gt),Ft=ce.SQLITE_IOERR_READ}return Ie(),Ft},xSync:function(ke,He){de("xSync"),++Te.xSync.count;const Xe=Qe("xSync",ke,He);return Ie(),Xe},xTruncate:function(ke,He){de("xTruncate");const Xe=Qe("xTruncate",ke,Number(He));return Ie(),Xe},xUnlock:function(ke,He){de("xUnlock");const Xe=Wt[ke];let xt=0;return ce.SQLITE_LOCK_NONE===He&&Xe.lockType&&(xt=Qe("xUnlock",ke,He)),xt===0&&(Xe.lockType=He),Ie(),xt},xWrite:function(ke,He,Xe,xt){de("xWrite");const gt=Wt[ke];let Ft;try{gt.sabView.set(_e.heap8u().subarray(He,He+Xe)),Ft=Qe("xWrite",ke,Xe,Number(xt))}catch(cn){Se("xWrite(",arguments,") failed:",cn,gt),Ft=ce.SQLITE_IOERR_WRITE}return Ie(),Ft}},nt={xAccess:function(ke,He,Xe,xt){de("xAccess");const gt=Qe("xAccess",_e.cstrToJs(He));return _e.poke(xt,gt?0:1,"i32"),Ie(),0},xCurrentTime:function(ke,He){return _e.poke(He,2440587.5+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(ke,He){return _e.poke(He,2440587.5*864e5+new Date().getTime(),"i64"),0},xDelete:function(ke,He,Xe){de("xDelete");const xt=Qe("xDelete",_e.cstrToJs(He),Xe,!1);return Ie(),xt},xFullPathname:function(ke,He,Xe,xt){return _e.cstrncpy(xt,He,Xe)<Xe?0:ce.SQLITE_CANTOPEN},xGetLastError:function(ke,He,Xe){return Ae("OPFS xGetLastError() has nothing sensible to return."),0},xOpen:function(He,Xe,xt,gt,Ft){de("xOpen");let cn=0;Xe===0?Xe=Lt():_e.isPtr(Xe)&&(ce.sqlite3_uri_boolean(Xe,"opfs-unlock-asap",0)&&(cn|=z.opfsFlags.OPFS_UNLOCK_ASAP),ce.sqlite3_uri_boolean(Xe,"delete-before-open",0)&&(cn|=z.opfsFlags.OPFS_UNLINK_BEFORE_OPEN),Xe=_e.cstrToJs(Xe));const qt=Object.create(null);qt.fid=xt,qt.filename=Xe,qt.sab=new SharedArrayBuffer(z.fileBufferSize),qt.flags=gt,qt.readOnly=!(p.SQLITE_OPEN_CREATE&gt)&&!!(gt&ce.SQLITE_OPEN_READONLY);const ur=Qe("xOpen",xt,Xe,gt,cn);return ur||(qt.readOnly&&_e.poke(Ft,ce.SQLITE_OPEN_READONLY,"i32"),Wt[xt]=qt,qt.sabView=z.sabFileBufView,qt.sq3File=new $e(xt),qt.sq3File.$pMethods=F.pointer,qt.lockType=ce.SQLITE_LOCK_NONE),Ie(),ur}};M&&(Y.$xRandomness=M.$xRandomness,Y.$xSleep=M.$xSleep),Y.$xRandomness||(nt.xRandomness=function(ke,He,Xe){const xt=_e.heap8u();let gt=0;for(;gt<He;++gt)xt[Xe+gt]=Math.random()*255e3&255;return gt}),Y.$xSleep||(nt.xSleep=function(ke,He){return Atomics.wait(z.sabOPView,z.opIds.xSleep,0,He),0}),Be.getResolvedPath=function(ke,He){const Xe=new URL(ke,"file://irrelevant").pathname;return He?Xe.split("/").filter(xt=>!!xt):Xe},Be.getDirForFilename=async function(He,Xe=!1){const xt=Be.getResolvedPath(He,!0),gt=xt.pop();let Ft=Be.rootDirectory;for(const cn of xt)cn&&(Ft=await Ft.getDirectoryHandle(cn,{create:!!Xe}));return[Ft,gt]},Be.mkdir=async function(ke){try{return await Be.getDirForFilename(ke+"/filepart",!0),!0}catch{return!1}},Be.entryExists=async function(ke){try{const[He,Xe]=await Be.getDirForFilename(ke);return await He.getFileHandle(Xe),!0}catch{return!1}},Be.randomFilename=Lt,Be.treeList=async function(){const ke=async function Xe(xt,gt){gt.name=xt.name,gt.dirs=[],gt.files=[];for await(const Ft of xt.values())if(Ft.kind==="directory"){const cn=Object.create(null);gt.dirs.push(cn),await Xe(Ft,cn)}else gt.files.push(Ft.name)},He=Object.create(null);return await ke(Be.rootDirectory,He),He},Be.rmfr=async function(){const ke=Be.rootDirectory,He={recurse:!0};for await(const Xe of ke.values())ke.removeEntry(Xe.name,He)},Be.unlink=async function(ke,He=!1,Xe=!1){try{const[xt,gt]=await Be.getDirForFilename(ke,!1);return await xt.removeEntry(gt,{recursive:He}),!0}catch(xt){if(Xe)throw new Error("unlink(",arguments[0],") failed: "+xt.message,{cause:xt});return!1}},Be.traverse=async function(ke){const He={recursive:!0,directory:Be.rootDirectory};typeof ke=="function"&&(ke={callback:ke}),ke=Object.assign(He,ke||{}),async function xt(gt,Ft){for await(const cn of gt.values()){if(ke.callback(cn,gt,Ft)===!1)return!1;if(ke.recursive&&cn.kind==="directory"&&await xt(cn,Ft+1)===!1)break}}(ke.directory,0)};const Rt=async function(ke,He){const[Xe,xt]=await Be.getDirForFilename(ke,!0);let Ft=await (await Xe.getFileHandle(xt,{create:!0})).createSyncAccessHandle(),cn=0,qt,ur=!1;try{for(Ft.truncate(0);(qt=await He())!==void 0;)qt instanceof ArrayBuffer&&(qt=new Uint8Array(qt)),cn===0&&qt.byteLength>=15&&(ge.affirmDbHeader(qt),ur=!0),Ft.write(qt,{at:cn}),cn+=qt.byteLength;if((cn<512||cn%512!==0)&&Ue("Input size",cn,"is not correct for an SQLite database."),!ur){const Pe=new Uint8Array(20);Ft.read(Pe,{at:0}),ge.affirmDbHeader(Pe)}return Ft.write(new Uint8Array([1,1]),{at:18}),cn}catch(Pe){throw await Ft.close(),Ft=void 0,await Xe.removeEntry(xt).catch(()=>{}),Pe}finally{Ft&&await Ft.close()}};if(Be.importDb=async function(ke,He){if(He instanceof Function)return Rt(ke,He);He instanceof ArrayBuffer&&(He=new Uint8Array(He)),ge.affirmIsDb(He);const Xe=He.byteLength,[xt,gt]=await Be.getDirForFilename(ke,!0);let Ft,cn=0;try{return Ft=await (await xt.getFileHandle(gt,{create:!0})).createSyncAccessHandle(),Ft.truncate(0),cn=Ft.write(He,{at:0}),cn!=Xe&&Ue("Expected to write "+Xe+" bytes but wrote "+cn+"."),Ft.write(new Uint8Array([1,1]),{at:18}),cn}catch(qt){throw Ft&&(await Ft.close(),Ft=void 0),await xt.removeEntry(gt).catch(()=>{}),qt}finally{Ft&&await Ft.close()}},p.oo1){const ke=function(...He){const Xe=p.oo1.DB.dbCtorHelper.normalizeArgs(...He);Xe.vfs=Y.$zName,p.oo1.DB.dbCtorHelper.call(this,Xe)};ke.prototype=Object.create(p.oo1.DB.prototype),p.oo1.OpfsDb=ke,ke.importDb=Be.importDb,p.oo1.DB.dbCtorHelper.setVfsPostOpenCallback(Y.pointer,function(He,Xe){Xe.capi.sqlite3_busy_timeout(He,1e4)})}const Ut=function(){const ke=_e.scopedAllocPush(),He=new $e;try{const Xe=He.pointer,xt=ce.SQLITE_OPEN_CREATE|ce.SQLITE_OPEN_READWRITE|ce.SQLITE_OPEN_MAIN_DB,gt=_e.scopedAlloc(8),Ft="/sanity/check/file"+Lt(8),cn=_e.scopedAllocCString(Ft);let qt;if(z.s11n.serialize("This is \xe4 string."),qt=z.s11n.deserialize(),it("deserialize() says:",qt),qt[0]!=="This is \xe4 string."&&Ue("String d13n error."),nt.xAccess(Y.pointer,cn,0,gt),qt=_e.peek(gt,"i32"),it("xAccess(",Ft,") exists ?=",qt),qt=nt.xOpen(Y.pointer,cn,Xe,xt,gt),it("open rc =",qt,"state.sabOPView[xOpen] =",z.sabOPView[z.opIds.xOpen]),qt!==0){Se("open failed with code",qt);return}nt.xAccess(Y.pointer,cn,0,gt),qt=_e.peek(gt,"i32"),qt||Ue("xAccess() failed to detect file."),qt=Ge.xSync(He.pointer,0),qt&&Ue("sync failed w/ rc",qt),qt=Ge.xTruncate(He.pointer,1024),qt&&Ue("truncate failed w/ rc",qt),_e.poke(gt,0,"i64"),qt=Ge.xFileSize(He.pointer,gt),qt&&Ue("xFileSize failed w/ rc",qt),it("xFileSize says:",_e.peek(gt,"i64")),qt=Ge.xWrite(He.pointer,cn,10,1),qt&&Ue("xWrite() failed!");const ur=_e.scopedAlloc(16);qt=Ge.xRead(He.pointer,ur,6,2),_e.poke(ur+6,0);let Pe=_e.cstrToJs(ur);it("xRead() got:",Pe),Pe!=="sanity"&&Ue("Unexpected xRead() value."),nt.xSleep&&(it("xSleep()ing before close()ing..."),nt.xSleep(Y.pointer,2e3),it("waking up from xSleep()")),qt=Ge.xClose(Xe),it("xClose rc =",qt,"sabOPView =",z.sabOPView),it("Deleting file:",Ft),nt.xDelete(Y.pointer,cn,4660),nt.xAccess(Y.pointer,cn,0,gt),qt=_e.peek(gt,"i32"),qt&&Ue("Expecting 0 from xAccess(",Ft,") after xDelete()."),Ae("End of OPFS sanity checks.")}finally{He.dispose(),_e.scopedAllocPop(ke)}};te.onmessage=function({data:ke}){switch(ke.type){case"opfs-unavailable":Ke(new Error(ke.payload.join(" ")));break;case"opfs-async-loaded":te.postMessage({type:"opfs-async-init",args:z});break;case"opfs-async-inited":{if(me===!0)break;try{p.vfs.installVfs({io:{struct:F,methods:Ge},vfs:{struct:Y,methods:nt}}),z.sabOPView=new Int32Array(z.sabOP),z.sabFileBufView=new Uint8Array(z.sabIO,0,z.fileBufferSize),z.sabS11nView=new Uint8Array(z.sabIO,z.sabS11nOffset,z.sabS11nSize),It(),S.sanityChecks&&(Ae("Running sanity checks because of opfs-sanity-check URL arg..."),Ut()),bt()?navigator.storage.getDirectory().then(He=>{te.onerror=te._originalOnError,delete te._originalOnError,p.opfs=Be,Be.rootDirectory=He,it("End of OPFS sqlite3_vfs setup.",Y),H()}).catch(Ke):H()}catch(He){Se(He),Ke(He)}break}default:{const He="Unexpected message from the OPFS async worker: "+JSON.stringify(ke);Se(He),Ke(new Error(He));break}}}}))};b.defaultProxyUri="sqlite3-opfs-async-proxy.js",globalThis.sqlite3ApiBootstrap.initializersAsync.push(async x=>{try{let S=b.defaultProxyUri;return x.scriptInfo.sqlite3Dir&&(b.defaultProxyUri=x.scriptInfo.sqlite3Dir+S),b().catch(I=>{x.config.warn("Ignoring inability to install OPFS sqlite3_vfs:",I.message)})}catch(S){return x.config.error("installOpfsVfs() exception:",S),Promise.reject(S)}})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(p){const b=p.util.toss,x=p.util.toss3,S=Object.create(null),I=p.capi,ee=p.util,ie=p.wasm,Me=4096,Ve=512,Ze=4,it=8,Ae=Ve+Ze,Se=Ve,Ue=Ae,ce=Me,ge=I.SQLITE_OPEN_MAIN_DB|I.SQLITE_OPEN_MAIN_JOURNAL|I.SQLITE_OPEN_SUPER_JOURNAL|I.SQLITE_OPEN_WAL,_e=".opaque",We=()=>Math.random().toString(36).slice(2),$e=new TextDecoder,we=new TextEncoder,Be=Object.assign(Object.create(null),{name:"opfs-sahpool",directory:void 0,initialCapacity:6,clearOnInit:!1,verbosity:2,forceReinitIfPreviouslyFailed:!1}),bt=[p.config.error,p.config.warn,p.config.log];p.config.log;const F=p.config.warn;p.config.error;const Y=new Map,me=Ye=>Y.get(Ye),Ke=(Ye,de)=>{de?Y.set(Ye,de):Y.delete(Ye)},H=new Map,te=Ye=>H.get(Ye),O=(Ye,de)=>{de?H.set(Ye,de):H.delete(Ye)},M={xCheckReservedLock:function(Ye,de){const Ie=te(Ye);return Ie.log("xCheckReservedLock"),Ie.storeErr(),ie.poke32(de,1),0},xClose:function(Ye){const de=te(Ye);de.storeErr();const Ie=de.getOFileForS3File(Ye);if(Ie)try{de.log(`xClose ${Ie.path}`),de.mapS3FileToOFile(Ye,!1),Ie.sah.flush(),Ie.flags&I.SQLITE_OPEN_DELETEONCLOSE&&de.deletePath(Ie.path)}catch(Ge){return de.storeErr(Ge,I.SQLITE_IOERR)}return 0},xDeviceCharacteristics:function(Ye){return I.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(Ye,de,Ie){return I.SQLITE_NOTFOUND},xFileSize:function(Ye,de){const Ie=te(Ye);Ie.log("xFileSize");const nt=Ie.getOFileForS3File(Ye).sah.getSize()-ce;return ie.poke64(de,BigInt(nt)),0},xLock:function(Ye,de){const Ie=te(Ye);Ie.log(`xLock ${de}`),Ie.storeErr();const Ge=Ie.getOFileForS3File(Ye);return Ge.lockType=de,0},xRead:function(Ye,de,Ie,Ge){const nt=te(Ye);nt.storeErr();const Rt=nt.getOFileForS3File(Ye);nt.log(`xRead ${Rt.path} ${Ie} @ ${Ge}`);try{const Ut=Rt.sah.read(ie.heap8u().subarray(de,de+Ie),{at:ce+Number(Ge)});return Ut<Ie?(ie.heap8u().fill(0,de+Ut,de+Ie),I.SQLITE_IOERR_SHORT_READ):0}catch(Ut){return nt.storeErr(Ut,I.SQLITE_IOERR)}},xSectorSize:function(Ye){return Me},xSync:function(Ye,de){const Ie=te(Ye);Ie.log(`xSync ${de}`),Ie.storeErr();const Ge=Ie.getOFileForS3File(Ye);try{return Ge.sah.flush(),0}catch(nt){return Ie.storeErr(nt,I.SQLITE_IOERR)}},xTruncate:function(Ye,de){const Ie=te(Ye);Ie.log(`xTruncate ${de}`),Ie.storeErr();const Ge=Ie.getOFileForS3File(Ye);try{return Ge.sah.truncate(ce+Number(de)),0}catch(nt){return Ie.storeErr(nt,I.SQLITE_IOERR)}},xUnlock:function(Ye,de){const Ie=te(Ye);Ie.log("xUnlock");const Ge=Ie.getOFileForS3File(Ye);return Ge.lockType=de,0},xWrite:function(Ye,de,Ie,Ge){const nt=te(Ye);nt.storeErr();const Rt=nt.getOFileForS3File(Ye);nt.log(`xWrite ${Rt.path} ${Ie} ${Ge}`);try{const Ut=Rt.sah.write(ie.heap8u().subarray(de,de+Ie),{at:ce+Number(Ge)});return Ie===Ut?0:b("Unknown write() failure.")}catch(Ut){return nt.storeErr(Ut,I.SQLITE_IOERR)}}},z=new I.sqlite3_io_methods;z.$iVersion=1,p.vfs.installVfs({io:{struct:z,methods:M}});const Te={xAccess:function(Ye,de,Ie,Ge){const nt=me(Ye);nt.storeErr();try{const Rt=nt.getPath(de);ie.poke32(Ge,nt.hasFilename(Rt)?1:0)}catch{ie.poke32(Ge,0)}return 0},xCurrentTime:function(Ye,de){return ie.poke(de,2440587.5+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(Ye,de){return ie.poke(de,2440587.5*864e5+new Date().getTime(),"i64"),0},xDelete:function(Ye,de,Ie){const Ge=me(Ye);Ge.log(`xDelete ${ie.cstrToJs(de)}`),Ge.storeErr();try{return Ge.deletePath(Ge.getPath(de)),0}catch(nt){return Ge.storeErr(nt),I.SQLITE_IOERR_DELETE}},xFullPathname:function(Ye,de,Ie,Ge){return ie.cstrncpy(Ge,de,Ie)<Ie?0:I.SQLITE_CANTOPEN},xGetLastError:function(Ye,de,Ie){const Ge=me(Ye),nt=Ge.popErr();if(Ge.log(`xGetLastError ${de} e =`,nt),nt){const Rt=ie.scopedAllocPush();try{const[Ut,ke]=ie.scopedAllocCString(nt.message,!0);ie.cstrncpy(Ie,Ut,de),ke>de&&ie.poke8(Ie+de-1,0)}catch{return I.SQLITE_NOMEM}finally{ie.scopedAllocPop(Rt)}}return nt?nt.sqlite3Rc||I.SQLITE_IOERR:0},xOpen:function(de,Ie,Ge,nt,Rt){const Ut=me(de);try{Ut.log(`xOpen ${ie.cstrToJs(Ie)} ${nt}`);const ke=Ie&&ie.peek8(Ie)?Ut.getPath(Ie):We();let He=Ut.getSAHForPath(ke);!He&&nt&I.SQLITE_OPEN_CREATE&&(Ut.getFileCount()<Ut.getCapacity()?(He=Ut.nextAvailableSAH(),Ut.setAssociatedPath(He,ke,nt)):b("SAH pool is full. Cannot create file",ke)),He||b("file not found:",ke);const Xe={path:ke,flags:nt,sah:He};Ut.mapS3FileToOFile(Ge,Xe),Xe.lockType=I.SQLITE_LOCK_NONE;const xt=new I.sqlite3_file(Ge);return xt.$pMethods=z.pointer,xt.dispose(),ie.poke32(Rt,nt),0}catch(ke){return Ut.storeErr(ke),I.SQLITE_CANTOPEN}}},Qe=function(Ye){p.capi.sqlite3_vfs_find(Ye)&&x("VFS name is already registered:",Ye);const de=new I.sqlite3_vfs,Ie=I.sqlite3_vfs_find(null),Ge=Ie?new I.sqlite3_vfs(Ie):null;return de.$iVersion=2,de.$szOsFile=I.sqlite3_file.structInfo.sizeof,de.$mxPathname=Ve,de.addOnDispose(de.$zName=ie.allocCString(Ye),()=>Ke(de.pointer,0)),Ge&&(de.$xRandomness=Ge.$xRandomness,de.$xSleep=Ge.$xSleep,Ge.dispose()),!de.$xRandomness&&!Te.xRandomness&&(Te.xRandomness=function(nt,Rt,Ut){const ke=ie.heap8u();let He=0;for(;He<Rt;++He)ke[Ut+He]=Math.random()*255e3&255;return He}),!de.$xSleep&&!Te.xSleep&&(Te.xSleep=(nt,Rt)=>0),p.vfs.installVfs({vfs:{struct:de,methods:Te}}),de};class It{vfsDir;#e;#t;#n;#r=new Map;#i=new Map;#s=new Set;#o=new Map;#a=new Uint8Array(Ae);#c;#l;#u;constructor(de=Object.create(null)){this.#u=de.verbosity??Be.verbosity,this.vfsName=de.name||Be.name,this.#l=Qe(this.vfsName),Ke(this.#l.pointer,this),this.vfsDir=de.directory||"."+this.vfsName,this.#c=new DataView(this.#a.buffer,this.#a.byteOffset),this.isReady=this.reset(!!(de.clearOnInit??Be.clearOnInit)).then(()=>{if(this.$error)throw this.$error;return this.getCapacity()?Promise.resolve(void 0):this.addCapacity(de.initialCapacity||Be.initialCapacity)})}#d(de,...Ie){this.#u>de&&bt[de](this.vfsName+":",...Ie)}log(...de){this.#d(2,...de)}warn(...de){this.#d(1,...de)}error(...de){this.#d(0,...de)}getVfs(){return this.#l}getCapacity(){return this.#r.size}getFileCount(){return this.#i.size}getFileNames(){const de=[],Ie=this.#i.keys();for(const Ge of Ie)de.push(Ge);return de}async addCapacity(de){for(let Ie=0;Ie<de;++Ie){const Ge=We(),Rt=await (await this.#t.getFileHandle(Ge,{create:!0})).createSyncAccessHandle();this.#r.set(Rt,Ge),this.setAssociatedPath(Rt,"",0)}return this.getCapacity()}async reduceCapacity(de){let Ie=0;for(const Ge of Array.from(this.#s)){if(Ie===de||this.getFileCount()===this.getCapacity())break;const nt=this.#r.get(Ge);Ge.close(),await this.#t.removeEntry(nt),this.#r.delete(Ge),this.#s.delete(Ge),++Ie}return Ie}releaseAccessHandles(){for(const de of this.#r.keys())de.close();this.#r.clear(),this.#i.clear(),this.#s.clear()}async acquireAccessHandles(de){const Ie=[];for await(const[Ge,nt]of this.#t)nt.kind==="file"&&Ie.push([Ge,nt]);return Promise.all(Ie.map(async([Ge,nt])=>{try{const Rt=await nt.createSyncAccessHandle();if(this.#r.set(Rt,Ge),de)Rt.truncate(ce),this.setAssociatedPath(Rt,"",0);else{const Ut=this.getAssociatedPath(Rt);Ut?this.#i.set(Ut,Rt):this.#s.add(Rt)}}catch(Rt){throw this.storeErr(Rt),this.releaseAccessHandles(),Rt}}))}getAssociatedPath(de){de.read(this.#a,{at:0});const Ie=this.#c.getUint32(Se);if(this.#a[0]&&(Ie&I.SQLITE_OPEN_DELETEONCLOSE||!(Ie&ge)))return F(`Removing file with unexpected flags ${Ie.toString(16)}`,this.#a),this.setAssociatedPath(de,"",0),"";const Ge=new Uint32Array(it/4);de.read(Ge,{at:Ue});const nt=this.computeDigest(this.#a);if(Ge.every((Rt,Ut)=>Rt===nt[Ut])){const Rt=this.#a.findIndex(Ut=>Ut===0);return Rt===0&&de.truncate(ce),Rt?$e.decode(this.#a.subarray(0,Rt)):""}else return F("Disassociating file with bad digest."),this.setAssociatedPath(de,"",0),""}setAssociatedPath(de,Ie,Ge){const nt=we.encodeInto(Ie,this.#a);Ve<=nt.written+1&&b("Path too long:",Ie),this.#a.fill(0,nt.written,Ve),this.#c.setUint32(Se,Ge);const Rt=this.computeDigest(this.#a);de.write(this.#a,{at:0}),de.write(Rt,{at:Ue}),de.flush(),Ie?(this.#i.set(Ie,de),this.#s.delete(de)):(de.truncate(ce),this.#s.add(de))}computeDigest(de){let Ie=0xdeadbeef,Ge=0x41c6ce57;for(const nt of de)Ie=31*Ie+nt*307,Ge=31*Ge+nt*307;return new Uint32Array([Ie>>>0,Ge>>>0])}async reset(de){await this.isReady;let Ie=await navigator.storage.getDirectory(),Ge;for(const nt of this.vfsDir.split("/"))nt&&(Ge=Ie,Ie=await Ie.getDirectoryHandle(nt,{create:!0}));return this.#e=Ie,this.#n=Ge,this.#t=await this.#e.getDirectoryHandle(_e,{create:!0}),this.releaseAccessHandles(),this.acquireAccessHandles(de)}getPath(de){return ie.isPtr(de)&&(de=ie.cstrToJs(de)),(de instanceof URL?de:new URL(de,"file://localhost/")).pathname}deletePath(de){const Ie=this.#i.get(de);return Ie&&(this.#i.delete(de),this.setAssociatedPath(Ie,"",0)),!!Ie}storeErr(de,Ie){return de&&(de.sqlite3Rc=Ie||I.SQLITE_IOERR,this.error(de)),this.$error=de,Ie}popErr(){const de=this.$error;return this.$error=void 0,de}nextAvailableSAH(){const[de]=this.#s.keys();return de}getOFileForS3File(de){return this.#o.get(de)}mapS3FileToOFile(de,Ie){Ie?(this.#o.set(de,Ie),O(de,this)):(this.#o.delete(de),O(de,!1))}hasFilename(de){return this.#i.has(de)}getSAHForPath(de){return this.#i.get(de)}async removeVfs(){if(!this.#l.pointer||!this.#t)return!1;I.sqlite3_vfs_unregister(this.#l.pointer),this.#l.dispose(),delete S[this.vfsName];try{this.releaseAccessHandles(),await this.#e.removeEntry(_e,{recursive:!0}),this.#t=void 0,await this.#n.removeEntry(this.#e.name,{recursive:!0}),this.#e=this.#n=void 0}catch(de){p.config.error(this.vfsName,"removeVfs() failed:",de)}return!0}exportFile(de){const Ie=this.#i.get(de)||b("File not found:",de),Ge=Ie.getSize()-ce,nt=new Uint8Array(Ge>0?Ge:0);if(Ge>0){const Rt=Ie.read(nt,{at:ce});Rt!=Ge&&b("Expected to read "+Ge+" bytes but read "+Rt+".")}return nt}async importDbChunked(de,Ie){const Ge=this.#i.get(de)||this.nextAvailableSAH()||b("No available handles to import to.");Ge.truncate(0);let nt=0,Rt,Ut=!1;try{for(;(Rt=await Ie())!==void 0;)Rt instanceof ArrayBuffer&&(Rt=new Uint8Array(Rt)),nt===0&&Rt.byteLength>=15&&(ee.affirmDbHeader(Rt),Ut=!0),Ge.write(Rt,{at:ce+nt}),nt+=Rt.byteLength;if((nt<512||nt%512!==0)&&b("Input size",nt,"is not correct for an SQLite database."),!Ut){const ke=new Uint8Array(20);Ge.read(ke,{at:0}),ee.affirmDbHeader(ke)}Ge.write(new Uint8Array([1,1]),{at:ce+18})}catch(ke){throw this.setAssociatedPath(Ge,"",0),ke}return this.setAssociatedPath(Ge,de,I.SQLITE_OPEN_MAIN_DB),nt}importDb(de,Ie){if(Ie instanceof ArrayBuffer)Ie=new Uint8Array(Ie);else if(Ie instanceof Function)return this.importDbChunked(de,Ie);const Ge=this.#i.get(de)||this.nextAvailableSAH()||b("No available handles to import to."),nt=Ie.byteLength;(nt<512||nt%512!=0)&&b("Byte array size is invalid for an SQLite db.");const Rt="SQLite format 3";for(let ke=0;ke<Rt.length;++ke)Rt.charCodeAt(ke)!==Ie[ke]&&b("Input does not contain an SQLite database header.");const Ut=Ge.write(Ie,{at:ce});return Ut!=nt?(this.setAssociatedPath(Ge,"",0),b("Expected to write "+nt+" bytes but wrote "+Ut+".")):(Ge.write(new Uint8Array([1,1]),{at:ce+18}),this.setAssociatedPath(Ge,de,I.SQLITE_OPEN_MAIN_DB)),Ut}}class Lt{#e;constructor(de){this.#e=de,this.vfsName=de.vfsName}async addCapacity(de){return this.#e.addCapacity(de)}async reduceCapacity(de){return this.#e.reduceCapacity(de)}getCapacity(){return this.#e.getCapacity(this.#e)}getFileCount(){return this.#e.getFileCount()}getFileNames(){return this.#e.getFileNames()}async reserveMinimumCapacity(de){const Ie=this.#e.getCapacity();return Ie<de?this.#e.addCapacity(de-Ie):Ie}exportFile(de){return this.#e.exportFile(de)}importDb(de,Ie){return this.#e.importDb(de,Ie)}async wipeFiles(){return this.#e.reset(!0)}unlink(de){return this.#e.deletePath(de)}async removeVfs(){return this.#e.removeVfs()}}const Wt=async()=>{const Ye=await navigator.storage.getDirectory(),de=".opfs-sahpool-sync-check-"+We(),nt=(await (await Ye.getFileHandle(de,{create:!0})).createSyncAccessHandle()).close();return await nt,await Ye.removeEntry(de),nt?.then&&b("The local OPFS API is too old for opfs-sahpool:","it has an async FileSystemSyncAccessHandle.close() method."),!0};p.installOpfsSAHPoolVfs=async function(Ye=Object.create(null)){Ye=Object.assign(Object.create(null),Be,Ye||{});const de=Ye.name;if(Ye.$testThrowPhase1)throw Ye.$testThrowPhase1;if(S[de])try{return await S[de]}catch(Ie){if(Ye.forceReinitIfPreviouslyFailed)delete S[de];else throw Ie}return!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory?S[de]=Promise.reject(new Error("Missing required OPFS APIs.")):S[de]=Wt().then(async function(){if(Ye.$testThrowPhase2)throw Ye.$testThrowPhase2;const Ie=new It(Ye);return Ie.isReady.then(async()=>{const Ge=new Lt(Ie);if(p.oo1){const nt=p.oo1,Rt=Ie.getVfs(),Ut=function(...ke){const He=nt.DB.dbCtorHelper.normalizeArgs(...ke);He.vfs=Rt.$zName,nt.DB.dbCtorHelper.call(this,He)};Ut.prototype=Object.create(nt.DB.prototype),Ge.OpfsSAHPoolDb=Ut}return Ie.log("VFS initialized."),Ge}).catch(async Ge=>{throw await Ie.removeVfs().catch(()=>{}),Ge})}).catch(Ie=>S[de]=Promise.reject(Ie))}}),typeof f<"u"){const p=Object.assign(Object.create(null),{exports:typeof re>"u"?f.asm:re,memory:f.wasmMemory},globalThis.sqlite3ApiConfig||{});globalThis.sqlite3ApiConfig=p;let b;try{b=globalThis.sqlite3ApiBootstrap()}catch(x){throw console.error("sqlite3ApiBootstrap() error:",x),x}finally{delete globalThis.sqlite3ApiBootstrap,delete globalThis.sqlite3ApiConfig}f.sqlite3=b}else console.warn("This is not running in an Emscripten module context, so","globalThis.sqlite3ApiBootstrap() is _not_ being called due to lack","of config info for the WASM environment.","It must be called manually.")}),n=l,n}})();const b6=function(){const t=i0;if(!t)throw new Error("Expecting globalThis.sqlite3InitModule to be defined by the Emscripten build.");const e=globalThis.sqlite3InitModuleState=Object.assign(Object.create(null),{moduleScript:globalThis?.document?.currentScript,isWorker:typeof WorkerGlobalScope<"u",location:globalThis.location,urlParams:globalThis?.location?.href?new URL(globalThis.location.href).searchParams:new URLSearchParams});if(e.debugModule=e.urlParams.has("sqlite3.debugModule")?(...n)=>console.warn("sqlite3.debugModule:",...n):()=>{},e.urlParams.has("sqlite3.dir"))e.sqlite3Dir=e.urlParams.get("sqlite3.dir")+"/";else if(e.moduleScript){const n=e.moduleScript.src.split("/");n.pop(),e.sqlite3Dir=n.join("/")+"/"}if(globalThis.sqlite3InitModule=function n(...r){return t(...r).then(i=>{const o=i.sqlite3;o.scriptInfo=e,n.__isUnderTest&&(o.__isUnderTest=!0);const l=o.asyncPostInit;return delete o.asyncPostInit,l()}).catch(i=>{throw console.error("Exception loading sqlite3 module:",i),i})},globalThis.sqlite3InitModule.ready=t.ready,globalThis.sqlite3InitModuleState.moduleScript){const n=globalThis.sqlite3InitModuleState;let r=n.moduleScript.src.split("/");r.pop(),n.scriptDir=r.join("/")+"/"}return e.debugModule("sqlite3InitModuleState =",e),globalThis.sqlite3InitModule}();i0=b6;const _6=i0;globalThis.sqlite3Worker1Promiser=function t(e=t.defaultConfig){if(arguments.length===1&&typeof arguments[0]=="function"){const _=e;e=Object.assign(Object.create(null),t.defaultConfig),e.onready=_}else e=Object.assign(Object.create(null),t.defaultConfig,e);const n=Object.create(null),r=function(){},i=e.onerror||r,o=e.debug||r,l=e.generateMessageId?void 0:Object.create(null),c=e.generateMessageId||function(_){return _.type+"#"+(l[_.type]=(l[_.type]||0)+1)},d=(..._)=>{throw new Error(_.join(" "))};e.worker||(e.worker=t.defaultConfig.worker),typeof e.worker=="function"&&(e.worker=e.worker());let m,y;return e.worker.onmessage=function(_){_=_.data,o("worker1.onmessage",_);let N=n[_.messageId];if(!N){if(_&&_.type==="sqlite3-api"&&_.result==="worker1-ready"){e.onready&&e.onready(y);return}if(N=n[_.type],N&&N.onrow){N.onrow(_);return}e.onunhandled?e.onunhandled(arguments[0]):i("sqlite3Worker1Promiser() unhandled worker message:",_);return}switch(delete n[_.messageId],_.type){case"error":N.reject(_);return;case"open":m||(m=_.dbId);break;case"close":_.dbId===m&&(m=void 0);break}try{N.resolve(_)}catch(k){N.reject(k)}},y=function(){let _;arguments.length===1?_=arguments[0]:arguments.length===2?(_=Object.create(null),_.type=arguments[0],_.args=arguments[1],_.dbId=_.args.dbId):d("Invalid arguments for sqlite3Worker1Promiser()-created factory."),!_.dbId&&_.type!=="open"&&(_.dbId=m),_.messageId=c(_),_.departureTime=performance.now();const N=Object.create(null);N.message=_;let k;_.type==="exec"&&_.args&&(typeof _.args.callback=="function"?(k=_.messageId+":row",N.onrow=_.args.callback,_.args.callback=k,n[k]=N):typeof _.args.callback=="string"&&d("exec callback may not be a string when using the Promise interface."));let q=new Promise(function(T,A){N.resolve=T,N.reject=A,n[_.messageId]=N,o("Posting",_.type,"message to Worker dbId="+(m||"default")+":",_),e.worker.postMessage(_)});return k&&(q=q.finally(()=>delete n[k])),q}};globalThis.sqlite3Worker1Promiser.defaultConfig={worker:function(){return new Worker(new URL("/assets/sqlite3-worker1-bundler-friendly-BF9rosUC.js",import.meta.url),{type:"module"})},onerror:(...t)=>console.error("worker1 promiser error",...t)};sqlite3Worker1Promiser.v2=function(t){let e;typeof t=="function"?(e=t,t={}):typeof t?.onready=="function"&&(e=t.onready,delete t.onready);const n=Object.create(null);t=Object.assign(t||Object.create(null),{onready:async function(i){try{e&&await e(i),n.resolve(i)}catch(o){n.reject(o)}}});const r=new Promise(function(i,o){n.resolve=i,n.reject=o});try{this.original(t)}catch(i){n.reject(i)}return r}.bind({original:sqlite3Worker1Promiser});sqlite3Worker1Promiser.v2;function eI(){let t,e;return{lock:async()=>{for(;t;)await t;t=new Promise(i=>{e=i})},unlock:async()=>{const i=e;t=void 0,e=void 0,i?.()}}}function q_(t,e){const n={rows:[],columns:[]},r=t.exec({sql:e.sql,bind:e.params,returnValue:"resultRows",rowMode:"array",columnNames:n.columns});switch(e.method){case"run":break;case"get":n.rows=r[0]??[];break;case"all":default:n.rows=r;break}return n}function BC(t){const e=t.split(/[\\/]/).filter(o=>o!==""),n=e.pop();if(!n)throw new Error("Database path is invalid.");const r=["journal","wal","shm"].map(o=>`${n}-${o}`);return{directories:e,fileName:n,tempFileNames:r,getDirectoryHandle:async()=>{let o=await navigator.storage.getDirectory();for(let l of e)o=await o.getDirectoryHandle(l);return o}}}async function Wx(t,e){let n;if(t instanceof Blob?n=t.stream():n=t,n instanceof ReadableStream&&e){const i=n.getReader();switch(e){case"callback":return async()=>(await i.read()).value;case"buffer":const o=[];let l=!1;for(;!l;){const y=await i.read();y.value&&o.push(y.value),l=y.done}const c=o.reduce((y,_)=>y+_.length,0),d=new Uint8Array(c);let m=0;return o.forEach(y=>{d.set(y,m),m+=y.length}),d}}else return n}class x6{constructor(e){Object.defineProperty(this,"sqlite3",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"db",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dbStorageType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"pointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"userFunctions",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"initMutex",{enumerable:!0,configurable:!0,writable:!0,value:eI()}),Object.defineProperty(this,"transactionMutex",{enumerable:!0,configurable:!0,writable:!0,value:eI()}),Object.defineProperty(this,"transactionKey",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"proxy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reinitChannel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onmessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"init",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{if(!this.config.databasePath)return;await this.initMutex.lock();const{databasePath:i,readOnly:o,verbose:l}=this.config,c=[o===!0?"r":"cw",l===!0?"t":""].join("");try{this.sqlite3||(this.sqlite3=await _6()),this.db&&this.destroy(),"opfs"in this.sqlite3&&i!==":memory:"?(this.db=new this.sqlite3.oo1.OpfsDb(i,c),this.dbStorageType="opfs"):(this.db=new this.sqlite3.oo1.DB(i,c),this.dbStorageType="memory",i!==":memory:"&&console.warn(`The origin private file system is not available, so ${i} will not be persisted. Make sure your web server is configured to use the correct HTTP response headers (See https://sqlocal.dallashoffman.com/guide/setup#cross-origin-isolation).`)),this.dbStorageType!=="memory"&&(this.reinitChannel=new BroadcastChannel(`_sqlocal_reinit_(${i})`),this.reinitChannel.onmessage=d=>{this.config.clientKey!==d.data.clientKey&&this.init(d.data.reason)}),this.userFunctions.forEach(this.initUserFunction),this.execInitStatements(),this.emitMessage({type:"event",event:"connect",reason:r})}catch(d){this.emitMessage({type:"error",error:d,queryKey:null}),this.destroy()}finally{await this.initMutex.unlock()}}}),Object.defineProperty(this,"postMessage",{enumerable:!0,configurable:!0,writable:!0,value:async(r,i)=>{const o=r instanceof MessageEvent?r.data:r;switch(await this.initMutex.lock(),o.type){case"config":this.editConfig(o);break;case"query":case"batch":case"transaction":this.exec(o);break;case"function":this.createUserFunction(o);break;case"getinfo":this.getDatabaseInfo(o);break;case"import":this.importDb(o);break;case"export":this.exportDb(o);break;case"delete":this.deleteDb(o);break;case"destroy":this.destroy(o);break}await this.initMutex.unlock()}}),Object.defineProperty(this,"emitMessage",{enumerable:!0,configurable:!0,writable:!0,value:(r,i=[])=>{this.onmessage&&this.onmessage(r,i)}}),Object.defineProperty(this,"editConfig",{enumerable:!0,configurable:!0,writable:!0,value:r=>{this.config=r.config,this.init("initial")}}),Object.defineProperty(this,"exec",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{if(this.db)try{const i={type:"data",queryKey:r.queryKey,data:[]};switch(r.type){case"query":const o=this.transactionKey!==null&&this.transactionKey===r.transactionKey;try{o||await this.transactionMutex.lock();const l=q_(this.db,r);i.data.push(l)}finally{o||await this.transactionMutex.unlock()}break;case"batch":try{await this.transactionMutex.lock(),this.db.transaction(l=>{for(let c of r.statements){const d=q_(l,c);i.data.push(d)}})}finally{await this.transactionMutex.unlock()}break;case"transaction":if(r.action==="begin"&&(await this.transactionMutex.lock(),this.transactionKey=r.transactionKey,this.db.exec({sql:"BEGIN"})),(r.action==="commit"||r.action==="rollback")&&this.transactionKey!==null&&this.transactionKey===r.transactionKey){const l=r.action==="commit"?"COMMIT":"ROLLBACK";this.db.exec({sql:l}),this.transactionKey=null,await this.transactionMutex.unlock()}break}this.emitMessage(i)}catch(i){this.emitMessage({type:"error",error:i,queryKey:r.queryKey})}}}),Object.defineProperty(this,"execInitStatements",{enumerable:!0,configurable:!0,writable:!0,value:()=>{if(this.db&&this.config.onInitStatements)for(let r of this.config.onInitStatements)q_(this.db,r)}}),Object.defineProperty(this,"getDatabaseInfo",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{try{const i=this.config.databasePath,o=this.dbStorageType,l=o!==void 0?o!=="memory"?await navigator.storage?.persisted():!1:void 0,d=this.db?.exec({sql:"SELECT page_count * page_size AS size FROM pragma_page_count(), pragma_page_size()",returnValue:"resultRows",rowMode:"array"})?.[0]?.[0],m=typeof d=="number"?d:void 0;this.emitMessage({type:"info",queryKey:r.queryKey,info:{databasePath:i,databaseSizeBytes:m,storageType:o,persisted:l}})}catch(i){this.emitMessage({type:"error",queryKey:r.queryKey,error:i})}}}),Object.defineProperty(this,"createUserFunction",{enumerable:!0,configurable:!0,writable:!0,value:r=>{const{functionName:i,functionType:o,queryKey:l}=r;let c;if(this.userFunctions.has(i)){this.emitMessage({type:"error",error:new Error(`A user-defined function with the name "${i}" has already been created for this SQLocal instance.`),queryKey:l});return}o==="callback"?c=(...d)=>{this.emitMessage({type:"callback",name:i,args:d})}:c=this.proxy[`_sqlocal_func_${i}`];try{this.initUserFunction({type:o,name:i,func:c}),this.emitMessage({type:"success",queryKey:l})}catch(d){this.emitMessage({type:"error",error:d,queryKey:l})}}}),Object.defineProperty(this,"initUserFunction",{enumerable:!0,configurable:!0,writable:!0,value:r=>{this.db&&(this.db.createFunction({name:r.name,xFunc:(i,...o)=>r.func(...o),arity:-1}),this.userFunctions.set(r.name,r))}}),Object.defineProperty(this,"importDb",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{if(!this.sqlite3||!this.config.databasePath||!this.db)return;const{queryKey:i,database:o}=r;let l=!1;try{if(this.dbStorageType==="opfs"){this.destroy();const c=await Wx(o,"callback");await this.sqlite3.oo1.OpfsDb.importDb(this.config.databasePath,c)}else{const c=await Wx(o,"buffer"),d=this.sqlite3.wasm.allocFromTypedArray(c);this.pointers.push(d);const m=this.sqlite3.capi.sqlite3_deserialize(this.db,"main",d,c.byteLength,c.byteLength,this.config.readOnly?this.sqlite3.capi.SQLITE_DESERIALIZE_READONLY:this.sqlite3.capi.SQLITE_DESERIALIZE_RESIZEABLE);this.db.checkRc(m),this.execInitStatements()}}catch(c){this.emitMessage({type:"error",error:c,queryKey:i}),l=!0}finally{this.dbStorageType!=="memory"&&await this.init("overwrite")}l||this.emitMessage({type:"success",queryKey:i})}}),Object.defineProperty(this,"exportDb",{enumerable:!0,configurable:!0,writable:!0,value:r=>{if(!this.sqlite3||!this.db)return;const{queryKey:i}=r;try{const o=this.sqlite3.capi.sqlite3_js_db_export(this.db);this.emitMessage({type:"buffer",queryKey:i,buffer:o},[o])}catch(o){this.emitMessage({type:"error",error:o,queryKey:i})}}}),Object.defineProperty(this,"deleteDb",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{if(!this.config.databasePath)return;const{queryKey:i}=r;let o=!1;try{if(this.dbStorageType==="opfs"){const{getDirectoryHandle:l,fileName:c,tempFileNames:d}=BC(this.config.databasePath),m=await l(),y=[c,...d];this.destroy(),await Promise.all(y.map(async _=>m.removeEntry(_).catch(N=>{if(!(N instanceof DOMException&&N.name==="NotFoundError"))throw N})))}else this.destroy()}catch(l){this.emitMessage({type:"error",error:l,queryKey:i}),o=!0}finally{await this.init("delete")}o||this.emitMessage({type:"success",queryKey:i})}}),Object.defineProperty(this,"destroy",{enumerable:!0,configurable:!0,writable:!0,value:r=>{this.db&&(this.db.exec({sql:"PRAGMA optimize"}),this.db.close(),this.db=void 0,this.dbStorageType=void 0),this.reinitChannel&&(this.reinitChannel.close(),this.reinitChannel=void 0),this.pointers.forEach(i=>this.sqlite3?.wasm.dealloc(i)),this.pointers=[],r&&this.emitMessage({type:"success",queryKey:r.queryKey})}});const n=e?globalThis:r0(globalThis);this.proxy=n,this.init("initial")}}function vg(t,...e){return{sql:t.join("?"),params:e}}function w6(t){return!t.some(e=>!Array.isArray(e))}function T_(t,e){let n;return w6(t)?n=t:n=[t],n.map(r=>{const i={};return e.forEach((o,l)=>{i[o]=r[l]}),i})}function S6(t){return typeof t=="object"&&t!==null&&"getSQL"in t&&typeof t.getSQL=="function"}function E6(t){return typeof t=="object"&&t!==null&&"sql"in t&&typeof t.sql=="string"&&"params"in t}function N6(t){if(typeof t=="function"&&(t=t(vg)),S6(t))try{if(!("toSQL"in t&&typeof t.toSQL=="function"))throw 1;const r=t.toSQL();if(!E6(r))throw 2;return r}catch{throw new Error("The passed statement could not be parsed.")}const e=t.sql;let n=[];return"params"in t?n=t.params:"parameters"in t&&(n=t.parameters),{sql:e,params:n}}function O_(){return crypto.randomUUID()}function tI(t,e){let n;return typeof t=="string"?n={sql:t,params:e}:n=vg(t,...e),n}async function Uh(t,e,n,r){return!e&&"locks"in navigator?navigator.locks.request(`_sqlocal_mutation_(${n.databasePath})`,{mode:t},r):r()}class k6{constructor(e){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isDestroyed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"bypassMutationLock",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"userCallbacks",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"queriesInProgress",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"proxy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reinitChannel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"processMessageEvent",{enumerable:!0,configurable:!0,writable:!0,value:l=>{const c=l instanceof MessageEvent?l.data:l,d=this.queriesInProgress;switch(c.type){case"success":case"data":case"buffer":case"info":case"error":if(c.queryKey&&d.has(c.queryKey)){const[y,_]=d.get(c.queryKey);c.type==="error"?_(c.error):y(c),d.delete(c.queryKey)}else if(c.type==="error")throw c.error;break;case"callback":const m=this.userCallbacks.get(c.name);m&&m(...c.args??[]);break;case"event":this.config.onConnect?.(c.reason);break}}}),Object.defineProperty(this,"createQuery",{enumerable:!0,configurable:!0,writable:!0,value:async l=>Uh("shared",this.bypassMutationLock||l.type==="import"||l.type==="delete",this.config,async()=>{if(this.isDestroyed===!0)throw new Error("This SQLocal client has been destroyed. You will need to initialize a new client in order to make further queries.");const c=O_();switch(l.type){case"import":this.processor.postMessage({...l,queryKey:c},[l.database]);break;default:this.processor.postMessage({...l,queryKey:c});break}return new Promise((d,m)=>{this.queriesInProgress.set(c,[d,m])})})}),Object.defineProperty(this,"exec",{enumerable:!0,configurable:!0,writable:!0,value:async(l,c,d="all",m)=>{const y=await this.createQuery({type:"query",transactionKey:m,sql:l,params:c,method:d}),_={rows:[],columns:[]};return y.type==="data"&&(_.rows=y.data[0]?.rows??[],_.columns=y.data[0]?.columns??[]),_}}),Object.defineProperty(this,"execBatch",{enumerable:!0,configurable:!0,writable:!0,value:async l=>{const c=await this.createQuery({type:"batch",statements:l}),d=new Array(l.length).fill({rows:[],columns:[]});return c.type==="data"&&c.data.forEach((m,y)=>{d[y]=m}),d}}),Object.defineProperty(this,"sql",{enumerable:!0,configurable:!0,writable:!0,value:async(l,...c)=>{const d=tI(l,c),{rows:m,columns:y}=await this.exec(d.sql,d.params,"all");return T_(m,y)}}),Object.defineProperty(this,"batch",{enumerable:!0,configurable:!0,writable:!0,value:async l=>{const c=l(vg);return(await this.execBatch(c)).map(({rows:m,columns:y})=>T_(m,y))}}),Object.defineProperty(this,"beginTransaction",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{const l=O_();await this.createQuery({type:"transaction",transactionKey:l,action:"begin"});const c=async _=>{const N=N6(_),{rows:k,columns:q}=await this.exec(N.sql,N.params,"all",l);return T_(k,q)};return{query:c,sql:async(_,...N)=>{const k=tI(_,N);return await c(k)},commit:async()=>{await this.createQuery({type:"transaction",transactionKey:l,action:"commit"})},rollback:async()=>{await this.createQuery({type:"transaction",transactionKey:l,action:"rollback"})}}}}),Object.defineProperty(this,"transaction",{enumerable:!0,configurable:!0,writable:!0,value:async l=>Uh("exclusive",!1,this.config,async()=>{let c;this.bypassMutationLock=!0;try{c=await this.beginTransaction();const d=await l({sql:c.sql,query:c.query});return await c.commit(),d}catch(d){throw await c?.rollback(),d}finally{this.bypassMutationLock=!1}})}),Object.defineProperty(this,"createCallbackFunction",{enumerable:!0,configurable:!0,writable:!0,value:async(l,c)=>{await this.createQuery({type:"function",functionName:l,functionType:"callback"}),this.userCallbacks.set(l,c)}}),Object.defineProperty(this,"createScalarFunction",{enumerable:!0,configurable:!0,writable:!0,value:async(l,c)=>{const d=`_sqlocal_func_${l}`;this.proxy===globalThis&&(this.proxy[d]=c),await this.createQuery({type:"function",functionName:l,functionType:"scalar"}),this.proxy!==globalThis&&(this.proxy[d]=c)}}),Object.defineProperty(this,"getDatabaseInfo",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{const l=await this.createQuery({type:"getinfo"});if(l.type==="info")return l.info;throw new Error("The database failed to return valid information.")}}),Object.defineProperty(this,"getDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{let l,c;const{storageType:d}=await this.getDatabaseInfo();if(d==="opfs"){const m=BC(this.config.databasePath),{directories:y,getDirectoryHandle:_}=m;l=m.fileName;const N=`backup-${Date.now()}--${l}`,k=`${y.join("/")}/${N}`;await this.exec("VACUUM INTO ?",[k]);const q=await _();c=await (await (await q.getFileHandle(N)).getFile()).arrayBuffer(),await q.removeEntry(N)}else{const m=await this.createQuery({type:"export"});if(m.type==="buffer")l="database.sqlite3",c=m.buffer;else throw new Error("The database failed to export.")}return new File([c],l,{type:"application/x-sqlite3"})}}),Object.defineProperty(this,"overwriteDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async(l,c)=>{await Uh("exclusive",!1,this.config,async()=>{try{const d=await Wx(l);await this.createQuery({type:"import",database:d}),typeof c=="function"&&(this.bypassMutationLock=!0,await c()),this.reinitChannel.postMessage({clientKey:this.clientKey,reason:"overwrite"})}finally{this.bypassMutationLock=!1}})}}),Object.defineProperty(this,"deleteDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async l=>{await Uh("exclusive",!1,this.config,async()=>{try{await this.createQuery({type:"delete"}),typeof l=="function"&&(this.bypassMutationLock=!0,await l()),this.reinitChannel.postMessage({clientKey:this.clientKey,reason:"delete"})}finally{this.bypassMutationLock=!1}})}}),Object.defineProperty(this,"destroy",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{await this.createQuery({type:"destroy"}),this.processor instanceof Worker&&(this.processor.removeEventListener("message",this.processMessageEvent),this.processor.terminate()),this.queriesInProgress.clear(),this.userCallbacks.clear(),this.reinitChannel.close(),this.isDestroyed=!0}});const n=typeof e=="string"?{databasePath:e}:e,{onInit:r,onConnect:i,...o}=n;this.config=n,this.clientKey=O_(),this.reinitChannel=new BroadcastChannel(`_sqlocal_reinit_(${o.databasePath})`),typeof globalThis.Worker<"u"&&o.databasePath!==":memory:"?(this.processor=new Worker(new URL("/assets/worker-DxuAzsZq.js",import.meta.url),{type:"module"}),this.processor.addEventListener("message",this.processMessageEvent),this.proxy=r0(this.processor)):(this.processor=new x6(!0),this.processor.onmessage=l=>this.processMessageEvent(l),this.proxy=globalThis),this.processor.postMessage({type:"config",config:{...o,clientKey:this.clientKey,onInitStatements:r?.(vg)??[]}})}}class I6 extends k6{constructor(){super(...arguments),Object.defineProperty(this,"dialect",{enumerable:!0,configurable:!0,writable:!0,value:{createAdapter:()=>new u6,createDriver:()=>new q6(this),createIntrospector:e=>new c6(e),createQueryCompiler:()=>new o6}})}}class q6{constructor(e){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:e})}async init(){}async acquireConnection(){return new T6(this.client)}async releaseConnection(){}async beginTransaction(e){e.transaction=await this.client.beginTransaction()}async commitTransaction(e){await e.transaction?.commit(),e.transaction=null}async rollbackTransaction(e){await e.transaction?.rollback(),e.transaction=null}async destroy(){await this.client.destroy()}}class T6{constructor(e){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"transaction",{enumerable:!0,configurable:!0,writable:!0,value:null})}async executeQuery(e){let n;return this.transaction===null?n=await this.client.sql(e.sql,...e.parameters):n=await this.transaction.query(e),{rows:n}}async *streamQuery(){throw new Error("SQLite3 does not support streaming.")}}const O6=({database:t,bootstrap:e})=>{const{dialect:n}=new I6({databasePath:`${t}.sqlite3`,onInit(i){return[i`PRAGMA foreign_keys = ON;`]}}),r=new Qa({dialect:n});return{kysely:r,async bootstrap(){return e({kysely:r})}}},Fs=pn({slot:{base:["border","border-gray-300","rounded-md","p-4","flex","flex-col","gap-2","items-center"],input:["w-full","border","border-gray-300","rounded-md","p-2","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"]},variant:{isLoading:{true:[]},isSubmitting:{true:[]}},match:[{if:{isSubmitting:!0},then:{base:["opacity-50","pointer-events-none","select-none"]}}],defaults:{isLoading:!1,isSubmitting:!1}}),C6="icon-[material-symbols--error-outline]",R6=pn({slot:{base:["flex","flex-row","gap-1","items-center","text-red-600","p-2"]},variant:{highlight:{true:[]},compact:{true:[]}},match:[{if:{highlight:!0},then:{base:["bg-red-100","p-2","font-bold","border","border-red-200","rounded-md","w-full"]}},{if:{compact:!0},then:{base:["p-0"]}}],defaults:{highlight:!1,compact:!1}}),ls=({error:t,variant:e,tva:n=R6,css:r})=>{const i=n({...e,css:r}).slots;return t?.message?h.jsxs("div",{className:i.base(),children:[h.jsx(Zt,{icon:C6}),h.jsx("span",{children:nl.rich(t.message)})]}):null},A6=pn({slot:{base:["flex","flex-col","gap-1","w-full"],input:[]},variant:{required:{true:[]},disabled:{true:[]},isSubmitting:{true:[]},isLoading:{true:[]},isError:{true:[]}},match:[{if:{isError:!0},then:{base:["text-red-600"]}},{if:{required:!0},then:{base:["text-emerald-600","font-bold"]}}],defaults:{required:!1,disabled:!1,isSubmitting:!1,isLoading:!1,isError:!1}}),wn=({label:t,hint:e,required:n=!1,formState:r,name:i,children:o,variant:l,tva:c=A6,css:d})=>{const m=c({isSubmitting:r.isSubmitting,isLoading:r.isLoading,isError:!!r.errors[i],required:n,...l,css:d}).slots;return h.jsxs("div",{className:m.base(),children:[h.jsxs("div",{className:"flex flex-row justify-between",children:[t?h.jsx("label",{htmlFor:i,children:t}):null,h.jsx(ls,{variant:{compact:!0},error:r.errors[i]})]}),e?h.jsx("div",{className:"text-sm italic",children:e}):null,h.jsx("div",{className:m.input(),children:o})]})},Do=({form:t,mutation:e})=>{const n=t.handleSubmit(async r=>e.mutateAsync(r,{onError:i=>{Ew({error:i,errors:[bw({error:i,schema:Sw,onError:({data:o})=>{t.setError("root",{message:o.message})}})],onError:o=>{t.setError("root",{message:o.message})}})}}).catch(()=>{}));return r=>{r.stopPropagation(),n(r)}};function j6(t,e,n,r={leading:!1}){const[i,o]=Q.useState(t),[l,c]=Q.useState(t),d=Q.useRef(null),m=Q.useRef(!0),y=()=>window.clearTimeout(d.current||void 0);Q.useEffect(()=>y,[]),Q.useEffect(()=>{e(i)},[i]),Q.useEffect(()=>{c(t),o(t)},[t]);const _=Q.useCallback(N=>{c(N),y(),m.current&&r.leading?o(N):d.current=window.setTimeout(()=>{m.current=!0,o(N)},n),m.current=!1},[r.leading]);return[l,_]}const P6=pn({slot:{base:["relative","w-full"],search:["absolute","inset-y-0","left-2","flex","items-center","pointer-events-none","text-slate-500"],input:["pl-8","py-1","w-full","bg-slate-50","text-slate-900","text-sm","border","border-slate-300","rounded","focus:border-sky-400","focus:outline-none","block"],clear:["absolute","inset-y-0","right-2","flex","items-center","cursor-pointer","text-slate-300","hover:text-slate-500"]},variant:{},defaults:{}}),$C=({value:t="",onFulltext:e,textPlaceholder:n,variant:r,tva:i=P6,css:o})=>{const l=i({...r,css:o}).slots,[c,d]=j6(t,m=>{e(m||"")},500);return h.jsxs("div",{className:l.base(),children:[h.jsx("div",{className:l.search(),children:h.jsx(Zt,{icon:"icon-[material-symbols-light--search]",variant:{size:"xl"}})}),h.jsx("input",{value:c||"",className:l.input(),type:"text",placeholder:n||nl.text("Fulltext (placeholder)"),onChange:m=>{d(m.target.value)}}),t&&h.jsx("div",{className:l.clear(),onClick:()=>{e("")},children:h.jsx(Zt,{icon:"icon-[gridicons--cross]",variant:{size:"md"}})})]})},Vf="icon-[pajamas--go-back]",bg="icon-[line-md--confirm-circle]",F6="icon-[mage--edit]",L6="icon-[arcticons--nothing-x]",D6="icon-[tabler--filter-plus]",nI="icon-[tabler--filter-minus]",Gu="icon-[ph--list-dashes-thin]",s0="icon-[material-symbols-light--logout-sharp]",M6="icon-[fluent--shape-intersect-20-regular]",uy="icon-[fluent--checkbox-unchecked-20-regular]",dy="icon-[fluent--checkbox-checked-20-regular]",B6="icon-[ph--gear-thin]",Hf="icon-[teenyicons--tag-outline]",co="icon-[ph--trash]",$6="icon-[clarity--upload-cloud-line]",o0="icon-[ph--user]",W6=async({queryClient:t,keys:e})=>{for await(const n of e)await t.invalidateQueries({queryKey:n,refetchType:"all"})},zi=t=>{const e=Ig(),n=ao();return async()=>{await W6({keys:t,queryClient:e}),await n.invalidate()}};var C_={exports:{}},R_,rI;function z6(){if(rI)return R_;rI=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return R_=t,R_}var A_,iI;function U6(){if(iI)return A_;iI=1;var t=z6();function e(){}function n(){}return n.resetWarningCache=e,A_=function(){function r(l,c,d,m,y,_){if(_!==t){var N=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw N.name="Invariant Violation",N}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},A_}var sI;function V6(){return sI||(sI=1,C_.exports=U6()()),C_.exports}var H6=V6();const Vn=Fo(H6);function fc(t,e,n,r){function i(o){return o instanceof n?o:new n(function(l){l(o)})}return new(n||(n=Promise))(function(o,l){function c(y){try{m(r.next(y))}catch(_){l(_)}}function d(y){try{m(r.throw(y))}catch(_){l(_)}}function m(y){y.done?o(y.value):i(y.value).then(c,d)}m((r=r.apply(t,e||[])).next())})}const Q6=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Fu(t,e,n){const r=K6(t),{webkitRelativePath:i}=t,o=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${t.name}`;return typeof r.path!="string"&&oI(r,"path",o),oI(r,"relativePath",o),r}function K6(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),i=Q6.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}function oI(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const G6=[".DS_Store","Thumbs.db"];function J6(t){return fc(this,void 0,void 0,function*(){return _g(t)&&Z6(t.dataTransfer)?tU(t.dataTransfer,t.type):Y6(t)?X6(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?eU(t):[]})}function Z6(t){return _g(t)}function Y6(t){return _g(t)&&_g(t.target)}function _g(t){return typeof t=="object"&&t!==null}function X6(t){return zx(t.target.files).map(e=>Fu(e))}function eU(t){return fc(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>Fu(n))})}function tU(t,e){return fc(this,void 0,void 0,function*(){if(t.items){const n=zx(t.items).filter(i=>i.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(nU));return aI(WC(r))}return aI(zx(t.files).map(n=>Fu(n)))})}function aI(t){return t.filter(e=>G6.indexOf(e.name)===-1)}function zx(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function nU(t){if(typeof t.webkitGetAsEntry!="function")return lI(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?zC(e):lI(t,e)}function WC(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?WC(n):[n]],[])}function lI(t,e){return fc(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const o=yield t.getAsFileSystemHandle();if(o===null)throw new Error(`${t} is not a File`);if(o!==void 0){const l=yield o.getFile();return l.handle=o,Fu(l)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return Fu(r,(n=e?.fullPath)!==null&&n!==void 0?n:void 0)})}function rU(t){return fc(this,void 0,void 0,function*(){return t.isDirectory?zC(t):iU(t)})}function zC(t){const e=t.createReader();return new Promise((n,r)=>{const i=[];function o(){e.readEntries(l=>fc(this,void 0,void 0,function*(){if(l.length){const c=Promise.all(l.map(rU));i.push(c),o()}else try{const c=yield Promise.all(i);n(c)}catch(c){r(c)}}),l=>{r(l)})}o()})}function iU(t){return fc(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const i=Fu(r,t.fullPath);e(i)},r=>{n(r)})})})}var Vh={},cI;function sU(){return cI||(cI=1,Vh.__esModule=!0,Vh.default=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",i=(t.type||"").toLowerCase(),o=i.replace(/\/.*$/,"");return n.some(function(l){var c=l.trim().toLowerCase();return c.charAt(0)==="."?r.toLowerCase().endsWith(c):c.endsWith("/*")?o===c.replace(/\/.*$/,""):i===c})}return!0}),Vh}var oU=sU();const j_=Fo(oU);function uI(t){return cU(t)||lU(t)||VC(t)||aU()}function aU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lU(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cU(t){if(Array.isArray(t))return Ux(t)}function dI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dI(Object(n),!0).forEach(function(r){UC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UC(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qf(t,e){return fU(t)||dU(t,e)||VC(t,e)||uU()}function uU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VC(t,e){if(t){if(typeof t=="string")return Ux(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ux(t,e)}}function Ux(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dU(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,l,c;try{for(n=n.call(t);!(i=(l=n.next()).done)&&(r.push(l.value),!(e&&r.length===e));i=!0);}catch(d){o=!0,c=d}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw c}}return r}}function fU(t){if(Array.isArray(t))return t}var pU=typeof j_=="function"?j_:j_.default,HC="file-invalid-type",QC="file-too-large",KC="file-too-small",GC="too-many-files",hU={FileInvalidType:HC,FileTooLarge:QC,FileTooSmall:KC,TooManyFiles:GC},mU=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:HC,message:"File type must be ".concat(r)}},pI=function(e){return{code:QC,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},hI=function(e){return{code:KC,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},gU={code:GC,message:"Too many files"};function JC(t,e){var n=t.type==="application/x-moz-file"||pU(t,e);return[n,n?null:mU(e)]}function ZC(t,e,n){if(Wl(t.size))if(Wl(e)&&Wl(n)){if(t.size>n)return[!1,pI(n)];if(t.size<e)return[!1,hI(e)]}else{if(Wl(e)&&t.size<e)return[!1,hI(e)];if(Wl(n)&&t.size>n)return[!1,pI(n)]}return[!0,null]}function Wl(t){return t!=null}function yU(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,o=t.multiple,l=t.maxFiles,c=t.validator;return!o&&e.length>1||o&&l>=1&&e.length>l?!1:e.every(function(d){var m=JC(d,n),y=Qf(m,1),_=y[0],N=ZC(d,r,i),k=Qf(N,1),q=k[0],T=c?c(d):null;return _&&q&&!T})}function xg(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function Hh(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function mI(t){t.preventDefault()}function vU(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function bU(t){return t.indexOf("Edge/")!==-1}function _U(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return vU(t)||bU(t)}function _o(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];return e.some(function(c){return!xg(r)&&c&&c.apply(void 0,[r].concat(o)),xg(r)})}}function xU(){return"showOpenFilePicker"in window}function wU(t){if(Wl(t)){var e=Object.entries(t).filter(function(n){var r=Qf(n,2),i=r[0],o=r[1],l=!0;return YC(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),l=!1),(!Array.isArray(o)||!o.every(XC))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),l=!1),l}).reduce(function(n,r){var i=Qf(r,2),o=i[0],l=i[1];return fI(fI({},n),{},UC({},o,l))},{});return[{description:"Files",accept:e}]}return t}function SU(t){if(Wl(t))return Object.entries(t).reduce(function(e,n){var r=Qf(n,2),i=r[0],o=r[1];return[].concat(uI(e),[i],uI(o))},[]).filter(function(e){return YC(e)||XC(e)}).join(",")}function EU(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function NU(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function YC(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function XC(t){return/^.*\.[\w]+$/.test(t)}var kU=["children"],IU=["open"],qU=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],TU=["refKey","onChange","onClick"];function OU(t){return AU(t)||RU(t)||eR(t)||CU()}function CU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RU(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function AU(t){if(Array.isArray(t))return Vx(t)}function P_(t,e){return FU(t)||PU(t,e)||eR(t,e)||jU()}function jU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eR(t,e){if(t){if(typeof t=="string")return Vx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vx(t,e)}}function Vx(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PU(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,l,c;try{for(n=n.call(t);!(i=(l=n.next()).done)&&(r.push(l.value),!(e&&r.length===e));i=!0);}catch(d){o=!0,c=d}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw c}}return r}}function FU(t){if(Array.isArray(t))return t}function gI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gI(Object(n),!0).forEach(function(r){Hx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hx(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wg(t,e){if(t==null)return{};var n=LU(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LU(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var fy=Q.forwardRef(function(t,e){var n=t.children,r=wg(t,kU),i=nR(r),o=i.open,l=wg(i,IU);return Q.useImperativeHandle(e,function(){return{open:o}},[o]),An.createElement(Q.Fragment,null,n(pr(pr({},l),{},{open:o})))});fy.displayName="Dropzone";var tR={disabled:!1,getFilesFromEvent:J6,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};fy.defaultProps=tR;fy.propTypes={children:Vn.func,accept:Vn.objectOf(Vn.arrayOf(Vn.string)),multiple:Vn.bool,preventDropOnDocument:Vn.bool,noClick:Vn.bool,noKeyboard:Vn.bool,noDrag:Vn.bool,noDragEventsBubbling:Vn.bool,minSize:Vn.number,maxSize:Vn.number,maxFiles:Vn.number,disabled:Vn.bool,getFilesFromEvent:Vn.func,onFileDialogCancel:Vn.func,onFileDialogOpen:Vn.func,useFsAccessApi:Vn.bool,autoFocus:Vn.bool,onDragEnter:Vn.func,onDragLeave:Vn.func,onDragOver:Vn.func,onDrop:Vn.func,onDropAccepted:Vn.func,onDropRejected:Vn.func,onError:Vn.func,validator:Vn.func};var Qx={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function nR(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=pr(pr({},tR),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,o=e.maxSize,l=e.minSize,c=e.multiple,d=e.maxFiles,m=e.onDragEnter,y=e.onDragLeave,_=e.onDragOver,N=e.onDrop,k=e.onDropAccepted,q=e.onDropRejected,T=e.onFileDialogCancel,A=e.onFileDialogOpen,D=e.useFsAccessApi,P=e.autoFocus,L=e.preventDropOnDocument,V=e.noClick,J=e.noKeyboard,W=e.noDrag,Z=e.noDragEventsBubbling,oe=e.onError,U=e.validator,ne=Q.useMemo(function(){return SU(n)},[n]),B=Q.useMemo(function(){return wU(n)},[n]),se=Q.useMemo(function(){return typeof A=="function"?A:yI},[A]),X=Q.useMemo(function(){return typeof T=="function"?T:yI},[T]),fe=Q.useRef(null),Ee=Q.useRef(null),Oe=Q.useReducer(DU,Qx),je=P_(Oe,2),ve=je[0],pe=je[1],Ne=ve.isFocused,K=ve.isFileDialogActive,xe=Q.useRef(typeof window<"u"&&window.isSecureContext&&D&&xU()),ut=function(){!xe.current&&K&&setTimeout(function(){if(Ee.current){var et=Ee.current.files;et.length||(pe({type:"closeDialog"}),X())}},300)};Q.useEffect(function(){return window.addEventListener("focus",ut,!1),function(){window.removeEventListener("focus",ut,!1)}},[Ee,K,X,xe]);var at=Q.useRef([]),ft=function(et){fe.current&&fe.current.contains(et.target)||(et.preventDefault(),at.current=[])};Q.useEffect(function(){return L&&(document.addEventListener("dragover",mI,!1),document.addEventListener("drop",ft,!1)),function(){L&&(document.removeEventListener("dragover",mI),document.removeEventListener("drop",ft))}},[fe,L]),Q.useEffect(function(){return!r&&P&&fe.current&&fe.current.focus(),function(){}},[fe,P,r]);var dt=Q.useCallback(function(Fe){oe?oe(Fe):console.error(Fe)},[oe]),pt=Q.useCallback(function(Fe){Fe.preventDefault(),Fe.persist(),ye(Fe),at.current=[].concat(OU(at.current),[Fe.target]),Hh(Fe)&&Promise.resolve(i(Fe)).then(function(et){if(!(xg(Fe)&&!Z)){var Vt=et.length,zt=Vt>0&&yU({files:et,accept:ne,minSize:l,maxSize:o,multiple:c,maxFiles:d,validator:U}),yn=Vt>0&&!zt;pe({isDragAccept:zt,isDragReject:yn,isDragActive:!0,type:"setDraggedFiles"}),m&&m(Fe)}}).catch(function(et){return dt(et)})},[i,m,dt,Z,ne,l,o,c,d,U]),vt=Q.useCallback(function(Fe){Fe.preventDefault(),Fe.persist(),ye(Fe);var et=Hh(Fe);if(et&&Fe.dataTransfer)try{Fe.dataTransfer.dropEffect="copy"}catch{}return et&&_&&_(Fe),!1},[_,Z]),At=Q.useCallback(function(Fe){Fe.preventDefault(),Fe.persist(),ye(Fe);var et=at.current.filter(function(zt){return fe.current&&fe.current.contains(zt)}),Vt=et.indexOf(Fe.target);Vt!==-1&&et.splice(Vt,1),at.current=et,!(et.length>0)&&(pe({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Hh(Fe)&&y&&y(Fe))},[fe,y,Z]),mt=Q.useCallback(function(Fe,et){var Vt=[],zt=[];Fe.forEach(function(yn){var xr=JC(yn,ne),Fn=P_(xr,2),$r=Fn[0],Ui=Fn[1],wr=ZC(yn,l,o),$t=P_(wr,2),us=$t[0],ds=$t[1],fs=U?U(yn):null;if($r&&us&&!fs)Vt.push(yn);else{var Bo=[Ui,ds];fs&&(Bo=Bo.concat(fs)),zt.push({file:yn,errors:Bo.filter(function(gl){return gl})})}}),(!c&&Vt.length>1||c&&d>=1&&Vt.length>d)&&(Vt.forEach(function(yn){zt.push({file:yn,errors:[gU]})}),Vt.splice(0)),pe({acceptedFiles:Vt,fileRejections:zt,isDragReject:zt.length>0,type:"setFiles"}),N&&N(Vt,zt,et),zt.length>0&&q&&q(zt,et),Vt.length>0&&k&&k(Vt,et)},[pe,c,ne,l,o,d,N,k,q,U]),ht=Q.useCallback(function(Fe){Fe.preventDefault(),Fe.persist(),ye(Fe),at.current=[],Hh(Fe)&&Promise.resolve(i(Fe)).then(function(et){xg(Fe)&&!Z||mt(et,Fe)}).catch(function(et){return dt(et)}),pe({type:"reset"})},[i,mt,dt,Z]),Nt=Q.useCallback(function(){if(xe.current){pe({type:"openDialog"}),se();var Fe={multiple:c,types:B};window.showOpenFilePicker(Fe).then(function(et){return i(et)}).then(function(et){mt(et,null),pe({type:"closeDialog"})}).catch(function(et){EU(et)?(X(et),pe({type:"closeDialog"})):NU(et)?(xe.current=!1,Ee.current?(Ee.current.value=null,Ee.current.click()):dt(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):dt(et)});return}Ee.current&&(pe({type:"openDialog"}),se(),Ee.current.value=null,Ee.current.click())},[pe,se,X,D,mt,dt,B,c]),kt=Q.useCallback(function(Fe){!fe.current||!fe.current.isEqualNode(Fe.target)||(Fe.key===" "||Fe.key==="Enter"||Fe.keyCode===32||Fe.keyCode===13)&&(Fe.preventDefault(),Nt())},[fe,Nt]),Yt=Q.useCallback(function(){pe({type:"focus"})},[]),Kt=Q.useCallback(function(){pe({type:"blur"})},[]),sn=Q.useCallback(function(){V||(_U()?setTimeout(Nt,0):Nt())},[V,Nt]),hn=function(et){return r?null:et},le=function(et){return J?null:hn(et)},ue=function(et){return W?null:hn(et)},ye=function(et){Z&&et.stopPropagation()},Ce=Q.useMemo(function(){return function(){var Fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},et=Fe.refKey,Vt=et===void 0?"ref":et,zt=Fe.role,yn=Fe.onKeyDown,xr=Fe.onFocus,Fn=Fe.onBlur,$r=Fe.onClick,Ui=Fe.onDragEnter,wr=Fe.onDragOver,$t=Fe.onDragLeave,us=Fe.onDrop,ds=wg(Fe,qU);return pr(pr(Hx({onKeyDown:le(_o(yn,kt)),onFocus:le(_o(xr,Yt)),onBlur:le(_o(Fn,Kt)),onClick:hn(_o($r,sn)),onDragEnter:ue(_o(Ui,pt)),onDragOver:ue(_o(wr,vt)),onDragLeave:ue(_o($t,At)),onDrop:ue(_o(us,ht)),role:typeof zt=="string"&&zt!==""?zt:"presentation"},Vt,fe),!r&&!J?{tabIndex:0}:{}),ds)}},[fe,kt,Yt,Kt,sn,pt,vt,At,ht,J,W,r]),De=Q.useCallback(function(Fe){Fe.stopPropagation()},[]),Je=Q.useMemo(function(){return function(){var Fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},et=Fe.refKey,Vt=et===void 0?"ref":et,zt=Fe.onChange,yn=Fe.onClick,xr=wg(Fe,TU),Fn=Hx({accept:ne,multiple:c,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:hn(_o(zt,ht)),onClick:hn(_o(yn,De)),tabIndex:-1},Vt,Ee);return pr(pr({},Fn),xr)}},[Ee,n,c,ht,r]);return pr(pr({},ve),{},{isFocused:Ne&&!r,getRootProps:Ce,getInputProps:Je,rootRef:fe,inputRef:Ee,open:hn(Nt)})}function DU(t,e){switch(e.type){case"focus":return pr(pr({},t),{},{isFocused:!0});case"blur":return pr(pr({},t),{},{isFocused:!1});case"openDialog":return pr(pr({},Qx),{},{isFileDialogActive:!0});case"closeDialog":return pr(pr({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return pr(pr({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return pr(pr({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return pr({},Qx);default:return t}}function yI(){}const MU=Object.freeze(Object.defineProperty({__proto__:null,ErrorCode:hU,default:fy,useDropzone:nR},Symbol.toStringTag,{value:"Module"})),BU=pn({slot:{base:["flex","items-center","justify-center","w-full"],label:["flex","flex-col","items-center","justify-center","w-full","h-64","border-2","border-gray-300","border-dashed","rounded-lg","cursor-pointer","bg-gray-50","hover:bg-gray-100"],zone:["flex","flex-col","items-center","justify-center","pt-5","pb-6","text-slate-500"]},variant:{active:{true:[]},rejected:{true:[]}},match:[{if:{active:!0},then:{label:["text-blue-400"],zone:["text-blue-400"]}},{if:{rejected:!0},then:{label:["text-red-400"],zone:["text-red-400"]}}],defaults:{active:!1,rejected:!1}}),{useDropzone:$U}=MU,WU=({id:t,accept:e,text:n,variant:r,tva:i=BU,css:o,...l})=>{const{getRootProps:c,getInputProps:d,isDragActive:m,isDragReject:y}=$U({noClick:!0,multiple:!1,accept:e,maxFiles:1,minSize:0,maxSize:8388608,...l}),_=i({active:m,rejected:y,...r,css:o}).slots;return h.jsx("div",{...c(),className:_.base(),children:h.jsxs("label",{htmlFor:t,className:_.label(),children:[h.jsxs("div",{className:_.zone(),children:[h.jsx(Zt,{icon:$6,variant:{size:"4xl"}}),h.jsx("p",{className:"mb-2 text-sm font-semibold",children:n?.title||nl.rich("Drag 'n' drop a file here")}),n?.message?h.jsx("p",{className:"text-xs",children:n.message}):null]}),h.jsx("input",{id:t,type:"file",className:"hidden",...d()})]})})},zU=pn({slot:{base:[],header:["flex","flex-row","items-center","bg-slate-50","shadow-sm","border-b","border-b-slate-200","w-full","gap-4","p-4"],content:["min-h-screen","border-b","border-b-slate-200","mb-4","p-2"]},variant:{},defaults:{}}),UU=()=>h.jsx("div",{className:"text-center text-xs text-gray-500 mb-8",children:void 0}),rR=({logo:t,menu:e,actions:n,variant:r,tva:i=zU,css:o,children:l})=>{const c=i({...r,css:o}).slots;return h.jsxs("div",{className:c.base(),children:[h.jsx(zP,{position:"top-right"}),h.jsxs("div",{className:c.header(),children:[h.jsx("div",{children:t}),h.jsx("div",{className:"flex-grow",children:e}),h.jsx("div",{className:"flex flex-row gap-2 items-center",children:n})]}),h.jsx("div",{className:c.content(),children:l??h.jsx(As,{})}),h.jsx(UU,{})]})},VU=pn({slot:{base:["flex","flex-row","gap-2","items-center","justify-between","text-blue-500","rounded","px-1","py-0.5","hover:text-blue-700","focus:outline-none","w-fit"]},variant:{},defaults:{}}),HU=Q.forwardRef(({icon:t,iconProps:e,variant:n,tva:r=VU,css:i,children:o,...l},c)=>{const d=r({...n,css:i}).slots;return h.jsxs("a",{...l,ref:c,className:d.base(),children:[t&&h.jsx(Zt,{icon:t,...e}),o]})}),QU=pq(HU),Pn=t=>h.jsx(QU,{preload:"intent",...t}),KU=pn({slot:{base:["fixed","inset-0","h-full","items-center","justify-center","bg-slate-100","flex","transition-all","duration-200","z-[10]","pointer-events-none","bg-opacity-0","backdrop-blur-none"]},variant:{show:{true:["bg-opacity-50","backdrop-blur-sm","pointer-events-auto"]}},defaults:{show:!0}}),GU=({show:t=!0,variant:e,tva:n=KU,css:r})=>{const i=n({show:t,...e,css:r}).slots;return t?h.jsx("div",{className:i.base(),children:h.jsx(Zt,{icon:"icon-[svg-spinners--pulse-rings-multiple]",variant:{size:"8xl"},css:{base:["text-sky-400"]}})}):null};var ym={exports:{}},JU=ym.exports,vI;function ZU(){return vI||(vI=1,function(t,e){(function(n,r){t.exports=r()})(JU,()=>(()=>{var n={d:(q,T)=>{for(var A in T)n.o(T,A)&&!n.o(q,A)&&Object.defineProperty(q,A,{enumerable:!0,get:T[A]})},o:(q,T)=>Object.prototype.hasOwnProperty.call(q,T)},r={};n.d(r,{default:()=>k});const i=(...q)=>{},o=q=>q!==null&&q?.constructor.name==="Object";let l,c;const d=()=>{if(!l){l=!0;try{c=_.storage||localStorage,c.getItem("")}catch{c=(()=>{const q={getItem:A=>T[A]||null,setItem:(A,D)=>{T[A]=D},removeItem:A=>{T[A]=void 0},clear:()=>{T={__proto__:q}}};let T={__proto__:q};return T})()}N()}},m="\0",y=(q,T,A=!0)=>A?[...JSON.stringify(q)].map(D=>String.fromCharCode(D.charCodeAt(0)+T)).join(""):JSON.parse([...q].map(D=>String.fromCharCode(D.charCodeAt(0)-T)).join("")),_={ttl:null,encrypt:!1,encrypter:y,decrypter:(q,T)=>y(q,T,!1),secret:75,storage:void 0};Object.seal(_);const N=(q=!1)=>{d();for(const T of Object.keys(c)){const A=c.getItem(T);let D;try{D=JSON.parse(A||"")}catch{continue}o(D)&&m in D&&(Date.now()>D.ttl||q)&&c.removeItem(T)}},k={config:_,set:(q,T,A={})=>{d();const D={..._,...A,encrypt:A.encrypt!==!1&&(A.encrypt||_.encrypt),ttl:A.ttl===null?null:A.ttl||_.ttl};try{const P=D.ttl&&!isNaN(D.ttl)&&D.ttl>0;let L=P?{[m]:T,ttl:Date.now()+1e3*D.ttl}:T;D.encrypt&&(P?L[m]=(D.encrypter||i)(L[m],D.secret):L=(D.encrypter||i)(L,D.secret)),c.setItem(q,JSON.stringify(L))}catch{return!1}},get:(q,T={})=>{d();const A=c.getItem(q),D={..._,...T,encrypt:T.encrypt!==!1&&(T.encrypt||_.encrypt),ttl:T.ttl===null?null:T.ttl||_.ttl};let P,L;try{P=JSON.parse(A||""),L=o(P)&&m in P,(D.decrypt||D.encrypt)&&(L?P[m]=(D.decrypter||i)(P[m],D.secret):P=(D.decrypter||i)(P,D.secret))}catch{}return L?Date.now()>P.ttl?(c.removeItem(q),null):P[m]:P!==void 0?P:A},flush:N,clear:()=>{d(),c.clear()},remove:q=>{d(),c.removeItem(q)}};return r.default})())}(ym)),ym.exports}var YU=ZU();const XU=Fo(YU),mp=XU,eV=pn({slot:{base:["flex","flex-row","gap-2","items-center"]},variant:{},defaults:{}}),ma=({variant:t,tva:e=eV,css:n,children:r})=>{const i=e({...t,css:n}).slots;return h.jsx("div",{className:i.base(),children:r})},tV=pn({slot:{base:["group","relative","cursor-pointer"],label:["flex","flex-row","gap-2","items-center","rounded","px-2","py-1","border","border-b-2","border-transparent","hover:text-slate-500"],items:["flex flex-col w-max gap-2","invisible absolute","group-hover:visible","shadow-md","z-20","bg-white","px-4","py-2"]},variant:{active:{true:[]}},match:[{if:{active:!0},then:{label:["border","border-b-2","border-blue-400","bg-blue-50","hover:border-blue-500","text-slate-800","hover:text-blue-800"]}}],defaults:{active:!1}}),bI=({icon:t,label:e,active:n=[],variant:r,tva:i=tV,css:o,children:l})=>{const c=hq(),d=n.some(y=>!!c(y)),m=i({active:d,...r,css:o}).slots;return h.jsxs("div",{className:m.base(),children:[h.jsxs("div",{className:m.label(),children:[t?h.jsx(Zt,{icon:t}):null,e]}),h.jsx("div",{className:m.items(),children:l})]})},nV=pn({slot:{base:["flex","flex-row","gap-2","items-center","rounded","px-2","py-1","border","border-b-2","border-transparent","hover:text-slate-500"]},variant:{active:{true:[]},inner:{true:[]},subtle:{true:[]}},match:[{if:{active:!0,inner:!1},then:{base:["border","border-b-2","border-blue-400","bg-blue-50","hover:border-blue-500","text-slate-800","hover:text-blue-800"]}},{if:{active:!0,inner:!0},then:{base:["border-none","text-blue-600","hover:text-blue-800"]}},{if:{subtle:!0},then:{base:["hover:bg-slate-50","hover:border-slate-300","hover:text-slate-600"]}},{if:{active:!0,subtle:!0},then:{base:["bg-slate-100","border-slate-400"]}}],defaults:{active:!1,inner:!1,subtle:!1}}),rV=Q.forwardRef(({icon:t=null,variant:e,tva:n=nV,css:r,children:i,...o},l)=>{const c=n({...e,css:r}).slots;return h.jsxs("a",{...o,className:c.base(),ref:l,children:[Vg(t)?h.jsx(Zt,{icon:t}):t,i]})}),iV=pq(rV),Kn=({active:t=[],variant:e,...n})=>{const r=hq(),i=t.some(o=>!!r(o));return h.jsx(iV,{preload:"intent",variant:{active:!!r({to:n.to,params:n.params})||i,...e},...n})},sV=pn({slot:{base:["flex","flex-row","flex-wrap","items-center","gap-2","text-sm","font-semibold"],item:["border","border-blue-200","bg-blue-50","rounded-md","px-2","py-1"]},variant:{},defaults:{}}),py=({textTitle:t,textEmpty:e,items:n,render:r,limit:i,variant:o,tva:l=sV,css:c})=>{const d=i?n.slice(0,i):n,m=l({...o,css:c}).slots;return h.jsxs("div",{className:m.base(),children:[n.length?null:e,d.map(y=>h.jsx(r,{entity:y},`items-${y.id}`)),i&&n.length>i&&h.jsx(ny,{textTitle:t,target:h.jsx(Bw,{iconEnabled:QO}),outside:!0,children:h.jsx("div",{className:"flex flex-col gap-2",children:n.map(y=>h.jsx(r,{entity:y},`items-${y.id}`))})})]})},oV=pn({slot:{base:[]},variant:{},defaults:{}}),G=({label:t,fallback:e,variant:n,tva:r=oV,css:i})=>{const o=r({...n,css:i}).slots;return h.jsx("div",{className:o.base(),children:nl.rich(t,e)})},iR=pn({slot:{base:["flex","flex-col","gap-2"],input:["py-2","px-2","flex","flex-row","gap-2","items-center","cursor-pointer","hover:bg-slate-50","border","border-gray-300","rounded-md","text-slate-400","hover:text-slate-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],content:[],footer:["flex","items-center","justify-between","gap-2","border-t-2","border-slate-100","mt-4","pt-2"]},variant:{loading:{true:[]},selected:{true:[]}},match:[{if:{loading:!0},then:{input:["text-slate-300"]}},{if:{selected:!0},then:{input:["bg-slate-50","text-slate-700","hover:bg-slate-100","hover:text-slate-800"]}}],defaults:{loading:!1,selected:!1}}),aV=pn({use:iR,slot:{},variant:{},defaults:{}}),lV=({icon:t,textTitle:e,textSelect:n,modalProps:r,table:i,render:o,allowEmpty:l=!1,queryKey:c,query:d,value:m,onChange:y,variant:_,tva:N=aV,css:k})=>{const q=N({..._,css:k}).slots,[T,A]=Q.useState(0),[D,P]=Q.useState(15),[L,V]=Q.useState(m||[]),[J,W]=Q.useState(void 0),Z=Pm({queryKey:[c,"PopupMultiSelect","data",{fulltext:J,page:T,size:D}],async queryFn(){return d({filter:{fulltext:J},cursor:{page:T,size:D}})}}),oe=Pm({queryKey:[c,"PopupMultiSelect","selected",{value:m}],async queryFn(){return d({filter:{idIn:m}})},enabled:!!m});return h.jsx(ny,{icon:t,target:h.jsxs("label",{className:q.input({loading:oe.isLoading,selected:!!oe.data?.data.length}),children:[h.jsx(Zt,{icon:oe.data?.data?.length?dy:uy}),oe.data&&oe.data.data.length?h.jsx(o,{entities:oe.data.data}):n||h.jsx(G,{label:"Select item (label)"})]}),textTitle:e,variant:{loading:Z.isLoading},disabled:Z.isLoading,...r,children:h.jsxs("div",{className:q.base(),children:[h.jsx("div",{className:q.content(),children:h.jsx(i,{cursor:{cursor:{page:T,size:D},count:Z.data?.count?Z.data.count:{filter:-1,total:-1,where:-1},textTotal:h.jsx(G,{label:"Total count of items (label)"}),onPage(U){A(U)},onSize(U){P(U),A(0)}},fulltext:{value:J,set(U){W(U),A(0)}},table:{data:Z.data?.data??[],selection:{type:"multi",value:L,set(U){V(U)}}}})}),h.jsx(ty.Consumer,{children:U=>h.jsxs("div",{className:q.footer(),children:[h.jsx(br,{iconEnabled:Vf,iconDisabled:Vf,onClick:()=>{U?.close()},variant:{variant:"subtle"},children:h.jsx(G,{label:"Close (label)"})}),h.jsx(br,{iconEnabled:bg,iconDisabled:bg,disabled:!L.length&&!l,onClick:()=>{y(L),U?.close()},children:h.jsx(G,{label:"Confirm selection (label)"})})]})})]})})},sR=({icon:t,textTitle:e,textSelect:n,modalProps:r,table:i,render:o,allowEmpty:l=!1,queryKey:c,query:d,value:m,onChange:y,variant:_,tva:N=iR,css:k})=>{const q=N({..._,css:k}).slots,[T,A]=Q.useState(0),[D,P]=Q.useState(15),[L,V]=Q.useState(m?[m]:[]),[J,W]=Q.useState(void 0),Z=Pm({queryKey:[c,"PopupSelect","data",{fulltext:J,page:T,size:D}],async queryFn(){return d({filter:{fulltext:J},cursor:{page:T,size:D}})}}),oe=Pm({queryKey:[c,"PopupSelect","selected",{value:m}],async queryFn(){return d({filter:{id:m}})},enabled:!!m});return h.jsx(ny,{icon:t,target:h.jsxs("label",{className:q.input({loading:oe.isLoading,selected:!!oe.data?.data?.length}),children:[h.jsx(Zt,{icon:oe.data?.data?.[0]?dy:uy}),oe.data?.data?.[0]?h.jsx(o,{entity:oe.data?.data?.[0]}):n||h.jsx(G,{label:"Select item (label)"})]}),textTitle:e,variant:{loading:Z.isLoading},disabled:Z.isLoading,...r,children:h.jsxs("div",{className:q.base(),children:[h.jsx("div",{className:q.content(),children:h.jsx(i,{cursor:{cursor:{page:T,size:D},count:Z.data?.count?Z.data.count:{filter:-1,total:-1,where:-1},textTotal:h.jsx(G,{label:"Total count of items (label)"}),onPage(U){A(U)},onSize(U){P(U),A(0)}},fulltext:{value:J,set(U){W(U),A(0)}},table:{data:Z.data?.data??[],selection:{type:"single",value:L,set(U){V(U)}}}})}),h.jsx(ty.Consumer,{children:U=>h.jsxs("div",{className:q.footer(),children:[h.jsx(br,{iconEnabled:Vf,iconDisabled:Vf,onClick:()=>{U?.close()},variant:{variant:"subtle"},children:h.jsx(G,{label:"Close (label)"})}),h.jsx(br,{iconEnabled:bg,iconDisabled:bg,disabled:!L.length&&!l,onClick:()=>{y(L?.[0]),U?.close()},children:h.jsx(G,{label:"Confirm selection (label)"})})]})})]})})},cV=pn({slot:{base:["bg-blue-50","p-2","rounded-md","border","border-blue-200"],container:["grid","grid-cols-2","grid-rows-2","gap-1"],title:["col-span-1","row-span-1","border-b","border-b-slate-300","pb-2"],links:["col-span-1","row-span-1","border-b","border-b-slate-300","pb-2","flex","flex-row","items-center","gap-4","justify-end"],actions:["col-span-1","row-span-1","flex","flex-row","items-center","gap-4"],extra:["col-span-1","row-span-1","flex","flex-row","gap-4","justify-end"]},variant:{},defaults:{}}),pc=({entity:t,title:e=()=>null,links:n=()=>null,actions:r=()=>null,extra:i=()=>null,variant:o,tva:l=cV,css:c})=>{const d=l({...o,css:c}).slots;return h.jsx($w.Provider,{value:{inline:!0},children:h.jsx("div",{className:d.base(),children:h.jsxs("div",{className:d.container(),children:[h.jsx("div",{className:d.title(),children:h.jsx(e,{entity:t})}),h.jsx("div",{className:d.links(),children:h.jsx(n,{entity:t})}),h.jsx("div",{className:d.actions(),children:h.jsx(r,{entity:t})}),h.jsx("div",{className:d.extra(),children:h.jsx(i,{entity:t})})]})})})},uV=pn({slot:{base:["w-full","bg-slate-200","rounded","transition-all"],progress:["h-full","bg-blue-400","rounded","leading-none","transition-all"]},variant:{size:{xs:"h-0.5",sm:"h-1",md:"h-2",lg:"h-4"}},defaults:{size:"md"}}),gp=({value:t,variant:e,tva:n=uV,css:r})=>{const i=n({...e,css:r}).slots;return h.jsx("div",{className:i.base(),children:h.jsx("div",{style:{width:`${t}%`},className:i.progress()})})},dV=t=>e=>{t({search:({cursor:n,...r})=>({...r,cursor:{...n,page:e}})})},fV=t=>e=>{t({search:({cursor:n,...r})=>({...r,cursor:{...n,size:e,page:0}})})},Vr=t=>({onPage:dV(t),onSize:fV(t)}),Hr=t=>e=>t({search:({cursor:n,...r})=>({...r,filter:e,cursor:{...n,page:0}})}),Dr=t=>e=>{t({search:({cursor:n,filter:r,...i})=>({...i,filter:{...r,fulltext:e},cursor:{...n,page:e?0:n.page}}),replace:!!e})},cs=t=>e=>{t({search(n){return{...n,selection:e}}})},Un=t=>({loading:h.jsx(G,{label:`${t} - Loading (label)`}),success:h.jsx(G,{label:`${t} - Success (label)`}),error:h.jsx(G,{label:`${t} - Error (label)`})}),pV=pn({slot:{base:["flex","flex-col","gap-4"],content:["text-bold","text-red-500","font-bold"],footer:["flex","flex-row","items-center","justify-between","gap-4"]},variant:{},defaults:{}}),Mo=({textContent:t,textToast:e,callback:n,onCancel:r,invalidator:i,variant:o,tva:l=pV,css:c})=>{const d=l({...o,css:c}).slots,m=Q.useContext(ty),y=Dn({async mutationFn(){return UP.promise(n(),Un(e))},async onSuccess(){await i?.(),m?.close()}});return h.jsxs("div",{className:d.base(),children:[h.jsx("div",{className:d.content(),children:t}),h.jsxs("div",{className:d.footer(),children:[h.jsx(br,{variant:{variant:"subtle",size:"sm"},iconEnabled:Vf,onClick:()=>{m?.close(),r?.()},children:h.jsx(G,{label:"Cancel (button)"})}),h.jsx(br,{variant:{variant:"danger",size:"md"},iconEnabled:co,onClick:()=>{y.mutate()},children:h.jsx(G,{label:"Delete (button)"})})]})]})},hV=async({select:t,query:e=()=>t,filter:n,where:r})=>({total:(await t.clearSelect().select(i=>i.fn.countAll().as("count")).executeTakeFirstOrThrow()).count,filter:(await e({select:e({select:t,where:r}),where:n}).clearSelect().select(i=>i.fn.countAll().as("count")).executeTakeFirstOrThrow()).count,where:(await e({select:t,where:r}).clearSelect().select(i=>i.fn.countAll().as("count")).executeTakeFirstOrThrow()).count}),Ju=async({select:t,query:e=()=>t,output:n,filter:r,where:i})=>n.parse(await e({select:e({select:t,where:i}),where:r}).executeTakeFirstOrThrow()),mV=async({select:t,query:e=()=>t,output:n,filter:r,where:i,cursor:o})=>{const l=c=>{let d=c;return o&&(d=c.limit(o.size).offset(o.page*o.size)),d};return $.array(n).parse(await l(e({select:e({select:t,where:i}),where:r})).execute())},_r=async({select:t,query:e=()=>t,output:n,filter:r,where:i,cursor:o})=>({data:await mV({select:t,output:n,where:i,filter:r,query:e,cursor:o}),count:await hV({select:t,where:i,filter:r,query:e})}),Mr=t=>{const e="input"in t?t.input:"input",n="output"in t?t.output:"output",r="schema"in t?t.schema._input:t._input,i="schema"in t?t.schema._output:t._output;return{types:{input:e==="output"?i:r,output:n==="input"?r:i},parse:o=>"schema"in t?t.schema.parse(o):t.parse(o)}},Qh=(t,e)=>$.custom().pipe(t.catch(e)),Br=({filter:t},{size:e=30}={size:30})=>$.object({filter:Qh(t.optional(),void 0),cursor:Qh(JB,{page:0,size:e}).default({page:0,size:e}),sort:Qh($.any().optional(),[]).default([]),selection:Qh($.array($.string()),[]).default([])}),gV=pn({slot:{base:["w-full","flex","flex-col","items-center","justify-center"],title:["text-xl","text-bold"],message:["text-base","text-slate-500"],body:["pt-2"]},variant:{},defaults:{}}),oR=({textTitle:t,textMessage:e,icon:n,iconProps:r,variant:i,tva:o=gV,css:l,children:c})=>{const d=o({...i,css:l}).slots;return h.jsxs("div",{className:d.base(),children:[n?h.jsx(Zt,{icon:n,variant:{size:"6xl"},css:{base:["text-slate-500","opacity-50"]},...r}):null,h.jsx("div",{className:d.title(),children:t}),h.jsx("div",{className:d.message(),children:e}),h.jsx("div",{className:d.body(),children:c})]})},a0=pn({slot:{base:["min-w-full","flex","flex-col","gap-2","text-sm"],table:["min-w-full","w-max","table-fixed"],thead:["border","border-slate-200","bg-slate-100"],th:["text-left","px-2","py-1","border-t","border-b","border-slate-300"],tbody:[],tr:["border-b","border-b-slate-200","odd:bg-slate-50","hover:bg-purple-100","hover:border-purple-300"],td:["px-2","py-1"],tfoot:[],select:["cursor-pointer","text-slate-400","hover:text-slate-600"]},variant:{selected:{true:[]}},match:[{if:{selected:!0},then:{tr:["bg-blue-100","odd:bg-blue-50","border-blue-300"],select:["text-slate-600"]}}],defaults:{selected:!1}}),yV=({table:t,cell:{column:e,data:n,value:r},variant:i,tva:o=a0,css:l})=>{const c=e.def.render,d=o({...i,css:l}).slots;return h.jsx("td",{className:d.td(),children:h.jsxs("div",{className:"group flex flex-row items-center gap-2 justify-between",children:[h.jsx(c,{table:t,data:n,value:r,context:t.context}),e.filter&&!e.filter.is()?h.jsx(Zt,{icon:D6,css:{base:["group-hover:visible","invisible","opacity-50 hover:opacity-100","cursor-pointer"]},variant:{size:"xl"},onClick:()=>{e.filter&&(e.def.filter?.onFilter({data:n,filter:e.filter}),window.scrollTo({top:0,behavior:"smooth"}))}}):null]})})},vV=({table:t,row:e,action:n,variant:r,tva:i=a0,css:o})=>{const l=i({...r,css:o}).slots,c=n?.table,d=n?.row;return h.jsxs("tr",{className:l.tr({selected:t.selection.isSelected(e)}),children:[c||d||t.selection.enabled?h.jsx("td",{className:"w-0",children:h.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.selection.enabled?h.jsx(Zt,{icon:t.selection.isSelected(e)?dy:uy,css:{base:l.select({selected:t.selection.isSelected(e)})},onClick:t.selection.withRowHandler(e)}):null,d?h.jsx(d,{table:t,data:e.data}):null]})}):null,e.cells.map(m=>h.jsx(yV,{table:t,cell:m,variant:r,tva:i,css:o},`${e.id}-${m.column.id}`)),h.jsx("td",{})]})},fi=({table:t,fulltext:e,cursor:n,empty:r=()=>h.jsx(oR,{icon:L6,textTitle:h.jsx(G,{label:"Nothing here"}),textMessage:h.jsx(G,{label:"There is nothing to see right now."})}),action:i,variant:o,tva:l=a0,css:c})=>{const d=l({...o,css:c}).slots,m=i?.table,y=i?.row;return h.jsxs("div",{className:d.base(),children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("div",{className:"flex items-center gap-6 w-1/3",children:e?h.jsx($C,{value:e.value,onFulltext:e.set}):null}),h.jsxs("div",{className:"flex flex-row items-center justify-center gap-2",children:[h.jsx(kk,{...n}),t.filter.is()&&h.jsx(Bw,{iconEnabled:nI,css:{base:["text-amber-500"]},onClick:()=>t.filter.reset()})]})]}),h.jsx("div",{className:"relative overflow-x-auto",children:h.jsxs("table",{className:d.table(),children:[h.jsx("thead",{className:d.thead(),children:h.jsxs("tr",{children:[m||y||t.selection.enabled?h.jsx("th",{className:"w-0",children:h.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.selection.enabled?h.jsx(Zt,{icon:t.selection.isAll()?dy:t.selection.isAny()?M6:uy,variant:{disabled:t.selection.isSingle},css:{base:d.select({selected:t.selection.isAny()})},onClick:t.selection.withAllHandler()}):null,m?h.jsx(m,{table:t}):null]})}):null,t.visible.map(_=>{const N=_.def.header||(()=>null);return h.jsx("th",{className:d.th(),style:_.def.size?{width:`${_.def.size}rem`}:void 0,children:h.jsxs("div",{className:"flex flex-row items-center justify-between",children:[h.jsx(N,{table:t}),h.jsx("div",{className:"flex flex-row items-center gap-2",children:_.filter?.is()&&h.jsx(Zt,{icon:nI,variant:{size:"md"},css:{base:["opacity-50","hover:opacity-100","cursor-pointer"]},onClick:()=>{_.filter?.reset()}})})]})},_.id)}),h.jsx("th",{})]})}),t.isEmpty?null:h.jsx("tbody",{className:d.tbody(),children:t.rows?.map(_=>h.jsx(vV,{row:_,table:t,action:i,variant:o,tva:l,css:c},_.id))})]})}),t.isEmpty?h.jsx(r,{}):null,h.jsxs("div",{className:"flex flex-row items-center justify-end gap-2",children:[h.jsx("div",{}),h.jsx(kk,{...n})]})]})},Jr=[];for(let t=0;t<256;++t)Jr.push((t+256).toString(16).slice(1));function bV(t,e=0){return(Jr[t[e+0]]+Jr[t[e+1]]+Jr[t[e+2]]+Jr[t[e+3]]+"-"+Jr[t[e+4]]+Jr[t[e+5]]+"-"+Jr[t[e+6]]+Jr[t[e+7]]+"-"+Jr[t[e+8]]+Jr[t[e+9]]+"-"+Jr[t[e+10]]+Jr[t[e+11]]+Jr[t[e+12]]+Jr[t[e+13]]+Jr[t[e+14]]+Jr[t[e+15]]).toLowerCase()}let F_;const _V=new Uint8Array(16);function xV(){if(!F_){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");F_=crypto.getRandomValues.bind(crypto)}return F_(_V)}const wV=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),_I={randomUUID:wV};function xI(t,e,n){if(_I.randomUUID&&!e&&!t)return _I.randomUUID();t=t||{};const r=t.random||(t.rng||xV)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,bV(r)}const pi=({columns:t,order:e=t.map(d=>d.name),hidden:n=[],visible:r=t.map(d=>d.name),data:i,filter:o,selection:l,context:c})=>{const d={...o?.value||{}},m=J1(d||{}),y=new Set(l?.value),_=t.map(k=>({id:xI(),def:k,filter:k.filter?{is(){return k.filter?m.get(k.filter.path)!==void 0:!1},reset(){k.filter&&m.set(k.filter.path,void 0),o?.set({...d})},shallow(q,T){k.filter&&m.set(q,T),o?.set({...d})},set(q){o?.set({...q})}}:void 0})),N=_.filter(k=>r.includes(k.def.name)&&!n.includes(k.def.name)).sort((k,q)=>{const T=e.indexOf(k.def.name),A=e.indexOf(q.def.name);return(T===-1?1/0:T)-(A===-1?1/0:A)});return{columns:_,visible:N,rows:i?.map(k=>({id:xI(),data:k,cells:N.map(q=>({column:q,data:k,value:J1(k).get(q.def.name)}))})),isEmpty:i.length===0,filter:{is(){return _.some(k=>k.filter?.is())},reset(){o?.set({})},set(k){o?.set({...k})},shallow(k,q){m.set(k,q)}},selection:{enabled:!!l&&i.length>0,selection:Array.from(y),isSingle:l?.type==="single",isMulti:l?.type==="multi",isSelected({data:k}){return y.has(k.id)||!1},isAll(){return i.every(k=>y.has(k.id))},isAny(){return i.some(k=>y.has(k.id))},withRowHandler({data:k}){return()=>{if(l?.type==="single"){const q=y.has(k.id);y.clear(),q?y.delete(k.id):y.add(k.id)}else y.has(k.id)?y.delete(k.id):y.add(k.id);l?.set(Array.from(y))}},withAllHandler(){return()=>{i.every(k=>y.has(k.id))?y.clear():i.forEach(({id:k})=>y.add(k)),l?.set(Array.from(y))}}},context:c}},hi=()=>t=>t,aR=({tags:t=[],render:e=({tag:i})=>i.label,onClick:n,textEmpty:r})=>{const i=t.filter(Boolean).sort((o,l)=>o.sort-l.sort);return h.jsx("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:i.length?i.map(o=>h.jsx(ro,{onClick:()=>n?.(o),children:e({tag:o})},o.id)):r||h.jsx(G,{label:"No tags (label)"})})},SV=pn({slot:{base:["flex","flex-row","gap-2","items-center"],title:["flex","flex-row","gap-2","items-center","text-lg","text-slate-500","font-bold"],subtitle:["flex","flex-row","gap-4","items-center","text-lg"]},variant:{withSubtitle:{true:[]}},match:[{if:{withSubtitle:!0},then:{title:["border-r","border-r-slate-300","pr-2"]}}],defaults:{withSubtitle:!1}}),hc=({icon:t,title:e,subtitle:n,variant:r,tva:i=SV,css:o})=>{const l=i({withSubtitle:!!n,...r,css:o}).slots;return h.jsxs("div",{className:l.base(),children:[h.jsxs("div",{className:l.title(),children:[t?h.jsx(Zt,{icon:t}):null,e]}),n?h.jsx("div",{className:l.subtitle(),children:n}):null]})};var Kh={},wI;function EV(){if(wI)return Kh;wI=1;var t=fq();return Kh.createRoot=t.createRoot,Kh.hydrateRoot=t.hydrateRoot,Kh}var NV=EV();const kV=Fo(NV),l0=Cj()({component:()=>h.jsxs(h.Fragment,{children:[h.jsx(Yj,{}),h.jsx(As,{})]})}),IV="modulepreload",qV=function(t){return"/"+t},SI={},EI=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");i=Promise.allSettled(n.map(d=>{if(d=qV(d),d in SI)return;SI[d]=!0;const m=d.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${y}`))return;const _=document.createElement("link");if(_.rel=m?"stylesheet":IV,m||(_.as="script"),_.crossOrigin="",_.href=d,c&&_.setAttribute("nonce",c),document.head.appendChild(_),m)return new Promise((N,k)=>{_.addEventListener("load",N),_.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})},TV=en("/$locale")({component:As,loader:async({params:{locale:t}})=>{try{nl.push((await OV(`../translation/${t}.yaml`)).default)}catch(e){console.error(e)}}});function OV(t){switch(t){case"../translation/cs":case"../translation/cs.yaml":return EI(()=>import("./cs-BVcCpBC6.js"),[]);case"../translation/en":case"../translation/en.yaml":return EI(()=>import("./en-VkkSr6F6.js"),[]);default:return new Promise(function(e,n){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+t)))})}}const lR="cs",CV=[lR,"en"],RV=en("/")({loader:async()=>{throw Tg({to:"/$locale",params:{locale:PM({available:CV,fallback:lR})}})}}),AV=en("/$locale/")({component:()=>{const{locale:t}=En({from:"/$locale"});return h.jsx("div",{className:"flex flex-col items-center justify-center h-screen w-screen",children:h.jsxs("div",{className:"rounded bg-slate-50 p-4 shadow-md border border-slate-300",children:[h.jsx("h1",{className:"text-3xl text-center",children:"Apps"}),h.jsx("ul",{children:h.jsx("li",{children:h.jsx(Pn,{icon:"icon-[bx--game]",to:"/$locale/apps/derivean/public/login",params:{locale:t},children:"DeRivean"})})})]})})}}),{kysely:an,bootstrap:jV}=O6({database:"derivean",async bootstrap({kysely:t}){const e="varchar(36)";await t.schema.createTable("User").ifNotExists().addColumn("id",e,n=>n.primaryKey()).addColumn("name","varchar(64)",n=>n.notNull()).addColumn("login","varchar(128)",n=>n.notNull()).addColumn("password","varchar(256)",n=>n.notNull()).addUniqueConstraint("[User] login",["login"]).execute(),await t.schema.createTable("Tag").ifNotExists().addColumn("id",e,n=>n.primaryKey()).addColumn("code","varchar(64)",n=>n.notNull()).addColumn("label","varchar(128)",n=>n.notNull()).addColumn("group","varchar(64)").addColumn("sort","integer",n=>n.notNull().defaultTo(0)).addUniqueConstraint("Tag_code_group",["code","group"]).execute(),await t.schema.createTable("Cycle").ifNotExists().addColumn("id",e,n=>n.primaryKey()).addColumn("userId",e,n=>n.notNull()).addForeignKeyConstraint("[Cycle] userId",["userId"],"User",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addColumn("stamp","datetime",n=>n.defaultTo(Nr`CURRENT_TIMESTAMP`).notNull()).execute(),await t.schema.createTable("Resource").ifNotExists().addColumn("id",e,n=>n.primaryKey()).addColumn("name","varchar(64)",n=>n.notNull()).addUniqueConstraint("[Resource] name",["name"]).execute(),await t.schema.createTable("Resource_Tag").ifNotExists().addColumn("id",e,n=>n.primaryKey()).addColumn("resourceId",e,n=>n.notNull()).addForeignKeyConstraint("[Resource_Tag] resourceId",["resourceId"],"Resource",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addColumn("tagId",e,n=>n.notNull()).addForeignKeyConstraint("[Resource_Tag] tagId",["tagId"],"Tag",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[Resource_Tag] resourceId-tagId",["resourceId","tagId"]).execute(),await t.schema.createTable("Inventory").ifNotExists().addColumn("id",e,n=>n.primaryKey()).addColumn("resourceId",e,n=>n.notNull()).addForeignKeyConstraint("[Inventory] resourceId",["resourceId"],"Resource",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",n=>n.notNull()).addColumn("limit","float4",n=>n.notNull()).execute(),await t.schema.createTable("Default_Inventory").ifNotExists().addColumn("id",e,n=>n.primaryKey()).addColumn("resourceId",e,n=>n.notNull()).addForeignKeyConstraint("[Default_Inventory] resourceId",["resourceId"],"Resource",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",n=>n.notNull()).addColumn("limit","float4",n=>n.notNull()).addUniqueConstraint("[Default_Inventory] resourceId",["resourceId"]).execute(),await t.schema.createTable("User_Inventory").ifNotExists().addColumn("id",e,n=>n.primaryKey()).addColumn("userId",e,n=>n.notNull()).addForeignKeyConstraint("[User_Inventory] userId",["userId"],"User",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addColumn("inventoryId",e,n=>n.notNull()).addForeignKeyConstraint("[User_Inventory] inventoryId",["inventoryId"],"Inventory",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[User_Inventory] userId-inventoryId",["userId","inventoryId"]).execute(),await t.schema.createTable("Building_Base").ifNotExists().addColumn("id",e,n=>n.primaryKey()).addColumn("name","varchar(64)",n=>n.notNull()).addColumn("cycles","integer",n=>n.notNull()).addColumn("productionLimit","integer",n=>n.notNull()).addUniqueConstraint("[Building_Base] name",["name"]).execute(),await t.schema.createTable("Building_Base_Production").ifNotExists().addColumn("id",e,n=>n.primaryKey()).addColumn("buildingBaseId",e,n=>n.notNull()).addForeignKeyConstraint("[Building_Base_Production] buildingBaseId",["buildingBaseId"],"Building_Base",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addColumn("resourceId",e,n=>n.notNull()).addForeignKeyConstraint("[Building_Base_Production] resourceId",["resourceId"],"Resource",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",n=>n.notNull()).addColumn("cycles","integer",n=>n.notNull()).addColumn("limit","integer",n=>n.notNull()).execute(),await t.schema.createTable("Building_Base_Resource_Requirement").ifNotExists().addColumn("id",e,n=>n.primaryKey()).addColumn("buildingBaseId",e,n=>n.notNull()).addForeignKeyConstraint("[Building_Base_Resource_Requirement] buildingBaseId",["buildingBaseId"],"Building_Base",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addColumn("resourceId",e,n=>n.notNull()).addForeignKeyConstraint("[Building_Base_Resource_Requirement] resourceId",["resourceId"],"Resource",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",n=>n.notNull()).addColumn("passive","boolean",n=>n.notNull()).addUniqueConstraint("[Building_Base_Resource_Requirement] buildingBaseId-requirementId",["buildingBaseId","resourceId"]).execute(),await t.schema.createTable("Building_Base_Building_Base_Requirement").ifNotExists().addColumn("id",e,n=>n.primaryKey()).addColumn("buildingBaseId",e,n=>n.notNull()).addForeignKeyConstraint("[Building_Base_Resource_Requirement] buildingBaseId",["buildingBaseId"],"Building_Base",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addColumn("requirementId",e,n=>n.notNull()).addForeignKeyConstraint("[Building_Base_Resource_Requirement] requirementId",["requirementId"],"Building_Base",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",n=>n.notNull()).addUniqueConstraint("[Building_Base_Resource_Requirement] buildingBaseId-requirementId",["buildingBaseId","requirementId"]).execute(),await t.schema.createTable("Building_Base_Production_Requirement").ifNotExists().addColumn("id",e,n=>n.primaryKey()).addColumn("buildingBaseProductionId",e,n=>n.notNull()).addForeignKeyConstraint("[Building_Base_Production_Requirement] buildingBaseProductionId",["buildingBaseProductionId"],"Building_Base_Production",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addColumn("resourceId",e,n=>n.notNull()).addForeignKeyConstraint("[Building_Base_Production_Requirement] resourceId",["resourceId"],"Resource",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",n=>n.notNull()).addColumn("passive","boolean",n=>n.notNull()).addUniqueConstraint("[Building_Base_Production_Requirement] buildingBaseProductionId-requirementId",["buildingBaseProductionId","resourceId"]).execute(),await t.schema.createTable("Building_Resource_Queue").ifNotExists().addColumn("id",e,n=>n.primaryKey()).addColumn("userId",e,n=>n.notNull()).addForeignKeyConstraint("[Building_Resource_Queue] userId",["userId"],"User",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addColumn("buildingId",e,n=>n.notNull()).addForeignKeyConstraint("[Building_Resource_Queue] buildingId",["buildingId"],"Building",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addColumn("buildingBaseProductionId",e,n=>n.notNull()).addForeignKeyConstraint("[Building_Resource_Queue] buildingBaseProductionId",["buildingBaseProductionId"],"Building_Base_Production",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addColumn("from","integer",n=>n.notNull()).addColumn("to","integer",n=>n.notNull()).addColumn("cycle","integer",n=>n.notNull()).execute(),await t.schema.createTable("Building").ifNotExists().addColumn("id",e,n=>n.primaryKey()).addColumn("userId",e,n=>n.notNull()).addForeignKeyConstraint("[Building] userId",["userId"],"User",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addColumn("buildingBaseId",e,n=>n.notNull()).addForeignKeyConstraint("[Building] buildingBaseId",["buildingBaseId"],"Building_Base",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).execute(),await t.schema.createTable("Building_Queue").ifNotExists().addColumn("id",e,n=>n.primaryKey()).addColumn("userId",e,n=>n.notNull()).addForeignKeyConstraint("[Building_Queue] userId",["userId"],"User",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addColumn("buildingBaseId",e,n=>n.notNull()).addForeignKeyConstraint("[Building_Queue] buildingBaseId",["buildingBaseId"],"Building_Base",["id"],n=>n.onDelete("cascade").onUpdate("cascade")).addColumn("from","integer",n=>n.notNull()).addColumn("to","integer",n=>n.notNull()).addColumn("cycle","integer",n=>n.notNull()).execute()}}),PV=en("/$locale/apps/derivean")({loader:jV}),cR="icon-[proicons--game]",FV=pn({slot:{base:["text-orange-500","font-bold","text-2xl","shadow-md","hover:shadow-lg","hover:text-orange-600","rounded","px-2","py-1","bg-slate-100"]},variant:{},defaults:{}}),uR=({variant:t,tva:e=FV,css:n})=>{const r=e({...t,css:n}).slots;return h.jsx("div",{className:r.base(),children:"DeRivean"})},Ei="icon-[material-symbols-light--construction-rounded]",Rs="icon-[fluent--building-shop-20-regular]",Ao="icon-[mingcute--inventory-line]",ei="icon-[hugeicons--resources-add]",LV=t=>{const{locale:e}=En({from:"/$locale"});return h.jsxs(ma,{...t,children:[h.jsx(Kn,{icon:o0,to:"/$locale/apps/derivean/root/user/list",params:{locale:e},active:[{to:"/$locale/apps/derivean/root/user/$id/view"},{to:"/$locale/apps/derivean/root/user/$id/building/list"}],children:h.jsx(G,{label:"User list (menu)"})}),h.jsxs(bI,{icon:Rs,label:h.jsx(G,{label:"Buildings (menu)"}),active:[{to:"/$locale/apps/derivean/root/building/base/list"},{to:"/$locale/apps/derivean/root/building/list"},{to:"/$locale/apps/derivean/root/building/$id/view"},{to:"/$locale/apps/derivean/root/building/base/$id/view"},{to:"/$locale/apps/derivean/root/building/base/$id/edit"},{to:"/$locale/apps/derivean/root/building/base/$id/required/buildings"},{to:"/$locale/apps/derivean/root/building/base/$id/required/resources"}],children:[h.jsx(Kn,{icon:Ei,to:"/$locale/apps/derivean/root/building/base/list",params:{locale:e},variant:{inner:!0},children:h.jsx(G,{label:"Building base list (menu)"})}),h.jsx(Kn,{icon:Rs,to:"/$locale/apps/derivean/root/building/list",params:{locale:e},variant:{inner:!0},children:h.jsx(G,{label:"Building list (menu)"})})]}),h.jsx(Kn,{icon:ei,to:"/$locale/apps/derivean/root/resource/list",params:{locale:e},children:h.jsx(G,{label:"Resource list (menu)"})}),h.jsx(Kn,{icon:Ao,to:"/$locale/apps/derivean/root/inventory/default",params:{locale:e},children:h.jsx(G,{label:"Default inventory (menu)"})}),h.jsx(bI,{icon:B6,label:h.jsx(G,{label:"Settings (menu)"}),active:[{to:"/$locale/apps/derivean/root/tag/list"}],children:h.jsx(Kn,{icon:Hf,to:"/$locale/apps/derivean/root/tag/list",params:{locale:e},variant:{inner:!0},children:h.jsx(G,{label:"Tag list (menu)"})})})]})},hy=$.object({id:$.string(),name:$.string(),login:$.string()}),DV=en("/$locale/apps/derivean/root")({async beforeLoad({context:t,params:{locale:e}}){return{...t,async session(){try{return hy.parse(mp.get("session"))}catch{throw Tg({to:"/$locale/apps/derivean/public/login",params:{locale:e}})}}}},async loader({context:{session:t}}){return{session:await t()}},component:()=>{const{locale:t}=En({from:"/$locale"}),{session:e}=Os({from:"/$locale/apps/derivean/root"});return h.jsx(rR,{logo:h.jsx(Pn,{to:"/$locale/apps/derivean/root",params:{locale:t},children:h.jsx(uR,{})}),menu:h.jsx(LV,{}),actions:h.jsxs(h.Fragment,{children:[e.name,h.jsx(Pn,{icon:cR,to:"/$locale/apps/derivean/game",params:{locale:t}}),h.jsx(Pn,{icon:s0,to:"/$locale/apps/derivean/public/logout",params:{locale:t},preload:!1})]})})}}),c0=100,MV=async({tx:t,userId:e})=>new Promise(n=>{setTimeout(async()=>{await t.insertInto("Cycle").values({id:nr(),stamp:nn.now().toUTC().toSQLTime(),userId:e}).execute();const r=(await t.selectFrom("Cycle as c").select(l=>l.fn.count("c.id").as("count")).where("c.userId","=",e).executeTakeFirstOrThrow()).count,i=await t.selectFrom("Building_Queue as bq").select(["bq.id","bq.cycle","bq.to","bq.buildingBaseId"]).where("userId","=",e).execute();for await(const l of i){if(r>l.to){await t.insertInto("Building").values({id:nr(),buildingBaseId:l.buildingBaseId,userId:e}).execute(),await t.deleteFrom("Building_Queue").where("id","=",l.id).execute();continue}await t.updateTable("Building_Queue").set("cycle",l.cycle+1).where("id","=",l.id).execute()}const o=await t.selectFrom("Building_Resource_Queue as brq").innerJoin("Building_Base_Production as bbp","bbp.id","brq.buildingBaseProductionId").innerJoin("Resource as r","r.id","bbp.resourceId").select(["brq.id","brq.cycle","brq.to","bbp.resourceId","r.name","bbp.amount"]).where("userId","=",e).execute();for await(const l of o){if(r>l.to){const c=await t.selectFrom("Inventory as i").innerJoin("User_Inventory as ui","i.id","ui.inventoryId").select(["i.id","i.amount","i.limit"]).where("ui.userId","=",e).where("i.resourceId","=",l.resourceId).executeTakeFirst();if(!c||c.limit>0&&c.amount+l.amount>c.limit)continue;await t.updateTable("Inventory").set({amount:c.amount+l.amount}).where("id","=",c.id).execute(),await t.deleteFrom("Building_Resource_Queue as brq").where("brq.id","=",l.id).execute();continue}await t.updateTable("Building_Resource_Queue").set("cycle",l.cycle+1).where("id","=",l.id).execute()}n(void 0)},c0)}),Kx="icon-[iconamoon--clock-thin]",BV=({userId:t,cycle:e,...n})=>{const r=zi([["Cycle"],["Resource_Queue"],["Building_Queue"],["Building"],["User_Inventory"],["Inventory"],["Building_Base_Production"]]),i=Dn({mutationKey:["useCycleMutation"],async mutationFn({userId:o}){return an.transaction().execute(async l=>MV({userId:o,tx:l}))},async onSuccess(){await r()}});return h.jsxs(br,{iconEnabled:Kx,iconDisabled:Kx,onClick:async()=>vn.promise(i.mutateAsync({userId:t}),Un("Cycle")),loading:i.isPending,...n,children:[h.jsx(G,{label:"New cycle (label)"}),h.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[h.jsx("div",{className:"font-light text-sm",children:Sn({number:e})}),h.jsx(Zt,{icon:"icon-[solar--arrow-right-linear]"}),h.jsx("div",{className:"font-bold",children:Sn({number:e+1})})]})]})},Gx="icon-[emojione-monotone--construction]",jo="icon-[fluent-mdl2--production-floor-management]",$V=t=>{const{locale:e}=En({from:"/$locale"});return h.jsxs(ma,{...t,children:[h.jsx(Kn,{icon:jo,to:"/$locale/apps/derivean/game/building/production/resource/list",params:{locale:e},children:h.jsx(G,{label:"Resource production (menu)"})}),h.jsx(Kn,{icon:ei,to:"/$locale/apps/derivean/game/building/production/resource/queue",params:{locale:e},children:h.jsx(G,{label:"Resources queue (menu)"})}),h.jsx(Kn,{icon:Ei,to:"/$locale/apps/derivean/game/building/construction/list",params:{locale:e},children:h.jsx(G,{label:"Building build list (menu)"})}),h.jsx(Kn,{icon:Gx,to:"/$locale/apps/derivean/game/building/construction/queue/list",params:{locale:e},children:h.jsx(G,{label:"Building queue (menu)"})}),h.jsx(Kn,{icon:Rs,to:"/$locale/apps/derivean/game/building/list",params:{locale:e},active:[{to:"/$locale/apps/derivean/game/building/$id/production/list"},{to:"/$locale/apps/derivean/game/building/$id/view"}],children:h.jsx(G,{label:"My buildings (menu)"})}),h.jsx(Kn,{icon:Ao,to:"/$locale/apps/derivean/game/inventory",params:{locale:e},children:h.jsx(G,{label:"Inventory (menu)"})})]})},WV=en("/$locale/apps/derivean/game")({async beforeLoad({context:t,params:{locale:e}}){return{...t,async session(){try{return hy.parse(mp.get("session"))}catch{throw Tg({to:"/$locale/apps/derivean/public/login",params:{locale:e}})}}}},async loader({context:{queryClient:t,kysely:e,session:n}}){const r=await n();return{session:r,inventory:await t.ensureQueryData({queryKey:["User_Inventory"],async queryFn(){return e.transaction().execute(async i=>i.selectFrom("Inventory as i").innerJoin("User_Inventory as ui","ui.inventoryId","i.id").select(["i.id","i.amount","i.limit","i.resourceId"]).where("ui.userId","=",r.id).execute())}}),buildingCounts:await t.ensureQueryData({queryKey:["Building"],async queryFn(){return e.transaction().execute(async i=>i.selectFrom("Building as b").innerJoin("Building_Base as bb","bb.id","b.buildingBaseId").select(["b.buildingBaseId","bb.name",o=>o.fn.count("b.id").as("count")]).where("b.userId","=",r.id).groupBy("b.buildingBaseId").execute())}}),cycle:await t.ensureQueryData({queryKey:["Cycle"],async queryFn(){return e.transaction().execute(async i=>(await i.selectFrom("Cycle as c").select(o=>o.fn.count("c.id").as("count")).where("c.userId","=",r.id).executeTakeFirstOrThrow()).count)}})}},component:()=>{const{locale:t}=En({from:"/$locale"}),{session:e,cycle:n}=Os({from:"/$locale/apps/derivean/game"}),r=UA({filters:{status:"pending",mutationKey:["useCycleMutation"]},select(i){return i.state.status}});return h.jsx(rR,{logo:h.jsx(Pn,{to:"/$locale/apps/derivean/game",params:{locale:t},children:h.jsx(uR,{})}),menu:h.jsxs("div",{className:"flex flex-row items-center gap-4",children:[h.jsx($V,{}),h.jsx(BV,{cycle:n,userId:e.id})]}),actions:h.jsxs(h.Fragment,{children:[e.name,h.jsx(Pn,{icon:"icon-[clarity--crown-line]",to:"/$locale/apps/derivean/root",params:{locale:t}}),h.jsx(Pn,{icon:s0,to:"/$locale/apps/derivean/public/logout",params:{locale:t},preload:!1})]}),css:{base:r.length?["select-none","pointer-events-none","opacity-50"]:void 0},children:h.jsx(As,{})})}});var vm={exports:{}},zV=vm.exports,NI;function UV(){return NI||(NI=1,function(t,e){(function(n,r){r()})(zV,function(){function n(m,y){return typeof y>"u"?y={autoBom:!1}:typeof y!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),y={autoBom:!y}),y.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(m.type)?new Blob(["\uFEFF",m],{type:m.type}):m}function r(m,y,_){var N=new XMLHttpRequest;N.open("GET",m),N.responseType="blob",N.onload=function(){d(N.response,y,_)},N.onerror=function(){console.error("could not download file")},N.send()}function i(m){var y=new XMLHttpRequest;y.open("HEAD",m,!1);try{y.send()}catch{}return 200<=y.status&&299>=y.status}function o(m){try{m.dispatchEvent(new MouseEvent("click"))}catch{var y=document.createEvent("MouseEvents");y.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),m.dispatchEvent(y)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof zl=="object"&&zl.global===zl?zl:void 0,c=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),d=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!c?function(m,y,_){var N=l.URL||l.webkitURL,k=document.createElement("a");y=y||m.name||"download",k.download=y,k.rel="noopener",typeof m=="string"?(k.href=m,k.origin===location.origin?o(k):i(k.href)?r(m,y,_):o(k,k.target="_blank")):(k.href=N.createObjectURL(m),setTimeout(function(){N.revokeObjectURL(k.href)},4e4),setTimeout(function(){o(k)},0))}:"msSaveOrOpenBlob"in navigator?function(m,y,_){if(y=y||m.name||"download",typeof m!="string")navigator.msSaveOrOpenBlob(n(m,_),y);else if(i(m))r(m,y,_);else{var N=document.createElement("a");N.href=m,N.target="_blank",setTimeout(function(){o(N)})}}:function(m,y,_,N){if(N=N||open("","_blank"),N&&(N.document.title=N.document.body.innerText="downloading..."),typeof m=="string")return r(m,y,_);var k=m.type==="application/octet-stream",q=/constructor/i.test(l.HTMLElement)||l.safari,T=/CriOS\/[\d]+/.test(navigator.userAgent);if((T||k&&q||c)&&typeof FileReader<"u"){var A=new FileReader;A.onloadend=function(){var L=A.result;L=T?L:L.replace(/^data:[^;]*;/,"data:attachment/file;"),N?N.location.href=L:location=L,N=null},A.readAsDataURL(m)}else{var D=l.URL||l.webkitURL,P=D.createObjectURL(m);N?N.location=P:location.href=P,N=null,setTimeout(function(){D.revokeObjectURL(P)},4e4)}});l.saveAs=d.saveAs=d,t.exports=d})}(vm)),vm.exports}var VV=UV();const HV=Fo(VV),L_=["Tag","Resource","Resource_Tag","Inventory","Building_Base","Building_Base_Production","Building_Base_Production_Requirement","Building_Base_Building_Base_Requirement","Building_Base_Resource_Requirement","Default_Inventory"],QV=en("/$locale/apps/derivean/root/")({component(){const t=Dn({mutationKey:["export"],async mutationFn(){return vn.promise((async()=>{const e=[];await an.transaction().execute(async n=>{for await(const r of L_)e.push({source:r,entities:await n.selectFrom(r).selectAll().execute()})}),HV.saveAs(new Blob([JSON.stringify(e)],{type:"application/json;charset=utf-8"}),"export.json")})(),Un("Export game files"))}});return h.jsxs("div",{className:"flex flex-col gap-4 w-2/3 mx-auto",children:[h.jsx("div",{className:"flex items-center justify-center mt-10 gap-4",children:h.jsx(br,{iconEnabled:cR,loading:t.isPending,onClick:()=>t.mutate(),variant:{variant:"subtle"},children:h.jsx(G,{label:"Export game files (label)"})})}),h.jsx(WU,{onDrop:async e=>{const[n]=e;if(!n)return;const r=JSON.parse(await n.text());await vn.promise(an.transaction().execute(async i=>{for await(const{source:o}of r){const l=L_.find(c=>c===o);if(!l)throw new Error(`Unknown source [${o}]`);await i.deleteFrom(l).execute()}for await(const{source:o,entities:l}of r){const c=L_.find(d=>d===o);if(!c)throw new Error(`Unknown source [${o}]`);for await(const d of Object.values(l))await i.insertInto(c).values(d).execute()}}),Un("Import game files"))}})]})}}),KV=en("/$locale/apps/derivean/game/")({component:()=>h.jsx("div",{children:"game dashboard here :)"})});var yp=t=>t.type==="checkbox",Gl=t=>t instanceof Date,vi=t=>t==null;const dR=t=>typeof t=="object";var kr=t=>!vi(t)&&!Array.isArray(t)&&dR(t)&&!Gl(t),fR=t=>kr(t)&&t.target?yp(t.target)?t.target.checked:t.target.value:t,GV=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,pR=(t,e)=>t.has(GV(e)),JV=t=>{const e=t.constructor&&t.constructor.prototype;return kr(e)&&e.hasOwnProperty("isPrototypeOf")},u0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ai(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(u0&&(t instanceof Blob||r))&&(n||kr(t)))if(e=n?[]:{},!n&&!JV(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Ai(t[i]));else return t;return e}var my=t=>Array.isArray(t)?t.filter(Boolean):[],mr=t=>t===void 0,_t=(t,e,n)=>{if(!e||!kr(t))return n;const r=my(e.split(/[,[\].]+?/)).reduce((i,o)=>vi(i)?i:i[o],t);return mr(r)||r===t?mr(t[e])?n:t[e]:r},Yi=t=>typeof t=="boolean",d0=t=>/^\w*$/.test(t),hR=t=>my(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Cn=(t,e,n)=>{let r=-1;const i=d0(e)?[e]:hR(e),o=i.length,l=o-1;for(;++r<o;){const c=i[r];let d=n;if(r!==l){const m=t[c];d=kr(m)||Array.isArray(m)?m:isNaN(+i[r+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;t[c]=d,t=t[c]}return t};const Sg={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Xs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ta={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},ZV=An.createContext(null),f0=()=>An.useContext(ZV);var mR=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(i,o,{get:()=>{const l=o;return e._proxyFormState[l]!==Xs.all&&(e._proxyFormState[l]=!r||Xs.all),n&&(n[l]=!0),t[l]}});return i},ji=t=>kr(t)&&!Object.keys(t).length,gR=(t,e,n,r)=>{n(t);const{name:i,...o}=t;return ji(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(l=>e[l]===(!r||Xs.all))},mf=t=>Array.isArray(t)?t:[t],yR=(t,e,n)=>!t||!e||t===e||mf(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function p0(t){const e=An.useRef(t);e.current=t,An.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function YV(t){const e=f0(),{control:n=e.control,disabled:r,name:i,exact:o}=t||{},[l,c]=An.useState(n._formState),d=An.useRef(!0),m=An.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),y=An.useRef(i);return y.current=i,p0({disabled:r,next:_=>d.current&&yR(y.current,_.name,o)&&gR(_,m.current,n._updateFormState)&&c({...n._formState,..._}),subject:n._subjects.state}),An.useEffect(()=>(d.current=!0,m.current.isValid&&n._updateValid(!0),()=>{d.current=!1}),[n]),An.useMemo(()=>mR(l,n,m.current,!1),[l,n])}var No=t=>typeof t=="string",vR=(t,e,n,r,i)=>No(t)?(r&&e.watch.add(t),_t(n,t,i)):Array.isArray(t)?t.map(o=>(r&&e.watch.add(o),_t(n,o))):(r&&(e.watchAll=!0),n);function XV(t){const e=f0(),{control:n=e.control,name:r,defaultValue:i,disabled:o,exact:l}=t||{},c=An.useRef(r);c.current=r,p0({disabled:o,subject:n._subjects.values,next:y=>{yR(c.current,y.name,l)&&m(Ai(vR(c.current,n._names,y.values||n._formValues,!1,i)))}});const[d,m]=An.useState(n._getWatch(r,i));return An.useEffect(()=>n._removeUnmounted()),d}function e8(t){const e=f0(),{name:n,disabled:r,control:i=e.control,shouldUnregister:o}=t,l=pR(i._names.array,n),c=XV({control:i,name:n,defaultValue:_t(i._formValues,n,_t(i._defaultValues,n,t.defaultValue)),exact:!0}),d=YV({control:i,name:n,exact:!0}),m=An.useRef(i.register(n,{...t.rules,value:c,...Yi(t.disabled)?{disabled:t.disabled}:{}})),y=An.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!_t(d.errors,n)},isDirty:{enumerable:!0,get:()=>!!_t(d.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!_t(d.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!_t(d.validatingFields,n)},error:{enumerable:!0,get:()=>_t(d.errors,n)}}),[d,n]),_=An.useMemo(()=>({name:n,value:c,...Yi(r)||d.disabled?{disabled:d.disabled||r}:{},onChange:N=>m.current.onChange({target:{value:fR(N),name:n},type:Sg.CHANGE}),onBlur:()=>m.current.onBlur({target:{value:_t(i._formValues,n),name:n},type:Sg.BLUR}),ref:N=>{const k=_t(i._fields,n);k&&N&&(k._f.ref={focus:()=>N.focus(),select:()=>N.select(),setCustomValidity:q=>N.setCustomValidity(q),reportValidity:()=>N.reportValidity()})}}),[n,i._formValues,r,d.disabled,c,i._fields]);return An.useEffect(()=>{const N=i._options.shouldUnregister||o,k=(q,T)=>{const A=_t(i._fields,q);A&&A._f&&(A._f.mount=T)};if(k(n,!0),N){const q=Ai(_t(i._options.defaultValues,n));Cn(i._defaultValues,n,q),mr(_t(i._formValues,n))&&Cn(i._formValues,n,q)}return()=>{(l?N&&!i._state.action:N)?i.unregister(n):k(n,!1)}},[n,i,l,o]),An.useEffect(()=>{Yi(r)&&_t(i._fields,n)&&i._updateDisabledField({disabled:r,fields:i._fields,name:n,value:_t(i._fields,n)._f.value})},[r,n,i]),An.useMemo(()=>({field:_,formState:d,fieldState:y}),[_,d,y])}const Po=t=>t.render(e8(t));var bR=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},kI=t=>({isOnSubmit:!t||t===Xs.onSubmit,isOnBlur:t===Xs.onBlur,isOnChange:t===Xs.onChange,isOnAll:t===Xs.all,isOnTouch:t===Xs.onTouched}),II=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const gf=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const o=_t(t,i);if(o){const{_f:l,...c}=o;if(l){if(l.refs&&l.refs[0]&&e(l.refs[0],i)&&!r)return!0;if(l.ref&&e(l.ref,l.name)&&!r)return!0;if(gf(c,e))break}else if(kr(c)&&gf(c,e))break}}};var t8=(t,e,n)=>{const r=mf(_t(t,n));return Cn(r,"root",e[n]),Cn(t,n,r),t},h0=t=>t.type==="file",So=t=>typeof t=="function",Eg=t=>{if(!u0)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},bm=t=>No(t),m0=t=>t.type==="radio",Ng=t=>t instanceof RegExp;const qI={value:!1,isValid:!1},TI={value:!0,isValid:!0};var _R=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!mr(t[0].attributes.value)?mr(t[0].value)||t[0].value===""?TI:{value:t[0].value,isValid:!0}:TI:qI}return qI};const OI={isValid:!1,value:null};var xR=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,OI):OI;function CI(t,e,n="validate"){if(bm(t)||Array.isArray(t)&&t.every(bm)||Yi(t)&&!t)return{type:n,message:bm(t)?t:"",ref:e}}var Gc=t=>kr(t)&&!Ng(t)?t:{value:t,message:""},RI=async(t,e,n,r,i)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:m,min:y,max:_,pattern:N,validate:k,name:q,valueAsNumber:T,mount:A,disabled:D}=t._f,P=_t(e,q);if(!A||D)return{};const L=l?l[0]:o,V=se=>{r&&L.reportValidity&&(L.setCustomValidity(Yi(se)?"":se||""),L.reportValidity())},J={},W=m0(o),Z=yp(o),oe=W||Z,U=(T||h0(o))&&mr(o.value)&&mr(P)||Eg(o)&&o.value===""||P===""||Array.isArray(P)&&!P.length,ne=bR.bind(null,q,n,J),B=(se,X,fe,Ee=ta.maxLength,Oe=ta.minLength)=>{const je=se?X:fe;J[q]={type:se?Ee:Oe,message:je,ref:o,...ne(se?Ee:Oe,je)}};if(i?!Array.isArray(P)||!P.length:c&&(!oe&&(U||vi(P))||Yi(P)&&!P||Z&&!_R(l).isValid||W&&!xR(l).isValid)){const{value:se,message:X}=bm(c)?{value:!!c,message:c}:Gc(c);if(se&&(J[q]={type:ta.required,message:X,ref:L,...ne(ta.required,X)},!n))return V(X),J}if(!U&&(!vi(y)||!vi(_))){let se,X;const fe=Gc(_),Ee=Gc(y);if(!vi(P)&&!isNaN(P)){const Oe=o.valueAsNumber||P&&+P;vi(fe.value)||(se=Oe>fe.value),vi(Ee.value)||(X=Oe<Ee.value)}else{const Oe=o.valueAsDate||new Date(P),je=Ne=>new Date(new Date().toDateString()+" "+Ne),ve=o.type=="time",pe=o.type=="week";No(fe.value)&&P&&(se=ve?je(P)>je(fe.value):pe?P>fe.value:Oe>new Date(fe.value)),No(Ee.value)&&P&&(X=ve?je(P)<je(Ee.value):pe?P<Ee.value:Oe<new Date(Ee.value))}if((se||X)&&(B(!!se,fe.message,Ee.message,ta.max,ta.min),!n))return V(J[q].message),J}if((d||m)&&!U&&(No(P)||i&&Array.isArray(P))){const se=Gc(d),X=Gc(m),fe=!vi(se.value)&&P.length>+se.value,Ee=!vi(X.value)&&P.length<+X.value;if((fe||Ee)&&(B(fe,se.message,X.message),!n))return V(J[q].message),J}if(N&&!U&&No(P)){const{value:se,message:X}=Gc(N);if(Ng(se)&&!P.match(se)&&(J[q]={type:ta.pattern,message:X,ref:o,...ne(ta.pattern,X)},!n))return V(X),J}if(k){if(So(k)){const se=await k(P,e),X=CI(se,L);if(X&&(J[q]={...X,...ne(ta.validate,X.message)},!n))return V(X.message),J}else if(kr(k)){let se={};for(const X in k){if(!ji(se)&&!n)break;const fe=CI(await k[X](P,e),L,X);fe&&(se={...fe,...ne(X,fe.message)},V(fe.message),n&&(J[q]=se))}if(!ji(se)&&(J[q]={ref:L,...se},!n))return J}}return V(!0),J};function n8(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=mr(t)?r++:t[e[r++]];return t}function r8(t){for(const e in t)if(t.hasOwnProperty(e)&&!mr(t[e]))return!1;return!0}function Lr(t,e){const n=Array.isArray(e)?e:d0(e)?[e]:hR(e),r=n.length===1?t:n8(t,n),i=n.length-1,o=n[i];return r&&delete r[o],i!==0&&(kr(r)&&ji(r)||Array.isArray(r)&&r8(r))&&Lr(t,n.slice(0,-1)),t}var D_=()=>{let t=[];return{get observers(){return t},next:i=>{for(const o of t)o.next&&o.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(o=>o!==i)}}),unsubscribe:()=>{t=[]}}},Jx=t=>vi(t)||!dR(t);function Ha(t,e){if(Jx(t)||Jx(e))return t===e;if(Gl(t)&&Gl(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const o=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const l=e[i];if(Gl(o)&&Gl(l)||kr(o)&&kr(l)||Array.isArray(o)&&Array.isArray(l)?!Ha(o,l):o!==l)return!1}}return!0}var wR=t=>t.type==="select-multiple",i8=t=>m0(t)||yp(t),M_=t=>Eg(t)&&t.isConnected,SR=t=>{for(const e in t)if(So(t[e]))return!0;return!1};function kg(t,e={}){const n=Array.isArray(t);if(kr(t)||n)for(const r in t)Array.isArray(t[r])||kr(t[r])&&!SR(t[r])?(e[r]=Array.isArray(t[r])?[]:{},kg(t[r],e[r])):vi(t[r])||(e[r]=!0);return e}function ER(t,e,n){const r=Array.isArray(t);if(kr(t)||r)for(const i in t)Array.isArray(t[i])||kr(t[i])&&!SR(t[i])?mr(e)||Jx(n[i])?n[i]=Array.isArray(t[i])?kg(t[i],[]):{...kg(t[i])}:ER(t[i],vi(e)?{}:e[i],n[i]):n[i]=!Ha(t[i],e[i]);return n}var Wd=(t,e)=>ER(t,e,kg(e)),NR=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>mr(t)?t:e?t===""?NaN:t&&+t:n&&No(t)?new Date(t):r?r(t):t;function B_(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return h0(e)?e.files:m0(e)?xR(t.refs).value:wR(e)?[...e.selectedOptions].map(({value:n})=>n):yp(e)?_R(t.refs).value:NR(mr(e.value)?t.ref.value:e.value,t)}var s8=(t,e,n,r)=>{const i={};for(const o of t){const l=_t(e,o);l&&Cn(i,o,l._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},zd=t=>mr(t)?t:Ng(t)?t.source:kr(t)?Ng(t.value)?t.value.source:t.value:t;const AI="AsyncFunction";var o8=t=>!!t&&!!t.validate&&!!(So(t.validate)&&t.validate.constructor.name===AI||kr(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===AI)),a8=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function jI(t,e,n){const r=_t(t,n);if(r||d0(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const o=i.join("."),l=_t(e,o),c=_t(t,o);if(l&&!Array.isArray(l)&&n!==o)return{name:n};if(c&&c.type)return{name:o,error:c};i.pop()}return{name:n}}var l8=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,c8=(t,e)=>!my(_t(t,e)).length&&Lr(t,e);const u8={mode:Xs.onSubmit,reValidateMode:Xs.onChange,shouldFocusError:!0};function d8(t={}){let e={...u8,...t},n={submitCount:0,isDirty:!1,isLoading:So(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=kr(e.defaultValues)||kr(e.values)?Ai(e.defaultValues||e.values)||{}:{},o=e.shouldUnregister?{}:Ai(i),l={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},d,m=0;const y={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},_={values:D_(),array:D_(),state:D_()},N=kI(e.mode),k=kI(e.reValidateMode),q=e.criteriaMode===Xs.all,T=le=>ue=>{clearTimeout(m),m=setTimeout(le,ue)},A=async le=>{if(!e.disabled&&(y.isValid||le)){const ue=e.resolver?ji((await oe()).errors):await ne(r,!0);ue!==n.isValid&&_.state.next({isValid:ue})}},D=(le,ue)=>{!e.disabled&&(y.isValidating||y.validatingFields)&&((le||Array.from(c.mount)).forEach(ye=>{ye&&(ue?Cn(n.validatingFields,ye,ue):Lr(n.validatingFields,ye))}),_.state.next({validatingFields:n.validatingFields,isValidating:!ji(n.validatingFields)}))},P=(le,ue=[],ye,Ce,De=!0,Je=!0)=>{if(Ce&&ye&&!e.disabled){if(l.action=!0,Je&&Array.isArray(_t(r,le))){const Fe=ye(_t(r,le),Ce.argA,Ce.argB);De&&Cn(r,le,Fe)}if(Je&&Array.isArray(_t(n.errors,le))){const Fe=ye(_t(n.errors,le),Ce.argA,Ce.argB);De&&Cn(n.errors,le,Fe),c8(n.errors,le)}if(y.touchedFields&&Je&&Array.isArray(_t(n.touchedFields,le))){const Fe=ye(_t(n.touchedFields,le),Ce.argA,Ce.argB);De&&Cn(n.touchedFields,le,Fe)}y.dirtyFields&&(n.dirtyFields=Wd(i,o)),_.state.next({name:le,isDirty:se(le,ue),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Cn(o,le,ue)},L=(le,ue)=>{Cn(n.errors,le,ue),_.state.next({errors:n.errors})},V=le=>{n.errors=le,_.state.next({errors:n.errors,isValid:!1})},J=(le,ue,ye,Ce)=>{const De=_t(r,le);if(De){const Je=_t(o,le,mr(ye)?_t(i,le):ye);mr(Je)||Ce&&Ce.defaultChecked||ue?Cn(o,le,ue?Je:B_(De._f)):Ee(le,Je),l.mount&&A()}},W=(le,ue,ye,Ce,De)=>{let Je=!1,Fe=!1;const et={name:le};if(!e.disabled){const Vt=!!(_t(r,le)&&_t(r,le)._f&&_t(r,le)._f.disabled);if(!ye||Ce){y.isDirty&&(Fe=n.isDirty,n.isDirty=et.isDirty=se(),Je=Fe!==et.isDirty);const zt=Vt||Ha(_t(i,le),ue);Fe=!!(!Vt&&_t(n.dirtyFields,le)),zt||Vt?Lr(n.dirtyFields,le):Cn(n.dirtyFields,le,!0),et.dirtyFields=n.dirtyFields,Je=Je||y.dirtyFields&&Fe!==!zt}if(ye){const zt=_t(n.touchedFields,le);zt||(Cn(n.touchedFields,le,ye),et.touchedFields=n.touchedFields,Je=Je||y.touchedFields&&zt!==ye)}Je&&De&&_.state.next(et)}return Je?et:{}},Z=(le,ue,ye,Ce)=>{const De=_t(n.errors,le),Je=y.isValid&&Yi(ue)&&n.isValid!==ue;if(e.delayError&&ye?(d=T(()=>L(le,ye)),d(e.delayError)):(clearTimeout(m),d=null,ye?Cn(n.errors,le,ye):Lr(n.errors,le)),(ye?!Ha(De,ye):De)||!ji(Ce)||Je){const Fe={...Ce,...Je&&Yi(ue)?{isValid:ue}:{},errors:n.errors,name:le};n={...n,...Fe},_.state.next(Fe)}},oe=async le=>{D(le,!0);const ue=await e.resolver(o,e.context,s8(le||c.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return D(le),ue},U=async le=>{const{errors:ue}=await oe(le);if(le)for(const ye of le){const Ce=_t(ue,ye);Ce?Cn(n.errors,ye,Ce):Lr(n.errors,ye)}else n.errors=ue;return ue},ne=async(le,ue,ye={valid:!0})=>{for(const Ce in le){const De=le[Ce];if(De){const{_f:Je,...Fe}=De;if(Je){const et=c.array.has(Je.name),Vt=De._f&&o8(De._f);Vt&&y.validatingFields&&D([Ce],!0);const zt=await RI(De,o,q,e.shouldUseNativeValidation&&!ue,et);if(Vt&&y.validatingFields&&D([Ce]),zt[Je.name]&&(ye.valid=!1,ue))break;!ue&&(_t(zt,Je.name)?et?t8(n.errors,zt,Je.name):Cn(n.errors,Je.name,zt[Je.name]):Lr(n.errors,Je.name))}!ji(Fe)&&await ne(Fe,ue,ye)}}return ye.valid},B=()=>{for(const le of c.unMount){const ue=_t(r,le);ue&&(ue._f.refs?ue._f.refs.every(ye=>!M_(ye)):!M_(ue._f.ref))&&dt(le)}c.unMount=new Set},se=(le,ue)=>!e.disabled&&(le&&ue&&Cn(o,le,ue),!Ha(K(),i)),X=(le,ue,ye)=>vR(le,c,{...l.mount?o:mr(ue)?i:No(le)?{[le]:ue}:ue},ye,ue),fe=le=>my(_t(l.mount?o:i,le,e.shouldUnregister?_t(i,le,[]):[])),Ee=(le,ue,ye={})=>{const Ce=_t(r,le);let De=ue;if(Ce){const Je=Ce._f;Je&&(!Je.disabled&&Cn(o,le,NR(ue,Je)),De=Eg(Je.ref)&&vi(ue)?"":ue,wR(Je.ref)?[...Je.ref.options].forEach(Fe=>Fe.selected=De.includes(Fe.value)):Je.refs?yp(Je.ref)?Je.refs.length>1?Je.refs.forEach(Fe=>(!Fe.defaultChecked||!Fe.disabled)&&(Fe.checked=Array.isArray(De)?!!De.find(et=>et===Fe.value):De===Fe.value)):Je.refs[0]&&(Je.refs[0].checked=!!De):Je.refs.forEach(Fe=>Fe.checked=Fe.value===De):h0(Je.ref)?Je.ref.value="":(Je.ref.value=De,Je.ref.type||_.values.next({name:le,values:{...o}})))}(ye.shouldDirty||ye.shouldTouch)&&W(le,De,ye.shouldTouch,ye.shouldDirty,!0),ye.shouldValidate&&Ne(le)},Oe=(le,ue,ye)=>{for(const Ce in ue){const De=ue[Ce],Je=`${le}.${Ce}`,Fe=_t(r,Je);(c.array.has(le)||kr(De)||Fe&&!Fe._f)&&!Gl(De)?Oe(Je,De,ye):Ee(Je,De,ye)}},je=(le,ue,ye={})=>{const Ce=_t(r,le),De=c.array.has(le),Je=Ai(ue);Cn(o,le,Je),De?(_.array.next({name:le,values:{...o}}),(y.isDirty||y.dirtyFields)&&ye.shouldDirty&&_.state.next({name:le,dirtyFields:Wd(i,o),isDirty:se(le,Je)})):Ce&&!Ce._f&&!vi(Je)?Oe(le,Je,ye):Ee(le,Je,ye),II(le,c)&&_.state.next({...n}),_.values.next({name:l.mount?le:void 0,values:{...o}})},ve=async le=>{l.mount=!0;const ue=le.target;let ye=ue.name,Ce=!0;const De=_t(r,ye),Je=()=>ue.type?B_(De._f):fR(le),Fe=et=>{Ce=Number.isNaN(et)||Gl(et)&&isNaN(et.getTime())||Ha(et,_t(o,ye,et))};if(De){let et,Vt;const zt=Je(),yn=le.type===Sg.BLUR||le.type===Sg.FOCUS_OUT,xr=!a8(De._f)&&!e.resolver&&!_t(n.errors,ye)&&!De._f.deps||l8(yn,_t(n.touchedFields,ye),n.isSubmitted,k,N),Fn=II(ye,c,yn);Cn(o,ye,zt),yn?(De._f.onBlur&&De._f.onBlur(le),d&&d(0)):De._f.onChange&&De._f.onChange(le);const $r=W(ye,zt,yn,!1),Ui=!ji($r)||Fn;if(!yn&&_.values.next({name:ye,type:le.type,values:{...o}}),xr)return y.isValid&&(e.mode==="onBlur"?yn&&A():A()),Ui&&_.state.next({name:ye,...Fn?{}:$r});if(!yn&&Fn&&_.state.next({...n}),e.resolver){const{errors:wr}=await oe([ye]);if(Fe(zt),Ce){const $t=jI(n.errors,r,ye),us=jI(wr,r,$t.name||ye);et=us.error,ye=us.name,Vt=ji(wr)}}else D([ye],!0),et=(await RI(De,o,q,e.shouldUseNativeValidation))[ye],D([ye]),Fe(zt),Ce&&(et?Vt=!1:y.isValid&&(Vt=await ne(r,!0)));Ce&&(De._f.deps&&Ne(De._f.deps),Z(ye,Vt,et,$r))}},pe=(le,ue)=>{if(_t(n.errors,ue)&&le.focus)return le.focus(),1},Ne=async(le,ue={})=>{let ye,Ce;const De=mf(le);if(e.resolver){const Je=await U(mr(le)?le:De);ye=ji(Je),Ce=le?!De.some(Fe=>_t(Je,Fe)):ye}else le?(Ce=(await Promise.all(De.map(async Je=>{const Fe=_t(r,Je);return await ne(Fe&&Fe._f?{[Je]:Fe}:Fe)}))).every(Boolean),!(!Ce&&!n.isValid)&&A()):Ce=ye=await ne(r);return _.state.next({...!No(le)||y.isValid&&ye!==n.isValid?{}:{name:le},...e.resolver||!le?{isValid:ye}:{},errors:n.errors}),ue.shouldFocus&&!Ce&&gf(r,pe,le?De:c.mount),Ce},K=le=>{const ue={...l.mount?o:i};return mr(le)?ue:No(le)?_t(ue,le):le.map(ye=>_t(ue,ye))},xe=(le,ue)=>({invalid:!!_t((ue||n).errors,le),isDirty:!!_t((ue||n).dirtyFields,le),error:_t((ue||n).errors,le),isValidating:!!_t(n.validatingFields,le),isTouched:!!_t((ue||n).touchedFields,le)}),ut=le=>{le&&mf(le).forEach(ue=>Lr(n.errors,ue)),_.state.next({errors:le?n.errors:{}})},at=(le,ue,ye)=>{const Ce=(_t(r,le,{_f:{}})._f||{}).ref,De=_t(n.errors,le)||{},{ref:Je,message:Fe,type:et,...Vt}=De;Cn(n.errors,le,{...Vt,...ue,ref:Ce}),_.state.next({name:le,errors:n.errors,isValid:!1}),ye&&ye.shouldFocus&&Ce&&Ce.focus&&Ce.focus()},ft=(le,ue)=>So(le)?_.values.subscribe({next:ye=>le(X(void 0,ue),ye)}):X(le,ue,!0),dt=(le,ue={})=>{for(const ye of le?mf(le):c.mount)c.mount.delete(ye),c.array.delete(ye),ue.keepValue||(Lr(r,ye),Lr(o,ye)),!ue.keepError&&Lr(n.errors,ye),!ue.keepDirty&&Lr(n.dirtyFields,ye),!ue.keepTouched&&Lr(n.touchedFields,ye),!ue.keepIsValidating&&Lr(n.validatingFields,ye),!e.shouldUnregister&&!ue.keepDefaultValue&&Lr(i,ye);_.values.next({values:{...o}}),_.state.next({...n,...ue.keepDirty?{isDirty:se()}:{}}),!ue.keepIsValid&&A()},pt=({disabled:le,name:ue,field:ye,fields:Ce,value:De})=>{if(Yi(le)&&l.mount||le){const Je=le?void 0:mr(De)?B_(ye?ye._f:_t(Ce,ue)._f):De;(le||!le&&!mr(Je))&&Cn(o,ue,Je),W(ue,Je,!1,!1,!0)}},vt=(le,ue={})=>{let ye=_t(r,le);const Ce=Yi(ue.disabled)||Yi(e.disabled);return Cn(r,le,{...ye||{},_f:{...ye&&ye._f?ye._f:{ref:{name:le}},name:le,mount:!0,...ue}}),c.mount.add(le),ye?pt({field:ye,disabled:Yi(ue.disabled)?ue.disabled:e.disabled,name:le,value:ue.value}):J(le,!0,ue.value),{...Ce?{disabled:ue.disabled||e.disabled}:{},...e.progressive?{required:!!ue.required,min:zd(ue.min),max:zd(ue.max),minLength:zd(ue.minLength),maxLength:zd(ue.maxLength),pattern:zd(ue.pattern)}:{},name:le,onChange:ve,onBlur:ve,ref:De=>{if(De){vt(le,ue),ye=_t(r,le);const Je=mr(De.value)&&De.querySelectorAll&&De.querySelectorAll("input,select,textarea")[0]||De,Fe=i8(Je),et=ye._f.refs||[];if(Fe?et.find(Vt=>Vt===Je):Je===ye._f.ref)return;Cn(r,le,{_f:{...ye._f,...Fe?{refs:[...et.filter(M_),Je,...Array.isArray(_t(i,le))?[{}]:[]],ref:{type:Je.type,name:le}}:{ref:Je}}}),J(le,!1,void 0,Je)}else ye=_t(r,le,{}),ye._f&&(ye._f.mount=!1),(e.shouldUnregister||ue.shouldUnregister)&&!(pR(c.array,le)&&l.action)&&c.unMount.add(le)}}},At=()=>e.shouldFocusError&&gf(r,pe,c.mount),mt=le=>{Yi(le)&&(_.state.next({disabled:le}),gf(r,(ue,ye)=>{const Ce=_t(r,ye);Ce&&(ue.disabled=Ce._f.disabled||le,Array.isArray(Ce._f.refs)&&Ce._f.refs.forEach(De=>{De.disabled=Ce._f.disabled||le}))},0,!1))},ht=(le,ue)=>async ye=>{let Ce;if(ye&&(ye.preventDefault&&ye.preventDefault(),ye.persist&&ye.persist()),e.disabled){ue&&await ue({...n.errors},ye);return}let De=Ai(o);if(_.state.next({isSubmitting:!0}),e.resolver){const{errors:Je,values:Fe}=await oe();n.errors=Je,De=Fe}else await ne(r);if(Lr(n.errors,"root"),ji(n.errors)){_.state.next({errors:{}});try{await le(De,ye)}catch(Je){Ce=Je}}else ue&&await ue({...n.errors},ye),At(),setTimeout(At);if(_.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ji(n.errors)&&!Ce,submitCount:n.submitCount+1,errors:n.errors}),Ce)throw Ce},Nt=(le,ue={})=>{_t(r,le)&&(mr(ue.defaultValue)?je(le,Ai(_t(i,le))):(je(le,ue.defaultValue),Cn(i,le,Ai(ue.defaultValue))),ue.keepTouched||Lr(n.touchedFields,le),ue.keepDirty||(Lr(n.dirtyFields,le),n.isDirty=ue.defaultValue?se(le,Ai(_t(i,le))):se()),ue.keepError||(Lr(n.errors,le),y.isValid&&A()),_.state.next({...n}))},kt=(le,ue={})=>{const ye=le?Ai(le):i,Ce=Ai(ye),De=ji(le),Je=De?i:Ce;if(ue.keepDefaultValues||(i=ye),!ue.keepValues){if(ue.keepDirtyValues){const Fe=new Set([...c.mount,...Object.keys(Wd(i,o))]);for(const et of Array.from(Fe))_t(n.dirtyFields,et)?Cn(Je,et,_t(o,et)):je(et,_t(Je,et))}else{if(u0&&mr(le))for(const Fe of c.mount){const et=_t(r,Fe);if(et&&et._f){const Vt=Array.isArray(et._f.refs)?et._f.refs[0]:et._f.ref;if(Eg(Vt)){const zt=Vt.closest("form");if(zt){zt.reset();break}}}}r={}}o=e.shouldUnregister?ue.keepDefaultValues?Ai(i):{}:Ai(Je),_.array.next({values:{...Je}}),_.values.next({values:{...Je}})}c={mount:ue.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!y.isValid||!!ue.keepIsValid||!!ue.keepDirtyValues,l.watch=!!e.shouldUnregister,_.state.next({submitCount:ue.keepSubmitCount?n.submitCount:0,isDirty:De?!1:ue.keepDirty?n.isDirty:!!(ue.keepDefaultValues&&!Ha(le,i)),isSubmitted:ue.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:De?{}:ue.keepDirtyValues?ue.keepDefaultValues&&o?Wd(i,o):n.dirtyFields:ue.keepDefaultValues&&le?Wd(i,le):ue.keepDirty?n.dirtyFields:{},touchedFields:ue.keepTouched?n.touchedFields:{},errors:ue.keepErrors?n.errors:{},isSubmitSuccessful:ue.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Yt=(le,ue)=>kt(So(le)?le(o):le,ue);return{control:{register:vt,unregister:dt,getFieldState:xe,handleSubmit:ht,setError:at,_executeSchema:oe,_getWatch:X,_getDirty:se,_updateValid:A,_removeUnmounted:B,_updateFieldArray:P,_updateDisabledField:pt,_getFieldArray:fe,_reset:kt,_resetDefaultValues:()=>So(e.defaultValues)&&e.defaultValues().then(le=>{Yt(le,e.resetOptions),_.state.next({isLoading:!1})}),_updateFormState:le=>{n={...n,...le}},_disableForm:mt,_subjects:_,_proxyFormState:y,_setErrors:V,get _fields(){return r},get _formValues(){return o},get _state(){return l},set _state(le){l=le},get _defaultValues(){return i},get _names(){return c},set _names(le){c=le},get _formState(){return n},set _formState(le){n=le},get _options(){return e},set _options(le){e={...e,...le}}},trigger:Ne,register:vt,handleSubmit:ht,watch:ft,setValue:je,getValues:K,reset:Yt,resetField:Nt,clearErrors:ut,unregister:dt,setError:at,setFocus:(le,ue={})=>{const ye=_t(r,le),Ce=ye&&ye._f;if(Ce){const De=Ce.refs?Ce.refs[0]:Ce.ref;De.focus&&(De.focus(),ue.shouldSelect&&So(De.select)&&De.select())}},getFieldState:xe}}function Ls(t={}){const e=An.useRef(void 0),n=An.useRef(void 0),[r,i]=An.useState({isDirty:!1,isValidating:!1,isLoading:So(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:So(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...d8(t),formState:r});const o=e.current.control;return o._options=t,p0({subject:o._subjects.state,next:l=>{gR(l,o._proxyFormState,o._updateFormState,!0)&&i({...o._formState})}}),An.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),An.useEffect(()=>{if(o._proxyFormState.isDirty){const l=o._getDirty();l!==r.isDirty&&o._subjects.state.next({isDirty:l})}},[o,r.isDirty]),An.useEffect(()=>{t.values&&!Ha(t.values,n.current)?(o._reset(t.values,o._options.resetOptions),n.current=t.values,i(l=>({...l}))):o._resetDefaultValues()},[t.values,o]),An.useEffect(()=>{t.errors&&o._setErrors(t.errors)},[t.errors,o]),An.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),An.useEffect(()=>{t.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})},[t.shouldUnregister,o]),e.current.formState=mR(r,o),e.current}const PI=(t,e,n)=>{if(t&&"reportValidity"in t){const r=_t(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},kR=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?PI(r.ref,n,t):r.refs&&r.refs.forEach(i=>PI(i,n,t))}},f8=(t,e)=>{e.shouldUseNativeValidation&&kR(t,e);const n={};for(const r in t){const i=_t(e.fields,r),o=Object.assign(t[r]||{},{ref:i&&i.ref});if(p8(e.names||Object.keys(t),r)){const l=Object.assign({},_t(n,r));Cn(l,"root",o),Cn(n,r,l)}else Cn(n,r,o)}return n},p8=(t,e)=>t.some(n=>n.startsWith(e+"."));var h8=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,o=r.message,l=r.path.join(".");if(!n[l])if("unionErrors"in r){var c=r.unionErrors[0].errors[0];n[l]={message:c.message,type:c.code}}else n[l]={message:o,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(y){return y.errors.forEach(function(_){return t.push(_)})}),e){var d=n[l].types,m=d&&d[r.code];n[l]=bR(l,e,n,i,m?[].concat(m,r.message):r.message)}t.shift()}return n},Ds=function(t,e,n){return n===void 0&&(n={}),function(r,i,o){try{return Promise.resolve(function(l,c){try{var d=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(m){return o.shouldUseNativeValidation&&kR({},o),{errors:{},values:n.raw?r:m}})}catch(m){return c(m)}return d&&d.then?d.then(void 0,c):d}(0,function(l){if(function(c){return Array.isArray(c?.errors)}(l))return{values:{},errors:f8(h8(l.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw l}))}catch(l){return Promise.reject(l)}}};const IR=async({tx:t,userId:e})=>{const n=await t.selectFrom("Default_Inventory as di").select(["di.amount","di.resourceId","di.limit"]).limit(5e3).execute();await t.deleteFrom("User_Inventory").where("userId","=",e).execute();for await(const{amount:r,resourceId:i,limit:o}of n)t.insertInto("User_Inventory").values({id:nr(),userId:e,inventoryId:(await t.insertInto("Inventory").values({id:nr(),amount:r,resourceId:i,limit:o}).returning("id").executeTakeFirstOrThrow()).id}).execute()},m8=async({tx:t,userId:e})=>{await IR({tx:t,userId:e})},g8=()=>Dn({mutationKey:["useRegisterMutation"],async mutationFn({login:t,name:e,password1:n}){return an.transaction().execute(async r=>{const i=hy.parse(await r.insertInto("User").values({id:nr(),name:e,login:t,password:tO.hash(n)}).returning(["User.id","User.name","User.login"]).executeTakeFirstOrThrow());try{await m8({tx:r,userId:i.id})}catch(o){console.error(o)}return i})}}),y8=$.object({name:$.string().min(1),login:$.string().min(1),password1:$.string().min(1),password2:$.string().min(1)}).refine(t=>t.password1===t.password2,{message:"Passwords must match",path:["password1"]}),v8=({onSuccess:t})=>{const e=g8(),n=Ls({resolver:Ds(y8)}),r=Fs({isLoading:n.formState.isLoading,isSubmitting:n.formState.isSubmitting}).slots;return h.jsxs("form",{className:r.base(),onSubmit:n.handleSubmit(async i=>e.mutateAsync(i,{onSuccess:t,onError:o=>{Ew({error:o,errors:[bw({error:o,schema:Sw,onError:({data:l})=>{n.setError("root",{message:l.message})}})],onError:l=>{n.setError("root",{message:l.message})}})}}).catch(()=>{})),children:[h.jsx(ls,{variant:{highlight:!0},error:n.formState.errors.root}),h.jsx(wn,{formState:n.formState,name:"name",label:h.jsx(G,{label:"Name (label)"}),children:h.jsx("input",{type:"text",className:r.input(),...n.register("name")})}),h.jsx(wn,{formState:n.formState,name:"login",label:h.jsx(G,{label:"Login (label)"}),children:h.jsx("input",{type:"text",className:r.input(),...n.register("login")})}),h.jsx(wn,{formState:n.formState,name:"password1",label:h.jsx(G,{label:"Password 1 (label)"}),children:h.jsx("input",{type:"password",className:r.input(),...n.register("password1")})}),h.jsx(wn,{formState:n.formState,name:"password2",label:h.jsx(G,{label:"Password 2 (label)"}),children:h.jsx("input",{type:"password",className:r.input(),...n.register("password2")})}),h.jsx(br,{iconEnabled:"icon-[mdi--register-outline]",iconDisabled:"icon-[mdi--register-outline]",type:"submit",children:h.jsx(G,{label:"Register (submit)"})})]})},b8=en("/$locale/apps/derivean/public/register")({component:()=>{const t=ow();return h.jsx("div",{className:oi(["flex","justify-center","h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:h.jsxs("div",{className:"flex flex-col bg-slate-100 p-20 w-1/2 m-10 drop-shadow-xl",children:[h.jsx("hr",{className:"my-12 h-0.5 border-t-0 bg-slate-300"}),h.jsx(v8,{onSuccess:async e=>{mp.set("session",e),await t({to:"/$locale/apps/derivean/game"})}})]})})}}),_8=en("/$locale/apps/derivean/public/logout")({pendingComponent(){return h.jsx("div",{className:oi(["flex items-center justify-center h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:h.jsx(oR,{icon:s0,textTitle:h.jsx(G,{label:"Logout (label)"}),textMessage:h.jsx(G,{label:"Logout in progress..."}),css:{base:["p-4","bg-slate-200","rounded"]}})})},async loader({params:{locale:t}}){throw mp.remove("session"),Tg({to:"/$locale/apps/derivean/public/login",params:{locale:t}})}}),x8=()=>Dn({mutationKey:["useLoginMutation"],async mutationFn({login:t,password:e}){return an.transaction().execute(async n=>{const r=await n.selectFrom("User as u").select(["u.id","u.login","u.name"]).where("u.login","=",t).where("u.password","=",tO.hash(e)).executeTakeFirstOrThrow();return{id:r.id,login:r.login,name:r.name}})}}),w8=$.object({login:$.string().min(1),password:$.string().min(1)}),S8=({onSuccess:t})=>{const{locale:e}=En({from:"/$locale"}),n=x8(),r=Ls({resolver:Ds(w8)}),i=Fs({isLoading:r.formState.isLoading,isSubmitting:r.formState.isSubmitting}).slots;return h.jsxs("form",{className:i.base(),onSubmit:r.handleSubmit(async o=>n.mutateAsync(o,{onSuccess:t,onError:l=>{Ew({error:l,errors:[bw({error:l,schema:Sw,onError:({data:c})=>{r.setError("root",{message:c.message})}})],onError:c=>{r.setError("root",{message:c.message})}})}}).catch(()=>{})),children:[h.jsx(ls,{variant:{highlight:!0},error:r.formState.errors.root}),h.jsx(wn,{formState:r.formState,name:"login",label:h.jsx(G,{label:"Login (label)"}),children:h.jsx("input",{type:"text",className:i.input(),...r.register("login")})}),h.jsx(wn,{formState:r.formState,name:"password",label:h.jsx(G,{label:"Password (label)"}),children:h.jsx("input",{type:"password",className:i.input(),...r.register("password")})}),h.jsxs("div",{className:"flex flex-row justify-between gap-8",children:[h.jsx(Pn,{icon:"icon-[mdi--register-outline]",to:"/$locale/apps/derivean/public/register",params:{locale:e},children:h.jsx(G,{label:"Register (link)"})}),h.jsx(br,{iconEnabled:"icon-[uiw--login]",iconDisabled:"icon-[uiw--login]",type:"submit",children:h.jsx(G,{label:"Login (submit)"})})]})]})},E8=en("/$locale/apps/derivean/public/login")({component:()=>{const t=ow();return h.jsx("div",{className:oi(["flex","justify-center","h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:h.jsxs("div",{className:"flex flex-col bg-slate-100 p-20 w-1/2 m-10 drop-shadow-xl",children:[h.jsx("hr",{className:"my-12 h-0.5 border-t-0 bg-slate-300"}),h.jsx(S8,{onSuccess:async e=>{mp.set("session",e),await t({to:"/$locale/apps/derivean/game"})}})]})})}}),$_=hi(),N8=[$_({name:"name",header(){return h.jsx(G,{label:"Resource name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceId",t.resourceId)}},size:18}),$_({name:"amount",header(){return h.jsx(G,{label:"Amount (label)"})},render({value:t}){return Sn({number:t})},size:18}),$_({name:"limit",header(){return h.jsx(G,{label:"Inventory limit (label)"})},render({value:t,data:e}){return h.jsxs("div",{className:"flex flex-row items-center gap-2 w-full",children:[h.jsx("div",{children:Sn({number:t})}),h.jsx(gp,{value:100*e.amount/e.limit})]})},size:14})],k8=({table:t,...e})=>h.jsx(fi,{table:pi({...t,columns:N8}),...e}),I8=({shape:t,filter:e})=>Ps({entity:js.merge($.object({userId:$.string().min(1),buildingBaseId:$.string().min(1)})),shape:t,filter:e,sort:["id","userId","buildingBaseId"]}),q8=({shape:t,filter:e})=>Ps({entity:js.merge($.object({name:$.string().min(1),cycles:$.number().int(),productionLimit:$.number().int()})),shape:t,filter:e,sort:["id","name","cycles","productionLimit"]}),T8=({shape:t,filter:e})=>Ps({entity:js.merge($.object({buildingBaseId:$.string().min(1),requirementId:$.string().min(1),amount:$.number()})),shape:t,filter:e,sort:["id","buildingBaseId","requirementId","amount"]}),O8=({shape:t,filter:e})=>Ps({entity:js.merge($.object({buildingBaseId:$.string().min(1),resourceId:$.string().min(1),amount:$.number(),cycles:$.number().int(),limit:$.number().int()})),shape:t,filter:e,sort:["id","buildingBaseId","resourceId","amount","cycles","limit"]}),C8=({shape:t,filter:e})=>Ps({entity:js.merge($.object({buildingBaseProductionId:$.string().min(1),resourceId:$.string().min(1),amount:$.number(),passive:al()})),shape:t,filter:e,sort:["id","buildingBaseProductionId","resourceId","amount","passive"]}),R8=({shape:t,filter:e})=>Ps({entity:js.merge($.object({buildingBaseId:$.string().min(1),resourceId:$.string().min(1),amount:$.number(),passive:al()})),shape:t,filter:e,sort:["id","buildingBaseId","resourceId","amount","passive"]}),A8=({shape:t,filter:e})=>Ps({entity:js.merge($.object({userId:$.string().min(1),buildingBaseId:$.string().min(1),from:$.number().int(),to:$.number().int(),cycle:$.number().int()})),shape:t,filter:e,sort:["id","userId","buildingBaseId","from","to","cycle"]}),j8=({shape:t,filter:e})=>Ps({entity:js.merge($.object({resourceId:$.string().min(1),amount:$.number(),limit:$.number()})),shape:t,filter:e,sort:["id","resourceId","amount","limit"]}),P8=({shape:t,filter:e})=>Ps({entity:js.merge($.object({resourceId:$.string().min(1),amount:$.number(),limit:$.number()})),shape:t,filter:e,sort:["id","resourceId","amount","limit"]}),F8=({shape:t,filter:e})=>Ps({entity:js.merge($.object({name:$.string().min(1)})),shape:t,filter:e,sort:["id","name"]}),L8=({shape:t,filter:e})=>Ps({entity:js.merge($.object({code:$.string().min(1),label:$.string().min(1),group:$.string().nullish(),sort:$.number().int()})),shape:t,filter:e,sort:["id","code","label","group","sort"]}),D8=({shape:t,filter:e})=>Ps({entity:js.merge($.object({name:$.string().min(1),login:$.string().min(1),password:$.string().min(1)})),shape:t,filter:e,sort:["id","name","login","password"]}),g0=P8({shape:$.object({resourceId:$.string().min(1),amount:ic(),limit:ic()}),filter:$i.merge($.object({resourceId:$.string().optional()}))}),_m=en("/$locale/apps/derivean/game/inventory")({validateSearch:Mr(Br(g0)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{kysely:t,session:e},deps:{filter:n,cursor:r}}){const i=await e();return t.transaction().execute(o=>_r({select:o.selectFrom("Inventory as i").innerJoin("Resource as r","r.id","i.resourceId").selectAll("i").select("r.name").where("i.id","in",o.selectFrom("User_Inventory as ui").select("ui.inventoryId").where("ui.userId","=",i.id)).orderBy("r.name"),query({select:l,where:c}){let d=l;if(c?.id&&(d=d.where("i.id","=",c.id)),c?.idIn&&(d=d.where("i.id","in",c.idIn)),c?.fulltext){const m=`%${c.fulltext}%`.toLowerCase();d=d.where(y=>y.or([y("i.id","like",`%${m}%`),y("r.id","like",`%${m}%`),y("r.name","like",`%${m}%`),y("r.id","in",y.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(_=>_.or([_("t.code","like",m),_("t.label","like",m),_("t.group","like",m)])))]))}return d},output:$.object({id:$.string().min(1),name:$.string().min(1),resourceId:$.string().min(1),amount:$.number().nonnegative(),limit:$.number().nonnegative()}),filter:n,cursor:r}))},component(){const{data:t,count:e}=_m.useLoaderData(),{filter:n,cursor:r,selection:i}=_m.useSearch(),o=_m.useNavigate(),{tva:l}=rr({from:"__root__"}),c=l().slots;return h.jsx("div",{className:c.base(),children:h.jsx(k8,{table:{data:t,filter:{value:n,set:Hr(o)},selection:{type:"multi",value:i,set:cs(o)}},fulltext:{value:n?.fulltext,set:Dr(o)},cursor:{count:e,cursor:r,textTotal:h.jsx(G,{label:"Number of items"}),...Vr(o)}})})}}),qR=en("/$locale/apps/derivean/db/schema")({async loader({context:{kysely:t}}){return{tables:await t.introspection.getTables()}},component(){const{tables:t}=qR.useLoaderData(),e=({dataType:i,isNullable:o})=>{const l=i.toLowerCase();let c=`z.never({message: '${i}'})`;switch(l){case"integer":{c="z.number().int()";break}case"float4":{c="z.number()";break}case"datetime":{c="z.string()";break}case"boolean":{c="withBoolSchema()";break}}return l.startsWith("varchar")&&(c=`z.string()${o?"":".min(1)"}`),`
// ${i} / ${o?"nullable":"not nullable"}
${c}${o?".nullish()":""}
`},n=t.map(i=>{const o=i.name.replaceAll("_","");return`
export const with${o}Schema = <
    TShapeSchema extends ShapeSchema,
    TFilterSchema extends FilterSchema,
>({
    shape,
    filter,
}: {
    shape: TShapeSchema;
    filter: TFilterSchema;
}) => {
    return withSourceSchema({
        entity: IdentitySchema.merge(z.object({
                ${i.columns.filter(({name:l})=>l!=="id").map(l=>`
    "${l.name}": ${e(l)}
        `.trim()).join(`,
			`)},
        })),
        shape,
        filter,
        sort: [${i.columns.map(l=>`"${l.name}"`).join(", ")}],
    });
}

export type ${o}Entity = ReturnType<typeof with${o}Schema>['~entity'];
            `.trim()}),r=t.map(i=>{const o=i.name.replaceAll("_","");return`${i.name}: ${o}Entity;`});return h.jsxs("pre",{children:[`
import {
    IdentitySchema,
    withSourceSchema,
    type FilterSchema,
    type ShapeSchema,
    withBoolSchema,
} from "@use-pico/common";
import { z } from "zod";
            `.trim(),`

${n.join(`

`)}`,`

export interface Database {
    ${r.join(`
	`)}
}
                `]})}}),FI=hi(),M8=[FI({name:"name",header(){return h.jsx(G,{label:"User name (label)"})},render({data:t,value:e}){const{locale:n}=En({from:"/$locale"});return h.jsx(Pn,{to:"/$locale/apps/derivean/root/user/$id/view",params:{locale:n,id:t.id},children:e})},size:14}),FI({name:"login",header(){return h.jsx(G,{label:"User login (label)"})},render({value:t}){return t},size:14})],B8=({table:t,...e})=>{const n=Dn({async mutationFn({userId:r}){return an.transaction().execute(i=>IR({tx:i,userId:r}))}});return h.jsx(fi,{table:pi({...t,columns:M8}),action:{row({data:r}){return h.jsx(qr,{children:h.jsx(h4,{icon:Ao,onClick:()=>{vn.promise(n.mutateAsync({userId:r.id}),Un("Apply default inventory"))},children:h.jsx(G,{label:"Apply default inventory (menu)"})})})}},...e})},$8=D8({shape:$.object({name:$.string().min(1),login:$.string().min(1),password:$.string().min(1)}),filter:$i.merge($.object({login:$.string().optional(),password:$.string().optional()}))}),xm=en("/$locale/apps/derivean/root/user/list")({validateSearch:Mr(Br($8)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return t.ensureQueryData({queryKey:["User","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(i=>_r({select:i.selectFrom("User as u").select(["u.id","u.name","u.login"]),output:$.object({id:$.string().min(1),name:$.string().min(1),login:$.string().min(1)}),filter:n,cursor:r}))}})},component:()=>{const{data:t,count:e}=xm.useLoaderData(),{filter:n,cursor:r,selection:i}=xm.useSearch(),o=xm.useNavigate(),{tva:l}=rr({from:"__root__"}),c=l().slots;return h.jsx("div",{className:c.base(),children:h.jsx(B8,{table:{data:t,filter:{value:n,set:Hr(o)},selection:{type:"multi",value:i,set:cs(o)}},fulltext:{value:n?.fulltext,set:Dr(o)},cursor:{count:e,cursor:r,textTotal:h.jsx(G,{label:"Number of users (label)"}),...Vr(o)}})})}}),W8=({entity:t,...e})=>{const{locale:n}=En({from:"/$locale"});return h.jsxs(ma,{...e,children:[h.jsx(Kn,{icon:o0,to:"/$locale/apps/derivean/root/user/$id/view",params:{locale:n,id:t.id},children:h.jsx(G,{label:"View detail (menu)"})}),h.jsx(Kn,{icon:Rs,to:"/$locale/apps/derivean/root/user/$id/building/list",params:{locale:n,id:t.id},children:h.jsx(G,{label:"Building list (menu)"})}),h.jsx(Kn,{icon:Ao,to:"/$locale/apps/derivean/root/user/$id/inventory",params:{locale:n,id:t.id},children:h.jsx(G,{label:"Inventory (menu)"})})]})},z8=t=>{const{locale:e}=En({from:"/$locale"});return h.jsx(pc,{title:({entity:n})=>h.jsx(hc,{icon:o0,title:n.name}),actions:()=>h.jsx(h.Fragment,{children:h.jsx(Pn,{icon:Gu,to:"/$locale/apps/derivean/root/user/list",params:{locale:e},children:h.jsx(G,{label:"User list (label)"})})}),...t})},TR=en("/$locale/apps/derivean/root/user/$id")({async loader({context:{kysely:t},params:{id:e}}){return t.transaction().execute(async n=>({entity:await Ju({select:n.selectFrom("User as u").select(["u.id","u.name"]).where("u.id","=",e),output:$.object({id:$.string().min(1),name:$.string().min(1)})})}))},component(){const{tva:t}=rr({from:"__root__"}),{entity:e}=TR.useLoaderData(),n=t().slots;return h.jsxs("div",{className:n.base(),children:[h.jsx(z8,{entity:e}),h.jsx(W8,{entity:e}),h.jsx(As,{})]})}}),vp=L8({shape:$.object({code:$.string().min(1),label:$.string().min(1),group:$.string().nullish(),sort:Ou()}),filter:$i.merge($.object({code:$.string().optional(),group:$.string().optional()}))}),LI=({mutation:t,defaultValues:e,variant:n,tva:r=Fs,css:i})=>{const o=Ls({resolver:Ds(vp.shape),defaultValues:{sort:0,...e}}),l=r({...n,isLoading:o.formState.isLoading,isSubmitting:o.formState.isSubmitting,css:i}).slots;return h.jsxs("form",{className:l.base(),onSubmit:Do({form:o,mutation:t}),children:[h.jsx(ls,{variant:{highlight:!0},error:o.formState.errors.root}),h.jsx(wn,{formState:o.formState,name:"code",label:h.jsx(G,{label:"Tag code (label)"}),required:!0,children:h.jsx("input",{type:"text",className:l.input(),...o.register("code")})}),h.jsx(wn,{formState:o.formState,name:"label",label:h.jsx(G,{label:"Tag label (label)"}),required:!0,children:h.jsx("input",{type:"text",className:l.input(),...o.register("label")})}),h.jsx(wn,{formState:o.formState,name:"group",label:h.jsx(G,{label:"Tag group (label)"}),children:h.jsx("input",{type:"text",className:l.input(),...o.register("group")})}),h.jsx(wn,{formState:o.formState,name:"sort",label:h.jsx(G,{label:"Tag sort (label)"}),children:h.jsx("input",{type:"number",className:l.input(),...o.register("sort")})}),h.jsx("div",{className:"flex flex-row justify-between gap-8",children:h.jsx(br,{iconEnabled:Hf,type:"submit",children:h.jsx(G,{label:"Save (submit)"})})})]})},W_=hi(),U8=[W_({name:"label",header(){return h.jsx(G,{label:"Tag label (label)"})},render({value:t}){return t},size:14}),W_({name:"code",header(){return h.jsx(G,{label:"Tag code (label)"})},render({value:t}){return t},size:14}),W_({name:"group",header(){return h.jsx(G,{label:"Tag group (label)"})},render({value:t}){return t},filter:{path:"group",onFilter({data:t,filter:e}){e.shallow("group",t.group)}},size:24})],OR=({group:t,table:e,...n})=>{const r=zi([["Tag"],["Resource"]]);return h.jsx(fi,{table:pi({...e,columns:U8}),action:{table(){return h.jsx(qr,{children:h.jsx(jn,{label:h.jsx(G,{label:"Create tag (menu)"}),textTitle:h.jsx(G,{label:"Create tag (modal)"}),icon:Hf,children:h.jsx(LI,{defaultValues:{group:t},mutation:Dn({async mutationFn(i){return vn.promise(an.transaction().execute(o=>o.insertInto("Tag").values({id:nr(),...i}).returningAll().executeTakeFirstOrThrow()),Un("Create tag"))},async onSuccess(){await r()}})})})})},row({data:i}){return h.jsxs(qr,{children:[h.jsx(jn,{label:h.jsx(G,{label:"Edit (menu)"}),textTitle:h.jsx(G,{label:"Edit tag (modal)"}),icon:Hf,children:h.jsx(LI,{defaultValues:{group:t,...i},mutation:Dn({async mutationFn(o){return vn.promise(an.transaction().execute(l=>l.updateTable("Tag").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),Un("Edit tag"))},async onSuccess(){await r()}})})}),h.jsx(jn,{icon:co,label:h.jsx(G,{label:"Delete (menu)"}),textTitle:h.jsx(G,{label:"Delete tag (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:h.jsx(Mo,{callback:async()=>{await an.transaction().execute(o=>o.deleteFrom("Tag").where("id","=",i.id).execute())},textContent:h.jsx(G,{label:"Tag delete (content)"}),textToast:"Tag delete",invalidator:r})})]})}},...n})},wm=en("/$locale/apps/derivean/root/tag/list")({validateSearch:Mr(Br(vp)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return t.ensureQueryData({queryKey:["Tag","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async i=>_r({select:i.selectFrom("Tag as t").select(["t.id","t.code","t.label","t.group","t.sort"]).orderBy("t.sort","desc"),output:$.object({id:$.string().min(1),code:$.string().min(1),label:$.string().min(1),group:$.string().nullish(),sort:$.number().int().nonnegative()}),filter:n,cursor:r}))}})},component:()=>{const{data:t,count:e}=wm.useLoaderData(),{filter:n,cursor:r,selection:i}=wm.useSearch(),o=wm.useNavigate(),{tva:l}=rr({from:"__root__"}),c=l().slots;return h.jsx("div",{className:c.base(),children:h.jsx(OR,{table:{data:t,filter:{value:n,set:Hr(o)},selection:{type:"multi",value:i,set:cs(o)}},fulltext:{value:n?.fulltext,set:Dr(o)},cursor:{count:e,cursor:r,textTotal:h.jsx(G,{label:"Number of items"}),...Vr(o)}})})}}),V8=({group:t,...e})=>h.jsx(lV,{icon:Hf,table:n=>h.jsx(OR,{group:t,...n}),render:({entities:n})=>h.jsx(aR,{tags:n}),queryKey:"Tag",query:async({filter:n,cursor:r})=>an.transaction().execute(async i=>_r({select:i.selectFrom("Tag as t").select(["t.id","t.code","t.label","t.group","t.sort"]),output:vp.entity,query({select:o,where:l}){let c=o;if(l?.id&&(c=c.where("t.id","=",l.id)),l?.idIn&&(c=c.where("t.id","in",l.idIn)),l?.fulltext){const d=`%${l.fulltext}%`.toLowerCase();c=c.where(m=>m.or([m("t.code","like",d),m("t.group","like",d),m("t.label","like",d),m("t.id","like",d)]))}return c},filter:n,cursor:r})),...e}),CR=F8({shape:$.object({name:$.string().min(1),tagIds:$.array($.string()).optional()}),filter:$i.merge($.object({name:$.string().optional()}))}),DI=({group:t="resource",mutation:e,defaultValues:n,variant:r,tva:i=Fs,css:o})=>{const l=Ls({resolver:Ds(CR.shape),defaultValues:n}),c=i({...r,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:o}).slots;return h.jsxs("form",{className:c.base(),onSubmit:Do({form:l,mutation:e}),children:[h.jsx(ls,{variant:{highlight:!0},error:l.formState.errors.root}),h.jsx(wn,{formState:l.formState,name:"name",label:h.jsx(G,{label:"Resource name (label)"}),children:h.jsx("input",{type:"text",className:c.input(),...l.register("name")})}),h.jsx(wn,{formState:l.formState,name:"tagIds",label:h.jsx(G,{label:"Resource tags (label)"}),children:h.jsx(Po,{control:l.control,name:"tagIds",render:({field:{ref:d,...m}})=>h.jsx(V8,{group:t,textTitle:h.jsx(G,{label:"Select resource tags (title)"}),textSelect:h.jsx(G,{label:"Select resource tags (label)"}),allowEmpty:!0,...m})})}),h.jsx("div",{className:"flex flex-row justify-between gap-8",children:h.jsx(br,{iconEnabled:ei,type:"submit",children:h.jsx(G,{label:"Save (submit)"})})})]})},Ud=hi(),H8=[Ud({name:"name",header(){return h.jsx(G,{label:"Resource name (label)"})},render({data:t,value:e}){const{locale:n}=En({from:"/$locale"});return h.jsx(Pn,{to:"/$locale/apps/derivean/root/resource/$id/view",params:{locale:n,id:t.id},children:e})},size:18}),Ud({name:"countProduction",header(){return h.jsx(G,{label:"Resource production count (label)"})},render({value:t}){return h.jsx(ro,{css:{base:t!==void 0&&t===0?["bg-red-100","text-red-500","border-red-600"]:[]},children:Sn({number:t})})},size:12}),Ud({name:"countResourceRequirement",header(){return h.jsx(G,{label:"Resource requirement count (label)"})},render({data:t,value:e}){return h.jsx(ro,{css:{base:t?.countResourceRequirement!==void 0&&t?.countProductionRequirement!==void 0&&t.countResourceRequirement===0&&t.countProductionRequirement===0?["bg-red-100","text-red-500","border-red-600"]:[]},children:Sn({number:e})})},size:12}),Ud({name:"countProductionRequirement",header(){return h.jsx(G,{label:"Resource production requirement count (label)"})},render({data:t,value:e}){return h.jsx(ro,{css:{base:t?.countResourceRequirement!==void 0&&t?.countProductionRequirement!==void 0&&t.countResourceRequirement===0&&t.countProductionRequirement===0?["bg-red-100","text-red-500","border-red-600"]:[]},children:Sn({number:e})})},size:18}),Ud({name:"tags",header(){return h.jsx(G,{label:"Resource tags (label)"})},render({value:t}){return h.jsx(aR,{tags:t})},size:32})],RR=({group:t,table:e,...n})=>{const r=zi([["Resource"],["Resource_Tag"]]);return h.jsx(fi,{table:pi({...e,columns:H8}),action:{table(){return h.jsx(qr,{children:h.jsx(jn,{label:h.jsx(G,{label:"Create resource (menu)"}),textTitle:h.jsx(G,{label:"Create resource (modal)"}),icon:ei,children:({close:i})=>h.jsx(DI,{group:t,mutation:Dn({async mutationFn({name:o,tagIds:l=[]}){return vn.promise(an.transaction().execute(async c=>{const d=await c.insertInto("Resource").values({id:nr(),name:o}).returningAll().executeTakeFirstOrThrow();return l.length&&await c.insertInto("Resource_Tag").values(l.map(m=>({id:nr(),resourceId:d.id,tagId:m}))).execute(),d}),Un("Create resource"))},async onSuccess(){await r(),i()}})})})})},row({data:i}){return h.jsxs(qr,{children:[h.jsx(jn,{label:h.jsx(G,{label:"Edit (menu)"}),textTitle:h.jsx(G,{label:"Edit resource (modal)"}),icon:ei,children:({close:o})=>h.jsx(DI,{defaultValues:{...i,tagIds:i.tags.map(({id:l})=>l)},mutation:Dn({async mutationFn({tagIds:l,...c}){return vn.promise(an.transaction().execute(async d=>{const m=await d.updateTable("Resource").set(c).where("id","=",i.id).returningAll().executeTakeFirstOrThrow();return await d.deleteFrom("Resource_Tag").where("resourceId","=",m.id).execute(),l?.length&&await d.insertInto("Resource_Tag").values(l.map(y=>({id:nr(),resourceId:m.id,tagId:y}))).execute(),m}),Un("Update resource"))},async onSuccess(){await r(),o()}})})}),h.jsx(jn,{icon:co,label:h.jsx(G,{label:"Delete (menu)"}),textTitle:h.jsx(G,{label:"Delete resource (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:h.jsx(Mo,{callback:async()=>an.transaction().execute(async o=>o.deleteFrom("Resource").where("id","=",i.id).execute()),textContent:h.jsx(G,{label:"Resource delete (content)"}),textToast:"Resource delete",invalidator:r})})]})}},...n})},Sm=en("/$locale/apps/derivean/root/resource/list")({validateSearch:Mr(Br(CR)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return t.ensureQueryData({queryKey:["Resource","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(i=>_r({select:i.selectFrom("Resource as r").select(["r.id","r.name",o=>o.selectFrom("Tag as t").select(l=>Nr`json_group_array(json_object(
                                            'id', ${l.ref("t.id")},
                                            'code', ${l.ref("t.code")},
                                            'group', ${l.ref("t.group")},
                                            'sort', ${l.ref("t.sort")},
                                            'label', ${l.ref("t.label")}
                                        ))`.as("tags")).where("t.id","in",i.selectFrom("Resource_Tag as rt").select("rt.tagId").where("rt.resourceId","=",o.ref("r.id"))).as("tags"),o=>o.selectFrom("Building_Base_Resource_Requirement").select(l=>l.fn.count("id").as("count")).where("resourceId","=",o.ref("r.id")).as("countResourceRequirement"),o=>o.selectFrom("Building_Base_Production").select(l=>l.fn.count("id").as("count")).where("resourceId","=",o.ref("r.id")).as("countProduction"),o=>o.selectFrom("Building_Base_Production_Requirement").select(l=>l.fn.count("id").as("count")).where("resourceId","=",o.ref("r.id")).as("countProductionRequirement")]),query({select:o,where:l}){let c=o;if(l?.fulltext){const d=`%${l.fulltext}%`.toLowerCase();c=c.where(m=>m.or([m("r.id","=",d),m("r.name","=",d),m("r.id","in",m.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(y=>y.or([y("t.code","like",d),y("t.label","like",d),y("t.group","like",d)])))]))}return c},output:$.object({id:$.string().min(1),name:$.string().min(1),countResourceRequirement:$.number().nonnegative(),countProduction:$.number().nonnegative(),countProductionRequirement:$.number().nonnegative(),tags:Mi(vp.entity)}),filter:n,cursor:r}))}})},component:()=>{const{data:t,count:e}=Sm.useLoaderData(),{filter:n,cursor:r,selection:i}=Sm.useSearch(),o=Sm.useNavigate(),{tva:l}=rr({from:"__root__"}),c=l().slots;return h.jsx("div",{className:c.base(),children:h.jsx(RR,{table:{data:t,filter:{value:n,set:Hr(o)},selection:{type:"multi",value:i,set:cs(o)}},fulltext:{value:n?.fulltext,set:Dr(o)},cursor:{count:e,cursor:r,textTotal:h.jsx(G,{label:"Number of items"}),...Vr(o)}})})}}),Q8=({entity:t,...e})=>{const{locale:n}=En({from:"/$locale"});return h.jsx(ma,{...e,children:h.jsx(Kn,{icon:ei,to:"/$locale/apps/derivean/root/resource/$id/view",params:{locale:n,id:t.id},children:h.jsx(G,{label:"View detail (menu)"})})})},K8=t=>{const{locale:e}=En({from:"/$locale"});return h.jsx(pc,{title:({entity:n})=>h.jsx(hc,{icon:ei,title:n.name}),actions:()=>h.jsx(h.Fragment,{children:h.jsx(Pn,{icon:Gu,to:"/$locale/apps/derivean/root/resource/list",params:{locale:e},children:h.jsx(G,{label:"Resource list (label)"})})}),...t})},AR=en("/$locale/apps/derivean/root/resource/$id")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return t.ensureQueryData({queryKey:["Resource",n],async queryFn(){return e.transaction().execute(async r=>({entity:await Ju({select:r.selectFrom("Resource as r").select(["r.id","r.name"]).where("r.id","=",n),output:$.object({id:$.string().min(1),name:$.string().min(1)})})}))}})},component:()=>{const{tva:t}=rr({from:"__root__"}),{entity:e}=AR.useLoaderData(),n=t().slots;return h.jsxs("div",{className:n.base(),children:[h.jsx(K8,{entity:e}),h.jsx(Q8,{entity:e}),h.jsx(As,{})]})}}),bp=({group:t,...e})=>h.jsx(sR,{icon:ei,textTitle:h.jsx(G,{label:"Select resource (title)"}),textSelect:h.jsx(G,{label:"Select resource (label)"}),table:n=>h.jsx(RR,{group:t,...n}),render:({entity:n})=>n.name,queryKey:"Resource",query:async({filter:n,cursor:r})=>an.transaction().execute(async i=>_r({select:i.selectFrom("Resource as r").select(["r.id","r.name",o=>o.selectFrom("Tag as t").select(l=>Nr`json_group_array(json_object(
                                            'id', ${l.ref("t.id")},
                                            'code', ${l.ref("t.code")},
                                            'group', ${l.ref("t.group")},
                                            'sort', ${l.ref("t.sort")},
                                            'label', ${l.ref("t.label")}
                                        ))`.as("tags")).where("t.id","in",i.selectFrom("Resource_Tag as rt").select("rt.tagId").where("rt.resourceId","=",o.ref("r.id"))).as("tags")]).orderBy("r.name","asc"),query({select:o,where:l}){let c=o;if(l?.id&&(c=c.where("r.id","=",l.id)),l?.fulltext){const d=`%${l.fulltext}%`.toLowerCase();c=c.where(m=>m.or([m("r.id","like",d),m("r.name","like",d),m("r.id","in",m.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(y=>y.or([y("t.code","like",d),y("t.label","like",d),y("t.group","like",d)])))]))}return c},output:$.object({id:$.string().min(1),name:$.string().min(1),tags:Mi(vp.entity)}),filter:n,cursor:r})),...e}),jR=j8({shape:$.object({resourceId:$.string().min(1),amount:ic(),limit:ic()}),filter:$i}),MI=({mutation:t,defaultValues:e,variant:n,tva:r=Fs,css:i})=>{const o=Ls({resolver:Ds(jR.shape),defaultValues:{amount:0,limit:0,...e}}),l=r({...n,isLoading:o.formState.isLoading,isSubmitting:o.formState.isSubmitting,css:i}).slots;return h.jsxs("form",{className:l.base(),onSubmit:Do({form:o,mutation:t}),children:[h.jsx(ls,{variant:{highlight:!0},error:o.formState.errors.root}),h.jsx(wn,{formState:o.formState,name:"resourceId",label:h.jsx(G,{label:"Resource name (label)"}),children:h.jsx(Po,{control:o.control,name:"resourceId",render:({field:{ref:c,...d}})=>h.jsx(bp,{textTitle:h.jsx(G,{label:"Select resource (title)"}),allowEmpty:!0,...d})})}),h.jsx(wn,{formState:o.formState,name:"amount",label:h.jsx(G,{label:"Amount (label)"}),children:h.jsx("input",{type:"number",className:l.input(),...o.register("amount")})}),h.jsx(wn,{formState:o.formState,name:"limit",label:h.jsx(G,{label:"Limit (label)"}),hint:h.jsx(G,{label:"Inventory limit (hint)"}),children:h.jsx("input",{type:"number",className:l.input(),...o.register("limit")})}),h.jsx("div",{className:"flex flex-row justify-between gap-8",children:h.jsx(br,{iconEnabled:Ao,type:"submit",children:h.jsx(G,{label:"Save (submit)"})})})]})},z_=hi(),G8=[z_({name:"name",header(){return h.jsx(G,{label:"Resource name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceId",t.resourceId)}},size:18}),z_({name:"amount",header(){return h.jsx(G,{label:"Amount (label)"})},render({value:t}){return Sn({number:t})},size:12}),z_({name:"limit",header(){return h.jsx(G,{label:"Inventory limit (label)"})},render({value:t,data:e}){return h.jsxs("div",{className:"flex flex-row items-center gap-2 w-full",children:[h.jsx("div",{children:Sn({number:t})}),h.jsx(gp,{value:100*e.amount/e.limit})]})},size:14})],J8=({table:t,...e})=>{const n=zi([["Default_Inventory"]]);return h.jsx(fi,{table:pi({...t,columns:G8}),action:{table(){return h.jsx(qr,{children:h.jsx(jn,{label:h.jsx(G,{label:"Create inventory item (menu)"}),textTitle:h.jsx(G,{label:"Create inventory item (modal)"}),icon:Ao,children:h.jsx(MI,{mutation:Dn({async mutationFn(r){return vn.promise(an.transaction().execute(async i=>i.insertInto("Default_Inventory").values({id:nr(),...r}).returningAll().executeTakeFirstOrThrow()),Un("Create inventory item"))},async onSuccess(){await n()}})})})})},row({data:r}){return h.jsxs(qr,{children:[h.jsx(jn,{label:h.jsx(G,{label:"Edit (menu)"}),textTitle:h.jsx(G,{label:"Edit inventory item (modal)"}),icon:Ao,children:h.jsx(MI,{defaultValues:r,mutation:Dn({async mutationFn(i){return vn.promise(an.transaction().execute(async o=>o.updateTable("Default_Inventory").set(i).where("id","=",r.id).returningAll().executeTakeFirstOrThrow()),Un("Update inventory item"))},async onSuccess(){await n()}})})}),h.jsx(jn,{icon:co,label:h.jsx(G,{label:"Delete (menu)"}),textTitle:h.jsx(G,{label:"Delete inventory item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:h.jsx(Mo,{callback:async()=>an.transaction().execute(async i=>i.deleteFrom("Default_Inventory").where("id","=",r.id).execute()),textContent:h.jsx(G,{label:"Inventory item delete (content)"}),textToast:"Inventory item delete",invalidator:n})})]})}},...e})},Em=en("/$locale/apps/derivean/root/inventory/default")({validateSearch:Mr(Br(jR)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return t.ensureQueryData({queryKey:["Default_Inventory","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(i=>_r({select:i.selectFrom("Default_Inventory as di").innerJoin("Resource as r","r.id","di.resourceId").select(["di.id","r.name","di.amount","di.limit","di.resourceId"]).orderBy("r.name","asc"),query({select:o,where:l}){let c=o;if(l?.id&&(c=c.where("di.id","=",l.id)),l?.idIn&&(c=c.where("di.id","in",l.idIn)),l?.fulltext){const d=`%${l.fulltext}%`.toLowerCase();c=c.where(m=>m.or([m("di.id","like",`%${d}%`),m("r.id","like",`%${d}%`),m("r.name","like",`%${d}%`),m("r.id","in",m.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(y=>y.or([y("t.code","like",d),y("t.label","like",d),y("t.group","like",d)])))]))}return c},output:$.object({id:$.string().min(1),name:$.string().min(1),resourceId:$.string().min(1),amount:$.number().nonnegative(),limit:$.number().int().nonnegative()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Em.useLoaderData(),{filter:n,cursor:r,selection:i}=Em.useSearch(),o=Em.useNavigate(),{tva:l}=rr({from:"__root__"}),c=l().slots;return h.jsx("div",{className:c.base(),children:h.jsx(J8,{table:{data:t,filter:{value:n,set:Hr(o)},selection:{type:"multi",value:i,set:cs(o)}},fulltext:{value:n?.fulltext,set:Dr(o)},cursor:{count:e,cursor:r,textTotal:h.jsx(G,{label:"Number of items"}),...Vr(o)}})})}}),PR=q8({shape:$.object({name:$.string().min(1),cycles:Ou(),productionLimit:Ou()}),filter:$i.merge($.object({name:$.string().optional()}))}),Zx=({mutation:t,defaultValues:e,variant:n,tva:r=Fs,css:i})=>{const o=Ls({resolver:Ds(PR.shape),defaultValues:{cycles:1,productionLimit:1,...e}}),l=r({...n,isLoading:o.formState.isLoading,isSubmitting:o.formState.isSubmitting,css:i}).slots;return h.jsxs("form",{className:l.base(),onSubmit:Do({form:o,mutation:t}),children:[h.jsx(ls,{variant:{highlight:!0},error:o.formState.errors.root}),h.jsx(wn,{formState:o.formState,name:"name",label:h.jsx(G,{label:"Building name (label)"}),required:!0,children:h.jsx("input",{type:"text",className:l.input(),...o.register("name")})}),h.jsx(wn,{formState:o.formState,name:"productionLimit",label:h.jsx(G,{label:"Production limit (label)"}),hint:h.jsx(G,{label:"How many paralel production lines can run (hint)"}),required:!0,children:h.jsx("input",{type:"number",className:l.input(),...o.register("productionLimit")})}),h.jsx(wn,{formState:o.formState,name:"cycles",label:h.jsx(G,{label:"Construction cycles (label)"}),hint:h.jsx(G,{label:"Amount of cycles to build this building (hint)"}),required:!0,children:h.jsx("input",{type:"number",className:l.input(),...o.register("cycles")})}),h.jsx("div",{className:"flex flex-row justify-between gap-8",children:h.jsx(br,{iconEnabled:Ei,type:"submit",children:h.jsx(G,{label:"Save (submit)"})})})]})},FR=pn({slot:{item:["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2","bg-sky-100","border-sky-300","text-sky-500"]},variant:{missing:{true:[]}},match:[{if:{missing:!0},then:{item:["bg-amber-100","border-amber-300"]}}],defaults:{missing:!1}}),LR=({requirements:t,diff:e,variant:n,tva:r=FR,css:i,...o})=>{const l=r({...n,css:i}).slots;return h.jsx(py,{items:t,render:({entity:c})=>{const d=e?.find(y=>y.buildingBaseId===c.requirementId),m=d?.count?d.count-c.amount:-c.amount;return h.jsxs("div",{className:l.item(),children:[h.jsx("div",{children:c.name}),h.jsxs("div",{className:"text-md font-bold text-slate-500",children:["x",Sn({number:c.amount})]}),e?m>=0?h.jsx(Zt,{icon:"icon-[pajamas--check-sm]",css:{base:["text-emerald-600"]}}):h.jsxs("div",{className:"flex flex-row gao-2 items-center text-sm text-red-500",children:[h.jsx(Zt,{icon:"icon-[charm--cross]",css:{base:["text-red-500"]}}),"(",Sn({number:m}),")"]}):null]})},...o})};var Gh={},BI;function Z8(){if(BI)return Gh;BI=1;function t(r,i,o,l){var c=new Set;return function(d){if(!c.has(d)){var m=new Set,y=[],_=[];for(_.push({node:d,processed:!1});_.length>0;){var N=_[_.length-1],k=N.processed,q=N.node;if(k)_.pop(),y.pop(),m.delete(q),c.add(q),(!i||r.get(q).length===0)&&o.push(q);else{if(c.has(q)){_.pop();continue}else if(m.has(q)){if(l){_.pop();continue}throw y.push(q),new n(y)}m.add(q),y.push(q);for(var T=r.get(q),A=T.length-1;A>=0;A--)_.push({node:T[A],processed:!1});N.processed=!0}}}}}var e=Gh.DepGraph=function(i){this.nodes=new Map,this.outgoingEdges=new Map,this.incomingEdges=new Map,this.circular=i&&!!i.circular};e.prototype={size:function(){return this.nodes.size},addNode:function(r,i){this.hasNode(r)||(arguments.length===2?this.nodes.set(r,i):this.nodes.set(r,r),this.outgoingEdges.set(r,[]),this.incomingEdges.set(r,[]))},removeNode:function(r){this.hasNode(r)&&(this.nodes.delete(r),this.outgoingEdges.delete(r),this.incomingEdges.delete(r),[this.incomingEdges,this.outgoingEdges].forEach(function(i){i.forEach(function(o){var l=o.indexOf(r);l>=0&&o.splice(l,1)})}))},hasNode:function(r){return this.nodes.has(r)},getNodeData:function(r){if(this.hasNode(r))return this.nodes.get(r);throw new Error("Node does not exist: "+r)},setNodeData:function(r,i){if(this.hasNode(r))this.nodes.set(r,i);else throw new Error("Node does not exist: "+r)},addDependency:function(r,i){if(!this.hasNode(r))throw new Error("Node does not exist: "+r);if(!this.hasNode(i))throw new Error("Node does not exist: "+i);return this.outgoingEdges.get(r).indexOf(i)===-1&&this.outgoingEdges.get(r).push(i),this.incomingEdges.get(i).indexOf(r)===-1&&this.incomingEdges.get(i).push(r),!0},removeDependency:function(r,i){var o;this.hasNode(r)&&(o=this.outgoingEdges.get(r).indexOf(i),o>=0&&this.outgoingEdges.get(r).splice(o,1)),this.hasNode(i)&&(o=this.incomingEdges.get(i).indexOf(r),o>=0&&this.incomingEdges.get(i).splice(o,1))},clone:function(){var r=this,i=new e;return r.nodes.forEach(function(o,l){i.nodes.set(l,o),i.outgoingEdges.set(l,r.outgoingEdges.get(l).slice(0)),i.incomingEdges.set(l,r.incomingEdges.get(l).slice(0))}),i.circular=r.circular,i},directDependenciesOf:function(r){if(this.hasNode(r))return this.outgoingEdges.get(r).slice(0);throw new Error("Node does not exist: "+r)},directDependantsOf:function(r){if(this.hasNode(r))return this.incomingEdges.get(r).slice(0);throw new Error("Node does not exist: "+r)},dependenciesOf:function(r,i){if(this.hasNode(r)){var o=[],l=t(this.outgoingEdges,i,o,this.circular);l(r);var c=o.indexOf(r);return c>=0&&o.splice(c,1),o}else throw new Error("Node does not exist: "+r)},dependantsOf:function(r,i){if(this.hasNode(r)){var o=[],l=t(this.incomingEdges,i,o,this.circular);l(r);var c=o.indexOf(r);return c>=0&&o.splice(c,1),o}else throw new Error("Node does not exist: "+r)},overallOrder:function(r){var i=this,o=[],l=Array.from(this.nodes.keys());if(l.length===0)return o;if(!this.circular){var c=t(this.outgoingEdges,!1,[],this.circular);l.forEach(function(m){c(m)})}var d=t(this.outgoingEdges,r,o,this.circular);return l.filter(function(m){return i.incomingEdges.get(m).length===0}).forEach(function(m){d(m)}),this.circular&&l.filter(function(m){return o.indexOf(m)===-1}).forEach(function(m){d(m)}),o},entryNodes:function(){var r=this;return Array.from(this.nodes.keys()).filter(function(i){return r.incomingEdges.get(i).length===0})}},e.prototype.directDependentsOf=e.prototype.directDependantsOf,e.prototype.dependentsOf=e.prototype.dependantsOf;var n=Gh.DepGraphCycleError=function(r){var i="Dependency Cycle Found: "+r.join(" -> "),o=new Error(i);return o.cyclePath=r,Object.setPrototypeOf(o,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(o,n),o};return n.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(n,Error),Gh}var y0=Z8();const Yx=({graph:t,buildingBaseId:e,mode:n="dependencies"})=>{const{locale:r}=En({from:"/$locale"});try{const i=n==="dependants"?t.dependantsOf(e):t.dependenciesOf(e);return h.jsxs("div",{className:oi(["flex","flex-row","gap-2","items-center"]),children:[i.length>0?h.jsx(Zt,{css:{base:["text-emerald-500"]},icon:"icon-[charm--circle-tick]"}):h.jsx(Zt,{css:{base:["text-amber-500"]},icon:"icon-[fe--question]"}),i.length>0?i.map(o=>h.jsx(Pn,{to:"/$locale/apps/derivean/root/building/base/$id/required/buildings",params:{locale:r,id:o},children:h.jsx(ro,{css:{base:["bg-emerald-200","text-emerald-700","border-emerald-500"]},children:t.getNodeData(o)})},nr())):h.jsx(G,{css:{base:["text-amber-500","font-bold"]},label:"No dependents (label)"})]})}catch(i){return i instanceof y0.DepGraphCycleError?h.jsxs("div",{className:oi(["flex","flex-row","gap-2","items-center"]),children:[h.jsx(Zt,{css:{base:["text-red-500"]},icon:"icon-[charm--circle-cross]"}),i.cyclePath.map(o=>h.jsx(Pn,{to:"/$locale/apps/derivean/root/building/base/$id/required/buildings",params:{locale:r,id:o},children:h.jsx(ro,{css:{base:["bg-red-200","text-red-700","border-red-500"]},children:t.getNodeData(o)})},nr()))]}):"kaboom"}},DR=pn({slot:{item:["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2"]},variant:{passive:{true:[]},missing:{true:[]}},match:[{if:{passive:!0},then:{item:["bg-purple-100","border-purple-300","text-purple-500"]}},{if:{passive:!1},then:{item:["bg-sky-100","border-sky-300","text-sky-500"]}},{if:{missing:!0},then:{item:["bg-amber-100","border-amber-300"]}}],defaults:{passive:!1,missing:!1}}),v0=({requirements:t,diff:e,variant:n,tva:r=DR,css:i,...o})=>{const l=r({...n,css:i}).slots;return h.jsx(py,{items:t,render:({entity:c})=>{const d=e?.find(y=>y.resourceId===c.resourceId),m=d?.amount?d.amount-c.amount:-c.amount;return h.jsxs("div",{className:l.item({css:m>=0?[]:["text-red-700","bg-red-100","border-red-300"],passive:c.passive}),children:[h.jsx("div",{children:c.name}),h.jsxs("div",{className:"text-md font-bold text-slate-500",children:["x",Sn({number:c.amount})]}),e?m>=0?h.jsx(Zt,{icon:"icon-[pajamas--check-sm]",css:{base:["text-emerald-600"]}}):h.jsxs("div",{className:"flex flex-row gao-2 items-center text-sm text-red-500",children:[h.jsx(Zt,{icon:"icon-[charm--cross]",css:{base:["text-red-500"]}}),"(",Sn({number:m}),")"]}):null]})},...o})},Jc=hi(),Y8=[Jc({name:"name",header(){return h.jsx(G,{label:"Building name (label)"})},render({data:t,value:e}){const{locale:n}=En({from:"/$locale"});return h.jsx(Pn,{to:"/$locale/apps/derivean/root/building/base/$id/view",params:{locale:n,id:t.id},children:e})},size:10}),Jc({name:"cycles",header(){return h.jsx(G,{label:"Construction cycles (label)"})},render({value:t}){return Sn({number:t})},size:8}),Jc({name:"productionLimit",header(){return h.jsx(G,{label:"Production limit (label)"})},render({value:t}){return Sn({number:t})},size:8}),Jc({name:"requiredResources",header(){return h.jsx(G,{label:"Required resources (label)"})},render({value:t}){return h.jsx(v0,{textTitle:h.jsx(G,{label:"Building requirements (title)"}),textEmpty:h.jsx(G,{label:"No requirements (label)"}),requirements:t,limit:5})},size:54}),Jc({name:"requiredBuildings",header(){return h.jsx(G,{label:"Required buildings (label)"})},render({data:t,value:e,context:{graph:n}}){return h.jsxs("div",{className:"flex flex-col gap-2 items-start justify-center",children:[h.jsx(LR,{textTitle:h.jsx(G,{label:"Building requirements (title)"}),textEmpty:h.jsx(G,{label:"No requirements (label)"}),requirements:e,limit:5}),n?h.jsx(Yx,{graph:n,mode:"dependants",buildingBaseId:t.id}):null]})},size:64}),Jc({name:"graph",header(){return h.jsx(G,{label:"Building dependencies (label)"})},render({data:t,context:{graph:e}}){return e?h.jsx(Yx,{graph:e,buildingBaseId:t.id}):"-"},size:64})],MR=({graph:t,table:e,...n})=>{const r=zi([["Building_Base"],["Inventory"]]);return h.jsx(fi,{table:pi({...e,columns:Y8,context:{graph:t}}),action:{table(){return h.jsx(qr,{children:h.jsx(jn,{label:h.jsx(G,{label:"Create building base (menu)"}),textTitle:h.jsx(G,{label:"Create building base (modal)"}),icon:Ei,children:({close:i})=>h.jsx(Zx,{mutation:Dn({async mutationFn(o){return vn.promise(an.transaction().execute(async l=>l.insertInto("Building_Base").values({id:nr(),...o}).returningAll().executeTakeFirstOrThrow()),Un("Create building base"))},async onSuccess(){await r(),i()}})})})})},row({data:i}){return h.jsxs(qr,{children:[h.jsx(jn,{label:h.jsx(G,{label:"Edit (menu)"}),textTitle:h.jsx(G,{label:"Edit building base (modal)"}),icon:Ei,children:({close:o})=>h.jsx(Zx,{defaultValues:i,mutation:Dn({async mutationFn(l){return vn.promise(an.transaction().execute(async c=>c.updateTable("Building_Base").set(l).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),Un("Update building base"))},async onSuccess(){await r(),o()}})})}),h.jsx(jn,{icon:co,label:h.jsx(G,{label:"Delete (menu)"}),textTitle:h.jsx(G,{label:"Delete building (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:h.jsx(Mo,{callback:async()=>an.transaction().execute(async o=>o.deleteFrom("Building_Base").where("id","=",i.id).execute()),textContent:h.jsx(G,{label:"Building base delete (content)"}),textToast:"Building base delete",invalidator:r})})]})}},...n})},Zu=T8({shape:$.object({requirementId:$.string().min(1),amount:Ou()}),filter:$i.merge($.object({buildingBaseId:$.string().optional(),requirementId:$.string().optional()}))}),mc=R8({shape:$.object({resourceId:$.string().min(1),amount:ic(),passive:$.boolean()}),filter:$i.merge($.object({resourceId:$.string().optional()}))}),BR=t=>h.jsx(sR,{icon:Ei,textTitle:h.jsx(G,{label:"Select building base (title)"}),table:MR,render:({entity:e})=>e.name,queryKey:"Building_Base",query:async({filter:e,cursor:n})=>an.transaction().execute(async r=>_r({select:r.selectFrom("Building_Base as bb").select(["bb.id","bb.name","bb.cycles","bb.productionLimit",i=>i.selectFrom("Building_Base_Resource_Requirement as bbrr").innerJoin("Resource as r","r.id","bbrr.resourceId").select(o=>Nr`json_group_array(json_object(
                                                    'id', ${o.ref("bbrr.id")},
                                                    'amount', ${o.ref("bbrr.amount")},
                                                    'passive', ${o.ref("bbrr.passive")},
                                                    'resourceId', ${o.ref("bbrr.resourceId")},
                                                    'buildingBaseId', ${o.ref("bbrr.buildingBaseId")},
                                                    'name', ${o.ref("r.name")}
                                                ))`.as("requirements")).where("bbrr.buildingBaseId","=",i.ref("bb.id")).as("requiredResources"),i=>i.selectFrom("Building_Base_Building_Base_Requirement as bbbbr").innerJoin("Building_Base as bb","bb.id","bbbbr.buildingBaseId").select(o=>Nr`json_group_array(json_object(
                                                    'id', ${o.ref("bbbbr.id")},
                                                    'amount', ${o.ref("bbbbr.amount")},
                                                    'requirementId', ${o.ref("bbbbr.requirementId")},
                                                    'buildingBaseId', ${o.ref("bbbbr.buildingBaseId")},
                                                    'name', ${o.ref("bb.name")}
                                                ))`.as("requirements")).where("bbbbr.buildingBaseId","=",i.ref("bb.id")).as("requiredBuildings")]).orderBy("bb.name","asc"),query({select:i,where:o}){let l=i;if(o?.id&&(l=l.where("bb.id","=",o.id)),o?.fulltext){const c=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("bb.id","like",c),d("bb.name","like",c)]))}return l},output:$.object({id:$.string().min(1),name:$.string().min(1),cycles:$.number().int(),productionLimit:$.number().int(),requiredResources:Mi(mc.entity.merge($.object({name:$.string().min(1)}))),requiredBuildings:Mi(Zu.entity.merge($.object({name:$.string().min(1)})))}),filter:e,cursor:n})),...t}),b0=I8({shape:$.object({buildingBaseId:$.string().min(1)}),filter:$i.merge($.object({userId:$.string().optional(),buildingBaseId:$.string().optional(),name:$.string().optional()}))}),$I=({mutation:t,defaultValues:e,variant:n,tva:r=Fs,css:i})=>{const o=Ls({resolver:Ds(b0.shape),defaultValues:e}),l=r({...n,isLoading:o.formState.isLoading,isSubmitting:o.formState.isSubmitting,css:i}).slots;return h.jsxs("form",{className:l.base(),onSubmit:Do({form:o,mutation:t}),children:[h.jsx(ls,{variant:{highlight:!0},error:o.formState.errors.root}),h.jsx(wn,{formState:o.formState,name:"buildingBaseId",label:h.jsx(G,{label:"Select building base (label)"}),children:h.jsx(Po,{control:o.control,name:"buildingBaseId",render:({field:{ref:c,...d}})=>h.jsx(BR,{allowEmpty:!0,...d})})}),h.jsx("div",{className:"flex flex-row justify-between gap-8",children:h.jsx(br,{iconEnabled:Rs,type:"submit",children:h.jsx(G,{label:"Save (submit)"})})})]})},X8=hi(),e5=[X8({name:"name",header(){return h.jsx(G,{label:"Building name (label)"})},render({data:t,value:e}){const{locale:n}=En({from:"/$locale"});return h.jsxs("div",{className:"flex flex-row gap-2",children:[h.jsx(Pn,{icon:Ei,to:"/$locale/apps/derivean/root/building/base/$id/view",params:{locale:n,id:t.buildingBaseId}}),h.jsx(Pn,{to:"/$locale/apps/derivean/root/building/$id/view",params:{locale:n,id:t.id},children:e})]})},size:14})],$R=({userId:t,table:e,...n})=>{const r=zi([["Building"]]);return h.jsx(fi,{table:pi({...e,columns:e5}),action:{table:t?()=>h.jsx(qr,{children:h.jsx(jn,{label:h.jsx(G,{label:"Create building (menu)"}),textTitle:h.jsx(G,{label:"Create building (modal)"}),icon:ei,children:h.jsx($I,{mutation:Dn({async mutationFn(i){return vn.promise(an.transaction().execute(o=>o.insertInto("Building").values({id:nr(),...i,userId:t}).returningAll().executeTakeFirstOrThrow()),Un("Create building"))},async onSuccess(){await r()}})})})}):void 0,row({data:i}){return h.jsxs(qr,{children:[h.jsx(jn,{label:h.jsx(G,{label:"Edit (menu)"}),textTitle:h.jsx(G,{label:"Edit building (modal)"}),icon:Rs,children:h.jsx($I,{defaultValues:i,mutation:Dn({async mutationFn(o){return vn.promise(an.transaction().execute(l=>l.updateTable("Building").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),Un("Edit building"))},async onSuccess(){await r()}})})}),h.jsx(jn,{icon:co,label:h.jsx(G,{label:"Delete (menu)"}),textTitle:h.jsx(G,{label:"Delete building (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:h.jsx(Mo,{callback:async()=>an.transaction().execute(async o=>o.deleteFrom("Building").where("id","=",i.id).execute()),textContent:h.jsx(G,{label:"Building delete (content)"}),textToast:"Building delete",invalidator:r})})]})}},...n})},Nm=en("/$locale/apps/derivean/root/building/list")({validateSearch:Mr(Br(b0)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return t.ensureQueryData({queryKey:["Building","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async i=>_r({select:i.selectFrom("Building as b").innerJoin("Building_Base as bb","bb.id","b.id").select(["b.id","bb.name","b.buildingBaseId"]),output:$.object({id:$.string().min(1),name:$.string().min(1),buildingBaseId:$.string().min(1)}),filter:n,cursor:r}))}})},component:()=>{const{data:t,count:e}=Nm.useLoaderData(),{filter:n,cursor:r,selection:i}=Nm.useSearch(),o=Nm.useNavigate(),{tva:l}=rr({from:"__root__"}),c=l().slots;return h.jsx("div",{className:c.base(),children:h.jsx($R,{table:{data:t,filter:{value:n,set:Hr(o)},selection:{type:"multi",value:i,set:cs(o)}},fulltext:{value:n?.fulltext,set:Dr(o)},cursor:{count:e,cursor:r,textTotal:h.jsx(G,{label:"Number of buildings (label)"}),...Vr(o)}})})}}),WR=async()=>{const t=new y0.DepGraph({circular:!1});for await(const{id:e,name:n}of await an.selectFrom("Building_Base").select(["id","name"]).execute())t.addNode(e,n);for await(const{buildingBaseId:e,requirementId:n}of await an.selectFrom("Building_Base_Building_Base_Requirement").select(["buildingBaseId","requirementId"]).execute())t.addDependency(n,e);return t},t5=en("/$locale/apps/derivean/root/building/base")({async loader(){return{graph:await WR()}}}),n5=({entity:t,...e})=>{const{locale:n}=En({from:"/$locale"});return h.jsx(ma,{...e,children:h.jsx(Kn,{icon:Rs,to:"/$locale/apps/derivean/root/building/$id/view",params:{locale:n,id:t.id},children:h.jsx(G,{label:"View detail (label)"})})})},r5=t=>{const{locale:e}=En({from:"/$locale"});return h.jsx(pc,{title:({entity:n})=>h.jsx(hc,{icon:Rs,title:n.name}),actions:()=>h.jsx(h.Fragment,{children:h.jsx(Pn,{icon:Gu,to:"/$locale/apps/derivean/root/building/list",params:{locale:e},children:h.jsx(G,{label:"Building list (label)"})})}),...t})},zR=en("/$locale/apps/derivean/root/building/$id")({async loader({context:{kysely:t},params:{id:e}}){return t.transaction().execute(async n=>({entity:await Ju({select:n.selectFrom("Building as b").innerJoin("Building_Base as bb","bb.id","b.buildingBaseId").select(["b.id","bb.name"]).where("b.id","=",e),output:$.object({id:$.string().min(1),name:$.string().min(1)})})}))},component(){const{tva:t}=rr({from:"__root__"}),{entity:e}=zR.useLoaderData(),n=t().slots;return h.jsxs("div",{className:n.base(),children:[h.jsx(r5,{entity:e}),h.jsx(n5,{entity:e}),h.jsx(As,{})]})}}),i5=hi(),s5=[i5({name:"name",header(){return h.jsx(G,{label:"Building name (label)"})},render({data:t,value:e}){const{locale:n}=En({from:"/$locale"});return h.jsxs("div",{className:"flex flex-row items-center gap-2 w-full",children:[h.jsx("div",{children:h.jsxs(ro,{css:{base:["flex","flex-row","items-center","gap-1",t.queueCount>0?["bg-emerald-200","border-emerald-400"]:["bg-amber-200","border-amber-400"]]},children:[h.jsx(Zt,{icon:ei,variant:{size:"sm"}}),t.queueCount]})}),h.jsx("div",{children:h.jsx(Pn,{to:"/$locale/apps/derivean/game/building/$id/production/list",params:{locale:n,id:t.id},children:e})})]})},size:24})],o5=({table:t,...e})=>h.jsx(fi,{table:pi({...t,columns:s5}),...e}),km=en("/$locale/apps/derivean/game/building/list")({validateSearch:Mr(Br({filter:$i})),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{kysely:t,session:e},deps:{filter:n,cursor:r}}){const i=await e();return t.transaction().execute(async o=>_r({select:o.selectFrom(o.selectFrom("Building as b").innerJoin("Building_Base as bb","bb.id","b.buildingBaseId").select(["b.id","bb.name",l=>l.selectFrom("Building_Resource_Queue as brq").select(c=>c.fn.count("brq.id").as("queueCount")).whereRef("brq.buildingId","=","b.id").as("queueCount")]).where("b.userId","=",i.id).as("queue")).selectAll().orderBy("queue.queueCount","asc").orderBy("queue.name","asc"),output:$.object({id:$.string().min(1),name:$.string().min(1),queueCount:$.number().int()}),filter:n,cursor:r}))},component:()=>{const{data:t,count:e}=km.useLoaderData(),{filter:n,cursor:r}=km.useSearch(),i=km.useNavigate(),{tva:o}=rr({from:"__root__"}),l=o().slots;return h.jsx("div",{className:l.base(),children:h.jsx(o5,{table:{data:t,filter:{value:n,set:Hr(i)}},fulltext:{value:n?.fulltext,set:Dr(i)},cursor:{count:e,cursor:r,textTotal:h.jsx(G,{label:"Number of items"}),...Vr(i)}})})}}),a5=en("/$locale/apps/derivean/game/building/construction")({async loader(){return{graph:await WR()}}}),l5=({entity:t,...e})=>{const{locale:n}=En({from:"/$locale"});return h.jsxs(ma,{...e,children:[h.jsx(Kn,{icon:Rs,to:"/$locale/apps/derivean/game/building/$id/view",params:{locale:n,id:t.id},children:h.jsx(G,{label:"View detail (menu)"})}),h.jsx(Kn,{icon:jo,to:"/$locale/apps/derivean/game/building/$id/production/list",params:{locale:n,id:t.id},children:h.jsx(G,{label:"Building production (menu)"})})]})},c5=t=>{const{locale:e}=En({from:"/$locale"});return h.jsx(pc,{title:({entity:n})=>h.jsx(hc,{icon:Rs,title:n.name}),actions:()=>h.jsx(h.Fragment,{children:h.jsx(Pn,{icon:Gu,to:"/$locale/apps/derivean/game/building/list",params:{locale:e},children:h.jsx(G,{label:"Building list (label)"})})}),...t})},UR=en("/$locale/apps/derivean/game/building/$id")({async loader({context:{kysely:t},params:{id:e}}){return t.transaction().execute(async n=>({entity:await Ju({select:n.selectFrom("Building as b").innerJoin("Building_Base as bb","bb.id","b.buildingBaseId").select(["b.id","bb.name","bb.productionLimit",r=>r.selectFrom("Building_Resource_Queue as brq").select(i=>i.fn.count("brq.id").as("queueCount")).where("brq.buildingId","=",e).as("queueCount")]).where("b.id","=",e),output:$.object({id:$.string().min(1),name:$.string().min(1),productionLimit:$.number().int(),queueCount:$.number().int()})})}))},component(){const{tva:t}=rr({from:"__root__"}),{entity:e}=UR.useLoaderData(),n=t().slots;return h.jsxs("div",{className:n.base(),children:[h.jsx(c5,{entity:e}),h.jsx(l5,{entity:e}),h.jsx(As,{})]})}}),u5=en("/$locale/apps/derivean/root/user/$id/view")({component:()=>"yep"}),WI=({mutation:t,defaultValues:e,variant:n,tva:r=Fs,css:i})=>{const o=Ls({resolver:Ds(g0.shape),defaultValues:{amount:0,limit:0,...e}}),l=r({...n,isLoading:o.formState.isLoading,isSubmitting:o.formState.isSubmitting,css:i}).slots;return h.jsxs("form",{className:l.base(),onSubmit:Do({form:o,mutation:t}),children:[h.jsx(ls,{variant:{highlight:!0},error:o.formState.errors.root}),h.jsx(wn,{formState:o.formState,name:"resourceId",label:h.jsx(G,{label:"Resource name (label)"}),children:h.jsx(Po,{control:o.control,name:"resourceId",render:({field:{ref:c,...d}})=>h.jsx(bp,{textTitle:h.jsx(G,{label:"Select resource (title)"}),allowEmpty:!0,...d})})}),h.jsx(wn,{formState:o.formState,name:"amount",label:h.jsx(G,{label:"Amount (label)"}),children:h.jsx("input",{type:"number",className:l.input(),...o.register("amount")})}),h.jsx(wn,{formState:o.formState,name:"limit",label:h.jsx(G,{label:"Inventory limit (label)"}),children:h.jsx("input",{type:"number",className:l.input(),...o.register("limit")})}),h.jsx("div",{className:"flex flex-row justify-between gap-8",children:h.jsx(br,{iconEnabled:Ao,type:"submit",children:h.jsx(G,{label:"Save (submit)"})})})]})},U_=hi(),d5=[U_({name:"name",header(){return h.jsx(G,{label:"Resource name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceId",t.resourceId)}},size:18}),U_({name:"amount",header(){return h.jsx(G,{label:"Amount (label)"})},render({value:t}){return Sn({number:t})},size:12}),U_({name:"limit",header(){return h.jsx(G,{label:"Inventory limit (label)"})},render({value:t,data:e}){return h.jsxs("div",{className:"flex flex-row items-center gap-2 w-full",children:[h.jsx("div",{children:Sn({number:t})}),h.jsx(gp,{value:100*e.amount/e.limit})]})},size:14})],f5=({onCreate:t,table:e,...n})=>{const r=zi([["Inventory"],["User_Inventory"],["Building_Base_Production"]]);return h.jsx(fi,{table:pi({...e,columns:d5}),action:{table:t?()=>h.jsx(qr,{children:h.jsx(jn,{label:h.jsx(G,{label:"Create inventory item (menu)"}),textTitle:h.jsx(G,{label:"Create inventory item (modal)"}),icon:Ao,children:h.jsx(WI,{mutation:Dn({async mutationFn(i){return vn.promise(an.transaction().execute(async o=>{const l=await o.insertInto("Inventory").values({id:nr(),...i}).returningAll().executeTakeFirstOrThrow();return await t?.({tx:o,entity:l}),l}),Un("Create inventory item"))},async onSuccess(){await r()}})})})}):void 0,row({data:i}){return h.jsxs(qr,{children:[h.jsx(jn,{label:h.jsx(G,{label:"Edit (menu)"}),textTitle:h.jsx(G,{label:"Edit inventory item (modal)"}),icon:Ao,children:h.jsx(WI,{defaultValues:i,mutation:Dn({async mutationFn(o){return vn.promise(an.transaction().execute(async l=>l.updateTable("Inventory").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),Un("Update inventory item"))},async onSuccess(){await r()}})})}),h.jsx(jn,{icon:co,label:h.jsx(G,{label:"Delete (menu)"}),textTitle:h.jsx(G,{label:"Delete inventory item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:h.jsx(Mo,{callback:async()=>an.transaction().execute(async o=>o.deleteFrom("Inventory").where("id","=",i.id).execute()),textContent:h.jsx(G,{label:"Inventory item delete (content)"}),textToast:"Inventory item delete",invalidator:r})})]})}},...n})},Yd=en("/$locale/apps/derivean/root/user/$id/inventory")({validateSearch:Mr(Br(g0)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Inventory","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(o=>_r({select:o.selectFrom("Inventory as i").innerJoin("Resource as r","r.id","i.resourceId").select(["i.id","i.resourceId","r.name","i.amount","i.limit"]).where("i.id","in",o.selectFrom("User_Inventory as ui").where("ui.userId","=",i).select("ui.inventoryId")).orderBy("r.name","asc"),query({select:l,where:c}){let d=l;if(c?.id&&(d=d.where("i.id","=",c.id)),c?.idIn&&(d=d.where("i.id","in",c.idIn)),c?.fulltext){const m=`%${c.fulltext}%`.toLowerCase();d=d.where(y=>y.or([y("i.id","like",`%${m}%`),y("r.id","like",`%${m}%`),y("r.name","like",`%${m}%`),y("r.id","in",y.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(_=>_.or([_("t.code","like",m),_("t.label","like",m),_("t.group","like",m)])))]))}return d},output:$.object({id:$.string().min(1),resourceId:$.string().min(1),name:$.string().min(1),amount:$.number().nonnegative(),limit:$.number().nonnegative()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Yd.useLoaderData(),{filter:n,cursor:r,selection:i}=Yd.useSearch(),o=Yd.useNavigate(),{id:l}=Yd.useParams(),{tva:c}=rr({from:"__root__"}),d=c().slots;return h.jsx("div",{className:d.base(),children:h.jsx(f5,{onCreate:async({tx:m,entity:y})=>m.insertInto("User_Inventory").values({id:nr(),userId:l,inventoryId:y.id}).execute(),table:{data:t,filter:{value:n,set:Hr(o)},selection:{type:"multi",value:i,set:cs(o)}},fulltext:{value:n?.fulltext,set:Dr(o)},cursor:{count:e,cursor:r,textTotal:h.jsx(G,{label:"Number of items"}),...Vr(o)}})})}}),p5=en("/$locale/apps/derivean/root/resource/$id/view")({component:()=>h.jsx("div",{children:'Hello "/$locale/apps/derivean/root/resource/$id/view/"!'})}),Im=en("/$locale/apps/derivean/root/building/base/list")({validateSearch:Mr(Br(PR,{size:100})),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return t.ensureQueryData({queryKey:["Building_Base","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async i=>_r({select:i.selectFrom("Building_Base as bb").select(["bb.id","bb.name","bb.cycles","bb.productionLimit",o=>o.selectFrom("Building_Base_Resource_Requirement as bbrr").innerJoin("Resource as r","r.id","bbrr.resourceId").select(l=>Nr`json_group_array(json_object(
                                                                        'id', ${l.ref("bbrr.id")},
                                                                        'amount', ${l.ref("bbrr.amount")},
                                                                        'passive', ${l.ref("bbrr.passive")},
                                                                        'resourceId', ${l.ref("bbrr.resourceId")},
                                                                        'buildingBaseId', ${l.ref("bbrr.buildingBaseId")},
                                                                        'name', ${l.ref("r.name")}
                                                                    ))`.as("requirements")).where("bbrr.buildingBaseId","=",o.ref("bb.id")).as("requiredResources"),o=>o.selectFrom("Building_Base_Building_Base_Requirement as bbbbr").innerJoin("Building_Base as bb2","bb2.id","bbbbr.requirementId").select(l=>Nr`json_group_array(json_object(
                                                        'id', ${l.ref("bbbbr.id")},
                                                        'amount', ${l.ref("bbbbr.amount")},
                                                        'requirementId', ${l.ref("bbbbr.requirementId")},
                                                        'buildingBaseId', ${l.ref("bbbbr.buildingBaseId")},
                                                        'name', ${l.ref("bb2.name")}
                                                    ))`.as("requirements")).where("bbbbr.buildingBaseId","=",o.ref("bb.id")).orderBy("bb2.name","asc").as("requiredBuildings")]).orderBy("bb.name","asc"),query({select:o,where:l}){let c=o;if(l?.fulltext){const d=`%${l.fulltext}%`.toLowerCase();c=c.where(m=>m.or([m("bb.id","like",d),m("bb.name","like",d),m("bb.id","in",m.selectFrom("Building_Base_Resource_Requirement as bbrr").innerJoin("Resource as r","r.id","bbrr.resourceId").select("bbrr.buildingBaseId").where(y=>y.or([y("r.name","like",d)]))),m("bb.id","in",m.selectFrom("Building_Base_Building_Base_Requirement as bbbbr").innerJoin("Building_Base as bb","bb.id","bbbbr.requirementId").select("bbbbr.buildingBaseId").where(y=>y.or([y("bb.name","like",d)])))]))}return c},output:$.object({id:$.string().min(1),name:$.string().min(1),cycles:$.number().nonnegative(),productionLimit:$.number().nonnegative(),requiredResources:Mi(mc.entity.merge($.object({name:$.string().min(1)}))),requiredBuildings:Mi(Zu.entity.merge($.object({name:$.string().min(1)})))}),filter:n,cursor:r}))}})},component:()=>{const{data:t,count:e}=Im.useLoaderData(),{filter:n,cursor:r,selection:i}=Im.useSearch(),o=Im.useNavigate(),{tva:l}=rr({from:"__root__"}),{graph:c}=Os({from:"/$locale/apps/derivean/root/building/base"}),d=l().slots;return h.jsx("div",{className:d.base(),children:h.jsx(MR,{graph:c,table:{data:t,filter:{value:n,set:Hr(o)},selection:{type:"multi",value:i,set:cs(o)}},fulltext:{value:n?.fulltext,set:Dr(o)},cursor:{count:e,cursor:r,textTotal:h.jsx(G,{label:"Number of building bases (label)"}),...Vr(o)}})})}}),h5=({entity:t,...e})=>{const{locale:n}=En({from:"/$locale"});return h.jsxs(ma,{...e,children:[h.jsx(Kn,{icon:Ei,to:"/$locale/apps/derivean/root/building/base/$id/view",params:{locale:n,id:t.id},children:h.jsx(G,{label:"View detail (menu)"})}),h.jsx(Kn,{icon:ei,to:"/$locale/apps/derivean/root/building/base/$id/required/resources",params:{locale:n,id:t.id},children:h.jsx(G,{label:"Required resources (menu)"})}),h.jsx(Kn,{icon:Rs,to:"/$locale/apps/derivean/root/building/base/$id/required/buildings",params:{locale:n,id:t.id},children:h.jsx(G,{label:"Required buildings (menu)"})}),h.jsx(Kn,{icon:jo,to:"/$locale/apps/derivean/root/building/base/$id/production",params:{locale:n,id:t.id},children:h.jsx(G,{label:"Resource production (menu)"})}),h.jsx(Kn,{icon:F6,to:"/$locale/apps/derivean/root/building/base/$id/edit",params:{locale:n,id:t.id},children:h.jsx(G,{label:"Edit (menu)"})})]})},m5=t=>{const{locale:e}=En({from:"/$locale"});return h.jsx(pc,{title:({entity:n})=>h.jsx(hc,{icon:Ei,title:n.name}),actions:()=>h.jsx(Pn,{icon:Gu,to:"/$locale/apps/derivean/root/building/base/list",params:{locale:e},children:h.jsx(G,{label:"Base building list (label)"})}),...t})},_p=O8({shape:$.object({resourceId:$.string().min(1),amount:ic(),cycles:Ou(),limit:Ou()}),filter:$i.merge($.object({buildingBaseId:$.string().optional(),resourceId:$.string().optional()}))}),VR=en("/$locale/apps/derivean/root/building/base/$id")({async loader({context:{kysely:t},params:{id:e}}){return t.transaction().execute(async n=>({entity:await Ju({select:n.selectFrom("Building_Base as bb").select(["bb.id","bb.name","bb.cycles","bb.productionLimit",r=>r.selectFrom("Building_Base_Resource_Requirement as bbrr").innerJoin("Resource as r","r.id","bbrr.resourceId").select(i=>Nr`json_group_array(json_object(
                                            'id', ${i.ref("bbrr.id")},
                                            'amount', ${i.ref("bbrr.amount")},
                                            'passive', ${i.ref("bbrr.passive")},
                                            'resourceId', ${i.ref("bbrr.resourceId")},
                                            'buildingBaseId', ${i.ref("bbrr.buildingBaseId")},
                                            'name', ${i.ref("r.name")}
                                        ))`.as("requirements")).where("bbrr.buildingBaseId","=",r.ref("bb.id")).orderBy("r.name","asc").as("requiredResources"),r=>r.selectFrom("Building_Base_Building_Base_Requirement as bbbbr").innerJoin("Building_Base as bb2","bb2.id","bbbbr.requirementId").select(i=>Nr`json_group_array(json_object(
                                            'id', ${i.ref("bbbbr.id")},
                                            'amount', ${i.ref("bbbbr.amount")},
                                            'requirementId', ${i.ref("bbbbr.requirementId")},
                                            'buildingBaseId', ${i.ref("bbbbr.buildingBaseId")},
                                            'name', ${i.ref("bb2.name")}
                                        ))`.as("requirements")).where("bbbbr.buildingBaseId","=",r.ref("bb.id")).orderBy("bb2.name","asc").as("requiredBuildings"),r=>r.selectFrom("Building_Base_Production as bbp").innerJoin("Resource as r","r.id","bbp.resourceId").select(i=>Nr`json_group_array(json_object(
                                            'id', ${i.ref("bbp.id")},
                                            'amount', ${i.ref("bbp.amount")},
                                            'cycles', ${i.ref("bbp.cycles")},
                                            'limit', ${i.ref("bbp.limit")},
                                            'resourceId', ${i.ref("bbp.resourceId")},
                                            'buildingBaseId', ${i.ref("bbp.buildingBaseId")},
                                            'name', ${i.ref("r.name")}
                                        ))`.as("requirements")).where("bbp.buildingBaseId","=",r.ref("bb.id")).orderBy("r.name","asc").as("productions")]).where("bb.id","=",e),output:$.object({id:$.string().min(1),name:$.string().min(1),cycles:$.number().nonnegative(),productionLimit:$.number().nonnegative(),requiredResources:Mi(mc.entity.merge($.object({name:$.string().min(1)}))),requiredBuildings:Mi(Zu.entity.merge($.object({name:$.string().min(1)}))),productions:Mi(_p.entity.merge($.object({name:$.string().min(1)})))})})}))},component(){const{tva:t}=rr({from:"__root__"}),{entity:e}=VR.useLoaderData(),n=t().slots;return h.jsxs("div",{className:n.base(),children:[h.jsx(m5,{entity:e}),h.jsx(h5,{entity:e}),h.jsx(As,{})]})}}),g5=t=>h.jsx(YO,{items:[{id:"name",label:h.jsx(G,{label:"Building name (label)"}),render({entity:e}){return e.name}}],...t}),y5=en("/$locale/apps/derivean/root/building/$id/view")({component(){const{entity:t}=Os({from:"/$locale/apps/derivean/root/building/$id"});return h.jsx("div",{className:"w-1/2 mx-auto",children:h.jsx(g5,{entity:t})})}}),v5=async({buildingBaseId:t,userId:e})=>new Promise(n=>{setTimeout(async()=>an.transaction().execute(async r=>{const i=await r.selectFrom("Building_Base_Resource_Requirement as bbrr").select(["bbrr.resourceId","bbrr.amount","bbrr.passive"]).where("bbrr.buildingBaseId","=",t).execute();for await(const{resourceId:c,amount:d,passive:m}of i){const y=await r.selectFrom("Inventory as i").innerJoin("User_Inventory as ui","ui.inventoryId","i.id").select(["i.id","i.amount"]).where("ui.userId","=",e).where("i.resourceId","=",c).where("i.amount",">=",d).executeTakeFirstOrThrow();m||await r.updateTable("Inventory").set({amount:y.amount-d}).where("id","=",y.id).execute()}const{count:o}=await r.selectFrom("Cycle as c").select(c=>c.fn.count("c.id").as("count")).executeTakeFirstOrThrow(),l=await r.selectFrom("Building_Base as bb").select(["bb.cycles"]).where("bb.id","=",t).executeTakeFirstOrThrow();await r.insertInto("Building_Queue").values({id:nr(),buildingBaseId:t,userId:e,cycle:0,from:o,to:o+l.cycles}).execute(),n(void 0)}),c0)}),b5=({requirements:t,diff:e,variant:n,tva:r=FR,css:i,...o})=>{const l=r({...n,css:i}).slots;return h.jsx(py,{items:t,render:({entity:c})=>{const d=e?.find(y=>y.buildingBaseId===c.requirementId),m=d?.count?d.count-c.amount:-c.amount;return h.jsxs("div",{className:l.item({css:m>=0?[]:["text-red-700","bg-red-100","border-red-300"]}),children:[h.jsx("div",{children:c.name}),h.jsxs("div",{className:"text-md font-bold text-slate-500",children:["x",Sn({number:c.amount})]}),e?m>=0?h.jsx(Zt,{icon:"icon-[pajamas--check-sm]",css:{base:["text-emerald-600"]}}):h.jsxs("div",{className:"flex flex-row gao-2 items-center text-sm text-red-500",children:[h.jsx(Zt,{icon:"icon-[charm--cross]",css:{base:["text-red-500"]}}),"(",Sn({number:m}),")"]}):null]})},...o})},_5=({graph:t,buildingBaseId:e,buildingCounts:n,mode:r="dependencies"})=>{try{const i=r==="dependants"?t.dependantsOf(e):t.dependenciesOf(e),o=i.every(l=>n.some(c=>l===c.buildingBaseId));return h.jsxs("div",{className:oi(["flex","flex-row","flex-wrap","gap-2","items-center"]),children:[i.length>0?o?h.jsx(Zt,{css:{base:["text-emerald-500"]},icon:"icon-[charm--circle-tick]"}):h.jsx(Zt,{css:{base:["text-red-500"]},icon:"icon-[system-uicons--cross-circle]"}):h.jsx(Zt,{css:{base:["text-amber-500"]},icon:"icon-[fe--question]"}),i.length>0?i.map(l=>{const{locale:c}=En({from:"/$locale"}),d=n.find(m=>l===m.buildingBaseId);return h.jsx(Pn,{to:"/$locale/apps/derivean/game/building/construction/list",params:{locale:c},search:{filter:{buildingBaseId:l}},children:(d?.count||0)>0?h.jsx(ro,{css:{base:["bg-emerald-200","text-emerald-700","border-emerald-500"]},children:t.getNodeData(l)},nr()):h.jsx(ro,{css:{base:["bg-amber-200","text-amber-700","border-amber-500"]},children:t.getNodeData(l)},nr())})}):h.jsx(G,{css:{base:["text-amber-500","font-bold"]},label:"No dependents (label)"})]})}catch(i){return i instanceof y0.DepGraphCycleError?h.jsxs("div",{className:oi(["flex","flex-row","gap-2","items-center"]),children:[h.jsx(Zt,{css:{base:["text-red-500"]},icon:"icon-[charm--circle-cross]"}),i.cyclePath.map(o=>h.jsx(ro,{css:{base:["bg-red-200","text-red-700","border-red-500"]},children:t.getNodeData(o)},nr()))]}):"kaboom"}},HR=({requirements:t,diff:e,variant:n,tva:r=DR,css:i,...o})=>{const{locale:l}=En({from:"/$locale"}),c=r({...n,css:i}).slots;return h.jsx(py,{items:t,render:({entity:d})=>{const m=e?.find(_=>_.resourceId===d.resourceId),y=m?.amount?m.amount-d.amount:-d.amount;return h.jsxs("div",{className:c.item({css:y>=0?[]:["text-red-700","bg-red-100","border-red-300"],passive:d.passive}),children:[h.jsx(Pn,{to:"/$locale/apps/derivean/game/building/production/resource/list",params:{locale:l},search:{filter:{resourceId:d.resourceId}},children:d.name}),h.jsx("div",{}),h.jsxs("div",{className:"text-md font-bold text-slate-500",children:["x",Sn({number:d.amount})]}),e?y>=0?h.jsx(Zt,{icon:"icon-[pajamas--check-sm]",css:{base:["text-emerald-600"]}}):h.jsxs("div",{className:"flex flex-row gao-2 items-center text-sm text-red-500",children:[h.jsx(Zt,{icon:"icon-[charm--cross]",css:{base:["text-red-500"]}}),"(",Sn({number:y}),")"]}):null]})},...o})},x5=({entity:t,userId:e,graph:n,inventory:r,buildingCounts:i})=>{const{locale:o}=En({from:"/$locale"}),l=zi([["Building_Queue"],["Inventory"],["User_Inventory"]]),c=Dn({async mutationFn({buildingBaseId:m}){return vn.promise(v5({buildingBaseId:m,userId:e}),Un("Building queue"))},async onSuccess(){await l()}}),d=t.withAvailableBuildings&&t.withAvailableResources;return h.jsxs("div",{className:oi(["flex","flex-col","gap-2","bg-slate-100","rounded-lg","p-4","border","border-slate-300",d?["bg-emerald-50","border-emerald-300"]:t.withAvailableBuildings?["bg-amber-50","border-amber-300"]:["bg-red-50","border-red-300"]]),children:[h.jsxs("div",{className:oi(["flex","flex-row","gap-2","justify-between","border-b","border-slate-300","py-2"]),children:[h.jsx("div",{className:oi(["flex","flex-row","gap-2","items-center","font-bold","text-lg"]),children:h.jsxs("div",{className:oi(["flex","gap-2","items-center"]),children:[h.jsx(Pn,{icon:Rs,to:"/$locale/apps/derivean/game/building/base/$id/view",params:{locale:o,id:t.id},children:t.name}),h.jsxs("div",{className:oi(["flex","gap-2","items-center","text-slate-500"]),children:[h.jsx(Zt,{variant:{size:"xl"},icon:Kx}),Sn({number:t.cycles})]})]})}),h.jsx("div",{className:oi(["flex","flex-row","gap-2","items-center","font-bold","text-sm","text-slate-500"]),children:h.jsx(br,{iconEnabled:Gx,iconDisabled:Gx,variant:{variant:d?"primary":"subtle"},onClick:()=>{c.mutate({buildingBaseId:t.id})},disabled:!d,loading:c.isPending})})]}),h.jsxs("div",{children:[h.jsx("div",{className:oi(["border-b","border-slate-300","pb-2"]),children:h.jsx(_5,{graph:n,mode:"dependants",buildingBaseId:t.id,buildingCounts:i})}),h.jsx("div",{className:oi(["border-b","border-slate-300","py-2"]),children:h.jsx(b5,{textTitle:h.jsx(G,{label:"Building requirements (title)"}),textEmpty:h.jsx(G,{label:"No requirements (label)"}),requirements:t.requiredBuildings,diff:i})}),h.jsx("div",{className:oi(["pt-2"]),children:h.jsx(HR,{textTitle:h.jsx(G,{label:"Building requirements (title)"}),textEmpty:h.jsx(G,{label:"No requirements (label)"}),requirements:t.requiredResources,diff:r})})]})]})},w5=({data:t,userId:e,graph:n,inventory:r,buildingCounts:i,fulltext:o})=>h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx($C,{...o}),h.jsx("div",{className:"grid grid-cols-4 gap-4",children:t.map(l=>h.jsx(x5,{entity:l,userId:e,graph:n,inventory:r,buildingCounts:i},l.id))})]}),qm=en("/$locale/apps/derivean/game/building/construction/list")({validateSearch:Mr(Br({filter:$i.merge($.object({buildingBaseId:$.string().optional()}))},{size:30})),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{kysely:t,session:e},deps:{filter:n,cursor:r}}){const i=await e();return t.transaction().execute(async o=>{const l=o.selectFrom("Building_Base as bb").select(["bb.id",Nr`
                CASE
                  WHEN NOT EXISTS (
                    SELECT 1
                    FROM Building_Base_Resource_Requirement bbrr
                    LEFT JOIN (
                      SELECT
                        i.resourceId,
                        i.amount
                      FROM
                        Inventory i
                      INNER JOIN User_Inventory ui
                        ON i.id = ui.inventoryId
                      WHERE
                        ui.userId = ${i.id}
                      GROUP BY
                        i.resourceId
                    ) resource
                    ON bbrr.resourceId = resource.resourceId
                    WHERE bbrr.buildingBaseId = bb.id
                      AND (resource.amount IS NULL OR resource.amount < bbrr.amount)
                  ) THEN true ELSE false END
              `.as("withAvailableResources"),Nr`
                CASE
                  WHEN NOT EXISTS (
                    SELECT 1
                    FROM Building_Base_Building_Base_Requirement bbbbr
                    LEFT JOIN (
                      SELECT
                        b.buildingBaseId,
                        COUNT(*) AS builtCount
                      FROM
                        Building b
                      WHERE
                        b.userId = ${i.id}
                      GROUP BY
                        b.buildingBaseId
                    ) building
                    ON bbbbr.requirementId = building.buildingBaseId
                    WHERE bbbbr.buildingBaseId = bb.id
                      AND (building.builtCount IS NULL OR building.builtCount < bbbbr.amount)
                  ) THEN true ELSE false END
              `.as("withAvailableBuildings")]);return _r({select:o.selectFrom("Building_Base as bb").innerJoin(l.as("filter"),"bb.id","filter.id").select(["bb.id","bb.name","bb.id as buildingBaseId","bb.cycles","filter.withAvailableBuildings","filter.withAvailableResources",c=>c.selectFrom("Building_Base_Resource_Requirement as bbrr").innerJoin("Resource as r","r.id","bbrr.resourceId").select(d=>Nr`json_group_array(json_object(
                                                                'id', ${d.ref("bbrr.id")},
                                                                'amount', ${d.ref("bbrr.amount")},
                                                                'passive', ${d.ref("bbrr.passive")},
                                                                'resourceId', ${d.ref("bbrr.resourceId")},
                                                                'buildingBaseId', ${d.ref("bbrr.buildingBaseId")},
                                                                'name', ${d.ref("r.name")}
                                                            ))`.as("requirements")).where("bbrr.buildingBaseId","=",c.ref("bb.id")).orderBy("r.name","asc").as("requiredResources"),c=>c.selectFrom("Building_Base_Building_Base_Requirement as bbbbr").innerJoin("Building_Base as bb2","bb2.id","bbbbr.requirementId").select(d=>Nr`json_group_array(json_object(
                                                'id', ${d.ref("bbbbr.id")},
                                                'amount', ${d.ref("bbbbr.amount")},
                                                'requirementId', ${d.ref("bbbbr.requirementId")},
                                                'buildingBaseId', ${d.ref("bbbbr.buildingBaseId")},
                                                'name', ${d.ref("bb2.name")}
                                            ))`.as("requirements")).where("bbbbr.buildingBaseId","=",c.ref("bb.id")).orderBy("bb2.name","asc").as("requiredBuildings")]).orderBy("filter.withAvailableBuildings","desc").orderBy("filter.withAvailableResources","desc").orderBy("bb.name","asc"),query({select:c,where:d}){let m=c;if(d?.buildingBaseId&&(m=m.where("bb.id","=",d.buildingBaseId)),d?.fulltext){const y=`%${d.fulltext}%`.toLowerCase();m=m.where(_=>_.or([_("bb.id","like",y),_("bb.name","like",y),_("bb.id","in",_.selectFrom("Building_Base_Resource_Requirement as bbrr").innerJoin("Resource as r","r.id","bbrr.resourceId").select("bbrr.buildingBaseId").where(N=>N.or([N("r.name","like",y)]))),_("bb.id","in",_.selectFrom("Building_Base_Building_Base_Requirement as bbbbr").innerJoin("Building_Base as bb","bb.id","bbbbr.requirementId").select("bbbbr.buildingBaseId").where(N=>N.or([N("bb.name","like",y)])))]))}return m},output:$.object({id:$.string().min(1),name:$.string().min(1),cycles:$.number().nonnegative(),withAvailableBuildings:al(),withAvailableResources:al(),requiredResources:Mi(mc.entity.merge($.object({name:$.string().min(1)}))),requiredBuildings:Mi(Zu.entity.merge($.object({name:$.string().min(1)})))}),filter:n,cursor:r})})},component(){const{data:t,count:e}=qm.useLoaderData(),{filter:n,cursor:r}=qm.useSearch(),i=qm.useNavigate(),{tva:o}=rr({from:"__root__"}),l=o().slots,{inventory:c,session:d,buildingCounts:m}=Os({from:"/$locale/apps/derivean/game"}),{graph:y}=Os({from:"/$locale/apps/derivean/game/building/construction"});return h.jsx("div",{className:l.base(),children:h.jsx(w5,{data:t,userId:d.id,inventory:c,buildingCounts:m,graph:y,fulltext:{value:n?.fulltext,onFulltext:Dr(i)}})})}}),S5=({entity:t,...e})=>{const{locale:n}=En({from:"/$locale"});return h.jsx(ma,{...e,children:h.jsx(Kn,{icon:Ei,to:"/$locale/apps/derivean/game/building/base/$id/view",params:{locale:n,id:t.id},children:h.jsx(G,{label:"View detail (menu)"})})})},E5=t=>{const{locale:e}=En({from:"/$locale"});return h.jsx(pc,{title:({entity:n})=>h.jsx(hc,{icon:Ei,title:n.name}),actions:()=>h.jsx(Pn,{icon:Gu,to:"/$locale/apps/derivean/game/building/construction/list",params:{locale:e},children:h.jsx(G,{label:"Building base list (label)"})}),...t})},QR=en("/$locale/apps/derivean/game/building/base/$id")({async loader({context:{kysely:t},params:{id:e}}){return t.transaction().execute(async n=>({entity:await n.selectFrom("Building_Base as bb").select(["bb.id","bb.name"]).where("bb.id","=",e).executeTakeFirstOrThrow()}))},component(){const{tva:t}=rr({from:"__root__"}),{entity:e}=QR.useLoaderData(),n=t().slots;return h.jsxs("div",{className:n.base(),children:[h.jsx(E5,{entity:e}),h.jsx(S5,{entity:e}),h.jsx(As,{})]})}}),N5=en("/$locale/apps/derivean/game/building/$id/view")({component(){return"detail"}}),Xd=en("/$locale/apps/derivean/root/user/$id/building/list")({validateSearch:Mr(Br(b0)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Building","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(o=>_r({select:o.selectFrom("Building as b").innerJoin("Building_Base as bb","bb.id","b.buildingBaseId").select(["b.id","bb.name","b.buildingBaseId"]).where("b.userId","=",i),output:$.object({id:$.string().min(1),name:$.string().min(1),buildingBaseId:$.string().min(1)}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Xd.useLoaderData(),{filter:n,cursor:r,selection:i}=Xd.useSearch(),{id:o}=Xd.useParams(),l=Xd.useNavigate(),{tva:c}=rr({from:"__root__"}),d=c().slots;return h.jsx("div",{className:d.base(),children:h.jsx($R,{userId:o,table:{data:t,filter:{value:n,set:Hr(l)},selection:{type:"multi",value:i,set:cs(l)}},fulltext:{value:n?.fulltext,set:Dr(l)},cursor:{count:e,cursor:r,textTotal:h.jsx(G,{label:"Number of buildings (label)"}),...Vr(l)}})})}}),k5="icon-[carbon--document-requirements]",I5=({entity:t,...e})=>{const{locale:n}=En({from:"/$locale"});return h.jsxs(ma,{...e,children:[h.jsx(Kn,{icon:jo,to:"/$locale/apps/derivean/root/building/base/production/$id/view",params:{locale:n,id:t.id},children:h.jsx(G,{label:"View detail (menu)"})}),h.jsx(Kn,{icon:k5,to:"/$locale/apps/derivean/root/building/base/production/$id/requirements",params:{locale:n,id:t.id},children:h.jsx(G,{label:"Production requirements (menu)"})})]})},q5=t=>{const{locale:e}=En({from:"/$locale"});return h.jsx(pc,{title:({entity:n})=>h.jsx(hc,{icon:jo,title:n.name,subtitle:n.buildingName}),actions:({entity:n})=>h.jsx(h.Fragment,{children:h.jsx(Pn,{icon:Ei,to:"/$locale/apps/derivean/root/building/base/$id/production",params:{locale:e,id:n.buildingBaseId},children:h.jsx(G,{label:"Building base detail (label)"})})}),...t})},KR=en("/$locale/apps/derivean/root/building/base/production/$id")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return t.ensureQueryData({queryKey:["Building_Base_Production",n],async queryFn(){return e.transaction().execute(async r=>({entity:await Ju({select:r.selectFrom("Building_Base_Production as bbp").innerJoin("Resource as r","r.id","bbp.resourceId").innerJoin("Building_Base as bb","bb.id","bbp.buildingBaseId").select(["bbp.id","bbp.amount","bbp.cycles","bbp.limit","r.name","bbp.buildingBaseId","bb.name as buildingName"]).where("bbp.id","=",n),output:$.object({id:$.string().min(1),name:$.string().min(1),buildingBaseId:$.string().min(1),buildingName:$.string().min(1),amount:$.number().nonnegative(),cycles:$.number().int().nonnegative(),limit:$.number().int().nonnegative()})})}))}})},component(){const{entity:t}=KR.useLoaderData(),{tva:e}=rr({from:"__root__"}),n=e().slots;return h.jsxs("div",{className:n.base(),children:[h.jsx(q5,{entity:t}),h.jsx(I5,{entity:t}),h.jsx(As,{})]})}}),T5=({graph:t,...e})=>h.jsx(YO,{items:[{id:"name",label:h.jsx(G,{label:"Building name (label)"}),render({entity:n}){return n.name}},{id:"cycles",label:h.jsx(G,{label:"Construction cycles (label)"}),render({entity:n}){return Sn({number:n.cycles})}},{id:"productionLimit",label:h.jsx(G,{label:"Production limit (label)"}),render({entity:n}){return Sn({number:n.productionLimit})}},{id:"required.resources",label:h.jsx(G,{label:"Required resources (label)"}),render({entity:n}){return h.jsx(v0,{requirements:n.requiredResources,textEmpty:h.jsx(G,{label:"No requirements (label)"})})}},{id:"required.buildings",label:h.jsx(G,{label:"Required buildings (label)"}),render({entity:n}){return h.jsx(LR,{requirements:n.requiredBuildings,textEmpty:h.jsx(G,{label:"No requirements (label)"})})}},{id:"deps",label:h.jsx(G,{label:"Building dependencies (label)"}),render({entity:n}){return h.jsx(Yx,{graph:t,buildingBaseId:n.id})}}],...e}),O5=en("/$locale/apps/derivean/root/building/base/$id/view")({component:()=>{const{entity:t}=Os({from:"/$locale/apps/derivean/root/building/base/$id"}),{graph:e}=Os({from:"/$locale/apps/derivean/root/building/base"});return h.jsx("div",{className:"w-1/2 mx-auto",children:h.jsx(T5,{graph:e,entity:t})})}}),zI=({mutation:t,defaultValues:e,variant:n,tva:r=Fs,css:i})=>{const o=Ls({resolver:Ds(_p.shape),defaultValues:{amount:1,limit:1,cycles:1,...e}}),l=r({...n,isLoading:o.formState.isLoading,isSubmitting:o.formState.isSubmitting,css:i}).slots;return h.jsxs("form",{className:l.base(),onSubmit:Do({form:o,mutation:t}),children:[h.jsx(ls,{variant:{highlight:!0},error:o.formState.errors.root}),h.jsx(wn,{formState:o.formState,name:"resourceId",label:h.jsx(G,{label:"Resource name (label)"}),children:h.jsx(Po,{control:o.control,name:"resourceId",render:({field:{ref:c,...d}})=>h.jsx(bp,{textTitle:h.jsx(G,{label:"Select resource (title)"}),allowEmpty:!0,...d})})}),h.jsx(wn,{formState:o.formState,name:"amount",label:h.jsx(G,{label:"Amount (label)"}),children:h.jsx("input",{type:"number",className:l.input(),...o.register("amount")})}),h.jsx(wn,{formState:o.formState,name:"cycles",label:h.jsx(G,{label:"Production cycles (label)"}),hint:h.jsx(G,{label:"Production cycles (hint)"}),children:h.jsx("input",{type:"number",className:l.input(),...o.register("cycles")})}),h.jsx(wn,{formState:o.formState,name:"limit",label:h.jsx(G,{label:"Production limit (label)"}),hint:h.jsx(G,{label:"Production limit (hint)"}),children:h.jsx("input",{type:"number",className:l.input(),...o.register("limit")})}),h.jsx("div",{className:"flex flex-row justify-between gap-8",children:h.jsx(br,{iconEnabled:jo,type:"submit",children:h.jsx(G,{label:"Save (submit)"})})})]})},Vd=hi(),C5=[Vd({name:"name",header(){return h.jsx(G,{label:"Resource name (label)"})},render({data:t,value:e}){const{locale:n}=En({from:"/$locale"});return h.jsx(Pn,{to:"/$locale/apps/derivean/root/building/base/production/$id/requirements",params:{locale:n,id:t.id},children:e})},size:14}),Vd({name:"amount",header(){return h.jsx(G,{label:"Amount (label)"})},render({value:t}){return Sn({number:t})},size:10}),Vd({name:"cycles",header(){return h.jsx(G,{label:"Production cycles (label)"})},render({value:t}){return Sn({number:t})},size:10}),Vd({name:"requirements",header(){return h.jsx(G,{label:"Required resources (label)"})},render({value:t}){return h.jsx(v0,{textTitle:h.jsx(G,{label:"Resource requirements (title)"}),textEmpty:h.jsx(G,{label:"No requirements (label)"}),requirements:t,limit:5})},size:32}),Vd({name:"limit",header(){return h.jsx(G,{label:"Production limit (label)"})},render({value:t}){return t===0?h.jsx(G,{label:"Unlimited (label)"}):Sn({number:t})},size:10})],R5=({buildingBaseId:t,table:e,...n})=>{const r=zi([["Building_Base_Production"],["Resource"]]);return h.jsx(fi,{table:pi({...e,columns:C5}),action:{table(){return h.jsx(qr,{children:h.jsx(jn,{label:h.jsx(G,{label:"Create building base production (menu)"}),textTitle:h.jsx(G,{label:"Create building base production (modal)"}),icon:jo,children:({close:i})=>h.jsx(zI,{mutation:Dn({async mutationFn(o){return vn.promise(an.transaction().execute(async l=>await l.insertInto("Building_Base_Production").values({id:nr(),...o,buildingBaseId:t}).returningAll().executeTakeFirstOrThrow()),Un("Create building base production"))},async onSuccess(){await r(),i()}})})})})},row({data:i}){return h.jsxs(qr,{children:[h.jsx(jn,{label:h.jsx(G,{label:"Edit (menu)"}),textTitle:h.jsx(G,{label:"Edit building base production (modal)"}),icon:jo,children:h.jsx(zI,{defaultValues:i,mutation:Dn({async mutationFn(o){return vn.promise(an.transaction().execute(async l=>l.updateTable("Building_Base_Production").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),Un("Update building base production"))},async onSuccess(){await r()}})})}),h.jsx(jn,{icon:co,label:h.jsx(G,{label:"Delete (menu)"}),textTitle:h.jsx(G,{label:"Delete building production (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:h.jsx(Mo,{callback:async()=>an.transaction().execute(async o=>o.deleteFrom("Building_Base_Production").where("id","=",i.id).execute()),textContent:h.jsx(G,{label:"Building base production delete (content)"}),textToast:"Building base production delete",invalidator:r})})]})}},...n})},gy=C8({shape:$.object({resourceId:$.string().min(1),amount:ic(),passive:$.boolean()}),filter:$i.merge($.object({}))}),ef=en("/$locale/apps/derivean/root/building/base/$id/production")({validateSearch:Mr(Br(_p)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Building_Base_Production","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async o=>_r({select:o.selectFrom("Building_Base_Production as bbp").innerJoin("Building_Base as bb","bb.id","bbp.buildingBaseId").innerJoin("Resource as r","r.id","bbp.resourceId").select(["bbp.id","r.name","bbp.amount","bbp.buildingBaseId","bbp.limit","bbp.cycles","bbp.resourceId",l=>l.selectFrom("Building_Base_Production_Requirement as bbpr").innerJoin("Resource as r","r.id","bbpr.resourceId").select(c=>Nr`json_group_array(json_object(
                                                'id', ${c.ref("bbpr.id")},
                                                'amount', ${c.ref("bbpr.amount")},
                                                'passive', ${c.ref("bbpr.passive")},
                                                'buildingBaseProductionId', ${c.ref("bbpr.buildingBaseProductionId")},
                                                'resourceId', ${c.ref("bbpr.resourceId")},
                                                'name', ${c.ref("r.name")}
                                            ))`.as("requirements")).where("bbpr.buildingBaseProductionId","=",l.ref("bbp.id")).as("requirements")]).where("bbp.buildingBaseId","=",i).orderBy("r.name","asc"),output:$.object({id:$.string().min(1),name:$.string().min(1),buildingBaseId:$.string().min(1),resourceId:$.string().min(1),amount:$.number().nonnegative(),limit:$.number().nonnegative(),cycles:$.number().nonnegative(),requirements:Mi(gy.entity.merge($.object({name:$.string().min(1)})))}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=ef.useLoaderData(),{filter:n,cursor:r,selection:i}=ef.useSearch(),{id:o}=ef.useParams(),l=ef.useNavigate(),{tva:c}=rr({from:"__root__"}),d=c().slots;return h.jsx("div",{className:d.base(),children:h.jsx(R5,{buildingBaseId:o,table:{data:t,filter:{value:n,set:Hr(l)},selection:{type:"multi",value:i,set:cs(l)}},fulltext:{value:n?.fulltext,set:Dr(l)},cursor:{count:e,cursor:r,textTotal:h.jsx(G,{label:"Number of productions (label)"}),...Vr(l)}})})}}),GR=en("/$locale/apps/derivean/root/building/base/$id/edit")({component:()=>{const{entity:t}=Os({from:"/$locale/apps/derivean/root/building/base/$id"}),e=GR.useNavigate(),n=zi([["Building_Base"]]);return h.jsx("div",{className:"w-1/2 mx-auto",children:h.jsx(Zx,{defaultValues:t,mutation:Dn({async mutationFn(r){return vn.promise(an.transaction().execute(async i=>i.updateTable("Building_Base").set(r).where("id","=",t.id).returningAll().executeTakeFirstOrThrow()),Un("Update building"))},async onSuccess(){await n(),e({to:"/$locale/apps/derivean/root/building/base/$id/view",params:{id:t.id}})}})})})}}),Hd=hi(),A5=[Hd({name:"name",header(){return h.jsx(G,{label:"Building name (label)"})},render({data:t,value:e}){const{locale:n}=En({from:"/$locale"});return h.jsx(Pn,{to:"/$locale/apps/derivean/game/building/$id/production/list",params:{locale:n,id:t.buildingId},children:e})},size:12}),Hd({name:"resource",header(){return h.jsx(G,{label:"Resource name (label)"})},render({value:t}){return t},size:12}),Hd({name:"amount",header(){return h.jsx(G,{label:"Resource amount (label)"})},render({value:t}){return h.jsxs(ro,{children:["x",Sn({number:t})]})},size:12}),Hd({name:"cycle",header(){return h.jsx(G,{label:"Building cycle (label)"})},render({data:t}){const e=t.to-t.from;return h.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[h.jsx("div",{className:"font-bold",children:t.cycle}),h.jsx("div",{className:"text-slate-500",children:"/"}),h.jsx("div",{className:"text-sm",children:e})]})},size:8}),Hd({name:"progress",header(){return h.jsx(G,{label:"Resource progress (label)"})},render({data:t}){const e=t.to-t.from;return h.jsx(gp,{css:{progress:e===t.cycle?["bg-emerald-500"]:void 0},value:100*t.cycle/e})},size:30})],j5=({table:t,...e})=>h.jsx(fi,{table:pi({...t,columns:A5}),...e}),JR=A8({shape:$.object({}),filter:$i.merge($.object({}))}),Tm=en("/$locale/apps/derivean/game/building/production/resource/queue")({validateSearch:Mr(Br(JR)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{kysely:t,session:e},deps:{filter:n,cursor:r}}){const i=await e();return t.transaction().execute(async o=>_r({select:o.selectFrom("Building_Resource_Queue as brq").innerJoin("Building_Base_Production as bbp","bbp.id","brq.buildingBaseProductionId").innerJoin("Resource as r","r.id","bbp.resourceId").innerJoin("Building_Base as bb","bb.id","bbp.buildingBaseId").select(["brq.id","brq.buildingId","bb.name","bbp.amount","r.name as resource","brq.cycle","brq.from","brq.to"]).where("brq.userId","=",i.id),output:$.object({id:$.string().min(1),name:$.string().min(1),resource:$.string().min(1),buildingId:$.string().min(1),cycle:$.number(),amount:$.number(),from:$.number(),to:$.number()}),filter:n,cursor:r}))},component:()=>{const{data:t,count:e}=Tm.useLoaderData(),{filter:n,cursor:r}=Tm.useSearch(),i=Tm.useNavigate(),{tva:o}=rr({from:"__root__"}),l=o().slots;return h.jsx("div",{className:l.base(),children:h.jsx(j5,{table:{data:t,filter:{value:n,set:Hr(i)}},fulltext:{value:n?.fulltext,set:Dr(i)},cursor:{count:e,cursor:r,textTotal:h.jsx(G,{label:"Items in building queue (label)"}),...Vr(i)}})})}}),P5=async({userId:t,buildingId:e,buildingBaseProductionId:n})=>new Promise(r=>{setTimeout(async()=>an.transaction().execute(async i=>{const o=await i.selectFrom("Building_Base_Production as bbp").select(["bbp.cycles"]).where("bbp.id","=",n).executeTakeFirstOrThrow(),{count:l}=await i.selectFrom("Cycle as c").select(d=>d.fn.count("c.id").as("count")).where("c.userId","=",t).executeTakeFirstOrThrow(),c=await i.selectFrom("Building_Base_Production_Requirement as bbpr").innerJoin("Resource as r","r.id","bbpr.resourceId").select(["bbpr.resourceId","bbpr.amount","bbpr.passive"]).where("bbpr.buildingBaseProductionId","=",n).execute();for await(const{resourceId:d,amount:m,passive:y}of c){const _=await i.selectFrom("Inventory as i").innerJoin("User_Inventory as ui","ui.inventoryId","i.id").select(["i.id","i.amount"]).where("ui.userId","=",t).where("i.resourceId","=",d).where("i.amount",">=",m).executeTakeFirstOrThrow();y||await i.updateTable("Inventory").set({amount:_.amount-m}).where("id","=",_.id).execute()}await i.insertInto("Building_Resource_Queue").values({id:nr(),buildingId:e,buildingBaseProductionId:n,userId:t,cycle:0,from:l,to:l+o.cycles}).execute(),r(void 0)}),c0)}),Zc=hi(),F5=[Zc({name:"name",header(){return h.jsx(G,{label:"Resource name (label)"})},render({data:t,value:e,context:{userId:n}}){const r=zi([["Building_Base_Production"],["Building_Resource_Queue"],["Inventory"],["User_Inventory"]]),i=t.withAvailableResources&&t.queueCount<t.productionLimit,o=Dn({mutationKey:["Building_Base_Production"],mutationFn:async()=>vn.promise(P5({userId:n,buildingBaseProductionId:t.id,buildingId:t.buildingId}),Un("Resource production queue")),async onSuccess(){await r()}});return h.jsx(br,{iconEnabled:t.queueCount>0?"icon-[bi--bag-check]":jo,iconDisabled:t.queueCount>0?"icon-[bi--bag-check]":jo,disabled:!i,css:{base:["w-full","items-start","justify-start"]},variant:{variant:i||t.queueCount>0?"primary":"subtle"},loading:o.isPending,onClick:()=>o.mutate(),children:e})},size:14}),Zc({name:"building",header(){return h.jsx(G,{label:"Building name (label)"})},render({data:t,value:e}){const{locale:n}=En({from:"/$locale"});return h.jsx(Pn,{to:"/$locale/apps/derivean/game/building/$id/view",params:{locale:n,id:t.id},children:e})},size:14}),Zc({name:"requirements",header(){return h.jsx(G,{label:"Required resources (label)"})},render({value:t,context:{inventory:e}}){return h.jsx(HR,{textTitle:h.jsx(G,{label:"Resource requirements (title)"}),textEmpty:h.jsx(G,{label:"No requirements (label)"}),requirements:t,diff:e,limit:5})},size:32}),Zc({name:"amount",header(){return h.jsx(G,{label:"Amount (label)"})},render({value:t}){return Sn({number:t})},size:10}),Zc({name:"limit",header(){return h.jsx(G,{label:"Production limit (label)"})},render({value:t}){return t===0?h.jsx(G,{label:"Unlimited (label)"}):Sn({number:t})},size:10}),Zc({name:"cycles",header(){return h.jsx(G,{label:"Production cycles (label)"})},render({value:t}){return Sn({number:t})},size:10})],ZR=({userId:t,inventory:e,table:n,...r})=>h.jsx(fi,{table:pi({...n,columns:F5,context:{userId:t,inventory:e}}),...r}),Om=en("/$locale/apps/derivean/game/building/production/resource/list")({validateSearch:Mr(Br(_p,{size:100})),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e,session:n},deps:{filter:r,cursor:i}}){const o=await n();return t.ensureQueryData({queryKey:["Building_Base_Production","list-count","production",{filter:r,cursor:i}],async queryFn(){return e.transaction().execute(async l=>{const c=l.selectFrom("Building_Base_Production as bbp").select(["bbp.id as buildingBaseProductionId",Nr`
                        CASE
        WHEN NOT EXISTS (
            SELECT 1
            FROM Building_Base_Production_Requirement bbpr
            LEFT JOIN (
                SELECT 
                    i.resourceId,
                    SUM(i.amount) AS totalAmount
                FROM Inventory i
                INNER JOIN User_Inventory ui 
                    ON i.id = ui.inventoryId
                WHERE ui.userId = ${o.id}
                GROUP BY i.resourceId
            ) resource
                ON bbpr.resourceId = resource.resourceId
            WHERE
                bbp.id = bbpr.buildingBaseProductionId AND
                (resource.totalAmount IS NULL OR resource.totalAmount < bbpr.amount)
        ) THEN true ELSE false END
                      `.as("withAvailableResources")]);return _r({select:l.selectFrom(l.selectFrom("Building_Base_Production as bbp").innerJoin("Building_Base as bb","bb.id","bbp.buildingBaseId").innerJoin(c.as("filter"),"bbp.id","filter.buildingBaseProductionId").innerJoin("Building as b","b.buildingBaseId","bbp.buildingBaseId").innerJoin("Resource as r","r.id","bbp.resourceId").select(["bbp.id","r.name","bb.name as building","bbp.amount","b.id as buildingId","bbp.buildingBaseId","bb.productionLimit","bbp.limit","bbp.cycles","bbp.resourceId","filter.withAvailableResources",d=>d.selectFrom("Building_Base_Production_Requirement as bbpr").innerJoin("Resource as r","r.id","bbpr.resourceId").select(m=>Nr`json_group_array(json_object(
                                                        'id', ${m.ref("bbpr.id")},
                                                        'amount', ${m.ref("bbpr.amount")},
                                                        'passive', ${m.ref("bbpr.passive")},
                                                        'buildingBaseProductionId', ${m.ref("bbpr.buildingBaseProductionId")},
                                                        'resourceId', ${m.ref("bbpr.resourceId")},
                                                        'name', ${m.ref("r.name")}
                                                    ))`.as("requirements")).where("bbpr.buildingBaseProductionId","=",d.ref("bbp.id")).as("requirements"),d=>d.selectFrom("Building_Resource_Queue as brq").select(m=>m.fn.count("brq.id").as("queueCount")).whereRef("brq.buildingBaseProductionId","=","bbp.id").whereRef("brq.buildingId","=","b.id").as("queueCount")]).where("b.userId","=",o.id).as("source")).selectAll().orderBy("source.withAvailableResources","desc").orderBy("source.queueCount","asc").orderBy("source.name","asc"),query({select:d,where:m}){let y=d;if(m?.resourceId&&(y=y.where("source.resourceId","=",m.resourceId)),m?.fulltext){const _=`%${m.fulltext}%`.toLowerCase();y=y.where(N=>N.or([N("name","like",`%${_}%`),N("resourceId","in",N.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(k=>k.or([k("t.code","like",_),k("t.label","like",_),k("t.group","like",_)])))]))}return y},output:$.object({id:$.string().min(1),name:$.string().min(1),building:$.string().min(1),buildingBaseId:$.string().min(1),buildingId:$.string().min(1),resourceId:$.string().min(1),amount:$.number().nonnegative(),productionLimit:$.number().nonnegative(),queueCount:$.number().nonnegative(),limit:$.number().nonnegative(),cycles:$.number().nonnegative(),withAvailableResources:al(),requirements:Mi(gy.entity.merge($.object({name:$.string().min(1)})))}),filter:r,cursor:i})})}})},component(){const{data:t,count:e}=Om.useLoaderData(),{filter:n,cursor:r}=Om.useSearch(),i=Om.useNavigate(),{tva:o}=rr({from:"__root__"}),{inventory:l,session:c}=Os({from:"/$locale/apps/derivean/game"}),d=o().slots;return h.jsx("div",{className:d.base(),children:h.jsx(ZR,{userId:c.id,inventory:l,table:{data:t,filter:{value:n,set:Hr(i)}},fulltext:{value:n?.fulltext,set:Dr(i)},cursor:{count:e,cursor:r,textTotal:h.jsx(G,{label:"Number of productions (label)"}),...Vr(i)}})})}}),V_=hi(),L5=[V_({name:"name",header(){return h.jsx(G,{label:"Building name (label)"})},render({value:t}){return t},size:12}),V_({name:"cycle",header(){return h.jsx(G,{label:"Building cycle (label)"})},render({data:t}){const e=t.to-t.from;return h.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[h.jsx("div",{className:"font-bold",children:t.cycle}),h.jsx("div",{className:"text-slate-500",children:"/"}),h.jsx("div",{className:"text-sm",children:e})]})},size:8}),V_({name:"progress",header(){return h.jsx(G,{label:"Progress (label)"})},render({data:t}){const e=t.to-t.from;return h.jsx(gp,{css:{progress:e===t.cycle?["bg-emerald-500"]:void 0},value:100*t.cycle/e})},size:30})],D5=({table:t,...e})=>h.jsx(fi,{table:pi({...t,columns:L5}),...e}),Cm=en("/$locale/apps/derivean/game/building/construction/queue/list")({validateSearch:Mr(Br(JR)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{kysely:t,session:e},deps:{filter:n,cursor:r}}){const i=await e();return t.transaction().execute(async o=>_r({select:o.selectFrom("Building_Queue as bq").innerJoin("Building_Base as bb","bb.id","bq.buildingBaseId").select(["bq.id","bb.name","bq.cycle","bq.from","bq.to"]).where("bq.userId","=",i.id),output:$.object({id:$.string().min(1),name:$.string().min(1),cycle:$.number(),from:$.number(),to:$.number()}),filter:n,cursor:r}))},component:()=>{const{data:t,count:e}=Cm.useLoaderData(),{filter:n,cursor:r}=Cm.useSearch(),i=Cm.useNavigate(),{tva:o}=rr({from:"__root__"}),l=o().slots;return h.jsx("div",{className:l.base(),children:h.jsx(D5,{table:{data:t,filter:{value:n,set:Hr(i)}},fulltext:{value:n?.fulltext,set:Dr(i)},cursor:{count:e,cursor:r,textTotal:h.jsx(G,{label:"Items in building queue (label)"}),...Vr(i)}})})}}),M5=en("/$locale/apps/derivean/game/building/base/$id/view")({component(){return h.jsx("div",{children:'Hello "/$locale/apps/derivean/game/building/base/$id/view/"!'})}}),Rm=en("/$locale/apps/derivean/game/building/$id/production/list")({validateSearch:Mr(Br(_p)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e,session:n},deps:{filter:r,cursor:i},params:{id:o}}){const l=await n();return t.ensureQueryData({queryKey:["Building_Base_Production","list-count",o,{filter:r,cursor:i}],async queryFn(){return e.transaction().execute(async c=>{const d=c.selectFrom("Building_Base_Production as bbp").select(["bbp.id",Nr`
                        CASE
        WHEN NOT EXISTS (
            SELECT 1
            FROM Building_Base_Production_Requirement bbpr
            LEFT JOIN (
                SELECT 
                    i.resourceId,
                    SUM(i.amount) AS totalAmount
                FROM Inventory i
                INNER JOIN User_Inventory ui 
                    ON i.id = ui.inventoryId
                WHERE ui.userId = ${l.id}
                GROUP BY i.resourceId
            ) resource
                ON bbpr.resourceId = resource.resourceId
            WHERE
                bbp.id = bbpr.buildingBaseProductionId AND
                (resource.totalAmount IS NULL OR resource.totalAmount < bbpr.amount)
        ) THEN true ELSE false END
                      `.as("withAvailableResources")]);return _r({select:c.selectFrom("Building_Base_Production as bbp").innerJoin("Building_Base as bb","bb.id","bbp.buildingBaseId").innerJoin(d.as("filter"),"bbp.id","filter.id").innerJoin("Building as b","b.buildingBaseId","bbp.buildingBaseId").innerJoin("Resource as r","r.id","bbp.resourceId").select(["bbp.id","r.name","bb.name as building","bbp.amount","bb.productionLimit","b.id as buildingId","bbp.buildingBaseId","bbp.limit","bbp.cycles","bbp.resourceId","filter.withAvailableResources",m=>m.selectFrom("Building_Base_Production_Requirement as bbpr").innerJoin("Resource as r","r.id","bbpr.resourceId").select(y=>Nr`json_group_array(json_object(
                                                'id', ${y.ref("bbpr.id")},
                                                'amount', ${y.ref("bbpr.amount")},
                                                'passive', ${y.ref("bbpr.passive")},
                                                'buildingBaseProductionId', ${y.ref("bbpr.buildingBaseProductionId")},
                                                'resourceId', ${y.ref("bbpr.resourceId")},
                                                'name', ${y.ref("r.name")}
                                            ))`.as("requirements")).where("bbpr.buildingBaseProductionId","=",m.ref("bbp.id")).as("requirements"),m=>m.selectFrom("Building_Resource_Queue as brq").select(y=>y.fn.count("brq.id").as("queueCount")).whereRef("brq.buildingId","=","b.id").as("queueCount")]).where("b.userId","=",l.id).where("b.id","=",o).orderBy("filter.withAvailableResources","desc").orderBy("r.name","asc"),output:$.object({id:$.string().min(1),name:$.string().min(1),building:$.string().min(1),buildingBaseId:$.string().min(1),resourceId:$.string().min(1),buildingId:$.string().min(1),amount:$.number().nonnegative(),productionLimit:$.number().nonnegative(),limit:$.number().nonnegative(),cycles:$.number().nonnegative(),queueCount:$.number().nonnegative(),withAvailableResources:al(),requirements:Mi(gy.entity.merge($.object({name:$.string().min(1)})))}),filter:r,cursor:i})})}})},component(){const{data:t,count:e}=Rm.useLoaderData(),{filter:n,cursor:r}=Rm.useSearch(),i=Rm.useNavigate(),{tva:o}=rr({from:"__root__"}),{inventory:l,session:c}=Os({from:"/$locale/apps/derivean/game"}),d=o().slots;return h.jsx("div",{className:d.base(),children:h.jsx(ZR,{userId:c.id,inventory:l,table:{data:t,filter:{value:n,set:Hr(i)}},fulltext:{value:n?.fulltext,set:Dr(i)},cursor:{count:e,cursor:r,textTotal:h.jsx(G,{label:"Number of productions (label)"}),...Vr(i)}})})}}),B5=en("/$locale/apps/derivean/root/building/base/production/$id/view")({component(){return"da view"}}),UI=({mutation:t,defaultValues:e,variant:n,tva:r=Fs,css:i})=>{const o=Ls({resolver:Ds(gy.shape),defaultValues:{amount:1,passive:!1,...e}}),l=r({...n,isLoading:o.formState.isLoading,isSubmitting:o.formState.isSubmitting,css:i}).slots;return h.jsxs("form",{className:l.base(),onSubmit:Do({form:o,mutation:t}),children:[h.jsx(ls,{variant:{highlight:!0},error:o.formState.errors.root}),h.jsx(wn,{formState:o.formState,name:"resourceId",label:h.jsx(G,{label:"Requirement (label)"}),children:h.jsx(Po,{control:o.control,name:"resourceId",render:({field:{ref:c,...d}})=>h.jsx(bp,{textTitle:h.jsx(G,{label:"Select resource (title)"}),allowEmpty:!0,...d})})}),h.jsx(wn,{formState:o.formState,name:"amount",label:h.jsx(G,{label:"Amount (label)"}),children:h.jsx("input",{type:"number",className:l.input(),...o.register("amount")})}),h.jsx(wn,{formState:o.formState,name:"passive",label:h.jsx(G,{label:"Passive requirement (label)"}),hint:h.jsx(G,{label:"Passive requirement (hint)"}),children:h.jsx(Po,{control:o.control,name:"passive",render:({field:{ref:c,...d}})=>h.jsx(ZO,{...d})})}),h.jsx("div",{className:"flex flex-row justify-between gap-8",children:h.jsx(br,{iconEnabled:ei,type:"submit",children:h.jsx(G,{label:"Save (submit)"})})})]})},H_=hi(),$5=[H_({name:"name",header(){return h.jsx(G,{label:"Requirement name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceID",t.resourceId)}},size:12}),H_({name:"amount",header(){return h.jsx(G,{label:"Amount (label)"})},render({value:t}){return Sn({number:t})},size:10}),H_({name:"passive",header(){return h.jsx(G,{label:"Passive requirement (label)"})},render({value:t}){return h.jsx(JO,{value:t})},size:10})],W5=({buildingBaseProductionId:t,table:e,...n})=>{const r=zi([["Building_Base_Production_Requirement"],["Building_Base_Production"],["Resource"]]);return h.jsx(fi,{table:pi({...e,columns:$5}),action:{table(){return h.jsx(qr,{children:h.jsx(jn,{label:h.jsx(G,{label:"Create production requirement (menu)"}),textTitle:h.jsx(G,{label:"Create production requirement (modal)"}),icon:ei,children:({close:i})=>h.jsx(UI,{mutation:Dn({async mutationFn(o){return vn.promise(an.transaction().execute(async l=>l.insertInto("Building_Base_Production_Requirement").values({id:nr(),...o,buildingBaseProductionId:t}).returningAll().executeTakeFirstOrThrow()),Un("Create requirement item"))},async onSuccess(){await r(),i()}})})})})},row({data:i}){return h.jsxs(qr,{children:[h.jsx(jn,{label:h.jsx(G,{label:"Edit (menu)"}),textTitle:h.jsx(G,{label:"Edit production requirement (modal)"}),icon:ei,children:({close:o})=>h.jsx(UI,{defaultValues:i,mutation:Dn({async mutationFn(l){return vn.promise(an.transaction().execute(async c=>c.updateTable("Building_Base_Production_Requirement").set(l).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),Un("Update production requirement"))},async onSuccess(){await r(),o()}})})}),h.jsx(jn,{icon:co,label:h.jsx(G,{label:"Delete (menu)"}),textTitle:h.jsx(G,{label:"Delete production requirement (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:h.jsx(Mo,{callback:async()=>an.transaction().execute(async o=>o.deleteFrom("Building_Base_Production_Requirement").where("id","=",i.id).execute()),textContent:h.jsx(G,{label:"Production requirement delete (content)"}),textToast:"Production requirement item delete",invalidator:r})})]})}},...n})},tf=en("/$locale/apps/derivean/root/building/base/production/$id/requirements")({validateSearch:Mr(Br(mc)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Building_Base_Production_Requirement","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async o=>_r({select:o.selectFrom("Building_Base_Production_Requirement as bbpr").innerJoin("Resource as r","r.id","bbpr.resourceId").select(["bbpr.id","r.name","bbpr.resourceId","bbpr.amount","bbpr.passive"]).where("bbpr.buildingBaseProductionId","=",i).orderBy("r.name","asc"),query({select:l,where:c}){let d=l;return c?.id&&(d=d.where("bbpr.id","=",c.id)),c?.idIn&&(d=d.where("bbpr.id","in",c.idIn)),c?.resourceId&&(d=d.where("bbpr.resourceId","=",c.resourceId)),d},output:$.object({id:$.string().min(1),name:$.string().min(1),resourceId:$.string().min(1),amount:$.number().nonnegative(),passive:al()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=tf.useLoaderData(),{filter:n,cursor:r,selection:i}=tf.useSearch(),{id:o}=tf.useParams(),l=tf.useNavigate();return h.jsx(h.Fragment,{children:h.jsx(W5,{buildingBaseProductionId:o,table:{data:t,filter:{value:n,set:Hr(l)},selection:{type:"multi",value:i,set:cs(l)}},fulltext:{value:n?.fulltext,set:Dr(l)},cursor:{count:e,cursor:r,textTotal:h.jsx(G,{label:"Number of production requirements (label)"}),...Vr(l)}})})}}),VI=({mutation:t,defaultValues:e,variant:n,tva:r=Fs,css:i})=>{const o=Ls({resolver:Ds(mc.shape),defaultValues:{amount:1,passive:!1,...e}}),l=r({...n,isLoading:o.formState.isLoading,isSubmitting:o.formState.isSubmitting,css:i}).slots;return h.jsxs("form",{className:l.base(),onSubmit:Do({form:o,mutation:t}),children:[h.jsx(ls,{variant:{highlight:!0},error:o.formState.errors.root}),h.jsx(wn,{formState:o.formState,name:"resourceId",label:h.jsx(G,{label:"Requirement (label)"}),children:h.jsx(Po,{control:o.control,name:"resourceId",render:({field:{ref:c,...d}})=>h.jsx(bp,{textTitle:h.jsx(G,{label:"Select resource (title)"}),allowEmpty:!0,...d})})}),h.jsx(wn,{formState:o.formState,name:"amount",label:h.jsx(G,{label:"Amount (label)"}),children:h.jsx("input",{type:"number",className:l.input(),...o.register("amount")})}),h.jsx(wn,{formState:o.formState,name:"passive",label:h.jsx(G,{label:"Passive requirement (label)"}),hint:h.jsx(G,{label:"Passive requirement (hint)"}),children:h.jsx(Po,{control:o.control,name:"passive",render:({field:{ref:c,...d}})=>h.jsx(ZO,{...d})})}),h.jsx("div",{className:"flex flex-row justify-between gap-8",children:h.jsx(br,{iconEnabled:ei,type:"submit",children:h.jsx(G,{label:"Save (submit)"})})})]})},Q_=hi(),z5=[Q_({name:"name",header(){return h.jsx(G,{label:"Requirement name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceID",t.resourceId)}},size:12}),Q_({name:"amount",header(){return h.jsx(G,{label:"Amount (label)"})},render({value:t}){return Sn({number:t})},size:10}),Q_({name:"passive",header(){return h.jsx(G,{label:"Passive requirement (label)"})},render({value:t}){return h.jsx(JO,{value:t})},size:10})],U5=({buildingBaseId:t,table:e,...n})=>{const r=zi([["Building_Base_Resource_Requirement"],["Resource"]]);return h.jsx(fi,{table:pi({...e,columns:z5}),action:{table(){return h.jsx(qr,{children:h.jsx(jn,{label:h.jsx(G,{label:"Create requirement item (menu)"}),textTitle:h.jsx(G,{label:"Create requirement item (modal)"}),icon:ei,children:h.jsx(VI,{mutation:Dn({async mutationFn(i){return vn.promise(an.transaction().execute(async o=>o.insertInto("Building_Base_Resource_Requirement").values({id:nr(),...i,buildingBaseId:t}).returningAll().executeTakeFirstOrThrow()),Un("Create requirement item"))},async onSuccess(){await r()}})})})})},row({data:i}){return h.jsxs(qr,{children:[h.jsx(jn,{label:h.jsx(G,{label:"Edit (menu)"}),textTitle:h.jsx(G,{label:"Edit requirement item (modal)"}),icon:ei,children:h.jsx(VI,{defaultValues:i,mutation:Dn({async mutationFn(o){return vn.promise(an.transaction().execute(async l=>l.updateTable("Building_Base_Resource_Requirement").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),Un("Update requirement item"))},async onSuccess(){await r()}})})}),h.jsx(jn,{icon:co,label:h.jsx(G,{label:"Delete (menu)"}),textTitle:h.jsx(G,{label:"Delete requirement item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:h.jsx(Mo,{callback:async()=>an.transaction().execute(async o=>o.deleteFrom("Building_Base_Resource_Requirement").where("id","=",i.id).execute()),textContent:h.jsx(G,{label:"Requirement item delete (content)"}),textToast:"Requirement item delete",invalidator:r})})]})}},...n})},nf=en("/$locale/apps/derivean/root/building/base/$id/required/resources")({validateSearch:Mr(Br(mc)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Building_Base_Resource_Requirement","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async o=>_r({select:o.selectFrom("Building_Base_Resource_Requirement as bbrr").innerJoin("Resource as r","r.id","bbrr.resourceId").select(["bbrr.id","r.name","bbrr.resourceId","bbrr.amount","bbrr.passive"]).where("bbrr.buildingBaseId","=",i).orderBy("r.name","asc"),query({select:l,where:c}){let d=l;return c?.id&&(d=d.where("bbrr.id","=",c.id)),c?.idIn&&(d=d.where("bbrr.id","in",c.idIn)),c?.resourceId&&(d=d.where("bbrr.resourceId","=",c.resourceId)),d},output:$.object({id:$.string().min(1),name:$.string().min(1),resourceId:$.string().min(1),amount:$.number().nonnegative(),passive:al()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=nf.useLoaderData(),{filter:n,cursor:r,selection:i}=nf.useSearch(),{id:o}=nf.useParams(),l=nf.useNavigate(),{tva:c}=rr({from:"__root__"}),d=c().slots;return h.jsx("div",{className:d.base(),children:h.jsx(U5,{buildingBaseId:o,table:{data:t,filter:{value:n,set:Hr(l)},selection:{type:"multi",value:i,set:cs(l)}},fulltext:{value:n?.fulltext,set:Dr(l)},cursor:{count:e,cursor:r,textTotal:h.jsx(G,{label:"Number of requirements (label)"}),...Vr(l)}})})}}),HI=({mutation:t,defaultValues:e,variant:n,tva:r=Fs,css:i})=>{const o=Ls({resolver:Ds(Zu.shape),defaultValues:{amount:1,...e}}),l=r({...n,isLoading:o.formState.isLoading,isSubmitting:o.formState.isSubmitting,css:i}).slots;return h.jsxs("form",{className:l.base(),onSubmit:Do({form:o,mutation:t}),children:[h.jsx(ls,{variant:{highlight:!0},error:o.formState.errors.root}),h.jsx(wn,{formState:o.formState,name:"requirementId",label:h.jsx(G,{label:"Requirement (label)"}),children:h.jsx(Po,{control:o.control,name:"requirementId",render:({field:{ref:c,...d}})=>h.jsx(BR,{textTitle:h.jsx(G,{label:"Select building base (title)"}),allowEmpty:!0,...d})})}),h.jsx(wn,{formState:o.formState,name:"amount",label:h.jsx(G,{label:"Amount (label)"}),children:h.jsx("input",{type:"number",className:l.input(),...o.register("amount")})}),h.jsx("div",{className:"flex flex-row justify-between gap-8",children:h.jsx(br,{iconEnabled:Ei,type:"submit",children:h.jsx(G,{label:"Save (submit)"})})})]})},QI=hi(),V5=[QI({name:"name",header(){return h.jsx(G,{label:"Required building (label)"})},render({data:t,value:e}){const{locale:n}=En({from:"/$locale"});return h.jsx(Pn,{to:"/$locale/apps/derivean/root/building/base/$id/view",params:{locale:n,id:t.requirementId},children:e})},size:12}),QI({name:"amount",header(){return h.jsx(G,{label:"Amount (label)"})},render({value:t}){return Sn({number:t})},size:10})],H5=({buildingBaseId:t,table:e,...n})=>{const r=zi([["Building_Base_Building_Base_Requirement"],["Building_Base"]]);return h.jsx(fi,{table:pi({...e,columns:V5}),action:{table(){return h.jsx(qr,{children:h.jsx(jn,{label:h.jsx(G,{label:"Create required building (menu)"}),textTitle:h.jsx(G,{label:"Create required building (modal)"}),icon:Ei,children:({close:i})=>h.jsx(HI,{mutation:Dn({async mutationFn(o){return vn.promise(an.transaction().execute(async l=>l.insertInto("Building_Base_Building_Base_Requirement").values({id:nr(),...o,buildingBaseId:t}).returningAll().executeTakeFirstOrThrow()),Un("Create required building"))},async onSuccess(){await r(),i()}})})})})},row({data:i}){return h.jsxs(qr,{children:[h.jsx(jn,{label:h.jsx(G,{label:"Edit (menu)"}),textTitle:h.jsx(G,{label:"Edit required building (modal)"}),icon:Ei,children:({close:o})=>h.jsx(HI,{defaultValues:i,mutation:Dn({async mutationFn(l){return vn.promise(an.transaction().execute(async c=>c.updateTable("Building_Base_Building_Base_Requirement").set(l).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),Un("Update required building"))},async onSuccess(){await r(),o()}})})}),h.jsx(jn,{icon:co,label:h.jsx(G,{label:"Delete (menu)"}),textTitle:h.jsx(G,{label:"Delete required building (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:h.jsx(Mo,{callback:async()=>an.transaction().execute(async o=>o.deleteFrom("Building_Base_Building_Base_Requirement").where("id","=",i.id).execute()),textContent:h.jsx(G,{label:"Delete required building (content)"}),textToast:"Delete required building",invalidator:r})})]})}},...n})},rf=en("/$locale/apps/derivean/root/building/base/$id/required/buildings")({validateSearch:Mr(Br(Zu)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Building_Base_Building_Base_Requirement","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async o=>_r({select:o.selectFrom("Building_Base_Building_Base_Requirement as bbbbr").innerJoin("Building_Base as bb","bb.id","bbbbr.requirementId").select(["bbbbr.id","bb.name","bbbbr.buildingBaseId","bbbbr.requirementId","bbbbr.amount"]).where("bbbbr.buildingBaseId","=",i).orderBy("bb.name","asc"),query({select:l,where:c}){let d=l;return c?.id&&(d=d.where("bbbbr.id","=",c.id)),c?.idIn&&(d=d.where("bbbbr.id","in",c.idIn)),c?.buildingBaseId&&(d=d.where("bbbbr.buildingBaseId","=",c.buildingBaseId)),c?.requirementId&&(d=d.where("bbbbr.requirementId","=",c.requirementId)),d},output:$.object({id:$.string().min(1),name:$.string().min(1),buildingBaseId:$.string().min(1),requirementId:$.string().min(1),amount:$.number().nonnegative()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=rf.useLoaderData(),{filter:n,cursor:r,selection:i}=rf.useSearch(),{id:o}=rf.useParams(),l=rf.useNavigate(),{tva:c}=rr({from:"__root__"}),d=c().slots;return h.jsx("div",{className:d.base(),children:h.jsx(H5,{buildingBaseId:o,table:{data:t,filter:{value:n,set:Hr(l)},selection:{type:"multi",value:i,set:cs(l)}},fulltext:{value:n?.fulltext,set:Dr(l)},cursor:{count:e,cursor:r,textTotal:h.jsx(G,{label:"Number of requirements (label)"}),...Vr(l)}})})}}),_0=TV.update({id:"/$locale",path:"/$locale",getParentRoute:()=>l0}),Q5=RV.update({id:"/",path:"/",getParentRoute:()=>l0}),K5=AV.update({id:"/",path:"/",getParentRoute:()=>_0}),gc=PV.update({id:"/apps/derivean",path:"/apps/derivean",getParentRoute:()=>_0}),uo=DV.update({id:"/root",path:"/root",getParentRoute:()=>gc}),ga=WV.update({id:"/game",path:"/game",getParentRoute:()=>gc}),G5=QV.update({id:"/",path:"/",getParentRoute:()=>uo}),J5=KV.update({id:"/",path:"/",getParentRoute:()=>ga}),Z5=b8.update({id:"/public/register",path:"/public/register",getParentRoute:()=>gc}),Y5=_8.update({id:"/public/logout",path:"/public/logout",getParentRoute:()=>gc}),X5=E8.update({id:"/public/login",path:"/public/login",getParentRoute:()=>gc}),eH=_m.update({id:"/inventory",path:"/inventory",getParentRoute:()=>ga}),tH=qR.update({id:"/db/schema",path:"/db/schema",getParentRoute:()=>gc}),nH=xm.update({id:"/user/list",path:"/user/list",getParentRoute:()=>uo}),yy=TR.update({id:"/user/$id",path:"/user/$id",getParentRoute:()=>uo}),rH=wm.update({id:"/tag/list",path:"/tag/list",getParentRoute:()=>uo}),iH=Sm.update({id:"/resource/list",path:"/resource/list",getParentRoute:()=>uo}),YR=AR.update({id:"/resource/$id",path:"/resource/$id",getParentRoute:()=>uo}),sH=Em.update({id:"/inventory/default",path:"/inventory/default",getParentRoute:()=>uo}),oH=Nm.update({id:"/building/list",path:"/building/list",getParentRoute:()=>uo}),vy=t5.update({id:"/building/base",path:"/building/base",getParentRoute:()=>uo}),XR=zR.update({id:"/building/$id",path:"/building/$id",getParentRoute:()=>uo}),aH=km.update({id:"/building/list",path:"/building/list",getParentRoute:()=>ga}),x0=a5.update({id:"/building/construction",path:"/building/construction",getParentRoute:()=>ga}),w0=UR.update({id:"/building/$id",path:"/building/$id",getParentRoute:()=>ga}),lH=u5.update({id:"/view",path:"/view",getParentRoute:()=>yy}),cH=Yd.update({id:"/inventory",path:"/inventory",getParentRoute:()=>yy}),uH=p5.update({id:"/view",path:"/view",getParentRoute:()=>YR}),dH=Im.update({id:"/list",path:"/list",getParentRoute:()=>vy}),Yu=VR.update({id:"/$id",path:"/$id",getParentRoute:()=>vy}),fH=y5.update({id:"/view",path:"/view",getParentRoute:()=>XR}),pH=qm.update({id:"/list",path:"/list",getParentRoute:()=>x0}),e3=QR.update({id:"/building/base/$id",path:"/building/base/$id",getParentRoute:()=>ga}),hH=N5.update({id:"/view",path:"/view",getParentRoute:()=>w0}),mH=Xd.update({id:"/building/list",path:"/building/list",getParentRoute:()=>yy}),S0=KR.update({id:"/production/$id",path:"/production/$id",getParentRoute:()=>vy}),gH=O5.update({id:"/view",path:"/view",getParentRoute:()=>Yu}),yH=ef.update({id:"/production",path:"/production",getParentRoute:()=>Yu}),vH=GR.update({id:"/edit",path:"/edit",getParentRoute:()=>Yu}),bH=Tm.update({id:"/building/production/resource/queue",path:"/building/production/resource/queue",getParentRoute:()=>ga}),_H=Om.update({id:"/building/production/resource/list",path:"/building/production/resource/list",getParentRoute:()=>ga}),xH=Cm.update({id:"/queue/list",path:"/queue/list",getParentRoute:()=>x0}),wH=M5.update({id:"/view",path:"/view",getParentRoute:()=>e3}),SH=Rm.update({id:"/production/list",path:"/production/list",getParentRoute:()=>w0}),EH=B5.update({id:"/view",path:"/view",getParentRoute:()=>S0}),NH=tf.update({id:"/requirements",path:"/requirements",getParentRoute:()=>S0}),kH=nf.update({id:"/required/resources",path:"/required/resources",getParentRoute:()=>Yu}),IH=rf.update({id:"/required/buildings",path:"/required/buildings",getParentRoute:()=>Yu}),qH={LocaleAppsDeriveanGameBuildingIdViewRoute:hH,LocaleAppsDeriveanGameBuildingIdProductionListRoute:SH},TH=w0._addFileChildren(qH),OH={LocaleAppsDeriveanGameBuildingConstructionListRoute:pH,LocaleAppsDeriveanGameBuildingConstructionQueueListRoute:xH},CH=x0._addFileChildren(OH),RH={LocaleAppsDeriveanGameBuildingBaseIdViewRoute:wH},AH=e3._addFileChildren(RH),jH={LocaleAppsDeriveanGameInventoryRoute:eH,LocaleAppsDeriveanGameIndexRoute:J5,LocaleAppsDeriveanGameBuildingIdRoute:TH,LocaleAppsDeriveanGameBuildingConstructionRoute:CH,LocaleAppsDeriveanGameBuildingListRoute:aH,LocaleAppsDeriveanGameBuildingBaseIdRoute:AH,LocaleAppsDeriveanGameBuildingProductionResourceListRoute:_H,LocaleAppsDeriveanGameBuildingProductionResourceQueueRoute:bH},PH=ga._addFileChildren(jH),FH={LocaleAppsDeriveanRootBuildingIdViewRoute:fH},LH=XR._addFileChildren(FH),DH={LocaleAppsDeriveanRootBuildingBaseIdEditRoute:vH,LocaleAppsDeriveanRootBuildingBaseIdProductionRoute:yH,LocaleAppsDeriveanRootBuildingBaseIdViewRoute:gH,LocaleAppsDeriveanRootBuildingBaseIdRequiredBuildingsRoute:IH,LocaleAppsDeriveanRootBuildingBaseIdRequiredResourcesRoute:kH},MH=Yu._addFileChildren(DH),BH={LocaleAppsDeriveanRootBuildingBaseProductionIdRequirementsRoute:NH,LocaleAppsDeriveanRootBuildingBaseProductionIdViewRoute:EH},$H=S0._addFileChildren(BH),WH={LocaleAppsDeriveanRootBuildingBaseIdRoute:MH,LocaleAppsDeriveanRootBuildingBaseListRoute:dH,LocaleAppsDeriveanRootBuildingBaseProductionIdRoute:$H},zH=vy._addFileChildren(WH),UH={LocaleAppsDeriveanRootResourceIdViewRoute:uH},VH=YR._addFileChildren(UH),HH={LocaleAppsDeriveanRootUserIdInventoryRoute:cH,LocaleAppsDeriveanRootUserIdViewRoute:lH,LocaleAppsDeriveanRootUserIdBuildingListRoute:mH},QH=yy._addFileChildren(HH),KH={LocaleAppsDeriveanRootIndexRoute:G5,LocaleAppsDeriveanRootBuildingIdRoute:LH,LocaleAppsDeriveanRootBuildingBaseRoute:zH,LocaleAppsDeriveanRootBuildingListRoute:oH,LocaleAppsDeriveanRootInventoryDefaultRoute:sH,LocaleAppsDeriveanRootResourceIdRoute:VH,LocaleAppsDeriveanRootResourceListRoute:iH,LocaleAppsDeriveanRootTagListRoute:rH,LocaleAppsDeriveanRootUserIdRoute:QH,LocaleAppsDeriveanRootUserListRoute:nH},GH=uo._addFileChildren(KH),JH={LocaleAppsDeriveanGameRoute:PH,LocaleAppsDeriveanRootRoute:GH,LocaleAppsDeriveanDbSchemaRoute:tH,LocaleAppsDeriveanPublicLoginRoute:X5,LocaleAppsDeriveanPublicLogoutRoute:Y5,LocaleAppsDeriveanPublicRegisterRoute:Z5},ZH=gc._addFileChildren(JH),YH={LocaleIndexRoute:K5,LocaleAppsDeriveanRoute:ZH},XH=_0._addFileChildren(YH),eQ={IndexRoute:Q5,LocaleRoute:XH},tQ=l0._addFileChildren(eQ)._addFileTypes(),t3=new kA({defaultOptions:{queries:{placeholderData:pA}}}),nQ=wj({routeTree:tQ,context:{queryClient:t3,tva:_W,async session(){return hy.parse(null)},kysely:an},defaultPendingComponent:GU,defaultPreload:"intent",defaultPreloadStaleTime:0,defaultPendingMinMs:200}),KI=document.getElementById("app");k2({limit:{maxRequests:10,perMilliseconds:100}});KI.innerHTML||kV.createRoot(KI).render(h.jsx(RA,{client:t3,children:h.jsx(Qj,{router:nQ})}))})();