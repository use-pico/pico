(async()=>{function p$(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ro(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function h$(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Iw={exports:{}},ip={},Cw={exports:{}},En={};var zI;function m$(){if(zI)return En;zI=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.iterator;function b(X){return X===null||typeof X!="object"?null:(X=h&&X[h]||X["@@iterator"],typeof X=="function"?X:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,N={};function I(X,ce,de){this.props=X,this.context=ce,this.refs=N,this.updater=de||x}I.prototype.isReactComponent={},I.prototype.setState=function(X,ce){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,ce,"setState")},I.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function O(){}O.prototype=I.prototype;function T(X,ce,de){this.props=X,this.context=ce,this.refs=N,this.updater=de||x}var q=T.prototype=new O;q.constructor=T,_(q,I.prototype),q.isPureReactComponent=!0;var A=Array.isArray,D=Object.prototype.hasOwnProperty,L={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function P(X,ce,de){var ye,we={},Ne=null,ze=null;if(ce!=null)for(ye in ce.ref!==void 0&&(ze=ce.ref),ce.key!==void 0&&(Ne=""+ce.key),ce)D.call(ce,ye)&&!z.hasOwnProperty(ye)&&(we[ye]=ce[ye]);var qe=arguments.length-2;if(qe===1)we.children=de;else if(1<qe){for(var De=Array(qe),Ze=0;Ze<qe;Ze++)De[Ze]=arguments[Ze+2];we.children=De}if(X&&X.defaultProps)for(ye in qe=X.defaultProps,qe)we[ye]===void 0&&(we[ye]=qe[ye]);return{$$typeof:t,type:X,key:Ne,ref:ze,props:we,_owner:L.current}}function R(X,ce){return{$$typeof:t,type:X.type,key:ce,ref:X.ref,props:X.props,_owner:X._owner}}function B(X){return typeof X=="object"&&X!==null&&X.$$typeof===t}function F(X){var ce={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(de){return ce[de]})}var W=/\/+/g;function U(X,ce){return typeof X=="object"&&X!==null&&X.key!=null?F(""+X.key):ce.toString(36)}function $(X,ce,de,ye,we){var Ne=typeof X;(Ne==="undefined"||Ne==="boolean")&&(X=null);var ze=!1;if(X===null)ze=!0;else switch(Ne){case"string":case"number":ze=!0;break;case"object":switch(X.$$typeof){case t:case e:ze=!0}}if(ze)return ze=X,we=we(ze),X=ye===""?"."+U(ze,0):ye,A(we)?(de="",X!=null&&(de=X.replace(W,"$&/")+"/"),$(we,ce,de,"",function(Ze){return Ze})):we!=null&&(B(we)&&(we=R(we,de+(!we.key||ze&&ze.key===we.key?"":(""+we.key).replace(W,"$&/")+"/")+X)),ce.push(we)),1;if(ze=0,ye=ye===""?".":ye+":",A(X))for(var qe=0;qe<X.length;qe++){Ne=X[qe];var De=ye+U(Ne,qe);ze+=$(Ne,ce,de,De,we)}else if(De=b(X),typeof De=="function")for(X=De.call(X),qe=0;!(Ne=X.next()).done;)Ne=Ne.value,De=ye+U(Ne,qe++),ze+=$(Ne,ce,de,De,we);else if(Ne==="object")throw ce=String(X),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.");return ze}function ee(X,ce,de){if(X==null)return X;var ye=[],we=0;return $(X,ye,"","",function(Ne){return ce.call(de,Ne,we++)}),ye}function J(X){if(X._status===-1){var ce=X._result;ce=ce(),ce.then(function(de){(X._status===0||X._status===-1)&&(X._status=1,X._result=de)},function(de){(X._status===0||X._status===-1)&&(X._status=2,X._result=de)}),X._status===-1&&(X._status=0,X._result=ce)}if(X._status===1)return X._result.default;throw X._result}var le={current:null},se={transition:null},te={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:se,ReactCurrentOwner:L};function oe(){throw Error("act(...) is not supported in production builds of React.")}return En.Children={map:ee,forEach:function(X,ce,de){ee(X,function(){ce.apply(this,arguments)},de)},count:function(X){var ce=0;return ee(X,function(){ce++}),ce},toArray:function(X){return ee(X,function(ce){return ce})||[]},only:function(X){if(!B(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},En.Component=I,En.Fragment=n,En.Profiler=i,En.PureComponent=T,En.StrictMode=r,En.Suspense=c,En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,En.act=oe,En.cloneElement=function(X,ce,de){if(X==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+X+".");var ye=_({},X.props),we=X.key,Ne=X.ref,ze=X._owner;if(ce!=null){if(ce.ref!==void 0&&(Ne=ce.ref,ze=L.current),ce.key!==void 0&&(we=""+ce.key),X.type&&X.type.defaultProps)var qe=X.type.defaultProps;for(De in ce)D.call(ce,De)&&!z.hasOwnProperty(De)&&(ye[De]=ce[De]===void 0&&qe!==void 0?qe[De]:ce[De])}var De=arguments.length-2;if(De===1)ye.children=de;else if(1<De){qe=Array(De);for(var Ze=0;Ze<De;Ze++)qe[Ze]=arguments[Ze+2];ye.children=qe}return{$$typeof:t,type:X.type,key:we,ref:Ne,props:ye,_owner:ze}},En.createContext=function(X){return X={$$typeof:o,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},X.Provider={$$typeof:s,_context:X},X.Consumer=X},En.createElement=P,En.createFactory=function(X){var ce=P.bind(null,X);return ce.type=X,ce},En.createRef=function(){return{current:null}},En.forwardRef=function(X){return{$$typeof:l,render:X}},En.isValidElement=B,En.lazy=function(X){return{$$typeof:f,_payload:{_status:-1,_result:X},_init:J}},En.memo=function(X,ce){return{$$typeof:d,type:X,compare:ce===void 0?null:ce}},En.startTransition=function(X){var ce=se.transition;se.transition={};try{X()}finally{se.transition=ce}},En.unstable_act=oe,En.useCallback=function(X,ce){return le.current.useCallback(X,ce)},En.useContext=function(X){return le.current.useContext(X)},En.useDebugValue=function(){},En.useDeferredValue=function(X){return le.current.useDeferredValue(X)},En.useEffect=function(X,ce){return le.current.useEffect(X,ce)},En.useId=function(){return le.current.useId()},En.useImperativeHandle=function(X,ce,de){return le.current.useImperativeHandle(X,ce,de)},En.useInsertionEffect=function(X,ce){return le.current.useInsertionEffect(X,ce)},En.useLayoutEffect=function(X,ce){return le.current.useLayoutEffect(X,ce)},En.useMemo=function(X,ce){return le.current.useMemo(X,ce)},En.useReducer=function(X,ce,de){return le.current.useReducer(X,ce,de)},En.useRef=function(X){return le.current.useRef(X)},En.useState=function(X){return le.current.useState(X)},En.useSyncExternalStore=function(X,ce,de){return le.current.useSyncExternalStore(X,ce,de)},En.useTransition=function(){return le.current.useTransition()},En.version="18.3.1",En}var WI;function $h(){return WI||(WI=1,Cw.exports=m$()),Cw.exports}var UI;function g$(){if(UI)return ip;UI=1;var t=$h(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,d){var f,h={},b=null,x=null;d!==void 0&&(b=""+d),c.key!==void 0&&(b=""+c.key),c.ref!==void 0&&(x=c.ref);for(f in c)r.call(c,f)&&!s.hasOwnProperty(f)&&(h[f]=c[f]);if(l&&l.defaultProps)for(f in c=l.defaultProps,c)h[f]===void 0&&(h[f]=c[f]);return{$$typeof:e,type:l,key:b,ref:x,props:h,_owner:i.current}}return ip.Fragment=n,ip.jsx=o,ip.jsxs=o,ip}var VI;function y$(){return VI||(VI=1,Iw.exports=g$()),Iw.exports}var p=y$(),Kd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Uu=typeof window>"u"||"Deno"in globalThis;function Zs(){}function v$(t,e){return typeof t=="function"?t(e):t}function CS(t){return typeof t=="number"&&t>=0&&t!==1/0}function a3(t,e){return Math.max(t+(e||0)-Date.now(),0)}function fd(t,e){return typeof t=="function"?t(e):t}function vo(t,e){return typeof t=="function"?t(e):t}function HI(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==YE(o,e.options))return!1}else if(!Jp(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||s&&!s(e))}function QI(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Vu(e.options.mutationKey)!==Vu(s))return!1}else if(!Jp(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function YE(t,e){return(e?.queryKeyHashFn||Vu)(t)}function Vu(t){return JSON.stringify(t,(e,n)=>TS(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Jp(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Jp(t[n],e[n])):!1}function XE(t,e){if(t===e)return t;const n=KI(t)&&KI(e);if(n||TS(t)&&TS(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,l=n?[]:{};let c=0;for(let d=0;d<o;d++){const f=n?d:s[d];(!n&&r.includes(f)||n)&&t[f]===void 0&&e[f]===void 0?(l[f]=void 0,c++):(l[f]=XE(t[f],e[f]),l[f]===t[f]&&t[f]!==void 0&&c++)}return i===o&&c===i?t:l}return e}function Wy(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function KI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function TS(t){if(!GI(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!GI(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function GI(t){return Object.prototype.toString.call(t)==="[object Object]"}function b$(t){return new Promise(e=>{setTimeout(e,t)})}function OS(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?XE(t,e):e}function x$(t){return t}function w$(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function _$(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var e1=Symbol();function l3(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===e1?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var S$=class extends Kd{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Uu&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},t1=new S$,E$=class extends Kd{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Uu&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},Uy=new E$;function qS(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function N$(t){return Math.min(1e3*2**t,3e4)}function u3(t){return(t??"online")==="online"?Uy.isOnline():!0}var c3=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Tw(t){return t instanceof c3}function d3(t){let e=!1,n=0,r=!1,i;const s=qS(),o=N=>{r||(b(new c3(N)),t.abort?.())},l=()=>{e=!0},c=()=>{e=!1},d=()=>t1.isFocused()&&(t.networkMode==="always"||Uy.isOnline())&&t.canRun(),f=()=>u3(t.networkMode)&&t.canRun(),h=N=>{r||(r=!0,t.onSuccess?.(N),i?.(),s.resolve(N))},b=N=>{r||(r=!0,t.onError?.(N),i?.(),s.reject(N))},x=()=>new Promise(N=>{i=I=>{(r||d())&&N(I)},t.onPause?.()}).then(()=>{i=void 0,r||t.onContinue?.()}),_=()=>{if(r)return;let N;const I=n===0?t.initialPromise:void 0;try{N=I??t.fn()}catch(O){N=Promise.reject(O)}Promise.resolve(N).then(h).catch(O=>{if(r)return;const T=t.retry??(Uu?0:3),q=t.retryDelay??N$,A=typeof q=="function"?q(n,O):q,D=T===!0||typeof T=="number"&&n<T||typeof T=="function"&&T(n,O);if(e||!D){b(O);return}n++,t.onFail?.(n,O),b$(A).then(()=>d()?void 0:x()).then(()=>{e?b(O):_()})})};return{promise:s,cancel:o,continue:()=>(i?.(),s),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?_():x().then(_),s)}}function k$(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=l=>setTimeout(l,0);const s=l=>{e?t.push(l):i(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Kr=k$(),f3=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),CS(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Uu?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},I$=class extends f3{#e;#t;#n;#r;#i;#s;constructor(t){super(),this.#s=!1,this.#i=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=C$(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){this.options={...this.#i,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=OS(this.state.data,t,this.options);return this.#o({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#o({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(Zs).catch(Zs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>vo(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===e1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!a3(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#s?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#s=!0,n.signal)})},i=()=>{const l=l3(this.options,e),c={queryKey:this.queryKey,meta:this.meta};return r(c),this.#s=!1,this.options.persister?this.options.persister(l,c,this):l(c)},s={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};r(s),this.options.behavior?.onFetch(s,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#o({type:"fetch",meta:s.fetchOptions?.meta});const o=l=>{Tw(l)&&l.silent||this.#o({type:"error",error:l}),Tw(l)||(this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#r=d3({initialPromise:e?.initialPromise,fn:s.fetchFn,abort:n.abort.bind(n),onSuccess:l=>{if(l===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(c){o(c);return}this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:o,onFail:(l,c)=>{this.#o({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0}),this.#r.start()}#o(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...p3(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return Tw(r)&&r.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Kr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function p3(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:u3(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function C$(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var T$=class extends Kd{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??YE(r,e);let s=this.get(i);return s||(s=new I$({cache:this,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(s)),s}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Kr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>HI(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>HI(t,n)):e}notify(t){Kr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Kr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Kr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},O$=class extends f3{#e;#t;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||h3(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){this.#n=d3({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(r,i)=>{this.#r({type:"failed",failureCount:r,error:i})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const e=this.state.status==="pending",n=!this.#n.canStart();try{if(!e){this.#r({type:"pending",variables:t,isPaused:n}),await this.#t.config.onMutate?.(t,this);const i=await this.options.onMutate?.(t);i!==this.state.context&&this.#r({type:"pending",context:i,variables:t,isPaused:n})}const r=await this.#n.start();return await this.#t.config.onSuccess?.(r,t,this.state.context,this),await this.options.onSuccess?.(r,t,this.state.context),await this.#t.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,t,this.state.context),this.#r({type:"success",data:r}),r}catch(r){try{throw await this.#t.config.onError?.(r,t,this.state.context,this),await this.options.onError?.(r,t,this.state.context),await this.#t.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,t,this.state.context),r}finally{this.#r({type:"error",error:r})}}finally{this.#t.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Kr.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function h3(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var q$=class extends Kd{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new O$({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=vg(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=vg(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=vg(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=vg(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Kr.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>QI(e,n))}findAll(t={}){return this.getAll().filter(e=>QI(t,e))}notify(t){Kr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Kr.batch(()=>Promise.all(t.map(e=>e.continue().catch(Zs))))}};function vg(t){return t.options.scope?.id}function ZI(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let f=!1;const h=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?f=!0:e.signal.addEventListener("abort",()=>{f=!0}),e.signal)})},b=l3(e.options,e.fetchOptions),x=async(_,N,I)=>{if(f)return Promise.reject();if(N==null&&_.pages.length)return Promise.resolve(_);const O={queryKey:e.queryKey,pageParam:N,direction:I?"backward":"forward",meta:e.options.meta};h(O);const T=await b(O),{maxPages:q}=e.options,A=I?_$:w$;return{pages:A(_.pages,T,q),pageParams:A(_.pageParams,N,q)}};if(i&&s.length){const _=i==="backward",N=_?R$:JI,I={pages:s,pageParams:o},O=N(r,I);l=await x(I,O,_)}else{const _=t??s.length;do{const N=c===0?o[0]??r.initialPageParam:JI(r,l);if(c>0&&N==null)break;l=await x(l,N),c++}while(c<_)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(d,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=d}}}function JI(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function R$(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var j$=class{#e;#t;#n;#r;#i;#s;#o;#a;constructor(t={}){this.#e=t.queryCache||new T$,this.#t=t.mutationCache||new q$,this.#n=t.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=t1.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=Uy.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(fd(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=this.#e.get(r.queryHash)?.state.data,o=v$(e,s);if(o!==void 0)return this.#e.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Kr.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Kr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e,r={type:"active",...t};return Kr.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Kr.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Zs).catch(Zs)}invalidateQueries(t,e={}){return Kr.batch(()=>{if(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none")return Promise.resolve();const n={...t,type:t?.refetchType??t?.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Kr.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Zs)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Zs)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(fd(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Zs).catch(Zs)}fetchInfiniteQuery(t){return t.behavior=ZI(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Zs).catch(Zs)}ensureInfiniteQueryData(t){return t.behavior=ZI(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Uy.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(Vu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{Jp(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#i.set(Vu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()];let n={};return e.forEach(r=>{Jp(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=YE(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===e1&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},A$=class extends Kd{constructor(t,e){super(),this.options=e,this.#e=t,this.#a=null,this.#o=qS(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#r=void 0;#i;#s;#o;#a;#u;#l;#c;#d;#p;#f;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),YI(this.#t,this.options)?this.#h():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return RS(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return RS(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#w(),this.#t.removeObserver(this)}setOptions(t,e){const n=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof vo(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#t.setOptions(this.options),n._defaulted&&!Wy(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&XI(this.#t,r,this.options,n)&&this.#h(),this.updateResult(e),i&&(this.#t!==r||vo(this.options.enabled,this.#t)!==vo(n.enabled,this.#t)||fd(this.options.staleTime,this.#t)!==fd(n.staleTime,this.#t))&&this.#g();const s=this.#y();i&&(this.#t!==r||vo(this.options.enabled,this.#t)!==vo(n.enabled,this.#t)||s!==this.#f)&&this.#v(s)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return F$(this,n)&&(this.#r=n,this.#s=this.options,this.#i=this.#t.state),n}getCurrentResult(){return this.#r}trackResult(t,e){const n={};return Object.keys(t).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),e?.(r),t[r])})}),n}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#h({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#h(t){this.#_();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Zs)),e}#g(){this.#x();const t=fd(this.options.staleTime,this.#t);if(Uu||this.#r.isStale||!CS(t))return;const n=a3(this.#r.dataUpdatedAt,t)+1;this.#d=setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#w(),this.#f=t,!(Uu||vo(this.options.enabled,this.#t)===!1||!CS(this.#f)||this.#f===0)&&(this.#p=setInterval(()=>{(this.options.refetchIntervalInBackground||t1.isFocused())&&this.#h()},this.#f))}#b(){this.#g(),this.#v(this.#y())}#x(){this.#d&&(clearTimeout(this.#d),this.#d=void 0)}#w(){this.#p&&(clearInterval(this.#p),this.#p=void 0)}createResult(t,e){const n=this.#t,r=this.options,i=this.#r,s=this.#i,o=this.#s,c=t!==n?t.state:this.#n,{state:d}=t;let f={...d},h=!1,b;if(e._optimisticResults){const z=this.hasListeners(),P=!z&&YI(t,e),R=z&&XI(t,n,e,r);(P||R)&&(f={...f,...p3(d.data,t.options)}),e._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:x,errorUpdatedAt:_,status:N}=f;if(e.select&&f.data!==void 0)if(i&&f.data===s?.data&&e.select===this.#u)b=this.#l;else try{this.#u=e.select,b=e.select(f.data),b=OS(i?.data,b,e),this.#l=b,this.#a=null}catch(z){this.#a=z}else b=f.data;if(e.placeholderData!==void 0&&b===void 0&&N==="pending"){let z;if(i?.isPlaceholderData&&e.placeholderData===o?.placeholderData)z=i.data;else if(z=typeof e.placeholderData=="function"?e.placeholderData(this.#c?.state.data,this.#c):e.placeholderData,e.select&&z!==void 0)try{z=e.select(z),this.#a=null}catch(P){this.#a=P}z!==void 0&&(N="success",b=OS(i?.data,z,e),h=!0)}this.#a&&(x=this.#a,b=this.#l,_=Date.now(),N="error");const I=f.fetchStatus==="fetching",O=N==="pending",T=N==="error",q=O&&I,A=b!==void 0,L={status:N,fetchStatus:f.fetchStatus,isPending:O,isSuccess:N==="success",isError:T,isInitialLoading:q,isLoading:q,data:b,dataUpdatedAt:f.dataUpdatedAt,error:x,errorUpdatedAt:_,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:I,isRefetching:I&&!O,isLoadingError:T&&!A,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:T&&A,isStale:n1(t,e),refetch:this.refetch,promise:this.#o};if(this.options.experimental_prefetchInRender){const z=B=>{L.status==="error"?B.reject(L.error):L.data!==void 0&&B.resolve(L.data)},P=()=>{const B=this.#o=L.promise=qS();z(B)},R=this.#o;switch(R.status){case"pending":t.queryHash===n.queryHash&&z(R);break;case"fulfilled":(L.status==="error"||L.data!==R.value)&&P();break;case"rejected":(L.status!=="error"||L.error!==R.reason)&&P();break}}return L}updateResult(t){const e=this.#r,n=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#s=this.options,this.#i.data!==void 0&&(this.#c=this.#t),Wy(n,e))return;this.#r=n;const r={},i=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!this.#m.size)return!0;const l=new Set(o??this.#m);return this.options.throwOnError&&l.add("error"),Object.keys(this.#r).some(c=>{const d=c;return this.#r[d]!==e[d]&&l.has(d)})};t?.listeners!==!1&&i()&&(r.listeners=!0),this.#S({...r,...t})}#_(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#S(t){Kr.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function P$(t,e){return vo(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function YI(t,e){return P$(t,e)||t.state.data!==void 0&&RS(t,e,e.refetchOnMount)}function RS(t,e,n){if(vo(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&n1(t,e)}return!1}function XI(t,e,n,r){return(t!==e||vo(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&n1(t,n)}function n1(t,e){return vo(e.enabled,t)!==!1&&t.isStaleByTime(fd(e.staleTime,t))}function F$(t,e){return!Wy(t.getCurrentResult(),e)}var D$=class extends Kd{#e;#t=void 0;#n;#r;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),Wy(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Vu(n.mutationKey)!==Vu(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#s(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#s()}mutate(e,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#i(){const e=this.#n?.state??h3();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#s(e){Kr.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,n,r),this.#r.onSettled?.(e.data,null,n,r)):e?.type==="error"&&(this.#r.onError?.(e.error,n,r),this.#r.onSettled?.(void 0,e.error,n,r))}this.listeners.forEach(n=>{n(this.#t)})})}},K=$h();const Ln=ro(K),L$=p$({__proto__:null,default:Ln},[K]);var m3=K.createContext(void 0),Zv=t=>{const e=K.useContext(m3);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},M$=({client:t,children:e})=>(K.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),p.jsx(m3.Provider,{value:t,children:e})),g3=K.createContext(!1),$$=()=>K.useContext(g3);g3.Provider;function B$(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var z$=K.createContext(B$()),W$=()=>K.useContext(z$);function y3(t,e){return typeof t=="function"?t(...e):!!t}function jS(){}var U$=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},V$=t=>{K.useEffect(()=>{t.clearReset()},[t])},H$=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&y3(n,[t.error,r]),Q$=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...n)=>Math.max(e(...n),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},K$=(t,e)=>t.isLoading&&t.isFetching&&!e,G$=(t,e)=>t?.suspense&&e.isPending,eC=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Z$(t,e,n){const r=Zv(),i=$$(),s=W$(),o=r.defaultQueryOptions(t);r.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=i?"isRestoring":"optimistic",Q$(o),U$(o,s),V$(s);const l=!r.getQueryCache().get(o.queryHash),[c]=K.useState(()=>new e(r,o)),d=c.getOptimisticResult(o),f=!i&&t.subscribed!==!1;if(K.useSyncExternalStore(K.useCallback(h=>{const b=f?c.subscribe(Kr.batchCalls(h)):jS;return c.updateResult(),b},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),K.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),G$(o,d))throw eC(o,c,s);if(H$({result:d,errorResetBoundary:s,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw d.error;return r.getDefaultOptions().queries?._experimental_afterQuery?.(o,d),o.experimental_prefetchInRender&&!Uu&&K$(d,i)&&(l?eC(o,c,s):r.getQueryCache().get(o.queryHash)?.promise)?.catch(jS).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?d:c.trackResult(d)}function Yp(t,e){return Z$(t,A$)}function tC(t,e){return t.findAll(e.filters).map(n=>e.select?e.select(n):n.state)}function J$(t={},e){const n=Zv().getMutationCache(),r=K.useRef(t),i=K.useRef(null);return i.current||(i.current=tC(n,t)),K.useEffect(()=>{r.current=t}),K.useSyncExternalStore(K.useCallback(s=>n.subscribe(()=>{const o=XE(i.current,tC(n,r.current));i.current!==o&&(i.current=o,Kr.schedule(s))}),[n]),()=>i.current,()=>i.current)}function cn(t,e){const n=Zv(),[r]=K.useState(()=>new D$(n,t));K.useEffect(()=>{r.setOptions(t)},[r,t]);const i=K.useSyncExternalStore(K.useCallback(o=>r.subscribe(Kr.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=K.useCallback((o,l)=>{r.mutate(o,l).catch(jS)},[r]);if(i.error&&y3(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}const Mu="__TSR_index",nC="popstate",rC="beforeunload";function v3(t){let e=t.getLocation();const n=new Set,r=o=>{e=t.getLocation(),n.forEach(l=>l({location:e,action:o}))},i=o=>{t.notifyOnIndexChange??!0?r(o):e=t.getLocation()},s=async({task:o,navigateOpts:l,...c})=>{var d,f;if(l?.ignoreBlocker??!1){o();return}const b=((d=t.getBlockers)==null?void 0:d.call(t))??[],x=c.type==="PUSH"||c.type==="REPLACE";if(typeof document<"u"&&b.length&&x)for(const _ of b){const N=Xp(c.path,c.state);if(await _.blockerFn({currentLocation:e,nextLocation:N,action:c.type})){(f=t.onBlocked)==null||f.call(t);return}}o()};return{get location(){return e},get length(){return t.getLength()},subscribers:n,subscribe:o=>(n.add(o),()=>{n.delete(o)}),push:(o,l,c)=>{const d=e.state[Mu];l=AS(d+1,l),s({task:()=>{t.pushState(o,l),r({type:"PUSH"})},navigateOpts:c,type:"PUSH",path:o,state:l})},replace:(o,l,c)=>{const d=e.state[Mu];l=AS(d,l),s({task:()=>{t.replaceState(o,l),r({type:"REPLACE"})},navigateOpts:c,type:"REPLACE",path:o,state:l})},go:(o,l)=>{s({task:()=>{t.go(o),i({type:"GO",index:o})},navigateOpts:l,type:"GO"})},back:o=>{s({task:()=>{t.back(o?.ignoreBlocker??!1),i({type:"BACK"})},navigateOpts:o,type:"BACK"})},forward:o=>{s({task:()=>{t.forward(o?.ignoreBlocker??!1),i({type:"FORWARD"})},navigateOpts:o,type:"FORWARD"})},canGoBack:()=>e.state[Mu]!==0,createHref:o=>t.createHref(o),block:o=>{var l;if(!t.setBlockers)return()=>{};const c=((l=t.getBlockers)==null?void 0:l.call(t))??[];return t.setBlockers([...c,o]),()=>{var d,f;const h=((d=t.getBlockers)==null?void 0:d.call(t))??[];(f=t.setBlockers)==null||f.call(t,h.filter(b=>b!==o))}},flush:()=>{var o;return(o=t.flush)==null?void 0:o.call(t)},destroy:()=>{var o;return(o=t.destroy)==null?void 0:o.call(t)},notify:r}}function AS(t,e){return e||(e={}),{...e,key:eB(),[Mu]:t}}function Y$(t){const e=typeof document<"u"?window:void 0,n=e.history.pushState,r=e.history.replaceState;let i=[];const s=()=>i,o=P=>i=P,l=P=>P,c=()=>Xp(`${e.location.pathname}${e.location.search}${e.location.hash}`,e.history.state);let d=c(),f,h=!1,b=!1,x=!1,_=!1;const N=()=>d;let I,O;const T=()=>{I&&(z._ignoreSubscribers=!0,(I.isPush?e.history.pushState:e.history.replaceState)(I.state,"",I.href),z._ignoreSubscribers=!1,I=void 0,O=void 0,f=void 0)},q=(P,R,B)=>{const F=l(R);O||(f=d),d=Xp(R,B),I={href:F,state:B,isPush:I?.isPush||P==="push"},O||(O=Promise.resolve().then(()=>T()))},A=P=>{d=c(),z.notify({type:P})},D=async()=>{if(b){b=!1;return}const P=c(),R=P.state[Mu]-d.state[Mu],B=R===1,F=R===-1,W=!B&&!F||h;h=!1;const U=W?"GO":F?"BACK":"FORWARD",$=W?{type:"GO",index:R}:{type:F?"BACK":"FORWARD"};if(x)x=!1;else{const ee=s();if(typeof document<"u"&&ee.length){for(const J of ee)if(await J.blockerFn({currentLocation:d,nextLocation:P,action:U})){b=!0,e.history.go(1),z.notify($);return}}}d=c(),z.notify($)},L=P=>{if(_){_=!1;return}let R=!1;const B=s();if(typeof document<"u"&&B.length)for(const F of B){const W=F.enableBeforeUnload??!0;if(W===!0){R=!0;break}if(typeof W=="function"&&W()===!0){R=!0;break}}if(R)return P.preventDefault(),P.returnValue=""},z=v3({getLocation:N,getLength:()=>e.history.length,pushState:(P,R)=>q("push",P,R),replaceState:(P,R)=>q("replace",P,R),back:P=>(P&&(x=!0),_=!0,e.history.back()),forward:P=>{P&&(x=!0),_=!0,e.history.forward()},go:P=>{h=!0,e.history.go(P)},createHref:P=>l(P),flush:T,destroy:()=>{e.history.pushState=n,e.history.replaceState=r,e.removeEventListener(rC,L,{capture:!0}),e.removeEventListener(nC,D)},onBlocked:()=>{f&&d!==f&&(d=f)},getBlockers:s,setBlockers:o,notifyOnIndexChange:!1});return e.addEventListener(rC,L,{capture:!0}),e.addEventListener(nC,D),e.history.pushState=function(...P){const R=n.apply(e.history,P);return z._ignoreSubscribers||A("PUSH"),R},e.history.replaceState=function(...P){const R=r.apply(e.history,P);return z._ignoreSubscribers||A("REPLACE"),R},z}function X$(t={initialEntries:["/"]}){const e=t.initialEntries;let n=t.initialIndex?Math.min(Math.max(t.initialIndex,0),e.length-1):e.length-1;const r=e.map((s,o)=>AS(o,void 0));return v3({getLocation:()=>Xp(e[n],r[n]),getLength:()=>e.length,pushState:(s,o)=>{n<e.length-1&&(e.splice(n+1),r.splice(n+1)),r.push(o),e.push(s),n=Math.max(e.length-1,0)},replaceState:(s,o)=>{r[n]=o,e[n]=s},back:()=>{n=Math.max(n-1,0)},forward:()=>{n=Math.min(n+1,e.length-1)},go:s=>{n=Math.min(Math.max(n+s,0),e.length-1)},createHref:s=>s})}function Xp(t,e){const n=t.indexOf("#"),r=t.indexOf("?");return{href:t,pathname:t.substring(0,n>0?r>0?Math.min(n,r):n:r>0?r:t.length),hash:n>-1?t.substring(n):"",search:r>-1?t.slice(r,n===-1?void 0:n):"",state:e||{[Mu]:0}}}function eB(){return(Math.random()+1).toString(36).substring(7)}var tB="Invariant failed";function Ns(t,e){if(!t)throw new Error(tB)}const Ow=K.createContext(null);function b3(){return typeof document>"u"?Ow:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=Ow,Ow)}function Oo(t){const e=K.useContext(b3());return t?.warn,e}var qw={exports:{}},Rw={},jw={exports:{}},Aw={};var iC;function nB(){if(iC)return Aw;iC=1;var t=$h();function e(h,b){return h===b&&(h!==0||1/h===1/b)||h!==h&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function l(h,b){var x=b(),_=r({inst:{value:x,getSnapshot:b}}),N=_[0].inst,I=_[1];return s(function(){N.value=x,N.getSnapshot=b,c(N)&&I({inst:N})},[h,x,b]),i(function(){return c(N)&&I({inst:N}),h(function(){c(N)&&I({inst:N})})},[h]),o(x),x}function c(h){var b=h.getSnapshot;h=h.value;try{var x=b();return!n(h,x)}catch{return!0}}function d(h,b){return b()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return Aw.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,Aw}var sC;function rB(){return sC||(sC=1,jw.exports=nB()),jw.exports}var oC;function iB(){if(oC)return Rw;oC=1;var t=$h(),e=rB();function n(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,l=t.useMemo,c=t.useDebugValue;return Rw.useSyncExternalStoreWithSelector=function(d,f,h,b,x){var _=s(null);if(_.current===null){var N={hasValue:!1,value:null};_.current=N}else N=_.current;_=l(function(){function O(L){if(!T){if(T=!0,q=L,L=b(L),x!==void 0&&N.hasValue){var z=N.value;if(x(z,L))return A=z}return A=L}if(z=A,r(q,L))return z;var P=b(L);return x!==void 0&&x(z,P)?(q=L,z):(q=L,A=P)}var T=!1,q,A,D=h===void 0?null:h;return[function(){return O(f())},D===null?void 0:function(){return O(D())}]},[f,h,b,x]);var I=i(d,_[0],_[1]);return o(function(){N.hasValue=!0,N.value=I},[I]),c(I),I},Rw}var aC;function sB(){return aC||(aC=1,qw.exports=iB()),qw.exports}var x3=sB();const oB=ro(x3),pd=new WeakMap,ty=new WeakMap,Vy={current:[]};let Pw=!1,Pp=0;const gp=new Set,bg=new Map;function w3(t){const e=Array.from(t).sort((n,r)=>n instanceof hd&&n.options.deps.includes(r)?1:r instanceof hd&&r.options.deps.includes(n)?-1:0);for(const n of e){if(Vy.current.includes(n))continue;Vy.current.push(n),n.recompute();const r=ty.get(n);if(r)for(const i of r){const s=pd.get(i);s&&w3(s)}}}function aB(t){t.listeners.forEach(e=>e({prevVal:t.prevState,currentVal:t.state}))}function lB(t){t.listeners.forEach(e=>e({prevVal:t.prevState,currentVal:t.state}))}function _3(t){if(Pp>0&&!bg.has(t)&&bg.set(t,t.prevState),gp.add(t),!(Pp>0)&&!Pw)try{for(Pw=!0;gp.size>0;){const e=Array.from(gp);gp.clear();for(const n of e){const r=bg.get(n)??n.prevState;n.prevState=r,aB(n)}for(const n of e){const r=pd.get(n);r&&(Vy.current.push(n),w3(r))}for(const n of e){const r=pd.get(n);if(r)for(const i of r)lB(i)}}}finally{Pw=!1,Vy.current=[],bg.clear()}}function Fw(t){Pp++;try{t()}finally{if(Pp--,Pp===0){const e=Array.from(gp)[0];e&&_3(e)}}}class PS{constructor(e,n){this.listeners=new Set,this.subscribe=r=>{var i,s;this.listeners.add(r);const o=(s=(i=this.options)==null?void 0:i.onSubscribe)==null?void 0:s.call(i,r,this);return()=>{this.listeners.delete(r),o?.()}},this.setState=r=>{var i,s,o;this.prevState=this.state,this.state=(i=this.options)!=null&&i.updateFn?this.options.updateFn(this.prevState)(r):r(this.prevState),(o=(s=this.options)==null?void 0:s.onUpdate)==null||o.call(s),_3(this)},this.prevState=e,this.state=e,this.options=n}}class hd{constructor(e){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const n=[],r=[];for(const i of this.options.deps)n.push(i.prevState),r.push(i.state);return this.lastSeenDepValues=r,{prevDepVals:n,currDepVals:r,prevVal:this.prevState??void 0}},this.recompute=()=>{var n,r;this.prevState=this.state;const{prevDepVals:i,currDepVals:s,prevVal:o}=this.getDepVals();this.state=this.options.fn({prevDepVals:i,currDepVals:s,prevVal:o}),(r=(n=this.options).onUpdate)==null||r.call(n)},this.checkIfRecalculationNeededDeeply=()=>{for(const s of this.options.deps)s instanceof hd&&s.checkIfRecalculationNeededDeeply();let n=!1;const r=this.lastSeenDepValues,{currDepVals:i}=this.getDepVals();for(let s=0;s<i.length;s++)if(i[s]!==r[s]){n=!0;break}n&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const n of this._subscriptions)n()}),this.subscribe=n=>{var r,i;this.listeners.add(n);const s=(i=(r=this.options).onSubscribe)==null?void 0:i.call(r,n,this);return()=>{this.listeners.delete(n),s?.()}},this.options=e,this.state=e.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(e=this.options.deps){for(const n of e)if(n instanceof hd)n.registerOnGraph(),this.registerOnGraph(n.options.deps);else if(n instanceof PS){let r=pd.get(n);r||(r=new Set,pd.set(n,r)),r.add(this);let i=ty.get(this);i||(i=new Set,ty.set(this,i)),i.add(n)}}unregisterFromGraph(e=this.options.deps){for(const n of e)if(n instanceof hd)this.unregisterFromGraph(n.options.deps);else if(n instanceof PS){const r=pd.get(n);r&&r.delete(this);const i=ty.get(this);i&&i.delete(n)}}}function uB(t,e=n=>n){return x3.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,cB)}function cB(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!e.has(r)||!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}var Dw,lC;function dB(){if(lC)return Dw;lC=1;const t={},e=t.hasOwnProperty,n=(P,R)=>{for(const B in P)e.call(P,B)&&R(B,P[B])},r=(P,R)=>(R&&n(R,(B,F)=>{P[B]=F}),P),i=(P,R)=>{const B=P.length;let F=-1;for(;++F<B;)R(P[F])},s=P=>"\\u"+("0000"+P).slice(-4),o=(P,R)=>{let B=P.toString(16);return R?B:B.toUpperCase()},l=t.toString,c=Array.isArray,d=P=>typeof Buffer=="function"&&Buffer.isBuffer(P),f=P=>l.call(P)=="[object Object]",h=P=>typeof P=="string"||l.call(P)=="[object String]",b=P=>typeof P=="number"||l.call(P)=="[object Number]",x=P=>typeof P=="bigint",_=P=>typeof P=="function",N=P=>l.call(P)=="[object Map]",I=P=>l.call(P)=="[object Set]",O={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},T=/[\\\b\f\n\r\t]/,q=/[0-9]/,A=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,D=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,L=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,z=(P,R)=>{const B=()=>{le=J,++R.indentLevel,J=R.indent.repeat(R.indentLevel)},F={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},W=R&&R.json;W&&(F.quotes="double",F.wrap=!0),R=r(F,R),R.quotes!="single"&&R.quotes!="double"&&R.quotes!="backtick"&&(R.quotes="single");const U=R.quotes=="double"?'"':R.quotes=="backtick"?"`":"'",$=R.compact,ee=R.lowercaseHex;let J=R.indent.repeat(R.indentLevel),le="";const se=R.__inline1__,te=R.__inline2__,oe=$?"":`
`;let X,ce=!0;const de=R.numbers=="binary",ye=R.numbers=="octal",we=R.numbers=="decimal",Ne=R.numbers=="hexadecimal";if(W&&P&&_(P.toJSON)&&(P=P.toJSON()),!h(P)){if(N(P))return P.size==0?"new Map()":($||(R.__inline1__=!0,R.__inline2__=!1),"new Map("+z(Array.from(P),R)+")");if(I(P))return P.size==0?"new Set()":"new Set("+z(Array.from(P),R)+")";if(d(P))return P.length==0?"Buffer.from([])":"Buffer.from("+z(Array.from(P),R)+")";if(c(P))return X=[],R.wrap=!0,se&&(R.__inline1__=!1,R.__inline2__=!0),te||B(),i(P,qe=>{ce=!1,te&&(R.__inline2__=!1),X.push(($||te?"":J)+z(qe,R))}),ce?"[]":te?"["+X.join(", ")+"]":"["+oe+X.join(","+oe)+oe+($?"":le)+"]";if(b(P)||x(P)){if(W)return JSON.stringify(Number(P));let qe;if(we)qe=String(P);else if(Ne){let De=P.toString(16);ee||(De=De.toUpperCase()),qe="0x"+De}else de?qe="0b"+P.toString(2):ye&&(qe="0o"+P.toString(8));return x(P)?qe+"n":qe}else return x(P)?W?JSON.stringify(Number(P)):P+"n":f(P)?(X=[],R.wrap=!0,B(),n(P,(qe,De)=>{ce=!1,X.push(($?"":J)+z(qe,R)+":"+($?"":" ")+z(De,R))}),ce?"{}":"{"+oe+X.join(","+oe)+oe+($?"":le)+"}"):W?JSON.stringify(P)||"null":String(P)}const ze=R.escapeEverything?D:L;return X=P.replace(ze,(qe,De,Ze,Xe,Ue,ut)=>{if(De){if(R.minimal)return De;const Tt=De.charCodeAt(0),Wt=De.charCodeAt(1);if(R.es6){const Xt=(Tt-55296)*1024+Wt-56320+65536;return"\\u{"+o(Xt,ee)+"}"}return s(o(Tt,ee))+s(o(Wt,ee))}if(Ze)return s(o(Ze.charCodeAt(0),ee));if(qe=="\0"&&!W&&!q.test(ut.charAt(Ue+1)))return"\\0";if(Xe)return Xe==U||R.escapeEverything?"\\"+Xe:Xe;if(T.test(qe))return O[qe];if(R.minimal&&!A.test(qe))return qe;const _t=o(qe.charCodeAt(0),ee);return W||_t.length>2?s(_t):"\\x"+("00"+_t).slice(-2)}),U=="`"&&(X=X.replace(/\$\{/g,"\\${")),R.isScriptContext&&(X=X.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,W?"\\u003C!--":"\\x3C!--")),R.wrap&&(X=U+X+U),X};return z.version="3.0.2",Dw=z,Dw}dB();const Ss="__root__";function fB(t,e){let n,r,i,s="";for(n in t)if((i=t[n])!==void 0)if(Array.isArray(i))for(r=0;r<i.length;r++)s&&(s+="&"),s+=encodeURIComponent(n)+"="+encodeURIComponent(i[r]);else s&&(s+="&"),s+=encodeURIComponent(n)+"="+encodeURIComponent(i);return""+s}function uC(t){if(!t)return"";const e=decodeURIComponent(t);return e==="false"?!1:e==="true"?!0:+e*0===0&&+e+""===e?+e:e}function pB(t,e){let n,r;const i={},s=t.split("&");for(;n=s.shift();){const o=n.indexOf("=");if(o!==-1){r=n.slice(0,o),r=decodeURIComponent(r);const l=n.slice(o+1);i[r]!==void 0?i[r]=[].concat(i[r],uC(l)):i[r]=uC(l)}else r=n,r=decodeURIComponent(r),i[r]=""}return i}const hB=gB(JSON.parse),mB=yB(JSON.stringify,JSON.parse);function gB(t){return e=>{e.substring(0,1)==="?"&&(e=e.substring(1));const n=pB(e);for(const r in n){const i=n[r];if(typeof i=="string")try{n[r]=t(i)}catch{}}return n}}function yB(t,e){function n(r){if(typeof r=="object"&&r!==null)try{return t(r)}catch{}else if(typeof r=="string"&&typeof e=="function")try{return e(r),t(r)}catch{}return r}return r=>{r={...r},Object.keys(r).forEach(s=>{const o=r[s];typeof o>"u"||o===void 0?delete r[s]:r[s]=n(o)});const i=fB(r).toString();return i?`?${i}`:""}}function Fp(t){return t[t.length-1]}function vB(t){return typeof t=="function"}function Ru(t,e){return vB(t)?t(e):t}function ny(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function Ks(t,e){if(t===e)return t;const n=e,r=dC(t)&&dC(n);if(r||Ol(t)&&Ol(n)){const i=r?t:Object.keys(t),s=i.length,o=r?n:Object.keys(n),l=o.length,c=r?[]:{};let d=0;for(let f=0;f<l;f++){const h=r?f:o[f];(!r&&i.includes(h)||r)&&t[h]===void 0&&n[h]===void 0?(c[h]=void 0,d++):(c[h]=Ks(t[h],n[h]),c[h]===t[h]&&t[h]!==void 0&&d++)}return s===l&&d===s?t:c}return n}function Ol(t){if(!cC(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!cC(n)||!n.hasOwnProperty("isPrototypeOf"))}function cC(t){return Object.prototype.toString.call(t)==="[object Object]"}function dC(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function fC(t,e){let n=Object.keys(t);return e&&(n=n.filter(r=>t[r]!==void 0)),n}function md(t,e,n){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(Ol(t)&&Ol(e)){const r=n?.ignoreUndefined??!0,i=fC(t,r),s=fC(e,r);return!n?.partial&&i.length!==s.length?!1:s.every(o=>md(t[o],e[o],n))}return Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:!t.some((r,i)=>!md(r,e[i],n)):!1}const yp=typeof window<"u"?K.useLayoutEffect:K.useEffect;function Xc(t){let e,n;const r=new Promise((i,s)=>{e=i,n=s});return r.status="pending",r.resolve=i=>{r.status="resolved",r.value=i,e(i),t?.(i)},r.reject=i=>{r.status="rejected",n(i)},r}function Lw(t){const e=K.useRef({value:t,prev:null}),n=e.current.value;return t!==n&&(e.current={value:t,prev:n}),e.current.prev}function bB(t,e,n={},r={}){const i=K.useRef(typeof IntersectionObserver=="function"),s=K.useRef(null);return K.useEffect(()=>{if(!(!t.current||!i.current||r.disabled))return s.current=new IntersectionObserver(([o])=>{e(o)},n),s.current.observe(t.current),()=>{var o;(o=s.current)==null||o.disconnect()}},[e,n,r.disabled,t]),s.current}function xB(t){const e=K.useRef(null);return K.useEffect(()=>{t&&(typeof t=="function"?t(e.current):t.current=e.current)}),e}function qa(t){return Jv(t.filter(e=>e!==void 0).join("/"))}function Jv(t){return t.replace(/\/{2,}/g,"/")}function r1(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function ju(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function wB(t){return ju(r1(t))}function Hy(t,e){return t.endsWith("/")&&t!=="/"&&t!==`${e}/`?t.slice(0,-1):t}function _B(t,e,n){return Hy(t,n)===Hy(e,n)}function SB({basepath:t,base:e,to:n,trailingSlash:r="never",caseSensitive:i}){var s,o;e=Qy(t,e,i),n=Qy(t,n,i);let l=qd(e);const c=qd(n);l.length>1&&((s=Fp(l))==null?void 0:s.value)==="/"&&l.pop(),c.forEach((f,h)=>{f.value==="/"?h?h===c.length-1&&l.push(f):l=[f]:f.value===".."?l.pop():f.value==="."||l.push(f)}),l.length>1&&(((o=Fp(l))==null?void 0:o.value)==="/"?r==="never"&&l.pop():r==="always"&&l.push({type:"pathname",value:"/"}));const d=qa([t,...l.map(f=>f.value)]);return Jv(d)}function qd(t){if(!t)return[];t=Jv(t);const e=[];if(t.slice(0,1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),!t)return e;const n=t.split("/").filter(Boolean);return e.push(...n.map(r=>r==="$"||r==="*"?{type:"wildcard",value:r}:r.charAt(0)==="$"?{type:"param",value:r}:{type:"pathname",value:decodeURI(r)})),t.slice(-1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),e}function xg({path:t,params:e,leaveWildcards:n,leaveParams:r,decodeCharMap:i}){const s=qd(t),o={};for(const[l,c]of Object.entries(e)){const d=typeof c=="string";["*","_splat"].includes(l)?o[l]=d?encodeURI(c):c:o[l]=d?EB(c,i):c}return qa(s.map(l=>{if(l.type==="wildcard"){const c=o._splat;return n?`${l.value}${c??""}`:c}if(l.type==="param"){if(r){const c=o[l.value];return`${l.value}${c??""}`}return o[l.value.substring(1)]??"undefined"}return l.value}))}function EB(t,e){let n=encodeURIComponent(t);if(e)for(const[r,i]of e)n=n.replaceAll(r,i);return n}function wg(t,e,n){const r=NB(t,e,n);if(!(n.to&&!r))return r??{}}function Qy(t,e,n=!1){const r=n?t:t.toLowerCase(),i=n?e:e.toLowerCase();switch(!0){case r==="/":return e;case i===r:return"";case e.length<t.length:return e;case i[r.length]!=="/":return e;case i.startsWith(r):return e.slice(t.length);default:return e}}function NB(t,e,n){if(t!=="/"&&!e.startsWith(t))return;e=Qy(t,e,n.caseSensitive);const r=Qy(t,`${n.to??"$"}`,n.caseSensitive),i=qd(e),s=qd(r);e.startsWith("/")||i.unshift({type:"pathname",value:"/"}),r.startsWith("/")||s.unshift({type:"pathname",value:"/"});const o={};return(()=>{for(let c=0;c<Math.max(i.length,s.length);c++){const d=i[c],f=s[c],h=c>=i.length-1,b=c>=s.length-1;if(f){if(f.type==="wildcard"){const x=decodeURI(qa(i.slice(c).map(_=>_.value)));return o["*"]=x,o._splat=x,!0}if(f.type==="pathname"){if(f.value==="/"&&!d?.value)return!0;if(d){if(n.caseSensitive){if(f.value!==d.value)return!1}else if(f.value.toLowerCase()!==d.value.toLowerCase())return!1}}if(!d)return!1;if(f.type==="param"){if(d.value==="/")return!1;d.value.charAt(0)!=="$"&&(o[f.value.substring(1)]=decodeURIComponent(d.value))}}if(!h&&b)return o["**"]=qa(i.slice(c+1).map(x=>x.value)),!!n.fuzzy&&f?.value!=="/"}return!0})()?o:void 0}function Yv(t){if(t.isRedirect=!0,t.statusCode=t.statusCode||t.code||307,t.headers=t.headers||{},!t.reloadDocument){t.reloadDocument=!1;try{new URL(`${t.href}`),t.reloadDocument=!0}catch{}}if(t.throw)throw t;return t}function Su(t){return!!t?.isRedirect}function Mw(t){return!!t?.isRedirect&&t.href}function i1(t){const e=t.errorComponent??Xv;return p.jsx(kB,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:n,reset:r})=>n?K.createElement(e,{error:n,reset:r}):t.children})}class kB extends K.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,n){n.error&&n.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,n){this.props.onCatch&&this.props.onCatch(e,n)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function Xv({error:t}){const[e,n]=K.useState(!1);return p.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[p.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),p.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>n(r=>!r),children:e?"Hide Error":"Show Error"})]}),p.jsx("div",{style:{height:".25rem"}}),e?p.jsx("div",{children:p.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?p.jsx("code",{children:t.message}):null})}):null]})}function zi(t){const e=Oo({warn:t?.router===void 0}),n=t?.router||e,r=K.useRef();return uB(n.__store,i=>{if(t?.select){if(t.structuralSharing??n.options.defaultStructuralSharing){const s=Ks(r.current,t.select(i));return r.current=s,s}return t.select(i)}return i})}function go(t){return!!t?.isNotFound}function IB(t){const e=zi({select:n=>`not-found-${n.location.pathname}-${n.status}`});return p.jsx(i1,{getResetKey:()=>e,onCatch:(n,r)=>{var i;if(go(n))(i=t.onCatch)==null||i.call(t,n,r);else throw n},errorComponent:({error:n})=>{var r;if(go(n))return(r=t.fallback)==null?void 0:r.call(t,n);throw n},children:t.children})}function CB(){return p.jsx("p",{children:"Not Found"})}const vp={stringify:t=>JSON.stringify(t,function(n,r){const i=this[n],s=Sg.find(o=>o.stringifyCondition(i));return s?s.stringify(i):r}),parse:t=>JSON.parse(t,function(n,r){const i=this[n];if(Ol(i)){const s=Sg.find(o=>o.parseCondition(i));if(s)return s.parse(i)}return r}),encode:t=>{if(Array.isArray(t))return t.map(n=>vp.encode(n));if(Ol(t))return Object.fromEntries(Object.entries(t).map(([n,r])=>[n,vp.encode(r)]));const e=Sg.find(n=>n.stringifyCondition(t));return e?e.stringify(t):t},decode:t=>{if(Ol(t)){const e=Sg.find(n=>n.parseCondition(t));if(e)return e.parse(t)}return Array.isArray(t)?t.map(e=>vp.decode(e)):Ol(t)?Object.fromEntries(Object.entries(t).map(([e,n])=>[e,vp.decode(n)])):t}},_g=(t,e,n,r)=>({key:t,stringifyCondition:e,stringify:i=>({[`$${t}`]:n(i)}),parseCondition:i=>Object.hasOwn(i,`$${t}`),parse:i=>r(i[`$${t}`])}),Sg=[_g("undefined",t=>t===void 0,()=>0,()=>{}),_g("date",t=>t instanceof Date,t=>t.toISOString(),t=>new Date(t)),_g("error",t=>t instanceof Error,t=>({...t,message:t.message,stack:t.stack,cause:t.cause}),t=>Object.assign(new Error(t.message),t)),_g("formData",t=>t instanceof FormData,t=>{const e={};return t.forEach((n,r)=>{const i=e[r];i!==void 0?Array.isArray(i)?i.push(n):e[r]=[i,n]:e[r]=n}),e},t=>{const e=new FormData;return Object.entries(t).forEach(([n,r])=>{Array.isArray(r)?r.forEach(i=>e.append(n,i)):e.append(n,r)}),e})],S3=["component","errorComponent","pendingComponent","notFoundComponent"];function TB(t){var e;for(const n of S3)if((e=t.options[n])!=null&&e.preload)return!0;return!1}function $w(t,e){if(t==null)return{};if("~standard"in t){const n=t["~standard"].validate(e);if(n instanceof Promise)throw new FS("Async validation not supported");if(n.issues)throw new FS(JSON.stringify(n.issues,void 0,2));return n.value}return"parse"in t?t.parse(e):typeof t=="function"?t(e):{}}function OB(t){return new qB(t)}class qB{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.startReactTransition=n=>n(),this.update=n=>{var r;n.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/guide/not-found-errors#migrating-from-notfoundroute for more info.");const i=this.options;this.options={...this.options,...n},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(s=>[encodeURIComponent(s),s])):void 0,(!this.basepath||n.basepath&&n.basepath!==i.basepath)&&(n.basepath===void 0||n.basepath===""||n.basepath==="/"?this.basepath="/":this.basepath=`/${wB(n.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?X$({initialEntries:[this.basepath||"/"]}):Y$()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new PS(jB(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(s=>!["redirected"].includes(s.status))}}})),typeof window<"u"&&"CSS"in window&&typeof((r=window.CSS)==null?void 0:r.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.buildRouteTree=()=>{this.routesById={},this.routesByPath={};const n=this.options.notFoundRoute;n&&(n.init({originalIndex:0x174876e7ff,defaultSsr:this.options.defaultSsr}),this.routesById[n.id]=n);const r=o=>{o.forEach((l,c)=>{l.init({originalIndex:c,defaultSsr:this.options.defaultSsr});const d=this.routesById[l.id];if(Ns(!d,`Duplicate routes found with id: ${String(l.id)}`),this.routesById[l.id]=l,!l.isRoot&&l.path){const h=ju(l.fullPath);(!this.routesByPath[h]||l.fullPath.endsWith("/"))&&(this.routesByPath[h]=l)}const f=l.children;f?.length&&r(f)})};r([this.routeTree]);const i=[];Object.values(this.routesById).forEach((o,l)=>{var c;if(o.isRoot||!o.path)return;const d=r1(o.fullPath),f=qd(d);for(;f.length>1&&((c=f[0])==null?void 0:c.value)==="/";)f.shift();const h=f.map(b=>b.value==="/"?.75:b.type==="param"?.5:b.type==="wildcard"?.25:1);i.push({child:o,trimmed:d,parsed:f,index:l,scores:h})}),this.flatRoutes=i.sort((o,l)=>{const c=Math.min(o.scores.length,l.scores.length);for(let d=0;d<c;d++)if(o.scores[d]!==l.scores[d])return l.scores[d]-o.scores[d];if(o.scores.length!==l.scores.length)return l.scores.length-o.scores.length;for(let d=0;d<c;d++)if(o.parsed[d].value!==l.parsed[d].value)return o.parsed[d].value>l.parsed[d].value?1:-1;return o.index-l.index}).map((o,l)=>(o.child.rank=l,o.child))},this.subscribe=(n,r)=>{const i={eventType:n,fn:r};return this.subscribers.add(i),()=>{this.subscribers.delete(i)}},this.emit=n=>{this.subscribers.forEach(r=>{r.eventType===n.type&&r.fn(n)})},this.parseLocation=(n,r)=>{const i=({pathname:c,search:d,hash:f,state:h})=>{const b=this.options.parseSearch(d),x=this.options.stringifySearch(b);return{pathname:c,searchStr:x,search:Ks(n?.search,b),hash:f.split("#").reverse()[0]??"",href:`${c}${x}${f}`,state:Ks(n?.state,h)}},s=i(r??this.history.location),{__tempLocation:o,__tempKey:l}=s.state;if(o&&(!l||l===this.tempLocationKey)){const c=i(o);return c.state.key=s.state.key,delete c.state.__tempLocation,{...c,maskedLocation:s}}return s},this.resolvePathWithBase=(n,r)=>SB({basepath:this.basepath,base:n,to:Jv(r),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.getMatchedRoutes=(n,r)=>{let i={};const s=ju(n.pathname),o=f=>wg(this.basepath,s,{to:f.fullPath,caseSensitive:f.options.caseSensitive??this.options.caseSensitive,fuzzy:!0});let l=r?.to!==void 0?this.routesByPath[r.to]:void 0;l?i=o(l):l=this.flatRoutes.find(f=>{const h=o(f);return h?(i=h,!0):!1});let c=l||this.routesById[Ss];const d=[c];for(;c.parentRoute;)c=c.parentRoute,d.unshift(c);return{matchedRoutes:d,routeParams:i,foundRoute:l}},this.cancelMatch=n=>{const r=this.getMatch(n);r&&(r.abortController.abort(),clearTimeout(r.pendingTimeout))},this.cancelMatches=()=>{var n;(n=this.state.pendingMatches)==null||n.forEach(r=>{this.cancelMatch(r.id)})},this.buildLocation=n=>{const r=(s={},o)=>{var l,c,d,f,h,b;const x=s._fromLocation?this.matchRoutes(s._fromLocation,{_buildLocation:!0}):this.state.matches,_=s.from!=null?x.find(F=>wg(this.basepath,ju(F.pathname),{to:s.from,caseSensitive:!1,fuzzy:!1})):void 0,N=_?.pathname||this.latestLocation.pathname;Ns(s.from==null||_!=null,"Could not find match for from: "+s.from);const I=(l=this.state.pendingMatches)!=null&&l.length?(c=Fp(this.state.pendingMatches))==null?void 0:c.search:((d=Fp(x))==null?void 0:d.search)||this.latestLocation.search,O=o?.matchedRoutes.filter(F=>x.find(W=>W.routeId===F.id));let T;if(s.to)T=this.resolvePathWithBase(N,`${s.to}`);else{const F=this.routesById[(f=O?.find(W=>{const U=xg({path:W.fullPath,params:o?.routeParams??{},decodeCharMap:this.pathParamsDecodeCharMap});return qa([this.basepath,U])===N}))==null?void 0:f.id];T=this.resolvePathWithBase(N,F?.to??N)}const q={...(h=Fp(x))==null?void 0:h.params};let A=(s.params??!0)===!0?q:{...q,...Ru(s.params,q)};Object.keys(A).length>0&&o?.matchedRoutes.map(F=>{var W;return((W=F.options.params)==null?void 0:W.stringify)??F.options.stringifyParams}).filter(Boolean).forEach(F=>{A={...A,...F(A)}}),T=xg({path:T,params:A??{},leaveWildcards:!1,leaveParams:n.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap});let D=I;if(n._includeValidateSearch&&((b=this.options.search)!=null&&b.strict)){let F={};o?.matchedRoutes.forEach(W=>{try{W.options.validateSearch&&(F={...F,...$w(W.options.validateSearch,{...F,...D})??{}})}catch{}}),D=F}D=(F=>{const W=o?.matchedRoutes.reduce((ee,J)=>{var le;const se=[];if("search"in J.options)(le=J.options.search)!=null&&le.middlewares&&se.push(...J.options.search.middlewares);else if(J.options.preSearchFilters||J.options.postSearchFilters){const te=({search:oe,next:X})=>{let ce=oe;"preSearchFilters"in J.options&&J.options.preSearchFilters&&(ce=J.options.preSearchFilters.reduce((ye,we)=>we(ye),oe));const de=X(ce);return"postSearchFilters"in J.options&&J.options.postSearchFilters?J.options.postSearchFilters.reduce((ye,we)=>we(ye),de):de};se.push(te)}if(n._includeValidateSearch&&J.options.validateSearch){const te=({search:oe,next:X})=>{try{const ce=X(oe);return{...ce,...$w(J.options.validateSearch,ce)??{}}}catch{}};se.push(te)}return ee.concat(se)},[])??[],U=({search:ee})=>s.search?s.search===!0?ee:Ru(s.search,ee):{};W.push(U);const $=(ee,J)=>{if(ee>=W.length)return J;const le=W[ee];return le({search:J,next:te=>$(ee+1,te)})};return $(0,F)})(D),D=Ks(I,D);const z=this.options.stringifySearch(D),P=s.hash===!0?this.latestLocation.hash:s.hash?Ru(s.hash,this.latestLocation.hash):void 0,R=P?`#${P}`:"";let B=s.state===!0?this.latestLocation.state:s.state?Ru(s.state,this.latestLocation.state):{};return B=Ks(this.latestLocation.state,B),{pathname:T,search:D,searchStr:z,state:B,hash:P??"",href:`${T}${z}${R}`,unmaskOnReload:s.unmaskOnReload}},i=(s={},o)=>{var l;const c=r(s);let d=o?r(o):void 0;if(!d){let b={};const x=(l=this.options.routeMasks)==null?void 0:l.find(_=>{const N=wg(this.basepath,c.pathname,{to:_.from,caseSensitive:!1,fuzzy:!1});return N?(b=N,!0):!1});if(x){const{from:_,...N}=x;o={...ny(n,["from"]),...N,params:b},d=r(o)}}const f=this.getMatchedRoutes(c,s),h=r(s,f);if(d){const b=this.getMatchedRoutes(d,o),x=r(o,b);h.maskedLocation=x}return h};return n.mask?i(n,{...ny(n,["from"]),...n.mask}):i(n)},this.commitLocation=({viewTransition:n,ignoreBlocker:r,...i})=>{const s=()=>{i.state.key=this.latestLocation.state.key;const c=md(i.state,this.latestLocation.state);return delete i.state.key,c},o=this.latestLocation.href===i.href,l=this.commitLocationPromise;if(this.commitLocationPromise=Xc(()=>{l?.resolve()}),o&&s())this.load();else{let{maskedLocation:c,hashScrollIntoView:d,...f}=i;c&&(f={...c,state:{...c.state,__tempKey:void 0,__tempLocation:{...f,search:f.searchStr,state:{...f.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}},(f.unmaskOnReload??this.options.unmaskOnReload??!1)&&(f.state.__tempKey=this.tempLocationKey)),f.state.__hashScrollIntoViewOptions=d??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=n,this.history[i.replace?"replace":"push"](f.href,f.state,{ignoreBlocker:r})}return this.resetNextScroll=i.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:n,resetScroll:r,hashScrollIntoView:i,viewTransition:s,ignoreBlocker:o,href:l,...c}={})=>{if(l){const f=this.history.location.state.__TSR_index,h=Xp(l,{__TSR_index:n?f:f+1});c.to=h.pathname,c.search=this.options.parseSearch(h.search),c.hash=h.hash.slice(1)}const d=this.buildLocation({...c,_includeValidateSearch:!0});return this.commitLocation({...d,viewTransition:s,replace:n,resetScroll:r,hashScrollIntoView:i,ignoreBlocker:o})},this.navigate=({to:n,reloadDocument:r,href:i,...s})=>{if(r){i||(i=this.buildLocation({to:n,...s}).href),s.replace?window.location.replace(i):window.location.href=i;return}return this.buildAndCommitLocation({...s,href:i,to:n})},this.load=async n=>{this.latestLocation=this.parseLocation(this.latestLocation);let r,i,s;for(s=new Promise(o=>{this.startReactTransition(async()=>{var l;try{const c=this.latestLocation,d=this.state.resolvedLocation,f=d.href!==c.href,h=d.pathname!==c.pathname;this.cancelMatches();let b;Fw(()=>{b=this.matchRoutes(c),this.__store.setState(x=>({...x,status:"pending",isLoading:!0,location:c,pendingMatches:b,cachedMatches:x.cachedMatches.filter(_=>!b.find(N=>N.id===_.id))}))}),this.state.redirect||this.emit({type:"onBeforeNavigate",fromLocation:d,toLocation:c,pathChanged:h,hrefChanged:f}),this.emit({type:"onBeforeLoad",fromLocation:d,toLocation:c,pathChanged:h,hrefChanged:f}),await this.loadMatches({sync:n?.sync,matches:b,location:c,onReady:async()=>{this.startViewTransition(async()=>{let x,_,N;Fw(()=>{this.__store.setState(I=>{const O=I.matches,T=I.pendingMatches||I.matches;return x=O.filter(q=>!T.find(A=>A.id===q.id)),_=T.filter(q=>!O.find(A=>A.id===q.id)),N=O.filter(q=>T.find(A=>A.id===q.id)),{...I,isLoading:!1,loadedAt:Date.now(),matches:T,pendingMatches:void 0,cachedMatches:[...I.cachedMatches,...x.filter(q=>q.status!=="error")]}}),this.clearExpiredCache()}),[[x,"onLeave"],[_,"onEnter"],[N,"onStay"]].forEach(([I,O])=>{I.forEach(T=>{var q,A;(A=(q=this.looseRoutesById[T.routeId].options)[O])==null||A.call(q,T)})})})}})}catch(c){Mw(c)?(r=c,this.isServer||this.navigate({...r,replace:!0,ignoreBlocker:!0})):go(c)&&(i=c),this.__store.setState(d=>({...d,statusCode:r?r.statusCode:i?404:d.matches.some(f=>f.status==="error")?500:200,redirect:r}))}this.latestLoadPromise===s&&((l=this.commitLocationPromise)==null||l.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),o()})}),this.latestLoadPromise=s,await s;this.latestLoadPromise&&s!==this.latestLoadPromise;)await this.latestLoadPromise},this.startViewTransition=n=>{const r=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,r&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let i;typeof r=="object"&&this.isViewTransitionTypesSupported?i={update:n,types:r.types}:i=n,document.startViewTransition(i)}else n()},this.updateMatch=(n,r)=>{var i;let s;const o=(i=this.state.pendingMatches)==null?void 0:i.find(f=>f.id===n),l=this.state.matches.find(f=>f.id===n),c=this.state.cachedMatches.find(f=>f.id===n),d=o?"pendingMatches":l?"matches":c?"cachedMatches":"";return d&&this.__store.setState(f=>{var h;return{...f,[d]:(h=f[d])==null?void 0:h.map(b=>b.id===n?s=r(b):b)}}),s},this.getMatch=n=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(r=>r.id===n),this.loadMatches=async({location:n,matches:r,preload:i,onReady:s,updateMatch:o=this.updateMatch,sync:l})=>{let c,d=!1;const f=async()=>{d||(d=!0,await s?.())},h=x=>!!(i&&!this.state.matches.find(_=>_.id===x));!this.isServer&&!this.state.matches.length&&f();const b=(x,_)=>{var N,I,O;if(Mw(_)&&!_.reloadDocument)throw _;if(Su(_)||go(_)){if(o(x.id,T=>({...T,status:Su(_)?"redirected":go(_)?"notFound":"error",isFetching:!1,error:_,beforeLoadPromise:void 0,loaderPromise:void 0})),_.routeId||(_.routeId=x.routeId),(N=x.beforeLoadPromise)==null||N.resolve(),(I=x.loaderPromise)==null||I.resolve(),(O=x.loadPromise)==null||O.resolve(),Su(_))throw d=!0,_=this.resolveRedirect({..._,_fromLocation:n}),_;if(go(_))throw this._handleNotFound(r,_,{updateMatch:o}),_}};try{await new Promise((x,_)=>{(async()=>{var N,I,O;try{const T=(D,L,z)=>{var P,R;const{id:B,routeId:F}=r[D],W=this.looseRoutesById[F];if(L instanceof Promise)throw L;L.routerCode=z,c=c??D,b(this.getMatch(B),L);try{(R=(P=W.options).onError)==null||R.call(P,L)}catch(U){L=U,b(this.getMatch(B),L)}o(B,U=>{var $,ee;return($=U.beforeLoadPromise)==null||$.resolve(),(ee=U.loadPromise)==null||ee.resolve(),{...U,error:L,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[D,{id:L,routeId:z}]of r.entries()){const P=this.getMatch(L),R=(N=r[D-1])==null?void 0:N.id,B=this.looseRoutesById[z],F=B.options.pendingMs??this.options.defaultPendingMs,W=!!(s&&!this.isServer&&!h(L)&&(B.options.loader||B.options.beforeLoad)&&typeof F=="number"&&F!==1/0&&(B.options.pendingComponent??this.options.defaultPendingComponent));let U=!0;if((P.beforeLoadPromise||P.loaderPromise)&&(W&&setTimeout(()=>{try{f()}catch{}},F),await P.beforeLoadPromise,U=this.getMatch(L).status!=="success"),U){try{o(L,Ne=>({...Ne,loadPromise:Xc(()=>{var ze;(ze=Ne.loadPromise)==null||ze.resolve()}),beforeLoadPromise:Xc()}));const $=new AbortController;let ee;W&&(ee=setTimeout(()=>{try{f()}catch{}},F));const{paramsError:J,searchError:le}=this.getMatch(L);J&&T(D,J,"PARSE_PARAMS"),le&&T(D,le,"VALIDATE_SEARCH");const se=()=>R?this.getMatch(R).context:this.options.context??{};o(L,Ne=>({...Ne,isFetching:"beforeLoad",fetchCount:Ne.fetchCount+1,abortController:$,pendingTimeout:ee,context:{...se(),...Ne.__routeContext}}));const{search:te,params:oe,context:X,cause:ce}=this.getMatch(L),de=h(L),ye={search:te,abortController:$,params:oe,preload:de,context:X,location:n,navigate:Ne=>this.navigate({...Ne,_fromLocation:n}),buildLocation:this.buildLocation,cause:de?"preload":ce,matches:r};let we=await ((O=(I=B.options).beforeLoad)==null?void 0:O.call(I,ye))??{};this.serializeLoaderData&&(we=this.serializeLoaderData("__beforeLoadContext",we,{router:this,match:this.getMatch(L)})),(Su(we)||go(we))&&T(D,we,"BEFORE_LOAD"),o(L,Ne=>({...Ne,__beforeLoadContext:we,context:{...se(),...Ne.__routeContext,...we},abortController:$}))}catch($){T(D,$,"BEFORE_LOAD")}o(L,$=>{var ee;return(ee=$.beforeLoadPromise)==null||ee.resolve(),{...$,beforeLoadPromise:void 0,isFetching:!1}})}}const q=r.slice(0,c),A=[];q.forEach(({id:D,routeId:L},z)=>{A.push((async()=>{const{loaderPromise:P}=this.getMatch(D);let R=!1,B=!1;if(P){await P;const F=this.getMatch(D);F.error&&b(F,F.error)}else{const F=A[z-1],W=this.looseRoutesById[L],U=()=>{const{params:ce,loaderDeps:de,abortController:ye,context:we,cause:Ne}=this.getMatch(D),ze=h(D);return{params:ce,deps:de,preload:!!ze,parentMatchPromise:F,abortController:ye,context:we,location:n,navigate:qe=>this.navigate({...qe,_fromLocation:n}),cause:ze?"preload":Ne,route:W}},$=Date.now()-this.getMatch(D).updatedAt,ee=h(D),J=ee?W.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:W.options.staleTime??this.options.defaultStaleTime??0,le=W.options.shouldReload,se=typeof le=="function"?le(U()):le;o(D,ce=>({...ce,loaderPromise:Xc(),preload:!!ee&&!this.state.matches.find(de=>de.id===D)}));const te=async()=>{var ce,de,ye,we,Ne,ze,qe,De;try{const Ze=async()=>{const Xe=this.getMatch(D);Xe.minPendingPromise&&await Xe.minPendingPromise};try{this.loadRouteChunk(W),o(D,Xt=>({...Xt,isFetching:"loader"}));let Xe=await ((de=(ce=W.options).loader)==null?void 0:de.call(ce,U()));this.serializeLoaderData&&(Xe=this.serializeLoaderData("loaderData",Xe,{router:this,match:this.getMatch(D)})),b(this.getMatch(D),Xe),await W._lazyPromise,await Ze();const Ue=(we=(ye=W.options).head)==null?void 0:we.call(ye,{matches:r,match:this.getMatch(D),params:this.getMatch(D).params,loaderData:Xe}),ut=Ue?.meta,_t=Ue?.links,Tt=Ue?.scripts,Wt=(ze=(Ne=W.options).headers)==null?void 0:ze.call(Ne,{loaderData:Xe});o(D,Xt=>({...Xt,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:Xe,meta:ut,links:_t,scripts:Tt,headers:Wt}))}catch(Xe){let Ue=Xe;await Ze(),b(this.getMatch(D),Xe);try{(De=(qe=W.options).onError)==null||De.call(qe,Xe)}catch(ut){Ue=ut,b(this.getMatch(D),ut)}o(D,ut=>({...ut,error:Ue,status:"error",isFetching:!1}))}await W._componentsPromise}catch(Ze){o(D,Xe=>({...Xe,loaderPromise:void 0})),b(this.getMatch(D),Ze)}},{status:oe,invalid:X}=this.getMatch(D);R=oe==="success"&&(X||(se??$>J)),ee&&W.options.preload===!1||(R&&!l?(B=!0,(async()=>{try{await te();const{loaderPromise:ce,loadPromise:de}=this.getMatch(D);ce?.resolve(),de?.resolve(),o(D,ye=>({...ye,loaderPromise:void 0}))}catch(ce){Mw(ce)&&await this.navigate(ce)}})()):(oe!=="success"||R&&l)&&await te())}if(!B){const{loaderPromise:F,loadPromise:W}=this.getMatch(D);F?.resolve(),W?.resolve()}return o(D,F=>({...F,isFetching:B?F.isFetching:!1,loaderPromise:B?F.loaderPromise:void 0,invalid:!1})),this.getMatch(D)})())}),await Promise.all(A),x()}catch(T){_(T)}})()}),await f()}catch(x){if(Su(x)||go(x))throw go(x)&&!i&&await f(),x}return r},this.invalidate=n=>{const r=i=>{var s;return((s=n?.filter)==null?void 0:s.call(n,i))??!0?{...i,invalid:!0,...i.status==="error"?{status:"pending",error:void 0}:{}}:i};return this.__store.setState(i=>{var s;return{...i,matches:i.matches.map(r),cachedMatches:i.cachedMatches.map(r),pendingMatches:(s=i.pendingMatches)==null?void 0:s.map(r)}}),this.load({sync:n?.sync})},this.resolveRedirect=n=>{const r=n;return r.href||(r.href=this.buildLocation(r).href),r},this.clearCache=n=>{const r=n?.filter;r!==void 0?this.__store.setState(i=>({...i,cachedMatches:i.cachedMatches.filter(s=>!r(s))})):this.__store.setState(i=>({...i,cachedMatches:[]}))},this.clearExpiredCache=()=>{const n=r=>{const i=this.looseRoutesById[r.routeId];if(!i.options.loader)return!0;const s=(r.preload?i.options.preloadGcTime??this.options.defaultPreloadGcTime:i.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return!(r.status!=="error"&&Date.now()-r.updatedAt<s)};this.clearCache({filter:n})},this.loadRouteChunk=n=>(n._lazyPromise===void 0&&(n.lazyFn?n._lazyPromise=n.lazyFn().then(r=>{const{id:i,...s}=r.options;Object.assign(n.options,s)}):n._lazyPromise=Promise.resolve()),n._componentsPromise===void 0&&(n._componentsPromise=n._lazyPromise.then(()=>Promise.all(S3.map(async r=>{const i=n.options[r];i?.preload&&await i.preload()})))),n._componentsPromise),this.preloadRoute=async n=>{const r=this.buildLocation(n);let i=this.matchRoutes(r,{throwOnError:!0,preload:!0,dest:n});const s=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(l=>l.id)),o=new Set([...s,...this.state.cachedMatches.map(l=>l.id)]);Fw(()=>{i.forEach(l=>{o.has(l.id)||this.__store.setState(c=>({...c,cachedMatches:[...c.cachedMatches,l]}))})});try{return i=await this.loadMatches({matches:i,location:r,preload:!0,updateMatch:(l,c)=>{s.has(l)?i=i.map(d=>d.id===l?c(d):d):this.updateMatch(l,c)}}),i}catch(l){if(Su(l))return l.reloadDocument?void 0:await this.preloadRoute({...l,_fromLocation:r});console.error(l);return}},this.matchRoute=(n,r)=>{const i={...n,to:n.to?this.resolvePathWithBase(n.from||"",n.to):void 0,params:n.params||{},leaveParams:!0},s=this.buildLocation(i);if(r?.pending&&this.state.status!=="pending")return!1;const l=(r?.pending===void 0?!this.state.isLoading:r.pending)?this.latestLocation:this.state.resolvedLocation,c=wg(this.basepath,l.pathname,{...r,to:s.pathname});return!c||n.params&&!md(c,n.params,{partial:!0})?!1:c&&(r?.includeSearch??!0)?md(l.search,s.search,{partial:!0})?c:!1:c},this.dehydrate=()=>{var n;const r=((n=this.options.errorSerializer)==null?void 0:n.serialize)??AB;return{state:{dehydratedMatches:this.state.matches.map(i=>({...ny(i,["id","status","updatedAt"]),error:i.error?{data:r(i.error),__isServerError:!0}:void 0}))},manifest:this.manifest}},this.hydrate=()=>{var n,r,i;let s;typeof document<"u"&&(s=this.options.transformer.parse((n=window.__TSR__)==null?void 0:n.dehydrated)),Ns(s),this.dehydratedData=s.payload,(i=(r=this.options).hydrate)==null||i.call(r,s.payload);const o=s.router.state,l=this.matchRoutes(this.state.location).map(c=>{const d=o.dehydratedMatches.find(f=>f.id===c.id);return Ns(d,`Could not find a client-side match for dehydrated match with id: ${c.id}!`),{...c,...d}});this.__store.setState(c=>({...c,matches:l})),this.manifest=s.router.manifest},this.injectedHtml=[],this.injectHtml=n=>{const r=()=>(this.injectedHtml=this.injectedHtml.filter(i=>i!==r),n);this.injectedHtml.push(r)},this.injectScript=(n,r)=>{this.injectHtml(`<script class='tsr-once'>${n}; if (typeof __TSR__ !== 'undefined') __TSR__.cleanScripts()</script>`)},this.streamedKeys=new Set,this.getStreamedValue=n=>{var r;if(this.isServer)return;const i=(r=window.__TSR__)==null?void 0:r.streamedValues[n];if(i)return i.parsed||(i.parsed=this.options.transformer.parse(i.value)),i.parsed},this.streamValue=(n,r)=>{var i;this.streamedKeys.has(n),this.streamedKeys.add(n),this.injectScript(`__TSR__.streamedValues['${n}'] = { value: ${(i=this.serializer)==null?void 0:i.call(this,this.options.transformer.stringify(r))}}`)},this._handleNotFound=(n,r,{updateMatch:i=this.updateMatch}={})=>{const s=Object.fromEntries(n.map(c=>[c.routeId,c]));let o=(r.global?this.looseRoutesById[Ss]:this.looseRoutesById[r.routeId])||this.looseRoutesById[Ss];for(;!o.options.notFoundComponent&&!this.options.defaultNotFoundComponent&&o.id!==Ss;)o=o.parentRoute,Ns(o);const l=s[o.id];Ns(l,"Could not find match for route: "+o.id),i(l.id,c=>({...c,status:"notFound",error:r,isFetching:!1})),r.routerCode==="BEFORE_LOAD"&&o.parentRoute&&(r.routeId=o.parentRoute.id,this._handleNotFound(n,r,{updateMatch:i}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(n=>n.status==="notFound"||n.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??mB,parseSearch:e.parseSearch??hB,transformer:e.transformer??vp}),typeof document<"u"&&(window.__TSR__ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutes(e,n,r){return typeof e=="string"?this.matchRoutesInternal({pathname:e,search:n},r):this.matchRoutesInternal(e,n)}matchRoutesInternal(e,n){const{foundRoute:r,matchedRoutes:i,routeParams:s}=this.getMatchedRoutes(e,n?.dest);let o=!1;(r?r.path!=="/"&&s["**"]:ju(e.pathname))&&(this.options.notFoundRoute?i.push(this.options.notFoundRoute):o=!0);const l=(()=>{if(o){if(this.options.notFoundMode!=="root")for(let h=i.length-1;h>=0;h--){const b=i[h];if(b.children)return b.id}return Ss}})(),c=i.map(h=>{var b;let x;const _=((b=h.options.params)==null?void 0:b.parse)??h.options.parseParams;if(_)try{const N=_(s);Object.assign(s,N)}catch(N){if(x=new RB(N.message,{cause:N}),n?.throwOnError)throw x;return x}}),d=[],f=h=>h?.id?h.context??this.options.context??{}:this.options.context??{};return i.forEach((h,b)=>{var x,_,N,I;const O=d[b-1],[T,q]=(()=>{const U=O?.search??e.search;try{const $=$w(h.options.validateSearch,U)??{};return[{...U,...$},void 0]}catch($){const ee=new FS($.message,{cause:$});if(n?.throwOnError)throw ee;return[U,ee]}})(),A=((_=(x=h.options).loaderDeps)==null?void 0:_.call(x,{search:T}))??"",D=A?JSON.stringify(A):"",L=xg({path:h.fullPath,params:s,decodeCharMap:this.pathParamsDecodeCharMap}),z=xg({path:h.id,params:s,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap})+D,P=this.getMatch(z),R=this.state.matches.find(U=>U.routeId===h.id),B=R?"stay":"enter";let F;if(P)F={...P,cause:B,params:R?Ks(R.params,s):s,search:Ks(R?R.search:P.search,T)};else{const U=h.options.loader||h.options.beforeLoad||h.lazyFn||TB(h)?"pending":"success";F={id:z,index:b,routeId:h.id,params:R?Ks(R.params,s):s,pathname:qa([this.basepath,L]),updatedAt:Date.now(),search:R?Ks(R.search,T):T,searchError:void 0,status:U,isFetching:!1,error:void 0,paramsError:c[b],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:B,loaderDeps:R?Ks(R.loaderDeps,A):A,invalid:!1,preload:!1,links:void 0,scripts:void 0,meta:void 0,staticData:h.options.staticData||{},loadPromise:Xc(),fullPath:h.fullPath}}F.status==="success"&&(F.headers=(I=(N=h.options).headers)==null?void 0:I.call(N,{loaderData:F.loaderData})),n?.preload||(F.globalNotFound=l===h.id),F.searchError=q;const W=f(O);F.context={...W,...F.__routeContext,...F.__beforeLoadContext},d.push(F)}),d.forEach((h,b)=>{var x,_,N,I;const O=this.looseRoutesById[h.routeId];if(!this.getMatch(h.id)&&n?._buildLocation!==!0){const A=d[b-1],D=f(A),L={deps:h.loaderDeps,params:h.params,context:D,location:e,navigate:z=>this.navigate({...z,_fromLocation:e}),buildLocation:this.buildLocation,cause:h.cause,abortController:h.abortController,preload:!!h.preload,matches:d};h.__routeContext=((_=(x=O.options).context)==null?void 0:_.call(x,L))??{},h.context={...D,...h.__routeContext,...h.__beforeLoadContext}}const q=(I=(N=O.options).head)==null?void 0:I.call(N,{matches:d,match:h,params:h.params,loaderData:h.loaderData??void 0});h.links=q?.links,h.scripts=q?.scripts,h.meta=q?.meta}),d}}class FS extends Error{}class RB extends Error{}function jB(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:{...t},location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function AB(t){return t instanceof Error?{name:t.name,message:t.message}:{data:t}}function pC(t){return!(typeof t=="object"&&t&&"data"in t)||!("__isServerError"in t&&t.__isServerError)||!(typeof t.data=="object"&&t.data)?!1:t.__isServerError===!0}function hC(t){if("name"in t&&"message"in t){const e=new Error(t.message);return e.name=t.name,e}return t.data}const eb=K.createContext(void 0),PB=K.createContext(void 0);function Ll(t){const e=K.useContext(t.from?PB:eb);return zi({select:r=>{const i=r.matches.find(s=>t.from?t.from===s.routeId:s.id===e);if(Ns(!((t.shouldThrow??!0)&&!i),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),i!==void 0)return t.select?t.select(i):i},structuralSharing:t.structuralSharing})}function rc(t){return Ll({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}function FB(t){const{select:e,...n}=t;return Ll({...n,select:r=>e?e(r.loaderDeps):r.loaderDeps})}function _n(t){return Ll({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.params):e.params})}function DB(t){return Ll({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}function Gd(t){const{navigate:e}=Oo();return K.useCallback(n=>e({...n}),[e])}let E3=class{constructor(e){this.init=n=>{var r,i;this.originalIndex=n.originalIndex;const s=this.options,o=!s?.path&&!s?.id;this.parentRoute=(i=(r=this.options).getParentRoute)==null?void 0:i.call(r),o?this._path=Ss:Ns(this.parentRoute);let l=o?Ss:s.path;l&&l!=="/"&&(l=r1(l));const c=s?.id||l;let d=o?Ss:qa([this.parentRoute.id===Ss?"":this.parentRoute.id,c]);l===Ss&&(l="/"),d!==Ss&&(d=qa(["/",d]));const f=d===Ss?"/":qa([this.parentRoute.fullPath,l]);this._path=l,this._id=d,this._fullPath=f,this._to=f,this._ssr=s?.ssr??n.defaultSsr??!0},this.updateLoader=n=>(Object.assign(this.options,n),this),this.update=n=>(Object.assign(this.options,n),this),this.lazy=n=>(this.lazyFn=n,this),this.useMatch=n=>Ll({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>Ll({...n,from:this.id,select:r=>n?.select?n.select(r.context):r.context}),this.useSearch=n=>DB({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>_n({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>FB({...n,from:this.id}),this.useLoaderData=n=>rc({...n,from:this.id}),this.useNavigate=()=>Gd({from:this.id}),this.options=e||{},this.isRoot=!e?.getParentRoute,Ns(!(e?.id&&e?.path)),this.$$typeof=Symbol.for("react.memo")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}get ssr(){return this._ssr}addChildren(e){return this._addFileChildren(e)}_addFileChildren(e){return Array.isArray(e)&&(this.children=e),typeof e=="object"&&e!==null&&(this.children=Object.values(e)),this}};function LB(t){return new E3(t)}function MB(){return t=>BB(t)}class $B extends E3{constructor(e){super(e)}addChildren(e){return super.addChildren(e),this}_addFileChildren(e){return super._addFileChildren(e),this}_addFileTypes(){return this}}function BB(t){return new $B(t)}function rn(t){return new zB(t,{silent:!0}).createRoute}class zB{constructor(e,n){this.path=e,this.createRoute=r=>{this.silent;const i=LB(r);return i.isRoot=!1,i},this.silent=n?.silent}}function ry(t){return p.jsx(p.Fragment,{children:t.children})}function N3(t,e,n){return e.options.notFoundComponent?p.jsx(e.options.notFoundComponent,{data:n}):t.options.defaultNotFoundComponent?p.jsx(t.options.defaultNotFoundComponent,{data:n}):p.jsx(CB,{})}const k3=K.memo(function({matchId:e}){var n,r;const i=Oo(),s=zi({select:I=>{var O;return(O=I.matches.find(T=>T.id===e))==null?void 0:O.routeId}});Ns(s);const o=i.routesById[s],l=o.options.pendingComponent??i.options.defaultPendingComponent,c=l?p.jsx(l,{}):null,d=o.options.errorComponent??i.options.defaultErrorComponent,f=o.options.onCatch??i.options.defaultOnCatch,h=o.isRoot?o.options.notFoundComponent??((n=i.options.notFoundRoute)==null?void 0:n.options.component):o.options.notFoundComponent,b=(!o.isRoot||o.options.wrapInSuspense)&&(o.options.wrapInSuspense??l??((r=o.options.errorComponent)==null?void 0:r.preload))?K.Suspense:ry,x=d?i1:ry,_=h?IB:ry,N=zi({select:I=>I.loadedAt});return p.jsx(eb.Provider,{value:e,children:p.jsx(b,{fallback:c,children:p.jsx(x,{getResetKey:()=>N,errorComponent:d||Xv,onCatch:(I,O)=>{if(go(I))throw I;f?.(I,O)},children:p.jsx(_,{fallback:I=>{if(!h||I.routeId&&I.routeId!==s||!I.routeId&&!o.isRoot)throw I;return K.createElement(h,I)},children:p.jsx(WB,{matchId:e})})})})})}),WB=K.memo(function({matchId:e}){var n,r,i,s,o;const l=Oo(),{match:c,matchIndex:d,routeId:f}=zi({select:_=>{const N=_.matches.findIndex(T=>T.id===e),I=_.matches[N];return{routeId:I.routeId,matchIndex:N,match:ny(I,["id","status","error"])}},structuralSharing:!0}),h=l.routesById[f],b=K.useMemo(()=>{const _=h.options.component??l.options.defaultComponent;return _?p.jsx(_,{}):p.jsx(qo,{})},[h.options.component,l.options.defaultComponent]),x=(h.options.errorComponent??l.options.defaultErrorComponent)||Xv;if(c.status==="notFound"){let _;return pC(c.error)?_=(((n=l.options.errorSerializer)==null?void 0:n.deserialize)??hC)(c.error.data):_=c.error,Ns(go(_)),N3(l,h,_)}if(c.status==="redirected")throw Ns(Su(c.error)),(r=l.getMatch(c.id))==null?void 0:r.loadPromise;if(c.status==="error"){if(l.isServer)return p.jsx(x,{error:c.error,info:{componentStack:""}});throw pC(c.error)?(((i=l.options.errorSerializer)==null?void 0:i.deserialize)??hC)(c.error.data):c.error}if(c.status==="pending"){const _=h.options.pendingMinMs??l.options.defaultPendingMinMs;if(_&&!((s=l.getMatch(c.id))!=null&&s.minPendingPromise)&&!l.isServer){const N=Xc();Promise.resolve().then(()=>{l.updateMatch(c.id,I=>({...I,minPendingPromise:N}))}),setTimeout(()=>{N.resolve(),l.updateMatch(c.id,I=>({...I,minPendingPromise:void 0}))},_)}throw(o=l.getMatch(c.id))==null?void 0:o.loadPromise}return p.jsxs(p.Fragment,{children:[b,l.AfterEachMatch?p.jsx(l.AfterEachMatch,{match:c,matchIndex:d}):null]})}),qo=K.memo(function(){const e=Oo(),n=K.useContext(eb),r=zi({select:d=>{var f;return(f=d.matches.find(h=>h.id===n))==null?void 0:f.routeId}}),i=e.routesById[r],s=zi({select:d=>{const h=d.matches.find(b=>b.id===n);return Ns(h),h.globalNotFound}}),o=zi({select:d=>{var f;const h=d.matches,b=h.findIndex(x=>x.id===n);return(f=h[b+1])==null?void 0:f.id}});if(s)return N3(e,i,void 0);if(!o)return null;const l=p.jsx(k3,{matchId:o}),c=e.options.defaultPendingComponent?p.jsx(e.options.defaultPendingComponent,{}):null;return n===Ss?p.jsx(K.Suspense,{fallback:c,children:l}):l});var Bw={exports:{}},ns={},zw={exports:{}},Ww={};var mC;function UB(){return mC||(mC=1,function(t){function e(se,te){var oe=se.length;se.push(te);e:for(;0<oe;){var X=oe-1>>>1,ce=se[X];if(0<i(ce,te))se[X]=te,se[oe]=ce,oe=X;else break e}}function n(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var te=se[0],oe=se.pop();if(oe!==te){se[0]=oe;e:for(var X=0,ce=se.length,de=ce>>>1;X<de;){var ye=2*(X+1)-1,we=se[ye],Ne=ye+1,ze=se[Ne];if(0>i(we,oe))Ne<ce&&0>i(ze,we)?(se[X]=ze,se[Ne]=oe,X=Ne):(se[X]=we,se[ye]=oe,X=ye);else if(Ne<ce&&0>i(ze,oe))se[X]=ze,se[Ne]=oe,X=Ne;else break e}}return te}function i(se,te){var oe=se.sortIndex-te.sortIndex;return oe!==0?oe:se.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],f=1,h=null,b=3,x=!1,_=!1,N=!1,I=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function q(se){for(var te=n(d);te!==null;){if(te.callback===null)r(d);else if(te.startTime<=se)r(d),te.sortIndex=te.expirationTime,e(c,te);else break;te=n(d)}}function A(se){if(N=!1,q(se),!_)if(n(c)!==null)_=!0,J(D);else{var te=n(d);te!==null&&le(A,te.startTime-se)}}function D(se,te){_=!1,N&&(N=!1,O(P),P=-1),x=!0;var oe=b;try{for(q(te),h=n(c);h!==null&&(!(h.expirationTime>te)||se&&!F());){var X=h.callback;if(typeof X=="function"){h.callback=null,b=h.priorityLevel;var ce=X(h.expirationTime<=te);te=t.unstable_now(),typeof ce=="function"?h.callback=ce:h===n(c)&&r(c),q(te)}else r(c);h=n(c)}if(h!==null)var de=!0;else{var ye=n(d);ye!==null&&le(A,ye.startTime-te),de=!1}return de}finally{h=null,b=oe,x=!1}}var L=!1,z=null,P=-1,R=5,B=-1;function F(){return!(t.unstable_now()-B<R)}function W(){if(z!==null){var se=t.unstable_now();B=se;var te=!0;try{te=z(!0,se)}finally{te?U():(L=!1,z=null)}}else L=!1}var U;if(typeof T=="function")U=function(){T(W)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,ee=$.port2;$.port1.onmessage=W,U=function(){ee.postMessage(null)}}else U=function(){I(W,0)};function J(se){z=se,L||(L=!0,U())}function le(se,te){P=I(function(){se(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_continueExecution=function(){_||x||(_=!0,J(D))},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(se){switch(b){case 1:case 2:case 3:var te=3;break;default:te=b}var oe=b;b=te;try{return se()}finally{b=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(se,te){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var oe=b;b=se;try{return te()}finally{b=oe}},t.unstable_scheduleCallback=function(se,te,oe){var X=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?X+oe:X):oe=X,se){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=0x3fffffff;break;case 4:ce=1e4;break;default:ce=5e3}return ce=oe+ce,se={id:f++,callback:te,priorityLevel:se,startTime:oe,expirationTime:ce,sortIndex:-1},oe>X?(se.sortIndex=oe,e(d,se),n(c)===null&&se===n(d)&&(N?(O(P),P=-1):N=!0,le(A,oe-X))):(se.sortIndex=ce,e(c,se),_||x||(_=!0,J(D))),se},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(se){var te=b;return function(){var oe=b;b=te;try{return se.apply(this,arguments)}finally{b=oe}}}}(Ww)),Ww}var gC;function VB(){return gC||(gC=1,zw.exports=UB()),zw.exports}var yC;function HB(){if(yC)return ns;yC=1;var t=$h(),e=VB();function n(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,m=1;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(a,u){o(a,u),o(a+"Capture",u)}function o(a,u){for(i[a]=u,a=0;a<u.length;a++)r.add(u[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function b(a){return c.call(h,a)?!0:c.call(f,a)?!1:d.test(a)?h[a]=!0:(f[a]=!0,!1)}function x(a,u,m,w){if(m!==null&&m.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return w?!1:m!==null?!m.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function _(a,u,m,w){if(u===null||typeof u>"u"||x(a,u,m,w))return!0;if(w)return!1;if(m!==null)switch(m.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function N(a,u,m,w,k,j,Z){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=w,this.attributeNamespace=k,this.mustUseProperty=m,this.propertyName=a,this.type=u,this.sanitizeURL=j,this.removeEmptyString=Z}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){I[a]=new N(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var u=a[0];I[u]=new N(u,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){I[a]=new N(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){I[a]=new N(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){I[a]=new N(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){I[a]=new N(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){I[a]=new N(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){I[a]=new N(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){I[a]=new N(a,5,!1,a.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function T(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var u=a.replace(O,T);I[u]=new N(u,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var u=a.replace(O,T);I[u]=new N(u,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var u=a.replace(O,T);I[u]=new N(u,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){I[a]=new N(a,1,!1,a.toLowerCase(),null,!1,!1)}),I.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){I[a]=new N(a,1,!1,a.toLowerCase(),null,!0,!0)});function q(a,u,m,w){var k=I.hasOwnProperty(u)?I[u]:null;(k!==null?k.type!==0:w||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(_(u,m,k,w)&&(m=null),w||k===null?b(u)&&(m===null?a.removeAttribute(u):a.setAttribute(u,""+m)):k.mustUseProperty?a[k.propertyName]=m===null?k.type===3?!1:"":m:(u=k.attributeName,w=k.attributeNamespace,m===null?a.removeAttribute(u):(k=k.type,m=k===3||k===4&&m===!0?"":""+m,w?a.setAttributeNS(w,u,m):a.setAttribute(u,m))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),L=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),F=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),se=Symbol.iterator;function te(a){return a===null||typeof a!="object"?null:(a=se&&a[se]||a["@@iterator"],typeof a=="function"?a:null)}var oe=Object.assign,X;function ce(a){if(X===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);X=u&&u[1]||""}return`
`+X+a}var de=!1;function ye(a,u){if(!a||de)return"";de=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(He){var w=He}Reflect.construct(a,[],u)}else{try{u.call()}catch(He){w=He}a.call(u.prototype)}else{try{throw Error()}catch(He){w=He}a()}}catch(He){if(He&&w&&typeof He.stack=="string"){for(var k=He.stack.split(`
`),j=w.stack.split(`
`),Z=k.length-1,ge=j.length-1;1<=Z&&0<=ge&&k[Z]!==j[ge];)ge--;for(;1<=Z&&0<=ge;Z--,ge--)if(k[Z]!==j[ge]){if(Z!==1||ge!==1)do if(Z--,ge--,0>ge||k[Z]!==j[ge]){var Se=`
`+k[Z].replace(" at new "," at ");return a.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",a.displayName)),Se}while(1<=Z&&0<=ge);break}}}finally{de=!1,Error.prepareStackTrace=m}return(a=a?a.displayName||a.name:"")?ce(a):""}function we(a){switch(a.tag){case 5:return ce(a.type);case 16:return ce("Lazy");case 13:return ce("Suspense");case 19:return ce("SuspenseList");case 0:case 2:case 15:return a=ye(a.type,!1),a;case 11:return a=ye(a.type.render,!1),a;case 1:return a=ye(a.type,!0),a;default:return""}}function Ne(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case z:return"Fragment";case L:return"Portal";case R:return"Profiler";case P:return"StrictMode";case U:return"Suspense";case $:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case F:return(a.displayName||"Context")+".Consumer";case B:return(a._context.displayName||"Context")+".Provider";case W:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case ee:return u=a.displayName||null,u!==null?u:Ne(a.type)||"Memo";case J:u=a._payload,a=a._init;try{return Ne(a(u))}catch{}}return null}function ze(a){var u=a.type;switch(a.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=u.render,a=a.displayName||a.name||"",u.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(u);case 8:return u===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function qe(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function De(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ze(a){var u=De(a)?"checked":"value",m=Object.getOwnPropertyDescriptor(a.constructor.prototype,u),w=""+a[u];if(!a.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var k=m.get,j=m.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return k.call(this)},set:function(Z){w=""+Z,j.call(this,Z)}}),Object.defineProperty(a,u,{enumerable:m.enumerable}),{getValue:function(){return w},setValue:function(Z){w=""+Z},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function Xe(a){a._valueTracker||(a._valueTracker=Ze(a))}function Ue(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var m=u.getValue(),w="";return a&&(w=De(a)?a.checked?"true":"false":a.value),a=w,a!==m?(u.setValue(a),!0):!1}function ut(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function _t(a,u){var m=u.checked;return oe({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??a._wrapperState.initialChecked})}function Tt(a,u){var m=u.defaultValue==null?"":u.defaultValue,w=u.checked!=null?u.checked:u.defaultChecked;m=qe(u.value!=null?u.value:m),a._wrapperState={initialChecked:w,initialValue:m,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function Wt(a,u){u=u.checked,u!=null&&q(a,"checked",u,!1)}function Xt(a,u){Wt(a,u);var m=qe(u.value),w=u.type;if(m!=null)w==="number"?(m===0&&a.value===""||a.value!=m)&&(a.value=""+m):a.value!==""+m&&(a.value=""+m);else if(w==="submit"||w==="reset"){a.removeAttribute("value");return}u.hasOwnProperty("value")?ve(a,u.type,m):u.hasOwnProperty("defaultValue")&&ve(a,u.type,qe(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(a.defaultChecked=!!u.defaultChecked)}function xe(a,u,m){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var w=u.type;if(!(w!=="submit"&&w!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+a._wrapperState.initialValue,m||u===a.value||(a.value=u),a.defaultValue=u}m=a.name,m!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,m!==""&&(a.name=m)}function ve(a,u,m){(u!=="number"||ut(a.ownerDocument)!==a)&&(m==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+m&&(a.defaultValue=""+m))}var ke=Array.isArray;function Ae(a,u,m,w){if(a=a.options,u){u={};for(var k=0;k<m.length;k++)u["$"+m[k]]=!0;for(m=0;m<a.length;m++)k=u.hasOwnProperty("$"+a[m].value),a[m].selected!==k&&(a[m].selected=k),k&&w&&(a[m].defaultSelected=!0)}else{for(m=""+qe(m),u=null,k=0;k<a.length;k++){if(a[k].value===m){a[k].selected=!0,w&&(a[k].defaultSelected=!0);return}u!==null||a[k].disabled||(u=a[k])}u!==null&&(u.selected=!0)}}function Ve(a,u){if(u.dangerouslySetInnerHTML!=null)throw Error(n(91));return oe({},u,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function rt(a,u){var m=u.value;if(m==null){if(m=u.children,u=u.defaultValue,m!=null){if(u!=null)throw Error(n(92));if(ke(m)){if(1<m.length)throw Error(n(93));m=m[0]}u=m}u==null&&(u=""),m=u}a._wrapperState={initialValue:qe(m)}}function Me(a,u){var m=qe(u.value),w=qe(u.defaultValue);m!=null&&(m=""+m,m!==a.value&&(a.value=m),u.defaultValue==null&&a.defaultValue!==m&&(a.defaultValue=m)),w!=null&&(a.defaultValue=""+w)}function ct(a){var u=a.textContent;u===a._wrapperState.initialValue&&u!==""&&u!==null&&(a.value=u)}function Ht(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qt(a,u){return a==null||a==="http://www.w3.org/1999/xhtml"?Ht(u):a==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var fn,or=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,m,w,k){MSApp.execUnsafeLocalFunction(function(){return a(u,m,w,k)})}:a}(function(a,u){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=u;else{for(fn=fn||document.createElement("div"),fn.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=fn.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;u.firstChild;)a.appendChild(u.firstChild)}});function Pn(a,u){if(u){var m=a.firstChild;if(m&&m===a.lastChild&&m.nodeType===3){m.nodeValue=u;return}}a.textContent=u}var Vr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qi=["Webkit","ms","Moz","O"];Object.keys(Vr).forEach(function(a){qi.forEach(function(u){u=u+a.charAt(0).toUpperCase()+a.substring(1),Vr[u]=Vr[a]})});function br(a,u,m){return u==null||typeof u=="boolean"||u===""?"":m||typeof u!="number"||u===0||Vr.hasOwnProperty(a)&&Vr[a]?(""+u).trim():u+"px"}function Kt(a,u){a=a.style;for(var m in u)if(u.hasOwnProperty(m)){var w=m.indexOf("--")===0,k=br(m,u[m],w);m==="float"&&(m="cssFloat"),w?a.setProperty(m,k):a[m]=k}}var Hi=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qi(a,u){if(u){if(Hi[a]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(n(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(n(61))}if(u.style!=null&&typeof u.style!="object")throw Error(n(62))}}function Ki(a,u){if(a.indexOf("-")===-1)return typeof u.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var so=null;function sa(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var tu=null,Fs=null,V=null;function dc(a){if(a=Wf(a)){if(typeof tu!="function")throw Error(n(280));var u=a.stateNode;u&&(u=jm(u),tu(a.stateNode,a.type,u))}}function an(a){Fs?V?V.push(a):V=[a]:Fs=a}function fc(){if(Fs){var a=Fs,u=V;if(V=Fs=null,dc(a),u)for(a=0;a<u.length;a++)dc(u[a])}}function pc(a,u){return a(u)}function hc(){}var nu=!1;function oa(a,u,m){if(nu)return a(u,m);nu=!0;try{return pc(a,u,m)}finally{nu=!1,(Fs!==null||V!==null)&&(hc(),fc())}}function Gi(a,u){var m=a.stateNode;if(m===null)return null;var w=jm(m);if(w===null)return null;m=w[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(a=a.type,w=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!w;break e;default:a=!1}if(a)return null;if(m&&typeof m!="function")throw Error(n(231,u,typeof m));return m}var ru=!1;if(l)try{var aa={};Object.defineProperty(aa,"passive",{get:function(){ru=!0}}),window.addEventListener("test",aa,aa),window.removeEventListener("test",aa,aa)}catch{ru=!1}function gf(a,u,m,w,k,j,Z,ge,Se){var He=Array.prototype.slice.call(arguments,3);try{u.apply(m,He)}catch(ht){this.onError(ht)}}var la=!1,Ds=null,Va=!1,Ls=null,yf={onError:function(a){la=!0,Ds=a}};function vf(a,u,m,w,k,j,Z,ge,Se){la=!1,Ds=null,gf.apply(yf,arguments)}function mc(a,u,m,w,k,j,Z,ge,Se){if(vf.apply(this,arguments),la){if(la){var He=Ds;la=!1,Ds=null}else throw Error(n(198));Va||(Va=!0,Ls=He)}}function Ms(a){var u=a,m=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,u.flags&4098&&(m=u.return),a=u.return;while(a)}return u.tag===3?m:null}function gc(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function yc(a){if(Ms(a)!==a)throw Error(n(188))}function bf(a){var u=a.alternate;if(!u){if(u=Ms(a),u===null)throw Error(n(188));return u!==a?null:a}for(var m=a,w=u;;){var k=m.return;if(k===null)break;var j=k.alternate;if(j===null){if(w=k.return,w!==null){m=w;continue}break}if(k.child===j.child){for(j=k.child;j;){if(j===m)return yc(k),a;if(j===w)return yc(k),u;j=j.sibling}throw Error(n(188))}if(m.return!==w.return)m=k,w=j;else{for(var Z=!1,ge=k.child;ge;){if(ge===m){Z=!0,m=k,w=j;break}if(ge===w){Z=!0,w=k,m=j;break}ge=ge.sibling}if(!Z){for(ge=j.child;ge;){if(ge===m){Z=!0,m=j,w=k;break}if(ge===w){Z=!0,w=j,m=k;break}ge=ge.sibling}if(!Z)throw Error(n(189))}}if(m.alternate!==w)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?a:u}function vc(a){return a=bf(a),a!==null?bc(a):null}function bc(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var u=bc(a);if(u!==null)return u;a=a.sibling}return null}var xc=e.unstable_scheduleCallback,iu=e.unstable_cancelCallback,wc=e.unstable_shouldYield,xf=e.unstable_requestPaint,ar=e.unstable_now,wf=e.unstable_getCurrentPriorityLevel,su=e.unstable_ImmediatePriority,_c=e.unstable_UserBlockingPriority,Ha=e.unstable_NormalPriority,_f=e.unstable_LowPriority,ou=e.unstable_IdlePriority,Qa=null,Zi=null;function Sf(a){if(Zi&&typeof Zi.onCommitFiberRoot=="function")try{Zi.onCommitFiberRoot(Qa,a,void 0,(a.current.flags&128)===128)}catch{}}var gi=Math.clz32?Math.clz32:kf,Ef=Math.log,Nf=Math.LN2;function kf(a){return a>>>=0,a===0?32:31-(Ef(a)/Nf|0)|0}var Ao=64,Ka=4194304;function Ri(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return a&0x7c00000;case 0x8000000:return 0x8000000;case 0x10000000:return 0x10000000;case 0x20000000:return 0x20000000;case 0x40000000:return 0x40000000;default:return a}}function Ga(a,u){var m=a.pendingLanes;if(m===0)return 0;var w=0,k=a.suspendedLanes,j=a.pingedLanes,Z=m&0xfffffff;if(Z!==0){var ge=Z&~k;ge!==0?w=Ri(ge):(j&=Z,j!==0&&(w=Ri(j)))}else Z=m&~k,Z!==0?w=Ri(Z):j!==0&&(w=Ri(j));if(w===0)return 0;if(u!==0&&u!==w&&!(u&k)&&(k=w&-w,j=u&-u,k>=j||k===16&&(j&4194240)!==0))return u;if(w&4&&(w|=m&16),u=a.entangledLanes,u!==0)for(a=a.entanglements,u&=w;0<u;)m=31-gi(u),k=1<<m,w|=a[m],u&=~k;return w}function tx(a,u){switch(a){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return-1;case 0x8000000:case 0x10000000:case 0x20000000:case 0x40000000:return-1;default:return-1}}function nx(a,u){for(var m=a.suspendedLanes,w=a.pingedLanes,k=a.expirationTimes,j=a.pendingLanes;0<j;){var Z=31-gi(j),ge=1<<Z,Se=k[Z];Se===-1?(!(ge&m)||ge&w)&&(k[Z]=tx(ge,u)):Se<=u&&(a.expiredLanes|=ge),j&=~ge}}function If(a){return a=a.pendingLanes&-0x40000001,a!==0?a:a&0x40000000?0x40000000:0}function Sm(){var a=Ao;return Ao<<=1,!(Ao&4194240)&&(Ao=64),a}function Cf(a){for(var u=[],m=0;31>m;m++)u.push(a);return u}function au(a,u,m){a.pendingLanes|=u,u!==0x20000000&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,u=31-gi(u),a[u]=m}function rx(a,u){var m=a.pendingLanes&~u;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=u,a.mutableReadLanes&=u,a.entangledLanes&=u,u=a.entanglements;var w=a.eventTimes;for(a=a.expirationTimes;0<m;){var k=31-gi(m),j=1<<k;u[k]=0,w[k]=-1,a[k]=-1,m&=~j}}function Tf(a,u){var m=a.entangledLanes|=u;for(a=a.entanglements;m;){var w=31-gi(m),k=1<<w;k&u|a[w]&u&&(a[w]|=u),m&=~k}}var Fn=0;function Em(a){return a&=-a,1<a?4<a?a&0xfffffff?16:0x20000000:4:1}var Of,he,qf,lu,Rf,g=!1,y=[],S=null,E=null,C=null,M=new Map,fe=new Map,me=[],Qe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tt(a,u){switch(a){case"focusin":case"focusout":S=null;break;case"dragenter":case"dragleave":E=null;break;case"mouseover":case"mouseout":C=null;break;case"pointerover":case"pointerout":M.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":fe.delete(u.pointerId)}}function at(a,u,m,w,k,j){return a===null||a.nativeEvent!==j?(a={blockedOn:u,domEventName:m,eventSystemFlags:w,nativeEvent:j,targetContainers:[k]},u!==null&&(u=Wf(u),u!==null&&he(u)),a):(a.eventSystemFlags|=w,u=a.targetContainers,k!==null&&u.indexOf(k)===-1&&u.push(k),a)}function mt(a,u,m,w,k){switch(u){case"focusin":return S=at(S,a,u,m,w,k),!0;case"dragenter":return E=at(E,a,u,m,w,k),!0;case"mouseover":return C=at(C,a,u,m,w,k),!0;case"pointerover":var j=k.pointerId;return M.set(j,at(M.get(j)||null,a,u,m,w,k)),!0;case"gotpointercapture":return j=k.pointerId,fe.set(j,at(fe.get(j)||null,a,u,m,w,k)),!0}return!1}function Be(a){var u=uu(a.target);if(u!==null){var m=Ms(u);if(m!==null){if(u=m.tag,u===13){if(u=gc(m),u!==null){a.blockedOn=u,Rf(a.priority,function(){qf(m)});return}}else if(u===3&&m.stateNode.current.memoizedState.isDehydrated){a.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Re(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var m=ue(a.domEventName,a.eventSystemFlags,u[0],a.nativeEvent);if(m===null){m=a.nativeEvent;var w=new m.constructor(m.type,m);so=w,m.target.dispatchEvent(w),so=null}else return u=Wf(m),u!==null&&he(u),a.blockedOn=m,!1;u.shift()}return!0}function et(a,u,m){Re(a)&&m.delete(u)}function be(){g=!1,S!==null&&Re(S)&&(S=null),E!==null&&Re(E)&&(E=null),C!==null&&Re(C)&&(C=null),M.forEach(et),fe.forEach(et)}function Ie(a,u){a.blockedOn===u&&(a.blockedOn=null,g||(g=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,be)))}function Te(a){function u(k){return Ie(k,a)}if(0<y.length){Ie(y[0],a);for(var m=1;m<y.length;m++){var w=y[m];w.blockedOn===a&&(w.blockedOn=null)}}for(S!==null&&Ie(S,a),E!==null&&Ie(E,a),C!==null&&Ie(C,a),M.forEach(u),fe.forEach(u),m=0;m<me.length;m++)w=me[m],w.blockedOn===a&&(w.blockedOn=null);for(;0<me.length&&(m=me[0],m.blockedOn===null);)Be(m),m.blockedOn===null&&me.shift()}var Je=A.ReactCurrentBatchConfig,Ge=!0;function Oe(a,u,m,w){var k=Fn,j=Je.transition;Je.transition=null;try{Fn=1,St(a,u,m,w)}finally{Fn=k,Je.transition=j}}function Ke(a,u,m,w){var k=Fn,j=Je.transition;Je.transition=null;try{Fn=4,St(a,u,m,w)}finally{Fn=k,Je.transition=j}}function St(a,u,m,w){if(Ge){var k=ue(a,u,m,w);if(k===null)yx(a,u,w,Y,m),tt(a,w);else if(mt(k,a,u,m,w))w.stopPropagation();else if(tt(a,w),u&4&&-1<Qe.indexOf(a)){for(;k!==null;){var j=Wf(k);if(j!==null&&Of(j),j=ue(a,u,m,w),j===null&&yx(a,u,w,Y,m),j===k)break;k=j}k!==null&&w.stopPropagation()}else yx(a,u,w,null,m)}}var Y=null;function ue(a,u,m,w){if(Y=null,a=sa(w),a=uu(a),a!==null)if(u=Ms(a),u===null)a=null;else if(m=u.tag,m===13){if(a=gc(u),a!==null)return a;a=null}else if(m===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null);return Y=a,null}function Ee(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wf()){case su:return 1;case _c:return 4;case Ha:case _f:return 16;case ou:return 0x20000000;default:return 16}default:return 16}}var st=null,ae=null,pe=null;function H(){if(pe)return pe;var a,u=ae,m=u.length,w,k="value"in st?st.value:st.textContent,j=k.length;for(a=0;a<m&&u[a]===k[a];a++);var Z=m-a;for(w=1;w<=Z&&u[m-w]===k[j-w];w++);return pe=k.slice(a,1<w?1-w:void 0)}function ne(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function ie(){return!0}function Le(){return!1}function it(a){function u(m,w,k,j,Z){this._reactName=m,this._targetInst=k,this.type=w,this.nativeEvent=j,this.target=Z,this.currentTarget=null;for(var ge in a)a.hasOwnProperty(ge)&&(m=a[ge],this[ge]=m?m(j):j[ge]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?ie:Le,this.isPropagationStopped=Le,this}return oe(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=ie)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=ie)},persist:function(){},isPersistent:ie}),u}var Ot={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bt=it(Ot),Gt=oe({},Ot,{view:0,detail:0}),lt=it(Gt),_e,Pe,ot,pt=oe({},Gt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hn,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ot&&(ot&&a.type==="mousemove"?(_e=a.screenX-ot.screenX,Pe=a.screenY-ot.screenY):Pe=_e=0,ot=a),_e)},movementY:function(a){return"movementY"in a?a.movementY:Pe}}),Pt=it(pt),Zt=oe({},pt,{dataTransfer:0}),je=it(Zt),nt=oe({},Gt,{relatedTarget:0}),dt=it(nt),Nt=oe({},Ot,{animationName:0,elapsedTime:0,pseudoElement:0}),xt=it(Nt),$t=oe({},Ot,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),pn=it($t),qt=oe({},Ot,{data:0}),xr=it(qt),We={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kt(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=wt[a])?!!u[a]:!1}function hn(){return kt}var Vn=oe({},Gt,{key:function(a){if(a.key){var u=We[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=ne(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?vt[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hn,charCode:function(a){return a.type==="keypress"?ne(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ne(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),$n=it(Vn),Wn=oe({},pt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ua=it(Wn),oi=oe({},Gt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hn}),ix=it(oi),sx=oe({},Ot,{propertyName:0,elapsedTime:0,pseudoElement:0}),$s=it(sx),ox=oe({},pt,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Nm=it(ox),jf=[9,13,27,32],ax=l&&"CompositionEvent"in window,Af=null;l&&"documentMode"in document&&(Af=document.documentMode);var cM=l&&"TextEvent"in window&&!Af,AN=l&&(!ax||Af&&8<Af&&11>=Af),PN=" ",FN=!1;function DN(a,u){switch(a){case"keyup":return jf.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function LN(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Sc=!1;function dM(a,u){switch(a){case"compositionend":return LN(u);case"keypress":return u.which!==32?null:(FN=!0,PN);case"textInput":return a=u.data,a===PN&&FN?null:a;default:return null}}function fM(a,u){if(Sc)return a==="compositionend"||!ax&&DN(a,u)?(a=H(),pe=ae=st=null,Sc=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return AN&&u.locale!=="ko"?null:u.data;default:return null}}var pM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function MN(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!pM[a.type]:u==="textarea"}function $N(a,u,m,w){an(w),u=Om(u,"onChange"),0<u.length&&(m=new Bt("onChange","change",null,m,w),a.push({event:m,listeners:u}))}var Pf=null,Ff=null;function hM(a){ik(a,0)}function km(a){var u=Cc(a);if(Ue(u))return a}function mM(a,u){if(a==="change")return u}var BN=!1;if(l){var lx;if(l){var ux="oninput"in document;if(!ux){var zN=document.createElement("div");zN.setAttribute("oninput","return;"),ux=typeof zN.oninput=="function"}lx=ux}else lx=!1;BN=lx&&(!document.documentMode||9<document.documentMode)}function WN(){Pf&&(Pf.detachEvent("onpropertychange",UN),Ff=Pf=null)}function UN(a){if(a.propertyName==="value"&&km(Ff)){var u=[];$N(u,Ff,a,sa(a)),oa(hM,u)}}function gM(a,u,m){a==="focusin"?(WN(),Pf=u,Ff=m,Pf.attachEvent("onpropertychange",UN)):a==="focusout"&&WN()}function yM(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return km(Ff)}function vM(a,u){if(a==="click")return km(u)}function bM(a,u){if(a==="input"||a==="change")return km(u)}function xM(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var oo=typeof Object.is=="function"?Object.is:xM;function Df(a,u){if(oo(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var m=Object.keys(a),w=Object.keys(u);if(m.length!==w.length)return!1;for(w=0;w<m.length;w++){var k=m[w];if(!c.call(u,k)||!oo(a[k],u[k]))return!1}return!0}function VN(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function HN(a,u){var m=VN(a);a=0;for(var w;m;){if(m.nodeType===3){if(w=a+m.textContent.length,a<=u&&w>=u)return{node:m,offset:u-a};a=w}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=VN(m)}}function QN(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?QN(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function KN(){for(var a=window,u=ut();u instanceof a.HTMLIFrameElement;){try{var m=typeof u.contentWindow.location.href=="string"}catch{m=!1}if(m)a=u.contentWindow;else break;u=ut(a.document)}return u}function cx(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}function wM(a){var u=KN(),m=a.focusedElem,w=a.selectionRange;if(u!==m&&m&&m.ownerDocument&&QN(m.ownerDocument.documentElement,m)){if(w!==null&&cx(m)){if(u=w.start,a=w.end,a===void 0&&(a=u),"selectionStart"in m)m.selectionStart=u,m.selectionEnd=Math.min(a,m.value.length);else if(a=(u=m.ownerDocument||document)&&u.defaultView||window,a.getSelection){a=a.getSelection();var k=m.textContent.length,j=Math.min(w.start,k);w=w.end===void 0?j:Math.min(w.end,k),!a.extend&&j>w&&(k=w,w=j,j=k),k=HN(m,j);var Z=HN(m,w);k&&Z&&(a.rangeCount!==1||a.anchorNode!==k.node||a.anchorOffset!==k.offset||a.focusNode!==Z.node||a.focusOffset!==Z.offset)&&(u=u.createRange(),u.setStart(k.node,k.offset),a.removeAllRanges(),j>w?(a.addRange(u),a.extend(Z.node,Z.offset)):(u.setEnd(Z.node,Z.offset),a.addRange(u)))}}for(u=[],a=m;a=a.parentNode;)a.nodeType===1&&u.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<u.length;m++)a=u[m],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var _M=l&&"documentMode"in document&&11>=document.documentMode,Ec=null,dx=null,Lf=null,fx=!1;function GN(a,u,m){var w=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;fx||Ec==null||Ec!==ut(w)||(w=Ec,"selectionStart"in w&&cx(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Lf&&Df(Lf,w)||(Lf=w,w=Om(dx,"onSelect"),0<w.length&&(u=new Bt("onSelect","select",null,u,m),a.push({event:u,listeners:w}),u.target=Ec)))}function Im(a,u){var m={};return m[a.toLowerCase()]=u.toLowerCase(),m["Webkit"+a]="webkit"+u,m["Moz"+a]="moz"+u,m}var Nc={animationend:Im("Animation","AnimationEnd"),animationiteration:Im("Animation","AnimationIteration"),animationstart:Im("Animation","AnimationStart"),transitionend:Im("Transition","TransitionEnd")},px={},ZN={};l&&(ZN=document.createElement("div").style,"AnimationEvent"in window||(delete Nc.animationend.animation,delete Nc.animationiteration.animation,delete Nc.animationstart.animation),"TransitionEvent"in window||delete Nc.transitionend.transition);function Cm(a){if(px[a])return px[a];if(!Nc[a])return a;var u=Nc[a],m;for(m in u)if(u.hasOwnProperty(m)&&m in ZN)return px[a]=u[m];return a}var JN=Cm("animationend"),YN=Cm("animationiteration"),XN=Cm("animationstart"),ek=Cm("transitionend"),tk=new Map,nk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Za(a,u){tk.set(a,u),s(u,[a])}for(var hx=0;hx<nk.length;hx++){var mx=nk[hx],SM=mx.toLowerCase(),EM=mx[0].toUpperCase()+mx.slice(1);Za(SM,"on"+EM)}Za(JN,"onAnimationEnd"),Za(YN,"onAnimationIteration"),Za(XN,"onAnimationStart"),Za("dblclick","onDoubleClick"),Za("focusin","onFocus"),Za("focusout","onBlur"),Za(ek,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mf));function rk(a,u,m){var w=a.type||"unknown-event";a.currentTarget=m,mc(w,u,void 0,a),a.currentTarget=null}function ik(a,u){u=(u&4)!==0;for(var m=0;m<a.length;m++){var w=a[m],k=w.event;w=w.listeners;e:{var j=void 0;if(u)for(var Z=w.length-1;0<=Z;Z--){var ge=w[Z],Se=ge.instance,He=ge.currentTarget;if(ge=ge.listener,Se!==j&&k.isPropagationStopped())break e;rk(k,ge,He),j=Se}else for(Z=0;Z<w.length;Z++){if(ge=w[Z],Se=ge.instance,He=ge.currentTarget,ge=ge.listener,Se!==j&&k.isPropagationStopped())break e;rk(k,ge,He),j=Se}}}if(Va)throw a=Ls,Va=!1,Ls=null,a}function lr(a,u){var m=u[Sx];m===void 0&&(m=u[Sx]=new Set);var w=a+"__bubble";m.has(w)||(sk(u,a,2,!1),m.add(w))}function gx(a,u,m){var w=0;u&&(w|=4),sk(m,a,w,u)}var Tm="_reactListening"+Math.random().toString(36).slice(2);function $f(a){if(!a[Tm]){a[Tm]=!0,r.forEach(function(m){m!=="selectionchange"&&(NM.has(m)||gx(m,!1,a),gx(m,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[Tm]||(u[Tm]=!0,gx("selectionchange",!1,u))}}function sk(a,u,m,w){switch(Ee(u)){case 1:var k=Oe;break;case 4:k=Ke;break;default:k=St}m=k.bind(null,u,m,a),k=void 0,!ru||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(k=!0),w?k!==void 0?a.addEventListener(u,m,{capture:!0,passive:k}):a.addEventListener(u,m,!0):k!==void 0?a.addEventListener(u,m,{passive:k}):a.addEventListener(u,m,!1)}function yx(a,u,m,w,k){var j=w;if(!(u&1)&&!(u&2)&&w!==null)e:for(;;){if(w===null)return;var Z=w.tag;if(Z===3||Z===4){var ge=w.stateNode.containerInfo;if(ge===k||ge.nodeType===8&&ge.parentNode===k)break;if(Z===4)for(Z=w.return;Z!==null;){var Se=Z.tag;if((Se===3||Se===4)&&(Se=Z.stateNode.containerInfo,Se===k||Se.nodeType===8&&Se.parentNode===k))return;Z=Z.return}for(;ge!==null;){if(Z=uu(ge),Z===null)return;if(Se=Z.tag,Se===5||Se===6){w=j=Z;continue e}ge=ge.parentNode}}w=w.return}oa(function(){var He=j,ht=sa(m),gt=[];e:{var ft=tk.get(a);if(ft!==void 0){var Rt=Bt,Mt=a;switch(a){case"keypress":if(ne(m)===0)break e;case"keydown":case"keyup":Rt=$n;break;case"focusin":Mt="focus",Rt=dt;break;case"focusout":Mt="blur",Rt=dt;break;case"beforeblur":case"afterblur":Rt=dt;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Rt=Pt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Rt=je;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Rt=ix;break;case JN:case YN:case XN:Rt=xt;break;case ek:Rt=$s;break;case"scroll":Rt=lt;break;case"wheel":Rt=Nm;break;case"copy":case"cut":case"paste":Rt=pn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Rt=ua}var zt=(u&4)!==0,Mr=!zt&&a==="scroll",Fe=zt?ft!==null?ft+"Capture":null:ft;zt=[];for(var Ce=He,$e;Ce!==null;){$e=Ce;var bt=$e.stateNode;if($e.tag===5&&bt!==null&&($e=bt,Fe!==null&&(bt=Gi(Ce,Fe),bt!=null&&zt.push(Bf(Ce,bt,$e)))),Mr)break;Ce=Ce.return}0<zt.length&&(ft=new Rt(ft,Mt,null,m,ht),gt.push({event:ft,listeners:zt}))}}if(!(u&7)){e:{if(ft=a==="mouseover"||a==="pointerover",Rt=a==="mouseout"||a==="pointerout",ft&&m!==so&&(Mt=m.relatedTarget||m.fromElement)&&(uu(Mt)||Mt[ca]))break e;if((Rt||ft)&&(ft=ht.window===ht?ht:(ft=ht.ownerDocument)?ft.defaultView||ft.parentWindow:window,Rt?(Mt=m.relatedTarget||m.toElement,Rt=He,Mt=Mt?uu(Mt):null,Mt!==null&&(Mr=Ms(Mt),Mt!==Mr||Mt.tag!==5&&Mt.tag!==6)&&(Mt=null)):(Rt=null,Mt=He),Rt!==Mt)){if(zt=Pt,bt="onMouseLeave",Fe="onMouseEnter",Ce="mouse",(a==="pointerout"||a==="pointerover")&&(zt=ua,bt="onPointerLeave",Fe="onPointerEnter",Ce="pointer"),Mr=Rt==null?ft:Cc(Rt),$e=Mt==null?ft:Cc(Mt),ft=new zt(bt,Ce+"leave",Rt,m,ht),ft.target=Mr,ft.relatedTarget=$e,bt=null,uu(ht)===He&&(zt=new zt(Fe,Ce+"enter",Mt,m,ht),zt.target=$e,zt.relatedTarget=Mr,bt=zt),Mr=bt,Rt&&Mt)t:{for(zt=Rt,Fe=Mt,Ce=0,$e=zt;$e;$e=kc($e))Ce++;for($e=0,bt=Fe;bt;bt=kc(bt))$e++;for(;0<Ce-$e;)zt=kc(zt),Ce--;for(;0<$e-Ce;)Fe=kc(Fe),$e--;for(;Ce--;){if(zt===Fe||Fe!==null&&zt===Fe.alternate)break t;zt=kc(zt),Fe=kc(Fe)}zt=null}else zt=null;Rt!==null&&ok(gt,ft,Rt,zt,!1),Mt!==null&&Mr!==null&&ok(gt,Mr,Mt,zt,!0)}}e:{if(ft=He?Cc(He):window,Rt=ft.nodeName&&ft.nodeName.toLowerCase(),Rt==="select"||Rt==="input"&&ft.type==="file")var Ut=mM;else if(MN(ft))if(BN)Ut=bM;else{Ut=yM;var Jt=gM}else(Rt=ft.nodeName)&&Rt.toLowerCase()==="input"&&(ft.type==="checkbox"||ft.type==="radio")&&(Ut=vM);if(Ut&&(Ut=Ut(a,He))){$N(gt,Ut,m,ht);break e}Jt&&Jt(a,ft,He),a==="focusout"&&(Jt=ft._wrapperState)&&Jt.controlled&&ft.type==="number"&&ve(ft,"number",ft.value)}switch(Jt=He?Cc(He):window,a){case"focusin":(MN(Jt)||Jt.contentEditable==="true")&&(Ec=Jt,dx=He,Lf=null);break;case"focusout":Lf=dx=Ec=null;break;case"mousedown":fx=!0;break;case"contextmenu":case"mouseup":case"dragend":fx=!1,GN(gt,m,ht);break;case"selectionchange":if(_M)break;case"keydown":case"keyup":GN(gt,m,ht)}var Yt;if(ax)e:{switch(a){case"compositionstart":var on="onCompositionStart";break e;case"compositionend":on="onCompositionEnd";break e;case"compositionupdate":on="onCompositionUpdate";break e}on=void 0}else Sc?DN(a,m)&&(on="onCompositionEnd"):a==="keydown"&&m.keyCode===229&&(on="onCompositionStart");on&&(AN&&m.locale!=="ko"&&(Sc||on!=="onCompositionStart"?on==="onCompositionEnd"&&Sc&&(Yt=H()):(st=ht,ae="value"in st?st.value:st.textContent,Sc=!0)),Jt=Om(He,on),0<Jt.length&&(on=new xr(on,a,null,m,ht),gt.push({event:on,listeners:Jt}),Yt?on.data=Yt:(Yt=LN(m),Yt!==null&&(on.data=Yt)))),(Yt=cM?dM(a,m):fM(a,m))&&(He=Om(He,"onBeforeInput"),0<He.length&&(ht=new xr("onBeforeInput","beforeinput",null,m,ht),gt.push({event:ht,listeners:He}),ht.data=Yt))}ik(gt,u)})}function Bf(a,u,m){return{instance:a,listener:u,currentTarget:m}}function Om(a,u){for(var m=u+"Capture",w=[];a!==null;){var k=a,j=k.stateNode;k.tag===5&&j!==null&&(k=j,j=Gi(a,m),j!=null&&w.unshift(Bf(a,j,k)),j=Gi(a,u),j!=null&&w.push(Bf(a,j,k))),a=a.return}return w}function kc(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function ok(a,u,m,w,k){for(var j=u._reactName,Z=[];m!==null&&m!==w;){var ge=m,Se=ge.alternate,He=ge.stateNode;if(Se!==null&&Se===w)break;ge.tag===5&&He!==null&&(ge=He,k?(Se=Gi(m,j),Se!=null&&Z.unshift(Bf(m,Se,ge))):k||(Se=Gi(m,j),Se!=null&&Z.push(Bf(m,Se,ge)))),m=m.return}Z.length!==0&&a.push({event:u,listeners:Z})}var kM=/\r\n?/g,IM=/\u0000|\uFFFD/g;function ak(a){return(typeof a=="string"?a:""+a).replace(kM,`
`).replace(IM,"")}function qm(a,u,m){if(u=ak(u),ak(a)!==u&&m)throw Error(n(425))}function Rm(){}var vx=null,bx=null;function xx(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var wx=typeof setTimeout=="function"?setTimeout:void 0,CM=typeof clearTimeout=="function"?clearTimeout:void 0,lk=typeof Promise=="function"?Promise:void 0,TM=typeof queueMicrotask=="function"?queueMicrotask:typeof lk<"u"?function(a){return lk.resolve(null).then(a).catch(OM)}:wx;function OM(a){setTimeout(function(){throw a})}function _x(a,u){var m=u,w=0;do{var k=m.nextSibling;if(a.removeChild(m),k&&k.nodeType===8)if(m=k.data,m==="/$"){if(w===0){a.removeChild(k),Te(u);return}w--}else m!=="$"&&m!=="$?"&&m!=="$!"||w++;m=k}while(m);Te(u)}function Ja(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return a}function uk(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var m=a.data;if(m==="$"||m==="$!"||m==="$?"){if(u===0)return a;u--}else m==="/$"&&u++}a=a.previousSibling}return null}var Ic=Math.random().toString(36).slice(2),Po="__reactFiber$"+Ic,zf="__reactProps$"+Ic,ca="__reactContainer$"+Ic,Sx="__reactEvents$"+Ic,qM="__reactListeners$"+Ic,RM="__reactHandles$"+Ic;function uu(a){var u=a[Po];if(u)return u;for(var m=a.parentNode;m;){if(u=m[ca]||m[Po]){if(m=u.alternate,u.child!==null||m!==null&&m.child!==null)for(a=uk(a);a!==null;){if(m=a[Po])return m;a=uk(a)}return u}a=m,m=a.parentNode}return null}function Wf(a){return a=a[Po]||a[ca],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Cc(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function jm(a){return a[zf]||null}var Ex=[],Tc=-1;function Ya(a){return{current:a}}function ur(a){0>Tc||(a.current=Ex[Tc],Ex[Tc]=null,Tc--)}function er(a,u){Tc++,Ex[Tc]=a.current,a.current=u}var Xa={},yi=Ya(Xa),Ji=Ya(!1),cu=Xa;function Oc(a,u){var m=a.type.contextTypes;if(!m)return Xa;var w=a.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===u)return w.__reactInternalMemoizedMaskedChildContext;var k={},j;for(j in m)k[j]=u[j];return w&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=k),k}function Yi(a){return a=a.childContextTypes,a!=null}function Am(){ur(Ji),ur(yi)}function ck(a,u,m){if(yi.current!==Xa)throw Error(n(168));er(yi,u),er(Ji,m)}function dk(a,u,m){var w=a.stateNode;if(u=u.childContextTypes,typeof w.getChildContext!="function")return m;w=w.getChildContext();for(var k in w)if(!(k in u))throw Error(n(108,ze(a)||"Unknown",k));return oe({},m,w)}function Pm(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Xa,cu=yi.current,er(yi,a),er(Ji,Ji.current),!0}function fk(a,u,m){var w=a.stateNode;if(!w)throw Error(n(169));m?(a=dk(a,u,cu),w.__reactInternalMemoizedMergedChildContext=a,ur(Ji),ur(yi),er(yi,a)):ur(Ji),er(Ji,m)}var da=null,Fm=!1,Nx=!1;function pk(a){da===null?da=[a]:da.push(a)}function jM(a){Fm=!0,pk(a)}function el(){if(!Nx&&da!==null){Nx=!0;var a=0,u=Fn;try{var m=da;for(Fn=1;a<m.length;a++){var w=m[a];do w=w(!0);while(w!==null)}da=null,Fm=!1}catch(k){throw da!==null&&(da=da.slice(a+1)),xc(su,el),k}finally{Fn=u,Nx=!1}}return null}var qc=[],Rc=0,Dm=null,Lm=0,Bs=[],zs=0,du=null,fa=1,pa="";function fu(a,u){qc[Rc++]=Lm,qc[Rc++]=Dm,Dm=a,Lm=u}function hk(a,u,m){Bs[zs++]=fa,Bs[zs++]=pa,Bs[zs++]=du,du=a;var w=fa;a=pa;var k=32-gi(w)-1;w&=~(1<<k),m+=1;var j=32-gi(u)+k;if(30<j){var Z=k-k%5;j=(w&(1<<Z)-1).toString(32),w>>=Z,k-=Z,fa=1<<32-gi(u)+k|m<<k|w,pa=j+a}else fa=1<<j|m<<k|w,pa=a}function kx(a){a.return!==null&&(fu(a,1),hk(a,1,0))}function Ix(a){for(;a===Dm;)Dm=qc[--Rc],qc[Rc]=null,Lm=qc[--Rc],qc[Rc]=null;for(;a===du;)du=Bs[--zs],Bs[zs]=null,pa=Bs[--zs],Bs[zs]=null,fa=Bs[--zs],Bs[zs]=null}var vs=null,bs=null,pr=!1,ao=null;function mk(a,u){var m=Hs(5,null,null,0);m.elementType="DELETED",m.stateNode=u,m.return=a,u=a.deletions,u===null?(a.deletions=[m],a.flags|=16):u.push(m)}function gk(a,u){switch(a.tag){case 5:var m=a.type;return u=u.nodeType!==1||m.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(a.stateNode=u,vs=a,bs=Ja(u.firstChild),!0):!1;case 6:return u=a.pendingProps===""||u.nodeType!==3?null:u,u!==null?(a.stateNode=u,vs=a,bs=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(m=du!==null?{id:fa,overflow:pa}:null,a.memoizedState={dehydrated:u,treeContext:m,retryLane:0x40000000},m=Hs(18,null,null,0),m.stateNode=u,m.return=a,a.child=m,vs=a,bs=null,!0):!1;default:return!1}}function Cx(a){return(a.mode&1)!==0&&(a.flags&128)===0}function Tx(a){if(pr){var u=bs;if(u){var m=u;if(!gk(a,u)){if(Cx(a))throw Error(n(418));u=Ja(m.nextSibling);var w=vs;u&&gk(a,u)?mk(w,m):(a.flags=a.flags&-4097|2,pr=!1,vs=a)}}else{if(Cx(a))throw Error(n(418));a.flags=a.flags&-4097|2,pr=!1,vs=a}}}function yk(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;vs=a}function Mm(a){if(a!==vs)return!1;if(!pr)return yk(a),pr=!0,!1;var u;if((u=a.tag!==3)&&!(u=a.tag!==5)&&(u=a.type,u=u!=="head"&&u!=="body"&&!xx(a.type,a.memoizedProps)),u&&(u=bs)){if(Cx(a))throw vk(),Error(n(418));for(;u;)mk(a,u),u=Ja(u.nextSibling)}if(yk(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,u=0;a;){if(a.nodeType===8){var m=a.data;if(m==="/$"){if(u===0){bs=Ja(a.nextSibling);break e}u--}else m!=="$"&&m!=="$!"&&m!=="$?"||u++}a=a.nextSibling}bs=null}}else bs=vs?Ja(a.stateNode.nextSibling):null;return!0}function vk(){for(var a=bs;a;)a=Ja(a.nextSibling)}function jc(){bs=vs=null,pr=!1}function Ox(a){ao===null?ao=[a]:ao.push(a)}var AM=A.ReactCurrentBatchConfig;function Uf(a,u,m){if(a=m.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var w=m.stateNode}if(!w)throw Error(n(147,a));var k=w,j=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===j?u.ref:(u=function(Z){var ge=k.refs;Z===null?delete ge[j]:ge[j]=Z},u._stringRef=j,u)}if(typeof a!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,a))}return a}function $m(a,u){throw a=Object.prototype.toString.call(u),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a))}function bk(a){var u=a._init;return u(a._payload)}function xk(a){function u(Fe,Ce){if(a){var $e=Fe.deletions;$e===null?(Fe.deletions=[Ce],Fe.flags|=16):$e.push(Ce)}}function m(Fe,Ce){if(!a)return null;for(;Ce!==null;)u(Fe,Ce),Ce=Ce.sibling;return null}function w(Fe,Ce){for(Fe=new Map;Ce!==null;)Ce.key!==null?Fe.set(Ce.key,Ce):Fe.set(Ce.index,Ce),Ce=Ce.sibling;return Fe}function k(Fe,Ce){return Fe=ll(Fe,Ce),Fe.index=0,Fe.sibling=null,Fe}function j(Fe,Ce,$e){return Fe.index=$e,a?($e=Fe.alternate,$e!==null?($e=$e.index,$e<Ce?(Fe.flags|=2,Ce):$e):(Fe.flags|=2,Ce)):(Fe.flags|=1048576,Ce)}function Z(Fe){return a&&Fe.alternate===null&&(Fe.flags|=2),Fe}function ge(Fe,Ce,$e,bt){return Ce===null||Ce.tag!==6?(Ce=ww($e,Fe.mode,bt),Ce.return=Fe,Ce):(Ce=k(Ce,$e),Ce.return=Fe,Ce)}function Se(Fe,Ce,$e,bt){var Ut=$e.type;return Ut===z?ht(Fe,Ce,$e.props.children,bt,$e.key):Ce!==null&&(Ce.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===J&&bk(Ut)===Ce.type)?(bt=k(Ce,$e.props),bt.ref=Uf(Fe,Ce,$e),bt.return=Fe,bt):(bt=cg($e.type,$e.key,$e.props,null,Fe.mode,bt),bt.ref=Uf(Fe,Ce,$e),bt.return=Fe,bt)}function He(Fe,Ce,$e,bt){return Ce===null||Ce.tag!==4||Ce.stateNode.containerInfo!==$e.containerInfo||Ce.stateNode.implementation!==$e.implementation?(Ce=_w($e,Fe.mode,bt),Ce.return=Fe,Ce):(Ce=k(Ce,$e.children||[]),Ce.return=Fe,Ce)}function ht(Fe,Ce,$e,bt,Ut){return Ce===null||Ce.tag!==7?(Ce=xu($e,Fe.mode,bt,Ut),Ce.return=Fe,Ce):(Ce=k(Ce,$e),Ce.return=Fe,Ce)}function gt(Fe,Ce,$e){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return Ce=ww(""+Ce,Fe.mode,$e),Ce.return=Fe,Ce;if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case D:return $e=cg(Ce.type,Ce.key,Ce.props,null,Fe.mode,$e),$e.ref=Uf(Fe,null,Ce),$e.return=Fe,$e;case L:return Ce=_w(Ce,Fe.mode,$e),Ce.return=Fe,Ce;case J:var bt=Ce._init;return gt(Fe,bt(Ce._payload),$e)}if(ke(Ce)||te(Ce))return Ce=xu(Ce,Fe.mode,$e,null),Ce.return=Fe,Ce;$m(Fe,Ce)}return null}function ft(Fe,Ce,$e,bt){var Ut=Ce!==null?Ce.key:null;if(typeof $e=="string"&&$e!==""||typeof $e=="number")return Ut!==null?null:ge(Fe,Ce,""+$e,bt);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case D:return $e.key===Ut?Se(Fe,Ce,$e,bt):null;case L:return $e.key===Ut?He(Fe,Ce,$e,bt):null;case J:return Ut=$e._init,ft(Fe,Ce,Ut($e._payload),bt)}if(ke($e)||te($e))return Ut!==null?null:ht(Fe,Ce,$e,bt,null);$m(Fe,$e)}return null}function Rt(Fe,Ce,$e,bt,Ut){if(typeof bt=="string"&&bt!==""||typeof bt=="number")return Fe=Fe.get($e)||null,ge(Ce,Fe,""+bt,Ut);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case D:return Fe=Fe.get(bt.key===null?$e:bt.key)||null,Se(Ce,Fe,bt,Ut);case L:return Fe=Fe.get(bt.key===null?$e:bt.key)||null,He(Ce,Fe,bt,Ut);case J:var Jt=bt._init;return Rt(Fe,Ce,$e,Jt(bt._payload),Ut)}if(ke(bt)||te(bt))return Fe=Fe.get($e)||null,ht(Ce,Fe,bt,Ut,null);$m(Ce,bt)}return null}function Mt(Fe,Ce,$e,bt){for(var Ut=null,Jt=null,Yt=Ce,on=Ce=0,si=null;Yt!==null&&on<$e.length;on++){Yt.index>on?(si=Yt,Yt=null):si=Yt.sibling;var An=ft(Fe,Yt,$e[on],bt);if(An===null){Yt===null&&(Yt=si);break}a&&Yt&&An.alternate===null&&u(Fe,Yt),Ce=j(An,Ce,on),Jt===null?Ut=An:Jt.sibling=An,Jt=An,Yt=si}if(on===$e.length)return m(Fe,Yt),pr&&fu(Fe,on),Ut;if(Yt===null){for(;on<$e.length;on++)Yt=gt(Fe,$e[on],bt),Yt!==null&&(Ce=j(Yt,Ce,on),Jt===null?Ut=Yt:Jt.sibling=Yt,Jt=Yt);return pr&&fu(Fe,on),Ut}for(Yt=w(Fe,Yt);on<$e.length;on++)si=Rt(Yt,Fe,on,$e[on],bt),si!==null&&(a&&si.alternate!==null&&Yt.delete(si.key===null?on:si.key),Ce=j(si,Ce,on),Jt===null?Ut=si:Jt.sibling=si,Jt=si);return a&&Yt.forEach(function(ul){return u(Fe,ul)}),pr&&fu(Fe,on),Ut}function zt(Fe,Ce,$e,bt){var Ut=te($e);if(typeof Ut!="function")throw Error(n(150));if($e=Ut.call($e),$e==null)throw Error(n(151));for(var Jt=Ut=null,Yt=Ce,on=Ce=0,si=null,An=$e.next();Yt!==null&&!An.done;on++,An=$e.next()){Yt.index>on?(si=Yt,Yt=null):si=Yt.sibling;var ul=ft(Fe,Yt,An.value,bt);if(ul===null){Yt===null&&(Yt=si);break}a&&Yt&&ul.alternate===null&&u(Fe,Yt),Ce=j(ul,Ce,on),Jt===null?Ut=ul:Jt.sibling=ul,Jt=ul,Yt=si}if(An.done)return m(Fe,Yt),pr&&fu(Fe,on),Ut;if(Yt===null){for(;!An.done;on++,An=$e.next())An=gt(Fe,An.value,bt),An!==null&&(Ce=j(An,Ce,on),Jt===null?Ut=An:Jt.sibling=An,Jt=An);return pr&&fu(Fe,on),Ut}for(Yt=w(Fe,Yt);!An.done;on++,An=$e.next())An=Rt(Yt,Fe,on,An.value,bt),An!==null&&(a&&An.alternate!==null&&Yt.delete(An.key===null?on:An.key),Ce=j(An,Ce,on),Jt===null?Ut=An:Jt.sibling=An,Jt=An);return a&&Yt.forEach(function(f$){return u(Fe,f$)}),pr&&fu(Fe,on),Ut}function Mr(Fe,Ce,$e,bt){if(typeof $e=="object"&&$e!==null&&$e.type===z&&$e.key===null&&($e=$e.props.children),typeof $e=="object"&&$e!==null){switch($e.$$typeof){case D:e:{for(var Ut=$e.key,Jt=Ce;Jt!==null;){if(Jt.key===Ut){if(Ut=$e.type,Ut===z){if(Jt.tag===7){m(Fe,Jt.sibling),Ce=k(Jt,$e.props.children),Ce.return=Fe,Fe=Ce;break e}}else if(Jt.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===J&&bk(Ut)===Jt.type){m(Fe,Jt.sibling),Ce=k(Jt,$e.props),Ce.ref=Uf(Fe,Jt,$e),Ce.return=Fe,Fe=Ce;break e}m(Fe,Jt);break}else u(Fe,Jt);Jt=Jt.sibling}$e.type===z?(Ce=xu($e.props.children,Fe.mode,bt,$e.key),Ce.return=Fe,Fe=Ce):(bt=cg($e.type,$e.key,$e.props,null,Fe.mode,bt),bt.ref=Uf(Fe,Ce,$e),bt.return=Fe,Fe=bt)}return Z(Fe);case L:e:{for(Jt=$e.key;Ce!==null;){if(Ce.key===Jt)if(Ce.tag===4&&Ce.stateNode.containerInfo===$e.containerInfo&&Ce.stateNode.implementation===$e.implementation){m(Fe,Ce.sibling),Ce=k(Ce,$e.children||[]),Ce.return=Fe,Fe=Ce;break e}else{m(Fe,Ce);break}else u(Fe,Ce);Ce=Ce.sibling}Ce=_w($e,Fe.mode,bt),Ce.return=Fe,Fe=Ce}return Z(Fe);case J:return Jt=$e._init,Mr(Fe,Ce,Jt($e._payload),bt)}if(ke($e))return Mt(Fe,Ce,$e,bt);if(te($e))return zt(Fe,Ce,$e,bt);$m(Fe,$e)}return typeof $e=="string"&&$e!==""||typeof $e=="number"?($e=""+$e,Ce!==null&&Ce.tag===6?(m(Fe,Ce.sibling),Ce=k(Ce,$e),Ce.return=Fe,Fe=Ce):(m(Fe,Ce),Ce=ww($e,Fe.mode,bt),Ce.return=Fe,Fe=Ce),Z(Fe)):m(Fe,Ce)}return Mr}var Ac=xk(!0),wk=xk(!1),Bm=Ya(null),zm=null,Pc=null,qx=null;function Rx(){qx=Pc=zm=null}function jx(a){var u=Bm.current;ur(Bm),a._currentValue=u}function Ax(a,u,m){for(;a!==null;){var w=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,w!==null&&(w.childLanes|=u)):w!==null&&(w.childLanes&u)!==u&&(w.childLanes|=u),a===m)break;a=a.return}}function Fc(a,u){zm=a,qx=Pc=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&u&&(Xi=!0),a.firstContext=null)}function Ws(a){var u=a._currentValue;if(qx!==a)if(a={context:a,memoizedValue:u,next:null},Pc===null){if(zm===null)throw Error(n(308));Pc=a,zm.dependencies={lanes:0,firstContext:a}}else Pc=Pc.next=a;return u}var pu=null;function Px(a){pu===null?pu=[a]:pu.push(a)}function _k(a,u,m,w){var k=u.interleaved;return k===null?(m.next=m,Px(u)):(m.next=k.next,k.next=m),u.interleaved=m,ha(a,w)}function ha(a,u){a.lanes|=u;var m=a.alternate;for(m!==null&&(m.lanes|=u),m=a,a=a.return;a!==null;)a.childLanes|=u,m=a.alternate,m!==null&&(m.childLanes|=u),m=a,a=a.return;return m.tag===3?m.stateNode:null}var tl=!1;function Fx(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sk(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function ma(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function nl(a,u,m){var w=a.updateQueue;if(w===null)return null;if(w=w.shared,Rn&2){var k=w.pending;return k===null?u.next=u:(u.next=k.next,k.next=u),w.pending=u,ha(a,m)}return k=w.interleaved,k===null?(u.next=u,Px(w)):(u.next=k.next,k.next=u),w.interleaved=u,ha(a,m)}function Wm(a,u,m){if(u=u.updateQueue,u!==null&&(u=u.shared,(m&4194240)!==0)){var w=u.lanes;w&=a.pendingLanes,m|=w,u.lanes=m,Tf(a,m)}}function Ek(a,u){var m=a.updateQueue,w=a.alternate;if(w!==null&&(w=w.updateQueue,m===w)){var k=null,j=null;if(m=m.firstBaseUpdate,m!==null){do{var Z={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};j===null?k=j=Z:j=j.next=Z,m=m.next}while(m!==null);j===null?k=j=u:j=j.next=u}else k=j=u;m={baseState:w.baseState,firstBaseUpdate:k,lastBaseUpdate:j,shared:w.shared,effects:w.effects},a.updateQueue=m;return}a=m.lastBaseUpdate,a===null?m.firstBaseUpdate=u:a.next=u,m.lastBaseUpdate=u}function Um(a,u,m,w){var k=a.updateQueue;tl=!1;var j=k.firstBaseUpdate,Z=k.lastBaseUpdate,ge=k.shared.pending;if(ge!==null){k.shared.pending=null;var Se=ge,He=Se.next;Se.next=null,Z===null?j=He:Z.next=He,Z=Se;var ht=a.alternate;ht!==null&&(ht=ht.updateQueue,ge=ht.lastBaseUpdate,ge!==Z&&(ge===null?ht.firstBaseUpdate=He:ge.next=He,ht.lastBaseUpdate=Se))}if(j!==null){var gt=k.baseState;Z=0,ht=He=Se=null,ge=j;do{var ft=ge.lane,Rt=ge.eventTime;if((w&ft)===ft){ht!==null&&(ht=ht.next={eventTime:Rt,lane:0,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null});e:{var Mt=a,zt=ge;switch(ft=u,Rt=m,zt.tag){case 1:if(Mt=zt.payload,typeof Mt=="function"){gt=Mt.call(Rt,gt,ft);break e}gt=Mt;break e;case 3:Mt.flags=Mt.flags&-65537|128;case 0:if(Mt=zt.payload,ft=typeof Mt=="function"?Mt.call(Rt,gt,ft):Mt,ft==null)break e;gt=oe({},gt,ft);break e;case 2:tl=!0}}ge.callback!==null&&ge.lane!==0&&(a.flags|=64,ft=k.effects,ft===null?k.effects=[ge]:ft.push(ge))}else Rt={eventTime:Rt,lane:ft,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null},ht===null?(He=ht=Rt,Se=gt):ht=ht.next=Rt,Z|=ft;if(ge=ge.next,ge===null){if(ge=k.shared.pending,ge===null)break;ft=ge,ge=ft.next,ft.next=null,k.lastBaseUpdate=ft,k.shared.pending=null}}while(!0);if(ht===null&&(Se=gt),k.baseState=Se,k.firstBaseUpdate=He,k.lastBaseUpdate=ht,u=k.shared.interleaved,u!==null){k=u;do Z|=k.lane,k=k.next;while(k!==u)}else j===null&&(k.shared.lanes=0);gu|=Z,a.lanes=Z,a.memoizedState=gt}}function Nk(a,u,m){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var w=a[u],k=w.callback;if(k!==null){if(w.callback=null,w=m,typeof k!="function")throw Error(n(191,k));k.call(w)}}}var Vf={},Fo=Ya(Vf),Hf=Ya(Vf),Qf=Ya(Vf);function hu(a){if(a===Vf)throw Error(n(174));return a}function Dx(a,u){switch(er(Qf,u),er(Hf,a),er(Fo,Vf),a=u.nodeType,a){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:Qt(null,"");break;default:a=a===8?u.parentNode:u,u=a.namespaceURI||null,a=a.tagName,u=Qt(u,a)}ur(Fo),er(Fo,u)}function Dc(){ur(Fo),ur(Hf),ur(Qf)}function kk(a){hu(Qf.current);var u=hu(Fo.current),m=Qt(u,a.type);u!==m&&(er(Hf,a),er(Fo,m))}function Lx(a){Hf.current===a&&(ur(Fo),ur(Hf))}var wr=Ya(0);function Vm(a){for(var u=a;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(u.flags&128)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Mx=[];function $x(){for(var a=0;a<Mx.length;a++)Mx[a]._workInProgressVersionPrimary=null;Mx.length=0}var Hm=A.ReactCurrentDispatcher,Bx=A.ReactCurrentBatchConfig,mu=0,_r=null,ei=null,ri=null,Qm=!1,Kf=!1,Gf=0,PM=0;function vi(){throw Error(n(321))}function zx(a,u){if(u===null)return!1;for(var m=0;m<u.length&&m<a.length;m++)if(!oo(a[m],u[m]))return!1;return!0}function Wx(a,u,m,w,k,j){if(mu=j,_r=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Hm.current=a===null||a.memoizedState===null?MM:$M,a=m(w,k),Kf){j=0;do{if(Kf=!1,Gf=0,25<=j)throw Error(n(301));j+=1,ri=ei=null,u.updateQueue=null,Hm.current=BM,a=m(w,k)}while(Kf)}if(Hm.current=Zm,u=ei!==null&&ei.next!==null,mu=0,ri=ei=_r=null,Qm=!1,u)throw Error(n(300));return a}function Ux(){var a=Gf!==0;return Gf=0,a}function Do(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ri===null?_r.memoizedState=ri=a:ri=ri.next=a,ri}function Us(){if(ei===null){var a=_r.alternate;a=a!==null?a.memoizedState:null}else a=ei.next;var u=ri===null?_r.memoizedState:ri.next;if(u!==null)ri=u,ei=a;else{if(a===null)throw Error(n(310));ei=a,a={memoizedState:ei.memoizedState,baseState:ei.baseState,baseQueue:ei.baseQueue,queue:ei.queue,next:null},ri===null?_r.memoizedState=ri=a:ri=ri.next=a}return ri}function Zf(a,u){return typeof u=="function"?u(a):u}function Vx(a){var u=Us(),m=u.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=a;var w=ei,k=w.baseQueue,j=m.pending;if(j!==null){if(k!==null){var Z=k.next;k.next=j.next,j.next=Z}w.baseQueue=k=j,m.pending=null}if(k!==null){j=k.next,w=w.baseState;var ge=Z=null,Se=null,He=j;do{var ht=He.lane;if((mu&ht)===ht)Se!==null&&(Se=Se.next={lane:0,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null}),w=He.hasEagerState?He.eagerState:a(w,He.action);else{var gt={lane:ht,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null};Se===null?(ge=Se=gt,Z=w):Se=Se.next=gt,_r.lanes|=ht,gu|=ht}He=He.next}while(He!==null&&He!==j);Se===null?Z=w:Se.next=ge,oo(w,u.memoizedState)||(Xi=!0),u.memoizedState=w,u.baseState=Z,u.baseQueue=Se,m.lastRenderedState=w}if(a=m.interleaved,a!==null){k=a;do j=k.lane,_r.lanes|=j,gu|=j,k=k.next;while(k!==a)}else k===null&&(m.lanes=0);return[u.memoizedState,m.dispatch]}function Hx(a){var u=Us(),m=u.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=a;var w=m.dispatch,k=m.pending,j=u.memoizedState;if(k!==null){m.pending=null;var Z=k=k.next;do j=a(j,Z.action),Z=Z.next;while(Z!==k);oo(j,u.memoizedState)||(Xi=!0),u.memoizedState=j,u.baseQueue===null&&(u.baseState=j),m.lastRenderedState=j}return[j,w]}function Ik(){}function Ck(a,u){var m=_r,w=Us(),k=u(),j=!oo(w.memoizedState,k);if(j&&(w.memoizedState=k,Xi=!0),w=w.queue,Qx(qk.bind(null,m,w,a),[a]),w.getSnapshot!==u||j||ri!==null&&ri.memoizedState.tag&1){if(m.flags|=2048,Jf(9,Ok.bind(null,m,w,k,u),void 0,null),ii===null)throw Error(n(349));mu&30||Tk(m,u,k)}return k}function Tk(a,u,m){a.flags|=16384,a={getSnapshot:u,value:m},u=_r.updateQueue,u===null?(u={lastEffect:null,stores:null},_r.updateQueue=u,u.stores=[a]):(m=u.stores,m===null?u.stores=[a]:m.push(a))}function Ok(a,u,m,w){u.value=m,u.getSnapshot=w,Rk(u)&&jk(a)}function qk(a,u,m){return m(function(){Rk(u)&&jk(a)})}function Rk(a){var u=a.getSnapshot;a=a.value;try{var m=u();return!oo(a,m)}catch{return!0}}function jk(a){var u=ha(a,1);u!==null&&fo(u,a,1,-1)}function Ak(a){var u=Do();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zf,lastRenderedState:a},u.queue=a,a=a.dispatch=LM.bind(null,_r,a),[u.memoizedState,a]}function Jf(a,u,m,w){return a={tag:a,create:u,destroy:m,deps:w,next:null},u=_r.updateQueue,u===null?(u={lastEffect:null,stores:null},_r.updateQueue=u,u.lastEffect=a.next=a):(m=u.lastEffect,m===null?u.lastEffect=a.next=a:(w=m.next,m.next=a,a.next=w,u.lastEffect=a)),a}function Pk(){return Us().memoizedState}function Km(a,u,m,w){var k=Do();_r.flags|=a,k.memoizedState=Jf(1|u,m,void 0,w===void 0?null:w)}function Gm(a,u,m,w){var k=Us();w=w===void 0?null:w;var j=void 0;if(ei!==null){var Z=ei.memoizedState;if(j=Z.destroy,w!==null&&zx(w,Z.deps)){k.memoizedState=Jf(u,m,j,w);return}}_r.flags|=a,k.memoizedState=Jf(1|u,m,j,w)}function Fk(a,u){return Km(8390656,8,a,u)}function Qx(a,u){return Gm(2048,8,a,u)}function Dk(a,u){return Gm(4,2,a,u)}function Lk(a,u){return Gm(4,4,a,u)}function Mk(a,u){if(typeof u=="function")return a=a(),u(a),function(){u(null)};if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function $k(a,u,m){return m=m!=null?m.concat([a]):null,Gm(4,4,Mk.bind(null,u,a),m)}function Kx(){}function Bk(a,u){var m=Us();u=u===void 0?null:u;var w=m.memoizedState;return w!==null&&u!==null&&zx(u,w[1])?w[0]:(m.memoizedState=[a,u],a)}function zk(a,u){var m=Us();u=u===void 0?null:u;var w=m.memoizedState;return w!==null&&u!==null&&zx(u,w[1])?w[0]:(a=a(),m.memoizedState=[a,u],a)}function Wk(a,u,m){return mu&21?(oo(m,u)||(m=Sm(),_r.lanes|=m,gu|=m,a.baseState=!0),u):(a.baseState&&(a.baseState=!1,Xi=!0),a.memoizedState=m)}function FM(a,u){var m=Fn;Fn=m!==0&&4>m?m:4,a(!0);var w=Bx.transition;Bx.transition={};try{a(!1),u()}finally{Fn=m,Bx.transition=w}}function Uk(){return Us().memoizedState}function DM(a,u,m){var w=ol(a);if(m={lane:w,action:m,hasEagerState:!1,eagerState:null,next:null},Vk(a))Hk(u,m);else if(m=_k(a,u,m,w),m!==null){var k=Ai();fo(m,a,w,k),Qk(m,u,w)}}function LM(a,u,m){var w=ol(a),k={lane:w,action:m,hasEagerState:!1,eagerState:null,next:null};if(Vk(a))Hk(u,k);else{var j=a.alternate;if(a.lanes===0&&(j===null||j.lanes===0)&&(j=u.lastRenderedReducer,j!==null))try{var Z=u.lastRenderedState,ge=j(Z,m);if(k.hasEagerState=!0,k.eagerState=ge,oo(ge,Z)){var Se=u.interleaved;Se===null?(k.next=k,Px(u)):(k.next=Se.next,Se.next=k),u.interleaved=k;return}}catch{}finally{}m=_k(a,u,k,w),m!==null&&(k=Ai(),fo(m,a,w,k),Qk(m,u,w))}}function Vk(a){var u=a.alternate;return a===_r||u!==null&&u===_r}function Hk(a,u){Kf=Qm=!0;var m=a.pending;m===null?u.next=u:(u.next=m.next,m.next=u),a.pending=u}function Qk(a,u,m){if(m&4194240){var w=u.lanes;w&=a.pendingLanes,m|=w,u.lanes=m,Tf(a,m)}}var Zm={readContext:Ws,useCallback:vi,useContext:vi,useEffect:vi,useImperativeHandle:vi,useInsertionEffect:vi,useLayoutEffect:vi,useMemo:vi,useReducer:vi,useRef:vi,useState:vi,useDebugValue:vi,useDeferredValue:vi,useTransition:vi,useMutableSource:vi,useSyncExternalStore:vi,useId:vi,unstable_isNewReconciler:!1},MM={readContext:Ws,useCallback:function(a,u){return Do().memoizedState=[a,u===void 0?null:u],a},useContext:Ws,useEffect:Fk,useImperativeHandle:function(a,u,m){return m=m!=null?m.concat([a]):null,Km(4194308,4,Mk.bind(null,u,a),m)},useLayoutEffect:function(a,u){return Km(4194308,4,a,u)},useInsertionEffect:function(a,u){return Km(4,2,a,u)},useMemo:function(a,u){var m=Do();return u=u===void 0?null:u,a=a(),m.memoizedState=[a,u],a},useReducer:function(a,u,m){var w=Do();return u=m!==void 0?m(u):u,w.memoizedState=w.baseState=u,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:u},w.queue=a,a=a.dispatch=DM.bind(null,_r,a),[w.memoizedState,a]},useRef:function(a){var u=Do();return a={current:a},u.memoizedState=a},useState:Ak,useDebugValue:Kx,useDeferredValue:function(a){return Do().memoizedState=a},useTransition:function(){var a=Ak(!1),u=a[0];return a=FM.bind(null,a[1]),Do().memoizedState=a,[u,a]},useMutableSource:function(){},useSyncExternalStore:function(a,u,m){var w=_r,k=Do();if(pr){if(m===void 0)throw Error(n(407));m=m()}else{if(m=u(),ii===null)throw Error(n(349));mu&30||Tk(w,u,m)}k.memoizedState=m;var j={value:m,getSnapshot:u};return k.queue=j,Fk(qk.bind(null,w,j,a),[a]),w.flags|=2048,Jf(9,Ok.bind(null,w,j,m,u),void 0,null),m},useId:function(){var a=Do(),u=ii.identifierPrefix;if(pr){var m=pa,w=fa;m=(w&~(1<<32-gi(w)-1)).toString(32)+m,u=":"+u+"R"+m,m=Gf++,0<m&&(u+="H"+m.toString(32)),u+=":"}else m=PM++,u=":"+u+"r"+m.toString(32)+":";return a.memoizedState=u},unstable_isNewReconciler:!1},$M={readContext:Ws,useCallback:Bk,useContext:Ws,useEffect:Qx,useImperativeHandle:$k,useInsertionEffect:Dk,useLayoutEffect:Lk,useMemo:zk,useReducer:Vx,useRef:Pk,useState:function(){return Vx(Zf)},useDebugValue:Kx,useDeferredValue:function(a){var u=Us();return Wk(u,ei.memoizedState,a)},useTransition:function(){var a=Vx(Zf)[0],u=Us().memoizedState;return[a,u]},useMutableSource:Ik,useSyncExternalStore:Ck,useId:Uk,unstable_isNewReconciler:!1},BM={readContext:Ws,useCallback:Bk,useContext:Ws,useEffect:Qx,useImperativeHandle:$k,useInsertionEffect:Dk,useLayoutEffect:Lk,useMemo:zk,useReducer:Hx,useRef:Pk,useState:function(){return Hx(Zf)},useDebugValue:Kx,useDeferredValue:function(a){var u=Us();return ei===null?u.memoizedState=a:Wk(u,ei.memoizedState,a)},useTransition:function(){var a=Hx(Zf)[0],u=Us().memoizedState;return[a,u]},useMutableSource:Ik,useSyncExternalStore:Ck,useId:Uk,unstable_isNewReconciler:!1};function lo(a,u){if(a&&a.defaultProps){u=oe({},u),a=a.defaultProps;for(var m in a)u[m]===void 0&&(u[m]=a[m]);return u}return u}function Gx(a,u,m,w){u=a.memoizedState,m=m(w,u),m=m==null?u:oe({},u,m),a.memoizedState=m,a.lanes===0&&(a.updateQueue.baseState=m)}var Jm={isMounted:function(a){return(a=a._reactInternals)?Ms(a)===a:!1},enqueueSetState:function(a,u,m){a=a._reactInternals;var w=Ai(),k=ol(a),j=ma(w,k);j.payload=u,m!=null&&(j.callback=m),u=nl(a,j,k),u!==null&&(fo(u,a,k,w),Wm(u,a,k))},enqueueReplaceState:function(a,u,m){a=a._reactInternals;var w=Ai(),k=ol(a),j=ma(w,k);j.tag=1,j.payload=u,m!=null&&(j.callback=m),u=nl(a,j,k),u!==null&&(fo(u,a,k,w),Wm(u,a,k))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var m=Ai(),w=ol(a),k=ma(m,w);k.tag=2,u!=null&&(k.callback=u),u=nl(a,k,w),u!==null&&(fo(u,a,w,m),Wm(u,a,w))}};function Kk(a,u,m,w,k,j,Z){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(w,j,Z):u.prototype&&u.prototype.isPureReactComponent?!Df(m,w)||!Df(k,j):!0}function Gk(a,u,m){var w=!1,k=Xa,j=u.contextType;return typeof j=="object"&&j!==null?j=Ws(j):(k=Yi(u)?cu:yi.current,w=u.contextTypes,j=(w=w!=null)?Oc(a,k):Xa),u=new u(m,j),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Jm,a.stateNode=u,u._reactInternals=a,w&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=k,a.__reactInternalMemoizedMaskedChildContext=j),u}function Zk(a,u,m,w){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,w),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,w),u.state!==a&&Jm.enqueueReplaceState(u,u.state,null)}function Zx(a,u,m,w){var k=a.stateNode;k.props=m,k.state=a.memoizedState,k.refs={},Fx(a);var j=u.contextType;typeof j=="object"&&j!==null?k.context=Ws(j):(j=Yi(u)?cu:yi.current,k.context=Oc(a,j)),k.state=a.memoizedState,j=u.getDerivedStateFromProps,typeof j=="function"&&(Gx(a,u,j,m),k.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(u=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),u!==k.state&&Jm.enqueueReplaceState(k,k.state,null),Um(a,m,k,w),k.state=a.memoizedState),typeof k.componentDidMount=="function"&&(a.flags|=4194308)}function Lc(a,u){try{var m="",w=u;do m+=we(w),w=w.return;while(w);var k=m}catch(j){k=`
Error generating stack: `+j.message+`
`+j.stack}return{value:a,source:u,stack:k,digest:null}}function Jx(a,u,m){return{value:a,source:null,stack:m??null,digest:u??null}}function Yx(a,u){try{console.error(u.value)}catch(m){setTimeout(function(){throw m})}}var zM=typeof WeakMap=="function"?WeakMap:Map;function Jk(a,u,m){m=ma(-1,m),m.tag=3,m.payload={element:null};var w=u.value;return m.callback=function(){ig||(ig=!0,pw=w),Yx(a,u)},m}function Yk(a,u,m){m=ma(-1,m),m.tag=3;var w=a.type.getDerivedStateFromError;if(typeof w=="function"){var k=u.value;m.payload=function(){return w(k)},m.callback=function(){Yx(a,u)}}var j=a.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(m.callback=function(){Yx(a,u),typeof w!="function"&&(il===null?il=new Set([this]):il.add(this));var Z=u.stack;this.componentDidCatch(u.value,{componentStack:Z!==null?Z:""})}),m}function Xk(a,u,m){var w=a.pingCache;if(w===null){w=a.pingCache=new zM;var k=new Set;w.set(u,k)}else k=w.get(u),k===void 0&&(k=new Set,w.set(u,k));k.has(m)||(k.add(m),a=n$.bind(null,a,u,m),u.then(a,a))}function eI(a){do{var u;if((u=a.tag===13)&&(u=a.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return a;a=a.return}while(a!==null);return null}function tI(a,u,m,w,k){return a.mode&1?(a.flags|=65536,a.lanes=k,a):(a===u?a.flags|=65536:(a.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(u=ma(-1,1),u.tag=2,nl(m,u,1))),m.lanes|=1),a)}var WM=A.ReactCurrentOwner,Xi=!1;function ji(a,u,m,w){u.child=a===null?wk(u,null,m,w):Ac(u,a.child,m,w)}function nI(a,u,m,w,k){m=m.render;var j=u.ref;return Fc(u,k),w=Wx(a,u,m,w,j,k),m=Ux(),a!==null&&!Xi?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~k,ga(a,u,k)):(pr&&m&&kx(u),u.flags|=1,ji(a,u,w,k),u.child)}function rI(a,u,m,w,k){if(a===null){var j=m.type;return typeof j=="function"&&!xw(j)&&j.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(u.tag=15,u.type=j,iI(a,u,j,w,k)):(a=cg(m.type,null,w,u,u.mode,k),a.ref=u.ref,a.return=u,u.child=a)}if(j=a.child,!(a.lanes&k)){var Z=j.memoizedProps;if(m=m.compare,m=m!==null?m:Df,m(Z,w)&&a.ref===u.ref)return ga(a,u,k)}return u.flags|=1,a=ll(j,w),a.ref=u.ref,a.return=u,u.child=a}function iI(a,u,m,w,k){if(a!==null){var j=a.memoizedProps;if(Df(j,w)&&a.ref===u.ref)if(Xi=!1,u.pendingProps=w=j,(a.lanes&k)!==0)a.flags&131072&&(Xi=!0);else return u.lanes=a.lanes,ga(a,u,k)}return Xx(a,u,m,w,k)}function sI(a,u,m){var w=u.pendingProps,k=w.children,j=a!==null?a.memoizedState:null;if(w.mode==="hidden")if(!(u.mode&1))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},er($c,xs),xs|=m;else{if(!(m&0x40000000))return a=j!==null?j.baseLanes|m:m,u.lanes=u.childLanes=0x40000000,u.memoizedState={baseLanes:a,cachePool:null,transitions:null},u.updateQueue=null,er($c,xs),xs|=a,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=j!==null?j.baseLanes:m,er($c,xs),xs|=w}else j!==null?(w=j.baseLanes|m,u.memoizedState=null):w=m,er($c,xs),xs|=w;return ji(a,u,k,m),u.child}function oI(a,u){var m=u.ref;(a===null&&m!==null||a!==null&&a.ref!==m)&&(u.flags|=512,u.flags|=2097152)}function Xx(a,u,m,w,k){var j=Yi(m)?cu:yi.current;return j=Oc(u,j),Fc(u,k),m=Wx(a,u,m,w,j,k),w=Ux(),a!==null&&!Xi?(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~k,ga(a,u,k)):(pr&&w&&kx(u),u.flags|=1,ji(a,u,m,k),u.child)}function aI(a,u,m,w,k){if(Yi(m)){var j=!0;Pm(u)}else j=!1;if(Fc(u,k),u.stateNode===null)Xm(a,u),Gk(u,m,w),Zx(u,m,w,k),w=!0;else if(a===null){var Z=u.stateNode,ge=u.memoizedProps;Z.props=ge;var Se=Z.context,He=m.contextType;typeof He=="object"&&He!==null?He=Ws(He):(He=Yi(m)?cu:yi.current,He=Oc(u,He));var ht=m.getDerivedStateFromProps,gt=typeof ht=="function"||typeof Z.getSnapshotBeforeUpdate=="function";gt||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(ge!==w||Se!==He)&&Zk(u,Z,w,He),tl=!1;var ft=u.memoizedState;Z.state=ft,Um(u,w,Z,k),Se=u.memoizedState,ge!==w||ft!==Se||Ji.current||tl?(typeof ht=="function"&&(Gx(u,m,ht,w),Se=u.memoizedState),(ge=tl||Kk(u,m,ge,w,ft,Se,He))?(gt||typeof Z.UNSAFE_componentWillMount!="function"&&typeof Z.componentWillMount!="function"||(typeof Z.componentWillMount=="function"&&Z.componentWillMount(),typeof Z.UNSAFE_componentWillMount=="function"&&Z.UNSAFE_componentWillMount()),typeof Z.componentDidMount=="function"&&(u.flags|=4194308)):(typeof Z.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=w,u.memoizedState=Se),Z.props=w,Z.state=Se,Z.context=He,w=ge):(typeof Z.componentDidMount=="function"&&(u.flags|=4194308),w=!1)}else{Z=u.stateNode,Sk(a,u),ge=u.memoizedProps,He=u.type===u.elementType?ge:lo(u.type,ge),Z.props=He,gt=u.pendingProps,ft=Z.context,Se=m.contextType,typeof Se=="object"&&Se!==null?Se=Ws(Se):(Se=Yi(m)?cu:yi.current,Se=Oc(u,Se));var Rt=m.getDerivedStateFromProps;(ht=typeof Rt=="function"||typeof Z.getSnapshotBeforeUpdate=="function")||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(ge!==gt||ft!==Se)&&Zk(u,Z,w,Se),tl=!1,ft=u.memoizedState,Z.state=ft,Um(u,w,Z,k);var Mt=u.memoizedState;ge!==gt||ft!==Mt||Ji.current||tl?(typeof Rt=="function"&&(Gx(u,m,Rt,w),Mt=u.memoizedState),(He=tl||Kk(u,m,He,w,ft,Mt,Se)||!1)?(ht||typeof Z.UNSAFE_componentWillUpdate!="function"&&typeof Z.componentWillUpdate!="function"||(typeof Z.componentWillUpdate=="function"&&Z.componentWillUpdate(w,Mt,Se),typeof Z.UNSAFE_componentWillUpdate=="function"&&Z.UNSAFE_componentWillUpdate(w,Mt,Se)),typeof Z.componentDidUpdate=="function"&&(u.flags|=4),typeof Z.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof Z.componentDidUpdate!="function"||ge===a.memoizedProps&&ft===a.memoizedState||(u.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||ge===a.memoizedProps&&ft===a.memoizedState||(u.flags|=1024),u.memoizedProps=w,u.memoizedState=Mt),Z.props=w,Z.state=Mt,Z.context=Se,w=He):(typeof Z.componentDidUpdate!="function"||ge===a.memoizedProps&&ft===a.memoizedState||(u.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||ge===a.memoizedProps&&ft===a.memoizedState||(u.flags|=1024),w=!1)}return ew(a,u,m,w,j,k)}function ew(a,u,m,w,k,j){oI(a,u);var Z=(u.flags&128)!==0;if(!w&&!Z)return k&&fk(u,m,!1),ga(a,u,j);w=u.stateNode,WM.current=u;var ge=Z&&typeof m.getDerivedStateFromError!="function"?null:w.render();return u.flags|=1,a!==null&&Z?(u.child=Ac(u,a.child,null,j),u.child=Ac(u,null,ge,j)):ji(a,u,ge,j),u.memoizedState=w.state,k&&fk(u,m,!0),u.child}function lI(a){var u=a.stateNode;u.pendingContext?ck(a,u.pendingContext,u.pendingContext!==u.context):u.context&&ck(a,u.context,!1),Dx(a,u.containerInfo)}function uI(a,u,m,w,k){return jc(),Ox(k),u.flags|=256,ji(a,u,m,w),u.child}var tw={dehydrated:null,treeContext:null,retryLane:0};function nw(a){return{baseLanes:a,cachePool:null,transitions:null}}function cI(a,u,m){var w=u.pendingProps,k=wr.current,j=!1,Z=(u.flags&128)!==0,ge;if((ge=Z)||(ge=a!==null&&a.memoizedState===null?!1:(k&2)!==0),ge?(j=!0,u.flags&=-129):(a===null||a.memoizedState!==null)&&(k|=1),er(wr,k&1),a===null)return Tx(u),a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(u.mode&1?a.data==="$!"?u.lanes=8:u.lanes=0x40000000:u.lanes=1,null):(Z=w.children,a=w.fallback,j?(w=u.mode,j=u.child,Z={mode:"hidden",children:Z},!(w&1)&&j!==null?(j.childLanes=0,j.pendingProps=Z):j=dg(Z,w,0,null),a=xu(a,w,m,null),j.return=u,a.return=u,j.sibling=a,u.child=j,u.child.memoizedState=nw(m),u.memoizedState=tw,a):rw(u,Z));if(k=a.memoizedState,k!==null&&(ge=k.dehydrated,ge!==null))return UM(a,u,Z,w,ge,k,m);if(j){j=w.fallback,Z=u.mode,k=a.child,ge=k.sibling;var Se={mode:"hidden",children:w.children};return!(Z&1)&&u.child!==k?(w=u.child,w.childLanes=0,w.pendingProps=Se,u.deletions=null):(w=ll(k,Se),w.subtreeFlags=k.subtreeFlags&0xe00000),ge!==null?j=ll(ge,j):(j=xu(j,Z,m,null),j.flags|=2),j.return=u,w.return=u,w.sibling=j,u.child=w,w=j,j=u.child,Z=a.child.memoizedState,Z=Z===null?nw(m):{baseLanes:Z.baseLanes|m,cachePool:null,transitions:Z.transitions},j.memoizedState=Z,j.childLanes=a.childLanes&~m,u.memoizedState=tw,w}return j=a.child,a=j.sibling,w=ll(j,{mode:"visible",children:w.children}),!(u.mode&1)&&(w.lanes=m),w.return=u,w.sibling=null,a!==null&&(m=u.deletions,m===null?(u.deletions=[a],u.flags|=16):m.push(a)),u.child=w,u.memoizedState=null,w}function rw(a,u){return u=dg({mode:"visible",children:u},a.mode,0,null),u.return=a,a.child=u}function Ym(a,u,m,w){return w!==null&&Ox(w),Ac(u,a.child,null,m),a=rw(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function UM(a,u,m,w,k,j,Z){if(m)return u.flags&256?(u.flags&=-257,w=Jx(Error(n(422))),Ym(a,u,Z,w)):u.memoizedState!==null?(u.child=a.child,u.flags|=128,null):(j=w.fallback,k=u.mode,w=dg({mode:"visible",children:w.children},k,0,null),j=xu(j,k,Z,null),j.flags|=2,w.return=u,j.return=u,w.sibling=j,u.child=w,u.mode&1&&Ac(u,a.child,null,Z),u.child.memoizedState=nw(Z),u.memoizedState=tw,j);if(!(u.mode&1))return Ym(a,u,Z,null);if(k.data==="$!"){if(w=k.nextSibling&&k.nextSibling.dataset,w)var ge=w.dgst;return w=ge,j=Error(n(419)),w=Jx(j,w,void 0),Ym(a,u,Z,w)}if(ge=(Z&a.childLanes)!==0,Xi||ge){if(w=ii,w!==null){switch(Z&-Z){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:k=32;break;case 0x20000000:k=0x10000000;break;default:k=0}k=k&(w.suspendedLanes|Z)?0:k,k!==0&&k!==j.retryLane&&(j.retryLane=k,ha(a,k),fo(w,a,k,-1))}return bw(),w=Jx(Error(n(421))),Ym(a,u,Z,w)}return k.data==="$?"?(u.flags|=128,u.child=a.child,u=r$.bind(null,a),k._reactRetry=u,null):(a=j.treeContext,bs=Ja(k.nextSibling),vs=u,pr=!0,ao=null,a!==null&&(Bs[zs++]=fa,Bs[zs++]=pa,Bs[zs++]=du,fa=a.id,pa=a.overflow,du=u),u=rw(u,w.children),u.flags|=4096,u)}function dI(a,u,m){a.lanes|=u;var w=a.alternate;w!==null&&(w.lanes|=u),Ax(a.return,u,m)}function iw(a,u,m,w,k){var j=a.memoizedState;j===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:w,tail:m,tailMode:k}:(j.isBackwards=u,j.rendering=null,j.renderingStartTime=0,j.last=w,j.tail=m,j.tailMode=k)}function fI(a,u,m){var w=u.pendingProps,k=w.revealOrder,j=w.tail;if(ji(a,u,w.children,m),w=wr.current,w&2)w=w&1|2,u.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&dI(a,m,u);else if(a.tag===19)dI(a,m,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}w&=1}if(er(wr,w),!(u.mode&1))u.memoizedState=null;else switch(k){case"forwards":for(m=u.child,k=null;m!==null;)a=m.alternate,a!==null&&Vm(a)===null&&(k=m),m=m.sibling;m=k,m===null?(k=u.child,u.child=null):(k=m.sibling,m.sibling=null),iw(u,!1,k,m,j);break;case"backwards":for(m=null,k=u.child,u.child=null;k!==null;){if(a=k.alternate,a!==null&&Vm(a)===null){u.child=k;break}a=k.sibling,k.sibling=m,m=k,k=a}iw(u,!0,m,null,j);break;case"together":iw(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Xm(a,u){!(u.mode&1)&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2)}function ga(a,u,m){if(a!==null&&(u.dependencies=a.dependencies),gu|=u.lanes,!(m&u.childLanes))return null;if(a!==null&&u.child!==a.child)throw Error(n(153));if(u.child!==null){for(a=u.child,m=ll(a,a.pendingProps),u.child=m,m.return=u;a.sibling!==null;)a=a.sibling,m=m.sibling=ll(a,a.pendingProps),m.return=u;m.sibling=null}return u.child}function VM(a,u,m){switch(u.tag){case 3:lI(u),jc();break;case 5:kk(u);break;case 1:Yi(u.type)&&Pm(u);break;case 4:Dx(u,u.stateNode.containerInfo);break;case 10:var w=u.type._context,k=u.memoizedProps.value;er(Bm,w._currentValue),w._currentValue=k;break;case 13:if(w=u.memoizedState,w!==null)return w.dehydrated!==null?(er(wr,wr.current&1),u.flags|=128,null):m&u.child.childLanes?cI(a,u,m):(er(wr,wr.current&1),a=ga(a,u,m),a!==null?a.sibling:null);er(wr,wr.current&1);break;case 19:if(w=(m&u.childLanes)!==0,a.flags&128){if(w)return fI(a,u,m);u.flags|=128}if(k=u.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),er(wr,wr.current),w)break;return null;case 22:case 23:return u.lanes=0,sI(a,u,m)}return ga(a,u,m)}var pI,sw,hI,mI;pI=function(a,u){for(var m=u.child;m!==null;){if(m.tag===5||m.tag===6)a.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===u)break;for(;m.sibling===null;){if(m.return===null||m.return===u)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},sw=function(){},hI=function(a,u,m,w){var k=a.memoizedProps;if(k!==w){a=u.stateNode,hu(Fo.current);var j=null;switch(m){case"input":k=_t(a,k),w=_t(a,w),j=[];break;case"select":k=oe({},k,{value:void 0}),w=oe({},w,{value:void 0}),j=[];break;case"textarea":k=Ve(a,k),w=Ve(a,w),j=[];break;default:typeof k.onClick!="function"&&typeof w.onClick=="function"&&(a.onclick=Rm)}Qi(m,w);var Z;m=null;for(He in k)if(!w.hasOwnProperty(He)&&k.hasOwnProperty(He)&&k[He]!=null)if(He==="style"){var ge=k[He];for(Z in ge)ge.hasOwnProperty(Z)&&(m||(m={}),m[Z]="")}else He!=="dangerouslySetInnerHTML"&&He!=="children"&&He!=="suppressContentEditableWarning"&&He!=="suppressHydrationWarning"&&He!=="autoFocus"&&(i.hasOwnProperty(He)?j||(j=[]):(j=j||[]).push(He,null));for(He in w){var Se=w[He];if(ge=k?.[He],w.hasOwnProperty(He)&&Se!==ge&&(Se!=null||ge!=null))if(He==="style")if(ge){for(Z in ge)!ge.hasOwnProperty(Z)||Se&&Se.hasOwnProperty(Z)||(m||(m={}),m[Z]="");for(Z in Se)Se.hasOwnProperty(Z)&&ge[Z]!==Se[Z]&&(m||(m={}),m[Z]=Se[Z])}else m||(j||(j=[]),j.push(He,m)),m=Se;else He==="dangerouslySetInnerHTML"?(Se=Se?Se.__html:void 0,ge=ge?ge.__html:void 0,Se!=null&&ge!==Se&&(j=j||[]).push(He,Se)):He==="children"?typeof Se!="string"&&typeof Se!="number"||(j=j||[]).push(He,""+Se):He!=="suppressContentEditableWarning"&&He!=="suppressHydrationWarning"&&(i.hasOwnProperty(He)?(Se!=null&&He==="onScroll"&&lr("scroll",a),j||ge===Se||(j=[])):(j=j||[]).push(He,Se))}m&&(j=j||[]).push("style",m);var He=j;(u.updateQueue=He)&&(u.flags|=4)}},mI=function(a,u,m,w){m!==w&&(u.flags|=4)};function Yf(a,u){if(!pr)switch(a.tailMode){case"hidden":u=a.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?a.tail=null:m.sibling=null;break;case"collapsed":m=a.tail;for(var w=null;m!==null;)m.alternate!==null&&(w=m),m=m.sibling;w===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:w.sibling=null}}function bi(a){var u=a.alternate!==null&&a.alternate.child===a.child,m=0,w=0;if(u)for(var k=a.child;k!==null;)m|=k.lanes|k.childLanes,w|=k.subtreeFlags&0xe00000,w|=k.flags&0xe00000,k.return=a,k=k.sibling;else for(k=a.child;k!==null;)m|=k.lanes|k.childLanes,w|=k.subtreeFlags,w|=k.flags,k.return=a,k=k.sibling;return a.subtreeFlags|=w,a.childLanes=m,u}function HM(a,u,m){var w=u.pendingProps;switch(Ix(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bi(u),null;case 1:return Yi(u.type)&&Am(),bi(u),null;case 3:return w=u.stateNode,Dc(),ur(Ji),ur(yi),$x(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(a===null||a.child===null)&&(Mm(u)?u.flags|=4:a===null||a.memoizedState.isDehydrated&&!(u.flags&256)||(u.flags|=1024,ao!==null&&(gw(ao),ao=null))),sw(a,u),bi(u),null;case 5:Lx(u);var k=hu(Qf.current);if(m=u.type,a!==null&&u.stateNode!=null)hI(a,u,m,w,k),a.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!w){if(u.stateNode===null)throw Error(n(166));return bi(u),null}if(a=hu(Fo.current),Mm(u)){w=u.stateNode,m=u.type;var j=u.memoizedProps;switch(w[Po]=u,w[zf]=j,a=(u.mode&1)!==0,m){case"dialog":lr("cancel",w),lr("close",w);break;case"iframe":case"object":case"embed":lr("load",w);break;case"video":case"audio":for(k=0;k<Mf.length;k++)lr(Mf[k],w);break;case"source":lr("error",w);break;case"img":case"image":case"link":lr("error",w),lr("load",w);break;case"details":lr("toggle",w);break;case"input":Tt(w,j),lr("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!j.multiple},lr("invalid",w);break;case"textarea":rt(w,j),lr("invalid",w)}Qi(m,j),k=null;for(var Z in j)if(j.hasOwnProperty(Z)){var ge=j[Z];Z==="children"?typeof ge=="string"?w.textContent!==ge&&(j.suppressHydrationWarning!==!0&&qm(w.textContent,ge,a),k=["children",ge]):typeof ge=="number"&&w.textContent!==""+ge&&(j.suppressHydrationWarning!==!0&&qm(w.textContent,ge,a),k=["children",""+ge]):i.hasOwnProperty(Z)&&ge!=null&&Z==="onScroll"&&lr("scroll",w)}switch(m){case"input":Xe(w),xe(w,j,!0);break;case"textarea":Xe(w),ct(w);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(w.onclick=Rm)}w=k,u.updateQueue=w,w!==null&&(u.flags|=4)}else{Z=k.nodeType===9?k:k.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Ht(m)),a==="http://www.w3.org/1999/xhtml"?m==="script"?(a=Z.createElement("div"),a.innerHTML="<script></script>",a=a.removeChild(a.firstChild)):typeof w.is=="string"?a=Z.createElement(m,{is:w.is}):(a=Z.createElement(m),m==="select"&&(Z=a,w.multiple?Z.multiple=!0:w.size&&(Z.size=w.size))):a=Z.createElementNS(a,m),a[Po]=u,a[zf]=w,pI(a,u,!1,!1),u.stateNode=a;e:{switch(Z=Ki(m,w),m){case"dialog":lr("cancel",a),lr("close",a),k=w;break;case"iframe":case"object":case"embed":lr("load",a),k=w;break;case"video":case"audio":for(k=0;k<Mf.length;k++)lr(Mf[k],a);k=w;break;case"source":lr("error",a),k=w;break;case"img":case"image":case"link":lr("error",a),lr("load",a),k=w;break;case"details":lr("toggle",a),k=w;break;case"input":Tt(a,w),k=_t(a,w),lr("invalid",a);break;case"option":k=w;break;case"select":a._wrapperState={wasMultiple:!!w.multiple},k=oe({},w,{value:void 0}),lr("invalid",a);break;case"textarea":rt(a,w),k=Ve(a,w),lr("invalid",a);break;default:k=w}Qi(m,k),ge=k;for(j in ge)if(ge.hasOwnProperty(j)){var Se=ge[j];j==="style"?Kt(a,Se):j==="dangerouslySetInnerHTML"?(Se=Se?Se.__html:void 0,Se!=null&&or(a,Se)):j==="children"?typeof Se=="string"?(m!=="textarea"||Se!=="")&&Pn(a,Se):typeof Se=="number"&&Pn(a,""+Se):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(i.hasOwnProperty(j)?Se!=null&&j==="onScroll"&&lr("scroll",a):Se!=null&&q(a,j,Se,Z))}switch(m){case"input":Xe(a),xe(a,w,!1);break;case"textarea":Xe(a),ct(a);break;case"option":w.value!=null&&a.setAttribute("value",""+qe(w.value));break;case"select":a.multiple=!!w.multiple,j=w.value,j!=null?Ae(a,!!w.multiple,j,!1):w.defaultValue!=null&&Ae(a,!!w.multiple,w.defaultValue,!0);break;default:typeof k.onClick=="function"&&(a.onclick=Rm)}switch(m){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return bi(u),null;case 6:if(a&&u.stateNode!=null)mI(a,u,a.memoizedProps,w);else{if(typeof w!="string"&&u.stateNode===null)throw Error(n(166));if(m=hu(Qf.current),hu(Fo.current),Mm(u)){if(w=u.stateNode,m=u.memoizedProps,w[Po]=u,(j=w.nodeValue!==m)&&(a=vs,a!==null))switch(a.tag){case 3:qm(w.nodeValue,m,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&qm(w.nodeValue,m,(a.mode&1)!==0)}j&&(u.flags|=4)}else w=(m.nodeType===9?m:m.ownerDocument).createTextNode(w),w[Po]=u,u.stateNode=w}return bi(u),null;case 13:if(ur(wr),w=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(pr&&bs!==null&&u.mode&1&&!(u.flags&128))vk(),jc(),u.flags|=98560,j=!1;else if(j=Mm(u),w!==null&&w.dehydrated!==null){if(a===null){if(!j)throw Error(n(318));if(j=u.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(n(317));j[Po]=u}else jc(),!(u.flags&128)&&(u.memoizedState=null),u.flags|=4;bi(u),j=!1}else ao!==null&&(gw(ao),ao=null),j=!0;if(!j)return u.flags&65536?u:null}return u.flags&128?(u.lanes=m,u):(w=w!==null,w!==(a!==null&&a.memoizedState!==null)&&w&&(u.child.flags|=8192,u.mode&1&&(a===null||wr.current&1?ti===0&&(ti=3):bw())),u.updateQueue!==null&&(u.flags|=4),bi(u),null);case 4:return Dc(),sw(a,u),a===null&&$f(u.stateNode.containerInfo),bi(u),null;case 10:return jx(u.type._context),bi(u),null;case 17:return Yi(u.type)&&Am(),bi(u),null;case 19:if(ur(wr),j=u.memoizedState,j===null)return bi(u),null;if(w=(u.flags&128)!==0,Z=j.rendering,Z===null)if(w)Yf(j,!1);else{if(ti!==0||a!==null&&a.flags&128)for(a=u.child;a!==null;){if(Z=Vm(a),Z!==null){for(u.flags|=128,Yf(j,!1),w=Z.updateQueue,w!==null&&(u.updateQueue=w,u.flags|=4),u.subtreeFlags=0,w=m,m=u.child;m!==null;)j=m,a=w,j.flags&=0xe00002,Z=j.alternate,Z===null?(j.childLanes=0,j.lanes=a,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=Z.childLanes,j.lanes=Z.lanes,j.child=Z.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=Z.memoizedProps,j.memoizedState=Z.memoizedState,j.updateQueue=Z.updateQueue,j.type=Z.type,a=Z.dependencies,j.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),m=m.sibling;return er(wr,wr.current&1|2),u.child}a=a.sibling}j.tail!==null&&ar()>Bc&&(u.flags|=128,w=!0,Yf(j,!1),u.lanes=4194304)}else{if(!w)if(a=Vm(Z),a!==null){if(u.flags|=128,w=!0,m=a.updateQueue,m!==null&&(u.updateQueue=m,u.flags|=4),Yf(j,!0),j.tail===null&&j.tailMode==="hidden"&&!Z.alternate&&!pr)return bi(u),null}else 2*ar()-j.renderingStartTime>Bc&&m!==0x40000000&&(u.flags|=128,w=!0,Yf(j,!1),u.lanes=4194304);j.isBackwards?(Z.sibling=u.child,u.child=Z):(m=j.last,m!==null?m.sibling=Z:u.child=Z,j.last=Z)}return j.tail!==null?(u=j.tail,j.rendering=u,j.tail=u.sibling,j.renderingStartTime=ar(),u.sibling=null,m=wr.current,er(wr,w?m&1|2:m&1),u):(bi(u),null);case 22:case 23:return vw(),w=u.memoizedState!==null,a!==null&&a.memoizedState!==null!==w&&(u.flags|=8192),w&&u.mode&1?xs&0x40000000&&(bi(u),u.subtreeFlags&6&&(u.flags|=8192)):bi(u),null;case 24:return null;case 25:return null}throw Error(n(156,u.tag))}function QM(a,u){switch(Ix(u),u.tag){case 1:return Yi(u.type)&&Am(),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return Dc(),ur(Ji),ur(yi),$x(),a=u.flags,a&65536&&!(a&128)?(u.flags=a&-65537|128,u):null;case 5:return Lx(u),null;case 13:if(ur(wr),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(n(340));jc()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return ur(wr),null;case 4:return Dc(),null;case 10:return jx(u.type._context),null;case 22:case 23:return vw(),null;case 24:return null;default:return null}}var eg=!1,xi=!1,KM=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function Mc(a,u){var m=a.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(w){Pr(a,u,w)}else m.current=null}function ow(a,u,m){try{m()}catch(w){Pr(a,u,w)}}var gI=!1;function GM(a,u){if(vx=Ge,a=KN(),cx(a)){if("selectionStart"in a)var m={start:a.selectionStart,end:a.selectionEnd};else e:{m=(m=a.ownerDocument)&&m.defaultView||window;var w=m.getSelection&&m.getSelection();if(w&&w.rangeCount!==0){m=w.anchorNode;var k=w.anchorOffset,j=w.focusNode;w=w.focusOffset;try{m.nodeType,j.nodeType}catch{m=null;break e}var Z=0,ge=-1,Se=-1,He=0,ht=0,gt=a,ft=null;t:for(;;){for(var Rt;gt!==m||k!==0&&gt.nodeType!==3||(ge=Z+k),gt!==j||w!==0&&gt.nodeType!==3||(Se=Z+w),gt.nodeType===3&&(Z+=gt.nodeValue.length),(Rt=gt.firstChild)!==null;)ft=gt,gt=Rt;for(;;){if(gt===a)break t;if(ft===m&&++He===k&&(ge=Z),ft===j&&++ht===w&&(Se=Z),(Rt=gt.nextSibling)!==null)break;gt=ft,ft=gt.parentNode}gt=Rt}m=ge===-1||Se===-1?null:{start:ge,end:Se}}else m=null}m=m||{start:0,end:0}}else m=null;for(bx={focusedElem:a,selectionRange:m},Ge=!1,Dt=u;Dt!==null;)if(u=Dt,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,Dt=a;else for(;Dt!==null;){u=Dt;try{var Mt=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Mt!==null){var zt=Mt.memoizedProps,Mr=Mt.memoizedState,Fe=u.stateNode,Ce=Fe.getSnapshotBeforeUpdate(u.elementType===u.type?zt:lo(u.type,zt),Mr);Fe.__reactInternalSnapshotBeforeUpdate=Ce}break;case 3:var $e=u.stateNode.containerInfo;$e.nodeType===1?$e.textContent="":$e.nodeType===9&&$e.documentElement&&$e.removeChild($e.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(bt){Pr(u,u.return,bt)}if(a=u.sibling,a!==null){a.return=u.return,Dt=a;break}Dt=u.return}return Mt=gI,gI=!1,Mt}function Xf(a,u,m){var w=u.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var k=w=w.next;do{if((k.tag&a)===a){var j=k.destroy;k.destroy=void 0,j!==void 0&&ow(u,m,j)}k=k.next}while(k!==w)}}function tg(a,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var m=u=u.next;do{if((m.tag&a)===a){var w=m.create;m.destroy=w()}m=m.next}while(m!==u)}}function aw(a){var u=a.ref;if(u!==null){var m=a.stateNode;switch(a.tag){case 5:a=m;break;default:a=m}typeof u=="function"?u(a):u.current=a}}function yI(a){var u=a.alternate;u!==null&&(a.alternate=null,yI(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&(delete u[Po],delete u[zf],delete u[Sx],delete u[qM],delete u[RM])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function vI(a){return a.tag===5||a.tag===3||a.tag===4}function bI(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||vI(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function lw(a,u,m){var w=a.tag;if(w===5||w===6)a=a.stateNode,u?m.nodeType===8?m.parentNode.insertBefore(a,u):m.insertBefore(a,u):(m.nodeType===8?(u=m.parentNode,u.insertBefore(a,m)):(u=m,u.appendChild(a)),m=m._reactRootContainer,m!=null||u.onclick!==null||(u.onclick=Rm));else if(w!==4&&(a=a.child,a!==null))for(lw(a,u,m),a=a.sibling;a!==null;)lw(a,u,m),a=a.sibling}function uw(a,u,m){var w=a.tag;if(w===5||w===6)a=a.stateNode,u?m.insertBefore(a,u):m.appendChild(a);else if(w!==4&&(a=a.child,a!==null))for(uw(a,u,m),a=a.sibling;a!==null;)uw(a,u,m),a=a.sibling}var ai=null,uo=!1;function rl(a,u,m){for(m=m.child;m!==null;)xI(a,u,m),m=m.sibling}function xI(a,u,m){if(Zi&&typeof Zi.onCommitFiberUnmount=="function")try{Zi.onCommitFiberUnmount(Qa,m)}catch{}switch(m.tag){case 5:xi||Mc(m,u);case 6:var w=ai,k=uo;ai=null,rl(a,u,m),ai=w,uo=k,ai!==null&&(uo?(a=ai,m=m.stateNode,a.nodeType===8?a.parentNode.removeChild(m):a.removeChild(m)):ai.removeChild(m.stateNode));break;case 18:ai!==null&&(uo?(a=ai,m=m.stateNode,a.nodeType===8?_x(a.parentNode,m):a.nodeType===1&&_x(a,m),Te(a)):_x(ai,m.stateNode));break;case 4:w=ai,k=uo,ai=m.stateNode.containerInfo,uo=!0,rl(a,u,m),ai=w,uo=k;break;case 0:case 11:case 14:case 15:if(!xi&&(w=m.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){k=w=w.next;do{var j=k,Z=j.destroy;j=j.tag,Z!==void 0&&(j&2||j&4)&&ow(m,u,Z),k=k.next}while(k!==w)}rl(a,u,m);break;case 1:if(!xi&&(Mc(m,u),w=m.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=m.memoizedProps,w.state=m.memoizedState,w.componentWillUnmount()}catch(ge){Pr(m,u,ge)}rl(a,u,m);break;case 21:rl(a,u,m);break;case 22:m.mode&1?(xi=(w=xi)||m.memoizedState!==null,rl(a,u,m),xi=w):rl(a,u,m);break;default:rl(a,u,m)}}function wI(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var m=a.stateNode;m===null&&(m=a.stateNode=new KM),u.forEach(function(w){var k=i$.bind(null,a,w);m.has(w)||(m.add(w),w.then(k,k))})}}function co(a,u){var m=u.deletions;if(m!==null)for(var w=0;w<m.length;w++){var k=m[w];try{var j=a,Z=u,ge=Z;e:for(;ge!==null;){switch(ge.tag){case 5:ai=ge.stateNode,uo=!1;break e;case 3:ai=ge.stateNode.containerInfo,uo=!0;break e;case 4:ai=ge.stateNode.containerInfo,uo=!0;break e}ge=ge.return}if(ai===null)throw Error(n(160));xI(j,Z,k),ai=null,uo=!1;var Se=k.alternate;Se!==null&&(Se.return=null),k.return=null}catch(He){Pr(k,u,He)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)_I(u,a),u=u.sibling}function _I(a,u){var m=a.alternate,w=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(co(u,a),Lo(a),w&4){try{Xf(3,a,a.return),tg(3,a)}catch(zt){Pr(a,a.return,zt)}try{Xf(5,a,a.return)}catch(zt){Pr(a,a.return,zt)}}break;case 1:co(u,a),Lo(a),w&512&&m!==null&&Mc(m,m.return);break;case 5:if(co(u,a),Lo(a),w&512&&m!==null&&Mc(m,m.return),a.flags&32){var k=a.stateNode;try{Pn(k,"")}catch(zt){Pr(a,a.return,zt)}}if(w&4&&(k=a.stateNode,k!=null)){var j=a.memoizedProps,Z=m!==null?m.memoizedProps:j,ge=a.type,Se=a.updateQueue;if(a.updateQueue=null,Se!==null)try{ge==="input"&&j.type==="radio"&&j.name!=null&&Wt(k,j),Ki(ge,Z);var He=Ki(ge,j);for(Z=0;Z<Se.length;Z+=2){var ht=Se[Z],gt=Se[Z+1];ht==="style"?Kt(k,gt):ht==="dangerouslySetInnerHTML"?or(k,gt):ht==="children"?Pn(k,gt):q(k,ht,gt,He)}switch(ge){case"input":Xt(k,j);break;case"textarea":Me(k,j);break;case"select":var ft=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!j.multiple;var Rt=j.value;Rt!=null?Ae(k,!!j.multiple,Rt,!1):ft!==!!j.multiple&&(j.defaultValue!=null?Ae(k,!!j.multiple,j.defaultValue,!0):Ae(k,!!j.multiple,j.multiple?[]:"",!1))}k[zf]=j}catch(zt){Pr(a,a.return,zt)}}break;case 6:if(co(u,a),Lo(a),w&4){if(a.stateNode===null)throw Error(n(162));k=a.stateNode,j=a.memoizedProps;try{k.nodeValue=j}catch(zt){Pr(a,a.return,zt)}}break;case 3:if(co(u,a),Lo(a),w&4&&m!==null&&m.memoizedState.isDehydrated)try{Te(u.containerInfo)}catch(zt){Pr(a,a.return,zt)}break;case 4:co(u,a),Lo(a);break;case 13:co(u,a),Lo(a),k=a.child,k.flags&8192&&(j=k.memoizedState!==null,k.stateNode.isHidden=j,!j||k.alternate!==null&&k.alternate.memoizedState!==null||(fw=ar())),w&4&&wI(a);break;case 22:if(ht=m!==null&&m.memoizedState!==null,a.mode&1?(xi=(He=xi)||ht,co(u,a),xi=He):co(u,a),Lo(a),w&8192){if(He=a.memoizedState!==null,(a.stateNode.isHidden=He)&&!ht&&a.mode&1)for(Dt=a,ht=a.child;ht!==null;){for(gt=Dt=ht;Dt!==null;){switch(ft=Dt,Rt=ft.child,ft.tag){case 0:case 11:case 14:case 15:Xf(4,ft,ft.return);break;case 1:Mc(ft,ft.return);var Mt=ft.stateNode;if(typeof Mt.componentWillUnmount=="function"){w=ft,m=ft.return;try{u=w,Mt.props=u.memoizedProps,Mt.state=u.memoizedState,Mt.componentWillUnmount()}catch(zt){Pr(w,m,zt)}}break;case 5:Mc(ft,ft.return);break;case 22:if(ft.memoizedState!==null){NI(gt);continue}}Rt!==null?(Rt.return=ft,Dt=Rt):NI(gt)}ht=ht.sibling}e:for(ht=null,gt=a;;){if(gt.tag===5){if(ht===null){ht=gt;try{k=gt.stateNode,He?(j=k.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(ge=gt.stateNode,Se=gt.memoizedProps.style,Z=Se!=null&&Se.hasOwnProperty("display")?Se.display:null,ge.style.display=br("display",Z))}catch(zt){Pr(a,a.return,zt)}}}else if(gt.tag===6){if(ht===null)try{gt.stateNode.nodeValue=He?"":gt.memoizedProps}catch(zt){Pr(a,a.return,zt)}}else if((gt.tag!==22&&gt.tag!==23||gt.memoizedState===null||gt===a)&&gt.child!==null){gt.child.return=gt,gt=gt.child;continue}if(gt===a)break e;for(;gt.sibling===null;){if(gt.return===null||gt.return===a)break e;ht===gt&&(ht=null),gt=gt.return}ht===gt&&(ht=null),gt.sibling.return=gt.return,gt=gt.sibling}}break;case 19:co(u,a),Lo(a),w&4&&wI(a);break;case 21:break;default:co(u,a),Lo(a)}}function Lo(a){var u=a.flags;if(u&2){try{e:{for(var m=a.return;m!==null;){if(vI(m)){var w=m;break e}m=m.return}throw Error(n(160))}switch(w.tag){case 5:var k=w.stateNode;w.flags&32&&(Pn(k,""),w.flags&=-33);var j=bI(a);uw(a,j,k);break;case 3:case 4:var Z=w.stateNode.containerInfo,ge=bI(a);lw(a,ge,Z);break;default:throw Error(n(161))}}catch(Se){Pr(a,a.return,Se)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function ZM(a,u,m){Dt=a,SI(a)}function SI(a,u,m){for(var w=(a.mode&1)!==0;Dt!==null;){var k=Dt,j=k.child;if(k.tag===22&&w){var Z=k.memoizedState!==null||eg;if(!Z){var ge=k.alternate,Se=ge!==null&&ge.memoizedState!==null||xi;ge=eg;var He=xi;if(eg=Z,(xi=Se)&&!He)for(Dt=k;Dt!==null;)Z=Dt,Se=Z.child,Z.tag===22&&Z.memoizedState!==null?kI(k):Se!==null?(Se.return=Z,Dt=Se):kI(k);for(;j!==null;)Dt=j,SI(j),j=j.sibling;Dt=k,eg=ge,xi=He}EI(a)}else k.subtreeFlags&8772&&j!==null?(j.return=k,Dt=j):EI(a)}}function EI(a){for(;Dt!==null;){var u=Dt;if(u.flags&8772){var m=u.alternate;try{if(u.flags&8772)switch(u.tag){case 0:case 11:case 15:xi||tg(5,u);break;case 1:var w=u.stateNode;if(u.flags&4&&!xi)if(m===null)w.componentDidMount();else{var k=u.elementType===u.type?m.memoizedProps:lo(u.type,m.memoizedProps);w.componentDidUpdate(k,m.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var j=u.updateQueue;j!==null&&Nk(u,j,w);break;case 3:var Z=u.updateQueue;if(Z!==null){if(m=null,u.child!==null)switch(u.child.tag){case 5:m=u.child.stateNode;break;case 1:m=u.child.stateNode}Nk(u,Z,m)}break;case 5:var ge=u.stateNode;if(m===null&&u.flags&4){m=ge;var Se=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":Se.autoFocus&&m.focus();break;case"img":Se.src&&(m.src=Se.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var He=u.alternate;if(He!==null){var ht=He.memoizedState;if(ht!==null){var gt=ht.dehydrated;gt!==null&&Te(gt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}xi||u.flags&512&&aw(u)}catch(ft){Pr(u,u.return,ft)}}if(u===a){Dt=null;break}if(m=u.sibling,m!==null){m.return=u.return,Dt=m;break}Dt=u.return}}function NI(a){for(;Dt!==null;){var u=Dt;if(u===a){Dt=null;break}var m=u.sibling;if(m!==null){m.return=u.return,Dt=m;break}Dt=u.return}}function kI(a){for(;Dt!==null;){var u=Dt;try{switch(u.tag){case 0:case 11:case 15:var m=u.return;try{tg(4,u)}catch(Se){Pr(u,m,Se)}break;case 1:var w=u.stateNode;if(typeof w.componentDidMount=="function"){var k=u.return;try{w.componentDidMount()}catch(Se){Pr(u,k,Se)}}var j=u.return;try{aw(u)}catch(Se){Pr(u,j,Se)}break;case 5:var Z=u.return;try{aw(u)}catch(Se){Pr(u,Z,Se)}}}catch(Se){Pr(u,u.return,Se)}if(u===a){Dt=null;break}var ge=u.sibling;if(ge!==null){ge.return=u.return,Dt=ge;break}Dt=u.return}}var JM=Math.ceil,ng=A.ReactCurrentDispatcher,cw=A.ReactCurrentOwner,Vs=A.ReactCurrentBatchConfig,Rn=0,ii=null,Hr=null,li=0,xs=0,$c=Ya(0),ti=0,ep=null,gu=0,rg=0,dw=0,tp=null,es=null,fw=0,Bc=1/0,ya=null,ig=!1,pw=null,il=null,sg=!1,sl=null,og=0,np=0,hw=null,ag=-1,lg=0;function Ai(){return Rn&6?ar():ag!==-1?ag:ag=ar()}function ol(a){return a.mode&1?Rn&2&&li!==0?li&-li:AM.transition!==null?(lg===0&&(lg=Sm()),lg):(a=Fn,a!==0||(a=window.event,a=a===void 0?16:Ee(a.type)),a):1}function fo(a,u,m,w){if(50<np)throw np=0,hw=null,Error(n(185));au(a,m,w),(!(Rn&2)||a!==ii)&&(a===ii&&(!(Rn&2)&&(rg|=m),ti===4&&al(a,li)),ts(a,w),m===1&&Rn===0&&!(u.mode&1)&&(Bc=ar()+500,Fm&&el()))}function ts(a,u){var m=a.callbackNode;nx(a,u);var w=Ga(a,a===ii?li:0);if(w===0)m!==null&&iu(m),a.callbackNode=null,a.callbackPriority=0;else if(u=w&-w,a.callbackPriority!==u){if(m!=null&&iu(m),u===1)a.tag===0?jM(CI.bind(null,a)):pk(CI.bind(null,a)),TM(function(){!(Rn&6)&&el()}),m=null;else{switch(Em(w)){case 1:m=su;break;case 4:m=_c;break;case 16:m=Ha;break;case 0x20000000:m=ou;break;default:m=Ha}m=FI(m,II.bind(null,a))}a.callbackPriority=u,a.callbackNode=m}}function II(a,u){if(ag=-1,lg=0,Rn&6)throw Error(n(327));var m=a.callbackNode;if(zc()&&a.callbackNode!==m)return null;var w=Ga(a,a===ii?li:0);if(w===0)return null;if(w&30||w&a.expiredLanes||u)u=ug(a,w);else{u=w;var k=Rn;Rn|=2;var j=OI();(ii!==a||li!==u)&&(ya=null,Bc=ar()+500,vu(a,u));do try{e$();break}catch(ge){TI(a,ge)}while(!0);Rx(),ng.current=j,Rn=k,Hr!==null?u=0:(ii=null,li=0,u=ti)}if(u!==0){if(u===2&&(k=If(a),k!==0&&(w=k,u=mw(a,k))),u===1)throw m=ep,vu(a,0),al(a,w),ts(a,ar()),m;if(u===6)al(a,w);else{if(k=a.current.alternate,!(w&30)&&!YM(k)&&(u=ug(a,w),u===2&&(j=If(a),j!==0&&(w=j,u=mw(a,j))),u===1))throw m=ep,vu(a,0),al(a,w),ts(a,ar()),m;switch(a.finishedWork=k,a.finishedLanes=w,u){case 0:case 1:throw Error(n(345));case 2:bu(a,es,ya);break;case 3:if(al(a,w),(w&0x7c00000)===w&&(u=fw+500-ar(),10<u)){if(Ga(a,0)!==0)break;if(k=a.suspendedLanes,(k&w)!==w){Ai(),a.pingedLanes|=a.suspendedLanes&k;break}a.timeoutHandle=wx(bu.bind(null,a,es,ya),u);break}bu(a,es,ya);break;case 4:if(al(a,w),(w&4194240)===w)break;for(u=a.eventTimes,k=-1;0<w;){var Z=31-gi(w);j=1<<Z,Z=u[Z],Z>k&&(k=Z),w&=~j}if(w=k,w=ar()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*JM(w/1960))-w,10<w){a.timeoutHandle=wx(bu.bind(null,a,es,ya),w);break}bu(a,es,ya);break;case 5:bu(a,es,ya);break;default:throw Error(n(329))}}}return ts(a,ar()),a.callbackNode===m?II.bind(null,a):null}function mw(a,u){var m=tp;return a.current.memoizedState.isDehydrated&&(vu(a,u).flags|=256),a=ug(a,u),a!==2&&(u=es,es=m,u!==null&&gw(u)),a}function gw(a){es===null?es=a:es.push.apply(es,a)}function YM(a){for(var u=a;;){if(u.flags&16384){var m=u.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var w=0;w<m.length;w++){var k=m[w],j=k.getSnapshot;k=k.value;try{if(!oo(j(),k))return!1}catch{return!1}}}if(m=u.child,u.subtreeFlags&16384&&m!==null)m.return=u,u=m;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function al(a,u){for(u&=~dw,u&=~rg,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var m=31-gi(u),w=1<<m;a[m]=-1,u&=~w}}function CI(a){if(Rn&6)throw Error(n(327));zc();var u=Ga(a,0);if(!(u&1))return ts(a,ar()),null;var m=ug(a,u);if(a.tag!==0&&m===2){var w=If(a);w!==0&&(u=w,m=mw(a,w))}if(m===1)throw m=ep,vu(a,0),al(a,u),ts(a,ar()),m;if(m===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=u,bu(a,es,ya),ts(a,ar()),null}function yw(a,u){var m=Rn;Rn|=1;try{return a(u)}finally{Rn=m,Rn===0&&(Bc=ar()+500,Fm&&el())}}function yu(a){sl!==null&&sl.tag===0&&!(Rn&6)&&zc();var u=Rn;Rn|=1;var m=Vs.transition,w=Fn;try{if(Vs.transition=null,Fn=1,a)return a()}finally{Fn=w,Vs.transition=m,Rn=u,!(Rn&6)&&el()}}function vw(){xs=$c.current,ur($c)}function vu(a,u){a.finishedWork=null,a.finishedLanes=0;var m=a.timeoutHandle;if(m!==-1&&(a.timeoutHandle=-1,CM(m)),Hr!==null)for(m=Hr.return;m!==null;){var w=m;switch(Ix(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&Am();break;case 3:Dc(),ur(Ji),ur(yi),$x();break;case 5:Lx(w);break;case 4:Dc();break;case 13:ur(wr);break;case 19:ur(wr);break;case 10:jx(w.type._context);break;case 22:case 23:vw()}m=m.return}if(ii=a,Hr=a=ll(a.current,null),li=xs=u,ti=0,ep=null,dw=rg=gu=0,es=tp=null,pu!==null){for(u=0;u<pu.length;u++)if(m=pu[u],w=m.interleaved,w!==null){m.interleaved=null;var k=w.next,j=m.pending;if(j!==null){var Z=j.next;j.next=k,w.next=Z}m.pending=w}pu=null}return a}function TI(a,u){do{var m=Hr;try{if(Rx(),Hm.current=Zm,Qm){for(var w=_r.memoizedState;w!==null;){var k=w.queue;k!==null&&(k.pending=null),w=w.next}Qm=!1}if(mu=0,ri=ei=_r=null,Kf=!1,Gf=0,cw.current=null,m===null||m.return===null){ti=1,ep=u,Hr=null;break}e:{var j=a,Z=m.return,ge=m,Se=u;if(u=li,ge.flags|=32768,Se!==null&&typeof Se=="object"&&typeof Se.then=="function"){var He=Se,ht=ge,gt=ht.tag;if(!(ht.mode&1)&&(gt===0||gt===11||gt===15)){var ft=ht.alternate;ft?(ht.updateQueue=ft.updateQueue,ht.memoizedState=ft.memoizedState,ht.lanes=ft.lanes):(ht.updateQueue=null,ht.memoizedState=null)}var Rt=eI(Z);if(Rt!==null){Rt.flags&=-257,tI(Rt,Z,ge,j,u),Rt.mode&1&&Xk(j,He,u),u=Rt,Se=He;var Mt=u.updateQueue;if(Mt===null){var zt=new Set;zt.add(Se),u.updateQueue=zt}else Mt.add(Se);break e}else{if(!(u&1)){Xk(j,He,u),bw();break e}Se=Error(n(426))}}else if(pr&&ge.mode&1){var Mr=eI(Z);if(Mr!==null){!(Mr.flags&65536)&&(Mr.flags|=256),tI(Mr,Z,ge,j,u),Ox(Lc(Se,ge));break e}}j=Se=Lc(Se,ge),ti!==4&&(ti=2),tp===null?tp=[j]:tp.push(j),j=Z;do{switch(j.tag){case 3:j.flags|=65536,u&=-u,j.lanes|=u;var Fe=Jk(j,Se,u);Ek(j,Fe);break e;case 1:ge=Se;var Ce=j.type,$e=j.stateNode;if(!(j.flags&128)&&(typeof Ce.getDerivedStateFromError=="function"||$e!==null&&typeof $e.componentDidCatch=="function"&&(il===null||!il.has($e)))){j.flags|=65536,u&=-u,j.lanes|=u;var bt=Yk(j,ge,u);Ek(j,bt);break e}}j=j.return}while(j!==null)}RI(m)}catch(Ut){u=Ut,Hr===m&&m!==null&&(Hr=m=m.return);continue}break}while(!0)}function OI(){var a=ng.current;return ng.current=Zm,a===null?Zm:a}function bw(){(ti===0||ti===3||ti===2)&&(ti=4),ii===null||!(gu&0xfffffff)&&!(rg&0xfffffff)||al(ii,li)}function ug(a,u){var m=Rn;Rn|=2;var w=OI();(ii!==a||li!==u)&&(ya=null,vu(a,u));do try{XM();break}catch(k){TI(a,k)}while(!0);if(Rx(),Rn=m,ng.current=w,Hr!==null)throw Error(n(261));return ii=null,li=0,ti}function XM(){for(;Hr!==null;)qI(Hr)}function e$(){for(;Hr!==null&&!wc();)qI(Hr)}function qI(a){var u=PI(a.alternate,a,xs);a.memoizedProps=a.pendingProps,u===null?RI(a):Hr=u,cw.current=null}function RI(a){var u=a;do{var m=u.alternate;if(a=u.return,u.flags&32768){if(m=QM(m,u),m!==null){m.flags&=32767,Hr=m;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{ti=6,Hr=null;return}}else if(m=HM(m,u,xs),m!==null){Hr=m;return}if(u=u.sibling,u!==null){Hr=u;return}Hr=u=a}while(u!==null);ti===0&&(ti=5)}function bu(a,u,m){var w=Fn,k=Vs.transition;try{Vs.transition=null,Fn=1,t$(a,u,m,w)}finally{Vs.transition=k,Fn=w}return null}function t$(a,u,m,w){do zc();while(sl!==null);if(Rn&6)throw Error(n(327));m=a.finishedWork;var k=a.finishedLanes;if(m===null)return null;if(a.finishedWork=null,a.finishedLanes=0,m===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var j=m.lanes|m.childLanes;if(rx(a,j),a===ii&&(Hr=ii=null,li=0),!(m.subtreeFlags&2064)&&!(m.flags&2064)||sg||(sg=!0,FI(Ha,function(){return zc(),null})),j=(m.flags&15990)!==0,m.subtreeFlags&15990||j){j=Vs.transition,Vs.transition=null;var Z=Fn;Fn=1;var ge=Rn;Rn|=4,cw.current=null,GM(a,m),_I(m,a),wM(bx),Ge=!!vx,bx=vx=null,a.current=m,ZM(m),xf(),Rn=ge,Fn=Z,Vs.transition=j}else a.current=m;if(sg&&(sg=!1,sl=a,og=k),j=a.pendingLanes,j===0&&(il=null),Sf(m.stateNode),ts(a,ar()),u!==null)for(w=a.onRecoverableError,m=0;m<u.length;m++)k=u[m],w(k.value,{componentStack:k.stack,digest:k.digest});if(ig)throw ig=!1,a=pw,pw=null,a;return og&1&&a.tag!==0&&zc(),j=a.pendingLanes,j&1?a===hw?np++:(np=0,hw=a):np=0,el(),null}function zc(){if(sl!==null){var a=Em(og),u=Vs.transition,m=Fn;try{if(Vs.transition=null,Fn=16>a?16:a,sl===null)var w=!1;else{if(a=sl,sl=null,og=0,Rn&6)throw Error(n(331));var k=Rn;for(Rn|=4,Dt=a.current;Dt!==null;){var j=Dt,Z=j.child;if(Dt.flags&16){var ge=j.deletions;if(ge!==null){for(var Se=0;Se<ge.length;Se++){var He=ge[Se];for(Dt=He;Dt!==null;){var ht=Dt;switch(ht.tag){case 0:case 11:case 15:Xf(8,ht,j)}var gt=ht.child;if(gt!==null)gt.return=ht,Dt=gt;else for(;Dt!==null;){ht=Dt;var ft=ht.sibling,Rt=ht.return;if(yI(ht),ht===He){Dt=null;break}if(ft!==null){ft.return=Rt,Dt=ft;break}Dt=Rt}}}var Mt=j.alternate;if(Mt!==null){var zt=Mt.child;if(zt!==null){Mt.child=null;do{var Mr=zt.sibling;zt.sibling=null,zt=Mr}while(zt!==null)}}Dt=j}}if(j.subtreeFlags&2064&&Z!==null)Z.return=j,Dt=Z;else e:for(;Dt!==null;){if(j=Dt,j.flags&2048)switch(j.tag){case 0:case 11:case 15:Xf(9,j,j.return)}var Fe=j.sibling;if(Fe!==null){Fe.return=j.return,Dt=Fe;break e}Dt=j.return}}var Ce=a.current;for(Dt=Ce;Dt!==null;){Z=Dt;var $e=Z.child;if(Z.subtreeFlags&2064&&$e!==null)$e.return=Z,Dt=$e;else e:for(Z=Ce;Dt!==null;){if(ge=Dt,ge.flags&2048)try{switch(ge.tag){case 0:case 11:case 15:tg(9,ge)}}catch(Ut){Pr(ge,ge.return,Ut)}if(ge===Z){Dt=null;break e}var bt=ge.sibling;if(bt!==null){bt.return=ge.return,Dt=bt;break e}Dt=ge.return}}if(Rn=k,el(),Zi&&typeof Zi.onPostCommitFiberRoot=="function")try{Zi.onPostCommitFiberRoot(Qa,a)}catch{}w=!0}return w}finally{Fn=m,Vs.transition=u}}return!1}function jI(a,u,m){u=Lc(m,u),u=Jk(a,u,1),a=nl(a,u,1),u=Ai(),a!==null&&(au(a,1,u),ts(a,u))}function Pr(a,u,m){if(a.tag===3)jI(a,a,m);else for(;u!==null;){if(u.tag===3){jI(u,a,m);break}else if(u.tag===1){var w=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(il===null||!il.has(w))){a=Lc(m,a),a=Yk(u,a,1),u=nl(u,a,1),a=Ai(),u!==null&&(au(u,1,a),ts(u,a));break}}u=u.return}}function n$(a,u,m){var w=a.pingCache;w!==null&&w.delete(u),u=Ai(),a.pingedLanes|=a.suspendedLanes&m,ii===a&&(li&m)===m&&(ti===4||ti===3&&(li&0x7c00000)===li&&500>ar()-fw?vu(a,0):dw|=m),ts(a,u)}function AI(a,u){u===0&&(a.mode&1?(u=Ka,Ka<<=1,!(Ka&0x7c00000)&&(Ka=4194304)):u=1);var m=Ai();a=ha(a,u),a!==null&&(au(a,u,m),ts(a,m))}function r$(a){var u=a.memoizedState,m=0;u!==null&&(m=u.retryLane),AI(a,m)}function i$(a,u){var m=0;switch(a.tag){case 13:var w=a.stateNode,k=a.memoizedState;k!==null&&(m=k.retryLane);break;case 19:w=a.stateNode;break;default:throw Error(n(314))}w!==null&&w.delete(u),AI(a,m)}var PI;PI=function(a,u,m){if(a!==null)if(a.memoizedProps!==u.pendingProps||Ji.current)Xi=!0;else{if(!(a.lanes&m)&&!(u.flags&128))return Xi=!1,VM(a,u,m);Xi=!!(a.flags&131072)}else Xi=!1,pr&&u.flags&1048576&&hk(u,Lm,u.index);switch(u.lanes=0,u.tag){case 2:var w=u.type;Xm(a,u),a=u.pendingProps;var k=Oc(u,yi.current);Fc(u,m),k=Wx(null,u,w,a,k,m);var j=Ux();return u.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Yi(w)?(j=!0,Pm(u)):j=!1,u.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,Fx(u),k.updater=Jm,u.stateNode=k,k._reactInternals=u,Zx(u,w,a,m),u=ew(null,u,w,!0,j,m)):(u.tag=0,pr&&j&&kx(u),ji(null,u,k,m),u=u.child),u;case 16:w=u.elementType;e:{switch(Xm(a,u),a=u.pendingProps,k=w._init,w=k(w._payload),u.type=w,k=u.tag=o$(w),a=lo(w,a),k){case 0:u=Xx(null,u,w,a,m);break e;case 1:u=aI(null,u,w,a,m);break e;case 11:u=nI(null,u,w,a,m);break e;case 14:u=rI(null,u,w,lo(w.type,a),m);break e}throw Error(n(306,w,""))}return u;case 0:return w=u.type,k=u.pendingProps,k=u.elementType===w?k:lo(w,k),Xx(a,u,w,k,m);case 1:return w=u.type,k=u.pendingProps,k=u.elementType===w?k:lo(w,k),aI(a,u,w,k,m);case 3:e:{if(lI(u),a===null)throw Error(n(387));w=u.pendingProps,j=u.memoizedState,k=j.element,Sk(a,u),Um(u,w,null,m);var Z=u.memoizedState;if(w=Z.element,j.isDehydrated)if(j={element:w,isDehydrated:!1,cache:Z.cache,pendingSuspenseBoundaries:Z.pendingSuspenseBoundaries,transitions:Z.transitions},u.updateQueue.baseState=j,u.memoizedState=j,u.flags&256){k=Lc(Error(n(423)),u),u=uI(a,u,w,m,k);break e}else if(w!==k){k=Lc(Error(n(424)),u),u=uI(a,u,w,m,k);break e}else for(bs=Ja(u.stateNode.containerInfo.firstChild),vs=u,pr=!0,ao=null,m=wk(u,null,w,m),u.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(jc(),w===k){u=ga(a,u,m);break e}ji(a,u,w,m)}u=u.child}return u;case 5:return kk(u),a===null&&Tx(u),w=u.type,k=u.pendingProps,j=a!==null?a.memoizedProps:null,Z=k.children,xx(w,k)?Z=null:j!==null&&xx(w,j)&&(u.flags|=32),oI(a,u),ji(a,u,Z,m),u.child;case 6:return a===null&&Tx(u),null;case 13:return cI(a,u,m);case 4:return Dx(u,u.stateNode.containerInfo),w=u.pendingProps,a===null?u.child=Ac(u,null,w,m):ji(a,u,w,m),u.child;case 11:return w=u.type,k=u.pendingProps,k=u.elementType===w?k:lo(w,k),nI(a,u,w,k,m);case 7:return ji(a,u,u.pendingProps,m),u.child;case 8:return ji(a,u,u.pendingProps.children,m),u.child;case 12:return ji(a,u,u.pendingProps.children,m),u.child;case 10:e:{if(w=u.type._context,k=u.pendingProps,j=u.memoizedProps,Z=k.value,er(Bm,w._currentValue),w._currentValue=Z,j!==null)if(oo(j.value,Z)){if(j.children===k.children&&!Ji.current){u=ga(a,u,m);break e}}else for(j=u.child,j!==null&&(j.return=u);j!==null;){var ge=j.dependencies;if(ge!==null){Z=j.child;for(var Se=ge.firstContext;Se!==null;){if(Se.context===w){if(j.tag===1){Se=ma(-1,m&-m),Se.tag=2;var He=j.updateQueue;if(He!==null){He=He.shared;var ht=He.pending;ht===null?Se.next=Se:(Se.next=ht.next,ht.next=Se),He.pending=Se}}j.lanes|=m,Se=j.alternate,Se!==null&&(Se.lanes|=m),Ax(j.return,m,u),ge.lanes|=m;break}Se=Se.next}}else if(j.tag===10)Z=j.type===u.type?null:j.child;else if(j.tag===18){if(Z=j.return,Z===null)throw Error(n(341));Z.lanes|=m,ge=Z.alternate,ge!==null&&(ge.lanes|=m),Ax(Z,m,u),Z=j.sibling}else Z=j.child;if(Z!==null)Z.return=j;else for(Z=j;Z!==null;){if(Z===u){Z=null;break}if(j=Z.sibling,j!==null){j.return=Z.return,Z=j;break}Z=Z.return}j=Z}ji(a,u,k.children,m),u=u.child}return u;case 9:return k=u.type,w=u.pendingProps.children,Fc(u,m),k=Ws(k),w=w(k),u.flags|=1,ji(a,u,w,m),u.child;case 14:return w=u.type,k=lo(w,u.pendingProps),k=lo(w.type,k),rI(a,u,w,k,m);case 15:return iI(a,u,u.type,u.pendingProps,m);case 17:return w=u.type,k=u.pendingProps,k=u.elementType===w?k:lo(w,k),Xm(a,u),u.tag=1,Yi(w)?(a=!0,Pm(u)):a=!1,Fc(u,m),Gk(u,w,k),Zx(u,w,k,m),ew(null,u,w,!0,a,m);case 19:return fI(a,u,m);case 22:return sI(a,u,m)}throw Error(n(156,u.tag))};function FI(a,u){return xc(a,u)}function s$(a,u,m,w){this.tag=a,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hs(a,u,m,w){return new s$(a,u,m,w)}function xw(a){return a=a.prototype,!(!a||!a.isReactComponent)}function o$(a){if(typeof a=="function")return xw(a)?1:0;if(a!=null){if(a=a.$$typeof,a===W)return 11;if(a===ee)return 14}return 2}function ll(a,u){var m=a.alternate;return m===null?(m=Hs(a.tag,u,a.key,a.mode),m.elementType=a.elementType,m.type=a.type,m.stateNode=a.stateNode,m.alternate=a,a.alternate=m):(m.pendingProps=u,m.type=a.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=a.flags&0xe00000,m.childLanes=a.childLanes,m.lanes=a.lanes,m.child=a.child,m.memoizedProps=a.memoizedProps,m.memoizedState=a.memoizedState,m.updateQueue=a.updateQueue,u=a.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=a.sibling,m.index=a.index,m.ref=a.ref,m}function cg(a,u,m,w,k,j){var Z=2;if(w=a,typeof a=="function")xw(a)&&(Z=1);else if(typeof a=="string")Z=5;else e:switch(a){case z:return xu(m.children,k,j,u);case P:Z=8,k|=8;break;case R:return a=Hs(12,m,u,k|2),a.elementType=R,a.lanes=j,a;case U:return a=Hs(13,m,u,k),a.elementType=U,a.lanes=j,a;case $:return a=Hs(19,m,u,k),a.elementType=$,a.lanes=j,a;case le:return dg(m,k,j,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case B:Z=10;break e;case F:Z=9;break e;case W:Z=11;break e;case ee:Z=14;break e;case J:Z=16,w=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return u=Hs(Z,m,u,k),u.elementType=a,u.type=w,u.lanes=j,u}function xu(a,u,m,w){return a=Hs(7,a,w,u),a.lanes=m,a}function dg(a,u,m,w){return a=Hs(22,a,w,u),a.elementType=le,a.lanes=m,a.stateNode={isHidden:!1},a}function ww(a,u,m){return a=Hs(6,a,null,u),a.lanes=m,a}function _w(a,u,m){return u=Hs(4,a.children!==null?a.children:[],a.key,u),u.lanes=m,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function a$(a,u,m,w,k){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cf(0),this.expirationTimes=Cf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cf(0),this.identifierPrefix=w,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function Sw(a,u,m,w,k,j,Z,ge,Se){return a=new a$(a,u,m,ge,Se),u===1?(u=1,j===!0&&(u|=8)):u=0,j=Hs(3,null,null,u),a.current=j,j.stateNode=a,j.memoizedState={element:w,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fx(j),a}function l$(a,u,m){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:w==null?null:""+w,children:a,containerInfo:u,implementation:m}}function DI(a){if(!a)return Xa;a=a._reactInternals;e:{if(Ms(a)!==a||a.tag!==1)throw Error(n(170));var u=a;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Yi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(n(171))}if(a.tag===1){var m=a.type;if(Yi(m))return dk(a,m,u)}return u}function LI(a,u,m,w,k,j,Z,ge,Se){return a=Sw(m,w,!0,a,k,j,Z,ge,Se),a.context=DI(null),m=a.current,w=Ai(),k=ol(m),j=ma(w,k),j.callback=u??null,nl(m,j,k),a.current.lanes=k,au(a,k,w),ts(a,w),a}function fg(a,u,m,w){var k=u.current,j=Ai(),Z=ol(k);return m=DI(m),u.context===null?u.context=m:u.pendingContext=m,u=ma(j,Z),u.payload={element:a},w=w===void 0?null:w,w!==null&&(u.callback=w),a=nl(k,u,Z),a!==null&&(fo(a,k,Z,j),Wm(a,k,Z)),Z}function pg(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function MI(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var m=a.retryLane;a.retryLane=m!==0&&m<u?m:u}}function Ew(a,u){MI(a,u),(a=a.alternate)&&MI(a,u)}var $I=typeof reportError=="function"?reportError:function(a){console.error(a)};function Nw(a){this._internalRoot=a}hg.prototype.render=Nw.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(n(409));fg(a,u,null,null)},hg.prototype.unmount=Nw.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;yu(function(){fg(null,a,null,null)}),u[ca]=null}};function hg(a){this._internalRoot=a}hg.prototype.unstable_scheduleHydration=function(a){if(a){var u=lu();a={blockedOn:null,target:a,priority:u};for(var m=0;m<me.length&&u!==0&&u<me[m].priority;m++);me.splice(m,0,a),m===0&&Be(a)}};function kw(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function mg(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function BI(){}function u$(a,u,m,w,k){if(k){if(typeof w=="function"){var j=w;w=function(){var He=pg(Z);j.call(He)}}var Z=LI(u,w,a,0,null,!1,!1,"",BI);return a._reactRootContainer=Z,a[ca]=Z.current,$f(a.nodeType===8?a.parentNode:a),yu(),Z}for(;k=a.lastChild;)a.removeChild(k);if(typeof w=="function"){var ge=w;w=function(){var He=pg(Se);ge.call(He)}}var Se=Sw(a,0,!1,null,null,!1,!1,"",BI);return a._reactRootContainer=Se,a[ca]=Se.current,$f(a.nodeType===8?a.parentNode:a),yu(function(){fg(u,Se,m,w)}),Se}function gg(a,u,m,w,k){var j=m._reactRootContainer;if(j){var Z=j;if(typeof k=="function"){var ge=k;k=function(){var Se=pg(Z);ge.call(Se)}}fg(u,Z,a,k)}else Z=u$(m,u,a,k,w);return pg(Z)}Of=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.current.memoizedState.isDehydrated){var m=Ri(u.pendingLanes);m!==0&&(Tf(u,m|1),ts(u,ar()),!(Rn&6)&&(Bc=ar()+500,el()))}break;case 13:yu(function(){var w=ha(a,1);if(w!==null){var k=Ai();fo(w,a,1,k)}}),Ew(a,1)}},he=function(a){if(a.tag===13){var u=ha(a,0x8000000);if(u!==null){var m=Ai();fo(u,a,0x8000000,m)}Ew(a,0x8000000)}},qf=function(a){if(a.tag===13){var u=ol(a),m=ha(a,u);if(m!==null){var w=Ai();fo(m,a,u,w)}Ew(a,u)}},lu=function(){return Fn},Rf=function(a,u){var m=Fn;try{return Fn=a,u()}finally{Fn=m}},tu=function(a,u,m){switch(u){case"input":if(Xt(a,m),u=m.name,m.type==="radio"&&u!=null){for(m=a;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<m.length;u++){var w=m[u];if(w!==a&&w.form===a.form){var k=jm(w);if(!k)throw Error(n(90));Ue(w),Xt(w,k)}}}break;case"textarea":Me(a,m);break;case"select":u=m.value,u!=null&&Ae(a,!!m.multiple,u,!1)}},pc=yw,hc=yu;var c$={usingClientEntryPoint:!1,Events:[Wf,Cc,jm,an,fc,yw]},rp={findFiberByHostInstance:uu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},d$={bundleType:rp.bundleType,version:rp.version,rendererPackageName:rp.rendererPackageName,rendererConfig:rp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=vc(a),a===null?null:a.stateNode},findFiberByHostInstance:rp.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yg.isDisabled&&yg.supportsFiber)try{Qa=yg.inject(d$),Zi=yg}catch{}}return ns.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c$,ns.createPortal=function(a,u){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kw(u))throw Error(n(200));return l$(a,u,null,m)},ns.createRoot=function(a,u){if(!kw(a))throw Error(n(299));var m=!1,w="",k=$I;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(k=u.onRecoverableError)),u=Sw(a,1,!1,null,null,m,!1,w,k),a[ca]=u.current,$f(a.nodeType===8?a.parentNode:a),new Nw(u)},ns.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=vc(u),a=a===null?null:a.stateNode,a},ns.flushSync=function(a){return yu(a)},ns.hydrate=function(a,u,m){if(!mg(u))throw Error(n(200));return gg(null,a,u,!0,m)},ns.hydrateRoot=function(a,u,m){if(!kw(a))throw Error(n(405));var w=m!=null&&m.hydratedSources||null,k=!1,j="",Z=$I;if(m!=null&&(m.unstable_strictMode===!0&&(k=!0),m.identifierPrefix!==void 0&&(j=m.identifierPrefix),m.onRecoverableError!==void 0&&(Z=m.onRecoverableError)),u=LI(u,null,a,1,m??null,k,!1,j,Z),a[ca]=u.current,$f(a),w)for(a=0;a<w.length;a++)m=w[a],k=m._getVersion,k=k(m._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[m,k]:u.mutableSourceEagerHydrationData.push(m,k);return new hg(u)},ns.render=function(a,u,m){if(!mg(u))throw Error(n(200));return gg(null,a,u,!1,m)},ns.unmountComponentAtNode=function(a){if(!mg(a))throw Error(n(40));return a._reactRootContainer?(yu(function(){gg(null,null,a,!1,function(){a._reactRootContainer=null,a[ca]=null})}),!0):!1},ns.unstable_batchedUpdates=yw,ns.unstable_renderSubtreeIntoContainer=function(a,u,m,w){if(!mg(m))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return gg(a,u,m,!1,w)},ns.version="18.3.1-next-f1338f8080-20240426",ns}var vC;function I3(){if(vC)return Bw.exports;vC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Bw.exports=HB(),Bw.exports}var tb=I3();const QB="Error preloading route! ";function KB(t,e){const n=Oo(),[r,i]=K.useState(!1),s=K.useRef(!1),o=xB(e),{activeProps:l=()=>({className:"active"}),inactiveProps:c=()=>({}),activeOptions:d,to:f,preload:h,preloadDelay:b,hashScrollIntoView:x,replace:_,startTransition:N,resetScroll:I,viewTransition:O,children:T,target:q,disabled:A,style:D,className:L,onClick:z,onFocus:P,onMouseEnter:R,onMouseLeave:B,onTouchStart:F,ignoreBlocker:W,...U}=t,{params:$,search:ee,hash:J,state:le,mask:se,reloadDocument:te,...oe}=U,X=K.useMemo(()=>{try{return new URL(`${f}`),"external"}catch{}return"internal"},[f]),ce=zi({select:ke=>ke.location.search,structuralSharing:!0});t={from:Ll({strict:!1,select:ke=>ke.pathname}),...t};const ye=K.useMemo(()=>n.buildLocation(t),[n,t,ce]),we=K.useMemo(()=>t.reloadDocument?!1:h??n.options.defaultPreload,[n.options.defaultPreload,h,t.reloadDocument]),Ne=b??n.options.defaultPreloadDelay??0,ze=zi({select:ke=>{if(d?.exact){if(!_B(ke.location.pathname,ye.pathname,n.basepath))return!1}else{const Ae=Hy(ke.location.pathname,n.basepath).split("/");if(!Hy(ye.pathname,n.basepath).split("/").every((Me,ct)=>Me===Ae[ct]))return!1}return(d?.includeSearch??!0)&&!md(ke.location.search,ye.search,{partial:!d?.exact,ignoreUndefined:!d?.explicitUndefined})?!1:d?.includeHash?ke.location.hash===ye.hash:!0}}),qe=K.useCallback(()=>{n.preloadRoute(t).catch(ke=>{console.warn(ke),console.warn(QB)})},[t,n]),De=K.useCallback(ke=>{ke?.isIntersecting&&qe()},[qe]);if(bB(o,De,{rootMargin:"100px"},{disabled:!!A||we!=="viewport"}),yp(()=>{s.current||!A&&we==="render"&&(qe(),s.current=!0)},[A,qe,we]),X==="external")return{...oe,ref:o,type:X,href:f,...T&&{children:T},...q&&{target:q},...A&&{disabled:A},...D&&{style:D},...L&&{className:L},...z&&{onClick:z},...P&&{onFocus:P},...R&&{onMouseEnter:R},...B&&{onMouseLeave:B},...F&&{onTouchStart:F}};const Ze=ke=>{if(!A&&!ZB(ke)&&!ke.defaultPrevented&&(!q||q==="_self")&&ke.button===0){ke.preventDefault(),tb.flushSync(()=>{i(!0)});const Ae=n.subscribe("onResolved",()=>{Ae(),i(!1)});return n.navigate({...t,replace:_,resetScroll:I,hashScrollIntoView:x,startTransition:N,viewTransition:O,ignoreBlocker:W})}},Xe=ke=>{A||we&&qe()},Ue=Xe,ut=ke=>{if(A)return;const Ae=ke.target||{};if(we){if(Ae.preloadTimeout)return;Ae.preloadTimeout=setTimeout(()=>{Ae.preloadTimeout=null,qe()},Ne)}},_t=ke=>{if(A)return;const Ae=ke.target||{};Ae.preloadTimeout&&(clearTimeout(Ae.preloadTimeout),Ae.preloadTimeout=null)},Tt=ke=>Ae=>{var Ve;(Ve=Ae.persist)==null||Ve.call(Ae),ke.filter(Boolean).forEach(rt=>{Ae.defaultPrevented||rt(Ae)})},Wt=ze?Ru(l,{})??{}:{},Xt=ze?{}:Ru(c,{}),xe=[L,Wt.className,Xt.className].filter(Boolean).join(" "),ve={...D,...Wt.style,...Xt.style};return{...oe,...Wt,...Xt,href:A?void 0:ye.maskedLocation?n.history.createHref(ye.maskedLocation.href):n.history.createHref(ye.href),ref:o,onClick:Tt([z,Ze]),onFocus:Tt([P,Xe]),onMouseEnter:Tt([R,ut]),onMouseLeave:Tt([B,_t]),onTouchStart:Tt([F,Ue]),disabled:!!A,target:q,...Object.keys(ve).length&&{style:ve},...xe&&{className:xe},...A&&{role:"link","aria-disabled":!0},...ze&&{"data-status":"active","aria-current":"page"},...r&&{"data-transitioning":"transitioning"}}}function C3(t){return K.forwardRef(function(n,r){return p.jsx(GB,{...n,_asChild:t,ref:r})})}const GB=K.forwardRef((t,e)=>{const{_asChild:n,...r}=t,{type:i,ref:s,...o}=KB(r,e),l=typeof r.children=="function"?r.children({isActive:o["data-status"]==="active"}):r.children;return typeof n>"u"&&delete o.disabled,K.createElement(n||"a",{...o,ref:s},l)});function ZB(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function JB(){const t=Oo(),e=K.useRef({router:t,mounted:!1}),n=zi({select:({isLoading:h})=>h}),[r,i]=K.useState(!1),s=zi({select:h=>h.matches.some(b=>b.status==="pending"),structuralSharing:!0}),o=Lw(n),l=n||r||s,c=Lw(l),d=n||s,f=Lw(d);return t.isServer||(t.startReactTransition=h=>{i(!0),K.startTransition(()=>{h(),i(!1)})}),K.useEffect(()=>{const h=t.history.subscribe(t.load),b=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return ju(t.latestLocation.href)!==ju(b.href)&&t.commitLocation({...b,replace:!0}),()=>{h()}},[t,t.history]),yp(()=>{var h;if(typeof window<"u"&&((h=window.__TSR__)!=null&&h.dehydrated)||e.current.router===t&&e.current.mounted)return;e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(x){console.error(x)}})()},[t]),yp(()=>{if(o&&!n){const h=t.state.location,b=t.state.resolvedLocation,x=b.pathname!==h.pathname,_=b.href!==h.href;t.emit({type:"onLoad",fromLocation:b,toLocation:h,pathChanged:x,hrefChanged:_})}},[o,t,n]),yp(()=>{if(f&&!d){const h=t.state.location,b=t.state.resolvedLocation,x=b.pathname!==h.pathname,_=b.href!==h.href;t.emit({type:"onBeforeRouteMount",fromLocation:b,toLocation:h,pathChanged:x,hrefChanged:_})}},[d,f,t]),yp(()=>{if(c&&!l){const h=t.state.location,b=t.state.resolvedLocation,x=b.pathname!==h.pathname,_=b.href!==h.href;if(t.emit({type:"onResolved",fromLocation:b,toLocation:h,pathChanged:x,hrefChanged:_}),t.__store.setState(N=>({...N,status:"idle",resolvedLocation:N.location})),typeof document<"u"&&document.querySelector){const N=t.state.location.state.__hashScrollIntoViewOptions??!0;if(N&&t.state.location.hash!==""){const I=document.getElementById(t.state.location.hash);I&&I.scrollIntoView(N)}}}},[l,c,t]),null}function YB(){const t=Oo(),e=t.options.defaultPendingComponent?p.jsx(t.options.defaultPendingComponent,{}):null,n=t.isServer||typeof document<"u"&&window.__TSR__?ry:K.Suspense,r=p.jsxs(n,{fallback:e,children:[p.jsx(JB,{}),p.jsx(XB,{})]});return t.options.InnerWrap?p.jsx(t.options.InnerWrap,{children:r}):r}function XB(){const t=zi({select:n=>{var r;return(r=n.matches[0])==null?void 0:r.id}}),e=zi({select:n=>n.loadedAt});return p.jsx(eb.Provider,{value:t,children:p.jsx(i1,{getResetKey:()=>e,errorComponent:Xv,onCatch:n=>{n.message||n.toString()},children:t?p.jsx(k3,{matchId:t}):null})})}function e4(){const t=Oo();return zi({select:e=>[e.location.href,e.resolvedLocation.href,e.status],structuralSharing:!0}),K.useCallback(e=>{const{pending:n,caseSensitive:r,fuzzy:i,includeSearch:s,...o}=e;return t.matchRoute(o,{pending:n,caseSensitive:r,fuzzy:i,includeSearch:s})},[t])}function t4({router:t,children:e,...n}){t.update({...t.options,...n,context:{...t.options.context,...n.context}});const r=b3(),i=p.jsx(r.Provider,{value:t,children:e});return t.options.Wrap?p.jsx(t.options.Wrap,{children:i}):i}function n4({router:t,...e}){return p.jsx(t4,{router:t,...e,children:p.jsx(YB,{})})}const r4=typeof window<"u"?K.useLayoutEffect:K.useEffect,Uw="window",bC="___";let Vw=new WeakSet;const i4=typeof window<"u"&&window.sessionStorage,mo=i4?(()=>{const t="tsr-scroll-restoration-v2";return{state:JSON.parse(window.sessionStorage.getItem(t)||"null")||{cached:{},next:{}},set:n=>{mo.state=Ru(n,mo.state),window.sessionStorage.setItem(t,JSON.stringify(mo.state))}}})():void 0,s4=t=>t.state.key||t.href;function o4(t){const e=Oo();r4(()=>{const n=t?.getKey||s4,{history:r}=window;r.scrollRestoration="manual";const i=l=>{if(Vw.has(l.target))return;Vw.add(l.target);let c="";if(l.target===document||l.target===window)c=Uw;else{const d=l.target.getAttribute("data-scroll-restoration-id");d?c=`[data-scroll-restoration-id="${d}"]`:c=l4(l.target)}mo.state.next[c]||mo.set(d=>({...d,next:{...d.next,[c]:{scrollX:NaN,scrollY:NaN}}}))};typeof document<"u"&&document.addEventListener("scroll",i,!0);const s=e.subscribe("onBeforeLoad",l=>{if(l.hrefChanged){const c=n(l.fromLocation);for(const d in mo.state.next){const f=mo.state.next[d];if(d===Uw)f.scrollX=window.scrollX||0,f.scrollY=window.scrollY||0;else if(d){const h=document.querySelector(d);f.scrollX=h?.scrollLeft||0,f.scrollY=h?.scrollTop||0}mo.set(h=>{const b={...h.next};return delete b[d],{...h,next:b,cached:{...h.cached,[[c,d].join(bC)]:f}}})}}}),o=e.subscribe("onBeforeRouteMount",l=>{if(l.hrefChanged){if(!e.resetNextScroll)return;e.resetNextScroll=!0;const c=n(l.toLocation);let d=!1;for(const f in mo.state.cached){const h=mo.state.cached[f],[b,x]=f.split(bC);if(b===c){if(x===Uw)d=!0,window.scrollTo({top:h.scrollY,left:h.scrollX,behavior:t?.scrollBehavior});else if(x){const _=document.querySelector(x);_&&(_.scrollLeft=h.scrollX,_.scrollTop=h.scrollY)}}}d||window.scrollTo(0,0),mo.set(f=>({...f,next:{}})),Vw=new WeakSet}});return()=>{document.removeEventListener("scroll",i),s(),o()}},[t?.getKey,e])}function a4(t){return o4(t),null}function l4(t){const e=[];let n;for(;n=t.parentNode;)e.unshift(`${t.tagName}:nth-child(${[].indexOf.call(n.children,t)+1})`),t=n;return`${e.join(" > ")}`.toLowerCase()}function ir(t){return Ll({...t,select:e=>t.select?t.select(e.context):e.context})}let u4={data:""},c4=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||u4,d4=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,f4=/\/\*[^]*?\*\/|  +/g,xC=/\n+/g,_l=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?_l(o,s):s+"{"+_l(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=_l(o,e?e.replace(/([^,])+/g,l=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=_l.p?_l.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},va={},T3=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+T3(t[n]);return e}return t},p4=(t,e,n,r,i)=>{let s=T3(t),o=va[s]||(va[s]=(c=>{let d=0,f=11;for(;d<c.length;)f=101*f+c.charCodeAt(d++)>>>0;return"go"+f})(s));if(!va[o]){let c=s!==t?t:(d=>{let f,h,b=[{}];for(;f=d4.exec(d.replace(f4,""));)f[4]?b.shift():f[3]?(h=f[3].replace(xC," ").trim(),b.unshift(b[0][h]=b[0][h]||{})):b[0][f[1]]=f[2].replace(xC," ").trim();return b[0]})(t);va[o]=_l(i?{["@keyframes "+o]:c}:c,n?"":"."+o)}let l=n&&va.g?va.g:null;return n&&(va.g=va[o]),((c,d,f,h)=>{h?d.data=d.data.replace(h,c):d.data.indexOf(c)===-1&&(d.data=f?c+d.data:d.data+c)})(va[o],e,r,l),o},h4=(t,e,n)=>t.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let l=o(n),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":_l(l,""):l===!1?"":l}return r+i+(o??"")},"");function nb(t){let e=this||{},n=t.call?t(e.p):t;return p4(n.unshift?n.raw?h4(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,c4(e.target),e.g,e.o,e.k)}let O3,DS,LS;nb.bind({g:1});let Aa=nb.bind({k:1});function m4(t,e,n,r){_l.p=e,O3=t,DS=n,LS=r}function Zl(t,e){let n=this||{};return function(){let r=arguments;function i(s,o){let l=Object.assign({},s),c=l.className||i.className;n.p=Object.assign({theme:DS&&DS()},l),n.o=/ *go\d+/.test(c),l.className=nb.apply(n,r)+(c?" "+c:"");let d=t;return t[0]&&(d=l.as||t,delete l.as),LS&&d[0]&&LS(l),O3(d,l)}return i}}var g4=t=>typeof t=="function",Ky=(t,e)=>g4(t)?t(e):t,y4=(()=>{let t=0;return()=>(++t).toString()})(),q3=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),v4=20,R3=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,v4)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return R3(t,{type:t.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},iy=[],sy={toasts:[],pausedAt:void 0},ic=t=>{sy=R3(sy,t),iy.forEach(e=>{e(sy)})},b4={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},x4=(t={})=>{let[e,n]=K.useState(sy);K.useEffect(()=>(iy.push(n),()=>{let i=iy.indexOf(n);i>-1&&iy.splice(i,1)}),[e]);let r=e.toasts.map(i=>{var s,o,l;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((s=t[i.type])==null?void 0:s.removeDelay)||t?.removeDelay,duration:i.duration||((o=t[i.type])==null?void 0:o.duration)||t?.duration||b4[i.type],style:{...t.style,...(l=t[i.type])==null?void 0:l.style,...i.style}}});return{...e,toasts:r}},w4=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||y4()}),Bh=t=>(e,n)=>{let r=w4(e,t,n);return ic({type:2,toast:r}),r.id},kn=(t,e)=>Bh("blank")(t,e);kn.error=Bh("error");kn.success=Bh("success");kn.loading=Bh("loading");kn.custom=Bh("custom");kn.dismiss=t=>{ic({type:3,toastId:t})};kn.remove=t=>ic({type:4,toastId:t});kn.promise=(t,e,n)=>{let r=kn.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?Ky(e.success,i):void 0;return s?kn.success(s,{id:r,...n,...n?.success}):kn.dismiss(r),i}).catch(i=>{let s=e.error?Ky(e.error,i):void 0;s?kn.error(s,{id:r,...n,...n?.error}):kn.dismiss(r)}),t};var _4=(t,e)=>{ic({type:1,toast:{id:t,height:e}})},S4=()=>{ic({type:5,time:Date.now()})},Dp=new Map,E4=1e3,N4=(t,e=E4)=>{if(Dp.has(t))return;let n=setTimeout(()=>{Dp.delete(t),ic({type:4,toastId:t})},e);Dp.set(t,n)},k4=t=>{let{toasts:e,pausedAt:n}=x4(t);K.useEffect(()=>{if(n)return;let s=Date.now(),o=e.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(s-l.createdAt);if(c<0){l.visible&&kn.dismiss(l.id);return}return setTimeout(()=>kn.dismiss(l.id),c)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[e,n]);let r=K.useCallback(()=>{n&&ic({type:6,time:Date.now()})},[n]),i=K.useCallback((s,o)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:d}=o||{},f=e.filter(x=>(x.position||d)===(s.position||d)&&x.height),h=f.findIndex(x=>x.id===s.id),b=f.filter((x,_)=>_<h&&x.visible).length;return f.filter(x=>x.visible).slice(...l?[b+1]:[0,b]).reduce((x,_)=>x+(_.height||0)+c,0)},[e]);return K.useEffect(()=>{e.forEach(s=>{if(s.dismissed)N4(s.id,s.removeDelay);else{let o=Dp.get(s.id);o&&(clearTimeout(o),Dp.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:_4,startPause:S4,endPause:r,calculateOffset:i}}},I4=Aa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,C4=Aa`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,T4=Aa`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,O4=Zl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${I4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${C4} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${T4} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,q4=Aa`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,R4=Zl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${q4} 1s linear infinite;
`,j4=Aa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,A4=Aa`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,P4=Zl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${j4} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${A4} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,F4=Zl("div")`
  position: absolute;
`,D4=Zl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,L4=Aa`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,M4=Zl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${L4} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,$4=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?K.createElement(M4,null,e):e:n==="blank"?null:K.createElement(D4,null,K.createElement(R4,{...r}),n!=="loading"&&K.createElement(F4,null,n==="error"?K.createElement(O4,{...r}):K.createElement(P4,{...r})))},B4=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,z4=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,W4="0%{opacity:0;} 100%{opacity:1;}",U4="0%{opacity:1;} 100%{opacity:0;}",V4=Zl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,H4=Zl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Q4=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=q3()?[W4,U4]:[B4(n),z4(n)];return{animation:e?`${Aa(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Aa(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},K4=K.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?Q4(t.position||e||"top-center",t.visible):{opacity:0},s=K.createElement($4,{toast:t}),o=K.createElement(H4,{...t.ariaProps},Ky(t.message,t));return K.createElement(V4,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:o}):K.createElement(K.Fragment,null,s,o))});m4(K.createElement);var G4=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=K.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;r(t,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return K.createElement("div",{ref:s,className:e,style:n},i)},Z4=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:q3()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},J4=nb`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Eg=16,Y4=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:l,handlers:c}=k4(n);return K.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Eg,left:Eg,right:Eg,bottom:Eg,pointerEvents:"none",...s},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(d=>{let f=d.position||e,h=c.calculateOffset(d,{reverseOrder:t,gutter:r,defaultPosition:e}),b=Z4(f,h);return K.createElement(G4,{id:d.id,key:d.id,onHeightUpdate:c.updateHeight,className:d.visible?J4:"",style:b},d.type==="custom"?Ky(d.message,d):i?i(d):K.createElement(K4,{toast:d,position:f}))}))},X4=kn;class sc extends Error{}class ez extends sc{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class tz extends sc{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class nz extends sc{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class id extends sc{}class j3 extends sc{constructor(e){super(`Invalid unit ${e}`)}}class _i extends sc{}class cl extends sc{constructor(){super("Zone is an abstract class")}}const Ct="numeric",ko="short",Os="long",Gy={year:Ct,month:Ct,day:Ct},A3={year:Ct,month:ko,day:Ct},rz={year:Ct,month:ko,day:Ct,weekday:ko},P3={year:Ct,month:Os,day:Ct},F3={year:Ct,month:Os,day:Ct,weekday:Os},D3={hour:Ct,minute:Ct},L3={hour:Ct,minute:Ct,second:Ct},M3={hour:Ct,minute:Ct,second:Ct,timeZoneName:ko},$3={hour:Ct,minute:Ct,second:Ct,timeZoneName:Os},B3={hour:Ct,minute:Ct,hourCycle:"h23"},z3={hour:Ct,minute:Ct,second:Ct,hourCycle:"h23"},W3={hour:Ct,minute:Ct,second:Ct,hourCycle:"h23",timeZoneName:ko},U3={hour:Ct,minute:Ct,second:Ct,hourCycle:"h23",timeZoneName:Os},V3={year:Ct,month:Ct,day:Ct,hour:Ct,minute:Ct},H3={year:Ct,month:Ct,day:Ct,hour:Ct,minute:Ct,second:Ct},Q3={year:Ct,month:ko,day:Ct,hour:Ct,minute:Ct},K3={year:Ct,month:ko,day:Ct,hour:Ct,minute:Ct,second:Ct},iz={year:Ct,month:ko,day:Ct,weekday:ko,hour:Ct,minute:Ct},G3={year:Ct,month:Os,day:Ct,hour:Ct,minute:Ct,timeZoneName:ko},Z3={year:Ct,month:Os,day:Ct,hour:Ct,minute:Ct,second:Ct,timeZoneName:ko},J3={year:Ct,month:Os,day:Ct,weekday:Os,hour:Ct,minute:Ct,timeZoneName:Os},Y3={year:Ct,month:Os,day:Ct,weekday:Os,hour:Ct,minute:Ct,second:Ct,timeZoneName:Os};class zh{get type(){throw new cl}get name(){throw new cl}get ianaName(){return this.name}get isUniversal(){throw new cl}offsetName(e,n){throw new cl}formatOffset(e,n){throw new cl}offset(e){throw new cl}equals(e){throw new cl}get isValid(){throw new cl}}let Hw=null;class rb extends zh{static get instance(){return Hw===null&&(Hw=new rb),Hw}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return aA(e,n,r)}formatOffset(e,n){return Lp(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let oy={};function sz(t){return oy[t]||(oy[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),oy[t]}const oz={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function az(t,e){const n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,i,s,o,l,c,d,f]=r;return[o,i,s,l,c,d,f]}function lz(t,e){const n=t.formatToParts(e),r=[];for(let i=0;i<n.length;i++){const{type:s,value:o}=n[i],l=oz[s];s==="era"?r[l]=o:un(l)||(r[l]=parseInt(o,10))}return r}let Ng={};class Pa extends zh{static create(e){return Ng[e]||(Ng[e]=new Pa(e)),Ng[e]}static resetCache(){Ng={},oy={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Pa.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return aA(e,n,r,this.name)}formatOffset(e,n){return Lp(this.offset(e),n)}offset(e){const n=new Date(e);if(isNaN(n))return NaN;const r=sz(this.name);let[i,s,o,l,c,d,f]=r.formatToParts?lz(r,n):az(r,n);l==="BC"&&(i=-Math.abs(i)+1);const b=sb({year:i,month:s,day:o,hour:c===24?0:c,minute:d,second:f,millisecond:0});let x=+n;const _=x%1e3;return x-=_>=0?_:1e3+_,(b-x)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let wC={};function uz(t,e={}){const n=JSON.stringify([t,e]);let r=wC[n];return r||(r=new Intl.ListFormat(t,e),wC[n]=r),r}let MS={};function $S(t,e={}){const n=JSON.stringify([t,e]);let r=MS[n];return r||(r=new Intl.DateTimeFormat(t,e),MS[n]=r),r}let BS={};function cz(t,e={}){const n=JSON.stringify([t,e]);let r=BS[n];return r||(r=new Intl.NumberFormat(t,e),BS[n]=r),r}let zS={};function dz(t,e={}){const{base:n,...r}=e,i=JSON.stringify([t,r]);let s=zS[i];return s||(s=new Intl.RelativeTimeFormat(t,e),zS[i]=s),s}let bp=null;function fz(){return bp||(bp=new Intl.DateTimeFormat().resolvedOptions().locale,bp)}let _C={};function pz(t){let e=_C[t];if(!e){const n=new Intl.Locale(t);e="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,_C[t]=e}return e}function hz(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const n=t.indexOf("-u-");if(n===-1)return[t];{let r,i;try{r=$S(t).resolvedOptions(),i=t}catch{const c=t.substring(0,n);r=$S(c).resolvedOptions(),i=c}const{numberingSystem:s,calendar:o}=r;return[i,s,o]}}function mz(t,e,n){return(n||e)&&(t.includes("-u-")||(t+="-u"),n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function gz(t){const e=[];for(let n=1;n<=12;n++){const r=ln.utc(2009,n,1);e.push(t(r))}return e}function yz(t){const e=[];for(let n=1;n<=7;n++){const r=ln.utc(2016,11,13+n);e.push(t(r))}return e}function kg(t,e,n,r){const i=t.listingMode();return i==="error"?null:i==="en"?n(e):r(e)}function vz(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class bz{constructor(e,n,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:i,floor:s,...o}=r;if(!n||Object.keys(o).length>0){const l={useGrouping:!1,...r};r.padTo>0&&(l.minimumIntegerDigits=r.padTo),this.inf=cz(e,l)}}format(e){if(this.inf){const n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{const n=this.floor?Math.floor(e):u1(e,3);return Qr(n,this.padTo)}}}class xz{constructor(e,n,r){this.opts=r,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const o=-1*(e.offset/60),l=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&Pa.create(l).valid?(i=l,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||i,this.dtf=$S(n,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(n=>{if(n.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...n,value:r}}else return n}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class wz{constructor(e,n,r){this.opts={style:"long",...r},!n&&sA()&&(this.rtf=dz(e,r))}format(e,n){return this.rtf?this.rtf.format(e,n):Uz(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}}const _z={firstDay:1,minimalDays:4,weekend:[6,7]};class zn{static fromOpts(e){return zn.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,n,r,i,s=!1){const o=e||Dr.defaultLocale,l=o||(s?"en-US":fz()),c=n||Dr.defaultNumberingSystem,d=r||Dr.defaultOutputCalendar,f=WS(i)||Dr.defaultWeekSettings;return new zn(l,c,d,f,o)}static resetCache(){bp=null,MS={},BS={},zS={}}static fromObject({locale:e,numberingSystem:n,outputCalendar:r,weekSettings:i}={}){return zn.create(e,n,r,i)}constructor(e,n,r,i,s){const[o,l,c]=hz(e);this.locale=o,this.numberingSystem=n||l||null,this.outputCalendar=r||c||null,this.weekSettings=i,this.intl=mz(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=vz(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:zn.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,WS(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,n=!1){return kg(this,e,cA,()=>{const r=n?{month:e,day:"numeric"}:{month:e},i=n?"format":"standalone";return this.monthsCache[i][e]||(this.monthsCache[i][e]=gz(s=>this.extract(s,r,"month"))),this.monthsCache[i][e]})}weekdays(e,n=!1){return kg(this,e,pA,()=>{const r=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=n?"format":"standalone";return this.weekdaysCache[i][e]||(this.weekdaysCache[i][e]=yz(s=>this.extract(s,r,"weekday"))),this.weekdaysCache[i][e]})}meridiems(){return kg(this,void 0,()=>hA,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[ln.utc(2016,11,13,9),ln.utc(2016,11,13,19)].map(n=>this.extract(n,e,"dayperiod"))}return this.meridiemCache})}eras(e){return kg(this,e,mA,()=>{const n={era:e};return this.eraCache[e]||(this.eraCache[e]=[ln.utc(-40,1,1),ln.utc(2017,1,1)].map(r=>this.extract(r,n,"era"))),this.eraCache[e]})}extract(e,n,r){const i=this.dtFormatter(e,n),s=i.formatToParts(),o=s.find(l=>l.type.toLowerCase()===r);return o?o.value:null}numberFormatter(e={}){return new bz(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new xz(e,this.intl,n)}relFormatter(e={}){return new wz(this.intl,this.isEnglish(),e)}listFormatter(e={}){return uz(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:oA()?pz(this.locale):_z}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let Qw=null;class Bi extends zh{static get utcInstance(){return Qw===null&&(Qw=new Bi(0)),Qw}static instance(e){return e===0?Bi.utcInstance:new Bi(e)}static parseSpecifier(e){if(e){const n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new Bi(ob(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Lp(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Lp(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return Lp(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class Sz extends zh{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Sl(t,e){if(un(t)||t===null)return e;if(t instanceof zh)return t;if(Tz(t)){const n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?rb.instance:n==="utc"||n==="gmt"?Bi.utcInstance:Bi.parseSpecifier(n)||Pa.create(t)}else return ql(t)?Bi.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new Sz(t)}const s1={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},SC={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Ez=s1.hanidec.replace(/[\[|\]]/g,"").split("");function Nz(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);if(t[n].search(s1.hanidec)!==-1)e+=Ez.indexOf(t[n]);else for(const i in SC){const[s,o]=SC[i];r>=s&&r<=o&&(e+=r-s)}}return parseInt(e,10)}else return e}let ed={};function kz(){ed={}}function po({numberingSystem:t},e=""){const n=t||"latn";return ed[n]||(ed[n]={}),ed[n][e]||(ed[n][e]=new RegExp(`${s1[n]}${e}`)),ed[n][e]}let EC=()=>Date.now(),NC="system",kC=null,IC=null,CC=null,TC=60,OC,qC=null;class Dr{static get now(){return EC}static set now(e){EC=e}static set defaultZone(e){NC=e}static get defaultZone(){return Sl(NC,rb.instance)}static get defaultLocale(){return kC}static set defaultLocale(e){kC=e}static get defaultNumberingSystem(){return IC}static set defaultNumberingSystem(e){IC=e}static get defaultOutputCalendar(){return CC}static set defaultOutputCalendar(e){CC=e}static get defaultWeekSettings(){return qC}static set defaultWeekSettings(e){qC=WS(e)}static get twoDigitCutoffYear(){return TC}static set twoDigitCutoffYear(e){TC=e%100}static get throwOnInvalid(){return OC}static set throwOnInvalid(e){OC=e}static resetCaches(){zn.resetCache(),Pa.resetCache(),ln.resetCache(),kz()}}class _o{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const X3=[0,31,59,90,120,151,181,212,243,273,304,334],eA=[0,31,60,91,121,152,182,213,244,274,305,335];function eo(t,e){return new _o("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function o1(t,e,n){const r=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const i=r.getUTCDay();return i===0?7:i}function tA(t,e,n){return n+(Wh(t)?eA:X3)[e-1]}function nA(t,e){const n=Wh(t)?eA:X3,r=n.findIndex(s=>s<e),i=e-n[r];return{month:r+1,day:i}}function a1(t,e){return(t-e+7)%7+1}function Zy(t,e=4,n=1){const{year:r,month:i,day:s}=t,o=tA(r,i,s),l=a1(o1(r,i,s),n);let c=Math.floor((o-l+14-e)/7),d;return c<1?(d=r-1,c=eh(d,e,n)):c>eh(r,e,n)?(d=r+1,c=1):d=r,{weekYear:d,weekNumber:c,weekday:l,...ab(t)}}function RC(t,e=4,n=1){const{weekYear:r,weekNumber:i,weekday:s}=t,o=a1(o1(r,1,e),n),l=gd(r);let c=i*7+s-o-7+e,d;c<1?(d=r-1,c+=gd(d)):c>l?(d=r+1,c-=gd(r)):d=r;const{month:f,day:h}=nA(d,c);return{year:d,month:f,day:h,...ab(t)}}function Kw(t){const{year:e,month:n,day:r}=t,i=tA(e,n,r);return{year:e,ordinal:i,...ab(t)}}function jC(t){const{year:e,ordinal:n}=t,{month:r,day:i}=nA(e,n);return{year:e,month:r,day:i,...ab(t)}}function AC(t,e){if(!un(t.localWeekday)||!un(t.localWeekNumber)||!un(t.localWeekYear)){if(!un(t.weekday)||!un(t.weekNumber)||!un(t.weekYear))throw new id("Cannot mix locale-based week fields with ISO-based week fields");return un(t.localWeekday)||(t.weekday=t.localWeekday),un(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),un(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function Iz(t,e=4,n=1){const r=ib(t.weekYear),i=to(t.weekNumber,1,eh(t.weekYear,e,n)),s=to(t.weekday,1,7);return r?i?s?!1:eo("weekday",t.weekday):eo("week",t.weekNumber):eo("weekYear",t.weekYear)}function Cz(t){const e=ib(t.year),n=to(t.ordinal,1,gd(t.year));return e?n?!1:eo("ordinal",t.ordinal):eo("year",t.year)}function rA(t){const e=ib(t.year),n=to(t.month,1,12),r=to(t.day,1,Jy(t.year,t.month));return e?n?r?!1:eo("day",t.day):eo("month",t.month):eo("year",t.year)}function iA(t){const{hour:e,minute:n,second:r,millisecond:i}=t,s=to(e,0,23)||e===24&&n===0&&r===0&&i===0,o=to(n,0,59),l=to(r,0,59),c=to(i,0,999);return s?o?l?c?!1:eo("millisecond",i):eo("second",r):eo("minute",n):eo("hour",e)}function un(t){return typeof t>"u"}function ql(t){return typeof t=="number"}function ib(t){return typeof t=="number"&&t%1===0}function Tz(t){return typeof t=="string"}function Oz(t){return Object.prototype.toString.call(t)==="[object Date]"}function sA(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function oA(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function qz(t){return Array.isArray(t)?t:[t]}function PC(t,e,n){if(t.length!==0)return t.reduce((r,i)=>{const s=[e(i),i];return r&&n(r[0],s[0])===r[0]?r:s},null)[1]}function Rz(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function Rd(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function WS(t){if(t==null)return null;if(typeof t!="object")throw new _i("Week settings must be an object");if(!to(t.firstDay,1,7)||!to(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!to(e,1,7)))throw new _i("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function to(t,e,n){return ib(t)&&t>=e&&t<=n}function jz(t,e){return t-e*Math.floor(t/e)}function Qr(t,e=2){const n=t<0;let r;return n?r="-"+(""+-t).padStart(e,"0"):r=(""+t).padStart(e,"0"),r}function bl(t){if(!(un(t)||t===null||t===""))return parseInt(t,10)}function wu(t){if(!(un(t)||t===null||t===""))return parseFloat(t)}function l1(t){if(!(un(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function u1(t,e,n=!1){const r=10**e;return(n?Math.trunc:Math.round)(t*r)/r}function Wh(t){return t%4===0&&(t%100!==0||t%400===0)}function gd(t){return Wh(t)?366:365}function Jy(t,e){const n=jz(e-1,12)+1,r=t+(e-n)/12;return n===2?Wh(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function sb(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function FC(t,e,n){return-a1(o1(t,1,e),n)+e-1}function eh(t,e=4,n=1){const r=FC(t,e,n),i=FC(t+1,e,n);return(gd(t)-r+i)/7}function US(t){return t>99?t:t>Dr.twoDigitCutoffYear?1900+t:2e3+t}function aA(t,e,n,r=null){const i=new Date(t),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(s.timeZone=r);const o={timeZoneName:e,...s},l=new Intl.DateTimeFormat(n,o).formatToParts(i).find(c=>c.type.toLowerCase()==="timezonename");return l?l.value:null}function ob(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);const r=parseInt(e,10)||0,i=n<0||Object.is(n,-0)?-r:r;return n*60+i}function lA(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new _i(`Invalid unit value ${t}`);return e}function Yy(t,e){const n={};for(const r in t)if(Rd(t,r)){const i=t[r];if(i==null)continue;n[e(r)]=lA(i)}return n}function Lp(t,e){const n=Math.trunc(Math.abs(t/60)),r=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${Qr(n,2)}:${Qr(r,2)}`;case"narrow":return`${i}${n}${r>0?`:${r}`:""}`;case"techie":return`${i}${Qr(n,2)}${Qr(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function ab(t){return Rz(t,["hour","minute","second","millisecond"])}const Az=["January","February","March","April","May","June","July","August","September","October","November","December"],uA=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Pz=["J","F","M","A","M","J","J","A","S","O","N","D"];function cA(t){switch(t){case"narrow":return[...Pz];case"short":return[...uA];case"long":return[...Az];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const dA=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],fA=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Fz=["M","T","W","T","F","S","S"];function pA(t){switch(t){case"narrow":return[...Fz];case"short":return[...fA];case"long":return[...dA];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const hA=["AM","PM"],Dz=["Before Christ","Anno Domini"],Lz=["BC","AD"],Mz=["B","A"];function mA(t){switch(t){case"narrow":return[...Mz];case"short":return[...Lz];case"long":return[...Dz];default:return null}}function $z(t){return hA[t.hour<12?0:1]}function Bz(t,e){return pA(e)[t.weekday-1]}function zz(t,e){return cA(e)[t.month-1]}function Wz(t,e){return mA(e)[t.year<0?0:1]}function Uz(t,e,n="always",r=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&s){const h=t==="days";switch(e){case 1:return h?"tomorrow":`next ${i[t][0]}`;case-1:return h?"yesterday":`last ${i[t][0]}`;case 0:return h?"today":`this ${i[t][0]}`}}const o=Object.is(e,-0)||e<0,l=Math.abs(e),c=l===1,d=i[t],f=r?c?d[1]:d[2]||d[1]:c?i[t][0]:t;return o?`${l} ${f} ago`:`in ${l} ${f}`}function DC(t,e){let n="";for(const r of t)r.literal?n+=r.val:n+=e(r.val);return n}const Vz={D:Gy,DD:A3,DDD:P3,DDDD:F3,t:D3,tt:L3,ttt:M3,tttt:$3,T:B3,TT:z3,TTT:W3,TTTT:U3,f:V3,ff:Q3,fff:G3,ffff:J3,F:H3,FF:K3,FFF:Z3,FFFF:Y3};class Ei{static create(e,n={}){return new Ei(e,n)}static parseFormat(e){let n=null,r="",i=!1;const s=[];for(let o=0;o<e.length;o++){const l=e.charAt(o);l==="'"?(r.length>0&&s.push({literal:i||/^\s+$/.test(r),val:r}),n=null,r="",i=!i):i||l===n?r+=l:(r.length>0&&s.push({literal:/^\s+$/.test(r),val:r}),r=l,n=l)}return r.length>0&&s.push({literal:i||/^\s+$/.test(r),val:r}),s}static macroTokenToFormatOpts(e){return Vz[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...n}).format()}dtFormatter(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n})}formatDateTime(e,n){return this.dtFormatter(e,n).format()}formatDateTimeParts(e,n){return this.dtFormatter(e,n).formatToParts()}formatInterval(e,n){return this.dtFormatter(e.start,n).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,n){return this.dtFormatter(e,n).resolvedOptions()}num(e,n=0){if(this.opts.forceSimple)return Qr(e,n);const r={...this.opts};return n>0&&(r.padTo=n),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,n){const r=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(x,_)=>this.loc.extract(e,x,_),o=x=>e.isOffsetFixed&&e.offset===0&&x.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,x.format):"",l=()=>r?$z(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),c=(x,_)=>r?zz(e,x):s(_?{month:x}:{month:x,day:"numeric"},"month"),d=(x,_)=>r?Bz(e,x):s(_?{weekday:x}:{weekday:x,month:"long",day:"numeric"},"weekday"),f=x=>{const _=Ei.macroTokenToFormatOpts(x);return _?this.formatWithSystemDefault(e,_):x},h=x=>r?Wz(e,x):s({era:x},"era"),b=x=>{switch(x){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return l();case"d":return i?s({day:"numeric"},"day"):this.num(e.day);case"dd":return i?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return d("short",!0);case"cccc":return d("long",!0);case"ccccc":return d("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return d("short",!1);case"EEEE":return d("long",!1);case"EEEEE":return d("narrow",!1);case"L":return i?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return c("short",!0);case"LLLL":return c("long",!0);case"LLLLL":return c("narrow",!0);case"M":return i?s({month:"numeric"},"month"):this.num(e.month);case"MM":return i?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return c("short",!1);case"MMMM":return c("long",!1);case"MMMMM":return c("narrow",!1);case"y":return i?s({year:"numeric"},"year"):this.num(e.year);case"yy":return i?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return h("short");case"GG":return h("long");case"GGGGG":return h("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return f(x)}};return DC(Ei.parseFormat(n),b)}formatDurationFromString(e,n){const r=c=>{switch(c[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=c=>d=>{const f=r(d);return f?this.num(c.get(f),d.length):d},s=Ei.parseFormat(n),o=s.reduce((c,{literal:d,val:f})=>d?c:c.concat(f),[]),l=e.shiftTo(...o.map(r).filter(c=>c));return DC(s,i(l))}}const gA=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Zd(...t){const e=t.reduce((n,r)=>n+r.source,"");return RegExp(`^${e}$`)}function Jd(...t){return e=>t.reduce(([n,r,i],s)=>{const[o,l,c]=s(e,i);return[{...n,...o},l||r,c]},[{},null,1]).slice(0,2)}function Yd(t,...e){if(t==null)return[null,null];for(const[n,r]of e){const i=n.exec(t);if(i)return r(i)}return[null,null]}function yA(...t){return(e,n)=>{const r={};let i;for(i=0;i<t.length;i++)r[t[i]]=bl(e[n+i]);return[r,null,n+i]}}const vA=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Hz=`(?:${vA.source}?(?:\\[(${gA.source})\\])?)?`,c1=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,bA=RegExp(`${c1.source}${Hz}`),d1=RegExp(`(?:T${bA.source})?`),Qz=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Kz=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Gz=/(\d{4})-?(\d{3})/,Zz=yA("weekYear","weekNumber","weekDay"),Jz=yA("year","ordinal"),Yz=/(\d{4})-(\d\d)-(\d\d)/,xA=RegExp(`${c1.source} ?(?:${vA.source}|(${gA.source}))?`),Xz=RegExp(`(?: ${xA.source})?`);function yd(t,e,n){const r=t[e];return un(r)?n:bl(r)}function eW(t,e){return[{year:yd(t,e),month:yd(t,e+1,1),day:yd(t,e+2,1)},null,e+3]}function Xd(t,e){return[{hours:yd(t,e,0),minutes:yd(t,e+1,0),seconds:yd(t,e+2,0),milliseconds:l1(t[e+3])},null,e+4]}function Uh(t,e){const n=!t[e]&&!t[e+1],r=ob(t[e+1],t[e+2]),i=n?null:Bi.instance(r);return[{},i,e+3]}function Vh(t,e){const n=t[e]?Pa.create(t[e]):null;return[{},n,e+1]}const tW=RegExp(`^T?${c1.source}$`),nW=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function rW(t){const[e,n,r,i,s,o,l,c,d]=t,f=e[0]==="-",h=c&&c[0]==="-",b=(x,_=!1)=>x!==void 0&&(_||x&&f)?-x:x;return[{years:b(wu(n)),months:b(wu(r)),weeks:b(wu(i)),days:b(wu(s)),hours:b(wu(o)),minutes:b(wu(l)),seconds:b(wu(c),c==="-0"),milliseconds:b(l1(d),h)}]}const iW={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function f1(t,e,n,r,i,s,o){const l={year:e.length===2?US(bl(e)):bl(e),month:uA.indexOf(n)+1,day:bl(r),hour:bl(i),minute:bl(s)};return o&&(l.second=bl(o)),t&&(l.weekday=t.length>3?dA.indexOf(t)+1:fA.indexOf(t)+1),l}const sW=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function oW(t){const[,e,n,r,i,s,o,l,c,d,f,h]=t,b=f1(e,i,r,n,s,o,l);let x;return c?x=iW[c]:d?x=0:x=ob(f,h),[b,new Bi(x)]}function aW(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const lW=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,uW=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,cW=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function LC(t){const[,e,n,r,i,s,o,l]=t;return[f1(e,i,r,n,s,o,l),Bi.utcInstance]}function dW(t){const[,e,n,r,i,s,o,l]=t;return[f1(e,l,n,r,i,s,o),Bi.utcInstance]}const fW=Zd(Qz,d1),pW=Zd(Kz,d1),hW=Zd(Gz,d1),mW=Zd(bA),wA=Jd(eW,Xd,Uh,Vh),gW=Jd(Zz,Xd,Uh,Vh),yW=Jd(Jz,Xd,Uh,Vh),vW=Jd(Xd,Uh,Vh);function bW(t){return Yd(t,[fW,wA],[pW,gW],[hW,yW],[mW,vW])}function xW(t){return Yd(aW(t),[sW,oW])}function wW(t){return Yd(t,[lW,LC],[uW,LC],[cW,dW])}function _W(t){return Yd(t,[nW,rW])}const SW=Jd(Xd);function EW(t){return Yd(t,[tW,SW])}const NW=Zd(Yz,Xz),kW=Zd(xA),IW=Jd(Xd,Uh,Vh);function CW(t){return Yd(t,[NW,wA],[kW,IW])}const MC="Invalid Duration",_A={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},TW={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},..._A},Qs=146097/400,Wc=146097/4800,OW={years:{quarters:4,months:12,weeks:Qs/7,days:Qs,hours:Qs*24,minutes:Qs*24*60,seconds:Qs*24*60*60,milliseconds:Qs*24*60*60*1e3},quarters:{months:3,weeks:Qs/28,days:Qs/4,hours:Qs*24/4,minutes:Qs*24*60/4,seconds:Qs*24*60*60/4,milliseconds:Qs*24*60*60*1e3/4},months:{weeks:Wc/7,days:Wc,hours:Wc*24,minutes:Wc*24*60,seconds:Wc*24*60*60,milliseconds:Wc*24*60*60*1e3},..._A},Au=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],qW=Au.slice(0).reverse();function dl(t,e,n=!1){const r={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new jn(r)}function SA(t,e){let n=e.milliseconds??0;for(const r of qW.slice(1))e[r]&&(n+=e[r]*t[r].milliseconds);return n}function $C(t,e){const n=SA(t,e)<0?-1:1;Au.reduceRight((r,i)=>{if(un(e[i]))return r;if(r){const s=e[r]*n,o=t[i][r],l=Math.floor(s/o);e[i]+=l*n,e[r]-=l*o*n}return i},null),Au.reduce((r,i)=>{if(un(e[i]))return r;if(r){const s=e[r]%1;e[r]-=s,e[i]+=s*t[r][i]}return i},null)}function RW(t){const e={};for(const[n,r]of Object.entries(t))r!==0&&(e[n]=r);return e}class jn{constructor(e){const n=e.conversionAccuracy==="longterm"||!1;let r=n?OW:TW;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||zn.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,n){return jn.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new _i(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new jn({values:Yy(e,jn.normalizeUnit),loc:zn.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if(ql(e))return jn.fromMillis(e);if(jn.isDuration(e))return e;if(typeof e=="object")return jn.fromObject(e);throw new _i(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){const[r]=_W(e);return r?jn.fromObject(r,n):jn.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,n){const[r]=EW(e);return r?jn.fromObject(r,n):jn.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new _i("need to specify a reason the Duration is invalid");const r=e instanceof _o?e:new _o(e,n);if(Dr.throwOnInvalid)throw new nz(r);return new jn({invalid:r})}static normalizeUnit(e){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new j3(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){const r={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?Ei.create(this.loc,r).formatDurationFromString(this,e):MC}toHuman(e={}){if(!this.isValid)return MC;const n=Au.map(r=>{const i=this.values[r];return un(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(i)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=u1(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const n=this.toMillis();return n<0||n>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},ln.fromMillis(n,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?SA(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const n=jn.fromDurationLike(e),r={};for(const i of Au)(Rd(n.values,i)||Rd(this.values,i))&&(r[i]=n.get(i)+this.get(i));return dl(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const n=jn.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=lA(e(this.values[r],r));return dl(this,{values:n},!0)}get(e){return this[jn.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const n={...this.values,...Yy(e,jn.normalizeUnit)};return dl(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:r,matrix:i}={}){const o={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:i,conversionAccuracy:r};return dl(this,o)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return $C(this.matrix,e),dl(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=RW(this.normalize().shiftToAll().toObject());return dl(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>jn.normalizeUnit(o));const n={},r={},i=this.toObject();let s;for(const o of Au)if(e.indexOf(o)>=0){s=o;let l=0;for(const d in r)l+=this.matrix[d][o]*r[d],r[d]=0;ql(i[o])&&(l+=i[o]);const c=Math.trunc(l);n[o]=c,r[o]=(l*1e3-c*1e3)/1e3}else ql(i[o])&&(r[o]=i[o]);for(const o in r)r[o]!==0&&(n[s]+=o===s?r[o]:r[o]/this.matrix[s][o]);return $C(this.matrix,n),dl(this,{values:n},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return dl(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(r,i){return r===void 0||r===0?i===void 0||i===0:r===i}for(const r of Au)if(!n(this.values[r],e.values[r]))return!1;return!0}}const Uc="Invalid Interval";function jW(t,e){return!t||!t.isValid?Fr.invalid("missing or invalid start"):!e||!e.isValid?Fr.invalid("missing or invalid end"):e<t?Fr.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class Fr{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new _i("need to specify a reason the Interval is invalid");const r=e instanceof _o?e:new _o(e,n);if(Dr.throwOnInvalid)throw new tz(r);return new Fr({invalid:r})}static fromDateTimes(e,n){const r=sp(e),i=sp(n),s=jW(r,i);return s??new Fr({start:r,end:i})}static after(e,n){const r=jn.fromDurationLike(n),i=sp(e);return Fr.fromDateTimes(i,i.plus(r))}static before(e,n){const r=jn.fromDurationLike(n),i=sp(e);return Fr.fromDateTimes(i.minus(r),i)}static fromISO(e,n){const[r,i]=(e||"").split("/",2);if(r&&i){let s,o;try{s=ln.fromISO(r,n),o=s.isValid}catch{o=!1}let l,c;try{l=ln.fromISO(i,n),c=l.isValid}catch{c=!1}if(o&&c)return Fr.fromDateTimes(s,l);if(o){const d=jn.fromISO(i,n);if(d.isValid)return Fr.after(s,d)}else if(c){const d=jn.fromISO(r,n);if(d.isValid)return Fr.before(l,d)}}return Fr.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",n){if(!this.isValid)return NaN;const r=this.start.startOf(e,n);let i;return n?.useLocaleWeeks?i=this.end.reconfigure({locale:r.locale}):i=this.end,i=i.startOf(e,n),Math.floor(i.diff(r,e).get(e))+(i.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?Fr.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];const n=e.map(sp).filter(o=>this.contains(o)).sort((o,l)=>o.toMillis()-l.toMillis()),r=[];let{s:i}=this,s=0;for(;i<this.e;){const o=n[s]||this.e,l=+o>+this.e?this.e:o;r.push(Fr.fromDateTimes(i,l)),i=l,s+=1}return r}splitBy(e){const n=jn.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:r}=this,i=1,s;const o=[];for(;r<this.e;){const l=this.start.plus(n.mapUnits(c=>c*i));s=+l>+this.e?this.e:l,o.push(Fr.fromDateTimes(r,s)),r=s,i+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const n=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return n>=r?null:Fr.fromDateTimes(n,r)}union(e){if(!this.isValid)return this;const n=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return Fr.fromDateTimes(n,r)}static merge(e){const[n,r]=e.sort((i,s)=>i.s-s.s).reduce(([i,s],o)=>s?s.overlaps(o)||s.abutsStart(o)?[i,s.union(o)]:[i.concat([s]),o]:[i,o],[[],null]);return r&&n.push(r),n}static xor(e){let n=null,r=0;const i=[],s=e.map(c=>[{time:c.s,type:"s"},{time:c.e,type:"e"}]),o=Array.prototype.concat(...s),l=o.sort((c,d)=>c.time-d.time);for(const c of l)r+=c.type==="s"?1:-1,r===1?n=c.time:(n&&+n!=+c.time&&i.push(Fr.fromDateTimes(n,c.time)),n=null);return Fr.merge(i)}difference(...e){return Fr.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:Uc}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=Gy,n={}){return this.isValid?Ei.create(this.s.loc.clone(n),e).formatInterval(this):Uc}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Uc}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Uc}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Uc}toFormat(e,{separator:n="  "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:Uc}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):jn.invalid(this.invalidReason)}mapEndpoints(e){return Fr.fromDateTimes(e(this.s),e(this.e))}}class Ig{static hasDST(e=Dr.defaultZone){const n=ln.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return Pa.isValidZone(e)}static normalizeZone(e){return Sl(e,Dr.defaultZone)}static getStartOfWeek({locale:e=null,locObj:n=null}={}){return(n||zn.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:n=null}={}){return(n||zn.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:n=null}={}){return(n||zn.create(e)).getWeekendDays().slice()}static months(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||zn.create(n,r,s)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||zn.create(n,r,s)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||zn.create(n,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||zn.create(n,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return zn.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return zn.create(n,null,"gregory").eras(e)}static features(){return{relative:sA(),localeWeek:oA()}}}function BC(t,e){const n=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(e)-n(t);return Math.floor(jn.fromMillis(r).as("days"))}function AW(t,e,n){const r=[["years",(c,d)=>d.year-c.year],["quarters",(c,d)=>d.quarter-c.quarter+(d.year-c.year)*4],["months",(c,d)=>d.month-c.month+(d.year-c.year)*12],["weeks",(c,d)=>{const f=BC(c,d);return(f-f%7)/7}],["days",BC]],i={},s=t;let o,l;for(const[c,d]of r)n.indexOf(c)>=0&&(o=c,i[c]=d(t,e),l=s.plus(i),l>e?(i[c]--,t=s.plus(i),t>e&&(l=t,i[c]--,t=s.plus(i))):t=l);return[t,i,l,o]}function PW(t,e,n,r){let[i,s,o,l]=AW(t,e,n);const c=e-i,d=n.filter(h=>["hours","minutes","seconds","milliseconds"].indexOf(h)>=0);d.length===0&&(o<e&&(o=i.plus({[l]:1})),o!==i&&(s[l]=(s[l]||0)+c/(o-i)));const f=jn.fromObject(s,r);return d.length>0?jn.fromMillis(c,r).shiftTo(...d).plus(f):f}const FW="missing Intl.DateTimeFormat.formatToParts support";function Dn(t,e=n=>n){return{regex:t,deser:([n])=>e(Nz(n))}}const DW="\xa0",EA=`[ ${DW}]`,NA=new RegExp(EA,"g");function LW(t){return t.replace(/\./g,"\\.?").replace(NA,EA)}function zC(t){return t.replace(/\./g,"").replace(NA," ").toLowerCase()}function ho(t,e){return t===null?null:{regex:RegExp(t.map(LW).join("|")),deser:([n])=>t.findIndex(r=>zC(n)===zC(r))+e}}function WC(t,e){return{regex:t,deser:([,n,r])=>ob(n,r),groups:e}}function Cg(t){return{regex:t,deser:([e])=>e}}function MW(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function $W(t,e){const n=po(e),r=po(e,"{2}"),i=po(e,"{3}"),s=po(e,"{4}"),o=po(e,"{6}"),l=po(e,"{1,2}"),c=po(e,"{1,3}"),d=po(e,"{1,6}"),f=po(e,"{1,9}"),h=po(e,"{2,4}"),b=po(e,"{4,6}"),x=I=>({regex:RegExp(MW(I.val)),deser:([O])=>O,literal:!0}),N=(I=>{if(t.literal)return x(I);switch(I.val){case"G":return ho(e.eras("short"),0);case"GG":return ho(e.eras("long"),0);case"y":return Dn(d);case"yy":return Dn(h,US);case"yyyy":return Dn(s);case"yyyyy":return Dn(b);case"yyyyyy":return Dn(o);case"M":return Dn(l);case"MM":return Dn(r);case"MMM":return ho(e.months("short",!0),1);case"MMMM":return ho(e.months("long",!0),1);case"L":return Dn(l);case"LL":return Dn(r);case"LLL":return ho(e.months("short",!1),1);case"LLLL":return ho(e.months("long",!1),1);case"d":return Dn(l);case"dd":return Dn(r);case"o":return Dn(c);case"ooo":return Dn(i);case"HH":return Dn(r);case"H":return Dn(l);case"hh":return Dn(r);case"h":return Dn(l);case"mm":return Dn(r);case"m":return Dn(l);case"q":return Dn(l);case"qq":return Dn(r);case"s":return Dn(l);case"ss":return Dn(r);case"S":return Dn(c);case"SSS":return Dn(i);case"u":return Cg(f);case"uu":return Cg(l);case"uuu":return Dn(n);case"a":return ho(e.meridiems(),0);case"kkkk":return Dn(s);case"kk":return Dn(h,US);case"W":return Dn(l);case"WW":return Dn(r);case"E":case"c":return Dn(n);case"EEE":return ho(e.weekdays("short",!1),1);case"EEEE":return ho(e.weekdays("long",!1),1);case"ccc":return ho(e.weekdays("short",!0),1);case"cccc":return ho(e.weekdays("long",!0),1);case"Z":case"ZZ":return WC(new RegExp(`([+-]${l.source})(?::(${r.source}))?`),2);case"ZZZ":return WC(new RegExp(`([+-]${l.source})(${r.source})?`),2);case"z":return Cg(/[a-z_+-/]{1,256}?/i);case" ":return Cg(/[^\S\n\r]/);default:return x(I)}})(t)||{invalidReason:FW};return N.token=t,N}const BW={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function zW(t,e,n){const{type:r,value:i}=t;if(r==="literal"){const c=/^\s+$/.test(i);return{literal:!c,val:c?" ":i}}const s=e[r];let o=r;r==="hour"&&(e.hour12!=null?o=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?o="hour12":o="hour24":o=n.hour12?"hour12":"hour24");let l=BW[o];if(typeof l=="object"&&(l=l[s]),l)return{literal:!1,val:l}}function WW(t){return[`^${t.map(n=>n.regex).reduce((n,r)=>`${n}(${r.source})`,"")}$`,t]}function UW(t,e,n){const r=t.match(e);if(r){const i={};let s=1;for(const o in n)if(Rd(n,o)){const l=n[o],c=l.groups?l.groups+1:1;!l.literal&&l.token&&(i[l.token.val[0]]=l.deser(r.slice(s,s+c))),s+=c}return[r,i]}else return[r,{}]}function VW(t){const e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,r;return un(t.z)||(n=Pa.create(t.z)),un(t.Z)||(n||(n=new Bi(t.Z)),r=t.Z),un(t.q)||(t.M=(t.q-1)*3+1),un(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),un(t.u)||(t.S=l1(t.u)),[Object.keys(t).reduce((s,o)=>{const l=e(o);return l&&(s[l]=t[o]),s},{}),n,r]}let Gw=null;function HW(){return Gw||(Gw=ln.fromMillis(0x16a2e5618e3)),Gw}function QW(t,e){if(t.literal)return t;const n=Ei.macroTokenToFormatOpts(t.val),r=TA(n,e);return r==null||r.includes(void 0)?t:r}function kA(t,e){return Array.prototype.concat(...t.map(n=>QW(n,e)))}class IA{constructor(e,n){if(this.locale=e,this.format=n,this.tokens=kA(Ei.parseFormat(n),e),this.units=this.tokens.map(r=>$W(r,e)),this.disqualifyingUnit=this.units.find(r=>r.invalidReason),!this.disqualifyingUnit){const[r,i]=WW(this.units);this.regex=RegExp(r,"i"),this.handlers=i}}explainFromTokens(e){if(this.isValid){const[n,r]=UW(e,this.regex,this.handlers),[i,s,o]=r?VW(r):[null,null,void 0];if(Rd(r,"a")&&Rd(r,"H"))throw new id("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:n,matches:r,result:i,zone:s,specificOffset:o}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function CA(t,e,n){return new IA(t,n).explainFromTokens(e)}function KW(t,e,n){const{result:r,zone:i,specificOffset:s,invalidReason:o}=CA(t,e,n);return[r,i,s,o]}function TA(t,e){if(!t)return null;const r=Ei.create(e,t).dtFormatter(HW()),i=r.formatToParts(),s=r.resolvedOptions();return i.map(o=>zW(o,t,s))}const Zw="Invalid DateTime",GW=864e13;function xp(t){return new _o("unsupported zone",`the zone "${t.name}" is not supported`)}function Jw(t){return t.weekData===null&&(t.weekData=Zy(t.c)),t.weekData}function Yw(t){return t.localWeekData===null&&(t.localWeekData=Zy(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function _u(t,e){const n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new ln({...n,...e,old:n})}function OA(t,e,n){let r=t-e*60*1e3;const i=n.offset(r);if(e===i)return[r,e];r-=(i-e)*60*1e3;const s=n.offset(r);return i===s?[r,i]:[t-Math.min(i,s)*60*1e3,Math.max(i,s)]}function Tg(t,e){t+=e*60*1e3;const n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function ay(t,e,n){return OA(sb(t),e,n)}function UC(t,e){const n=t.o,r=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...t.c,year:r,month:i,day:Math.min(t.c.day,Jy(r,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},o=jn.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),l=sb(s);let[c,d]=OA(l,n,t.zone);return o!==0&&(c+=o,d=t.zone.offset(c)),{ts:c,o:d}}function Vc(t,e,n,r,i,s){const{setZone:o,zone:l}=n;if(t&&Object.keys(t).length!==0||e){const c=e||l,d=ln.fromObject(t,{...n,zone:c,specificOffset:s});return o?d:d.setZone(l)}else return ln.invalid(new _o("unparsable",`the input "${i}" can't be parsed as ${r}`))}function Og(t,e,n=!0){return t.isValid?Ei.create(zn.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function Xw(t,e){const n=t.c.year>9999||t.c.year<0;let r="";return n&&t.c.year>=0&&(r+="+"),r+=Qr(t.c.year,n?6:4),e?(r+="-",r+=Qr(t.c.month),r+="-",r+=Qr(t.c.day)):(r+=Qr(t.c.month),r+=Qr(t.c.day)),r}function VC(t,e,n,r,i,s){let o=Qr(t.c.hour);return e?(o+=":",o+=Qr(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(o+=":")):o+=Qr(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(o+=Qr(t.c.second),(t.c.millisecond!==0||!r)&&(o+=".",o+=Qr(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0&&!s?o+="Z":t.o<0?(o+="-",o+=Qr(Math.trunc(-t.o/60)),o+=":",o+=Qr(Math.trunc(-t.o%60))):(o+="+",o+=Qr(Math.trunc(t.o/60)),o+=":",o+=Qr(Math.trunc(t.o%60)))),s&&(o+="["+t.zone.ianaName+"]"),o}const qA={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},ZW={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},JW={ordinal:1,hour:0,minute:0,second:0,millisecond:0},RA=["year","month","day","hour","minute","second","millisecond"],YW=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],XW=["year","ordinal","hour","minute","second","millisecond"];function e6(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new j3(t);return e}function HC(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return e6(t)}}function t6(t){return uy[t]||(ly===void 0&&(ly=Dr.now()),uy[t]=t.offset(ly)),uy[t]}function QC(t,e){const n=Sl(e.zone,Dr.defaultZone);if(!n.isValid)return ln.invalid(xp(n));const r=zn.fromObject(e);let i,s;if(un(t.year))i=Dr.now();else{for(const c of RA)un(t[c])&&(t[c]=qA[c]);const o=rA(t)||iA(t);if(o)return ln.invalid(o);const l=t6(n);[i,s]=ay(t,l,n)}return new ln({ts:i,zone:n,loc:r,o:s})}function KC(t,e,n){const r=un(n.round)?!0:n.round,i=(o,l)=>(o=u1(o,r||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(o,l)),s=o=>n.calendary?e.hasSame(t,o)?0:e.startOf(o).diff(t.startOf(o),o).get(o):e.diff(t,o).get(o);if(n.unit)return i(s(n.unit),n.unit);for(const o of n.units){const l=s(o);if(Math.abs(l)>=1)return i(l,o)}return i(t>e?-0:0,n.units[n.units.length-1])}function GC(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}let ly,uy={};class ln{constructor(e){const n=e.zone||Dr.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new _o("invalid input"):null)||(n.isValid?null:xp(n));this.ts=un(e.ts)?Dr.now():e.ts;let i=null,s=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[i,s]=[e.old.c,e.old.o];else{const l=ql(e.o)&&!e.old?e.o:n.offset(this.ts);i=Tg(this.ts,l),r=Number.isNaN(i.year)?new _o("invalid input"):null,i=r?null:i,s=r?null:l}this._zone=n,this.loc=e.loc||zn.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=i,this.o=s,this.isLuxonDateTime=!0}static now(){return new ln({})}static local(){const[e,n]=GC(arguments),[r,i,s,o,l,c,d]=n;return QC({year:r,month:i,day:s,hour:o,minute:l,second:c,millisecond:d},e)}static utc(){const[e,n]=GC(arguments),[r,i,s,o,l,c,d]=n;return e.zone=Bi.utcInstance,QC({year:r,month:i,day:s,hour:o,minute:l,second:c,millisecond:d},e)}static fromJSDate(e,n={}){const r=Oz(e)?e.valueOf():NaN;if(Number.isNaN(r))return ln.invalid("invalid input");const i=Sl(n.zone,Dr.defaultZone);return i.isValid?new ln({ts:r,zone:i,loc:zn.fromObject(n)}):ln.invalid(xp(i))}static fromMillis(e,n={}){if(ql(e))return e<-864e13||e>GW?ln.invalid("Timestamp out of range"):new ln({ts:e,zone:Sl(n.zone,Dr.defaultZone),loc:zn.fromObject(n)});throw new _i(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(ql(e))return new ln({ts:e*1e3,zone:Sl(n.zone,Dr.defaultZone),loc:zn.fromObject(n)});throw new _i("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};const r=Sl(n.zone,Dr.defaultZone);if(!r.isValid)return ln.invalid(xp(r));const i=zn.fromObject(n),s=Yy(e,HC),{minDaysInFirstWeek:o,startOfWeek:l}=AC(s,i),c=Dr.now(),d=un(n.specificOffset)?r.offset(c):n.specificOffset,f=!un(s.ordinal),h=!un(s.year),b=!un(s.month)||!un(s.day),x=h||b,_=s.weekYear||s.weekNumber;if((x||f)&&_)throw new id("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(b&&f)throw new id("Can't mix ordinal dates with month/day");const N=_||s.weekday&&!x;let I,O,T=Tg(c,d);N?(I=YW,O=ZW,T=Zy(T,o,l)):f?(I=XW,O=JW,T=Kw(T)):(I=RA,O=qA);let q=!1;for(const B of I){const F=s[B];un(F)?q?s[B]=O[B]:s[B]=T[B]:q=!0}const A=N?Iz(s,o,l):f?Cz(s):rA(s),D=A||iA(s);if(D)return ln.invalid(D);const L=N?RC(s,o,l):f?jC(s):s,[z,P]=ay(L,d,r),R=new ln({ts:z,zone:r,o:P,loc:i});return s.weekday&&x&&e.weekday!==R.weekday?ln.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${R.toISO()}`):R.isValid?R:ln.invalid(R.invalid)}static fromISO(e,n={}){const[r,i]=bW(e);return Vc(r,i,n,"ISO 8601",e)}static fromRFC2822(e,n={}){const[r,i]=xW(e);return Vc(r,i,n,"RFC 2822",e)}static fromHTTP(e,n={}){const[r,i]=wW(e);return Vc(r,i,n,"HTTP",n)}static fromFormat(e,n,r={}){if(un(e)||un(n))throw new _i("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:s=null}=r,o=zn.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0}),[l,c,d,f]=KW(o,e,n);return f?ln.invalid(f):Vc(l,c,r,`format ${n}`,e,d)}static fromString(e,n,r={}){return ln.fromFormat(e,n,r)}static fromSQL(e,n={}){const[r,i]=CW(e);return Vc(r,i,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new _i("need to specify a reason the DateTime is invalid");const r=e instanceof _o?e:new _o(e,n);if(Dr.throwOnInvalid)throw new ez(r);return new ln({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){const r=TA(e,zn.fromObject(n));return r?r.map(i=>i?i.val:null).join(""):null}static expandFormat(e,n={}){return kA(Ei.parseFormat(e),zn.fromObject(n)).map(i=>i.val).join("")}static resetCache(){ly=void 0,uy={}}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Jw(this).weekYear:NaN}get weekNumber(){return this.isValid?Jw(this).weekNumber:NaN}get weekday(){return this.isValid?Jw(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Yw(this).weekday:NaN}get localWeekNumber(){return this.isValid?Yw(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Yw(this).weekYear:NaN}get ordinal(){return this.isValid?Kw(this.c).ordinal:NaN}get monthShort(){return this.isValid?Ig.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Ig.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Ig.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Ig.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,n=6e4,r=sb(this.c),i=this.zone.offset(r-e),s=this.zone.offset(r+e),o=this.zone.offset(r-i*n),l=this.zone.offset(r-s*n);if(o===l)return[this];const c=r-o*n,d=r-l*n,f=Tg(c,o),h=Tg(d,l);return f.hour===h.hour&&f.minute===h.minute&&f.second===h.second&&f.millisecond===h.millisecond?[_u(this,{ts:c}),_u(this,{ts:d})]:[this]}get isInLeapYear(){return Wh(this.year)}get daysInMonth(){return Jy(this.year,this.month)}get daysInYear(){return this.isValid?gd(this.year):NaN}get weeksInWeekYear(){return this.isValid?eh(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?eh(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:n,numberingSystem:r,calendar:i}=Ei.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:r,outputCalendar:i}}toUTC(e=0,n={}){return this.setZone(Bi.instance(e),n)}toLocal(){return this.setZone(Dr.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(e=Sl(e,Dr.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(n||r){const s=e.offset(this.ts),o=this.toObject();[i]=ay(o,s,e)}return _u(this,{ts:i,zone:e})}else return ln.invalid(xp(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:r}={}){const i=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:r});return _u(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const n=Yy(e,HC),{minDaysInFirstWeek:r,startOfWeek:i}=AC(n,this.loc),s=!un(n.weekYear)||!un(n.weekNumber)||!un(n.weekday),o=!un(n.ordinal),l=!un(n.year),c=!un(n.month)||!un(n.day),d=l||c,f=n.weekYear||n.weekNumber;if((d||o)&&f)throw new id("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&o)throw new id("Can't mix ordinal dates with month/day");let h;s?h=RC({...Zy(this.c,r,i),...n},r,i):un(n.ordinal)?(h={...this.toObject(),...n},un(n.day)&&(h.day=Math.min(Jy(h.year,h.month),h.day))):h=jC({...Kw(this.c),...n});const[b,x]=ay(h,this.o,this.zone);return _u(this,{ts:b,o:x})}plus(e){if(!this.isValid)return this;const n=jn.fromDurationLike(e);return _u(this,UC(this,n))}minus(e){if(!this.isValid)return this;const n=jn.fromDurationLike(e).negate();return _u(this,UC(this,n))}startOf(e,{useLocaleWeeks:n=!1}={}){if(!this.isValid)return this;const r={},i=jn.normalizeUnit(e);switch(i){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(i==="weeks")if(n){const s=this.loc.getStartOfWeek(),{weekday:o}=this;o<s&&(r.weekNumber=this.weekNumber-1),r.weekday=s}else r.weekday=1;if(i==="quarters"){const s=Math.ceil(this.month/3);r.month=(s-1)*3+1}return this.set(r)}endOf(e,n){return this.isValid?this.plus({[e]:1}).startOf(e,n).minus(1):this}toFormat(e,n={}){return this.isValid?Ei.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):Zw}toLocaleString(e=Gy,n={}){return this.isValid?Ei.create(this.loc.clone(n),e).formatDateTime(this):Zw}toLocaleParts(e={}){return this.isValid?Ei.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:r=!1,includeOffset:i=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const o=e==="extended";let l=Xw(this,o);return l+="T",l+=VC(this,o,n,r,i,s),l}toISODate({format:e="extended"}={}){return this.isValid?Xw(this,e==="extended"):null}toISOWeekDate(){return Og(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:r=!0,includePrefix:i=!1,extendedZone:s=!1,format:o="extended"}={}){return this.isValid?(i?"T":"")+VC(this,o==="extended",n,e,r,s):null}toRFC2822(){return Og(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Og(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Xw(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:r=!0}={}){let i="HH:mm:ss.SSS";return(n||e)&&(r&&(i+=" "),n?i+="z":e&&(i+="ZZ")),Og(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Zw}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const n={...this.c};return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",r={}){if(!this.isValid||!e.isValid)return jn.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...r},s=qz(n).map(jn.normalizeUnit),o=e.valueOf()>this.valueOf(),l=o?this:e,c=o?e:this,d=PW(l,c,s,i);return o?d.negate():d}diffNow(e="milliseconds",n={}){return this.diff(ln.now(),e,n)}until(e){return this.isValid?Fr.fromDateTimes(this,e):this}hasSame(e,n,r){if(!this.isValid)return!1;const i=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(n,r)<=i&&i<=s.endOf(n,r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const n=e.base||ln.fromObject({},{zone:this.zone}),r=e.padding?this<n?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(i=e.unit,s=void 0),KC(n,this.plus(r),{...e,numeric:"always",units:i,unit:s})}toRelativeCalendar(e={}){return this.isValid?KC(e.base||ln.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(ln.isDateTime))throw new _i("min requires all arguments be DateTimes");return PC(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(ln.isDateTime))throw new _i("max requires all arguments be DateTimes");return PC(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,r={}){const{locale:i=null,numberingSystem:s=null}=r,o=zn.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return CA(o,e,n)}static fromStringExplain(e,n,r={}){return ln.fromFormatExplain(e,n,r)}static buildFormatParser(e,n={}){const{locale:r=null,numberingSystem:i=null}=n,s=zn.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0});return new IA(s,e)}static fromFormatParser(e,n,r={}){if(un(e)||un(n))throw new _i("fromFormatParser requires an input string and a format parser");const{locale:i=null,numberingSystem:s=null}=r,o=zn.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});if(!o.equals(n.locale))throw new _i(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${n.locale}`);const{result:l,zone:c,specificOffset:d,invalidReason:f}=n.explainFromTokens(e);return f?ln.invalid(f):Vc(l,c,r,`format ${n.format}`,e,d)}static get DATE_SHORT(){return Gy}static get DATE_MED(){return A3}static get DATE_MED_WITH_WEEKDAY(){return rz}static get DATE_FULL(){return P3}static get DATE_HUGE(){return F3}static get TIME_SIMPLE(){return D3}static get TIME_WITH_SECONDS(){return L3}static get TIME_WITH_SHORT_OFFSET(){return M3}static get TIME_WITH_LONG_OFFSET(){return $3}static get TIME_24_SIMPLE(){return B3}static get TIME_24_WITH_SECONDS(){return z3}static get TIME_24_WITH_SHORT_OFFSET(){return W3}static get TIME_24_WITH_LONG_OFFSET(){return U3}static get DATETIME_SHORT(){return V3}static get DATETIME_SHORT_WITH_SECONDS(){return H3}static get DATETIME_MED(){return Q3}static get DATETIME_MED_WITH_SECONDS(){return K3}static get DATETIME_MED_WITH_WEEKDAY(){return iz}static get DATETIME_FULL(){return G3}static get DATETIME_FULL_WITH_SECONDS(){return Z3}static get DATETIME_HUGE(){return J3}static get DATETIME_HUGE_WITH_SECONDS(){return Y3}}function sp(t){if(ln.isDateTime(t))return t;if(t&&t.valueOf&&ql(t.valueOf()))return ln.fromJSDate(t);if(t&&typeof t=="object")return ln.fromObject(t);throw new _i(`Unknown datetime argument: ${t}, of type ${typeof t}`)}function jA(t,e){return function(){return t.apply(e,arguments)}}const{toString:n6}=Object.prototype,{getPrototypeOf:p1}=Object,lb=(t=>e=>{const n=n6.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ro=t=>(t=t.toLowerCase(),e=>lb(e)===t),ub=t=>e=>typeof e===t,{isArray:ef}=Array,th=ub("undefined");function r6(t){return t!==null&&!th(t)&&t.constructor!==null&&!th(t.constructor)&&qs(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const AA=Ro("ArrayBuffer");function i6(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&AA(t.buffer),e}const s6=ub("string"),qs=ub("function"),PA=ub("number"),cb=t=>t!==null&&typeof t=="object",o6=t=>t===!0||t===!1,cy=t=>{if(lb(t)!=="object")return!1;const e=p1(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},a6=Ro("Date"),l6=Ro("File"),u6=Ro("Blob"),c6=Ro("FileList"),d6=t=>cb(t)&&qs(t.pipe),f6=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||qs(t.append)&&((e=lb(t))==="formdata"||e==="object"&&qs(t.toString)&&t.toString()==="[object FormData]"))},p6=Ro("URLSearchParams"),[h6,m6,g6,y6]=["ReadableStream","Request","Response","Headers"].map(Ro),v6=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Hh(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),ef(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let l;for(r=0;r<o;r++)l=s[r],e.call(null,t[l],l,t)}}function FA(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Pu=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,DA=t=>!th(t)&&t!==Pu;function VS(){const{caseless:t}=DA(this)&&this||{},e={},n=(r,i)=>{const s=t&&FA(e,i)||i;cy(e[s])&&cy(r)?e[s]=VS(e[s],r):cy(r)?e[s]=VS({},r):ef(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Hh(arguments[r],n);return e}const b6=(t,e,n,{allOwnKeys:r}={})=>(Hh(e,(i,s)=>{n&&qs(i)?t[s]=jA(i,n):t[s]=i},{allOwnKeys:r}),t),x6=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),w6=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},_6=(t,e,n,r)=>{let i,s,o;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&p1(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},S6=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},E6=t=>{if(!t)return null;if(ef(t))return t;let e=t.length;if(!PA(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},N6=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&p1(Uint8Array)),k6=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},I6=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},C6=Ro("HTMLFormElement"),T6=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),ZC=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),O6=Ro("RegExp"),LA=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Hh(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},q6=t=>{LA(t,(e,n)=>{if(qs(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(qs(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},R6=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return ef(t)?r(t):r(String(t).split(e)),n},j6=()=>{},A6=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,e_="abcdefghijklmnopqrstuvwxyz",JC="0123456789",MA={DIGIT:JC,ALPHA:e_,ALPHA_DIGIT:e_+e_.toUpperCase()+JC},P6=(t=16,e=MA.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function F6(t){return!!(t&&qs(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const D6=t=>{const e=new Array(10),n=(r,i)=>{if(cb(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=ef(r)?[]:{};return Hh(r,(o,l)=>{const c=n(o,i+1);!th(c)&&(s[l]=c)}),e[i]=void 0,s}}return r};return n(t,0)},L6=Ro("AsyncFunction"),M6=t=>t&&(cb(t)||qs(t))&&qs(t.then)&&qs(t.catch),$A=((t,e)=>t?setImmediate:e?((n,r)=>(Pu.addEventListener("message",({source:i,data:s})=>{i===Pu&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Pu.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",qs(Pu.postMessage)),$6=typeof queueMicrotask<"u"?queueMicrotask.bind(Pu):typeof process<"u"&&process.nextTick||$A,Ye={isArray:ef,isArrayBuffer:AA,isBuffer:r6,isFormData:f6,isArrayBufferView:i6,isString:s6,isNumber:PA,isBoolean:o6,isObject:cb,isPlainObject:cy,isReadableStream:h6,isRequest:m6,isResponse:g6,isHeaders:y6,isUndefined:th,isDate:a6,isFile:l6,isBlob:u6,isRegExp:O6,isFunction:qs,isStream:d6,isURLSearchParams:p6,isTypedArray:N6,isFileList:c6,forEach:Hh,merge:VS,extend:b6,trim:v6,stripBOM:x6,inherits:w6,toFlatObject:_6,kindOf:lb,kindOfTest:Ro,endsWith:S6,toArray:E6,forEachEntry:k6,matchAll:I6,isHTMLForm:C6,hasOwnProperty:ZC,hasOwnProp:ZC,reduceDescriptors:LA,freezeMethods:q6,toObjectSet:R6,toCamelCase:T6,noop:j6,toFiniteNumber:A6,findKey:FA,global:Pu,isContextDefined:DA,ALPHABET:MA,generateString:P6,isSpecCompliantForm:F6,toJSONObject:D6,isAsyncFn:L6,isThenable:M6,setImmediate:$A,asap:$6};function mn(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Ye.inherits(mn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ye.toJSONObject(this.config),code:this.code,status:this.status}}});const BA=mn.prototype,zA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{zA[t]={value:t}});Object.defineProperties(mn,zA);Object.defineProperty(BA,"isAxiosError",{value:!0});mn.from=(t,e,n,r,i,s)=>{const o=Object.create(BA);return Ye.toFlatObject(t,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),mn.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const B6=null;function HS(t){return Ye.isPlainObject(t)||Ye.isArray(t)}function WA(t){return Ye.endsWith(t,"[]")?t.slice(0,-2):t}function YC(t,e,n){return t?t.concat(e).map(function(i,s){return i=WA(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function z6(t){return Ye.isArray(t)&&!t.some(HS)}const W6=Ye.toFlatObject(Ye,{},null,function(e){return/^is[A-Z]/.test(e)});function db(t,e,n){if(!Ye.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Ye.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,I){return!Ye.isUndefined(I[N])});const r=n.metaTokens,i=n.visitor||f,s=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&Ye.isSpecCompliantForm(e);if(!Ye.isFunction(i))throw new TypeError("visitor must be a function");function d(_){if(_===null)return"";if(Ye.isDate(_))return _.toISOString();if(!c&&Ye.isBlob(_))throw new mn("Blob is not supported. Use a Buffer instead.");return Ye.isArrayBuffer(_)||Ye.isTypedArray(_)?c&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function f(_,N,I){let O=_;if(_&&!I&&typeof _=="object"){if(Ye.endsWith(N,"{}"))N=r?N:N.slice(0,-2),_=JSON.stringify(_);else if(Ye.isArray(_)&&z6(_)||(Ye.isFileList(_)||Ye.endsWith(N,"[]"))&&(O=Ye.toArray(_)))return N=WA(N),O.forEach(function(q,A){!(Ye.isUndefined(q)||q===null)&&e.append(o===!0?YC([N],A,s):o===null?N:N+"[]",d(q))}),!1}return HS(_)?!0:(e.append(YC(I,N,s),d(_)),!1)}const h=[],b=Object.assign(W6,{defaultVisitor:f,convertValue:d,isVisitable:HS});function x(_,N){if(!Ye.isUndefined(_)){if(h.indexOf(_)!==-1)throw Error("Circular reference detected in "+N.join("."));h.push(_),Ye.forEach(_,function(O,T){(!(Ye.isUndefined(O)||O===null)&&i.call(e,O,Ye.isString(T)?T.trim():T,N,b))===!0&&x(O,N?N.concat(T):[T])}),h.pop()}}if(!Ye.isObject(t))throw new TypeError("data must be an object");return x(t),e}function XC(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function h1(t,e){this._pairs=[],t&&db(t,this,e)}const UA=h1.prototype;UA.append=function(e,n){this._pairs.push([e,n])};UA.toString=function(e){const n=e?function(r){return e.call(this,r,XC)}:XC;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function U6(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function VA(t,e,n){if(!e)return t;const r=n&&n.encode||U6;Ye.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=Ye.isURLSearchParams(e)?e.toString():new h1(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class eT{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ye.forEach(this.handlers,function(r){r!==null&&e(r)})}}const HA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},V6=typeof URLSearchParams<"u"?URLSearchParams:h1,H6=typeof FormData<"u"?FormData:null,Q6=typeof Blob<"u"?Blob:null,K6={isBrowser:!0,classes:{URLSearchParams:V6,FormData:H6,Blob:Q6},protocols:["http","https","file","blob","url","data"]},m1=typeof window<"u"&&typeof document<"u",QS=typeof navigator=="object"&&navigator||void 0,G6=m1&&(!QS||["ReactNative","NativeScript","NS"].indexOf(QS.product)<0),Z6=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",J6=m1&&window.location.href||"http://localhost",Y6=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:m1,hasStandardBrowserEnv:G6,hasStandardBrowserWebWorkerEnv:Z6,navigator:QS,origin:J6},Symbol.toStringTag,{value:"Module"})),Ni={...Y6,...K6};function X6(t,e){return db(t,new Ni.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Ni.isNode&&Ye.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function eU(t){return Ye.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function tU(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function QA(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=s>=n.length;return o=!o&&Ye.isArray(i)?i.length:o,c?(Ye.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!l):((!i[o]||!Ye.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&Ye.isArray(i[o])&&(i[o]=tU(i[o])),!l)}if(Ye.isFormData(t)&&Ye.isFunction(t.entries)){const n={};return Ye.forEachEntry(t,(r,i)=>{e(eU(r),i,n,0)}),n}return null}function nU(t,e,n){if(Ye.isString(t))try{return(e||JSON.parse)(t),Ye.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Qh={transitional:HA,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=Ye.isObject(e);if(s&&Ye.isHTMLForm(e)&&(e=new FormData(e)),Ye.isFormData(e))return i?JSON.stringify(QA(e)):e;if(Ye.isArrayBuffer(e)||Ye.isBuffer(e)||Ye.isStream(e)||Ye.isFile(e)||Ye.isBlob(e)||Ye.isReadableStream(e))return e;if(Ye.isArrayBufferView(e))return e.buffer;if(Ye.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return X6(e,this.formSerializer).toString();if((l=Ye.isFileList(e))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return db(l?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),nU(e)):e}],transformResponse:[function(e){const n=this.transitional||Qh.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Ye.isResponse(e)||Ye.isReadableStream(e))return e;if(e&&Ye.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?mn.from(l,mn.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ni.classes.FormData,Blob:Ni.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ye.forEach(["delete","get","head","post","put","patch"],t=>{Qh.headers[t]={}});const rU=Ye.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),iU=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&rU[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},tT=Symbol("internals");function op(t){return t&&String(t).trim().toLowerCase()}function dy(t){return t===!1||t==null?t:Ye.isArray(t)?t.map(dy):String(t)}function sU(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const oU=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function t_(t,e,n,r,i){if(Ye.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!Ye.isString(e)){if(Ye.isString(r))return e.indexOf(r)!==-1;if(Ye.isRegExp(r))return r.test(e)}}function aU(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function lU(t,e){const n=Ye.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let us=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(l,c,d){const f=op(c);if(!f)throw new Error("header name must be a non-empty string");const h=Ye.findKey(i,f);(!h||i[h]===void 0||d===!0||d===void 0&&i[h]!==!1)&&(i[h||c]=dy(l))}const o=(l,c)=>Ye.forEach(l,(d,f)=>s(d,f,c));if(Ye.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(Ye.isString(e)&&(e=e.trim())&&!oU(e))o(iU(e),n);else if(Ye.isHeaders(e))for(const[l,c]of e.entries())s(c,l,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=op(e),e){const r=Ye.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return sU(i);if(Ye.isFunction(n))return n.call(this,i,r);if(Ye.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=op(e),e){const r=Ye.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||t_(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=op(o),o){const l=Ye.findKey(r,o);l&&(!n||t_(r,r[l],l,n))&&(delete r[l],i=!0)}}return Ye.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||t_(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return Ye.forEach(this,(i,s)=>{const o=Ye.findKey(r,s);if(o){n[o]=dy(i),delete n[s];return}const l=e?aU(s):String(s).trim();l!==s&&delete n[s],n[l]=dy(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Ye.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&Ye.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[tT]=this[tT]={accessors:{}}).accessors,i=this.prototype;function s(o){const l=op(o);r[l]||(lU(i,o),r[l]=!0)}return Ye.isArray(e)?e.forEach(s):s(e),this}};us.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ye.reduceDescriptors(us.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Ye.freezeMethods(us);function n_(t,e){const n=this||Qh,r=e||n,i=us.from(r.headers);let s=r.data;return Ye.forEach(t,function(l){s=l.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function KA(t){return!!(t&&t.__CANCEL__)}function tf(t,e,n){mn.call(this,t??"canceled",mn.ERR_CANCELED,e,n),this.name="CanceledError"}Ye.inherits(tf,mn,{__CANCEL__:!0});function GA(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new mn("Request failed with status code "+n.status,[mn.ERR_BAD_REQUEST,mn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function uU(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function cU(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),f=r[s];o||(o=d),n[i]=c,r[i]=d;let h=s,b=0;for(;h!==i;)b+=n[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),d-o<e)return;const x=f&&d-f;return x?Math.round(b*1e3/x):void 0}}function dU(t,e){let n=0,r=1e3/e,i,s;const o=(d,f=Date.now())=>{n=f,i=null,s&&(clearTimeout(s),s=null),t.apply(null,d)};return[(...d)=>{const f=Date.now(),h=f-n;h>=r?o(d,f):(i=d,s||(s=setTimeout(()=>{s=null,o(i)},r-h)))},()=>i&&o(i)]}const Xy=(t,e,n=3)=>{let r=0;const i=cU(50,250);return dU(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,c=o-r,d=i(c),f=o<=l;r=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:d||void 0,estimated:d&&l&&f?(l-o)/d:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(h)},n)},nT=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},rT=t=>(...e)=>Ye.asap(()=>t(...e)),fU=Ni.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Ni.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Ni.origin),Ni.navigator&&/(msie|trident)/i.test(Ni.navigator.userAgent)):()=>!0,pU=Ni.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];Ye.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Ye.isString(r)&&o.push("path="+r),Ye.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function hU(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function mU(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function ZA(t,e){return t&&!hU(e)?mU(t,e):e}const iT=t=>t instanceof us?{...t}:t;function Hu(t,e){e=e||{};const n={};function r(d,f,h,b){return Ye.isPlainObject(d)&&Ye.isPlainObject(f)?Ye.merge.call({caseless:b},d,f):Ye.isPlainObject(f)?Ye.merge({},f):Ye.isArray(f)?f.slice():f}function i(d,f,h,b){if(Ye.isUndefined(f)){if(!Ye.isUndefined(d))return r(void 0,d,h,b)}else return r(d,f,h,b)}function s(d,f){if(!Ye.isUndefined(f))return r(void 0,f)}function o(d,f){if(Ye.isUndefined(f)){if(!Ye.isUndefined(d))return r(void 0,d)}else return r(void 0,f)}function l(d,f,h){if(h in e)return r(d,f);if(h in t)return r(void 0,d)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,f,h)=>i(iT(d),iT(f),h,!0)};return Ye.forEach(Object.keys(Object.assign({},t,e)),function(f){const h=c[f]||i,b=h(t[f],e[f],f);Ye.isUndefined(b)&&h!==l||(n[f]=b)}),n}const JA=t=>{const e=Hu({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:l}=e;e.headers=o=us.from(o),e.url=VA(ZA(e.baseURL,e.url),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(Ye.isFormData(n)){if(Ni.hasStandardBrowserEnv||Ni.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[d,...f]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...f].join("; "))}}if(Ni.hasStandardBrowserEnv&&(r&&Ye.isFunction(r)&&(r=r(e)),r||r!==!1&&fU(e.url))){const d=i&&s&&pU.read(s);d&&o.set(i,d)}return e},gU=typeof XMLHttpRequest<"u",yU=gU&&function(t){return new Promise(function(n,r){const i=JA(t);let s=i.data;const o=us.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:d}=i,f,h,b,x,_;function N(){x&&x(),_&&_(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let I=new XMLHttpRequest;I.open(i.method.toUpperCase(),i.url,!0),I.timeout=i.timeout;function O(){if(!I)return;const q=us.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),D={data:!l||l==="text"||l==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:q,config:t,request:I};GA(function(z){n(z),N()},function(z){r(z),N()},D),I=null}"onloadend"in I?I.onloadend=O:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(O)},I.onabort=function(){I&&(r(new mn("Request aborted",mn.ECONNABORTED,t,I)),I=null)},I.onerror=function(){r(new mn("Network Error",mn.ERR_NETWORK,t,I)),I=null},I.ontimeout=function(){let A=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const D=i.transitional||HA;i.timeoutErrorMessage&&(A=i.timeoutErrorMessage),r(new mn(A,D.clarifyTimeoutError?mn.ETIMEDOUT:mn.ECONNABORTED,t,I)),I=null},s===void 0&&o.setContentType(null),"setRequestHeader"in I&&Ye.forEach(o.toJSON(),function(A,D){I.setRequestHeader(D,A)}),Ye.isUndefined(i.withCredentials)||(I.withCredentials=!!i.withCredentials),l&&l!=="json"&&(I.responseType=i.responseType),d&&([b,_]=Xy(d,!0),I.addEventListener("progress",b)),c&&I.upload&&([h,x]=Xy(c),I.upload.addEventListener("progress",h),I.upload.addEventListener("loadend",x)),(i.cancelToken||i.signal)&&(f=q=>{I&&(r(!q||q.type?new tf(null,t,I):q),I.abort(),I=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const T=uU(i.url);if(T&&Ni.protocols.indexOf(T)===-1){r(new mn("Unsupported protocol "+T+":",mn.ERR_BAD_REQUEST,t));return}I.send(s||null)})},vU=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(d){if(!i){i=!0,l();const f=d instanceof Error?d:this.reason;r.abort(f instanceof mn?f:new tf(f instanceof Error?f.message:f))}};let o=e&&setTimeout(()=>{o=null,s(new mn(`timeout ${e} of ms exceeded`,mn.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(s):d.removeEventListener("abort",s)}),t=null)};t.forEach(d=>d.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=()=>Ye.asap(l),c}},bU=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},xU=async function*(t,e){for await(const n of wU(t))yield*bU(n,e)},wU=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},sT=(t,e,n,r)=>{const i=xU(t,e);let s=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:d,value:f}=await i.next();if(d){l(),c.close();return}let h=f.byteLength;if(n){let b=s+=h;n(b)}c.enqueue(new Uint8Array(f))}catch(d){throw l(d),d}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},fb=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",YA=fb&&typeof ReadableStream=="function",_U=fb&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),XA=(t,...e)=>{try{return!!t(...e)}catch{return!1}},SU=YA&&XA(()=>{let t=!1;const e=new Request(Ni.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),oT=64*1024,KS=YA&&XA(()=>Ye.isReadableStream(new Response("").body)),ev={stream:KS&&(t=>t.body)};fb&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!ev[e]&&(ev[e]=Ye.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new mn(`Response type '${e}' is not supported`,mn.ERR_NOT_SUPPORT,r)})})})(new Response);const EU=async t=>{if(t==null)return 0;if(Ye.isBlob(t))return t.size;if(Ye.isSpecCompliantForm(t))return(await new Request(Ni.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Ye.isArrayBufferView(t)||Ye.isArrayBuffer(t))return t.byteLength;if(Ye.isURLSearchParams(t)&&(t=t+""),Ye.isString(t))return(await _U(t)).byteLength},NU=async(t,e)=>{const n=Ye.toFiniteNumber(t.getContentLength());return n??EU(e)},kU=fb&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:d,headers:f,withCredentials:h="same-origin",fetchOptions:b}=JA(t);d=d?(d+"").toLowerCase():"text";let x=vU([i,s&&s.toAbortSignal()],o),_;const N=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let I;try{if(c&&SU&&n!=="get"&&n!=="head"&&(I=await NU(f,r))!==0){let D=new Request(e,{method:"POST",body:r,duplex:"half"}),L;if(Ye.isFormData(r)&&(L=D.headers.get("content-type"))&&f.setContentType(L),D.body){const[z,P]=nT(I,Xy(rT(c)));r=sT(D.body,oT,z,P)}}Ye.isString(h)||(h=h?"include":"omit");const O="credentials"in Request.prototype;_=new Request(e,{...b,signal:x,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:O?h:void 0});let T=await fetch(_);const q=KS&&(d==="stream"||d==="response");if(KS&&(l||q&&N)){const D={};["status","statusText","headers"].forEach(R=>{D[R]=T[R]});const L=Ye.toFiniteNumber(T.headers.get("content-length")),[z,P]=l&&nT(L,Xy(rT(l),!0))||[];T=new Response(sT(T.body,oT,z,()=>{P&&P(),N&&N()}),D)}d=d||"text";let A=await ev[Ye.findKey(ev,d)||"text"](T,t);return!q&&N&&N(),await new Promise((D,L)=>{GA(D,L,{data:A,headers:us.from(T.headers),status:T.status,statusText:T.statusText,config:t,request:_})})}catch(O){throw N&&N(),O&&O.name==="TypeError"&&/fetch/i.test(O.message)?Object.assign(new mn("Network Error",mn.ERR_NETWORK,t,_),{cause:O.cause||O}):mn.from(O,O&&O.code,t,_)}}),GS={http:B6,xhr:yU,fetch:kU};Ye.forEach(GS,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const aT=t=>`- ${t}`,IU=t=>Ye.isFunction(t)||t===null||t===!1,eP={getAdapter:t=>{t=Ye.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!IU(n)&&(r=GS[(o=String(n)).toLowerCase()],r===void 0))throw new mn(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(aT).join(`
`):" "+aT(s[0]):"as no adapter specified";throw new mn("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:GS};function r_(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new tf(null,t)}function lT(t){return r_(t),t.headers=us.from(t.headers),t.data=n_.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),eP.getAdapter(t.adapter||Qh.adapter)(t).then(function(r){return r_(t),r.data=n_.call(t,t.transformResponse,r),r.headers=us.from(r.headers),r},function(r){return KA(r)||(r_(t),r&&r.response&&(r.response.data=n_.call(t,t.transformResponse,r.response),r.response.headers=us.from(r.response.headers))),Promise.reject(r)})}const tP="1.7.9",pb={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{pb[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const uT={};pb.transitional=function(e,n,r){function i(s,o){return"[Axios v"+tP+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,l)=>{if(e===!1)throw new mn(i(o," has been removed"+(n?" in "+n:"")),mn.ERR_DEPRECATED);return n&&!uT[o]&&(uT[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,l):!0}};pb.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function CU(t,e,n){if(typeof t!="object")throw new mn("options must be an object",mn.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const l=t[s],c=l===void 0||o(l,s,t);if(c!==!0)throw new mn("option "+s+" must be "+c,mn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new mn("Unknown option "+s,mn.ERR_BAD_OPTION)}}const fy={assertOptions:CU,validators:pb},Mo=fy.validators;let $u=class{constructor(e){this.defaults=e,this.interceptors={request:new eT,response:new eT}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Hu(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&fy.assertOptions(r,{silentJSONParsing:Mo.transitional(Mo.boolean),forcedJSONParsing:Mo.transitional(Mo.boolean),clarifyTimeoutError:Mo.transitional(Mo.boolean)},!1),i!=null&&(Ye.isFunction(i)?n.paramsSerializer={serialize:i}:fy.assertOptions(i,{encode:Mo.function,serialize:Mo.function},!0)),fy.assertOptions(n,{baseUrl:Mo.spelling("baseURL"),withXsrfToken:Mo.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&Ye.merge(s.common,s[n.method]);s&&Ye.forEach(["delete","get","head","post","put","patch","common"],_=>{delete s[_]}),n.headers=us.concat(o,s);const l=[];let c=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(n)===!1||(c=c&&N.synchronous,l.unshift(N.fulfilled,N.rejected))});const d=[];this.interceptors.response.forEach(function(N){d.push(N.fulfilled,N.rejected)});let f,h=0,b;if(!c){const _=[lT.bind(this),void 0];for(_.unshift.apply(_,l),_.push.apply(_,d),b=_.length,f=Promise.resolve(n);h<b;)f=f.then(_[h++],_[h++]);return f}b=l.length;let x=n;for(h=0;h<b;){const _=l[h++],N=l[h++];try{x=_(x)}catch(I){N.call(this,I);break}}try{f=lT.call(this,x)}catch(_){return Promise.reject(_)}for(h=0,b=d.length;h<b;)f=f.then(d[h++],d[h++]);return f}getUri(e){e=Hu(this.defaults,e);const n=ZA(e.baseURL,e.url);return VA(n,e.params,e.paramsSerializer)}};Ye.forEach(["delete","get","head","options"],function(e){$u.prototype[e]=function(n,r){return this.request(Hu(r||{},{method:e,url:n,data:(r||{}).data}))}});Ye.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,l){return this.request(Hu(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}$u.prototype[e]=n(),$u.prototype[e+"Form"]=n(!0)});let TU=class nP{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(l=>{r.subscribe(l),s=l}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,l){r.reason||(r.reason=new tf(s,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new nP(function(i){e=i}),cancel:e}}};function OU(t){return function(n){return t.apply(null,n)}}function qU(t){return Ye.isObject(t)&&t.isAxiosError===!0}const ZS={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ZS).forEach(([t,e])=>{ZS[e]=t});function rP(t){const e=new $u(t),n=jA($u.prototype.request,e);return Ye.extend(n,$u.prototype,e,{allOwnKeys:!0}),Ye.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return rP(Hu(t,i))},n}const Wr=rP(Qh);Wr.Axios=$u;Wr.CanceledError=tf;Wr.CancelToken=TU;Wr.isCancel=KA;Wr.VERSION=tP;Wr.toFormData=db;Wr.AxiosError=mn;Wr.Cancel=Wr.CanceledError;Wr.all=function(e){return Promise.all(e)};Wr.spread=OU;Wr.isAxiosError=qU;Wr.mergeConfig=Hu;Wr.AxiosHeaders=us;Wr.formToJSON=t=>QA(Ye.isHTMLForm(t)?new FormData(t):t);Wr.getAdapter=eP.getAdapter;Wr.HttpStatusCode=ZS;Wr.default=Wr;const{Axios:fae,AxiosError:RU,CanceledError:pae,isCancel:hae,CancelToken:mae,VERSION:gae,all:yae,Cancel:vae,isAxiosError:bae,spread:xae,toFormData:wae,AxiosHeaders:_ae,HttpStatusCode:Sae,formToJSON:Eae,getAdapter:Nae,mergeConfig:kae}=Wr,g1=({error:t,schema:e,onError:n})=>{if(t instanceof RU){const i=e.safeParse(t.response?.data);return i.success&&n({error:t,data:i.data}),i.success}return!1};var i_,cT;function jU(){if(cT)return i_;cT=1;function t(r){this.queue=[],this.timeslotRequests=0,this.interceptors={request:null,response:null},this.handleRequest=this.handleRequest.bind(this),this.handleResponse=this.handleResponse.bind(this),this.enable(r)}t.prototype.getMaxRPS=function(){var r=this.perMilliseconds/1e3;return this.maxRequests/r},t.prototype.getQueue=function(){return this.queue},t.prototype.setMaxRPS=function(r){this.setRateLimitOptions({maxRequests:r,perMilliseconds:1e3})},t.prototype.setRateLimitOptions=function(r){r.maxRPS?this.setMaxRPS(r.maxRPS):(this.perMilliseconds=r.perMilliseconds,this.maxRequests=r.maxRequests)},t.prototype.enable=function(r){function i(s){return Promise.reject(s)}this.interceptors.request=r.interceptors.request.use(this.handleRequest,i),this.interceptors.response=r.interceptors.response.use(this.handleResponse,i)};function e(r){r.cancelToken&&r.cancelToken.throwIfRequested()}t.prototype.handleRequest=function(r){return new Promise(function(i,s){this.push({resolve:function(){try{e(r)}catch(o){return s(o),!1}return i(r),!0}})}.bind(this))},t.prototype.handleResponse=function(r){return this.shift(),r},t.prototype.push=function(r){this.queue.push(r),this.shiftInitial()},t.prototype.shiftInitial=function(){setTimeout(function(){return this.shift()}.bind(this),0)},t.prototype.shift=function(){if(this.queue.length){if(this.timeslotRequests===this.maxRequests){this.timeoutId&&typeof this.timeoutId.ref=="function"&&this.timeoutId.ref();return}var r=this.queue.shift(),i=r.resolve();if(this.timeslotRequests===0&&(this.timeoutId=setTimeout(function(){this.timeslotRequests=0,this.shift()}.bind(this),this.perMilliseconds),typeof this.timeoutId.unref=="function"&&this.queue.length===0&&this.timeoutId.unref()),!i){this.shift();return}this.timeslotRequests+=1}};function n(r,i){var s=new t(r);return s.setRateLimitOptions(i),r.getQueue=t.prototype.getQueue.bind(s),r.getMaxRPS=t.prototype.getMaxRPS.bind(s),r.setMaxRPS=t.prototype.setMaxRPS.bind(s),r.setRateLimitOptions=t.prototype.setRateLimitOptions.bind(s),r}return i_=n,i_}var AU=jU();const PU=ro(AU),FU=({instance:t,limit:e}={})=>PU(t||Wr,e||{maxRequests:5,perMilliseconds:100}),y1="-",DU=t=>{const e=MU(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(y1);return l[0]===""&&l.length!==1&&l.shift(),iP(l,e)||LU(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},iP=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?iP(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(y1);return e.validators.find(({validator:o})=>o(s))?.classGroupId},dT=/^\[(.+)\]$/,LU=t=>{if(dT.test(t)){const e=dT.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},MU=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return BU(Object.entries(t.classGroups),n).forEach(([s,o])=>{JS(o,r,s,e)}),r},JS=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:fT(e,i);s.classGroupId=n;return}if(typeof i=="function"){if($U(i)){JS(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{JS(o,fT(e,s),n,r)})})},fT=(t,e)=>{let n=t;return e.split(y1).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},$U=t=>t.isThemeGetter,BU=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[e+o,l])):s);return[n,i]}):t,zU=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},sP="!",WU=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=l=>{const c=[];let d=0,f=0,h;for(let I=0;I<l.length;I++){let O=l[I];if(d===0){if(O===i&&(r||l.slice(I,I+s)===e)){c.push(l.slice(f,I)),f=I+s;continue}if(O==="/"){h=I;continue}}O==="["?d++:O==="]"&&d--}const b=c.length===0?l:l.substring(f),x=b.startsWith(sP),_=x?b.substring(1):b,N=h&&h>f?h-f:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:_,maybePostfixModifierPosition:N}};return n?l=>n({className:l,parseClassName:o}):o},UU=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},VU=t=>({cache:zU(t.cacheSize),parseClassName:WU(t),...DU(t)}),HU=/\s+/,QU=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(HU);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:f,hasImportantModifier:h,baseClassName:b,maybePostfixModifierPosition:x}=n(d);let _=!!x,N=r(_?b.substring(0,x):b);if(!N){if(!_){l=d+(l.length>0?" "+l:l);continue}if(N=r(b),!N){l=d+(l.length>0?" "+l:l);continue}_=!1}const I=UU(f).join(":"),O=h?I+sP:I,T=O+N;if(s.includes(T))continue;s.push(T);const q=i(N,_);for(let A=0;A<q.length;++A){const D=q[A];s.push(O+D)}l=d+(l.length>0?" "+l:l)}return l};function KU(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=oP(e))&&(r&&(r+=" "),r+=n);return r}const oP=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=oP(t[r]))&&(n&&(n+=" "),n+=e);return n};function GU(t,...e){let n,r,i,s=o;function o(c){const d=e.reduce((f,h)=>h(f),t());return n=VU(d),r=n.cache.get,i=n.cache.set,s=l,l(c)}function l(c){const d=r(c);if(d)return d;const f=QU(c,n);return i(c,f),f}return function(){return s(KU.apply(null,arguments))}}const cr=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},aP=/^\[(?:([a-z-]+):)?(.+)\]$/i,ZU=/^\d+\/\d+$/,JU=new Set(["px","full","screen"]),YU=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,XU=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,eV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,tV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,nV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ba=t=>vd(t)||JU.has(t)||ZU.test(t),fl=t=>nf(t,"length",cV),vd=t=>!!t&&!Number.isNaN(Number(t)),s_=t=>nf(t,"number",vd),ap=t=>!!t&&Number.isInteger(Number(t)),rV=t=>t.endsWith("%")&&vd(t.slice(0,-1)),vn=t=>aP.test(t),pl=t=>YU.test(t),iV=new Set(["length","size","percentage"]),sV=t=>nf(t,iV,lP),oV=t=>nf(t,"position",lP),aV=new Set(["image","url"]),lV=t=>nf(t,aV,fV),uV=t=>nf(t,"",dV),lp=()=>!0,nf=(t,e,n)=>{const r=aP.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},cV=t=>XU.test(t)&&!eV.test(t),lP=()=>!1,dV=t=>tV.test(t),fV=t=>nV.test(t),pV=()=>{const t=cr("colors"),e=cr("spacing"),n=cr("blur"),r=cr("brightness"),i=cr("borderColor"),s=cr("borderRadius"),o=cr("borderSpacing"),l=cr("borderWidth"),c=cr("contrast"),d=cr("grayscale"),f=cr("hueRotate"),h=cr("invert"),b=cr("gap"),x=cr("gradientColorStops"),_=cr("gradientColorStopPositions"),N=cr("inset"),I=cr("margin"),O=cr("opacity"),T=cr("padding"),q=cr("saturate"),A=cr("scale"),D=cr("sepia"),L=cr("skew"),z=cr("space"),P=cr("translate"),R=()=>["auto","contain","none"],B=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",vn,e],W=()=>[vn,e],U=()=>["",ba,fl],$=()=>["auto",vd,vn],ee=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],J=()=>["solid","dashed","dotted","double","none"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],se=()=>["start","end","center","between","around","evenly","stretch"],te=()=>["","0",vn],oe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[vd,vn];return{cacheSize:500,separator:":",theme:{colors:[lp],spacing:[ba,fl],blur:["none","",pl,vn],brightness:X(),borderColor:[t],borderRadius:["none","","full",pl,vn],borderSpacing:W(),borderWidth:U(),contrast:X(),grayscale:te(),hueRotate:X(),invert:te(),gap:W(),gradientColorStops:[t],gradientColorStopPositions:[rV,fl],inset:F(),margin:F(),opacity:X(),padding:W(),saturate:X(),scale:X(),sepia:te(),skew:X(),space:W(),translate:W()},classGroups:{aspect:[{aspect:["auto","square","video",vn]}],container:["container"],columns:[{columns:[pl]}],"break-after":[{"break-after":oe()}],"break-before":[{"break-before":oe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ee(),vn]}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[N]}],"inset-x":[{"inset-x":[N]}],"inset-y":[{"inset-y":[N]}],start:[{start:[N]}],end:[{end:[N]}],top:[{top:[N]}],right:[{right:[N]}],bottom:[{bottom:[N]}],left:[{left:[N]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ap,vn]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",vn]}],grow:[{grow:te()}],shrink:[{shrink:te()}],order:[{order:["first","last","none",ap,vn]}],"grid-cols":[{"grid-cols":[lp]}],"col-start-end":[{col:["auto",{span:["full",ap,vn]},vn]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[lp]}],"row-start-end":[{row:["auto",{span:[ap,vn]},vn]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",vn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",vn]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...se()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...se(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...se(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[T]}],px:[{px:[T]}],py:[{py:[T]}],ps:[{ps:[T]}],pe:[{pe:[T]}],pt:[{pt:[T]}],pr:[{pr:[T]}],pb:[{pb:[T]}],pl:[{pl:[T]}],m:[{m:[I]}],mx:[{mx:[I]}],my:[{my:[I]}],ms:[{ms:[I]}],me:[{me:[I]}],mt:[{mt:[I]}],mr:[{mr:[I]}],mb:[{mb:[I]}],ml:[{ml:[I]}],"space-x":[{"space-x":[z]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[z]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",vn,e]}],"min-w":[{"min-w":[vn,e,"min","max","fit"]}],"max-w":[{"max-w":[vn,e,"none","full","min","max","fit","prose",{screen:[pl]},pl]}],h:[{h:[vn,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[vn,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[vn,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[vn,e,"auto","min","max","fit"]}],"font-size":[{text:["base",pl,fl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",s_]}],"font-family":[{font:[lp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",vn]}],"line-clamp":[{"line-clamp":["none",vd,s_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ba,vn]}],"list-image":[{"list-image":["none",vn]}],"list-style-type":[{list:["none","disc","decimal",vn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[O]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[O]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...J(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ba,fl]}],"underline-offset":[{"underline-offset":["auto",ba,vn]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:W()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",vn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",vn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[O]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ee(),oV]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",sV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},lV]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[O]}],"border-style":[{border:[...J(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[O]}],"divide-style":[{divide:J()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...J()]}],"outline-offset":[{"outline-offset":[ba,vn]}],"outline-w":[{outline:[ba,fl]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[O]}],"ring-offset-w":[{"ring-offset":[ba,fl]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",pl,uV]}],"shadow-color":[{shadow:[lp]}],opacity:[{opacity:[O]}],"mix-blend":[{"mix-blend":[...le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",pl,vn]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[q]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[O]}],"backdrop-saturate":[{"backdrop-saturate":[q]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",vn]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",vn]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",vn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[ap,vn]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",vn]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",vn]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":W()}],"scroll-mx":[{"scroll-mx":W()}],"scroll-my":[{"scroll-my":W()}],"scroll-ms":[{"scroll-ms":W()}],"scroll-me":[{"scroll-me":W()}],"scroll-mt":[{"scroll-mt":W()}],"scroll-mr":[{"scroll-mr":W()}],"scroll-mb":[{"scroll-mb":W()}],"scroll-ml":[{"scroll-ml":W()}],"scroll-p":[{"scroll-p":W()}],"scroll-px":[{"scroll-px":W()}],"scroll-py":[{"scroll-py":W()}],"scroll-ps":[{"scroll-ps":W()}],"scroll-pe":[{"scroll-pe":W()}],"scroll-pt":[{"scroll-pt":W()}],"scroll-pr":[{"scroll-pr":W()}],"scroll-pb":[{"scroll-pb":W()}],"scroll-pl":[{"scroll-pl":W()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",vn]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ba,fl,s_]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},uP=GU(pV),YS=new Proxy(()=>YS,{get:()=>YS});function yn({use:t,slot:e,variant:n,match:r=[],defaults:i}){return({css:s,...o}={})=>({slots:new Proxy({},{get:(l,c)=>({css:d,...f}={})=>{const h=[],b=t,x={...b?.()?.config.defaults,...i,...o,...f};h.push(b?.(x)?.slots[c]?.(x)),h.push(Array.isArray(e[c])?e[c]:[e[c]]);for(const[_,N]of Object.entries(x)){const I=n[_]?.[N];I&&h.push(I)}for(const _ of r)Object.entries(_.if).every(([N,I])=>I===x[N])&&h.push(_.then?.[c]);return h.push(s?.[c]),h.push(d),uP(h)}}),config:{defaults:{...t?.()?.config.defaults,...i},values:{...t?.()?.config.defaults,...i,...o}},type:YS()})}const fi=uP;var o_,pT;function cP(){return pT||(pT=1,o_=Object),o_}var a_,hT;function hV(){return hT||(hT=1,a_=Error),a_}var l_,mT;function mV(){return mT||(mT=1,l_=EvalError),l_}var u_,gT;function gV(){return gT||(gT=1,u_=RangeError),u_}var c_,yT;function yV(){return yT||(yT=1,c_=ReferenceError),c_}var d_,vT;function vV(){return vT||(vT=1,d_=SyntaxError),d_}var f_,bT;function dP(){return bT||(bT=1,f_=TypeError),f_}var p_,xT;function bV(){return xT||(xT=1,p_=URIError),p_}var h_,wT;function xV(){return wT||(wT=1,h_=Math.abs),h_}var m_,_T;function wV(){return _T||(_T=1,m_=Math.floor),m_}var g_,ST;function _V(){return ST||(ST=1,g_=Math.max),g_}var y_,ET;function SV(){return ET||(ET=1,y_=Math.min),y_}var v_,NT;function EV(){return NT||(NT=1,v_=Math.pow),v_}var b_,kT;function NV(){return kT||(kT=1,b_=Math.round),b_}var x_,IT;function kV(){return IT||(IT=1,x_=Number.isNaN||function(e){return e!==e}),x_}var w_,CT;function IV(){if(CT)return w_;CT=1;var t=kV();return w_=function(n){return t(n)||n===0?n:n<0?-1:1},w_}var __,TT;function CV(){return TT||(TT=1,__=Object.getOwnPropertyDescriptor),__}var S_,OT;function fP(){if(OT)return S_;OT=1;var t=CV();if(t)try{t([],"length")}catch{t=null}return S_=t,S_}var E_,qT;function TV(){if(qT)return E_;qT=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return E_=t,E_}var N_,RT;function pP(){return RT||(RT=1,N_=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[n]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(e,n);if(l.value!==i||l.enumerable!==!0)return!1}return!0}),N_}var k_,jT;function OV(){if(jT)return k_;jT=1;var t=typeof Symbol<"u"&&Symbol,e=pP();return k_=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},k_}var I_,AT;function hP(){return AT||(AT=1,I_=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),I_}var C_,PT;function mP(){if(PT)return C_;PT=1;var t=cP();return C_=t.getPrototypeOf||null,C_}var T_,FT;function qV(){if(FT)return T_;FT=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,n=Math.max,r="[object Function]",i=function(c,d){for(var f=[],h=0;h<c.length;h+=1)f[h]=c[h];for(var b=0;b<d.length;b+=1)f[b+c.length]=d[b];return f},s=function(c,d){for(var f=[],h=d,b=0;h<c.length;h+=1,b+=1)f[b]=c[h];return f},o=function(l,c){for(var d="",f=0;f<l.length;f+=1)d+=l[f],f+1<l.length&&(d+=c);return d};return T_=function(c){var d=this;if(typeof d!="function"||e.apply(d)!==r)throw new TypeError(t+d);for(var f=s(arguments,1),h,b=function(){if(this instanceof h){var O=d.apply(this,i(f,arguments));return Object(O)===O?O:this}return d.apply(c,i(f,arguments))},x=n(0,d.length-f.length),_=[],N=0;N<x;N++)_[N]="$"+N;if(h=Function("binder","return function ("+o(_,",")+"){ return binder.apply(this,arguments); }")(b),d.prototype){var I=function(){};I.prototype=d.prototype,h.prototype=new I,I.prototype=null}return h},T_}var O_,DT;function hb(){if(DT)return O_;DT=1;var t=qV();return O_=Function.prototype.bind||t,O_}var q_,LT;function v1(){return LT||(LT=1,q_=Function.prototype.call),q_}var R_,MT;function gP(){return MT||(MT=1,R_=Function.prototype.apply),R_}var j_,$T;function RV(){return $T||($T=1,j_=typeof Reflect<"u"&&Reflect&&Reflect.apply),j_}var A_,BT;function jV(){if(BT)return A_;BT=1;var t=hb(),e=gP(),n=v1(),r=RV();return A_=r||t.call(n,e),A_}var P_,zT;function yP(){if(zT)return P_;zT=1;var t=hb(),e=dP(),n=v1(),r=jV();return P_=function(s){if(s.length<1||typeof s[0]!="function")throw new e("a function is required");return r(t,n,s)},P_}var F_,WT;function AV(){if(WT)return F_;WT=1;var t=yP(),e=fP(),n;try{n=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var r=!!n&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return F_=r&&typeof r.get=="function"?t([r.get]):typeof s=="function"?function(l){return s(l==null?l:i(l))}:!1,F_}var D_,UT;function PV(){if(UT)return D_;UT=1;var t=hP(),e=mP(),n=AV();return D_=t?function(i){return t(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:n?function(i){return n(i)}:null,D_}var L_,VT;function FV(){if(VT)return L_;VT=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,n=hb();return L_=n.call(t,e),L_}var M_,HT;function DV(){if(HT)return M_;HT=1;var t,e=cP(),n=hV(),r=mV(),i=gV(),s=yV(),o=vV(),l=dP(),c=bV(),d=xV(),f=wV(),h=_V(),b=SV(),x=EV(),_=NV(),N=IV(),I=Function,O=function(De){try{return I('"use strict"; return ('+De+").constructor;")()}catch{}},T=fP(),q=TV(),A=function(){throw new l},D=T?function(){try{return arguments.callee,A}catch{try{return T(arguments,"callee").get}catch{return A}}}():A,L=OV()(),z=PV(),P=mP(),R=hP(),B=gP(),F=v1(),W={},U=typeof Uint8Array>"u"||!z?t:z(Uint8Array),$={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":L&&z?z([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":W,"%AsyncGenerator%":W,"%AsyncGeneratorFunction%":W,"%AsyncIteratorPrototype%":W,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":r,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":I,"%GeneratorFunction%":W,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":L&&z?z(z([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!L||!z?t:z(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":T,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":i,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!L||!z?t:z(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":L&&z?z(""[Symbol.iterator]()):t,"%Symbol%":L?Symbol:t,"%SyntaxError%":o,"%ThrowTypeError%":D,"%TypedArray%":U,"%TypeError%":l,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":c,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":F,"%Function.prototype.apply%":B,"%Object.defineProperty%":q,"%Object.getPrototypeOf%":P,"%Math.abs%":d,"%Math.floor%":f,"%Math.max%":h,"%Math.min%":b,"%Math.pow%":x,"%Math.round%":_,"%Math.sign%":N,"%Reflect.getPrototypeOf%":R};if(z)try{null.error}catch(De){var ee=z(z(De));$["%Error.prototype%"]=ee}var J=function De(Ze){var Xe;if(Ze==="%AsyncFunction%")Xe=O("async function () {}");else if(Ze==="%GeneratorFunction%")Xe=O("function* () {}");else if(Ze==="%AsyncGeneratorFunction%")Xe=O("async function* () {}");else if(Ze==="%AsyncGenerator%"){var Ue=De("%AsyncGeneratorFunction%");Ue&&(Xe=Ue.prototype)}else if(Ze==="%AsyncIteratorPrototype%"){var ut=De("%AsyncGenerator%");ut&&z&&(Xe=z(ut.prototype))}return $[Ze]=Xe,Xe},le={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},se=hb(),te=FV(),oe=se.call(F,Array.prototype.concat),X=se.call(B,Array.prototype.splice),ce=se.call(F,String.prototype.replace),de=se.call(F,String.prototype.slice),ye=se.call(F,RegExp.prototype.exec),we=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ne=/\\(\\)?/g,ze=function(Ze){var Xe=de(Ze,0,1),Ue=de(Ze,-1);if(Xe==="%"&&Ue!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(Ue==="%"&&Xe!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var ut=[];return ce(Ze,we,function(_t,Tt,Wt,Xt){ut[ut.length]=Wt?ce(Xt,Ne,"$1"):Tt||_t}),ut},qe=function(Ze,Xe){var Ue=Ze,ut;if(te(le,Ue)&&(ut=le[Ue],Ue="%"+ut[0]+"%"),te($,Ue)){var _t=$[Ue];if(_t===W&&(_t=J(Ue)),typeof _t>"u"&&!Xe)throw new l("intrinsic "+Ze+" exists, but is not available. Please file an issue!");return{alias:ut,name:Ue,value:_t}}throw new o("intrinsic "+Ze+" does not exist!")};return M_=function(Ze,Xe){if(typeof Ze!="string"||Ze.length===0)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Xe!="boolean")throw new l('"allowMissing" argument must be a boolean');if(ye(/^%?[^%]*%?$/,Ze)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Ue=ze(Ze),ut=Ue.length>0?Ue[0]:"",_t=qe("%"+ut+"%",Xe),Tt=_t.name,Wt=_t.value,Xt=!1,xe=_t.alias;xe&&(ut=xe[0],X(Ue,oe([0,1],xe)));for(var ve=1,ke=!0;ve<Ue.length;ve+=1){var Ae=Ue[ve],Ve=de(Ae,0,1),rt=de(Ae,-1);if((Ve==='"'||Ve==="'"||Ve==="`"||rt==='"'||rt==="'"||rt==="`")&&Ve!==rt)throw new o("property names with quotes must have matching quotes");if((Ae==="constructor"||!ke)&&(Xt=!0),ut+="."+Ae,Tt="%"+ut+"%",te($,Tt))Wt=$[Tt];else if(Wt!=null){if(!(Ae in Wt)){if(!Xe)throw new l("base intrinsic for "+Ze+" exists, but the property is not available.");return}if(T&&ve+1>=Ue.length){var Me=T(Wt,Ae);ke=!!Me,ke&&"get"in Me&&!("originalValue"in Me.get)?Wt=Me.get:Wt=Wt[Ae]}else ke=te(Wt,Ae),Wt=Wt[Ae];ke&&!Xt&&($[Tt]=Wt)}}return Wt},M_}var $_,QT;function LV(){if(QT)return $_;QT=1;var t=DV(),e=yP(),n=e([t("%String.prototype.indexOf%")]);return $_=function(i,s){var o=t(i,!!s);return typeof o=="function"&&n(i,".prototype.")>-1?e([o]):o},$_}var B_,KT;function MV(){if(KT)return B_;KT=1;var t=pP();return B_=function(){return t()&&!!Symbol.toStringTag},B_}var z_,GT;function $V(){if(GT)return z_;GT=1;var t=LV(),e=t("String.prototype.valueOf"),n=function(l){try{return e(l),!0}catch{return!1}},r=t("Object.prototype.toString"),i="[object String]",s=MV()();return z_=function(l){return typeof l=="string"?!0:!l||typeof l!="object"?!1:s?n(l):r(l)===i},z_}var BV=$V();const zV=ro(BV),mb=t=>zV(t),WV=(t,e,n={})=>{const r=[];return t.filter((s,o)=>{const l=n.regionLowerCase?s.toLowerCase():s;if(e.includes(l))return r.push({index:o,appLocale:l}),!0;const{isAvailable:c,appLocale:d}=UV(l,e,n);return c&&r.push({index:o,appLocale:n.regionLowerCase?d.toLowerCase():d}),c}).map((s,o)=>!r||r.length===0?s:r[o]?.appLocale)},UV=(t,e,n={})=>{n?.languageOnly||(n.languageOnly=!1);let r=t;return{isAvailable:e.some(s=>{if(!py()&&!n.languageOnly&&t.split("-")[1]===void 0)return!1;const o=py()?new Intl.Locale(t).minimize().language:t.split("-")[0],l=py()?new Intl.Locale(s).minimize().language:s.split("-")[0],c=o===l;return c&&(r=s),c}),appLocale:r}},VV=(t={})=>{t?.regionLowerCase||(t.regionLowerCase=!1);let e=[];return Intl&&"DateTimeFormat"in Intl?e=[Intl.DateTimeFormat().resolvedOptions().locale]:typeof window=="object"&&window?.navigator?.languages&&(e=[...window.navigator.languages]),e.map(n=>t.regionLowerCase?n.toLowerCase():n)},py=()=>Intl&&"Locale"in Intl,HV=(t,e={})=>{e?.regionLowerCase||(e.regionLowerCase=!1),e?.languageOnly||(e.languageOnly=!1);const n=t.map(r=>{const i=r.split("-");if(e.languageOnly)return i[0];const s=py()?new Intl.Locale(r).maximize():{language:i[0],script:i.length===3?i[1]:void 0,region:i.length===3?i[2]:i[1]},{language:o,script:l}=s;let{region:c}=s;return e.regionLowerCase&&c&&(c=c.toLowerCase()),i.length>2?`${o}-${l}-${c}`:c?`${o}-${c}`:o});return[...new Set(n)]},QV=(t,e,n={})=>{n.regionLowerCase||(n.regionLowerCase=!1),n.languageOnly||(n.languageOnly=!1);const r=VV(n),i=HV([...r,t],n);return WV(i,e,n)[0]||t},KV=({available:t,fallback:e})=>QV(e,t,{languageOnly:!0});var W_={exports:{}};const GV={},ZV=Object.freeze(Object.defineProperty({__proto__:null,default:GV},Symbol.toStringTag,{value:"Module"})),ZT=h$(ZV);var JT;function JV(){return JT||(JT=1,function(t){(function(){var e="input is invalid type",n=typeof window=="object",r=n?window:{};r.JS_SHA256_NO_WINDOW&&(n=!1);var i=!n&&typeof self=="object",s=!r.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;s?r=qu:i&&(r=self);var o=!r.JS_SHA256_NO_COMMON_JS&&!0&&t.exports,l=!r.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",c="0123456789abcdef".split(""),d=[-0x80000000,8388608,32768,128],f=[24,16,8,0],h=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2],b=["hex","array","digest","arrayBuffer"],x=[];(r.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(L){return Object.prototype.toString.call(L)==="[object Array]"}),l&&(r.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(L){return typeof L=="object"&&L.buffer&&L.buffer.constructor===ArrayBuffer});var _=function(L,z){return function(P){return new q(z,!0).update(P)[L]()}},N=function(L){var z=_("hex",L);s&&(z=I(z,L)),z.create=function(){return new q(L)},z.update=function(B){return z.create().update(B)};for(var P=0;P<b.length;++P){var R=b[P];z[R]=_(R,L)}return z},I=function(L,z){var P=ZT,R=ZT.Buffer,B=z?"sha224":"sha256",F;R.from&&!r.JS_SHA256_NO_BUFFER_FROM?F=R.from:F=function(U){return new R(U)};var W=function(U){if(typeof U=="string")return P.createHash(B).update(U,"utf8").digest("hex");if(U==null)throw new Error(e);return U.constructor===ArrayBuffer&&(U=new Uint8Array(U)),Array.isArray(U)||ArrayBuffer.isView(U)||U.constructor===R?P.createHash(B).update(F(U)).digest("hex"):L(U)};return W},O=function(L,z){return function(P,R){return new A(P,z,!0).update(R)[L]()}},T=function(L){var z=O("hex",L);z.create=function(B){return new A(B,L)},z.update=function(B,F){return z.create(B).update(F)};for(var P=0;P<b.length;++P){var R=b[P];z[R]=O(R,L)}return z};function q(L,z){z?(x[0]=x[16]=x[1]=x[2]=x[3]=x[4]=x[5]=x[6]=x[7]=x[8]=x[9]=x[10]=x[11]=x[12]=x[13]=x[14]=x[15]=0,this.blocks=x):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],L?(this.h0=0xc1059ed8,this.h1=0x367cd507,this.h2=0x3070dd17,this.h3=0xf70e5939,this.h4=0xffc00b31,this.h5=0x68581511,this.h6=0x64f98fa7,this.h7=0xbefa4fa4):(this.h0=0x6a09e667,this.h1=0xbb67ae85,this.h2=0x3c6ef372,this.h3=0xa54ff53a,this.h4=0x510e527f,this.h5=0x9b05688c,this.h6=0x1f83d9ab,this.h7=0x5be0cd19),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=L}q.prototype.update=function(L){if(!this.finalized){var z,P=typeof L;if(P!=="string"){if(P==="object"){if(L===null)throw new Error(e);if(l&&L.constructor===ArrayBuffer)L=new Uint8Array(L);else if(!Array.isArray(L)&&(!l||!ArrayBuffer.isView(L)))throw new Error(e)}else throw new Error(e);z=!0}for(var R,B=0,F,W=L.length,U=this.blocks;B<W;){if(this.hashed&&(this.hashed=!1,U[0]=this.block,this.block=U[16]=U[1]=U[2]=U[3]=U[4]=U[5]=U[6]=U[7]=U[8]=U[9]=U[10]=U[11]=U[12]=U[13]=U[14]=U[15]=0),z)for(F=this.start;B<W&&F<64;++B)U[F>>>2]|=L[B]<<f[F++&3];else for(F=this.start;B<W&&F<64;++B)R=L.charCodeAt(B),R<128?U[F>>>2]|=R<<f[F++&3]:R<2048?(U[F>>>2]|=(192|R>>>6)<<f[F++&3],U[F>>>2]|=(128|R&63)<<f[F++&3]):R<55296||R>=57344?(U[F>>>2]|=(224|R>>>12)<<f[F++&3],U[F>>>2]|=(128|R>>>6&63)<<f[F++&3],U[F>>>2]|=(128|R&63)<<f[F++&3]):(R=65536+((R&1023)<<10|L.charCodeAt(++B)&1023),U[F>>>2]|=(240|R>>>18)<<f[F++&3],U[F>>>2]|=(128|R>>>12&63)<<f[F++&3],U[F>>>2]|=(128|R>>>6&63)<<f[F++&3],U[F>>>2]|=(128|R&63)<<f[F++&3]);this.lastByteIndex=F,this.bytes+=F-this.start,F>=64?(this.block=U[16],this.start=F-64,this.hash(),this.hashed=!0):this.start=F}return this.bytes>0xffffffff&&(this.hBytes+=this.bytes/0x100000000<<0,this.bytes=this.bytes%0x100000000),this}},q.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var L=this.blocks,z=this.lastByteIndex;L[16]=this.block,L[z>>>2]|=d[z&3],this.block=L[16],z>=56&&(this.hashed||this.hash(),L[0]=this.block,L[16]=L[1]=L[2]=L[3]=L[4]=L[5]=L[6]=L[7]=L[8]=L[9]=L[10]=L[11]=L[12]=L[13]=L[14]=L[15]=0),L[14]=this.hBytes<<3|this.bytes>>>29,L[15]=this.bytes<<3,this.hash()}},q.prototype.hash=function(){var L=this.h0,z=this.h1,P=this.h2,R=this.h3,B=this.h4,F=this.h5,W=this.h6,U=this.h7,$=this.blocks,ee,J,le,se,te,oe,X,ce,de,ye,we;for(ee=16;ee<64;++ee)te=$[ee-15],J=(te>>>7|te<<25)^(te>>>18|te<<14)^te>>>3,te=$[ee-2],le=(te>>>17|te<<15)^(te>>>19|te<<13)^te>>>10,$[ee]=$[ee-16]+J+$[ee-7]+le<<0;for(we=z&P,ee=0;ee<64;ee+=4)this.first?(this.is224?(ce=300032,te=$[0]-0x543c9a5b,U=te-0x8f1a6c7<<0,R=te+0x170e9b5<<0):(ce=0x2a01a605,te=$[0]-0xc881298,U=te-0x5ab00ac6<<0,R=te+0x8909ae5<<0),this.first=!1):(J=(L>>>2|L<<30)^(L>>>13|L<<19)^(L>>>22|L<<10),le=(B>>>6|B<<26)^(B>>>11|B<<21)^(B>>>25|B<<7),ce=L&z,se=ce^L&P^we,X=B&F^~B&W,te=U+le+X+h[ee]+$[ee],oe=J+se,U=R+te<<0,R=te+oe<<0),J=(R>>>2|R<<30)^(R>>>13|R<<19)^(R>>>22|R<<10),le=(U>>>6|U<<26)^(U>>>11|U<<21)^(U>>>25|U<<7),de=R&L,se=de^R&z^ce,X=U&B^~U&F,te=W+le+X+h[ee+1]+$[ee+1],oe=J+se,W=P+te<<0,P=te+oe<<0,J=(P>>>2|P<<30)^(P>>>13|P<<19)^(P>>>22|P<<10),le=(W>>>6|W<<26)^(W>>>11|W<<21)^(W>>>25|W<<7),ye=P&R,se=ye^P&L^de,X=W&U^~W&B,te=F+le+X+h[ee+2]+$[ee+2],oe=J+se,F=z+te<<0,z=te+oe<<0,J=(z>>>2|z<<30)^(z>>>13|z<<19)^(z>>>22|z<<10),le=(F>>>6|F<<26)^(F>>>11|F<<21)^(F>>>25|F<<7),we=z&P,se=we^z&R^ye,X=F&W^~F&U,te=B+le+X+h[ee+3]+$[ee+3],oe=J+se,B=L+te<<0,L=te+oe<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+L<<0,this.h1=this.h1+z<<0,this.h2=this.h2+P<<0,this.h3=this.h3+R<<0,this.h4=this.h4+B<<0,this.h5=this.h5+F<<0,this.h6=this.h6+W<<0,this.h7=this.h7+U<<0},q.prototype.hex=function(){this.finalize();var L=this.h0,z=this.h1,P=this.h2,R=this.h3,B=this.h4,F=this.h5,W=this.h6,U=this.h7,$=c[L>>>28&15]+c[L>>>24&15]+c[L>>>20&15]+c[L>>>16&15]+c[L>>>12&15]+c[L>>>8&15]+c[L>>>4&15]+c[L&15]+c[z>>>28&15]+c[z>>>24&15]+c[z>>>20&15]+c[z>>>16&15]+c[z>>>12&15]+c[z>>>8&15]+c[z>>>4&15]+c[z&15]+c[P>>>28&15]+c[P>>>24&15]+c[P>>>20&15]+c[P>>>16&15]+c[P>>>12&15]+c[P>>>8&15]+c[P>>>4&15]+c[P&15]+c[R>>>28&15]+c[R>>>24&15]+c[R>>>20&15]+c[R>>>16&15]+c[R>>>12&15]+c[R>>>8&15]+c[R>>>4&15]+c[R&15]+c[B>>>28&15]+c[B>>>24&15]+c[B>>>20&15]+c[B>>>16&15]+c[B>>>12&15]+c[B>>>8&15]+c[B>>>4&15]+c[B&15]+c[F>>>28&15]+c[F>>>24&15]+c[F>>>20&15]+c[F>>>16&15]+c[F>>>12&15]+c[F>>>8&15]+c[F>>>4&15]+c[F&15]+c[W>>>28&15]+c[W>>>24&15]+c[W>>>20&15]+c[W>>>16&15]+c[W>>>12&15]+c[W>>>8&15]+c[W>>>4&15]+c[W&15];return this.is224||($+=c[U>>>28&15]+c[U>>>24&15]+c[U>>>20&15]+c[U>>>16&15]+c[U>>>12&15]+c[U>>>8&15]+c[U>>>4&15]+c[U&15]),$},q.prototype.toString=q.prototype.hex,q.prototype.digest=function(){this.finalize();var L=this.h0,z=this.h1,P=this.h2,R=this.h3,B=this.h4,F=this.h5,W=this.h6,U=this.h7,$=[L>>>24&255,L>>>16&255,L>>>8&255,L&255,z>>>24&255,z>>>16&255,z>>>8&255,z&255,P>>>24&255,P>>>16&255,P>>>8&255,P&255,R>>>24&255,R>>>16&255,R>>>8&255,R&255,B>>>24&255,B>>>16&255,B>>>8&255,B&255,F>>>24&255,F>>>16&255,F>>>8&255,F&255,W>>>24&255,W>>>16&255,W>>>8&255,W&255];return this.is224||$.push(U>>>24&255,U>>>16&255,U>>>8&255,U&255),$},q.prototype.array=q.prototype.digest,q.prototype.arrayBuffer=function(){this.finalize();var L=new ArrayBuffer(this.is224?28:32),z=new DataView(L);return z.setUint32(0,this.h0),z.setUint32(4,this.h1),z.setUint32(8,this.h2),z.setUint32(12,this.h3),z.setUint32(16,this.h4),z.setUint32(20,this.h5),z.setUint32(24,this.h6),this.is224||z.setUint32(28,this.h7),L};function A(L,z,P){var R,B=typeof L;if(B==="string"){var F=[],W=L.length,U=0,$;for(R=0;R<W;++R)$=L.charCodeAt(R),$<128?F[U++]=$:$<2048?(F[U++]=192|$>>>6,F[U++]=128|$&63):$<55296||$>=57344?(F[U++]=224|$>>>12,F[U++]=128|$>>>6&63,F[U++]=128|$&63):($=65536+(($&1023)<<10|L.charCodeAt(++R)&1023),F[U++]=240|$>>>18,F[U++]=128|$>>>12&63,F[U++]=128|$>>>6&63,F[U++]=128|$&63);L=F}else if(B==="object"){if(L===null)throw new Error(e);if(l&&L.constructor===ArrayBuffer)L=new Uint8Array(L);else if(!Array.isArray(L)&&(!l||!ArrayBuffer.isView(L)))throw new Error(e)}else throw new Error(e);L.length>64&&(L=new q(z,!0).update(L).array());var ee=[],J=[];for(R=0;R<64;++R){var le=L[R]||0;ee[R]=92^le,J[R]=54^le}q.call(this,z,P),this.update(J),this.oKeyPad=ee,this.inner=!0,this.sharedMemory=P}A.prototype=new q,A.prototype.finalize=function(){if(q.prototype.finalize.call(this),this.inner){this.inner=!1;var L=this.array();q.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(L),q.prototype.finalize.call(this)}};var D=N();D.sha256=D,D.sha224=N(!0),D.sha256.hmac=T(),D.sha224.hmac=T(!0),o?t.exports=D:(r.sha256=D.sha256,r.sha224=D.sha224)})()}(W_)),W_.exports}var XS=JV();const YV=XS.sha224,vP=({index:t,key:e,fallback:n})=>t[YV(e)]?.value??t[e]?.value??n??e,XV=({index:t,key:e,fallback:n})=>vP({index:t,key:e,fallback:n}),e5=({index:t,key:e,fallback:n})=>vP({index:t,key:e,fallback:n}),Ml={index:{},push(t){this.index={...this.index,...t}},text:(t,e)=>XV({index:Ml.index,key:t,fallback:e}),rich:(t,e)=>e5({index:Ml.index,key:t,fallback:e})};function Rl(t){return typeof t>"u"||t===void 0}function js(t){return typeof t=="string"}function gb(t){return typeof t=="number"}function tv(t){return typeof t=="boolean"}function b1(t){return t===null}function t5(t){return t instanceof Date}function x1(t){return typeof t=="bigint"}function Ps(t){return typeof t=="function"}function zo(t){return typeof t=="object"&&t!==null}function Q(t){return Object.freeze(t)}function qg(t){return Fa(t)?t:[t]}function Fa(t){return Array.isArray(t)}function jl(t){return t}const Kn=Q({is(t){return t.kind==="AlterTableNode"},create(t){return Q({kind:"AlterTableNode",table:t})},cloneWithTableProps(t,e){return Q({...t,...e})},cloneWithColumnAlteration(t,e){return Q({...t,columnAlterations:t.columnAlterations?[...t.columnAlterations,e]:[e]})}}),yr=Q({is(t){return t.kind==="IdentifierNode"},create(t){return Q({kind:"IdentifierNode",name:t})}}),Ea=Q({is(t){return t.kind==="CreateIndexNode"},create(t){return Q({kind:"CreateIndexNode",name:yr.create(t)})},cloneWith(t,e){return Q({...t,...e})},cloneWithColumns(t,e){return Q({...t,columns:[...t.columns||[],...e]})}}),bP=Q({is(t){return t.kind==="CreateSchemaNode"},create(t,e){return Q({kind:"CreateSchemaNode",schema:yr.create(t),...e})},cloneWith(t,e){return Q({...t,...e})}}),n5=["preserve rows","delete rows","drop"],ws=Q({is(t){return t.kind==="CreateTableNode"},create(t){return Q({kind:"CreateTableNode",table:t,columns:Q([])})},cloneWithColumn(t,e){return Q({...t,columns:Q([...t.columns,e])})},cloneWithConstraint(t,e){return Q({...t,constraints:t.constraints?Q([...t.constraints,e]):Q([e])})},cloneWithFrontModifier(t,e){return Q({...t,frontModifiers:t.frontModifiers?Q([...t.frontModifiers,e]):Q([e])})},cloneWithEndModifier(t,e){return Q({...t,endModifiers:t.endModifiers?Q([...t.endModifiers,e]):Q([e])})},cloneWith(t,e){return Q({...t,...e})}}),$l=Q({is(t){return t.kind==="SchemableIdentifierNode"},create(t){return Q({kind:"SchemableIdentifierNode",identifier:yr.create(t)})},createWithSchema(t,e){return Q({kind:"SchemableIdentifierNode",schema:yr.create(t),identifier:yr.create(e)})}}),Mp=Q({is(t){return t.kind==="DropIndexNode"},create(t,e){return Q({kind:"DropIndexNode",name:$l.create(t),...e})},cloneWith(t,e){return Q({...t,...e})}}),eE=Q({is(t){return t.kind==="DropSchemaNode"},create(t,e){return Q({kind:"DropSchemaNode",schema:yr.create(t),...e})},cloneWith(t,e){return Q({...t,...e})}}),tE=Q({is(t){return t.kind==="DropTableNode"},create(t,e){return Q({kind:"DropTableNode",table:t,...e})},cloneWith(t,e){return Q({...t,...e})}}),Jl=Q({is(t){return t.kind==="AliasNode"},create(t,e){return Q({kind:"AliasNode",node:t,alias:e})}}),Al=Q({is(t){return t.kind==="TableNode"},create(t){return Q({kind:"TableNode",table:$l.create(t)})},createWithSchema(t,e){return Q({kind:"TableNode",table:$l.createWithSchema(t,e)})}});function fs(t){return zo(t)&&Ps(t.toOperationNode)}function r5(t){return zo(t)&&"expressionType"in t&&fs(t)}function i5(t){return zo(t)&&"expression"in t&&js(t.alias)&&fs(t)}const xa=Q({is(t){return t.kind==="SelectModifierNode"},create(t,e){return Q({kind:"SelectModifierNode",modifier:t,of:e})},createWithExpression(t){return Q({kind:"SelectModifierNode",rawModifier:t})}}),Bl=Q({is(t){return t.kind==="AndNode"},create(t,e){return Q({kind:"AndNode",left:t,right:e})}}),rf=Q({is(t){return t.kind==="OrNode"},create(t,e){return Q({kind:"OrNode",left:t,right:e})}}),U_=Q({is(t){return t.kind==="OnNode"},create(t){return Q({kind:"OnNode",on:t})},cloneWithOperation(t,e,n){return Q({...t,on:e==="And"?Bl.create(t.on,n):rf.create(t.on,n)})}}),$p=Q({is(t){return t.kind==="JoinNode"},create(t,e){return Q({kind:"JoinNode",joinType:t,table:e,on:void 0})},createWithOn(t,e,n){return Q({kind:"JoinNode",joinType:t,table:e,on:U_.create(n)})},cloneWithOn(t,e){return Q({...t,on:t.on?U_.cloneWithOperation(t.on,"And",e):U_.create(e)})}}),jd=Q({is(t){return t.kind==="BinaryOperationNode"},create(t,e,n){return Q({kind:"BinaryOperationNode",leftOperand:t,operator:e,rightOperand:n})}}),s5=["=","==","!=","<>",">",">=","<","<=","in","not in","is","is not","like","not like","match","ilike","not ilike","@>","<@","^@","&&","?","?&","?|","!<","!>","<=>","!~","~","~*","!~*","@@","@@@","!!","<->","regexp","is distinct from","is not distinct from"],o5=["+","-","*","/","%","^","&","|","#","<<",">>"],xP=["->","->>"],a5=[...s5,...o5,"&&","||"],l5=["exists","not exists"],u5=["not","-",...l5],c5=[...a5,...xP,...u5,"between","between symmetric"],zl=Q({is(t){return t.kind==="OperatorNode"},create(t){return Q({kind:"OperatorNode",operator:t})}});function YT(t){return js(t)&&xP.includes(t)}const Ur=Q({is(t){return t.kind==="ColumnNode"},create(t){return Q({kind:"ColumnNode",column:yr.create(t)})}}),w1=Q({is(t){return t.kind==="SelectAllNode"},create(){return Q({kind:"SelectAllNode"})}}),yb=Q({is(t){return t.kind==="ReferenceNode"},create(t,e){return Q({kind:"ReferenceNode",table:e,column:t})},createSelectAll(t){return Q({kind:"ReferenceNode",table:t,column:w1.create()})}});class d5{#e;get dynamicReference(){return this.#e}get refType(){}constructor(e){this.#e=e}toOperationNode(){return NP(this.#e)}}function wP(t){return zo(t)&&fs(t)&&js(t.dynamicReference)}const nE=Q({is(t){return t.kind==="OrderByItemNode"},create(t,e){return Q({kind:"OrderByItemNode",orderBy:t,direction:e})}}),Si=Q({is(t){return t.kind==="RawNode"},create(t,e){return Q({kind:"RawNode",sqlFragments:Q(t),parameters:Q(e)})},createWithSql(t){return Si.create([t],[])},createWithChild(t){return Si.create(["",""],[t])},createWithChildren(t){return Si.create(new Array(t.length+1).fill(""),t)}});function _P(t){return t==="asc"||t==="desc"}function Kh(t){if(t.length===2)return[V_(t[0],t[1])];if(t.length===1){const[e]=t;return Array.isArray(e)?e.map(n=>V_(n)):[V_(e)]}throw new Error(`Invalid number of arguments at order by! expected 1-2, received ${t.length}`)}function V_(t,e){const n=f5(t);if(nE.is(n)){if(e)throw new Error("Cannot specify direction twice!");return n}return nE.create(n,SP(e))}function f5(t){if(Xh(t))return oc(t);if(wP(t))return t.toOperationNode();const[e,n]=t.split(" ");if(n){if(!_P(n))throw new Error(`Invalid order by direction: ${n}`);return nE.create(Da(e),SP(n))}return Da(t)}function SP(t){if(t)return t==="asc"||t==="desc"?Si.createWithSql(t):t.toOperationNode()}const nv=Q({is(t){return t.kind==="JSONReferenceNode"},create(t,e){return Q({kind:"JSONReferenceNode",reference:t,traversal:e})},cloneWithTraversal(t,e){return Q({...t,traversal:e})}}),EP=Q({is(t){return t.kind==="JSONOperatorChainNode"},create(t){return Q({kind:"JSONOperatorChainNode",operator:t,values:Q([])})},cloneWithValue(t,e){return Q({...t,values:Q([...t.values,e])})}}),Bp=Q({is(t){return t.kind==="JSONPathNode"},create(t){return Q({kind:"JSONPathNode",inOperator:t,pathLegs:Q([])})},cloneWithLeg(t,e){return Q({...t,pathLegs:Q([...t.pathLegs,e])})}});function NP(t){return js(t)?Da(t):t.toOperationNode()}function nh(t){return Fa(t)?t.map(e=>Is(e)):[Is(t)]}function Is(t){return Xh(t)?oc(t):NP(t)}function p5(t,e){const n=Da(t);if(YT(e))return nv.create(n,EP.create(zl.create(e)));const r=e.slice(0,-1);if(YT(r))return nv.create(n,Bp.create(zl.create(r)));throw new Error(`Invalid JSON operator: ${e}`)}function Da(t){const e=".";if(!t.includes(e))return yb.create(Ur.create(t));const n=t.split(e).map(_1);if(n.length===3)return m5(n);if(n.length===2)return g5(n);throw new Error(`invalid column reference ${t}`)}function h5(t){const e=" as ";if(t.includes(e)){const[n,r]=t.split(e).map(_1);return Jl.create(Da(n),yr.create(r))}else return Da(t)}function kP(t){return Ur.create(t)}function rv(t){const e=" ";if(t.includes(e)){const[n,r]=t.split(e).map(_1);if(!_P(r))throw new Error(`invalid order direction "${r}" next to "${n}"`);return Kh([n,r])[0]}else return kP(t)}function m5(t){const[e,n,r]=t;return yb.create(Ur.create(r),Al.createWithSchema(e,n))}function g5(t){const[e,n]=t;return yb.create(Ur.create(n),Al.create(e))}function _1(t){return t.trim()}const IP=Q({is(t){return t.kind==="PrimitiveValueListNode"},create(t){return Q({kind:"PrimitiveValueListNode",values:Q([...t])})}}),S1=Q({is(t){return t.kind==="ValueListNode"},create(t){return Q({kind:"ValueListNode",values:Q(t)})}}),Jo=Q({is(t){return t.kind==="ValueNode"},create(t){return Q({kind:"ValueNode",value:t})},createImmediate(t){return Q({kind:"ValueNode",value:t,immediate:!0})}});function y5(t){return Fa(t)?v5(t):Gr(t)}function Gr(t){return Xh(t)?oc(t):Jo.create(t)}function E1(t){return gb(t)||tv(t)||b1(t)}function N1(t){if(!E1(t))throw new Error(`unsafe immediate value ${JSON.stringify(t)}`);return Jo.createImmediate(t)}function v5(t){return t.some(Xh)?S1.create(t.map(e=>Gr(e))):IP.create(t)}const Ad=Q({is(t){return t.kind==="ParensNode"},create(t){return Q({kind:"ParensNode",node:t})}});function pi(t){if(t.length===3)return k1(t[0],t[1],t[2]);if(t.length===1)return Gr(t[0]);throw new Error(`invalid arguments: ${JSON.stringify(t)}`)}function k1(t,e,n){return b5(e)&&CP(n)?jd.create(Is(t),rE(e),Jo.createImmediate(n)):jd.create(Is(t),rE(e),y5(n))}function Yo(t,e,n){return jd.create(Is(t),rE(e),Is(n))}function XT(t,e){return iv(Object.entries(t).filter(([,n])=>!Rl(n)).map(([n,r])=>k1(n,CP(r)?"is":"=",r)),e)}function iv(t,e,n=!0){const r=e==="and"?Bl.create:rf.create;if(t.length===0)return jd.create(Jo.createImmediate(1),zl.create("="),Jo.createImmediate(e==="and"?1:0));let i=eO(t[0]);for(let s=1;s<t.length;++s)i=r(i,eO(t[s]));return t.length>1&&n?Ad.create(i):i}function b5(t){return t==="is"||t==="is not"}function CP(t){return b1(t)||tv(t)}function rE(t){if(js(t)&&c5.includes(t))return zl.create(t);if(fs(t))return t.toOperationNode();throw new Error(`invalid operator ${JSON.stringify(t)}`)}function eO(t){return fs(t)?t.toOperationNode():t}const Wl=Q({is(t){return t.kind==="OrderByNode"},create(t){return Q({kind:"OrderByNode",items:Q([...t])})},cloneWithItems(t,e){return Q({...t,items:Q([...t.items,...e])})}}),tO=Q({is(t){return t.kind==="PartitionByNode"},create(t){return Q({kind:"PartitionByNode",items:Q(t)})},cloneWithItems(t,e){return Q({...t,items:Q([...t.items,...e])})}}),iE=Q({is(t){return t.kind==="OverNode"},create(){return Q({kind:"OverNode"})},cloneWithOrderByItems(t,e){return Q({...t,orderBy:t.orderBy?Wl.cloneWithItems(t.orderBy,e):Wl.create(e)})},cloneWithPartitionByItems(t,e){return Q({...t,partitionBy:t.partitionBy?tO.cloneWithItems(t.partitionBy,e):tO.create(e)})}}),sv=Q({is(t){return t.kind==="FromNode"},create(t){return Q({kind:"FromNode",froms:Q(t)})},cloneWithFroms(t,e){return Q({...t,froms:Q([...t.froms,...e])})}}),nO=Q({is(t){return t.kind==="GroupByNode"},create(t){return Q({kind:"GroupByNode",items:Q(t)})},cloneWithItems(t,e){return Q({...t,items:Q([...t.items,...e])})}}),rO=Q({is(t){return t.kind==="HavingNode"},create(t){return Q({kind:"HavingNode",having:t})},cloneWithOperation(t,e,n){return Q({...t,having:e==="And"?Bl.create(t.having,n):rf.create(t.having,n)})}}),Qn=Q({is(t){return t.kind==="SelectQueryNode"},create(t){return Q({kind:"SelectQueryNode",...t&&{with:t}})},createFrom(t,e){return Q({kind:"SelectQueryNode",from:sv.create(t),...e&&{with:e}})},cloneWithSelections(t,e){return Q({...t,selections:t.selections?Q([...t.selections,...e]):Q(e)})},cloneWithDistinctOn(t,e){return Q({...t,distinctOn:t.distinctOn?Q([...t.distinctOn,...e]):Q(e)})},cloneWithFrontModifier(t,e){return Q({...t,frontModifiers:t.frontModifiers?Q([...t.frontModifiers,e]):Q([e])})},cloneWithOrderByItems(t,e){return Q({...t,orderBy:t.orderBy?Wl.cloneWithItems(t.orderBy,e):Wl.create(e)})},cloneWithGroupByItems(t,e){return Q({...t,groupBy:t.groupBy?nO.cloneWithItems(t.groupBy,e):nO.create(e)})},cloneWithLimit(t,e){return Q({...t,limit:e})},cloneWithOffset(t,e){return Q({...t,offset:e})},cloneWithFetch(t,e){return Q({...t,fetch:e})},cloneWithHaving(t,e){return Q({...t,having:t.having?rO.cloneWithOperation(t.having,"And",e):rO.create(e)})},cloneWithSetOperations(t,e){return Q({...t,setOperations:t.setOperations?Q([...t.setOperations,...e]):Q([...e])})},cloneWithoutSelections(t){return Q({...t,selections:[]})},cloneWithoutLimit(t){return Q({...t,limit:void 0})},cloneWithoutOffset(t){return Q({...t,offset:void 0})},cloneWithoutOrderBy(t){return Q({...t,orderBy:void 0})},cloneWithoutGroupBy(t){return Q({...t,groupBy:void 0})}});function bn(t,e){Object.defineProperties(t.prototype,{then:{enumerable:!1,value:()=>{throw new Error(e)}}})}class bd{#e;constructor(e){this.#e=Q(e)}on(...e){return new bd({...this.#e,joinNode:$p.cloneWithOn(this.#e.joinNode,pi(e))})}onRef(e,n,r){return new bd({...this.#e,joinNode:$p.cloneWithOn(this.#e.joinNode,Yo(e,n,r))})}onTrue(){return new bd({...this.#e,joinNode:$p.cloneWithOn(this.#e.joinNode,Si.createWithSql("true"))})}$call(e){return e(this)}toOperationNode(){return this.#e.joinNode}}bn(bd,"don't await JoinBuilder instances. They are never executed directly and are always just a part of a query.");const x5=Q({is(t){return t.kind==="PartitionByItemNode"},create(t){return Q({kind:"PartitionByItemNode",partitionBy:t})}});function w5(t){return nh(t).map(x5.create)}class rh{#e;constructor(e){this.#e=Q(e)}orderBy(e,n){return new rh({overNode:iE.cloneWithOrderByItems(this.#e.overNode,Kh([e,n]))})}partitionBy(e){return new rh({overNode:iE.cloneWithPartitionByItems(this.#e.overNode,w5(e))})}$call(e){return e(this)}toOperationNode(){return this.#e.overNode}}bn(rh,"don't await OverBuilder instances. They are never executed directly and are always just a part of a query.");const zp=Q({is(t){return t.kind==="SelectionNode"},create(t){return Q({kind:"SelectionNode",selection:t})},createSelectAll(){return Q({kind:"SelectionNode",selection:w1.create()})},createSelectAllFromTable(t){return Q({kind:"SelectionNode",selection:yb.createSelectAll(t)})}});function Io(t){return Ps(t)?Io(t(of())):Fa(t)?t.map(e=>iO(e)):[iO(t)]}function iO(t){return js(t)?zp.create(h5(t)):wP(t)?zp.create(t.toOperationNode()):zp.create(BP(t))}function Xo(t){return t?Array.isArray(t)?t.map(sO):[sO(t)]:[zp.createSelectAll()]}function sO(t){if(js(t))return zp.createSelectAllFromTable(Br(t));throw new Error(`invalid value selectAll expression: ${JSON.stringify(t)}`)}const _5=Q({is(t){return t.kind==="ValuesNode"},create(t){return Q({kind:"ValuesNode",values:Q(t)})}}),S5=Q({is(t){return t.kind==="DefaultInsertValueNode"},create(){return Q({kind:"DefaultInsertValueNode"})}});function TP(t){const e=Ps(t)?t(of()):t,n=Fa(e)?e:Q([e]);return E5(n)}function E5(t){const e=N5(t);return[Q([...e.keys()].map(Ur.create)),_5.create(t.map(n=>k5(n,e)))]}function N5(t){const e=new Map;for(const n of t){const r=Object.keys(n);for(const i of r)!e.has(i)&&n[i]!==void 0&&e.set(i,e.size)}return e}function k5(t,e){const n=Object.keys(t),r=Array.from({length:e.size});let i=!1;for(const o of n){const l=e.get(o);if(Rl(l))continue;const c=t[o];(Rl(c)||Xh(c))&&(i=!0),r[l]=c}if(n.length<e.size||i){const o=S5.create();return S1.create(r.map(l=>Rl(l)?o:Gr(l)))}return IP.create(r)}const Es=Q({is(t){return t.kind==="InsertQueryNode"},create(t,e,n){return Q({kind:"InsertQueryNode",into:t,...e&&{with:e},replace:n})},createWithoutInto(){return Q({kind:"InsertQueryNode"})},cloneWith(t,e){return Q({...t,...e})}}),xd=Q({is(t){return t.kind==="UpdateQueryNode"},create(t,e){return Q({kind:"UpdateQueryNode",table:t,...e&&{with:e}})},createWithoutTable(){return Q({kind:"UpdateQueryNode"})},cloneWithFromItems(t,e){return Q({...t,from:t.from?sv.cloneWithFroms(t.from,e):sv.create(e)})},cloneWithUpdates(t,e){return Q({...t,updates:t.updates?Q([...t.updates,...e]):e})},cloneWithLimit(t,e){return Q({...t,limit:e})}}),oO=Q({is(t){return t.kind==="UsingNode"},create(t){return Q({kind:"UsingNode",tables:Q(t)})},cloneWithTables(t,e){return Q({...t,tables:Q([...t.tables,...e])})}}),Cu=Q({is(t){return t.kind==="DeleteQueryNode"},create(t,e){return Q({kind:"DeleteQueryNode",from:sv.create(t),...e&&{with:e}})},cloneWithOrderByItems(t,e){return Q({...t,orderBy:t.orderBy?Wl.cloneWithItems(t.orderBy,e):Wl.create(e)})},cloneWithoutOrderBy(t){return Q({...t,orderBy:void 0})},cloneWithLimit(t,e){return Q({...t,limit:e})},cloneWithoutLimit(t){return Q({...t,limit:void 0})},cloneWithUsing(t,e){return Q({...t,using:t.using!==void 0?oO.cloneWithTables(t.using,e):oO.create(e)})}}),os=Q({is(t){return t.kind==="WhereNode"},create(t){return Q({kind:"WhereNode",where:t})},cloneWithOperation(t,e,n){return Q({...t,where:e==="And"?Bl.create(t.where,n):rf.create(t.where,n)})}}),aO=Q({is(t){return t.kind==="ReturningNode"},create(t){return Q({kind:"ReturningNode",selections:Q(t)})},cloneWithSelections(t,e){return Q({...t,selections:t.selections?Q([...t.selections,...e]):Q(e)})}}),I5=Q({is(t){return t.kind==="ExplainNode"},create(t,e){return Q({kind:"ExplainNode",format:t,options:e})}}),Gh=Q({is(t){return t.kind==="WhenNode"},create(t){return Q({kind:"WhenNode",condition:t})},cloneWithResult(t,e){return Q({...t,result:e})}}),as=Q({is(t){return t.kind==="MergeQueryNode"},create(t,e){return Q({kind:"MergeQueryNode",into:t,...e&&{with:e}})},cloneWithUsing(t,e){return Q({...t,using:e})},cloneWithWhen(t,e){return Q({...t,whens:t.whens?Q([...t.whens,e]):Q([e])})},cloneWithThen(t,e){return Q({...t,whens:t.whens?Q([...t.whens.slice(0,-1),Gh.cloneWithResult(t.whens[t.whens.length-1],e)]):void 0})}}),lO=Q({is(t){return t.kind==="OutputNode"},create(t){return Q({kind:"OutputNode",selections:Q(t)})},cloneWithSelections(t,e){return Q({...t,selections:t.selections?Q([...t.selections,...e]):Q(e)})}}),At=Q({is(t){return Qn.is(t)||Es.is(t)||xd.is(t)||Cu.is(t)||as.is(t)},cloneWithEndModifier(t,e){return Q({...t,endModifiers:t.endModifiers?Q([...t.endModifiers,e]):Q([e])})},cloneWithWhere(t,e){return Q({...t,where:t.where?os.cloneWithOperation(t.where,"And",e):os.create(e)})},cloneWithJoin(t,e){return Q({...t,joins:t.joins?Q([...t.joins,e]):Q([e])})},cloneWithReturning(t,e){return Q({...t,returning:t.returning?aO.cloneWithSelections(t.returning,e):aO.create(e)})},cloneWithoutReturning(t){return Q({...t,returning:void 0})},cloneWithoutWhere(t){return Q({...t,where:void 0})},cloneWithExplain(t,e,n){return Q({...t,explain:I5.create(e,n?.toOperationNode())})},cloneWithTop(t,e){return Q({...t,top:e})},cloneWithOutput(t,e){return Q({...t,output:t.output?lO.cloneWithSelections(t.output,e):lO.create(e)})}}),OP=Q({is(t){return t.kind==="ColumnUpdateNode"},create(t,e){return Q({kind:"ColumnUpdateNode",column:t,value:e})}});function C5(...t){return t.length===2?[OP.create(Is(t[0]),Gr(t[1]))]:I1(t[0])}function I1(t){const e=Ps(t)?t(of()):t;return Object.entries(e).filter(([n,r])=>r!==void 0).map(([n,r])=>OP.create(Ur.create(n),Gr(r)))}const T5=Q({is(t){return t.kind==="OnDuplicateKeyNode"},create(t){return Q({kind:"OnDuplicateKeyNode",updates:t})}});class O5{insertId;numInsertedOrUpdatedRows;constructor(e,n){this.insertId=e,this.numInsertedOrUpdatedRows=n}}class Zh extends Error{node;constructor(e){super("no result"),this.node=e}}function Jh(t){return Object.prototype.hasOwnProperty.call(t,"prototype")}const _s=Q({is(t){return t.kind==="OnConflictNode"},create(){return Q({kind:"OnConflictNode"})},cloneWith(t,e){return Q({...t,...e})},cloneWithIndexWhere(t,e){return Q({...t,indexWhere:t.indexWhere?os.cloneWithOperation(t.indexWhere,"And",e):os.create(e)})},cloneWithIndexOrWhere(t,e){return Q({...t,indexWhere:t.indexWhere?os.cloneWithOperation(t.indexWhere,"Or",e):os.create(e)})},cloneWithUpdateWhere(t,e){return Q({...t,updateWhere:t.updateWhere?os.cloneWithOperation(t.updateWhere,"And",e):os.create(e)})},cloneWithUpdateOrWhere(t,e){return Q({...t,updateWhere:t.updateWhere?os.cloneWithOperation(t.updateWhere,"Or",e):os.create(e)})},cloneWithoutIndexWhere(t){return Q({...t,indexWhere:void 0})},cloneWithoutUpdateWhere(t){return Q({...t,updateWhere:void 0})}});class Bo{#e;constructor(e){this.#e=Q(e)}column(e){const n=Ur.create(e);return new Bo({...this.#e,onConflictNode:_s.cloneWith(this.#e.onConflictNode,{columns:this.#e.onConflictNode.columns?Q([...this.#e.onConflictNode.columns,n]):Q([n])})})}columns(e){const n=e.map(Ur.create);return new Bo({...this.#e,onConflictNode:_s.cloneWith(this.#e.onConflictNode,{columns:this.#e.onConflictNode.columns?Q([...this.#e.onConflictNode.columns,...n]):Q(n)})})}constraint(e){return new Bo({...this.#e,onConflictNode:_s.cloneWith(this.#e.onConflictNode,{constraint:yr.create(e)})})}expression(e){return new Bo({...this.#e,onConflictNode:_s.cloneWith(this.#e.onConflictNode,{indexExpression:e.toOperationNode()})})}where(...e){return new Bo({...this.#e,onConflictNode:_s.cloneWithIndexWhere(this.#e.onConflictNode,pi(e))})}whereRef(e,n,r){return new Bo({...this.#e,onConflictNode:_s.cloneWithIndexWhere(this.#e.onConflictNode,Yo(e,n,r))})}clearWhere(){return new Bo({...this.#e,onConflictNode:_s.cloneWithoutIndexWhere(this.#e.onConflictNode)})}doNothing(){return new qP({...this.#e,onConflictNode:_s.cloneWith(this.#e.onConflictNode,{doNothing:!0})})}doUpdateSet(e){return new wd({...this.#e,onConflictNode:_s.cloneWith(this.#e.onConflictNode,{updates:I1(e)})})}$call(e){return e(this)}}bn(Bo,"don't await OnConflictBuilder instances.");class qP{#e;constructor(e){this.#e=Q(e)}toOperationNode(){return this.#e.onConflictNode}}bn(qP,"don't await OnConflictDoNothingBuilder instances.");class wd{#e;constructor(e){this.#e=Q(e)}where(...e){return new wd({...this.#e,onConflictNode:_s.cloneWithUpdateWhere(this.#e.onConflictNode,pi(e))})}whereRef(e,n,r){return new wd({...this.#e,onConflictNode:_s.cloneWithUpdateWhere(this.#e.onConflictNode,Yo(e,n,r))})}clearWhere(){return new wd({...this.#e,onConflictNode:_s.cloneWithoutUpdateWhere(this.#e.onConflictNode)})}$call(e){return e(this)}toOperationNode(){return this.#e.onConflictNode}}bn(wd,"don't await OnConflictUpdateBuilder instances.");const q5=Q({is(t){return t.kind==="TopNode"},create(t,e){return Q({kind:"TopNode",expression:t,modifiers:e})}});function sf(t,e){if(!gb(t)&&!x1(t))throw new Error(`Invalid top expression: ${t}`);if(!Rl(e)&&!R5(e))throw new Error(`Invalid top modifiers: ${e}`);return q5.create(t,e)}function R5(t){return t==="percent"||t==="with ties"||t==="percent with ties"}class hr{#e;constructor(e){this.#e=Q(e)}values(e){const[n,r]=TP(e);return new hr({...this.#e,queryNode:Es.cloneWith(this.#e.queryNode,{columns:n,values:r})})}columns(e){return new hr({...this.#e,queryNode:Es.cloneWith(this.#e.queryNode,{columns:Q(e.map(Ur.create))})})}expression(e){return new hr({...this.#e,queryNode:Es.cloneWith(this.#e.queryNode,{values:oc(e)})})}defaultValues(){return new hr({...this.#e,queryNode:Es.cloneWith(this.#e.queryNode,{defaultValues:!0})})}modifyEnd(e){return new hr({...this.#e,queryNode:At.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}ignore(){return new hr({...this.#e,queryNode:Es.cloneWith(this.#e.queryNode,{ignore:!0})})}top(e,n){return new hr({...this.#e,queryNode:At.cloneWithTop(this.#e.queryNode,sf(e,n))})}onConflict(e){return new hr({...this.#e,queryNode:Es.cloneWith(this.#e.queryNode,{onConflict:e(new Bo({onConflictNode:_s.create()})).toOperationNode()})})}onDuplicateKeyUpdate(e){return new hr({...this.#e,queryNode:Es.cloneWith(this.#e.queryNode,{onDuplicateKey:T5.create(I1(e))})})}returning(e){return new hr({...this.#e,queryNode:At.cloneWithReturning(this.#e.queryNode,Io(e))})}returningAll(){return new hr({...this.#e,queryNode:At.cloneWithReturning(this.#e.queryNode,Xo())})}output(e){return new hr({...this.#e,queryNode:At.cloneWithOutput(this.#e.queryNode,Io(e))})}outputAll(e){return new hr({...this.#e,queryNode:At.cloneWithOutput(this.#e.queryNode,Xo(e))})}clearReturning(){return new hr({...this.#e,queryNode:At.cloneWithoutReturning(this.#e.queryNode)})}$call(e){return e(this)}$if(e,n){return e?n(this):new hr({...this.#e})}$castTo(){return new hr(this.#e)}$narrowType(){return new hr(this.#e)}$assertType(){return new hr(this.#e)}withPlugin(e){return new hr({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),n=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:r}=this.#e.executor,i=e.query;return i.returning&&r.supportsReturning||i.output&&r.supportsOutput?n.rows:[new O5(n.insertId,n.numAffectedRows??n.numUpdatedOrDeletedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Zh){const n=await this.executeTakeFirst();if(n===void 0)throw Jh(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async *stream(e=100){const n=this.compile(),r=this.#e.executor.stream(n,e,this.#e.queryId);for await(const i of r)yield*i.rows}async explain(e,n){return await new hr({...this.#e,queryNode:At.cloneWithExplain(this.#e.queryNode,e,n)}).execute()}}bn(hr,"don't await InsertQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class j5{numDeletedRows;constructor(e){this.numDeletedRows=e}}const C1=Q({is(t){return t.kind==="LimitNode"},create(t){return Q({kind:"LimitNode",limit:t})}});class Hn{#e;constructor(e){this.#e=Q(e)}where(...e){return new Hn({...this.#e,queryNode:At.cloneWithWhere(this.#e.queryNode,pi(e))})}whereRef(e,n,r){return new Hn({...this.#e,queryNode:At.cloneWithWhere(this.#e.queryNode,Yo(e,n,r))})}clearWhere(){return new Hn({...this.#e,queryNode:At.cloneWithoutWhere(this.#e.queryNode)})}top(e,n){return new Hn({...this.#e,queryNode:At.cloneWithTop(this.#e.queryNode,sf(e,n))})}using(e){return new Hn({...this.#e,queryNode:Cu.cloneWithUsing(this.#e.queryNode,oh(e))})}innerJoin(...e){return new Hn({...this.#e,queryNode:At.cloneWithJoin(this.#e.queryNode,Li("InnerJoin",e))})}leftJoin(...e){return new Hn({...this.#e,queryNode:At.cloneWithJoin(this.#e.queryNode,Li("LeftJoin",e))})}rightJoin(...e){return new Hn({...this.#e,queryNode:At.cloneWithJoin(this.#e.queryNode,Li("RightJoin",e))})}fullJoin(...e){return new Hn({...this.#e,queryNode:At.cloneWithJoin(this.#e.queryNode,Li("FullJoin",e))})}returning(e){return new Hn({...this.#e,queryNode:At.cloneWithReturning(this.#e.queryNode,Io(e))})}returningAll(e){return new Hn({...this.#e,queryNode:At.cloneWithReturning(this.#e.queryNode,Xo(e))})}output(e){return new Hn({...this.#e,queryNode:At.cloneWithOutput(this.#e.queryNode,Io(e))})}outputAll(e){return new Hn({...this.#e,queryNode:At.cloneWithOutput(this.#e.queryNode,Xo(e))})}clearReturning(){return new Hn({...this.#e,queryNode:At.cloneWithoutReturning(this.#e.queryNode)})}clearLimit(){return new Hn({...this.#e,queryNode:Cu.cloneWithoutLimit(this.#e.queryNode)})}clearOrderBy(){return new Hn({...this.#e,queryNode:Cu.cloneWithoutOrderBy(this.#e.queryNode)})}orderBy(e,n){return new Hn({...this.#e,queryNode:Cu.cloneWithOrderByItems(this.#e.queryNode,Kh([e,n]))})}limit(e){return new Hn({...this.#e,queryNode:Cu.cloneWithLimit(this.#e.queryNode,C1.create(Gr(e)))})}modifyEnd(e){return new Hn({...this.#e,queryNode:At.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}$call(e){return e(this)}$if(e,n){return e?n(this):new Hn({...this.#e})}$castTo(){return new Hn(this.#e)}$narrowType(){return new Hn(this.#e)}$assertType(){return new Hn(this.#e)}withPlugin(e){return new Hn({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),n=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:r}=this.#e.executor,i=e.query;return i.returning&&r.supportsReturning||i.output&&r.supportsOutput?n.rows:[new j5(n.numAffectedRows??n.numUpdatedOrDeletedRows??BigInt(0))]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Zh){const n=await this.executeTakeFirst();if(n===void 0)throw Jh(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async *stream(e=100){const n=this.compile(),r=this.#e.executor.stream(n,e,this.#e.queryId);for await(const i of r)yield*i.rows}async explain(e,n){return await new Hn({...this.#e,queryNode:At.cloneWithExplain(this.#e.queryNode,e,n)}).execute()}}bn(Hn,"don't await DeleteQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class A5{numUpdatedRows;numChangedRows;constructor(e,n){this.numUpdatedRows=e,this.numChangedRows=n}}class Jn{#e;constructor(e){this.#e=Q(e)}where(...e){return new Jn({...this.#e,queryNode:At.cloneWithWhere(this.#e.queryNode,pi(e))})}whereRef(e,n,r){return new Jn({...this.#e,queryNode:At.cloneWithWhere(this.#e.queryNode,Yo(e,n,r))})}clearWhere(){return new Jn({...this.#e,queryNode:At.cloneWithoutWhere(this.#e.queryNode)})}top(e,n){return new Jn({...this.#e,queryNode:At.cloneWithTop(this.#e.queryNode,sf(e,n))})}from(e){return new Jn({...this.#e,queryNode:xd.cloneWithFromItems(this.#e.queryNode,oh(e))})}innerJoin(...e){return new Jn({...this.#e,queryNode:At.cloneWithJoin(this.#e.queryNode,Li("InnerJoin",e))})}leftJoin(...e){return new Jn({...this.#e,queryNode:At.cloneWithJoin(this.#e.queryNode,Li("LeftJoin",e))})}rightJoin(...e){return new Jn({...this.#e,queryNode:At.cloneWithJoin(this.#e.queryNode,Li("RightJoin",e))})}fullJoin(...e){return new Jn({...this.#e,queryNode:At.cloneWithJoin(this.#e.queryNode,Li("FullJoin",e))})}limit(e){return new Jn({...this.#e,queryNode:xd.cloneWithLimit(this.#e.queryNode,C1.create(Gr(e)))})}set(...e){return new Jn({...this.#e,queryNode:xd.cloneWithUpdates(this.#e.queryNode,C5(...e))})}returning(e){return new Jn({...this.#e,queryNode:At.cloneWithReturning(this.#e.queryNode,Io(e))})}returningAll(e){return new Jn({...this.#e,queryNode:At.cloneWithReturning(this.#e.queryNode,Xo(e))})}output(e){return new Jn({...this.#e,queryNode:At.cloneWithOutput(this.#e.queryNode,Io(e))})}outputAll(e){return new Jn({...this.#e,queryNode:At.cloneWithOutput(this.#e.queryNode,Xo(e))})}modifyEnd(e){return new Jn({...this.#e,queryNode:At.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}clearReturning(){return new Jn({...this.#e,queryNode:At.cloneWithoutReturning(this.#e.queryNode)})}$call(e){return e(this)}$if(e,n){return e?n(this):new Jn({...this.#e})}$castTo(){return new Jn(this.#e)}$narrowType(){return new Jn(this.#e)}$assertType(){return new Jn(this.#e)}withPlugin(e){return new Jn({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),n=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:r}=this.#e.executor,i=e.query;return i.returning&&r.supportsReturning||i.output&&r.supportsOutput?n.rows:[new A5(n.numAffectedRows??n.numUpdatedOrDeletedRows??BigInt(0),n.numChangedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Zh){const n=await this.executeTakeFirst();if(n===void 0)throw Jh(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async *stream(e=100){const n=this.compile(),r=this.#e.executor.stream(n,e,this.#e.queryId);for await(const i of r)yield*i.rows}async explain(e,n){return await new Jn({...this.#e,queryNode:At.cloneWithExplain(this.#e.queryNode,e,n)}).execute()}}bn(Jn,"don't await UpdateQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");const uO=Q({is(t){return t.kind==="CommonTableExpressionNameNode"},create(t,e){return Q({kind:"CommonTableExpressionNameNode",table:Al.create(t),columns:e?Q(e.map(Ur.create)):void 0})}}),ov=Q({is(t){return t.kind==="CommonTableExpressionNode"},create(t,e){return Q({kind:"CommonTableExpressionNode",name:t,expression:e})},cloneWith(t,e){return Q({...t,...e})}});class ih{#e;constructor(e){this.#e=Q(e)}materialized(){return new ih({...this.#e,node:ov.cloneWith(this.#e.node,{materialized:!0})})}notMaterialized(){return new ih({...this.#e,node:ov.cloneWith(this.#e.node,{materialized:!1})})}toOperationNode(){return this.#e.node}}bn(ih,"don't await CTEBuilder instances. They are never executed directly and are always just a part of a query.");function cO(t,e){const n=e(H5()).toOperationNode();return Ps(t)?t(P5(n)).toOperationNode():ov.create(RP(t),n)}function P5(t){return e=>new ih({node:ov.create(RP(e),t)})}function RP(t){if(t.includes("(")){const e=t.split(/[\(\)]/),n=e[0],r=e[1].split(",").map(i=>i.trim());return uO.create(n,r)}else return uO.create(t)}const Rg=Q({is(t){return t.kind==="WithNode"},create(t,e){return Q({kind:"WithNode",expressions:Q([t]),...e})},cloneWithExpression(t,e){return Q({...t,expressions:Q([...t.expressions,e])})}}),dO=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"];function F5(t){let e="";for(let n=0;n<t;++n)e+=D5();return e}function D5(){return dO[~~(Math.random()*dO.length)]}function Gn(){return new L5}class L5{#e;get queryId(){return this.#e===void 0&&(this.#e=F5(8)),this.#e}}class jP{nodeStack=[];#e=Q({AliasNode:this.transformAlias.bind(this),ColumnNode:this.transformColumn.bind(this),IdentifierNode:this.transformIdentifier.bind(this),SchemableIdentifierNode:this.transformSchemableIdentifier.bind(this),RawNode:this.transformRaw.bind(this),ReferenceNode:this.transformReference.bind(this),SelectQueryNode:this.transformSelectQuery.bind(this),SelectionNode:this.transformSelection.bind(this),TableNode:this.transformTable.bind(this),FromNode:this.transformFrom.bind(this),SelectAllNode:this.transformSelectAll.bind(this),AndNode:this.transformAnd.bind(this),OrNode:this.transformOr.bind(this),ValueNode:this.transformValue.bind(this),ValueListNode:this.transformValueList.bind(this),PrimitiveValueListNode:this.transformPrimitiveValueList.bind(this),ParensNode:this.transformParens.bind(this),JoinNode:this.transformJoin.bind(this),OperatorNode:this.transformOperator.bind(this),WhereNode:this.transformWhere.bind(this),InsertQueryNode:this.transformInsertQuery.bind(this),DeleteQueryNode:this.transformDeleteQuery.bind(this),ReturningNode:this.transformReturning.bind(this),CreateTableNode:this.transformCreateTable.bind(this),AddColumnNode:this.transformAddColumn.bind(this),ColumnDefinitionNode:this.transformColumnDefinition.bind(this),DropTableNode:this.transformDropTable.bind(this),DataTypeNode:this.transformDataType.bind(this),OrderByNode:this.transformOrderBy.bind(this),OrderByItemNode:this.transformOrderByItem.bind(this),GroupByNode:this.transformGroupBy.bind(this),GroupByItemNode:this.transformGroupByItem.bind(this),UpdateQueryNode:this.transformUpdateQuery.bind(this),ColumnUpdateNode:this.transformColumnUpdate.bind(this),LimitNode:this.transformLimit.bind(this),OffsetNode:this.transformOffset.bind(this),OnConflictNode:this.transformOnConflict.bind(this),OnDuplicateKeyNode:this.transformOnDuplicateKey.bind(this),CreateIndexNode:this.transformCreateIndex.bind(this),DropIndexNode:this.transformDropIndex.bind(this),ListNode:this.transformList.bind(this),PrimaryKeyConstraintNode:this.transformPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.transformUniqueConstraint.bind(this),ReferencesNode:this.transformReferences.bind(this),CheckConstraintNode:this.transformCheckConstraint.bind(this),WithNode:this.transformWith.bind(this),CommonTableExpressionNode:this.transformCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.transformCommonTableExpressionName.bind(this),HavingNode:this.transformHaving.bind(this),CreateSchemaNode:this.transformCreateSchema.bind(this),DropSchemaNode:this.transformDropSchema.bind(this),AlterTableNode:this.transformAlterTable.bind(this),DropColumnNode:this.transformDropColumn.bind(this),RenameColumnNode:this.transformRenameColumn.bind(this),AlterColumnNode:this.transformAlterColumn.bind(this),ModifyColumnNode:this.transformModifyColumn.bind(this),AddConstraintNode:this.transformAddConstraint.bind(this),DropConstraintNode:this.transformDropConstraint.bind(this),ForeignKeyConstraintNode:this.transformForeignKeyConstraint.bind(this),CreateViewNode:this.transformCreateView.bind(this),DropViewNode:this.transformDropView.bind(this),GeneratedNode:this.transformGenerated.bind(this),DefaultValueNode:this.transformDefaultValue.bind(this),OnNode:this.transformOn.bind(this),ValuesNode:this.transformValues.bind(this),SelectModifierNode:this.transformSelectModifier.bind(this),CreateTypeNode:this.transformCreateType.bind(this),DropTypeNode:this.transformDropType.bind(this),ExplainNode:this.transformExplain.bind(this),DefaultInsertValueNode:this.transformDefaultInsertValue.bind(this),AggregateFunctionNode:this.transformAggregateFunction.bind(this),OverNode:this.transformOver.bind(this),PartitionByNode:this.transformPartitionBy.bind(this),PartitionByItemNode:this.transformPartitionByItem.bind(this),SetOperationNode:this.transformSetOperation.bind(this),BinaryOperationNode:this.transformBinaryOperation.bind(this),UnaryOperationNode:this.transformUnaryOperation.bind(this),UsingNode:this.transformUsing.bind(this),FunctionNode:this.transformFunction.bind(this),CaseNode:this.transformCase.bind(this),WhenNode:this.transformWhen.bind(this),JSONReferenceNode:this.transformJSONReference.bind(this),JSONPathNode:this.transformJSONPath.bind(this),JSONPathLegNode:this.transformJSONPathLeg.bind(this),JSONOperatorChainNode:this.transformJSONOperatorChain.bind(this),TupleNode:this.transformTuple.bind(this),MergeQueryNode:this.transformMergeQuery.bind(this),MatchedNode:this.transformMatched.bind(this),AddIndexNode:this.transformAddIndex.bind(this),CastNode:this.transformCast.bind(this),FetchNode:this.transformFetch.bind(this),TopNode:this.transformTop.bind(this),OutputNode:this.transformOutput.bind(this)});transformNode(e){if(!e)return e;this.nodeStack.push(e);const n=this.transformNodeImpl(e);return this.nodeStack.pop(),Q(n)}transformNodeImpl(e){return this.#e[e.kind](e)}transformNodeList(e){return e&&Q(e.map(n=>this.transformNode(n)))}transformSelectQuery(e){return{kind:"SelectQueryNode",from:this.transformNode(e.from),selections:this.transformNodeList(e.selections),distinctOn:this.transformNodeList(e.distinctOn),joins:this.transformNodeList(e.joins),groupBy:this.transformNode(e.groupBy),orderBy:this.transformNode(e.orderBy),where:this.transformNode(e.where),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),limit:this.transformNode(e.limit),offset:this.transformNode(e.offset),with:this.transformNode(e.with),having:this.transformNode(e.having),explain:this.transformNode(e.explain),setOperations:this.transformNodeList(e.setOperations),fetch:this.transformNode(e.fetch),top:this.transformNode(e.top)}}transformSelection(e){return{kind:"SelectionNode",selection:this.transformNode(e.selection)}}transformColumn(e){return{kind:"ColumnNode",column:this.transformNode(e.column)}}transformAlias(e){return{kind:"AliasNode",node:this.transformNode(e.node),alias:this.transformNode(e.alias)}}transformTable(e){return{kind:"TableNode",table:this.transformNode(e.table)}}transformFrom(e){return{kind:"FromNode",froms:this.transformNodeList(e.froms)}}transformReference(e){return{kind:"ReferenceNode",column:this.transformNode(e.column),table:this.transformNode(e.table)}}transformAnd(e){return{kind:"AndNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformOr(e){return{kind:"OrNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformValueList(e){return{kind:"ValueListNode",values:this.transformNodeList(e.values)}}transformParens(e){return{kind:"ParensNode",node:this.transformNode(e.node)}}transformJoin(e){return{kind:"JoinNode",joinType:e.joinType,table:this.transformNode(e.table),on:this.transformNode(e.on)}}transformRaw(e){return{kind:"RawNode",sqlFragments:Q([...e.sqlFragments]),parameters:this.transformNodeList(e.parameters)}}transformWhere(e){return{kind:"WhereNode",where:this.transformNode(e.where)}}transformInsertQuery(e){return{kind:"InsertQueryNode",into:this.transformNode(e.into),columns:this.transformNodeList(e.columns),values:this.transformNode(e.values),returning:this.transformNode(e.returning),onConflict:this.transformNode(e.onConflict),onDuplicateKey:this.transformNode(e.onDuplicateKey),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),ignore:e.ignore,replace:e.replace,explain:this.transformNode(e.explain),defaultValues:e.defaultValues,top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformValues(e){return{kind:"ValuesNode",values:this.transformNodeList(e.values)}}transformDeleteQuery(e){return{kind:"DeleteQueryNode",from:this.transformNode(e.from),using:this.transformNode(e.using),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),returning:this.transformNode(e.returning),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),orderBy:this.transformNode(e.orderBy),limit:this.transformNode(e.limit),explain:this.transformNode(e.explain),top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformReturning(e){return{kind:"ReturningNode",selections:this.transformNodeList(e.selections)}}transformCreateTable(e){return{kind:"CreateTableNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),constraints:this.transformNodeList(e.constraints),temporary:e.temporary,ifNotExists:e.ifNotExists,onCommit:e.onCommit,frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),selectQuery:this.transformNode(e.selectQuery)}}transformColumnDefinition(e){return{kind:"ColumnDefinitionNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),references:this.transformNode(e.references),primaryKey:e.primaryKey,autoIncrement:e.autoIncrement,unique:e.unique,notNull:e.notNull,unsigned:e.unsigned,defaultTo:this.transformNode(e.defaultTo),check:this.transformNode(e.check),generated:this.transformNode(e.generated),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),nullsNotDistinct:e.nullsNotDistinct,identity:e.identity,ifNotExists:e.ifNotExists}}transformAddColumn(e){return{kind:"AddColumnNode",column:this.transformNode(e.column)}}transformDropTable(e){return{kind:"DropTableNode",table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformOrderBy(e){return{kind:"OrderByNode",items:this.transformNodeList(e.items)}}transformOrderByItem(e){return{kind:"OrderByItemNode",orderBy:this.transformNode(e.orderBy),direction:this.transformNode(e.direction)}}transformGroupBy(e){return{kind:"GroupByNode",items:this.transformNodeList(e.items)}}transformGroupByItem(e){return{kind:"GroupByItemNode",groupBy:this.transformNode(e.groupBy)}}transformUpdateQuery(e){return{kind:"UpdateQueryNode",table:this.transformNode(e.table),from:this.transformNode(e.from),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),updates:this.transformNodeList(e.updates),returning:this.transformNode(e.returning),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),explain:this.transformNode(e.explain),limit:this.transformNode(e.limit),top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformColumnUpdate(e){return{kind:"ColumnUpdateNode",column:this.transformNode(e.column),value:this.transformNode(e.value)}}transformLimit(e){return{kind:"LimitNode",limit:this.transformNode(e.limit)}}transformOffset(e){return{kind:"OffsetNode",offset:this.transformNode(e.offset)}}transformOnConflict(e){return{kind:"OnConflictNode",columns:this.transformNodeList(e.columns),constraint:this.transformNode(e.constraint),indexExpression:this.transformNode(e.indexExpression),indexWhere:this.transformNode(e.indexWhere),updates:this.transformNodeList(e.updates),updateWhere:this.transformNode(e.updateWhere),doNothing:e.doNothing}}transformOnDuplicateKey(e){return{kind:"OnDuplicateKeyNode",updates:this.transformNodeList(e.updates)}}transformCreateIndex(e){return{kind:"CreateIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists,where:this.transformNode(e.where),nullsNotDistinct:e.nullsNotDistinct}}transformList(e){return{kind:"ListNode",items:this.transformNodeList(e.items)}}transformDropIndex(e){return{kind:"DropIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformPrimaryKeyConstraint(e){return{kind:"PrimaryKeyConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name)}}transformUniqueConstraint(e){return{kind:"UniqueConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name),nullsNotDistinct:e.nullsNotDistinct}}transformForeignKeyConstraint(e){return{kind:"ForeignKeyConstraintNode",columns:this.transformNodeList(e.columns),references:this.transformNode(e.references),name:this.transformNode(e.name),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformSetOperation(e){return{kind:"SetOperationNode",operator:e.operator,expression:this.transformNode(e.expression),all:e.all}}transformReferences(e){return{kind:"ReferencesNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformCheckConstraint(e){return{kind:"CheckConstraintNode",expression:this.transformNode(e.expression),name:this.transformNode(e.name)}}transformWith(e){return{kind:"WithNode",expressions:this.transformNodeList(e.expressions),recursive:e.recursive}}transformCommonTableExpression(e){return{kind:"CommonTableExpressionNode",name:this.transformNode(e.name),materialized:e.materialized,expression:this.transformNode(e.expression)}}transformCommonTableExpressionName(e){return{kind:"CommonTableExpressionNameNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns)}}transformHaving(e){return{kind:"HavingNode",having:this.transformNode(e.having)}}transformCreateSchema(e){return{kind:"CreateSchemaNode",schema:this.transformNode(e.schema),ifNotExists:e.ifNotExists}}transformDropSchema(e){return{kind:"DropSchemaNode",schema:this.transformNode(e.schema),ifExists:e.ifExists,cascade:e.cascade}}transformAlterTable(e){return{kind:"AlterTableNode",table:this.transformNode(e.table),renameTo:this.transformNode(e.renameTo),setSchema:this.transformNode(e.setSchema),columnAlterations:this.transformNodeList(e.columnAlterations),addConstraint:this.transformNode(e.addConstraint),dropConstraint:this.transformNode(e.dropConstraint),addIndex:this.transformNode(e.addIndex),dropIndex:this.transformNode(e.dropIndex)}}transformDropColumn(e){return{kind:"DropColumnNode",column:this.transformNode(e.column)}}transformRenameColumn(e){return{kind:"RenameColumnNode",column:this.transformNode(e.column),renameTo:this.transformNode(e.renameTo)}}transformAlterColumn(e){return{kind:"AlterColumnNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),dataTypeExpression:this.transformNode(e.dataTypeExpression),setDefault:this.transformNode(e.setDefault),dropDefault:e.dropDefault,setNotNull:e.setNotNull,dropNotNull:e.dropNotNull}}transformModifyColumn(e){return{kind:"ModifyColumnNode",column:this.transformNode(e.column)}}transformAddConstraint(e){return{kind:"AddConstraintNode",constraint:this.transformNode(e.constraint)}}transformDropConstraint(e){return{kind:"DropConstraintNode",constraintName:this.transformNode(e.constraintName),ifExists:e.ifExists,modifier:e.modifier}}transformCreateView(e){return{kind:"CreateViewNode",name:this.transformNode(e.name),temporary:e.temporary,orReplace:e.orReplace,ifNotExists:e.ifNotExists,materialized:e.materialized,columns:this.transformNodeList(e.columns),as:this.transformNode(e.as)}}transformDropView(e){return{kind:"DropViewNode",name:this.transformNode(e.name),ifExists:e.ifExists,materialized:e.materialized,cascade:e.cascade}}transformGenerated(e){return{kind:"GeneratedNode",byDefault:e.byDefault,always:e.always,identity:e.identity,stored:e.stored,expression:this.transformNode(e.expression)}}transformDefaultValue(e){return{kind:"DefaultValueNode",defaultValue:this.transformNode(e.defaultValue)}}transformOn(e){return{kind:"OnNode",on:this.transformNode(e.on)}}transformSelectModifier(e){return{kind:"SelectModifierNode",modifier:e.modifier,rawModifier:this.transformNode(e.rawModifier),of:this.transformNodeList(e.of)}}transformCreateType(e){return{kind:"CreateTypeNode",name:this.transformNode(e.name),enum:this.transformNode(e.enum)}}transformDropType(e){return{kind:"DropTypeNode",name:this.transformNode(e.name),ifExists:e.ifExists}}transformExplain(e){return{kind:"ExplainNode",format:e.format,options:this.transformNode(e.options)}}transformSchemableIdentifier(e){return{kind:"SchemableIdentifierNode",schema:this.transformNode(e.schema),identifier:this.transformNode(e.identifier)}}transformAggregateFunction(e){return{kind:"AggregateFunctionNode",aggregated:this.transformNodeList(e.aggregated),distinct:e.distinct,orderBy:this.transformNode(e.orderBy),filter:this.transformNode(e.filter),func:e.func,over:this.transformNode(e.over)}}transformOver(e){return{kind:"OverNode",orderBy:this.transformNode(e.orderBy),partitionBy:this.transformNode(e.partitionBy)}}transformPartitionBy(e){return{kind:"PartitionByNode",items:this.transformNodeList(e.items)}}transformPartitionByItem(e){return{kind:"PartitionByItemNode",partitionBy:this.transformNode(e.partitionBy)}}transformBinaryOperation(e){return{kind:"BinaryOperationNode",leftOperand:this.transformNode(e.leftOperand),operator:this.transformNode(e.operator),rightOperand:this.transformNode(e.rightOperand)}}transformUnaryOperation(e){return{kind:"UnaryOperationNode",operator:this.transformNode(e.operator),operand:this.transformNode(e.operand)}}transformUsing(e){return{kind:"UsingNode",tables:this.transformNodeList(e.tables)}}transformFunction(e){return{kind:"FunctionNode",func:e.func,arguments:this.transformNodeList(e.arguments)}}transformCase(e){return{kind:"CaseNode",value:this.transformNode(e.value),when:this.transformNodeList(e.when),else:this.transformNode(e.else),isStatement:e.isStatement}}transformWhen(e){return{kind:"WhenNode",condition:this.transformNode(e.condition),result:this.transformNode(e.result)}}transformJSONReference(e){return{kind:"JSONReferenceNode",reference:this.transformNode(e.reference),traversal:this.transformNode(e.traversal)}}transformJSONPath(e){return{kind:"JSONPathNode",inOperator:this.transformNode(e.inOperator),pathLegs:this.transformNodeList(e.pathLegs)}}transformJSONPathLeg(e){return{kind:"JSONPathLegNode",type:e.type,value:e.value}}transformJSONOperatorChain(e){return{kind:"JSONOperatorChainNode",operator:this.transformNode(e.operator),values:this.transformNodeList(e.values)}}transformTuple(e){return{kind:"TupleNode",values:this.transformNodeList(e.values)}}transformMergeQuery(e){return{kind:"MergeQueryNode",into:this.transformNode(e.into),using:this.transformNode(e.using),whens:this.transformNodeList(e.whens),with:this.transformNode(e.with),top:this.transformNode(e.top),endModifiers:this.transformNodeList(e.endModifiers),output:this.transformNode(e.output)}}transformMatched(e){return{kind:"MatchedNode",not:e.not,bySource:e.bySource}}transformAddIndex(e){return{kind:"AddIndexNode",name:this.transformNode(e.name),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists}}transformCast(e){return{kind:"CastNode",expression:this.transformNode(e.expression),dataType:this.transformNode(e.dataType)}}transformFetch(e){return{kind:"FetchNode",rowCount:this.transformNode(e.rowCount),modifier:e.modifier}}transformTop(e){return{kind:"TopNode",expression:e.expression,modifiers:e.modifiers}}transformOutput(e){return{kind:"OutputNode",selections:this.transformNodeList(e.selections)}}transformDataType(e){return e}transformSelectAll(e){return e}transformIdentifier(e){return e}transformValue(e){return e}transformPrimitiveValueList(e){return e}transformOperator(e){return e}transformDefaultInsertValue(e){return e}}const M5=Q({AlterTableNode:!0,CreateIndexNode:!0,CreateSchemaNode:!0,CreateTableNode:!0,CreateTypeNode:!0,CreateViewNode:!0,DeleteQueryNode:!0,DropIndexNode:!0,DropSchemaNode:!0,DropTableNode:!0,DropTypeNode:!0,DropViewNode:!0,InsertQueryNode:!0,RawNode:!0,SelectQueryNode:!0,UpdateQueryNode:!0,MergeQueryNode:!0});class $5 extends jP{#e;#t=new Set;#n=new Set;constructor(e){super(),this.#e=e}transformNodeImpl(e){if(!this.#r(e))return super.transformNodeImpl(e);const n=this.#s(e);for(const s of n)this.#n.add(s);const r=this.#i(e);for(const s of r)this.#t.add(s);const i=super.transformNodeImpl(e);for(const s of r)this.#t.delete(s);for(const s of n)this.#n.delete(s);return i}transformSchemableIdentifier(e){const n=super.transformSchemableIdentifier(e);return n.schema||!this.#t.has(e.identifier.name)?n:{...n,schema:yr.create(this.#e)}}transformReferences(e){const n=super.transformReferences(e);return n.table.table.schema?n:{...n,table:Al.createWithSchema(this.#e,n.table.table.identifier.name)}}#r(e){return e.kind in M5}#i(e){const n=new Set;if("name"in e&&e.name&&$l.is(e.name)&&this.#a(e.name,n),"from"in e&&e.from)for(const r of e.from.froms)this.#o(r,n);if("into"in e&&e.into&&this.#o(e.into,n),"table"in e&&e.table&&this.#o(e.table,n),"joins"in e&&e.joins)for(const r of e.joins)this.#o(r.table,n);return"using"in e&&e.using&&this.#o(e.using,n),n}#s(e){const n=new Set;return"with"in e&&e.with&&this.#u(e.with,n),n}#o(e,n){const r=Al.is(e)?e:Jl.is(e)&&Al.is(e.node)?e.node:null;r&&this.#a(r.table,n)}#a(e,n){const r=e.identifier.name;!this.#t.has(r)&&!this.#n.has(r)&&n.add(r)}#u(e,n){for(const r of e.expressions){const i=r.name.table.table.identifier.name;this.#n.has(i)||n.add(i)}}}class Yh{#e;constructor(e){this.#e=new $5(e)}transformQuery(e){return this.#e.transformNode(e.node)}async transformResult(e){return e.result}}const B5=Q({is(t){return t.kind==="MatchedNode"},create(t,e=!1){return Q({kind:"MatchedNode",not:t,bySource:e})}});function fO(t,e,n){return Gh.create(iv([B5.create(!t.isMatched,t.bySource),...e&&e.length>0?[e.length===3&&n?Yo(e[0],e[1],e[2]):pi(e)]:[]],"and",!1))}function Wp(t){return js(t)?Si.create([t],[]):fs(t)?t.toOperationNode():t}class pO{#e;#t;#n;constructor(){this.#e=new Promise((e,n)=>{this.#n=n,this.#t=e})}get promise(){return this.#e}resolve=e=>{this.#t&&this.#t(e)};reject=e=>{this.#n&&this.#n(e)}}const hO=new Set;function z5(t){hO.has(t)||(hO.add(t),console.log(t))}const W5=Q([]);class AP{#e;constructor(e=W5){this.#e=e}get plugins(){return this.#e}transformQuery(e,n){for(const r of this.#e){const i=r.transformQuery({node:e,queryId:n});if(i.kind===e.kind)e=i;else throw new Error(["KyselyPlugin.transformQuery must return a node","of the same kind that was given to it.",`The plugin was given a ${e.kind}`,`but it returned a ${i.kind}`].join(" "))}return e}async executeQuery(e,n){return await this.provideConnection(async r=>{const i=await r.executeQuery(e),s=await this.#t(i,n);return U5(i,s),s})}async *stream(e,n,r){const i=new pO,s=new pO;this.provideConnection(async l=>(i.resolve(l),await s.promise)).catch(l=>i.reject(l));const o=await i.promise;try{for await(const l of o.streamQuery(e,n))yield await this.#t(l,r)}finally{s.resolve()}}async #t(e,n){for(const r of this.#e)e=await r.transformResult({result:e,queryId:n});return e}}function U5(t,e){const{numAffectedRows:n}=t;n===void 0&&t.numUpdatedOrDeletedRows===void 0||n!==void 0&&e.numAffectedRows!==void 0||z5("kysely:warning: outdated driver/plugin detected! QueryResult.numUpdatedOrDeletedRows is deprecated and will be removed in a future release.")}class sd extends AP{get adapter(){throw new Error("this query cannot be compiled to SQL")}compileQuery(){throw new Error("this query cannot be compiled to SQL")}provideConnection(){throw new Error("this query cannot be executed")}withConnectionProvider(){throw new Error("this query cannot have a connection provider")}withPlugin(e){return new sd([...this.plugins,e])}withPlugins(e){return new sd([...this.plugins,...e])}withPluginAtFront(e){return new sd([e,...this.plugins])}withoutPlugins(){return new sd([])}}const vb=new sd;class V5{numChangedRows;constructor(e){this.numChangedRows=e}}class Fu{#e;constructor(e){this.#e=Q(e)}modifyEnd(e){return new Fu({...this.#e,queryNode:At.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}top(e,n){return new Fu({...this.#e,queryNode:At.cloneWithTop(this.#e.queryNode,sf(e,n))})}using(...e){return new Cs({...this.#e,queryNode:as.cloneWithUsing(this.#e.queryNode,Li("Using",e))})}output(e){return new Fu({...this.#e,queryNode:At.cloneWithOutput(this.#e.queryNode,Io(e))})}outputAll(e){return new Fu({...this.#e,queryNode:At.cloneWithOutput(this.#e.queryNode,Xo(e))})}}bn(Fu,"don't await MergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class Cs{#e;constructor(e){this.#e=Q(e)}modifyEnd(e){return new Cs({...this.#e,queryNode:At.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}top(e,n){return new Cs({...this.#e,queryNode:At.cloneWithTop(this.#e.queryNode,sf(e,n))})}whenMatched(){return this.#t([])}whenMatchedAnd(...e){return this.#t(e)}whenMatchedAndRef(e,n,r){return this.#t([e,n,r],!0)}#t(e,n){return new sE({...this.#e,queryNode:as.cloneWithWhen(this.#e.queryNode,fO({isMatched:!0},e,n))})}whenNotMatched(){return this.#n([])}whenNotMatchedAnd(...e){return this.#n(e)}whenNotMatchedAndRef(e,n,r){return this.#n([e,n,r],!0)}whenNotMatchedBySource(){return this.#n([],!1,!0)}whenNotMatchedBySourceAnd(...e){return this.#n(e,!1,!0)}whenNotMatchedBySourceAndRef(e,n,r){return this.#n([e,n,r],!0,!0)}output(e){return new Cs({...this.#e,queryNode:At.cloneWithOutput(this.#e.queryNode,Io(e))})}outputAll(e){return new Cs({...this.#e,queryNode:At.cloneWithOutput(this.#e.queryNode,Xo(e))})}#n(e,n=!1,r=!1){const i={...this.#e,queryNode:as.cloneWithWhen(this.#e.queryNode,fO({isMatched:!1,bySource:r},e,n))},s=r?sE:PP;return new s(i)}$call(e){return e(this)}$if(e,n){return e?n(this):new Cs({...this.#e})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),n=await this.#e.executor.executeQuery(e,this.#e.queryId);return e.query.output&&this.#e.executor.adapter.supportsOutput?n.rows:[new V5(n.numAffectedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Zh){const n=await this.executeTakeFirst();if(n===void 0)throw Jh(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}}bn(Cs,"don't await WheneableMergeQueryBuilder instances directly. To execute the query you need to call `execute`.");class sE{#e;constructor(e){this.#e=Q(e)}thenDelete(){return new Cs({...this.#e,queryNode:as.cloneWithThen(this.#e.queryNode,Wp("delete"))})}thenDoNothing(){return new Cs({...this.#e,queryNode:as.cloneWithThen(this.#e.queryNode,Wp("do nothing"))})}thenUpdate(e){return new Cs({...this.#e,queryNode:as.cloneWithThen(this.#e.queryNode,Wp(e(new Jn({queryId:this.#e.queryId,executor:vb,queryNode:xd.createWithoutTable()}))))})}thenUpdateSet(...e){return this.thenUpdate(n=>n.set(...e))}}bn(sE,"don't await MatchedThenableMergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class PP{#e;constructor(e){this.#e=Q(e)}thenDoNothing(){return new Cs({...this.#e,queryNode:as.cloneWithThen(this.#e.queryNode,Wp("do nothing"))})}thenInsertValues(e){const[n,r]=TP(e);return new Cs({...this.#e,queryNode:as.cloneWithThen(this.#e.queryNode,Wp(Es.cloneWith(Es.createWithoutInto(),{columns:n,values:r})))})}}bn(PP,"don't await NotMatchedThenableMergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class El{#e;constructor(e){this.#e=Q(e)}selectFrom(e){return oE({queryId:Gn(),executor:this.#e.executor,queryNode:Qn.createFrom(oh(e),this.#e.withNode)})}selectNoFrom(e){return oE({queryId:Gn(),executor:this.#e.executor,queryNode:Qn.cloneWithSelections(Qn.create(this.#e.withNode),Io(e))})}insertInto(e){return new hr({queryId:Gn(),executor:this.#e.executor,queryNode:Es.create(Br(e),this.#e.withNode)})}replaceInto(e){return new hr({queryId:Gn(),executor:this.#e.executor,queryNode:Es.create(Br(e),this.#e.withNode,!0)})}deleteFrom(e){return new Hn({queryId:Gn(),executor:this.#e.executor,queryNode:Cu.create(oh(e),this.#e.withNode)})}updateTable(e){return new Jn({queryId:Gn(),executor:this.#e.executor,queryNode:xd.create(ah(e),this.#e.withNode)})}mergeInto(e){return new Fu({queryId:Gn(),executor:this.#e.executor,queryNode:as.create(zP(e),this.#e.withNode)})}with(e,n){const r=cO(e,n);return new El({...this.#e,withNode:this.#e.withNode?Rg.cloneWithExpression(this.#e.withNode,r):Rg.create(r)})}withRecursive(e,n){const r=cO(e,n);return new El({...this.#e,withNode:this.#e.withNode?Rg.cloneWithExpression(this.#e.withNode,r):Rg.create(r,{recursive:!0})})}withPlugin(e){return new El({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new El({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new El({...this.#e,executor:this.#e.executor.withPluginAtFront(new Yh(e))})}}function H5(){return new El({executor:vb})}function Q5(t,e){return new bd({joinNode:$p.create(t,ah(e))})}function K5(){return new rh({overNode:iE.create()})}function Li(t,e){if(e.length===3)return Z5(t,e[0],e[1],e[2]);if(e.length===2)return G5(t,e[0],e[1]);throw new Error("not implemented")}function G5(t,e,n){return n(Q5(t,e)).toOperationNode()}function Z5(t,e,n,r){return $p.createWithOn(t,ah(e),Yo(n,"=",r))}const J5=Q({is(t){return t.kind==="OffsetNode"},create(t){return Q({kind:"OffsetNode",offset:t})}}),Y5=Q({is(t){return t.kind==="GroupByItemNode"},create(t){return Q({kind:"GroupByItemNode",groupBy:t})}});function X5(t){return t=Ps(t)?t(of()):t,nh(t).map(Y5.create)}const FP=Q({is(t){return t.kind==="SetOperationNode"},create(t,e,n){return Q({kind:"SetOperationNode",operator:t,expression:e,all:n})}});function Hc(t,e,n){return Ps(e)&&(e=e(O1())),Fa(e)||(e=[e]),e.map(r=>FP.create(t,oc(r),n))}class Yn{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new T1(this,e)}or(...e){return new av(rf.create(this.#e,pi(e)))}and(...e){return new lv(Bl.create(this.#e,pi(e)))}$castTo(){return new Yn(this.#e)}$notNull(){return new Yn(this.#e)}toOperationNode(){return this.#e}}class T1{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return Jl.create(this.#e.toOperationNode(),fs(this.#t)?this.#t.toOperationNode():yr.create(this.#t))}}class av{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new T1(this,e)}or(...e){return new av(rf.create(this.#e,pi(e)))}$castTo(){return new av(this.#e)}toOperationNode(){return Ad.create(this.#e)}}class lv{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new T1(this,e)}and(...e){return new lv(Bl.create(this.#e,pi(e)))}$castTo(){return new lv(this.#e)}toOperationNode(){return Ad.create(this.#e)}}const e8={is(t){return t.kind==="FetchNode"},create(t,e){return{kind:"FetchNode",rowCount:Jo.create(t),modifier:e}}};function t8(t,e){if(!gb(t)&&!x1(t))throw new Error(`Invalid fetch row count: ${t}`);if(!n8(e))throw new Error(`Invalid fetch modifier: ${e}`);return e8.create(t,e)}function n8(t){return t==="only"||t==="with ties"}class tn{#e;constructor(e){this.#e=Q(e)}get expressionType(){}get isSelectQueryBuilder(){return!0}where(...e){return new tn({...this.#e,queryNode:At.cloneWithWhere(this.#e.queryNode,pi(e))})}whereRef(e,n,r){return new tn({...this.#e,queryNode:At.cloneWithWhere(this.#e.queryNode,Yo(e,n,r))})}having(...e){return new tn({...this.#e,queryNode:Qn.cloneWithHaving(this.#e.queryNode,pi(e))})}havingRef(e,n,r){return new tn({...this.#e,queryNode:Qn.cloneWithHaving(this.#e.queryNode,Yo(e,n,r))})}select(e){return new tn({...this.#e,queryNode:Qn.cloneWithSelections(this.#e.queryNode,Io(e))})}distinctOn(e){return new tn({...this.#e,queryNode:Qn.cloneWithDistinctOn(this.#e.queryNode,nh(e))})}modifyFront(e){return new tn({...this.#e,queryNode:Qn.cloneWithFrontModifier(this.#e.queryNode,xa.createWithExpression(e.toOperationNode()))})}modifyEnd(e){return new tn({...this.#e,queryNode:At.cloneWithEndModifier(this.#e.queryNode,xa.createWithExpression(e.toOperationNode()))})}distinct(){return new tn({...this.#e,queryNode:Qn.cloneWithFrontModifier(this.#e.queryNode,xa.create("Distinct"))})}forUpdate(e){return new tn({...this.#e,queryNode:At.cloneWithEndModifier(this.#e.queryNode,xa.create("ForUpdate",e?qg(e).map(Br):void 0))})}forShare(e){return new tn({...this.#e,queryNode:At.cloneWithEndModifier(this.#e.queryNode,xa.create("ForShare",e?qg(e).map(Br):void 0))})}forKeyShare(e){return new tn({...this.#e,queryNode:At.cloneWithEndModifier(this.#e.queryNode,xa.create("ForKeyShare",e?qg(e).map(Br):void 0))})}forNoKeyUpdate(e){return new tn({...this.#e,queryNode:At.cloneWithEndModifier(this.#e.queryNode,xa.create("ForNoKeyUpdate",e?qg(e).map(Br):void 0))})}skipLocked(){return new tn({...this.#e,queryNode:At.cloneWithEndModifier(this.#e.queryNode,xa.create("SkipLocked"))})}noWait(){return new tn({...this.#e,queryNode:At.cloneWithEndModifier(this.#e.queryNode,xa.create("NoWait"))})}selectAll(e){return new tn({...this.#e,queryNode:Qn.cloneWithSelections(this.#e.queryNode,Xo(e))})}innerJoin(...e){return new tn({...this.#e,queryNode:At.cloneWithJoin(this.#e.queryNode,Li("InnerJoin",e))})}leftJoin(...e){return new tn({...this.#e,queryNode:At.cloneWithJoin(this.#e.queryNode,Li("LeftJoin",e))})}rightJoin(...e){return new tn({...this.#e,queryNode:At.cloneWithJoin(this.#e.queryNode,Li("RightJoin",e))})}fullJoin(...e){return new tn({...this.#e,queryNode:At.cloneWithJoin(this.#e.queryNode,Li("FullJoin",e))})}innerJoinLateral(...e){return new tn({...this.#e,queryNode:At.cloneWithJoin(this.#e.queryNode,Li("LateralInnerJoin",e))})}leftJoinLateral(...e){return new tn({...this.#e,queryNode:At.cloneWithJoin(this.#e.queryNode,Li("LateralLeftJoin",e))})}orderBy(...e){return new tn({...this.#e,queryNode:Qn.cloneWithOrderByItems(this.#e.queryNode,Kh(e))})}groupBy(e){return new tn({...this.#e,queryNode:Qn.cloneWithGroupByItems(this.#e.queryNode,X5(e))})}limit(e){return new tn({...this.#e,queryNode:Qn.cloneWithLimit(this.#e.queryNode,C1.create(Gr(e)))})}offset(e){return new tn({...this.#e,queryNode:Qn.cloneWithOffset(this.#e.queryNode,J5.create(Gr(e)))})}fetch(e,n="only"){return new tn({...this.#e,queryNode:Qn.cloneWithFetch(this.#e.queryNode,t8(e,n))})}top(e,n){return new tn({...this.#e,queryNode:At.cloneWithTop(this.#e.queryNode,sf(e,n))})}union(e){return new tn({...this.#e,queryNode:Qn.cloneWithSetOperations(this.#e.queryNode,Hc("union",e,!1))})}unionAll(e){return new tn({...this.#e,queryNode:Qn.cloneWithSetOperations(this.#e.queryNode,Hc("union",e,!0))})}intersect(e){return new tn({...this.#e,queryNode:Qn.cloneWithSetOperations(this.#e.queryNode,Hc("intersect",e,!1))})}intersectAll(e){return new tn({...this.#e,queryNode:Qn.cloneWithSetOperations(this.#e.queryNode,Hc("intersect",e,!0))})}except(e){return new tn({...this.#e,queryNode:Qn.cloneWithSetOperations(this.#e.queryNode,Hc("except",e,!1))})}exceptAll(e){return new tn({...this.#e,queryNode:Qn.cloneWithSetOperations(this.#e.queryNode,Hc("except",e,!0))})}as(e){return new DP(this,e)}clearSelect(){return new tn({...this.#e,queryNode:Qn.cloneWithoutSelections(this.#e.queryNode)})}clearWhere(){return new tn({...this.#e,queryNode:At.cloneWithoutWhere(this.#e.queryNode)})}clearLimit(){return new tn({...this.#e,queryNode:Qn.cloneWithoutLimit(this.#e.queryNode)})}clearOffset(){return new tn({...this.#e,queryNode:Qn.cloneWithoutOffset(this.#e.queryNode)})}clearOrderBy(){return new tn({...this.#e,queryNode:Qn.cloneWithoutOrderBy(this.#e.queryNode)})}clearGroupBy(){return new tn({...this.#e,queryNode:Qn.cloneWithoutGroupBy(this.#e.queryNode)})}$call(e){return e(this)}$if(e,n){return e?n(this):new tn({...this.#e})}$castTo(){return new tn(this.#e)}$narrowType(){return new tn(this.#e)}$assertType(){return new tn(this.#e)}$asTuple(){return new Yn(this.toOperationNode())}withPlugin(e){return new tn({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile();return(await this.#e.executor.executeQuery(e,this.#e.queryId)).rows}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Zh){const n=await this.executeTakeFirst();if(n===void 0)throw Jh(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async *stream(e=100){const n=this.compile(),r=this.#e.executor.stream(n,e,this.#e.queryId);for await(const i of r)yield*i.rows}async explain(e,n){return await new tn({...this.#e,queryNode:At.cloneWithExplain(this.#e.queryNode,e,n)}).execute()}}bn(tn,"don't await SelectQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");function oE(t){return new tn(t)}class DP{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}get isAliasedSelectQueryBuilder(){return!0}toOperationNode(){return Jl.create(this.#e.toOperationNode(),yr.create(this.#t))}}bn(DP,"don't await AliasedSelectQueryBuilder instances directly. AliasedSelectQueryBuilder should never be executed directly since it's always a part of another query.");const Nl=Q({is(t){return t.kind==="AggregateFunctionNode"},create(t,e=[]){return Q({kind:"AggregateFunctionNode",func:t,aggregated:e})},cloneWithDistinct(t){return Q({...t,distinct:!0})},cloneWithOrderBy(t,e){return Q({...t,orderBy:t.orderBy?Wl.cloneWithItems(t.orderBy,e):Wl.create(e)})},cloneWithFilter(t,e){return Q({...t,filter:t.filter?os.cloneWithOperation(t.filter,"And",e):os.create(e)})},cloneWithOrFilter(t,e){return Q({...t,filter:t.filter?os.cloneWithOperation(t.filter,"Or",e):os.create(e)})},cloneWithOver(t,e){return Q({...t,over:e})}}),mO=Q({is(t){return t.kind==="FunctionNode"},create(t,e){return Q({kind:"FunctionNode",func:t,arguments:e})}});class Js{#e;constructor(e){this.#e=Q(e)}get expressionType(){}as(e){return new r8(this,e)}distinct(){return new Js({...this.#e,aggregateFunctionNode:Nl.cloneWithDistinct(this.#e.aggregateFunctionNode)})}orderBy(e,n){return new Js({...this.#e,aggregateFunctionNode:Nl.cloneWithOrderBy(this.#e.aggregateFunctionNode,Kh([e,n]))})}filterWhere(...e){return new Js({...this.#e,aggregateFunctionNode:Nl.cloneWithFilter(this.#e.aggregateFunctionNode,pi(e))})}filterWhereRef(e,n,r){return new Js({...this.#e,aggregateFunctionNode:Nl.cloneWithFilter(this.#e.aggregateFunctionNode,Yo(e,n,r))})}over(e){const n=K5();return new Js({...this.#e,aggregateFunctionNode:Nl.cloneWithOver(this.#e.aggregateFunctionNode,(e?e(n):n).toOperationNode())})}$call(e){return e(this)}$castTo(){return new Js(this.#e)}$notNull(){return new Js(this.#e)}toOperationNode(){return this.#e.aggregateFunctionNode}}bn(Js,"don't await AggregateFunctionBuilder instances. They are never executed directly and are always just a part of a query.");class r8{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return Jl.create(this.#e.toOperationNode(),yr.create(this.#t))}}function LP(){const t=(n,r)=>new Yn(mO.create(n,nh(r??[]))),e=(n,r)=>new Js({aggregateFunctionNode:Nl.create(n,r?nh(r):void 0)});return Object.assign(t,{agg:e,avg(n){return e("avg",[n])},coalesce(...n){return t("coalesce",n)},count(n){return e("count",[n])},countAll(n){return new Js({aggregateFunctionNode:Nl.create("count",Xo(n))})},max(n){return e("max",[n])},min(n){return e("min",[n])},sum(n){return e("sum",[n])},any(n){return t("any",[n])},jsonAgg(n){return new Js({aggregateFunctionNode:Nl.create("json_agg",[js(n)?Br(n):n.toOperationNode()])})},toJson(n){return new Yn(mO.create("to_json",[js(n)?Br(n):n.toOperationNode()]))}})}const i8=Q({is(t){return t.kind==="UnaryOperationNode"},create(t,e){return Q({kind:"UnaryOperationNode",operator:t,operand:e})}});function s8(t,e){return i8.create(zl.create(t),Is(e))}const Uo=Q({is(t){return t.kind==="CaseNode"},create(t){return Q({kind:"CaseNode",value:t})},cloneWithWhen(t,e){return Q({...t,when:Q(t.when?[...t.when,e]:[e])})},cloneWithThen(t,e){return Q({...t,when:t.when?Q([...t.when.slice(0,-1),Gh.cloneWithResult(t.when[t.when.length-1],e)]):void 0})},cloneWith(t,e){return Q({...t,...e})}});class MP{#e;constructor(e){this.#e=Q(e)}when(...e){return new $P({...this.#e,node:Uo.cloneWithWhen(this.#e.node,Gh.create(pi(e)))})}}class $P{#e;constructor(e){this.#e=Q(e)}then(e){return new o8({...this.#e,node:Uo.cloneWithThen(this.#e.node,E1(e)?N1(e):Gr(e))})}}class o8{#e;constructor(e){this.#e=Q(e)}when(...e){return new $P({...this.#e,node:Uo.cloneWithWhen(this.#e.node,Gh.create(pi(e)))})}else(e){return new a8({...this.#e,node:Uo.cloneWith(this.#e.node,{else:E1(e)?N1(e):Gr(e)})})}end(){return new Yn(Uo.cloneWith(this.#e.node,{isStatement:!1}))}endCase(){return new Yn(Uo.cloneWith(this.#e.node,{isStatement:!0}))}}class a8{#e;constructor(e){this.#e=Q(e)}end(){return new Yn(Uo.cloneWith(this.#e.node,{isStatement:!1}))}endCase(){return new Yn(Uo.cloneWith(this.#e.node,{isStatement:!0}))}}const gO=Q({is(t){return t.kind==="JSONPathLegNode"},create(t,e){return Q({kind:"JSONPathLegNode",type:t,value:e})}});class aE{#e;constructor(e){this.#e=e}at(e){return this.#t("ArrayLocation",e)}key(e){return this.#t("Member",e)}#t(e,n){return nv.is(this.#e)?new sh(nv.cloneWithTraversal(this.#e,Bp.is(this.#e.traversal)?Bp.cloneWithLeg(this.#e.traversal,gO.create(e,n)):EP.cloneWithValue(this.#e.traversal,Jo.createImmediate(n)))):new sh(Bp.cloneWithLeg(this.#e,gO.create(e,n)))}}class sh extends aE{#e;constructor(e){super(e),this.#e=e}get expressionType(){}as(e){return new l8(this,e)}$castTo(){return new sh(this.#e)}$notNull(){return new sh(this.#e)}toOperationNode(){return this.#e}}class l8{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return Jl.create(this.#e.toOperationNode(),fs(this.#t)?this.#t.toOperationNode():yr.create(this.#t))}}const yO=Q({is(t){return t.kind==="TupleNode"},create(t){return Q({kind:"TupleNode",values:Q(t)})}}),u8=["varchar","char","text","integer","int2","int4","int8","smallint","bigint","boolean","real","double precision","float4","float8","decimal","numeric","binary","bytea","date","datetime","time","timetz","timestamp","timestamptz","serial","bigserial","uuid","json","jsonb","blob","varbinary","int4range","int4multirange","int8range","int8multirange","numrange","nummultirange","tsrange","tsmultirange","tstzrange","tstzmultirange","daterange","datemultirange"],c8=[/^varchar\(\d+\)$/,/^char\(\d+\)$/,/^decimal\(\d+, \d+\)$/,/^numeric\(\d+, \d+\)$/,/^binary\(\d+\)$/,/^datetime\(\d+\)$/,/^time\(\d+\)$/,/^timetz\(\d+\)$/,/^timestamp\(\d+\)$/,/^timestamptz\(\d+\)$/,/^varbinary\(\d+\)$/],d8=Q({is(t){return t.kind==="DataTypeNode"},create(t){return Q({kind:"DataTypeNode",dataType:t})}});function f8(t){return!!(u8.includes(t)||c8.some(e=>e.test(t)))}function Qu(t){if(fs(t))return t.toOperationNode();if(f8(t))return d8.create(t);throw new Error(`invalid column data type ${JSON.stringify(t)}`)}const p8=Q({is(t){return t.kind==="CastNode"},create(t,e){return Q({kind:"CastNode",expression:t,dataType:e})}});function O1(t=vb){function e(i,s,o){return new Yn(k1(i,s,o))}function n(i,s){return new Yn(s8(i,s))}const r=Object.assign(e,{fn:void 0,eb:void 0,selectFrom(i){return oE({queryId:Gn(),executor:t,queryNode:Qn.createFrom(oh(i))})},case(i){return new MP({node:Uo.create(Rl(i)?void 0:Is(i))})},ref(i,s){return Rl(s)?new Yn(Da(i)):new aE(p5(i,s))},jsonPath(){return new aE(Bp.create())},table(i){return new Yn(Br(i))},val(i){return new Yn(Gr(i))},refTuple(...i){return new Yn(yO.create(i.map(Is)))},tuple(...i){return new Yn(yO.create(i.map(Gr)))},lit(i){return new Yn(N1(i))},unary:n,not(i){return n("not",i)},exists(i){return n("exists",i)},neg(i){return n("-",i)},between(i,s,o){return new Yn(jd.create(Is(i),zl.create("between"),Bl.create(Gr(s),Gr(o))))},betweenSymmetric(i,s,o){return new Yn(jd.create(Is(i),zl.create("between symmetric"),Bl.create(Gr(s),Gr(o))))},and(i){return Fa(i)?new Yn(iv(i,"and")):new Yn(XT(i,"and"))},or(i){return Fa(i)?new Yn(iv(i,"or")):new Yn(XT(i,"or"))},parens(...i){const s=pi(i);return Ad.is(s)?new Yn(s):new Yn(Ad.create(s))},cast(i,s){return new Yn(p8.create(Is(i),Qu(s)))},withSchema(i){return O1(t.withPluginAtFront(new Yh(i)))}});return r.fn=LP(),r.eb=r,r}function of(t){return O1()}function oc(t){if(fs(t))return t.toOperationNode();if(Ps(t))return t(of()).toOperationNode();throw new Error(`invalid expression: ${JSON.stringify(t)}`)}function BP(t){if(fs(t))return t.toOperationNode();if(Ps(t))return t(of()).toOperationNode();throw new Error(`invalid aliased expression: ${JSON.stringify(t)}`)}function Xh(t){return r5(t)||i5(t)||Ps(t)}function oh(t){return Fa(t)?t.map(e=>ah(e)):[ah(t)]}function ah(t){return js(t)?zP(t):BP(t)}function zP(t){const e=" as ";if(t.includes(e)){const[n,r]=t.split(e).map(WP);return Jl.create(Br(n),yr.create(r))}else return Br(t)}function Br(t){const e=".";if(t.includes(e)){const[n,r]=t.split(e).map(WP);return Al.createWithSchema(n,r)}else return Al.create(t)}function WP(t){return t.trim()}const UP=Q({is(t){return t.kind==="AddColumnNode"},create(t){return Q({kind:"AddColumnNode",column:t})}}),mr=Q({is(t){return t.kind==="ColumnDefinitionNode"},create(t,e){return Q({kind:"ColumnDefinitionNode",column:Ur.create(t),dataType:e})},cloneWithFrontModifier(t,e){return Q({...t,frontModifiers:t.frontModifiers?Q([...t.frontModifiers,e]):[e]})},cloneWithEndModifier(t,e){return Q({...t,endModifiers:t.endModifiers?Q([...t.endModifiers,e]):[e]})},cloneWith(t,e){return Q({...t,...e})}}),VP=Q({is(t){return t.kind==="DropColumnNode"},create(t){return Q({kind:"DropColumnNode",column:Ur.create(t)})}}),HP=Q({is(t){return t.kind==="RenameColumnNode"},create(t,e){return Q({kind:"RenameColumnNode",column:Ur.create(t),renameTo:Ur.create(e)})}}),q1=Q({is(t){return t.kind==="CheckConstraintNode"},create(t,e){return Q({kind:"CheckConstraintNode",expression:t,name:e?yr.create(e):void 0})}}),h8=["no action","restrict","cascade","set null","set default"],hy=Q({is(t){return t.kind==="ReferencesNode"},create(t,e){return Q({kind:"ReferencesNode",table:t,columns:Q([...e])})},cloneWithOnDelete(t,e){return Q({...t,onDelete:e})},cloneWithOnUpdate(t,e){return Q({...t,onUpdate:e})}});function QP(t){return fs(t)?t.toOperationNode():Jo.createImmediate(t)}const jg=Q({is(t){return t.kind==="GeneratedNode"},create(t){return Q({kind:"GeneratedNode",...t})},createWithExpression(t){return Q({kind:"GeneratedNode",always:!0,expression:t})},cloneWith(t,e){return Q({...t,...e})}}),m8=Q({is(t){return t.kind==="DefaultValueNode"},create(t){return Q({kind:"DefaultValueNode",defaultValue:t})}});function uv(t){if(h8.includes(t))return t;throw new Error(`invalid OnModifyForeignAction ${t}`)}class nr{#e;constructor(e){this.#e=e}autoIncrement(){return new nr(mr.cloneWith(this.#e,{autoIncrement:!0}))}identity(){return new nr(mr.cloneWith(this.#e,{identity:!0}))}primaryKey(){return new nr(mr.cloneWith(this.#e,{primaryKey:!0}))}references(e){const n=Da(e);if(!n.table||w1.is(n.column))throw new Error(`invalid call references('${e}'). The reference must have format table.column or schema.table.column`);return new nr(mr.cloneWith(this.#e,{references:hy.create(n.table,[n.column])}))}onDelete(e){if(!this.#e.references)throw new Error("on delete constraint can only be added for foreign keys");return new nr(mr.cloneWith(this.#e,{references:hy.cloneWithOnDelete(this.#e.references,uv(e))}))}onUpdate(e){if(!this.#e.references)throw new Error("on update constraint can only be added for foreign keys");return new nr(mr.cloneWith(this.#e,{references:hy.cloneWithOnUpdate(this.#e.references,uv(e))}))}unique(){return new nr(mr.cloneWith(this.#e,{unique:!0}))}notNull(){return new nr(mr.cloneWith(this.#e,{notNull:!0}))}unsigned(){return new nr(mr.cloneWith(this.#e,{unsigned:!0}))}defaultTo(e){return new nr(mr.cloneWith(this.#e,{defaultTo:m8.create(QP(e))}))}check(e){return new nr(mr.cloneWith(this.#e,{check:q1.create(e.toOperationNode())}))}generatedAlwaysAs(e){return new nr(mr.cloneWith(this.#e,{generated:jg.createWithExpression(e.toOperationNode())}))}generatedAlwaysAsIdentity(){return new nr(mr.cloneWith(this.#e,{generated:jg.create({identity:!0,always:!0})}))}generatedByDefaultAsIdentity(){return new nr(mr.cloneWith(this.#e,{generated:jg.create({identity:!0,byDefault:!0})}))}stored(){if(!this.#e.generated)throw new Error("stored() can only be called after generatedAlwaysAs");return new nr(mr.cloneWith(this.#e,{generated:jg.cloneWith(this.#e.generated,{stored:!0})}))}modifyFront(e){return new nr(mr.cloneWithFrontModifier(this.#e,e.toOperationNode()))}nullsNotDistinct(){return new nr(mr.cloneWith(this.#e,{nullsNotDistinct:!0}))}ifNotExists(){return new nr(mr.cloneWith(this.#e,{ifNotExists:!0}))}modifyEnd(e){return new nr(mr.cloneWithEndModifier(this.#e,e.toOperationNode()))}$call(e){return e(this)}toOperationNode(){return this.#e}}bn(nr,"don't await ColumnDefinitionBuilder instances directly.");const KP=Q({is(t){return t.kind==="ModifyColumnNode"},create(t){return Q({kind:"ModifyColumnNode",column:t})}}),cv=Q({is(t){return t.kind==="ForeignKeyConstraintNode"},create(t,e,n,r){return Q({kind:"ForeignKeyConstraintNode",columns:t,references:hy.create(e,n),name:r?yr.create(r):void 0})},cloneWith(t,e){return Q({...t,...e})}});class Pd{#e;constructor(e){this.#e=e}onDelete(e){return new Pd(cv.cloneWith(this.#e,{onDelete:uv(e)}))}onUpdate(e){return new Pd(cv.cloneWith(this.#e,{onUpdate:uv(e)}))}$call(e){return e(this)}toOperationNode(){return this.#e}}bn(Pd,"don't await ForeignKeyConstraintBuilder instances directly.");const my=Q({is(t){return t.kind==="AddConstraintNode"},create(t){return Q({kind:"AddConstraintNode",constraint:t})}}),R1=Q({is(t){return t.kind==="UniqueConstraintNode"},create(t,e,n){return Q({kind:"UniqueConstraintNode",columns:Q(t.map(Ur.create)),name:e?yr.create(e):void 0,nullsNotDistinct:n})},cloneWith(t,e){return Q({...t,...e})}}),gy=Q({is(t){return t.kind==="DropConstraintNode"},create(t){return Q({kind:"DropConstraintNode",constraintName:yr.create(t)})},cloneWith(t,e){return Q({...t,...e})}}),up=Q({is(t){return t.kind==="AlterColumnNode"},create(t,e,n){return Q({kind:"AlterColumnNode",column:Ur.create(t),[e]:n})}});class j1{#e;constructor(e){this.#e=e}setDataType(e){return new td(up.create(this.#e,"dataType",Qu(e)))}setDefault(e){return new td(up.create(this.#e,"setDefault",QP(e)))}dropDefault(){return new td(up.create(this.#e,"dropDefault",!0))}setNotNull(){return new td(up.create(this.#e,"setNotNull",!0))}dropNotNull(){return new td(up.create(this.#e,"dropNotNull",!0))}$call(e){return e(this)}}bn(j1,"don't await AlterColumnBuilder instances");class td{#e;constructor(e){this.#e=e}toOperationNode(){return this.#e}}bn(td,"don't await AlteredColumnBuilder instances");class Eu{#e;constructor(e){this.#e=Q(e)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}bn(Eu,"don't await AlterTableExecutor instances directly. To execute the query you need to call `execute`");class lh{#e;constructor(e){this.#e=Q(e)}onDelete(e){return new lh({...this.#e,constraintBuilder:this.#e.constraintBuilder.onDelete(e)})}onUpdate(e){return new lh({...this.#e,constraintBuilder:this.#e.constraintBuilder.onUpdate(e)})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(Kn.cloneWithTableProps(this.#e.node,{addConstraint:my.create(this.#e.constraintBuilder.toOperationNode())}),this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}bn(lh,"don't await AlterTableAddForeignKeyConstraintBuilder instances directly. To execute the query you need to call `execute`");class _d{#e;constructor(e){this.#e=Q(e)}ifExists(){return new _d({...this.#e,node:Kn.cloneWithTableProps(this.#e.node,{dropConstraint:gy.cloneWith(this.#e.node.dropConstraint,{ifExists:!0})})})}cascade(){return new _d({...this.#e,node:Kn.cloneWithTableProps(this.#e.node,{dropConstraint:gy.cloneWith(this.#e.node.dropConstraint,{modifier:"cascade"})})})}restrict(){return new _d({...this.#e,node:Kn.cloneWithTableProps(this.#e.node,{dropConstraint:gy.cloneWith(this.#e.node.dropConstraint,{modifier:"restrict"})})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}bn(_d,"don't await AlterTableDropConstraintBuilder instances directly. To execute the query you need to call `execute`");const GP=Q({is(t){return t.kind==="PrimaryKeyConstraintNode"},create(t,e){return Q({kind:"PrimaryKeyConstraintNode",columns:Q(t.map(Ur.create)),name:e?yr.create(e):void 0})}}),nd=Q({is(t){return t.kind==="AddIndexNode"},create(t){return Q({kind:"AddIndexNode",name:yr.create(t)})},cloneWith(t,e){return Q({...t,...e})},cloneWithColumns(t,e){return Q({...t,columns:[...t.columns||[],...e]})}});class kl{#e;constructor(e){this.#e=Q(e)}unique(){return new kl({...this.#e,node:Kn.cloneWithTableProps(this.#e.node,{addIndex:nd.cloneWith(this.#e.node.addIndex,{unique:!0})})})}column(e){return new kl({...this.#e,node:Kn.cloneWithTableProps(this.#e.node,{addIndex:nd.cloneWithColumns(this.#e.node.addIndex,[rv(e)])})})}columns(e){return new kl({...this.#e,node:Kn.cloneWithTableProps(this.#e.node,{addIndex:nd.cloneWithColumns(this.#e.node.addIndex,e.map(rv))})})}expression(e){return new kl({...this.#e,node:Kn.cloneWithTableProps(this.#e.node,{addIndex:nd.cloneWithColumns(this.#e.node.addIndex,[e.toOperationNode()])})})}using(e){return new kl({...this.#e,node:Kn.cloneWithTableProps(this.#e.node,{addIndex:nd.cloneWith(this.#e.node.addIndex,{using:Si.createWithSql(e)})})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}bn(kl,"don't await AlterTableAddIndexBuilder instances directly. To execute the query you need to call `execute`");class em{#e;constructor(e){this.#e=e}toOperationNode(){return this.#e}nullsNotDistinct(){return new em(R1.cloneWith(this.#e,{nullsNotDistinct:!0}))}}bn(em,"don't await UniqueConstraintNodeBuilder instances directly.");class ZP{#e;constructor(e){this.#e=Q(e)}renameTo(e){return new Eu({...this.#e,node:Kn.cloneWithTableProps(this.#e.node,{renameTo:Br(e)})})}setSchema(e){return new Eu({...this.#e,node:Kn.cloneWithTableProps(this.#e.node,{setSchema:yr.create(e)})})}alterColumn(e,n){const r=n(new j1(e));return new Xs({...this.#e,node:Kn.cloneWithColumnAlteration(this.#e.node,r.toOperationNode())})}dropColumn(e){return new Xs({...this.#e,node:Kn.cloneWithColumnAlteration(this.#e.node,VP.create(e))})}renameColumn(e,n){return new Xs({...this.#e,node:Kn.cloneWithColumnAlteration(this.#e.node,HP.create(e,n))})}addColumn(e,n,r=jl){const i=r(new nr(mr.create(e,Qu(n))));return new Xs({...this.#e,node:Kn.cloneWithColumnAlteration(this.#e.node,UP.create(i.toOperationNode()))})}modifyColumn(e,n,r=jl){const i=r(new nr(mr.create(e,Qu(n))));return new Xs({...this.#e,node:Kn.cloneWithColumnAlteration(this.#e.node,KP.create(i.toOperationNode()))})}addUniqueConstraint(e,n,r=jl){const i=r(new em(R1.create(n,e)));return new Eu({...this.#e,node:Kn.cloneWithTableProps(this.#e.node,{addConstraint:my.create(i.toOperationNode())})})}addCheckConstraint(e,n){return new Eu({...this.#e,node:Kn.cloneWithTableProps(this.#e.node,{addConstraint:my.create(q1.create(n.toOperationNode(),e))})})}addForeignKeyConstraint(e,n,r,i){return new lh({...this.#e,constraintBuilder:new Pd(cv.create(n.map(Ur.create),Br(r),i.map(Ur.create),e))})}addPrimaryKeyConstraint(e,n){return new Eu({...this.#e,node:Kn.cloneWithTableProps(this.#e.node,{addConstraint:my.create(GP.create(n,e))})})}dropConstraint(e){return new _d({...this.#e,node:Kn.cloneWithTableProps(this.#e.node,{dropConstraint:gy.create(e)})})}addIndex(e){return new kl({...this.#e,node:Kn.cloneWithTableProps(this.#e.node,{addIndex:nd.create(e)})})}dropIndex(e){return new Eu({...this.#e,node:Kn.cloneWithTableProps(this.#e.node,{dropIndex:Mp.create(e)})})}$call(e){return e(this)}}bn(ZP,"don't await AlterTableBuilder instances");class Xs{#e;constructor(e){this.#e=Q(e)}alterColumn(e,n){const r=n(new j1(e));return new Xs({...this.#e,node:Kn.cloneWithColumnAlteration(this.#e.node,r.toOperationNode())})}dropColumn(e){return new Xs({...this.#e,node:Kn.cloneWithColumnAlteration(this.#e.node,VP.create(e))})}renameColumn(e,n){return new Xs({...this.#e,node:Kn.cloneWithColumnAlteration(this.#e.node,HP.create(e,n))})}addColumn(e,n,r=jl){const i=r(new nr(mr.create(e,Qu(n))));return new Xs({...this.#e,node:Kn.cloneWithColumnAlteration(this.#e.node,UP.create(i.toOperationNode()))})}modifyColumn(e,n,r=jl){const i=r(new nr(mr.create(e,Qu(n))));return new Xs({...this.#e,node:Kn.cloneWithColumnAlteration(this.#e.node,KP.create(i.toOperationNode()))})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}bn(Xs,"don't await AlterTableColumnAlteringBuilder instances directly. To execute the query you need to call `execute`");class JP extends jP{transformValue(e){return{...super.transformValue(e),immediate:!0}}}class Gs{#e;constructor(e){this.#e=Q(e)}ifNotExists(){return new Gs({...this.#e,node:Ea.cloneWith(this.#e.node,{ifNotExists:!0})})}unique(){return new Gs({...this.#e,node:Ea.cloneWith(this.#e.node,{unique:!0})})}nullsNotDistinct(){return new Gs({...this.#e,node:Ea.cloneWith(this.#e.node,{nullsNotDistinct:!0})})}on(e){return new Gs({...this.#e,node:Ea.cloneWith(this.#e.node,{table:Br(e)})})}column(e){return new Gs({...this.#e,node:Ea.cloneWithColumns(this.#e.node,[rv(e)])})}columns(e){return new Gs({...this.#e,node:Ea.cloneWithColumns(this.#e.node,e.map(rv))})}expression(e){return new Gs({...this.#e,node:Ea.cloneWithColumns(this.#e.node,[e.toOperationNode()])})}using(e){return new Gs({...this.#e,node:Ea.cloneWith(this.#e.node,{using:Si.createWithSql(e)})})}where(...e){const n=new JP;return new Gs({...this.#e,node:At.cloneWithWhere(this.#e.node,n.transformNode(pi(e)))})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}bn(Gs,"don't await CreateIndexBuilder instances directly. To execute the query you need to call `execute`");class bb{#e;constructor(e){this.#e=Q(e)}ifNotExists(){return new bb({...this.#e,node:bP.cloneWith(this.#e.node,{ifNotExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}bn(bb,"don't await CreateSchemaBuilder instances directly. To execute the query you need to call `execute`");function g8(t){if(n5.includes(t))return t;throw new Error(`invalid OnCommitAction ${t}`)}class rs{#e;constructor(e){this.#e=Q(e)}temporary(){return new rs({...this.#e,node:ws.cloneWith(this.#e.node,{temporary:!0})})}onCommit(e){return new rs({...this.#e,node:ws.cloneWith(this.#e.node,{onCommit:g8(e)})})}ifNotExists(){return new rs({...this.#e,node:ws.cloneWith(this.#e.node,{ifNotExists:!0})})}addColumn(e,n,r=jl){const i=r(new nr(mr.create(e,Qu(n))));return new rs({...this.#e,node:ws.cloneWithColumn(this.#e.node,i.toOperationNode())})}addPrimaryKeyConstraint(e,n){return new rs({...this.#e,node:ws.cloneWithConstraint(this.#e.node,GP.create(n,e))})}addUniqueConstraint(e,n,r=jl){const i=r(new em(R1.create(n,e)));return new rs({...this.#e,node:ws.cloneWithConstraint(this.#e.node,i.toOperationNode())})}addCheckConstraint(e,n){return new rs({...this.#e,node:ws.cloneWithConstraint(this.#e.node,q1.create(n.toOperationNode(),e))})}addForeignKeyConstraint(e,n,r,i,s=jl){const o=s(new Pd(cv.create(n.map(Ur.create),Br(r),i.map(Ur.create),e)));return new rs({...this.#e,node:ws.cloneWithConstraint(this.#e.node,o.toOperationNode())})}modifyFront(e){return new rs({...this.#e,node:ws.cloneWithFrontModifier(this.#e.node,e.toOperationNode())})}modifyEnd(e){return new rs({...this.#e,node:ws.cloneWithEndModifier(this.#e.node,e.toOperationNode())})}as(e){return new rs({...this.#e,node:ws.cloneWith(this.#e.node,{selectQuery:oc(e)})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}bn(rs,"don't await CreateTableBuilder instances directly. To execute the query you need to call `execute`");class Sd{#e;constructor(e){this.#e=Q(e)}on(e){return new Sd({...this.#e,node:Mp.cloneWith(this.#e.node,{table:Br(e)})})}ifExists(){return new Sd({...this.#e,node:Mp.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new Sd({...this.#e,node:Mp.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}bn(Sd,"don't await DropIndexBuilder instances directly. To execute the query you need to call `execute`");class uh{#e;constructor(e){this.#e=Q(e)}ifExists(){return new uh({...this.#e,node:eE.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new uh({...this.#e,node:eE.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}bn(uh,"don't await DropSchemaBuilder instances directly. To execute the query you need to call `execute`");class ch{#e;constructor(e){this.#e=Q(e)}ifExists(){return new ch({...this.#e,node:tE.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new ch({...this.#e,node:tE.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}bn(ch,"don't await DropTableBuilder instances directly. To execute the query you need to call `execute`");const xl=Q({is(t){return t.kind==="CreateViewNode"},create(t){return Q({kind:"CreateViewNode",name:$l.create(t)})},cloneWith(t,e){return Q({...t,...e})}});class y8{#e=new JP;transformQuery(e){return this.#e.transformNode(e.node)}transformResult(e){return Promise.resolve(e.result)}}class Ca{#e;constructor(e){this.#e=Q(e)}temporary(){return new Ca({...this.#e,node:xl.cloneWith(this.#e.node,{temporary:!0})})}materialized(){return new Ca({...this.#e,node:xl.cloneWith(this.#e.node,{materialized:!0})})}ifNotExists(){return new Ca({...this.#e,node:xl.cloneWith(this.#e.node,{ifNotExists:!0})})}orReplace(){return new Ca({...this.#e,node:xl.cloneWith(this.#e.node,{orReplace:!0})})}columns(e){return new Ca({...this.#e,node:xl.cloneWith(this.#e.node,{columns:e.map(kP)})})}as(e){const n=e.withPlugin(new y8).toOperationNode();return new Ca({...this.#e,node:xl.cloneWith(this.#e.node,{as:n})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}bn(Ca,"don't await CreateViewBuilder instances directly. To execute the query you need to call `execute`");const yy=Q({is(t){return t.kind==="DropViewNode"},create(t){return Q({kind:"DropViewNode",name:$l.create(t)})},cloneWith(t,e){return Q({...t,...e})}});class Ed{#e;constructor(e){this.#e=Q(e)}materialized(){return new Ed({...this.#e,node:yy.cloneWith(this.#e.node,{materialized:!0})})}ifExists(){return new Ed({...this.#e,node:yy.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new Ed({...this.#e,node:yy.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}bn(Ed,"don't await DropViewBuilder instances directly. To execute the query you need to call `execute`");const YP=Q({is(t){return t.kind==="CreateTypeNode"},create(t){return Q({kind:"CreateTypeNode",name:t})},cloneWithEnum(t,e){return Q({...t,enum:S1.create(e.map(n=>Jo.createImmediate(n)))})}});class xb{#e;constructor(e){this.#e=Q(e)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}asEnum(e){return new xb({...this.#e,node:YP.cloneWithEnum(this.#e.node,e)})}$call(e){return e(this)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}bn(xb,"don't await CreateTypeBuilder instances directly. To execute the query you need to call `execute`");const XP=Q({is(t){return t.kind==="DropTypeNode"},create(t){return Q({kind:"DropTypeNode",name:t})},cloneWith(t,e){return Q({...t,...e})}});class wb{#e;constructor(e){this.#e=Q(e)}ifExists(){return new wb({...this.#e,node:XP.cloneWith(this.#e.node,{ifExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}bn(wb,"don't await DropTypeBuilder instances directly. To execute the query you need to call `execute`");function vO(t){const e=".";if(t.includes(e)){const n=t.split(e).map(v8);if(n.length===2)return $l.createWithSchema(n[0],n[1]);throw new Error(`invalid schemable identifier ${t}`)}else return $l.create(t)}function v8(t){return t.trim()}class Up{#e;constructor(e){this.#e=e}createTable(e){return new rs({queryId:Gn(),executor:this.#e,node:ws.create(Br(e))})}dropTable(e){return new ch({queryId:Gn(),executor:this.#e,node:tE.create(Br(e))})}createIndex(e){return new Gs({queryId:Gn(),executor:this.#e,node:Ea.create(e)})}dropIndex(e){return new Sd({queryId:Gn(),executor:this.#e,node:Mp.create(e)})}createSchema(e){return new bb({queryId:Gn(),executor:this.#e,node:bP.create(e)})}dropSchema(e){return new uh({queryId:Gn(),executor:this.#e,node:eE.create(e)})}alterTable(e){return new ZP({queryId:Gn(),executor:this.#e,node:Kn.create(Br(e))})}createView(e){return new Ca({queryId:Gn(),executor:this.#e,node:xl.create(e)})}dropView(e){return new Ed({queryId:Gn(),executor:this.#e,node:yy.create(e)})}createType(e){return new xb({queryId:Gn(),executor:this.#e,node:YP.create(vO(e))})}dropType(e){return new wb({queryId:Gn(),executor:this.#e,node:XP.create(vO(e))})}withPlugin(e){return new Up(this.#e.withPlugin(e))}withoutPlugins(){return new Up(this.#e.withoutPlugins())}withSchema(e){return new Up(this.#e.withPluginAtFront(new Yh(e)))}}class b8{ref(e){return new d5(e)}}class x8{#e;constructor(e){this.#e=e}async provideConnection(e){const n=await this.#e.acquireConnection();try{return await e(n)}finally{await this.#e.releaseConnection(n)}}}class Tu extends AP{#e;#t;#n;constructor(e,n,r,i=[]){super(i),this.#e=e,this.#t=n,this.#n=r}get adapter(){return this.#t}compileQuery(e){return this.#e.compileQuery(e)}provideConnection(e){return this.#n.provideConnection(e)}withPlugins(e){return new Tu(this.#e,this.#t,this.#n,[...this.plugins,...e])}withPlugin(e){return new Tu(this.#e,this.#t,this.#n,[...this.plugins,e])}withPluginAtFront(e){return new Tu(this.#e,this.#t,this.#n,[e,...this.plugins])}withConnectionProvider(e){return new Tu(this.#e,this.#t,e,[...this.plugins])}withoutPlugins(){return new Tu(this.#e,this.#t,this.#n,[])}}function bO(){return typeof performance<"u"&&Ps(performance.now)?performance.now():Date.now()}class w8{#e;#t;#n;#r;#i;#s=new WeakSet;constructor(e,n){this.#r=!1,this.#e=e,this.#t=n}async init(){if(this.#i)throw new Error("driver has already been destroyed");this.#n||(this.#n=this.#e.init().then(()=>{this.#r=!0}).catch(e=>(this.#n=void 0,Promise.reject(e)))),await this.#n}async acquireConnection(){if(this.#i)throw new Error("driver has already been destroyed");this.#r||await this.init();const e=await this.#e.acquireConnection();return this.#s.has(e)||(this.#o()&&this.#a(e),this.#s.add(e)),e}async releaseConnection(e){await this.#e.releaseConnection(e)}beginTransaction(e,n){return this.#e.beginTransaction(e,n)}commitTransaction(e){return this.#e.commitTransaction(e)}rollbackTransaction(e){return this.#e.rollbackTransaction(e)}async destroy(){this.#n&&(await this.#n,this.#i||(this.#i=this.#e.destroy().catch(e=>(this.#i=void 0,Promise.reject(e)))),await this.#i)}#o(){return this.#t.isLevelEnabled("query")||this.#t.isLevelEnabled("error")}#a(e){const n=e.executeQuery;e.executeQuery=async r=>{let i;const s=bO();try{return await n.call(e,r)}catch(o){throw i=o,await this.#u(o,r,s),o}finally{i||await this.#l(r,s)}}}async #u(e,n,r){await this.#t.error(()=>({level:"error",error:e,query:n,queryDurationMillis:this.#c(r)}))}async #l(e,n){await this.#t.query(()=>({level:"query",query:e,queryDurationMillis:this.#c(n)}))}#c(e){return bO()-e}}const _8=()=>{};class eF{#e;#t;constructor(e){this.#e=e}async provideConnection(e){for(;this.#t;)await this.#t.catch(_8);return this.#t=this.#n(e).finally(()=>{this.#t=void 0}),this.#t}async #n(e){return await e(this.#e)}}const S8=["read uncommitted","read committed","repeatable read","serializable","snapshot"];Q(["query","error"]);class E8{#e;#t;constructor(e){Ps(e)?(this.#t=e,this.#e=Q({query:!0,error:!0})):(this.#t=N8,this.#e=Q({query:e.includes("query"),error:e.includes("error")}))}isLevelEnabled(e){return this.#e[e]}async query(e){this.#e.query&&await this.#t(e())}async error(e){this.#e.error&&await this.#t(e())}}function N8(t){t.level==="query"?(console.log(`kysely:query: ${t.query.sql}`),console.log(`kysely:query: duration: ${t.queryDurationMillis.toFixed(1)}ms`)):t.level==="error"&&(t.error instanceof Error?console.error(`kysely:error: ${t.error.stack??t.error.message}`):console.error(`kysely:error: ${JSON.stringify({error:t.error,query:t.query.sql,queryDurationMillis:t.queryDurationMillis})}`))}function k8(t){return zo(t)&&Ps(t.compile)}let A1=class wp extends El{#e;constructor(e){let n,r;if(I8(e))n={executor:e.executor},r={...e};else{const i=e.dialect,s=i.createDriver(),o=i.createQueryCompiler(),l=i.createAdapter(),c=new E8(e.log??[]),d=new w8(s,c),f=new x8(d),h=new Tu(o,l,f,e.plugins??[]);n={executor:h},r={config:e,executor:h,dialect:i,driver:d}}super(n),this.#e=Q(r)}get schema(){return new Up(this.#e.executor)}get dynamic(){return new b8}get introspection(){return this.#e.dialect.createIntrospector(this.withoutPlugins())}case(e){return new MP({node:Uo.create(Rl(e)?void 0:oc(e))})}get fn(){return LP()}transaction(){return new _b({...this.#e})}connection(){return new tF({...this.#e})}withPlugin(e){return new wp({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new wp({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new wp({...this.#e,executor:this.#e.executor.withPluginAtFront(new Yh(e))})}withTables(){return new wp({...this.#e})}async destroy(){await this.#e.driver.destroy()}get isTransaction(){return!1}getExecutor(){return this.#e.executor}executeQuery(e,n=Gn()){const r=k8(e)?e.compile():e;return this.getExecutor().executeQuery(r,n)}};class od extends A1{#e;constructor(e){super(e),this.#e=e}get isTransaction(){return!0}transaction(){throw new Error("calling the transaction method for a Transaction is not supported")}connection(){throw new Error("calling the connection method for a Transaction is not supported")}async destroy(){throw new Error("calling the destroy method for a Transaction is not supported")}withPlugin(e){return new od({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new od({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new od({...this.#e,executor:this.#e.executor.withPluginAtFront(new Yh(e))})}withTables(){return new od({...this.#e})}}function I8(t){return zo(t)&&zo(t.config)&&zo(t.driver)&&zo(t.executor)&&zo(t.dialect)}class tF{#e;constructor(e){this.#e=Q(e)}async execute(e){return this.#e.executor.provideConnection(async n=>{const r=this.#e.executor.withConnectionProvider(new eF(n)),i=new A1({...this.#e,executor:r});return await e(i)})}}bn(tF,"don't await ConnectionBuilder instances directly. To execute the query you need to call the `execute` method");class _b{#e;constructor(e){this.#e=Q(e)}setIsolationLevel(e){return new _b({...this.#e,isolationLevel:e})}async execute(e){const{isolationLevel:n,...r}=this.#e,i={isolationLevel:n};return C8(i),this.#e.executor.provideConnection(async s=>{const o=this.#e.executor.withConnectionProvider(new eF(s)),l=new od({...r,executor:o});try{await this.#e.driver.beginTransaction(s,i);const c=await e(l);return await this.#e.driver.commitTransaction(s),c}catch(c){throw await this.#e.driver.rollbackTransaction(s),c}})}}bn(_b,"don't await TransactionBuilder instances directly. To execute the transaction you need to call the `execute` method");function C8(t){if(t.isolationLevel&&!S8.includes(t.isolationLevel))throw new Error(`invalid transaction isolation level ${t.isolationLevel}`)}class Nd{#e;constructor(e){this.#e=Q(e)}get expressionType(){}get isRawBuilder(){return!0}as(e){return new nF(this,e)}$castTo(){return new Nd({...this.#e})}$notNull(){return new Nd(this.#e)}withPlugin(e){return new Nd({...this.#e,plugins:this.#e.plugins!==void 0?Q([...this.#e.plugins,e]):Q([e])})}toOperationNode(){return this.#n(this.#t())}compile(e){return this.#r(this.#t(e))}async execute(e){const n=this.#t(e);return n.executeQuery(this.#r(n),this.#e.queryId)}#t(e){const n=e!==void 0?e.getExecutor():vb;return this.#e.plugins!==void 0?n.withPlugins(this.#e.plugins):n}#n(e){return e.transformQuery(this.#e.rawNode,this.#e.queryId)}#r(e){return e.compileQuery(this.#n(e),this.#e.queryId)}}function hl(t){return new Nd(t)}bn(Nd,"don't await RawBuilder instances directly. To execute the query you need to call `execute`");class nF{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}get rawBuilder(){return this.#e}toOperationNode(){return Jl.create(this.#e.toOperationNode(),fs(this.#t)?this.#t.toOperationNode():yr.create(this.#t))}}bn(nF,"don't await AliasedRawBuilder instances directly. AliasedRawBuilder should never be executed directly since it's always a part of another query.");const Nr=Object.assign((t,...e)=>hl({queryId:Gn(),rawNode:Si.create(t,e?.map(xO)??[])}),{ref(t){return hl({queryId:Gn(),rawNode:Si.createWithChild(Da(t))})},val(t){return hl({queryId:Gn(),rawNode:Si.createWithChild(Gr(t))})},value(t){return this.val(t)},table(t){return hl({queryId:Gn(),rawNode:Si.createWithChild(Br(t))})},id(...t){const e=new Array(t.length+1).fill(".");return e[0]="",e[e.length-1]="",hl({queryId:Gn(),rawNode:Si.create(e,t.map(yr.create))})},lit(t){return hl({queryId:Gn(),rawNode:Si.createWithChild(Jo.createImmediate(t))})},literal(t){return this.lit(t)},raw(t){return hl({queryId:Gn(),rawNode:Si.createWithSql(t)})},join(t,e=Nr`, `){const n=new Array(2*t.length-1),r=e.toOperationNode();for(let i=0;i<t.length;++i)n[2*i]=xO(t[i]),i!==t.length-1&&(n[2*i+1]=r);return hl({queryId:Gn(),rawNode:Si.createWithChildren(n)})}});function xO(t){return fs(t)?t.toOperationNode():Gr(t)}class T8{nodeStack=[];get parentNode(){return this.nodeStack[this.nodeStack.length-2]}#e=Q({AliasNode:this.visitAlias.bind(this),ColumnNode:this.visitColumn.bind(this),IdentifierNode:this.visitIdentifier.bind(this),SchemableIdentifierNode:this.visitSchemableIdentifier.bind(this),RawNode:this.visitRaw.bind(this),ReferenceNode:this.visitReference.bind(this),SelectQueryNode:this.visitSelectQuery.bind(this),SelectionNode:this.visitSelection.bind(this),TableNode:this.visitTable.bind(this),FromNode:this.visitFrom.bind(this),SelectAllNode:this.visitSelectAll.bind(this),AndNode:this.visitAnd.bind(this),OrNode:this.visitOr.bind(this),ValueNode:this.visitValue.bind(this),ValueListNode:this.visitValueList.bind(this),PrimitiveValueListNode:this.visitPrimitiveValueList.bind(this),ParensNode:this.visitParens.bind(this),JoinNode:this.visitJoin.bind(this),OperatorNode:this.visitOperator.bind(this),WhereNode:this.visitWhere.bind(this),InsertQueryNode:this.visitInsertQuery.bind(this),DeleteQueryNode:this.visitDeleteQuery.bind(this),ReturningNode:this.visitReturning.bind(this),CreateTableNode:this.visitCreateTable.bind(this),AddColumnNode:this.visitAddColumn.bind(this),ColumnDefinitionNode:this.visitColumnDefinition.bind(this),DropTableNode:this.visitDropTable.bind(this),DataTypeNode:this.visitDataType.bind(this),OrderByNode:this.visitOrderBy.bind(this),OrderByItemNode:this.visitOrderByItem.bind(this),GroupByNode:this.visitGroupBy.bind(this),GroupByItemNode:this.visitGroupByItem.bind(this),UpdateQueryNode:this.visitUpdateQuery.bind(this),ColumnUpdateNode:this.visitColumnUpdate.bind(this),LimitNode:this.visitLimit.bind(this),OffsetNode:this.visitOffset.bind(this),OnConflictNode:this.visitOnConflict.bind(this),OnDuplicateKeyNode:this.visitOnDuplicateKey.bind(this),CreateIndexNode:this.visitCreateIndex.bind(this),DropIndexNode:this.visitDropIndex.bind(this),ListNode:this.visitList.bind(this),PrimaryKeyConstraintNode:this.visitPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.visitUniqueConstraint.bind(this),ReferencesNode:this.visitReferences.bind(this),CheckConstraintNode:this.visitCheckConstraint.bind(this),WithNode:this.visitWith.bind(this),CommonTableExpressionNode:this.visitCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.visitCommonTableExpressionName.bind(this),HavingNode:this.visitHaving.bind(this),CreateSchemaNode:this.visitCreateSchema.bind(this),DropSchemaNode:this.visitDropSchema.bind(this),AlterTableNode:this.visitAlterTable.bind(this),DropColumnNode:this.visitDropColumn.bind(this),RenameColumnNode:this.visitRenameColumn.bind(this),AlterColumnNode:this.visitAlterColumn.bind(this),ModifyColumnNode:this.visitModifyColumn.bind(this),AddConstraintNode:this.visitAddConstraint.bind(this),DropConstraintNode:this.visitDropConstraint.bind(this),ForeignKeyConstraintNode:this.visitForeignKeyConstraint.bind(this),CreateViewNode:this.visitCreateView.bind(this),DropViewNode:this.visitDropView.bind(this),GeneratedNode:this.visitGenerated.bind(this),DefaultValueNode:this.visitDefaultValue.bind(this),OnNode:this.visitOn.bind(this),ValuesNode:this.visitValues.bind(this),SelectModifierNode:this.visitSelectModifier.bind(this),CreateTypeNode:this.visitCreateType.bind(this),DropTypeNode:this.visitDropType.bind(this),ExplainNode:this.visitExplain.bind(this),DefaultInsertValueNode:this.visitDefaultInsertValue.bind(this),AggregateFunctionNode:this.visitAggregateFunction.bind(this),OverNode:this.visitOver.bind(this),PartitionByNode:this.visitPartitionBy.bind(this),PartitionByItemNode:this.visitPartitionByItem.bind(this),SetOperationNode:this.visitSetOperation.bind(this),BinaryOperationNode:this.visitBinaryOperation.bind(this),UnaryOperationNode:this.visitUnaryOperation.bind(this),UsingNode:this.visitUsing.bind(this),FunctionNode:this.visitFunction.bind(this),CaseNode:this.visitCase.bind(this),WhenNode:this.visitWhen.bind(this),JSONReferenceNode:this.visitJSONReference.bind(this),JSONPathNode:this.visitJSONPath.bind(this),JSONPathLegNode:this.visitJSONPathLeg.bind(this),JSONOperatorChainNode:this.visitJSONOperatorChain.bind(this),TupleNode:this.visitTuple.bind(this),MergeQueryNode:this.visitMergeQuery.bind(this),MatchedNode:this.visitMatched.bind(this),AddIndexNode:this.visitAddIndex.bind(this),CastNode:this.visitCast.bind(this),FetchNode:this.visitFetch.bind(this),TopNode:this.visitTop.bind(this),OutputNode:this.visitOutput.bind(this)});visitNode=e=>{this.nodeStack.push(e),this.#e[e.kind](e),this.nodeStack.pop()}}class O8 extends T8{#e="";#t=[];get numParameters(){return this.#t.length}compileQuery(e){return this.#e="",this.#t=[],this.nodeStack.splice(0,this.nodeStack.length),this.visitNode(e),Q({query:e,sql:this.getSql(),parameters:[...this.#t]})}getSql(){return this.#e}visitSelectQuery(e){const n=this.parentNode!==void 0&&!Ad.is(this.parentNode)&&!Es.is(this.parentNode)&&!ws.is(this.parentNode)&&!xl.is(this.parentNode)&&!FP.is(this.parentNode);this.parentNode===void 0&&e.explain&&(this.visitNode(e.explain),this.append(" ")),n&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("select"),e.distinctOn&&(this.append(" "),this.compileDistinctOn(e.distinctOn)),e.frontModifiers?.length&&(this.append(" "),this.compileList(e.frontModifiers," ")),e.top&&(this.append(" "),this.visitNode(e.top)),e.selections&&(this.append(" "),this.compileList(e.selections)),e.from&&(this.append(" "),this.visitNode(e.from)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.groupBy&&(this.append(" "),this.visitNode(e.groupBy)),e.having&&(this.append(" "),this.visitNode(e.having)),e.setOperations&&(this.append(" "),this.compileList(e.setOperations," ")),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.offset&&(this.append(" "),this.visitNode(e.offset)),e.fetch&&(this.append(" "),this.visitNode(e.fetch)),e.endModifiers?.length&&(this.append(" "),this.compileList(this.sortSelectModifiers([...e.endModifiers])," ")),n&&this.append(")")}visitFrom(e){this.append("from "),this.compileList(e.froms)}visitSelection(e){this.visitNode(e.selection)}visitColumn(e){this.visitNode(e.column)}compileDistinctOn(e){this.append("distinct on ("),this.compileList(e),this.append(")")}compileList(e,n=", "){const r=e.length-1;for(let i=0;i<=r;i++)this.visitNode(e[i]),i<r&&this.append(n)}visitWhere(e){this.append("where "),this.visitNode(e.where)}visitHaving(e){this.append("having "),this.visitNode(e.having)}visitInsertQuery(e){const n=this.nodeStack.find(At.is),r=n!==e;!r&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&!as.is(n)&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append(e.replace?"replace":"insert"),e.ignore&&this.append(" ignore"),e.top&&(this.append(" "),this.visitNode(e.top)),e.into&&(this.append(" into "),this.visitNode(e.into)),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.output&&(this.append(" "),this.visitNode(e.output)),e.values&&(this.append(" "),this.visitNode(e.values)),e.defaultValues&&(this.append(" "),this.append("default values")),e.onConflict&&(this.append(" "),this.visitNode(e.onConflict)),e.onDuplicateKey&&(this.append(" "),this.visitNode(e.onDuplicateKey)),e.returning&&(this.append(" "),this.visitNode(e.returning)),r&&!as.is(n)&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitValues(e){this.append("values "),this.compileList(e.values)}visitDeleteQuery(e){const n=this.nodeStack.find(At.is)!==e;!n&&e.explain&&(this.visitNode(e.explain),this.append(" ")),n&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("delete "),e.top&&(this.visitNode(e.top),this.append(" ")),this.visitNode(e.from),e.output&&(this.append(" "),this.visitNode(e.output)),e.using&&(this.append(" "),this.visitNode(e.using)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.returning&&(this.append(" "),this.visitNode(e.returning)),n&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitReturning(e){this.append("returning "),this.compileList(e.selections)}visitAlias(e){this.visitNode(e.node),this.append(" as "),this.visitNode(e.alias)}visitReference(e){e.table&&(this.visitNode(e.table),this.append(".")),this.visitNode(e.column)}visitSelectAll(e){this.append("*")}visitIdentifier(e){this.append(this.getLeftIdentifierWrapper()),this.compileUnwrappedIdentifier(e),this.append(this.getRightIdentifierWrapper())}compileUnwrappedIdentifier(e){if(!js(e.name))throw new Error("a non-string identifier was passed to compileUnwrappedIdentifier.");this.append(this.sanitizeIdentifier(e.name))}visitAnd(e){this.visitNode(e.left),this.append(" and "),this.visitNode(e.right)}visitOr(e){this.visitNode(e.left),this.append(" or "),this.visitNode(e.right)}visitValue(e){e.immediate?this.appendImmediateValue(e.value):this.appendValue(e.value)}visitValueList(e){this.append("("),this.compileList(e.values),this.append(")")}visitTuple(e){this.append("("),this.compileList(e.values),this.append(")")}visitPrimitiveValueList(e){this.append("(");const{values:n}=e;for(let r=0;r<n.length;++r)this.appendValue(n[r]),r!==n.length-1&&this.append(", ");this.append(")")}visitParens(e){this.append("("),this.visitNode(e.node),this.append(")")}visitJoin(e){this.append(R8[e.joinType]),this.append(" "),this.visitNode(e.table),e.on&&(this.append(" "),this.visitNode(e.on))}visitOn(e){this.append("on "),this.visitNode(e.on)}visitRaw(e){const{sqlFragments:n,parameters:r}=e;for(let i=0;i<n.length;++i)this.append(n[i]),r.length>i&&this.visitNode(r[i])}visitOperator(e){this.append(e.operator)}visitTable(e){this.visitNode(e.table)}visitSchemableIdentifier(e){e.schema&&(this.visitNode(e.schema),this.append(".")),this.visitNode(e.identifier)}visitCreateTable(e){this.append("create "),e.frontModifiers&&e.frontModifiers.length>0&&(this.compileList(e.frontModifiers," "),this.append(" ")),e.temporary&&this.append("temporary "),this.append("table "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.table),e.selectQuery?(this.append(" as "),this.visitNode(e.selectQuery)):(this.append(" ("),this.compileList([...e.columns,...e.constraints??[]]),this.append(")"),e.onCommit&&(this.append(" on commit "),this.append(e.onCommit)),e.endModifiers&&e.endModifiers.length>0&&(this.append(" "),this.compileList(e.endModifiers," ")))}visitColumnDefinition(e){e.ifNotExists&&this.append("if not exists "),this.visitNode(e.column),this.append(" "),this.visitNode(e.dataType),e.unsigned&&this.append(" unsigned"),e.frontModifiers&&e.frontModifiers.length>0&&(this.append(" "),this.compileList(e.frontModifiers," ")),e.generated&&(this.append(" "),this.visitNode(e.generated)),e.identity&&this.append(" identity"),e.defaultTo&&(this.append(" "),this.visitNode(e.defaultTo)),e.notNull&&this.append(" not null"),e.unique&&this.append(" unique"),e.nullsNotDistinct&&this.append(" nulls not distinct"),e.primaryKey&&this.append(" primary key"),e.autoIncrement&&(this.append(" "),this.append(this.getAutoIncrement())),e.references&&(this.append(" "),this.visitNode(e.references)),e.check&&(this.append(" "),this.visitNode(e.check)),e.endModifiers&&e.endModifiers.length>0&&(this.append(" "),this.compileList(e.endModifiers," "))}getAutoIncrement(){return"auto_increment"}visitReferences(e){this.append("references "),this.visitNode(e.table),this.append(" ("),this.compileList(e.columns),this.append(")"),e.onDelete&&(this.append(" on delete "),this.append(e.onDelete)),e.onUpdate&&(this.append(" on update "),this.append(e.onUpdate))}visitDropTable(e){this.append("drop table "),e.ifExists&&this.append("if exists "),this.visitNode(e.table),e.cascade&&this.append(" cascade")}visitDataType(e){this.append(e.dataType)}visitOrderBy(e){this.append("order by "),this.compileList(e.items)}visitOrderByItem(e){this.visitNode(e.orderBy),e.direction&&(this.append(" "),this.visitNode(e.direction))}visitGroupBy(e){this.append("group by "),this.compileList(e.items)}visitGroupByItem(e){this.visitNode(e.groupBy)}visitUpdateQuery(e){const n=this.nodeStack.find(At.is),r=n!==e;!r&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&!as.is(n)&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("update "),e.top&&(this.visitNode(e.top),this.append(" ")),e.table&&(this.visitNode(e.table),this.append(" ")),this.append("set "),e.updates&&this.compileList(e.updates),e.output&&(this.append(" "),this.visitNode(e.output)),e.from&&(this.append(" "),this.visitNode(e.from)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.returning&&(this.append(" "),this.visitNode(e.returning)),r&&!as.is(n)&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitColumnUpdate(e){this.visitNode(e.column),this.append(" = "),this.visitNode(e.value)}visitLimit(e){this.append("limit "),this.visitNode(e.limit)}visitOffset(e){this.append("offset "),this.visitNode(e.offset)}visitOnConflict(e){this.append("on conflict"),e.columns?(this.append(" ("),this.compileList(e.columns),this.append(")")):e.constraint?(this.append(" on constraint "),this.visitNode(e.constraint)):e.indexExpression&&(this.append(" ("),this.visitNode(e.indexExpression),this.append(")")),e.indexWhere&&(this.append(" "),this.visitNode(e.indexWhere)),e.doNothing===!0?this.append(" do nothing"):e.updates&&(this.append(" do update set "),this.compileList(e.updates),e.updateWhere&&(this.append(" "),this.visitNode(e.updateWhere)))}visitOnDuplicateKey(e){this.append("on duplicate key update "),this.compileList(e.updates)}visitCreateIndex(e){this.append("create "),e.unique&&this.append("unique "),this.append("index "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),e.table&&(this.append(" on "),this.visitNode(e.table)),e.using&&(this.append(" using "),this.visitNode(e.using)),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.nullsNotDistinct&&this.append(" nulls not distinct"),e.where&&(this.append(" "),this.visitNode(e.where))}visitDropIndex(e){this.append("drop index "),e.ifExists&&this.append("if exists "),this.visitNode(e.name),e.table&&(this.append(" on "),this.visitNode(e.table)),e.cascade&&this.append(" cascade")}visitCreateSchema(e){this.append("create schema "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.schema)}visitDropSchema(e){this.append("drop schema "),e.ifExists&&this.append("if exists "),this.visitNode(e.schema),e.cascade&&this.append(" cascade")}visitPrimaryKeyConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("primary key ("),this.compileList(e.columns),this.append(")")}visitUniqueConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("unique"),e.nullsNotDistinct&&this.append(" nulls not distinct"),this.append(" ("),this.compileList(e.columns),this.append(")")}visitCheckConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("check ("),this.visitNode(e.expression),this.append(")")}visitForeignKeyConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("foreign key ("),this.compileList(e.columns),this.append(") "),this.visitNode(e.references),e.onDelete&&(this.append(" on delete "),this.append(e.onDelete)),e.onUpdate&&(this.append(" on update "),this.append(e.onUpdate))}visitList(e){this.compileList(e.items)}visitWith(e){this.append("with "),e.recursive&&this.append("recursive "),this.compileList(e.expressions)}visitCommonTableExpression(e){this.visitNode(e.name),this.append(" as "),tv(e.materialized)&&(e.materialized||this.append("not "),this.append("materialized ")),this.visitNode(e.expression)}visitCommonTableExpressionName(e){this.visitNode(e.table),e.columns&&(this.append("("),this.compileList(e.columns),this.append(")"))}visitAlterTable(e){this.append("alter table "),this.visitNode(e.table),this.append(" "),e.renameTo&&(this.append("rename to "),this.visitNode(e.renameTo)),e.setSchema&&(this.append("set schema "),this.visitNode(e.setSchema)),e.addConstraint&&this.visitNode(e.addConstraint),e.dropConstraint&&this.visitNode(e.dropConstraint),e.columnAlterations&&this.compileColumnAlterations(e.columnAlterations),e.addIndex&&this.visitNode(e.addIndex),e.dropIndex&&this.visitNode(e.dropIndex)}visitAddColumn(e){this.append("add column "),this.visitNode(e.column)}visitRenameColumn(e){this.append("rename column "),this.visitNode(e.column),this.append(" to "),this.visitNode(e.renameTo)}visitDropColumn(e){this.append("drop column "),this.visitNode(e.column)}visitAlterColumn(e){this.append("alter column "),this.visitNode(e.column),this.append(" "),e.dataType&&(this.announcesNewColumnDataType()&&this.append("type "),this.visitNode(e.dataType),e.dataTypeExpression&&(this.append("using "),this.visitNode(e.dataTypeExpression))),e.setDefault&&(this.append("set default "),this.visitNode(e.setDefault)),e.dropDefault&&this.append("drop default"),e.setNotNull&&this.append("set not null"),e.dropNotNull&&this.append("drop not null")}visitModifyColumn(e){this.append("modify column "),this.visitNode(e.column)}visitAddConstraint(e){this.append("add "),this.visitNode(e.constraint)}visitDropConstraint(e){this.append("drop constraint "),e.ifExists&&this.append("if exists "),this.visitNode(e.constraintName),e.modifier==="cascade"?this.append(" cascade"):e.modifier==="restrict"&&this.append(" restrict")}visitSetOperation(e){this.append(e.operator),this.append(" "),e.all&&this.append("all "),this.visitNode(e.expression)}visitCreateView(e){this.append("create "),e.orReplace&&this.append("or replace "),e.materialized&&this.append("materialized "),e.temporary&&this.append("temporary "),this.append("view "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),this.append(" "),e.columns&&(this.append("("),this.compileList(e.columns),this.append(") ")),e.as&&(this.append("as "),this.visitNode(e.as))}visitDropView(e){this.append("drop "),e.materialized&&this.append("materialized "),this.append("view "),e.ifExists&&this.append("if exists "),this.visitNode(e.name),e.cascade&&this.append(" cascade")}visitGenerated(e){this.append("generated "),e.always&&this.append("always "),e.byDefault&&this.append("by default "),this.append("as "),e.identity&&this.append("identity"),e.expression&&(this.append("("),this.visitNode(e.expression),this.append(")")),e.stored&&this.append(" stored")}visitDefaultValue(e){this.append("default "),this.visitNode(e.defaultValue)}visitSelectModifier(e){e.rawModifier?this.visitNode(e.rawModifier):this.append(q8[e.modifier]),e.of&&(this.append(" of "),this.compileList(e.of,", "))}visitCreateType(e){this.append("create type "),this.visitNode(e.name),e.enum&&(this.append(" as enum "),this.visitNode(e.enum))}visitDropType(e){this.append("drop type "),e.ifExists&&this.append("if exists "),this.visitNode(e.name)}visitExplain(e){this.append("explain"),(e.options||e.format)&&(this.append(" "),this.append(this.getLeftExplainOptionsWrapper()),e.options&&(this.visitNode(e.options),e.format&&this.append(this.getExplainOptionsDelimiter())),e.format&&(this.append("format"),this.append(this.getExplainOptionAssignment()),this.append(e.format)),this.append(this.getRightExplainOptionsWrapper()))}visitDefaultInsertValue(e){this.append("default")}visitAggregateFunction(e){this.append(e.func),this.append("("),e.distinct&&this.append("distinct "),this.compileList(e.aggregated),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),this.append(")"),e.filter&&(this.append(" filter("),this.visitNode(e.filter),this.append(")")),e.over&&(this.append(" "),this.visitNode(e.over))}visitOver(e){this.append("over("),e.partitionBy&&(this.visitNode(e.partitionBy),e.orderBy&&this.append(" ")),e.orderBy&&this.visitNode(e.orderBy),this.append(")")}visitPartitionBy(e){this.append("partition by "),this.compileList(e.items)}visitPartitionByItem(e){this.visitNode(e.partitionBy)}visitBinaryOperation(e){this.visitNode(e.leftOperand),this.append(" "),this.visitNode(e.operator),this.append(" "),this.visitNode(e.rightOperand)}visitUnaryOperation(e){this.visitNode(e.operator),this.isMinusOperator(e.operator)||this.append(" "),this.visitNode(e.operand)}isMinusOperator(e){return zl.is(e)&&e.operator==="-"}visitUsing(e){this.append("using "),this.compileList(e.tables)}visitFunction(e){this.append(e.func),this.append("("),this.compileList(e.arguments),this.append(")")}visitCase(e){this.append("case"),e.value&&(this.append(" "),this.visitNode(e.value)),e.when&&(this.append(" "),this.compileList(e.when," ")),e.else&&(this.append(" else "),this.visitNode(e.else)),this.append(" end"),e.isStatement&&this.append(" case")}visitWhen(e){this.append("when "),this.visitNode(e.condition),e.result&&(this.append(" then "),this.visitNode(e.result))}visitJSONReference(e){this.visitNode(e.reference),this.visitNode(e.traversal)}visitJSONPath(e){e.inOperator&&this.visitNode(e.inOperator),this.append("'$");for(const n of e.pathLegs)this.visitNode(n);this.append("'")}visitJSONPathLeg(e){const n=e.type==="ArrayLocation";this.append(n?"[":"."),this.append(String(e.value)),n&&this.append("]")}visitJSONOperatorChain(e){for(let n=0,r=e.values.length;n<r;n++)n===r-1?this.visitNode(e.operator):this.append("->"),this.visitNode(e.values[n])}visitMergeQuery(e){e.with&&(this.visitNode(e.with),this.append(" ")),this.append("merge "),e.top&&(this.visitNode(e.top),this.append(" ")),this.append("into "),this.visitNode(e.into),e.using&&(this.append(" "),this.visitNode(e.using)),e.whens&&(this.append(" "),this.compileList(e.whens," ")),e.output&&(this.append(" "),this.visitNode(e.output)),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitMatched(e){e.not&&this.append("not "),this.append("matched"),e.bySource&&this.append(" by source")}visitAddIndex(e){this.append("add "),e.unique&&this.append("unique "),this.append("index "),this.visitNode(e.name),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.using&&(this.append(" using "),this.visitNode(e.using))}visitCast(e){this.append("cast("),this.visitNode(e.expression),this.append(" as "),this.visitNode(e.dataType),this.append(")")}visitFetch(e){this.append("fetch next "),this.visitNode(e.rowCount),this.append(` rows ${e.modifier}`)}visitOutput(e){this.append("output "),this.compileList(e.selections)}visitTop(e){this.append(`top(${e.expression})`),e.modifiers&&this.append(` ${e.modifiers}`)}append(e){this.#e+=e}appendValue(e){this.addParameter(e),this.append(this.getCurrentParameterPlaceholder())}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getCurrentParameterPlaceholder(){return"$"+this.numParameters}getLeftExplainOptionsWrapper(){return"("}getExplainOptionAssignment(){return" "}getExplainOptionsDelimiter(){return", "}getRightExplainOptionsWrapper(){return")"}sanitizeIdentifier(e){const n=this.getLeftIdentifierWrapper(),r=this.getRightIdentifierWrapper();let i="";for(const s of e)i+=s,s===n?i+=n:s===r&&(i+=r);return i}addParameter(e){this.#t.push(e)}appendImmediateValue(e){if(js(e))this.append(`'${e}'`);else if(gb(e)||tv(e))this.append(e.toString());else if(b1(e))this.append("null");else if(t5(e))this.appendImmediateValue(e.toISOString());else if(x1(e))this.appendImmediateValue(e.toString());else throw new Error(`invalid immediate value ${e}`)}sortSelectModifiers(e){return e.sort((n,r)=>n.modifier&&r.modifier?wO[n.modifier]-wO[r.modifier]:1),Q(e)}compileColumnAlterations(e){this.compileList(e)}announcesNewColumnDataType(){return!0}}const q8=Q({ForKeyShare:"for key share",ForNoKeyUpdate:"for no key update",ForUpdate:"for update",ForShare:"for share",NoWait:"nowait",SkipLocked:"skip locked",Distinct:"distinct"}),wO=Q({ForKeyShare:1,ForNoKeyUpdate:1,ForUpdate:1,ForShare:1,NoWait:2,SkipLocked:2,Distinct:0}),R8=Q({InnerJoin:"inner join",LeftJoin:"left join",RightJoin:"right join",FullJoin:"full join",LateralInnerJoin:"inner join lateral",LateralLeftJoin:"left join lateral",Using:"using"});class j8{get supportsCreateIfNotExists(){return!0}get supportsTransactionalDdl(){return!1}get supportsReturning(){return!1}get supportsOutput(){return!1}}const A8=/"/g;class P8 extends O8{getCurrentParameterPlaceholder(){return"?"}getLeftExplainOptionsWrapper(){return""}getRightExplainOptionsWrapper(){return""}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getAutoIncrement(){return"autoincrement"}sanitizeIdentifier(e){return e.replace(A8,'""')}visitDefaultInsertValue(e){this.append("null")}}const F8="kysely_migration",D8="kysely_migration_lock";Q({__noMigrations__:!0});class L8{#e;constructor(e){this.#e=e}async getSchemas(){return[]}async getTables(e={withInternalKyselyTables:!1}){let n=this.#e.selectFrom("sqlite_master").where("type","in",["table","view"]).where("name","not like","sqlite_%").select("name").orderBy("name").$castTo();e.withInternalKyselyTables||(n=n.where("name","!=",F8).where("name","!=",D8));const r=await n.execute();return Promise.all(r.map(({name:i})=>this.#t(i)))}async getMetadata(e){return{tables:await this.getTables(e)}}async #t(e){const n=this.#e,r=await n.selectFrom("sqlite_master").where("name","=",e).select(["sql","type"]).$castTo().executeTakeFirstOrThrow(),i=r.sql?.split(/[\(\),]/)?.find(o=>o.toLowerCase().includes("autoincrement"))?.trimStart()?.split(/\s+/)?.[0]?.replace(/["`]/g,""),s=await n.selectFrom(Nr`pragma_table_info(${e})`.as("table_info")).select(["name","type","notnull","dflt_value"]).orderBy("cid").execute();return{name:e,isView:r.type==="view",columns:s.map(o=>({name:o.name,dataType:o.type,isNullable:!o.notnull,isAutoIncrementing:o.name===i,hasDefaultValue:o.dflt_value!=null,comment:void 0}))}}}class M8 extends j8{get supportsTransactionalDdl(){return!1}get supportsReturning(){return!0}async acquireMigrationLock(e,n){}async releaseMigrationLock(e,n){}}const Ia={jsonObject(t){const e=Nr.join(Object.entries(t).map(([n,r])=>Nr`${n}, ${r}`));return Nr`json_object(${e})`},jsonGroupArray(t){return Nr`json_group_array(${Ia.jsonObject(t)})`}},rF={hash(t){return XS.sha224(t)},verify(t,e){return XS.sha224(t)===e}};var On;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of s)o[l]=i[l];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(On||(On={}));var lE;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(lE||(lE={}));const jt=On.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ta=t=>{switch(typeof t){case"undefined":return jt.undefined;case"string":return jt.string;case"number":return isNaN(t)?jt.nan:jt.number;case"boolean":return jt.boolean;case"function":return jt.function;case"bigint":return jt.bigint;case"symbol":return jt.symbol;case"object":return Array.isArray(t)?jt.array:t===null?jt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?jt.promise:typeof Map<"u"&&t instanceof Map?jt.map:typeof Set<"u"&&t instanceof Set?jt.set:typeof Date<"u"&&t instanceof Date?jt.date:jt.object;default:return jt.unknown}},yt=On.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),$8=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Rs extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,c=0;for(;c<o.path.length;){const d=o.path[c];c===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],c++}}};return i(this),r}static assert(e){if(!(e instanceof Rs))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,On.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Rs.create=t=>new Rs(t);const Fd=(t,e)=>{let n;switch(t.code){case yt.invalid_type:t.received===jt.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case yt.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,On.jsonStringifyReplacer)}`;break;case yt.unrecognized_keys:n=`Unrecognized key(s) in object: ${On.joinValues(t.keys,", ")}`;break;case yt.invalid_union:n="Invalid input";break;case yt.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${On.joinValues(t.options)}`;break;case yt.invalid_enum_value:n=`Invalid enum value. Expected ${On.joinValues(t.options)}, received '${t.received}'`;break;case yt.invalid_arguments:n="Invalid function arguments";break;case yt.invalid_return_type:n="Invalid function return type";break;case yt.invalid_date:n="Invalid date";break;case yt.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:On.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case yt.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case yt.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case yt.custom:n="Invalid input";break;case yt.invalid_intersection_types:n="Intersection results could not be merged";break;case yt.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case yt.not_finite:n="Number must be finite";break;default:n=e.defaultError,On.assertNever(t)}return{message:n}};let iF=Fd;function B8(t){iF=t}function dv(){return iF}const fv=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let l="";const c=r.filter(d=>!!d).slice().reverse();for(const d of c)l=d(o,{data:e,defaultError:l}).message;return{...i,path:s,message:l}},z8=[];function It(t,e){const n=dv(),r=fv({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Fd?void 0:Fd].filter(i=>!!i)});t.common.issues.push(r)}class ki{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return sn;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return ki.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return sn;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const sn=Object.freeze({status:"aborted"}),ad=t=>({status:"dirty",value:t}),Ui=t=>({status:"valid",value:t}),uE=t=>t.status==="aborted",cE=t=>t.status==="dirty",Ku=t=>t.status==="valid",dh=t=>typeof Promise<"u"&&t instanceof Promise;function pv(t,e,n,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function sF(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var Vt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Vt||(Vt={}));var _p,Sp;class ea{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const _O=(t,e)=>{if(Ku(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Rs(t.common.issues);return this._error=n,this._error}}};function gn(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>{var c,d;const{message:f}=t;return o.code==="invalid_enum_value"?{message:f??l.defaultError}:typeof l.data>"u"?{message:(c=f??r)!==null&&c!==void 0?c:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=f??n)!==null&&d!==void 0?d:l.defaultError}},description:i}}class wn{get description(){return this._def.description}_getType(e){return Ta(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ta(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ki,ctx:{common:e.parent.common,data:e.data,parsedType:Ta(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(dh(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ta(e)},s=this._parseSync({data:e,path:i.path,parent:i});return _O(i,s)}"~validate"(e){var n,r;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ta(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:i});return Ku(s)?{value:s.value}:{issues:i.common.issues}}catch(s){!((r=(n=s?.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(s=>Ku(s)?{value:s.value}:{issues:i.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ta(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await (dh(i)?i:Promise.resolve(i));return _O(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),l=()=>s.addIssue({code:yt.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Co({schema:this,typeName:nn.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Ho.create(this,this._def)}nullable(){return Ql.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return No.create(this)}promise(){return Ld.create(this,this._def)}or(e){return mh.create([this,e],this._def)}and(e){return gh.create(this,e,this._def)}transform(e){return new Co({...gn(this._def),schema:this,typeName:nn.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new wh({...gn(this._def),innerType:this,defaultValue:n,typeName:nn.ZodDefault})}brand(){return new P1({typeName:nn.ZodBranded,type:this,...gn(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new _h({...gn(this._def),innerType:this,catchValue:n,typeName:nn.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return tm.create(this,e)}readonly(){return Sh.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const W8=/^c[^\s-]{8,}$/i,U8=/^[0-9a-z]+$/,V8=/^[0-9A-HJKMNP-TV-Z]{26}$/i,H8=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Q8=/^[a-z0-9_-]{21}$/i,K8=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,G8=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Z8=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,J8="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let H_;const Y8=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,X8=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,eH=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,tH=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,nH=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,rH=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,oF="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",iH=new RegExp(`^${oF}$`);function aF(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function sH(t){return new RegExp(`^${aF(t)}$`)}function lF(t){let e=`${oF}T${aF(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function oH(t,e){return!!((e==="v4"||!e)&&Y8.test(t)||(e==="v6"||!e)&&eH.test(t))}function aH(t,e){if(!K8.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function lH(t,e){return!!((e==="v4"||!e)&&X8.test(t)||(e==="v6"||!e)&&tH.test(t))}class So extends wn{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==jt.string){const s=this._getOrReturnCtx(e);return It(s,{code:yt.invalid_type,expected:jt.string,received:s.parsedType}),sn}const r=new ki;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),It(i,{code:yt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),It(i,{code:yt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,l=e.data.length<s.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?It(i,{code:yt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&It(i,{code:yt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")Z8.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"email",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")H_||(H_=new RegExp(J8,"u")),H_.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"emoji",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")H8.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"uuid",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")Q8.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"nanoid",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")W8.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"cuid",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")U8.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"cuid2",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")V8.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"ulid",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),It(i,{validation:"url",code:yt.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"regex",code:yt.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?lF(s).test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?iH.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?sH(s).test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?G8.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"duration",code:yt.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?oH(e.data,s.version)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"ip",code:yt.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?aH(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"jwt",code:yt.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?lH(e.data,s.version)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"cidr",code:yt.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?nH.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"base64",code:yt.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?rH.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"base64url",code:yt.invalid_string,message:s.message}),r.dirty()):On.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:yt.invalid_string,...Vt.errToObj(r)})}_addCheck(e){return new So({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Vt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Vt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Vt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Vt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Vt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Vt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Vt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Vt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Vt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Vt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Vt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Vt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Vt.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(n=e?.offset)!==null&&n!==void 0?n:!1,local:(r=e?.local)!==null&&r!==void 0?r:!1,...Vt.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Vt.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Vt.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Vt.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...Vt.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Vt.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Vt.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Vt.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Vt.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Vt.errToObj(n)})}nonempty(e){return this.min(1,Vt.errToObj(e))}trim(){return new So({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new So({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new So({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}So.create=t=>{var e;return new So({checks:[],typeName:nn.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...gn(t)})};function uH(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Ul extends wn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==jt.number){const s=this._getOrReturnCtx(e);return It(s,{code:yt.invalid_type,expected:jt.number,received:s.parsedType}),sn}let r;const i=new ki;for(const s of this._def.checks)s.kind==="int"?On.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),It(r,{code:yt.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?uH(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),It(r,{code:yt.not_finite,message:s.message}),i.dirty()):On.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Vt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Vt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Vt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Vt.toString(n))}setLimit(e,n,r,i){return new Ul({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Vt.toString(i)}]})}_addCheck(e){return new Ul({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Vt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Vt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Vt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Vt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Vt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Vt.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Vt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Vt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Vt.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&On.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Ul.create=t=>new Ul({checks:[],typeName:nn.ZodNumber,coerce:t?.coerce||!1,...gn(t)});class Vl extends wn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==jt.bigint)return this._getInvalidInput(e);let r;const i=new ki;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):On.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return It(n,{code:yt.invalid_type,expected:jt.bigint,received:n.parsedType}),sn}gte(e,n){return this.setLimit("min",e,!0,Vt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Vt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Vt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Vt.toString(n))}setLimit(e,n,r,i){return new Vl({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Vt.toString(i)}]})}_addCheck(e){return new Vl({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Vt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Vt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Vt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Vt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Vt.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Vl.create=t=>{var e;return new Vl({checks:[],typeName:nn.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...gn(t)})};class fh extends wn{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==jt.boolean){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:jt.boolean,received:r.parsedType}),sn}return Ui(e.data)}}fh.create=t=>new fh({typeName:nn.ZodBoolean,coerce:t?.coerce||!1,...gn(t)});class Gu extends wn{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==jt.date){const s=this._getOrReturnCtx(e);return It(s,{code:yt.invalid_type,expected:jt.date,received:s.parsedType}),sn}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return It(s,{code:yt.invalid_date}),sn}const r=new ki;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),It(i,{code:yt.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),It(i,{code:yt.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):On.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Gu({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Vt.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Vt.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Gu.create=t=>new Gu({checks:[],coerce:t?.coerce||!1,typeName:nn.ZodDate,...gn(t)});class hv extends wn{_parse(e){if(this._getType(e)!==jt.symbol){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:jt.symbol,received:r.parsedType}),sn}return Ui(e.data)}}hv.create=t=>new hv({typeName:nn.ZodSymbol,...gn(t)});class ph extends wn{_parse(e){if(this._getType(e)!==jt.undefined){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:jt.undefined,received:r.parsedType}),sn}return Ui(e.data)}}ph.create=t=>new ph({typeName:nn.ZodUndefined,...gn(t)});class hh extends wn{_parse(e){if(this._getType(e)!==jt.null){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:jt.null,received:r.parsedType}),sn}return Ui(e.data)}}hh.create=t=>new hh({typeName:nn.ZodNull,...gn(t)});class Dd extends wn{constructor(){super(...arguments),this._any=!0}_parse(e){return Ui(e.data)}}Dd.create=t=>new Dd({typeName:nn.ZodAny,...gn(t)});class Bu extends wn{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ui(e.data)}}Bu.create=t=>new Bu({typeName:nn.ZodUnknown,...gn(t)});class La extends wn{_parse(e){const n=this._getOrReturnCtx(e);return It(n,{code:yt.invalid_type,expected:jt.never,received:n.parsedType}),sn}}La.create=t=>new La({typeName:nn.ZodNever,...gn(t)});class mv extends wn{_parse(e){if(this._getType(e)!==jt.undefined){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:jt.void,received:r.parsedType}),sn}return Ui(e.data)}}mv.create=t=>new mv({typeName:nn.ZodVoid,...gn(t)});class No extends wn{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==jt.array)return It(n,{code:yt.invalid_type,expected:jt.array,received:n.parsedType}),sn;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(o||l)&&(It(n,{code:o?yt.too_big:yt.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(It(n,{code:yt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(It(n,{code:yt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>i.type._parseAsync(new ea(n,o,n.path,l)))).then(o=>ki.mergeArray(r,o));const s=[...n.data].map((o,l)=>i.type._parseSync(new ea(n,o,n.path,l)));return ki.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new No({...this._def,minLength:{value:e,message:Vt.toString(n)}})}max(e,n){return new No({...this._def,maxLength:{value:e,message:Vt.toString(n)}})}length(e,n){return new No({...this._def,exactLength:{value:e,message:Vt.toString(n)}})}nonempty(e){return this.min(1,e)}}No.create=(t,e)=>new No({type:t,minLength:null,maxLength:null,exactLength:null,typeName:nn.ZodArray,...gn(e)});function rd(t){if(t instanceof Er){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Ho.create(rd(r))}return new Er({...t._def,shape:()=>e})}else return t instanceof No?new No({...t._def,type:rd(t.element)}):t instanceof Ho?Ho.create(rd(t.unwrap())):t instanceof Ql?Ql.create(rd(t.unwrap())):t instanceof ta?ta.create(t.items.map(e=>rd(e))):t}class Er extends wn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=On.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==jt.object){const d=this._getOrReturnCtx(e);return It(d,{code:yt.invalid_type,expected:jt.object,received:d.parsedType}),sn}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof La&&this._def.unknownKeys==="strip"))for(const d in i.data)o.includes(d)||l.push(d);const c=[];for(const d of o){const f=s[d],h=i.data[d];c.push({key:{status:"valid",value:d},value:f._parse(new ea(i,h,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof La){const d=this._def.unknownKeys;if(d==="passthrough")for(const f of l)c.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(d==="strict")l.length>0&&(It(i,{code:yt.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const f of l){const h=i.data[f];c.push({key:{status:"valid",value:f},value:d._parse(new ea(i,h,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const f of c){const h=await f.key,b=await f.value;d.push({key:h,value:b,alwaysSet:f.alwaysSet})}return d}).then(d=>ki.mergeObjectSync(r,d)):ki.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return Vt.errToObj,new Er({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,l;const c=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=Vt.errToObj(e).message)!==null&&l!==void 0?l:c}:{message:c}}}:{}})}strip(){return new Er({...this._def,unknownKeys:"strip"})}passthrough(){return new Er({...this._def,unknownKeys:"passthrough"})}extend(e){return new Er({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Er({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:nn.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Er({...this._def,catchall:e})}pick(e){const n={};return On.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Er({...this._def,shape:()=>n})}omit(e){const n={};return On.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Er({...this._def,shape:()=>n})}deepPartial(){return rd(this)}partial(e){const n={};return On.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new Er({...this._def,shape:()=>n})}required(e){const n={};return On.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Ho;)s=s._def.innerType;n[r]=s}}),new Er({...this._def,shape:()=>n})}keyof(){return uF(On.objectKeys(this.shape))}}Er.create=(t,e)=>new Er({shape:()=>t,unknownKeys:"strip",catchall:La.create(),typeName:nn.ZodObject,...gn(e)});Er.strictCreate=(t,e)=>new Er({shape:()=>t,unknownKeys:"strict",catchall:La.create(),typeName:nn.ZodObject,...gn(e)});Er.lazycreate=(t,e)=>new Er({shape:t,unknownKeys:"strip",catchall:La.create(),typeName:nn.ZodObject,...gn(e)});class mh extends wn{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new Rs(l.ctx.common.issues));return It(n,{code:yt.invalid_union,unionErrors:o}),sn}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of r){const d={...n,common:{...n.common,issues:[]},parent:null},f=c._parseSync({data:n.data,path:n.path,parent:d});if(f.status==="valid")return f;f.status==="dirty"&&!s&&(s={result:f,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(c=>new Rs(c));return It(n,{code:yt.invalid_union,unionErrors:l}),sn}}get options(){return this._def.options}}mh.create=(t,e)=>new mh({options:t,typeName:nn.ZodUnion,...gn(e)});const Na=t=>t instanceof vh?Na(t.schema):t instanceof Co?Na(t.innerType()):t instanceof bh?[t.value]:t instanceof Hl?t.options:t instanceof xh?On.objectValues(t.enum):t instanceof wh?Na(t._def.innerType):t instanceof ph?[void 0]:t instanceof hh?[null]:t instanceof Ho?[void 0,...Na(t.unwrap())]:t instanceof Ql?[null,...Na(t.unwrap())]:t instanceof P1||t instanceof Sh?Na(t.unwrap()):t instanceof _h?Na(t._def.innerType):[];class Sb extends wn{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==jt.object)return It(n,{code:yt.invalid_type,expected:jt.object,received:n.parsedType}),sn;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(It(n,{code:yt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),sn)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=Na(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(i.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);i.set(l,s)}}return new Sb({typeName:nn.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...gn(r)})}}function dE(t,e){const n=Ta(t),r=Ta(e);if(t===e)return{valid:!0,data:t};if(n===jt.object&&r===jt.object){const i=On.objectKeys(e),s=On.objectKeys(t).filter(l=>i.indexOf(l)!==-1),o={...t,...e};for(const l of s){const c=dE(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(n===jt.array&&r===jt.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],l=e[s],c=dE(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===jt.date&&r===jt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class gh extends wn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(uE(s)||uE(o))return sn;const l=dE(s.value,o.value);return l.valid?((cE(s)||cE(o))&&n.dirty(),{status:n.value,value:l.data}):(It(r,{code:yt.invalid_intersection_types}),sn)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}gh.create=(t,e,n)=>new gh({left:t,right:e,typeName:nn.ZodIntersection,...gn(n)});class ta extends wn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==jt.array)return It(r,{code:yt.invalid_type,expected:jt.array,received:r.parsedType}),sn;if(r.data.length<this._def.items.length)return It(r,{code:yt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),sn;!this._def.rest&&r.data.length>this._def.items.length&&(It(r,{code:yt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new ea(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>ki.mergeArray(n,o)):ki.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new ta({...this._def,rest:e})}}ta.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ta({items:t,typeName:nn.ZodTuple,rest:null,...gn(e)})};class yh extends wn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==jt.object)return It(r,{code:yt.invalid_type,expected:jt.object,received:r.parsedType}),sn;const i=[],s=this._def.keyType,o=this._def.valueType;for(const l in r.data)i.push({key:s._parse(new ea(r,l,r.path,l)),value:o._parse(new ea(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?ki.mergeObjectAsync(n,i):ki.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof wn?new yh({keyType:e,valueType:n,typeName:nn.ZodRecord,...gn(r)}):new yh({keyType:So.create(),valueType:e,typeName:nn.ZodRecord,...gn(n)})}}class gv extends wn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==jt.map)return It(r,{code:yt.invalid_type,expected:jt.map,received:r.parsedType}),sn;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([l,c],d)=>({key:i._parse(new ea(r,l,r.path,[d,"key"])),value:s._parse(new ea(r,c,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const d=await c.key,f=await c.value;if(d.status==="aborted"||f.status==="aborted")return sn;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(d.value,f.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const c of o){const d=c.key,f=c.value;if(d.status==="aborted"||f.status==="aborted")return sn;(d.status==="dirty"||f.status==="dirty")&&n.dirty(),l.set(d.value,f.value)}return{status:n.value,value:l}}}}gv.create=(t,e,n)=>new gv({valueType:e,keyType:t,typeName:nn.ZodMap,...gn(n)});class Zu extends wn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==jt.set)return It(r,{code:yt.invalid_type,expected:jt.set,received:r.parsedType}),sn;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(It(r,{code:yt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(It(r,{code:yt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(c){const d=new Set;for(const f of c){if(f.status==="aborted")return sn;f.status==="dirty"&&n.dirty(),d.add(f.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((c,d)=>s._parse(new ea(r,c,r.path,d)));return r.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,n){return new Zu({...this._def,minSize:{value:e,message:Vt.toString(n)}})}max(e,n){return new Zu({...this._def,maxSize:{value:e,message:Vt.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Zu.create=(t,e)=>new Zu({valueType:t,minSize:null,maxSize:null,typeName:nn.ZodSet,...gn(e)});class kd extends wn{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==jt.function)return It(n,{code:yt.invalid_type,expected:jt.function,received:n.parsedType}),sn;function r(l,c){return fv({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,dv(),Fd].filter(d=>!!d),issueData:{code:yt.invalid_arguments,argumentsError:c}})}function i(l,c){return fv({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,dv(),Fd].filter(d=>!!d),issueData:{code:yt.invalid_return_type,returnTypeError:c}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Ld){const l=this;return Ui(async function(...c){const d=new Rs([]),f=await l._def.args.parseAsync(c,s).catch(x=>{throw d.addIssue(r(c,x)),d}),h=await Reflect.apply(o,this,f);return await l._def.returns._def.type.parseAsync(h,s).catch(x=>{throw d.addIssue(i(h,x)),d})})}else{const l=this;return Ui(function(...c){const d=l._def.args.safeParse(c,s);if(!d.success)throw new Rs([r(c,d.error)]);const f=Reflect.apply(o,this,d.data),h=l._def.returns.safeParse(f,s);if(!h.success)throw new Rs([i(f,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new kd({...this._def,args:ta.create(e).rest(Bu.create())})}returns(e){return new kd({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new kd({args:e||ta.create([]).rest(Bu.create()),returns:n||Bu.create(),typeName:nn.ZodFunction,...gn(r)})}}class vh extends wn{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}vh.create=(t,e)=>new vh({getter:t,typeName:nn.ZodLazy,...gn(e)});class bh extends wn{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return It(n,{received:n.data,code:yt.invalid_literal,expected:this._def.value}),sn}return{status:"valid",value:e.data}}get value(){return this._def.value}}bh.create=(t,e)=>new bh({value:t,typeName:nn.ZodLiteral,...gn(e)});function uF(t,e){return new Hl({values:t,typeName:nn.ZodEnum,...gn(e)})}class Hl extends wn{constructor(){super(...arguments),_p.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return It(n,{expected:On.joinValues(r),received:n.parsedType,code:yt.invalid_type}),sn}if(pv(this,_p)||sF(this,_p,new Set(this._def.values)),!pv(this,_p).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return It(n,{received:n.data,code:yt.invalid_enum_value,options:r}),sn}return Ui(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Hl.create(e,{...this._def,...n})}exclude(e,n=this._def){return Hl.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}_p=new WeakMap;Hl.create=uF;class xh extends wn{constructor(){super(...arguments),Sp.set(this,void 0)}_parse(e){const n=On.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==jt.string&&r.parsedType!==jt.number){const i=On.objectValues(n);return It(r,{expected:On.joinValues(i),received:r.parsedType,code:yt.invalid_type}),sn}if(pv(this,Sp)||sF(this,Sp,new Set(On.getValidEnumValues(this._def.values))),!pv(this,Sp).has(e.data)){const i=On.objectValues(n);return It(r,{received:r.data,code:yt.invalid_enum_value,options:i}),sn}return Ui(e.data)}get enum(){return this._def.values}}Sp=new WeakMap;xh.create=(t,e)=>new xh({values:t,typeName:nn.ZodNativeEnum,...gn(e)});class Ld extends wn{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==jt.promise&&n.common.async===!1)return It(n,{code:yt.invalid_type,expected:jt.promise,received:n.parsedType}),sn;const r=n.parsedType===jt.promise?n.data:Promise.resolve(n.data);return Ui(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ld.create=(t,e)=>new Ld({type:t,typeName:nn.ZodPromise,...gn(e)});class Co extends wn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===nn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{It(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return sn;const c=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return c.status==="aborted"?sn:c.status==="dirty"||n.value==="dirty"?ad(c.value):c});{if(n.value==="aborted")return sn;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?sn:l.status==="dirty"||n.value==="dirty"?ad(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?sn:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?sn:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ku(o))return o;const l=i.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Ku(o)?Promise.resolve(i.transform(o.value,s)).then(l=>({status:n.value,value:l})):o);On.assertNever(i)}}Co.create=(t,e,n)=>new Co({schema:t,typeName:nn.ZodEffects,effect:e,...gn(n)});Co.createWithPreprocess=(t,e,n)=>new Co({schema:e,effect:{type:"preprocess",transform:t},typeName:nn.ZodEffects,...gn(n)});class Ho extends wn{_parse(e){return this._getType(e)===jt.undefined?Ui(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ho.create=(t,e)=>new Ho({innerType:t,typeName:nn.ZodOptional,...gn(e)});class Ql extends wn{_parse(e){return this._getType(e)===jt.null?Ui(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ql.create=(t,e)=>new Ql({innerType:t,typeName:nn.ZodNullable,...gn(e)});class wh extends wn{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===jt.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}wh.create=(t,e)=>new wh({innerType:t,typeName:nn.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...gn(e)});class _h extends wn{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return dh(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Rs(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Rs(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}_h.create=(t,e)=>new _h({innerType:t,typeName:nn.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...gn(e)});class yv extends wn{_parse(e){if(this._getType(e)!==jt.nan){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:jt.nan,received:r.parsedType}),sn}return{status:"valid",value:e.data}}}yv.create=t=>new yv({typeName:nn.ZodNaN,...gn(t)});const cH=Symbol("zod_brand");class P1 extends wn{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class tm extends wn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?sn:s.status==="dirty"?(n.dirty(),ad(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?sn:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new tm({in:e,out:n,typeName:nn.ZodPipeline})}}class Sh extends wn{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Ku(i)&&(i.value=Object.freeze(i.value)),i);return dh(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Sh.create=(t,e)=>new Sh({innerType:t,typeName:nn.ZodReadonly,...gn(e)});function cF(t,e={},n){return t?Dd.create().superRefine((r,i)=>{var s,o;if(!t(r)){const l=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,c=(o=(s=l.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,d=typeof l=="string"?{message:l}:l;i.addIssue({code:"custom",...d,fatal:c})}}):Dd.create()}const dH={object:Er.lazycreate};var nn;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(nn||(nn={}));const fH=(t,e={message:`Input not instance of ${t.name}`})=>cF(n=>n instanceof t,e),dF=So.create,fF=Ul.create,pH=yv.create,hH=Vl.create,pF=fh.create,mH=Gu.create,gH=hv.create,yH=ph.create,vH=hh.create,bH=Dd.create,xH=Bu.create,wH=La.create,_H=mv.create,SH=No.create,EH=Er.create,NH=Er.strictCreate,kH=mh.create,IH=Sb.create,CH=gh.create,TH=ta.create,OH=yh.create,qH=gv.create,RH=Zu.create,jH=kd.create,AH=vh.create,PH=bh.create,FH=Hl.create,DH=xh.create,LH=Ld.create,SO=Co.create,MH=Ho.create,$H=Ql.create,BH=Co.createWithPreprocess,zH=tm.create,WH=()=>dF().optional(),UH=()=>fF().optional(),VH=()=>pF().optional(),HH={string:t=>So.create({...t,coerce:!0}),number:t=>Ul.create({...t,coerce:!0}),boolean:t=>fh.create({...t,coerce:!0}),bigint:t=>Vl.create({...t,coerce:!0}),date:t=>Gu.create({...t,coerce:!0})},QH=sn;var G=Object.freeze({__proto__:null,defaultErrorMap:Fd,setErrorMap:B8,getErrorMap:dv,makeIssue:fv,EMPTY_PATH:z8,addIssueToContext:It,ParseStatus:ki,INVALID:sn,DIRTY:ad,OK:Ui,isAborted:uE,isDirty:cE,isValid:Ku,isAsync:dh,get util(){return On},get objectUtil(){return lE},ZodParsedType:jt,getParsedType:Ta,ZodType:wn,datetimeRegex:lF,ZodString:So,ZodNumber:Ul,ZodBigInt:Vl,ZodBoolean:fh,ZodDate:Gu,ZodSymbol:hv,ZodUndefined:ph,ZodNull:hh,ZodAny:Dd,ZodUnknown:Bu,ZodNever:La,ZodVoid:mv,ZodArray:No,ZodObject:Er,ZodUnion:mh,ZodDiscriminatedUnion:Sb,ZodIntersection:gh,ZodTuple:ta,ZodRecord:yh,ZodMap:gv,ZodSet:Zu,ZodFunction:kd,ZodLazy:vh,ZodLiteral:bh,ZodEnum:Hl,ZodNativeEnum:xh,ZodPromise:Ld,ZodEffects:Co,ZodTransformer:Co,ZodOptional:Ho,ZodNullable:Ql,ZodDefault:wh,ZodCatch:_h,ZodNaN:yv,BRAND:cH,ZodBranded:P1,ZodPipeline:tm,ZodReadonly:Sh,custom:cF,Schema:wn,ZodSchema:wn,late:dH,get ZodFirstPartyTypeKind(){return nn},coerce:HH,any:bH,array:SH,bigint:hH,boolean:pF,date:mH,discriminatedUnion:IH,effect:SO,enum:FH,function:jH,instanceof:fH,intersection:CH,lazy:AH,literal:PH,map:qH,nan:pH,nativeEnum:DH,never:wH,null:vH,nullable:$H,number:fF,object:EH,oboolean:VH,onumber:UH,optional:MH,ostring:WH,pipeline:zH,preprocess:BH,promise:LH,record:OH,set:RH,strictObject:NH,string:dF,symbol:gH,transformer:SO,tuple:TH,undefined:yH,union:kH,unknown:xH,void:_H,NEVER:QH,ZodIssueCode:yt,quotelessJson:$8,ZodError:Rs});const KH=G.object({page:G.number().gte(0,"Page must be greater than zero"),size:G.number().gte(1,"Page size must be greater than one to get any data")}),Vi=G.object({id:G.string().min(1)}),F1=G.object({message:G.string()}),ps=G.object({id:G.string().optional(),idIn:G.array(G.string()).optional(),fulltext:G.string().optional()}),GH=G.enum(["asc","desc"]),Di=()=>G.union([G.boolean(),G.number().int().refine(t=>t===0||t===1).transform(t=>typeof t=="boolean"?t:t===1)]),Kl=()=>G.union([G.number().nonnegative(),G.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t))]),vv=()=>G.union([G.number().int().nonnegative(),G.string().transform(t=>parseInt(t,10)).refine(t=>!isNaN(t))]),Zr=t=>G.string().transform(e=>JSON.parse(e)).refine(e=>Array.isArray(e)).transform(e=>G.array(t).parse(e)),ZH=t=>G.string().transform(e=>JSON.parse(e)).transform(e=>t.parse(e)),fE=new Proxy(()=>fE,{get:()=>fE}),hs=({entity:t,shape:e,filter:n,sort:r})=>{const i=fE();return{entity:t,"~entity":i,"~entity-array":[],"~entity-partial-exclude-id":i,shape:e,"~shape":i,"~shape-partial":i,filter:n,"~filter":i,sort:G.array(G.object({name:G.enum(r),sort:GH})),"~sort":i,"~sort-keyof":i}},ml=(t,e)=>Array.from({length:e-t+1},(n,r)=>r+t),JH=({page:t,total:e,siblings:n=1,boundaries:r=1})=>{const i=Math.max(Math.trunc(e),0);if(n*2+3+r*2>=i)return{type:"simple",page:t,total:e,pages:ml(1,i),start:[],end:[]};const o=Math.max(t-n,r),l=Math.min(t+n,i-r),c=o>r+2,d=l<i-(r+1);return!c&&d?{type:"end",page:t,total:e,start:[],pages:ml(1,n*2+r+2),end:ml(e-(r-1),i)}:c&&!d?{type:"start",page:t,total:e,start:ml(1,r),pages:ml(e-(r+1+2*n),i),end:[]}:{type:"both",page:t,total:e,start:ml(1,r),pages:ml(o,l),end:ml(i-r+1,i)}};var Qc={},wa={},tr={},gl={},EO;function hF(){if(EO)return gl;EO=1,Object.defineProperty(gl,"__esModule",{value:!0}),gl.anumber=t,gl.abytes=n,gl.ahash=r,gl.aexists=i,gl.aoutput=s;function t(o){if(!Number.isSafeInteger(o)||o<0)throw new Error("positive integer expected, got "+o)}function e(o){return o instanceof Uint8Array||ArrayBuffer.isView(o)&&o.constructor.name==="Uint8Array"}function n(o,...l){if(!e(o))throw new Error("Uint8Array expected");if(l.length>0&&!l.includes(o.length))throw new Error("Uint8Array expected of length "+l+", got length="+o.length)}function r(o){if(typeof o!="function"||typeof o.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");t(o.outputLen),t(o.blockLen)}function i(o,l=!0){if(o.destroyed)throw new Error("Hash instance has been destroyed");if(l&&o.finished)throw new Error("Hash#digest() has already been called")}function s(o,l){n(o);const c=l.outputLen;if(o.length<c)throw new Error("digestInto() expects output buffer of length at least "+c)}return gl}var dn={},NO;function YH(){if(NO)return dn;NO=1,Object.defineProperty(dn,"__esModule",{value:!0}),dn.add5L=dn.add5H=dn.add4H=dn.add4L=dn.add3H=dn.add3L=dn.rotlBL=dn.rotlBH=dn.rotlSL=dn.rotlSH=dn.rotr32L=dn.rotr32H=dn.rotrBL=dn.rotrBH=dn.rotrSL=dn.rotrSH=dn.shrSL=dn.shrSH=dn.toBig=void 0,dn.fromBig=n,dn.split=r,dn.add=O;const t=BigInt(2**32-1),e=BigInt(32);function n(R,B=!1){return B?{h:Number(R&t),l:Number(R>>e&t)}:{h:Number(R>>e&t)|0,l:Number(R&t)|0}}function r(R,B=!1){let F=new Uint32Array(R.length),W=new Uint32Array(R.length);for(let U=0;U<R.length;U++){const{h:$,l:ee}=n(R[U],B);[F[U],W[U]]=[$,ee]}return[F,W]}const i=(R,B)=>BigInt(R>>>0)<<e|BigInt(B>>>0);dn.toBig=i;const s=(R,B,F)=>R>>>F;dn.shrSH=s;const o=(R,B,F)=>R<<32-F|B>>>F;dn.shrSL=o;const l=(R,B,F)=>R>>>F|B<<32-F;dn.rotrSH=l;const c=(R,B,F)=>R<<32-F|B>>>F;dn.rotrSL=c;const d=(R,B,F)=>R<<64-F|B>>>F-32;dn.rotrBH=d;const f=(R,B,F)=>R>>>F-32|B<<64-F;dn.rotrBL=f;const h=(R,B)=>B;dn.rotr32H=h;const b=(R,B)=>R;dn.rotr32L=b;const x=(R,B,F)=>R<<F|B>>>32-F;dn.rotlSH=x;const _=(R,B,F)=>B<<F|R>>>32-F;dn.rotlSL=_;const N=(R,B,F)=>B<<F-32|R>>>64-F;dn.rotlBH=N;const I=(R,B,F)=>R<<F-32|B>>>64-F;dn.rotlBL=I;function O(R,B,F,W){const U=(B>>>0)+(W>>>0);return{h:R+F+(U/2**32|0)|0,l:U|0}}const T=(R,B,F)=>(R>>>0)+(B>>>0)+(F>>>0);dn.add3L=T;const q=(R,B,F,W)=>B+F+W+(R/2**32|0)|0;dn.add3H=q;const A=(R,B,F,W)=>(R>>>0)+(B>>>0)+(F>>>0)+(W>>>0);dn.add4L=A;const D=(R,B,F,W,U)=>B+F+W+U+(R/2**32|0)|0;dn.add4H=D;const L=(R,B,F,W,U)=>(R>>>0)+(B>>>0)+(F>>>0)+(W>>>0)+(U>>>0);dn.add5L=L;const z=(R,B,F,W,U,$)=>B+F+W+U+$+(R/2**32|0)|0;dn.add5H=z;const P={fromBig:n,split:r,toBig:i,shrSH:s,shrSL:o,rotrSH:l,rotrSL:c,rotrBH:d,rotrBL:f,rotr32H:h,rotr32L:b,rotlSH:x,rotlSL:_,rotlBH:N,rotlBL:I,add:O,add3L:T,add3H:q,add4L:A,add4H:D,add5H:z,add5L:L};return dn.default=P,dn}var Q_={},cp={},kO;function XH(){return kO||(kO=1,Object.defineProperty(cp,"__esModule",{value:!0}),cp.crypto=void 0,cp.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),cp}var IO;function e9(){return IO||(IO=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Hash=t.nextTick=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=void 0,t.isBytes=r,t.byteSwap32=f,t.bytesToHex=b,t.hexToBytes=N,t.asyncLoop=O,t.utf8ToBytes=T,t.toBytes=q,t.concatBytes=A,t.checkOpts=L,t.wrapConstructor=z,t.wrapConstructorWithOpts=P,t.wrapXOFConstructorWithOpts=R,t.randomBytes=B;const e=XH(),n=hF();function r(F){return F instanceof Uint8Array||ArrayBuffer.isView(F)&&F.constructor.name==="Uint8Array"}const i=F=>new Uint8Array(F.buffer,F.byteOffset,F.byteLength);t.u8=i;const s=F=>new Uint32Array(F.buffer,F.byteOffset,Math.floor(F.byteLength/4));t.u32=s;const o=F=>new DataView(F.buffer,F.byteOffset,F.byteLength);t.createView=o;const l=(F,W)=>F<<32-W|F>>>W;t.rotr=l;const c=(F,W)=>F<<W|F>>>32-W>>>0;t.rotl=c,t.isLE=new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]===68;const d=F=>F<<24&0xff000000|F<<8&0xff0000|F>>>8&65280|F>>>24&255;t.byteSwap=d,t.byteSwapIfBE=t.isLE?F=>F:F=>(0,t.byteSwap)(F);function f(F){for(let W=0;W<F.length;W++)F[W]=(0,t.byteSwap)(F[W])}const h=Array.from({length:256},(F,W)=>W.toString(16).padStart(2,"0"));function b(F){(0,n.abytes)(F);let W="";for(let U=0;U<F.length;U++)W+=h[F[U]];return W}const x={_0:48,_9:57,A:65,F:70,a:97,f:102};function _(F){if(F>=x._0&&F<=x._9)return F-x._0;if(F>=x.A&&F<=x.F)return F-(x.A-10);if(F>=x.a&&F<=x.f)return F-(x.a-10)}function N(F){if(typeof F!="string")throw new Error("hex string expected, got "+typeof F);const W=F.length,U=W/2;if(W%2)throw new Error("hex string expected, got unpadded hex of length "+W);const $=new Uint8Array(U);for(let ee=0,J=0;ee<U;ee++,J+=2){const le=_(F.charCodeAt(J)),se=_(F.charCodeAt(J+1));if(le===void 0||se===void 0){const te=F[J]+F[J+1];throw new Error('hex string expected, got non-hex character "'+te+'" at index '+J)}$[ee]=le*16+se}return $}const I=async()=>{};t.nextTick=I;async function O(F,W,U){let $=Date.now();for(let ee=0;ee<F;ee++){U(ee);const J=Date.now()-$;J>=0&&J<W||(await (0,t.nextTick)(),$+=J)}}function T(F){if(typeof F!="string")throw new Error("utf8ToBytes expected string, got "+typeof F);return new Uint8Array(new TextEncoder().encode(F))}function q(F){return typeof F=="string"&&(F=T(F)),(0,n.abytes)(F),F}function A(...F){let W=0;for(let $=0;$<F.length;$++){const ee=F[$];(0,n.abytes)(ee),W+=ee.length}const U=new Uint8Array(W);for(let $=0,ee=0;$<F.length;$++){const J=F[$];U.set(J,ee),ee+=J.length}return U}class D{clone(){return this._cloneInto()}}t.Hash=D;function L(F,W){if(W!==void 0&&{}.toString.call(W)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(F,W)}function z(F){const W=$=>F().update(q($)).digest(),U=F();return W.outputLen=U.outputLen,W.blockLen=U.blockLen,W.create=()=>F(),W}function P(F){const W=($,ee)=>F(ee).update(q($)).digest(),U=F({});return W.outputLen=U.outputLen,W.blockLen=U.blockLen,W.create=$=>F($),W}function R(F){const W=($,ee)=>F(ee).update(q($)).digest(),U=F({});return W.outputLen=U.outputLen,W.blockLen=U.blockLen,W.create=$=>F($),W}function B(F=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(F));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(F);throw new Error("crypto.getRandomValues must be defined")}}(Q_)),Q_}var CO;function t9(){if(CO)return tr;CO=1,Object.defineProperty(tr,"__esModule",{value:!0}),tr.shake256=tr.shake128=tr.keccak_512=tr.keccak_384=tr.keccak_256=tr.keccak_224=tr.sha3_512=tr.sha3_384=tr.sha3_256=tr.sha3_224=tr.Keccak=void 0,tr.keccakP=I;const t=hF(),e=YH(),n=e9(),r=[],i=[],s=[],o=BigInt(0),l=BigInt(1),c=BigInt(2),d=BigInt(7),f=BigInt(256),h=BigInt(113);for(let A=0,D=l,L=1,z=0;A<24;A++){[L,z]=[z,(2*L+3*z)%5],r.push(2*(5*z+L)),i.push((A+1)*(A+2)/2%64);let P=o;for(let R=0;R<7;R++)D=(D<<l^(D>>d)*h)%f,D&c&&(P^=l<<(l<<BigInt(R))-l);s.push(P)}const[b,x]=(0,e.split)(s,!0),_=(A,D,L)=>L>32?(0,e.rotlBH)(A,D,L):(0,e.rotlSH)(A,D,L),N=(A,D,L)=>L>32?(0,e.rotlBL)(A,D,L):(0,e.rotlSL)(A,D,L);function I(A,D=24){const L=new Uint32Array(10);for(let z=24-D;z<24;z++){for(let B=0;B<10;B++)L[B]=A[B]^A[B+10]^A[B+20]^A[B+30]^A[B+40];for(let B=0;B<10;B+=2){const F=(B+8)%10,W=(B+2)%10,U=L[W],$=L[W+1],ee=_(U,$,1)^L[F],J=N(U,$,1)^L[F+1];for(let le=0;le<50;le+=10)A[B+le]^=ee,A[B+le+1]^=J}let P=A[2],R=A[3];for(let B=0;B<24;B++){const F=i[B],W=_(P,R,F),U=N(P,R,F),$=r[B];P=A[$],R=A[$+1],A[$]=W,A[$+1]=U}for(let B=0;B<50;B+=10){for(let F=0;F<10;F++)L[F]=A[B+F];for(let F=0;F<10;F++)A[B+F]^=~L[(F+2)%10]&L[(F+4)%10]}A[0]^=b[z],A[1]^=x[z]}L.fill(0)}class O extends n.Hash{constructor(D,L,z,P=!1,R=24){if(super(),this.blockLen=D,this.suffix=L,this.outputLen=z,this.enableXOF=P,this.rounds=R,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,t.anumber)(z),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,n.u32)(this.state)}keccak(){n.isLE||(0,n.byteSwap32)(this.state32),I(this.state32,this.rounds),n.isLE||(0,n.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(D){(0,t.aexists)(this);const{blockLen:L,state:z}=this;D=(0,n.toBytes)(D);const P=D.length;for(let R=0;R<P;){const B=Math.min(L-this.pos,P-R);for(let F=0;F<B;F++)z[this.pos++]^=D[R++];this.pos===L&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:D,suffix:L,pos:z,blockLen:P}=this;D[z]^=L,L&128&&z===P-1&&this.keccak(),D[P-1]^=128,this.keccak()}writeInto(D){(0,t.aexists)(this,!1),(0,t.abytes)(D),this.finish();const L=this.state,{blockLen:z}=this;for(let P=0,R=D.length;P<R;){this.posOut>=z&&this.keccak();const B=Math.min(z-this.posOut,R-P);D.set(L.subarray(this.posOut,this.posOut+B),P),this.posOut+=B,P+=B}return D}xofInto(D){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(D)}xof(D){return(0,t.anumber)(D),this.xofInto(new Uint8Array(D))}digestInto(D){if((0,t.aoutput)(D,this),this.finished)throw new Error("digest() was already called");return this.writeInto(D),this.destroy(),D}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(D){const{blockLen:L,suffix:z,outputLen:P,rounds:R,enableXOF:B}=this;return D||(D=new O(L,z,P,B,R)),D.state32.set(this.state32),D.pos=this.pos,D.posOut=this.posOut,D.finished=this.finished,D.rounds=R,D.suffix=z,D.outputLen=P,D.enableXOF=B,D.destroyed=this.destroyed,D}}tr.Keccak=O;const T=(A,D,L)=>(0,n.wrapConstructor)(()=>new O(D,A,L));tr.sha3_224=T(6,144,224/8),tr.sha3_256=T(6,136,256/8),tr.sha3_384=T(6,104,384/8),tr.sha3_512=T(6,72,512/8),tr.keccak_224=T(1,144,224/8),tr.keccak_256=T(1,136,256/8),tr.keccak_384=T(1,104,384/8),tr.keccak_512=T(1,72,512/8);const q=(A,D,L)=>(0,n.wrapXOFConstructorWithOpts)((z={})=>new O(D,A,z.dkLen===void 0?L:z.dkLen,!0));return tr.shake128=q(31,168,128/8),tr.shake256=q(31,136,256/8),tr}var TO;function n9(){if(TO)return wa;TO=1;const{sha3_512:t}=t9(),e=24,n=32,r=(_=4,N=Math.random)=>{let I="";for(;I.length<_;)I=I+Math.floor(N()*36).toString(36);return I};function i(_){let N=8n,I=0n;for(const O of _.values()){const T=BigInt(O);I=(I<<N)+T}return I}const s=(_="")=>i(t(_)).toString(36).slice(1),o=Array.from({length:26},(_,N)=>String.fromCharCode(N+97)),l=_=>o[Math.floor(_()*o.length)],c=({globalObj:_=typeof qu<"u"?qu:typeof window<"u"?window:{},random:N=Math.random}={})=>{const I=Object.keys(_).toString(),O=I.length?I+r(n,N):r(n,N);return s(O).substring(0,n)},d=_=>()=>_++,f=0x1c6b1f1f,h=({random:_=Math.random,counter:N=d(Math.floor(_()*f)),length:I=e,fingerprint:O=c({random:_})}={})=>function(){const q=l(_),A=Date.now().toString(36),D=N().toString(36),L=r(I,_),z=`${A+L+D+O}`;return`${q+s(z).substring(1,I)}`},b=h(),x=(_,{minLength:N=2,maxLength:I=n}={})=>{const O=_.length,T=/^[0-9a-z]+$/;try{if(typeof _=="string"&&O>=N&&O<=I&&T.test(_))return!0}finally{}return!1};return wa.getConstants=()=>({defaultLength:e,bigLength:n}),wa.init=h,wa.createId=b,wa.bufToBigInt=i,wa.createCounter=d,wa.createFingerprint=c,wa.isCuid=x,wa}var OO;function r9(){if(OO)return Qc;OO=1;const{createId:t,init:e,getConstants:n,isCuid:r}=n9();return Qc.createId=t,Qc.init=e,Qc.getConstants=n,Qc.isCuid=r,Qc}var i9=r9();const Un=i9.createId;var K_,qO;function s9(){if(qO)return K_;qO=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,n,r;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{n=Object.defineProperty({},"length",{get:function(){throw r}}),r={},e(function(){throw 42},null,n)}catch(T){T!==r&&(e=null)}else e=null;var i=/^\s*class\b/,s=function(q){try{var A=t.call(q);return i.test(A)}catch{return!1}},o=function(q){try{return s(q)?!1:(t.call(q),!0)}catch{return!1}},l=Object.prototype.toString,c="[object Object]",d="[object Function]",f="[object GeneratorFunction]",h="[object HTMLAllCollection]",b="[object HTML document.all class]",x="[object HTMLCollection]",_=typeof Symbol=="function"&&!!Symbol.toStringTag,N=!(0 in[,]),I=function(){return!1};if(typeof document=="object"){var O=document.all;l.call(O)===l.call(document.all)&&(I=function(q){if((N||!q)&&(typeof q>"u"||typeof q=="object"))try{var A=l.call(q);return(A===h||A===b||A===x||A===c)&&q("")==null}catch{}return!1})}return K_=e?function(q){if(I(q))return!0;if(!q||typeof q!="function"&&typeof q!="object")return!1;try{e(q,null,n)}catch(A){if(A!==r)return!1}return!s(q)&&o(q)}:function(q){if(I(q))return!0;if(!q||typeof q!="function"&&typeof q!="object")return!1;if(_)return o(q);if(s(q))return!1;var A=l.call(q);return A!==d&&A!==f&&!/^\[object HTML/.test(A)?!1:o(q)},K_}var o9=s9();const a9=ro(o9),l9=t=>a9(t);var vy={exports:{}},u9=vy.exports,RO;function c9(){return RO||(RO=1,function(t){(function(e,n){t.exports=n()})(u9,function(){var e=Object.prototype.toString;function n(h,b){return h==null?!1:Object.prototype.hasOwnProperty.call(h,b)}function r(h){if(!h||o(h)&&h.length===0)return!0;if(typeof h!="string"){for(var b in h)if(n(h,b))return!1;return!0}return!1}function i(h){return e.call(h)}function s(h){return typeof h=="object"&&i(h)==="[object Object]"}var o=Array.isArray||function(h){return e.call(h)==="[object Array]"};function l(h){return typeof h=="boolean"||i(h)==="[object Boolean]"}function c(h){var b=parseInt(h);return b.toString()===h?b:h}function d(h){h=h||{};var b=function(O){return Object.keys(b).reduce(function(T,q){return q==="create"||typeof b[q]=="function"&&(T[q]=b[q].bind(b,O)),T},{})},x;h.includeInheritedProps?x=function(){return!0}:x=function(O,T){return typeof T=="number"&&Array.isArray(O)||n(O,T)};function _(O,T){if(x(O,T))return O[T]}var N;h.includeInheritedProps?N=function(O,T){typeof T!="string"&&typeof T!="number"&&(T=String(T));var q=_(O,T);if(T==="__proto__"||T==="prototype"||T==="constructor"&&typeof q=="function")throw new Error("For security reasons, object's magic properties cannot be set");return q}:N=function(O,T){return _(O,T)};function I(O,T,q,A){if(typeof T=="number"&&(T=[T]),!T||T.length===0)return O;if(typeof T=="string")return I(O,T.split(".").map(c),q,A);var D=T[0],L=N(O,D);return T.length===1?((L===void 0||!A)&&(O[D]=q),L):(L===void 0&&(typeof T[1]=="number"?O[D]=[]:O[D]={}),I(O[D],T.slice(1),q,A))}return b.has=function(O,T){if(typeof T=="number"?T=[T]:typeof T=="string"&&(T=T.split(".")),!T||T.length===0)return!!O;for(var q=0;q<T.length;q++){var A=c(T[q]);if(typeof A=="number"&&o(O)&&A<O.length||(h.includeInheritedProps?A in Object(O):n(O,A)))O=O[A];else return!1}return!0},b.ensureExists=function(O,T,q){return I(O,T,q,!0)},b.set=function(O,T,q,A){return I(O,T,q,A)},b.insert=function(O,T,q,A){var D=b.get(O,T);A=~~A,o(D)||(D=[],b.set(O,T,D)),D.splice(A,0,q)},b.empty=function(O,T){if(!r(T)&&O!=null){var q,A;if(q=b.get(O,T)){if(typeof q=="string")return b.set(O,T,"");if(l(q))return b.set(O,T,!1);if(typeof q=="number")return b.set(O,T,0);if(o(q))q.length=0;else if(s(q))for(A in q)x(q,A)&&delete q[A];else return b.set(O,T,null)}}},b.push=function(O,T){var q=b.get(O,T);o(q)||(q=[],b.set(O,T,q)),q.push.apply(q,Array.prototype.slice.call(arguments,2))},b.coalesce=function(O,T,q){for(var A,D=0,L=T.length;D<L;D++)if((A=b.get(O,T[D]))!==void 0)return A;return q},b.get=function(O,T,q){if(typeof T=="number"&&(T=[T]),!T||T.length===0)return O;if(O==null)return q;if(typeof T=="string")return b.get(O,T.split("."),q);var A=c(T[0]),D=N(O,A);return D===void 0?q:T.length===1?D:b.get(O[A],T.slice(1),q)},b.del=function(T,q){if(typeof q=="number"&&(q=[q]),T==null||r(q))return T;if(typeof q=="string")return b.del(T,q.split("."));var A=c(q[0]);if(N(T,A),!x(T,A))return T;if(q.length===1)o(T)?T.splice(A,1):delete T[A];else return b.del(T[A],q.slice(1));return T},b}var f=d();return f.create=d,f.withInheritedProps=d({includeInheritedProps:!0}),f})}(vy)),vy.exports}var d9=c9();const jO=ro(d9);function In({number:t,empty:e="-",fraction:n=2}){if(t==null)return e;try{return t.toLocaleString(void 0,{maximumFractionDigits:n})}catch(r){return console.error("toHumanNumber",t,r),t.toFixed(2)}}const D1=({error:t,errors:e,onError:n})=>{const r=e.some(s=>s),i=t instanceof Error;return!r&&i&&n(t),r||i},mF=yn({slot:{base:["flex","flex-row","gap-2","items-center","rounded","px-2","py-0.5","hover:bg-slate-100","text-slate-500","hover:text-blue-500","cursor-pointer"]},variant:{variant:{common:[],warning:["text-amber-500","hover:text-amber-600","hover:bg-amber-100"],danger:["text-red-500","hover:text-red-600","hover:bg-red-100"]},disabled:{true:["cursor-not-allowed","text-slate-300","bg-slate-100","hover:bg-slate-100"]}},defaults:{variant:"common",disabled:!1}}),f9=yn({use:mF,slot:{},variant:{},defaults:{}}),pE=({icon:t,iconProps:e,variant:n,tva:r=f9,css:i,children:s,...o})=>{const l=r({...n,css:i}).slots;return p.jsxs("div",{className:l.base(),...o,children:[mb(t)?p.jsx(en,{icon:t,...e}):t,s]})};function Eb(){return typeof window<"u"}function Yl(t){return gF(t)?(t.nodeName||"").toLowerCase():"#document"}function cs(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ra(t){var e;return(e=(gF(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function gF(t){return Eb()?t instanceof Node||t instanceof cs(t).Node:!1}function rr(t){return Eb()?t instanceof Element||t instanceof cs(t).Element:!1}function Jr(t){return Eb()?t instanceof HTMLElement||t instanceof cs(t).HTMLElement:!1}function hE(t){return!Eb()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof cs(t).ShadowRoot}function nm(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=no(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function p9(t){return["table","td","th"].includes(Yl(t))}function Nb(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function L1(t){const e=kb(),n=rr(t)?no(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function h9(t){let e=Ma(t);for(;Jr(e)&&!Ra(e);){if(L1(e))return e;if(Nb(e))return null;e=Ma(e)}return null}function kb(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ra(t){return["html","body","#document"].includes(Yl(t))}function no(t){return cs(t).getComputedStyle(t)}function Ib(t){return rr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ma(t){if(Yl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||hE(t)&&t.host||ra(t);return hE(e)?e.host:e}function yF(t){const e=Ma(t);return Ra(e)?t.ownerDocument?t.ownerDocument.body:t.body:Jr(e)&&nm(e)?e:yF(e)}function Pl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=yF(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=cs(i);if(s){const l=mE(o);return e.concat(o,o.visualViewport||[],nm(i)?i:[],l&&n?Pl(l):[])}return e.concat(i,Pl(i,[],n))}function mE(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function bo(t){let e=t.activeElement;for(;((n=e)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;e=e.shadowRoot.activeElement}return e}function ci(t,e){if(!t||!e)return!1;const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&hE(n)){let r=e;for(;r;){if(t===r)return!0;r=r.parentNode||r.host}}return!1}function M1(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function vF(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}function bF(t){return t.mozInputSource===0&&t.isTrusted?!0:gE()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function $1(t){return g9()?!1:!gE()&&t.width===0&&t.height===0||gE()&&t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0&&t.pointerType==="touch"}function xF(){return/apple/i.test(navigator.vendor)}function gE(){const t=/android/i;return t.test(M1())||t.test(vF())}function m9(){return M1().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function g9(){return vF().includes("jsdom/")}function Eh(t,e){const n=["mouse","pen"];return e||n.push("",void 0),n.includes(t)}function y9(t){return"nativeEvent"in t}function v9(t){return t.matches("html,body")}function di(t){return t?.ownerDocument||document}function G_(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}function Il(t){return"composedPath"in t?t.composedPath()[0]:t.target}const b9="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function B1(t){return Jr(t)&&t.matches(b9)}function Pi(t){t.preventDefault(),t.stopPropagation()}function wF(t){return t?t.getAttribute("role")==="combobox"&&B1(t):!1}const Md=Math.min,ks=Math.max,bv=Math.round,ld=Math.floor,Qo=t=>({x:t,y:t}),x9={left:"right",right:"left",bottom:"top",top:"bottom"},w9={start:"end",end:"start"};function AO(t,e,n){return ks(t,Md(e,n))}function rm(t,e){return typeof t=="function"?t(e):t}function Gl(t){return t.split("-")[0]}function im(t){return t.split("-")[1]}function _F(t){return t==="x"?"y":"x"}function SF(t){return t==="y"?"height":"width"}function Ju(t){return["top","bottom"].includes(Gl(t))?"y":"x"}function EF(t){return _F(Ju(t))}function _9(t,e,n){n===void 0&&(n=!1);const r=im(t),i=EF(t),s=SF(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=xv(o)),[o,xv(o)]}function S9(t){const e=xv(t);return[yE(t),e,yE(e)]}function yE(t){return t.replace(/start|end/g,e=>w9[e])}function E9(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function N9(t,e,n,r){const i=im(t);let s=E9(Gl(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(yE)))),s}function xv(t){return t.replace(/left|right|bottom|top/g,e=>x9[e])}function k9(t){return{top:0,right:0,bottom:0,left:0,...t}}function I9(t){return typeof t!="number"?k9(t):{top:t,right:t,bottom:t,left:t}}function wv(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}var C9=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],_v=C9.join(","),NF=typeof Element>"u",$d=NF?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Sv=!NF&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t?.ownerDocument},Ev=function t(e,n){var r;n===void 0&&(n=!0);var i=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),s=i===""||i==="true",o=s||n&&e&&t(e.parentNode);return o},T9=function(e){var n,r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return r===""||r==="true"},O9=function(e,n,r){if(Ev(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(_v));return n&&$d.call(e,_v)&&i.unshift(e),i=i.filter(r),i},q9=function t(e,n,r){for(var i=[],s=Array.from(e);s.length;){var o=s.shift();if(!Ev(o,!1))if(o.tagName==="SLOT"){var l=o.assignedElements(),c=l.length?l:o.children,d=t(c,!0,r);r.flatten?i.push.apply(i,d):i.push({scopeParent:o,candidates:d})}else{var f=$d.call(o,_v);f&&r.filter(o)&&(n||!e.includes(o))&&i.push(o);var h=o.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(o),b=!Ev(h,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(h&&b){var x=t(h===!0?o.children:h.children,!0,r);r.flatten?i.push.apply(i,x):i.push({scopeParent:o,candidates:x})}else s.unshift.apply(s,o.children)}}return i},kF=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},IF=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||T9(e))&&!kF(e)?0:e.tabIndex},R9=function(e,n){var r=IF(e);return r<0&&n&&!kF(e)?0:r},j9=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},CF=function(e){return e.tagName==="INPUT"},A9=function(e){return CF(e)&&e.type==="hidden"},P9=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},F9=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},D9=function(e){if(!e.name)return!0;var n=e.form||Sv(e),r=function(l){return n.querySelectorAll('input[type="radio"][name="'+l+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var s=F9(i,e.form);return!s||s===e},L9=function(e){return CF(e)&&e.type==="radio"},M9=function(e){return L9(e)&&!D9(e)},$9=function(e){var n,r=e&&Sv(e),i=(n=r)===null||n===void 0?void 0:n.host,s=!1;if(r&&r!==e){var o,l,c;for(s=!!((o=i)!==null&&o!==void 0&&(l=o.ownerDocument)!==null&&l!==void 0&&l.contains(i)||e!=null&&(c=e.ownerDocument)!==null&&c!==void 0&&c.contains(e));!s&&i;){var d,f,h;r=Sv(i),i=(d=r)===null||d===void 0?void 0:d.host,s=!!((f=i)!==null&&f!==void 0&&(h=f.ownerDocument)!==null&&h!==void 0&&h.contains(i))}}return s},PO=function(e){var n=e.getBoundingClientRect(),r=n.width,i=n.height;return r===0&&i===0},B9=function(e,n){var r=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=$d.call(e,"details>summary:first-of-type"),o=s?e.parentElement:e;if($d.call(o,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var l=e;e;){var c=e.parentElement,d=Sv(e);if(c&&!c.shadowRoot&&i(c)===!0)return PO(e);e.assignedSlot?e=e.assignedSlot:!c&&d!==e.ownerDocument?e=d.host:e=c}e=l}if($9(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return PO(e);return!1},z9=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return $d.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},W9=function(e,n){return!(n.disabled||Ev(n)||A9(n)||B9(n,e)||P9(n)||z9(n))},vE=function(e,n){return!(M9(n)||IF(n)<0||!W9(e,n))},U9=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},V9=function t(e){var n=[],r=[];return e.forEach(function(i,s){var o=!!i.scopeParent,l=o?i.scopeParent:i,c=R9(l,o),d=o?t(i.candidates):l;c===0?o?n.push.apply(n,d):n.push(l):r.push({documentOrder:s,tabIndex:c,item:i,isScope:o,content:d})}),r.sort(j9).reduce(function(i,s){return s.isScope?i.push.apply(i,s.content):i.push(s.content),i},[]).concat(n)},Cb=function(e,n){n=n||{};var r;return n.getShadowRoot?r=q9([e],n.includeContainer,{filter:vE.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:U9}):r=O9(e,n.includeContainer,vE.bind(null,n)),V9(r)},H9=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return $d.call(e,_v)===!1?!1:vE(n,e)};function FO(t,e,n){let{reference:r,floating:i}=t;const s=Ju(e),o=EF(e),l=SF(o),c=Gl(e),d=s==="y",f=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,b=r[l]/2-i[l]/2;let x;switch(c){case"top":x={x:f,y:r.y-i.height};break;case"bottom":x={x:f,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:h};break;case"left":x={x:r.x-i.width,y:h};break;default:x={x:r.x,y:r.y}}switch(im(e)){case"start":x[o]-=b*(n&&d?-1:1);break;case"end":x[o]+=b*(n&&d?-1:1);break}return x}const Q9=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,l=s.filter(Boolean),c=await (o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:h}=FO(d,r,c),b=r,x={},_=0;for(let N=0;N<l.length;N++){const{name:I,fn:O}=l[N],{x:T,y:q,data:A,reset:D}=await O({x:f,y:h,initialPlacement:r,placement:b,strategy:i,middlewareData:x,rects:d,platform:o,elements:{reference:t,floating:e}});f=T??f,h=q??h,x={...x,[I]:{...x[I],...A}},D&&_<=50&&(_++,typeof D=="object"&&(D.placement&&(b=D.placement),D.rects&&(d=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):D.rects),{x:f,y:h}=FO(d,b,c)),N=-1)}return{x:f,y:h,placement:b,strategy:i,middlewareData:x}};async function z1(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:b=!1,padding:x=0}=rm(e,t),_=I9(x),I=l[b?h==="floating"?"reference":"floating":h],O=wv(await s.getClippingRect({element:(n=await (s.isElement==null?void 0:s.isElement(I)))==null||n?I:I.contextElement||await (s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:c})),T=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,q=await (s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),A=await (s.isElement==null?void 0:s.isElement(q))?await (s.getScale==null?void 0:s.getScale(q))||{x:1,y:1}:{x:1,y:1},D=wv(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:T,offsetParent:q,strategy:c}):T);return{top:(O.top-D.top+_.top)/A.y,bottom:(D.bottom-O.bottom+_.bottom)/A.y,left:(O.left-D.left+_.left)/A.x,right:(D.right-O.right+_.right)/A.x}}const K9=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:b,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:N=!0,...I}=rm(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const O=Gl(i),T=Ju(l),q=Gl(l)===l,A=await (c.isRTL==null?void 0:c.isRTL(d.floating)),D=b||(q||!N?[xv(l)]:S9(l)),L=_!=="none";!b&&L&&D.push(...N9(l,N,_,A));const z=[l,...D],P=await z1(e,I),R=[];let B=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&R.push(P[O]),h){const $=_9(i,o,A);R.push(P[$[0]],P[$[1]])}if(B=[...B,{placement:i,overflows:R}],!R.every($=>$<=0)){var F,W;const $=(((F=s.flip)==null?void 0:F.index)||0)+1,ee=z[$];if(ee)return{data:{index:$,overflows:B},reset:{placement:ee}};let J=(W=B.filter(le=>le.overflows[0]<=0).sort((le,se)=>le.overflows[1]-se.overflows[1])[0])==null?void 0:W.placement;if(!J)switch(x){case"bestFit":{var U;const le=(U=B.filter(se=>{if(L){const te=Ju(se.placement);return te===T||te==="y"}return!0}).map(se=>[se.placement,se.overflows.filter(te=>te>0).reduce((te,oe)=>te+oe,0)]).sort((se,te)=>se[1]-te[1])[0])==null?void 0:U[0];le&&(J=le);break}case"initialPlacement":J=l;break}if(i!==J)return{reset:{placement:J}}}return{}}}};async function G9(t,e){const{placement:n,platform:r,elements:i}=t,s=await (r.isRTL==null?void 0:r.isRTL(i.floating)),o=Gl(n),l=im(n),c=Ju(n)==="y",d=["left","top"].includes(o)?-1:1,f=s&&c?-1:1,h=rm(e,t);let{mainAxis:b,crossAxis:x,alignmentAxis:_}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof _=="number"&&(x=l==="end"?_*-1:_),c?{x:x*f,y:b*d}:{x:b*d,y:x*f}}const Z9=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:l}=e,c=await G9(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},J9=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:I=>{let{x:O,y:T}=I;return{x:O,y:T}}},...c}=rm(t,e),d={x:n,y:r},f=await z1(e,c),h=Ju(Gl(i)),b=_F(h);let x=d[b],_=d[h];if(s){const I=b==="y"?"top":"left",O=b==="y"?"bottom":"right",T=x+f[I],q=x-f[O];x=AO(T,x,q)}if(o){const I=h==="y"?"top":"left",O=h==="y"?"bottom":"right",T=_+f[I],q=_-f[O];_=AO(T,_,q)}const N=l.fn({...e,[b]:x,[h]:_});return{...N,data:{x:N.x-n,y:N.y-r,enabled:{[b]:s,[h]:o}}}}}},Y9=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:l}=e,{apply:c=()=>{},...d}=rm(t,e),f=await z1(e,d),h=Gl(i),b=im(i),x=Ju(i)==="y",{width:_,height:N}=s.floating;let I,O;h==="top"||h==="bottom"?(I=h,O=b===(await (o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(O=h,I=b==="end"?"top":"bottom");const T=N-f.top-f.bottom,q=_-f.left-f.right,A=Md(N-f[I],T),D=Md(_-f[O],q),L=!e.middlewareData.shift;let z=A,P=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(P=q),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(z=T),L&&!b){const B=ks(f.left,0),F=ks(f.right,0),W=ks(f.top,0),U=ks(f.bottom,0);x?P=_-2*(B!==0||F!==0?B+F:ks(f.left,f.right)):z=N-2*(W!==0||U!==0?W+U:ks(f.top,f.bottom))}await c({...e,availableWidth:P,availableHeight:z});const R=await o.getDimensions(l.floating);return _!==R.width||N!==R.height?{reset:{rects:!0}}:{}}}};function TF(t){const e=no(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Jr(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,l=bv(n)!==s||bv(r)!==o;return l&&(n=s,r=o),{width:n,height:r,$:l}}function W1(t){return rr(t)?t:t.contextElement}function Id(t){const e=W1(t);if(!Jr(e))return Qo(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=TF(e);let o=(s?bv(n.width):n.width)/r,l=(s?bv(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const X9=Qo(0);function OF(t){const e=cs(t);return!kb()||!e.visualViewport?X9:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function e7(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==cs(t)?!1:e}function Yu(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=W1(t);let o=Qo(1);e&&(r?rr(r)&&(o=Id(r)):o=Id(t));const l=e7(s,n,r)?OF(s):Qo(0);let c=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,f=i.width/o.x,h=i.height/o.y;if(s){const b=cs(s),x=r&&rr(r)?cs(r):r;let _=b,N=mE(_);for(;N&&r&&x!==_;){const I=Id(N),O=N.getBoundingClientRect(),T=no(N),q=O.left+(N.clientLeft+parseFloat(T.paddingLeft))*I.x,A=O.top+(N.clientTop+parseFloat(T.paddingTop))*I.y;c*=I.x,d*=I.y,f*=I.x,h*=I.y,c+=q,d+=A,_=cs(N),N=mE(_)}}return wv({width:f,height:h,x:c,y:d})}function U1(t,e){const n=Ib(t).scrollLeft;return e?e.left+n:Yu(ra(t)).left+n}function qF(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:U1(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function t7(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=ra(r),l=e?Nb(e.floating):!1;if(r===o||l&&s)return n;let c={scrollLeft:0,scrollTop:0},d=Qo(1);const f=Qo(0),h=Jr(r);if((h||!h&&!s)&&((Yl(r)!=="body"||nm(o))&&(c=Ib(r)),Jr(r))){const x=Yu(r);d=Id(r),f.x=x.x+r.clientLeft,f.y=x.y+r.clientTop}const b=o&&!h&&!s?qF(o,c,!0):Qo(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+f.x+b.x,y:n.y*d.y-c.scrollTop*d.y+f.y+b.y}}function n7(t){return Array.from(t.getClientRects())}function r7(t){const e=ra(t),n=Ib(t),r=t.ownerDocument.body,i=ks(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=ks(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+U1(t);const l=-n.scrollTop;return no(r).direction==="rtl"&&(o+=ks(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:l}}function i7(t,e){const n=cs(t),r=ra(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){s=i.width,o=i.height;const d=kb();(!d||d&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:l,y:c}}function s7(t,e){const n=Yu(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Jr(t)?Id(t):Qo(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,c=i*s.x,d=r*s.y;return{width:o,height:l,x:c,y:d}}function DO(t,e,n){let r;if(e==="viewport")r=i7(t,n);else if(e==="document")r=r7(ra(t));else if(rr(e))r=s7(e,n);else{const i=OF(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return wv(r)}function RF(t,e){const n=Ma(t);return n===e||!rr(n)||Ra(n)?!1:no(n).position==="fixed"||RF(n,e)}function o7(t,e){const n=e.get(t);if(n)return n;let r=Pl(t,[],!1).filter(l=>rr(l)&&Yl(l)!=="body"),i=null;const s=no(t).position==="fixed";let o=s?Ma(t):t;for(;rr(o)&&!Ra(o);){const l=no(o),c=L1(o);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||nm(o)&&!c&&RF(t,o))?r=r.filter(f=>f!==o):i=l,o=Ma(o)}return e.set(t,r),r}function a7(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Nb(e)?[]:o7(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((d,f)=>{const h=DO(e,f,i);return d.top=ks(h.top,d.top),d.right=Md(h.right,d.right),d.bottom=Md(h.bottom,d.bottom),d.left=ks(h.left,d.left),d},DO(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function l7(t){const{width:e,height:n}=TF(t);return{width:e,height:n}}function u7(t,e,n){const r=Jr(e),i=ra(e),s=n==="fixed",o=Yu(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=Qo(0);if(r||!r&&!s)if((Yl(e)!=="body"||nm(i))&&(l=Ib(e)),r){const b=Yu(e,!0,s,e);c.x=b.x+e.clientLeft,c.y=b.y+e.clientTop}else i&&(c.x=U1(i));const d=i&&!r&&!s?qF(i,l):Qo(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function Z_(t){return no(t).position==="static"}function LO(t,e){if(!Jr(t)||no(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ra(t)===n&&(n=n.ownerDocument.body),n}function jF(t,e){const n=cs(t);if(Nb(t))return n;if(!Jr(t)){let i=Ma(t);for(;i&&!Ra(i);){if(rr(i)&&!Z_(i))return i;i=Ma(i)}return n}let r=LO(t,e);for(;r&&p9(r)&&Z_(r);)r=LO(r,e);return r&&Ra(r)&&Z_(r)&&!L1(r)?n:r||h9(t)||n}const c7=async function(t){const e=this.getOffsetParent||jF,n=this.getDimensions,r=await n(t.floating);return{reference:u7(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function d7(t){return no(t).direction==="rtl"}const f7={convertOffsetParentRelativeRectToViewportRelativeRect:t7,getDocumentElement:ra,getClippingRect:a7,getOffsetParent:jF,getElementRects:c7,getClientRects:n7,getDimensions:l7,getScale:Id,isElement:rr,isRTL:d7};function AF(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function p7(t,e){let n=null,r;const i=ra(t);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const d=t.getBoundingClientRect(),{left:f,top:h,width:b,height:x}=d;if(l||e(),!b||!x)return;const _=ld(h),N=ld(i.clientWidth-(f+b)),I=ld(i.clientHeight-(h+x)),O=ld(f),q={rootMargin:-_+"px "+-N+"px "+-I+"px "+-O+"px",threshold:ks(0,Md(1,c))||1};let A=!0;function D(L){const z=L[0].intersectionRatio;if(z!==c){if(!A)return o();z?o(!1,z):r=setTimeout(()=>{o(!1,1e-7)},1e3)}z===1&&!AF(d,t.getBoundingClientRect())&&o(),A=!1}try{n=new IntersectionObserver(D,{...q,root:i.ownerDocument})}catch{n=new IntersectionObserver(D,q)}n.observe(t)}return o(!0),s}function PF(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=W1(t),f=i||s?[...d?Pl(d):[],...Pl(e)]:[];f.forEach(O=>{i&&O.addEventListener("scroll",n,{passive:!0}),s&&O.addEventListener("resize",n)});const h=d&&l?p7(d,n):null;let b=-1,x=null;o&&(x=new ResizeObserver(O=>{let[T]=O;T&&T.target===d&&x&&(x.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var q;(q=x)==null||q.observe(e)})),n()}),d&&!c&&x.observe(d),x.observe(e));let _,N=c?Yu(t):null;c&&I();function I(){const O=Yu(t);N&&!AF(N,O)&&n(),N=O,_=requestAnimationFrame(I)}return n(),()=>{var O;f.forEach(T=>{i&&T.removeEventListener("scroll",n),s&&T.removeEventListener("resize",n)}),h?.(),(O=x)==null||O.disconnect(),x=null,c&&cancelAnimationFrame(_)}}const h7=Z9,m7=J9,g7=K9,y7=Y9,v7=(t,e,n)=>{const r=new Map,i={platform:f7,...n},s={...i.platform,_c:r};return Q9(t,e,{...i,platform:s})};var by=typeof document<"u"?K.useLayoutEffect:K.useEffect;function Nv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Nv(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Nv(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function FF(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function MO(t,e){const n=FF(t);return Math.round(e*n)/n}function J_(t){const e=K.useRef(t);return by(()=>{e.current=t}),e}function b7(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[f,h]=K.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[b,x]=K.useState(r);Nv(b,r)||x(r);const[_,N]=K.useState(null),[I,O]=K.useState(null),T=K.useCallback(se=>{se!==L.current&&(L.current=se,N(se))},[]),q=K.useCallback(se=>{se!==z.current&&(z.current=se,O(se))},[]),A=s||_,D=o||I,L=K.useRef(null),z=K.useRef(null),P=K.useRef(f),R=c!=null,B=J_(c),F=J_(i),W=J_(d),U=K.useCallback(()=>{if(!L.current||!z.current)return;const se={placement:e,strategy:n,middleware:b};F.current&&(se.platform=F.current),v7(L.current,z.current,se).then(te=>{const oe={...te,isPositioned:W.current!==!1};$.current&&!Nv(P.current,oe)&&(P.current=oe,tb.flushSync(()=>{h(oe)}))})},[b,e,n,F,W]);by(()=>{d===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,h(se=>({...se,isPositioned:!1})))},[d]);const $=K.useRef(!1);by(()=>($.current=!0,()=>{$.current=!1}),[]),by(()=>{if(A&&(L.current=A),D&&(z.current=D),A&&D){if(B.current)return B.current(A,D,U);U()}},[A,D,U,B,R]);const ee=K.useMemo(()=>({reference:L,floating:z,setReference:T,setFloating:q}),[T,q]),J=K.useMemo(()=>({reference:A,floating:D}),[A,D]),le=K.useMemo(()=>{const se={position:n,left:0,top:0};if(!J.floating)return se;const te=MO(J.floating,f.x),oe=MO(J.floating,f.y);return l?{...se,transform:"translate("+te+"px, "+oe+"px)",...FF(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:te,top:oe}},[n,l,J.floating,f.x,f.y]);return K.useMemo(()=>({...f,update:U,refs:ee,elements:J,floatingStyles:le}),[f,U,ee,J,le])}const DF=(t,e)=>({...h7(t),options:[t,e]}),x7=(t,e)=>({...m7(t),options:[t,e]}),LF=(t,e)=>({...g7(t),options:[t,e]}),w7=(t,e)=>({...y7(t),options:[t,e]});function $O(t){return K.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})},t)}const MF={...L$},_7=MF.useInsertionEffect,S7=_7||(t=>t());function Mi(t){const e=K.useRef(()=>{});return S7(()=>{e.current=t}),K.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}const V1="ArrowUp",sm="ArrowDown",Fl="ArrowLeft",Dl="ArrowRight";function Ag(t,e,n){return Math.floor(t/e)!==n}function Vp(t,e){return e<0||e>=t.current.length}function Y_(t,e){return wi(t,{disabledIndices:e})}function BO(t,e){return wi(t,{decrement:!0,startingIndex:t.current.length,disabledIndices:e})}function wi(t,e){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:i,amount:s=1}=e===void 0?{}:e;const o=t.current;let l=n;do l+=r?-s:s;while(l>=0&&l<=o.length-1&&xy(o,l,i));return l}function E7(t,e){let{event:n,orientation:r,loop:i,rtl:s,cols:o,disabledIndices:l,minIndex:c,maxIndex:d,prevIndex:f,stopEvent:h=!1}=e,b=f;if(n.key===V1){if(h&&Pi(n),f===-1)b=d;else if(b=wi(t,{startingIndex:b,amount:o,decrement:!0,disabledIndices:l}),i&&(f-o<c||b<0)){const x=f%o,_=d%o,N=d-(_-x);_===x?b=d:b=_>x?N:N-o}Vp(t,b)&&(b=f)}if(n.key===sm&&(h&&Pi(n),f===-1?b=c:(b=wi(t,{startingIndex:f,amount:o,disabledIndices:l}),i&&f+o>d&&(b=wi(t,{startingIndex:f%o-o,amount:o,disabledIndices:l}))),Vp(t,b)&&(b=f)),r==="both"){const x=ld(f/o);n.key===(s?Fl:Dl)&&(h&&Pi(n),f%o!==o-1?(b=wi(t,{startingIndex:f,disabledIndices:l}),i&&Ag(b,o,x)&&(b=wi(t,{startingIndex:f-f%o-1,disabledIndices:l}))):i&&(b=wi(t,{startingIndex:f-f%o-1,disabledIndices:l})),Ag(b,o,x)&&(b=f)),n.key===(s?Dl:Fl)&&(h&&Pi(n),f%o!==0?(b=wi(t,{startingIndex:f,decrement:!0,disabledIndices:l}),i&&Ag(b,o,x)&&(b=wi(t,{startingIndex:f+(o-f%o),decrement:!0,disabledIndices:l}))):i&&(b=wi(t,{startingIndex:f+(o-f%o),decrement:!0,disabledIndices:l})),Ag(b,o,x)&&(b=f));const _=ld(d/o)===x;Vp(t,b)&&(i&&_?b=n.key===(s?Dl:Fl)?d:wi(t,{startingIndex:f-f%o-1,disabledIndices:l}):b=f)}return b}function N7(t,e,n){const r=[];let i=0;return t.forEach((s,o)=>{let{width:l,height:c}=s,d=!1;for(n&&(i=0);!d;){const f=[];for(let h=0;h<l;h++)for(let b=0;b<c;b++)f.push(i+h+b*e);i%e+l<=e&&f.every(h=>r[h]==null)?(f.forEach(h=>{r[h]=o}),d=!0):i++}}),[...r]}function k7(t,e,n,r,i){if(t===-1)return-1;const s=n.indexOf(t),o=e[t];switch(i){case"tl":return s;case"tr":return o?s+o.width-1:s;case"bl":return o?s+(o.height-1)*r:s;case"br":return n.lastIndexOf(t)}}function I7(t,e){return e.flatMap((n,r)=>t.includes(n)?[r]:[])}function xy(t,e,n){if(n)return n.includes(e);const r=t[e];return r==null||r.hasAttribute("disabled")||r.getAttribute("aria-disabled")==="true"}var gr=typeof document<"u"?K.useLayoutEffect:K.useEffect;let zO=!1,C7=0;const WO=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+C7++;function T7(){const[t,e]=K.useState(()=>zO?WO():void 0);return gr(()=>{t==null&&e(WO())},[]),K.useEffect(()=>{zO=!0},[]),t}const O7=MF.useId,H1=O7||T7;function $F(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const BF=K.createContext(null),zF=K.createContext(null),om=()=>{var t;return((t=K.useContext(BF))==null?void 0:t.id)||null},af=()=>K.useContext(zF);function q7(t){const e=H1(),n=af(),i=om();return gr(()=>{if(!e)return;const s={id:e,parentId:i};return n?.addNode(s),()=>{n?.removeNode(s)}},[n,e,i]),e}function R7(t){const{children:e,id:n}=t,r=om();return p.jsx(BF.Provider,{value:K.useMemo(()=>({id:n,parentId:r}),[n,r]),children:e})}function j7(t){const{children:e}=t,n=K.useRef([]),r=K.useCallback(o=>{n.current=[...n.current,o]},[]),i=K.useCallback(o=>{n.current=n.current.filter(l=>l!==o)},[]),s=K.useState(()=>$F())[0];return p.jsx(zF.Provider,{value:K.useMemo(()=>({nodesRef:n,addNode:r,removeNode:i,events:s}),[r,i,s]),children:e})}function Xu(t){return"data-floating-ui-"+t}function $i(t){const e=K.useRef(t);return gr(()=>{e.current=t}),e}const UO=Xu("safe-polygon");function X_(t,e,n){return n&&!Eh(n)?0:typeof t=="number"?t:t?.[e]}function A7(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:i,events:s,elements:o}=t,{enabled:l=!0,delay:c=0,handleClose:d=null,mouseOnly:f=!1,restMs:h=0,move:b=!0}=e,x=af(),_=om(),N=$i(d),I=$i(c),O=$i(n),T=K.useRef(),q=K.useRef(-1),A=K.useRef(),D=K.useRef(-1),L=K.useRef(!0),z=K.useRef(!1),P=K.useRef(()=>{}),R=K.useRef(!1),B=K.useCallback(()=>{var le;const se=(le=i.current.openEvent)==null?void 0:le.type;return se?.includes("mouse")&&se!=="mousedown"},[i]);K.useEffect(()=>{if(!l)return;function le(se){let{open:te}=se;te||(clearTimeout(q.current),clearTimeout(D.current),L.current=!0,R.current=!1)}return s.on("openchange",le),()=>{s.off("openchange",le)}},[l,s]),K.useEffect(()=>{if(!l||!N.current||!n)return;function le(te){B()&&r(!1,te,"hover")}const se=di(o.floating).documentElement;return se.addEventListener("mouseleave",le),()=>{se.removeEventListener("mouseleave",le)}},[o.floating,n,r,l,N,B]);const F=K.useCallback(function(le,se,te){se===void 0&&(se=!0),te===void 0&&(te="hover");const oe=X_(I.current,"close",T.current);oe&&!A.current?(clearTimeout(q.current),q.current=window.setTimeout(()=>r(!1,le,te),oe)):se&&(clearTimeout(q.current),r(!1,le,te))},[I,r]),W=Mi(()=>{P.current(),A.current=void 0}),U=Mi(()=>{if(z.current){const le=di(o.floating).body;le.style.pointerEvents="",le.removeAttribute(UO),z.current=!1}}),$=Mi(()=>i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1);K.useEffect(()=>{if(!l)return;function le(X){if(clearTimeout(q.current),L.current=!1,f&&!Eh(T.current)||h>0&&!X_(I.current,"open"))return;const ce=X_(I.current,"open",T.current);ce?q.current=window.setTimeout(()=>{O.current||r(!0,X,"hover")},ce):n||r(!0,X,"hover")}function se(X){if($())return;P.current();const ce=di(o.floating);if(clearTimeout(D.current),R.current=!1,N.current&&i.current.floatingContext){n||clearTimeout(q.current),A.current=N.current({...i.current.floatingContext,tree:x,x:X.clientX,y:X.clientY,onClose(){U(),W(),$()||F(X,!0,"safe-polygon")}});const ye=A.current;ce.addEventListener("mousemove",ye),P.current=()=>{ce.removeEventListener("mousemove",ye)};return}(T.current==="touch"?!ci(o.floating,X.relatedTarget):!0)&&F(X)}function te(X){$()||i.current.floatingContext&&(N.current==null||N.current({...i.current.floatingContext,tree:x,x:X.clientX,y:X.clientY,onClose(){U(),W(),$()||F(X)}})(X))}if(rr(o.domReference)){var oe;const X=o.domReference;return n&&X.addEventListener("mouseleave",te),(oe=o.floating)==null||oe.addEventListener("mouseleave",te),b&&X.addEventListener("mousemove",le,{once:!0}),X.addEventListener("mouseenter",le),X.addEventListener("mouseleave",se),()=>{var ce;n&&X.removeEventListener("mouseleave",te),(ce=o.floating)==null||ce.removeEventListener("mouseleave",te),b&&X.removeEventListener("mousemove",le),X.removeEventListener("mouseenter",le),X.removeEventListener("mouseleave",se)}}},[o,l,t,f,h,b,F,W,U,r,n,O,x,I,N,i,$]),gr(()=>{var le;if(l&&n&&(le=N.current)!=null&&le.__options.blockPointerEvents&&B()){z.current=!0;const te=o.floating;if(rr(o.domReference)&&te){var se;const oe=di(o.floating).body;oe.setAttribute(UO,"");const X=o.domReference,ce=x==null||(se=x.nodesRef.current.find(de=>de.id===_))==null||(se=se.context)==null?void 0:se.elements.floating;return ce&&(ce.style.pointerEvents=""),oe.style.pointerEvents="none",X.style.pointerEvents="auto",te.style.pointerEvents="auto",()=>{oe.style.pointerEvents="",X.style.pointerEvents="",te.style.pointerEvents=""}}}},[l,n,_,o,x,N,B]),gr(()=>{n||(T.current=void 0,R.current=!1,W(),U())},[n,W,U]),K.useEffect(()=>()=>{W(),clearTimeout(q.current),clearTimeout(D.current),U()},[l,o.domReference,W,U]);const ee=K.useMemo(()=>{function le(se){T.current=se.pointerType}return{onPointerDown:le,onPointerEnter:le,onMouseMove(se){const{nativeEvent:te}=se;function oe(){!L.current&&!O.current&&r(!0,te,"hover")}f&&!Eh(T.current)||n||h===0||R.current&&se.movementX**2+se.movementY**2<2||(clearTimeout(D.current),T.current==="touch"?oe():(R.current=!0,D.current=window.setTimeout(oe,h)))}}},[f,r,n,O,h]),J=K.useMemo(()=>({onMouseEnter(){clearTimeout(q.current)},onMouseLeave(le){$()||F(le.nativeEvent,!1)}}),[F,$]);return K.useMemo(()=>l?{reference:ee,floating:J}:{},[l,ee,J])}let VO=0;function Nu(t,e){e===void 0&&(e={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:i=!1}=e;r&&cancelAnimationFrame(VO);const s=()=>t?.focus({preventScroll:n});i?s():VO=requestAnimationFrame(s)}function HO(t,e){var n;let r=[],i=(n=t.find(s=>s.id===e))==null?void 0:n.parentId;for(;i;){const s=t.find(o=>o.id===i);i=s?.parentId,s&&(r=r.concat(s))}return r}function Cd(t,e){let n=t.filter(i=>{var s;return i.parentId===e&&((s=i.context)==null?void 0:s.open)}),r=n;for(;r.length;)r=t.filter(i=>{var s;return(s=r)==null?void 0:s.some(o=>{var l;return i.parentId===o.id&&((l=i.context)==null?void 0:l.open)})}),n=n.concat(r);return n}function P7(t,e){let n,r=-1;function i(s,o){o>r&&(n=s,r=o),Cd(t,s).forEach(c=>{i(c.id,o+1)})}return i(e,0),t.find(s=>s.id===n)}let Kc=new WeakMap,Pg=new WeakSet,Fg={},e0=0;const F7=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,WF=t=>t&&(t.host||WF(t.parentNode)),D7=(t,e)=>e.map(n=>{if(t.contains(n))return n;const r=WF(n);return t.contains(r)?r:null}).filter(n=>n!=null);function L7(t,e,n,r){const i="data-floating-ui-inert",s=r?"inert":n?"aria-hidden":null,o=D7(e,t),l=new Set,c=new Set(o),d=[];Fg[i]||(Fg[i]=new WeakMap);const f=Fg[i];o.forEach(h),b(e),l.clear();function h(x){!x||l.has(x)||(l.add(x),x.parentNode&&h(x.parentNode))}function b(x){!x||c.has(x)||[].forEach.call(x.children,_=>{if(Yl(_)!=="script")if(l.has(_))b(_);else{const N=s?_.getAttribute(s):null,I=N!==null&&N!=="false",O=Kc.get(_)||0,T=s?O+1:O,q=(f.get(_)||0)+1;Kc.set(_,T),f.set(_,q),d.push(_),T===1&&I&&Pg.add(_),q===1&&_.setAttribute(i,""),!I&&s&&_.setAttribute(s,"true")}})}return e0++,()=>{d.forEach(x=>{const _=Kc.get(x)||0,N=s?_-1:_,I=(f.get(x)||0)-1;Kc.set(x,N),f.set(x,I),N||(!Pg.has(x)&&s&&x.removeAttribute(s),Pg.delete(x)),I||x.removeAttribute(i)}),e0--,e0||(Kc=new WeakMap,Kc=new WeakMap,Pg=new WeakSet,Fg={})}}function QO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=di(t[0]).body;return L7(t.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,e,n)}const Tb=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function UF(t,e){const n=Cb(t,Tb());e==="prev"&&n.reverse();const r=n.indexOf(bo(di(t)));return n.slice(r+1)[0]}function VF(){return UF(document.body,"next")}function HF(){return UF(document.body,"prev")}function Hp(t,e){const n=e||t.currentTarget,r=t.relatedTarget;return!r||!ci(n,r)}function M7(t){Cb(t,Tb()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function KO(t){t.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const Ob={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let $7;function GO(t){t.key==="Tab"&&(t.target,clearTimeout($7))}const kv=K.forwardRef(function(e,n){const[r,i]=K.useState();gr(()=>(xF()&&i("button"),document.addEventListener("keydown",GO),()=>{document.removeEventListener("keydown",GO)}),[]);const s={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[Xu("focus-guard")]:"",style:Ob};return p.jsx("span",{...e,...s})}),QF=K.createContext(null),ZO=Xu("portal");function B7(t){t===void 0&&(t={});const{id:e,root:n}=t,r=H1(),i=KF(),[s,o]=K.useState(null),l=K.useRef(null);return gr(()=>()=>{s?.remove(),queueMicrotask(()=>{l.current=null})},[s]),gr(()=>{if(!r||l.current)return;const c=e?document.getElementById(e):null;if(!c)return;const d=document.createElement("div");d.id=r,d.setAttribute(ZO,""),c.appendChild(d),l.current=d,o(d)},[e,r]),gr(()=>{if(n===null||!r||l.current)return;let c=n||i?.portalNode;c&&!rr(c)&&(c=c.current),c=c||document.body;let d=null;e&&(d=document.createElement("div"),d.id=e,c.appendChild(d));const f=document.createElement("div");f.id=r,f.setAttribute(ZO,""),c=d||c,c.appendChild(f),l.current=f,o(f)},[e,n,r,i]),s}function Q1(t){const{children:e,id:n,root:r,preserveTabOrder:i=!0}=t,s=B7({id:n,root:r}),[o,l]=K.useState(null),c=K.useRef(null),d=K.useRef(null),f=K.useRef(null),h=K.useRef(null),b=o?.modal,x=o?.open,_=!!o&&!o.modal&&o.open&&i&&!!(r||s);return K.useEffect(()=>{if(!s||!i||b)return;function N(I){s&&Hp(I)&&(I.type==="focusin"?KO:M7)(s)}return s.addEventListener("focusin",N,!0),s.addEventListener("focusout",N,!0),()=>{s.removeEventListener("focusin",N,!0),s.removeEventListener("focusout",N,!0)}},[s,i,b]),K.useEffect(()=>{s&&(x||KO(s))},[x,s]),p.jsxs(QF.Provider,{value:K.useMemo(()=>({preserveTabOrder:i,beforeOutsideRef:c,afterOutsideRef:d,beforeInsideRef:f,afterInsideRef:h,portalNode:s,setFocusManagerState:l}),[i,s]),children:[_&&s&&p.jsx(kv,{"data-type":"outside",ref:c,onFocus:N=>{if(Hp(N,s)){var I;(I=f.current)==null||I.focus()}else{const O=HF()||o?.domReference;O?.focus()}}}),_&&s&&p.jsx("span",{"aria-owns":s.id,style:Ob}),s&&tb.createPortal(e,s),_&&s&&p.jsx(kv,{"data-type":"outside",ref:d,onFocus:N=>{if(Hp(N,s)){var I;(I=h.current)==null||I.focus()}else{const O=VF()||o?.domReference;O?.focus(),o?.closeOnFocusOut&&o?.onOpenChange(!1,N.nativeEvent,"focus-out")}}})]})}const KF=()=>K.useContext(QF),bE="data-floating-ui-focusable";function xE(t){return t?t.hasAttribute(bE)?t:t.querySelector("["+bE+"]")||t:null}const z7=20;let ku=[];function t0(t){ku=ku.filter(e=>e.isConnected),t&&Yl(t)!=="body"&&(ku.push(t),ku.length>z7&&(ku=ku.slice(-20)))}function JO(){return ku.slice().reverse().find(t=>t.isConnected)}function W7(t){const e=Tb();return H9(t,e)?t:Cb(t,e)[0]||t}const U7=K.forwardRef(function(e,n){return p.jsx("button",{...e,type:"button",ref:n,tabIndex:-1,style:Ob})});function GF(t){const{context:e,children:n,disabled:r=!1,order:i=["content"],guards:s=!0,initialFocus:o=0,returnFocus:l=!0,restoreFocus:c=!1,modal:d=!0,visuallyHiddenDismiss:f=!1,closeOnFocusOut:h=!0,outsideElementsInert:b=!1}=t,{open:x,onOpenChange:_,events:N,dataRef:I,elements:{domReference:O,floating:T}}=e,q=Mi(()=>{var De;return(De=I.current.floatingContext)==null?void 0:De.nodeId}),A=typeof o=="number"&&o<0,D=wF(O)&&A,L=F7(),z=L?s:!0,P=!z||L&&b,R=$i(i),B=$i(o),F=$i(l),W=af(),U=KF(),$=K.useRef(null),ee=K.useRef(null),J=K.useRef(!1),le=K.useRef(!1),se=K.useRef(-1),te=U!=null,oe=xE(T),X=Mi(function(De){return De===void 0&&(De=oe),De?Cb(De,Tb()):[]}),ce=Mi(De=>{const Ze=X(De);return R.current.map(Xe=>O&&Xe==="reference"?O:oe&&Xe==="floating"?oe:Ze).filter(Boolean).flat()});K.useEffect(()=>{if(r||!d)return;function De(Xe){if(Xe.key==="Tab"){ci(oe,bo(di(oe)))&&X().length===0&&!D&&Pi(Xe);const Ue=ce(),ut=Il(Xe);R.current[0]==="reference"&&ut===O&&(Pi(Xe),Xe.shiftKey?Nu(Ue[Ue.length-1]):Nu(Ue[1])),R.current[1]==="floating"&&ut===oe&&Xe.shiftKey&&(Pi(Xe),Nu(Ue[0]))}}const Ze=di(oe);return Ze.addEventListener("keydown",De),()=>{Ze.removeEventListener("keydown",De)}},[r,O,oe,d,R,D,X,ce]),K.useEffect(()=>{if(r||!T)return;function De(Ze){const Xe=Il(Ze),ut=X().indexOf(Xe);ut!==-1&&(se.current=ut)}return T.addEventListener("focusin",De),()=>{T.removeEventListener("focusin",De)}},[r,T,X]),K.useEffect(()=>{if(r||!h)return;function De(){le.current=!0,setTimeout(()=>{le.current=!1})}function Ze(Xe){const Ue=Xe.relatedTarget;queueMicrotask(()=>{const ut=q(),_t=!(ci(O,Ue)||ci(T,Ue)||ci(Ue,T)||ci(U?.portalNode,Ue)||Ue!=null&&Ue.hasAttribute(Xu("focus-guard"))||W&&(Cd(W.nodesRef.current,ut).find(Tt=>{var Wt,Xt;return ci((Wt=Tt.context)==null?void 0:Wt.elements.floating,Ue)||ci((Xt=Tt.context)==null?void 0:Xt.elements.domReference,Ue)})||HO(W.nodesRef.current,ut).find(Tt=>{var Wt,Xt,xe;return[(Wt=Tt.context)==null?void 0:Wt.elements.floating,xE((Xt=Tt.context)==null?void 0:Xt.elements.floating)].includes(Ue)||((xe=Tt.context)==null?void 0:xe.elements.domReference)===Ue})));if(c&&_t&&bo(di(oe))===di(oe).body){Jr(oe)&&oe.focus();const Tt=se.current,Wt=X(),Xt=Wt[Tt]||Wt[Wt.length-1]||oe;Jr(Xt)&&Xt.focus()}(D||!d)&&Ue&&_t&&!le.current&&Ue!==JO()&&(J.current=!0,_(!1,Xe,"focus-out"))})}if(T&&Jr(O))return O.addEventListener("focusout",Ze),O.addEventListener("pointerdown",De),T.addEventListener("focusout",Ze),()=>{O.removeEventListener("focusout",Ze),O.removeEventListener("pointerdown",De),T.removeEventListener("focusout",Ze)}},[r,O,T,oe,d,W,U,_,h,c,X,D,q]);const de=K.useRef(null),ye=K.useRef(null),we=$O([de,U?.beforeInsideRef]),Ne=$O([ye,U?.afterInsideRef]);K.useEffect(()=>{var De;if(r||!T)return;const Ze=Array.from((U==null||(De=U.portalNode)==null?void 0:De.querySelectorAll("["+Xu("portal")+"]"))||[]),Xe=W&&!d?HO(W?.nodesRef.current,q()).map(_t=>{var Tt;return(Tt=_t.context)==null?void 0:Tt.elements.floating}):[],Ue=[T,...Ze,...Xe,$.current,ee.current,de.current,ye.current,U?.beforeOutsideRef.current,U?.afterOutsideRef.current,R.current.includes("reference")||D?O:null].filter(_t=>_t!=null),ut=d||D?QO(Ue,!P,P):QO(Ue);return()=>{ut()}},[r,O,T,d,R,U,D,z,P,W,q]),gr(()=>{if(r||!Jr(oe))return;const De=di(oe),Ze=bo(De);queueMicrotask(()=>{const Xe=ce(oe),Ue=B.current,ut=(typeof Ue=="number"?Xe[Ue]:Ue.current)||oe,_t=ci(oe,Ze);!A&&!_t&&x&&Nu(ut,{preventScroll:ut===oe})})},[r,x,oe,A,ce,B]),gr(()=>{if(r||!oe)return;let De=!1;const Ze=di(oe),Xe=bo(Ze);let ut=I.current.openEvent;t0(Xe);function _t(Xt){let{open:xe,reason:ve,event:ke,nested:Ae}=Xt;xe&&(ut=ke),ve==="escape-key"&&O&&t0(O),["hover","safe-polygon"].includes(ve)&&ke.type==="mouseleave"&&(J.current=!0),ve==="outside-press"&&(Ae?(J.current=!1,De=!0):J.current=!(bF(ke)||$1(ke)))}N.on("openchange",_t);const Tt=Ze.createElement("span");Tt.setAttribute("tabindex","-1"),Tt.setAttribute("aria-hidden","true"),Object.assign(Tt.style,Ob),te&&O&&O.insertAdjacentElement("afterend",Tt);function Wt(){return typeof F.current=="boolean"?JO()||Tt:F.current.current||Tt}return()=>{N.off("openchange",_t);const Xt=bo(Ze),xe=ci(T,Xt)||W&&Cd(W.nodesRef.current,q()).some(Ae=>{var Ve;return ci((Ve=Ae.context)==null?void 0:Ve.elements.floating,Xt)});(xe||ut&&["click","mousedown"].includes(ut.type))&&O&&t0(O);const ke=Wt();queueMicrotask(()=>{const Ae=W7(ke);F.current&&!J.current&&Jr(Ae)&&(!(Ae!==Xt&&Xt!==Ze.body)||xe)&&Ae.focus({preventScroll:De}),Tt.remove()})}},[r,T,oe,F,I,N,W,te,O,q]),K.useEffect(()=>{queueMicrotask(()=>{J.current=!1})},[r]),gr(()=>{if(!r&&U)return U.setFocusManagerState({modal:d,closeOnFocusOut:h,open:x,onOpenChange:_,domReference:O}),()=>{U.setFocusManagerState(null)}},[r,U,d,x,_,h,O]),gr(()=>{if(r||!oe||typeof MutationObserver!="function"||A)return;const De=()=>{const Xe=oe.getAttribute("tabindex"),Ue=X(),ut=bo(di(T)),_t=Ue.indexOf(ut);_t!==-1&&(se.current=_t),R.current.includes("floating")||ut!==O&&Ue.length===0?Xe!=="0"&&oe.setAttribute("tabindex","0"):Xe!=="-1"&&oe.setAttribute("tabindex","-1")};De();const Ze=new MutationObserver(De);return Ze.observe(oe,{childList:!0,subtree:!0,attributes:!0}),()=>{Ze.disconnect()}},[r,T,oe,O,R,X,A]);function ze(De){return r||!f||!d?null:p.jsx(U7,{ref:De==="start"?$:ee,onClick:Ze=>_(!1,Ze.nativeEvent),children:typeof f=="string"?f:"Dismiss"})}const qe=!r&&z&&(d?!D:!0)&&(te||d);return p.jsxs(p.Fragment,{children:[qe&&p.jsx(kv,{"data-type":"inside",ref:we,onFocus:De=>{if(d){const Xe=ce();Nu(i[0]==="reference"?Xe[0]:Xe[Xe.length-1])}else if(U!=null&&U.preserveTabOrder&&U.portalNode)if(J.current=!1,Hp(De,U.portalNode)){const Xe=VF()||O;Xe?.focus()}else{var Ze;(Ze=U.beforeOutsideRef.current)==null||Ze.focus()}}}),!D&&ze("start"),n,ze("end"),qe&&p.jsx(kv,{"data-type":"inside",ref:Ne,onFocus:De=>{if(d)Nu(ce()[0]);else if(U!=null&&U.preserveTabOrder&&U.portalNode)if(h&&(J.current=!0),Hp(De,U.portalNode)){const Xe=HF()||O;Xe?.focus()}else{var Ze;(Ze=U.afterOutsideRef.current)==null||Ze.focus()}}})]})}let Dg=0;function V7(){const t=/iP(hone|ad|od)|iOS/.test(M1()),e=document.body.style,r=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",i=window.innerWidth-document.documentElement.clientWidth,s=e.left?parseFloat(e.left):window.scrollX,o=e.top?parseFloat(e.top):window.scrollY;if(e.overflow="hidden",i&&(e[r]=i+"px"),t){var l,c;const d=((l=window.visualViewport)==null?void 0:l.offsetLeft)||0,f=((c=window.visualViewport)==null?void 0:c.offsetTop)||0;Object.assign(e,{position:"fixed",top:-(o-Math.floor(f))+"px",left:-(s-Math.floor(d))+"px",right:"0"})}return()=>{Object.assign(e,{overflow:"",[r]:""}),t&&(Object.assign(e,{position:"",top:"",left:"",right:""}),window.scrollTo(s,o))}}let YO=()=>{};const H7=K.forwardRef(function(e,n){const{lockScroll:r=!1,...i}=e;return gr(()=>{if(r)return Dg++,Dg===1&&(YO=V7()),()=>{Dg--,Dg===0&&YO()}},[r]),p.jsx("div",{ref:n,...i,style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...i.style}})});function XO(t){return Jr(t.target)&&t.target.tagName==="BUTTON"}function eq(t){return B1(t)}function K1(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:i,elements:{domReference:s}}=t,{enabled:o=!0,event:l="click",toggle:c=!0,ignoreMouse:d=!1,keyboardHandlers:f=!0,stickIfOpen:h=!0}=e,b=K.useRef(),x=K.useRef(!1),_=K.useMemo(()=>({onPointerDown(N){b.current=N.pointerType},onMouseDown(N){const I=b.current;N.button===0&&l!=="click"&&(Eh(I,!0)&&d||(n&&c&&(!(i.current.openEvent&&h)||i.current.openEvent.type==="mousedown")?r(!1,N.nativeEvent,"click"):(N.preventDefault(),r(!0,N.nativeEvent,"click"))))},onClick(N){const I=b.current;if(l==="mousedown"&&b.current){b.current=void 0;return}Eh(I,!0)&&d||(n&&c&&(!(i.current.openEvent&&h)||i.current.openEvent.type==="click")?r(!1,N.nativeEvent,"click"):r(!0,N.nativeEvent,"click"))},onKeyDown(N){b.current=void 0,!(N.defaultPrevented||!f||XO(N))&&(N.key===" "&&!eq(s)&&(N.preventDefault(),x.current=!0),N.key==="Enter"&&r(!(n&&c),N.nativeEvent,"click"))},onKeyUp(N){N.defaultPrevented||!f||XO(N)||eq(s)||N.key===" "&&x.current&&(x.current=!1,r(!(n&&c),N.nativeEvent,"click"))}}),[i,s,l,d,f,r,n,h,c]);return K.useMemo(()=>o?{reference:_}:{},[o,_])}const Q7={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},K7={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},tq=t=>{var e,n;return{escapeKey:typeof t=="boolean"?t:(e=t?.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(n=t?.outsidePress)!=null?n:!0}};function G1(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,elements:i,dataRef:s}=t,{enabled:o=!0,escapeKey:l=!0,outsidePress:c=!0,outsidePressEvent:d="pointerdown",referencePress:f=!1,referencePressEvent:h="pointerdown",ancestorScroll:b=!1,bubbles:x,capture:_}=e,N=af(),I=Mi(typeof c=="function"?c:()=>!1),O=typeof c=="function"?I:c,T=K.useRef(!1),q=K.useRef(!1),{escapeKey:A,outsidePress:D}=tq(x),{escapeKey:L,outsidePress:z}=tq(_),P=K.useRef(!1),R=Mi(ee=>{var J;if(!n||!o||!l||ee.key!=="Escape"||P.current)return;const le=(J=s.current.floatingContext)==null?void 0:J.nodeId,se=N?Cd(N.nodesRef.current,le):[];if(!A&&(ee.stopPropagation(),se.length>0)){let te=!0;if(se.forEach(oe=>{var X;if((X=oe.context)!=null&&X.open&&!oe.context.dataRef.current.__escapeKeyBubbles){te=!1;return}}),!te)return}r(!1,y9(ee)?ee.nativeEvent:ee,"escape-key")}),B=Mi(ee=>{var J;const le=()=>{var se;R(ee),(se=Il(ee))==null||se.removeEventListener("keydown",le)};(J=Il(ee))==null||J.addEventListener("keydown",le)}),F=Mi(ee=>{var J;const le=T.current;T.current=!1;const se=q.current;if(q.current=!1,d==="click"&&se||le||typeof O=="function"&&!O(ee))return;const te=Il(ee),oe="["+Xu("inert")+"]",X=di(i.floating).querySelectorAll(oe);let ce=rr(te)?te:null;for(;ce&&!Ra(ce);){const Ne=Ma(ce);if(Ra(Ne)||!rr(Ne))break;ce=Ne}if(X.length&&rr(te)&&!v9(te)&&!ci(te,i.floating)&&Array.from(X).every(Ne=>!ci(ce,Ne)))return;if(Jr(te)&&$){const Ne=Ra(te),ze=no(te),qe=/auto|scroll/,De=Ne||qe.test(ze.overflowX),Ze=Ne||qe.test(ze.overflowY),Xe=De&&te.clientWidth>0&&te.scrollWidth>te.clientWidth,Ue=Ze&&te.clientHeight>0&&te.scrollHeight>te.clientHeight,ut=ze.direction==="rtl",_t=Ue&&(ut?ee.offsetX<=te.offsetWidth-te.clientWidth:ee.offsetX>te.clientWidth),Tt=Xe&&ee.offsetY>te.clientHeight;if(_t||Tt)return}const de=(J=s.current.floatingContext)==null?void 0:J.nodeId,ye=N&&Cd(N.nodesRef.current,de).some(Ne=>{var ze;return G_(ee,(ze=Ne.context)==null?void 0:ze.elements.floating)});if(G_(ee,i.floating)||G_(ee,i.domReference)||ye)return;const we=N?Cd(N.nodesRef.current,de):[];if(we.length>0){let Ne=!0;if(we.forEach(ze=>{var qe;if((qe=ze.context)!=null&&qe.open&&!ze.context.dataRef.current.__outsidePressBubbles){Ne=!1;return}}),!Ne)return}r(!1,ee,"outside-press")}),W=Mi(ee=>{var J;const le=()=>{var se;F(ee),(se=Il(ee))==null||se.removeEventListener(d,le)};(J=Il(ee))==null||J.addEventListener(d,le)});K.useEffect(()=>{if(!n||!o)return;s.current.__escapeKeyBubbles=A,s.current.__outsidePressBubbles=D;let ee=-1;function J(X){r(!1,X,"ancestor-scroll")}function le(){window.clearTimeout(ee),P.current=!0}function se(){ee=window.setTimeout(()=>{P.current=!1},kb()?5:0)}const te=di(i.floating);l&&(te.addEventListener("keydown",L?B:R,L),te.addEventListener("compositionstart",le),te.addEventListener("compositionend",se)),O&&te.addEventListener(d,z?W:F,z);let oe=[];return b&&(rr(i.domReference)&&(oe=Pl(i.domReference)),rr(i.floating)&&(oe=oe.concat(Pl(i.floating))),!rr(i.reference)&&i.reference&&i.reference.contextElement&&(oe=oe.concat(Pl(i.reference.contextElement)))),oe=oe.filter(X=>{var ce;return X!==((ce=te.defaultView)==null?void 0:ce.visualViewport)}),oe.forEach(X=>{X.addEventListener("scroll",J,{passive:!0})}),()=>{l&&(te.removeEventListener("keydown",L?B:R,L),te.removeEventListener("compositionstart",le),te.removeEventListener("compositionend",se)),O&&te.removeEventListener(d,z?W:F,z),oe.forEach(X=>{X.removeEventListener("scroll",J)}),window.clearTimeout(ee)}},[s,i,l,O,d,n,r,b,o,A,D,R,L,B,F,z,W]),K.useEffect(()=>{T.current=!1},[O,d]);const U=K.useMemo(()=>({onKeyDown:R,...f&&{[Q7[h]]:ee=>{r(!1,ee.nativeEvent,"reference-press")},...h!=="click"&&{onClick(ee){r(!1,ee.nativeEvent,"reference-press")}}}}),[R,r,f,h]),$=K.useMemo(()=>({onKeyDown:R,onMouseDown(){q.current=!0},onMouseUp(){q.current=!0},[K7[d]]:()=>{T.current=!0}}),[R,d]);return K.useMemo(()=>o?{reference:U,floating:$}:{},[o,U,$])}function G7(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=H1(),s=K.useRef({}),[o]=K.useState(()=>$F()),l=om()!=null,[c,d]=K.useState(r.reference),f=Mi((x,_,N)=>{s.current.openEvent=x?_:void 0,o.emit("openchange",{open:x,event:_,reason:N,nested:l}),n?.(x,_,N)}),h=K.useMemo(()=>({setPositionReference:d}),[]),b=K.useMemo(()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference}),[c,r.reference,r.floating]);return K.useMemo(()=>({dataRef:s,open:e,onOpenChange:f,elements:b,events:o,floatingId:i,refs:h}),[e,f,b,o,i,h])}function Z1(t){t===void 0&&(t={});const{nodeId:e}=t,n=G7({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[s,o]=K.useState(null),[l,c]=K.useState(null),f=i?.domReference||s,h=K.useRef(null),b=af();gr(()=>{f&&(h.current=f)},[f]);const x=b7({...t,elements:{...i,...l&&{reference:l}}}),_=K.useCallback(q=>{const A=rr(q)?{getBoundingClientRect:()=>q.getBoundingClientRect(),contextElement:q}:q;c(A),x.refs.setReference(A)},[x.refs]),N=K.useCallback(q=>{(rr(q)||q===null)&&(h.current=q,o(q)),(rr(x.refs.reference.current)||x.refs.reference.current===null||q!==null&&!rr(q))&&x.refs.setReference(q)},[x.refs]),I=K.useMemo(()=>({...x.refs,setReference:N,setPositionReference:_,domReference:h}),[x.refs,N,_]),O=K.useMemo(()=>({...x.elements,domReference:f}),[x.elements,f]),T=K.useMemo(()=>({...x,...r,refs:I,elements:O,nodeId:e}),[x,I,O,e,r]);return gr(()=>{r.dataRef.current.floatingContext=T;const q=b?.nodesRef.current.find(A=>A.id===e);q&&(q.context=T)}),K.useMemo(()=>({...x,context:T,refs:I,elements:O}),[x,I,O,T])}function Z7(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,events:i,dataRef:s,elements:o}=t,{enabled:l=!0,visibleOnly:c=!0}=e,d=K.useRef(!1),f=K.useRef(),h=K.useRef(!0);K.useEffect(()=>{if(!l)return;const x=cs(o.domReference);function _(){!n&&Jr(o.domReference)&&o.domReference===bo(di(o.domReference))&&(d.current=!0)}function N(){h.current=!0}return x.addEventListener("blur",_),x.addEventListener("keydown",N,!0),()=>{x.removeEventListener("blur",_),x.removeEventListener("keydown",N,!0)}},[o.domReference,n,l]),K.useEffect(()=>{if(!l)return;function x(_){let{reason:N}=_;(N==="reference-press"||N==="escape-key")&&(d.current=!0)}return i.on("openchange",x),()=>{i.off("openchange",x)}},[i,l]),K.useEffect(()=>()=>{clearTimeout(f.current)},[]);const b=K.useMemo(()=>({onPointerDown(x){$1(x.nativeEvent)||(h.current=!1)},onMouseLeave(){d.current=!1},onFocus(x){if(d.current)return;const _=Il(x.nativeEvent);if(c&&rr(_))try{if(xF()&&m9())throw Error();if(!_.matches(":focus-visible"))return}catch{if(!h.current&&!B1(_))return}r(!0,x.nativeEvent,"focus")},onBlur(x){d.current=!1;const _=x.relatedTarget,N=x.nativeEvent,I=rr(_)&&_.hasAttribute(Xu("focus-guard"))&&_.getAttribute("data-type")==="outside";f.current=window.setTimeout(()=>{var O;const T=bo(o.domReference?o.domReference.ownerDocument:document);!_&&T===o.domReference||ci((O=s.current.floatingContext)==null?void 0:O.refs.floating.current,T)||ci(o.domReference,T)||I||r(!1,N,"focus")})}}),[s,o.domReference,r,c]);return K.useMemo(()=>l?{reference:b}:{},[l,b])}const nq="active",rq="selected";function n0(t,e,n){const r=new Map,i=n==="item";let s=t;if(i&&t){const{[nq]:o,[rq]:l,...c}=t;s=c}return{...n==="floating"&&{tabIndex:-1,[bE]:""},...s,...e.map(o=>{const l=o?o[n]:null;return typeof l=="function"?t?l(t):null:l}).concat(t).reduce((o,l)=>(l&&Object.entries(l).forEach(c=>{let[d,f]=c;if(!(i&&[nq,rq].includes(d)))if(d.indexOf("on")===0){if(r.has(d)||r.set(d,[]),typeof f=="function"){var h;(h=r.get(d))==null||h.push(f),o[d]=function(){for(var b,x=arguments.length,_=new Array(x),N=0;N<x;N++)_[N]=arguments[N];return(b=r.get(d))==null?void 0:b.map(I=>I(..._)).find(I=>I!==void 0)}}}else o[d]=f}),o),{})}}function J1(t){t===void 0&&(t=[]);const e=t.map(l=>l?.reference),n=t.map(l=>l?.floating),r=t.map(l=>l?.item),i=K.useCallback(l=>n0(l,t,"reference"),e),s=K.useCallback(l=>n0(l,t,"floating"),n),o=K.useCallback(l=>n0(l,t,"item"),r);return K.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}function qb(t,e,n){switch(t){case"vertical":return e;case"horizontal":return n;default:return e||n}}function iq(t,e){return qb(e,t===V1||t===sm,t===Fl||t===Dl)}function r0(t,e,n){return qb(e,t===sm,n?t===Fl:t===Dl)||t==="Enter"||t===" "||t===""}function J7(t,e,n){return qb(e,n?t===Fl:t===Dl,t===sm)}function sq(t,e,n){return qb(e,n?t===Dl:t===Fl,t===V1)}function Y7(t,e){const{open:n,onOpenChange:r,elements:i}=t,{listRef:s,activeIndex:o,onNavigate:l=()=>{},enabled:c=!0,selectedIndex:d=null,allowEscape:f=!1,loop:h=!1,nested:b=!1,rtl:x=!1,virtual:_=!1,focusItemOnOpen:N="auto",focusItemOnHover:I=!0,openOnArrowKeyDown:O=!0,disabledIndices:T=void 0,orientation:q="vertical",cols:A=1,scrollItemIntoView:D=!0,virtualItemRef:L,itemSizes:z,dense:P=!1}=e,R=xE(i.floating),B=$i(R),F=om(),W=af(),U=Mi(()=>{l(J.current===-1?null:J.current)}),$=wF(i.domReference),ee=K.useRef(N),J=K.useRef(d??-1),le=K.useRef(null),se=K.useRef(!0),te=K.useRef(U),oe=K.useRef(!!i.floating),X=K.useRef(n),ce=K.useRef(!1),de=K.useRef(!1),ye=$i(T),we=$i(n),Ne=$i(D),ze=$i(d),[qe,De]=K.useState(),[Ze,Xe]=K.useState(),Ue=Mi(()=>{function ve(Ve){_?(De(Ve.id),W?.events.emit("virtualfocus",Ve),L&&(L.current=Ve)):Nu(Ve,{sync:ce.current,preventScroll:!0})}const ke=s.current[J.current];ke&&ve(ke),(ce.current?Ve=>Ve():requestAnimationFrame)(()=>{const Ve=s.current[J.current]||ke;if(!Ve)return;ke||ve(Ve);const rt=Ne.current;rt&&_t&&(de.current||!se.current)&&(Ve.scrollIntoView==null||Ve.scrollIntoView(typeof rt=="boolean"?{block:"nearest",inline:"nearest"}:rt))})});gr(()=>{c&&(n&&i.floating?ee.current&&d!=null&&(de.current=!0,J.current=d,U()):oe.current&&(J.current=-1,te.current()))},[c,n,i.floating,d,U]),gr(()=>{if(c&&n&&i.floating)if(o==null){if(ce.current=!1,ze.current!=null)return;if(oe.current&&(J.current=-1,Ue()),(!X.current||!oe.current)&&ee.current&&(le.current!=null||ee.current===!0&&le.current==null)){let ve=0;const ke=()=>{s.current[0]==null?(ve<2&&(ve?requestAnimationFrame:queueMicrotask)(ke),ve++):(J.current=le.current==null||r0(le.current,q,x)||b?Y_(s,ye.current):BO(s,ye.current),le.current=null,U())};ke()}}else Vp(s,o)||(J.current=o,Ue(),de.current=!1)},[c,n,i.floating,o,ze,b,s,q,x,U,Ue,ye]),gr(()=>{var ve;if(!c||i.floating||!W||_||!oe.current)return;const ke=W.nodesRef.current,Ae=(ve=ke.find(Me=>Me.id===F))==null||(ve=ve.context)==null?void 0:ve.elements.floating,Ve=bo(di(i.floating)),rt=ke.some(Me=>Me.context&&ci(Me.context.elements.floating,Ve));Ae&&!rt&&se.current&&Ae.focus({preventScroll:!0})},[c,i.floating,W,F,_]),gr(()=>{if(!c||!W||!_||F)return;function ve(ke){Xe(ke.id),L&&(L.current=ke)}return W.events.on("virtualfocus",ve),()=>{W.events.off("virtualfocus",ve)}},[c,W,_,F,L]),gr(()=>{te.current=U,X.current=n,oe.current=!!i.floating}),gr(()=>{n||(le.current=null)},[n]);const ut=o!=null,_t=K.useMemo(()=>{function ve(Ae){if(!n)return;const Ve=s.current.indexOf(Ae);Ve!==-1&&J.current!==Ve&&(J.current=Ve,U())}return{onFocus(Ae){let{currentTarget:Ve}=Ae;ce.current=!0,ve(Ve)},onClick:Ae=>{let{currentTarget:Ve}=Ae;return Ve.focus({preventScroll:!0})},...I&&{onMouseMove(Ae){let{currentTarget:Ve}=Ae;ce.current=!0,de.current=!1,ve(Ve)},onPointerLeave(Ae){let{pointerType:Ve}=Ae;if(!(!se.current||Ve==="touch")&&(ce.current=!0,J.current=-1,U(),!_)){var rt;(rt=B.current)==null||rt.focus({preventScroll:!0})}}}}},[n,B,I,s,U,_]),Tt=Mi(ve=>{if(se.current=!1,ce.current=!0,ve.which===229||!we.current&&ve.currentTarget===B.current)return;if(b&&sq(ve.key,q,x)){Pi(ve),r(!1,ve.nativeEvent,"list-navigation"),Jr(i.domReference)&&(_?W?.events.emit("virtualfocus",i.domReference):i.domReference.focus());return}const ke=J.current,Ae=Y_(s,T),Ve=BO(s,T);if($||(ve.key==="Home"&&(Pi(ve),J.current=Ae,U()),ve.key==="End"&&(Pi(ve),J.current=Ve,U())),A>1){const rt=z||Array.from({length:s.current.length},()=>({width:1,height:1})),Me=N7(rt,A,P),ct=Me.findIndex(fn=>fn!=null&&!xy(s.current,fn,T)),Ht=Me.reduce((fn,or,Pn)=>or!=null&&!xy(s.current,or,T)?Pn:fn,-1),Qt=Me[E7({current:Me.map(fn=>fn!=null?s.current[fn]:null)},{event:ve,orientation:q,loop:h,rtl:x,cols:A,disabledIndices:I7([...T||s.current.map((fn,or)=>xy(s.current,or)?or:void 0),void 0],Me),minIndex:ct,maxIndex:Ht,prevIndex:k7(J.current>Ve?Ae:J.current,rt,Me,A,ve.key===sm?"bl":ve.key===(x?Fl:Dl)?"tr":"tl"),stopEvent:!0})];if(Qt!=null&&(J.current=Qt,U()),q==="both")return}if(iq(ve.key,q)){if(Pi(ve),n&&!_&&bo(ve.currentTarget.ownerDocument)===ve.currentTarget){J.current=r0(ve.key,q,x)?Ae:Ve,U();return}r0(ve.key,q,x)?h?J.current=ke>=Ve?f&&ke!==s.current.length?-1:Ae:wi(s,{startingIndex:ke,disabledIndices:T}):J.current=Math.min(Ve,wi(s,{startingIndex:ke,disabledIndices:T})):h?J.current=ke<=Ae?f&&ke!==-1?s.current.length:Ve:wi(s,{startingIndex:ke,decrement:!0,disabledIndices:T}):J.current=Math.max(Ae,wi(s,{startingIndex:ke,decrement:!0,disabledIndices:T})),Vp(s,J.current)&&(J.current=-1),U()}}),Wt=K.useMemo(()=>_&&n&&ut&&{"aria-activedescendant":Ze||qe},[_,n,ut,Ze,qe]),Xt=K.useMemo(()=>({"aria-orientation":q==="both"?void 0:q,...$?{}:Wt,onKeyDown:Tt,onPointerMove(){se.current=!0}}),[Wt,Tt,q,$]),xe=K.useMemo(()=>{function ve(Ae){N==="auto"&&bF(Ae.nativeEvent)&&(ee.current=!0)}function ke(Ae){ee.current=N,N==="auto"&&$1(Ae.nativeEvent)&&(ee.current=!0)}return{...Wt,onKeyDown(Ae){se.current=!1;const Ve=Ae.key.startsWith("Arrow"),rt=["Home","End"].includes(Ae.key),Me=Ve||rt,ct=J7(Ae.key,q,x),Ht=sq(Ae.key,q,x),Qt=iq(Ae.key,q),fn=(b?ct:Qt)||Ae.key==="Enter"||Ae.key.trim()==="";if(_&&n){const qi=W?.nodesRef.current.find(Kt=>Kt.parentId==null),br=W&&qi?P7(W.nodesRef.current,qi.id):null;if(Me&&br&&L){const Kt=new KeyboardEvent("keydown",{key:Ae.key,bubbles:!0});if(ct||Ht){var or,Pn;const Hi=((or=br.context)==null?void 0:or.elements.domReference)===Ae.currentTarget,Qi=Ht&&!Hi?(Pn=br.context)==null?void 0:Pn.elements.domReference:ct?s.current.find(Ki=>Ki?.id===qe):null;Qi&&(Pi(Ae),Qi.dispatchEvent(Kt),Xe(void 0))}if((Qt||rt)&&br.context&&br.context.open&&br.parentId&&Ae.currentTarget!==br.context.elements.domReference){var Vr;Pi(Ae),(Vr=br.context.elements.domReference)==null||Vr.dispatchEvent(Kt);return}}return Tt(Ae)}if(!(!n&&!O&&Ve)){if(fn&&(le.current=b&&Qt?null:Ae.key),b){ct&&(Pi(Ae),n?(J.current=Y_(s,ye.current),U()):r(!0,Ae.nativeEvent,"list-navigation"));return}Qt&&(d!=null&&(J.current=d),Pi(Ae),!n&&O?r(!0,Ae.nativeEvent,"list-navigation"):Tt(Ae),n&&U())}},onFocus(){n&&!_&&(J.current=-1,U())},onPointerDown:ke,onPointerEnter:ke,onMouseDown:ve,onClick:ve}},[qe,Wt,Tt,ye,N,s,b,U,r,n,O,q,x,d,W,_,L]);return K.useMemo(()=>c?{reference:xe,floating:Xt,item:_t}:{},[c,xe,Xt,_t])}const oq=t=>t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(e,n)=>(n?"-":"")+e.toLowerCase());function Gc(t,e){return typeof t=="function"?t(e):t}function X7(t,e){const[n,r]=K.useState(t);return t&&!n&&r(!0),K.useEffect(()=>{if(!t&&n){const i=setTimeout(()=>r(!1),e);return()=>clearTimeout(i)}},[t,n,e]),n}function eQ(t,e){e===void 0&&(e={});const{open:n,elements:{floating:r}}=t,{duration:i=250}=e,o=(typeof i=="number"?i:i.close)||0,[l,c]=K.useState("unmounted"),d=X7(n,o);return!d&&l==="close"&&c("unmounted"),gr(()=>{if(r){if(n){c("initial");const f=requestAnimationFrame(()=>{c("open")});return()=>{cancelAnimationFrame(f)}}c("close")}},[n,r]),{isMounted:d,status:l}}function Y1(t,e){e===void 0&&(e={});const{initial:n={opacity:0},open:r,close:i,common:s,duration:o=250}=e,l=t.placement,c=l.split("-")[0],d=K.useMemo(()=>({side:c,placement:l}),[c,l]),f=typeof o=="number",h=(f?o:o.open)||0,b=(f?o:o.close)||0,[x,_]=K.useState(()=>({...Gc(s,d),...Gc(n,d)})),{isMounted:N,status:I}=eQ(t,{duration:o}),O=$i(n),T=$i(r),q=$i(i),A=$i(s);return gr(()=>{const D=Gc(O.current,d),L=Gc(q.current,d),z=Gc(A.current,d),P=Gc(T.current,d)||Object.keys(D).reduce((R,B)=>(R[B]="",R),{});if(I==="initial"&&_(R=>({transitionProperty:R.transitionProperty,...z,...D})),I==="open"&&_({transitionProperty:Object.keys(P).map(oq).join(","),transitionDuration:h+"ms",...z,...P}),I==="close"){const R=L||D;_({transitionProperty:Object.keys(R).map(oq).join(","),transitionDuration:b+"ms",...z,...R})}},[b,q,O,T,A,h,I,d]),{isMounted:N,styles:x}}const tQ=K.createContext({close(){}}),nQ=yn({slot:{target:["flex","justify-center","items-center"],portal:[]},variant:{mounted:{true:[]}},match:[{if:{mounted:!1},then:{portal:["hidden"]}}],defaults:{mounted:!1}}),rQ=({target:t,action:e="hover",disabled:n=!1,closeOnClick:r=!1,delay:i=100,float:s,variant:o,tva:l=nQ,css:c,children:d})=>{const[f,h]=K.useState(!1),{refs:b,floatingStyles:x,context:_}=Z1({open:f,onOpenChange:h,placement:"top",whileElementsMounted:PF,middleware:[DF(10),LF({fallbackAxisSideDirection:"start"}),x7()],...s}),{getReferenceProps:N,getFloatingProps:I}=J1([A7(_,{enabled:e==="hover",delay:i}),K1(_,{enabled:e==="click"}),Z7(_),G1(_)]),{isMounted:O,styles:T}=Y1(_),q=l({mounted:O,...o,css:c}).slots;return p.jsxs(p.Fragment,{children:[p.jsx("button",{type:"button",ref:b.setReference,...N(),disabled:n,className:q.target(),children:t}),p.jsx(Q1,{children:p.jsx("div",{ref:b.setFloating,style:{...x,...T},className:q.portal(),...I(),onClick:r?()=>{h(!1)}:void 0,children:p.jsx(tQ.Provider,{value:{close(){h(!1)}},children:d})})})]})},ZF="icon-[system-uicons--menu-hamburger]",JF=yn({slot:{base:[]},variant:{size:{xs:"text-sm",sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl","2xl":"text-2xl","3xl":"text-3xl","4xl":"text-4xl","5xl":"text-5xl","6xl":"text-6xl","7xl":"text-7xl","8xl":"text-8xl"},disabled:{true:[]}},match:[{if:{disabled:!0},then:{base:["pointer-events-none","cursor-not-allowed","text-gray-400","opacity-50"]}}],defaults:{size:"xl",disabled:!1}}),en=({icon:t,variant:e,tva:n=JF,css:r,...i})=>{const s=n({...e,css:r}).slots;return t?p.jsx("div",{className:s.base({css:[t]}),...i}):null},iQ=yn({slot:{base:["p-1","bg-slate-50","border","border-slate-300","rounded","shadow-md","text-slate-500","flex","flex-col","gap-2"]},variant:{},defaults:{}}),Xn=({icon:t=ZF,iconProps:e,children:n,variant:r,tva:i=iQ,css:s,...o})=>{const l=i({...r,css:s}).slots;return p.jsx(j7,{children:p.jsx(rQ,{action:"click",target:p.jsx(en,{icon:t,...e}),delay:100,float:{placement:"bottom-start"},closeOnClick:!0,...o,children:p.jsx("div",{className:l.base(),children:n})})})},YF="icon-[svg-spinners--90-ring-with-bg]",sQ=yn({slot:{base:["flex","items-center","justify-center","gap-2","group","w-fit","h-fit","rounded","cursor-pointer","hover:shadow-md","hover:shadow-slate-200","transition-all","hover:bg-slate-200","text-slate-600","text-2xl","p-1"]},variant:{disabled:{true:["cursor-not-allowed","pointer-events-none"]},loading:{true:["cursor-not-allowed","pointer-events-none"]}},match:[{if:{disabled:!0},then:{base:["opacity-50","hover:bg-blue-400"]}}],defaults:{disabled:!1,loading:!1}}),am=({iconEnabled:t,iconDisabled:e,iconLoading:n=YF,disabled:r=!1,loading:i=!1,onClick:s,variant:o,tva:l=sQ,css:c,children:d,...f})=>{const h=l({disabled:r,loading:i,...o,css:c}).slots;return p.jsxs("div",{className:h.base(),onClick:r?void 0:s,...f,children:[r?p.jsx(en,{icon:i?n:e??t}):p.jsx(en,{icon:i?n:t}),d]})},XF="icon-[iconamoon--close-light]",Rb=K.createContext(void 0),oQ=yn({slot:{base:["bg-slate-500","bg-opacity-75","backdrop-blur-sm","flex","justify-center","py-12"],target:[],modal:["bg-white","rounded","shadow-lg","p-4","w-fit","h-fit","max-h-full","overflow-y-auto","relative","w-2/3","max-w-1/2"]},variant:{disabled:{true:["pointer-events-none"]},loading:{true:[]}},match:[{if:{loading:!0},then:{base:["pointer-events-none","opacity-50"]}}],defaults:{disabled:!1,loading:!1}}),lf=({target:t,icon:e,textTitle:n,disabled:r=!1,defaultOpen:i=!1,outside:s=!1,variant:o,css:l,tva:c=oQ,children:d})=>{const[f,h]=K.useState(i),b=q7(),{refs:x,context:_}=Z1({nodeId:b,open:f,onOpenChange:h}),N=K1(_),I=G1(_,{outsidePress:s}),{getReferenceProps:O,getFloatingProps:T}=J1([N,I]),{isMounted:q,styles:A}=Y1(_),D=c({disabled:r,...o,css:l}).slots;return p.jsxs(Rb.Provider,{value:{close(){h(!1)}},children:[p.jsx("div",{ref:x.setReference,...O({disabled:r}),className:D.target(),children:t}),p.jsx(R7,{id:b,children:q&&p.jsx(p.Fragment,{children:p.jsx(Q1,{children:p.jsx(H7,{lockScroll:!0,style:A,className:D.base(),children:p.jsx(GF,{context:_,children:p.jsxs("div",{ref:x.setFloating,...T(),className:D.modal(),children:[p.jsxs("div",{className:"border-b border-slate-200 mb-2 py-1.5 flex flex-row items-center justify-between select-none",children:[p.jsxs("div",{className:"flex flex-row items-center gap-2 pr-4",children:[e&&(mb(e)?p.jsx(en,{icon:e,variant:{size:"xl"}}):e),n&&p.jsx("div",{className:"text-lg font-semibold text-slate-700",children:n})]}),p.jsx(am,{iconEnabled:XF,onClick:()=>h(!1)})]}),l9(d)?p.jsx(d,{close:()=>h(!1)}):d]})})})})})})]})},aQ=yn({use:mF,slot:{},variant:{},defaults:{}}),xn=({icon:t,iconProps:e,label:n,disabled:r=!1,hidden:i=!1,variant:s,tva:o=aQ,css:l,...c})=>{const d=o({...s,disabled:r,css:l}).slots;return i?null:p.jsxs("div",{className:d.base(),children:[mb(t)?p.jsx(en,{icon:t,...e}):t,p.jsx(lf,{icon:t,target:n,disabled:r,css:{modal:["w-1/2"]},...c})]})},lQ=yn({slot:{base:["flex","flex-row","gap-2","items-center","rounded-2xl","bg-blue-50","border","border-blue-200","text-xs","px-4","py-0.5","font-bold"]},variant:{},defaults:{}}),Ko=({variant:t,tva:e=lQ,css:n,...r})=>{const i=e({...t,css:n}).slots;return p.jsx("div",{className:i.base(),...r})},uQ="icon-[material-symbols-light--check-small]",cQ="icon-[material-symbols-light--close-small]",dQ="icon-[material-symbols-light--check-indeterminate-small]",fQ=yn({use:JF,slot:{},variant:{value:{true:"text-green-600",false:"text-amber-600"}},defaults:{value:!1}}),jb=({value:t,checkIcon:e=uQ,unCheckIcon:n=cQ,undefinedIcon:r=dQ,tva:i=fQ,...s})=>t==null?p.jsx(en,{icon:r,tva:i,...s}):p.jsx(en,{icon:t?e:n,tva:o=>i({...o,value:t}),...s}),pQ=yn({slot:{base:["flex","items-center","justify-between","text-sm","font-medium","text-slate-900","w-full"],switch:["relative","w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-blue-300","dark:peer-focus:ring-blue-800","rounded-full","peer","dark:bg-gray-700","peer-checked:after:translate-x-full","rtl:peer-checked:after:-translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","dark:border-gray-600","peer-checked:bg-blue-600"]},variant:{},defaults:{}}),eD=({value:t,onChange:e,variant:n,tva:r=pQ,css:i,...s})=>{const o=r({...n,css:i}).slots;return p.jsx("div",{className:o.base(),children:p.jsxs("label",{children:[p.jsx("input",{type:"checkbox",checked:t,className:"sr-only peer",onChange:l=>{e(l.target.checked)},...s}),p.jsx("div",{className:o.switch()})]})})},hQ=yn({slot:{base:["flex","flex-row","items-center","justify-center","gap-2","group","rounded","transition-all"]},variant:{variant:{primary:["text-white"],secondary:["text-slate-700"],subtle:["text-slate-600"],danger:["text-slate-50"]},disabled:{true:"cursor-not-allowed"},size:{xs:[],sm:[],md:[]}},match:[{if:{variant:"primary"},then:{base:["bg-blue-400","hover:bg-blue-500"]}},{if:{variant:"primary",disabled:!0},then:{base:["opacity-50","bg-blue-600","hover:bg-blue-600","cursor-not-allowed"]}},{if:{variant:"secondary"},then:{base:["bg-amber-400","hover:bg-amber-500"]}},{if:{variant:"secondary",disabled:!0},then:{base:["opacity-50","bg-amber-600","hover:bg-amber-600","cursor-not-allowed"]}},{if:{variant:"subtle"},then:{base:["text-slate-600","hover:text-slate-800","hover:bg-blue-50"]}},{if:{variant:"subtle",disabled:!0},then:{base:["opacity-50","bg-blue-50","hover:bg-blue-50","cursor-not-allowed"]}},{if:{variant:"danger"},then:{base:["bg-red-400","hover:bg-red-500","hover:text-white"]}},{if:{size:"xs"},then:{base:["py-0.5","px-1"]}},{if:{size:"sm"},then:{base:["py-1","px-2"]}},{if:{size:"md"},then:{base:["py-2","px-4"]}}],defaults:{variant:"primary",disabled:!1,size:"md"}}),Tn=({iconEnabled:t,iconDisabled:e,iconLoading:n=YF,iconProps:r,loading:i,variant:s,tva:o=hQ,css:l,children:c,...d})=>{const f=o({disabled:d.disabled,...s,css:l}).slots;return p.jsxs("button",{type:"button",className:f.base({disabled:d.disabled}),...d,children:[d.disabled?p.jsx(en,{icon:i===!0?n:e,variant:{size:"xl"},...r}):p.jsx(en,{icon:i===!0?n:t,variant:{size:"xl"},...r}),c]})},X1=K.createContext({inline:!1}),mQ=yn({slot:{base:["border","border-slate-100","px-2","py-1","rounded-md"],label:["text-sm","font-semibold","text-slate-600","border-b","mb-2"],value:[]},variant:{inline:{true:[]},withBackground:{true:[]}},match:[{if:{inline:!0},then:{base:["border-none","flex","flex-row","items-center","gap-2"],label:["mb-0","font-light","text-md","text-slate-600","border-none"],value:["text-md","text-slate-800"]}},{if:{withBackground:!0},then:{base:["bg-slate-50","hover:bg-slate-100"]}}],defaults:{inline:!1,withBackground:!0}}),gQ=({inline:t,label:e,value:n,variant:r,tva:i=mQ,css:s})=>{const o=K.useContext(X1),l=t??o?.inline,c=i({inline:l,...r,css:s}).slots;return p.jsxs("div",{className:c.base(),children:[e?p.jsx("div",{className:c.label(),children:e}):null,p.jsx("div",{className:c.value(),children:n})]})},yQ=yn({slot:{base:["flex","flex-col","gap-4","border","border-slate-100","p-4","rounded-lg"]},variant:{inline:{true:["flex-row","border-none","gap-1","p-0","flex-1"]}},defaults:{inline:!1}}),tD=({items:t,hidden:e=[],valueOfProps:n,entity:r,variant:i,tva:s=yQ,css:o,inline:l=!1})=>{const c=s({inline:l,...i,css:o}).slots;return p.jsx(X1.Provider,{value:{inline:l},children:p.jsx("div",{className:c.base(),children:t.filter(({id:d})=>!e.includes(d)).map(({id:d,render:f,...h})=>p.jsx(gQ,{value:p.jsx(f,{entity:r}),...n,...h},d))})})},vQ=yn({slot:{base:["flex","flex-col","gap-2"]},variant:{},defaults:{}}),aq="icon-[tabler--dots]",bQ=yn({slot:{base:["flex","items-center","justify-between","gap-2"],sums:["flex","items-center","gap-2","text-sm"]},variant:{},defaults:{}}),xQ=yn({slot:{base:["select-none"],list:["flex","items-center","-space-x-px","text-xs","gap-2"],page:["flex","items-center","justify-center","w-12","px-2","py-1","rounded","border","border-slate-200","hover:bg-slate-200","cursor-pointer","transition-all","duration-200"]},variant:{current:{true:[]}},match:[{if:{current:!0},then:{page:["bg-slate-100","hover:bg-slate-200","text-slate-800","font-bold"]}}],defaults:{current:!1}}),i0=({pages:t,page:e,onPage:n,variant:r,tva:i=xQ,css:s})=>{const o=i({...r,css:s}).slots;return p.jsx("nav",{className:o.base(),children:p.jsx("ul",{className:o.list(),children:t.map((l,c)=>p.jsx("li",{className:o.page({current:e===l-1}),onClick:()=>n(l-1),children:l},`page-${l}-${c}`))})})},wQ=yn({slot:{base:["cursor-pointer","bg-slate-50","text-slate-900","text-sm","border","border-slate-300","rounded","focus:border-sky-400","focus:outline-none","p-2.5","hover:shadow-md","transition-all","group"],input:["flex","flex-row","items-center","justify-between","gap-2"],popup:["z-50","cursor-pointer","overflow-y-auto","rounded","border","border-slate-300","bg-white","shadow-lg","focus:outline-none"],item:["focus:outline-none","py-2","px-2.5","flex","items-center","justify-between"]},variant:{disabled:{true:["cursor-not-allowed","hover:shadow-none","focus:border-slate-300","opacity-50"]},active:{true:[]},selected:{true:[]}},match:[{if:{selected:!0},then:{item:["bg-slate-100"]}},{if:{active:!0},then:{item:["bg-slate-200"]}}],defaults:{disabled:!1,selected:!1,active:!1}}),_Q=({items:t,icon:e,defaultValue:n,render:r,textSelect:i,disabled:s=!1,onItem:o,onSelect:l,onChange:c,value:d,variant:f,tva:h=wQ,css:b})=>{const[x,_]=K.useState(!1),[N,I]=K.useState(null),[O,T]=K.useState(t.findIndex(te=>te.id===n));K.useEffect(()=>{T(t.findIndex(te=>te.id===d))},[d]);const{refs:q,floatingStyles:A,context:D}=Z1({placement:"bottom-start",open:x,onOpenChange:_,whileElementsMounted:PF,middleware:[DF(5),LF({padding:10}),w7({apply({rects:te,elements:oe,availableHeight:X}){Object.assign(oe.floating.style,{maxHeight:`${X}px`,minWidth:`${te.reference.width}px`})},padding:10})]}),L=K.useRef([]),z=K.useRef(!1),P=K1(D,{event:"mousedown"}),R=G1(D),B=Y7(D,{listRef:L,activeIndex:N,selectedIndex:O,onNavigate:I,loop:!0}),{getReferenceProps:F,getFloatingProps:W,getItemProps:U}=J1([R,B,P]),{isMounted:$,styles:ee}=Y1(D),J=te=>{T(te),_(!1);const oe=t[te];oe&&o?.(oe),l?.(oe),c?.(oe?.id)},le=O===null?void 0:t[O],se=h({disabled:s,...f,css:b}).slots;return p.jsxs(p.Fragment,{children:[p.jsx("div",{tabIndex:s?-1:0,ref:s?void 0:q.setReference,"aria-labelledby":"select-label","aria-autocomplete":"none",...s?{}:F(),className:se.base(),children:p.jsxs("div",{className:se.input(),children:[e?p.jsx(en,{icon:e,variant:{size:"xl"},css:{base:["text-slate-400","group-hover:text-slate-600"]}}):null,le?p.jsx(r,{entity:le}):i||Ml.rich("Select item"),p.jsx(en,{icon:"icon-[gg--select]",variant:{size:"xl"},css:{base:[!x&&"text-slate-400",x&&"text-slate-600","group-hover:text-slate-600"]}})]})}),$&&p.jsx(Q1,{children:p.jsx(GF,{context:D,modal:!1,children:p.jsx("div",{ref:q.setFloating,style:{...A,...ee},className:se.popup(),...W(),children:t.map((te,oe)=>p.jsxs("div",{ref:X=>{L.current[oe]=X},role:"option",tabIndex:oe===N?0:-1,"aria-selected":oe===O&&oe===N,className:se.item({selected:oe===O,active:oe===N}),...U({onClick(){J(oe)},onKeyDown(X){X.key==="Enter"&&(X.preventDefault(),J(oe)),X.key===" "&&!z.current&&(X.preventDefault(),J(oe))}}),children:[p.jsx(r,{entity:te}),oe===O&&p.jsx(en,{icon:"icon-[basil--check-outline]",variant:{size:"xl"}})]},te.id))})})})]})},SQ=({sizes:t=[5,15,30,50,100],size:e,onSize:n,...r})=>p.jsx(_Q,{items:t.map(i=>({id:`${i}`,size:i})),defaultValue:`${e}`,value:`${e}`,onItem:({size:i})=>n(i),render:({entity:{size:i}})=>i,css:{base:["px-8","py-1"],item:["px-8","py-1"]},...r}),lq=({cursor:t,count:e,textTotal:n,onPage:r,onSize:i,variant:s,tva:o=bQ,css:l})=>{const c=K.useMemo(()=>JH({page:t.page,total:Math.ceil(e.filter/t.size),siblings:1,boundaries:1}),[t.page,e.filter,t.size]),d=o({...s,css:l}).slots;return p.jsxs("div",{className:d.base(),children:[c.total>1?p.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[["both","start"].includes(c.type)&&p.jsxs(p.Fragment,{children:[p.jsx(i0,{page:t.page,pages:c.start,onPage:r}),p.jsx(en,{icon:aq})]}),p.jsx(i0,{page:t.page,pages:c.pages,onPage:r}),["both","end"].includes(c.type)&&p.jsxs(p.Fragment,{children:[p.jsx(en,{icon:aq}),p.jsx(i0,{page:t.page,pages:c.end,onPage:r})]})]}):null,p.jsxs("div",{className:d.sums(),children:[p.jsx("div",{children:n}),p.jsx("div",{className:"font-bold",children:e.filter}),e.filter!==e.where&&p.jsxs(p.Fragment,{children:[p.jsx("div",{children:"/"}),p.jsx("div",{className:"font-semibold",children:e.where})]})]}),p.jsx(SQ,{size:t.size,onSize:i})]})},uq="function",ud="64e10b34-2bf7-4616-9668-f99de5aa046e",EQ="get",NQ="has",kQ="set",{isArray:wy}=Array;let{SharedArrayBuffer:Iv,window:IQ}=globalThis,{notify:nD,wait:rD,waitAsync:Cv}=Atomics,iD=null;Cv||(Cv=t=>({value:new Promise(e=>{let n=new Worker("data:application/javascript,onmessage%3D(%7Bdata%3Ab%7D)%3D%3E(Atomics.wait(b%2C0)%2CpostMessage(0))");n.onmessage=e,n.postMessage(t)})}));try{new Iv(4)}catch{Iv=ArrayBuffer;const e=new WeakMap;if(IQ){const n=new Map,{prototype:{postMessage:r}}=Worker,i=s=>{const o=s.data?.[ud];if(!wy(o)){s.stopImmediatePropagation();const{id:l,sb:c}=o;n.get(l)(c)}};iD=function(s,...o){const l=s?.[ud];if(wy(l)){const[c,d]=l;e.set(d,c),this.addEventListener("message",i)}return r.call(this,s,...o)},Cv=s=>({value:new Promise(o=>{n.set(e.get(s),o)}).then(o=>{n.delete(e.get(s)),e.delete(s);for(let l=0;l<o.length;l++)s[l]=o[l];return"ok"})})}else{const n=(r,i)=>({[ud]:{id:r,sb:i}});nD=r=>{postMessage(n(e.get(r),r))},addEventListener("message",r=>{const i=r.data?.[ud];if(wy(i)){const[s,o]=i;e.set(o,s)}})}}const{Int32Array:wE,Map:cq,Uint16Array:_E}=globalThis,{BYTES_PER_ELEMENT:dq}=wE,{BYTES_PER_ELEMENT:CQ}=_E,TQ=(t,e,n)=>{for(;rD(t,0,0,e)==="timed-out";)n()},SE=new WeakSet,s0=new WeakMap,OQ={value:{then:t=>t()}};let qQ=0;const eN=(t,{parse:e=JSON.parse,stringify:n=JSON.stringify,transform:r,interrupt:i}=JSON)=>{if(!s0.has(t)){const s=iD||t.postMessage,o=(b,...x)=>s.call(t,{[ud]:x},{transfer:b}),l=typeof i===uq?i:i?.handler,c=i?.delay||42,d=new TextDecoder("utf-16"),f=(b,x)=>b?Cv(x,0):(l?TQ(x,c,l):rD(x,0),OQ);let h=!1;s0.set(t,new Proxy(new cq,{[NQ]:(b,x)=>typeof x=="string"&&!x.startsWith("_"),[EQ]:(b,x)=>x==="then"?null:(..._)=>{const N=qQ++;let I=new wE(new Iv(dq*2)),O=[];SE.has(_.at(-1)||O)&&SE.delete(O=_.pop()),o(O,N,I,x,r?_.map(r):_);const T=t!==globalThis;let q=0;return h&&T&&(q=setTimeout(console.warn,1e3,` - Possible deadlock if proxy.${x}(...args) is awaited`)),f(T,I).value.then(()=>{clearTimeout(q);const A=I[1];if(!A)return;const D=CQ*A;return I=new wE(new Iv(D+D%dq)),o([],N,I),f(T,I).value.then(()=>e(d.decode(new _E(I.buffer).slice(0,A))))})},[kQ](b,x,_){const N=typeof _;if(N!==uq)throw new Error(`Unable to assign ${x} as ${N}`);if(!b.size){const I=new cq;t.addEventListener("message",async O=>{const T=O.data?.[ud];if(wy(T)){O.stopImmediatePropagation();const[q,A,...D]=T;let L;if(D.length){const[z,P]=D;if(b.has(z)){h=!0;try{const R=await b.get(z)(...P);if(R!==void 0){const B=n(r?r(R):R);I.set(q,B),A[1]=B.length}}catch(R){L=R}finally{h=!1}}else L=new Error(`Unsupported action: ${z}`);A[0]=1}else{const z=I.get(q);I.delete(q);for(let P=new _E(A.buffer),R=0;R<z.length;R++)P[R]=z.charCodeAt(R)}if(nD(A,0),L)throw L}})}return!!b.set(x,_)}}))}return s0.get(t)};eN.transfer=(...t)=>(SE.add(t),t);var tN=(()=>{var t=import.meta.url;return function(e={}){var n,r=e,i,s,o=new Promise((g,y)=>{i=g,s=y}),l=typeof window=="object",c=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;const d=globalThis.sqlite3InitModuleState||Object.assign(Object.create(null),{debugModule:()=>{}});delete globalThis.sqlite3InitModuleState,d.debugModule("globalThis.location =",globalThis.location);var f=Object.assign({},r),h="./this.program",b="";function x(g){return r.locateFile?r.locateFile(g,b):b+g}var _,N;(l||c)&&(c?b=self.location.href:typeof document<"u"&&document.currentScript&&(b=document.currentScript.src),t&&(b=t),b.startsWith("blob:")?b="":b=b.substr(0,b.replace(/[?#].*/,"").lastIndexOf("/")+1),c&&(N=g=>{var y=new XMLHttpRequest;return y.open("GET",g,!1),y.responseType="arraybuffer",y.send(null),new Uint8Array(y.response)}),_=g=>fetch(g,{credentials:"same-origin"}).then(y=>y.ok?y.arrayBuffer():Promise.reject(new Error(y.status+" : "+y.url))));var I=r.print||console.log.bind(console),O=r.printErr||console.error.bind(console);Object.assign(r,f),f=null,r.arguments&&r.arguments,r.thisProgram&&(h=r.thisProgram);var T=r.wasmBinary,q,A=!1,D,L,z,P,R,B;function F(){var g=q.buffer;r.HEAP8=D=new Int8Array(g),r.HEAP16=z=new Int16Array(g),r.HEAPU8=L=new Uint8Array(g),r.HEAPU16=new Uint16Array(g),r.HEAP32=P=new Int32Array(g),r.HEAPU32=R=new Uint32Array(g),r.HEAPF32=new Float32Array(g),r.HEAPF64=new Float64Array(g),r.HEAP64=B=new BigInt64Array(g),r.HEAPU64=new BigUint64Array(g)}if(r.wasmMemory)q=r.wasmMemory;else{var W=r.INITIAL_MEMORY||0x1000000;q=new WebAssembly.Memory({initial:W/65536,maximum:32768})}F();var U=[],$=[],ee=[];function J(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)te(r.preRun.shift());xe(U)}function le(){!r.noFSInit&&!V.initialized&&V.init(),V.ignorePermissions=!1,xe($)}function se(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)X(r.postRun.shift());xe(ee)}function te(g){U.unshift(g)}function oe(g){$.unshift(g)}function X(g){ee.unshift(g)}var ce=0,de=null;function ye(g){return g}function we(g){ce++,r.monitorRunDependencies?.(ce)}function Ne(g){if(ce--,r.monitorRunDependencies?.(ce),ce==0&&de){var y=de;de=null,y()}}function ze(g){r.onAbort?.(g),g="Aborted("+g+")",O(g),A=!0,g+=". Build with -sASSERTIONS for more info.";var y=new WebAssembly.RuntimeError(g);throw s(y),y}var qe="data:application/octet-stream;base64,",De=g=>g.startsWith(qe);function Ze(){if(r.locateFile){var g="sqlite3.wasm";return De(g)?g:x(g)}return new URL("/assets/sqlite3-CgX3seBP.wasm",import.meta.url).href}var Xe;function Ue(g){if(g==Xe&&T)return new Uint8Array(T);if(N)return N(g);throw"both async and sync fetching of the wasm failed"}function ut(g){return T?Promise.resolve().then(()=>Ue(g)):_(g).then(y=>new Uint8Array(y),()=>Ue(g))}function _t(g,y,S){return ut(g).then(E=>WebAssembly.instantiate(E,y)).then(S,E=>{O(`failed to asynchronously prepare wasm: ${E}`),ze(E)})}function Tt(g,y,S,E){return!g&&typeof WebAssembly.instantiateStreaming=="function"&&!De(y)&&typeof fetch=="function"?fetch(y,{credentials:"same-origin"}).then(C=>{var M=WebAssembly.instantiateStreaming(C,S);return M.then(E,function(fe){return O(`wasm streaming compile failed: ${fe}`),O("falling back to ArrayBuffer instantiation"),_t(y,S,E)})}):_t(y,S,E)}function Wt(){return{env:Of,wasi_snapshot_preview1:Of}}function Xt(){var g=Wt();function y(E,C){return he=E.exports,oe(he.__wasm_call_ctors),Ne(),he}we();function S(E){y(E.instance)}if(r.instantiateWasm)try{return r.instantiateWasm(g,y)}catch(E){O(`Module.instantiateWasm callback failed with error: ${E}`),s(E)}return Xe||(Xe=Ze()),Tt(T,Xe,g,S).catch(s),{}}var xe=g=>{for(;g.length>0;)g.shift()(r)};r.noExitRuntime;var ve={isAbs:g=>g.charAt(0)==="/",splitPath:g=>{var y=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return y.exec(g).slice(1)},normalizeArray:(g,y)=>{for(var S=0,E=g.length-1;E>=0;E--){var C=g[E];C==="."?g.splice(E,1):C===".."?(g.splice(E,1),S++):S&&(g.splice(E,1),S--)}if(y)for(;S;S--)g.unshift("..");return g},normalize:g=>{var y=ve.isAbs(g),S=g.substr(-1)==="/";return g=ve.normalizeArray(g.split("/").filter(E=>!!E),!y).join("/"),!g&&!y&&(g="."),g&&S&&(g+="/"),(y?"/":"")+g},dirname:g=>{var y=ve.splitPath(g),S=y[0],E=y[1];return!S&&!E?".":(E&&(E=E.substr(0,E.length-1)),S+E)},basename:g=>{if(g==="/")return"/";g=ve.normalize(g),g=g.replace(/\/$/,"");var y=g.lastIndexOf("/");return y===-1?g:g.substr(y+1)},join:(...g)=>ve.normalize(g.join("/")),join2:(g,y)=>ve.normalize(g+"/"+y)},ke=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return g=>crypto.getRandomValues(g);ze("initRandomDevice")},Ae=g=>(Ae=ke())(g),Ve={resolve:(...g)=>{for(var y="",S=!1,E=g.length-1;E>=-1&&!S;E--){var C=E>=0?g[E]:V.cwd();if(typeof C!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!C)return"";y=C+"/"+y,S=ve.isAbs(C)}return y=ve.normalizeArray(y.split("/").filter(M=>!!M),!S).join("/"),(S?"/":"")+y||"."},relative:(g,y)=>{g=Ve.resolve(g).substr(1),y=Ve.resolve(y).substr(1);function S(tt){for(var at=0;at<tt.length&&tt[at]==="";at++);for(var mt=tt.length-1;mt>=0&&tt[mt]==="";mt--);return at>mt?[]:tt.slice(at,mt-at+1)}for(var E=S(g.split("/")),C=S(y.split("/")),M=Math.min(E.length,C.length),fe=M,me=0;me<M;me++)if(E[me]!==C[me]){fe=me;break}for(var Qe=[],me=fe;me<E.length;me++)Qe.push("..");return Qe=Qe.concat(C.slice(fe)),Qe.join("/")}},rt=typeof TextDecoder<"u"?new TextDecoder:void 0,Me=(g,y,S)=>{for(var E=y+S,C=y;g[C]&&!(C>=E);)++C;if(C-y>16&&g.buffer&&rt)return rt.decode(g.subarray(y,C));for(var M="";y<C;){var fe=g[y++];if(!(fe&128)){M+=String.fromCharCode(fe);continue}var me=g[y++]&63;if((fe&224)==192){M+=String.fromCharCode((fe&31)<<6|me);continue}var Qe=g[y++]&63;if((fe&240)==224?fe=(fe&15)<<12|me<<6|Qe:fe=(fe&7)<<18|me<<12|Qe<<6|g[y++]&63,fe<65536)M+=String.fromCharCode(fe);else{var tt=fe-65536;M+=String.fromCharCode(55296|tt>>10,56320|tt&1023)}}return M},ct=[],Ht=g=>{for(var y=0,S=0;S<g.length;++S){var E=g.charCodeAt(S);E<=127?y++:E<=2047?y+=2:E>=55296&&E<=57343?(y+=4,++S):y+=3}return y},Qt=(g,y,S,E)=>{if(!(E>0))return 0;for(var C=S,M=S+E-1,fe=0;fe<g.length;++fe){var me=g.charCodeAt(fe);if(me>=55296&&me<=57343){var Qe=g.charCodeAt(++fe);me=65536+((me&1023)<<10)|Qe&1023}if(me<=127){if(S>=M)break;y[S++]=me}else if(me<=2047){if(S+1>=M)break;y[S++]=192|me>>6,y[S++]=128|me&63}else if(me<=65535){if(S+2>=M)break;y[S++]=224|me>>12,y[S++]=128|me>>6&63,y[S++]=128|me&63}else{if(S+3>=M)break;y[S++]=240|me>>18,y[S++]=128|me>>12&63,y[S++]=128|me>>6&63,y[S++]=128|me&63}}return y[S]=0,S-C};function fn(g,y,S){var E=Ht(g)+1,C=new Array(E),M=Qt(g,C,0,C.length);return C.length=M,C}var or=()=>{if(!ct.length){var g=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(g=window.prompt("Input: "),g!==null&&(g+=`
`)),!g)return null;ct=fn(g)}return ct.shift()},Pn={ttys:[],init(){},shutdown(){},register(g,y){Pn.ttys[g]={input:[],output:[],ops:y},V.registerDevice(g,Pn.stream_ops)},stream_ops:{open(g){var y=Pn.ttys[g.node.rdev];if(!y)throw new V.ErrnoError(43);g.tty=y,g.seekable=!1},close(g){g.tty.ops.fsync(g.tty)},fsync(g){g.tty.ops.fsync(g.tty)},read(g,y,S,E,C){if(!g.tty||!g.tty.ops.get_char)throw new V.ErrnoError(60);for(var M=0,fe=0;fe<E;fe++){var me;try{me=g.tty.ops.get_char(g.tty)}catch{throw new V.ErrnoError(29)}if(me===void 0&&M===0)throw new V.ErrnoError(6);if(me==null)break;M++,y[S+fe]=me}return M&&(g.node.timestamp=Date.now()),M},write(g,y,S,E,C){if(!g.tty||!g.tty.ops.put_char)throw new V.ErrnoError(60);try{for(var M=0;M<E;M++)g.tty.ops.put_char(g.tty,y[S+M])}catch{throw new V.ErrnoError(29)}return E&&(g.node.timestamp=Date.now()),M}},default_tty_ops:{get_char(g){return or()},put_char(g,y){y===null||y===10?(I(Me(g.output,0)),g.output=[]):y!=0&&g.output.push(y)},fsync(g){g.output&&g.output.length>0&&(I(Me(g.output,0)),g.output=[])},ioctl_tcgets(g){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(g,y,S){return 0},ioctl_tiocgwinsz(g){return[24,80]}},default_tty1_ops:{put_char(g,y){y===null||y===10?(O(Me(g.output,0)),g.output=[]):y!=0&&g.output.push(y)},fsync(g){g.output&&g.output.length>0&&(O(Me(g.output,0)),g.output=[])}}},Vr=(g,y)=>(L.fill(0,g,g+y),g),qi=(g,y)=>Math.ceil(g/y)*y,br=g=>{g=qi(g,65536);var y=qf(65536,g);return y?Vr(y,g):0},Kt={ops_table:null,mount(g){return Kt.createNode(null,"/",16895,0)},createNode(g,y,S,E){if(V.isBlkdev(S)||V.isFIFO(S))throw new V.ErrnoError(63);Kt.ops_table||={dir:{node:{getattr:Kt.node_ops.getattr,setattr:Kt.node_ops.setattr,lookup:Kt.node_ops.lookup,mknod:Kt.node_ops.mknod,rename:Kt.node_ops.rename,unlink:Kt.node_ops.unlink,rmdir:Kt.node_ops.rmdir,readdir:Kt.node_ops.readdir,symlink:Kt.node_ops.symlink},stream:{llseek:Kt.stream_ops.llseek}},file:{node:{getattr:Kt.node_ops.getattr,setattr:Kt.node_ops.setattr},stream:{llseek:Kt.stream_ops.llseek,read:Kt.stream_ops.read,write:Kt.stream_ops.write,allocate:Kt.stream_ops.allocate,mmap:Kt.stream_ops.mmap,msync:Kt.stream_ops.msync}},link:{node:{getattr:Kt.node_ops.getattr,setattr:Kt.node_ops.setattr,readlink:Kt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Kt.node_ops.getattr,setattr:Kt.node_ops.setattr},stream:V.chrdev_stream_ops}};var C=V.createNode(g,y,S,E);return V.isDir(C.mode)?(C.node_ops=Kt.ops_table.dir.node,C.stream_ops=Kt.ops_table.dir.stream,C.contents={}):V.isFile(C.mode)?(C.node_ops=Kt.ops_table.file.node,C.stream_ops=Kt.ops_table.file.stream,C.usedBytes=0,C.contents=null):V.isLink(C.mode)?(C.node_ops=Kt.ops_table.link.node,C.stream_ops=Kt.ops_table.link.stream):V.isChrdev(C.mode)&&(C.node_ops=Kt.ops_table.chrdev.node,C.stream_ops=Kt.ops_table.chrdev.stream),C.timestamp=Date.now(),g&&(g.contents[y]=C,g.timestamp=C.timestamp),C},getFileDataAsTypedArray(g){return g.contents?g.contents.subarray?g.contents.subarray(0,g.usedBytes):new Uint8Array(g.contents):new Uint8Array(0)},expandFileStorage(g,y){var S=g.contents?g.contents.length:0;if(!(S>=y)){var E=1024*1024;y=Math.max(y,S*(S<E?2:1.125)>>>0),S!=0&&(y=Math.max(y,256));var C=g.contents;g.contents=new Uint8Array(y),g.usedBytes>0&&g.contents.set(C.subarray(0,g.usedBytes),0)}},resizeFileStorage(g,y){if(g.usedBytes!=y)if(y==0)g.contents=null,g.usedBytes=0;else{var S=g.contents;g.contents=new Uint8Array(y),S&&g.contents.set(S.subarray(0,Math.min(y,g.usedBytes))),g.usedBytes=y}},node_ops:{getattr(g){var y={};return y.dev=V.isChrdev(g.mode)?g.id:1,y.ino=g.id,y.mode=g.mode,y.nlink=1,y.uid=0,y.gid=0,y.rdev=g.rdev,V.isDir(g.mode)?y.size=4096:V.isFile(g.mode)?y.size=g.usedBytes:V.isLink(g.mode)?y.size=g.link.length:y.size=0,y.atime=new Date(g.timestamp),y.mtime=new Date(g.timestamp),y.ctime=new Date(g.timestamp),y.blksize=4096,y.blocks=Math.ceil(y.size/y.blksize),y},setattr(g,y){y.mode!==void 0&&(g.mode=y.mode),y.timestamp!==void 0&&(g.timestamp=y.timestamp),y.size!==void 0&&Kt.resizeFileStorage(g,y.size)},lookup(g,y){throw V.genericErrors[44]},mknod(g,y,S,E){return Kt.createNode(g,y,S,E)},rename(g,y,S){if(V.isDir(g.mode)){var E;try{E=V.lookupNode(y,S)}catch{}if(E)for(var C in E.contents)throw new V.ErrnoError(55)}delete g.parent.contents[g.name],g.parent.timestamp=Date.now(),g.name=S,y.contents[S]=g,y.timestamp=g.parent.timestamp},unlink(g,y){delete g.contents[y],g.timestamp=Date.now()},rmdir(g,y){var S=V.lookupNode(g,y);for(var E in S.contents)throw new V.ErrnoError(55);delete g.contents[y],g.timestamp=Date.now()},readdir(g){var y=[".",".."];for(var S of Object.keys(g.contents))y.push(S);return y},symlink(g,y,S){var E=Kt.createNode(g,y,41471,0);return E.link=S,E},readlink(g){if(!V.isLink(g.mode))throw new V.ErrnoError(28);return g.link}},stream_ops:{read(g,y,S,E,C){var M=g.node.contents;if(C>=g.node.usedBytes)return 0;var fe=Math.min(g.node.usedBytes-C,E);if(fe>8&&M.subarray)y.set(M.subarray(C,C+fe),S);else for(var me=0;me<fe;me++)y[S+me]=M[C+me];return fe},write(g,y,S,E,C,M){if(y.buffer===D.buffer&&(M=!1),!E)return 0;var fe=g.node;if(fe.timestamp=Date.now(),y.subarray&&(!fe.contents||fe.contents.subarray)){if(M)return fe.contents=y.subarray(S,S+E),fe.usedBytes=E,E;if(fe.usedBytes===0&&C===0)return fe.contents=y.slice(S,S+E),fe.usedBytes=E,E;if(C+E<=fe.usedBytes)return fe.contents.set(y.subarray(S,S+E),C),E}if(Kt.expandFileStorage(fe,C+E),fe.contents.subarray&&y.subarray)fe.contents.set(y.subarray(S,S+E),C);else for(var me=0;me<E;me++)fe.contents[C+me]=y[S+me];return fe.usedBytes=Math.max(fe.usedBytes,C+E),E},llseek(g,y,S){var E=y;if(S===1?E+=g.position:S===2&&V.isFile(g.node.mode)&&(E+=g.node.usedBytes),E<0)throw new V.ErrnoError(28);return E},allocate(g,y,S){Kt.expandFileStorage(g.node,y+S),g.node.usedBytes=Math.max(g.node.usedBytes,y+S)},mmap(g,y,S,E,C){if(!V.isFile(g.node.mode))throw new V.ErrnoError(43);var M,fe,me=g.node.contents;if(!(C&2)&&me&&me.buffer===D.buffer)fe=!1,M=me.byteOffset;else{if(fe=!0,M=br(y),!M)throw new V.ErrnoError(48);me&&((S>0||S+y<me.length)&&(me.subarray?me=me.subarray(S,S+y):me=Array.prototype.slice.call(me,S,S+y)),D.set(me,M))}return{ptr:M,allocated:fe}},msync(g,y,S,E,C){return Kt.stream_ops.write(g,y,0,E,S,!1),0}}},Hi=(g,y,S,E)=>{var C=`al ${g}`;_(g).then(M=>{y(new Uint8Array(M)),C&&Ne()},M=>{if(S)S();else throw`Loading data file "${g}" failed.`}),C&&we()},Qi=(g,y,S,E,C,M)=>{V.createDataFile(g,y,S,E,C,M)},Ki=r.preloadPlugins||[],so=(g,y,S,E)=>{typeof Browser<"u"&&Browser.init();var C=!1;return Ki.forEach(M=>{C||M.canHandle(y)&&(M.handle(g,y,S,E),C=!0)}),C},sa=(g,y,S,E,C,M,fe,me,Qe,tt)=>{var at=y?Ve.resolve(ve.join2(g,y)):g;function mt(Be){function Re(et){tt?.(),me||Qi(g,y,et,E,C,Qe),M?.(),Ne()}so(Be,at,Re,()=>{fe?.(),Ne()})||Re(Be)}we(),typeof S=="string"?Hi(S,mt,fe):mt(S)},tu=g=>{var y={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},S=y[g];if(typeof S>"u")throw new Error(`Unknown file open mode: ${g}`);return S},Fs=(g,y)=>{var S=0;return g&&(S|=365),y&&(S|=146),S},V={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:class{constructor(g){this.name="ErrnoError",this.errno=g}},genericErrors:{},filesystems:null,syncFSRequests:0,FSStream:class{constructor(){this.shared={}}get object(){return this.node}set object(g){this.node=g}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(g){this.shared.flags=g}get position(){return this.shared.position}set position(g){this.shared.position=g}},FSNode:class{constructor(g,y,S,E){g||(g=this),this.parent=g,this.mount=g.mount,this.mounted=null,this.id=V.nextInode++,this.name=y,this.mode=S,this.node_ops={},this.stream_ops={},this.rdev=E,this.readMode=365,this.writeMode=146}get read(){return(this.mode&this.readMode)===this.readMode}set read(g){g?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(g){g?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return V.isDir(this.mode)}get isDevice(){return V.isChrdev(this.mode)}},lookupPath(g,y={}){if(g=Ve.resolve(g),!g)return{path:"",node:null};var S={follow_mount:!0,recurse_count:0};if(y=Object.assign(S,y),y.recurse_count>8)throw new V.ErrnoError(32);for(var E=g.split("/").filter(mt=>!!mt),C=V.root,M="/",fe=0;fe<E.length;fe++){var me=fe===E.length-1;if(me&&y.parent)break;if(C=V.lookupNode(C,E[fe]),M=ve.join2(M,E[fe]),V.isMountpoint(C)&&(!me||me&&y.follow_mount)&&(C=C.mounted.root),!me||y.follow)for(var Qe=0;V.isLink(C.mode);){var tt=V.readlink(M);M=Ve.resolve(ve.dirname(M),tt);var at=V.lookupPath(M,{recurse_count:y.recurse_count+1});if(C=at.node,Qe++>40)throw new V.ErrnoError(32)}}return{path:M,node:C}},getPath(g){for(var y;;){if(V.isRoot(g)){var S=g.mount.mountpoint;return y?S[S.length-1]!=="/"?`${S}/${y}`:S+y:S}y=y?`${g.name}/${y}`:g.name,g=g.parent}},hashName(g,y){for(var S=0,E=0;E<y.length;E++)S=(S<<5)-S+y.charCodeAt(E)|0;return(g+S>>>0)%V.nameTable.length},hashAddNode(g){var y=V.hashName(g.parent.id,g.name);g.name_next=V.nameTable[y],V.nameTable[y]=g},hashRemoveNode(g){var y=V.hashName(g.parent.id,g.name);if(V.nameTable[y]===g)V.nameTable[y]=g.name_next;else for(var S=V.nameTable[y];S;){if(S.name_next===g){S.name_next=g.name_next;break}S=S.name_next}},lookupNode(g,y){var S=V.mayLookup(g);if(S)throw new V.ErrnoError(S);for(var E=V.hashName(g.id,y),C=V.nameTable[E];C;C=C.name_next){var M=C.name;if(C.parent.id===g.id&&M===y)return C}return V.lookup(g,y)},createNode(g,y,S,E){var C=new V.FSNode(g,y,S,E);return V.hashAddNode(C),C},destroyNode(g){V.hashRemoveNode(g)},isRoot(g){return g===g.parent},isMountpoint(g){return!!g.mounted},isFile(g){return(g&61440)===32768},isDir(g){return(g&61440)===16384},isLink(g){return(g&61440)===40960},isChrdev(g){return(g&61440)===8192},isBlkdev(g){return(g&61440)===24576},isFIFO(g){return(g&61440)===4096},isSocket(g){return(g&49152)===49152},flagsToPermissionString(g){var y=["r","w","rw"][g&3];return g&512&&(y+="w"),y},nodePermissions(g,y){return V.ignorePermissions?0:y.includes("r")&&!(g.mode&292)||y.includes("w")&&!(g.mode&146)||y.includes("x")&&!(g.mode&73)?2:0},mayLookup(g){if(!V.isDir(g.mode))return 54;var y=V.nodePermissions(g,"x");return y||(g.node_ops.lookup?0:2)},mayCreate(g,y){try{var S=V.lookupNode(g,y);return 20}catch{}return V.nodePermissions(g,"wx")},mayDelete(g,y,S){var E;try{E=V.lookupNode(g,y)}catch(M){return M.errno}var C=V.nodePermissions(g,"wx");if(C)return C;if(S){if(!V.isDir(E.mode))return 54;if(V.isRoot(E)||V.getPath(E)===V.cwd())return 10}else if(V.isDir(E.mode))return 31;return 0},mayOpen(g,y){return g?V.isLink(g.mode)?32:V.isDir(g.mode)&&(V.flagsToPermissionString(y)!=="r"||y&512)?31:V.nodePermissions(g,V.flagsToPermissionString(y)):44},MAX_OPEN_FDS:4096,nextfd(){for(var g=0;g<=V.MAX_OPEN_FDS;g++)if(!V.streams[g])return g;throw new V.ErrnoError(33)},getStreamChecked(g){var y=V.getStream(g);if(!y)throw new V.ErrnoError(8);return y},getStream:g=>V.streams[g],createStream(g,y=-1){return g=Object.assign(new V.FSStream,g),y==-1&&(y=V.nextfd()),g.fd=y,V.streams[y]=g,g},closeStream(g){V.streams[g]=null},dupStream(g,y=-1){var S=V.createStream(g,y);return S.stream_ops?.dup?.(S),S},chrdev_stream_ops:{open(g){var y=V.getDevice(g.node.rdev);g.stream_ops=y.stream_ops,g.stream_ops.open?.(g)},llseek(){throw new V.ErrnoError(70)}},major:g=>g>>8,minor:g=>g&255,makedev:(g,y)=>g<<8|y,registerDevice(g,y){V.devices[g]={stream_ops:y}},getDevice:g=>V.devices[g],getMounts(g){for(var y=[],S=[g];S.length;){var E=S.pop();y.push(E),S.push(...E.mounts)}return y},syncfs(g,y){typeof g=="function"&&(y=g,g=!1),V.syncFSRequests++,V.syncFSRequests>1&&O(`warning: ${V.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var S=V.getMounts(V.root.mount),E=0;function C(fe){return V.syncFSRequests--,y(fe)}function M(fe){if(fe)return M.errored?void 0:(M.errored=!0,C(fe));++E>=S.length&&C(null)}S.forEach(fe=>{if(!fe.type.syncfs)return M(null);fe.type.syncfs(fe,g,M)})},mount(g,y,S){var E=S==="/",C=!S,M;if(E&&V.root)throw new V.ErrnoError(10);if(!E&&!C){var fe=V.lookupPath(S,{follow_mount:!1});if(S=fe.path,M=fe.node,V.isMountpoint(M))throw new V.ErrnoError(10);if(!V.isDir(M.mode))throw new V.ErrnoError(54)}var me={type:g,opts:y,mountpoint:S,mounts:[]},Qe=g.mount(me);return Qe.mount=me,me.root=Qe,E?V.root=Qe:M&&(M.mounted=me,M.mount&&M.mount.mounts.push(me)),Qe},unmount(g){var y=V.lookupPath(g,{follow_mount:!1});if(!V.isMountpoint(y.node))throw new V.ErrnoError(28);var S=y.node,E=S.mounted,C=V.getMounts(E);Object.keys(V.nameTable).forEach(fe=>{for(var me=V.nameTable[fe];me;){var Qe=me.name_next;C.includes(me.mount)&&V.destroyNode(me),me=Qe}}),S.mounted=null;var M=S.mount.mounts.indexOf(E);S.mount.mounts.splice(M,1)},lookup(g,y){return g.node_ops.lookup(g,y)},mknod(g,y,S){var E=V.lookupPath(g,{parent:!0}),C=E.node,M=ve.basename(g);if(!M||M==="."||M==="..")throw new V.ErrnoError(28);var fe=V.mayCreate(C,M);if(fe)throw new V.ErrnoError(fe);if(!C.node_ops.mknod)throw new V.ErrnoError(63);return C.node_ops.mknod(C,M,y,S)},create(g,y){return y=y!==void 0?y:438,y&=4095,y|=32768,V.mknod(g,y,0)},mkdir(g,y){return y=y!==void 0?y:511,y&=1023,y|=16384,V.mknod(g,y,0)},mkdirTree(g,y){for(var S=g.split("/"),E="",C=0;C<S.length;++C)if(S[C]){E+="/"+S[C];try{V.mkdir(E,y)}catch(M){if(M.errno!=20)throw M}}},mkdev(g,y,S){return typeof S>"u"&&(S=y,y=438),y|=8192,V.mknod(g,y,S)},symlink(g,y){if(!Ve.resolve(g))throw new V.ErrnoError(44);var S=V.lookupPath(y,{parent:!0}),E=S.node;if(!E)throw new V.ErrnoError(44);var C=ve.basename(y),M=V.mayCreate(E,C);if(M)throw new V.ErrnoError(M);if(!E.node_ops.symlink)throw new V.ErrnoError(63);return E.node_ops.symlink(E,C,g)},rename(g,y){var S=ve.dirname(g),E=ve.dirname(y),C=ve.basename(g),M=ve.basename(y),fe,me,Qe;if(fe=V.lookupPath(g,{parent:!0}),me=fe.node,fe=V.lookupPath(y,{parent:!0}),Qe=fe.node,!me||!Qe)throw new V.ErrnoError(44);if(me.mount!==Qe.mount)throw new V.ErrnoError(75);var tt=V.lookupNode(me,C),at=Ve.relative(g,E);if(at.charAt(0)!==".")throw new V.ErrnoError(28);if(at=Ve.relative(y,S),at.charAt(0)!==".")throw new V.ErrnoError(55);var mt;try{mt=V.lookupNode(Qe,M)}catch{}if(tt!==mt){var Be=V.isDir(tt.mode),Re=V.mayDelete(me,C,Be);if(Re)throw new V.ErrnoError(Re);if(Re=mt?V.mayDelete(Qe,M,Be):V.mayCreate(Qe,M),Re)throw new V.ErrnoError(Re);if(!me.node_ops.rename)throw new V.ErrnoError(63);if(V.isMountpoint(tt)||mt&&V.isMountpoint(mt))throw new V.ErrnoError(10);if(Qe!==me&&(Re=V.nodePermissions(me,"w"),Re))throw new V.ErrnoError(Re);V.hashRemoveNode(tt);try{me.node_ops.rename(tt,Qe,M),tt.parent=Qe}catch(et){throw et}finally{V.hashAddNode(tt)}}},rmdir(g){var y=V.lookupPath(g,{parent:!0}),S=y.node,E=ve.basename(g),C=V.lookupNode(S,E),M=V.mayDelete(S,E,!0);if(M)throw new V.ErrnoError(M);if(!S.node_ops.rmdir)throw new V.ErrnoError(63);if(V.isMountpoint(C))throw new V.ErrnoError(10);S.node_ops.rmdir(S,E),V.destroyNode(C)},readdir(g){var y=V.lookupPath(g,{follow:!0}),S=y.node;if(!S.node_ops.readdir)throw new V.ErrnoError(54);return S.node_ops.readdir(S)},unlink(g){var y=V.lookupPath(g,{parent:!0}),S=y.node;if(!S)throw new V.ErrnoError(44);var E=ve.basename(g),C=V.lookupNode(S,E),M=V.mayDelete(S,E,!1);if(M)throw new V.ErrnoError(M);if(!S.node_ops.unlink)throw new V.ErrnoError(63);if(V.isMountpoint(C))throw new V.ErrnoError(10);S.node_ops.unlink(S,E),V.destroyNode(C)},readlink(g){var y=V.lookupPath(g),S=y.node;if(!S)throw new V.ErrnoError(44);if(!S.node_ops.readlink)throw new V.ErrnoError(28);return Ve.resolve(V.getPath(S.parent),S.node_ops.readlink(S))},stat(g,y){var S=V.lookupPath(g,{follow:!y}),E=S.node;if(!E)throw new V.ErrnoError(44);if(!E.node_ops.getattr)throw new V.ErrnoError(63);return E.node_ops.getattr(E)},lstat(g){return V.stat(g,!0)},chmod(g,y,S){var E;if(typeof g=="string"){var C=V.lookupPath(g,{follow:!S});E=C.node}else E=g;if(!E.node_ops.setattr)throw new V.ErrnoError(63);E.node_ops.setattr(E,{mode:y&4095|E.mode&-4096,timestamp:Date.now()})},lchmod(g,y){V.chmod(g,y,!0)},fchmod(g,y){var S=V.getStreamChecked(g);V.chmod(S.node,y)},chown(g,y,S,E){var C;if(typeof g=="string"){var M=V.lookupPath(g,{follow:!E});C=M.node}else C=g;if(!C.node_ops.setattr)throw new V.ErrnoError(63);C.node_ops.setattr(C,{timestamp:Date.now()})},lchown(g,y,S){V.chown(g,y,S,!0)},fchown(g,y,S){var E=V.getStreamChecked(g);V.chown(E.node,y,S)},truncate(g,y){if(y<0)throw new V.ErrnoError(28);var S;if(typeof g=="string"){var E=V.lookupPath(g,{follow:!0});S=E.node}else S=g;if(!S.node_ops.setattr)throw new V.ErrnoError(63);if(V.isDir(S.mode))throw new V.ErrnoError(31);if(!V.isFile(S.mode))throw new V.ErrnoError(28);var C=V.nodePermissions(S,"w");if(C)throw new V.ErrnoError(C);S.node_ops.setattr(S,{size:y,timestamp:Date.now()})},ftruncate(g,y){var S=V.getStreamChecked(g);if(!(S.flags&2097155))throw new V.ErrnoError(28);V.truncate(S.node,y)},utime(g,y,S){var E=V.lookupPath(g,{follow:!0}),C=E.node;C.node_ops.setattr(C,{timestamp:Math.max(y,S)})},open(g,y,S){if(g==="")throw new V.ErrnoError(44);y=typeof y=="string"?tu(y):y,y&64?(S=typeof S>"u"?438:S,S=S&4095|32768):S=0;var E;if(typeof g=="object")E=g;else{g=ve.normalize(g);try{var C=V.lookupPath(g,{follow:!(y&131072)});E=C.node}catch{}}var M=!1;if(y&64)if(E){if(y&128)throw new V.ErrnoError(20)}else E=V.mknod(g,S,0),M=!0;if(!E)throw new V.ErrnoError(44);if(V.isChrdev(E.mode)&&(y&=-513),y&65536&&!V.isDir(E.mode))throw new V.ErrnoError(54);if(!M){var fe=V.mayOpen(E,y);if(fe)throw new V.ErrnoError(fe)}y&512&&!M&&V.truncate(E,0),y&=-131713;var me=V.createStream({node:E,path:V.getPath(E),flags:y,seekable:!0,position:0,stream_ops:E.stream_ops,ungotten:[],error:!1});return me.stream_ops.open&&me.stream_ops.open(me),r.logReadFiles&&!(y&1)&&(V.readFiles||(V.readFiles={}),g in V.readFiles||(V.readFiles[g]=1)),me},close(g){if(V.isClosed(g))throw new V.ErrnoError(8);g.getdents&&(g.getdents=null);try{g.stream_ops.close&&g.stream_ops.close(g)}catch(y){throw y}finally{V.closeStream(g.fd)}g.fd=null},isClosed(g){return g.fd===null},llseek(g,y,S){if(V.isClosed(g))throw new V.ErrnoError(8);if(!g.seekable||!g.stream_ops.llseek)throw new V.ErrnoError(70);if(S!=0&&S!=1&&S!=2)throw new V.ErrnoError(28);return g.position=g.stream_ops.llseek(g,y,S),g.ungotten=[],g.position},read(g,y,S,E,C){if(E<0||C<0)throw new V.ErrnoError(28);if(V.isClosed(g))throw new V.ErrnoError(8);if((g.flags&2097155)===1)throw new V.ErrnoError(8);if(V.isDir(g.node.mode))throw new V.ErrnoError(31);if(!g.stream_ops.read)throw new V.ErrnoError(28);var M=typeof C<"u";if(!M)C=g.position;else if(!g.seekable)throw new V.ErrnoError(70);var fe=g.stream_ops.read(g,y,S,E,C);return M||(g.position+=fe),fe},write(g,y,S,E,C,M){if(E<0||C<0)throw new V.ErrnoError(28);if(V.isClosed(g))throw new V.ErrnoError(8);if(!(g.flags&2097155))throw new V.ErrnoError(8);if(V.isDir(g.node.mode))throw new V.ErrnoError(31);if(!g.stream_ops.write)throw new V.ErrnoError(28);g.seekable&&g.flags&1024&&V.llseek(g,0,2);var fe=typeof C<"u";if(!fe)C=g.position;else if(!g.seekable)throw new V.ErrnoError(70);var me=g.stream_ops.write(g,y,S,E,C,M);return fe||(g.position+=me),me},allocate(g,y,S){if(V.isClosed(g))throw new V.ErrnoError(8);if(y<0||S<=0)throw new V.ErrnoError(28);if(!(g.flags&2097155))throw new V.ErrnoError(8);if(!V.isFile(g.node.mode)&&!V.isDir(g.node.mode))throw new V.ErrnoError(43);if(!g.stream_ops.allocate)throw new V.ErrnoError(138);g.stream_ops.allocate(g,y,S)},mmap(g,y,S,E,C){if(E&2&&!(C&2)&&(g.flags&2097155)!==2)throw new V.ErrnoError(2);if((g.flags&2097155)===1)throw new V.ErrnoError(2);if(!g.stream_ops.mmap)throw new V.ErrnoError(43);if(!y)throw new V.ErrnoError(28);return g.stream_ops.mmap(g,y,S,E,C)},msync(g,y,S,E,C){return g.stream_ops.msync?g.stream_ops.msync(g,y,S,E,C):0},ioctl(g,y,S){if(!g.stream_ops.ioctl)throw new V.ErrnoError(59);return g.stream_ops.ioctl(g,y,S)},readFile(g,y={}){if(y.flags=y.flags||0,y.encoding=y.encoding||"binary",y.encoding!=="utf8"&&y.encoding!=="binary")throw new Error(`Invalid encoding type "${y.encoding}"`);var S,E=V.open(g,y.flags),C=V.stat(g),M=C.size,fe=new Uint8Array(M);return V.read(E,fe,0,M,0),y.encoding==="utf8"?S=Me(fe,0):y.encoding==="binary"&&(S=fe),V.close(E),S},writeFile(g,y,S={}){S.flags=S.flags||577;var E=V.open(g,S.flags,S.mode);if(typeof y=="string"){var C=new Uint8Array(Ht(y)+1),M=Qt(y,C,0,C.length);V.write(E,C,0,M,void 0,S.canOwn)}else if(ArrayBuffer.isView(y))V.write(E,y,0,y.byteLength,void 0,S.canOwn);else throw new Error("Unsupported data type");V.close(E)},cwd:()=>V.currentPath,chdir(g){var y=V.lookupPath(g,{follow:!0});if(y.node===null)throw new V.ErrnoError(44);if(!V.isDir(y.node.mode))throw new V.ErrnoError(54);var S=V.nodePermissions(y.node,"x");if(S)throw new V.ErrnoError(S);V.currentPath=y.path},createDefaultDirectories(){V.mkdir("/tmp"),V.mkdir("/home"),V.mkdir("/home/web_user")},createDefaultDevices(){V.mkdir("/dev"),V.registerDevice(V.makedev(1,3),{read:()=>0,write:(E,C,M,fe,me)=>fe}),V.mkdev("/dev/null",V.makedev(1,3)),Pn.register(V.makedev(5,0),Pn.default_tty_ops),Pn.register(V.makedev(6,0),Pn.default_tty1_ops),V.mkdev("/dev/tty",V.makedev(5,0)),V.mkdev("/dev/tty1",V.makedev(6,0));var g=new Uint8Array(1024),y=0,S=()=>(y===0&&(y=Ae(g).byteLength),g[--y]);V.createDevice("/dev","random",S),V.createDevice("/dev","urandom",S),V.mkdir("/dev/shm"),V.mkdir("/dev/shm/tmp")},createSpecialDirectories(){V.mkdir("/proc");var g=V.mkdir("/proc/self");V.mkdir("/proc/self/fd"),V.mount({mount(){var y=V.createNode(g,"fd",16895,73);return y.node_ops={lookup(S,E){var C=+E,M=V.getStreamChecked(C),fe={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>M.path}};return fe.parent=fe,fe}},y}},{},"/proc/self/fd")},createStandardStreams(g,y,S){g?V.createDevice("/dev","stdin",g):V.symlink("/dev/tty","/dev/stdin"),y?V.createDevice("/dev","stdout",null,y):V.symlink("/dev/tty","/dev/stdout"),S?V.createDevice("/dev","stderr",null,S):V.symlink("/dev/tty1","/dev/stderr"),V.open("/dev/stdin",0),V.open("/dev/stdout",1),V.open("/dev/stderr",1)},staticInit(){[44].forEach(g=>{V.genericErrors[g]=new V.ErrnoError(g),V.genericErrors[g].stack="<generic error, no stack>"}),V.nameTable=new Array(4096),V.mount(Kt,{},"/"),V.createDefaultDirectories(),V.createDefaultDevices(),V.createSpecialDirectories(),V.filesystems={MEMFS:Kt}},init(g,y,S){V.initialized=!0,g??=r.stdin,y??=r.stdout,S??=r.stderr,V.createStandardStreams(g,y,S)},quit(){V.initialized=!1;for(var g=0;g<V.streams.length;g++){var y=V.streams[g];y&&V.close(y)}},findObject(g,y){var S=V.analyzePath(g,y);return S.exists?S.object:null},analyzePath(g,y){try{var S=V.lookupPath(g,{follow:!y});g=S.path}catch{}var E={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var S=V.lookupPath(g,{parent:!0});E.parentExists=!0,E.parentPath=S.path,E.parentObject=S.node,E.name=ve.basename(g),S=V.lookupPath(g,{follow:!y}),E.exists=!0,E.path=S.path,E.object=S.node,E.name=S.node.name,E.isRoot=S.path==="/"}catch(C){E.error=C.errno}return E},createPath(g,y,S,E){g=typeof g=="string"?g:V.getPath(g);for(var C=y.split("/").reverse();C.length;){var M=C.pop();if(M){var fe=ve.join2(g,M);try{V.mkdir(fe)}catch{}g=fe}}return fe},createFile(g,y,S,E,C){var M=ve.join2(typeof g=="string"?g:V.getPath(g),y),fe=Fs(E,C);return V.create(M,fe)},createDataFile(g,y,S,E,C,M){var fe=y;g&&(g=typeof g=="string"?g:V.getPath(g),fe=y?ve.join2(g,y):g);var me=Fs(E,C),Qe=V.create(fe,me);if(S){if(typeof S=="string"){for(var tt=new Array(S.length),at=0,mt=S.length;at<mt;++at)tt[at]=S.charCodeAt(at);S=tt}V.chmod(Qe,me|146);var Be=V.open(Qe,577);V.write(Be,S,0,S.length,0,M),V.close(Be),V.chmod(Qe,me)}},createDevice(g,y,S,E){var C=ve.join2(typeof g=="string"?g:V.getPath(g),y),M=Fs(!!S,!!E);V.createDevice.major||(V.createDevice.major=64);var fe=V.makedev(V.createDevice.major++,0);return V.registerDevice(fe,{open(me){me.seekable=!1},close(me){E?.buffer?.length&&E(10)},read(me,Qe,tt,at,mt){for(var Be=0,Re=0;Re<at;Re++){var et;try{et=S()}catch{throw new V.ErrnoError(29)}if(et===void 0&&Be===0)throw new V.ErrnoError(6);if(et==null)break;Be++,Qe[tt+Re]=et}return Be&&(me.node.timestamp=Date.now()),Be},write(me,Qe,tt,at,mt){for(var Be=0;Be<at;Be++)try{E(Qe[tt+Be])}catch{throw new V.ErrnoError(29)}return at&&(me.node.timestamp=Date.now()),Be}}),V.mkdev(C,M,fe)},forceLoadFile(g){if(g.isDevice||g.isFolder||g.link||g.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{g.contents=N(g.url),g.usedBytes=g.contents.length}catch{throw new V.ErrnoError(29)}},createLazyFile(g,y,S,E,C){class M{constructor(){this.lengthKnown=!1,this.chunks=[]}get(Re){if(!(Re>this.length-1||Re<0)){var et=Re%this.chunkSize,be=Re/this.chunkSize|0;return this.getter(be)[et]}}setDataGetter(Re){this.getter=Re}cacheLength(){var Re=new XMLHttpRequest;if(Re.open("HEAD",S,!1),Re.send(null),!(Re.status>=200&&Re.status<300||Re.status===304))throw new Error("Couldn't load "+S+". Status: "+Re.status);var et=Number(Re.getResponseHeader("Content-length")),be,Ie=(be=Re.getResponseHeader("Accept-Ranges"))&&be==="bytes",Te=(be=Re.getResponseHeader("Content-Encoding"))&&be==="gzip",Je=1024*1024;Ie||(Je=et);var Ge=(Ke,St)=>{if(Ke>St)throw new Error("invalid range ("+Ke+", "+St+") or no bytes requested!");if(St>et-1)throw new Error("only "+et+" bytes available! programmer error!");var Y=new XMLHttpRequest;if(Y.open("GET",S,!1),et!==Je&&Y.setRequestHeader("Range","bytes="+Ke+"-"+St),Y.responseType="arraybuffer",Y.overrideMimeType&&Y.overrideMimeType("text/plain; charset=x-user-defined"),Y.send(null),!(Y.status>=200&&Y.status<300||Y.status===304))throw new Error("Couldn't load "+S+". Status: "+Y.status);return Y.response!==void 0?new Uint8Array(Y.response||[]):fn(Y.responseText||"")},Oe=this;Oe.setDataGetter(Ke=>{var St=Ke*Je,Y=(Ke+1)*Je-1;if(Y=Math.min(Y,et-1),typeof Oe.chunks[Ke]>"u"&&(Oe.chunks[Ke]=Ge(St,Y)),typeof Oe.chunks[Ke]>"u")throw new Error("doXHR failed!");return Oe.chunks[Ke]}),(Te||!et)&&(Je=et=1,et=this.getter(0).length,Je=et,I("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=et,this._chunkSize=Je,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){if(!c)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var fe=new M,me={isDevice:!1,contents:fe}}else var me={isDevice:!1,url:S};var Qe=V.createFile(g,y,me,E,C);me.contents?Qe.contents=me.contents:me.url&&(Qe.contents=null,Qe.url=me.url),Object.defineProperties(Qe,{usedBytes:{get:function(){return this.contents.length}}});var tt={},at=Object.keys(Qe.stream_ops);at.forEach(Be=>{var Re=Qe.stream_ops[Be];tt[Be]=(...et)=>(V.forceLoadFile(Qe),Re(...et))});function mt(Be,Re,et,be,Ie){var Te=Be.node.contents;if(Ie>=Te.length)return 0;var Je=Math.min(Te.length-Ie,be);if(Te.slice)for(var Ge=0;Ge<Je;Ge++)Re[et+Ge]=Te[Ie+Ge];else for(var Ge=0;Ge<Je;Ge++)Re[et+Ge]=Te.get(Ie+Ge);return Je}return tt.read=(Be,Re,et,be,Ie)=>(V.forceLoadFile(Qe),mt(Be,Re,et,be,Ie)),tt.mmap=(Be,Re,et,be,Ie)=>{V.forceLoadFile(Qe);var Te=br(Re);if(!Te)throw new V.ErrnoError(48);return mt(Be,D,Te,Re,et),{ptr:Te,allocated:!0}},Qe.stream_ops=tt,Qe}},dc=(g,y)=>g?Me(L,g,y):"",an={DEFAULT_POLLMASK:5,calculateAt(g,y,S){if(ve.isAbs(y))return y;var E;if(g===-100)E=V.cwd();else{var C=an.getStreamFromFD(g);E=C.path}if(y.length==0){if(!S)throw new V.ErrnoError(44);return E}return ve.join2(E,y)},doStat(g,y,S){var E=g(y);P[S>>2]=E.dev,P[S+4>>2]=E.mode,R[S+8>>2]=E.nlink,P[S+12>>2]=E.uid,P[S+16>>2]=E.gid,P[S+20>>2]=E.rdev,B[S+24>>3]=BigInt(E.size),P[S+32>>2]=4096,P[S+36>>2]=E.blocks;var C=E.atime.getTime(),M=E.mtime.getTime(),fe=E.ctime.getTime();return B[S+40>>3]=BigInt(Math.floor(C/1e3)),R[S+48>>2]=C%1e3*1e3*1e3,B[S+56>>3]=BigInt(Math.floor(M/1e3)),R[S+64>>2]=M%1e3*1e3*1e3,B[S+72>>3]=BigInt(Math.floor(fe/1e3)),R[S+80>>2]=fe%1e3*1e3*1e3,B[S+88>>3]=BigInt(E.ino),0},doMsync(g,y,S,E,C){if(!V.isFile(y.node.mode))throw new V.ErrnoError(43);if(E&2)return 0;var M=L.slice(g,g+S);V.msync(y,M,C,S,E)},getStreamFromFD(g){var y=V.getStreamChecked(g);return y},varargs:void 0,getStr(g){var y=dc(g);return y}};function fc(g,y){try{return g=an.getStr(g),V.chmod(g,y),0}catch(S){if(typeof V>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}function pc(g,y,S,E){try{if(y=an.getStr(y),y=an.calculateAt(g,y),S&-8)return-28;var C=V.lookupPath(y,{follow:!0}),M=C.node;if(!M)return-44;var fe="";return S&4&&(fe+="r"),S&2&&(fe+="w"),S&1&&(fe+="x"),fe&&V.nodePermissions(M,fe)?-2:0}catch(me){if(typeof V>"u"||me.name!=="ErrnoError")throw me;return-me.errno}}function hc(g,y){try{return V.fchmod(g,y),0}catch(S){if(typeof V>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}function nu(g,y,S){try{return V.fchown(g,y,S),0}catch(E){if(typeof V>"u"||E.name!=="ErrnoError")throw E;return-E.errno}}function oa(){var g=P[+an.varargs>>2];return an.varargs+=4,g}var Gi=oa;function ru(g,y,S){an.varargs=S;try{var E=an.getStreamFromFD(g);switch(y){case 0:{var C=oa();if(C<0)return-28;for(;V.streams[C];)C++;var M;return M=V.dupStream(E,C),M.fd}case 1:case 2:return 0;case 3:return E.flags;case 4:{var C=oa();return E.flags|=C,0}case 12:{var C=Gi(),fe=0;return z[C+fe>>1]=2,0}case 13:case 14:return 0}return-28}catch(me){if(typeof V>"u"||me.name!=="ErrnoError")throw me;return-me.errno}}function aa(g,y){try{var S=an.getStreamFromFD(g);return an.doStat(V.stat,S.path,y)}catch(E){if(typeof V>"u"||E.name!=="ErrnoError")throw E;return-E.errno}}var gf=0x20000000000000,la=-0x20000000000000,Ds=g=>g<la||g>gf?NaN:Number(g);function Va(g,y){y=Ds(y);try{return isNaN(y)?61:(V.ftruncate(g,y),0)}catch(S){if(typeof V>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}var Ls=(g,y,S)=>Qt(g,L,y,S);function yf(g,y){try{if(y===0)return-28;var S=V.cwd(),E=Ht(S)+1;return y<E?-68:(Ls(S,g,y),E)}catch(C){if(typeof V>"u"||C.name!=="ErrnoError")throw C;return-C.errno}}function vf(g,y,S){an.varargs=S;try{var E=an.getStreamFromFD(g);switch(y){case 21509:return E.tty?0:-59;case 21505:{if(!E.tty)return-59;if(E.tty.ops.ioctl_tcgets){var C=E.tty.ops.ioctl_tcgets(E),M=Gi();P[M>>2]=C.c_iflag||0,P[M+4>>2]=C.c_oflag||0,P[M+8>>2]=C.c_cflag||0,P[M+12>>2]=C.c_lflag||0;for(var fe=0;fe<32;fe++)D[M+fe+17]=C.c_cc[fe]||0;return 0}return 0}case 21510:case 21511:case 21512:return E.tty?0:-59;case 21506:case 21507:case 21508:{if(!E.tty)return-59;if(E.tty.ops.ioctl_tcsets){for(var M=Gi(),me=P[M>>2],Qe=P[M+4>>2],tt=P[M+8>>2],at=P[M+12>>2],mt=[],fe=0;fe<32;fe++)mt.push(D[M+fe+17]);return E.tty.ops.ioctl_tcsets(E.tty,y,{c_iflag:me,c_oflag:Qe,c_cflag:tt,c_lflag:at,c_cc:mt})}return 0}case 21519:{if(!E.tty)return-59;var M=Gi();return P[M>>2]=0,0}case 21520:return E.tty?-28:-59;case 21531:{var M=Gi();return V.ioctl(E,y,M)}case 21523:{if(!E.tty)return-59;if(E.tty.ops.ioctl_tiocgwinsz){var Be=E.tty.ops.ioctl_tiocgwinsz(E.tty),M=Gi();z[M>>1]=Be[0],z[M+2>>1]=Be[1]}return 0}case 21524:return E.tty?0:-59;case 21515:return E.tty?0:-59;default:return-28}}catch(Re){if(typeof V>"u"||Re.name!=="ErrnoError")throw Re;return-Re.errno}}function mc(g,y){try{return g=an.getStr(g),an.doStat(V.lstat,g,y)}catch(S){if(typeof V>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}function Ms(g,y,S){try{return y=an.getStr(y),y=an.calculateAt(g,y),y=ve.normalize(y),y[y.length-1]==="/"&&(y=y.substr(0,y.length-1)),V.mkdir(y,S,0),0}catch(E){if(typeof V>"u"||E.name!=="ErrnoError")throw E;return-E.errno}}function gc(g,y,S,E){try{y=an.getStr(y);var C=E&256,M=E&4096;return E=E&-6401,y=an.calculateAt(g,y,M),an.doStat(C?V.lstat:V.stat,y,S)}catch(fe){if(typeof V>"u"||fe.name!=="ErrnoError")throw fe;return-fe.errno}}function yc(g,y,S,E){an.varargs=E;try{y=an.getStr(y),y=an.calculateAt(g,y);var C=E?oa():0;return V.open(y,S,C).fd}catch(M){if(typeof V>"u"||M.name!=="ErrnoError")throw M;return-M.errno}}function bf(g,y,S,E){try{if(y=an.getStr(y),y=an.calculateAt(g,y),E<=0)return-28;var C=V.readlink(y),M=Math.min(E,Ht(C)),fe=D[S+M];return Ls(C,S,E+1),D[S+M]=fe,M}catch(me){if(typeof V>"u"||me.name!=="ErrnoError")throw me;return-me.errno}}function vc(g){try{return g=an.getStr(g),V.rmdir(g),0}catch(y){if(typeof V>"u"||y.name!=="ErrnoError")throw y;return-y.errno}}function bc(g,y){try{return g=an.getStr(g),an.doStat(V.stat,g,y)}catch(S){if(typeof V>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}function xc(g,y,S){try{return y=an.getStr(y),y=an.calculateAt(g,y),S===0?V.unlink(y):S===512?V.rmdir(y):ze("Invalid flags passed to unlinkat"),0}catch(E){if(typeof V>"u"||E.name!=="ErrnoError")throw E;return-E.errno}}var iu=g=>R[g>>2]+P[g+4>>2]*0x100000000;function wc(g,y,S,E){try{y=an.getStr(y),y=an.calculateAt(g,y,!0);var C=Date.now(),M,fe;if(!S)M=C,fe=C;else{var me=iu(S),Qe=P[S+8>>2];Qe==0x3fffffff?M=C:Qe==0x3ffffffe?M=-1:M=me*1e3+Qe/(1e3*1e3),S+=16,me=iu(S),Qe=P[S+8>>2],Qe==0x3fffffff?fe=C:Qe==0x3ffffffe?fe=-1:fe=me*1e3+Qe/(1e3*1e3)}return(fe!=-1||M!=-1)&&V.utime(y,M,fe),0}catch(tt){if(typeof V>"u"||tt.name!=="ErrnoError")throw tt;return-tt.errno}}var xf=1,ar=()=>xf,wf=g=>g%4===0&&(g%100!==0||g%400===0),su=[0,31,60,91,121,152,182,213,244,274,305,335],_c=[0,31,59,90,120,151,181,212,243,273,304,334],Ha=g=>{var y=wf(g.getFullYear()),S=y?su:_c,E=S[g.getMonth()]+g.getDate()-1;return E};function _f(g,y){g=Ds(g);var S=new Date(g*1e3);P[y>>2]=S.getSeconds(),P[y+4>>2]=S.getMinutes(),P[y+8>>2]=S.getHours(),P[y+12>>2]=S.getDate(),P[y+16>>2]=S.getMonth(),P[y+20>>2]=S.getFullYear()-1900,P[y+24>>2]=S.getDay();var E=Ha(S)|0;P[y+28>>2]=E,P[y+36>>2]=-(S.getTimezoneOffset()*60);var C=new Date(S.getFullYear(),0,1),M=new Date(S.getFullYear(),6,1).getTimezoneOffset(),fe=C.getTimezoneOffset(),me=(M!=fe&&S.getTimezoneOffset()==Math.min(fe,M))|0;P[y+32>>2]=me}function ou(g,y,S,E,C,M,fe){C=Ds(C);try{if(isNaN(C))return 61;var me=an.getStreamFromFD(E),Qe=V.mmap(me,g,C,y,S),tt=Qe.ptr;return P[M>>2]=Qe.allocated,R[fe>>2]=tt,0}catch(at){if(typeof V>"u"||at.name!=="ErrnoError")throw at;return-at.errno}}function Qa(g,y,S,E,C,M){M=Ds(M);try{var fe=an.getStreamFromFD(C);S&2&&an.doMsync(g,fe,y,E,M)}catch(me){if(typeof V>"u"||me.name!=="ErrnoError")throw me;return-me.errno}}var Zi=(g,y,S,E)=>{var C=new Date().getFullYear(),M=new Date(C,0,1),fe=new Date(C,6,1),me=M.getTimezoneOffset(),Qe=fe.getTimezoneOffset(),tt=Math.max(me,Qe);R[g>>2]=tt*60,P[y>>2]=+(me!=Qe);var at=Re=>{var et=Re>=0?"-":"+",be=Math.abs(Re),Ie=String(Math.floor(be/60)).padStart(2,"0"),Te=String(be%60).padStart(2,"0");return`UTC${et}${Ie}${Te}`},mt=at(me),Be=at(Qe);Qe<me?(Ls(mt,S,17),Ls(Be,E,17)):(Ls(mt,E,17),Ls(Be,S,17))},Sf=()=>Date.now(),gi;gi=()=>performance.now();var Ef=()=>0x80000000,Nf=g=>{var y=q.buffer,S=(g-y.byteLength+65535)/65536;try{return q.grow(S),F(),1}catch{}},kf=g=>{var y=L.length;g>>>=0;var S=Ef();if(g>S)return!1;for(var E=1;E<=4;E*=2){var C=y*(1+.2/E);C=Math.min(C,g+0x6000000);var M=Math.min(S,qi(Math.max(g,C),65536)),fe=Nf(M);if(fe)return!0}return!1},Ao={},Ka=()=>h||"./this.program",Ri=()=>{if(!Ri.strings){var g=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",y={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:g,_:Ka()};for(var S in Ao)Ao[S]===void 0?delete y[S]:y[S]=Ao[S];var E=[];for(var S in y)E.push(`${S}=${y[S]}`);Ri.strings=E}return Ri.strings},Ga=(g,y)=>{for(var S=0;S<g.length;++S)D[y++]=g.charCodeAt(S);D[y]=0},tx=(g,y)=>{var S=0;return Ri().forEach((E,C)=>{var M=y+S;R[g+C*4>>2]=M,Ga(E,M),S+=E.length+1}),0},nx=(g,y)=>{var S=Ri();R[g>>2]=S.length;var E=0;return S.forEach(C=>E+=C.length+1),R[y>>2]=E,0};function If(g){try{var y=an.getStreamFromFD(g);return V.close(y),0}catch(S){if(typeof V>"u"||S.name!=="ErrnoError")throw S;return S.errno}}function Sm(g,y){try{var S=0,E=0,C=0,M=an.getStreamFromFD(g),fe=M.tty?2:V.isDir(M.mode)?3:V.isLink(M.mode)?7:4;return D[y]=fe,z[y+2>>1]=C,B[y+8>>3]=BigInt(S),B[y+16>>3]=BigInt(E),0}catch(me){if(typeof V>"u"||me.name!=="ErrnoError")throw me;return me.errno}}var Cf=(g,y,S,E)=>{for(var C=0,M=0;M<S;M++){var fe=R[y>>2],me=R[y+4>>2];y+=8;var Qe=V.read(g,D,fe,me,E);if(Qe<0)return-1;if(C+=Qe,Qe<me)break}return C};function au(g,y,S,E){try{var C=an.getStreamFromFD(g),M=Cf(C,y,S);return R[E>>2]=M,0}catch(fe){if(typeof V>"u"||fe.name!=="ErrnoError")throw fe;return fe.errno}}function rx(g,y,S,E){y=Ds(y);try{if(isNaN(y))return 61;var C=an.getStreamFromFD(g);return V.llseek(C,y,S),B[E>>3]=BigInt(C.position),C.getdents&&y===0&&S===0&&(C.getdents=null),0}catch(M){if(typeof V>"u"||M.name!=="ErrnoError")throw M;return M.errno}}function Tf(g){try{var y=an.getStreamFromFD(g);return y.stream_ops?.fsync?y.stream_ops.fsync(y):0}catch(S){if(typeof V>"u"||S.name!=="ErrnoError")throw S;return S.errno}}var Fn=(g,y,S,E)=>{for(var C=0,M=0;M<S;M++){var fe=R[y>>2],me=R[y+4>>2];y+=8;var Qe=V.write(g,D,fe,me,E);if(Qe<0)return-1;if(C+=Qe,Qe<me)break}return C};function Em(g,y,S,E){try{var C=an.getStreamFromFD(g),M=Fn(C,y,S);return R[E>>2]=M,0}catch(fe){if(typeof V>"u"||fe.name!=="ErrnoError")throw fe;return fe.errno}}V.createPreloadedFile=sa,V.staticInit();var Of={__syscall_chmod:fc,__syscall_faccessat:pc,__syscall_fchmod:hc,__syscall_fchown32:nu,__syscall_fcntl64:ru,__syscall_fstat64:aa,__syscall_ftruncate64:Va,__syscall_getcwd:yf,__syscall_ioctl:vf,__syscall_lstat64:mc,__syscall_mkdirat:Ms,__syscall_newfstatat:gc,__syscall_openat:yc,__syscall_readlinkat:bf,__syscall_rmdir:vc,__syscall_stat64:bc,__syscall_unlinkat:xc,__syscall_utimensat:wc,_emscripten_get_now_is_monotonic:ar,_localtime_js:_f,_mmap_js:ou,_munmap_js:Qa,_tzset_js:Zi,emscripten_date_now:Sf,emscripten_get_now:gi,emscripten_resize_heap:kf,environ_get:tx,environ_sizes_get:nx,fd_close:If,fd_fdstat_get:Sm,fd_read:au,fd_seek:rx,fd_sync:Tf,fd_write:Em,memory:q},he=Xt();r._sqlite3_status64=(g,y,S,E)=>(r._sqlite3_status64=he.sqlite3_status64)(g,y,S,E),r._sqlite3_status=(g,y,S,E)=>(r._sqlite3_status=he.sqlite3_status)(g,y,S,E),r._sqlite3_db_status=(g,y,S,E,C)=>(r._sqlite3_db_status=he.sqlite3_db_status)(g,y,S,E,C),r._sqlite3_msize=g=>(r._sqlite3_msize=he.sqlite3_msize)(g),r._sqlite3_vfs_find=g=>(r._sqlite3_vfs_find=he.sqlite3_vfs_find)(g),r._sqlite3_initialize=()=>(r._sqlite3_initialize=he.sqlite3_initialize)(),r._sqlite3_malloc=g=>(r._sqlite3_malloc=he.sqlite3_malloc)(g),r._sqlite3_free=g=>(r._sqlite3_free=he.sqlite3_free)(g),r._sqlite3_vfs_register=(g,y)=>(r._sqlite3_vfs_register=he.sqlite3_vfs_register)(g,y),r._sqlite3_vfs_unregister=g=>(r._sqlite3_vfs_unregister=he.sqlite3_vfs_unregister)(g),r._sqlite3_malloc64=g=>(r._sqlite3_malloc64=he.sqlite3_malloc64)(g),r._sqlite3_realloc=(g,y)=>(r._sqlite3_realloc=he.sqlite3_realloc)(g,y),r._sqlite3_realloc64=(g,y)=>(r._sqlite3_realloc64=he.sqlite3_realloc64)(g,y),r._sqlite3_value_text=g=>(r._sqlite3_value_text=he.sqlite3_value_text)(g),r._sqlite3_randomness=(g,y)=>(r._sqlite3_randomness=he.sqlite3_randomness)(g,y),r._sqlite3_stricmp=(g,y)=>(r._sqlite3_stricmp=he.sqlite3_stricmp)(g,y),r._sqlite3_strnicmp=(g,y,S)=>(r._sqlite3_strnicmp=he.sqlite3_strnicmp)(g,y,S),r._sqlite3_uri_parameter=(g,y)=>(r._sqlite3_uri_parameter=he.sqlite3_uri_parameter)(g,y),r._sqlite3_uri_boolean=(g,y,S)=>(r._sqlite3_uri_boolean=he.sqlite3_uri_boolean)(g,y,S),r._sqlite3_serialize=(g,y,S,E)=>(r._sqlite3_serialize=he.sqlite3_serialize)(g,y,S,E),r._sqlite3_prepare_v2=(g,y,S,E,C)=>(r._sqlite3_prepare_v2=he.sqlite3_prepare_v2)(g,y,S,E,C),r._sqlite3_step=g=>(r._sqlite3_step=he.sqlite3_step)(g),r._sqlite3_column_int64=(g,y)=>(r._sqlite3_column_int64=he.sqlite3_column_int64)(g,y),r._sqlite3_reset=g=>(r._sqlite3_reset=he.sqlite3_reset)(g),r._sqlite3_exec=(g,y,S,E,C)=>(r._sqlite3_exec=he.sqlite3_exec)(g,y,S,E,C),r._sqlite3_column_int=(g,y)=>(r._sqlite3_column_int=he.sqlite3_column_int)(g,y),r._sqlite3_finalize=g=>(r._sqlite3_finalize=he.sqlite3_finalize)(g),r._sqlite3_file_control=(g,y,S,E)=>(r._sqlite3_file_control=he.sqlite3_file_control)(g,y,S,E),r._sqlite3_column_name=(g,y)=>(r._sqlite3_column_name=he.sqlite3_column_name)(g,y),r._sqlite3_column_text=(g,y)=>(r._sqlite3_column_text=he.sqlite3_column_text)(g,y),r._sqlite3_column_type=(g,y)=>(r._sqlite3_column_type=he.sqlite3_column_type)(g,y),r._sqlite3_errmsg=g=>(r._sqlite3_errmsg=he.sqlite3_errmsg)(g),r._sqlite3_deserialize=(g,y,S,E,C,M)=>(r._sqlite3_deserialize=he.sqlite3_deserialize)(g,y,S,E,C,M),r._sqlite3_clear_bindings=g=>(r._sqlite3_clear_bindings=he.sqlite3_clear_bindings)(g),r._sqlite3_value_blob=g=>(r._sqlite3_value_blob=he.sqlite3_value_blob)(g),r._sqlite3_value_bytes=g=>(r._sqlite3_value_bytes=he.sqlite3_value_bytes)(g),r._sqlite3_value_double=g=>(r._sqlite3_value_double=he.sqlite3_value_double)(g),r._sqlite3_value_int=g=>(r._sqlite3_value_int=he.sqlite3_value_int)(g),r._sqlite3_value_int64=g=>(r._sqlite3_value_int64=he.sqlite3_value_int64)(g),r._sqlite3_value_subtype=g=>(r._sqlite3_value_subtype=he.sqlite3_value_subtype)(g),r._sqlite3_value_pointer=(g,y)=>(r._sqlite3_value_pointer=he.sqlite3_value_pointer)(g,y),r._sqlite3_value_type=g=>(r._sqlite3_value_type=he.sqlite3_value_type)(g),r._sqlite3_value_nochange=g=>(r._sqlite3_value_nochange=he.sqlite3_value_nochange)(g),r._sqlite3_value_frombind=g=>(r._sqlite3_value_frombind=he.sqlite3_value_frombind)(g),r._sqlite3_value_dup=g=>(r._sqlite3_value_dup=he.sqlite3_value_dup)(g),r._sqlite3_value_free=g=>(r._sqlite3_value_free=he.sqlite3_value_free)(g),r._sqlite3_result_blob=(g,y,S,E)=>(r._sqlite3_result_blob=he.sqlite3_result_blob)(g,y,S,E),r._sqlite3_result_error_toobig=g=>(r._sqlite3_result_error_toobig=he.sqlite3_result_error_toobig)(g),r._sqlite3_result_error_nomem=g=>(r._sqlite3_result_error_nomem=he.sqlite3_result_error_nomem)(g),r._sqlite3_result_double=(g,y)=>(r._sqlite3_result_double=he.sqlite3_result_double)(g,y),r._sqlite3_result_error=(g,y,S)=>(r._sqlite3_result_error=he.sqlite3_result_error)(g,y,S),r._sqlite3_result_int=(g,y)=>(r._sqlite3_result_int=he.sqlite3_result_int)(g,y),r._sqlite3_result_int64=(g,y)=>(r._sqlite3_result_int64=he.sqlite3_result_int64)(g,y),r._sqlite3_result_null=g=>(r._sqlite3_result_null=he.sqlite3_result_null)(g),r._sqlite3_result_pointer=(g,y,S,E)=>(r._sqlite3_result_pointer=he.sqlite3_result_pointer)(g,y,S,E),r._sqlite3_result_subtype=(g,y)=>(r._sqlite3_result_subtype=he.sqlite3_result_subtype)(g,y),r._sqlite3_result_text=(g,y,S,E)=>(r._sqlite3_result_text=he.sqlite3_result_text)(g,y,S,E),r._sqlite3_result_zeroblob=(g,y)=>(r._sqlite3_result_zeroblob=he.sqlite3_result_zeroblob)(g,y),r._sqlite3_result_zeroblob64=(g,y)=>(r._sqlite3_result_zeroblob64=he.sqlite3_result_zeroblob64)(g,y),r._sqlite3_result_error_code=(g,y)=>(r._sqlite3_result_error_code=he.sqlite3_result_error_code)(g,y),r._sqlite3_user_data=g=>(r._sqlite3_user_data=he.sqlite3_user_data)(g),r._sqlite3_context_db_handle=g=>(r._sqlite3_context_db_handle=he.sqlite3_context_db_handle)(g),r._sqlite3_vtab_nochange=g=>(r._sqlite3_vtab_nochange=he.sqlite3_vtab_nochange)(g),r._sqlite3_vtab_in_first=(g,y)=>(r._sqlite3_vtab_in_first=he.sqlite3_vtab_in_first)(g,y),r._sqlite3_vtab_in_next=(g,y)=>(r._sqlite3_vtab_in_next=he.sqlite3_vtab_in_next)(g,y),r._sqlite3_aggregate_context=(g,y)=>(r._sqlite3_aggregate_context=he.sqlite3_aggregate_context)(g,y),r._sqlite3_get_auxdata=(g,y)=>(r._sqlite3_get_auxdata=he.sqlite3_get_auxdata)(g,y),r._sqlite3_set_auxdata=(g,y,S,E)=>(r._sqlite3_set_auxdata=he.sqlite3_set_auxdata)(g,y,S,E),r._sqlite3_column_count=g=>(r._sqlite3_column_count=he.sqlite3_column_count)(g),r._sqlite3_data_count=g=>(r._sqlite3_data_count=he.sqlite3_data_count)(g),r._sqlite3_column_blob=(g,y)=>(r._sqlite3_column_blob=he.sqlite3_column_blob)(g,y),r._sqlite3_column_bytes=(g,y)=>(r._sqlite3_column_bytes=he.sqlite3_column_bytes)(g,y),r._sqlite3_column_double=(g,y)=>(r._sqlite3_column_double=he.sqlite3_column_double)(g,y),r._sqlite3_column_value=(g,y)=>(r._sqlite3_column_value=he.sqlite3_column_value)(g,y),r._sqlite3_column_decltype=(g,y)=>(r._sqlite3_column_decltype=he.sqlite3_column_decltype)(g,y),r._sqlite3_bind_blob=(g,y,S,E,C)=>(r._sqlite3_bind_blob=he.sqlite3_bind_blob)(g,y,S,E,C),r._sqlite3_bind_double=(g,y,S)=>(r._sqlite3_bind_double=he.sqlite3_bind_double)(g,y,S),r._sqlite3_bind_int=(g,y,S)=>(r._sqlite3_bind_int=he.sqlite3_bind_int)(g,y,S),r._sqlite3_bind_int64=(g,y,S)=>(r._sqlite3_bind_int64=he.sqlite3_bind_int64)(g,y,S),r._sqlite3_bind_null=(g,y)=>(r._sqlite3_bind_null=he.sqlite3_bind_null)(g,y),r._sqlite3_bind_pointer=(g,y,S,E,C)=>(r._sqlite3_bind_pointer=he.sqlite3_bind_pointer)(g,y,S,E,C),r._sqlite3_bind_text=(g,y,S,E,C)=>(r._sqlite3_bind_text=he.sqlite3_bind_text)(g,y,S,E,C),r._sqlite3_bind_parameter_count=g=>(r._sqlite3_bind_parameter_count=he.sqlite3_bind_parameter_count)(g),r._sqlite3_bind_parameter_name=(g,y)=>(r._sqlite3_bind_parameter_name=he.sqlite3_bind_parameter_name)(g,y),r._sqlite3_bind_parameter_index=(g,y)=>(r._sqlite3_bind_parameter_index=he.sqlite3_bind_parameter_index)(g,y),r._sqlite3_db_handle=g=>(r._sqlite3_db_handle=he.sqlite3_db_handle)(g),r._sqlite3_stmt_readonly=g=>(r._sqlite3_stmt_readonly=he.sqlite3_stmt_readonly)(g),r._sqlite3_stmt_isexplain=g=>(r._sqlite3_stmt_isexplain=he.sqlite3_stmt_isexplain)(g),r._sqlite3_stmt_explain=(g,y)=>(r._sqlite3_stmt_explain=he.sqlite3_stmt_explain)(g,y),r._sqlite3_stmt_busy=g=>(r._sqlite3_stmt_busy=he.sqlite3_stmt_busy)(g),r._sqlite3_stmt_status=(g,y,S)=>(r._sqlite3_stmt_status=he.sqlite3_stmt_status)(g,y,S),r._sqlite3_sql=g=>(r._sqlite3_sql=he.sqlite3_sql)(g),r._sqlite3_expanded_sql=g=>(r._sqlite3_expanded_sql=he.sqlite3_expanded_sql)(g),r._sqlite3_preupdate_old=(g,y,S)=>(r._sqlite3_preupdate_old=he.sqlite3_preupdate_old)(g,y,S),r._sqlite3_preupdate_count=g=>(r._sqlite3_preupdate_count=he.sqlite3_preupdate_count)(g),r._sqlite3_preupdate_depth=g=>(r._sqlite3_preupdate_depth=he.sqlite3_preupdate_depth)(g),r._sqlite3_preupdate_blobwrite=g=>(r._sqlite3_preupdate_blobwrite=he.sqlite3_preupdate_blobwrite)(g),r._sqlite3_preupdate_new=(g,y,S)=>(r._sqlite3_preupdate_new=he.sqlite3_preupdate_new)(g,y,S),r._sqlite3_value_numeric_type=g=>(r._sqlite3_value_numeric_type=he.sqlite3_value_numeric_type)(g),r._sqlite3_set_authorizer=(g,y,S)=>(r._sqlite3_set_authorizer=he.sqlite3_set_authorizer)(g,y,S),r._sqlite3_strglob=(g,y)=>(r._sqlite3_strglob=he.sqlite3_strglob)(g,y),r._sqlite3_strlike=(g,y,S)=>(r._sqlite3_strlike=he.sqlite3_strlike)(g,y,S),r._sqlite3_auto_extension=g=>(r._sqlite3_auto_extension=he.sqlite3_auto_extension)(g),r._sqlite3_cancel_auto_extension=g=>(r._sqlite3_cancel_auto_extension=he.sqlite3_cancel_auto_extension)(g),r._sqlite3_reset_auto_extension=()=>(r._sqlite3_reset_auto_extension=he.sqlite3_reset_auto_extension)(),r._sqlite3_prepare_v3=(g,y,S,E,C,M)=>(r._sqlite3_prepare_v3=he.sqlite3_prepare_v3)(g,y,S,E,C,M),r._sqlite3_create_module=(g,y,S,E)=>(r._sqlite3_create_module=he.sqlite3_create_module)(g,y,S,E),r._sqlite3_create_module_v2=(g,y,S,E,C)=>(r._sqlite3_create_module_v2=he.sqlite3_create_module_v2)(g,y,S,E,C),r._sqlite3_drop_modules=(g,y)=>(r._sqlite3_drop_modules=he.sqlite3_drop_modules)(g,y),r._sqlite3_declare_vtab=(g,y)=>(r._sqlite3_declare_vtab=he.sqlite3_declare_vtab)(g,y),r._sqlite3_vtab_on_conflict=g=>(r._sqlite3_vtab_on_conflict=he.sqlite3_vtab_on_conflict)(g),r._sqlite3_vtab_collation=(g,y)=>(r._sqlite3_vtab_collation=he.sqlite3_vtab_collation)(g,y),r._sqlite3_vtab_in=(g,y,S)=>(r._sqlite3_vtab_in=he.sqlite3_vtab_in)(g,y,S),r._sqlite3_vtab_rhs_value=(g,y,S)=>(r._sqlite3_vtab_rhs_value=he.sqlite3_vtab_rhs_value)(g,y,S),r._sqlite3_vtab_distinct=g=>(r._sqlite3_vtab_distinct=he.sqlite3_vtab_distinct)(g),r._sqlite3_keyword_name=(g,y,S)=>(r._sqlite3_keyword_name=he.sqlite3_keyword_name)(g,y,S),r._sqlite3_keyword_count=()=>(r._sqlite3_keyword_count=he.sqlite3_keyword_count)(),r._sqlite3_keyword_check=(g,y)=>(r._sqlite3_keyword_check=he.sqlite3_keyword_check)(g,y),r._sqlite3_complete=g=>(r._sqlite3_complete=he.sqlite3_complete)(g),r._sqlite3_libversion=()=>(r._sqlite3_libversion=he.sqlite3_libversion)(),r._sqlite3_libversion_number=()=>(r._sqlite3_libversion_number=he.sqlite3_libversion_number)(),r._sqlite3_shutdown=()=>(r._sqlite3_shutdown=he.sqlite3_shutdown)(),r._sqlite3_last_insert_rowid=g=>(r._sqlite3_last_insert_rowid=he.sqlite3_last_insert_rowid)(g),r._sqlite3_set_last_insert_rowid=(g,y)=>(r._sqlite3_set_last_insert_rowid=he.sqlite3_set_last_insert_rowid)(g,y),r._sqlite3_changes64=g=>(r._sqlite3_changes64=he.sqlite3_changes64)(g),r._sqlite3_changes=g=>(r._sqlite3_changes=he.sqlite3_changes)(g),r._sqlite3_total_changes64=g=>(r._sqlite3_total_changes64=he.sqlite3_total_changes64)(g),r._sqlite3_total_changes=g=>(r._sqlite3_total_changes=he.sqlite3_total_changes)(g),r._sqlite3_txn_state=(g,y)=>(r._sqlite3_txn_state=he.sqlite3_txn_state)(g,y),r._sqlite3_close_v2=g=>(r._sqlite3_close_v2=he.sqlite3_close_v2)(g),r._sqlite3_busy_handler=(g,y,S)=>(r._sqlite3_busy_handler=he.sqlite3_busy_handler)(g,y,S),r._sqlite3_progress_handler=(g,y,S,E)=>(r._sqlite3_progress_handler=he.sqlite3_progress_handler)(g,y,S,E),r._sqlite3_busy_timeout=(g,y)=>(r._sqlite3_busy_timeout=he.sqlite3_busy_timeout)(g,y),r._sqlite3_interrupt=g=>(r._sqlite3_interrupt=he.sqlite3_interrupt)(g),r._sqlite3_is_interrupted=g=>(r._sqlite3_is_interrupted=he.sqlite3_is_interrupted)(g),r._sqlite3_create_function=(g,y,S,E,C,M,fe,me)=>(r._sqlite3_create_function=he.sqlite3_create_function)(g,y,S,E,C,M,fe,me),r._sqlite3_create_function_v2=(g,y,S,E,C,M,fe,me,Qe)=>(r._sqlite3_create_function_v2=he.sqlite3_create_function_v2)(g,y,S,E,C,M,fe,me,Qe),r._sqlite3_create_window_function=(g,y,S,E,C,M,fe,me,Qe,tt)=>(r._sqlite3_create_window_function=he.sqlite3_create_window_function)(g,y,S,E,C,M,fe,me,Qe,tt),r._sqlite3_overload_function=(g,y,S)=>(r._sqlite3_overload_function=he.sqlite3_overload_function)(g,y,S),r._sqlite3_trace_v2=(g,y,S,E)=>(r._sqlite3_trace_v2=he.sqlite3_trace_v2)(g,y,S,E),r._sqlite3_commit_hook=(g,y,S)=>(r._sqlite3_commit_hook=he.sqlite3_commit_hook)(g,y,S),r._sqlite3_update_hook=(g,y,S)=>(r._sqlite3_update_hook=he.sqlite3_update_hook)(g,y,S),r._sqlite3_rollback_hook=(g,y,S)=>(r._sqlite3_rollback_hook=he.sqlite3_rollback_hook)(g,y,S),r._sqlite3_preupdate_hook=(g,y,S)=>(r._sqlite3_preupdate_hook=he.sqlite3_preupdate_hook)(g,y,S),r._sqlite3_error_offset=g=>(r._sqlite3_error_offset=he.sqlite3_error_offset)(g),r._sqlite3_errcode=g=>(r._sqlite3_errcode=he.sqlite3_errcode)(g),r._sqlite3_extended_errcode=g=>(r._sqlite3_extended_errcode=he.sqlite3_extended_errcode)(g),r._sqlite3_errstr=g=>(r._sqlite3_errstr=he.sqlite3_errstr)(g),r._sqlite3_limit=(g,y,S)=>(r._sqlite3_limit=he.sqlite3_limit)(g,y,S),r._sqlite3_open=(g,y)=>(r._sqlite3_open=he.sqlite3_open)(g,y),r._sqlite3_open_v2=(g,y,S,E)=>(r._sqlite3_open_v2=he.sqlite3_open_v2)(g,y,S,E),r._sqlite3_create_collation=(g,y,S,E,C)=>(r._sqlite3_create_collation=he.sqlite3_create_collation)(g,y,S,E,C),r._sqlite3_create_collation_v2=(g,y,S,E,C,M)=>(r._sqlite3_create_collation_v2=he.sqlite3_create_collation_v2)(g,y,S,E,C,M),r._sqlite3_collation_needed=(g,y,S)=>(r._sqlite3_collation_needed=he.sqlite3_collation_needed)(g,y,S),r._sqlite3_get_autocommit=g=>(r._sqlite3_get_autocommit=he.sqlite3_get_autocommit)(g),r._sqlite3_table_column_metadata=(g,y,S,E,C,M,fe,me,Qe)=>(r._sqlite3_table_column_metadata=he.sqlite3_table_column_metadata)(g,y,S,E,C,M,fe,me,Qe),r._sqlite3_extended_result_codes=(g,y)=>(r._sqlite3_extended_result_codes=he.sqlite3_extended_result_codes)(g,y),r._sqlite3_uri_key=(g,y)=>(r._sqlite3_uri_key=he.sqlite3_uri_key)(g,y),r._sqlite3_uri_int64=(g,y,S)=>(r._sqlite3_uri_int64=he.sqlite3_uri_int64)(g,y,S),r._sqlite3_db_name=(g,y)=>(r._sqlite3_db_name=he.sqlite3_db_name)(g,y),r._sqlite3_db_filename=(g,y)=>(r._sqlite3_db_filename=he.sqlite3_db_filename)(g,y),r._sqlite3_db_readonly=(g,y)=>(r._sqlite3_db_readonly=he.sqlite3_db_readonly)(g,y),r._sqlite3_compileoption_used=g=>(r._sqlite3_compileoption_used=he.sqlite3_compileoption_used)(g),r._sqlite3_compileoption_get=g=>(r._sqlite3_compileoption_get=he.sqlite3_compileoption_get)(g),r._sqlite3session_diff=(g,y,S,E)=>(r._sqlite3session_diff=he.sqlite3session_diff)(g,y,S,E),r._sqlite3session_attach=(g,y)=>(r._sqlite3session_attach=he.sqlite3session_attach)(g,y),r._sqlite3session_create=(g,y,S)=>(r._sqlite3session_create=he.sqlite3session_create)(g,y,S),r._sqlite3session_delete=g=>(r._sqlite3session_delete=he.sqlite3session_delete)(g),r._sqlite3session_table_filter=(g,y,S)=>(r._sqlite3session_table_filter=he.sqlite3session_table_filter)(g,y,S),r._sqlite3session_changeset=(g,y,S)=>(r._sqlite3session_changeset=he.sqlite3session_changeset)(g,y,S),r._sqlite3session_changeset_strm=(g,y,S)=>(r._sqlite3session_changeset_strm=he.sqlite3session_changeset_strm)(g,y,S),r._sqlite3session_patchset_strm=(g,y,S)=>(r._sqlite3session_patchset_strm=he.sqlite3session_patchset_strm)(g,y,S),r._sqlite3session_patchset=(g,y,S)=>(r._sqlite3session_patchset=he.sqlite3session_patchset)(g,y,S),r._sqlite3session_enable=(g,y)=>(r._sqlite3session_enable=he.sqlite3session_enable)(g,y),r._sqlite3session_indirect=(g,y)=>(r._sqlite3session_indirect=he.sqlite3session_indirect)(g,y),r._sqlite3session_isempty=g=>(r._sqlite3session_isempty=he.sqlite3session_isempty)(g),r._sqlite3session_memory_used=g=>(r._sqlite3session_memory_used=he.sqlite3session_memory_used)(g),r._sqlite3session_object_config=(g,y,S)=>(r._sqlite3session_object_config=he.sqlite3session_object_config)(g,y,S),r._sqlite3session_changeset_size=g=>(r._sqlite3session_changeset_size=he.sqlite3session_changeset_size)(g),r._sqlite3changeset_start=(g,y,S)=>(r._sqlite3changeset_start=he.sqlite3changeset_start)(g,y,S),r._sqlite3changeset_start_v2=(g,y,S,E)=>(r._sqlite3changeset_start_v2=he.sqlite3changeset_start_v2)(g,y,S,E),r._sqlite3changeset_start_strm=(g,y,S)=>(r._sqlite3changeset_start_strm=he.sqlite3changeset_start_strm)(g,y,S),r._sqlite3changeset_start_v2_strm=(g,y,S,E)=>(r._sqlite3changeset_start_v2_strm=he.sqlite3changeset_start_v2_strm)(g,y,S,E),r._sqlite3changeset_next=g=>(r._sqlite3changeset_next=he.sqlite3changeset_next)(g),r._sqlite3changeset_op=(g,y,S,E,C)=>(r._sqlite3changeset_op=he.sqlite3changeset_op)(g,y,S,E,C),r._sqlite3changeset_pk=(g,y,S)=>(r._sqlite3changeset_pk=he.sqlite3changeset_pk)(g,y,S),r._sqlite3changeset_old=(g,y,S)=>(r._sqlite3changeset_old=he.sqlite3changeset_old)(g,y,S),r._sqlite3changeset_new=(g,y,S)=>(r._sqlite3changeset_new=he.sqlite3changeset_new)(g,y,S),r._sqlite3changeset_conflict=(g,y,S)=>(r._sqlite3changeset_conflict=he.sqlite3changeset_conflict)(g,y,S),r._sqlite3changeset_fk_conflicts=(g,y)=>(r._sqlite3changeset_fk_conflicts=he.sqlite3changeset_fk_conflicts)(g,y),r._sqlite3changeset_finalize=g=>(r._sqlite3changeset_finalize=he.sqlite3changeset_finalize)(g),r._sqlite3changeset_invert=(g,y,S,E)=>(r._sqlite3changeset_invert=he.sqlite3changeset_invert)(g,y,S,E),r._sqlite3changeset_invert_strm=(g,y,S,E)=>(r._sqlite3changeset_invert_strm=he.sqlite3changeset_invert_strm)(g,y,S,E),r._sqlite3changeset_apply_v2=(g,y,S,E,C,M,fe,me,Qe)=>(r._sqlite3changeset_apply_v2=he.sqlite3changeset_apply_v2)(g,y,S,E,C,M,fe,me,Qe),r._sqlite3changeset_apply=(g,y,S,E,C,M)=>(r._sqlite3changeset_apply=he.sqlite3changeset_apply)(g,y,S,E,C,M),r._sqlite3changeset_apply_v2_strm=(g,y,S,E,C,M,fe,me,Qe)=>(r._sqlite3changeset_apply_v2_strm=he.sqlite3changeset_apply_v2_strm)(g,y,S,E,C,M,fe,me,Qe),r._sqlite3changeset_apply_strm=(g,y,S,E,C,M)=>(r._sqlite3changeset_apply_strm=he.sqlite3changeset_apply_strm)(g,y,S,E,C,M),r._sqlite3changegroup_new=g=>(r._sqlite3changegroup_new=he.sqlite3changegroup_new)(g),r._sqlite3changegroup_add=(g,y,S)=>(r._sqlite3changegroup_add=he.sqlite3changegroup_add)(g,y,S),r._sqlite3changegroup_output=(g,y,S)=>(r._sqlite3changegroup_output=he.sqlite3changegroup_output)(g,y,S),r._sqlite3changegroup_add_strm=(g,y,S)=>(r._sqlite3changegroup_add_strm=he.sqlite3changegroup_add_strm)(g,y,S),r._sqlite3changegroup_output_strm=(g,y,S)=>(r._sqlite3changegroup_output_strm=he.sqlite3changegroup_output_strm)(g,y,S),r._sqlite3changegroup_delete=g=>(r._sqlite3changegroup_delete=he.sqlite3changegroup_delete)(g),r._sqlite3changeset_concat=(g,y,S,E,C,M)=>(r._sqlite3changeset_concat=he.sqlite3changeset_concat)(g,y,S,E,C,M),r._sqlite3changeset_concat_strm=(g,y,S,E,C,M)=>(r._sqlite3changeset_concat_strm=he.sqlite3changeset_concat_strm)(g,y,S,E,C,M),r._sqlite3session_config=(g,y)=>(r._sqlite3session_config=he.sqlite3session_config)(g,y),r._sqlite3_sourceid=()=>(r._sqlite3_sourceid=he.sqlite3_sourceid)(),r._sqlite3__wasm_pstack_ptr=()=>(r._sqlite3__wasm_pstack_ptr=he.sqlite3__wasm_pstack_ptr)(),r._sqlite3__wasm_pstack_restore=g=>(r._sqlite3__wasm_pstack_restore=he.sqlite3__wasm_pstack_restore)(g),r._sqlite3__wasm_pstack_alloc=g=>(r._sqlite3__wasm_pstack_alloc=he.sqlite3__wasm_pstack_alloc)(g),r._sqlite3__wasm_pstack_remaining=()=>(r._sqlite3__wasm_pstack_remaining=he.sqlite3__wasm_pstack_remaining)(),r._sqlite3__wasm_pstack_quota=()=>(r._sqlite3__wasm_pstack_quota=he.sqlite3__wasm_pstack_quota)(),r._sqlite3__wasm_db_error=(g,y,S)=>(r._sqlite3__wasm_db_error=he.sqlite3__wasm_db_error)(g,y,S),r._sqlite3__wasm_test_struct=g=>(r._sqlite3__wasm_test_struct=he.sqlite3__wasm_test_struct)(g),r._sqlite3__wasm_enum_json=()=>(r._sqlite3__wasm_enum_json=he.sqlite3__wasm_enum_json)(),r._sqlite3__wasm_vfs_unlink=(g,y)=>(r._sqlite3__wasm_vfs_unlink=he.sqlite3__wasm_vfs_unlink)(g,y),r._sqlite3__wasm_db_vfs=(g,y)=>(r._sqlite3__wasm_db_vfs=he.sqlite3__wasm_db_vfs)(g,y),r._sqlite3__wasm_db_reset=g=>(r._sqlite3__wasm_db_reset=he.sqlite3__wasm_db_reset)(g),r._sqlite3__wasm_db_export_chunked=(g,y)=>(r._sqlite3__wasm_db_export_chunked=he.sqlite3__wasm_db_export_chunked)(g,y),r._sqlite3__wasm_db_serialize=(g,y,S,E,C)=>(r._sqlite3__wasm_db_serialize=he.sqlite3__wasm_db_serialize)(g,y,S,E,C),r._sqlite3__wasm_vfs_create_file=(g,y,S,E)=>(r._sqlite3__wasm_vfs_create_file=he.sqlite3__wasm_vfs_create_file)(g,y,S,E),r._sqlite3__wasm_posix_create_file=(g,y,S)=>(r._sqlite3__wasm_posix_create_file=he.sqlite3__wasm_posix_create_file)(g,y,S),r._sqlite3__wasm_kvvfsMakeKeyOnPstack=(g,y)=>(r._sqlite3__wasm_kvvfsMakeKeyOnPstack=he.sqlite3__wasm_kvvfsMakeKeyOnPstack)(g,y),r._sqlite3__wasm_kvvfs_methods=()=>(r._sqlite3__wasm_kvvfs_methods=he.sqlite3__wasm_kvvfs_methods)(),r._sqlite3__wasm_vtab_config=(g,y,S)=>(r._sqlite3__wasm_vtab_config=he.sqlite3__wasm_vtab_config)(g,y,S),r._sqlite3__wasm_db_config_ip=(g,y,S,E)=>(r._sqlite3__wasm_db_config_ip=he.sqlite3__wasm_db_config_ip)(g,y,S,E),r._sqlite3__wasm_db_config_pii=(g,y,S,E,C)=>(r._sqlite3__wasm_db_config_pii=he.sqlite3__wasm_db_config_pii)(g,y,S,E,C),r._sqlite3__wasm_db_config_s=(g,y,S)=>(r._sqlite3__wasm_db_config_s=he.sqlite3__wasm_db_config_s)(g,y,S),r._sqlite3__wasm_config_i=(g,y)=>(r._sqlite3__wasm_config_i=he.sqlite3__wasm_config_i)(g,y),r._sqlite3__wasm_config_ii=(g,y,S)=>(r._sqlite3__wasm_config_ii=he.sqlite3__wasm_config_ii)(g,y,S),r._sqlite3__wasm_config_j=(g,y)=>(r._sqlite3__wasm_config_j=he.sqlite3__wasm_config_j)(g,y),r._sqlite3__wasm_qfmt_token=(g,y)=>(r._sqlite3__wasm_qfmt_token=he.sqlite3__wasm_qfmt_token)(g,y),r._sqlite3__wasm_init_wasmfs=g=>(r._sqlite3__wasm_init_wasmfs=he.sqlite3__wasm_init_wasmfs)(g),r._sqlite3__wasm_test_intptr=g=>(r._sqlite3__wasm_test_intptr=he.sqlite3__wasm_test_intptr)(g),r._sqlite3__wasm_test_voidptr=g=>(r._sqlite3__wasm_test_voidptr=he.sqlite3__wasm_test_voidptr)(g),r._sqlite3__wasm_test_int64_max=()=>(r._sqlite3__wasm_test_int64_max=he.sqlite3__wasm_test_int64_max)(),r._sqlite3__wasm_test_int64_min=()=>(r._sqlite3__wasm_test_int64_min=he.sqlite3__wasm_test_int64_min)(),r._sqlite3__wasm_test_int64_times2=g=>(r._sqlite3__wasm_test_int64_times2=he.sqlite3__wasm_test_int64_times2)(g),r._sqlite3__wasm_test_int64_minmax=(g,y)=>(r._sqlite3__wasm_test_int64_minmax=he.sqlite3__wasm_test_int64_minmax)(g,y),r._sqlite3__wasm_test_int64ptr=g=>(r._sqlite3__wasm_test_int64ptr=he.sqlite3__wasm_test_int64ptr)(g),r._sqlite3__wasm_test_stack_overflow=g=>(r._sqlite3__wasm_test_stack_overflow=he.sqlite3__wasm_test_stack_overflow)(g),r._sqlite3__wasm_test_str_hello=g=>(r._sqlite3__wasm_test_str_hello=he.sqlite3__wasm_test_str_hello)(g),r._sqlite3__wasm_SQLTester_strglob=(g,y)=>(r._sqlite3__wasm_SQLTester_strglob=he.sqlite3__wasm_SQLTester_strglob)(g,y),r._malloc=g=>(r._malloc=he.malloc)(g),r._free=g=>(r._free=he.free)(g),r._realloc=(g,y)=>(r._realloc=he.realloc)(g,y);var qf=(g,y)=>(qf=he.emscripten_builtin_memalign)(g,y);r.wasmMemory=q;var lu;de=function g(){lu||Rf(),lu||(de=g)};function Rf(){if(ce>0||(J(),ce>0))return;function g(){lu||(lu=!0,r.calledRun=!0,!A&&(le(),i(r),r.onRuntimeInitialized?.(),se()))}r.setStatus?(r.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>r.setStatus(""),1),g()},1)):g()}if(r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return Rf(),r.postRun||(r.postRun=[]),r.postRun.push(function(g){if(globalThis.sqlite3ApiBootstrap=function y(S=globalThis.sqlite3ApiConfig||y.defaultConfig){if(y.sqlite3)return(y.sqlite3.config||console).warn("sqlite3ApiBootstrap() called multiple times.","Config and external initializers are ignored on calls after the first."),y.sqlite3;const E=Object.assign(Object.create(null),{exports:void 0,memory:void 0,bigIntEnabled:typeof g<"u"&&g.HEAPU64?!0:!!globalThis.BigInt64Array,debug:console.debug.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),log:console.log.bind(console),wasmfsOpfsDir:"/opfs",useStdAlloc:!1},S||{});Object.assign(E,{allocExportName:E.useStdAlloc?"malloc":"sqlite3_malloc",deallocExportName:E.useStdAlloc?"free":"sqlite3_free",reallocExportName:E.useStdAlloc?"realloc":"sqlite3_realloc"},E),["exports","memory","wasmfsOpfsDir"].forEach(H=>{typeof E[H]=="function"&&(E[H]=E[H]())}),delete globalThis.sqlite3ApiConfig,delete y.defaultConfig;const C=Object.create(null),M=Object.create(null),fe=H=>C.sqlite3_js_rc_str&&C.sqlite3_js_rc_str(H)||"Unknown result code #"+H,me=H=>typeof H=="number"&&H===(H|0);class Qe extends Error{constructor(...ne){let ie;if(ne.length)if(me(ne[0]))if(ie=ne[0],ne.length===1)super(fe(ne[0]));else{const Le=fe(ie);typeof ne[1]=="object"?super(Le,ne[1]):(ne[0]=Le+":",super(ne.join(" ")))}else ne.length===2&&typeof ne[1]=="object"?super(...ne):super(ne.join(" "));this.resultCode=ie||C.SQLITE_ERROR,this.name="SQLite3Error"}}Qe.toss=(...H)=>{throw new Qe(...H)};const tt=Qe.toss;E.wasmfsOpfsDir&&!/^\/[^/]+$/.test(E.wasmfsOpfsDir)&&tt("config.wasmfsOpfsDir must be falsy or in the form '/dir-name'.");const at=H=>typeof H!="bigint"&&H===(H|0)&&H<=0x7fffffff&&H>=-0x80000000,mt=function H(ne){return H._max||(H._max=BigInt("0x7fffffffffffffff"),H._min=~H._max),ne>=H._min&&ne<=H._max},Be=H=>H>=-2147483647n-1n&&H<=2147483647n,Re=function H(ne){return H._min||(H._min=Number.MIN_SAFE_INTEGER,H._max=Number.MAX_SAFE_INTEGER),ne>=H._min&&ne<=H._max},et=H=>H&&H.constructor&&at(H.constructor.BYTES_PER_ELEMENT)?H:!1,be=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,Ie=H=>H.buffer instanceof be,Te=(H,ne,ie)=>Ie(H)?H.slice(ne,ie):H.subarray(ne,ie),Je=H=>H&&(H instanceof Uint8Array||H instanceof Int8Array||H instanceof ArrayBuffer),Ge=H=>H&&(H instanceof Uint8Array||H instanceof Int8Array||H instanceof ArrayBuffer),Oe=H=>Je(H)||tt("Value is not of a supported TypedArray type."),Ke=new TextDecoder("utf-8"),St=function(H,ne,ie){return Ke.decode(Te(H,ne,ie))},Y=function(H){return Ge(H)?St(H instanceof ArrayBuffer?new Uint8Array(H):H):Array.isArray(H)?H.join(""):(M.isPtr(H)&&(H=M.cstrToJs(H)),H)};class ue extends Error{constructor(...ne){ne.length===2&&typeof ne[1]=="object"?super(...ne):ne.length?super(ne.join(" ")):super("Allocation failed."),this.resultCode=C.SQLITE_NOMEM,this.name="WasmAllocError"}}ue.toss=(...H)=>{throw new ue(...H)},Object.assign(C,{sqlite3_bind_blob:void 0,sqlite3_bind_text:void 0,sqlite3_create_function_v2:(H,ne,ie,Le,it,Ot,Bt,Gt,lt)=>{},sqlite3_create_function:(H,ne,ie,Le,it,Ot,Bt,Gt)=>{},sqlite3_create_window_function:(H,ne,ie,Le,it,Ot,Bt,Gt,lt,_e)=>{},sqlite3_prepare_v3:(H,ne,ie,Le,it,Ot)=>{},sqlite3_prepare_v2:(H,ne,ie,Le,it)=>{},sqlite3_exec:(H,ne,ie,Le,it)=>{},sqlite3_randomness:(H,ne)=>{}});const Ee={affirmBindableTypedArray:Oe,flexibleString:Y,bigIntFits32:Be,bigIntFits64:mt,bigIntFitsDouble:Re,isBindableTypedArray:Je,isInt32:at,isSQLableTypedArray:Ge,isTypedArray:et,typedArrayToString:St,isUIThread:()=>globalThis.window===globalThis&&!!globalThis.document,isSharedTypedArray:Ie,toss:function(...H){throw new Error(H.join(" "))},toss3:tt,typedArrayPart:Te,affirmDbHeader:function(H){H instanceof ArrayBuffer&&(H=new Uint8Array(H));const ne="SQLite format 3";ne.length>H.byteLength&&tt("Input does not contain an SQLite3 database header.");for(let ie=0;ie<ne.length;++ie)ne.charCodeAt(ie)!==H[ie]&&tt("Input does not contain an SQLite3 database header.")},affirmIsDb:function(H){H instanceof ArrayBuffer&&(H=new Uint8Array(H));const ne=H.byteLength;(ne<512||ne%512!==0)&&tt("Byte array size",ne,"is invalid for an SQLite3 db."),Ee.affirmDbHeader(H)}};Object.assign(M,{ptrSizeof:E.wasmPtrSizeof||4,ptrIR:E.wasmPtrIR||"i32",bigIntEnabled:!!E.bigIntEnabled,exports:E.exports||tt("Missing API config.exports (WASM module exports)."),memory:E.memory||E.exports.memory||tt("API config object requires a WebAssembly.Memory object","in either config.exports.memory (exported)","or config.memory (imported)."),alloc:void 0,realloc:void 0,dealloc:void 0}),M.allocFromTypedArray=function(H){H instanceof ArrayBuffer&&(H=new Uint8Array(H)),Oe(H);const ne=M.alloc(H.byteLength||1);return M.heapForSize(H.constructor).set(H.byteLength?H:[0],ne),ne};{const H=E.allocExportName,ne=E.deallocExportName,ie=E.reallocExportName;for(const Le of[H,ne,ie])M.exports[Le]instanceof Function||tt("Missing required exports[",Le,"] function.");M.alloc=function Le(it){return Le.impl(it)||ue.toss("Failed to allocate",it," bytes.")},M.alloc.impl=M.exports[H],M.realloc=function Le(it,Ot){const Bt=Le.impl(it,Ot);return Ot?Bt||ue.toss("Failed to reallocate",Ot," bytes."):0},M.realloc.impl=M.exports[ie],M.dealloc=M.exports[ne]}M.compileOptionUsed=function H(ne){if(arguments.length){if(Array.isArray(ne)){const ie={};return ne.forEach(Le=>{ie[Le]=C.sqlite3_compileoption_used(Le)}),ie}else if(typeof ne=="object")return Object.keys(ne).forEach(ie=>{ne[ie]=C.sqlite3_compileoption_used(ie)}),ne}else{if(H._result)return H._result;H._opt||(H._rx=/^([^=]+)=(.+)/,H._rxInt=/^-?\d+$/,H._opt=function(Bt,Gt){const lt=H._rx.exec(Bt);Gt[0]=lt?lt[1]:Bt,Gt[1]=lt?H._rxInt.test(lt[2])?+lt[2]:lt[2]:!0});const ie={},Le=[0,0];let it=0,Ot;for(;Ot=C.sqlite3_compileoption_get(it++);)H._opt(Ot,Le),ie[Le[0]]=Le[1];return H._result=ie}return typeof ne=="string"?!!C.sqlite3_compileoption_used(ne):!1},M.pstack=Object.assign(Object.create(null),{restore:M.exports.sqlite3__wasm_pstack_restore,alloc:function(H){return typeof H=="string"&&!(H=M.sizeofIR(H))&&ue.toss("Invalid value for pstack.alloc(",arguments[0],")"),M.exports.sqlite3__wasm_pstack_alloc(H)||ue.toss("Could not allocate",H,"bytes from the pstack.")},allocChunks:function(H,ne){typeof ne=="string"&&!(ne=M.sizeofIR(ne))&&ue.toss("Invalid size value for allocChunks(",arguments[1],")");const ie=M.pstack.alloc(H*ne),Le=[];let it=0,Ot=0;for(;it<H;++it,Ot+=ne)Le.push(ie+Ot);return Le},allocPtr:(H=1,ne=!0)=>H===1?M.pstack.alloc(ne?8:M.ptrSizeof):M.pstack.allocChunks(H,ne?8:M.ptrSizeof),call:function(H){const ne=M.pstack.pointer;try{return H(pe)}finally{M.pstack.restore(ne)}}}),Object.defineProperties(M.pstack,{pointer:{configurable:!1,iterable:!0,writeable:!1,get:M.exports.sqlite3__wasm_pstack_ptr},quota:{configurable:!1,iterable:!0,writeable:!1,get:M.exports.sqlite3__wasm_pstack_quota},remaining:{configurable:!1,iterable:!0,writeable:!1,get:M.exports.sqlite3__wasm_pstack_remaining}}),C.sqlite3_randomness=(...H)=>{if(H.length===1&&Ee.isTypedArray(H[0])&&H[0].BYTES_PER_ELEMENT===1){const ne=H[0];if(ne.byteLength===0)return M.exports.sqlite3_randomness(0,0),ne;const ie=M.pstack.pointer;try{let Le=ne.byteLength,it=0;const Ot=M.exports.sqlite3_randomness,Bt=M.heap8u(),Gt=Le<512?Le:512,lt=M.pstack.alloc(Gt);do{const _e=Le>Gt?Gt:Le;Ot(_e,lt),ne.set(Te(Bt,lt,lt+_e),it),Le-=_e,it+=_e}while(Le>0)}catch(Le){console.error("Highly unexpected (and ignored!) exception in sqlite3_randomness():",Le)}finally{M.pstack.restore(ie)}return ne}M.exports.sqlite3_randomness(...H)};let st;if(C.sqlite3_wasmfs_opfs_dir=function(){if(st!==void 0)return st;const H=E.wasmfsOpfsDir;if(!H||!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle)return st="";try{return H&&M.xCallWrapped("sqlite3__wasm_init_wasmfs","i32",["string"],H)===0?st=H:st=""}catch{return st=""}},C.sqlite3_wasmfs_filename_is_persistent=function(H){const ne=C.sqlite3_wasmfs_opfs_dir();return ne&&H?H.startsWith(ne+"/"):!1},C.sqlite3_js_db_uses_vfs=function(H,ne,ie=0){try{const Le=C.sqlite3_vfs_find(ne);return Le?H?Le===C.sqlite3_js_db_vfs(H,ie)?Le:!1:Le===C.sqlite3_vfs_find(0)?Le:!1:!1}catch{return!1}},C.sqlite3_js_vfs_list=function(){const H=[];let ne=C.sqlite3_vfs_find(0);for(;ne;){const ie=new C.sqlite3_vfs(ne);H.push(M.cstrToJs(ie.$zName)),ne=ie.$pNext,ie.dispose()}return H},C.sqlite3_js_db_export=function(H,ne=0){H=M.xWrap.testConvertArg("sqlite3*",H),H||tt("Invalid sqlite3* argument."),M.bigIntEnabled||tt("BigInt64 support is not enabled.");const ie=M.scopedAllocPush();let Le;try{const it=M.scopedAlloc(8+M.ptrSizeof),Ot=it+8,Bt=ne?M.isPtr(ne)?ne:M.scopedAllocCString(""+ne):0;let Gt=M.exports.sqlite3__wasm_db_serialize(H,Bt,Ot,it,0);Gt&&tt("Database serialization failed with code",pe.capi.sqlite3_js_rc_str(Gt)),Le=M.peekPtr(Ot);const lt=M.peek(it,"i64");return Gt=lt?M.heap8u().slice(Le,Le+Number(lt)):new Uint8Array,Gt}finally{Le&&M.exports.sqlite3_free(Le),M.scopedAllocPop(ie)}},C.sqlite3_js_db_vfs=(H,ne=0)=>Ee.sqlite3__wasm_db_vfs(H,ne),C.sqlite3_js_aggregate_context=(H,ne)=>C.sqlite3_aggregate_context(H,ne)||(ne?ue.toss("Cannot allocate",ne,"bytes for sqlite3_aggregate_context()"):0),C.sqlite3_js_posix_create_file=function(H,ne,ie){let Le;ne&&M.isPtr(ne)?Le=ne:ne instanceof ArrayBuffer||ne instanceof Uint8Array?(Le=M.allocFromTypedArray(ne),(arguments.length<3||!Ee.isInt32(ie)||ie<0)&&(ie=ne.byteLength)):Qe.toss("Invalid 2nd argument for sqlite3_js_posix_create_file().");try{(!Ee.isInt32(ie)||ie<0)&&Qe.toss("Invalid 3rd argument for sqlite3_js_posix_create_file().");const it=Ee.sqlite3__wasm_posix_create_file(H,Le,ie);it&&Qe.toss("Creation of file failed with sqlite3 result code",C.sqlite3_js_rc_str(it))}finally{M.dealloc(Le)}},C.sqlite3_js_vfs_create_file=function(H,ne,ie,Le){E.warn("sqlite3_js_vfs_create_file() is deprecated and","should be avoided because it can lead to C-level crashes.","See its documentation for alternative options.");let it;ie?(M.isPtr(ie)?it=ie:ie instanceof ArrayBuffer&&(ie=new Uint8Array(ie)),ie instanceof Uint8Array?(it=M.allocFromTypedArray(ie),(arguments.length<4||!Ee.isInt32(Le)||Le<0)&&(Le=ie.byteLength)):Qe.toss("Invalid 3rd argument type for sqlite3_js_vfs_create_file().")):it=0,(!Ee.isInt32(Le)||Le<0)&&(M.dealloc(it),Qe.toss("Invalid 4th argument for sqlite3_js_vfs_create_file()."));try{const Ot=Ee.sqlite3__wasm_vfs_create_file(H,ne,it,Le);Ot&&Qe.toss("Creation of file failed with sqlite3 result code",C.sqlite3_js_rc_str(Ot))}finally{M.dealloc(it)}},C.sqlite3_js_sql_to_string=H=>{if(typeof H=="string")return H;const ne=Y(v);return ne===v?void 0:ne},Ee.isUIThread()){const H=function(ne){const ie=Object.create(null);return ie.prefix="kvvfs-"+ne,ie.stores=[],(ne==="session"||ne==="")&&ie.stores.push(globalThis.sessionStorage),(ne==="local"||ne==="")&&ie.stores.push(globalThis.localStorage),ie};C.sqlite3_js_kvvfs_clear=function(ne=""){let ie=0;const Le=H(ne);return Le.stores.forEach(it=>{const Ot=[];let Bt;for(Bt=0;Bt<it.length;++Bt){const Gt=it.key(Bt);Gt.startsWith(Le.prefix)&&Ot.push(Gt)}Ot.forEach(Gt=>it.removeItem(Gt)),ie+=Ot.length}),ie},C.sqlite3_js_kvvfs_size=function(ne=""){let ie=0;const Le=H(ne);return Le.stores.forEach(it=>{let Ot;for(Ot=0;Ot<it.length;++Ot){const Bt=it.key(Ot);Bt.startsWith(Le.prefix)&&(ie+=Bt.length,ie+=it.getItem(Bt).length)}}),ie*2}}C.sqlite3_db_config=function(H,ne,...ie){switch(this.s||(this.s=M.xWrap("sqlite3__wasm_db_config_s","int",["sqlite3*","int","string:static"]),this.pii=M.xWrap("sqlite3__wasm_db_config_pii","int",["sqlite3*","int","*","int","int"]),this.ip=M.xWrap("sqlite3__wasm_db_config_ip","int",["sqlite3*","int","int","*"])),ne){case C.SQLITE_DBCONFIG_ENABLE_FKEY:case C.SQLITE_DBCONFIG_ENABLE_TRIGGER:case C.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER:case C.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION:case C.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE:case C.SQLITE_DBCONFIG_ENABLE_QPSG:case C.SQLITE_DBCONFIG_TRIGGER_EQP:case C.SQLITE_DBCONFIG_RESET_DATABASE:case C.SQLITE_DBCONFIG_DEFENSIVE:case C.SQLITE_DBCONFIG_WRITABLE_SCHEMA:case C.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE:case C.SQLITE_DBCONFIG_DQS_DML:case C.SQLITE_DBCONFIG_DQS_DDL:case C.SQLITE_DBCONFIG_ENABLE_VIEW:case C.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT:case C.SQLITE_DBCONFIG_TRUSTED_SCHEMA:case C.SQLITE_DBCONFIG_STMT_SCANSTATUS:case C.SQLITE_DBCONFIG_REVERSE_SCANORDER:return this.ip(H,ne,ie[0],ie[1]||0);case C.SQLITE_DBCONFIG_LOOKASIDE:return this.pii(H,ne,ie[0],ie[1],ie[2]);case C.SQLITE_DBCONFIG_MAINDBNAME:return this.s(H,ne,ie[0]);default:return C.SQLITE_MISUSE}}.bind(Object.create(null)),C.sqlite3_value_to_js=function(H,ne=!0){let ie;const Le=C.sqlite3_value_type(H);switch(Le){case C.SQLITE_INTEGER:M.bigIntEnabled?(ie=C.sqlite3_value_int64(H),Ee.bigIntFitsDouble(ie)&&(ie=Number(ie))):ie=C.sqlite3_value_double(H);break;case C.SQLITE_FLOAT:ie=C.sqlite3_value_double(H);break;case C.SQLITE_TEXT:ie=C.sqlite3_value_text(H);break;case C.SQLITE_BLOB:{const it=C.sqlite3_value_bytes(H),Ot=C.sqlite3_value_blob(H);it&&!Ot&&pe.WasmAllocError.toss("Cannot allocate memory for blob argument of",it,"byte(s)"),ie=it?M.heap8u().slice(Ot,Ot+Number(it)):null;break}case C.SQLITE_NULL:ie=null;break;default:ne&&tt(C.SQLITE_MISMATCH,"Unhandled sqlite3_value_type():",Le),ie=void 0}return ie},C.sqlite3_values_to_js=function(H,ne,ie=!0){let Le;const it=[];for(Le=0;Le<H;++Le)it.push(C.sqlite3_value_to_js(M.peekPtr(ne+M.ptrSizeof*Le),ie));return it},C.sqlite3_result_error_js=function(H,ne){ne instanceof ue?C.sqlite3_result_error_nomem(H):C.sqlite3_result_error(H,""+ne,-1)},C.sqlite3_result_js=function(H,ne){if(ne instanceof Error){C.sqlite3_result_error_js(H,ne);return}try{switch(typeof ne){case"undefined":break;case"boolean":C.sqlite3_result_int(H,ne?1:0);break;case"bigint":Ee.bigIntFits32(ne)?C.sqlite3_result_int(H,Number(ne)):Ee.bigIntFitsDouble(ne)?C.sqlite3_result_double(H,Number(ne)):M.bigIntEnabled?Ee.bigIntFits64(ne)?C.sqlite3_result_int64(H,ne):tt("BigInt value",ne.toString(),"is too BigInt for int64."):tt("BigInt value",ne.toString(),"is too BigInt.");break;case"number":{let ie;Ee.isInt32(ne)?ie=C.sqlite3_result_int:M.bigIntEnabled&&Number.isInteger(ne)&&Ee.bigIntFits64(BigInt(ne))?ie=C.sqlite3_result_int64:ie=C.sqlite3_result_double,ie(H,ne);break}case"string":{const[ie,Le]=M.allocCString(ne,!0);C.sqlite3_result_text(H,ie,Le,C.SQLITE_WASM_DEALLOC);break}case"object":if(ne===null){C.sqlite3_result_null(H);break}else if(Ee.isBindableTypedArray(ne)){const ie=M.allocFromTypedArray(ne);C.sqlite3_result_blob(H,ie,ne.byteLength,C.SQLITE_WASM_DEALLOC);break}default:tt("Don't not how to handle this UDF result value:",typeof ne,ne)}}catch(ie){C.sqlite3_result_error_js(H,ie)}},C.sqlite3_column_js=function(H,ne,ie=!0){const Le=C.sqlite3_column_value(H,ne);return Le===0?void 0:C.sqlite3_value_to_js(Le,ie)};const ae=function(H,ne,ie){ie=C[ie],this.ptr?M.pokePtr(this.ptr,0):this.ptr=M.allocPtr();const Le=ie(H,ne,this.ptr);if(Le)return Qe.toss(Le,arguments[2]+"() failed with code "+Le);const it=M.peekPtr(this.ptr);return it?C.sqlite3_value_to_js(it,!0):void 0}.bind(Object.create(null));C.sqlite3_preupdate_new_js=(H,ne)=>ae(H,ne,"sqlite3_preupdate_new"),C.sqlite3_preupdate_old_js=(H,ne)=>ae(H,ne,"sqlite3_preupdate_old"),C.sqlite3changeset_new_js=(H,ne)=>ae(H,ne,"sqlite3changeset_new"),C.sqlite3changeset_old_js=(H,ne)=>ae(H,ne,"sqlite3changeset_old");const pe={WasmAllocError:ue,SQLite3Error:Qe,capi:C,util:Ee,wasm:M,config:E,version:Object.create(null),client:void 0,asyncPostInit:async function H(){if(H.isReady instanceof Promise)return H.isReady;let ne=y.initializersAsync;delete y.initializersAsync;const ie=async()=>(pe.__isUnderTest||(delete pe.util,delete pe.StructBinder),pe),Le=Ot=>{throw E.error("an async sqlite3 initializer failed:",Ot),Ot};if(!ne||!ne.length)return H.isReady=ie().catch(Le);ne=ne.map(Ot=>Ot instanceof Function?async Bt=>Ot(pe):Ot),ne.push(ie);let it=Promise.resolve(pe);for(;ne.length;)it=it.then(ne.shift());return H.isReady=it.catch(Le)},scriptInfo:void 0};try{y.initializers.forEach(H=>{H(pe)})}catch(H){throw console.error("sqlite3 bootstrap initializer threw:",H),H}return delete y.initializers,y.sqlite3=pe,pe},globalThis.sqlite3ApiBootstrap.initializers=[],globalThis.sqlite3ApiBootstrap.initializersAsync=[],globalThis.sqlite3ApiBootstrap.defaultConfig=Object.create(null),globalThis.sqlite3ApiBootstrap.sqlite3=void 0,globalThis.WhWasmUtilInstaller=function(y){y.bigIntEnabled===void 0&&(y.bigIntEnabled=!!globalThis.BigInt64Array);const S=(...Y)=>{throw new Error(Y.join(" "))};y.exports||Object.defineProperty(y,"exports",{enumerable:!0,configurable:!0,get:()=>y.instance&&y.instance.exports});const E=y.pointerIR||"i32",C=y.ptrSizeof=E==="i32"?4:E==="i64"?8:S("Unhandled ptrSizeof:",E),M=Object.create(null);M.heapSize=0,M.memory=null,M.freeFuncIndexes=[],M.scopedAlloc=[],M.utf8Decoder=new TextDecoder,M.utf8Encoder=new TextEncoder("utf-8"),y.sizeofIR=Y=>{switch(Y){case"i8":return 1;case"i16":return 2;case"i32":case"f32":case"float":return 4;case"i64":case"f64":case"double":return 8;case"*":return C;default:return(""+Y).endsWith("*")?C:void 0}};const fe=function(){if(!M.memory)M.memory=y.memory instanceof WebAssembly.Memory?y.memory:y.exports.memory;else if(M.heapSize===M.memory.buffer.byteLength)return M;const Y=M.memory.buffer;return M.HEAP8=new Int8Array(Y),M.HEAP8U=new Uint8Array(Y),M.HEAP16=new Int16Array(Y),M.HEAP16U=new Uint16Array(Y),M.HEAP32=new Int32Array(Y),M.HEAP32U=new Uint32Array(Y),y.bigIntEnabled&&(M.HEAP64=new BigInt64Array(Y),M.HEAP64U=new BigUint64Array(Y)),M.HEAP32F=new Float32Array(Y),M.HEAP64F=new Float64Array(Y),M.heapSize=Y.byteLength,M};y.heap8=()=>fe().HEAP8,y.heap8u=()=>fe().HEAP8U,y.heap16=()=>fe().HEAP16,y.heap16u=()=>fe().HEAP16U,y.heap32=()=>fe().HEAP32,y.heap32u=()=>fe().HEAP32U,y.heapForSize=function(Y,ue=!0){const Ee=M.memory&&M.heapSize===M.memory.buffer.byteLength?M:fe();switch(Y){case Int8Array:return Ee.HEAP8;case Uint8Array:return Ee.HEAP8U;case Int16Array:return Ee.HEAP16;case Uint16Array:return Ee.HEAP16U;case Int32Array:return Ee.HEAP32;case Uint32Array:return Ee.HEAP32U;case 8:return ue?Ee.HEAP8U:Ee.HEAP8;case 16:return ue?Ee.HEAP16U:Ee.HEAP16;case 32:return ue?Ee.HEAP32U:Ee.HEAP32;case 64:if(Ee.HEAP64)return ue?Ee.HEAP64U:Ee.HEAP64;break;default:if(y.bigIntEnabled){if(Y===globalThis.BigUint64Array)return Ee.HEAP64U;if(Y===globalThis.BigInt64Array)return Ee.HEAP64;break}}S("Invalid heapForSize() size: expecting 8, 16, 32,","or (if BigInt is enabled) 64.")},y.functionTable=function(){return y.exports.__indirect_function_table},y.functionEntry=function(Y){const ue=y.functionTable();return Y<ue.length?ue.get(Y):void 0},y.jsFuncToWasm=function Y(ue,Ee){if(Y._||(Y._={sigTypes:Object.assign(Object.create(null),{i:"i32",p:"i32",P:"i32",s:"i32",j:"i64",f:"f32",d:"f64"}),typeCodes:Object.assign(Object.create(null),{f64:124,f32:125,i64:126,i32:127}),uleb128Encode:function(pe,H,ne){ne<128?pe[H](ne):pe[H](ne%128|128,ne>>7)},rxJSig:/^(\w)\((\w*)\)$/,sigParams:function(pe){const H=Y._.rxJSig.exec(pe);return H?H[2]:pe.substr(1)},letterType:pe=>Y._.sigTypes[pe]||S("Invalid signature letter:",pe),pushSigType:(pe,H)=>pe.push(Y._.typeCodes[Y._.letterType(H)])}),typeof ue=="string"){const pe=Ee;Ee=ue,ue=pe}const st=Y._.sigParams(Ee),ae=[1,96];Y._.uleb128Encode(ae,"push",st.length);for(const pe of st)Y._.pushSigType(ae,pe);return Ee[0]==="v"?ae.push(0):(ae.push(1),Y._.pushSigType(ae,Ee[0])),Y._.uleb128Encode(ae,"unshift",ae.length),ae.unshift(0,97,115,109,1,0,0,0,1),ae.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array(ae)),{e:{f:ue}}).exports.f};const me=function(ue,Ee,st){if(st&&!M.scopedAlloc.length&&S("No scopedAllocPush() scope is active."),typeof ue=="string"){const ne=Ee;Ee=ue,ue=ne}(typeof Ee!="string"||!(ue instanceof Function))&&S("Invalid arguments: expecting (function,signature) or (signature,function).");const ae=y.functionTable(),pe=ae.length;let H;for(;M.freeFuncIndexes.length&&(H=M.freeFuncIndexes.pop(),ae.get(H));){H=null;continue}H||(H=pe,ae.grow(1));try{return ae.set(H,ue),st&&M.scopedAlloc[M.scopedAlloc.length-1].push(H),H}catch(ne){if(!(ne instanceof TypeError))throw H===pe&&M.freeFuncIndexes.push(pe),ne}try{const ne=y.jsFuncToWasm(ue,Ee);ae.set(H,ne),st&&M.scopedAlloc[M.scopedAlloc.length-1].push(H)}catch(ne){throw H===pe&&M.freeFuncIndexes.push(pe),ne}return H};y.installFunction=(Y,ue)=>me(Y,ue,!1),y.scopedInstallFunction=(Y,ue)=>me(Y,ue,!0),y.uninstallFunction=function(Y){if(!Y&&Y!==0)return;const ue=M.freeFuncIndexes,Ee=y.functionTable();ue.push(Y);const st=Ee.get(Y);return Ee.set(Y,null),st},y.peek=function(ue,Ee="i8"){Ee.endsWith("*")&&(Ee=E);const st=M.memory&&M.heapSize===M.memory.buffer.byteLength?M:fe(),ae=Array.isArray(ue)?[]:void 0;let pe;do{switch(ae&&(ue=arguments[0].shift()),Ee){case"i1":case"i8":pe=st.HEAP8[ue>>0];break;case"i16":pe=st.HEAP16[ue>>1];break;case"i32":pe=st.HEAP32[ue>>2];break;case"float":case"f32":pe=st.HEAP32F[ue>>2];break;case"double":case"f64":pe=Number(st.HEAP64F[ue>>3]);break;case"i64":if(y.bigIntEnabled){pe=BigInt(st.HEAP64[ue>>3]);break}default:S("Invalid type for peek():",Ee)}ae&&ae.push(pe)}while(ae&&arguments[0].length);return ae||pe},y.poke=function(Y,ue,Ee="i8"){Ee.endsWith("*")&&(Ee=E);const st=M.memory&&M.heapSize===M.memory.buffer.byteLength?M:fe();for(const ae of Array.isArray(Y)?Y:[Y])switch(Ee){case"i1":case"i8":st.HEAP8[ae>>0]=ue;continue;case"i16":st.HEAP16[ae>>1]=ue;continue;case"i32":st.HEAP32[ae>>2]=ue;continue;case"float":case"f32":st.HEAP32F[ae>>2]=ue;continue;case"double":case"f64":st.HEAP64F[ae>>3]=ue;continue;case"i64":if(st.HEAP64){st.HEAP64[ae>>3]=BigInt(ue);continue}default:S("Invalid type for poke(): "+Ee)}return this},y.peekPtr=(...Y)=>y.peek(Y.length===1?Y[0]:Y,E),y.pokePtr=(Y,ue=0)=>y.poke(Y,ue,E),y.peek8=(...Y)=>y.peek(Y.length===1?Y[0]:Y,"i8"),y.poke8=(Y,ue)=>y.poke(Y,ue,"i8"),y.peek16=(...Y)=>y.peek(Y.length===1?Y[0]:Y,"i16"),y.poke16=(Y,ue)=>y.poke(Y,ue,"i16"),y.peek32=(...Y)=>y.peek(Y.length===1?Y[0]:Y,"i32"),y.poke32=(Y,ue)=>y.poke(Y,ue,"i32"),y.peek64=(...Y)=>y.peek(Y.length===1?Y[0]:Y,"i64"),y.poke64=(Y,ue)=>y.poke(Y,ue,"i64"),y.peek32f=(...Y)=>y.peek(Y.length===1?Y[0]:Y,"f32"),y.poke32f=(Y,ue)=>y.poke(Y,ue,"f32"),y.peek64f=(...Y)=>y.peek(Y.length===1?Y[0]:Y,"f64"),y.poke64f=(Y,ue)=>y.poke(Y,ue,"f64"),y.getMemValue=y.peek,y.getPtrValue=y.peekPtr,y.setMemValue=y.poke,y.setPtrValue=y.pokePtr,y.isPtr32=Y=>typeof Y=="number"&&Y===(Y|0)&&Y>=0,y.isPtr=y.isPtr32,y.cstrlen=function(Y){if(!Y||!y.isPtr(Y))return null;const ue=fe().HEAP8U;let Ee=Y;for(;ue[Ee]!==0;++Ee);return Ee-Y};const Qe=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,tt=function(Y,ue,Ee){return M.utf8Decoder.decode(Y.buffer instanceof Qe?Y.slice(ue,Ee):Y.subarray(ue,Ee))};y.cstrToJs=function(Y){const ue=y.cstrlen(Y);return ue?tt(fe().HEAP8U,Y,Y+ue):ue===null?ue:""},y.jstrlen=function(Y){if(typeof Y!="string")return null;const ue=Y.length;let Ee=0;for(let st=0;st<ue;++st){let ae=Y.charCodeAt(st);ae>=55296&&ae<=57343&&(ae=65536+((ae&1023)<<10)|Y.charCodeAt(++st)&1023),ae<=127?++Ee:ae<=2047?Ee+=2:ae<=65535?Ee+=3:Ee+=4}return Ee},y.jstrcpy=function(Y,ue,Ee=0,st=-1,ae=!0){if((!ue||!(ue instanceof Int8Array)&&!(ue instanceof Uint8Array))&&S("jstrcpy() target must be an Int8Array or Uint8Array."),st<0&&(st=ue.length-Ee),!(st>0)||!(Ee>=0))return 0;let pe=0,H=Y.length;const ne=Ee,ie=Ee+st-(ae?1:0);for(;pe<H&&Ee<ie;++pe){let Le=Y.charCodeAt(pe);if(Le>=55296&&Le<=57343&&(Le=65536+((Le&1023)<<10)|Y.charCodeAt(++pe)&1023),Le<=127){if(Ee>=ie)break;ue[Ee++]=Le}else if(Le<=2047){if(Ee+1>=ie)break;ue[Ee++]=192|Le>>6,ue[Ee++]=128|Le&63}else if(Le<=65535){if(Ee+2>=ie)break;ue[Ee++]=224|Le>>12,ue[Ee++]=128|Le>>6&63,ue[Ee++]=128|Le&63}else{if(Ee+3>=ie)break;ue[Ee++]=240|Le>>18,ue[Ee++]=128|Le>>12&63,ue[Ee++]=128|Le>>6&63,ue[Ee++]=128|Le&63}}return ae&&(ue[Ee++]=0),Ee-ne},y.cstrncpy=function(Y,ue,Ee){if((!Y||!ue)&&S("cstrncpy() does not accept NULL strings."),Ee<0)Ee=y.cstrlen(strPtr)+1;else if(!(Ee>0))return 0;const st=y.heap8u();let ae=0,pe;for(;ae<Ee&&(pe=st[ue+ae]);++ae)st[Y+ae]=pe;return ae<Ee&&(st[Y+ae++]=0),ae},y.jstrToUintArray=(Y,ue=!1)=>M.utf8Encoder.encode(ue?Y+"\0":Y);const at=(Y,ue)=>{(!(Y.alloc instanceof Function)||!(Y.dealloc instanceof Function))&&S("Object is missing alloc() and/or dealloc() function(s)","required by",ue+"().")},mt=function(Y,ue,Ee,st){if(at(y,st),typeof Y!="string")return null;{const ae=M.utf8Encoder.encode(Y),pe=Ee(ae.length+1),H=fe().HEAP8U;return H.set(ae,pe),H[pe+ae.length]=0,ue?[pe,ae.length]:pe}};y.allocCString=(Y,ue=!1)=>mt(Y,ue,y.alloc,"allocCString()"),y.scopedAllocPush=function(){at(y,"scopedAllocPush");const Y=[];return M.scopedAlloc.push(Y),Y},y.scopedAllocPop=function(Y){at(y,"scopedAllocPop");const ue=arguments.length?M.scopedAlloc.indexOf(Y):M.scopedAlloc.length-1;ue<0&&S("Invalid state object for scopedAllocPop()."),arguments.length===0&&(Y=M.scopedAlloc[ue]),M.scopedAlloc.splice(ue,1);for(let Ee;Ee=Y.pop();)y.functionEntry(Ee)?y.uninstallFunction(Ee):y.dealloc(Ee)},y.scopedAlloc=function(Y){M.scopedAlloc.length||S("No scopedAllocPush() scope is active.");const ue=y.alloc(Y);return M.scopedAlloc[M.scopedAlloc.length-1].push(ue),ue},Object.defineProperty(y.scopedAlloc,"level",{configurable:!1,enumerable:!1,get:()=>M.scopedAlloc.length,set:()=>S("The 'active' property is read-only.")}),y.scopedAllocCString=(Y,ue=!1)=>mt(Y,ue,y.scopedAlloc,"scopedAllocCString()");const Be=function(Y,ue){const Ee=y[Y?"scopedAlloc":"alloc"]((ue.length+1)*y.ptrSizeof);let st=0;return ue.forEach(ae=>{y.pokePtr(Ee+y.ptrSizeof*st++,y[Y?"scopedAllocCString":"allocCString"](""+ae))}),y.pokePtr(Ee+y.ptrSizeof*st,0),Ee};y.scopedAllocMainArgv=Y=>Be(!0,Y),y.allocMainArgv=Y=>Be(!1,Y),y.cArgvToJs=(Y,ue)=>{const Ee=[];for(let st=0;st<Y;++st){const ae=y.peekPtr(ue+y.ptrSizeof*st);Ee.push(ae?y.cstrToJs(ae):null)}return Ee},y.scopedAllocCall=function(Y){y.scopedAllocPush();try{return Y()}finally{y.scopedAllocPop()}};const Re=function(Y,ue,Ee){at(y,Ee);const st=ue?"i64":E;let ae=y[Ee](Y*(ue?8:C));if(y.poke(ae,0,st),Y===1)return ae;const pe=[ae];for(let H=1;H<Y;++H)ae+=ue?8:C,pe[H]=ae,y.poke(ae,0,st);return pe};y.allocPtr=(Y=1,ue=!0)=>Re(Y,ue,"alloc"),y.scopedAllocPtr=(Y=1,ue=!0)=>Re(Y,ue,"scopedAlloc"),y.xGet=function(Y){return y.exports[Y]||S("Cannot find exported symbol:",Y)};const et=(Y,ue)=>S(Y+"() requires",ue,"argument(s).");y.xCall=function(Y,...ue){const Ee=Y instanceof Function?Y:y.xGet(Y);return Ee instanceof Function||S("Exported symbol",Y,"is not a function."),Ee.length!==ue.length&&et(Ee===Y?Ee.name:Y,Ee.length),arguments.length===2&&Array.isArray(arguments[1])?Ee.apply(null,arguments[1]):Ee.apply(null,ue)},M.xWrap=Object.create(null),M.xWrap.convert=Object.create(null),M.xWrap.convert.arg=new Map,M.xWrap.convert.result=new Map;const be=M.xWrap.convert.arg,Ie=M.xWrap.convert.result;y.bigIntEnabled&&be.set("i64",Y=>BigInt(Y));const Te=E==="i32"?Y=>Y|0:Y=>BigInt(Y)|BigInt(0);be.set("i32",Te).set("i16",Y=>(Y|0)&65535).set("i8",Y=>(Y|0)&255).set("f32",Y=>Number(Y).valueOf()).set("float",be.get("f32")).set("f64",be.get("f32")).set("double",be.get("f64")).set("int",be.get("i32")).set("null",Y=>Y).set(null,be.get("null")).set("**",Te).set("*",Te),Ie.set("*",Te).set("pointer",Te).set("number",Y=>Number(Y)).set("void",Y=>{}).set("null",Y=>Y).set(null,Ie.get("null"));{const Y=["i8","i16","i32","int","f32","float","f64","double"];y.bigIntEnabled&&Y.push("i64");const ue=be.get(E);for(const Ee of Y)be.set(Ee+"*",ue),Ie.set(Ee+"*",ue),Ie.set(Ee,be.get(Ee)||S("Missing arg converter:",Ee))}const Je=function(Y){return typeof Y=="string"?y.scopedAllocCString(Y):Y?Te(Y):null};be.set("string",Je).set("utf8",Je).set("pointer",Je),Ie.set("string",Y=>y.cstrToJs(Y)).set("utf8",Ie.get("string")).set("string:dealloc",Y=>{try{return Y?y.cstrToJs(Y):null}finally{y.dealloc(Y)}}).set("utf8:dealloc",Ie.get("string:dealloc")).set("json",Y=>JSON.parse(y.cstrToJs(Y))).set("json:dealloc",Y=>{try{return Y?JSON.parse(y.cstrToJs(Y)):null}finally{y.dealloc(Y)}});const Ge=class{constructor(Y){this.name=Y.name||"unnamed adapter"}convertArg(Y,ue,Ee){S("AbstractArgAdapter must be subclassed.")}};be.FuncPtrAdapter=class ka extends Ge{constructor(ue){super(ue),be.FuncPtrAdapter.warnOnUse&&console.warn("xArg.FuncPtrAdapter is an internal-only API","and is not intended to be invoked from","client-level code. Invoked with:",ue),this.name=ue.name||"unnamed",this.signature=ue.signature,ue.contextKey instanceof Function&&(this.contextKey=ue.contextKey,ue.bindScope||(ue.bindScope="context")),this.bindScope=ue.bindScope||S("FuncPtrAdapter options requires a bindScope (explicit or implied)."),ka.bindScopes.indexOf(ue.bindScope)<0&&S("Invalid options.bindScope ("+ue.bindMod+") for FuncPtrAdapter. Expecting one of: ("+ka.bindScopes.join(", ")+")"),this.isTransient=this.bindScope==="transient",this.isContext=this.bindScope==="context",this.isPermanent=this.bindScope==="permanent",this.singleton=this.bindScope==="singleton"?[]:void 0,this.callProxy=ue.callProxy instanceof Function?ue.callProxy:void 0}contextKey(ue,Ee){return this}contextMap(ue){const Ee=this.__cmap||(this.__cmap=new Map);let st=Ee.get(ue);return st===void 0&&Ee.set(ue,st=[]),st}convertArg(ue,Ee,st){let ae=this.singleton;if(!ae&&this.isContext&&(ae=this.contextMap(this.contextKey(Ee,st))),ae&&ae[0]===ue)return ae[1];if(ue instanceof Function){this.callProxy&&(ue=this.callProxy(ue));const pe=me(ue,this.signature,this.isTransient);if(ka.debugFuncInstall&&ka.debugOut("FuncPtrAdapter installed",this,this.contextKey(Ee,st),"@"+pe,ue),ae){if(ae[1]){ka.debugFuncInstall&&ka.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(Ee,st),"@"+ae[1],ue);try{M.scopedAlloc[M.scopedAlloc.length-1].push(ae[1])}catch{}}ae[0]=ue,ae[1]=pe}return pe}else if(y.isPtr(ue)||ue===null||ue===void 0){if(ae&&ae[1]&&ae[1]!==ue){ka.debugFuncInstall&&ka.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(Ee,st),"@"+ae[1],ue);try{M.scopedAlloc[M.scopedAlloc.length-1].push(ae[1])}catch{}ae[0]=ae[1]=ue|0}return ue||0}else throw new TypeError("Invalid FuncPtrAdapter argument type. Expecting a function pointer or a "+(this.name?this.name+" ":"")+"function matching signature "+this.signature+".")}},be.FuncPtrAdapter.warnOnUse=!1,be.FuncPtrAdapter.debugFuncInstall=!1,be.FuncPtrAdapter.debugOut=console.debug.bind(console),be.FuncPtrAdapter.bindScopes=["transient","context","singleton","permanent"];const Oe=Y=>be.get(Y)||S("Argument adapter not found:",Y),Ke=Y=>Ie.get(Y)||S("Result adapter not found:",Y);M.xWrap.convertArg=(Y,...ue)=>Oe(Y)(...ue),M.xWrap.convertArgNoCheck=(Y,...ue)=>be.get(Y)(...ue),M.xWrap.convertResult=(Y,ue)=>Y===null?ue:Y?Ke(Y)(ue):void 0,M.xWrap.convertResultNoCheck=(Y,ue)=>Y===null?ue:Y?Ie.get(Y)(ue):void 0,y.xWrap=function(Y,ue,...Ee){arguments.length===3&&Array.isArray(arguments[2])&&(Ee=arguments[2]),y.isPtr(Y)&&(Y=y.functionEntry(Y)||S("Function pointer not found in WASM function table."));const st=Y instanceof Function,ae=st?Y:y.xGet(Y);if(st&&(Y=ae.name||"unnamed function"),Ee.length!==ae.length&&et(Y,ae.length),ue===null&&ae.length===0)return ae;ue!=null&&Ke(ue);for(const H of Ee)H instanceof Ge?be.set(H,(...ne)=>H.convertArg(...ne)):Oe(H);const pe=M.xWrap;return ae.length===0?(...H)=>H.length?et(Y,ae.length):pe.convertResult(ue,ae.call(null)):function(...H){H.length!==ae.length&&et(Y,ae.length);const ne=y.scopedAllocPush();try{let ie=0;for(;ie<H.length;++ie)H[ie]=pe.convertArgNoCheck(Ee[ie],H[ie],H,ie);return pe.convertResultNoCheck(ue,ae.apply(null,H))}finally{y.scopedAllocPop(ne)}}};const St=function(Y,ue,Ee,st,ae,pe){if(typeof Ee=="string"){if(ue===1)return pe.get(Ee);if(ue===2){if(st)st instanceof Function||S(ae,"requires a function argument.");else return delete pe.get(Ee),Y;return pe.set(Ee,st),Y}}S("Invalid arguments to",ae)};return y.xWrap.resultAdapter=function Y(ue,Ee){return St(Y,arguments.length,ue,Ee,"resultAdapter()",Ie)},y.xWrap.argAdapter=function Y(ue,Ee){return St(Y,arguments.length,ue,Ee,"argAdapter()",be)},y.xWrap.FuncPtrAdapter=be.FuncPtrAdapter,y.xCallWrapped=function(Y,ue,Ee,...st){return Array.isArray(arguments[3])&&(st=arguments[3]),y.xWrap(Y,ue,Ee||[]).apply(null,st||[])},y.xWrap.testConvertArg=M.xWrap.convertArg,y.xWrap.testConvertResult=M.xWrap.convertResult,y},globalThis.WhWasmUtilInstaller.yawl=function(y){const S=()=>fetch(y.uri,{credentials:"same-origin"}),E=this,C=function(fe){if(y.wasmUtilTarget){const me=(...tt)=>{throw new Error(tt.join(" "))},Qe=y.wasmUtilTarget;if(Qe.module=fe.module,Qe.instance=fe.instance,Qe.instance.exports.memory||(Qe.memory=y.imports&&y.imports.env&&y.imports.env.memory||me("Missing 'memory' object!")),!Qe.alloc&&fe.instance.exports.malloc){const tt=fe.instance.exports;Qe.alloc=function(at){return tt.malloc(at)||me("Allocation of",at,"bytes failed.")},Qe.dealloc=function(at){tt.free(at)}}E(Qe)}return y.onload&&y.onload(fe,y),fe};return WebAssembly.instantiateStreaming?function(){return WebAssembly.instantiateStreaming(S(),y.imports||{}).then(C)}:function(){return S().then(me=>me.arrayBuffer()).then(me=>WebAssembly.instantiate(me,y.imports||{})).then(C)}}.bind(globalThis.WhWasmUtilInstaller),globalThis.Jaccwabyt=function y(S){const E=(...We)=>{throw new Error(We.join(" "))};!(S.heap instanceof WebAssembly.Memory)&&!(S.heap instanceof Function)&&E("config.heap must be WebAssembly.Memory instance or a function."),["alloc","dealloc"].forEach(function(We){S[We]instanceof Function||E("Config option '"+We+"' must be a function.")});const C=y,M=S.heap instanceof Function?S.heap:()=>new Uint8Array(S.heap.buffer),fe=S.alloc,me=S.dealloc,Qe=S.log||console.log.bind(console),tt=S.memberPrefix||"",at=S.memberSuffix||"",mt=S.bigIntEnabled===void 0?!!globalThis.BigInt64Array:!!S.bigIntEnabled,Be=globalThis.BigInt,Re=globalThis.BigInt64Array,et=S.ptrSizeof||4,be=S.ptrIR||"i32";C.debugFlags||(C.__makeDebugFlags=function(We=null){We&&We.__flags&&(We=We.__flags);const vt=function wt(kt){return arguments.length===0?wt.__flags:(kt<0?(delete wt.__flags.getter,delete wt.__flags.setter,delete wt.__flags.alloc,delete wt.__flags.dealloc):(wt.__flags.getter=(1&kt)!==0,wt.__flags.setter=(2&kt)!==0,wt.__flags.alloc=(4&kt)!==0,wt.__flags.dealloc=(8&kt)!==0),wt._flags)};return Object.defineProperty(vt,"__flags",{iterable:!1,writable:!1,value:Object.create(We)}),We||vt(0),vt},C.debugFlags=C.__makeDebugFlags());const Ie=function(){const We=new ArrayBuffer(2);return new DataView(We).setInt16(0,256,!0),new Int16Array(We)[0]===256}(),Te=We=>We[1]==="(",Je=We=>We==="P",Ge=We=>Te(We)?"p":We[0],Oe=function(We){switch(Ge(We)){case"c":case"C":return"i8";case"i":return"i32";case"p":case"P":case"s":return be;case"j":return"i64";case"f":return"float";case"d":return"double"}E("Unhandled signature IR:",We)},Ke=Re?()=>!0:()=>E("BigInt64Array is not available."),St=function(We){switch(Ge(We)){case"p":case"P":case"s":{switch(et){case 4:return"getInt32";case 8:return Ke()&&"getBigInt64"}break}case"i":return"getInt32";case"c":return"getInt8";case"C":return"getUint8";case"j":return Ke()&&"getBigInt64";case"f":return"getFloat32";case"d":return"getFloat64"}E("Unhandled DataView getter for signature:",We)},Y=function(We){switch(Ge(We)){case"p":case"P":case"s":{switch(et){case 4:return"setInt32";case 8:return Ke()&&"setBigInt64"}break}case"i":return"setInt32";case"c":return"setInt8";case"C":return"setUint8";case"j":return Ke()&&"setBigInt64";case"f":return"setFloat32";case"d":return"setFloat64"}E("Unhandled DataView setter for signature:",We)},ue=function(We){switch(Ge(We)){case"i":case"f":case"c":case"C":case"d":return Number;case"j":return Ke()&&Be;case"p":case"P":case"s":switch(et){case 4:return Number;case 8:return Ke()&&Be}break}E("Unhandled DataView set wrapper for signature:",We)},Ee=(We,vt)=>We+"::"+vt,st=function(We,vt){return()=>E(Ee(We,vt),"is read-only.")},ae=new WeakMap,pe="(pointer-is-external)",H=function(We,vt,wt){if(wt||(wt=ae.get(vt)),wt){if(ae.delete(vt),Array.isArray(vt.ondispose)){let kt;for(;kt=vt.ondispose.shift();)try{kt instanceof Function?kt.call(vt):kt instanceof $t?kt.dispose():typeof kt=="number"&&me(kt)}catch(hn){console.warn("ondispose() for",We.structName,"@",wt,"threw. NOT propagating it.",hn)}}else if(vt.ondispose instanceof Function)try{vt.ondispose()}catch(kt){console.warn("ondispose() for",We.structName,"@",wt,"threw. NOT propagating it.",kt)}delete vt.ondispose,We.debugFlags.__flags.dealloc&&Qe("debug.dealloc:",vt[pe]?"EXTERNAL":"",We.structName,"instance:",We.structInfo.sizeof,"bytes @"+wt),vt[pe]||me(wt)}},ne=We=>({configurable:!1,writable:!1,iterable:!1,value:We}),ie=function(We,vt,wt){let kt=!wt;wt?Object.defineProperty(vt,pe,ne(wt)):(wt=fe(We.structInfo.sizeof),wt||E("Allocation of",We.structName,"structure failed."));try{We.debugFlags.__flags.alloc&&Qe("debug.alloc:",kt?"":"EXTERNAL",We.structName,"instance:",We.structInfo.sizeof,"bytes @"+wt),kt&&M().fill(0,wt,wt+We.structInfo.sizeof),ae.set(vt,wt)}catch(hn){throw H(We,vt,wt),hn}},Le=function(){const We=this.pointer;return We?new Uint8Array(M().slice(We,We+this.structInfo.sizeof)):null},Ot=ne(We=>tt+We+at),Bt=function(We,vt,wt=!0){let kt=We.members[vt];if(!kt&&(tt||at)){for(const hn of Object.values(We.members))if(hn.key===vt){kt=hn;break}!kt&&wt&&E(Ee(We.name,vt),"is not a mapped struct member.")}return kt},Gt=function We(vt,wt,kt=!1){We._||(We._=Vn=>Vn.replace(/[^vipPsjrdcC]/g,"").replace(/[pPscC]/g,"i"));const hn=Bt(vt.structInfo,wt,!0);return kt?We._(hn.signature):hn.signature},lt={configurable:!1,enumerable:!1,get:function(){return ae.get(this)},set:()=>E("Cannot assign the 'pointer' property of a struct.")},_e=ne(function(){const We=[];for(const vt of Object.keys(this.structInfo.members))We.push(this.memberKey(vt));return We}),Pe=new TextDecoder("utf-8"),ot=new TextEncoder,pt=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,Pt=function(We,vt,wt){return Pe.decode(We.buffer instanceof pt?We.slice(vt,wt):We.subarray(vt,wt))},Zt=function(We,vt,wt=!1){const kt=Bt(We.structInfo,vt,wt);return kt&&kt.signature.length===1&&kt.signature[0]==="s"?kt:!1},je=function(We){We.signature!=="s"&&E("Invalid member type signature for C-string value:",JSON.stringify(We))},nt=function(vt,wt){const kt=Bt(vt.structInfo,wt,!0);je(kt);const hn=vt[kt.key];if(!hn)return null;let Vn=hn;const $n=M();for(;$n[Vn]!==0;++Vn);return hn===Vn?"":Pt($n,hn,Vn)},dt=function(We,...vt){We.ondispose?Array.isArray(We.ondispose)||(We.ondispose=[We.ondispose]):We.ondispose=[],We.ondispose.push(...vt)},Nt=function(We){const vt=ot.encode(We),wt=fe(vt.length+1);wt||E("Allocation error while duplicating string:",We);const kt=M();return kt.set(vt,wt),kt[wt+vt.length]=0,wt},xt=function(We,vt,wt){const kt=Bt(We.structInfo,vt,!0);je(kt);const hn=Nt(wt);return We[kt.key]=hn,dt(We,hn),We},$t=function(vt,wt){arguments[2]!==ne&&E("Do not call the StructType constructor","from client-level code."),Object.defineProperties(this,{structName:ne(vt),structInfo:ne(wt)})};$t.prototype=Object.create(null,{dispose:ne(function(){H(this.constructor,this)}),lookupMember:ne(function(We,vt=!0){return Bt(this.structInfo,We,vt)}),memberToJsString:ne(function(We){return nt(this,We)}),memberIsString:ne(function(We,vt=!0){return Zt(this,We,vt)}),memberKey:Ot,memberKeys:_e,memberSignature:ne(function(We,vt=!1){return Gt(this,We,vt)}),memoryDump:ne(Le),pointer:lt,setMemberCString:ne(function(We,vt){return xt(this,We,vt)})}),Object.assign($t.prototype,{addOnDispose:function(...We){return dt(this,...We),this}}),Object.defineProperties($t,{allocCString:ne(Nt),isA:ne(We=>We instanceof $t),hasExternalPointer:ne(We=>We instanceof $t&&!!We[pe]),memberKey:Ot});const pn=We=>Number.isFinite(We)||We instanceof(Be||Number),qt=function We(vt,wt,kt){if(!We._){We._={getters:{},setters:{},sw:{}};const oi=["i","c","C","p","P","s","f","d","v()"];mt&&oi.push("j"),oi.forEach(function($s){We._.getters[$s]=St($s),We._.setters[$s]=Y($s),We._.sw[$s]=ue($s)});const ix=/^[ipPsjfdcC]$/,sx=/^[vipPsjfdcC]\([ipPsjfdcC]*\)$/;We.sigCheck=function($s,ox,Nm,jf){Object.prototype.hasOwnProperty.call($s,Nm)&&E($s.structName,"already has a property named",Nm+"."),ix.test(jf)||sx.test(jf)||E("Malformed signature for",Ee($s.structName,ox)+":",jf)}}const hn=vt.memberKey(wt);We.sigCheck(vt.prototype,wt,hn,kt.signature),kt.key=hn,kt.name=wt;const Vn=Ge(kt.signature),$n=Ee(vt.prototype.structName,hn),Wn=vt.prototype.debugFlags.__flags,ua=Object.create(null);ua.configurable=!1,ua.enumerable=!1,ua.get=function(){Wn.getter&&Qe("debug.getter:",We._.getters[Vn],"for",Oe(Vn),$n,"@",this.pointer,"+",kt.offset,"sz",kt.sizeof);let oi=new DataView(M().buffer,this.pointer+kt.offset,kt.sizeof)[We._.getters[Vn]](0,Ie);return Wn.getter&&Qe("debug.getter:",$n,"result =",oi),oi},kt.readOnly?ua.set=st(vt.prototype.structName,hn):ua.set=function(oi){if(Wn.setter&&Qe("debug.setter:",We._.setters[Vn],"for",Oe(Vn),$n,"@",this.pointer,"+",kt.offset,"sz",kt.sizeof,oi),this.pointer||E("Cannot set struct property on disposed instance."),oi===null)oi=0;else for(;!pn(oi);){if(Je(kt.signature)&&oi instanceof $t){oi=oi.pointer||0,Wn.setter&&Qe("debug.setter:",$n,"resolved to",oi);break}E("Invalid value for pointer-type",$n+".")}new DataView(M().buffer,this.pointer+kt.offset,kt.sizeof)[We._.setters[Vn]](0,We._.sw[Vn](oi),Ie)},Object.defineProperty(vt.prototype,hn,ua)},xr=function We(vt,wt){arguments.length===1?(wt=vt,vt=wt.name):wt.name||(wt.name=vt),vt||E("Struct name is required.");let kt=!1;Object.keys(wt.members).forEach($n=>{const Wn=wt.members[$n];Wn.sizeof?Wn.sizeof===1?Wn.signature==="c"||Wn.signature==="C"||E("Unexpected sizeof==1 member",Ee(wt.name,$n),"with signature",Wn.signature):(Wn.sizeof%4!==0&&(console.warn("Invalid struct member description =",Wn,"from",wt),E(vt,"member",$n,"sizeof is not aligned. sizeof="+Wn.sizeof)),Wn.offset%4!==0&&(console.warn("Invalid struct member description =",Wn,"from",wt),E(vt,"member",$n,"offset is not aligned. offset="+Wn.offset))):E(vt,"member",$n,"is missing sizeof."),(!kt||kt.offset<Wn.offset)&&(kt=Wn)}),kt?wt.sizeof<kt.offset+kt.sizeof&&E("Invalid struct config:",vt,"max member offset ("+kt.offset+") ","extends past end of struct (sizeof="+wt.sizeof+")."):E("No member property descriptions found.");const hn=ne(C.__makeDebugFlags(We.debugFlags)),Vn=function $n(Wn){this instanceof $n?arguments.length?((Wn!==(Wn|0)||Wn<=0)&&E("Invalid pointer value for",vt,"constructor."),ie($n,this,Wn)):ie($n,this):E("The",vt,"constructor may only be called via 'new'.")};return Object.defineProperties(Vn,{debugFlags:hn,isA:ne($n=>$n instanceof Vn),memberKey:Ot,memberKeys:_e,methodInfoForKey:ne(function($n){}),structInfo:ne(wt),structName:ne(vt)}),Vn.prototype=new $t(vt,wt,ne),Object.defineProperties(Vn.prototype,{debugFlags:hn,constructor:ne(Vn)}),Object.keys(wt.members).forEach($n=>qt(Vn,$n,wt.members[$n])),Vn};return xr.StructType=$t,xr.config=S,xr.allocCString=Nt,xr.debugFlags||(xr.debugFlags=C.__makeDebugFlags(C.debugFlags)),xr},globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=(...be)=>{throw new Error(be.join(" "))};y.SQLite3Error.toss;const E=y.capi,C=y.wasm,M=y.util;if(globalThis.WhWasmUtilInstaller(C),delete globalThis.WhWasmUtilInstaller,C.bindingSignatures=[["sqlite3_aggregate_context","void*","sqlite3_context*","int"],["sqlite3_bind_double","int","sqlite3_stmt*","int","f64"],["sqlite3_bind_int","int","sqlite3_stmt*","int","int"],["sqlite3_bind_null",void 0,"sqlite3_stmt*","int"],["sqlite3_bind_parameter_count","int","sqlite3_stmt*"],["sqlite3_bind_parameter_index","int","sqlite3_stmt*","string"],["sqlite3_bind_parameter_name","string","sqlite3_stmt*","int"],["sqlite3_bind_pointer","int","sqlite3_stmt*","int","*","string:static","*"],["sqlite3_busy_handler","int",["sqlite3*",new C.xWrap.FuncPtrAdapter({signature:"i(pi)",contextKey:(be,Ie)=>be[0]}),"*"]],["sqlite3_busy_timeout","int","sqlite3*","int"],["sqlite3_changes","int","sqlite3*"],["sqlite3_clear_bindings","int","sqlite3_stmt*"],["sqlite3_collation_needed","int","sqlite3*","*","*"],["sqlite3_column_blob","*","sqlite3_stmt*","int"],["sqlite3_column_bytes","int","sqlite3_stmt*","int"],["sqlite3_column_count","int","sqlite3_stmt*"],["sqlite3_column_decltype","string","sqlite3_stmt*","int"],["sqlite3_column_double","f64","sqlite3_stmt*","int"],["sqlite3_column_int","int","sqlite3_stmt*","int"],["sqlite3_column_name","string","sqlite3_stmt*","int"],["sqlite3_column_text","string","sqlite3_stmt*","int"],["sqlite3_column_type","int","sqlite3_stmt*","int"],["sqlite3_column_value","sqlite3_value*","sqlite3_stmt*","int"],["sqlite3_commit_hook","void*",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"sqlite3_commit_hook",signature:"i(p)",contextKey:be=>be[0]}),"*"]],["sqlite3_compileoption_get","string","int"],["sqlite3_compileoption_used","int","string"],["sqlite3_complete","int","string:flexible"],["sqlite3_context_db_handle","sqlite3*","sqlite3_context*"],["sqlite3_data_count","int","sqlite3_stmt*"],["sqlite3_db_filename","string","sqlite3*","string"],["sqlite3_db_handle","sqlite3*","sqlite3_stmt*"],["sqlite3_db_name","string","sqlite3*","int"],["sqlite3_db_readonly","int","sqlite3*","string"],["sqlite3_db_status","int","sqlite3*","int","*","*","int"],["sqlite3_errcode","int","sqlite3*"],["sqlite3_errmsg","string","sqlite3*"],["sqlite3_error_offset","int","sqlite3*"],["sqlite3_errstr","string","int"],["sqlite3_exec","int",["sqlite3*","string:flexible",new C.xWrap.FuncPtrAdapter({signature:"i(pipp)",bindScope:"transient",callProxy:be=>{let Ie;return(Te,Je,Ge,Oe)=>{try{const Ke=C.cArgvToJs(Je,Ge);return Ie||(Ie=C.cArgvToJs(Je,Oe)),be(Ke,Ie)|0}catch(Ke){return Ke.resultCode||E.SQLITE_ERROR}}}}),"*","**"]],["sqlite3_expanded_sql","string","sqlite3_stmt*"],["sqlite3_extended_errcode","int","sqlite3*"],["sqlite3_extended_result_codes","int","sqlite3*","int"],["sqlite3_file_control","int","sqlite3*","string","int","*"],["sqlite3_finalize","int","sqlite3_stmt*"],["sqlite3_free",void 0,"*"],["sqlite3_get_autocommit","int","sqlite3*"],["sqlite3_get_auxdata","*","sqlite3_context*","int"],["sqlite3_initialize",void 0],["sqlite3_interrupt",void 0,"sqlite3*"],["sqlite3_is_interrupted","int","sqlite3*"],["sqlite3_keyword_count","int"],["sqlite3_keyword_name","int",["int","**","*"]],["sqlite3_keyword_check","int",["string","int"]],["sqlite3_libversion","string"],["sqlite3_libversion_number","int"],["sqlite3_limit","int",["sqlite3*","int","int"]],["sqlite3_malloc","*","int"],["sqlite3_open","int","string","*"],["sqlite3_open_v2","int","string","*","int","string"],["sqlite3_realloc","*","*","int"],["sqlite3_reset","int","sqlite3_stmt*"],["sqlite3_result_blob",void 0,"sqlite3_context*","*","int","*"],["sqlite3_result_double",void 0,"sqlite3_context*","f64"],["sqlite3_result_error",void 0,"sqlite3_context*","string","int"],["sqlite3_result_error_code",void 0,"sqlite3_context*","int"],["sqlite3_result_error_nomem",void 0,"sqlite3_context*"],["sqlite3_result_error_toobig",void 0,"sqlite3_context*"],["sqlite3_result_int",void 0,"sqlite3_context*","int"],["sqlite3_result_null",void 0,"sqlite3_context*"],["sqlite3_result_pointer",void 0,"sqlite3_context*","*","string:static","*"],["sqlite3_result_subtype",void 0,"sqlite3_value*","int"],["sqlite3_result_text",void 0,"sqlite3_context*","string","int","*"],["sqlite3_result_zeroblob",void 0,"sqlite3_context*","int"],["sqlite3_rollback_hook","void*",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"sqlite3_rollback_hook",signature:"v(p)",contextKey:be=>be[0]}),"*"]],["sqlite3_set_auxdata",void 0,["sqlite3_context*","int","*",new C.xWrap.FuncPtrAdapter({name:"xDestroyAuxData",signature:"v(*)",contextKey:(be,Ie)=>be[0]})]],["sqlite3_shutdown",void 0],["sqlite3_sourceid","string"],["sqlite3_sql","string","sqlite3_stmt*"],["sqlite3_status","int","int","*","*","int"],["sqlite3_step","int","sqlite3_stmt*"],["sqlite3_stmt_busy","int","sqlite3_stmt*"],["sqlite3_stmt_readonly","int","sqlite3_stmt*"],["sqlite3_stmt_status","int","sqlite3_stmt*","int","int"],["sqlite3_strglob","int","string","string"],["sqlite3_stricmp","int","string","string"],["sqlite3_strlike","int","string","string","int"],["sqlite3_strnicmp","int","string","string","int"],["sqlite3_table_column_metadata","int","sqlite3*","string","string","string","**","**","*","*","*"],["sqlite3_total_changes","int","sqlite3*"],["sqlite3_trace_v2","int",["sqlite3*","int",new C.xWrap.FuncPtrAdapter({name:"sqlite3_trace_v2::callback",signature:"i(ippp)",contextKey:(be,Ie)=>be[0]}),"*"]],["sqlite3_txn_state","int",["sqlite3*","string"]],["sqlite3_uri_boolean","int","sqlite3_filename","string","int"],["sqlite3_uri_key","string","sqlite3_filename","int"],["sqlite3_uri_parameter","string","sqlite3_filename","string"],["sqlite3_user_data","void*","sqlite3_context*"],["sqlite3_value_blob","*","sqlite3_value*"],["sqlite3_value_bytes","int","sqlite3_value*"],["sqlite3_value_double","f64","sqlite3_value*"],["sqlite3_value_dup","sqlite3_value*","sqlite3_value*"],["sqlite3_value_free",void 0,"sqlite3_value*"],["sqlite3_value_frombind","int","sqlite3_value*"],["sqlite3_value_int","int","sqlite3_value*"],["sqlite3_value_nochange","int","sqlite3_value*"],["sqlite3_value_numeric_type","int","sqlite3_value*"],["sqlite3_value_pointer","*","sqlite3_value*","string:static"],["sqlite3_value_subtype","int","sqlite3_value*"],["sqlite3_value_text","string","sqlite3_value*"],["sqlite3_value_type","int","sqlite3_value*"],["sqlite3_vfs_find","*","string"],["sqlite3_vfs_register","int","sqlite3_vfs*","int"],["sqlite3_vfs_unregister","int","sqlite3_vfs*"]],C.exports.sqlite3_progress_handler&&C.bindingSignatures.push(["sqlite3_progress_handler",void 0,["sqlite3*","int",new C.xWrap.FuncPtrAdapter({name:"xProgressHandler",signature:"i(p)",bindScope:"context",contextKey:(be,Ie)=>be[0]}),"*"]]),C.exports.sqlite3_stmt_explain&&C.bindingSignatures.push(["sqlite3_stmt_explain","int","sqlite3_stmt*","int"],["sqlite3_stmt_isexplain","int","sqlite3_stmt*"]),C.exports.sqlite3_set_authorizer&&C.bindingSignatures.push(["sqlite3_set_authorizer","int",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"sqlite3_set_authorizer::xAuth",signature:"i(pissss)",contextKey:(be,Ie)=>be[0],callProxy:be=>(Ie,Te,Je,Ge,Oe,Ke)=>{try{return Je=Je&&C.cstrToJs(Je),Ge=Ge&&C.cstrToJs(Ge),Oe=Oe&&C.cstrToJs(Oe),Ke=Ke&&C.cstrToJs(Ke),be(Ie,Te,Je,Ge,Oe,Ke)||0}catch(St){return St.resultCode||E.SQLITE_ERROR}}}),"*"]]),C.bindingSignatures.int64=[["sqlite3_bind_int64","int",["sqlite3_stmt*","int","i64"]],["sqlite3_changes64","i64",["sqlite3*"]],["sqlite3_column_int64","i64",["sqlite3_stmt*","int"]],["sqlite3_deserialize","int","sqlite3*","string","*","i64","i64","int"],["sqlite3_last_insert_rowid","i64",["sqlite3*"]],["sqlite3_malloc64","*","i64"],["sqlite3_msize","i64","*"],["sqlite3_overload_function","int",["sqlite3*","string","int"]],["sqlite3_realloc64","*","*","i64"],["sqlite3_result_int64",void 0,"*","i64"],["sqlite3_result_zeroblob64","int","*","i64"],["sqlite3_serialize","*","sqlite3*","string","*","int"],["sqlite3_set_last_insert_rowid",void 0,["sqlite3*","i64"]],["sqlite3_status64","int","int","*","*","int"],["sqlite3_total_changes64","i64",["sqlite3*"]],["sqlite3_update_hook","*",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"sqlite3_update_hook",signature:"v(iippj)",contextKey:be=>be[0],callProxy:be=>(Ie,Te,Je,Ge,Oe)=>{be(Ie,Te,C.cstrToJs(Je),C.cstrToJs(Ge),Oe)}}),"*"]],["sqlite3_uri_int64","i64",["sqlite3_filename","string","i64"]],["sqlite3_value_int64","i64","sqlite3_value*"]],C.bigIntEnabled&&C.exports.sqlite3_declare_vtab&&C.bindingSignatures.int64.push(["sqlite3_create_module","int",["sqlite3*","string","sqlite3_module*","*"]],["sqlite3_create_module_v2","int",["sqlite3*","string","sqlite3_module*","*","*"]],["sqlite3_declare_vtab","int",["sqlite3*","string:flexible"]],["sqlite3_drop_modules","int",["sqlite3*","**"]],["sqlite3_vtab_collation","string","sqlite3_index_info*","int"],["sqlite3_vtab_distinct","int","sqlite3_index_info*"],["sqlite3_vtab_in","int","sqlite3_index_info*","int","int"],["sqlite3_vtab_in_first","int","sqlite3_value*","**"],["sqlite3_vtab_in_next","int","sqlite3_value*","**"],["sqlite3_vtab_nochange","int","sqlite3_context*"],["sqlite3_vtab_on_conflict","int","sqlite3*"],["sqlite3_vtab_rhs_value","int","sqlite3_index_info*","int","**"]),C.bigIntEnabled&&C.exports.sqlite3_preupdate_hook&&C.bindingSignatures.int64.push(["sqlite3_preupdate_blobwrite","int","sqlite3*"],["sqlite3_preupdate_count","int","sqlite3*"],["sqlite3_preupdate_depth","int","sqlite3*"],["sqlite3_preupdate_hook","*",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"sqlite3_preupdate_hook",signature:"v(ppippjj)",contextKey:be=>be[0],callProxy:be=>(Ie,Te,Je,Ge,Oe,Ke,St)=>{be(Ie,Te,Je,C.cstrToJs(Ge),C.cstrToJs(Oe),Ke,St)}}),"*"]],["sqlite3_preupdate_new","int",["sqlite3*","int","**"]],["sqlite3_preupdate_old","int",["sqlite3*","int","**"]]),C.bigIntEnabled&&C.exports.sqlite3changegroup_add&&C.exports.sqlite3session_create&&C.exports.sqlite3_preupdate_hook){const be={signature:"i(ps)",callProxy:Ie=>(Te,Je)=>{try{return Ie(Te,C.cstrToJs(Je))|0}catch(Ge){return Ge.resultCode||E.SQLITE_ERROR}}};C.bindingSignatures.int64.push(["sqlite3changegroup_add","int",["sqlite3_changegroup*","int","void*"]],["sqlite3changegroup_add_strm","int",["sqlite3_changegroup*",new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changegroup_delete",void 0,["sqlite3_changegroup*"]],["sqlite3changegroup_new","int",["**"]],["sqlite3changegroup_output","int",["sqlite3_changegroup*","int*","**"]],["sqlite3changegroup_output_strm","int",["sqlite3_changegroup*",new C.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply","int",["sqlite3*","int","void*",new C.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...be}),new C.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_strm","int",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new C.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...be}),new C.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_v2","int",["sqlite3*","int","void*",new C.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...be}),new C.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_apply_v2_strm","int",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new C.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...be}),new C.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_concat","int",["int","void*","int","void*","int*","**"]],["sqlite3changeset_concat_strm","int",[new C.xWrap.FuncPtrAdapter({name:"xInputA",signature:"i(ppp)",bindScope:"transient"}),"void*",new C.xWrap.FuncPtrAdapter({name:"xInputB",signature:"i(ppp)",bindScope:"transient"}),"void*",new C.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_conflict","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_finalize","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_fk_conflicts","int",["sqlite3_changeset_iter*","int*"]],["sqlite3changeset_invert","int",["int","void*","int*","**"]],["sqlite3changeset_invert_strm","int",[new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new C.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_new","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_next","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_old","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_op","int",["sqlite3_changeset_iter*","**","int*","int*","int*"]],["sqlite3changeset_pk","int",["sqlite3_changeset_iter*","**","int*"]],["sqlite3changeset_start","int",["**","int","*"]],["sqlite3changeset_start_strm","int",["**",new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changeset_start_v2","int",["**","int","*","int"]],["sqlite3changeset_start_v2_strm","int",["**",new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*","int"]],["sqlite3session_attach","int",["sqlite3_session*","string"]],["sqlite3session_changeset","int",["sqlite3_session*","int*","**"]],["sqlite3session_changeset_size","i64",["sqlite3_session*"]],["sqlite3session_changeset_strm","int",["sqlite3_session*",new C.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_config","int",["int","void*"]],["sqlite3session_create","int",["sqlite3*","string","**"]],["sqlite3session_diff","int",["sqlite3_session*","string","string","**"]],["sqlite3session_enable","int",["sqlite3_session*","int"]],["sqlite3session_indirect","int",["sqlite3_session*","int"]],["sqlite3session_isempty","int",["sqlite3_session*"]],["sqlite3session_memory_used","i64",["sqlite3_session*"]],["sqlite3session_object_config","int",["sqlite3_session*","int","void*"]],["sqlite3session_patchset","int",["sqlite3_session*","*","**"]],["sqlite3session_patchset_strm","int",["sqlite3_session*",new C.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_table_filter",void 0,["sqlite3_session*",new C.xWrap.FuncPtrAdapter({name:"xFilter",...be,contextKey:(Ie,Te)=>Ie[0]}),"*"]])}C.bindingSignatures.wasmInternal=[["sqlite3__wasm_db_reset","int","sqlite3*"],["sqlite3__wasm_db_vfs","sqlite3_vfs*","sqlite3*","string"],["sqlite3__wasm_vfs_create_file","int","sqlite3_vfs*","string","*","int"],["sqlite3__wasm_posix_create_file","int","string","*","int"],["sqlite3__wasm_vfs_unlink","int","sqlite3_vfs*","string"],["sqlite3__wasm_qfmt_token","string:dealloc","string","int"]],y.StructBinder=globalThis.Jaccwabyt({heap:C.heap8u,alloc:C.alloc,dealloc:C.dealloc,bigIntEnabled:C.bigIntEnabled,memberPrefix:"$"}),delete globalThis.Jaccwabyt;{const be=C.xWrap.argAdapter("string");C.xWrap.argAdapter("string:flexible",Oe=>be(M.flexibleString(Oe))),C.xWrap.argAdapter("string:static",function(Oe){return C.isPtr(Oe)?Oe:(Oe=""+Oe,this[Oe]||(this[Oe]=C.allocCString(Oe)))}.bind(Object.create(null)));const Ie=C.xWrap.argAdapter("*"),Te=function(){};C.xWrap.argAdapter("sqlite3_filename",Ie)("sqlite3_context*",Ie)("sqlite3_value*",Ie)("void*",Ie)("sqlite3_changegroup*",Ie)("sqlite3_changeset_iter*",Ie)("sqlite3_session*",Ie)("sqlite3_stmt*",Oe=>Ie(Oe instanceof(y?.oo1?.Stmt||Te)?Oe.pointer:Oe))("sqlite3*",Oe=>Ie(Oe instanceof(y?.oo1?.DB||Te)?Oe.pointer:Oe))("sqlite3_vfs*",Oe=>typeof Oe=="string"?E.sqlite3_vfs_find(Oe)||y.SQLite3Error.toss(E.SQLITE_NOTFOUND,"Unknown sqlite3_vfs name:",Oe):Ie(Oe instanceof(E.sqlite3_vfs||Te)?Oe.pointer:Oe)),C.exports.sqlite3_declare_vtab&&C.xWrap.argAdapter("sqlite3_index_info*",Oe=>Ie(Oe instanceof(E.sqlite3_index_info||Te)?Oe.pointer:Oe))("sqlite3_module*",Oe=>Ie(Oe instanceof(E.sqlite3_module||Te)?Oe.pointer:Oe));const Je=C.xWrap.resultAdapter("*");C.xWrap.resultAdapter("sqlite3*",Je)("sqlite3_context*",Je)("sqlite3_stmt*",Je)("sqlite3_value*",Je)("sqlite3_vfs*",Je)("void*",Je),C.exports.sqlite3_step.length===0&&(C.xWrap.doArgcCheck=!1,y.config.warn("Disabling sqlite3.wasm.xWrap.doArgcCheck due to environmental quirks."));for(const Oe of C.bindingSignatures)E[Oe[0]]=C.xWrap.apply(null,Oe);for(const Oe of C.bindingSignatures.wasmInternal)M[Oe[0]]=C.xWrap.apply(null,Oe);const Ge=function(Oe){return()=>S(Oe+"() is unavailable due to lack","of BigInt support in this build.")};for(const Oe of C.bindingSignatures.int64)E[Oe[0]]=C.bigIntEnabled?C.xWrap.apply(null,Oe):Ge(Oe[0]);if(delete C.bindingSignatures,C.exports.sqlite3__wasm_db_error){const Oe=C.xWrap("sqlite3__wasm_db_error","int","sqlite3*","int","string");M.sqlite3__wasm_db_error=function(Ke,St,Y){return St instanceof y.WasmAllocError?(St=E.SQLITE_NOMEM,Y=0):St instanceof Error&&(Y=Y||""+St,St=St.resultCode||E.SQLITE_ERROR),Ke?Oe(Ke,St,Y):St}}else M.sqlite3__wasm_db_error=function(Oe,Ke,St){return console.warn("sqlite3__wasm_db_error() is not exported.",arguments),Ke}}{const be=C.xCall("sqlite3__wasm_enum_json");be||S("Maintenance required: increase sqlite3__wasm_enum_json()'s","static buffer size!"),C.ctype=JSON.parse(C.cstrToJs(be));const Ie=["access","authorizer","blobFinalizers","changeset","config","dataTypes","dbConfig","dbStatus","encodings","fcntl","flock","ioCap","limits","openFlags","prepareFlags","resultCodes","sqlite3Status","stmtStatus","syncFlags","trace","txnState","udfFlags","version"];C.bigIntEnabled&&Ie.push("serialize","session","vtab");for(const Ge of Ie)for(const Oe of Object.entries(C.ctype[Ge]))E[Oe[0]]=Oe[1];C.functionEntry(E.SQLITE_WASM_DEALLOC)||S("Internal error: cannot resolve exported function","entry SQLITE_WASM_DEALLOC (=="+E.SQLITE_WASM_DEALLOC+").");const Te=Object.create(null);for(const Ge of["resultCodes"])for(const Oe of Object.entries(C.ctype[Ge]))Te[Oe[1]]=Oe[0];E.sqlite3_js_rc_str=Ge=>Te[Ge];const Je=Object.assign(Object.create(null),{WasmTestStruct:!0,sqlite3_kvvfs_methods:!M.isUIThread(),sqlite3_index_info:!C.bigIntEnabled,sqlite3_index_constraint:!C.bigIntEnabled,sqlite3_index_orderby:!C.bigIntEnabled,sqlite3_index_constraint_usage:!C.bigIntEnabled});for(const Ge of C.ctype.structs)Je[Ge.name]||(E[Ge.name]=y.StructBinder(Ge));if(E.sqlite3_index_info){for(const Ge of["sqlite3_index_constraint","sqlite3_index_orderby","sqlite3_index_constraint_usage"])E.sqlite3_index_info[Ge]=E[Ge],delete E[Ge];E.sqlite3_vtab_config=C.xWrap("sqlite3__wasm_vtab_config","int",["sqlite3*","int","int"])}}const fe=(be,Ie,Te)=>M.sqlite3__wasm_db_error(be,E.SQLITE_MISUSE,Ie+"() requires "+Te+" argument"+(Te===1?"":"s")+"."),me=be=>M.sqlite3__wasm_db_error(be,E.SQLITE_FORMAT,"SQLITE_UTF8 is the only supported encoding."),Qe=be=>C.xWrap.argAdapter("sqlite3*")(be),tt=be=>C.isPtr(be)?C.cstrToJs(be):be,at=function(be,Ie){be=Qe(be);let Te=this.dbMap.get(be);if(Ie)!Te&&Ie>0&&this.dbMap.set(be,Te=Object.create(null));else return this.dbMap.delete(be),Te;return Te}.bind(Object.assign(Object.create(null),{dbMap:new Map}));at.addCollation=function(be,Ie){const Te=at(be,1);Te.collation||(Te.collation=new Set),Te.collation.add(tt(Ie).toLowerCase())},at._addUDF=function(be,Ie,Te,Je){Ie=tt(Ie).toLowerCase();let Ge=Je.get(Ie);Ge||Je.set(Ie,Ge=new Set),Ge.add(Te<0?-1:Te)},at.addFunction=function(be,Ie,Te){const Je=at(be,1);Je.udf||(Je.udf=new Map),this._addUDF(be,Ie,Te,Je.udf)},C.exports.sqlite3_create_window_function&&(at.addWindowFunc=function(be,Ie,Te){const Je=at(be,1);Je.wudf||(Je.wudf=new Map),this._addUDF(be,Ie,Te,Je.wudf)}),at.cleanup=function(be){be=Qe(be);const Ie=[be];for(const Ge of["sqlite3_busy_handler","sqlite3_commit_hook","sqlite3_preupdate_hook","sqlite3_progress_handler","sqlite3_rollback_hook","sqlite3_set_authorizer","sqlite3_trace_v2","sqlite3_update_hook"]){const Oe=C.exports[Ge];if(Oe){Ie.length=Oe.length;try{E[Ge](...Ie)}catch(Ke){y.config.warn("close-time call of",Ge+"(",Ie,") threw:",Ke)}}}const Te=at(be,0);if(!Te)return;if(Te.collation){for(const Ge of Te.collation)try{E.sqlite3_create_collation_v2(be,Ge,E.SQLITE_UTF8,0,0,0)}catch{}delete Te.collation}let Je;for(Je=0;Je<2;++Je){const Ge=Je?Te.wudf:Te.udf;if(!Ge)continue;const Oe=Je?E.sqlite3_create_window_function:E.sqlite3_create_function_v2;for(const Ke of Ge){const St=Ke[0],Y=Ke[1],ue=[be,St,0,E.SQLITE_UTF8,0,0,0,0,0];Je&&ue.push(0);for(const Ee of Y)try{ue[2]=Ee,Oe.apply(null,ue)}catch{}Y.clear()}Ge.clear()}delete Te.udf,delete Te.wudf};{const be=C.xWrap("sqlite3_close_v2","int","sqlite3*");E.sqlite3_close_v2=function(Ie){if(arguments.length!==1)return fe(Ie,"sqlite3_close_v2",1);if(Ie)try{at.cleanup(Ie)}catch{}return be(Ie)}}if(E.sqlite3session_create){const be=C.xWrap("sqlite3session_delete",void 0,["sqlite3_session*"]);E.sqlite3session_delete=function(Ie){if(arguments.length!==1)return fe(pDb,"sqlite3session_delete",1);Ie&&E.sqlite3session_table_filter(Ie,0,0),be(Ie)}}{const be=(Te,Je)=>"argv["+Je+"]:"+Te[0]+":"+C.cstrToJs(Te[1]).toLowerCase(),Ie=C.xWrap("sqlite3_create_collation_v2","int",["sqlite3*","string","int","*",new C.xWrap.FuncPtrAdapter({name:"xCompare",signature:"i(pipip)",contextKey:be}),new C.xWrap.FuncPtrAdapter({name:"xDestroy",signature:"v(p)",contextKey:be})]);E.sqlite3_create_collation_v2=function(Te,Je,Ge,Oe,Ke,St){if(arguments.length!==6)return fe(Te,"sqlite3_create_collation_v2",6);if(!(Ge&15))Ge|=E.SQLITE_UTF8;else if(E.SQLITE_UTF8!==(Ge&15))return me(Te);try{const Y=Ie(Te,Je,Ge,Oe,Ke,St);return Y===0&&Ke instanceof Function&&at.addCollation(Te,Je),Y}catch(Y){return M.sqlite3__wasm_db_error(Te,Y)}},E.sqlite3_create_collation=(Te,Je,Ge,Oe,Ke)=>arguments.length===5?E.sqlite3_create_collation_v2(Te,Je,Ge,Oe,Ke,0):fe(Te,"sqlite3_create_collation",5)}{const be=function(Ge,Oe){return Ge[0]+":"+(Ge[2]<0?-1:Ge[2])+":"+Oe+":"+C.cstrToJs(Ge[1]).toLowerCase()},Ie=Object.assign(Object.create(null),{xInverseAndStep:{signature:"v(pip)",contextKey:be,callProxy:Ge=>(Oe,Ke,St)=>{try{Ge(Oe,...E.sqlite3_values_to_js(Ke,St))}catch(Y){E.sqlite3_result_error_js(Oe,Y)}}},xFinalAndValue:{signature:"v(p)",contextKey:be,callProxy:Ge=>Oe=>{try{E.sqlite3_result_js(Oe,Ge(Oe))}catch(Ke){E.sqlite3_result_error_js(Oe,Ke)}}},xFunc:{signature:"v(pip)",contextKey:be,callProxy:Ge=>(Oe,Ke,St)=>{try{E.sqlite3_result_js(Oe,Ge(Oe,...E.sqlite3_values_to_js(Ke,St)))}catch(Y){E.sqlite3_result_error_js(Oe,Y)}}},xDestroy:{signature:"v(p)",contextKey:be,callProxy:Ge=>Oe=>{try{Ge(Oe)}catch(Ke){console.error("UDF xDestroy method threw:",Ke)}}}}),Te=C.xWrap("sqlite3_create_function_v2","int",["sqlite3*","string","int","int","*",new C.xWrap.FuncPtrAdapter({name:"xFunc",...Ie.xFunc}),new C.xWrap.FuncPtrAdapter({name:"xStep",...Ie.xInverseAndStep}),new C.xWrap.FuncPtrAdapter({name:"xFinal",...Ie.xFinalAndValue}),new C.xWrap.FuncPtrAdapter({name:"xDestroy",...Ie.xDestroy})]),Je=C.exports.sqlite3_create_window_function?C.xWrap("sqlite3_create_window_function","int",["sqlite3*","string","int","int","*",new C.xWrap.FuncPtrAdapter({name:"xStep",...Ie.xInverseAndStep}),new C.xWrap.FuncPtrAdapter({name:"xFinal",...Ie.xFinalAndValue}),new C.xWrap.FuncPtrAdapter({name:"xValue",...Ie.xFinalAndValue}),new C.xWrap.FuncPtrAdapter({name:"xInverse",...Ie.xInverseAndStep}),new C.xWrap.FuncPtrAdapter({name:"xDestroy",...Ie.xDestroy})]):void 0;E.sqlite3_create_function_v2=function Ge(Oe,Ke,St,Y,ue,Ee,st,ae,pe){if(Ge.length!==arguments.length)return fe(Oe,"sqlite3_create_function_v2",Ge.length);if(!(Y&15))Y|=E.SQLITE_UTF8;else if(E.SQLITE_UTF8!==(Y&15))return me(Oe);try{const H=Te(Oe,Ke,St,Y,ue,Ee,st,ae,pe);return H===0&&(Ee instanceof Function||st instanceof Function||ae instanceof Function||pe instanceof Function)&&at.addFunction(Oe,Ke,St),H}catch(H){return console.error("sqlite3_create_function_v2() setup threw:",H),M.sqlite3__wasm_db_error(Oe,H,"Creation of UDF threw: "+H)}},E.sqlite3_create_function=function Ge(Oe,Ke,St,Y,ue,Ee,st,ae){return Ge.length===arguments.length?E.sqlite3_create_function_v2(Oe,Ke,St,Y,ue,Ee,st,ae,0):fe(Oe,"sqlite3_create_function",Ge.length)},Je?E.sqlite3_create_window_function=function Ge(Oe,Ke,St,Y,ue,Ee,st,ae,pe,H){if(Ge.length!==arguments.length)return fe(Oe,"sqlite3_create_window_function",Ge.length);if(!(Y&15))Y|=E.SQLITE_UTF8;else if(E.SQLITE_UTF8!==(Y&15))return me(Oe);try{const ne=Je(Oe,Ke,St,Y,ue,Ee,st,ae,pe,H);return ne===0&&(Ee instanceof Function||st instanceof Function||ae instanceof Function||pe instanceof Function||H instanceof Function)&&at.addWindowFunc(Oe,Ke,St),ne}catch(ne){return console.error("sqlite3_create_window_function() setup threw:",ne),M.sqlite3__wasm_db_error(Oe,ne,"Creation of UDF threw: "+ne)}}:delete E.sqlite3_create_window_function,E.sqlite3_create_function_v2.udfSetResult=E.sqlite3_create_function.udfSetResult=E.sqlite3_result_js,E.sqlite3_create_window_function&&(E.sqlite3_create_window_function.udfSetResult=E.sqlite3_result_js),E.sqlite3_create_function_v2.udfConvertArgs=E.sqlite3_create_function.udfConvertArgs=E.sqlite3_values_to_js,E.sqlite3_create_window_function&&(E.sqlite3_create_window_function.udfConvertArgs=E.sqlite3_values_to_js),E.sqlite3_create_function_v2.udfSetError=E.sqlite3_create_function.udfSetError=E.sqlite3_result_error_js,E.sqlite3_create_window_function&&(E.sqlite3_create_window_function.udfSetError=E.sqlite3_result_error_js)}{const be=(Te,Je)=>(typeof Te=="string"?Je=-1:M.isSQLableTypedArray(Te)?(Je=Te.byteLength,Te=M.typedArrayToString(Te instanceof ArrayBuffer?new Uint8Array(Te):Te)):Array.isArray(Te)&&(Te=Te.join(""),Je=-1),[Te,Je]),Ie={basic:C.xWrap("sqlite3_prepare_v3","int",["sqlite3*","string","int","int","**","**"]),full:C.xWrap("sqlite3_prepare_v3","int",["sqlite3*","*","int","int","**","**"])};E.sqlite3_prepare_v3=function Te(Je,Ge,Oe,Ke,St,Y){if(Te.length!==arguments.length)return fe(Je,"sqlite3_prepare_v3",Te.length);const[ue,Ee]=be(Ge,Oe);switch(typeof ue){case"string":return Ie.basic(Je,ue,Ee,Ke,St,null);case"number":return Ie.full(Je,ue,Ee,Ke,St,Y);default:return M.sqlite3__wasm_db_error(Je,E.SQLITE_MISUSE,"Invalid SQL argument type for sqlite3_prepare_v2/v3().")}},E.sqlite3_prepare_v2=function Te(Je,Ge,Oe,Ke,St){return Te.length===arguments.length?E.sqlite3_prepare_v3(Je,Ge,Oe,0,Ke,St):fe(Je,"sqlite3_prepare_v2",Te.length)}}{const be=C.xWrap("sqlite3_bind_text","int",["sqlite3_stmt*","int","string","int","*"]),Ie=C.xWrap("sqlite3_bind_blob","int",["sqlite3_stmt*","int","*","int","*"]);E.sqlite3_bind_text=function Te(Je,Ge,Oe,Ke,St){if(Te.length!==arguments.length)return fe(E.sqlite3_db_handle(Je),"sqlite3_bind_text",Te.length);if(C.isPtr(Oe)||Oe===null)return be(Je,Ge,Oe,Ke,St);Oe instanceof ArrayBuffer?Oe=new Uint8Array(Oe):Array.isArray(pMem)&&(Oe=pMem.join(""));let Y,ue;try{if(M.isSQLableTypedArray(Oe))Y=C.allocFromTypedArray(Oe),ue=Oe.byteLength;else if(typeof Oe=="string")[Y,ue]=C.allocCString(Oe);else return M.sqlite3__wasm_db_error(E.sqlite3_db_handle(Je),E.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_text().");return be(Je,Ge,Y,ue,E.SQLITE_WASM_DEALLOC)}catch(Ee){return C.dealloc(Y),M.sqlite3__wasm_db_error(E.sqlite3_db_handle(Je),Ee)}},E.sqlite3_bind_blob=function Te(Je,Ge,Oe,Ke,St){if(Te.length!==arguments.length)return fe(E.sqlite3_db_handle(Je),"sqlite3_bind_blob",Te.length);if(C.isPtr(Oe)||Oe===null)return Ie(Je,Ge,Oe,Ke,St);Oe instanceof ArrayBuffer?Oe=new Uint8Array(Oe):Array.isArray(Oe)&&(Oe=Oe.join(""));let Y,ue;try{if(M.isBindableTypedArray(Oe))Y=C.allocFromTypedArray(Oe),ue=Ke>=0?Ke:Oe.byteLength;else if(typeof Oe=="string")[Y,ue]=C.allocCString(Oe);else return M.sqlite3__wasm_db_error(E.sqlite3_db_handle(Je),E.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_blob().");return Ie(Je,Ge,Y,ue,E.SQLITE_WASM_DEALLOC)}catch(Ee){return C.dealloc(Y),M.sqlite3__wasm_db_error(E.sqlite3_db_handle(Je),Ee)}}}E.sqlite3_config=function(be,...Ie){if(arguments.length<2)return E.SQLITE_MISUSE;switch(be){case E.SQLITE_CONFIG_COVERING_INDEX_SCAN:case E.SQLITE_CONFIG_MEMSTATUS:case E.SQLITE_CONFIG_SMALL_MALLOC:case E.SQLITE_CONFIG_SORTERREF_SIZE:case E.SQLITE_CONFIG_STMTJRNL_SPILL:case E.SQLITE_CONFIG_URI:return C.exports.sqlite3__wasm_config_i(be,Ie[0]);case E.SQLITE_CONFIG_LOOKASIDE:return C.exports.sqlite3__wasm_config_ii(be,Ie[0],Ie[1]);case E.SQLITE_CONFIG_MEMDB_MAXSIZE:return C.exports.sqlite3__wasm_config_j(be,Ie[0]);case E.SQLITE_CONFIG_GETMALLOC:case E.SQLITE_CONFIG_GETMUTEX:case E.SQLITE_CONFIG_GETPCACHE2:case E.SQLITE_CONFIG_GETPCACHE:case E.SQLITE_CONFIG_HEAP:case E.SQLITE_CONFIG_LOG:case E.SQLITE_CONFIG_MALLOC:case E.SQLITE_CONFIG_MMAP_SIZE:case E.SQLITE_CONFIG_MULTITHREAD:case E.SQLITE_CONFIG_MUTEX:case E.SQLITE_CONFIG_PAGECACHE:case E.SQLITE_CONFIG_PCACHE2:case E.SQLITE_CONFIG_PCACHE:case E.SQLITE_CONFIG_PCACHE_HDRSZ:case E.SQLITE_CONFIG_PMASZ:case E.SQLITE_CONFIG_SERIALIZED:case E.SQLITE_CONFIG_SINGLETHREAD:case E.SQLITE_CONFIG_SQLLOG:case E.SQLITE_CONFIG_WIN32_HEAPSIZE:default:return E.SQLITE_NOTFOUND}};{const be=new Set;E.sqlite3_auto_extension=function(Ie){if(Ie instanceof Function)Ie=C.installFunction("i(ppp)",Ie);else if(arguments.length!==1||!C.isPtr(Ie))return E.SQLITE_MISUSE;const Te=C.exports.sqlite3_auto_extension(Ie);return Ie!==arguments[0]&&(Te===0?be.add(Ie):C.uninstallFunction(Ie)),Te},E.sqlite3_cancel_auto_extension=function(Ie){return!Ie||arguments.length!==1||!C.isPtr(Ie)?0:C.exports.sqlite3_cancel_auto_extension(Ie)},E.sqlite3_reset_auto_extension=function(){C.exports.sqlite3_reset_auto_extension();for(const Ie of be)C.uninstallFunction(Ie);be.clear()}}const mt=E.sqlite3_vfs_find("kvvfs");if(mt)if(M.isUIThread()){const be=new E.sqlite3_kvvfs_methods(C.exports.sqlite3__wasm_kvvfs_methods());delete E.sqlite3_kvvfs_methods;const Ie=C.exports.sqlite3__wasm_kvvfsMakeKeyOnPstack,Te=C.pstack,Je=Oe=>C.peek(Oe)===115?sessionStorage:localStorage,Ge={xRead:(Oe,Ke,St,Y)=>{const ue=Te.pointer,Ee=C.scopedAllocPush();try{const st=Ie(Oe,Ke);if(!st)return-3;const ae=C.cstrToJs(st),pe=Je(Oe).getItem(ae);if(!pe)return-1;const H=pe.length;if(Y<=0)return H;if(Y===1)return C.poke(St,0),H;const ne=C.scopedAllocCString(pe);return Y>H+1&&(Y=H+1),C.heap8u().copyWithin(St,ne,ne+Y-1),C.poke(St+Y-1,0),Y-1}catch(st){return console.error("kvstorageRead()",st),-2}finally{Te.restore(ue),C.scopedAllocPop(Ee)}},xWrite:(Oe,Ke,St)=>{const Y=Te.pointer;try{const ue=Ie(Oe,Ke);if(!ue)return 1;const Ee=C.cstrToJs(ue);return Je(Oe).setItem(Ee,C.cstrToJs(St)),0}catch(ue){return console.error("kvstorageWrite()",ue),E.SQLITE_IOERR}finally{Te.restore(Y)}},xDelete:(Oe,Ke)=>{const St=Te.pointer;try{const Y=Ie(Oe,Ke);return Y?(Je(Oe).removeItem(C.cstrToJs(Y)),0):1}catch(Y){return console.error("kvstorageDelete()",Y),E.SQLITE_IOERR}finally{Te.restore(St)}}};for(const Oe of Object.keys(Ge))be[be.memberKey(Oe)]=C.installFunction(be.memberSignature(Oe),Ge[Oe])}else E.sqlite3_vfs_unregister(mt);C.xWrap.FuncPtrAdapter.warnOnUse=!0;const Be=y.StructBinder,Re=function be(Ie,Te,Je,Ge=be.installMethodArgcCheck){if(Ie instanceof Be.StructType?!(Je instanceof Function)&&!C.isPtr(Je)&&S("Usage errror: expecting a Function or WASM pointer to one."):S("Usage error: target object is-not-a StructType."),arguments.length===1)return(Y,ue)=>be(Ie,Y,ue,Ge);be.argcProxy||(be.argcProxy=function(Y,ue,Ee,st){return function(...ae){return Ee.length!==arguments.length&&S("Argument mismatch for",Y.structInfo.name+"::"+ue+": Native signature is:",st),Ee.apply(this,ae)}},be.removeFuncList=function(){this.ondispose.__removeFuncList&&(this.ondispose.__removeFuncList.forEach((Y,ue)=>{if(typeof Y=="number")try{C.uninstallFunction(Y)}catch{}}),delete this.ondispose.__removeFuncList)});const Oe=Ie.memberSignature(Te);Oe.length<2&&S("Member",Te,"does not have a function pointer signature:",Oe);const Ke=Ie.memberKey(Te),St=Ge&&!C.isPtr(Je)?be.argcProxy(Ie,Ke,Je,Oe):Je;if(C.isPtr(St))St&&!C.functionEntry(St)&&S("Pointer",St,"is not a WASM function table entry."),Ie[Ke]=St;else{const Y=C.installFunction(St,Ie.memberSignature(Te,!0));Ie[Ke]=Y,(!Ie.ondispose||!Ie.ondispose.__removeFuncList)&&(Ie.addOnDispose("ondispose.__removeFuncList handler",be.removeFuncList),Ie.ondispose.__removeFuncList=[]),Ie.ondispose.__removeFuncList.push(Ke,Y)}return(Y,ue)=>be(Ie,Y,ue,Ge)};Re.installMethodArgcCheck=!1;const et=function(be,Ie,Te=Re.installMethodArgcCheck){const Je=new Map;for(const Ge of Object.keys(Ie)){const Oe=Ie[Ge],Ke=Je.get(Oe);if(Ke){const St=be.memberKey(Ge);be[St]=be[be.memberKey(Ke)]}else Re(be,Ge,Oe,Te),Je.set(Oe,Ge)}return be};Be.StructType.prototype.installMethod=function(Ie,Te,Je=Re.installMethodArgcCheck){return arguments.length<3&&Ie&&typeof Ie=="object"?et(this,...arguments):Re(this,...arguments)},Be.StructType.prototype.installMethods=function(be,Ie=Re.installMethodArgcCheck){return et(this,be,Ie)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){y.version={libVersion:"3.47.1",libVersionNumber:3047001,sourceId:"2024-11-25 12:07:48 b95d11e958643b969c47a8e5857f3793b9e69700b8f1469371386369a26e577e",downloadVersion:3470100}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=(...ae)=>{throw new y.SQLite3Error(...ae)},E=y.capi,C=y.wasm,M=y.util,fe=new WeakMap,me=new WeakMap,Qe=(ae,pe,H)=>{const ne=Object.getOwnPropertyDescriptor(ae,pe);return ne?ne.value:H},tt=function(ae,pe){return pe&&(ae instanceof Re&&(ae=ae.pointer),S(pe,"sqlite3 result code",pe+":",ae?E.sqlite3_errmsg(ae):E.sqlite3_errstr(pe))),arguments[0]},at=C.installFunction("i(ippp)",function(ae,pe,H,ne){E.SQLITE_TRACE_STMT===ae&&console.log("SQL TRACE #"+ ++this.counter+" via sqlite3@"+pe+":",C.cstrToJs(ne))}.bind({counter:0})),mt=Object.create(null),Be=function ae(...pe){if(!ae._name2vfs){ae._name2vfs=Object.create(null);const _e=typeof importScripts=="function"?Pe=>S("The VFS for",Pe,"is only available in the main window thread."):!1;ae._name2vfs[":localStorage:"]={vfs:"kvvfs",filename:_e||(()=>"local")},ae._name2vfs[":sessionStorage:"]={vfs:"kvvfs",filename:_e||(()=>"session")}}const H=ae.normalizeArgs(...pe);let ne=H.filename,ie=H.vfs,Le=H.flags;(typeof ne!="string"&&typeof ne!="number"||typeof Le!="string"||ie&&typeof ie!="string"&&typeof ie!="number")&&(y.config.error("Invalid DB ctor args",H,arguments),S("Invalid arguments for DB constructor."));let it=typeof ne=="number"?C.cstrToJs(ne):ne;const Ot=ae._name2vfs[it];Ot&&(ie=Ot.vfs,ne=it=Ot.filename(it));let Bt,Gt=0;Le.indexOf("c")>=0&&(Gt|=E.SQLITE_OPEN_CREATE|E.SQLITE_OPEN_READWRITE),Le.indexOf("w")>=0&&(Gt|=E.SQLITE_OPEN_READWRITE),Gt===0&&(Gt|=E.SQLITE_OPEN_READONLY),Gt|=E.SQLITE_OPEN_EXRESCODE;const lt=C.pstack.pointer;try{const _e=C.pstack.allocPtr();let Pe=E.sqlite3_open_v2(ne,_e,Gt,ie||0);Bt=C.peekPtr(_e),tt(Bt,Pe),E.sqlite3_extended_result_codes(Bt,1),Le.indexOf("t")>=0&&E.sqlite3_trace_v2(Bt,E.SQLITE_TRACE_STMT,at,Bt)}catch(_e){throw Bt&&E.sqlite3_close_v2(Bt),_e}finally{C.pstack.restore(lt)}this.filename=it,fe.set(this,Bt),me.set(this,Object.create(null));try{const _e=E.sqlite3_js_db_vfs(Bt)||S("Internal error: cannot get VFS for new db handle."),Pe=mt[_e];Pe&&(Pe instanceof Function?Pe(this,y):tt(Bt,E.sqlite3_exec(Bt,Pe,0,0,0)))}catch(_e){throw this.close(),_e}};Be.setVfsPostOpenCallback=function(ae,pe){pe instanceof Function||S("dbCtorHelper.setVfsPostOpenCallback() should not be used with a non-function argument.",arguments),mt[ae]=pe},Be.normalizeArgs=function(ae=":memory:",pe="c",H=null){const ne={};return arguments.length===1&&arguments[0]&&typeof arguments[0]=="object"?(Object.assign(ne,arguments[0]),ne.flags===void 0&&(ne.flags="c"),ne.vfs===void 0&&(ne.vfs=null),ne.filename===void 0&&(ne.filename=":memory:")):(ne.filename=ae,ne.flags=pe,ne.vfs=H),ne};const Re=function(...ae){Be.apply(this,ae)};Re.dbCtorHelper=Be;const et={null:1,number:2,string:3,boolean:4,blob:5};et.undefined==et.null,C.bigIntEnabled&&(et.bigint=et.number);const be=function(){et!==arguments[2]&&S(E.SQLITE_MISUSE,"Do not call the Stmt constructor directly. Use DB.prepare()."),this.db=arguments[0],fe.set(this,arguments[1]),this.parameterCount=E.sqlite3_bind_parameter_count(this.pointer)},Ie=function(ae){return ae.pointer||S("DB has been closed."),ae},Te=function(ae,pe){return(pe!==(pe|0)||pe<0||pe>=ae.columnCount)&&S("Column index",pe,"is out of range."),ae},Je=function(ae,pe){const H=Object.create(null);switch(H.opt=Object.create(null),pe.length){case 1:typeof pe[0]=="string"||M.isSQLableTypedArray(pe[0])||Array.isArray(pe[0])?H.sql=pe[0]:pe[0]&&typeof pe[0]=="object"&&(H.opt=pe[0],H.sql=H.opt.sql);break;case 2:H.sql=pe[0],H.opt=pe[1];break;default:S("Invalid argument count for exec().")}H.sql=M.flexibleString(H.sql),typeof H.sql!="string"&&S("Missing SQL argument or unsupported SQL value type.");const ne=H.opt;switch(ne.returnValue){case"resultRows":ne.resultRows||(ne.resultRows=[]),H.returnVal=()=>ne.resultRows;break;case"saveSql":ne.saveSql||(ne.saveSql=[]),H.returnVal=()=>ne.saveSql;break;case void 0:case"this":H.returnVal=()=>ae;break;default:S("Invalid returnValue value:",ne.returnValue)}if(!ne.callback&&!ne.returnValue&&ne.rowMode!==void 0&&(ne.resultRows||(ne.resultRows=[]),H.returnVal=()=>ne.resultRows),ne.callback||ne.resultRows)switch(ne.rowMode===void 0?"array":ne.rowMode){case"object":H.cbArg=(ie,Le)=>{Le.columnNames||(Le.columnNames=ie.getColumnNames([]));const it=ie.get([]),Ot=Object.create(null);for(const Bt in Le.columnNames)Ot[Le.columnNames[Bt]]=it[Bt];return Ot};break;case"array":H.cbArg=ie=>ie.get([]);break;case"stmt":Array.isArray(ne.resultRows)&&S("exec(): invalid rowMode for a resultRows array: must","be one of 'array', 'object',","a result column number, or column name reference."),H.cbArg=ie=>ie;break;default:if(M.isInt32(ne.rowMode)){H.cbArg=ie=>ie.get(ne.rowMode);break}else if(typeof ne.rowMode=="string"&&ne.rowMode.length>1&&ne.rowMode[0]==="$"){const ie=ne.rowMode.substr(1);H.cbArg=Le=>{const it=Le.get(Object.create(null))[ie];return it===void 0?S(E.SQLITE_NOTFOUND,"exec(): unknown result column:",ie):it};break}S("Invalid rowMode:",ne.rowMode)}return H},Ge=(ae,pe,H,...ne)=>{const ie=ae.prepare(pe);try{const Le=ie.bind(H).step()?ie.get(...ne):void 0;return ie.reset(),Le}finally{ie.finalize()}},Oe=(ae,pe,H,ne)=>ae.exec({sql:pe,bind:H,rowMode:ne,returnValue:"resultRows"});Re.checkRc=(ae,pe)=>tt(ae,pe),Re.prototype={isOpen:function(){return!!this.pointer},affirmOpen:function(){return Ie(this)},close:function(){if(this.pointer){if(this.onclose&&this.onclose.before instanceof Function)try{this.onclose.before(this)}catch{}const ae=this.pointer;if(Object.keys(me.get(this)).forEach((pe,H)=>{if(H&&H.pointer)try{H.finalize()}catch{}}),fe.delete(this),me.delete(this),E.sqlite3_close_v2(ae),this.onclose&&this.onclose.after instanceof Function)try{this.onclose.after(this)}catch{}delete this.filename}},changes:function(ae=!1,pe=!1){const H=Ie(this).pointer;return ae?pe?E.sqlite3_total_changes64(H):E.sqlite3_total_changes(H):pe?E.sqlite3_changes64(H):E.sqlite3_changes(H)},dbFilename:function(ae="main"){return E.sqlite3_db_filename(Ie(this).pointer,ae)},dbName:function(ae=0){return E.sqlite3_db_name(Ie(this).pointer,ae)},dbVfsName:function(ae=0){let pe;const H=E.sqlite3_js_db_vfs(Ie(this).pointer,ae);if(H){const ne=new E.sqlite3_vfs(H);try{pe=C.cstrToJs(ne.$zName)}finally{ne.dispose()}}return pe},prepare:function(ae){Ie(this);const pe=C.pstack.pointer;let H,ne;try{H=C.pstack.alloc(8),Re.checkRc(this,E.sqlite3_prepare_v2(this.pointer,ae,-1,H,null)),ne=C.peekPtr(H)}finally{C.pstack.restore(pe)}ne||S("Cannot prepare empty SQL.");const ie=new be(this,ne,et);return me.get(this)[ne]=ie,ie},exec:function(){Ie(this);const ae=Je(this,arguments);if(!ae.sql)return S("exec() requires an SQL string.");const pe=ae.opt,H=pe.callback,ne=Array.isArray(pe.resultRows)?pe.resultRows:void 0;let ie,Le=pe.bind,it=!!(ae.cbArg||pe.columnNames||ne);const Ot=C.scopedAllocPush(),Bt=Array.isArray(pe.saveSql)?pe.saveSql:void 0;try{const Gt=M.isSQLableTypedArray(ae.sql);let lt=Gt?ae.sql.byteLength:C.jstrlen(ae.sql);const _e=C.scopedAlloc(2*C.ptrSizeof+(lt+1)),Pe=_e+C.ptrSizeof;let ot=Pe+C.ptrSizeof;const pt=ot+lt;for(Gt?C.heap8().set(ae.sql,ot):C.jstrcpy(ae.sql,C.heap8(),ot,lt,!1),C.poke(ot+lt,0);ot&&C.peek(ot,"i8");){C.pokePtr([_e,Pe],0),Re.checkRc(this,E.sqlite3_prepare_v3(this.pointer,ot,lt,0,_e,Pe));const Pt=C.peekPtr(_e);if(ot=C.peekPtr(Pe),lt=pt-ot,!!Pt){if(Bt&&Bt.push(E.sqlite3_sql(Pt).trim()),ie=new be(this,Pt,et),Le&&ie.parameterCount&&(ie.bind(Le),Le=null),it&&ie.columnCount){let Zt=Array.isArray(pe.columnNames)?0:1;if(it=!1,ae.cbArg||ne){const je=Object.create(null);for(;ie.step();ie._lockedByExec=!1){Zt++===0&&ie.getColumnNames(je.columnNames=pe.columnNames||[]),ie._lockedByExec=!0;const nt=ae.cbArg(ie,je);if(ne&&ne.push(nt),H&&H.call(pe,nt,ie)===!1)break}ie._lockedByExec=!1}Zt===0&&ie.getColumnNames(pe.columnNames)}else ie.step();ie.reset().finalize(),ie=null}}}finally{C.scopedAllocPop(Ot),ie&&(delete ie._lockedByExec,ie.finalize())}return ae.returnVal()},createFunction:function(pe,H,ne){const ie=je=>je instanceof Function;switch(arguments.length){case 1:ne=pe,pe=ne.name,H=ne.xFunc||0;break;case 2:ie(H)||(ne=H,H=ne.xFunc||0);break}ne||(ne={}),typeof pe!="string"&&S("Invalid arguments: missing function name.");let Le=ne.xStep||0,it=ne.xFinal||0;const Ot=ne.xValue||0,Bt=ne.xInverse||0;let Gt;ie(H)?(Gt=!1,(ie(Le)||ie(it))&&S("Ambiguous arguments: scalar or aggregate?"),Le=it=null):ie(Le)?(ie(it)||S("Missing xFinal() callback for aggregate or window UDF."),H=null):ie(it)?S("Missing xStep() callback for aggregate or window UDF."):S("Missing function-type properties."),Gt===!1?(ie(Ot)||ie(Bt))&&S("xValue and xInverse are not permitted for non-window UDFs."):ie(Ot)?(ie(Bt)||S("xInverse must be provided if xValue is."),Gt=!0):ie(Bt)&&S("xValue must be provided if xInverse is.");const lt=ne.pApp;lt!=null&&(typeof lt!="number"||!M.isInt32(lt))&&S("Invalid value for pApp property. Must be a legal WASM pointer value.");const _e=ne.xDestroy||0;_e&&!ie(_e)&&S("xDestroy property must be a function.");let Pe=0;Qe(ne,"deterministic")&&(Pe|=E.SQLITE_DETERMINISTIC),Qe(ne,"directOnly")&&(Pe|=E.SQLITE_DIRECTONLY),Qe(ne,"innocuous")&&(Pe|=E.SQLITE_INNOCUOUS),pe=pe.toLowerCase();const ot=H||Le,pt=Qe(ne,"arity"),Pt=typeof pt=="number"?pt:ot.length?ot.length-1:0;let Zt;return Gt?Zt=E.sqlite3_create_window_function(this.pointer,pe,Pt,E.SQLITE_UTF8|Pe,lt||0,Le,it,Ot,Bt,_e):Zt=E.sqlite3_create_function_v2(this.pointer,pe,Pt,E.SQLITE_UTF8|Pe,lt||0,H,Le,it,_e),Re.checkRc(this,Zt),this},selectValue:function(ae,pe,H){return Ge(this,ae,pe,0,H)},selectValues:function(ae,pe,H){const ne=this.prepare(ae),ie=[];try{for(ne.bind(pe);ne.step();)ie.push(ne.get(0,H));ne.reset()}finally{ne.finalize()}return ie},selectArray:function(ae,pe){return Ge(this,ae,pe,[])},selectObject:function(ae,pe){return Ge(this,ae,pe,{})},selectArrays:function(ae,pe){return Oe(this,ae,pe,"array")},selectObjects:function(ae,pe){return Oe(this,ae,pe,"object")},openStatementCount:function(){return this.pointer?Object.keys(me.get(this)).length:0},transaction:function(ae){let pe="BEGIN";arguments.length>1&&(/[^a-zA-Z]/.test(arguments[0])&&S(E.SQLITE_MISUSE,"Invalid argument for BEGIN qualifier."),pe+=" "+arguments[0],ae=arguments[1]),Ie(this).exec(pe);try{const H=ae(this);return this.exec("COMMIT"),H}catch(H){throw this.exec("ROLLBACK"),H}},savepoint:function(ae){Ie(this).exec("SAVEPOINT oo1");try{const pe=ae(this);return this.exec("RELEASE oo1"),pe}catch(pe){throw this.exec("ROLLBACK to SAVEPOINT oo1; RELEASE SAVEPOINT oo1"),pe}},checkRc:function(ae){return tt(this,ae)}};const Ke=function(ae){return ae.pointer||S("Stmt has been closed."),ae},St=function(ae){let pe=et[ae==null?"null":typeof ae];switch(pe){case et.boolean:case et.null:case et.number:case et.string:return pe;case et.bigint:if(C.bigIntEnabled)return pe;default:return M.isBindableTypedArray(ae)?et.blob:void 0}},Y=function(ae){return St(ae)||S("Unsupported bind() argument type:",typeof ae)},ue=function(ae,pe){const H=typeof pe=="number"?pe:E.sqlite3_bind_parameter_index(ae.pointer,pe);return H===0||!M.isInt32(H)?S("Invalid bind() parameter name: "+pe):(H<1||H>ae.parameterCount)&&S("Bind index",pe,"is out of range."),H},Ee=function(ae,pe){return ae._lockedByExec&&S("Operation is illegal when statement is locked:",pe),ae},st=function ae(pe,H,ne,ie){Ee(Ke(pe),"bind()"),ae._||(ae._tooBigInt=it=>S("BigInt value is too big to store without precision loss:",it),ae._={string:function(it,Ot,Bt,Gt){const[lt,_e]=C.allocCString(Bt,!0);return(Gt?E.sqlite3_bind_blob:E.sqlite3_bind_text)(it.pointer,Ot,lt,_e,E.SQLITE_WASM_DEALLOC)}}),Y(ie),H=ue(pe,H);let Le=0;switch(ie==null?et.null:ne){case et.null:Le=E.sqlite3_bind_null(pe.pointer,H);break;case et.string:Le=ae._.string(pe,H,ie,!1);break;case et.number:{let it;M.isInt32(ie)?it=E.sqlite3_bind_int:typeof ie=="bigint"?M.bigIntFits64(ie)?C.bigIntEnabled?it=E.sqlite3_bind_int64:M.bigIntFitsDouble(ie)?(ie=Number(ie),it=E.sqlite3_bind_double):ae._tooBigInt(ie):ae._tooBigInt(ie):(ie=Number(ie),C.bigIntEnabled&&Number.isInteger(ie)?it=E.sqlite3_bind_int64:it=E.sqlite3_bind_double),Le=it(pe.pointer,H,ie);break}case et.boolean:Le=E.sqlite3_bind_int(pe.pointer,H,ie?1:0);break;case et.blob:{if(typeof ie=="string"){Le=ae._.string(pe,H,ie,!0);break}else ie instanceof ArrayBuffer?ie=new Uint8Array(ie):M.isBindableTypedArray(ie)||S("Binding a value as a blob requires","that it be a string, Uint8Array, Int8Array, or ArrayBuffer.");const it=C.alloc(ie.byteLength||1);C.heap8().set(ie.byteLength?ie:[0],it),Le=E.sqlite3_bind_blob(pe.pointer,H,it,ie.byteLength,E.SQLITE_WASM_DEALLOC);break}default:y.config.warn("Unsupported bind() argument type:",ie),S("Unsupported bind() argument type: "+typeof ie)}return Le&&Re.checkRc(pe.db.pointer,Le),pe._mayGet=!1,pe};be.prototype={finalize:function(){if(this.pointer){Ee(this,"finalize()");const ae=E.sqlite3_finalize(this.pointer);return delete me.get(this.db)[this.pointer],fe.delete(this),delete this._mayGet,delete this.parameterCount,delete this._lockedByExec,delete this.db,ae}},clearBindings:function(){return Ee(Ke(this),"clearBindings()"),E.sqlite3_clear_bindings(this.pointer),this._mayGet=!1,this},reset:function(ae){Ee(this,"reset()"),ae&&this.clearBindings();const pe=E.sqlite3_reset(Ke(this).pointer);return this._mayGet=!1,tt(this.db,pe),this},bind:function(){Ke(this);let ae,pe;switch(arguments.length){case 1:ae=1,pe=arguments[0];break;case 2:ae=arguments[0],pe=arguments[1];break;default:S("Invalid bind() arguments.")}return pe===void 0?this:(this.parameterCount||S("This statement has no bindable parameters."),this._mayGet=!1,pe===null?st(this,ae,et.null,pe):Array.isArray(pe)?(arguments.length!==1&&S("When binding an array, an index argument is not permitted."),pe.forEach((H,ne)=>st(this,ne+1,Y(H),H)),this):(pe instanceof ArrayBuffer&&(pe=new Uint8Array(pe)),typeof pe=="object"&&!M.isBindableTypedArray(pe)?(arguments.length!==1&&S("When binding an object, an index argument is not permitted."),Object.keys(pe).forEach(H=>st(this,H,Y(pe[H]),pe[H])),this):st(this,ae,Y(pe),pe)))},bindAsBlob:function(ae,pe){Ke(this),arguments.length===1&&(pe=ae,ae=1);const H=Y(pe);return et.string!==H&&et.blob!==H&&et.null!==H&&S("Invalid value type for bindAsBlob()"),st(this,ae,et.blob,pe)},step:function(){Ee(this,"step()");const ae=E.sqlite3_step(Ke(this).pointer);switch(ae){case E.SQLITE_DONE:return this._mayGet=!1;case E.SQLITE_ROW:return this._mayGet=!0;default:this._mayGet=!1,y.config.warn("sqlite3_step() rc=",ae,E.sqlite3_js_rc_str(ae),"SQL =",E.sqlite3_sql(this.pointer)),Re.checkRc(this.db.pointer,ae)}},stepReset:function(){return this.step(),this.reset()},stepFinalize:function(){try{const ae=this.step();return this.reset(),ae}finally{try{this.finalize()}catch{}}},get:function(ae,pe){if(Ke(this)._mayGet||S("Stmt.step() has not (recently) returned true."),Array.isArray(ae)){let H=0;const ne=this.columnCount;for(;H<ne;)ae[H]=this.get(H++);return ae}else if(ae&&typeof ae=="object"){let H=0;const ne=this.columnCount;for(;H<ne;)ae[E.sqlite3_column_name(this.pointer,H)]=this.get(H++);return ae}switch(Te(this,ae),pe===void 0?E.sqlite3_column_type(this.pointer,ae):pe){case E.SQLITE_NULL:return null;case E.SQLITE_INTEGER:if(C.bigIntEnabled){const H=E.sqlite3_column_int64(this.pointer,ae);return H>=Number.MIN_SAFE_INTEGER&&H<=Number.MAX_SAFE_INTEGER?Number(H).valueOf():H}else{const H=E.sqlite3_column_double(this.pointer,ae);return(H>Number.MAX_SAFE_INTEGER||H<Number.MIN_SAFE_INTEGER)&&S("Integer is out of range for JS integer range: "+H),M.isInt32(H)?H|0:H}case E.SQLITE_FLOAT:return E.sqlite3_column_double(this.pointer,ae);case E.SQLITE_TEXT:return E.sqlite3_column_text(this.pointer,ae);case E.SQLITE_BLOB:{const H=E.sqlite3_column_bytes(this.pointer,ae),ne=E.sqlite3_column_blob(this.pointer,ae),ie=new Uint8Array(H);return H&&ie.set(C.heap8u().slice(ne,ne+H),0),H&&this.db._blobXfer instanceof Array&&this.db._blobXfer.push(ie.buffer),ie}default:S("Don't know how to translate","type of result column #"+ae+".")}S("Not reached.")},getInt:function(ae){return this.get(ae,E.SQLITE_INTEGER)},getFloat:function(ae){return this.get(ae,E.SQLITE_FLOAT)},getString:function(ae){return this.get(ae,E.SQLITE_TEXT)},getBlob:function(ae){return this.get(ae,E.SQLITE_BLOB)},getJSON:function(ae){const pe=this.get(ae,E.SQLITE_STRING);return pe===null?pe:JSON.parse(pe)},getColumnName:function(ae){return E.sqlite3_column_name(Te(Ke(this),ae).pointer,ae)},getColumnNames:function(ae=[]){Te(Ke(this),0);const pe=this.columnCount;for(let H=0;H<pe;++H)ae.push(E.sqlite3_column_name(this.pointer,H));return ae},getParamIndex:function(ae){return Ke(this).parameterCount?E.sqlite3_bind_parameter_index(this.pointer,ae):void 0},getParamName:function(ae){return Ke(this).parameterCount?E.sqlite3_bind_parameter_name(this.pointer,ae):void 0},isBusy:function(){return E.sqlite3_stmt_busy(Ke(this))!==0},isReadOnly:function(){return E.sqlite3_stmt_readonly(Ke(this))!==0}};{const ae={enumerable:!0,get:function(){return fe.get(this)},set:()=>S("The pointer property is read-only.")};Object.defineProperty(be.prototype,"pointer",ae),Object.defineProperty(Re.prototype,"pointer",ae)}if(Object.defineProperty(be.prototype,"columnCount",{enumerable:!1,get:function(){return E.sqlite3_column_count(this.pointer)},set:()=>S("The columnCount property is read-only.")}),y.oo1={DB:Re,Stmt:be},M.isUIThread()){y.oo1.JsStorageDb=function(pe="session"){const H=Be.normalizeArgs(...arguments);pe=H.filename,pe!=="session"&&pe!=="local"&&S("JsStorageDb db name must be one of 'session' or 'local'."),H.vfs="kvvfs",Be.call(this,H)};const ae=y.oo1.JsStorageDb;ae.prototype=Object.create(Re.prototype),ae.clearStorage=E.sqlite3_js_kvvfs_clear,ae.prototype.clearStorage=function(){return ae.clearStorage(Ie(this).filename)},ae.storageSize=E.sqlite3_js_kvvfs_size,ae.prototype.storageSize=function(){return ae.storageSize(Ie(this).filename)}}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=y.util;y.initWorker1API=function(){const E=(...Be)=>{throw new Error(Be.join(" "))};globalThis.WorkerGlobalScope instanceof Function||E("initWorker1API() must be run from a Worker thread.");const C=this.sqlite3||E("Missing this.sqlite3 object."),M=C.oo1.DB,fe=function(Be){let Re=me.idMap.get(Be);return Re||(Re="db#"+ ++me.idSeq+"@"+Be.pointer,me.idMap.set(Be,Re),Re)},me={dbList:[],idSeq:0,idMap:new WeakMap,xfer:[],open:function(Be){const Re=new M(Be);return this.dbs[fe(Re)]=Re,this.dbList.indexOf(Re)<0&&this.dbList.push(Re),Re},close:function(Be,Re){if(Be){delete this.dbs[fe(Be)];const et=Be.filename,be=S.sqlite3__wasm_db_vfs(Be.pointer,0);Be.close();const Ie=this.dbList.indexOf(Be);Ie>=0&&this.dbList.splice(Ie,1),Re&&et&&be&&S.sqlite3__wasm_vfs_unlink(be,et)}},post:function(Be,Re){Re&&Re.length?(globalThis.postMessage(Be,Array.from(Re)),Re.length=0):globalThis.postMessage(Be)},dbs:Object.create(null),getDb:function(Be,Re=!0){return this.dbs[Be]||(Re?E("Unknown (or closed) DB ID:",Be):void 0)}},Qe=function(Be=me.dbList[0]){return Be&&Be.pointer?Be:E("DB is not opened.")},tt=function(Be,Re=!0){const et=me.getDb(Be.dbId,!1)||me.dbList[0];return Re?Qe(et):et},at=function(){return me.dbList[0]&&fe(me.dbList[0])},mt={open:function(Be){const Re=Object.create(null),et=Be.args||Object.create(null);et.simulateError&&E("Throwing because of simulateError flag.");const be=Object.create(null);Re.vfs=et.vfs,Re.filename=et.filename||"";const Ie=me.open(Re);return be.filename=Ie.filename,be.persistent=!!C.capi.sqlite3_js_db_uses_vfs(Ie.pointer,"opfs"),be.dbId=fe(Ie),be.vfs=Ie.dbVfsName(),be},close:function(Be){const Re=tt(Be,!1),et={filename:Re&&Re.filename};if(Re){const be=Be.args&&typeof Be.args=="object"?!!Be.args.unlink:!1;me.close(Re,be)}return et},exec:function(Be){const Re=typeof Be.args=="string"?{sql:Be.args}:Be.args||Object.create(null);Re.rowMode==="stmt"?E("Invalid rowMode for 'exec': stmt mode","does not work in the Worker API."):Re.sql||E("'exec' requires input SQL.");const et=tt(Be);(Re.callback||Array.isArray(Re.resultRows))&&(et._blobXfer=me.xfer);const be=Re.callback;let Ie=0;const Te=!!Re.columnNames;typeof be=="string"&&(Te||(Re.columnNames=[]),Re.callback=function(Je,Ge){me.post({type:be,columnNames:Re.columnNames,rowNumber:++Ie,row:Je},me.xfer)});try{const Je=Re.countChanges?et.changes(!0,Re.countChanges===64):void 0;et.exec(Re),Je!==void 0&&(Re.changeCount=et.changes(!0,Re.countChanges===64)-Je),Re.callback instanceof Function&&(Re.callback=be,me.post({type:be,columnNames:Re.columnNames,rowNumber:null,row:void 0}))}finally{delete et._blobXfer,Re.callback&&(Re.callback=be)}return Re},"config-get":function(){const Be=Object.create(null),Re=C.config;return["bigIntEnabled"].forEach(function(et){Object.getOwnPropertyDescriptor(Re,et)&&(Be[et]=Re[et])}),Be.version=C.version,Be.vfsList=C.capi.sqlite3_js_vfs_list(),Be},export:function(Be){const Re=tt(Be),et={byteArray:C.capi.sqlite3_js_db_export(Re.pointer),filename:Re.filename,mimetype:"application/x-sqlite3"};return me.xfer.push(et.byteArray.buffer),et},toss:function(Be){E("Testing worker exception")}};globalThis.onmessage=async function(Be){Be=Be.data;let Re,et=Be.dbId,be=Be.type;const Ie=performance.now();try{mt.hasOwnProperty(be)&&mt[be]instanceof Function?Re=await mt[be](Be):E("Unknown db worker message type:",Be.type)}catch(Te){be="error",Re={operation:Be.type,message:Te.message,errorClass:Te.name,input:Be},Te.stack&&(Re.stack=typeof Te.stack=="string"?Te.stack.split(/\n\s*/):Te.stack)}et||(et=Re.dbId||at()),me.post({type:be,dbId:et,messageId:Be.messageId,workerReceivedTime:Ie,workerRespondTime:performance.now(),departureTime:Be.departureTime,result:Re},me.xfer)},globalThis.postMessage({type:"sqlite3-api",result:"worker1-ready"})}.bind({sqlite3:y})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=y.wasm,E=y.capi,C=y.util.toss3,M=Object.create(null);y.vfs=M,E.sqlite3_vfs.prototype.registerVfs=function(fe=!1){this instanceof y.capi.sqlite3_vfs||C("Expecting a sqlite3_vfs-type argument.");const me=E.sqlite3_vfs_register(this,fe?1:0);return me&&C("sqlite3_vfs_register(",this,") failed with rc",me),this.pointer!==E.sqlite3_vfs_find(this.$zName)&&C("BUG: sqlite3_vfs_find(vfs.$zName) failed for just-installed VFS",this),this},M.installVfs=function(fe){let me=0;const Qe=["io","vfs"];for(const tt of Qe){const at=fe[tt];at&&(++me,at.struct.installMethods(at.methods,!!at.applyArgcCheck),tt==="vfs"&&(!at.struct.$zName&&typeof at.name=="string"&&at.struct.addOnDispose(at.struct.$zName=S.allocCString(at.name)),at.struct.registerVfs(!!at.asDefault)))}return me||C("Misuse: installVfs() options object requires at least","one of:",Qe),this}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){if(!y.wasm.exports.sqlite3_declare_vtab)return;const S=y.wasm,E=y.capi,C=y.util.toss3,M=Object.create(null);y.vtab=M;const fe=E.sqlite3_index_info;fe.prototype.nthConstraint=function(tt,at=!1){if(tt<0||tt>=this.$nConstraint)return!1;const mt=this.$aConstraint+fe.sqlite3_index_constraint.structInfo.sizeof*tt;return at?mt:new fe.sqlite3_index_constraint(mt)},fe.prototype.nthConstraintUsage=function(tt,at=!1){if(tt<0||tt>=this.$nConstraint)return!1;const mt=this.$aConstraintUsage+fe.sqlite3_index_constraint_usage.structInfo.sizeof*tt;return at?mt:new fe.sqlite3_index_constraint_usage(mt)},fe.prototype.nthOrderBy=function(tt,at=!1){if(tt<0||tt>=this.$nOrderBy)return!1;const mt=this.$aOrderBy+fe.sqlite3_index_orderby.structInfo.sizeof*tt;return at?mt:new fe.sqlite3_index_orderby(mt)};const me=function(tt,at){return function(mt,Be=!1){if(arguments.length===0&&(mt=new at),mt instanceof at)return this.set(mt.pointer,mt),mt;S.isPtr(mt)||y.SQLite3Error.toss("Invalid argument to",tt+"()");let Re=this.get(mt);return Be&&this.delete(mt),Re}.bind(new Map)},Qe=function(tt,at){const mt=me(tt,at);return Object.assign(Object.create(null),{StructType:at,create:Be=>{const Re=mt();return S.pokePtr(Be,Re.pointer),Re},get:Be=>mt(Be),unget:Be=>mt(Be,!0),dispose:Be=>{const Re=mt(Be,!0);Re&&Re.dispose()}})};M.xVtab=Qe("xVtab",E.sqlite3_vtab),M.xCursor=Qe("xCursor",E.sqlite3_vtab_cursor),M.xIndexInfo=tt=>new E.sqlite3_index_info(tt),M.xError=function tt(at,mt,Be){if(tt.errorReporter instanceof Function)try{tt.errorReporter("sqlite3_module::"+at+"(): "+mt.message)}catch{}let Re;return mt instanceof y.WasmAllocError?Re=E.SQLITE_NOMEM:arguments.length>2?Re=Be:mt instanceof y.SQLite3Error&&(Re=mt.resultCode),Re||E.SQLITE_ERROR},M.xError.errorReporter=console.error.bind(console),M.xRowid=(tt,at)=>S.poke(tt,at,"i64"),M.setupModule=function(tt){let at=!1;const mt=this instanceof E.sqlite3_module?this:tt.struct||(at=new E.sqlite3_module);try{const Be=tt.methods||C("Missing 'methods' object.");for(const Re of Object.entries({xConnect:"xCreate",xDisconnect:"xDestroy"})){const et=Re[0],be=Re[1];Be[et]===!0?Be[et]=Be[be]:Be[be]===!0&&(Be[be]=Be[et])}if(tt.catchExceptions){const Re=function(Ie,Te){return["xConnect","xCreate"].indexOf(Ie)>=0?function(Je,Ge,Oe,Ke,St,Y){try{return Te(...arguments)||0}catch(ue){return ue instanceof y.WasmAllocError||(S.dealloc(S.peekPtr(Y)),S.pokePtr(Y,S.allocCString(ue.message))),M.xError(Ie,ue)}}:function(...Je){try{return Te(...Je)||0}catch(Ge){return M.xError(Ie,Ge)}}},et=["xCreate","xConnect","xBestIndex","xDisconnect","xDestroy","xOpen","xClose","xFilter","xNext","xEof","xColumn","xRowid","xUpdate","xBegin","xSync","xCommit","xRollback","xFindFunction","xRename","xSavepoint","xRelease","xRollbackTo","xShadowName"],be=Object.create(null);for(const Ie of et){const Te=Be[Ie];if(Te instanceof Function)Ie==="xConnect"&&Be.xCreate===Te?be[Ie]=Be.xCreate:Ie==="xCreate"&&Be.xConnect===Te?be[Ie]=Be.xConnect:be[Ie]=Re(Ie,Te);else continue}mt.installMethods(be,!1)}else mt.installMethods(Be,!!tt.applyArgcCheck);if(mt.$iVersion===0){let Re;typeof tt.iVersion=="number"?Re=tt.iVersion:mt.$xShadowName?Re=3:mt.$xSavePoint||mt.$xRelease||mt.$xRollbackTo?Re=2:Re=1,mt.$iVersion=Re}}catch(Be){throw at&&at.dispose(),Be}return mt},E.sqlite3_module.prototype.setupModule=function(tt){return M.setupModule.call(this,tt)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=function E(C){if(!globalThis.SharedArrayBuffer||!globalThis.Atomics)return Promise.reject(new Error("Cannot install OPFS: Missing SharedArrayBuffer and/or Atomics. The server must emit the COOP/COEP response headers to enable those. See https://sqlite.org/wasm/doc/trunk/persistence.md#coop-coep"));if(typeof WorkerGlobalScope>"u")return Promise.reject(new Error("The OPFS sqlite3_vfs cannot run in the main thread because it requires Atomics.wait()."));if(!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory)return Promise.reject(new Error("Missing required OPFS APIs."));(!C||typeof C!="object")&&(C=Object.create(null));const M=new URL(globalThis.location.href).searchParams;return M.has("opfs-disable")?Promise.resolve(y):(C.verbose===void 0&&(C.verbose=M.has("opfs-verbose")?+M.get("opfs-verbose")||2:1),C.sanityChecks===void 0&&(C.sanityChecks=M.has("opfs-sanity-check")),C.proxyUri===void 0&&(C.proxyUri=E.defaultProxyUri),typeof C.proxyUri=="function"&&(C.proxyUri=C.proxyUri()),new Promise(function(me,Qe){const tt=[y.config.error,y.config.warn,y.config.log],at=(je,...nt)=>{C.verbose>je&&tt[je]("OPFS syncer:",...nt)},mt=(...je)=>at(2,...je),Be=(...je)=>at(1,...je),Re=(...je)=>at(0,...je),et=y.util.toss,be=y.capi,Ie=y.util,Te=y.wasm,Je=be.sqlite3_vfs,Ge=be.sqlite3_file,Oe=be.sqlite3_io_methods,Ke=Object.create(null),St=()=>globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&navigator?.storage?.getDirectory;Ke.metrics={dump:function(){let je,nt=0,dt=0,Nt=0;for(je in ie.opIds){const xt=Le[je];nt+=xt.count,dt+=xt.time,Nt+=xt.wait,xt.avgTime=xt.count&&xt.time?xt.time/xt.count:0,xt.avgWait=xt.count&&xt.wait?xt.wait/xt.count:0}y.config.log(globalThis.location.href,"metrics for",globalThis.location.href,":",Le,`
Total of`,nt,"op(s) for",dt,"ms (incl. "+Nt+" ms of waiting on the async side)"),y.config.log("Serialization metrics:",Le.s11n),pe.postMessage({type:"opfs-async-metrics"})},reset:function(){let je;const nt=Nt=>Nt.count=Nt.time=Nt.wait=0;for(je in ie.opIds)nt(Le[je]=Object.create(null));let dt=Le.s11n=Object.create(null);dt=dt.serialize=Object.create(null),dt.count=dt.time=0,dt=Le.s11n.deserialize=Object.create(null),dt.count=dt.time=0}};const Y=new Oe,ue=new Je().addOnDispose(()=>Y.dispose());let Ee;const st=je=>(Ee=!0,ue.dispose(),Qe(je)),ae=()=>(Ee=!1,me(y)),pe=new Worker(new URL("/assets/sqlite3-opfs-async-proxy-C_otN2ZJ.js",import.meta.url));setTimeout(()=>{Ee===void 0&&st(new Error("Timeout while waiting for OPFS async proxy worker."))},4e3),pe._originalOnError=pe.onerror,pe.onerror=function(je){Re("Error initializing OPFS asyncer:",je),st(new Error("Loading OPFS async Worker failed for unknown reasons."))};const H=be.sqlite3_vfs_find(null),ne=H?new Je(H):null;Y.$iVersion=1,ue.$iVersion=2,ue.$szOsFile=be.sqlite3_file.structInfo.sizeof,ue.$mxPathname=1024,ue.$zName=Te.allocCString("opfs"),ue.$xDlOpen=ue.$xDlError=ue.$xDlSym=ue.$xDlClose=null,ue.addOnDispose("$zName",ue.$zName,"cleanup default VFS wrapper",()=>ne?ne.dispose():null);const ie=Object.create(null);ie.verbose=C.verbose,ie.littleEndian=(()=>{const je=new ArrayBuffer(2);return new DataView(je).setInt16(0,256,!0),new Int16Array(je)[0]===256})(),ie.asyncIdleWaitTime=150,ie.asyncS11nExceptions=1,ie.fileBufferSize=1024*64,ie.sabS11nOffset=ie.fileBufferSize,ie.sabS11nSize=ue.$mxPathname*2,ie.sabIO=new SharedArrayBuffer(ie.fileBufferSize+ie.sabS11nSize),ie.opIds=Object.create(null);const Le=Object.create(null);{let je=0;ie.opIds.whichOp=je++,ie.opIds.rc=je++,ie.opIds.xAccess=je++,ie.opIds.xClose=je++,ie.opIds.xDelete=je++,ie.opIds.xDeleteNoWait=je++,ie.opIds.xFileSize=je++,ie.opIds.xLock=je++,ie.opIds.xOpen=je++,ie.opIds.xRead=je++,ie.opIds.xSleep=je++,ie.opIds.xSync=je++,ie.opIds.xTruncate=je++,ie.opIds.xUnlock=je++,ie.opIds.xWrite=je++,ie.opIds.mkdir=je++,ie.opIds["opfs-async-metrics"]=je++,ie.opIds["opfs-async-shutdown"]=je++,ie.opIds.retry=je++,ie.sabOP=new SharedArrayBuffer(je*4),Ke.metrics.reset()}ie.sq3Codes=Object.create(null),["SQLITE_ACCESS_EXISTS","SQLITE_ACCESS_READWRITE","SQLITE_BUSY","SQLITE_CANTOPEN","SQLITE_ERROR","SQLITE_IOERR","SQLITE_IOERR_ACCESS","SQLITE_IOERR_CLOSE","SQLITE_IOERR_DELETE","SQLITE_IOERR_FSYNC","SQLITE_IOERR_LOCK","SQLITE_IOERR_READ","SQLITE_IOERR_SHORT_READ","SQLITE_IOERR_TRUNCATE","SQLITE_IOERR_UNLOCK","SQLITE_IOERR_WRITE","SQLITE_LOCK_EXCLUSIVE","SQLITE_LOCK_NONE","SQLITE_LOCK_PENDING","SQLITE_LOCK_RESERVED","SQLITE_LOCK_SHARED","SQLITE_LOCKED","SQLITE_MISUSE","SQLITE_NOTFOUND","SQLITE_OPEN_CREATE","SQLITE_OPEN_DELETEONCLOSE","SQLITE_OPEN_MAIN_DB","SQLITE_OPEN_READONLY"].forEach(je=>{(ie.sq3Codes[je]=be[je])===void 0&&et("Maintenance required: not found:",je)}),ie.opfsFlags=Object.assign(Object.create(null),{OPFS_UNLOCK_ASAP:1,OPFS_UNLINK_BEFORE_OPEN:2,defaultUnlockAsap:!1});const it=(je,...nt)=>{const dt=ie.opIds[je]||et("Invalid op ID:",je);ie.s11n.serialize(...nt),Atomics.store(ie.sabOPView,ie.opIds.rc,-1),Atomics.store(ie.sabOPView,ie.opIds.whichOp,dt),Atomics.notify(ie.sabOPView,ie.opIds.whichOp);const Nt=performance.now();for(;Atomics.wait(ie.sabOPView,ie.opIds.rc,-1)!=="not-equal";);const xt=Atomics.load(ie.sabOPView,ie.opIds.rc);if(Le[je].wait+=performance.now()-Nt,xt&&ie.asyncS11nExceptions){const $t=ie.s11n.deserialize();$t&&Re(je+"() async error:",...$t)}return xt};Ke.debug={asyncShutdown:()=>{Be("Shutting down OPFS async listener. The OPFS VFS will no longer work."),it("opfs-async-shutdown")},asyncRestart:()=>{Be("Attempting to restart OPFS VFS async listener. Might work, might not."),pe.postMessage({type:"opfs-async-restart"})}};const Ot=()=>{if(ie.s11n)return ie.s11n;const je=new TextDecoder,nt=new TextEncoder("utf-8"),dt=new Uint8Array(ie.sabIO,ie.sabS11nOffset,ie.sabS11nSize),Nt=new DataView(ie.sabIO,ie.sabS11nOffset,ie.sabS11nSize);ie.s11n=Object.create(null);const xt=Object.create(null);xt.number={id:1,size:8,getter:"getFloat64",setter:"setFloat64"},xt.bigint={id:2,size:8,getter:"getBigInt64",setter:"setBigInt64"},xt.boolean={id:3,size:4,getter:"getInt32",setter:"setInt32"},xt.string={id:4};const $t=qt=>xt[typeof qt]||et("Maintenance required: this value type cannot be serialized.",qt),pn=qt=>{switch(qt){case xt.number.id:return xt.number;case xt.bigint.id:return xt.bigint;case xt.boolean.id:return xt.boolean;case xt.string.id:return xt.string;default:et("Invalid type ID:",qt)}};return ie.s11n.deserialize=function(qt=!1){++Le.s11n.deserialize.count;const xr=performance.now(),We=dt[0],vt=We?[]:null;if(We){const wt=[];let kt=1,hn,Vn,$n;for(hn=0;hn<We;++hn,++kt)wt.push(pn(dt[kt]));for(hn=0;hn<We;++hn){const Wn=wt[hn];Wn.getter?($n=Nt[Wn.getter](kt,ie.littleEndian),kt+=Wn.size):(Vn=Nt.getInt32(kt,ie.littleEndian),kt+=4,$n=je.decode(dt.slice(kt,kt+Vn)),kt+=Vn),vt.push($n)}}return qt&&(dt[0]=0),Le.s11n.deserialize.time+=performance.now()-xr,vt},ie.s11n.serialize=function(...qt){const xr=performance.now();if(++Le.s11n.serialize.count,qt.length){const We=[];let vt=0,wt=1;for(dt[0]=qt.length&255;vt<qt.length;++vt,++wt)We.push($t(qt[vt])),dt[wt]=We[vt].id;for(vt=0;vt<qt.length;++vt){const kt=We[vt];if(kt.setter)Nt[kt.setter](wt,qt[vt],ie.littleEndian),wt+=kt.size;else{const hn=nt.encode(qt[vt]);Nt.setInt32(wt,hn.byteLength,ie.littleEndian),wt+=4,dt.set(hn,wt),wt+=hn.byteLength}}}else dt[0]=0;Le.s11n.serialize.time+=performance.now()-xr},ie.s11n},Bt=function je(nt=16){je._chars||(je._chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ012346789",je._n=je._chars.length);const dt=[];let Nt=0;for(;Nt<nt;++Nt){const xt=Math.random()*(je._n*64)%je._n|0;dt[Nt]=je._chars[xt]}return dt.join("")},Gt=Object.create(null),lt=Object.create(null);lt.op=void 0,lt.start=void 0;const _e=je=>{lt.start=performance.now(),lt.op=je,++Le[je].count},Pe=()=>Le[lt.op].time+=performance.now()-lt.start,ot={xCheckReservedLock:function(je,nt){return Te.poke(nt,0,"i32"),0},xClose:function(je){_e("xClose");let nt=0;const dt=Gt[je];return dt&&(delete Gt[je],nt=it("xClose",je),dt.sq3File&&dt.sq3File.dispose()),Pe(),nt},xDeviceCharacteristics:function(je){return be.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(je,nt,dt){return be.SQLITE_NOTFOUND},xFileSize:function(je,nt){_e("xFileSize");let dt=it("xFileSize",je);if(dt==0)try{const Nt=ie.s11n.deserialize()[0];Te.poke(nt,Nt,"i64")}catch(Nt){Re("Unexpected error reading xFileSize() result:",Nt),dt=ie.sq3Codes.SQLITE_IOERR}return Pe(),dt},xLock:function(je,nt){_e("xLock");const dt=Gt[je];let Nt=0;return dt.lockType?dt.lockType=nt:(Nt=it("xLock",je,nt),Nt===0&&(dt.lockType=nt)),Pe(),Nt},xRead:function(je,nt,dt,Nt){_e("xRead");const xt=Gt[je];let $t;try{$t=it("xRead",je,dt,Number(Nt)),($t===0||be.SQLITE_IOERR_SHORT_READ===$t)&&Te.heap8u().set(xt.sabView.subarray(0,dt),nt)}catch(pn){Re("xRead(",arguments,") failed:",pn,xt),$t=be.SQLITE_IOERR_READ}return Pe(),$t},xSync:function(je,nt){_e("xSync"),++Le.xSync.count;const dt=it("xSync",je,nt);return Pe(),dt},xTruncate:function(je,nt){_e("xTruncate");const dt=it("xTruncate",je,Number(nt));return Pe(),dt},xUnlock:function(je,nt){_e("xUnlock");const dt=Gt[je];let Nt=0;return be.SQLITE_LOCK_NONE===nt&&dt.lockType&&(Nt=it("xUnlock",je,nt)),Nt===0&&(dt.lockType=nt),Pe(),Nt},xWrite:function(je,nt,dt,Nt){_e("xWrite");const xt=Gt[je];let $t;try{xt.sabView.set(Te.heap8u().subarray(nt,nt+dt)),$t=it("xWrite",je,dt,Number(Nt))}catch(pn){Re("xWrite(",arguments,") failed:",pn,xt),$t=be.SQLITE_IOERR_WRITE}return Pe(),$t}},pt={xAccess:function(je,nt,dt,Nt){_e("xAccess");const xt=it("xAccess",Te.cstrToJs(nt));return Te.poke(Nt,xt?0:1,"i32"),Pe(),0},xCurrentTime:function(je,nt){return Te.poke(nt,2440587.5+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(je,nt){return Te.poke(nt,2440587.5*864e5+new Date().getTime(),"i64"),0},xDelete:function(je,nt,dt){_e("xDelete");const Nt=it("xDelete",Te.cstrToJs(nt),dt,!1);return Pe(),Nt},xFullPathname:function(je,nt,dt,Nt){return Te.cstrncpy(Nt,nt,dt)<dt?0:be.SQLITE_CANTOPEN},xGetLastError:function(je,nt,dt){return Be("OPFS xGetLastError() has nothing sensible to return."),0},xOpen:function(nt,dt,Nt,xt,$t){_e("xOpen");let pn=0;dt===0?dt=Bt():Te.isPtr(dt)&&(be.sqlite3_uri_boolean(dt,"opfs-unlock-asap",0)&&(pn|=ie.opfsFlags.OPFS_UNLOCK_ASAP),be.sqlite3_uri_boolean(dt,"delete-before-open",0)&&(pn|=ie.opfsFlags.OPFS_UNLINK_BEFORE_OPEN),dt=Te.cstrToJs(dt));const qt=Object.create(null);qt.fid=Nt,qt.filename=dt,qt.sab=new SharedArrayBuffer(ie.fileBufferSize),qt.flags=xt,qt.readOnly=!(y.SQLITE_OPEN_CREATE&xt)&&!!(xt&be.SQLITE_OPEN_READONLY);const xr=it("xOpen",Nt,dt,xt,pn);return xr||(qt.readOnly&&Te.poke($t,be.SQLITE_OPEN_READONLY,"i32"),Gt[Nt]=qt,qt.sabView=ie.sabFileBufView,qt.sq3File=new Ge(Nt),qt.sq3File.$pMethods=Y.pointer,qt.lockType=be.SQLITE_LOCK_NONE),Pe(),xr}};ne&&(ue.$xRandomness=ne.$xRandomness,ue.$xSleep=ne.$xSleep),ue.$xRandomness||(pt.xRandomness=function(je,nt,dt){const Nt=Te.heap8u();let xt=0;for(;xt<nt;++xt)Nt[dt+xt]=Math.random()*255e3&255;return xt}),ue.$xSleep||(pt.xSleep=function(je,nt){return Atomics.wait(ie.sabOPView,ie.opIds.xSleep,0,nt),0}),Ke.getResolvedPath=function(je,nt){const dt=new URL(je,"file://irrelevant").pathname;return nt?dt.split("/").filter(Nt=>!!Nt):dt},Ke.getDirForFilename=async function(nt,dt=!1){const Nt=Ke.getResolvedPath(nt,!0),xt=Nt.pop();let $t=Ke.rootDirectory;for(const pn of Nt)pn&&($t=await $t.getDirectoryHandle(pn,{create:!!dt}));return[$t,xt]},Ke.mkdir=async function(je){try{return await Ke.getDirForFilename(je+"/filepart",!0),!0}catch{return!1}},Ke.entryExists=async function(je){try{const[nt,dt]=await Ke.getDirForFilename(je);return await nt.getFileHandle(dt),!0}catch{return!1}},Ke.randomFilename=Bt,Ke.treeList=async function(){const je=async function dt(Nt,xt){xt.name=Nt.name,xt.dirs=[],xt.files=[];for await(const $t of Nt.values())if($t.kind==="directory"){const pn=Object.create(null);xt.dirs.push(pn),await dt($t,pn)}else xt.files.push($t.name)},nt=Object.create(null);return await je(Ke.rootDirectory,nt),nt},Ke.rmfr=async function(){const je=Ke.rootDirectory,nt={recurse:!0};for await(const dt of je.values())je.removeEntry(dt.name,nt)},Ke.unlink=async function(je,nt=!1,dt=!1){try{const[Nt,xt]=await Ke.getDirForFilename(je,!1);return await Nt.removeEntry(xt,{recursive:nt}),!0}catch(Nt){if(dt)throw new Error("unlink(",arguments[0],") failed: "+Nt.message,{cause:Nt});return!1}},Ke.traverse=async function(je){const nt={recursive:!0,directory:Ke.rootDirectory};typeof je=="function"&&(je={callback:je}),je=Object.assign(nt,je||{}),async function Nt(xt,$t){for await(const pn of xt.values()){if(je.callback(pn,xt,$t)===!1)return!1;if(je.recursive&&pn.kind==="directory"&&await Nt(pn,$t+1)===!1)break}}(je.directory,0)};const Pt=async function(je,nt){const[dt,Nt]=await Ke.getDirForFilename(je,!0);let $t=await (await dt.getFileHandle(Nt,{create:!0})).createSyncAccessHandle(),pn=0,qt,xr=!1;try{for($t.truncate(0);(qt=await nt())!==void 0;)qt instanceof ArrayBuffer&&(qt=new Uint8Array(qt)),pn===0&&qt.byteLength>=15&&(Ie.affirmDbHeader(qt),xr=!0),$t.write(qt,{at:pn}),pn+=qt.byteLength;if((pn<512||pn%512!==0)&&et("Input size",pn,"is not correct for an SQLite database."),!xr){const We=new Uint8Array(20);$t.read(We,{at:0}),Ie.affirmDbHeader(We)}return $t.write(new Uint8Array([1,1]),{at:18}),pn}catch(We){throw await $t.close(),$t=void 0,await dt.removeEntry(Nt).catch(()=>{}),We}finally{$t&&await $t.close()}};if(Ke.importDb=async function(je,nt){if(nt instanceof Function)return Pt(je,nt);nt instanceof ArrayBuffer&&(nt=new Uint8Array(nt)),Ie.affirmIsDb(nt);const dt=nt.byteLength,[Nt,xt]=await Ke.getDirForFilename(je,!0);let $t,pn=0;try{return $t=await (await Nt.getFileHandle(xt,{create:!0})).createSyncAccessHandle(),$t.truncate(0),pn=$t.write(nt,{at:0}),pn!=dt&&et("Expected to write "+dt+" bytes but wrote "+pn+"."),$t.write(new Uint8Array([1,1]),{at:18}),pn}catch(qt){throw $t&&(await $t.close(),$t=void 0),await Nt.removeEntry(xt).catch(()=>{}),qt}finally{$t&&await $t.close()}},y.oo1){const je=function(...nt){const dt=y.oo1.DB.dbCtorHelper.normalizeArgs(...nt);dt.vfs=ue.$zName,y.oo1.DB.dbCtorHelper.call(this,dt)};je.prototype=Object.create(y.oo1.DB.prototype),y.oo1.OpfsDb=je,je.importDb=Ke.importDb,y.oo1.DB.dbCtorHelper.setVfsPostOpenCallback(ue.pointer,function(nt,dt){dt.capi.sqlite3_busy_timeout(nt,1e4)})}const Zt=function(){const je=Te.scopedAllocPush(),nt=new Ge;try{const dt=nt.pointer,Nt=be.SQLITE_OPEN_CREATE|be.SQLITE_OPEN_READWRITE|be.SQLITE_OPEN_MAIN_DB,xt=Te.scopedAlloc(8),$t="/sanity/check/file"+Bt(8),pn=Te.scopedAllocCString($t);let qt;if(ie.s11n.serialize("This is \xe4 string."),qt=ie.s11n.deserialize(),mt("deserialize() says:",qt),qt[0]!=="This is \xe4 string."&&et("String d13n error."),pt.xAccess(ue.pointer,pn,0,xt),qt=Te.peek(xt,"i32"),mt("xAccess(",$t,") exists ?=",qt),qt=pt.xOpen(ue.pointer,pn,dt,Nt,xt),mt("open rc =",qt,"state.sabOPView[xOpen] =",ie.sabOPView[ie.opIds.xOpen]),qt!==0){Re("open failed with code",qt);return}pt.xAccess(ue.pointer,pn,0,xt),qt=Te.peek(xt,"i32"),qt||et("xAccess() failed to detect file."),qt=ot.xSync(nt.pointer,0),qt&&et("sync failed w/ rc",qt),qt=ot.xTruncate(nt.pointer,1024),qt&&et("truncate failed w/ rc",qt),Te.poke(xt,0,"i64"),qt=ot.xFileSize(nt.pointer,xt),qt&&et("xFileSize failed w/ rc",qt),mt("xFileSize says:",Te.peek(xt,"i64")),qt=ot.xWrite(nt.pointer,pn,10,1),qt&&et("xWrite() failed!");const xr=Te.scopedAlloc(16);qt=ot.xRead(nt.pointer,xr,6,2),Te.poke(xr+6,0);let We=Te.cstrToJs(xr);mt("xRead() got:",We),We!=="sanity"&&et("Unexpected xRead() value."),pt.xSleep&&(mt("xSleep()ing before close()ing..."),pt.xSleep(ue.pointer,2e3),mt("waking up from xSleep()")),qt=ot.xClose(dt),mt("xClose rc =",qt,"sabOPView =",ie.sabOPView),mt("Deleting file:",$t),pt.xDelete(ue.pointer,pn,4660),pt.xAccess(ue.pointer,pn,0,xt),qt=Te.peek(xt,"i32"),qt&&et("Expecting 0 from xAccess(",$t,") after xDelete()."),Be("End of OPFS sanity checks.")}finally{nt.dispose(),Te.scopedAllocPop(je)}};pe.onmessage=function({data:je}){switch(je.type){case"opfs-unavailable":st(new Error(je.payload.join(" ")));break;case"opfs-async-loaded":pe.postMessage({type:"opfs-async-init",args:ie});break;case"opfs-async-inited":{if(Ee===!0)break;try{y.vfs.installVfs({io:{struct:Y,methods:ot},vfs:{struct:ue,methods:pt}}),ie.sabOPView=new Int32Array(ie.sabOP),ie.sabFileBufView=new Uint8Array(ie.sabIO,0,ie.fileBufferSize),ie.sabS11nView=new Uint8Array(ie.sabIO,ie.sabS11nOffset,ie.sabS11nSize),Ot(),C.sanityChecks&&(Be("Running sanity checks because of opfs-sanity-check URL arg..."),Zt()),St()?navigator.storage.getDirectory().then(nt=>{pe.onerror=pe._originalOnError,delete pe._originalOnError,y.opfs=Ke,Ke.rootDirectory=nt,mt("End of OPFS sqlite3_vfs setup.",ue),ae()}).catch(st):ae()}catch(nt){Re(nt),st(nt)}break}default:{const nt="Unexpected message from the OPFS async worker: "+JSON.stringify(je);Re(nt),st(new Error(nt));break}}}}))};S.defaultProxyUri="sqlite3-opfs-async-proxy.js",globalThis.sqlite3ApiBootstrap.initializersAsync.push(async E=>{try{let C=S.defaultProxyUri;return E.scriptInfo.sqlite3Dir&&(S.defaultProxyUri=E.scriptInfo.sqlite3Dir+C),S().catch(M=>{E.config.warn("Ignoring inability to install OPFS sqlite3_vfs:",M.message)})}catch(C){return E.config.error("installOpfsVfs() exception:",C),Promise.reject(C)}})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=y.util.toss,E=y.util.toss3,C=Object.create(null),M=y.capi,fe=y.util,me=y.wasm,Qe=4096,tt=512,at=4,mt=8,Be=tt+at,Re=tt,et=Be,be=Qe,Ie=M.SQLITE_OPEN_MAIN_DB|M.SQLITE_OPEN_MAIN_JOURNAL|M.SQLITE_OPEN_SUPER_JOURNAL|M.SQLITE_OPEN_WAL,Te=".opaque",Je=()=>Math.random().toString(36).slice(2),Ge=new TextDecoder,Oe=new TextEncoder,Ke=Object.assign(Object.create(null),{name:"opfs-sahpool",directory:void 0,initialCapacity:6,clearOnInit:!1,verbosity:2,forceReinitIfPreviouslyFailed:!1}),St=[y.config.error,y.config.warn,y.config.log];y.config.log;const Y=y.config.warn;y.config.error;const ue=new Map,Ee=lt=>ue.get(lt),st=(lt,_e)=>{_e?ue.set(lt,_e):ue.delete(lt)},ae=new Map,pe=lt=>ae.get(lt),H=(lt,_e)=>{_e?ae.set(lt,_e):ae.delete(lt)},ne={xCheckReservedLock:function(lt,_e){const Pe=pe(lt);return Pe.log("xCheckReservedLock"),Pe.storeErr(),me.poke32(_e,1),0},xClose:function(lt){const _e=pe(lt);_e.storeErr();const Pe=_e.getOFileForS3File(lt);if(Pe)try{_e.log(`xClose ${Pe.path}`),_e.mapS3FileToOFile(lt,!1),Pe.sah.flush(),Pe.flags&M.SQLITE_OPEN_DELETEONCLOSE&&_e.deletePath(Pe.path)}catch(ot){return _e.storeErr(ot,M.SQLITE_IOERR)}return 0},xDeviceCharacteristics:function(lt){return M.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(lt,_e,Pe){return M.SQLITE_NOTFOUND},xFileSize:function(lt,_e){const Pe=pe(lt);Pe.log("xFileSize");const pt=Pe.getOFileForS3File(lt).sah.getSize()-be;return me.poke64(_e,BigInt(pt)),0},xLock:function(lt,_e){const Pe=pe(lt);Pe.log(`xLock ${_e}`),Pe.storeErr();const ot=Pe.getOFileForS3File(lt);return ot.lockType=_e,0},xRead:function(lt,_e,Pe,ot){const pt=pe(lt);pt.storeErr();const Pt=pt.getOFileForS3File(lt);pt.log(`xRead ${Pt.path} ${Pe} @ ${ot}`);try{const Zt=Pt.sah.read(me.heap8u().subarray(_e,_e+Pe),{at:be+Number(ot)});return Zt<Pe?(me.heap8u().fill(0,_e+Zt,_e+Pe),M.SQLITE_IOERR_SHORT_READ):0}catch(Zt){return pt.storeErr(Zt,M.SQLITE_IOERR)}},xSectorSize:function(lt){return Qe},xSync:function(lt,_e){const Pe=pe(lt);Pe.log(`xSync ${_e}`),Pe.storeErr();const ot=Pe.getOFileForS3File(lt);try{return ot.sah.flush(),0}catch(pt){return Pe.storeErr(pt,M.SQLITE_IOERR)}},xTruncate:function(lt,_e){const Pe=pe(lt);Pe.log(`xTruncate ${_e}`),Pe.storeErr();const ot=Pe.getOFileForS3File(lt);try{return ot.sah.truncate(be+Number(_e)),0}catch(pt){return Pe.storeErr(pt,M.SQLITE_IOERR)}},xUnlock:function(lt,_e){const Pe=pe(lt);Pe.log("xUnlock");const ot=Pe.getOFileForS3File(lt);return ot.lockType=_e,0},xWrite:function(lt,_e,Pe,ot){const pt=pe(lt);pt.storeErr();const Pt=pt.getOFileForS3File(lt);pt.log(`xWrite ${Pt.path} ${Pe} ${ot}`);try{const Zt=Pt.sah.write(me.heap8u().subarray(_e,_e+Pe),{at:be+Number(ot)});return Pe===Zt?0:S("Unknown write() failure.")}catch(Zt){return pt.storeErr(Zt,M.SQLITE_IOERR)}}},ie=new M.sqlite3_io_methods;ie.$iVersion=1,y.vfs.installVfs({io:{struct:ie,methods:ne}});const Le={xAccess:function(lt,_e,Pe,ot){const pt=Ee(lt);pt.storeErr();try{const Pt=pt.getPath(_e);me.poke32(ot,pt.hasFilename(Pt)?1:0)}catch{me.poke32(ot,0)}return 0},xCurrentTime:function(lt,_e){return me.poke(_e,2440587.5+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(lt,_e){return me.poke(_e,2440587.5*864e5+new Date().getTime(),"i64"),0},xDelete:function(lt,_e,Pe){const ot=Ee(lt);ot.log(`xDelete ${me.cstrToJs(_e)}`),ot.storeErr();try{return ot.deletePath(ot.getPath(_e)),0}catch(pt){return ot.storeErr(pt),M.SQLITE_IOERR_DELETE}},xFullPathname:function(lt,_e,Pe,ot){return me.cstrncpy(ot,_e,Pe)<Pe?0:M.SQLITE_CANTOPEN},xGetLastError:function(lt,_e,Pe){const ot=Ee(lt),pt=ot.popErr();if(ot.log(`xGetLastError ${_e} e =`,pt),pt){const Pt=me.scopedAllocPush();try{const[Zt,je]=me.scopedAllocCString(pt.message,!0);me.cstrncpy(Pe,Zt,_e),je>_e&&me.poke8(Pe+_e-1,0)}catch{return M.SQLITE_NOMEM}finally{me.scopedAllocPop(Pt)}}return pt?pt.sqlite3Rc||M.SQLITE_IOERR:0},xOpen:function(_e,Pe,ot,pt,Pt){const Zt=Ee(_e);try{Zt.log(`xOpen ${me.cstrToJs(Pe)} ${pt}`);const je=Pe&&me.peek8(Pe)?Zt.getPath(Pe):Je();let nt=Zt.getSAHForPath(je);!nt&&pt&M.SQLITE_OPEN_CREATE&&(Zt.getFileCount()<Zt.getCapacity()?(nt=Zt.nextAvailableSAH(),Zt.setAssociatedPath(nt,je,pt)):S("SAH pool is full. Cannot create file",je)),nt||S("file not found:",je);const dt={path:je,flags:pt,sah:nt};Zt.mapS3FileToOFile(ot,dt),dt.lockType=M.SQLITE_LOCK_NONE;const Nt=new M.sqlite3_file(ot);return Nt.$pMethods=ie.pointer,Nt.dispose(),me.poke32(Pt,pt),0}catch(je){return Zt.storeErr(je),M.SQLITE_CANTOPEN}}},it=function(lt){y.capi.sqlite3_vfs_find(lt)&&E("VFS name is already registered:",lt);const _e=new M.sqlite3_vfs,Pe=M.sqlite3_vfs_find(null),ot=Pe?new M.sqlite3_vfs(Pe):null;return _e.$iVersion=2,_e.$szOsFile=M.sqlite3_file.structInfo.sizeof,_e.$mxPathname=tt,_e.addOnDispose(_e.$zName=me.allocCString(lt),()=>st(_e.pointer,0)),ot&&(_e.$xRandomness=ot.$xRandomness,_e.$xSleep=ot.$xSleep,ot.dispose()),!_e.$xRandomness&&!Le.xRandomness&&(Le.xRandomness=function(pt,Pt,Zt){const je=me.heap8u();let nt=0;for(;nt<Pt;++nt)je[Zt+nt]=Math.random()*255e3&255;return nt}),!_e.$xSleep&&!Le.xSleep&&(Le.xSleep=(pt,Pt)=>0),y.vfs.installVfs({vfs:{struct:_e,methods:Le}}),_e};class Ot{vfsDir;#e;#t;#n;#r=new Map;#i=new Map;#s=new Set;#o=new Map;#a=new Uint8Array(Be);#u;#l;#c;constructor(_e=Object.create(null)){this.#c=_e.verbosity??Ke.verbosity,this.vfsName=_e.name||Ke.name,this.#l=it(this.vfsName),st(this.#l.pointer,this),this.vfsDir=_e.directory||"."+this.vfsName,this.#u=new DataView(this.#a.buffer,this.#a.byteOffset),this.isReady=this.reset(!!(_e.clearOnInit??Ke.clearOnInit)).then(()=>{if(this.$error)throw this.$error;return this.getCapacity()?Promise.resolve(void 0):this.addCapacity(_e.initialCapacity||Ke.initialCapacity)})}#d(_e,...Pe){this.#c>_e&&St[_e](this.vfsName+":",...Pe)}log(..._e){this.#d(2,..._e)}warn(..._e){this.#d(1,..._e)}error(..._e){this.#d(0,..._e)}getVfs(){return this.#l}getCapacity(){return this.#r.size}getFileCount(){return this.#i.size}getFileNames(){const _e=[],Pe=this.#i.keys();for(const ot of Pe)_e.push(ot);return _e}async addCapacity(_e){for(let Pe=0;Pe<_e;++Pe){const ot=Je(),Pt=await (await this.#t.getFileHandle(ot,{create:!0})).createSyncAccessHandle();this.#r.set(Pt,ot),this.setAssociatedPath(Pt,"",0)}return this.getCapacity()}async reduceCapacity(_e){let Pe=0;for(const ot of Array.from(this.#s)){if(Pe===_e||this.getFileCount()===this.getCapacity())break;const pt=this.#r.get(ot);ot.close(),await this.#t.removeEntry(pt),this.#r.delete(ot),this.#s.delete(ot),++Pe}return Pe}releaseAccessHandles(){for(const _e of this.#r.keys())_e.close();this.#r.clear(),this.#i.clear(),this.#s.clear()}async acquireAccessHandles(_e){const Pe=[];for await(const[ot,pt]of this.#t)pt.kind==="file"&&Pe.push([ot,pt]);return Promise.all(Pe.map(async([ot,pt])=>{try{const Pt=await pt.createSyncAccessHandle();if(this.#r.set(Pt,ot),_e)Pt.truncate(be),this.setAssociatedPath(Pt,"",0);else{const Zt=this.getAssociatedPath(Pt);Zt?this.#i.set(Zt,Pt):this.#s.add(Pt)}}catch(Pt){throw this.storeErr(Pt),this.releaseAccessHandles(),Pt}}))}getAssociatedPath(_e){_e.read(this.#a,{at:0});const Pe=this.#u.getUint32(Re);if(this.#a[0]&&(Pe&M.SQLITE_OPEN_DELETEONCLOSE||!(Pe&Ie)))return Y(`Removing file with unexpected flags ${Pe.toString(16)}`,this.#a),this.setAssociatedPath(_e,"",0),"";const ot=new Uint32Array(mt/4);_e.read(ot,{at:et});const pt=this.computeDigest(this.#a);if(ot.every((Pt,Zt)=>Pt===pt[Zt])){const Pt=this.#a.findIndex(Zt=>Zt===0);return Pt===0&&_e.truncate(be),Pt?Ge.decode(this.#a.subarray(0,Pt)):""}else return Y("Disassociating file with bad digest."),this.setAssociatedPath(_e,"",0),""}setAssociatedPath(_e,Pe,ot){const pt=Oe.encodeInto(Pe,this.#a);tt<=pt.written+1&&S("Path too long:",Pe),this.#a.fill(0,pt.written,tt),this.#u.setUint32(Re,ot);const Pt=this.computeDigest(this.#a);_e.write(this.#a,{at:0}),_e.write(Pt,{at:et}),_e.flush(),Pe?(this.#i.set(Pe,_e),this.#s.delete(_e)):(_e.truncate(be),this.#s.add(_e))}computeDigest(_e){let Pe=0xdeadbeef,ot=0x41c6ce57;for(const pt of _e)Pe=31*Pe+pt*307,ot=31*ot+pt*307;return new Uint32Array([Pe>>>0,ot>>>0])}async reset(_e){await this.isReady;let Pe=await navigator.storage.getDirectory(),ot;for(const pt of this.vfsDir.split("/"))pt&&(ot=Pe,Pe=await Pe.getDirectoryHandle(pt,{create:!0}));return this.#e=Pe,this.#n=ot,this.#t=await this.#e.getDirectoryHandle(Te,{create:!0}),this.releaseAccessHandles(),this.acquireAccessHandles(_e)}getPath(_e){return me.isPtr(_e)&&(_e=me.cstrToJs(_e)),(_e instanceof URL?_e:new URL(_e,"file://localhost/")).pathname}deletePath(_e){const Pe=this.#i.get(_e);return Pe&&(this.#i.delete(_e),this.setAssociatedPath(Pe,"",0)),!!Pe}storeErr(_e,Pe){return _e&&(_e.sqlite3Rc=Pe||M.SQLITE_IOERR,this.error(_e)),this.$error=_e,Pe}popErr(){const _e=this.$error;return this.$error=void 0,_e}nextAvailableSAH(){const[_e]=this.#s.keys();return _e}getOFileForS3File(_e){return this.#o.get(_e)}mapS3FileToOFile(_e,Pe){Pe?(this.#o.set(_e,Pe),H(_e,this)):(this.#o.delete(_e),H(_e,!1))}hasFilename(_e){return this.#i.has(_e)}getSAHForPath(_e){return this.#i.get(_e)}async removeVfs(){if(!this.#l.pointer||!this.#t)return!1;M.sqlite3_vfs_unregister(this.#l.pointer),this.#l.dispose(),delete C[this.vfsName];try{this.releaseAccessHandles(),await this.#e.removeEntry(Te,{recursive:!0}),this.#t=void 0,await this.#n.removeEntry(this.#e.name,{recursive:!0}),this.#e=this.#n=void 0}catch(_e){y.config.error(this.vfsName,"removeVfs() failed:",_e)}return!0}exportFile(_e){const Pe=this.#i.get(_e)||S("File not found:",_e),ot=Pe.getSize()-be,pt=new Uint8Array(ot>0?ot:0);if(ot>0){const Pt=Pe.read(pt,{at:be});Pt!=ot&&S("Expected to read "+ot+" bytes but read "+Pt+".")}return pt}async importDbChunked(_e,Pe){const ot=this.#i.get(_e)||this.nextAvailableSAH()||S("No available handles to import to.");ot.truncate(0);let pt=0,Pt,Zt=!1;try{for(;(Pt=await Pe())!==void 0;)Pt instanceof ArrayBuffer&&(Pt=new Uint8Array(Pt)),pt===0&&Pt.byteLength>=15&&(fe.affirmDbHeader(Pt),Zt=!0),ot.write(Pt,{at:be+pt}),pt+=Pt.byteLength;if((pt<512||pt%512!==0)&&S("Input size",pt,"is not correct for an SQLite database."),!Zt){const je=new Uint8Array(20);ot.read(je,{at:0}),fe.affirmDbHeader(je)}ot.write(new Uint8Array([1,1]),{at:be+18})}catch(je){throw this.setAssociatedPath(ot,"",0),je}return this.setAssociatedPath(ot,_e,M.SQLITE_OPEN_MAIN_DB),pt}importDb(_e,Pe){if(Pe instanceof ArrayBuffer)Pe=new Uint8Array(Pe);else if(Pe instanceof Function)return this.importDbChunked(_e,Pe);const ot=this.#i.get(_e)||this.nextAvailableSAH()||S("No available handles to import to."),pt=Pe.byteLength;(pt<512||pt%512!=0)&&S("Byte array size is invalid for an SQLite db.");const Pt="SQLite format 3";for(let je=0;je<Pt.length;++je)Pt.charCodeAt(je)!==Pe[je]&&S("Input does not contain an SQLite database header.");const Zt=ot.write(Pe,{at:be});return Zt!=pt?(this.setAssociatedPath(ot,"",0),S("Expected to write "+pt+" bytes but wrote "+Zt+".")):(ot.write(new Uint8Array([1,1]),{at:be+18}),this.setAssociatedPath(ot,_e,M.SQLITE_OPEN_MAIN_DB)),Zt}}class Bt{#e;constructor(_e){this.#e=_e,this.vfsName=_e.vfsName}async addCapacity(_e){return this.#e.addCapacity(_e)}async reduceCapacity(_e){return this.#e.reduceCapacity(_e)}getCapacity(){return this.#e.getCapacity(this.#e)}getFileCount(){return this.#e.getFileCount()}getFileNames(){return this.#e.getFileNames()}async reserveMinimumCapacity(_e){const Pe=this.#e.getCapacity();return Pe<_e?this.#e.addCapacity(_e-Pe):Pe}exportFile(_e){return this.#e.exportFile(_e)}importDb(_e,Pe){return this.#e.importDb(_e,Pe)}async wipeFiles(){return this.#e.reset(!0)}unlink(_e){return this.#e.deletePath(_e)}async removeVfs(){return this.#e.removeVfs()}}const Gt=async()=>{const lt=await navigator.storage.getDirectory(),_e=".opfs-sahpool-sync-check-"+Je(),pt=(await (await lt.getFileHandle(_e,{create:!0})).createSyncAccessHandle()).close();return await pt,await lt.removeEntry(_e),pt?.then&&S("The local OPFS API is too old for opfs-sahpool:","it has an async FileSystemSyncAccessHandle.close() method."),!0};y.installOpfsSAHPoolVfs=async function(lt=Object.create(null)){lt=Object.assign(Object.create(null),Ke,lt||{});const _e=lt.name;if(lt.$testThrowPhase1)throw lt.$testThrowPhase1;if(C[_e])try{return await C[_e]}catch(Pe){if(lt.forceReinitIfPreviouslyFailed)delete C[_e];else throw Pe}return!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory?C[_e]=Promise.reject(new Error("Missing required OPFS APIs.")):C[_e]=Gt().then(async function(){if(lt.$testThrowPhase2)throw lt.$testThrowPhase2;const Pe=new Ot(lt);return Pe.isReady.then(async()=>{const ot=new Bt(Pe);if(y.oo1){const pt=y.oo1,Pt=Pe.getVfs(),Zt=function(...je){const nt=pt.DB.dbCtorHelper.normalizeArgs(...je);nt.vfs=Pt.$zName,pt.DB.dbCtorHelper.call(this,nt)};Zt.prototype=Object.create(pt.DB.prototype),ot.OpfsSAHPoolDb=Zt}return Pe.log("VFS initialized."),ot}).catch(async ot=>{throw await Pe.removeVfs().catch(()=>{}),ot})}).catch(Pe=>C[_e]=Promise.reject(Pe))}}),typeof g<"u"){const y=Object.assign(Object.create(null),{exports:typeof he>"u"?g.asm:he,memory:g.wasmMemory},globalThis.sqlite3ApiConfig||{});globalThis.sqlite3ApiConfig=y;let S;try{S=globalThis.sqlite3ApiBootstrap()}catch(E){throw console.error("sqlite3ApiBootstrap() error:",E),E}finally{delete globalThis.sqlite3ApiBootstrap,delete globalThis.sqlite3ApiConfig}g.sqlite3=S}else console.warn("This is not running in an Emscripten module context, so","globalThis.sqlite3ApiBootstrap() is _not_ being called due to lack","of config info for the WASM environment.","It must be called manually.")}),n=o,n}})();const RQ=function(){const t=tN;if(!t)throw new Error("Expecting globalThis.sqlite3InitModule to be defined by the Emscripten build.");const e=globalThis.sqlite3InitModuleState=Object.assign(Object.create(null),{moduleScript:globalThis?.document?.currentScript,isWorker:typeof WorkerGlobalScope<"u",location:globalThis.location,urlParams:globalThis?.location?.href?new URL(globalThis.location.href).searchParams:new URLSearchParams});if(e.debugModule=e.urlParams.has("sqlite3.debugModule")?(...n)=>console.warn("sqlite3.debugModule:",...n):()=>{},e.urlParams.has("sqlite3.dir"))e.sqlite3Dir=e.urlParams.get("sqlite3.dir")+"/";else if(e.moduleScript){const n=e.moduleScript.src.split("/");n.pop(),e.sqlite3Dir=n.join("/")+"/"}if(globalThis.sqlite3InitModule=function n(...r){return t(...r).then(i=>{const s=i.sqlite3;s.scriptInfo=e,n.__isUnderTest&&(s.__isUnderTest=!0);const o=s.asyncPostInit;return delete s.asyncPostInit,o()}).catch(i=>{throw console.error("Exception loading sqlite3 module:",i),i})},globalThis.sqlite3InitModule.ready=t.ready,globalThis.sqlite3InitModuleState.moduleScript){const n=globalThis.sqlite3InitModuleState;let r=n.moduleScript.src.split("/");r.pop(),n.scriptDir=r.join("/")+"/"}return e.debugModule("sqlite3InitModuleState =",e),globalThis.sqlite3InitModule}();tN=RQ;const jQ=tN;globalThis.sqlite3Worker1Promiser=function t(e=t.defaultConfig){if(arguments.length===1&&typeof arguments[0]=="function"){const h=e;e=Object.assign(Object.create(null),t.defaultConfig),e.onready=h}else e=Object.assign(Object.create(null),t.defaultConfig,e);const n=Object.create(null),r=function(){},i=e.onerror||r,s=e.debug||r,o=e.generateMessageId?void 0:Object.create(null),l=e.generateMessageId||function(h){return h.type+"#"+(o[h.type]=(o[h.type]||0)+1)},c=(...h)=>{throw new Error(h.join(" "))};e.worker||(e.worker=t.defaultConfig.worker),typeof e.worker=="function"&&(e.worker=e.worker());let d,f;return e.worker.onmessage=function(h){h=h.data,s("worker1.onmessage",h);let b=n[h.messageId];if(!b){if(h&&h.type==="sqlite3-api"&&h.result==="worker1-ready"){e.onready&&e.onready(f);return}if(b=n[h.type],b&&b.onrow){b.onrow(h);return}e.onunhandled?e.onunhandled(arguments[0]):i("sqlite3Worker1Promiser() unhandled worker message:",h);return}switch(delete n[h.messageId],h.type){case"error":b.reject(h);return;case"open":d||(d=h.dbId);break;case"close":h.dbId===d&&(d=void 0);break}try{b.resolve(h)}catch(x){b.reject(x)}},f=function(){let h;arguments.length===1?h=arguments[0]:arguments.length===2?(h=Object.create(null),h.type=arguments[0],h.args=arguments[1],h.dbId=h.args.dbId):c("Invalid arguments for sqlite3Worker1Promiser()-created factory."),!h.dbId&&h.type!=="open"&&(h.dbId=d),h.messageId=l(h),h.departureTime=performance.now();const b=Object.create(null);b.message=h;let x;h.type==="exec"&&h.args&&(typeof h.args.callback=="function"?(x=h.messageId+":row",b.onrow=h.args.callback,h.args.callback=x,n[x]=b):typeof h.args.callback=="string"&&c("exec callback may not be a string when using the Promise interface."));let _=new Promise(function(N,I){b.resolve=N,b.reject=I,n[h.messageId]=b,s("Posting",h.type,"message to Worker dbId="+(d||"default")+":",h),e.worker.postMessage(h)});return x&&(_=_.finally(()=>delete n[x])),_}};globalThis.sqlite3Worker1Promiser.defaultConfig={worker:function(){return new Worker(new URL("/assets/sqlite3-worker1-bundler-friendly-BF9rosUC.js",import.meta.url),{type:"module"})},onerror:(...t)=>console.error("worker1 promiser error",...t)};sqlite3Worker1Promiser.v2=function(t){let e;typeof t=="function"?(e=t,t={}):typeof t?.onready=="function"&&(e=t.onready,delete t.onready);const n=Object.create(null);t=Object.assign(t||Object.create(null),{onready:async function(i){try{e&&await e(i),n.resolve(i)}catch(s){n.reject(s)}}});const r=new Promise(function(i,s){n.resolve=i,n.reject=s});try{this.original(t)}catch(i){n.reject(i)}return r}.bind({original:sqlite3Worker1Promiser});sqlite3Worker1Promiser.v2;function fq(){let t,e;return{lock:async()=>{for(;t;)await t;t=new Promise(i=>{e=i})},unlock:async()=>{const i=e;t=void 0,e=void 0,i?.()}}}function o0(t,e){const n={rows:[],columns:[]},r=t.exec({sql:e.sql,bind:e.params,returnValue:"resultRows",rowMode:"array",columnNames:n.columns});switch(e.method){case"run":break;case"get":n.rows=r[0]??[];break;case"all":default:n.rows=r;break}return n}function sD(t){const e=t.split(/[\\/]/).filter(s=>s!==""),n=e.pop();if(!n)throw new Error("Database path is invalid.");const r=["journal","wal","shm"].map(s=>`${n}-${s}`);return{directories:e,fileName:n,tempFileNames:r,getDirectoryHandle:async()=>{let s=await navigator.storage.getDirectory();for(let o of e)s=await s.getDirectoryHandle(o);return s}}}async function EE(t,e){let n;if(t instanceof Blob?n=t.stream():n=t,n instanceof ReadableStream&&e){const i=n.getReader();switch(e){case"callback":return async()=>(await i.read()).value;case"buffer":const s=[];let o=!1;for(;!o;){const f=await i.read();f.value&&s.push(f.value),o=f.done}const l=s.reduce((f,h)=>f+h.length,0),c=new Uint8Array(l);let d=0;return s.forEach(f=>{c.set(f,d),d+=f.length}),c}}else return n}class AQ{constructor(e){Object.defineProperty(this,"sqlite3",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"db",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dbStorageType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"pointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"userFunctions",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"initMutex",{enumerable:!0,configurable:!0,writable:!0,value:fq()}),Object.defineProperty(this,"transactionMutex",{enumerable:!0,configurable:!0,writable:!0,value:fq()}),Object.defineProperty(this,"transactionKey",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"proxy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reinitChannel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onmessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"init",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{if(!this.config.databasePath)return;await this.initMutex.lock();const{databasePath:i,readOnly:s,verbose:o}=this.config,l=[s===!0?"r":"cw",o===!0?"t":""].join("");try{this.sqlite3||(this.sqlite3=await jQ()),this.db&&this.destroy(),"opfs"in this.sqlite3&&i!==":memory:"?(this.db=new this.sqlite3.oo1.OpfsDb(i,l),this.dbStorageType="opfs"):(this.db=new this.sqlite3.oo1.DB(i,l),this.dbStorageType="memory",i!==":memory:"&&console.warn(`The origin private file system is not available, so ${i} will not be persisted. Make sure your web server is configured to use the correct HTTP response headers (See https://sqlocal.dallashoffman.com/guide/setup#cross-origin-isolation).`)),this.dbStorageType!=="memory"&&(this.reinitChannel=new BroadcastChannel(`_sqlocal_reinit_(${i})`),this.reinitChannel.onmessage=c=>{this.config.clientKey!==c.data.clientKey&&this.init(c.data.reason)}),this.userFunctions.forEach(this.initUserFunction),this.execInitStatements(),this.emitMessage({type:"event",event:"connect",reason:r})}catch(c){this.emitMessage({type:"error",error:c,queryKey:null}),this.destroy()}finally{await this.initMutex.unlock()}}}),Object.defineProperty(this,"postMessage",{enumerable:!0,configurable:!0,writable:!0,value:async(r,i)=>{const s=r instanceof MessageEvent?r.data:r;switch(await this.initMutex.lock(),s.type){case"config":this.editConfig(s);break;case"query":case"batch":case"transaction":this.exec(s);break;case"function":this.createUserFunction(s);break;case"getinfo":this.getDatabaseInfo(s);break;case"import":this.importDb(s);break;case"export":this.exportDb(s);break;case"delete":this.deleteDb(s);break;case"destroy":this.destroy(s);break}await this.initMutex.unlock()}}),Object.defineProperty(this,"emitMessage",{enumerable:!0,configurable:!0,writable:!0,value:(r,i=[])=>{this.onmessage&&this.onmessage(r,i)}}),Object.defineProperty(this,"editConfig",{enumerable:!0,configurable:!0,writable:!0,value:r=>{this.config=r.config,this.init("initial")}}),Object.defineProperty(this,"exec",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{if(this.db)try{const i={type:"data",queryKey:r.queryKey,data:[]};switch(r.type){case"query":const s=this.transactionKey!==null&&this.transactionKey===r.transactionKey;try{s||await this.transactionMutex.lock();const o=o0(this.db,r);i.data.push(o)}finally{s||await this.transactionMutex.unlock()}break;case"batch":try{await this.transactionMutex.lock(),this.db.transaction(o=>{for(let l of r.statements){const c=o0(o,l);i.data.push(c)}})}finally{await this.transactionMutex.unlock()}break;case"transaction":if(r.action==="begin"&&(await this.transactionMutex.lock(),this.transactionKey=r.transactionKey,this.db.exec({sql:"BEGIN"})),(r.action==="commit"||r.action==="rollback")&&this.transactionKey!==null&&this.transactionKey===r.transactionKey){const o=r.action==="commit"?"COMMIT":"ROLLBACK";this.db.exec({sql:o}),this.transactionKey=null,await this.transactionMutex.unlock()}break}this.emitMessage(i)}catch(i){this.emitMessage({type:"error",error:i,queryKey:r.queryKey})}}}),Object.defineProperty(this,"execInitStatements",{enumerable:!0,configurable:!0,writable:!0,value:()=>{if(this.db&&this.config.onInitStatements)for(let r of this.config.onInitStatements)o0(this.db,r)}}),Object.defineProperty(this,"getDatabaseInfo",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{try{const i=this.config.databasePath,s=this.dbStorageType,o=s!==void 0?s!=="memory"?await navigator.storage?.persisted():!1:void 0,c=this.db?.exec({sql:"SELECT page_count * page_size AS size FROM pragma_page_count(), pragma_page_size()",returnValue:"resultRows",rowMode:"array"})?.[0]?.[0],d=typeof c=="number"?c:void 0;this.emitMessage({type:"info",queryKey:r.queryKey,info:{databasePath:i,databaseSizeBytes:d,storageType:s,persisted:o}})}catch(i){this.emitMessage({type:"error",queryKey:r.queryKey,error:i})}}}),Object.defineProperty(this,"createUserFunction",{enumerable:!0,configurable:!0,writable:!0,value:r=>{const{functionName:i,functionType:s,queryKey:o}=r;let l;if(this.userFunctions.has(i)){this.emitMessage({type:"error",error:new Error(`A user-defined function with the name "${i}" has already been created for this SQLocal instance.`),queryKey:o});return}s==="callback"?l=(...c)=>{this.emitMessage({type:"callback",name:i,args:c})}:l=this.proxy[`_sqlocal_func_${i}`];try{this.initUserFunction({type:s,name:i,func:l}),this.emitMessage({type:"success",queryKey:o})}catch(c){this.emitMessage({type:"error",error:c,queryKey:o})}}}),Object.defineProperty(this,"initUserFunction",{enumerable:!0,configurable:!0,writable:!0,value:r=>{this.db&&(this.db.createFunction({name:r.name,xFunc:(i,...s)=>r.func(...s),arity:-1}),this.userFunctions.set(r.name,r))}}),Object.defineProperty(this,"importDb",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{if(!this.sqlite3||!this.config.databasePath||!this.db)return;const{queryKey:i,database:s}=r;let o=!1;try{if(this.dbStorageType==="opfs"){this.destroy();const l=await EE(s,"callback");await this.sqlite3.oo1.OpfsDb.importDb(this.config.databasePath,l)}else{const l=await EE(s,"buffer"),c=this.sqlite3.wasm.allocFromTypedArray(l);this.pointers.push(c);const d=this.sqlite3.capi.sqlite3_deserialize(this.db,"main",c,l.byteLength,l.byteLength,this.config.readOnly?this.sqlite3.capi.SQLITE_DESERIALIZE_READONLY:this.sqlite3.capi.SQLITE_DESERIALIZE_RESIZEABLE);this.db.checkRc(d),this.execInitStatements()}}catch(l){this.emitMessage({type:"error",error:l,queryKey:i}),o=!0}finally{this.dbStorageType!=="memory"&&await this.init("overwrite")}o||this.emitMessage({type:"success",queryKey:i})}}),Object.defineProperty(this,"exportDb",{enumerable:!0,configurable:!0,writable:!0,value:r=>{if(!this.sqlite3||!this.db)return;const{queryKey:i}=r;try{const s=this.sqlite3.capi.sqlite3_js_db_export(this.db);this.emitMessage({type:"buffer",queryKey:i,buffer:s},[s])}catch(s){this.emitMessage({type:"error",error:s,queryKey:i})}}}),Object.defineProperty(this,"deleteDb",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{if(!this.config.databasePath)return;const{queryKey:i}=r;let s=!1;try{if(this.dbStorageType==="opfs"){const{getDirectoryHandle:o,fileName:l,tempFileNames:c}=sD(this.config.databasePath),d=await o(),f=[l,...c];this.destroy(),await Promise.all(f.map(async h=>d.removeEntry(h).catch(b=>{if(!(b instanceof DOMException&&b.name==="NotFoundError"))throw b})))}else this.destroy()}catch(o){this.emitMessage({type:"error",error:o,queryKey:i}),s=!0}finally{await this.init("delete")}s||this.emitMessage({type:"success",queryKey:i})}}),Object.defineProperty(this,"destroy",{enumerable:!0,configurable:!0,writable:!0,value:r=>{this.db&&(this.db.exec({sql:"PRAGMA optimize"}),this.db.close(),this.db=void 0,this.dbStorageType=void 0),this.reinitChannel&&(this.reinitChannel.close(),this.reinitChannel=void 0),this.pointers.forEach(i=>this.sqlite3?.wasm.dealloc(i)),this.pointers=[],r&&this.emitMessage({type:"success",queryKey:r.queryKey})}});const n=e?globalThis:eN(globalThis);this.proxy=n,this.init("initial")}}function Tv(t,...e){return{sql:t.join("?"),params:e}}function PQ(t){return!t.some(e=>!Array.isArray(e))}function a0(t,e){let n;return PQ(t)?n=t:n=[t],n.map(r=>{const i={};return e.forEach((s,o)=>{i[s]=r[o]}),i})}function FQ(t){return typeof t=="object"&&t!==null&&"getSQL"in t&&typeof t.getSQL=="function"}function DQ(t){return typeof t=="object"&&t!==null&&"sql"in t&&typeof t.sql=="string"&&"params"in t}function LQ(t){if(typeof t=="function"&&(t=t(Tv)),FQ(t))try{if(!("toSQL"in t&&typeof t.toSQL=="function"))throw 1;const r=t.toSQL();if(!DQ(r))throw 2;return r}catch{throw new Error("The passed statement could not be parsed.")}const e=t.sql;let n=[];return"params"in t?n=t.params:"parameters"in t&&(n=t.parameters),{sql:e,params:n}}function l0(){return crypto.randomUUID()}function pq(t,e){let n;return typeof t=="string"?n={sql:t,params:e}:n=Tv(t,...e),n}async function Lg(t,e,n,r){return!e&&"locks"in navigator?navigator.locks.request(`_sqlocal_mutation_(${n.databasePath})`,{mode:t},r):r()}class MQ{constructor(e){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isDestroyed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"bypassMutationLock",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"userCallbacks",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"queriesInProgress",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"proxy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reinitChannel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"processMessageEvent",{enumerable:!0,configurable:!0,writable:!0,value:o=>{const l=o instanceof MessageEvent?o.data:o,c=this.queriesInProgress;switch(l.type){case"success":case"data":case"buffer":case"info":case"error":if(l.queryKey&&c.has(l.queryKey)){const[f,h]=c.get(l.queryKey);l.type==="error"?h(l.error):f(l),c.delete(l.queryKey)}else if(l.type==="error")throw l.error;break;case"callback":const d=this.userCallbacks.get(l.name);d&&d(...l.args??[]);break;case"event":this.config.onConnect?.(l.reason);break}}}),Object.defineProperty(this,"createQuery",{enumerable:!0,configurable:!0,writable:!0,value:async o=>Lg("shared",this.bypassMutationLock||o.type==="import"||o.type==="delete",this.config,async()=>{if(this.isDestroyed===!0)throw new Error("This SQLocal client has been destroyed. You will need to initialize a new client in order to make further queries.");const l=l0();switch(o.type){case"import":this.processor.postMessage({...o,queryKey:l},[o.database]);break;default:this.processor.postMessage({...o,queryKey:l});break}return new Promise((c,d)=>{this.queriesInProgress.set(l,[c,d])})})}),Object.defineProperty(this,"exec",{enumerable:!0,configurable:!0,writable:!0,value:async(o,l,c="all",d)=>{const f=await this.createQuery({type:"query",transactionKey:d,sql:o,params:l,method:c}),h={rows:[],columns:[]};return f.type==="data"&&(h.rows=f.data[0]?.rows??[],h.columns=f.data[0]?.columns??[]),h}}),Object.defineProperty(this,"execBatch",{enumerable:!0,configurable:!0,writable:!0,value:async o=>{const l=await this.createQuery({type:"batch",statements:o}),c=new Array(o.length).fill({rows:[],columns:[]});return l.type==="data"&&l.data.forEach((d,f)=>{c[f]=d}),c}}),Object.defineProperty(this,"sql",{enumerable:!0,configurable:!0,writable:!0,value:async(o,...l)=>{const c=pq(o,l),{rows:d,columns:f}=await this.exec(c.sql,c.params,"all");return a0(d,f)}}),Object.defineProperty(this,"batch",{enumerable:!0,configurable:!0,writable:!0,value:async o=>{const l=o(Tv);return(await this.execBatch(l)).map(({rows:d,columns:f})=>a0(d,f))}}),Object.defineProperty(this,"beginTransaction",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{const o=l0();await this.createQuery({type:"transaction",transactionKey:o,action:"begin"});const l=async h=>{const b=LQ(h),{rows:x,columns:_}=await this.exec(b.sql,b.params,"all",o);return a0(x,_)};return{query:l,sql:async(h,...b)=>{const x=pq(h,b);return await l(x)},commit:async()=>{await this.createQuery({type:"transaction",transactionKey:o,action:"commit"})},rollback:async()=>{await this.createQuery({type:"transaction",transactionKey:o,action:"rollback"})}}}}),Object.defineProperty(this,"transaction",{enumerable:!0,configurable:!0,writable:!0,value:async o=>Lg("exclusive",!1,this.config,async()=>{let l;this.bypassMutationLock=!0;try{l=await this.beginTransaction();const c=await o({sql:l.sql,query:l.query});return await l.commit(),c}catch(c){throw await l?.rollback(),c}finally{this.bypassMutationLock=!1}})}),Object.defineProperty(this,"createCallbackFunction",{enumerable:!0,configurable:!0,writable:!0,value:async(o,l)=>{await this.createQuery({type:"function",functionName:o,functionType:"callback"}),this.userCallbacks.set(o,l)}}),Object.defineProperty(this,"createScalarFunction",{enumerable:!0,configurable:!0,writable:!0,value:async(o,l)=>{const c=`_sqlocal_func_${o}`;this.proxy===globalThis&&(this.proxy[c]=l),await this.createQuery({type:"function",functionName:o,functionType:"scalar"}),this.proxy!==globalThis&&(this.proxy[c]=l)}}),Object.defineProperty(this,"getDatabaseInfo",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{const o=await this.createQuery({type:"getinfo"});if(o.type==="info")return o.info;throw new Error("The database failed to return valid information.")}}),Object.defineProperty(this,"getDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{let o,l;const{storageType:c}=await this.getDatabaseInfo();if(c==="opfs"){const d=sD(this.config.databasePath),{directories:f,getDirectoryHandle:h}=d;o=d.fileName;const b=`backup-${Date.now()}--${o}`,x=`${f.join("/")}/${b}`;await this.exec("VACUUM INTO ?",[x]);const _=await h();l=await (await (await _.getFileHandle(b)).getFile()).arrayBuffer(),await _.removeEntry(b)}else{const d=await this.createQuery({type:"export"});if(d.type==="buffer")o="database.sqlite3",l=d.buffer;else throw new Error("The database failed to export.")}return new File([l],o,{type:"application/x-sqlite3"})}}),Object.defineProperty(this,"overwriteDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async(o,l)=>{await Lg("exclusive",!1,this.config,async()=>{try{const c=await EE(o);await this.createQuery({type:"import",database:c}),typeof l=="function"&&(this.bypassMutationLock=!0,await l()),this.reinitChannel.postMessage({clientKey:this.clientKey,reason:"overwrite"})}finally{this.bypassMutationLock=!1}})}}),Object.defineProperty(this,"deleteDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async o=>{await Lg("exclusive",!1,this.config,async()=>{try{await this.createQuery({type:"delete"}),typeof o=="function"&&(this.bypassMutationLock=!0,await o()),this.reinitChannel.postMessage({clientKey:this.clientKey,reason:"delete"})}finally{this.bypassMutationLock=!1}})}}),Object.defineProperty(this,"destroy",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{await this.createQuery({type:"destroy"}),this.processor instanceof Worker&&(this.processor.removeEventListener("message",this.processMessageEvent),this.processor.terminate()),this.queriesInProgress.clear(),this.userCallbacks.clear(),this.reinitChannel.close(),this.isDestroyed=!0}});const n=typeof e=="string"?{databasePath:e}:e,{onInit:r,onConnect:i,...s}=n;this.config=n,this.clientKey=l0(),this.reinitChannel=new BroadcastChannel(`_sqlocal_reinit_(${s.databasePath})`),typeof globalThis.Worker<"u"&&s.databasePath!==":memory:"?(this.processor=new Worker(new URL("/assets/worker-DxuAzsZq.js",import.meta.url),{type:"module"}),this.processor.addEventListener("message",this.processMessageEvent),this.proxy=eN(this.processor)):(this.processor=new AQ(!0),this.processor.onmessage=o=>this.processMessageEvent(o),this.proxy=globalThis),this.processor.postMessage({type:"config",config:{...s,clientKey:this.clientKey,onInitStatements:r?.(Tv)??[]}})}}class $Q extends MQ{constructor(){super(...arguments),Object.defineProperty(this,"dialect",{enumerable:!0,configurable:!0,writable:!0,value:{createAdapter:()=>new M8,createDriver:()=>new BQ(this),createIntrospector:e=>new L8(e),createQueryCompiler:()=>new P8}})}}class BQ{constructor(e){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:e})}async init(){}async acquireConnection(){return new zQ(this.client)}async releaseConnection(){}async beginTransaction(e){e.transaction=await this.client.beginTransaction()}async commitTransaction(e){await e.transaction?.commit(),e.transaction=null}async rollbackTransaction(e){await e.transaction?.rollback(),e.transaction=null}async destroy(){await this.client.destroy()}}class zQ{constructor(e){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"transaction",{enumerable:!0,configurable:!0,writable:!0,value:null})}async executeQuery(e){let n;return this.transaction===null?n=await this.client.sql(e.sql,...e.parameters):n=await this.transaction.query(e),{rows:n}}async *streamQuery(){throw new Error("SQLite3 does not support streaming.")}}const WQ=({database:t,bootstrap:e})=>{const{dialect:n}=new $Q({databasePath:`${t}.sqlite3`,onInit(i){return[i`PRAGMA foreign_keys = ON;`]}}),r=new A1({dialect:n});return{kysely:r,async bootstrap(){return e({kysely:r})}}},Ci=yn({slot:{base:["border","border-gray-300","rounded-md","p-4","flex","flex-col","gap-2","items-center"],input:["w-full","border","border-gray-300","rounded-md","p-2","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"]},variant:{isLoading:{true:[]},isSubmitting:{true:[]}},match:[{if:{isSubmitting:!0},then:{base:["opacity-50","pointer-events-none","select-none"]}}],defaults:{isLoading:!1,isSubmitting:!1}}),UQ="icon-[material-symbols--error-outline]",VQ=yn({slot:{base:["flex","flex-row","gap-1","items-center","text-red-600","p-2"]},variant:{highlight:{true:[]},compact:{true:[]}},match:[{if:{highlight:!0},then:{base:["bg-red-100","p-2","font-bold","border","border-red-200","rounded-md","w-full"]}},{if:{compact:!0},then:{base:["p-0"]}}],defaults:{highlight:!1,compact:!1}}),hi=({error:t,variant:e,tva:n=VQ,css:r})=>{const i=n({...e,css:r}).slots;return t?.message?p.jsxs("div",{className:i.base(),children:[p.jsx(en,{icon:UQ}),p.jsx("span",{children:Ml.rich(t.message)})]}):null},HQ=yn({slot:{base:["flex","flex-col","gap-1","w-full"],input:[]},variant:{required:{true:[]},disabled:{true:[]},isSubmitting:{true:[]},isLoading:{true:[]},isError:{true:[]}},match:[{if:{isError:!0},then:{base:["text-red-600"]}},{if:{required:!0},then:{base:["text-emerald-600","font-bold"]}}],defaults:{required:!1,disabled:!1,isSubmitting:!1,isLoading:!1,isError:!1}}),Cn=({label:t,hint:e,required:n=!1,formState:r,name:i,children:s,variant:o,tva:l=HQ,css:c})=>{const d=l({isSubmitting:r.isSubmitting,isLoading:r.isLoading,isError:!!r.errors[i],required:n,...o,css:c}).slots;return p.jsxs("div",{className:d.base(),children:[p.jsxs("div",{className:"flex flex-row justify-between",children:[t?p.jsx("label",{htmlFor:i,children:t}):null,p.jsx(hi,{variant:{compact:!0},error:r.errors[i]})]}),e?p.jsx("div",{className:"text-sm italic",children:e}):null,p.jsx("div",{className:d.input(),children:s})]})},ms=({form:t,mutation:e})=>{const n=t.handleSubmit(async r=>e.mutateAsync(r,{onError:i=>{D1({error:i,errors:[g1({error:i,schema:F1,onError:({data:s})=>{t.setError("root",{message:s.message})}})],onError:s=>{t.setError("root",{message:s.message})}})}}).catch(()=>{}));return r=>{r.stopPropagation(),n(r)}};function QQ(t,e,n,r={leading:!1}){const[i,s]=K.useState(t),[o,l]=K.useState(t),c=K.useRef(null),d=K.useRef(!0),f=()=>window.clearTimeout(c.current||void 0);K.useEffect(()=>f,[]),K.useEffect(()=>{e(i)},[i]),K.useEffect(()=>{l(t),s(t)},[t]);const h=K.useCallback(b=>{l(b),f(),d.current&&r.leading?s(b):c.current=window.setTimeout(()=>{d.current=!0,s(b)},n),d.current=!1},[r.leading]);return[o,h]}const KQ=yn({slot:{base:["relative","w-full"],search:["absolute","inset-y-0","left-2","flex","items-center","pointer-events-none","text-slate-500"],input:["pl-8","py-1","w-full","bg-slate-50","text-slate-900","text-sm","border","border-slate-300","rounded","focus:border-sky-400","focus:outline-none","block"],clear:["absolute","inset-y-0","right-2","flex","items-center","cursor-pointer","text-slate-300","hover:text-slate-500"]},variant:{},defaults:{}}),GQ=({value:t="",onFulltext:e,textPlaceholder:n,variant:r,tva:i=KQ,css:s})=>{const o=i({...r,css:s}).slots,[l,c]=QQ(t,d=>{e(d||"")},500);return p.jsxs("div",{className:o.base(),children:[p.jsx("div",{className:o.search(),children:p.jsx(en,{icon:"icon-[material-symbols-light--search]",variant:{size:"xl"}})}),p.jsx("input",{value:l||"",className:o.input(),type:"text",placeholder:n||Ml.text("Fulltext (placeholder)"),onChange:d=>{c(d.target.value)}}),t&&p.jsx("div",{className:o.clear(),onClick:()=>{e("")},children:p.jsx(en,{icon:"icon-[gridicons--cross]",variant:{size:"md"}})})]})},Nh="icon-[pajamas--go-back]",Ov="icon-[line-md--confirm-circle]",oD="icon-[mage--edit]",ZQ="icon-[arcticons--nothing-x]",JQ="icon-[tabler--filter-plus]",hq="icon-[tabler--filter-minus]",Ab="icon-[ph--list-dashes-thin]",YQ="icon-[svg-spinners--3-dots-scale]",nN="icon-[material-symbols-light--logout-sharp]",XQ="icon-[fluent--shape-intersect-20-regular]",Pb="icon-[fluent--checkbox-unchecked-20-regular]",Fb="icon-[fluent--checkbox-checked-20-regular]",kh="icon-[teenyicons--tag-outline]",mi="icon-[ph--trash]",eK="icon-[clarity--upload-cloud-line]",rN="icon-[ph--user]",tK=async({queryClient:t,keys:e})=>{for await(const n of e)await t.invalidateQueries({queryKey:n,refetchType:"all"})},kr=t=>{const e=Zv(),n=Oo();return async()=>{await tK({keys:t,queryClient:e}),await n.invalidate()}};var u0={exports:{}},c0,mq;function nK(){if(mq)return c0;mq=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return c0=t,c0}var d0,gq;function rK(){if(gq)return d0;gq=1;var t=nK();function e(){}function n(){}return n.resetWarningCache=e,d0=function(){function r(o,l,c,d,f,h){if(h!==t){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},d0}var yq;function iK(){return yq||(yq=1,u0.exports=rK()()),u0.exports}var sK=iK();const Zn=ro(sK);function ac(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(f){try{d(r.next(f))}catch(h){o(h)}}function c(f){try{d(r.throw(f))}catch(h){o(h)}}function d(f){f.done?s(f.value):i(f.value).then(l,c)}d((r=r.apply(t,e||[])).next())})}const oK=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Bd(t,e,n){const r=aK(t),{webkitRelativePath:i}=t,s=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${t.name}`;return typeof r.path!="string"&&vq(r,"path",s),vq(r,"relativePath",s),r}function aK(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),i=oK.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}function vq(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const lK=[".DS_Store","Thumbs.db"];function uK(t){return ac(this,void 0,void 0,function*(){return qv(t)&&cK(t.dataTransfer)?hK(t.dataTransfer,t.type):dK(t)?fK(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?pK(t):[]})}function cK(t){return qv(t)}function dK(t){return qv(t)&&qv(t.target)}function qv(t){return typeof t=="object"&&t!==null}function fK(t){return NE(t.target.files).map(e=>Bd(e))}function pK(t){return ac(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>Bd(n))})}function hK(t,e){return ac(this,void 0,void 0,function*(){if(t.items){const n=NE(t.items).filter(i=>i.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map(mK));return bq(aD(r))}return bq(NE(t.files).map(n=>Bd(n)))})}function bq(t){return t.filter(e=>lK.indexOf(e.name)===-1)}function NE(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function mK(t){if(typeof t.webkitGetAsEntry!="function")return xq(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?lD(e):xq(t,e)}function aD(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?aD(n):[n]],[])}function xq(t,e){return ac(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const s=yield t.getAsFileSystemHandle();if(s===null)throw new Error(`${t} is not a File`);if(s!==void 0){const o=yield s.getFile();return o.handle=s,Bd(o)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return Bd(r,(n=e?.fullPath)!==null&&n!==void 0?n:void 0)})}function gK(t){return ac(this,void 0,void 0,function*(){return t.isDirectory?lD(t):yK(t)})}function lD(t){const e=t.createReader();return new Promise((n,r)=>{const i=[];function s(){e.readEntries(o=>ac(this,void 0,void 0,function*(){if(o.length){const l=Promise.all(o.map(gK));i.push(l),s()}else try{const l=yield Promise.all(i);n(l)}catch(l){r(l)}}),o=>{r(o)})}s()})}function yK(t){return ac(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const i=Bd(r,t.fullPath);e(i)},r=>{n(r)})})})}var Mg={},wq;function vK(){return wq||(wq=1,Mg.__esModule=!0,Mg.default=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",i=(t.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return n.some(function(o){var l=o.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?s===l.replace(/\/.*$/,""):i===l})}return!0}),Mg}var bK=vK();const f0=ro(bK);function _q(t){return _K(t)||wK(t)||cD(t)||xK()}function xK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _K(t){if(Array.isArray(t))return kE(t)}function Sq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Eq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Sq(Object(n),!0).forEach(function(r){uD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Sq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uD(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ih(t,e){return NK(t)||EK(t,e)||cD(t,e)||SK()}function SK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cD(t,e){if(t){if(typeof t=="string")return kE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kE(t,e)}}function kE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function EK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,l;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(c){s=!0,l=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw l}}return r}}function NK(t){if(Array.isArray(t))return t}var kK=typeof f0=="function"?f0:f0.default,dD="file-invalid-type",fD="file-too-large",pD="file-too-small",hD="too-many-files",IK={FileInvalidType:dD,FileTooLarge:fD,FileTooSmall:pD,TooManyFiles:hD},CK=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:dD,message:"File type must be ".concat(r)}},Nq=function(e){return{code:fD,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},kq=function(e){return{code:pD,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},TK={code:hD,message:"Too many files"};function mD(t,e){var n=t.type==="application/x-moz-file"||kK(t,e);return[n,n?null:CK(e)]}function gD(t,e,n){if(Ou(t.size))if(Ou(e)&&Ou(n)){if(t.size>n)return[!1,Nq(n)];if(t.size<e)return[!1,kq(e)]}else{if(Ou(e)&&t.size<e)return[!1,kq(e)];if(Ou(n)&&t.size>n)return[!1,Nq(n)]}return[!0,null]}function Ou(t){return t!=null}function OK(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,s=t.multiple,o=t.maxFiles,l=t.validator;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(c){var d=mD(c,n),f=Ih(d,1),h=f[0],b=gD(c,r,i),x=Ih(b,1),_=x[0],N=l?l(c):null;return h&&_&&!N})}function Rv(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function $g(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function Iq(t){t.preventDefault()}function qK(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function RK(t){return t.indexOf("Edge/")!==-1}function jK(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return qK(t)||RK(t)}function $o(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(l){return!Rv(r)&&l&&l.apply(void 0,[r].concat(s)),Rv(r)})}}function AK(){return"showOpenFilePicker"in window}function PK(t){if(Ou(t)){var e=Object.entries(t).filter(function(n){var r=Ih(n,2),i=r[0],s=r[1],o=!0;return yD(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(s)||!s.every(vD))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,r){var i=Ih(r,2),s=i[0],o=i[1];return Eq(Eq({},n),{},uD({},s,o))},{});return[{description:"Files",accept:e}]}return t}function FK(t){if(Ou(t))return Object.entries(t).reduce(function(e,n){var r=Ih(n,2),i=r[0],s=r[1];return[].concat(_q(e),[i],_q(s))},[]).filter(function(e){return yD(e)||vD(e)}).join(",")}function DK(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function LK(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function yD(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function vD(t){return/^.*\.[\w]+$/.test(t)}var MK=["children"],$K=["open"],BK=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],zK=["refKey","onChange","onClick"];function WK(t){return HK(t)||VK(t)||bD(t)||UK()}function UK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function HK(t){if(Array.isArray(t))return IE(t)}function p0(t,e){return GK(t)||KK(t,e)||bD(t,e)||QK()}function QK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bD(t,e){if(t){if(typeof t=="string")return IE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IE(t,e)}}function IE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KK(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,l;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(c){s=!0,l=c}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw l}}return r}}function GK(t){if(Array.isArray(t))return t}function Cq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Cq(Object(n),!0).forEach(function(r){CE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Cq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jv(t,e){if(t==null)return{};var n=ZK(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZK(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Db=K.forwardRef(function(t,e){var n=t.children,r=jv(t,MK),i=wD(r),s=i.open,o=jv(i,$K);return K.useImperativeHandle(e,function(){return{open:s}},[s]),Ln.createElement(K.Fragment,null,n(Sr(Sr({},o),{},{open:s})))});Db.displayName="Dropzone";var xD={disabled:!1,getFilesFromEvent:uK,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Db.defaultProps=xD;Db.propTypes={children:Zn.func,accept:Zn.objectOf(Zn.arrayOf(Zn.string)),multiple:Zn.bool,preventDropOnDocument:Zn.bool,noClick:Zn.bool,noKeyboard:Zn.bool,noDrag:Zn.bool,noDragEventsBubbling:Zn.bool,minSize:Zn.number,maxSize:Zn.number,maxFiles:Zn.number,disabled:Zn.bool,getFilesFromEvent:Zn.func,onFileDialogCancel:Zn.func,onFileDialogOpen:Zn.func,useFsAccessApi:Zn.bool,autoFocus:Zn.bool,onDragEnter:Zn.func,onDragLeave:Zn.func,onDragOver:Zn.func,onDrop:Zn.func,onDropAccepted:Zn.func,onDropRejected:Zn.func,onError:Zn.func,validator:Zn.func};var TE={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function wD(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Sr(Sr({},xD),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,l=e.multiple,c=e.maxFiles,d=e.onDragEnter,f=e.onDragLeave,h=e.onDragOver,b=e.onDrop,x=e.onDropAccepted,_=e.onDropRejected,N=e.onFileDialogCancel,I=e.onFileDialogOpen,O=e.useFsAccessApi,T=e.autoFocus,q=e.preventDropOnDocument,A=e.noClick,D=e.noKeyboard,L=e.noDrag,z=e.noDragEventsBubbling,P=e.onError,R=e.validator,B=K.useMemo(function(){return FK(n)},[n]),F=K.useMemo(function(){return PK(n)},[n]),W=K.useMemo(function(){return typeof I=="function"?I:Tq},[I]),U=K.useMemo(function(){return typeof N=="function"?N:Tq},[N]),$=K.useRef(null),ee=K.useRef(null),J=K.useReducer(JK,TE),le=p0(J,2),se=le[0],te=le[1],oe=se.isFocused,X=se.isFileDialogActive,ce=K.useRef(typeof window<"u"&&window.isSecureContext&&O&&AK()),de=function(){!ce.current&&X&&setTimeout(function(){if(ee.current){var ct=ee.current.files;ct.length||(te({type:"closeDialog"}),U())}},300)};K.useEffect(function(){return window.addEventListener("focus",de,!1),function(){window.removeEventListener("focus",de,!1)}},[ee,X,U,ce]);var ye=K.useRef([]),we=function(ct){$.current&&$.current.contains(ct.target)||(ct.preventDefault(),ye.current=[])};K.useEffect(function(){return q&&(document.addEventListener("dragover",Iq,!1),document.addEventListener("drop",we,!1)),function(){q&&(document.removeEventListener("dragover",Iq),document.removeEventListener("drop",we))}},[$,q]),K.useEffect(function(){return!r&&T&&$.current&&$.current.focus(),function(){}},[$,T,r]);var Ne=K.useCallback(function(Me){P?P(Me):console.error(Me)},[P]),ze=K.useCallback(function(Me){Me.preventDefault(),Me.persist(),ke(Me),ye.current=[].concat(WK(ye.current),[Me.target]),$g(Me)&&Promise.resolve(i(Me)).then(function(ct){if(!(Rv(Me)&&!z)){var Ht=ct.length,Qt=Ht>0&&OK({files:ct,accept:B,minSize:o,maxSize:s,multiple:l,maxFiles:c,validator:R}),fn=Ht>0&&!Qt;te({isDragAccept:Qt,isDragReject:fn,isDragActive:!0,type:"setDraggedFiles"}),d&&d(Me)}}).catch(function(ct){return Ne(ct)})},[i,d,Ne,z,B,o,s,l,c,R]),qe=K.useCallback(function(Me){Me.preventDefault(),Me.persist(),ke(Me);var ct=$g(Me);if(ct&&Me.dataTransfer)try{Me.dataTransfer.dropEffect="copy"}catch{}return ct&&h&&h(Me),!1},[h,z]),De=K.useCallback(function(Me){Me.preventDefault(),Me.persist(),ke(Me);var ct=ye.current.filter(function(Qt){return $.current&&$.current.contains(Qt)}),Ht=ct.indexOf(Me.target);Ht!==-1&&ct.splice(Ht,1),ye.current=ct,!(ct.length>0)&&(te({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),$g(Me)&&f&&f(Me))},[$,f,z]),Ze=K.useCallback(function(Me,ct){var Ht=[],Qt=[];Me.forEach(function(fn){var or=mD(fn,B),Pn=p0(or,2),Vr=Pn[0],qi=Pn[1],br=gD(fn,o,s),Kt=p0(br,2),Hi=Kt[0],Qi=Kt[1],Ki=R?R(fn):null;if(Vr&&Hi&&!Ki)Ht.push(fn);else{var so=[qi,Qi];Ki&&(so=so.concat(Ki)),Qt.push({file:fn,errors:so.filter(function(sa){return sa})})}}),(!l&&Ht.length>1||l&&c>=1&&Ht.length>c)&&(Ht.forEach(function(fn){Qt.push({file:fn,errors:[TK]})}),Ht.splice(0)),te({acceptedFiles:Ht,fileRejections:Qt,isDragReject:Qt.length>0,type:"setFiles"}),b&&b(Ht,Qt,ct),Qt.length>0&&_&&_(Qt,ct),Ht.length>0&&x&&x(Ht,ct)},[te,l,B,o,s,c,b,x,_,R]),Xe=K.useCallback(function(Me){Me.preventDefault(),Me.persist(),ke(Me),ye.current=[],$g(Me)&&Promise.resolve(i(Me)).then(function(ct){Rv(Me)&&!z||Ze(ct,Me)}).catch(function(ct){return Ne(ct)}),te({type:"reset"})},[i,Ze,Ne,z]),Ue=K.useCallback(function(){if(ce.current){te({type:"openDialog"}),W();var Me={multiple:l,types:F};window.showOpenFilePicker(Me).then(function(ct){return i(ct)}).then(function(ct){Ze(ct,null),te({type:"closeDialog"})}).catch(function(ct){DK(ct)?(U(ct),te({type:"closeDialog"})):LK(ct)?(ce.current=!1,ee.current?(ee.current.value=null,ee.current.click()):Ne(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Ne(ct)});return}ee.current&&(te({type:"openDialog"}),W(),ee.current.value=null,ee.current.click())},[te,W,U,O,Ze,Ne,F,l]),ut=K.useCallback(function(Me){!$.current||!$.current.isEqualNode(Me.target)||(Me.key===" "||Me.key==="Enter"||Me.keyCode===32||Me.keyCode===13)&&(Me.preventDefault(),Ue())},[$,Ue]),_t=K.useCallback(function(){te({type:"focus"})},[]),Tt=K.useCallback(function(){te({type:"blur"})},[]),Wt=K.useCallback(function(){A||(jK()?setTimeout(Ue,0):Ue())},[A,Ue]),Xt=function(ct){return r?null:ct},xe=function(ct){return D?null:Xt(ct)},ve=function(ct){return L?null:Xt(ct)},ke=function(ct){z&&ct.stopPropagation()},Ae=K.useMemo(function(){return function(){var Me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ct=Me.refKey,Ht=ct===void 0?"ref":ct,Qt=Me.role,fn=Me.onKeyDown,or=Me.onFocus,Pn=Me.onBlur,Vr=Me.onClick,qi=Me.onDragEnter,br=Me.onDragOver,Kt=Me.onDragLeave,Hi=Me.onDrop,Qi=jv(Me,BK);return Sr(Sr(CE({onKeyDown:xe($o(fn,ut)),onFocus:xe($o(or,_t)),onBlur:xe($o(Pn,Tt)),onClick:Xt($o(Vr,Wt)),onDragEnter:ve($o(qi,ze)),onDragOver:ve($o(br,qe)),onDragLeave:ve($o(Kt,De)),onDrop:ve($o(Hi,Xe)),role:typeof Qt=="string"&&Qt!==""?Qt:"presentation"},Ht,$),!r&&!D?{tabIndex:0}:{}),Qi)}},[$,ut,_t,Tt,Wt,ze,qe,De,Xe,D,L,r]),Ve=K.useCallback(function(Me){Me.stopPropagation()},[]),rt=K.useMemo(function(){return function(){var Me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ct=Me.refKey,Ht=ct===void 0?"ref":ct,Qt=Me.onChange,fn=Me.onClick,or=jv(Me,zK),Pn=CE({accept:B,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Xt($o(Qt,Xe)),onClick:Xt($o(fn,Ve)),tabIndex:-1},Ht,ee);return Sr(Sr({},Pn),or)}},[ee,n,l,Xe,r]);return Sr(Sr({},se),{},{isFocused:oe&&!r,getRootProps:Ae,getInputProps:rt,rootRef:$,inputRef:ee,open:Xt(Ue)})}function JK(t,e){switch(e.type){case"focus":return Sr(Sr({},t),{},{isFocused:!0});case"blur":return Sr(Sr({},t),{},{isFocused:!1});case"openDialog":return Sr(Sr({},TE),{},{isFileDialogActive:!0});case"closeDialog":return Sr(Sr({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return Sr(Sr({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Sr(Sr({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return Sr({},TE);default:return t}}function Tq(){}const YK=Object.freeze(Object.defineProperty({__proto__:null,ErrorCode:IK,default:Db,useDropzone:wD},Symbol.toStringTag,{value:"Module"})),XK=yn({slot:{base:["flex","items-center","justify-center","w-full"],label:["flex","flex-col","items-center","justify-center","w-full","h-64","border-2","border-gray-300","border-dashed","rounded-lg","cursor-pointer","bg-gray-50","hover:bg-gray-100"],zone:["flex","flex-col","items-center","justify-center","pt-5","pb-6","text-slate-500"]},variant:{active:{true:[]},rejected:{true:[]}},match:[{if:{active:!0},then:{label:["text-blue-400"],zone:["text-blue-400"]}},{if:{rejected:!0},then:{label:["text-red-400"],zone:["text-red-400"]}}],defaults:{active:!1,rejected:!1}}),{useDropzone:eG}=YK,tG=({id:t,accept:e,text:n,variant:r,tva:i=XK,css:s,...o})=>{const{getRootProps:l,getInputProps:c,isDragActive:d,isDragReject:f}=eG({noClick:!0,multiple:!1,accept:e,maxFiles:1,minSize:0,maxSize:8388608,...o}),h=i({active:d,rejected:f,...r,css:s}).slots;return p.jsx("div",{...l(),className:h.base(),children:p.jsxs("label",{htmlFor:t,className:h.label(),children:[p.jsxs("div",{className:h.zone(),children:[p.jsx(en,{icon:eK,variant:{size:"4xl"}}),p.jsx("p",{className:"mb-2 text-sm font-semibold",children:n?.title||Ml.rich("Drag 'n' drop a file here")}),n?.message?p.jsx("p",{className:"text-xs",children:n.message}):null]}),p.jsx("input",{id:t,type:"file",className:"hidden",...c()})]})})},nG=yn({slot:{base:["min-h-screen","flex","flex-col"],header:["flex","flex-row","items-center","bg-slate-50","shadow-sm","border-b","border-b-slate-200","w-full","gap-4","p-4"],content:["flex-grow","h-full","border-b","border-b-slate-200","p-2"]},variant:{},defaults:{}}),_D=({logo:t,menu:e,actions:n,variant:r,tva:i=nG,css:s,children:o})=>{const l=i({...r,css:s}).slots;return p.jsxs("div",{className:l.base(),children:[p.jsx(Y4,{position:"top-right"}),p.jsxs("div",{className:l.header(),children:[p.jsx("div",{children:t}),p.jsx("div",{className:"flex-grow",children:e}),p.jsx("div",{className:"flex flex-row gap-2 items-center",children:n})]}),p.jsx("div",{className:l.content(),children:o??p.jsx(qo,{})})]})},rG=yn({slot:{base:["flex","flex-row","gap-2","items-center","justify-between","text-blue-500","rounded","px-1","py-0.5","hover:text-blue-700","focus:outline-none","w-fit"]},variant:{},defaults:{}}),iG=K.forwardRef(({icon:t,iconProps:e,variant:n,tva:r=rG,css:i,children:s,...o},l)=>{const c=r({...n,css:i}).slots;return p.jsxs("a",{...o,ref:l,className:c.base(),children:[t&&p.jsx(en,{icon:t,...e}),s]})}),sG=C3(iG),Sn=t=>p.jsx(sG,{preload:"intent",...t}),oG=yn({slot:{base:["fixed","inset-0","h-full","items-center","justify-center","bg-slate-100","flex","transition-all","duration-200","z-[10]","pointer-events-none","bg-opacity-0","backdrop-blur-none"]},variant:{show:{true:["bg-opacity-50","backdrop-blur-sm","pointer-events-auto"]}},defaults:{show:!0}}),aG=({show:t=!0,variant:e,tva:n=oG,css:r})=>{const i=n({show:t,...e,css:r}).slots;return t?p.jsx("div",{className:i.base(),children:p.jsx(en,{icon:"icon-[svg-spinners--pulse-rings-multiple]",variant:{size:"8xl"},css:{base:["text-sky-400"]}})}):null};var _y={exports:{}},lG=_y.exports,Oq;function uG(){return Oq||(Oq=1,function(t,e){(function(n,r){t.exports=r()})(lG,()=>(()=>{var n={d:(_,N)=>{for(var I in N)n.o(N,I)&&!n.o(_,I)&&Object.defineProperty(_,I,{enumerable:!0,get:N[I]})},o:(_,N)=>Object.prototype.hasOwnProperty.call(_,N)},r={};n.d(r,{default:()=>x});const i=(..._)=>{},s=_=>_!==null&&_?.constructor.name==="Object";let o,l;const c=()=>{if(!o){o=!0;try{l=h.storage||localStorage,l.getItem("")}catch{l=(()=>{const _={getItem:I=>N[I]||null,setItem:(I,O)=>{N[I]=O},removeItem:I=>{N[I]=void 0},clear:()=>{N={__proto__:_}}};let N={__proto__:_};return N})()}b()}},d="\0",f=(_,N,I=!0)=>I?[...JSON.stringify(_)].map(O=>String.fromCharCode(O.charCodeAt(0)+N)).join(""):JSON.parse([..._].map(O=>String.fromCharCode(O.charCodeAt(0)-N)).join("")),h={ttl:null,encrypt:!1,encrypter:f,decrypter:(_,N)=>f(_,N,!1),secret:75,storage:void 0};Object.seal(h);const b=(_=!1)=>{c();for(const N of Object.keys(l)){const I=l.getItem(N);let O;try{O=JSON.parse(I||"")}catch{continue}s(O)&&d in O&&(Date.now()>O.ttl||_)&&l.removeItem(N)}},x={config:h,set:(_,N,I={})=>{c();const O={...h,...I,encrypt:I.encrypt!==!1&&(I.encrypt||h.encrypt),ttl:I.ttl===null?null:I.ttl||h.ttl};try{const T=O.ttl&&!isNaN(O.ttl)&&O.ttl>0;let q=T?{[d]:N,ttl:Date.now()+1e3*O.ttl}:N;O.encrypt&&(T?q[d]=(O.encrypter||i)(q[d],O.secret):q=(O.encrypter||i)(q,O.secret)),l.setItem(_,JSON.stringify(q))}catch{return!1}},get:(_,N={})=>{c();const I=l.getItem(_),O={...h,...N,encrypt:N.encrypt!==!1&&(N.encrypt||h.encrypt),ttl:N.ttl===null?null:N.ttl||h.ttl};let T,q;try{T=JSON.parse(I||""),q=s(T)&&d in T,(O.decrypt||O.encrypt)&&(q?T[d]=(O.decrypter||i)(T[d],O.secret):T=(O.decrypter||i)(T,O.secret))}catch{}return q?Date.now()>T.ttl?(l.removeItem(_),null):T[d]:T!==void 0?T:I},flush:b,clear:()=>{c(),l.clear()},remove:_=>{c(),l.removeItem(_)}};return r.default})())}(_y)),_y.exports}var cG=uG();const dG=ro(cG),lm=dG,fG=yn({slot:{base:["flex","flex-row","gap-2","items-center"]},variant:{},defaults:{}}),Xl=({variant:t,tva:e=fG,css:n,children:r})=>{const i=e({...t,css:n}).slots;return p.jsx("div",{className:i.base(),children:r})},SD=yn({slot:{base:["flex","flex-row","gap-2","items-center","rounded","px-2","py-1","border","border-b-2","border-transparent","hover:text-slate-500"]},variant:{active:{true:[]},inner:{true:[]},subtle:{true:[]}},match:[{if:{active:!0,inner:!1},then:{base:["border","border-b-2","border-blue-400","bg-blue-50","hover:border-blue-500","text-slate-800","hover:text-blue-800"]}},{if:{active:!0,inner:!0},then:{base:["border-none","text-blue-600","hover:text-blue-800"]}},{if:{subtle:!0},then:{base:["hover:bg-slate-50","hover:border-slate-300","hover:text-slate-600"]}},{if:{active:!0,subtle:!0},then:{base:["bg-slate-100","border-slate-400"]}}],defaults:{active:!1,inner:!1,subtle:!1}}),pG=K.forwardRef(({icon:t=null,variant:e,tva:n=SD,css:r,children:i,...s},o)=>{const l=n({...e,css:r}).slots;return p.jsxs("a",{...s,className:l.base(),ref:o,children:[mb(t)?p.jsx(en,{icon:t}):t,i]})}),hG=C3(pG),Mn=({match:t=[],variant:e,tva:n=SD,css:r,...i})=>{const s=e4(),o=t.some(l=>!!s(l));return p.jsx(hG,{preload:"intent",variant:{active:!!s({to:i.to,params:i.params})||o,...e},tva:n,css:r,...i})},mG=yn({slot:{base:["flex","flex-row","flex-wrap","items-center","gap-2","text-sm","font-semibold"],item:["border","border-blue-200","bg-blue-50","rounded-md","px-2","py-1"]},variant:{},defaults:{}}),ec=({textTitle:t,textEmpty:e,items:n,render:r,limit:i,variant:s,tva:o=mG,css:l})=>{const c=i?n.slice(0,i):n,d=o({...s,css:l}).slots;return p.jsxs("div",{className:d.base(),children:[n.length?null:e,c.map(f=>p.jsx(r,{entity:f},`items-${f.id}`)),i&&n.length>i&&p.jsx(lf,{textTitle:t,target:p.jsx(am,{iconEnabled:ZF}),outside:!0,children:p.jsx("div",{className:"flex flex-col gap-2",children:n.map(f=>p.jsx(r,{entity:f},`items-${f.id}`))})})]})},gG=yn({slot:{base:[]},variant:{},defaults:{}}),re=({label:t,fallback:e,variant:n,tva:r=gG,css:i})=>{const s=r({...n,css:i}).slots;return p.jsx("div",{className:s.base(),children:Ml.rich(t,e)})},ED=yn({slot:{base:["flex","flex-col","gap-2"],input:["py-2","px-2","flex","flex-row","gap-2","items-center","cursor-pointer","hover:bg-slate-50","border","border-gray-300","rounded-md","text-slate-400","hover:text-slate-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],content:[],footer:["flex","items-center","justify-between","gap-2","border-t-2","border-slate-100","mt-4","pt-2"]},variant:{loading:{true:[]},selected:{true:[]}},match:[{if:{loading:!0},then:{input:["text-slate-300"]}},{if:{selected:!0},then:{input:["bg-slate-50","text-slate-700","hover:bg-slate-100","hover:text-slate-800"]}}],defaults:{loading:!1,selected:!1}}),yG=yn({use:ED,slot:{},variant:{},defaults:{}}),vG=({icon:t,textTitle:e,textSelect:n,modalProps:r,table:i,render:s,allowEmpty:o=!1,queryKey:l,query:c,value:d,onChange:f,variant:h,tva:b=yG,css:x})=>{const _=b({...h,css:x}).slots,[N,I]=K.useState(0),[O,T]=K.useState(15),[q,A]=K.useState(d||[]),[D,L]=K.useState(void 0),z=Yp({queryKey:[l,"PopupMultiSelect","data",{fulltext:D,page:N,size:O}],async queryFn(){return c({filter:{fulltext:D},cursor:{page:N,size:O}})}}),P=Yp({queryKey:[l,"PopupMultiSelect","selected",{value:d}],async queryFn(){return c({filter:{idIn:d}})},enabled:!!d});return p.jsx(lf,{icon:t,target:p.jsxs("label",{className:_.input({loading:P.isLoading,selected:!!P.data?.data.length}),children:[p.jsx(en,{icon:P.data?.data?.length?Fb:Pb}),P.data&&P.data.data.length?p.jsx(s,{entities:P.data.data}):n||p.jsx(re,{label:"Select item (label)"})]}),textTitle:e,variant:{loading:z.isLoading},disabled:z.isLoading,...r,children:p.jsxs("div",{className:_.base(),children:[p.jsx("div",{className:_.content(),children:p.jsx(i,{cursor:{cursor:{page:N,size:O},count:z.data?.count?z.data.count:{filter:-1,total:-1,where:-1},textTotal:p.jsx(re,{label:"Total count of items (label)"}),onPage(R){I(R)},onSize(R){T(R),I(0)}},fulltext:{value:D,set(R){L(R),I(0)}},table:{data:z.data?.data??[],selection:{type:"multi",value:q,set(R){A(R)}}}})}),p.jsx(Rb.Consumer,{children:R=>p.jsxs("div",{className:_.footer(),children:[p.jsx(Tn,{iconEnabled:Nh,iconDisabled:Nh,onClick:()=>{R?.close()},variant:{variant:"subtle"},children:p.jsx(re,{label:"Close (label)"})}),p.jsx(Tn,{iconEnabled:Ov,iconDisabled:Ov,disabled:!q.length&&!o,onClick:()=>{f(q),R?.close()},children:p.jsx(re,{label:"Confirm selection (label)"})})]})})]})})},ND=({icon:t,textTitle:e,textSelect:n,modalProps:r,table:i,render:s,allowEmpty:o=!1,queryKey:l,query:c,value:d,onChange:f,variant:h,tva:b=ED,css:x})=>{const _=b({...h,css:x}).slots,[N,I]=K.useState(0),[O,T]=K.useState(15),[q,A]=K.useState(d?[d]:[]),[D,L]=K.useState(void 0),z=Yp({queryKey:[l,"PopupSelect","data",{fulltext:D,page:N,size:O}],async queryFn(){return c({filter:{fulltext:D},cursor:{page:N,size:O}})}}),P=Yp({queryKey:[l,"PopupSelect","selected",{value:d}],async queryFn(){return c({filter:{id:d||void 0}})},enabled:!!d});return p.jsx(lf,{icon:t,target:p.jsxs("label",{className:_.input({loading:P.isLoading,selected:!!P.data?.data?.length}),children:[p.jsx(en,{icon:P.data?.data?.[0]?Fb:Pb}),P.data?.data?.[0]?p.jsx(s,{entity:P.data?.data?.[0]}):n||p.jsx(re,{label:"Select item (label)"})]}),textTitle:e,variant:{loading:z.isLoading},disabled:z.isLoading,...r,children:p.jsxs("div",{className:_.base(),children:[p.jsx("div",{className:_.content(),children:p.jsx(i,{cursor:{cursor:{page:N,size:O},count:z.data?.count?z.data.count:{filter:-1,total:-1,where:-1},textTotal:p.jsx(re,{label:"Total count of items (label)"}),onPage(R){I(R)},onSize(R){T(R),I(0)}},fulltext:{value:D,set(R){L(R),I(0)}},table:{data:z.data?.data??[],selection:{type:"single",value:q,set(R){A(R)}}}})}),p.jsx(Rb.Consumer,{children:R=>p.jsxs("div",{className:_.footer(),children:[p.jsx(Tn,{iconEnabled:Nh,iconDisabled:Nh,onClick:()=>{R?.close()},variant:{variant:"subtle"},children:p.jsx(re,{label:"Close (label)"})}),p.jsx(Tn,{iconEnabled:Ov,iconDisabled:Ov,disabled:!q.length&&!o,onClick:()=>{f(q?.[0]),R?.close()},children:p.jsx(re,{label:"Confirm selection (label)"})})]})})]})})},bG=yn({slot:{base:["bg-blue-50","p-2","rounded-md","border","border-blue-200"],container:["grid","grid-cols-2","grid-rows-2","gap-1"],title:["col-span-1","row-span-1","border-b","border-b-slate-300","pb-2"],links:["col-span-1","row-span-1","border-b","border-b-slate-300","pb-2","flex","flex-row","items-center","gap-4","justify-end"],actions:["col-span-1","row-span-1","flex","flex-row","items-center","gap-4"],extra:["col-span-1","row-span-1","flex","flex-row","gap-4","justify-end"]},variant:{},defaults:{}}),uf=({entity:t,title:e=()=>null,links:n=()=>null,actions:r=()=>null,extra:i=()=>null,variant:s,tva:o=bG,css:l})=>{const c=o({...s,css:l}).slots;return p.jsx(X1.Provider,{value:{inline:!0},children:p.jsx("div",{className:c.base(),children:p.jsxs("div",{className:c.container(),children:[p.jsx("div",{className:c.title(),children:p.jsx(e,{entity:t})}),p.jsx("div",{className:c.links(),children:p.jsx(n,{entity:t})}),p.jsx("div",{className:c.actions(),children:p.jsx(r,{entity:t})}),p.jsx("div",{className:c.extra(),children:p.jsx(i,{entity:t})})]})})})},xG=yn({slot:{base:["w-full","bg-slate-200","rounded","transition-all"],progress:["h-full","bg-blue-400","rounded","leading-none","transition-all"]},variant:{size:{xs:"h-0.5",sm:"h-1",md:"h-2",lg:"h-4"}},defaults:{size:"md"}}),cf=({value:t,variant:e,tva:n=xG,css:r})=>{const i=n({...e,css:r}).slots;return p.jsx("div",{className:i.base(),children:p.jsx("div",{style:{width:`${t}%`},className:i.progress()})})},wG=t=>e=>{t({search:({cursor:n,...r})=>({...r,cursor:{...n,page:e}})})},_G=t=>e=>{t({search:({cursor:n,...r})=>({...r,cursor:{...n,size:e,page:0}})})},Cr=t=>({onPage:wG(t),onSize:_G(t)}),Tr=t=>e=>t({search:({cursor:n,...r})=>({...r,filter:e,cursor:{...n,page:0}})}),Or=t=>e=>{t({search:({cursor:n,filter:r,...i})=>({...i,filter:{...r,fulltext:e},cursor:{...n,page:e?0:n.page}}),replace:!!e})},gs=t=>e=>{t({search(n){return{...n,selection:e}}})},Ir=t=>({loading:p.jsx(re,{label:`${t} - Loading (label)`}),success:p.jsx(re,{label:`${t} - Success (label)`}),error:p.jsx(re,{label:`${t} - Error (label)`})}),SG=yn({slot:{base:["flex","flex-col","gap-4"],content:["text-bold","text-red-500","font-bold"],footer:["flex","flex-row","items-center","justify-between","gap-4"]},variant:{},defaults:{}}),ys=({textContent:t,textToast:e,callback:n,onCancel:r,invalidator:i,variant:s,tva:o=SG,css:l})=>{const c=o({...s,css:l}).slots,d=K.useContext(Rb),f=cn({async mutationFn(){return X4.promise(n(),Ir(e))},async onSuccess(){await i?.(),d?.close()}});return p.jsxs("div",{className:c.base(),children:[p.jsx("div",{className:c.content(),children:t}),p.jsxs("div",{className:c.footer(),children:[p.jsx(Tn,{variant:{variant:"subtle",size:"sm"},iconEnabled:Nh,onClick:()=>{d?.close(),r?.()},children:p.jsx(re,{label:"Cancel (button)"})}),p.jsx(Tn,{variant:{variant:"danger",size:"md"},iconEnabled:mi,onClick:()=>{f.mutate()},children:p.jsx(re,{label:"Delete (button)"})})]})]})},EG=async({select:t,query:e=()=>t,filter:n,where:r})=>({total:(await t.clearSelect().select(i=>i.fn.countAll().as("count")).executeTakeFirstOrThrow()).count,filter:(await e({select:e({select:t,where:r}),where:n}).clearSelect().select(i=>i.fn.countAll().as("count")).executeTakeFirstOrThrow()).count,where:(await e({select:t,where:r}).clearSelect().select(i=>i.fn.countAll().as("count")).executeTakeFirstOrThrow()).count}),df=async({select:t,query:e=()=>t,output:n,filter:r,where:i})=>n.parse(await e({select:e({select:t,where:i}),where:r}).executeTakeFirstOrThrow()),iN=async({select:t,query:e=()=>t,output:n,filter:r,where:i,cursor:s})=>{const o=l=>{let c=l;return s&&(c=l.limit(s.size).offset(s.page*s.size)),c};return G.array(n).parse(await o(e({select:e({select:t,where:i}),where:r})).execute())},sr=async({select:t,query:e=()=>t,output:n,filter:r,where:i,cursor:s})=>({data:await iN({select:t,output:n,where:i,filter:r,query:e,cursor:s}),count:await EG({select:t,where:i,filter:r,query:e})}),fr=t=>{const e="input"in t?t.input:"input",n="output"in t?t.output:"output",r="schema"in t?t.schema._input:t._input,i="schema"in t?t.schema._output:t._output;return{types:{input:e==="output"?i:r,output:n==="input"?r:i},parse:s=>"schema"in t?t.schema.parse(s):t.parse(s)}},Bg=(t,e)=>G.custom().pipe(t.catch(e)),qr=({filter:t},{size:e=30}={size:30})=>G.object({filter:Bg(t.optional(),void 0),cursor:Bg(KH,{page:0,size:e}).default({page:0,size:e}),sort:Bg(G.any().optional(),[]).default([]),selection:Bg(G.array(G.string()),[]).default([])}),NG=yn({slot:{base:["w-full","flex","flex-col","items-center","justify-center"],title:["text-xl","text-bold"],message:["text-base","text-slate-500"],body:["pt-2"]},variant:{},defaults:{}}),kD=({textTitle:t,textMessage:e,icon:n,iconProps:r,variant:i,tva:s=NG,css:o,children:l})=>{const c=s({...i,css:o}).slots;return p.jsxs("div",{className:c.base(),children:[n?p.jsx(en,{icon:n,variant:{size:"6xl"},css:{base:["text-slate-500","opacity-50"]},...r}):null,p.jsx("div",{className:c.title(),children:t}),p.jsx("div",{className:c.message(),children:e}),p.jsx("div",{className:c.body(),children:l})]})},sN=yn({slot:{base:["min-w-full","flex","flex-col","gap-2","text-sm"],table:["min-w-full","w-max","table-fixed"],thead:["border","border-slate-200","bg-slate-100"],th:["text-left","px-2","py-1","border-t","border-b","border-slate-300"],tbody:[],tr:["border-b","border-b-slate-200","odd:bg-slate-50","hover:bg-purple-100","hover:border-purple-300"],td:["px-2","py-1"],tfoot:[],select:["cursor-pointer","text-slate-400","hover:text-slate-600"]},variant:{selected:{true:[]}},match:[{if:{selected:!0},then:{tr:["bg-blue-100","odd:bg-blue-50","border-blue-300"],select:["text-slate-600"]}}],defaults:{selected:!1}}),kG=({table:t,cell:{column:e,data:n,value:r},variant:i,tva:s=sN,css:o})=>{const l=e.def.render,c=s({...i,css:o}).slots;return p.jsx("td",{className:c.td(),children:p.jsxs("div",{className:"group flex flex-row items-center gap-2 justify-between",children:[p.jsx(l,{table:t,data:n,value:r,context:t.context}),e.filter&&!e.filter.is()?p.jsx(en,{icon:JQ,css:{base:["group-hover:visible","invisible","opacity-50 hover:opacity-100","cursor-pointer"]},variant:{size:"xl"},onClick:()=>{e.filter&&(e.def.filter?.onFilter({data:n,filter:e.filter}),window.scrollTo({top:0,behavior:"smooth"}))}}):null]})})},IG=({table:t,row:e,action:n,variant:r,tva:i=sN,css:s})=>{const o=i({...r,css:s}).slots,l=n?.table,c=n?.row;return p.jsxs("tr",{className:o.tr({selected:t.selection.isSelected(e)}),children:[l||c||t.selection.enabled?p.jsx("td",{className:"w-0",children:p.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.selection.enabled?p.jsx(en,{icon:t.selection.isSelected(e)?Fb:Pb,css:{base:o.select({selected:t.selection.isSelected(e)})},onClick:t.selection.withRowHandler(e)}):null,c?p.jsx(c,{table:t,data:e.data}):null]})}):null,e.cells.map(d=>p.jsx(kG,{table:t,cell:d,variant:r,tva:i,css:s},`${e.id}-${d.column.id}`)),p.jsx("td",{})]})},Rr=({table:t,fulltext:e,cursor:n,empty:r=()=>p.jsx(kD,{icon:ZQ,textTitle:p.jsx(re,{label:"Nothing here"}),textMessage:p.jsx(re,{label:"There is nothing to see right now."})}),action:i,variant:s,tva:o=sN,css:l})=>{const c=o({...s,css:l}).slots,d=i?.table,f=i?.row;return p.jsxs("div",{className:c.base(),children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("div",{className:"flex items-center gap-6 w-1/3",children:e?p.jsx(GQ,{value:e.value,onFulltext:e.set}):null}),p.jsxs("div",{className:"flex flex-row items-center justify-center gap-2",children:[p.jsx(lq,{...n}),t.filter.is()&&p.jsx(am,{iconEnabled:hq,css:{base:["text-amber-500"]},onClick:()=>t.filter.reset()})]})]}),p.jsx("div",{className:"relative overflow-x-auto",children:p.jsxs("table",{className:c.table(),children:[p.jsx("thead",{className:c.thead(),children:p.jsxs("tr",{children:[d||f||t.selection.enabled?p.jsx("th",{className:"w-0",children:p.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.selection.enabled?p.jsx(en,{icon:t.selection.isAll()?Fb:t.selection.isAny()?XQ:Pb,variant:{disabled:t.selection.isSingle},css:{base:c.select({selected:t.selection.isAny()})},onClick:t.selection.withAllHandler()}):null,d?p.jsx(d,{table:t}):null]})}):null,t.visible.map(h=>{const b=h.def.header||(()=>null);return p.jsx("th",{className:c.th(),style:h.def.size?{width:`${h.def.size}rem`}:void 0,children:p.jsxs("div",{className:"flex flex-row items-center justify-between",children:[p.jsx(b,{table:t}),p.jsx("div",{className:"flex flex-row items-center gap-2",children:h.filter?.is()&&p.jsx(en,{icon:hq,variant:{size:"md"},css:{base:["opacity-50","hover:opacity-100","cursor-pointer"]},onClick:()=>{h.filter?.reset()}})})]})},h.id)}),p.jsx("th",{})]})}),t.isEmpty?null:p.jsx("tbody",{className:c.tbody(),children:t.rows?.map(h=>p.jsx(IG,{row:h,table:t,action:i,variant:s,tva:o,css:l},h.id))})]})}),t.isEmpty?p.jsx(r,{}):null,p.jsxs("div",{className:"flex flex-row items-center justify-end gap-2",children:[p.jsx("div",{}),p.jsx(lq,{...n})]})]})},ui=[];for(let t=0;t<256;++t)ui.push((t+256).toString(16).slice(1));function CG(t,e=0){return(ui[t[e+0]]+ui[t[e+1]]+ui[t[e+2]]+ui[t[e+3]]+"-"+ui[t[e+4]]+ui[t[e+5]]+"-"+ui[t[e+6]]+ui[t[e+7]]+"-"+ui[t[e+8]]+ui[t[e+9]]+"-"+ui[t[e+10]]+ui[t[e+11]]+ui[t[e+12]]+ui[t[e+13]]+ui[t[e+14]]+ui[t[e+15]]).toLowerCase()}let h0;const TG=new Uint8Array(16);function OG(){if(!h0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");h0=crypto.getRandomValues.bind(crypto)}return h0(TG)}const qG=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),qq={randomUUID:qG};function Rq(t,e,n){if(qq.randomUUID&&!t)return qq.randomUUID();t=t||{};const r=t.random??t.rng?.()??OG();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,CG(r)}const jr=({columns:t,order:e=t.map(c=>c.name),hidden:n=[],visible:r=t.map(c=>c.name),data:i,filter:s,selection:o,context:l})=>{const c={...s?.value||{}},d=jO(c),f=new Set(o?.value),h=t.map(x=>({id:Rq(),def:x,filter:x.filter?{is(){return x.filter?d.get(x.filter.path)!==void 0:!1},reset(){x.filter&&d.set(x.filter.path,void 0),s?.set({...c})},shallow(_,N){x.filter&&d.set(_,N),s?.set({...c})},set(_){s?.set({..._})}}:void 0})),b=h.filter(x=>r.includes(x.def.name)&&!n.includes(x.def.name)).sort((x,_)=>{const N=e.indexOf(x.def.name),I=e.indexOf(_.def.name);return(N===-1?1/0:N)-(I===-1?1/0:I)});return{columns:h,visible:b,rows:i?.map(x=>({id:Rq(),data:x,cells:b.map(_=>({column:_,data:x,value:jO(x).get(_.def.name)}))})),isEmpty:i.length===0,filter:{is(){return h.some(x=>x.filter?.is())},reset(){s?.set({})},set(x){s?.set({...x})},shallow(x,_){d.set(x,_)}},selection:{enabled:!!o&&i.length>0,selection:Array.from(f),isSingle:o?.type==="single",isMulti:o?.type==="multi",isSelected({data:x}){return f.has(x.id)||!1},isAll(){return i.every(x=>f.has(x.id))},isAny(){return i.some(x=>f.has(x.id))},withRowHandler({data:x}){return()=>{if(o?.type==="single"){const _=f.has(x.id);f.clear(),_?f.delete(x.id):f.add(x.id)}else f.has(x.id)?f.delete(x.id):f.add(x.id);o?.set(Array.from(f))}},withAllHandler(){return()=>{i.every(x=>f.has(x.id))?f.clear():i.forEach(({id:x})=>f.add(x)),o?.set(Array.from(f))}}},context:l}},Ar=()=>t=>t,ID=({tags:t=[],render:e=({tag:i})=>i.label,onClick:n,textEmpty:r})=>{const i=t.filter(Boolean).sort((s,o)=>s.sort-o.sort);return p.jsx("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:i.length?i.map(s=>p.jsx(Ko,{onClick:()=>n?.(s),children:e({tag:s})},s.id)):r||p.jsx(re,{label:"No tags (label)"})})},RG=yn({slot:{base:["flex","flex-row","gap-2","items-center"],title:["flex","flex-row","gap-2","items-center","text-lg","text-slate-500","font-bold"],subtitle:["flex","flex-row","gap-4","items-center","text-lg"]},variant:{withSubtitle:{true:[]}},match:[{if:{withSubtitle:!0},then:{title:["border-r","border-r-slate-300","pr-2"]}}],defaults:{withSubtitle:!1}}),ff=({icon:t,title:e,subtitle:n,variant:r,tva:i=RG,css:s})=>{const o=i({withSubtitle:!!n,...r,css:s}).slots;return p.jsxs("div",{className:o.base(),children:[p.jsxs("div",{className:o.title(),children:[t?p.jsx(en,{icon:t}):null,e]}),n?p.jsx("div",{className:o.subtitle(),children:n}):null]})};var zg={},jq;function jG(){if(jq)return zg;jq=1;var t=I3();return zg.createRoot=t.createRoot,zg.hydrateRoot=t.hydrateRoot,zg}var AG=jG();const PG=ro(AG),oN=MB()({component:()=>p.jsxs(p.Fragment,{children:[p.jsx(a4,{}),p.jsx(qo,{})]})}),FG="modulepreload",DG=function(t){return"/"+t},Aq={},Pq=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");i=Promise.allSettled(n.map(c=>{if(c=DG(c),c in Aq)return;Aq[c]=!0;const d=c.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":FG,d||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((b,x)=>{h.addEventListener("load",b),h.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},LG=rn("/$locale")({component:qo,loader:async({params:{locale:t}})=>{try{Ml.push((await MG(`../translation/${t}.yaml`)).default)}catch(e){console.error(e)}}});function MG(t){switch(t){case"../translation/cs":case"../translation/cs.yaml":return Pq(()=>import("./cs-A07GeIo6.js"),[]);case"../translation/en":case"../translation/en.yaml":return Pq(()=>import("./en-Bc8i8D8l.js"),[]);default:return new Promise(function(e,n){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+t)))})}}const CD="cs",$G=[CD,"en"],BG=rn("/")({loader:async()=>{throw Yv({to:"/$locale",params:{locale:KV({available:$G,fallback:CD})}})}}),zG=rn("/$locale/")({component:()=>{const{locale:t}=_n({from:"/$locale"});return p.jsx("div",{className:"flex flex-col items-center justify-center h-screen w-screen",children:p.jsxs("div",{className:"rounded bg-slate-50 p-4 shadow-md border border-slate-300",children:[p.jsx("h1",{className:"text-3xl text-center",children:"Apps"}),p.jsx("ul",{children:p.jsx("li",{children:p.jsx(Sn,{icon:"icon-[bx--game]",to:"/$locale/apps/derivean/public/login",params:{locale:t},children:"DeRivean"})})})]})})}}),{kysely:Ft,bootstrap:WG}=WQ({database:"derivean",async bootstrap({kysely:t}){const e="varchar(36)";try{await t.selectFrom("User").select(n=>n.fn.countAll().as("count")).executeTakeFirstOrThrow()}catch{await t.schema.createTable("User").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("name","varchar(64)",r=>r.notNull()).addColumn("login","varchar(128)",r=>r.notNull()).addColumn("password","varchar(256)",r=>r.notNull()).addUniqueConstraint("[User] login",["login"]).execute(),await t.schema.createTable("Tag").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("code","varchar(64)",r=>r.notNull()).addColumn("label","varchar(128)",r=>r.notNull()).addColumn("group","varchar(64)").addColumn("sort","integer",r=>r.notNull().defaultTo(0)).addUniqueConstraint("Tag_code_group",["code","group"]).execute(),await t.schema.createTable("Cycle").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("userId",e,r=>r.notNull()).addForeignKeyConstraint("[Cycle] userId",["userId"],"User",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("stamp","datetime",r=>r.defaultTo(Nr`CURRENT_TIMESTAMP`).notNull()).execute(),await t.schema.createTable("Resource").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("name","varchar(64)",r=>r.notNull()).addUniqueConstraint("[Resource] name",["name"]).execute(),await t.schema.createTable("Resource_Tag").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Resource_Tag] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("tagId",e,r=>r.notNull()).addForeignKeyConstraint("[Resource_Tag] tagId",["tagId"],"Tag",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[Resource_Tag] resourceId-tagId",["resourceId","tagId"]).execute(),await t.schema.createTable("Inventory").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Inventory] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",r=>r.notNull()).addColumn("limit","float4",r=>r.notNull()).execute(),await t.schema.createTable("Default_Inventory").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Default_Inventory] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",r=>r.notNull()).addColumn("limit","float4",r=>r.notNull()).addUniqueConstraint("[Default_Inventory] resourceId",["resourceId"]).execute(),await t.schema.createTable("User_Inventory").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("userId",e,r=>r.notNull()).addForeignKeyConstraint("[User_Inventory] userId",["userId"],"User",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("inventoryId",e,r=>r.notNull()).addForeignKeyConstraint("[User_Inventory] inventoryId",["inventoryId"],"Inventory",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[User_Inventory] userId-inventoryId",["userId","inventoryId"]).execute(),await t.schema.createTable("Blueprint").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("name","varchar(64)",r=>r.notNull()).addColumn("cycles","integer",r=>r.notNull()).addColumn("sort","integer",r=>r.notNull()).addUniqueConstraint("[Blueprint] name",["name"]).execute(),await t.schema.createTable("Blueprint_Production").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",r=>r.notNull()).addColumn("cycles","integer",r=>r.notNull()).execute(),await t.schema.createTable("Blueprint_Requirement").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Requirement] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Requirement] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",r=>r.notNull()).addColumn("passive","boolean",r=>r.notNull()).addUniqueConstraint("[Blueprint_Requirement] blueprintId-requirementId",["blueprintId","resourceId"]).execute(),await t.schema.createTable("Blueprint_Dependency").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Dependency] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("dependencyId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Dependency] dependencyId",["dependencyId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[Blueprint_Dependency] blueprintId-dependencyId",["blueprintId","dependencyId"]).execute(),await t.schema.createTable("Blueprint_Conflict").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Conflict] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("conflictId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Conflict] conflictId",["conflictId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[Blueprint_Conflict] blueprintId-conflictId",["blueprintId","conflictId"]).execute(),await t.schema.createTable("Blueprint_Production_Requirement").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintProductionId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Requirement] blueprintProductionId",["blueprintProductionId"],"Blueprint_Production",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Requirement] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",r=>r.notNull()).addColumn("passive","boolean",r=>r.notNull()).addUniqueConstraint("[Blueprint_Production_Requirement] blueprintProductionId-resourceId",["blueprintProductionId","resourceId"]).execute(),await t.schema.createTable("Blueprint_Production_Dependency").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintProductionId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Dependency] blueprintProductionId",["blueprintProductionId"],"Blueprint_Production",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Dependency] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[Blueprint_Production_Dependency] blueprintProductionId-blueprintId",["blueprintProductionId","blueprintId"]).execute(),await t.schema.createTable("Blueprint_Production_Resource").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintProductionId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Dependency] blueprintProductionId",["blueprintProductionId"],"Blueprint_Production",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Dependency] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",r=>r.notNull()).addUniqueConstraint("[Blueprint_Production_Dependency] blueprintProductionId-resourceId",["blueprintProductionId","resourceId"]).execute(),await t.schema.createTable("Production").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("userId",e,r=>r.notNull()).addForeignKeyConstraint("[Production] userId",["userId"],"User",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("buildingId",e,r=>r.notNull()).addForeignKeyConstraint("[Production] buildingId",["buildingId"],"Building",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("blueprintProductionId",e,r=>r.notNull()).addForeignKeyConstraint("[Production] blueprintProductionId",["blueprintProductionId"],"Blueprint_Production",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("from","integer",r=>r.notNull()).addColumn("to","integer",r=>r.notNull()).addColumn("cycle","integer",r=>r.notNull()).execute(),await t.schema.createTable("Production_Queue").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintProductionId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Requirement] blueprintProductionId",["blueprintProductionId"],"Blueprint_Production",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("userId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Requirement] userId",["userId"],"User",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("buildingId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Requirement] buildingId",["buildingId"],"Building",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("count","integer",r=>r.notNull().defaultTo(0)).addColumn("limit","integer",r=>r.notNull().defaultTo(0)).addColumn("priority","integer",r=>r.notNull().defaultTo(0)).addColumn("paused","boolean",r=>r.notNull().defaultTo(!1)).addUniqueConstraint("[Production_Queue] userId-blueprintProductionId",["blueprintProductionId","userId"]).execute(),await t.schema.createTable("Construction").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("userId",e,r=>r.notNull()).addForeignKeyConstraint("[Construction] userId",["userId"],"User",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Construction] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("from","integer",r=>r.notNull()).addColumn("to","integer",r=>r.notNull()).addColumn("cycle","integer",r=>r.notNull()).addUniqueConstraint("[Construction] userId-blueprintId",["userId","blueprintId"]).execute(),await t.schema.createTable("Building").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("userId",e,r=>r.notNull()).addForeignKeyConstraint("[Building] userId",["userId"],"User",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Building] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[Building] userId-blueprintId",["userId","blueprintId"]).execute()}}}),UG=rn("/$locale/apps/derivean")({loader:WG}),TD="icon-[proicons--game]",VG=yn({slot:{base:["text-orange-500","font-bold","text-2xl","shadow-md","hover:shadow-lg","hover:text-orange-600","rounded","px-2","py-1","bg-slate-100"]},variant:{},defaults:{}}),OD=({variant:t,tva:e=VG,css:n})=>{const r=e({...t,css:n}).slots;return p.jsx("div",{className:r.base(),children:"DeRivean"})},Ba="icon-[fluent--building-shop-20-regular]",na="icon-[mingcute--inventory-line]",dr="icon-[hugeicons--resources-add]",HG=t=>{const{locale:e}=_n({from:"/$locale"});return p.jsxs(Xl,{...t,children:[p.jsx(Mn,{icon:"icon-[ph--graph-light]",to:"/$locale/apps/derivean/root/editor",params:{locale:e},children:p.jsx(re,{label:"Editor (menu)"})}),p.jsx(Mn,{icon:Ba,to:"/$locale/apps/derivean/root/blueprint/list",params:{locale:e},match:[{to:"/$locale/apps/derivean/root/blueprint/$id/view"},{to:"/$locale/apps/derivean/root/blueprint/$id/dependencies"},{to:"/$locale/apps/derivean/root/blueprint/$id/production"},{to:"/$locale/apps/derivean/root/blueprint/$id/requirements"},{to:"/$locale/apps/derivean/root/blueprint/$id/edit"},{to:"/$locale/apps/derivean/root/blueprint/production/$id/requirements"}],children:p.jsx(re,{label:"Blueprint list (menu)"})}),p.jsx(Mn,{icon:dr,to:"/$locale/apps/derivean/root/resource/list",params:{locale:e},children:p.jsx(re,{label:"Resource list (menu)"})}),p.jsx(Mn,{icon:na,to:"/$locale/apps/derivean/root/default/inventory",params:{locale:e},children:p.jsx(re,{label:"Default inventory (menu)"})}),p.jsx(Mn,{icon:rN,to:"/$locale/apps/derivean/root/user/list",params:{locale:e},match:[{to:"/$locale/apps/derivean/root/user/$id/view"},{to:"/$locale/apps/derivean/root/user/$id/building/list"},{to:"/$locale/apps/derivean/root/user/$id/inventory"}],children:p.jsx(re,{label:"User list (menu)"})}),p.jsx(Mn,{icon:kh,to:"/$locale/apps/derivean/root/tag/list",params:{locale:e},children:p.jsx(re,{label:"Tag list (menu)"})})]})},Lb=G.object({id:G.string(),name:G.string(),login:G.string()}),QG=rn("/$locale/apps/derivean/root")({async beforeLoad({context:t,params:{locale:e}}){return{...t,async session(){try{return Lb.parse(lm.get("session"))}catch{throw Yv({to:"/$locale/apps/derivean/public/login",params:{locale:e}})}}}},async loader({context:{session:t}}){return{session:await t()}},component:()=>{const{locale:t}=_n({from:"/$locale"}),{session:e}=rc({from:"/$locale/apps/derivean/root"});return p.jsx(_D,{logo:p.jsx(Sn,{to:"/$locale/apps/derivean/root",params:{locale:t},children:p.jsx(OD,{})}),menu:p.jsx(HG,{}),actions:p.jsxs(p.Fragment,{children:[e.name,p.jsx(Sn,{icon:TD,to:"/$locale/apps/derivean/game",params:{locale:t}}),p.jsx(Sn,{icon:nN,to:"/$locale/apps/derivean/public/logout",params:{locale:t},preload:!1})]})})}}),Ch="icon-[gala--clock]",qD=async({tx:t,userId:e,buildingId:n,blueprintProductionId:r})=>{const i=await t.selectFrom("Blueprint_Production as bp").select(["bp.cycles"]).where("bp.id","=",r).executeTakeFirstOrThrow(),{count:s}=await t.selectFrom("Cycle as c").select(l=>l.fn.count("c.id").as("count")).where("c.userId","=",e).executeTakeFirstOrThrow(),o=await t.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(["bpr.resourceId","bpr.amount","bpr.passive"]).where("bpr.blueprintProductionId","=",r).execute();for await(const{resourceId:l,amount:c,passive:d}of o){const f=await t.selectFrom("Inventory as i").innerJoin("User_Inventory as ui","ui.inventoryId","i.id").select(["i.id","i.amount"]).where("ui.userId","=",e).where("i.resourceId","=",l).where("i.amount",">=",c).executeTakeFirstOrThrow();d||await t.updateTable("Inventory").set({amount:f.amount-c}).where("id","=",f.id).execute()}await t.insertInto("Production").values({id:Un(),buildingId:n,blueprintProductionId:r,userId:e,cycle:0,from:s,to:s+i.cycles}).execute()},RD=100,KG=async({tx:t,userId:e})=>new Promise(n=>{setTimeout(async()=>{await t.insertInto("Cycle").values({id:Un(),stamp:ln.now().toUTC().toSQLTime(),userId:e}).execute();const r=(await t.selectFrom("Cycle as c").select(l=>l.fn.count("c.id").as("count")).where("c.userId","=",e).executeTakeFirstOrThrow()).count,i=await t.selectFrom("Construction as c").select(["c.id","c.cycle","c.to","c.blueprintId"]).where("userId","=",e).execute();for await(const{id:l,blueprintId:c,cycle:d,to:f}of i){if(r>f){await t.insertInto("Building").values({id:Un(),blueprintId:c,userId:e}).execute(),await t.deleteFrom("Construction").where("id","=",l).execute();continue}await t.updateTable("Construction").set("cycle",d+1).where("id","=",l).execute()}const s=await t.selectFrom("Production as p").innerJoin("Blueprint_Production as bp","bp.id","p.blueprintProductionId").innerJoin("Resource as r","r.id","bp.resourceId").select(["p.id","p.cycle","p.to","bp.resourceId","r.name","bp.amount"]).where("userId","=",e).execute();for await(const{id:l,resourceId:c,cycle:d,to:f,amount:h}of s){if(r>f){const b=await t.selectFrom("Inventory as i").innerJoin("User_Inventory as ui","i.id","ui.inventoryId").select(["i.id","i.amount","i.limit"]).where("ui.userId","=",e).where("i.resourceId","=",c).executeTakeFirst();if(!b||b.limit>0&&b.amount+h>b.limit)continue;await t.updateTable("Inventory").set({amount:b.amount+h}).where("id","=",b.id).execute(),await t.deleteFrom("Production as p").where("p.id","=",l).execute();continue}await t.updateTable("Production").set("cycle",d+1).where("id","=",l).execute()}const o=await t.selectFrom("Production_Queue as pq").innerJoin("Blueprint_Production as bp","bp.id","pq.blueprintProductionId").innerJoin("Blueprint as bl","bl.id","bp.blueprintId").select(["pq.id","pq.count","pq.limit","pq.blueprintProductionId","pq.buildingId"]).where("pq.userId","=",e).where("pq.paused","=",!1).orderBy("pq.priority","desc").execute();for await(const{id:l,count:c,limit:d,blueprintProductionId:f,buildingId:h}of o)try{const{count:b}=await t.selectFrom("Production as p").where("p.buildingId","=",h).select(x=>x.fn.count("p.id").as("count")).executeTakeFirstOrThrow();if(b>0)continue;await qD({tx:t,blueprintProductionId:f,buildingId:h,userId:e}),await t.updateTable("Production_Queue").set({count:c+1}).where("id","=",l).execute(),d>0&&c+1>=d&&await t.deleteFrom("Production_Queue").where("id","=",l).execute()}catch{}n(!0)},RD)}),GG=({userId:t,cycle:e,...n})=>{const r=kr([["Cycle"],["Management"],["Resource_Queue"],["Building_Queue"],["Building"],["User_Inventory"],["Inventory"],["Building_Base_Production"]]),i=cn({mutationKey:["useCycleMutation"],async mutationFn({userId:s}){return Ft.transaction().execute(async o=>KG({userId:s,tx:o}))},async onSuccess(){await r()}});return p.jsxs(Tn,{iconEnabled:Ch,iconDisabled:Ch,onClick:()=>{i.mutate({userId:t})},loading:i.isPending,...n,children:[p.jsx(re,{css:{base:["font-bold"]},label:"New cycle (label)"}),p.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[p.jsx("div",{className:"font-light text-sm",children:In({number:e})}),p.jsx(en,{icon:"icon-[solar--arrow-right-linear]"}),p.jsx("div",{className:"font-bold",children:In({number:e+1})})]})]})},Nn="icon-[ph--blueprint-thin]",Wi="icon-[fluent-mdl2--production-floor-management]",ZG=t=>{const{locale:e}=_n({from:"/$locale"});return p.jsxs(Xl,{...t,children:[p.jsx(Mn,{icon:"icon-[et--map]",to:"/$locale/apps/derivean/game/map",params:{locale:e},children:p.jsx(re,{label:"Map (menu)"})}),p.jsx(Mn,{icon:Wi,to:"/$locale/apps/derivean/game/production/queue",params:{locale:e},children:p.jsx(re,{label:"Production queue (menu)"})}),p.jsx(Mn,{icon:Nn,to:"/$locale/apps/derivean/game/blueprint/list",params:{locale:e},children:p.jsx(re,{label:"Blueprint list (menu)"})}),p.jsx(Mn,{icon:na,to:"/$locale/apps/derivean/game/inventory",params:{locale:e},children:p.jsx(re,{label:"Inventory (menu)"})})]})},JG=rn("/$locale/apps/derivean/game")({async beforeLoad({context:t,params:{locale:e}}){return{...t,async session(){try{return Lb.parse(lm.get("session"))}catch{throw Yv({to:"/$locale/apps/derivean/public/login",params:{locale:e}})}}}},async loader({context:{queryClient:t,kysely:e,session:n}}){const r=await n();return{session:r,inventory:await t.ensureQueryData({queryKey:["User_Inventory"],async queryFn(){return e.transaction().execute(async i=>i.selectFrom("Inventory as i").innerJoin("User_Inventory as ui","ui.inventoryId","i.id").select(["i.id","i.amount","i.limit","i.resourceId"]).where("ui.userId","=",r.id).execute())}}),buildingCounts:await t.ensureQueryData({queryKey:["Building"],async queryFn(){return e.transaction().execute(async i=>i.selectFrom("Building as b").innerJoin("Blueprint as bl","bl.id","b.blueprintId").select(["b.blueprintId","bl.name",s=>s.fn.count("b.id").as("count")]).where("b.userId","=",r.id).groupBy("b.blueprintId").execute())}}),cycle:await t.ensureQueryData({queryKey:["Cycle"],async queryFn(){return e.transaction().execute(async i=>(await i.selectFrom("Cycle as c").select(s=>s.fn.count("c.id").as("count")).where("c.userId","=",r.id).executeTakeFirstOrThrow()).count)}})}},component:()=>{const{locale:t}=_n({from:"/$locale"}),{session:e,cycle:n}=rc({from:"/$locale/apps/derivean/game"}),r=J$({filters:{status:"pending",mutationKey:["useCycleMutation"]},select(i){return i.state.status}});return p.jsx(_D,{logo:p.jsx(Sn,{to:"/$locale/apps/derivean/game",params:{locale:t},children:p.jsx(OD,{})}),menu:p.jsxs("div",{className:"flex flex-row items-center gap-4",children:[p.jsx(ZG,{}),p.jsx(GG,{cycle:n,userId:e.id})]}),actions:p.jsxs(p.Fragment,{children:[e.name,p.jsx(Sn,{icon:"icon-[clarity--crown-line]",to:"/$locale/apps/derivean/root",params:{locale:t}}),p.jsx(Sn,{icon:nN,to:"/$locale/apps/derivean/public/logout",params:{locale:t},preload:!1})]}),css:{base:r.length?["select-none","pointer-events-none","opacity-50"]:void 0},children:p.jsx(qo,{})})}});var Sy={exports:{}},YG=Sy.exports,Fq;function XG(){return Fq||(Fq=1,function(t,e){(function(n,r){r()})(YG,function(){function n(d,f){return typeof f>"u"?f={autoBom:!1}:typeof f!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),f={autoBom:!f}),f.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function r(d,f,h){var b=new XMLHttpRequest;b.open("GET",d),b.responseType="blob",b.onload=function(){c(b.response,f,h)},b.onerror=function(){console.error("could not download file")},b.send()}function i(d){var f=new XMLHttpRequest;f.open("HEAD",d,!1);try{f.send()}catch{}return 200<=f.status&&299>=f.status}function s(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var f=document.createEvent("MouseEvents");f.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(f)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof qu=="object"&&qu.global===qu?qu:void 0,l=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(d,f,h){var b=o.URL||o.webkitURL,x=document.createElement("a");f=f||d.name||"download",x.download=f,x.rel="noopener",typeof d=="string"?(x.href=d,x.origin===location.origin?s(x):i(x.href)?r(d,f,h):s(x,x.target="_blank")):(x.href=b.createObjectURL(d),setTimeout(function(){b.revokeObjectURL(x.href)},4e4),setTimeout(function(){s(x)},0))}:"msSaveOrOpenBlob"in navigator?function(d,f,h){if(f=f||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(n(d,h),f);else if(i(d))r(d,f,h);else{var b=document.createElement("a");b.href=d,b.target="_blank",setTimeout(function(){s(b)})}}:function(d,f,h,b){if(b=b||open("","_blank"),b&&(b.document.title=b.document.body.innerText="downloading..."),typeof d=="string")return r(d,f,h);var x=d.type==="application/octet-stream",_=/constructor/i.test(o.HTMLElement)||o.safari,N=/CriOS\/[\d]+/.test(navigator.userAgent);if((N||x&&_||l)&&typeof FileReader<"u"){var I=new FileReader;I.onloadend=function(){var q=I.result;q=N?q:q.replace(/^data:[^;]*;/,"data:attachment/file;"),b?b.location.href=q:location=q,b=null},I.readAsDataURL(d)}else{var O=o.URL||o.webkitURL,T=O.createObjectURL(d);b?b.location=T:location.href=T,b=null,setTimeout(function(){O.revokeObjectURL(T)},4e4)}});o.saveAs=c.saveAs=c,t.exports=c})}(Sy)),Sy.exports}var eZ=XG();const tZ=ro(eZ),m0=["Tag","Resource","Resource_Tag","Blueprint","Blueprint_Dependency","Blueprint_Conflict","Blueprint_Requirement","Blueprint_Production","Blueprint_Production_Requirement","Blueprint_Production_Dependency","Blueprint_Production_Resource","Default_Inventory"],nZ=rn("/$locale/apps/derivean/root/")({component(){const t=cn({mutationKey:["export"],async mutationFn(){return kn.promise((async()=>{const e=[];await Ft.transaction().execute(async n=>{for await(const r of m0)e.push({source:r,entities:await n.selectFrom(r).selectAll().execute()})}),tZ.saveAs(new Blob([JSON.stringify(e)],{type:"application/json;charset=utf-8"}),"export.json")})(),Ir("Export game files"))}});return p.jsxs("div",{className:"flex flex-col gap-4 w-2/3 mx-auto",children:[p.jsx(tG,{onDrop:async e=>{const[n]=e;if(!n)return;const r=JSON.parse(await n.text());await Nr`PRAGMA foreign_keys = OFF`.execute(Ft),await kn.promise(Ft.transaction().execute(async i=>{for await(const{source:s}of r){const o=m0.find(l=>l===s);if(!o)throw new Error(`Unknown source [${s}]`);await i.deleteFrom(o).execute()}for await(const{source:s,entities:o}of r){const l=m0.find(c=>c===s);if(!l)throw new Error(`Unknown source [${s}]`);for await(const c of Object.values(o))await i.insertInto(l).values(c).execute()}}),Ir("Import game files")),await Nr`PRAGMA foreign_keys = ON`.execute(Ft)}}),p.jsx("div",{className:"flex items-center justify-center mt-10 gap-4",children:p.jsx(Tn,{iconEnabled:TD,loading:t.isPending,onClick:()=>t.mutate(),variant:{variant:"subtle"},children:p.jsx(re,{label:"Export game files (label)"})})}),p.jsx("h2",{children:"TODO"}),p.jsxs("ul",{className:"flex flex-col gap-2",children:[p.jsx("li",{children:'Add exclusive to (building "exclusiveToId" cannot be built when target exists); Ok, exclusive to will be m:n.'}),p.jsx("li",{children:'Upgrades: Put everything into the building, drive upgrades by passive "Research" points'}),p.jsx("li",{children:"Bundle default gameplay as exported json (put into public); add button to root to load default/selected gameplay; idea is a few buttons: Settler like, Fantasy, AoE and so on."}),p.jsx("li",{children:"Define game ending rules: amount of resources in (individual resourece per required cycle), required building in a cycle. When a player fail, game end with the ability to reset. Each game rule may have an ending message to show."}),p.jsx("li",{children:"Define winning rules: amount of resources / building built in specific cycle. When rules are not met, it's like a fail."}),p.jsx("li",{children:"Idea: Blueprint should have display list (like present resource in inventory), also production should have display list (like present resource in inventory)."}),p.jsx("li",{children:"Add something like world available resources + the ability to drain and add resources to the world. Something like Wolrd_Inventory where 0 means unlimited resources."}),p.jsx("li",{children:"World renewal resources: a list of resources with cycles and amount when they got renewed (world_renewal_queue)."}),p.jsx("li",{children:"Defines seasons: list of cyclic seasons with their length; resource production may be bound to specific season(s)."}),p.jsx("li",{children:"Add maintenance cost for a building: when a cycle ends, cost is deducted from the inventory. If there is not enough resources, building will be marked as offline (closed for production)."}),p.jsx("li",{children:"Dispaly resources per season (some resources will be available only in specific season)"}),p.jsx("li",{children:"Add resource probability drop: some resources may have not be produces (like a crop). This should be thinked out."}),p.jsx("li",{children:'Production line should have requirements, but also something like "display requirements" required to even show the production line. Same for buildings.'})]})]})}}),rZ=rn("/$locale/apps/derivean/game/")({component:()=>{const{tva:t}=ir({from:"__root__"}),e=t().slots;return p.jsx("div",{className:e.base(),children:p.jsx("div",{children:"management here"})})}});var g0,Dq;function aN(){if(Dq)return g0;Dq=1;var t="\0",e="\0",n="\x01";class r{_isDirected=!0;_isMultigraph=!1;_isCompound=!1;_label;_defaultNodeLabelFn=()=>{};_defaultEdgeLabelFn=()=>{};_nodes={};_in={};_preds={};_out={};_sucs={};_edgeObjs={};_edgeLabels={};_nodeCount=0;_edgeCount=0;_parent;_children;constructor(f){f&&(this._isDirected=Object.hasOwn(f,"directed")?f.directed:!0,this._isMultigraph=Object.hasOwn(f,"multigraph")?f.multigraph:!1,this._isCompound=Object.hasOwn(f,"compound")?f.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[e]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(f){return this._label=f,this}graph(){return this._label}setDefaultNodeLabel(f){return this._defaultNodeLabelFn=f,typeof f!="function"&&(this._defaultNodeLabelFn=()=>f),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var f=this;return this.nodes().filter(h=>Object.keys(f._in[h]).length===0)}sinks(){var f=this;return this.nodes().filter(h=>Object.keys(f._out[h]).length===0)}setNodes(f,h){var b=arguments,x=this;return f.forEach(function(_){b.length>1?x.setNode(_,h):x.setNode(_)}),this}setNode(f,h){return Object.hasOwn(this._nodes,f)?(arguments.length>1&&(this._nodes[f]=h),this):(this._nodes[f]=arguments.length>1?h:this._defaultNodeLabelFn(f),this._isCompound&&(this._parent[f]=e,this._children[f]={},this._children[e][f]=!0),this._in[f]={},this._preds[f]={},this._out[f]={},this._sucs[f]={},++this._nodeCount,this)}node(f){return this._nodes[f]}hasNode(f){return Object.hasOwn(this._nodes,f)}removeNode(f){var h=this;if(Object.hasOwn(this._nodes,f)){var b=x=>h.removeEdge(h._edgeObjs[x]);delete this._nodes[f],this._isCompound&&(this._removeFromParentsChildList(f),delete this._parent[f],this.children(f).forEach(function(x){h.setParent(x)}),delete this._children[f]),Object.keys(this._in[f]).forEach(b),delete this._in[f],delete this._preds[f],Object.keys(this._out[f]).forEach(b),delete this._out[f],delete this._sucs[f],--this._nodeCount}return this}setParent(f,h){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(h===void 0)h=e;else{h+="";for(var b=h;b!==void 0;b=this.parent(b))if(b===f)throw new Error("Setting "+h+" as parent of "+f+" would create a cycle");this.setNode(h)}return this.setNode(f),this._removeFromParentsChildList(f),this._parent[f]=h,this._children[h][f]=!0,this}_removeFromParentsChildList(f){delete this._children[this._parent[f]][f]}parent(f){if(this._isCompound){var h=this._parent[f];if(h!==e)return h}}children(f=e){if(this._isCompound){var h=this._children[f];if(h)return Object.keys(h)}else{if(f===e)return this.nodes();if(this.hasNode(f))return[]}}predecessors(f){var h=this._preds[f];if(h)return Object.keys(h)}successors(f){var h=this._sucs[f];if(h)return Object.keys(h)}neighbors(f){var h=this.predecessors(f);if(h){const x=new Set(h);for(var b of this.successors(f))x.add(b);return Array.from(x.values())}}isLeaf(f){var h;return this.isDirected()?h=this.successors(f):h=this.neighbors(f),h.length===0}filterNodes(f){var h=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});h.setGraph(this.graph());var b=this;Object.entries(this._nodes).forEach(function([N,I]){f(N)&&h.setNode(N,I)}),Object.values(this._edgeObjs).forEach(function(N){h.hasNode(N.v)&&h.hasNode(N.w)&&h.setEdge(N,b.edge(N))});var x={};function _(N){var I=b.parent(N);return I===void 0||h.hasNode(I)?(x[N]=I,I):I in x?x[I]:_(I)}return this._isCompound&&h.nodes().forEach(N=>h.setParent(N,_(N))),h}setDefaultEdgeLabel(f){return this._defaultEdgeLabelFn=f,typeof f!="function"&&(this._defaultEdgeLabelFn=()=>f),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(f,h){var b=this,x=arguments;return f.reduce(function(_,N){return x.length>1?b.setEdge(_,N,h):b.setEdge(_,N),N}),this}setEdge(){var f,h,b,x,_=!1,N=arguments[0];typeof N=="object"&&N!==null&&"v"in N?(f=N.v,h=N.w,b=N.name,arguments.length===2&&(x=arguments[1],_=!0)):(f=N,h=arguments[1],b=arguments[3],arguments.length>2&&(x=arguments[2],_=!0)),f=""+f,h=""+h,b!==void 0&&(b=""+b);var I=o(this._isDirected,f,h,b);if(Object.hasOwn(this._edgeLabels,I))return _&&(this._edgeLabels[I]=x),this;if(b!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(f),this.setNode(h),this._edgeLabels[I]=_?x:this._defaultEdgeLabelFn(f,h,b);var O=l(this._isDirected,f,h,b);return f=O.v,h=O.w,Object.freeze(O),this._edgeObjs[I]=O,i(this._preds[h],f),i(this._sucs[f],h),this._in[h][I]=O,this._out[f][I]=O,this._edgeCount++,this}edge(f,h,b){var x=arguments.length===1?c(this._isDirected,arguments[0]):o(this._isDirected,f,h,b);return this._edgeLabels[x]}edgeAsObj(){const f=this.edge(...arguments);return typeof f!="object"?{label:f}:f}hasEdge(f,h,b){var x=arguments.length===1?c(this._isDirected,arguments[0]):o(this._isDirected,f,h,b);return Object.hasOwn(this._edgeLabels,x)}removeEdge(f,h,b){var x=arguments.length===1?c(this._isDirected,arguments[0]):o(this._isDirected,f,h,b),_=this._edgeObjs[x];return _&&(f=_.v,h=_.w,delete this._edgeLabels[x],delete this._edgeObjs[x],s(this._preds[h],f),s(this._sucs[f],h),delete this._in[h][x],delete this._out[f][x],this._edgeCount--),this}inEdges(f,h){var b=this._in[f];if(b){var x=Object.values(b);return h?x.filter(_=>_.v===h):x}}outEdges(f,h){var b=this._out[f];if(b){var x=Object.values(b);return h?x.filter(_=>_.w===h):x}}nodeEdges(f,h){var b=this.inEdges(f,h);if(b)return b.concat(this.outEdges(f,h))}}function i(d,f){d[f]?d[f]++:d[f]=1}function s(d,f){--d[f]||delete d[f]}function o(d,f,h,b){var x=""+f,_=""+h;if(!d&&x>_){var N=x;x=_,_=N}return x+n+_+n+(b===void 0?t:b)}function l(d,f,h,b){var x=""+f,_=""+h;if(!d&&x>_){var N=x;x=_,_=N}var I={v:x,w:_};return b&&(I.name=b),I}function c(d,f){return o(d,f.v,f.w,f.name)}return g0=r,g0}var y0,Lq;function iZ(){return Lq||(Lq=1,y0="2.2.4"),y0}var v0,Mq;function sZ(){return Mq||(Mq=1,v0={Graph:aN(),version:iZ()}),v0}var b0,$q;function oZ(){if($q)return b0;$q=1;var t=aN();b0={write:e,read:i};function e(s){var o={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:n(s),edges:r(s)};return s.graph()!==void 0&&(o.value=structuredClone(s.graph())),o}function n(s){return s.nodes().map(function(o){var l=s.node(o),c=s.parent(o),d={v:o};return l!==void 0&&(d.value=l),c!==void 0&&(d.parent=c),d})}function r(s){return s.edges().map(function(o){var l=s.edge(o),c={v:o.v,w:o.w};return o.name!==void 0&&(c.name=o.name),l!==void 0&&(c.value=l),c})}function i(s){var o=new t(s.options).setGraph(s.value);return s.nodes.forEach(function(l){o.setNode(l.v,l.value),l.parent&&o.setParent(l.v,l.parent)}),s.edges.forEach(function(l){o.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),o}return b0}var x0,Bq;function aZ(){if(Bq)return x0;Bq=1,x0=t;function t(e){var n={},r=[],i;function s(o){Object.hasOwn(n,o)||(n[o]=!0,i.push(o),e.successors(o).forEach(s),e.predecessors(o).forEach(s))}return e.nodes().forEach(function(o){i=[],s(o),i.length&&r.push(i)}),r}return x0}var w0,zq;function jD(){if(zq)return w0;zq=1;class t{_arr=[];_keyIndices={};size(){return this._arr.length}keys(){return this._arr.map(function(n){return n.key})}has(n){return Object.hasOwn(this._keyIndices,n)}priority(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(n,r){var i=this._keyIndices;if(n=String(n),!Object.hasOwn(i,n)){var s=this._arr,o=s.length;return i[n]=o,s.push({key:n,priority:r}),this._decrease(o),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key}decrease(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)}_heapify(n){var r=this._arr,i=2*n,s=i+1,o=n;i<r.length&&(o=r[i].priority<r[o].priority?i:o,s<r.length&&(o=r[s].priority<r[o].priority?s:o),o!==n&&(this._swap(n,o),this._heapify(o)))}_decrease(n){for(var r=this._arr,i=r[n].priority,s;n!==0&&(s=n>>1,!(r[s].priority<i));)this._swap(n,s),n=s}_swap(n,r){var i=this._arr,s=this._keyIndices,o=i[n],l=i[r];i[n]=l,i[r]=o,s[l.key]=n,s[o.key]=r}}return w0=t,w0}var _0,Wq;function AD(){if(Wq)return _0;Wq=1;var t=jD();_0=n;var e=()=>1;function n(i,s,o,l){return r(i,String(s),o||e,l||function(c){return i.outEdges(c)})}function r(i,s,o,l){var c={},d=new t,f,h,b=function(x){var _=x.v!==f?x.v:x.w,N=c[_],I=o(x),O=h.distance+I;if(I<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+x+" Weight: "+I);O<N.distance&&(N.distance=O,N.predecessor=f,d.decrease(_,O))};for(i.nodes().forEach(function(x){var _=x===s?0:Number.POSITIVE_INFINITY;c[x]={distance:_},d.add(x,_)});d.size()>0&&(f=d.removeMin(),h=c[f],h.distance!==Number.POSITIVE_INFINITY);)l(f).forEach(b);return c}return _0}var S0,Uq;function lZ(){if(Uq)return S0;Uq=1;var t=AD();S0=e;function e(n,r,i){return n.nodes().reduce(function(s,o){return s[o]=t(n,o,r,i),s},{})}return S0}var E0,Vq;function PD(){if(Vq)return E0;Vq=1,E0=t;function t(e){var n=0,r=[],i={},s=[];function o(l){var c=i[l]={onStack:!0,lowlink:n,index:n++};if(r.push(l),e.successors(l).forEach(function(h){Object.hasOwn(i,h)?i[h].onStack&&(c.lowlink=Math.min(c.lowlink,i[h].index)):(o(h),c.lowlink=Math.min(c.lowlink,i[h].lowlink))}),c.lowlink===c.index){var d=[],f;do f=r.pop(),i[f].onStack=!1,d.push(f);while(l!==f);s.push(d)}}return e.nodes().forEach(function(l){Object.hasOwn(i,l)||o(l)}),s}return E0}var N0,Hq;function uZ(){if(Hq)return N0;Hq=1;var t=PD();N0=e;function e(n){return t(n).filter(function(r){return r.length>1||r.length===1&&n.hasEdge(r[0],r[0])})}return N0}var k0,Qq;function cZ(){if(Qq)return k0;Qq=1,k0=e;var t=()=>1;function e(r,i,s){return n(r,i||t,s||function(o){return r.outEdges(o)})}function n(r,i,s){var o={},l=r.nodes();return l.forEach(function(c){o[c]={},o[c][c]={distance:0},l.forEach(function(d){c!==d&&(o[c][d]={distance:Number.POSITIVE_INFINITY})}),s(c).forEach(function(d){var f=d.v===c?d.w:d.v,h=i(d);o[c][f]={distance:h,predecessor:c}})}),l.forEach(function(c){var d=o[c];l.forEach(function(f){var h=o[f];l.forEach(function(b){var x=h[c],_=d[b],N=h[b],I=x.distance+_.distance;I<N.distance&&(N.distance=I,N.predecessor=_.predecessor)})})}),o}return k0}var I0,Kq;function FD(){if(Kq)return I0;Kq=1;function t(n){var r={},i={},s=[];function o(l){if(Object.hasOwn(i,l))throw new e;Object.hasOwn(r,l)||(i[l]=!0,r[l]=!0,n.predecessors(l).forEach(o),delete i[l],s.push(l))}if(n.sinks().forEach(o),Object.keys(r).length!==n.nodeCount())throw new e;return s}class e extends Error{constructor(){super(...arguments)}}return I0=t,t.CycleException=e,I0}var C0,Gq;function dZ(){if(Gq)return C0;Gq=1;var t=FD();C0=e;function e(n){try{t(n)}catch(r){if(r instanceof t.CycleException)return!1;throw r}return!0}return C0}var T0,Zq;function DD(){if(Zq)return T0;Zq=1,T0=t;function t(i,s,o){Array.isArray(s)||(s=[s]);var l=i.isDirected()?h=>i.successors(h):h=>i.neighbors(h),c=o==="post"?e:n,d=[],f={};return s.forEach(h=>{if(!i.hasNode(h))throw new Error("Graph does not have node: "+h);c(h,l,f,d)}),d}function e(i,s,o,l){for(var c=[[i,!1]];c.length>0;){var d=c.pop();d[1]?l.push(d[0]):Object.hasOwn(o,d[0])||(o[d[0]]=!0,c.push([d[0],!0]),r(s(d[0]),f=>c.push([f,!1])))}}function n(i,s,o,l){for(var c=[i];c.length>0;){var d=c.pop();Object.hasOwn(o,d)||(o[d]=!0,l.push(d),r(s(d),f=>c.push(f)))}}function r(i,s){for(var o=i.length;o--;)s(i[o],o,i);return i}return T0}var O0,Jq;function fZ(){if(Jq)return O0;Jq=1;var t=DD();O0=e;function e(n,r){return t(n,r,"post")}return O0}var q0,Yq;function pZ(){if(Yq)return q0;Yq=1;var t=DD();q0=e;function e(n,r){return t(n,r,"pre")}return q0}var R0,Xq;function hZ(){if(Xq)return R0;Xq=1;var t=aN(),e=jD();R0=n;function n(r,i){var s=new t,o={},l=new e,c;function d(h){var b=h.v===c?h.w:h.v,x=l.priority(b);if(x!==void 0){var _=i(h);_<x&&(o[b]=c,l.decrease(b,_))}}if(r.nodeCount()===0)return s;r.nodes().forEach(function(h){l.add(h,Number.POSITIVE_INFINITY),s.setNode(h)}),l.decrease(r.nodes()[0],0);for(var f=!1;l.size()>0;){if(c=l.removeMin(),Object.hasOwn(o,c))s.setEdge(c,o[c]);else{if(f)throw new Error("Input graph is not connected: "+r);f=!0}r.nodeEdges(c).forEach(d)}return s}return R0}var j0,eR;function mZ(){return eR||(eR=1,j0={components:aZ(),dijkstra:AD(),dijkstraAll:lZ(),findCycles:uZ(),floydWarshall:cZ(),isAcyclic:dZ(),postorder:fZ(),preorder:pZ(),prim:hZ(),tarjan:PD(),topsort:FD()}),j0}var A0,tR;function To(){if(tR)return A0;tR=1;var t=sZ();return A0={Graph:t.Graph,json:oZ(),alg:mZ(),version:t.version},A0}var P0,nR;function gZ(){if(nR)return P0;nR=1;class t{constructor(){let i={};i._next=i._prev=i,this._sentinel=i}dequeue(){let i=this._sentinel,s=i._prev;if(s!==i)return e(s),s}enqueue(i){let s=this._sentinel;i._prev&&i._next&&e(i),i._next=s._next,s._next._prev=i,s._next=i,i._prev=s}toString(){let i=[],s=this._sentinel,o=s._prev;for(;o!==s;)i.push(JSON.stringify(o,n)),o=o._prev;return"["+i.join(", ")+"]"}}function e(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function n(r,i){if(r!=="_next"&&r!=="_prev")return i}return P0=t,P0}var F0,rR;function yZ(){if(rR)return F0;rR=1;let t=To().Graph,e=gZ();F0=r;let n=()=>1;function r(d,f){if(d.nodeCount()<=1)return[];let h=o(d,f||n);return i(h.graph,h.buckets,h.zeroIdx).flatMap(x=>d.outEdges(x.v,x.w))}function i(d,f,h){let b=[],x=f[f.length-1],_=f[0],N;for(;d.nodeCount();){for(;N=_.dequeue();)s(d,f,h,N);for(;N=x.dequeue();)s(d,f,h,N);if(d.nodeCount()){for(let I=f.length-2;I>0;--I)if(N=f[I].dequeue(),N){b=b.concat(s(d,f,h,N,!0));break}}}return b}function s(d,f,h,b,x){let _=x?[]:void 0;return d.inEdges(b.v).forEach(N=>{let I=d.edge(N),O=d.node(N.v);x&&_.push({v:N.v,w:N.w}),O.out-=I,l(f,h,O)}),d.outEdges(b.v).forEach(N=>{let I=d.edge(N),O=N.w,T=d.node(O);T.in-=I,l(f,h,T)}),d.removeNode(b.v),_}function o(d,f){let h=new t,b=0,x=0;d.nodes().forEach(I=>{h.setNode(I,{v:I,in:0,out:0})}),d.edges().forEach(I=>{let O=h.edge(I.v,I.w)||0,T=f(I),q=O+T;h.setEdge(I.v,I.w,q),x=Math.max(x,h.node(I.v).out+=T),b=Math.max(b,h.node(I.w).in+=T)});let _=c(x+b+3).map(()=>new e),N=b+1;return h.nodes().forEach(I=>{l(_,N,h.node(I))}),{graph:h,buckets:_,zeroIdx:N}}function l(d,f,h){h.out?h.in?d[h.out-h.in+f].enqueue(h):d[d.length-1].enqueue(h):d[0].enqueue(h)}function c(d){const f=[];for(let h=0;h<d;h++)f.push(h);return f}return F0}var D0,iR;function Yr(){if(iR)return D0;iR=1;let t=To().Graph;D0={addBorderNode:f,addDummyNode:e,applyWithChunking:x,asNonCompoundGraph:r,buildLayerMatrix:l,intersectRect:o,mapValues:L,maxRank:_,normalizeRanks:c,notime:O,partition:N,pick:D,predecessorWeights:s,range:A,removeEmptyRanks:d,simplify:n,successorWeights:i,time:I,uniqueId:q,zipObject:z};function e(P,R,B,F){let W;do W=q(F);while(P.hasNode(W));return B.dummy=R,P.setNode(W,B),W}function n(P){let R=new t().setGraph(P.graph());return P.nodes().forEach(B=>R.setNode(B,P.node(B))),P.edges().forEach(B=>{let F=R.edge(B.v,B.w)||{weight:0,minlen:1},W=P.edge(B);R.setEdge(B.v,B.w,{weight:F.weight+W.weight,minlen:Math.max(F.minlen,W.minlen)})}),R}function r(P){let R=new t({multigraph:P.isMultigraph()}).setGraph(P.graph());return P.nodes().forEach(B=>{P.children(B).length||R.setNode(B,P.node(B))}),P.edges().forEach(B=>{R.setEdge(B,P.edge(B))}),R}function i(P){let R=P.nodes().map(B=>{let F={};return P.outEdges(B).forEach(W=>{F[W.w]=(F[W.w]||0)+P.edge(W).weight}),F});return z(P.nodes(),R)}function s(P){let R=P.nodes().map(B=>{let F={};return P.inEdges(B).forEach(W=>{F[W.v]=(F[W.v]||0)+P.edge(W).weight}),F});return z(P.nodes(),R)}function o(P,R){let B=P.x,F=P.y,W=R.x-B,U=R.y-F,$=P.width/2,ee=P.height/2;if(!W&&!U)throw new Error("Not possible to find intersection inside of the rectangle");let J,le;return Math.abs(U)*$>Math.abs(W)*ee?(U<0&&(ee=-ee),J=ee*W/U,le=ee):(W<0&&($=-$),J=$,le=$*U/W),{x:B+J,y:F+le}}function l(P){let R=A(_(P)+1).map(()=>[]);return P.nodes().forEach(B=>{let F=P.node(B),W=F.rank;W!==void 0&&(R[W][F.order]=B)}),R}function c(P){let R=P.nodes().map(F=>{let W=P.node(F).rank;return W===void 0?Number.MAX_VALUE:W}),B=x(Math.min,R);P.nodes().forEach(F=>{let W=P.node(F);Object.hasOwn(W,"rank")&&(W.rank-=B)})}function d(P){let R=P.nodes().map($=>P.node($).rank),B=x(Math.min,R),F=[];P.nodes().forEach($=>{let ee=P.node($).rank-B;F[ee]||(F[ee]=[]),F[ee].push($)});let W=0,U=P.graph().nodeRankFactor;Array.from(F).forEach(($,ee)=>{$===void 0&&ee%U!==0?--W:$!==void 0&&W&&$.forEach(J=>P.node(J).rank+=W)})}function f(P,R,B,F){let W={width:0,height:0};return arguments.length>=4&&(W.rank=B,W.order=F),e(P,"border",W,R)}function h(P,R=b){const B=[];for(let F=0;F<P.length;F+=R){const W=P.slice(F,F+R);B.push(W)}return B}const b=65535;function x(P,R){if(R.length>b){const B=h(R);return P.apply(null,B.map(F=>P.apply(null,F)))}else return P.apply(null,R)}function _(P){const B=P.nodes().map(F=>{let W=P.node(F).rank;return W===void 0?Number.MIN_VALUE:W});return x(Math.max,B)}function N(P,R){let B={lhs:[],rhs:[]};return P.forEach(F=>{R(F)?B.lhs.push(F):B.rhs.push(F)}),B}function I(P,R){let B=Date.now();try{return R()}finally{console.log(P+" time: "+(Date.now()-B)+"ms")}}function O(P,R){return R()}let T=0;function q(P){var R=++T;return toString(P)+R}function A(P,R,B=1){R==null&&(R=P,P=0);let F=U=>U<R;B<0&&(F=U=>R<U);const W=[];for(let U=P;F(U);U+=B)W.push(U);return W}function D(P,R){const B={};for(const F of R)P[F]!==void 0&&(B[F]=P[F]);return B}function L(P,R){let B=R;return typeof R=="string"&&(B=F=>F[R]),Object.entries(P).reduce((F,[W,U])=>(F[W]=B(U,W),F),{})}function z(P,R){return P.reduce((B,F,W)=>(B[F]=R[W],B),{})}return D0}var L0,sR;function vZ(){if(sR)return L0;sR=1;let t=yZ(),e=Yr().uniqueId;L0={run:n,undo:i};function n(s){(s.graph().acyclicer==="greedy"?t(s,l(s)):r(s)).forEach(c=>{let d=s.edge(c);s.removeEdge(c),d.forwardName=c.name,d.reversed=!0,s.setEdge(c.w,c.v,d,e("rev"))});function l(c){return d=>c.edge(d).weight}}function r(s){let o=[],l={},c={};function d(f){Object.hasOwn(c,f)||(c[f]=!0,l[f]=!0,s.outEdges(f).forEach(h=>{Object.hasOwn(l,h.w)?o.push(h):d(h.w)}),delete l[f])}return s.nodes().forEach(d),o}function i(s){s.edges().forEach(o=>{let l=s.edge(o);if(l.reversed){s.removeEdge(o);let c=l.forwardName;delete l.reversed,delete l.forwardName,s.setEdge(o.w,o.v,l,c)}})}return L0}var M0,oR;function bZ(){if(oR)return M0;oR=1;let t=Yr();M0={run:e,undo:r};function e(i){i.graph().dummyChains=[],i.edges().forEach(s=>n(i,s))}function n(i,s){let o=s.v,l=i.node(o).rank,c=s.w,d=i.node(c).rank,f=s.name,h=i.edge(s),b=h.labelRank;if(d===l+1)return;i.removeEdge(s);let x,_,N;for(N=0,++l;l<d;++N,++l)h.points=[],_={width:0,height:0,edgeLabel:h,edgeObj:s,rank:l},x=t.addDummyNode(i,"edge",_,"_d"),l===b&&(_.width=h.width,_.height=h.height,_.dummy="edge-label",_.labelpos=h.labelpos),i.setEdge(o,x,{weight:h.weight},f),N===0&&i.graph().dummyChains.push(x),o=x;i.setEdge(o,c,{weight:h.weight},f)}function r(i){i.graph().dummyChains.forEach(s=>{let o=i.node(s),l=o.edgeLabel,c;for(i.setEdge(o.edgeObj,l);o.dummy;)c=i.successors(s)[0],i.removeNode(s),l.points.push({x:o.x,y:o.y}),o.dummy==="edge-label"&&(l.x=o.x,l.y=o.y,l.width=o.width,l.height=o.height),s=c,o=i.node(s)})}return M0}var $0,aR;function Av(){if(aR)return $0;aR=1;const{applyWithChunking:t}=Yr();$0={longestPath:e,slack:n};function e(r){var i={};function s(o){var l=r.node(o);if(Object.hasOwn(i,o))return l.rank;i[o]=!0;let c=r.outEdges(o).map(f=>f==null?Number.POSITIVE_INFINITY:s(f.w)-r.edge(f).minlen);var d=t(Math.min,c);return d===Number.POSITIVE_INFINITY&&(d=0),l.rank=d}r.sources().forEach(s)}function n(r,i){return r.node(i.w).rank-r.node(i.v).rank-r.edge(i).minlen}return $0}var B0,lR;function LD(){if(lR)return B0;lR=1;var t=To().Graph,e=Av().slack;B0=n;function n(o){var l=new t({directed:!1}),c=o.nodes()[0],d=o.nodeCount();l.setNode(c,{});for(var f,h;r(l,o)<d;)f=i(l,o),h=l.hasNode(f.v)?e(o,f):-e(o,f),s(l,o,h);return l}function r(o,l){function c(d){l.nodeEdges(d).forEach(f=>{var h=f.v,b=d===h?f.w:h;!o.hasNode(b)&&!e(l,f)&&(o.setNode(b,{}),o.setEdge(d,b,{}),c(b))})}return o.nodes().forEach(c),o.nodeCount()}function i(o,l){return l.edges().reduce((d,f)=>{let h=Number.POSITIVE_INFINITY;return o.hasNode(f.v)!==o.hasNode(f.w)&&(h=e(l,f)),h<d[0]?[h,f]:d},[Number.POSITIVE_INFINITY,null])[1]}function s(o,l,c){o.nodes().forEach(d=>l.node(d).rank+=c)}return B0}var z0,uR;function xZ(){if(uR)return z0;uR=1;var t=LD(),e=Av().slack,n=Av().longestPath,r=To().alg.preorder,i=To().alg.postorder,s=Yr().simplify;z0=o,o.initLowLimValues=f,o.initCutValues=l,o.calcCutValue=d,o.leaveEdge=b,o.enterEdge=x,o.exchangeEdges=_;function o(T){T=s(T),n(T);var q=t(T);f(q),l(q,T);for(var A,D;A=b(q);)D=x(q,T,A),_(q,T,A,D)}function l(T,q){var A=i(T,T.nodes());A=A.slice(0,A.length-1),A.forEach(D=>c(T,q,D))}function c(T,q,A){var D=T.node(A),L=D.parent;T.edge(A,L).cutvalue=d(T,q,A)}function d(T,q,A){var D=T.node(A),L=D.parent,z=!0,P=q.edge(A,L),R=0;return P||(z=!1,P=q.edge(L,A)),R=P.weight,q.nodeEdges(A).forEach(B=>{var F=B.v===A,W=F?B.w:B.v;if(W!==L){var U=F===z,$=q.edge(B).weight;if(R+=U?$:-$,I(T,A,W)){var ee=T.edge(A,W).cutvalue;R+=U?-ee:ee}}}),R}function f(T,q){arguments.length<2&&(q=T.nodes()[0]),h(T,{},1,q)}function h(T,q,A,D,L){var z=A,P=T.node(D);return q[D]=!0,T.neighbors(D).forEach(R=>{Object.hasOwn(q,R)||(A=h(T,q,A,R,D))}),P.low=z,P.lim=A++,L?P.parent=L:delete P.parent,A}function b(T){return T.edges().find(q=>T.edge(q).cutvalue<0)}function x(T,q,A){var D=A.v,L=A.w;q.hasEdge(D,L)||(D=A.w,L=A.v);var z=T.node(D),P=T.node(L),R=z,B=!1;z.lim>P.lim&&(R=P,B=!0);var F=q.edges().filter(W=>B===O(T,T.node(W.v),R)&&B!==O(T,T.node(W.w),R));return F.reduce((W,U)=>e(q,U)<e(q,W)?U:W)}function _(T,q,A,D){var L=A.v,z=A.w;T.removeEdge(L,z),T.setEdge(D.v,D.w,{}),f(T),l(T,q),N(T,q)}function N(T,q){var A=T.nodes().find(L=>!q.node(L).parent),D=r(T,A);D=D.slice(1),D.forEach(L=>{var z=T.node(L).parent,P=q.edge(L,z),R=!1;P||(P=q.edge(z,L),R=!0),q.node(L).rank=q.node(z).rank+(R?P.minlen:-P.minlen)})}function I(T,q,A){return T.hasEdge(q,A)}function O(T,q,A){return A.low<=q.lim&&q.lim<=A.lim}return z0}var W0,cR;function wZ(){if(cR)return W0;cR=1;var t=Av(),e=t.longestPath,n=LD(),r=xZ();W0=i;function i(c){switch(c.graph().ranker){case"network-simplex":l(c);break;case"tight-tree":o(c);break;case"longest-path":s(c);break;default:l(c)}}var s=e;function o(c){e(c),n(c)}function l(c){r(c)}return W0}var U0,dR;function _Z(){if(dR)return U0;dR=1,U0=t;function t(r){let i=n(r);r.graph().dummyChains.forEach(s=>{let o=r.node(s),l=o.edgeObj,c=e(r,i,l.v,l.w),d=c.path,f=c.lca,h=0,b=d[h],x=!0;for(;s!==l.w;){if(o=r.node(s),x){for(;(b=d[h])!==f&&r.node(b).maxRank<o.rank;)h++;b===f&&(x=!1)}if(!x){for(;h<d.length-1&&r.node(b=d[h+1]).minRank<=o.rank;)h++;b=d[h]}r.setParent(s,b),s=r.successors(s)[0]}})}function e(r,i,s,o){let l=[],c=[],d=Math.min(i[s].low,i[o].low),f=Math.max(i[s].lim,i[o].lim),h,b;h=s;do h=r.parent(h),l.push(h);while(h&&(i[h].low>d||f>i[h].lim));for(b=h,h=o;(h=r.parent(h))!==b;)c.push(h);return{path:l.concat(c.reverse()),lca:b}}function n(r){let i={},s=0;function o(l){let c=s;r.children(l).forEach(o),i[l]={low:c,lim:s++}}return r.children().forEach(o),i}return U0}var V0,fR;function SZ(){if(fR)return V0;fR=1;let t=Yr();V0={run:e,cleanup:s};function e(o){let l=t.addDummyNode(o,"root",{},"_root"),c=r(o),d=Object.values(c),f=t.applyWithChunking(Math.max,d)-1,h=2*f+1;o.graph().nestingRoot=l,o.edges().forEach(x=>o.edge(x).minlen*=h);let b=i(o)+1;o.children().forEach(x=>n(o,l,h,b,f,c,x)),o.graph().nodeRankFactor=h}function n(o,l,c,d,f,h,b){let x=o.children(b);if(!x.length){b!==l&&o.setEdge(l,b,{weight:0,minlen:c});return}let _=t.addBorderNode(o,"_bt"),N=t.addBorderNode(o,"_bb"),I=o.node(b);o.setParent(_,b),I.borderTop=_,o.setParent(N,b),I.borderBottom=N,x.forEach(O=>{n(o,l,c,d,f,h,O);let T=o.node(O),q=T.borderTop?T.borderTop:O,A=T.borderBottom?T.borderBottom:O,D=T.borderTop?d:2*d,L=q!==A?1:f-h[b]+1;o.setEdge(_,q,{weight:D,minlen:L,nestingEdge:!0}),o.setEdge(A,N,{weight:D,minlen:L,nestingEdge:!0})}),o.parent(b)||o.setEdge(l,_,{weight:0,minlen:f+h[b]})}function r(o){var l={};function c(d,f){var h=o.children(d);h&&h.length&&h.forEach(b=>c(b,f+1)),l[d]=f}return o.children().forEach(d=>c(d,1)),l}function i(o){return o.edges().reduce((l,c)=>l+o.edge(c).weight,0)}function s(o){var l=o.graph();o.removeNode(l.nestingRoot),delete l.nestingRoot,o.edges().forEach(c=>{var d=o.edge(c);d.nestingEdge&&o.removeEdge(c)})}return V0}var H0,pR;function EZ(){if(pR)return H0;pR=1;let t=Yr();H0=e;function e(r){function i(s){let o=r.children(s),l=r.node(s);if(o.length&&o.forEach(i),Object.hasOwn(l,"minRank")){l.borderLeft=[],l.borderRight=[];for(let c=l.minRank,d=l.maxRank+1;c<d;++c)n(r,"borderLeft","_bl",s,l,c),n(r,"borderRight","_br",s,l,c)}}r.children().forEach(i)}function n(r,i,s,o,l,c){let d={width:0,height:0,rank:c,borderType:i},f=l[i][c-1],h=t.addDummyNode(r,"border",d,s);l[i][c]=h,r.setParent(h,o),f&&r.setEdge(f,h,{weight:1})}return H0}var Q0,hR;function NZ(){if(hR)return Q0;hR=1,Q0={adjust:t,undo:e};function t(c){let d=c.graph().rankdir.toLowerCase();(d==="lr"||d==="rl")&&n(c)}function e(c){let d=c.graph().rankdir.toLowerCase();(d==="bt"||d==="rl")&&i(c),(d==="lr"||d==="rl")&&(o(c),n(c))}function n(c){c.nodes().forEach(d=>r(c.node(d))),c.edges().forEach(d=>r(c.edge(d)))}function r(c){let d=c.width;c.width=c.height,c.height=d}function i(c){c.nodes().forEach(d=>s(c.node(d))),c.edges().forEach(d=>{let f=c.edge(d);f.points.forEach(s),Object.hasOwn(f,"y")&&s(f)})}function s(c){c.y=-c.y}function o(c){c.nodes().forEach(d=>l(c.node(d))),c.edges().forEach(d=>{let f=c.edge(d);f.points.forEach(l),Object.hasOwn(f,"x")&&l(f)})}function l(c){let d=c.x;c.x=c.y,c.y=d}return Q0}var K0,mR;function kZ(){if(mR)return K0;mR=1;let t=Yr();K0=e;function e(n){let r={},i=n.nodes().filter(f=>!n.children(f).length),s=i.map(f=>n.node(f).rank),o=t.applyWithChunking(Math.max,s),l=t.range(o+1).map(()=>[]);function c(f){if(r[f])return;r[f]=!0;let h=n.node(f);l[h.rank].push(f),n.successors(f).forEach(c)}return i.sort((f,h)=>n.node(f).rank-n.node(h).rank).forEach(c),l}return K0}var G0,gR;function IZ(){if(gR)return G0;gR=1;let t=Yr().zipObject;G0=e;function e(r,i){let s=0;for(let o=1;o<i.length;++o)s+=n(r,i[o-1],i[o]);return s}function n(r,i,s){let o=t(s,s.map((b,x)=>x)),l=i.flatMap(b=>r.outEdges(b).map(x=>({pos:o[x.w],weight:r.edge(x).weight})).sort((x,_)=>x.pos-_.pos)),c=1;for(;c<s.length;)c<<=1;let d=2*c-1;c-=1;let f=new Array(d).fill(0),h=0;return l.forEach(b=>{let x=b.pos+c;f[x]+=b.weight;let _=0;for(;x>0;)x%2&&(_+=f[x+1]),x=x-1>>1,f[x]+=b.weight;h+=b.weight*_}),h}return G0}var Z0,yR;function CZ(){if(yR)return Z0;yR=1,Z0=t;function t(e,n=[]){return n.map(r=>{let i=e.inEdges(r);if(i.length){let s=i.reduce((o,l)=>{let c=e.edge(l),d=e.node(l.v);return{sum:o.sum+c.weight*d.order,weight:o.weight+c.weight}},{sum:0,weight:0});return{v:r,barycenter:s.sum/s.weight,weight:s.weight}}else return{v:r}})}return Z0}var J0,vR;function TZ(){if(vR)return J0;vR=1;let t=Yr();J0=e;function e(i,s){let o={};i.forEach((c,d)=>{let f=o[c.v]={indegree:0,in:[],out:[],vs:[c.v],i:d};c.barycenter!==void 0&&(f.barycenter=c.barycenter,f.weight=c.weight)}),s.edges().forEach(c=>{let d=o[c.v],f=o[c.w];d!==void 0&&f!==void 0&&(f.indegree++,d.out.push(o[c.w]))});let l=Object.values(o).filter(c=>!c.indegree);return n(l)}function n(i){let s=[];function o(c){return d=>{d.merged||(d.barycenter===void 0||c.barycenter===void 0||d.barycenter>=c.barycenter)&&r(c,d)}}function l(c){return d=>{d.in.push(c),--d.indegree===0&&i.push(d)}}for(;i.length;){let c=i.pop();s.push(c),c.in.reverse().forEach(o(c)),c.out.forEach(l(c))}return s.filter(c=>!c.merged).map(c=>t.pick(c,["vs","i","barycenter","weight"]))}function r(i,s){let o=0,l=0;i.weight&&(o+=i.barycenter*i.weight,l+=i.weight),s.weight&&(o+=s.barycenter*s.weight,l+=s.weight),i.vs=s.vs.concat(i.vs),i.barycenter=o/l,i.weight=l,i.i=Math.min(s.i,i.i),s.merged=!0}return J0}var Y0,bR;function OZ(){if(bR)return Y0;bR=1;let t=Yr();Y0=e;function e(i,s){let o=t.partition(i,_=>Object.hasOwn(_,"barycenter")),l=o.lhs,c=o.rhs.sort((_,N)=>N.i-_.i),d=[],f=0,h=0,b=0;l.sort(r(!!s)),b=n(d,c,b),l.forEach(_=>{b+=_.vs.length,d.push(_.vs),f+=_.barycenter*_.weight,h+=_.weight,b=n(d,c,b)});let x={vs:d.flat(!0)};return h&&(x.barycenter=f/h,x.weight=h),x}function n(i,s,o){let l;for(;s.length&&(l=s[s.length-1]).i<=o;)s.pop(),i.push(l.vs),o++;return o}function r(i){return(s,o)=>s.barycenter<o.barycenter?-1:s.barycenter>o.barycenter?1:i?o.i-s.i:s.i-o.i}return Y0}var X0,xR;function qZ(){if(xR)return X0;xR=1;let t=CZ(),e=TZ(),n=OZ();X0=r;function r(o,l,c,d){let f=o.children(l),h=o.node(l),b=h?h.borderLeft:void 0,x=h?h.borderRight:void 0,_={};b&&(f=f.filter(T=>T!==b&&T!==x));let N=t(o,f);N.forEach(T=>{if(o.children(T.v).length){let q=r(o,T.v,c,d);_[T.v]=q,Object.hasOwn(q,"barycenter")&&s(T,q)}});let I=e(N,c);i(I,_);let O=n(I,d);if(b&&(O.vs=[b,O.vs,x].flat(!0),o.predecessors(b).length)){let T=o.node(o.predecessors(b)[0]),q=o.node(o.predecessors(x)[0]);Object.hasOwn(O,"barycenter")||(O.barycenter=0,O.weight=0),O.barycenter=(O.barycenter*O.weight+T.order+q.order)/(O.weight+2),O.weight+=2}return O}function i(o,l){o.forEach(c=>{c.vs=c.vs.flatMap(d=>l[d]?l[d].vs:d)})}function s(o,l){o.barycenter!==void 0?(o.barycenter=(o.barycenter*o.weight+l.barycenter*l.weight)/(o.weight+l.weight),o.weight+=l.weight):(o.barycenter=l.barycenter,o.weight=l.weight)}return X0}var eS,wR;function RZ(){if(wR)return eS;wR=1;let t=To().Graph,e=Yr();eS=n;function n(i,s,o){let l=r(i),c=new t({compound:!0}).setGraph({root:l}).setDefaultNodeLabel(d=>i.node(d));return i.nodes().forEach(d=>{let f=i.node(d),h=i.parent(d);(f.rank===s||f.minRank<=s&&s<=f.maxRank)&&(c.setNode(d),c.setParent(d,h||l),i[o](d).forEach(b=>{let x=b.v===d?b.w:b.v,_=c.edge(x,d),N=_!==void 0?_.weight:0;c.setEdge(x,d,{weight:i.edge(b).weight+N})}),Object.hasOwn(f,"minRank")&&c.setNode(d,{borderLeft:f.borderLeft[s],borderRight:f.borderRight[s]}))}),c}function r(i){for(var s;i.hasNode(s=e.uniqueId("_root")););return s}return eS}var tS,_R;function jZ(){if(_R)return tS;_R=1,tS=t;function t(e,n,r){let i={},s;r.forEach(o=>{let l=e.parent(o),c,d;for(;l;){if(c=e.parent(l),c?(d=i[c],i[c]=l):(d=s,s=l),d&&d!==l){n.setEdge(d,l);return}l=c}})}return tS}var nS,SR;function AZ(){if(SR)return nS;SR=1;let t=kZ(),e=IZ(),n=qZ(),r=RZ(),i=jZ(),s=To().Graph,o=Yr();nS=l;function l(h,b){if(b&&typeof b.customOrder=="function"){b.customOrder(h,l);return}let x=o.maxRank(h),_=c(h,o.range(1,x+1),"inEdges"),N=c(h,o.range(x-1,-1,-1),"outEdges"),I=t(h);if(f(h,I),b&&b.disableOptimalOrderHeuristic)return;let O=Number.POSITIVE_INFINITY,T;for(let q=0,A=0;A<4;++q,++A){d(q%2?_:N,q%4>=2),I=o.buildLayerMatrix(h);let D=e(h,I);D<O&&(A=0,T=Object.assign({},I),O=D)}f(h,T)}function c(h,b,x){return b.map(function(_){return r(h,_,x)})}function d(h,b){let x=new s;h.forEach(function(_){let N=_.graph().root,I=n(_,N,x,b);I.vs.forEach((O,T)=>_.node(O).order=T),i(_,x,I.vs)})}function f(h,b){Object.values(b).forEach(x=>x.forEach((_,N)=>h.node(_).order=N))}return nS}var rS,ER;function PZ(){if(ER)return rS;ER=1;let t=To().Graph,e=Yr();rS={positionX:x,findType1Conflicts:n,findType2Conflicts:r,addConflict:s,hasConflict:o,verticalAlignment:l,horizontalCompaction:c,alignCoordinates:h,findSmallestWidthAlignment:f,balance:b};function n(I,O){let T={};function q(A,D){let L=0,z=0,P=A.length,R=D[D.length-1];return D.forEach((B,F)=>{let W=i(I,B),U=W?I.node(W).order:P;(W||B===R)&&(D.slice(z,F+1).forEach($=>{I.predecessors($).forEach(ee=>{let J=I.node(ee),le=J.order;(le<L||U<le)&&!(J.dummy&&I.node($).dummy)&&s(T,ee,$)})}),z=F+1,L=U)}),D}return O.length&&O.reduce(q),T}function r(I,O){let T={};function q(D,L,z,P,R){let B;e.range(L,z).forEach(F=>{B=D[F],I.node(B).dummy&&I.predecessors(B).forEach(W=>{let U=I.node(W);U.dummy&&(U.order<P||U.order>R)&&s(T,W,B)})})}function A(D,L){let z=-1,P,R=0;return L.forEach((B,F)=>{if(I.node(B).dummy==="border"){let W=I.predecessors(B);W.length&&(P=I.node(W[0]).order,q(L,R,F,z,P),R=F,z=P)}q(L,R,L.length,P,D.length)}),L}return O.length&&O.reduce(A),T}function i(I,O){if(I.node(O).dummy)return I.predecessors(O).find(T=>I.node(T).dummy)}function s(I,O,T){if(O>T){let A=O;O=T,T=A}let q=I[O];q||(I[O]=q={}),q[T]=!0}function o(I,O,T){if(O>T){let q=O;O=T,T=q}return!!I[O]&&Object.hasOwn(I[O],T)}function l(I,O,T,q){let A={},D={},L={};return O.forEach(z=>{z.forEach((P,R)=>{A[P]=P,D[P]=P,L[P]=R})}),O.forEach(z=>{let P=-1;z.forEach(R=>{let B=q(R);if(B.length){B=B.sort((W,U)=>L[W]-L[U]);let F=(B.length-1)/2;for(let W=Math.floor(F),U=Math.ceil(F);W<=U;++W){let $=B[W];D[R]===R&&P<L[$]&&!o(T,R,$)&&(D[$]=R,D[R]=A[R]=A[$],P=L[$])}}})}),{root:A,align:D}}function c(I,O,T,q,A){let D={},L=d(I,O,T,A),z=A?"borderLeft":"borderRight";function P(F,W){let U=L.nodes(),$=U.pop(),ee={};for(;$;)ee[$]?F($):(ee[$]=!0,U.push($),U=U.concat(W($))),$=U.pop()}function R(F){D[F]=L.inEdges(F).reduce((W,U)=>Math.max(W,D[U.v]+L.edge(U)),0)}function B(F){let W=L.outEdges(F).reduce(($,ee)=>Math.min($,D[ee.w]-L.edge(ee)),Number.POSITIVE_INFINITY),U=I.node(F);W!==Number.POSITIVE_INFINITY&&U.borderType!==z&&(D[F]=Math.max(D[F],W))}return P(R,L.predecessors.bind(L)),P(B,L.successors.bind(L)),Object.keys(q).forEach(F=>D[F]=D[T[F]]),D}function d(I,O,T,q){let A=new t,D=I.graph(),L=_(D.nodesep,D.edgesep,q);return O.forEach(z=>{let P;z.forEach(R=>{let B=T[R];if(A.setNode(B),P){var F=T[P],W=A.edge(F,B);A.setEdge(F,B,Math.max(L(I,R,P),W||0))}P=R})}),A}function f(I,O){return Object.values(O).reduce((T,q)=>{let A=Number.NEGATIVE_INFINITY,D=Number.POSITIVE_INFINITY;Object.entries(q).forEach(([z,P])=>{let R=N(I,z)/2;A=Math.max(P+R,A),D=Math.min(P-R,D)});const L=A-D;return L<T[0]&&(T=[L,q]),T},[Number.POSITIVE_INFINITY,null])[1]}function h(I,O){let T=Object.values(O),q=e.applyWithChunking(Math.min,T),A=e.applyWithChunking(Math.max,T);["u","d"].forEach(D=>{["l","r"].forEach(L=>{let z=D+L,P=I[z];if(P===O)return;let R=Object.values(P),B=q-e.applyWithChunking(Math.min,R);L!=="l"&&(B=A-e.applyWithChunking(Math.max,R)),B&&(I[z]=e.mapValues(P,F=>F+B))})})}function b(I,O){return e.mapValues(I.ul,(T,q)=>{if(O)return I[O.toLowerCase()][q];{let A=Object.values(I).map(D=>D[q]).sort((D,L)=>D-L);return(A[1]+A[2])/2}})}function x(I){let O=e.buildLayerMatrix(I),T=Object.assign(n(I,O),r(I,O)),q={},A;["u","d"].forEach(L=>{A=L==="u"?O:Object.values(O).reverse(),["l","r"].forEach(z=>{z==="r"&&(A=A.map(F=>Object.values(F).reverse()));let P=(L==="u"?I.predecessors:I.successors).bind(I),R=l(I,A,T,P),B=c(I,A,R.root,R.align,z==="r");z==="r"&&(B=e.mapValues(B,F=>-F)),q[L+z]=B})});let D=f(I,q);return h(q,D),b(q,I.graph().align)}function _(I,O,T){return(q,A,D)=>{let L=q.node(A),z=q.node(D),P=0,R;if(P+=L.width/2,Object.hasOwn(L,"labelpos"))switch(L.labelpos.toLowerCase()){case"l":R=-L.width/2;break;case"r":R=L.width/2;break}if(R&&(P+=T?R:-R),R=0,P+=(L.dummy?O:I)/2,P+=(z.dummy?O:I)/2,P+=z.width/2,Object.hasOwn(z,"labelpos"))switch(z.labelpos.toLowerCase()){case"l":R=z.width/2;break;case"r":R=-z.width/2;break}return R&&(P+=T?R:-R),R=0,P}}function N(I,O){return I.node(O).width}return rS}var iS,NR;function FZ(){if(NR)return iS;NR=1;let t=Yr(),e=PZ().positionX;iS=n;function n(i){i=t.asNonCompoundGraph(i),r(i),Object.entries(e(i)).forEach(([s,o])=>i.node(s).x=o)}function r(i){let s=t.buildLayerMatrix(i),o=i.graph().ranksep,l=0;s.forEach(c=>{const d=c.reduce((f,h)=>{const b=i.node(h).height;return f>b?f:b},0);c.forEach(f=>i.node(f).y=l+d/2),l+=d+o})}return iS}var sS,kR;function DZ(){if(kR)return sS;kR=1;let t=vZ(),e=bZ(),n=wZ(),r=Yr().normalizeRanks,i=_Z(),s=Yr().removeEmptyRanks,o=SZ(),l=EZ(),c=NZ(),d=AZ(),f=FZ(),h=Yr(),b=To().Graph;sS=x;function x(de,ye){let we=ye&&ye.debugTiming?h.time:h.notime;we("layout",()=>{let Ne=we("  buildLayoutGraph",()=>P(de));we("  runLayout",()=>_(Ne,we,ye)),we("  updateInputGraph",()=>N(de,Ne))})}function _(de,ye,we){ye("    makeSpaceForEdgeLabels",()=>R(de)),ye("    removeSelfEdges",()=>se(de)),ye("    acyclic",()=>t.run(de)),ye("    nestingGraph.run",()=>o.run(de)),ye("    rank",()=>n(h.asNonCompoundGraph(de))),ye("    injectEdgeLabelProxies",()=>B(de)),ye("    removeEmptyRanks",()=>s(de)),ye("    nestingGraph.cleanup",()=>o.cleanup(de)),ye("    normalizeRanks",()=>r(de)),ye("    assignRankMinMax",()=>F(de)),ye("    removeEdgeLabelProxies",()=>W(de)),ye("    normalize.run",()=>e.run(de)),ye("    parentDummyChains",()=>i(de)),ye("    addBorderSegments",()=>l(de)),ye("    order",()=>d(de,we)),ye("    insertSelfEdges",()=>te(de)),ye("    adjustCoordinateSystem",()=>c.adjust(de)),ye("    position",()=>f(de)),ye("    positionSelfEdges",()=>oe(de)),ye("    removeBorderNodes",()=>le(de)),ye("    normalize.undo",()=>e.undo(de)),ye("    fixupEdgeLabelCoords",()=>ee(de)),ye("    undoCoordinateSystem",()=>c.undo(de)),ye("    translateGraph",()=>U(de)),ye("    assignNodeIntersects",()=>$(de)),ye("    reversePoints",()=>J(de)),ye("    acyclic.undo",()=>t.undo(de))}function N(de,ye){de.nodes().forEach(we=>{let Ne=de.node(we),ze=ye.node(we);Ne&&(Ne.x=ze.x,Ne.y=ze.y,Ne.rank=ze.rank,ye.children(we).length&&(Ne.width=ze.width,Ne.height=ze.height))}),de.edges().forEach(we=>{let Ne=de.edge(we),ze=ye.edge(we);Ne.points=ze.points,Object.hasOwn(ze,"x")&&(Ne.x=ze.x,Ne.y=ze.y)}),de.graph().width=ye.graph().width,de.graph().height=ye.graph().height}let I=["nodesep","edgesep","ranksep","marginx","marginy"],O={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},T=["acyclicer","ranker","rankdir","align"],q=["width","height"],A={width:0,height:0},D=["minlen","weight","width","height","labeloffset"],L={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},z=["labelpos"];function P(de){let ye=new b({multigraph:!0,compound:!0}),we=ce(de.graph());return ye.setGraph(Object.assign({},O,X(we,I),h.pick(we,T))),de.nodes().forEach(Ne=>{let ze=ce(de.node(Ne));const qe=X(ze,q);Object.keys(A).forEach(De=>{qe[De]===void 0&&(qe[De]=A[De])}),ye.setNode(Ne,qe),ye.setParent(Ne,de.parent(Ne))}),de.edges().forEach(Ne=>{let ze=ce(de.edge(Ne));ye.setEdge(Ne,Object.assign({},L,X(ze,D),h.pick(ze,z)))}),ye}function R(de){let ye=de.graph();ye.ranksep/=2,de.edges().forEach(we=>{let Ne=de.edge(we);Ne.minlen*=2,Ne.labelpos.toLowerCase()!=="c"&&(ye.rankdir==="TB"||ye.rankdir==="BT"?Ne.width+=Ne.labeloffset:Ne.height+=Ne.labeloffset)})}function B(de){de.edges().forEach(ye=>{let we=de.edge(ye);if(we.width&&we.height){let Ne=de.node(ye.v),qe={rank:(de.node(ye.w).rank-Ne.rank)/2+Ne.rank,e:ye};h.addDummyNode(de,"edge-proxy",qe,"_ep")}})}function F(de){let ye=0;de.nodes().forEach(we=>{let Ne=de.node(we);Ne.borderTop&&(Ne.minRank=de.node(Ne.borderTop).rank,Ne.maxRank=de.node(Ne.borderBottom).rank,ye=Math.max(ye,Ne.maxRank))}),de.graph().maxRank=ye}function W(de){de.nodes().forEach(ye=>{let we=de.node(ye);we.dummy==="edge-proxy"&&(de.edge(we.e).labelRank=we.rank,de.removeNode(ye))})}function U(de){let ye=Number.POSITIVE_INFINITY,we=0,Ne=Number.POSITIVE_INFINITY,ze=0,qe=de.graph(),De=qe.marginx||0,Ze=qe.marginy||0;function Xe(Ue){let ut=Ue.x,_t=Ue.y,Tt=Ue.width,Wt=Ue.height;ye=Math.min(ye,ut-Tt/2),we=Math.max(we,ut+Tt/2),Ne=Math.min(Ne,_t-Wt/2),ze=Math.max(ze,_t+Wt/2)}de.nodes().forEach(Ue=>Xe(de.node(Ue))),de.edges().forEach(Ue=>{let ut=de.edge(Ue);Object.hasOwn(ut,"x")&&Xe(ut)}),ye-=De,Ne-=Ze,de.nodes().forEach(Ue=>{let ut=de.node(Ue);ut.x-=ye,ut.y-=Ne}),de.edges().forEach(Ue=>{let ut=de.edge(Ue);ut.points.forEach(_t=>{_t.x-=ye,_t.y-=Ne}),Object.hasOwn(ut,"x")&&(ut.x-=ye),Object.hasOwn(ut,"y")&&(ut.y-=Ne)}),qe.width=we-ye+De,qe.height=ze-Ne+Ze}function $(de){de.edges().forEach(ye=>{let we=de.edge(ye),Ne=de.node(ye.v),ze=de.node(ye.w),qe,De;we.points?(qe=we.points[0],De=we.points[we.points.length-1]):(we.points=[],qe=ze,De=Ne),we.points.unshift(h.intersectRect(Ne,qe)),we.points.push(h.intersectRect(ze,De))})}function ee(de){de.edges().forEach(ye=>{let we=de.edge(ye);if(Object.hasOwn(we,"x"))switch((we.labelpos==="l"||we.labelpos==="r")&&(we.width-=we.labeloffset),we.labelpos){case"l":we.x-=we.width/2+we.labeloffset;break;case"r":we.x+=we.width/2+we.labeloffset;break}})}function J(de){de.edges().forEach(ye=>{let we=de.edge(ye);we.reversed&&we.points.reverse()})}function le(de){de.nodes().forEach(ye=>{if(de.children(ye).length){let we=de.node(ye),Ne=de.node(we.borderTop),ze=de.node(we.borderBottom),qe=de.node(we.borderLeft[we.borderLeft.length-1]),De=de.node(we.borderRight[we.borderRight.length-1]);we.width=Math.abs(De.x-qe.x),we.height=Math.abs(ze.y-Ne.y),we.x=qe.x+we.width/2,we.y=Ne.y+we.height/2}}),de.nodes().forEach(ye=>{de.node(ye).dummy==="border"&&de.removeNode(ye)})}function se(de){de.edges().forEach(ye=>{if(ye.v===ye.w){var we=de.node(ye.v);we.selfEdges||(we.selfEdges=[]),we.selfEdges.push({e:ye,label:de.edge(ye)}),de.removeEdge(ye)}})}function te(de){var ye=h.buildLayerMatrix(de);ye.forEach(we=>{var Ne=0;we.forEach((ze,qe)=>{var De=de.node(ze);De.order=qe+Ne,(De.selfEdges||[]).forEach(Ze=>{h.addDummyNode(de,"selfedge",{width:Ze.label.width,height:Ze.label.height,rank:De.rank,order:qe+ ++Ne,e:Ze.e,label:Ze.label},"_se")}),delete De.selfEdges})})}function oe(de){de.nodes().forEach(ye=>{var we=de.node(ye);if(we.dummy==="selfedge"){var Ne=de.node(we.e.v),ze=Ne.x+Ne.width/2,qe=Ne.y,De=we.x-ze,Ze=Ne.height/2;de.setEdge(we.e,we.label),de.removeNode(ye),we.label.points=[{x:ze+2*De/3,y:qe-Ze},{x:ze+5*De/6,y:qe-Ze},{x:ze+De,y:qe},{x:ze+5*De/6,y:qe+Ze},{x:ze+2*De/3,y:qe+Ze}],we.label.x=we.x,we.label.y=we.y}})}function X(de,ye){return h.mapValues(h.pick(de,ye),Number)}function ce(de){var ye={};return de&&Object.entries(de).forEach(([we,Ne])=>{typeof we=="string"&&(we=we.toLowerCase()),ye[we]=Ne}),ye}return sS}var oS,IR;function LZ(){if(IR)return oS;IR=1;let t=Yr(),e=To().Graph;oS={debugOrdering:n};function n(r){let i=t.buildLayerMatrix(r),s=new e({compound:!0,multigraph:!0}).setGraph({});return r.nodes().forEach(o=>{s.setNode(o,{label:o}),s.setParent(o,"layer"+r.node(o).rank)}),r.edges().forEach(o=>s.setEdge(o.v,o.w,{},o.name)),i.forEach((o,l)=>{let c="layer"+l;s.setNode(c,{rank:"same"}),o.reduce((d,f)=>(s.setEdge(d,f,{style:"invis"}),f))}),s}return oS}var aS,CR;function MZ(){return CR||(CR=1,aS="1.1.4"),aS}var lS,TR;function $Z(){return TR||(TR=1,lS={graphlib:To(),layout:DZ(),debug:LZ(),util:{time:Yr().time,notime:Yr().notime},version:MZ()}),lS}var BZ=$Z();const lN=ro(BZ);function Xr(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=Xr(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var zZ={value:()=>{}};function Mb(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ey(n)}function Ey(t){this._=t}function WZ(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ey.prototype=Mb.prototype={constructor:Ey,on:function(t,e){var n=this._,r=WZ(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=UZ(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=OR(n[i],t.name,e);else if(e==null)for(i in n)n[i]=OR(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ey(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function UZ(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function OR(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=zZ,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var OE="http://www.w3.org/1999/xhtml";const qR={svg:"http://www.w3.org/2000/svg",xhtml:OE,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function $b(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),qR.hasOwnProperty(e)?{space:qR[e],local:t}:t}function VZ(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===OE&&e.documentElement.namespaceURI===OE?e.createElement(t):e.createElementNS(n,t)}}function HZ(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function MD(t){var e=$b(t);return(e.local?HZ:VZ)(e)}function QZ(){}function uN(t){return t==null?QZ:function(){return this.querySelector(t)}}function KZ(t){typeof t!="function"&&(t=uN(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=new Array(o),c,d,f=0;f<o;++f)(c=s[f])&&(d=t.call(c,c.__data__,f,s))&&("__data__"in c&&(d.__data__=c.__data__),l[f]=d);return new As(r,this._parents)}function GZ(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function ZZ(){return[]}function $D(t){return t==null?ZZ:function(){return this.querySelectorAll(t)}}function JZ(t){return function(){return GZ(t.apply(this,arguments))}}function YZ(t){typeof t=="function"?t=JZ(t):t=$D(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],l=o.length,c,d=0;d<l;++d)(c=o[d])&&(r.push(t.call(c,c.__data__,d,o)),i.push(c));return new As(r,i)}function BD(t){return function(){return this.matches(t)}}function zD(t){return function(e){return e.matches(t)}}var XZ=Array.prototype.find;function eJ(t){return function(){return XZ.call(this.children,t)}}function tJ(){return this.firstElementChild}function nJ(t){return this.select(t==null?tJ:eJ(typeof t=="function"?t:zD(t)))}var rJ=Array.prototype.filter;function iJ(){return Array.from(this.children)}function sJ(t){return function(){return rJ.call(this.children,t)}}function oJ(t){return this.selectAll(t==null?iJ:sJ(typeof t=="function"?t:zD(t)))}function aJ(t){typeof t!="function"&&(t=BD(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=[],c,d=0;d<o;++d)(c=s[d])&&t.call(c,c.__data__,d,s)&&l.push(c);return new As(r,this._parents)}function WD(t){return new Array(t.length)}function lJ(){return new As(this._enter||this._groups.map(WD),this._parents)}function Pv(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Pv.prototype={constructor:Pv,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function uJ(t){return function(){return t}}function cJ(t,e,n,r,i,s){for(var o=0,l,c=e.length,d=s.length;o<d;++o)(l=e[o])?(l.__data__=s[o],r[o]=l):n[o]=new Pv(t,s[o]);for(;o<c;++o)(l=e[o])&&(i[o]=l)}function dJ(t,e,n,r,i,s,o){var l,c,d=new Map,f=e.length,h=s.length,b=new Array(f),x;for(l=0;l<f;++l)(c=e[l])&&(b[l]=x=o.call(c,c.__data__,l,e)+"",d.has(x)?i[l]=c:d.set(x,c));for(l=0;l<h;++l)x=o.call(t,s[l],l,s)+"",(c=d.get(x))?(r[l]=c,c.__data__=s[l],d.delete(x)):n[l]=new Pv(t,s[l]);for(l=0;l<f;++l)(c=e[l])&&d.get(b[l])===c&&(i[l]=c)}function fJ(t){return t.__data__}function pJ(t,e){if(!arguments.length)return Array.from(this,fJ);var n=e?dJ:cJ,r=this._parents,i=this._groups;typeof t!="function"&&(t=uJ(t));for(var s=i.length,o=new Array(s),l=new Array(s),c=new Array(s),d=0;d<s;++d){var f=r[d],h=i[d],b=h.length,x=hJ(t.call(f,f&&f.__data__,d,r)),_=x.length,N=l[d]=new Array(_),I=o[d]=new Array(_),O=c[d]=new Array(b);n(f,h,N,I,O,x,e);for(var T=0,q=0,A,D;T<_;++T)if(A=N[T]){for(T>=q&&(q=T+1);!(D=I[q])&&++q<_;);A._next=D||null}}return o=new As(o,r),o._enter=l,o._exit=c,o}function hJ(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function mJ(){return new As(this._exit||this._groups.map(WD),this._parents)}function gJ(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function yJ(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),l=new Array(i),c=0;c<o;++c)for(var d=n[c],f=r[c],h=d.length,b=l[c]=new Array(h),x,_=0;_<h;++_)(x=d[_]||f[_])&&(b[_]=x);for(;c<i;++c)l[c]=n[c];return new As(l,this._parents)}function vJ(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function bJ(t){t||(t=xJ);function e(h,b){return h&&b?t(h.__data__,b.__data__):!h-!b}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],l=o.length,c=i[s]=new Array(l),d,f=0;f<l;++f)(d=o[f])&&(c[f]=d);c.sort(e)}return new As(i,this._parents).order()}function xJ(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function wJ(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function _J(){return Array.from(this)}function SJ(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function EJ(){let t=0;for(const e of this)++t;return t}function NJ(){return!this.node()}function kJ(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,l;s<o;++s)(l=i[s])&&t.call(l,l.__data__,s,i);return this}function IJ(t){return function(){this.removeAttribute(t)}}function CJ(t){return function(){this.removeAttributeNS(t.space,t.local)}}function TJ(t,e){return function(){this.setAttribute(t,e)}}function OJ(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function qJ(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function RJ(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function jJ(t,e){var n=$b(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?CJ:IJ:typeof e=="function"?n.local?RJ:qJ:n.local?OJ:TJ)(n,e))}function UD(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function AJ(t){return function(){this.style.removeProperty(t)}}function PJ(t,e,n){return function(){this.style.setProperty(t,e,n)}}function FJ(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function DJ(t,e,n){return arguments.length>1?this.each((e==null?AJ:typeof e=="function"?FJ:PJ)(t,e,n??"")):zd(this.node(),t)}function zd(t,e){return t.style.getPropertyValue(e)||UD(t).getComputedStyle(t,null).getPropertyValue(e)}function LJ(t){return function(){delete this[t]}}function MJ(t,e){return function(){this[t]=e}}function $J(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function BJ(t,e){return arguments.length>1?this.each((e==null?LJ:typeof e=="function"?$J:MJ)(t,e)):this.node()[t]}function VD(t){return t.trim().split(/^|\s+/)}function cN(t){return t.classList||new HD(t)}function HD(t){this._node=t,this._names=VD(t.getAttribute("class")||"")}HD.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function QD(t,e){for(var n=cN(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function KD(t,e){for(var n=cN(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function zJ(t){return function(){QD(this,t)}}function WJ(t){return function(){KD(this,t)}}function UJ(t,e){return function(){(e.apply(this,arguments)?QD:KD)(this,t)}}function VJ(t,e){var n=VD(t+"");if(arguments.length<2){for(var r=cN(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?UJ:e?zJ:WJ)(n,e))}function HJ(){this.textContent=""}function QJ(t){return function(){this.textContent=t}}function KJ(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function GJ(t){return arguments.length?this.each(t==null?HJ:(typeof t=="function"?KJ:QJ)(t)):this.node().textContent}function ZJ(){this.innerHTML=""}function JJ(t){return function(){this.innerHTML=t}}function YJ(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function XJ(t){return arguments.length?this.each(t==null?ZJ:(typeof t=="function"?YJ:JJ)(t)):this.node().innerHTML}function eY(){this.nextSibling&&this.parentNode.appendChild(this)}function tY(){return this.each(eY)}function nY(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function rY(){return this.each(nY)}function iY(t){var e=typeof t=="function"?t:MD(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function sY(){return null}function oY(t,e){var n=typeof t=="function"?t:MD(t),r=e==null?sY:typeof e=="function"?e:uN(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function aY(){var t=this.parentNode;t&&t.removeChild(this)}function lY(){return this.each(aY)}function uY(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function cY(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function dY(t){return this.select(t?cY:uY)}function fY(t){return arguments.length?this.property("__data__",t):this.node().__data__}function pY(t){return function(e){t.call(this,e,this.__data__)}}function hY(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function mY(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function gY(t,e,n){return function(){var r=this.__on,i,s=pY(e);if(r){for(var o=0,l=r.length;o<l;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function yY(t,e,n){var r=hY(t+""),i,s=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var c=0,d=l.length,f;c<d;++c)for(i=0,f=l[c];i<s;++i)if((o=r[i]).type===f.type&&o.name===f.name)return f.value}return}for(l=e?gY:mY,i=0;i<s;++i)this.each(l(r[i],e,n));return this}function GD(t,e,n){var r=UD(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function vY(t,e){return function(){return GD(this,t,e)}}function bY(t,e){return function(){return GD(this,t,e.apply(this,arguments))}}function xY(t,e){return this.each((typeof e=="function"?bY:vY)(t,e))}function*wY(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var ZD=[null];function As(t,e){this._groups=t,this._parents=e}function um(){return new As([[document.documentElement]],ZD)}function _Y(){return this}As.prototype=um.prototype={constructor:As,select:KZ,selectAll:YZ,selectChild:nJ,selectChildren:oJ,filter:aJ,data:pJ,enter:lJ,exit:mJ,join:gJ,merge:yJ,selection:_Y,order:vJ,sort:bJ,call:wJ,nodes:_J,node:SJ,size:EJ,empty:NJ,each:kJ,attr:jJ,style:DJ,property:BJ,classed:VJ,text:GJ,html:XJ,raise:tY,lower:rY,append:iY,insert:oY,remove:lY,clone:dY,datum:fY,on:yY,dispatch:xY,[Symbol.iterator]:wY};function Ts(t){return typeof t=="string"?new As([[document.querySelector(t)]],[document.documentElement]):new As([[t]],ZD)}function SY(t){let e;for(;e=t.sourceEvent;)t=e;return t}function yo(t,e){if(t=SY(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const EY={passive:!1},Th={capture:!0,passive:!1};function uS(t){t.stopImmediatePropagation()}function Td(t){t.preventDefault(),t.stopImmediatePropagation()}function JD(t){var e=t.document.documentElement,n=Ts(t).on("dragstart.drag",Td,Th);"onselectstart"in e?n.on("selectstart.drag",Td,Th):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function YD(t,e){var n=t.document.documentElement,r=Ts(t).on("dragstart.drag",null);e&&(r.on("click.drag",Td,Th),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Wg=t=>()=>t;function qE(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:s,x:o,y:l,dx:c,dy:d,dispatch:f}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:f}})}qE.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function NY(t){return!t.ctrlKey&&!t.button}function kY(){return this.parentNode}function IY(t,e){return e??{x:t.x,y:t.y}}function CY(){return navigator.maxTouchPoints||"ontouchstart"in this}function XD(){var t=NY,e=kY,n=IY,r=CY,i={},s=Mb("start","drag","end"),o=0,l,c,d,f,h=0;function b(A){A.on("mousedown.drag",x).filter(r).on("touchstart.drag",I).on("touchmove.drag",O,EY).on("touchend.drag touchcancel.drag",T).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(A,D){if(!(f||!t.call(this,A,D))){var L=q(this,e.call(this,A,D),A,D,"mouse");L&&(Ts(A.view).on("mousemove.drag",_,Th).on("mouseup.drag",N,Th),JD(A.view),uS(A),d=!1,l=A.clientX,c=A.clientY,L("start",A))}}function _(A){if(Td(A),!d){var D=A.clientX-l,L=A.clientY-c;d=D*D+L*L>h}i.mouse("drag",A)}function N(A){Ts(A.view).on("mousemove.drag mouseup.drag",null),YD(A.view,d),Td(A),i.mouse("end",A)}function I(A,D){if(t.call(this,A,D)){var L=A.changedTouches,z=e.call(this,A,D),P=L.length,R,B;for(R=0;R<P;++R)(B=q(this,z,A,D,L[R].identifier,L[R]))&&(uS(A),B("start",A,L[R]))}}function O(A){var D=A.changedTouches,L=D.length,z,P;for(z=0;z<L;++z)(P=i[D[z].identifier])&&(Td(A),P("drag",A,D[z]))}function T(A){var D=A.changedTouches,L=D.length,z,P;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),z=0;z<L;++z)(P=i[D[z].identifier])&&(uS(A),P("end",A,D[z]))}function q(A,D,L,z,P,R){var B=s.copy(),F=yo(R||L,D),W,U,$;if(($=n.call(A,new qE("beforestart",{sourceEvent:L,target:b,identifier:P,active:o,x:F[0],y:F[1],dx:0,dy:0,dispatch:B}),z))!=null)return W=$.x-F[0]||0,U=$.y-F[1]||0,function ee(J,le,se){var te=F,oe;switch(J){case"start":i[P]=ee,oe=o++;break;case"end":delete i[P],--o;case"drag":F=yo(se||le,D),oe=o;break}B.call(J,A,new qE(J,{sourceEvent:le,subject:$,target:b,identifier:P,active:oe,x:F[0]+W,y:F[1]+U,dx:F[0]-te[0],dy:F[1]-te[1],dispatch:B}),z)}}return b.filter=function(A){return arguments.length?(t=typeof A=="function"?A:Wg(!!A),b):t},b.container=function(A){return arguments.length?(e=typeof A=="function"?A:Wg(A),b):e},b.subject=function(A){return arguments.length?(n=typeof A=="function"?A:Wg(A),b):n},b.touchable=function(A){return arguments.length?(r=typeof A=="function"?A:Wg(!!A),b):r},b.on=function(){var A=s.on.apply(s,arguments);return A===s?b:A},b.clickDistance=function(A){return arguments.length?(h=(A=+A)*A,b):Math.sqrt(h)},b}function dN(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function e2(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function cm(){}var Oh=.7,Fv=1/Oh,Od="\\s*([+-]?\\d+)\\s*",qh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Go="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",TY=/^#([0-9a-f]{3,8})$/,OY=new RegExp(`^rgb\\(${Od},${Od},${Od}\\)$`),qY=new RegExp(`^rgb\\(${Go},${Go},${Go}\\)$`),RY=new RegExp(`^rgba\\(${Od},${Od},${Od},${qh}\\)$`),jY=new RegExp(`^rgba\\(${Go},${Go},${Go},${qh}\\)$`),AY=new RegExp(`^hsl\\(${qh},${Go},${Go}\\)$`),PY=new RegExp(`^hsla\\(${qh},${Go},${Go},${qh}\\)$`),RR={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32};dN(cm,Rh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:jR,formatHex:jR,formatHex8:FY,formatHsl:DY,formatRgb:AR,toString:AR});function jR(){return this.rgb().formatHex()}function FY(){return this.rgb().formatHex8()}function DY(){return t2(this).formatHsl()}function AR(){return this.rgb().formatRgb()}function Rh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=TY.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?PR(e):n===3?new ls(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ug(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ug(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=OY.exec(t))?new ls(e[1],e[2],e[3],1):(e=qY.exec(t))?new ls(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=RY.exec(t))?Ug(e[1],e[2],e[3],e[4]):(e=jY.exec(t))?Ug(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=AY.exec(t))?LR(e[1],e[2]/100,e[3]/100,1):(e=PY.exec(t))?LR(e[1],e[2]/100,e[3]/100,e[4]):RR.hasOwnProperty(t)?PR(RR[t]):t==="transparent"?new ls(NaN,NaN,NaN,0):null}function PR(t){return new ls(t>>16&255,t>>8&255,t&255,1)}function Ug(t,e,n,r){return r<=0&&(t=e=n=NaN),new ls(t,e,n,r)}function LY(t){return t instanceof cm||(t=Rh(t)),t?(t=t.rgb(),new ls(t.r,t.g,t.b,t.opacity)):new ls}function RE(t,e,n,r){return arguments.length===1?LY(t):new ls(t,e,n,r??1)}function ls(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}dN(ls,RE,e2(cm,{brighter(t){return t=t==null?Fv:Math.pow(Fv,t),new ls(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Oh:Math.pow(Oh,t),new ls(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ls(zu(this.r),zu(this.g),zu(this.b),Dv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:FR,formatHex:FR,formatHex8:MY,formatRgb:DR,toString:DR}));function FR(){return`#${Du(this.r)}${Du(this.g)}${Du(this.b)}`}function MY(){return`#${Du(this.r)}${Du(this.g)}${Du(this.b)}${Du((isNaN(this.opacity)?1:this.opacity)*255)}`}function DR(){const t=Dv(this.opacity);return`${t===1?"rgb(":"rgba("}${zu(this.r)}, ${zu(this.g)}, ${zu(this.b)}${t===1?")":`, ${t})`}`}function Dv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function zu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Du(t){return t=zu(t),(t<16?"0":"")+t.toString(16)}function LR(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new xo(t,e,n,r)}function t2(t){if(t instanceof xo)return new xo(t.h,t.s,t.l,t.opacity);if(t instanceof cm||(t=Rh(t)),!t)return new xo;if(t instanceof xo)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,l=s-i,c=(s+i)/2;return l?(e===s?o=(n-r)/l+(n<r)*6:n===s?o=(r-e)/l+2:o=(e-n)/l+4,l/=c<.5?s+i:2-s-i,o*=60):l=c>0&&c<1?0:o,new xo(o,l,c,t.opacity)}function $Y(t,e,n,r){return arguments.length===1?t2(t):new xo(t,e,n,r??1)}function xo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}dN(xo,$Y,e2(cm,{brighter(t){return t=t==null?Fv:Math.pow(Fv,t),new xo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Oh:Math.pow(Oh,t),new xo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ls(cS(t>=240?t-240:t+120,i,r),cS(t,i,r),cS(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new xo(MR(this.h),Vg(this.s),Vg(this.l),Dv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Dv(this.opacity);return`${t===1?"hsl(":"hsla("}${MR(this.h)}, ${Vg(this.s)*100}%, ${Vg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function MR(t){return t=(t||0)%360,t<0?t+360:t}function Vg(t){return Math.max(0,Math.min(1,t||0))}function cS(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const n2=t=>()=>t;function BY(t,e){return function(n){return t+n*e}}function zY(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function WY(t){return(t=+t)==1?r2:function(e,n){return n-e?zY(e,n,t):n2(isNaN(e)?n:e)}}function r2(t,e){var n=e-t;return n?BY(t,n):n2(isNaN(t)?e:t)}const $R=function t(e){var n=WY(e);function r(i,s){var o=n((i=RE(i)).r,(s=RE(s)).r),l=n(i.g,s.g),c=n(i.b,s.b),d=r2(i.opacity,s.opacity);return function(f){return i.r=o(f),i.g=l(f),i.b=c(f),i.opacity=d(f),i+""}}return r.gamma=t,r}(1);function wl(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var jE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dS=new RegExp(jE.source,"g");function UY(t){return function(){return t}}function VY(t){return function(e){return t(e)+""}}function HY(t,e){var n=jE.lastIndex=dS.lastIndex=0,r,i,s,o=-1,l=[],c=[];for(t=t+"",e=e+"";(r=jE.exec(t))&&(i=dS.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[o]?l[o]+=s:l[++o]=s),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:wl(r,i)})),n=dS.lastIndex;return n<e.length&&(s=e.slice(n),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?VY(c[0].x):UY(e):(e=c.length,function(d){for(var f=0,h;f<e;++f)l[(h=c[f]).i]=h.x(d);return l.join("")})}var BR=180/Math.PI,AE={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function i2(t,e,n,r,i,s){var o,l,c;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,c/=l),t*r<e*n&&(t=-t,e=-e,c=-c,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*BR,skewX:Math.atan(c)*BR,scaleX:o,scaleY:l}}var Hg;function QY(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?AE:i2(e.a,e.b,e.c,e.d,e.e,e.f)}function KY(t){return t==null||(Hg||(Hg=document.createElementNS("http://www.w3.org/2000/svg","g")),Hg.setAttribute("transform",t),!(t=Hg.transform.baseVal.consolidate()))?AE:(t=t.matrix,i2(t.a,t.b,t.c,t.d,t.e,t.f))}function s2(t,e,n,r){function i(d){return d.length?d.pop()+" ":""}function s(d,f,h,b,x,_){if(d!==h||f!==b){var N=x.push("translate(",null,e,null,n);_.push({i:N-4,x:wl(d,h)},{i:N-2,x:wl(f,b)})}else(h||b)&&x.push("translate("+h+e+b+n)}function o(d,f,h,b){d!==f?(d-f>180?f+=360:f-d>180&&(d+=360),b.push({i:h.push(i(h)+"rotate(",null,r)-2,x:wl(d,f)})):f&&h.push(i(h)+"rotate("+f+r)}function l(d,f,h,b){d!==f?b.push({i:h.push(i(h)+"skewX(",null,r)-2,x:wl(d,f)}):f&&h.push(i(h)+"skewX("+f+r)}function c(d,f,h,b,x,_){if(d!==h||f!==b){var N=x.push(i(x)+"scale(",null,",",null,")");_.push({i:N-4,x:wl(d,h)},{i:N-2,x:wl(f,b)})}else(h!==1||b!==1)&&x.push(i(x)+"scale("+h+","+b+")")}return function(d,f){var h=[],b=[];return d=t(d),f=t(f),s(d.translateX,d.translateY,f.translateX,f.translateY,h,b),o(d.rotate,f.rotate,h,b),l(d.skewX,f.skewX,h,b),c(d.scaleX,d.scaleY,f.scaleX,f.scaleY,h,b),d=f=null,function(x){for(var _=-1,N=b.length,I;++_<N;)h[(I=b[_]).i]=I.x(x);return h.join("")}}}var GY=s2(QY,"px, ","px)","deg)"),ZY=s2(KY,", ",")",")"),JY=1e-12;function zR(t){return((t=Math.exp(t))+1/t)/2}function YY(t){return((t=Math.exp(t))-1/t)/2}function XY(t){return((t=Math.exp(2*t))-1)/(t+1)}const eX=function t(e,n,r){function i(s,o){var l=s[0],c=s[1],d=s[2],f=o[0],h=o[1],b=o[2],x=f-l,_=h-c,N=x*x+_*_,I,O;if(N<JY)O=Math.log(b/d)/e,I=function(z){return[l+z*x,c+z*_,d*Math.exp(e*z*O)]};else{var T=Math.sqrt(N),q=(b*b-d*d+r*N)/(2*d*n*T),A=(b*b-d*d-r*N)/(2*b*n*T),D=Math.log(Math.sqrt(q*q+1)-q),L=Math.log(Math.sqrt(A*A+1)-A);O=(L-D)/e,I=function(z){var P=z*O,R=zR(D),B=d/(n*T)*(R*XY(e*P+D)-YY(D));return[l+B*x,c+B*_,d*R/zR(e*P+D)]}}return I.duration=O*1e3*e/Math.SQRT2,I}return i.rho=function(s){var o=Math.max(.001,+s),l=o*o,c=l*l;return t(o,l,c)},i}(Math.SQRT2,2,4);var Wd=0,Ep=0,dp=0,o2=1e3,Lv,Np,Mv=0,tc=0,Bb=0,jh=typeof performance=="object"&&performance.now?performance:Date,a2=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function fN(){return tc||(a2(tX),tc=jh.now()+Bb)}function tX(){tc=0}function $v(){this._call=this._time=this._next=null}$v.prototype=l2.prototype={constructor:$v,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?fN():+n)+(e==null?0:+e),!this._next&&Np!==this&&(Np?Np._next=this:Lv=this,Np=this),this._call=t,this._time=n,PE()},stop:function(){this._call&&(this._call=null,this._time=1/0,PE())}};function l2(t,e,n){var r=new $v;return r.restart(t,e,n),r}function nX(){fN(),++Wd;for(var t=Lv,e;t;)(e=tc-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Wd}function WR(){tc=(Mv=jh.now())+Bb,Wd=Ep=0;try{nX()}finally{Wd=0,iX(),tc=0}}function rX(){var t=jh.now(),e=t-Mv;e>o2&&(Bb-=e,Mv=t)}function iX(){for(var t,e=Lv,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Lv=n);Np=t,PE(r)}function PE(t){if(!Wd){Ep&&(Ep=clearTimeout(Ep));var e=t-tc;e>24?(t<1/0&&(Ep=setTimeout(WR,t-jh.now()-Bb)),dp&&(dp=clearInterval(dp))):(dp||(Mv=jh.now(),dp=setInterval(rX,o2)),Wd=1,a2(WR))}}function UR(t,e,n){var r=new $v;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var sX=Mb("start","end","cancel","interrupt"),oX=[],u2=0,VR=1,FE=2,Ny=3,HR=4,DE=5,ky=6;function zb(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;aX(t,n,{name:e,index:r,group:i,on:sX,tween:oX,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:u2})}function pN(t,e){var n=jo(t,e);if(n.state>u2)throw new Error("too late; already scheduled");return n}function ia(t,e){var n=jo(t,e);if(n.state>Ny)throw new Error("too late; already running");return n}function jo(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function aX(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=l2(s,0,n.time);function s(d){n.state=VR,n.timer.restart(o,n.delay,n.time),n.delay<=d&&o(d-n.delay)}function o(d){var f,h,b,x;if(n.state!==VR)return c();for(f in r)if(x=r[f],x.name===n.name){if(x.state===Ny)return UR(o);x.state===HR?(x.state=ky,x.timer.stop(),x.on.call("interrupt",t,t.__data__,x.index,x.group),delete r[f]):+f<e&&(x.state=ky,x.timer.stop(),x.on.call("cancel",t,t.__data__,x.index,x.group),delete r[f])}if(UR(function(){n.state===Ny&&(n.state=HR,n.timer.restart(l,n.delay,n.time),l(d))}),n.state=FE,n.on.call("start",t,t.__data__,n.index,n.group),n.state===FE){for(n.state=Ny,i=new Array(b=n.tween.length),f=0,h=-1;f<b;++f)(x=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=x);i.length=h+1}}function l(d){for(var f=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(c),n.state=DE,1),h=-1,b=i.length;++h<b;)i[h].call(t,f);n.state===DE&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){n.state=ky,n.timer.stop(),delete r[e];for(var d in r)return;delete t.__transition}}function Iy(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>FE&&r.state<DE,r.state=ky,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function lX(t){return this.each(function(){Iy(this,t)})}function uX(t,e){var n,r;return function(){var i=ia(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,l=r.length;o<l;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function cX(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=ia(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var l={name:e,value:n},c=0,d=i.length;c<d;++c)if(i[c].name===e){i[c]=l;break}c===d&&i.push(l)}s.tween=i}}function dX(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=jo(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?uX:cX)(n,t,e))}function hN(t,e,n){var r=t._id;return t.each(function(){var i=ia(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return jo(i,r).value[e]}}function c2(t,e){var n;return(typeof e=="number"?wl:e instanceof Rh?$R:(n=Rh(e))?(e=n,$R):HY)(t,e)}function fX(t){return function(){this.removeAttribute(t)}}function pX(t){return function(){this.removeAttributeNS(t.space,t.local)}}function hX(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function mX(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function gX(t,e,n){var r,i,s;return function(){var o,l=n(this),c;return l==null?void this.removeAttribute(t):(o=this.getAttribute(t),c=l+"",o===c?null:o===r&&c===i?s:(i=c,s=e(r=o,l)))}}function yX(t,e,n){var r,i,s;return function(){var o,l=n(this),c;return l==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),c=l+"",o===c?null:o===r&&c===i?s:(i=c,s=e(r=o,l)))}}function vX(t,e){var n=$b(t),r=n==="transform"?ZY:c2;return this.attrTween(t,typeof e=="function"?(n.local?yX:gX)(n,r,hN(this,"attr."+t,e)):e==null?(n.local?pX:fX)(n):(n.local?mX:hX)(n,r,e))}function bX(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function xX(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function wX(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&xX(t,s)),n}return i._value=e,i}function _X(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&bX(t,s)),n}return i._value=e,i}function SX(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=$b(t);return this.tween(n,(r.local?wX:_X)(r,e))}function EX(t,e){return function(){pN(this,t).delay=+e.apply(this,arguments)}}function NX(t,e){return e=+e,function(){pN(this,t).delay=e}}function kX(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?EX:NX)(e,t)):jo(this.node(),e).delay}function IX(t,e){return function(){ia(this,t).duration=+e.apply(this,arguments)}}function CX(t,e){return e=+e,function(){ia(this,t).duration=e}}function TX(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?IX:CX)(e,t)):jo(this.node(),e).duration}function OX(t,e){if(typeof e!="function")throw new Error;return function(){ia(this,t).ease=e}}function qX(t){var e=this._id;return arguments.length?this.each(OX(e,t)):jo(this.node(),e).ease}function RX(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;ia(this,t).ease=n}}function jX(t){if(typeof t!="function")throw new Error;return this.each(RX(this._id,t))}function AX(t){typeof t!="function"&&(t=BD(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=[],c,d=0;d<o;++d)(c=s[d])&&t.call(c,c.__data__,d,s)&&l.push(c);return new $a(r,this._parents,this._name,this._id)}function PX(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),l=0;l<s;++l)for(var c=e[l],d=n[l],f=c.length,h=o[l]=new Array(f),b,x=0;x<f;++x)(b=c[x]||d[x])&&(h[x]=b);for(;l<r;++l)o[l]=e[l];return new $a(o,this._parents,this._name,this._id)}function FX(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function DX(t,e,n){var r,i,s=FX(e)?pN:ia;return function(){var o=s(this,t),l=o.on;l!==r&&(i=(r=l).copy()).on(e,n),o.on=i}}function LX(t,e){var n=this._id;return arguments.length<2?jo(this.node(),n).on.on(t):this.each(DX(n,t,e))}function MX(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function $X(){return this.on("end.remove",MX(this._id))}function BX(t){var e=this._name,n=this._id;typeof t!="function"&&(t=uN(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var l=r[o],c=l.length,d=s[o]=new Array(c),f,h,b=0;b<c;++b)(f=l[b])&&(h=t.call(f,f.__data__,b,l))&&("__data__"in f&&(h.__data__=f.__data__),d[b]=h,zb(d[b],e,n,b,d,jo(f,n)));return new $a(s,this._parents,e,n)}function zX(t){var e=this._name,n=this._id;typeof t!="function"&&(t=$D(t));for(var r=this._groups,i=r.length,s=[],o=[],l=0;l<i;++l)for(var c=r[l],d=c.length,f,h=0;h<d;++h)if(f=c[h]){for(var b=t.call(f,f.__data__,h,c),x,_=jo(f,n),N=0,I=b.length;N<I;++N)(x=b[N])&&zb(x,e,n,N,b,_);s.push(b),o.push(f)}return new $a(s,o,e,n)}var WX=um.prototype.constructor;function UX(){return new WX(this._groups,this._parents)}function VX(t,e){var n,r,i;return function(){var s=zd(this,t),o=(this.style.removeProperty(t),zd(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function d2(t){return function(){this.style.removeProperty(t)}}function HX(t,e,n){var r,i=n+"",s;return function(){var o=zd(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function QX(t,e,n){var r,i,s;return function(){var o=zd(this,t),l=n(this),c=l+"";return l==null&&(c=l=(this.style.removeProperty(t),zd(this,t))),o===c?null:o===r&&c===i?s:(i=c,s=e(r=o,l))}}function KX(t,e){var n,r,i,s="style."+e,o="end."+s,l;return function(){var c=ia(this,t),d=c.on,f=c.value[s]==null?l||(l=d2(e)):void 0;(d!==n||i!==f)&&(r=(n=d).copy()).on(o,i=f),c.on=r}}function GX(t,e,n){var r=(t+="")=="transform"?GY:c2;return e==null?this.styleTween(t,VX(t,r)).on("end.style."+t,d2(t)):typeof e=="function"?this.styleTween(t,QX(t,r,hN(this,"style."+t,e))).each(KX(this._id,t)):this.styleTween(t,HX(t,r,e),n).on("end.style."+t,null)}function ZX(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function JX(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&ZX(t,o,n)),r}return s._value=e,s}function YX(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,JX(t,e,n??""))}function XX(t){return function(){this.textContent=t}}function eee(t){return function(){var e=t(this);this.textContent=e??""}}function tee(t){return this.tween("text",typeof t=="function"?eee(hN(this,"text",t)):XX(t==null?"":t+""))}function nee(t){return function(e){this.textContent=t.call(this,e)}}function ree(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&nee(i)),e}return r._value=t,r}function iee(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,ree(t))}function see(){for(var t=this._name,e=this._id,n=f2(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],l=o.length,c,d=0;d<l;++d)if(c=o[d]){var f=jo(c,e);zb(c,t,n,d,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new $a(r,this._parents,t,n)}function oee(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var l={value:o},c={value:function(){--i===0&&s()}};n.each(function(){var d=ia(this,r),f=d.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(c)),d.on=e}),i===0&&s()})}var aee=0;function $a(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function f2(){return++aee}var _a=um.prototype;$a.prototype={constructor:$a,select:BX,selectAll:zX,selectChild:_a.selectChild,selectChildren:_a.selectChildren,filter:AX,merge:PX,selection:UX,transition:see,call:_a.call,nodes:_a.nodes,node:_a.node,size:_a.size,empty:_a.empty,each:_a.each,on:LX,attr:vX,attrTween:SX,style:GX,styleTween:YX,text:tee,textTween:iee,remove:$X,tween:dX,delay:kX,duration:TX,ease:qX,easeVarying:jX,end:oee,[Symbol.iterator]:_a[Symbol.iterator]};function lee(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var uee={time:null,delay:0,duration:250,ease:lee};function cee(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function dee(t){var e,n;t instanceof $a?(e=t._id,t=t._name):(e=f2(),(n=uee).time=fN(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],l=o.length,c,d=0;d<l;++d)(c=o[d])&&zb(c,t,e,d,o,n||cee(c,e));return new $a(r,this._parents,t,e)}um.prototype.interrupt=lX;um.prototype.transition=dee;const Qg=t=>()=>t;function fee(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Oa(t,e,n){this.k=t,this.x=e,this.y=n}Oa.prototype={constructor:Oa,scale:function(t){return t===1?this:new Oa(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Oa(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Wb=new Oa(1,0,0);p2.prototype=Oa.prototype;function p2(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Wb;return t.__zoom}function fS(t){t.stopImmediatePropagation()}function fp(t){t.preventDefault(),t.stopImmediatePropagation()}function pee(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function hee(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function QR(){return this.__zoom||Wb}function mee(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function gee(){return navigator.maxTouchPoints||"ontouchstart"in this}function yee(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function h2(){var t=pee,e=hee,n=yee,r=mee,i=gee,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,c=eX,d=Mb("start","zoom","end"),f,h,b,x=500,_=150,N=0,I=10;function O($){$.property("__zoom",QR).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",R).on("dblclick.zoom",B).filter(i).on("touchstart.zoom",F).on("touchmove.zoom",W).on("touchend.zoom touchcancel.zoom",U).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}O.transform=function($,ee,J,le){var se=$.selection?$.selection():$;se.property("__zoom",QR),$!==se?D($,ee,J,le):se.interrupt().each(function(){L(this,arguments).event(le).start().zoom(null,typeof ee=="function"?ee.apply(this,arguments):ee).end()})},O.scaleBy=function($,ee,J,le){O.scaleTo($,function(){var se=this.__zoom.k,te=typeof ee=="function"?ee.apply(this,arguments):ee;return se*te},J,le)},O.scaleTo=function($,ee,J,le){O.transform($,function(){var se=e.apply(this,arguments),te=this.__zoom,oe=J==null?A(se):typeof J=="function"?J.apply(this,arguments):J,X=te.invert(oe),ce=typeof ee=="function"?ee.apply(this,arguments):ee;return n(q(T(te,ce),oe,X),se,o)},J,le)},O.translateBy=function($,ee,J,le){O.transform($,function(){return n(this.__zoom.translate(typeof ee=="function"?ee.apply(this,arguments):ee,typeof J=="function"?J.apply(this,arguments):J),e.apply(this,arguments),o)},null,le)},O.translateTo=function($,ee,J,le,se){O.transform($,function(){var te=e.apply(this,arguments),oe=this.__zoom,X=le==null?A(te):typeof le=="function"?le.apply(this,arguments):le;return n(Wb.translate(X[0],X[1]).scale(oe.k).translate(typeof ee=="function"?-ee.apply(this,arguments):-ee,typeof J=="function"?-J.apply(this,arguments):-J),te,o)},le,se)};function T($,ee){return ee=Math.max(s[0],Math.min(s[1],ee)),ee===$.k?$:new Oa(ee,$.x,$.y)}function q($,ee,J){var le=ee[0]-J[0]*$.k,se=ee[1]-J[1]*$.k;return le===$.x&&se===$.y?$:new Oa($.k,le,se)}function A($){return[(+$[0][0]+ +$[1][0])/2,(+$[0][1]+ +$[1][1])/2]}function D($,ee,J,le){$.on("start.zoom",function(){L(this,arguments).event(le).start()}).on("interrupt.zoom end.zoom",function(){L(this,arguments).event(le).end()}).tween("zoom",function(){var se=this,te=arguments,oe=L(se,te).event(le),X=e.apply(se,te),ce=J==null?A(X):typeof J=="function"?J.apply(se,te):J,de=Math.max(X[1][0]-X[0][0],X[1][1]-X[0][1]),ye=se.__zoom,we=typeof ee=="function"?ee.apply(se,te):ee,Ne=c(ye.invert(ce).concat(de/ye.k),we.invert(ce).concat(de/we.k));return function(ze){if(ze===1)ze=we;else{var qe=Ne(ze),De=de/qe[2];ze=new Oa(De,ce[0]-qe[0]*De,ce[1]-qe[1]*De)}oe.zoom(null,ze)}})}function L($,ee,J){return!J&&$.__zooming||new z($,ee)}function z($,ee){this.that=$,this.args=ee,this.active=0,this.sourceEvent=null,this.extent=e.apply($,ee),this.taps=0}z.prototype={event:function($){return $&&(this.sourceEvent=$),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function($,ee){return this.mouse&&$!=="mouse"&&(this.mouse[1]=ee.invert(this.mouse[0])),this.touch0&&$!=="touch"&&(this.touch0[1]=ee.invert(this.touch0[0])),this.touch1&&$!=="touch"&&(this.touch1[1]=ee.invert(this.touch1[0])),this.that.__zoom=ee,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function($){var ee=Ts(this.that).datum();d.call($,this.that,new fee($,{sourceEvent:this.sourceEvent,target:O,type:$,transform:this.that.__zoom,dispatch:d}),ee)}};function P($,...ee){if(!t.apply(this,arguments))return;var J=L(this,ee).event($),le=this.__zoom,se=Math.max(s[0],Math.min(s[1],le.k*Math.pow(2,r.apply(this,arguments)))),te=yo($);if(J.wheel)(J.mouse[0][0]!==te[0]||J.mouse[0][1]!==te[1])&&(J.mouse[1]=le.invert(J.mouse[0]=te)),clearTimeout(J.wheel);else{if(le.k===se)return;J.mouse=[te,le.invert(te)],Iy(this),J.start()}fp($),J.wheel=setTimeout(oe,_),J.zoom("mouse",n(q(T(le,se),J.mouse[0],J.mouse[1]),J.extent,o));function oe(){J.wheel=null,J.end()}}function R($,...ee){if(b||!t.apply(this,arguments))return;var J=$.currentTarget,le=L(this,ee,!0).event($),se=Ts($.view).on("mousemove.zoom",ce,!0).on("mouseup.zoom",de,!0),te=yo($,J),oe=$.clientX,X=$.clientY;JD($.view),fS($),le.mouse=[te,this.__zoom.invert(te)],Iy(this),le.start();function ce(ye){if(fp(ye),!le.moved){var we=ye.clientX-oe,Ne=ye.clientY-X;le.moved=we*we+Ne*Ne>N}le.event(ye).zoom("mouse",n(q(le.that.__zoom,le.mouse[0]=yo(ye,J),le.mouse[1]),le.extent,o))}function de(ye){se.on("mousemove.zoom mouseup.zoom",null),YD(ye.view,le.moved),fp(ye),le.event(ye).end()}}function B($,...ee){if(t.apply(this,arguments)){var J=this.__zoom,le=yo($.changedTouches?$.changedTouches[0]:$,this),se=J.invert(le),te=J.k*($.shiftKey?.5:2),oe=n(q(T(J,te),le,se),e.apply(this,ee),o);fp($),l>0?Ts(this).transition().duration(l).call(D,oe,le,$):Ts(this).call(O.transform,oe,le,$)}}function F($,...ee){if(t.apply(this,arguments)){var J=$.touches,le=J.length,se=L(this,ee,$.changedTouches.length===le).event($),te,oe,X,ce;for(fS($),oe=0;oe<le;++oe)X=J[oe],ce=yo(X,this),ce=[ce,this.__zoom.invert(ce),X.identifier],se.touch0?!se.touch1&&se.touch0[2]!==ce[2]&&(se.touch1=ce,se.taps=0):(se.touch0=ce,te=!0,se.taps=1+!!f);f&&(f=clearTimeout(f)),te&&(se.taps<2&&(h=ce[0],f=setTimeout(function(){f=null},x)),Iy(this),se.start())}}function W($,...ee){if(this.__zooming){var J=L(this,ee).event($),le=$.changedTouches,se=le.length,te,oe,X,ce;for(fp($),te=0;te<se;++te)oe=le[te],X=yo(oe,this),J.touch0&&J.touch0[2]===oe.identifier?J.touch0[0]=X:J.touch1&&J.touch1[2]===oe.identifier&&(J.touch1[0]=X);if(oe=J.that.__zoom,J.touch1){var de=J.touch0[0],ye=J.touch0[1],we=J.touch1[0],Ne=J.touch1[1],ze=(ze=we[0]-de[0])*ze+(ze=we[1]-de[1])*ze,qe=(qe=Ne[0]-ye[0])*qe+(qe=Ne[1]-ye[1])*qe;oe=T(oe,Math.sqrt(ze/qe)),X=[(de[0]+we[0])/2,(de[1]+we[1])/2],ce=[(ye[0]+Ne[0])/2,(ye[1]+Ne[1])/2]}else if(J.touch0)X=J.touch0[0],ce=J.touch0[1];else return;J.zoom("touch",n(q(oe,X,ce),J.extent,o))}}function U($,...ee){if(this.__zooming){var J=L(this,ee).event($),le=$.changedTouches,se=le.length,te,oe;for(fS($),b&&clearTimeout(b),b=setTimeout(function(){b=null},x),te=0;te<se;++te)oe=le[te],J.touch0&&J.touch0[2]===oe.identifier?delete J.touch0:J.touch1&&J.touch1[2]===oe.identifier&&delete J.touch1;if(J.touch1&&!J.touch0&&(J.touch0=J.touch1,delete J.touch1),J.touch0)J.touch0[1]=this.__zoom.invert(J.touch0[0]);else if(J.end(),J.taps===2&&(oe=yo(oe,this),Math.hypot(h[0]-oe[0],h[1]-oe[1])<I)){var X=Ts(this).on("dblclick.zoom");X&&X.apply(this,arguments)}}}return O.wheelDelta=function($){return arguments.length?(r=typeof $=="function"?$:Qg(+$),O):r},O.filter=function($){return arguments.length?(t=typeof $=="function"?$:Qg(!!$),O):t},O.touchable=function($){return arguments.length?(i=typeof $=="function"?$:Qg(!!$),O):i},O.extent=function($){return arguments.length?(e=typeof $=="function"?$:Qg([[+$[0][0],+$[0][1]],[+$[1][0],+$[1][1]]]),O):e},O.scaleExtent=function($){return arguments.length?(s[0]=+$[0],s[1]=+$[1],O):[s[0],s[1]]},O.translateExtent=function($){return arguments.length?(o[0][0]=+$[0][0],o[1][0]=+$[1][0],o[0][1]=+$[0][1],o[1][1]=+$[1][1],O):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},O.constrain=function($){return arguments.length?(n=$,O):n},O.duration=function($){return arguments.length?(l=+$,O):l},O.interpolate=function($){return arguments.length?(c=$,O):c},O.on=function(){var $=d.on.apply(d,arguments);return $===d?O:$},O.clickDistance=function($){return arguments.length?(N=($=+$)*$,O):Math.sqrt(N)},O.tapDistance=function($){return arguments.length?(I=+$,O):I},O}const za={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID."},Ah=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],m2=["Enter"," ","Escape"];var Ud;(function(t){t.Strict="strict",t.Loose="loose"})(Ud||(Ud={}));var Wu;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Wu||(Wu={}));var Ph;(function(t){t.Partial="partial",t.Full="full"})(Ph||(Ph={}));const g2={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Cl;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(Cl||(Cl={}));var Bv;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(Bv||(Bv={}));var Lt;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Lt||(Lt={}));const KR={[Lt.Left]:Lt.Right,[Lt.Right]:Lt.Left,[Lt.Top]:Lt.Bottom,[Lt.Bottom]:Lt.Top};function y2(t){return t===null?null:t?"valid":"invalid"}const v2=t=>"id"in t&&"source"in t&&"target"in t,vee=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),mN=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),dm=(t,e=[0,0])=>{const{width:n,height:r}=Wa(t),i=t.origin??e,s=n*i[0],o=r*i[1];return{x:t.position.x-s,y:t.position.y-o}},bee=(t,e={nodeOrigin:[0,0],nodeLookup:void 0})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,i)=>{const s=typeof i=="string";let o=!e.nodeLookup&&!s?i:void 0;e.nodeLookup&&(o=s?e.nodeLookup.get(i):mN(i)?i:e.nodeLookup.get(i.id));const l=o?zv(o,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return Ub(r,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Vb(n)},fm=(t,e={})=>{if(t.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return t.forEach(r=>{if(e.filter===void 0||e.filter(r)){const i=zv(r);n=Ub(n,i)}}),Vb(n)},b2=(t,e,[n,r,i]=[0,0,1],s=!1,o=!1)=>{const l={...pm(e,[n,r,i]),width:e.width/i,height:e.height/i},c=[];for(const d of t.values()){const{measured:f,selectable:h=!0,hidden:b=!1}=d;if(o&&!h||b)continue;const x=f.width??d.width??d.initialWidth??null,_=f.height??d.height??d.initialHeight??null,N=Fh(l,Hd(d)),I=(x??0)*(_??0),O=s&&N>0;(!d.internals.handleBounds||O||N>=I||d.dragging)&&c.push(d)}return c},xee=(t,e)=>{const n=new Set;return t.forEach(r=>{n.add(r.id)}),e.filter(r=>n.has(r.source)||n.has(r.target))};function LE(t,e){const n=new Map,r=e?.nodes?new Set(e.nodes.map(i=>i.id)):null;return t.forEach(i=>{i.measured.width&&i.measured.height&&(e?.includeHiddenNodes||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function ME({nodes:t,width:e,height:n,panZoom:r,minZoom:i,maxZoom:s},o){if(t.size===0)return Promise.resolve(!1);const l=fm(t),c=gN(l,e,n,o?.minZoom??i,o?.maxZoom??s,o?.padding??.1);return await r.setViewport(c,{duration:o?.duration}),Promise.resolve(!0)}function x2({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:s}){const o=n.get(t),l=o.parentId?n.get(o.parentId):void 0,{x:c,y:d}=l?l.internals.positionAbsolute:{x:0,y:0},f=o.origin??r;let h=i;if(o.extent==="parent"&&!o.expandParent)if(!l)s?.("005",za.error005());else{const x=l.measured.width,_=l.measured.height;x&&_&&(h=[[c,d],[c+x,d+_]])}else l&&Qd(o.extent)&&(h=[[o.extent[0][0]+c,o.extent[0][1]+d],[o.extent[1][0]+c,o.extent[1][1]+d]]);const b=Qd(h)?nc(e,h,o.measured):e;return{position:{x:b.x-c+o.measured.width*f[0],y:b.y-d+o.measured.height*f[1]},positionAbsolute:b}}async function wee({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:r,onBeforeDelete:i}){const s=new Set(t.map(b=>b.id)),o=[];for(const b of n){if(b.deletable===!1)continue;const x=s.has(b.id),_=!x&&b.parentId&&o.find(N=>N.id===b.parentId);(x||_)&&o.push(b)}const l=new Set(e.map(b=>b.id)),c=r.filter(b=>b.deletable!==!1),f=xee(o,c);for(const b of c)l.has(b.id)&&!f.find(_=>_.id===b.id)&&f.push(b);if(!i)return{edges:f,nodes:o};const h=await i({nodes:o,edges:f});return typeof h=="boolean"?h?{edges:f,nodes:o}:{edges:[],nodes:[]}:h}const Vd=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),nc=(t={x:0,y:0},e,n)=>({x:Vd(t.x,e[0][0],e[1][0]-(n?.width??0)),y:Vd(t.y,e[0][1],e[1][1]-(n?.height??0))});function w2(t,e,n){const{width:r,height:i}=Wa(n),{x:s,y:o}=n.internals.positionAbsolute;return nc(t,[[s,o],[s+r,o+i]],e)}const GR=(t,e,n)=>t<e?Vd(Math.abs(t-e),1,e)/e:t>n?-Vd(Math.abs(t-n),1,e)/e:0,_2=(t,e,n=15,r=40)=>{const i=GR(t.x,r,e.width-r)*n,s=GR(t.y,r,e.height-r)*n;return[i,s]},Ub=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),$E=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),Vb=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),Hd=(t,e=[0,0])=>{const{x:n,y:r}=mN(t)?t.internals.positionAbsolute:dm(t,e);return{x:n,y:r,width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}},zv=(t,e=[0,0])=>{const{x:n,y:r}=mN(t)?t.internals.positionAbsolute:dm(t,e);return{x:n,y:r,x2:n+(t.measured?.width??t.width??t.initialWidth??0),y2:r+(t.measured?.height??t.height??t.initialHeight??0)}},S2=(t,e)=>Vb(Ub($E(t),$E(e))),Fh=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},ZR=t=>Eo(t.width)&&Eo(t.height)&&Eo(t.x)&&Eo(t.y),Eo=t=>!isNaN(t)&&isFinite(t),_ee=(t,e)=>{},Hb=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),pm=({x:t,y:e},[n,r,i],s=!1,o=[1,1])=>{const l={x:(t-n)/i,y:(e-r)/i};return s?Hb(l,o):l},E2=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r}),gN=(t,e,n,r,i,s)=>{const o=e/(t.width*(1+s)),l=n/(t.height*(1+s)),c=Math.min(o,l),d=Vd(c,r,i),f=t.x+t.width/2,h=t.y+t.height/2,b=e/2-f*d,x=n/2-h*d;return{x:b,y:x,zoom:d}},Wv=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function Qd(t){return t!==void 0&&t!=="parent"}function Wa(t){return{width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}}function N2(t){return(t.measured?.width??t.width??t.initialWidth)!==void 0&&(t.measured?.height??t.height??t.initialHeight)!==void 0}function k2(t,e={width:0,height:0},n,r,i){const s={...t},o=r.get(n);if(o){const l=o.origin||i;s.x+=o.internals.positionAbsolute.x-(e.width??0)*l[0],s.y+=o.internals.positionAbsolute.y-(e.height??0)*l[1]}return s}function JR(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function Qp(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:s,y:o}=ja(t),l=pm({x:s-(i?.left??0),y:o-(i?.top??0)},r),{x:c,y:d}=n?Hb(l,e):l;return{xSnapped:c,ySnapped:d,...l}}const Qb=t=>({width:t.offsetWidth,height:t.offsetHeight}),I2=t=>t?.getRootNode?.()||window?.document,See=["INPUT","SELECT","TEXTAREA"];function BE(t){const e=t.composedPath?.()?.[0]||t.target;return e?.nodeType!==1?!1:See.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const C2=t=>"clientX"in t,ja=(t,e)=>{const n=C2(t),r=n?t.clientX:t.touches?.[0].clientX,i=n?t.clientY:t.touches?.[0].clientY;return{x:r-(e?.left??0),y:i-(e?.top??0)}},YR=(t,e,n,r,i)=>{const s=e.querySelectorAll(`.${t}`);return!s||!s.length?null:Array.from(s).map(o=>{const l=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:t,nodeId:i,position:o.getAttribute("data-handlepos"),x:(l.left-n.left)/r,y:(l.top-n.top)/r,...Qb(o)}})};function T2({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:l}){const c=t*.125+i*.375+o*.375+n*.125,d=e*.125+s*.375+l*.375+r*.125,f=Math.abs(c-t),h=Math.abs(d-e);return[c,d,f,h]}function Kg(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function XR({pos:t,x1:e,y1:n,x2:r,y2:i,c:s}){switch(t){case Lt.Left:return[e-Kg(e-r,s),n];case Lt.Right:return[e+Kg(r-e,s),n];case Lt.Top:return[e,n-Kg(n-i,s)];case Lt.Bottom:return[e,n+Kg(i-n,s)]}}function yN({sourceX:t,sourceY:e,sourcePosition:n=Lt.Bottom,targetX:r,targetY:i,targetPosition:s=Lt.Top,curvature:o=.25}){const[l,c]=XR({pos:n,x1:t,y1:e,x2:r,y2:i,c:o}),[d,f]=XR({pos:s,x1:r,y1:i,x2:t,y2:e,c:o}),[h,b,x,_]=T2({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:l,sourceControlY:c,targetControlX:d,targetControlY:f});return[`M${t},${e} C${l},${c} ${d},${f} ${r},${i}`,h,b,x,_]}function O2({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,s=n<t?n+i:n-i,o=Math.abs(r-e)/2,l=r<e?r+o:r-o;return[s,l,i,o]}function Eee({sourceNode:t,targetNode:e,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1}){if(!i)return r;const s=n||e.selected||t.selected,o=Math.max(t.internals.z||0,e.internals.z||0,1e3);return r+(s?o:0)}function Nee({sourceNode:t,targetNode:e,width:n,height:r,transform:i}){const s=Ub(zv(t),zv(e));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const o={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return Fh(o,Vb(s))>0}const kee=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`xy-edge__${t}${e||""}-${n}${r||""}`,Iee=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),Cee=(t,e)=>{if(!t.source||!t.target)return e;let n;return v2(t)?n={...t}:n={...t,id:kee(t)},Iee(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function q2({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[i,s,o,l]=O2({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,s,o,l]}const ej={[Lt.Left]:{x:-1,y:0},[Lt.Right]:{x:1,y:0},[Lt.Top]:{x:0,y:-1},[Lt.Bottom]:{x:0,y:1}},Tee=({source:t,sourcePosition:e=Lt.Bottom,target:n})=>e===Lt.Left||e===Lt.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},tj=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function Oee({source:t,sourcePosition:e=Lt.Bottom,target:n,targetPosition:r=Lt.Top,center:i,offset:s}){const o=ej[e],l=ej[r],c={x:t.x+o.x*s,y:t.y+o.y*s},d={x:n.x+l.x*s,y:n.y+l.y*s},f=Tee({source:c,sourcePosition:e,target:d}),h=f.x!==0?"x":"y",b=f[h];let x=[],_,N;const I={x:0,y:0},O={x:0,y:0},[T,q,A,D]=O2({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(o[h]*l[h]===-1){_=i.x??T,N=i.y??q;const z=[{x:_,y:c.y},{x:_,y:d.y}],P=[{x:c.x,y:N},{x:d.x,y:N}];o[h]===b?x=h==="x"?z:P:x=h==="x"?P:z}else{const z=[{x:c.x,y:d.y}],P=[{x:d.x,y:c.y}];if(h==="x"?x=o.x===b?P:z:x=o.y===b?z:P,e===r){const U=Math.abs(t[h]-n[h]);if(U<=s){const $=Math.min(s-1,s-U);o[h]===b?I[h]=(c[h]>t[h]?-1:1)*$:O[h]=(d[h]>n[h]?-1:1)*$}}if(e!==r){const U=h==="x"?"y":"x",$=o[h]===l[U],ee=c[U]>d[U],J=c[U]<d[U];(o[h]===1&&(!$&&ee||$&&J)||o[h]!==1&&(!$&&J||$&&ee))&&(x=h==="x"?z:P)}const R={x:c.x+I.x,y:c.y+I.y},B={x:d.x+O.x,y:d.y+O.y},F=Math.max(Math.abs(R.x-x[0].x),Math.abs(B.x-x[0].x)),W=Math.max(Math.abs(R.y-x[0].y),Math.abs(B.y-x[0].y));F>=W?(_=(R.x+B.x)/2,N=x[0].y):(_=x[0].x,N=(R.y+B.y)/2)}return[[t,{x:c.x+I.x,y:c.y+I.y},...x,{x:d.x+O.x,y:d.y+O.y},n],_,N,A,D]}function qee(t,e,n,r){const i=Math.min(tj(t,e)/2,tj(e,n)/2,r),{x:s,y:o}=e;if(t.x===s&&s===n.x||t.y===o&&o===n.y)return`L${s} ${o}`;if(t.y===o){const d=t.x<n.x?-1:1,f=t.y<n.y?1:-1;return`L ${s+i*d},${o}Q ${s},${o} ${s},${o+i*f}`}const l=t.x<n.x?1:-1,c=t.y<n.y?-1:1;return`L ${s},${o+i*c}Q ${s},${o} ${s+i*l},${o}`}function zE({sourceX:t,sourceY:e,sourcePosition:n=Lt.Bottom,targetX:r,targetY:i,targetPosition:s=Lt.Top,borderRadius:o=5,centerX:l,centerY:c,offset:d=20}){const[f,h,b,x,_]=Oee({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:l,y:c},offset:d});return[f.reduce((I,O,T)=>{let q="";return T>0&&T<f.length-1?q=qee(f[T-1],O,f[T+1],o):q=`${T===0?"M":"L"}${O.x} ${O.y}`,I+=q,I},""),h,b,x,_]}function nj(t){return t&&!!(t.internals.handleBounds||t.handles?.length)&&!!(t.measured.width||t.width||t.initialWidth)}function Ree(t){const{sourceNode:e,targetNode:n}=t;if(!nj(e)||!nj(n))return null;const r=e.internals.handleBounds||rj(e.handles),i=n.internals.handleBounds||rj(n.handles),s=ij(r?.source??[],t.sourceHandle),o=ij(t.connectionMode===Ud.Strict?i?.target??[]:(i?.target??[]).concat(i?.source??[]),t.targetHandle);if(!s||!o)return t.onError?.("008",za.error008(s?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const l=s?.position||Lt.Bottom,c=o?.position||Lt.Top,d=Dh(e,s,l),f=Dh(n,o,c);return{sourceX:d.x,sourceY:d.y,targetX:f.x,targetY:f.y,sourcePosition:l,targetPosition:c}}function rj(t){if(!t)return null;const e=[],n=[];for(const r of t)r.width=r.width??1,r.height=r.height??1,r.type==="source"?e.push(r):r.type==="target"&&n.push(r);return{source:e,target:n}}function Dh(t,e,n=Lt.Left,r=!1){const i=(e?.x??0)+t.internals.positionAbsolute.x,s=(e?.y??0)+t.internals.positionAbsolute.y,{width:o,height:l}=e??Wa(t);if(r)return{x:i+o/2,y:s+l/2};switch(e?.position??n){case Lt.Top:return{x:i+o/2,y:s};case Lt.Right:return{x:i+o,y:s+l/2};case Lt.Bottom:return{x:i+o/2,y:s+l};case Lt.Left:return{x:i,y:s+l/2}}}function ij(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function WE(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`:""}function jee(t,{id:e,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const s=new Set;return t.reduce((o,l)=>([l.markerStart||r,l.markerEnd||i].forEach(c=>{if(c&&typeof c=="object"){const d=WE(c,e);s.has(d)||(o.push({id:d,color:c.color||n,...c}),s.add(d))}}),o),[]).sort((o,l)=>o.id.localeCompare(l.id))}const vN={nodeOrigin:[0,0],nodeExtent:Ah,elevateNodesOnSelect:!0,defaults:{}},Aee={...vN,checkEquality:!0};function bN(t,e){const n={...t};for(const r in e)e[r]!==void 0&&(n[r]=e[r]);return n}function Pee(t,e,n){const r=bN(vN,n);for(const i of t.values())if(i.parentId)xN(i,t,e,r);else{const s=dm(i,r.nodeOrigin),o=Qd(i.extent)?i.extent:r.nodeExtent,l=nc(s,o,Wa(i));i.internals.positionAbsolute=l}}function UE(t,e,n,r){const i=bN(Aee,r),s=new Map(e),o=i?.elevateNodesOnSelect?1e3:0;e.clear(),n.clear();for(const l of t){let c=s.get(l.id);if(i.checkEquality&&l===c?.internals.userNode)e.set(l.id,c);else{const d=dm(l,i.nodeOrigin),f=Qd(l.extent)?l.extent:i.nodeExtent,h=nc(d,f,Wa(l));c={...i.defaults,...l,measured:{width:l.measured?.width,height:l.measured?.height},internals:{positionAbsolute:h,handleBounds:l.measured?c?.internals.handleBounds:void 0,z:R2(l,o),userNode:l}},e.set(l.id,c)}l.parentId&&xN(c,e,n,r)}}function Fee(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function xN(t,e,n,r){const{elevateNodesOnSelect:i,nodeOrigin:s,nodeExtent:o}=bN(vN,r),l=t.parentId,c=e.get(l);if(!c){console.warn(`Parent node ${l} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}Fee(t,n);const d=i?1e3:0,{x:f,y:h,z:b}=Dee(t,c,s,o,d),{positionAbsolute:x}=t.internals,_=f!==x.x||h!==x.y;(_||b!==t.internals.z)&&(t.internals={...t.internals,positionAbsolute:_?{x:f,y:h}:x,z:b})}function R2(t,e){return(Eo(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function Dee(t,e,n,r,i){const{x:s,y:o}=e.internals.positionAbsolute,l=Wa(t),c=dm(t,n),d=Qd(t.extent)?nc(c,t.extent,l):c;let f=nc({x:s+d.x,y:o+d.y},r,l);t.extent==="parent"&&(f=w2(f,l,e));const h=R2(t,i),b=e.internals.z??0;return{x:f.x,y:f.y,z:b>h?b:h}}function wN(t,e,n,r=[0,0]){const i=[],s=new Map;for(const o of t){const l=e.get(o.parentId);if(!l)continue;const c=s.get(o.parentId)?.expandedRect??Hd(l),d=S2(c,o.rect);s.set(o.parentId,{expandedRect:d,parent:l})}return s.size>0&&s.forEach(({expandedRect:o,parent:l},c)=>{const d=l.internals.positionAbsolute,f=Wa(l),h=l.origin??r,b=o.x<d.x?Math.round(Math.abs(d.x-o.x)):0,x=o.y<d.y?Math.round(Math.abs(d.y-o.y)):0,_=Math.max(f.width,Math.round(o.width)),N=Math.max(f.height,Math.round(o.height)),I=(_-f.width)*h[0],O=(N-f.height)*h[1];(b>0||x>0||I||O)&&(i.push({id:c,type:"position",position:{x:l.position.x-b+I,y:l.position.y-x+O}}),n.get(c)?.forEach(T=>{t.some(q=>q.id===T.id)||i.push({id:T.id,type:"position",position:{x:T.position.x+b,y:T.position.y+x}})})),(f.width<o.width||f.height<o.height||b||x)&&i.push({id:c,type:"dimensions",setAttributes:!0,dimensions:{width:_+(b?h[0]*b-I:0),height:N+(x?h[1]*x-O:0)}})}),i}function Lee(t,e,n,r,i,s){const o=r?.querySelector(".xyflow__viewport");let l=!1;if(!o)return{changes:[],updatedInternals:l};const c=[],d=window.getComputedStyle(o),{m22:f}=new window.DOMMatrixReadOnly(d.transform),h=[];for(const b of t.values()){const x=e.get(b.id);if(x)if(x.hidden)x.internals={...x.internals,handleBounds:void 0},l=!0;else{const _=Qb(b.nodeElement),N=x.measured.width!==_.width||x.measured.height!==_.height;if(!!(_.width&&_.height&&(N||!x.internals.handleBounds||b.force))){const O=b.nodeElement.getBoundingClientRect(),T=Qd(x.extent)?x.extent:s;let{positionAbsolute:q}=x.internals;x.parentId&&x.extent==="parent"?q=w2(q,_,e.get(x.parentId)):T&&(q=nc(q,T,_)),x.measured=_,x.internals={...x.internals,positionAbsolute:q,handleBounds:{source:YR("source",b.nodeElement,O,f,x.id),target:YR("target",b.nodeElement,O,f,x.id)}},x.parentId&&xN(x,e,n,{nodeOrigin:i}),l=!0,N&&(c.push({id:x.id,type:"dimensions",dimensions:_}),x.expandParent&&x.parentId&&h.push({id:x.id,parentId:x.parentId,rect:Hd(x,i)}))}}}if(h.length>0){const b=wN(h,e,n,i);c.push(...b)}return{changes:c,updatedInternals:l}}async function Mee({delta:t,panZoom:e,transform:n,translateExtent:r,width:i,height:s}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const o=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[i,s]],r),l=!!o&&(o.x!==n[0]||o.y!==n[1]||o.k!==n[2]);return Promise.resolve(l)}function sj(t,e,n,r,i,s){let o=i;const l=r.get(o)||new Map;r.set(o,l.set(n,e)),o=`${i}-${t}`;const c=r.get(o)||new Map;if(r.set(o,c.set(n,e)),s){o=`${i}-${t}-${s}`;const d=r.get(o)||new Map;r.set(o,d.set(n,e))}}function j2(t,e,n){t.clear(),e.clear();for(const r of n){const{source:i,target:s,sourceHandle:o=null,targetHandle:l=null}=r,c={edgeId:r.id,source:i,target:s,sourceHandle:o,targetHandle:l},d=`${i}-${o}`,f=`${s}-${l}`;sj("source",c,f,t,i,o),sj("target",c,d,t,s,l),e.set(r.id,r)}}function A2(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:A2(n,e):!1}function oj(t,e,n){let r=t;do{if(r?.matches?.(e))return!0;if(r===n)return!1;r=r?.parentElement}while(r);return!1}function $ee(t,e,n,r){const i=new Map;for(const[s,o]of t)if((o.selected||o.id===r)&&(!o.parentId||!A2(o,t))&&(o.draggable||e&&typeof o.draggable>"u")){const l=t.get(s);l&&i.set(s,{id:s,position:l.position||{x:0,y:0},distance:{x:n.x-l.internals.positionAbsolute.x,y:n.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return i}function pS({nodeId:t,dragItems:e,nodeLookup:n,dragging:r=!0}){const i=[];for(const[o,l]of e){const c=n.get(o)?.internals.userNode;c&&i.push({...c,position:l.position,dragging:r})}if(!t)return[i[0],i];const s=n.get(t)?.internals.userNode;return[s?{...s,position:e.get(t)?.position||s.position,dragging:r}:i[0],i]}function Bee({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:r,onDragStop:i}){let s={x:null,y:null},o=0,l=new Map,c=!1,d={x:0,y:0},f=null,h=!1,b=null,x=!1;function _({noDragClassName:I,handleSelector:O,domNode:T,isSelectable:q,nodeId:A,nodeClickDistance:D=0}){b=Ts(T);function L({x:B,y:F},W){const{nodeLookup:U,nodeExtent:$,snapGrid:ee,snapToGrid:J,nodeOrigin:le,onNodeDrag:se,onSelectionDrag:te,onError:oe,updateNodePositions:X}=e();s={x:B,y:F};let ce=!1,de={x:0,y:0,x2:0,y2:0};if(l.size>1&&$){const ye=fm(l);de=$E(ye)}for(const[ye,we]of l){if(!U.has(ye))continue;let Ne={x:B-we.distance.x,y:F-we.distance.y};J&&(Ne=Hb(Ne,ee));let ze=[[$[0][0],$[0][1]],[$[1][0],$[1][1]]];if(l.size>1&&$&&!we.extent){const{positionAbsolute:Ze}=we.internals,Xe=Ze.x-de.x+$[0][0],Ue=Ze.x+we.measured.width-de.x2+$[1][0],ut=Ze.y-de.y+$[0][1],_t=Ze.y+we.measured.height-de.y2+$[1][1];ze=[[Xe,ut],[Ue,_t]]}const{position:qe,positionAbsolute:De}=x2({nodeId:ye,nextPosition:Ne,nodeLookup:U,nodeExtent:ze,nodeOrigin:le,onError:oe});ce=ce||we.position.x!==qe.x||we.position.y!==qe.y,we.position=qe,we.internals.positionAbsolute=De}if(ce&&(X(l,!0),W&&(r||se||!A&&te))){const[ye,we]=pS({nodeId:A,dragItems:l,nodeLookup:U});r?.(W,l,ye,we),se?.(W,ye,we),A||te?.(W,we)}}async function z(){if(!f)return;const{transform:B,panBy:F,autoPanSpeed:W}=e(),[U,$]=_2(d,f,W);(U!==0||$!==0)&&(s.x=(s.x??0)-U/B[2],s.y=(s.y??0)-$/B[2],await F({x:U,y:$})&&L(s,null)),o=requestAnimationFrame(z)}function P(B){const{nodeLookup:F,multiSelectionActive:W,nodesDraggable:U,transform:$,snapGrid:ee,snapToGrid:J,selectNodesOnDrag:le,onNodeDragStart:se,onSelectionDragStart:te,unselectNodesAndEdges:oe}=e();h=!0,(!le||!q)&&!W&&A&&(F.get(A)?.selected||oe()),q&&le&&A&&t?.(A);const X=Qp(B.sourceEvent,{transform:$,snapGrid:ee,snapToGrid:J,containerBounds:f});if(s=X,l=$ee(F,U,X,A),l.size>0&&(n||se||!A&&te)){const[ce,de]=pS({nodeId:A,dragItems:l,nodeLookup:F});n?.(B.sourceEvent,l,ce,de),se?.(B.sourceEvent,ce,de),A||te?.(B.sourceEvent,de)}}const R=XD().clickDistance(D).on("start",B=>{const{domNode:F,nodeDragThreshold:W,transform:U,snapGrid:$,snapToGrid:ee}=e();f=F?.getBoundingClientRect()||null,x=!1,W===0&&P(B),s=Qp(B.sourceEvent,{transform:U,snapGrid:$,snapToGrid:ee,containerBounds:f}),d=ja(B.sourceEvent,f)}).on("drag",B=>{const{autoPanOnNodeDrag:F,transform:W,snapGrid:U,snapToGrid:$,nodeDragThreshold:ee,nodeLookup:J}=e(),le=Qp(B.sourceEvent,{transform:W,snapGrid:U,snapToGrid:$,containerBounds:f});if((B.sourceEvent.type==="touchmove"&&B.sourceEvent.touches.length>1||A&&!J.has(A))&&(x=!0),!x){if(!c&&F&&h&&(c=!0,z()),!h){const se=le.xSnapped-(s.x??0),te=le.ySnapped-(s.y??0);Math.sqrt(se*se+te*te)>ee&&P(B)}(s.x!==le.xSnapped||s.y!==le.ySnapped)&&l&&h&&(d=ja(B.sourceEvent,f),L(le,B.sourceEvent))}}).on("end",B=>{if(!(!h||x)&&(c=!1,h=!1,cancelAnimationFrame(o),l.size>0)){const{nodeLookup:F,updateNodePositions:W,onNodeDragStop:U,onSelectionDragStop:$}=e();if(W(l,!1),i||U||!A&&$){const[ee,J]=pS({nodeId:A,dragItems:l,nodeLookup:F,dragging:!1});i?.(B.sourceEvent,l,ee,J),U?.(B.sourceEvent,ee,J),A||$?.(B.sourceEvent,J)}}}).filter(B=>{const F=B.target;return!B.button&&(!I||!oj(F,`.${I}`,T))&&(!O||oj(F,O,T))});b.call(R)}function N(){b?.on(".drag",null)}return{update:_,destroy:N}}function zee(t,e,n){const r=[],i={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const s of e.values())Fh(i,Hd(s))>0&&r.push(s);return r}const Wee=250;function Uee(t,e,n,r){let i=[],s=1/0;const o=zee(t,n,e+Wee);for(const l of o){const c=[...l.internals.handleBounds?.source??[],...l.internals.handleBounds?.target??[]];for(const d of c){if(r.nodeId===d.nodeId&&r.type===d.type&&r.id===d.id)continue;const{x:f,y:h}=Dh(l,d,d.position,!0),b=Math.sqrt(Math.pow(f-t.x,2)+Math.pow(h-t.y,2));b>e||(b<s?(i=[{...d,x:f,y:h}],s=b):b===s&&i.push({...d,x:f,y:h}))}}if(!i.length)return null;if(i.length>1){const l=r.type==="source"?"target":"source";return i.find(c=>c.type===l)??i[0]}return i[0]}function P2(t,e,n,r,i,s=!1){const o=r.get(t);if(!o)return null;const l=i==="strict"?o.internals.handleBounds?.[e]:[...o.internals.handleBounds?.source??[],...o.internals.handleBounds?.target??[]],c=(n?l?.find(d=>d.id===n):l?.[0])??null;return c&&s?{...c,...Dh(o,c,c.position,!0)}:c}function F2(t,e){return t||(e?.classList.contains("target")?"target":e?.classList.contains("source")?"source":null)}function Vee(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const D2=()=>!0;function Hee(t,{connectionMode:e,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:s,isTarget:o,domNode:l,nodeLookup:c,lib:d,autoPanOnConnect:f,flowId:h,panBy:b,cancelConnection:x,onConnectStart:_,onConnect:N,onConnectEnd:I,isValidConnection:O=D2,onReconnectEnd:T,updateConnection:q,getTransform:A,getFromHandle:D,autoPanSpeed:L}){const z=I2(t.target);let P=0,R;const{x:B,y:F}=ja(t),W=z?.elementFromPoint(B,F),U=F2(s,W),$=l?.getBoundingClientRect();if(!$||!U)return;const ee=P2(i,U,r,c,e);if(!ee)return;let J=ja(t,$),le=!1,se=null,te=!1,oe=null;function X(){if(!f||!$)return;const[De,Ze]=_2(J,$,L);b({x:De,y:Ze}),P=requestAnimationFrame(X)}const ce={...ee,nodeId:i,type:U,position:ee.position},de=c.get(i),we={inProgress:!0,isValid:null,from:Dh(de,ce,Lt.Left,!0),fromHandle:ce,fromPosition:ce.position,fromNode:de,to:J,toHandle:null,toPosition:KR[ce.position],toNode:null};q(we);let Ne=we;_?.(t,{nodeId:i,handleId:r,handleType:U});function ze(De){if(!D()||!ce){qe(De);return}const Ze=A();J=ja(De,$),R=Uee(pm(J,Ze,!1,[1,1]),n,c,ce),le||(X(),le=!0);const Xe=L2(De,{handle:R,connectionMode:e,fromNodeId:i,fromHandleId:r,fromType:o?"target":"source",isValidConnection:O,doc:z,lib:d,flowId:h,nodeLookup:c});oe=Xe.handleDomNode,se=Xe.connection,te=Vee(!!R,Xe.isValid);const Ue={...Ne,isValid:te,to:R&&te?E2({x:R.x,y:R.y},Ze):J,toHandle:Xe.toHandle,toPosition:te&&Xe.toHandle?Xe.toHandle.position:KR[ce.position],toNode:Xe.toHandle?c.get(Xe.toHandle.nodeId):null};te&&R&&Ne.toHandle&&Ue.toHandle&&Ne.toHandle.type===Ue.toHandle.type&&Ne.toHandle.nodeId===Ue.toHandle.nodeId&&Ne.toHandle.id===Ue.toHandle.id&&Ne.to.x===Ue.to.x&&Ne.to.y===Ue.to.y||(q(Ue),Ne=Ue)}function qe(De){(R||oe)&&se&&te&&N?.(se);const{inProgress:Ze,...Xe}=Ne,Ue={...Xe,toPosition:Ne.toHandle?Ne.toPosition:null};I?.(De,Ue),s&&T?.(De,Ue),x(),cancelAnimationFrame(P),le=!1,te=!1,se=null,oe=null,z.removeEventListener("mousemove",ze),z.removeEventListener("mouseup",qe),z.removeEventListener("touchmove",ze),z.removeEventListener("touchend",qe)}z.addEventListener("mousemove",ze),z.addEventListener("mouseup",qe),z.addEventListener("touchmove",ze),z.addEventListener("touchend",qe)}function L2(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:s,doc:o,lib:l,flowId:c,isValidConnection:d=D2,nodeLookup:f}){const h=s==="target",b=e?o.querySelector(`.${l}-flow__handle[data-id="${c}-${e?.nodeId}-${e?.id}-${e?.type}"]`):null,{x,y:_}=ja(t),N=o.elementFromPoint(x,_),I=N?.classList.contains(`${l}-flow__handle`)?N:b,O={handleDomNode:I,isValid:!1,connection:null,toHandle:null};if(I){const T=F2(void 0,I),q=I.getAttribute("data-nodeid"),A=I.getAttribute("data-handleid"),D=I.classList.contains("connectable"),L=I.classList.contains("connectableend");if(!q||!T)return O;const z={source:h?q:r,sourceHandle:h?A:i,target:h?r:q,targetHandle:h?i:A};O.connection=z;const R=D&&L&&(n===Ud.Strict?h&&T==="source"||!h&&T==="target":q!==r||A!==i);O.isValid=R&&d(z),O.toHandle=P2(q,T,A,f,n,!1)}return O}const VE={onPointerDown:Hee,isValid:L2};function Qee({domNode:t,panZoom:e,getTransform:n,getViewScale:r}){const i=Ts(t);function s({translateExtent:l,width:c,height:d,zoomStep:f=10,pannable:h=!0,zoomable:b=!0,inversePan:x=!1}){const _=q=>{const A=n();if(q.sourceEvent.type!=="wheel"||!e)return;const D=-q.sourceEvent.deltaY*(q.sourceEvent.deltaMode===1?.05:q.sourceEvent.deltaMode?1:.002)*f,L=A[2]*Math.pow(2,D);e.scaleTo(L)};let N=[0,0];const I=q=>{(q.sourceEvent.type==="mousedown"||q.sourceEvent.type==="touchstart")&&(N=[q.sourceEvent.clientX??q.sourceEvent.touches[0].clientX,q.sourceEvent.clientY??q.sourceEvent.touches[0].clientY])},O=q=>{const A=n();if(q.sourceEvent.type!=="mousemove"&&q.sourceEvent.type!=="touchmove"||!e)return;const D=[q.sourceEvent.clientX??q.sourceEvent.touches[0].clientX,q.sourceEvent.clientY??q.sourceEvent.touches[0].clientY],L=[D[0]-N[0],D[1]-N[1]];N=D;const z=r()*Math.max(A[2],Math.log(A[2]))*(x?-1:1),P={x:A[0]-L[0]*z,y:A[1]-L[1]*z},R=[[0,0],[c,d]];e.setViewportConstrained({x:P.x,y:P.y,zoom:A[2]},R,l)},T=h2().on("start",I).on("zoom",h?O:null).on("zoom.wheel",b?_:null);i.call(T,{})}function o(){i.on("zoom",null)}return{update:s,destroy:o,pointer:yo}}const Kee=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,Kb=t=>({x:t.x,y:t.y,zoom:t.k}),hS=({x:t,y:e,zoom:n})=>Wb.translate(t,e).scale(n),cd=(t,e)=>t.target.closest(`.${e}`),M2=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),mS=(t,e=0,n=()=>{})=>{const r=typeof e=="number"&&e>0;return r||n(),r?t.transition().duration(e).on("end",n):t},$2=t=>{const e=t.ctrlKey&&Wv()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function Gee({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:s,zoomOnPinch:o,onPanZoomStart:l,onPanZoom:c,onPanZoomEnd:d}){return f=>{if(cd(f,e))return!1;f.preventDefault(),f.stopImmediatePropagation();const h=n.property("__zoom").k||1;if(f.ctrlKey&&o){const I=yo(f),O=$2(f),T=h*Math.pow(2,O);r.scaleTo(n,T,I,f);return}const b=f.deltaMode===1?20:1;let x=i===Wu.Vertical?0:f.deltaX*b,_=i===Wu.Horizontal?0:f.deltaY*b;!Wv()&&f.shiftKey&&i!==Wu.Vertical&&(x=f.deltaY*b,_=0),r.translateBy(n,-(x/h)*s,-(_/h)*s,{internal:!0});const N=Kb(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,l?.(f,N)),t.isPanScrolling&&(c?.(f,N),t.panScrollTimeout=setTimeout(()=>{d?.(f,N),t.isPanScrolling=!1},150))}}function Zee({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(r,i){if(!e&&r.type==="wheel"&&!r.ctrlKey||cd(r,t))return null;r.preventDefault(),n.call(this,r,i)}}function Jee({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;const i=Kb(r.transform);t.mouseButton=r.sourceEvent?.button||0,t.isZoomingOrPanning=!0,t.prevViewport=i,r.sourceEvent?.type==="mousedown"&&e(!0),n&&n?.(r.sourceEvent,i)}}function Yee({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return s=>{t.usedRightMouseButton=!!(n&&M2(e,t.mouseButton??0)),s.sourceEvent?.sync||r([s.transform.x,s.transform.y,s.transform.k]),i&&!s.sourceEvent?.internal&&i?.(s.sourceEvent,Kb(s.transform))}}function Xee({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:s}){return o=>{if(!o.sourceEvent?.internal&&(t.isZoomingOrPanning=!1,s&&M2(e,t.mouseButton??0)&&!t.usedRightMouseButton&&o.sourceEvent&&s(o.sourceEvent),t.usedRightMouseButton=!1,r(!1),i&&Kee(t.prevViewport,o.transform))){const l=Kb(o.transform);t.prevViewport=l,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{i?.(o.sourceEvent,l)},n?150:0)}}}function ete({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:s,userSelectionActive:o,noWheelClassName:l,noPanClassName:c,lib:d}){return f=>{const h=t||e,b=n&&f.ctrlKey;if(f.button===1&&f.type==="mousedown"&&(cd(f,`${d}-flow__node`)||cd(f,`${d}-flow__edge`)))return!0;if(!r&&!h&&!i&&!s&&!n||o||cd(f,l)&&f.type==="wheel"||cd(f,c)&&(f.type!=="wheel"||i&&f.type==="wheel"&&!t)||!n&&f.ctrlKey&&f.type==="wheel")return!1;if(!n&&f.type==="touchstart"&&f.touches?.length>1)return f.preventDefault(),!1;if(!h&&!i&&!b&&f.type==="wheel"||!r&&(f.type==="mousedown"||f.type==="touchstart")||Array.isArray(r)&&!r.includes(f.button)&&f.type==="mousedown")return!1;const x=Array.isArray(r)&&r.includes(f.button)||!f.button||f.button<=1;return(!f.ctrlKey||f.type==="wheel")&&x}}function tte({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:r,translateExtent:i,viewport:s,onPanZoom:o,onPanZoomStart:l,onPanZoomEnd:c,onDraggingChange:d}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},h=t.getBoundingClientRect(),b=h2().clickDistance(!Eo(r)||r<0?0:r).scaleExtent([e,n]).translateExtent(i),x=Ts(t).call(b);q({x:s.x,y:s.y,zoom:Vd(s.zoom,e,n)},[[0,0],[h.width,h.height]],i);const _=x.on("wheel.zoom"),N=x.on("dblclick.zoom");b.wheelDelta($2);function I(W,U){return x?new Promise($=>{b?.transform(mS(x,U?.duration,()=>$(!0)),W)}):Promise.resolve(!1)}function O({noWheelClassName:W,noPanClassName:U,onPaneContextMenu:$,userSelectionActive:ee,panOnScroll:J,panOnDrag:le,panOnScrollMode:se,panOnScrollSpeed:te,preventScrolling:oe,zoomOnPinch:X,zoomOnScroll:ce,zoomOnDoubleClick:de,zoomActivationKeyPressed:ye,lib:we,onTransformChange:Ne}){ee&&!f.isZoomingOrPanning&&T();const qe=J&&!ye&&!ee?Gee({zoomPanValues:f,noWheelClassName:W,d3Selection:x,d3Zoom:b,panOnScrollMode:se,panOnScrollSpeed:te,zoomOnPinch:X,onPanZoomStart:l,onPanZoom:o,onPanZoomEnd:c}):Zee({noWheelClassName:W,preventScrolling:oe,d3ZoomHandler:_});if(x.on("wheel.zoom",qe,{passive:!1}),!ee){const Ze=Jee({zoomPanValues:f,onDraggingChange:d,onPanZoomStart:l});b.on("start",Ze);const Xe=Yee({zoomPanValues:f,panOnDrag:le,onPaneContextMenu:!!$,onPanZoom:o,onTransformChange:Ne});b.on("zoom",Xe);const Ue=Xee({zoomPanValues:f,panOnDrag:le,panOnScroll:J,onPaneContextMenu:$,onPanZoomEnd:c,onDraggingChange:d});b.on("end",Ue)}const De=ete({zoomActivationKeyPressed:ye,panOnDrag:le,zoomOnScroll:ce,panOnScroll:J,zoomOnDoubleClick:de,zoomOnPinch:X,userSelectionActive:ee,noPanClassName:U,noWheelClassName:W,lib:we});b.filter(De),de?x.on("dblclick.zoom",N):x.on("dblclick.zoom",null)}function T(){b.on("zoom",null)}async function q(W,U,$){const ee=hS(W),J=b?.constrain()(ee,U,$);return J&&await I(J),new Promise(le=>le(J))}async function A(W,U){const $=hS(W);return await I($,U),new Promise(ee=>ee($))}function D(W){if(x){const U=hS(W),$=x.property("__zoom");($.k!==W.zoom||$.x!==W.x||$.y!==W.y)&&b?.transform(x,U,null,{sync:!0})}}function L(){const W=x?p2(x.node()):{x:0,y:0,k:1};return{x:W.x,y:W.y,zoom:W.k}}function z(W,U){return x?new Promise($=>{b?.scaleTo(mS(x,U?.duration,()=>$(!0)),W)}):Promise.resolve(!1)}function P(W,U){return x?new Promise($=>{b?.scaleBy(mS(x,U?.duration,()=>$(!0)),W)}):Promise.resolve(!1)}function R(W){b?.scaleExtent(W)}function B(W){b?.translateExtent(W)}function F(W){const U=!Eo(W)||W<0?0:W;b?.clickDistance(U)}return{update:O,destroy:T,setViewport:A,setViewportConstrained:q,getViewport:L,scaleTo:z,scaleBy:P,setScaleExtent:R,setTranslateExtent:B,syncViewport:D,setClickDistance:F}}var Kp;(function(t){t.Line="line",t.Handle="handle"})(Kp||(Kp={}));function nte({width:t,prevWidth:e,height:n,prevHeight:r,affectsX:i,affectsY:s}){const o=t-e,l=n-r,c=[o>0?1:o<0?-1:0,l>0?1:l<0?-1:0];return o&&i&&(c[0]=c[0]*-1),l&&s&&(c[1]=c[1]*-1),c}function rte(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),r=t.includes("left"),i=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:r,affectsY:i}}function yl(t,e){return Math.max(0,e-t)}function vl(t,e){return Math.max(0,t-e)}function Gg(t,e,n){return Math.max(0,e-t,t-n)}function aj(t,e){return t?!e:e}function ite(t,e,n,r,i,s,o,l){let{affectsX:c,affectsY:d}=e;const{isHorizontal:f,isVertical:h}=e,b=f&&h,{xSnapped:x,ySnapped:_}=n,{minWidth:N,maxWidth:I,minHeight:O,maxHeight:T}=r,{x:q,y:A,width:D,height:L,aspectRatio:z}=t;let P=Math.floor(f?x-t.pointerX:0),R=Math.floor(h?_-t.pointerY:0);const B=D+(c?-P:P),F=L+(d?-R:R),W=-s[0]*D,U=-s[1]*L;let $=Gg(B,N,I),ee=Gg(F,O,T);if(o){let se=0,te=0;c&&P<0?se=yl(q+P+W,o[0][0]):!c&&P>0&&(se=vl(q+B+W,o[1][0])),d&&R<0?te=yl(A+R+U,o[0][1]):!d&&R>0&&(te=vl(A+F+U,o[1][1])),$=Math.max($,se),ee=Math.max(ee,te)}if(l){let se=0,te=0;c&&P>0?se=vl(q+P,l[0][0]):!c&&P<0&&(se=yl(q+B,l[1][0])),d&&R>0?te=vl(A+R,l[0][1]):!d&&R<0&&(te=yl(A+F,l[1][1])),$=Math.max($,se),ee=Math.max(ee,te)}if(i){if(f){const se=Gg(B/z,O,T)*z;if($=Math.max($,se),o){let te=0;!c&&!d||c&&!d&&b?te=vl(A+U+B/z,o[1][1])*z:te=yl(A+U+(c?P:-P)/z,o[0][1])*z,$=Math.max($,te)}if(l){let te=0;!c&&!d||c&&!d&&b?te=yl(A+B/z,l[1][1])*z:te=vl(A+(c?P:-P)/z,l[0][1])*z,$=Math.max($,te)}}if(h){const se=Gg(F*z,N,I)/z;if(ee=Math.max(ee,se),o){let te=0;!c&&!d||d&&!c&&b?te=vl(q+F*z+W,o[1][0])/z:te=yl(q+(d?R:-R)*z+W,o[0][0])/z,ee=Math.max(ee,te)}if(l){let te=0;!c&&!d||d&&!c&&b?te=yl(q+F*z,l[1][0])/z:te=vl(q+(d?R:-R)*z,l[0][0])/z,ee=Math.max(ee,te)}}}R=R+(R<0?ee:-ee),P=P+(P<0?$:-$),i&&(b?B>F*z?R=(aj(c,d)?-P:P)/z:P=(aj(c,d)?-R:R)*z:f?(R=P/z,d=c):(P=R*z,c=d));const J=c?q+P:q,le=d?A+R:A;return{width:D+(c?-P:P),height:L+(d?-R:R),x:s[0]*P*(c?-1:1)+J,y:s[1]*R*(d?-1:1)+le}}const B2={width:0,height:0,x:0,y:0},ste={...B2,pointerX:0,pointerY:0,aspectRatio:1};function ote(t){return[[0,0],[t.measured.width,t.measured.height]]}function ate(t,e,n){const r=e.position.x+t.position.x,i=e.position.y+t.position.y,s=t.measured.width??0,o=t.measured.height??0,l=n[0]*s,c=n[1]*o;return[[r-l,i-c],[r+s-l,i+o-c]]}function lte({domNode:t,nodeId:e,getStoreItems:n,onChange:r,onEnd:i}){const s=Ts(t);function o({controlPosition:c,boundaries:d,keepAspectRatio:f,onResizeStart:h,onResize:b,onResizeEnd:x,shouldResize:_}){let N={...B2},I={...ste};const O=rte(c);let T,q=null,A=[],D,L,z;const P=XD().on("start",R=>{const{nodeLookup:B,transform:F,snapGrid:W,snapToGrid:U,nodeOrigin:$,paneDomNode:ee}=n();if(T=B.get(e),!T)return;q=ee?.getBoundingClientRect()??null;const{xSnapped:J,ySnapped:le}=Qp(R.sourceEvent,{transform:F,snapGrid:W,snapToGrid:U,containerBounds:q});N={width:T.measured.width??0,height:T.measured.height??0,x:T.position.x??0,y:T.position.y??0},I={...N,pointerX:J,pointerY:le,aspectRatio:N.width/N.height},D=void 0,T.parentId&&(T.extent==="parent"||T.expandParent)&&(D=B.get(T.parentId),L=D&&T.extent==="parent"?ote(D):void 0),A=[],z=void 0;for(const[se,te]of B)if(te.parentId===e&&(A.push({id:se,position:{...te.position},extent:te.extent}),te.extent==="parent"||te.expandParent)){const oe=ate(te,T,te.origin??$);z?z=[[Math.min(oe[0][0],z[0][0]),Math.min(oe[0][1],z[0][1])],[Math.max(oe[1][0],z[1][0]),Math.max(oe[1][1],z[1][1])]]:z=oe}h?.(R,{...N})}).on("drag",R=>{const{transform:B,snapGrid:F,snapToGrid:W,nodeOrigin:U}=n(),$=Qp(R.sourceEvent,{transform:B,snapGrid:F,snapToGrid:W,containerBounds:q}),ee=[];if(!T)return;const{x:J,y:le,width:se,height:te}=N,oe={},X=T.origin??U,{width:ce,height:de,x:ye,y:we}=ite(I,O,$,d,f,X,L,z),Ne=ce!==se,ze=de!==te,qe=ye!==J&&Ne,De=we!==le&&ze;if(!qe&&!De&&!Ne&&!ze)return;if((qe||De||X[0]===1||X[1]===1)&&(oe.x=qe?ye:N.x,oe.y=De?we:N.y,N.x=oe.x,N.y=oe.y,A.length>0)){const ut=ye-J,_t=we-le;for(const Tt of A)Tt.position={x:Tt.position.x-ut+X[0]*(ce-se),y:Tt.position.y-_t+X[1]*(de-te)},ee.push(Tt)}if((Ne||ze)&&(oe.width=Ne?ce:N.width,oe.height=ze?de:N.height,N.width=oe.width,N.height=oe.height),D&&T.expandParent){const ut=X[0]*(oe.width??0);oe.x&&oe.x<ut&&(N.x=ut,I.x=I.x-(oe.x-ut));const _t=X[1]*(oe.height??0);oe.y&&oe.y<_t&&(N.y=_t,I.y=I.y-(oe.y-_t))}const Ze=nte({width:N.width,prevWidth:se,height:N.height,prevHeight:te,affectsX:O.affectsX,affectsY:O.affectsY}),Xe={...N,direction:Ze};_?.(R,Xe)!==!1&&(b?.(R,Xe),r(oe,ee))}).on("end",R=>{x?.(R,{...N}),i?.()});s.call(P)}function l(){s.on(".drag",null)}return{update:o,destroy:l}}const lj=t=>{let e;const n=new Set,r=(f,h)=>{const b=typeof f=="function"?f(e):f;if(!Object.is(b,e)){const x=e;e=h??(typeof b!="object"||b===null)?b:Object.assign({},e,b),n.forEach(_=>_(e,x))}},i=()=>e,c={setState:r,getState:i,getInitialState:()=>d,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{n.clear()}},d=e=t(r,i,c);return c},ute=t=>t?lj(t):lj,{useDebugValue:cte}=Ln,{useSyncExternalStoreWithSelector:dte}=oB,fte=t=>t;function z2(t,e=fte,n){const r=dte(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return cte(r),r}const uj=(t,e)=>{const n=ute(t),r=(i,s=e)=>z2(n,i,s);return Object.assign(r,n),r},pte=(t,e)=>t?uj(t,e):uj;function Lr(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}const Gb=K.createContext(null),hte=Gb.Provider,W2=za.error001();function qn(t,e){const n=K.useContext(Gb);if(n===null)throw new Error(W2);return z2(n,t,e)}function vr(){const t=K.useContext(Gb);if(t===null)throw new Error(W2);return K.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const cj={display:"none"},mte={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},U2="react-flow__node-desc",V2="react-flow__edge-desc",gte="react-flow__aria-live",yte=t=>t.ariaLiveMessage;function vte({rfId:t}){const e=qn(yte);return p.jsx("div",{id:`${gte}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:mte,children:e})}function bte({rfId:t,disableKeyboardA11y:e}){return p.jsxs(p.Fragment,{children:[p.jsxs("div",{id:`${U2}-${t}`,style:cj,children:["Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),p.jsx("div",{id:`${V2}-${t}`,style:cj,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!e&&p.jsx(vte,{rfId:t})]})}const xte=t=>t.userSelectionActive?"none":"all",_N=K.forwardRef(({position:t="top-left",children:e,className:n,style:r,...i},s)=>{const o=qn(xte),l=`${t}`.split("-");return p.jsx("div",{className:Xr(["react-flow__panel",n,...l]),style:{...r,pointerEvents:o},ref:s,...i,children:e})});function wte({proOptions:t,position:e="bottom-right"}){return t?.hideAttribution?null:p.jsx(_N,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:p.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const _te=t=>{const e=[],n=[];for(const[,r]of t.nodeLookup)r.selected&&e.push(r.internals.userNode);for(const[,r]of t.edgeLookup)r.selected&&n.push(r);return{selectedNodes:e,selectedEdges:n}},Zg=t=>t.id;function Ste(t,e){return Lr(t.selectedNodes.map(Zg),e.selectedNodes.map(Zg))&&Lr(t.selectedEdges.map(Zg),e.selectedEdges.map(Zg))}function Ete({onSelectionChange:t}){const e=vr(),{selectedNodes:n,selectedEdges:r}=qn(_te,Ste);return K.useEffect(()=>{const i={nodes:n,edges:r};t?.(i),e.getState().onSelectionChangeHandlers.forEach(s=>s(i))},[n,r,t]),null}const Nte=t=>!!t.onSelectionChangeHandlers;function kte({onSelectionChange:t}){const e=qn(Nte);return t||e?p.jsx(Ete,{onSelectionChange:t}):null}const H2=[0,0],Ite={x:0,y:0,zoom:1},Cte=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],dj=[...Cte,"rfId"],Tte=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setPaneClickDistance:t.setPaneClickDistance}),fj={translateExtent:Ah,nodeOrigin:H2,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function Ote(t){const{setNodes:e,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:s,setNodeExtent:o,reset:l,setDefaultNodesAndEdges:c,setPaneClickDistance:d}=qn(Tte,Lr),f=vr();K.useEffect(()=>(c(t.defaultNodes,t.defaultEdges),()=>{h.current=fj,l()}),[]);const h=K.useRef(fj);return K.useEffect(()=>{for(const b of dj){const x=t[b],_=h.current[b];x!==_&&(typeof t[b]>"u"||(b==="nodes"?e(x):b==="edges"?n(x):b==="minZoom"?r(x):b==="maxZoom"?i(x):b==="translateExtent"?s(x):b==="nodeExtent"?o(x):b==="paneClickDistance"?d(x):b==="fitView"?f.setState({fitViewOnInit:x}):b==="fitViewOptions"?f.setState({fitViewOnInitOptions:x}):f.setState({[b]:x})))}h.current=t},dj.map(b=>t[b])),null}function pj(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function qte(t){const[e,n]=K.useState(t==="system"?null:t);return K.useEffect(()=>{if(t!=="system"){n(t);return}const r=pj(),i=()=>n(r?.matches?"dark":"light");return i(),r?.addEventListener("change",i),()=>{r?.removeEventListener("change",i)}},[t]),e!==null?e:pj()?.matches?"dark":"light"}const hj=typeof document<"u"?document:null;function Lh(t=null,e={target:hj,actInsideInputWithModifier:!0}){const[n,r]=K.useState(!1),i=K.useRef(!1),s=K.useRef(new Set([])),[o,l]=K.useMemo(()=>{if(t!==null){const d=(Array.isArray(t)?t:[t]).filter(h=>typeof h=="string").map(h=>h.replace("+",`
`).replace(`

`,`
+`).split(`
`)),f=d.reduce((h,b)=>h.concat(...b),[]);return[d,f]}return[[],[]]},[t]);return K.useEffect(()=>{const c=e?.target||hj;if(t!==null){const d=b=>{if(i.current=b.ctrlKey||b.metaKey||b.shiftKey,(!i.current||i.current&&!e.actInsideInputWithModifier)&&BE(b))return!1;const _=gj(b.code,l);s.current.add(b[_]),mj(o,s.current,!1)&&(b.preventDefault(),r(!0))},f=b=>{if((!i.current||i.current&&!e.actInsideInputWithModifier)&&BE(b))return!1;const _=gj(b.code,l);mj(o,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(b[_]),b.key==="Meta"&&s.current.clear(),i.current=!1},h=()=>{s.current.clear(),r(!1)};return c?.addEventListener("keydown",d),c?.addEventListener("keyup",f),window.addEventListener("blur",h),window.addEventListener("contextmenu",h),()=>{c?.removeEventListener("keydown",d),c?.removeEventListener("keyup",f),window.removeEventListener("blur",h),window.removeEventListener("contextmenu",h)}}},[t,r]),n}function mj(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function gj(t,e){return e.includes(t)?"code":"key"}const Rte=()=>{const t=vr();return K.useMemo(()=>({zoomIn:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1/1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomTo:(e,n)=>{const{panZoom:r}=t.getState();return r?r.scaleTo(e,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,n)=>{const{transform:[r,i,s],panZoom:o}=t.getState();return o?(await o.setViewport({x:e.x??r,y:e.y??i,zoom:e.zoom??s},{duration:n?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,n,r]=t.getState().transform;return{x:e,y:n,zoom:r}},fitView:e=>{const{nodeLookup:n,minZoom:r,maxZoom:i,panZoom:s,domNode:o}=t.getState();if(!s||!o)return Promise.resolve(!1);const l=LE(n,e),{width:c,height:d}=Qb(o);return ME({nodes:l,width:c,height:d,minZoom:r,maxZoom:i,panZoom:s},e)},setCenter:async(e,n,r)=>{const{width:i,height:s,maxZoom:o,panZoom:l}=t.getState(),c=typeof r?.zoom<"u"?r.zoom:o,d=i/2-e*c,f=s/2-n*c;return l?(await l.setViewport({x:d,y:f,zoom:c},{duration:r?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(e,n)=>{const{width:r,height:i,minZoom:s,maxZoom:o,panZoom:l}=t.getState(),c=gN(e,r,i,s,o,n?.padding??.1);return l?(await l.setViewport(c,{duration:n?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,n={snapToGrid:!0})=>{const{transform:r,snapGrid:i,domNode:s}=t.getState();if(!s)return e;const{x:o,y:l}=s.getBoundingClientRect(),c={x:e.x-o,y:e.y-l};return pm(c,r,n.snapToGrid,i)},flowToScreenPosition:e=>{const{transform:n,domNode:r}=t.getState();if(!r)return e;const{x:i,y:s}=r.getBoundingClientRect(),o=E2(e,n);return{x:o.x+i,y:o.y+s}}}),[])};function Q2(t,e){const n=[],r=new Map,i=[];for(const s of t)if(s.type==="add"){i.push(s);continue}else if(s.type==="remove"||s.type==="replace")r.set(s.id,[s]);else{const o=r.get(s.id);o?o.push(s):r.set(s.id,[s])}for(const s of e){const o=r.get(s.id);if(!o){n.push(s);continue}if(o[0].type==="remove")continue;if(o[0].type==="replace"){n.push({...o[0].item});continue}const l={...s};for(const c of o)jte(c,l);n.push(l)}return i.length&&i.forEach(s=>{s.index!==void 0?n.splice(s.index,0,{...s.item}):n.push({...s.item})}),n}function jte(t,e){switch(t.type){case"select":{e.selected=t.selected;break}case"position":{typeof t.position<"u"&&(e.position=t.position),typeof t.dragging<"u"&&(e.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(e.measured??={},e.measured.width=t.dimensions.width,e.measured.height=t.dimensions.height,t.setAttributes&&(e.width=t.dimensions.width,e.height=t.dimensions.height)),typeof t.resizing=="boolean"&&(e.resizing=t.resizing);break}}}function Ate(t,e){return Q2(t,e)}function Pte(t,e){return Q2(t,e)}function Iu(t,e){return{id:t,type:"select",selected:e}}function dd(t,e=new Set,n=!1){const r=[];for(const[i,s]of t){const o=e.has(i);!(s.selected===void 0&&!o)&&s.selected!==o&&(n&&(s.selected=o),r.push(Iu(s.id,o)))}return r}function yj({items:t=[],lookup:e}){const n=[],r=new Map(t.map(i=>[i.id,i]));for(const[i,s]of t.entries()){const o=e.get(s.id),l=o?.internals?.userNode??o;l!==void 0&&l!==s&&n.push({id:s.id,item:s,type:"replace"}),l===void 0&&n.push({item:s,type:"add",index:i})}for(const[i]of e)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function vj(t){return{id:t.id,type:"remove"}}const bj=t=>vee(t),Fte=t=>v2(t);function K2(t){return K.forwardRef(t)}const Dte=typeof window<"u"?K.useLayoutEffect:K.useEffect;function xj(t){const[e,n]=K.useState(BigInt(0)),[r]=K.useState(()=>Lte(()=>n(i=>i+BigInt(1))));return Dte(()=>{const i=r.get();i.length&&(t(i),r.reset())},[e]),r}function Lte(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:n=>{e.push(n),t()}}}const G2=K.createContext(null);function Mte({children:t}){const e=vr(),n=K.useCallback(l=>{const{nodes:c=[],setNodes:d,hasDefaultNodes:f,onNodesChange:h,nodeLookup:b}=e.getState();let x=c;for(const _ of l)x=typeof _=="function"?_(x):_;f?d(x):h&&h(yj({items:x,lookup:b}))},[]),r=xj(n),i=K.useCallback(l=>{const{edges:c=[],setEdges:d,hasDefaultEdges:f,onEdgesChange:h,edgeLookup:b}=e.getState();let x=c;for(const _ of l)x=typeof _=="function"?_(x):_;f?d(x):h&&h(yj({items:x,lookup:b}))},[]),s=xj(i),o=K.useMemo(()=>({nodeQueue:r,edgeQueue:s}),[]);return p.jsx(G2.Provider,{value:o,children:t})}function $te(){const t=K.useContext(G2);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const Bte=t=>!!t.panZoom;function hm(){const t=Rte(),e=vr(),n=$te(),r=qn(Bte),i=K.useMemo(()=>{const s=h=>e.getState().nodeLookup.get(h),o=h=>{n.nodeQueue.push(h)},l=h=>{n.edgeQueue.push(h)},c=h=>{const{nodeLookup:b,nodeOrigin:x}=e.getState(),_=bj(h)?h:b.get(h.id),N=_.parentId?k2(_.position,_.measured,_.parentId,b,x):_.position,I={..._,position:N,width:_.measured?.width??_.width,height:_.measured?.height??_.height};return Hd(I)},d=(h,b,x={replace:!1})=>{o(_=>_.map(N=>{if(N.id===h){const I=typeof b=="function"?b(N):b;return x.replace&&bj(I)?I:{...N,...I}}return N}))},f=(h,b,x={replace:!1})=>{l(_=>_.map(N=>{if(N.id===h){const I=typeof b=="function"?b(N):b;return x.replace&&Fte(I)?I:{...N,...I}}return N}))};return{getNodes:()=>e.getState().nodes.map(h=>({...h})),getNode:h=>s(h)?.internals.userNode,getInternalNode:s,getEdges:()=>{const{edges:h=[]}=e.getState();return h.map(b=>({...b}))},getEdge:h=>e.getState().edgeLookup.get(h),setNodes:o,setEdges:l,addNodes:h=>{const b=Array.isArray(h)?h:[h];n.nodeQueue.push(x=>[...x,...b])},addEdges:h=>{const b=Array.isArray(h)?h:[h];n.edgeQueue.push(x=>[...x,...b])},toObject:()=>{const{nodes:h=[],edges:b=[],transform:x}=e.getState(),[_,N,I]=x;return{nodes:h.map(O=>({...O})),edges:b.map(O=>({...O})),viewport:{x:_,y:N,zoom:I}}},deleteElements:async({nodes:h=[],edges:b=[]})=>{const{nodes:x,edges:_,onNodesDelete:N,onEdgesDelete:I,triggerNodeChanges:O,triggerEdgeChanges:T,onDelete:q,onBeforeDelete:A}=e.getState(),{nodes:D,edges:L}=await wee({nodesToRemove:h,edgesToRemove:b,nodes:x,edges:_,onBeforeDelete:A}),z=L.length>0,P=D.length>0;if(z){const R=L.map(vj);I?.(L),T(R)}if(P){const R=D.map(vj);N?.(D),O(R)}return(P||z)&&q?.({nodes:D,edges:L}),{deletedNodes:D,deletedEdges:L}},getIntersectingNodes:(h,b=!0,x)=>{const _=ZR(h),N=_?h:c(h),I=x!==void 0;return N?(x||e.getState().nodes).filter(O=>{const T=e.getState().nodeLookup.get(O.id);if(T&&!_&&(O.id===h.id||!T.internals.positionAbsolute))return!1;const q=Hd(I?O:T),A=Fh(q,N);return b&&A>0||A>=N.width*N.height}):[]},isNodeIntersecting:(h,b,x=!0)=>{const N=ZR(h)?h:c(h);if(!N)return!1;const I=Fh(N,b);return x&&I>0||I>=N.width*N.height},updateNode:d,updateNodeData:(h,b,x={replace:!1})=>{d(h,_=>{const N=typeof b=="function"?b(_):b;return x.replace?{..._,data:N}:{..._,data:{..._.data,...N}}},x)},updateEdge:f,updateEdgeData:(h,b,x={replace:!1})=>{f(h,_=>{const N=typeof b=="function"?b(_):b;return x.replace?{..._,data:N}:{..._,data:{..._.data,...N}}},x)},getNodesBounds:h=>{const{nodeLookup:b,nodeOrigin:x}=e.getState();return bee(h,{nodeLookup:b,nodeOrigin:x})},getHandleConnections:({type:h,id:b,nodeId:x})=>Array.from(e.getState().connectionLookup.get(`${x}-${h}${b?`-${b}`:""}`)?.values()??[]),getNodeConnections:({type:h,handleId:b,nodeId:x})=>Array.from(e.getState().connectionLookup.get(`${x}${h?b?`-${h}-${b}`:`-${h}`:""}`)?.values()??[])}},[]);return K.useMemo(()=>({...i,...t,viewportInitialized:r}),[r])}const wj=t=>t.selected,zte={actInsideInputWithModifier:!1},Wte=typeof window<"u"?window:void 0;function Ute({deleteKeyCode:t,multiSelectionKeyCode:e}){const n=vr(),{deleteElements:r}=hm(),i=Lh(t,zte),s=Lh(e,{target:Wte});K.useEffect(()=>{if(i){const{edges:o,nodes:l}=n.getState();r({nodes:l.filter(wj),edges:o.filter(wj)}),n.setState({nodesSelectionActive:!1})}},[i]),K.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])}function Vte(t){const e=vr();K.useEffect(()=>{const n=()=>{if(!t.current)return!1;const r=Qb(t.current);(r.height===0||r.width===0)&&e.getState().onError?.("004",za.error004()),e.setState({width:r.width||500,height:r.height||500})};if(t.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(t.current),()=>{window.removeEventListener("resize",n),r&&t.current&&r.unobserve(t.current)}}},[])}const Zb={position:"absolute",width:"100%",height:"100%",top:0,left:0},Hte=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib});function Qte({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:s=Wu.Free,zoomOnDoubleClick:o=!0,panOnDrag:l=!0,defaultViewport:c,translateExtent:d,minZoom:f,maxZoom:h,zoomActivationKeyCode:b,preventScrolling:x=!0,children:_,noWheelClassName:N,noPanClassName:I,onViewportChange:O,isControlledViewport:T,paneClickDistance:q}){const A=vr(),D=K.useRef(null),{userSelectionActive:L,lib:z}=qn(Hte,Lr),P=Lh(b),R=K.useRef();Vte(D);const B=K.useCallback(F=>{O?.({x:F[0],y:F[1],zoom:F[2]}),T||A.setState({transform:F})},[O,T]);return K.useEffect(()=>{if(D.current){R.current=tte({domNode:D.current,minZoom:f,maxZoom:h,translateExtent:d,viewport:c,paneClickDistance:q,onDraggingChange:$=>A.setState({paneDragging:$}),onPanZoomStart:($,ee)=>{const{onViewportChangeStart:J,onMoveStart:le}=A.getState();le?.($,ee),J?.(ee)},onPanZoom:($,ee)=>{const{onViewportChange:J,onMove:le}=A.getState();le?.($,ee),J?.(ee)},onPanZoomEnd:($,ee)=>{const{onViewportChangeEnd:J,onMoveEnd:le}=A.getState();le?.($,ee),J?.(ee)}});const{x:F,y:W,zoom:U}=R.current.getViewport();return A.setState({panZoom:R.current,transform:[F,W,U],domNode:D.current.closest(".react-flow")}),()=>{R.current?.destroy()}}},[]),K.useEffect(()=>{R.current?.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:s,zoomOnDoubleClick:o,panOnDrag:l,zoomActivationKeyPressed:P,preventScrolling:x,noPanClassName:I,userSelectionActive:L,noWheelClassName:N,lib:z,onTransformChange:B})},[t,e,n,r,i,s,o,l,P,x,I,L,N,z,B]),p.jsx("div",{className:"react-flow__renderer",ref:D,style:Zb,children:_})}const Kte=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function Gte(){const{userSelectionActive:t,userSelectionRect:e}=qn(Kte,Lr);return t&&e?p.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const gS=(t,e)=>n=>{n.target===e.current&&t?.(n)},Zte=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging});function Jte({isSelecting:t,selectionKeyPressed:e,selectionMode:n=Ph.Full,panOnDrag:r,selectionOnDrag:i,onSelectionStart:s,onSelectionEnd:o,onPaneClick:l,onPaneContextMenu:c,onPaneScroll:d,onPaneMouseEnter:f,onPaneMouseMove:h,onPaneMouseLeave:b,children:x}){const _=vr(),{userSelectionActive:N,elementsSelectable:I,dragging:O}=qn(Zte,Lr),T=I&&(t||N),q=K.useRef(null),A=K.useRef(),D=K.useRef(new Set),L=K.useRef(new Set),z=K.useRef(!1),P=K.useRef(!1),R=J=>{if(z.current){z.current=!1;return}l?.(J),_.getState().resetSelectedElements(),_.setState({nodesSelectionActive:!1})},B=J=>{if(Array.isArray(r)&&r?.includes(2)){J.preventDefault();return}c?.(J)},F=d?J=>d(J):void 0,W=J=>{const{resetSelectedElements:le,domNode:se}=_.getState();if(A.current=se?.getBoundingClientRect(),!I||!t||J.button!==0||J.target!==q.current||!A.current)return;J.target?.setPointerCapture?.(J.pointerId),P.current=!0,z.current=!1;const{x:te,y:oe}=ja(J.nativeEvent,A.current);le(),_.setState({userSelectionRect:{width:0,height:0,startX:te,startY:oe,x:te,y:oe}}),s?.(J)},U=J=>{const{userSelectionRect:le,transform:se,nodeLookup:te,edgeLookup:oe,connectionLookup:X,triggerNodeChanges:ce,triggerEdgeChanges:de,defaultEdgeOptions:ye}=_.getState();if(!A.current||!le)return;z.current=!0;const{x:we,y:Ne}=ja(J.nativeEvent,A.current),{startX:ze,startY:qe}=le,De={startX:ze,startY:qe,x:we<ze?we:ze,y:Ne<qe?Ne:qe,width:Math.abs(we-ze),height:Math.abs(Ne-qe)},Ze=D.current,Xe=L.current;D.current=new Set(b2(te,De,se,n===Ph.Partial,!0).map(ut=>ut.id)),L.current=new Set;const Ue=ye?.selectable??!0;for(const ut of D.current){const _t=X.get(ut);if(_t)for(const{edgeId:Tt}of _t.values()){const Wt=oe.get(Tt);Wt&&(Wt.selectable??Ue)&&L.current.add(Tt)}}if(!JR(Ze,D.current)){const ut=dd(te,D.current,!0);ce(ut)}if(!JR(Xe,L.current)){const ut=dd(oe,L.current);de(ut)}_.setState({userSelectionRect:De,userSelectionActive:!0,nodesSelectionActive:!1})},$=J=>{if(J.button!==0||!P.current)return;J.target?.releasePointerCapture?.(J.pointerId);const{userSelectionRect:le}=_.getState();!N&&le&&J.target===q.current&&R?.(J),_.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:D.current.size>0}),o?.(J),(e||i)&&(z.current=!1),P.current=!1},ee=r===!0||Array.isArray(r)&&r.includes(0);return p.jsxs("div",{className:Xr(["react-flow__pane",{draggable:ee,dragging:O,selection:t}]),onClick:T?void 0:gS(R,q),onContextMenu:gS(B,q),onWheel:gS(F,q),onPointerEnter:T?void 0:f,onPointerDown:T?W:h,onPointerMove:T?U:h,onPointerUp:T?$:void 0,onPointerLeave:b,ref:q,style:Zb,children:[x,p.jsx(Gte,{})]})}function HE({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:o,nodeLookup:l,onError:c}=e.getState(),d=l.get(t);if(!d){c?.("012",za.error012(t));return}e.setState({nodesSelectionActive:!1}),d.selected?(n||d.selected&&o)&&(s({nodes:[d],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):i([t])}function Z2({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,nodeClickDistance:o}){const l=vr(),[c,d]=K.useState(!1),f=K.useRef();return K.useEffect(()=>{f.current=Bee({getStoreItems:()=>l.getState(),onNodeMouseDown:h=>{HE({id:h,store:l,nodeRef:t})},onDragStart:()=>{d(!0)},onDragStop:()=>{d(!1)}})},[]),K.useEffect(()=>{if(e)f.current?.destroy();else if(t.current)return f.current?.update({noDragClassName:n,handleSelector:r,domNode:t.current,isSelectable:s,nodeId:i,nodeClickDistance:o}),()=>{f.current?.destroy()}},[n,r,e,s,t,i]),c}const Yte=t=>e=>e.selected&&(e.draggable||t&&typeof e.draggable>"u");function J2(){const t=vr();return K.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:s,nodesDraggable:o,onError:l,updateNodePositions:c,nodeLookup:d,nodeOrigin:f}=t.getState(),h=new Map,b=Yte(o),x=i?s[0]:5,_=i?s[1]:5,N=n.direction.x*x*n.factor,I=n.direction.y*_*n.factor;for(const[,O]of d){if(!b(O))continue;let T={x:O.internals.positionAbsolute.x+N,y:O.internals.positionAbsolute.y+I};i&&(T=Hb(T,s));const{position:q,positionAbsolute:A}=x2({nodeId:O.id,nextPosition:T,nodeLookup:d,nodeExtent:r,nodeOrigin:f,onError:l});O.position=q,O.internals.positionAbsolute=A,h.set(O.id,O)}c(h)},[])}const SN=K.createContext(null),Xte=SN.Provider;SN.Consumer;const Y2=()=>K.useContext(SN),ene=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),tne=(t,e,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:s,connection:o}=r,{fromHandle:l,toHandle:c,isValid:d}=o,f=c?.nodeId===t&&c?.id===e&&c?.type===n;return{connectingFrom:l?.nodeId===t&&l?.id===e&&l?.type===n,connectingTo:f,clickConnecting:i?.nodeId===t&&i?.id===e&&i?.type===n,isPossibleEndHandle:s===Ud.Strict?l?.type!==n:t!==l?.nodeId||e!==l?.id,connectionInProcess:!!l,valid:f&&d}};function nne({type:t="source",position:e=Lt.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:o,onConnect:l,children:c,className:d,onMouseDown:f,onTouchStart:h,...b},x){const _=o||null,N=t==="target",I=vr(),O=Y2(),{connectOnClick:T,noPanClassName:q,rfId:A}=qn(ene,Lr),{connectingFrom:D,connectingTo:L,clickConnecting:z,isPossibleEndHandle:P,connectionInProcess:R,valid:B}=qn(tne(O,_,t),Lr);O||I.getState().onError?.("010",za.error010());const F=$=>{const{defaultEdgeOptions:ee,onConnect:J,hasDefaultEdges:le}=I.getState(),se={...ee,...$};if(le){const{edges:te,setEdges:oe}=I.getState();oe(Cee(se,te))}J?.(se),l?.(se)},W=$=>{if(!O)return;const ee=C2($.nativeEvent);if(i&&(ee&&$.button===0||!ee)){const J=I.getState();VE.onPointerDown($.nativeEvent,{autoPanOnConnect:J.autoPanOnConnect,connectionMode:J.connectionMode,connectionRadius:J.connectionRadius,domNode:J.domNode,nodeLookup:J.nodeLookup,lib:J.lib,isTarget:N,handleId:_,nodeId:O,flowId:J.rfId,panBy:J.panBy,cancelConnection:J.cancelConnection,onConnectStart:J.onConnectStart,onConnectEnd:J.onConnectEnd,updateConnection:J.updateConnection,onConnect:F,isValidConnection:n||J.isValidConnection,getTransform:()=>I.getState().transform,getFromHandle:()=>I.getState().connection.fromHandle,autoPanSpeed:J.autoPanSpeed})}ee?f?.($):h?.($)},U=$=>{const{onClickConnectStart:ee,onClickConnectEnd:J,connectionClickStartHandle:le,connectionMode:se,isValidConnection:te,lib:oe,rfId:X,nodeLookup:ce,connection:de}=I.getState();if(!O||!le&&!i)return;if(!le){ee?.($.nativeEvent,{nodeId:O,handleId:_,handleType:t}),I.setState({connectionClickStartHandle:{nodeId:O,type:t,id:_}});return}const ye=I2($.target),we=n||te,{connection:Ne,isValid:ze}=VE.isValid($.nativeEvent,{handle:{nodeId:O,id:_,type:t},connectionMode:se,fromNodeId:le.nodeId,fromHandleId:le.id||null,fromType:le.type,isValidConnection:we,flowId:X,doc:ye,lib:oe,nodeLookup:ce});ze&&Ne&&F(Ne);const qe=structuredClone(de);delete qe.inProgress,qe.toPosition=qe.toHandle?qe.toHandle.position:null,J?.($,qe),I.setState({connectionClickStartHandle:null})};return p.jsx("div",{"data-handleid":_,"data-nodeid":O,"data-handlepos":e,"data-id":`${A}-${O}-${_}-${t}`,className:Xr(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",q,d,{source:!N,target:N,connectable:r,connectablestart:i,connectableend:s,clickconnecting:z,connectingfrom:D,connectingto:L,valid:B,connectionindicator:r&&(!R||P)&&(R?s:i)}]),onMouseDown:W,onTouchStart:W,onClick:T?U:void 0,ref:x,...b,children:c})}const Ii=K.memo(K2(nne));function rne({data:t,isConnectable:e,sourcePosition:n=Lt.Bottom}){return p.jsxs(p.Fragment,{children:[t?.label,p.jsx(Ii,{type:"source",position:n,isConnectable:e})]})}function ine({data:t,isConnectable:e,targetPosition:n=Lt.Top,sourcePosition:r=Lt.Bottom}){return p.jsxs(p.Fragment,{children:[p.jsx(Ii,{type:"target",position:n,isConnectable:e}),t?.label,p.jsx(Ii,{type:"source",position:r,isConnectable:e})]})}function sne(){return null}function one({data:t,isConnectable:e,targetPosition:n=Lt.Top}){return p.jsxs(p.Fragment,{children:[p.jsx(Ii,{type:"target",position:n,isConnectable:e}),t?.label]})}const Uv={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},_j={input:rne,default:ine,output:one,group:sne};function ane(t){return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??t.style?.width,height:t.height??t.initialHeight??t.style?.height}:{width:t.width??t.style?.width,height:t.height??t.style?.height}}const lne=t=>{const{width:e,height:n,x:r,y:i}=fm(t.nodeLookup,{filter:s=>!!s.selected});return{width:Eo(e)?e:null,height:Eo(n)?n:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${r}px,${i}px)`}};function une({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=vr(),{width:i,height:s,transformString:o,userSelectionActive:l}=qn(lne,Lr),c=J2(),d=K.useRef(null);if(K.useEffect(()=>{n||d.current?.focus({preventScroll:!0})},[n]),Z2({nodeRef:d}),l||!i||!s)return null;const f=t?b=>{const x=r.getState().nodes.filter(_=>_.selected);t(b,x)}:void 0,h=b=>{Object.prototype.hasOwnProperty.call(Uv,b.key)&&(b.preventDefault(),c({direction:Uv[b.key],factor:b.shiftKey?4:1}))};return p.jsx("div",{className:Xr(["react-flow__nodesselection","react-flow__container",e]),style:{transform:o},children:p.jsx("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:h,style:{width:i,height:s}})})}const Sj=typeof window<"u"?window:void 0,cne=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function X2({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,paneClickDistance:l,deleteKeyCode:c,selectionKeyCode:d,selectionOnDrag:f,selectionMode:h,onSelectionStart:b,onSelectionEnd:x,multiSelectionKeyCode:_,panActivationKeyCode:N,zoomActivationKeyCode:I,elementsSelectable:O,zoomOnScroll:T,zoomOnPinch:q,panOnScroll:A,panOnScrollSpeed:D,panOnScrollMode:L,zoomOnDoubleClick:z,panOnDrag:P,defaultViewport:R,translateExtent:B,minZoom:F,maxZoom:W,preventScrolling:U,onSelectionContextMenu:$,noWheelClassName:ee,noPanClassName:J,disableKeyboardA11y:le,onViewportChange:se,isControlledViewport:te}){const{nodesSelectionActive:oe,userSelectionActive:X}=qn(cne),ce=Lh(d,{target:Sj}),de=Lh(N,{target:Sj}),ye=de||P,we=de||A,Ne=f&&ye!==!0,ze=ce||X||Ne;return Ute({deleteKeyCode:c,multiSelectionKeyCode:_}),p.jsx(Qte,{onPaneContextMenu:s,elementsSelectable:O,zoomOnScroll:T,zoomOnPinch:q,panOnScroll:we,panOnScrollSpeed:D,panOnScrollMode:L,zoomOnDoubleClick:z,panOnDrag:!ce&&ye,defaultViewport:R,translateExtent:B,minZoom:F,maxZoom:W,zoomActivationKeyCode:I,preventScrolling:U,noWheelClassName:ee,noPanClassName:J,onViewportChange:se,isControlledViewport:te,paneClickDistance:l,children:p.jsxs(Jte,{onSelectionStart:b,onSelectionEnd:x,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:ye,isSelecting:!!ze,selectionMode:h,selectionKeyPressed:ce,selectionOnDrag:Ne,children:[t,oe&&p.jsx(une,{onSelectionContextMenu:$,noPanClassName:J,disableKeyboardA11y:le})]})})}X2.displayName="FlowRenderer";const dne=K.memo(X2),fne=t=>e=>t?b2(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(n=>n.id):Array.from(e.nodeLookup.keys());function pne(t){return qn(K.useCallback(fne(t),[t]),Lr)}const hne=t=>t.updateNodeInternals;function mne(){const t=qn(hne),[e]=K.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const s=i.target.getAttribute("data-id");r.set(s,{id:s,nodeElement:i.target,force:!0})}),t(r)}));return K.useEffect(()=>()=>{e?.disconnect()},[e]),e}function gne({node:t,nodeType:e,hasDimensions:n,resizeObserver:r}){const i=vr(),s=K.useRef(null),o=K.useRef(null),l=K.useRef(t.sourcePosition),c=K.useRef(t.targetPosition),d=K.useRef(e),f=n&&!!t.internals.handleBounds;return K.useEffect(()=>{s.current&&!t.hidden&&(!f||o.current!==s.current)&&(o.current&&r?.unobserve(o.current),r?.observe(s.current),o.current=s.current)},[f,t.hidden]),K.useEffect(()=>()=>{o.current&&(r?.unobserve(o.current),o.current=null)},[]),K.useEffect(()=>{if(s.current){const h=d.current!==e,b=l.current!==t.sourcePosition,x=c.current!==t.targetPosition;(h||b||x)&&(d.current=e,l.current=t.sourcePosition,c.current=t.targetPosition,i.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:s.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),s}function yne({id:t,onClick:e,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:s,onDoubleClick:o,nodesDraggable:l,elementsSelectable:c,nodesConnectable:d,nodesFocusable:f,resizeObserver:h,noDragClassName:b,noPanClassName:x,disableKeyboardA11y:_,rfId:N,nodeTypes:I,nodeExtent:O,nodeClickDistance:T,onError:q}){const{node:A,internals:D,isParent:L}=qn(qe=>{const De=qe.nodeLookup.get(t),Ze=qe.parentLookup.has(t);return{node:De,internals:De.internals,isParent:Ze}},Lr);let z=A.type||"default",P=I?.[z]||_j[z];P===void 0&&(q?.("003",za.error003(z)),z="default",P=_j.default);const R=!!(A.draggable||l&&typeof A.draggable>"u"),B=!!(A.selectable||c&&typeof A.selectable>"u"),F=!!(A.connectable||d&&typeof A.connectable>"u"),W=!!(A.focusable||f&&typeof A.focusable>"u"),U=vr(),$=N2(A),ee=gne({node:A,nodeType:z,hasDimensions:$,resizeObserver:h}),J=Z2({nodeRef:ee,disabled:A.hidden||!R,noDragClassName:b,handleSelector:A.dragHandle,nodeId:t,isSelectable:B,nodeClickDistance:T}),le=J2();if(A.hidden)return null;const se=Wa(A),te=ane(A),oe=B||R||e||n||r||i,X=n?qe=>n(qe,{...D.userNode}):void 0,ce=r?qe=>r(qe,{...D.userNode}):void 0,de=i?qe=>i(qe,{...D.userNode}):void 0,ye=s?qe=>s(qe,{...D.userNode}):void 0,we=o?qe=>o(qe,{...D.userNode}):void 0,Ne=qe=>{const{selectNodesOnDrag:De,nodeDragThreshold:Ze}=U.getState();B&&(!De||!R||Ze>0)&&HE({id:t,store:U,nodeRef:ee}),e&&e(qe,{...D.userNode})},ze=qe=>{if(!(BE(qe.nativeEvent)||_))if(m2.includes(qe.key)&&B){const De=qe.key==="Escape";HE({id:t,store:U,unselect:De,nodeRef:ee})}else R&&A.selected&&Object.prototype.hasOwnProperty.call(Uv,qe.key)&&(qe.preventDefault(),U.setState({ariaLiveMessage:`Moved selected node ${qe.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~D.positionAbsolute.x}, y: ${~~D.positionAbsolute.y}`}),le({direction:Uv[qe.key],factor:qe.shiftKey?4:1}))};return p.jsx("div",{className:Xr(["react-flow__node",`react-flow__node-${z}`,{[x]:R},A.className,{selected:A.selected,selectable:B,parent:L,draggable:R,dragging:J}]),ref:ee,style:{zIndex:D.z,transform:`translate(${D.positionAbsolute.x}px,${D.positionAbsolute.y}px)`,pointerEvents:oe?"all":"none",visibility:$?"visible":"hidden",...A.style,...te},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:X,onMouseMove:ce,onMouseLeave:de,onContextMenu:ye,onClick:Ne,onDoubleClick:we,onKeyDown:W?ze:void 0,tabIndex:W?0:void 0,role:W?"button":void 0,"aria-describedby":_?void 0:`${U2}-${N}`,"aria-label":A.ariaLabel,children:p.jsx(Xte,{value:t,children:p.jsx(P,{id:t,data:A.data,type:z,positionAbsoluteX:D.positionAbsolute.x,positionAbsoluteY:D.positionAbsolute.y,selected:A.selected,selectable:B,draggable:R,deletable:A.deletable??!0,isConnectable:F,sourcePosition:A.sourcePosition,targetPosition:A.targetPosition,dragging:J,dragHandle:A.dragHandle,zIndex:D.z,parentId:A.parentId,...se})})})}const vne=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function eL(t){const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:s}=qn(vne,Lr),o=pne(t.onlyRenderVisibleElements),l=mne();return p.jsx("div",{className:"react-flow__nodes",style:Zb,children:o.map(c=>p.jsx(yne,{id:c,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:l,nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:t.nodeClickDistance,onError:s},c))})}eL.displayName="NodeRenderer";const bne=K.memo(eL);function xne(t){return qn(K.useCallback(n=>{if(!t)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const s=n.nodeLookup.get(i.source),o=n.nodeLookup.get(i.target);s&&o&&Nee({sourceNode:s,targetNode:o,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[t]),Lr)}const wne=({color:t="none",strokeWidth:e=1})=>p.jsx("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),_ne=({color:t="none",strokeWidth:e=1})=>p.jsx("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Ej={[Bv.Arrow]:wne,[Bv.ArrowClosed]:_ne};function Sne(t){const e=vr();return K.useMemo(()=>Object.prototype.hasOwnProperty.call(Ej,t)?Ej[t]:(e.getState().onError?.("009",za.error009(t)),null),[t])}const Ene=({id:t,type:e,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:l="auto-start-reverse"})=>{const c=Sne(e);return c?p.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:l,refX:"0",refY:"0",children:p.jsx(c,{color:n,strokeWidth:o})}):null},tL=({defaultColor:t,rfId:e})=>{const n=qn(s=>s.edges),r=qn(s=>s.defaultEdgeOptions),i=K.useMemo(()=>jee(n,{id:e,defaultColor:t,defaultMarkerStart:r?.markerStart,defaultMarkerEnd:r?.markerEnd}),[n,r,e,t]);return i.length?p.jsx("svg",{className:"react-flow__marker",children:p.jsx("defs",{children:i.map(s=>p.jsx(Ene,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};tL.displayName="MarkerDefinitions";var Nne=K.memo(tL);function nL({x:t,y:e,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:s={},labelBgPadding:o=[2,4],labelBgBorderRadius:l=2,children:c,className:d,...f}){const[h,b]=K.useState({x:1,y:0,width:0,height:0}),x=Xr(["react-flow__edge-textwrapper",d]),_=K.useRef(null);return K.useEffect(()=>{if(_.current){const N=_.current.getBBox();b({x:N.x,y:N.y,width:N.width,height:N.height})}},[n]),typeof n>"u"||!n?null:p.jsxs("g",{transform:`translate(${t-h.width/2} ${e-h.height/2})`,className:x,visibility:h.width?"visible":"hidden",...f,children:[i&&p.jsx("rect",{width:h.width+2*o[0],x:-o[0],y:-o[1],height:h.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:l,ry:l}),p.jsx("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:_,style:r,children:n}),c]})}nL.displayName="EdgeText";const kne=K.memo(nL);function mm({path:t,labelX:e,labelY:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:c,interactionWidth:d=20,...f}){return p.jsxs(p.Fragment,{children:[p.jsx("path",{...f,d:t,fill:"none",className:Xr(["react-flow__edge-path",f.className])}),d&&p.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:d,className:"react-flow__edge-interaction"}),r&&Eo(e)&&Eo(n)?p.jsx(kne,{x:e,y:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:c}):null]})}function Nj({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===Lt.Left||t===Lt.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function rL({sourceX:t,sourceY:e,sourcePosition:n=Lt.Bottom,targetX:r,targetY:i,targetPosition:s=Lt.Top}){const[o,l]=Nj({pos:n,x1:t,y1:e,x2:r,y2:i}),[c,d]=Nj({pos:s,x1:r,y1:i,x2:t,y2:e}),[f,h,b,x]=T2({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:o,sourceControlY:l,targetControlX:c,targetControlY:d});return[`M${t},${e} C${o},${l} ${c},${d} ${r},${i}`,f,h,b,x]}function iL(t){return K.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o=Lt.Bottom,targetPosition:l=Lt.Top,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:b,labelBgBorderRadius:x,style:_,markerEnd:N,markerStart:I,interactionWidth:O})=>{const[T,q,A]=rL({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:l}),D=t.isInternal?void 0:e;return p.jsx(mm,{id:D,path:T,labelX:q,labelY:A,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:b,labelBgBorderRadius:x,style:_,markerEnd:N,markerStart:I,interactionWidth:O})})}const Ine=iL({isInternal:!1}),sL=iL({isInternal:!0});Ine.displayName="SimpleBezierEdge";sL.displayName="SimpleBezierEdgeInternal";function oL(t){return K.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:b,sourcePosition:x=Lt.Bottom,targetPosition:_=Lt.Top,markerEnd:N,markerStart:I,pathOptions:O,interactionWidth:T})=>{const[q,A,D]=zE({sourceX:n,sourceY:r,sourcePosition:x,targetX:i,targetY:s,targetPosition:_,borderRadius:O?.borderRadius,offset:O?.offset}),L=t.isInternal?void 0:e;return p.jsx(mm,{id:L,path:q,labelX:A,labelY:D,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:b,markerEnd:N,markerStart:I,interactionWidth:T})})}const aL=oL({isInternal:!1}),lL=oL({isInternal:!0});aL.displayName="SmoothStepEdge";lL.displayName="SmoothStepEdgeInternal";function uL(t){return K.memo(({id:e,...n})=>{const r=t.isInternal?void 0:e;return p.jsx(aL,{...n,id:r,pathOptions:K.useMemo(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}const Cne=uL({isInternal:!1}),cL=uL({isInternal:!0});Cne.displayName="StepEdge";cL.displayName="StepEdgeInternal";function dL(t){return K.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:b,markerEnd:x,markerStart:_,interactionWidth:N})=>{const[I,O,T]=q2({sourceX:n,sourceY:r,targetX:i,targetY:s}),q=t.isInternal?void 0:e;return p.jsx(mm,{id:q,path:I,labelX:O,labelY:T,label:o,labelStyle:l,labelShowBg:c,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:b,markerEnd:x,markerStart:_,interactionWidth:N})})}const Tne=dL({isInternal:!1}),fL=dL({isInternal:!0});Tne.displayName="StraightEdge";fL.displayName="StraightEdgeInternal";function pL(t){return K.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o=Lt.Bottom,targetPosition:l=Lt.Top,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:b,labelBgBorderRadius:x,style:_,markerEnd:N,markerStart:I,pathOptions:O,interactionWidth:T})=>{const[q,A,D]=yN({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:l,curvature:O?.curvature}),L=t.isInternal?void 0:e;return p.jsx(mm,{id:L,path:q,labelX:A,labelY:D,label:c,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:b,labelBgBorderRadius:x,style:_,markerEnd:N,markerStart:I,interactionWidth:T})})}const One=pL({isInternal:!1}),hL=pL({isInternal:!0});One.displayName="BezierEdge";hL.displayName="BezierEdgeInternal";const kj={default:hL,straight:fL,step:cL,smoothstep:lL,simplebezier:sL},Ij={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},qne=(t,e,n)=>n===Lt.Left?t-e:n===Lt.Right?t+e:t,Rne=(t,e,n)=>n===Lt.Top?t-e:n===Lt.Bottom?t+e:t,Cj="react-flow__edgeupdater";function Tj({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:o,type:l}){return p.jsx("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:o,className:Xr([Cj,`${Cj}-${l}`]),cx:qne(e,r,t),cy:Rne(n,r,t),r,stroke:"transparent",fill:"transparent"})}function jne({isReconnectable:t,reconnectRadius:e,edge:n,sourceX:r,sourceY:i,targetX:s,targetY:o,sourcePosition:l,targetPosition:c,onReconnect:d,onReconnectStart:f,onReconnectEnd:h,setReconnecting:b,setUpdateHover:x}){const _=vr(),N=(A,D)=>{if(A.button!==0)return;const{autoPanOnConnect:L,domNode:z,isValidConnection:P,connectionMode:R,connectionRadius:B,lib:F,onConnectStart:W,onConnectEnd:U,cancelConnection:$,nodeLookup:ee,rfId:J,panBy:le,updateConnection:se}=_.getState(),te=D.type==="target";b(!0),f?.(A,n,D.type);const oe=(ce,de)=>{b(!1),h?.(ce,n,D.type,de)},X=ce=>d?.(n,ce);VE.onPointerDown(A.nativeEvent,{autoPanOnConnect:L,connectionMode:R,connectionRadius:B,domNode:z,handleId:D.id,nodeId:D.nodeId,nodeLookup:ee,isTarget:te,edgeUpdaterType:D.type,lib:F,flowId:J,cancelConnection:$,panBy:le,isValidConnection:P,onConnect:X,onConnectStart:W,onConnectEnd:U,onReconnectEnd:oe,updateConnection:se,getTransform:()=>_.getState().transform,getFromHandle:()=>_.getState().connection.fromHandle})},I=A=>N(A,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),O=A=>N(A,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),T=()=>x(!0),q=()=>x(!1);return p.jsxs(p.Fragment,{children:[(t===!0||t==="source")&&p.jsx(Tj,{position:l,centerX:r,centerY:i,radius:e,onMouseDown:I,onMouseEnter:T,onMouseOut:q,type:"source"}),(t===!0||t==="target")&&p.jsx(Tj,{position:c,centerX:s,centerY:o,radius:e,onMouseDown:O,onMouseEnter:T,onMouseOut:q,type:"target"})]})}function Ane({id:t,edgesFocusable:e,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:s,onContextMenu:o,onMouseEnter:l,onMouseMove:c,onMouseLeave:d,reconnectRadius:f,onReconnect:h,onReconnectStart:b,onReconnectEnd:x,rfId:_,edgeTypes:N,noPanClassName:I,onError:O,disableKeyboardA11y:T}){let q=qn(Ue=>Ue.edgeLookup.get(t));const A=qn(Ue=>Ue.defaultEdgeOptions);q=A?{...A,...q}:q;let D=q.type||"default",L=N?.[D]||kj[D];L===void 0&&(O?.("011",za.error011(D)),D="default",L=kj.default);const z=!!(q.focusable||e&&typeof q.focusable>"u"),P=typeof h<"u"&&(q.reconnectable||n&&typeof q.reconnectable>"u"),R=!!(q.selectable||r&&typeof q.selectable>"u"),B=K.useRef(null),[F,W]=K.useState(!1),[U,$]=K.useState(!1),ee=vr(),{zIndex:J,sourceX:le,sourceY:se,targetX:te,targetY:oe,sourcePosition:X,targetPosition:ce}=qn(K.useCallback(Ue=>{const ut=Ue.nodeLookup.get(q.source),_t=Ue.nodeLookup.get(q.target);if(!ut||!_t)return{zIndex:q.zIndex,...Ij};const Tt=Ree({id:t,sourceNode:ut,targetNode:_t,sourceHandle:q.sourceHandle||null,targetHandle:q.targetHandle||null,connectionMode:Ue.connectionMode,onError:O});return{zIndex:Eee({selected:q.selected,zIndex:q.zIndex,sourceNode:ut,targetNode:_t,elevateOnSelect:Ue.elevateEdgesOnSelect}),...Tt||Ij}},[q.source,q.target,q.sourceHandle,q.targetHandle,q.selected,q.zIndex]),Lr),de=K.useMemo(()=>q.markerStart?`url('#${WE(q.markerStart,_)}')`:void 0,[q.markerStart,_]),ye=K.useMemo(()=>q.markerEnd?`url('#${WE(q.markerEnd,_)}')`:void 0,[q.markerEnd,_]);if(q.hidden||le===null||se===null||te===null||oe===null)return null;const we=Ue=>{const{addSelectedEdges:ut,unselectNodesAndEdges:_t,multiSelectionActive:Tt}=ee.getState();R&&(ee.setState({nodesSelectionActive:!1}),q.selected&&Tt?(_t({nodes:[],edges:[q]}),B.current?.blur()):ut([t])),i&&i(Ue,q)},Ne=s?Ue=>{s(Ue,{...q})}:void 0,ze=o?Ue=>{o(Ue,{...q})}:void 0,qe=l?Ue=>{l(Ue,{...q})}:void 0,De=c?Ue=>{c(Ue,{...q})}:void 0,Ze=d?Ue=>{d(Ue,{...q})}:void 0,Xe=Ue=>{if(!T&&m2.includes(Ue.key)&&R){const{unselectNodesAndEdges:ut,addSelectedEdges:_t}=ee.getState();Ue.key==="Escape"?(B.current?.blur(),ut({edges:[q]})):_t([t])}};return p.jsx("svg",{style:{zIndex:J},children:p.jsxs("g",{className:Xr(["react-flow__edge",`react-flow__edge-${D}`,q.className,I,{selected:q.selected,animated:q.animated,inactive:!R&&!i,updating:F,selectable:R}]),onClick:we,onDoubleClick:Ne,onContextMenu:ze,onMouseEnter:qe,onMouseMove:De,onMouseLeave:Ze,onKeyDown:z?Xe:void 0,tabIndex:z?0:void 0,role:z?"button":"img","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":q.ariaLabel===null?void 0:q.ariaLabel||`Edge from ${q.source} to ${q.target}`,"aria-describedby":z?`${V2}-${_}`:void 0,ref:B,children:[!U&&p.jsx(L,{id:t,source:q.source,target:q.target,type:q.type,selected:q.selected,animated:q.animated,selectable:R,deletable:q.deletable??!0,label:q.label,labelStyle:q.labelStyle,labelShowBg:q.labelShowBg,labelBgStyle:q.labelBgStyle,labelBgPadding:q.labelBgPadding,labelBgBorderRadius:q.labelBgBorderRadius,sourceX:le,sourceY:se,targetX:te,targetY:oe,sourcePosition:X,targetPosition:ce,data:q.data,style:q.style,sourceHandleId:q.sourceHandle,targetHandleId:q.targetHandle,markerStart:de,markerEnd:ye,pathOptions:"pathOptions"in q?q.pathOptions:void 0,interactionWidth:q.interactionWidth}),P&&p.jsx(jne,{edge:q,isReconnectable:P,reconnectRadius:f,onReconnect:h,onReconnectStart:b,onReconnectEnd:x,sourceX:le,sourceY:se,targetX:te,targetY:oe,sourcePosition:X,targetPosition:ce,setUpdateHover:W,setReconnecting:$})]})})}const Pne=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function mL({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:s,onEdgeContextMenu:o,onEdgeMouseEnter:l,onEdgeMouseMove:c,onEdgeMouseLeave:d,onEdgeClick:f,reconnectRadius:h,onEdgeDoubleClick:b,onReconnectStart:x,onReconnectEnd:_,disableKeyboardA11y:N}){const{edgesFocusable:I,edgesReconnectable:O,elementsSelectable:T,onError:q}=qn(Pne,Lr),A=xne(e);return p.jsxs("div",{className:"react-flow__edges",children:[p.jsx(Nne,{defaultColor:t,rfId:n}),A.map(D=>p.jsx(Ane,{id:D,edgesFocusable:I,edgesReconnectable:O,elementsSelectable:T,noPanClassName:i,onReconnect:s,onContextMenu:o,onMouseEnter:l,onMouseMove:c,onMouseLeave:d,onClick:f,reconnectRadius:h,onDoubleClick:b,onReconnectStart:x,onReconnectEnd:_,rfId:n,onError:q,edgeTypes:r,disableKeyboardA11y:N},D))]})}mL.displayName="EdgeRenderer";const Fne=K.memo(mL),Dne=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function Lne({children:t}){const e=qn(Dne);return p.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function Mne(t){const e=hm(),n=K.useRef(!1);K.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const $ne=t=>t.panZoom?.syncViewport;function Bne(t){const e=qn($ne),n=vr();return K.useEffect(()=>{t&&(e?.(t),n.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function zne(t){return t.connection.inProgress?{...t.connection,to:pm(t.connection.to,t.transform)}:{...t.connection}}function Wne(t){return zne}function Une(t){const e=Wne();return qn(e,Lr)}const Vne=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function Hne({containerStyle:t,style:e,type:n,component:r}){const{nodesConnectable:i,width:s,height:o,isValid:l,inProgress:c}=qn(Vne,Lr);return!(s&&i&&c)?null:p.jsx("svg",{style:t,width:s,height:o,className:"react-flow__connectionline react-flow__container",children:p.jsx("g",{className:Xr(["react-flow__connection",y2(l)]),children:p.jsx(gL,{style:e,type:n,CustomComponent:r,isValid:l})})})}const gL=({style:t,type:e=Cl.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:s,fromNode:o,fromHandle:l,fromPosition:c,to:d,toNode:f,toHandle:h,toPosition:b}=Une();if(!i)return;if(n)return p.jsx(n,{connectionLineType:e,connectionLineStyle:t,fromNode:o,fromHandle:l,fromX:s.x,fromY:s.y,toX:d.x,toY:d.y,fromPosition:c,toPosition:b,connectionStatus:y2(r),toNode:f,toHandle:h});let x="";const _={sourceX:s.x,sourceY:s.y,sourcePosition:c,targetX:d.x,targetY:d.y,targetPosition:b};switch(e){case Cl.Bezier:[x]=yN(_);break;case Cl.SimpleBezier:[x]=rL(_);break;case Cl.Step:[x]=zE({..._,borderRadius:0});break;case Cl.SmoothStep:[x]=zE(_);break;default:[x]=q2(_)}return p.jsx("path",{d:x,fill:"none",className:"react-flow__connection-path",style:t})};gL.displayName="ConnectionLine";const Qne={};function Oj(t=Qne){K.useRef(t),vr(),K.useEffect(()=>{},[t])}function Kne(){vr(),K.useRef(!1),K.useEffect(()=>{},[])}function yL({nodeTypes:t,edgeTypes:e,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:s,onEdgeDoubleClick:o,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:d,onNodeContextMenu:f,onSelectionContextMenu:h,onSelectionStart:b,onSelectionEnd:x,connectionLineType:_,connectionLineStyle:N,connectionLineComponent:I,connectionLineContainerStyle:O,selectionKeyCode:T,selectionOnDrag:q,selectionMode:A,multiSelectionKeyCode:D,panActivationKeyCode:L,zoomActivationKeyCode:z,deleteKeyCode:P,onlyRenderVisibleElements:R,elementsSelectable:B,defaultViewport:F,translateExtent:W,minZoom:U,maxZoom:$,preventScrolling:ee,defaultMarkerColor:J,zoomOnScroll:le,zoomOnPinch:se,panOnScroll:te,panOnScrollSpeed:oe,panOnScrollMode:X,zoomOnDoubleClick:ce,panOnDrag:de,onPaneClick:ye,onPaneMouseEnter:we,onPaneMouseMove:Ne,onPaneMouseLeave:ze,onPaneScroll:qe,onPaneContextMenu:De,paneClickDistance:Ze,nodeClickDistance:Xe,onEdgeContextMenu:Ue,onEdgeMouseEnter:ut,onEdgeMouseMove:_t,onEdgeMouseLeave:Tt,reconnectRadius:Wt,onReconnect:Xt,onReconnectStart:xe,onReconnectEnd:ve,noDragClassName:ke,noWheelClassName:Ae,noPanClassName:Ve,disableKeyboardA11y:rt,nodeExtent:Me,rfId:ct,viewport:Ht,onViewportChange:Qt}){return Oj(t),Oj(e),Kne(),Mne(n),Bne(Ht),p.jsx(dne,{onPaneClick:ye,onPaneMouseEnter:we,onPaneMouseMove:Ne,onPaneMouseLeave:ze,onPaneContextMenu:De,onPaneScroll:qe,paneClickDistance:Ze,deleteKeyCode:P,selectionKeyCode:T,selectionOnDrag:q,selectionMode:A,onSelectionStart:b,onSelectionEnd:x,multiSelectionKeyCode:D,panActivationKeyCode:L,zoomActivationKeyCode:z,elementsSelectable:B,zoomOnScroll:le,zoomOnPinch:se,zoomOnDoubleClick:ce,panOnScroll:te,panOnScrollSpeed:oe,panOnScrollMode:X,panOnDrag:de,defaultViewport:F,translateExtent:W,minZoom:U,maxZoom:$,onSelectionContextMenu:h,preventScrolling:ee,noDragClassName:ke,noWheelClassName:Ae,noPanClassName:Ve,disableKeyboardA11y:rt,onViewportChange:Qt,isControlledViewport:!!Ht,children:p.jsxs(Lne,{children:[p.jsx(Fne,{edgeTypes:e,onEdgeClick:i,onEdgeDoubleClick:o,onReconnect:Xt,onReconnectStart:xe,onReconnectEnd:ve,onlyRenderVisibleElements:R,onEdgeContextMenu:Ue,onEdgeMouseEnter:ut,onEdgeMouseMove:_t,onEdgeMouseLeave:Tt,reconnectRadius:Wt,defaultMarkerColor:J,noPanClassName:Ve,disableKeyboardA11y:rt,rfId:ct}),p.jsx(Hne,{style:N,type:_,component:I,containerStyle:O}),p.jsx("div",{className:"react-flow__edgelabel-renderer"}),p.jsx(bne,{nodeTypes:t,onNodeClick:r,onNodeDoubleClick:s,onNodeMouseEnter:l,onNodeMouseMove:c,onNodeMouseLeave:d,onNodeContextMenu:f,nodeClickDistance:Xe,onlyRenderVisibleElements:R,noPanClassName:Ve,noDragClassName:ke,disableKeyboardA11y:rt,nodeExtent:Me,rfId:ct}),p.jsx("div",{className:"react-flow__viewport-portal"})]})})}yL.displayName="GraphView";const Gne=K.memo(yL),qj=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,nodeOrigin:l,nodeExtent:c}={})=>{const d=new Map,f=new Map,h=new Map,b=new Map,x=r??e??[],_=n??t??[],N=l??[0,0],I=c??Ah;j2(h,b,x),UE(_,d,f,{nodeOrigin:N,nodeExtent:I,elevateNodesOnSelect:!1});let O=[0,0,1];if(o&&i&&s){const T=fm(d,{filter:L=>!!((L.width||L.initialWidth)&&(L.height||L.initialHeight))}),{x:q,y:A,zoom:D}=gN(T,i,s,.5,2,.1);O=[q,A,D]}return{rfId:"1",width:0,height:0,transform:O,nodes:_,nodeLookup:d,parentLookup:f,edges:x,edgeLookup:b,connectionLookup:h,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:.5,maxZoom:2,translateExtent:Ah,nodeExtent:I,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Ud.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:N,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,fitViewOnInit:!1,fitViewDone:!1,fitViewOnInitOptions:void 0,selectNodesOnDrag:!0,multiSelectionActive:!1,connection:{...g2},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:_ee,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},Zne=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,nodeOrigin:l,nodeExtent:c})=>pte((d,f)=>({...qj({nodes:t,edges:e,width:i,height:s,fitView:o,nodeOrigin:l,nodeExtent:c,defaultNodes:n,defaultEdges:r}),setNodes:h=>{const{nodeLookup:b,parentLookup:x,nodeOrigin:_,elevateNodesOnSelect:N}=f();UE(h,b,x,{nodeOrigin:_,nodeExtent:c,elevateNodesOnSelect:N,checkEquality:!0}),d({nodes:h})},setEdges:h=>{const{connectionLookup:b,edgeLookup:x}=f();j2(b,x,h),d({edges:h})},setDefaultNodesAndEdges:(h,b)=>{if(h){const{setNodes:x}=f();x(h),d({hasDefaultNodes:!0})}if(b){const{setEdges:x}=f();x(b),d({hasDefaultEdges:!0})}},updateNodeInternals:(h,b={triggerFitView:!0})=>{const{triggerNodeChanges:x,nodeLookup:_,parentLookup:N,fitViewOnInit:I,fitViewDone:O,fitViewOnInitOptions:T,domNode:q,nodeOrigin:A,nodeExtent:D,debug:L,fitViewSync:z}=f(),{changes:P,updatedInternals:R}=Lee(h,_,N,q,A,D);if(R){if(Pee(_,N,{nodeOrigin:A,nodeExtent:D}),b.triggerFitView){let B=O;!O&&I&&(B=z({...T,nodes:T?.nodes})),d({fitViewDone:B})}else d({});P?.length>0&&(L&&console.log("React Flow: trigger node changes",P),x?.(P))}},updateNodePositions:(h,b=!1)=>{const x=[],_=[];for(const[N,I]of h){const O=!!(I?.expandParent&&I?.parentId&&I?.position),T={id:N,type:"position",position:O?{x:Math.max(0,I.position.x),y:Math.max(0,I.position.y)}:I.position,dragging:b};O&&x.push({id:N,parentId:I.parentId,rect:{...I.internals.positionAbsolute,width:I.measured.width,height:I.measured.height}}),_.push(T)}if(x.length>0){const{nodeLookup:N,parentLookup:I,nodeOrigin:O}=f(),T=wN(x,N,I,O);_.push(...T)}f().triggerNodeChanges(_)},triggerNodeChanges:h=>{const{onNodesChange:b,setNodes:x,nodes:_,hasDefaultNodes:N,debug:I}=f();if(h?.length){if(N){const O=Ate(h,_);x(O)}I&&console.log("React Flow: trigger node changes",h),b?.(h)}},triggerEdgeChanges:h=>{const{onEdgesChange:b,setEdges:x,edges:_,hasDefaultEdges:N,debug:I}=f();if(h?.length){if(N){const O=Pte(h,_);x(O)}I&&console.log("React Flow: trigger edge changes",h),b?.(h)}},addSelectedNodes:h=>{const{multiSelectionActive:b,edgeLookup:x,nodeLookup:_,triggerNodeChanges:N,triggerEdgeChanges:I}=f();if(b){const O=h.map(T=>Iu(T,!0));N(O);return}N(dd(_,new Set([...h]),!0)),I(dd(x))},addSelectedEdges:h=>{const{multiSelectionActive:b,edgeLookup:x,nodeLookup:_,triggerNodeChanges:N,triggerEdgeChanges:I}=f();if(b){const O=h.map(T=>Iu(T,!0));I(O);return}I(dd(x,new Set([...h]))),N(dd(_,new Set,!0))},unselectNodesAndEdges:({nodes:h,edges:b}={})=>{const{edges:x,nodes:_,nodeLookup:N,triggerNodeChanges:I,triggerEdgeChanges:O}=f(),T=h||_,q=b||x,A=T.map(L=>{const z=N.get(L.id);return z&&(z.selected=!1),Iu(L.id,!1)}),D=q.map(L=>Iu(L.id,!1));I(A),O(D)},setMinZoom:h=>{const{panZoom:b,maxZoom:x}=f();b?.setScaleExtent([h,x]),d({minZoom:h})},setMaxZoom:h=>{const{panZoom:b,minZoom:x}=f();b?.setScaleExtent([x,h]),d({maxZoom:h})},setTranslateExtent:h=>{f().panZoom?.setTranslateExtent(h),d({translateExtent:h})},setPaneClickDistance:h=>{f().panZoom?.setClickDistance(h)},resetSelectedElements:()=>{const{edges:h,nodes:b,triggerNodeChanges:x,triggerEdgeChanges:_}=f(),N=b.reduce((O,T)=>T.selected?[...O,Iu(T.id,!1)]:O,[]),I=h.reduce((O,T)=>T.selected?[...O,Iu(T.id,!1)]:O,[]);x(N),_(I)},setNodeExtent:h=>{const{nodes:b,nodeLookup:x,parentLookup:_,nodeOrigin:N,elevateNodesOnSelect:I,nodeExtent:O}=f();h[0][0]===O[0][0]&&h[0][1]===O[0][1]&&h[1][0]===O[1][0]&&h[1][1]===O[1][1]||(UE(b,x,_,{nodeOrigin:N,nodeExtent:h,elevateNodesOnSelect:I,checkEquality:!1}),d({nodeExtent:h}))},panBy:h=>{const{transform:b,width:x,height:_,panZoom:N,translateExtent:I}=f();return Mee({delta:h,panZoom:N,transform:b,translateExtent:I,width:x,height:_})},fitView:h=>{const{panZoom:b,width:x,height:_,minZoom:N,maxZoom:I,nodeLookup:O}=f();if(!b)return Promise.resolve(!1);const T=LE(O,h);return ME({nodes:T,width:x,height:_,panZoom:b,minZoom:N,maxZoom:I},h)},fitViewSync:h=>{const{panZoom:b,width:x,height:_,minZoom:N,maxZoom:I,nodeLookup:O}=f();if(!b)return!1;const T=LE(O,h);return ME({nodes:T,width:x,height:_,panZoom:b,minZoom:N,maxZoom:I},h),T.size>0},cancelConnection:()=>{d({connection:{...g2}})},updateConnection:h=>{d({connection:h})},reset:()=>d({...qj()})}),Object.is);function Jne({initialNodes:t,initialEdges:e,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:s,fitView:o,nodeOrigin:l,nodeExtent:c,children:d}){const[f]=K.useState(()=>Zne({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,nodeOrigin:l,nodeExtent:c}));return p.jsx(hte,{value:f,children:p.jsx(Mte,{children:d})})}function Yne({children:t,nodes:e,edges:n,defaultNodes:r,defaultEdges:i,width:s,height:o,fitView:l,nodeOrigin:c,nodeExtent:d}){return K.useContext(Gb)?p.jsx(p.Fragment,{children:t}):p.jsx(Jne,{initialNodes:e,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:s,initialHeight:o,fitView:l,nodeOrigin:c,nodeExtent:d,children:t})}const Xne={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function ere({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s,edgeTypes:o,onNodeClick:l,onEdgeClick:c,onInit:d,onMove:f,onMoveStart:h,onMoveEnd:b,onConnect:x,onConnectStart:_,onConnectEnd:N,onClickConnectStart:I,onClickConnectEnd:O,onNodeMouseEnter:T,onNodeMouseMove:q,onNodeMouseLeave:A,onNodeContextMenu:D,onNodeDoubleClick:L,onNodeDragStart:z,onNodeDrag:P,onNodeDragStop:R,onNodesDelete:B,onEdgesDelete:F,onDelete:W,onSelectionChange:U,onSelectionDragStart:$,onSelectionDrag:ee,onSelectionDragStop:J,onSelectionContextMenu:le,onSelectionStart:se,onSelectionEnd:te,onBeforeDelete:oe,connectionMode:X,connectionLineType:ce=Cl.Bezier,connectionLineStyle:de,connectionLineComponent:ye,connectionLineContainerStyle:we,deleteKeyCode:Ne="Backspace",selectionKeyCode:ze="Shift",selectionOnDrag:qe=!1,selectionMode:De=Ph.Full,panActivationKeyCode:Ze="Space",multiSelectionKeyCode:Xe=Wv()?"Meta":"Control",zoomActivationKeyCode:Ue=Wv()?"Meta":"Control",snapToGrid:ut,snapGrid:_t,onlyRenderVisibleElements:Tt=!1,selectNodesOnDrag:Wt,nodesDraggable:Xt,nodesConnectable:xe,nodesFocusable:ve,nodeOrigin:ke=H2,edgesFocusable:Ae,edgesReconnectable:Ve,elementsSelectable:rt=!0,defaultViewport:Me=Ite,minZoom:ct=.5,maxZoom:Ht=2,translateExtent:Qt=Ah,preventScrolling:fn=!0,nodeExtent:or,defaultMarkerColor:Pn="#b1b1b7",zoomOnScroll:Vr=!0,zoomOnPinch:qi=!0,panOnScroll:br=!1,panOnScrollSpeed:Kt=.5,panOnScrollMode:Hi=Wu.Free,zoomOnDoubleClick:Qi=!0,panOnDrag:Ki=!0,onPaneClick:so,onPaneMouseEnter:sa,onPaneMouseMove:tu,onPaneMouseLeave:Fs,onPaneScroll:V,onPaneContextMenu:dc,paneClickDistance:an=0,nodeClickDistance:fc=0,children:pc,onReconnect:hc,onReconnectStart:nu,onReconnectEnd:oa,onEdgeContextMenu:Gi,onEdgeDoubleClick:ru,onEdgeMouseEnter:aa,onEdgeMouseMove:gf,onEdgeMouseLeave:la,reconnectRadius:Ds=10,onNodesChange:Va,onEdgesChange:Ls,noDragClassName:yf="nodrag",noWheelClassName:vf="nowheel",noPanClassName:mc="nopan",fitView:Ms,fitViewOptions:gc,connectOnClick:yc,attributionPosition:bf,proOptions:vc,defaultEdgeOptions:bc,elevateNodesOnSelect:xc,elevateEdgesOnSelect:iu,disableKeyboardA11y:wc=!1,autoPanOnConnect:xf,autoPanOnNodeDrag:ar,autoPanSpeed:wf,connectionRadius:su,isValidConnection:_c,onError:Ha,style:_f,id:ou,nodeDragThreshold:Qa,viewport:Zi,onViewportChange:Sf,width:gi,height:Ef,colorMode:Nf="light",debug:kf,...Ao},Ka){const Ri=ou||"1",Ga=qte(Nf);return p.jsx("div",{"data-testid":"rf__wrapper",...Ao,style:{..._f,...Xne},ref:Ka,className:Xr(["react-flow",i,Ga]),id:ou,children:p.jsxs(Yne,{nodes:t,edges:e,width:gi,height:Ef,fitView:Ms,nodeOrigin:ke,nodeExtent:or,children:[p.jsx(Gne,{onInit:d,onNodeClick:l,onEdgeClick:c,onNodeMouseEnter:T,onNodeMouseMove:q,onNodeMouseLeave:A,onNodeContextMenu:D,onNodeDoubleClick:L,nodeTypes:s,edgeTypes:o,connectionLineType:ce,connectionLineStyle:de,connectionLineComponent:ye,connectionLineContainerStyle:we,selectionKeyCode:ze,selectionOnDrag:qe,selectionMode:De,deleteKeyCode:Ne,multiSelectionKeyCode:Xe,panActivationKeyCode:Ze,zoomActivationKeyCode:Ue,onlyRenderVisibleElements:Tt,defaultViewport:Me,translateExtent:Qt,minZoom:ct,maxZoom:Ht,preventScrolling:fn,zoomOnScroll:Vr,zoomOnPinch:qi,zoomOnDoubleClick:Qi,panOnScroll:br,panOnScrollSpeed:Kt,panOnScrollMode:Hi,panOnDrag:Ki,onPaneClick:so,onPaneMouseEnter:sa,onPaneMouseMove:tu,onPaneMouseLeave:Fs,onPaneScroll:V,onPaneContextMenu:dc,paneClickDistance:an,nodeClickDistance:fc,onSelectionContextMenu:le,onSelectionStart:se,onSelectionEnd:te,onReconnect:hc,onReconnectStart:nu,onReconnectEnd:oa,onEdgeContextMenu:Gi,onEdgeDoubleClick:ru,onEdgeMouseEnter:aa,onEdgeMouseMove:gf,onEdgeMouseLeave:la,reconnectRadius:Ds,defaultMarkerColor:Pn,noDragClassName:yf,noWheelClassName:vf,noPanClassName:mc,rfId:Ri,disableKeyboardA11y:wc,nodeExtent:or,viewport:Zi,onViewportChange:Sf}),p.jsx(Ote,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:x,onConnectStart:_,onConnectEnd:N,onClickConnectStart:I,onClickConnectEnd:O,nodesDraggable:Xt,nodesConnectable:xe,nodesFocusable:ve,edgesFocusable:Ae,edgesReconnectable:Ve,elementsSelectable:rt,elevateNodesOnSelect:xc,elevateEdgesOnSelect:iu,minZoom:ct,maxZoom:Ht,nodeExtent:or,onNodesChange:Va,onEdgesChange:Ls,snapToGrid:ut,snapGrid:_t,connectionMode:X,translateExtent:Qt,connectOnClick:yc,defaultEdgeOptions:bc,fitView:Ms,fitViewOptions:gc,onNodesDelete:B,onEdgesDelete:F,onDelete:W,onNodeDragStart:z,onNodeDrag:P,onNodeDragStop:R,onSelectionDrag:ee,onSelectionDragStart:$,onSelectionDragStop:J,onMove:f,onMoveStart:h,onMoveEnd:b,noPanClassName:mc,nodeOrigin:ke,rfId:Ri,autoPanOnConnect:xf,autoPanOnNodeDrag:ar,autoPanSpeed:wf,onError:Ha,connectionRadius:su,isValidConnection:_c,selectNodesOnDrag:Wt,nodeDragThreshold:Qa,onBeforeDelete:oe,paneClickDistance:an,debug:kf}),p.jsx(kte,{onSelectionChange:U}),pc,p.jsx(wte,{proOptions:vc,position:bf}),p.jsx(bte,{rfId:Ri,disableKeyboardA11y:wc})]})})}var vL=K2(ere);const tre=t=>t.domNode?.querySelector(".react-flow__edgelabel-renderer");function nre({children:t}){const e=qn(tre);return e?tb.createPortal(t,e):null}function rre({dimensions:t,lineWidth:e,variant:n,className:r}){return p.jsx("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:Xr(["react-flow__background-pattern",n,r])})}function ire({radius:t,className:e}){return p.jsx("circle",{cx:t,cy:t,r:t,className:Xr(["react-flow__background-pattern","dots",e])})}var Zo;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(Zo||(Zo={}));const sre={[Zo.Dots]:1,[Zo.Lines]:1,[Zo.Cross]:6},ore=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function bL({id:t,variant:e=Zo.Dots,gap:n=20,size:r,lineWidth:i=1,offset:s=0,color:o,bgColor:l,style:c,className:d,patternClassName:f}){const h=K.useRef(null),{transform:b,patternId:x}=qn(ore,Lr),_=r||sre[e],N=e===Zo.Dots,I=e===Zo.Cross,O=Array.isArray(n)?n:[n,n],T=[O[0]*b[2]||1,O[1]*b[2]||1],q=_*b[2],A=Array.isArray(s)?s:[s,s],D=I?[q,q]:T,L=[A[0]*b[2]||1+D[0]/2,A[1]*b[2]||1+D[1]/2],z=`${x}${t||""}`;return p.jsxs("svg",{className:Xr(["react-flow__background",d]),style:{...c,...Zb,"--xy-background-color-props":l,"--xy-background-pattern-color-props":o},ref:h,"data-testid":"rf__background",children:[p.jsx("pattern",{id:z,x:b[0]%T[0],y:b[1]%T[1],width:T[0],height:T[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${L[0]},-${L[1]})`,children:N?p.jsx(ire,{radius:q/2,className:f}):p.jsx(rre,{dimensions:D,lineWidth:i,variant:e,className:f})}),p.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${z})`})]})}bL.displayName="Background";const xL=K.memo(bL);function are(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:p.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function lre(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:p.jsx("path",{d:"M0 0h32v4.2H0z"})})}function ure(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:p.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function cre(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:p.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function dre(){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:p.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Jg({children:t,className:e,...n}){return p.jsx("button",{type:"button",className:Xr(["react-flow__controls-button",e]),...n,children:t})}const fre=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom});function wL({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:o,onFitView:l,onInteractiveChange:c,className:d,children:f,position:h="bottom-left",orientation:b="vertical","aria-label":x="React Flow controls"}){const _=vr(),{isInteractive:N,minZoomReached:I,maxZoomReached:O}=qn(fre,Lr),{zoomIn:T,zoomOut:q,fitView:A}=hm(),D=()=>{T(),s?.()},L=()=>{q(),o?.()},z=()=>{A(i),l?.()},P=()=>{_.setState({nodesDraggable:!N,nodesConnectable:!N,elementsSelectable:!N}),c?.(!N)},R=b==="horizontal"?"horizontal":"vertical";return p.jsxs(_N,{className:Xr(["react-flow__controls",R,d]),position:h,style:t,"data-testid":"rf__controls","aria-label":x,children:[e&&p.jsxs(p.Fragment,{children:[p.jsx(Jg,{onClick:D,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:O,children:p.jsx(are,{})}),p.jsx(Jg,{onClick:L,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:I,children:p.jsx(lre,{})})]}),n&&p.jsx(Jg,{className:"react-flow__controls-fitview",onClick:z,title:"fit view","aria-label":"fit view",children:p.jsx(ure,{})}),r&&p.jsx(Jg,{className:"react-flow__controls-interactive",onClick:P,title:"toggle interactivity","aria-label":"toggle interactivity",children:N?p.jsx(dre,{}):p.jsx(cre,{})}),f]})}wL.displayName="Controls";const _L=K.memo(wL);function pre({id:t,x:e,y:n,width:r,height:i,style:s,color:o,strokeColor:l,strokeWidth:c,className:d,borderRadius:f,shapeRendering:h,selected:b,onClick:x}){const{background:_,backgroundColor:N}=s||{},I=o||_||N;return p.jsx("rect",{className:Xr(["react-flow__minimap-node",{selected:b},d]),x:e,y:n,rx:f,ry:f,width:r,height:i,style:{fill:I,stroke:l,strokeWidth:c},shapeRendering:h,onClick:x?O=>x(O,t):void 0})}const hre=K.memo(pre),mre=t=>t.nodes.map(e=>e.id),yS=t=>t instanceof Function?t:()=>t;function gre({nodeStrokeColor:t,nodeColor:e,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:s=hre,onClick:o}){const l=qn(mre,Lr),c=yS(e),d=yS(t),f=yS(n),h=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return p.jsx(p.Fragment,{children:l.map(b=>p.jsx(vre,{id:b,nodeColorFunc:c,nodeStrokeColorFunc:d,nodeClassNameFunc:f,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:s,onClick:o,shapeRendering:h},b))})}function yre({id:t,nodeColorFunc:e,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:s,shapeRendering:o,NodeComponent:l,onClick:c}){const{node:d,x:f,y:h,width:b,height:x}=qn(_=>{const N=_.nodeLookup.get(t),{x:I,y:O}=N.internals.positionAbsolute,{width:T,height:q}=Wa(N);return{node:N,x:I,y:O,width:T,height:q}},Lr);return!d||d.hidden||!N2(d)?null:p.jsx(l,{x:f,y:h,width:b,height:x,style:d.style,selected:!!d.selected,className:r(d),color:e(d),borderRadius:i,strokeColor:n(d),strokeWidth:s,shapeRendering:o,onClick:c,id:d.id})}const vre=K.memo(yre);var bre=K.memo(gre);const xre=200,wre=150,_re=t=>{const e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?S2(fm(t.nodeLookup),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height}},Sre="react-flow__minimap-desc";function SL({style:t,className:e,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:o,nodeComponent:l,bgColor:c,maskColor:d,maskStrokeColor:f,maskStrokeWidth:h,position:b="bottom-right",onClick:x,onNodeClick:_,pannable:N=!1,zoomable:I=!1,ariaLabel:O="React Flow mini map",inversePan:T,zoomStep:q=10,offsetScale:A=5}){const D=vr(),L=K.useRef(null),{boundingRect:z,viewBB:P,rfId:R,panZoom:B,translateExtent:F,flowWidth:W,flowHeight:U}=qn(_re,Lr),$=t?.width??xre,ee=t?.height??wre,J=z.width/$,le=z.height/ee,se=Math.max(J,le),te=se*$,oe=se*ee,X=A*se,ce=z.x-(te-z.width)/2-X,de=z.y-(oe-z.height)/2-X,ye=te+X*2,we=oe+X*2,Ne=`${Sre}-${R}`,ze=K.useRef(0),qe=K.useRef();ze.current=se,K.useEffect(()=>{if(L.current&&B)return qe.current=Qee({domNode:L.current,panZoom:B,getTransform:()=>D.getState().transform,getViewScale:()=>ze.current}),()=>{qe.current?.destroy()}},[B]),K.useEffect(()=>{qe.current?.update({translateExtent:F,width:W,height:U,inversePan:T,pannable:N,zoomStep:q,zoomable:I})},[N,I,T,q,F,W,U]);const De=x?Xe=>{const[Ue,ut]=qe.current?.pointer(Xe)||[0,0];x(Xe,{x:Ue,y:ut})}:void 0,Ze=_?K.useCallback((Xe,Ue)=>{const ut=D.getState().nodeLookup.get(Ue);_(Xe,ut)},[]):void 0;return p.jsx(_N,{position:b,style:{...t,"--xy-minimap-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-background-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-width-props":typeof h=="number"?h*se:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof o=="string"?o:void 0},className:Xr(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:p.jsxs("svg",{width:$,height:ee,viewBox:`${ce} ${de} ${ye} ${we}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":Ne,ref:L,onClick:De,children:[O&&p.jsx("title",{id:Ne,children:O}),p.jsx(bre,{onClick:Ze,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:o,nodeComponent:l}),p.jsx("path",{className:"react-flow__minimap-mask",d:`M${ce-X},${de-X}h${ye+X*2}v${we+X*2}h${-ye-X*2}z
        M${P.x},${P.y}h${P.width}v${P.height}h${-P.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}SL.displayName="MiniMap";const EL=K.memo(SL);function Ere({nodeId:t,position:e,variant:n=Kp.Handle,className:r,style:i={},children:s,color:o,minWidth:l=10,minHeight:c=10,maxWidth:d=Number.MAX_VALUE,maxHeight:f=Number.MAX_VALUE,keepAspectRatio:h=!1,shouldResize:b,onResizeStart:x,onResize:_,onResizeEnd:N}){const I=Y2(),O=typeof t=="string"?t:I,T=vr(),q=K.useRef(null),A=n===Kp.Line?"right":"bottom-right",D=e??A,L=K.useRef(null);K.useEffect(()=>{if(!(!q.current||!O))return L.current||(L.current=lte({domNode:q.current,nodeId:O,getStoreItems:()=>{const{nodeLookup:B,transform:F,snapGrid:W,snapToGrid:U,nodeOrigin:$,domNode:ee}=T.getState();return{nodeLookup:B,transform:F,snapGrid:W,snapToGrid:U,nodeOrigin:$,paneDomNode:ee}},onChange:(B,F)=>{const{triggerNodeChanges:W,nodeLookup:U,parentLookup:$,nodeOrigin:ee}=T.getState(),J=[],le={x:B.x,y:B.y},se=U.get(O);if(se&&se.expandParent&&se.parentId){const te=se.origin??ee,oe=B.width??se.measured.width,X=B.height??se.measured.height,ce={id:se.id,parentId:se.parentId,rect:{width:oe,height:X,...k2({x:B.x??se.position.x,y:B.y??se.position.y},{width:oe,height:X},se.parentId,U,te)}},de=wN([ce],U,$,ee);J.push(...de),le.x=B.x?Math.max(te[0]*oe,B.x):void 0,le.y=B.y?Math.max(te[1]*X,B.y):void 0}if(le.x!==void 0&&le.y!==void 0){const te={id:O,type:"position",position:{...le}};J.push(te)}if(B.width!==void 0&&B.height!==void 0){const te={id:O,type:"dimensions",resizing:!0,setAttributes:!0,dimensions:{width:B.width,height:B.height}};J.push(te)}for(const te of F){const oe={...te,type:"position"};J.push(oe)}W(J)},onEnd:()=>{const B={id:O,type:"dimensions",resizing:!1};T.getState().triggerNodeChanges([B])}})),L.current.update({controlPosition:D,boundaries:{minWidth:l,minHeight:c,maxWidth:d,maxHeight:f},keepAspectRatio:h,onResizeStart:x,onResize:_,onResizeEnd:N,shouldResize:b}),()=>{L.current?.destroy()}},[D,l,c,d,f,h,x,_,N,b]);const z=D.split("-"),P=n===Kp.Line?"borderColor":"backgroundColor",R=o?{...i,[P]:o}:i;return p.jsx("div",{className:Xr(["react-flow__resize-control","nodrag",...z,n,r]),ref:q,style:R,children:s})}K.memo(Ere);var gm=t=>t.type==="checkbox",Lu=t=>t instanceof Date,Fi=t=>t==null;const NL=t=>typeof t=="object";var zr=t=>!Fi(t)&&!Array.isArray(t)&&NL(t)&&!Lu(t),kL=t=>zr(t)&&t.target?gm(t.target)?t.target.checked:t.target.value:t,Nre=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,IL=(t,e)=>t.has(Nre(e)),kre=t=>{const e=t.constructor&&t.constructor.prototype;return zr(e)&&e.hasOwnProperty("isPrototypeOf")},EN=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function is(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(EN&&(t instanceof Blob||r))&&(n||zr(t)))if(e=n?[]:{},!n&&!kre(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=is(t[i]));else return t;return e}var Jb=t=>Array.isArray(t)?t.filter(Boolean):[],$r=t=>t===void 0,Et=(t,e,n)=>{if(!e||!zr(t))return n;const r=Jb(e.split(/[,[\].]+?/)).reduce((i,s)=>Fi(i)?i:i[s],t);return $r(r)||r===t?$r(t[e])?n:t[e]:r},Ys=t=>typeof t=="boolean",NN=t=>/^\w*$/.test(t),CL=t=>Jb(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Bn=(t,e,n)=>{let r=-1;const i=NN(e)?[e]:CL(e),s=i.length,o=s-1;for(;++r<s;){const l=i[r];let c=n;if(r!==o){const d=t[l];c=zr(d)||Array.isArray(d)?d:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}return t};const Vv={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},wo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Sa={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ire=Ln.createContext(null),kN=()=>Ln.useContext(Ire);var TL=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==wo.all&&(e._proxyFormState[o]=!r||wo.all),n&&(n[o]=!0),t[o]}});return i},ss=t=>zr(t)&&!Object.keys(t).length,OL=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return ss(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||wo.all))},Gp=t=>Array.isArray(t)?t:[t],qL=(t,e,n)=>!t||!e||t===e||Gp(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function IN(t){const e=Ln.useRef(t);e.current=t,Ln.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function Cre(t){const e=kN(),{control:n=e.control,disabled:r,name:i,exact:s}=t,[o,l]=Ln.useState(n._formState),c=Ln.useRef(!0),d=Ln.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),f=Ln.useRef(i);return f.current=i,IN({disabled:r,next:h=>c.current&&qL(f.current,h.name,s)&&OL(h,d.current,n._updateFormState)&&l({...n._formState,...h}),subject:n._subjects.state}),Ln.useEffect(()=>(c.current=!0,d.current.isValid&&n._updateValid(!0),()=>{c.current=!1}),[n]),Ln.useMemo(()=>TL(o,n,d.current,!1),[o,n])}var Vo=t=>typeof t=="string",RL=(t,e,n,r,i)=>Vo(t)?(r&&e.watch.add(t),Et(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),Et(n,s))):(r&&(e.watchAll=!0),n);function Tre(t){const e=kN(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:o}=t,l=Ln.useRef(r);l.current=r,IN({disabled:s,subject:n._subjects.values,next:f=>{qL(l.current,f.name,o)&&d(is(RL(l.current,n._names,f.values||n._formValues,!1,i)))}});const[c,d]=Ln.useState(n._getWatch(r,i));return Ln.useEffect(()=>n._removeUnmounted()),c}function Ore(t){const e=kN(),{name:n,disabled:r,control:i=e.control,shouldUnregister:s}=t,o=IL(i._names.array,n),l=Tre({control:i,name:n,defaultValue:Et(i._formValues,n,Et(i._defaultValues,n,t.defaultValue)),exact:!0}),c=Cre({control:i,name:n,exact:!0}),d=Ln.useRef(i.register(n,{...t.rules,value:l,...Ys(t.disabled)?{disabled:t.disabled}:{}})),f=Ln.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Et(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!Et(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Et(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Et(c.validatingFields,n)},error:{enumerable:!0,get:()=>Et(c.errors,n)}}),[c,n]),h=Ln.useMemo(()=>({name:n,value:l,...Ys(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:b=>d.current.onChange({target:{value:kL(b),name:n},type:Vv.CHANGE}),onBlur:()=>d.current.onBlur({target:{value:Et(i._formValues,n),name:n},type:Vv.BLUR}),ref:b=>{const x=Et(i._fields,n);x&&b&&(x._f.ref={focus:()=>b.focus(),select:()=>b.select(),setCustomValidity:_=>b.setCustomValidity(_),reportValidity:()=>b.reportValidity()})}}),[n,i._formValues,r,c.disabled,l,i._fields]);return Ln.useEffect(()=>{const b=i._options.shouldUnregister||s,x=(_,N)=>{const I=Et(i._fields,_);I&&I._f&&(I._f.mount=N)};if(x(n,!0),b){const _=is(Et(i._options.defaultValues,n));Bn(i._defaultValues,n,_),$r(Et(i._formValues,n))&&Bn(i._formValues,n,_)}return!o&&i.register(n),()=>{(o?b&&!i._state.action:b)?i.unregister(n):x(n,!1)}},[n,i,o,s]),Ln.useEffect(()=>{i._updateDisabledField({disabled:r,fields:i._fields,name:n})},[r,n,i]),Ln.useMemo(()=>({field:h,formState:c,fieldState:f}),[h,c,f])}const ds=t=>t.render(Ore(t));var jL=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},Rj=t=>({isOnSubmit:!t||t===wo.onSubmit,isOnBlur:t===wo.onBlur,isOnChange:t===wo.onChange,isOnAll:t===wo.all,isOnTouch:t===wo.onTouched}),jj=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Zp=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=Et(t,i);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(Zp(l,e))break}else if(zr(l)&&Zp(l,e))break}}};var qre=(t,e,n)=>{const r=Gp(Et(t,n));return Bn(r,"root",e[n]),Bn(t,n,r),t},CN=t=>t.type==="file",Wo=t=>typeof t=="function",Hv=t=>{if(!EN)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Cy=t=>Vo(t),TN=t=>t.type==="radio",Qv=t=>t instanceof RegExp;const Aj={value:!1,isValid:!1},Pj={value:!0,isValid:!0};var AL=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!$r(t[0].attributes.value)?$r(t[0].value)||t[0].value===""?Pj:{value:t[0].value,isValid:!0}:Pj:Aj}return Aj};const Fj={isValid:!1,value:null};var PL=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,Fj):Fj;function Dj(t,e,n="validate"){if(Cy(t)||Array.isArray(t)&&t.every(Cy)||Ys(t)&&!t)return{type:n,message:Cy(t)?t:"",ref:e}}var Zc=t=>zr(t)&&!Qv(t)?t:{value:t,message:""},Lj=async(t,e,n,r,i,s)=>{const{ref:o,refs:l,required:c,maxLength:d,minLength:f,min:h,max:b,pattern:x,validate:_,name:N,valueAsNumber:I,mount:O}=t._f,T=Et(n,N);if(!O||e.has(N))return{};const q=l?l[0]:o,A=W=>{i&&q.reportValidity&&(q.setCustomValidity(Ys(W)?"":W||""),q.reportValidity())},D={},L=TN(o),z=gm(o),P=L||z,R=(I||CN(o))&&$r(o.value)&&$r(T)||Hv(o)&&o.value===""||T===""||Array.isArray(T)&&!T.length,B=jL.bind(null,N,r,D),F=(W,U,$,ee=Sa.maxLength,J=Sa.minLength)=>{const le=W?U:$;D[N]={type:W?ee:J,message:le,ref:o,...B(W?ee:J,le)}};if(s?!Array.isArray(T)||!T.length:c&&(!P&&(R||Fi(T))||Ys(T)&&!T||z&&!AL(l).isValid||L&&!PL(l).isValid)){const{value:W,message:U}=Cy(c)?{value:!!c,message:c}:Zc(c);if(W&&(D[N]={type:Sa.required,message:U,ref:q,...B(Sa.required,U)},!r))return A(U),D}if(!R&&(!Fi(h)||!Fi(b))){let W,U;const $=Zc(b),ee=Zc(h);if(!Fi(T)&&!isNaN(T)){const J=o.valueAsNumber||T&&+T;Fi($.value)||(W=J>$.value),Fi(ee.value)||(U=J<ee.value)}else{const J=o.valueAsDate||new Date(T),le=oe=>new Date(new Date().toDateString()+" "+oe),se=o.type=="time",te=o.type=="week";Vo($.value)&&T&&(W=se?le(T)>le($.value):te?T>$.value:J>new Date($.value)),Vo(ee.value)&&T&&(U=se?le(T)<le(ee.value):te?T<ee.value:J<new Date(ee.value))}if((W||U)&&(F(!!W,$.message,ee.message,Sa.max,Sa.min),!r))return A(D[N].message),D}if((d||f)&&!R&&(Vo(T)||s&&Array.isArray(T))){const W=Zc(d),U=Zc(f),$=!Fi(W.value)&&T.length>+W.value,ee=!Fi(U.value)&&T.length<+U.value;if(($||ee)&&(F($,W.message,U.message),!r))return A(D[N].message),D}if(x&&!R&&Vo(T)){const{value:W,message:U}=Zc(x);if(Qv(W)&&!T.match(W)&&(D[N]={type:Sa.pattern,message:U,ref:o,...B(Sa.pattern,U)},!r))return A(U),D}if(_){if(Wo(_)){const W=await _(T,n),U=Dj(W,q);if(U&&(D[N]={...U,...B(Sa.validate,U.message)},!r))return A(U.message),D}else if(zr(_)){let W={};for(const U in _){if(!ss(W)&&!r)break;const $=Dj(await _[U](T,n),q,U);$&&(W={...$,...B(U,$.message)},A($.message),r&&(D[N]=W))}if(!ss(W)&&(D[N]={ref:q,...W},!r))return D}}return A(!0),D};function Rre(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=$r(t)?r++:t[e[r++]];return t}function jre(t){for(const e in t)if(t.hasOwnProperty(e)&&!$r(t[e]))return!1;return!0}function ni(t,e){const n=Array.isArray(e)?e:NN(e)?[e]:CL(e),r=n.length===1?t:Rre(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(zr(r)&&ss(r)||Array.isArray(r)&&jre(r))&&ni(t,n.slice(0,-1)),t}var vS=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},QE=t=>Fi(t)||!NL(t);function Tl(t,e){if(QE(t)||QE(e))return t===e;if(Lu(t)&&Lu(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Lu(s)&&Lu(o)||zr(s)&&zr(o)||Array.isArray(s)&&Array.isArray(o)?!Tl(s,o):s!==o)return!1}}return!0}var FL=t=>t.type==="select-multiple",Are=t=>TN(t)||gm(t),bS=t=>Hv(t)&&t.isConnected,DL=t=>{for(const e in t)if(Wo(t[e]))return!0;return!1};function Kv(t,e={}){const n=Array.isArray(t);if(zr(t)||n)for(const r in t)Array.isArray(t[r])||zr(t[r])&&!DL(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Kv(t[r],e[r])):Fi(t[r])||(e[r]=!0);return e}function LL(t,e,n){const r=Array.isArray(t);if(zr(t)||r)for(const i in t)Array.isArray(t[i])||zr(t[i])&&!DL(t[i])?$r(e)||QE(n[i])?n[i]=Array.isArray(t[i])?Kv(t[i],[]):{...Kv(t[i])}:LL(t[i],Fi(e)?{}:e[i],n[i]):n[i]=!Tl(t[i],e[i]);return n}var pp=(t,e)=>LL(t,e,Kv(e)),ML=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>$r(t)?t:e?t===""?NaN:t&&+t:n&&Vo(t)?new Date(t):r?r(t):t;function xS(t){const e=t.ref;return CN(e)?e.files:TN(e)?PL(t.refs).value:FL(e)?[...e.selectedOptions].map(({value:n})=>n):gm(e)?AL(t.refs).value:ML($r(e.value)?t.ref.value:e.value,t)}var Pre=(t,e,n,r)=>{const i={};for(const s of t){const o=Et(e,s);o&&Bn(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},hp=t=>$r(t)?t:Qv(t)?t.source:zr(t)?Qv(t.value)?t.value.source:t.value:t;const Mj="AsyncFunction";var Fre=t=>!!t&&!!t.validate&&!!(Wo(t.validate)&&t.validate.constructor.name===Mj||zr(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Mj)),Dre=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function $j(t,e,n){const r=Et(t,n);if(r||NN(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=Et(e,s),l=Et(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(l&&l.type)return{name:s,error:l};i.pop()}return{name:n}}var Lre=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,Mre=(t,e)=>!Jb(Et(t,e)).length&&ni(t,e);const $re={mode:wo.onSubmit,reValidateMode:wo.onChange,shouldFocusError:!0};function Bre(t={}){let e={...$re,...t},n={submitCount:0,isDirty:!1,isLoading:Wo(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=zr(e.defaultValues)||zr(e.values)?is(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:is(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,d=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:vS(),array:vS(),state:vS()},b=Rj(e.mode),x=Rj(e.reValidateMode),_=e.criteriaMode===wo.all,N=xe=>ve=>{clearTimeout(d),d=setTimeout(xe,ve)},I=async xe=>{if(!e.disabled&&(f.isValid||xe)){const ve=e.resolver?ss((await P()).errors):await B(r,!0);ve!==n.isValid&&h.state.next({isValid:ve})}},O=(xe,ve)=>{!e.disabled&&(f.isValidating||f.validatingFields)&&((xe||Array.from(l.mount)).forEach(ke=>{ke&&(ve?Bn(n.validatingFields,ke,ve):ni(n.validatingFields,ke))}),h.state.next({validatingFields:n.validatingFields,isValidating:!ss(n.validatingFields)}))},T=(xe,ve=[],ke,Ae,Ve=!0,rt=!0)=>{if(Ae&&ke&&!e.disabled){if(o.action=!0,rt&&Array.isArray(Et(r,xe))){const Me=ke(Et(r,xe),Ae.argA,Ae.argB);Ve&&Bn(r,xe,Me)}if(rt&&Array.isArray(Et(n.errors,xe))){const Me=ke(Et(n.errors,xe),Ae.argA,Ae.argB);Ve&&Bn(n.errors,xe,Me),Mre(n.errors,xe)}if(f.touchedFields&&rt&&Array.isArray(Et(n.touchedFields,xe))){const Me=ke(Et(n.touchedFields,xe),Ae.argA,Ae.argB);Ve&&Bn(n.touchedFields,xe,Me)}f.dirtyFields&&(n.dirtyFields=pp(i,s)),h.state.next({name:xe,isDirty:W(xe,ve),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Bn(s,xe,ve)},q=(xe,ve)=>{Bn(n.errors,xe,ve),h.state.next({errors:n.errors})},A=xe=>{n.errors=xe,h.state.next({errors:n.errors,isValid:!1})},D=(xe,ve,ke,Ae)=>{const Ve=Et(r,xe);if(Ve){const rt=Et(s,xe,$r(ke)?Et(i,xe):ke);$r(rt)||Ae&&Ae.defaultChecked||ve?Bn(s,xe,ve?rt:xS(Ve._f)):ee(xe,rt),o.mount&&I()}},L=(xe,ve,ke,Ae,Ve)=>{let rt=!1,Me=!1;const ct={name:xe};if(!e.disabled){const Ht=!!(Et(r,xe)&&Et(r,xe)._f&&Et(r,xe)._f.disabled);if(!ke||Ae){f.isDirty&&(Me=n.isDirty,n.isDirty=ct.isDirty=W(),rt=Me!==ct.isDirty);const Qt=Ht||Tl(Et(i,xe),ve);Me=!!(!Ht&&Et(n.dirtyFields,xe)),Qt||Ht?ni(n.dirtyFields,xe):Bn(n.dirtyFields,xe,!0),ct.dirtyFields=n.dirtyFields,rt=rt||f.dirtyFields&&Me!==!Qt}if(ke){const Qt=Et(n.touchedFields,xe);Qt||(Bn(n.touchedFields,xe,ke),ct.touchedFields=n.touchedFields,rt=rt||f.touchedFields&&Qt!==ke)}rt&&Ve&&h.state.next(ct)}return rt?ct:{}},z=(xe,ve,ke,Ae)=>{const Ve=Et(n.errors,xe),rt=f.isValid&&Ys(ve)&&n.isValid!==ve;if(e.delayError&&ke?(c=N(()=>q(xe,ke)),c(e.delayError)):(clearTimeout(d),c=null,ke?Bn(n.errors,xe,ke):ni(n.errors,xe)),(ke?!Tl(Ve,ke):Ve)||!ss(Ae)||rt){const Me={...Ae,...rt&&Ys(ve)?{isValid:ve}:{},errors:n.errors,name:xe};n={...n,...Me},h.state.next(Me)}},P=async xe=>{O(xe,!0);const ve=await e.resolver(s,e.context,Pre(xe||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return O(xe),ve},R=async xe=>{const{errors:ve}=await P(xe);if(xe)for(const ke of xe){const Ae=Et(ve,ke);Ae?Bn(n.errors,ke,Ae):ni(n.errors,ke)}else n.errors=ve;return ve},B=async(xe,ve,ke={valid:!0})=>{for(const Ae in xe){const Ve=xe[Ae];if(Ve){const{_f:rt,...Me}=Ve;if(rt){const ct=l.array.has(rt.name),Ht=Ve._f&&Fre(Ve._f);Ht&&f.validatingFields&&O([Ae],!0);const Qt=await Lj(Ve,l.disabled,s,_,e.shouldUseNativeValidation&&!ve,ct);if(Ht&&f.validatingFields&&O([Ae]),Qt[rt.name]&&(ke.valid=!1,ve))break;!ve&&(Et(Qt,rt.name)?ct?qre(n.errors,Qt,rt.name):Bn(n.errors,rt.name,Qt[rt.name]):ni(n.errors,rt.name))}!ss(Me)&&await B(Me,ve,ke)}}return ke.valid},F=()=>{for(const xe of l.unMount){const ve=Et(r,xe);ve&&(ve._f.refs?ve._f.refs.every(ke=>!bS(ke)):!bS(ve._f.ref))&&Ne(xe)}l.unMount=new Set},W=(xe,ve)=>!e.disabled&&(xe&&ve&&Bn(s,xe,ve),!Tl(X(),i)),U=(xe,ve,ke)=>RL(xe,l,{...o.mount?s:$r(ve)?i:Vo(xe)?{[xe]:ve}:ve},ke,ve),$=xe=>Jb(Et(o.mount?s:i,xe,e.shouldUnregister?Et(i,xe,[]):[])),ee=(xe,ve,ke={})=>{const Ae=Et(r,xe);let Ve=ve;if(Ae){const rt=Ae._f;rt&&(!rt.disabled&&Bn(s,xe,ML(ve,rt)),Ve=Hv(rt.ref)&&Fi(ve)?"":ve,FL(rt.ref)?[...rt.ref.options].forEach(Me=>Me.selected=Ve.includes(Me.value)):rt.refs?gm(rt.ref)?rt.refs.length>1?rt.refs.forEach(Me=>(!Me.defaultChecked||!Me.disabled)&&(Me.checked=Array.isArray(Ve)?!!Ve.find(ct=>ct===Me.value):Ve===Me.value)):rt.refs[0]&&(rt.refs[0].checked=!!Ve):rt.refs.forEach(Me=>Me.checked=Me.value===Ve):CN(rt.ref)?rt.ref.value="":(rt.ref.value=Ve,rt.ref.type||h.values.next({name:xe,values:{...s}})))}(ke.shouldDirty||ke.shouldTouch)&&L(xe,Ve,ke.shouldTouch,ke.shouldDirty,!0),ke.shouldValidate&&oe(xe)},J=(xe,ve,ke)=>{for(const Ae in ve){const Ve=ve[Ae],rt=`${xe}.${Ae}`,Me=Et(r,rt);(l.array.has(xe)||zr(Ve)||Me&&!Me._f)&&!Lu(Ve)?J(rt,Ve,ke):ee(rt,Ve,ke)}},le=(xe,ve,ke={})=>{const Ae=Et(r,xe),Ve=l.array.has(xe),rt=is(ve);Bn(s,xe,rt),Ve?(h.array.next({name:xe,values:{...s}}),(f.isDirty||f.dirtyFields)&&ke.shouldDirty&&h.state.next({name:xe,dirtyFields:pp(i,s),isDirty:W(xe,rt)})):Ae&&!Ae._f&&!Fi(rt)?J(xe,rt,ke):ee(xe,rt,ke),jj(xe,l)&&h.state.next({...n}),h.values.next({name:o.mount?xe:void 0,values:{...s}})},se=async xe=>{o.mount=!0;const ve=xe.target;let ke=ve.name,Ae=!0;const Ve=Et(r,ke),rt=()=>ve.type?xS(Ve._f):kL(xe),Me=ct=>{Ae=Number.isNaN(ct)||Lu(ct)&&isNaN(ct.getTime())||Tl(ct,Et(s,ke,ct))};if(Ve){let ct,Ht;const Qt=rt(),fn=xe.type===Vv.BLUR||xe.type===Vv.FOCUS_OUT,or=!Dre(Ve._f)&&!e.resolver&&!Et(n.errors,ke)&&!Ve._f.deps||Lre(fn,Et(n.touchedFields,ke),n.isSubmitted,x,b),Pn=jj(ke,l,fn);Bn(s,ke,Qt),fn?(Ve._f.onBlur&&Ve._f.onBlur(xe),c&&c(0)):Ve._f.onChange&&Ve._f.onChange(xe);const Vr=L(ke,Qt,fn,!1),qi=!ss(Vr)||Pn;if(!fn&&h.values.next({name:ke,type:xe.type,values:{...s}}),or)return f.isValid&&(e.mode==="onBlur"&&fn?I():fn||I()),qi&&h.state.next({name:ke,...Pn?{}:Vr});if(!fn&&Pn&&h.state.next({...n}),e.resolver){const{errors:br}=await P([ke]);if(Me(Qt),Ae){const Kt=$j(n.errors,r,ke),Hi=$j(br,r,Kt.name||ke);ct=Hi.error,ke=Hi.name,Ht=ss(br)}}else O([ke],!0),ct=(await Lj(Ve,l.disabled,s,_,e.shouldUseNativeValidation))[ke],O([ke]),Me(Qt),Ae&&(ct?Ht=!1:f.isValid&&(Ht=await B(r,!0)));Ae&&(Ve._f.deps&&oe(Ve._f.deps),z(ke,Ht,ct,Vr))}},te=(xe,ve)=>{if(Et(n.errors,ve)&&xe.focus)return xe.focus(),1},oe=async(xe,ve={})=>{let ke,Ae;const Ve=Gp(xe);if(e.resolver){const rt=await R($r(xe)?xe:Ve);ke=ss(rt),Ae=xe?!Ve.some(Me=>Et(rt,Me)):ke}else xe?(Ae=(await Promise.all(Ve.map(async rt=>{const Me=Et(r,rt);return await B(Me&&Me._f?{[rt]:Me}:Me)}))).every(Boolean),!(!Ae&&!n.isValid)&&I()):Ae=ke=await B(r);return h.state.next({...!Vo(xe)||f.isValid&&ke!==n.isValid?{}:{name:xe},...e.resolver||!xe?{isValid:ke}:{},errors:n.errors}),ve.shouldFocus&&!Ae&&Zp(r,te,xe?Ve:l.mount),Ae},X=xe=>{const ve={...o.mount?s:i};return $r(xe)?ve:Vo(xe)?Et(ve,xe):xe.map(ke=>Et(ve,ke))},ce=(xe,ve)=>({invalid:!!Et((ve||n).errors,xe),isDirty:!!Et((ve||n).dirtyFields,xe),error:Et((ve||n).errors,xe),isValidating:!!Et(n.validatingFields,xe),isTouched:!!Et((ve||n).touchedFields,xe)}),de=xe=>{xe&&Gp(xe).forEach(ve=>ni(n.errors,ve)),h.state.next({errors:xe?n.errors:{}})},ye=(xe,ve,ke)=>{const Ae=(Et(r,xe,{_f:{}})._f||{}).ref,Ve=Et(n.errors,xe)||{},{ref:rt,message:Me,type:ct,...Ht}=Ve;Bn(n.errors,xe,{...Ht,...ve,ref:Ae}),h.state.next({name:xe,errors:n.errors,isValid:!1}),ke&&ke.shouldFocus&&Ae&&Ae.focus&&Ae.focus()},we=(xe,ve)=>Wo(xe)?h.values.subscribe({next:ke=>xe(U(void 0,ve),ke)}):U(xe,ve,!0),Ne=(xe,ve={})=>{for(const ke of xe?Gp(xe):l.mount)l.mount.delete(ke),l.array.delete(ke),ve.keepValue||(ni(r,ke),ni(s,ke)),!ve.keepError&&ni(n.errors,ke),!ve.keepDirty&&ni(n.dirtyFields,ke),!ve.keepTouched&&ni(n.touchedFields,ke),!ve.keepIsValidating&&ni(n.validatingFields,ke),!e.shouldUnregister&&!ve.keepDefaultValue&&ni(i,ke);h.values.next({values:{...s}}),h.state.next({...n,...ve.keepDirty?{isDirty:W()}:{}}),!ve.keepIsValid&&I()},ze=({disabled:xe,name:ve,field:ke,fields:Ae})=>{(Ys(xe)&&o.mount||xe||l.disabled.has(ve))&&(xe?l.disabled.add(ve):l.disabled.delete(ve),L(ve,xS(ke?ke._f:Et(Ae,ve)._f),!1,!1,!0))},qe=(xe,ve={})=>{let ke=Et(r,xe);const Ae=Ys(ve.disabled)||Ys(e.disabled);return Bn(r,xe,{...ke||{},_f:{...ke&&ke._f?ke._f:{ref:{name:xe}},name:xe,mount:!0,...ve}}),l.mount.add(xe),ke?ze({field:ke,disabled:Ys(ve.disabled)?ve.disabled:e.disabled,name:xe}):D(xe,!0,ve.value),{...Ae?{disabled:ve.disabled||e.disabled}:{},...e.progressive?{required:!!ve.required,min:hp(ve.min),max:hp(ve.max),minLength:hp(ve.minLength),maxLength:hp(ve.maxLength),pattern:hp(ve.pattern)}:{},name:xe,onChange:se,onBlur:se,ref:Ve=>{if(Ve){qe(xe,ve),ke=Et(r,xe);const rt=$r(Ve.value)&&Ve.querySelectorAll&&Ve.querySelectorAll("input,select,textarea")[0]||Ve,Me=Are(rt),ct=ke._f.refs||[];if(Me?ct.find(Ht=>Ht===rt):rt===ke._f.ref)return;Bn(r,xe,{_f:{...ke._f,...Me?{refs:[...ct.filter(bS),rt,...Array.isArray(Et(i,xe))?[{}]:[]],ref:{type:rt.type,name:xe}}:{ref:rt}}}),D(xe,!1,void 0,rt)}else ke=Et(r,xe,{}),ke._f&&(ke._f.mount=!1),(e.shouldUnregister||ve.shouldUnregister)&&!(IL(l.array,xe)&&o.action)&&l.unMount.add(xe)}}},De=()=>e.shouldFocusError&&Zp(r,te,l.mount),Ze=xe=>{Ys(xe)&&(h.state.next({disabled:xe}),Zp(r,(ve,ke)=>{const Ae=Et(r,ke);Ae&&(ve.disabled=Ae._f.disabled||xe,Array.isArray(Ae._f.refs)&&Ae._f.refs.forEach(Ve=>{Ve.disabled=Ae._f.disabled||xe}))},0,!1))},Xe=(xe,ve)=>async ke=>{let Ae;ke&&(ke.preventDefault&&ke.preventDefault(),ke.persist&&ke.persist());let Ve=is(s);if(l.disabled.size)for(const rt of l.disabled)Bn(Ve,rt,void 0);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:rt,values:Me}=await P();n.errors=rt,Ve=Me}else await B(r);if(ni(n.errors,"root"),ss(n.errors)){h.state.next({errors:{}});try{await xe(Ve,ke)}catch(rt){Ae=rt}}else ve&&await ve({...n.errors},ke),De(),setTimeout(De);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ss(n.errors)&&!Ae,submitCount:n.submitCount+1,errors:n.errors}),Ae)throw Ae},Ue=(xe,ve={})=>{Et(r,xe)&&($r(ve.defaultValue)?le(xe,is(Et(i,xe))):(le(xe,ve.defaultValue),Bn(i,xe,is(ve.defaultValue))),ve.keepTouched||ni(n.touchedFields,xe),ve.keepDirty||(ni(n.dirtyFields,xe),n.isDirty=ve.defaultValue?W(xe,is(Et(i,xe))):W()),ve.keepError||(ni(n.errors,xe),f.isValid&&I()),h.state.next({...n}))},ut=(xe,ve={})=>{const ke=xe?is(xe):i,Ae=is(ke),Ve=ss(xe),rt=Ve?i:Ae;if(ve.keepDefaultValues||(i=ke),!ve.keepValues){if(ve.keepDirtyValues){const Me=new Set([...l.mount,...Object.keys(pp(i,s))]);for(const ct of Array.from(Me))Et(n.dirtyFields,ct)?Bn(rt,ct,Et(s,ct)):le(ct,Et(rt,ct))}else{if(EN&&$r(xe))for(const Me of l.mount){const ct=Et(r,Me);if(ct&&ct._f){const Ht=Array.isArray(ct._f.refs)?ct._f.refs[0]:ct._f.ref;if(Hv(Ht)){const Qt=Ht.closest("form");if(Qt){Qt.reset();break}}}}r={}}s=e.shouldUnregister?ve.keepDefaultValues?is(i):{}:is(rt),h.array.next({values:{...rt}}),h.values.next({values:{...rt}})}l={mount:ve.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!ve.keepIsValid||!!ve.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:ve.keepSubmitCount?n.submitCount:0,isDirty:Ve?!1:ve.keepDirty?n.isDirty:!!(ve.keepDefaultValues&&!Tl(xe,i)),isSubmitted:ve.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Ve?{}:ve.keepDirtyValues?ve.keepDefaultValues&&s?pp(i,s):n.dirtyFields:ve.keepDefaultValues&&xe?pp(i,xe):ve.keepDirty?n.dirtyFields:{},touchedFields:ve.keepTouched?n.touchedFields:{},errors:ve.keepErrors?n.errors:{},isSubmitSuccessful:ve.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},_t=(xe,ve)=>ut(Wo(xe)?xe(s):xe,ve);return{control:{register:qe,unregister:Ne,getFieldState:ce,handleSubmit:Xe,setError:ye,_executeSchema:P,_getWatch:U,_getDirty:W,_updateValid:I,_removeUnmounted:F,_updateFieldArray:T,_updateDisabledField:ze,_getFieldArray:$,_reset:ut,_resetDefaultValues:()=>Wo(e.defaultValues)&&e.defaultValues().then(xe=>{_t(xe,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:xe=>{n={...n,...xe}},_disableForm:Ze,_subjects:h,_proxyFormState:f,_setErrors:A,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(xe){o=xe},get _defaultValues(){return i},get _names(){return l},set _names(xe){l=xe},get _formState(){return n},set _formState(xe){n=xe},get _options(){return e},set _options(xe){e={...e,...xe}}},trigger:oe,register:qe,handleSubmit:Xe,watch:we,setValue:le,getValues:X,reset:_t,resetField:Ue,clearErrors:de,unregister:Ne,setError:ye,setFocus:(xe,ve={})=>{const ke=Et(r,xe),Ae=ke&&ke._f;if(Ae){const Ve=Ae.refs?Ae.refs[0]:Ae.ref;Ve.focus&&(Ve.focus(),ve.shouldSelect&&Wo(Ve.select)&&Ve.select())}},getFieldState:ce}}function Ti(t={}){const e=Ln.useRef(void 0),n=Ln.useRef(void 0),[r,i]=Ln.useState({isDirty:!1,isValidating:!1,isLoading:Wo(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Wo(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...Bre(t),formState:r});const s=e.current.control;return s._options=t,IN({subject:s._subjects.state,next:o=>{OL(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),Ln.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Ln.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),Ln.useEffect(()=>{t.values&&!Tl(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),Ln.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),Ln.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),Ln.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=TL(r,s),e.current}const Bj=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Et(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},$L=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?Bj(r.ref,n,t):r.refs&&r.refs.forEach(i=>Bj(i,n,t))}},zre=(t,e)=>{e.shouldUseNativeValidation&&$L(t,e);const n={};for(const r in t){const i=Et(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(Wre(e.names||Object.keys(t),r)){const o=Object.assign({},Et(n,r));Bn(o,"root",s),Bn(n,r,o)}else Bn(n,r,s)}return n},Wre=(t,e)=>t.some(n=>n.startsWith(e+"."));var Ure=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,s=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(f){return f.errors.forEach(function(h){return t.push(h)})}),e){var c=n[o].types,d=c&&c[r.code];n[o]=jL(o,e,n,i,d?[].concat(d,r.message):r.message)}t.shift()}return n},Oi=function(t,e,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(d){return s.shouldUseNativeValidation&&$L({},s),{errors:{},values:n.raw?r:d}})}catch(d){return l(d)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l?.errors)}(o))return{values:{},errors:zre(Ure(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}};const Vre=({shape:t,filter:e})=>hs({entity:Vi.merge(G.object({name:G.string().min(1),cycles:G.number().int(),sort:G.number().int()})),shape:t,filter:e,sort:["id","name","cycles","sort"]}),Hre=({shape:t,filter:e})=>hs({entity:Vi.merge(G.object({blueprintId:G.string().min(1),conflictId:G.string().min(1)})),shape:t,filter:e,sort:["id","blueprintId","conflictId"]}),Qre=({shape:t,filter:e})=>hs({entity:Vi.merge(G.object({blueprintId:G.string().min(1),dependencyId:G.string().min(1)})),shape:t,filter:e,sort:["id","blueprintId","dependencyId"]}),Kre=({shape:t,filter:e})=>hs({entity:Vi.merge(G.object({blueprintId:G.string().min(1),resourceId:G.string().min(1),amount:G.number(),cycles:G.number().int()})),shape:t,filter:e,sort:["id","blueprintId","resourceId","amount","cycles"]}),Gre=({shape:t,filter:e})=>hs({entity:Vi.merge(G.object({blueprintProductionId:G.string().min(1),blueprintId:G.string().min(1)})),shape:t,filter:e,sort:["id","blueprintProductionId","blueprintId"]}),Zre=({shape:t,filter:e})=>hs({entity:Vi.merge(G.object({blueprintProductionId:G.string().min(1),resourceId:G.string().min(1),amount:G.number(),passive:Di()})),shape:t,filter:e,sort:["id","blueprintProductionId","resourceId","amount","passive"]}),Jre=({shape:t,filter:e})=>hs({entity:Vi.merge(G.object({blueprintProductionId:G.string().min(1),resourceId:G.string().min(1),amount:G.number()})),shape:t,filter:e,sort:["id","blueprintProductionId","resourceId","amount"]}),Yre=({shape:t,filter:e})=>hs({entity:Vi.merge(G.object({blueprintId:G.string().min(1),resourceId:G.string().min(1),amount:G.number(),passive:Di()})),shape:t,filter:e,sort:["id","blueprintId","resourceId","amount","passive"]}),Xre=({shape:t,filter:e})=>hs({entity:Vi.merge(G.object({userId:G.string().min(1),blueprintId:G.string().min(1)})),shape:t,filter:e,sort:["id","userId","blueprintId"]}),eie=({shape:t,filter:e})=>hs({entity:Vi.merge(G.object({resourceId:G.string().min(1),amount:G.number(),limit:G.number()})),shape:t,filter:e,sort:["id","resourceId","amount","limit"]}),tie=({shape:t,filter:e})=>hs({entity:Vi.merge(G.object({resourceId:G.string().min(1),amount:G.number(),limit:G.number()})),shape:t,filter:e,sort:["id","resourceId","amount","limit"]}),nie=({shape:t,filter:e})=>hs({entity:Vi.merge(G.object({name:G.string().min(1)})),shape:t,filter:e,sort:["id","name"]}),rie=({shape:t,filter:e})=>hs({entity:Vi.merge(G.object({code:G.string().min(1),label:G.string().min(1),group:G.string().nullish(),sort:G.number().int()})),shape:t,filter:e,sort:["id","code","label","group","sort"]}),iie=({shape:t,filter:e})=>hs({entity:Vi.merge(G.object({name:G.string().min(1),login:G.string().min(1),password:G.string().min(1)})),shape:t,filter:e,sort:["id","name","login","password"]}),ON=Vre({shape:G.object({name:G.string().min(1),cycles:vv(),sort:vv()}),filter:ps.merge(G.object({name:G.string().optional()}))}),Gv=({mutation:t,defaultValues:e,variant:n,tva:r=Ci,css:i})=>{const s=Ti({resolver:Oi(ON.shape),defaultValues:{cycles:1,sort:0,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return p.jsxs("form",{className:o.base(),onSubmit:ms({form:s,mutation:t}),children:[p.jsx(hi,{variant:{highlight:!0},error:s.formState.errors.root}),p.jsx(Cn,{formState:s.formState,name:"name",label:p.jsx(re,{label:"Building name (label)"}),required:!0,children:p.jsx("input",{type:"text",className:o.input(),...s.register("name")})}),p.jsx(Cn,{formState:s.formState,name:"cycles",label:p.jsx(re,{label:"Construction cycles (label)"}),hint:p.jsx(re,{label:"Amount of cycles to build this building (hint)"}),required:!0,children:p.jsx("input",{type:"number",className:o.input(),...s.register("cycles")})}),p.jsx(Cn,{formState:s.formState,name:"sort",label:p.jsx(re,{label:"Blueprint sort (label)"}),hint:p.jsx(re,{label:"Sort blueprints by this number (hint)"}),required:!0,children:p.jsx("input",{type:"number",className:o.input(),...s.register("sort")})}),p.jsx("div",{className:"flex flex-row justify-between gap-8",children:p.jsx(Tn,{iconEnabled:Nn,type:"submit",children:p.jsx(re,{label:"Save (submit)"})})})]})},sie=({id:t,data:e,isConnectable:n})=>{const{locale:r}=_n({from:"/$locale"}),i=Gd();return p.jsxs("div",{className:"min-w-[14rem]",onClick:()=>{i({to:"/$locale/apps/derivean/root/editor",params:{locale:r},search:{zoomTo:t}})},onDoubleClick:()=>{i({to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:r,id:t}})},children:[p.jsx(Ii,{type:"target",position:Lt.Left,className:"w-4 h-4"}),p.jsxs("div",{className:"flex flex-col gap-2 items-start",children:[p.jsx("div",{className:"flex flex-row items-center gap-2",onClick:s=>s.stopPropagation(),onDoubleClick:s=>s.stopPropagation(),onMouseDown:s=>s.stopPropagation(),children:p.jsx(Sn,{icon:Nn,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:r,id:t},children:e.name})}),p.jsxs("div",{className:"flex flex-row items-center justify-between gap-2 border bg-slate-50 border-slate-200 rounded w-full p-1",onClick:s=>s.stopPropagation(),onDoubleClick:s=>s.stopPropagation(),onMouseDown:s=>s.stopPropagation(),children:[p.jsxs("div",{className:"flex flex-row gap-2",children:[p.jsx(Sn,{icon:dr,to:"/$locale/apps/derivean/root/blueprint/$id/requirements",params:{locale:r,id:t}}),p.jsx(Sn,{icon:Wi,to:"/$locale/apps/derivean/root/blueprint/$id/production",params:{locale:r,id:t}}),p.jsx(Sn,{icon:oD,to:"/$locale/apps/derivean/root/blueprint/$id/edit",params:{locale:r,id:t}})]}),p.jsx("div",{children:p.jsx(lf,{target:p.jsx(am,{iconEnabled:mi,css:{base:["text-red-500"]}}),outside:!0,textTitle:p.jsx(re,{label:"Delete blueprint (modal)"}),css:{modal:["w-1/3"]},children:()=>{const s=kr([["Editor"]]);return p.jsx(ys,{callback:async()=>Ft.transaction().execute(async o=>o.deleteFrom("Blueprint").where("id","=",e.id).execute()),textContent:p.jsx(re,{label:"Delete blueprint (content)"}),textToast:"Delete blueprint",invalidator:s})}})})]})]}),p.jsx(Ii,{type:"source",position:Lt.Right,isConnectable:n,className:"w-4 h-4"})]})},BL=({nodeId:t})=>{const{fitView:e}=hm();return K.useEffect(()=>{t&&setTimeout(()=>{e({nodes:[{id:t}],duration:750,minZoom:1,maxZoom:1})},50)},[t]),null},oie=({data:t,zoomTo:e})=>{const n=kr([]),r=cn({async mutationFn({blueprintId:i,dependencyId:s}){return Ft.transaction().execute(async o=>o.insertInto("Blueprint_Dependency").values({id:Un(),blueprintId:i,dependencyId:s}).execute())},async onSuccess(){await n()}});return p.jsx("div",{className:"w-fit h-fit mx-auto border border-slate-300 rounded-md shadow-md m-8",children:p.jsx("div",{style:{width:"95vw",height:"85vh"},children:p.jsxs(vL,{nodes:t.nodes,edges:t.edges,onConnect:i=>{r.mutate({blueprintId:i.target,dependencyId:i.source})},fitView:!0,snapGrid:[16,16],elementsSelectable:!1,nodeTypes:K.useMemo(()=>({blueprint(i){return p.jsx(sie,{...i})}}),[]),edgeTypes:K.useMemo(()=>({dependency({id:i,sourceX:s,sourceY:o,targetX:l,targetY:c,sourcePosition:d,targetPosition:f,style:h={},markerEnd:b}){const{setEdges:x}=hm(),[_,N,I]=yN({sourceX:s,sourceY:o,sourcePosition:d,targetX:l,targetY:c,targetPosition:f}),O=kr([]),T=cn({async mutationFn({id:q}){return Ft.transaction().execute(async A=>{await A.deleteFrom("Blueprint_Dependency").where("id","=",q).execute()})},async onSuccess(){x(q=>q.filter(A=>A.id!==i)),await O()}});return p.jsxs(p.Fragment,{children:[p.jsx(mm,{path:_,markerEnd:b,style:h}),p.jsx(nre,{children:p.jsx("div",{className:fi("nodrag nopan",["flex","items-center","justify-center","cursor-pointer","bg-red-200","text-red-500","border","border-red-300","hover:border-red-600","hover:bg-red-300","hover:text-red-700","rounded-full","w-4","h-4","z-20"]),style:{position:"absolute",pointerEvents:"all",transformOrigin:"center",transform:`translate(-50%, -50%) translate(${N}px,${I}px)`},children:p.jsx(en,{icon:T.isPending?YQ:XF,onClick:()=>{T.mutate({id:i})}})})})]})}}),[]),children:[p.jsx(BL,{nodeId:e}),p.jsx(_L,{orientation:"horizontal",showInteractive:!1,showZoom:!1,children:p.jsx(lf,{target:p.jsx(am,{className:"react-flow__controls-button",iconEnabled:Nn}),outside:!1,textTitle:p.jsx(re,{label:"Create blueprint (modal)"}),css:{modal:["w-1/3"]},children:({close:i})=>{const s=kr([["Editor"]]),{locale:o}=_n({from:"/$locale"}),l=Gd();return p.jsx(Gv,{mutation:cn({async mutationFn(c){return kn.promise(Ft.transaction().execute(d=>d.insertInto("Blueprint").values({id:Un(),...c}).returningAll().executeTakeFirstOrThrow()),Ir("Create blueprint"))},async onSuccess(c){await s(),l({to:"/$locale/apps/derivean/root/editor",params:{locale:o},search:{zoomTo:c.id}}),i()}})})}})}),p.jsx(EL,{}),p.jsx(xL,{variant:Zo.Dots,gap:12,size:1})]})})})},zL=({graph:t,nodes:e,edges:n,size:r={width:344,height:36}})=>(t.setGraph({rankdir:"LR",nodesep:125,edgesep:65,ranksep:50}),e.forEach(i=>{t.setNode(i.id,{width:r.width,height:r.height})}),n.forEach(i=>{t.setEdge(i.source,i.target)}),lN.layout(t,{}),{nodes:e.map(i=>{const s=t.node(i.id);return{...i,targetPosition:"left",sourcePosition:"right",position:{x:s.x-r.width/2,y:s.y-r.height/2}}}),edges:n}),KE=rn("/$locale/apps/derivean/root/editor")({validateSearch:fr(G.object({zoomTo:G.string().optional()})),async loader({context:{kysely:t}}){const e=(await t.selectFrom("Blueprint").select(["id","name","cycles","sort"]).execute()).map(r=>({id:r.id,position:{x:0,y:0},data:r,type:"blueprint"})),n=(await t.selectFrom("Blueprint_Dependency").select(["id","blueprintId","dependencyId"]).execute()).map(({id:r,blueprintId:i,dependencyId:s})=>({id:r,source:s,target:i,type:"dependency"}));return zL({graph:new lN.graphlib.Graph().setDefaultEdgeLabel(()=>({})),nodes:[...e],edges:[...n]})},component(){const t=KE.useLoaderData(),{zoomTo:e}=KE.useSearch();return p.jsx(oie,{data:t,zoomTo:e})}}),GE=async({tx:t,userId:e})=>{const n=await t.selectFrom("Default_Inventory as di").select(["di.amount","di.resourceId","di.limit"]).limit(5e3).execute();await t.deleteFrom("User_Inventory").where("userId","=",e).execute();for await(const{amount:r,resourceId:i,limit:s}of n)t.insertInto("User_Inventory").values({id:Un(),userId:e,inventoryId:(await t.insertInto("Inventory").values({id:Un(),amount:r,resourceId:i,limit:s}).returning("id").executeTakeFirstOrThrow()).id}).execute()},aie=async({tx:t,userId:e})=>{await GE({tx:t,userId:e})},lie=()=>cn({mutationKey:["useRegisterMutation"],async mutationFn({login:t,name:e,password1:n}){return Ft.transaction().execute(async r=>{const i=Lb.parse(await r.insertInto("User").values({id:Un(),name:e,login:t,password:rF.hash(n)}).returning(["User.id","User.name","User.login"]).executeTakeFirstOrThrow());try{await aie({tx:r,userId:i.id})}catch(s){console.error(s)}return i})}}),uie=G.object({name:G.string().min(1),login:G.string().min(1),password1:G.string().min(1),password2:G.string().min(1)}).refine(t=>t.password1===t.password2,{message:"Passwords must match",path:["password1"]}),cie=({onSuccess:t})=>{const e=lie(),n=Ti({resolver:Oi(uie)}),r=Ci({isLoading:n.formState.isLoading,isSubmitting:n.formState.isSubmitting}).slots;return p.jsxs("form",{className:r.base(),onSubmit:n.handleSubmit(async i=>e.mutateAsync(i,{onSuccess:t,onError:s=>{D1({error:s,errors:[g1({error:s,schema:F1,onError:({data:o})=>{n.setError("root",{message:o.message})}})],onError:o=>{n.setError("root",{message:o.message})}})}}).catch(()=>{})),children:[p.jsx(hi,{variant:{highlight:!0},error:n.formState.errors.root}),p.jsx(Cn,{formState:n.formState,name:"name",label:p.jsx(re,{label:"Name (label)"}),children:p.jsx("input",{type:"text",className:r.input(),...n.register("name")})}),p.jsx(Cn,{formState:n.formState,name:"login",label:p.jsx(re,{label:"Login (label)"}),children:p.jsx("input",{type:"text",className:r.input(),...n.register("login")})}),p.jsx(Cn,{formState:n.formState,name:"password1",label:p.jsx(re,{label:"Password 1 (label)"}),children:p.jsx("input",{type:"password",className:r.input(),...n.register("password1")})}),p.jsx(Cn,{formState:n.formState,name:"password2",label:p.jsx(re,{label:"Password 2 (label)"}),children:p.jsx("input",{type:"password",className:r.input(),...n.register("password2")})}),p.jsx(Tn,{iconEnabled:"icon-[mdi--register-outline]",iconDisabled:"icon-[mdi--register-outline]",type:"submit",children:p.jsx(re,{label:"Register (submit)"})})]})},die=rn("/$locale/apps/derivean/public/register")({component:()=>{const t=Gd();return p.jsx("div",{className:fi(["flex","justify-center","h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:p.jsxs("div",{className:"flex flex-col bg-slate-100 p-20 w-1/2 m-10 drop-shadow-xl",children:[p.jsx("hr",{className:"my-12 h-0.5 border-t-0 bg-slate-300"}),p.jsx(cie,{onSuccess:async e=>{lm.set("session",e),await t({to:"/$locale/apps/derivean/game"})}})]})})}}),fie=rn("/$locale/apps/derivean/public/logout")({pendingComponent(){return p.jsx("div",{className:fi(["flex items-center justify-center h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:p.jsx(kD,{icon:nN,textTitle:p.jsx(re,{label:"Logout (label)"}),textMessage:p.jsx(re,{label:"Logout in progress..."}),css:{base:["p-4","bg-slate-200","rounded"]}})})},async loader({params:{locale:t}}){throw lm.remove("session"),Yv({to:"/$locale/apps/derivean/public/login",params:{locale:t}})}}),pie=()=>cn({mutationKey:["useLoginMutation"],async mutationFn({login:t,password:e}){return Ft.transaction().execute(async n=>{const r=await n.selectFrom("User as u").select(["u.id","u.login","u.name"]).where("u.login","=",t).where("u.password","=",rF.hash(e)).executeTakeFirstOrThrow();return{id:r.id,login:r.login,name:r.name}})}}),hie=G.object({login:G.string().min(1),password:G.string().min(1)}),mie=({onSuccess:t})=>{const{locale:e}=_n({from:"/$locale"}),n=pie(),r=Ti({resolver:Oi(hie)}),i=Ci({isLoading:r.formState.isLoading,isSubmitting:r.formState.isSubmitting}).slots;return p.jsxs("form",{className:i.base(),onSubmit:r.handleSubmit(async s=>n.mutateAsync(s,{onSuccess:t,onError:o=>{D1({error:o,errors:[g1({error:o,schema:F1,onError:({data:l})=>{r.setError("root",{message:l.message})}})],onError:l=>{r.setError("root",{message:l.message})}})}}).catch(()=>{})),children:[p.jsx(hi,{variant:{highlight:!0},error:r.formState.errors.root}),p.jsx(Cn,{formState:r.formState,name:"login",label:p.jsx(re,{label:"Login (label)"}),children:p.jsx("input",{type:"text",className:i.input(),...r.register("login")})}),p.jsx(Cn,{formState:r.formState,name:"password",label:p.jsx(re,{label:"Password (label)"}),children:p.jsx("input",{type:"password",className:i.input(),...r.register("password")})}),p.jsxs("div",{className:"flex flex-row justify-between gap-8",children:[p.jsx(Sn,{icon:"icon-[mdi--register-outline]",to:"/$locale/apps/derivean/public/register",params:{locale:e},children:p.jsx(re,{label:"Register (link)"})}),p.jsx(Tn,{iconEnabled:"icon-[uiw--login]",iconDisabled:"icon-[uiw--login]",type:"submit",children:p.jsx(re,{label:"Login (submit)"})})]})]})},gie=rn("/$locale/apps/derivean/public/login")({component:()=>{const t=Gd();return p.jsx("div",{className:fi(["flex","justify-center","h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:p.jsxs("div",{className:"flex flex-col bg-slate-100 p-20 w-1/2 m-10 drop-shadow-xl",children:[p.jsx("hr",{className:"my-12 h-0.5 border-t-0 bg-slate-300"}),p.jsx(mie,{onSuccess:async e=>{lm.set("session",e),await t({to:"/$locale/apps/derivean/game"})}})]})})}}),ZE="icon-[emojione-monotone--construction]",yie=async({blueprintId:t,userId:e})=>new Promise(n=>{setTimeout(async()=>Ft.transaction().execute(async r=>{const i=await r.selectFrom("Blueprint_Requirement as br").select(["br.resourceId","br.amount","br.passive"]).where("br.blueprintId","=",t).execute();for await(const{resourceId:l,amount:c,passive:d}of i){const f=await r.selectFrom("Inventory as i").innerJoin("User_Inventory as ui","ui.inventoryId","i.id").select(["i.id","i.amount"]).where("ui.userId","=",e).where("i.resourceId","=",l).where("i.amount",">=",c).executeTakeFirstOrThrow();d||await r.updateTable("Inventory").set({amount:f.amount-c}).where("id","=",f.id).execute()}const{count:s}=await r.selectFrom("Cycle as c").select(l=>l.fn.count("c.id").as("count")).executeTakeFirstOrThrow(),o=await r.selectFrom("Blueprint as b").select(["b.cycles"]).where("b.id","=",t).executeTakeFirstOrThrow();await r.insertInto("Construction").values({id:Un(),blueprintId:t,userId:e,cycle:0,from:s,to:s+o.cycles}).execute(),n(!0)}),RD)}),vie=({id:t,data:e,userId:n,isConnectable:r})=>{const i=kr([["Management"],["Building_Queue"],["Inventory"],["User_Inventory"]]),s=cn({async mutationFn({blueprintId:o}){return yie({blueprintId:o,userId:n})},async onSuccess(){await i()}});return p.jsxs("div",{className:"min-w-[14rem]",children:[p.jsx(Ii,{type:"target",position:Lt.Left,className:"w-4 h-4"}),p.jsxs("div",{className:"flex flex-col gap-2 items-start",children:[p.jsxs("div",{className:"flex flex-row items-center gap-2",children:[p.jsx(en,{icon:Nn,css:{base:["text-green-600"]}}),p.jsx("div",{className:"font-bold text-green-600",children:e.name})]}),p.jsx("div",{className:"flex flex-row items-center gap-2 border bg-slate-50 border-slate-200 rounded w-full p-1",onClick:o=>o.stopPropagation(),onDoubleClick:o=>o.stopPropagation(),onMouseDown:o=>o.stopPropagation(),children:p.jsx(Tn,{iconEnabled:ZE,iconDisabled:ZE,variant:{variant:"primary"},onClick:()=>{s.mutate({blueprintId:t})},css:{base:["w-full"]},loading:s.isPending})})]}),p.jsx(Ii,{type:"source",position:Lt.Right,isConnectable:r,className:"w-4 h-4"})]})},zj=({isConnectable:t})=>p.jsxs("div",{className:"min-w-[14rem]",children:[p.jsx(Ii,{type:"target",position:Lt.Left,className:"w-4 h-4"}),p.jsxs("div",{className:"flex flex-col gap-2 items-start",children:[p.jsxs("div",{className:"flex flex-row items-center gap-2",children:[p.jsx(en,{icon:Nn,css:{base:["text-slate-400"]}}),p.jsx("div",{className:"font-bold text-slate-400",children:p.jsx(re,{label:"Fog of War (label)"})})]}),p.jsx("div",{className:"flex flex-row items-center gap-2 border bg-slate-50 border-slate-200 rounded w-full p-1",onClick:e=>e.stopPropagation(),onDoubleClick:e=>e.stopPropagation(),onMouseDown:e=>e.stopPropagation(),children:p.jsx(re,{label:"Building unavailable (label)"})})]}),p.jsx(Ii,{type:"source",position:Lt.Right,isConnectable:t,className:"w-4 h-4"})]}),bie=({data:t,isConnectable:e})=>{const{locale:n}=_n({from:"/$locale"});return p.jsxs("div",{className:"w-[14rem]",children:[p.jsx(Ii,{type:"target",position:Lt.Left,className:"w-4 h-4"}),p.jsx("div",{className:"flex flex-row items-center gap-2",children:p.jsx(Sn,{to:"/$locale/apps/derivean/game/map",params:{locale:n},search:({blueprintId:r})=>({blueprintId:r,requirementsOf:t.id}),css:{base:["font-bold","text-amber-500","hover:text-amber-600","flex-grow"]},children:p.jsx(Tn,{iconEnabled:Nn,variant:{variant:"secondary"},css:{base:["w-full"]},children:t.name})})}),p.jsx(Ii,{type:"source",position:Lt.Right,isConnectable:e,className:"w-4 h-4"})]})},xie=yn({slot:{item:["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2"]},variant:{passive:{true:[]},missing:{true:[]}},match:[{if:{passive:!0},then:{item:["bg-purple-100","border-purple-300","text-purple-500"]}},{if:{passive:!1},then:{item:["bg-sky-100","border-sky-300","text-sky-500"]}},{if:{missing:!0},then:{item:["bg-amber-100","border-amber-300"]}}],defaults:{passive:!1,missing:!1}}),wie=({requirements:t,diff:e,variant:n,tva:r=xie,css:i,...s})=>{const o=r({...n,css:i}).slots;return p.jsx(ec,{items:t,render:({entity:l})=>{const c=e?.find(f=>f.resourceId===l.resourceId),d=c?.amount?c.amount-l.amount:-l.amount;return p.jsxs("div",{className:o.item({css:!e||d>=0?[]:["text-red-700","bg-red-100","border-red-300"],passive:l.passive}),children:[p.jsx("div",{children:l.name}),p.jsxs("div",{className:"text-md font-bold text-slate-500",children:["x",In({number:l.amount})]}),e?d>=0?p.jsx(en,{icon:"icon-[pajamas--check-sm]",css:{base:["text-emerald-600"]}}):p.jsxs("div",{className:"flex flex-row gao-2 items-center text-sm text-red-500",children:[p.jsx(en,{icon:"icon-[charm--cross]",css:{base:["text-red-500"]}}),"(",In({number:d}),")"]}):null]})},...s})},_ie=({cycles:t})=>p.jsxs("div",{className:fi(["flex","flex-row","items-center","gap-2"]),children:[p.jsx(en,{css:{base:["text-slate-400"]},icon:Ch}),p.jsx("div",{className:"font-bold text-md",children:In({number:t})})]}),Sie=({entity:t,userId:e,production:n,inventory:r})=>{const i=kr([["Management"],["Blueprint_Production"],["Production"],["Inventory"],["User_Inventory"]]),s=n.queue.find(d=>d.blueprintProductionId=n.id),o=n.withAvailableResources&&!n.isFull&&t.productionAvailable,l=cn({async mutationFn(){return Ft.transaction().execute(async d=>{if(n.buildingId)return qD({tx:d,userId:e,blueprintProductionId:n.id,buildingId:n.buildingId})})},async onSuccess(){await i()}}),c=cn({async mutationFn(){return Ft.transaction().execute(async d=>{if(n.buildingId)return await d.deleteFrom("Production_Queue").where("buildingId","=",n.buildingId).where("userId","=",e).execute(),d.insertInto("Production_Queue").values({id:Un(),userId:e,blueprintProductionId:n.id,buildingId:n.buildingId,count:0,limit:0,priority:100,paused:!1}).execute()})},async onSuccess(){await i()}});return p.jsxs("div",{className:fi(["flex","flex-col","gap-2","p-4","rounded-md","border","border-slate-300",o?["hover:bg-slate-50","hover:border-slate-400"]:void 0]),children:[p.jsxs("div",{className:fi(["flex","flex-row","flex-1","gap-2","items-center","justify-between"]),children:[p.jsxs("div",{className:fi(["flex","flex-row","gap-2","items-center"]),children:[p.jsx(Tn,{iconEnabled:n.queue.length>0?"icon-[bi--bag-check]":Wi,iconDisabled:n.queue.length>0?"icon-[bi--bag-check]":Wi,disabled:!o,variant:{variant:o||n.queue.length>0?"primary":"subtle"},css:{base:["px-8"]},loading:l.isPending,onClick:()=>l.mutate()}),n.name,p.jsxs(Ko,{children:["x",In({number:n.amount})]})]}),p.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[p.jsx(Tn,{iconEnabled:"icon-[hugeicons--queue-02]",iconDisabled:Wi,onClick:()=>{c.mutate()},disabled:n.inQueue,loading:c.isPending,variant:{variant:"subtle"}}),p.jsx(_ie,{cycles:n.cycles})]})]}),p.jsx("div",{className:"flex flex-row items-center gap-2",children:p.jsx(wie,{requirements:n.requirements,diff:r})}),s?p.jsx(cf,{variant:{size:"md"},value:100*s.cycle/(s.to-s.from)}):null]})},Eie=({entity:t,userId:e,inventory:n})=>p.jsx("div",{className:fi(["flex","flex-col","gap-2"]),children:p.jsx("div",{className:fi(["flex","flex-col","gap-2"]),children:t.production.length>0?t.production.map(r=>p.jsx(Sie,{entity:t,userId:e,production:r,inventory:n},`production-${r.id}-${r.blueprintId}`)):p.jsx(re,{label:"No production currently available (label)"})})}),Nie=({detail:t,data:e,userId:n,inventory:r})=>(_n({from:"/$locale"}),Yp({queryKey:["Management","producers",t.id,e],async queryFn(){return(await Ft.transaction().execute(i=>i.selectFrom("Blueprint as bl").distinct().innerJoin("Building as bg","bl.id","bg.blueprintId").innerJoin("Blueprint_Production as bp","bl.id","bp.blueprintId").select(["bl.id"]).where("bg.userId","=",n).where("bp.resourceId","in",i.selectFrom("Blueprint as bl2").innerJoin("Blueprint_Production as bp","bl2.id","bp.blueprintId").innerJoin("Blueprint_Production_Requirement as bpr","bp.id","bpr.blueprintProductionId").select(["bpr.resourceId"]).where("bl2.id","=",t.id)).where("bl.id","!=",t.id).execute())).map(({id:i})=>e.find(s=>s.id===i)).filter(Boolean)}}),p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx("div",{className:"flex gap-2 items-center justify-between shadow-md p-4",children:p.jsxs("div",{className:"flex items-center gap-2 font-bold",children:[p.jsx(en,{icon:Wi,css:{base:["text-slate-400"]}}),t.name]})}),p.jsx("div",{className:"max-h-full overflow-auto p-4 flex flex-col gap-4",children:p.jsx(Eie,{userId:n,inventory:r,entity:t})})]})),kie=({data:t,isConnectable:e})=>{const{locale:n}=_n({from:"/$locale"}),r=t.production.flatMap(({queue:i})=>i).sort((i,s)=>i.cycle-s.cycle)?.[0];return p.jsxs("div",{className:"min-w-[18rem]",children:[p.jsx(Ii,{type:"target",position:Lt.Left,className:"w-4 h-4"}),p.jsxs("div",{className:"flex flex-col gap-2 items-start w-full",children:[p.jsx("div",{className:"flex flex-row items-center justify-between gap-1 w-full",children:p.jsx(Sn,{to:"/$locale/apps/derivean/game/map",params:{locale:n},search:({requirementsOf:i})=>({blueprintId:t.id,requirementsOf:i}),css:{base:["font-bold","flex-grow"]},children:p.jsx(Tn,{variant:{variant:"primary"},iconEnabled:Ba,css:{base:["w-full"]},children:t.name})})}),r?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex flex-row items-center gap-1 flex-1",children:[p.jsx(en,{icon:"icon-[mingcute--arrow-right-line]",css:{base:["text-slate-400"]}}),p.jsx("div",{className:"text-xs text-slate-400",children:r.name})]}),p.jsx(cf,{value:100*r.cycle/(r.to-r.from),variant:{size:"sm"}})]}):null]}),p.jsx(Ii,{type:"source",position:Lt.Right,isConnectable:e,className:"w-4 h-4"})]})},Iie=({data:t,isConnectable:e})=>{const n=t.construction?.[0];return p.jsxs("div",{className:"min-w-[14rem]",children:[p.jsx(Ii,{type:"target",position:Lt.Left,className:"w-4 h-4"}),p.jsxs("div",{className:"flex flex-col gap-2 items-start",children:[p.jsxs("div",{className:"flex flex-row items-center gap-2",children:[p.jsx(en,{icon:ZE,css:{base:["text-slate-400"]}}),p.jsx("div",{className:"font-bold",children:t.name})]}),p.jsx("div",{className:"flex flex-row items-center gap-2 border bg-slate-50 border-slate-200 rounded w-full p-1",onClick:r=>r.stopPropagation(),onDoubleClick:r=>r.stopPropagation(),onMouseDown:r=>r.stopPropagation(),children:n?p.jsx(cf,{variant:{size:"lg"},value:100*n.cycle/(n.to-n.from)}):null})]}),p.jsx(Ii,{type:"source",position:Lt.Right,isConnectable:e,className:"w-4 h-4"})]})},Cie=yn({slot:{item:["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2"]},variant:{passive:{true:[]},missing:{true:[]}},match:[{if:{passive:!0},then:{item:["bg-purple-100","border-purple-300","text-purple-500"]}},{if:{passive:!1},then:{item:["bg-sky-100","border-sky-300","text-sky-500"]}},{if:{missing:!0},then:{item:["bg-amber-100","border-amber-300"]}}],defaults:{passive:!1,missing:!1}}),pf=({requirements:t,diff:e,variant:n,tva:r=Cie,css:i,...s})=>{const o=r({...n,css:i}).slots;return p.jsx(ec,{items:t,render:({entity:l})=>{const c=e?.find(f=>f.resourceId===l.resourceId),d=c?.amount?c.amount-l.amount:-l.amount;return p.jsxs("div",{className:o.item({css:!e||d>=0?[]:["text-red-700","bg-red-100","border-red-300"],passive:l.passive}),children:[p.jsx("div",{children:l.name}),p.jsxs("div",{className:"text-md font-bold text-slate-500",children:["x",In({number:l.amount})]}),e?d>=0?p.jsx(en,{icon:"icon-[pajamas--check-sm]",css:{base:["text-emerald-600"]}}):p.jsxs("div",{className:"flex flex-row gao-2 items-center text-sm text-red-500",children:[p.jsx(en,{icon:"icon-[charm--cross]",css:{base:["text-red-500"]}}),"(",In({number:d}),")"]}):null]})},...s})},Tie=({userId:t,blueprintId:e,requirementsOf:n,inventory:r,graph:i})=>{const{locale:s}=_n({from:"/$locale"}),o=Gd(),l=K.useMemo(()=>i.nodes.find(({id:f})=>f===e)?.data,[i,e]),c=K.useMemo(()=>i.nodes.find(({id:f})=>f===n)?.data,[i,n]),d=K.useMemo(()=>i.nodes.map(({data:f})=>f),[i]);return p.jsxs("div",{className:"flex flex-row gap-2",children:[p.jsx("div",{className:"flex-grow h-[calc(100vh-6rem)] border border-slate-300 rounded-md shadow-md",children:p.jsxs(vL,{className:"w-full h-full relative",nodes:i.nodes,edges:i.edges,onPaneClick:()=>{o({to:"/$locale/apps/derivean/game/map",params:{locale:s}})},fitView:!0,snapGrid:[16,16],elementsSelectable:!1,nodeTypes:K.useMemo(()=>({building(f){return p.jsx(kie,{...f})},construction(f){return p.jsx(Iie,{...f})},"blueprint-available"(f){return p.jsx(vie,{userId:t,...f})},"blueprint-missing-resources"(f){return p.jsx(bie,{...f})},"blueprint-missing-buildings"(f){return p.jsx(zj,{...f})},"blueprint-unavailable"(f){return p.jsx(zj,{...f})}}),[t]),children:[p.jsx(BL,{nodeId:l?.id}),p.jsx(_L,{orientation:"horizontal",showInteractive:!1,showZoom:!0}),p.jsx(EL,{}),p.jsx(xL,{variant:Zo.Dots,gap:12,size:1}),c?p.jsxs("div",{className:"react-flow__panel w-4/10 border bg-white border-slate-300 rounded-md shadow-md p-4 absolute left-1 top-1",children:[p.jsxs("div",{className:"flex flex-row items-center gap-2",children:[p.jsx(en,{icon:c.building?Ba:Nn,css:{base:["text-slate-400"]}}),p.jsx("div",{className:"font-bold",children:c.name})]}),c.construction.length>0?p.jsx(re,{label:"Construction in progress (label)"}):c.building?p.jsx(Sn,{to:"/$locale/apps/derivean/game/map",params:{locale:s},search:{blueprintId:c.id},children:p.jsx(re,{label:"Construction complete (label)"})}):p.jsx(pf,{requirements:c.requirements,diff:r})]}):null]})}),l?p.jsx("div",{className:"w-4/12 border bg-white border-slate-300 rounded-md shadow-md p-4",children:p.jsx(Nie,{detail:l,data:d,userId:t,inventory:r})}):null]})},Ua=Qre({shape:G.object({dependencyId:G.string().min(1)}),filter:ps.merge(G.object({blueprintId:G.string().optional(),dependencyId:G.string().optional()}))}),lc=Yre({shape:G.object({resourceId:G.string().min(1),amount:Kl(),passive:G.boolean()}),filter:ps.merge(G.object({blueprintId:G.string().optional(),resourceId:G.string().optional()}))}),Oie=Vi.merge(G.object({name:G.string().min(1),cycles:G.number().int().nonnegative(),withAvailableBuildings:Di(),withAvailableResources:Di(),productionAvailable:Di(),building:ZH(G.object({id:G.string().min(1)})).nullish(),construction:Zr(G.object({id:G.string().min(1),from:G.number().int().nonnegative(),to:G.number().int().nonnegative(),cycle:G.number().int().nonnegative()})),requirements:Zr(lc.entity.merge(G.object({name:G.string().min(1)}))),dependencies:Zr(Ua.entity.merge(G.object({name:G.string().min(1)}))),production:Zr(G.object({id:G.string().min(1),name:G.string().min(1),amount:G.number().nonnegative(),cycles:G.number().int().nonnegative(),blueprintId:G.string().min(1),resourceId:G.string().min(1),buildingId:G.string().nullish(),isFull:Di(),inQueue:Di(),withAvailableResources:Di(),requirements:G.array(G.object({id:G.string().min(1),amount:G.number().nonnegative(),passive:Di(),resourceId:G.string().min(1),name:G.string().min(1)})),queue:G.array(G.object({id:G.string().min(1),blueprintProductionId:G.string().min(1),name:G.string().min(1),from:G.number().int().nonnegative(),to:G.number().int().nonnegative(),cycle:G.number().int().nonnegative()}))})),producers:Zr(G.any()).nullish()})),JE=rn("/$locale/apps/derivean/game/map")({validateSearch:fr(G.object({blueprintId:G.string().optional(),requirementsOf:G.string().optional()})),loaderDeps({search:{blueprintId:t,requirementsOf:e}}){return{blueprintId:t,requirementsOf:e}},async loader({context:{queryClient:t,kysely:e,session:n}}){const r=await n(),i=await t.ensureQueryData({queryKey:["Management",r.id],async queryFn(){return await e.transaction().execute(async o=>await iN({select:o.selectFrom(o.selectFrom("Blueprint as bl").leftJoin("Building as bg","bg.blueprintId","bl.id").select(["bl.id","bl.name","bl.cycles","bl.sort",c=>c.case().when(c.not(c.exists(c.selectFrom("Blueprint_Requirement as br").select(c.lit(1).as("one")).whereRef("br.blueprintId","=","bl.id").where(d=>d.not(d.exists(d.selectFrom("Inventory as i").select(d.lit(1).as("one")).where("i.id","in",d.selectFrom("User_Inventory").select("inventoryId").where("userId","=",r.id)).whereRef("i.resourceId","=","br.resourceId").whereRef("i.amount",">=","br.amount"))))))).then(c.lit(!0)).else(c.lit(!1)).end().as("withAvailableResources"),c=>c.case().when(c.not(c.exists(c.selectFrom("Blueprint_Dependency as bd").select(c.lit(1).as("one")).whereRef("bd.blueprintId","=","bl.id").where(d=>d.not(d.exists(d.selectFrom("Building as b").select(d.lit(1).as("one")).where("b.userId","=",r.id).whereRef("b.blueprintId","=","bd.dependencyId"))))))).then(c.lit(!0)).else(c.lit(!1)).end().as("withAvailableBuildings"),c=>c.selectFrom("Building as bg").select(d=>Ia.jsonObject({id:d.ref("bg.id")}).as("building")).whereRef("bg.blueprintId","=","bl.id").where("bg.userId","=",r.id).as("building"),c=>c.case().when(c.exists(c.selectFrom("Production as p").select(c.lit(1).as("one")).where("p.blueprintProductionId","in",c.selectFrom("Blueprint_Production").select("id").whereRef("blueprintId","=","bl.id")).groupBy("p.blueprintProductionId").having(d=>d(d.fn.count("p.id"),">=",0)))).then(c.lit(!1)).else(c.lit(!0)).end().as("productionAvailable"),c=>c.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(d=>Ia.jsonGroupArray({id:d.ref("br.id"),amount:d.ref("br.amount"),passive:d.ref("br.passive"),resourceId:d.ref("br.resourceId"),blueprintId:d.ref("br.blueprintId"),name:d.ref("r.name")}).as("requirements")).whereRef("br.blueprintId","=","bl.id").orderBy("r.name","asc").as("requirements"),c=>c.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as bl2","bl2.id","bd.dependencyId").select(d=>Ia.jsonGroupArray({id:d.ref("bd.id"),dependencyId:d.ref("bd.dependencyId"),blueprintId:d.ref("bd.blueprintId"),name:d.ref("bl2.name")}).as("requirements")).whereRef("bd.blueprintId","=","bl.id").orderBy("bl2.name","asc").as("dependencies"),c=>c.selectFrom("Construction as c").innerJoin("Blueprint as bl2","bl2.id","c.blueprintId").select(d=>Ia.jsonGroupArray({id:d.ref("c.id"),cycle:d.ref("c.cycle"),from:d.ref("c.from"),to:d.ref("c.to"),name:d.ref("bl2.name")}).as("requirements")).whereRef("c.blueprintId","=","bl.id").where("c.userId","=",r.id).orderBy("bl2.name","asc").as("construction"),c=>c.selectFrom("Blueprint_Production as bp").innerJoin("Resource as r","r.id","bp.resourceId").leftJoin("Building as b",d=>d.onRef("b.blueprintId","=","bp.blueprintId").on("b.userId","=",r.id)).where(d=>d.not(d.exists(d.selectFrom("Blueprint_Production_Dependency as bpd").select("bpd.blueprintProductionId").whereRef("bpd.blueprintProductionId","=","bp.id").where(f=>f.not(f.exists(f.selectFrom("Building as b").select("b.blueprintId").where("b.userId","=",r.id).whereRef("b.blueprintId","=","bpd.blueprintId"))))))).where(d=>d.not(d.exists(d.selectFrom("Blueprint_Production_Resource as bpr").select("bpr.blueprintProductionId").whereRef("bpr.blueprintProductionId","=","bp.id").where(f=>f.not(f.exists(f.selectFrom("Inventory as i").select("i.resourceId").where("i.id","in",f.selectFrom("User_Inventory").select("inventoryId").where("userId","=",r.id)).whereRef("i.resourceId","=","bpr.resourceId").whereRef("i.amount",">=","bpr.amount"))))))).select(d=>Ia.jsonGroupArray({id:d.ref("bp.id"),amount:d.ref("bp.amount"),cycles:d.ref("bp.cycles"),buildingId:d.ref("b.id"),blueprintId:d.ref("bp.blueprintId"),resourceId:d.ref("bp.resourceId"),name:d.ref("r.name"),isFull:d.case().when(d.exists(d.selectFrom("Production as p").select(d.lit(1).as("one")).whereRef("p.blueprintProductionId","=","bp.id").groupBy("p.blueprintProductionId").having(f=>f(f.fn.count("p.id"),">=",0)))).then(d.lit(!0)).else(d.lit(!1)).end(),inQueue:d.case().when(d.exists(d.selectFrom("Production_Queue as pq").select(d.lit(1).as("one")).whereRef("pq.blueprintProductionId","=","bp.id").groupBy("pq.blueprintProductionId").having(f=>f(f.fn.count("pq.id"),">=",0)))).then(d.lit(!0)).else(d.lit(!1)).end(),withAvailableResources:d.case().when(d.not(d.exists(d.selectFrom("Blueprint_Production_Requirement as bpr").select(d.lit(1).as("one")).whereRef("bpr.blueprintProductionId","=","bp.id").where(f=>f.not(f.exists(f.selectFrom("Inventory as i").select(f.lit(1).as("one")).where("i.id","in",f.selectFrom("User_Inventory").select("inventoryId").where("userId","=",r.id)).whereRef("i.resourceId","=","bpr.resourceId").whereRef("i.amount",">=","bpr.amount"))))))).then(d.lit(!0)).else(d.lit(!1)).end(),requirements:d.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r2","r2.id","bpr.resourceId").select([f=>Ia.jsonGroupArray({id:f.ref("bpr.id"),amount:f.ref("bpr.amount"),passive:f.ref("bpr.passive"),name:f.ref("r2.name"),blueprintId:f.ref("bp.id"),resourceId:f.ref("bpr.resourceId")}).as("requirements")]).whereRef("bpr.blueprintProductionId","=","bp.id"),queue:d.selectFrom("Production as p").innerJoin("Blueprint_Production as bp2","p.blueprintProductionId","bp2.id").innerJoin("Resource as r2","r2.id","bp.resourceId").select(f=>Ia.jsonGroupArray({id:f.ref("p.id"),name:f.ref("r2.name"),from:f.ref("p.from"),to:f.ref("p.to"),cycle:f.ref("p.cycle"),blueprintProductionId:f.ref("p.blueprintProductionId")}).as("requirements")).whereRef("p.blueprintProductionId","=","bp.id").where("p.id","in",f=>f.selectFrom("Production").select("id").where("userId","=",r.id))}).as("production")).whereRef("bp.blueprintId","=","bl.id").where(d=>d.or([d("bp.resourceId","in",d.selectFrom(d.selectFrom("Blueprint_Requirement as br").innerJoin("Blueprint as bl2","bl2.id","br.blueprintId").select(["br.resourceId",f=>f.case().when(f.not(f.exists(f.selectFrom("Blueprint_Dependency as bd").select(f.lit(1).as("one")).whereRef("bd.blueprintId","=","bl2.id").where(h=>h.not(h.exists(h.selectFrom("Building as b").select(h.lit(1).as("one")).where("b.userId","=",r.id).whereRef("b.blueprintId","=","bd.dependencyId"))))))).then(f.lit(!0)).else(f.lit(!1)).end().as("withAvailableBuildings"),f=>f.case().when(f.not(f.exists(f.selectFrom("Blueprint_Requirement as br").select(f.lit(1).as("one")).whereRef("br.blueprintId","=","bl2.id").where(h=>h.not(h.exists(h.selectFrom("Inventory as i").select(h.lit(1).as("one")).where("i.id","in",h.selectFrom("User_Inventory").select("inventoryId").where("userId","=",r.id)).whereRef("i.resourceId","=","br.resourceId").whereRef("i.amount",">=","br.amount"))))))).then(f.lit(!0)).else(f.lit(!1)).end().as("withAvailableResources")]).where("br.blueprintId","not in",d.selectFrom("Building as bg2").where("bg2.userId","=",r.id).select("bg2.blueprintId")).where("br.blueprintId","not in",d.selectFrom("Construction as c").where("c.userId","=",r.id).select("c.blueprintId")).where(f=>{const h=o.selectFrom("Inventory as i").innerJoin("User_Inventory as ui","ui.inventoryId","i.id").select("i.amount").where("ui.userId","=",r.id).where("i.resourceId","=","br.resourceId");return f.or([f("br.amount",">",h),f(h,"is",null)])}).as("resources")).select("resources.resourceId").where("resources.withAvailableBuildings","=",!0).where("resources.withAvailableResources","=",!1)),d("bp.resourceId","in",d.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Blueprint_Production as bp","bp.id","bpr.blueprintProductionId").where("bp.blueprintId","in",d.selectFrom("Building as bg2").select("bg2.blueprintId").where("bg2.userId","=",r.id)).select(["bpr.resourceId"]))])).orderBy("r.name","asc").as("production")]).where("bl.id","not in",o.selectFrom("Blueprint_Conflict as bc").select("bc.conflictId").where("bc.blueprintId","in",o.selectFrom("Building as bg").select("bg.blueprintId").where("bg.userId","=",r.id))).where("bl.id","not in",o.selectFrom("Blueprint_Conflict as bc").select("bc.conflictId").where("bc.blueprintId","in",o.selectFrom("Construction as c").select("c.blueprintId").where("c.userId","=",r.id))).as("blueprint")).selectAll().where("withAvailableBuildings","=",!0).orderBy("sort","asc").orderBy("name","asc"),query({select:c,where:d}){let f=c;if(d?.fulltext){const h=`%${d.fulltext}%`.toLowerCase();f=f.where(b=>b.or([b("id","like",h),b("name","like",h),b("id","in",b.selectFrom("Blueprint_Production as bp").innerJoin("Resource as r","r.id","bp.resourceId").select("bp.blueprintId").where(x=>x.or([x("r.name","like",h)])))]))}return f},output:Oie,cursor:{page:0,size:250}}))}});return{graph:zL({graph:new lN.graphlib.Graph().setDefaultEdgeLabel(()=>({})),nodes:i.map(s=>{let o="blueprint";return s.construction?.[0]?o="construction":s.building?o="building":s.withAvailableResources&&s.withAvailableBuildings?o="blueprint-available":s.withAvailableResources&&!s.withAvailableBuildings?o="blueprint-missing-buildings":s.withAvailableBuildings&&!s.withAvailableResources?o="blueprint-missing-resources":!s.withAvailableBuildings&&!s.withAvailableResources&&(o="blueprint-unavailable"),{id:s.id,data:s,position:{x:0,y:0},type:o}}),edges:(await e.selectFrom("Blueprint_Dependency").select(["id","blueprintId","dependencyId"]).execute()).map(({id:s,blueprintId:o,dependencyId:l})=>({id:s,source:l,target:o}))}),inventory:await e.selectFrom("Inventory as i").innerJoin("User_Inventory as ui","ui.inventoryId","i.id").select(["i.id","i.amount","i.resourceId","i.limit"]).where("ui.userId","=",r.id).execute()}},component(){const{graph:t,inventory:e}=JE.useLoaderData(),{blueprintId:n,requirementsOf:r}=JE.useSearch(),{session:i}=rc({from:"/$locale/apps/derivean/game"});return p.jsx(Tie,{graph:t,userId:i.id,inventory:e,blueprintId:n,requirementsOf:r})}}),Yg=Ar(),qie=[Yg({name:"name",header(){return p.jsx(re,{label:"Resource name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceId",t.resourceId)}},size:18}),Yg({name:"amount",header(){return p.jsx(re,{label:"Amount (label)"})},render({value:t}){return In({number:t})},size:18}),Yg({name:"limit",header(){return p.jsx(re,{label:"Inventory limit (label)"})},render({value:t}){return In({number:t})},size:14}),Yg({name:"storage",header(){return p.jsx(re,{label:"Storage (label)"})},render({data:t}){return p.jsx(cf,{value:100*t.amount/t.limit})},size:24})],Rie=({table:t,...e})=>p.jsx(Rr,{table:jr({...t,columns:qie}),...e}),qN=tie({shape:G.object({resourceId:G.string().min(1),amount:Kl(),limit:Kl()}),filter:ps.merge(G.object({resourceId:G.string().optional()}))}),Ty=rn("/$locale/apps/derivean/game/inventory")({validateSearch:fr(qr(qN)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{kysely:t,session:e},deps:{filter:n,cursor:r}}){const i=await e();return t.transaction().execute(s=>sr({select:s.selectFrom("Inventory as i").innerJoin("Resource as r","r.id","i.resourceId").selectAll("i").select("r.name").where("i.id","in",s.selectFrom("User_Inventory as ui").select("ui.inventoryId").where("ui.userId","=",i.id)).orderBy("r.name"),query({select:o,where:l}){let c=o;if(l?.id&&(c=c.where("i.id","=",l.id)),l?.idIn&&(c=c.where("i.id","in",l.idIn)),l?.fulltext){const d=`%${l.fulltext}%`.toLowerCase();c=c.where(f=>f.or([f("i.id","like",`%${d}%`),f("r.id","like",`%${d}%`),f("r.name","like",`%${d}%`),f("r.id","in",f.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(h=>h.or([h("t.code","like",d),h("t.label","like",d),h("t.group","like",d)])))]))}return c},output:G.object({id:G.string().min(1),name:G.string().min(1),resourceId:G.string().min(1),amount:G.number().nonnegative(),limit:G.number().nonnegative()}),filter:n,cursor:r}))},component(){const{data:t,count:e}=Ty.useLoaderData(),{filter:n,cursor:r}=Ty.useSearch(),i=Ty.useNavigate(),{tva:s}=ir({from:"__root__"}),o=s().slots;return p.jsx("div",{className:o.base(),children:p.jsx(Rie,{table:{data:t,filter:{value:n,set:Tr(i)}},fulltext:{value:n?.fulltext,set:Or(i)},cursor:{count:e,cursor:r,textTotal:p.jsx(re,{label:"Number of items"}),...Cr(i)}})})}}),WL=rn("/$locale/apps/derivean/db/schema")({async loader({context:{kysely:t}}){return{tables:await t.introspection.getTables()}},component(){const{tables:t}=WL.useLoaderData(),e=({dataType:i,isNullable:s})=>{const o=i.toLowerCase();let l=`z.never({message: '${i}'})`;switch(o){case"integer":{l="z.number().int()";break}case"float4":{l="z.number()";break}case"datetime":{l="z.string()";break}case"boolean":{l="withBoolSchema()";break}}return o.startsWith("varchar")&&(l=`z.string()${s?"":".min(1)"}`),`
// ${i} / ${s?"nullable":"not nullable"}
${l}${s?".nullish()":""}
`},n=t.map(i=>{const s=i.name.replaceAll("_","");return`
export const with${s}Schema = <
    TShapeSchema extends ShapeSchema,
    TFilterSchema extends FilterSchema,
>({
    shape,
    filter,
}: {
    shape: TShapeSchema;
    filter: TFilterSchema;
}) => {
    return withSourceSchema({
        entity: IdentitySchema.merge(z.object({
                ${i.columns.filter(({name:o})=>o!=="id").map(o=>`
    "${o.name}": ${e(o)}
        `.trim()).join(`,
			`)},
        })),
        shape,
        filter,
        sort: [${i.columns.map(o=>`"${o.name}"`).join(", ")}],
    });
}

export type ${s}Entity = ReturnType<typeof with${s}Schema>['~entity'];
            `.trim()}),r=t.map(i=>{const s=i.name.replaceAll("_","");return`${i.name}: ${s}Entity;`});return p.jsxs("pre",{children:[`
import {
    IdentitySchema,
    withSourceSchema,
    type FilterSchema,
    type ShapeSchema,
    withBoolSchema,
} from "@use-pico/common";
import { z } from "zod";
            `.trim(),`

${n.join(`

`)}`,`

export interface Database {
    ${r.join(`
	`)}
}
                `]})}}),Wj=Ar(),jie=[Wj({name:"name",header(){return p.jsx(re,{label:"User name (label)"})},render({data:t,value:e}){const{locale:n}=_n({from:"/$locale"});return p.jsx(Sn,{to:"/$locale/apps/derivean/root/user/$id/view",params:{locale:n,id:t.id},children:e})},size:14}),Wj({name:"login",header(){return p.jsx(re,{label:"User login (label)"})},render({value:t}){return t},size:14})],Aie=({table:t,...e})=>{const n=kr([["Management"],["User_Inventory"]]),r=cn({async mutationFn({userId:s}){return Ft.transaction().execute(o=>GE({tx:o,userId:s}))},async onSuccess(){await n()}}),i=cn({async mutationFn({userId:s}){return Ft.transaction().execute(async o=>{await GE({tx:o,userId:s}),await o.deleteFrom("Building").where("userId","=",s).execute(),await o.deleteFrom("Production").where("userId","=",s).execute(),await o.deleteFrom("Construction").where("userId","=",s).execute(),await o.deleteFrom("Cycle").where("userId","=",s).execute()})},async onSuccess(){await n()}});return p.jsx(Rr,{table:jr({...t,columns:jie}),action:{row({data:s}){return p.jsxs(Xn,{children:[p.jsx(pE,{icon:na,onClick:()=>{r.mutateAsync({userId:s.id})},children:p.jsx(re,{label:"Apply default inventory (menu)"})}),p.jsx(pE,{icon:mi,onClick:()=>{i.mutateAsync({userId:s.id})},children:p.jsx(re,{label:"Reset game (menu)"})})]})}},...e})},Pie=iie({shape:G.object({name:G.string().min(1),login:G.string().min(1),password:G.string().min(1)}),filter:ps.merge(G.object({login:G.string().optional(),password:G.string().optional()}))}),Oy=rn("/$locale/apps/derivean/root/user/list")({validateSearch:fr(qr(Pie)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return t.ensureQueryData({queryKey:["User","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(i=>sr({select:i.selectFrom("User as u").select(["u.id","u.name","u.login"]),output:G.object({id:G.string().min(1),name:G.string().min(1),login:G.string().min(1)}),filter:n,cursor:r}))}})},component:()=>{const{data:t,count:e}=Oy.useLoaderData(),{filter:n,cursor:r,selection:i}=Oy.useSearch(),s=Oy.useNavigate(),{tva:o}=ir({from:"__root__"}),l=o().slots;return p.jsx("div",{className:l.base(),children:p.jsx(Aie,{table:{data:t,filter:{value:n,set:Tr(s)},selection:{type:"multi",value:i,set:gs(s)}},fulltext:{value:n?.fulltext,set:Or(s)},cursor:{count:e,cursor:r,textTotal:p.jsx(re,{label:"Number of users (label)"}),...Cr(s)}})})}}),Fie=({entity:t,...e})=>{const{locale:n}=_n({from:"/$locale"});return p.jsxs(Xl,{...e,children:[p.jsx(Mn,{icon:rN,to:"/$locale/apps/derivean/root/user/$id/view",params:{locale:n,id:t.id},children:p.jsx(re,{label:"View detail (menu)"})}),p.jsx(Mn,{icon:Ba,to:"/$locale/apps/derivean/root/user/$id/building/list",params:{locale:n,id:t.id},children:p.jsx(re,{label:"Building list (menu)"})}),p.jsx(Mn,{icon:na,to:"/$locale/apps/derivean/root/user/$id/inventory",params:{locale:n,id:t.id},children:p.jsx(re,{label:"Inventory (menu)"})})]})},Die=t=>{const{locale:e}=_n({from:"/$locale"});return p.jsx(uf,{title:({entity:n})=>p.jsx(ff,{icon:rN,title:n.name}),actions:()=>p.jsx(p.Fragment,{children:p.jsx(Sn,{icon:Ab,to:"/$locale/apps/derivean/root/user/list",params:{locale:e},children:p.jsx(re,{label:"User list (label)"})})}),...t})},UL=rn("/$locale/apps/derivean/root/user/$id")({async loader({context:{kysely:t},params:{id:e}}){return t.transaction().execute(async n=>({entity:await df({select:n.selectFrom("User as u").select(["u.id","u.name"]).where("u.id","=",e),output:G.object({id:G.string().min(1),name:G.string().min(1)})})}))},component(){const{tva:t}=ir({from:"__root__"}),{entity:e}=UL.useLoaderData(),n=t().slots;return p.jsxs("div",{className:n.base(),children:[p.jsx(Die,{entity:e}),p.jsx(Fie,{entity:e}),p.jsx(qo,{})]})}}),ym=rie({shape:G.object({code:G.string().min(1),label:G.string().min(1),group:G.string().nullish(),sort:vv()}),filter:ps.merge(G.object({code:G.string().optional(),group:G.string().optional()}))}),Uj=({mutation:t,defaultValues:e,variant:n,tva:r=Ci,css:i})=>{const s=Ti({resolver:Oi(ym.shape),defaultValues:{sort:0,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return p.jsxs("form",{className:o.base(),onSubmit:ms({form:s,mutation:t}),children:[p.jsx(hi,{variant:{highlight:!0},error:s.formState.errors.root}),p.jsx(Cn,{formState:s.formState,name:"code",label:p.jsx(re,{label:"Tag code (label)"}),required:!0,children:p.jsx("input",{type:"text",className:o.input(),...s.register("code")})}),p.jsx(Cn,{formState:s.formState,name:"label",label:p.jsx(re,{label:"Tag label (label)"}),required:!0,children:p.jsx("input",{type:"text",className:o.input(),...s.register("label")})}),p.jsx(Cn,{formState:s.formState,name:"group",label:p.jsx(re,{label:"Tag group (label)"}),children:p.jsx("input",{type:"text",className:o.input(),...s.register("group")})}),p.jsx(Cn,{formState:s.formState,name:"sort",label:p.jsx(re,{label:"Tag sort (label)"}),children:p.jsx("input",{type:"number",className:o.input(),...s.register("sort")})}),p.jsx("div",{className:"flex flex-row justify-between gap-8",children:p.jsx(Tn,{iconEnabled:kh,type:"submit",children:p.jsx(re,{label:"Save (submit)"})})})]})},wS=Ar(),Lie=[wS({name:"label",header(){return p.jsx(re,{label:"Tag label (label)"})},render({value:t}){return t},size:14}),wS({name:"code",header(){return p.jsx(re,{label:"Tag code (label)"})},render({value:t}){return t},size:14}),wS({name:"group",header(){return p.jsx(re,{label:"Tag group (label)"})},render({value:t}){return t},filter:{path:"group",onFilter({data:t,filter:e}){e.shallow("group",t.group)}},size:24})],VL=({group:t,table:e,...n})=>{const r=kr([["Tag"],["Resource"]]);return p.jsx(Rr,{table:jr({...e,columns:Lie}),action:{table(){return p.jsx(Xn,{children:p.jsx(xn,{label:p.jsx(re,{label:"Create tag (menu)"}),textTitle:p.jsx(re,{label:"Create tag (modal)"}),icon:kh,children:p.jsx(Uj,{defaultValues:{group:t},mutation:cn({async mutationFn(i){return kn.promise(Ft.transaction().execute(s=>s.insertInto("Tag").values({id:Un(),...i}).returningAll().executeTakeFirstOrThrow()),Ir("Create tag"))},async onSuccess(){await r()}})})})})},row({data:i}){return p.jsxs(Xn,{children:[p.jsx(xn,{label:p.jsx(re,{label:"Edit (menu)"}),textTitle:p.jsx(re,{label:"Edit tag (modal)"}),icon:kh,children:p.jsx(Uj,{defaultValues:{group:t,...i},mutation:cn({async mutationFn(s){return kn.promise(Ft.transaction().execute(o=>o.updateTable("Tag").set(s).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),Ir("Edit tag"))},async onSuccess(){await r()}})})}),p.jsx(xn,{icon:mi,label:p.jsx(re,{label:"Delete (menu)"}),textTitle:p.jsx(re,{label:"Delete tag (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:p.jsx(ys,{callback:async()=>{await Ft.transaction().execute(s=>s.deleteFrom("Tag").where("id","=",i.id).execute())},textContent:p.jsx(re,{label:"Tag delete (content)"}),textToast:"Tag delete",invalidator:r})})]})}},...n})},qy=rn("/$locale/apps/derivean/root/tag/list")({validateSearch:fr(qr(ym)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return t.ensureQueryData({queryKey:["Tag","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async i=>sr({select:i.selectFrom("Tag as t").select(["t.id","t.code","t.label","t.group","t.sort"]).orderBy("t.sort","desc"),output:G.object({id:G.string().min(1),code:G.string().min(1),label:G.string().min(1),group:G.string().nullish(),sort:G.number().int().nonnegative()}),filter:n,cursor:r}))}})},component:()=>{const{data:t,count:e}=qy.useLoaderData(),{filter:n,cursor:r,selection:i}=qy.useSearch(),s=qy.useNavigate(),{tva:o}=ir({from:"__root__"}),l=o().slots;return p.jsx("div",{className:l.base(),children:p.jsx(VL,{table:{data:t,filter:{value:n,set:Tr(s)},selection:{type:"multi",value:i,set:gs(s)}},fulltext:{value:n?.fulltext,set:Or(s)},cursor:{count:e,cursor:r,textTotal:p.jsx(re,{label:"Number of items"}),...Cr(s)}})})}}),Mie=({group:t,...e})=>p.jsx(vG,{icon:kh,table:n=>p.jsx(VL,{group:t,...n}),render:({entities:n})=>p.jsx(ID,{tags:n}),queryKey:"Tag",query:async({filter:n,cursor:r})=>Ft.transaction().execute(async i=>sr({select:i.selectFrom("Tag as t").select(["t.id","t.code","t.label","t.group","t.sort"]),output:ym.entity,query({select:s,where:o}){let l=s;if(o?.id&&(l=l.where("t.id","=",o.id)),o?.idIn&&(l=l.where("t.id","in",o.idIn)),o?.fulltext){const c=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("t.code","like",c),d("t.group","like",c),d("t.label","like",c),d("t.id","like",c)]))}return l},filter:n,cursor:r})),...e}),HL=nie({shape:G.object({name:G.string().min(1),tagIds:G.array(G.string()).optional()}),filter:ps.merge(G.object({name:G.string().optional()}))}),Vj=({group:t="resource",mutation:e,defaultValues:n,variant:r,tva:i=Ci,css:s})=>{const o=Ti({resolver:Oi(HL.shape),defaultValues:n}),l=i({...r,isLoading:o.formState.isLoading,isSubmitting:o.formState.isSubmitting,css:s}).slots;return p.jsxs("form",{className:l.base(),onSubmit:ms({form:o,mutation:e}),children:[p.jsx(hi,{variant:{highlight:!0},error:o.formState.errors.root}),p.jsx(Cn,{formState:o.formState,name:"name",label:p.jsx(re,{label:"Resource name (label)"}),children:p.jsx("input",{type:"text",className:l.input(),...o.register("name")})}),p.jsx(Cn,{formState:o.formState,name:"tagIds",label:p.jsx(re,{label:"Resource tags (label)"}),children:p.jsx(ds,{control:o.control,name:"tagIds",render:({field:{ref:c,...d}})=>p.jsx(Mie,{group:t,textTitle:p.jsx(re,{label:"Select resource tags (title)"}),textSelect:p.jsx(re,{label:"Select resource tags (label)"}),allowEmpty:!0,...d})})}),p.jsx("div",{className:"flex flex-row justify-between gap-8",children:p.jsx(Tn,{iconEnabled:dr,type:"submit",children:p.jsx(re,{label:"Save (submit)"})})})]})},mp=Ar(),$ie=[mp({name:"name",header(){return p.jsx(re,{label:"Resource name (label)"})},render({data:t,value:e}){const{locale:n}=_n({from:"/$locale"});return p.jsx(Sn,{to:"/$locale/apps/derivean/root/resource/$id/view",params:{locale:n,id:t.id},children:e})},size:18}),mp({name:"countProduction",header(){return p.jsx(re,{label:"Resource production count (label)"})},render({value:t}){return p.jsx(Ko,{css:{base:t!==void 0&&t===0?["bg-red-100","text-red-500","border-red-600"]:[]},children:In({number:t})})},size:12}),mp({name:"countRequirement",header(){return p.jsx(re,{label:"Resource requirement count (label)"})},render({data:t,value:e}){return p.jsx(Ko,{css:{base:t.countRequirement===0&&t.countProductionRequirement===0?["bg-red-100","text-red-500","border-red-600"]:[]},children:In({number:e})})},size:12}),mp({name:"countProductionRequirement",header(){return p.jsx(re,{label:"Resource production requirement count (label)"})},render({data:t,value:e}){return p.jsx(Ko,{css:{base:t.countRequirement===0&&t.countProductionRequirement===0?["bg-red-100","text-red-500","border-red-600"]:[]},children:In({number:e})})},size:18}),mp({name:"tags",header(){return p.jsx(re,{label:"Resource tags (label)"})},render({value:t}){return p.jsx(ID,{tags:t})},size:32})],QL=({group:t,table:e,...n})=>{const r=kr([["Resource"],["Resource_Tag"]]);return p.jsx(Rr,{table:jr({...e,columns:$ie}),action:{table(){return p.jsx(Xn,{children:p.jsx(xn,{label:p.jsx(re,{label:"Create resource (menu)"}),textTitle:p.jsx(re,{label:"Create resource (modal)"}),icon:dr,children:({close:i})=>p.jsx(Vj,{group:t,mutation:cn({async mutationFn({name:s,tagIds:o=[]}){return kn.promise(Ft.transaction().execute(async l=>{const c=await l.insertInto("Resource").values({id:Un(),name:s}).returningAll().executeTakeFirstOrThrow();return o.length&&await l.insertInto("Resource_Tag").values(o.map(d=>({id:Un(),resourceId:c.id,tagId:d}))).execute(),c}),Ir("Create resource"))},async onSuccess(){await r(),i()}})})})})},row({data:i}){return p.jsxs(Xn,{children:[p.jsx(xn,{label:p.jsx(re,{label:"Edit (menu)"}),textTitle:p.jsx(re,{label:"Edit resource (modal)"}),icon:dr,children:({close:s})=>p.jsx(Vj,{defaultValues:{...i,tagIds:i.tags.map(({id:o})=>o)},mutation:cn({async mutationFn({tagIds:o,...l}){return kn.promise(Ft.transaction().execute(async c=>{const d=await c.updateTable("Resource").set(l).where("id","=",i.id).returningAll().executeTakeFirstOrThrow();return await c.deleteFrom("Resource_Tag").where("resourceId","=",d.id).execute(),o?.length&&await c.insertInto("Resource_Tag").values(o.map(f=>({id:Un(),resourceId:d.id,tagId:f}))).execute(),d}),Ir("Update resource"))},async onSuccess(){await r(),s()}})})}),p.jsx(xn,{icon:mi,label:p.jsx(re,{label:"Delete (menu)"}),textTitle:p.jsx(re,{label:"Delete resource (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:p.jsx(ys,{callback:async()=>Ft.transaction().execute(async s=>s.deleteFrom("Resource").where("id","=",i.id).execute()),textContent:p.jsx(re,{label:"Resource delete (content)"}),textToast:"Resource delete",invalidator:r})})]})}},...n})},Ry=rn("/$locale/apps/derivean/root/resource/list")({validateSearch:fr(qr(HL)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return t.ensureQueryData({queryKey:["Resource","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(i=>sr({select:i.selectFrom("Resource as r").select(["r.id","r.name",s=>s.selectFrom("Tag as t").select(o=>Nr`json_group_array(json_object(
                                            'id', ${o.ref("t.id")},
                                            'code', ${o.ref("t.code")},
                                            'group', ${o.ref("t.group")},
                                            'sort', ${o.ref("t.sort")},
                                            'label', ${o.ref("t.label")}
                                        ))`.as("tags")).where("t.id","in",s.selectFrom("Resource_Tag as rt").select("rt.tagId").whereRef("rt.resourceId","=","r.id")).as("tags"),s=>s.selectFrom("Blueprint_Requirement").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countRequirement"),s=>s.selectFrom("Blueprint_Production").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countProduction"),s=>s.selectFrom("Blueprint_Production_Requirement").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countProductionRequirement")]).orderBy("r.name","asc"),query({select:s,where:o}){let l=s;if(o?.fulltext){const c=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("r.id","like",c),d("r.name","like",c),d("r.id","in",d.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(f=>f.or([f("t.code","like",c),f("t.label","like",c),f("t.group","like",c)])))]))}return l},output:G.object({id:G.string().min(1),name:G.string().min(1),countRequirement:G.number().nonnegative(),countProduction:G.number().nonnegative(),countProductionRequirement:G.number().nonnegative(),tags:Zr(ym.entity)}),filter:n,cursor:r}))}})},component:()=>{const{data:t,count:e}=Ry.useLoaderData(),{filter:n,cursor:r,selection:i}=Ry.useSearch(),s=Ry.useNavigate(),{tva:o}=ir({from:"__root__"}),l=o().slots;return p.jsx("div",{className:l.base(),children:p.jsx(QL,{table:{data:t,filter:{value:n,set:Tr(s)},selection:{type:"multi",value:i,set:gs(s)}},fulltext:{value:n?.fulltext,set:Or(s)},cursor:{count:e,cursor:r,textTotal:p.jsx(re,{label:"Number of items"}),...Cr(s)}})})}}),Bie=({entity:t,...e})=>{const{locale:n}=_n({from:"/$locale"});return p.jsx(Xl,{...e,children:p.jsx(Mn,{icon:dr,to:"/$locale/apps/derivean/root/resource/$id/view",params:{locale:n,id:t.id},children:p.jsx(re,{label:"View detail (menu)"})})})},zie=t=>{const{locale:e}=_n({from:"/$locale"});return p.jsx(uf,{title:({entity:n})=>p.jsx(ff,{icon:dr,title:n.name}),actions:()=>p.jsx(p.Fragment,{children:p.jsx(Sn,{icon:Ab,to:"/$locale/apps/derivean/root/resource/list",params:{locale:e},children:p.jsx(re,{label:"Resource list (label)"})})}),...t})},KL=rn("/$locale/apps/derivean/root/resource/$id")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return t.ensureQueryData({queryKey:["Resource",n],async queryFn(){return e.transaction().execute(async r=>({entity:await df({select:r.selectFrom("Resource as r").select(["r.id","r.name"]).where("r.id","=",n),output:G.object({id:G.string().min(1),name:G.string().min(1)})})}))}})},component:()=>{const{tva:t}=ir({from:"__root__"}),{entity:e}=KL.useLoaderData(),n=t().slots;return p.jsxs("div",{className:n.base(),children:[p.jsx(zie,{entity:e}),p.jsx(Bie,{entity:e}),p.jsx(qo,{})]})}}),hf=({group:t,...e})=>p.jsx(ND,{icon:dr,textTitle:p.jsx(re,{label:"Select resource (title)"}),textSelect:p.jsx(re,{label:"Select resource (label)"}),table:n=>p.jsx(QL,{group:t,...n}),render:({entity:n})=>n.name,queryKey:"Resource",query:async({filter:n,cursor:r})=>Ft.transaction().execute(async i=>sr({select:i.selectFrom("Resource as r").select(["r.id","r.name",s=>s.selectFrom("Tag as t").select(o=>Nr`json_group_array(json_object(
                                                'id', ${o.ref("t.id")},
                                                'code', ${o.ref("t.code")},
                                                'group', ${o.ref("t.group")},
                                                'sort', ${o.ref("t.sort")},
                                                'label', ${o.ref("t.label")}
                                            ))`.as("tags")).where("t.id","in",i.selectFrom("Resource_Tag as rt").select("rt.tagId").where("rt.resourceId","=",s.ref("r.id"))).as("tags"),s=>s.selectFrom("Blueprint_Requirement").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countRequirement"),s=>s.selectFrom("Blueprint_Production").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countProduction"),s=>s.selectFrom("Blueprint_Production_Requirement").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countProductionRequirement")]).orderBy("r.name","asc"),query({select:s,where:o}){let l=s;if(o?.id&&(l=l.where("r.id","=",o.id)),o?.fulltext){const c=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("r.id","like",c),d("r.name","like",c),d("r.id","in",d.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(f=>f.or([f("t.code","like",c),f("t.label","like",c),f("t.group","like",c)])))]))}return l},output:G.object({id:G.string().min(1),name:G.string().min(1),tags:Zr(ym.entity),countRequirement:G.number().nonnegative(),countProduction:G.number().nonnegative(),countProductionRequirement:G.number().nonnegative()}),filter:n,cursor:r})),...e}),GL=eie({shape:G.object({resourceId:G.string().min(1),amount:Kl(),limit:Kl()}),filter:ps}),Hj=({mutation:t,defaultValues:e,variant:n,tva:r=Ci,css:i})=>{const s=Ti({resolver:Oi(GL.shape),defaultValues:{amount:0,limit:0,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return p.jsxs("form",{className:o.base(),onSubmit:ms({form:s,mutation:t}),children:[p.jsx(hi,{variant:{highlight:!0},error:s.formState.errors.root}),p.jsx(Cn,{formState:s.formState,name:"resourceId",label:p.jsx(re,{label:"Resource name (label)"}),children:p.jsx(ds,{control:s.control,name:"resourceId",render:({field:{ref:l,...c}})=>p.jsx(hf,{textTitle:p.jsx(re,{label:"Select resource (title)"}),allowEmpty:!0,...c})})}),p.jsx(Cn,{formState:s.formState,name:"amount",label:p.jsx(re,{label:"Amount (label)"}),children:p.jsx("input",{type:"number",className:o.input(),...s.register("amount")})}),p.jsx(Cn,{formState:s.formState,name:"limit",label:p.jsx(re,{label:"Limit (label)"}),hint:p.jsx(re,{label:"Inventory limit (hint)"}),children:p.jsx("input",{type:"number",className:o.input(),...s.register("limit")})}),p.jsx("div",{className:"flex flex-row justify-between gap-8",children:p.jsx(Tn,{iconEnabled:na,type:"submit",children:p.jsx(re,{label:"Save (submit)"})})})]})},_S=Ar(),Wie=[_S({name:"name",header(){return p.jsx(re,{label:"Resource name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceId",t.resourceId)}},size:18}),_S({name:"amount",header(){return p.jsx(re,{label:"Amount (label)"})},render({value:t}){return In({number:t})},size:12}),_S({name:"limit",header(){return p.jsx(re,{label:"Inventory limit (label)"})},render({value:t,data:e}){return p.jsxs("div",{className:"flex flex-row items-center gap-2 w-full",children:[p.jsx("div",{children:In({number:t})}),p.jsx(cf,{value:100*e.amount/e.limit})]})},size:14})],Uie=({table:t,...e})=>{const n=kr([["Default_Inventory"]]),r=cn({async mutationFn(){return Ft.transaction().execute(async i=>{const s=await i.selectFrom("Resource as r").select(["r.id"]).where("r.id","not in",i.selectFrom("Default_Inventory").select("resourceId")).execute();return i.insertInto("Default_Inventory").values(s.map(({id:o})=>({id:Un(),amount:0,limit:0,resourceId:o}))).execute()})},async onSuccess(){await n()}});return p.jsx(Rr,{table:jr({...t,columns:Wie}),action:{table(){return p.jsxs(Xn,{children:[p.jsx(xn,{label:p.jsx(re,{label:"Create inventory item (menu)"}),textTitle:p.jsx(re,{label:"Create inventory item (modal)"}),icon:na,children:p.jsx(Hj,{mutation:cn({async mutationFn(i){return kn.promise(Ft.transaction().execute(async s=>s.insertInto("Default_Inventory").values({id:Un(),...i}).returningAll().executeTakeFirstOrThrow()),Ir("Create inventory item"))},async onSuccess(){await n()}})})}),p.jsx(pE,{icon:dr,onClick:()=>{r.mutate()},children:p.jsx(re,{label:"Fill missing resources (label)"})})]})},row({data:i}){return p.jsxs(Xn,{children:[p.jsx(xn,{label:p.jsx(re,{label:"Edit (menu)"}),textTitle:p.jsx(re,{label:"Edit inventory item (modal)"}),icon:na,children:p.jsx(Hj,{defaultValues:i,mutation:cn({async mutationFn(s){return kn.promise(Ft.transaction().execute(async o=>o.updateTable("Default_Inventory").set(s).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),Ir("Update inventory item"))},async onSuccess(){await n()}})})}),p.jsx(xn,{icon:mi,label:p.jsx(re,{label:"Delete (menu)"}),textTitle:p.jsx(re,{label:"Delete inventory item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:p.jsx(ys,{callback:async()=>Ft.transaction().execute(async s=>s.deleteFrom("Default_Inventory").where("id","=",i.id).execute()),textContent:p.jsx(re,{label:"Inventory item delete (content)"}),textToast:"Inventory item delete",invalidator:n})})]})}},...e})},jy=rn("/$locale/apps/derivean/root/default/inventory")({validateSearch:fr(qr(GL)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return t.ensureQueryData({queryKey:["Default_Inventory","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(i=>sr({select:i.selectFrom("Default_Inventory as di").innerJoin("Resource as r","r.id","di.resourceId").select(["di.id","r.name","di.amount","di.limit","di.resourceId"]).orderBy("r.name","asc"),query({select:s,where:o}){let l=s;if(o?.id&&(l=l.where("di.id","=",o.id)),o?.idIn&&(l=l.where("di.id","in",o.idIn)),o?.fulltext){const c=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("di.id","like",`%${c}%`),d("r.id","like",`%${c}%`),d("r.name","like",`%${c}%`),d("r.id","in",d.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(f=>f.or([f("t.code","like",c),f("t.label","like",c),f("t.group","like",c)])))]))}return l},output:G.object({id:G.string().min(1),name:G.string().min(1),resourceId:G.string().min(1),amount:G.number().nonnegative(),limit:G.number().int().nonnegative()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=jy.useLoaderData(),{filter:n,cursor:r,selection:i}=jy.useSearch(),s=jy.useNavigate(),{tva:o}=ir({from:"__root__"}),l=o().slots;return p.jsx("div",{className:l.base(),children:p.jsx(Uie,{table:{data:t,filter:{value:n,set:Tr(s)},selection:{type:"multi",value:i,set:gs(s)}},fulltext:{value:n?.fulltext,set:Or(s)},cursor:{count:e,cursor:r,textTotal:p.jsx(re,{label:"Number of items"}),...Cr(s)}})})}}),Vie=yn({slot:{item:["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2","bg-sky-100","border-sky-300","text-sky-500"]},variant:{missing:{true:[]}},match:[{if:{missing:!0},then:{item:["bg-amber-100","border-amber-300"]}}],defaults:{missing:!1}}),ZL=({dependencies:t,variant:e,tva:n=Vie,css:r,...i})=>{const s=n({...e,css:r}).slots;return p.jsx(ec,{items:t,render:({entity:o})=>p.jsx("div",{className:s.item(),children:p.jsx("div",{children:o.name})}),...i})};var Xg={},Qj;function Hie(){if(Qj)return Xg;Qj=1;function t(r,i,s,o){var l=new Set;return function(c){if(!l.has(c)){var d=new Set,f=[],h=[];for(h.push({node:c,processed:!1});h.length>0;){var b=h[h.length-1],x=b.processed,_=b.node;if(x)h.pop(),f.pop(),d.delete(_),l.add(_),(!i||r.get(_).length===0)&&s.push(_);else{if(l.has(_)){h.pop();continue}else if(d.has(_)){if(o){h.pop();continue}throw f.push(_),new n(f)}d.add(_),f.push(_);for(var N=r.get(_),I=N.length-1;I>=0;I--)h.push({node:N[I],processed:!1});b.processed=!0}}}}}var e=Xg.DepGraph=function(i){this.nodes=new Map,this.outgoingEdges=new Map,this.incomingEdges=new Map,this.circular=i&&!!i.circular};e.prototype={size:function(){return this.nodes.size},addNode:function(r,i){this.hasNode(r)||(arguments.length===2?this.nodes.set(r,i):this.nodes.set(r,r),this.outgoingEdges.set(r,[]),this.incomingEdges.set(r,[]))},removeNode:function(r){this.hasNode(r)&&(this.nodes.delete(r),this.outgoingEdges.delete(r),this.incomingEdges.delete(r),[this.incomingEdges,this.outgoingEdges].forEach(function(i){i.forEach(function(s){var o=s.indexOf(r);o>=0&&s.splice(o,1)})}))},hasNode:function(r){return this.nodes.has(r)},getNodeData:function(r){if(this.hasNode(r))return this.nodes.get(r);throw new Error("Node does not exist: "+r)},setNodeData:function(r,i){if(this.hasNode(r))this.nodes.set(r,i);else throw new Error("Node does not exist: "+r)},addDependency:function(r,i){if(!this.hasNode(r))throw new Error("Node does not exist: "+r);if(!this.hasNode(i))throw new Error("Node does not exist: "+i);return this.outgoingEdges.get(r).indexOf(i)===-1&&this.outgoingEdges.get(r).push(i),this.incomingEdges.get(i).indexOf(r)===-1&&this.incomingEdges.get(i).push(r),!0},removeDependency:function(r,i){var s;this.hasNode(r)&&(s=this.outgoingEdges.get(r).indexOf(i),s>=0&&this.outgoingEdges.get(r).splice(s,1)),this.hasNode(i)&&(s=this.incomingEdges.get(i).indexOf(r),s>=0&&this.incomingEdges.get(i).splice(s,1))},clone:function(){var r=this,i=new e;return r.nodes.forEach(function(s,o){i.nodes.set(o,s),i.outgoingEdges.set(o,r.outgoingEdges.get(o).slice(0)),i.incomingEdges.set(o,r.incomingEdges.get(o).slice(0))}),i.circular=r.circular,i},directDependenciesOf:function(r){if(this.hasNode(r))return this.outgoingEdges.get(r).slice(0);throw new Error("Node does not exist: "+r)},directDependantsOf:function(r){if(this.hasNode(r))return this.incomingEdges.get(r).slice(0);throw new Error("Node does not exist: "+r)},dependenciesOf:function(r,i){if(this.hasNode(r)){var s=[],o=t(this.outgoingEdges,i,s,this.circular);o(r);var l=s.indexOf(r);return l>=0&&s.splice(l,1),s}else throw new Error("Node does not exist: "+r)},dependantsOf:function(r,i){if(this.hasNode(r)){var s=[],o=t(this.incomingEdges,i,s,this.circular);o(r);var l=s.indexOf(r);return l>=0&&s.splice(l,1),s}else throw new Error("Node does not exist: "+r)},overallOrder:function(r){var i=this,s=[],o=Array.from(this.nodes.keys());if(o.length===0)return s;if(!this.circular){var l=t(this.outgoingEdges,!1,[],this.circular);o.forEach(function(d){l(d)})}var c=t(this.outgoingEdges,r,s,this.circular);return o.filter(function(d){return i.incomingEdges.get(d).length===0}).forEach(function(d){c(d)}),this.circular&&o.filter(function(d){return s.indexOf(d)===-1}).forEach(function(d){c(d)}),s},entryNodes:function(){var r=this;return Array.from(this.nodes.keys()).filter(function(i){return r.incomingEdges.get(i).length===0})}},e.prototype.directDependentsOf=e.prototype.directDependantsOf,e.prototype.dependentsOf=e.prototype.dependantsOf;var n=Xg.DepGraphCycleError=function(r){var i="Dependency Cycle Found: "+r.join(" -> "),s=new Error(i);return s.cyclePath=r,Object.setPrototypeOf(s,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(s,n),s};return n.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(n,Error),Xg}var JL=Hie();const vm=async({tx:t})=>{const e=new JL.DepGraph({circular:!1});for await(const{id:n,name:r}of await t.selectFrom("Blueprint").select(["id","name"]).execute())e.addNode(n,r);for await(const{blueprintId:n,dependencyId:r}of await t.selectFrom("Blueprint_Dependency").select(["blueprintId","dependencyId"]).execute())e.addDependency(n,r);return e},Mh=async({tx:t})=>{const e=vm({tx:t}),n=await t.selectFrom("Blueprint as bl").select(["bl.id"]).execute();for await(const r of n){const i=(await e).dependenciesOf(r.id);await t.updateTable("Blueprint").set({sort:i.length}).where("id","=",r.id).execute()}},ey=Ar(),Qie=[ey({name:"name",header(){return p.jsx(re,{label:"Building name (label)"})},render({data:t,value:e}){const{locale:n}=_n({from:"/$locale"});return p.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[p.jsx(Sn,{icon:"icon-[ph--graph-light]",to:"/$locale/apps/derivean/root/editor",params:{locale:n},search:{zoomTo:t.id}}),p.jsx(Sn,{icon:Nn,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:n,id:t.id},children:e})]})},size:18}),ey({name:"dependencies",header(){return p.jsx(re,{label:"Blueprint dependencies (label)"})},render({value:t}){return t.length>0?p.jsxs("div",{className:"flex flex-col flex-wrap gap-2 w-full",children:[p.jsx(ZL,{textTitle:p.jsx(re,{label:"Blueprint dependencies (title)"}),dependencies:t}),p.jsx("div",{className:"border-b border-slate-200"})]}):p.jsx(re,{label:"No dependencies (label)"})},size:32}),ey({name:"requirements",header(){return p.jsx(re,{label:"Required resources (label)"})},render({value:t}){return p.jsx(pf,{textTitle:p.jsx(re,{label:"Blueprint requirements (title)"}),textEmpty:p.jsx(re,{label:"No requirements (label)"}),requirements:t})},size:32}),ey({name:"cycles",header(){return p.jsx(re,{label:"Construction cycles (label)"})},render({value:t}){return p.jsxs("div",{className:"flex flex-row items-center gap-2",children:[p.jsx(en,{icon:Ch}),In({number:t})]})},size:8})],YL=({dependencies:t,table:e,...n})=>{const r=kr([["Blueprint"],["Inventory"]]);return p.jsx(Rr,{table:jr({...e,columns:Qie,context:{dependencies:t}}),action:{table(){return p.jsx(Xn,{children:p.jsx(xn,{label:p.jsx(re,{label:"Create blueprint (menu)"}),textTitle:p.jsx(re,{label:"Create blueprint (modal)"}),icon:Nn,children:({close:i})=>p.jsx(Gv,{mutation:cn({async mutationFn(s){return kn.promise(Ft.transaction().execute(async o=>{const l=o.insertInto("Blueprint").values({id:Un(),...s}).returningAll().executeTakeFirstOrThrow();return await Mh({tx:o}),l}),Ir("Create blueprint"))},async onSuccess(){await r(),i()}})})})})},row({data:i}){return p.jsxs(Xn,{children:[p.jsx(xn,{label:p.jsx(re,{label:"Edit (menu)"}),textTitle:p.jsx(re,{label:"Edit blueprint (modal)"}),icon:Nn,children:({close:s})=>p.jsx(Gv,{defaultValues:i,mutation:cn({async mutationFn(o){return kn.promise(Ft.transaction().execute(async l=>{const c=l.updateTable("Blueprint").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow();return await Mh({tx:l}),c}),Ir("Update blueprint"))},async onSuccess(){await r(),s()}})})}),p.jsx(xn,{icon:mi,label:p.jsx(re,{label:"Delete (menu)"}),textTitle:p.jsx(re,{label:"Delete blueprint (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:p.jsx(ys,{callback:async()=>Ft.transaction().execute(async s=>s.deleteFrom("Blueprint").where("id","=",i.id).execute()),textContent:p.jsx(re,{label:"Delete blueprint (content)"}),textToast:"Delete blueprint",invalidator:r})})]})}},...n})},Ay=rn("/$locale/apps/derivean/root/blueprint/list")({validateSearch:fr(qr(ON)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return{data:await t.ensureQueryData({queryKey:["Blueprint","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>sr({select:s.selectFrom("Blueprint as bl").select(["bl.id","bl.name","bl.sort","bl.cycles",o=>o.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(l=>Nr`json_group_array(json_object(
                                                'id', ${l.ref("br.id")},
                                                'amount', ${l.ref("br.amount")},
                                                'passive', ${l.ref("br.passive")},
                                                'resourceId', ${l.ref("br.resourceId")},
                                                'blueprintId', ${l.ref("br.blueprintId")},
                                                'name', ${l.ref("r.name")}
                                            ))`.as("requirements")).whereRef("br.blueprintId","=","bl.id").as("requirements"),o=>o.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as bl2","bl2.id","bd.dependencyId").select(l=>Nr`json_group_array(json_object(
                                                        'id', ${l.ref("bd.id")},
                                                        'dependencyId', ${l.ref("bd.dependencyId")},
                                                        'blueprintId', ${l.ref("bd.blueprintId")},
                                                        'name', ${l.ref("bl2.name")}
                                                    ))`.as("requirements")).whereRef("bd.blueprintId","=","bl.id").orderBy("bl2.name","asc").as("dependencies")]).orderBy("bl.sort","asc").orderBy("bl.name","asc"),query({select:o,where:l}){let c=o;if(l?.id&&(c=c.where("bl.id","=",l.id)),l?.fulltext){const d=`%${l.fulltext}%`.toLowerCase();c=c.where(f=>f.or([f("bl.id","like",d),f("bl.name","like",d)]))}return c},output:G.object({id:G.string().min(1),name:G.string().min(1),cycles:G.number().nonnegative(),sort:G.number().nonnegative(),requirements:Zr(lc.entity.merge(G.object({name:G.string().min(1)}))),dependencies:Zr(Ua.entity.merge(G.object({name:G.string().min(1)})))}),filter:n,cursor:r}))}}),dependencies:await e.transaction().execute(async s=>vm({tx:s}))}},component(){const{data:{data:t,count:e},dependencies:n}=Ay.useLoaderData(),{filter:r,cursor:i,selection:s}=Ay.useSearch(),o=Ay.useNavigate(),{tva:l}=ir({from:"__root__"}),c=l().slots;return p.jsx("div",{className:c.base(),children:p.jsx(YL,{dependencies:n,table:{data:t,filter:{value:r,set:Tr(o)},selection:{type:"multi",value:s,set:gs(o)}},fulltext:{value:r?.fulltext,set:Or(o)},cursor:{count:e,cursor:i,textTotal:p.jsx(re,{label:"Number of blueprints"}),...Cr(o)}})})}}),Kie=({entity:t,...e})=>{const{locale:n}=_n({from:"/$locale"});return p.jsxs(Xl,{...e,children:[p.jsx(Mn,{icon:Nn,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:n,id:t.id},children:p.jsx(re,{label:"View detail (menu)"})}),p.jsx(Mn,{icon:Ba,to:"/$locale/apps/derivean/root/blueprint/$id/dependencies",params:{locale:n,id:t.id},children:p.jsx(re,{label:"Blueprint dependencies (menu)"})}),p.jsx(Mn,{icon:dr,to:"/$locale/apps/derivean/root/blueprint/$id/requirements",params:{locale:n,id:t.id},children:p.jsx(re,{label:"Required resources (menu)"})}),p.jsx(Mn,{icon:Wi,to:"/$locale/apps/derivean/root/blueprint/$id/production",params:{locale:n,id:t.id},children:p.jsx(re,{label:"Resource production (menu)"})}),p.jsx(Mn,{icon:"icon-[solar--bomb-minimalistic-outline]",to:"/$locale/apps/derivean/root/blueprint/$id/conflicts",params:{locale:n,id:t.id},children:p.jsx(re,{label:"Blueprint conflicts (menu)"})}),p.jsx(Mn,{icon:oD,to:"/$locale/apps/derivean/root/blueprint/$id/edit",params:{locale:n,id:t.id},children:p.jsx(re,{label:"Edit (menu)"})})]})},Gie=t=>{const{locale:e}=_n({from:"/$locale"});return p.jsx(uf,{title:({entity:n})=>p.jsx(ff,{icon:Nn,title:n.name}),actions:({entity:n})=>p.jsxs(p.Fragment,{children:[p.jsx(Sn,{icon:Ab,to:"/$locale/apps/derivean/root/blueprint/list",params:{locale:e},children:p.jsx(re,{label:"Blueprint list (label)"})}),p.jsx(Sn,{icon:"icon-[ph--graph-light]",to:"/$locale/apps/derivean/root/editor",params:{locale:e},search:{zoomTo:n.id},children:p.jsx(re,{label:"Editor (label)"})})]}),...t})},XL=rn("/$locale/apps/derivean/root/blueprint/$id")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return{entity:await t.ensureQueryData({queryKey:["Blueprint","fetch",n],async queryFn(){return e.transaction().execute(async i=>df({select:i.selectFrom("Blueprint as bl").select(["bl.id","bl.name","bl.sort","bl.cycles",s=>s.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(o=>Nr`json_group_array(json_object(
                                                  'id', ${o.ref("br.id")},
                                                  'amount', ${o.ref("br.amount")},
                                                  'passive', ${o.ref("br.passive")},
                                                  'resourceId', ${o.ref("br.resourceId")},
                                                  'blueprintId', ${o.ref("br.blueprintId")},
                                                  'name', ${o.ref("r.name")}
                                              ))`.as("requirements")).whereRef("br.blueprintId","=","bl.id").as("requirements"),s=>s.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as bl2","bl2.id","bd.dependencyId").select(o=>Nr`json_group_array(json_object(
                                                          'id', ${o.ref("bd.id")},
                                                          'dependencyId', ${o.ref("bd.dependencyId")},
                                                          'blueprintId', ${o.ref("bd.blueprintId")},
                                                          'name', ${o.ref("bl2.name")}
                                                      ))`.as("requirements")).whereRef("bd.blueprintId","=","bl.id").orderBy("bl2.name","asc").as("dependencies")]).where("bl.id","=",n).orderBy("bl.name","asc"),query({select:s,where:o}){let l=s;if(o?.fulltext){const c=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("bl.id","like",c),d("bl.name","like",c),d("bl.id","in",d.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select("br.blueprintId").where(f=>f.or([f("r.name","like",c)]))),d("bl.id","in",d.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as b","b.id","bd.dependencyId").select("bd.blueprintId").where(f=>f.or([f("b.name","like",c)])))]))}return l},output:G.object({id:G.string().min(1),name:G.string().min(1),cycles:G.number().nonnegative(),sort:G.number().nonnegative(),requirements:Zr(lc.entity.merge(G.object({name:G.string().min(1)}))),dependencies:Zr(Ua.entity.merge(G.object({name:G.string().min(1)})))})}))}}),graph:await e.transaction().execute(async i=>vm({tx:i}))}},component(){const{tva:t}=ir({from:"__root__"}),{entity:e}=XL.useLoaderData(),n=t().slots;return p.jsxs("div",{className:n.base(),children:[p.jsx(Gie,{entity:e}),p.jsx(Kie,{entity:e}),p.jsx(qo,{})]})}}),Zie=G.object({id:G.string().min(1),blueprintProductionId:G.string().min(1),blueprintId:G.string().min(1),name:G.string().min(1),resource:G.string().min(1),amount:G.number().nonnegative(),count:G.number().nonnegative(),limit:G.number().nonnegative(),priority:G.number(),paused:Di(),requirements:Zr(G.object({id:G.string().min(1),amount:G.number().nonnegative(),passive:Di(),resourceId:G.string().min(1),name:G.string().min(1)}))}),Jie=({entity:t})=>{const{locale:e}=_n({from:"/$locale"}),n=kr([["Management"]]),r=cn({async mutationFn({id:l,priority:c}){return Ft.transaction().execute(async d=>d.updateTable("Production_Queue").set({priority:c}).where("id","=",l).execute())},async onSuccess(){await n()}}),i=cn({async mutationFn({id:l,limit:c}){return Ft.transaction().execute(async d=>d.updateTable("Production_Queue").set({limit:c}).where("id","=",l).execute())},async onSuccess(){await n()}}),s=cn({async mutationFn({id:l,paused:c}){return Ft.transaction().execute(async d=>d.updateTable("Production_Queue").set({paused:c}).where("id","=",l).execute())},async onSuccess(){await n()}}),o=cn({async mutationFn(){return Ft.transaction().execute(async l=>l.deleteFrom("Production_Queue").where("id","=",t.id).execute())},async onSuccess(){await n()}});return p.jsxs("div",{className:fi("flex flex-row items-center justify-between border border-slate-300 p-2 rounded-md hover:bg-slate-50 hover:border-slate-500",t.paused?["bg-slate-100","hover:bg-slate-200"]:void 0),children:[p.jsxs("div",{className:"flex flex-row gap-6",children:[p.jsxs("div",{className:"flex flex-row items-center gap-2 font-bold",children:[p.jsx(Tn,{iconEnabled:t.paused?"icon-[lucide--play]":"icon-[solar--pause-outline]",loading:i.isPending,onClick:()=>{s.mutate({id:t.id,paused:!t.paused})},variant:{variant:"subtle"}}),p.jsx(Sn,{icon:Ba,to:"/$locale/apps/derivean/game/map",params:{locale:e},search:{blueprintId:t.blueprintId},children:t.name})]}),p.jsxs("div",{className:"flex flex-row items-center gap-2",children:[p.jsx(en,{icon:dr,css:{base:["text-slate-400"]}}),p.jsx("div",{children:t.resource}),p.jsxs(Ko,{children:["x",In({number:t.amount})]})]}),p.jsxs("div",{className:"flex flex-row items-center gap-2",children:[p.jsx(en,{icon:"icon-[fluent--text-word-count-20-regular]",css:{base:["text-slate-400"]}}),p.jsxs(Ko,{children:[In({number:t.count}),t.limit>0?` / ${In({number:t.limit})}`:null]})]}),p.jsxs("div",{className:"flex flex-row items-center gap-2 font-bold",children:[p.jsx(en,{icon:"icon-[material-symbols-light--low-priority-rounded]",css:{base:["text-slate-400"]}}),p.jsx(Ko,{children:In({number:t.priority})})]})]}),p.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[p.jsx(pf,{requirements:t.requirements}),p.jsx(Tn,{iconEnabled:"icon-[ph--minus-fill]",iconDisabled:"icon-[ph--minus-fill]",loading:i.isPending,disabled:t.limit===0,onClick:()=>{i.mutate({id:t.id,limit:Math.max(0,t.limit-1)})}}),p.jsx(Tn,{iconEnabled:"icon-[ph--plus-fill]",loading:i.isPending,onClick:()=>{i.mutate({id:t.id,limit:t.limit+1})}}),p.jsx(Tn,{iconEnabled:"icon-[bx--down-arrow]",iconDisabled:"icon-[bx--down-arrow]",loading:r.isPending,disabled:t.priority===0,onClick:()=>{r.mutate({id:t.id,priority:t.priority-5})}}),p.jsx(Tn,{iconEnabled:"icon-[bx--up-arrow]",loading:r.isPending,onClick:()=>{r.mutate({id:t.id,priority:t.priority+5})}}),p.jsx(Tn,{iconEnabled:mi,loading:o.isPending,variant:{variant:"danger"},onClick:()=>{o.mutate()}})]})]})},eM=rn("/$locale/apps/derivean/game/production/queue")({async loader({context:{queryClient:t,kysely:e,session:n}}){const r=await n();return{data:await t.ensureQueryData({queryKey:["Management","Production-Queue",r.id],queryFn:async()=>iN({select:e.selectFrom("Production_Queue as pq").innerJoin("Blueprint_Production as bp","bp.id","pq.blueprintProductionId").innerJoin("Blueprint as bl","bl.id","bp.blueprintId").innerJoin("Resource as r","r.id","bp.resourceId").select(["pq.id","pq.blueprintProductionId","bl.name","bl.id as blueprintId","r.name as resource","bp.amount","pq.priority","pq.count","pq.limit","pq.paused",s=>s.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r2","r2.id","bpr.resourceId").select([o=>Ia.jsonGroupArray({id:o.ref("bpr.id"),amount:o.ref("bpr.amount"),passive:o.ref("bpr.passive"),name:o.ref("r2.name"),blueprintId:o.ref("bp.id"),resourceId:o.ref("bpr.resourceId")}).as("requirements")]).whereRef("bpr.blueprintProductionId","=","pq.blueprintProductionId").as("requirements")]).where("userId","=",r.id).orderBy("priority","desc"),output:Zie})})}},component(){const{data:t}=eM.useLoaderData();return p.jsx("div",{className:"flex flex-col gap-2",children:t.map(e=>p.jsx(Jie,{entity:e},e.id))})}}),Kj=Ar(),Yie=[Kj({name:"name",header(){return p.jsx(re,{label:"Building name (label)"})},render({data:t,value:e}){const{locale:n}=_n({from:"/$locale"});return p.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[p.jsx(Sn,{icon:"icon-[ph--graph-light]",to:"/$locale/apps/derivean/game/map",params:{locale:n},search:{blueprintId:t.id}}),p.jsx(Sn,{icon:Nn,to:"/$locale/apps/derivean/game/blueprint/$id/view",params:{locale:n,id:t.id},children:e})]})},size:18}),Kj({name:"cycles",header(){return p.jsx(re,{label:"Construction cycles (label)"})},render({value:t}){return p.jsxs("div",{className:"flex flex-row items-center gap-2",children:[p.jsx(en,{icon:Ch}),In({number:t})]})},size:8})],Xie=({table:t,...e})=>p.jsx(Rr,{table:jr({...t,columns:Yie}),...e}),Py=rn("/$locale/apps/derivean/game/blueprint/list")({validateSearch:fr(qr(ON)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e,session:n},deps:{filter:r,cursor:i}}){const s=await n();return{data:await t.ensureQueryData({queryKey:["Blueprint","list-count",{filter:r,cursor:i}],async queryFn(){return e.transaction().execute(async l=>sr({select:l.selectFrom("Blueprint as bl").select(["bl.id","bl.name","bl.cycles"]).where("bl.id","in",l.selectFrom("Building as bg").select("bg.blueprintId").where("bg.userId","=",s.id)).orderBy("bl.sort","asc").orderBy("bl.name","asc"),query({select:c,where:d}){let f=c;if(d?.id&&(f=f.where("bl.id","=",d.id)),d?.fulltext){const h=`%${d.fulltext}%`.toLowerCase();f=f.where(b=>b.or([b("bl.id","like",h),b("bl.name","like",h)]))}return f},output:G.object({id:G.string().min(1),name:G.string().min(1),cycles:G.number().nonnegative()}),filter:r,cursor:i}))}})}},component(){const{data:{data:t,count:e}}=Py.useLoaderData(),{filter:n,cursor:r}=Py.useSearch(),i=Py.useNavigate(),{tva:s}=ir({from:"__root__"}),o=s().slots;return p.jsx("div",{className:o.base(),children:p.jsx(Xie,{table:{data:t,filter:{value:n,set:Tr(i)}},fulltext:{value:n?.fulltext,set:Or(i)},cursor:{count:e,cursor:r,textTotal:p.jsx(re,{label:"Number of blueprints"}),...Cr(i)}})})}}),ese=({entity:t,...e})=>{const{locale:n}=_n({from:"/$locale"});return p.jsxs(Xl,{...e,children:[p.jsx(Mn,{icon:Nn,to:"/$locale/apps/derivean/game/blueprint/$id/view",params:{locale:n,id:t.id},children:p.jsx(re,{label:"View detail (menu)"})}),p.jsx(Mn,{icon:Ba,to:"/$locale/apps/derivean/game/blueprint/$id/dependencies",params:{locale:n,id:t.id},children:p.jsx(re,{label:"Blueprint dependencies (menu)"})}),p.jsx(Mn,{icon:dr,to:"/$locale/apps/derivean/game/blueprint/$id/requirements",params:{locale:n,id:t.id},children:p.jsx(re,{label:"Required resources (menu)"})}),p.jsx(Mn,{icon:Wi,to:"/$locale/apps/derivean/game/blueprint/$id/production",params:{locale:n,id:t.id},children:p.jsx(re,{label:"Resource production (menu)"})}),p.jsx(Mn,{icon:"icon-[solar--bomb-minimalistic-outline]",to:"/$locale/apps/derivean/game/blueprint/$id/conflicts",params:{locale:n,id:t.id},children:p.jsx(re,{label:"Blueprint conflicts (menu)"})})]})},tse=t=>{const{locale:e}=_n({from:"/$locale"});return p.jsx(uf,{title:({entity:n})=>p.jsx(ff,{icon:Nn,title:n.name}),actions:()=>p.jsx(p.Fragment,{children:p.jsx(Sn,{icon:Ab,to:"/$locale/apps/derivean/game/blueprint/list",params:{locale:e},children:p.jsx(re,{label:"Blueprint list (label)"})})}),...t})},tM=rn("/$locale/apps/derivean/game/blueprint/$id")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return{entity:await t.ensureQueryData({queryKey:["Blueprint","fetch",n],async queryFn(){return e.transaction().execute(async i=>df({select:i.selectFrom("Blueprint as bl").select(["bl.id","bl.name","bl.cycles"]).where("bl.id","=",n).orderBy("bl.name","asc"),query({select:s,where:o}){let l=s;if(o?.fulltext){const c=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("bl.id","like",c),d("bl.name","like",c),d("bl.id","in",d.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select("br.blueprintId").where(f=>f.or([f("r.name","like",c)]))),d("bl.id","in",d.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as b","b.id","bd.dependencyId").select("bd.blueprintId").where(f=>f.or([f("b.name","like",c)])))]))}return l},output:G.object({id:G.string().min(1),name:G.string().min(1),cycles:G.number().nonnegative()})}))}}),graph:await e.transaction().execute(async i=>vm({tx:i}))}},component(){const{tva:t}=ir({from:"__root__"}),{entity:e}=tM.useLoaderData(),n=t().slots;return p.jsxs("div",{className:n.base(),children:[p.jsx(tse,{entity:e}),p.jsx(ese,{entity:e}),p.jsx(qo,{})]})}}),nse=rn("/$locale/apps/derivean/root/user/$id/view")({component:()=>"yep"}),Gj=({mutation:t,defaultValues:e,variant:n,tva:r=Ci,css:i})=>{const s=Ti({resolver:Oi(qN.shape),defaultValues:{amount:0,limit:0,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return p.jsxs("form",{className:o.base(),onSubmit:ms({form:s,mutation:t}),children:[p.jsx(hi,{variant:{highlight:!0},error:s.formState.errors.root}),p.jsx(Cn,{formState:s.formState,name:"resourceId",label:p.jsx(re,{label:"Resource name (label)"}),children:p.jsx(ds,{control:s.control,name:"resourceId",render:({field:{ref:l,...c}})=>p.jsx(hf,{textTitle:p.jsx(re,{label:"Select resource (title)"}),allowEmpty:!0,...c})})}),p.jsx(Cn,{formState:s.formState,name:"amount",label:p.jsx(re,{label:"Amount (label)"}),children:p.jsx("input",{type:"number",className:o.input(),...s.register("amount")})}),p.jsx(Cn,{formState:s.formState,name:"limit",label:p.jsx(re,{label:"Inventory limit (label)"}),children:p.jsx("input",{type:"number",className:o.input(),...s.register("limit")})}),p.jsx("div",{className:"flex flex-row justify-between gap-8",children:p.jsx(Tn,{iconEnabled:na,type:"submit",children:p.jsx(re,{label:"Save (submit)"})})})]})},SS=Ar(),rse=[SS({name:"name",header(){return p.jsx(re,{label:"Resource name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceId",t.resourceId)}},size:18}),SS({name:"amount",header(){return p.jsx(re,{label:"Amount (label)"})},render({value:t}){return In({number:t})},size:12}),SS({name:"limit",header(){return p.jsx(re,{label:"Inventory limit (label)"})},render({value:t,data:e}){return p.jsxs("div",{className:"flex flex-row items-center gap-2 w-full",children:[p.jsx("div",{children:In({number:t})}),p.jsx(cf,{value:100*e.amount/e.limit})]})},size:14})],ise=({onCreate:t,table:e,...n})=>{const r=kr([["Inventory"],["User_Inventory"],["Building_Base_Production"]]);return p.jsx(Rr,{table:jr({...e,columns:rse}),action:{table:t?()=>p.jsx(Xn,{children:p.jsx(xn,{label:p.jsx(re,{label:"Create inventory item (menu)"}),textTitle:p.jsx(re,{label:"Create inventory item (modal)"}),icon:na,children:p.jsx(Gj,{mutation:cn({async mutationFn(i){return kn.promise(Ft.transaction().execute(async s=>{const o=await s.insertInto("Inventory").values({id:Un(),...i}).returningAll().executeTakeFirstOrThrow();return await t?.({tx:s,entity:o}),o}),Ir("Create inventory item"))},async onSuccess(){await r()}})})})}):void 0,row({data:i}){return p.jsxs(Xn,{children:[p.jsx(xn,{label:p.jsx(re,{label:"Edit (menu)"}),textTitle:p.jsx(re,{label:"Edit inventory item (modal)"}),icon:na,children:p.jsx(Gj,{defaultValues:i,mutation:cn({async mutationFn(s){return kn.promise(Ft.transaction().execute(async o=>o.updateTable("Inventory").set(s).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),Ir("Update inventory item"))},async onSuccess(){await r()}})})}),p.jsx(xn,{icon:mi,label:p.jsx(re,{label:"Delete (menu)"}),textTitle:p.jsx(re,{label:"Delete inventory item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:p.jsx(ys,{callback:async()=>Ft.transaction().execute(async s=>s.deleteFrom("Inventory").where("id","=",i.id).execute()),textContent:p.jsx(re,{label:"Inventory item delete (content)"}),textToast:"Inventory item delete",invalidator:r})})]})}},...n})},kp=rn("/$locale/apps/derivean/root/user/$id/inventory")({validateSearch:fr(qr(qN)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Inventory","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(s=>sr({select:s.selectFrom("Inventory as i").innerJoin("Resource as r","r.id","i.resourceId").select(["i.id","i.resourceId","r.name","i.amount","i.limit"]).where("i.id","in",s.selectFrom("User_Inventory as ui").where("ui.userId","=",i).select("ui.inventoryId")).orderBy("r.name","asc"),query({select:o,where:l}){let c=o;if(l?.id&&(c=c.where("i.id","=",l.id)),l?.idIn&&(c=c.where("i.id","in",l.idIn)),l?.fulltext){const d=`%${l.fulltext}%`.toLowerCase();c=c.where(f=>f.or([f("i.id","like",`%${d}%`),f("r.id","like",`%${d}%`),f("r.name","like",`%${d}%`),f("r.id","in",f.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(h=>h.or([h("t.code","like",d),h("t.label","like",d),h("t.group","like",d)])))]))}return c},output:G.object({id:G.string().min(1),resourceId:G.string().min(1),name:G.string().min(1),amount:G.number().nonnegative(),limit:G.number().nonnegative()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=kp.useLoaderData(),{filter:n,cursor:r,selection:i}=kp.useSearch(),s=kp.useNavigate(),{id:o}=kp.useParams(),{tva:l}=ir({from:"__root__"}),c=l().slots;return p.jsx("div",{className:c.base(),children:p.jsx(ise,{onCreate:async({tx:d,entity:f})=>d.insertInto("User_Inventory").values({id:Un(),userId:o,inventoryId:f.id}).execute(),table:{data:t,filter:{value:n,set:Tr(s)},selection:{type:"multi",value:i,set:gs(s)}},fulltext:{value:n?.fulltext,set:Or(s)},cursor:{count:e,cursor:r,textTotal:p.jsx(re,{label:"Number of items"}),...Cr(s)}})})}}),sse=rn("/$locale/apps/derivean/root/resource/$id/view")({component:()=>p.jsx("div",{children:'Hello "/$locale/apps/derivean/root/resource/$id/view/"!'})}),nM="icon-[carbon--document-requirements]",ose=({entity:t,...e})=>{const{locale:n}=_n({from:"/$locale"});return p.jsxs(Xl,{...e,children:[p.jsx(Mn,{icon:nM,to:"/$locale/apps/derivean/root/blueprint/production/$id/requirements",params:{locale:n,id:t.id},children:p.jsx(re,{label:"Production requirements (menu)"})}),p.jsx(Mn,{icon:dr,to:"/$locale/apps/derivean/root/blueprint/production/$id/resources",params:{locale:n,id:t.id},children:p.jsx(re,{label:"Production resource requirements (menu)"})}),p.jsx(Mn,{icon:Nn,to:"/$locale/apps/derivean/root/blueprint/production/$id/dependencies",params:{locale:n,id:t.id},children:p.jsx(re,{label:"Production resource dependencies (menu)"})})]})},ase=t=>{const{locale:e}=_n({from:"/$locale"});return p.jsx(uf,{title:({entity:n})=>p.jsx(ff,{icon:Wi,title:n.resource,subtitle:n.blueprint}),actions:({entity:n})=>p.jsx(p.Fragment,{children:p.jsx(Sn,{icon:Nn,to:"/$locale/apps/derivean/root/blueprint/$id/production",params:{locale:e,id:n.blueprintId},children:p.jsx(re,{label:"Building base detail (label)"})})}),...t})},rM=rn("/$locale/apps/derivean/root/blueprint/production/$id")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return t.ensureQueryData({queryKey:["Blueprint_Production",n],async queryFn(){return e.transaction().execute(async r=>({entity:await df({select:r.selectFrom("Blueprint_Production as bp").innerJoin("Resource as r","r.id","bp.resourceId").innerJoin("Blueprint as bl","bl.id","bp.blueprintId").select(["bp.id","bp.amount","bp.cycles","r.name as resource","bp.blueprintId","bl.name as blueprint"]).where("bp.id","=",n),output:G.object({id:G.string().min(1),resource:G.string().min(1),blueprint:G.string().min(1),blueprintId:G.string().min(1),amount:G.number().nonnegative(),cycles:G.number().int().nonnegative()})})}))}})},component(){const{entity:t}=rM.useLoaderData(),{tva:e}=ir({from:"__root__"}),n=e().slots;return p.jsxs("div",{className:n.base(),children:[p.jsx(ase,{entity:t}),p.jsx(ose,{entity:t}),p.jsx(qo,{})]})}}),lse=({graph:t,blueprintId:e,mode:n="dependencies",reverse:r=!1})=>{try{const i=(s=>r?s.reverse():s)(n==="dependants"?t.dependantsOf(e):t.dependenciesOf(e));return p.jsxs("div",{className:fi(["flex","flex-row","flex-wrap","gap-2","items-center"]),children:[i.length>0?p.jsx(en,{css:{base:["text-emerald-500"]},icon:"icon-[charm--circle-tick]"}):p.jsx(en,{css:{base:["text-amber-500"]},icon:"icon-[fe--question]"}),i.length>0?i.map(s=>p.jsx(Ko,{css:{base:["bg-emerald-200","text-emerald-700","border-emerald-500"]},children:t.getNodeData(s)},Un())):p.jsx(re,{css:{base:["text-amber-500","font-bold"]},label:"No dependents (label)"})]})}catch(i){return i instanceof JL.DepGraphCycleError?p.jsxs("div",{className:fi(["flex","flex-row","gap-2","items-center"]),children:[p.jsx(en,{css:{base:["text-red-500"]},icon:"icon-[charm--circle-cross]"}),i.cyclePath.map(s=>p.jsx(Ko,{css:{base:["bg-red-200","text-red-700","border-red-500"]},children:t.getNodeData(s)},Un()))]}):"kaboom"}},use=({dependencies:t,...e})=>p.jsx(tD,{items:[{id:"name",label:p.jsx(re,{label:"Building name (label)"}),render({entity:n}){return n.name}},{id:"cycles",label:p.jsx(re,{label:"Construction cycles (label)"}),render({entity:n}){return In({number:n.cycles})}},{id:"requirements",label:p.jsx(re,{label:"Required resources (label)"}),render({entity:n}){return p.jsx(pf,{requirements:n.requirements,textEmpty:p.jsx(re,{label:"No requirements (label)"})})}},{id:"dependencies",label:p.jsx(re,{label:"Blueprint dependencies (label)"}),render({entity:n}){return p.jsx(ZL,{dependencies:n.dependencies,textEmpty:p.jsx(re,{label:"No dependencies (label)"})})}},{id:"deps",label:p.jsx(re,{label:"Blueprint dependency graph (label)"}),render({entity:n}){return p.jsx(lse,{graph:t,blueprintId:n.id})}}],...e}),iM=rn("/$locale/apps/derivean/root/blueprint/$id/view")({async loader({context:{kysely:t}}){return{dependencies:await t.transaction().execute(async e=>vm({tx:e}))}},component(){const{dependencies:t}=iM.useLoaderData(),{entity:e}=rc({from:"/$locale/apps/derivean/root/blueprint/$id"});return p.jsx("div",{className:"w-1/2 mx-auto",children:p.jsx(use,{dependencies:t,entity:e})})}}),Zj=({mutation:t,defaultValues:e,variant:n,tva:r=Ci,css:i})=>{const s=Ti({resolver:Oi(lc.shape),defaultValues:{amount:1,passive:!1,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return p.jsxs("form",{className:o.base(),onSubmit:ms({form:s,mutation:t}),children:[p.jsx(hi,{variant:{highlight:!0},error:s.formState.errors.root}),p.jsx(Cn,{formState:s.formState,name:"resourceId",label:p.jsx(re,{label:"Requirement (label)"}),children:p.jsx(ds,{control:s.control,name:"resourceId",render:({field:{ref:l,...c}})=>p.jsx(hf,{allowEmpty:!0,...c})})}),p.jsx(Cn,{formState:s.formState,name:"amount",label:p.jsx(re,{label:"Amount (label)"}),children:p.jsx("input",{type:"number",className:o.input(),...s.register("amount")})}),p.jsx(Cn,{formState:s.formState,name:"passive",label:p.jsx(re,{label:"Passive requirement (label)"}),hint:p.jsx(re,{label:"Passive requirement (hint)"}),children:p.jsx(ds,{control:s.control,name:"passive",render:({field:{ref:l,...c}})=>p.jsx(eD,{...c})})}),p.jsx("div",{className:"flex flex-row justify-between gap-8",children:p.jsx(Tn,{iconEnabled:dr,type:"submit",children:p.jsx(re,{label:"Save (submit)"})})})]})},ES=Ar(),cse=[ES({name:"name",header(){return p.jsx(re,{label:"Requirement name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceID",t.resourceId)}},size:22}),ES({name:"amount",header(){return p.jsx(re,{label:"Amount (label)"})},render({value:t}){return In({number:t})},size:10}),ES({name:"passive",header(){return p.jsx(re,{label:"Passive requirement (label)"})},render({value:t}){return p.jsx(jb,{value:t})},size:10})],dse=({blueprintId:t,table:e,...n})=>{const r=kr([["Blueprint"],["Blueprint_Requirement"],["Blueprint_Resource_Requirement"],["Resource"]]);return p.jsx(Rr,{table:jr({...e,columns:cse}),action:{table(){return p.jsx(Xn,{children:p.jsx(xn,{label:p.jsx(re,{label:"Create requirement item (menu)"}),textTitle:p.jsx(re,{label:"Create requirement item (modal)"}),icon:dr,children:p.jsx(Zj,{mutation:cn({async mutationFn(i){return Ft.transaction().execute(async s=>s.insertInto("Blueprint_Requirement").values({id:Un(),...i,blueprintId:t}).execute())},async onSuccess(){await r()}})})})})},row({data:i}){return p.jsxs(Xn,{children:[p.jsx(xn,{label:p.jsx(re,{label:"Edit (menu)"}),textTitle:p.jsx(re,{label:"Edit requirement item (modal)"}),icon:dr,children:p.jsx(Zj,{defaultValues:i,mutation:cn({async mutationFn(s){return Ft.transaction().execute(async o=>o.updateTable("Blueprint_Requirement").set(s).where("id","=",i.id).returningAll().executeTakeFirstOrThrow())},async onSuccess(){await r()}})})}),p.jsx(xn,{icon:mi,label:p.jsx(re,{label:"Delete (menu)"}),textTitle:p.jsx(re,{label:"Delete requirement item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:p.jsx(ys,{callback:async()=>Ft.transaction().execute(async s=>s.deleteFrom("Blueprint_Requirement").where("id","=",i.id).execute()),textContent:p.jsx(re,{label:"Delete requirement item (content)"}),textToast:"Delete requirement item",invalidator:r})})]})}},...n})},Ip=rn("/$locale/apps/derivean/root/blueprint/$id/requirements")({validateSearch:fr(qr(lc)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Requirement","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>sr({select:s.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(["br.id","r.name","br.resourceId","br.amount","br.passive"]).where("br.blueprintId","=",i).orderBy("r.name","asc"),query({select:o,where:l}){let c=o;return l?.id&&(c=c.where("br.id","=",l.id)),l?.idIn&&(c=c.where("br.id","in",l.idIn)),l?.resourceId&&(c=c.where("br.resourceId","=",l.resourceId)),c},output:G.object({id:G.string().min(1),name:G.string().min(1),resourceId:G.string().min(1),amount:G.number().nonnegative(),passive:Di()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Ip.useLoaderData(),{filter:n,cursor:r,selection:i}=Ip.useSearch(),{id:s}=Ip.useParams(),o=Ip.useNavigate(),{tva:l}=ir({from:"__root__"}),c=l().slots;return p.jsx("div",{className:c.base(),children:p.jsx(dse,{blueprintId:s,table:{data:t,filter:{value:n,set:Tr(o)},selection:{type:"multi",value:i,set:gs(o)}},fulltext:{value:n?.fulltext,set:Or(o)},cursor:{count:e,cursor:r,textTotal:p.jsx(re,{label:"Number of requirements (label)"}),...Cr(o)}})})}}),RN=Kre({shape:G.object({resourceId:G.string().min(1),amount:Kl(),cycles:vv()}),filter:ps.merge(G.object({blueprintId:G.string().optional(),resourceId:G.string().optional()}))}),Jj=({mutation:t,defaultValues:e,variant:n,tva:r=Ci,css:i})=>{const s=Ti({resolver:Oi(RN.shape),defaultValues:{amount:1,cycles:1,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return p.jsxs("form",{className:o.base(),onSubmit:ms({form:s,mutation:t}),children:[p.jsx(hi,{variant:{highlight:!0},error:s.formState.errors.root}),p.jsx(Cn,{formState:s.formState,name:"resourceId",label:p.jsx(re,{label:"Resource name (label)"}),children:p.jsx(ds,{control:s.control,name:"resourceId",render:({field:{ref:l,...c}})=>p.jsx(hf,{textTitle:p.jsx(re,{label:"Select resource (title)"}),allowEmpty:!0,...c})})}),p.jsx(Cn,{formState:s.formState,name:"amount",label:p.jsx(re,{label:"Amount (label)"}),children:p.jsx("input",{type:"number",className:o.input(),...s.register("amount")})}),p.jsx(Cn,{formState:s.formState,name:"cycles",label:p.jsx(re,{label:"Production cycles (label)"}),hint:p.jsx(re,{label:"Production cycles (hint)"}),children:p.jsx("input",{type:"number",className:o.input(),...s.register("cycles")})}),p.jsx("div",{className:"flex flex-row justify-between gap-8",children:p.jsx(Tn,{iconEnabled:Wi,type:"submit",children:p.jsx(re,{label:"Save (submit)"})})})]})},bm=t=>p.jsx(ND,{icon:Nn,textTitle:p.jsx(re,{label:"Select blueprint (title)"}),table:({table:e,...n})=>p.jsx(YL,{table:{...e,hidden:["requirements","dependencies"]},...n}),render:({entity:e})=>e.name,queryKey:"Blueprint",query:async({filter:e,cursor:n})=>Ft.transaction().execute(async r=>sr({select:r.selectFrom("Blueprint as b").select(["b.id","b.name","b.sort","b.cycles",i=>i.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(s=>Nr`json_group_array(json_object(
                                                    'id', ${s.ref("br.id")},
                                                    'amount', ${s.ref("br.amount")},
                                                    'passive', ${s.ref("br.passive")},
                                                    'resourceId', ${s.ref("br.resourceId")},
                                                    'blueprintId', ${s.ref("br.blueprintId")},
                                                    'name', ${s.ref("r.name")}
                                                ))`.as("requirements")).whereRef("br.blueprintId","=","b.id").as("requirements"),i=>i.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as b","b.id","bd.blueprintId").select(s=>Nr`json_group_array(json_object(
                                                    'id', ${s.ref("bd.id")},
                                                    'dependencyId', ${s.ref("bd.dependencyId")},
                                                    'blueprintId', ${s.ref("bd.blueprintId")},
                                                    'name', ${s.ref("b.name")}
                                                ))`.as("requirements")).whereRef("bd.blueprintId","=","b.id").as("dependencies")]).orderBy("b.name","asc"),query({select:i,where:s}){let o=i;if(s?.id&&(o=o.where("b.id","=",s.id)),s?.fulltext){const l=`%${s.fulltext}%`.toLowerCase();o=o.where(c=>c.or([c("b.id","like",l),c("b.name","like",l)]))}return o},output:G.object({id:G.string().min(1),name:G.string().min(1),cycles:G.number().nonnegative(),sort:G.number().nonnegative(),requirements:Zr(lc.entity.merge(G.object({name:G.string().min(1)}))),dependencies:Zr(Ua.entity.merge(G.object({name:G.string().min(1)})))}),filter:e,cursor:n})),...t}),fse=G.object({blueprintId:G.string().min(1)}),pse=({mutation:t,defaultValues:e,variant:n,tva:r=Ci,css:i})=>{const s=Ti({resolver:Oi(fse),defaultValues:e}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return p.jsxs("form",{className:o.base(),onSubmit:ms({form:s,mutation:t}),children:[p.jsx(hi,{variant:{highlight:!0},error:s.formState.errors.root}),p.jsx(Cn,{formState:s.formState,name:"blueprintId",label:p.jsx(re,{label:"Target blueprint (label)"}),children:p.jsx(ds,{control:s.control,name:"blueprintId",render:({field:{ref:l,...c}})=>p.jsx(bm,{allowEmpty:!0,...c})})}),p.jsx("div",{className:"flex flex-row justify-between gap-8",children:p.jsx(Tn,{iconEnabled:Nn,type:"submit",children:p.jsx(re,{label:"Save (submit)"})})})]})},Jc=Ar(),hse=[Jc({name:"name",header(){return p.jsx(re,{label:"Resource name (label)"})},render({data:t,value:e}){const{locale:n}=_n({from:"/$locale"});return p.jsx(Sn,{icon:Wi,to:"/$locale/apps/derivean/root/blueprint/production/$id/requirements",params:{locale:n,id:t.id},children:e})},size:18}),Jc({name:"amount",header(){return p.jsx(re,{label:"Amount (label)"})},render({value:t}){return In({number:t})},size:8}),Jc({name:"cycles",header(){return p.jsx(re,{label:"Production cycles (label)"})},render({value:t}){return In({number:t})},size:8}),Jc({name:"requirements",header(){return p.jsx(re,{label:"Required resources (label)"})},render({value:t}){return p.jsx(pf,{textTitle:p.jsx(re,{label:"Resource requirements (title)"}),textEmpty:p.jsx(re,{label:"No requirements (label)"}),requirements:t})},size:32}),Jc({name:"resources",header(){return p.jsx(re,{label:"Required production resources (label)"})},render({value:t}){return p.jsx(ec,{items:t,render:({entity:e})=>p.jsxs("div",{className:fi(["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2"]),children:[p.jsx("div",{children:e.name}),p.jsxs("div",{className:"text-md font-bold text-slate-500",children:["x",In({number:e.amount})]})]})})},size:32}),Jc({name:"dependencies",header(){return p.jsx(re,{label:"Required production dependencies (label)"})},render({value:t}){return p.jsx(ec,{items:t,render:({entity:e})=>p.jsx("div",{className:fi(["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2"]),children:p.jsx("div",{children:e.name})})})},size:32})],mse=({blueprintId:t,table:e,...n})=>{const r=kr([["Blueprint"],["Blueprint_Production"],["Blueprint_Production_Requirement"],["Resource"]]);return p.jsx(Rr,{table:jr({...e,columns:hse}),action:{table(){return p.jsx(Xn,{children:p.jsx(xn,{label:p.jsx(re,{label:"Create blueprint production (menu)"}),textTitle:p.jsx(re,{label:"Create blueprint production (modal)"}),icon:Wi,children:({close:i})=>p.jsx(Jj,{mutation:cn({async mutationFn(s){return Ft.transaction().execute(async o=>await o.insertInto("Blueprint_Production").values({id:Un(),...s,blueprintId:t}).returningAll().executeTakeFirstOrThrow())},async onSuccess(){await r(),i()}})})})})},row({data:i}){return p.jsxs(Xn,{children:[p.jsx(xn,{label:p.jsx(re,{label:"Edit (menu)"}),textTitle:p.jsx(re,{label:"Edit blueprint production (modal)"}),icon:Wi,children:p.jsx(Jj,{defaultValues:i,mutation:cn({async mutationFn(s){return Ft.transaction().execute(async o=>o.updateTable("Blueprint_Production").set(s).where("id","=",i.id).returningAll().executeTakeFirstOrThrow())},async onSuccess(){await r()}})})}),p.jsx(xn,{label:p.jsx(re,{label:"Move production to (menu)"}),textTitle:p.jsx(re,{label:"Move production to (modal)"}),icon:dr,children:({close:s})=>p.jsx(pse,{mutation:cn({async mutationFn(o){return Ft.transaction().execute(async l=>{await l.updateTable("Blueprint_Production").set({blueprintId:o.blueprintId}).where("id","=",i.id).execute()})},async onSuccess(){await r(),s()}})})}),p.jsx(xn,{icon:mi,label:p.jsx(re,{label:"Delete (menu)"}),textTitle:p.jsx(re,{label:"Delete blueprint production (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:p.jsx(ys,{callback:async()=>Ft.transaction().execute(async s=>s.deleteFrom("Blueprint_Production").where("id","=",i.id).execute()),textContent:p.jsx(re,{label:"Delete blueprint production (content)"}),textToast:"Delete blueprint production",invalidator:r})})]})}},...n})},xm=Gre({shape:G.object({blueprintId:G.string().min(1)}),filter:ps}),wm=Zre({shape:G.object({resourceId:G.string().min(1),amount:Kl(),passive:G.boolean()}),filter:ps.merge(G.object({blueprintProductionId:G.string().optional(),resourceId:G.string().optional()}))}),_m=Jre({shape:G.object({resourceId:G.string().min(1),amount:Kl()}),filter:ps.merge(G.object({resourceId:G.string().optional()}))}),Cp=rn("/$locale/apps/derivean/root/blueprint/$id/production")({validateSearch:fr(qr(RN)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Production","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>sr({select:s.selectFrom("Blueprint_Production as bp").innerJoin("Blueprint as bl","bl.id","bp.blueprintId").innerJoin("Resource as r","r.id","bp.resourceId").select(["bp.id","r.name","bp.amount","bp.blueprintId","bp.cycles","bp.resourceId",o=>o.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(l=>Nr`json_group_array(json_object(
                                                'id', ${l.ref("bpr.id")},
                                                'amount', ${l.ref("bpr.amount")},
                                                'passive', ${l.ref("bpr.passive")},
                                                'blueprintProductionId', ${l.ref("bpr.blueprintProductionId")},
                                                'resourceId', ${l.ref("bpr.resourceId")},
                                                'name', ${l.ref("r.name")}
                                            ))`.as("requirements")).whereRef("bpr.blueprintProductionId","=","bp.id").as("requirements"),o=>o.selectFrom("Blueprint_Production_Resource as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(l=>Nr`json_group_array(json_object(
                                                'id', ${l.ref("bpr.id")},
                                                'amount', ${l.ref("bpr.amount")},
                                                'blueprintProductionId', ${l.ref("bpr.blueprintProductionId")},
                                                'resourceId', ${l.ref("bpr.resourceId")},
                                                'name', ${l.ref("r.name")}
                                            ))`.as("requirements")).whereRef("bpr.blueprintProductionId","=","bp.id").as("resources"),o=>o.selectFrom("Blueprint_Production_Dependency as bpd").innerJoin("Blueprint as bl2","bl2.id","bpd.blueprintId").select(l=>Nr`json_group_array(json_object(
                                                'id', ${l.ref("bpd.id")},
                                                'blueprintProductionId', ${l.ref("bpd.blueprintProductionId")},
                                                'blueprintId', ${l.ref("bpd.blueprintId")},
                                                'name', ${l.ref("bl2.name")}
                                            ))`.as("requirements")).whereRef("bpd.blueprintProductionId","=","bp.id").as("dependencies")]).where("bp.blueprintId","=",i).orderBy("r.name","asc"),output:G.object({id:G.string().min(1),name:G.string().min(1),blueprintId:G.string().min(1),resourceId:G.string().min(1),amount:G.number().nonnegative(),cycles:G.number().nonnegative(),requirements:Zr(wm.entity.merge(G.object({name:G.string().min(1)}))),resources:Zr(_m.entity.merge(G.object({name:G.string().min(1)}))),dependencies:Zr(xm.entity.merge(G.object({name:G.string().min(1)})))}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Cp.useLoaderData(),{filter:n,cursor:r,selection:i}=Cp.useSearch(),{id:s}=Cp.useParams(),o=Cp.useNavigate(),{tva:l}=ir({from:"__root__"}),c=l().slots;return p.jsx("div",{className:c.base(),children:p.jsx(mse,{blueprintId:s,table:{data:t,filter:{value:n,set:Tr(o)},selection:{type:"multi",value:i,set:gs(o)}},fulltext:{value:n?.fulltext,set:Or(o)},cursor:{count:e,cursor:r,textTotal:p.jsx(re,{label:"Number of productions (label)"}),...Cr(o)}})})}}),sM=rn("/$locale/apps/derivean/root/blueprint/$id/edit")({component:()=>{const{entity:t}=rc({from:"/$locale/apps/derivean/root/blueprint/$id"}),e=sM.useNavigate(),n=kr([["Blueprint"]]);return p.jsx("div",{className:"w-1/2 mx-auto",children:p.jsx(Gv,{defaultValues:t,mutation:cn({async mutationFn(r){return kn.promise(Ft.transaction().execute(async i=>i.updateTable("Blueprint").set(r).where("id","=",t.id).returningAll().executeTakeFirstOrThrow()),Ir("Update blueprint"))},async onSuccess(){await n(),e({to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{id:t.id}})}})})})}}),Yj=({mutation:t,defaultValues:e,variant:n,tva:r=Ci,css:i})=>{const s=Ti({resolver:Oi(Ua.shape),defaultValues:e}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return p.jsxs("form",{className:o.base(),onSubmit:ms({form:s,mutation:t}),children:[p.jsx(hi,{variant:{highlight:!0},error:s.formState.errors.root}),p.jsx(Cn,{formState:s.formState,name:"dependencyId",label:p.jsx(re,{label:"Blueprint dependency (label)"}),children:p.jsx(ds,{control:s.control,name:"dependencyId",render:({field:{ref:l,...c}})=>p.jsx(bm,{textTitle:p.jsx(re,{label:"Select blueprint (title)"}),allowEmpty:!0,...c})})}),p.jsx("div",{className:"flex flex-row justify-between gap-8",children:p.jsx(Tn,{iconEnabled:Nn,type:"submit",children:p.jsx(re,{label:"Save (submit)"})})})]})},gse=Ar(),yse=[gse({name:"name",header(){return p.jsx(re,{label:"Required building (label)"})},render({data:t,value:e}){const{locale:n}=_n({from:"/$locale"});return p.jsx(Sn,{icon:Nn,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:n,id:t.dependencyId},children:e})},size:22})],vse=({blueprintId:t,table:e,...n})=>{const r=kr([["Blueprint_Dependency"],["Blueprint"]]);return p.jsx(Rr,{table:jr({...e,columns:yse}),action:{table(){return p.jsx(Xn,{children:p.jsx(xn,{label:p.jsx(re,{label:"Create blueprint dependency (menu)"}),textTitle:p.jsx(re,{label:"Create blueprint dependency (modal)"}),icon:Nn,children:({close:i})=>p.jsx(Yj,{mutation:cn({async mutationFn(s){return kn.promise(Ft.transaction().execute(async o=>{const l=o.insertInto("Blueprint_Dependency").values({id:Un(),...s,blueprintId:t}).returningAll().executeTakeFirstOrThrow();return await Mh({tx:o}),l}),Ir("Create blueprint dependency"))},async onSuccess(){await r(),i()}})})})})},row({data:i}){return p.jsxs(Xn,{children:[p.jsx(xn,{label:p.jsx(re,{label:"Edit (menu)"}),textTitle:p.jsx(re,{label:"Edit blueprint dependency (modal)"}),icon:Nn,children:({close:s})=>p.jsx(Yj,{defaultValues:i,mutation:cn({async mutationFn(o){return kn.promise(Ft.transaction().execute(async l=>l.updateTable("Blueprint_Dependency").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),Ir("Update blueprint dependency"))},async onSuccess(){await r(),s()}})})}),p.jsx(xn,{icon:mi,label:p.jsx(re,{label:"Delete (menu)"}),textTitle:p.jsx(re,{label:"Delete blueprint dependency (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:p.jsx(ys,{callback:async()=>Ft.transaction().execute(async s=>s.deleteFrom("Blueprint_Dependency").where("id","=",i.id).execute()),textContent:p.jsx(re,{label:"Delete blueprint dependency (content)"}),textToast:"Delete blueprint dependency",invalidator:r})})]})}},...n})},Tp=rn("/$locale/apps/derivean/root/blueprint/$id/dependencies")({validateSearch:fr(qr(Ua)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Dependency","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>sr({select:s.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as bl","bl.id","bd.dependencyId").select(["bd.id","bl.name","bd.blueprintId","bd.dependencyId"]).where("bd.blueprintId","=",i).orderBy("bl.name","asc"),query({select:o,where:l}){let c=o;return l?.id&&(c=c.where("bd.id","=",l.id)),l?.idIn&&(c=c.where("bd.id","in",l.idIn)),l?.blueprintId&&(c=c.where("bd.blueprintId","=",l.blueprintId)),l?.dependencyId&&(c=c.where("bd.dependencyId","=",l.dependencyId)),c},output:G.object({id:G.string().min(1),name:G.string().min(1),blueprintId:G.string().min(1),dependencyId:G.string().min(1)}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Tp.useLoaderData(),{filter:n,cursor:r,selection:i}=Tp.useSearch(),{id:s}=Tp.useParams(),o=Tp.useNavigate(),{tva:l}=ir({from:"__root__"}),c=l().slots;return p.jsx("div",{className:c.base(),children:p.jsx(vse,{blueprintId:s,table:{data:t,filter:{value:n,set:Tr(o)},selection:{type:"multi",value:i,set:gs(o)}},fulltext:{value:n?.fulltext,set:Or(o)},cursor:{count:e,cursor:r,textTotal:p.jsx(re,{label:"Number of requirements (label)"}),...Cr(o)}})})}}),bse=Hre({shape:G.object({conflictId:G.string().min(1)}),filter:ps}),Xj=({mutation:t,defaultValues:e,variant:n,tva:r=Ci,css:i})=>{const s=Ti({resolver:Oi(bse.shape),defaultValues:e}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return p.jsxs("form",{className:o.base(),onSubmit:ms({form:s,mutation:t}),children:[p.jsx(hi,{variant:{highlight:!0},error:s.formState.errors.root}),p.jsx(Cn,{formState:s.formState,name:"conflictId",label:p.jsx(re,{label:"Blueprint conflict (label)"}),hint:p.jsx(re,{label:"Blueprint conflict (hint)"}),children:p.jsx(ds,{control:s.control,name:"conflictId",render:({field:{ref:l,...c}})=>p.jsx(bm,{textTitle:p.jsx(re,{label:"Select blueprint conflict (title)"}),allowEmpty:!0,...c})})}),p.jsx("div",{className:"flex flex-row justify-between gap-8",children:p.jsx(Tn,{iconEnabled:Nn,type:"submit",children:p.jsx(re,{label:"Save (submit)"})})})]})},xse=Ar(),wse=[xse({name:"name",header(){return p.jsx(re,{label:"Conflict building (label)"})},render({data:t,value:e}){const{locale:n}=_n({from:"/$locale"});return p.jsx(Sn,{icon:Nn,to:"/$locale/apps/derivean/root/blueprint/$id/conflicts",params:{locale:n,id:t.conflictId},children:e})},size:22})],_se=({blueprintId:t,table:e,...n})=>{const r=kr([["Blueprint_Conflict"],["Blueprint"]]);return p.jsx(Rr,{table:jr({...e,columns:wse}),action:{table(){return p.jsx(Xn,{children:p.jsx(xn,{label:p.jsx(re,{label:"Create blueprint conflict (menu)"}),textTitle:p.jsx(re,{label:"Create blueprint conflict (modal)"}),icon:Nn,children:({close:i})=>p.jsx(Xj,{mutation:cn({async mutationFn(s){return kn.promise(Ft.transaction().execute(async o=>{const l=o.insertInto("Blueprint_Conflict").values({id:Un(),...s,blueprintId:t}).returningAll().executeTakeFirstOrThrow();return await Mh({tx:o}),l}),Ir("Create blueprint conflict"))},async onSuccess(){await r(),i()}})})})})},row({data:i}){return p.jsxs(Xn,{children:[p.jsx(xn,{label:p.jsx(re,{label:"Edit (menu)"}),textTitle:p.jsx(re,{label:"Edit blueprint conflict (modal)"}),icon:Nn,children:({close:s})=>p.jsx(Xj,{defaultValues:i,mutation:cn({async mutationFn(o){return kn.promise(Ft.transaction().execute(async l=>l.updateTable("Blueprint_Conflict").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),Ir("Update blueprint conflict"))},async onSuccess(){await r(),s()}})})}),p.jsx(xn,{icon:mi,label:p.jsx(re,{label:"Delete (menu)"}),textTitle:p.jsx(re,{label:"Delete blueprint conflict (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:p.jsx(ys,{callback:async()=>Ft.transaction().execute(async s=>s.deleteFrom("Blueprint_Conflict").where("id","=",i.id).execute()),textContent:p.jsx(re,{label:"Delete blueprint conflict (content)"}),textToast:"Delete blueprint conflict",invalidator:r})})]})}},...n})},Op=rn("/$locale/apps/derivean/root/blueprint/$id/conflicts")({validateSearch:fr(qr(Ua)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Conflict","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>sr({select:s.selectFrom("Blueprint_Conflict as bc").innerJoin("Blueprint as bl","bl.id","bc.conflictId").select(["bc.id","bl.name","bc.blueprintId","bc.conflictId"]).where("bc.blueprintId","=",i).orderBy("bl.name","asc"),query({select:o,where:l}){let c=o;return l?.id&&(c=c.where("bc.id","=",l.id)),l?.idIn&&(c=c.where("bc.id","in",l.idIn)),c},output:G.object({id:G.string().min(1),name:G.string().min(1),blueprintId:G.string().min(1),conflictId:G.string().min(1)}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Op.useLoaderData(),{filter:n,cursor:r,selection:i}=Op.useSearch(),{id:s}=Op.useParams(),o=Op.useNavigate(),{tva:l}=ir({from:"__root__"}),c=l().slots;return p.jsx("div",{className:c.base(),children:p.jsx(_se,{blueprintId:s,table:{data:t,filter:{value:n,set:Tr(o)},selection:{type:"multi",value:i,set:gs(o)}},fulltext:{value:n?.fulltext,set:Or(o)},cursor:{count:e,cursor:r,textTotal:p.jsx(re,{label:"Number of conflicts (label)"}),...Cr(o)}})})}}),Sse=({entity:t,...e})=>{const{locale:n}=_n({from:"/$locale"});return p.jsxs(Xl,{...e,children:[p.jsx(Mn,{icon:nM,to:"/$locale/apps/derivean/game/blueprint/production/$id/requirements",params:{locale:n,id:t.id},children:p.jsx(re,{label:"Production requirements (menu)"})}),p.jsx(Mn,{icon:dr,to:"/$locale/apps/derivean/game/blueprint/production/$id/resources",params:{locale:n,id:t.id},children:p.jsx(re,{label:"Production resource requirements (menu)"})}),p.jsx(Mn,{icon:Nn,to:"/$locale/apps/derivean/game/blueprint/production/$id/dependencies",params:{locale:n,id:t.id},children:p.jsx(re,{label:"Production resource dependencies (menu)"})})]})},Ese=t=>{const{locale:e}=_n({from:"/$locale"});return p.jsx(uf,{title:({entity:n})=>p.jsx(ff,{icon:Wi,title:n.resource,subtitle:n.blueprint}),actions:({entity:n})=>p.jsx(p.Fragment,{children:p.jsx(Sn,{icon:Nn,to:"/$locale/apps/derivean/game/blueprint/$id/production",params:{locale:e,id:n.blueprintId},children:p.jsx(re,{label:"Building base detail (label)"})})}),...t})},oM=rn("/$locale/apps/derivean/game/blueprint/production/$id")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return t.ensureQueryData({queryKey:["Blueprint_Production",n],async queryFn(){return e.transaction().execute(async r=>({entity:await df({select:r.selectFrom("Blueprint_Production as bp").innerJoin("Resource as r","r.id","bp.resourceId").innerJoin("Blueprint as bl","bl.id","bp.blueprintId").select(["bp.id","bp.amount","bp.cycles","r.name as resource","bp.blueprintId","bl.name as blueprint"]).where("bp.id","=",n),output:G.object({id:G.string().min(1),resource:G.string().min(1),blueprint:G.string().min(1),blueprintId:G.string().min(1),amount:G.number().nonnegative(),cycles:G.number().int().nonnegative()})})}))}})},component(){const{entity:t}=oM.useLoaderData(),{tva:e}=ir({from:"__root__"}),n=e().slots;return p.jsxs("div",{className:n.base(),children:[p.jsx(Ese,{entity:t}),p.jsx(Sse,{entity:t}),p.jsx(qo,{})]})}}),Nse=t=>p.jsx(tD,{items:[{id:"name",label:p.jsx(re,{label:"Building name (label)"}),render({entity:e}){return e.name}},{id:"cycles",label:p.jsx(re,{label:"Construction cycles (label)"}),render({entity:e}){return In({number:e.cycles})}}],...t}),kse=rn("/$locale/apps/derivean/game/blueprint/$id/view")({component(){const{entity:t}=rc({from:"/$locale/apps/derivean/game/blueprint/$id"});return p.jsx("div",{className:"w-1/2 mx-auto",children:p.jsx(Nse,{entity:t})})}}),NS=Ar(),Ise=[NS({name:"name",header(){return p.jsx(re,{label:"Requirement name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceID",t.resourceId)}},size:22}),NS({name:"amount",header(){return p.jsx(re,{label:"Amount (label)"})},render({value:t}){return In({number:t})},size:10}),NS({name:"passive",header(){return p.jsx(re,{label:"Passive requirement (label)"})},render({value:t}){return p.jsx(jb,{value:t})},size:10})],Cse=({table:t,...e})=>p.jsx(Rr,{table:jr({...t,columns:Ise}),...e}),Fy=rn("/$locale/apps/derivean/game/blueprint/$id/requirements")({validateSearch:fr(qr(lc)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Requirement","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>sr({select:s.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(["br.id","r.name","br.resourceId","br.amount","br.passive"]).where("br.blueprintId","=",i).orderBy("r.name","asc"),query({select:o,where:l}){let c=o;return l?.id&&(c=c.where("br.id","=",l.id)),l?.idIn&&(c=c.where("br.id","in",l.idIn)),l?.resourceId&&(c=c.where("br.resourceId","=",l.resourceId)),c},output:G.object({id:G.string().min(1),name:G.string().min(1),resourceId:G.string().min(1),amount:G.number().nonnegative(),passive:Di()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Fy.useLoaderData(),{filter:n,cursor:r}=Fy.useSearch(),i=Fy.useNavigate(),{tva:s}=ir({from:"__root__"}),o=s().slots;return p.jsx("div",{className:o.base(),children:p.jsx(Cse,{table:{data:t,filter:{value:n,set:Tr(i)}},fulltext:{value:n?.fulltext,set:Or(i)},cursor:{count:e,cursor:r,textTotal:p.jsx(re,{label:"Number of requirements (label)"}),...Cr(i)}})})}}),Yc=Ar(),Tse=[Yc({name:"name",header(){return p.jsx(re,{label:"Resource name (label)"})},render({data:t,value:e}){const{locale:n}=_n({from:"/$locale"});return p.jsx(Sn,{icon:Wi,to:"/$locale/apps/derivean/game/blueprint/production/$id/requirements",params:{locale:n,id:t.id},children:e})},size:18}),Yc({name:"amount",header(){return p.jsx(re,{label:"Amount (label)"})},render({value:t}){return In({number:t})},size:8}),Yc({name:"cycles",header(){return p.jsx(re,{label:"Production cycles (label)"})},render({value:t}){return In({number:t})},size:8}),Yc({name:"requirements",header(){return p.jsx(re,{label:"Required resources (label)"})},render({value:t}){return p.jsx(pf,{textTitle:p.jsx(re,{label:"Resource requirements (title)"}),textEmpty:p.jsx(re,{label:"No requirements (label)"}),requirements:t})},size:32}),Yc({name:"resources",header(){return p.jsx(re,{label:"Required production resources (label)"})},render({value:t}){return p.jsx(ec,{items:t,render:({entity:e})=>p.jsxs("div",{className:fi(["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2"]),children:[p.jsx("div",{children:e.name}),p.jsxs("div",{className:"text-md font-bold text-slate-500",children:["x",In({number:e.amount})]})]})})},size:32}),Yc({name:"dependencies",header(){return p.jsx(re,{label:"Required production dependencies (label)"})},render({value:t}){const{locale:e}=_n({from:"/$locale"});return p.jsx(ec,{items:t,render:({entity:n})=>p.jsx("div",{className:fi(["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2"]),children:p.jsx(Sn,{to:"/$locale/apps/derivean/game/blueprint/$id/requirements",params:{locale:e,id:n.blueprintId},children:n.name})})})},size:32})],Ose=({table:t,...e})=>p.jsx(Rr,{table:jr({...t,columns:Tse}),...e}),Dy=rn("/$locale/apps/derivean/game/blueprint/$id/production")({validateSearch:fr(qr(RN)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Production","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>sr({select:s.selectFrom("Blueprint_Production as bp").innerJoin("Blueprint as bl","bl.id","bp.blueprintId").innerJoin("Resource as r","r.id","bp.resourceId").select(["bp.id","r.name","bp.amount","bp.blueprintId","bp.cycles","bp.resourceId",o=>o.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(l=>Nr`json_group_array(json_object(
                                                'id', ${l.ref("bpr.id")},
                                                'amount', ${l.ref("bpr.amount")},
                                                'passive', ${l.ref("bpr.passive")},
                                                'blueprintProductionId', ${l.ref("bpr.blueprintProductionId")},
                                                'resourceId', ${l.ref("bpr.resourceId")},
                                                'name', ${l.ref("r.name")}
                                            ))`.as("requirements")).whereRef("bpr.blueprintProductionId","=","bp.id").as("requirements"),o=>o.selectFrom("Blueprint_Production_Resource as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(l=>Nr`json_group_array(json_object(
                                                'id', ${l.ref("bpr.id")},
                                                'amount', ${l.ref("bpr.amount")},
                                                'blueprintProductionId', ${l.ref("bpr.blueprintProductionId")},
                                                'resourceId', ${l.ref("bpr.resourceId")},
                                                'name', ${l.ref("r.name")}
                                            ))`.as("requirements")).whereRef("bpr.blueprintProductionId","=","bp.id").as("resources"),o=>o.selectFrom("Blueprint_Production_Dependency as bpd").innerJoin("Blueprint as bl2","bl2.id","bpd.blueprintId").select(l=>Nr`json_group_array(json_object(
                                                'id', ${l.ref("bpd.id")},
                                                'blueprintProductionId', ${l.ref("bpd.blueprintProductionId")},
                                                'blueprintId', ${l.ref("bpd.blueprintId")},
                                                'name', ${l.ref("bl2.name")}
                                            ))`.as("requirements")).whereRef("bpd.blueprintProductionId","=","bp.id").as("dependencies")]).where("bp.blueprintId","=",i).orderBy("r.name","asc"),output:G.object({id:G.string().min(1),name:G.string().min(1),blueprintId:G.string().min(1),resourceId:G.string().min(1),amount:G.number().nonnegative(),cycles:G.number().nonnegative(),requirements:Zr(wm.entity.merge(G.object({name:G.string().min(1)}))),resources:Zr(_m.entity.merge(G.object({name:G.string().min(1)}))),dependencies:Zr(xm.entity.merge(G.object({name:G.string().min(1)})))}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Dy.useLoaderData(),{filter:n,cursor:r}=Dy.useSearch(),i=Dy.useNavigate(),{tva:s}=ir({from:"__root__"}),o=s().slots;return p.jsx("div",{className:o.base(),children:p.jsx(Ose,{table:{data:t,filter:{value:n,set:Tr(i)}},fulltext:{value:n?.fulltext,set:Or(i)},cursor:{count:e,cursor:r,textTotal:p.jsx(re,{label:"Number of productions (label)"}),...Cr(i)}})})}}),qse=Ar(),Rse=[qse({name:"name",header(){return p.jsx(re,{label:"Required building (label)"})},render({data:t,value:e}){const{locale:n}=_n({from:"/$locale"});return p.jsx(Sn,{icon:Nn,to:"/$locale/apps/derivean/game/blueprint/$id/view",params:{locale:n,id:t.dependencyId},children:e})},size:22})],jse=({table:t,...e})=>p.jsx(Rr,{table:jr({...t,columns:Rse}),...e}),Ly=rn("/$locale/apps/derivean/game/blueprint/$id/dependencies")({validateSearch:fr(qr(Ua)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Dependency","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>sr({select:s.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as bl","bl.id","bd.dependencyId").select(["bd.id","bl.name","bd.blueprintId","bd.dependencyId"]).where("bd.blueprintId","=",i).orderBy("bl.name","asc"),query({select:o,where:l}){let c=o;return l?.id&&(c=c.where("bd.id","=",l.id)),l?.idIn&&(c=c.where("bd.id","in",l.idIn)),l?.blueprintId&&(c=c.where("bd.blueprintId","=",l.blueprintId)),l?.dependencyId&&(c=c.where("bd.dependencyId","=",l.dependencyId)),c},output:G.object({id:G.string().min(1),name:G.string().min(1),blueprintId:G.string().min(1),dependencyId:G.string().min(1)}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Ly.useLoaderData(),{filter:n,cursor:r}=Ly.useSearch(),i=Ly.useNavigate(),{tva:s}=ir({from:"__root__"}),o=s().slots;return p.jsx("div",{className:o.base(),children:p.jsx(jse,{table:{data:t,filter:{value:n,set:Tr(i)}},fulltext:{value:n?.fulltext,set:Or(i)},cursor:{count:e,cursor:r,textTotal:p.jsx(re,{label:"Number of dependencies (label)"}),...Cr(i)}})})}}),Ase=Ar(),Pse=[Ase({name:"name",header(){return p.jsx(re,{label:"Conflict building (label)"})},render({data:t,value:e}){const{locale:n}=_n({from:"/$locale"});return p.jsx(Sn,{icon:Nn,to:"/$locale/apps/derivean/game/blueprint/$id/conflicts",params:{locale:n,id:t.conflictId},children:e})},size:22})],Fse=({table:t,...e})=>p.jsx(Rr,{table:jr({...t,columns:Pse}),...e}),My=rn("/$locale/apps/derivean/game/blueprint/$id/conflicts")({validateSearch:fr(qr(Ua)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Conflict","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>sr({select:s.selectFrom("Blueprint_Conflict as bc").innerJoin("Blueprint as bl","bl.id","bc.conflictId").select(["bc.id","bl.name","bc.blueprintId","bc.conflictId"]).where("bc.blueprintId","=",i).orderBy("bl.name","asc"),query({select:o,where:l}){let c=o;return l?.id&&(c=c.where("bc.id","=",l.id)),l?.idIn&&(c=c.where("bc.id","in",l.idIn)),c},output:G.object({id:G.string().min(1),name:G.string().min(1),blueprintId:G.string().min(1),conflictId:G.string().min(1)}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=My.useLoaderData(),{filter:n,cursor:r}=My.useSearch(),i=My.useNavigate(),{tva:s}=ir({from:"__root__"}),o=s().slots;return p.jsx("div",{className:o.base(),children:p.jsx(Fse,{table:{data:t,filter:{value:n,set:Tr(i)}},fulltext:{value:n?.fulltext,set:Or(i)},cursor:{count:e,cursor:r,textTotal:p.jsx(re,{label:"Number of conflicts (label)"}),...Cr(i)}})})}}),aM=Xre({shape:G.object({blueprintId:G.string().min(1)}),filter:ps.merge(G.object({userId:G.string().optional(),blueprintId:G.string().optional(),name:G.string().optional()}))}),e3=({mutation:t,defaultValues:e,variant:n,tva:r=Ci,css:i})=>{const s=Ti({resolver:Oi(aM.shape),defaultValues:e}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return p.jsxs("form",{className:o.base(),onSubmit:ms({form:s,mutation:t}),children:[p.jsx(hi,{variant:{highlight:!0},error:s.formState.errors.root}),p.jsx(Cn,{formState:s.formState,name:"blueprintId",label:p.jsx(re,{label:"Select blueprint (label)"}),children:p.jsx(ds,{control:s.control,name:"blueprintId",render:({field:{ref:l,...c}})=>p.jsx(bm,{allowEmpty:!0,...c})})}),p.jsx("div",{className:"flex flex-row justify-between gap-8",children:p.jsx(Tn,{iconEnabled:Ba,type:"submit",children:p.jsx(re,{label:"Save (submit)"})})})]})},Dse=Ar(),Lse=[Dse({name:"name",header(){return p.jsx(re,{label:"Building name (label)"})},render({data:t,value:e}){const{locale:n}=_n({from:"/$locale"});return p.jsxs("div",{className:"flex flex-row gap-2",children:[p.jsx(Sn,{icon:Nn,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:n,id:t.blueprintId}}),e]})},size:14})],Mse=({userId:t,table:e,...n})=>{const r=kr([["Building"]]);return p.jsx(Rr,{table:jr({...e,columns:Lse}),action:{table:t?()=>p.jsx(Xn,{children:p.jsx(xn,{label:p.jsx(re,{label:"Create building (menu)"}),textTitle:p.jsx(re,{label:"Create building (modal)"}),icon:dr,children:p.jsx(e3,{mutation:cn({async mutationFn(i){return kn.promise(Ft.transaction().execute(s=>s.insertInto("Building").values({id:Un(),...i,userId:t}).returningAll().executeTakeFirstOrThrow()),Ir("Create building"))},async onSuccess(){await r()}})})})}):void 0,row({data:i}){return p.jsxs(Xn,{children:[p.jsx(xn,{label:p.jsx(re,{label:"Edit (menu)"}),textTitle:p.jsx(re,{label:"Edit building (modal)"}),icon:Ba,children:p.jsx(e3,{defaultValues:i,mutation:cn({async mutationFn(s){return kn.promise(Ft.transaction().execute(o=>o.updateTable("Building").set(s).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),Ir("Edit building"))},async onSuccess(){await r()}})})}),p.jsx(xn,{icon:mi,label:p.jsx(re,{label:"Delete (menu)"}),textTitle:p.jsx(re,{label:"Delete building (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:p.jsx(ys,{callback:async()=>Ft.transaction().execute(async s=>s.deleteFrom("Building").where("id","=",i.id).execute()),textContent:p.jsx(re,{label:"Building delete (content)"}),textToast:"Building delete",invalidator:r})})]})}},...n})},qp=rn("/$locale/apps/derivean/root/user/$id/building/list")({validateSearch:fr(qr(aM)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Building","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(s=>sr({select:s.selectFrom("Building as b").innerJoin("Blueprint as bl","bl.id","b.blueprintId").select(["b.id","bl.name","b.blueprintId"]).where("b.userId","=",i),output:G.object({id:G.string().min(1),name:G.string().min(1),blueprintId:G.string().min(1)}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=qp.useLoaderData(),{filter:n,cursor:r,selection:i}=qp.useSearch(),{id:s}=qp.useParams(),o=qp.useNavigate(),{tva:l}=ir({from:"__root__"}),c=l().slots;return p.jsx("div",{className:c.base(),children:p.jsx(Mse,{userId:s,table:{data:t,filter:{value:n,set:Tr(o)},selection:{type:"multi",value:i,set:gs(o)}},fulltext:{value:n?.fulltext,set:Or(o)},cursor:{count:e,cursor:r,textTotal:p.jsx(re,{label:"Number of buildings (label)"}),...Cr(o)}})})}}),t3=({mutation:t,defaultValues:e,variant:n,tva:r=Ci,css:i})=>{const s=Ti({resolver:Oi(_m.shape),defaultValues:{amount:1,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return p.jsxs("form",{className:o.base(),onSubmit:ms({form:s,mutation:t}),children:[p.jsx(hi,{variant:{highlight:!0},error:s.formState.errors.root}),p.jsx(Cn,{formState:s.formState,name:"resourceId",label:p.jsx(re,{label:"Requirement (label)"}),children:p.jsx(ds,{control:s.control,name:"resourceId",render:({field:{ref:l,...c}})=>p.jsx(hf,{allowEmpty:!0,...c})})}),p.jsx(Cn,{formState:s.formState,name:"amount",label:p.jsx(re,{label:"Amount (label)"}),children:p.jsx("input",{type:"number",className:o.input(),...s.register("amount")})}),p.jsx("div",{className:"flex flex-row justify-between gap-8",children:p.jsx(Tn,{iconEnabled:dr,type:"submit",children:p.jsx(re,{label:"Save (submit)"})})})]})},n3=Ar(),$se=[n3({name:"name",header(){return p.jsx(re,{label:"Requirement name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceID",t.resourceId)}},size:22}),n3({name:"amount",header(){return p.jsx(re,{label:"Amount (label)"})},render({value:t}){return In({number:t})},size:10})],Bse=({blueprintProductionId:t,table:e,...n})=>{const r=kr([["Blueprint_Production_Resource"],["Blueprint_Production"],["Resource"]]);return p.jsx(Rr,{table:jr({...e,columns:$se}),action:{table(){return p.jsx(Xn,{children:p.jsx(xn,{label:p.jsx(re,{label:"Create production resource requirement (menu)"}),textTitle:p.jsx(re,{label:"Create production resource requirement (modal)"}),icon:dr,children:({close:i})=>p.jsx(t3,{mutation:cn({async mutationFn(s){return Ft.transaction().execute(async o=>o.insertInto("Blueprint_Production_Resource").values({id:Un(),...s,blueprintProductionId:t}).returningAll().executeTakeFirstOrThrow())},async onSuccess(){await r(),i()}})})})})},row({data:i}){return p.jsxs(Xn,{children:[p.jsx(xn,{label:p.jsx(re,{label:"Edit (menu)"}),textTitle:p.jsx(re,{label:"Edit production resource requirement (modal)"}),icon:dr,children:({close:s})=>p.jsx(t3,{defaultValues:i,mutation:cn({async mutationFn(o){return Ft.transaction().execute(async l=>l.updateTable("Blueprint_Production_Resource").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow())},async onSuccess(){await r(),s()}})})}),p.jsx(xn,{icon:mi,label:p.jsx(re,{label:"Delete (menu)"}),textTitle:p.jsx(re,{label:"Delete production resource requirement (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:p.jsx(ys,{callback:async()=>Ft.transaction().execute(async s=>s.deleteFrom("Blueprint_Production_Resource").where("id","=",i.id).execute()),textContent:p.jsx(re,{label:"Delete production resource requirement (content)"}),textToast:"Delete production resource requirement item",invalidator:r})})]})}},...n})},Rp=rn("/$locale/apps/derivean/root/blueprint/production/$id/resources")({validateSearch:fr(qr(_m)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Production_Resource","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>sr({select:s.selectFrom("Blueprint_Production_Resource as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(["bpr.id","r.name","bpr.resourceId","bpr.amount"]).where("bpr.blueprintProductionId","=",i).orderBy("r.name","asc"),query({select:o,where:l}){let c=o;return l?.id&&(c=c.where("bpr.id","=",l.id)),l?.idIn&&(c=c.where("bpr.id","in",l.idIn)),l?.resourceId&&(c=c.where("bpr.resourceId","=",l.resourceId)),c},output:G.object({id:G.string().min(1),name:G.string().min(1),resourceId:G.string().min(1),amount:G.number().nonnegative()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Rp.useLoaderData(),{filter:n,cursor:r,selection:i}=Rp.useSearch(),{id:s}=Rp.useParams(),o=Rp.useNavigate();return p.jsx(p.Fragment,{children:p.jsx(Bse,{blueprintProductionId:s,table:{data:t,filter:{value:n,set:Tr(o)},selection:{type:"multi",value:i,set:gs(o)}},fulltext:{value:n?.fulltext,set:Or(o)},cursor:{count:e,cursor:r,textTotal:p.jsx(re,{label:"Number of production resource requirements (label)"}),...Cr(o)}})})}}),r3=({mutation:t,defaultValues:e,variant:n,tva:r=Ci,css:i})=>{const s=Ti({resolver:Oi(wm.shape),defaultValues:{amount:1,passive:!1,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return p.jsxs("form",{className:o.base(),onSubmit:ms({form:s,mutation:t}),children:[p.jsx(hi,{variant:{highlight:!0},error:s.formState.errors.root}),p.jsx(Cn,{formState:s.formState,name:"resourceId",label:p.jsx(re,{label:"Requirement (label)"}),children:p.jsx(ds,{control:s.control,name:"resourceId",render:({field:{ref:l,...c}})=>p.jsx(hf,{allowEmpty:!0,...c})})}),p.jsx(Cn,{formState:s.formState,name:"amount",label:p.jsx(re,{label:"Amount (label)"}),children:p.jsx("input",{type:"number",className:o.input(),...s.register("amount")})}),p.jsx(Cn,{formState:s.formState,name:"passive",label:p.jsx(re,{label:"Passive requirement (label)"}),hint:p.jsx(re,{label:"Passive requirement (hint)"}),children:p.jsx(ds,{control:s.control,name:"passive",render:({field:{ref:l,...c}})=>p.jsx(eD,{...c})})}),p.jsx("div",{className:"flex flex-row justify-between gap-8",children:p.jsx(Tn,{iconEnabled:dr,type:"submit",children:p.jsx(re,{label:"Save (submit)"})})})]})},kS=Ar(),zse=[kS({name:"name",header(){return p.jsx(re,{label:"Requirement name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceID",t.resourceId)}},size:12}),kS({name:"amount",header(){return p.jsx(re,{label:"Amount (label)"})},render({value:t}){return In({number:t})},size:10}),kS({name:"passive",header(){return p.jsx(re,{label:"Passive requirement (label)"})},render({value:t}){return p.jsx(jb,{value:t})},size:10})],Wse=({blueprintProductionId:t,table:e,...n})=>{const r=kr([["Blueprint_Production_Requirement"],["Blueprint_Production"],["Resource"]]);return p.jsx(Rr,{table:jr({...e,columns:zse}),action:{table(){return p.jsx(Xn,{children:p.jsx(xn,{label:p.jsx(re,{label:"Create production requirement (menu)"}),textTitle:p.jsx(re,{label:"Create production requirement (modal)"}),icon:dr,children:({close:i})=>p.jsx(r3,{mutation:cn({async mutationFn(s){return Ft.transaction().execute(async o=>o.insertInto("Blueprint_Production_Requirement").values({id:Un(),...s,blueprintProductionId:t}).returningAll().executeTakeFirstOrThrow())},async onSuccess(){await r(),i()}})})})})},row({data:i}){return p.jsxs(Xn,{children:[p.jsx(xn,{label:p.jsx(re,{label:"Edit (menu)"}),textTitle:p.jsx(re,{label:"Edit production requirement (modal)"}),icon:dr,children:({close:s})=>p.jsx(r3,{defaultValues:i,mutation:cn({async mutationFn(o){return Ft.transaction().execute(async l=>l.updateTable("Blueprint_Production_Requirement").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow())},async onSuccess(){await r(),s()}})})}),p.jsx(xn,{icon:mi,label:p.jsx(re,{label:"Delete (menu)"}),textTitle:p.jsx(re,{label:"Delete production requirement (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:p.jsx(ys,{callback:async()=>Ft.transaction().execute(async s=>s.deleteFrom("Blueprint_Production_Requirement").where("id","=",i.id).execute()),textContent:p.jsx(re,{label:"Delete production requirement (content)"}),textToast:"Delete production requirement item",invalidator:r})})]})}},...n})},jp=rn("/$locale/apps/derivean/root/blueprint/production/$id/requirements")({validateSearch:fr(qr(wm)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Production_Requirement","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>sr({select:s.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(["bpr.id","r.name","bpr.resourceId","bpr.amount","bpr.passive"]).where("bpr.blueprintProductionId","=",i).orderBy("r.name","asc"),query({select:o,where:l}){let c=o;return l?.id&&(c=c.where("bpr.id","=",l.id)),l?.idIn&&(c=c.where("bpr.id","in",l.idIn)),l?.resourceId&&(c=c.where("bpr.resourceId","=",l.resourceId)),c},output:G.object({id:G.string().min(1),name:G.string().min(1),resourceId:G.string().min(1),amount:G.number().nonnegative(),passive:Di()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=jp.useLoaderData(),{filter:n,cursor:r,selection:i}=jp.useSearch(),{id:s}=jp.useParams(),o=jp.useNavigate();return p.jsx(p.Fragment,{children:p.jsx(Wse,{blueprintProductionId:s,table:{data:t,filter:{value:n,set:Tr(o)},selection:{type:"multi",value:i,set:gs(o)}},fulltext:{value:n?.fulltext,set:Or(o)},cursor:{count:e,cursor:r,textTotal:p.jsx(re,{label:"Number of production requirements (label)"}),...Cr(o)}})})}}),i3=({mutation:t,defaultValues:e,variant:n,tva:r=Ci,css:i})=>{const s=Ti({resolver:Oi(xm.shape),defaultValues:e}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return p.jsxs("form",{className:o.base(),onSubmit:ms({form:s,mutation:t}),children:[p.jsx(hi,{variant:{highlight:!0},error:s.formState.errors.root}),p.jsx(Cn,{formState:s.formState,name:"blueprintId",label:p.jsx(re,{label:"Blueprint dependency (label)"}),children:p.jsx(ds,{control:s.control,name:"blueprintId",render:({field:{ref:l,...c}})=>p.jsx(bm,{textTitle:p.jsx(re,{label:"Select blueprint (title)"}),allowEmpty:!0,...c})})}),p.jsx("div",{className:"flex flex-row justify-between gap-8",children:p.jsx(Tn,{iconEnabled:Nn,type:"submit",children:p.jsx(re,{label:"Save (submit)"})})})]})},Use=Ar(),Vse=[Use({name:"name",header(){return p.jsx(re,{label:"Required building (label)"})},render({data:t,value:e}){const{locale:n}=_n({from:"/$locale"});return p.jsx(Sn,{icon:Nn,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:n,id:t.blueprintId},children:e})},size:22})],Hse=({blueprintProductionId:t,table:e,...n})=>{const r=kr([["Blueprint_Production_Dependency"],["Blueprint"]]);return p.jsx(Rr,{table:jr({...e,columns:Vse}),action:{table(){return p.jsx(Xn,{children:p.jsx(xn,{label:p.jsx(re,{label:"Create blueprint production dependency (menu)"}),textTitle:p.jsx(re,{label:"Create blueprint production dependency (modal)"}),icon:Nn,children:({close:i})=>p.jsx(i3,{mutation:cn({async mutationFn(s){return kn.promise(Ft.transaction().execute(async o=>{const l=o.insertInto("Blueprint_Production_Dependency").values({id:Un(),...s,blueprintProductionId:t}).returningAll().executeTakeFirstOrThrow();return await Mh({tx:o}),l}),Ir("Create blueprint production dependency"))},async onSuccess(){await r(),i()}})})})})},row({data:i}){return p.jsxs(Xn,{children:[p.jsx(xn,{label:p.jsx(re,{label:"Edit (menu)"}),textTitle:p.jsx(re,{label:"Edit blueprint production dependency (modal)"}),icon:Nn,children:({close:s})=>p.jsx(i3,{defaultValues:i,mutation:cn({async mutationFn(o){return kn.promise(Ft.transaction().execute(async l=>l.updateTable("Blueprint_Production_Dependency").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),Ir("Update blueprint production dependency"))},async onSuccess(){await r(),s()}})})}),p.jsx(xn,{icon:mi,label:p.jsx(re,{label:"Delete (menu)"}),textTitle:p.jsx(re,{label:"Delete blueprint production dependency (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:p.jsx(ys,{callback:async()=>Ft.transaction().execute(async s=>s.deleteFrom("Blueprint_Production_Dependency").where("id","=",i.id).execute()),textContent:p.jsx(re,{label:"Delete blueprint production dependency (content)"}),textToast:"Delete blueprint production dependency",invalidator:r})})]})}},...n})},Ap=rn("/$locale/apps/derivean/root/blueprint/production/$id/dependencies")({validateSearch:fr(qr(xm)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Production_Dependency","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>sr({select:s.selectFrom("Blueprint_Production_Dependency as bpd").innerJoin("Blueprint as bl","bl.id","bpd.blueprintId").select(["bpd.id","bl.name","bpd.blueprintId"]).where("bpd.blueprintProductionId","=",i).orderBy("bl.name","asc"),query({select:o,where:l}){let c=o;return l?.id&&(c=c.where("bpd.id","=",l.id)),l?.idIn&&(c=c.where("bpd.id","in",l.idIn)),c},output:G.object({id:G.string().min(1),name:G.string().min(1),blueprintId:G.string().min(1)}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Ap.useLoaderData(),{filter:n,cursor:r,selection:i}=Ap.useSearch(),{id:s}=Ap.useParams(),o=Ap.useNavigate(),{tva:l}=ir({from:"__root__"}),c=l().slots;return p.jsx("div",{className:c.base(),children:p.jsx(Hse,{blueprintProductionId:s,table:{data:t,filter:{value:n,set:Tr(o)},selection:{type:"multi",value:i,set:gs(o)}},fulltext:{value:n?.fulltext,set:Or(o)},cursor:{count:e,cursor:r,textTotal:p.jsx(re,{label:"Number of dependencies (label)"}),...Cr(o)}})})}}),s3=Ar(),Qse=[s3({name:"name",header(){return p.jsx(re,{label:"Requirement name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceID",t.resourceId)}},size:22}),s3({name:"amount",header(){return p.jsx(re,{label:"Amount (label)"})},render({value:t}){return In({number:t})},size:10})],Kse=({table:t,...e})=>p.jsx(Rr,{table:jr({...t,columns:Qse}),...e}),$y=rn("/$locale/apps/derivean/game/blueprint/production/$id/resources")({validateSearch:fr(qr(_m)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Production_Resource","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>sr({select:s.selectFrom("Blueprint_Production_Resource as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(["bpr.id","r.name","bpr.resourceId","bpr.amount"]).where("bpr.blueprintProductionId","=",i).orderBy("r.name","asc"),query({select:o,where:l}){let c=o;return l?.id&&(c=c.where("bpr.id","=",l.id)),l?.idIn&&(c=c.where("bpr.id","in",l.idIn)),l?.resourceId&&(c=c.where("bpr.resourceId","=",l.resourceId)),c},output:G.object({id:G.string().min(1),name:G.string().min(1),resourceId:G.string().min(1),amount:G.number().nonnegative()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=$y.useLoaderData(),{filter:n,cursor:r}=$y.useSearch(),i=$y.useNavigate();return p.jsx(p.Fragment,{children:p.jsx(Kse,{table:{data:t,filter:{value:n,set:Tr(i)}},fulltext:{value:n?.fulltext,set:Or(i)},cursor:{count:e,cursor:r,textTotal:p.jsx(re,{label:"Number of production resource requirements (label)"}),...Cr(i)}})})}}),IS=Ar(),Gse=[IS({name:"name",header(){return p.jsx(re,{label:"Requirement name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceID",t.resourceId)}},size:12}),IS({name:"amount",header(){return p.jsx(re,{label:"Amount (label)"})},render({value:t}){return In({number:t})},size:10}),IS({name:"passive",header(){return p.jsx(re,{label:"Passive requirement (label)"})},render({value:t}){return p.jsx(jb,{value:t})},size:10})],Zse=({table:t,...e})=>p.jsx(Rr,{table:jr({...t,columns:Gse}),...e}),By=rn("/$locale/apps/derivean/game/blueprint/production/$id/requirements")({validateSearch:fr(qr(wm)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Production_Requirement","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>sr({select:s.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(["bpr.id","r.name","bpr.resourceId","bpr.amount","bpr.passive"]).where("bpr.blueprintProductionId","=",i).orderBy("r.name","asc"),query({select:o,where:l}){let c=o;return l?.id&&(c=c.where("bpr.id","=",l.id)),l?.idIn&&(c=c.where("bpr.id","in",l.idIn)),l?.resourceId&&(c=c.where("bpr.resourceId","=",l.resourceId)),c},output:G.object({id:G.string().min(1),name:G.string().min(1),resourceId:G.string().min(1),amount:G.number().nonnegative(),passive:Di()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=By.useLoaderData(),{filter:n,cursor:r}=By.useSearch(),i=By.useNavigate();return p.jsx(p.Fragment,{children:p.jsx(Zse,{table:{data:t,filter:{value:n,set:Tr(i)}},fulltext:{value:n?.fulltext,set:Or(i)},cursor:{count:e,cursor:r,textTotal:p.jsx(re,{label:"Number of production requirements (label)"}),...Cr(i)}})})}}),Jse=Ar(),Yse=[Jse({name:"name",header(){return p.jsx(re,{label:"Required building (label)"})},render({data:t,value:e}){const{locale:n}=_n({from:"/$locale"});return p.jsx(Sn,{icon:Nn,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:n,id:t.blueprintId},children:e})},size:22})],Xse=({table:t,...e})=>p.jsx(Rr,{table:jr({...t,columns:Yse}),...e}),zy=rn("/$locale/apps/derivean/game/blueprint/production/$id/dependencies")({validateSearch:fr(qr(xm)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Production_Dependency","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>sr({select:s.selectFrom("Blueprint_Production_Dependency as bpd").innerJoin("Blueprint as bl","bl.id","bpd.blueprintId").select(["bpd.id","bl.name","bpd.blueprintId"]).where("bpd.blueprintProductionId","=",i).orderBy("bl.name","asc"),query({select:o,where:l}){let c=o;return l?.id&&(c=c.where("bpd.id","=",l.id)),l?.idIn&&(c=c.where("bpd.id","in",l.idIn)),c},output:G.object({id:G.string().min(1),name:G.string().min(1),blueprintId:G.string().min(1)}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=zy.useLoaderData(),{filter:n,cursor:r}=zy.useSearch(),i=zy.useNavigate(),{tva:s}=ir({from:"__root__"}),o=s().slots;return p.jsx("div",{className:o.base(),children:p.jsx(Xse,{table:{data:t,filter:{value:n,set:Tr(i)}},fulltext:{value:n?.fulltext,set:Or(i)},cursor:{count:e,cursor:r,textTotal:p.jsx(re,{label:"Number of dependencies (label)"}),...Cr(i)}})})}}),jN=LG.update({id:"/$locale",path:"/$locale",getParentRoute:()=>oN}),eoe=BG.update({id:"/",path:"/",getParentRoute:()=>oN}),toe=zG.update({id:"/",path:"/",getParentRoute:()=>jN}),uc=UG.update({id:"/apps/derivean",path:"/apps/derivean",getParentRoute:()=>jN}),io=QG.update({id:"/root",path:"/root",getParentRoute:()=>uc}),eu=JG.update({id:"/game",path:"/game",getParentRoute:()=>uc}),noe=nZ.update({id:"/",path:"/",getParentRoute:()=>io}),roe=rZ.update({id:"/",path:"/",getParentRoute:()=>eu}),ioe=KE.update({id:"/editor",path:"/editor",getParentRoute:()=>io}),soe=die.update({id:"/public/register",path:"/public/register",getParentRoute:()=>uc}),ooe=fie.update({id:"/public/logout",path:"/public/logout",getParentRoute:()=>uc}),aoe=gie.update({id:"/public/login",path:"/public/login",getParentRoute:()=>uc}),loe=JE.update({id:"/map",path:"/map",getParentRoute:()=>eu}),uoe=Ty.update({id:"/inventory",path:"/inventory",getParentRoute:()=>eu}),coe=WL.update({id:"/db/schema",path:"/db/schema",getParentRoute:()=>uc}),doe=Oy.update({id:"/user/list",path:"/user/list",getParentRoute:()=>io}),Yb=UL.update({id:"/user/$id",path:"/user/$id",getParentRoute:()=>io}),foe=qy.update({id:"/tag/list",path:"/tag/list",getParentRoute:()=>io}),poe=Ry.update({id:"/resource/list",path:"/resource/list",getParentRoute:()=>io}),lM=KL.update({id:"/resource/$id",path:"/resource/$id",getParentRoute:()=>io}),hoe=jy.update({id:"/default/inventory",path:"/default/inventory",getParentRoute:()=>io}),moe=Ay.update({id:"/blueprint/list",path:"/blueprint/list",getParentRoute:()=>io}),cc=XL.update({id:"/blueprint/$id",path:"/blueprint/$id",getParentRoute:()=>io}),goe=eM.update({id:"/production/queue",path:"/production/queue",getParentRoute:()=>eu}),yoe=Py.update({id:"/blueprint/list",path:"/blueprint/list",getParentRoute:()=>eu}),mf=tM.update({id:"/blueprint/$id",path:"/blueprint/$id",getParentRoute:()=>eu}),voe=nse.update({id:"/view",path:"/view",getParentRoute:()=>Yb}),boe=kp.update({id:"/inventory",path:"/inventory",getParentRoute:()=>Yb}),xoe=sse.update({id:"/view",path:"/view",getParentRoute:()=>lM}),Xb=rM.update({id:"/blueprint/production/$id",path:"/blueprint/production/$id",getParentRoute:()=>io}),woe=iM.update({id:"/view",path:"/view",getParentRoute:()=>cc}),_oe=Ip.update({id:"/requirements",path:"/requirements",getParentRoute:()=>cc}),Soe=Cp.update({id:"/production",path:"/production",getParentRoute:()=>cc}),Eoe=sM.update({id:"/edit",path:"/edit",getParentRoute:()=>cc}),Noe=Tp.update({id:"/dependencies",path:"/dependencies",getParentRoute:()=>cc}),koe=Op.update({id:"/conflicts",path:"/conflicts",getParentRoute:()=>cc}),ex=oM.update({id:"/blueprint/production/$id",path:"/blueprint/production/$id",getParentRoute:()=>eu}),Ioe=kse.update({id:"/view",path:"/view",getParentRoute:()=>mf}),Coe=Fy.update({id:"/requirements",path:"/requirements",getParentRoute:()=>mf}),Toe=Dy.update({id:"/production",path:"/production",getParentRoute:()=>mf}),Ooe=Ly.update({id:"/dependencies",path:"/dependencies",getParentRoute:()=>mf}),qoe=My.update({id:"/conflicts",path:"/conflicts",getParentRoute:()=>mf}),Roe=qp.update({id:"/building/list",path:"/building/list",getParentRoute:()=>Yb}),joe=Rp.update({id:"/resources",path:"/resources",getParentRoute:()=>Xb}),Aoe=jp.update({id:"/requirements",path:"/requirements",getParentRoute:()=>Xb}),Poe=Ap.update({id:"/dependencies",path:"/dependencies",getParentRoute:()=>Xb}),Foe=$y.update({id:"/resources",path:"/resources",getParentRoute:()=>ex}),Doe=By.update({id:"/requirements",path:"/requirements",getParentRoute:()=>ex}),Loe=zy.update({id:"/dependencies",path:"/dependencies",getParentRoute:()=>ex}),Moe={LocaleAppsDeriveanGameBlueprintIdConflictsRoute:qoe,LocaleAppsDeriveanGameBlueprintIdDependenciesRoute:Ooe,LocaleAppsDeriveanGameBlueprintIdProductionRoute:Toe,LocaleAppsDeriveanGameBlueprintIdRequirementsRoute:Coe,LocaleAppsDeriveanGameBlueprintIdViewRoute:Ioe},$oe=mf._addFileChildren(Moe),Boe={LocaleAppsDeriveanGameBlueprintProductionIdDependenciesRoute:Loe,LocaleAppsDeriveanGameBlueprintProductionIdRequirementsRoute:Doe,LocaleAppsDeriveanGameBlueprintProductionIdResourcesRoute:Foe},zoe=ex._addFileChildren(Boe),Woe={LocaleAppsDeriveanGameInventoryRoute:uoe,LocaleAppsDeriveanGameMapRoute:loe,LocaleAppsDeriveanGameIndexRoute:roe,LocaleAppsDeriveanGameBlueprintIdRoute:$oe,LocaleAppsDeriveanGameBlueprintListRoute:yoe,LocaleAppsDeriveanGameProductionQueueRoute:goe,LocaleAppsDeriveanGameBlueprintProductionIdRoute:zoe},Uoe=eu._addFileChildren(Woe),Voe={LocaleAppsDeriveanRootBlueprintIdConflictsRoute:koe,LocaleAppsDeriveanRootBlueprintIdDependenciesRoute:Noe,LocaleAppsDeriveanRootBlueprintIdEditRoute:Eoe,LocaleAppsDeriveanRootBlueprintIdProductionRoute:Soe,LocaleAppsDeriveanRootBlueprintIdRequirementsRoute:_oe,LocaleAppsDeriveanRootBlueprintIdViewRoute:woe},Hoe=cc._addFileChildren(Voe),Qoe={LocaleAppsDeriveanRootResourceIdViewRoute:xoe},Koe=lM._addFileChildren(Qoe),Goe={LocaleAppsDeriveanRootUserIdInventoryRoute:boe,LocaleAppsDeriveanRootUserIdViewRoute:voe,LocaleAppsDeriveanRootUserIdBuildingListRoute:Roe},Zoe=Yb._addFileChildren(Goe),Joe={LocaleAppsDeriveanRootBlueprintProductionIdDependenciesRoute:Poe,LocaleAppsDeriveanRootBlueprintProductionIdRequirementsRoute:Aoe,LocaleAppsDeriveanRootBlueprintProductionIdResourcesRoute:joe},Yoe=Xb._addFileChildren(Joe),Xoe={LocaleAppsDeriveanRootEditorRoute:ioe,LocaleAppsDeriveanRootIndexRoute:noe,LocaleAppsDeriveanRootBlueprintIdRoute:Hoe,LocaleAppsDeriveanRootBlueprintListRoute:moe,LocaleAppsDeriveanRootDefaultInventoryRoute:hoe,LocaleAppsDeriveanRootResourceIdRoute:Koe,LocaleAppsDeriveanRootResourceListRoute:poe,LocaleAppsDeriveanRootTagListRoute:foe,LocaleAppsDeriveanRootUserIdRoute:Zoe,LocaleAppsDeriveanRootUserListRoute:doe,LocaleAppsDeriveanRootBlueprintProductionIdRoute:Yoe},eae=io._addFileChildren(Xoe),tae={LocaleAppsDeriveanGameRoute:Uoe,LocaleAppsDeriveanRootRoute:eae,LocaleAppsDeriveanDbSchemaRoute:coe,LocaleAppsDeriveanPublicLoginRoute:aoe,LocaleAppsDeriveanPublicLogoutRoute:ooe,LocaleAppsDeriveanPublicRegisterRoute:soe},nae=uc._addFileChildren(tae),rae={LocaleIndexRoute:toe,LocaleAppsDeriveanRoute:nae},iae=jN._addFileChildren(rae),sae={IndexRoute:eoe,LocaleRoute:iae},oae=oN._addFileChildren(sae)._addFileTypes(),uM=new j$({defaultOptions:{queries:{placeholderData:x$}}}),aae=OB({routeTree:oae,context:{queryClient:uM,tva:vQ,async session(){return Lb.parse(null)},kysely:Ft},defaultPendingComponent:aG,defaultPreload:"intent",defaultPreloadStaleTime:0,defaultPendingMinMs:200}),o3=document.getElementById("app");FU({limit:{maxRequests:10,perMilliseconds:100}});o3.innerHTML||PG.createRoot(o3).render(p.jsx(M$,{client:uM,children:p.jsx(n4,{router:aae})}))})();