(async()=>{function Bq(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in t)){const a=Object.getOwnPropertyDescriptor(n,o);a&&Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}})();var wv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Eu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Wq(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var o=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return t[n]}})}),r}var Qy={exports:{}},wc={},Ky={exports:{}},ar={};var B0;function $q(){if(B0)return ar;B0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.iterator;function N(Q){return Q===null||typeof Q!="object"?null:(Q=x&&Q[x]||Q["@@iterator"],typeof Q=="function"?Q:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,C={};function L(Q,xe,lt){this.props=Q,this.context=xe,this.refs=C,this.updater=lt||q}L.prototype.isReactComponent={},L.prototype.setState=function(Q,xe){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,xe,"setState")},L.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function P(){}P.prototype=L.prototype;function I(Q,xe,lt){this.props=Q,this.context=xe,this.refs=C,this.updater=lt||q}var D=I.prototype=new P;D.constructor=I,R(D,L.prototype),D.isPureReactComponent=!0;var z=Array.isArray,V=Object.prototype.hasOwnProperty,W={current:null},K={key:!0,ref:!0,__self:!0,__source:!0};function le(Q,xe,lt){var at,dt={},mt=null,ft=null;if(xe!=null)for(at in xe.ref!==void 0&&(ft=xe.ref),xe.key!==void 0&&(mt=""+xe.key),xe)V.call(xe,at)&&!K.hasOwnProperty(at)&&(dt[at]=xe[at]);var gt=arguments.length-2;if(gt===1)dt.children=lt;else if(1<gt){for(var It=Array(gt),vt=0;vt<gt;vt++)It[vt]=arguments[vt+2];dt.children=It}if(Q&&Q.defaultProps)for(at in gt=Q.defaultProps,gt)dt[at]===void 0&&(dt[at]=gt[at]);return{$$typeof:t,type:Q,key:mt,ref:ft,props:dt,_owner:W.current}}function H(Q,xe){return{$$typeof:t,type:Q.type,key:xe,ref:Q.ref,props:Q.props,_owner:Q._owner}}function ne(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===t}function B(Q){var xe={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(lt){return xe[lt]})}var re=/\/+/g;function Z(Q,xe){return typeof Q=="object"&&Q!==null&&Q.key!=null?B(""+Q.key):xe.toString(36)}function pe(Q,xe,lt,at,dt){var mt=typeof Q;(mt==="undefined"||mt==="boolean")&&(Q=null);var ft=!1;if(Q===null)ft=!0;else switch(mt){case"string":case"number":ft=!0;break;case"object":switch(Q.$$typeof){case t:case e:ft=!0}}if(ft)return ft=Q,dt=dt(ft),Q=at===""?"."+Z(ft,0):at,z(dt)?(lt="",Q!=null&&(lt=Q.replace(re,"$&/")+"/"),pe(dt,xe,lt,"",function(vt){return vt})):dt!=null&&(ne(dt)&&(dt=H(dt,lt+(!dt.key||ft&&ft.key===dt.key?"":(""+dt.key).replace(re,"$&/")+"/")+Q)),xe.push(dt)),1;if(ft=0,at=at===""?".":at+":",z(Q))for(var gt=0;gt<Q.length;gt++){mt=Q[gt];var It=at+Z(mt,gt);ft+=pe(mt,xe,lt,It,dt)}else if(It=N(Q),typeof It=="function")for(Q=It.call(Q),gt=0;!(mt=Q.next()).done;)mt=mt.value,It=at+Z(mt,gt++),ft+=pe(mt,xe,lt,It,dt);else if(mt==="object")throw xe=String(Q),Error("Objects are not valid as a React child (found: "+(xe==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":xe)+"). If you meant to render a collection of children, use an array instead.");return ft}function Re(Q,xe,lt){if(Q==null)return Q;var at=[],dt=0;return pe(Q,at,"","",function(mt){return xe.call(lt,mt,dt++)}),at}function Ce(Q){if(Q._status===-1){var xe=Q._result;xe=xe(),xe.then(function(lt){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=lt)},function(lt){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=lt)}),Q._status===-1&&(Q._status=0,Q._result=xe)}if(Q._status===1)return Q._result.default;throw Q._result}var Pe={current:null},ve={transition:null},me={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:ve,ReactCurrentOwner:W};function Ee(){throw Error("act(...) is not supported in production builds of React.")}return ar.Children={map:Re,forEach:function(Q,xe,lt){Re(Q,function(){xe.apply(this,arguments)},lt)},count:function(Q){var xe=0;return Re(Q,function(){xe++}),xe},toArray:function(Q){return Re(Q,function(xe){return xe})||[]},only:function(Q){if(!ne(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}},ar.Component=L,ar.Fragment=r,ar.Profiler=o,ar.PureComponent=I,ar.StrictMode=n,ar.Suspense=p,ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,ar.act=Ee,ar.cloneElement=function(Q,xe,lt){if(Q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Q+".");var at=R({},Q.props),dt=Q.key,mt=Q.ref,ft=Q._owner;if(xe!=null){if(xe.ref!==void 0&&(mt=xe.ref,ft=W.current),xe.key!==void 0&&(dt=""+xe.key),Q.type&&Q.type.defaultProps)var gt=Q.type.defaultProps;for(It in xe)V.call(xe,It)&&!K.hasOwnProperty(It)&&(at[It]=xe[It]===void 0&&gt!==void 0?gt[It]:xe[It])}var It=arguments.length-2;if(It===1)at.children=lt;else if(1<It){gt=Array(It);for(var vt=0;vt<It;vt++)gt[vt]=arguments[vt+2];at.children=gt}return{$$typeof:t,type:Q.type,key:dt,ref:mt,props:at,_owner:ft}},ar.createContext=function(Q){return Q={$$typeof:l,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Q.Provider={$$typeof:a,_context:Q},Q.Consumer=Q},ar.createElement=le,ar.createFactory=function(Q){var xe=le.bind(null,Q);return xe.type=Q,xe},ar.createRef=function(){return{current:null}},ar.forwardRef=function(Q){return{$$typeof:c,render:Q}},ar.isValidElement=ne,ar.lazy=function(Q){return{$$typeof:b,_payload:{_status:-1,_result:Q},_init:Ce}},ar.memo=function(Q,xe){return{$$typeof:m,type:Q,compare:xe===void 0?null:xe}},ar.startTransition=function(Q){var xe=ve.transition;ve.transition={};try{Q()}finally{ve.transition=xe}},ar.unstable_act=Ee,ar.useCallback=function(Q,xe){return Pe.current.useCallback(Q,xe)},ar.useContext=function(Q){return Pe.current.useContext(Q)},ar.useDebugValue=function(){},ar.useDeferredValue=function(Q){return Pe.current.useDeferredValue(Q)},ar.useEffect=function(Q,xe){return Pe.current.useEffect(Q,xe)},ar.useId=function(){return Pe.current.useId()},ar.useImperativeHandle=function(Q,xe,lt){return Pe.current.useImperativeHandle(Q,xe,lt)},ar.useInsertionEffect=function(Q,xe){return Pe.current.useInsertionEffect(Q,xe)},ar.useLayoutEffect=function(Q,xe){return Pe.current.useLayoutEffect(Q,xe)},ar.useMemo=function(Q,xe){return Pe.current.useMemo(Q,xe)},ar.useReducer=function(Q,xe,lt){return Pe.current.useReducer(Q,xe,lt)},ar.useRef=function(Q){return Pe.current.useRef(Q)},ar.useState=function(Q){return Pe.current.useState(Q)},ar.useSyncExternalStore=function(Q,xe,lt){return Pe.current.useSyncExternalStore(Q,xe,lt)},ar.useTransition=function(){return Pe.current.useTransition()},ar.version="18.3.1",ar}var W0;function Nd(){return W0||(W0=1,Ky.exports=$q()),Ky.exports}var $0;function Uq(){if($0)return wc;$0=1;var t=Nd(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,p,m){var b,x={},N=null,q=null;m!==void 0&&(N=""+m),p.key!==void 0&&(N=""+p.key),p.ref!==void 0&&(q=p.ref);for(b in p)n.call(p,b)&&!a.hasOwnProperty(b)&&(x[b]=p[b]);if(c&&c.defaultProps)for(b in p=c.defaultProps,p)x[b]===void 0&&(x[b]=p[b]);return{$$typeof:e,type:c,key:N,ref:q,props:x,_owner:o.current}}return wc.Fragment=r,wc.jsx=l,wc.jsxs=l,wc}var U0;function zq(){return U0||(U0=1,Qy.exports=Uq()),Qy.exports}var g=zq(),Nu=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Xa=typeof window>"u"||"Deno"in globalThis;function Bi(){}function Vq(t,e){return typeof t=="function"?t(e):t}function xv(t){return typeof t=="number"&&t>=0&&t!==1/0}function dN(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Yl(t,e){return typeof t=="function"?t(e):t}function es(t,e){return typeof t=="function"?t(e):t}function z0(t,e){const{type:r="all",exact:n,fetchStatus:o,predicate:a,queryKey:l,stale:c}=t;if(l){if(n){if(e.queryHash!==f_(l,e.options))return!1}else if(!Zc(e.queryKey,l))return!1}if(r!=="all"){const p=e.isActive();if(r==="active"&&!p||r==="inactive"&&p)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||o&&o!==e.state.fetchStatus||a&&!a(e))}function V0(t,e){const{exact:r,status:n,predicate:o,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(Ya(e.options.mutationKey)!==Ya(a))return!1}else if(!Zc(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||o&&!o(e))}function f_(t,e){return(e?.queryKeyHashFn||Ya)(t)}function Ya(t){return JSON.stringify(t,(e,r)=>Sv(r)?Object.keys(r).sort().reduce((n,o)=>(n[o]=r[o],n),{}):r)}function Zc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!Zc(t[r],e[r])):!1}function fN(t,e){if(t===e)return t;const r=H0(t)&&H0(e);if(r||Sv(t)&&Sv(e)){const n=r?t:Object.keys(t),o=n.length,a=r?e:Object.keys(e),l=a.length,c=r?[]:{};let p=0;for(let m=0;m<l;m++){const b=r?m:a[m];(!r&&n.includes(b)||r)&&t[b]===void 0&&e[b]===void 0?(c[b]=void 0,p++):(c[b]=fN(t[b],e[b]),c[b]===t[b]&&t[b]!==void 0&&p++)}return o===l&&p===o?t:c}return e}function Dh(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function H0(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Sv(t){if(!Q0(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Q0(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Q0(t){return Object.prototype.toString.call(t)==="[object Object]"}function Hq(t){return new Promise(e=>{setTimeout(e,t)})}function Ev(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?fN(t,e):e}function Qq(t){return t}function Kq(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Gq(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var h_=Symbol();function hN(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===h_?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Jq=class extends Nu{#e;#t;#r;constructor(){super(),this.#r=t=>{if(!Xa&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},p_=new Jq,Zq=class extends Nu{#e=!0;#t;#r;constructor(){super(),this.#r=t=>{if(!Xa&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#e}},Mh=new Zq;function Nv(){let t,e;const r=new Promise((o,a)=>{t=o,e=a});r.status="pending",r.catch(()=>{});function n(o){Object.assign(r,o),delete r.resolve,delete r.reject}return r.resolve=o=>{n({status:"fulfilled",value:o}),t(o)},r.reject=o=>{n({status:"rejected",reason:o}),e(o)},r}function Xq(t){return Math.min(1e3*2**t,3e4)}function pN(t){return(t??"online")==="online"?Mh.isOnline():!0}var mN=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function Gy(t){return t instanceof mN}function yN(t){let e=!1,r=0,n=!1,o;const a=Nv(),l=C=>{n||(N(new mN(C)),t.abort?.())},c=()=>{e=!0},p=()=>{e=!1},m=()=>p_.isFocused()&&(t.networkMode==="always"||Mh.isOnline())&&t.canRun(),b=()=>pN(t.networkMode)&&t.canRun(),x=C=>{n||(n=!0,t.onSuccess?.(C),o?.(),a.resolve(C))},N=C=>{n||(n=!0,t.onError?.(C),o?.(),a.reject(C))},q=()=>new Promise(C=>{o=L=>{(n||m())&&C(L)},t.onPause?.()}).then(()=>{o=void 0,n||t.onContinue?.()}),R=()=>{if(n)return;let C;const L=r===0?t.initialPromise:void 0;try{C=L??t.fn()}catch(P){C=Promise.reject(P)}Promise.resolve(C).then(x).catch(P=>{if(n)return;const I=t.retry??(Xa?0:3),D=t.retryDelay??Xq,z=typeof D=="function"?D(r,P):D,V=I===!0||typeof I=="number"&&r<I||typeof I=="function"&&I(r,P);if(e||!V){N(P);return}r++,t.onFail?.(r,P),Hq(z).then(()=>m()?void 0:q()).then(()=>{e?N(P):R()})})};return{promise:a,cancel:l,continue:()=>(o?.(),a),cancelRetry:c,continueRetry:p,canStart:b,start:()=>(b()?R():q().then(R),a)}}function Yq(){let t=[],e=0,r=c=>{c()},n=c=>{c()},o=c=>setTimeout(c,0);const a=c=>{e?t.push(c):o(()=>{r(c)})},l=()=>{const c=t;t=[],c.length&&o(()=>{n(()=>{c.forEach(p=>{r(p)})})})};return{batch:c=>{let p;e++;try{p=c()}finally{e--,e||l()}return p},batchCalls:c=>(...p)=>{a(()=>{c(...p)})},schedule:a,setNotifyFunction:c=>{r=c},setBatchNotifyFunction:c=>{n=c},setScheduler:c=>{o=c}}}var fn=Yq(),gN=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),xv(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Xa?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},eC=class extends gN{#e;#t;#r;#n;#i;#s;constructor(t){super(),this.#s=!1,this.#i=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=tC(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(t){this.options={...this.#i,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){const r=Ev(this.state.data,t,this.options);return this.#o({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#o({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#n?.promise;return this.#n?.cancel(t),e?e.then(Bi).catch(Bi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>es(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===h_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!dN(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#n&&(this.#s?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(t&&this.setOptions(t),!this.options.queryFn){const c=this.observers.find(p=>p.options.queryFn);c&&this.setOptions(c.options)}const r=new AbortController,n=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#s=!0,r.signal)})},o=()=>{const c=hN(this.options,e),p={queryKey:this.queryKey,meta:this.meta};return n(p),this.#s=!1,this.options.persister?this.options.persister(c,p,this):c(p)},a={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};n(a),this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#o({type:"fetch",meta:a.fetchOptions?.meta});const l=c=>{Gy(c)&&c.silent||this.#o({type:"error",error:c}),Gy(c)||(this.#r.config.onError?.(c,this),this.#r.config.onSettled?.(this.state.data,c,this)),this.scheduleGc()};return this.#n=yN({initialPromise:e?.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:c=>{if(c===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(c)}catch(p){l(p);return}this.#r.config.onSuccess?.(c,this),this.#r.config.onSettled?.(c,this.state.error,this),this.scheduleGc()},onError:l,onFail:(c,p)=>{this.#o({type:"failed",failureCount:c,error:p})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}),this.#n.start()}#o(t){const e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...vN(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=t.error;return Gy(n)&&n.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),fn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function vN(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:pN(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function tC(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var rC=class extends Nu{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,r){const n=e.queryKey,o=e.queryHash??f_(n,e);let a=this.get(o);return a||(a=new eC({cache:this,queryKey:n,queryHash:o,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(a)),a}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){fn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>z0(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>z0(t,r)):e}notify(t){fn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){fn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){fn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},nC=class extends gN{#e;#t;#r;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||_N(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){this.#r=yN({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(n,o)=>{this.#n({type:"failed",failureCount:n,error:o})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const e=this.state.status==="pending",r=!this.#r.canStart();try{if(!e){this.#n({type:"pending",variables:t,isPaused:r}),await this.#t.config.onMutate?.(t,this);const o=await this.options.onMutate?.(t);o!==this.state.context&&this.#n({type:"pending",context:o,variables:t,isPaused:r})}const n=await this.#r.start();return await this.#t.config.onSuccess?.(n,t,this.state.context,this),await this.options.onSuccess?.(n,t,this.state.context),await this.#t.config.onSettled?.(n,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(n,null,t,this.state.context),this.#n({type:"success",data:n}),n}catch(n){try{throw await this.#t.config.onError?.(n,t,this.state.context,this),await this.options.onError?.(n,t,this.state.context),await this.#t.config.onSettled?.(void 0,n,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,n,t,this.state.context),n}finally{this.#n({type:"error",error:n})}}finally{this.#t.runNext(this)}}#n(t){const e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),fn.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function _N(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var iC=class extends Nu{constructor(t={}){super(),this.config=t,this.#e=new Map,this.#t=Date.now()}#e;#t;build(t,e,r){const n=new nC({mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){const e=eh(t),r=this.#e.get(e)??[];r.push(t),this.#e.set(e,r),this.notify({type:"added",mutation:t})}remove(t){const e=eh(t);if(this.#e.has(e)){const r=this.#e.get(e)?.filter(n=>n!==t);r&&(r.length===0?this.#e.delete(e):this.#e.set(e,r))}this.notify({type:"removed",mutation:t})}canRun(t){const e=this.#e.get(eh(t))?.find(r=>r.state.status==="pending");return!e||e===t}runNext(t){return this.#e.get(eh(t))?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve()}clear(){fn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...this.#e.values()].flat()}find(t){const e={exact:!0,...t};return this.getAll().find(r=>V0(e,r))}findAll(t={}){return this.getAll().filter(e=>V0(t,e))}notify(t){fn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return fn.batch(()=>Promise.all(t.map(e=>e.continue().catch(Bi))))}};function eh(t){return t.options.scope?.id??String(t.mutationId)}function K0(t){return{onFetch:(e,r)=>{const n=e.options,o=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],l=e.state.data?.pageParams||[];let c={pages:[],pageParams:[]},p=0;const m=async()=>{let b=!1;const x=R=>{Object.defineProperty(R,"signal",{enumerable:!0,get:()=>(e.signal.aborted?b=!0:e.signal.addEventListener("abort",()=>{b=!0}),e.signal)})},N=hN(e.options,e.fetchOptions),q=async(R,C,L)=>{if(b)return Promise.reject();if(C==null&&R.pages.length)return Promise.resolve(R);const P={queryKey:e.queryKey,pageParam:C,direction:L?"backward":"forward",meta:e.options.meta};x(P);const I=await N(P),{maxPages:D}=e.options,z=L?Gq:Kq;return{pages:z(R.pages,I,D),pageParams:z(R.pageParams,C,D)}};if(o&&a.length){const R=o==="backward",C=R?sC:G0,L={pages:a,pageParams:l},P=C(n,L);c=await q(L,P,R)}else{const R=t??a.length;do{const C=p===0?l[0]??n.initialPageParam:G0(n,c);if(p>0&&C==null)break;c=await q(c,C),p++}while(p<R)}return c};e.options.persister?e.fetchFn=()=>e.options.persister?.(m,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=m}}}function G0(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function sC(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}var oC=class{#e;#t;#r;#n;#i;#s;#o;#a;constructor(t={}){this.#e=t.queryCache||new rC,this.#t=t.mutationCache||new iC,this.#r=t.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=p_.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=Mh.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=this.#e.build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Yl(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),a=this.#e.get(n.queryHash)?.state.data,l=Vq(e,a);if(l!==void 0)return this.#e.build(this,n).setData(l,{...r,manual:!0})}setQueriesData(t,e,r){return fn.batch(()=>this.#e.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;fn.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=this.#e,n={type:"active",...t};return fn.batch(()=>(r.findAll(t).forEach(o=>{o.reset()}),this.refetchQueries(n,e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=fn.batch(()=>this.#e.findAll(t).map(o=>o.cancel(r)));return Promise.all(n).then(Bi).catch(Bi)}invalidateQueries(t,e={}){return fn.batch(()=>{if(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none")return Promise.resolve();const r={...t,type:t?.refetchType??t?.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=fn.batch(()=>this.#e.findAll(t).filter(o=>!o.isDisabled()).map(o=>{let a=o.fetch(void 0,r);return r.throwOnError||(a=a.catch(Bi)),o.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(Bi)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=this.#e.build(this,e);return r.isStaleByTime(Yl(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Bi).catch(Bi)}fetchInfiniteQuery(t){return t.behavior=K0(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Bi).catch(Bi)}ensureInfiniteQueryData(t){return t.behavior=K0(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Mh.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#n.set(Ya(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#n.values()],r={};return e.forEach(n=>{Zc(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){this.#i.set(Ya(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()];let r={};return e.forEach(n=>{Zc(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=f_(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===h_&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},aC=class extends Nu{constructor(t,e){super(),this.options=e,this.#e=t,this.#a=null,this.#o=Nv(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#r=void 0;#n=void 0;#i;#s;#o;#a;#u;#l;#c;#d;#h;#f;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),J0(this.#t,this.options)?this.#p():this.updateResult(),this.#_())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return kv(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return kv(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(t,e){const r=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof es(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#x(),this.#t.setOptions(this.options),r._defaulted&&!Dh(this.options,r)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const o=this.hasListeners();o&&Z0(this.#t,n,this.options,r)&&this.#p(),this.updateResult(e),o&&(this.#t!==n||es(this.options.enabled,this.#t)!==es(r.enabled,this.#t)||Yl(this.options.staleTime,this.#t)!==Yl(r.staleTime,this.#t))&&this.#y();const a=this.#g();o&&(this.#t!==n||es(this.options.enabled,this.#t)!==es(r.enabled,this.#t)||a!==this.#f)&&this.#v(a)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),r=this.createResult(e,t);return uC(this,r)&&(this.#n=r,this.#s=this.options,this.#i=this.#t.state),r}getCurrentResult(){return this.#n}trackResult(t,e){const r={};return Object.keys(t).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),e?.(n),t[n])})}),r}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),r=this.#e.getQueryCache().build(this.#e,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#p({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#p(t){this.#x();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Bi)),e}#y(){this.#b();const t=Yl(this.options.staleTime,this.#t);if(Xa||this.#n.isStale||!xv(t))return;const r=dN(this.#n.dataUpdatedAt,t)+1;this.#d=setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#w(),this.#f=t,!(Xa||es(this.options.enabled,this.#t)===!1||!xv(this.#f)||this.#f===0)&&(this.#h=setInterval(()=>{(this.options.refetchIntervalInBackground||p_.isFocused())&&this.#p()},this.#f))}#_(){this.#y(),this.#v(this.#g())}#b(){this.#d&&(clearTimeout(this.#d),this.#d=void 0)}#w(){this.#h&&(clearInterval(this.#h),this.#h=void 0)}createResult(t,e){const r=this.#t,n=this.options,o=this.#n,a=this.#i,l=this.#s,p=t!==r?t.state:this.#r,{state:m}=t;let b={...m},x=!1,N;if(e._optimisticResults){const K=this.hasListeners(),le=!K&&J0(t,e),H=K&&Z0(t,r,e,n);(le||H)&&(b={...b,...vN(m.data,t.options)}),e._optimisticResults==="isRestoring"&&(b.fetchStatus="idle")}let{error:q,errorUpdatedAt:R,status:C}=b;if(e.select&&b.data!==void 0)if(o&&b.data===a?.data&&e.select===this.#u)N=this.#l;else try{this.#u=e.select,N=e.select(b.data),N=Ev(o?.data,N,e),this.#l=N,this.#a=null}catch(K){this.#a=K}else N=b.data;if(e.placeholderData!==void 0&&N===void 0&&C==="pending"){let K;if(o?.isPlaceholderData&&e.placeholderData===l?.placeholderData)K=o.data;else if(K=typeof e.placeholderData=="function"?e.placeholderData(this.#c?.state.data,this.#c):e.placeholderData,e.select&&K!==void 0)try{K=e.select(K),this.#a=null}catch(le){this.#a=le}K!==void 0&&(C="success",N=Ev(o?.data,K,e),x=!0)}this.#a&&(q=this.#a,N=this.#l,R=Date.now(),C="error");const L=b.fetchStatus==="fetching",P=C==="pending",I=C==="error",D=P&&L,z=N!==void 0,W={status:C,fetchStatus:b.fetchStatus,isPending:P,isSuccess:C==="success",isError:I,isInitialLoading:D,isLoading:D,data:N,dataUpdatedAt:b.dataUpdatedAt,error:q,errorUpdatedAt:R,failureCount:b.fetchFailureCount,failureReason:b.fetchFailureReason,errorUpdateCount:b.errorUpdateCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>p.dataUpdateCount||b.errorUpdateCount>p.errorUpdateCount,isFetching:L,isRefetching:L&&!P,isLoadingError:I&&!z,isPaused:b.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:I&&z,isStale:m_(t,e),refetch:this.refetch,promise:this.#o};if(this.options.experimental_prefetchInRender){const K=ne=>{W.status==="error"?ne.reject(W.error):W.data!==void 0&&ne.resolve(W.data)},le=()=>{const ne=this.#o=W.promise=Nv();K(ne)},H=this.#o;switch(H.status){case"pending":t.queryHash===r.queryHash&&K(H);break;case"fulfilled":(W.status==="error"||W.data!==H.value)&&le();break;case"rejected":(W.status!=="error"||W.error!==H.reason)&&le();break}}return W}updateResult(t){const e=this.#n,r=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#s=this.options,this.#i.data!==void 0&&(this.#c=this.#t),Dh(r,e))return;this.#n=r;const n={},o=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!this.#m.size)return!0;const c=new Set(l??this.#m);return this.options.throwOnError&&c.add("error"),Object.keys(this.#n).some(p=>{const m=p;return this.#n[m]!==e[m]&&c.has(m)})};t?.listeners!==!1&&o()&&(n.listeners=!0),this.#S({...n,...t})}#x(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#r=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#_()}#S(t){fn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function lC(t,e){return es(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function J0(t,e){return lC(t,e)||t.state.data!==void 0&&kv(t,e,e.refetchOnMount)}function kv(t,e,r){if(es(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&m_(t,e)}return!1}function Z0(t,e,r,n){return(t!==e||es(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&m_(t,r)}function m_(t,e){return es(e.enabled,t)!==!1&&t.isStaleByTime(Yl(e.staleTime,t))}function uC(t,e){return!Dh(t.getCurrentResult(),e)}var cC=class extends Nu{#e;#t=void 0;#r;#n;constructor(e,r){super(),this.#e=e,this.setOptions(r),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const r=this.options;this.options=this.#e.defaultMutationOptions(e),Dh(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&Ya(r.mutationKey)!==Ya(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#s(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#s()}mutate(e,r){return this.#n=r,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#i(){const e=this.#r?.state??_N();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#s(e){fn.batch(()=>{if(this.#n&&this.hasListeners()){const r=this.#t.variables,n=this.#t.context;e?.type==="success"?(this.#n.onSuccess?.(e.data,r,n),this.#n.onSettled?.(e.data,null,r,n)):e?.type==="error"&&(this.#n.onError?.(e.error,r,n),this.#n.onSettled?.(void 0,e.error,r,n))}this.listeners.forEach(r=>{r(this.#t)})})}},G=Nd();const br=Eu(G),dC=Bq({__proto__:null,default:br},[G]);var bN=G.createContext(void 0),Dc=t=>{const e=G.useContext(bN);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},fC=({client:t,children:e})=>(G.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),g.jsx(bN.Provider,{value:t,children:e})),wN=G.createContext(!1),hC=()=>G.useContext(wN);wN.Provider;function pC(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var mC=G.createContext(pC()),yC=()=>G.useContext(mC);function xN(t,e){return typeof t=="function"?t(...e):!!t}function qv(){}var gC=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},vC=t=>{G.useEffect(()=>{t.clearReset()},[t])},_C=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&xN(r,[t.error,n]),bC=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},wC=(t,e)=>t.isLoading&&t.isFetching&&!e,xC=(t,e)=>t?.suspense&&e.isPending,X0=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function SC(t,e,r){const n=Dc(),o=hC(),a=yC(),l=n.defaultQueryOptions(t);n.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=o?"isRestoring":"optimistic",bC(l),gC(l,a),vC(a);const c=!n.getQueryCache().get(l.queryHash),[p]=G.useState(()=>new e(n,l)),m=p.getOptimisticResult(l);if(G.useSyncExternalStore(G.useCallback(b=>{const x=o?qv:p.subscribe(fn.batchCalls(b));return p.updateResult(),x},[p,o]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),G.useEffect(()=>{p.setOptions(l,{listeners:!1})},[l,p]),xC(l,m))throw X0(l,p,a);if(_C({result:m,errorResetBoundary:a,throwOnError:l.throwOnError,query:n.getQueryCache().get(l.queryHash)}))throw m.error;return n.getDefaultOptions().queries?._experimental_afterQuery?.(l,m),l.experimental_prefetchInRender&&!Xa&&wC(m,o)&&(c?X0(l,p,a):n.getQueryCache().get(l.queryHash)?.promise)?.catch(qv).finally(()=>{p.updateResult()}),l.notifyOnChangeProps?m:p.trackResult(m)}function EC(t,e){return SC(t,aC)}function Mc(t,e){const r=Dc(),[n]=G.useState(()=>new cC(r,t));G.useEffect(()=>{n.setOptions(t)},[n,t]);const o=G.useSyncExternalStore(G.useCallback(l=>n.subscribe(fn.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=G.useCallback((l,c)=>{n.mutate(l,c).catch(qv)},[n]);if(o.error&&xN(n.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:a,mutateAsync:o.mutate}}const Y0="popstate",ex="beforeunload";function SN(t){let e=t.getLocation();const r=new Set,n=l=>{e=t.getLocation(),r.forEach(c=>c({location:e,action:l}))},o=()=>{e=t.getLocation(),r.forEach(l=>l({location:e,action:{type:"ROLLBACK"}}))},a=async({task:l,navigateOpts:c,...p})=>{var m,b;if(c?.ignoreBlocker??!1){l();return}const N=((m=t.getBlockers)==null?void 0:m.call(t))??[],q=p.type==="PUSH"||p.type==="REPLACE";if(typeof document<"u"&&N.length&&q)for(const R of N){const C=Xc(p.path,p.state);if(await R.blockerFn({currentLocation:e,nextLocation:C,action:p.type})){(b=t.onBlocked)==null||b.call(t,o);return}}l()};return{get location(){return e},get length(){return t.getLength()},subscribers:r,subscribe:l=>(r.add(l),()=>{r.delete(l)}),push:(l,c,p)=>{c=tx(c),a({task:()=>{t.pushState(l,c),n({type:"PUSH"})},navigateOpts:p,type:"PUSH",path:l,state:c})},replace:(l,c,p)=>{c=tx(c),a({task:()=>{t.replaceState(l,c),n({type:"REPLACE"})},navigateOpts:p,type:"REPLACE",path:l,state:c})},go:(l,c)=>{a({task:()=>{t.go(l),n({type:"GO",index:l})},navigateOpts:c,type:"GO"})},back:l=>{a({task:()=>{t.back(l?.ignoreBlocker??!1),n({type:"BACK"})},navigateOpts:l,type:"BACK"})},forward:l=>{a({task:()=>{t.forward(l?.ignoreBlocker??!1),n({type:"FORWARD"})},navigateOpts:l,type:"FORWARD"})},createHref:l=>t.createHref(l),block:l=>{var c;if(!t.setBlockers)return()=>{};const p=((c=t.getBlockers)==null?void 0:c.call(t))??[];return t.setBlockers([...p,l]),()=>{var m,b;const x=((m=t.getBlockers)==null?void 0:m.call(t))??[];(b=t.setBlockers)==null||b.call(t,x.filter(N=>N!==l))}},flush:()=>{var l;return(l=t.flush)==null?void 0:l.call(t)},destroy:()=>{var l;return(l=t.destroy)==null?void 0:l.call(t)},notify:n}}function tx(t){return t||(t={}),{...t,key:qC()}}function NC(t){const e=typeof document<"u"?window:void 0,r=e.history.pushState,n=e.history.replaceState;let o=[];const a=()=>o,l=K=>o=K,c=K=>K,p=()=>Xc(`${e.location.pathname}${e.location.search}${e.location.hash}`,e.history.state);let m=p(),b,x=!1,N=!1,q=!1;const R=()=>m;let C,L;const P=()=>{C&&(W._ignoreSubscribers=!0,(C.isPush?e.history.pushState:e.history.replaceState)(C.state,"",C.href),W._ignoreSubscribers=!1,C=void 0,L=void 0,b=void 0)},I=(K,le,H)=>{const ne=c(le);L||(b=m),m=Xc(le,H),C={href:ne,state:H,isPush:C?.isPush||K==="push"},L||(L=Promise.resolve().then(()=>P()))},D=()=>{m=p(),W.notify({type:"POP"})},z=async()=>{if(x){x=!1;return}if(N)N=!1;else{const K=a();if(typeof document<"u"&&K.length)for(const le of K){const H=p();if(await le.blockerFn({currentLocation:m,nextLocation:H,action:"POP"})){x=!0,e.history.go(1),W.notify({type:"POP"});return}}}m=p(),W.notify({type:"POP"})},V=K=>{if(q){q=!1;return}let le=!1;const H=a();if(typeof document<"u"&&H.length)for(const ne of H){const B=ne.enableBeforeUnload??!0;if(B===!0){le=!0;break}if(typeof B=="function"&&B()===!0){le=!0;break}}if(le)return K.preventDefault(),K.returnValue=""},W=SN({getLocation:R,getLength:()=>e.history.length,pushState:(K,le)=>I("push",K,le),replaceState:(K,le)=>I("replace",K,le),back:K=>(K&&(N=!0),q=!0,e.history.back()),forward:K=>{K&&(N=!0),q=!0,e.history.forward()},go:K=>e.history.go(K),createHref:K=>c(K),flush:P,destroy:()=>{e.history.pushState=r,e.history.replaceState=n,e.removeEventListener(ex,V,{capture:!0}),e.removeEventListener(Y0,z)},onBlocked:K=>{b&&m!==b&&(m=b,K())},getBlockers:a,setBlockers:l});return e.addEventListener(ex,V,{capture:!0}),e.addEventListener(Y0,z),e.history.pushState=function(...K){const le=r.apply(e.history,K);return W._ignoreSubscribers||D(),le},e.history.replaceState=function(...K){const le=n.apply(e.history,K);return W._ignoreSubscribers||D(),le},W}function kC(t={initialEntries:["/"]}){const e=t.initialEntries;let r=t.initialIndex??e.length-1;const n=e.map(()=>({}));return SN({getLocation:()=>Xc(e[r],n[r]),getLength:()=>e.length,pushState:(a,l)=>{r<e.length-1&&(e.splice(r+1),n.splice(r+1)),n.push(l),e.push(a),r=Math.max(e.length-1,0)},replaceState:(a,l)=>{n[r]=l,e[r]=a},back:()=>{r=Math.max(r-1,0)},forward:()=>{r=Math.min(r+1,e.length-1)},go:a=>{r=Math.min(Math.max(r+a,0),e.length-1)},createHref:a=>a})}function Xc(t,e){const r=t.indexOf("#"),n=t.indexOf("?");return{href:t,pathname:t.substring(0,r>0?n>0?Math.min(r,n):r:n>0?n:t.length),hash:r>-1?t.substring(r):"",search:n>-1?t.slice(n,r===-1?void 0:r):"",state:e||{}}}function qC(){return(Math.random()+1).toString(36).substring(7)}var CC="Invariant failed";function _i(t,e){if(!t)throw new Error(CC)}const Jy=G.createContext(null);function EN(){return typeof document>"u"?Jy:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=Jy,Jy)}function Si(t){const e=G.useContext(EN());return t?.warn,e}var Zy={exports:{}},Xy={},Yy={exports:{}},eg={};var rx;function RC(){if(rx)return eg;rx=1;var t=Nd();function e(x,N){return x===N&&(x!==0||1/x===1/N)||x!==x&&N!==N}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,o=t.useEffect,a=t.useLayoutEffect,l=t.useDebugValue;function c(x,N){var q=N(),R=n({inst:{value:q,getSnapshot:N}}),C=R[0].inst,L=R[1];return a(function(){C.value=q,C.getSnapshot=N,p(C)&&L({inst:C})},[x,q,N]),o(function(){return p(C)&&L({inst:C}),x(function(){p(C)&&L({inst:C})})},[x]),l(q),q}function p(x){var N=x.getSnapshot;x=x.value;try{var q=N();return!r(x,q)}catch{return!0}}function m(x,N){return N()}var b=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:c;return eg.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:b,eg}var nx;function OC(){return nx||(nx=1,Yy.exports=RC()),Yy.exports}var ix;function TC(){if(ix)return Xy;ix=1;var t=Nd(),e=OC();function r(m,b){return m===b&&(m!==0||1/m===1/b)||m!==m&&b!==b}var n=typeof Object.is=="function"?Object.is:r,o=e.useSyncExternalStore,a=t.useRef,l=t.useEffect,c=t.useMemo,p=t.useDebugValue;return Xy.useSyncExternalStoreWithSelector=function(m,b,x,N,q){var R=a(null);if(R.current===null){var C={hasValue:!1,value:null};R.current=C}else C=R.current;R=c(function(){function P(W){if(!I){if(I=!0,D=W,W=N(W),q!==void 0&&C.hasValue){var K=C.value;if(q(K,W))return z=K}return z=W}if(K=z,n(D,W))return K;var le=N(W);return q!==void 0&&q(K,le)?(D=W,K):(D=W,z=le)}var I=!1,D,z,V=x===void 0?null:x;return[function(){return P(b())},V===null?void 0:function(){return P(V())}]},[b,x,N,q]);var L=o(m,R[0],R[1]);return l(function(){C.hasValue=!0,C.value=L},[L]),p(L),L},Xy}var sx;function AC(){return sx||(sx=1,Zy.exports=TC()),Zy.exports}var IC=AC();class PC{constructor(e,r){this.listeners=new Set,this._batching=!1,this._flushing=0,this.subscribe=n=>{var o,a;this.listeners.add(n);const l=(a=(o=this.options)==null?void 0:o.onSubscribe)==null?void 0:a.call(o,n,this);return()=>{this.listeners.delete(n),l?.()}},this.setState=n=>{var o,a,l;const c=this.state;this.state=(o=this.options)!=null&&o.updateFn?this.options.updateFn(c)(n):n(c),(l=(a=this.options)==null?void 0:a.onUpdate)==null||l.call(a),this._flush()},this._flush=()=>{if(this._batching)return;const n=++this._flushing;this.listeners.forEach(o=>{this._flushing===n&&o()})},this.batch=n=>{if(this._batching)return n();this._batching=!0,n(),this._batching=!1,this._flush()},this.state=e,this.options=r}}function FC(t,e=r=>r){return IC.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,LC)}function LC(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[n,o]of t)if(!e.has(n)||!Object.is(o,e.get(n)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!1;for(let n=0;n<r.length;n++)if(!Object.prototype.hasOwnProperty.call(e,r[n])||!Object.is(t[r[n]],e[r[n]]))return!1;return!0}const yi="__root__";function jC(t,e){let r,n,o,a="";for(r in t)if((o=t[r])!==void 0)if(Array.isArray(o))for(n=0;n<o.length;n++)a&&(a+="&"),a+=encodeURIComponent(r)+"="+encodeURIComponent(o[n]);else a&&(a+="&"),a+=encodeURIComponent(r)+"="+encodeURIComponent(o);return""+a}function ox(t){if(!t)return"";const e=decodeURIComponent(t);return e==="false"?!1:e==="true"?!0:+e*0===0&&+e+""===e?+e:e}function DC(t,e){let r,n;const o={},a=t.split("&");for(;r=a.shift();){const l=r.indexOf("=");if(l!==-1){n=r.slice(0,l),n=decodeURIComponent(n);const c=r.slice(l+1);o[n]!==void 0?o[n]=[].concat(o[n],ox(c)):o[n]=ox(c)}else n=r,n=decodeURIComponent(n),o[n]=""}return o}const MC=WC(JSON.parse),BC=$C(JSON.stringify,JSON.parse);function WC(t){return e=>{e.substring(0,1)==="?"&&(e=e.substring(1));const r=DC(e);for(const n in r){const o=r[n];if(typeof o=="string")try{r[n]=t(o)}catch{}}return r}}function $C(t,e){function r(n){if(typeof n=="object"&&n!==null)try{return t(n)}catch{}else if(typeof n=="string"&&typeof e=="function")try{return e(n),t(n)}catch{}return n}return n=>{n={...n},Object.keys(n).forEach(a=>{const l=n[a];typeof l>"u"||l===void 0?delete n[a]:n[a]=r(l)});const o=jC(n).toString();return o?`?${o}`:""}}function Bc(t){return t[t.length-1]}function UC(t){return typeof t=="function"}function za(t,e){return UC(t)?t(e):t}function mh(t,e){return e.reduce((r,n)=>(r[n]=t[n],r),{})}function Di(t,e){if(t===e)return t;const r=e,n=lx(t)&&lx(r);if(n||hu(t)&&hu(r)){const o=n?t:Object.keys(t),a=o.length,l=n?r:Object.keys(r),c=l.length,p=n?[]:{};let m=0;for(let b=0;b<c;b++){const x=n?b:l[b];(!n&&o.includes(x)||n)&&t[x]===void 0&&r[x]===void 0?(p[x]=void 0,m++):(p[x]=Di(t[x],r[x]),p[x]===t[x]&&t[x]!==void 0&&m++)}return a===c&&m===a?t:p}return r}function hu(t){if(!ax(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const r=e.prototype;return!(!ax(r)||!r.hasOwnProperty("isPrototypeOf"))}function ax(t){return Object.prototype.toString.call(t)==="[object Object]"}function lx(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ux(t,e){let r=Object.keys(t);return e&&(r=r.filter(n=>t[n]!==void 0)),r}function eu(t,e,r){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(hu(t)&&hu(e)){const n=r?.ignoreUndefined??!0,o=ux(t,n),a=ux(e,n);return!r?.partial&&o.length!==a.length?!1:a.every(l=>eu(t[l],e[l],r))}return Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:!t.some((n,o)=>!eu(n,e[o],r)):!1}const Rc=typeof window<"u"?G.useLayoutEffect:G.useEffect;function Ul(t){let e,r;const n=new Promise((o,a)=>{e=o,r=a});return n.status="pending",n.resolve=o=>{n.status="resolved",n.value=o,e(o),t?.(o)},n.reject=o=>{n.status="rejected",r(o)},n}function tg(t){const e=G.useRef({value:t,prev:null}),r=e.current.value;return t!==r&&(e.current={value:t,prev:r}),e.current.prev}function zC(t,e,r={},n={}){const o=G.useRef(typeof IntersectionObserver=="function"),a=G.useRef(null);return G.useEffect(()=>{if(!(!t.current||!o.current||n.disabled))return a.current=new IntersectionObserver(([l])=>{e(l)},r),a.current.observe(t.current),()=>{var l;(l=a.current)==null||l.disconnect()}},[e,r,n.disabled,t]),a.current}function VC(t){const e=G.useRef(null);return G.useEffect(()=>{t&&(typeof t=="function"?t(e.current):t.current=e.current)}),e}function ro(t){return kp(t.filter(e=>e!==void 0).join("/"))}function kp(t){return t.replace(/\/{2,}/g,"/")}function y_(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function Va(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function HC(t){return Va(y_(t))}function Bh(t,e){return t.endsWith("/")&&t!=="/"&&t!==`${e}/`?t.slice(0,-1):t}function QC(t,e,r){return Bh(t,r)===Bh(e,r)}function KC({basepath:t,base:e,to:r,trailingSlash:n="never",caseSensitive:o}){var a,l;e=Wh(t,e,o),r=Wh(t,r,o);let c=pu(e);const p=pu(r);c.length>1&&((a=Bc(c))==null?void 0:a.value)==="/"&&c.pop(),p.forEach((b,x)=>{b.value==="/"?x?x===p.length-1&&c.push(b):c=[b]:b.value===".."?c.pop():b.value==="."||c.push(b)}),c.length>1&&(((l=Bc(c))==null?void 0:l.value)==="/"?n==="never"&&c.pop():n==="always"&&c.push({type:"pathname",value:"/"}));const m=ro([t,...c.map(b=>b.value)]);return kp(m)}function pu(t){if(!t)return[];t=kp(t);const e=[];if(t.slice(0,1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),!t)return e;const r=t.split("/").filter(Boolean);return e.push(...r.map(n=>n==="$"||n==="*"?{type:"wildcard",value:n}:n.charAt(0)==="$"?{type:"param",value:n}:{type:"pathname",value:decodeURI(n)})),t.slice(-1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),e}function th({path:t,params:e,leaveWildcards:r,leaveParams:n,decodeCharMap:o}){const a=pu(t),l={};for(const[c,p]of Object.entries(e)){const m=typeof p=="string";["*","_splat"].includes(c)?l[c]=m?encodeURI(p):p:l[c]=m?GC(p,o):p}return ro(a.map(c=>{if(c.type==="wildcard"){const p=l._splat;return r?`${c.value}${p??""}`:p}if(c.type==="param"){if(n){const p=l[c.value];return`${c.value}${p??""}`}return l[c.value.substring(1)]??"undefined"}return c.value}))}function GC(t,e){let r=encodeURIComponent(t);if(e)for(const[n,o]of e)r=r.replaceAll(n,o);return r}function rh(t,e,r){const n=JC(t,e,r);if(!(r.to&&!n))return n??{}}function Wh(t,e,r=!1){const n=r?t:t.toLowerCase(),o=r?e:e.toLowerCase();switch(!0){case n==="/":return e;case o===n:return"";case e.length<t.length:return e;case o[n.length]!=="/":return e;case o.startsWith(n):return e.slice(t.length);default:return e}}function JC(t,e,r){if(t!=="/"&&!e.startsWith(t))return;e=Wh(t,e,r.caseSensitive);const n=Wh(t,`${r.to??"$"}`,r.caseSensitive),o=pu(e),a=pu(n);e.startsWith("/")||o.unshift({type:"pathname",value:"/"}),n.startsWith("/")||a.unshift({type:"pathname",value:"/"});const l={};return(()=>{for(let p=0;p<Math.max(o.length,a.length);p++){const m=o[p],b=a[p],x=p>=o.length-1,N=p>=a.length-1;if(b){if(b.type==="wildcard"){const q=decodeURI(ro(o.slice(p).map(R=>R.value)));return l["*"]=q,l._splat=q,!0}if(b.type==="pathname"){if(b.value==="/"&&!m?.value)return!0;if(m){if(r.caseSensitive){if(b.value!==m.value)return!1}else if(b.value.toLowerCase()!==m.value.toLowerCase())return!1}}if(!m)return!1;if(b.type==="param"){if(m.value==="/")return!1;m.value.charAt(0)!=="$"&&(l[b.value.substring(1)]=decodeURIComponent(m.value))}}if(!x&&N)return l["**"]=ro(o.slice(p+1).map(q=>q.value)),!!r.fuzzy&&b?.value!=="/"}return!0})()?l:void 0}function qp(t){if(t.isRedirect=!0,t.statusCode=t.statusCode||t.code||307,t.headers=t.headers||{},!t.reloadDocument){t.reloadDocument=!1;try{new URL(`${t.href}`),t.reloadDocument=!0}catch{}}if(t.throw)throw t;return t}function Da(t){return!!t?.isRedirect}function rg(t){return!!t?.isRedirect&&t.href}function g_(t){const e=t.errorComponent??Cp;return g.jsx(ZC,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:r,reset:n})=>r?G.createElement(e,{error:r,reset:n}):t.children})}class ZC extends G.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,r){r.error&&r.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,r){this.props.onCatch&&this.props.onCatch(e,r)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function Cp({error:t}){const[e,r]=G.useState(!1);return g.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[g.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),g.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>r(n=>!n),children:e?"Hide Error":"Show Error"})]}),g.jsx("div",{style:{height:".25rem"}}),e?g.jsx("div",{children:g.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?g.jsx("code",{children:t.message}):null})}):null]})}function Wn(t){const e=Si({warn:t?.router===void 0}),r=t?.router||e,n=G.useRef();return FC(r.__store,o=>{if(t?.select){if(t.structuralSharing??r.options.defaultStructuralSharing){const a=Di(n.current,t.select(o));return n.current=a,a}return t.select(o)}return o})}function Yi(t){return!!t?.isNotFound}function XC(t){const e=Wn({select:r=>`not-found-${r.location.pathname}-${r.status}`});return g.jsx(g_,{getResetKey:()=>e,onCatch:(r,n)=>{var o;if(Yi(r))(o=t.onCatch)==null||o.call(t,r,n);else throw r},errorComponent:({error:r})=>{var n;if(Yi(r))return(n=t.fallback)==null?void 0:n.call(t,r);throw r},children:t.children})}function YC(){return g.jsx("p",{children:"Not Found"})}const eR={stringify:t=>JSON.stringify(t,function(r,n){const o=this[r],a=cx.find(l=>l.stringifyCondition(o));return a?a.stringify(o):n}),parse:t=>JSON.parse(t,function(r,n){const o=this[r],a=cx.find(l=>l.parseCondition(o));return a?a.parse(o):n})},cx=[{stringifyCondition:t=>t instanceof Date,stringify:t=>({$date:t.toISOString()}),parseCondition:t=>hu(t)&&t.$date,parse:t=>new Date(t.$date)},{stringifyCondition:t=>t===void 0,stringify:()=>({$undefined:""}),parseCondition:t=>hu(t)&&t.$undefined==="",parse:()=>{}}],NN=["component","errorComponent","pendingComponent","notFoundComponent"];function tR(t){var e;for(const r of NN)if((e=t.options[r])!=null&&e.preload)return!0;return!1}function ng(t,e){if(t==null)return{};if("~standard"in t){const r=t["~standard"].validate(e);if(r instanceof Promise)throw new Cv("Async validation not supported");if(r.issues)throw new Cv(JSON.stringify(r.issues,void 0,2));return r.value}return"parse"in t?t.parse(e):typeof t=="function"?t(e):{}}function rR(t){return new nR(t)}class nR{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.startReactTransition=r=>r(),this.update=r=>{var n;r.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/guide/not-found-errors#migrating-from-notfoundroute for more info.");const o=this.options;this.options={...this.options,...r},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(a=>[encodeURIComponent(a),a])):void 0,(!this.basepath||r.basepath&&r.basepath!==o.basepath)&&(r.basepath===void 0||r.basepath===""||r.basepath==="/"?this.basepath="/":this.basepath=`/${HC(r.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?kC({initialEntries:[this.basepath||"/"]}):NC()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new PC(sR(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(a=>!["redirected"].includes(a.status))}}})),typeof window<"u"&&"CSS"in window&&typeof((n=window.CSS)==null?void 0:n.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.buildRouteTree=()=>{this.routesById={},this.routesByPath={};const r=this.options.notFoundRoute;r&&(r.init({originalIndex:0x174876e7ff,defaultSsr:this.options.defaultSsr}),this.routesById[r.id]=r);const n=l=>{l.forEach((c,p)=>{c.init({originalIndex:p,defaultSsr:this.options.defaultSsr});const m=this.routesById[c.id];if(_i(!m,`Duplicate routes found with id: ${String(c.id)}`),this.routesById[c.id]=c,!c.isRoot&&c.path){const x=Va(c.fullPath);(!this.routesByPath[x]||c.fullPath.endsWith("/"))&&(this.routesByPath[x]=c)}const b=c.children;b?.length&&n(b)})};n([this.routeTree]);const o=[];Object.values(this.routesById).forEach((l,c)=>{var p;if(l.isRoot||!l.path)return;const m=y_(l.fullPath),b=pu(m);for(;b.length>1&&((p=b[0])==null?void 0:p.value)==="/";)b.shift();const x=b.map(N=>N.value==="/"?.75:N.type==="param"?.5:N.type==="wildcard"?.25:1);o.push({child:l,trimmed:m,parsed:b,index:c,scores:x})}),this.flatRoutes=o.sort((l,c)=>{const p=Math.min(l.scores.length,c.scores.length);for(let m=0;m<p;m++)if(l.scores[m]!==c.scores[m])return c.scores[m]-l.scores[m];if(l.scores.length!==c.scores.length)return c.scores.length-l.scores.length;for(let m=0;m<p;m++)if(l.parsed[m].value!==c.parsed[m].value)return l.parsed[m].value>c.parsed[m].value?1:-1;return l.index-c.index}).map((l,c)=>(l.child.rank=c,l.child))},this.subscribe=(r,n)=>{const o={eventType:r,fn:n};return this.subscribers.add(o),()=>{this.subscribers.delete(o)}},this.emit=r=>{this.subscribers.forEach(n=>{n.eventType===r.type&&n.fn(r)})},this.parseLocation=(r,n)=>{const o=({pathname:p,search:m,hash:b,state:x})=>{const N=this.options.parseSearch(m),q=this.options.stringifySearch(N);return{pathname:p,searchStr:q,search:Di(r?.search,N),hash:b.split("#").reverse()[0]??"",href:`${p}${q}${b}`,state:Di(r?.state,x)}},a=o(n??this.history.location),{__tempLocation:l,__tempKey:c}=a.state;if(l&&(!c||c===this.tempLocationKey)){const p=o(l);return p.state.key=a.state.key,delete p.state.__tempLocation,{...p,maskedLocation:a}}return a},this.resolvePathWithBase=(r,n)=>KC({basepath:this.basepath,base:r,to:kp(n),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.getMatchedRoutes=(r,n)=>{let o={};const a=Va(r.pathname),l=b=>rh(this.basepath,a,{to:b.fullPath,caseSensitive:b.options.caseSensitive??this.options.caseSensitive,fuzzy:!0});let c=n?.to!==void 0?this.routesByPath[n.to]:void 0;c?o=l(c):c=this.flatRoutes.find(b=>{const x=l(b);return x?(o=x,!0):!1});let p=c||this.routesById[yi];const m=[p];for(;p.parentRoute;)p=p.parentRoute,m.unshift(p);return{matchedRoutes:m,routeParams:o,foundRoute:c}},this.cancelMatch=r=>{const n=this.getMatch(r);n&&(n.abortController.abort(),clearTimeout(n.pendingTimeout))},this.cancelMatches=()=>{var r;(r=this.state.pendingMatches)==null||r.forEach(n=>{this.cancelMatch(n.id)})},this.buildLocation=r=>{const n=(a={},l)=>{var c,p,m,b,x,N;const q=a._fromLocation?this.matchRoutes(a._fromLocation,{_buildLocation:!0}):this.state.matches,R=a.from!=null?q.find(B=>rh(this.basepath,Va(B.pathname),{to:a.from,caseSensitive:!1,fuzzy:!1})):void 0,C=R?.pathname||this.latestLocation.pathname;_i(a.from==null||R!=null,"Could not find match for from: "+a.from);const L=(c=this.state.pendingMatches)!=null&&c.length?(p=Bc(this.state.pendingMatches))==null?void 0:p.search:((m=Bc(q))==null?void 0:m.search)||this.latestLocation.search,P=l?.matchedRoutes.filter(B=>q.find(re=>re.routeId===B.id));let I;if(a.to)I=this.resolvePathWithBase(C,`${a.to}`);else{const B=this.routesById[(b=P?.find(re=>{const Z=th({path:re.fullPath,params:l?.routeParams??{},decodeCharMap:this.pathParamsDecodeCharMap});return ro([this.basepath,Z])===C}))==null?void 0:b.id];I=this.resolvePathWithBase(C,B?.to??C)}const D={...(x=Bc(q))==null?void 0:x.params};let z=(a.params??!0)===!0?D:{...D,...za(a.params,D)};Object.keys(z).length>0&&l?.matchedRoutes.map(B=>{var re;return((re=B.options.params)==null?void 0:re.stringify)??B.options.stringifyParams}).filter(Boolean).forEach(B=>{z={...z,...B(z)}}),I=th({path:I,params:z??{},leaveWildcards:!1,leaveParams:r.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap});let V=L;if(r._includeValidateSearch&&((N=this.options.search)!=null&&N.strict)){let B={};l?.matchedRoutes.forEach(re=>{try{re.options.validateSearch&&(B={...B,...ng(re.options.validateSearch,{...B,...V})??{}})}catch{}}),V=B}V=(B=>{const re=l?.matchedRoutes.reduce((Re,Ce)=>{var Pe;const ve=[];if("search"in Ce.options)(Pe=Ce.options.search)!=null&&Pe.middlewares&&ve.push(...Ce.options.search.middlewares);else if(Ce.options.preSearchFilters||Ce.options.postSearchFilters){const me=({search:Ee,next:Q})=>{let xe=Ee;"preSearchFilters"in Ce.options&&Ce.options.preSearchFilters&&(xe=Ce.options.preSearchFilters.reduce((at,dt)=>dt(at),Ee));const lt=Q(xe);return"postSearchFilters"in Ce.options&&Ce.options.postSearchFilters?Ce.options.postSearchFilters.reduce((at,dt)=>dt(at),lt):lt};ve.push(me)}if(r._includeValidateSearch&&Ce.options.validateSearch){const me=({search:Ee,next:Q})=>{try{const xe=Q(Ee);return{...xe,...ng(Ce.options.validateSearch,xe)??{}}}catch{}};ve.push(me)}return Re.concat(ve)},[])??[],Z=({search:Re})=>a.search?a.search===!0?Re:za(a.search,Re):{};re.push(Z);const pe=(Re,Ce)=>{if(Re>=re.length)return Ce;const Pe=re[Re];return Pe({search:Ce,next:me=>pe(Re+1,me)})};return pe(0,B)})(V),V=Di(L,V);const K=this.options.stringifySearch(V),le=a.hash===!0?this.latestLocation.hash:a.hash?za(a.hash,this.latestLocation.hash):void 0,H=le?`#${le}`:"";let ne=a.state===!0?this.latestLocation.state:a.state?za(a.state,this.latestLocation.state):{};return ne=Di(this.latestLocation.state,ne),{pathname:I,search:V,searchStr:K,state:ne,hash:le??"",href:`${I}${K}${H}`,unmaskOnReload:a.unmaskOnReload}},o=(a={},l)=>{var c;const p=n(a);let m=l?n(l):void 0;if(!m){let N={};const q=(c=this.options.routeMasks)==null?void 0:c.find(R=>{const C=rh(this.basepath,p.pathname,{to:R.from,caseSensitive:!1,fuzzy:!1});return C?(N=C,!0):!1});if(q){const{from:R,...C}=q;l={...mh(r,["from"]),...C,params:N},m=n(l)}}const b=this.getMatchedRoutes(p,a),x=n(a,b);if(m){const N=this.getMatchedRoutes(m,l),q=n(l,N);x.maskedLocation=q}return x};return r.mask?o(r,{...mh(r,["from"]),...r.mask}):o(r)},this.commitLocation=({viewTransition:r,ignoreBlocker:n,...o})=>{const a=()=>{o.state.key=this.latestLocation.state.key;const p=eu(o.state,this.latestLocation.state);return delete o.state.key,p},l=this.latestLocation.href===o.href,c=this.commitLocationPromise;if(this.commitLocationPromise=Ul(()=>{c?.resolve()}),l&&a())this.load();else{let{maskedLocation:p,hashScrollIntoView:m,...b}=o;p&&(b={...p,state:{...p.state,__tempKey:void 0,__tempLocation:{...b,search:b.searchStr,state:{...b.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}},(b.unmaskOnReload??this.options.unmaskOnReload??!1)&&(b.state.__tempKey=this.tempLocationKey)),b.state.__hashScrollIntoViewOptions=m??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=r,this.history[o.replace?"replace":"push"](b.href,b.state,{ignoreBlocker:n})}return this.resetNextScroll=o.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:r,resetScroll:n,hashScrollIntoView:o,viewTransition:a,ignoreBlocker:l,href:c,...p}={})=>{if(c){const b=Xc(c,{});p.to=b.pathname,p.search=this.options.parseSearch(b.search),p.hash=b.hash.slice(1)}const m=this.buildLocation({...p,_includeValidateSearch:!0});return this.commitLocation({...m,viewTransition:a,replace:r,resetScroll:n,hashScrollIntoView:o,ignoreBlocker:l})},this.navigate=({to:r,reloadDocument:n,href:o,...a})=>{if(n){o||(o=this.buildLocation({to:r,...a}).href),a.replace?window.location.replace(o):window.location.href=o;return}return this.buildAndCommitLocation({...a,href:o,to:r})},this.load=async()=>{this.latestLocation=this.parseLocation(this.latestLocation);let r,n,o;for(o=new Promise(a=>{this.startReactTransition(async()=>{var l;try{const c=this.latestLocation,p=this.state.resolvedLocation,m=p.href!==c.href,b=p.pathname!==c.pathname;this.cancelMatches();let x;this.__store.batch(()=>{x=this.matchRoutes(c),this.__store.setState(N=>({...N,status:"pending",isLoading:!0,location:c,pendingMatches:x,cachedMatches:N.cachedMatches.filter(q=>!x.find(R=>R.id===q.id))}))}),this.state.redirect||this.emit({type:"onBeforeNavigate",fromLocation:p,toLocation:c,pathChanged:b,hrefChanged:m}),this.emit({type:"onBeforeLoad",fromLocation:p,toLocation:c,pathChanged:b,hrefChanged:m}),await this.loadMatches({matches:x,location:c,onReady:async()=>{this.startViewTransition(async()=>{let N,q,R;this.__store.batch(()=>{this.__store.setState(C=>{const L=C.matches,P=C.pendingMatches||C.matches;return N=L.filter(I=>!P.find(D=>D.id===I.id)),q=P.filter(I=>!L.find(D=>D.id===I.id)),R=L.filter(I=>P.find(D=>D.id===I.id)),{...C,isLoading:!1,loadedAt:Date.now(),matches:P,pendingMatches:void 0,cachedMatches:[...C.cachedMatches,...N.filter(I=>I.status!=="error")]}}),this.clearExpiredCache()}),[[N,"onLeave"],[q,"onEnter"],[R,"onStay"]].forEach(([C,L])=>{C.forEach(P=>{var I,D;(D=(I=this.looseRoutesById[P.routeId].options)[L])==null||D.call(I,P)})})})}})}catch(c){rg(c)?(r=c,this.isServer||this.navigate({...r,replace:!0,ignoreBlocker:!0})):Yi(c)&&(n=c),this.__store.setState(p=>({...p,statusCode:r?r.statusCode:n?404:p.matches.some(m=>m.status==="error")?500:200,redirect:r}))}this.latestLoadPromise===o&&((l=this.commitLocationPromise)==null||l.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),a()})}),this.latestLoadPromise=o,await o;this.latestLoadPromise&&o!==this.latestLoadPromise;)await this.latestLoadPromise},this.startViewTransition=r=>{const n=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,n&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let o;typeof n=="object"&&this.isViewTransitionTypesSupported?o={update:r,types:n.types}:o=r,document.startViewTransition(o)}else r()},this.updateMatch=(r,n)=>{var o;let a;const l=(o=this.state.pendingMatches)==null?void 0:o.find(b=>b.id===r),c=this.state.matches.find(b=>b.id===r),p=this.state.cachedMatches.find(b=>b.id===r),m=l?"pendingMatches":c?"matches":p?"cachedMatches":"";return m&&this.__store.setState(b=>{var x;return{...b,[m]:(x=b[m])==null?void 0:x.map(N=>N.id===r?a=n(N):N)}}),a},this.getMatch=r=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(n=>n.id===r),this.loadMatches=async({location:r,matches:n,preload:o,onReady:a,updateMatch:l=this.updateMatch})=>{let c,p=!1;const m=async()=>{p||(p=!0,await a?.())},b=N=>!!(o&&!this.state.matches.find(q=>q.id===N));!this.isServer&&!this.state.matches.length&&m();const x=(N,q)=>{var R,C,L;if(rg(q)&&!q.reloadDocument)throw q;if(Da(q)||Yi(q)){if(l(N.id,P=>({...P,status:Da(q)?"redirected":Yi(q)?"notFound":"error",isFetching:!1,error:q,beforeLoadPromise:void 0,loaderPromise:void 0})),q.routeId||(q.routeId=N.routeId),(R=N.beforeLoadPromise)==null||R.resolve(),(C=N.loaderPromise)==null||C.resolve(),(L=N.loadPromise)==null||L.resolve(),Da(q))throw p=!0,q=this.resolveRedirect({...q,_fromLocation:r}),q;if(Yi(q))throw this._handleNotFound(n,q,{updateMatch:l}),q}};try{await new Promise((N,q)=>{(async()=>{var R,C,L;try{const P=(z,V,W)=>{var K,le;const{id:H,routeId:ne}=n[z],B=this.looseRoutesById[ne];if(V instanceof Promise)throw V;V.routerCode=W,c=c??z,x(this.getMatch(H),V);try{(le=(K=B.options).onError)==null||le.call(K,V)}catch(re){V=re,x(this.getMatch(H),V)}l(H,re=>{var Z,pe;return(Z=re.beforeLoadPromise)==null||Z.resolve(),(pe=re.loadPromise)==null||pe.resolve(),{...re,error:V,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[z,{id:V,routeId:W}]of n.entries()){const K=this.getMatch(V),le=(R=n[z-1])==null?void 0:R.id,H=this.looseRoutesById[W],ne=H.options.pendingMs??this.options.defaultPendingMs,B=!!(a&&!this.isServer&&!b(V)&&(H.options.loader||H.options.beforeLoad)&&typeof ne=="number"&&ne!==1/0&&(H.options.pendingComponent??this.options.defaultPendingComponent));let re=!0;if((K.beforeLoadPromise||K.loaderPromise)&&(B&&setTimeout(()=>{try{m()}catch{}},ne),await K.beforeLoadPromise,re=this.getMatch(V).status!=="success"),re){try{l(V,dt=>({...dt,loadPromise:Ul(()=>{var mt;(mt=dt.loadPromise)==null||mt.resolve()}),beforeLoadPromise:Ul()}));const Z=new AbortController;let pe;B&&(pe=setTimeout(()=>{try{m()}catch{}},ne));const{paramsError:Re,searchError:Ce}=this.getMatch(V);Re&&P(z,Re,"PARSE_PARAMS"),Ce&&P(z,Ce,"VALIDATE_SEARCH");const Pe=()=>le?this.getMatch(le).context:this.options.context??{};l(V,dt=>({...dt,isFetching:"beforeLoad",fetchCount:dt.fetchCount+1,abortController:Z,pendingTimeout:pe,context:{...Pe(),...dt.__routeContext,...dt.__beforeLoadContext}}));const{search:ve,params:me,context:Ee,cause:Q}=this.getMatch(V),xe=b(V),lt={search:ve,abortController:Z,params:me,preload:xe,context:Ee,location:r,navigate:dt=>this.navigate({...dt,_fromLocation:r}),buildLocation:this.buildLocation,cause:xe?"preload":Q,matches:n};let at=await ((L=(C=H.options).beforeLoad)==null?void 0:L.call(C,lt))??{};this.serializeLoaderData&&(at=this.serializeLoaderData("__beforeLoadContext",at,{router:this,match:this.getMatch(V)})),(Da(at)||Yi(at))&&P(z,at,"BEFORE_LOAD"),l(V,dt=>({...dt,__beforeLoadContext:at,context:{...Pe(),...dt.__routeContext,...at},abortController:Z}))}catch(Z){P(z,Z,"BEFORE_LOAD")}l(V,Z=>{var pe;return(pe=Z.beforeLoadPromise)==null||pe.resolve(),{...Z,beforeLoadPromise:void 0,isFetching:!1}})}}const I=n.slice(0,c),D=[];I.forEach(({id:z,routeId:V},W)=>{D.push((async()=>{const{loaderPromise:K}=this.getMatch(z);let le=!1;if(K)await K;else{const H=D[W-1],ne=this.looseRoutesById[V],B=()=>{const{params:xe,loaderDeps:lt,abortController:at,context:dt,cause:mt}=this.getMatch(z),ft=b(z);return{params:xe,deps:lt,preload:!!ft,parentMatchPromise:H,abortController:at,context:dt,location:r,navigate:gt=>this.navigate({...gt,_fromLocation:r}),cause:ft?"preload":mt,route:ne}},re=Date.now()-this.getMatch(z).updatedAt,Z=b(z),pe=Z?ne.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:ne.options.staleTime??this.options.defaultStaleTime??0,Re=ne.options.shouldReload,Ce=typeof Re=="function"?Re(B()):Re;l(z,xe=>({...xe,loaderPromise:Ul(),preload:!!Z&&!this.state.matches.find(lt=>lt.id===z)}));const Pe=async()=>{var xe,lt,at,dt,mt,ft,gt,It;try{const vt=async()=>{const yt=this.getMatch(z);yt.minPendingPromise&&await yt.minPendingPromise};try{this.loadRouteChunk(ne),l(z,ur=>({...ur,isFetching:"loader"}));let yt=await ((lt=(xe=ne.options).loader)==null?void 0:lt.call(xe,B()));this.serializeLoaderData&&(yt=this.serializeLoaderData("loaderData",yt,{router:this,match:this.getMatch(z)})),x(this.getMatch(z),yt),await ne._lazyPromise,await vt();const Rt=(dt=(at=ne.options).head)==null?void 0:dt.call(at,{matches:n,match:this.getMatch(z),params:this.getMatch(z).params,loaderData:yt}),qt=Rt?.meta,Jt=Rt?.links,Gt=Rt?.scripts,er=(ft=(mt=ne.options).headers)==null?void 0:ft.call(mt,{loaderData:yt});l(z,ur=>({...ur,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:yt,meta:qt,links:Jt,scripts:Gt,headers:er}))}catch(yt){let Rt=yt;await vt(),x(this.getMatch(z),yt);try{(It=(gt=ne.options).onError)==null||It.call(gt,yt)}catch(qt){Rt=qt,x(this.getMatch(z),qt)}l(z,qt=>({...qt,error:Rt,status:"error",isFetching:!1}))}await ne._componentsPromise}catch(vt){l(z,yt=>({...yt,loaderPromise:void 0})),x(this.getMatch(z),vt)}},{status:ve,invalid:me}=this.getMatch(z);le=ve==="success"&&(me||(Ce??re>pe)),Z&&ne.options.preload===!1||(le?(async()=>{try{await Pe()}catch(xe){rg(xe)&&await this.navigate(xe)}})():ve!=="success"&&await Pe());const{loaderPromise:Ee,loadPromise:Q}=this.getMatch(z);Ee?.resolve(),Q?.resolve()}return l(z,H=>({...H,isFetching:le?H.isFetching:!1,loaderPromise:void 0,invalid:!1})),this.getMatch(z)})())}),await Promise.all(D),N()}catch(P){q(P)}})()}),await m()}catch(N){if(Da(N)||Yi(N))throw Yi(N)&&!o&&await m(),N}return n},this.invalidate=r=>{const n=o=>{var a;return((a=r?.filter)==null?void 0:a.call(r,o))??!0?{...o,invalid:!0,...o.status==="error"?{status:"pending",error:void 0}:{}}:o};return this.__store.setState(o=>{var a;return{...o,matches:o.matches.map(n),cachedMatches:o.cachedMatches.map(n),pendingMatches:(a=o.pendingMatches)==null?void 0:a.map(n)}}),this.load()},this.resolveRedirect=r=>{const n=r;return n.href||(n.href=this.buildLocation(n).href),n},this.clearCache=r=>{const n=r?.filter;n!==void 0?this.__store.setState(o=>({...o,cachedMatches:o.cachedMatches.filter(a=>!n(a))})):this.__store.setState(o=>({...o,cachedMatches:[]}))},this.clearExpiredCache=()=>{const r=n=>{const o=this.looseRoutesById[n.routeId];if(!o.options.loader)return!0;const a=(n.preload?o.options.preloadGcTime??this.options.defaultPreloadGcTime:o.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return!(n.status!=="error"&&Date.now()-n.updatedAt<a)};this.clearCache({filter:r})},this.loadRouteChunk=r=>(r._lazyPromise===void 0&&(r.lazyFn?r._lazyPromise=r.lazyFn().then(n=>{const{id:o,...a}=n.options;Object.assign(r.options,a)}):r._lazyPromise=Promise.resolve()),r._componentsPromise===void 0&&(r._componentsPromise=r._lazyPromise.then(()=>Promise.all(NN.map(async n=>{const o=r.options[n];o?.preload&&await o.preload()})))),r._componentsPromise),this.preloadRoute=async r=>{const n=this.buildLocation(r);let o=this.matchRoutes(n,{throwOnError:!0,preload:!0,dest:r});const a=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(c=>c.id)),l=new Set([...a,...this.state.cachedMatches.map(c=>c.id)]);this.__store.batch(()=>{o.forEach(c=>{l.has(c.id)||this.__store.setState(p=>({...p,cachedMatches:[...p.cachedMatches,c]}))})});try{return o=await this.loadMatches({matches:o,location:n,preload:!0,updateMatch:(c,p)=>{a.has(c)?o=o.map(m=>m.id===c?p(m):m):this.updateMatch(c,p)}}),o}catch(c){if(Da(c))return c.reloadDocument?void 0:await this.preloadRoute({...c,_fromLocation:n});console.error(c);return}},this.matchRoute=(r,n)=>{const o={...r,to:r.to?this.resolvePathWithBase(r.from||"",r.to):void 0,params:r.params||{},leaveParams:!0},a=this.buildLocation(o);if(n?.pending&&this.state.status!=="pending")return!1;const c=(n?.pending===void 0?!this.state.isLoading:n.pending)?this.latestLocation:this.state.resolvedLocation,p=rh(this.basepath,c.pathname,{...n,to:a.pathname});return!p||r.params&&!eu(p,r.params,{partial:!0})?!1:p&&(n?.includeSearch??!0)?eu(c.search,a.search,{partial:!0})?p:!1:p},this.dehydrate=()=>{var r;const n=((r=this.options.errorSerializer)==null?void 0:r.serialize)??oR;return{state:{dehydratedMatches:this.state.matches.map(o=>({...mh(o,["id","status","updatedAt"]),error:o.error?{data:n(o.error),__isServerError:!0}:void 0}))},manifest:this.manifest}},this.hydrate=()=>{var r,n,o;let a;typeof document<"u"&&(a=this.options.transformer.parse((r=window.__TSR__)==null?void 0:r.dehydrated)),_i(a),this.dehydratedData=a.payload,(o=(n=this.options).hydrate)==null||o.call(n,a.payload);const l=a.router.state,c=this.matchRoutes(this.state.location).map(p=>{const m=l.dehydratedMatches.find(b=>b.id===p.id);return _i(m,`Could not find a client-side match for dehydrated match with id: ${p.id}!`),{...p,...m}});this.__store.setState(p=>({...p,matches:c})),this.manifest=a.router.manifest},this.injectedHtml=[],this.injectHtml=r=>{const n=()=>(this.injectedHtml=this.injectedHtml.filter(o=>o!==n),r);this.injectedHtml.push(n)},this.injectScript=(r,n)=>{this.injectHtml(`<script class='tsr-once'>${r}; if (typeof __TSR__ !== 'undefined') __TSR__.cleanScripts()</script>`)},this.streamedKeys=new Set,this.getStreamedValue=r=>{var n;if(this.isServer)return;const o=(n=window.__TSR__)==null?void 0:n.streamedValues[r];if(o)return o.parsed||(o.parsed=this.options.transformer.parse(o.value)),o.parsed},this.streamValue=(r,n)=>{var o;this.streamedKeys.has(r),this.streamedKeys.add(r),this.injectScript(`__TSR__.streamedValues['${r}'] = { value: ${(o=this.serializer)==null?void 0:o.call(this,this.options.transformer.stringify(n))}}`)},this._handleNotFound=(r,n,{updateMatch:o=this.updateMatch}={})=>{const a=Object.fromEntries(r.map(p=>[p.routeId,p]));let l=(n.global?this.looseRoutesById[yi]:this.looseRoutesById[n.routeId])||this.looseRoutesById[yi];for(;!l.options.notFoundComponent&&!this.options.defaultNotFoundComponent&&l.id!==yi;)l=l.parentRoute,_i(l);const c=a[l.id];_i(c,"Could not find match for route: "+l.id),o(c.id,p=>({...p,status:"notFound",error:n,isFetching:!1})),n.routerCode==="BEFORE_LOAD"&&l.parentRoute&&(n.routeId=l.parentRoute.id,this._handleNotFound(r,n,{updateMatch:o}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(r=>r.status==="notFound"||r.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??BC,parseSearch:e.parseSearch??MC,transformer:e.transformer??eR}),typeof document<"u"&&(window.__TSR__ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutes(e,r,n){return typeof e=="string"?this.matchRoutesInternal({pathname:e,search:r},n):this.matchRoutesInternal(e,r)}matchRoutesInternal(e,r){const{foundRoute:n,matchedRoutes:o,routeParams:a}=this.getMatchedRoutes(e,r?.dest);let l=!1;(n?n.path!=="/"&&a["**"]:Va(e.pathname))&&(this.options.notFoundRoute?o.push(this.options.notFoundRoute):l=!0);const c=(()=>{if(l){if(this.options.notFoundMode!=="root")for(let x=o.length-1;x>=0;x--){const N=o[x];if(N.children)return N.id}return yi}})(),p=o.map(x=>{var N;let q;const R=((N=x.options.params)==null?void 0:N.parse)??x.options.parseParams;if(R)try{const C=R(a);Object.assign(a,C)}catch(C){if(q=new iR(C.message,{cause:C}),r?.throwOnError)throw q;return q}}),m=[],b=x=>x?.id?x.context??this.options.context??{}:this.options.context??{};return o.forEach((x,N)=>{var q,R,C,L;const P=m[N-1],[I,D]=(()=>{const Z=P?.search??e.search;try{const pe=ng(x.options.validateSearch,Z)??{};return[{...Z,...pe},void 0]}catch(pe){const Re=new Cv(pe.message,{cause:pe});if(r?.throwOnError)throw Re;return[Z,Re]}})(),z=((R=(q=x.options).loaderDeps)==null?void 0:R.call(q,{search:I}))??"",V=z?JSON.stringify(z):"",W=th({path:x.fullPath,params:a,decodeCharMap:this.pathParamsDecodeCharMap}),K=th({path:x.id,params:a,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap})+V,le=this.getMatch(K),H=this.state.matches.find(Z=>Z.routeId===x.id),ne=H?"stay":"enter";let B;if(le)B={...le,cause:ne,params:H?Di(H.params,a):a,search:Di(H?H.search:le.search,I)};else{const Z=x.options.loader||x.options.beforeLoad||x.lazyFn||tR(x)?"pending":"success";B={id:K,index:N,routeId:x.id,params:H?Di(H.params,a):a,pathname:ro([this.basepath,W]),updatedAt:Date.now(),search:H?Di(H.search,I):I,searchError:void 0,status:Z,isFetching:!1,error:void 0,paramsError:p[N],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:ne,loaderDeps:H?Di(H.loaderDeps,z):z,invalid:!1,preload:!1,links:void 0,scripts:void 0,meta:void 0,staticData:x.options.staticData||{},loadPromise:Ul(),fullPath:x.fullPath}}B.status==="success"&&(B.headers=(L=(C=x.options).headers)==null?void 0:L.call(C,{loaderData:B.loaderData})),r?.preload||(B.globalNotFound=c===x.id),B.searchError=D;const re=b(P);B.context={...re,...B.__routeContext,...B.__beforeLoadContext},m.push(B)}),m.forEach((x,N)=>{var q,R,C,L;const P=this.looseRoutesById[x.routeId];if(!this.getMatch(x.id)&&r?._buildLocation!==!0){const z=m[N-1],V=b(z),W={deps:x.loaderDeps,params:x.params,context:V,location:e,navigate:K=>this.navigate({...K,_fromLocation:e}),buildLocation:this.buildLocation,cause:x.cause,abortController:x.abortController,preload:!!x.preload,matches:m};x.__routeContext=((R=(q=P.options).context)==null?void 0:R.call(q,W))??{},x.context={...V,...x.__routeContext,...x.__beforeLoadContext}}const D=(L=(C=P.options).head)==null?void 0:L.call(C,{matches:m,match:x,params:x.params,loaderData:x.loaderData??void 0});x.links=D?.links,x.scripts=D?.scripts,x.meta=D?.meta}),m}}class Cv extends Error{}class iR extends Error{}function sR(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:{...t},location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function oR(t){return t instanceof Error?{name:t.name,message:t.message}:{data:t}}function dx(t){return!(typeof t=="object"&&t&&"data"in t)||!("__isServerError"in t&&t.__isServerError)||!(typeof t.data=="object"&&t.data)?!1:t.__isServerError===!0}function fx(t){if("name"in t&&"message"in t){const e=new Error(t.message);return e.name=t.name,e}return t.data}const Rp=G.createContext(void 0),aR=G.createContext(void 0);function Yo(t){const e=G.useContext(t.from?aR:Rp);return Wn({select:n=>{const o=n.matches.find(a=>t.from?t.from===a.routeId:a.id===e);if(_i(!((t.shouldThrow??!0)&&!o),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),o!==void 0)return t.select?t.select(o):o},structuralSharing:t.structuralSharing})}function ku(t){return Yo({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}function lR(t){const{select:e,...r}=t;return Yo({...r,select:n=>e?e(n.loaderDeps):n.loaderDeps})}function Nn(t){return Yo({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.params):e.params})}function uR(t){return Yo({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}function v_(t){const{navigate:e}=Si();return G.useCallback(r=>e({...r}),[e])}let kN=class{constructor(e){this.init=r=>{var n,o;this.originalIndex=r.originalIndex;const a=this.options,l=!a?.path&&!a?.id;this.parentRoute=(o=(n=this.options).getParentRoute)==null?void 0:o.call(n),l?this._path=yi:_i(this.parentRoute);let c=l?yi:a.path;c&&c!=="/"&&(c=y_(c));const p=a?.id||c;let m=l?yi:ro([this.parentRoute.id===yi?"":this.parentRoute.id,p]);c===yi&&(c="/"),m!==yi&&(m=ro(["/",m]));const b=m===yi?"/":ro([this.parentRoute.fullPath,c]);this._path=c,this._id=m,this._fullPath=b,this._to=b,this._ssr=a?.ssr??r.defaultSsr??!0},this.updateLoader=r=>(Object.assign(this.options,r),this),this.update=r=>(Object.assign(this.options,r),this),this.lazy=r=>(this.lazyFn=r,this),this.useMatch=r=>Yo({select:r?.select,from:this.id,structuralSharing:r?.structuralSharing}),this.useRouteContext=r=>Yo({...r,from:this.id,select:n=>r?.select?r.select(n.context):n.context}),this.useSearch=r=>uR({select:r?.select,structuralSharing:r?.structuralSharing,from:this.id}),this.useParams=r=>Nn({select:r?.select,structuralSharing:r?.structuralSharing,from:this.id}),this.useLoaderDeps=r=>lR({...r,from:this.id}),this.useLoaderData=r=>ku({...r,from:this.id}),this.useNavigate=()=>v_({from:this.id}),this.options=e||{},this.isRoot=!e?.getParentRoute,_i(!(e?.id&&e?.path)),this.$$typeof=Symbol.for("react.memo")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}get ssr(){return this._ssr}addChildren(e){return this._addFileChildren(e)}_addFileChildren(e){return Array.isArray(e)&&(this.children=e),typeof e=="object"&&e!==null&&(this.children=Object.values(e)),this}};function cR(t){return new kN(t)}function dR(){return t=>hR(t)}class fR extends kN{constructor(e){super(e)}addChildren(e){return super.addChildren(e),this}_addFileChildren(e){return super._addFileChildren(e),this}_addFileTypes(){return this}}function hR(t){return new fR(t)}function Rr(t){return new pR(t,{silent:!0}).createRoute}class pR{constructor(e,r){this.path=e,this.createRoute=n=>{this.silent;const o=cR(n);return o.isRoot=!1,o},this.silent=r?.silent}}function yh(t){return g.jsx(g.Fragment,{children:t.children})}function qN(t,e,r){return e.options.notFoundComponent?g.jsx(e.options.notFoundComponent,{data:r}):t.options.defaultNotFoundComponent?g.jsx(t.options.defaultNotFoundComponent,{data:r}):g.jsx(YC,{})}const CN=G.memo(function({matchId:e}){var r,n;const o=Si(),a=Wn({select:L=>{var P;return(P=L.matches.find(I=>I.id===e))==null?void 0:P.routeId}});_i(a);const l=o.routesById[a],c=l.options.pendingComponent??o.options.defaultPendingComponent,p=c?g.jsx(c,{}):null,m=l.options.errorComponent??o.options.defaultErrorComponent,b=l.options.onCatch??o.options.defaultOnCatch,x=l.isRoot?l.options.notFoundComponent??((r=o.options.notFoundRoute)==null?void 0:r.options.component):l.options.notFoundComponent,N=(!l.isRoot||l.options.wrapInSuspense)&&(l.options.wrapInSuspense??c??((n=l.options.errorComponent)==null?void 0:n.preload))?G.Suspense:yh,q=m?g_:yh,R=x?XC:yh,C=Wn({select:L=>L.loadedAt});return g.jsx(Rp.Provider,{value:e,children:g.jsx(N,{fallback:p,children:g.jsx(q,{getResetKey:()=>C,errorComponent:m||Cp,onCatch:(L,P)=>{if(Yi(L))throw L;b?.(L,P)},children:g.jsx(R,{fallback:L=>{if(!x||L.routeId&&L.routeId!==a||!L.routeId&&!l.isRoot)throw L;return G.createElement(x,L)},children:g.jsx(mR,{matchId:e})})})})})}),mR=G.memo(function({matchId:e}){var r,n,o,a,l;const c=Si(),{match:p,matchIndex:m,routeId:b}=Wn({select:R=>{const C=R.matches.findIndex(I=>I.id===e),L=R.matches[C];return{routeId:L.routeId,matchIndex:C,match:mh(L,["id","status","error"])}},structuralSharing:!0}),x=c.routesById[b],N=G.useMemo(()=>{const R=x.options.component??c.options.defaultComponent;return R?g.jsx(R,{}):g.jsx(ul,{})},[x.options.component,c.options.defaultComponent]),q=(x.options.errorComponent??c.options.defaultErrorComponent)||Cp;if(p.status==="notFound"){let R;return dx(p.error)?R=(((r=c.options.errorSerializer)==null?void 0:r.deserialize)??fx)(p.error.data):R=p.error,_i(Yi(R)),qN(c,x,R)}if(p.status==="redirected")throw _i(Da(p.error)),(n=c.getMatch(p.id))==null?void 0:n.loadPromise;if(p.status==="error"){if(c.isServer)return g.jsx(q,{error:p.error,info:{componentStack:""}});throw dx(p.error)?(((o=c.options.errorSerializer)==null?void 0:o.deserialize)??fx)(p.error.data):p.error}if(p.status==="pending"){const R=x.options.pendingMinMs??c.options.defaultPendingMinMs;if(R&&!((a=c.getMatch(p.id))!=null&&a.minPendingPromise)&&!c.isServer){const C=Ul();Promise.resolve().then(()=>{c.updateMatch(p.id,L=>({...L,minPendingPromise:C}))}),setTimeout(()=>{C.resolve(),c.updateMatch(p.id,L=>({...L,minPendingPromise:void 0}))},R)}throw(l=c.getMatch(p.id))==null?void 0:l.loadPromise}return g.jsxs(g.Fragment,{children:[N,c.AfterEachMatch?g.jsx(c.AfterEachMatch,{match:p,matchIndex:m}):null]})}),ul=G.memo(function(){const e=Si(),r=G.useContext(Rp),n=Wn({select:m=>{var b;return(b=m.matches.find(x=>x.id===r))==null?void 0:b.routeId}}),o=e.routesById[n],a=Wn({select:m=>{const x=m.matches.find(N=>N.id===r);return _i(x),x.globalNotFound}}),l=Wn({select:m=>{var b;const x=m.matches,N=x.findIndex(q=>q.id===r);return(b=x[N+1])==null?void 0:b.id}});if(a)return qN(e,o,void 0);if(!l)return null;const c=g.jsx(CN,{matchId:l}),p=e.options.defaultPendingComponent?g.jsx(e.options.defaultPendingComponent,{}):null;return r===yi?g.jsx(G.Suspense,{fallback:p,children:c}):c});var ig={exports:{}},Xn={},sg={exports:{}},og={};var hx;function yR(){return hx||(hx=1,function(t){function e(ve,me){var Ee=ve.length;ve.push(me);e:for(;0<Ee;){var Q=Ee-1>>>1,xe=ve[Q];if(0<o(xe,me))ve[Q]=me,ve[Ee]=xe,Ee=Q;else break e}}function r(ve){return ve.length===0?null:ve[0]}function n(ve){if(ve.length===0)return null;var me=ve[0],Ee=ve.pop();if(Ee!==me){ve[0]=Ee;e:for(var Q=0,xe=ve.length,lt=xe>>>1;Q<lt;){var at=2*(Q+1)-1,dt=ve[at],mt=at+1,ft=ve[mt];if(0>o(dt,Ee))mt<xe&&0>o(ft,dt)?(ve[Q]=ft,ve[mt]=Ee,Q=mt):(ve[Q]=dt,ve[at]=Ee,Q=at);else if(mt<xe&&0>o(ft,Ee))ve[Q]=ft,ve[mt]=Ee,Q=mt;else break e}}return me}function o(ve,me){var Ee=ve.sortIndex-me.sortIndex;return Ee!==0?Ee:ve.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var p=[],m=[],b=1,x=null,N=3,q=!1,R=!1,C=!1,L=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(ve){for(var me=r(m);me!==null;){if(me.callback===null)n(m);else if(me.startTime<=ve)n(m),me.sortIndex=me.expirationTime,e(p,me);else break;me=r(m)}}function z(ve){if(C=!1,D(ve),!R)if(r(p)!==null)R=!0,Ce(V);else{var me=r(m);me!==null&&Pe(z,me.startTime-ve)}}function V(ve,me){R=!1,C&&(C=!1,P(le),le=-1),q=!0;var Ee=N;try{for(D(me),x=r(p);x!==null&&(!(x.expirationTime>me)||ve&&!B());){var Q=x.callback;if(typeof Q=="function"){x.callback=null,N=x.priorityLevel;var xe=Q(x.expirationTime<=me);me=t.unstable_now(),typeof xe=="function"?x.callback=xe:x===r(p)&&n(p),D(me)}else n(p);x=r(p)}if(x!==null)var lt=!0;else{var at=r(m);at!==null&&Pe(z,at.startTime-me),lt=!1}return lt}finally{x=null,N=Ee,q=!1}}var W=!1,K=null,le=-1,H=5,ne=-1;function B(){return!(t.unstable_now()-ne<H)}function re(){if(K!==null){var ve=t.unstable_now();ne=ve;var me=!0;try{me=K(!0,ve)}finally{me?Z():(W=!1,K=null)}}else W=!1}var Z;if(typeof I=="function")Z=function(){I(re)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,Re=pe.port2;pe.port1.onmessage=re,Z=function(){Re.postMessage(null)}}else Z=function(){L(re,0)};function Ce(ve){K=ve,W||(W=!0,Z())}function Pe(ve,me){le=L(function(){ve(t.unstable_now())},me)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ve){ve.callback=null},t.unstable_continueExecution=function(){R||q||(R=!0,Ce(V))},t.unstable_forceFrameRate=function(ve){0>ve||125<ve?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<ve?Math.floor(1e3/ve):5},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return r(p)},t.unstable_next=function(ve){switch(N){case 1:case 2:case 3:var me=3;break;default:me=N}var Ee=N;N=me;try{return ve()}finally{N=Ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ve,me){switch(ve){case 1:case 2:case 3:case 4:case 5:break;default:ve=3}var Ee=N;N=ve;try{return me()}finally{N=Ee}},t.unstable_scheduleCallback=function(ve,me,Ee){var Q=t.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?Q+Ee:Q):Ee=Q,ve){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=0x3fffffff;break;case 4:xe=1e4;break;default:xe=5e3}return xe=Ee+xe,ve={id:b++,callback:me,priorityLevel:ve,startTime:Ee,expirationTime:xe,sortIndex:-1},Ee>Q?(ve.sortIndex=Ee,e(m,ve),r(p)===null&&ve===r(m)&&(C?(P(le),le=-1):C=!0,Pe(z,Ee-Q))):(ve.sortIndex=xe,e(p,ve),R||q||(R=!0,Ce(V))),ve},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(ve){var me=N;return function(){var Ee=N;N=me;try{return ve.apply(this,arguments)}finally{N=Ee}}}}(og)),og}var px;function gR(){return px||(px=1,sg.exports=yR()),sg.exports}var mx;function vR(){if(mx)return Xn;mx=1;var t=Nd(),e=gR();function r(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,o={};function a(i,s){l(i,s),l(i+"Capture",s)}function l(i,s){for(o[i]=s,i=0;i<s.length;i++)n.add(s[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b={},x={};function N(i){return p.call(x,i)?!0:p.call(b,i)?!1:m.test(i)?x[i]=!0:(b[i]=!0,!1)}function q(i,s,u,h){if(u!==null&&u.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function R(i,s,u,h){if(s===null||typeof s>"u"||q(i,s,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function C(i,s,u,h,w,E,F){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=w,this.mustUseProperty=u,this.propertyName=i,this.type=s,this.sanitizeURL=E,this.removeEmptyString=F}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){L[i]=new C(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];L[s]=new C(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){L[i]=new C(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){L[i]=new C(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){L[i]=new C(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){L[i]=new C(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){L[i]=new C(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){L[i]=new C(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){L[i]=new C(i,5,!1,i.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function I(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(P,I);L[s]=new C(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(P,I);L[s]=new C(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(P,I);L[s]=new C(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){L[i]=new C(i,1,!1,i.toLowerCase(),null,!1,!1)}),L.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){L[i]=new C(i,1,!1,i.toLowerCase(),null,!0,!0)});function D(i,s,u,h){var w=L.hasOwnProperty(s)?L[s]:null;(w!==null?w.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(R(s,u,w,h)&&(u=null),h||w===null?N(s)&&(u===null?i.removeAttribute(s):i.setAttribute(s,""+u)):w.mustUseProperty?i[w.propertyName]=u===null?w.type===3?!1:"":u:(s=w.attributeName,h=w.attributeNamespace,u===null?i.removeAttribute(s):(w=w.type,u=w===3||w===4&&u===!0?"":""+u,h?i.setAttributeNS(h,s,u):i.setAttribute(s,u))))}var z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,V=Symbol.for("react.element"),W=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),le=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),B=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),Re=Symbol.for("react.memo"),Ce=Symbol.for("react.lazy"),Pe=Symbol.for("react.offscreen"),ve=Symbol.iterator;function me(i){return i===null||typeof i!="object"?null:(i=ve&&i[ve]||i["@@iterator"],typeof i=="function"?i:null)}var Ee=Object.assign,Q;function xe(i){if(Q===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);Q=s&&s[1]||""}return`
`+Q+i}var lt=!1;function at(i,s){if(!i||lt)return"";lt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Fe){var h=Fe}Reflect.construct(i,[],s)}else{try{s.call()}catch(Fe){h=Fe}i.call(s.prototype)}else{try{throw Error()}catch(Fe){h=Fe}i()}}catch(Fe){if(Fe&&h&&typeof Fe.stack=="string"){for(var w=Fe.stack.split(`
`),E=h.stack.split(`
`),F=w.length-1,ie=E.length-1;1<=F&&0<=ie&&w[F]!==E[ie];)ie--;for(;1<=F&&0<=ie;F--,ie--)if(w[F]!==E[ie]){if(F!==1||ie!==1)do if(F--,ie--,0>ie||w[F]!==E[ie]){var de=`
`+w[F].replace(" at new "," at ");return i.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",i.displayName)),de}while(1<=F&&0<=ie);break}}}finally{lt=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?xe(i):""}function dt(i){switch(i.tag){case 5:return xe(i.type);case 16:return xe("Lazy");case 13:return xe("Suspense");case 19:return xe("SuspenseList");case 0:case 2:case 15:return i=at(i.type,!1),i;case 11:return i=at(i.type.render,!1),i;case 1:return i=at(i.type,!0),i;default:return""}}function mt(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case K:return"Fragment";case W:return"Portal";case H:return"Profiler";case le:return"StrictMode";case Z:return"Suspense";case pe:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case B:return(i.displayName||"Context")+".Consumer";case ne:return(i._context.displayName||"Context")+".Provider";case re:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Re:return s=i.displayName||null,s!==null?s:mt(i.type)||"Memo";case Ce:s=i._payload,i=i._init;try{return mt(i(s))}catch{}}return null}function ft(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mt(s);case 8:return s===le?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function gt(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function It(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function vt(i){var s=It(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),h=""+i[s];if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var w=u.get,E=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return w.call(this)},set:function(F){h=""+F,E.call(this,F)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(F){h=""+F},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function yt(i){i._valueTracker||(i._valueTracker=vt(i))}function Rt(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var u=s.getValue(),h="";return i&&(h=It(i)?i.checked?"true":"false":i.value),i=h,i!==u?(s.setValue(i),!0):!1}function qt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Jt(i,s){var u=s.checked;return Ee({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function Gt(i,s){var u=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;u=gt(s.value!=null?s.value:u),i._wrapperState={initialChecked:h,initialValue:u,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function er(i,s){s=s.checked,s!=null&&D(i,"checked",s,!1)}function ur(i,s){er(i,s);var u=gt(s.value),h=s.type;if(u!=null)h==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?ae(i,s.type,u):s.hasOwnProperty("defaultValue")&&ae(i,s.type,gt(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function se(i,s,u){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,u||s===i.value||(i.value=s),i.defaultValue=s}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function ae(i,s,u){(s!=="number"||qt(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var ye=Array.isArray;function Oe(i,s,u,h){if(i=i.options,s){s={};for(var w=0;w<u.length;w++)s["$"+u[w]]=!0;for(u=0;u<i.length;u++)w=s.hasOwnProperty("$"+i[u].value),i[u].selected!==w&&(i[u].selected=w),w&&h&&(i[u].defaultSelected=!0)}else{for(u=""+gt(u),s=null,w=0;w<i.length;w++){if(i[w].value===u){i[w].selected=!0,h&&(i[w].defaultSelected=!0);return}s!==null||i[w].disabled||(s=i[w])}s!==null&&(s.selected=!0)}}function je(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(r(91));return Ee({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Ge(i,s){var u=s.value;if(u==null){if(u=s.children,s=s.defaultValue,u!=null){if(s!=null)throw Error(r(92));if(ye(u)){if(1<u.length)throw Error(r(93));u=u[0]}s=u}s==null&&(s=""),u=s}i._wrapperState={initialValue:gt(u)}}function _t(i,s){var u=gt(s.value),h=gt(s.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),s.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),h!=null&&(i.defaultValue=""+h)}function Mt(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function mr(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cr(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?mr(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Ar,Pn=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,u,h,w){MSApp.execUnsafeLocalFunction(function(){return i(s,u,h,w)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(Ar=Ar||document.createElement("div"),Ar.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Ar.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function Xr(i,s){if(s){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=s;return}}i.textContent=s}var Vn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fs=["Webkit","ms","Moz","O"];Object.keys(Vn).forEach(function(i){Fs.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),Vn[s]=Vn[i]})});function gn(i,s,u){return s==null||typeof s=="boolean"||s===""?"":u||typeof s!="number"||s===0||Vn.hasOwnProperty(i)&&Vn[i]?(""+s).trim():s+"px"}function zt(i,s){i=i.style;for(var u in s)if(s.hasOwnProperty(u)){var h=u.indexOf("--")===0,w=gn(u,s[u],h);u==="float"&&(u="cssFloat"),h?i.setProperty(u,w):i[u]=w}}var go=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vo(i,s){if(s){if(go[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(r(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(r(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(r(61))}if(s.style!=null&&typeof s.style!="object")throw Error(r(62))}}function _o(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ju=null;function Du(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Mu=null,cs=null,T=null;function Qd(i){if(i=oc(i)){if(typeof Mu!="function")throw Error(r(280));var s=i.stateNode;s&&(s=mf(s),Mu(i.stateNode,i.type,s))}}function Xt(i){cs?T?T.push(i):T=[i]:cs=i}function Kd(){if(cs){var i=cs,s=T;if(T=cs=null,Qd(i),s)for(i=0;i<s.length;i++)Qd(s[i])}}function Gd(i,s){return i(s)}function Jd(){}var Bu=!1;function wa(i,s,u){if(Bu)return i(s,u);Bu=!0;try{return Gd(i,s,u)}finally{Bu=!1,(cs!==null||T!==null)&&(Jd(),Kd())}}function Ri(i,s){var u=i.stateNode;if(u===null)return null;var h=mf(u);if(h===null)return null;u=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,s,typeof u));return u}var Wu=!1;if(c)try{var xa={};Object.defineProperty(xa,"passive",{get:function(){Wu=!0}}),window.addEventListener("test",xa,xa),window.removeEventListener("test",xa,xa)}catch{Wu=!1}function lm(i,s,u,h,w,E,F,ie,de){var Fe=Array.prototype.slice.call(arguments,3);try{s.apply(u,Fe)}catch(tt){this.onError(tt)}}var Sa=!1,ds=null,hl=!1,fs=null,um={onError:function(i){Sa=!0,ds=i}};function cm(i,s,u,h,w,E,F,ie,de){Sa=!1,ds=null,lm.apply(um,arguments)}function dm(i,s,u,h,w,E,F,ie,de){if(cm.apply(this,arguments),Sa){if(Sa){var Fe=ds;Sa=!1,ds=null}else throw Error(r(198));hl||(hl=!0,fs=Fe)}}function Ls(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function Zd(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Xd(i){if(Ls(i)!==i)throw Error(r(188))}function fm(i){var s=i.alternate;if(!s){if(s=Ls(i),s===null)throw Error(r(188));return s!==i?null:i}for(var u=i,h=s;;){var w=u.return;if(w===null)break;var E=w.alternate;if(E===null){if(h=w.return,h!==null){u=h;continue}break}if(w.child===E.child){for(E=w.child;E;){if(E===u)return Xd(w),i;if(E===h)return Xd(w),s;E=E.sibling}throw Error(r(188))}if(u.return!==h.return)u=w,h=E;else{for(var F=!1,ie=w.child;ie;){if(ie===u){F=!0,u=w,h=E;break}if(ie===h){F=!0,h=w,u=E;break}ie=ie.sibling}if(!F){for(ie=E.child;ie;){if(ie===u){F=!0,u=E,h=w;break}if(ie===h){F=!0,h=E,u=w;break}ie=ie.sibling}if(!F)throw Error(r(189))}}if(u.alternate!==h)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:s}function Yd(i){return i=fm(i),i!==null?ef(i):null}function ef(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=ef(i);if(s!==null)return s;i=i.sibling}return null}var tf=e.unstable_scheduleCallback,$u=e.unstable_cancelCallback,hm=e.unstable_shouldYield,pm=e.unstable_requestPaint,Hr=e.unstable_now,mm=e.unstable_getCurrentPriorityLevel,Uu=e.unstable_ImmediatePriority,rf=e.unstable_UserBlockingPriority,pl=e.unstable_NormalPriority,ym=e.unstable_LowPriority,nf=e.unstable_IdlePriority,ml=null,Oi=null;function gm(i){if(Oi&&typeof Oi.onCommitFiberRoot=="function")try{Oi.onCommitFiberRoot(ml,i,void 0,(i.current.flags&128)===128)}catch{}}var Hn=Math.clz32?Math.clz32:bm,vm=Math.log,_m=Math.LN2;function bm(i){return i>>>=0,i===0?32:31-(vm(i)/_m|0)|0}var bo=64,yl=4194304;function zi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return i&0x7c00000;case 0x8000000:return 0x8000000;case 0x10000000:return 0x10000000;case 0x20000000:return 0x20000000;case 0x40000000:return 0x40000000;default:return i}}function gl(i,s){var u=i.pendingLanes;if(u===0)return 0;var h=0,w=i.suspendedLanes,E=i.pingedLanes,F=u&0xfffffff;if(F!==0){var ie=F&~w;ie!==0?h=zi(ie):(E&=F,E!==0&&(h=zi(E)))}else F=u&~w,F!==0?h=zi(F):E!==0&&(h=zi(E));if(h===0)return 0;if(s!==0&&s!==h&&!(s&w)&&(w=h&-h,E=s&-s,w>=E||w===16&&(E&4194240)!==0))return s;if(h&4&&(h|=u&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=h;0<s;)u=31-Hn(s),w=1<<u,h|=i[u],s&=~w;return h}function wm(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return-1;case 0x8000000:case 0x10000000:case 0x20000000:case 0x40000000:return-1;default:return-1}}function xm(i,s){for(var u=i.suspendedLanes,h=i.pingedLanes,w=i.expirationTimes,E=i.pendingLanes;0<E;){var F=31-Hn(E),ie=1<<F,de=w[F];de===-1?(!(ie&u)||ie&h)&&(w[F]=wm(ie,s)):de<=s&&(i.expiredLanes|=ie),E&=~ie}}function zu(i){return i=i.pendingLanes&-0x40000001,i!==0?i:i&0x40000000?0x40000000:0}function sf(){var i=bo;return bo<<=1,!(bo&4194240)&&(bo=64),i}function Vu(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function Ea(i,s,u){i.pendingLanes|=s,s!==0x20000000&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-Hn(s),i[s]=u}function Sm(i,s){var u=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<u;){var w=31-Hn(u),E=1<<w;s[w]=0,h[w]=-1,i[w]=-1,u&=~E}}function Hu(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var h=31-Hn(u),w=1<<h;w&s|i[h]&s&&(i[h]|=s),u&=~w}}var yr=0;function of(i){return i&=-i,1<i?4<i?i&0xfffffff?16:0x20000000:4:1}var Qu,ee,Ku,Na,Gu,d=!1,f=[],y=null,_=null,S=null,k=new Map,X=new Map,te=[],Le="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ze(i,s){switch(i){case"focusin":case"focusout":y=null;break;case"dragenter":case"dragleave":_=null;break;case"mouseover":case"mouseout":S=null;break;case"pointerover":case"pointerout":k.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":X.delete(s.pointerId)}}function Je(i,s,u,h,w,E){return i===null||i.nativeEvent!==E?(i={blockedOn:s,domEventName:u,eventSystemFlags:h,nativeEvent:E,targetContainers:[w]},s!==null&&(s=oc(s),s!==null&&ee(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,w!==null&&s.indexOf(w)===-1&&s.push(w),i)}function rt(i,s,u,h,w){switch(s){case"focusin":return y=Je(y,i,s,u,h,w),!0;case"dragenter":return _=Je(_,i,s,u,h,w),!0;case"mouseover":return S=Je(S,i,s,u,h,w),!0;case"pointerover":var E=w.pointerId;return k.set(E,Je(k.get(E)||null,i,s,u,h,w)),!0;case"gotpointercapture":return E=w.pointerId,X.set(E,Je(X.get(E)||null,i,s,u,h,w)),!0}return!1}function Ae(i){var s=ka(i.target);if(s!==null){var u=Ls(s);if(u!==null){if(s=u.tag,s===13){if(s=Zd(u),s!==null){i.blockedOn=s,Gu(i.priority,function(){Ku(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function we(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var u=J(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var h=new u.constructor(u.type,u);ju=h,u.target.dispatchEvent(h),ju=null}else return s=oc(u),s!==null&&ee(s),i.blockedOn=u,!1;s.shift()}return!0}function Ue(i,s,u){we(i)&&u.delete(s)}function oe(){d=!1,y!==null&&we(y)&&(y=null),_!==null&&we(_)&&(_=null),S!==null&&we(S)&&(S=null),k.forEach(Ue),X.forEach(Ue)}function he(i,s){i.blockedOn===s&&(i.blockedOn=null,d||(d=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,oe)))}function _e(i){function s(w){return he(w,i)}if(0<f.length){he(f[0],i);for(var u=1;u<f.length;u++){var h=f[u];h.blockedOn===i&&(h.blockedOn=null)}}for(y!==null&&he(y,i),_!==null&&he(_,i),S!==null&&he(S,i),k.forEach(s),X.forEach(s),u=0;u<te.length;u++)h=te[u],h.blockedOn===i&&(h.blockedOn=null);for(;0<te.length&&(u=te[0],u.blockedOn===null);)Ae(u),u.blockedOn===null&&te.shift()}var We=z.ReactCurrentBatchConfig,Be=!0;function be(i,s,u,h){var w=yr,E=We.transition;We.transition=null;try{yr=1,ht(i,s,u,h)}finally{yr=w,We.transition=E}}function De(i,s,u,h){var w=yr,E=We.transition;We.transition=null;try{yr=4,ht(i,s,u,h)}finally{yr=w,We.transition=E}}function ht(i,s,u,h){if(Be){var w=J(i,s,u,h);if(w===null)jm(i,s,h,j,u),ze(i,h);else if(rt(w,i,s,u,h))h.stopPropagation();else if(ze(i,h),s&4&&-1<Le.indexOf(i)){for(;w!==null;){var E=oc(w);if(E!==null&&Qu(E),E=J(i,s,u,h),E===null&&jm(i,s,h,j,u),E===w)break;w=E}w!==null&&h.stopPropagation()}else jm(i,s,h,null,u)}}var j=null;function J(i,s,u,h){if(j=null,i=Du(h),i=ka(i),i!==null)if(s=Ls(i),s===null)i=null;else if(u=s.tag,u===13){if(i=Zd(s),i!==null)return i;i=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return j=i,null}function fe(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mm()){case Uu:return 1;case rf:return 4;case pl:case ym:return 16;case nf:return 0x20000000;default:return 16}default:return 16}}var Qe=null,U=null,Y=null;function O(){if(Y)return Y;var i,s=U,u=s.length,h,w="value"in Qe?Qe.value:Qe.textContent,E=w.length;for(i=0;i<u&&s[i]===w[i];i++);var F=u-i;for(h=1;h<=F&&s[u-h]===w[E-h];h++);return Y=w.slice(i,1<h?1-h:void 0)}function M(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function $(){return!0}function qe(){return!1}function He(i){function s(u,h,w,E,F){this._reactName=u,this._targetInst=w,this.type=h,this.nativeEvent=E,this.target=F,this.currentTarget=null;for(var ie in i)i.hasOwnProperty(ie)&&(u=i[ie],this[ie]=u?u(E):E[ie]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?$:qe,this.isPropagationStopped=qe,this}return Ee(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=$)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=$)},persist:function(){},isPersistent:$}),s}var St={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ft=He(St),Bt=Ee({},St,{view:0,detail:0}),Ze=He(Bt),ue,Ne,Ke,et=Ee({},Bt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ke&&(Ke&&i.type==="mousemove"?(ue=i.screenX-Ke.screenX,Ne=i.screenY-Ke.screenY):Ne=ue=0,Ke=i),ue)},movementY:function(i){return"movementY"in i?i.movementY:Ne}}),Ot=He(et),Wt=Ee({},et,{dataTransfer:0}),Se=He(Wt),Ve=Ee({},Bt,{relatedTarget:0}),Xe=He(Ve),bt=Ee({},St,{animationName:0,elapsedTime:0,pseudoElement:0}),ut=He(bt),Pt=Ee({},St,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Yt=He(Pt),Et=Ee({},St,{data:0}),Qr=He(Et),Ie={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},st={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ct={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wt(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=ct[i])?!!s[i]:!1}function tr(){return wt}var xr=Ee({},Bt,{key:function(i){if(i.key){var s=Ie[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=M(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?st[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tr,charCode:function(i){return i.type==="keypress"?M(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?M(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),gr=He(xr),_r=Ee({},et,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),js=He(_r),vn=Ee({},Bt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tr}),Em=He(vn),Nm=Ee({},St,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ti=He(Nm),km=Ee({},et,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),af=He(km),Ju=[9,13,27,32],qm=c&&"CompositionEvent"in window,Zu=null;c&&"documentMode"in document&&(Zu=document.documentMode);var L3=c&&"TextEvent"in window&&!Zu,Ab=c&&(!qm||Zu&&8<Zu&&11>=Zu),Ib=" ",Pb=!1;function Fb(i,s){switch(i){case"keyup":return Ju.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lb(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var vl=!1;function j3(i,s){switch(i){case"compositionend":return Lb(s);case"keypress":return s.which!==32?null:(Pb=!0,Ib);case"textInput":return i=s.data,i===Ib&&Pb?null:i;default:return null}}function D3(i,s){if(vl)return i==="compositionend"||!qm&&Fb(i,s)?(i=O(),Y=U=Qe=null,vl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ab&&s.locale!=="ko"?null:s.data;default:return null}}var M3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jb(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!M3[i.type]:s==="textarea"}function Db(i,s,u,h){Xt(h),s=ff(s,"onChange"),0<s.length&&(u=new Ft("onChange","change",null,u,h),i.push({event:u,listeners:s}))}var Xu=null,Yu=null;function B3(i){rw(i,0)}function lf(i){var s=Sl(i);if(Rt(s))return i}function W3(i,s){if(i==="change")return s}var Mb=!1;if(c){var Cm;if(c){var Rm="oninput"in document;if(!Rm){var Bb=document.createElement("div");Bb.setAttribute("oninput","return;"),Rm=typeof Bb.oninput=="function"}Cm=Rm}else Cm=!1;Mb=Cm&&(!document.documentMode||9<document.documentMode)}function Wb(){Xu&&(Xu.detachEvent("onpropertychange",$b),Yu=Xu=null)}function $b(i){if(i.propertyName==="value"&&lf(Yu)){var s=[];Db(s,Yu,i,Du(i)),wa(B3,s)}}function $3(i,s,u){i==="focusin"?(Wb(),Xu=s,Yu=u,Xu.attachEvent("onpropertychange",$b)):i==="focusout"&&Wb()}function U3(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return lf(Yu)}function z3(i,s){if(i==="click")return lf(s)}function V3(i,s){if(i==="input"||i==="change")return lf(s)}function H3(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Vi=typeof Object.is=="function"?Object.is:H3;function ec(i,s){if(Vi(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),h=Object.keys(s);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var w=u[h];if(!p.call(s,w)||!Vi(i[w],s[w]))return!1}return!0}function Ub(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function zb(i,s){var u=Ub(i);i=0;for(var h;u;){if(u.nodeType===3){if(h=i+u.textContent.length,i<=s&&h>=s)return{node:u,offset:s-i};i=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Ub(u)}}function Vb(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?Vb(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Hb(){for(var i=window,s=qt();s instanceof i.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)i=s.contentWindow;else break;s=qt(i.document)}return s}function Om(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function Q3(i){var s=Hb(),u=i.focusedElem,h=i.selectionRange;if(s!==u&&u&&u.ownerDocument&&Vb(u.ownerDocument.documentElement,u)){if(h!==null&&Om(u)){if(s=h.start,i=h.end,i===void 0&&(i=s),"selectionStart"in u)u.selectionStart=s,u.selectionEnd=Math.min(i,u.value.length);else if(i=(s=u.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var w=u.textContent.length,E=Math.min(h.start,w);h=h.end===void 0?E:Math.min(h.end,w),!i.extend&&E>h&&(w=h,h=E,E=w),w=zb(u,E);var F=zb(u,h);w&&F&&(i.rangeCount!==1||i.anchorNode!==w.node||i.anchorOffset!==w.offset||i.focusNode!==F.node||i.focusOffset!==F.offset)&&(s=s.createRange(),s.setStart(w.node,w.offset),i.removeAllRanges(),E>h?(i.addRange(s),i.extend(F.node,F.offset)):(s.setEnd(F.node,F.offset),i.addRange(s)))}}for(s=[],i=u;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<s.length;u++)i=s[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var K3=c&&"documentMode"in document&&11>=document.documentMode,_l=null,Tm=null,tc=null,Am=!1;function Qb(i,s,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Am||_l==null||_l!==qt(h)||(h=_l,"selectionStart"in h&&Om(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),tc&&ec(tc,h)||(tc=h,h=ff(Tm,"onSelect"),0<h.length&&(s=new Ft("onSelect","select",null,s,u),i.push({event:s,listeners:h}),s.target=_l)))}function uf(i,s){var u={};return u[i.toLowerCase()]=s.toLowerCase(),u["Webkit"+i]="webkit"+s,u["Moz"+i]="moz"+s,u}var bl={animationend:uf("Animation","AnimationEnd"),animationiteration:uf("Animation","AnimationIteration"),animationstart:uf("Animation","AnimationStart"),transitionend:uf("Transition","TransitionEnd")},Im={},Kb={};c&&(Kb=document.createElement("div").style,"AnimationEvent"in window||(delete bl.animationend.animation,delete bl.animationiteration.animation,delete bl.animationstart.animation),"TransitionEvent"in window||delete bl.transitionend.transition);function cf(i){if(Im[i])return Im[i];if(!bl[i])return i;var s=bl[i],u;for(u in s)if(s.hasOwnProperty(u)&&u in Kb)return Im[i]=s[u];return i}var Gb=cf("animationend"),Jb=cf("animationiteration"),Zb=cf("animationstart"),Xb=cf("transitionend"),Yb=new Map,ew="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wo(i,s){Yb.set(i,s),a(s,[i])}for(var Pm=0;Pm<ew.length;Pm++){var Fm=ew[Pm],G3=Fm.toLowerCase(),J3=Fm[0].toUpperCase()+Fm.slice(1);wo(G3,"on"+J3)}wo(Gb,"onAnimationEnd"),wo(Jb,"onAnimationIteration"),wo(Zb,"onAnimationStart"),wo("dblclick","onDoubleClick"),wo("focusin","onFocus"),wo("focusout","onBlur"),wo(Xb,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z3=new Set("cancel close invalid load scroll toggle".split(" ").concat(rc));function tw(i,s,u){var h=i.type||"unknown-event";i.currentTarget=u,dm(h,s,void 0,i),i.currentTarget=null}function rw(i,s){s=(s&4)!==0;for(var u=0;u<i.length;u++){var h=i[u],w=h.event;h=h.listeners;e:{var E=void 0;if(s)for(var F=h.length-1;0<=F;F--){var ie=h[F],de=ie.instance,Fe=ie.currentTarget;if(ie=ie.listener,de!==E&&w.isPropagationStopped())break e;tw(w,ie,Fe),E=de}else for(F=0;F<h.length;F++){if(ie=h[F],de=ie.instance,Fe=ie.currentTarget,ie=ie.listener,de!==E&&w.isPropagationStopped())break e;tw(w,ie,Fe),E=de}}}if(hl)throw i=fs,hl=!1,fs=null,i}function jr(i,s){var u=s[Um];u===void 0&&(u=s[Um]=new Set);var h=i+"__bubble";u.has(h)||(nw(s,i,2,!1),u.add(h))}function Lm(i,s,u){var h=0;s&&(h|=4),nw(u,i,h,s)}var df="_reactListening"+Math.random().toString(36).slice(2);function nc(i){if(!i[df]){i[df]=!0,n.forEach(function(u){u!=="selectionchange"&&(Z3.has(u)||Lm(u,!1,i),Lm(u,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[df]||(s[df]=!0,Lm("selectionchange",!1,s))}}function nw(i,s,u,h){switch(fe(s)){case 1:var w=be;break;case 4:w=De;break;default:w=ht}u=w.bind(null,s,u,i),w=void 0,!Wu||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(w=!0),h?w!==void 0?i.addEventListener(s,u,{capture:!0,passive:w}):i.addEventListener(s,u,!0):w!==void 0?i.addEventListener(s,u,{passive:w}):i.addEventListener(s,u,!1)}function jm(i,s,u,h,w){var E=h;if(!(s&1)&&!(s&2)&&h!==null)e:for(;;){if(h===null)return;var F=h.tag;if(F===3||F===4){var ie=h.stateNode.containerInfo;if(ie===w||ie.nodeType===8&&ie.parentNode===w)break;if(F===4)for(F=h.return;F!==null;){var de=F.tag;if((de===3||de===4)&&(de=F.stateNode.containerInfo,de===w||de.nodeType===8&&de.parentNode===w))return;F=F.return}for(;ie!==null;){if(F=ka(ie),F===null)return;if(de=F.tag,de===5||de===6){h=E=F;continue e}ie=ie.parentNode}}h=h.return}wa(function(){var Fe=E,tt=Du(u),nt=[];e:{var Ye=Yb.get(i);if(Ye!==void 0){var Nt=Ft,At=i;switch(i){case"keypress":if(M(u)===0)break e;case"keydown":case"keyup":Nt=gr;break;case"focusin":At="focus",Nt=Xe;break;case"focusout":At="blur",Nt=Xe;break;case"beforeblur":case"afterblur":Nt=Xe;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Nt=Ot;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Nt=Se;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Nt=Em;break;case Gb:case Jb:case Zb:Nt=ut;break;case Xb:Nt=Ti;break;case"scroll":Nt=Ze;break;case"wheel":Nt=af;break;case"copy":case"cut":case"paste":Nt=Yt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Nt=js}var Lt=(s&4)!==0,en=!Lt&&i==="scroll",ke=Lt?Ye!==null?Ye+"Capture":null:Ye;Lt=[];for(var ge=Fe,Te;ge!==null;){Te=ge;var ot=Te.stateNode;if(Te.tag===5&&ot!==null&&(Te=ot,ke!==null&&(ot=Ri(ge,ke),ot!=null&&Lt.push(ic(ge,ot,Te)))),en)break;ge=ge.return}0<Lt.length&&(Ye=new Nt(Ye,At,null,u,tt),nt.push({event:Ye,listeners:Lt}))}}if(!(s&7)){e:{if(Ye=i==="mouseover"||i==="pointerover",Nt=i==="mouseout"||i==="pointerout",Ye&&u!==ju&&(At=u.relatedTarget||u.fromElement)&&(ka(At)||At[Ds]))break e;if((Nt||Ye)&&(Ye=tt.window===tt?tt:(Ye=tt.ownerDocument)?Ye.defaultView||Ye.parentWindow:window,Nt?(At=u.relatedTarget||u.toElement,Nt=Fe,At=At?ka(At):null,At!==null&&(en=Ls(At),At!==en||At.tag!==5&&At.tag!==6)&&(At=null)):(Nt=null,At=Fe),Nt!==At)){if(Lt=Ot,ot="onMouseLeave",ke="onMouseEnter",ge="mouse",(i==="pointerout"||i==="pointerover")&&(Lt=js,ot="onPointerLeave",ke="onPointerEnter",ge="pointer"),en=Nt==null?Ye:Sl(Nt),Te=At==null?Ye:Sl(At),Ye=new Lt(ot,ge+"leave",Nt,u,tt),Ye.target=en,Ye.relatedTarget=Te,ot=null,ka(tt)===Fe&&(Lt=new Lt(ke,ge+"enter",At,u,tt),Lt.target=Te,Lt.relatedTarget=en,ot=Lt),en=ot,Nt&&At)t:{for(Lt=Nt,ke=At,ge=0,Te=Lt;Te;Te=wl(Te))ge++;for(Te=0,ot=ke;ot;ot=wl(ot))Te++;for(;0<ge-Te;)Lt=wl(Lt),ge--;for(;0<Te-ge;)ke=wl(ke),Te--;for(;ge--;){if(Lt===ke||ke!==null&&Lt===ke.alternate)break t;Lt=wl(Lt),ke=wl(ke)}Lt=null}else Lt=null;Nt!==null&&iw(nt,Ye,Nt,Lt,!1),At!==null&&en!==null&&iw(nt,en,At,Lt,!0)}}e:{if(Ye=Fe?Sl(Fe):window,Nt=Ye.nodeName&&Ye.nodeName.toLowerCase(),Nt==="select"||Nt==="input"&&Ye.type==="file")var jt=W3;else if(jb(Ye))if(Mb)jt=V3;else{jt=U3;var $t=$3}else(Nt=Ye.nodeName)&&Nt.toLowerCase()==="input"&&(Ye.type==="checkbox"||Ye.type==="radio")&&(jt=z3);if(jt&&(jt=jt(i,Fe))){Db(nt,jt,u,tt);break e}$t&&$t(i,Ye,Fe),i==="focusout"&&($t=Ye._wrapperState)&&$t.controlled&&Ye.type==="number"&&ae(Ye,"number",Ye.value)}switch($t=Fe?Sl(Fe):window,i){case"focusin":(jb($t)||$t.contentEditable==="true")&&(_l=$t,Tm=Fe,tc=null);break;case"focusout":tc=Tm=_l=null;break;case"mousedown":Am=!0;break;case"contextmenu":case"mouseup":case"dragend":Am=!1,Qb(nt,u,tt);break;case"selectionchange":if(K3)break;case"keydown":case"keyup":Qb(nt,u,tt)}var Ut;if(qm)e:{switch(i){case"compositionstart":var Kt="onCompositionStart";break e;case"compositionend":Kt="onCompositionEnd";break e;case"compositionupdate":Kt="onCompositionUpdate";break e}Kt=void 0}else vl?Fb(i,u)&&(Kt="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Kt="onCompositionStart");Kt&&(Ab&&u.locale!=="ko"&&(vl||Kt!=="onCompositionStart"?Kt==="onCompositionEnd"&&vl&&(Ut=O()):(Qe=tt,U="value"in Qe?Qe.value:Qe.textContent,vl=!0)),$t=ff(Fe,Kt),0<$t.length&&(Kt=new Qr(Kt,i,null,u,tt),nt.push({event:Kt,listeners:$t}),Ut?Kt.data=Ut:(Ut=Lb(u),Ut!==null&&(Kt.data=Ut)))),(Ut=L3?j3(i,u):D3(i,u))&&(Fe=ff(Fe,"onBeforeInput"),0<Fe.length&&(tt=new Qr("onBeforeInput","beforeinput",null,u,tt),nt.push({event:tt,listeners:Fe}),tt.data=Ut))}rw(nt,s)})}function ic(i,s,u){return{instance:i,listener:s,currentTarget:u}}function ff(i,s){for(var u=s+"Capture",h=[];i!==null;){var w=i,E=w.stateNode;w.tag===5&&E!==null&&(w=E,E=Ri(i,u),E!=null&&h.unshift(ic(i,E,w)),E=Ri(i,s),E!=null&&h.push(ic(i,E,w))),i=i.return}return h}function wl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function iw(i,s,u,h,w){for(var E=s._reactName,F=[];u!==null&&u!==h;){var ie=u,de=ie.alternate,Fe=ie.stateNode;if(de!==null&&de===h)break;ie.tag===5&&Fe!==null&&(ie=Fe,w?(de=Ri(u,E),de!=null&&F.unshift(ic(u,de,ie))):w||(de=Ri(u,E),de!=null&&F.push(ic(u,de,ie)))),u=u.return}F.length!==0&&i.push({event:s,listeners:F})}var X3=/\r\n?/g,Y3=/\u0000|\uFFFD/g;function sw(i){return(typeof i=="string"?i:""+i).replace(X3,`
`).replace(Y3,"")}function hf(i,s,u){if(s=sw(s),sw(i)!==s&&u)throw Error(r(425))}function pf(){}var Dm=null,Mm=null;function Bm(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Wm=typeof setTimeout=="function"?setTimeout:void 0,eq=typeof clearTimeout=="function"?clearTimeout:void 0,ow=typeof Promise=="function"?Promise:void 0,tq=typeof queueMicrotask=="function"?queueMicrotask:typeof ow<"u"?function(i){return ow.resolve(null).then(i).catch(rq)}:Wm;function rq(i){setTimeout(function(){throw i})}function $m(i,s){var u=s,h=0;do{var w=u.nextSibling;if(i.removeChild(u),w&&w.nodeType===8)if(u=w.data,u==="/$"){if(h===0){i.removeChild(w),_e(s);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=w}while(u);_e(s)}function xo(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function aw(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return i;s--}else u==="/$"&&s++}i=i.previousSibling}return null}var xl=Math.random().toString(36).slice(2),hs="__reactFiber$"+xl,sc="__reactProps$"+xl,Ds="__reactContainer$"+xl,Um="__reactEvents$"+xl,nq="__reactListeners$"+xl,iq="__reactHandles$"+xl;function ka(i){var s=i[hs];if(s)return s;for(var u=i.parentNode;u;){if(s=u[Ds]||u[hs]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(i=aw(i);i!==null;){if(u=i[hs])return u;i=aw(i)}return s}i=u,u=i.parentNode}return null}function oc(i){return i=i[hs]||i[Ds],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Sl(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(r(33))}function mf(i){return i[sc]||null}var zm=[],El=-1;function So(i){return{current:i}}function Dr(i){0>El||(i.current=zm[El],zm[El]=null,El--)}function Ir(i,s){El++,zm[El]=i.current,i.current=s}var Eo={},kn=So(Eo),Qn=So(!1),qa=Eo;function Nl(i,s){var u=i.type.contextTypes;if(!u)return Eo;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var w={},E;for(E in u)w[E]=s[E];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=w),w}function Kn(i){return i=i.childContextTypes,i!=null}function yf(){Dr(Qn),Dr(kn)}function lw(i,s,u){if(kn.current!==Eo)throw Error(r(168));Ir(kn,s),Ir(Qn,u)}function uw(i,s,u){var h=i.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var w in h)if(!(w in s))throw Error(r(108,ft(i)||"Unknown",w));return Ee({},u,h)}function gf(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Eo,qa=kn.current,Ir(kn,i),Ir(Qn,Qn.current),!0}function cw(i,s,u){var h=i.stateNode;if(!h)throw Error(r(169));u?(i=uw(i,s,qa),h.__reactInternalMemoizedMergedChildContext=i,Dr(Qn),Dr(kn),Ir(kn,i)):Dr(Qn),Ir(Qn,u)}var Ms=null,vf=!1,Vm=!1;function dw(i){Ms===null?Ms=[i]:Ms.push(i)}function sq(i){vf=!0,dw(i)}function No(){if(!Vm&&Ms!==null){Vm=!0;var i=0,s=yr;try{var u=Ms;for(yr=1;i<u.length;i++){var h=u[i];do h=h(!0);while(h!==null)}Ms=null,vf=!1}catch(w){throw Ms!==null&&(Ms=Ms.slice(i+1)),tf(Uu,No),w}finally{yr=s,Vm=!1}}return null}var kl=[],ql=0,_f=null,bf=0,Ai=[],Ii=0,Ca=null,Bs=1,Ws="";function Ra(i,s){kl[ql++]=bf,kl[ql++]=_f,_f=i,bf=s}function fw(i,s,u){Ai[Ii++]=Bs,Ai[Ii++]=Ws,Ai[Ii++]=Ca,Ca=i;var h=Bs;i=Ws;var w=32-Hn(h)-1;h&=~(1<<w),u+=1;var E=32-Hn(s)+w;if(30<E){var F=w-w%5;E=(h&(1<<F)-1).toString(32),h>>=F,w-=F,Bs=1<<32-Hn(s)+w|u<<w|h,Ws=E+i}else Bs=1<<E|u<<w|h,Ws=i}function Hm(i){i.return!==null&&(Ra(i,1),fw(i,1,0))}function Qm(i){for(;i===_f;)_f=kl[--ql],kl[ql]=null,bf=kl[--ql],kl[ql]=null;for(;i===Ca;)Ca=Ai[--Ii],Ai[Ii]=null,Ws=Ai[--Ii],Ai[Ii]=null,Bs=Ai[--Ii],Ai[Ii]=null}var di=null,fi=null,Br=!1,Hi=null;function hw(i,s){var u=ji(5,null,null,0);u.elementType="DELETED",u.stateNode=s,u.return=i,s=i.deletions,s===null?(i.deletions=[u],i.flags|=16):s.push(u)}function pw(i,s){switch(i.tag){case 5:var u=i.type;return s=s.nodeType!==1||u.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,di=i,fi=xo(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,di=i,fi=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(u=Ca!==null?{id:Bs,overflow:Ws}:null,i.memoizedState={dehydrated:s,treeContext:u,retryLane:0x40000000},u=ji(18,null,null,0),u.stateNode=s,u.return=i,i.child=u,di=i,fi=null,!0):!1;default:return!1}}function Km(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Gm(i){if(Br){var s=fi;if(s){var u=s;if(!pw(i,s)){if(Km(i))throw Error(r(418));s=xo(u.nextSibling);var h=di;s&&pw(i,s)?hw(h,u):(i.flags=i.flags&-4097|2,Br=!1,di=i)}}else{if(Km(i))throw Error(r(418));i.flags=i.flags&-4097|2,Br=!1,di=i}}}function mw(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;di=i}function wf(i){if(i!==di)return!1;if(!Br)return mw(i),Br=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!Bm(i.type,i.memoizedProps)),s&&(s=fi)){if(Km(i))throw yw(),Error(r(418));for(;s;)hw(i,s),s=xo(s.nextSibling)}if(mw(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(s===0){fi=xo(i.nextSibling);break e}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++}i=i.nextSibling}fi=null}}else fi=di?xo(i.stateNode.nextSibling):null;return!0}function yw(){for(var i=fi;i;)i=xo(i.nextSibling)}function Cl(){fi=di=null,Br=!1}function Jm(i){Hi===null?Hi=[i]:Hi.push(i)}var oq=z.ReactCurrentBatchConfig;function ac(i,s,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(r(309));var h=u.stateNode}if(!h)throw Error(r(147,i));var w=h,E=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===E?s.ref:(s=function(F){var ie=w.refs;F===null?delete ie[E]:ie[E]=F},s._stringRef=E,s)}if(typeof i!="string")throw Error(r(284));if(!u._owner)throw Error(r(290,i))}return i}function xf(i,s){throw i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function gw(i){var s=i._init;return s(i._payload)}function vw(i){function s(ke,ge){if(i){var Te=ke.deletions;Te===null?(ke.deletions=[ge],ke.flags|=16):Te.push(ge)}}function u(ke,ge){if(!i)return null;for(;ge!==null;)s(ke,ge),ge=ge.sibling;return null}function h(ke,ge){for(ke=new Map;ge!==null;)ge.key!==null?ke.set(ge.key,ge):ke.set(ge.index,ge),ge=ge.sibling;return ke}function w(ke,ge){return ke=Io(ke,ge),ke.index=0,ke.sibling=null,ke}function E(ke,ge,Te){return ke.index=Te,i?(Te=ke.alternate,Te!==null?(Te=Te.index,Te<ge?(ke.flags|=2,ge):Te):(ke.flags|=2,ge)):(ke.flags|=1048576,ge)}function F(ke){return i&&ke.alternate===null&&(ke.flags|=2),ke}function ie(ke,ge,Te,ot){return ge===null||ge.tag!==6?(ge=Wy(Te,ke.mode,ot),ge.return=ke,ge):(ge=w(ge,Te),ge.return=ke,ge)}function de(ke,ge,Te,ot){var jt=Te.type;return jt===K?tt(ke,ge,Te.props.children,ot,Te.key):ge!==null&&(ge.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===Ce&&gw(jt)===ge.type)?(ot=w(ge,Te.props),ot.ref=ac(ke,ge,Te),ot.return=ke,ot):(ot=Hf(Te.type,Te.key,Te.props,null,ke.mode,ot),ot.ref=ac(ke,ge,Te),ot.return=ke,ot)}function Fe(ke,ge,Te,ot){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==Te.containerInfo||ge.stateNode.implementation!==Te.implementation?(ge=$y(Te,ke.mode,ot),ge.return=ke,ge):(ge=w(ge,Te.children||[]),ge.return=ke,ge)}function tt(ke,ge,Te,ot,jt){return ge===null||ge.tag!==7?(ge=ja(Te,ke.mode,ot,jt),ge.return=ke,ge):(ge=w(ge,Te),ge.return=ke,ge)}function nt(ke,ge,Te){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return ge=Wy(""+ge,ke.mode,Te),ge.return=ke,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case V:return Te=Hf(ge.type,ge.key,ge.props,null,ke.mode,Te),Te.ref=ac(ke,null,ge),Te.return=ke,Te;case W:return ge=$y(ge,ke.mode,Te),ge.return=ke,ge;case Ce:var ot=ge._init;return nt(ke,ot(ge._payload),Te)}if(ye(ge)||me(ge))return ge=ja(ge,ke.mode,Te,null),ge.return=ke,ge;xf(ke,ge)}return null}function Ye(ke,ge,Te,ot){var jt=ge!==null?ge.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number")return jt!==null?null:ie(ke,ge,""+Te,ot);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case V:return Te.key===jt?de(ke,ge,Te,ot):null;case W:return Te.key===jt?Fe(ke,ge,Te,ot):null;case Ce:return jt=Te._init,Ye(ke,ge,jt(Te._payload),ot)}if(ye(Te)||me(Te))return jt!==null?null:tt(ke,ge,Te,ot,null);xf(ke,Te)}return null}function Nt(ke,ge,Te,ot,jt){if(typeof ot=="string"&&ot!==""||typeof ot=="number")return ke=ke.get(Te)||null,ie(ge,ke,""+ot,jt);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case V:return ke=ke.get(ot.key===null?Te:ot.key)||null,de(ge,ke,ot,jt);case W:return ke=ke.get(ot.key===null?Te:ot.key)||null,Fe(ge,ke,ot,jt);case Ce:var $t=ot._init;return Nt(ke,ge,Te,$t(ot._payload),jt)}if(ye(ot)||me(ot))return ke=ke.get(Te)||null,tt(ge,ke,ot,jt,null);xf(ge,ot)}return null}function At(ke,ge,Te,ot){for(var jt=null,$t=null,Ut=ge,Kt=ge=0,mn=null;Ut!==null&&Kt<Te.length;Kt++){Ut.index>Kt?(mn=Ut,Ut=null):mn=Ut.sibling;var hr=Ye(ke,Ut,Te[Kt],ot);if(hr===null){Ut===null&&(Ut=mn);break}i&&Ut&&hr.alternate===null&&s(ke,Ut),ge=E(hr,ge,Kt),$t===null?jt=hr:$t.sibling=hr,$t=hr,Ut=mn}if(Kt===Te.length)return u(ke,Ut),Br&&Ra(ke,Kt),jt;if(Ut===null){for(;Kt<Te.length;Kt++)Ut=nt(ke,Te[Kt],ot),Ut!==null&&(ge=E(Ut,ge,Kt),$t===null?jt=Ut:$t.sibling=Ut,$t=Ut);return Br&&Ra(ke,Kt),jt}for(Ut=h(ke,Ut);Kt<Te.length;Kt++)mn=Nt(Ut,ke,Kt,Te[Kt],ot),mn!==null&&(i&&mn.alternate!==null&&Ut.delete(mn.key===null?Kt:mn.key),ge=E(mn,ge,Kt),$t===null?jt=mn:$t.sibling=mn,$t=mn);return i&&Ut.forEach(function(Po){return s(ke,Po)}),Br&&Ra(ke,Kt),jt}function Lt(ke,ge,Te,ot){var jt=me(Te);if(typeof jt!="function")throw Error(r(150));if(Te=jt.call(Te),Te==null)throw Error(r(151));for(var $t=jt=null,Ut=ge,Kt=ge=0,mn=null,hr=Te.next();Ut!==null&&!hr.done;Kt++,hr=Te.next()){Ut.index>Kt?(mn=Ut,Ut=null):mn=Ut.sibling;var Po=Ye(ke,Ut,hr.value,ot);if(Po===null){Ut===null&&(Ut=mn);break}i&&Ut&&Po.alternate===null&&s(ke,Ut),ge=E(Po,ge,Kt),$t===null?jt=Po:$t.sibling=Po,$t=Po,Ut=mn}if(hr.done)return u(ke,Ut),Br&&Ra(ke,Kt),jt;if(Ut===null){for(;!hr.done;Kt++,hr=Te.next())hr=nt(ke,hr.value,ot),hr!==null&&(ge=E(hr,ge,Kt),$t===null?jt=hr:$t.sibling=hr,$t=hr);return Br&&Ra(ke,Kt),jt}for(Ut=h(ke,Ut);!hr.done;Kt++,hr=Te.next())hr=Nt(Ut,ke,Kt,hr.value,ot),hr!==null&&(i&&hr.alternate!==null&&Ut.delete(hr.key===null?Kt:hr.key),ge=E(hr,ge,Kt),$t===null?jt=hr:$t.sibling=hr,$t=hr);return i&&Ut.forEach(function(Mq){return s(ke,Mq)}),Br&&Ra(ke,Kt),jt}function en(ke,ge,Te,ot){if(typeof Te=="object"&&Te!==null&&Te.type===K&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case V:e:{for(var jt=Te.key,$t=ge;$t!==null;){if($t.key===jt){if(jt=Te.type,jt===K){if($t.tag===7){u(ke,$t.sibling),ge=w($t,Te.props.children),ge.return=ke,ke=ge;break e}}else if($t.elementType===jt||typeof jt=="object"&&jt!==null&&jt.$$typeof===Ce&&gw(jt)===$t.type){u(ke,$t.sibling),ge=w($t,Te.props),ge.ref=ac(ke,$t,Te),ge.return=ke,ke=ge;break e}u(ke,$t);break}else s(ke,$t);$t=$t.sibling}Te.type===K?(ge=ja(Te.props.children,ke.mode,ot,Te.key),ge.return=ke,ke=ge):(ot=Hf(Te.type,Te.key,Te.props,null,ke.mode,ot),ot.ref=ac(ke,ge,Te),ot.return=ke,ke=ot)}return F(ke);case W:e:{for($t=Te.key;ge!==null;){if(ge.key===$t)if(ge.tag===4&&ge.stateNode.containerInfo===Te.containerInfo&&ge.stateNode.implementation===Te.implementation){u(ke,ge.sibling),ge=w(ge,Te.children||[]),ge.return=ke,ke=ge;break e}else{u(ke,ge);break}else s(ke,ge);ge=ge.sibling}ge=$y(Te,ke.mode,ot),ge.return=ke,ke=ge}return F(ke);case Ce:return $t=Te._init,en(ke,ge,$t(Te._payload),ot)}if(ye(Te))return At(ke,ge,Te,ot);if(me(Te))return Lt(ke,ge,Te,ot);xf(ke,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"?(Te=""+Te,ge!==null&&ge.tag===6?(u(ke,ge.sibling),ge=w(ge,Te),ge.return=ke,ke=ge):(u(ke,ge),ge=Wy(Te,ke.mode,ot),ge.return=ke,ke=ge),F(ke)):u(ke,ge)}return en}var Rl=vw(!0),_w=vw(!1),Sf=So(null),Ef=null,Ol=null,Zm=null;function Xm(){Zm=Ol=Ef=null}function Ym(i){var s=Sf.current;Dr(Sf),i._currentValue=s}function ey(i,s,u){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===u)break;i=i.return}}function Tl(i,s){Ef=i,Zm=Ol=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(Gn=!0),i.firstContext=null)}function Pi(i){var s=i._currentValue;if(Zm!==i)if(i={context:i,memoizedValue:s,next:null},Ol===null){if(Ef===null)throw Error(r(308));Ol=i,Ef.dependencies={lanes:0,firstContext:i}}else Ol=Ol.next=i;return s}var Oa=null;function ty(i){Oa===null?Oa=[i]:Oa.push(i)}function bw(i,s,u,h){var w=s.interleaved;return w===null?(u.next=u,ty(s)):(u.next=w.next,w.next=u),s.interleaved=u,$s(i,h)}function $s(i,s){i.lanes|=s;var u=i.alternate;for(u!==null&&(u.lanes|=s),u=i,i=i.return;i!==null;)i.childLanes|=s,u=i.alternate,u!==null&&(u.childLanes|=s),u=i,i=i.return;return u.tag===3?u.stateNode:null}var ko=!1;function ry(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ww(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Us(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function qo(i,s,u){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,fr&2){var w=h.pending;return w===null?s.next=s:(s.next=w.next,w.next=s),h.pending=s,$s(i,u)}return w=h.interleaved,w===null?(s.next=s,ty(h)):(s.next=w.next,w.next=s),h.interleaved=s,$s(i,u)}function Nf(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194240)!==0)){var h=s.lanes;h&=i.pendingLanes,u|=h,s.lanes=u,Hu(i,u)}}function xw(i,s){var u=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var w=null,E=null;if(u=u.firstBaseUpdate,u!==null){do{var F={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};E===null?w=E=F:E=E.next=F,u=u.next}while(u!==null);E===null?w=E=s:E=E.next=s}else w=E=s;u={baseState:h.baseState,firstBaseUpdate:w,lastBaseUpdate:E,shared:h.shared,effects:h.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}function kf(i,s,u,h){var w=i.updateQueue;ko=!1;var E=w.firstBaseUpdate,F=w.lastBaseUpdate,ie=w.shared.pending;if(ie!==null){w.shared.pending=null;var de=ie,Fe=de.next;de.next=null,F===null?E=Fe:F.next=Fe,F=de;var tt=i.alternate;tt!==null&&(tt=tt.updateQueue,ie=tt.lastBaseUpdate,ie!==F&&(ie===null?tt.firstBaseUpdate=Fe:ie.next=Fe,tt.lastBaseUpdate=de))}if(E!==null){var nt=w.baseState;F=0,tt=Fe=de=null,ie=E;do{var Ye=ie.lane,Nt=ie.eventTime;if((h&Ye)===Ye){tt!==null&&(tt=tt.next={eventTime:Nt,lane:0,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null});e:{var At=i,Lt=ie;switch(Ye=s,Nt=u,Lt.tag){case 1:if(At=Lt.payload,typeof At=="function"){nt=At.call(Nt,nt,Ye);break e}nt=At;break e;case 3:At.flags=At.flags&-65537|128;case 0:if(At=Lt.payload,Ye=typeof At=="function"?At.call(Nt,nt,Ye):At,Ye==null)break e;nt=Ee({},nt,Ye);break e;case 2:ko=!0}}ie.callback!==null&&ie.lane!==0&&(i.flags|=64,Ye=w.effects,Ye===null?w.effects=[ie]:Ye.push(ie))}else Nt={eventTime:Nt,lane:Ye,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null},tt===null?(Fe=tt=Nt,de=nt):tt=tt.next=Nt,F|=Ye;if(ie=ie.next,ie===null){if(ie=w.shared.pending,ie===null)break;Ye=ie,ie=Ye.next,Ye.next=null,w.lastBaseUpdate=Ye,w.shared.pending=null}}while(!0);if(tt===null&&(de=nt),w.baseState=de,w.firstBaseUpdate=Fe,w.lastBaseUpdate=tt,s=w.shared.interleaved,s!==null){w=s;do F|=w.lane,w=w.next;while(w!==s)}else E===null&&(w.shared.lanes=0);Ia|=F,i.lanes=F,i.memoizedState=nt}}function Sw(i,s,u){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var h=i[s],w=h.callback;if(w!==null){if(h.callback=null,h=u,typeof w!="function")throw Error(r(191,w));w.call(h)}}}var lc={},ps=So(lc),uc=So(lc),cc=So(lc);function Ta(i){if(i===lc)throw Error(r(174));return i}function ny(i,s){switch(Ir(cc,s),Ir(uc,i),Ir(ps,lc),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:cr(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=cr(s,i)}Dr(ps),Ir(ps,s)}function Al(){Dr(ps),Dr(uc),Dr(cc)}function Ew(i){Ta(cc.current);var s=Ta(ps.current),u=cr(s,i.type);s!==u&&(Ir(uc,i),Ir(ps,u))}function iy(i){uc.current===i&&(Dr(ps),Dr(uc))}var Kr=So(0);function qf(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var sy=[];function oy(){for(var i=0;i<sy.length;i++)sy[i]._workInProgressVersionPrimary=null;sy.length=0}var Cf=z.ReactCurrentDispatcher,ay=z.ReactCurrentBatchConfig,Aa=0,Gr=null,un=null,hn=null,Rf=!1,dc=!1,fc=0,aq=0;function qn(){throw Error(r(321))}function ly(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!Vi(i[u],s[u]))return!1;return!0}function uy(i,s,u,h,w,E){if(Aa=E,Gr=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Cf.current=i===null||i.memoizedState===null?dq:fq,i=u(h,w),dc){E=0;do{if(dc=!1,fc=0,25<=E)throw Error(r(301));E+=1,hn=un=null,s.updateQueue=null,Cf.current=hq,i=u(h,w)}while(dc)}if(Cf.current=Af,s=un!==null&&un.next!==null,Aa=0,hn=un=Gr=null,Rf=!1,s)throw Error(r(300));return i}function cy(){var i=fc!==0;return fc=0,i}function ms(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?Gr.memoizedState=hn=i:hn=hn.next=i,hn}function Fi(){if(un===null){var i=Gr.alternate;i=i!==null?i.memoizedState:null}else i=un.next;var s=hn===null?Gr.memoizedState:hn.next;if(s!==null)hn=s,un=i;else{if(i===null)throw Error(r(310));un=i,i={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},hn===null?Gr.memoizedState=hn=i:hn=hn.next=i}return hn}function hc(i,s){return typeof s=="function"?s(i):s}function dy(i){var s=Fi(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var h=un,w=h.baseQueue,E=u.pending;if(E!==null){if(w!==null){var F=w.next;w.next=E.next,E.next=F}h.baseQueue=w=E,u.pending=null}if(w!==null){E=w.next,h=h.baseState;var ie=F=null,de=null,Fe=E;do{var tt=Fe.lane;if((Aa&tt)===tt)de!==null&&(de=de.next={lane:0,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null}),h=Fe.hasEagerState?Fe.eagerState:i(h,Fe.action);else{var nt={lane:tt,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null};de===null?(ie=de=nt,F=h):de=de.next=nt,Gr.lanes|=tt,Ia|=tt}Fe=Fe.next}while(Fe!==null&&Fe!==E);de===null?F=h:de.next=ie,Vi(h,s.memoizedState)||(Gn=!0),s.memoizedState=h,s.baseState=F,s.baseQueue=de,u.lastRenderedState=h}if(i=u.interleaved,i!==null){w=i;do E=w.lane,Gr.lanes|=E,Ia|=E,w=w.next;while(w!==i)}else w===null&&(u.lanes=0);return[s.memoizedState,u.dispatch]}function fy(i){var s=Fi(),u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var h=u.dispatch,w=u.pending,E=s.memoizedState;if(w!==null){u.pending=null;var F=w=w.next;do E=i(E,F.action),F=F.next;while(F!==w);Vi(E,s.memoizedState)||(Gn=!0),s.memoizedState=E,s.baseQueue===null&&(s.baseState=E),u.lastRenderedState=E}return[E,h]}function Nw(){}function kw(i,s){var u=Gr,h=Fi(),w=s(),E=!Vi(h.memoizedState,w);if(E&&(h.memoizedState=w,Gn=!0),h=h.queue,hy(Rw.bind(null,u,h,i),[i]),h.getSnapshot!==s||E||hn!==null&&hn.memoizedState.tag&1){if(u.flags|=2048,pc(9,Cw.bind(null,u,h,w,s),void 0,null),pn===null)throw Error(r(349));Aa&30||qw(u,s,w)}return w}function qw(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=Gr.updateQueue,s===null?(s={lastEffect:null,stores:null},Gr.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function Cw(i,s,u,h){s.value=u,s.getSnapshot=h,Ow(s)&&Tw(i)}function Rw(i,s,u){return u(function(){Ow(s)&&Tw(i)})}function Ow(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!Vi(i,u)}catch{return!0}}function Tw(i){var s=$s(i,1);s!==null&&Ji(s,i,1,-1)}function Aw(i){var s=ms();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hc,lastRenderedState:i},s.queue=i,i=i.dispatch=cq.bind(null,Gr,i),[s.memoizedState,i]}function pc(i,s,u,h){return i={tag:i,create:s,destroy:u,deps:h,next:null},s=Gr.updateQueue,s===null?(s={lastEffect:null,stores:null},Gr.updateQueue=s,s.lastEffect=i.next=i):(u=s.lastEffect,u===null?s.lastEffect=i.next=i:(h=u.next,u.next=i,i.next=h,s.lastEffect=i)),i}function Iw(){return Fi().memoizedState}function Of(i,s,u,h){var w=ms();Gr.flags|=i,w.memoizedState=pc(1|s,u,void 0,h===void 0?null:h)}function Tf(i,s,u,h){var w=Fi();h=h===void 0?null:h;var E=void 0;if(un!==null){var F=un.memoizedState;if(E=F.destroy,h!==null&&ly(h,F.deps)){w.memoizedState=pc(s,u,E,h);return}}Gr.flags|=i,w.memoizedState=pc(1|s,u,E,h)}function Pw(i,s){return Of(8390656,8,i,s)}function hy(i,s){return Tf(2048,8,i,s)}function Fw(i,s){return Tf(4,2,i,s)}function Lw(i,s){return Tf(4,4,i,s)}function jw(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Dw(i,s,u){return u=u!=null?u.concat([i]):null,Tf(4,4,jw.bind(null,s,i),u)}function py(){}function Mw(i,s){var u=Fi();s=s===void 0?null:s;var h=u.memoizedState;return h!==null&&s!==null&&ly(s,h[1])?h[0]:(u.memoizedState=[i,s],i)}function Bw(i,s){var u=Fi();s=s===void 0?null:s;var h=u.memoizedState;return h!==null&&s!==null&&ly(s,h[1])?h[0]:(i=i(),u.memoizedState=[i,s],i)}function Ww(i,s,u){return Aa&21?(Vi(u,s)||(u=sf(),Gr.lanes|=u,Ia|=u,i.baseState=!0),s):(i.baseState&&(i.baseState=!1,Gn=!0),i.memoizedState=u)}function lq(i,s){var u=yr;yr=u!==0&&4>u?u:4,i(!0);var h=ay.transition;ay.transition={};try{i(!1),s()}finally{yr=u,ay.transition=h}}function $w(){return Fi().memoizedState}function uq(i,s,u){var h=To(i);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},Uw(i))zw(s,u);else if(u=bw(i,s,u,h),u!==null){var w=Ln();Ji(u,i,h,w),Vw(u,s,h)}}function cq(i,s,u){var h=To(i),w={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(Uw(i))zw(s,w);else{var E=i.alternate;if(i.lanes===0&&(E===null||E.lanes===0)&&(E=s.lastRenderedReducer,E!==null))try{var F=s.lastRenderedState,ie=E(F,u);if(w.hasEagerState=!0,w.eagerState=ie,Vi(ie,F)){var de=s.interleaved;de===null?(w.next=w,ty(s)):(w.next=de.next,de.next=w),s.interleaved=w;return}}catch{}finally{}u=bw(i,s,w,h),u!==null&&(w=Ln(),Ji(u,i,h,w),Vw(u,s,h))}}function Uw(i){var s=i.alternate;return i===Gr||s!==null&&s===Gr}function zw(i,s){dc=Rf=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function Vw(i,s,u){if(u&4194240){var h=s.lanes;h&=i.pendingLanes,u|=h,s.lanes=u,Hu(i,u)}}var Af={readContext:Pi,useCallback:qn,useContext:qn,useEffect:qn,useImperativeHandle:qn,useInsertionEffect:qn,useLayoutEffect:qn,useMemo:qn,useReducer:qn,useRef:qn,useState:qn,useDebugValue:qn,useDeferredValue:qn,useTransition:qn,useMutableSource:qn,useSyncExternalStore:qn,useId:qn,unstable_isNewReconciler:!1},dq={readContext:Pi,useCallback:function(i,s){return ms().memoizedState=[i,s===void 0?null:s],i},useContext:Pi,useEffect:Pw,useImperativeHandle:function(i,s,u){return u=u!=null?u.concat([i]):null,Of(4194308,4,jw.bind(null,s,i),u)},useLayoutEffect:function(i,s){return Of(4194308,4,i,s)},useInsertionEffect:function(i,s){return Of(4,2,i,s)},useMemo:function(i,s){var u=ms();return s=s===void 0?null:s,i=i(),u.memoizedState=[i,s],i},useReducer:function(i,s,u){var h=ms();return s=u!==void 0?u(s):s,h.memoizedState=h.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},h.queue=i,i=i.dispatch=uq.bind(null,Gr,i),[h.memoizedState,i]},useRef:function(i){var s=ms();return i={current:i},s.memoizedState=i},useState:Aw,useDebugValue:py,useDeferredValue:function(i){return ms().memoizedState=i},useTransition:function(){var i=Aw(!1),s=i[0];return i=lq.bind(null,i[1]),ms().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,u){var h=Gr,w=ms();if(Br){if(u===void 0)throw Error(r(407));u=u()}else{if(u=s(),pn===null)throw Error(r(349));Aa&30||qw(h,s,u)}w.memoizedState=u;var E={value:u,getSnapshot:s};return w.queue=E,Pw(Rw.bind(null,h,E,i),[i]),h.flags|=2048,pc(9,Cw.bind(null,h,E,u,s),void 0,null),u},useId:function(){var i=ms(),s=pn.identifierPrefix;if(Br){var u=Ws,h=Bs;u=(h&~(1<<32-Hn(h)-1)).toString(32)+u,s=":"+s+"R"+u,u=fc++,0<u&&(s+="H"+u.toString(32)),s+=":"}else u=aq++,s=":"+s+"r"+u.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},fq={readContext:Pi,useCallback:Mw,useContext:Pi,useEffect:hy,useImperativeHandle:Dw,useInsertionEffect:Fw,useLayoutEffect:Lw,useMemo:Bw,useReducer:dy,useRef:Iw,useState:function(){return dy(hc)},useDebugValue:py,useDeferredValue:function(i){var s=Fi();return Ww(s,un.memoizedState,i)},useTransition:function(){var i=dy(hc)[0],s=Fi().memoizedState;return[i,s]},useMutableSource:Nw,useSyncExternalStore:kw,useId:$w,unstable_isNewReconciler:!1},hq={readContext:Pi,useCallback:Mw,useContext:Pi,useEffect:hy,useImperativeHandle:Dw,useInsertionEffect:Fw,useLayoutEffect:Lw,useMemo:Bw,useReducer:fy,useRef:Iw,useState:function(){return fy(hc)},useDebugValue:py,useDeferredValue:function(i){var s=Fi();return un===null?s.memoizedState=i:Ww(s,un.memoizedState,i)},useTransition:function(){var i=fy(hc)[0],s=Fi().memoizedState;return[i,s]},useMutableSource:Nw,useSyncExternalStore:kw,useId:$w,unstable_isNewReconciler:!1};function Qi(i,s){if(i&&i.defaultProps){s=Ee({},s),i=i.defaultProps;for(var u in i)s[u]===void 0&&(s[u]=i[u]);return s}return s}function my(i,s,u,h){s=i.memoizedState,u=u(h,s),u=u==null?s:Ee({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var If={isMounted:function(i){return(i=i._reactInternals)?Ls(i)===i:!1},enqueueSetState:function(i,s,u){i=i._reactInternals;var h=Ln(),w=To(i),E=Us(h,w);E.payload=s,u!=null&&(E.callback=u),s=qo(i,E,w),s!==null&&(Ji(s,i,w,h),Nf(s,i,w))},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var h=Ln(),w=To(i),E=Us(h,w);E.tag=1,E.payload=s,u!=null&&(E.callback=u),s=qo(i,E,w),s!==null&&(Ji(s,i,w,h),Nf(s,i,w))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=Ln(),h=To(i),w=Us(u,h);w.tag=2,s!=null&&(w.callback=s),s=qo(i,w,h),s!==null&&(Ji(s,i,h,u),Nf(s,i,h))}};function Hw(i,s,u,h,w,E,F){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,E,F):s.prototype&&s.prototype.isPureReactComponent?!ec(u,h)||!ec(w,E):!0}function Qw(i,s,u){var h=!1,w=Eo,E=s.contextType;return typeof E=="object"&&E!==null?E=Pi(E):(w=Kn(s)?qa:kn.current,h=s.contextTypes,E=(h=h!=null)?Nl(i,w):Eo),s=new s(u,E),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=If,i.stateNode=s,s._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=w,i.__reactInternalMemoizedMaskedChildContext=E),s}function Kw(i,s,u,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,h),s.state!==i&&If.enqueueReplaceState(s,s.state,null)}function yy(i,s,u,h){var w=i.stateNode;w.props=u,w.state=i.memoizedState,w.refs={},ry(i);var E=s.contextType;typeof E=="object"&&E!==null?w.context=Pi(E):(E=Kn(s)?qa:kn.current,w.context=Nl(i,E)),w.state=i.memoizedState,E=s.getDerivedStateFromProps,typeof E=="function"&&(my(i,s,E,u),w.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(s=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),s!==w.state&&If.enqueueReplaceState(w,w.state,null),kf(i,u,w,h),w.state=i.memoizedState),typeof w.componentDidMount=="function"&&(i.flags|=4194308)}function Il(i,s){try{var u="",h=s;do u+=dt(h),h=h.return;while(h);var w=u}catch(E){w=`
Error generating stack: `+E.message+`
`+E.stack}return{value:i,source:s,stack:w,digest:null}}function gy(i,s,u){return{value:i,source:null,stack:u??null,digest:s??null}}function vy(i,s){try{console.error(s.value)}catch(u){setTimeout(function(){throw u})}}var pq=typeof WeakMap=="function"?WeakMap:Map;function Gw(i,s,u){u=Us(-1,u),u.tag=3,u.payload={element:null};var h=s.value;return u.callback=function(){Bf||(Bf=!0,Iy=h),vy(i,s)},u}function Jw(i,s,u){u=Us(-1,u),u.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var w=s.value;u.payload=function(){return h(w)},u.callback=function(){vy(i,s)}}var E=i.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(u.callback=function(){vy(i,s),typeof h!="function"&&(Ro===null?Ro=new Set([this]):Ro.add(this));var F=s.stack;this.componentDidCatch(s.value,{componentStack:F!==null?F:""})}),u}function Zw(i,s,u){var h=i.pingCache;if(h===null){h=i.pingCache=new pq;var w=new Set;h.set(s,w)}else w=h.get(s),w===void 0&&(w=new Set,h.set(s,w));w.has(u)||(w.add(u),i=Cq.bind(null,i,s,u),s.then(i,i))}function Xw(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function Yw(i,s,u,h,w){return i.mode&1?(i.flags|=65536,i.lanes=w,i):(i===s?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(s=Us(-1,1),s.tag=2,qo(u,s,1))),u.lanes|=1),i)}var mq=z.ReactCurrentOwner,Gn=!1;function Fn(i,s,u,h){s.child=i===null?_w(s,null,u,h):Rl(s,i.child,u,h)}function e0(i,s,u,h,w){u=u.render;var E=s.ref;return Tl(s,w),h=uy(i,s,u,h,E,w),u=cy(),i!==null&&!Gn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~w,zs(i,s,w)):(Br&&u&&Hm(s),s.flags|=1,Fn(i,s,h,w),s.child)}function t0(i,s,u,h,w){if(i===null){var E=u.type;return typeof E=="function"&&!By(E)&&E.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(s.tag=15,s.type=E,r0(i,s,E,h,w)):(i=Hf(u.type,null,h,s,s.mode,w),i.ref=s.ref,i.return=s,s.child=i)}if(E=i.child,!(i.lanes&w)){var F=E.memoizedProps;if(u=u.compare,u=u!==null?u:ec,u(F,h)&&i.ref===s.ref)return zs(i,s,w)}return s.flags|=1,i=Io(E,h),i.ref=s.ref,i.return=s,s.child=i}function r0(i,s,u,h,w){if(i!==null){var E=i.memoizedProps;if(ec(E,h)&&i.ref===s.ref)if(Gn=!1,s.pendingProps=h=E,(i.lanes&w)!==0)i.flags&131072&&(Gn=!0);else return s.lanes=i.lanes,zs(i,s,w)}return _y(i,s,u,h,w)}function n0(i,s,u){var h=s.pendingProps,w=h.children,E=i!==null?i.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ir(Fl,hi),hi|=u;else{if(!(u&0x40000000))return i=E!==null?E.baseLanes|u:u,s.lanes=s.childLanes=0x40000000,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,Ir(Fl,hi),hi|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=E!==null?E.baseLanes:u,Ir(Fl,hi),hi|=h}else E!==null?(h=E.baseLanes|u,s.memoizedState=null):h=u,Ir(Fl,hi),hi|=h;return Fn(i,s,w,u),s.child}function i0(i,s){var u=s.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(s.flags|=512,s.flags|=2097152)}function _y(i,s,u,h,w){var E=Kn(u)?qa:kn.current;return E=Nl(s,E),Tl(s,w),u=uy(i,s,u,h,E,w),h=cy(),i!==null&&!Gn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~w,zs(i,s,w)):(Br&&h&&Hm(s),s.flags|=1,Fn(i,s,u,w),s.child)}function s0(i,s,u,h,w){if(Kn(u)){var E=!0;gf(s)}else E=!1;if(Tl(s,w),s.stateNode===null)Ff(i,s),Qw(s,u,h),yy(s,u,h,w),h=!0;else if(i===null){var F=s.stateNode,ie=s.memoizedProps;F.props=ie;var de=F.context,Fe=u.contextType;typeof Fe=="object"&&Fe!==null?Fe=Pi(Fe):(Fe=Kn(u)?qa:kn.current,Fe=Nl(s,Fe));var tt=u.getDerivedStateFromProps,nt=typeof tt=="function"||typeof F.getSnapshotBeforeUpdate=="function";nt||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(ie!==h||de!==Fe)&&Kw(s,F,h,Fe),ko=!1;var Ye=s.memoizedState;F.state=Ye,kf(s,h,F,w),de=s.memoizedState,ie!==h||Ye!==de||Qn.current||ko?(typeof tt=="function"&&(my(s,u,tt,h),de=s.memoizedState),(ie=ko||Hw(s,u,ie,h,Ye,de,Fe))?(nt||typeof F.UNSAFE_componentWillMount!="function"&&typeof F.componentWillMount!="function"||(typeof F.componentWillMount=="function"&&F.componentWillMount(),typeof F.UNSAFE_componentWillMount=="function"&&F.UNSAFE_componentWillMount()),typeof F.componentDidMount=="function"&&(s.flags|=4194308)):(typeof F.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=de),F.props=h,F.state=de,F.context=Fe,h=ie):(typeof F.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{F=s.stateNode,ww(i,s),ie=s.memoizedProps,Fe=s.type===s.elementType?ie:Qi(s.type,ie),F.props=Fe,nt=s.pendingProps,Ye=F.context,de=u.contextType,typeof de=="object"&&de!==null?de=Pi(de):(de=Kn(u)?qa:kn.current,de=Nl(s,de));var Nt=u.getDerivedStateFromProps;(tt=typeof Nt=="function"||typeof F.getSnapshotBeforeUpdate=="function")||typeof F.UNSAFE_componentWillReceiveProps!="function"&&typeof F.componentWillReceiveProps!="function"||(ie!==nt||Ye!==de)&&Kw(s,F,h,de),ko=!1,Ye=s.memoizedState,F.state=Ye,kf(s,h,F,w);var At=s.memoizedState;ie!==nt||Ye!==At||Qn.current||ko?(typeof Nt=="function"&&(my(s,u,Nt,h),At=s.memoizedState),(Fe=ko||Hw(s,u,Fe,h,Ye,At,de)||!1)?(tt||typeof F.UNSAFE_componentWillUpdate!="function"&&typeof F.componentWillUpdate!="function"||(typeof F.componentWillUpdate=="function"&&F.componentWillUpdate(h,At,de),typeof F.UNSAFE_componentWillUpdate=="function"&&F.UNSAFE_componentWillUpdate(h,At,de)),typeof F.componentDidUpdate=="function"&&(s.flags|=4),typeof F.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof F.componentDidUpdate!="function"||ie===i.memoizedProps&&Ye===i.memoizedState||(s.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||ie===i.memoizedProps&&Ye===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=At),F.props=h,F.state=At,F.context=de,h=Fe):(typeof F.componentDidUpdate!="function"||ie===i.memoizedProps&&Ye===i.memoizedState||(s.flags|=4),typeof F.getSnapshotBeforeUpdate!="function"||ie===i.memoizedProps&&Ye===i.memoizedState||(s.flags|=1024),h=!1)}return by(i,s,u,h,E,w)}function by(i,s,u,h,w,E){i0(i,s);var F=(s.flags&128)!==0;if(!h&&!F)return w&&cw(s,u,!1),zs(i,s,E);h=s.stateNode,mq.current=s;var ie=F&&typeof u.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,i!==null&&F?(s.child=Rl(s,i.child,null,E),s.child=Rl(s,null,ie,E)):Fn(i,s,ie,E),s.memoizedState=h.state,w&&cw(s,u,!0),s.child}function o0(i){var s=i.stateNode;s.pendingContext?lw(i,s.pendingContext,s.pendingContext!==s.context):s.context&&lw(i,s.context,!1),ny(i,s.containerInfo)}function a0(i,s,u,h,w){return Cl(),Jm(w),s.flags|=256,Fn(i,s,u,h),s.child}var wy={dehydrated:null,treeContext:null,retryLane:0};function xy(i){return{baseLanes:i,cachePool:null,transitions:null}}function l0(i,s,u){var h=s.pendingProps,w=Kr.current,E=!1,F=(s.flags&128)!==0,ie;if((ie=F)||(ie=i!==null&&i.memoizedState===null?!1:(w&2)!==0),ie?(E=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(w|=1),Ir(Kr,w&1),i===null)return Gm(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?i.data==="$!"?s.lanes=8:s.lanes=0x40000000:s.lanes=1,null):(F=h.children,i=h.fallback,E?(h=s.mode,E=s.child,F={mode:"hidden",children:F},!(h&1)&&E!==null?(E.childLanes=0,E.pendingProps=F):E=Qf(F,h,0,null),i=ja(i,h,u,null),E.return=s,i.return=s,E.sibling=i,s.child=E,s.child.memoizedState=xy(u),s.memoizedState=wy,i):Sy(s,F));if(w=i.memoizedState,w!==null&&(ie=w.dehydrated,ie!==null))return yq(i,s,F,h,ie,w,u);if(E){E=h.fallback,F=s.mode,w=i.child,ie=w.sibling;var de={mode:"hidden",children:h.children};return!(F&1)&&s.child!==w?(h=s.child,h.childLanes=0,h.pendingProps=de,s.deletions=null):(h=Io(w,de),h.subtreeFlags=w.subtreeFlags&0xe00000),ie!==null?E=Io(ie,E):(E=ja(E,F,u,null),E.flags|=2),E.return=s,h.return=s,h.sibling=E,s.child=h,h=E,E=s.child,F=i.child.memoizedState,F=F===null?xy(u):{baseLanes:F.baseLanes|u,cachePool:null,transitions:F.transitions},E.memoizedState=F,E.childLanes=i.childLanes&~u,s.memoizedState=wy,h}return E=i.child,i=E.sibling,h=Io(E,{mode:"visible",children:h.children}),!(s.mode&1)&&(h.lanes=u),h.return=s,h.sibling=null,i!==null&&(u=s.deletions,u===null?(s.deletions=[i],s.flags|=16):u.push(i)),s.child=h,s.memoizedState=null,h}function Sy(i,s){return s=Qf({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function Pf(i,s,u,h){return h!==null&&Jm(h),Rl(s,i.child,null,u),i=Sy(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function yq(i,s,u,h,w,E,F){if(u)return s.flags&256?(s.flags&=-257,h=gy(Error(r(422))),Pf(i,s,F,h)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(E=h.fallback,w=s.mode,h=Qf({mode:"visible",children:h.children},w,0,null),E=ja(E,w,F,null),E.flags|=2,h.return=s,E.return=s,h.sibling=E,s.child=h,s.mode&1&&Rl(s,i.child,null,F),s.child.memoizedState=xy(F),s.memoizedState=wy,E);if(!(s.mode&1))return Pf(i,s,F,null);if(w.data==="$!"){if(h=w.nextSibling&&w.nextSibling.dataset,h)var ie=h.dgst;return h=ie,E=Error(r(419)),h=gy(E,h,void 0),Pf(i,s,F,h)}if(ie=(F&i.childLanes)!==0,Gn||ie){if(h=pn,h!==null){switch(F&-F){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:w=32;break;case 0x20000000:w=0x10000000;break;default:w=0}w=w&(h.suspendedLanes|F)?0:w,w!==0&&w!==E.retryLane&&(E.retryLane=w,$s(i,w),Ji(h,i,w,-1))}return My(),h=gy(Error(r(421))),Pf(i,s,F,h)}return w.data==="$?"?(s.flags|=128,s.child=i.child,s=Rq.bind(null,i),w._reactRetry=s,null):(i=E.treeContext,fi=xo(w.nextSibling),di=s,Br=!0,Hi=null,i!==null&&(Ai[Ii++]=Bs,Ai[Ii++]=Ws,Ai[Ii++]=Ca,Bs=i.id,Ws=i.overflow,Ca=s),s=Sy(s,h.children),s.flags|=4096,s)}function u0(i,s,u){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),ey(i.return,s,u)}function Ey(i,s,u,h,w){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:w}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=h,E.tail=u,E.tailMode=w)}function c0(i,s,u){var h=s.pendingProps,w=h.revealOrder,E=h.tail;if(Fn(i,s,h.children,u),h=Kr.current,h&2)h=h&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&u0(i,u,s);else if(i.tag===19)u0(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(Ir(Kr,h),!(s.mode&1))s.memoizedState=null;else switch(w){case"forwards":for(u=s.child,w=null;u!==null;)i=u.alternate,i!==null&&qf(i)===null&&(w=u),u=u.sibling;u=w,u===null?(w=s.child,s.child=null):(w=u.sibling,u.sibling=null),Ey(s,!1,w,u,E);break;case"backwards":for(u=null,w=s.child,s.child=null;w!==null;){if(i=w.alternate,i!==null&&qf(i)===null){s.child=w;break}i=w.sibling,w.sibling=u,u=w,w=i}Ey(s,!0,u,null,E);break;case"together":Ey(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ff(i,s){!(s.mode&1)&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function zs(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),Ia|=s.lanes,!(u&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,u=Io(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=Io(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function gq(i,s,u){switch(s.tag){case 3:o0(s),Cl();break;case 5:Ew(s);break;case 1:Kn(s.type)&&gf(s);break;case 4:ny(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,w=s.memoizedProps.value;Ir(Sf,h._currentValue),h._currentValue=w;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Ir(Kr,Kr.current&1),s.flags|=128,null):u&s.child.childLanes?l0(i,s,u):(Ir(Kr,Kr.current&1),i=zs(i,s,u),i!==null?i.sibling:null);Ir(Kr,Kr.current&1);break;case 19:if(h=(u&s.childLanes)!==0,i.flags&128){if(h)return c0(i,s,u);s.flags|=128}if(w=s.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),Ir(Kr,Kr.current),h)break;return null;case 22:case 23:return s.lanes=0,n0(i,s,u)}return zs(i,s,u)}var d0,Ny,f0,h0;d0=function(i,s){for(var u=s.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Ny=function(){},f0=function(i,s,u,h){var w=i.memoizedProps;if(w!==h){i=s.stateNode,Ta(ps.current);var E=null;switch(u){case"input":w=Jt(i,w),h=Jt(i,h),E=[];break;case"select":w=Ee({},w,{value:void 0}),h=Ee({},h,{value:void 0}),E=[];break;case"textarea":w=je(i,w),h=je(i,h),E=[];break;default:typeof w.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=pf)}vo(u,h);var F;u=null;for(Fe in w)if(!h.hasOwnProperty(Fe)&&w.hasOwnProperty(Fe)&&w[Fe]!=null)if(Fe==="style"){var ie=w[Fe];for(F in ie)ie.hasOwnProperty(F)&&(u||(u={}),u[F]="")}else Fe!=="dangerouslySetInnerHTML"&&Fe!=="children"&&Fe!=="suppressContentEditableWarning"&&Fe!=="suppressHydrationWarning"&&Fe!=="autoFocus"&&(o.hasOwnProperty(Fe)?E||(E=[]):(E=E||[]).push(Fe,null));for(Fe in h){var de=h[Fe];if(ie=w?.[Fe],h.hasOwnProperty(Fe)&&de!==ie&&(de!=null||ie!=null))if(Fe==="style")if(ie){for(F in ie)!ie.hasOwnProperty(F)||de&&de.hasOwnProperty(F)||(u||(u={}),u[F]="");for(F in de)de.hasOwnProperty(F)&&ie[F]!==de[F]&&(u||(u={}),u[F]=de[F])}else u||(E||(E=[]),E.push(Fe,u)),u=de;else Fe==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,ie=ie?ie.__html:void 0,de!=null&&ie!==de&&(E=E||[]).push(Fe,de)):Fe==="children"?typeof de!="string"&&typeof de!="number"||(E=E||[]).push(Fe,""+de):Fe!=="suppressContentEditableWarning"&&Fe!=="suppressHydrationWarning"&&(o.hasOwnProperty(Fe)?(de!=null&&Fe==="onScroll"&&jr("scroll",i),E||ie===de||(E=[])):(E=E||[]).push(Fe,de))}u&&(E=E||[]).push("style",u);var Fe=E;(s.updateQueue=Fe)&&(s.flags|=4)}},h0=function(i,s,u,h){u!==h&&(s.flags|=4)};function mc(i,s){if(!Br)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Cn(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,h=0;if(s)for(var w=i.child;w!==null;)u|=w.lanes|w.childLanes,h|=w.subtreeFlags&0xe00000,h|=w.flags&0xe00000,w.return=i,w=w.sibling;else for(w=i.child;w!==null;)u|=w.lanes|w.childLanes,h|=w.subtreeFlags,h|=w.flags,w.return=i,w=w.sibling;return i.subtreeFlags|=h,i.childLanes=u,s}function vq(i,s,u){var h=s.pendingProps;switch(Qm(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cn(s),null;case 1:return Kn(s.type)&&yf(),Cn(s),null;case 3:return h=s.stateNode,Al(),Dr(Qn),Dr(kn),oy(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(wf(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Hi!==null&&(Ly(Hi),Hi=null))),Ny(i,s),Cn(s),null;case 5:iy(s);var w=Ta(cc.current);if(u=s.type,i!==null&&s.stateNode!=null)f0(i,s,u,h,w),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(r(166));return Cn(s),null}if(i=Ta(ps.current),wf(s)){h=s.stateNode,u=s.type;var E=s.memoizedProps;switch(h[hs]=s,h[sc]=E,i=(s.mode&1)!==0,u){case"dialog":jr("cancel",h),jr("close",h);break;case"iframe":case"object":case"embed":jr("load",h);break;case"video":case"audio":for(w=0;w<rc.length;w++)jr(rc[w],h);break;case"source":jr("error",h);break;case"img":case"image":case"link":jr("error",h),jr("load",h);break;case"details":jr("toggle",h);break;case"input":Gt(h,E),jr("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!E.multiple},jr("invalid",h);break;case"textarea":Ge(h,E),jr("invalid",h)}vo(u,E),w=null;for(var F in E)if(E.hasOwnProperty(F)){var ie=E[F];F==="children"?typeof ie=="string"?h.textContent!==ie&&(E.suppressHydrationWarning!==!0&&hf(h.textContent,ie,i),w=["children",ie]):typeof ie=="number"&&h.textContent!==""+ie&&(E.suppressHydrationWarning!==!0&&hf(h.textContent,ie,i),w=["children",""+ie]):o.hasOwnProperty(F)&&ie!=null&&F==="onScroll"&&jr("scroll",h)}switch(u){case"input":yt(h),se(h,E,!0);break;case"textarea":yt(h),Mt(h);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(h.onclick=pf)}h=w,s.updateQueue=h,h!==null&&(s.flags|=4)}else{F=w.nodeType===9?w:w.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=mr(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=F.createElement("div"),i.innerHTML="<script></script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=F.createElement(u,{is:h.is}):(i=F.createElement(u),u==="select"&&(F=i,h.multiple?F.multiple=!0:h.size&&(F.size=h.size))):i=F.createElementNS(i,u),i[hs]=s,i[sc]=h,d0(i,s,!1,!1),s.stateNode=i;e:{switch(F=_o(u,h),u){case"dialog":jr("cancel",i),jr("close",i),w=h;break;case"iframe":case"object":case"embed":jr("load",i),w=h;break;case"video":case"audio":for(w=0;w<rc.length;w++)jr(rc[w],i);w=h;break;case"source":jr("error",i),w=h;break;case"img":case"image":case"link":jr("error",i),jr("load",i),w=h;break;case"details":jr("toggle",i),w=h;break;case"input":Gt(i,h),w=Jt(i,h),jr("invalid",i);break;case"option":w=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},w=Ee({},h,{value:void 0}),jr("invalid",i);break;case"textarea":Ge(i,h),w=je(i,h),jr("invalid",i);break;default:w=h}vo(u,w),ie=w;for(E in ie)if(ie.hasOwnProperty(E)){var de=ie[E];E==="style"?zt(i,de):E==="dangerouslySetInnerHTML"?(de=de?de.__html:void 0,de!=null&&Pn(i,de)):E==="children"?typeof de=="string"?(u!=="textarea"||de!=="")&&Xr(i,de):typeof de=="number"&&Xr(i,""+de):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(o.hasOwnProperty(E)?de!=null&&E==="onScroll"&&jr("scroll",i):de!=null&&D(i,E,de,F))}switch(u){case"input":yt(i),se(i,h,!1);break;case"textarea":yt(i),Mt(i);break;case"option":h.value!=null&&i.setAttribute("value",""+gt(h.value));break;case"select":i.multiple=!!h.multiple,E=h.value,E!=null?Oe(i,!!h.multiple,E,!1):h.defaultValue!=null&&Oe(i,!!h.multiple,h.defaultValue,!0);break;default:typeof w.onClick=="function"&&(i.onclick=pf)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Cn(s),null;case 6:if(i&&s.stateNode!=null)h0(i,s,i.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(u=Ta(cc.current),Ta(ps.current),wf(s)){if(h=s.stateNode,u=s.memoizedProps,h[hs]=s,(E=h.nodeValue!==u)&&(i=di,i!==null))switch(i.tag){case 3:hf(h.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&hf(h.nodeValue,u,(i.mode&1)!==0)}E&&(s.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[hs]=s,s.stateNode=h}return Cn(s),null;case 13:if(Dr(Kr),h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Br&&fi!==null&&s.mode&1&&!(s.flags&128))yw(),Cl(),s.flags|=98560,E=!1;else if(E=wf(s),h!==null&&h.dehydrated!==null){if(i===null){if(!E)throw Error(r(318));if(E=s.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[hs]=s}else Cl(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Cn(s),E=!1}else Hi!==null&&(Ly(Hi),Hi=null),E=!0;if(!E)return s.flags&65536?s:null}return s.flags&128?(s.lanes=u,s):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(s.child.flags|=8192,s.mode&1&&(i===null||Kr.current&1?cn===0&&(cn=3):My())),s.updateQueue!==null&&(s.flags|=4),Cn(s),null);case 4:return Al(),Ny(i,s),i===null&&nc(s.stateNode.containerInfo),Cn(s),null;case 10:return Ym(s.type._context),Cn(s),null;case 17:return Kn(s.type)&&yf(),Cn(s),null;case 19:if(Dr(Kr),E=s.memoizedState,E===null)return Cn(s),null;if(h=(s.flags&128)!==0,F=E.rendering,F===null)if(h)mc(E,!1);else{if(cn!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(F=qf(i),F!==null){for(s.flags|=128,mc(E,!1),h=F.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=u,u=s.child;u!==null;)E=u,i=h,E.flags&=0xe00002,F=E.alternate,F===null?(E.childLanes=0,E.lanes=i,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=F.childLanes,E.lanes=F.lanes,E.child=F.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=F.memoizedProps,E.memoizedState=F.memoizedState,E.updateQueue=F.updateQueue,E.type=F.type,i=F.dependencies,E.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Ir(Kr,Kr.current&1|2),s.child}i=i.sibling}E.tail!==null&&Hr()>Ll&&(s.flags|=128,h=!0,mc(E,!1),s.lanes=4194304)}else{if(!h)if(i=qf(F),i!==null){if(s.flags|=128,h=!0,u=i.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),mc(E,!0),E.tail===null&&E.tailMode==="hidden"&&!F.alternate&&!Br)return Cn(s),null}else 2*Hr()-E.renderingStartTime>Ll&&u!==0x40000000&&(s.flags|=128,h=!0,mc(E,!1),s.lanes=4194304);E.isBackwards?(F.sibling=s.child,s.child=F):(u=E.last,u!==null?u.sibling=F:s.child=F,E.last=F)}return E.tail!==null?(s=E.tail,E.rendering=s,E.tail=s.sibling,E.renderingStartTime=Hr(),s.sibling=null,u=Kr.current,Ir(Kr,h?u&1|2:u&1),s):(Cn(s),null);case 22:case 23:return Dy(),h=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?hi&0x40000000&&(Cn(s),s.subtreeFlags&6&&(s.flags|=8192)):Cn(s),null;case 24:return null;case 25:return null}throw Error(r(156,s.tag))}function _q(i,s){switch(Qm(s),s.tag){case 1:return Kn(s.type)&&yf(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Al(),Dr(Qn),Dr(kn),oy(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return iy(s),null;case 13:if(Dr(Kr),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Cl()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return Dr(Kr),null;case 4:return Al(),null;case 10:return Ym(s.type._context),null;case 22:case 23:return Dy(),null;case 24:return null;default:return null}}var Lf=!1,Rn=!1,bq=typeof WeakSet=="function"?WeakSet:Set,Tt=null;function Pl(i,s){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){Yr(i,s,h)}else u.current=null}function ky(i,s,u){try{u()}catch(h){Yr(i,s,h)}}var p0=!1;function wq(i,s){if(Dm=Be,i=Hb(),Om(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var w=h.anchorOffset,E=h.focusNode;h=h.focusOffset;try{u.nodeType,E.nodeType}catch{u=null;break e}var F=0,ie=-1,de=-1,Fe=0,tt=0,nt=i,Ye=null;t:for(;;){for(var Nt;nt!==u||w!==0&&nt.nodeType!==3||(ie=F+w),nt!==E||h!==0&&nt.nodeType!==3||(de=F+h),nt.nodeType===3&&(F+=nt.nodeValue.length),(Nt=nt.firstChild)!==null;)Ye=nt,nt=Nt;for(;;){if(nt===i)break t;if(Ye===u&&++Fe===w&&(ie=F),Ye===E&&++tt===h&&(de=F),(Nt=nt.nextSibling)!==null)break;nt=Ye,Ye=nt.parentNode}nt=Nt}u=ie===-1||de===-1?null:{start:ie,end:de}}else u=null}u=u||{start:0,end:0}}else u=null;for(Mm={focusedElem:i,selectionRange:u},Be=!1,Tt=s;Tt!==null;)if(s=Tt,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Tt=i;else for(;Tt!==null;){s=Tt;try{var At=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(At!==null){var Lt=At.memoizedProps,en=At.memoizedState,ke=s.stateNode,ge=ke.getSnapshotBeforeUpdate(s.elementType===s.type?Lt:Qi(s.type,Lt),en);ke.__reactInternalSnapshotBeforeUpdate=ge}break;case 3:var Te=s.stateNode.containerInfo;Te.nodeType===1?Te.textContent="":Te.nodeType===9&&Te.documentElement&&Te.removeChild(Te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ot){Yr(s,s.return,ot)}if(i=s.sibling,i!==null){i.return=s.return,Tt=i;break}Tt=s.return}return At=p0,p0=!1,At}function yc(i,s,u){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var w=h=h.next;do{if((w.tag&i)===i){var E=w.destroy;w.destroy=void 0,E!==void 0&&ky(s,u,E)}w=w.next}while(w!==h)}}function jf(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&i)===i){var h=u.create;u.destroy=h()}u=u.next}while(u!==s)}}function qy(i){var s=i.ref;if(s!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof s=="function"?s(i):s.current=i}}function m0(i){var s=i.alternate;s!==null&&(i.alternate=null,m0(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[hs],delete s[sc],delete s[Um],delete s[nq],delete s[iq])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function y0(i){return i.tag===5||i.tag===3||i.tag===4}function g0(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||y0(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Cy(i,s,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?u.nodeType===8?u.parentNode.insertBefore(i,s):u.insertBefore(i,s):(u.nodeType===8?(s=u.parentNode,s.insertBefore(i,u)):(s=u,s.appendChild(i)),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=pf));else if(h!==4&&(i=i.child,i!==null))for(Cy(i,s,u),i=i.sibling;i!==null;)Cy(i,s,u),i=i.sibling}function Ry(i,s,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?u.insertBefore(i,s):u.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(Ry(i,s,u),i=i.sibling;i!==null;)Ry(i,s,u),i=i.sibling}var _n=null,Ki=!1;function Co(i,s,u){for(u=u.child;u!==null;)v0(i,s,u),u=u.sibling}function v0(i,s,u){if(Oi&&typeof Oi.onCommitFiberUnmount=="function")try{Oi.onCommitFiberUnmount(ml,u)}catch{}switch(u.tag){case 5:Rn||Pl(u,s);case 6:var h=_n,w=Ki;_n=null,Co(i,s,u),_n=h,Ki=w,_n!==null&&(Ki?(i=_n,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):_n.removeChild(u.stateNode));break;case 18:_n!==null&&(Ki?(i=_n,u=u.stateNode,i.nodeType===8?$m(i.parentNode,u):i.nodeType===1&&$m(i,u),_e(i)):$m(_n,u.stateNode));break;case 4:h=_n,w=Ki,_n=u.stateNode.containerInfo,Ki=!0,Co(i,s,u),_n=h,Ki=w;break;case 0:case 11:case 14:case 15:if(!Rn&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){w=h=h.next;do{var E=w,F=E.destroy;E=E.tag,F!==void 0&&(E&2||E&4)&&ky(u,s,F),w=w.next}while(w!==h)}Co(i,s,u);break;case 1:if(!Rn&&(Pl(u,s),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(ie){Yr(u,s,ie)}Co(i,s,u);break;case 21:Co(i,s,u);break;case 22:u.mode&1?(Rn=(h=Rn)||u.memoizedState!==null,Co(i,s,u),Rn=h):Co(i,s,u);break;default:Co(i,s,u)}}function _0(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new bq),s.forEach(function(h){var w=Oq.bind(null,i,h);u.has(h)||(u.add(h),h.then(w,w))})}}function Gi(i,s){var u=s.deletions;if(u!==null)for(var h=0;h<u.length;h++){var w=u[h];try{var E=i,F=s,ie=F;e:for(;ie!==null;){switch(ie.tag){case 5:_n=ie.stateNode,Ki=!1;break e;case 3:_n=ie.stateNode.containerInfo,Ki=!0;break e;case 4:_n=ie.stateNode.containerInfo,Ki=!0;break e}ie=ie.return}if(_n===null)throw Error(r(160));v0(E,F,w),_n=null,Ki=!1;var de=w.alternate;de!==null&&(de.return=null),w.return=null}catch(Fe){Yr(w,s,Fe)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)b0(s,i),s=s.sibling}function b0(i,s){var u=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Gi(s,i),ys(i),h&4){try{yc(3,i,i.return),jf(3,i)}catch(Lt){Yr(i,i.return,Lt)}try{yc(5,i,i.return)}catch(Lt){Yr(i,i.return,Lt)}}break;case 1:Gi(s,i),ys(i),h&512&&u!==null&&Pl(u,u.return);break;case 5:if(Gi(s,i),ys(i),h&512&&u!==null&&Pl(u,u.return),i.flags&32){var w=i.stateNode;try{Xr(w,"")}catch(Lt){Yr(i,i.return,Lt)}}if(h&4&&(w=i.stateNode,w!=null)){var E=i.memoizedProps,F=u!==null?u.memoizedProps:E,ie=i.type,de=i.updateQueue;if(i.updateQueue=null,de!==null)try{ie==="input"&&E.type==="radio"&&E.name!=null&&er(w,E),_o(ie,F);var Fe=_o(ie,E);for(F=0;F<de.length;F+=2){var tt=de[F],nt=de[F+1];tt==="style"?zt(w,nt):tt==="dangerouslySetInnerHTML"?Pn(w,nt):tt==="children"?Xr(w,nt):D(w,tt,nt,Fe)}switch(ie){case"input":ur(w,E);break;case"textarea":_t(w,E);break;case"select":var Ye=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!E.multiple;var Nt=E.value;Nt!=null?Oe(w,!!E.multiple,Nt,!1):Ye!==!!E.multiple&&(E.defaultValue!=null?Oe(w,!!E.multiple,E.defaultValue,!0):Oe(w,!!E.multiple,E.multiple?[]:"",!1))}w[sc]=E}catch(Lt){Yr(i,i.return,Lt)}}break;case 6:if(Gi(s,i),ys(i),h&4){if(i.stateNode===null)throw Error(r(162));w=i.stateNode,E=i.memoizedProps;try{w.nodeValue=E}catch(Lt){Yr(i,i.return,Lt)}}break;case 3:if(Gi(s,i),ys(i),h&4&&u!==null&&u.memoizedState.isDehydrated)try{_e(s.containerInfo)}catch(Lt){Yr(i,i.return,Lt)}break;case 4:Gi(s,i),ys(i);break;case 13:Gi(s,i),ys(i),w=i.child,w.flags&8192&&(E=w.memoizedState!==null,w.stateNode.isHidden=E,!E||w.alternate!==null&&w.alternate.memoizedState!==null||(Ay=Hr())),h&4&&_0(i);break;case 22:if(tt=u!==null&&u.memoizedState!==null,i.mode&1?(Rn=(Fe=Rn)||tt,Gi(s,i),Rn=Fe):Gi(s,i),ys(i),h&8192){if(Fe=i.memoizedState!==null,(i.stateNode.isHidden=Fe)&&!tt&&i.mode&1)for(Tt=i,tt=i.child;tt!==null;){for(nt=Tt=tt;Tt!==null;){switch(Ye=Tt,Nt=Ye.child,Ye.tag){case 0:case 11:case 14:case 15:yc(4,Ye,Ye.return);break;case 1:Pl(Ye,Ye.return);var At=Ye.stateNode;if(typeof At.componentWillUnmount=="function"){h=Ye,u=Ye.return;try{s=h,At.props=s.memoizedProps,At.state=s.memoizedState,At.componentWillUnmount()}catch(Lt){Yr(h,u,Lt)}}break;case 5:Pl(Ye,Ye.return);break;case 22:if(Ye.memoizedState!==null){S0(nt);continue}}Nt!==null?(Nt.return=Ye,Tt=Nt):S0(nt)}tt=tt.sibling}e:for(tt=null,nt=i;;){if(nt.tag===5){if(tt===null){tt=nt;try{w=nt.stateNode,Fe?(E=w.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(ie=nt.stateNode,de=nt.memoizedProps.style,F=de!=null&&de.hasOwnProperty("display")?de.display:null,ie.style.display=gn("display",F))}catch(Lt){Yr(i,i.return,Lt)}}}else if(nt.tag===6){if(tt===null)try{nt.stateNode.nodeValue=Fe?"":nt.memoizedProps}catch(Lt){Yr(i,i.return,Lt)}}else if((nt.tag!==22&&nt.tag!==23||nt.memoizedState===null||nt===i)&&nt.child!==null){nt.child.return=nt,nt=nt.child;continue}if(nt===i)break e;for(;nt.sibling===null;){if(nt.return===null||nt.return===i)break e;tt===nt&&(tt=null),nt=nt.return}tt===nt&&(tt=null),nt.sibling.return=nt.return,nt=nt.sibling}}break;case 19:Gi(s,i),ys(i),h&4&&_0(i);break;case 21:break;default:Gi(s,i),ys(i)}}function ys(i){var s=i.flags;if(s&2){try{e:{for(var u=i.return;u!==null;){if(y0(u)){var h=u;break e}u=u.return}throw Error(r(160))}switch(h.tag){case 5:var w=h.stateNode;h.flags&32&&(Xr(w,""),h.flags&=-33);var E=g0(i);Ry(i,E,w);break;case 3:case 4:var F=h.stateNode.containerInfo,ie=g0(i);Cy(i,ie,F);break;default:throw Error(r(161))}}catch(de){Yr(i,i.return,de)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function xq(i,s,u){Tt=i,w0(i)}function w0(i,s,u){for(var h=(i.mode&1)!==0;Tt!==null;){var w=Tt,E=w.child;if(w.tag===22&&h){var F=w.memoizedState!==null||Lf;if(!F){var ie=w.alternate,de=ie!==null&&ie.memoizedState!==null||Rn;ie=Lf;var Fe=Rn;if(Lf=F,(Rn=de)&&!Fe)for(Tt=w;Tt!==null;)F=Tt,de=F.child,F.tag===22&&F.memoizedState!==null?E0(w):de!==null?(de.return=F,Tt=de):E0(w);for(;E!==null;)Tt=E,w0(E),E=E.sibling;Tt=w,Lf=ie,Rn=Fe}x0(i)}else w.subtreeFlags&8772&&E!==null?(E.return=w,Tt=E):x0(i)}}function x0(i){for(;Tt!==null;){var s=Tt;if(s.flags&8772){var u=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Rn||jf(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Rn)if(u===null)h.componentDidMount();else{var w=s.elementType===s.type?u.memoizedProps:Qi(s.type,u.memoizedProps);h.componentDidUpdate(w,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var E=s.updateQueue;E!==null&&Sw(s,E,h);break;case 3:var F=s.updateQueue;if(F!==null){if(u=null,s.child!==null)switch(s.child.tag){case 5:u=s.child.stateNode;break;case 1:u=s.child.stateNode}Sw(s,F,u)}break;case 5:var ie=s.stateNode;if(u===null&&s.flags&4){u=ie;var de=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":de.autoFocus&&u.focus();break;case"img":de.src&&(u.src=de.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Fe=s.alternate;if(Fe!==null){var tt=Fe.memoizedState;if(tt!==null){var nt=tt.dehydrated;nt!==null&&_e(nt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Rn||s.flags&512&&qy(s)}catch(Ye){Yr(s,s.return,Ye)}}if(s===i){Tt=null;break}if(u=s.sibling,u!==null){u.return=s.return,Tt=u;break}Tt=s.return}}function S0(i){for(;Tt!==null;){var s=Tt;if(s===i){Tt=null;break}var u=s.sibling;if(u!==null){u.return=s.return,Tt=u;break}Tt=s.return}}function E0(i){for(;Tt!==null;){var s=Tt;try{switch(s.tag){case 0:case 11:case 15:var u=s.return;try{jf(4,s)}catch(de){Yr(s,u,de)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var w=s.return;try{h.componentDidMount()}catch(de){Yr(s,w,de)}}var E=s.return;try{qy(s)}catch(de){Yr(s,E,de)}break;case 5:var F=s.return;try{qy(s)}catch(de){Yr(s,F,de)}}}catch(de){Yr(s,s.return,de)}if(s===i){Tt=null;break}var ie=s.sibling;if(ie!==null){ie.return=s.return,Tt=ie;break}Tt=s.return}}var Sq=Math.ceil,Df=z.ReactCurrentDispatcher,Oy=z.ReactCurrentOwner,Li=z.ReactCurrentBatchConfig,fr=0,pn=null,on=null,bn=0,hi=0,Fl=So(0),cn=0,gc=null,Ia=0,Mf=0,Ty=0,vc=null,Jn=null,Ay=0,Ll=1/0,Vs=null,Bf=!1,Iy=null,Ro=null,Wf=!1,Oo=null,$f=0,_c=0,Py=null,Uf=-1,zf=0;function Ln(){return fr&6?Hr():Uf!==-1?Uf:Uf=Hr()}function To(i){return i.mode&1?fr&2&&bn!==0?bn&-bn:oq.transition!==null?(zf===0&&(zf=sf()),zf):(i=yr,i!==0||(i=window.event,i=i===void 0?16:fe(i.type)),i):1}function Ji(i,s,u,h){if(50<_c)throw _c=0,Py=null,Error(r(185));Ea(i,u,h),(!(fr&2)||i!==pn)&&(i===pn&&(!(fr&2)&&(Mf|=u),cn===4&&Ao(i,bn)),Zn(i,h),u===1&&fr===0&&!(s.mode&1)&&(Ll=Hr()+500,vf&&No()))}function Zn(i,s){var u=i.callbackNode;xm(i,s);var h=gl(i,i===pn?bn:0);if(h===0)u!==null&&$u(u),i.callbackNode=null,i.callbackPriority=0;else if(s=h&-h,i.callbackPriority!==s){if(u!=null&&$u(u),s===1)i.tag===0?sq(k0.bind(null,i)):dw(k0.bind(null,i)),tq(function(){!(fr&6)&&No()}),u=null;else{switch(of(h)){case 1:u=Uu;break;case 4:u=rf;break;case 16:u=pl;break;case 0x20000000:u=nf;break;default:u=pl}u=P0(u,N0.bind(null,i))}i.callbackPriority=s,i.callbackNode=u}}function N0(i,s){if(Uf=-1,zf=0,fr&6)throw Error(r(327));var u=i.callbackNode;if(jl()&&i.callbackNode!==u)return null;var h=gl(i,i===pn?bn:0);if(h===0)return null;if(h&30||h&i.expiredLanes||s)s=Vf(i,h);else{s=h;var w=fr;fr|=2;var E=C0();(pn!==i||bn!==s)&&(Vs=null,Ll=Hr()+500,Fa(i,s));do try{kq();break}catch(ie){q0(i,ie)}while(!0);Xm(),Df.current=E,fr=w,on!==null?s=0:(pn=null,bn=0,s=cn)}if(s!==0){if(s===2&&(w=zu(i),w!==0&&(h=w,s=Fy(i,w))),s===1)throw u=gc,Fa(i,0),Ao(i,h),Zn(i,Hr()),u;if(s===6)Ao(i,h);else{if(w=i.current.alternate,!(h&30)&&!Eq(w)&&(s=Vf(i,h),s===2&&(E=zu(i),E!==0&&(h=E,s=Fy(i,E))),s===1))throw u=gc,Fa(i,0),Ao(i,h),Zn(i,Hr()),u;switch(i.finishedWork=w,i.finishedLanes=h,s){case 0:case 1:throw Error(r(345));case 2:La(i,Jn,Vs);break;case 3:if(Ao(i,h),(h&0x7c00000)===h&&(s=Ay+500-Hr(),10<s)){if(gl(i,0)!==0)break;if(w=i.suspendedLanes,(w&h)!==h){Ln(),i.pingedLanes|=i.suspendedLanes&w;break}i.timeoutHandle=Wm(La.bind(null,i,Jn,Vs),s);break}La(i,Jn,Vs);break;case 4:if(Ao(i,h),(h&4194240)===h)break;for(s=i.eventTimes,w=-1;0<h;){var F=31-Hn(h);E=1<<F,F=s[F],F>w&&(w=F),h&=~E}if(h=w,h=Hr()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*Sq(h/1960))-h,10<h){i.timeoutHandle=Wm(La.bind(null,i,Jn,Vs),h);break}La(i,Jn,Vs);break;case 5:La(i,Jn,Vs);break;default:throw Error(r(329))}}}return Zn(i,Hr()),i.callbackNode===u?N0.bind(null,i):null}function Fy(i,s){var u=vc;return i.current.memoizedState.isDehydrated&&(Fa(i,s).flags|=256),i=Vf(i,s),i!==2&&(s=Jn,Jn=u,s!==null&&Ly(s)),i}function Ly(i){Jn===null?Jn=i:Jn.push.apply(Jn,i)}function Eq(i){for(var s=i;;){if(s.flags&16384){var u=s.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var w=u[h],E=w.getSnapshot;w=w.value;try{if(!Vi(E(),w))return!1}catch{return!1}}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ao(i,s){for(s&=~Ty,s&=~Mf,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var u=31-Hn(s),h=1<<u;i[u]=-1,s&=~h}}function k0(i){if(fr&6)throw Error(r(327));jl();var s=gl(i,0);if(!(s&1))return Zn(i,Hr()),null;var u=Vf(i,s);if(i.tag!==0&&u===2){var h=zu(i);h!==0&&(s=h,u=Fy(i,h))}if(u===1)throw u=gc,Fa(i,0),Ao(i,s),Zn(i,Hr()),u;if(u===6)throw Error(r(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,La(i,Jn,Vs),Zn(i,Hr()),null}function jy(i,s){var u=fr;fr|=1;try{return i(s)}finally{fr=u,fr===0&&(Ll=Hr()+500,vf&&No())}}function Pa(i){Oo!==null&&Oo.tag===0&&!(fr&6)&&jl();var s=fr;fr|=1;var u=Li.transition,h=yr;try{if(Li.transition=null,yr=1,i)return i()}finally{yr=h,Li.transition=u,fr=s,!(fr&6)&&No()}}function Dy(){hi=Fl.current,Dr(Fl)}function Fa(i,s){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,eq(u)),on!==null)for(u=on.return;u!==null;){var h=u;switch(Qm(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&yf();break;case 3:Al(),Dr(Qn),Dr(kn),oy();break;case 5:iy(h);break;case 4:Al();break;case 13:Dr(Kr);break;case 19:Dr(Kr);break;case 10:Ym(h.type._context);break;case 22:case 23:Dy()}u=u.return}if(pn=i,on=i=Io(i.current,null),bn=hi=s,cn=0,gc=null,Ty=Mf=Ia=0,Jn=vc=null,Oa!==null){for(s=0;s<Oa.length;s++)if(u=Oa[s],h=u.interleaved,h!==null){u.interleaved=null;var w=h.next,E=u.pending;if(E!==null){var F=E.next;E.next=w,h.next=F}u.pending=h}Oa=null}return i}function q0(i,s){do{var u=on;try{if(Xm(),Cf.current=Af,Rf){for(var h=Gr.memoizedState;h!==null;){var w=h.queue;w!==null&&(w.pending=null),h=h.next}Rf=!1}if(Aa=0,hn=un=Gr=null,dc=!1,fc=0,Oy.current=null,u===null||u.return===null){cn=1,gc=s,on=null;break}e:{var E=i,F=u.return,ie=u,de=s;if(s=bn,ie.flags|=32768,de!==null&&typeof de=="object"&&typeof de.then=="function"){var Fe=de,tt=ie,nt=tt.tag;if(!(tt.mode&1)&&(nt===0||nt===11||nt===15)){var Ye=tt.alternate;Ye?(tt.updateQueue=Ye.updateQueue,tt.memoizedState=Ye.memoizedState,tt.lanes=Ye.lanes):(tt.updateQueue=null,tt.memoizedState=null)}var Nt=Xw(F);if(Nt!==null){Nt.flags&=-257,Yw(Nt,F,ie,E,s),Nt.mode&1&&Zw(E,Fe,s),s=Nt,de=Fe;var At=s.updateQueue;if(At===null){var Lt=new Set;Lt.add(de),s.updateQueue=Lt}else At.add(de);break e}else{if(!(s&1)){Zw(E,Fe,s),My();break e}de=Error(r(426))}}else if(Br&&ie.mode&1){var en=Xw(F);if(en!==null){!(en.flags&65536)&&(en.flags|=256),Yw(en,F,ie,E,s),Jm(Il(de,ie));break e}}E=de=Il(de,ie),cn!==4&&(cn=2),vc===null?vc=[E]:vc.push(E),E=F;do{switch(E.tag){case 3:E.flags|=65536,s&=-s,E.lanes|=s;var ke=Gw(E,de,s);xw(E,ke);break e;case 1:ie=de;var ge=E.type,Te=E.stateNode;if(!(E.flags&128)&&(typeof ge.getDerivedStateFromError=="function"||Te!==null&&typeof Te.componentDidCatch=="function"&&(Ro===null||!Ro.has(Te)))){E.flags|=65536,s&=-s,E.lanes|=s;var ot=Jw(E,ie,s);xw(E,ot);break e}}E=E.return}while(E!==null)}O0(u)}catch(jt){s=jt,on===u&&u!==null&&(on=u=u.return);continue}break}while(!0)}function C0(){var i=Df.current;return Df.current=Af,i===null?Af:i}function My(){(cn===0||cn===3||cn===2)&&(cn=4),pn===null||!(Ia&0xfffffff)&&!(Mf&0xfffffff)||Ao(pn,bn)}function Vf(i,s){var u=fr;fr|=2;var h=C0();(pn!==i||bn!==s)&&(Vs=null,Fa(i,s));do try{Nq();break}catch(w){q0(i,w)}while(!0);if(Xm(),fr=u,Df.current=h,on!==null)throw Error(r(261));return pn=null,bn=0,cn}function Nq(){for(;on!==null;)R0(on)}function kq(){for(;on!==null&&!hm();)R0(on)}function R0(i){var s=I0(i.alternate,i,hi);i.memoizedProps=i.pendingProps,s===null?O0(i):on=s,Oy.current=null}function O0(i){var s=i;do{var u=s.alternate;if(i=s.return,s.flags&32768){if(u=_q(u,s),u!==null){u.flags&=32767,on=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{cn=6,on=null;return}}else if(u=vq(u,s,hi),u!==null){on=u;return}if(s=s.sibling,s!==null){on=s;return}on=s=i}while(s!==null);cn===0&&(cn=5)}function La(i,s,u){var h=yr,w=Li.transition;try{Li.transition=null,yr=1,qq(i,s,u,h)}finally{Li.transition=w,yr=h}return null}function qq(i,s,u,h){do jl();while(Oo!==null);if(fr&6)throw Error(r(327));u=i.finishedWork;var w=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0;var E=u.lanes|u.childLanes;if(Sm(i,E),i===pn&&(on=pn=null,bn=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||Wf||(Wf=!0,P0(pl,function(){return jl(),null})),E=(u.flags&15990)!==0,u.subtreeFlags&15990||E){E=Li.transition,Li.transition=null;var F=yr;yr=1;var ie=fr;fr|=4,Oy.current=null,wq(i,u),b0(u,i),Q3(Mm),Be=!!Dm,Mm=Dm=null,i.current=u,xq(u),pm(),fr=ie,yr=F,Li.transition=E}else i.current=u;if(Wf&&(Wf=!1,Oo=i,$f=w),E=i.pendingLanes,E===0&&(Ro=null),gm(u.stateNode),Zn(i,Hr()),s!==null)for(h=i.onRecoverableError,u=0;u<s.length;u++)w=s[u],h(w.value,{componentStack:w.stack,digest:w.digest});if(Bf)throw Bf=!1,i=Iy,Iy=null,i;return $f&1&&i.tag!==0&&jl(),E=i.pendingLanes,E&1?i===Py?_c++:(_c=0,Py=i):_c=0,No(),null}function jl(){if(Oo!==null){var i=of($f),s=Li.transition,u=yr;try{if(Li.transition=null,yr=16>i?16:i,Oo===null)var h=!1;else{if(i=Oo,Oo=null,$f=0,fr&6)throw Error(r(331));var w=fr;for(fr|=4,Tt=i.current;Tt!==null;){var E=Tt,F=E.child;if(Tt.flags&16){var ie=E.deletions;if(ie!==null){for(var de=0;de<ie.length;de++){var Fe=ie[de];for(Tt=Fe;Tt!==null;){var tt=Tt;switch(tt.tag){case 0:case 11:case 15:yc(8,tt,E)}var nt=tt.child;if(nt!==null)nt.return=tt,Tt=nt;else for(;Tt!==null;){tt=Tt;var Ye=tt.sibling,Nt=tt.return;if(m0(tt),tt===Fe){Tt=null;break}if(Ye!==null){Ye.return=Nt,Tt=Ye;break}Tt=Nt}}}var At=E.alternate;if(At!==null){var Lt=At.child;if(Lt!==null){At.child=null;do{var en=Lt.sibling;Lt.sibling=null,Lt=en}while(Lt!==null)}}Tt=E}}if(E.subtreeFlags&2064&&F!==null)F.return=E,Tt=F;else e:for(;Tt!==null;){if(E=Tt,E.flags&2048)switch(E.tag){case 0:case 11:case 15:yc(9,E,E.return)}var ke=E.sibling;if(ke!==null){ke.return=E.return,Tt=ke;break e}Tt=E.return}}var ge=i.current;for(Tt=ge;Tt!==null;){F=Tt;var Te=F.child;if(F.subtreeFlags&2064&&Te!==null)Te.return=F,Tt=Te;else e:for(F=ge;Tt!==null;){if(ie=Tt,ie.flags&2048)try{switch(ie.tag){case 0:case 11:case 15:jf(9,ie)}}catch(jt){Yr(ie,ie.return,jt)}if(ie===F){Tt=null;break e}var ot=ie.sibling;if(ot!==null){ot.return=ie.return,Tt=ot;break e}Tt=ie.return}}if(fr=w,No(),Oi&&typeof Oi.onPostCommitFiberRoot=="function")try{Oi.onPostCommitFiberRoot(ml,i)}catch{}h=!0}return h}finally{yr=u,Li.transition=s}}return!1}function T0(i,s,u){s=Il(u,s),s=Gw(i,s,1),i=qo(i,s,1),s=Ln(),i!==null&&(Ea(i,1,s),Zn(i,s))}function Yr(i,s,u){if(i.tag===3)T0(i,i,u);else for(;s!==null;){if(s.tag===3){T0(s,i,u);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ro===null||!Ro.has(h))){i=Il(u,i),i=Jw(s,i,1),s=qo(s,i,1),i=Ln(),s!==null&&(Ea(s,1,i),Zn(s,i));break}}s=s.return}}function Cq(i,s,u){var h=i.pingCache;h!==null&&h.delete(s),s=Ln(),i.pingedLanes|=i.suspendedLanes&u,pn===i&&(bn&u)===u&&(cn===4||cn===3&&(bn&0x7c00000)===bn&&500>Hr()-Ay?Fa(i,0):Ty|=u),Zn(i,s)}function A0(i,s){s===0&&(i.mode&1?(s=yl,yl<<=1,!(yl&0x7c00000)&&(yl=4194304)):s=1);var u=Ln();i=$s(i,s),i!==null&&(Ea(i,s,u),Zn(i,u))}function Rq(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),A0(i,u)}function Oq(i,s){var u=0;switch(i.tag){case 13:var h=i.stateNode,w=i.memoizedState;w!==null&&(u=w.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(r(314))}h!==null&&h.delete(s),A0(i,u)}var I0;I0=function(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps||Qn.current)Gn=!0;else{if(!(i.lanes&u)&&!(s.flags&128))return Gn=!1,gq(i,s,u);Gn=!!(i.flags&131072)}else Gn=!1,Br&&s.flags&1048576&&fw(s,bf,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Ff(i,s),i=s.pendingProps;var w=Nl(s,kn.current);Tl(s,u),w=uy(null,s,h,i,w,u);var E=cy();return s.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Kn(h)?(E=!0,gf(s)):E=!1,s.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,ry(s),w.updater=If,s.stateNode=w,w._reactInternals=s,yy(s,h,i,u),s=by(null,s,h,!0,E,u)):(s.tag=0,Br&&E&&Hm(s),Fn(null,s,w,u),s=s.child),s;case 16:h=s.elementType;e:{switch(Ff(i,s),i=s.pendingProps,w=h._init,h=w(h._payload),s.type=h,w=s.tag=Aq(h),i=Qi(h,i),w){case 0:s=_y(null,s,h,i,u);break e;case 1:s=s0(null,s,h,i,u);break e;case 11:s=e0(null,s,h,i,u);break e;case 14:s=t0(null,s,h,Qi(h.type,i),u);break e}throw Error(r(306,h,""))}return s;case 0:return h=s.type,w=s.pendingProps,w=s.elementType===h?w:Qi(h,w),_y(i,s,h,w,u);case 1:return h=s.type,w=s.pendingProps,w=s.elementType===h?w:Qi(h,w),s0(i,s,h,w,u);case 3:e:{if(o0(s),i===null)throw Error(r(387));h=s.pendingProps,E=s.memoizedState,w=E.element,ww(i,s),kf(s,h,null,u);var F=s.memoizedState;if(h=F.element,E.isDehydrated)if(E={element:h,isDehydrated:!1,cache:F.cache,pendingSuspenseBoundaries:F.pendingSuspenseBoundaries,transitions:F.transitions},s.updateQueue.baseState=E,s.memoizedState=E,s.flags&256){w=Il(Error(r(423)),s),s=a0(i,s,h,u,w);break e}else if(h!==w){w=Il(Error(r(424)),s),s=a0(i,s,h,u,w);break e}else for(fi=xo(s.stateNode.containerInfo.firstChild),di=s,Br=!0,Hi=null,u=_w(s,null,h,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Cl(),h===w){s=zs(i,s,u);break e}Fn(i,s,h,u)}s=s.child}return s;case 5:return Ew(s),i===null&&Gm(s),h=s.type,w=s.pendingProps,E=i!==null?i.memoizedProps:null,F=w.children,Bm(h,w)?F=null:E!==null&&Bm(h,E)&&(s.flags|=32),i0(i,s),Fn(i,s,F,u),s.child;case 6:return i===null&&Gm(s),null;case 13:return l0(i,s,u);case 4:return ny(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=Rl(s,null,h,u):Fn(i,s,h,u),s.child;case 11:return h=s.type,w=s.pendingProps,w=s.elementType===h?w:Qi(h,w),e0(i,s,h,w,u);case 7:return Fn(i,s,s.pendingProps,u),s.child;case 8:return Fn(i,s,s.pendingProps.children,u),s.child;case 12:return Fn(i,s,s.pendingProps.children,u),s.child;case 10:e:{if(h=s.type._context,w=s.pendingProps,E=s.memoizedProps,F=w.value,Ir(Sf,h._currentValue),h._currentValue=F,E!==null)if(Vi(E.value,F)){if(E.children===w.children&&!Qn.current){s=zs(i,s,u);break e}}else for(E=s.child,E!==null&&(E.return=s);E!==null;){var ie=E.dependencies;if(ie!==null){F=E.child;for(var de=ie.firstContext;de!==null;){if(de.context===h){if(E.tag===1){de=Us(-1,u&-u),de.tag=2;var Fe=E.updateQueue;if(Fe!==null){Fe=Fe.shared;var tt=Fe.pending;tt===null?de.next=de:(de.next=tt.next,tt.next=de),Fe.pending=de}}E.lanes|=u,de=E.alternate,de!==null&&(de.lanes|=u),ey(E.return,u,s),ie.lanes|=u;break}de=de.next}}else if(E.tag===10)F=E.type===s.type?null:E.child;else if(E.tag===18){if(F=E.return,F===null)throw Error(r(341));F.lanes|=u,ie=F.alternate,ie!==null&&(ie.lanes|=u),ey(F,u,s),F=E.sibling}else F=E.child;if(F!==null)F.return=E;else for(F=E;F!==null;){if(F===s){F=null;break}if(E=F.sibling,E!==null){E.return=F.return,F=E;break}F=F.return}E=F}Fn(i,s,w.children,u),s=s.child}return s;case 9:return w=s.type,h=s.pendingProps.children,Tl(s,u),w=Pi(w),h=h(w),s.flags|=1,Fn(i,s,h,u),s.child;case 14:return h=s.type,w=Qi(h,s.pendingProps),w=Qi(h.type,w),t0(i,s,h,w,u);case 15:return r0(i,s,s.type,s.pendingProps,u);case 17:return h=s.type,w=s.pendingProps,w=s.elementType===h?w:Qi(h,w),Ff(i,s),s.tag=1,Kn(h)?(i=!0,gf(s)):i=!1,Tl(s,u),Qw(s,h,w),yy(s,h,w,u),by(null,s,h,!0,i,u);case 19:return c0(i,s,u);case 22:return n0(i,s,u)}throw Error(r(156,s.tag))};function P0(i,s){return tf(i,s)}function Tq(i,s,u,h){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ji(i,s,u,h){return new Tq(i,s,u,h)}function By(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Aq(i){if(typeof i=="function")return By(i)?1:0;if(i!=null){if(i=i.$$typeof,i===re)return 11;if(i===Re)return 14}return 2}function Io(i,s){var u=i.alternate;return u===null?(u=ji(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&0xe00000,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Hf(i,s,u,h,w,E){var F=2;if(h=i,typeof i=="function")By(i)&&(F=1);else if(typeof i=="string")F=5;else e:switch(i){case K:return ja(u.children,w,E,s);case le:F=8,w|=8;break;case H:return i=ji(12,u,s,w|2),i.elementType=H,i.lanes=E,i;case Z:return i=ji(13,u,s,w),i.elementType=Z,i.lanes=E,i;case pe:return i=ji(19,u,s,w),i.elementType=pe,i.lanes=E,i;case Pe:return Qf(u,w,E,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case ne:F=10;break e;case B:F=9;break e;case re:F=11;break e;case Re:F=14;break e;case Ce:F=16,h=null;break e}throw Error(r(130,i==null?i:typeof i,""))}return s=ji(F,u,s,w),s.elementType=i,s.type=h,s.lanes=E,s}function ja(i,s,u,h){return i=ji(7,i,h,s),i.lanes=u,i}function Qf(i,s,u,h){return i=ji(22,i,h,s),i.elementType=Pe,i.lanes=u,i.stateNode={isHidden:!1},i}function Wy(i,s,u){return i=ji(6,i,null,s),i.lanes=u,i}function $y(i,s,u){return s=ji(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function Iq(i,s,u,h,w){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vu(0),this.expirationTimes=Vu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vu(0),this.identifierPrefix=h,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function Uy(i,s,u,h,w,E,F,ie,de){return i=new Iq(i,s,u,ie,de),s===1?(s=1,E===!0&&(s|=8)):s=0,E=ji(3,null,null,s),i.current=E,E.stateNode=i,E.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},ry(E),i}function Pq(i,s,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:h==null?null:""+h,children:i,containerInfo:s,implementation:u}}function F0(i){if(!i)return Eo;i=i._reactInternals;e:{if(Ls(i)!==i||i.tag!==1)throw Error(r(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Kn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(r(171))}if(i.tag===1){var u=i.type;if(Kn(u))return uw(i,u,s)}return s}function L0(i,s,u,h,w,E,F,ie,de){return i=Uy(u,h,!0,i,w,E,F,ie,de),i.context=F0(null),u=i.current,h=Ln(),w=To(u),E=Us(h,w),E.callback=s??null,qo(u,E,w),i.current.lanes=w,Ea(i,w,h),Zn(i,h),i}function Kf(i,s,u,h){var w=s.current,E=Ln(),F=To(w);return u=F0(u),s.context===null?s.context=u:s.pendingContext=u,s=Us(E,F),s.payload={element:i},h=h===void 0?null:h,h!==null&&(s.callback=h),i=qo(w,s,F),i!==null&&(Ji(i,w,F,E),Nf(i,w,F)),F}function Gf(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function j0(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function zy(i,s){j0(i,s),(i=i.alternate)&&j0(i,s)}function Fq(){return null}var D0=typeof reportError=="function"?reportError:function(i){console.error(i)};function Vy(i){this._internalRoot=i}Jf.prototype.render=Vy.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));Kf(i,s,null,null)},Jf.prototype.unmount=Vy.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Pa(function(){Kf(null,i,null,null)}),s[Ds]=null}};function Jf(i){this._internalRoot=i}Jf.prototype.unstable_scheduleHydration=function(i){if(i){var s=Na();i={blockedOn:null,target:i,priority:s};for(var u=0;u<te.length&&s!==0&&s<te[u].priority;u++);te.splice(u,0,i),u===0&&Ae(i)}};function Hy(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Zf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function M0(){}function Lq(i,s,u,h,w){if(w){if(typeof h=="function"){var E=h;h=function(){var Fe=Gf(F);E.call(Fe)}}var F=L0(s,h,i,0,null,!1,!1,"",M0);return i._reactRootContainer=F,i[Ds]=F.current,nc(i.nodeType===8?i.parentNode:i),Pa(),F}for(;w=i.lastChild;)i.removeChild(w);if(typeof h=="function"){var ie=h;h=function(){var Fe=Gf(de);ie.call(Fe)}}var de=Uy(i,0,!1,null,null,!1,!1,"",M0);return i._reactRootContainer=de,i[Ds]=de.current,nc(i.nodeType===8?i.parentNode:i),Pa(function(){Kf(s,de,u,h)}),de}function Xf(i,s,u,h,w){var E=u._reactRootContainer;if(E){var F=E;if(typeof w=="function"){var ie=w;w=function(){var de=Gf(F);ie.call(de)}}Kf(s,F,i,w)}else F=Lq(u,s,i,w,h);return Gf(F)}Qu=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var u=zi(s.pendingLanes);u!==0&&(Hu(s,u|1),Zn(s,Hr()),!(fr&6)&&(Ll=Hr()+500,No()))}break;case 13:Pa(function(){var h=$s(i,1);if(h!==null){var w=Ln();Ji(h,i,1,w)}}),zy(i,1)}},ee=function(i){if(i.tag===13){var s=$s(i,0x8000000);if(s!==null){var u=Ln();Ji(s,i,0x8000000,u)}zy(i,0x8000000)}},Ku=function(i){if(i.tag===13){var s=To(i),u=$s(i,s);if(u!==null){var h=Ln();Ji(u,i,s,h)}zy(i,s)}},Na=function(){return yr},Gu=function(i,s){var u=yr;try{return yr=i,s()}finally{yr=u}},Mu=function(i,s,u){switch(s){case"input":if(ur(i,u),s=u.name,u.type==="radio"&&s!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<u.length;s++){var h=u[s];if(h!==i&&h.form===i.form){var w=mf(h);if(!w)throw Error(r(90));Rt(h),ur(h,w)}}}break;case"textarea":_t(i,u);break;case"select":s=u.value,s!=null&&Oe(i,!!u.multiple,s,!1)}},Gd=jy,Jd=Pa;var jq={usingClientEntryPoint:!1,Events:[oc,Sl,mf,Xt,Kd,jy]},bc={findFiberByHostInstance:ka,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Dq={bundleType:bc.bundleType,version:bc.version,rendererPackageName:bc.rendererPackageName,rendererConfig:bc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Yd(i),i===null?null:i.stateNode},findFiberByHostInstance:bc.findFiberByHostInstance||Fq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yf.isDisabled&&Yf.supportsFiber)try{ml=Yf.inject(Dq),Oi=Yf}catch{}}return Xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jq,Xn.createPortal=function(i,s){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hy(s))throw Error(r(200));return Pq(i,s,null,u)},Xn.createRoot=function(i,s){if(!Hy(i))throw Error(r(299));var u=!1,h="",w=D0;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(w=s.onRecoverableError)),s=Uy(i,1,!1,null,null,u,!1,h,w),i[Ds]=s.current,nc(i.nodeType===8?i.parentNode:i),new Vy(s)},Xn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=Yd(s),i=i===null?null:i.stateNode,i},Xn.flushSync=function(i){return Pa(i)},Xn.hydrate=function(i,s,u){if(!Zf(s))throw Error(r(200));return Xf(null,i,s,!0,u)},Xn.hydrateRoot=function(i,s,u){if(!Hy(i))throw Error(r(405));var h=u!=null&&u.hydratedSources||null,w=!1,E="",F=D0;if(u!=null&&(u.unstable_strictMode===!0&&(w=!0),u.identifierPrefix!==void 0&&(E=u.identifierPrefix),u.onRecoverableError!==void 0&&(F=u.onRecoverableError)),s=L0(s,null,i,1,u??null,w,!1,E,F),i[Ds]=s.current,nc(i),h)for(i=0;i<h.length;i++)u=h[i],w=u._getVersion,w=w(u._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[u,w]:s.mutableSourceEagerHydrationData.push(u,w);return new Jf(s)},Xn.render=function(i,s,u){if(!Zf(s))throw Error(r(200));return Xf(null,i,s,!1,u)},Xn.unmountComponentAtNode=function(i){if(!Zf(i))throw Error(r(40));return i._reactRootContainer?(Pa(function(){Xf(null,null,i,!1,function(){i._reactRootContainer=null,i[Ds]=null})}),!0):!1},Xn.unstable_batchedUpdates=jy,Xn.unstable_renderSubtreeIntoContainer=function(i,s,u,h){if(!Zf(u))throw Error(r(200));if(i==null||i._reactInternals===void 0)throw Error(r(38));return Xf(i,s,u,!1,h)},Xn.version="18.3.1-next-f1338f8080-20240426",Xn}var yx;function RN(){if(yx)return ig.exports;yx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ig.exports=vR(),ig.exports}var __=RN();const _R="Error preloading route! ";function bR(t,e){const r=Si(),[n,o]=G.useState(!1),a=G.useRef(!1),l=VC(e),{activeProps:c=()=>({className:"active"}),inactiveProps:p=()=>({}),activeOptions:m,to:b,preload:x,preloadDelay:N,hashScrollIntoView:q,replace:R,startTransition:C,resetScroll:L,viewTransition:P,children:I,target:D,disabled:z,style:V,className:W,onClick:K,onFocus:le,onMouseEnter:H,onMouseLeave:ne,onTouchStart:B,ignoreBlocker:re,...Z}=t,{params:pe,search:Re,hash:Ce,state:Pe,mask:ve,reloadDocument:me,...Ee}=Z,Q=G.useMemo(()=>{try{return new URL(`${b}`),"external"}catch{}return"internal"},[b]),xe=Wn({select:ye=>ye.location.search,structuralSharing:!0});t={from:Yo({strict:!1,select:ye=>ye.pathname}),...t};const at=G.useMemo(()=>r.buildLocation(t),[r,t,xe]),dt=G.useMemo(()=>t.reloadDocument?!1:x??r.options.defaultPreload,[r.options.defaultPreload,x,t.reloadDocument]),mt=N??r.options.defaultPreloadDelay??0,ft=Wn({select:ye=>{if(m?.exact){if(!QC(ye.location.pathname,at.pathname,r.basepath))return!1}else{const Oe=Bh(ye.location.pathname,r.basepath).split("/");if(!Bh(at.pathname,r.basepath).split("/").every((_t,Mt)=>_t===Oe[Mt]))return!1}return(m?.includeSearch??!0)&&!eu(ye.location.search,at.search,{partial:!m?.exact,ignoreUndefined:!m?.explicitUndefined})?!1:m?.includeHash?ye.location.hash===at.hash:!0}}),gt=G.useCallback(()=>{r.preloadRoute(t).catch(ye=>{console.warn(ye),console.warn(_R)})},[t,r]),It=G.useCallback(ye=>{ye?.isIntersecting&&gt()},[gt]);if(zC(l,It,{rootMargin:"100px"},{disabled:!!z||dt!=="viewport"}),Rc(()=>{a.current||!z&&dt==="render"&&(gt(),a.current=!0)},[z,gt,dt]),Q==="external")return{...Ee,ref:l,type:Q,href:b,...I&&{children:I},...D&&{target:D},...z&&{disabled:z},...V&&{style:V},...W&&{className:W},...K&&{onClick:K},...le&&{onFocus:le},...H&&{onMouseEnter:H},...ne&&{onMouseLeave:ne},...B&&{onTouchStart:B}};const vt=ye=>{if(!z&&!xR(ye)&&!ye.defaultPrevented&&(!D||D==="_self")&&ye.button===0){ye.preventDefault(),__.flushSync(()=>{o(!0)});const Oe=r.subscribe("onResolved",()=>{Oe(),o(!1)});return r.navigate({...t,replace:R,resetScroll:L,hashScrollIntoView:q,startTransition:C,viewTransition:P,ignoreBlocker:re})}},yt=ye=>{z||dt&&gt()},Rt=yt,qt=ye=>{if(z)return;const Oe=ye.target||{};if(dt){if(Oe.preloadTimeout)return;Oe.preloadTimeout=setTimeout(()=>{Oe.preloadTimeout=null,gt()},mt)}},Jt=ye=>{if(z)return;const Oe=ye.target||{};Oe.preloadTimeout&&(clearTimeout(Oe.preloadTimeout),Oe.preloadTimeout=null)},Gt=ye=>Oe=>{var je;(je=Oe.persist)==null||je.call(Oe),ye.filter(Boolean).forEach(Ge=>{Oe.defaultPrevented||Ge(Oe)})},er=ft?za(c,{})??{}:{},ur=ft?{}:za(p,{}),se=[W,er.className,ur.className].filter(Boolean).join(" "),ae={...V,...er.style,...ur.style};return{...Ee,...er,...ur,href:z?void 0:at.maskedLocation?r.history.createHref(at.maskedLocation.href):r.history.createHref(at.href),ref:l,onClick:Gt([K,vt]),onFocus:Gt([le,yt]),onMouseEnter:Gt([H,qt]),onMouseLeave:Gt([ne,Jt]),onTouchStart:Gt([B,Rt]),disabled:!!z,target:D,...Object.keys(ae).length&&{style:ae},...se&&{className:se},...z&&{role:"link","aria-disabled":!0},...ft&&{"data-status":"active","aria-current":"page"},...n&&{"data-transitioning":"transitioning"}}}function ON(t){return G.forwardRef(function(r,n){return g.jsx(wR,{...r,_asChild:t,ref:n})})}const wR=G.forwardRef((t,e)=>{const{_asChild:r,...n}=t,{type:o,ref:a,...l}=bR(n,e),c=typeof n.children=="function"?n.children({isActive:l["data-status"]==="active"}):n.children;return typeof r>"u"&&delete l.disabled,G.createElement(r||"a",{...l,ref:a},c)});function xR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function SR(){const t=Si(),e=G.useRef({router:t,mounted:!1}),r=Wn({select:({isLoading:x})=>x}),[n,o]=G.useState(!1),a=Wn({select:x=>x.matches.some(N=>N.status==="pending"),structuralSharing:!0}),l=tg(r),c=r||n||a,p=tg(c),m=r||a,b=tg(m);return t.isServer||(t.startReactTransition=x=>{o(!0),G.startTransition(()=>{x(),o(!1)})}),G.useEffect(()=>{const x=t.history.subscribe(t.load),N=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Va(t.latestLocation.href)!==Va(N.href)&&t.commitLocation({...N,replace:!0}),()=>{x()}},[t,t.history]),Rc(()=>{var x;if(typeof window<"u"&&((x=window.__TSR__)!=null&&x.dehydrated)||e.current.router===t&&e.current.mounted)return;e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(q){console.error(q)}})()},[t]),Rc(()=>{if(l&&!r){const x=t.state.location,N=t.state.resolvedLocation,q=N.pathname!==x.pathname,R=N.href!==x.href;t.emit({type:"onLoad",fromLocation:N,toLocation:x,pathChanged:q,hrefChanged:R})}},[l,t,r]),Rc(()=>{if(b&&!m){const x=t.state.location,N=t.state.resolvedLocation,q=N.pathname!==x.pathname,R=N.href!==x.href;t.emit({type:"onBeforeRouteMount",fromLocation:N,toLocation:x,pathChanged:q,hrefChanged:R})}},[m,b,t]),Rc(()=>{if(p&&!c){const x=t.state.location,N=t.state.resolvedLocation,q=N.pathname!==x.pathname,R=N.href!==x.href;if(t.emit({type:"onResolved",fromLocation:N,toLocation:x,pathChanged:q,hrefChanged:R}),t.__store.setState(C=>({...C,status:"idle",resolvedLocation:C.location})),typeof document<"u"&&document.querySelector){const C=t.state.location.state.__hashScrollIntoViewOptions??!0;if(C&&t.state.location.hash!==""){const L=document.getElementById(t.state.location.hash);L&&L.scrollIntoView(C)}}}},[c,p,t]),null}function ER(){const t=Si(),e=t.options.defaultPendingComponent?g.jsx(t.options.defaultPendingComponent,{}):null,r=t.isServer||typeof document<"u"&&window.__TSR__?yh:G.Suspense,n=g.jsxs(r,{fallback:e,children:[g.jsx(SR,{}),g.jsx(NR,{})]});return t.options.InnerWrap?g.jsx(t.options.InnerWrap,{children:n}):n}function NR(){const t=Wn({select:r=>{var n;return(n=r.matches[0])==null?void 0:n.id}}),e=Wn({select:r=>r.loadedAt});return g.jsx(Rp.Provider,{value:t,children:g.jsx(g_,{getResetKey:()=>e,errorComponent:Cp,onCatch:r=>{r.message||r.toString()},children:t?g.jsx(CN,{matchId:t}):null})})}function TN(){const t=Si();return Wn({select:e=>[e.location.href,e.resolvedLocation.href,e.status],structuralSharing:!0}),G.useCallback(e=>{const{pending:r,caseSensitive:n,fuzzy:o,includeSearch:a,...l}=e;return t.matchRoute(l,{pending:r,caseSensitive:n,fuzzy:o,includeSearch:a})},[t])}function kR({router:t,children:e,...r}){t.update({...t.options,...r,context:{...t.options.context,...r.context}});const n=EN(),o=g.jsx(n.Provider,{value:t,children:e});return t.options.Wrap?g.jsx(t.options.Wrap,{children:o}):o}function qR({router:t,...e}){return g.jsx(kR,{router:t,...e,children:g.jsx(ER,{})})}const CR=typeof window<"u"?G.useLayoutEffect:G.useEffect,ag="window",gx="___";let lg=new WeakSet;const RR=typeof window<"u"&&window.sessionStorage,Xi=RR?(()=>{const t="tsr-scroll-restoration-v2";return{state:JSON.parse(window.sessionStorage.getItem(t)||"null")||{cached:{},next:{}},set:r=>{Xi.state=za(r,Xi.state),window.sessionStorage.setItem(t,JSON.stringify(Xi.state))}}})():void 0,OR=t=>t.state.key||t.href;function TR(t){const e=Si();CR(()=>{const r=t?.getKey||OR,{history:n}=window;n.scrollRestoration="manual";const o=c=>{if(lg.has(c.target))return;lg.add(c.target);let p="";if(c.target===document||c.target===window)p=ag;else{const m=c.target.getAttribute("data-scroll-restoration-id");m?p=`[data-scroll-restoration-id="${m}"]`:p=IR(c.target)}Xi.state.next[p]||Xi.set(m=>({...m,next:{...m.next,[p]:{scrollX:NaN,scrollY:NaN}}}))};typeof document<"u"&&document.addEventListener("scroll",o,!0);const a=e.subscribe("onBeforeLoad",c=>{if(c.hrefChanged){const p=r(c.fromLocation);for(const m in Xi.state.next){const b=Xi.state.next[m];if(m===ag)b.scrollX=window.scrollX||0,b.scrollY=window.scrollY||0;else if(m){const x=document.querySelector(m);b.scrollX=x?.scrollLeft||0,b.scrollY=x?.scrollTop||0}Xi.set(x=>{const N={...x.next};return delete N[m],{...x,next:N,cached:{...x.cached,[[p,m].join(gx)]:b}}})}}}),l=e.subscribe("onBeforeRouteMount",c=>{if(c.hrefChanged){if(!e.resetNextScroll)return;e.resetNextScroll=!0;const p=r(c.toLocation);let m=!1;for(const b in Xi.state.cached){const x=Xi.state.cached[b],[N,q]=b.split(gx);if(N===p){if(q===ag)m=!0,window.scrollTo(x.scrollX,x.scrollY);else if(q){const R=document.querySelector(q);R&&(R.scrollLeft=x.scrollX,R.scrollTop=x.scrollY)}}}m||window.scrollTo(0,0),Xi.set(b=>({...b,next:{}})),lg=new WeakSet}});return()=>{document.removeEventListener("scroll",o),a(),l()}},[t?.getKey,e])}function AR(t){return TR(t),null}function IR(t){const e=[];let r;for(;r=t.parentNode;)e.unshift(`${t.tagName}:nth-child(${[].indexOf.call(r.children,t)+1})`),t=r;return`${e.join(" > ")}`.toLowerCase()}function as(t){return Yo({...t,select:e=>t.select?t.select(e.context):e.context})}let PR={data:""},FR=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||PR,LR=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,jR=/\/\*[^]*?\*\/|  +/g,vx=/\n+/g,Bo=(t,e)=>{let r="",n="",o="";for(let a in t){let l=t[a];a[0]=="@"?a[1]=="i"?r=a+" "+l+";":n+=a[1]=="f"?Bo(l,a):a+"{"+Bo(l,a[1]=="k"?"":e)+"}":typeof l=="object"?n+=Bo(l,e?e.replace(/([^,])+/g,c=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,c):c?c+" "+p:p)):a):l!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Bo.p?Bo.p(a,l):a+":"+l+";")}return r+(e&&o?e+"{"+o+"}":o)+n},Hs={},AN=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+AN(t[r]);return e}return t},DR=(t,e,r,n,o)=>{let a=AN(t),l=Hs[a]||(Hs[a]=(p=>{let m=0,b=11;for(;m<p.length;)b=101*b+p.charCodeAt(m++)>>>0;return"go"+b})(a));if(!Hs[l]){let p=a!==t?t:(m=>{let b,x,N=[{}];for(;b=LR.exec(m.replace(jR,""));)b[4]?N.shift():b[3]?(x=b[3].replace(vx," ").trim(),N.unshift(N[0][x]=N[0][x]||{})):N[0][b[1]]=b[2].replace(vx," ").trim();return N[0]})(t);Hs[l]=Bo(o?{["@keyframes "+l]:p}:p,r?"":"."+l)}let c=r&&Hs.g?Hs.g:null;return r&&(Hs.g=Hs[l]),((p,m,b,x)=>{x?m.data=m.data.replace(x,p):m.data.indexOf(p)===-1&&(m.data=b?p+m.data:m.data+p)})(Hs[l],e,n,c),l},MR=(t,e,r)=>t.reduce((n,o,a)=>{let l=e[a];if(l&&l.call){let c=l(r),p=c&&c.props&&c.props.className||/^go/.test(c)&&c;l=p?"."+p:c&&typeof c=="object"?c.props?"":Bo(c,""):c===!1?"":c}return n+o+(l??"")},"");function Op(t){let e=this||{},r=t.call?t(e.p):t;return DR(r.unshift?r.raw?MR(r,[].slice.call(arguments,1),e.p):r.reduce((n,o)=>Object.assign(n,o&&o.call?o(e.p):o),{}):r,FR(e.target),e.g,e.o,e.k)}let IN,Rv,Ov;Op.bind({g:1});let io=Op.bind({k:1});function BR(t,e,r,n){Bo.p=e,IN=t,Rv=r,Ov=n}function ca(t,e){let r=this||{};return function(){let n=arguments;function o(a,l){let c=Object.assign({},a),p=c.className||o.className;r.p=Object.assign({theme:Rv&&Rv()},c),r.o=/ *go\d+/.test(p),c.className=Op.apply(r,n)+(p?" "+p:"");let m=t;return t[0]&&(m=c.as||t,delete c.as),Ov&&m[0]&&Ov(c),IN(m,c)}return o}}var WR=t=>typeof t=="function",$h=(t,e)=>WR(t)?t(e):t,$R=(()=>{let t=0;return()=>(++t).toString()})(),PN=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),UR=20,gh=new Map,zR=1e3,_x=t=>{if(gh.has(t))return;let e=setTimeout(()=>{gh.delete(t),cl({type:4,toastId:t})},zR);gh.set(t,e)},VR=t=>{let e=gh.get(t);e&&clearTimeout(e)},Tv=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,UR)};case 1:return e.toast.id&&VR(e.toast.id),{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:r}=e;return t.toasts.find(a=>a.id===r.id)?Tv(t,{type:1,toast:r}):Tv(t,{type:0,toast:r});case 3:let{toastId:n}=e;return n?_x(n):t.toasts.forEach(a=>{_x(a.id)}),{...t,toasts:t.toasts.map(a=>a.id===n||n===void 0?{...a,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let o=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+o}))}}},vh=[],_h={toasts:[],pausedAt:void 0},cl=t=>{_h=Tv(_h,t),vh.forEach(e=>{e(_h)})},HR={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},QR=(t={})=>{let[e,r]=G.useState(_h);G.useEffect(()=>(vh.push(r),()=>{let o=vh.indexOf(r);o>-1&&vh.splice(o,1)}),[e]);let n=e.toasts.map(o=>{var a,l;return{...t,...t[o.type],...o,duration:o.duration||((a=t[o.type])==null?void 0:a.duration)||t?.duration||HR[o.type],style:{...t.style,...(l=t[o.type])==null?void 0:l.style,...o.style}}});return{...e,toasts:n}},KR=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:r?.id||$R()}),kd=t=>(e,r)=>{let n=KR(e,t,r);return cl({type:2,toast:n}),n.id},qr=(t,e)=>kd("blank")(t,e);qr.error=kd("error");qr.success=kd("success");qr.loading=kd("loading");qr.custom=kd("custom");qr.dismiss=t=>{cl({type:3,toastId:t})};qr.remove=t=>cl({type:4,toastId:t});qr.promise=(t,e,r)=>{let n=qr.loading(e.loading,{...r,...r?.loading});return t.then(o=>(qr.success($h(e.success,o),{id:n,...r,...r?.success}),o)).catch(o=>{qr.error($h(e.error,o),{id:n,...r,...r?.error})}),t};var GR=(t,e)=>{cl({type:1,toast:{id:t,height:e}})},JR=()=>{cl({type:5,time:Date.now()})},ZR=t=>{let{toasts:e,pausedAt:r}=QR(t);G.useEffect(()=>{if(r)return;let a=Date.now(),l=e.map(c=>{if(c.duration===1/0)return;let p=(c.duration||0)+c.pauseDuration-(a-c.createdAt);if(p<0){c.visible&&qr.dismiss(c.id);return}return setTimeout(()=>qr.dismiss(c.id),p)});return()=>{l.forEach(c=>c&&clearTimeout(c))}},[e,r]);let n=G.useCallback(()=>{r&&cl({type:6,time:Date.now()})},[r]),o=G.useCallback((a,l)=>{let{reverseOrder:c=!1,gutter:p=8,defaultPosition:m}=l||{},b=e.filter(q=>(q.position||m)===(a.position||m)&&q.height),x=b.findIndex(q=>q.id===a.id),N=b.filter((q,R)=>R<x&&q.visible).length;return b.filter(q=>q.visible).slice(...c?[N+1]:[0,N]).reduce((q,R)=>q+(R.height||0)+p,0)},[e]);return{toasts:e,handlers:{updateHeight:GR,startPause:JR,endPause:n,calculateOffset:o}}},XR=io`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,YR=io`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,eO=io`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,tO=ca("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${XR} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${YR} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${eO} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,rO=io`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,nO=ca("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${rO} 1s linear infinite;
`,iO=io`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,sO=io`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,oO=ca("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${iO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${sO} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,aO=ca("div")`
  position: absolute;
`,lO=ca("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,uO=io`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,cO=ca("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${uO} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,dO=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?G.createElement(cO,null,e):e:r==="blank"?null:G.createElement(lO,null,G.createElement(nO,{...n}),r!=="loading"&&G.createElement(aO,null,r==="error"?G.createElement(tO,{...n}):G.createElement(oO,{...n})))},fO=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,hO=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,pO="0%{opacity:0;} 100%{opacity:1;}",mO="0%{opacity:1;} 100%{opacity:0;}",yO=ca("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,gO=ca("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,vO=(t,e)=>{let r=t.includes("top")?1:-1,[n,o]=PN()?[pO,mO]:[fO(r),hO(r)];return{animation:e?`${io(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${io(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},_O=G.memo(({toast:t,position:e,style:r,children:n})=>{let o=t.height?vO(t.position||e||"top-center",t.visible):{opacity:0},a=G.createElement(dO,{toast:t}),l=G.createElement(gO,{...t.ariaProps},$h(t.message,t));return G.createElement(yO,{className:t.className,style:{...o,...r,...t.style}},typeof n=="function"?n({icon:a,message:l}):G.createElement(G.Fragment,null,a,l))});BR(G.createElement);var bO=({id:t,className:e,style:r,onHeightUpdate:n,children:o})=>{let a=G.useCallback(l=>{if(l){let c=()=>{let p=l.getBoundingClientRect().height;n(t,p)};c(),new MutationObserver(c).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return G.createElement("div",{ref:a,className:e,style:r},o)},wO=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},o=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:PN()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...o}},xO=Op`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,nh=16,SO=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:o,containerStyle:a,containerClassName:l})=>{let{toasts:c,handlers:p}=ZR(r);return G.createElement("div",{style:{position:"fixed",zIndex:9999,top:nh,left:nh,right:nh,bottom:nh,pointerEvents:"none",...a},className:l,onMouseEnter:p.startPause,onMouseLeave:p.endPause},c.map(m=>{let b=m.position||e,x=p.calculateOffset(m,{reverseOrder:t,gutter:n,defaultPosition:e}),N=wO(b,x);return G.createElement(bO,{id:m.id,key:m.id,onHeightUpdate:p.updateHeight,className:m.visible?xO:"",style:N},m.type==="custom"?$h(m.message,m):o?o(m):G.createElement(_O,{toast:m,position:b}))}))},EO=qr;function FN(t,e){return function(){return t.apply(e,arguments)}}const{toString:NO}=Object.prototype,{getPrototypeOf:b_}=Object,Tp=(t=>e=>{const r=NO.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ls=t=>(t=t.toLowerCase(),e=>Tp(e)===t),Ap=t=>e=>typeof e===t,{isArray:qu}=Array,Yc=Ap("undefined");function kO(t){return t!==null&&!Yc(t)&&t.constructor!==null&&!Yc(t.constructor)&&Ei(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const LN=ls("ArrayBuffer");function qO(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&LN(t.buffer),e}const CO=Ap("string"),Ei=Ap("function"),jN=Ap("number"),Ip=t=>t!==null&&typeof t=="object",RO=t=>t===!0||t===!1,bh=t=>{if(Tp(t)!=="object")return!1;const e=b_(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},OO=ls("Date"),TO=ls("File"),AO=ls("Blob"),IO=ls("FileList"),PO=t=>Ip(t)&&Ei(t.pipe),FO=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ei(t.append)&&((e=Tp(t))==="formdata"||e==="object"&&Ei(t.toString)&&t.toString()==="[object FormData]"))},LO=ls("URLSearchParams"),[jO,DO,MO,BO]=["ReadableStream","Request","Response","Headers"].map(ls),WO=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qd(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,o;if(typeof t!="object"&&(t=[t]),qu(t))for(n=0,o=t.length;n<o;n++)e.call(null,t[n],n,t);else{const a=r?Object.getOwnPropertyNames(t):Object.keys(t),l=a.length;let c;for(n=0;n<l;n++)c=a[n],e.call(null,t[c],c,t)}}function DN(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,o;for(;n-- >0;)if(o=r[n],e===o.toLowerCase())return o;return null}const Ha=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,MN=t=>!Yc(t)&&t!==Ha;function Av(){const{caseless:t}=MN(this)&&this||{},e={},r=(n,o)=>{const a=t&&DN(e,o)||o;bh(e[a])&&bh(n)?e[a]=Av(e[a],n):bh(n)?e[a]=Av({},n):qu(n)?e[a]=n.slice():e[a]=n};for(let n=0,o=arguments.length;n<o;n++)arguments[n]&&qd(arguments[n],r);return e}const $O=(t,e,r,{allOwnKeys:n}={})=>(qd(e,(o,a)=>{r&&Ei(o)?t[a]=FN(o,r):t[a]=o},{allOwnKeys:n}),t),UO=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),zO=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},VO=(t,e,r,n)=>{let o,a,l;const c={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),a=o.length;a-- >0;)l=o[a],(!n||n(l,t,e))&&!c[l]&&(e[l]=t[l],c[l]=!0);t=r!==!1&&b_(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},HO=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},QO=t=>{if(!t)return null;if(qu(t))return t;let e=t.length;if(!jN(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},KO=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&b_(Uint8Array)),GO=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let o;for(;(o=n.next())&&!o.done;){const a=o.value;e.call(t,a[0],a[1])}},JO=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},ZO=ls("HTMLFormElement"),XO=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,o){return n.toUpperCase()+o}),bx=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),YO=ls("RegExp"),BN=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};qd(r,(o,a)=>{let l;(l=e(o,a,t))!==!1&&(n[a]=l||o)}),Object.defineProperties(t,n)},eT=t=>{BN(t,(e,r)=>{if(Ei(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Ei(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},tT=(t,e)=>{const r={},n=o=>{o.forEach(a=>{r[a]=!0})};return qu(t)?n(t):n(String(t).split(e)),r},rT=()=>{},nT=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,ug="abcdefghijklmnopqrstuvwxyz",wx="0123456789",WN={DIGIT:wx,ALPHA:ug,ALPHA_DIGIT:ug+ug.toUpperCase()+wx},iT=(t=16,e=WN.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function sT(t){return!!(t&&Ei(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const oT=t=>{const e=new Array(10),r=(n,o)=>{if(Ip(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[o]=n;const a=qu(n)?[]:{};return qd(n,(l,c)=>{const p=r(l,o+1);!Yc(p)&&(a[c]=p)}),e[o]=void 0,a}}return n};return r(t,0)},aT=ls("AsyncFunction"),lT=t=>t&&(Ip(t)||Ei(t))&&Ei(t.then)&&Ei(t.catch),$N=((t,e)=>t?setImmediate:e?((r,n)=>(Ha.addEventListener("message",({source:o,data:a})=>{o===Ha&&a===r&&n.length&&n.shift()()},!1),o=>{n.push(o),Ha.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Ei(Ha.postMessage)),uT=typeof queueMicrotask<"u"?queueMicrotask.bind(Ha):typeof process<"u"&&process.nextTick||$N,$e={isArray:qu,isArrayBuffer:LN,isBuffer:kO,isFormData:FO,isArrayBufferView:qO,isString:CO,isNumber:jN,isBoolean:RO,isObject:Ip,isPlainObject:bh,isReadableStream:jO,isRequest:DO,isResponse:MO,isHeaders:BO,isUndefined:Yc,isDate:OO,isFile:TO,isBlob:AO,isRegExp:YO,isFunction:Ei,isStream:PO,isURLSearchParams:LO,isTypedArray:KO,isFileList:IO,forEach:qd,merge:Av,extend:$O,trim:WO,stripBOM:UO,inherits:zO,toFlatObject:VO,kindOf:Tp,kindOfTest:ls,endsWith:HO,toArray:QO,forEachEntry:GO,matchAll:JO,isHTMLForm:ZO,hasOwnProperty:bx,hasOwnProp:bx,reduceDescriptors:BN,freezeMethods:eT,toObjectSet:tT,toCamelCase:XO,noop:rT,toFiniteNumber:nT,findKey:DN,global:Ha,isContextDefined:MN,ALPHABET:WN,generateString:iT,isSpecCompliantForm:sT,toJSONObject:oT,isAsyncFn:aT,isThenable:lT,setImmediate:$N,asap:uT};function rr(t,e,r,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o,this.status=o.status?o.status:null)}$e.inherits(rr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$e.toJSONObject(this.config),code:this.code,status:this.status}}});const UN=rr.prototype,zN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{zN[t]={value:t}});Object.defineProperties(rr,zN);Object.defineProperty(UN,"isAxiosError",{value:!0});rr.from=(t,e,r,n,o,a)=>{const l=Object.create(UN);return $e.toFlatObject(t,l,function(p){return p!==Error.prototype},c=>c!=="isAxiosError"),rr.call(l,t.message,e,r,n,o),l.cause=t,l.name=t.name,a&&Object.assign(l,a),l};const cT=null;function Iv(t){return $e.isPlainObject(t)||$e.isArray(t)}function VN(t){return $e.endsWith(t,"[]")?t.slice(0,-2):t}function xx(t,e,r){return t?t.concat(e).map(function(o,a){return o=VN(o),!r&&a?"["+o+"]":o}).join(r?".":""):e}function dT(t){return $e.isArray(t)&&!t.some(Iv)}const fT=$e.toFlatObject($e,{},null,function(e){return/^is[A-Z]/.test(e)});function Pp(t,e,r){if(!$e.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=$e.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,L){return!$e.isUndefined(L[C])});const n=r.metaTokens,o=r.visitor||b,a=r.dots,l=r.indexes,p=(r.Blob||typeof Blob<"u"&&Blob)&&$e.isSpecCompliantForm(e);if(!$e.isFunction(o))throw new TypeError("visitor must be a function");function m(R){if(R===null)return"";if($e.isDate(R))return R.toISOString();if(!p&&$e.isBlob(R))throw new rr("Blob is not supported. Use a Buffer instead.");return $e.isArrayBuffer(R)||$e.isTypedArray(R)?p&&typeof Blob=="function"?new Blob([R]):Buffer.from(R):R}function b(R,C,L){let P=R;if(R&&!L&&typeof R=="object"){if($e.endsWith(C,"{}"))C=n?C:C.slice(0,-2),R=JSON.stringify(R);else if($e.isArray(R)&&dT(R)||($e.isFileList(R)||$e.endsWith(C,"[]"))&&(P=$e.toArray(R)))return C=VN(C),P.forEach(function(D,z){!($e.isUndefined(D)||D===null)&&e.append(l===!0?xx([C],z,a):l===null?C:C+"[]",m(D))}),!1}return Iv(R)?!0:(e.append(xx(L,C,a),m(R)),!1)}const x=[],N=Object.assign(fT,{defaultVisitor:b,convertValue:m,isVisitable:Iv});function q(R,C){if(!$e.isUndefined(R)){if(x.indexOf(R)!==-1)throw Error("Circular reference detected in "+C.join("."));x.push(R),$e.forEach(R,function(P,I){(!($e.isUndefined(P)||P===null)&&o.call(e,P,$e.isString(I)?I.trim():I,C,N))===!0&&q(P,C?C.concat(I):[I])}),x.pop()}}if(!$e.isObject(t))throw new TypeError("data must be an object");return q(t),e}function Sx(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function w_(t,e){this._pairs=[],t&&Pp(t,this,e)}const HN=w_.prototype;HN.append=function(e,r){this._pairs.push([e,r])};HN.toString=function(e){const r=e?function(n){return e.call(this,n,Sx)}:Sx;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function hT(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function QN(t,e,r){if(!e)return t;const n=r&&r.encode||hT;$e.isFunction(r)&&(r={serialize:r});const o=r&&r.serialize;let a;if(o?a=o(e,r):a=$e.isURLSearchParams(e)?e.toString():new w_(e,r).toString(n),a){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class Ex{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){$e.forEach(this.handlers,function(n){n!==null&&e(n)})}}const KN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},pT=typeof URLSearchParams<"u"?URLSearchParams:w_,mT=typeof FormData<"u"?FormData:null,yT=typeof Blob<"u"?Blob:null,gT={isBrowser:!0,classes:{URLSearchParams:pT,FormData:mT,Blob:yT},protocols:["http","https","file","blob","url","data"]},x_=typeof window<"u"&&typeof document<"u",Pv=typeof navigator=="object"&&navigator||void 0,vT=x_&&(!Pv||["ReactNative","NativeScript","NS"].indexOf(Pv.product)<0),_T=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",bT=x_&&window.location.href||"http://localhost",wT=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:x_,hasStandardBrowserEnv:vT,hasStandardBrowserWebWorkerEnv:_T,navigator:Pv,origin:bT},Symbol.toStringTag,{value:"Module"})),An={...wT,...gT};function xT(t,e){return Pp(t,new An.classes.URLSearchParams,Object.assign({visitor:function(r,n,o,a){return An.isNode&&$e.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function ST(t){return $e.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function ET(t){const e={},r=Object.keys(t);let n;const o=r.length;let a;for(n=0;n<o;n++)a=r[n],e[a]=t[a];return e}function GN(t){function e(r,n,o,a){let l=r[a++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),p=a>=r.length;return l=!l&&$e.isArray(o)?o.length:l,p?($e.hasOwnProp(o,l)?o[l]=[o[l],n]:o[l]=n,!c):((!o[l]||!$e.isObject(o[l]))&&(o[l]=[]),e(r,n,o[l],a)&&$e.isArray(o[l])&&(o[l]=ET(o[l])),!c)}if($e.isFormData(t)&&$e.isFunction(t.entries)){const r={};return $e.forEachEntry(t,(n,o)=>{e(ST(n),o,r,0)}),r}return null}function NT(t,e,r){if($e.isString(t))try{return(e||JSON.parse)(t),$e.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Cd={transitional:KN,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",o=n.indexOf("application/json")>-1,a=$e.isObject(e);if(a&&$e.isHTMLForm(e)&&(e=new FormData(e)),$e.isFormData(e))return o?JSON.stringify(GN(e)):e;if($e.isArrayBuffer(e)||$e.isBuffer(e)||$e.isStream(e)||$e.isFile(e)||$e.isBlob(e)||$e.isReadableStream(e))return e;if($e.isArrayBufferView(e))return e.buffer;if($e.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return xT(e,this.formSerializer).toString();if((c=$e.isFileList(e))||n.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Pp(c?{"files[]":e}:e,p&&new p,this.formSerializer)}}return a||o?(r.setContentType("application/json",!1),NT(e)):e}],transformResponse:[function(e){const r=this.transitional||Cd.transitional,n=r&&r.forcedJSONParsing,o=this.responseType==="json";if($e.isResponse(e)||$e.isReadableStream(e))return e;if(e&&$e.isString(e)&&(n&&!this.responseType||o)){const l=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(c){if(l)throw c.name==="SyntaxError"?rr.from(c,rr.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:An.classes.FormData,Blob:An.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$e.forEach(["delete","get","head","post","put","patch"],t=>{Cd.headers[t]={}});const kT=$e.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),qT=t=>{const e={};let r,n,o;return t&&t.split(`
`).forEach(function(l){o=l.indexOf(":"),r=l.substring(0,o).trim().toLowerCase(),n=l.substring(o+1).trim(),!(!r||e[r]&&kT[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},Nx=Symbol("internals");function xc(t){return t&&String(t).trim().toLowerCase()}function wh(t){return t===!1||t==null?t:$e.isArray(t)?t.map(wh):String(t)}function CT(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const RT=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function cg(t,e,r,n,o){if($e.isFunction(n))return n.call(this,e,r);if(o&&(e=r),!!$e.isString(e)){if($e.isString(n))return e.indexOf(n)!==-1;if($e.isRegExp(n))return n.test(e)}}function OT(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function TT(t,e){const r=$e.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(o,a,l){return this[n].call(this,e,o,a,l)},configurable:!0})})}let oi=class{constructor(e){e&&this.set(e)}set(e,r,n){const o=this;function a(c,p,m){const b=xc(p);if(!b)throw new Error("header name must be a non-empty string");const x=$e.findKey(o,b);(!x||o[x]===void 0||m===!0||m===void 0&&o[x]!==!1)&&(o[x||p]=wh(c))}const l=(c,p)=>$e.forEach(c,(m,b)=>a(m,b,p));if($e.isPlainObject(e)||e instanceof this.constructor)l(e,r);else if($e.isString(e)&&(e=e.trim())&&!RT(e))l(qT(e),r);else if($e.isHeaders(e))for(const[c,p]of e.entries())a(p,c,n);else e!=null&&a(r,e,n);return this}get(e,r){if(e=xc(e),e){const n=$e.findKey(this,e);if(n){const o=this[n];if(!r)return o;if(r===!0)return CT(o);if($e.isFunction(r))return r.call(this,o,n);if($e.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=xc(e),e){const n=$e.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||cg(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let o=!1;function a(l){if(l=xc(l),l){const c=$e.findKey(n,l);c&&(!r||cg(n,n[c],c,r))&&(delete n[c],o=!0)}}return $e.isArray(e)?e.forEach(a):a(e),o}clear(e){const r=Object.keys(this);let n=r.length,o=!1;for(;n--;){const a=r[n];(!e||cg(this,this[a],a,e,!0))&&(delete this[a],o=!0)}return o}normalize(e){const r=this,n={};return $e.forEach(this,(o,a)=>{const l=$e.findKey(n,a);if(l){r[l]=wh(o),delete r[a];return}const c=e?OT(a):String(a).trim();c!==a&&delete r[a],r[c]=wh(o),n[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return $e.forEach(this,(n,o)=>{n!=null&&n!==!1&&(r[o]=e&&$e.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(o=>n.set(o)),n}static accessor(e){const n=(this[Nx]=this[Nx]={accessors:{}}).accessors,o=this.prototype;function a(l){const c=xc(l);n[c]||(TT(o,l),n[c]=!0)}return $e.isArray(e)?e.forEach(a):a(e),this}};oi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$e.reduceDescriptors(oi.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});$e.freezeMethods(oi);function dg(t,e){const r=this||Cd,n=e||r,o=oi.from(n.headers);let a=n.data;return $e.forEach(t,function(c){a=c.call(r,a,o.normalize(),e?e.status:void 0)}),o.normalize(),a}function JN(t){return!!(t&&t.__CANCEL__)}function Cu(t,e,r){rr.call(this,t??"canceled",rr.ERR_CANCELED,e,r),this.name="CanceledError"}$e.inherits(Cu,rr,{__CANCEL__:!0});function ZN(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new rr("Request failed with status code "+r.status,[rr.ERR_BAD_REQUEST,rr.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function AT(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function IT(t,e){t=t||10;const r=new Array(t),n=new Array(t);let o=0,a=0,l;return e=e!==void 0?e:1e3,function(p){const m=Date.now(),b=n[a];l||(l=m),r[o]=p,n[o]=m;let x=a,N=0;for(;x!==o;)N+=r[x++],x=x%t;if(o=(o+1)%t,o===a&&(a=(a+1)%t),m-l<e)return;const q=b&&m-b;return q?Math.round(N*1e3/q):void 0}}function PT(t,e){let r=0,n=1e3/e,o,a;const l=(m,b=Date.now())=>{r=b,o=null,a&&(clearTimeout(a),a=null),t.apply(null,m)};return[(...m)=>{const b=Date.now(),x=b-r;x>=n?l(m,b):(o=m,a||(a=setTimeout(()=>{a=null,l(o)},n-x)))},()=>o&&l(o)]}const Uh=(t,e,r=3)=>{let n=0;const o=IT(50,250);return PT(a=>{const l=a.loaded,c=a.lengthComputable?a.total:void 0,p=l-n,m=o(p),b=l<=c;n=l;const x={loaded:l,total:c,progress:c?l/c:void 0,bytes:p,rate:m||void 0,estimated:m&&c&&b?(c-l)/m:void 0,event:a,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(x)},r)},kx=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},qx=t=>(...e)=>$e.asap(()=>t(...e)),FT=An.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,An.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(An.origin),An.navigator&&/(msie|trident)/i.test(An.navigator.userAgent)):()=>!0,LT=An.hasStandardBrowserEnv?{write(t,e,r,n,o,a){const l=[t+"="+encodeURIComponent(e)];$e.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),$e.isString(n)&&l.push("path="+n),$e.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function jT(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function DT(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function XN(t,e){return t&&!jT(e)?DT(t,e):e}const Cx=t=>t instanceof oi?{...t}:t;function el(t,e){e=e||{};const r={};function n(m,b,x,N){return $e.isPlainObject(m)&&$e.isPlainObject(b)?$e.merge.call({caseless:N},m,b):$e.isPlainObject(b)?$e.merge({},b):$e.isArray(b)?b.slice():b}function o(m,b,x,N){if($e.isUndefined(b)){if(!$e.isUndefined(m))return n(void 0,m,x,N)}else return n(m,b,x,N)}function a(m,b){if(!$e.isUndefined(b))return n(void 0,b)}function l(m,b){if($e.isUndefined(b)){if(!$e.isUndefined(m))return n(void 0,m)}else return n(void 0,b)}function c(m,b,x){if(x in e)return n(m,b);if(x in t)return n(void 0,m)}const p={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(m,b,x)=>o(Cx(m),Cx(b),x,!0)};return $e.forEach(Object.keys(Object.assign({},t,e)),function(b){const x=p[b]||o,N=x(t[b],e[b],b);$e.isUndefined(N)&&x!==c||(r[b]=N)}),r}const YN=t=>{const e=el({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:o,xsrfCookieName:a,headers:l,auth:c}=e;e.headers=l=oi.from(l),e.url=QN(XN(e.baseURL,e.url),t.params,t.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):"")));let p;if($e.isFormData(r)){if(An.hasStandardBrowserEnv||An.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((p=l.getContentType())!==!1){const[m,...b]=p?p.split(";").map(x=>x.trim()).filter(Boolean):[];l.setContentType([m||"multipart/form-data",...b].join("; "))}}if(An.hasStandardBrowserEnv&&(n&&$e.isFunction(n)&&(n=n(e)),n||n!==!1&&FT(e.url))){const m=o&&a&&LT.read(a);m&&l.set(o,m)}return e},MT=typeof XMLHttpRequest<"u",BT=MT&&function(t){return new Promise(function(r,n){const o=YN(t);let a=o.data;const l=oi.from(o.headers).normalize();let{responseType:c,onUploadProgress:p,onDownloadProgress:m}=o,b,x,N,q,R;function C(){q&&q(),R&&R(),o.cancelToken&&o.cancelToken.unsubscribe(b),o.signal&&o.signal.removeEventListener("abort",b)}let L=new XMLHttpRequest;L.open(o.method.toUpperCase(),o.url,!0),L.timeout=o.timeout;function P(){if(!L)return;const D=oi.from("getAllResponseHeaders"in L&&L.getAllResponseHeaders()),V={data:!c||c==="text"||c==="json"?L.responseText:L.response,status:L.status,statusText:L.statusText,headers:D,config:t,request:L};ZN(function(K){r(K),C()},function(K){n(K),C()},V),L=null}"onloadend"in L?L.onloadend=P:L.onreadystatechange=function(){!L||L.readyState!==4||L.status===0&&!(L.responseURL&&L.responseURL.indexOf("file:")===0)||setTimeout(P)},L.onabort=function(){L&&(n(new rr("Request aborted",rr.ECONNABORTED,t,L)),L=null)},L.onerror=function(){n(new rr("Network Error",rr.ERR_NETWORK,t,L)),L=null},L.ontimeout=function(){let z=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const V=o.transitional||KN;o.timeoutErrorMessage&&(z=o.timeoutErrorMessage),n(new rr(z,V.clarifyTimeoutError?rr.ETIMEDOUT:rr.ECONNABORTED,t,L)),L=null},a===void 0&&l.setContentType(null),"setRequestHeader"in L&&$e.forEach(l.toJSON(),function(z,V){L.setRequestHeader(V,z)}),$e.isUndefined(o.withCredentials)||(L.withCredentials=!!o.withCredentials),c&&c!=="json"&&(L.responseType=o.responseType),m&&([N,R]=Uh(m,!0),L.addEventListener("progress",N)),p&&L.upload&&([x,q]=Uh(p),L.upload.addEventListener("progress",x),L.upload.addEventListener("loadend",q)),(o.cancelToken||o.signal)&&(b=D=>{L&&(n(!D||D.type?new Cu(null,t,L):D),L.abort(),L=null)},o.cancelToken&&o.cancelToken.subscribe(b),o.signal&&(o.signal.aborted?b():o.signal.addEventListener("abort",b)));const I=AT(o.url);if(I&&An.protocols.indexOf(I)===-1){n(new rr("Unsupported protocol "+I+":",rr.ERR_BAD_REQUEST,t));return}L.send(a||null)})},WT=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,o;const a=function(m){if(!o){o=!0,c();const b=m instanceof Error?m:this.reason;n.abort(b instanceof rr?b:new Cu(b instanceof Error?b.message:b))}};let l=e&&setTimeout(()=>{l=null,a(new rr(`timeout ${e} of ms exceeded`,rr.ETIMEDOUT))},e);const c=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(a):m.removeEventListener("abort",a)}),t=null)};t.forEach(m=>m.addEventListener("abort",a));const{signal:p}=n;return p.unsubscribe=()=>$e.asap(c),p}},$T=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,o;for(;n<r;)o=n+e,yield t.slice(n,o),n=o},UT=async function*(t,e){for await(const r of zT(t))yield*$T(r,e)},zT=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},Rx=(t,e,r,n)=>{const o=UT(t,e);let a=0,l,c=p=>{l||(l=!0,n&&n(p))};return new ReadableStream({async pull(p){try{const{done:m,value:b}=await o.next();if(m){c(),p.close();return}let x=b.byteLength;if(r){let N=a+=x;r(N)}p.enqueue(new Uint8Array(b))}catch(m){throw c(m),m}},cancel(p){return c(p),o.return()}},{highWaterMark:2})},Fp=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",e1=Fp&&typeof ReadableStream=="function",VT=Fp&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),t1=(t,...e)=>{try{return!!t(...e)}catch{return!1}},HT=e1&&t1(()=>{let t=!1;const e=new Request(An.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),Ox=64*1024,Fv=e1&&t1(()=>$e.isReadableStream(new Response("").body)),zh={stream:Fv&&(t=>t.body)};Fp&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!zh[e]&&(zh[e]=$e.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new rr(`Response type '${e}' is not supported`,rr.ERR_NOT_SUPPORT,n)})})})(new Response);const QT=async t=>{if(t==null)return 0;if($e.isBlob(t))return t.size;if($e.isSpecCompliantForm(t))return(await new Request(An.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if($e.isArrayBufferView(t)||$e.isArrayBuffer(t))return t.byteLength;if($e.isURLSearchParams(t)&&(t=t+""),$e.isString(t))return(await VT(t)).byteLength},KT=async(t,e)=>{const r=$e.toFiniteNumber(t.getContentLength());return r??QT(e)},GT=Fp&&(async t=>{let{url:e,method:r,data:n,signal:o,cancelToken:a,timeout:l,onDownloadProgress:c,onUploadProgress:p,responseType:m,headers:b,withCredentials:x="same-origin",fetchOptions:N}=YN(t);m=m?(m+"").toLowerCase():"text";let q=WT([o,a&&a.toAbortSignal()],l),R;const C=q&&q.unsubscribe&&(()=>{q.unsubscribe()});let L;try{if(p&&HT&&r!=="get"&&r!=="head"&&(L=await KT(b,n))!==0){let V=new Request(e,{method:"POST",body:n,duplex:"half"}),W;if($e.isFormData(n)&&(W=V.headers.get("content-type"))&&b.setContentType(W),V.body){const[K,le]=kx(L,Uh(qx(p)));n=Rx(V.body,Ox,K,le)}}$e.isString(x)||(x=x?"include":"omit");const P="credentials"in Request.prototype;R=new Request(e,{...N,signal:q,method:r.toUpperCase(),headers:b.normalize().toJSON(),body:n,duplex:"half",credentials:P?x:void 0});let I=await fetch(R);const D=Fv&&(m==="stream"||m==="response");if(Fv&&(c||D&&C)){const V={};["status","statusText","headers"].forEach(H=>{V[H]=I[H]});const W=$e.toFiniteNumber(I.headers.get("content-length")),[K,le]=c&&kx(W,Uh(qx(c),!0))||[];I=new Response(Rx(I.body,Ox,K,()=>{le&&le(),C&&C()}),V)}m=m||"text";let z=await zh[$e.findKey(zh,m)||"text"](I,t);return!D&&C&&C(),await new Promise((V,W)=>{ZN(V,W,{data:z,headers:oi.from(I.headers),status:I.status,statusText:I.statusText,config:t,request:R})})}catch(P){throw C&&C(),P&&P.name==="TypeError"&&/fetch/i.test(P.message)?Object.assign(new rr("Network Error",rr.ERR_NETWORK,t,R),{cause:P.cause||P}):rr.from(P,P&&P.code,t,R)}}),Lv={http:cT,xhr:BT,fetch:GT};$e.forEach(Lv,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Tx=t=>`- ${t}`,JT=t=>$e.isFunction(t)||t===null||t===!1,r1={getAdapter:t=>{t=$e.isArray(t)?t:[t];const{length:e}=t;let r,n;const o={};for(let a=0;a<e;a++){r=t[a];let l;if(n=r,!JT(r)&&(n=Lv[(l=String(r)).toLowerCase()],n===void 0))throw new rr(`Unknown adapter '${l}'`);if(n)break;o[l||"#"+a]=n}if(!n){const a=Object.entries(o).map(([c,p])=>`adapter ${c} `+(p===!1?"is not supported by the environment":"is not available in the build"));let l=e?a.length>1?`since :
`+a.map(Tx).join(`
`):" "+Tx(a[0]):"as no adapter specified";throw new rr("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:Lv};function fg(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Cu(null,t)}function Ax(t){return fg(t),t.headers=oi.from(t.headers),t.data=dg.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),r1.getAdapter(t.adapter||Cd.adapter)(t).then(function(n){return fg(t),n.data=dg.call(t,t.transformResponse,n),n.headers=oi.from(n.headers),n},function(n){return JN(n)||(fg(t),n&&n.response&&(n.response.data=dg.call(t,t.transformResponse,n.response),n.response.headers=oi.from(n.response.headers))),Promise.reject(n)})}const n1="1.7.9",Lp={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Lp[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const Ix={};Lp.transitional=function(e,r,n){function o(a,l){return"[Axios v"+n1+"] Transitional option '"+a+"'"+l+(n?". "+n:"")}return(a,l,c)=>{if(e===!1)throw new rr(o(l," has been removed"+(r?" in "+r:"")),rr.ERR_DEPRECATED);return r&&!Ix[l]&&(Ix[l]=!0,console.warn(o(l," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,l,c):!0}};Lp.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function ZT(t,e,r){if(typeof t!="object")throw new rr("options must be an object",rr.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let o=n.length;for(;o-- >0;){const a=n[o],l=e[a];if(l){const c=t[a],p=c===void 0||l(c,a,t);if(p!==!0)throw new rr("option "+a+" must be "+p,rr.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new rr("Unknown option "+a,rr.ERR_BAD_OPTION)}}const xh={assertOptions:ZT,validators:Lp},gs=xh.validators;let Ja=class{constructor(e){this.defaults=e,this.interceptors={request:new Ex,response:new Ex}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const a=o.stack?o.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=el(this.defaults,r);const{transitional:n,paramsSerializer:o,headers:a}=r;n!==void 0&&xh.assertOptions(n,{silentJSONParsing:gs.transitional(gs.boolean),forcedJSONParsing:gs.transitional(gs.boolean),clarifyTimeoutError:gs.transitional(gs.boolean)},!1),o!=null&&($e.isFunction(o)?r.paramsSerializer={serialize:o}:xh.assertOptions(o,{encode:gs.function,serialize:gs.function},!0)),xh.assertOptions(r,{baseUrl:gs.spelling("baseURL"),withXsrfToken:gs.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=a&&$e.merge(a.common,a[r.method]);a&&$e.forEach(["delete","get","head","post","put","patch","common"],R=>{delete a[R]}),r.headers=oi.concat(l,a);const c=[];let p=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(r)===!1||(p=p&&C.synchronous,c.unshift(C.fulfilled,C.rejected))});const m=[];this.interceptors.response.forEach(function(C){m.push(C.fulfilled,C.rejected)});let b,x=0,N;if(!p){const R=[Ax.bind(this),void 0];for(R.unshift.apply(R,c),R.push.apply(R,m),N=R.length,b=Promise.resolve(r);x<N;)b=b.then(R[x++],R[x++]);return b}N=c.length;let q=r;for(x=0;x<N;){const R=c[x++],C=c[x++];try{q=R(q)}catch(L){C.call(this,L);break}}try{b=Ax.call(this,q)}catch(R){return Promise.reject(R)}for(x=0,N=m.length;x<N;)b=b.then(m[x++],m[x++]);return b}getUri(e){e=el(this.defaults,e);const r=XN(e.baseURL,e.url);return QN(r,e.params,e.paramsSerializer)}};$e.forEach(["delete","get","head","options"],function(e){Ja.prototype[e]=function(r,n){return this.request(el(n||{},{method:e,url:r,data:(n||{}).data}))}});$e.forEach(["post","put","patch"],function(e){function r(n){return function(a,l,c){return this.request(el(c||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}Ja.prototype[e]=r(),Ja.prototype[e+"Form"]=r(!0)});let XT=class i1{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(o=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](o);n._listeners=null}),this.promise.then=o=>{let a;const l=new Promise(c=>{n.subscribe(c),a=c}).then(o);return l.cancel=function(){n.unsubscribe(a)},l},e(function(a,l,c){n.reason||(n.reason=new Cu(a,l,c),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new i1(function(o){e=o}),cancel:e}}};function YT(t){return function(r){return t.apply(null,r)}}function eA(t){return $e.isObject(t)&&t.isAxiosError===!0}const jv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(jv).forEach(([t,e])=>{jv[e]=t});function s1(t){const e=new Ja(t),r=FN(Ja.prototype.request,e);return $e.extend(r,Ja.prototype,e,{allOwnKeys:!0}),$e.extend(r,e,null,{allOwnKeys:!0}),r.create=function(o){return s1(el(t,o))},r}const nn=s1(Cd);nn.Axios=Ja;nn.CanceledError=Cu;nn.CancelToken=XT;nn.isCancel=JN;nn.VERSION=n1;nn.toFormData=Pp;nn.AxiosError=rr;nn.Cancel=nn.CanceledError;nn.all=function(e){return Promise.all(e)};nn.spread=YT;nn.isAxiosError=eA;nn.mergeConfig=el;nn.AxiosHeaders=oi;nn.formToJSON=t=>GN($e.isHTMLForm(t)?new FormData(t):t);nn.getAdapter=r1.getAdapter;nn.HttpStatusCode=jv;nn.default=nn;const{Axios:EB,AxiosError:tA,CanceledError:NB,isCancel:kB,CancelToken:qB,VERSION:CB,all:RB,Cancel:OB,isAxiosError:TB,spread:AB,toFormData:IB,AxiosHeaders:PB,HttpStatusCode:FB,formToJSON:LB,getAdapter:jB,mergeConfig:DB}=nn,S_=({error:t,schema:e,onError:r})=>{if(t instanceof tA){const o=e.safeParse(t.response?.data);return o.success&&r({error:t,data:o.data}),o.success}return!1};var hg,Px;function rA(){if(Px)return hg;Px=1;function t(n){this.queue=[],this.timeslotRequests=0,this.interceptors={request:null,response:null},this.handleRequest=this.handleRequest.bind(this),this.handleResponse=this.handleResponse.bind(this),this.enable(n)}t.prototype.getMaxRPS=function(){var n=this.perMilliseconds/1e3;return this.maxRequests/n},t.prototype.getQueue=function(){return this.queue},t.prototype.setMaxRPS=function(n){this.setRateLimitOptions({maxRequests:n,perMilliseconds:1e3})},t.prototype.setRateLimitOptions=function(n){n.maxRPS?this.setMaxRPS(n.maxRPS):(this.perMilliseconds=n.perMilliseconds,this.maxRequests=n.maxRequests)},t.prototype.enable=function(n){function o(a){return Promise.reject(a)}this.interceptors.request=n.interceptors.request.use(this.handleRequest,o),this.interceptors.response=n.interceptors.response.use(this.handleResponse,o)};function e(n){n.cancelToken&&n.cancelToken.throwIfRequested()}t.prototype.handleRequest=function(n){return new Promise(function(o,a){this.push({resolve:function(){try{e(n)}catch(l){return a(l),!1}return o(n),!0}})}.bind(this))},t.prototype.handleResponse=function(n){return this.shift(),n},t.prototype.push=function(n){this.queue.push(n),this.shiftInitial()},t.prototype.shiftInitial=function(){setTimeout(function(){return this.shift()}.bind(this),0)},t.prototype.shift=function(){if(this.queue.length){if(this.timeslotRequests===this.maxRequests){this.timeoutId&&typeof this.timeoutId.ref=="function"&&this.timeoutId.ref();return}var n=this.queue.shift(),o=n.resolve();if(this.timeslotRequests===0&&(this.timeoutId=setTimeout(function(){this.timeslotRequests=0,this.shift()}.bind(this),this.perMilliseconds),typeof this.timeoutId.unref=="function"&&this.queue.length===0&&this.timeoutId.unref()),!o){this.shift();return}this.timeslotRequests+=1}};function r(n,o){var a=new t(n);return a.setRateLimitOptions(o),n.getQueue=t.prototype.getQueue.bind(a),n.getMaxRPS=t.prototype.getMaxRPS.bind(a),n.setMaxRPS=t.prototype.setMaxRPS.bind(a),n.setRateLimitOptions=t.prototype.setRateLimitOptions.bind(a),n}return hg=r,hg}var nA=rA();const iA=Eu(nA),sA=({instance:t,limit:e}={})=>iA(t||nn,e||{maxRequests:5,perMilliseconds:100}),E_="-",oA=t=>{const e=lA(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:l=>{const c=l.split(E_);return c[0]===""&&c.length!==1&&c.shift(),o1(c,e)||aA(l)},getConflictingClassGroupIds:(l,c)=>{const p=r[l]||[];return c&&n[l]?[...p,...n[l]]:p}}},o1=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),o=n?o1(t.slice(1),n):void 0;if(o)return o;if(e.validators.length===0)return;const a=t.join(E_);return e.validators.find(({validator:l})=>l(a))?.classGroupId},Fx=/^\[(.+)\]$/,aA=t=>{if(Fx.test(t)){const e=Fx.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},lA=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return cA(Object.entries(t.classGroups),r).forEach(([a,l])=>{Dv(l,n,a,e)}),n},Dv=(t,e,r,n)=>{t.forEach(o=>{if(typeof o=="string"){const a=o===""?e:Lx(e,o);a.classGroupId=r;return}if(typeof o=="function"){if(uA(o)){Dv(o(n),e,r,n);return}e.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([a,l])=>{Dv(l,Lx(e,a),r,n)})})},Lx=(t,e)=>{let r=t;return e.split(E_).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},uA=t=>t.isThemeGetter,cA=(t,e)=>e?t.map(([r,n])=>{const o=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([l,c])=>[e+l,c])):a);return[r,o]}):t,dA=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const o=(a,l)=>{r.set(a,l),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let l=r.get(a);if(l!==void 0)return l;if((l=n.get(a))!==void 0)return o(a,l),l},set(a,l){r.has(a)?r.set(a,l):o(a,l)}}},a1="!",fA=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,o=e[0],a=e.length,l=c=>{const p=[];let m=0,b=0,x;for(let L=0;L<c.length;L++){let P=c[L];if(m===0){if(P===o&&(n||c.slice(L,L+a)===e)){p.push(c.slice(b,L)),b=L+a;continue}if(P==="/"){x=L;continue}}P==="["?m++:P==="]"&&m--}const N=p.length===0?c:c.substring(b),q=N.startsWith(a1),R=q?N.substring(1):N,C=x&&x>b?x-b:void 0;return{modifiers:p,hasImportantModifier:q,baseClassName:R,maybePostfixModifierPosition:C}};return r?c=>r({className:c,parseClassName:l}):l},hA=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},pA=t=>({cache:dA(t.cacheSize),parseClassName:fA(t),...oA(t)}),mA=/\s+/,yA=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o}=e,a=[],l=t.trim().split(mA);let c="";for(let p=l.length-1;p>=0;p-=1){const m=l[p],{modifiers:b,hasImportantModifier:x,baseClassName:N,maybePostfixModifierPosition:q}=r(m);let R=!!q,C=n(R?N.substring(0,q):N);if(!C){if(!R){c=m+(c.length>0?" "+c:c);continue}if(C=n(N),!C){c=m+(c.length>0?" "+c:c);continue}R=!1}const L=hA(b).join(":"),P=x?L+a1:L,I=P+C;if(a.includes(I))continue;a.push(I);const D=o(C,R);for(let z=0;z<D.length;++z){const V=D[z];a.push(P+V)}c=m+(c.length>0?" "+c:c)}return c};function gA(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=l1(e))&&(n&&(n+=" "),n+=r);return n}const l1=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=l1(t[n]))&&(r&&(r+=" "),r+=e);return r};function vA(t,...e){let r,n,o,a=l;function l(p){const m=e.reduce((b,x)=>x(b),t());return r=pA(m),n=r.cache.get,o=r.cache.set,a=c,c(p)}function c(p){const m=n(p);if(m)return m;const b=yA(p,r);return o(p,b),b}return function(){return a(gA.apply(null,arguments))}}const Mr=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},u1=/^\[(?:([a-z-]+):)?(.+)\]$/i,_A=/^\d+\/\d+$/,bA=new Set(["px","full","screen"]),wA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,SA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,EA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,NA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qs=t=>tu(t)||bA.has(t)||_A.test(t),Fo=t=>Ru(t,"length",IA),tu=t=>!!t&&!Number.isNaN(Number(t)),pg=t=>Ru(t,"number",tu),Sc=t=>!!t&&Number.isInteger(Number(t)),kA=t=>t.endsWith("%")&&tu(t.slice(0,-1)),ir=t=>u1.test(t),Lo=t=>wA.test(t),qA=new Set(["length","size","percentage"]),CA=t=>Ru(t,qA,c1),RA=t=>Ru(t,"position",c1),OA=new Set(["image","url"]),TA=t=>Ru(t,OA,FA),AA=t=>Ru(t,"",PA),Ec=()=>!0,Ru=(t,e,r)=>{const n=u1.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},IA=t=>xA.test(t)&&!SA.test(t),c1=()=>!1,PA=t=>EA.test(t),FA=t=>NA.test(t),LA=()=>{const t=Mr("colors"),e=Mr("spacing"),r=Mr("blur"),n=Mr("brightness"),o=Mr("borderColor"),a=Mr("borderRadius"),l=Mr("borderSpacing"),c=Mr("borderWidth"),p=Mr("contrast"),m=Mr("grayscale"),b=Mr("hueRotate"),x=Mr("invert"),N=Mr("gap"),q=Mr("gradientColorStops"),R=Mr("gradientColorStopPositions"),C=Mr("inset"),L=Mr("margin"),P=Mr("opacity"),I=Mr("padding"),D=Mr("saturate"),z=Mr("scale"),V=Mr("sepia"),W=Mr("skew"),K=Mr("space"),le=Mr("translate"),H=()=>["auto","contain","none"],ne=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto",ir,e],re=()=>[ir,e],Z=()=>["",Qs,Fo],pe=()=>["auto",tu,ir],Re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ce=()=>["solid","dashed","dotted","double","none"],Pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ve=()=>["start","end","center","between","around","evenly","stretch"],me=()=>["","0",ir],Ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[tu,ir];return{cacheSize:500,separator:":",theme:{colors:[Ec],spacing:[Qs,Fo],blur:["none","",Lo,ir],brightness:Q(),borderColor:[t],borderRadius:["none","","full",Lo,ir],borderSpacing:re(),borderWidth:Z(),contrast:Q(),grayscale:me(),hueRotate:Q(),invert:me(),gap:re(),gradientColorStops:[t],gradientColorStopPositions:[kA,Fo],inset:B(),margin:B(),opacity:Q(),padding:re(),saturate:Q(),scale:Q(),sepia:me(),skew:Q(),space:re(),translate:re()},classGroups:{aspect:[{aspect:["auto","square","video",ir]}],container:["container"],columns:[{columns:[Lo]}],"break-after":[{"break-after":Ee()}],"break-before":[{"break-before":Ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Re(),ir]}],overflow:[{overflow:ne()}],"overflow-x":[{"overflow-x":ne()}],"overflow-y":[{"overflow-y":ne()}],overscroll:[{overscroll:H()}],"overscroll-x":[{"overscroll-x":H()}],"overscroll-y":[{"overscroll-y":H()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[C]}],"inset-x":[{"inset-x":[C]}],"inset-y":[{"inset-y":[C]}],start:[{start:[C]}],end:[{end:[C]}],top:[{top:[C]}],right:[{right:[C]}],bottom:[{bottom:[C]}],left:[{left:[C]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Sc,ir]}],basis:[{basis:B()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ir]}],grow:[{grow:me()}],shrink:[{shrink:me()}],order:[{order:["first","last","none",Sc,ir]}],"grid-cols":[{"grid-cols":[Ec]}],"col-start-end":[{col:["auto",{span:["full",Sc,ir]},ir]}],"col-start":[{"col-start":pe()}],"col-end":[{"col-end":pe()}],"grid-rows":[{"grid-rows":[Ec]}],"row-start-end":[{row:["auto",{span:[Sc,ir]},ir]}],"row-start":[{"row-start":pe()}],"row-end":[{"row-end":pe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ir]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ir]}],gap:[{gap:[N]}],"gap-x":[{"gap-x":[N]}],"gap-y":[{"gap-y":[N]}],"justify-content":[{justify:["normal",...ve()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ve(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ve(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[I]}],px:[{px:[I]}],py:[{py:[I]}],ps:[{ps:[I]}],pe:[{pe:[I]}],pt:[{pt:[I]}],pr:[{pr:[I]}],pb:[{pb:[I]}],pl:[{pl:[I]}],m:[{m:[L]}],mx:[{mx:[L]}],my:[{my:[L]}],ms:[{ms:[L]}],me:[{me:[L]}],mt:[{mt:[L]}],mr:[{mr:[L]}],mb:[{mb:[L]}],ml:[{ml:[L]}],"space-x":[{"space-x":[K]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[K]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ir,e]}],"min-w":[{"min-w":[ir,e,"min","max","fit"]}],"max-w":[{"max-w":[ir,e,"none","full","min","max","fit","prose",{screen:[Lo]},Lo]}],h:[{h:[ir,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ir,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ir,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ir,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Lo,Fo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",pg]}],"font-family":[{font:[Ec]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ir]}],"line-clamp":[{"line-clamp":["none",tu,pg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qs,ir]}],"list-image":[{"list-image":["none",ir]}],"list-style-type":[{list:["none","disc","decimal",ir]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[P]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[P]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ce(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qs,Fo]}],"underline-offset":[{"underline-offset":["auto",Qs,ir]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:re()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ir]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ir]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[P]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Re(),RA]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",CA]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},TA]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[R]}],"gradient-via-pos":[{via:[R]}],"gradient-to-pos":[{to:[R]}],"gradient-from":[{from:[q]}],"gradient-via":[{via:[q]}],"gradient-to":[{to:[q]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[P]}],"border-style":[{border:[...Ce(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[P]}],"divide-style":[{divide:Ce()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...Ce()]}],"outline-offset":[{"outline-offset":[Qs,ir]}],"outline-w":[{outline:[Qs,Fo]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[P]}],"ring-offset-w":[{"ring-offset":[Qs,Fo]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Lo,AA]}],"shadow-color":[{shadow:[Ec]}],opacity:[{opacity:[P]}],"mix-blend":[{"mix-blend":[...Pe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Pe()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[p]}],"drop-shadow":[{"drop-shadow":["","none",Lo,ir]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[b]}],invert:[{invert:[x]}],saturate:[{saturate:[D]}],sepia:[{sepia:[V]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[p]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[b]}],"backdrop-invert":[{"backdrop-invert":[x]}],"backdrop-opacity":[{"backdrop-opacity":[P]}],"backdrop-saturate":[{"backdrop-saturate":[D]}],"backdrop-sepia":[{"backdrop-sepia":[V]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ir]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",ir]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",ir]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[z]}],"scale-x":[{"scale-x":[z]}],"scale-y":[{"scale-y":[z]}],rotate:[{rotate:[Sc,ir]}],"translate-x":[{"translate-x":[le]}],"translate-y":[{"translate-y":[le]}],"skew-x":[{"skew-x":[W]}],"skew-y":[{"skew-y":[W]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ir]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ir]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":re()}],"scroll-mx":[{"scroll-mx":re()}],"scroll-my":[{"scroll-my":re()}],"scroll-ms":[{"scroll-ms":re()}],"scroll-me":[{"scroll-me":re()}],"scroll-mt":[{"scroll-mt":re()}],"scroll-mr":[{"scroll-mr":re()}],"scroll-mb":[{"scroll-mb":re()}],"scroll-ml":[{"scroll-ml":re()}],"scroll-p":[{"scroll-p":re()}],"scroll-px":[{"scroll-px":re()}],"scroll-py":[{"scroll-py":re()}],"scroll-ps":[{"scroll-ps":re()}],"scroll-pe":[{"scroll-pe":re()}],"scroll-pt":[{"scroll-pt":re()}],"scroll-pr":[{"scroll-pr":re()}],"scroll-pb":[{"scroll-pb":re()}],"scroll-pl":[{"scroll-pl":re()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ir]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Qs,Fo,pg]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},d1=vA(LA),Mv=new Proxy(()=>Mv,{get:()=>Mv});function lr({use:t,slot:e,variant:r,match:n=[],defaults:o}){return({css:a,...l}={})=>({slots:new Proxy({},{get:(c,p)=>({css:m,...b}={})=>{const x=[],N=t,q={...N?.()?.config.defaults,...o,...l,...b};x.push(N?.(q)?.slots[p]?.(q)),x.push(Array.isArray(e[p])?e[p]:[e[p]]);for(const[R,C]of Object.entries(q)){const L=r[R]?.[C];L&&x.push(L)}for(const R of n)Object.entries(R.if).every(([C,L])=>L===q[C])&&x.push(R.then?.[p]);return x.push(a?.[p]),x.push(m),d1(x)}}),config:{defaults:{...t?.()?.config.defaults,...o},values:{...t?.()?.config.defaults,...o,...l}},type:Mv()})}const N_=d1;var mg,jx;function jA(){return jx||(jx=1,mg=Object),mg}var yg,Dx;function DA(){return Dx||(Dx=1,yg=Error),yg}var gg,Mx;function MA(){return Mx||(Mx=1,gg=EvalError),gg}var vg,Bx;function BA(){return Bx||(Bx=1,vg=RangeError),vg}var _g,Wx;function WA(){return Wx||(Wx=1,_g=ReferenceError),_g}var bg,$x;function $A(){return $x||($x=1,bg=SyntaxError),bg}var wg,Ux;function f1(){return Ux||(Ux=1,wg=TypeError),wg}var xg,zx;function UA(){return zx||(zx=1,xg=URIError),xg}var Sg,Vx;function zA(){return Vx||(Vx=1,Sg=Math.abs),Sg}var Eg,Hx;function VA(){return Hx||(Hx=1,Eg=Math.floor),Eg}var Ng,Qx;function HA(){return Qx||(Qx=1,Ng=Math.max),Ng}var kg,Kx;function QA(){return Kx||(Kx=1,kg=Math.min),kg}var qg,Gx;function KA(){return Gx||(Gx=1,qg=Math.pow),qg}var Cg,Jx;function GA(){return Jx||(Jx=1,Cg=Object.getOwnPropertyDescriptor),Cg}var Rg,Zx;function h1(){if(Zx)return Rg;Zx=1;var t=GA();if(t)try{t([],"length")}catch{t=null}return Rg=t,Rg}var Og,Xx;function JA(){if(Xx)return Og;Xx=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return Og=t,Og}var Tg,Yx;function p1(){return Yx||(Yx=1,Tg=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;e[r]=o;for(var a in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var l=Object.getOwnPropertySymbols(e);if(l.length!==1||l[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(e,r);if(c.value!==o||c.enumerable!==!0)return!1}return!0}),Tg}var Ag,eS;function ZA(){if(eS)return Ag;eS=1;var t=typeof Symbol<"u"&&Symbol,e=p1();return Ag=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Ag}var Ig,tS;function XA(){if(tS)return Ig;tS=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,n="[object Function]",o=function(p,m){for(var b=[],x=0;x<p.length;x+=1)b[x]=p[x];for(var N=0;N<m.length;N+=1)b[N+p.length]=m[N];return b},a=function(p,m){for(var b=[],x=m,N=0;x<p.length;x+=1,N+=1)b[N]=p[x];return b},l=function(c,p){for(var m="",b=0;b<c.length;b+=1)m+=c[b],b+1<c.length&&(m+=p);return m};return Ig=function(p){var m=this;if(typeof m!="function"||e.apply(m)!==n)throw new TypeError(t+m);for(var b=a(arguments,1),x,N=function(){if(this instanceof x){var P=m.apply(this,o(b,arguments));return Object(P)===P?P:this}return m.apply(p,o(b,arguments))},q=r(0,m.length-b.length),R=[],C=0;C<q;C++)R[C]="$"+C;if(x=Function("binder","return function ("+l(R,",")+"){ return binder.apply(this,arguments); }")(N),m.prototype){var L=function(){};L.prototype=m.prototype,x.prototype=new L,L.prototype=null}return x},Ig}var Pg,rS;function jp(){if(rS)return Pg;rS=1;var t=XA();return Pg=Function.prototype.bind||t,Pg}var Fg,nS;function k_(){return nS||(nS=1,Fg=Function.prototype.call),Fg}var Lg,iS;function m1(){return iS||(iS=1,Lg=Function.prototype.apply),Lg}var jg,sS;function YA(){return sS||(sS=1,jg=typeof Reflect<"u"&&Reflect&&Reflect.apply),jg}var Dg,oS;function eI(){if(oS)return Dg;oS=1;var t=jp(),e=m1(),r=k_(),n=YA();return Dg=n||t.call(r,e),Dg}var Mg,aS;function y1(){if(aS)return Mg;aS=1;var t=jp(),e=f1(),r=k_(),n=eI();return Mg=function(a){if(a.length<1||typeof a[0]!="function")throw new e("a function is required");return n(t,r,a)},Mg}var Bg,lS;function tI(){if(lS)return Bg;lS=1;var t=y1(),e=h1(),r;try{r=[].__proto__===Array.prototype}catch(l){if(!l||typeof l!="object"||!("code"in l)||l.code!=="ERR_PROTO_ACCESS")throw l}var n=!!r&&e&&e(Object.prototype,"__proto__"),o=Object,a=o.getPrototypeOf;return Bg=n&&typeof n.get=="function"?t([n.get]):typeof a=="function"?function(c){return a(c==null?c:o(c))}:!1,Bg}var Wg,uS;function rI(){if(uS)return Wg;uS=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=jp();return Wg=r.call(t,e),Wg}var $g,cS;function nI(){if(cS)return $g;cS=1;var t,e=jA(),r=DA(),n=MA(),o=BA(),a=WA(),l=$A(),c=f1(),p=UA(),m=zA(),b=VA(),x=HA(),N=QA(),q=KA(),R=Function,C=function(mt){try{return R('"use strict"; return ('+mt+").constructor;")()}catch{}},L=h1(),P=JA(),I=function(){throw new c},D=L?function(){try{return arguments.callee,I}catch{try{return L(arguments,"callee").get}catch{return I}}}():I,z=ZA()(),V=tI(),W=typeof Reflect=="function"&&Reflect.getPrototypeOf||e.getPrototypeOf||V,K=m1(),le=k_(),H={},ne=typeof Uint8Array>"u"||!W?t:W(Uint8Array),B={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":z&&W?W([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":H,"%AsyncGenerator%":H,"%AsyncGeneratorFunction%":H,"%AsyncIteratorPrototype%":H,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":R,"%GeneratorFunction%":H,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":z&&W?W(W([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!z||!W?t:W(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":L,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":o,"%ReferenceError%":a,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!z||!W?t:W(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":z&&W?W(""[Symbol.iterator]()):t,"%Symbol%":z?Symbol:t,"%SyntaxError%":l,"%ThrowTypeError%":D,"%TypedArray%":ne,"%TypeError%":c,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":p,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":le,"%Function.prototype.apply%":K,"%Object.defineProperty%":P,"%Math.abs%":m,"%Math.floor%":b,"%Math.max%":x,"%Math.min%":N,"%Math.pow%":q};if(W)try{null.error}catch(mt){var re=W(W(mt));B["%Error.prototype%"]=re}var Z=function mt(ft){var gt;if(ft==="%AsyncFunction%")gt=C("async function () {}");else if(ft==="%GeneratorFunction%")gt=C("function* () {}");else if(ft==="%AsyncGeneratorFunction%")gt=C("async function* () {}");else if(ft==="%AsyncGenerator%"){var It=mt("%AsyncGeneratorFunction%");It&&(gt=It.prototype)}else if(ft==="%AsyncIteratorPrototype%"){var vt=mt("%AsyncGenerator%");vt&&W&&(gt=W(vt.prototype))}return B[ft]=gt,gt},pe={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Re=jp(),Ce=rI(),Pe=Re.call(le,Array.prototype.concat),ve=Re.call(K,Array.prototype.splice),me=Re.call(le,String.prototype.replace),Ee=Re.call(le,String.prototype.slice),Q=Re.call(le,RegExp.prototype.exec),xe=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,lt=/\\(\\)?/g,at=function(ft){var gt=Ee(ft,0,1),It=Ee(ft,-1);if(gt==="%"&&It!=="%")throw new l("invalid intrinsic syntax, expected closing `%`");if(It==="%"&&gt!=="%")throw new l("invalid intrinsic syntax, expected opening `%`");var vt=[];return me(ft,xe,function(yt,Rt,qt,Jt){vt[vt.length]=qt?me(Jt,lt,"$1"):Rt||yt}),vt},dt=function(ft,gt){var It=ft,vt;if(Ce(pe,It)&&(vt=pe[It],It="%"+vt[0]+"%"),Ce(B,It)){var yt=B[It];if(yt===H&&(yt=Z(It)),typeof yt>"u"&&!gt)throw new c("intrinsic "+ft+" exists, but is not available. Please file an issue!");return{alias:vt,name:It,value:yt}}throw new l("intrinsic "+ft+" does not exist!")};return $g=function(ft,gt){if(typeof ft!="string"||ft.length===0)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof gt!="boolean")throw new c('"allowMissing" argument must be a boolean');if(Q(/^%?[^%]*%?$/,ft)===null)throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var It=at(ft),vt=It.length>0?It[0]:"",yt=dt("%"+vt+"%",gt),Rt=yt.name,qt=yt.value,Jt=!1,Gt=yt.alias;Gt&&(vt=Gt[0],ve(It,Pe([0,1],Gt)));for(var er=1,ur=!0;er<It.length;er+=1){var se=It[er],ae=Ee(se,0,1),ye=Ee(se,-1);if((ae==='"'||ae==="'"||ae==="`"||ye==='"'||ye==="'"||ye==="`")&&ae!==ye)throw new l("property names with quotes must have matching quotes");if((se==="constructor"||!ur)&&(Jt=!0),vt+="."+se,Rt="%"+vt+"%",Ce(B,Rt))qt=B[Rt];else if(qt!=null){if(!(se in qt)){if(!gt)throw new c("base intrinsic for "+ft+" exists, but the property is not available.");return}if(L&&er+1>=It.length){var Oe=L(qt,se);ur=!!Oe,ur&&"get"in Oe&&!("originalValue"in Oe.get)?qt=Oe.get:qt=qt[se]}else ur=Ce(qt,se),qt=qt[se];ur&&!Jt&&(B[Rt]=qt)}}return qt},$g}var Ug,dS;function iI(){if(dS)return Ug;dS=1;var t=nI(),e=y1(),r=e([t("%String.prototype.indexOf%")]);return Ug=function(o,a){var l=t(o,!!a);return typeof l=="function"&&r(o,".prototype.")>-1?e([l]):l},Ug}var zg,fS;function sI(){if(fS)return zg;fS=1;var t=p1();return zg=function(){return t()&&!!Symbol.toStringTag},zg}var Vg,hS;function oI(){if(hS)return Vg;hS=1;var t=iI(),e=t("String.prototype.valueOf"),r=function(c){try{return e(c),!0}catch{return!1}},n=t("Object.prototype.toString"),o="[object String]",a=sI()();return Vg=function(c){return typeof c=="string"?!0:!c||typeof c!="object"?!1:a?r(c):n(c)===o},Vg}var aI=oI();const lI=Eu(aI),q_=t=>lI(t),uI=(t,e,r={})=>{const n=[];return t.filter((a,l)=>{const c=r.regionLowerCase?a.toLowerCase():a;if(e.includes(c))return n.push({index:l,appLocale:c}),!0;const{isAvailable:p,appLocale:m}=cI(c,e,r);return p&&n.push({index:l,appLocale:r.regionLowerCase?m.toLowerCase():m}),p}).map((a,l)=>!n||n.length===0?a:n[l]?.appLocale)},cI=(t,e,r={})=>{r?.languageOnly||(r.languageOnly=!1);let n=t;return{isAvailable:e.some(a=>{if(!Sh()&&!r.languageOnly&&t.split("-")[1]===void 0)return!1;const l=Sh()?new Intl.Locale(t).minimize().language:t.split("-")[0],c=Sh()?new Intl.Locale(a).minimize().language:a.split("-")[0],p=l===c;return p&&(n=a),p}),appLocale:n}},dI=(t={})=>{t?.regionLowerCase||(t.regionLowerCase=!1);let e=[];return Intl&&"DateTimeFormat"in Intl?e=[Intl.DateTimeFormat().resolvedOptions().locale]:typeof window=="object"&&window?.navigator?.languages&&(e=[...window.navigator.languages]),e.map(r=>t.regionLowerCase?r.toLowerCase():r)},Sh=()=>Intl&&"Locale"in Intl,fI=(t,e={})=>{e?.regionLowerCase||(e.regionLowerCase=!1),e?.languageOnly||(e.languageOnly=!1);const r=t.map(n=>{const o=n.split("-");if(e.languageOnly)return o[0];const a=Sh()?new Intl.Locale(n).maximize():{language:o[0],script:o.length===3?o[1]:void 0,region:o.length===3?o[2]:o[1]},{language:l,script:c}=a;let{region:p}=a;return e.regionLowerCase&&p&&(p=p.toLowerCase()),o.length>2?`${l}-${c}-${p}`:p?`${l}-${p}`:l});return[...new Set(r)]},hI=(t,e,r={})=>{r.regionLowerCase||(r.regionLowerCase=!1),r.languageOnly||(r.languageOnly=!1);const n=dI(r),o=fI([...n,t],r);return uI(o,e,r)[0]||t},pI=({available:t,fallback:e})=>hI(e,t,{languageOnly:!0});var Hg={exports:{}};const mI={},yI=Object.freeze(Object.defineProperty({__proto__:null,default:mI},Symbol.toStringTag,{value:"Module"})),pS=Wq(yI);var mS;function gI(){return mS||(mS=1,function(t){(function(){var e="input is invalid type",r=typeof window=="object",n=r?window:{};n.JS_SHA256_NO_WINDOW&&(r=!1);var o=!r&&typeof self=="object",a=!n.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;a?n=wv:o&&(n=self);var l=!n.JS_SHA256_NO_COMMON_JS&&!0&&t.exports,c=!n.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",p="0123456789abcdef".split(""),m=[-0x80000000,8388608,32768,128],b=[24,16,8,0],x=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2],N=["hex","array","digest","arrayBuffer"],q=[];(n.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(W){return Object.prototype.toString.call(W)==="[object Array]"}),c&&(n.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(W){return typeof W=="object"&&W.buffer&&W.buffer.constructor===ArrayBuffer});var R=function(W,K){return function(le){return new D(K,!0).update(le)[W]()}},C=function(W){var K=R("hex",W);a&&(K=L(K,W)),K.create=function(){return new D(W)},K.update=function(ne){return K.create().update(ne)};for(var le=0;le<N.length;++le){var H=N[le];K[H]=R(H,W)}return K},L=function(W,K){var le=pS,H=pS.Buffer,ne=K?"sha224":"sha256",B;H.from&&!n.JS_SHA256_NO_BUFFER_FROM?B=H.from:B=function(Z){return new H(Z)};var re=function(Z){if(typeof Z=="string")return le.createHash(ne).update(Z,"utf8").digest("hex");if(Z==null)throw new Error(e);return Z.constructor===ArrayBuffer&&(Z=new Uint8Array(Z)),Array.isArray(Z)||ArrayBuffer.isView(Z)||Z.constructor===H?le.createHash(ne).update(B(Z)).digest("hex"):W(Z)};return re},P=function(W,K){return function(le,H){return new z(le,K,!0).update(H)[W]()}},I=function(W){var K=P("hex",W);K.create=function(ne){return new z(ne,W)},K.update=function(ne,B){return K.create(ne).update(B)};for(var le=0;le<N.length;++le){var H=N[le];K[H]=P(H,W)}return K};function D(W,K){K?(q[0]=q[16]=q[1]=q[2]=q[3]=q[4]=q[5]=q[6]=q[7]=q[8]=q[9]=q[10]=q[11]=q[12]=q[13]=q[14]=q[15]=0,this.blocks=q):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],W?(this.h0=0xc1059ed8,this.h1=0x367cd507,this.h2=0x3070dd17,this.h3=0xf70e5939,this.h4=0xffc00b31,this.h5=0x68581511,this.h6=0x64f98fa7,this.h7=0xbefa4fa4):(this.h0=0x6a09e667,this.h1=0xbb67ae85,this.h2=0x3c6ef372,this.h3=0xa54ff53a,this.h4=0x510e527f,this.h5=0x9b05688c,this.h6=0x1f83d9ab,this.h7=0x5be0cd19),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=W}D.prototype.update=function(W){if(!this.finalized){var K,le=typeof W;if(le!=="string"){if(le==="object"){if(W===null)throw new Error(e);if(c&&W.constructor===ArrayBuffer)W=new Uint8Array(W);else if(!Array.isArray(W)&&(!c||!ArrayBuffer.isView(W)))throw new Error(e)}else throw new Error(e);K=!0}for(var H,ne=0,B,re=W.length,Z=this.blocks;ne<re;){if(this.hashed&&(this.hashed=!1,Z[0]=this.block,this.block=Z[16]=Z[1]=Z[2]=Z[3]=Z[4]=Z[5]=Z[6]=Z[7]=Z[8]=Z[9]=Z[10]=Z[11]=Z[12]=Z[13]=Z[14]=Z[15]=0),K)for(B=this.start;ne<re&&B<64;++ne)Z[B>>>2]|=W[ne]<<b[B++&3];else for(B=this.start;ne<re&&B<64;++ne)H=W.charCodeAt(ne),H<128?Z[B>>>2]|=H<<b[B++&3]:H<2048?(Z[B>>>2]|=(192|H>>>6)<<b[B++&3],Z[B>>>2]|=(128|H&63)<<b[B++&3]):H<55296||H>=57344?(Z[B>>>2]|=(224|H>>>12)<<b[B++&3],Z[B>>>2]|=(128|H>>>6&63)<<b[B++&3],Z[B>>>2]|=(128|H&63)<<b[B++&3]):(H=65536+((H&1023)<<10|W.charCodeAt(++ne)&1023),Z[B>>>2]|=(240|H>>>18)<<b[B++&3],Z[B>>>2]|=(128|H>>>12&63)<<b[B++&3],Z[B>>>2]|=(128|H>>>6&63)<<b[B++&3],Z[B>>>2]|=(128|H&63)<<b[B++&3]);this.lastByteIndex=B,this.bytes+=B-this.start,B>=64?(this.block=Z[16],this.start=B-64,this.hash(),this.hashed=!0):this.start=B}return this.bytes>0xffffffff&&(this.hBytes+=this.bytes/0x100000000<<0,this.bytes=this.bytes%0x100000000),this}},D.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var W=this.blocks,K=this.lastByteIndex;W[16]=this.block,W[K>>>2]|=m[K&3],this.block=W[16],K>=56&&(this.hashed||this.hash(),W[0]=this.block,W[16]=W[1]=W[2]=W[3]=W[4]=W[5]=W[6]=W[7]=W[8]=W[9]=W[10]=W[11]=W[12]=W[13]=W[14]=W[15]=0),W[14]=this.hBytes<<3|this.bytes>>>29,W[15]=this.bytes<<3,this.hash()}},D.prototype.hash=function(){var W=this.h0,K=this.h1,le=this.h2,H=this.h3,ne=this.h4,B=this.h5,re=this.h6,Z=this.h7,pe=this.blocks,Re,Ce,Pe,ve,me,Ee,Q,xe,lt,at,dt;for(Re=16;Re<64;++Re)me=pe[Re-15],Ce=(me>>>7|me<<25)^(me>>>18|me<<14)^me>>>3,me=pe[Re-2],Pe=(me>>>17|me<<15)^(me>>>19|me<<13)^me>>>10,pe[Re]=pe[Re-16]+Ce+pe[Re-7]+Pe<<0;for(dt=K&le,Re=0;Re<64;Re+=4)this.first?(this.is224?(xe=300032,me=pe[0]-0x543c9a5b,Z=me-0x8f1a6c7<<0,H=me+0x170e9b5<<0):(xe=0x2a01a605,me=pe[0]-0xc881298,Z=me-0x5ab00ac6<<0,H=me+0x8909ae5<<0),this.first=!1):(Ce=(W>>>2|W<<30)^(W>>>13|W<<19)^(W>>>22|W<<10),Pe=(ne>>>6|ne<<26)^(ne>>>11|ne<<21)^(ne>>>25|ne<<7),xe=W&K,ve=xe^W&le^dt,Q=ne&B^~ne&re,me=Z+Pe+Q+x[Re]+pe[Re],Ee=Ce+ve,Z=H+me<<0,H=me+Ee<<0),Ce=(H>>>2|H<<30)^(H>>>13|H<<19)^(H>>>22|H<<10),Pe=(Z>>>6|Z<<26)^(Z>>>11|Z<<21)^(Z>>>25|Z<<7),lt=H&W,ve=lt^H&K^xe,Q=Z&ne^~Z&B,me=re+Pe+Q+x[Re+1]+pe[Re+1],Ee=Ce+ve,re=le+me<<0,le=me+Ee<<0,Ce=(le>>>2|le<<30)^(le>>>13|le<<19)^(le>>>22|le<<10),Pe=(re>>>6|re<<26)^(re>>>11|re<<21)^(re>>>25|re<<7),at=le&H,ve=at^le&W^lt,Q=re&Z^~re&ne,me=B+Pe+Q+x[Re+2]+pe[Re+2],Ee=Ce+ve,B=K+me<<0,K=me+Ee<<0,Ce=(K>>>2|K<<30)^(K>>>13|K<<19)^(K>>>22|K<<10),Pe=(B>>>6|B<<26)^(B>>>11|B<<21)^(B>>>25|B<<7),dt=K&le,ve=dt^K&H^at,Q=B&re^~B&Z,me=ne+Pe+Q+x[Re+3]+pe[Re+3],Ee=Ce+ve,ne=W+me<<0,W=me+Ee<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+W<<0,this.h1=this.h1+K<<0,this.h2=this.h2+le<<0,this.h3=this.h3+H<<0,this.h4=this.h4+ne<<0,this.h5=this.h5+B<<0,this.h6=this.h6+re<<0,this.h7=this.h7+Z<<0},D.prototype.hex=function(){this.finalize();var W=this.h0,K=this.h1,le=this.h2,H=this.h3,ne=this.h4,B=this.h5,re=this.h6,Z=this.h7,pe=p[W>>>28&15]+p[W>>>24&15]+p[W>>>20&15]+p[W>>>16&15]+p[W>>>12&15]+p[W>>>8&15]+p[W>>>4&15]+p[W&15]+p[K>>>28&15]+p[K>>>24&15]+p[K>>>20&15]+p[K>>>16&15]+p[K>>>12&15]+p[K>>>8&15]+p[K>>>4&15]+p[K&15]+p[le>>>28&15]+p[le>>>24&15]+p[le>>>20&15]+p[le>>>16&15]+p[le>>>12&15]+p[le>>>8&15]+p[le>>>4&15]+p[le&15]+p[H>>>28&15]+p[H>>>24&15]+p[H>>>20&15]+p[H>>>16&15]+p[H>>>12&15]+p[H>>>8&15]+p[H>>>4&15]+p[H&15]+p[ne>>>28&15]+p[ne>>>24&15]+p[ne>>>20&15]+p[ne>>>16&15]+p[ne>>>12&15]+p[ne>>>8&15]+p[ne>>>4&15]+p[ne&15]+p[B>>>28&15]+p[B>>>24&15]+p[B>>>20&15]+p[B>>>16&15]+p[B>>>12&15]+p[B>>>8&15]+p[B>>>4&15]+p[B&15]+p[re>>>28&15]+p[re>>>24&15]+p[re>>>20&15]+p[re>>>16&15]+p[re>>>12&15]+p[re>>>8&15]+p[re>>>4&15]+p[re&15];return this.is224||(pe+=p[Z>>>28&15]+p[Z>>>24&15]+p[Z>>>20&15]+p[Z>>>16&15]+p[Z>>>12&15]+p[Z>>>8&15]+p[Z>>>4&15]+p[Z&15]),pe},D.prototype.toString=D.prototype.hex,D.prototype.digest=function(){this.finalize();var W=this.h0,K=this.h1,le=this.h2,H=this.h3,ne=this.h4,B=this.h5,re=this.h6,Z=this.h7,pe=[W>>>24&255,W>>>16&255,W>>>8&255,W&255,K>>>24&255,K>>>16&255,K>>>8&255,K&255,le>>>24&255,le>>>16&255,le>>>8&255,le&255,H>>>24&255,H>>>16&255,H>>>8&255,H&255,ne>>>24&255,ne>>>16&255,ne>>>8&255,ne&255,B>>>24&255,B>>>16&255,B>>>8&255,B&255,re>>>24&255,re>>>16&255,re>>>8&255,re&255];return this.is224||pe.push(Z>>>24&255,Z>>>16&255,Z>>>8&255,Z&255),pe},D.prototype.array=D.prototype.digest,D.prototype.arrayBuffer=function(){this.finalize();var W=new ArrayBuffer(this.is224?28:32),K=new DataView(W);return K.setUint32(0,this.h0),K.setUint32(4,this.h1),K.setUint32(8,this.h2),K.setUint32(12,this.h3),K.setUint32(16,this.h4),K.setUint32(20,this.h5),K.setUint32(24,this.h6),this.is224||K.setUint32(28,this.h7),W};function z(W,K,le){var H,ne=typeof W;if(ne==="string"){var B=[],re=W.length,Z=0,pe;for(H=0;H<re;++H)pe=W.charCodeAt(H),pe<128?B[Z++]=pe:pe<2048?(B[Z++]=192|pe>>>6,B[Z++]=128|pe&63):pe<55296||pe>=57344?(B[Z++]=224|pe>>>12,B[Z++]=128|pe>>>6&63,B[Z++]=128|pe&63):(pe=65536+((pe&1023)<<10|W.charCodeAt(++H)&1023),B[Z++]=240|pe>>>18,B[Z++]=128|pe>>>12&63,B[Z++]=128|pe>>>6&63,B[Z++]=128|pe&63);W=B}else if(ne==="object"){if(W===null)throw new Error(e);if(c&&W.constructor===ArrayBuffer)W=new Uint8Array(W);else if(!Array.isArray(W)&&(!c||!ArrayBuffer.isView(W)))throw new Error(e)}else throw new Error(e);W.length>64&&(W=new D(K,!0).update(W).array());var Re=[],Ce=[];for(H=0;H<64;++H){var Pe=W[H]||0;Re[H]=92^Pe,Ce[H]=54^Pe}D.call(this,K,le),this.update(Ce),this.oKeyPad=Re,this.inner=!0,this.sharedMemory=le}z.prototype=new D,z.prototype.finalize=function(){if(D.prototype.finalize.call(this),this.inner){this.inner=!1;var W=this.array();D.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(W),D.prototype.finalize.call(this)}};var V=C();V.sha256=V,V.sha224=C(!0),V.sha256.hmac=I(),V.sha224.hmac=I(!0),l?t.exports=V:(n.sha256=V.sha256,n.sha224=V.sha224)})()}(Hg)),Hg.exports}var Bv=gI();const vI=Bv.sha224,g1=({index:t,key:e,fallback:r})=>t[vI(e)]?.value??t[e]?.value??r??e,_I=({index:t,key:e,fallback:r})=>g1({index:t,key:e,fallback:r}),bI=({index:t,key:e,fallback:r})=>g1({index:t,key:e,fallback:r}),tl={index:{},push(t){this.index={...this.index,...t}},text:(t,e)=>_I({index:tl.index,key:t,fallback:e}),rich:(t,e)=>bI({index:tl.index,key:t,fallback:e})},v1={hash(t){return Bv.sha224(t)},verify(t,e){return Bv.sha224(t)===e}};var dr;(function(t){t.assertEqual=o=>o;function e(o){}t.assertIs=e;function r(o){throw new Error}t.assertNever=r,t.arrayToEnum=o=>{const a={};for(const l of o)a[l]=l;return a},t.getValidEnumValues=o=>{const a=t.objectKeys(o).filter(c=>typeof o[o[c]]!="number"),l={};for(const c of a)l[c]=o[c];return t.objectValues(l)},t.objectValues=o=>t.objectKeys(o).map(function(a){return o[a]}),t.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const a=[];for(const l in o)Object.prototype.hasOwnProperty.call(o,l)&&a.push(l);return a},t.find=(o,a)=>{for(const l of o)if(a(l))return l},t.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function n(o,a=" | "){return o.map(l=>typeof l=="string"?`'${l}'`:l).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(o,a)=>typeof a=="bigint"?a.toString():a})(dr||(dr={}));var Wv;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Wv||(Wv={}));const kt=dr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),eo=t=>{switch(typeof t){case"undefined":return kt.undefined;case"string":return kt.string;case"number":return isNaN(t)?kt.nan:kt.number;case"boolean":return kt.boolean;case"function":return kt.function;case"bigint":return kt.bigint;case"symbol":return kt.symbol;case"object":return Array.isArray(t)?kt.array:t===null?kt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?kt.promise:typeof Map<"u"&&t instanceof Map?kt.map:typeof Set<"u"&&t instanceof Set?kt.set:typeof Date<"u"&&t instanceof Date?kt.date:kt.object;default:return kt.unknown}},it=dr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),wI=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Ni extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},n={_errors:[]},o=a=>{for(const l of a.issues)if(l.code==="invalid_union")l.unionErrors.map(o);else if(l.code==="invalid_return_type")o(l.returnTypeError);else if(l.code==="invalid_arguments")o(l.argumentsError);else if(l.path.length===0)n._errors.push(r(l));else{let c=n,p=0;for(;p<l.path.length;){const m=l.path[p];p===l.path.length-1?(c[m]=c[m]||{_errors:[]},c[m]._errors.push(r(l))):c[m]=c[m]||{_errors:[]},c=c[m],p++}}};return o(this),n}static assert(e){if(!(e instanceof Ni))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,dr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const o of this.issues)o.path.length>0?(r[o.path[0]]=r[o.path[0]]||[],r[o.path[0]].push(e(o))):n.push(e(o));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Ni.create=t=>new Ni(t);const mu=(t,e)=>{let r;switch(t.code){case it.invalid_type:t.received===kt.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case it.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,dr.jsonStringifyReplacer)}`;break;case it.unrecognized_keys:r=`Unrecognized key(s) in object: ${dr.joinValues(t.keys,", ")}`;break;case it.invalid_union:r="Invalid input";break;case it.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${dr.joinValues(t.options)}`;break;case it.invalid_enum_value:r=`Invalid enum value. Expected ${dr.joinValues(t.options)}, received '${t.received}'`;break;case it.invalid_arguments:r="Invalid function arguments";break;case it.invalid_return_type:r="Invalid function return type";break;case it.invalid_date:r="Invalid date";break;case it.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:dr.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case it.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case it.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case it.custom:r="Invalid input";break;case it.invalid_intersection_types:r="Intersection results could not be merged";break;case it.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case it.not_finite:r="Number must be finite";break;default:r=e.defaultError,dr.assertNever(t)}return{message:r}};let _1=mu;function xI(t){_1=t}function Vh(){return _1}const Hh=t=>{const{data:e,path:r,errorMaps:n,issueData:o}=t,a=[...r,...o.path||[]],l={...o,path:a};if(o.message!==void 0)return{...o,path:a,message:o.message};let c="";const p=n.filter(m=>!!m).slice().reverse();for(const m of p)c=m(l,{data:e,defaultError:c}).message;return{...o,path:a,message:c}},SI=[];function xt(t,e){const r=Vh(),n=Hh({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===mu?void 0:mu].filter(o=>!!o)});t.common.issues.push(n)}class In{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const o of r){if(o.status==="aborted")return Qt;o.status==="dirty"&&e.dirty(),n.push(o.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const o of r){const a=await o.key,l=await o.value;n.push({key:a,value:l})}return In.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const o of r){const{key:a,value:l}=o;if(a.status==="aborted"||l.status==="aborted")return Qt;a.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof l.value<"u"||o.alwaysSet)&&(n[a.value]=l.value)}return{status:e.value,value:n}}}const Qt=Object.freeze({status:"aborted"}),Ql=t=>({status:"dirty",value:t}),$n=t=>({status:"valid",value:t}),$v=t=>t.status==="aborted",Uv=t=>t.status==="dirty",rl=t=>t.status==="valid",ed=t=>typeof Promise<"u"&&t instanceof Promise;function Qh(t,e,r,n){if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function b1(t,e,r,n,o){if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var Dt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Dt||(Dt={}));var Oc,Tc;class qs{constructor(e,r,n,o){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const yS=(t,e)=>{if(rl(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ni(t.common.issues);return this._error=r,this._error}}};function nr(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:o}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(l,c)=>{var p,m;const{message:b}=t;return l.code==="invalid_enum_value"?{message:b??c.defaultError}:typeof c.data>"u"?{message:(p=b??n)!==null&&p!==void 0?p:c.defaultError}:l.code!=="invalid_type"?{message:c.defaultError}:{message:(m=b??r)!==null&&m!==void 0?m:c.defaultError}},description:o}}class or{get description(){return this._def.description}_getType(e){return eo(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:eo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new In,ctx:{common:e.parent.common,data:e.data,parsedType:eo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(ed(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const o={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:eo(e)},a=this._parseSync({data:e,path:o.path,parent:o});return yS(o,a)}"~validate"(e){var r,n;const o={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:eo(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:o});return rl(a)?{value:a.value}:{issues:o.common.issues}}catch(a){!((n=(r=a?.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),o.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:o}).then(a=>rl(a)?{value:a.value}:{issues:o.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:eo(e)},o=this._parse({data:e,path:n.path,parent:n}),a=await (ed(o)?o:Promise.resolve(o));return yS(n,a)}refine(e,r){const n=o=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(o):r;return this._refinement((o,a)=>{const l=e(o),c=()=>a.addIssue({code:it.custom,...n(o)});return typeof Promise<"u"&&l instanceof Promise?l.then(p=>p?!0:(c(),!1)):l?!0:(c(),!1)})}refinement(e,r){return this._refinement((n,o)=>e(n)?!0:(o.addIssue(typeof r=="function"?r(n,o):r),!1))}_refinement(e){return new ss({schema:this,typeName:Ht.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Ns.create(this,this._def)}nullable(){return na.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return is.create(this)}promise(){return gu.create(this,this._def)}or(e){return id.create([this,e],this._def)}and(e){return sd.create(this,e,this._def)}transform(e){return new ss({...nr(this._def),schema:this,typeName:Ht.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new cd({...nr(this._def),innerType:this,defaultValue:r,typeName:Ht.ZodDefault})}brand(){return new C_({typeName:Ht.ZodBranded,type:this,...nr(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new dd({...nr(this._def),innerType:this,catchValue:r,typeName:Ht.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Rd.create(this,e)}readonly(){return fd.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const EI=/^c[^\s-]{8,}$/i,NI=/^[0-9a-z]+$/,kI=/^[0-9A-HJKMNP-TV-Z]{26}$/i,qI=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,CI=/^[a-z0-9_-]{21}$/i,RI=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,OI=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,TI=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,AI="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Qg;const II=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,PI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,FI=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,LI=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,jI=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,DI=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,w1="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",MI=new RegExp(`^${w1}$`);function x1(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function BI(t){return new RegExp(`^${x1(t)}$`)}function S1(t){let e=`${w1}T${x1(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function WI(t,e){return!!((e==="v4"||!e)&&II.test(t)||(e==="v6"||!e)&&FI.test(t))}function $I(t,e){if(!RI.test(t))return!1;try{const[r]=t.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),o=JSON.parse(atob(n));return!(typeof o!="object"||o===null||!o.typ||!o.alg||e&&o.alg!==e)}catch{return!1}}function UI(t,e){return!!((e==="v4"||!e)&&PI.test(t)||(e==="v6"||!e)&&LI.test(t))}class ns extends or{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==kt.string){const a=this._getOrReturnCtx(e);return xt(a,{code:it.invalid_type,expected:kt.string,received:a.parsedType}),Qt}const n=new In;let o;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(o=this._getOrReturnCtx(e,o),xt(o,{code:it.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(o=this._getOrReturnCtx(e,o),xt(o,{code:it.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const l=e.data.length>a.value,c=e.data.length<a.value;(l||c)&&(o=this._getOrReturnCtx(e,o),l?xt(o,{code:it.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):c&&xt(o,{code:it.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")TI.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"email",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Qg||(Qg=new RegExp(AI,"u")),Qg.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"emoji",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")qI.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"uuid",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")CI.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"nanoid",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")EI.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"cuid",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")NI.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"cuid2",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")kI.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"ulid",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),xt(o,{validation:"url",code:it.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"regex",code:it.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(o=this._getOrReturnCtx(e,o),xt(o,{code:it.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(o=this._getOrReturnCtx(e,o),xt(o,{code:it.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(o=this._getOrReturnCtx(e,o),xt(o,{code:it.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?S1(a).test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{code:it.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?MI.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{code:it.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?BI(a).test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{code:it.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?OI.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"duration",code:it.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?WI(e.data,a.version)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"ip",code:it.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?$I(e.data,a.alg)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"jwt",code:it.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?UI(e.data,a.version)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"cidr",code:it.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?jI.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"base64",code:it.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?DI.test(e.data)||(o=this._getOrReturnCtx(e,o),xt(o,{validation:"base64url",code:it.invalid_string,message:a.message}),n.dirty()):dr.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(o=>e.test(o),{validation:r,code:it.invalid_string,...Dt.errToObj(n)})}_addCheck(e){return new ns({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Dt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Dt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Dt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Dt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Dt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Dt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Dt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Dt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Dt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Dt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Dt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Dt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Dt.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,local:(n=e?.local)!==null&&n!==void 0?n:!1,...Dt.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Dt.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Dt.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Dt.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...Dt.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Dt.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Dt.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Dt.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Dt.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Dt.errToObj(r)})}nonempty(e){return this.min(1,Dt.errToObj(e))}trim(){return new ns({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ns({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ns({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}ns.create=t=>{var e;return new ns({checks:[],typeName:Ht.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...nr(t)})};function zI(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,o=r>n?r:n,a=parseInt(t.toFixed(o).replace(".","")),l=parseInt(e.toFixed(o).replace(".",""));return a%l/Math.pow(10,o)}class ea extends or{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==kt.number){const a=this._getOrReturnCtx(e);return xt(a,{code:it.invalid_type,expected:kt.number,received:a.parsedType}),Qt}let n;const o=new In;for(const a of this._def.checks)a.kind==="int"?dr.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),xt(n,{code:it.invalid_type,expected:"integer",received:"float",message:a.message}),o.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),xt(n,{code:it.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),o.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),xt(n,{code:it.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),o.dirty()):a.kind==="multipleOf"?zI(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),xt(n,{code:it.not_multiple_of,multipleOf:a.value,message:a.message}),o.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),xt(n,{code:it.not_finite,message:a.message}),o.dirty()):dr.assertNever(a);return{status:o.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Dt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Dt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Dt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Dt.toString(r))}setLimit(e,r,n,o){return new ea({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Dt.toString(o)}]})}_addCheck(e){return new ea({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Dt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Dt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Dt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Dt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Dt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Dt.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Dt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Dt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Dt.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&dr.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}ea.create=t=>new ea({checks:[],typeName:Ht.ZodNumber,coerce:t?.coerce||!1,...nr(t)});class ta extends or{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==kt.bigint)return this._getInvalidInput(e);let n;const o=new In;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),xt(n,{code:it.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),o.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),xt(n,{code:it.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),o.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),xt(n,{code:it.not_multiple_of,multipleOf:a.value,message:a.message}),o.dirty()):dr.assertNever(a);return{status:o.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return xt(r,{code:it.invalid_type,expected:kt.bigint,received:r.parsedType}),Qt}gte(e,r){return this.setLimit("min",e,!0,Dt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Dt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Dt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Dt.toString(r))}setLimit(e,r,n,o){return new ta({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Dt.toString(o)}]})}_addCheck(e){return new ta({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Dt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Dt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Dt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Dt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Dt.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}ta.create=t=>{var e;return new ta({checks:[],typeName:Ht.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...nr(t)})};class td extends or{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==kt.boolean){const n=this._getOrReturnCtx(e);return xt(n,{code:it.invalid_type,expected:kt.boolean,received:n.parsedType}),Qt}return $n(e.data)}}td.create=t=>new td({typeName:Ht.ZodBoolean,coerce:t?.coerce||!1,...nr(t)});class nl extends or{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==kt.date){const a=this._getOrReturnCtx(e);return xt(a,{code:it.invalid_type,expected:kt.date,received:a.parsedType}),Qt}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return xt(a,{code:it.invalid_date}),Qt}const n=new In;let o;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(o=this._getOrReturnCtx(e,o),xt(o,{code:it.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(o=this._getOrReturnCtx(e,o),xt(o,{code:it.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):dr.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new nl({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Dt.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Dt.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}nl.create=t=>new nl({checks:[],coerce:t?.coerce||!1,typeName:Ht.ZodDate,...nr(t)});class Kh extends or{_parse(e){if(this._getType(e)!==kt.symbol){const n=this._getOrReturnCtx(e);return xt(n,{code:it.invalid_type,expected:kt.symbol,received:n.parsedType}),Qt}return $n(e.data)}}Kh.create=t=>new Kh({typeName:Ht.ZodSymbol,...nr(t)});class rd extends or{_parse(e){if(this._getType(e)!==kt.undefined){const n=this._getOrReturnCtx(e);return xt(n,{code:it.invalid_type,expected:kt.undefined,received:n.parsedType}),Qt}return $n(e.data)}}rd.create=t=>new rd({typeName:Ht.ZodUndefined,...nr(t)});class nd extends or{_parse(e){if(this._getType(e)!==kt.null){const n=this._getOrReturnCtx(e);return xt(n,{code:it.invalid_type,expected:kt.null,received:n.parsedType}),Qt}return $n(e.data)}}nd.create=t=>new nd({typeName:Ht.ZodNull,...nr(t)});class yu extends or{constructor(){super(...arguments),this._any=!0}_parse(e){return $n(e.data)}}yu.create=t=>new yu({typeName:Ht.ZodAny,...nr(t)});class Za extends or{constructor(){super(...arguments),this._unknown=!0}_parse(e){return $n(e.data)}}Za.create=t=>new Za({typeName:Ht.ZodUnknown,...nr(t)});class so extends or{_parse(e){const r=this._getOrReturnCtx(e);return xt(r,{code:it.invalid_type,expected:kt.never,received:r.parsedType}),Qt}}so.create=t=>new so({typeName:Ht.ZodNever,...nr(t)});class Gh extends or{_parse(e){if(this._getType(e)!==kt.undefined){const n=this._getOrReturnCtx(e);return xt(n,{code:it.invalid_type,expected:kt.void,received:n.parsedType}),Qt}return $n(e.data)}}Gh.create=t=>new Gh({typeName:Ht.ZodVoid,...nr(t)});class is extends or{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),o=this._def;if(r.parsedType!==kt.array)return xt(r,{code:it.invalid_type,expected:kt.array,received:r.parsedType}),Qt;if(o.exactLength!==null){const l=r.data.length>o.exactLength.value,c=r.data.length<o.exactLength.value;(l||c)&&(xt(r,{code:l?it.too_big:it.too_small,minimum:c?o.exactLength.value:void 0,maximum:l?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),n.dirty())}if(o.minLength!==null&&r.data.length<o.minLength.value&&(xt(r,{code:it.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),n.dirty()),o.maxLength!==null&&r.data.length>o.maxLength.value&&(xt(r,{code:it.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((l,c)=>o.type._parseAsync(new qs(r,l,r.path,c)))).then(l=>In.mergeArray(n,l));const a=[...r.data].map((l,c)=>o.type._parseSync(new qs(r,l,r.path,c)));return In.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new is({...this._def,minLength:{value:e,message:Dt.toString(r)}})}max(e,r){return new is({...this._def,maxLength:{value:e,message:Dt.toString(r)}})}length(e,r){return new is({...this._def,exactLength:{value:e,message:Dt.toString(r)}})}nonempty(e){return this.min(1,e)}}is.create=(t,e)=>new is({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ht.ZodArray,...nr(e)});function zl(t){if(t instanceof Jr){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Ns.create(zl(n))}return new Jr({...t._def,shape:()=>e})}else return t instanceof is?new is({...t._def,type:zl(t.element)}):t instanceof Ns?Ns.create(zl(t.unwrap())):t instanceof na?na.create(zl(t.unwrap())):t instanceof Cs?Cs.create(t.items.map(e=>zl(e))):t}class Jr extends or{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=dr.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==kt.object){const m=this._getOrReturnCtx(e);return xt(m,{code:it.invalid_type,expected:kt.object,received:m.parsedType}),Qt}const{status:n,ctx:o}=this._processInputParams(e),{shape:a,keys:l}=this._getCached(),c=[];if(!(this._def.catchall instanceof so&&this._def.unknownKeys==="strip"))for(const m in o.data)l.includes(m)||c.push(m);const p=[];for(const m of l){const b=a[m],x=o.data[m];p.push({key:{status:"valid",value:m},value:b._parse(new qs(o,x,o.path,m)),alwaysSet:m in o.data})}if(this._def.catchall instanceof so){const m=this._def.unknownKeys;if(m==="passthrough")for(const b of c)p.push({key:{status:"valid",value:b},value:{status:"valid",value:o.data[b]}});else if(m==="strict")c.length>0&&(xt(o,{code:it.unrecognized_keys,keys:c}),n.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const b of c){const x=o.data[b];p.push({key:{status:"valid",value:b},value:m._parse(new qs(o,x,o.path,b)),alwaysSet:b in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const m=[];for(const b of p){const x=await b.key,N=await b.value;m.push({key:x,value:N,alwaysSet:b.alwaysSet})}return m}).then(m=>In.mergeObjectSync(n,m)):In.mergeObjectSync(n,p)}get shape(){return this._def.shape()}strict(e){return Dt.errToObj,new Jr({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var o,a,l,c;const p=(l=(a=(o=this._def).errorMap)===null||a===void 0?void 0:a.call(o,r,n).message)!==null&&l!==void 0?l:n.defaultError;return r.code==="unrecognized_keys"?{message:(c=Dt.errToObj(e).message)!==null&&c!==void 0?c:p}:{message:p}}}:{}})}strip(){return new Jr({...this._def,unknownKeys:"strip"})}passthrough(){return new Jr({...this._def,unknownKeys:"passthrough"})}extend(e){return new Jr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Jr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ht.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Jr({...this._def,catchall:e})}pick(e){const r={};return dr.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Jr({...this._def,shape:()=>r})}omit(e){const r={};return dr.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new Jr({...this._def,shape:()=>r})}deepPartial(){return zl(this)}partial(e){const r={};return dr.objectKeys(this.shape).forEach(n=>{const o=this.shape[n];e&&!e[n]?r[n]=o:r[n]=o.optional()}),new Jr({...this._def,shape:()=>r})}required(e){const r={};return dr.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Ns;)a=a._def.innerType;r[n]=a}}),new Jr({...this._def,shape:()=>r})}keyof(){return E1(dr.objectKeys(this.shape))}}Jr.create=(t,e)=>new Jr({shape:()=>t,unknownKeys:"strip",catchall:so.create(),typeName:Ht.ZodObject,...nr(e)});Jr.strictCreate=(t,e)=>new Jr({shape:()=>t,unknownKeys:"strict",catchall:so.create(),typeName:Ht.ZodObject,...nr(e)});Jr.lazycreate=(t,e)=>new Jr({shape:t,unknownKeys:"strip",catchall:so.create(),typeName:Ht.ZodObject,...nr(e)});class id extends or{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function o(a){for(const c of a)if(c.result.status==="valid")return c.result;for(const c of a)if(c.result.status==="dirty")return r.common.issues.push(...c.ctx.common.issues),c.result;const l=a.map(c=>new Ni(c.ctx.common.issues));return xt(r,{code:it.invalid_union,unionErrors:l}),Qt}if(r.common.async)return Promise.all(n.map(async a=>{const l={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:l}),ctx:l}})).then(o);{let a;const l=[];for(const p of n){const m={...r,common:{...r.common,issues:[]},parent:null},b=p._parseSync({data:r.data,path:r.path,parent:m});if(b.status==="valid")return b;b.status==="dirty"&&!a&&(a={result:b,ctx:m}),m.common.issues.length&&l.push(m.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const c=l.map(p=>new Ni(p));return xt(r,{code:it.invalid_union,unionErrors:c}),Qt}}get options(){return this._def.options}}id.create=(t,e)=>new id({options:t,typeName:Ht.ZodUnion,...nr(e)});const Zs=t=>t instanceof ad?Zs(t.schema):t instanceof ss?Zs(t.innerType()):t instanceof ld?[t.value]:t instanceof ra?t.options:t instanceof ud?dr.objectValues(t.enum):t instanceof cd?Zs(t._def.innerType):t instanceof rd?[void 0]:t instanceof nd?[null]:t instanceof Ns?[void 0,...Zs(t.unwrap())]:t instanceof na?[null,...Zs(t.unwrap())]:t instanceof C_||t instanceof fd?Zs(t.unwrap()):t instanceof dd?Zs(t._def.innerType):[];class Dp extends or{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==kt.object)return xt(r,{code:it.invalid_type,expected:kt.object,received:r.parsedType}),Qt;const n=this.discriminator,o=r.data[n],a=this.optionsMap.get(o);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(xt(r,{code:it.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Qt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const o=new Map;for(const a of r){const l=Zs(a.shape[e]);if(!l.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const c of l){if(o.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);o.set(c,a)}}return new Dp({typeName:Ht.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:o,...nr(n)})}}function zv(t,e){const r=eo(t),n=eo(e);if(t===e)return{valid:!0,data:t};if(r===kt.object&&n===kt.object){const o=dr.objectKeys(e),a=dr.objectKeys(t).filter(c=>o.indexOf(c)!==-1),l={...t,...e};for(const c of a){const p=zv(t[c],e[c]);if(!p.valid)return{valid:!1};l[c]=p.data}return{valid:!0,data:l}}else if(r===kt.array&&n===kt.array){if(t.length!==e.length)return{valid:!1};const o=[];for(let a=0;a<t.length;a++){const l=t[a],c=e[a],p=zv(l,c);if(!p.valid)return{valid:!1};o.push(p.data)}return{valid:!0,data:o}}else return r===kt.date&&n===kt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class sd extends or{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),o=(a,l)=>{if($v(a)||$v(l))return Qt;const c=zv(a.value,l.value);return c.valid?((Uv(a)||Uv(l))&&r.dirty(),{status:r.value,value:c.data}):(xt(n,{code:it.invalid_intersection_types}),Qt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,l])=>o(a,l)):o(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}sd.create=(t,e,r)=>new sd({left:t,right:e,typeName:Ht.ZodIntersection,...nr(r)});class Cs extends or{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==kt.array)return xt(n,{code:it.invalid_type,expected:kt.array,received:n.parsedType}),Qt;if(n.data.length<this._def.items.length)return xt(n,{code:it.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Qt;!this._def.rest&&n.data.length>this._def.items.length&&(xt(n,{code:it.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((l,c)=>{const p=this._def.items[c]||this._def.rest;return p?p._parse(new qs(n,l,n.path,c)):null}).filter(l=>!!l);return n.common.async?Promise.all(a).then(l=>In.mergeArray(r,l)):In.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new Cs({...this._def,rest:e})}}Cs.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Cs({items:t,typeName:Ht.ZodTuple,rest:null,...nr(e)})};class od extends or{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==kt.object)return xt(n,{code:it.invalid_type,expected:kt.object,received:n.parsedType}),Qt;const o=[],a=this._def.keyType,l=this._def.valueType;for(const c in n.data)o.push({key:a._parse(new qs(n,c,n.path,c)),value:l._parse(new qs(n,n.data[c],n.path,c)),alwaysSet:c in n.data});return n.common.async?In.mergeObjectAsync(r,o):In.mergeObjectSync(r,o)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof or?new od({keyType:e,valueType:r,typeName:Ht.ZodRecord,...nr(n)}):new od({keyType:ns.create(),valueType:e,typeName:Ht.ZodRecord,...nr(r)})}}class Jh extends or{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==kt.map)return xt(n,{code:it.invalid_type,expected:kt.map,received:n.parsedType}),Qt;const o=this._def.keyType,a=this._def.valueType,l=[...n.data.entries()].map(([c,p],m)=>({key:o._parse(new qs(n,c,n.path,[m,"key"])),value:a._parse(new qs(n,p,n.path,[m,"value"]))}));if(n.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const p of l){const m=await p.key,b=await p.value;if(m.status==="aborted"||b.status==="aborted")return Qt;(m.status==="dirty"||b.status==="dirty")&&r.dirty(),c.set(m.value,b.value)}return{status:r.value,value:c}})}else{const c=new Map;for(const p of l){const m=p.key,b=p.value;if(m.status==="aborted"||b.status==="aborted")return Qt;(m.status==="dirty"||b.status==="dirty")&&r.dirty(),c.set(m.value,b.value)}return{status:r.value,value:c}}}}Jh.create=(t,e,r)=>new Jh({valueType:e,keyType:t,typeName:Ht.ZodMap,...nr(r)});class il extends or{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==kt.set)return xt(n,{code:it.invalid_type,expected:kt.set,received:n.parsedType}),Qt;const o=this._def;o.minSize!==null&&n.data.size<o.minSize.value&&(xt(n,{code:it.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),r.dirty()),o.maxSize!==null&&n.data.size>o.maxSize.value&&(xt(n,{code:it.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),r.dirty());const a=this._def.valueType;function l(p){const m=new Set;for(const b of p){if(b.status==="aborted")return Qt;b.status==="dirty"&&r.dirty(),m.add(b.value)}return{status:r.value,value:m}}const c=[...n.data.values()].map((p,m)=>a._parse(new qs(n,p,n.path,m)));return n.common.async?Promise.all(c).then(p=>l(p)):l(c)}min(e,r){return new il({...this._def,minSize:{value:e,message:Dt.toString(r)}})}max(e,r){return new il({...this._def,maxSize:{value:e,message:Dt.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}il.create=(t,e)=>new il({valueType:t,minSize:null,maxSize:null,typeName:Ht.ZodSet,...nr(e)});class ru extends or{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==kt.function)return xt(r,{code:it.invalid_type,expected:kt.function,received:r.parsedType}),Qt;function n(c,p){return Hh({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Vh(),mu].filter(m=>!!m),issueData:{code:it.invalid_arguments,argumentsError:p}})}function o(c,p){return Hh({data:c,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Vh(),mu].filter(m=>!!m),issueData:{code:it.invalid_return_type,returnTypeError:p}})}const a={errorMap:r.common.contextualErrorMap},l=r.data;if(this._def.returns instanceof gu){const c=this;return $n(async function(...p){const m=new Ni([]),b=await c._def.args.parseAsync(p,a).catch(q=>{throw m.addIssue(n(p,q)),m}),x=await Reflect.apply(l,this,b);return await c._def.returns._def.type.parseAsync(x,a).catch(q=>{throw m.addIssue(o(x,q)),m})})}else{const c=this;return $n(function(...p){const m=c._def.args.safeParse(p,a);if(!m.success)throw new Ni([n(p,m.error)]);const b=Reflect.apply(l,this,m.data),x=c._def.returns.safeParse(b,a);if(!x.success)throw new Ni([o(b,x.error)]);return x.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ru({...this._def,args:Cs.create(e).rest(Za.create())})}returns(e){return new ru({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new ru({args:e||Cs.create([]).rest(Za.create()),returns:r||Za.create(),typeName:Ht.ZodFunction,...nr(n)})}}class ad extends or{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}ad.create=(t,e)=>new ad({getter:t,typeName:Ht.ZodLazy,...nr(e)});class ld extends or{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return xt(r,{received:r.data,code:it.invalid_literal,expected:this._def.value}),Qt}return{status:"valid",value:e.data}}get value(){return this._def.value}}ld.create=(t,e)=>new ld({value:t,typeName:Ht.ZodLiteral,...nr(e)});function E1(t,e){return new ra({values:t,typeName:Ht.ZodEnum,...nr(e)})}class ra extends or{constructor(){super(...arguments),Oc.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return xt(r,{expected:dr.joinValues(n),received:r.parsedType,code:it.invalid_type}),Qt}if(Qh(this,Oc)||b1(this,Oc,new Set(this._def.values)),!Qh(this,Oc).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return xt(r,{received:r.data,code:it.invalid_enum_value,options:n}),Qt}return $n(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return ra.create(e,{...this._def,...r})}exclude(e,r=this._def){return ra.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Oc=new WeakMap;ra.create=E1;class ud extends or{constructor(){super(...arguments),Tc.set(this,void 0)}_parse(e){const r=dr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==kt.string&&n.parsedType!==kt.number){const o=dr.objectValues(r);return xt(n,{expected:dr.joinValues(o),received:n.parsedType,code:it.invalid_type}),Qt}if(Qh(this,Tc)||b1(this,Tc,new Set(dr.getValidEnumValues(this._def.values))),!Qh(this,Tc).has(e.data)){const o=dr.objectValues(r);return xt(n,{received:n.data,code:it.invalid_enum_value,options:o}),Qt}return $n(e.data)}get enum(){return this._def.values}}Tc=new WeakMap;ud.create=(t,e)=>new ud({values:t,typeName:Ht.ZodNativeEnum,...nr(e)});class gu extends or{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==kt.promise&&r.common.async===!1)return xt(r,{code:it.invalid_type,expected:kt.promise,received:r.parsedType}),Qt;const n=r.parsedType===kt.promise?r.data:Promise.resolve(r.data);return $n(n.then(o=>this._def.type.parseAsync(o,{path:r.path,errorMap:r.common.contextualErrorMap})))}}gu.create=(t,e)=>new gu({type:t,typeName:Ht.ZodPromise,...nr(e)});class ss extends or{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ht.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),o=this._def.effect||null,a={addIssue:l=>{xt(n,l),l.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),o.type==="preprocess"){const l=o.transform(n.data,a);if(n.common.async)return Promise.resolve(l).then(async c=>{if(r.value==="aborted")return Qt;const p=await this._def.schema._parseAsync({data:c,path:n.path,parent:n});return p.status==="aborted"?Qt:p.status==="dirty"||r.value==="dirty"?Ql(p.value):p});{if(r.value==="aborted")return Qt;const c=this._def.schema._parseSync({data:l,path:n.path,parent:n});return c.status==="aborted"?Qt:c.status==="dirty"||r.value==="dirty"?Ql(c.value):c}}if(o.type==="refinement"){const l=c=>{const p=o.refinement(c,a);if(n.common.async)return Promise.resolve(p);if(p instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(n.common.async===!1){const c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return c.status==="aborted"?Qt:(c.status==="dirty"&&r.dirty(),l(c.value),{status:r.value,value:c.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>c.status==="aborted"?Qt:(c.status==="dirty"&&r.dirty(),l(c.value).then(()=>({status:r.value,value:c.value}))))}if(o.type==="transform")if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!rl(l))return l;const c=o.transform(l.value,a);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:c}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>rl(l)?Promise.resolve(o.transform(l.value,a)).then(c=>({status:r.value,value:c})):l);dr.assertNever(o)}}ss.create=(t,e,r)=>new ss({schema:t,typeName:Ht.ZodEffects,effect:e,...nr(r)});ss.createWithPreprocess=(t,e,r)=>new ss({schema:e,effect:{type:"preprocess",transform:t},typeName:Ht.ZodEffects,...nr(r)});class Ns extends or{_parse(e){return this._getType(e)===kt.undefined?$n(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ns.create=(t,e)=>new Ns({innerType:t,typeName:Ht.ZodOptional,...nr(e)});class na extends or{_parse(e){return this._getType(e)===kt.null?$n(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}na.create=(t,e)=>new na({innerType:t,typeName:Ht.ZodNullable,...nr(e)});class cd extends or{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===kt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}cd.create=(t,e)=>new cd({innerType:t,typeName:Ht.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...nr(e)});class dd extends or{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},o=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return ed(o)?o.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ni(n.common.issues)},input:n.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Ni(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}dd.create=(t,e)=>new dd({innerType:t,typeName:Ht.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...nr(e)});class Zh extends or{_parse(e){if(this._getType(e)!==kt.nan){const n=this._getOrReturnCtx(e);return xt(n,{code:it.invalid_type,expected:kt.nan,received:n.parsedType}),Qt}return{status:"valid",value:e.data}}}Zh.create=t=>new Zh({typeName:Ht.ZodNaN,...nr(t)});const VI=Symbol("zod_brand");class C_ extends or{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Rd extends or{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Qt:a.status==="dirty"?(r.dirty(),Ql(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const o=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Qt:o.status==="dirty"?(r.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:n.path,parent:n})}}static create(e,r){return new Rd({in:e,out:r,typeName:Ht.ZodPipeline})}}class fd extends or{_parse(e){const r=this._def.innerType._parse(e),n=o=>(rl(o)&&(o.value=Object.freeze(o.value)),o);return ed(r)?r.then(o=>n(o)):n(r)}unwrap(){return this._def.innerType}}fd.create=(t,e)=>new fd({innerType:t,typeName:Ht.ZodReadonly,...nr(e)});function N1(t,e={},r){return t?yu.create().superRefine((n,o)=>{var a,l;if(!t(n)){const c=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,p=(l=(a=c.fatal)!==null&&a!==void 0?a:r)!==null&&l!==void 0?l:!0,m=typeof c=="string"?{message:c}:c;o.addIssue({code:"custom",...m,fatal:p})}}):yu.create()}const HI={object:Jr.lazycreate};var Ht;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ht||(Ht={}));const QI=(t,e={message:`Input not instance of ${t.name}`})=>N1(r=>r instanceof t,e),k1=ns.create,q1=ea.create,KI=Zh.create,GI=ta.create,C1=td.create,JI=nl.create,ZI=Kh.create,XI=rd.create,YI=nd.create,eP=yu.create,tP=Za.create,rP=so.create,nP=Gh.create,iP=is.create,sP=Jr.create,oP=Jr.strictCreate,aP=id.create,lP=Dp.create,uP=sd.create,cP=Cs.create,dP=od.create,fP=Jh.create,hP=il.create,pP=ru.create,mP=ad.create,yP=ld.create,gP=ra.create,vP=ud.create,_P=gu.create,gS=ss.create,bP=Ns.create,wP=na.create,xP=ss.createWithPreprocess,SP=Rd.create,EP=()=>k1().optional(),NP=()=>q1().optional(),kP=()=>C1().optional(),qP={string:t=>ns.create({...t,coerce:!0}),number:t=>ea.create({...t,coerce:!0}),boolean:t=>td.create({...t,coerce:!0}),bigint:t=>ta.create({...t,coerce:!0}),date:t=>nl.create({...t,coerce:!0})},CP=Qt;var Me=Object.freeze({__proto__:null,defaultErrorMap:mu,setErrorMap:xI,getErrorMap:Vh,makeIssue:Hh,EMPTY_PATH:SI,addIssueToContext:xt,ParseStatus:In,INVALID:Qt,DIRTY:Ql,OK:$n,isAborted:$v,isDirty:Uv,isValid:rl,isAsync:ed,get util(){return dr},get objectUtil(){return Wv},ZodParsedType:kt,getParsedType:eo,ZodType:or,datetimeRegex:S1,ZodString:ns,ZodNumber:ea,ZodBigInt:ta,ZodBoolean:td,ZodDate:nl,ZodSymbol:Kh,ZodUndefined:rd,ZodNull:nd,ZodAny:yu,ZodUnknown:Za,ZodNever:so,ZodVoid:Gh,ZodArray:is,ZodObject:Jr,ZodUnion:id,ZodDiscriminatedUnion:Dp,ZodIntersection:sd,ZodTuple:Cs,ZodRecord:od,ZodMap:Jh,ZodSet:il,ZodFunction:ru,ZodLazy:ad,ZodLiteral:ld,ZodEnum:ra,ZodNativeEnum:ud,ZodPromise:gu,ZodEffects:ss,ZodTransformer:ss,ZodOptional:Ns,ZodNullable:na,ZodDefault:cd,ZodCatch:dd,ZodNaN:Zh,BRAND:VI,ZodBranded:C_,ZodPipeline:Rd,ZodReadonly:fd,custom:N1,Schema:or,ZodSchema:or,late:HI,get ZodFirstPartyTypeKind(){return Ht},coerce:qP,any:eP,array:iP,bigint:GI,boolean:C1,date:JI,discriminatedUnion:lP,effect:gS,enum:gP,function:pP,instanceof:QI,intersection:uP,lazy:mP,literal:yP,map:fP,nan:KI,nativeEnum:vP,never:rP,null:YI,nullable:wP,number:q1,object:sP,oboolean:kP,onumber:NP,optional:bP,ostring:EP,pipeline:SP,preprocess:xP,promise:_P,record:dP,set:hP,strictObject:oP,string:k1,symbol:ZI,transformer:gS,tuple:cP,undefined:XI,union:aP,unknown:tP,void:nP,NEVER:CP,ZodIssueCode:it,quotelessJson:wI,ZodError:Ni}),Dl={},Ks={},Pr={},Zi={},vS;function R1(){if(vS)return Zi;vS=1,Object.defineProperty(Zi,"__esModule",{value:!0}),Zi.anumber=t,Zi.number=t,Zi.abytes=r,Zi.bytes=r,Zi.ahash=n,Zi.aexists=o,Zi.aoutput=a;function t(c){if(!Number.isSafeInteger(c)||c<0)throw new Error("positive integer expected, got "+c)}function e(c){return c instanceof Uint8Array||ArrayBuffer.isView(c)&&c.constructor.name==="Uint8Array"}function r(c,...p){if(!e(c))throw new Error("Uint8Array expected");if(p.length>0&&!p.includes(c.length))throw new Error("Uint8Array expected of length "+p+", got length="+c.length)}function n(c){if(typeof c!="function"||typeof c.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");t(c.outputLen),t(c.blockLen)}function o(c,p=!0){if(c.destroyed)throw new Error("Hash instance has been destroyed");if(p&&c.finished)throw new Error("Hash#digest() has already been called")}function a(c,p){r(c);const m=p.outputLen;if(c.length<m)throw new Error("digestInto() expects output buffer of length at least "+m)}const l={number:t,bytes:r,hash:n,exists:o,output:a};return Zi.default=l,Zi}var Zt={},_S;function RP(){if(_S)return Zt;_S=1,Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.add5L=Zt.add5H=Zt.add4H=Zt.add4L=Zt.add3H=Zt.add3L=Zt.rotlBL=Zt.rotlBH=Zt.rotlSL=Zt.rotlSH=Zt.rotr32L=Zt.rotr32H=Zt.rotrBL=Zt.rotrBH=Zt.rotrSL=Zt.rotrSH=Zt.shrSL=Zt.shrSH=Zt.toBig=void 0,Zt.fromBig=r,Zt.split=n,Zt.add=P;const t=BigInt(2**32-1),e=BigInt(32);function r(H,ne=!1){return ne?{h:Number(H&t),l:Number(H>>e&t)}:{h:Number(H>>e&t)|0,l:Number(H&t)|0}}function n(H,ne=!1){let B=new Uint32Array(H.length),re=new Uint32Array(H.length);for(let Z=0;Z<H.length;Z++){const{h:pe,l:Re}=r(H[Z],ne);[B[Z],re[Z]]=[pe,Re]}return[B,re]}const o=(H,ne)=>BigInt(H>>>0)<<e|BigInt(ne>>>0);Zt.toBig=o;const a=(H,ne,B)=>H>>>B;Zt.shrSH=a;const l=(H,ne,B)=>H<<32-B|ne>>>B;Zt.shrSL=l;const c=(H,ne,B)=>H>>>B|ne<<32-B;Zt.rotrSH=c;const p=(H,ne,B)=>H<<32-B|ne>>>B;Zt.rotrSL=p;const m=(H,ne,B)=>H<<64-B|ne>>>B-32;Zt.rotrBH=m;const b=(H,ne,B)=>H>>>B-32|ne<<64-B;Zt.rotrBL=b;const x=(H,ne)=>ne;Zt.rotr32H=x;const N=(H,ne)=>H;Zt.rotr32L=N;const q=(H,ne,B)=>H<<B|ne>>>32-B;Zt.rotlSH=q;const R=(H,ne,B)=>ne<<B|H>>>32-B;Zt.rotlSL=R;const C=(H,ne,B)=>ne<<B-32|H>>>64-B;Zt.rotlBH=C;const L=(H,ne,B)=>H<<B-32|ne>>>64-B;Zt.rotlBL=L;function P(H,ne,B,re){const Z=(ne>>>0)+(re>>>0);return{h:H+B+(Z/2**32|0)|0,l:Z|0}}const I=(H,ne,B)=>(H>>>0)+(ne>>>0)+(B>>>0);Zt.add3L=I;const D=(H,ne,B,re)=>ne+B+re+(H/2**32|0)|0;Zt.add3H=D;const z=(H,ne,B,re)=>(H>>>0)+(ne>>>0)+(B>>>0)+(re>>>0);Zt.add4L=z;const V=(H,ne,B,re,Z)=>ne+B+re+Z+(H/2**32|0)|0;Zt.add4H=V;const W=(H,ne,B,re,Z)=>(H>>>0)+(ne>>>0)+(B>>>0)+(re>>>0)+(Z>>>0);Zt.add5L=W;const K=(H,ne,B,re,Z,pe)=>ne+B+re+Z+pe+(H/2**32|0)|0;Zt.add5H=K;const le={fromBig:r,split:n,toBig:o,shrSH:a,shrSL:l,rotrSH:c,rotrSL:p,rotrBH:m,rotrBL:b,rotr32H:x,rotr32L:N,rotlSH:q,rotlSL:R,rotlBH:C,rotlBL:L,add:P,add3L:I,add3H:D,add4L:z,add4H:V,add5H:K,add5L:W};return Zt.default=le,Zt}var Kg={},Nc={},bS;function OP(){return bS||(bS=1,Object.defineProperty(Nc,"__esModule",{value:!0}),Nc.crypto=void 0,Nc.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),Nc}var wS;function TP(){return wS||(wS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Hash=t.nextTick=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=void 0,t.isBytes=n,t.byteSwap32=b,t.bytesToHex=N,t.hexToBytes=C,t.asyncLoop=P,t.utf8ToBytes=I,t.toBytes=D,t.concatBytes=z,t.checkOpts=W,t.wrapConstructor=K,t.wrapConstructorWithOpts=le,t.wrapXOFConstructorWithOpts=H,t.randomBytes=ne;const e=OP(),r=R1();function n(B){return B instanceof Uint8Array||ArrayBuffer.isView(B)&&B.constructor.name==="Uint8Array"}const o=B=>new Uint8Array(B.buffer,B.byteOffset,B.byteLength);t.u8=o;const a=B=>new Uint32Array(B.buffer,B.byteOffset,Math.floor(B.byteLength/4));t.u32=a;const l=B=>new DataView(B.buffer,B.byteOffset,B.byteLength);t.createView=l;const c=(B,re)=>B<<32-re|B>>>re;t.rotr=c;const p=(B,re)=>B<<re|B>>>32-re>>>0;t.rotl=p,t.isLE=new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]===68;const m=B=>B<<24&0xff000000|B<<8&0xff0000|B>>>8&65280|B>>>24&255;t.byteSwap=m,t.byteSwapIfBE=t.isLE?B=>B:B=>(0,t.byteSwap)(B);function b(B){for(let re=0;re<B.length;re++)B[re]=(0,t.byteSwap)(B[re])}const x=Array.from({length:256},(B,re)=>re.toString(16).padStart(2,"0"));function N(B){(0,r.abytes)(B);let re="";for(let Z=0;Z<B.length;Z++)re+=x[B[Z]];return re}const q={_0:48,_9:57,A:65,F:70,a:97,f:102};function R(B){if(B>=q._0&&B<=q._9)return B-q._0;if(B>=q.A&&B<=q.F)return B-(q.A-10);if(B>=q.a&&B<=q.f)return B-(q.a-10)}function C(B){if(typeof B!="string")throw new Error("hex string expected, got "+typeof B);const re=B.length,Z=re/2;if(re%2)throw new Error("hex string expected, got unpadded hex of length "+re);const pe=new Uint8Array(Z);for(let Re=0,Ce=0;Re<Z;Re++,Ce+=2){const Pe=R(B.charCodeAt(Ce)),ve=R(B.charCodeAt(Ce+1));if(Pe===void 0||ve===void 0){const me=B[Ce]+B[Ce+1];throw new Error('hex string expected, got non-hex character "'+me+'" at index '+Ce)}pe[Re]=Pe*16+ve}return pe}const L=async()=>{};t.nextTick=L;async function P(B,re,Z){let pe=Date.now();for(let Re=0;Re<B;Re++){Z(Re);const Ce=Date.now()-pe;Ce>=0&&Ce<re||(await (0,t.nextTick)(),pe+=Ce)}}function I(B){if(typeof B!="string")throw new Error("utf8ToBytes expected string, got "+typeof B);return new Uint8Array(new TextEncoder().encode(B))}function D(B){return typeof B=="string"&&(B=I(B)),(0,r.abytes)(B),B}function z(...B){let re=0;for(let pe=0;pe<B.length;pe++){const Re=B[pe];(0,r.abytes)(Re),re+=Re.length}const Z=new Uint8Array(re);for(let pe=0,Re=0;pe<B.length;pe++){const Ce=B[pe];Z.set(Ce,Re),Re+=Ce.length}return Z}class V{clone(){return this._cloneInto()}}t.Hash=V;function W(B,re){if(re!==void 0&&{}.toString.call(re)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(B,re)}function K(B){const re=pe=>B().update(D(pe)).digest(),Z=B();return re.outputLen=Z.outputLen,re.blockLen=Z.blockLen,re.create=()=>B(),re}function le(B){const re=(pe,Re)=>B(Re).update(D(pe)).digest(),Z=B({});return re.outputLen=Z.outputLen,re.blockLen=Z.blockLen,re.create=pe=>B(pe),re}function H(B){const re=(pe,Re)=>B(Re).update(D(pe)).digest(),Z=B({});return re.outputLen=Z.outputLen,re.blockLen=Z.blockLen,re.create=pe=>B(pe),re}function ne(B=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(B));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(B);throw new Error("crypto.getRandomValues must be defined")}}(Kg)),Kg}var xS;function AP(){if(xS)return Pr;xS=1,Object.defineProperty(Pr,"__esModule",{value:!0}),Pr.shake256=Pr.shake128=Pr.keccak_512=Pr.keccak_384=Pr.keccak_256=Pr.keccak_224=Pr.sha3_512=Pr.sha3_384=Pr.sha3_256=Pr.sha3_224=Pr.Keccak=void 0,Pr.keccakP=L;const t=R1(),e=RP(),r=TP(),n=[],o=[],a=[],l=BigInt(0),c=BigInt(1),p=BigInt(2),m=BigInt(7),b=BigInt(256),x=BigInt(113);for(let z=0,V=c,W=1,K=0;z<24;z++){[W,K]=[K,(2*W+3*K)%5],n.push(2*(5*K+W)),o.push((z+1)*(z+2)/2%64);let le=l;for(let H=0;H<7;H++)V=(V<<c^(V>>m)*x)%b,V&p&&(le^=c<<(c<<BigInt(H))-c);a.push(le)}const[N,q]=(0,e.split)(a,!0),R=(z,V,W)=>W>32?(0,e.rotlBH)(z,V,W):(0,e.rotlSH)(z,V,W),C=(z,V,W)=>W>32?(0,e.rotlBL)(z,V,W):(0,e.rotlSL)(z,V,W);function L(z,V=24){const W=new Uint32Array(10);for(let K=24-V;K<24;K++){for(let ne=0;ne<10;ne++)W[ne]=z[ne]^z[ne+10]^z[ne+20]^z[ne+30]^z[ne+40];for(let ne=0;ne<10;ne+=2){const B=(ne+8)%10,re=(ne+2)%10,Z=W[re],pe=W[re+1],Re=R(Z,pe,1)^W[B],Ce=C(Z,pe,1)^W[B+1];for(let Pe=0;Pe<50;Pe+=10)z[ne+Pe]^=Re,z[ne+Pe+1]^=Ce}let le=z[2],H=z[3];for(let ne=0;ne<24;ne++){const B=o[ne],re=R(le,H,B),Z=C(le,H,B),pe=n[ne];le=z[pe],H=z[pe+1],z[pe]=re,z[pe+1]=Z}for(let ne=0;ne<50;ne+=10){for(let B=0;B<10;B++)W[B]=z[ne+B];for(let B=0;B<10;B++)z[ne+B]^=~W[(B+2)%10]&W[(B+4)%10]}z[0]^=N[K],z[1]^=q[K]}W.fill(0)}class P extends r.Hash{constructor(V,W,K,le=!1,H=24){if(super(),this.blockLen=V,this.suffix=W,this.outputLen=K,this.enableXOF=le,this.rounds=H,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,t.anumber)(K),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,r.u32)(this.state)}keccak(){r.isLE||(0,r.byteSwap32)(this.state32),L(this.state32,this.rounds),r.isLE||(0,r.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(V){(0,t.aexists)(this);const{blockLen:W,state:K}=this;V=(0,r.toBytes)(V);const le=V.length;for(let H=0;H<le;){const ne=Math.min(W-this.pos,le-H);for(let B=0;B<ne;B++)K[this.pos++]^=V[H++];this.pos===W&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:V,suffix:W,pos:K,blockLen:le}=this;V[K]^=W,W&128&&K===le-1&&this.keccak(),V[le-1]^=128,this.keccak()}writeInto(V){(0,t.aexists)(this,!1),(0,t.abytes)(V),this.finish();const W=this.state,{blockLen:K}=this;for(let le=0,H=V.length;le<H;){this.posOut>=K&&this.keccak();const ne=Math.min(K-this.posOut,H-le);V.set(W.subarray(this.posOut,this.posOut+ne),le),this.posOut+=ne,le+=ne}return V}xofInto(V){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(V)}xof(V){return(0,t.anumber)(V),this.xofInto(new Uint8Array(V))}digestInto(V){if((0,t.aoutput)(V,this),this.finished)throw new Error("digest() was already called");return this.writeInto(V),this.destroy(),V}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(V){const{blockLen:W,suffix:K,outputLen:le,rounds:H,enableXOF:ne}=this;return V||(V=new P(W,K,le,ne,H)),V.state32.set(this.state32),V.pos=this.pos,V.posOut=this.posOut,V.finished=this.finished,V.rounds=H,V.suffix=K,V.outputLen=le,V.enableXOF=ne,V.destroyed=this.destroyed,V}}Pr.Keccak=P;const I=(z,V,W)=>(0,r.wrapConstructor)(()=>new P(V,z,W));Pr.sha3_224=I(6,144,224/8),Pr.sha3_256=I(6,136,256/8),Pr.sha3_384=I(6,104,384/8),Pr.sha3_512=I(6,72,512/8),Pr.keccak_224=I(1,144,224/8),Pr.keccak_256=I(1,136,256/8),Pr.keccak_384=I(1,104,384/8),Pr.keccak_512=I(1,72,512/8);const D=(z,V,W)=>(0,r.wrapXOFConstructorWithOpts)((K={})=>new P(V,z,K.dkLen===void 0?W:K.dkLen,!0));return Pr.shake128=D(31,168,128/8),Pr.shake256=D(31,136,256/8),Pr}var SS;function IP(){if(SS)return Ks;SS=1;const{sha3_512:t}=AP(),e=24,r=32,n=(R=4,C=Math.random)=>{let L="";for(;L.length<R;)L=L+Math.floor(C()*36).toString(36);return L};function o(R){let C=8n,L=0n;for(const P of R.values()){const I=BigInt(P);L=(L<<C)+I}return L}const a=(R="")=>o(t(R)).toString(36).slice(1),l=Array.from({length:26},(R,C)=>String.fromCharCode(C+97)),c=R=>l[Math.floor(R()*l.length)],p=({globalObj:R=typeof wv<"u"?wv:typeof window<"u"?window:{},random:C=Math.random}={})=>{const L=Object.keys(R).toString(),P=L.length?L+n(r,C):n(r,C);return a(P).substring(0,r)},m=R=>()=>R++,b=0x1c6b1f1f,x=({random:R=Math.random,counter:C=m(Math.floor(R()*b)),length:L=e,fingerprint:P=p({random:R})}={})=>function(){const D=c(R),z=Date.now().toString(36),V=C().toString(36),W=n(L,R),K=`${z+W+V+P}`;return`${D+a(K).substring(1,L)}`},N=x(),q=(R,{minLength:C=2,maxLength:L=r}={})=>{const P=R.length,I=/^[0-9a-z]+$/;try{if(typeof R=="string"&&P>=C&&P<=L&&I.test(R))return!0}finally{}return!1};return Ks.getConstants=()=>({defaultLength:e,bigLength:r}),Ks.init=x,Ks.createId=N,Ks.bufToBigInt=o,Ks.createCounter=m,Ks.createFingerprint=p,Ks.isCuid=q,Ks}var ES;function PP(){if(ES)return Dl;ES=1;const{createId:t,init:e,getConstants:r,isCuid:n}=IP();return Dl.createId=t,Dl.init=e,Dl.getConstants=r,Dl.isCuid=n,Dl}var FP=PP();const LP=FP.createId,jP=({schema:t,meta:e,toOutput:r=async({entity:N})=>N,toCreate:n=async({entity:N})=>N,toPatch:o=async({entity:N})=>N,insert:a,update:l,remove:c,select:p,applyWhere:m=({select:N})=>N,applyFilter:b=({select:N})=>N,event:x})=>{const N=({where:P,select:I})=>{let D=I;for(const[z,V]of Object.entries(e.where))P?.[z]!==void 0&&(["idIn","fulltext"].includes(z)||(D=P?.[z]===null?D.where(V,"is",null):D.where(V,"=",P[z])));if(P?.idIn&&(D=D.where("id","in",P.idIn)),e?.fulltext&&P?.fulltext){const z=P.fulltext.toLowerCase();D=D.where(V=>V.or(e.fulltext?.map(W=>V(W,"like",`%${z}%`))||[]))}return D},q=({where:P,select:I,apply:D=["where","filter","cursor","sort"]})=>D.includes("where")?m({where:P,select:N({select:I,where:P,apply:D}),apply:D}):I,R=({where:P,select:I,apply:D=["where","filter","cursor","sort"]})=>D.includes("filter")?b({where:P,select:N({select:I,where:P,apply:D}),apply:D}):I,C=({query:{where:P,filter:I,cursor:D={page:0,size:10}},select:z,apply:V=["where","filter","cursor","sort"]})=>{let W=R({where:I,select:q({select:z,where:P,apply:V}),apply:V});return V.includes("cursor")&&(W=W.limit(D.size).offset(D.page*D.size)),W},L={schema:t,async create({entity:P,shape:I}){const D=LP();await x?.onPreCreate?.({entity:P,shape:I}),await a({}).values(t.entity.parse({...await n({entity:P,shape:I}),id:D})).execute();const z=await L.fetchOrThrow({query:{where:{id:D}}});return await x?.onPostCreate?.({entity:z,shape:I}),z},async patch({entity:P,shape:I,filter:D}){const z=await L.fetchOrThrow({query:{where:D}});if(!z)throw new Error("Cannot patch an unknown entity (empty query result).");await x?.onPrePatch?.({entity:P,shape:I}),await l({}).set(t.entity.partial().parse(await o({entity:P,shape:I}))).where("id","=",z.id).execute();const V=await L.fetchOrThrow({query:{where:{id:z.id}}});return await x?.onPostPatch?.({entity:V,shape:I}),V},async remove({idIn:P}){if(!P||P?.length===0){console.log("nothing to remove");return}return c({}).where("id","in",P).execute()},async fetch({query:P}){const I=await C({query:P,select:p({query:P})}).executeTakeFirst();if(I)return(t.output??t.entity).parse(await r({entity:t.entity.parse(I)}))},async fetchOrThrow({query:P}){return(t.output??t.entity).parse(await r({entity:t.entity.parse(await C({query:P,select:p({query:P})}).executeTakeFirstOrThrow())}))},async list({query:P}){const I=t.output??t.entity;return Promise.all(Me.array(t.entity).parse(await C({query:P,select:p({query:P})}).execute()).map(async D=>I.parse(await r({entity:D}))))},async count({query:P}){return{total:(await C({query:{},select:p({query:P}).select([I=>I.fn.countAll().as("count")]),apply:[]}).executeTakeFirst()).count,where:(await C({query:{where:P.where},select:p({query:P}).select([I=>I.fn.countAll().as("count")]),apply:["where"]}).executeTakeFirst()).count,filter:(await C({query:{where:P.where,filter:P.filter},select:p({query:P}).select([I=>I.fn.countAll().as("count")]),apply:["filter","where"]}).executeTakeFirst()).count}}};return L},uo=({entity:t,output:e=t,shape:r,filter:n})=>({entity:t,output:e,shape:r,filter:n}),DP=Me.object({page:Me.number().gte(0,"Page must be greater than zero"),size:Me.number().gte(1,"Page size must be greater than one to get any data")}),co=Me.object({id:Me.string().min(1)}),R_=Me.object({message:Me.string()}),fo=Me.object({id:Me.string().nullish(),idIn:Me.array(Me.string()).nullish(),fulltext:Me.string().nullish()}),MP=co.merge(Me.object({code:Me.string().min(1),label:Me.string().min(1),group:Me.string().nullish(),sort:Me.number().default(0)})),da=t=>{const e="input"in t?t.input:"input",r="output"in t?t.output:"output",n="schema"in t?t.schema._input:t._input,o="schema"in t?t.schema._output:t._output;return{types:{input:e==="output"?o:n,output:r==="input"?n:o},parse:a=>"schema"in t?t.schema.parse(a):t.parse(a)}},ih=(t,e)=>Me.custom().pipe(t.catch(e)),fa=({filter:t})=>Me.object({global:ih(t.optional(),{fulltext:""}).default({fulltext:""}),filter:ih(t.optional(),void 0),cursor:ih(DP,{page:0,size:15}).default({page:0,size:15}),selection:ih(Me.array(Me.string()),[]).default([])}),jo=(t,e)=>Array.from({length:e-t+1},(r,n)=>n+t),BP=({page:t,total:e,siblings:r=1,boundaries:n=1})=>{const o=Math.max(Math.trunc(e),0);if(r*2+3+n*2>=o)return{type:"simple",page:t,total:e,pages:jo(1,o),start:[],end:[]};const l=Math.max(t-r,n),c=Math.min(t+r,o-n),p=l>n+2,m=c<o-(n+1);return!p&&m?{type:"end",page:t,total:e,start:[],pages:jo(1,r*2+n+2),end:jo(e-(n-1),o)}:p&&!m?{type:"start",page:t,total:e,start:jo(1,n),pages:jo(e-(n+1+2*r),o),end:[]}:{type:"both",page:t,total:e,start:jo(1,n),pages:jo(l,c),end:jo(o-n+1,o)}};var Eh={exports:{}},WP=Eh.exports,NS;function $P(){return NS||(NS=1,function(t){(function(e,r){t.exports=r()})(WP,function(){var e=Object.prototype.toString;function r(x,N){return x==null?!1:Object.prototype.hasOwnProperty.call(x,N)}function n(x){if(!x||l(x)&&x.length===0)return!0;if(typeof x!="string"){for(var N in x)if(r(x,N))return!1;return!0}return!1}function o(x){return e.call(x)}function a(x){return typeof x=="object"&&o(x)==="[object Object]"}var l=Array.isArray||function(x){return e.call(x)==="[object Array]"};function c(x){return typeof x=="boolean"||o(x)==="[object Boolean]"}function p(x){var N=parseInt(x);return N.toString()===x?N:x}function m(x){x=x||{};var N=function(P){return Object.keys(N).reduce(function(I,D){return D==="create"||typeof N[D]=="function"&&(I[D]=N[D].bind(N,P)),I},{})},q;x.includeInheritedProps?q=function(){return!0}:q=function(P,I){return typeof I=="number"&&Array.isArray(P)||r(P,I)};function R(P,I){if(q(P,I))return P[I]}var C;x.includeInheritedProps?C=function(P,I){typeof I!="string"&&typeof I!="number"&&(I=String(I));var D=R(P,I);if(I==="__proto__"||I==="prototype"||I==="constructor"&&typeof D=="function")throw new Error("For security reasons, object's magic properties cannot be set");return D}:C=function(P,I){return R(P,I)};function L(P,I,D,z){if(typeof I=="number"&&(I=[I]),!I||I.length===0)return P;if(typeof I=="string")return L(P,I.split(".").map(p),D,z);var V=I[0],W=C(P,V);return I.length===1?((W===void 0||!z)&&(P[V]=D),W):(W===void 0&&(typeof I[1]=="number"?P[V]=[]:P[V]={}),L(P[V],I.slice(1),D,z))}return N.has=function(P,I){if(typeof I=="number"?I=[I]:typeof I=="string"&&(I=I.split(".")),!I||I.length===0)return!!P;for(var D=0;D<I.length;D++){var z=p(I[D]);if(typeof z=="number"&&l(P)&&z<P.length||(x.includeInheritedProps?z in Object(P):r(P,z)))P=P[z];else return!1}return!0},N.ensureExists=function(P,I,D){return L(P,I,D,!0)},N.set=function(P,I,D,z){return L(P,I,D,z)},N.insert=function(P,I,D,z){var V=N.get(P,I);z=~~z,l(V)||(V=[],N.set(P,I,V)),V.splice(z,0,D)},N.empty=function(P,I){if(!n(I)&&P!=null){var D,z;if(D=N.get(P,I)){if(typeof D=="string")return N.set(P,I,"");if(c(D))return N.set(P,I,!1);if(typeof D=="number")return N.set(P,I,0);if(l(D))D.length=0;else if(a(D))for(z in D)q(D,z)&&delete D[z];else return N.set(P,I,null)}}},N.push=function(P,I){var D=N.get(P,I);l(D)||(D=[],N.set(P,I,D)),D.push.apply(D,Array.prototype.slice.call(arguments,2))},N.coalesce=function(P,I,D){for(var z,V=0,W=I.length;V<W;V++)if((z=N.get(P,I[V]))!==void 0)return z;return D},N.get=function(P,I,D){if(typeof I=="number"&&(I=[I]),!I||I.length===0)return P;if(P==null)return D;if(typeof I=="string")return N.get(P,I.split("."),D);var z=p(I[0]),V=C(P,z);return V===void 0?D:I.length===1?V:N.get(P[z],I.slice(1),D)},N.del=function(I,D){if(typeof D=="number"&&(D=[D]),I==null||n(D))return I;if(typeof D=="string")return N.del(I,D.split("."));var z=p(D[0]);if(C(I,z),!q(I,z))return I;if(D.length===1)l(I)?I.splice(z,1):delete I[z];else return N.del(I[z],D.slice(1));return I},N}var b=m();return b.create=m,b.withInheritedProps=m({includeInheritedProps:!0}),b})}(Eh)),Eh.exports}var UP=$P();const kS=Eu(UP);function O_({number:t,empty:e="-",fraction:r=2}){if(t==null)return e;try{return t.toLocaleString(void 0,{maximumFractionDigits:r})}catch(n){return console.error("toHumanNumber",t,n),t.toFixed(2)}}const T_=({error:t,errors:e,onError:r})=>{const n=e.some(a=>a),o=t instanceof Error;return!n&&o&&r(t),n||o},zP=lr({slot:{base:["flex","flex-row","gap-2","items-center","rounded","px-2","py-0.5","hover:bg-slate-100","text-slate-500","hover:text-blue-500","cursor-pointer"]},variant:{variant:{common:[],warning:["text-amber-500","hover:text-amber-600","hover:bg-amber-100"],danger:["text-red-500","hover:text-red-600","hover:bg-red-100"]},disabled:{true:["cursor-not-allowed","text-slate-300","bg-slate-100","hover:bg-slate-100"]}},defaults:{variant:"common",disabled:!1}});function Mp(){return typeof window<"u"}function ha(t){return O1(t)?(t.nodeName||"").toLowerCase():"#document"}function ai(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function As(t){var e;return(e=(O1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function O1(t){return Mp()?t instanceof Node||t instanceof ai(t).Node:!1}function Lr(t){return Mp()?t instanceof Element||t instanceof ai(t).Element:!1}function ln(t){return Mp()?t instanceof HTMLElement||t instanceof ai(t).HTMLElement:!1}function Vv(t){return!Mp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ai(t).ShadowRoot}function Od(t){const{overflow:e,overflowX:r,overflowY:n,display:o}=Ui(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(o)}function VP(t){return["table","td","th"].includes(ha(t))}function Bp(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function A_(t){const e=Wp(),r=Lr(t)?Ui(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function HP(t){let e=oo(t);for(;ln(e)&&!no(e);){if(A_(e))return e;if(Bp(e))return null;e=oo(e)}return null}function Wp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function no(t){return["html","body","#document"].includes(ha(t))}function Ui(t){return ai(t).getComputedStyle(t)}function $p(t){return Lr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function oo(t){if(ha(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Vv(t)&&t.host||As(t);return Vv(e)?e.host:e}function T1(t){const e=oo(t);return no(e)?t.ownerDocument?t.ownerDocument.body:t.body:ln(e)&&Od(e)?e:T1(e)}function Qo(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const o=T1(t),a=o===((n=t.ownerDocument)==null?void 0:n.body),l=ai(o);if(a){const c=Hv(l);return e.concat(l,l.visualViewport||[],Od(o)?o:[],c&&r?Qo(c):[])}return e.concat(o,Qo(o,[],r))}function Hv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function ts(t){let e=t.activeElement;for(;((r=e)==null||(r=r.shadowRoot)==null?void 0:r.activeElement)!=null;){var r;e=e.shadowRoot.activeElement}return e}function xn(t,e){if(!t||!e)return!1;const r=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(r&&Vv(r)){let n=e;for(;n;){if(t===n)return!0;n=n.parentNode||n.host}}return!1}function I_(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function A1(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:r,version:n}=e;return r+"/"+n}).join(" "):navigator.userAgent}function I1(t){return t.mozInputSource===0&&t.isTrusted?!0:Qv()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function P_(t){return KP()?!1:!Qv()&&t.width===0&&t.height===0||Qv()&&t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0&&t.pointerType==="touch"}function P1(){return/apple/i.test(navigator.vendor)}function Qv(){const t=/android/i;return t.test(I_())||t.test(A1())}function QP(){return I_().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function KP(){return A1().includes("jsdom/")}function hd(t,e){const r=["mouse","pen"];return e||r.push("",void 0),r.includes(t)}function GP(t){return"nativeEvent"in t}function JP(t){return t.matches("html,body")}function Sn(t){return t?.ownerDocument||document}function Gg(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const r=t;return r.target!=null&&e.contains(r.target)}function Wo(t){return"composedPath"in t?t.composedPath()[0]:t.target}const ZP="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function F_(t){return ln(t)&&t.matches(ZP)}function jn(t){t.preventDefault(),t.stopPropagation()}function F1(t){return t?t.getAttribute("role")==="combobox"&&F_(t):!1}const vu=Math.min,bi=Math.max,Xh=Math.round,Kl=Math.floor,ks=t=>({x:t,y:t}),XP={left:"right",right:"left",bottom:"top",top:"bottom"},YP={start:"end",end:"start"};function qS(t,e,r){return bi(t,vu(e,r))}function Td(t,e){return typeof t=="function"?t(e):t}function ia(t){return t.split("-")[0]}function Ad(t){return t.split("-")[1]}function L1(t){return t==="x"?"y":"x"}function j1(t){return t==="y"?"height":"width"}function sl(t){return["top","bottom"].includes(ia(t))?"y":"x"}function D1(t){return L1(sl(t))}function eF(t,e,r){r===void 0&&(r=!1);const n=Ad(t),o=D1(t),a=j1(o);let l=o==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=Yh(l)),[l,Yh(l)]}function tF(t){const e=Yh(t);return[Kv(t),e,Kv(e)]}function Kv(t){return t.replace(/start|end/g,e=>YP[e])}function rF(t,e,r){const n=["left","right"],o=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return r?e?o:n:e?n:o;case"left":case"right":return e?a:l;default:return[]}}function nF(t,e,r,n){const o=Ad(t);let a=rF(ia(t),r==="start",n);return o&&(a=a.map(l=>l+"-"+o),e&&(a=a.concat(a.map(Kv)))),a}function Yh(t){return t.replace(/left|right|bottom|top/g,e=>XP[e])}function iF(t){return{top:0,right:0,bottom:0,left:0,...t}}function sF(t){return typeof t!="number"?iF(t):{top:t,right:t,bottom:t,left:t}}function ep(t){const{x:e,y:r,width:n,height:o}=t;return{width:n,height:o,top:r,left:e,right:e+n,bottom:r+o,x:e,y:r}}var oF=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],tp=oF.join(","),M1=typeof Element>"u",_u=M1?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,rp=!M1&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t?.ownerDocument},np=function t(e,r){var n;r===void 0&&(r=!0);var o=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),a=o===""||o==="true",l=a||r&&e&&t(e.parentNode);return l},aF=function(e){var r,n=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"contenteditable");return n===""||n==="true"},lF=function(e,r,n){if(np(e))return[];var o=Array.prototype.slice.apply(e.querySelectorAll(tp));return r&&_u.call(e,tp)&&o.unshift(e),o=o.filter(n),o},uF=function t(e,r,n){for(var o=[],a=Array.from(e);a.length;){var l=a.shift();if(!np(l,!1))if(l.tagName==="SLOT"){var c=l.assignedElements(),p=c.length?c:l.children,m=t(p,!0,n);n.flatten?o.push.apply(o,m):o.push({scopeParent:l,candidates:m})}else{var b=_u.call(l,tp);b&&n.filter(l)&&(r||!e.includes(l))&&o.push(l);var x=l.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(l),N=!np(x,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(l));if(x&&N){var q=t(x===!0?l.children:x.children,!0,n);n.flatten?o.push.apply(o,q):o.push({scopeParent:l,candidates:q})}else a.unshift.apply(a,l.children)}}return o},B1=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},W1=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||aF(e))&&!B1(e)?0:e.tabIndex},cF=function(e,r){var n=W1(e);return n<0&&r&&!B1(e)?0:n},dF=function(e,r){return e.tabIndex===r.tabIndex?e.documentOrder-r.documentOrder:e.tabIndex-r.tabIndex},$1=function(e){return e.tagName==="INPUT"},fF=function(e){return $1(e)&&e.type==="hidden"},hF=function(e){var r=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return r},pF=function(e,r){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===r)return e[n]},mF=function(e){if(!e.name)return!0;var r=e.form||rp(e),n=function(c){return r.querySelectorAll('input[type="radio"][name="'+c+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=n(window.CSS.escape(e.name));else try{o=n(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var a=pF(o,e.form);return!a||a===e},yF=function(e){return $1(e)&&e.type==="radio"},gF=function(e){return yF(e)&&!mF(e)},vF=function(e){var r,n=e&&rp(e),o=(r=n)===null||r===void 0?void 0:r.host,a=!1;if(n&&n!==e){var l,c,p;for(a=!!((l=o)!==null&&l!==void 0&&(c=l.ownerDocument)!==null&&c!==void 0&&c.contains(o)||e!=null&&(p=e.ownerDocument)!==null&&p!==void 0&&p.contains(e));!a&&o;){var m,b,x;n=rp(o),o=(m=n)===null||m===void 0?void 0:m.host,a=!!((b=o)!==null&&b!==void 0&&(x=b.ownerDocument)!==null&&x!==void 0&&x.contains(o))}}return a},CS=function(e){var r=e.getBoundingClientRect(),n=r.width,o=r.height;return n===0&&o===0},_F=function(e,r){var n=r.displayCheck,o=r.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var a=_u.call(e,"details>summary:first-of-type"),l=a?e.parentElement:e;if(_u.call(l,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof o=="function"){for(var c=e;e;){var p=e.parentElement,m=rp(e);if(p&&!p.shadowRoot&&o(p)===!0)return CS(e);e.assignedSlot?e=e.assignedSlot:!p&&m!==e.ownerDocument?e=m.host:e=p}e=c}if(vF(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return CS(e);return!1},bF=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var r=e.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var n=0;n<r.children.length;n++){var o=r.children.item(n);if(o.tagName==="LEGEND")return _u.call(r,"fieldset[disabled] *")?!0:!o.contains(e)}return!0}r=r.parentElement}return!1},wF=function(e,r){return!(r.disabled||np(r)||fF(r)||_F(r,e)||hF(r)||bF(r))},Gv=function(e,r){return!(gF(r)||W1(r)<0||!wF(e,r))},xF=function(e){var r=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},SF=function t(e){var r=[],n=[];return e.forEach(function(o,a){var l=!!o.scopeParent,c=l?o.scopeParent:o,p=cF(c,l),m=l?t(o.candidates):c;p===0?l?r.push.apply(r,m):r.push(c):n.push({documentOrder:a,tabIndex:p,item:o,isScope:l,content:m})}),n.sort(dF).reduce(function(o,a){return a.isScope?o.push.apply(o,a.content):o.push(a.content),o},[]).concat(r)},Up=function(e,r){r=r||{};var n;return r.getShadowRoot?n=uF([e],r.includeContainer,{filter:Gv.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:xF}):n=lF(e,r.includeContainer,Gv.bind(null,r)),SF(n)},EF=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return _u.call(e,tp)===!1?!1:Gv(r,e)};function RS(t,e,r){let{reference:n,floating:o}=t;const a=sl(e),l=D1(e),c=j1(l),p=ia(e),m=a==="y",b=n.x+n.width/2-o.width/2,x=n.y+n.height/2-o.height/2,N=n[c]/2-o[c]/2;let q;switch(p){case"top":q={x:b,y:n.y-o.height};break;case"bottom":q={x:b,y:n.y+n.height};break;case"right":q={x:n.x+n.width,y:x};break;case"left":q={x:n.x-o.width,y:x};break;default:q={x:n.x,y:n.y}}switch(Ad(e)){case"start":q[l]-=N*(r&&m?-1:1);break;case"end":q[l]+=N*(r&&m?-1:1);break}return q}const NF=async(t,e,r)=>{const{placement:n="bottom",strategy:o="absolute",middleware:a=[],platform:l}=r,c=a.filter(Boolean),p=await (l.isRTL==null?void 0:l.isRTL(e));let m=await l.getElementRects({reference:t,floating:e,strategy:o}),{x:b,y:x}=RS(m,n,p),N=n,q={},R=0;for(let C=0;C<c.length;C++){const{name:L,fn:P}=c[C],{x:I,y:D,data:z,reset:V}=await P({x:b,y:x,initialPlacement:n,placement:N,strategy:o,middlewareData:q,rects:m,platform:l,elements:{reference:t,floating:e}});b=I??b,x=D??x,q={...q,[L]:{...q[L],...z}},V&&R<=50&&(R++,typeof V=="object"&&(V.placement&&(N=V.placement),V.rects&&(m=V.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:o}):V.rects),{x:b,y:x}=RS(m,N,p)),C=-1)}return{x:b,y:x,placement:N,strategy:o,middlewareData:q}};async function L_(t,e){var r;e===void 0&&(e={});const{x:n,y:o,platform:a,rects:l,elements:c,strategy:p}=t,{boundary:m="clippingAncestors",rootBoundary:b="viewport",elementContext:x="floating",altBoundary:N=!1,padding:q=0}=Td(e,t),R=sF(q),L=c[N?x==="floating"?"reference":"floating":x],P=ep(await a.getClippingRect({element:(r=await (a.isElement==null?void 0:a.isElement(L)))==null||r?L:L.contextElement||await (a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:m,rootBoundary:b,strategy:p})),I=x==="floating"?{x:n,y:o,width:l.floating.width,height:l.floating.height}:l.reference,D=await (a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),z=await (a.isElement==null?void 0:a.isElement(D))?await (a.getScale==null?void 0:a.getScale(D))||{x:1,y:1}:{x:1,y:1},V=ep(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:I,offsetParent:D,strategy:p}):I);return{top:(P.top-V.top+R.top)/z.y,bottom:(V.bottom-P.bottom+R.bottom)/z.y,left:(P.left-V.left+R.left)/z.x,right:(V.right-P.right+R.right)/z.x}}const kF=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:o,middlewareData:a,rects:l,initialPlacement:c,platform:p,elements:m}=e,{mainAxis:b=!0,crossAxis:x=!0,fallbackPlacements:N,fallbackStrategy:q="bestFit",fallbackAxisSideDirection:R="none",flipAlignment:C=!0,...L}=Td(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const P=ia(o),I=sl(c),D=ia(c)===c,z=await (p.isRTL==null?void 0:p.isRTL(m.floating)),V=N||(D||!C?[Yh(c)]:tF(c)),W=R!=="none";!N&&W&&V.push(...nF(c,C,R,z));const K=[c,...V],le=await L_(e,L),H=[];let ne=((n=a.flip)==null?void 0:n.overflows)||[];if(b&&H.push(le[P]),x){const pe=eF(o,l,z);H.push(le[pe[0]],le[pe[1]])}if(ne=[...ne,{placement:o,overflows:H}],!H.every(pe=>pe<=0)){var B,re;const pe=(((B=a.flip)==null?void 0:B.index)||0)+1,Re=K[pe];if(Re)return{data:{index:pe,overflows:ne},reset:{placement:Re}};let Ce=(re=ne.filter(Pe=>Pe.overflows[0]<=0).sort((Pe,ve)=>Pe.overflows[1]-ve.overflows[1])[0])==null?void 0:re.placement;if(!Ce)switch(q){case"bestFit":{var Z;const Pe=(Z=ne.filter(ve=>{if(W){const me=sl(ve.placement);return me===I||me==="y"}return!0}).map(ve=>[ve.placement,ve.overflows.filter(me=>me>0).reduce((me,Ee)=>me+Ee,0)]).sort((ve,me)=>ve[1]-me[1])[0])==null?void 0:Z[0];Pe&&(Ce=Pe);break}case"initialPlacement":Ce=c;break}if(o!==Ce)return{reset:{placement:Ce}}}return{}}}};async function qF(t,e){const{placement:r,platform:n,elements:o}=t,a=await (n.isRTL==null?void 0:n.isRTL(o.floating)),l=ia(r),c=Ad(r),p=sl(r)==="y",m=["left","top"].includes(l)?-1:1,b=a&&p?-1:1,x=Td(e,t);let{mainAxis:N,crossAxis:q,alignmentAxis:R}=typeof x=="number"?{mainAxis:x,crossAxis:0,alignmentAxis:null}:{mainAxis:x.mainAxis||0,crossAxis:x.crossAxis||0,alignmentAxis:x.alignmentAxis};return c&&typeof R=="number"&&(q=c==="end"?R*-1:R),p?{x:q*b,y:N*m}:{x:N*m,y:q*b}}const CF=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:o,y:a,placement:l,middlewareData:c}=e,p=await qF(e,t);return l===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:o+p.x,y:a+p.y,data:{...p,placement:l}}}}},RF=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:o}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:c={fn:L=>{let{x:P,y:I}=L;return{x:P,y:I}}},...p}=Td(t,e),m={x:r,y:n},b=await L_(e,p),x=sl(ia(o)),N=L1(x);let q=m[N],R=m[x];if(a){const L=N==="y"?"top":"left",P=N==="y"?"bottom":"right",I=q+b[L],D=q-b[P];q=qS(I,q,D)}if(l){const L=x==="y"?"top":"left",P=x==="y"?"bottom":"right",I=R+b[L],D=R-b[P];R=qS(I,R,D)}const C=c.fn({...e,[N]:q,[x]:R});return{...C,data:{x:C.x-r,y:C.y-n,enabled:{[N]:a,[x]:l}}}}}},OF=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:o,rects:a,platform:l,elements:c}=e,{apply:p=()=>{},...m}=Td(t,e),b=await L_(e,m),x=ia(o),N=Ad(o),q=sl(o)==="y",{width:R,height:C}=a.floating;let L,P;x==="top"||x==="bottom"?(L=x,P=N===(await (l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(P=x,L=N==="end"?"top":"bottom");const I=C-b.top-b.bottom,D=R-b.left-b.right,z=vu(C-b[L],I),V=vu(R-b[P],D),W=!e.middlewareData.shift;let K=z,le=V;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(le=D),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(K=I),W&&!N){const ne=bi(b.left,0),B=bi(b.right,0),re=bi(b.top,0),Z=bi(b.bottom,0);q?le=R-2*(ne!==0||B!==0?ne+B:bi(b.left,b.right)):K=C-2*(re!==0||Z!==0?re+Z:bi(b.top,b.bottom))}await p({...e,availableWidth:le,availableHeight:K});const H=await l.getDimensions(c.floating);return R!==H.width||C!==H.height?{reset:{rects:!0}}:{}}}};function U1(t){const e=Ui(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const o=ln(t),a=o?t.offsetWidth:r,l=o?t.offsetHeight:n,c=Xh(r)!==a||Xh(n)!==l;return c&&(r=a,n=l),{width:r,height:n,$:c}}function j_(t){return Lr(t)?t:t.contextElement}function nu(t){const e=j_(t);if(!ln(e))return ks(1);const r=e.getBoundingClientRect(),{width:n,height:o,$:a}=U1(e);let l=(a?Xh(r.width):r.width)/n,c=(a?Xh(r.height):r.height)/o;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const TF=ks(0);function z1(t){const e=ai(t);return!Wp()||!e.visualViewport?TF:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function AF(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==ai(t)?!1:e}function ol(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const o=t.getBoundingClientRect(),a=j_(t);let l=ks(1);e&&(n?Lr(n)&&(l=nu(n)):l=nu(t));const c=AF(a,r,n)?z1(a):ks(0);let p=(o.left+c.x)/l.x,m=(o.top+c.y)/l.y,b=o.width/l.x,x=o.height/l.y;if(a){const N=ai(a),q=n&&Lr(n)?ai(n):n;let R=N,C=Hv(R);for(;C&&n&&q!==R;){const L=nu(C),P=C.getBoundingClientRect(),I=Ui(C),D=P.left+(C.clientLeft+parseFloat(I.paddingLeft))*L.x,z=P.top+(C.clientTop+parseFloat(I.paddingTop))*L.y;p*=L.x,m*=L.y,b*=L.x,x*=L.y,p+=D,m+=z,R=ai(C),C=Hv(R)}}return ep({width:b,height:x,x:p,y:m})}function D_(t,e){const r=$p(t).scrollLeft;return e?e.left+r:ol(As(t)).left+r}function V1(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),o=n.left+e.scrollLeft-(r?0:D_(t,n)),a=n.top+e.scrollTop;return{x:o,y:a}}function IF(t){let{elements:e,rect:r,offsetParent:n,strategy:o}=t;const a=o==="fixed",l=As(n),c=e?Bp(e.floating):!1;if(n===l||c&&a)return r;let p={scrollLeft:0,scrollTop:0},m=ks(1);const b=ks(0),x=ln(n);if((x||!x&&!a)&&((ha(n)!=="body"||Od(l))&&(p=$p(n)),ln(n))){const q=ol(n);m=nu(n),b.x=q.x+n.clientLeft,b.y=q.y+n.clientTop}const N=l&&!x&&!a?V1(l,p,!0):ks(0);return{width:r.width*m.x,height:r.height*m.y,x:r.x*m.x-p.scrollLeft*m.x+b.x+N.x,y:r.y*m.y-p.scrollTop*m.y+b.y+N.y}}function PF(t){return Array.from(t.getClientRects())}function FF(t){const e=As(t),r=$p(t),n=t.ownerDocument.body,o=bi(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=bi(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+D_(t);const c=-r.scrollTop;return Ui(n).direction==="rtl"&&(l+=bi(e.clientWidth,n.clientWidth)-o),{width:o,height:a,x:l,y:c}}function LF(t,e){const r=ai(t),n=As(t),o=r.visualViewport;let a=n.clientWidth,l=n.clientHeight,c=0,p=0;if(o){a=o.width,l=o.height;const m=Wp();(!m||m&&e==="fixed")&&(c=o.offsetLeft,p=o.offsetTop)}return{width:a,height:l,x:c,y:p}}function jF(t,e){const r=ol(t,!0,e==="fixed"),n=r.top+t.clientTop,o=r.left+t.clientLeft,a=ln(t)?nu(t):ks(1),l=t.clientWidth*a.x,c=t.clientHeight*a.y,p=o*a.x,m=n*a.y;return{width:l,height:c,x:p,y:m}}function OS(t,e,r){let n;if(e==="viewport")n=LF(t,r);else if(e==="document")n=FF(As(t));else if(Lr(e))n=jF(e,r);else{const o=z1(t);n={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return ep(n)}function H1(t,e){const r=oo(t);return r===e||!Lr(r)||no(r)?!1:Ui(r).position==="fixed"||H1(r,e)}function DF(t,e){const r=e.get(t);if(r)return r;let n=Qo(t,[],!1).filter(c=>Lr(c)&&ha(c)!=="body"),o=null;const a=Ui(t).position==="fixed";let l=a?oo(t):t;for(;Lr(l)&&!no(l);){const c=Ui(l),p=A_(l);!p&&c.position==="fixed"&&(o=null),(a?!p&&!o:!p&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Od(l)&&!p&&H1(t,l))?n=n.filter(b=>b!==l):o=c,l=oo(l)}return e.set(t,n),n}function MF(t){let{element:e,boundary:r,rootBoundary:n,strategy:o}=t;const l=[...r==="clippingAncestors"?Bp(e)?[]:DF(e,this._c):[].concat(r),n],c=l[0],p=l.reduce((m,b)=>{const x=OS(e,b,o);return m.top=bi(x.top,m.top),m.right=vu(x.right,m.right),m.bottom=vu(x.bottom,m.bottom),m.left=bi(x.left,m.left),m},OS(e,c,o));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function BF(t){const{width:e,height:r}=U1(t);return{width:e,height:r}}function WF(t,e,r){const n=ln(e),o=As(e),a=r==="fixed",l=ol(t,!0,a,e);let c={scrollLeft:0,scrollTop:0};const p=ks(0);if(n||!n&&!a)if((ha(e)!=="body"||Od(o))&&(c=$p(e)),n){const N=ol(e,!0,a,e);p.x=N.x+e.clientLeft,p.y=N.y+e.clientTop}else o&&(p.x=D_(o));const m=o&&!n&&!a?V1(o,c):ks(0),b=l.left+c.scrollLeft-p.x-m.x,x=l.top+c.scrollTop-p.y-m.y;return{x:b,y:x,width:l.width,height:l.height}}function Jg(t){return Ui(t).position==="static"}function TS(t,e){if(!ln(t)||Ui(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return As(t)===r&&(r=r.ownerDocument.body),r}function Q1(t,e){const r=ai(t);if(Bp(t))return r;if(!ln(t)){let o=oo(t);for(;o&&!no(o);){if(Lr(o)&&!Jg(o))return o;o=oo(o)}return r}let n=TS(t,e);for(;n&&VP(n)&&Jg(n);)n=TS(n,e);return n&&no(n)&&Jg(n)&&!A_(n)?r:n||HP(t)||r}const $F=async function(t){const e=this.getOffsetParent||Q1,r=this.getDimensions,n=await r(t.floating);return{reference:WF(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function UF(t){return Ui(t).direction==="rtl"}const zF={convertOffsetParentRelativeRectToViewportRelativeRect:IF,getDocumentElement:As,getClippingRect:MF,getOffsetParent:Q1,getElementRects:$F,getClientRects:PF,getDimensions:BF,getScale:nu,isElement:Lr,isRTL:UF};function VF(t,e){let r=null,n;const o=As(t);function a(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function l(c,p){c===void 0&&(c=!1),p===void 0&&(p=1),a();const{left:m,top:b,width:x,height:N}=t.getBoundingClientRect();if(c||e(),!x||!N)return;const q=Kl(b),R=Kl(o.clientWidth-(m+x)),C=Kl(o.clientHeight-(b+N)),L=Kl(m),I={rootMargin:-q+"px "+-R+"px "+-C+"px "+-L+"px",threshold:bi(0,vu(1,p))||1};let D=!0;function z(V){const W=V[0].intersectionRatio;if(W!==p){if(!D)return l();W?l(!1,W):n=setTimeout(()=>{l(!1,1e-7)},1e3)}D=!1}try{r=new IntersectionObserver(z,{...I,root:o.ownerDocument})}catch{r=new IntersectionObserver(z,I)}r.observe(t)}return l(!0),a}function K1(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:p=!1}=n,m=j_(t),b=o||a?[...m?Qo(m):[],...Qo(e)]:[];b.forEach(P=>{o&&P.addEventListener("scroll",r,{passive:!0}),a&&P.addEventListener("resize",r)});const x=m&&c?VF(m,r):null;let N=-1,q=null;l&&(q=new ResizeObserver(P=>{let[I]=P;I&&I.target===m&&q&&(q.unobserve(e),cancelAnimationFrame(N),N=requestAnimationFrame(()=>{var D;(D=q)==null||D.observe(e)})),r()}),m&&!p&&q.observe(m),q.observe(e));let R,C=p?ol(t):null;p&&L();function L(){const P=ol(t);C&&(P.x!==C.x||P.y!==C.y||P.width!==C.width||P.height!==C.height)&&r(),C=P,R=requestAnimationFrame(L)}return r(),()=>{var P;b.forEach(I=>{o&&I.removeEventListener("scroll",r),a&&I.removeEventListener("resize",r)}),x?.(),(P=q)==null||P.disconnect(),q=null,p&&cancelAnimationFrame(R)}}const HF=CF,QF=RF,KF=kF,GF=OF,JF=(t,e,r)=>{const n=new Map,o={platform:zF,...r},a={...o.platform,_c:n};return NF(t,e,{...o,platform:a})};var Nh=typeof document<"u"?G.useLayoutEffect:G.useEffect;function ip(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,o;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!ip(t[n],e[n]))return!1;return!0}if(o=Object.keys(t),r=o.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,o[n]))return!1;for(n=r;n--!==0;){const a=o[n];if(!(a==="_owner"&&t.$$typeof)&&!ip(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function G1(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function AS(t,e){const r=G1(t);return Math.round(e*r)/r}function Zg(t){const e=G.useRef(t);return Nh(()=>{e.current=t}),e}function ZF(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:o,elements:{reference:a,floating:l}={},transform:c=!0,whileElementsMounted:p,open:m}=t,[b,x]=G.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[N,q]=G.useState(n);ip(N,n)||q(n);const[R,C]=G.useState(null),[L,P]=G.useState(null),I=G.useCallback(ve=>{ve!==W.current&&(W.current=ve,C(ve))},[]),D=G.useCallback(ve=>{ve!==K.current&&(K.current=ve,P(ve))},[]),z=a||R,V=l||L,W=G.useRef(null),K=G.useRef(null),le=G.useRef(b),H=p!=null,ne=Zg(p),B=Zg(o),re=Zg(m),Z=G.useCallback(()=>{if(!W.current||!K.current)return;const ve={placement:e,strategy:r,middleware:N};B.current&&(ve.platform=B.current),JF(W.current,K.current,ve).then(me=>{const Ee={...me,isPositioned:re.current!==!1};pe.current&&!ip(le.current,Ee)&&(le.current=Ee,__.flushSync(()=>{x(Ee)}))})},[N,e,r,B,re]);Nh(()=>{m===!1&&le.current.isPositioned&&(le.current.isPositioned=!1,x(ve=>({...ve,isPositioned:!1})))},[m]);const pe=G.useRef(!1);Nh(()=>(pe.current=!0,()=>{pe.current=!1}),[]),Nh(()=>{if(z&&(W.current=z),V&&(K.current=V),z&&V){if(ne.current)return ne.current(z,V,Z);Z()}},[z,V,Z,ne,H]);const Re=G.useMemo(()=>({reference:W,floating:K,setReference:I,setFloating:D}),[I,D]),Ce=G.useMemo(()=>({reference:z,floating:V}),[z,V]),Pe=G.useMemo(()=>{const ve={position:r,left:0,top:0};if(!Ce.floating)return ve;const me=AS(Ce.floating,b.x),Ee=AS(Ce.floating,b.y);return c?{...ve,transform:"translate("+me+"px, "+Ee+"px)",...G1(Ce.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:me,top:Ee}},[r,c,Ce.floating,b.x,b.y]);return G.useMemo(()=>({...b,update:Z,refs:Re,elements:Ce,floatingStyles:Pe}),[b,Z,Re,Ce,Pe])}const J1=(t,e)=>({...HF(t),options:[t,e]}),XF=(t,e)=>({...QF(t),options:[t,e]}),Z1=(t,e)=>({...KF(t),options:[t,e]}),YF=(t,e)=>({...GF(t),options:[t,e]});function IS(t){return G.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})},t)}const X1={...dC},eL=X1.useInsertionEffect,tL=eL||(t=>t());function ni(t){const e=G.useRef(()=>{});return tL(()=>{e.current=t}),G.useCallback(function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return e.current==null?void 0:e.current(...n)},[])}const M_="ArrowUp",Id="ArrowDown",Ko="ArrowLeft",Go="ArrowRight";function sh(t,e,r){return Math.floor(t/e)!==r}function Wc(t,e){return e<0||e>=t.current.length}function Xg(t,e){return On(t,{disabledIndices:e})}function PS(t,e){return On(t,{decrement:!0,startingIndex:t.current.length,disabledIndices:e})}function On(t,e){let{startingIndex:r=-1,decrement:n=!1,disabledIndices:o,amount:a=1}=e===void 0?{}:e;const l=t.current;let c=r;do c+=n?-a:a;while(c>=0&&c<=l.length-1&&kh(l,c,o));return c}function rL(t,e){let{event:r,orientation:n,loop:o,rtl:a,cols:l,disabledIndices:c,minIndex:p,maxIndex:m,prevIndex:b,stopEvent:x=!1}=e,N=b;if(r.key===M_){if(x&&jn(r),b===-1)N=m;else if(N=On(t,{startingIndex:N,amount:l,decrement:!0,disabledIndices:c}),o&&(b-l<p||N<0)){const q=b%l,R=m%l,C=m-(R-q);R===q?N=m:N=R>q?C:C-l}Wc(t,N)&&(N=b)}if(r.key===Id&&(x&&jn(r),b===-1?N=p:(N=On(t,{startingIndex:b,amount:l,disabledIndices:c}),o&&b+l>m&&(N=On(t,{startingIndex:b%l-l,amount:l,disabledIndices:c}))),Wc(t,N)&&(N=b)),n==="both"){const q=Kl(b/l);r.key===(a?Ko:Go)&&(x&&jn(r),b%l!==l-1?(N=On(t,{startingIndex:b,disabledIndices:c}),o&&sh(N,l,q)&&(N=On(t,{startingIndex:b-b%l-1,disabledIndices:c}))):o&&(N=On(t,{startingIndex:b-b%l-1,disabledIndices:c})),sh(N,l,q)&&(N=b)),r.key===(a?Go:Ko)&&(x&&jn(r),b%l!==0?(N=On(t,{startingIndex:b,decrement:!0,disabledIndices:c}),o&&sh(N,l,q)&&(N=On(t,{startingIndex:b+(l-b%l),decrement:!0,disabledIndices:c}))):o&&(N=On(t,{startingIndex:b+(l-b%l),decrement:!0,disabledIndices:c})),sh(N,l,q)&&(N=b));const R=Kl(m/l)===q;Wc(t,N)&&(o&&R?N=r.key===(a?Go:Ko)?m:On(t,{startingIndex:b-b%l-1,disabledIndices:c}):N=b)}return N}function nL(t,e,r){const n=[];let o=0;return t.forEach((a,l)=>{let{width:c,height:p}=a,m=!1;for(r&&(o=0);!m;){const b=[];for(let x=0;x<c;x++)for(let N=0;N<p;N++)b.push(o+x+N*e);o%e+c<=e&&b.every(x=>n[x]==null)?(b.forEach(x=>{n[x]=l}),m=!0):o++}}),[...n]}function iL(t,e,r,n,o){if(t===-1)return-1;const a=r.indexOf(t),l=e[t];switch(o){case"tl":return a;case"tr":return l?a+l.width-1:a;case"bl":return l?a+(l.height-1)*n:a;case"br":return r.lastIndexOf(t)}}function sL(t,e){return e.flatMap((r,n)=>t.includes(r)?[n]:[])}function kh(t,e,r){if(r)return r.includes(e);const n=t[e];return n==null||n.hasAttribute("disabled")||n.getAttribute("aria-disabled")==="true"}var Ur=typeof document<"u"?G.useLayoutEffect:G.useEffect;function pd(){return pd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pd.apply(this,arguments)}let FS=!1,oL=0;const LS=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+oL++;function aL(){const[t,e]=G.useState(()=>FS?LS():void 0);return Ur(()=>{t==null&&e(LS())},[]),G.useEffect(()=>{FS=!0},[]),t}const lL=X1.useId,B_=lL||aL;function Y1(){const t=new Map;return{emit(e,r){var n;(n=t.get(e))==null||n.forEach(o=>o(r))},on(e,r){t.set(e,[...t.get(e)||[],r])},off(e,r){var n;t.set(e,((n=t.get(e))==null?void 0:n.filter(o=>o!==r))||[])}}}const ek=G.createContext(null),tk=G.createContext(null),Pd=()=>{var t;return((t=G.useContext(ek))==null?void 0:t.id)||null},Ou=()=>G.useContext(tk);function uL(t){const e=B_(),r=Ou(),o=Pd();return Ur(()=>{if(!e)return;const a={id:e,parentId:o};return r?.addNode(a),()=>{r?.removeNode(a)}},[r,e,o]),e}function cL(t){const{children:e,id:r}=t,n=Pd();return G.createElement(ek.Provider,{value:G.useMemo(()=>({id:r,parentId:n}),[r,n])},e)}function dL(t){const{children:e}=t,r=G.useRef([]),n=G.useCallback(l=>{r.current=[...r.current,l]},[]),o=G.useCallback(l=>{r.current=r.current.filter(c=>c!==l)},[]),a=G.useState(()=>Y1())[0];return G.createElement(tk.Provider,{value:G.useMemo(()=>({nodesRef:r,addNode:n,removeNode:o,events:a}),[n,o,a])},e)}function al(t){return"data-floating-ui-"+t}function Bn(t){const e=G.useRef(t);return Ur(()=>{e.current=t}),e}const jS=al("safe-polygon");function Yg(t,e,r){return r&&!hd(r)?0:typeof t=="number"?t:t?.[e]}function fL(t,e){e===void 0&&(e={});const{open:r,onOpenChange:n,dataRef:o,events:a,elements:l}=t,{enabled:c=!0,delay:p=0,handleClose:m=null,mouseOnly:b=!1,restMs:x=0,move:N=!0}=e,q=Ou(),R=Pd(),C=Bn(m),L=Bn(p),P=Bn(r),I=G.useRef(),D=G.useRef(-1),z=G.useRef(),V=G.useRef(-1),W=G.useRef(!0),K=G.useRef(!1),le=G.useRef(()=>{}),H=G.useRef(!1),ne=G.useCallback(()=>{var Pe;const ve=(Pe=o.current.openEvent)==null?void 0:Pe.type;return ve?.includes("mouse")&&ve!=="mousedown"},[o]);G.useEffect(()=>{if(!c)return;function Pe(ve){let{open:me}=ve;me||(clearTimeout(D.current),clearTimeout(V.current),W.current=!0,H.current=!1)}return a.on("openchange",Pe),()=>{a.off("openchange",Pe)}},[c,a]),G.useEffect(()=>{if(!c||!C.current||!r)return;function Pe(me){ne()&&n(!1,me,"hover")}const ve=Sn(l.floating).documentElement;return ve.addEventListener("mouseleave",Pe),()=>{ve.removeEventListener("mouseleave",Pe)}},[l.floating,r,n,c,C,ne]);const B=G.useCallback(function(Pe,ve,me){ve===void 0&&(ve=!0),me===void 0&&(me="hover");const Ee=Yg(L.current,"close",I.current);Ee&&!z.current?(clearTimeout(D.current),D.current=window.setTimeout(()=>n(!1,Pe,me),Ee)):ve&&(clearTimeout(D.current),n(!1,Pe,me))},[L,n]),re=ni(()=>{le.current(),z.current=void 0}),Z=ni(()=>{if(K.current){const Pe=Sn(l.floating).body;Pe.style.pointerEvents="",Pe.removeAttribute(jS),K.current=!1}}),pe=ni(()=>o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1);G.useEffect(()=>{if(!c)return;function Pe(Q){if(clearTimeout(D.current),W.current=!1,b&&!hd(I.current)||x>0&&!Yg(L.current,"open"))return;const xe=Yg(L.current,"open",I.current);xe?D.current=window.setTimeout(()=>{P.current||n(!0,Q,"hover")},xe):r||n(!0,Q,"hover")}function ve(Q){if(pe())return;le.current();const xe=Sn(l.floating);if(clearTimeout(V.current),H.current=!1,C.current&&o.current.floatingContext){r||clearTimeout(D.current),z.current=C.current({...o.current.floatingContext,tree:q,x:Q.clientX,y:Q.clientY,onClose(){Z(),re(),pe()||B(Q,!0,"safe-polygon")}});const at=z.current;xe.addEventListener("mousemove",at),le.current=()=>{xe.removeEventListener("mousemove",at)};return}(I.current==="touch"?!xn(l.floating,Q.relatedTarget):!0)&&B(Q)}function me(Q){pe()||o.current.floatingContext&&(C.current==null||C.current({...o.current.floatingContext,tree:q,x:Q.clientX,y:Q.clientY,onClose(){Z(),re(),pe()||B(Q)}})(Q))}if(Lr(l.domReference)){var Ee;const Q=l.domReference;return r&&Q.addEventListener("mouseleave",me),(Ee=l.floating)==null||Ee.addEventListener("mouseleave",me),N&&Q.addEventListener("mousemove",Pe,{once:!0}),Q.addEventListener("mouseenter",Pe),Q.addEventListener("mouseleave",ve),()=>{var xe;r&&Q.removeEventListener("mouseleave",me),(xe=l.floating)==null||xe.removeEventListener("mouseleave",me),N&&Q.removeEventListener("mousemove",Pe),Q.removeEventListener("mouseenter",Pe),Q.removeEventListener("mouseleave",ve)}}},[l,c,t,b,x,N,B,re,Z,n,r,P,q,L,C,o,pe]),Ur(()=>{var Pe;if(c&&r&&(Pe=C.current)!=null&&Pe.__options.blockPointerEvents&&ne()){K.current=!0;const me=l.floating;if(Lr(l.domReference)&&me){var ve;const Ee=Sn(l.floating).body;Ee.setAttribute(jS,"");const Q=l.domReference,xe=q==null||(ve=q.nodesRef.current.find(lt=>lt.id===R))==null||(ve=ve.context)==null?void 0:ve.elements.floating;return xe&&(xe.style.pointerEvents=""),Ee.style.pointerEvents="none",Q.style.pointerEvents="auto",me.style.pointerEvents="auto",()=>{Ee.style.pointerEvents="",Q.style.pointerEvents="",me.style.pointerEvents=""}}}},[c,r,R,l,q,C,ne]),Ur(()=>{r||(I.current=void 0,H.current=!1,re(),Z())},[r,re,Z]),G.useEffect(()=>()=>{re(),clearTimeout(D.current),clearTimeout(V.current),Z()},[c,l.domReference,re,Z]);const Re=G.useMemo(()=>{function Pe(ve){I.current=ve.pointerType}return{onPointerDown:Pe,onPointerEnter:Pe,onMouseMove(ve){const{nativeEvent:me}=ve;function Ee(){!W.current&&!P.current&&n(!0,me,"hover")}b&&!hd(I.current)||r||x===0||H.current&&ve.movementX**2+ve.movementY**2<2||(clearTimeout(V.current),I.current==="touch"?Ee():(H.current=!0,V.current=window.setTimeout(Ee,x)))}}},[b,n,r,P,x]),Ce=G.useMemo(()=>({onMouseEnter(){clearTimeout(D.current)},onMouseLeave(Pe){pe()||B(Pe.nativeEvent,!1)}}),[B,pe]);return G.useMemo(()=>c?{reference:Re,floating:Ce}:{},[c,Re,Ce])}let DS=0;function Ma(t,e){e===void 0&&(e={});const{preventScroll:r=!1,cancelPrevious:n=!0,sync:o=!1}=e;n&&cancelAnimationFrame(DS);const a=()=>t?.focus({preventScroll:r});o?a():DS=requestAnimationFrame(a)}function MS(t,e){var r;let n=[],o=(r=t.find(a=>a.id===e))==null?void 0:r.parentId;for(;o;){const a=t.find(l=>l.id===o);o=a?.parentId,a&&(n=n.concat(a))}return n}function iu(t,e){let r=t.filter(o=>{var a;return o.parentId===e&&((a=o.context)==null?void 0:a.open)}),n=r;for(;n.length;)n=t.filter(o=>{var a;return(a=n)==null?void 0:a.some(l=>{var c;return o.parentId===l.id&&((c=o.context)==null?void 0:c.open)})}),r=r.concat(n);return r}function hL(t,e){let r,n=-1;function o(a,l){l>n&&(r=a,n=l),iu(t,a).forEach(p=>{o(p.id,l+1)})}return o(e,0),t.find(a=>a.id===r)}let Ml=new WeakMap,oh=new WeakSet,ah={},ev=0;const pL=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,rk=t=>t&&(t.host||rk(t.parentNode)),mL=(t,e)=>e.map(r=>{if(t.contains(r))return r;const n=rk(r);return t.contains(n)?n:null}).filter(r=>r!=null);function yL(t,e,r,n){const o="data-floating-ui-inert",a=n?"inert":r?"aria-hidden":null,l=mL(e,t),c=new Set,p=new Set(l),m=[];ah[o]||(ah[o]=new WeakMap);const b=ah[o];l.forEach(x),N(e),c.clear();function x(q){!q||c.has(q)||(c.add(q),q.parentNode&&x(q.parentNode))}function N(q){!q||p.has(q)||[].forEach.call(q.children,R=>{if(ha(R)!=="script")if(c.has(R))N(R);else{const C=a?R.getAttribute(a):null,L=C!==null&&C!=="false",P=Ml.get(R)||0,I=a?P+1:P,D=(b.get(R)||0)+1;Ml.set(R,I),b.set(R,D),m.push(R),I===1&&L&&oh.add(R),D===1&&R.setAttribute(o,""),!L&&a&&R.setAttribute(a,"true")}})}return ev++,()=>{m.forEach(q=>{const R=Ml.get(q)||0,C=a?R-1:R,L=(b.get(q)||0)-1;Ml.set(q,C),b.set(q,L),C||(!oh.has(q)&&a&&q.removeAttribute(a),oh.delete(q)),L||q.removeAttribute(o)}),ev--,ev||(Ml=new WeakMap,Ml=new WeakMap,oh=new WeakSet,ah={})}}function BS(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);const n=Sn(t[0]).body;return yL(t.concat(Array.from(n.querySelectorAll("[aria-live]"))),n,e,r)}const zp=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function nk(t,e){const r=Up(t,zp());e==="prev"&&r.reverse();const n=r.indexOf(ts(Sn(t)));return r.slice(n+1)[0]}function ik(){return nk(document.body,"next")}function sk(){return nk(document.body,"prev")}function $c(t,e){const r=e||t.currentTarget,n=t.relatedTarget;return!n||!xn(r,n)}function gL(t){Up(t,zp()).forEach(r=>{r.dataset.tabindex=r.getAttribute("tabindex")||"",r.setAttribute("tabindex","-1")})}function WS(t){t.querySelectorAll("[data-tabindex]").forEach(r=>{const n=r.dataset.tabindex;delete r.dataset.tabindex,n?r.setAttribute("tabindex",n):r.removeAttribute("tabindex")})}const Vp={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let vL;function $S(t){t.key==="Tab"&&(t.target,clearTimeout(vL))}const sp=G.forwardRef(function(e,r){const[n,o]=G.useState();Ur(()=>(P1()&&o("button"),document.addEventListener("keydown",$S),()=>{document.removeEventListener("keydown",$S)}),[]);const a={ref:r,tabIndex:0,role:n,"aria-hidden":n?void 0:!0,[al("focus-guard")]:"",style:Vp};return G.createElement("span",pd({},e,a))}),ok=G.createContext(null),US=al("portal");function _L(t){t===void 0&&(t={});const{id:e,root:r}=t,n=B_(),o=ak(),[a,l]=G.useState(null),c=G.useRef(null);return Ur(()=>()=>{a?.remove(),queueMicrotask(()=>{c.current=null})},[a]),Ur(()=>{if(!n||c.current)return;const p=e?document.getElementById(e):null;if(!p)return;const m=document.createElement("div");m.id=n,m.setAttribute(US,""),p.appendChild(m),c.current=m,l(m)},[e,n]),Ur(()=>{if(r===null||!n||c.current)return;let p=r||o?.portalNode;p&&!Lr(p)&&(p=p.current),p=p||document.body;let m=null;e&&(m=document.createElement("div"),m.id=e,p.appendChild(m));const b=document.createElement("div");b.id=n,b.setAttribute(US,""),p=m||p,p.appendChild(b),c.current=b,l(b)},[e,r,n,o]),a}function W_(t){const{children:e,id:r,root:n,preserveTabOrder:o=!0}=t,a=_L({id:r,root:n}),[l,c]=G.useState(null),p=G.useRef(null),m=G.useRef(null),b=G.useRef(null),x=G.useRef(null),N=l?.modal,q=l?.open,R=!!l&&!l.modal&&l.open&&o&&!!(n||a);return G.useEffect(()=>{if(!a||!o||N)return;function C(L){a&&$c(L)&&(L.type==="focusin"?WS:gL)(a)}return a.addEventListener("focusin",C,!0),a.addEventListener("focusout",C,!0),()=>{a.removeEventListener("focusin",C,!0),a.removeEventListener("focusout",C,!0)}},[a,o,N]),G.useEffect(()=>{a&&(q||WS(a))},[q,a]),G.createElement(ok.Provider,{value:G.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:p,afterOutsideRef:m,beforeInsideRef:b,afterInsideRef:x,portalNode:a,setFocusManagerState:c}),[o,a])},R&&a&&G.createElement(sp,{"data-type":"outside",ref:p,onFocus:C=>{if($c(C,a)){var L;(L=b.current)==null||L.focus()}else{const P=sk()||l?.refs.domReference.current;P?.focus()}}}),R&&a&&G.createElement("span",{"aria-owns":a.id,style:Vp}),a&&__.createPortal(e,a),R&&a&&G.createElement(sp,{"data-type":"outside",ref:m,onFocus:C=>{if($c(C,a)){var L;(L=x.current)==null||L.focus()}else{const P=ik()||l?.refs.domReference.current;P?.focus(),l?.closeOnFocusOut&&l?.onOpenChange(!1,C.nativeEvent,"focus-out")}}}))}const ak=()=>G.useContext(ok),Jv="data-floating-ui-focusable";function Zv(t){return t?t.hasAttribute(Jv)?t:t.querySelector("["+Jv+"]")||t:null}const zS=20;let Ba=[];function tv(t){Ba=Ba.filter(e=>e.isConnected),t&&ha(t)!=="body"&&(Ba.push(t),Ba.length>zS&&(Ba=Ba.slice(-zS)))}function VS(){return Ba.slice().reverse().find(t=>t.isConnected)}function bL(t){const e=zp();return EF(t,e)?t:Up(t,e)[0]||t}const wL=G.forwardRef(function(e,r){return G.createElement("button",pd({},e,{type:"button",ref:r,tabIndex:-1,style:Vp}))});function lk(t){const{context:e,children:r,disabled:n=!1,order:o=["content"],guards:a=!0,initialFocus:l=0,returnFocus:c=!0,restoreFocus:p=!1,modal:m=!0,visuallyHiddenDismiss:b=!1,closeOnFocusOut:x=!0,outsideElementsInert:N=!1}=t,{open:q,refs:R,nodeId:C,onOpenChange:L,events:P,dataRef:I,elements:{domReference:D,floating:z}}=e,V=typeof l=="number"&&l<0,W=F1(D)&&V,K=pL(),le=K?a:!0,H=!le||K&&N,ne=Bn(o),B=Bn(l),re=Bn(c),Z=Ou(),pe=ak(),Re=G.useRef(null),Ce=G.useRef(null),Pe=G.useRef(!1),ve=G.useRef(!1),me=G.useRef(-1),Ee=pe!=null,Q=Zv(z),xe=ni(function(vt){return vt===void 0&&(vt=Q),vt?Up(vt,zp()):[]}),lt=ni(vt=>{const yt=xe(vt);return ne.current.map(Rt=>D&&Rt==="reference"?D:Q&&Rt==="floating"?Q:yt).filter(Boolean).flat()});G.useEffect(()=>{if(n||!m)return;function vt(Rt){if(Rt.key==="Tab"){xn(Q,ts(Sn(Q)))&&xe().length===0&&!W&&jn(Rt);const qt=lt(),Jt=Wo(Rt);ne.current[0]==="reference"&&Jt===D&&(jn(Rt),Rt.shiftKey?Ma(qt[qt.length-1]):Ma(qt[1])),ne.current[1]==="floating"&&Jt===Q&&Rt.shiftKey&&(jn(Rt),Ma(qt[0]))}}const yt=Sn(Q);return yt.addEventListener("keydown",vt),()=>{yt.removeEventListener("keydown",vt)}},[n,D,Q,m,ne,W,xe,lt]),G.useEffect(()=>{if(n||!z)return;function vt(yt){const Rt=Wo(yt),Jt=xe().indexOf(Rt);Jt!==-1&&(me.current=Jt)}return z.addEventListener("focusin",vt),()=>{z.removeEventListener("focusin",vt)}},[n,z,xe]),G.useEffect(()=>{if(n||!x)return;function vt(){ve.current=!0,setTimeout(()=>{ve.current=!1})}function yt(Rt){const qt=Rt.relatedTarget;queueMicrotask(()=>{const Jt=!(xn(D,qt)||xn(z,qt)||xn(qt,z)||xn(pe?.portalNode,qt)||qt!=null&&qt.hasAttribute(al("focus-guard"))||Z&&(iu(Z.nodesRef.current,C).find(Gt=>{var er,ur;return xn((er=Gt.context)==null?void 0:er.elements.floating,qt)||xn((ur=Gt.context)==null?void 0:ur.elements.domReference,qt)})||MS(Z.nodesRef.current,C).find(Gt=>{var er,ur,se;return[(er=Gt.context)==null?void 0:er.elements.floating,Zv((ur=Gt.context)==null?void 0:ur.elements.floating)].includes(qt)||((se=Gt.context)==null?void 0:se.elements.domReference)===qt})));if(p&&Jt&&ts(Sn(Q))===Sn(Q).body){ln(Q)&&Q.focus();const Gt=me.current,er=xe(),ur=er[Gt]||er[er.length-1]||Q;ln(ur)&&ur.focus()}(W||!m)&&qt&&Jt&&!ve.current&&qt!==VS()&&(Pe.current=!0,L(!1,Rt,"focus-out"))})}if(z&&ln(D))return D.addEventListener("focusout",yt),D.addEventListener("pointerdown",vt),z.addEventListener("focusout",yt),()=>{D.removeEventListener("focusout",yt),D.removeEventListener("pointerdown",vt),z.removeEventListener("focusout",yt)}},[n,D,z,Q,m,C,Z,pe,L,x,p,xe,W]);const at=G.useRef(null),dt=G.useRef(null),mt=IS([at,pe?.beforeInsideRef]),ft=IS([dt,pe?.afterInsideRef]);G.useEffect(()=>{var vt;if(n||!z)return;const yt=Array.from((pe==null||(vt=pe.portalNode)==null?void 0:vt.querySelectorAll("["+al("portal")+"]"))||[]),Rt=Z&&!m?MS(Z?.nodesRef.current,C).map(Gt=>{var er;return(er=Gt.context)==null?void 0:er.elements.floating}):[],qt=[z,...yt,...Rt,Re.current,Ce.current,at.current,dt.current,pe?.beforeOutsideRef.current,pe?.afterOutsideRef.current,ne.current.includes("reference")||W?D:null].filter(Gt=>Gt!=null),Jt=m||W?BS(qt,!H,H):BS(qt);return()=>{Jt()}},[n,D,z,m,ne,pe,W,le,H,Z,C]),Ur(()=>{if(n||!ln(Q))return;const vt=Sn(Q),yt=ts(vt);queueMicrotask(()=>{const Rt=lt(Q),qt=B.current,Jt=(typeof qt=="number"?Rt[qt]:qt.current)||Q,Gt=xn(Q,yt);!V&&!Gt&&q&&Ma(Jt,{preventScroll:Jt===Q})})},[n,q,Q,V,lt,B]),Ur(()=>{if(n||!Q)return;let vt=!1;const yt=Sn(Q),Rt=ts(yt);let Jt=I.current.openEvent;tv(Rt);function Gt(se){let{open:ae,reason:ye,event:Oe,nested:je}=se;ae&&(Jt=Oe),ye==="escape-key"&&R.domReference.current&&tv(R.domReference.current),["hover","safe-polygon"].includes(ye)&&Oe.type==="mouseleave"&&(Pe.current=!0),ye==="outside-press"&&(je?(Pe.current=!1,vt=!0):Pe.current=!(I1(Oe)||P_(Oe)))}P.on("openchange",Gt);const er=yt.createElement("span");er.setAttribute("tabindex","-1"),er.setAttribute("aria-hidden","true"),Object.assign(er.style,Vp),Ee&&D&&D.insertAdjacentElement("afterend",er);function ur(){return typeof re.current=="boolean"?VS()||er:re.current.current||er}return()=>{P.off("openchange",Gt);const se=ts(yt),ae=xn(z,se)||Z&&iu(Z.nodesRef.current,C).some(je=>{var Ge;return xn((Ge=je.context)==null?void 0:Ge.elements.floating,se)});(ae||Jt&&["click","mousedown"].includes(Jt.type))&&R.domReference.current&&tv(R.domReference.current);const Oe=ur();queueMicrotask(()=>{const je=bL(Oe);re.current&&!Pe.current&&ln(je)&&(!(je!==se&&se!==yt.body)||ae)&&je.focus({preventScroll:vt}),er.remove()})}},[n,z,Q,re,I,R,P,Z,C,Ee,D]),G.useEffect(()=>{queueMicrotask(()=>{Pe.current=!1})},[n]),Ur(()=>{if(!n&&pe)return pe.setFocusManagerState({modal:m,closeOnFocusOut:x,open:q,onOpenChange:L,refs:R}),()=>{pe.setFocusManagerState(null)}},[n,pe,m,q,L,R,x]),Ur(()=>{if(n||!Q||typeof MutationObserver!="function"||V)return;const vt=()=>{const Rt=Q.getAttribute("tabindex"),qt=xe(),Jt=ts(Sn(z)),Gt=qt.indexOf(Jt);Gt!==-1&&(me.current=Gt),ne.current.includes("floating")||Jt!==R.domReference.current&&qt.length===0?Rt!=="0"&&Q.setAttribute("tabindex","0"):Rt!=="-1"&&Q.setAttribute("tabindex","-1")};vt();const yt=new MutationObserver(vt);return yt.observe(Q,{childList:!0,subtree:!0,attributes:!0}),()=>{yt.disconnect()}},[n,z,Q,R,ne,xe,V]);function gt(vt){return n||!b||!m?null:G.createElement(wL,{ref:vt==="start"?Re:Ce,onClick:yt=>L(!1,yt.nativeEvent)},typeof b=="string"?b:"Dismiss")}const It=!n&&le&&(m?!W:!0)&&(Ee||m);return G.createElement(G.Fragment,null,It&&G.createElement(sp,{"data-type":"inside",ref:mt,onFocus:vt=>{if(m){const Rt=lt();Ma(o[0]==="reference"?Rt[0]:Rt[Rt.length-1])}else if(pe!=null&&pe.preserveTabOrder&&pe.portalNode)if(Pe.current=!1,$c(vt,pe.portalNode)){const Rt=ik()||D;Rt?.focus()}else{var yt;(yt=pe.beforeOutsideRef.current)==null||yt.focus()}}}),!W&&gt("start"),r,gt("end"),It&&G.createElement(sp,{"data-type":"inside",ref:ft,onFocus:vt=>{if(m)Ma(lt()[0]);else if(pe!=null&&pe.preserveTabOrder&&pe.portalNode)if(x&&(Pe.current=!0),$c(vt,pe.portalNode)){const Rt=sk()||D;Rt?.focus()}else{var yt;(yt=pe.afterOutsideRef.current)==null||yt.focus()}}}))}let lh=0;function xL(){const t=/iP(hone|ad|od)|iOS/.test(I_()),e=document.body.style,n=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",o=window.innerWidth-document.documentElement.clientWidth,a=e.left?parseFloat(e.left):window.scrollX,l=e.top?parseFloat(e.top):window.scrollY;if(e.overflow="hidden",o&&(e[n]=o+"px"),t){var c,p;const m=((c=window.visualViewport)==null?void 0:c.offsetLeft)||0,b=((p=window.visualViewport)==null?void 0:p.offsetTop)||0;Object.assign(e,{position:"fixed",top:-(l-Math.floor(b))+"px",left:-(a-Math.floor(m))+"px",right:"0"})}return()=>{Object.assign(e,{overflow:"",[n]:""}),t&&(Object.assign(e,{position:"",top:"",left:"",right:""}),window.scrollTo(a,l))}}let HS=()=>{};const SL=G.forwardRef(function(e,r){const{lockScroll:n=!1,...o}=e;return Ur(()=>{if(n)return lh++,lh===1&&(HS=xL()),()=>{lh--,lh===0&&HS()}},[n]),G.createElement("div",pd({ref:r},o,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...o.style}}))});function QS(t){return ln(t.target)&&t.target.tagName==="BUTTON"}function KS(t){return F_(t)}function $_(t,e){e===void 0&&(e={});const{open:r,onOpenChange:n,dataRef:o,elements:{domReference:a}}=t,{enabled:l=!0,event:c="click",toggle:p=!0,ignoreMouse:m=!1,keyboardHandlers:b=!0,stickIfOpen:x=!0}=e,N=G.useRef(),q=G.useRef(!1),R=G.useMemo(()=>({onPointerDown(C){N.current=C.pointerType},onMouseDown(C){const L=N.current;C.button===0&&c!=="click"&&(hd(L,!0)&&m||(r&&p&&(!(o.current.openEvent&&x)||o.current.openEvent.type==="mousedown")?n(!1,C.nativeEvent,"click"):(C.preventDefault(),n(!0,C.nativeEvent,"click"))))},onClick(C){const L=N.current;if(c==="mousedown"&&N.current){N.current=void 0;return}hd(L,!0)&&m||(r&&p&&(!(o.current.openEvent&&x)||o.current.openEvent.type==="click")?n(!1,C.nativeEvent,"click"):n(!0,C.nativeEvent,"click"))},onKeyDown(C){N.current=void 0,!(C.defaultPrevented||!b||QS(C))&&(C.key===" "&&!KS(a)&&(C.preventDefault(),q.current=!0),C.key==="Enter"&&n(!(r&&p),C.nativeEvent,"click"))},onKeyUp(C){C.defaultPrevented||!b||QS(C)||KS(a)||C.key===" "&&q.current&&(q.current=!1,n(!(r&&p),C.nativeEvent,"click"))}}),[o,a,c,m,b,n,r,x,p]);return G.useMemo(()=>l?{reference:R}:{},[l,R])}const EL={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},NL={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},GS=t=>{var e,r;return{escapeKey:typeof t=="boolean"?t:(e=t?.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(r=t?.outsidePress)!=null?r:!0}};function U_(t,e){e===void 0&&(e={});const{open:r,onOpenChange:n,elements:o,dataRef:a}=t,{enabled:l=!0,escapeKey:c=!0,outsidePress:p=!0,outsidePressEvent:m="pointerdown",referencePress:b=!1,referencePressEvent:x="pointerdown",ancestorScroll:N=!1,bubbles:q,capture:R}=e,C=Ou(),L=ni(typeof p=="function"?p:()=>!1),P=typeof p=="function"?L:p,I=G.useRef(!1),D=G.useRef(!1),{escapeKey:z,outsidePress:V}=GS(q),{escapeKey:W,outsidePress:K}=GS(R),le=G.useRef(!1),H=ni(Re=>{var Ce;if(!r||!l||!c||Re.key!=="Escape"||le.current)return;const Pe=(Ce=a.current.floatingContext)==null?void 0:Ce.nodeId,ve=C?iu(C.nodesRef.current,Pe):[];if(!z&&(Re.stopPropagation(),ve.length>0)){let me=!0;if(ve.forEach(Ee=>{var Q;if((Q=Ee.context)!=null&&Q.open&&!Ee.context.dataRef.current.__escapeKeyBubbles){me=!1;return}}),!me)return}n(!1,GP(Re)?Re.nativeEvent:Re,"escape-key")}),ne=ni(Re=>{var Ce;const Pe=()=>{var ve;H(Re),(ve=Wo(Re))==null||ve.removeEventListener("keydown",Pe)};(Ce=Wo(Re))==null||Ce.addEventListener("keydown",Pe)}),B=ni(Re=>{var Ce;const Pe=I.current;I.current=!1;const ve=D.current;if(D.current=!1,m==="click"&&ve||Pe||typeof P=="function"&&!P(Re))return;const me=Wo(Re),Ee="["+al("inert")+"]",Q=Sn(o.floating).querySelectorAll(Ee);let xe=Lr(me)?me:null;for(;xe&&!no(xe);){const mt=oo(xe);if(no(mt)||!Lr(mt))break;xe=mt}if(Q.length&&Lr(me)&&!JP(me)&&!xn(me,o.floating)&&Array.from(Q).every(mt=>!xn(xe,mt)))return;if(ln(me)&&pe){const mt=no(me),ft=Ui(me),gt=/auto|scroll/,It=mt||gt.test(ft.overflowX),vt=mt||gt.test(ft.overflowY),yt=It&&me.clientWidth>0&&me.scrollWidth>me.clientWidth,Rt=vt&&me.clientHeight>0&&me.scrollHeight>me.clientHeight,qt=ft.direction==="rtl",Jt=Rt&&(qt?Re.offsetX<=me.offsetWidth-me.clientWidth:Re.offsetX>me.clientWidth),Gt=yt&&Re.offsetY>me.clientHeight;if(Jt||Gt)return}const lt=(Ce=a.current.floatingContext)==null?void 0:Ce.nodeId,at=C&&iu(C.nodesRef.current,lt).some(mt=>{var ft;return Gg(Re,(ft=mt.context)==null?void 0:ft.elements.floating)});if(Gg(Re,o.floating)||Gg(Re,o.domReference)||at)return;const dt=C?iu(C.nodesRef.current,lt):[];if(dt.length>0){let mt=!0;if(dt.forEach(ft=>{var gt;if((gt=ft.context)!=null&&gt.open&&!ft.context.dataRef.current.__outsidePressBubbles){mt=!1;return}}),!mt)return}n(!1,Re,"outside-press")}),re=ni(Re=>{var Ce;const Pe=()=>{var ve;B(Re),(ve=Wo(Re))==null||ve.removeEventListener(m,Pe)};(Ce=Wo(Re))==null||Ce.addEventListener(m,Pe)});G.useEffect(()=>{if(!r||!l)return;a.current.__escapeKeyBubbles=z,a.current.__outsidePressBubbles=V;let Re=-1;function Ce(Q){n(!1,Q,"ancestor-scroll")}function Pe(){window.clearTimeout(Re),le.current=!0}function ve(){Re=window.setTimeout(()=>{le.current=!1},Wp()?5:0)}const me=Sn(o.floating);c&&(me.addEventListener("keydown",W?ne:H,W),me.addEventListener("compositionstart",Pe),me.addEventListener("compositionend",ve)),P&&me.addEventListener(m,K?re:B,K);let Ee=[];return N&&(Lr(o.domReference)&&(Ee=Qo(o.domReference)),Lr(o.floating)&&(Ee=Ee.concat(Qo(o.floating))),!Lr(o.reference)&&o.reference&&o.reference.contextElement&&(Ee=Ee.concat(Qo(o.reference.contextElement)))),Ee=Ee.filter(Q=>{var xe;return Q!==((xe=me.defaultView)==null?void 0:xe.visualViewport)}),Ee.forEach(Q=>{Q.addEventListener("scroll",Ce,{passive:!0})}),()=>{c&&(me.removeEventListener("keydown",W?ne:H,W),me.removeEventListener("compositionstart",Pe),me.removeEventListener("compositionend",ve)),P&&me.removeEventListener(m,K?re:B,K),Ee.forEach(Q=>{Q.removeEventListener("scroll",Ce)}),window.clearTimeout(Re)}},[a,o,c,P,m,r,n,N,l,z,V,H,W,ne,B,K,re]),G.useEffect(()=>{I.current=!1},[P,m]);const Z=G.useMemo(()=>({onKeyDown:H,...b&&{[EL[x]]:Re=>{n(!1,Re.nativeEvent,"reference-press")},...x!=="click"&&{onClick(Re){n(!1,Re.nativeEvent,"reference-press")}}}}),[H,n,b,x]),pe=G.useMemo(()=>({onKeyDown:H,onMouseDown(){D.current=!0},onMouseUp(){D.current=!0},[NL[m]]:()=>{I.current=!0}}),[H,m]);return G.useMemo(()=>l?{reference:Z,floating:pe}:{},[l,Z,pe])}function kL(t){const{open:e=!1,onOpenChange:r,elements:n}=t,o=B_(),a=G.useRef({}),[l]=G.useState(()=>Y1()),c=Pd()!=null,[p,m]=G.useState(n.reference),b=ni((q,R,C)=>{a.current.openEvent=q?R:void 0,l.emit("openchange",{open:q,event:R,reason:C,nested:c}),r?.(q,R,C)}),x=G.useMemo(()=>({setPositionReference:m}),[]),N=G.useMemo(()=>({reference:p||n.reference||null,floating:n.floating||null,domReference:n.reference}),[p,n.reference,n.floating]);return G.useMemo(()=>({dataRef:a,open:e,onOpenChange:b,elements:N,events:l,floatingId:o,refs:x}),[e,b,N,l,o,x])}function z_(t){t===void 0&&(t={});const{nodeId:e}=t,r=kL({...t,elements:{reference:null,floating:null,...t.elements}}),n=t.rootContext||r,o=n.elements,[a,l]=G.useState(null),[c,p]=G.useState(null),b=o?.domReference||a,x=G.useRef(null),N=Ou();Ur(()=>{b&&(x.current=b)},[b]);const q=ZF({...t,elements:{...o,...c&&{reference:c}}}),R=G.useCallback(D=>{const z=Lr(D)?{getBoundingClientRect:()=>D.getBoundingClientRect(),contextElement:D}:D;p(z),q.refs.setReference(z)},[q.refs]),C=G.useCallback(D=>{(Lr(D)||D===null)&&(x.current=D,l(D)),(Lr(q.refs.reference.current)||q.refs.reference.current===null||D!==null&&!Lr(D))&&q.refs.setReference(D)},[q.refs]),L=G.useMemo(()=>({...q.refs,setReference:C,setPositionReference:R,domReference:x}),[q.refs,C,R]),P=G.useMemo(()=>({...q.elements,domReference:b}),[q.elements,b]),I=G.useMemo(()=>({...q,...n,refs:L,elements:P,nodeId:e}),[q,L,P,e,n]);return Ur(()=>{n.dataRef.current.floatingContext=I;const D=N?.nodesRef.current.find(z=>z.id===e);D&&(D.context=I)}),G.useMemo(()=>({...q,context:I,refs:L,elements:P}),[q,L,P,I])}function qL(t,e){e===void 0&&(e={});const{open:r,onOpenChange:n,events:o,dataRef:a,elements:l}=t,{enabled:c=!0,visibleOnly:p=!0}=e,m=G.useRef(!1),b=G.useRef(),x=G.useRef(!0);G.useEffect(()=>{if(!c)return;const q=ai(l.domReference);function R(){!r&&ln(l.domReference)&&l.domReference===ts(Sn(l.domReference))&&(m.current=!0)}function C(){x.current=!0}return q.addEventListener("blur",R),q.addEventListener("keydown",C,!0),()=>{q.removeEventListener("blur",R),q.removeEventListener("keydown",C,!0)}},[l.domReference,r,c]),G.useEffect(()=>{if(!c)return;function q(R){let{reason:C}=R;(C==="reference-press"||C==="escape-key")&&(m.current=!0)}return o.on("openchange",q),()=>{o.off("openchange",q)}},[o,c]),G.useEffect(()=>()=>{clearTimeout(b.current)},[]);const N=G.useMemo(()=>({onPointerDown(q){P_(q.nativeEvent)||(x.current=!1)},onMouseLeave(){m.current=!1},onFocus(q){if(m.current)return;const R=Wo(q.nativeEvent);if(p&&Lr(R))try{if(P1()&&QP())throw Error();if(!R.matches(":focus-visible"))return}catch{if(!x.current&&!F_(R))return}n(!0,q.nativeEvent,"focus")},onBlur(q){m.current=!1;const R=q.relatedTarget,C=q.nativeEvent,L=Lr(R)&&R.hasAttribute(al("focus-guard"))&&R.getAttribute("data-type")==="outside";b.current=window.setTimeout(()=>{var P;const I=ts(l.domReference?l.domReference.ownerDocument:document);!R&&I===l.domReference||xn((P=a.current.floatingContext)==null?void 0:P.refs.floating.current,I)||xn(l.domReference,I)||L||n(!1,C,"focus")})}}),[a,l.domReference,n,p]);return G.useMemo(()=>c?{reference:N}:{},[c,N])}const JS="active",ZS="selected";function rv(t,e,r){const n=new Map,o=r==="item";let a=t;if(o&&t){const{[JS]:l,[ZS]:c,...p}=t;a=p}return{...r==="floating"&&{tabIndex:-1,[Jv]:""},...a,...e.map(l=>{const c=l?l[r]:null;return typeof c=="function"?t?c(t):null:c}).concat(t).reduce((l,c)=>(c&&Object.entries(c).forEach(p=>{let[m,b]=p;if(!(o&&[JS,ZS].includes(m)))if(m.indexOf("on")===0){if(n.has(m)||n.set(m,[]),typeof b=="function"){var x;(x=n.get(m))==null||x.push(b),l[m]=function(){for(var N,q=arguments.length,R=new Array(q),C=0;C<q;C++)R[C]=arguments[C];return(N=n.get(m))==null?void 0:N.map(L=>L(...R)).find(L=>L!==void 0)}}}else l[m]=b}),l),{})}}function V_(t){t===void 0&&(t=[]);const e=t.map(c=>c?.reference),r=t.map(c=>c?.floating),n=t.map(c=>c?.item),o=G.useCallback(c=>rv(c,t,"reference"),e),a=G.useCallback(c=>rv(c,t,"floating"),r),l=G.useCallback(c=>rv(c,t,"item"),n);return G.useMemo(()=>({getReferenceProps:o,getFloatingProps:a,getItemProps:l}),[o,a,l])}function Hp(t,e,r){switch(t){case"vertical":return e;case"horizontal":return r;default:return e||r}}function XS(t,e){return Hp(e,t===M_||t===Id,t===Ko||t===Go)}function nv(t,e,r){return Hp(e,t===Id,r?t===Ko:t===Go)||t==="Enter"||t===" "||t===""}function CL(t,e,r){return Hp(e,r?t===Ko:t===Go,t===Id)}function YS(t,e,r){return Hp(e,r?t===Go:t===Ko,t===M_)}function RL(t,e){const{open:r,onOpenChange:n,elements:o}=t,{listRef:a,activeIndex:l,onNavigate:c=()=>{},enabled:p=!0,selectedIndex:m=null,allowEscape:b=!1,loop:x=!1,nested:N=!1,rtl:q=!1,virtual:R=!1,focusItemOnOpen:C="auto",focusItemOnHover:L=!0,openOnArrowKeyDown:P=!0,disabledIndices:I=void 0,orientation:D="vertical",cols:z=1,scrollItemIntoView:V=!0,virtualItemRef:W,itemSizes:K,dense:le=!1}=e,H=Zv(o.floating),ne=Bn(H),B=Pd(),re=Ou(),Z=ni(()=>{c(Ce.current===-1?null:Ce.current)}),pe=F1(o.domReference),Re=G.useRef(C),Ce=G.useRef(m??-1),Pe=G.useRef(null),ve=G.useRef(!0),me=G.useRef(Z),Ee=G.useRef(!!o.floating),Q=G.useRef(r),xe=G.useRef(!1),lt=G.useRef(!1),at=Bn(I),dt=Bn(r),mt=Bn(V),ft=Bn(m),[gt,It]=G.useState(),[vt,yt]=G.useState(),Rt=ni(()=>{function ae(je){R?(It(je.id),re?.events.emit("virtualfocus",je),W&&(W.current=je)):Ma(je,{sync:xe.current,preventScroll:!0})}const ye=a.current[Ce.current];ye&&ae(ye),(xe.current?je=>je():requestAnimationFrame)(()=>{const je=a.current[Ce.current]||ye;if(!je)return;ye||ae(je);const Ge=mt.current;Ge&&Jt&&(lt.current||!ve.current)&&(je.scrollIntoView==null||je.scrollIntoView(typeof Ge=="boolean"?{block:"nearest",inline:"nearest"}:Ge))})});Ur(()=>{p&&(r&&o.floating?Re.current&&m!=null&&(lt.current=!0,Ce.current=m,Z()):Ee.current&&(Ce.current=-1,me.current()))},[p,r,o.floating,m,Z]),Ur(()=>{if(p&&r&&o.floating)if(l==null){if(xe.current=!1,ft.current!=null)return;if(Ee.current&&(Ce.current=-1,Rt()),(!Q.current||!Ee.current)&&Re.current&&(Pe.current!=null||Re.current===!0&&Pe.current==null)){let ae=0;const ye=()=>{a.current[0]==null?(ae<2&&(ae?requestAnimationFrame:queueMicrotask)(ye),ae++):(Ce.current=Pe.current==null||nv(Pe.current,D,q)||N?Xg(a,at.current):PS(a,at.current),Pe.current=null,Z())};ye()}}else Wc(a,l)||(Ce.current=l,Rt(),lt.current=!1)},[p,r,o.floating,l,ft,N,a,D,q,Z,Rt,at]),Ur(()=>{var ae;if(!p||o.floating||!re||R||!Ee.current)return;const ye=re.nodesRef.current,Oe=(ae=ye.find(_t=>_t.id===B))==null||(ae=ae.context)==null?void 0:ae.elements.floating,je=ts(Sn(o.floating)),Ge=ye.some(_t=>_t.context&&xn(_t.context.elements.floating,je));Oe&&!Ge&&ve.current&&Oe.focus({preventScroll:!0})},[p,o.floating,re,B,R]),Ur(()=>{if(!p||!re||!R||B)return;function ae(ye){yt(ye.id),W&&(W.current=ye)}return re.events.on("virtualfocus",ae),()=>{re.events.off("virtualfocus",ae)}},[p,re,R,B,W]),Ur(()=>{me.current=Z,Q.current=r,Ee.current=!!o.floating}),Ur(()=>{r||(Pe.current=null)},[r]);const qt=l!=null,Jt=G.useMemo(()=>{function ae(Oe){if(!r)return;const je=a.current.indexOf(Oe);je!==-1&&Ce.current!==je&&(Ce.current=je,Z())}return{onFocus(Oe){let{currentTarget:je}=Oe;xe.current=!0,ae(je)},onClick:Oe=>{let{currentTarget:je}=Oe;return je.focus({preventScroll:!0})},...L&&{onMouseMove(Oe){let{currentTarget:je}=Oe;xe.current=!0,lt.current=!1,ae(je)},onPointerLeave(Oe){let{pointerType:je}=Oe;if(!(!ve.current||je==="touch")&&(xe.current=!0,Ce.current=-1,Z(),!R)){var Ge;(Ge=ne.current)==null||Ge.focus({preventScroll:!0})}}}}},[r,ne,L,a,Z,R]),Gt=ni(ae=>{if(ve.current=!1,xe.current=!0,ae.which===229||!dt.current&&ae.currentTarget===ne.current)return;if(N&&YS(ae.key,D,q)){jn(ae),n(!1,ae.nativeEvent,"list-navigation"),ln(o.domReference)&&(R?re?.events.emit("virtualfocus",o.domReference):o.domReference.focus());return}const ye=Ce.current,Oe=Xg(a,I),je=PS(a,I);if(pe||(ae.key==="Home"&&(jn(ae),Ce.current=Oe,Z()),ae.key==="End"&&(jn(ae),Ce.current=je,Z())),z>1){const Ge=K||Array.from({length:a.current.length},()=>({width:1,height:1})),_t=nL(Ge,z,le),Mt=_t.findIndex(Ar=>Ar!=null&&!kh(a.current,Ar,I)),mr=_t.reduce((Ar,Pn,Xr)=>Pn!=null&&!kh(a.current,Pn,I)?Xr:Ar,-1),cr=_t[rL({current:_t.map(Ar=>Ar!=null?a.current[Ar]:null)},{event:ae,orientation:D,loop:x,rtl:q,cols:z,disabledIndices:sL([...I||a.current.map((Ar,Pn)=>kh(a.current,Pn)?Pn:void 0),void 0],_t),minIndex:Mt,maxIndex:mr,prevIndex:iL(Ce.current>je?Oe:Ce.current,Ge,_t,z,ae.key===Id?"bl":ae.key===(q?Ko:Go)?"tr":"tl"),stopEvent:!0})];if(cr!=null&&(Ce.current=cr,Z()),D==="both")return}if(XS(ae.key,D)){if(jn(ae),r&&!R&&ts(ae.currentTarget.ownerDocument)===ae.currentTarget){Ce.current=nv(ae.key,D,q)?Oe:je,Z();return}nv(ae.key,D,q)?x?Ce.current=ye>=je?b&&ye!==a.current.length?-1:Oe:On(a,{startingIndex:ye,disabledIndices:I}):Ce.current=Math.min(je,On(a,{startingIndex:ye,disabledIndices:I})):x?Ce.current=ye<=Oe?b&&ye!==-1?a.current.length:je:On(a,{startingIndex:ye,decrement:!0,disabledIndices:I}):Ce.current=Math.max(Oe,On(a,{startingIndex:ye,decrement:!0,disabledIndices:I})),Wc(a,Ce.current)&&(Ce.current=-1),Z()}}),er=G.useMemo(()=>R&&r&&qt&&{"aria-activedescendant":vt||gt},[R,r,qt,vt,gt]),ur=G.useMemo(()=>({"aria-orientation":D==="both"?void 0:D,...pe?{}:er,onKeyDown:Gt,onPointerMove(){ve.current=!0}}),[er,Gt,D,pe]),se=G.useMemo(()=>{function ae(Oe){C==="auto"&&I1(Oe.nativeEvent)&&(Re.current=!0)}function ye(Oe){Re.current=C,C==="auto"&&P_(Oe.nativeEvent)&&(Re.current=!0)}return{...er,onKeyDown(Oe){ve.current=!1;const je=Oe.key.startsWith("Arrow"),Ge=["Home","End"].includes(Oe.key),_t=je||Ge,Mt=CL(Oe.key,D,q),mr=YS(Oe.key,D,q),cr=XS(Oe.key,D),Ar=(N?Mt:cr)||Oe.key==="Enter"||Oe.key.trim()==="";if(R&&r){const Fs=re?.nodesRef.current.find(zt=>zt.parentId==null),gn=re&&Fs?hL(re.nodesRef.current,Fs.id):null;if(_t&&gn&&W){const zt=new KeyboardEvent("keydown",{key:Oe.key,bubbles:!0});if(Mt||mr){var Pn,Xr;const go=((Pn=gn.context)==null?void 0:Pn.elements.domReference)===Oe.currentTarget,vo=mr&&!go?(Xr=gn.context)==null?void 0:Xr.elements.domReference:Mt?a.current.find(_o=>_o?.id===gt):null;vo&&(jn(Oe),vo.dispatchEvent(zt),yt(void 0))}if((cr||Ge)&&gn.context&&gn.context.open&&gn.parentId&&Oe.currentTarget!==gn.context.elements.domReference){var Vn;jn(Oe),(Vn=gn.context.elements.domReference)==null||Vn.dispatchEvent(zt);return}}return Gt(Oe)}if(!(!r&&!P&&je)){if(Ar&&(Pe.current=N&&cr?null:Oe.key),N){Mt&&(jn(Oe),r?(Ce.current=Xg(a,at.current),Z()):n(!0,Oe.nativeEvent,"list-navigation"));return}cr&&(m!=null&&(Ce.current=m),jn(Oe),!r&&P?n(!0,Oe.nativeEvent,"list-navigation"):Gt(Oe),r&&Z())}},onFocus(){r&&!R&&(Ce.current=-1,Z())},onPointerDown:ye,onMouseDown:ae,onClick:ae}},[gt,er,Gt,at,C,a,N,Z,n,r,P,D,q,m,re,R,W]);return G.useMemo(()=>p?{reference:se,floating:ur,item:Jt}:{},[p,se,ur,Jt])}const eE=t=>t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(e,r)=>(r?"-":"")+e.toLowerCase());function Bl(t,e){return typeof t=="function"?t(e):t}function OL(t,e){const[r,n]=G.useState(t);return t&&!r&&n(!0),G.useEffect(()=>{if(!t&&r){const o=setTimeout(()=>n(!1),e);return()=>clearTimeout(o)}},[t,r,e]),r}function TL(t,e){e===void 0&&(e={});const{open:r,elements:{floating:n}}=t,{duration:o=250}=e,l=(typeof o=="number"?o:o.close)||0,[c,p]=G.useState("unmounted"),m=OL(r,l);return!m&&c==="close"&&p("unmounted"),Ur(()=>{if(n){if(r){p("initial");const b=requestAnimationFrame(()=>{p("open")});return()=>{cancelAnimationFrame(b)}}p("close")}},[r,n]),{isMounted:m,status:c}}function H_(t,e){e===void 0&&(e={});const{initial:r={opacity:0},open:n,close:o,common:a,duration:l=250}=e,c=t.placement,p=c.split("-")[0],m=G.useMemo(()=>({side:p,placement:c}),[p,c]),b=typeof l=="number",x=(b?l:l.open)||0,N=(b?l:l.close)||0,[q,R]=G.useState(()=>({...Bl(a,m),...Bl(r,m)})),{isMounted:C,status:L}=TL(t,{duration:l}),P=Bn(r),I=Bn(n),D=Bn(o),z=Bn(a);return Ur(()=>{const V=Bl(P.current,m),W=Bl(D.current,m),K=Bl(z.current,m),le=Bl(I.current,m)||Object.keys(V).reduce((H,ne)=>(H[ne]="",H),{});if(L==="initial"&&R(H=>({transitionProperty:H.transitionProperty,...K,...V})),L==="open"&&R({transitionProperty:Object.keys(le).map(eE).join(","),transitionDuration:x+"ms",...K,...le}),L==="close"){const H=W||V;R({transitionProperty:Object.keys(H).map(eE).join(","),transitionDuration:N+"ms",...K,...H})}},[N,D,P,I,z,x,L,m]),{isMounted:C,styles:q}}const AL=G.createContext({close(){}}),IL=lr({slot:{target:["flex","justify-center","items-center"],portal:[]},variant:{mounted:{true:[]}},match:[{if:{mounted:!1},then:{portal:["hidden"]}}],defaults:{mounted:!1}}),PL=({target:t,action:e="hover",disabled:r=!1,closeOnClick:n=!1,delay:o=100,float:a,variant:l,tva:c=IL,css:p,children:m})=>{const[b,x]=G.useState(!1),{refs:N,floatingStyles:q,context:R}=z_({open:b,onOpenChange:x,placement:"top",whileElementsMounted:K1,middleware:[J1(10),Z1({fallbackAxisSideDirection:"start"}),XF()],...a}),{getReferenceProps:C,getFloatingProps:L}=V_([fL(R,{enabled:e==="hover",delay:o}),$_(R,{enabled:e==="click"}),qL(R),U_(R)]),{isMounted:P,styles:I}=H_(R),D=c({mounted:P,...l,css:p}).slots;return g.jsxs(g.Fragment,{children:[g.jsx("button",{type:"button",ref:N.setReference,...C(),disabled:r,className:D.target(),children:t}),g.jsx(W_,{children:g.jsx("div",{ref:N.setFloating,style:{...q,...I},className:D.portal(),...L(),onClick:n?()=>{x(!1)}:void 0,children:g.jsx(AL.Provider,{value:{close(){x(!1)}},children:m})})})]})},uk="icon-[system-uicons--menu-hamburger]",ck=lr({slot:{base:[]},variant:{size:{xs:"text-sm",sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl","2xl":"text-2xl","3xl":"text-3xl","4xl":"text-4xl","5xl":"text-5xl","6xl":"text-6xl","7xl":"text-7xl","8xl":"text-8xl"},disabled:{true:[]}},match:[{if:{disabled:!0},then:{base:["pointer-events-none","cursor-not-allowed","text-gray-400","opacity-50"]}}],defaults:{size:"xl",disabled:!1}}),wr=({icon:t,variant:e,tva:r=ck,css:n,...o})=>{const a=r({...e,css:n}).slots;return t?g.jsx("div",{className:a.base({css:[t]}),...o}):null},FL=lr({slot:{base:["p-1","bg-slate-50","border","border-slate-300","rounded","shadow-md","text-slate-500","flex","flex-col","gap-2"]},variant:{},defaults:{}}),li=({icon:t=uk,iconProps:e,children:r,variant:n,tva:o=FL,css:a,...l})=>{const c=o({...n,css:a}).slots;return g.jsx(dL,{children:g.jsx(PL,{action:"click",target:g.jsx(wr,{icon:t,...e}),delay:100,float:{placement:"bottom-start"},closeOnClick:!0,...l,children:g.jsx("div",{className:c.base(),children:r})})})},dk="icon-[svg-spinners--90-ring-with-bg]",LL=lr({slot:{base:["flex","items-center","justify-center","gap-2","group","w-fit","h-fit","rounded","cursor-pointer","hover:shadow-md","hover:shadow-slate-200","transition-all","hover:bg-slate-200","text-slate-600","text-2xl","p-1"]},variant:{disabled:{true:["cursor-not-allowed","pointer-events-none"]},loading:{true:["cursor-not-allowed","pointer-events-none"]}},match:[{if:{disabled:!0},then:{base:["opacity-50","hover:bg-blue-400"]}}],defaults:{disabled:!1,loading:!1}}),Q_=({iconEnabled:t,iconDisabled:e,iconLoading:r=dk,disabled:n=!1,loading:o=!1,onClick:a,variant:l,tva:c=LL,css:p,children:m,...b})=>{const x=c({disabled:n,loading:o,...l,css:p}).slots;return g.jsxs("div",{className:x.base(),onClick:n?void 0:a,...b,children:[n?g.jsx(wr,{icon:o?r:e??t,variant:{size:"xl"}}):g.jsx(wr,{icon:o?r:t,variant:{size:"xl"}}),m]})},jL="icon-[iconamoon--close-light]",us=G.createContext(void 0),DL=lr({slot:{base:["bg-slate-500","bg-opacity-75","backdrop-blur-sm","flex","justify-center","py-12"],target:[],modal:["bg-white","rounded","shadow-lg","p-4","w-fit","h-fit","max-h-full","overflow-y-auto","relative","w-2/3","max-w-1/2"]},variant:{disabled:{true:["pointer-events-none"]},loading:{true:[]}},match:[{if:{loading:!0},then:{base:["pointer-events-none","opacity-50"]}}],defaults:{disabled:!1,loading:!1}}),Qp=({target:t,icon:e,title:r,disabled:n=!1,outside:o=!1,variant:a,css:l,tva:c=DL,children:p})=>{const[m,b]=G.useState(!1),x=uL(),{refs:N,context:q}=z_({nodeId:x,open:m,onOpenChange:b}),R=$_(q),C=U_(q,{outsidePress:o}),{getReferenceProps:L,getFloatingProps:P}=V_([R,C]),{isMounted:I,styles:D}=H_(q),z=c({disabled:n,...a,css:l}).slots;return g.jsxs(us.Provider,{value:{close(){b(!1)}},children:[g.jsx("div",{ref:N.setReference,...L({disabled:n}),className:z.target(),children:t}),g.jsx(cL,{id:x,children:I&&g.jsx(g.Fragment,{children:g.jsx(W_,{children:g.jsx(SL,{lockScroll:!0,style:D,className:z.base(),children:g.jsx(lk,{context:q,children:g.jsxs("div",{ref:N.setFloating,...P(),className:z.modal(),children:[g.jsxs("div",{className:"border-b border-slate-200 mb-2 py-1.5 flex flex-row items-center justify-between select-none",children:[g.jsxs("div",{className:"flex flex-row items-center gap-2 pr-4",children:[e&&(q_(e)?g.jsx(wr,{icon:e,variant:{size:"xl"}}):e),r&&g.jsx("div",{className:"text-lg font-semibold text-slate-700",children:r})]}),g.jsx(Q_,{iconEnabled:jL,onClick:()=>b(!1)})]}),p]})})})})})})]})},ML=lr({use:zP,slot:{},variant:{},defaults:{}}),Cr=({icon:t,iconProps:e,label:r,textTitle:n,disabled:o=!1,modalProps:a,variant:l,tva:c=ML,css:p,children:m})=>{const b=c({...l,disabled:o,css:p}).slots;return g.jsxs("div",{className:b.base(),children:[q_(t)?g.jsx(wr,{icon:t,...e}):t,g.jsx(Qp,{icon:t,target:r,title:n,disabled:o,css:{modal:["w-1/2"]},...a,children:m})]})},BL=lr({slot:{base:["rounded-2xl","bg-blue-50","border","border-blue-200","text-xs","px-4","py-0.5","font-bold"]},variant:{},defaults:{}}),WL=({variant:t,tva:e=BL,css:r,...n})=>{const o=e({...t,css:r}).slots;return g.jsx("div",{className:o.base(),...n})},$L="icon-[material-symbols-light--check-small]",UL="icon-[material-symbols-light--close-small]",zL="icon-[material-symbols-light--check-indeterminate-small]",VL=lr({use:ck,slot:{},variant:{value:{true:"text-green-600",false:"text-amber-600"}},defaults:{value:!1}}),HL=({value:t,checkIcon:e=$L,unCheckIcon:r=UL,undefinedIcon:n=zL,tva:o=VL,...a})=>t==null?g.jsx(wr,{icon:n,tva:o,...a}):g.jsx(wr,{icon:t?e:r,tva:l=>o({...l,value:t}),...a}),QL=lr({slot:{base:["flex","items-center","justify-between","text-sm","font-medium","text-slate-900","w-full"],switch:["relative","w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-blue-300","dark:peer-focus:ring-blue-800","rounded-full","peer","dark:bg-gray-700","peer-checked:after:translate-x-full","rtl:peer-checked:after:-translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","dark:border-gray-600","peer-checked:bg-blue-600"]},variant:{},defaults:{}}),KL=({value:t,onChange:e,variant:r,tva:n=QL,css:o,...a})=>{const l=n({...r,css:o}).slots;return g.jsx("div",{className:l.base(),children:g.jsxs("label",{children:[g.jsx("input",{type:"checkbox",checked:t,className:"sr-only peer",onChange:c=>{e(c.target.checked)},...a}),g.jsx("div",{className:l.switch()})]})})},GL=lr({slot:{base:["flex","flex-row","items-center","justify-center","gap-2","group","rounded","transition-all"]},variant:{variant:{primary:["text-white"],secondary:["text-slate-700"],subtle:["text-slate-600"],danger:["text-slate-50"]},disabled:{true:"cursor-not-allowed"},size:{xs:[],sm:[],md:[]}},match:[{if:{variant:"primary"},then:{base:["bg-blue-400","hover:bg-blue-500"]}},{if:{variant:"primary",disabled:!0},then:{base:["opacity-50","bg-blue-600","hover:bg-blue-600","cursor-not-allowed"]}},{if:{variant:"secondary"},then:{base:["bg-amber-400","hover:bg-amber-500"]}},{if:{variant:"subtle"},then:{base:["text-slate-600","hover:text-slate-800","hover:bg-blue-50"]}},{if:{variant:"danger"},then:{base:["bg-red-400","hover:bg-red-500","hover:text-white"]}},{if:{size:"xs"},then:{base:["py-0.5","px-1"]}},{if:{size:"sm"},then:{base:["py-1","px-2"]}},{if:{size:"md"},then:{base:["py-2","px-4"]}}],defaults:{variant:"primary",disabled:!1,size:"md"}}),Un=({iconEnabled:t,iconDisabled:e,iconLoading:r=dk,iconProps:n,loading:o,variant:a,tva:l=GL,css:c,children:p,...m})=>{const b=l({disabled:m.disabled,...a,css:c}).slots;return g.jsxs("button",{type:"button",className:b.base(),...m,children:[m.disabled?g.jsx(wr,{icon:o===!0?r:e,variant:{size:"xl"},...n}):g.jsx(wr,{icon:o===!0?r:t,variant:{size:"xl"},...n}),p]})},K_=G.createContext({inline:!1}),JL=lr({slot:{base:["border","border-slate-100","px-2","py-1","rounded-md"],label:["text-sm","font-semibold","text-slate-600","border-b","mb-2"],value:[]},variant:{inline:{true:[]},withBackground:{true:[]}},match:[{if:{inline:!0},then:{base:["border-none","flex","flex-row","items-center","gap-2"],label:["mb-0","font-light","text-md","text-slate-600","border-none"],value:["text-md","text-slate-800"]}},{if:{withBackground:!0},then:{base:["bg-slate-50","hover:bg-slate-100"]}}],defaults:{inline:!1,withBackground:!0}}),ZL=({inline:t,label:e,value:r,variant:n,tva:o=JL,css:a})=>{const l=G.useContext(K_),c=t??l?.inline,p=o({inline:c,...n,css:a}).slots;return g.jsxs("div",{className:p.base(),children:[e?g.jsx("div",{className:p.label(),children:e}):null,g.jsx("div",{className:p.value(),children:r})]})},XL=lr({slot:{base:["flex","flex-col","gap-4","border","border-slate-100","p-4","rounded-lg"]},variant:{inline:{true:["flex-row","border-none","gap-1","p-0","flex-1"]}},defaults:{inline:!1}}),fk=({items:t,hidden:e=[],valueOfProps:r,entity:n,variant:o,tva:a=XL,css:l,inline:c=!1})=>{const p=a({inline:c,...o,css:l}).slots;return g.jsx(K_.Provider,{value:{inline:c},children:g.jsx("div",{className:p.base(),children:t.filter(({id:m})=>!e.includes(m)).map(({id:m,render:b,...x})=>g.jsx(ZL,{value:g.jsx(b,{entity:n}),...r,...x},m))})})},YL=lr({slot:{base:["flex","flex-col","gap-2"]},variant:{},defaults:{}}),tE="icon-[tabler--dots]",ej=lr({slot:{base:["flex","items-center","justify-between","gap-2"],sums:["flex","items-center","gap-2","text-sm"]},variant:{},defaults:{}}),tj=lr({slot:{base:["select-none"],list:["flex","items-center","-space-x-px","text-xs","gap-2"],page:["flex","items-center","justify-center","w-12","px-2","py-1","rounded","border","border-slate-200","hover:bg-slate-200","cursor-pointer","transition-all","duration-200"]},variant:{current:{true:[]}},match:[{if:{current:!0},then:{page:["bg-slate-100","hover:bg-slate-200","text-slate-800","font-bold"]}}],defaults:{current:!1}}),iv=({pages:t,page:e,onPage:r,variant:n,tva:o=tj,css:a})=>{const l=o({...n,css:a}).slots;return g.jsx("nav",{className:l.base(),children:g.jsx("ul",{className:l.list(),children:t.map((c,p)=>g.jsx("li",{className:l.page({current:e===c-1}),onClick:()=>r(c-1),children:c},`page-${c}-${p}`))})})},rj=lr({slot:{base:["cursor-pointer","bg-slate-50","text-slate-900","text-sm","border","border-slate-300","rounded","focus:border-sky-400","focus:outline-none","p-2.5","hover:shadow-md","transition-all","group"],input:["flex","flex-row","items-center","justify-between","gap-2"],popup:["z-50","cursor-pointer","overflow-y-auto","rounded","border","border-slate-300","bg-white","shadow-lg","focus:outline-none"],item:["focus:outline-none","py-2","px-2.5","flex","items-center","justify-between"]},variant:{disabled:{true:["cursor-not-allowed","hover:shadow-none","focus:border-slate-300","opacity-50"]},active:{true:[]},selected:{true:[]}},match:[{if:{selected:!0},then:{item:["bg-slate-100"]}},{if:{active:!0},then:{item:["bg-slate-200"]}}],defaults:{disabled:!1,selected:!1,active:!1}}),nj=({items:t,icon:e,defaultValue:r,render:n,textSelect:o,disabled:a=!1,onItem:l,onSelect:c,onChange:p,value:m,variant:b,tva:x=rj,css:N})=>{const[q,R]=G.useState(!1),[C,L]=G.useState(null),[P,I]=G.useState(t.findIndex(me=>me.id===r));G.useEffect(()=>{I(t.findIndex(me=>me.id===m))},[m]);const{refs:D,floatingStyles:z,context:V}=z_({placement:"bottom-start",open:q,onOpenChange:R,whileElementsMounted:K1,middleware:[J1(5),Z1({padding:10}),YF({apply({rects:me,elements:Ee,availableHeight:Q}){Object.assign(Ee.floating.style,{maxHeight:`${Q}px`,minWidth:`${me.reference.width}px`})},padding:10})]}),W=G.useRef([]),K=G.useRef(!1),le=$_(V,{event:"mousedown"}),H=U_(V),ne=RL(V,{listRef:W,activeIndex:C,selectedIndex:P,onNavigate:L,loop:!0}),{getReferenceProps:B,getFloatingProps:re,getItemProps:Z}=V_([H,ne,le]),{isMounted:pe,styles:Re}=H_(V),Ce=me=>{I(me),R(!1);const Ee=t[me];Ee&&l?.(Ee),c?.(Ee),p?.(Ee?.id)},Pe=P===null?void 0:t[P],ve=x({disabled:a,...b,css:N}).slots;return g.jsxs(g.Fragment,{children:[g.jsx("div",{tabIndex:a?-1:0,ref:a?void 0:D.setReference,"aria-labelledby":"select-label","aria-autocomplete":"none",...a?{}:B(),className:ve.base(),children:g.jsxs("div",{className:ve.input(),children:[e?g.jsx(wr,{icon:e,variant:{size:"xl"},css:{base:["text-slate-400","group-hover:text-slate-600"]}}):null,Pe?g.jsx(n,{entity:Pe}):o||tl.rich("Select item"),g.jsx(wr,{icon:"icon-[gg--select]",variant:{size:"xl"},css:{base:[!q&&"text-slate-400",q&&"text-slate-600","group-hover:text-slate-600"]}})]})}),pe&&g.jsx(W_,{children:g.jsx(lk,{context:V,modal:!1,children:g.jsx("div",{ref:D.setFloating,style:{...z,...Re},className:ve.popup(),...re(),children:t.map((me,Ee)=>g.jsxs("div",{ref:Q=>{W.current[Ee]=Q},role:"option",tabIndex:Ee===C?0:-1,"aria-selected":Ee===P&&Ee===C,className:ve.item({selected:Ee===P,active:Ee===C}),...Z({onClick(){Ce(Ee)},onKeyDown(Q){Q.key==="Enter"&&(Q.preventDefault(),Ce(Ee)),Q.key===" "&&!K.current&&(Q.preventDefault(),Ce(Ee))}}),children:[g.jsx(n,{entity:me}),Ee===P&&g.jsx(wr,{icon:"icon-[basil--check-outline]",variant:{size:"xl"}})]},me.id))})})})]})},ij=({sizes:t=[5,15,30,50,100],size:e,onSize:r,...n})=>g.jsx(nj,{items:t.map(o=>({id:`${o}`,size:o})),defaultValue:`${e}`,value:`${e}`,onItem:({size:o})=>r(o),render:({entity:{size:o}})=>o,css:{base:["px-8","py-1"],item:["px-8","py-1"]},...n}),rE=({cursor:t,count:e,textTotal:r,onPage:n,onSize:o,variant:a,tva:l=ej,css:c})=>{const p=G.useMemo(()=>BP({page:t.page,total:Math.ceil(e.filter/t.size),siblings:1,boundaries:1}),[t.page,e.filter,t.size]),m=l({...a,css:c}).slots;return g.jsxs("div",{className:m.base(),children:[p.total>1?g.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[["both","start"].includes(p.type)&&g.jsxs(g.Fragment,{children:[g.jsx(iv,{page:t.page,pages:p.start,onPage:n}),g.jsx(wr,{icon:tE})]}),g.jsx(iv,{page:t.page,pages:p.pages,onPage:n}),["both","end"].includes(p.type)&&g.jsxs(g.Fragment,{children:[g.jsx(wr,{icon:tE}),g.jsx(iv,{page:t.page,pages:p.end,onPage:n})]})]}):null,g.jsxs("div",{className:m.sums(),children:[g.jsx("div",{children:r}),g.jsx("div",{className:"font-bold",children:e.filter}),e.filter!==e.where&&g.jsxs(g.Fragment,{children:[g.jsx("div",{children:"/"}),g.jsx("div",{className:"font-semibold",children:e.where})]})]}),g.jsx(ij,{size:t.size,onSize:o})]})},pa=t=>e=>{t({search:({cursor:r,...n})=>({...n,cursor:{...r,page:e}})})},ma=t=>e=>{t({search:({cursor:r,...n})=>({...n,cursor:{...r,size:e,page:0}})})};function Jo(t){return typeof t>"u"||t===void 0}function ki(t){return typeof t=="string"}function Kp(t){return typeof t=="number"}function op(t){return typeof t=="boolean"}function G_(t){return t===null}function sj(t){return t instanceof Date}function J_(t){return typeof t=="bigint"}function Ci(t){return typeof t=="function"}function _s(t){return typeof t=="object"&&t!==null}function A(t){return Object.freeze(t)}function uh(t){return ao(t)?t:[t]}function ao(t){return Array.isArray(t)}function Zo(t){return t}const Nr=A({is(t){return t.kind==="AlterTableNode"},create(t){return A({kind:"AlterTableNode",table:t})},cloneWithTableProps(t,e){return A({...t,...e})},cloneWithColumnAlteration(t,e){return A({...t,columnAlterations:t.columnAlterations?[...t.columnAlterations,e]:[e]})}}),Vr=A({is(t){return t.kind==="IdentifierNode"},create(t){return A({kind:"IdentifierNode",name:t})}}),Xs=A({is(t){return t.kind==="CreateIndexNode"},create(t){return A({kind:"CreateIndexNode",name:Vr.create(t)})},cloneWith(t,e){return A({...t,...e})},cloneWithColumns(t,e){return A({...t,columns:[...t.columns||[],...e]})}}),hk=A({is(t){return t.kind==="CreateSchemaNode"},create(t,e){return A({kind:"CreateSchemaNode",schema:Vr.create(t),...e})},cloneWith(t,e){return A({...t,...e})}}),oj=["preserve rows","delete rows","drop"],pi=A({is(t){return t.kind==="CreateTableNode"},create(t){return A({kind:"CreateTableNode",table:t,columns:A([])})},cloneWithColumn(t,e){return A({...t,columns:A([...t.columns,e])})},cloneWithConstraint(t,e){return A({...t,constraints:t.constraints?A([...t.constraints,e]):A([e])})},cloneWithFrontModifier(t,e){return A({...t,frontModifiers:t.frontModifiers?A([...t.frontModifiers,e]):A([e])})},cloneWithEndModifier(t,e){return A({...t,endModifiers:t.endModifiers?A([...t.endModifiers,e]):A([e])})},cloneWith(t,e){return A({...t,...e})}}),sa=A({is(t){return t.kind==="SchemableIdentifierNode"},create(t){return A({kind:"SchemableIdentifierNode",identifier:Vr.create(t)})},createWithSchema(t,e){return A({kind:"SchemableIdentifierNode",schema:Vr.create(t),identifier:Vr.create(e)})}}),Uc=A({is(t){return t.kind==="DropIndexNode"},create(t,e){return A({kind:"DropIndexNode",name:sa.create(t),...e})},cloneWith(t,e){return A({...t,...e})}}),Xv=A({is(t){return t.kind==="DropSchemaNode"},create(t,e){return A({kind:"DropSchemaNode",schema:Vr.create(t),...e})},cloneWith(t,e){return A({...t,...e})}}),Yv=A({is(t){return t.kind==="DropTableNode"},create(t,e){return A({kind:"DropTableNode",table:t,...e})},cloneWith(t,e){return A({...t,...e})}}),ya=A({is(t){return t.kind==="AliasNode"},create(t,e){return A({kind:"AliasNode",node:t,alias:e})}}),Xo=A({is(t){return t.kind==="TableNode"},create(t){return A({kind:"TableNode",table:sa.create(t)})},createWithSchema(t,e){return A({kind:"TableNode",table:sa.createWithSchema(t,e)})}});function ci(t){return _s(t)&&Ci(t.toOperationNode)}function aj(t){return _s(t)&&"expressionType"in t&&ci(t)}function lj(t){return _s(t)&&"expression"in t&&ki(t.alias)&&ci(t)}const Gs=A({is(t){return t.kind==="SelectModifierNode"},create(t,e){return A({kind:"SelectModifierNode",modifier:t,of:e})},createWithExpression(t){return A({kind:"SelectModifierNode",rawModifier:t})}}),oa=A({is(t){return t.kind==="AndNode"},create(t,e){return A({kind:"AndNode",left:t,right:e})}}),Tu=A({is(t){return t.kind==="OrNode"},create(t,e){return A({kind:"OrNode",left:t,right:e})}}),sv=A({is(t){return t.kind==="OnNode"},create(t){return A({kind:"OnNode",on:t})},cloneWithOperation(t,e,r){return A({...t,on:e==="And"?oa.create(t.on,r):Tu.create(t.on,r)})}}),zc=A({is(t){return t.kind==="JoinNode"},create(t,e){return A({kind:"JoinNode",joinType:t,table:e,on:void 0})},createWithOn(t,e,r){return A({kind:"JoinNode",joinType:t,table:e,on:sv.create(r)})},cloneWithOn(t,e){return A({...t,on:t.on?sv.cloneWithOperation(t.on,"And",e):sv.create(e)})}}),bu=A({is(t){return t.kind==="BinaryOperationNode"},create(t,e,r){return A({kind:"BinaryOperationNode",leftOperand:t,operator:e,rightOperand:r})}}),uj=["=","==","!=","<>",">",">=","<","<=","in","not in","is","is not","like","not like","match","ilike","not ilike","@>","<@","^@","&&","?","?&","?|","!<","!>","<=>","!~","~","~*","!~*","@@","@@@","!!","<->","regexp","is distinct from","is not distinct from"],cj=["+","-","*","/","%","^","&","|","#","<<",">>"],pk=["->","->>"],dj=[...uj,...cj,"&&","||"],fj=["exists","not exists"],hj=["not","-",...fj],pj=[...dj,...pk,...hj,"between","between symmetric"],aa=A({is(t){return t.kind==="OperatorNode"},create(t){return A({kind:"OperatorNode",operator:t})}});function nE(t){return ki(t)&&pk.includes(t)}const sn=A({is(t){return t.kind==="ColumnNode"},create(t){return A({kind:"ColumnNode",column:Vr.create(t)})}}),Z_=A({is(t){return t.kind==="SelectAllNode"},create(){return A({kind:"SelectAllNode"})}}),Gp=A({is(t){return t.kind==="ReferenceNode"},create(t,e){return A({kind:"ReferenceNode",table:e,column:t})},createSelectAll(t){return A({kind:"ReferenceNode",table:t,column:Z_.create()})}});class mj{#e;get dynamicReference(){return this.#e}get refType(){}constructor(e){this.#e=e}toOperationNode(){return _k(this.#e)}}function mk(t){return _s(t)&&ci(t)&&ki(t.dynamicReference)}const e_=A({is(t){return t.kind==="OrderByItemNode"},create(t,e){return A({kind:"OrderByItemNode",orderBy:t,direction:e})}}),Tn=A({is(t){return t.kind==="RawNode"},create(t,e){return A({kind:"RawNode",sqlFragments:A(t),parameters:A(e)})},createWithSql(t){return Tn.create([t],[])},createWithChild(t){return Tn.create(["",""],[t])},createWithChildren(t){return Tn.create(new Array(t.length+1).fill(""),t)}});function yk(t){return t==="asc"||t==="desc"}function Fd(t){if(t.length===2)return[ov(t[0],t[1])];if(t.length===1){const[e]=t;return Array.isArray(e)?e.map(r=>ov(r)):[ov(e)]}throw new Error(`Invalid number of arguments at order by! expected 1-2, received ${t.length}`)}function ov(t,e){const r=yj(t);if(e_.is(r)){if(e)throw new Error("Cannot specify direction twice!");return r}return e_.create(r,gk(e))}function yj(t){if(Bd(t))return dl(t);if(mk(t))return t.toOperationNode();const[e,r]=t.split(" ");if(r){if(!yk(r))throw new Error(`Invalid order by direction: ${r}`);return e_.create(lo(e),gk(r))}return lo(t)}function gk(t){if(t)return t==="asc"||t==="desc"?Tn.createWithSql(t):t.toOperationNode()}const ap=A({is(t){return t.kind==="JSONReferenceNode"},create(t,e){return A({kind:"JSONReferenceNode",reference:t,traversal:e})},cloneWithTraversal(t,e){return A({...t,traversal:e})}}),vk=A({is(t){return t.kind==="JSONOperatorChainNode"},create(t){return A({kind:"JSONOperatorChainNode",operator:t,values:A([])})},cloneWithValue(t,e){return A({...t,values:A([...t.values,e])})}}),Vc=A({is(t){return t.kind==="JSONPathNode"},create(t){return A({kind:"JSONPathNode",inOperator:t,pathLegs:A([])})},cloneWithLeg(t,e){return A({...t,pathLegs:A([...t.pathLegs,e])})}});function _k(t){return ki(t)?lo(t):t.toOperationNode()}function md(t){return ao(t)?t.map(e=>wi(e)):[wi(t)]}function wi(t){return Bd(t)?dl(t):_k(t)}function gj(t,e){const r=lo(t);if(nE(e))return ap.create(r,vk.create(aa.create(e)));const n=e.slice(0,-1);if(nE(n))return ap.create(r,Vc.create(aa.create(n)));throw new Error(`Invalid JSON operator: ${e}`)}function lo(t){const e=".";if(!t.includes(e))return Gp.create(sn.create(t));const r=t.split(e).map(X_);if(r.length===3)return _j(r);if(r.length===2)return bj(r);throw new Error(`invalid column reference ${t}`)}function vj(t){const e=" as ";if(t.includes(e)){const[r,n]=t.split(e).map(X_);return ya.create(lo(r),Vr.create(n))}else return lo(t)}function bk(t){return sn.create(t)}function lp(t){const e=" ";if(t.includes(e)){const[r,n]=t.split(e).map(X_);if(!yk(n))throw new Error(`invalid order direction "${n}" next to "${r}"`);return Fd([r,n])[0]}else return bk(t)}function _j(t){const[e,r,n]=t;return Gp.create(sn.create(n),Xo.createWithSchema(e,r))}function bj(t){const[e,r]=t;return Gp.create(sn.create(r),Xo.create(e))}function X_(t){return t.trim()}const wk=A({is(t){return t.kind==="PrimitiveValueListNode"},create(t){return A({kind:"PrimitiveValueListNode",values:A([...t])})}}),Y_=A({is(t){return t.kind==="ValueListNode"},create(t){return A({kind:"ValueListNode",values:A(t)})}}),Rs=A({is(t){return t.kind==="ValueNode"},create(t){return A({kind:"ValueNode",value:t})},createImmediate(t){return A({kind:"ValueNode",value:t,immediate:!0})}});function wj(t){return ao(t)?xj(t):an(t)}function an(t){return Bd(t)?dl(t):Rs.create(t)}function eb(t){return Kp(t)||op(t)||G_(t)}function tb(t){if(!eb(t))throw new Error(`unsafe immediate value ${JSON.stringify(t)}`);return Rs.createImmediate(t)}function xj(t){return t.some(Bd)?Y_.create(t.map(e=>an(e))):wk.create(t)}const wu=A({is(t){return t.kind==="ParensNode"},create(t){return A({kind:"ParensNode",node:t})}});function En(t){if(t.length===3)return rb(t[0],t[1],t[2]);if(t.length===1)return an(t[0]);throw new Error(`invalid arguments: ${JSON.stringify(t)}`)}function rb(t,e,r){return Sj(e)&&xk(r)?bu.create(wi(t),t_(e),Rs.createImmediate(r)):bu.create(wi(t),t_(e),wj(r))}function Os(t,e,r){return bu.create(wi(t),t_(e),wi(r))}function iE(t,e){return up(Object.entries(t).filter(([,r])=>!Jo(r)).map(([r,n])=>rb(r,xk(n)?"is":"=",n)),e)}function up(t,e,r=!0){const n=e==="and"?oa.create:Tu.create;if(t.length===0)return bu.create(Rs.createImmediate(1),aa.create("="),Rs.createImmediate(e==="and"?1:0));let o=sE(t[0]);for(let a=1;a<t.length;++a)o=n(o,sE(t[a]));return t.length>1&&r?wu.create(o):o}function Sj(t){return t==="is"||t==="is not"}function xk(t){return G_(t)||op(t)}function t_(t){if(ki(t)&&pj.includes(t))return aa.create(t);if(ci(t))return t.toOperationNode();throw new Error(`invalid operator ${JSON.stringify(t)}`)}function sE(t){return ci(t)?t.toOperationNode():t}const la=A({is(t){return t.kind==="OrderByNode"},create(t){return A({kind:"OrderByNode",items:A([...t])})},cloneWithItems(t,e){return A({...t,items:A([...t.items,...e])})}}),oE=A({is(t){return t.kind==="PartitionByNode"},create(t){return A({kind:"PartitionByNode",items:A(t)})},cloneWithItems(t,e){return A({...t,items:A([...t.items,...e])})}}),r_=A({is(t){return t.kind==="OverNode"},create(){return A({kind:"OverNode"})},cloneWithOrderByItems(t,e){return A({...t,orderBy:t.orderBy?la.cloneWithItems(t.orderBy,e):la.create(e)})},cloneWithPartitionByItems(t,e){return A({...t,partitionBy:t.partitionBy?oE.cloneWithItems(t.partitionBy,e):oE.create(e)})}}),cp=A({is(t){return t.kind==="FromNode"},create(t){return A({kind:"FromNode",froms:A(t)})},cloneWithFroms(t,e){return A({...t,froms:A([...t.froms,...e])})}}),aE=A({is(t){return t.kind==="GroupByNode"},create(t){return A({kind:"GroupByNode",items:A(t)})},cloneWithItems(t,e){return A({...t,items:A([...t.items,...e])})}}),lE=A({is(t){return t.kind==="HavingNode"},create(t){return A({kind:"HavingNode",having:t})},cloneWithOperation(t,e,r){return A({...t,having:e==="And"?oa.create(t.having,r):Tu.create(t.having,r)})}}),Er=A({is(t){return t.kind==="SelectQueryNode"},create(t){return A({kind:"SelectQueryNode",...t&&{with:t}})},createFrom(t,e){return A({kind:"SelectQueryNode",from:cp.create(t),...e&&{with:e}})},cloneWithSelections(t,e){return A({...t,selections:t.selections?A([...t.selections,...e]):A(e)})},cloneWithDistinctOn(t,e){return A({...t,distinctOn:t.distinctOn?A([...t.distinctOn,...e]):A(e)})},cloneWithFrontModifier(t,e){return A({...t,frontModifiers:t.frontModifiers?A([...t.frontModifiers,e]):A([e])})},cloneWithOrderByItems(t,e){return A({...t,orderBy:t.orderBy?la.cloneWithItems(t.orderBy,e):la.create(e)})},cloneWithGroupByItems(t,e){return A({...t,groupBy:t.groupBy?aE.cloneWithItems(t.groupBy,e):aE.create(e)})},cloneWithLimit(t,e){return A({...t,limit:e})},cloneWithOffset(t,e){return A({...t,offset:e})},cloneWithFetch(t,e){return A({...t,fetch:e})},cloneWithHaving(t,e){return A({...t,having:t.having?lE.cloneWithOperation(t.having,"And",e):lE.create(e)})},cloneWithSetOperations(t,e){return A({...t,setOperations:t.setOperations?A([...t.setOperations,...e]):A([...e])})},cloneWithoutSelections(t){return A({...t,selections:[]})},cloneWithoutLimit(t){return A({...t,limit:void 0})},cloneWithoutOffset(t){return A({...t,offset:void 0})},cloneWithoutOrderBy(t){return A({...t,orderBy:void 0})},cloneWithoutGroupBy(t){return A({...t,groupBy:void 0})}});function sr(t,e){Object.defineProperties(t.prototype,{then:{enumerable:!1,value:()=>{throw new Error(e)}}})}class su{#e;constructor(e){this.#e=A(e)}on(...e){return new su({...this.#e,joinNode:zc.cloneWithOn(this.#e.joinNode,En(e))})}onRef(e,r,n){return new su({...this.#e,joinNode:zc.cloneWithOn(this.#e.joinNode,Os(e,r,n))})}onTrue(){return new su({...this.#e,joinNode:zc.cloneWithOn(this.#e.joinNode,Tn.createWithSql("true"))})}$call(e){return e(this)}toOperationNode(){return this.#e.joinNode}}sr(su,"don't await JoinBuilder instances. They are never executed directly and are always just a part of a query.");const Ej=A({is(t){return t.kind==="PartitionByItemNode"},create(t){return A({kind:"PartitionByItemNode",partitionBy:t})}});function Nj(t){return md(t).map(Ej.create)}class yd{#e;constructor(e){this.#e=A(e)}orderBy(e,r){return new yd({overNode:r_.cloneWithOrderByItems(this.#e.overNode,Fd([e,r]))})}partitionBy(e){return new yd({overNode:r_.cloneWithPartitionByItems(this.#e.overNode,Nj(e))})}$call(e){return e(this)}toOperationNode(){return this.#e.overNode}}sr(yd,"don't await OverBuilder instances. They are never executed directly and are always just a part of a query.");const Hc=A({is(t){return t.kind==="SelectionNode"},create(t){return A({kind:"SelectionNode",selection:t})},createSelectAll(){return A({kind:"SelectionNode",selection:Z_.create()})},createSelectAllFromTable(t){return A({kind:"SelectionNode",selection:Gp.createSelectAll(t)})}});function os(t){return Ci(t)?os(t(Iu())):ao(t)?t.map(e=>uE(e)):[uE(t)]}function uE(t){return ki(t)?Hc.create(vj(t)):mk(t)?Hc.create(t.toOperationNode()):Hc.create(Fk(t))}function Ts(t){return t?Array.isArray(t)?t.map(cE):[cE(t)]:[Hc.createSelectAll()]}function cE(t){if(ki(t))return Hc.createSelectAllFromTable(tn(t));throw new Error(`invalid value selectAll expression: ${JSON.stringify(t)}`)}const kj=A({is(t){return t.kind==="ValuesNode"},create(t){return A({kind:"ValuesNode",values:A(t)})}}),qj=A({is(t){return t.kind==="DefaultInsertValueNode"},create(){return A({kind:"DefaultInsertValueNode"})}});function Sk(t){const e=Ci(t)?t(Iu()):t,r=ao(e)?e:A([e]);return Cj(r)}function Cj(t){const e=Rj(t);return[A([...e.keys()].map(sn.create)),kj.create(t.map(r=>Oj(r,e)))]}function Rj(t){const e=new Map;for(const r of t){const n=Object.keys(r);for(const o of n)!e.has(o)&&r[o]!==void 0&&e.set(o,e.size)}return e}function Oj(t,e){const r=Object.keys(t),n=Array.from({length:e.size});let o=!1;for(const l of r){const c=e.get(l);if(Jo(c))continue;const p=t[l];(Jo(p)||Bd(p))&&(o=!0),n[c]=p}if(r.length<e.size||o){const l=qj.create();return Y_.create(n.map(c=>Jo(c)?l:an(c)))}return wk.create(n)}const gi=A({is(t){return t.kind==="InsertQueryNode"},create(t,e,r){return A({kind:"InsertQueryNode",into:t,...e&&{with:e},replace:r})},createWithoutInto(){return A({kind:"InsertQueryNode"})},cloneWith(t,e){return A({...t,...e})}}),ou=A({is(t){return t.kind==="UpdateQueryNode"},create(t,e){return A({kind:"UpdateQueryNode",table:t,...e&&{with:e}})},createWithoutTable(){return A({kind:"UpdateQueryNode"})},cloneWithFromItems(t,e){return A({...t,from:t.from?cp.cloneWithFroms(t.from,e):cp.create(e)})},cloneWithUpdates(t,e){return A({...t,updates:t.updates?A([...t.updates,...e]):e})},cloneWithLimit(t,e){return A({...t,limit:e})}}),dE=A({is(t){return t.kind==="UsingNode"},create(t){return A({kind:"UsingNode",tables:A(t)})},cloneWithTables(t,e){return A({...t,tables:A([...t.tables,...e])})}}),$a=A({is(t){return t.kind==="DeleteQueryNode"},create(t,e){return A({kind:"DeleteQueryNode",from:cp.create(t),...e&&{with:e}})},cloneWithOrderByItems(t,e){return A({...t,orderBy:t.orderBy?la.cloneWithItems(t.orderBy,e):la.create(e)})},cloneWithoutOrderBy(t){return A({...t,orderBy:void 0})},cloneWithLimit(t,e){return A({...t,limit:e})},cloneWithoutLimit(t){return A({...t,limit:void 0})},cloneWithUsing(t,e){return A({...t,using:t.using!==void 0?dE.cloneWithTables(t.using,e):dE.create(e)})}}),ri=A({is(t){return t.kind==="WhereNode"},create(t){return A({kind:"WhereNode",where:t})},cloneWithOperation(t,e,r){return A({...t,where:e==="And"?oa.create(t.where,r):Tu.create(t.where,r)})}}),fE=A({is(t){return t.kind==="ReturningNode"},create(t){return A({kind:"ReturningNode",selections:A(t)})},cloneWithSelections(t,e){return A({...t,selections:t.selections?A([...t.selections,...e]):A(e)})}}),Tj=A({is(t){return t.kind==="ExplainNode"},create(t,e){return A({kind:"ExplainNode",format:t,options:e})}}),Ld=A({is(t){return t.kind==="WhenNode"},create(t){return A({kind:"WhenNode",condition:t})},cloneWithResult(t,e){return A({...t,result:e})}}),si=A({is(t){return t.kind==="MergeQueryNode"},create(t,e){return A({kind:"MergeQueryNode",into:t,...e&&{with:e}})},cloneWithUsing(t,e){return A({...t,using:e})},cloneWithWhen(t,e){return A({...t,whens:t.whens?A([...t.whens,e]):A([e])})},cloneWithThen(t,e){return A({...t,whens:t.whens?A([...t.whens.slice(0,-1),Ld.cloneWithResult(t.whens[t.whens.length-1],e)]):void 0})}}),hE=A({is(t){return t.kind==="OutputNode"},create(t){return A({kind:"OutputNode",selections:A(t)})},cloneWithSelections(t,e){return A({...t,selections:t.selections?A([...t.selections,...e]):A(e)})}}),Ct=A({is(t){return Er.is(t)||gi.is(t)||ou.is(t)||$a.is(t)||si.is(t)},cloneWithEndModifier(t,e){return A({...t,endModifiers:t.endModifiers?A([...t.endModifiers,e]):A([e])})},cloneWithWhere(t,e){return A({...t,where:t.where?ri.cloneWithOperation(t.where,"And",e):ri.create(e)})},cloneWithJoin(t,e){return A({...t,joins:t.joins?A([...t.joins,e]):A([e])})},cloneWithReturning(t,e){return A({...t,returning:t.returning?fE.cloneWithSelections(t.returning,e):fE.create(e)})},cloneWithoutReturning(t){return A({...t,returning:void 0})},cloneWithoutWhere(t){return A({...t,where:void 0})},cloneWithExplain(t,e,r){return A({...t,explain:Tj.create(e,r?.toOperationNode())})},cloneWithTop(t,e){return A({...t,top:e})},cloneWithOutput(t,e){return A({...t,output:t.output?hE.cloneWithSelections(t.output,e):hE.create(e)})}}),Ek=A({is(t){return t.kind==="ColumnUpdateNode"},create(t,e){return A({kind:"ColumnUpdateNode",column:t,value:e})}});function Aj(...t){return t.length===2?[Ek.create(wi(t[0]),an(t[1]))]:nb(t[0])}function nb(t){const e=Ci(t)?t(Iu()):t;return Object.entries(e).filter(([r,n])=>n!==void 0).map(([r,n])=>Ek.create(sn.create(r),an(n)))}const Ij=A({is(t){return t.kind==="OnDuplicateKeyNode"},create(t){return A({kind:"OnDuplicateKeyNode",updates:t})}});class Pj{insertId;numInsertedOrUpdatedRows;constructor(e,r){this.insertId=e,this.numInsertedOrUpdatedRows=r}}class jd extends Error{node;constructor(e){super("no result"),this.node=e}}function Dd(t){return Object.prototype.hasOwnProperty.call(t,"prototype")}const mi=A({is(t){return t.kind==="OnConflictNode"},create(){return A({kind:"OnConflictNode"})},cloneWith(t,e){return A({...t,...e})},cloneWithIndexWhere(t,e){return A({...t,indexWhere:t.indexWhere?ri.cloneWithOperation(t.indexWhere,"And",e):ri.create(e)})},cloneWithIndexOrWhere(t,e){return A({...t,indexWhere:t.indexWhere?ri.cloneWithOperation(t.indexWhere,"Or",e):ri.create(e)})},cloneWithUpdateWhere(t,e){return A({...t,updateWhere:t.updateWhere?ri.cloneWithOperation(t.updateWhere,"And",e):ri.create(e)})},cloneWithUpdateOrWhere(t,e){return A({...t,updateWhere:t.updateWhere?ri.cloneWithOperation(t.updateWhere,"Or",e):ri.create(e)})},cloneWithoutIndexWhere(t){return A({...t,indexWhere:void 0})},cloneWithoutUpdateWhere(t){return A({...t,updateWhere:void 0})}});class vs{#e;constructor(e){this.#e=A(e)}column(e){const r=sn.create(e);return new vs({...this.#e,onConflictNode:mi.cloneWith(this.#e.onConflictNode,{columns:this.#e.onConflictNode.columns?A([...this.#e.onConflictNode.columns,r]):A([r])})})}columns(e){const r=e.map(sn.create);return new vs({...this.#e,onConflictNode:mi.cloneWith(this.#e.onConflictNode,{columns:this.#e.onConflictNode.columns?A([...this.#e.onConflictNode.columns,...r]):A(r)})})}constraint(e){return new vs({...this.#e,onConflictNode:mi.cloneWith(this.#e.onConflictNode,{constraint:Vr.create(e)})})}expression(e){return new vs({...this.#e,onConflictNode:mi.cloneWith(this.#e.onConflictNode,{indexExpression:e.toOperationNode()})})}where(...e){return new vs({...this.#e,onConflictNode:mi.cloneWithIndexWhere(this.#e.onConflictNode,En(e))})}whereRef(e,r,n){return new vs({...this.#e,onConflictNode:mi.cloneWithIndexWhere(this.#e.onConflictNode,Os(e,r,n))})}clearWhere(){return new vs({...this.#e,onConflictNode:mi.cloneWithoutIndexWhere(this.#e.onConflictNode)})}doNothing(){return new Nk({...this.#e,onConflictNode:mi.cloneWith(this.#e.onConflictNode,{doNothing:!0})})}doUpdateSet(e){return new au({...this.#e,onConflictNode:mi.cloneWith(this.#e.onConflictNode,{updates:nb(e)})})}$call(e){return e(this)}}sr(vs,"don't await OnConflictBuilder instances.");class Nk{#e;constructor(e){this.#e=A(e)}toOperationNode(){return this.#e.onConflictNode}}sr(Nk,"don't await OnConflictDoNothingBuilder instances.");class au{#e;constructor(e){this.#e=A(e)}where(...e){return new au({...this.#e,onConflictNode:mi.cloneWithUpdateWhere(this.#e.onConflictNode,En(e))})}whereRef(e,r,n){return new au({...this.#e,onConflictNode:mi.cloneWithUpdateWhere(this.#e.onConflictNode,Os(e,r,n))})}clearWhere(){return new au({...this.#e,onConflictNode:mi.cloneWithoutUpdateWhere(this.#e.onConflictNode)})}$call(e){return e(this)}toOperationNode(){return this.#e.onConflictNode}}sr(au,"don't await OnConflictUpdateBuilder instances.");const Fj=A({is(t){return t.kind==="TopNode"},create(t,e){return A({kind:"TopNode",expression:t,modifiers:e})}});function Au(t,e){if(!Kp(t)&&!J_(t))throw new Error(`Invalid top expression: ${t}`);if(!Jo(e)&&!Lj(e))throw new Error(`Invalid top modifiers: ${e}`);return Fj.create(t,e)}function Lj(t){return t==="percent"||t==="with ties"||t==="percent with ties"}class Wr{#e;constructor(e){this.#e=A(e)}values(e){const[r,n]=Sk(e);return new Wr({...this.#e,queryNode:gi.cloneWith(this.#e.queryNode,{columns:r,values:n})})}columns(e){return new Wr({...this.#e,queryNode:gi.cloneWith(this.#e.queryNode,{columns:A(e.map(sn.create))})})}expression(e){return new Wr({...this.#e,queryNode:gi.cloneWith(this.#e.queryNode,{values:dl(e)})})}defaultValues(){return new Wr({...this.#e,queryNode:gi.cloneWith(this.#e.queryNode,{defaultValues:!0})})}modifyEnd(e){return new Wr({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}ignore(){return new Wr({...this.#e,queryNode:gi.cloneWith(this.#e.queryNode,{ignore:!0})})}top(e,r){return new Wr({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,Au(e,r))})}onConflict(e){return new Wr({...this.#e,queryNode:gi.cloneWith(this.#e.queryNode,{onConflict:e(new vs({onConflictNode:mi.create()})).toOperationNode()})})}onDuplicateKeyUpdate(e){return new Wr({...this.#e,queryNode:gi.cloneWith(this.#e.queryNode,{onDuplicateKey:Ij.create(nb(e))})})}returning(e){return new Wr({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,os(e))})}returningAll(){return new Wr({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,Ts())})}output(e){return new Wr({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,os(e))})}outputAll(e){return new Wr({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,Ts(e))})}clearReturning(){return new Wr({...this.#e,queryNode:Ct.cloneWithoutReturning(this.#e.queryNode)})}$call(e){return e(this)}$if(e,r){return e?r(this):new Wr({...this.#e})}$castTo(){return new Wr(this.#e)}$narrowType(){return new Wr(this.#e)}$assertType(){return new Wr(this.#e)}withPlugin(e){return new Wr({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),r=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:n}=this.#e.executor,o=e.query;return o.returning&&n.supportsReturning||o.output&&n.supportsOutput?r.rows:[new Pj(r.insertId,r.numAffectedRows??r.numUpdatedOrDeletedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=jd){const r=await this.executeTakeFirst();if(r===void 0)throw Dd(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async *stream(e=100){const r=this.compile(),n=this.#e.executor.stream(r,e,this.#e.queryId);for await(const o of n)yield*o.rows}async explain(e,r){return await new Wr({...this.#e,queryNode:Ct.cloneWithExplain(this.#e.queryNode,e,r)}).execute()}}sr(Wr,"don't await InsertQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class jj{numDeletedRows;constructor(e){this.numDeletedRows=e}}const ib=A({is(t){return t.kind==="LimitNode"},create(t){return A({kind:"LimitNode",limit:t})}});class Sr{#e;constructor(e){this.#e=A(e)}where(...e){return new Sr({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,En(e))})}whereRef(e,r,n){return new Sr({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,Os(e,r,n))})}clearWhere(){return new Sr({...this.#e,queryNode:Ct.cloneWithoutWhere(this.#e.queryNode)})}top(e,r){return new Sr({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,Au(e,r))})}using(e){return new Sr({...this.#e,queryNode:$a.cloneWithUsing(this.#e.queryNode,_d(e))})}innerJoin(...e){return new Sr({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Mn("InnerJoin",e))})}leftJoin(...e){return new Sr({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Mn("LeftJoin",e))})}rightJoin(...e){return new Sr({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Mn("RightJoin",e))})}fullJoin(...e){return new Sr({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Mn("FullJoin",e))})}returning(e){return new Sr({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,os(e))})}returningAll(e){return new Sr({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,Ts(e))})}output(e){return new Sr({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,os(e))})}outputAll(e){return new Sr({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,Ts(e))})}clearReturning(){return new Sr({...this.#e,queryNode:Ct.cloneWithoutReturning(this.#e.queryNode)})}clearLimit(){return new Sr({...this.#e,queryNode:$a.cloneWithoutLimit(this.#e.queryNode)})}clearOrderBy(){return new Sr({...this.#e,queryNode:$a.cloneWithoutOrderBy(this.#e.queryNode)})}orderBy(e,r){return new Sr({...this.#e,queryNode:$a.cloneWithOrderByItems(this.#e.queryNode,Fd([e,r]))})}limit(e){return new Sr({...this.#e,queryNode:$a.cloneWithLimit(this.#e.queryNode,ib.create(an(e)))})}modifyEnd(e){return new Sr({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}$call(e){return e(this)}$if(e,r){return e?r(this):new Sr({...this.#e})}$castTo(){return new Sr(this.#e)}$narrowType(){return new Sr(this.#e)}$assertType(){return new Sr(this.#e)}withPlugin(e){return new Sr({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),r=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:n}=this.#e.executor,o=e.query;return o.returning&&n.supportsReturning||o.output&&n.supportsOutput?r.rows:[new jj(r.numAffectedRows??r.numUpdatedOrDeletedRows??BigInt(0))]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=jd){const r=await this.executeTakeFirst();if(r===void 0)throw Dd(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async *stream(e=100){const r=this.compile(),n=this.#e.executor.stream(r,e,this.#e.queryId);for await(const o of n)yield*o.rows}async explain(e,r){return await new Sr({...this.#e,queryNode:Ct.cloneWithExplain(this.#e.queryNode,e,r)}).execute()}}sr(Sr,"don't await DeleteQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class Dj{numUpdatedRows;numChangedRows;constructor(e,r){this.numUpdatedRows=e,this.numChangedRows=r}}class Or{#e;constructor(e){this.#e=A(e)}where(...e){return new Or({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,En(e))})}whereRef(e,r,n){return new Or({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,Os(e,r,n))})}clearWhere(){return new Or({...this.#e,queryNode:Ct.cloneWithoutWhere(this.#e.queryNode)})}top(e,r){return new Or({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,Au(e,r))})}from(e){return new Or({...this.#e,queryNode:ou.cloneWithFromItems(this.#e.queryNode,_d(e))})}innerJoin(...e){return new Or({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Mn("InnerJoin",e))})}leftJoin(...e){return new Or({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Mn("LeftJoin",e))})}rightJoin(...e){return new Or({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Mn("RightJoin",e))})}fullJoin(...e){return new Or({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Mn("FullJoin",e))})}limit(e){return new Or({...this.#e,queryNode:ou.cloneWithLimit(this.#e.queryNode,ib.create(an(e)))})}set(...e){return new Or({...this.#e,queryNode:ou.cloneWithUpdates(this.#e.queryNode,Aj(...e))})}returning(e){return new Or({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,os(e))})}returningAll(e){return new Or({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,Ts(e))})}output(e){return new Or({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,os(e))})}outputAll(e){return new Or({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,Ts(e))})}modifyEnd(e){return new Or({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}clearReturning(){return new Or({...this.#e,queryNode:Ct.cloneWithoutReturning(this.#e.queryNode)})}$call(e){return e(this)}$if(e,r){return e?r(this):new Or({...this.#e})}$castTo(){return new Or(this.#e)}$narrowType(){return new Or(this.#e)}$assertType(){return new Or(this.#e)}withPlugin(e){return new Or({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),r=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:n}=this.#e.executor,o=e.query;return o.returning&&n.supportsReturning||o.output&&n.supportsOutput?r.rows:[new Dj(r.numAffectedRows??r.numUpdatedOrDeletedRows??BigInt(0),r.numChangedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=jd){const r=await this.executeTakeFirst();if(r===void 0)throw Dd(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async *stream(e=100){const r=this.compile(),n=this.#e.executor.stream(r,e,this.#e.queryId);for await(const o of n)yield*o.rows}async explain(e,r){return await new Or({...this.#e,queryNode:Ct.cloneWithExplain(this.#e.queryNode,e,r)}).execute()}}sr(Or,"don't await UpdateQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");const pE=A({is(t){return t.kind==="CommonTableExpressionNameNode"},create(t,e){return A({kind:"CommonTableExpressionNameNode",table:Xo.create(t),columns:e?A(e.map(sn.create)):void 0})}}),dp=A({is(t){return t.kind==="CommonTableExpressionNode"},create(t,e){return A({kind:"CommonTableExpressionNode",name:t,expression:e})},cloneWith(t,e){return A({...t,...e})}});class gd{#e;constructor(e){this.#e=A(e)}materialized(){return new gd({...this.#e,node:dp.cloneWith(this.#e.node,{materialized:!0})})}notMaterialized(){return new gd({...this.#e,node:dp.cloneWith(this.#e.node,{materialized:!1})})}toOperationNode(){return this.#e.node}}sr(gd,"don't await CTEBuilder instances. They are never executed directly and are always just a part of a query.");function mE(t,e){const r=e(Jj()).toOperationNode();return Ci(t)?t(Mj(r)).toOperationNode():dp.create(kk(t),r)}function Mj(t){return e=>new gd({node:dp.create(kk(e),t)})}function kk(t){if(t.includes("(")){const e=t.split(/[\(\)]/),r=e[0],n=e[1].split(",").map(o=>o.trim());return pE.create(r,n)}else return pE.create(t)}const ch=A({is(t){return t.kind==="WithNode"},create(t,e){return A({kind:"WithNode",expressions:A([t]),...e})},cloneWithExpression(t,e){return A({...t,expressions:A([...t.expressions,e])})}}),yE=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"];function Bj(t){let e="";for(let r=0;r<t;++r)e+=Wj();return e}function Wj(){return yE[~~(Math.random()*yE.length)]}function kr(){return new $j}class $j{#e;get queryId(){return this.#e===void 0&&(this.#e=Bj(8)),this.#e}}class qk{nodeStack=[];#e=A({AliasNode:this.transformAlias.bind(this),ColumnNode:this.transformColumn.bind(this),IdentifierNode:this.transformIdentifier.bind(this),SchemableIdentifierNode:this.transformSchemableIdentifier.bind(this),RawNode:this.transformRaw.bind(this),ReferenceNode:this.transformReference.bind(this),SelectQueryNode:this.transformSelectQuery.bind(this),SelectionNode:this.transformSelection.bind(this),TableNode:this.transformTable.bind(this),FromNode:this.transformFrom.bind(this),SelectAllNode:this.transformSelectAll.bind(this),AndNode:this.transformAnd.bind(this),OrNode:this.transformOr.bind(this),ValueNode:this.transformValue.bind(this),ValueListNode:this.transformValueList.bind(this),PrimitiveValueListNode:this.transformPrimitiveValueList.bind(this),ParensNode:this.transformParens.bind(this),JoinNode:this.transformJoin.bind(this),OperatorNode:this.transformOperator.bind(this),WhereNode:this.transformWhere.bind(this),InsertQueryNode:this.transformInsertQuery.bind(this),DeleteQueryNode:this.transformDeleteQuery.bind(this),ReturningNode:this.transformReturning.bind(this),CreateTableNode:this.transformCreateTable.bind(this),AddColumnNode:this.transformAddColumn.bind(this),ColumnDefinitionNode:this.transformColumnDefinition.bind(this),DropTableNode:this.transformDropTable.bind(this),DataTypeNode:this.transformDataType.bind(this),OrderByNode:this.transformOrderBy.bind(this),OrderByItemNode:this.transformOrderByItem.bind(this),GroupByNode:this.transformGroupBy.bind(this),GroupByItemNode:this.transformGroupByItem.bind(this),UpdateQueryNode:this.transformUpdateQuery.bind(this),ColumnUpdateNode:this.transformColumnUpdate.bind(this),LimitNode:this.transformLimit.bind(this),OffsetNode:this.transformOffset.bind(this),OnConflictNode:this.transformOnConflict.bind(this),OnDuplicateKeyNode:this.transformOnDuplicateKey.bind(this),CreateIndexNode:this.transformCreateIndex.bind(this),DropIndexNode:this.transformDropIndex.bind(this),ListNode:this.transformList.bind(this),PrimaryKeyConstraintNode:this.transformPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.transformUniqueConstraint.bind(this),ReferencesNode:this.transformReferences.bind(this),CheckConstraintNode:this.transformCheckConstraint.bind(this),WithNode:this.transformWith.bind(this),CommonTableExpressionNode:this.transformCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.transformCommonTableExpressionName.bind(this),HavingNode:this.transformHaving.bind(this),CreateSchemaNode:this.transformCreateSchema.bind(this),DropSchemaNode:this.transformDropSchema.bind(this),AlterTableNode:this.transformAlterTable.bind(this),DropColumnNode:this.transformDropColumn.bind(this),RenameColumnNode:this.transformRenameColumn.bind(this),AlterColumnNode:this.transformAlterColumn.bind(this),ModifyColumnNode:this.transformModifyColumn.bind(this),AddConstraintNode:this.transformAddConstraint.bind(this),DropConstraintNode:this.transformDropConstraint.bind(this),ForeignKeyConstraintNode:this.transformForeignKeyConstraint.bind(this),CreateViewNode:this.transformCreateView.bind(this),DropViewNode:this.transformDropView.bind(this),GeneratedNode:this.transformGenerated.bind(this),DefaultValueNode:this.transformDefaultValue.bind(this),OnNode:this.transformOn.bind(this),ValuesNode:this.transformValues.bind(this),SelectModifierNode:this.transformSelectModifier.bind(this),CreateTypeNode:this.transformCreateType.bind(this),DropTypeNode:this.transformDropType.bind(this),ExplainNode:this.transformExplain.bind(this),DefaultInsertValueNode:this.transformDefaultInsertValue.bind(this),AggregateFunctionNode:this.transformAggregateFunction.bind(this),OverNode:this.transformOver.bind(this),PartitionByNode:this.transformPartitionBy.bind(this),PartitionByItemNode:this.transformPartitionByItem.bind(this),SetOperationNode:this.transformSetOperation.bind(this),BinaryOperationNode:this.transformBinaryOperation.bind(this),UnaryOperationNode:this.transformUnaryOperation.bind(this),UsingNode:this.transformUsing.bind(this),FunctionNode:this.transformFunction.bind(this),CaseNode:this.transformCase.bind(this),WhenNode:this.transformWhen.bind(this),JSONReferenceNode:this.transformJSONReference.bind(this),JSONPathNode:this.transformJSONPath.bind(this),JSONPathLegNode:this.transformJSONPathLeg.bind(this),JSONOperatorChainNode:this.transformJSONOperatorChain.bind(this),TupleNode:this.transformTuple.bind(this),MergeQueryNode:this.transformMergeQuery.bind(this),MatchedNode:this.transformMatched.bind(this),AddIndexNode:this.transformAddIndex.bind(this),CastNode:this.transformCast.bind(this),FetchNode:this.transformFetch.bind(this),TopNode:this.transformTop.bind(this),OutputNode:this.transformOutput.bind(this)});transformNode(e){if(!e)return e;this.nodeStack.push(e);const r=this.transformNodeImpl(e);return this.nodeStack.pop(),A(r)}transformNodeImpl(e){return this.#e[e.kind](e)}transformNodeList(e){return e&&A(e.map(r=>this.transformNode(r)))}transformSelectQuery(e){return{kind:"SelectQueryNode",from:this.transformNode(e.from),selections:this.transformNodeList(e.selections),distinctOn:this.transformNodeList(e.distinctOn),joins:this.transformNodeList(e.joins),groupBy:this.transformNode(e.groupBy),orderBy:this.transformNode(e.orderBy),where:this.transformNode(e.where),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),limit:this.transformNode(e.limit),offset:this.transformNode(e.offset),with:this.transformNode(e.with),having:this.transformNode(e.having),explain:this.transformNode(e.explain),setOperations:this.transformNodeList(e.setOperations),fetch:this.transformNode(e.fetch),top:this.transformNode(e.top)}}transformSelection(e){return{kind:"SelectionNode",selection:this.transformNode(e.selection)}}transformColumn(e){return{kind:"ColumnNode",column:this.transformNode(e.column)}}transformAlias(e){return{kind:"AliasNode",node:this.transformNode(e.node),alias:this.transformNode(e.alias)}}transformTable(e){return{kind:"TableNode",table:this.transformNode(e.table)}}transformFrom(e){return{kind:"FromNode",froms:this.transformNodeList(e.froms)}}transformReference(e){return{kind:"ReferenceNode",column:this.transformNode(e.column),table:this.transformNode(e.table)}}transformAnd(e){return{kind:"AndNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformOr(e){return{kind:"OrNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformValueList(e){return{kind:"ValueListNode",values:this.transformNodeList(e.values)}}transformParens(e){return{kind:"ParensNode",node:this.transformNode(e.node)}}transformJoin(e){return{kind:"JoinNode",joinType:e.joinType,table:this.transformNode(e.table),on:this.transformNode(e.on)}}transformRaw(e){return{kind:"RawNode",sqlFragments:A([...e.sqlFragments]),parameters:this.transformNodeList(e.parameters)}}transformWhere(e){return{kind:"WhereNode",where:this.transformNode(e.where)}}transformInsertQuery(e){return{kind:"InsertQueryNode",into:this.transformNode(e.into),columns:this.transformNodeList(e.columns),values:this.transformNode(e.values),returning:this.transformNode(e.returning),onConflict:this.transformNode(e.onConflict),onDuplicateKey:this.transformNode(e.onDuplicateKey),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),ignore:e.ignore,replace:e.replace,explain:this.transformNode(e.explain),defaultValues:e.defaultValues,top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformValues(e){return{kind:"ValuesNode",values:this.transformNodeList(e.values)}}transformDeleteQuery(e){return{kind:"DeleteQueryNode",from:this.transformNode(e.from),using:this.transformNode(e.using),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),returning:this.transformNode(e.returning),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),orderBy:this.transformNode(e.orderBy),limit:this.transformNode(e.limit),explain:this.transformNode(e.explain),top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformReturning(e){return{kind:"ReturningNode",selections:this.transformNodeList(e.selections)}}transformCreateTable(e){return{kind:"CreateTableNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),constraints:this.transformNodeList(e.constraints),temporary:e.temporary,ifNotExists:e.ifNotExists,onCommit:e.onCommit,frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),selectQuery:this.transformNode(e.selectQuery)}}transformColumnDefinition(e){return{kind:"ColumnDefinitionNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),references:this.transformNode(e.references),primaryKey:e.primaryKey,autoIncrement:e.autoIncrement,unique:e.unique,notNull:e.notNull,unsigned:e.unsigned,defaultTo:this.transformNode(e.defaultTo),check:this.transformNode(e.check),generated:this.transformNode(e.generated),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),nullsNotDistinct:e.nullsNotDistinct,identity:e.identity,ifNotExists:e.ifNotExists}}transformAddColumn(e){return{kind:"AddColumnNode",column:this.transformNode(e.column)}}transformDropTable(e){return{kind:"DropTableNode",table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformOrderBy(e){return{kind:"OrderByNode",items:this.transformNodeList(e.items)}}transformOrderByItem(e){return{kind:"OrderByItemNode",orderBy:this.transformNode(e.orderBy),direction:this.transformNode(e.direction)}}transformGroupBy(e){return{kind:"GroupByNode",items:this.transformNodeList(e.items)}}transformGroupByItem(e){return{kind:"GroupByItemNode",groupBy:this.transformNode(e.groupBy)}}transformUpdateQuery(e){return{kind:"UpdateQueryNode",table:this.transformNode(e.table),from:this.transformNode(e.from),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),updates:this.transformNodeList(e.updates),returning:this.transformNode(e.returning),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),explain:this.transformNode(e.explain),limit:this.transformNode(e.limit),top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformColumnUpdate(e){return{kind:"ColumnUpdateNode",column:this.transformNode(e.column),value:this.transformNode(e.value)}}transformLimit(e){return{kind:"LimitNode",limit:this.transformNode(e.limit)}}transformOffset(e){return{kind:"OffsetNode",offset:this.transformNode(e.offset)}}transformOnConflict(e){return{kind:"OnConflictNode",columns:this.transformNodeList(e.columns),constraint:this.transformNode(e.constraint),indexExpression:this.transformNode(e.indexExpression),indexWhere:this.transformNode(e.indexWhere),updates:this.transformNodeList(e.updates),updateWhere:this.transformNode(e.updateWhere),doNothing:e.doNothing}}transformOnDuplicateKey(e){return{kind:"OnDuplicateKeyNode",updates:this.transformNodeList(e.updates)}}transformCreateIndex(e){return{kind:"CreateIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists,where:this.transformNode(e.where),nullsNotDistinct:e.nullsNotDistinct}}transformList(e){return{kind:"ListNode",items:this.transformNodeList(e.items)}}transformDropIndex(e){return{kind:"DropIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformPrimaryKeyConstraint(e){return{kind:"PrimaryKeyConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name)}}transformUniqueConstraint(e){return{kind:"UniqueConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name),nullsNotDistinct:e.nullsNotDistinct}}transformForeignKeyConstraint(e){return{kind:"ForeignKeyConstraintNode",columns:this.transformNodeList(e.columns),references:this.transformNode(e.references),name:this.transformNode(e.name),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformSetOperation(e){return{kind:"SetOperationNode",operator:e.operator,expression:this.transformNode(e.expression),all:e.all}}transformReferences(e){return{kind:"ReferencesNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformCheckConstraint(e){return{kind:"CheckConstraintNode",expression:this.transformNode(e.expression),name:this.transformNode(e.name)}}transformWith(e){return{kind:"WithNode",expressions:this.transformNodeList(e.expressions),recursive:e.recursive}}transformCommonTableExpression(e){return{kind:"CommonTableExpressionNode",name:this.transformNode(e.name),materialized:e.materialized,expression:this.transformNode(e.expression)}}transformCommonTableExpressionName(e){return{kind:"CommonTableExpressionNameNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns)}}transformHaving(e){return{kind:"HavingNode",having:this.transformNode(e.having)}}transformCreateSchema(e){return{kind:"CreateSchemaNode",schema:this.transformNode(e.schema),ifNotExists:e.ifNotExists}}transformDropSchema(e){return{kind:"DropSchemaNode",schema:this.transformNode(e.schema),ifExists:e.ifExists,cascade:e.cascade}}transformAlterTable(e){return{kind:"AlterTableNode",table:this.transformNode(e.table),renameTo:this.transformNode(e.renameTo),setSchema:this.transformNode(e.setSchema),columnAlterations:this.transformNodeList(e.columnAlterations),addConstraint:this.transformNode(e.addConstraint),dropConstraint:this.transformNode(e.dropConstraint),addIndex:this.transformNode(e.addIndex),dropIndex:this.transformNode(e.dropIndex)}}transformDropColumn(e){return{kind:"DropColumnNode",column:this.transformNode(e.column)}}transformRenameColumn(e){return{kind:"RenameColumnNode",column:this.transformNode(e.column),renameTo:this.transformNode(e.renameTo)}}transformAlterColumn(e){return{kind:"AlterColumnNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),dataTypeExpression:this.transformNode(e.dataTypeExpression),setDefault:this.transformNode(e.setDefault),dropDefault:e.dropDefault,setNotNull:e.setNotNull,dropNotNull:e.dropNotNull}}transformModifyColumn(e){return{kind:"ModifyColumnNode",column:this.transformNode(e.column)}}transformAddConstraint(e){return{kind:"AddConstraintNode",constraint:this.transformNode(e.constraint)}}transformDropConstraint(e){return{kind:"DropConstraintNode",constraintName:this.transformNode(e.constraintName),ifExists:e.ifExists,modifier:e.modifier}}transformCreateView(e){return{kind:"CreateViewNode",name:this.transformNode(e.name),temporary:e.temporary,orReplace:e.orReplace,ifNotExists:e.ifNotExists,materialized:e.materialized,columns:this.transformNodeList(e.columns),as:this.transformNode(e.as)}}transformDropView(e){return{kind:"DropViewNode",name:this.transformNode(e.name),ifExists:e.ifExists,materialized:e.materialized,cascade:e.cascade}}transformGenerated(e){return{kind:"GeneratedNode",byDefault:e.byDefault,always:e.always,identity:e.identity,stored:e.stored,expression:this.transformNode(e.expression)}}transformDefaultValue(e){return{kind:"DefaultValueNode",defaultValue:this.transformNode(e.defaultValue)}}transformOn(e){return{kind:"OnNode",on:this.transformNode(e.on)}}transformSelectModifier(e){return{kind:"SelectModifierNode",modifier:e.modifier,rawModifier:this.transformNode(e.rawModifier),of:this.transformNodeList(e.of)}}transformCreateType(e){return{kind:"CreateTypeNode",name:this.transformNode(e.name),enum:this.transformNode(e.enum)}}transformDropType(e){return{kind:"DropTypeNode",name:this.transformNode(e.name),ifExists:e.ifExists}}transformExplain(e){return{kind:"ExplainNode",format:e.format,options:this.transformNode(e.options)}}transformSchemableIdentifier(e){return{kind:"SchemableIdentifierNode",schema:this.transformNode(e.schema),identifier:this.transformNode(e.identifier)}}transformAggregateFunction(e){return{kind:"AggregateFunctionNode",aggregated:this.transformNodeList(e.aggregated),distinct:e.distinct,orderBy:this.transformNode(e.orderBy),filter:this.transformNode(e.filter),func:e.func,over:this.transformNode(e.over)}}transformOver(e){return{kind:"OverNode",orderBy:this.transformNode(e.orderBy),partitionBy:this.transformNode(e.partitionBy)}}transformPartitionBy(e){return{kind:"PartitionByNode",items:this.transformNodeList(e.items)}}transformPartitionByItem(e){return{kind:"PartitionByItemNode",partitionBy:this.transformNode(e.partitionBy)}}transformBinaryOperation(e){return{kind:"BinaryOperationNode",leftOperand:this.transformNode(e.leftOperand),operator:this.transformNode(e.operator),rightOperand:this.transformNode(e.rightOperand)}}transformUnaryOperation(e){return{kind:"UnaryOperationNode",operator:this.transformNode(e.operator),operand:this.transformNode(e.operand)}}transformUsing(e){return{kind:"UsingNode",tables:this.transformNodeList(e.tables)}}transformFunction(e){return{kind:"FunctionNode",func:e.func,arguments:this.transformNodeList(e.arguments)}}transformCase(e){return{kind:"CaseNode",value:this.transformNode(e.value),when:this.transformNodeList(e.when),else:this.transformNode(e.else),isStatement:e.isStatement}}transformWhen(e){return{kind:"WhenNode",condition:this.transformNode(e.condition),result:this.transformNode(e.result)}}transformJSONReference(e){return{kind:"JSONReferenceNode",reference:this.transformNode(e.reference),traversal:this.transformNode(e.traversal)}}transformJSONPath(e){return{kind:"JSONPathNode",inOperator:this.transformNode(e.inOperator),pathLegs:this.transformNodeList(e.pathLegs)}}transformJSONPathLeg(e){return{kind:"JSONPathLegNode",type:e.type,value:e.value}}transformJSONOperatorChain(e){return{kind:"JSONOperatorChainNode",operator:this.transformNode(e.operator),values:this.transformNodeList(e.values)}}transformTuple(e){return{kind:"TupleNode",values:this.transformNodeList(e.values)}}transformMergeQuery(e){return{kind:"MergeQueryNode",into:this.transformNode(e.into),using:this.transformNode(e.using),whens:this.transformNodeList(e.whens),with:this.transformNode(e.with),top:this.transformNode(e.top),endModifiers:this.transformNodeList(e.endModifiers),output:this.transformNode(e.output)}}transformMatched(e){return{kind:"MatchedNode",not:e.not,bySource:e.bySource}}transformAddIndex(e){return{kind:"AddIndexNode",name:this.transformNode(e.name),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists}}transformCast(e){return{kind:"CastNode",expression:this.transformNode(e.expression),dataType:this.transformNode(e.dataType)}}transformFetch(e){return{kind:"FetchNode",rowCount:this.transformNode(e.rowCount),modifier:e.modifier}}transformTop(e){return{kind:"TopNode",expression:e.expression,modifiers:e.modifiers}}transformOutput(e){return{kind:"OutputNode",selections:this.transformNodeList(e.selections)}}transformDataType(e){return e}transformSelectAll(e){return e}transformIdentifier(e){return e}transformValue(e){return e}transformPrimitiveValueList(e){return e}transformOperator(e){return e}transformDefaultInsertValue(e){return e}}const Uj=A({AlterTableNode:!0,CreateIndexNode:!0,CreateSchemaNode:!0,CreateTableNode:!0,CreateTypeNode:!0,CreateViewNode:!0,DeleteQueryNode:!0,DropIndexNode:!0,DropSchemaNode:!0,DropTableNode:!0,DropTypeNode:!0,DropViewNode:!0,InsertQueryNode:!0,RawNode:!0,SelectQueryNode:!0,UpdateQueryNode:!0,MergeQueryNode:!0});class zj extends qk{#e;#t=new Set;#r=new Set;constructor(e){super(),this.#e=e}transformNodeImpl(e){if(!this.#n(e))return super.transformNodeImpl(e);const r=this.#s(e);for(const a of r)this.#r.add(a);const n=this.#i(e);for(const a of n)this.#t.add(a);const o=super.transformNodeImpl(e);for(const a of n)this.#t.delete(a);for(const a of r)this.#r.delete(a);return o}transformSchemableIdentifier(e){const r=super.transformSchemableIdentifier(e);return r.schema||!this.#t.has(e.identifier.name)?r:{...r,schema:Vr.create(this.#e)}}transformReferences(e){const r=super.transformReferences(e);return r.table.table.schema?r:{...r,table:Xo.createWithSchema(this.#e,r.table.table.identifier.name)}}#n(e){return e.kind in Uj}#i(e){const r=new Set;if("name"in e&&e.name&&sa.is(e.name)&&this.#a(e.name,r),"from"in e&&e.from)for(const n of e.from.froms)this.#o(n,r);if("into"in e&&e.into&&this.#o(e.into,r),"table"in e&&e.table&&this.#o(e.table,r),"joins"in e&&e.joins)for(const n of e.joins)this.#o(n.table,r);return"using"in e&&e.using&&this.#o(e.using,r),r}#s(e){const r=new Set;return"with"in e&&e.with&&this.#u(e.with,r),r}#o(e,r){const n=Xo.is(e)?e:ya.is(e)&&Xo.is(e.node)?e.node:null;n&&this.#a(n.table,r)}#a(e,r){const n=e.identifier.name;!this.#t.has(n)&&!this.#r.has(n)&&r.add(n)}#u(e,r){for(const n of e.expressions){const o=n.name.table.table.identifier.name;this.#r.has(o)||r.add(o)}}}class Md{#e;constructor(e){this.#e=new zj(e)}transformQuery(e){return this.#e.transformNode(e.node)}async transformResult(e){return e.result}}const Vj=A({is(t){return t.kind==="MatchedNode"},create(t,e=!1){return A({kind:"MatchedNode",not:t,bySource:e})}});function gE(t,e,r){return Ld.create(up([Vj.create(!t.isMatched,t.bySource),...e&&e.length>0?[e.length===3&&r?Os(e[0],e[1],e[2]):En(e)]:[]],"and",!1))}function Qc(t){return ki(t)?Tn.create([t],[]):ci(t)?t.toOperationNode():t}class vE{#e;#t;#r;constructor(){this.#e=new Promise((e,r)=>{this.#r=r,this.#t=e})}get promise(){return this.#e}resolve=e=>{this.#t&&this.#t(e)};reject=e=>{this.#r&&this.#r(e)}}const _E=new Set;function Hj(t){_E.has(t)||(_E.add(t),console.log(t))}const Qj=A([]);class Ck{#e;constructor(e=Qj){this.#e=e}get plugins(){return this.#e}transformQuery(e,r){for(const n of this.#e){const o=n.transformQuery({node:e,queryId:r});if(o.kind===e.kind)e=o;else throw new Error(["KyselyPlugin.transformQuery must return a node","of the same kind that was given to it.",`The plugin was given a ${e.kind}`,`but it returned a ${o.kind}`].join(" "))}return e}async executeQuery(e,r){return await this.provideConnection(async n=>{const o=await n.executeQuery(e),a=await this.#t(o,r);return Kj(o,a),a})}async *stream(e,r,n){const o=new vE,a=new vE;this.provideConnection(async c=>(o.resolve(c),await a.promise)).catch(c=>o.reject(c));const l=await o.promise;try{for await(const c of l.streamQuery(e,r))yield await this.#t(c,n)}finally{a.resolve()}}async #t(e,r){for(const n of this.#e)e=await n.transformResult({result:e,queryId:r});return e}}function Kj(t,e){const{numAffectedRows:r}=t;r===void 0&&t.numUpdatedOrDeletedRows===void 0||r!==void 0&&e.numAffectedRows!==void 0||Hj("kysely:warning: outdated driver/plugin detected! QueryResult.numUpdatedOrDeletedRows is deprecated and will be removed in a future release.")}class Gl extends Ck{get adapter(){throw new Error("this query cannot be compiled to SQL")}compileQuery(){throw new Error("this query cannot be compiled to SQL")}provideConnection(){throw new Error("this query cannot be executed")}withConnectionProvider(){throw new Error("this query cannot have a connection provider")}withPlugin(e){return new Gl([...this.plugins,e])}withPlugins(e){return new Gl([...this.plugins,...e])}withPluginAtFront(e){return new Gl([e,...this.plugins])}withoutPlugins(){return new Gl([])}}const Jp=new Gl;class Gj{numChangedRows;constructor(e){this.numChangedRows=e}}class Qa{#e;constructor(e){this.#e=A(e)}modifyEnd(e){return new Qa({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}top(e,r){return new Qa({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,Au(e,r))})}using(...e){return new xi({...this.#e,queryNode:si.cloneWithUsing(this.#e.queryNode,Mn("Using",e))})}output(e){return new Qa({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,os(e))})}outputAll(e){return new Qa({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,Ts(e))})}}sr(Qa,"don't await MergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class xi{#e;constructor(e){this.#e=A(e)}modifyEnd(e){return new xi({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}top(e,r){return new xi({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,Au(e,r))})}whenMatched(){return this.#t([])}whenMatchedAnd(...e){return this.#t(e)}whenMatchedAndRef(e,r,n){return this.#t([e,r,n],!0)}#t(e,r){return new n_({...this.#e,queryNode:si.cloneWithWhen(this.#e.queryNode,gE({isMatched:!0},e,r))})}whenNotMatched(){return this.#r([])}whenNotMatchedAnd(...e){return this.#r(e)}whenNotMatchedAndRef(e,r,n){return this.#r([e,r,n],!0)}whenNotMatchedBySource(){return this.#r([],!1,!0)}whenNotMatchedBySourceAnd(...e){return this.#r(e,!1,!0)}whenNotMatchedBySourceAndRef(e,r,n){return this.#r([e,r,n],!0,!0)}output(e){return new xi({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,os(e))})}outputAll(e){return new xi({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,Ts(e))})}#r(e,r=!1,n=!1){const o={...this.#e,queryNode:si.cloneWithWhen(this.#e.queryNode,gE({isMatched:!1,bySource:n},e,r))},a=n?n_:Rk;return new a(o)}$call(e){return e(this)}$if(e,r){return e?r(this):new xi({...this.#e})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),r=await this.#e.executor.executeQuery(e,this.#e.queryId);return e.query.output&&this.#e.executor.adapter.supportsOutput?r.rows:[new Gj(r.numAffectedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=jd){const r=await this.executeTakeFirst();if(r===void 0)throw Dd(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}}sr(xi,"don't await WheneableMergeQueryBuilder instances directly. To execute the query you need to call `execute`.");class n_{#e;constructor(e){this.#e=A(e)}thenDelete(){return new xi({...this.#e,queryNode:si.cloneWithThen(this.#e.queryNode,Qc("delete"))})}thenDoNothing(){return new xi({...this.#e,queryNode:si.cloneWithThen(this.#e.queryNode,Qc("do nothing"))})}thenUpdate(e){return new xi({...this.#e,queryNode:si.cloneWithThen(this.#e.queryNode,Qc(e(new Or({queryId:this.#e.queryId,executor:Jp,queryNode:ou.createWithoutTable()}))))})}thenUpdateSet(...e){return this.thenUpdate(r=>r.set(...e))}}sr(n_,"don't await MatchedThenableMergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class Rk{#e;constructor(e){this.#e=A(e)}thenDoNothing(){return new xi({...this.#e,queryNode:si.cloneWithThen(this.#e.queryNode,Qc("do nothing"))})}thenInsertValues(e){const[r,n]=Sk(e);return new xi({...this.#e,queryNode:si.cloneWithThen(this.#e.queryNode,Qc(gi.cloneWith(gi.createWithoutInto(),{columns:r,values:n})))})}}sr(Rk,"don't await NotMatchedThenableMergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class $o{#e;constructor(e){this.#e=A(e)}selectFrom(e){return i_({queryId:kr(),executor:this.#e.executor,queryNode:Er.createFrom(_d(e),this.#e.withNode)})}selectNoFrom(e){return i_({queryId:kr(),executor:this.#e.executor,queryNode:Er.cloneWithSelections(Er.create(this.#e.withNode),os(e))})}insertInto(e){return new Wr({queryId:kr(),executor:this.#e.executor,queryNode:gi.create(tn(e),this.#e.withNode)})}replaceInto(e){return new Wr({queryId:kr(),executor:this.#e.executor,queryNode:gi.create(tn(e),this.#e.withNode,!0)})}deleteFrom(e){return new Sr({queryId:kr(),executor:this.#e.executor,queryNode:$a.create(_d(e),this.#e.withNode)})}updateTable(e){return new Or({queryId:kr(),executor:this.#e.executor,queryNode:ou.create(bd(e),this.#e.withNode)})}mergeInto(e){return new Qa({queryId:kr(),executor:this.#e.executor,queryNode:si.create(Lk(e),this.#e.withNode)})}with(e,r){const n=mE(e,r);return new $o({...this.#e,withNode:this.#e.withNode?ch.cloneWithExpression(this.#e.withNode,n):ch.create(n)})}withRecursive(e,r){const n=mE(e,r);return new $o({...this.#e,withNode:this.#e.withNode?ch.cloneWithExpression(this.#e.withNode,n):ch.create(n,{recursive:!0})})}withPlugin(e){return new $o({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new $o({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new $o({...this.#e,executor:this.#e.executor.withPluginAtFront(new Md(e))})}}function Jj(){return new $o({executor:Jp})}function Zj(t,e){return new su({joinNode:zc.create(t,bd(e))})}function Xj(){return new yd({overNode:r_.create()})}function Mn(t,e){if(e.length===3)return e2(t,e[0],e[1],e[2]);if(e.length===2)return Yj(t,e[0],e[1]);throw new Error("not implemented")}function Yj(t,e,r){return r(Zj(t,e)).toOperationNode()}function e2(t,e,r,n){return zc.createWithOn(t,bd(e),Os(r,"=",n))}const t2=A({is(t){return t.kind==="OffsetNode"},create(t){return A({kind:"OffsetNode",offset:t})}}),r2=A({is(t){return t.kind==="GroupByItemNode"},create(t){return A({kind:"GroupByItemNode",groupBy:t})}});function n2(t){return t=Ci(t)?t(Iu()):t,md(t).map(r2.create)}const Ok=A({is(t){return t.kind==="SetOperationNode"},create(t,e,r){return A({kind:"SetOperationNode",operator:t,expression:e,all:r})}});function Wl(t,e,r){return Ci(e)&&(e=e(ob())),ao(e)||(e=[e]),e.map(n=>Ok.create(t,dl(n),r))}class Tr{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new sb(this,e)}or(...e){return new fp(Tu.create(this.#e,En(e)))}and(...e){return new hp(oa.create(this.#e,En(e)))}$castTo(){return new Tr(this.#e)}$notNull(){return new Tr(this.#e)}toOperationNode(){return this.#e}}class sb{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return ya.create(this.#e.toOperationNode(),ci(this.#t)?this.#t.toOperationNode():Vr.create(this.#t))}}class fp{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new sb(this,e)}or(...e){return new fp(Tu.create(this.#e,En(e)))}$castTo(){return new fp(this.#e)}toOperationNode(){return wu.create(this.#e)}}class hp{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new sb(this,e)}and(...e){return new hp(oa.create(this.#e,En(e)))}$castTo(){return new hp(this.#e)}toOperationNode(){return wu.create(this.#e)}}const i2={is(t){return t.kind==="FetchNode"},create(t,e){return{kind:"FetchNode",rowCount:Rs.create(t),modifier:e}}};function s2(t,e){if(!Kp(t)&&!J_(t))throw new Error(`Invalid fetch row count: ${t}`);if(!o2(e))throw new Error(`Invalid fetch modifier: ${e}`);return i2.create(t,e)}function o2(t){return t==="only"||t==="with ties"}class Vt{#e;constructor(e){this.#e=A(e)}get expressionType(){}get isSelectQueryBuilder(){return!0}where(...e){return new Vt({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,En(e))})}whereRef(e,r,n){return new Vt({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,Os(e,r,n))})}having(...e){return new Vt({...this.#e,queryNode:Er.cloneWithHaving(this.#e.queryNode,En(e))})}havingRef(e,r,n){return new Vt({...this.#e,queryNode:Er.cloneWithHaving(this.#e.queryNode,Os(e,r,n))})}select(e){return new Vt({...this.#e,queryNode:Er.cloneWithSelections(this.#e.queryNode,os(e))})}distinctOn(e){return new Vt({...this.#e,queryNode:Er.cloneWithDistinctOn(this.#e.queryNode,md(e))})}modifyFront(e){return new Vt({...this.#e,queryNode:Er.cloneWithFrontModifier(this.#e.queryNode,Gs.createWithExpression(e.toOperationNode()))})}modifyEnd(e){return new Vt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,Gs.createWithExpression(e.toOperationNode()))})}distinct(){return new Vt({...this.#e,queryNode:Er.cloneWithFrontModifier(this.#e.queryNode,Gs.create("Distinct"))})}forUpdate(e){return new Vt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,Gs.create("ForUpdate",e?uh(e).map(tn):void 0))})}forShare(e){return new Vt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,Gs.create("ForShare",e?uh(e).map(tn):void 0))})}forKeyShare(e){return new Vt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,Gs.create("ForKeyShare",e?uh(e).map(tn):void 0))})}forNoKeyUpdate(e){return new Vt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,Gs.create("ForNoKeyUpdate",e?uh(e).map(tn):void 0))})}skipLocked(){return new Vt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,Gs.create("SkipLocked"))})}noWait(){return new Vt({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,Gs.create("NoWait"))})}selectAll(e){return new Vt({...this.#e,queryNode:Er.cloneWithSelections(this.#e.queryNode,Ts(e))})}innerJoin(...e){return new Vt({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Mn("InnerJoin",e))})}leftJoin(...e){return new Vt({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Mn("LeftJoin",e))})}rightJoin(...e){return new Vt({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Mn("RightJoin",e))})}fullJoin(...e){return new Vt({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Mn("FullJoin",e))})}innerJoinLateral(...e){return new Vt({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Mn("LateralInnerJoin",e))})}leftJoinLateral(...e){return new Vt({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,Mn("LateralLeftJoin",e))})}orderBy(...e){return new Vt({...this.#e,queryNode:Er.cloneWithOrderByItems(this.#e.queryNode,Fd(e))})}groupBy(e){return new Vt({...this.#e,queryNode:Er.cloneWithGroupByItems(this.#e.queryNode,n2(e))})}limit(e){return new Vt({...this.#e,queryNode:Er.cloneWithLimit(this.#e.queryNode,ib.create(an(e)))})}offset(e){return new Vt({...this.#e,queryNode:Er.cloneWithOffset(this.#e.queryNode,t2.create(an(e)))})}fetch(e,r="only"){return new Vt({...this.#e,queryNode:Er.cloneWithFetch(this.#e.queryNode,s2(e,r))})}top(e,r){return new Vt({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,Au(e,r))})}union(e){return new Vt({...this.#e,queryNode:Er.cloneWithSetOperations(this.#e.queryNode,Wl("union",e,!1))})}unionAll(e){return new Vt({...this.#e,queryNode:Er.cloneWithSetOperations(this.#e.queryNode,Wl("union",e,!0))})}intersect(e){return new Vt({...this.#e,queryNode:Er.cloneWithSetOperations(this.#e.queryNode,Wl("intersect",e,!1))})}intersectAll(e){return new Vt({...this.#e,queryNode:Er.cloneWithSetOperations(this.#e.queryNode,Wl("intersect",e,!0))})}except(e){return new Vt({...this.#e,queryNode:Er.cloneWithSetOperations(this.#e.queryNode,Wl("except",e,!1))})}exceptAll(e){return new Vt({...this.#e,queryNode:Er.cloneWithSetOperations(this.#e.queryNode,Wl("except",e,!0))})}as(e){return new Tk(this,e)}clearSelect(){return new Vt({...this.#e,queryNode:Er.cloneWithoutSelections(this.#e.queryNode)})}clearWhere(){return new Vt({...this.#e,queryNode:Ct.cloneWithoutWhere(this.#e.queryNode)})}clearLimit(){return new Vt({...this.#e,queryNode:Er.cloneWithoutLimit(this.#e.queryNode)})}clearOffset(){return new Vt({...this.#e,queryNode:Er.cloneWithoutOffset(this.#e.queryNode)})}clearOrderBy(){return new Vt({...this.#e,queryNode:Er.cloneWithoutOrderBy(this.#e.queryNode)})}clearGroupBy(){return new Vt({...this.#e,queryNode:Er.cloneWithoutGroupBy(this.#e.queryNode)})}$call(e){return e(this)}$if(e,r){return e?r(this):new Vt({...this.#e})}$castTo(){return new Vt(this.#e)}$narrowType(){return new Vt(this.#e)}$assertType(){return new Vt(this.#e)}$asTuple(){return new Tr(this.toOperationNode())}withPlugin(e){return new Vt({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile();return(await this.#e.executor.executeQuery(e,this.#e.queryId)).rows}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=jd){const r=await this.executeTakeFirst();if(r===void 0)throw Dd(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async *stream(e=100){const r=this.compile(),n=this.#e.executor.stream(r,e,this.#e.queryId);for await(const o of n)yield*o.rows}async explain(e,r){return await new Vt({...this.#e,queryNode:Ct.cloneWithExplain(this.#e.queryNode,e,r)}).execute()}}sr(Vt,"don't await SelectQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");function i_(t){return new Vt(t)}class Tk{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}get isAliasedSelectQueryBuilder(){return!0}toOperationNode(){return ya.create(this.#e.toOperationNode(),Vr.create(this.#t))}}sr(Tk,"don't await AliasedSelectQueryBuilder instances directly. AliasedSelectQueryBuilder should never be executed directly since it's always a part of another query.");const Uo=A({is(t){return t.kind==="AggregateFunctionNode"},create(t,e=[]){return A({kind:"AggregateFunctionNode",func:t,aggregated:e})},cloneWithDistinct(t){return A({...t,distinct:!0})},cloneWithOrderBy(t,e){return A({...t,orderBy:t.orderBy?la.cloneWithItems(t.orderBy,e):la.create(e)})},cloneWithFilter(t,e){return A({...t,filter:t.filter?ri.cloneWithOperation(t.filter,"And",e):ri.create(e)})},cloneWithOrFilter(t,e){return A({...t,filter:t.filter?ri.cloneWithOperation(t.filter,"Or",e):ri.create(e)})},cloneWithOver(t,e){return A({...t,over:e})}}),bE=A({is(t){return t.kind==="FunctionNode"},create(t,e){return A({kind:"FunctionNode",func:t,arguments:e})}});class Wi{#e;constructor(e){this.#e=A(e)}get expressionType(){}as(e){return new a2(this,e)}distinct(){return new Wi({...this.#e,aggregateFunctionNode:Uo.cloneWithDistinct(this.#e.aggregateFunctionNode)})}orderBy(e,r){return new Wi({...this.#e,aggregateFunctionNode:Uo.cloneWithOrderBy(this.#e.aggregateFunctionNode,Fd([e,r]))})}filterWhere(...e){return new Wi({...this.#e,aggregateFunctionNode:Uo.cloneWithFilter(this.#e.aggregateFunctionNode,En(e))})}filterWhereRef(e,r,n){return new Wi({...this.#e,aggregateFunctionNode:Uo.cloneWithFilter(this.#e.aggregateFunctionNode,Os(e,r,n))})}over(e){const r=Xj();return new Wi({...this.#e,aggregateFunctionNode:Uo.cloneWithOver(this.#e.aggregateFunctionNode,(e?e(r):r).toOperationNode())})}$call(e){return e(this)}$castTo(){return new Wi(this.#e)}$notNull(){return new Wi(this.#e)}toOperationNode(){return this.#e.aggregateFunctionNode}}sr(Wi,"don't await AggregateFunctionBuilder instances. They are never executed directly and are always just a part of a query.");class a2{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return ya.create(this.#e.toOperationNode(),Vr.create(this.#t))}}function Ak(){const t=(r,n)=>new Tr(bE.create(r,md(n??[]))),e=(r,n)=>new Wi({aggregateFunctionNode:Uo.create(r,n?md(n):void 0)});return Object.assign(t,{agg:e,avg(r){return e("avg",[r])},coalesce(...r){return t("coalesce",r)},count(r){return e("count",[r])},countAll(r){return new Wi({aggregateFunctionNode:Uo.create("count",Ts(r))})},max(r){return e("max",[r])},min(r){return e("min",[r])},sum(r){return e("sum",[r])},any(r){return t("any",[r])},jsonAgg(r){return new Wi({aggregateFunctionNode:Uo.create("json_agg",[ki(r)?tn(r):r.toOperationNode()])})},toJson(r){return new Tr(bE.create("to_json",[ki(r)?tn(r):r.toOperationNode()]))}})}const l2=A({is(t){return t.kind==="UnaryOperationNode"},create(t,e){return A({kind:"UnaryOperationNode",operator:t,operand:e})}});function u2(t,e){return l2.create(aa.create(t),wi(e))}const ws=A({is(t){return t.kind==="CaseNode"},create(t){return A({kind:"CaseNode",value:t})},cloneWithWhen(t,e){return A({...t,when:A(t.when?[...t.when,e]:[e])})},cloneWithThen(t,e){return A({...t,when:t.when?A([...t.when.slice(0,-1),Ld.cloneWithResult(t.when[t.when.length-1],e)]):void 0})},cloneWith(t,e){return A({...t,...e})}});class Ik{#e;constructor(e){this.#e=A(e)}when(...e){return new Pk({...this.#e,node:ws.cloneWithWhen(this.#e.node,Ld.create(En(e)))})}}class Pk{#e;constructor(e){this.#e=A(e)}then(e){return new c2({...this.#e,node:ws.cloneWithThen(this.#e.node,eb(e)?tb(e):an(e))})}}class c2{#e;constructor(e){this.#e=A(e)}when(...e){return new Pk({...this.#e,node:ws.cloneWithWhen(this.#e.node,Ld.create(En(e)))})}else(e){return new d2({...this.#e,node:ws.cloneWith(this.#e.node,{else:eb(e)?tb(e):an(e)})})}end(){return new Tr(ws.cloneWith(this.#e.node,{isStatement:!1}))}endCase(){return new Tr(ws.cloneWith(this.#e.node,{isStatement:!0}))}}class d2{#e;constructor(e){this.#e=A(e)}end(){return new Tr(ws.cloneWith(this.#e.node,{isStatement:!1}))}endCase(){return new Tr(ws.cloneWith(this.#e.node,{isStatement:!0}))}}const wE=A({is(t){return t.kind==="JSONPathLegNode"},create(t,e){return A({kind:"JSONPathLegNode",type:t,value:e})}});class s_{#e;constructor(e){this.#e=e}at(e){return this.#t("ArrayLocation",e)}key(e){return this.#t("Member",e)}#t(e,r){return ap.is(this.#e)?new vd(ap.cloneWithTraversal(this.#e,Vc.is(this.#e.traversal)?Vc.cloneWithLeg(this.#e.traversal,wE.create(e,r)):vk.cloneWithValue(this.#e.traversal,Rs.createImmediate(r)))):new vd(Vc.cloneWithLeg(this.#e,wE.create(e,r)))}}class vd extends s_{#e;constructor(e){super(e),this.#e=e}get expressionType(){}as(e){return new f2(this,e)}$castTo(){return new vd(this.#e)}$notNull(){return new vd(this.#e)}toOperationNode(){return this.#e}}class f2{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return ya.create(this.#e.toOperationNode(),ci(this.#t)?this.#t.toOperationNode():Vr.create(this.#t))}}const xE=A({is(t){return t.kind==="TupleNode"},create(t){return A({kind:"TupleNode",values:A(t)})}}),h2=["varchar","char","text","integer","int2","int4","int8","smallint","bigint","boolean","real","double precision","float4","float8","decimal","numeric","binary","bytea","date","datetime","time","timetz","timestamp","timestamptz","serial","bigserial","uuid","json","jsonb","blob","varbinary","int4range","int4multirange","int8range","int8multirange","numrange","nummultirange","tsrange","tsmultirange","tstzrange","tstzmultirange","daterange","datemultirange"],p2=[/^varchar\(\d+\)$/,/^char\(\d+\)$/,/^decimal\(\d+, \d+\)$/,/^numeric\(\d+, \d+\)$/,/^binary\(\d+\)$/,/^datetime\(\d+\)$/,/^time\(\d+\)$/,/^timetz\(\d+\)$/,/^timestamp\(\d+\)$/,/^timestamptz\(\d+\)$/,/^varbinary\(\d+\)$/],m2=A({is(t){return t.kind==="DataTypeNode"},create(t){return A({kind:"DataTypeNode",dataType:t})}});function y2(t){return!!(h2.includes(t)||p2.some(e=>e.test(t)))}function ll(t){if(ci(t))return t.toOperationNode();if(y2(t))return m2.create(t);throw new Error(`invalid column data type ${JSON.stringify(t)}`)}const g2=A({is(t){return t.kind==="CastNode"},create(t,e){return A({kind:"CastNode",expression:t,dataType:e})}});function ob(t=Jp){function e(o,a,l){return new Tr(rb(o,a,l))}function r(o,a){return new Tr(u2(o,a))}const n=Object.assign(e,{fn:void 0,eb:void 0,selectFrom(o){return i_({queryId:kr(),executor:t,queryNode:Er.createFrom(_d(o))})},case(o){return new Ik({node:ws.create(Jo(o)?void 0:wi(o))})},ref(o,a){return Jo(a)?new Tr(lo(o)):new s_(gj(o,a))},jsonPath(){return new s_(Vc.create())},table(o){return new Tr(tn(o))},val(o){return new Tr(an(o))},refTuple(...o){return new Tr(xE.create(o.map(wi)))},tuple(...o){return new Tr(xE.create(o.map(an)))},lit(o){return new Tr(tb(o))},unary:r,not(o){return r("not",o)},exists(o){return r("exists",o)},neg(o){return r("-",o)},between(o,a,l){return new Tr(bu.create(wi(o),aa.create("between"),oa.create(an(a),an(l))))},betweenSymmetric(o,a,l){return new Tr(bu.create(wi(o),aa.create("between symmetric"),oa.create(an(a),an(l))))},and(o){return ao(o)?new Tr(up(o,"and")):new Tr(iE(o,"and"))},or(o){return ao(o)?new Tr(up(o,"or")):new Tr(iE(o,"or"))},parens(...o){const a=En(o);return wu.is(a)?new Tr(a):new Tr(wu.create(a))},cast(o,a){return new Tr(g2.create(wi(o),ll(a)))},withSchema(o){return ob(t.withPluginAtFront(new Md(o)))}});return n.fn=Ak(),n.eb=n,n}function Iu(t){return ob()}function dl(t){if(ci(t))return t.toOperationNode();if(Ci(t))return t(Iu()).toOperationNode();throw new Error(`invalid expression: ${JSON.stringify(t)}`)}function Fk(t){if(ci(t))return t.toOperationNode();if(Ci(t))return t(Iu()).toOperationNode();throw new Error(`invalid aliased expression: ${JSON.stringify(t)}`)}function Bd(t){return aj(t)||lj(t)||Ci(t)}function _d(t){return ao(t)?t.map(e=>bd(e)):[bd(t)]}function bd(t){return ki(t)?Lk(t):Fk(t)}function Lk(t){const e=" as ";if(t.includes(e)){const[r,n]=t.split(e).map(jk);return ya.create(tn(r),Vr.create(n))}else return tn(t)}function tn(t){const e=".";if(t.includes(e)){const[r,n]=t.split(e).map(jk);return Xo.createWithSchema(r,n)}else return Xo.create(t)}function jk(t){return t.trim()}const Dk=A({is(t){return t.kind==="AddColumnNode"},create(t){return A({kind:"AddColumnNode",column:t})}}),$r=A({is(t){return t.kind==="ColumnDefinitionNode"},create(t,e){return A({kind:"ColumnDefinitionNode",column:sn.create(t),dataType:e})},cloneWithFrontModifier(t,e){return A({...t,frontModifiers:t.frontModifiers?A([...t.frontModifiers,e]):[e]})},cloneWithEndModifier(t,e){return A({...t,endModifiers:t.endModifiers?A([...t.endModifiers,e]):[e]})},cloneWith(t,e){return A({...t,...e})}}),Mk=A({is(t){return t.kind==="DropColumnNode"},create(t){return A({kind:"DropColumnNode",column:sn.create(t)})}}),Bk=A({is(t){return t.kind==="RenameColumnNode"},create(t,e){return A({kind:"RenameColumnNode",column:sn.create(t),renameTo:sn.create(e)})}}),ab=A({is(t){return t.kind==="CheckConstraintNode"},create(t,e){return A({kind:"CheckConstraintNode",expression:t,name:e?Vr.create(e):void 0})}}),v2=["no action","restrict","cascade","set null","set default"],qh=A({is(t){return t.kind==="ReferencesNode"},create(t,e){return A({kind:"ReferencesNode",table:t,columns:A([...e])})},cloneWithOnDelete(t,e){return A({...t,onDelete:e})},cloneWithOnUpdate(t,e){return A({...t,onUpdate:e})}});function Wk(t){return ci(t)?t.toOperationNode():Rs.createImmediate(t)}const dh=A({is(t){return t.kind==="GeneratedNode"},create(t){return A({kind:"GeneratedNode",...t})},createWithExpression(t){return A({kind:"GeneratedNode",always:!0,expression:t})},cloneWith(t,e){return A({...t,...e})}}),_2=A({is(t){return t.kind==="DefaultValueNode"},create(t){return A({kind:"DefaultValueNode",defaultValue:t})}});function pp(t){if(v2.includes(t))return t;throw new Error(`invalid OnModifyForeignAction ${t}`)}class Fr{#e;constructor(e){this.#e=e}autoIncrement(){return new Fr($r.cloneWith(this.#e,{autoIncrement:!0}))}identity(){return new Fr($r.cloneWith(this.#e,{identity:!0}))}primaryKey(){return new Fr($r.cloneWith(this.#e,{primaryKey:!0}))}references(e){const r=lo(e);if(!r.table||Z_.is(r.column))throw new Error(`invalid call references('${e}'). The reference must have format table.column or schema.table.column`);return new Fr($r.cloneWith(this.#e,{references:qh.create(r.table,[r.column])}))}onDelete(e){if(!this.#e.references)throw new Error("on delete constraint can only be added for foreign keys");return new Fr($r.cloneWith(this.#e,{references:qh.cloneWithOnDelete(this.#e.references,pp(e))}))}onUpdate(e){if(!this.#e.references)throw new Error("on update constraint can only be added for foreign keys");return new Fr($r.cloneWith(this.#e,{references:qh.cloneWithOnUpdate(this.#e.references,pp(e))}))}unique(){return new Fr($r.cloneWith(this.#e,{unique:!0}))}notNull(){return new Fr($r.cloneWith(this.#e,{notNull:!0}))}unsigned(){return new Fr($r.cloneWith(this.#e,{unsigned:!0}))}defaultTo(e){return new Fr($r.cloneWith(this.#e,{defaultTo:_2.create(Wk(e))}))}check(e){return new Fr($r.cloneWith(this.#e,{check:ab.create(e.toOperationNode())}))}generatedAlwaysAs(e){return new Fr($r.cloneWith(this.#e,{generated:dh.createWithExpression(e.toOperationNode())}))}generatedAlwaysAsIdentity(){return new Fr($r.cloneWith(this.#e,{generated:dh.create({identity:!0,always:!0})}))}generatedByDefaultAsIdentity(){return new Fr($r.cloneWith(this.#e,{generated:dh.create({identity:!0,byDefault:!0})}))}stored(){if(!this.#e.generated)throw new Error("stored() can only be called after generatedAlwaysAs");return new Fr($r.cloneWith(this.#e,{generated:dh.cloneWith(this.#e.generated,{stored:!0})}))}modifyFront(e){return new Fr($r.cloneWithFrontModifier(this.#e,e.toOperationNode()))}nullsNotDistinct(){return new Fr($r.cloneWith(this.#e,{nullsNotDistinct:!0}))}ifNotExists(){return new Fr($r.cloneWith(this.#e,{ifNotExists:!0}))}modifyEnd(e){return new Fr($r.cloneWithEndModifier(this.#e,e.toOperationNode()))}$call(e){return e(this)}toOperationNode(){return this.#e}}sr(Fr,"don't await ColumnDefinitionBuilder instances directly.");const $k=A({is(t){return t.kind==="ModifyColumnNode"},create(t){return A({kind:"ModifyColumnNode",column:t})}}),mp=A({is(t){return t.kind==="ForeignKeyConstraintNode"},create(t,e,r,n){return A({kind:"ForeignKeyConstraintNode",columns:t,references:qh.create(e,r),name:n?Vr.create(n):void 0})},cloneWith(t,e){return A({...t,...e})}});class xu{#e;constructor(e){this.#e=e}onDelete(e){return new xu(mp.cloneWith(this.#e,{onDelete:pp(e)}))}onUpdate(e){return new xu(mp.cloneWith(this.#e,{onUpdate:pp(e)}))}$call(e){return e(this)}toOperationNode(){return this.#e}}sr(xu,"don't await ForeignKeyConstraintBuilder instances directly.");const Ch=A({is(t){return t.kind==="AddConstraintNode"},create(t){return A({kind:"AddConstraintNode",constraint:t})}}),lb=A({is(t){return t.kind==="UniqueConstraintNode"},create(t,e,r){return A({kind:"UniqueConstraintNode",columns:A(t.map(sn.create)),name:e?Vr.create(e):void 0,nullsNotDistinct:r})},cloneWith(t,e){return A({...t,...e})}}),Rh=A({is(t){return t.kind==="DropConstraintNode"},create(t){return A({kind:"DropConstraintNode",constraintName:Vr.create(t)})},cloneWith(t,e){return A({...t,...e})}}),kc=A({is(t){return t.kind==="AlterColumnNode"},create(t,e,r){return A({kind:"AlterColumnNode",column:sn.create(t),[e]:r})}});class ub{#e;constructor(e){this.#e=e}setDataType(e){return new Vl(kc.create(this.#e,"dataType",ll(e)))}setDefault(e){return new Vl(kc.create(this.#e,"setDefault",Wk(e)))}dropDefault(){return new Vl(kc.create(this.#e,"dropDefault",!0))}setNotNull(){return new Vl(kc.create(this.#e,"setNotNull",!0))}dropNotNull(){return new Vl(kc.create(this.#e,"dropNotNull",!0))}$call(e){return e(this)}}sr(ub,"don't await AlterColumnBuilder instances");class Vl{#e;constructor(e){this.#e=e}toOperationNode(){return this.#e}}sr(Vl,"don't await AlteredColumnBuilder instances");class Wa{#e;constructor(e){this.#e=A(e)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(Wa,"don't await AlterTableExecutor instances directly. To execute the query you need to call `execute`");class wd{#e;constructor(e){this.#e=A(e)}onDelete(e){return new wd({...this.#e,constraintBuilder:this.#e.constraintBuilder.onDelete(e)})}onUpdate(e){return new wd({...this.#e,constraintBuilder:this.#e.constraintBuilder.onUpdate(e)})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(Nr.cloneWithTableProps(this.#e.node,{addConstraint:Ch.create(this.#e.constraintBuilder.toOperationNode())}),this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(wd,"don't await AlterTableAddForeignKeyConstraintBuilder instances directly. To execute the query you need to call `execute`");class lu{#e;constructor(e){this.#e=A(e)}ifExists(){return new lu({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{dropConstraint:Rh.cloneWith(this.#e.node.dropConstraint,{ifExists:!0})})})}cascade(){return new lu({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{dropConstraint:Rh.cloneWith(this.#e.node.dropConstraint,{modifier:"cascade"})})})}restrict(){return new lu({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{dropConstraint:Rh.cloneWith(this.#e.node.dropConstraint,{modifier:"restrict"})})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(lu,"don't await AlterTableDropConstraintBuilder instances directly. To execute the query you need to call `execute`");const Uk=A({is(t){return t.kind==="PrimaryKeyConstraintNode"},create(t,e){return A({kind:"PrimaryKeyConstraintNode",columns:A(t.map(sn.create)),name:e?Vr.create(e):void 0})}}),Hl=A({is(t){return t.kind==="AddIndexNode"},create(t){return A({kind:"AddIndexNode",name:Vr.create(t)})},cloneWith(t,e){return A({...t,...e})},cloneWithColumns(t,e){return A({...t,columns:[...t.columns||[],...e]})}});class zo{#e;constructor(e){this.#e=A(e)}unique(){return new zo({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{addIndex:Hl.cloneWith(this.#e.node.addIndex,{unique:!0})})})}column(e){return new zo({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{addIndex:Hl.cloneWithColumns(this.#e.node.addIndex,[lp(e)])})})}columns(e){return new zo({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{addIndex:Hl.cloneWithColumns(this.#e.node.addIndex,e.map(lp))})})}expression(e){return new zo({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{addIndex:Hl.cloneWithColumns(this.#e.node.addIndex,[e.toOperationNode()])})})}using(e){return new zo({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{addIndex:Hl.cloneWith(this.#e.node.addIndex,{using:Tn.createWithSql(e)})})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(zo,"don't await AlterTableAddIndexBuilder instances directly. To execute the query you need to call `execute`");class Wd{#e;constructor(e){this.#e=e}toOperationNode(){return this.#e}nullsNotDistinct(){return new Wd(lb.cloneWith(this.#e,{nullsNotDistinct:!0}))}}sr(Wd,"don't await UniqueConstraintNodeBuilder instances directly.");class zk{#e;constructor(e){this.#e=A(e)}renameTo(e){return new Wa({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{renameTo:tn(e)})})}setSchema(e){return new Wa({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{setSchema:Vr.create(e)})})}alterColumn(e,r){const n=r(new ub(e));return new $i({...this.#e,node:Nr.cloneWithColumnAlteration(this.#e.node,n.toOperationNode())})}dropColumn(e){return new $i({...this.#e,node:Nr.cloneWithColumnAlteration(this.#e.node,Mk.create(e))})}renameColumn(e,r){return new $i({...this.#e,node:Nr.cloneWithColumnAlteration(this.#e.node,Bk.create(e,r))})}addColumn(e,r,n=Zo){const o=n(new Fr($r.create(e,ll(r))));return new $i({...this.#e,node:Nr.cloneWithColumnAlteration(this.#e.node,Dk.create(o.toOperationNode()))})}modifyColumn(e,r,n=Zo){const o=n(new Fr($r.create(e,ll(r))));return new $i({...this.#e,node:Nr.cloneWithColumnAlteration(this.#e.node,$k.create(o.toOperationNode()))})}addUniqueConstraint(e,r,n=Zo){const o=n(new Wd(lb.create(r,e)));return new Wa({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{addConstraint:Ch.create(o.toOperationNode())})})}addCheckConstraint(e,r){return new Wa({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{addConstraint:Ch.create(ab.create(r.toOperationNode(),e))})})}addForeignKeyConstraint(e,r,n,o){return new wd({...this.#e,constraintBuilder:new xu(mp.create(r.map(sn.create),tn(n),o.map(sn.create),e))})}addPrimaryKeyConstraint(e,r){return new Wa({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{addConstraint:Ch.create(Uk.create(r,e))})})}dropConstraint(e){return new lu({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{dropConstraint:Rh.create(e)})})}addIndex(e){return new zo({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{addIndex:Hl.create(e)})})}dropIndex(e){return new Wa({...this.#e,node:Nr.cloneWithTableProps(this.#e.node,{dropIndex:Uc.create(e)})})}$call(e){return e(this)}}sr(zk,"don't await AlterTableBuilder instances");class $i{#e;constructor(e){this.#e=A(e)}alterColumn(e,r){const n=r(new ub(e));return new $i({...this.#e,node:Nr.cloneWithColumnAlteration(this.#e.node,n.toOperationNode())})}dropColumn(e){return new $i({...this.#e,node:Nr.cloneWithColumnAlteration(this.#e.node,Mk.create(e))})}renameColumn(e,r){return new $i({...this.#e,node:Nr.cloneWithColumnAlteration(this.#e.node,Bk.create(e,r))})}addColumn(e,r,n=Zo){const o=n(new Fr($r.create(e,ll(r))));return new $i({...this.#e,node:Nr.cloneWithColumnAlteration(this.#e.node,Dk.create(o.toOperationNode()))})}modifyColumn(e,r,n=Zo){const o=n(new Fr($r.create(e,ll(r))));return new $i({...this.#e,node:Nr.cloneWithColumnAlteration(this.#e.node,$k.create(o.toOperationNode()))})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr($i,"don't await AlterTableColumnAlteringBuilder instances directly. To execute the query you need to call `execute`");class Vk extends qk{transformValue(e){return{...super.transformValue(e),immediate:!0}}}class Mi{#e;constructor(e){this.#e=A(e)}ifNotExists(){return new Mi({...this.#e,node:Xs.cloneWith(this.#e.node,{ifNotExists:!0})})}unique(){return new Mi({...this.#e,node:Xs.cloneWith(this.#e.node,{unique:!0})})}nullsNotDistinct(){return new Mi({...this.#e,node:Xs.cloneWith(this.#e.node,{nullsNotDistinct:!0})})}on(e){return new Mi({...this.#e,node:Xs.cloneWith(this.#e.node,{table:tn(e)})})}column(e){return new Mi({...this.#e,node:Xs.cloneWithColumns(this.#e.node,[lp(e)])})}columns(e){return new Mi({...this.#e,node:Xs.cloneWithColumns(this.#e.node,e.map(lp))})}expression(e){return new Mi({...this.#e,node:Xs.cloneWithColumns(this.#e.node,[e.toOperationNode()])})}using(e){return new Mi({...this.#e,node:Xs.cloneWith(this.#e.node,{using:Tn.createWithSql(e)})})}where(...e){const r=new Vk;return new Mi({...this.#e,node:Ct.cloneWithWhere(this.#e.node,r.transformNode(En(e)))})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(Mi,"don't await CreateIndexBuilder instances directly. To execute the query you need to call `execute`");class Zp{#e;constructor(e){this.#e=A(e)}ifNotExists(){return new Zp({...this.#e,node:hk.cloneWith(this.#e.node,{ifNotExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(Zp,"don't await CreateSchemaBuilder instances directly. To execute the query you need to call `execute`");function b2(t){if(oj.includes(t))return t;throw new Error(`invalid OnCommitAction ${t}`)}class Yn{#e;constructor(e){this.#e=A(e)}temporary(){return new Yn({...this.#e,node:pi.cloneWith(this.#e.node,{temporary:!0})})}onCommit(e){return new Yn({...this.#e,node:pi.cloneWith(this.#e.node,{onCommit:b2(e)})})}ifNotExists(){return new Yn({...this.#e,node:pi.cloneWith(this.#e.node,{ifNotExists:!0})})}addColumn(e,r,n=Zo){const o=n(new Fr($r.create(e,ll(r))));return new Yn({...this.#e,node:pi.cloneWithColumn(this.#e.node,o.toOperationNode())})}addPrimaryKeyConstraint(e,r){return new Yn({...this.#e,node:pi.cloneWithConstraint(this.#e.node,Uk.create(r,e))})}addUniqueConstraint(e,r,n=Zo){const o=n(new Wd(lb.create(r,e)));return new Yn({...this.#e,node:pi.cloneWithConstraint(this.#e.node,o.toOperationNode())})}addCheckConstraint(e,r){return new Yn({...this.#e,node:pi.cloneWithConstraint(this.#e.node,ab.create(r.toOperationNode(),e))})}addForeignKeyConstraint(e,r,n,o,a=Zo){const l=a(new xu(mp.create(r.map(sn.create),tn(n),o.map(sn.create),e)));return new Yn({...this.#e,node:pi.cloneWithConstraint(this.#e.node,l.toOperationNode())})}modifyFront(e){return new Yn({...this.#e,node:pi.cloneWithFrontModifier(this.#e.node,e.toOperationNode())})}modifyEnd(e){return new Yn({...this.#e,node:pi.cloneWithEndModifier(this.#e.node,e.toOperationNode())})}as(e){return new Yn({...this.#e,node:pi.cloneWith(this.#e.node,{selectQuery:dl(e)})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(Yn,"don't await CreateTableBuilder instances directly. To execute the query you need to call `execute`");class uu{#e;constructor(e){this.#e=A(e)}on(e){return new uu({...this.#e,node:Uc.cloneWith(this.#e.node,{table:tn(e)})})}ifExists(){return new uu({...this.#e,node:Uc.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new uu({...this.#e,node:Uc.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(uu,"don't await DropIndexBuilder instances directly. To execute the query you need to call `execute`");class xd{#e;constructor(e){this.#e=A(e)}ifExists(){return new xd({...this.#e,node:Xv.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new xd({...this.#e,node:Xv.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(xd,"don't await DropSchemaBuilder instances directly. To execute the query you need to call `execute`");class Sd{#e;constructor(e){this.#e=A(e)}ifExists(){return new Sd({...this.#e,node:Yv.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new Sd({...this.#e,node:Yv.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(Sd,"don't await DropTableBuilder instances directly. To execute the query you need to call `execute`");const Mo=A({is(t){return t.kind==="CreateViewNode"},create(t){return A({kind:"CreateViewNode",name:sa.create(t)})},cloneWith(t,e){return A({...t,...e})}});class w2{#e=new Vk;transformQuery(e){return this.#e.transformNode(e.node)}transformResult(e){return Promise.resolve(e.result)}}class to{#e;constructor(e){this.#e=A(e)}temporary(){return new to({...this.#e,node:Mo.cloneWith(this.#e.node,{temporary:!0})})}materialized(){return new to({...this.#e,node:Mo.cloneWith(this.#e.node,{materialized:!0})})}ifNotExists(){return new to({...this.#e,node:Mo.cloneWith(this.#e.node,{ifNotExists:!0})})}orReplace(){return new to({...this.#e,node:Mo.cloneWith(this.#e.node,{orReplace:!0})})}columns(e){return new to({...this.#e,node:Mo.cloneWith(this.#e.node,{columns:e.map(bk)})})}as(e){const r=e.withPlugin(new w2).toOperationNode();return new to({...this.#e,node:Mo.cloneWith(this.#e.node,{as:r})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(to,"don't await CreateViewBuilder instances directly. To execute the query you need to call `execute`");const Oh=A({is(t){return t.kind==="DropViewNode"},create(t){return A({kind:"DropViewNode",name:sa.create(t)})},cloneWith(t,e){return A({...t,...e})}});class cu{#e;constructor(e){this.#e=A(e)}materialized(){return new cu({...this.#e,node:Oh.cloneWith(this.#e.node,{materialized:!0})})}ifExists(){return new cu({...this.#e,node:Oh.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new cu({...this.#e,node:Oh.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(cu,"don't await DropViewBuilder instances directly. To execute the query you need to call `execute`");const Hk=A({is(t){return t.kind==="CreateTypeNode"},create(t){return A({kind:"CreateTypeNode",name:t})},cloneWithEnum(t,e){return A({...t,enum:Y_.create(e.map(r=>Rs.createImmediate(r)))})}});class Xp{#e;constructor(e){this.#e=A(e)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}asEnum(e){return new Xp({...this.#e,node:Hk.cloneWithEnum(this.#e.node,e)})}$call(e){return e(this)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(Xp,"don't await CreateTypeBuilder instances directly. To execute the query you need to call `execute`");const Qk=A({is(t){return t.kind==="DropTypeNode"},create(t){return A({kind:"DropTypeNode",name:t})},cloneWith(t,e){return A({...t,...e})}});class Yp{#e;constructor(e){this.#e=A(e)}ifExists(){return new Yp({...this.#e,node:Qk.cloneWith(this.#e.node,{ifExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}sr(Yp,"don't await DropTypeBuilder instances directly. To execute the query you need to call `execute`");function SE(t){const e=".";if(t.includes(e)){const r=t.split(e).map(x2);if(r.length===2)return sa.createWithSchema(r[0],r[1]);throw new Error(`invalid schemable identifier ${t}`)}else return sa.create(t)}function x2(t){return t.trim()}class Kc{#e;constructor(e){this.#e=e}createTable(e){return new Yn({queryId:kr(),executor:this.#e,node:pi.create(tn(e))})}dropTable(e){return new Sd({queryId:kr(),executor:this.#e,node:Yv.create(tn(e))})}createIndex(e){return new Mi({queryId:kr(),executor:this.#e,node:Xs.create(e)})}dropIndex(e){return new uu({queryId:kr(),executor:this.#e,node:Uc.create(e)})}createSchema(e){return new Zp({queryId:kr(),executor:this.#e,node:hk.create(e)})}dropSchema(e){return new xd({queryId:kr(),executor:this.#e,node:Xv.create(e)})}alterTable(e){return new zk({queryId:kr(),executor:this.#e,node:Nr.create(tn(e))})}createView(e){return new to({queryId:kr(),executor:this.#e,node:Mo.create(e)})}dropView(e){return new cu({queryId:kr(),executor:this.#e,node:Oh.create(e)})}createType(e){return new Xp({queryId:kr(),executor:this.#e,node:Hk.create(SE(e))})}dropType(e){return new Yp({queryId:kr(),executor:this.#e,node:Qk.create(SE(e))})}withPlugin(e){return new Kc(this.#e.withPlugin(e))}withoutPlugins(){return new Kc(this.#e.withoutPlugins())}withSchema(e){return new Kc(this.#e.withPluginAtFront(new Md(e)))}}class S2{ref(e){return new mj(e)}}class E2{#e;constructor(e){this.#e=e}async provideConnection(e){const r=await this.#e.acquireConnection();try{return await e(r)}finally{await this.#e.releaseConnection(r)}}}class Ua extends Ck{#e;#t;#r;constructor(e,r,n,o=[]){super(o),this.#e=e,this.#t=r,this.#r=n}get adapter(){return this.#t}compileQuery(e){return this.#e.compileQuery(e)}provideConnection(e){return this.#r.provideConnection(e)}withPlugins(e){return new Ua(this.#e,this.#t,this.#r,[...this.plugins,...e])}withPlugin(e){return new Ua(this.#e,this.#t,this.#r,[...this.plugins,e])}withPluginAtFront(e){return new Ua(this.#e,this.#t,this.#r,[e,...this.plugins])}withConnectionProvider(e){return new Ua(this.#e,this.#t,e,[...this.plugins])}withoutPlugins(){return new Ua(this.#e,this.#t,this.#r,[])}}function EE(){return typeof performance<"u"&&Ci(performance.now)?performance.now():Date.now()}class N2{#e;#t;#r;#n;#i;#s=new WeakSet;constructor(e,r){this.#n=!1,this.#e=e,this.#t=r}async init(){if(this.#i)throw new Error("driver has already been destroyed");this.#r||(this.#r=this.#e.init().then(()=>{this.#n=!0}).catch(e=>(this.#r=void 0,Promise.reject(e)))),await this.#r}async acquireConnection(){if(this.#i)throw new Error("driver has already been destroyed");this.#n||await this.init();const e=await this.#e.acquireConnection();return this.#s.has(e)||(this.#o()&&this.#a(e),this.#s.add(e)),e}async releaseConnection(e){await this.#e.releaseConnection(e)}beginTransaction(e,r){return this.#e.beginTransaction(e,r)}commitTransaction(e){return this.#e.commitTransaction(e)}rollbackTransaction(e){return this.#e.rollbackTransaction(e)}async destroy(){this.#r&&(await this.#r,this.#i||(this.#i=this.#e.destroy().catch(e=>(this.#i=void 0,Promise.reject(e)))),await this.#i)}#o(){return this.#t.isLevelEnabled("query")||this.#t.isLevelEnabled("error")}#a(e){const r=e.executeQuery;e.executeQuery=async n=>{let o;const a=EE();try{return await r.call(e,n)}catch(l){throw o=l,await this.#u(l,n,a),l}finally{o||await this.#l(n,a)}}}async #u(e,r,n){await this.#t.error(()=>({level:"error",error:e,query:r,queryDurationMillis:this.#c(n)}))}async #l(e,r){await this.#t.query(()=>({level:"query",query:e,queryDurationMillis:this.#c(r)}))}#c(e){return EE()-e}}const k2=()=>{};class Kk{#e;#t;constructor(e){this.#e=e}async provideConnection(e){for(;this.#t;)await this.#t.catch(k2);return this.#t=this.#r(e).finally(()=>{this.#t=void 0}),this.#t}async #r(e){return await e(this.#e)}}const q2=["read uncommitted","read committed","repeatable read","serializable","snapshot"];A(["query","error"]);class C2{#e;#t;constructor(e){Ci(e)?(this.#t=e,this.#e=A({query:!0,error:!0})):(this.#t=R2,this.#e=A({query:e.includes("query"),error:e.includes("error")}))}isLevelEnabled(e){return this.#e[e]}async query(e){this.#e.query&&await this.#t(e())}async error(e){this.#e.error&&await this.#t(e())}}function R2(t){t.level==="query"?(console.log(`kysely:query: ${t.query.sql}`),console.log(`kysely:query: duration: ${t.queryDurationMillis.toFixed(1)}ms`)):t.level==="error"&&(t.error instanceof Error?console.error(`kysely:error: ${t.error.stack??t.error.message}`):console.error(`kysely:error: ${JSON.stringify({error:t.error,query:t.query.sql,queryDurationMillis:t.queryDurationMillis})}`))}function O2(t){return _s(t)&&Ci(t.compile)}class Ho extends $o{#e;constructor(e){let r,n;if(T2(e))r={executor:e.executor},n={...e};else{const o=e.dialect,a=o.createDriver(),l=o.createQueryCompiler(),c=o.createAdapter(),p=new C2(e.log??[]),m=new N2(a,p),b=new E2(m),x=new Ua(l,c,b,e.plugins??[]);r={executor:x},n={config:e,executor:x,dialect:o,driver:m}}super(r),this.#e=A(n)}get schema(){return new Kc(this.#e.executor)}get dynamic(){return new S2}get introspection(){return this.#e.dialect.createIntrospector(this.withoutPlugins())}case(e){return new Ik({node:ws.create(Jo(e)?void 0:dl(e))})}get fn(){return Ak()}transaction(){return new em({...this.#e})}connection(){return new Gk({...this.#e})}withPlugin(e){return new Ho({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new Ho({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new Ho({...this.#e,executor:this.#e.executor.withPluginAtFront(new Md(e))})}withTables(){return new Ho({...this.#e})}async destroy(){await this.#e.driver.destroy()}get isTransaction(){return!1}getExecutor(){return this.#e.executor}executeQuery(e,r=kr()){const n=O2(e)?e.compile():e;return this.getExecutor().executeQuery(n,r)}}class Jl extends Ho{#e;constructor(e){super(e),this.#e=e}get isTransaction(){return!0}transaction(){throw new Error("calling the transaction method for a Transaction is not supported")}connection(){throw new Error("calling the connection method for a Transaction is not supported")}async destroy(){throw new Error("calling the destroy method for a Transaction is not supported")}withPlugin(e){return new Jl({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new Jl({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new Jl({...this.#e,executor:this.#e.executor.withPluginAtFront(new Md(e))})}withTables(){return new Jl({...this.#e})}}function T2(t){return _s(t)&&_s(t.config)&&_s(t.driver)&&_s(t.executor)&&_s(t.dialect)}class Gk{#e;constructor(e){this.#e=A(e)}async execute(e){return this.#e.executor.provideConnection(async r=>{const n=this.#e.executor.withConnectionProvider(new Kk(r)),o=new Ho({...this.#e,executor:n});return await e(o)})}}sr(Gk,"don't await ConnectionBuilder instances directly. To execute the query you need to call the `execute` method");class em{#e;constructor(e){this.#e=A(e)}setIsolationLevel(e){return new em({...this.#e,isolationLevel:e})}async execute(e){const{isolationLevel:r,...n}=this.#e,o={isolationLevel:r};return A2(o),this.#e.executor.provideConnection(async a=>{const l=this.#e.executor.withConnectionProvider(new Kk(a)),c=new Jl({...n,executor:l});try{await this.#e.driver.beginTransaction(a,o);const p=await e(c);return await this.#e.driver.commitTransaction(a),p}catch(p){throw await this.#e.driver.rollbackTransaction(a),p}})}}sr(em,"don't await TransactionBuilder instances directly. To execute the transaction you need to call the `execute` method");function A2(t){if(t.isolationLevel&&!q2.includes(t.isolationLevel))throw new Error(`invalid transaction isolation level ${t.isolationLevel}`)}class du{#e;constructor(e){this.#e=A(e)}get expressionType(){}get isRawBuilder(){return!0}as(e){return new Jk(this,e)}$castTo(){return new du({...this.#e})}$notNull(){return new du(this.#e)}withPlugin(e){return new du({...this.#e,plugins:this.#e.plugins!==void 0?A([...this.#e.plugins,e]):A([e])})}toOperationNode(){return this.#r(this.#t())}compile(e){return this.#n(this.#t(e))}async execute(e){const r=this.#t(e);return r.executeQuery(this.#n(r),this.#e.queryId)}#t(e){const r=e!==void 0?e.getExecutor():Jp;return this.#e.plugins!==void 0?r.withPlugins(this.#e.plugins):r}#r(e){return e.transformQuery(this.#e.rawNode,this.#e.queryId)}#n(e){return e.compileQuery(this.#r(e),this.#e.queryId)}}function Do(t){return new du(t)}sr(du,"don't await RawBuilder instances directly. To execute the query you need to call `execute`");class Jk{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}get rawBuilder(){return this.#e}toOperationNode(){return ya.create(this.#e.toOperationNode(),ci(this.#t)?this.#t.toOperationNode():Vr.create(this.#t))}}sr(Jk,"don't await AliasedRawBuilder instances directly. AliasedRawBuilder should never be executed directly since it's always a part of another query.");const Zk=Object.assign((t,...e)=>Do({queryId:kr(),rawNode:Tn.create(t,e?.map(NE)??[])}),{ref(t){return Do({queryId:kr(),rawNode:Tn.createWithChild(lo(t))})},val(t){return Do({queryId:kr(),rawNode:Tn.createWithChild(an(t))})},value(t){return this.val(t)},table(t){return Do({queryId:kr(),rawNode:Tn.createWithChild(tn(t))})},id(...t){const e=new Array(t.length+1).fill(".");return e[0]="",e[e.length-1]="",Do({queryId:kr(),rawNode:Tn.create(e,t.map(Vr.create))})},lit(t){return Do({queryId:kr(),rawNode:Tn.createWithChild(Rs.createImmediate(t))})},literal(t){return this.lit(t)},raw(t){return Do({queryId:kr(),rawNode:Tn.createWithSql(t)})},join(t,e=Zk`, `){const r=new Array(2*t.length-1),n=e.toOperationNode();for(let o=0;o<t.length;++o)r[2*o]=NE(t[o]),o!==t.length-1&&(r[2*o+1]=n);return Do({queryId:kr(),rawNode:Tn.createWithChildren(r)})}});function NE(t){return ci(t)?t.toOperationNode():an(t)}class I2{nodeStack=[];get parentNode(){return this.nodeStack[this.nodeStack.length-2]}#e=A({AliasNode:this.visitAlias.bind(this),ColumnNode:this.visitColumn.bind(this),IdentifierNode:this.visitIdentifier.bind(this),SchemableIdentifierNode:this.visitSchemableIdentifier.bind(this),RawNode:this.visitRaw.bind(this),ReferenceNode:this.visitReference.bind(this),SelectQueryNode:this.visitSelectQuery.bind(this),SelectionNode:this.visitSelection.bind(this),TableNode:this.visitTable.bind(this),FromNode:this.visitFrom.bind(this),SelectAllNode:this.visitSelectAll.bind(this),AndNode:this.visitAnd.bind(this),OrNode:this.visitOr.bind(this),ValueNode:this.visitValue.bind(this),ValueListNode:this.visitValueList.bind(this),PrimitiveValueListNode:this.visitPrimitiveValueList.bind(this),ParensNode:this.visitParens.bind(this),JoinNode:this.visitJoin.bind(this),OperatorNode:this.visitOperator.bind(this),WhereNode:this.visitWhere.bind(this),InsertQueryNode:this.visitInsertQuery.bind(this),DeleteQueryNode:this.visitDeleteQuery.bind(this),ReturningNode:this.visitReturning.bind(this),CreateTableNode:this.visitCreateTable.bind(this),AddColumnNode:this.visitAddColumn.bind(this),ColumnDefinitionNode:this.visitColumnDefinition.bind(this),DropTableNode:this.visitDropTable.bind(this),DataTypeNode:this.visitDataType.bind(this),OrderByNode:this.visitOrderBy.bind(this),OrderByItemNode:this.visitOrderByItem.bind(this),GroupByNode:this.visitGroupBy.bind(this),GroupByItemNode:this.visitGroupByItem.bind(this),UpdateQueryNode:this.visitUpdateQuery.bind(this),ColumnUpdateNode:this.visitColumnUpdate.bind(this),LimitNode:this.visitLimit.bind(this),OffsetNode:this.visitOffset.bind(this),OnConflictNode:this.visitOnConflict.bind(this),OnDuplicateKeyNode:this.visitOnDuplicateKey.bind(this),CreateIndexNode:this.visitCreateIndex.bind(this),DropIndexNode:this.visitDropIndex.bind(this),ListNode:this.visitList.bind(this),PrimaryKeyConstraintNode:this.visitPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.visitUniqueConstraint.bind(this),ReferencesNode:this.visitReferences.bind(this),CheckConstraintNode:this.visitCheckConstraint.bind(this),WithNode:this.visitWith.bind(this),CommonTableExpressionNode:this.visitCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.visitCommonTableExpressionName.bind(this),HavingNode:this.visitHaving.bind(this),CreateSchemaNode:this.visitCreateSchema.bind(this),DropSchemaNode:this.visitDropSchema.bind(this),AlterTableNode:this.visitAlterTable.bind(this),DropColumnNode:this.visitDropColumn.bind(this),RenameColumnNode:this.visitRenameColumn.bind(this),AlterColumnNode:this.visitAlterColumn.bind(this),ModifyColumnNode:this.visitModifyColumn.bind(this),AddConstraintNode:this.visitAddConstraint.bind(this),DropConstraintNode:this.visitDropConstraint.bind(this),ForeignKeyConstraintNode:this.visitForeignKeyConstraint.bind(this),CreateViewNode:this.visitCreateView.bind(this),DropViewNode:this.visitDropView.bind(this),GeneratedNode:this.visitGenerated.bind(this),DefaultValueNode:this.visitDefaultValue.bind(this),OnNode:this.visitOn.bind(this),ValuesNode:this.visitValues.bind(this),SelectModifierNode:this.visitSelectModifier.bind(this),CreateTypeNode:this.visitCreateType.bind(this),DropTypeNode:this.visitDropType.bind(this),ExplainNode:this.visitExplain.bind(this),DefaultInsertValueNode:this.visitDefaultInsertValue.bind(this),AggregateFunctionNode:this.visitAggregateFunction.bind(this),OverNode:this.visitOver.bind(this),PartitionByNode:this.visitPartitionBy.bind(this),PartitionByItemNode:this.visitPartitionByItem.bind(this),SetOperationNode:this.visitSetOperation.bind(this),BinaryOperationNode:this.visitBinaryOperation.bind(this),UnaryOperationNode:this.visitUnaryOperation.bind(this),UsingNode:this.visitUsing.bind(this),FunctionNode:this.visitFunction.bind(this),CaseNode:this.visitCase.bind(this),WhenNode:this.visitWhen.bind(this),JSONReferenceNode:this.visitJSONReference.bind(this),JSONPathNode:this.visitJSONPath.bind(this),JSONPathLegNode:this.visitJSONPathLeg.bind(this),JSONOperatorChainNode:this.visitJSONOperatorChain.bind(this),TupleNode:this.visitTuple.bind(this),MergeQueryNode:this.visitMergeQuery.bind(this),MatchedNode:this.visitMatched.bind(this),AddIndexNode:this.visitAddIndex.bind(this),CastNode:this.visitCast.bind(this),FetchNode:this.visitFetch.bind(this),TopNode:this.visitTop.bind(this),OutputNode:this.visitOutput.bind(this)});visitNode=e=>{this.nodeStack.push(e),this.#e[e.kind](e),this.nodeStack.pop()}}class P2 extends I2{#e="";#t=[];get numParameters(){return this.#t.length}compileQuery(e){return this.#e="",this.#t=[],this.nodeStack.splice(0,this.nodeStack.length),this.visitNode(e),A({query:e,sql:this.getSql(),parameters:[...this.#t]})}getSql(){return this.#e}visitSelectQuery(e){const r=this.parentNode!==void 0&&!wu.is(this.parentNode)&&!gi.is(this.parentNode)&&!pi.is(this.parentNode)&&!Mo.is(this.parentNode)&&!Ok.is(this.parentNode);this.parentNode===void 0&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("select"),e.distinctOn&&(this.append(" "),this.compileDistinctOn(e.distinctOn)),e.frontModifiers?.length&&(this.append(" "),this.compileList(e.frontModifiers," ")),e.top&&(this.append(" "),this.visitNode(e.top)),e.selections&&(this.append(" "),this.compileList(e.selections)),e.from&&(this.append(" "),this.visitNode(e.from)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.groupBy&&(this.append(" "),this.visitNode(e.groupBy)),e.having&&(this.append(" "),this.visitNode(e.having)),e.setOperations&&(this.append(" "),this.compileList(e.setOperations," ")),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.offset&&(this.append(" "),this.visitNode(e.offset)),e.fetch&&(this.append(" "),this.visitNode(e.fetch)),e.endModifiers?.length&&(this.append(" "),this.compileList(this.sortSelectModifiers([...e.endModifiers])," ")),r&&this.append(")")}visitFrom(e){this.append("from "),this.compileList(e.froms)}visitSelection(e){this.visitNode(e.selection)}visitColumn(e){this.visitNode(e.column)}compileDistinctOn(e){this.append("distinct on ("),this.compileList(e),this.append(")")}compileList(e,r=", "){const n=e.length-1;for(let o=0;o<=n;o++)this.visitNode(e[o]),o<n&&this.append(r)}visitWhere(e){this.append("where "),this.visitNode(e.where)}visitHaving(e){this.append("having "),this.visitNode(e.having)}visitInsertQuery(e){const r=this.nodeStack.find(Ct.is),n=r!==e;!n&&e.explain&&(this.visitNode(e.explain),this.append(" ")),n&&!si.is(r)&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append(e.replace?"replace":"insert"),e.ignore&&this.append(" ignore"),e.top&&(this.append(" "),this.visitNode(e.top)),e.into&&(this.append(" into "),this.visitNode(e.into)),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.output&&(this.append(" "),this.visitNode(e.output)),e.values&&(this.append(" "),this.visitNode(e.values)),e.defaultValues&&(this.append(" "),this.append("default values")),e.onConflict&&(this.append(" "),this.visitNode(e.onConflict)),e.onDuplicateKey&&(this.append(" "),this.visitNode(e.onDuplicateKey)),e.returning&&(this.append(" "),this.visitNode(e.returning)),n&&!si.is(r)&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitValues(e){this.append("values "),this.compileList(e.values)}visitDeleteQuery(e){const r=this.nodeStack.find(Ct.is)!==e;!r&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("delete "),e.top&&(this.visitNode(e.top),this.append(" ")),this.visitNode(e.from),e.output&&(this.append(" "),this.visitNode(e.output)),e.using&&(this.append(" "),this.visitNode(e.using)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.returning&&(this.append(" "),this.visitNode(e.returning)),r&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitReturning(e){this.append("returning "),this.compileList(e.selections)}visitAlias(e){this.visitNode(e.node),this.append(" as "),this.visitNode(e.alias)}visitReference(e){e.table&&(this.visitNode(e.table),this.append(".")),this.visitNode(e.column)}visitSelectAll(e){this.append("*")}visitIdentifier(e){this.append(this.getLeftIdentifierWrapper()),this.compileUnwrappedIdentifier(e),this.append(this.getRightIdentifierWrapper())}compileUnwrappedIdentifier(e){if(!ki(e.name))throw new Error("a non-string identifier was passed to compileUnwrappedIdentifier.");this.append(this.sanitizeIdentifier(e.name))}visitAnd(e){this.visitNode(e.left),this.append(" and "),this.visitNode(e.right)}visitOr(e){this.visitNode(e.left),this.append(" or "),this.visitNode(e.right)}visitValue(e){e.immediate?this.appendImmediateValue(e.value):this.appendValue(e.value)}visitValueList(e){this.append("("),this.compileList(e.values),this.append(")")}visitTuple(e){this.append("("),this.compileList(e.values),this.append(")")}visitPrimitiveValueList(e){this.append("(");const{values:r}=e;for(let n=0;n<r.length;++n)this.appendValue(r[n]),n!==r.length-1&&this.append(", ");this.append(")")}visitParens(e){this.append("("),this.visitNode(e.node),this.append(")")}visitJoin(e){this.append(L2[e.joinType]),this.append(" "),this.visitNode(e.table),e.on&&(this.append(" "),this.visitNode(e.on))}visitOn(e){this.append("on "),this.visitNode(e.on)}visitRaw(e){const{sqlFragments:r,parameters:n}=e;for(let o=0;o<r.length;++o)this.append(r[o]),n.length>o&&this.visitNode(n[o])}visitOperator(e){this.append(e.operator)}visitTable(e){this.visitNode(e.table)}visitSchemableIdentifier(e){e.schema&&(this.visitNode(e.schema),this.append(".")),this.visitNode(e.identifier)}visitCreateTable(e){this.append("create "),e.frontModifiers&&e.frontModifiers.length>0&&(this.compileList(e.frontModifiers," "),this.append(" ")),e.temporary&&this.append("temporary "),this.append("table "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.table),e.selectQuery?(this.append(" as "),this.visitNode(e.selectQuery)):(this.append(" ("),this.compileList([...e.columns,...e.constraints??[]]),this.append(")"),e.onCommit&&(this.append(" on commit "),this.append(e.onCommit)),e.endModifiers&&e.endModifiers.length>0&&(this.append(" "),this.compileList(e.endModifiers," ")))}visitColumnDefinition(e){e.ifNotExists&&this.append("if not exists "),this.visitNode(e.column),this.append(" "),this.visitNode(e.dataType),e.unsigned&&this.append(" unsigned"),e.frontModifiers&&e.frontModifiers.length>0&&(this.append(" "),this.compileList(e.frontModifiers," ")),e.generated&&(this.append(" "),this.visitNode(e.generated)),e.identity&&this.append(" identity"),e.defaultTo&&(this.append(" "),this.visitNode(e.defaultTo)),e.notNull&&this.append(" not null"),e.unique&&this.append(" unique"),e.nullsNotDistinct&&this.append(" nulls not distinct"),e.primaryKey&&this.append(" primary key"),e.autoIncrement&&(this.append(" "),this.append(this.getAutoIncrement())),e.references&&(this.append(" "),this.visitNode(e.references)),e.check&&(this.append(" "),this.visitNode(e.check)),e.endModifiers&&e.endModifiers.length>0&&(this.append(" "),this.compileList(e.endModifiers," "))}getAutoIncrement(){return"auto_increment"}visitReferences(e){this.append("references "),this.visitNode(e.table),this.append(" ("),this.compileList(e.columns),this.append(")"),e.onDelete&&(this.append(" on delete "),this.append(e.onDelete)),e.onUpdate&&(this.append(" on update "),this.append(e.onUpdate))}visitDropTable(e){this.append("drop table "),e.ifExists&&this.append("if exists "),this.visitNode(e.table),e.cascade&&this.append(" cascade")}visitDataType(e){this.append(e.dataType)}visitOrderBy(e){this.append("order by "),this.compileList(e.items)}visitOrderByItem(e){this.visitNode(e.orderBy),e.direction&&(this.append(" "),this.visitNode(e.direction))}visitGroupBy(e){this.append("group by "),this.compileList(e.items)}visitGroupByItem(e){this.visitNode(e.groupBy)}visitUpdateQuery(e){const r=this.nodeStack.find(Ct.is),n=r!==e;!n&&e.explain&&(this.visitNode(e.explain),this.append(" ")),n&&!si.is(r)&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("update "),e.top&&(this.visitNode(e.top),this.append(" ")),e.table&&(this.visitNode(e.table),this.append(" ")),this.append("set "),e.updates&&this.compileList(e.updates),e.output&&(this.append(" "),this.visitNode(e.output)),e.from&&(this.append(" "),this.visitNode(e.from)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.returning&&(this.append(" "),this.visitNode(e.returning)),n&&!si.is(r)&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitColumnUpdate(e){this.visitNode(e.column),this.append(" = "),this.visitNode(e.value)}visitLimit(e){this.append("limit "),this.visitNode(e.limit)}visitOffset(e){this.append("offset "),this.visitNode(e.offset)}visitOnConflict(e){this.append("on conflict"),e.columns?(this.append(" ("),this.compileList(e.columns),this.append(")")):e.constraint?(this.append(" on constraint "),this.visitNode(e.constraint)):e.indexExpression&&(this.append(" ("),this.visitNode(e.indexExpression),this.append(")")),e.indexWhere&&(this.append(" "),this.visitNode(e.indexWhere)),e.doNothing===!0?this.append(" do nothing"):e.updates&&(this.append(" do update set "),this.compileList(e.updates),e.updateWhere&&(this.append(" "),this.visitNode(e.updateWhere)))}visitOnDuplicateKey(e){this.append("on duplicate key update "),this.compileList(e.updates)}visitCreateIndex(e){this.append("create "),e.unique&&this.append("unique "),this.append("index "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),e.table&&(this.append(" on "),this.visitNode(e.table)),e.using&&(this.append(" using "),this.visitNode(e.using)),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.nullsNotDistinct&&this.append(" nulls not distinct"),e.where&&(this.append(" "),this.visitNode(e.where))}visitDropIndex(e){this.append("drop index "),e.ifExists&&this.append("if exists "),this.visitNode(e.name),e.table&&(this.append(" on "),this.visitNode(e.table)),e.cascade&&this.append(" cascade")}visitCreateSchema(e){this.append("create schema "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.schema)}visitDropSchema(e){this.append("drop schema "),e.ifExists&&this.append("if exists "),this.visitNode(e.schema),e.cascade&&this.append(" cascade")}visitPrimaryKeyConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("primary key ("),this.compileList(e.columns),this.append(")")}visitUniqueConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("unique"),e.nullsNotDistinct&&this.append(" nulls not distinct"),this.append(" ("),this.compileList(e.columns),this.append(")")}visitCheckConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("check ("),this.visitNode(e.expression),this.append(")")}visitForeignKeyConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("foreign key ("),this.compileList(e.columns),this.append(") "),this.visitNode(e.references),e.onDelete&&(this.append(" on delete "),this.append(e.onDelete)),e.onUpdate&&(this.append(" on update "),this.append(e.onUpdate))}visitList(e){this.compileList(e.items)}visitWith(e){this.append("with "),e.recursive&&this.append("recursive "),this.compileList(e.expressions)}visitCommonTableExpression(e){this.visitNode(e.name),this.append(" as "),op(e.materialized)&&(e.materialized||this.append("not "),this.append("materialized ")),this.visitNode(e.expression)}visitCommonTableExpressionName(e){this.visitNode(e.table),e.columns&&(this.append("("),this.compileList(e.columns),this.append(")"))}visitAlterTable(e){this.append("alter table "),this.visitNode(e.table),this.append(" "),e.renameTo&&(this.append("rename to "),this.visitNode(e.renameTo)),e.setSchema&&(this.append("set schema "),this.visitNode(e.setSchema)),e.addConstraint&&this.visitNode(e.addConstraint),e.dropConstraint&&this.visitNode(e.dropConstraint),e.columnAlterations&&this.compileColumnAlterations(e.columnAlterations),e.addIndex&&this.visitNode(e.addIndex),e.dropIndex&&this.visitNode(e.dropIndex)}visitAddColumn(e){this.append("add column "),this.visitNode(e.column)}visitRenameColumn(e){this.append("rename column "),this.visitNode(e.column),this.append(" to "),this.visitNode(e.renameTo)}visitDropColumn(e){this.append("drop column "),this.visitNode(e.column)}visitAlterColumn(e){this.append("alter column "),this.visitNode(e.column),this.append(" "),e.dataType&&(this.announcesNewColumnDataType()&&this.append("type "),this.visitNode(e.dataType),e.dataTypeExpression&&(this.append("using "),this.visitNode(e.dataTypeExpression))),e.setDefault&&(this.append("set default "),this.visitNode(e.setDefault)),e.dropDefault&&this.append("drop default"),e.setNotNull&&this.append("set not null"),e.dropNotNull&&this.append("drop not null")}visitModifyColumn(e){this.append("modify column "),this.visitNode(e.column)}visitAddConstraint(e){this.append("add "),this.visitNode(e.constraint)}visitDropConstraint(e){this.append("drop constraint "),e.ifExists&&this.append("if exists "),this.visitNode(e.constraintName),e.modifier==="cascade"?this.append(" cascade"):e.modifier==="restrict"&&this.append(" restrict")}visitSetOperation(e){this.append(e.operator),this.append(" "),e.all&&this.append("all "),this.visitNode(e.expression)}visitCreateView(e){this.append("create "),e.orReplace&&this.append("or replace "),e.materialized&&this.append("materialized "),e.temporary&&this.append("temporary "),this.append("view "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),this.append(" "),e.columns&&(this.append("("),this.compileList(e.columns),this.append(") ")),e.as&&(this.append("as "),this.visitNode(e.as))}visitDropView(e){this.append("drop "),e.materialized&&this.append("materialized "),this.append("view "),e.ifExists&&this.append("if exists "),this.visitNode(e.name),e.cascade&&this.append(" cascade")}visitGenerated(e){this.append("generated "),e.always&&this.append("always "),e.byDefault&&this.append("by default "),this.append("as "),e.identity&&this.append("identity"),e.expression&&(this.append("("),this.visitNode(e.expression),this.append(")")),e.stored&&this.append(" stored")}visitDefaultValue(e){this.append("default "),this.visitNode(e.defaultValue)}visitSelectModifier(e){e.rawModifier?this.visitNode(e.rawModifier):this.append(F2[e.modifier]),e.of&&(this.append(" of "),this.compileList(e.of,", "))}visitCreateType(e){this.append("create type "),this.visitNode(e.name),e.enum&&(this.append(" as enum "),this.visitNode(e.enum))}visitDropType(e){this.append("drop type "),e.ifExists&&this.append("if exists "),this.visitNode(e.name)}visitExplain(e){this.append("explain"),(e.options||e.format)&&(this.append(" "),this.append(this.getLeftExplainOptionsWrapper()),e.options&&(this.visitNode(e.options),e.format&&this.append(this.getExplainOptionsDelimiter())),e.format&&(this.append("format"),this.append(this.getExplainOptionAssignment()),this.append(e.format)),this.append(this.getRightExplainOptionsWrapper()))}visitDefaultInsertValue(e){this.append("default")}visitAggregateFunction(e){this.append(e.func),this.append("("),e.distinct&&this.append("distinct "),this.compileList(e.aggregated),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),this.append(")"),e.filter&&(this.append(" filter("),this.visitNode(e.filter),this.append(")")),e.over&&(this.append(" "),this.visitNode(e.over))}visitOver(e){this.append("over("),e.partitionBy&&(this.visitNode(e.partitionBy),e.orderBy&&this.append(" ")),e.orderBy&&this.visitNode(e.orderBy),this.append(")")}visitPartitionBy(e){this.append("partition by "),this.compileList(e.items)}visitPartitionByItem(e){this.visitNode(e.partitionBy)}visitBinaryOperation(e){this.visitNode(e.leftOperand),this.append(" "),this.visitNode(e.operator),this.append(" "),this.visitNode(e.rightOperand)}visitUnaryOperation(e){this.visitNode(e.operator),this.isMinusOperator(e.operator)||this.append(" "),this.visitNode(e.operand)}isMinusOperator(e){return aa.is(e)&&e.operator==="-"}visitUsing(e){this.append("using "),this.compileList(e.tables)}visitFunction(e){this.append(e.func),this.append("("),this.compileList(e.arguments),this.append(")")}visitCase(e){this.append("case"),e.value&&(this.append(" "),this.visitNode(e.value)),e.when&&(this.append(" "),this.compileList(e.when," ")),e.else&&(this.append(" else "),this.visitNode(e.else)),this.append(" end"),e.isStatement&&this.append(" case")}visitWhen(e){this.append("when "),this.visitNode(e.condition),e.result&&(this.append(" then "),this.visitNode(e.result))}visitJSONReference(e){this.visitNode(e.reference),this.visitNode(e.traversal)}visitJSONPath(e){e.inOperator&&this.visitNode(e.inOperator),this.append("'$");for(const r of e.pathLegs)this.visitNode(r);this.append("'")}visitJSONPathLeg(e){const r=e.type==="ArrayLocation";this.append(r?"[":"."),this.append(String(e.value)),r&&this.append("]")}visitJSONOperatorChain(e){for(let r=0,n=e.values.length;r<n;r++)r===n-1?this.visitNode(e.operator):this.append("->"),this.visitNode(e.values[r])}visitMergeQuery(e){e.with&&(this.visitNode(e.with),this.append(" ")),this.append("merge "),e.top&&(this.visitNode(e.top),this.append(" ")),this.append("into "),this.visitNode(e.into),e.using&&(this.append(" "),this.visitNode(e.using)),e.whens&&(this.append(" "),this.compileList(e.whens," ")),e.output&&(this.append(" "),this.visitNode(e.output)),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitMatched(e){e.not&&this.append("not "),this.append("matched"),e.bySource&&this.append(" by source")}visitAddIndex(e){this.append("add "),e.unique&&this.append("unique "),this.append("index "),this.visitNode(e.name),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.using&&(this.append(" using "),this.visitNode(e.using))}visitCast(e){this.append("cast("),this.visitNode(e.expression),this.append(" as "),this.visitNode(e.dataType),this.append(")")}visitFetch(e){this.append("fetch next "),this.visitNode(e.rowCount),this.append(` rows ${e.modifier}`)}visitOutput(e){this.append("output "),this.compileList(e.selections)}visitTop(e){this.append(`top(${e.expression})`),e.modifiers&&this.append(` ${e.modifiers}`)}append(e){this.#e+=e}appendValue(e){this.addParameter(e),this.append(this.getCurrentParameterPlaceholder())}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getCurrentParameterPlaceholder(){return"$"+this.numParameters}getLeftExplainOptionsWrapper(){return"("}getExplainOptionAssignment(){return" "}getExplainOptionsDelimiter(){return", "}getRightExplainOptionsWrapper(){return")"}sanitizeIdentifier(e){const r=this.getLeftIdentifierWrapper(),n=this.getRightIdentifierWrapper();let o="";for(const a of e)o+=a,a===r?o+=r:a===n&&(o+=n);return o}addParameter(e){this.#t.push(e)}appendImmediateValue(e){if(ki(e))this.append(`'${e}'`);else if(Kp(e)||op(e))this.append(e.toString());else if(G_(e))this.append("null");else if(sj(e))this.appendImmediateValue(e.toISOString());else if(J_(e))this.appendImmediateValue(e.toString());else throw new Error(`invalid immediate value ${e}`)}sortSelectModifiers(e){return e.sort((r,n)=>r.modifier&&n.modifier?kE[r.modifier]-kE[n.modifier]:1),A(e)}compileColumnAlterations(e){this.compileList(e)}announcesNewColumnDataType(){return!0}}const F2=A({ForKeyShare:"for key share",ForNoKeyUpdate:"for no key update",ForUpdate:"for update",ForShare:"for share",NoWait:"nowait",SkipLocked:"skip locked",Distinct:"distinct"}),kE=A({ForKeyShare:1,ForNoKeyUpdate:1,ForUpdate:1,ForShare:1,NoWait:2,SkipLocked:2,Distinct:0}),L2=A({InnerJoin:"inner join",LeftJoin:"left join",RightJoin:"right join",FullJoin:"full join",LateralInnerJoin:"inner join lateral",LateralLeftJoin:"left join lateral",Using:"using"});class j2{get supportsCreateIfNotExists(){return!0}get supportsTransactionalDdl(){return!1}get supportsReturning(){return!1}get supportsOutput(){return!1}}const D2=/"/g;class M2 extends P2{getCurrentParameterPlaceholder(){return"?"}getLeftExplainOptionsWrapper(){return""}getRightExplainOptionsWrapper(){return""}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getAutoIncrement(){return"autoincrement"}sanitizeIdentifier(e){return e.replace(D2,'""')}visitDefaultInsertValue(e){this.append("null")}}const B2="kysely_migration",W2="kysely_migration_lock";A({__noMigrations__:!0});class $2{#e;constructor(e){this.#e=e}async getSchemas(){return[]}async getTables(e={withInternalKyselyTables:!1}){let r=this.#e.selectFrom("sqlite_master").where("type","in",["table","view"]).where("name","not like","sqlite_%").select("name").orderBy("name").$castTo();e.withInternalKyselyTables||(r=r.where("name","!=",B2).where("name","!=",W2));const n=await r.execute();return Promise.all(n.map(({name:o})=>this.#t(o)))}async getMetadata(e){return{tables:await this.getTables(e)}}async #t(e){const r=this.#e,n=await r.selectFrom("sqlite_master").where("name","=",e).select(["sql","type"]).$castTo().executeTakeFirstOrThrow(),o=n.sql?.split(/[\(\),]/)?.find(l=>l.toLowerCase().includes("autoincrement"))?.trimStart()?.split(/\s+/)?.[0]?.replace(/["`]/g,""),a=await r.selectFrom(Zk`pragma_table_info(${e})`.as("table_info")).select(["name","type","notnull","dflt_value"]).orderBy("cid").execute();return{name:e,isView:n.type==="view",columns:a.map(l=>({name:l.name,dataType:l.type,isNullable:!l.notnull,isAutoIncrementing:l.name===o,hasDefaultValue:l.dflt_value!=null,comment:void 0}))}}}class U2 extends j2{get supportsTransactionalDdl(){return!1}get supportsReturning(){return!0}async acquireMigrationLock(e,r){}async releaseMigrationLock(e,r){}}const qE="function",Zl="64e10b34-2bf7-4616-9668-f99de5aa046e",z2="get",V2="has",H2="set",{isArray:Th}=Array;let{SharedArrayBuffer:yp,window:Q2}=globalThis,{notify:Xk,wait:Yk,waitAsync:gp}=Atomics,e3=null;gp||(gp=t=>({value:new Promise(e=>{let r=new Worker("data:application/javascript,onmessage%3D(%7Bdata%3Ab%7D)%3D%3E(Atomics.wait(b%2C0)%2CpostMessage(0))");r.onmessage=e,r.postMessage(t)})}));try{new yp(4)}catch{yp=ArrayBuffer;const e=new WeakMap;if(Q2){const r=new Map,{prototype:{postMessage:n}}=Worker,o=a=>{const l=a.data?.[Zl];if(!Th(l)){a.stopImmediatePropagation();const{id:c,sb:p}=l;r.get(c)(p)}};e3=function(a,...l){const c=a?.[Zl];if(Th(c)){const[p,m]=c;e.set(m,p),this.addEventListener("message",o)}return n.call(this,a,...l)},gp=a=>({value:new Promise(l=>{r.set(e.get(a),l)}).then(l=>{r.delete(e.get(a)),e.delete(a);for(let c=0;c<l.length;c++)a[c]=l[c];return"ok"})})}else{const r=(n,o)=>({[Zl]:{id:n,sb:o}});Xk=n=>{postMessage(r(e.get(n),n))},addEventListener("message",n=>{const o=n.data?.[Zl];if(Th(o)){const[a,l]=o;e.set(l,a)}})}}const{Int32Array:o_,Map:CE,Uint16Array:a_}=globalThis,{BYTES_PER_ELEMENT:RE}=o_,{BYTES_PER_ELEMENT:K2}=a_,G2=(t,e,r)=>{for(;Yk(t,0,0,e)==="timed-out";)r()},l_=new WeakSet,av=new WeakMap,J2={value:{then:t=>t()}};let Z2=0;const cb=(t,{parse:e=JSON.parse,stringify:r=JSON.stringify,transform:n,interrupt:o}=JSON)=>{if(!av.has(t)){const a=e3||t.postMessage,l=(N,...q)=>a.call(t,{[Zl]:q},{transfer:N}),c=typeof o===qE?o:o?.handler,p=o?.delay||42,m=new TextDecoder("utf-16"),b=(N,q)=>N?gp(q,0):(c?G2(q,p,c):Yk(q,0),J2);let x=!1;av.set(t,new Proxy(new CE,{[V2]:(N,q)=>typeof q=="string"&&!q.startsWith("_"),[z2]:(N,q)=>q==="then"?null:(...R)=>{const C=Z2++;let L=new o_(new yp(RE*2)),P=[];l_.has(R.at(-1)||P)&&l_.delete(P=R.pop()),l(P,C,L,q,n?R.map(n):R);const I=t!==globalThis;let D=0;return x&&I&&(D=setTimeout(console.warn,1e3,` - Possible deadlock if proxy.${q}(...args) is awaited`)),b(I,L).value.then(()=>{clearTimeout(D);const z=L[1];if(!z)return;const V=K2*z;return L=new o_(new yp(V+V%RE)),l([],C,L),b(I,L).value.then(()=>e(m.decode(new a_(L.buffer).slice(0,z))))})},[H2](N,q,R){const C=typeof R;if(C!==qE)throw new Error(`Unable to assign ${q} as ${C}`);if(!N.size){const L=new CE;t.addEventListener("message",async P=>{const I=P.data?.[Zl];if(Th(I)){P.stopImmediatePropagation();const[D,z,...V]=I;let W;if(V.length){const[K,le]=V;if(N.has(K)){x=!0;try{const H=await N.get(K)(...le);if(H!==void 0){const ne=r(n?n(H):H);L.set(D,ne),z[1]=ne.length}}catch(H){W=H}finally{x=!1}}else W=new Error(`Unsupported action: ${K}`);z[0]=1}else{const K=L.get(D);L.delete(D);for(let le=new a_(z.buffer),H=0;H<K.length;H++)le[H]=K.charCodeAt(H)}if(Xk(z,0),W)throw W}})}return!!N.set(q,R)}}))}return av.get(t)};cb.transfer=(...t)=>(l_.add(t),t);var db=(()=>{var t=import.meta.url;return function(e={}){var r,n=e,o,a,l=new Promise((d,f)=>{o=d,a=f}),c=typeof window=="object",p=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;const m=globalThis.sqlite3InitModuleState||Object.assign(Object.create(null),{debugModule:()=>{}});delete globalThis.sqlite3InitModuleState,m.debugModule("globalThis.location =",globalThis.location);var b=Object.assign({},n),x="./this.program",N="";function q(d){return n.locateFile?n.locateFile(d,N):N+d}var R,C;(c||p)&&(p?N=self.location.href:typeof document<"u"&&document.currentScript&&(N=document.currentScript.src),t&&(N=t),N.startsWith("blob:")?N="":N=N.substr(0,N.replace(/[?#].*/,"").lastIndexOf("/")+1),p&&(C=d=>{var f=new XMLHttpRequest;return f.open("GET",d,!1),f.responseType="arraybuffer",f.send(null),new Uint8Array(f.response)}),R=d=>fetch(d,{credentials:"same-origin"}).then(f=>f.ok?f.arrayBuffer():Promise.reject(new Error(f.status+" : "+f.url))));var L=n.print||console.log.bind(console),P=n.printErr||console.error.bind(console);Object.assign(n,b),b=null,n.arguments&&n.arguments,n.thisProgram&&(x=n.thisProgram);var I=n.wasmBinary,D,z=!1,V,W,K,le,H,ne;function B(){var d=D.buffer;n.HEAP8=V=new Int8Array(d),n.HEAP16=K=new Int16Array(d),n.HEAPU8=W=new Uint8Array(d),n.HEAPU16=new Uint16Array(d),n.HEAP32=le=new Int32Array(d),n.HEAPU32=H=new Uint32Array(d),n.HEAPF32=new Float32Array(d),n.HEAPF64=new Float64Array(d),n.HEAP64=ne=new BigInt64Array(d),n.HEAPU64=new BigUint64Array(d)}if(n.wasmMemory)D=n.wasmMemory;else{var re=n.INITIAL_MEMORY||0x1000000;D=new WebAssembly.Memory({initial:re/65536,maximum:32768})}B();var Z=[],pe=[],Re=[];function Ce(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)me(n.preRun.shift());se(Z)}function Pe(){!n.noFSInit&&!T.initialized&&T.init(),T.ignorePermissions=!1,se(pe)}function ve(){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)Q(n.postRun.shift());se(Re)}function me(d){Z.unshift(d)}function Ee(d){pe.unshift(d)}function Q(d){Re.unshift(d)}var xe=0,lt=null;function at(d){return d}function dt(d){xe++,n.monitorRunDependencies?.(xe)}function mt(d){if(xe--,n.monitorRunDependencies?.(xe),xe==0&&lt){var f=lt;lt=null,f()}}function ft(d){n.onAbort?.(d),d="Aborted("+d+")",P(d),z=!0,d+=". Build with -sASSERTIONS for more info.";var f=new WebAssembly.RuntimeError(d);throw a(f),f}var gt="data:application/octet-stream;base64,",It=d=>d.startsWith(gt);function vt(){if(n.locateFile){var d="sqlite3.wasm";return It(d)?d:q(d)}return new URL("/assets/sqlite3-CgX3seBP.wasm",import.meta.url).href}var yt;function Rt(d){if(d==yt&&I)return new Uint8Array(I);if(C)return C(d);throw"both async and sync fetching of the wasm failed"}function qt(d){return I?Promise.resolve().then(()=>Rt(d)):R(d).then(f=>new Uint8Array(f),()=>Rt(d))}function Jt(d,f,y){return qt(d).then(_=>WebAssembly.instantiate(_,f)).then(y,_=>{P(`failed to asynchronously prepare wasm: ${_}`),ft(_)})}function Gt(d,f,y,_){return!d&&typeof WebAssembly.instantiateStreaming=="function"&&!It(f)&&typeof fetch=="function"?fetch(f,{credentials:"same-origin"}).then(S=>{var k=WebAssembly.instantiateStreaming(S,y);return k.then(_,function(X){return P(`wasm streaming compile failed: ${X}`),P("falling back to ArrayBuffer instantiation"),Jt(f,y,_)})}):Jt(f,y,_)}function er(){return{env:Qu,wasi_snapshot_preview1:Qu}}function ur(){var d=er();function f(_,S){return ee=_.exports,Ee(ee.__wasm_call_ctors),mt(),ee}dt();function y(_){f(_.instance)}if(n.instantiateWasm)try{return n.instantiateWasm(d,f)}catch(_){P(`Module.instantiateWasm callback failed with error: ${_}`),a(_)}return yt||(yt=vt()),Gt(I,yt,d,y).catch(a),{}}var se=d=>{for(;d.length>0;)d.shift()(n)};n.noExitRuntime;var ae={isAbs:d=>d.charAt(0)==="/",splitPath:d=>{var f=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return f.exec(d).slice(1)},normalizeArray:(d,f)=>{for(var y=0,_=d.length-1;_>=0;_--){var S=d[_];S==="."?d.splice(_,1):S===".."?(d.splice(_,1),y++):y&&(d.splice(_,1),y--)}if(f)for(;y;y--)d.unshift("..");return d},normalize:d=>{var f=ae.isAbs(d),y=d.substr(-1)==="/";return d=ae.normalizeArray(d.split("/").filter(_=>!!_),!f).join("/"),!d&&!f&&(d="."),d&&y&&(d+="/"),(f?"/":"")+d},dirname:d=>{var f=ae.splitPath(d),y=f[0],_=f[1];return!y&&!_?".":(_&&(_=_.substr(0,_.length-1)),y+_)},basename:d=>{if(d==="/")return"/";d=ae.normalize(d),d=d.replace(/\/$/,"");var f=d.lastIndexOf("/");return f===-1?d:d.substr(f+1)},join:(...d)=>ae.normalize(d.join("/")),join2:(d,f)=>ae.normalize(d+"/"+f)},ye=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return d=>crypto.getRandomValues(d);ft("initRandomDevice")},Oe=d=>(Oe=ye())(d),je={resolve:(...d)=>{for(var f="",y=!1,_=d.length-1;_>=-1&&!y;_--){var S=_>=0?d[_]:T.cwd();if(typeof S!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!S)return"";f=S+"/"+f,y=ae.isAbs(S)}return f=ae.normalizeArray(f.split("/").filter(k=>!!k),!y).join("/"),(y?"/":"")+f||"."},relative:(d,f)=>{d=je.resolve(d).substr(1),f=je.resolve(f).substr(1);function y(ze){for(var Je=0;Je<ze.length&&ze[Je]==="";Je++);for(var rt=ze.length-1;rt>=0&&ze[rt]==="";rt--);return Je>rt?[]:ze.slice(Je,rt-Je+1)}for(var _=y(d.split("/")),S=y(f.split("/")),k=Math.min(_.length,S.length),X=k,te=0;te<k;te++)if(_[te]!==S[te]){X=te;break}for(var Le=[],te=X;te<_.length;te++)Le.push("..");return Le=Le.concat(S.slice(X)),Le.join("/")}},Ge=typeof TextDecoder<"u"?new TextDecoder:void 0,_t=(d,f,y)=>{for(var _=f+y,S=f;d[S]&&!(S>=_);)++S;if(S-f>16&&d.buffer&&Ge)return Ge.decode(d.subarray(f,S));for(var k="";f<S;){var X=d[f++];if(!(X&128)){k+=String.fromCharCode(X);continue}var te=d[f++]&63;if((X&224)==192){k+=String.fromCharCode((X&31)<<6|te);continue}var Le=d[f++]&63;if((X&240)==224?X=(X&15)<<12|te<<6|Le:X=(X&7)<<18|te<<12|Le<<6|d[f++]&63,X<65536)k+=String.fromCharCode(X);else{var ze=X-65536;k+=String.fromCharCode(55296|ze>>10,56320|ze&1023)}}return k},Mt=[],mr=d=>{for(var f=0,y=0;y<d.length;++y){var _=d.charCodeAt(y);_<=127?f++:_<=2047?f+=2:_>=55296&&_<=57343?(f+=4,++y):f+=3}return f},cr=(d,f,y,_)=>{if(!(_>0))return 0;for(var S=y,k=y+_-1,X=0;X<d.length;++X){var te=d.charCodeAt(X);if(te>=55296&&te<=57343){var Le=d.charCodeAt(++X);te=65536+((te&1023)<<10)|Le&1023}if(te<=127){if(y>=k)break;f[y++]=te}else if(te<=2047){if(y+1>=k)break;f[y++]=192|te>>6,f[y++]=128|te&63}else if(te<=65535){if(y+2>=k)break;f[y++]=224|te>>12,f[y++]=128|te>>6&63,f[y++]=128|te&63}else{if(y+3>=k)break;f[y++]=240|te>>18,f[y++]=128|te>>12&63,f[y++]=128|te>>6&63,f[y++]=128|te&63}}return f[y]=0,y-S};function Ar(d,f,y){var _=mr(d)+1,S=new Array(_),k=cr(d,S,0,S.length);return S.length=k,S}var Pn=()=>{if(!Mt.length){var d=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(d=window.prompt("Input: "),d!==null&&(d+=`
`)),!d)return null;Mt=Ar(d)}return Mt.shift()},Xr={ttys:[],init(){},shutdown(){},register(d,f){Xr.ttys[d]={input:[],output:[],ops:f},T.registerDevice(d,Xr.stream_ops)},stream_ops:{open(d){var f=Xr.ttys[d.node.rdev];if(!f)throw new T.ErrnoError(43);d.tty=f,d.seekable=!1},close(d){d.tty.ops.fsync(d.tty)},fsync(d){d.tty.ops.fsync(d.tty)},read(d,f,y,_,S){if(!d.tty||!d.tty.ops.get_char)throw new T.ErrnoError(60);for(var k=0,X=0;X<_;X++){var te;try{te=d.tty.ops.get_char(d.tty)}catch{throw new T.ErrnoError(29)}if(te===void 0&&k===0)throw new T.ErrnoError(6);if(te==null)break;k++,f[y+X]=te}return k&&(d.node.timestamp=Date.now()),k},write(d,f,y,_,S){if(!d.tty||!d.tty.ops.put_char)throw new T.ErrnoError(60);try{for(var k=0;k<_;k++)d.tty.ops.put_char(d.tty,f[y+k])}catch{throw new T.ErrnoError(29)}return _&&(d.node.timestamp=Date.now()),k}},default_tty_ops:{get_char(d){return Pn()},put_char(d,f){f===null||f===10?(L(_t(d.output,0)),d.output=[]):f!=0&&d.output.push(f)},fsync(d){d.output&&d.output.length>0&&(L(_t(d.output,0)),d.output=[])},ioctl_tcgets(d){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(d,f,y){return 0},ioctl_tiocgwinsz(d){return[24,80]}},default_tty1_ops:{put_char(d,f){f===null||f===10?(P(_t(d.output,0)),d.output=[]):f!=0&&d.output.push(f)},fsync(d){d.output&&d.output.length>0&&(P(_t(d.output,0)),d.output=[])}}},Vn=(d,f)=>(W.fill(0,d,d+f),d),Fs=(d,f)=>Math.ceil(d/f)*f,gn=d=>{d=Fs(d,65536);var f=Ku(65536,d);return f?Vn(f,d):0},zt={ops_table:null,mount(d){return zt.createNode(null,"/",16895,0)},createNode(d,f,y,_){if(T.isBlkdev(y)||T.isFIFO(y))throw new T.ErrnoError(63);zt.ops_table||={dir:{node:{getattr:zt.node_ops.getattr,setattr:zt.node_ops.setattr,lookup:zt.node_ops.lookup,mknod:zt.node_ops.mknod,rename:zt.node_ops.rename,unlink:zt.node_ops.unlink,rmdir:zt.node_ops.rmdir,readdir:zt.node_ops.readdir,symlink:zt.node_ops.symlink},stream:{llseek:zt.stream_ops.llseek}},file:{node:{getattr:zt.node_ops.getattr,setattr:zt.node_ops.setattr},stream:{llseek:zt.stream_ops.llseek,read:zt.stream_ops.read,write:zt.stream_ops.write,allocate:zt.stream_ops.allocate,mmap:zt.stream_ops.mmap,msync:zt.stream_ops.msync}},link:{node:{getattr:zt.node_ops.getattr,setattr:zt.node_ops.setattr,readlink:zt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:zt.node_ops.getattr,setattr:zt.node_ops.setattr},stream:T.chrdev_stream_ops}};var S=T.createNode(d,f,y,_);return T.isDir(S.mode)?(S.node_ops=zt.ops_table.dir.node,S.stream_ops=zt.ops_table.dir.stream,S.contents={}):T.isFile(S.mode)?(S.node_ops=zt.ops_table.file.node,S.stream_ops=zt.ops_table.file.stream,S.usedBytes=0,S.contents=null):T.isLink(S.mode)?(S.node_ops=zt.ops_table.link.node,S.stream_ops=zt.ops_table.link.stream):T.isChrdev(S.mode)&&(S.node_ops=zt.ops_table.chrdev.node,S.stream_ops=zt.ops_table.chrdev.stream),S.timestamp=Date.now(),d&&(d.contents[f]=S,d.timestamp=S.timestamp),S},getFileDataAsTypedArray(d){return d.contents?d.contents.subarray?d.contents.subarray(0,d.usedBytes):new Uint8Array(d.contents):new Uint8Array(0)},expandFileStorage(d,f){var y=d.contents?d.contents.length:0;if(!(y>=f)){var _=1024*1024;f=Math.max(f,y*(y<_?2:1.125)>>>0),y!=0&&(f=Math.max(f,256));var S=d.contents;d.contents=new Uint8Array(f),d.usedBytes>0&&d.contents.set(S.subarray(0,d.usedBytes),0)}},resizeFileStorage(d,f){if(d.usedBytes!=f)if(f==0)d.contents=null,d.usedBytes=0;else{var y=d.contents;d.contents=new Uint8Array(f),y&&d.contents.set(y.subarray(0,Math.min(f,d.usedBytes))),d.usedBytes=f}},node_ops:{getattr(d){var f={};return f.dev=T.isChrdev(d.mode)?d.id:1,f.ino=d.id,f.mode=d.mode,f.nlink=1,f.uid=0,f.gid=0,f.rdev=d.rdev,T.isDir(d.mode)?f.size=4096:T.isFile(d.mode)?f.size=d.usedBytes:T.isLink(d.mode)?f.size=d.link.length:f.size=0,f.atime=new Date(d.timestamp),f.mtime=new Date(d.timestamp),f.ctime=new Date(d.timestamp),f.blksize=4096,f.blocks=Math.ceil(f.size/f.blksize),f},setattr(d,f){f.mode!==void 0&&(d.mode=f.mode),f.timestamp!==void 0&&(d.timestamp=f.timestamp),f.size!==void 0&&zt.resizeFileStorage(d,f.size)},lookup(d,f){throw T.genericErrors[44]},mknod(d,f,y,_){return zt.createNode(d,f,y,_)},rename(d,f,y){if(T.isDir(d.mode)){var _;try{_=T.lookupNode(f,y)}catch{}if(_)for(var S in _.contents)throw new T.ErrnoError(55)}delete d.parent.contents[d.name],d.parent.timestamp=Date.now(),d.name=y,f.contents[y]=d,f.timestamp=d.parent.timestamp},unlink(d,f){delete d.contents[f],d.timestamp=Date.now()},rmdir(d,f){var y=T.lookupNode(d,f);for(var _ in y.contents)throw new T.ErrnoError(55);delete d.contents[f],d.timestamp=Date.now()},readdir(d){var f=[".",".."];for(var y of Object.keys(d.contents))f.push(y);return f},symlink(d,f,y){var _=zt.createNode(d,f,41471,0);return _.link=y,_},readlink(d){if(!T.isLink(d.mode))throw new T.ErrnoError(28);return d.link}},stream_ops:{read(d,f,y,_,S){var k=d.node.contents;if(S>=d.node.usedBytes)return 0;var X=Math.min(d.node.usedBytes-S,_);if(X>8&&k.subarray)f.set(k.subarray(S,S+X),y);else for(var te=0;te<X;te++)f[y+te]=k[S+te];return X},write(d,f,y,_,S,k){if(f.buffer===V.buffer&&(k=!1),!_)return 0;var X=d.node;if(X.timestamp=Date.now(),f.subarray&&(!X.contents||X.contents.subarray)){if(k)return X.contents=f.subarray(y,y+_),X.usedBytes=_,_;if(X.usedBytes===0&&S===0)return X.contents=f.slice(y,y+_),X.usedBytes=_,_;if(S+_<=X.usedBytes)return X.contents.set(f.subarray(y,y+_),S),_}if(zt.expandFileStorage(X,S+_),X.contents.subarray&&f.subarray)X.contents.set(f.subarray(y,y+_),S);else for(var te=0;te<_;te++)X.contents[S+te]=f[y+te];return X.usedBytes=Math.max(X.usedBytes,S+_),_},llseek(d,f,y){var _=f;if(y===1?_+=d.position:y===2&&T.isFile(d.node.mode)&&(_+=d.node.usedBytes),_<0)throw new T.ErrnoError(28);return _},allocate(d,f,y){zt.expandFileStorage(d.node,f+y),d.node.usedBytes=Math.max(d.node.usedBytes,f+y)},mmap(d,f,y,_,S){if(!T.isFile(d.node.mode))throw new T.ErrnoError(43);var k,X,te=d.node.contents;if(!(S&2)&&te&&te.buffer===V.buffer)X=!1,k=te.byteOffset;else{if(X=!0,k=gn(f),!k)throw new T.ErrnoError(48);te&&((y>0||y+f<te.length)&&(te.subarray?te=te.subarray(y,y+f):te=Array.prototype.slice.call(te,y,y+f)),V.set(te,k))}return{ptr:k,allocated:X}},msync(d,f,y,_,S){return zt.stream_ops.write(d,f,0,_,y,!1),0}}},go=(d,f,y,_)=>{var S=`al ${d}`;R(d).then(k=>{f(new Uint8Array(k)),S&&mt()},k=>{if(y)y();else throw`Loading data file "${d}" failed.`}),S&&dt()},vo=(d,f,y,_,S,k)=>{T.createDataFile(d,f,y,_,S,k)},_o=n.preloadPlugins||[],ju=(d,f,y,_)=>{typeof Browser<"u"&&Browser.init();var S=!1;return _o.forEach(k=>{S||k.canHandle(f)&&(k.handle(d,f,y,_),S=!0)}),S},Du=(d,f,y,_,S,k,X,te,Le,ze)=>{var Je=f?je.resolve(ae.join2(d,f)):d;function rt(Ae){function we(Ue){ze?.(),te||vo(d,f,Ue,_,S,Le),k?.(),mt()}ju(Ae,Je,we,()=>{X?.(),mt()})||we(Ae)}dt(),typeof y=="string"?go(y,rt,X):rt(y)},Mu=d=>{var f={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},y=f[d];if(typeof y>"u")throw new Error(`Unknown file open mode: ${d}`);return y},cs=(d,f)=>{var y=0;return d&&(y|=365),f&&(y|=146),y},T={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:class{constructor(d){this.name="ErrnoError",this.errno=d}},genericErrors:{},filesystems:null,syncFSRequests:0,FSStream:class{constructor(){this.shared={}}get object(){return this.node}set object(d){this.node=d}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(d){this.shared.flags=d}get position(){return this.shared.position}set position(d){this.shared.position=d}},FSNode:class{constructor(d,f,y,_){d||(d=this),this.parent=d,this.mount=d.mount,this.mounted=null,this.id=T.nextInode++,this.name=f,this.mode=y,this.node_ops={},this.stream_ops={},this.rdev=_,this.readMode=365,this.writeMode=146}get read(){return(this.mode&this.readMode)===this.readMode}set read(d){d?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(d){d?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return T.isDir(this.mode)}get isDevice(){return T.isChrdev(this.mode)}},lookupPath(d,f={}){if(d=je.resolve(d),!d)return{path:"",node:null};var y={follow_mount:!0,recurse_count:0};if(f=Object.assign(y,f),f.recurse_count>8)throw new T.ErrnoError(32);for(var _=d.split("/").filter(rt=>!!rt),S=T.root,k="/",X=0;X<_.length;X++){var te=X===_.length-1;if(te&&f.parent)break;if(S=T.lookupNode(S,_[X]),k=ae.join2(k,_[X]),T.isMountpoint(S)&&(!te||te&&f.follow_mount)&&(S=S.mounted.root),!te||f.follow)for(var Le=0;T.isLink(S.mode);){var ze=T.readlink(k);k=je.resolve(ae.dirname(k),ze);var Je=T.lookupPath(k,{recurse_count:f.recurse_count+1});if(S=Je.node,Le++>40)throw new T.ErrnoError(32)}}return{path:k,node:S}},getPath(d){for(var f;;){if(T.isRoot(d)){var y=d.mount.mountpoint;return f?y[y.length-1]!=="/"?`${y}/${f}`:y+f:y}f=f?`${d.name}/${f}`:d.name,d=d.parent}},hashName(d,f){for(var y=0,_=0;_<f.length;_++)y=(y<<5)-y+f.charCodeAt(_)|0;return(d+y>>>0)%T.nameTable.length},hashAddNode(d){var f=T.hashName(d.parent.id,d.name);d.name_next=T.nameTable[f],T.nameTable[f]=d},hashRemoveNode(d){var f=T.hashName(d.parent.id,d.name);if(T.nameTable[f]===d)T.nameTable[f]=d.name_next;else for(var y=T.nameTable[f];y;){if(y.name_next===d){y.name_next=d.name_next;break}y=y.name_next}},lookupNode(d,f){var y=T.mayLookup(d);if(y)throw new T.ErrnoError(y);for(var _=T.hashName(d.id,f),S=T.nameTable[_];S;S=S.name_next){var k=S.name;if(S.parent.id===d.id&&k===f)return S}return T.lookup(d,f)},createNode(d,f,y,_){var S=new T.FSNode(d,f,y,_);return T.hashAddNode(S),S},destroyNode(d){T.hashRemoveNode(d)},isRoot(d){return d===d.parent},isMountpoint(d){return!!d.mounted},isFile(d){return(d&61440)===32768},isDir(d){return(d&61440)===16384},isLink(d){return(d&61440)===40960},isChrdev(d){return(d&61440)===8192},isBlkdev(d){return(d&61440)===24576},isFIFO(d){return(d&61440)===4096},isSocket(d){return(d&49152)===49152},flagsToPermissionString(d){var f=["r","w","rw"][d&3];return d&512&&(f+="w"),f},nodePermissions(d,f){return T.ignorePermissions?0:f.includes("r")&&!(d.mode&292)||f.includes("w")&&!(d.mode&146)||f.includes("x")&&!(d.mode&73)?2:0},mayLookup(d){if(!T.isDir(d.mode))return 54;var f=T.nodePermissions(d,"x");return f||(d.node_ops.lookup?0:2)},mayCreate(d,f){try{var y=T.lookupNode(d,f);return 20}catch{}return T.nodePermissions(d,"wx")},mayDelete(d,f,y){var _;try{_=T.lookupNode(d,f)}catch(k){return k.errno}var S=T.nodePermissions(d,"wx");if(S)return S;if(y){if(!T.isDir(_.mode))return 54;if(T.isRoot(_)||T.getPath(_)===T.cwd())return 10}else if(T.isDir(_.mode))return 31;return 0},mayOpen(d,f){return d?T.isLink(d.mode)?32:T.isDir(d.mode)&&(T.flagsToPermissionString(f)!=="r"||f&512)?31:T.nodePermissions(d,T.flagsToPermissionString(f)):44},MAX_OPEN_FDS:4096,nextfd(){for(var d=0;d<=T.MAX_OPEN_FDS;d++)if(!T.streams[d])return d;throw new T.ErrnoError(33)},getStreamChecked(d){var f=T.getStream(d);if(!f)throw new T.ErrnoError(8);return f},getStream:d=>T.streams[d],createStream(d,f=-1){return d=Object.assign(new T.FSStream,d),f==-1&&(f=T.nextfd()),d.fd=f,T.streams[f]=d,d},closeStream(d){T.streams[d]=null},dupStream(d,f=-1){var y=T.createStream(d,f);return y.stream_ops?.dup?.(y),y},chrdev_stream_ops:{open(d){var f=T.getDevice(d.node.rdev);d.stream_ops=f.stream_ops,d.stream_ops.open?.(d)},llseek(){throw new T.ErrnoError(70)}},major:d=>d>>8,minor:d=>d&255,makedev:(d,f)=>d<<8|f,registerDevice(d,f){T.devices[d]={stream_ops:f}},getDevice:d=>T.devices[d],getMounts(d){for(var f=[],y=[d];y.length;){var _=y.pop();f.push(_),y.push(..._.mounts)}return f},syncfs(d,f){typeof d=="function"&&(f=d,d=!1),T.syncFSRequests++,T.syncFSRequests>1&&P(`warning: ${T.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var y=T.getMounts(T.root.mount),_=0;function S(X){return T.syncFSRequests--,f(X)}function k(X){if(X)return k.errored?void 0:(k.errored=!0,S(X));++_>=y.length&&S(null)}y.forEach(X=>{if(!X.type.syncfs)return k(null);X.type.syncfs(X,d,k)})},mount(d,f,y){var _=y==="/",S=!y,k;if(_&&T.root)throw new T.ErrnoError(10);if(!_&&!S){var X=T.lookupPath(y,{follow_mount:!1});if(y=X.path,k=X.node,T.isMountpoint(k))throw new T.ErrnoError(10);if(!T.isDir(k.mode))throw new T.ErrnoError(54)}var te={type:d,opts:f,mountpoint:y,mounts:[]},Le=d.mount(te);return Le.mount=te,te.root=Le,_?T.root=Le:k&&(k.mounted=te,k.mount&&k.mount.mounts.push(te)),Le},unmount(d){var f=T.lookupPath(d,{follow_mount:!1});if(!T.isMountpoint(f.node))throw new T.ErrnoError(28);var y=f.node,_=y.mounted,S=T.getMounts(_);Object.keys(T.nameTable).forEach(X=>{for(var te=T.nameTable[X];te;){var Le=te.name_next;S.includes(te.mount)&&T.destroyNode(te),te=Le}}),y.mounted=null;var k=y.mount.mounts.indexOf(_);y.mount.mounts.splice(k,1)},lookup(d,f){return d.node_ops.lookup(d,f)},mknod(d,f,y){var _=T.lookupPath(d,{parent:!0}),S=_.node,k=ae.basename(d);if(!k||k==="."||k==="..")throw new T.ErrnoError(28);var X=T.mayCreate(S,k);if(X)throw new T.ErrnoError(X);if(!S.node_ops.mknod)throw new T.ErrnoError(63);return S.node_ops.mknod(S,k,f,y)},create(d,f){return f=f!==void 0?f:438,f&=4095,f|=32768,T.mknod(d,f,0)},mkdir(d,f){return f=f!==void 0?f:511,f&=1023,f|=16384,T.mknod(d,f,0)},mkdirTree(d,f){for(var y=d.split("/"),_="",S=0;S<y.length;++S)if(y[S]){_+="/"+y[S];try{T.mkdir(_,f)}catch(k){if(k.errno!=20)throw k}}},mkdev(d,f,y){return typeof y>"u"&&(y=f,f=438),f|=8192,T.mknod(d,f,y)},symlink(d,f){if(!je.resolve(d))throw new T.ErrnoError(44);var y=T.lookupPath(f,{parent:!0}),_=y.node;if(!_)throw new T.ErrnoError(44);var S=ae.basename(f),k=T.mayCreate(_,S);if(k)throw new T.ErrnoError(k);if(!_.node_ops.symlink)throw new T.ErrnoError(63);return _.node_ops.symlink(_,S,d)},rename(d,f){var y=ae.dirname(d),_=ae.dirname(f),S=ae.basename(d),k=ae.basename(f),X,te,Le;if(X=T.lookupPath(d,{parent:!0}),te=X.node,X=T.lookupPath(f,{parent:!0}),Le=X.node,!te||!Le)throw new T.ErrnoError(44);if(te.mount!==Le.mount)throw new T.ErrnoError(75);var ze=T.lookupNode(te,S),Je=je.relative(d,_);if(Je.charAt(0)!==".")throw new T.ErrnoError(28);if(Je=je.relative(f,y),Je.charAt(0)!==".")throw new T.ErrnoError(55);var rt;try{rt=T.lookupNode(Le,k)}catch{}if(ze!==rt){var Ae=T.isDir(ze.mode),we=T.mayDelete(te,S,Ae);if(we)throw new T.ErrnoError(we);if(we=rt?T.mayDelete(Le,k,Ae):T.mayCreate(Le,k),we)throw new T.ErrnoError(we);if(!te.node_ops.rename)throw new T.ErrnoError(63);if(T.isMountpoint(ze)||rt&&T.isMountpoint(rt))throw new T.ErrnoError(10);if(Le!==te&&(we=T.nodePermissions(te,"w"),we))throw new T.ErrnoError(we);T.hashRemoveNode(ze);try{te.node_ops.rename(ze,Le,k),ze.parent=Le}catch(Ue){throw Ue}finally{T.hashAddNode(ze)}}},rmdir(d){var f=T.lookupPath(d,{parent:!0}),y=f.node,_=ae.basename(d),S=T.lookupNode(y,_),k=T.mayDelete(y,_,!0);if(k)throw new T.ErrnoError(k);if(!y.node_ops.rmdir)throw new T.ErrnoError(63);if(T.isMountpoint(S))throw new T.ErrnoError(10);y.node_ops.rmdir(y,_),T.destroyNode(S)},readdir(d){var f=T.lookupPath(d,{follow:!0}),y=f.node;if(!y.node_ops.readdir)throw new T.ErrnoError(54);return y.node_ops.readdir(y)},unlink(d){var f=T.lookupPath(d,{parent:!0}),y=f.node;if(!y)throw new T.ErrnoError(44);var _=ae.basename(d),S=T.lookupNode(y,_),k=T.mayDelete(y,_,!1);if(k)throw new T.ErrnoError(k);if(!y.node_ops.unlink)throw new T.ErrnoError(63);if(T.isMountpoint(S))throw new T.ErrnoError(10);y.node_ops.unlink(y,_),T.destroyNode(S)},readlink(d){var f=T.lookupPath(d),y=f.node;if(!y)throw new T.ErrnoError(44);if(!y.node_ops.readlink)throw new T.ErrnoError(28);return je.resolve(T.getPath(y.parent),y.node_ops.readlink(y))},stat(d,f){var y=T.lookupPath(d,{follow:!f}),_=y.node;if(!_)throw new T.ErrnoError(44);if(!_.node_ops.getattr)throw new T.ErrnoError(63);return _.node_ops.getattr(_)},lstat(d){return T.stat(d,!0)},chmod(d,f,y){var _;if(typeof d=="string"){var S=T.lookupPath(d,{follow:!y});_=S.node}else _=d;if(!_.node_ops.setattr)throw new T.ErrnoError(63);_.node_ops.setattr(_,{mode:f&4095|_.mode&-4096,timestamp:Date.now()})},lchmod(d,f){T.chmod(d,f,!0)},fchmod(d,f){var y=T.getStreamChecked(d);T.chmod(y.node,f)},chown(d,f,y,_){var S;if(typeof d=="string"){var k=T.lookupPath(d,{follow:!_});S=k.node}else S=d;if(!S.node_ops.setattr)throw new T.ErrnoError(63);S.node_ops.setattr(S,{timestamp:Date.now()})},lchown(d,f,y){T.chown(d,f,y,!0)},fchown(d,f,y){var _=T.getStreamChecked(d);T.chown(_.node,f,y)},truncate(d,f){if(f<0)throw new T.ErrnoError(28);var y;if(typeof d=="string"){var _=T.lookupPath(d,{follow:!0});y=_.node}else y=d;if(!y.node_ops.setattr)throw new T.ErrnoError(63);if(T.isDir(y.mode))throw new T.ErrnoError(31);if(!T.isFile(y.mode))throw new T.ErrnoError(28);var S=T.nodePermissions(y,"w");if(S)throw new T.ErrnoError(S);y.node_ops.setattr(y,{size:f,timestamp:Date.now()})},ftruncate(d,f){var y=T.getStreamChecked(d);if(!(y.flags&2097155))throw new T.ErrnoError(28);T.truncate(y.node,f)},utime(d,f,y){var _=T.lookupPath(d,{follow:!0}),S=_.node;S.node_ops.setattr(S,{timestamp:Math.max(f,y)})},open(d,f,y){if(d==="")throw new T.ErrnoError(44);f=typeof f=="string"?Mu(f):f,f&64?(y=typeof y>"u"?438:y,y=y&4095|32768):y=0;var _;if(typeof d=="object")_=d;else{d=ae.normalize(d);try{var S=T.lookupPath(d,{follow:!(f&131072)});_=S.node}catch{}}var k=!1;if(f&64)if(_){if(f&128)throw new T.ErrnoError(20)}else _=T.mknod(d,y,0),k=!0;if(!_)throw new T.ErrnoError(44);if(T.isChrdev(_.mode)&&(f&=-513),f&65536&&!T.isDir(_.mode))throw new T.ErrnoError(54);if(!k){var X=T.mayOpen(_,f);if(X)throw new T.ErrnoError(X)}f&512&&!k&&T.truncate(_,0),f&=-131713;var te=T.createStream({node:_,path:T.getPath(_),flags:f,seekable:!0,position:0,stream_ops:_.stream_ops,ungotten:[],error:!1});return te.stream_ops.open&&te.stream_ops.open(te),n.logReadFiles&&!(f&1)&&(T.readFiles||(T.readFiles={}),d in T.readFiles||(T.readFiles[d]=1)),te},close(d){if(T.isClosed(d))throw new T.ErrnoError(8);d.getdents&&(d.getdents=null);try{d.stream_ops.close&&d.stream_ops.close(d)}catch(f){throw f}finally{T.closeStream(d.fd)}d.fd=null},isClosed(d){return d.fd===null},llseek(d,f,y){if(T.isClosed(d))throw new T.ErrnoError(8);if(!d.seekable||!d.stream_ops.llseek)throw new T.ErrnoError(70);if(y!=0&&y!=1&&y!=2)throw new T.ErrnoError(28);return d.position=d.stream_ops.llseek(d,f,y),d.ungotten=[],d.position},read(d,f,y,_,S){if(_<0||S<0)throw new T.ErrnoError(28);if(T.isClosed(d))throw new T.ErrnoError(8);if((d.flags&2097155)===1)throw new T.ErrnoError(8);if(T.isDir(d.node.mode))throw new T.ErrnoError(31);if(!d.stream_ops.read)throw new T.ErrnoError(28);var k=typeof S<"u";if(!k)S=d.position;else if(!d.seekable)throw new T.ErrnoError(70);var X=d.stream_ops.read(d,f,y,_,S);return k||(d.position+=X),X},write(d,f,y,_,S,k){if(_<0||S<0)throw new T.ErrnoError(28);if(T.isClosed(d))throw new T.ErrnoError(8);if(!(d.flags&2097155))throw new T.ErrnoError(8);if(T.isDir(d.node.mode))throw new T.ErrnoError(31);if(!d.stream_ops.write)throw new T.ErrnoError(28);d.seekable&&d.flags&1024&&T.llseek(d,0,2);var X=typeof S<"u";if(!X)S=d.position;else if(!d.seekable)throw new T.ErrnoError(70);var te=d.stream_ops.write(d,f,y,_,S,k);return X||(d.position+=te),te},allocate(d,f,y){if(T.isClosed(d))throw new T.ErrnoError(8);if(f<0||y<=0)throw new T.ErrnoError(28);if(!(d.flags&2097155))throw new T.ErrnoError(8);if(!T.isFile(d.node.mode)&&!T.isDir(d.node.mode))throw new T.ErrnoError(43);if(!d.stream_ops.allocate)throw new T.ErrnoError(138);d.stream_ops.allocate(d,f,y)},mmap(d,f,y,_,S){if(_&2&&!(S&2)&&(d.flags&2097155)!==2)throw new T.ErrnoError(2);if((d.flags&2097155)===1)throw new T.ErrnoError(2);if(!d.stream_ops.mmap)throw new T.ErrnoError(43);if(!f)throw new T.ErrnoError(28);return d.stream_ops.mmap(d,f,y,_,S)},msync(d,f,y,_,S){return d.stream_ops.msync?d.stream_ops.msync(d,f,y,_,S):0},ioctl(d,f,y){if(!d.stream_ops.ioctl)throw new T.ErrnoError(59);return d.stream_ops.ioctl(d,f,y)},readFile(d,f={}){if(f.flags=f.flags||0,f.encoding=f.encoding||"binary",f.encoding!=="utf8"&&f.encoding!=="binary")throw new Error(`Invalid encoding type "${f.encoding}"`);var y,_=T.open(d,f.flags),S=T.stat(d),k=S.size,X=new Uint8Array(k);return T.read(_,X,0,k,0),f.encoding==="utf8"?y=_t(X,0):f.encoding==="binary"&&(y=X),T.close(_),y},writeFile(d,f,y={}){y.flags=y.flags||577;var _=T.open(d,y.flags,y.mode);if(typeof f=="string"){var S=new Uint8Array(mr(f)+1),k=cr(f,S,0,S.length);T.write(_,S,0,k,void 0,y.canOwn)}else if(ArrayBuffer.isView(f))T.write(_,f,0,f.byteLength,void 0,y.canOwn);else throw new Error("Unsupported data type");T.close(_)},cwd:()=>T.currentPath,chdir(d){var f=T.lookupPath(d,{follow:!0});if(f.node===null)throw new T.ErrnoError(44);if(!T.isDir(f.node.mode))throw new T.ErrnoError(54);var y=T.nodePermissions(f.node,"x");if(y)throw new T.ErrnoError(y);T.currentPath=f.path},createDefaultDirectories(){T.mkdir("/tmp"),T.mkdir("/home"),T.mkdir("/home/web_user")},createDefaultDevices(){T.mkdir("/dev"),T.registerDevice(T.makedev(1,3),{read:()=>0,write:(_,S,k,X,te)=>X}),T.mkdev("/dev/null",T.makedev(1,3)),Xr.register(T.makedev(5,0),Xr.default_tty_ops),Xr.register(T.makedev(6,0),Xr.default_tty1_ops),T.mkdev("/dev/tty",T.makedev(5,0)),T.mkdev("/dev/tty1",T.makedev(6,0));var d=new Uint8Array(1024),f=0,y=()=>(f===0&&(f=Oe(d).byteLength),d[--f]);T.createDevice("/dev","random",y),T.createDevice("/dev","urandom",y),T.mkdir("/dev/shm"),T.mkdir("/dev/shm/tmp")},createSpecialDirectories(){T.mkdir("/proc");var d=T.mkdir("/proc/self");T.mkdir("/proc/self/fd"),T.mount({mount(){var f=T.createNode(d,"fd",16895,73);return f.node_ops={lookup(y,_){var S=+_,k=T.getStreamChecked(S),X={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>k.path}};return X.parent=X,X}},f}},{},"/proc/self/fd")},createStandardStreams(d,f,y){d?T.createDevice("/dev","stdin",d):T.symlink("/dev/tty","/dev/stdin"),f?T.createDevice("/dev","stdout",null,f):T.symlink("/dev/tty","/dev/stdout"),y?T.createDevice("/dev","stderr",null,y):T.symlink("/dev/tty1","/dev/stderr"),T.open("/dev/stdin",0),T.open("/dev/stdout",1),T.open("/dev/stderr",1)},staticInit(){[44].forEach(d=>{T.genericErrors[d]=new T.ErrnoError(d),T.genericErrors[d].stack="<generic error, no stack>"}),T.nameTable=new Array(4096),T.mount(zt,{},"/"),T.createDefaultDirectories(),T.createDefaultDevices(),T.createSpecialDirectories(),T.filesystems={MEMFS:zt}},init(d,f,y){T.initialized=!0,d??=n.stdin,f??=n.stdout,y??=n.stderr,T.createStandardStreams(d,f,y)},quit(){T.initialized=!1;for(var d=0;d<T.streams.length;d++){var f=T.streams[d];f&&T.close(f)}},findObject(d,f){var y=T.analyzePath(d,f);return y.exists?y.object:null},analyzePath(d,f){try{var y=T.lookupPath(d,{follow:!f});d=y.path}catch{}var _={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var y=T.lookupPath(d,{parent:!0});_.parentExists=!0,_.parentPath=y.path,_.parentObject=y.node,_.name=ae.basename(d),y=T.lookupPath(d,{follow:!f}),_.exists=!0,_.path=y.path,_.object=y.node,_.name=y.node.name,_.isRoot=y.path==="/"}catch(S){_.error=S.errno}return _},createPath(d,f,y,_){d=typeof d=="string"?d:T.getPath(d);for(var S=f.split("/").reverse();S.length;){var k=S.pop();if(k){var X=ae.join2(d,k);try{T.mkdir(X)}catch{}d=X}}return X},createFile(d,f,y,_,S){var k=ae.join2(typeof d=="string"?d:T.getPath(d),f),X=cs(_,S);return T.create(k,X)},createDataFile(d,f,y,_,S,k){var X=f;d&&(d=typeof d=="string"?d:T.getPath(d),X=f?ae.join2(d,f):d);var te=cs(_,S),Le=T.create(X,te);if(y){if(typeof y=="string"){for(var ze=new Array(y.length),Je=0,rt=y.length;Je<rt;++Je)ze[Je]=y.charCodeAt(Je);y=ze}T.chmod(Le,te|146);var Ae=T.open(Le,577);T.write(Ae,y,0,y.length,0,k),T.close(Ae),T.chmod(Le,te)}},createDevice(d,f,y,_){var S=ae.join2(typeof d=="string"?d:T.getPath(d),f),k=cs(!!y,!!_);T.createDevice.major||(T.createDevice.major=64);var X=T.makedev(T.createDevice.major++,0);return T.registerDevice(X,{open(te){te.seekable=!1},close(te){_?.buffer?.length&&_(10)},read(te,Le,ze,Je,rt){for(var Ae=0,we=0;we<Je;we++){var Ue;try{Ue=y()}catch{throw new T.ErrnoError(29)}if(Ue===void 0&&Ae===0)throw new T.ErrnoError(6);if(Ue==null)break;Ae++,Le[ze+we]=Ue}return Ae&&(te.node.timestamp=Date.now()),Ae},write(te,Le,ze,Je,rt){for(var Ae=0;Ae<Je;Ae++)try{_(Le[ze+Ae])}catch{throw new T.ErrnoError(29)}return Je&&(te.node.timestamp=Date.now()),Ae}}),T.mkdev(S,k,X)},forceLoadFile(d){if(d.isDevice||d.isFolder||d.link||d.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{d.contents=C(d.url),d.usedBytes=d.contents.length}catch{throw new T.ErrnoError(29)}},createLazyFile(d,f,y,_,S){class k{constructor(){this.lengthKnown=!1,this.chunks=[]}get(we){if(!(we>this.length-1||we<0)){var Ue=we%this.chunkSize,oe=we/this.chunkSize|0;return this.getter(oe)[Ue]}}setDataGetter(we){this.getter=we}cacheLength(){var we=new XMLHttpRequest;if(we.open("HEAD",y,!1),we.send(null),!(we.status>=200&&we.status<300||we.status===304))throw new Error("Couldn't load "+y+". Status: "+we.status);var Ue=Number(we.getResponseHeader("Content-length")),oe,he=(oe=we.getResponseHeader("Accept-Ranges"))&&oe==="bytes",_e=(oe=we.getResponseHeader("Content-Encoding"))&&oe==="gzip",We=1024*1024;he||(We=Ue);var Be=(De,ht)=>{if(De>ht)throw new Error("invalid range ("+De+", "+ht+") or no bytes requested!");if(ht>Ue-1)throw new Error("only "+Ue+" bytes available! programmer error!");var j=new XMLHttpRequest;if(j.open("GET",y,!1),Ue!==We&&j.setRequestHeader("Range","bytes="+De+"-"+ht),j.responseType="arraybuffer",j.overrideMimeType&&j.overrideMimeType("text/plain; charset=x-user-defined"),j.send(null),!(j.status>=200&&j.status<300||j.status===304))throw new Error("Couldn't load "+y+". Status: "+j.status);return j.response!==void 0?new Uint8Array(j.response||[]):Ar(j.responseText||"")},be=this;be.setDataGetter(De=>{var ht=De*We,j=(De+1)*We-1;if(j=Math.min(j,Ue-1),typeof be.chunks[De]>"u"&&(be.chunks[De]=Be(ht,j)),typeof be.chunks[De]>"u")throw new Error("doXHR failed!");return be.chunks[De]}),(_e||!Ue)&&(We=Ue=1,Ue=this.getter(0).length,We=Ue,L("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Ue,this._chunkSize=We,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){if(!p)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var X=new k,te={isDevice:!1,contents:X}}else var te={isDevice:!1,url:y};var Le=T.createFile(d,f,te,_,S);te.contents?Le.contents=te.contents:te.url&&(Le.contents=null,Le.url=te.url),Object.defineProperties(Le,{usedBytes:{get:function(){return this.contents.length}}});var ze={},Je=Object.keys(Le.stream_ops);Je.forEach(Ae=>{var we=Le.stream_ops[Ae];ze[Ae]=(...Ue)=>(T.forceLoadFile(Le),we(...Ue))});function rt(Ae,we,Ue,oe,he){var _e=Ae.node.contents;if(he>=_e.length)return 0;var We=Math.min(_e.length-he,oe);if(_e.slice)for(var Be=0;Be<We;Be++)we[Ue+Be]=_e[he+Be];else for(var Be=0;Be<We;Be++)we[Ue+Be]=_e.get(he+Be);return We}return ze.read=(Ae,we,Ue,oe,he)=>(T.forceLoadFile(Le),rt(Ae,we,Ue,oe,he)),ze.mmap=(Ae,we,Ue,oe,he)=>{T.forceLoadFile(Le);var _e=gn(we);if(!_e)throw new T.ErrnoError(48);return rt(Ae,V,_e,we,Ue),{ptr:_e,allocated:!0}},Le.stream_ops=ze,Le}},Qd=(d,f)=>d?_t(W,d,f):"",Xt={DEFAULT_POLLMASK:5,calculateAt(d,f,y){if(ae.isAbs(f))return f;var _;if(d===-100)_=T.cwd();else{var S=Xt.getStreamFromFD(d);_=S.path}if(f.length==0){if(!y)throw new T.ErrnoError(44);return _}return ae.join2(_,f)},doStat(d,f,y){var _=d(f);le[y>>2]=_.dev,le[y+4>>2]=_.mode,H[y+8>>2]=_.nlink,le[y+12>>2]=_.uid,le[y+16>>2]=_.gid,le[y+20>>2]=_.rdev,ne[y+24>>3]=BigInt(_.size),le[y+32>>2]=4096,le[y+36>>2]=_.blocks;var S=_.atime.getTime(),k=_.mtime.getTime(),X=_.ctime.getTime();return ne[y+40>>3]=BigInt(Math.floor(S/1e3)),H[y+48>>2]=S%1e3*1e3*1e3,ne[y+56>>3]=BigInt(Math.floor(k/1e3)),H[y+64>>2]=k%1e3*1e3*1e3,ne[y+72>>3]=BigInt(Math.floor(X/1e3)),H[y+80>>2]=X%1e3*1e3*1e3,ne[y+88>>3]=BigInt(_.ino),0},doMsync(d,f,y,_,S){if(!T.isFile(f.node.mode))throw new T.ErrnoError(43);if(_&2)return 0;var k=W.slice(d,d+y);T.msync(f,k,S,y,_)},getStreamFromFD(d){var f=T.getStreamChecked(d);return f},varargs:void 0,getStr(d){var f=Qd(d);return f}};function Kd(d,f){try{return d=Xt.getStr(d),T.chmod(d,f),0}catch(y){if(typeof T>"u"||y.name!=="ErrnoError")throw y;return-y.errno}}function Gd(d,f,y,_){try{if(f=Xt.getStr(f),f=Xt.calculateAt(d,f),y&-8)return-28;var S=T.lookupPath(f,{follow:!0}),k=S.node;if(!k)return-44;var X="";return y&4&&(X+="r"),y&2&&(X+="w"),y&1&&(X+="x"),X&&T.nodePermissions(k,X)?-2:0}catch(te){if(typeof T>"u"||te.name!=="ErrnoError")throw te;return-te.errno}}function Jd(d,f){try{return T.fchmod(d,f),0}catch(y){if(typeof T>"u"||y.name!=="ErrnoError")throw y;return-y.errno}}function Bu(d,f,y){try{return T.fchown(d,f,y),0}catch(_){if(typeof T>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function wa(){var d=le[+Xt.varargs>>2];return Xt.varargs+=4,d}var Ri=wa;function Wu(d,f,y){Xt.varargs=y;try{var _=Xt.getStreamFromFD(d);switch(f){case 0:{var S=wa();if(S<0)return-28;for(;T.streams[S];)S++;var k;return k=T.dupStream(_,S),k.fd}case 1:case 2:return 0;case 3:return _.flags;case 4:{var S=wa();return _.flags|=S,0}case 12:{var S=Ri(),X=0;return K[S+X>>1]=2,0}case 13:case 14:return 0}return-28}catch(te){if(typeof T>"u"||te.name!=="ErrnoError")throw te;return-te.errno}}function xa(d,f){try{var y=Xt.getStreamFromFD(d);return Xt.doStat(T.stat,y.path,f)}catch(_){if(typeof T>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}var lm=0x20000000000000,Sa=-0x20000000000000,ds=d=>d<Sa||d>lm?NaN:Number(d);function hl(d,f){f=ds(f);try{return isNaN(f)?61:(T.ftruncate(d,f),0)}catch(y){if(typeof T>"u"||y.name!=="ErrnoError")throw y;return-y.errno}}var fs=(d,f,y)=>cr(d,W,f,y);function um(d,f){try{if(f===0)return-28;var y=T.cwd(),_=mr(y)+1;return f<_?-68:(fs(y,d,f),_)}catch(S){if(typeof T>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}function cm(d,f,y){Xt.varargs=y;try{var _=Xt.getStreamFromFD(d);switch(f){case 21509:return _.tty?0:-59;case 21505:{if(!_.tty)return-59;if(_.tty.ops.ioctl_tcgets){var S=_.tty.ops.ioctl_tcgets(_),k=Ri();le[k>>2]=S.c_iflag||0,le[k+4>>2]=S.c_oflag||0,le[k+8>>2]=S.c_cflag||0,le[k+12>>2]=S.c_lflag||0;for(var X=0;X<32;X++)V[k+X+17]=S.c_cc[X]||0;return 0}return 0}case 21510:case 21511:case 21512:return _.tty?0:-59;case 21506:case 21507:case 21508:{if(!_.tty)return-59;if(_.tty.ops.ioctl_tcsets){for(var k=Ri(),te=le[k>>2],Le=le[k+4>>2],ze=le[k+8>>2],Je=le[k+12>>2],rt=[],X=0;X<32;X++)rt.push(V[k+X+17]);return _.tty.ops.ioctl_tcsets(_.tty,f,{c_iflag:te,c_oflag:Le,c_cflag:ze,c_lflag:Je,c_cc:rt})}return 0}case 21519:{if(!_.tty)return-59;var k=Ri();return le[k>>2]=0,0}case 21520:return _.tty?-28:-59;case 21531:{var k=Ri();return T.ioctl(_,f,k)}case 21523:{if(!_.tty)return-59;if(_.tty.ops.ioctl_tiocgwinsz){var Ae=_.tty.ops.ioctl_tiocgwinsz(_.tty),k=Ri();K[k>>1]=Ae[0],K[k+2>>1]=Ae[1]}return 0}case 21524:return _.tty?0:-59;case 21515:return _.tty?0:-59;default:return-28}}catch(we){if(typeof T>"u"||we.name!=="ErrnoError")throw we;return-we.errno}}function dm(d,f){try{return d=Xt.getStr(d),Xt.doStat(T.lstat,d,f)}catch(y){if(typeof T>"u"||y.name!=="ErrnoError")throw y;return-y.errno}}function Ls(d,f,y){try{return f=Xt.getStr(f),f=Xt.calculateAt(d,f),f=ae.normalize(f),f[f.length-1]==="/"&&(f=f.substr(0,f.length-1)),T.mkdir(f,y,0),0}catch(_){if(typeof T>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function Zd(d,f,y,_){try{f=Xt.getStr(f);var S=_&256,k=_&4096;return _=_&-6401,f=Xt.calculateAt(d,f,k),Xt.doStat(S?T.lstat:T.stat,f,y)}catch(X){if(typeof T>"u"||X.name!=="ErrnoError")throw X;return-X.errno}}function Xd(d,f,y,_){Xt.varargs=_;try{f=Xt.getStr(f),f=Xt.calculateAt(d,f);var S=_?wa():0;return T.open(f,y,S).fd}catch(k){if(typeof T>"u"||k.name!=="ErrnoError")throw k;return-k.errno}}function fm(d,f,y,_){try{if(f=Xt.getStr(f),f=Xt.calculateAt(d,f),_<=0)return-28;var S=T.readlink(f),k=Math.min(_,mr(S)),X=V[y+k];return fs(S,y,_+1),V[y+k]=X,k}catch(te){if(typeof T>"u"||te.name!=="ErrnoError")throw te;return-te.errno}}function Yd(d){try{return d=Xt.getStr(d),T.rmdir(d),0}catch(f){if(typeof T>"u"||f.name!=="ErrnoError")throw f;return-f.errno}}function ef(d,f){try{return d=Xt.getStr(d),Xt.doStat(T.stat,d,f)}catch(y){if(typeof T>"u"||y.name!=="ErrnoError")throw y;return-y.errno}}function tf(d,f,y){try{return f=Xt.getStr(f),f=Xt.calculateAt(d,f),y===0?T.unlink(f):y===512?T.rmdir(f):ft("Invalid flags passed to unlinkat"),0}catch(_){if(typeof T>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}var $u=d=>H[d>>2]+le[d+4>>2]*0x100000000;function hm(d,f,y,_){try{f=Xt.getStr(f),f=Xt.calculateAt(d,f,!0);var S=Date.now(),k,X;if(!y)k=S,X=S;else{var te=$u(y),Le=le[y+8>>2];Le==0x3fffffff?k=S:Le==0x3ffffffe?k=-1:k=te*1e3+Le/(1e3*1e3),y+=16,te=$u(y),Le=le[y+8>>2],Le==0x3fffffff?X=S:Le==0x3ffffffe?X=-1:X=te*1e3+Le/(1e3*1e3)}return(X!=-1||k!=-1)&&T.utime(f,k,X),0}catch(ze){if(typeof T>"u"||ze.name!=="ErrnoError")throw ze;return-ze.errno}}var pm=1,Hr=()=>pm,mm=d=>d%4===0&&(d%100!==0||d%400===0),Uu=[0,31,60,91,121,152,182,213,244,274,305,335],rf=[0,31,59,90,120,151,181,212,243,273,304,334],pl=d=>{var f=mm(d.getFullYear()),y=f?Uu:rf,_=y[d.getMonth()]+d.getDate()-1;return _};function ym(d,f){d=ds(d);var y=new Date(d*1e3);le[f>>2]=y.getSeconds(),le[f+4>>2]=y.getMinutes(),le[f+8>>2]=y.getHours(),le[f+12>>2]=y.getDate(),le[f+16>>2]=y.getMonth(),le[f+20>>2]=y.getFullYear()-1900,le[f+24>>2]=y.getDay();var _=pl(y)|0;le[f+28>>2]=_,le[f+36>>2]=-(y.getTimezoneOffset()*60);var S=new Date(y.getFullYear(),0,1),k=new Date(y.getFullYear(),6,1).getTimezoneOffset(),X=S.getTimezoneOffset(),te=(k!=X&&y.getTimezoneOffset()==Math.min(X,k))|0;le[f+32>>2]=te}function nf(d,f,y,_,S,k,X){S=ds(S);try{if(isNaN(S))return 61;var te=Xt.getStreamFromFD(_),Le=T.mmap(te,d,S,f,y),ze=Le.ptr;return le[k>>2]=Le.allocated,H[X>>2]=ze,0}catch(Je){if(typeof T>"u"||Je.name!=="ErrnoError")throw Je;return-Je.errno}}function ml(d,f,y,_,S,k){k=ds(k);try{var X=Xt.getStreamFromFD(S);y&2&&Xt.doMsync(d,X,f,_,k)}catch(te){if(typeof T>"u"||te.name!=="ErrnoError")throw te;return-te.errno}}var Oi=(d,f,y,_)=>{var S=new Date().getFullYear(),k=new Date(S,0,1),X=new Date(S,6,1),te=k.getTimezoneOffset(),Le=X.getTimezoneOffset(),ze=Math.max(te,Le);H[d>>2]=ze*60,le[f>>2]=+(te!=Le);var Je=we=>{var Ue=we>=0?"-":"+",oe=Math.abs(we),he=String(Math.floor(oe/60)).padStart(2,"0"),_e=String(oe%60).padStart(2,"0");return`UTC${Ue}${he}${_e}`},rt=Je(te),Ae=Je(Le);Le<te?(fs(rt,y,17),fs(Ae,_,17)):(fs(rt,_,17),fs(Ae,y,17))},gm=()=>Date.now(),Hn;Hn=()=>performance.now();var vm=()=>0x80000000,_m=d=>{var f=D.buffer,y=(d-f.byteLength+65535)/65536;try{return D.grow(y),B(),1}catch{}},bm=d=>{var f=W.length;d>>>=0;var y=vm();if(d>y)return!1;for(var _=1;_<=4;_*=2){var S=f*(1+.2/_);S=Math.min(S,d+0x6000000);var k=Math.min(y,Fs(Math.max(d,S),65536)),X=_m(k);if(X)return!0}return!1},bo={},yl=()=>x||"./this.program",zi=()=>{if(!zi.strings){var d=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",f={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:d,_:yl()};for(var y in bo)bo[y]===void 0?delete f[y]:f[y]=bo[y];var _=[];for(var y in f)_.push(`${y}=${f[y]}`);zi.strings=_}return zi.strings},gl=(d,f)=>{for(var y=0;y<d.length;++y)V[f++]=d.charCodeAt(y);V[f]=0},wm=(d,f)=>{var y=0;return zi().forEach((_,S)=>{var k=f+y;H[d+S*4>>2]=k,gl(_,k),y+=_.length+1}),0},xm=(d,f)=>{var y=zi();H[d>>2]=y.length;var _=0;return y.forEach(S=>_+=S.length+1),H[f>>2]=_,0};function zu(d){try{var f=Xt.getStreamFromFD(d);return T.close(f),0}catch(y){if(typeof T>"u"||y.name!=="ErrnoError")throw y;return y.errno}}function sf(d,f){try{var y=0,_=0,S=0,k=Xt.getStreamFromFD(d),X=k.tty?2:T.isDir(k.mode)?3:T.isLink(k.mode)?7:4;return V[f]=X,K[f+2>>1]=S,ne[f+8>>3]=BigInt(y),ne[f+16>>3]=BigInt(_),0}catch(te){if(typeof T>"u"||te.name!=="ErrnoError")throw te;return te.errno}}var Vu=(d,f,y,_)=>{for(var S=0,k=0;k<y;k++){var X=H[f>>2],te=H[f+4>>2];f+=8;var Le=T.read(d,V,X,te,_);if(Le<0)return-1;if(S+=Le,Le<te)break}return S};function Ea(d,f,y,_){try{var S=Xt.getStreamFromFD(d),k=Vu(S,f,y);return H[_>>2]=k,0}catch(X){if(typeof T>"u"||X.name!=="ErrnoError")throw X;return X.errno}}function Sm(d,f,y,_){f=ds(f);try{if(isNaN(f))return 61;var S=Xt.getStreamFromFD(d);return T.llseek(S,f,y),ne[_>>3]=BigInt(S.position),S.getdents&&f===0&&y===0&&(S.getdents=null),0}catch(k){if(typeof T>"u"||k.name!=="ErrnoError")throw k;return k.errno}}function Hu(d){try{var f=Xt.getStreamFromFD(d);return f.stream_ops?.fsync?f.stream_ops.fsync(f):0}catch(y){if(typeof T>"u"||y.name!=="ErrnoError")throw y;return y.errno}}var yr=(d,f,y,_)=>{for(var S=0,k=0;k<y;k++){var X=H[f>>2],te=H[f+4>>2];f+=8;var Le=T.write(d,V,X,te,_);if(Le<0)return-1;if(S+=Le,Le<te)break}return S};function of(d,f,y,_){try{var S=Xt.getStreamFromFD(d),k=yr(S,f,y);return H[_>>2]=k,0}catch(X){if(typeof T>"u"||X.name!=="ErrnoError")throw X;return X.errno}}T.createPreloadedFile=Du,T.staticInit();var Qu={__syscall_chmod:Kd,__syscall_faccessat:Gd,__syscall_fchmod:Jd,__syscall_fchown32:Bu,__syscall_fcntl64:Wu,__syscall_fstat64:xa,__syscall_ftruncate64:hl,__syscall_getcwd:um,__syscall_ioctl:cm,__syscall_lstat64:dm,__syscall_mkdirat:Ls,__syscall_newfstatat:Zd,__syscall_openat:Xd,__syscall_readlinkat:fm,__syscall_rmdir:Yd,__syscall_stat64:ef,__syscall_unlinkat:tf,__syscall_utimensat:hm,_emscripten_get_now_is_monotonic:Hr,_localtime_js:ym,_mmap_js:nf,_munmap_js:ml,_tzset_js:Oi,emscripten_date_now:gm,emscripten_get_now:Hn,emscripten_resize_heap:bm,environ_get:wm,environ_sizes_get:xm,fd_close:zu,fd_fdstat_get:sf,fd_read:Ea,fd_seek:Sm,fd_sync:Hu,fd_write:of,memory:D},ee=ur();n._sqlite3_status64=(d,f,y,_)=>(n._sqlite3_status64=ee.sqlite3_status64)(d,f,y,_),n._sqlite3_status=(d,f,y,_)=>(n._sqlite3_status=ee.sqlite3_status)(d,f,y,_),n._sqlite3_db_status=(d,f,y,_,S)=>(n._sqlite3_db_status=ee.sqlite3_db_status)(d,f,y,_,S),n._sqlite3_msize=d=>(n._sqlite3_msize=ee.sqlite3_msize)(d),n._sqlite3_vfs_find=d=>(n._sqlite3_vfs_find=ee.sqlite3_vfs_find)(d),n._sqlite3_initialize=()=>(n._sqlite3_initialize=ee.sqlite3_initialize)(),n._sqlite3_malloc=d=>(n._sqlite3_malloc=ee.sqlite3_malloc)(d),n._sqlite3_free=d=>(n._sqlite3_free=ee.sqlite3_free)(d),n._sqlite3_vfs_register=(d,f)=>(n._sqlite3_vfs_register=ee.sqlite3_vfs_register)(d,f),n._sqlite3_vfs_unregister=d=>(n._sqlite3_vfs_unregister=ee.sqlite3_vfs_unregister)(d),n._sqlite3_malloc64=d=>(n._sqlite3_malloc64=ee.sqlite3_malloc64)(d),n._sqlite3_realloc=(d,f)=>(n._sqlite3_realloc=ee.sqlite3_realloc)(d,f),n._sqlite3_realloc64=(d,f)=>(n._sqlite3_realloc64=ee.sqlite3_realloc64)(d,f),n._sqlite3_value_text=d=>(n._sqlite3_value_text=ee.sqlite3_value_text)(d),n._sqlite3_randomness=(d,f)=>(n._sqlite3_randomness=ee.sqlite3_randomness)(d,f),n._sqlite3_stricmp=(d,f)=>(n._sqlite3_stricmp=ee.sqlite3_stricmp)(d,f),n._sqlite3_strnicmp=(d,f,y)=>(n._sqlite3_strnicmp=ee.sqlite3_strnicmp)(d,f,y),n._sqlite3_uri_parameter=(d,f)=>(n._sqlite3_uri_parameter=ee.sqlite3_uri_parameter)(d,f),n._sqlite3_uri_boolean=(d,f,y)=>(n._sqlite3_uri_boolean=ee.sqlite3_uri_boolean)(d,f,y),n._sqlite3_serialize=(d,f,y,_)=>(n._sqlite3_serialize=ee.sqlite3_serialize)(d,f,y,_),n._sqlite3_prepare_v2=(d,f,y,_,S)=>(n._sqlite3_prepare_v2=ee.sqlite3_prepare_v2)(d,f,y,_,S),n._sqlite3_step=d=>(n._sqlite3_step=ee.sqlite3_step)(d),n._sqlite3_column_int64=(d,f)=>(n._sqlite3_column_int64=ee.sqlite3_column_int64)(d,f),n._sqlite3_reset=d=>(n._sqlite3_reset=ee.sqlite3_reset)(d),n._sqlite3_exec=(d,f,y,_,S)=>(n._sqlite3_exec=ee.sqlite3_exec)(d,f,y,_,S),n._sqlite3_column_int=(d,f)=>(n._sqlite3_column_int=ee.sqlite3_column_int)(d,f),n._sqlite3_finalize=d=>(n._sqlite3_finalize=ee.sqlite3_finalize)(d),n._sqlite3_file_control=(d,f,y,_)=>(n._sqlite3_file_control=ee.sqlite3_file_control)(d,f,y,_),n._sqlite3_column_name=(d,f)=>(n._sqlite3_column_name=ee.sqlite3_column_name)(d,f),n._sqlite3_column_text=(d,f)=>(n._sqlite3_column_text=ee.sqlite3_column_text)(d,f),n._sqlite3_column_type=(d,f)=>(n._sqlite3_column_type=ee.sqlite3_column_type)(d,f),n._sqlite3_errmsg=d=>(n._sqlite3_errmsg=ee.sqlite3_errmsg)(d),n._sqlite3_deserialize=(d,f,y,_,S,k)=>(n._sqlite3_deserialize=ee.sqlite3_deserialize)(d,f,y,_,S,k),n._sqlite3_clear_bindings=d=>(n._sqlite3_clear_bindings=ee.sqlite3_clear_bindings)(d),n._sqlite3_value_blob=d=>(n._sqlite3_value_blob=ee.sqlite3_value_blob)(d),n._sqlite3_value_bytes=d=>(n._sqlite3_value_bytes=ee.sqlite3_value_bytes)(d),n._sqlite3_value_double=d=>(n._sqlite3_value_double=ee.sqlite3_value_double)(d),n._sqlite3_value_int=d=>(n._sqlite3_value_int=ee.sqlite3_value_int)(d),n._sqlite3_value_int64=d=>(n._sqlite3_value_int64=ee.sqlite3_value_int64)(d),n._sqlite3_value_subtype=d=>(n._sqlite3_value_subtype=ee.sqlite3_value_subtype)(d),n._sqlite3_value_pointer=(d,f)=>(n._sqlite3_value_pointer=ee.sqlite3_value_pointer)(d,f),n._sqlite3_value_type=d=>(n._sqlite3_value_type=ee.sqlite3_value_type)(d),n._sqlite3_value_nochange=d=>(n._sqlite3_value_nochange=ee.sqlite3_value_nochange)(d),n._sqlite3_value_frombind=d=>(n._sqlite3_value_frombind=ee.sqlite3_value_frombind)(d),n._sqlite3_value_dup=d=>(n._sqlite3_value_dup=ee.sqlite3_value_dup)(d),n._sqlite3_value_free=d=>(n._sqlite3_value_free=ee.sqlite3_value_free)(d),n._sqlite3_result_blob=(d,f,y,_)=>(n._sqlite3_result_blob=ee.sqlite3_result_blob)(d,f,y,_),n._sqlite3_result_error_toobig=d=>(n._sqlite3_result_error_toobig=ee.sqlite3_result_error_toobig)(d),n._sqlite3_result_error_nomem=d=>(n._sqlite3_result_error_nomem=ee.sqlite3_result_error_nomem)(d),n._sqlite3_result_double=(d,f)=>(n._sqlite3_result_double=ee.sqlite3_result_double)(d,f),n._sqlite3_result_error=(d,f,y)=>(n._sqlite3_result_error=ee.sqlite3_result_error)(d,f,y),n._sqlite3_result_int=(d,f)=>(n._sqlite3_result_int=ee.sqlite3_result_int)(d,f),n._sqlite3_result_int64=(d,f)=>(n._sqlite3_result_int64=ee.sqlite3_result_int64)(d,f),n._sqlite3_result_null=d=>(n._sqlite3_result_null=ee.sqlite3_result_null)(d),n._sqlite3_result_pointer=(d,f,y,_)=>(n._sqlite3_result_pointer=ee.sqlite3_result_pointer)(d,f,y,_),n._sqlite3_result_subtype=(d,f)=>(n._sqlite3_result_subtype=ee.sqlite3_result_subtype)(d,f),n._sqlite3_result_text=(d,f,y,_)=>(n._sqlite3_result_text=ee.sqlite3_result_text)(d,f,y,_),n._sqlite3_result_zeroblob=(d,f)=>(n._sqlite3_result_zeroblob=ee.sqlite3_result_zeroblob)(d,f),n._sqlite3_result_zeroblob64=(d,f)=>(n._sqlite3_result_zeroblob64=ee.sqlite3_result_zeroblob64)(d,f),n._sqlite3_result_error_code=(d,f)=>(n._sqlite3_result_error_code=ee.sqlite3_result_error_code)(d,f),n._sqlite3_user_data=d=>(n._sqlite3_user_data=ee.sqlite3_user_data)(d),n._sqlite3_context_db_handle=d=>(n._sqlite3_context_db_handle=ee.sqlite3_context_db_handle)(d),n._sqlite3_vtab_nochange=d=>(n._sqlite3_vtab_nochange=ee.sqlite3_vtab_nochange)(d),n._sqlite3_vtab_in_first=(d,f)=>(n._sqlite3_vtab_in_first=ee.sqlite3_vtab_in_first)(d,f),n._sqlite3_vtab_in_next=(d,f)=>(n._sqlite3_vtab_in_next=ee.sqlite3_vtab_in_next)(d,f),n._sqlite3_aggregate_context=(d,f)=>(n._sqlite3_aggregate_context=ee.sqlite3_aggregate_context)(d,f),n._sqlite3_get_auxdata=(d,f)=>(n._sqlite3_get_auxdata=ee.sqlite3_get_auxdata)(d,f),n._sqlite3_set_auxdata=(d,f,y,_)=>(n._sqlite3_set_auxdata=ee.sqlite3_set_auxdata)(d,f,y,_),n._sqlite3_column_count=d=>(n._sqlite3_column_count=ee.sqlite3_column_count)(d),n._sqlite3_data_count=d=>(n._sqlite3_data_count=ee.sqlite3_data_count)(d),n._sqlite3_column_blob=(d,f)=>(n._sqlite3_column_blob=ee.sqlite3_column_blob)(d,f),n._sqlite3_column_bytes=(d,f)=>(n._sqlite3_column_bytes=ee.sqlite3_column_bytes)(d,f),n._sqlite3_column_double=(d,f)=>(n._sqlite3_column_double=ee.sqlite3_column_double)(d,f),n._sqlite3_column_value=(d,f)=>(n._sqlite3_column_value=ee.sqlite3_column_value)(d,f),n._sqlite3_column_decltype=(d,f)=>(n._sqlite3_column_decltype=ee.sqlite3_column_decltype)(d,f),n._sqlite3_bind_blob=(d,f,y,_,S)=>(n._sqlite3_bind_blob=ee.sqlite3_bind_blob)(d,f,y,_,S),n._sqlite3_bind_double=(d,f,y)=>(n._sqlite3_bind_double=ee.sqlite3_bind_double)(d,f,y),n._sqlite3_bind_int=(d,f,y)=>(n._sqlite3_bind_int=ee.sqlite3_bind_int)(d,f,y),n._sqlite3_bind_int64=(d,f,y)=>(n._sqlite3_bind_int64=ee.sqlite3_bind_int64)(d,f,y),n._sqlite3_bind_null=(d,f)=>(n._sqlite3_bind_null=ee.sqlite3_bind_null)(d,f),n._sqlite3_bind_pointer=(d,f,y,_,S)=>(n._sqlite3_bind_pointer=ee.sqlite3_bind_pointer)(d,f,y,_,S),n._sqlite3_bind_text=(d,f,y,_,S)=>(n._sqlite3_bind_text=ee.sqlite3_bind_text)(d,f,y,_,S),n._sqlite3_bind_parameter_count=d=>(n._sqlite3_bind_parameter_count=ee.sqlite3_bind_parameter_count)(d),n._sqlite3_bind_parameter_name=(d,f)=>(n._sqlite3_bind_parameter_name=ee.sqlite3_bind_parameter_name)(d,f),n._sqlite3_bind_parameter_index=(d,f)=>(n._sqlite3_bind_parameter_index=ee.sqlite3_bind_parameter_index)(d,f),n._sqlite3_db_handle=d=>(n._sqlite3_db_handle=ee.sqlite3_db_handle)(d),n._sqlite3_stmt_readonly=d=>(n._sqlite3_stmt_readonly=ee.sqlite3_stmt_readonly)(d),n._sqlite3_stmt_isexplain=d=>(n._sqlite3_stmt_isexplain=ee.sqlite3_stmt_isexplain)(d),n._sqlite3_stmt_explain=(d,f)=>(n._sqlite3_stmt_explain=ee.sqlite3_stmt_explain)(d,f),n._sqlite3_stmt_busy=d=>(n._sqlite3_stmt_busy=ee.sqlite3_stmt_busy)(d),n._sqlite3_stmt_status=(d,f,y)=>(n._sqlite3_stmt_status=ee.sqlite3_stmt_status)(d,f,y),n._sqlite3_sql=d=>(n._sqlite3_sql=ee.sqlite3_sql)(d),n._sqlite3_expanded_sql=d=>(n._sqlite3_expanded_sql=ee.sqlite3_expanded_sql)(d),n._sqlite3_preupdate_old=(d,f,y)=>(n._sqlite3_preupdate_old=ee.sqlite3_preupdate_old)(d,f,y),n._sqlite3_preupdate_count=d=>(n._sqlite3_preupdate_count=ee.sqlite3_preupdate_count)(d),n._sqlite3_preupdate_depth=d=>(n._sqlite3_preupdate_depth=ee.sqlite3_preupdate_depth)(d),n._sqlite3_preupdate_blobwrite=d=>(n._sqlite3_preupdate_blobwrite=ee.sqlite3_preupdate_blobwrite)(d),n._sqlite3_preupdate_new=(d,f,y)=>(n._sqlite3_preupdate_new=ee.sqlite3_preupdate_new)(d,f,y),n._sqlite3_value_numeric_type=d=>(n._sqlite3_value_numeric_type=ee.sqlite3_value_numeric_type)(d),n._sqlite3_set_authorizer=(d,f,y)=>(n._sqlite3_set_authorizer=ee.sqlite3_set_authorizer)(d,f,y),n._sqlite3_strglob=(d,f)=>(n._sqlite3_strglob=ee.sqlite3_strglob)(d,f),n._sqlite3_strlike=(d,f,y)=>(n._sqlite3_strlike=ee.sqlite3_strlike)(d,f,y),n._sqlite3_auto_extension=d=>(n._sqlite3_auto_extension=ee.sqlite3_auto_extension)(d),n._sqlite3_cancel_auto_extension=d=>(n._sqlite3_cancel_auto_extension=ee.sqlite3_cancel_auto_extension)(d),n._sqlite3_reset_auto_extension=()=>(n._sqlite3_reset_auto_extension=ee.sqlite3_reset_auto_extension)(),n._sqlite3_prepare_v3=(d,f,y,_,S,k)=>(n._sqlite3_prepare_v3=ee.sqlite3_prepare_v3)(d,f,y,_,S,k),n._sqlite3_create_module=(d,f,y,_)=>(n._sqlite3_create_module=ee.sqlite3_create_module)(d,f,y,_),n._sqlite3_create_module_v2=(d,f,y,_,S)=>(n._sqlite3_create_module_v2=ee.sqlite3_create_module_v2)(d,f,y,_,S),n._sqlite3_drop_modules=(d,f)=>(n._sqlite3_drop_modules=ee.sqlite3_drop_modules)(d,f),n._sqlite3_declare_vtab=(d,f)=>(n._sqlite3_declare_vtab=ee.sqlite3_declare_vtab)(d,f),n._sqlite3_vtab_on_conflict=d=>(n._sqlite3_vtab_on_conflict=ee.sqlite3_vtab_on_conflict)(d),n._sqlite3_vtab_collation=(d,f)=>(n._sqlite3_vtab_collation=ee.sqlite3_vtab_collation)(d,f),n._sqlite3_vtab_in=(d,f,y)=>(n._sqlite3_vtab_in=ee.sqlite3_vtab_in)(d,f,y),n._sqlite3_vtab_rhs_value=(d,f,y)=>(n._sqlite3_vtab_rhs_value=ee.sqlite3_vtab_rhs_value)(d,f,y),n._sqlite3_vtab_distinct=d=>(n._sqlite3_vtab_distinct=ee.sqlite3_vtab_distinct)(d),n._sqlite3_keyword_name=(d,f,y)=>(n._sqlite3_keyword_name=ee.sqlite3_keyword_name)(d,f,y),n._sqlite3_keyword_count=()=>(n._sqlite3_keyword_count=ee.sqlite3_keyword_count)(),n._sqlite3_keyword_check=(d,f)=>(n._sqlite3_keyword_check=ee.sqlite3_keyword_check)(d,f),n._sqlite3_complete=d=>(n._sqlite3_complete=ee.sqlite3_complete)(d),n._sqlite3_libversion=()=>(n._sqlite3_libversion=ee.sqlite3_libversion)(),n._sqlite3_libversion_number=()=>(n._sqlite3_libversion_number=ee.sqlite3_libversion_number)(),n._sqlite3_shutdown=()=>(n._sqlite3_shutdown=ee.sqlite3_shutdown)(),n._sqlite3_last_insert_rowid=d=>(n._sqlite3_last_insert_rowid=ee.sqlite3_last_insert_rowid)(d),n._sqlite3_set_last_insert_rowid=(d,f)=>(n._sqlite3_set_last_insert_rowid=ee.sqlite3_set_last_insert_rowid)(d,f),n._sqlite3_changes64=d=>(n._sqlite3_changes64=ee.sqlite3_changes64)(d),n._sqlite3_changes=d=>(n._sqlite3_changes=ee.sqlite3_changes)(d),n._sqlite3_total_changes64=d=>(n._sqlite3_total_changes64=ee.sqlite3_total_changes64)(d),n._sqlite3_total_changes=d=>(n._sqlite3_total_changes=ee.sqlite3_total_changes)(d),n._sqlite3_txn_state=(d,f)=>(n._sqlite3_txn_state=ee.sqlite3_txn_state)(d,f),n._sqlite3_close_v2=d=>(n._sqlite3_close_v2=ee.sqlite3_close_v2)(d),n._sqlite3_busy_handler=(d,f,y)=>(n._sqlite3_busy_handler=ee.sqlite3_busy_handler)(d,f,y),n._sqlite3_progress_handler=(d,f,y,_)=>(n._sqlite3_progress_handler=ee.sqlite3_progress_handler)(d,f,y,_),n._sqlite3_busy_timeout=(d,f)=>(n._sqlite3_busy_timeout=ee.sqlite3_busy_timeout)(d,f),n._sqlite3_interrupt=d=>(n._sqlite3_interrupt=ee.sqlite3_interrupt)(d),n._sqlite3_is_interrupted=d=>(n._sqlite3_is_interrupted=ee.sqlite3_is_interrupted)(d),n._sqlite3_create_function=(d,f,y,_,S,k,X,te)=>(n._sqlite3_create_function=ee.sqlite3_create_function)(d,f,y,_,S,k,X,te),n._sqlite3_create_function_v2=(d,f,y,_,S,k,X,te,Le)=>(n._sqlite3_create_function_v2=ee.sqlite3_create_function_v2)(d,f,y,_,S,k,X,te,Le),n._sqlite3_create_window_function=(d,f,y,_,S,k,X,te,Le,ze)=>(n._sqlite3_create_window_function=ee.sqlite3_create_window_function)(d,f,y,_,S,k,X,te,Le,ze),n._sqlite3_overload_function=(d,f,y)=>(n._sqlite3_overload_function=ee.sqlite3_overload_function)(d,f,y),n._sqlite3_trace_v2=(d,f,y,_)=>(n._sqlite3_trace_v2=ee.sqlite3_trace_v2)(d,f,y,_),n._sqlite3_commit_hook=(d,f,y)=>(n._sqlite3_commit_hook=ee.sqlite3_commit_hook)(d,f,y),n._sqlite3_update_hook=(d,f,y)=>(n._sqlite3_update_hook=ee.sqlite3_update_hook)(d,f,y),n._sqlite3_rollback_hook=(d,f,y)=>(n._sqlite3_rollback_hook=ee.sqlite3_rollback_hook)(d,f,y),n._sqlite3_preupdate_hook=(d,f,y)=>(n._sqlite3_preupdate_hook=ee.sqlite3_preupdate_hook)(d,f,y),n._sqlite3_error_offset=d=>(n._sqlite3_error_offset=ee.sqlite3_error_offset)(d),n._sqlite3_errcode=d=>(n._sqlite3_errcode=ee.sqlite3_errcode)(d),n._sqlite3_extended_errcode=d=>(n._sqlite3_extended_errcode=ee.sqlite3_extended_errcode)(d),n._sqlite3_errstr=d=>(n._sqlite3_errstr=ee.sqlite3_errstr)(d),n._sqlite3_limit=(d,f,y)=>(n._sqlite3_limit=ee.sqlite3_limit)(d,f,y),n._sqlite3_open=(d,f)=>(n._sqlite3_open=ee.sqlite3_open)(d,f),n._sqlite3_open_v2=(d,f,y,_)=>(n._sqlite3_open_v2=ee.sqlite3_open_v2)(d,f,y,_),n._sqlite3_create_collation=(d,f,y,_,S)=>(n._sqlite3_create_collation=ee.sqlite3_create_collation)(d,f,y,_,S),n._sqlite3_create_collation_v2=(d,f,y,_,S,k)=>(n._sqlite3_create_collation_v2=ee.sqlite3_create_collation_v2)(d,f,y,_,S,k),n._sqlite3_collation_needed=(d,f,y)=>(n._sqlite3_collation_needed=ee.sqlite3_collation_needed)(d,f,y),n._sqlite3_get_autocommit=d=>(n._sqlite3_get_autocommit=ee.sqlite3_get_autocommit)(d),n._sqlite3_table_column_metadata=(d,f,y,_,S,k,X,te,Le)=>(n._sqlite3_table_column_metadata=ee.sqlite3_table_column_metadata)(d,f,y,_,S,k,X,te,Le),n._sqlite3_extended_result_codes=(d,f)=>(n._sqlite3_extended_result_codes=ee.sqlite3_extended_result_codes)(d,f),n._sqlite3_uri_key=(d,f)=>(n._sqlite3_uri_key=ee.sqlite3_uri_key)(d,f),n._sqlite3_uri_int64=(d,f,y)=>(n._sqlite3_uri_int64=ee.sqlite3_uri_int64)(d,f,y),n._sqlite3_db_name=(d,f)=>(n._sqlite3_db_name=ee.sqlite3_db_name)(d,f),n._sqlite3_db_filename=(d,f)=>(n._sqlite3_db_filename=ee.sqlite3_db_filename)(d,f),n._sqlite3_db_readonly=(d,f)=>(n._sqlite3_db_readonly=ee.sqlite3_db_readonly)(d,f),n._sqlite3_compileoption_used=d=>(n._sqlite3_compileoption_used=ee.sqlite3_compileoption_used)(d),n._sqlite3_compileoption_get=d=>(n._sqlite3_compileoption_get=ee.sqlite3_compileoption_get)(d),n._sqlite3session_diff=(d,f,y,_)=>(n._sqlite3session_diff=ee.sqlite3session_diff)(d,f,y,_),n._sqlite3session_attach=(d,f)=>(n._sqlite3session_attach=ee.sqlite3session_attach)(d,f),n._sqlite3session_create=(d,f,y)=>(n._sqlite3session_create=ee.sqlite3session_create)(d,f,y),n._sqlite3session_delete=d=>(n._sqlite3session_delete=ee.sqlite3session_delete)(d),n._sqlite3session_table_filter=(d,f,y)=>(n._sqlite3session_table_filter=ee.sqlite3session_table_filter)(d,f,y),n._sqlite3session_changeset=(d,f,y)=>(n._sqlite3session_changeset=ee.sqlite3session_changeset)(d,f,y),n._sqlite3session_changeset_strm=(d,f,y)=>(n._sqlite3session_changeset_strm=ee.sqlite3session_changeset_strm)(d,f,y),n._sqlite3session_patchset_strm=(d,f,y)=>(n._sqlite3session_patchset_strm=ee.sqlite3session_patchset_strm)(d,f,y),n._sqlite3session_patchset=(d,f,y)=>(n._sqlite3session_patchset=ee.sqlite3session_patchset)(d,f,y),n._sqlite3session_enable=(d,f)=>(n._sqlite3session_enable=ee.sqlite3session_enable)(d,f),n._sqlite3session_indirect=(d,f)=>(n._sqlite3session_indirect=ee.sqlite3session_indirect)(d,f),n._sqlite3session_isempty=d=>(n._sqlite3session_isempty=ee.sqlite3session_isempty)(d),n._sqlite3session_memory_used=d=>(n._sqlite3session_memory_used=ee.sqlite3session_memory_used)(d),n._sqlite3session_object_config=(d,f,y)=>(n._sqlite3session_object_config=ee.sqlite3session_object_config)(d,f,y),n._sqlite3session_changeset_size=d=>(n._sqlite3session_changeset_size=ee.sqlite3session_changeset_size)(d),n._sqlite3changeset_start=(d,f,y)=>(n._sqlite3changeset_start=ee.sqlite3changeset_start)(d,f,y),n._sqlite3changeset_start_v2=(d,f,y,_)=>(n._sqlite3changeset_start_v2=ee.sqlite3changeset_start_v2)(d,f,y,_),n._sqlite3changeset_start_strm=(d,f,y)=>(n._sqlite3changeset_start_strm=ee.sqlite3changeset_start_strm)(d,f,y),n._sqlite3changeset_start_v2_strm=(d,f,y,_)=>(n._sqlite3changeset_start_v2_strm=ee.sqlite3changeset_start_v2_strm)(d,f,y,_),n._sqlite3changeset_next=d=>(n._sqlite3changeset_next=ee.sqlite3changeset_next)(d),n._sqlite3changeset_op=(d,f,y,_,S)=>(n._sqlite3changeset_op=ee.sqlite3changeset_op)(d,f,y,_,S),n._sqlite3changeset_pk=(d,f,y)=>(n._sqlite3changeset_pk=ee.sqlite3changeset_pk)(d,f,y),n._sqlite3changeset_old=(d,f,y)=>(n._sqlite3changeset_old=ee.sqlite3changeset_old)(d,f,y),n._sqlite3changeset_new=(d,f,y)=>(n._sqlite3changeset_new=ee.sqlite3changeset_new)(d,f,y),n._sqlite3changeset_conflict=(d,f,y)=>(n._sqlite3changeset_conflict=ee.sqlite3changeset_conflict)(d,f,y),n._sqlite3changeset_fk_conflicts=(d,f)=>(n._sqlite3changeset_fk_conflicts=ee.sqlite3changeset_fk_conflicts)(d,f),n._sqlite3changeset_finalize=d=>(n._sqlite3changeset_finalize=ee.sqlite3changeset_finalize)(d),n._sqlite3changeset_invert=(d,f,y,_)=>(n._sqlite3changeset_invert=ee.sqlite3changeset_invert)(d,f,y,_),n._sqlite3changeset_invert_strm=(d,f,y,_)=>(n._sqlite3changeset_invert_strm=ee.sqlite3changeset_invert_strm)(d,f,y,_),n._sqlite3changeset_apply_v2=(d,f,y,_,S,k,X,te,Le)=>(n._sqlite3changeset_apply_v2=ee.sqlite3changeset_apply_v2)(d,f,y,_,S,k,X,te,Le),n._sqlite3changeset_apply=(d,f,y,_,S,k)=>(n._sqlite3changeset_apply=ee.sqlite3changeset_apply)(d,f,y,_,S,k),n._sqlite3changeset_apply_v2_strm=(d,f,y,_,S,k,X,te,Le)=>(n._sqlite3changeset_apply_v2_strm=ee.sqlite3changeset_apply_v2_strm)(d,f,y,_,S,k,X,te,Le),n._sqlite3changeset_apply_strm=(d,f,y,_,S,k)=>(n._sqlite3changeset_apply_strm=ee.sqlite3changeset_apply_strm)(d,f,y,_,S,k),n._sqlite3changegroup_new=d=>(n._sqlite3changegroup_new=ee.sqlite3changegroup_new)(d),n._sqlite3changegroup_add=(d,f,y)=>(n._sqlite3changegroup_add=ee.sqlite3changegroup_add)(d,f,y),n._sqlite3changegroup_output=(d,f,y)=>(n._sqlite3changegroup_output=ee.sqlite3changegroup_output)(d,f,y),n._sqlite3changegroup_add_strm=(d,f,y)=>(n._sqlite3changegroup_add_strm=ee.sqlite3changegroup_add_strm)(d,f,y),n._sqlite3changegroup_output_strm=(d,f,y)=>(n._sqlite3changegroup_output_strm=ee.sqlite3changegroup_output_strm)(d,f,y),n._sqlite3changegroup_delete=d=>(n._sqlite3changegroup_delete=ee.sqlite3changegroup_delete)(d),n._sqlite3changeset_concat=(d,f,y,_,S,k)=>(n._sqlite3changeset_concat=ee.sqlite3changeset_concat)(d,f,y,_,S,k),n._sqlite3changeset_concat_strm=(d,f,y,_,S,k)=>(n._sqlite3changeset_concat_strm=ee.sqlite3changeset_concat_strm)(d,f,y,_,S,k),n._sqlite3session_config=(d,f)=>(n._sqlite3session_config=ee.sqlite3session_config)(d,f),n._sqlite3_sourceid=()=>(n._sqlite3_sourceid=ee.sqlite3_sourceid)(),n._sqlite3__wasm_pstack_ptr=()=>(n._sqlite3__wasm_pstack_ptr=ee.sqlite3__wasm_pstack_ptr)(),n._sqlite3__wasm_pstack_restore=d=>(n._sqlite3__wasm_pstack_restore=ee.sqlite3__wasm_pstack_restore)(d),n._sqlite3__wasm_pstack_alloc=d=>(n._sqlite3__wasm_pstack_alloc=ee.sqlite3__wasm_pstack_alloc)(d),n._sqlite3__wasm_pstack_remaining=()=>(n._sqlite3__wasm_pstack_remaining=ee.sqlite3__wasm_pstack_remaining)(),n._sqlite3__wasm_pstack_quota=()=>(n._sqlite3__wasm_pstack_quota=ee.sqlite3__wasm_pstack_quota)(),n._sqlite3__wasm_db_error=(d,f,y)=>(n._sqlite3__wasm_db_error=ee.sqlite3__wasm_db_error)(d,f,y),n._sqlite3__wasm_test_struct=d=>(n._sqlite3__wasm_test_struct=ee.sqlite3__wasm_test_struct)(d),n._sqlite3__wasm_enum_json=()=>(n._sqlite3__wasm_enum_json=ee.sqlite3__wasm_enum_json)(),n._sqlite3__wasm_vfs_unlink=(d,f)=>(n._sqlite3__wasm_vfs_unlink=ee.sqlite3__wasm_vfs_unlink)(d,f),n._sqlite3__wasm_db_vfs=(d,f)=>(n._sqlite3__wasm_db_vfs=ee.sqlite3__wasm_db_vfs)(d,f),n._sqlite3__wasm_db_reset=d=>(n._sqlite3__wasm_db_reset=ee.sqlite3__wasm_db_reset)(d),n._sqlite3__wasm_db_export_chunked=(d,f)=>(n._sqlite3__wasm_db_export_chunked=ee.sqlite3__wasm_db_export_chunked)(d,f),n._sqlite3__wasm_db_serialize=(d,f,y,_,S)=>(n._sqlite3__wasm_db_serialize=ee.sqlite3__wasm_db_serialize)(d,f,y,_,S),n._sqlite3__wasm_vfs_create_file=(d,f,y,_)=>(n._sqlite3__wasm_vfs_create_file=ee.sqlite3__wasm_vfs_create_file)(d,f,y,_),n._sqlite3__wasm_posix_create_file=(d,f,y)=>(n._sqlite3__wasm_posix_create_file=ee.sqlite3__wasm_posix_create_file)(d,f,y),n._sqlite3__wasm_kvvfsMakeKeyOnPstack=(d,f)=>(n._sqlite3__wasm_kvvfsMakeKeyOnPstack=ee.sqlite3__wasm_kvvfsMakeKeyOnPstack)(d,f),n._sqlite3__wasm_kvvfs_methods=()=>(n._sqlite3__wasm_kvvfs_methods=ee.sqlite3__wasm_kvvfs_methods)(),n._sqlite3__wasm_vtab_config=(d,f,y)=>(n._sqlite3__wasm_vtab_config=ee.sqlite3__wasm_vtab_config)(d,f,y),n._sqlite3__wasm_db_config_ip=(d,f,y,_)=>(n._sqlite3__wasm_db_config_ip=ee.sqlite3__wasm_db_config_ip)(d,f,y,_),n._sqlite3__wasm_db_config_pii=(d,f,y,_,S)=>(n._sqlite3__wasm_db_config_pii=ee.sqlite3__wasm_db_config_pii)(d,f,y,_,S),n._sqlite3__wasm_db_config_s=(d,f,y)=>(n._sqlite3__wasm_db_config_s=ee.sqlite3__wasm_db_config_s)(d,f,y),n._sqlite3__wasm_config_i=(d,f)=>(n._sqlite3__wasm_config_i=ee.sqlite3__wasm_config_i)(d,f),n._sqlite3__wasm_config_ii=(d,f,y)=>(n._sqlite3__wasm_config_ii=ee.sqlite3__wasm_config_ii)(d,f,y),n._sqlite3__wasm_config_j=(d,f)=>(n._sqlite3__wasm_config_j=ee.sqlite3__wasm_config_j)(d,f),n._sqlite3__wasm_qfmt_token=(d,f)=>(n._sqlite3__wasm_qfmt_token=ee.sqlite3__wasm_qfmt_token)(d,f),n._sqlite3__wasm_init_wasmfs=d=>(n._sqlite3__wasm_init_wasmfs=ee.sqlite3__wasm_init_wasmfs)(d),n._sqlite3__wasm_test_intptr=d=>(n._sqlite3__wasm_test_intptr=ee.sqlite3__wasm_test_intptr)(d),n._sqlite3__wasm_test_voidptr=d=>(n._sqlite3__wasm_test_voidptr=ee.sqlite3__wasm_test_voidptr)(d),n._sqlite3__wasm_test_int64_max=()=>(n._sqlite3__wasm_test_int64_max=ee.sqlite3__wasm_test_int64_max)(),n._sqlite3__wasm_test_int64_min=()=>(n._sqlite3__wasm_test_int64_min=ee.sqlite3__wasm_test_int64_min)(),n._sqlite3__wasm_test_int64_times2=d=>(n._sqlite3__wasm_test_int64_times2=ee.sqlite3__wasm_test_int64_times2)(d),n._sqlite3__wasm_test_int64_minmax=(d,f)=>(n._sqlite3__wasm_test_int64_minmax=ee.sqlite3__wasm_test_int64_minmax)(d,f),n._sqlite3__wasm_test_int64ptr=d=>(n._sqlite3__wasm_test_int64ptr=ee.sqlite3__wasm_test_int64ptr)(d),n._sqlite3__wasm_test_stack_overflow=d=>(n._sqlite3__wasm_test_stack_overflow=ee.sqlite3__wasm_test_stack_overflow)(d),n._sqlite3__wasm_test_str_hello=d=>(n._sqlite3__wasm_test_str_hello=ee.sqlite3__wasm_test_str_hello)(d),n._sqlite3__wasm_SQLTester_strglob=(d,f)=>(n._sqlite3__wasm_SQLTester_strglob=ee.sqlite3__wasm_SQLTester_strglob)(d,f),n._malloc=d=>(n._malloc=ee.malloc)(d),n._free=d=>(n._free=ee.free)(d),n._realloc=(d,f)=>(n._realloc=ee.realloc)(d,f);var Ku=(d,f)=>(Ku=ee.emscripten_builtin_memalign)(d,f);n.wasmMemory=D;var Na;lt=function d(){Na||Gu(),Na||(lt=d)};function Gu(){if(xe>0||(Ce(),xe>0))return;function d(){Na||(Na=!0,n.calledRun=!0,!z&&(Pe(),o(n),n.onRuntimeInitialized?.(),ve()))}n.setStatus?(n.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>n.setStatus(""),1),d()},1)):d()}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return Gu(),n.postRun||(n.postRun=[]),n.postRun.push(function(d){if(globalThis.sqlite3ApiBootstrap=function f(y=globalThis.sqlite3ApiConfig||f.defaultConfig){if(f.sqlite3)return(f.sqlite3.config||console).warn("sqlite3ApiBootstrap() called multiple times.","Config and external initializers are ignored on calls after the first."),f.sqlite3;const _=Object.assign(Object.create(null),{exports:void 0,memory:void 0,bigIntEnabled:typeof d<"u"&&d.HEAPU64?!0:!!globalThis.BigInt64Array,debug:console.debug.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),log:console.log.bind(console),wasmfsOpfsDir:"/opfs",useStdAlloc:!1},y||{});Object.assign(_,{allocExportName:_.useStdAlloc?"malloc":"sqlite3_malloc",deallocExportName:_.useStdAlloc?"free":"sqlite3_free",reallocExportName:_.useStdAlloc?"realloc":"sqlite3_realloc"},_),["exports","memory","wasmfsOpfsDir"].forEach(O=>{typeof _[O]=="function"&&(_[O]=_[O]())}),delete globalThis.sqlite3ApiConfig,delete f.defaultConfig;const S=Object.create(null),k=Object.create(null),X=O=>S.sqlite3_js_rc_str&&S.sqlite3_js_rc_str(O)||"Unknown result code #"+O,te=O=>typeof O=="number"&&O===(O|0);class Le extends Error{constructor(...M){let $;if(M.length)if(te(M[0]))if($=M[0],M.length===1)super(X(M[0]));else{const qe=X($);typeof M[1]=="object"?super(qe,M[1]):(M[0]=qe+":",super(M.join(" ")))}else M.length===2&&typeof M[1]=="object"?super(...M):super(M.join(" "));this.resultCode=$||S.SQLITE_ERROR,this.name="SQLite3Error"}}Le.toss=(...O)=>{throw new Le(...O)};const ze=Le.toss;_.wasmfsOpfsDir&&!/^\/[^/]+$/.test(_.wasmfsOpfsDir)&&ze("config.wasmfsOpfsDir must be falsy or in the form '/dir-name'.");const Je=O=>typeof O!="bigint"&&O===(O|0)&&O<=0x7fffffff&&O>=-0x80000000,rt=function O(M){return O._max||(O._max=BigInt("0x7fffffffffffffff"),O._min=~O._max),M>=O._min&&M<=O._max},Ae=O=>O>=-2147483647n-1n&&O<=2147483647n,we=function O(M){return O._min||(O._min=Number.MIN_SAFE_INTEGER,O._max=Number.MAX_SAFE_INTEGER),M>=O._min&&M<=O._max},Ue=O=>O&&O.constructor&&Je(O.constructor.BYTES_PER_ELEMENT)?O:!1,oe=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,he=O=>O.buffer instanceof oe,_e=(O,M,$)=>he(O)?O.slice(M,$):O.subarray(M,$),We=O=>O&&(O instanceof Uint8Array||O instanceof Int8Array||O instanceof ArrayBuffer),Be=O=>O&&(O instanceof Uint8Array||O instanceof Int8Array||O instanceof ArrayBuffer),be=O=>We(O)||ze("Value is not of a supported TypedArray type."),De=new TextDecoder("utf-8"),ht=function(O,M,$){return De.decode(_e(O,M,$))},j=function(O){return Be(O)?ht(O instanceof ArrayBuffer?new Uint8Array(O):O):Array.isArray(O)?O.join(""):(k.isPtr(O)&&(O=k.cstrToJs(O)),O)};class J extends Error{constructor(...M){M.length===2&&typeof M[1]=="object"?super(...M):M.length?super(M.join(" ")):super("Allocation failed."),this.resultCode=S.SQLITE_NOMEM,this.name="WasmAllocError"}}J.toss=(...O)=>{throw new J(...O)},Object.assign(S,{sqlite3_bind_blob:void 0,sqlite3_bind_text:void 0,sqlite3_create_function_v2:(O,M,$,qe,He,St,Ft,Bt,Ze)=>{},sqlite3_create_function:(O,M,$,qe,He,St,Ft,Bt)=>{},sqlite3_create_window_function:(O,M,$,qe,He,St,Ft,Bt,Ze,ue)=>{},sqlite3_prepare_v3:(O,M,$,qe,He,St)=>{},sqlite3_prepare_v2:(O,M,$,qe,He)=>{},sqlite3_exec:(O,M,$,qe,He)=>{},sqlite3_randomness:(O,M)=>{}});const fe={affirmBindableTypedArray:be,flexibleString:j,bigIntFits32:Ae,bigIntFits64:rt,bigIntFitsDouble:we,isBindableTypedArray:We,isInt32:Je,isSQLableTypedArray:Be,isTypedArray:Ue,typedArrayToString:ht,isUIThread:()=>globalThis.window===globalThis&&!!globalThis.document,isSharedTypedArray:he,toss:function(...O){throw new Error(O.join(" "))},toss3:ze,typedArrayPart:_e,affirmDbHeader:function(O){O instanceof ArrayBuffer&&(O=new Uint8Array(O));const M="SQLite format 3";M.length>O.byteLength&&ze("Input does not contain an SQLite3 database header.");for(let $=0;$<M.length;++$)M.charCodeAt($)!==O[$]&&ze("Input does not contain an SQLite3 database header.")},affirmIsDb:function(O){O instanceof ArrayBuffer&&(O=new Uint8Array(O));const M=O.byteLength;(M<512||M%512!==0)&&ze("Byte array size",M,"is invalid for an SQLite3 db."),fe.affirmDbHeader(O)}};Object.assign(k,{ptrSizeof:_.wasmPtrSizeof||4,ptrIR:_.wasmPtrIR||"i32",bigIntEnabled:!!_.bigIntEnabled,exports:_.exports||ze("Missing API config.exports (WASM module exports)."),memory:_.memory||_.exports.memory||ze("API config object requires a WebAssembly.Memory object","in either config.exports.memory (exported)","or config.memory (imported)."),alloc:void 0,realloc:void 0,dealloc:void 0}),k.allocFromTypedArray=function(O){O instanceof ArrayBuffer&&(O=new Uint8Array(O)),be(O);const M=k.alloc(O.byteLength||1);return k.heapForSize(O.constructor).set(O.byteLength?O:[0],M),M};{const O=_.allocExportName,M=_.deallocExportName,$=_.reallocExportName;for(const qe of[O,M,$])k.exports[qe]instanceof Function||ze("Missing required exports[",qe,"] function.");k.alloc=function qe(He){return qe.impl(He)||J.toss("Failed to allocate",He," bytes.")},k.alloc.impl=k.exports[O],k.realloc=function qe(He,St){const Ft=qe.impl(He,St);return St?Ft||J.toss("Failed to reallocate",St," bytes."):0},k.realloc.impl=k.exports[$],k.dealloc=k.exports[M]}k.compileOptionUsed=function O(M){if(arguments.length){if(Array.isArray(M)){const $={};return M.forEach(qe=>{$[qe]=S.sqlite3_compileoption_used(qe)}),$}else if(typeof M=="object")return Object.keys(M).forEach($=>{M[$]=S.sqlite3_compileoption_used($)}),M}else{if(O._result)return O._result;O._opt||(O._rx=/^([^=]+)=(.+)/,O._rxInt=/^-?\d+$/,O._opt=function(Ft,Bt){const Ze=O._rx.exec(Ft);Bt[0]=Ze?Ze[1]:Ft,Bt[1]=Ze?O._rxInt.test(Ze[2])?+Ze[2]:Ze[2]:!0});const $={},qe=[0,0];let He=0,St;for(;St=S.sqlite3_compileoption_get(He++);)O._opt(St,qe),$[qe[0]]=qe[1];return O._result=$}return typeof M=="string"?!!S.sqlite3_compileoption_used(M):!1},k.pstack=Object.assign(Object.create(null),{restore:k.exports.sqlite3__wasm_pstack_restore,alloc:function(O){return typeof O=="string"&&!(O=k.sizeofIR(O))&&J.toss("Invalid value for pstack.alloc(",arguments[0],")"),k.exports.sqlite3__wasm_pstack_alloc(O)||J.toss("Could not allocate",O,"bytes from the pstack.")},allocChunks:function(O,M){typeof M=="string"&&!(M=k.sizeofIR(M))&&J.toss("Invalid size value for allocChunks(",arguments[1],")");const $=k.pstack.alloc(O*M),qe=[];let He=0,St=0;for(;He<O;++He,St+=M)qe.push($+St);return qe},allocPtr:(O=1,M=!0)=>O===1?k.pstack.alloc(M?8:k.ptrSizeof):k.pstack.allocChunks(O,M?8:k.ptrSizeof),call:function(O){const M=k.pstack.pointer;try{return O(Y)}finally{k.pstack.restore(M)}}}),Object.defineProperties(k.pstack,{pointer:{configurable:!1,iterable:!0,writeable:!1,get:k.exports.sqlite3__wasm_pstack_ptr},quota:{configurable:!1,iterable:!0,writeable:!1,get:k.exports.sqlite3__wasm_pstack_quota},remaining:{configurable:!1,iterable:!0,writeable:!1,get:k.exports.sqlite3__wasm_pstack_remaining}}),S.sqlite3_randomness=(...O)=>{if(O.length===1&&fe.isTypedArray(O[0])&&O[0].BYTES_PER_ELEMENT===1){const M=O[0];if(M.byteLength===0)return k.exports.sqlite3_randomness(0,0),M;const $=k.pstack.pointer;try{let qe=M.byteLength,He=0;const St=k.exports.sqlite3_randomness,Ft=k.heap8u(),Bt=qe<512?qe:512,Ze=k.pstack.alloc(Bt);do{const ue=qe>Bt?Bt:qe;St(ue,Ze),M.set(_e(Ft,Ze,Ze+ue),He),qe-=ue,He+=ue}while(qe>0)}catch(qe){console.error("Highly unexpected (and ignored!) exception in sqlite3_randomness():",qe)}finally{k.pstack.restore($)}return M}k.exports.sqlite3_randomness(...O)};let Qe;if(S.sqlite3_wasmfs_opfs_dir=function(){if(Qe!==void 0)return Qe;const O=_.wasmfsOpfsDir;if(!O||!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle)return Qe="";try{return O&&k.xCallWrapped("sqlite3__wasm_init_wasmfs","i32",["string"],O)===0?Qe=O:Qe=""}catch{return Qe=""}},S.sqlite3_wasmfs_filename_is_persistent=function(O){const M=S.sqlite3_wasmfs_opfs_dir();return M&&O?O.startsWith(M+"/"):!1},S.sqlite3_js_db_uses_vfs=function(O,M,$=0){try{const qe=S.sqlite3_vfs_find(M);return qe?O?qe===S.sqlite3_js_db_vfs(O,$)?qe:!1:qe===S.sqlite3_vfs_find(0)?qe:!1:!1}catch{return!1}},S.sqlite3_js_vfs_list=function(){const O=[];let M=S.sqlite3_vfs_find(0);for(;M;){const $=new S.sqlite3_vfs(M);O.push(k.cstrToJs($.$zName)),M=$.$pNext,$.dispose()}return O},S.sqlite3_js_db_export=function(O,M=0){O=k.xWrap.testConvertArg("sqlite3*",O),O||ze("Invalid sqlite3* argument."),k.bigIntEnabled||ze("BigInt64 support is not enabled.");const $=k.scopedAllocPush();let qe;try{const He=k.scopedAlloc(8+k.ptrSizeof),St=He+8,Ft=M?k.isPtr(M)?M:k.scopedAllocCString(""+M):0;let Bt=k.exports.sqlite3__wasm_db_serialize(O,Ft,St,He,0);Bt&&ze("Database serialization failed with code",Y.capi.sqlite3_js_rc_str(Bt)),qe=k.peekPtr(St);const Ze=k.peek(He,"i64");return Bt=Ze?k.heap8u().slice(qe,qe+Number(Ze)):new Uint8Array,Bt}finally{qe&&k.exports.sqlite3_free(qe),k.scopedAllocPop($)}},S.sqlite3_js_db_vfs=(O,M=0)=>fe.sqlite3__wasm_db_vfs(O,M),S.sqlite3_js_aggregate_context=(O,M)=>S.sqlite3_aggregate_context(O,M)||(M?J.toss("Cannot allocate",M,"bytes for sqlite3_aggregate_context()"):0),S.sqlite3_js_posix_create_file=function(O,M,$){let qe;M&&k.isPtr(M)?qe=M:M instanceof ArrayBuffer||M instanceof Uint8Array?(qe=k.allocFromTypedArray(M),(arguments.length<3||!fe.isInt32($)||$<0)&&($=M.byteLength)):Le.toss("Invalid 2nd argument for sqlite3_js_posix_create_file().");try{(!fe.isInt32($)||$<0)&&Le.toss("Invalid 3rd argument for sqlite3_js_posix_create_file().");const He=fe.sqlite3__wasm_posix_create_file(O,qe,$);He&&Le.toss("Creation of file failed with sqlite3 result code",S.sqlite3_js_rc_str(He))}finally{k.dealloc(qe)}},S.sqlite3_js_vfs_create_file=function(O,M,$,qe){_.warn("sqlite3_js_vfs_create_file() is deprecated and","should be avoided because it can lead to C-level crashes.","See its documentation for alternative options.");let He;$?(k.isPtr($)?He=$:$ instanceof ArrayBuffer&&($=new Uint8Array($)),$ instanceof Uint8Array?(He=k.allocFromTypedArray($),(arguments.length<4||!fe.isInt32(qe)||qe<0)&&(qe=$.byteLength)):Le.toss("Invalid 3rd argument type for sqlite3_js_vfs_create_file().")):He=0,(!fe.isInt32(qe)||qe<0)&&(k.dealloc(He),Le.toss("Invalid 4th argument for sqlite3_js_vfs_create_file()."));try{const St=fe.sqlite3__wasm_vfs_create_file(O,M,He,qe);St&&Le.toss("Creation of file failed with sqlite3 result code",S.sqlite3_js_rc_str(St))}finally{k.dealloc(He)}},S.sqlite3_js_sql_to_string=O=>{if(typeof O=="string")return O;const M=j(v);return M===v?void 0:M},fe.isUIThread()){const O=function(M){const $=Object.create(null);return $.prefix="kvvfs-"+M,$.stores=[],(M==="session"||M==="")&&$.stores.push(globalThis.sessionStorage),(M==="local"||M==="")&&$.stores.push(globalThis.localStorage),$};S.sqlite3_js_kvvfs_clear=function(M=""){let $=0;const qe=O(M);return qe.stores.forEach(He=>{const St=[];let Ft;for(Ft=0;Ft<He.length;++Ft){const Bt=He.key(Ft);Bt.startsWith(qe.prefix)&&St.push(Bt)}St.forEach(Bt=>He.removeItem(Bt)),$+=St.length}),$},S.sqlite3_js_kvvfs_size=function(M=""){let $=0;const qe=O(M);return qe.stores.forEach(He=>{let St;for(St=0;St<He.length;++St){const Ft=He.key(St);Ft.startsWith(qe.prefix)&&($+=Ft.length,$+=He.getItem(Ft).length)}}),$*2}}S.sqlite3_db_config=function(O,M,...$){switch(this.s||(this.s=k.xWrap("sqlite3__wasm_db_config_s","int",["sqlite3*","int","string:static"]),this.pii=k.xWrap("sqlite3__wasm_db_config_pii","int",["sqlite3*","int","*","int","int"]),this.ip=k.xWrap("sqlite3__wasm_db_config_ip","int",["sqlite3*","int","int","*"])),M){case S.SQLITE_DBCONFIG_ENABLE_FKEY:case S.SQLITE_DBCONFIG_ENABLE_TRIGGER:case S.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER:case S.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION:case S.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE:case S.SQLITE_DBCONFIG_ENABLE_QPSG:case S.SQLITE_DBCONFIG_TRIGGER_EQP:case S.SQLITE_DBCONFIG_RESET_DATABASE:case S.SQLITE_DBCONFIG_DEFENSIVE:case S.SQLITE_DBCONFIG_WRITABLE_SCHEMA:case S.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE:case S.SQLITE_DBCONFIG_DQS_DML:case S.SQLITE_DBCONFIG_DQS_DDL:case S.SQLITE_DBCONFIG_ENABLE_VIEW:case S.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT:case S.SQLITE_DBCONFIG_TRUSTED_SCHEMA:case S.SQLITE_DBCONFIG_STMT_SCANSTATUS:case S.SQLITE_DBCONFIG_REVERSE_SCANORDER:return this.ip(O,M,$[0],$[1]||0);case S.SQLITE_DBCONFIG_LOOKASIDE:return this.pii(O,M,$[0],$[1],$[2]);case S.SQLITE_DBCONFIG_MAINDBNAME:return this.s(O,M,$[0]);default:return S.SQLITE_MISUSE}}.bind(Object.create(null)),S.sqlite3_value_to_js=function(O,M=!0){let $;const qe=S.sqlite3_value_type(O);switch(qe){case S.SQLITE_INTEGER:k.bigIntEnabled?($=S.sqlite3_value_int64(O),fe.bigIntFitsDouble($)&&($=Number($))):$=S.sqlite3_value_double(O);break;case S.SQLITE_FLOAT:$=S.sqlite3_value_double(O);break;case S.SQLITE_TEXT:$=S.sqlite3_value_text(O);break;case S.SQLITE_BLOB:{const He=S.sqlite3_value_bytes(O),St=S.sqlite3_value_blob(O);He&&!St&&Y.WasmAllocError.toss("Cannot allocate memory for blob argument of",He,"byte(s)"),$=He?k.heap8u().slice(St,St+Number(He)):null;break}case S.SQLITE_NULL:$=null;break;default:M&&ze(S.SQLITE_MISMATCH,"Unhandled sqlite3_value_type():",qe),$=void 0}return $},S.sqlite3_values_to_js=function(O,M,$=!0){let qe;const He=[];for(qe=0;qe<O;++qe)He.push(S.sqlite3_value_to_js(k.peekPtr(M+k.ptrSizeof*qe),$));return He},S.sqlite3_result_error_js=function(O,M){M instanceof J?S.sqlite3_result_error_nomem(O):S.sqlite3_result_error(O,""+M,-1)},S.sqlite3_result_js=function(O,M){if(M instanceof Error){S.sqlite3_result_error_js(O,M);return}try{switch(typeof M){case"undefined":break;case"boolean":S.sqlite3_result_int(O,M?1:0);break;case"bigint":fe.bigIntFits32(M)?S.sqlite3_result_int(O,Number(M)):fe.bigIntFitsDouble(M)?S.sqlite3_result_double(O,Number(M)):k.bigIntEnabled?fe.bigIntFits64(M)?S.sqlite3_result_int64(O,M):ze("BigInt value",M.toString(),"is too BigInt for int64."):ze("BigInt value",M.toString(),"is too BigInt.");break;case"number":{let $;fe.isInt32(M)?$=S.sqlite3_result_int:k.bigIntEnabled&&Number.isInteger(M)&&fe.bigIntFits64(BigInt(M))?$=S.sqlite3_result_int64:$=S.sqlite3_result_double,$(O,M);break}case"string":{const[$,qe]=k.allocCString(M,!0);S.sqlite3_result_text(O,$,qe,S.SQLITE_WASM_DEALLOC);break}case"object":if(M===null){S.sqlite3_result_null(O);break}else if(fe.isBindableTypedArray(M)){const $=k.allocFromTypedArray(M);S.sqlite3_result_blob(O,$,M.byteLength,S.SQLITE_WASM_DEALLOC);break}default:ze("Don't not how to handle this UDF result value:",typeof M,M)}}catch($){S.sqlite3_result_error_js(O,$)}},S.sqlite3_column_js=function(O,M,$=!0){const qe=S.sqlite3_column_value(O,M);return qe===0?void 0:S.sqlite3_value_to_js(qe,$)};const U=function(O,M,$){$=S[$],this.ptr?k.pokePtr(this.ptr,0):this.ptr=k.allocPtr();const qe=$(O,M,this.ptr);if(qe)return Le.toss(qe,arguments[2]+"() failed with code "+qe);const He=k.peekPtr(this.ptr);return He?S.sqlite3_value_to_js(He,!0):void 0}.bind(Object.create(null));S.sqlite3_preupdate_new_js=(O,M)=>U(O,M,"sqlite3_preupdate_new"),S.sqlite3_preupdate_old_js=(O,M)=>U(O,M,"sqlite3_preupdate_old"),S.sqlite3changeset_new_js=(O,M)=>U(O,M,"sqlite3changeset_new"),S.sqlite3changeset_old_js=(O,M)=>U(O,M,"sqlite3changeset_old");const Y={WasmAllocError:J,SQLite3Error:Le,capi:S,util:fe,wasm:k,config:_,version:Object.create(null),client:void 0,asyncPostInit:async function O(){if(O.isReady instanceof Promise)return O.isReady;let M=f.initializersAsync;delete f.initializersAsync;const $=async()=>(Y.__isUnderTest||(delete Y.util,delete Y.StructBinder),Y),qe=St=>{throw _.error("an async sqlite3 initializer failed:",St),St};if(!M||!M.length)return O.isReady=$().catch(qe);M=M.map(St=>St instanceof Function?async Ft=>St(Y):St),M.push($);let He=Promise.resolve(Y);for(;M.length;)He=He.then(M.shift());return O.isReady=He.catch(qe)},scriptInfo:void 0};try{f.initializers.forEach(O=>{O(Y)})}catch(O){throw console.error("sqlite3 bootstrap initializer threw:",O),O}return delete f.initializers,f.sqlite3=Y,Y},globalThis.sqlite3ApiBootstrap.initializers=[],globalThis.sqlite3ApiBootstrap.initializersAsync=[],globalThis.sqlite3ApiBootstrap.defaultConfig=Object.create(null),globalThis.sqlite3ApiBootstrap.sqlite3=void 0,globalThis.WhWasmUtilInstaller=function(f){f.bigIntEnabled===void 0&&(f.bigIntEnabled=!!globalThis.BigInt64Array);const y=(...j)=>{throw new Error(j.join(" "))};f.exports||Object.defineProperty(f,"exports",{enumerable:!0,configurable:!0,get:()=>f.instance&&f.instance.exports});const _=f.pointerIR||"i32",S=f.ptrSizeof=_==="i32"?4:_==="i64"?8:y("Unhandled ptrSizeof:",_),k=Object.create(null);k.heapSize=0,k.memory=null,k.freeFuncIndexes=[],k.scopedAlloc=[],k.utf8Decoder=new TextDecoder,k.utf8Encoder=new TextEncoder("utf-8"),f.sizeofIR=j=>{switch(j){case"i8":return 1;case"i16":return 2;case"i32":case"f32":case"float":return 4;case"i64":case"f64":case"double":return 8;case"*":return S;default:return(""+j).endsWith("*")?S:void 0}};const X=function(){if(!k.memory)k.memory=f.memory instanceof WebAssembly.Memory?f.memory:f.exports.memory;else if(k.heapSize===k.memory.buffer.byteLength)return k;const j=k.memory.buffer;return k.HEAP8=new Int8Array(j),k.HEAP8U=new Uint8Array(j),k.HEAP16=new Int16Array(j),k.HEAP16U=new Uint16Array(j),k.HEAP32=new Int32Array(j),k.HEAP32U=new Uint32Array(j),f.bigIntEnabled&&(k.HEAP64=new BigInt64Array(j),k.HEAP64U=new BigUint64Array(j)),k.HEAP32F=new Float32Array(j),k.HEAP64F=new Float64Array(j),k.heapSize=j.byteLength,k};f.heap8=()=>X().HEAP8,f.heap8u=()=>X().HEAP8U,f.heap16=()=>X().HEAP16,f.heap16u=()=>X().HEAP16U,f.heap32=()=>X().HEAP32,f.heap32u=()=>X().HEAP32U,f.heapForSize=function(j,J=!0){const fe=k.memory&&k.heapSize===k.memory.buffer.byteLength?k:X();switch(j){case Int8Array:return fe.HEAP8;case Uint8Array:return fe.HEAP8U;case Int16Array:return fe.HEAP16;case Uint16Array:return fe.HEAP16U;case Int32Array:return fe.HEAP32;case Uint32Array:return fe.HEAP32U;case 8:return J?fe.HEAP8U:fe.HEAP8;case 16:return J?fe.HEAP16U:fe.HEAP16;case 32:return J?fe.HEAP32U:fe.HEAP32;case 64:if(fe.HEAP64)return J?fe.HEAP64U:fe.HEAP64;break;default:if(f.bigIntEnabled){if(j===globalThis.BigUint64Array)return fe.HEAP64U;if(j===globalThis.BigInt64Array)return fe.HEAP64;break}}y("Invalid heapForSize() size: expecting 8, 16, 32,","or (if BigInt is enabled) 64.")},f.functionTable=function(){return f.exports.__indirect_function_table},f.functionEntry=function(j){const J=f.functionTable();return j<J.length?J.get(j):void 0},f.jsFuncToWasm=function j(J,fe){if(j._||(j._={sigTypes:Object.assign(Object.create(null),{i:"i32",p:"i32",P:"i32",s:"i32",j:"i64",f:"f32",d:"f64"}),typeCodes:Object.assign(Object.create(null),{f64:124,f32:125,i64:126,i32:127}),uleb128Encode:function(Y,O,M){M<128?Y[O](M):Y[O](M%128|128,M>>7)},rxJSig:/^(\w)\((\w*)\)$/,sigParams:function(Y){const O=j._.rxJSig.exec(Y);return O?O[2]:Y.substr(1)},letterType:Y=>j._.sigTypes[Y]||y("Invalid signature letter:",Y),pushSigType:(Y,O)=>Y.push(j._.typeCodes[j._.letterType(O)])}),typeof J=="string"){const Y=fe;fe=J,J=Y}const Qe=j._.sigParams(fe),U=[1,96];j._.uleb128Encode(U,"push",Qe.length);for(const Y of Qe)j._.pushSigType(U,Y);return fe[0]==="v"?U.push(0):(U.push(1),j._.pushSigType(U,fe[0])),j._.uleb128Encode(U,"unshift",U.length),U.unshift(0,97,115,109,1,0,0,0,1),U.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array(U)),{e:{f:J}}).exports.f};const te=function(J,fe,Qe){if(Qe&&!k.scopedAlloc.length&&y("No scopedAllocPush() scope is active."),typeof J=="string"){const M=fe;fe=J,J=M}(typeof fe!="string"||!(J instanceof Function))&&y("Invalid arguments: expecting (function,signature) or (signature,function).");const U=f.functionTable(),Y=U.length;let O;for(;k.freeFuncIndexes.length&&(O=k.freeFuncIndexes.pop(),U.get(O));){O=null;continue}O||(O=Y,U.grow(1));try{return U.set(O,J),Qe&&k.scopedAlloc[k.scopedAlloc.length-1].push(O),O}catch(M){if(!(M instanceof TypeError))throw O===Y&&k.freeFuncIndexes.push(Y),M}try{const M=f.jsFuncToWasm(J,fe);U.set(O,M),Qe&&k.scopedAlloc[k.scopedAlloc.length-1].push(O)}catch(M){throw O===Y&&k.freeFuncIndexes.push(Y),M}return O};f.installFunction=(j,J)=>te(j,J,!1),f.scopedInstallFunction=(j,J)=>te(j,J,!0),f.uninstallFunction=function(j){if(!j&&j!==0)return;const J=k.freeFuncIndexes,fe=f.functionTable();J.push(j);const Qe=fe.get(j);return fe.set(j,null),Qe},f.peek=function(J,fe="i8"){fe.endsWith("*")&&(fe=_);const Qe=k.memory&&k.heapSize===k.memory.buffer.byteLength?k:X(),U=Array.isArray(J)?[]:void 0;let Y;do{switch(U&&(J=arguments[0].shift()),fe){case"i1":case"i8":Y=Qe.HEAP8[J>>0];break;case"i16":Y=Qe.HEAP16[J>>1];break;case"i32":Y=Qe.HEAP32[J>>2];break;case"float":case"f32":Y=Qe.HEAP32F[J>>2];break;case"double":case"f64":Y=Number(Qe.HEAP64F[J>>3]);break;case"i64":if(f.bigIntEnabled){Y=BigInt(Qe.HEAP64[J>>3]);break}default:y("Invalid type for peek():",fe)}U&&U.push(Y)}while(U&&arguments[0].length);return U||Y},f.poke=function(j,J,fe="i8"){fe.endsWith("*")&&(fe=_);const Qe=k.memory&&k.heapSize===k.memory.buffer.byteLength?k:X();for(const U of Array.isArray(j)?j:[j])switch(fe){case"i1":case"i8":Qe.HEAP8[U>>0]=J;continue;case"i16":Qe.HEAP16[U>>1]=J;continue;case"i32":Qe.HEAP32[U>>2]=J;continue;case"float":case"f32":Qe.HEAP32F[U>>2]=J;continue;case"double":case"f64":Qe.HEAP64F[U>>3]=J;continue;case"i64":if(Qe.HEAP64){Qe.HEAP64[U>>3]=BigInt(J);continue}default:y("Invalid type for poke(): "+fe)}return this},f.peekPtr=(...j)=>f.peek(j.length===1?j[0]:j,_),f.pokePtr=(j,J=0)=>f.poke(j,J,_),f.peek8=(...j)=>f.peek(j.length===1?j[0]:j,"i8"),f.poke8=(j,J)=>f.poke(j,J,"i8"),f.peek16=(...j)=>f.peek(j.length===1?j[0]:j,"i16"),f.poke16=(j,J)=>f.poke(j,J,"i16"),f.peek32=(...j)=>f.peek(j.length===1?j[0]:j,"i32"),f.poke32=(j,J)=>f.poke(j,J,"i32"),f.peek64=(...j)=>f.peek(j.length===1?j[0]:j,"i64"),f.poke64=(j,J)=>f.poke(j,J,"i64"),f.peek32f=(...j)=>f.peek(j.length===1?j[0]:j,"f32"),f.poke32f=(j,J)=>f.poke(j,J,"f32"),f.peek64f=(...j)=>f.peek(j.length===1?j[0]:j,"f64"),f.poke64f=(j,J)=>f.poke(j,J,"f64"),f.getMemValue=f.peek,f.getPtrValue=f.peekPtr,f.setMemValue=f.poke,f.setPtrValue=f.pokePtr,f.isPtr32=j=>typeof j=="number"&&j===(j|0)&&j>=0,f.isPtr=f.isPtr32,f.cstrlen=function(j){if(!j||!f.isPtr(j))return null;const J=X().HEAP8U;let fe=j;for(;J[fe]!==0;++fe);return fe-j};const Le=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,ze=function(j,J,fe){return k.utf8Decoder.decode(j.buffer instanceof Le?j.slice(J,fe):j.subarray(J,fe))};f.cstrToJs=function(j){const J=f.cstrlen(j);return J?ze(X().HEAP8U,j,j+J):J===null?J:""},f.jstrlen=function(j){if(typeof j!="string")return null;const J=j.length;let fe=0;for(let Qe=0;Qe<J;++Qe){let U=j.charCodeAt(Qe);U>=55296&&U<=57343&&(U=65536+((U&1023)<<10)|j.charCodeAt(++Qe)&1023),U<=127?++fe:U<=2047?fe+=2:U<=65535?fe+=3:fe+=4}return fe},f.jstrcpy=function(j,J,fe=0,Qe=-1,U=!0){if((!J||!(J instanceof Int8Array)&&!(J instanceof Uint8Array))&&y("jstrcpy() target must be an Int8Array or Uint8Array."),Qe<0&&(Qe=J.length-fe),!(Qe>0)||!(fe>=0))return 0;let Y=0,O=j.length;const M=fe,$=fe+Qe-(U?1:0);for(;Y<O&&fe<$;++Y){let qe=j.charCodeAt(Y);if(qe>=55296&&qe<=57343&&(qe=65536+((qe&1023)<<10)|j.charCodeAt(++Y)&1023),qe<=127){if(fe>=$)break;J[fe++]=qe}else if(qe<=2047){if(fe+1>=$)break;J[fe++]=192|qe>>6,J[fe++]=128|qe&63}else if(qe<=65535){if(fe+2>=$)break;J[fe++]=224|qe>>12,J[fe++]=128|qe>>6&63,J[fe++]=128|qe&63}else{if(fe+3>=$)break;J[fe++]=240|qe>>18,J[fe++]=128|qe>>12&63,J[fe++]=128|qe>>6&63,J[fe++]=128|qe&63}}return U&&(J[fe++]=0),fe-M},f.cstrncpy=function(j,J,fe){if((!j||!J)&&y("cstrncpy() does not accept NULL strings."),fe<0)fe=f.cstrlen(strPtr)+1;else if(!(fe>0))return 0;const Qe=f.heap8u();let U=0,Y;for(;U<fe&&(Y=Qe[J+U]);++U)Qe[j+U]=Y;return U<fe&&(Qe[j+U++]=0),U},f.jstrToUintArray=(j,J=!1)=>k.utf8Encoder.encode(J?j+"\0":j);const Je=(j,J)=>{(!(j.alloc instanceof Function)||!(j.dealloc instanceof Function))&&y("Object is missing alloc() and/or dealloc() function(s)","required by",J+"().")},rt=function(j,J,fe,Qe){if(Je(f,Qe),typeof j!="string")return null;{const U=k.utf8Encoder.encode(j),Y=fe(U.length+1),O=X().HEAP8U;return O.set(U,Y),O[Y+U.length]=0,J?[Y,U.length]:Y}};f.allocCString=(j,J=!1)=>rt(j,J,f.alloc,"allocCString()"),f.scopedAllocPush=function(){Je(f,"scopedAllocPush");const j=[];return k.scopedAlloc.push(j),j},f.scopedAllocPop=function(j){Je(f,"scopedAllocPop");const J=arguments.length?k.scopedAlloc.indexOf(j):k.scopedAlloc.length-1;J<0&&y("Invalid state object for scopedAllocPop()."),arguments.length===0&&(j=k.scopedAlloc[J]),k.scopedAlloc.splice(J,1);for(let fe;fe=j.pop();)f.functionEntry(fe)?f.uninstallFunction(fe):f.dealloc(fe)},f.scopedAlloc=function(j){k.scopedAlloc.length||y("No scopedAllocPush() scope is active.");const J=f.alloc(j);return k.scopedAlloc[k.scopedAlloc.length-1].push(J),J},Object.defineProperty(f.scopedAlloc,"level",{configurable:!1,enumerable:!1,get:()=>k.scopedAlloc.length,set:()=>y("The 'active' property is read-only.")}),f.scopedAllocCString=(j,J=!1)=>rt(j,J,f.scopedAlloc,"scopedAllocCString()");const Ae=function(j,J){const fe=f[j?"scopedAlloc":"alloc"]((J.length+1)*f.ptrSizeof);let Qe=0;return J.forEach(U=>{f.pokePtr(fe+f.ptrSizeof*Qe++,f[j?"scopedAllocCString":"allocCString"](""+U))}),f.pokePtr(fe+f.ptrSizeof*Qe,0),fe};f.scopedAllocMainArgv=j=>Ae(!0,j),f.allocMainArgv=j=>Ae(!1,j),f.cArgvToJs=(j,J)=>{const fe=[];for(let Qe=0;Qe<j;++Qe){const U=f.peekPtr(J+f.ptrSizeof*Qe);fe.push(U?f.cstrToJs(U):null)}return fe},f.scopedAllocCall=function(j){f.scopedAllocPush();try{return j()}finally{f.scopedAllocPop()}};const we=function(j,J,fe){Je(f,fe);const Qe=J?"i64":_;let U=f[fe](j*(J?8:S));if(f.poke(U,0,Qe),j===1)return U;const Y=[U];for(let O=1;O<j;++O)U+=J?8:S,Y[O]=U,f.poke(U,0,Qe);return Y};f.allocPtr=(j=1,J=!0)=>we(j,J,"alloc"),f.scopedAllocPtr=(j=1,J=!0)=>we(j,J,"scopedAlloc"),f.xGet=function(j){return f.exports[j]||y("Cannot find exported symbol:",j)};const Ue=(j,J)=>y(j+"() requires",J,"argument(s).");f.xCall=function(j,...J){const fe=j instanceof Function?j:f.xGet(j);return fe instanceof Function||y("Exported symbol",j,"is not a function."),fe.length!==J.length&&Ue(fe===j?fe.name:j,fe.length),arguments.length===2&&Array.isArray(arguments[1])?fe.apply(null,arguments[1]):fe.apply(null,J)},k.xWrap=Object.create(null),k.xWrap.convert=Object.create(null),k.xWrap.convert.arg=new Map,k.xWrap.convert.result=new Map;const oe=k.xWrap.convert.arg,he=k.xWrap.convert.result;f.bigIntEnabled&&oe.set("i64",j=>BigInt(j));const _e=_==="i32"?j=>j|0:j=>BigInt(j)|BigInt(0);oe.set("i32",_e).set("i16",j=>(j|0)&65535).set("i8",j=>(j|0)&255).set("f32",j=>Number(j).valueOf()).set("float",oe.get("f32")).set("f64",oe.get("f32")).set("double",oe.get("f64")).set("int",oe.get("i32")).set("null",j=>j).set(null,oe.get("null")).set("**",_e).set("*",_e),he.set("*",_e).set("pointer",_e).set("number",j=>Number(j)).set("void",j=>{}).set("null",j=>j).set(null,he.get("null"));{const j=["i8","i16","i32","int","f32","float","f64","double"];f.bigIntEnabled&&j.push("i64");const J=oe.get(_);for(const fe of j)oe.set(fe+"*",J),he.set(fe+"*",J),he.set(fe,oe.get(fe)||y("Missing arg converter:",fe))}const We=function(j){return typeof j=="string"?f.scopedAllocCString(j):j?_e(j):null};oe.set("string",We).set("utf8",We).set("pointer",We),he.set("string",j=>f.cstrToJs(j)).set("utf8",he.get("string")).set("string:dealloc",j=>{try{return j?f.cstrToJs(j):null}finally{f.dealloc(j)}}).set("utf8:dealloc",he.get("string:dealloc")).set("json",j=>JSON.parse(f.cstrToJs(j))).set("json:dealloc",j=>{try{return j?JSON.parse(f.cstrToJs(j)):null}finally{f.dealloc(j)}});const Be=class{constructor(j){this.name=j.name||"unnamed adapter"}convertArg(j,J,fe){y("AbstractArgAdapter must be subclassed.")}};oe.FuncPtrAdapter=class Ys extends Be{constructor(J){super(J),oe.FuncPtrAdapter.warnOnUse&&console.warn("xArg.FuncPtrAdapter is an internal-only API","and is not intended to be invoked from","client-level code. Invoked with:",J),this.name=J.name||"unnamed",this.signature=J.signature,J.contextKey instanceof Function&&(this.contextKey=J.contextKey,J.bindScope||(J.bindScope="context")),this.bindScope=J.bindScope||y("FuncPtrAdapter options requires a bindScope (explicit or implied)."),Ys.bindScopes.indexOf(J.bindScope)<0&&y("Invalid options.bindScope ("+J.bindMod+") for FuncPtrAdapter. Expecting one of: ("+Ys.bindScopes.join(", ")+")"),this.isTransient=this.bindScope==="transient",this.isContext=this.bindScope==="context",this.isPermanent=this.bindScope==="permanent",this.singleton=this.bindScope==="singleton"?[]:void 0,this.callProxy=J.callProxy instanceof Function?J.callProxy:void 0}contextKey(J,fe){return this}contextMap(J){const fe=this.__cmap||(this.__cmap=new Map);let Qe=fe.get(J);return Qe===void 0&&fe.set(J,Qe=[]),Qe}convertArg(J,fe,Qe){let U=this.singleton;if(!U&&this.isContext&&(U=this.contextMap(this.contextKey(fe,Qe))),U&&U[0]===J)return U[1];if(J instanceof Function){this.callProxy&&(J=this.callProxy(J));const Y=te(J,this.signature,this.isTransient);if(Ys.debugFuncInstall&&Ys.debugOut("FuncPtrAdapter installed",this,this.contextKey(fe,Qe),"@"+Y,J),U){if(U[1]){Ys.debugFuncInstall&&Ys.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(fe,Qe),"@"+U[1],J);try{k.scopedAlloc[k.scopedAlloc.length-1].push(U[1])}catch{}}U[0]=J,U[1]=Y}return Y}else if(f.isPtr(J)||J===null||J===void 0){if(U&&U[1]&&U[1]!==J){Ys.debugFuncInstall&&Ys.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(fe,Qe),"@"+U[1],J);try{k.scopedAlloc[k.scopedAlloc.length-1].push(U[1])}catch{}U[0]=U[1]=J|0}return J||0}else throw new TypeError("Invalid FuncPtrAdapter argument type. Expecting a function pointer or a "+(this.name?this.name+" ":"")+"function matching signature "+this.signature+".")}},oe.FuncPtrAdapter.warnOnUse=!1,oe.FuncPtrAdapter.debugFuncInstall=!1,oe.FuncPtrAdapter.debugOut=console.debug.bind(console),oe.FuncPtrAdapter.bindScopes=["transient","context","singleton","permanent"];const be=j=>oe.get(j)||y("Argument adapter not found:",j),De=j=>he.get(j)||y("Result adapter not found:",j);k.xWrap.convertArg=(j,...J)=>be(j)(...J),k.xWrap.convertArgNoCheck=(j,...J)=>oe.get(j)(...J),k.xWrap.convertResult=(j,J)=>j===null?J:j?De(j)(J):void 0,k.xWrap.convertResultNoCheck=(j,J)=>j===null?J:j?he.get(j)(J):void 0,f.xWrap=function(j,J,...fe){arguments.length===3&&Array.isArray(arguments[2])&&(fe=arguments[2]),f.isPtr(j)&&(j=f.functionEntry(j)||y("Function pointer not found in WASM function table."));const Qe=j instanceof Function,U=Qe?j:f.xGet(j);if(Qe&&(j=U.name||"unnamed function"),fe.length!==U.length&&Ue(j,U.length),J===null&&U.length===0)return U;J!=null&&De(J);for(const O of fe)O instanceof Be?oe.set(O,(...M)=>O.convertArg(...M)):be(O);const Y=k.xWrap;return U.length===0?(...O)=>O.length?Ue(j,U.length):Y.convertResult(J,U.call(null)):function(...O){O.length!==U.length&&Ue(j,U.length);const M=f.scopedAllocPush();try{let $=0;for(;$<O.length;++$)O[$]=Y.convertArgNoCheck(fe[$],O[$],O,$);return Y.convertResultNoCheck(J,U.apply(null,O))}finally{f.scopedAllocPop(M)}}};const ht=function(j,J,fe,Qe,U,Y){if(typeof fe=="string"){if(J===1)return Y.get(fe);if(J===2){if(Qe)Qe instanceof Function||y(U,"requires a function argument.");else return delete Y.get(fe),j;return Y.set(fe,Qe),j}}y("Invalid arguments to",U)};return f.xWrap.resultAdapter=function j(J,fe){return ht(j,arguments.length,J,fe,"resultAdapter()",he)},f.xWrap.argAdapter=function j(J,fe){return ht(j,arguments.length,J,fe,"argAdapter()",oe)},f.xWrap.FuncPtrAdapter=oe.FuncPtrAdapter,f.xCallWrapped=function(j,J,fe,...Qe){return Array.isArray(arguments[3])&&(Qe=arguments[3]),f.xWrap(j,J,fe||[]).apply(null,Qe||[])},f.xWrap.testConvertArg=k.xWrap.convertArg,f.xWrap.testConvertResult=k.xWrap.convertResult,f},globalThis.WhWasmUtilInstaller.yawl=function(f){const y=()=>fetch(f.uri,{credentials:"same-origin"}),_=this,S=function(X){if(f.wasmUtilTarget){const te=(...ze)=>{throw new Error(ze.join(" "))},Le=f.wasmUtilTarget;if(Le.module=X.module,Le.instance=X.instance,Le.instance.exports.memory||(Le.memory=f.imports&&f.imports.env&&f.imports.env.memory||te("Missing 'memory' object!")),!Le.alloc&&X.instance.exports.malloc){const ze=X.instance.exports;Le.alloc=function(Je){return ze.malloc(Je)||te("Allocation of",Je,"bytes failed.")},Le.dealloc=function(Je){ze.free(Je)}}_(Le)}return f.onload&&f.onload(X,f),X};return WebAssembly.instantiateStreaming?function(){return WebAssembly.instantiateStreaming(y(),f.imports||{}).then(S)}:function(){return y().then(te=>te.arrayBuffer()).then(te=>WebAssembly.instantiate(te,f.imports||{})).then(S)}}.bind(globalThis.WhWasmUtilInstaller),globalThis.Jaccwabyt=function f(y){const _=(...Ie)=>{throw new Error(Ie.join(" "))};!(y.heap instanceof WebAssembly.Memory)&&!(y.heap instanceof Function)&&_("config.heap must be WebAssembly.Memory instance or a function."),["alloc","dealloc"].forEach(function(Ie){y[Ie]instanceof Function||_("Config option '"+Ie+"' must be a function.")});const S=f,k=y.heap instanceof Function?y.heap:()=>new Uint8Array(y.heap.buffer),X=y.alloc,te=y.dealloc,Le=y.log||console.log.bind(console),ze=y.memberPrefix||"",Je=y.memberSuffix||"",rt=y.bigIntEnabled===void 0?!!globalThis.BigInt64Array:!!y.bigIntEnabled,Ae=globalThis.BigInt,we=globalThis.BigInt64Array,Ue=y.ptrSizeof||4,oe=y.ptrIR||"i32";S.debugFlags||(S.__makeDebugFlags=function(Ie=null){Ie&&Ie.__flags&&(Ie=Ie.__flags);const st=function ct(wt){return arguments.length===0?ct.__flags:(wt<0?(delete ct.__flags.getter,delete ct.__flags.setter,delete ct.__flags.alloc,delete ct.__flags.dealloc):(ct.__flags.getter=(1&wt)!==0,ct.__flags.setter=(2&wt)!==0,ct.__flags.alloc=(4&wt)!==0,ct.__flags.dealloc=(8&wt)!==0),ct._flags)};return Object.defineProperty(st,"__flags",{iterable:!1,writable:!1,value:Object.create(Ie)}),Ie||st(0),st},S.debugFlags=S.__makeDebugFlags());const he=function(){const Ie=new ArrayBuffer(2);return new DataView(Ie).setInt16(0,256,!0),new Int16Array(Ie)[0]===256}(),_e=Ie=>Ie[1]==="(",We=Ie=>Ie==="P",Be=Ie=>_e(Ie)?"p":Ie[0],be=function(Ie){switch(Be(Ie)){case"c":case"C":return"i8";case"i":return"i32";case"p":case"P":case"s":return oe;case"j":return"i64";case"f":return"float";case"d":return"double"}_("Unhandled signature IR:",Ie)},De=we?()=>!0:()=>_("BigInt64Array is not available."),ht=function(Ie){switch(Be(Ie)){case"p":case"P":case"s":{switch(Ue){case 4:return"getInt32";case 8:return De()&&"getBigInt64"}break}case"i":return"getInt32";case"c":return"getInt8";case"C":return"getUint8";case"j":return De()&&"getBigInt64";case"f":return"getFloat32";case"d":return"getFloat64"}_("Unhandled DataView getter for signature:",Ie)},j=function(Ie){switch(Be(Ie)){case"p":case"P":case"s":{switch(Ue){case 4:return"setInt32";case 8:return De()&&"setBigInt64"}break}case"i":return"setInt32";case"c":return"setInt8";case"C":return"setUint8";case"j":return De()&&"setBigInt64";case"f":return"setFloat32";case"d":return"setFloat64"}_("Unhandled DataView setter for signature:",Ie)},J=function(Ie){switch(Be(Ie)){case"i":case"f":case"c":case"C":case"d":return Number;case"j":return De()&&Ae;case"p":case"P":case"s":switch(Ue){case 4:return Number;case 8:return De()&&Ae}break}_("Unhandled DataView set wrapper for signature:",Ie)},fe=(Ie,st)=>Ie+"::"+st,Qe=function(Ie,st){return()=>_(fe(Ie,st),"is read-only.")},U=new WeakMap,Y="(pointer-is-external)",O=function(Ie,st,ct){if(ct||(ct=U.get(st)),ct){if(U.delete(st),Array.isArray(st.ondispose)){let wt;for(;wt=st.ondispose.shift();)try{wt instanceof Function?wt.call(st):wt instanceof Pt?wt.dispose():typeof wt=="number"&&te(wt)}catch(tr){console.warn("ondispose() for",Ie.structName,"@",ct,"threw. NOT propagating it.",tr)}}else if(st.ondispose instanceof Function)try{st.ondispose()}catch(wt){console.warn("ondispose() for",Ie.structName,"@",ct,"threw. NOT propagating it.",wt)}delete st.ondispose,Ie.debugFlags.__flags.dealloc&&Le("debug.dealloc:",st[Y]?"EXTERNAL":"",Ie.structName,"instance:",Ie.structInfo.sizeof,"bytes @"+ct),st[Y]||te(ct)}},M=Ie=>({configurable:!1,writable:!1,iterable:!1,value:Ie}),$=function(Ie,st,ct){let wt=!ct;ct?Object.defineProperty(st,Y,M(ct)):(ct=X(Ie.structInfo.sizeof),ct||_("Allocation of",Ie.structName,"structure failed."));try{Ie.debugFlags.__flags.alloc&&Le("debug.alloc:",wt?"":"EXTERNAL",Ie.structName,"instance:",Ie.structInfo.sizeof,"bytes @"+ct),wt&&k().fill(0,ct,ct+Ie.structInfo.sizeof),U.set(st,ct)}catch(tr){throw O(Ie,st,ct),tr}},qe=function(){const Ie=this.pointer;return Ie?new Uint8Array(k().slice(Ie,Ie+this.structInfo.sizeof)):null},St=M(Ie=>ze+Ie+Je),Ft=function(Ie,st,ct=!0){let wt=Ie.members[st];if(!wt&&(ze||Je)){for(const tr of Object.values(Ie.members))if(tr.key===st){wt=tr;break}!wt&&ct&&_(fe(Ie.name,st),"is not a mapped struct member.")}return wt},Bt=function Ie(st,ct,wt=!1){Ie._||(Ie._=xr=>xr.replace(/[^vipPsjrdcC]/g,"").replace(/[pPscC]/g,"i"));const tr=Ft(st.structInfo,ct,!0);return wt?Ie._(tr.signature):tr.signature},Ze={configurable:!1,enumerable:!1,get:function(){return U.get(this)},set:()=>_("Cannot assign the 'pointer' property of a struct.")},ue=M(function(){const Ie=[];for(const st of Object.keys(this.structInfo.members))Ie.push(this.memberKey(st));return Ie}),Ne=new TextDecoder("utf-8"),Ke=new TextEncoder,et=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,Ot=function(Ie,st,ct){return Ne.decode(Ie.buffer instanceof et?Ie.slice(st,ct):Ie.subarray(st,ct))},Wt=function(Ie,st,ct=!1){const wt=Ft(Ie.structInfo,st,ct);return wt&&wt.signature.length===1&&wt.signature[0]==="s"?wt:!1},Se=function(Ie){Ie.signature!=="s"&&_("Invalid member type signature for C-string value:",JSON.stringify(Ie))},Ve=function(st,ct){const wt=Ft(st.structInfo,ct,!0);Se(wt);const tr=st[wt.key];if(!tr)return null;let xr=tr;const gr=k();for(;gr[xr]!==0;++xr);return tr===xr?"":Ot(gr,tr,xr)},Xe=function(Ie,...st){Ie.ondispose?Array.isArray(Ie.ondispose)||(Ie.ondispose=[Ie.ondispose]):Ie.ondispose=[],Ie.ondispose.push(...st)},bt=function(Ie){const st=Ke.encode(Ie),ct=X(st.length+1);ct||_("Allocation error while duplicating string:",Ie);const wt=k();return wt.set(st,ct),wt[ct+st.length]=0,ct},ut=function(Ie,st,ct){const wt=Ft(Ie.structInfo,st,!0);Se(wt);const tr=bt(ct);return Ie[wt.key]=tr,Xe(Ie,tr),Ie},Pt=function(st,ct){arguments[2]!==M&&_("Do not call the StructType constructor","from client-level code."),Object.defineProperties(this,{structName:M(st),structInfo:M(ct)})};Pt.prototype=Object.create(null,{dispose:M(function(){O(this.constructor,this)}),lookupMember:M(function(Ie,st=!0){return Ft(this.structInfo,Ie,st)}),memberToJsString:M(function(Ie){return Ve(this,Ie)}),memberIsString:M(function(Ie,st=!0){return Wt(this,Ie,st)}),memberKey:St,memberKeys:ue,memberSignature:M(function(Ie,st=!1){return Bt(this,Ie,st)}),memoryDump:M(qe),pointer:Ze,setMemberCString:M(function(Ie,st){return ut(this,Ie,st)})}),Object.assign(Pt.prototype,{addOnDispose:function(...Ie){return Xe(this,...Ie),this}}),Object.defineProperties(Pt,{allocCString:M(bt),isA:M(Ie=>Ie instanceof Pt),hasExternalPointer:M(Ie=>Ie instanceof Pt&&!!Ie[Y]),memberKey:St});const Yt=Ie=>Number.isFinite(Ie)||Ie instanceof(Ae||Number),Et=function Ie(st,ct,wt){if(!Ie._){Ie._={getters:{},setters:{},sw:{}};const vn=["i","c","C","p","P","s","f","d","v()"];rt&&vn.push("j"),vn.forEach(function(Ti){Ie._.getters[Ti]=ht(Ti),Ie._.setters[Ti]=j(Ti),Ie._.sw[Ti]=J(Ti)});const Em=/^[ipPsjfdcC]$/,Nm=/^[vipPsjfdcC]\([ipPsjfdcC]*\)$/;Ie.sigCheck=function(Ti,km,af,Ju){Object.prototype.hasOwnProperty.call(Ti,af)&&_(Ti.structName,"already has a property named",af+"."),Em.test(Ju)||Nm.test(Ju)||_("Malformed signature for",fe(Ti.structName,km)+":",Ju)}}const tr=st.memberKey(ct);Ie.sigCheck(st.prototype,ct,tr,wt.signature),wt.key=tr,wt.name=ct;const xr=Be(wt.signature),gr=fe(st.prototype.structName,tr),_r=st.prototype.debugFlags.__flags,js=Object.create(null);js.configurable=!1,js.enumerable=!1,js.get=function(){_r.getter&&Le("debug.getter:",Ie._.getters[xr],"for",be(xr),gr,"@",this.pointer,"+",wt.offset,"sz",wt.sizeof);let vn=new DataView(k().buffer,this.pointer+wt.offset,wt.sizeof)[Ie._.getters[xr]](0,he);return _r.getter&&Le("debug.getter:",gr,"result =",vn),vn},wt.readOnly?js.set=Qe(st.prototype.structName,tr):js.set=function(vn){if(_r.setter&&Le("debug.setter:",Ie._.setters[xr],"for",be(xr),gr,"@",this.pointer,"+",wt.offset,"sz",wt.sizeof,vn),this.pointer||_("Cannot set struct property on disposed instance."),vn===null)vn=0;else for(;!Yt(vn);){if(We(wt.signature)&&vn instanceof Pt){vn=vn.pointer||0,_r.setter&&Le("debug.setter:",gr,"resolved to",vn);break}_("Invalid value for pointer-type",gr+".")}new DataView(k().buffer,this.pointer+wt.offset,wt.sizeof)[Ie._.setters[xr]](0,Ie._.sw[xr](vn),he)},Object.defineProperty(st.prototype,tr,js)},Qr=function Ie(st,ct){arguments.length===1?(ct=st,st=ct.name):ct.name||(ct.name=st),st||_("Struct name is required.");let wt=!1;Object.keys(ct.members).forEach(gr=>{const _r=ct.members[gr];_r.sizeof?_r.sizeof===1?_r.signature==="c"||_r.signature==="C"||_("Unexpected sizeof==1 member",fe(ct.name,gr),"with signature",_r.signature):(_r.sizeof%4!==0&&(console.warn("Invalid struct member description =",_r,"from",ct),_(st,"member",gr,"sizeof is not aligned. sizeof="+_r.sizeof)),_r.offset%4!==0&&(console.warn("Invalid struct member description =",_r,"from",ct),_(st,"member",gr,"offset is not aligned. offset="+_r.offset))):_(st,"member",gr,"is missing sizeof."),(!wt||wt.offset<_r.offset)&&(wt=_r)}),wt?ct.sizeof<wt.offset+wt.sizeof&&_("Invalid struct config:",st,"max member offset ("+wt.offset+") ","extends past end of struct (sizeof="+ct.sizeof+")."):_("No member property descriptions found.");const tr=M(S.__makeDebugFlags(Ie.debugFlags)),xr=function gr(_r){this instanceof gr?arguments.length?((_r!==(_r|0)||_r<=0)&&_("Invalid pointer value for",st,"constructor."),$(gr,this,_r)):$(gr,this):_("The",st,"constructor may only be called via 'new'.")};return Object.defineProperties(xr,{debugFlags:tr,isA:M(gr=>gr instanceof xr),memberKey:St,memberKeys:ue,methodInfoForKey:M(function(gr){}),structInfo:M(ct),structName:M(st)}),xr.prototype=new Pt(st,ct,M),Object.defineProperties(xr.prototype,{debugFlags:tr,constructor:M(xr)}),Object.keys(ct.members).forEach(gr=>Et(xr,gr,ct.members[gr])),xr};return Qr.StructType=Pt,Qr.config=y,Qr.allocCString=bt,Qr.debugFlags||(Qr.debugFlags=S.__makeDebugFlags(S.debugFlags)),Qr},globalThis.sqlite3ApiBootstrap.initializers.push(function(f){const y=(...oe)=>{throw new Error(oe.join(" "))};f.SQLite3Error.toss;const _=f.capi,S=f.wasm,k=f.util;if(globalThis.WhWasmUtilInstaller(S),delete globalThis.WhWasmUtilInstaller,S.bindingSignatures=[["sqlite3_aggregate_context","void*","sqlite3_context*","int"],["sqlite3_bind_double","int","sqlite3_stmt*","int","f64"],["sqlite3_bind_int","int","sqlite3_stmt*","int","int"],["sqlite3_bind_null",void 0,"sqlite3_stmt*","int"],["sqlite3_bind_parameter_count","int","sqlite3_stmt*"],["sqlite3_bind_parameter_index","int","sqlite3_stmt*","string"],["sqlite3_bind_parameter_name","string","sqlite3_stmt*","int"],["sqlite3_bind_pointer","int","sqlite3_stmt*","int","*","string:static","*"],["sqlite3_busy_handler","int",["sqlite3*",new S.xWrap.FuncPtrAdapter({signature:"i(pi)",contextKey:(oe,he)=>oe[0]}),"*"]],["sqlite3_busy_timeout","int","sqlite3*","int"],["sqlite3_changes","int","sqlite3*"],["sqlite3_clear_bindings","int","sqlite3_stmt*"],["sqlite3_collation_needed","int","sqlite3*","*","*"],["sqlite3_column_blob","*","sqlite3_stmt*","int"],["sqlite3_column_bytes","int","sqlite3_stmt*","int"],["sqlite3_column_count","int","sqlite3_stmt*"],["sqlite3_column_decltype","string","sqlite3_stmt*","int"],["sqlite3_column_double","f64","sqlite3_stmt*","int"],["sqlite3_column_int","int","sqlite3_stmt*","int"],["sqlite3_column_name","string","sqlite3_stmt*","int"],["sqlite3_column_text","string","sqlite3_stmt*","int"],["sqlite3_column_type","int","sqlite3_stmt*","int"],["sqlite3_column_value","sqlite3_value*","sqlite3_stmt*","int"],["sqlite3_commit_hook","void*",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_commit_hook",signature:"i(p)",contextKey:oe=>oe[0]}),"*"]],["sqlite3_compileoption_get","string","int"],["sqlite3_compileoption_used","int","string"],["sqlite3_complete","int","string:flexible"],["sqlite3_context_db_handle","sqlite3*","sqlite3_context*"],["sqlite3_data_count","int","sqlite3_stmt*"],["sqlite3_db_filename","string","sqlite3*","string"],["sqlite3_db_handle","sqlite3*","sqlite3_stmt*"],["sqlite3_db_name","string","sqlite3*","int"],["sqlite3_db_readonly","int","sqlite3*","string"],["sqlite3_db_status","int","sqlite3*","int","*","*","int"],["sqlite3_errcode","int","sqlite3*"],["sqlite3_errmsg","string","sqlite3*"],["sqlite3_error_offset","int","sqlite3*"],["sqlite3_errstr","string","int"],["sqlite3_exec","int",["sqlite3*","string:flexible",new S.xWrap.FuncPtrAdapter({signature:"i(pipp)",bindScope:"transient",callProxy:oe=>{let he;return(_e,We,Be,be)=>{try{const De=S.cArgvToJs(We,Be);return he||(he=S.cArgvToJs(We,be)),oe(De,he)|0}catch(De){return De.resultCode||_.SQLITE_ERROR}}}}),"*","**"]],["sqlite3_expanded_sql","string","sqlite3_stmt*"],["sqlite3_extended_errcode","int","sqlite3*"],["sqlite3_extended_result_codes","int","sqlite3*","int"],["sqlite3_file_control","int","sqlite3*","string","int","*"],["sqlite3_finalize","int","sqlite3_stmt*"],["sqlite3_free",void 0,"*"],["sqlite3_get_autocommit","int","sqlite3*"],["sqlite3_get_auxdata","*","sqlite3_context*","int"],["sqlite3_initialize",void 0],["sqlite3_interrupt",void 0,"sqlite3*"],["sqlite3_is_interrupted","int","sqlite3*"],["sqlite3_keyword_count","int"],["sqlite3_keyword_name","int",["int","**","*"]],["sqlite3_keyword_check","int",["string","int"]],["sqlite3_libversion","string"],["sqlite3_libversion_number","int"],["sqlite3_limit","int",["sqlite3*","int","int"]],["sqlite3_malloc","*","int"],["sqlite3_open","int","string","*"],["sqlite3_open_v2","int","string","*","int","string"],["sqlite3_realloc","*","*","int"],["sqlite3_reset","int","sqlite3_stmt*"],["sqlite3_result_blob",void 0,"sqlite3_context*","*","int","*"],["sqlite3_result_double",void 0,"sqlite3_context*","f64"],["sqlite3_result_error",void 0,"sqlite3_context*","string","int"],["sqlite3_result_error_code",void 0,"sqlite3_context*","int"],["sqlite3_result_error_nomem",void 0,"sqlite3_context*"],["sqlite3_result_error_toobig",void 0,"sqlite3_context*"],["sqlite3_result_int",void 0,"sqlite3_context*","int"],["sqlite3_result_null",void 0,"sqlite3_context*"],["sqlite3_result_pointer",void 0,"sqlite3_context*","*","string:static","*"],["sqlite3_result_subtype",void 0,"sqlite3_value*","int"],["sqlite3_result_text",void 0,"sqlite3_context*","string","int","*"],["sqlite3_result_zeroblob",void 0,"sqlite3_context*","int"],["sqlite3_rollback_hook","void*",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_rollback_hook",signature:"v(p)",contextKey:oe=>oe[0]}),"*"]],["sqlite3_set_auxdata",void 0,["sqlite3_context*","int","*",new S.xWrap.FuncPtrAdapter({name:"xDestroyAuxData",signature:"v(*)",contextKey:(oe,he)=>oe[0]})]],["sqlite3_shutdown",void 0],["sqlite3_sourceid","string"],["sqlite3_sql","string","sqlite3_stmt*"],["sqlite3_status","int","int","*","*","int"],["sqlite3_step","int","sqlite3_stmt*"],["sqlite3_stmt_busy","int","sqlite3_stmt*"],["sqlite3_stmt_readonly","int","sqlite3_stmt*"],["sqlite3_stmt_status","int","sqlite3_stmt*","int","int"],["sqlite3_strglob","int","string","string"],["sqlite3_stricmp","int","string","string"],["sqlite3_strlike","int","string","string","int"],["sqlite3_strnicmp","int","string","string","int"],["sqlite3_table_column_metadata","int","sqlite3*","string","string","string","**","**","*","*","*"],["sqlite3_total_changes","int","sqlite3*"],["sqlite3_trace_v2","int",["sqlite3*","int",new S.xWrap.FuncPtrAdapter({name:"sqlite3_trace_v2::callback",signature:"i(ippp)",contextKey:(oe,he)=>oe[0]}),"*"]],["sqlite3_txn_state","int",["sqlite3*","string"]],["sqlite3_uri_boolean","int","sqlite3_filename","string","int"],["sqlite3_uri_key","string","sqlite3_filename","int"],["sqlite3_uri_parameter","string","sqlite3_filename","string"],["sqlite3_user_data","void*","sqlite3_context*"],["sqlite3_value_blob","*","sqlite3_value*"],["sqlite3_value_bytes","int","sqlite3_value*"],["sqlite3_value_double","f64","sqlite3_value*"],["sqlite3_value_dup","sqlite3_value*","sqlite3_value*"],["sqlite3_value_free",void 0,"sqlite3_value*"],["sqlite3_value_frombind","int","sqlite3_value*"],["sqlite3_value_int","int","sqlite3_value*"],["sqlite3_value_nochange","int","sqlite3_value*"],["sqlite3_value_numeric_type","int","sqlite3_value*"],["sqlite3_value_pointer","*","sqlite3_value*","string:static"],["sqlite3_value_subtype","int","sqlite3_value*"],["sqlite3_value_text","string","sqlite3_value*"],["sqlite3_value_type","int","sqlite3_value*"],["sqlite3_vfs_find","*","string"],["sqlite3_vfs_register","int","sqlite3_vfs*","int"],["sqlite3_vfs_unregister","int","sqlite3_vfs*"]],S.exports.sqlite3_progress_handler&&S.bindingSignatures.push(["sqlite3_progress_handler",void 0,["sqlite3*","int",new S.xWrap.FuncPtrAdapter({name:"xProgressHandler",signature:"i(p)",bindScope:"context",contextKey:(oe,he)=>oe[0]}),"*"]]),S.exports.sqlite3_stmt_explain&&S.bindingSignatures.push(["sqlite3_stmt_explain","int","sqlite3_stmt*","int"],["sqlite3_stmt_isexplain","int","sqlite3_stmt*"]),S.exports.sqlite3_set_authorizer&&S.bindingSignatures.push(["sqlite3_set_authorizer","int",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_set_authorizer::xAuth",signature:"i(pissss)",contextKey:(oe,he)=>oe[0],callProxy:oe=>(he,_e,We,Be,be,De)=>{try{return We=We&&S.cstrToJs(We),Be=Be&&S.cstrToJs(Be),be=be&&S.cstrToJs(be),De=De&&S.cstrToJs(De),oe(he,_e,We,Be,be,De)||0}catch(ht){return ht.resultCode||_.SQLITE_ERROR}}}),"*"]]),S.bindingSignatures.int64=[["sqlite3_bind_int64","int",["sqlite3_stmt*","int","i64"]],["sqlite3_changes64","i64",["sqlite3*"]],["sqlite3_column_int64","i64",["sqlite3_stmt*","int"]],["sqlite3_deserialize","int","sqlite3*","string","*","i64","i64","int"],["sqlite3_last_insert_rowid","i64",["sqlite3*"]],["sqlite3_malloc64","*","i64"],["sqlite3_msize","i64","*"],["sqlite3_overload_function","int",["sqlite3*","string","int"]],["sqlite3_realloc64","*","*","i64"],["sqlite3_result_int64",void 0,"*","i64"],["sqlite3_result_zeroblob64","int","*","i64"],["sqlite3_serialize","*","sqlite3*","string","*","int"],["sqlite3_set_last_insert_rowid",void 0,["sqlite3*","i64"]],["sqlite3_status64","int","int","*","*","int"],["sqlite3_total_changes64","i64",["sqlite3*"]],["sqlite3_update_hook","*",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_update_hook",signature:"v(iippj)",contextKey:oe=>oe[0],callProxy:oe=>(he,_e,We,Be,be)=>{oe(he,_e,S.cstrToJs(We),S.cstrToJs(Be),be)}}),"*"]],["sqlite3_uri_int64","i64",["sqlite3_filename","string","i64"]],["sqlite3_value_int64","i64","sqlite3_value*"]],S.bigIntEnabled&&S.exports.sqlite3_declare_vtab&&S.bindingSignatures.int64.push(["sqlite3_create_module","int",["sqlite3*","string","sqlite3_module*","*"]],["sqlite3_create_module_v2","int",["sqlite3*","string","sqlite3_module*","*","*"]],["sqlite3_declare_vtab","int",["sqlite3*","string:flexible"]],["sqlite3_drop_modules","int",["sqlite3*","**"]],["sqlite3_vtab_collation","string","sqlite3_index_info*","int"],["sqlite3_vtab_distinct","int","sqlite3_index_info*"],["sqlite3_vtab_in","int","sqlite3_index_info*","int","int"],["sqlite3_vtab_in_first","int","sqlite3_value*","**"],["sqlite3_vtab_in_next","int","sqlite3_value*","**"],["sqlite3_vtab_nochange","int","sqlite3_context*"],["sqlite3_vtab_on_conflict","int","sqlite3*"],["sqlite3_vtab_rhs_value","int","sqlite3_index_info*","int","**"]),S.bigIntEnabled&&S.exports.sqlite3_preupdate_hook&&S.bindingSignatures.int64.push(["sqlite3_preupdate_blobwrite","int","sqlite3*"],["sqlite3_preupdate_count","int","sqlite3*"],["sqlite3_preupdate_depth","int","sqlite3*"],["sqlite3_preupdate_hook","*",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_preupdate_hook",signature:"v(ppippjj)",contextKey:oe=>oe[0],callProxy:oe=>(he,_e,We,Be,be,De,ht)=>{oe(he,_e,We,S.cstrToJs(Be),S.cstrToJs(be),De,ht)}}),"*"]],["sqlite3_preupdate_new","int",["sqlite3*","int","**"]],["sqlite3_preupdate_old","int",["sqlite3*","int","**"]]),S.bigIntEnabled&&S.exports.sqlite3changegroup_add&&S.exports.sqlite3session_create&&S.exports.sqlite3_preupdate_hook){const oe={signature:"i(ps)",callProxy:he=>(_e,We)=>{try{return he(_e,S.cstrToJs(We))|0}catch(Be){return Be.resultCode||_.SQLITE_ERROR}}};S.bindingSignatures.int64.push(["sqlite3changegroup_add","int",["sqlite3_changegroup*","int","void*"]],["sqlite3changegroup_add_strm","int",["sqlite3_changegroup*",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changegroup_delete",void 0,["sqlite3_changegroup*"]],["sqlite3changegroup_new","int",["**"]],["sqlite3changegroup_output","int",["sqlite3_changegroup*","int*","**"]],["sqlite3changegroup_output_strm","int",["sqlite3_changegroup*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply","int",["sqlite3*","int","void*",new S.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...oe}),new S.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_strm","int",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...oe}),new S.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_v2","int",["sqlite3*","int","void*",new S.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...oe}),new S.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_apply_v2_strm","int",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...oe}),new S.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_concat","int",["int","void*","int","void*","int*","**"]],["sqlite3changeset_concat_strm","int",[new S.xWrap.FuncPtrAdapter({name:"xInputA",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xInputB",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_conflict","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_finalize","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_fk_conflicts","int",["sqlite3_changeset_iter*","int*"]],["sqlite3changeset_invert","int",["int","void*","int*","**"]],["sqlite3changeset_invert_strm","int",[new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_new","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_next","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_old","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_op","int",["sqlite3_changeset_iter*","**","int*","int*","int*"]],["sqlite3changeset_pk","int",["sqlite3_changeset_iter*","**","int*"]],["sqlite3changeset_start","int",["**","int","*"]],["sqlite3changeset_start_strm","int",["**",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changeset_start_v2","int",["**","int","*","int"]],["sqlite3changeset_start_v2_strm","int",["**",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*","int"]],["sqlite3session_attach","int",["sqlite3_session*","string"]],["sqlite3session_changeset","int",["sqlite3_session*","int*","**"]],["sqlite3session_changeset_size","i64",["sqlite3_session*"]],["sqlite3session_changeset_strm","int",["sqlite3_session*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_config","int",["int","void*"]],["sqlite3session_create","int",["sqlite3*","string","**"]],["sqlite3session_diff","int",["sqlite3_session*","string","string","**"]],["sqlite3session_enable","int",["sqlite3_session*","int"]],["sqlite3session_indirect","int",["sqlite3_session*","int"]],["sqlite3session_isempty","int",["sqlite3_session*"]],["sqlite3session_memory_used","i64",["sqlite3_session*"]],["sqlite3session_object_config","int",["sqlite3_session*","int","void*"]],["sqlite3session_patchset","int",["sqlite3_session*","*","**"]],["sqlite3session_patchset_strm","int",["sqlite3_session*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_table_filter",void 0,["sqlite3_session*",new S.xWrap.FuncPtrAdapter({name:"xFilter",...oe,contextKey:(he,_e)=>he[0]}),"*"]])}S.bindingSignatures.wasmInternal=[["sqlite3__wasm_db_reset","int","sqlite3*"],["sqlite3__wasm_db_vfs","sqlite3_vfs*","sqlite3*","string"],["sqlite3__wasm_vfs_create_file","int","sqlite3_vfs*","string","*","int"],["sqlite3__wasm_posix_create_file","int","string","*","int"],["sqlite3__wasm_vfs_unlink","int","sqlite3_vfs*","string"],["sqlite3__wasm_qfmt_token","string:dealloc","string","int"]],f.StructBinder=globalThis.Jaccwabyt({heap:S.heap8u,alloc:S.alloc,dealloc:S.dealloc,bigIntEnabled:S.bigIntEnabled,memberPrefix:"$"}),delete globalThis.Jaccwabyt;{const oe=S.xWrap.argAdapter("string");S.xWrap.argAdapter("string:flexible",be=>oe(k.flexibleString(be))),S.xWrap.argAdapter("string:static",function(be){return S.isPtr(be)?be:(be=""+be,this[be]||(this[be]=S.allocCString(be)))}.bind(Object.create(null)));const he=S.xWrap.argAdapter("*"),_e=function(){};S.xWrap.argAdapter("sqlite3_filename",he)("sqlite3_context*",he)("sqlite3_value*",he)("void*",he)("sqlite3_changegroup*",he)("sqlite3_changeset_iter*",he)("sqlite3_session*",he)("sqlite3_stmt*",be=>he(be instanceof(f?.oo1?.Stmt||_e)?be.pointer:be))("sqlite3*",be=>he(be instanceof(f?.oo1?.DB||_e)?be.pointer:be))("sqlite3_vfs*",be=>typeof be=="string"?_.sqlite3_vfs_find(be)||f.SQLite3Error.toss(_.SQLITE_NOTFOUND,"Unknown sqlite3_vfs name:",be):he(be instanceof(_.sqlite3_vfs||_e)?be.pointer:be)),S.exports.sqlite3_declare_vtab&&S.xWrap.argAdapter("sqlite3_index_info*",be=>he(be instanceof(_.sqlite3_index_info||_e)?be.pointer:be))("sqlite3_module*",be=>he(be instanceof(_.sqlite3_module||_e)?be.pointer:be));const We=S.xWrap.resultAdapter("*");S.xWrap.resultAdapter("sqlite3*",We)("sqlite3_context*",We)("sqlite3_stmt*",We)("sqlite3_value*",We)("sqlite3_vfs*",We)("void*",We),S.exports.sqlite3_step.length===0&&(S.xWrap.doArgcCheck=!1,f.config.warn("Disabling sqlite3.wasm.xWrap.doArgcCheck due to environmental quirks."));for(const be of S.bindingSignatures)_[be[0]]=S.xWrap.apply(null,be);for(const be of S.bindingSignatures.wasmInternal)k[be[0]]=S.xWrap.apply(null,be);const Be=function(be){return()=>y(be+"() is unavailable due to lack","of BigInt support in this build.")};for(const be of S.bindingSignatures.int64)_[be[0]]=S.bigIntEnabled?S.xWrap.apply(null,be):Be(be[0]);if(delete S.bindingSignatures,S.exports.sqlite3__wasm_db_error){const be=S.xWrap("sqlite3__wasm_db_error","int","sqlite3*","int","string");k.sqlite3__wasm_db_error=function(De,ht,j){return ht instanceof f.WasmAllocError?(ht=_.SQLITE_NOMEM,j=0):ht instanceof Error&&(j=j||""+ht,ht=ht.resultCode||_.SQLITE_ERROR),De?be(De,ht,j):ht}}else k.sqlite3__wasm_db_error=function(be,De,ht){return console.warn("sqlite3__wasm_db_error() is not exported.",arguments),De}}{const oe=S.xCall("sqlite3__wasm_enum_json");oe||y("Maintenance required: increase sqlite3__wasm_enum_json()'s","static buffer size!"),S.ctype=JSON.parse(S.cstrToJs(oe));const he=["access","authorizer","blobFinalizers","changeset","config","dataTypes","dbConfig","dbStatus","encodings","fcntl","flock","ioCap","limits","openFlags","prepareFlags","resultCodes","sqlite3Status","stmtStatus","syncFlags","trace","txnState","udfFlags","version"];S.bigIntEnabled&&he.push("serialize","session","vtab");for(const Be of he)for(const be of Object.entries(S.ctype[Be]))_[be[0]]=be[1];S.functionEntry(_.SQLITE_WASM_DEALLOC)||y("Internal error: cannot resolve exported function","entry SQLITE_WASM_DEALLOC (=="+_.SQLITE_WASM_DEALLOC+").");const _e=Object.create(null);for(const Be of["resultCodes"])for(const be of Object.entries(S.ctype[Be]))_e[be[1]]=be[0];_.sqlite3_js_rc_str=Be=>_e[Be];const We=Object.assign(Object.create(null),{WasmTestStruct:!0,sqlite3_kvvfs_methods:!k.isUIThread(),sqlite3_index_info:!S.bigIntEnabled,sqlite3_index_constraint:!S.bigIntEnabled,sqlite3_index_orderby:!S.bigIntEnabled,sqlite3_index_constraint_usage:!S.bigIntEnabled});for(const Be of S.ctype.structs)We[Be.name]||(_[Be.name]=f.StructBinder(Be));if(_.sqlite3_index_info){for(const Be of["sqlite3_index_constraint","sqlite3_index_orderby","sqlite3_index_constraint_usage"])_.sqlite3_index_info[Be]=_[Be],delete _[Be];_.sqlite3_vtab_config=S.xWrap("sqlite3__wasm_vtab_config","int",["sqlite3*","int","int"])}}const X=(oe,he,_e)=>k.sqlite3__wasm_db_error(oe,_.SQLITE_MISUSE,he+"() requires "+_e+" argument"+(_e===1?"":"s")+"."),te=oe=>k.sqlite3__wasm_db_error(oe,_.SQLITE_FORMAT,"SQLITE_UTF8 is the only supported encoding."),Le=oe=>S.xWrap.argAdapter("sqlite3*")(oe),ze=oe=>S.isPtr(oe)?S.cstrToJs(oe):oe,Je=function(oe,he){oe=Le(oe);let _e=this.dbMap.get(oe);if(he)!_e&&he>0&&this.dbMap.set(oe,_e=Object.create(null));else return this.dbMap.delete(oe),_e;return _e}.bind(Object.assign(Object.create(null),{dbMap:new Map}));Je.addCollation=function(oe,he){const _e=Je(oe,1);_e.collation||(_e.collation=new Set),_e.collation.add(ze(he).toLowerCase())},Je._addUDF=function(oe,he,_e,We){he=ze(he).toLowerCase();let Be=We.get(he);Be||We.set(he,Be=new Set),Be.add(_e<0?-1:_e)},Je.addFunction=function(oe,he,_e){const We=Je(oe,1);We.udf||(We.udf=new Map),this._addUDF(oe,he,_e,We.udf)},S.exports.sqlite3_create_window_function&&(Je.addWindowFunc=function(oe,he,_e){const We=Je(oe,1);We.wudf||(We.wudf=new Map),this._addUDF(oe,he,_e,We.wudf)}),Je.cleanup=function(oe){oe=Le(oe);const he=[oe];for(const Be of["sqlite3_busy_handler","sqlite3_commit_hook","sqlite3_preupdate_hook","sqlite3_progress_handler","sqlite3_rollback_hook","sqlite3_set_authorizer","sqlite3_trace_v2","sqlite3_update_hook"]){const be=S.exports[Be];if(be){he.length=be.length;try{_[Be](...he)}catch(De){f.config.warn("close-time call of",Be+"(",he,") threw:",De)}}}const _e=Je(oe,0);if(!_e)return;if(_e.collation){for(const Be of _e.collation)try{_.sqlite3_create_collation_v2(oe,Be,_.SQLITE_UTF8,0,0,0)}catch{}delete _e.collation}let We;for(We=0;We<2;++We){const Be=We?_e.wudf:_e.udf;if(!Be)continue;const be=We?_.sqlite3_create_window_function:_.sqlite3_create_function_v2;for(const De of Be){const ht=De[0],j=De[1],J=[oe,ht,0,_.SQLITE_UTF8,0,0,0,0,0];We&&J.push(0);for(const fe of j)try{J[2]=fe,be.apply(null,J)}catch{}j.clear()}Be.clear()}delete _e.udf,delete _e.wudf};{const oe=S.xWrap("sqlite3_close_v2","int","sqlite3*");_.sqlite3_close_v2=function(he){if(arguments.length!==1)return X(he,"sqlite3_close_v2",1);if(he)try{Je.cleanup(he)}catch{}return oe(he)}}if(_.sqlite3session_create){const oe=S.xWrap("sqlite3session_delete",void 0,["sqlite3_session*"]);_.sqlite3session_delete=function(he){if(arguments.length!==1)return X(pDb,"sqlite3session_delete",1);he&&_.sqlite3session_table_filter(he,0,0),oe(he)}}{const oe=(_e,We)=>"argv["+We+"]:"+_e[0]+":"+S.cstrToJs(_e[1]).toLowerCase(),he=S.xWrap("sqlite3_create_collation_v2","int",["sqlite3*","string","int","*",new S.xWrap.FuncPtrAdapter({name:"xCompare",signature:"i(pipip)",contextKey:oe}),new S.xWrap.FuncPtrAdapter({name:"xDestroy",signature:"v(p)",contextKey:oe})]);_.sqlite3_create_collation_v2=function(_e,We,Be,be,De,ht){if(arguments.length!==6)return X(_e,"sqlite3_create_collation_v2",6);if(!(Be&15))Be|=_.SQLITE_UTF8;else if(_.SQLITE_UTF8!==(Be&15))return te(_e);try{const j=he(_e,We,Be,be,De,ht);return j===0&&De instanceof Function&&Je.addCollation(_e,We),j}catch(j){return k.sqlite3__wasm_db_error(_e,j)}},_.sqlite3_create_collation=(_e,We,Be,be,De)=>arguments.length===5?_.sqlite3_create_collation_v2(_e,We,Be,be,De,0):X(_e,"sqlite3_create_collation",5)}{const oe=function(Be,be){return Be[0]+":"+(Be[2]<0?-1:Be[2])+":"+be+":"+S.cstrToJs(Be[1]).toLowerCase()},he=Object.assign(Object.create(null),{xInverseAndStep:{signature:"v(pip)",contextKey:oe,callProxy:Be=>(be,De,ht)=>{try{Be(be,..._.sqlite3_values_to_js(De,ht))}catch(j){_.sqlite3_result_error_js(be,j)}}},xFinalAndValue:{signature:"v(p)",contextKey:oe,callProxy:Be=>be=>{try{_.sqlite3_result_js(be,Be(be))}catch(De){_.sqlite3_result_error_js(be,De)}}},xFunc:{signature:"v(pip)",contextKey:oe,callProxy:Be=>(be,De,ht)=>{try{_.sqlite3_result_js(be,Be(be,..._.sqlite3_values_to_js(De,ht)))}catch(j){_.sqlite3_result_error_js(be,j)}}},xDestroy:{signature:"v(p)",contextKey:oe,callProxy:Be=>be=>{try{Be(be)}catch(De){console.error("UDF xDestroy method threw:",De)}}}}),_e=S.xWrap("sqlite3_create_function_v2","int",["sqlite3*","string","int","int","*",new S.xWrap.FuncPtrAdapter({name:"xFunc",...he.xFunc}),new S.xWrap.FuncPtrAdapter({name:"xStep",...he.xInverseAndStep}),new S.xWrap.FuncPtrAdapter({name:"xFinal",...he.xFinalAndValue}),new S.xWrap.FuncPtrAdapter({name:"xDestroy",...he.xDestroy})]),We=S.exports.sqlite3_create_window_function?S.xWrap("sqlite3_create_window_function","int",["sqlite3*","string","int","int","*",new S.xWrap.FuncPtrAdapter({name:"xStep",...he.xInverseAndStep}),new S.xWrap.FuncPtrAdapter({name:"xFinal",...he.xFinalAndValue}),new S.xWrap.FuncPtrAdapter({name:"xValue",...he.xFinalAndValue}),new S.xWrap.FuncPtrAdapter({name:"xInverse",...he.xInverseAndStep}),new S.xWrap.FuncPtrAdapter({name:"xDestroy",...he.xDestroy})]):void 0;_.sqlite3_create_function_v2=function Be(be,De,ht,j,J,fe,Qe,U,Y){if(Be.length!==arguments.length)return X(be,"sqlite3_create_function_v2",Be.length);if(!(j&15))j|=_.SQLITE_UTF8;else if(_.SQLITE_UTF8!==(j&15))return te(be);try{const O=_e(be,De,ht,j,J,fe,Qe,U,Y);return O===0&&(fe instanceof Function||Qe instanceof Function||U instanceof Function||Y instanceof Function)&&Je.addFunction(be,De,ht),O}catch(O){return console.error("sqlite3_create_function_v2() setup threw:",O),k.sqlite3__wasm_db_error(be,O,"Creation of UDF threw: "+O)}},_.sqlite3_create_function=function Be(be,De,ht,j,J,fe,Qe,U){return Be.length===arguments.length?_.sqlite3_create_function_v2(be,De,ht,j,J,fe,Qe,U,0):X(be,"sqlite3_create_function",Be.length)},We?_.sqlite3_create_window_function=function Be(be,De,ht,j,J,fe,Qe,U,Y,O){if(Be.length!==arguments.length)return X(be,"sqlite3_create_window_function",Be.length);if(!(j&15))j|=_.SQLITE_UTF8;else if(_.SQLITE_UTF8!==(j&15))return te(be);try{const M=We(be,De,ht,j,J,fe,Qe,U,Y,O);return M===0&&(fe instanceof Function||Qe instanceof Function||U instanceof Function||Y instanceof Function||O instanceof Function)&&Je.addWindowFunc(be,De,ht),M}catch(M){return console.error("sqlite3_create_window_function() setup threw:",M),k.sqlite3__wasm_db_error(be,M,"Creation of UDF threw: "+M)}}:delete _.sqlite3_create_window_function,_.sqlite3_create_function_v2.udfSetResult=_.sqlite3_create_function.udfSetResult=_.sqlite3_result_js,_.sqlite3_create_window_function&&(_.sqlite3_create_window_function.udfSetResult=_.sqlite3_result_js),_.sqlite3_create_function_v2.udfConvertArgs=_.sqlite3_create_function.udfConvertArgs=_.sqlite3_values_to_js,_.sqlite3_create_window_function&&(_.sqlite3_create_window_function.udfConvertArgs=_.sqlite3_values_to_js),_.sqlite3_create_function_v2.udfSetError=_.sqlite3_create_function.udfSetError=_.sqlite3_result_error_js,_.sqlite3_create_window_function&&(_.sqlite3_create_window_function.udfSetError=_.sqlite3_result_error_js)}{const oe=(_e,We)=>(typeof _e=="string"?We=-1:k.isSQLableTypedArray(_e)?(We=_e.byteLength,_e=k.typedArrayToString(_e instanceof ArrayBuffer?new Uint8Array(_e):_e)):Array.isArray(_e)&&(_e=_e.join(""),We=-1),[_e,We]),he={basic:S.xWrap("sqlite3_prepare_v3","int",["sqlite3*","string","int","int","**","**"]),full:S.xWrap("sqlite3_prepare_v3","int",["sqlite3*","*","int","int","**","**"])};_.sqlite3_prepare_v3=function _e(We,Be,be,De,ht,j){if(_e.length!==arguments.length)return X(We,"sqlite3_prepare_v3",_e.length);const[J,fe]=oe(Be,be);switch(typeof J){case"string":return he.basic(We,J,fe,De,ht,null);case"number":return he.full(We,J,fe,De,ht,j);default:return k.sqlite3__wasm_db_error(We,_.SQLITE_MISUSE,"Invalid SQL argument type for sqlite3_prepare_v2/v3().")}},_.sqlite3_prepare_v2=function _e(We,Be,be,De,ht){return _e.length===arguments.length?_.sqlite3_prepare_v3(We,Be,be,0,De,ht):X(We,"sqlite3_prepare_v2",_e.length)}}{const oe=S.xWrap("sqlite3_bind_text","int",["sqlite3_stmt*","int","string","int","*"]),he=S.xWrap("sqlite3_bind_blob","int",["sqlite3_stmt*","int","*","int","*"]);_.sqlite3_bind_text=function _e(We,Be,be,De,ht){if(_e.length!==arguments.length)return X(_.sqlite3_db_handle(We),"sqlite3_bind_text",_e.length);if(S.isPtr(be)||be===null)return oe(We,Be,be,De,ht);be instanceof ArrayBuffer?be=new Uint8Array(be):Array.isArray(pMem)&&(be=pMem.join(""));let j,J;try{if(k.isSQLableTypedArray(be))j=S.allocFromTypedArray(be),J=be.byteLength;else if(typeof be=="string")[j,J]=S.allocCString(be);else return k.sqlite3__wasm_db_error(_.sqlite3_db_handle(We),_.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_text().");return oe(We,Be,j,J,_.SQLITE_WASM_DEALLOC)}catch(fe){return S.dealloc(j),k.sqlite3__wasm_db_error(_.sqlite3_db_handle(We),fe)}},_.sqlite3_bind_blob=function _e(We,Be,be,De,ht){if(_e.length!==arguments.length)return X(_.sqlite3_db_handle(We),"sqlite3_bind_blob",_e.length);if(S.isPtr(be)||be===null)return he(We,Be,be,De,ht);be instanceof ArrayBuffer?be=new Uint8Array(be):Array.isArray(be)&&(be=be.join(""));let j,J;try{if(k.isBindableTypedArray(be))j=S.allocFromTypedArray(be),J=De>=0?De:be.byteLength;else if(typeof be=="string")[j,J]=S.allocCString(be);else return k.sqlite3__wasm_db_error(_.sqlite3_db_handle(We),_.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_blob().");return he(We,Be,j,J,_.SQLITE_WASM_DEALLOC)}catch(fe){return S.dealloc(j),k.sqlite3__wasm_db_error(_.sqlite3_db_handle(We),fe)}}}_.sqlite3_config=function(oe,...he){if(arguments.length<2)return _.SQLITE_MISUSE;switch(oe){case _.SQLITE_CONFIG_COVERING_INDEX_SCAN:case _.SQLITE_CONFIG_MEMSTATUS:case _.SQLITE_CONFIG_SMALL_MALLOC:case _.SQLITE_CONFIG_SORTERREF_SIZE:case _.SQLITE_CONFIG_STMTJRNL_SPILL:case _.SQLITE_CONFIG_URI:return S.exports.sqlite3__wasm_config_i(oe,he[0]);case _.SQLITE_CONFIG_LOOKASIDE:return S.exports.sqlite3__wasm_config_ii(oe,he[0],he[1]);case _.SQLITE_CONFIG_MEMDB_MAXSIZE:return S.exports.sqlite3__wasm_config_j(oe,he[0]);case _.SQLITE_CONFIG_GETMALLOC:case _.SQLITE_CONFIG_GETMUTEX:case _.SQLITE_CONFIG_GETPCACHE2:case _.SQLITE_CONFIG_GETPCACHE:case _.SQLITE_CONFIG_HEAP:case _.SQLITE_CONFIG_LOG:case _.SQLITE_CONFIG_MALLOC:case _.SQLITE_CONFIG_MMAP_SIZE:case _.SQLITE_CONFIG_MULTITHREAD:case _.SQLITE_CONFIG_MUTEX:case _.SQLITE_CONFIG_PAGECACHE:case _.SQLITE_CONFIG_PCACHE2:case _.SQLITE_CONFIG_PCACHE:case _.SQLITE_CONFIG_PCACHE_HDRSZ:case _.SQLITE_CONFIG_PMASZ:case _.SQLITE_CONFIG_SERIALIZED:case _.SQLITE_CONFIG_SINGLETHREAD:case _.SQLITE_CONFIG_SQLLOG:case _.SQLITE_CONFIG_WIN32_HEAPSIZE:default:return _.SQLITE_NOTFOUND}};{const oe=new Set;_.sqlite3_auto_extension=function(he){if(he instanceof Function)he=S.installFunction("i(ppp)",he);else if(arguments.length!==1||!S.isPtr(he))return _.SQLITE_MISUSE;const _e=S.exports.sqlite3_auto_extension(he);return he!==arguments[0]&&(_e===0?oe.add(he):S.uninstallFunction(he)),_e},_.sqlite3_cancel_auto_extension=function(he){return!he||arguments.length!==1||!S.isPtr(he)?0:S.exports.sqlite3_cancel_auto_extension(he)},_.sqlite3_reset_auto_extension=function(){S.exports.sqlite3_reset_auto_extension();for(const he of oe)S.uninstallFunction(he);oe.clear()}}const rt=_.sqlite3_vfs_find("kvvfs");if(rt)if(k.isUIThread()){const oe=new _.sqlite3_kvvfs_methods(S.exports.sqlite3__wasm_kvvfs_methods());delete _.sqlite3_kvvfs_methods;const he=S.exports.sqlite3__wasm_kvvfsMakeKeyOnPstack,_e=S.pstack,We=be=>S.peek(be)===115?sessionStorage:localStorage,Be={xRead:(be,De,ht,j)=>{const J=_e.pointer,fe=S.scopedAllocPush();try{const Qe=he(be,De);if(!Qe)return-3;const U=S.cstrToJs(Qe),Y=We(be).getItem(U);if(!Y)return-1;const O=Y.length;if(j<=0)return O;if(j===1)return S.poke(ht,0),O;const M=S.scopedAllocCString(Y);return j>O+1&&(j=O+1),S.heap8u().copyWithin(ht,M,M+j-1),S.poke(ht+j-1,0),j-1}catch(Qe){return console.error("kvstorageRead()",Qe),-2}finally{_e.restore(J),S.scopedAllocPop(fe)}},xWrite:(be,De,ht)=>{const j=_e.pointer;try{const J=he(be,De);if(!J)return 1;const fe=S.cstrToJs(J);return We(be).setItem(fe,S.cstrToJs(ht)),0}catch(J){return console.error("kvstorageWrite()",J),_.SQLITE_IOERR}finally{_e.restore(j)}},xDelete:(be,De)=>{const ht=_e.pointer;try{const j=he(be,De);return j?(We(be).removeItem(S.cstrToJs(j)),0):1}catch(j){return console.error("kvstorageDelete()",j),_.SQLITE_IOERR}finally{_e.restore(ht)}}};for(const be of Object.keys(Be))oe[oe.memberKey(be)]=S.installFunction(oe.memberSignature(be),Be[be])}else _.sqlite3_vfs_unregister(rt);S.xWrap.FuncPtrAdapter.warnOnUse=!0;const Ae=f.StructBinder,we=function oe(he,_e,We,Be=oe.installMethodArgcCheck){if(he instanceof Ae.StructType?!(We instanceof Function)&&!S.isPtr(We)&&y("Usage errror: expecting a Function or WASM pointer to one."):y("Usage error: target object is-not-a StructType."),arguments.length===1)return(j,J)=>oe(he,j,J,Be);oe.argcProxy||(oe.argcProxy=function(j,J,fe,Qe){return function(...U){return fe.length!==arguments.length&&y("Argument mismatch for",j.structInfo.name+"::"+J+": Native signature is:",Qe),fe.apply(this,U)}},oe.removeFuncList=function(){this.ondispose.__removeFuncList&&(this.ondispose.__removeFuncList.forEach((j,J)=>{if(typeof j=="number")try{S.uninstallFunction(j)}catch{}}),delete this.ondispose.__removeFuncList)});const be=he.memberSignature(_e);be.length<2&&y("Member",_e,"does not have a function pointer signature:",be);const De=he.memberKey(_e),ht=Be&&!S.isPtr(We)?oe.argcProxy(he,De,We,be):We;if(S.isPtr(ht))ht&&!S.functionEntry(ht)&&y("Pointer",ht,"is not a WASM function table entry."),he[De]=ht;else{const j=S.installFunction(ht,he.memberSignature(_e,!0));he[De]=j,(!he.ondispose||!he.ondispose.__removeFuncList)&&(he.addOnDispose("ondispose.__removeFuncList handler",oe.removeFuncList),he.ondispose.__removeFuncList=[]),he.ondispose.__removeFuncList.push(De,j)}return(j,J)=>oe(he,j,J,Be)};we.installMethodArgcCheck=!1;const Ue=function(oe,he,_e=we.installMethodArgcCheck){const We=new Map;for(const Be of Object.keys(he)){const be=he[Be],De=We.get(be);if(De){const ht=oe.memberKey(Be);oe[ht]=oe[oe.memberKey(De)]}else we(oe,Be,be,_e),We.set(be,Be)}return oe};Ae.StructType.prototype.installMethod=function(he,_e,We=we.installMethodArgcCheck){return arguments.length<3&&he&&typeof he=="object"?Ue(this,...arguments):we(this,...arguments)},Ae.StructType.prototype.installMethods=function(oe,he=we.installMethodArgcCheck){return Ue(this,oe,he)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(f){f.version={libVersion:"3.47.1",libVersionNumber:3047001,sourceId:"2024-11-25 12:07:48 b95d11e958643b969c47a8e5857f3793b9e69700b8f1469371386369a26e577e",downloadVersion:3470100}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(f){const y=(...U)=>{throw new f.SQLite3Error(...U)},_=f.capi,S=f.wasm,k=f.util,X=new WeakMap,te=new WeakMap,Le=(U,Y,O)=>{const M=Object.getOwnPropertyDescriptor(U,Y);return M?M.value:O},ze=function(U,Y){return Y&&(U instanceof we&&(U=U.pointer),y(Y,"sqlite3 result code",Y+":",U?_.sqlite3_errmsg(U):_.sqlite3_errstr(Y))),arguments[0]},Je=S.installFunction("i(ippp)",function(U,Y,O,M){_.SQLITE_TRACE_STMT===U&&console.log("SQL TRACE #"+ ++this.counter+" via sqlite3@"+Y+":",S.cstrToJs(M))}.bind({counter:0})),rt=Object.create(null),Ae=function U(...Y){if(!U._name2vfs){U._name2vfs=Object.create(null);const ue=typeof importScripts=="function"?Ne=>y("The VFS for",Ne,"is only available in the main window thread."):!1;U._name2vfs[":localStorage:"]={vfs:"kvvfs",filename:ue||(()=>"local")},U._name2vfs[":sessionStorage:"]={vfs:"kvvfs",filename:ue||(()=>"session")}}const O=U.normalizeArgs(...Y);let M=O.filename,$=O.vfs,qe=O.flags;(typeof M!="string"&&typeof M!="number"||typeof qe!="string"||$&&typeof $!="string"&&typeof $!="number")&&(f.config.error("Invalid DB ctor args",O,arguments),y("Invalid arguments for DB constructor."));let He=typeof M=="number"?S.cstrToJs(M):M;const St=U._name2vfs[He];St&&($=St.vfs,M=He=St.filename(He));let Ft,Bt=0;qe.indexOf("c")>=0&&(Bt|=_.SQLITE_OPEN_CREATE|_.SQLITE_OPEN_READWRITE),qe.indexOf("w")>=0&&(Bt|=_.SQLITE_OPEN_READWRITE),Bt===0&&(Bt|=_.SQLITE_OPEN_READONLY),Bt|=_.SQLITE_OPEN_EXRESCODE;const Ze=S.pstack.pointer;try{const ue=S.pstack.allocPtr();let Ne=_.sqlite3_open_v2(M,ue,Bt,$||0);Ft=S.peekPtr(ue),ze(Ft,Ne),_.sqlite3_extended_result_codes(Ft,1),qe.indexOf("t")>=0&&_.sqlite3_trace_v2(Ft,_.SQLITE_TRACE_STMT,Je,Ft)}catch(ue){throw Ft&&_.sqlite3_close_v2(Ft),ue}finally{S.pstack.restore(Ze)}this.filename=He,X.set(this,Ft),te.set(this,Object.create(null));try{const ue=_.sqlite3_js_db_vfs(Ft)||y("Internal error: cannot get VFS for new db handle."),Ne=rt[ue];Ne&&(Ne instanceof Function?Ne(this,f):ze(Ft,_.sqlite3_exec(Ft,Ne,0,0,0)))}catch(ue){throw this.close(),ue}};Ae.setVfsPostOpenCallback=function(U,Y){Y instanceof Function||y("dbCtorHelper.setVfsPostOpenCallback() should not be used with a non-function argument.",arguments),rt[U]=Y},Ae.normalizeArgs=function(U=":memory:",Y="c",O=null){const M={};return arguments.length===1&&arguments[0]&&typeof arguments[0]=="object"?(Object.assign(M,arguments[0]),M.flags===void 0&&(M.flags="c"),M.vfs===void 0&&(M.vfs=null),M.filename===void 0&&(M.filename=":memory:")):(M.filename=U,M.flags=Y,M.vfs=O),M};const we=function(...U){Ae.apply(this,U)};we.dbCtorHelper=Ae;const Ue={null:1,number:2,string:3,boolean:4,blob:5};Ue.undefined==Ue.null,S.bigIntEnabled&&(Ue.bigint=Ue.number);const oe=function(){Ue!==arguments[2]&&y(_.SQLITE_MISUSE,"Do not call the Stmt constructor directly. Use DB.prepare()."),this.db=arguments[0],X.set(this,arguments[1]),this.parameterCount=_.sqlite3_bind_parameter_count(this.pointer)},he=function(U){return U.pointer||y("DB has been closed."),U},_e=function(U,Y){return(Y!==(Y|0)||Y<0||Y>=U.columnCount)&&y("Column index",Y,"is out of range."),U},We=function(U,Y){const O=Object.create(null);switch(O.opt=Object.create(null),Y.length){case 1:typeof Y[0]=="string"||k.isSQLableTypedArray(Y[0])||Array.isArray(Y[0])?O.sql=Y[0]:Y[0]&&typeof Y[0]=="object"&&(O.opt=Y[0],O.sql=O.opt.sql);break;case 2:O.sql=Y[0],O.opt=Y[1];break;default:y("Invalid argument count for exec().")}O.sql=k.flexibleString(O.sql),typeof O.sql!="string"&&y("Missing SQL argument or unsupported SQL value type.");const M=O.opt;switch(M.returnValue){case"resultRows":M.resultRows||(M.resultRows=[]),O.returnVal=()=>M.resultRows;break;case"saveSql":M.saveSql||(M.saveSql=[]),O.returnVal=()=>M.saveSql;break;case void 0:case"this":O.returnVal=()=>U;break;default:y("Invalid returnValue value:",M.returnValue)}if(!M.callback&&!M.returnValue&&M.rowMode!==void 0&&(M.resultRows||(M.resultRows=[]),O.returnVal=()=>M.resultRows),M.callback||M.resultRows)switch(M.rowMode===void 0?"array":M.rowMode){case"object":O.cbArg=($,qe)=>{qe.columnNames||(qe.columnNames=$.getColumnNames([]));const He=$.get([]),St=Object.create(null);for(const Ft in qe.columnNames)St[qe.columnNames[Ft]]=He[Ft];return St};break;case"array":O.cbArg=$=>$.get([]);break;case"stmt":Array.isArray(M.resultRows)&&y("exec(): invalid rowMode for a resultRows array: must","be one of 'array', 'object',","a result column number, or column name reference."),O.cbArg=$=>$;break;default:if(k.isInt32(M.rowMode)){O.cbArg=$=>$.get(M.rowMode);break}else if(typeof M.rowMode=="string"&&M.rowMode.length>1&&M.rowMode[0]==="$"){const $=M.rowMode.substr(1);O.cbArg=qe=>{const He=qe.get(Object.create(null))[$];return He===void 0?y(_.SQLITE_NOTFOUND,"exec(): unknown result column:",$):He};break}y("Invalid rowMode:",M.rowMode)}return O},Be=(U,Y,O,...M)=>{const $=U.prepare(Y);try{const qe=$.bind(O).step()?$.get(...M):void 0;return $.reset(),qe}finally{$.finalize()}},be=(U,Y,O,M)=>U.exec({sql:Y,bind:O,rowMode:M,returnValue:"resultRows"});we.checkRc=(U,Y)=>ze(U,Y),we.prototype={isOpen:function(){return!!this.pointer},affirmOpen:function(){return he(this)},close:function(){if(this.pointer){if(this.onclose&&this.onclose.before instanceof Function)try{this.onclose.before(this)}catch{}const U=this.pointer;if(Object.keys(te.get(this)).forEach((Y,O)=>{if(O&&O.pointer)try{O.finalize()}catch{}}),X.delete(this),te.delete(this),_.sqlite3_close_v2(U),this.onclose&&this.onclose.after instanceof Function)try{this.onclose.after(this)}catch{}delete this.filename}},changes:function(U=!1,Y=!1){const O=he(this).pointer;return U?Y?_.sqlite3_total_changes64(O):_.sqlite3_total_changes(O):Y?_.sqlite3_changes64(O):_.sqlite3_changes(O)},dbFilename:function(U="main"){return _.sqlite3_db_filename(he(this).pointer,U)},dbName:function(U=0){return _.sqlite3_db_name(he(this).pointer,U)},dbVfsName:function(U=0){let Y;const O=_.sqlite3_js_db_vfs(he(this).pointer,U);if(O){const M=new _.sqlite3_vfs(O);try{Y=S.cstrToJs(M.$zName)}finally{M.dispose()}}return Y},prepare:function(U){he(this);const Y=S.pstack.pointer;let O,M;try{O=S.pstack.alloc(8),we.checkRc(this,_.sqlite3_prepare_v2(this.pointer,U,-1,O,null)),M=S.peekPtr(O)}finally{S.pstack.restore(Y)}M||y("Cannot prepare empty SQL.");const $=new oe(this,M,Ue);return te.get(this)[M]=$,$},exec:function(){he(this);const U=We(this,arguments);if(!U.sql)return y("exec() requires an SQL string.");const Y=U.opt,O=Y.callback,M=Array.isArray(Y.resultRows)?Y.resultRows:void 0;let $,qe=Y.bind,He=!!(U.cbArg||Y.columnNames||M);const St=S.scopedAllocPush(),Ft=Array.isArray(Y.saveSql)?Y.saveSql:void 0;try{const Bt=k.isSQLableTypedArray(U.sql);let Ze=Bt?U.sql.byteLength:S.jstrlen(U.sql);const ue=S.scopedAlloc(2*S.ptrSizeof+(Ze+1)),Ne=ue+S.ptrSizeof;let Ke=Ne+S.ptrSizeof;const et=Ke+Ze;for(Bt?S.heap8().set(U.sql,Ke):S.jstrcpy(U.sql,S.heap8(),Ke,Ze,!1),S.poke(Ke+Ze,0);Ke&&S.peek(Ke,"i8");){S.pokePtr([ue,Ne],0),we.checkRc(this,_.sqlite3_prepare_v3(this.pointer,Ke,Ze,0,ue,Ne));const Ot=S.peekPtr(ue);if(Ke=S.peekPtr(Ne),Ze=et-Ke,!!Ot){if(Ft&&Ft.push(_.sqlite3_sql(Ot).trim()),$=new oe(this,Ot,Ue),qe&&$.parameterCount&&($.bind(qe),qe=null),He&&$.columnCount){let Wt=Array.isArray(Y.columnNames)?0:1;if(He=!1,U.cbArg||M){const Se=Object.create(null);for(;$.step();$._lockedByExec=!1){Wt++===0&&$.getColumnNames(Se.columnNames=Y.columnNames||[]),$._lockedByExec=!0;const Ve=U.cbArg($,Se);if(M&&M.push(Ve),O&&O.call(Y,Ve,$)===!1)break}$._lockedByExec=!1}Wt===0&&$.getColumnNames(Y.columnNames)}else $.step();$.reset().finalize(),$=null}}}finally{S.scopedAllocPop(St),$&&(delete $._lockedByExec,$.finalize())}return U.returnVal()},createFunction:function(Y,O,M){const $=Se=>Se instanceof Function;switch(arguments.length){case 1:M=Y,Y=M.name,O=M.xFunc||0;break;case 2:$(O)||(M=O,O=M.xFunc||0);break}M||(M={}),typeof Y!="string"&&y("Invalid arguments: missing function name.");let qe=M.xStep||0,He=M.xFinal||0;const St=M.xValue||0,Ft=M.xInverse||0;let Bt;$(O)?(Bt=!1,($(qe)||$(He))&&y("Ambiguous arguments: scalar or aggregate?"),qe=He=null):$(qe)?($(He)||y("Missing xFinal() callback for aggregate or window UDF."),O=null):$(He)?y("Missing xStep() callback for aggregate or window UDF."):y("Missing function-type properties."),Bt===!1?($(St)||$(Ft))&&y("xValue and xInverse are not permitted for non-window UDFs."):$(St)?($(Ft)||y("xInverse must be provided if xValue is."),Bt=!0):$(Ft)&&y("xValue must be provided if xInverse is.");const Ze=M.pApp;Ze!=null&&(typeof Ze!="number"||!k.isInt32(Ze))&&y("Invalid value for pApp property. Must be a legal WASM pointer value.");const ue=M.xDestroy||0;ue&&!$(ue)&&y("xDestroy property must be a function.");let Ne=0;Le(M,"deterministic")&&(Ne|=_.SQLITE_DETERMINISTIC),Le(M,"directOnly")&&(Ne|=_.SQLITE_DIRECTONLY),Le(M,"innocuous")&&(Ne|=_.SQLITE_INNOCUOUS),Y=Y.toLowerCase();const Ke=O||qe,et=Le(M,"arity"),Ot=typeof et=="number"?et:Ke.length?Ke.length-1:0;let Wt;return Bt?Wt=_.sqlite3_create_window_function(this.pointer,Y,Ot,_.SQLITE_UTF8|Ne,Ze||0,qe,He,St,Ft,ue):Wt=_.sqlite3_create_function_v2(this.pointer,Y,Ot,_.SQLITE_UTF8|Ne,Ze||0,O,qe,He,ue),we.checkRc(this,Wt),this},selectValue:function(U,Y,O){return Be(this,U,Y,0,O)},selectValues:function(U,Y,O){const M=this.prepare(U),$=[];try{for(M.bind(Y);M.step();)$.push(M.get(0,O));M.reset()}finally{M.finalize()}return $},selectArray:function(U,Y){return Be(this,U,Y,[])},selectObject:function(U,Y){return Be(this,U,Y,{})},selectArrays:function(U,Y){return be(this,U,Y,"array")},selectObjects:function(U,Y){return be(this,U,Y,"object")},openStatementCount:function(){return this.pointer?Object.keys(te.get(this)).length:0},transaction:function(U){let Y="BEGIN";arguments.length>1&&(/[^a-zA-Z]/.test(arguments[0])&&y(_.SQLITE_MISUSE,"Invalid argument for BEGIN qualifier."),Y+=" "+arguments[0],U=arguments[1]),he(this).exec(Y);try{const O=U(this);return this.exec("COMMIT"),O}catch(O){throw this.exec("ROLLBACK"),O}},savepoint:function(U){he(this).exec("SAVEPOINT oo1");try{const Y=U(this);return this.exec("RELEASE oo1"),Y}catch(Y){throw this.exec("ROLLBACK to SAVEPOINT oo1; RELEASE SAVEPOINT oo1"),Y}},checkRc:function(U){return ze(this,U)}};const De=function(U){return U.pointer||y("Stmt has been closed."),U},ht=function(U){let Y=Ue[U==null?"null":typeof U];switch(Y){case Ue.boolean:case Ue.null:case Ue.number:case Ue.string:return Y;case Ue.bigint:if(S.bigIntEnabled)return Y;default:return k.isBindableTypedArray(U)?Ue.blob:void 0}},j=function(U){return ht(U)||y("Unsupported bind() argument type:",typeof U)},J=function(U,Y){const O=typeof Y=="number"?Y:_.sqlite3_bind_parameter_index(U.pointer,Y);return O===0||!k.isInt32(O)?y("Invalid bind() parameter name: "+Y):(O<1||O>U.parameterCount)&&y("Bind index",Y,"is out of range."),O},fe=function(U,Y){return U._lockedByExec&&y("Operation is illegal when statement is locked:",Y),U},Qe=function U(Y,O,M,$){fe(De(Y),"bind()"),U._||(U._tooBigInt=He=>y("BigInt value is too big to store without precision loss:",He),U._={string:function(He,St,Ft,Bt){const[Ze,ue]=S.allocCString(Ft,!0);return(Bt?_.sqlite3_bind_blob:_.sqlite3_bind_text)(He.pointer,St,Ze,ue,_.SQLITE_WASM_DEALLOC)}}),j($),O=J(Y,O);let qe=0;switch($==null?Ue.null:M){case Ue.null:qe=_.sqlite3_bind_null(Y.pointer,O);break;case Ue.string:qe=U._.string(Y,O,$,!1);break;case Ue.number:{let He;k.isInt32($)?He=_.sqlite3_bind_int:typeof $=="bigint"?k.bigIntFits64($)?S.bigIntEnabled?He=_.sqlite3_bind_int64:k.bigIntFitsDouble($)?($=Number($),He=_.sqlite3_bind_double):U._tooBigInt($):U._tooBigInt($):($=Number($),S.bigIntEnabled&&Number.isInteger($)?He=_.sqlite3_bind_int64:He=_.sqlite3_bind_double),qe=He(Y.pointer,O,$);break}case Ue.boolean:qe=_.sqlite3_bind_int(Y.pointer,O,$?1:0);break;case Ue.blob:{if(typeof $=="string"){qe=U._.string(Y,O,$,!0);break}else $ instanceof ArrayBuffer?$=new Uint8Array($):k.isBindableTypedArray($)||y("Binding a value as a blob requires","that it be a string, Uint8Array, Int8Array, or ArrayBuffer.");const He=S.alloc($.byteLength||1);S.heap8().set($.byteLength?$:[0],He),qe=_.sqlite3_bind_blob(Y.pointer,O,He,$.byteLength,_.SQLITE_WASM_DEALLOC);break}default:f.config.warn("Unsupported bind() argument type:",$),y("Unsupported bind() argument type: "+typeof $)}return qe&&we.checkRc(Y.db.pointer,qe),Y._mayGet=!1,Y};oe.prototype={finalize:function(){if(this.pointer){fe(this,"finalize()");const U=_.sqlite3_finalize(this.pointer);return delete te.get(this.db)[this.pointer],X.delete(this),delete this._mayGet,delete this.parameterCount,delete this._lockedByExec,delete this.db,U}},clearBindings:function(){return fe(De(this),"clearBindings()"),_.sqlite3_clear_bindings(this.pointer),this._mayGet=!1,this},reset:function(U){fe(this,"reset()"),U&&this.clearBindings();const Y=_.sqlite3_reset(De(this).pointer);return this._mayGet=!1,ze(this.db,Y),this},bind:function(){De(this);let U,Y;switch(arguments.length){case 1:U=1,Y=arguments[0];break;case 2:U=arguments[0],Y=arguments[1];break;default:y("Invalid bind() arguments.")}return Y===void 0?this:(this.parameterCount||y("This statement has no bindable parameters."),this._mayGet=!1,Y===null?Qe(this,U,Ue.null,Y):Array.isArray(Y)?(arguments.length!==1&&y("When binding an array, an index argument is not permitted."),Y.forEach((O,M)=>Qe(this,M+1,j(O),O)),this):(Y instanceof ArrayBuffer&&(Y=new Uint8Array(Y)),typeof Y=="object"&&!k.isBindableTypedArray(Y)?(arguments.length!==1&&y("When binding an object, an index argument is not permitted."),Object.keys(Y).forEach(O=>Qe(this,O,j(Y[O]),Y[O])),this):Qe(this,U,j(Y),Y)))},bindAsBlob:function(U,Y){De(this),arguments.length===1&&(Y=U,U=1);const O=j(Y);return Ue.string!==O&&Ue.blob!==O&&Ue.null!==O&&y("Invalid value type for bindAsBlob()"),Qe(this,U,Ue.blob,Y)},step:function(){fe(this,"step()");const U=_.sqlite3_step(De(this).pointer);switch(U){case _.SQLITE_DONE:return this._mayGet=!1;case _.SQLITE_ROW:return this._mayGet=!0;default:this._mayGet=!1,f.config.warn("sqlite3_step() rc=",U,_.sqlite3_js_rc_str(U),"SQL =",_.sqlite3_sql(this.pointer)),we.checkRc(this.db.pointer,U)}},stepReset:function(){return this.step(),this.reset()},stepFinalize:function(){try{const U=this.step();return this.reset(),U}finally{try{this.finalize()}catch{}}},get:function(U,Y){if(De(this)._mayGet||y("Stmt.step() has not (recently) returned true."),Array.isArray(U)){let O=0;const M=this.columnCount;for(;O<M;)U[O]=this.get(O++);return U}else if(U&&typeof U=="object"){let O=0;const M=this.columnCount;for(;O<M;)U[_.sqlite3_column_name(this.pointer,O)]=this.get(O++);return U}switch(_e(this,U),Y===void 0?_.sqlite3_column_type(this.pointer,U):Y){case _.SQLITE_NULL:return null;case _.SQLITE_INTEGER:if(S.bigIntEnabled){const O=_.sqlite3_column_int64(this.pointer,U);return O>=Number.MIN_SAFE_INTEGER&&O<=Number.MAX_SAFE_INTEGER?Number(O).valueOf():O}else{const O=_.sqlite3_column_double(this.pointer,U);return(O>Number.MAX_SAFE_INTEGER||O<Number.MIN_SAFE_INTEGER)&&y("Integer is out of range for JS integer range: "+O),k.isInt32(O)?O|0:O}case _.SQLITE_FLOAT:return _.sqlite3_column_double(this.pointer,U);case _.SQLITE_TEXT:return _.sqlite3_column_text(this.pointer,U);case _.SQLITE_BLOB:{const O=_.sqlite3_column_bytes(this.pointer,U),M=_.sqlite3_column_blob(this.pointer,U),$=new Uint8Array(O);return O&&$.set(S.heap8u().slice(M,M+O),0),O&&this.db._blobXfer instanceof Array&&this.db._blobXfer.push($.buffer),$}default:y("Don't know how to translate","type of result column #"+U+".")}y("Not reached.")},getInt:function(U){return this.get(U,_.SQLITE_INTEGER)},getFloat:function(U){return this.get(U,_.SQLITE_FLOAT)},getString:function(U){return this.get(U,_.SQLITE_TEXT)},getBlob:function(U){return this.get(U,_.SQLITE_BLOB)},getJSON:function(U){const Y=this.get(U,_.SQLITE_STRING);return Y===null?Y:JSON.parse(Y)},getColumnName:function(U){return _.sqlite3_column_name(_e(De(this),U).pointer,U)},getColumnNames:function(U=[]){_e(De(this),0);const Y=this.columnCount;for(let O=0;O<Y;++O)U.push(_.sqlite3_column_name(this.pointer,O));return U},getParamIndex:function(U){return De(this).parameterCount?_.sqlite3_bind_parameter_index(this.pointer,U):void 0},getParamName:function(U){return De(this).parameterCount?_.sqlite3_bind_parameter_name(this.pointer,U):void 0},isBusy:function(){return _.sqlite3_stmt_busy(De(this))!==0},isReadOnly:function(){return _.sqlite3_stmt_readonly(De(this))!==0}};{const U={enumerable:!0,get:function(){return X.get(this)},set:()=>y("The pointer property is read-only.")};Object.defineProperty(oe.prototype,"pointer",U),Object.defineProperty(we.prototype,"pointer",U)}if(Object.defineProperty(oe.prototype,"columnCount",{enumerable:!1,get:function(){return _.sqlite3_column_count(this.pointer)},set:()=>y("The columnCount property is read-only.")}),f.oo1={DB:we,Stmt:oe},k.isUIThread()){f.oo1.JsStorageDb=function(Y="session"){const O=Ae.normalizeArgs(...arguments);Y=O.filename,Y!=="session"&&Y!=="local"&&y("JsStorageDb db name must be one of 'session' or 'local'."),O.vfs="kvvfs",Ae.call(this,O)};const U=f.oo1.JsStorageDb;U.prototype=Object.create(we.prototype),U.clearStorage=_.sqlite3_js_kvvfs_clear,U.prototype.clearStorage=function(){return U.clearStorage(he(this).filename)},U.storageSize=_.sqlite3_js_kvvfs_size,U.prototype.storageSize=function(){return U.storageSize(he(this).filename)}}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(f){const y=f.util;f.initWorker1API=function(){const _=(...Ae)=>{throw new Error(Ae.join(" "))};globalThis.WorkerGlobalScope instanceof Function||_("initWorker1API() must be run from a Worker thread.");const S=this.sqlite3||_("Missing this.sqlite3 object."),k=S.oo1.DB,X=function(Ae){let we=te.idMap.get(Ae);return we||(we="db#"+ ++te.idSeq+"@"+Ae.pointer,te.idMap.set(Ae,we),we)},te={dbList:[],idSeq:0,idMap:new WeakMap,xfer:[],open:function(Ae){const we=new k(Ae);return this.dbs[X(we)]=we,this.dbList.indexOf(we)<0&&this.dbList.push(we),we},close:function(Ae,we){if(Ae){delete this.dbs[X(Ae)];const Ue=Ae.filename,oe=y.sqlite3__wasm_db_vfs(Ae.pointer,0);Ae.close();const he=this.dbList.indexOf(Ae);he>=0&&this.dbList.splice(he,1),we&&Ue&&oe&&y.sqlite3__wasm_vfs_unlink(oe,Ue)}},post:function(Ae,we){we&&we.length?(globalThis.postMessage(Ae,Array.from(we)),we.length=0):globalThis.postMessage(Ae)},dbs:Object.create(null),getDb:function(Ae,we=!0){return this.dbs[Ae]||(we?_("Unknown (or closed) DB ID:",Ae):void 0)}},Le=function(Ae=te.dbList[0]){return Ae&&Ae.pointer?Ae:_("DB is not opened.")},ze=function(Ae,we=!0){const Ue=te.getDb(Ae.dbId,!1)||te.dbList[0];return we?Le(Ue):Ue},Je=function(){return te.dbList[0]&&X(te.dbList[0])},rt={open:function(Ae){const we=Object.create(null),Ue=Ae.args||Object.create(null);Ue.simulateError&&_("Throwing because of simulateError flag.");const oe=Object.create(null);we.vfs=Ue.vfs,we.filename=Ue.filename||"";const he=te.open(we);return oe.filename=he.filename,oe.persistent=!!S.capi.sqlite3_js_db_uses_vfs(he.pointer,"opfs"),oe.dbId=X(he),oe.vfs=he.dbVfsName(),oe},close:function(Ae){const we=ze(Ae,!1),Ue={filename:we&&we.filename};if(we){const oe=Ae.args&&typeof Ae.args=="object"?!!Ae.args.unlink:!1;te.close(we,oe)}return Ue},exec:function(Ae){const we=typeof Ae.args=="string"?{sql:Ae.args}:Ae.args||Object.create(null);we.rowMode==="stmt"?_("Invalid rowMode for 'exec': stmt mode","does not work in the Worker API."):we.sql||_("'exec' requires input SQL.");const Ue=ze(Ae);(we.callback||Array.isArray(we.resultRows))&&(Ue._blobXfer=te.xfer);const oe=we.callback;let he=0;const _e=!!we.columnNames;typeof oe=="string"&&(_e||(we.columnNames=[]),we.callback=function(We,Be){te.post({type:oe,columnNames:we.columnNames,rowNumber:++he,row:We},te.xfer)});try{const We=we.countChanges?Ue.changes(!0,we.countChanges===64):void 0;Ue.exec(we),We!==void 0&&(we.changeCount=Ue.changes(!0,we.countChanges===64)-We),we.callback instanceof Function&&(we.callback=oe,te.post({type:oe,columnNames:we.columnNames,rowNumber:null,row:void 0}))}finally{delete Ue._blobXfer,we.callback&&(we.callback=oe)}return we},"config-get":function(){const Ae=Object.create(null),we=S.config;return["bigIntEnabled"].forEach(function(Ue){Object.getOwnPropertyDescriptor(we,Ue)&&(Ae[Ue]=we[Ue])}),Ae.version=S.version,Ae.vfsList=S.capi.sqlite3_js_vfs_list(),Ae},export:function(Ae){const we=ze(Ae),Ue={byteArray:S.capi.sqlite3_js_db_export(we.pointer),filename:we.filename,mimetype:"application/x-sqlite3"};return te.xfer.push(Ue.byteArray.buffer),Ue},toss:function(Ae){_("Testing worker exception")}};globalThis.onmessage=async function(Ae){Ae=Ae.data;let we,Ue=Ae.dbId,oe=Ae.type;const he=performance.now();try{rt.hasOwnProperty(oe)&&rt[oe]instanceof Function?we=await rt[oe](Ae):_("Unknown db worker message type:",Ae.type)}catch(_e){oe="error",we={operation:Ae.type,message:_e.message,errorClass:_e.name,input:Ae},_e.stack&&(we.stack=typeof _e.stack=="string"?_e.stack.split(/\n\s*/):_e.stack)}Ue||(Ue=we.dbId||Je()),te.post({type:oe,dbId:Ue,messageId:Ae.messageId,workerReceivedTime:he,workerRespondTime:performance.now(),departureTime:Ae.departureTime,result:we},te.xfer)},globalThis.postMessage({type:"sqlite3-api",result:"worker1-ready"})}.bind({sqlite3:f})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(f){const y=f.wasm,_=f.capi,S=f.util.toss3,k=Object.create(null);f.vfs=k,_.sqlite3_vfs.prototype.registerVfs=function(X=!1){this instanceof f.capi.sqlite3_vfs||S("Expecting a sqlite3_vfs-type argument.");const te=_.sqlite3_vfs_register(this,X?1:0);return te&&S("sqlite3_vfs_register(",this,") failed with rc",te),this.pointer!==_.sqlite3_vfs_find(this.$zName)&&S("BUG: sqlite3_vfs_find(vfs.$zName) failed for just-installed VFS",this),this},k.installVfs=function(X){let te=0;const Le=["io","vfs"];for(const ze of Le){const Je=X[ze];Je&&(++te,Je.struct.installMethods(Je.methods,!!Je.applyArgcCheck),ze==="vfs"&&(!Je.struct.$zName&&typeof Je.name=="string"&&Je.struct.addOnDispose(Je.struct.$zName=y.allocCString(Je.name)),Je.struct.registerVfs(!!Je.asDefault)))}return te||S("Misuse: installVfs() options object requires at least","one of:",Le),this}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(f){if(!f.wasm.exports.sqlite3_declare_vtab)return;const y=f.wasm,_=f.capi,S=f.util.toss3,k=Object.create(null);f.vtab=k;const X=_.sqlite3_index_info;X.prototype.nthConstraint=function(ze,Je=!1){if(ze<0||ze>=this.$nConstraint)return!1;const rt=this.$aConstraint+X.sqlite3_index_constraint.structInfo.sizeof*ze;return Je?rt:new X.sqlite3_index_constraint(rt)},X.prototype.nthConstraintUsage=function(ze,Je=!1){if(ze<0||ze>=this.$nConstraint)return!1;const rt=this.$aConstraintUsage+X.sqlite3_index_constraint_usage.structInfo.sizeof*ze;return Je?rt:new X.sqlite3_index_constraint_usage(rt)},X.prototype.nthOrderBy=function(ze,Je=!1){if(ze<0||ze>=this.$nOrderBy)return!1;const rt=this.$aOrderBy+X.sqlite3_index_orderby.structInfo.sizeof*ze;return Je?rt:new X.sqlite3_index_orderby(rt)};const te=function(ze,Je){return function(rt,Ae=!1){if(arguments.length===0&&(rt=new Je),rt instanceof Je)return this.set(rt.pointer,rt),rt;y.isPtr(rt)||f.SQLite3Error.toss("Invalid argument to",ze+"()");let we=this.get(rt);return Ae&&this.delete(rt),we}.bind(new Map)},Le=function(ze,Je){const rt=te(ze,Je);return Object.assign(Object.create(null),{StructType:Je,create:Ae=>{const we=rt();return y.pokePtr(Ae,we.pointer),we},get:Ae=>rt(Ae),unget:Ae=>rt(Ae,!0),dispose:Ae=>{const we=rt(Ae,!0);we&&we.dispose()}})};k.xVtab=Le("xVtab",_.sqlite3_vtab),k.xCursor=Le("xCursor",_.sqlite3_vtab_cursor),k.xIndexInfo=ze=>new _.sqlite3_index_info(ze),k.xError=function ze(Je,rt,Ae){if(ze.errorReporter instanceof Function)try{ze.errorReporter("sqlite3_module::"+Je+"(): "+rt.message)}catch{}let we;return rt instanceof f.WasmAllocError?we=_.SQLITE_NOMEM:arguments.length>2?we=Ae:rt instanceof f.SQLite3Error&&(we=rt.resultCode),we||_.SQLITE_ERROR},k.xError.errorReporter=console.error.bind(console),k.xRowid=(ze,Je)=>y.poke(ze,Je,"i64"),k.setupModule=function(ze){let Je=!1;const rt=this instanceof _.sqlite3_module?this:ze.struct||(Je=new _.sqlite3_module);try{const Ae=ze.methods||S("Missing 'methods' object.");for(const we of Object.entries({xConnect:"xCreate",xDisconnect:"xDestroy"})){const Ue=we[0],oe=we[1];Ae[Ue]===!0?Ae[Ue]=Ae[oe]:Ae[oe]===!0&&(Ae[oe]=Ae[Ue])}if(ze.catchExceptions){const we=function(he,_e){return["xConnect","xCreate"].indexOf(he)>=0?function(We,Be,be,De,ht,j){try{return _e(...arguments)||0}catch(J){return J instanceof f.WasmAllocError||(y.dealloc(y.peekPtr(j)),y.pokePtr(j,y.allocCString(J.message))),k.xError(he,J)}}:function(...We){try{return _e(...We)||0}catch(Be){return k.xError(he,Be)}}},Ue=["xCreate","xConnect","xBestIndex","xDisconnect","xDestroy","xOpen","xClose","xFilter","xNext","xEof","xColumn","xRowid","xUpdate","xBegin","xSync","xCommit","xRollback","xFindFunction","xRename","xSavepoint","xRelease","xRollbackTo","xShadowName"],oe=Object.create(null);for(const he of Ue){const _e=Ae[he];if(_e instanceof Function)he==="xConnect"&&Ae.xCreate===_e?oe[he]=Ae.xCreate:he==="xCreate"&&Ae.xConnect===_e?oe[he]=Ae.xConnect:oe[he]=we(he,_e);else continue}rt.installMethods(oe,!1)}else rt.installMethods(Ae,!!ze.applyArgcCheck);if(rt.$iVersion===0){let we;typeof ze.iVersion=="number"?we=ze.iVersion:rt.$xShadowName?we=3:rt.$xSavePoint||rt.$xRelease||rt.$xRollbackTo?we=2:we=1,rt.$iVersion=we}}catch(Ae){throw Je&&Je.dispose(),Ae}return rt},_.sqlite3_module.prototype.setupModule=function(ze){return k.setupModule.call(this,ze)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(f){const y=function _(S){if(!globalThis.SharedArrayBuffer||!globalThis.Atomics)return Promise.reject(new Error("Cannot install OPFS: Missing SharedArrayBuffer and/or Atomics. The server must emit the COOP/COEP response headers to enable those. See https://sqlite.org/wasm/doc/trunk/persistence.md#coop-coep"));if(typeof WorkerGlobalScope>"u")return Promise.reject(new Error("The OPFS sqlite3_vfs cannot run in the main thread because it requires Atomics.wait()."));if(!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory)return Promise.reject(new Error("Missing required OPFS APIs."));(!S||typeof S!="object")&&(S=Object.create(null));const k=new URL(globalThis.location.href).searchParams;return k.has("opfs-disable")?Promise.resolve(f):(S.verbose===void 0&&(S.verbose=k.has("opfs-verbose")?+k.get("opfs-verbose")||2:1),S.sanityChecks===void 0&&(S.sanityChecks=k.has("opfs-sanity-check")),S.proxyUri===void 0&&(S.proxyUri=_.defaultProxyUri),typeof S.proxyUri=="function"&&(S.proxyUri=S.proxyUri()),new Promise(function(te,Le){const ze=[f.config.error,f.config.warn,f.config.log],Je=(Se,...Ve)=>{S.verbose>Se&&ze[Se]("OPFS syncer:",...Ve)},rt=(...Se)=>Je(2,...Se),Ae=(...Se)=>Je(1,...Se),we=(...Se)=>Je(0,...Se),Ue=f.util.toss,oe=f.capi,he=f.util,_e=f.wasm,We=oe.sqlite3_vfs,Be=oe.sqlite3_file,be=oe.sqlite3_io_methods,De=Object.create(null),ht=()=>globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&navigator?.storage?.getDirectory;De.metrics={dump:function(){let Se,Ve=0,Xe=0,bt=0;for(Se in $.opIds){const ut=qe[Se];Ve+=ut.count,Xe+=ut.time,bt+=ut.wait,ut.avgTime=ut.count&&ut.time?ut.time/ut.count:0,ut.avgWait=ut.count&&ut.wait?ut.wait/ut.count:0}f.config.log(globalThis.location.href,"metrics for",globalThis.location.href,":",qe,`
Total of`,Ve,"op(s) for",Xe,"ms (incl. "+bt+" ms of waiting on the async side)"),f.config.log("Serialization metrics:",qe.s11n),Y.postMessage({type:"opfs-async-metrics"})},reset:function(){let Se;const Ve=bt=>bt.count=bt.time=bt.wait=0;for(Se in $.opIds)Ve(qe[Se]=Object.create(null));let Xe=qe.s11n=Object.create(null);Xe=Xe.serialize=Object.create(null),Xe.count=Xe.time=0,Xe=qe.s11n.deserialize=Object.create(null),Xe.count=Xe.time=0}};const j=new be,J=new We().addOnDispose(()=>j.dispose());let fe;const Qe=Se=>(fe=!0,J.dispose(),Le(Se)),U=()=>(fe=!1,te(f)),Y=new Worker(new URL("/assets/sqlite3-opfs-async-proxy-C_otN2ZJ.js",import.meta.url));setTimeout(()=>{fe===void 0&&Qe(new Error("Timeout while waiting for OPFS async proxy worker."))},4e3),Y._originalOnError=Y.onerror,Y.onerror=function(Se){we("Error initializing OPFS asyncer:",Se),Qe(new Error("Loading OPFS async Worker failed for unknown reasons."))};const O=oe.sqlite3_vfs_find(null),M=O?new We(O):null;j.$iVersion=1,J.$iVersion=2,J.$szOsFile=oe.sqlite3_file.structInfo.sizeof,J.$mxPathname=1024,J.$zName=_e.allocCString("opfs"),J.$xDlOpen=J.$xDlError=J.$xDlSym=J.$xDlClose=null,J.addOnDispose("$zName",J.$zName,"cleanup default VFS wrapper",()=>M?M.dispose():null);const $=Object.create(null);$.verbose=S.verbose,$.littleEndian=(()=>{const Se=new ArrayBuffer(2);return new DataView(Se).setInt16(0,256,!0),new Int16Array(Se)[0]===256})(),$.asyncIdleWaitTime=150,$.asyncS11nExceptions=1,$.fileBufferSize=1024*64,$.sabS11nOffset=$.fileBufferSize,$.sabS11nSize=J.$mxPathname*2,$.sabIO=new SharedArrayBuffer($.fileBufferSize+$.sabS11nSize),$.opIds=Object.create(null);const qe=Object.create(null);{let Se=0;$.opIds.whichOp=Se++,$.opIds.rc=Se++,$.opIds.xAccess=Se++,$.opIds.xClose=Se++,$.opIds.xDelete=Se++,$.opIds.xDeleteNoWait=Se++,$.opIds.xFileSize=Se++,$.opIds.xLock=Se++,$.opIds.xOpen=Se++,$.opIds.xRead=Se++,$.opIds.xSleep=Se++,$.opIds.xSync=Se++,$.opIds.xTruncate=Se++,$.opIds.xUnlock=Se++,$.opIds.xWrite=Se++,$.opIds.mkdir=Se++,$.opIds["opfs-async-metrics"]=Se++,$.opIds["opfs-async-shutdown"]=Se++,$.opIds.retry=Se++,$.sabOP=new SharedArrayBuffer(Se*4),De.metrics.reset()}$.sq3Codes=Object.create(null),["SQLITE_ACCESS_EXISTS","SQLITE_ACCESS_READWRITE","SQLITE_BUSY","SQLITE_CANTOPEN","SQLITE_ERROR","SQLITE_IOERR","SQLITE_IOERR_ACCESS","SQLITE_IOERR_CLOSE","SQLITE_IOERR_DELETE","SQLITE_IOERR_FSYNC","SQLITE_IOERR_LOCK","SQLITE_IOERR_READ","SQLITE_IOERR_SHORT_READ","SQLITE_IOERR_TRUNCATE","SQLITE_IOERR_UNLOCK","SQLITE_IOERR_WRITE","SQLITE_LOCK_EXCLUSIVE","SQLITE_LOCK_NONE","SQLITE_LOCK_PENDING","SQLITE_LOCK_RESERVED","SQLITE_LOCK_SHARED","SQLITE_LOCKED","SQLITE_MISUSE","SQLITE_NOTFOUND","SQLITE_OPEN_CREATE","SQLITE_OPEN_DELETEONCLOSE","SQLITE_OPEN_MAIN_DB","SQLITE_OPEN_READONLY"].forEach(Se=>{($.sq3Codes[Se]=oe[Se])===void 0&&Ue("Maintenance required: not found:",Se)}),$.opfsFlags=Object.assign(Object.create(null),{OPFS_UNLOCK_ASAP:1,OPFS_UNLINK_BEFORE_OPEN:2,defaultUnlockAsap:!1});const He=(Se,...Ve)=>{const Xe=$.opIds[Se]||Ue("Invalid op ID:",Se);$.s11n.serialize(...Ve),Atomics.store($.sabOPView,$.opIds.rc,-1),Atomics.store($.sabOPView,$.opIds.whichOp,Xe),Atomics.notify($.sabOPView,$.opIds.whichOp);const bt=performance.now();for(;Atomics.wait($.sabOPView,$.opIds.rc,-1)!=="not-equal";);const ut=Atomics.load($.sabOPView,$.opIds.rc);if(qe[Se].wait+=performance.now()-bt,ut&&$.asyncS11nExceptions){const Pt=$.s11n.deserialize();Pt&&we(Se+"() async error:",...Pt)}return ut};De.debug={asyncShutdown:()=>{Ae("Shutting down OPFS async listener. The OPFS VFS will no longer work."),He("opfs-async-shutdown")},asyncRestart:()=>{Ae("Attempting to restart OPFS VFS async listener. Might work, might not."),Y.postMessage({type:"opfs-async-restart"})}};const St=()=>{if($.s11n)return $.s11n;const Se=new TextDecoder,Ve=new TextEncoder("utf-8"),Xe=new Uint8Array($.sabIO,$.sabS11nOffset,$.sabS11nSize),bt=new DataView($.sabIO,$.sabS11nOffset,$.sabS11nSize);$.s11n=Object.create(null);const ut=Object.create(null);ut.number={id:1,size:8,getter:"getFloat64",setter:"setFloat64"},ut.bigint={id:2,size:8,getter:"getBigInt64",setter:"setBigInt64"},ut.boolean={id:3,size:4,getter:"getInt32",setter:"setInt32"},ut.string={id:4};const Pt=Et=>ut[typeof Et]||Ue("Maintenance required: this value type cannot be serialized.",Et),Yt=Et=>{switch(Et){case ut.number.id:return ut.number;case ut.bigint.id:return ut.bigint;case ut.boolean.id:return ut.boolean;case ut.string.id:return ut.string;default:Ue("Invalid type ID:",Et)}};return $.s11n.deserialize=function(Et=!1){++qe.s11n.deserialize.count;const Qr=performance.now(),Ie=Xe[0],st=Ie?[]:null;if(Ie){const ct=[];let wt=1,tr,xr,gr;for(tr=0;tr<Ie;++tr,++wt)ct.push(Yt(Xe[wt]));for(tr=0;tr<Ie;++tr){const _r=ct[tr];_r.getter?(gr=bt[_r.getter](wt,$.littleEndian),wt+=_r.size):(xr=bt.getInt32(wt,$.littleEndian),wt+=4,gr=Se.decode(Xe.slice(wt,wt+xr)),wt+=xr),st.push(gr)}}return Et&&(Xe[0]=0),qe.s11n.deserialize.time+=performance.now()-Qr,st},$.s11n.serialize=function(...Et){const Qr=performance.now();if(++qe.s11n.serialize.count,Et.length){const Ie=[];let st=0,ct=1;for(Xe[0]=Et.length&255;st<Et.length;++st,++ct)Ie.push(Pt(Et[st])),Xe[ct]=Ie[st].id;for(st=0;st<Et.length;++st){const wt=Ie[st];if(wt.setter)bt[wt.setter](ct,Et[st],$.littleEndian),ct+=wt.size;else{const tr=Ve.encode(Et[st]);bt.setInt32(ct,tr.byteLength,$.littleEndian),ct+=4,Xe.set(tr,ct),ct+=tr.byteLength}}}else Xe[0]=0;qe.s11n.serialize.time+=performance.now()-Qr},$.s11n},Ft=function Se(Ve=16){Se._chars||(Se._chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ012346789",Se._n=Se._chars.length);const Xe=[];let bt=0;for(;bt<Ve;++bt){const ut=Math.random()*(Se._n*64)%Se._n|0;Xe[bt]=Se._chars[ut]}return Xe.join("")},Bt=Object.create(null),Ze=Object.create(null);Ze.op=void 0,Ze.start=void 0;const ue=Se=>{Ze.start=performance.now(),Ze.op=Se,++qe[Se].count},Ne=()=>qe[Ze.op].time+=performance.now()-Ze.start,Ke={xCheckReservedLock:function(Se,Ve){return _e.poke(Ve,0,"i32"),0},xClose:function(Se){ue("xClose");let Ve=0;const Xe=Bt[Se];return Xe&&(delete Bt[Se],Ve=He("xClose",Se),Xe.sq3File&&Xe.sq3File.dispose()),Ne(),Ve},xDeviceCharacteristics:function(Se){return oe.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(Se,Ve,Xe){return oe.SQLITE_NOTFOUND},xFileSize:function(Se,Ve){ue("xFileSize");let Xe=He("xFileSize",Se);if(Xe==0)try{const bt=$.s11n.deserialize()[0];_e.poke(Ve,bt,"i64")}catch(bt){we("Unexpected error reading xFileSize() result:",bt),Xe=$.sq3Codes.SQLITE_IOERR}return Ne(),Xe},xLock:function(Se,Ve){ue("xLock");const Xe=Bt[Se];let bt=0;return Xe.lockType?Xe.lockType=Ve:(bt=He("xLock",Se,Ve),bt===0&&(Xe.lockType=Ve)),Ne(),bt},xRead:function(Se,Ve,Xe,bt){ue("xRead");const ut=Bt[Se];let Pt;try{Pt=He("xRead",Se,Xe,Number(bt)),(Pt===0||oe.SQLITE_IOERR_SHORT_READ===Pt)&&_e.heap8u().set(ut.sabView.subarray(0,Xe),Ve)}catch(Yt){we("xRead(",arguments,") failed:",Yt,ut),Pt=oe.SQLITE_IOERR_READ}return Ne(),Pt},xSync:function(Se,Ve){ue("xSync"),++qe.xSync.count;const Xe=He("xSync",Se,Ve);return Ne(),Xe},xTruncate:function(Se,Ve){ue("xTruncate");const Xe=He("xTruncate",Se,Number(Ve));return Ne(),Xe},xUnlock:function(Se,Ve){ue("xUnlock");const Xe=Bt[Se];let bt=0;return oe.SQLITE_LOCK_NONE===Ve&&Xe.lockType&&(bt=He("xUnlock",Se,Ve)),bt===0&&(Xe.lockType=Ve),Ne(),bt},xWrite:function(Se,Ve,Xe,bt){ue("xWrite");const ut=Bt[Se];let Pt;try{ut.sabView.set(_e.heap8u().subarray(Ve,Ve+Xe)),Pt=He("xWrite",Se,Xe,Number(bt))}catch(Yt){we("xWrite(",arguments,") failed:",Yt,ut),Pt=oe.SQLITE_IOERR_WRITE}return Ne(),Pt}},et={xAccess:function(Se,Ve,Xe,bt){ue("xAccess");const ut=He("xAccess",_e.cstrToJs(Ve));return _e.poke(bt,ut?0:1,"i32"),Ne(),0},xCurrentTime:function(Se,Ve){return _e.poke(Ve,2440587.5+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(Se,Ve){return _e.poke(Ve,2440587.5*864e5+new Date().getTime(),"i64"),0},xDelete:function(Se,Ve,Xe){ue("xDelete");const bt=He("xDelete",_e.cstrToJs(Ve),Xe,!1);return Ne(),bt},xFullPathname:function(Se,Ve,Xe,bt){return _e.cstrncpy(bt,Ve,Xe)<Xe?0:oe.SQLITE_CANTOPEN},xGetLastError:function(Se,Ve,Xe){return Ae("OPFS xGetLastError() has nothing sensible to return."),0},xOpen:function(Ve,Xe,bt,ut,Pt){ue("xOpen");let Yt=0;Xe===0?Xe=Ft():_e.isPtr(Xe)&&(oe.sqlite3_uri_boolean(Xe,"opfs-unlock-asap",0)&&(Yt|=$.opfsFlags.OPFS_UNLOCK_ASAP),oe.sqlite3_uri_boolean(Xe,"delete-before-open",0)&&(Yt|=$.opfsFlags.OPFS_UNLINK_BEFORE_OPEN),Xe=_e.cstrToJs(Xe));const Et=Object.create(null);Et.fid=bt,Et.filename=Xe,Et.sab=new SharedArrayBuffer($.fileBufferSize),Et.flags=ut,Et.readOnly=!(f.SQLITE_OPEN_CREATE&ut)&&!!(ut&oe.SQLITE_OPEN_READONLY);const Qr=He("xOpen",bt,Xe,ut,Yt);return Qr||(Et.readOnly&&_e.poke(Pt,oe.SQLITE_OPEN_READONLY,"i32"),Bt[bt]=Et,Et.sabView=$.sabFileBufView,Et.sq3File=new Be(bt),Et.sq3File.$pMethods=j.pointer,Et.lockType=oe.SQLITE_LOCK_NONE),Ne(),Qr}};M&&(J.$xRandomness=M.$xRandomness,J.$xSleep=M.$xSleep),J.$xRandomness||(et.xRandomness=function(Se,Ve,Xe){const bt=_e.heap8u();let ut=0;for(;ut<Ve;++ut)bt[Xe+ut]=Math.random()*255e3&255;return ut}),J.$xSleep||(et.xSleep=function(Se,Ve){return Atomics.wait($.sabOPView,$.opIds.xSleep,0,Ve),0}),De.getResolvedPath=function(Se,Ve){const Xe=new URL(Se,"file://irrelevant").pathname;return Ve?Xe.split("/").filter(bt=>!!bt):Xe},De.getDirForFilename=async function(Ve,Xe=!1){const bt=De.getResolvedPath(Ve,!0),ut=bt.pop();let Pt=De.rootDirectory;for(const Yt of bt)Yt&&(Pt=await Pt.getDirectoryHandle(Yt,{create:!!Xe}));return[Pt,ut]},De.mkdir=async function(Se){try{return await De.getDirForFilename(Se+"/filepart",!0),!0}catch{return!1}},De.entryExists=async function(Se){try{const[Ve,Xe]=await De.getDirForFilename(Se);return await Ve.getFileHandle(Xe),!0}catch{return!1}},De.randomFilename=Ft,De.treeList=async function(){const Se=async function Xe(bt,ut){ut.name=bt.name,ut.dirs=[],ut.files=[];for await(const Pt of bt.values())if(Pt.kind==="directory"){const Yt=Object.create(null);ut.dirs.push(Yt),await Xe(Pt,Yt)}else ut.files.push(Pt.name)},Ve=Object.create(null);return await Se(De.rootDirectory,Ve),Ve},De.rmfr=async function(){const Se=De.rootDirectory,Ve={recurse:!0};for await(const Xe of Se.values())Se.removeEntry(Xe.name,Ve)},De.unlink=async function(Se,Ve=!1,Xe=!1){try{const[bt,ut]=await De.getDirForFilename(Se,!1);return await bt.removeEntry(ut,{recursive:Ve}),!0}catch(bt){if(Xe)throw new Error("unlink(",arguments[0],") failed: "+bt.message,{cause:bt});return!1}},De.traverse=async function(Se){const Ve={recursive:!0,directory:De.rootDirectory};typeof Se=="function"&&(Se={callback:Se}),Se=Object.assign(Ve,Se||{}),async function bt(ut,Pt){for await(const Yt of ut.values()){if(Se.callback(Yt,ut,Pt)===!1)return!1;if(Se.recursive&&Yt.kind==="directory"&&await bt(Yt,Pt+1)===!1)break}}(Se.directory,0)};const Ot=async function(Se,Ve){const[Xe,bt]=await De.getDirForFilename(Se,!0);let Pt=await (await Xe.getFileHandle(bt,{create:!0})).createSyncAccessHandle(),Yt=0,Et,Qr=!1;try{for(Pt.truncate(0);(Et=await Ve())!==void 0;)Et instanceof ArrayBuffer&&(Et=new Uint8Array(Et)),Yt===0&&Et.byteLength>=15&&(he.affirmDbHeader(Et),Qr=!0),Pt.write(Et,{at:Yt}),Yt+=Et.byteLength;if((Yt<512||Yt%512!==0)&&Ue("Input size",Yt,"is not correct for an SQLite database."),!Qr){const Ie=new Uint8Array(20);Pt.read(Ie,{at:0}),he.affirmDbHeader(Ie)}return Pt.write(new Uint8Array([1,1]),{at:18}),Yt}catch(Ie){throw await Pt.close(),Pt=void 0,await Xe.removeEntry(bt).catch(()=>{}),Ie}finally{Pt&&await Pt.close()}};if(De.importDb=async function(Se,Ve){if(Ve instanceof Function)return Ot(Se,Ve);Ve instanceof ArrayBuffer&&(Ve=new Uint8Array(Ve)),he.affirmIsDb(Ve);const Xe=Ve.byteLength,[bt,ut]=await De.getDirForFilename(Se,!0);let Pt,Yt=0;try{return Pt=await (await bt.getFileHandle(ut,{create:!0})).createSyncAccessHandle(),Pt.truncate(0),Yt=Pt.write(Ve,{at:0}),Yt!=Xe&&Ue("Expected to write "+Xe+" bytes but wrote "+Yt+"."),Pt.write(new Uint8Array([1,1]),{at:18}),Yt}catch(Et){throw Pt&&(await Pt.close(),Pt=void 0),await bt.removeEntry(ut).catch(()=>{}),Et}finally{Pt&&await Pt.close()}},f.oo1){const Se=function(...Ve){const Xe=f.oo1.DB.dbCtorHelper.normalizeArgs(...Ve);Xe.vfs=J.$zName,f.oo1.DB.dbCtorHelper.call(this,Xe)};Se.prototype=Object.create(f.oo1.DB.prototype),f.oo1.OpfsDb=Se,Se.importDb=De.importDb,f.oo1.DB.dbCtorHelper.setVfsPostOpenCallback(J.pointer,function(Ve,Xe){Xe.capi.sqlite3_busy_timeout(Ve,1e4)})}const Wt=function(){const Se=_e.scopedAllocPush(),Ve=new Be;try{const Xe=Ve.pointer,bt=oe.SQLITE_OPEN_CREATE|oe.SQLITE_OPEN_READWRITE|oe.SQLITE_OPEN_MAIN_DB,ut=_e.scopedAlloc(8),Pt="/sanity/check/file"+Ft(8),Yt=_e.scopedAllocCString(Pt);let Et;if($.s11n.serialize("This is \xe4 string."),Et=$.s11n.deserialize(),rt("deserialize() says:",Et),Et[0]!=="This is \xe4 string."&&Ue("String d13n error."),et.xAccess(J.pointer,Yt,0,ut),Et=_e.peek(ut,"i32"),rt("xAccess(",Pt,") exists ?=",Et),Et=et.xOpen(J.pointer,Yt,Xe,bt,ut),rt("open rc =",Et,"state.sabOPView[xOpen] =",$.sabOPView[$.opIds.xOpen]),Et!==0){we("open failed with code",Et);return}et.xAccess(J.pointer,Yt,0,ut),Et=_e.peek(ut,"i32"),Et||Ue("xAccess() failed to detect file."),Et=Ke.xSync(Ve.pointer,0),Et&&Ue("sync failed w/ rc",Et),Et=Ke.xTruncate(Ve.pointer,1024),Et&&Ue("truncate failed w/ rc",Et),_e.poke(ut,0,"i64"),Et=Ke.xFileSize(Ve.pointer,ut),Et&&Ue("xFileSize failed w/ rc",Et),rt("xFileSize says:",_e.peek(ut,"i64")),Et=Ke.xWrite(Ve.pointer,Yt,10,1),Et&&Ue("xWrite() failed!");const Qr=_e.scopedAlloc(16);Et=Ke.xRead(Ve.pointer,Qr,6,2),_e.poke(Qr+6,0);let Ie=_e.cstrToJs(Qr);rt("xRead() got:",Ie),Ie!=="sanity"&&Ue("Unexpected xRead() value."),et.xSleep&&(rt("xSleep()ing before close()ing..."),et.xSleep(J.pointer,2e3),rt("waking up from xSleep()")),Et=Ke.xClose(Xe),rt("xClose rc =",Et,"sabOPView =",$.sabOPView),rt("Deleting file:",Pt),et.xDelete(J.pointer,Yt,4660),et.xAccess(J.pointer,Yt,0,ut),Et=_e.peek(ut,"i32"),Et&&Ue("Expecting 0 from xAccess(",Pt,") after xDelete()."),Ae("End of OPFS sanity checks.")}finally{Ve.dispose(),_e.scopedAllocPop(Se)}};Y.onmessage=function({data:Se}){switch(Se.type){case"opfs-unavailable":Qe(new Error(Se.payload.join(" ")));break;case"opfs-async-loaded":Y.postMessage({type:"opfs-async-init",args:$});break;case"opfs-async-inited":{if(fe===!0)break;try{f.vfs.installVfs({io:{struct:j,methods:Ke},vfs:{struct:J,methods:et}}),$.sabOPView=new Int32Array($.sabOP),$.sabFileBufView=new Uint8Array($.sabIO,0,$.fileBufferSize),$.sabS11nView=new Uint8Array($.sabIO,$.sabS11nOffset,$.sabS11nSize),St(),S.sanityChecks&&(Ae("Running sanity checks because of opfs-sanity-check URL arg..."),Wt()),ht()?navigator.storage.getDirectory().then(Ve=>{Y.onerror=Y._originalOnError,delete Y._originalOnError,f.opfs=De,De.rootDirectory=Ve,rt("End of OPFS sqlite3_vfs setup.",J),U()}).catch(Qe):U()}catch(Ve){we(Ve),Qe(Ve)}break}default:{const Ve="Unexpected message from the OPFS async worker: "+JSON.stringify(Se);we(Ve),Qe(new Error(Ve));break}}}}))};y.defaultProxyUri="sqlite3-opfs-async-proxy.js",globalThis.sqlite3ApiBootstrap.initializersAsync.push(async _=>{try{let S=y.defaultProxyUri;return _.scriptInfo.sqlite3Dir&&(y.defaultProxyUri=_.scriptInfo.sqlite3Dir+S),y().catch(k=>{_.config.warn("Ignoring inability to install OPFS sqlite3_vfs:",k.message)})}catch(S){return _.config.error("installOpfsVfs() exception:",S),Promise.reject(S)}})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(f){const y=f.util.toss,_=f.util.toss3,S=Object.create(null),k=f.capi,X=f.util,te=f.wasm,Le=4096,ze=512,Je=4,rt=8,Ae=ze+Je,we=ze,Ue=Ae,oe=Le,he=k.SQLITE_OPEN_MAIN_DB|k.SQLITE_OPEN_MAIN_JOURNAL|k.SQLITE_OPEN_SUPER_JOURNAL|k.SQLITE_OPEN_WAL,_e=".opaque",We=()=>Math.random().toString(36).slice(2),Be=new TextDecoder,be=new TextEncoder,De=Object.assign(Object.create(null),{name:"opfs-sahpool",directory:void 0,initialCapacity:6,clearOnInit:!1,verbosity:2,forceReinitIfPreviouslyFailed:!1}),ht=[f.config.error,f.config.warn,f.config.log];f.config.log;const j=f.config.warn;f.config.error;const J=new Map,fe=Ze=>J.get(Ze),Qe=(Ze,ue)=>{ue?J.set(Ze,ue):J.delete(Ze)},U=new Map,Y=Ze=>U.get(Ze),O=(Ze,ue)=>{ue?U.set(Ze,ue):U.delete(Ze)},M={xCheckReservedLock:function(Ze,ue){const Ne=Y(Ze);return Ne.log("xCheckReservedLock"),Ne.storeErr(),te.poke32(ue,1),0},xClose:function(Ze){const ue=Y(Ze);ue.storeErr();const Ne=ue.getOFileForS3File(Ze);if(Ne)try{ue.log(`xClose ${Ne.path}`),ue.mapS3FileToOFile(Ze,!1),Ne.sah.flush(),Ne.flags&k.SQLITE_OPEN_DELETEONCLOSE&&ue.deletePath(Ne.path)}catch(Ke){return ue.storeErr(Ke,k.SQLITE_IOERR)}return 0},xDeviceCharacteristics:function(Ze){return k.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(Ze,ue,Ne){return k.SQLITE_NOTFOUND},xFileSize:function(Ze,ue){const Ne=Y(Ze);Ne.log("xFileSize");const et=Ne.getOFileForS3File(Ze).sah.getSize()-oe;return te.poke64(ue,BigInt(et)),0},xLock:function(Ze,ue){const Ne=Y(Ze);Ne.log(`xLock ${ue}`),Ne.storeErr();const Ke=Ne.getOFileForS3File(Ze);return Ke.lockType=ue,0},xRead:function(Ze,ue,Ne,Ke){const et=Y(Ze);et.storeErr();const Ot=et.getOFileForS3File(Ze);et.log(`xRead ${Ot.path} ${Ne} @ ${Ke}`);try{const Wt=Ot.sah.read(te.heap8u().subarray(ue,ue+Ne),{at:oe+Number(Ke)});return Wt<Ne?(te.heap8u().fill(0,ue+Wt,ue+Ne),k.SQLITE_IOERR_SHORT_READ):0}catch(Wt){return et.storeErr(Wt,k.SQLITE_IOERR)}},xSectorSize:function(Ze){return Le},xSync:function(Ze,ue){const Ne=Y(Ze);Ne.log(`xSync ${ue}`),Ne.storeErr();const Ke=Ne.getOFileForS3File(Ze);try{return Ke.sah.flush(),0}catch(et){return Ne.storeErr(et,k.SQLITE_IOERR)}},xTruncate:function(Ze,ue){const Ne=Y(Ze);Ne.log(`xTruncate ${ue}`),Ne.storeErr();const Ke=Ne.getOFileForS3File(Ze);try{return Ke.sah.truncate(oe+Number(ue)),0}catch(et){return Ne.storeErr(et,k.SQLITE_IOERR)}},xUnlock:function(Ze,ue){const Ne=Y(Ze);Ne.log("xUnlock");const Ke=Ne.getOFileForS3File(Ze);return Ke.lockType=ue,0},xWrite:function(Ze,ue,Ne,Ke){const et=Y(Ze);et.storeErr();const Ot=et.getOFileForS3File(Ze);et.log(`xWrite ${Ot.path} ${Ne} ${Ke}`);try{const Wt=Ot.sah.write(te.heap8u().subarray(ue,ue+Ne),{at:oe+Number(Ke)});return Ne===Wt?0:y("Unknown write() failure.")}catch(Wt){return et.storeErr(Wt,k.SQLITE_IOERR)}}},$=new k.sqlite3_io_methods;$.$iVersion=1,f.vfs.installVfs({io:{struct:$,methods:M}});const qe={xAccess:function(Ze,ue,Ne,Ke){const et=fe(Ze);et.storeErr();try{const Ot=et.getPath(ue);te.poke32(Ke,et.hasFilename(Ot)?1:0)}catch{te.poke32(Ke,0)}return 0},xCurrentTime:function(Ze,ue){return te.poke(ue,2440587.5+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(Ze,ue){return te.poke(ue,2440587.5*864e5+new Date().getTime(),"i64"),0},xDelete:function(Ze,ue,Ne){const Ke=fe(Ze);Ke.log(`xDelete ${te.cstrToJs(ue)}`),Ke.storeErr();try{return Ke.deletePath(Ke.getPath(ue)),0}catch(et){return Ke.storeErr(et),k.SQLITE_IOERR_DELETE}},xFullPathname:function(Ze,ue,Ne,Ke){return te.cstrncpy(Ke,ue,Ne)<Ne?0:k.SQLITE_CANTOPEN},xGetLastError:function(Ze,ue,Ne){const Ke=fe(Ze),et=Ke.popErr();if(Ke.log(`xGetLastError ${ue} e =`,et),et){const Ot=te.scopedAllocPush();try{const[Wt,Se]=te.scopedAllocCString(et.message,!0);te.cstrncpy(Ne,Wt,ue),Se>ue&&te.poke8(Ne+ue-1,0)}catch{return k.SQLITE_NOMEM}finally{te.scopedAllocPop(Ot)}}return et?et.sqlite3Rc||k.SQLITE_IOERR:0},xOpen:function(ue,Ne,Ke,et,Ot){const Wt=fe(ue);try{Wt.log(`xOpen ${te.cstrToJs(Ne)} ${et}`);const Se=Ne&&te.peek8(Ne)?Wt.getPath(Ne):We();let Ve=Wt.getSAHForPath(Se);!Ve&&et&k.SQLITE_OPEN_CREATE&&(Wt.getFileCount()<Wt.getCapacity()?(Ve=Wt.nextAvailableSAH(),Wt.setAssociatedPath(Ve,Se,et)):y("SAH pool is full. Cannot create file",Se)),Ve||y("file not found:",Se);const Xe={path:Se,flags:et,sah:Ve};Wt.mapS3FileToOFile(Ke,Xe),Xe.lockType=k.SQLITE_LOCK_NONE;const bt=new k.sqlite3_file(Ke);return bt.$pMethods=$.pointer,bt.dispose(),te.poke32(Ot,et),0}catch(Se){return Wt.storeErr(Se),k.SQLITE_CANTOPEN}}},He=function(Ze){f.capi.sqlite3_vfs_find(Ze)&&_("VFS name is already registered:",Ze);const ue=new k.sqlite3_vfs,Ne=k.sqlite3_vfs_find(null),Ke=Ne?new k.sqlite3_vfs(Ne):null;return ue.$iVersion=2,ue.$szOsFile=k.sqlite3_file.structInfo.sizeof,ue.$mxPathname=ze,ue.addOnDispose(ue.$zName=te.allocCString(Ze),()=>Qe(ue.pointer,0)),Ke&&(ue.$xRandomness=Ke.$xRandomness,ue.$xSleep=Ke.$xSleep,Ke.dispose()),!ue.$xRandomness&&!qe.xRandomness&&(qe.xRandomness=function(et,Ot,Wt){const Se=te.heap8u();let Ve=0;for(;Ve<Ot;++Ve)Se[Wt+Ve]=Math.random()*255e3&255;return Ve}),!ue.$xSleep&&!qe.xSleep&&(qe.xSleep=(et,Ot)=>0),f.vfs.installVfs({vfs:{struct:ue,methods:qe}}),ue};class St{vfsDir;#e;#t;#r;#n=new Map;#i=new Map;#s=new Set;#o=new Map;#a=new Uint8Array(Ae);#u;#l;#c;constructor(ue=Object.create(null)){this.#c=ue.verbosity??De.verbosity,this.vfsName=ue.name||De.name,this.#l=He(this.vfsName),Qe(this.#l.pointer,this),this.vfsDir=ue.directory||"."+this.vfsName,this.#u=new DataView(this.#a.buffer,this.#a.byteOffset),this.isReady=this.reset(!!(ue.clearOnInit??De.clearOnInit)).then(()=>{if(this.$error)throw this.$error;return this.getCapacity()?Promise.resolve(void 0):this.addCapacity(ue.initialCapacity||De.initialCapacity)})}#d(ue,...Ne){this.#c>ue&&ht[ue](this.vfsName+":",...Ne)}log(...ue){this.#d(2,...ue)}warn(...ue){this.#d(1,...ue)}error(...ue){this.#d(0,...ue)}getVfs(){return this.#l}getCapacity(){return this.#n.size}getFileCount(){return this.#i.size}getFileNames(){const ue=[],Ne=this.#i.keys();for(const Ke of Ne)ue.push(Ke);return ue}async addCapacity(ue){for(let Ne=0;Ne<ue;++Ne){const Ke=We(),Ot=await (await this.#t.getFileHandle(Ke,{create:!0})).createSyncAccessHandle();this.#n.set(Ot,Ke),this.setAssociatedPath(Ot,"",0)}return this.getCapacity()}async reduceCapacity(ue){let Ne=0;for(const Ke of Array.from(this.#s)){if(Ne===ue||this.getFileCount()===this.getCapacity())break;const et=this.#n.get(Ke);Ke.close(),await this.#t.removeEntry(et),this.#n.delete(Ke),this.#s.delete(Ke),++Ne}return Ne}releaseAccessHandles(){for(const ue of this.#n.keys())ue.close();this.#n.clear(),this.#i.clear(),this.#s.clear()}async acquireAccessHandles(ue){const Ne=[];for await(const[Ke,et]of this.#t)et.kind==="file"&&Ne.push([Ke,et]);return Promise.all(Ne.map(async([Ke,et])=>{try{const Ot=await et.createSyncAccessHandle();if(this.#n.set(Ot,Ke),ue)Ot.truncate(oe),this.setAssociatedPath(Ot,"",0);else{const Wt=this.getAssociatedPath(Ot);Wt?this.#i.set(Wt,Ot):this.#s.add(Ot)}}catch(Ot){throw this.storeErr(Ot),this.releaseAccessHandles(),Ot}}))}getAssociatedPath(ue){ue.read(this.#a,{at:0});const Ne=this.#u.getUint32(we);if(this.#a[0]&&(Ne&k.SQLITE_OPEN_DELETEONCLOSE||!(Ne&he)))return j(`Removing file with unexpected flags ${Ne.toString(16)}`,this.#a),this.setAssociatedPath(ue,"",0),"";const Ke=new Uint32Array(rt/4);ue.read(Ke,{at:Ue});const et=this.computeDigest(this.#a);if(Ke.every((Ot,Wt)=>Ot===et[Wt])){const Ot=this.#a.findIndex(Wt=>Wt===0);return Ot===0&&ue.truncate(oe),Ot?Be.decode(this.#a.subarray(0,Ot)):""}else return j("Disassociating file with bad digest."),this.setAssociatedPath(ue,"",0),""}setAssociatedPath(ue,Ne,Ke){const et=be.encodeInto(Ne,this.#a);ze<=et.written+1&&y("Path too long:",Ne),this.#a.fill(0,et.written,ze),this.#u.setUint32(we,Ke);const Ot=this.computeDigest(this.#a);ue.write(this.#a,{at:0}),ue.write(Ot,{at:Ue}),ue.flush(),Ne?(this.#i.set(Ne,ue),this.#s.delete(ue)):(ue.truncate(oe),this.#s.add(ue))}computeDigest(ue){let Ne=0xdeadbeef,Ke=0x41c6ce57;for(const et of ue)Ne=31*Ne+et*307,Ke=31*Ke+et*307;return new Uint32Array([Ne>>>0,Ke>>>0])}async reset(ue){await this.isReady;let Ne=await navigator.storage.getDirectory(),Ke;for(const et of this.vfsDir.split("/"))et&&(Ke=Ne,Ne=await Ne.getDirectoryHandle(et,{create:!0}));return this.#e=Ne,this.#r=Ke,this.#t=await this.#e.getDirectoryHandle(_e,{create:!0}),this.releaseAccessHandles(),this.acquireAccessHandles(ue)}getPath(ue){return te.isPtr(ue)&&(ue=te.cstrToJs(ue)),(ue instanceof URL?ue:new URL(ue,"file://localhost/")).pathname}deletePath(ue){const Ne=this.#i.get(ue);return Ne&&(this.#i.delete(ue),this.setAssociatedPath(Ne,"",0)),!!Ne}storeErr(ue,Ne){return ue&&(ue.sqlite3Rc=Ne||k.SQLITE_IOERR,this.error(ue)),this.$error=ue,Ne}popErr(){const ue=this.$error;return this.$error=void 0,ue}nextAvailableSAH(){const[ue]=this.#s.keys();return ue}getOFileForS3File(ue){return this.#o.get(ue)}mapS3FileToOFile(ue,Ne){Ne?(this.#o.set(ue,Ne),O(ue,this)):(this.#o.delete(ue),O(ue,!1))}hasFilename(ue){return this.#i.has(ue)}getSAHForPath(ue){return this.#i.get(ue)}async removeVfs(){if(!this.#l.pointer||!this.#t)return!1;k.sqlite3_vfs_unregister(this.#l.pointer),this.#l.dispose(),delete S[this.vfsName];try{this.releaseAccessHandles(),await this.#e.removeEntry(_e,{recursive:!0}),this.#t=void 0,await this.#r.removeEntry(this.#e.name,{recursive:!0}),this.#e=this.#r=void 0}catch(ue){f.config.error(this.vfsName,"removeVfs() failed:",ue)}return!0}exportFile(ue){const Ne=this.#i.get(ue)||y("File not found:",ue),Ke=Ne.getSize()-oe,et=new Uint8Array(Ke>0?Ke:0);if(Ke>0){const Ot=Ne.read(et,{at:oe});Ot!=Ke&&y("Expected to read "+Ke+" bytes but read "+Ot+".")}return et}async importDbChunked(ue,Ne){const Ke=this.#i.get(ue)||this.nextAvailableSAH()||y("No available handles to import to.");Ke.truncate(0);let et=0,Ot,Wt=!1;try{for(;(Ot=await Ne())!==void 0;)Ot instanceof ArrayBuffer&&(Ot=new Uint8Array(Ot)),et===0&&Ot.byteLength>=15&&(X.affirmDbHeader(Ot),Wt=!0),Ke.write(Ot,{at:oe+et}),et+=Ot.byteLength;if((et<512||et%512!==0)&&y("Input size",et,"is not correct for an SQLite database."),!Wt){const Se=new Uint8Array(20);Ke.read(Se,{at:0}),X.affirmDbHeader(Se)}Ke.write(new Uint8Array([1,1]),{at:oe+18})}catch(Se){throw this.setAssociatedPath(Ke,"",0),Se}return this.setAssociatedPath(Ke,ue,k.SQLITE_OPEN_MAIN_DB),et}importDb(ue,Ne){if(Ne instanceof ArrayBuffer)Ne=new Uint8Array(Ne);else if(Ne instanceof Function)return this.importDbChunked(ue,Ne);const Ke=this.#i.get(ue)||this.nextAvailableSAH()||y("No available handles to import to."),et=Ne.byteLength;(et<512||et%512!=0)&&y("Byte array size is invalid for an SQLite db.");const Ot="SQLite format 3";for(let Se=0;Se<Ot.length;++Se)Ot.charCodeAt(Se)!==Ne[Se]&&y("Input does not contain an SQLite database header.");const Wt=Ke.write(Ne,{at:oe});return Wt!=et?(this.setAssociatedPath(Ke,"",0),y("Expected to write "+et+" bytes but wrote "+Wt+".")):(Ke.write(new Uint8Array([1,1]),{at:oe+18}),this.setAssociatedPath(Ke,ue,k.SQLITE_OPEN_MAIN_DB)),Wt}}class Ft{#e;constructor(ue){this.#e=ue,this.vfsName=ue.vfsName}async addCapacity(ue){return this.#e.addCapacity(ue)}async reduceCapacity(ue){return this.#e.reduceCapacity(ue)}getCapacity(){return this.#e.getCapacity(this.#e)}getFileCount(){return this.#e.getFileCount()}getFileNames(){return this.#e.getFileNames()}async reserveMinimumCapacity(ue){const Ne=this.#e.getCapacity();return Ne<ue?this.#e.addCapacity(ue-Ne):Ne}exportFile(ue){return this.#e.exportFile(ue)}importDb(ue,Ne){return this.#e.importDb(ue,Ne)}async wipeFiles(){return this.#e.reset(!0)}unlink(ue){return this.#e.deletePath(ue)}async removeVfs(){return this.#e.removeVfs()}}const Bt=async()=>{const Ze=await navigator.storage.getDirectory(),ue=".opfs-sahpool-sync-check-"+We(),et=(await (await Ze.getFileHandle(ue,{create:!0})).createSyncAccessHandle()).close();return await et,await Ze.removeEntry(ue),et?.then&&y("The local OPFS API is too old for opfs-sahpool:","it has an async FileSystemSyncAccessHandle.close() method."),!0};f.installOpfsSAHPoolVfs=async function(Ze=Object.create(null)){Ze=Object.assign(Object.create(null),De,Ze||{});const ue=Ze.name;if(Ze.$testThrowPhase1)throw Ze.$testThrowPhase1;if(S[ue])try{return await S[ue]}catch(Ne){if(Ze.forceReinitIfPreviouslyFailed)delete S[ue];else throw Ne}return!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory?S[ue]=Promise.reject(new Error("Missing required OPFS APIs.")):S[ue]=Bt().then(async function(){if(Ze.$testThrowPhase2)throw Ze.$testThrowPhase2;const Ne=new St(Ze);return Ne.isReady.then(async()=>{const Ke=new Ft(Ne);if(f.oo1){const et=f.oo1,Ot=Ne.getVfs(),Wt=function(...Se){const Ve=et.DB.dbCtorHelper.normalizeArgs(...Se);Ve.vfs=Ot.$zName,et.DB.dbCtorHelper.call(this,Ve)};Wt.prototype=Object.create(et.DB.prototype),Ke.OpfsSAHPoolDb=Wt}return Ne.log("VFS initialized."),Ke}).catch(async Ke=>{throw await Ne.removeVfs().catch(()=>{}),Ke})}).catch(Ne=>S[ue]=Promise.reject(Ne))}}),typeof d<"u"){const f=Object.assign(Object.create(null),{exports:typeof ee>"u"?d.asm:ee,memory:d.wasmMemory},globalThis.sqlite3ApiConfig||{});globalThis.sqlite3ApiConfig=f;let y;try{y=globalThis.sqlite3ApiBootstrap()}catch(_){throw console.error("sqlite3ApiBootstrap() error:",_),_}finally{delete globalThis.sqlite3ApiBootstrap,delete globalThis.sqlite3ApiConfig}d.sqlite3=y}else console.warn("This is not running in an Emscripten module context, so","globalThis.sqlite3ApiBootstrap() is _not_ being called due to lack","of config info for the WASM environment.","It must be called manually.")}),r=l,r}})();const X2=function(){const t=db;if(!t)throw new Error("Expecting globalThis.sqlite3InitModule to be defined by the Emscripten build.");const e=globalThis.sqlite3InitModuleState=Object.assign(Object.create(null),{moduleScript:globalThis?.document?.currentScript,isWorker:typeof WorkerGlobalScope<"u",location:globalThis.location,urlParams:globalThis?.location?.href?new URL(globalThis.location.href).searchParams:new URLSearchParams});if(e.debugModule=e.urlParams.has("sqlite3.debugModule")?(...r)=>console.warn("sqlite3.debugModule:",...r):()=>{},e.urlParams.has("sqlite3.dir"))e.sqlite3Dir=e.urlParams.get("sqlite3.dir")+"/";else if(e.moduleScript){const r=e.moduleScript.src.split("/");r.pop(),e.sqlite3Dir=r.join("/")+"/"}if(globalThis.sqlite3InitModule=function r(...n){return t(...n).then(o=>{const a=o.sqlite3;a.scriptInfo=e,r.__isUnderTest&&(a.__isUnderTest=!0);const l=a.asyncPostInit;return delete a.asyncPostInit,l()}).catch(o=>{throw console.error("Exception loading sqlite3 module:",o),o})},globalThis.sqlite3InitModule.ready=t.ready,globalThis.sqlite3InitModuleState.moduleScript){const r=globalThis.sqlite3InitModuleState;let n=r.moduleScript.src.split("/");n.pop(),r.scriptDir=n.join("/")+"/"}return e.debugModule("sqlite3InitModuleState =",e),globalThis.sqlite3InitModule}();db=X2;const Y2=db;globalThis.sqlite3Worker1Promiser=function t(e=t.defaultConfig){if(arguments.length===1&&typeof arguments[0]=="function"){const x=e;e=Object.assign(Object.create(null),t.defaultConfig),e.onready=x}else e=Object.assign(Object.create(null),t.defaultConfig,e);const r=Object.create(null),n=function(){},o=e.onerror||n,a=e.debug||n,l=e.generateMessageId?void 0:Object.create(null),c=e.generateMessageId||function(x){return x.type+"#"+(l[x.type]=(l[x.type]||0)+1)},p=(...x)=>{throw new Error(x.join(" "))};e.worker||(e.worker=t.defaultConfig.worker),typeof e.worker=="function"&&(e.worker=e.worker());let m,b;return e.worker.onmessage=function(x){x=x.data,a("worker1.onmessage",x);let N=r[x.messageId];if(!N){if(x&&x.type==="sqlite3-api"&&x.result==="worker1-ready"){e.onready&&e.onready(b);return}if(N=r[x.type],N&&N.onrow){N.onrow(x);return}e.onunhandled?e.onunhandled(arguments[0]):o("sqlite3Worker1Promiser() unhandled worker message:",x);return}switch(delete r[x.messageId],x.type){case"error":N.reject(x);return;case"open":m||(m=x.dbId);break;case"close":x.dbId===m&&(m=void 0);break}try{N.resolve(x)}catch(q){N.reject(q)}},b=function(){let x;arguments.length===1?x=arguments[0]:arguments.length===2?(x=Object.create(null),x.type=arguments[0],x.args=arguments[1],x.dbId=x.args.dbId):p("Invalid arguments for sqlite3Worker1Promiser()-created factory."),!x.dbId&&x.type!=="open"&&(x.dbId=m),x.messageId=c(x),x.departureTime=performance.now();const N=Object.create(null);N.message=x;let q;x.type==="exec"&&x.args&&(typeof x.args.callback=="function"?(q=x.messageId+":row",N.onrow=x.args.callback,x.args.callback=q,r[q]=N):typeof x.args.callback=="string"&&p("exec callback may not be a string when using the Promise interface."));let R=new Promise(function(C,L){N.resolve=C,N.reject=L,r[x.messageId]=N,a("Posting",x.type,"message to Worker dbId="+(m||"default")+":",x),e.worker.postMessage(x)});return q&&(R=R.finally(()=>delete r[q])),R}};globalThis.sqlite3Worker1Promiser.defaultConfig={worker:function(){return new Worker(new URL("/assets/sqlite3-worker1-bundler-friendly-BF9rosUC.js",import.meta.url),{type:"module"})},onerror:(...t)=>console.error("worker1 promiser error",...t)};sqlite3Worker1Promiser.v2=function(t){let e;typeof t=="function"?(e=t,t={}):typeof t?.onready=="function"&&(e=t.onready,delete t.onready);const r=Object.create(null);t=Object.assign(t||Object.create(null),{onready:async function(o){try{e&&await e(o),r.resolve(o)}catch(a){r.reject(a)}}});const n=new Promise(function(o,a){r.resolve=o,r.reject=a});try{this.original(t)}catch(o){r.reject(o)}return n}.bind({original:sqlite3Worker1Promiser});sqlite3Worker1Promiser.v2;function OE(){let t,e;return{lock:async()=>{for(;t;)await t;t=new Promise(o=>{e=o})},unlock:async()=>{const o=e;t=void 0,e=void 0,o?.()}}}function lv(t,e){const r={rows:[],columns:[]},n=t.exec({sql:e.sql,bind:e.params,returnValue:"resultRows",rowMode:"array",columnNames:r.columns});switch(e.method){case"run":break;case"get":r.rows=n[0]??[];break;case"all":default:r.rows=n;break}return r}function t3(t){const e=t.split(/[\\/]/).filter(a=>a!==""),r=e.pop();if(!r)throw new Error("Database path is invalid.");const n=["journal","wal","shm"].map(a=>`${r}-${a}`);return{directories:e,fileName:r,tempFileNames:n,getDirectoryHandle:async()=>{let a=await navigator.storage.getDirectory();for(let l of e)a=await a.getDirectoryHandle(l);return a}}}async function u_(t,e){let r;if(t instanceof Blob?r=t.stream():r=t,r instanceof ReadableStream&&e){const o=r.getReader();switch(e){case"callback":return async()=>(await o.read()).value;case"buffer":const a=[];let l=!1;for(;!l;){const b=await o.read();b.value&&a.push(b.value),l=b.done}const c=a.reduce((b,x)=>b+x.length,0),p=new Uint8Array(c);let m=0;return a.forEach(b=>{p.set(b,m),m+=b.length}),p}}else return r}class eD{constructor(e){Object.defineProperty(this,"sqlite3",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"db",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dbStorageType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"pointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"userFunctions",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"initMutex",{enumerable:!0,configurable:!0,writable:!0,value:OE()}),Object.defineProperty(this,"transactionMutex",{enumerable:!0,configurable:!0,writable:!0,value:OE()}),Object.defineProperty(this,"transactionKey",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"proxy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reinitChannel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onmessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"init",{enumerable:!0,configurable:!0,writable:!0,value:async n=>{if(!this.config.databasePath)return;await this.initMutex.lock();const{databasePath:o,readOnly:a,verbose:l}=this.config,c=[a===!0?"r":"cw",l===!0?"t":""].join("");try{this.sqlite3||(this.sqlite3=await Y2()),this.db&&this.destroy(),"opfs"in this.sqlite3&&o!==":memory:"?(this.db=new this.sqlite3.oo1.OpfsDb(o,c),this.dbStorageType="opfs"):(this.db=new this.sqlite3.oo1.DB(o,c),this.dbStorageType="memory",o!==":memory:"&&console.warn(`The origin private file system is not available, so ${o} will not be persisted. Make sure your web server is configured to use the correct HTTP response headers (See https://sqlocal.dallashoffman.com/guide/setup#cross-origin-isolation).`)),this.dbStorageType!=="memory"&&(this.reinitChannel=new BroadcastChannel(`_sqlocal_reinit_(${o})`),this.reinitChannel.onmessage=p=>{this.config.clientKey!==p.data.clientKey&&this.init(p.data.reason)}),this.userFunctions.forEach(this.initUserFunction),this.execInitStatements(),this.emitMessage({type:"event",event:"connect",reason:n})}catch(p){this.emitMessage({type:"error",error:p,queryKey:null}),this.destroy()}finally{await this.initMutex.unlock()}}}),Object.defineProperty(this,"postMessage",{enumerable:!0,configurable:!0,writable:!0,value:async(n,o)=>{const a=n instanceof MessageEvent?n.data:n;switch(await this.initMutex.lock(),a.type){case"config":this.editConfig(a);break;case"query":case"batch":case"transaction":this.exec(a);break;case"function":this.createUserFunction(a);break;case"getinfo":this.getDatabaseInfo(a);break;case"import":this.importDb(a);break;case"export":this.exportDb(a);break;case"delete":this.deleteDb(a);break;case"destroy":this.destroy(a);break}await this.initMutex.unlock()}}),Object.defineProperty(this,"emitMessage",{enumerable:!0,configurable:!0,writable:!0,value:(n,o=[])=>{this.onmessage&&this.onmessage(n,o)}}),Object.defineProperty(this,"editConfig",{enumerable:!0,configurable:!0,writable:!0,value:n=>{this.config=n.config,this.init("initial")}}),Object.defineProperty(this,"exec",{enumerable:!0,configurable:!0,writable:!0,value:async n=>{if(this.db)try{const o={type:"data",queryKey:n.queryKey,data:[]};switch(n.type){case"query":const a=this.transactionKey!==null&&this.transactionKey===n.transactionKey;try{a||await this.transactionMutex.lock();const l=lv(this.db,n);o.data.push(l)}finally{a||await this.transactionMutex.unlock()}break;case"batch":try{await this.transactionMutex.lock(),this.db.transaction(l=>{for(let c of n.statements){const p=lv(l,c);o.data.push(p)}})}finally{await this.transactionMutex.unlock()}break;case"transaction":if(n.action==="begin"&&(await this.transactionMutex.lock(),this.transactionKey=n.transactionKey,this.db.exec({sql:"BEGIN"})),(n.action==="commit"||n.action==="rollback")&&this.transactionKey!==null&&this.transactionKey===n.transactionKey){const l=n.action==="commit"?"COMMIT":"ROLLBACK";this.db.exec({sql:l}),this.transactionKey=null,await this.transactionMutex.unlock()}break}this.emitMessage(o)}catch(o){this.emitMessage({type:"error",error:o,queryKey:n.queryKey})}}}),Object.defineProperty(this,"execInitStatements",{enumerable:!0,configurable:!0,writable:!0,value:()=>{if(this.db&&this.config.onInitStatements)for(let n of this.config.onInitStatements)lv(this.db,n)}}),Object.defineProperty(this,"getDatabaseInfo",{enumerable:!0,configurable:!0,writable:!0,value:async n=>{try{const o=this.config.databasePath,a=this.dbStorageType,l=a!==void 0?a!=="memory"?await navigator.storage?.persisted():!1:void 0,p=this.db?.exec({sql:"SELECT page_count * page_size AS size FROM pragma_page_count(), pragma_page_size()",returnValue:"resultRows",rowMode:"array"})?.[0]?.[0],m=typeof p=="number"?p:void 0;this.emitMessage({type:"info",queryKey:n.queryKey,info:{databasePath:o,databaseSizeBytes:m,storageType:a,persisted:l}})}catch(o){this.emitMessage({type:"error",queryKey:n.queryKey,error:o})}}}),Object.defineProperty(this,"createUserFunction",{enumerable:!0,configurable:!0,writable:!0,value:n=>{const{functionName:o,functionType:a,queryKey:l}=n;let c;if(this.userFunctions.has(o)){this.emitMessage({type:"error",error:new Error(`A user-defined function with the name "${o}" has already been created for this SQLocal instance.`),queryKey:l});return}a==="callback"?c=(...p)=>{this.emitMessage({type:"callback",name:o,args:p})}:c=this.proxy[`_sqlocal_func_${o}`];try{this.initUserFunction({type:a,name:o,func:c}),this.emitMessage({type:"success",queryKey:l})}catch(p){this.emitMessage({type:"error",error:p,queryKey:l})}}}),Object.defineProperty(this,"initUserFunction",{enumerable:!0,configurable:!0,writable:!0,value:n=>{this.db&&(this.db.createFunction({name:n.name,xFunc:(o,...a)=>n.func(...a),arity:-1}),this.userFunctions.set(n.name,n))}}),Object.defineProperty(this,"importDb",{enumerable:!0,configurable:!0,writable:!0,value:async n=>{if(!this.sqlite3||!this.config.databasePath||!this.db)return;const{queryKey:o,database:a}=n;let l=!1;try{if(this.dbStorageType==="opfs"){this.destroy();const c=await u_(a,"callback");await this.sqlite3.oo1.OpfsDb.importDb(this.config.databasePath,c)}else{const c=await u_(a,"buffer"),p=this.sqlite3.wasm.allocFromTypedArray(c);this.pointers.push(p);const m=this.sqlite3.capi.sqlite3_deserialize(this.db,"main",p,c.byteLength,c.byteLength,this.config.readOnly?this.sqlite3.capi.SQLITE_DESERIALIZE_READONLY:this.sqlite3.capi.SQLITE_DESERIALIZE_RESIZEABLE);this.db.checkRc(m),this.execInitStatements()}}catch(c){this.emitMessage({type:"error",error:c,queryKey:o}),l=!0}finally{this.dbStorageType!=="memory"&&await this.init("overwrite")}l||this.emitMessage({type:"success",queryKey:o})}}),Object.defineProperty(this,"exportDb",{enumerable:!0,configurable:!0,writable:!0,value:n=>{if(!this.sqlite3||!this.db)return;const{queryKey:o}=n;try{const a=this.sqlite3.capi.sqlite3_js_db_export(this.db);this.emitMessage({type:"buffer",queryKey:o,buffer:a},[a])}catch(a){this.emitMessage({type:"error",error:a,queryKey:o})}}}),Object.defineProperty(this,"deleteDb",{enumerable:!0,configurable:!0,writable:!0,value:async n=>{if(!this.config.databasePath)return;const{queryKey:o}=n;let a=!1;try{if(this.dbStorageType==="opfs"){const{getDirectoryHandle:l,fileName:c,tempFileNames:p}=t3(this.config.databasePath),m=await l(),b=[c,...p];this.destroy(),await Promise.all(b.map(async x=>m.removeEntry(x).catch(N=>{if(!(N instanceof DOMException&&N.name==="NotFoundError"))throw N})))}else this.destroy()}catch(l){this.emitMessage({type:"error",error:l,queryKey:o}),a=!0}finally{await this.init("delete")}a||this.emitMessage({type:"success",queryKey:o})}}),Object.defineProperty(this,"destroy",{enumerable:!0,configurable:!0,writable:!0,value:n=>{this.db&&(this.db.exec({sql:"PRAGMA optimize"}),this.db.close(),this.db=void 0,this.dbStorageType=void 0),this.reinitChannel&&(this.reinitChannel.close(),this.reinitChannel=void 0),this.pointers.forEach(o=>this.sqlite3?.wasm.dealloc(o)),this.pointers=[],n&&this.emitMessage({type:"success",queryKey:n.queryKey})}});const r=e?globalThis:cb(globalThis);this.proxy=r,this.init("initial")}}function vp(t,...e){return{sql:t.join("?"),params:e}}function tD(t){return!t.some(e=>!Array.isArray(e))}function uv(t,e){let r;return tD(t)?r=t:r=[t],r.map(n=>{const o={};return e.forEach((a,l)=>{o[a]=n[l]}),o})}function rD(t){return typeof t=="object"&&t!==null&&"getSQL"in t&&typeof t.getSQL=="function"}function nD(t){return typeof t=="object"&&t!==null&&"sql"in t&&typeof t.sql=="string"&&"params"in t}function iD(t){if(typeof t=="function"&&(t=t(vp)),rD(t))try{if(!("toSQL"in t&&typeof t.toSQL=="function"))throw 1;const n=t.toSQL();if(!nD(n))throw 2;return n}catch{throw new Error("The passed statement could not be parsed.")}const e=t.sql;let r=[];return"params"in t?r=t.params:"parameters"in t&&(r=t.parameters),{sql:e,params:r}}function cv(){return crypto.randomUUID()}function TE(t,e){let r;return typeof t=="string"?r={sql:t,params:e}:r=vp(t,...e),r}async function fh(t,e,r,n){return!e&&"locks"in navigator?navigator.locks.request(`_sqlocal_mutation_(${r.databasePath})`,{mode:t},n):n()}class sD{constructor(e){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isDestroyed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"bypassMutationLock",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"userCallbacks",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"queriesInProgress",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"proxy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reinitChannel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"processMessageEvent",{enumerable:!0,configurable:!0,writable:!0,value:l=>{const c=l instanceof MessageEvent?l.data:l,p=this.queriesInProgress;switch(c.type){case"success":case"data":case"buffer":case"info":case"error":if(c.queryKey&&p.has(c.queryKey)){const[b,x]=p.get(c.queryKey);c.type==="error"?x(c.error):b(c),p.delete(c.queryKey)}else if(c.type==="error")throw c.error;break;case"callback":const m=this.userCallbacks.get(c.name);m&&m(...c.args??[]);break;case"event":this.config.onConnect?.(c.reason);break}}}),Object.defineProperty(this,"createQuery",{enumerable:!0,configurable:!0,writable:!0,value:async l=>fh("shared",this.bypassMutationLock||l.type==="import"||l.type==="delete",this.config,async()=>{if(this.isDestroyed===!0)throw new Error("This SQLocal client has been destroyed. You will need to initialize a new client in order to make further queries.");const c=cv();switch(l.type){case"import":this.processor.postMessage({...l,queryKey:c},[l.database]);break;default:this.processor.postMessage({...l,queryKey:c});break}return new Promise((p,m)=>{this.queriesInProgress.set(c,[p,m])})})}),Object.defineProperty(this,"exec",{enumerable:!0,configurable:!0,writable:!0,value:async(l,c,p="all",m)=>{const b=await this.createQuery({type:"query",transactionKey:m,sql:l,params:c,method:p}),x={rows:[],columns:[]};return b.type==="data"&&(x.rows=b.data[0]?.rows??[],x.columns=b.data[0]?.columns??[]),x}}),Object.defineProperty(this,"execBatch",{enumerable:!0,configurable:!0,writable:!0,value:async l=>{const c=await this.createQuery({type:"batch",statements:l}),p=new Array(l.length).fill({rows:[],columns:[]});return c.type==="data"&&c.data.forEach((m,b)=>{p[b]=m}),p}}),Object.defineProperty(this,"sql",{enumerable:!0,configurable:!0,writable:!0,value:async(l,...c)=>{const p=TE(l,c),{rows:m,columns:b}=await this.exec(p.sql,p.params,"all");return uv(m,b)}}),Object.defineProperty(this,"batch",{enumerable:!0,configurable:!0,writable:!0,value:async l=>{const c=l(vp);return(await this.execBatch(c)).map(({rows:m,columns:b})=>uv(m,b))}}),Object.defineProperty(this,"beginTransaction",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{const l=cv();await this.createQuery({type:"transaction",transactionKey:l,action:"begin"});const c=async x=>{const N=iD(x),{rows:q,columns:R}=await this.exec(N.sql,N.params,"all",l);return uv(q,R)};return{query:c,sql:async(x,...N)=>{const q=TE(x,N);return await c(q)},commit:async()=>{await this.createQuery({type:"transaction",transactionKey:l,action:"commit"})},rollback:async()=>{await this.createQuery({type:"transaction",transactionKey:l,action:"rollback"})}}}}),Object.defineProperty(this,"transaction",{enumerable:!0,configurable:!0,writable:!0,value:async l=>fh("exclusive",!1,this.config,async()=>{let c;this.bypassMutationLock=!0;try{c=await this.beginTransaction();const p=await l({sql:c.sql,query:c.query});return await c.commit(),p}catch(p){throw await c?.rollback(),p}finally{this.bypassMutationLock=!1}})}),Object.defineProperty(this,"createCallbackFunction",{enumerable:!0,configurable:!0,writable:!0,value:async(l,c)=>{await this.createQuery({type:"function",functionName:l,functionType:"callback"}),this.userCallbacks.set(l,c)}}),Object.defineProperty(this,"createScalarFunction",{enumerable:!0,configurable:!0,writable:!0,value:async(l,c)=>{const p=`_sqlocal_func_${l}`;this.proxy===globalThis&&(this.proxy[p]=c),await this.createQuery({type:"function",functionName:l,functionType:"scalar"}),this.proxy!==globalThis&&(this.proxy[p]=c)}}),Object.defineProperty(this,"getDatabaseInfo",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{const l=await this.createQuery({type:"getinfo"});if(l.type==="info")return l.info;throw new Error("The database failed to return valid information.")}}),Object.defineProperty(this,"getDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{let l,c;const{storageType:p}=await this.getDatabaseInfo();if(p==="opfs"){const m=t3(this.config.databasePath),{directories:b,getDirectoryHandle:x}=m;l=m.fileName;const N=`backup-${Date.now()}--${l}`,q=`${b.join("/")}/${N}`;await this.exec("VACUUM INTO ?",[q]);const R=await x();c=await (await (await R.getFileHandle(N)).getFile()).arrayBuffer(),await R.removeEntry(N)}else{const m=await this.createQuery({type:"export"});if(m.type==="buffer")l="database.sqlite3",c=m.buffer;else throw new Error("The database failed to export.")}return new File([c],l,{type:"application/x-sqlite3"})}}),Object.defineProperty(this,"overwriteDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async(l,c)=>{await fh("exclusive",!1,this.config,async()=>{try{const p=await u_(l);await this.createQuery({type:"import",database:p}),typeof c=="function"&&(this.bypassMutationLock=!0,await c()),this.reinitChannel.postMessage({clientKey:this.clientKey,reason:"overwrite"})}finally{this.bypassMutationLock=!1}})}}),Object.defineProperty(this,"deleteDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async l=>{await fh("exclusive",!1,this.config,async()=>{try{await this.createQuery({type:"delete"}),typeof l=="function"&&(this.bypassMutationLock=!0,await l()),this.reinitChannel.postMessage({clientKey:this.clientKey,reason:"delete"})}finally{this.bypassMutationLock=!1}})}}),Object.defineProperty(this,"destroy",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{await this.createQuery({type:"destroy"}),this.processor instanceof Worker&&(this.processor.removeEventListener("message",this.processMessageEvent),this.processor.terminate()),this.queriesInProgress.clear(),this.userCallbacks.clear(),this.reinitChannel.close(),this.isDestroyed=!0}});const r=typeof e=="string"?{databasePath:e}:e,{onInit:n,onConnect:o,...a}=r;this.config=r,this.clientKey=cv(),this.reinitChannel=new BroadcastChannel(`_sqlocal_reinit_(${a.databasePath})`),typeof globalThis.Worker<"u"&&a.databasePath!==":memory:"?(this.processor=new Worker(new URL("/assets/worker-DxuAzsZq.js",import.meta.url),{type:"module"}),this.processor.addEventListener("message",this.processMessageEvent),this.proxy=cb(this.processor)):(this.processor=new eD(!0),this.processor.onmessage=l=>this.processMessageEvent(l),this.proxy=globalThis),this.processor.postMessage({type:"config",config:{...a,clientKey:this.clientKey,onInitStatements:n?.(vp)??[]}})}}class oD extends sD{constructor(){super(...arguments),Object.defineProperty(this,"dialect",{enumerable:!0,configurable:!0,writable:!0,value:{createAdapter:()=>new U2,createDriver:()=>new aD(this),createIntrospector:e=>new $2(e),createQueryCompiler:()=>new M2}})}}class aD{constructor(e){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:e})}async init(){}async acquireConnection(){return new lD(this.client)}async releaseConnection(){}async beginTransaction(e){e.transaction=await this.client.beginTransaction()}async commitTransaction(e){await e.transaction?.commit(),e.transaction=null}async rollbackTransaction(e){await e.transaction?.rollback(),e.transaction=null}async destroy(){await this.client.destroy()}}class lD{constructor(e){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"transaction",{enumerable:!0,configurable:!0,writable:!0,value:null})}async executeQuery(e){let r;return this.transaction===null?r=await this.client.sql(e.sql,...e.parameters):r=await this.transaction.query(e),{rows:r}}async *streamQuery(){throw new Error("SQLite3 does not support streaming.")}}const uD=({database:t,bootstrap:e})=>{const{dialect:r}=new oD({databasePath:`${t}.sqlite3`}),n=new Ho({dialect:r});return{kysely:n,bootstrap(){return e({kysely:n})}}},ho=lr({slot:{base:["border","border-gray-300","rounded-md","p-4","flex","flex-col","gap-2","items-center"],input:["w-full","border","border-gray-300","rounded-md","p-2","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"]},variant:{isLoading:{true:[]},isSubmitting:{true:[]}},match:[{if:{isSubmitting:!0},then:{base:["opacity-50","pointer-events-none","select-none"]}}],defaults:{isLoading:!1,isSubmitting:!1}}),cD="icon-[material-symbols--error-outline]",dD=lr({slot:{base:["flex","flex-row","gap-1","items-center","text-red-600","p-2"]},variant:{highlight:{true:[]},compact:{true:[]}},match:[{if:{highlight:!0},then:{base:["bg-red-100","p-2","font-bold","border","border-red-200","rounded-md","w-full"]}},{if:{compact:!0},then:{base:["p-0"]}}],defaults:{highlight:!1,compact:!1}}),Is=({error:t,variant:e,tva:r=dD,css:n})=>{const o=r({...e,css:n}).slots;return t?.message?g.jsxs("div",{className:o.base(),children:[g.jsx(wr,{icon:cD}),g.jsx("span",{children:tl.rich(t.message)})]}):null},fD=lr({slot:{base:["flex","flex-col","gap-1","w-full"],input:[]},variant:{required:{true:[]},disabled:{true:[]},isSubmitting:{true:[]},isLoading:{true:[]},isError:{true:[]}},match:[{if:{isError:!0},then:{base:["text-red-600"]}},{if:{required:!0},then:{base:["text-amber-600"]}}],defaults:{required:!1,disabled:!1,isSubmitting:!1,isLoading:!1,isError:!1}}),zr=({label:t,hint:e,required:r=!1,formState:n,name:o,children:a,variant:l,tva:c=fD,css:p})=>{const m=c({isSubmitting:n.isSubmitting,isLoading:n.isLoading,isError:!!n.errors[o],required:r,...l,css:p}).slots;return g.jsxs("div",{className:m.base(),children:[g.jsxs("div",{className:"flex flex-row justify-between",children:[t?g.jsx("label",{htmlFor:o,children:t}):null,g.jsx(Is,{variant:{compact:!0},error:n.errors[o]})]}),e?g.jsx("div",{className:"text-sm italic",children:e}):null,g.jsx("div",{className:m.input(),children:a})]})},fl=({form:t,mutation:e,onSuccess:r})=>{const n=t.handleSubmit(async o=>e.mutateAsync(o,{onSuccess:r,onError:a=>{T_({error:a,errors:[S_({error:a,schema:R_,onError:({data:l})=>{t.setError("root",{message:l.message})}})],onError:l=>{t.setError("root",{message:l.message})}})}}).catch(()=>{}));return o=>{o.stopPropagation(),n(o)}};function hD(t,e,r,n={leading:!1}){const[o,a]=G.useState(t),[l,c]=G.useState(t),p=G.useRef(null),m=G.useRef(!0),b=()=>window.clearTimeout(p.current||void 0);G.useEffect(()=>b,[]),G.useEffect(()=>{e(o)},[o]),G.useEffect(()=>{c(t),a(t)},[t]);const x=G.useCallback(N=>{c(N),b(),m.current&&n.leading?a(N):p.current=window.setTimeout(()=>{m.current=!0,a(N)},r),m.current=!1},[n.leading]);return[l,x]}const pD=lr({slot:{base:["relative","w-full"],search:["absolute","inset-y-0","left-2","flex","items-center","pointer-events-none","text-slate-500"],input:["pl-8","py-1","w-full","bg-slate-50","text-slate-900","text-sm","border","border-slate-300","rounded","focus:border-sky-400","focus:outline-none","block"],clear:["absolute","inset-y-0","right-2","flex","items-center","cursor-pointer","text-slate-300","hover:text-slate-500"]},variant:{},defaults:{}}),mD=({value:t="",onFulltext:e,textPlaceholder:r,variant:n,tva:o=pD,css:a})=>{const l=o({...n,css:a}).slots,[c,p]=hD(t,m=>{e(m||"")},500);return g.jsxs("div",{className:l.base(),children:[g.jsx("div",{className:l.search(),children:g.jsx(wr,{icon:"icon-[material-symbols-light--search]",variant:{size:"xl"}})}),g.jsx("input",{value:c||"",className:l.input(),type:"text",placeholder:r||tl.text("Fulltext (placeholder)"),onChange:m=>{p(m.target.value)}}),t&&g.jsx("div",{className:l.clear(),onClick:()=>{e("")},children:g.jsx(wr,{icon:"icon-[gridicons--cross]",variant:{size:"md"}})})]})},ga=t=>e=>{t({search:({cursor:r,global:n,...o})=>({...o,global:{...n,fulltext:e},cursor:{...r,page:e?0:r.page}}),replace:!!e})},Ed="icon-[pajamas--go-back]",_p="icon-[line-md--confirm-circle]",yD="icon-[mage--edit]",gD="icon-[arcticons--nothing-x]",vD="icon-[tabler--filter-plus]",AE="icon-[tabler--filter-minus]",fb="icon-[ph--list-dashes-thin]",hb="icon-[material-symbols-light--logout-sharp]",_D="icon-[fluent--shape-intersect-20-regular]",tm="icon-[fluent--checkbox-unchecked-20-regular]",rm="icon-[fluent--checkbox-checked-20-regular]",bD="icon-[ph--gear-thin]",bp="icon-[teenyicons--tag-outline]",zn="icon-[ph--trash]",pb="icon-[ph--user]",dv=async({queryClient:t,keys:e})=>Promise.all(e.map(r=>t.refetchQueries({queryKey:r}))).catch(r=>{console.error(r)}),wD=lr({slot:{base:[],header:["flex","flex-row","items-center","bg-slate-50","shadow-sm","border-b","border-b-slate-200","w-full","gap-4","p-4"],content:["min-h-screen","border-b","border-b-slate-200","mb-4","p-2"]},variant:{},defaults:{}}),xD=()=>g.jsx("div",{className:"text-center text-xs text-gray-500 mb-8",children:void 0}),r3=({logo:t,menu:e,actions:r,variant:n,tva:o=wD,css:a,children:l})=>{const c=o({...n,css:a}).slots;return g.jsxs("div",{className:c.base(),children:[g.jsx(SO,{position:"top-center"}),g.jsxs("div",{className:c.header(),children:[g.jsx("div",{children:t}),g.jsx("div",{className:"flex-grow",children:e}),g.jsx("div",{className:"flex flex-row gap-2 items-center",children:r})]}),g.jsx("div",{className:c.content(),children:l??g.jsx(ul,{})}),g.jsx(xD,{})]})},SD=lr({slot:{base:["flex","flex-row","gap-2","items-center","justify-between","text-blue-500","rounded","px-1","py-0.5","hover:text-blue-700","focus:outline-none","w-fit"]},variant:{},defaults:{}}),ED=G.forwardRef(({icon:t,iconProps:e,variant:r,tva:n=SD,css:o,children:a,...l},c)=>{const p=n({...r,css:o}).slots;return g.jsxs("a",{...l,ref:c,className:p.base(),children:[t&&g.jsx(wr,{icon:t,...e}),a]})}),ND=ON(ED),qi=t=>g.jsx(ND,{preload:"intent",...t}),kD=lr({slot:{base:["fixed","inset-0","h-full","items-center","justify-center","bg-slate-100","flex","transition-all","duration-200","z-[10]","pointer-events-none","bg-opacity-0","backdrop-blur-none"]},variant:{show:{true:["bg-opacity-50","backdrop-blur-sm","pointer-events-auto"]}},defaults:{show:!0}}),qD=({show:t=!0,variant:e,tva:r=kD,css:n})=>{const o=r({show:t,...e,css:n}).slots;return t?g.jsx("div",{className:o.base(),children:g.jsx(wr,{icon:"icon-[svg-spinners--pulse-rings-multiple]",variant:{size:"8xl"},css:{base:["text-sky-400"]}})}):null};var Ah={exports:{}},CD=Ah.exports,IE;function RD(){return IE||(IE=1,function(t,e){(function(r,n){t.exports=n()})(CD,()=>(()=>{var r={d:(R,C)=>{for(var L in C)r.o(C,L)&&!r.o(R,L)&&Object.defineProperty(R,L,{enumerable:!0,get:C[L]})},o:(R,C)=>Object.prototype.hasOwnProperty.call(R,C)},n={};r.d(n,{default:()=>q});const o=(...R)=>{},a=R=>R!==null&&R?.constructor.name==="Object";let l,c;const p=()=>{if(!l){l=!0;try{c=x.storage||localStorage,c.getItem("")}catch{c=(()=>{const R={getItem:L=>C[L]||null,setItem:(L,P)=>{C[L]=P},removeItem:L=>{C[L]=void 0},clear:()=>{C={__proto__:R}}};let C={__proto__:R};return C})()}N()}},m="\0",b=(R,C,L=!0)=>L?[...JSON.stringify(R)].map(P=>String.fromCharCode(P.charCodeAt(0)+C)).join(""):JSON.parse([...R].map(P=>String.fromCharCode(P.charCodeAt(0)-C)).join("")),x={ttl:null,encrypt:!1,encrypter:b,decrypter:(R,C)=>b(R,C,!1),secret:75,storage:void 0};Object.seal(x);const N=(R=!1)=>{p();for(const C of Object.keys(c)){const L=c.getItem(C);let P;try{P=JSON.parse(L||"")}catch{continue}a(P)&&m in P&&(Date.now()>P.ttl||R)&&c.removeItem(C)}},q={config:x,set:(R,C,L={})=>{p();const P={...x,...L,encrypt:L.encrypt!==!1&&(L.encrypt||x.encrypt),ttl:L.ttl===null?null:L.ttl||x.ttl};try{const I=P.ttl&&!isNaN(P.ttl)&&P.ttl>0;let D=I?{[m]:C,ttl:Date.now()+1e3*P.ttl}:C;P.encrypt&&(I?D[m]=(P.encrypter||o)(D[m],P.secret):D=(P.encrypter||o)(D,P.secret)),c.setItem(R,JSON.stringify(D))}catch{return!1}},get:(R,C={})=>{p();const L=c.getItem(R),P={...x,...C,encrypt:C.encrypt!==!1&&(C.encrypt||x.encrypt),ttl:C.ttl===null?null:C.ttl||x.ttl};let I,D;try{I=JSON.parse(L||""),D=a(I)&&m in I,(P.decrypt||P.encrypt)&&(D?I[m]=(P.decrypter||o)(I[m],P.secret):I=(P.decrypter||o)(I,P.secret))}catch{}return D?Date.now()>I.ttl?(c.removeItem(R),null):I[m]:I!==void 0?I:L},flush:N,clear:()=>{p(),c.clear()},remove:R=>{p(),c.removeItem(R)}};return n.default})())}(Ah)),Ah.exports}var OD=RD();const TD=Eu(OD),$d=TD,AD=lr({slot:{base:["flex","flex-row","gap-2","items-center"]},variant:{},defaults:{}}),Ud=({variant:t,tva:e=AD,css:r,children:n})=>{const o=e({...t,css:r}).slots;return g.jsx("div",{className:o.base(),children:n})},ID=lr({slot:{base:["group","relative","cursor-pointer"],label:["flex","flex-row","gap-2","items-center","rounded","px-2","py-1","border","border-b-2","border-transparent","hover:text-slate-500"],items:["flex flex-col w-max gap-2","invisible absolute","group-hover:visible","shadow-md","z-20","bg-white","px-4","py-2"]},variant:{active:{true:[]}},match:[{if:{active:!0},then:{label:["border","border-b-2","border-blue-400","bg-blue-50","hover:border-blue-500","text-slate-800","hover:text-blue-800"]}}],defaults:{active:!1}}),PE=({icon:t,label:e,active:r=[],variant:n,tva:o=ID,css:a,children:l})=>{const c=TN(),p=r.some(b=>!!c(b)),m=o({active:p,...n,css:a}).slots;return g.jsxs("div",{className:m.base(),children:[g.jsxs("div",{className:m.label(),children:[t?g.jsx(wr,{icon:t}):null,e]}),g.jsx("div",{className:m.items(),children:l})]})},PD=lr({slot:{base:["flex","flex-row","gap-2","items-center","rounded","px-2","py-1","border","border-b-2","border-transparent","hover:text-slate-500"]},variant:{active:{true:[]},inner:{true:[]},subtle:{true:[]}},match:[{if:{active:!0,inner:!1},then:{base:["border","border-b-2","border-blue-400","bg-blue-50","hover:border-blue-500","text-slate-800","hover:text-blue-800"]}},{if:{active:!0,inner:!0},then:{base:["border-none","text-blue-600","hover:text-blue-800"]}},{if:{subtle:!0},then:{base:["hover:bg-slate-50","hover:border-slate-300","hover:text-slate-600"]}},{if:{active:!0,subtle:!0},then:{base:["bg-slate-100","border-slate-400"]}}],defaults:{active:!1,inner:!1,subtle:!1}}),FD=G.forwardRef(({icon:t=null,variant:e,tva:r=PD,css:n,children:o,...a},l)=>{const c=r({...e,css:n}).slots;return g.jsxs("a",{...a,className:c.base(),ref:l,children:[q_(t)?g.jsx(wr,{icon:t}):t,o]})}),LD=ON(FD),ii=({active:t=[],variant:e,...r})=>{const n=TN(),o=t.some(a=>!!n(a));return g.jsx(LD,{preload:"intent",variant:{active:!!n({to:r.to,params:r.params})||o,...e},...r})},jD=lr({slot:{base:["flex","flex-row","items-center","gap-2","text-sm","font-semibold"],item:["border","border-blue-200","bg-blue-50","rounded-md","px-2","py-1"],value:["border","border-blue-200","bg-blue-50","rounded-md p-2"]},variant:{},defaults:{}}),DD=({textTitle:t,textEmpty:e,items:r,render:n,limit:o,variant:a,tva:l=jD,css:c})=>{const p=o?r.slice(0,o):r,m=l({...a,css:c}).slots;return g.jsxs("div",{className:m.base(),children:[r.length?null:e,p.map(b=>g.jsx("div",{className:m.item(),children:g.jsx(n,{entity:b})},`items-${b.id}`)),o&&r.length>o&&g.jsx(Qp,{title:t,target:g.jsx(Q_,{iconEnabled:uk}),outside:!0,children:g.jsx("div",{className:"flex flex-col gap-2",children:r.map(b=>g.jsx("div",{className:m.value(),children:g.jsx(n,{entity:b})},`items-${b.id}`))})})]})},MD=lr({slot:{base:[]},variant:{},defaults:{}}),ce=({label:t,fallback:e,variant:r,tva:n=MD,css:o})=>{const a=n({...r,css:o}).slots;return g.jsx("div",{className:a.base(),children:tl.rich(t,e)})},n3=lr({slot:{base:["flex","flex-col","gap-2"],input:["py-2","px-2","flex","flex-row","gap-2","items-center","cursor-pointer","hover:bg-slate-50","border","border-gray-300","rounded-md","text-slate-400","hover:text-slate-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],content:[],footer:["flex","items-center","justify-between","gap-2","border-t-2","border-slate-100","mt-4","pt-2"]},variant:{loading:{true:[]},selected:{true:[]}},match:[{if:{loading:!0},then:{input:["text-slate-300"]}},{if:{selected:!0},then:{input:["bg-slate-50","text-slate-700","hover:bg-slate-100","hover:text-slate-800"]}}],defaults:{loading:!1,selected:!1}}),BD=lr({use:n3,slot:{},variant:{},defaults:{}}),WD=({icon:t,titleText:e,modalProps:r,table:n,render:o,allowEmpty:a=!1,useListQuery:l,value:c,onChange:p,variant:m,tva:b=BD,css:x})=>{const N=b({...m,css:x}).slots,[q,R]=G.useState(0),[C,L]=G.useState(15),[P,I]=G.useState(c||[]),[D,z]=G.useState(void 0),V=l({query:{filter:{fulltext:D},cursor:{page:q,size:C}}}),W=l({query:{where:{idIn:c}},options:{enabled:!!c}});return g.jsx(Qp,{icon:t,target:g.jsxs("label",{className:N.input({loading:W.isLoading,selected:!!W.data?.data.length}),children:[g.jsx(wr,{icon:W.data?.data?.length?rm:tm}),W.data&&W.data.data.length?g.jsx(o,{entities:W.data.data}):g.jsx(ce,{label:"Select item (label)"})]}),title:e,variant:{loading:V.isLoading},disabled:V.isLoading,...r,children:g.jsxs("div",{className:N.base(),children:[g.jsx("div",{className:N.content(),children:g.jsx(n,{cursor:{cursor:{page:q,size:C},count:V.data?.count?V.data.count:{filter:-1,total:-1,where:-1},textTotal:g.jsx(ce,{label:"Total count of items (label)"}),onPage(K){R(K)},onSize(K){L(K),R(0)}},fulltext:{value:D,onFulltext(K){z(K)}},table:{data:V.data?.data??[],selection:{type:"multi",value:P,set(K){I(K)}}}})}),g.jsx(us.Consumer,{children:K=>g.jsxs("div",{className:N.footer(),children:[g.jsx(Un,{iconEnabled:Ed,iconDisabled:Ed,onClick:()=>{K?.close()},variant:{variant:"subtle"},children:g.jsx(ce,{label:"Close (label)"})}),g.jsx(Un,{iconEnabled:_p,iconDisabled:_p,disabled:!P.length&&!a,onClick:()=>{p(P),K?.close()},children:g.jsx(ce,{label:"Confirm selection (label)"})})]})})]})})},i3=({icon:t,titleText:e,modalProps:r,table:n,render:o,allowEmpty:a=!1,useListQuery:l,value:c,onChange:p,variant:m,tva:b=n3,css:x})=>{const N=b({...m,css:x}).slots,[q,R]=G.useState(0),[C,L]=G.useState(10),[P,I]=G.useState(c?[c]:[]),[D,z]=G.useState(void 0),V=l({query:{where:{fulltext:D},cursor:{page:q,size:C}}}),W=l({query:{where:{id:c}},options:{enabled:!!c}});return g.jsx(Qp,{icon:t,target:g.jsxs("label",{className:N.input({loading:W.isLoading,selected:!!W.data?.data?.length}),children:[g.jsx(wr,{icon:W.data?.data?.[0]?rm:tm}),W.data?.data?.[0]?g.jsx(o,{entity:W.data?.data?.[0]}):g.jsx(ce,{label:"Select item (label)"})]}),title:e,variant:{loading:V.isLoading},disabled:V.isLoading,...r,children:g.jsxs("div",{className:N.base(),children:[g.jsx("div",{className:N.content(),children:g.jsx(n,{cursor:{cursor:{page:q,size:C},count:V.data?.count?V.data.count:{filter:-1,total:-1,where:-1},textTotal:g.jsx(ce,{label:"Total count of items (label)"}),onPage(K){R(K)},onSize(K){L(K)}},fulltext:{value:D,onFulltext(K){z(K)}},table:{data:V.data?.data??[],selection:{type:"single",value:P,set(K){I(K)}}}})}),g.jsx(us.Consumer,{children:K=>g.jsxs("div",{className:N.footer(),children:[g.jsx(Un,{iconEnabled:Ed,iconDisabled:Ed,onClick:()=>{K?.close()},variant:{variant:"subtle"},children:g.jsx(ce,{label:"Close (label)"})}),g.jsx(Un,{iconEnabled:_p,iconDisabled:_p,disabled:!P.length&&!a,onClick:()=>{p(P?.[0]),K?.close()},children:g.jsx(ce,{label:"Confirm selection (label)"})})]})})]})})},$D=lr({slot:{base:["bg-blue-50","p-2","rounded-md","border","border-blue-200"],container:["grid","grid-cols-2","grid-rows-2","gap-1"],title:["col-span-1","row-span-1","border-b","border-b-slate-300","pb-2"],links:["col-span-1","row-span-1","border-b","border-b-slate-300","pb-2","flex","flex-row","items-center","gap-4","justify-end"],actions:["col-span-1","row-span-1","flex","flex-row","items-center","gap-4"],extra:["col-span-1","row-span-1","flex","flex-row","gap-4","justify-end"]},variant:{},defaults:{}}),mb=({entity:t,title:e=()=>null,links:r=()=>null,actions:n=()=>null,extra:o=()=>null,variant:a,tva:l=$D,css:c})=>{const p=l({...a,css:c}).slots;return g.jsx(K_.Provider,{value:{inline:!0},children:g.jsx("div",{className:p.base(),children:g.jsxs("div",{className:p.container(),children:[g.jsx("div",{className:p.title(),children:g.jsx(e,{entity:t})}),g.jsx("div",{className:p.links(),children:g.jsx(r,{entity:t})}),g.jsx("div",{className:p.actions(),children:g.jsx(n,{entity:t})}),g.jsx("div",{className:p.extra(),children:g.jsx(o,{entity:t})})]})})})},UD=lr({slot:{base:["flex","flex-col","gap-4"],content:["text-bold","text-red-500","font-bold"],footer:["flex","flex-row","items-center","justify-between","gap-4"]},variant:{},defaults:{}}),ui=({repository:t,textContent:e,idIn:r,onCancel:n,variant:o,tva:a=UD,css:l})=>{const c=a({...o,css:l}).slots,p=G.useContext(us),m=t.useRemoveMutation({async wrap(b){return EO.promise(b(),{loading:g.jsx(ce,{label:"Deleting... (label)"}),success:g.jsx(ce,{label:"Items deleted (label)"}),error:g.jsx(ce,{label:"Items cannot be removed (label)"})})},async onSuccess(){p?.close()}});return g.jsxs("div",{className:c.base(),children:[g.jsx("div",{className:c.content(),children:e}),g.jsxs("div",{className:c.footer(),children:[g.jsx(Un,{variant:{variant:"subtle",size:"sm"},iconEnabled:Ed,onClick:()=>{p?.close(),n?.()},children:g.jsx(ce,{label:"Cancel (button)"})}),g.jsx(Un,{variant:{variant:"danger",size:"md"},iconEnabled:zn,onClick:()=>m.mutate({idIn:r}),children:g.jsx(ce,{label:"Delete (button)"})})]})]})},po=({name:t,invalidate:e=[],...r})=>{const n=jP(r),o=[["withListLoader",t],["useListQuery",t],["withFetchLoader",t],["withCountLoader",t],...e],a={...n,name:t,invalidate:o,async withListLoader({queryClient:l,where:c,filter:p,cursor:m={page:0,size:10}}){return l.ensureQueryData({queryKey:["withListLoader",t,{where:c,filter:p,cursor:m}],async queryFn(){return n.list({query:{where:c,filter:p,cursor:m}})}})},async withFetchLoader({queryClient:l,where:c,filter:p,cursor:m}){return l.ensureQueryData({queryKey:["withFetchLoader",t,{where:c,filter:p,cursor:m}],async queryFn(){return n.fetchOrThrow({query:{where:c,filter:p,cursor:m}})}})},async withCountLoader({queryClient:l,where:c,filter:p}){return l.ensureQueryData({queryKey:["withCountLoader",t,{where:c,filter:p}],async queryFn(){return n.count({query:{where:c,filter:p}})}})},withRouteListLoader(){return async({context:{queryClient:l},deps:{global:c,filter:p,cursor:m}})=>({data:await a.withListLoader({queryClient:l,filter:{...c,...p},cursor:m}),count:await a.withCountLoader({queryClient:l,filter:{...c,...p}})})},useListQuery({query:l,options:c}){return EC({queryKey:["useListQuery",t,{query:l}],async queryFn(){return{data:await n.list({query:l}),count:await n.count({query:l})}},...c})},useCreateMutation({wrap:l=async m=>m(),toCreate:c=async({shape:m})=>({entity:m,shape:m}),onSuccess:p}){const m=Dc(),b=Si();return Mc({mutationKey:["useCreateMutation",t],async mutationFn(x){return l(async()=>{const N=await n.create({...await c({shape:x}),shape:x});return await p?.({entity:N}),await dv({queryClient:m,keys:o}),await b.invalidate(),N})}})},usePatchMutation({wrap:l=m=>m(),toPatch:c,onSuccess:p}){const m=Dc(),b=Si();return Mc({mutationKey:["usePatchMutation",t],async mutationFn(x){return l(async()=>{const N=await n.patch({entity:x,shape:x,...await c({shape:x})});return await p?.({entity:N}),await dv({queryClient:m,keys:o}),await b.invalidate(),N})}})},useRemoveMutation({wrap:l=p=>p(),onSuccess:c}){const p=Dc(),m=Si();return Mc({mutationKey:["useRemoveMutation",t],async mutationFn({idIn:b}){return l(async()=>{await n.remove({idIn:b}),await dv({queryClient:p,keys:o}),await c?.({}),await m.invalidate()})}})}};return a},zD=lr({slot:{base:["w-full","flex","flex-col","items-center","justify-center"],title:["text-xl","text-bold"],message:["text-base","text-slate-500"],body:["pt-2"]},variant:{},defaults:{}}),s3=({textTitle:t,textMessage:e,icon:r,iconProps:n,variant:o,tva:a=zD,css:l,children:c})=>{const p=a({...o,css:l}).slots;return g.jsxs("div",{className:p.base(),children:[r?g.jsx(wr,{icon:r,variant:{size:"6xl"},css:{base:["text-slate-500","opacity-50"]},...n}):null,g.jsx("div",{className:p.title(),children:t}),g.jsx("div",{className:p.message(),children:e}),g.jsx("div",{className:p.body(),children:c})]})},yb=lr({slot:{base:["min-w-full","flex","flex-col","gap-2","text-sm"],table:["min-w-full","w-max","table-fixed"],thead:["border","border-slate-200","bg-slate-100"],th:["text-left","px-2","py-1","border-t","border-b","border-slate-300"],tbody:[],tr:["border-b","border-b-slate-200","odd:bg-slate-50","hover:bg-purple-100","hover:border-purple-300"],td:["px-2","py-1"],tfoot:[],select:["cursor-pointer","text-slate-400","hover:text-slate-600"]},variant:{selected:{true:[]}},match:[{if:{selected:!0},then:{tr:["bg-blue-100","odd:bg-blue-50","border-blue-300"],select:["text-slate-600"]}}],defaults:{selected:!1}}),VD=({table:t,cell:{column:e,data:r,value:n},variant:o,tva:a=yb,css:l})=>{const c=e.def.render,p=a({...o,css:l}).slots;return g.jsx("td",{className:p.td(),children:g.jsxs("div",{className:"group flex flex-row items-center gap-2 justify-between",children:[g.jsx(c,{table:t,data:r,value:n}),e.filter&&!e.filter.is()?g.jsx(wr,{icon:vD,css:{base:["group-hover:visible","invisible","opacity-50 hover:opacity-100","cursor-pointer"]},variant:{size:"xl"},onClick:()=>{e.filter&&(e.def.filter?.onFilter({data:r,filter:e.filter}),window.scrollTo({top:0,behavior:"smooth"}))}}):null]})})},HD=({table:t,row:e,action:r,variant:n,tva:o=yb,css:a})=>{const l=o({...n,css:a}).slots,c=r?.table,p=r?.row;return g.jsxs("tr",{className:l.tr({selected:t.selection.isSelected(e)}),children:[c||p||t.selection.enabled?g.jsx("td",{className:"w-0",children:g.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.selection.enabled?g.jsx(wr,{icon:t.selection.isSelected(e)?rm:tm,css:{base:l.select({selected:t.selection.isSelected(e)})},onClick:t.selection.withRowHandler(e)}):null,p?g.jsx(p,{table:t,data:e.data}):null]})}):null,e.cells.map(m=>g.jsx(VD,{table:t,cell:m,variant:n,tva:o,css:a},`${e.id}-${m.column.id}`)),g.jsx("td",{})]})},va=({table:t,fulltext:e,cursor:r,empty:n=()=>g.jsx(s3,{icon:gD,textTitle:g.jsx(ce,{label:"Nothing here"}),textMessage:g.jsx(ce,{label:"There is nothing to see right now."})}),action:o,variant:a,tva:l=yb,css:c})=>{const p=l({...a,css:c}).slots,m=o?.table,b=o?.row;return g.jsxs("div",{className:p.base(),children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsx("div",{className:"flex items-center gap-6 w-1/3",children:e?g.jsx(mD,{...e}):null}),g.jsxs("div",{className:"flex flex-row items-center justify-center gap-2",children:[g.jsx(rE,{...r}),t.filter.is()&&g.jsx(Q_,{iconEnabled:AE,css:{base:["text-amber-500"]},onClick:()=>t.filter.reset()})]})]}),g.jsx("div",{className:"relative overflow-x-auto",children:g.jsxs("table",{className:p.table(),children:[g.jsx("thead",{className:p.thead(),children:g.jsxs("tr",{children:[m||b||t.selection.enabled?g.jsx("th",{className:"w-0",children:g.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.selection.enabled?g.jsx(wr,{icon:t.selection.isAll()?rm:t.selection.isAny()?_D:tm,variant:{disabled:t.selection.isSingle},css:{base:p.select({selected:t.selection.isAny()})},onClick:t.selection.withAllHandler()}):null,m?g.jsx(m,{table:t}):null]})}):null,t.visible.map(x=>{const N=x.def.header||(()=>null);return g.jsx("th",{className:p.th(),style:x.def.size?{width:`${x.def.size}rem`}:void 0,children:g.jsxs("div",{className:"flex flex-row items-center justify-between",children:[g.jsx(N,{table:t}),g.jsx("div",{className:"flex flex-row items-center gap-2",children:x.filter?.is()&&g.jsx(wr,{icon:AE,variant:{size:"md"},css:{base:["opacity-50","hover:opacity-100","cursor-pointer"]},onClick:()=>{x.filter?.reset()}})})]})},x.id)}),g.jsx("th",{})]})}),t.isEmpty?null:g.jsx("tbody",{className:p.tbody(),children:t.rows?.map(x=>g.jsx(HD,{row:x,table:t,action:o,variant:a,tva:l,css:c},x.id))})]})}),t.isEmpty?g.jsx(n,{}):null,g.jsxs("div",{className:"flex flex-row items-center justify-end gap-2",children:[g.jsx("div",{}),g.jsx(rE,{...r})]})]})},wn=[];for(let t=0;t<256;++t)wn.push((t+256).toString(16).slice(1));function QD(t,e=0){return(wn[t[e+0]]+wn[t[e+1]]+wn[t[e+2]]+wn[t[e+3]]+"-"+wn[t[e+4]]+wn[t[e+5]]+"-"+wn[t[e+6]]+wn[t[e+7]]+"-"+wn[t[e+8]]+wn[t[e+9]]+"-"+wn[t[e+10]]+wn[t[e+11]]+wn[t[e+12]]+wn[t[e+13]]+wn[t[e+14]]+wn[t[e+15]]).toLowerCase()}let fv;const KD=new Uint8Array(16);function GD(){if(!fv){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");fv=crypto.getRandomValues.bind(crypto)}return fv(KD)}const JD=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),FE={randomUUID:JD};function LE(t,e,r){if(FE.randomUUID&&!e&&!t)return FE.randomUUID();t=t||{};const n=t.random||(t.rng||GD)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,QD(n)}const _a=({columns:t,order:e=t.map(c=>c.name),hidden:r=[],visible:n=t.map(c=>c.name),data:o,filter:a,selection:l})=>{const c={...a?.value||{}},p=kS(c||{}),m=new Set(l?.value),b=t.map(N=>({id:LE(),def:N,filter:N.filter?{is(){return N.filter?p.get(N.filter.path)!==void 0:!1},reset(){N.filter&&p.set(N.filter.path,void 0),a?.set({...c})},shallow(q,R){N.filter&&p.set(q,R),a?.set({...c})},set(q){a?.set({...q})}}:void 0})),x=b.filter(N=>n.includes(N.def.name)&&!r.includes(N.def.name)).sort((N,q)=>{const R=e.indexOf(N.def.name),C=e.indexOf(q.def.name);return(R===-1?1/0:R)-(C===-1?1/0:C)});return{columns:b,visible:x,rows:o?.map(N=>({id:LE(),data:N,cells:x.map(q=>({column:q,data:N,value:kS(N).get(q.def.name)}))})),isEmpty:o.length===0,filter:{is(){return b.some(N=>N.filter?.is())},reset(){a?.set({})},set(N){a?.set({...N})},shallow(N,q){p.set(N,q)}},selection:{enabled:!!l&&o.length>0,selection:Array.from(m),isSingle:l?.type==="single",isMulti:l?.type==="multi",isSelected({data:N}){return m.has(N.id)||!1},isAll(){return o.every(N=>m.has(N.id))},isAny(){return o.some(N=>m.has(N.id))},withRowHandler({data:N}){return()=>{if(l?.type==="single"){const q=m.has(N.id);m.clear(),q?m.delete(N.id):m.add(N.id)}else m.has(N.id)?m.delete(N.id):m.add(N.id);l?.set(Array.from(m))}},withAllHandler(){return()=>{o.every(N=>m.has(N.id))?m.clear():o.forEach(({id:N})=>m.add(N)),l?.set(Array.from(m))}}}}},ba=()=>t=>t,o3=({tags:t=[],render:e=({tag:o})=>o.label,onClick:r,textEmpty:n})=>{const o=t.filter(Boolean).sort((a,l)=>a.sort-l.sort);return g.jsx("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:o.length?o.map(a=>g.jsx(WL,{onClick:()=>r?.(a),children:e({tag:a})},a.id)):n||g.jsx(ce,{label:"No tags (label)"})})},ZD=lr({slot:{base:["flex","flex-row","gap-2","items-center"],title:["flex","flex-row","gap-2","items-center","text-lg","text-slate-500"],subtitle:["flex","flex-row","gap-4","items-center","text-lg"]},variant:{withSubtitle:{true:[]}},match:[{if:{withSubtitle:!0},then:{title:["border-r","border-r-slate-300","pr-2"]}}],defaults:{withSubtitle:!1}}),gb=({icon:t,title:e,subtitle:r,variant:n,tva:o=ZD,css:a})=>{const l=o({withSubtitle:!!r,...n,css:a}).slots;return g.jsxs("div",{className:l.base(),children:[g.jsxs("div",{className:l.title(),children:[t?g.jsx(wr,{icon:t}):null,e]}),r?g.jsx("div",{className:l.subtitle(),children:r}):null]})};var hh={},jE;function XD(){if(jE)return hh;jE=1;var t=RN();return hh.createRoot=t.createRoot,hh.hydrateRoot=t.hydrateRoot,hh}var YD=XD();const eM=Eu(YD),vb=dR()({component:()=>g.jsxs(g.Fragment,{children:[g.jsx(AR,{}),g.jsx(ul,{})]})}),tM="modulepreload",rM=function(t){return"/"+t},DE={},ME=function(e,r,n){let o=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");o=Promise.allSettled(r.map(p=>{if(p=rM(p),p in DE)return;DE[p]=!0;const m=p.endsWith(".css"),b=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const x=document.createElement("link");if(x.rel=m?"stylesheet":tM,m||(x.as="script"),x.crossOrigin="",x.href=p,c&&x.setAttribute("nonce",c),document.head.appendChild(x),m)return new Promise((N,q)=>{x.addEventListener("load",N),x.addEventListener("error",()=>q(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return o.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})},nM=Rr("/$locale")({component:ul,loader:async({params:{locale:t}})=>{try{tl.push((await iM(`../translation/${t}.yaml`)).default)}catch(e){console.error(e)}}});function iM(t){switch(t){case"../translation/cs":case"../translation/cs.yaml":return ME(()=>import("./cs-Dyn3RQ02.js"),[]);case"../translation/en":case"../translation/en.yaml":return ME(()=>import("./en-wIgTOtKF.js"),[]);default:return new Promise(function(e,r){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(r.bind(null,new Error("Unknown variable dynamic import: "+t)))})}}const a3="cs",sM=[a3,"en"],oM=Rr("/")({loader:async()=>{throw qp({to:"/$locale",params:{locale:pI({available:sM,fallback:a3})}})}}),aM=Rr("/$locale/")({component:()=>{const{locale:t}=Nn({from:"/$locale"});return g.jsx("div",{className:"flex flex-col items-center justify-center h-screen w-screen",children:g.jsxs("div",{className:"rounded bg-slate-50 p-4 shadow-md border border-slate-300",children:[g.jsx("h1",{className:"text-3xl text-center",children:"Apps"}),g.jsx("ul",{children:g.jsx("li",{children:g.jsx(qi,{icon:"icon-[bx--game]",to:"/$locale/apps/derivean/public/login",params:{locale:t},children:"DeRivean"})})})]})})}}),pr=uD({database:"derivean",async bootstrap({kysely:t}){t.schema.createTable("User").ifNotExists().addColumn("id","varchar(36)",e=>e.primaryKey()).addColumn("name","varchar(64)",e=>e.notNull()).addColumn("login","varchar(128)",e=>e.notNull().unique()).addColumn("password","varchar(256)",e=>e.notNull()).execute(),t.schema.createTable("Tag").ifNotExists().addColumn("id","varchar(36)",e=>e.primaryKey()).addColumn("code","varchar(64)",e=>e.notNull()).addColumn("label","varchar(128)",e=>e.notNull()).addColumn("group","varchar(64)").addColumn("sort","integer",e=>e.notNull().defaultTo(0)).execute(),t.schema.createTable("Resource").ifNotExists().addColumn("id","varchar(36)",e=>e.primaryKey()).addColumn("name","varchar(64)",e=>e.notNull().unique()).addColumn("description","varchar(128)").execute(),t.schema.createTable("ResourceTag").ifNotExists().addColumn("id","varchar(36)",e=>e.primaryKey()).addColumn("resourceId","varchar(36)",e=>e.references("Resource.id").onDelete("cascade").notNull()).addColumn("tagId","varchar(36)",e=>e.references("Tag.id").onDelete("cascade").notNull()).execute(),t.schema.createTable("Storage").ifNotExists().addColumn("id","varchar(36)",e=>e.primaryKey()).addColumn("buildingId","varchar(36)",e=>e.references("Building.id").onDelete("cascade").notNull()).addColumn("resourceId","varchar(36)",e=>e.references("Resource.id").onDelete("cascade").notNull()).addColumn("amount","float8",e=>e.notNull()).execute(),t.schema.createTable("BaseStorage").ifNotExists().addColumn("id","varchar(36)",e=>e.primaryKey()).addColumn("baseBuildingId","varchar(36)",e=>e.references("BaseBuilding.id").onDelete("cascade").notNull()).addColumn("resourceId","varchar(36)",e=>e.references("Resource.id").onDelete("cascade").notNull()).addColumn("level","float8",e=>e.notNull()).addColumn("limit","float8",e=>e.notNull()).execute(),t.schema.createTable("BaseBuilding").ifNotExists().addColumn("id","varchar(36)",e=>e.primaryKey()).addColumn("name","varchar(64)",e=>e.notNull().unique()).addColumn("preview","boolean",e=>e.notNull()).addColumn("description","varchar(128)").execute(),t.schema.createTable("Building").ifNotExists().addColumn("id","varchar(36)",e=>e.primaryKey()).addColumn("userId","varchar(36)",e=>e.references("User.id").onDelete("cascade").notNull()).addColumn("baseBuildingId","varchar(36)",e=>e.references("BaseBuilding.id").onDelete("cascade").notNull()).addColumn("description","varchar(128)").execute(),t.schema.createTable("BuildingRequirementResource").ifNotExists().addColumn("id","varchar(36)",e=>e.primaryKey()).addColumn("baseBuildingId","varchar(36)",e=>e.references("BaseBuilding.id").onDelete("cascade").notNull()).addColumn("resourceId","varchar(36)",e=>e.references("Resource.id").onDelete("cascade").notNull()).addColumn("amount","float8",e=>e.notNull()).execute()}}),lM=Rr("/$locale/apps/derivean")({async loader(){return pr.bootstrap()}}),uM=lr({slot:{base:["text-orange-500","font-bold","text-2xl","shadow-md","hover:shadow-lg","hover:text-orange-600","rounded","px-2","py-1","bg-slate-100"]},variant:{},defaults:{}}),l3=({variant:t,tva:e=uM,css:r})=>{const n=e({...t,css:r}).slots;return g.jsx("div",{className:n.base(),children:"DeRivean"})},ua="icon-[material-symbols-light--construction-rounded]",Su="icon-[fluent--building-shop-20-regular]",yn="icon-[hugeicons--resources-add]",cM=t=>{const{locale:e}=Nn({from:"/$locale"});return g.jsxs(Ud,{...t,children:[g.jsx(ii,{icon:pb,to:"/$locale/apps/derivean/root/user/list",params:{locale:e},active:[{to:"/$locale/apps/derivean/root/user/$id/view"},{to:"/$locale/apps/derivean/root/user/$id/building/list"}],children:g.jsx(ce,{label:"User list (menu)"})}),g.jsxs(PE,{icon:Su,label:g.jsx(ce,{label:"Buildings (menu)"}),active:[{to:"/$locale/apps/derivean/root/building/base/list"},{to:"/$locale/apps/derivean/root/building/list"},{to:"/$locale/apps/derivean/root/building/$id/view"},{to:"/$locale/apps/derivean/root/building/base/$id/view"},{to:"/$locale/apps/derivean/root/building/base/$id/requirement/resource/list"},{to:"/$locale/apps/derivean/root/building/base/$id/storage/list"},{to:"/$locale/apps/derivean/root/building/base/$id/edit"},{to:"/$locale/apps/derivean/root/building/$id/storage/list"}],children:[g.jsx(ii,{icon:ua,to:"/$locale/apps/derivean/root/building/base/list",params:{locale:e},variant:{inner:!0},children:g.jsx(ce,{label:"Base building list (menu)"})}),g.jsx(ii,{icon:Su,to:"/$locale/apps/derivean/root/building/list",params:{locale:e},variant:{inner:!0},children:g.jsx(ce,{label:"Building list (menu)"})})]}),g.jsx(ii,{icon:yn,to:"/$locale/apps/derivean/root/resource/list",params:{locale:e},children:g.jsx(ce,{label:"Resource list (menu)"})}),g.jsx(PE,{icon:bD,label:g.jsx(ce,{label:"Settings (menu)"}),children:g.jsx(ii,{icon:bp,to:"/$locale/apps/derivean/root/tag/list",params:{locale:e},variant:{inner:!0},children:g.jsx(ce,{label:"Tag list (menu)"})})})]})},_b=Me.object({id:Me.string(),name:Me.string(),login:Me.string()}),dM=Rr("/$locale/apps/derivean/root")({component:()=>{const{locale:t}=Nn({from:"/$locale"}),{session:e}=ku({from:"/$locale/apps/derivean/root"});return g.jsx(r3,{logo:g.jsx(qi,{to:"/$locale/apps/derivean/root",params:{locale:t},children:g.jsx(l3,{})}),menu:g.jsx(cM,{}),actions:g.jsxs(g.Fragment,{children:[e.name,g.jsx(qi,{icon:hb,to:"/$locale/apps/derivean/public/logout",params:{locale:t},preload:!1})]})})},loader({params:{locale:t}}){try{return{session:_b.parse($d.get("session"))}}catch{throw qp({to:"/$locale/apps/derivean/public/login",params:{locale:t}})}}}),fM=t=>{const{locale:e}=Nn({from:"/$locale"});return g.jsx(Ud,{...t,children:g.jsx(ii,{to:"/$locale/apps/derivean/root",params:{locale:e},children:g.jsx(ce,{label:"Root site (menu)"})})})},hM=Rr("/$locale/apps/derivean/game")({component:()=>{const{locale:t}=Nn({from:"/$locale"}),{session:e}=ku({from:"/$locale/apps/derivean/game"});return g.jsx(r3,{logo:g.jsx(qi,{to:"/$locale/apps/derivean/game",params:{locale:t},children:g.jsx(l3,{})}),menu:g.jsx(fM,{}),actions:g.jsxs(g.Fragment,{children:[e.name,g.jsx(qi,{icon:hb,to:"/$locale/apps/derivean/public/logout",params:{locale:t},preload:!1})]})})},loader({params:{locale:t}}){try{return{session:_b.parse($d.get("session"))}}catch{throw qp({to:"/$locale/apps/derivean/public/login",params:{locale:t}})}}}),pM=Rr("/$locale/apps/derivean/game/")({component:()=>g.jsx("div",{children:"game dashboard here :)"})});var zd=t=>t.type==="checkbox",Ka=t=>t instanceof Date,Dn=t=>t==null;const u3=t=>typeof t=="object";var rn=t=>!Dn(t)&&!Array.isArray(t)&&u3(t)&&!Ka(t),c3=t=>rn(t)&&t.target?zd(t.target)?t.target.checked:t.target.value:t,mM=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,d3=(t,e)=>t.has(mM(e)),yM=t=>{const e=t.constructor&&t.constructor.prototype;return rn(e)&&e.hasOwnProperty("isPrototypeOf")},bb=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ei(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(bb&&(t instanceof Blob||n))&&(r||rn(t)))if(e=r?[]:{},!r&&!yM(t))e=t;else for(const o in t)t.hasOwnProperty(o)&&(e[o]=ei(t[o]));else return t;return e}var nm=t=>Array.isArray(t)?t.filter(Boolean):[],Zr=t=>t===void 0,pt=(t,e,r)=>{if(!e||!rn(t))return r;const n=nm(e.split(/[,[\].]+?/)).reduce((o,a)=>Dn(o)?o:o[a],t);return Zr(n)||n===t?Zr(t[e])?r:t[e]:n},vi=t=>typeof t=="boolean",wb=t=>/^\w*$/.test(t),f3=t=>nm(t.replace(/["|']|\]/g,"").split(/\.|\[/)),vr=(t,e,r)=>{let n=-1;const o=wb(e)?[e]:f3(e),a=o.length,l=a-1;for(;++n<a;){const c=o[n];let p=r;if(n!==l){const m=t[c];p=rn(m)||Array.isArray(m)?m:isNaN(+o[n+1])?{}:[]}if(c==="__proto__"||c==="constructor"||c==="prototype")return;t[c]=p,t=t[c]}return t};const wp={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},rs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Js={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},gM=br.createContext(null),xb=()=>br.useContext(gM);var h3=(t,e,r,n=!0)=>{const o={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(o,a,{get:()=>{const l=a;return e._proxyFormState[l]!==rs.all&&(e._proxyFormState[l]=!n||rs.all),r&&(r[l]=!0),t[l]}});return o},ti=t=>rn(t)&&!Object.keys(t).length,p3=(t,e,r,n)=>{r(t);const{name:o,...a}=t;return ti(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(l=>e[l]===(!n||rs.all))},Gc=t=>Array.isArray(t)?t:[t],m3=(t,e,r)=>!t||!e||t===e||Gc(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n)));function Sb(t){const e=br.useRef(t);e.current=t,br.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}function vM(t){const e=xb(),{control:r=e.control,disabled:n,name:o,exact:a}=t||{},[l,c]=br.useState(r._formState),p=br.useRef(!0),m=br.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),b=br.useRef(o);return b.current=o,Sb({disabled:n,next:x=>p.current&&m3(b.current,x.name,a)&&p3(x,m.current,r._updateFormState)&&c({...r._formState,...x}),subject:r._subjects.state}),br.useEffect(()=>(p.current=!0,m.current.isValid&&r._updateValid(!0),()=>{p.current=!1}),[r]),br.useMemo(()=>h3(l,r,m.current,!1),[l,r])}var xs=t=>typeof t=="string",y3=(t,e,r,n,o)=>xs(t)?(n&&e.watch.add(t),pt(r,t,o)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),pt(r,a))):(n&&(e.watchAll=!0),r);function _M(t){const e=xb(),{control:r=e.control,name:n,defaultValue:o,disabled:a,exact:l}=t||{},c=br.useRef(n);c.current=n,Sb({disabled:a,subject:r._subjects.values,next:b=>{m3(c.current,b.name,l)&&m(ei(y3(c.current,r._names,b.values||r._formValues,!1,o)))}});const[p,m]=br.useState(r._getWatch(n,o));return br.useEffect(()=>r._removeUnmounted()),p}function bM(t){const e=xb(),{name:r,disabled:n,control:o=e.control,shouldUnregister:a}=t,l=d3(o._names.array,r),c=_M({control:o,name:r,defaultValue:pt(o._formValues,r,pt(o._defaultValues,r,t.defaultValue)),exact:!0}),p=vM({control:o,name:r,exact:!0}),m=br.useRef(o.register(r,{...t.rules,value:c,...vi(t.disabled)?{disabled:t.disabled}:{}})),b=br.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!pt(p.errors,r)},isDirty:{enumerable:!0,get:()=>!!pt(p.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!pt(p.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!pt(p.validatingFields,r)},error:{enumerable:!0,get:()=>pt(p.errors,r)}}),[p,r]),x=br.useMemo(()=>({name:r,value:c,...vi(n)||p.disabled?{disabled:p.disabled||n}:{},onChange:N=>m.current.onChange({target:{value:c3(N),name:r},type:wp.CHANGE}),onBlur:()=>m.current.onBlur({target:{value:pt(o._formValues,r),name:r},type:wp.BLUR}),ref:N=>{const q=pt(o._fields,r);q&&N&&(q._f.ref={focus:()=>N.focus(),select:()=>N.select(),setCustomValidity:R=>N.setCustomValidity(R),reportValidity:()=>N.reportValidity()})}}),[r,o._formValues,n,p.disabled,c,o._fields]);return br.useEffect(()=>{const N=o._options.shouldUnregister||a,q=(R,C)=>{const L=pt(o._fields,R);L&&L._f&&(L._f.mount=C)};if(q(r,!0),N){const R=ei(pt(o._options.defaultValues,r));vr(o._defaultValues,r,R),Zr(pt(o._formValues,r))&&vr(o._formValues,r,R)}return()=>{(l?N&&!o._state.action:N)?o.unregister(r):q(r,!1)}},[r,o,l,a]),br.useEffect(()=>{vi(n)&&pt(o._fields,r)&&o._updateDisabledField({disabled:n,fields:o._fields,name:r,value:pt(o._fields,r)._f.value})},[n,r,o]),br.useMemo(()=>({field:x,formState:p,fieldState:b}),[x,p,b])}const Pu=t=>t.render(bM(t));var g3=(t,e,r,n,o)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:o||!0}}:{},BE=t=>({isOnSubmit:!t||t===rs.onSubmit,isOnBlur:t===rs.onBlur,isOnChange:t===rs.onChange,isOnAll:t===rs.all,isOnTouch:t===rs.onTouched}),WE=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Jc=(t,e,r,n)=>{for(const o of r||Object.keys(t)){const a=pt(t,o);if(a){const{_f:l,...c}=a;if(l){if(l.refs&&l.refs[0]&&e(l.refs[0],o)&&!n)return!0;if(l.ref&&e(l.ref,l.name)&&!n)return!0;if(Jc(c,e))break}else if(rn(c)&&Jc(c,e))break}}};var wM=(t,e,r)=>{const n=Gc(pt(t,r));return vr(n,"root",e[r]),vr(t,r,n),t},Eb=t=>t.type==="file",bs=t=>typeof t=="function",xp=t=>{if(!bb)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Ih=t=>xs(t),Nb=t=>t.type==="radio",Sp=t=>t instanceof RegExp;const $E={value:!1,isValid:!1},UE={value:!0,isValid:!0};var v3=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Zr(t[0].attributes.value)?Zr(t[0].value)||t[0].value===""?UE:{value:t[0].value,isValid:!0}:UE:$E}return $E};const zE={isValid:!1,value:null};var _3=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,zE):zE;function VE(t,e,r="validate"){if(Ih(t)||Array.isArray(t)&&t.every(Ih)||vi(t)&&!t)return{type:r,message:Ih(t)?t:"",ref:e}}var $l=t=>rn(t)&&!Sp(t)?t:{value:t,message:""},HE=async(t,e,r,n,o)=>{const{ref:a,refs:l,required:c,maxLength:p,minLength:m,min:b,max:x,pattern:N,validate:q,name:R,valueAsNumber:C,mount:L,disabled:P}=t._f,I=pt(e,R);if(!L||P)return{};const D=l?l[0]:a,z=re=>{n&&D.reportValidity&&(D.setCustomValidity(vi(re)?"":re||""),D.reportValidity())},V={},W=Nb(a),K=zd(a),le=W||K,H=(C||Eb(a))&&Zr(a.value)&&Zr(I)||xp(a)&&a.value===""||I===""||Array.isArray(I)&&!I.length,ne=g3.bind(null,R,r,V),B=(re,Z,pe,Re=Js.maxLength,Ce=Js.minLength)=>{const Pe=re?Z:pe;V[R]={type:re?Re:Ce,message:Pe,ref:a,...ne(re?Re:Ce,Pe)}};if(o?!Array.isArray(I)||!I.length:c&&(!le&&(H||Dn(I))||vi(I)&&!I||K&&!v3(l).isValid||W&&!_3(l).isValid)){const{value:re,message:Z}=Ih(c)?{value:!!c,message:c}:$l(c);if(re&&(V[R]={type:Js.required,message:Z,ref:D,...ne(Js.required,Z)},!r))return z(Z),V}if(!H&&(!Dn(b)||!Dn(x))){let re,Z;const pe=$l(x),Re=$l(b);if(!Dn(I)&&!isNaN(I)){const Ce=a.valueAsNumber||I&&+I;Dn(pe.value)||(re=Ce>pe.value),Dn(Re.value)||(Z=Ce<Re.value)}else{const Ce=a.valueAsDate||new Date(I),Pe=Ee=>new Date(new Date().toDateString()+" "+Ee),ve=a.type=="time",me=a.type=="week";xs(pe.value)&&I&&(re=ve?Pe(I)>Pe(pe.value):me?I>pe.value:Ce>new Date(pe.value)),xs(Re.value)&&I&&(Z=ve?Pe(I)<Pe(Re.value):me?I<Re.value:Ce<new Date(Re.value))}if((re||Z)&&(B(!!re,pe.message,Re.message,Js.max,Js.min),!r))return z(V[R].message),V}if((p||m)&&!H&&(xs(I)||o&&Array.isArray(I))){const re=$l(p),Z=$l(m),pe=!Dn(re.value)&&I.length>+re.value,Re=!Dn(Z.value)&&I.length<+Z.value;if((pe||Re)&&(B(pe,re.message,Z.message),!r))return z(V[R].message),V}if(N&&!H&&xs(I)){const{value:re,message:Z}=$l(N);if(Sp(re)&&!I.match(re)&&(V[R]={type:Js.pattern,message:Z,ref:a,...ne(Js.pattern,Z)},!r))return z(Z),V}if(q){if(bs(q)){const re=await q(I,e),Z=VE(re,D);if(Z&&(V[R]={...Z,...ne(Js.validate,Z.message)},!r))return z(Z.message),V}else if(rn(q)){let re={};for(const Z in q){if(!ti(re)&&!r)break;const pe=VE(await q[Z](I,e),D,Z);pe&&(re={...pe,...ne(Z,pe.message)},z(pe.message),r&&(V[R]=re))}if(!ti(re)&&(V[R]={ref:D,...re},!r))return V}}return z(!0),V};function xM(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Zr(t)?n++:t[e[n++]];return t}function SM(t){for(const e in t)if(t.hasOwnProperty(e)&&!Zr(t[e]))return!1;return!0}function dn(t,e){const r=Array.isArray(e)?e:wb(e)?[e]:f3(e),n=r.length===1?t:xM(t,r),o=r.length-1,a=r[o];return n&&delete n[a],o!==0&&(rn(n)&&ti(n)||Array.isArray(n)&&SM(n))&&dn(t,r.slice(0,-1)),t}var hv=()=>{let t=[];return{get observers(){return t},next:o=>{for(const a of t)a.next&&a.next(o)},subscribe:o=>(t.push(o),{unsubscribe:()=>{t=t.filter(a=>a!==o)}}),unsubscribe:()=>{t=[]}}},c_=t=>Dn(t)||!u3(t);function Vo(t,e){if(c_(t)||c_(e))return t===e;if(Ka(t)&&Ka(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const o of r){const a=t[o];if(!n.includes(o))return!1;if(o!=="ref"){const l=e[o];if(Ka(a)&&Ka(l)||rn(a)&&rn(l)||Array.isArray(a)&&Array.isArray(l)?!Vo(a,l):a!==l)return!1}}return!0}var b3=t=>t.type==="select-multiple",EM=t=>Nb(t)||zd(t),pv=t=>xp(t)&&t.isConnected,w3=t=>{for(const e in t)if(bs(t[e]))return!0;return!1};function Ep(t,e={}){const r=Array.isArray(t);if(rn(t)||r)for(const n in t)Array.isArray(t[n])||rn(t[n])&&!w3(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Ep(t[n],e[n])):Dn(t[n])||(e[n]=!0);return e}function x3(t,e,r){const n=Array.isArray(t);if(rn(t)||n)for(const o in t)Array.isArray(t[o])||rn(t[o])&&!w3(t[o])?Zr(e)||c_(r[o])?r[o]=Array.isArray(t[o])?Ep(t[o],[]):{...Ep(t[o])}:x3(t[o],Dn(e)?{}:e[o],r[o]):r[o]=!Vo(t[o],e[o]);return r}var qc=(t,e)=>x3(t,e,Ep(e)),S3=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Zr(t)?t:e?t===""?NaN:t&&+t:r&&xs(t)?new Date(t):n?n(t):t;function mv(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return Eb(e)?e.files:Nb(e)?_3(t.refs).value:b3(e)?[...e.selectedOptions].map(({value:r})=>r):zd(e)?v3(t.refs).value:S3(Zr(e.value)?t.ref.value:e.value,t)}var NM=(t,e,r,n)=>{const o={};for(const a of t){const l=pt(e,a);l&&vr(o,a,l._f)}return{criteriaMode:r,names:[...t],fields:o,shouldUseNativeValidation:n}},Cc=t=>Zr(t)?t:Sp(t)?t.source:rn(t)?Sp(t.value)?t.value.source:t.value:t;const QE="AsyncFunction";var kM=t=>!!t&&!!t.validate&&!!(bs(t.validate)&&t.validate.constructor.name===QE||rn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===QE)),qM=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function KE(t,e,r){const n=pt(t,r);if(n||wb(r))return{error:n,name:r};const o=r.split(".");for(;o.length;){const a=o.join("."),l=pt(e,a),c=pt(t,a);if(l&&!Array.isArray(l)&&r!==a)return{name:r};if(c&&c.type)return{name:a,error:c};o.pop()}return{name:r}}var CM=(t,e,r,n,o)=>o.isOnAll?!1:!r&&o.isOnTouch?!(e||t):(r?n.isOnBlur:o.isOnBlur)?!t:(r?n.isOnChange:o.isOnChange)?t:!0,RM=(t,e)=>!nm(pt(t,e)).length&&dn(t,e);const OM={mode:rs.onSubmit,reValidateMode:rs.onChange,shouldFocusError:!0};function TM(t={}){let e={...OM,...t},r={submitCount:0,isDirty:!1,isLoading:bs(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},o=rn(e.defaultValues)||rn(e.values)?ei(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:ei(o),l={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},p,m=0;const b={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},x={values:hv(),array:hv(),state:hv()},N=BE(e.mode),q=BE(e.reValidateMode),R=e.criteriaMode===rs.all,C=se=>ae=>{clearTimeout(m),m=setTimeout(se,ae)},L=async se=>{if(!e.disabled&&(b.isValid||se)){const ae=e.resolver?ti((await le()).errors):await ne(n,!0);ae!==r.isValid&&x.state.next({isValid:ae})}},P=(se,ae)=>{!e.disabled&&(b.isValidating||b.validatingFields)&&((se||Array.from(c.mount)).forEach(ye=>{ye&&(ae?vr(r.validatingFields,ye,ae):dn(r.validatingFields,ye))}),x.state.next({validatingFields:r.validatingFields,isValidating:!ti(r.validatingFields)}))},I=(se,ae=[],ye,Oe,je=!0,Ge=!0)=>{if(Oe&&ye&&!e.disabled){if(l.action=!0,Ge&&Array.isArray(pt(n,se))){const _t=ye(pt(n,se),Oe.argA,Oe.argB);je&&vr(n,se,_t)}if(Ge&&Array.isArray(pt(r.errors,se))){const _t=ye(pt(r.errors,se),Oe.argA,Oe.argB);je&&vr(r.errors,se,_t),RM(r.errors,se)}if(b.touchedFields&&Ge&&Array.isArray(pt(r.touchedFields,se))){const _t=ye(pt(r.touchedFields,se),Oe.argA,Oe.argB);je&&vr(r.touchedFields,se,_t)}b.dirtyFields&&(r.dirtyFields=qc(o,a)),x.state.next({name:se,isDirty:re(se,ae),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else vr(a,se,ae)},D=(se,ae)=>{vr(r.errors,se,ae),x.state.next({errors:r.errors})},z=se=>{r.errors=se,x.state.next({errors:r.errors,isValid:!1})},V=(se,ae,ye,Oe)=>{const je=pt(n,se);if(je){const Ge=pt(a,se,Zr(ye)?pt(o,se):ye);Zr(Ge)||Oe&&Oe.defaultChecked||ae?vr(a,se,ae?Ge:mv(je._f)):Re(se,Ge),l.mount&&L()}},W=(se,ae,ye,Oe,je)=>{let Ge=!1,_t=!1;const Mt={name:se};if(!e.disabled){const mr=!!(pt(n,se)&&pt(n,se)._f&&pt(n,se)._f.disabled);if(!ye||Oe){b.isDirty&&(_t=r.isDirty,r.isDirty=Mt.isDirty=re(),Ge=_t!==Mt.isDirty);const cr=mr||Vo(pt(o,se),ae);_t=!!(!mr&&pt(r.dirtyFields,se)),cr||mr?dn(r.dirtyFields,se):vr(r.dirtyFields,se,!0),Mt.dirtyFields=r.dirtyFields,Ge=Ge||b.dirtyFields&&_t!==!cr}if(ye){const cr=pt(r.touchedFields,se);cr||(vr(r.touchedFields,se,ye),Mt.touchedFields=r.touchedFields,Ge=Ge||b.touchedFields&&cr!==ye)}Ge&&je&&x.state.next(Mt)}return Ge?Mt:{}},K=(se,ae,ye,Oe)=>{const je=pt(r.errors,se),Ge=b.isValid&&vi(ae)&&r.isValid!==ae;if(e.delayError&&ye?(p=C(()=>D(se,ye)),p(e.delayError)):(clearTimeout(m),p=null,ye?vr(r.errors,se,ye):dn(r.errors,se)),(ye?!Vo(je,ye):je)||!ti(Oe)||Ge){const _t={...Oe,...Ge&&vi(ae)?{isValid:ae}:{},errors:r.errors,name:se};r={...r,..._t},x.state.next(_t)}},le=async se=>{P(se,!0);const ae=await e.resolver(a,e.context,NM(se||c.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return P(se),ae},H=async se=>{const{errors:ae}=await le(se);if(se)for(const ye of se){const Oe=pt(ae,ye);Oe?vr(r.errors,ye,Oe):dn(r.errors,ye)}else r.errors=ae;return ae},ne=async(se,ae,ye={valid:!0})=>{for(const Oe in se){const je=se[Oe];if(je){const{_f:Ge,..._t}=je;if(Ge){const Mt=c.array.has(Ge.name),mr=je._f&&kM(je._f);mr&&b.validatingFields&&P([Oe],!0);const cr=await HE(je,a,R,e.shouldUseNativeValidation&&!ae,Mt);if(mr&&b.validatingFields&&P([Oe]),cr[Ge.name]&&(ye.valid=!1,ae))break;!ae&&(pt(cr,Ge.name)?Mt?wM(r.errors,cr,Ge.name):vr(r.errors,Ge.name,cr[Ge.name]):dn(r.errors,Ge.name))}!ti(_t)&&await ne(_t,ae,ye)}}return ye.valid},B=()=>{for(const se of c.unMount){const ae=pt(n,se);ae&&(ae._f.refs?ae._f.refs.every(ye=>!pv(ye)):!pv(ae._f.ref))&&mt(se)}c.unMount=new Set},re=(se,ae)=>!e.disabled&&(se&&ae&&vr(a,se,ae),!Vo(Q(),o)),Z=(se,ae,ye)=>y3(se,c,{...l.mount?a:Zr(ae)?o:xs(se)?{[se]:ae}:ae},ye,ae),pe=se=>nm(pt(l.mount?a:o,se,e.shouldUnregister?pt(o,se,[]):[])),Re=(se,ae,ye={})=>{const Oe=pt(n,se);let je=ae;if(Oe){const Ge=Oe._f;Ge&&(!Ge.disabled&&vr(a,se,S3(ae,Ge)),je=xp(Ge.ref)&&Dn(ae)?"":ae,b3(Ge.ref)?[...Ge.ref.options].forEach(_t=>_t.selected=je.includes(_t.value)):Ge.refs?zd(Ge.ref)?Ge.refs.length>1?Ge.refs.forEach(_t=>(!_t.defaultChecked||!_t.disabled)&&(_t.checked=Array.isArray(je)?!!je.find(Mt=>Mt===_t.value):je===_t.value)):Ge.refs[0]&&(Ge.refs[0].checked=!!je):Ge.refs.forEach(_t=>_t.checked=_t.value===je):Eb(Ge.ref)?Ge.ref.value="":(Ge.ref.value=je,Ge.ref.type||x.values.next({name:se,values:{...a}})))}(ye.shouldDirty||ye.shouldTouch)&&W(se,je,ye.shouldTouch,ye.shouldDirty,!0),ye.shouldValidate&&Ee(se)},Ce=(se,ae,ye)=>{for(const Oe in ae){const je=ae[Oe],Ge=`${se}.${Oe}`,_t=pt(n,Ge);(c.array.has(se)||rn(je)||_t&&!_t._f)&&!Ka(je)?Ce(Ge,je,ye):Re(Ge,je,ye)}},Pe=(se,ae,ye={})=>{const Oe=pt(n,se),je=c.array.has(se),Ge=ei(ae);vr(a,se,Ge),je?(x.array.next({name:se,values:{...a}}),(b.isDirty||b.dirtyFields)&&ye.shouldDirty&&x.state.next({name:se,dirtyFields:qc(o,a),isDirty:re(se,Ge)})):Oe&&!Oe._f&&!Dn(Ge)?Ce(se,Ge,ye):Re(se,Ge,ye),WE(se,c)&&x.state.next({...r}),x.values.next({name:l.mount?se:void 0,values:{...a}})},ve=async se=>{l.mount=!0;const ae=se.target;let ye=ae.name,Oe=!0;const je=pt(n,ye),Ge=()=>ae.type?mv(je._f):c3(se),_t=Mt=>{Oe=Number.isNaN(Mt)||Ka(Mt)&&isNaN(Mt.getTime())||Vo(Mt,pt(a,ye,Mt))};if(je){let Mt,mr;const cr=Ge(),Ar=se.type===wp.BLUR||se.type===wp.FOCUS_OUT,Pn=!qM(je._f)&&!e.resolver&&!pt(r.errors,ye)&&!je._f.deps||CM(Ar,pt(r.touchedFields,ye),r.isSubmitted,q,N),Xr=WE(ye,c,Ar);vr(a,ye,cr),Ar?(je._f.onBlur&&je._f.onBlur(se),p&&p(0)):je._f.onChange&&je._f.onChange(se);const Vn=W(ye,cr,Ar,!1),Fs=!ti(Vn)||Xr;if(!Ar&&x.values.next({name:ye,type:se.type,values:{...a}}),Pn)return b.isValid&&(e.mode==="onBlur"?Ar&&L():L()),Fs&&x.state.next({name:ye,...Xr?{}:Vn});if(!Ar&&Xr&&x.state.next({...r}),e.resolver){const{errors:gn}=await le([ye]);if(_t(cr),Oe){const zt=KE(r.errors,n,ye),go=KE(gn,n,zt.name||ye);Mt=go.error,ye=go.name,mr=ti(gn)}}else P([ye],!0),Mt=(await HE(je,a,R,e.shouldUseNativeValidation))[ye],P([ye]),_t(cr),Oe&&(Mt?mr=!1:b.isValid&&(mr=await ne(n,!0)));Oe&&(je._f.deps&&Ee(je._f.deps),K(ye,mr,Mt,Vn))}},me=(se,ae)=>{if(pt(r.errors,ae)&&se.focus)return se.focus(),1},Ee=async(se,ae={})=>{let ye,Oe;const je=Gc(se);if(e.resolver){const Ge=await H(Zr(se)?se:je);ye=ti(Ge),Oe=se?!je.some(_t=>pt(Ge,_t)):ye}else se?(Oe=(await Promise.all(je.map(async Ge=>{const _t=pt(n,Ge);return await ne(_t&&_t._f?{[Ge]:_t}:_t)}))).every(Boolean),!(!Oe&&!r.isValid)&&L()):Oe=ye=await ne(n);return x.state.next({...!xs(se)||b.isValid&&ye!==r.isValid?{}:{name:se},...e.resolver||!se?{isValid:ye}:{},errors:r.errors}),ae.shouldFocus&&!Oe&&Jc(n,me,se?je:c.mount),Oe},Q=se=>{const ae={...l.mount?a:o};return Zr(se)?ae:xs(se)?pt(ae,se):se.map(ye=>pt(ae,ye))},xe=(se,ae)=>({invalid:!!pt((ae||r).errors,se),isDirty:!!pt((ae||r).dirtyFields,se),error:pt((ae||r).errors,se),isValidating:!!pt(r.validatingFields,se),isTouched:!!pt((ae||r).touchedFields,se)}),lt=se=>{se&&Gc(se).forEach(ae=>dn(r.errors,ae)),x.state.next({errors:se?r.errors:{}})},at=(se,ae,ye)=>{const Oe=(pt(n,se,{_f:{}})._f||{}).ref,je=pt(r.errors,se)||{},{ref:Ge,message:_t,type:Mt,...mr}=je;vr(r.errors,se,{...mr,...ae,ref:Oe}),x.state.next({name:se,errors:r.errors,isValid:!1}),ye&&ye.shouldFocus&&Oe&&Oe.focus&&Oe.focus()},dt=(se,ae)=>bs(se)?x.values.subscribe({next:ye=>se(Z(void 0,ae),ye)}):Z(se,ae,!0),mt=(se,ae={})=>{for(const ye of se?Gc(se):c.mount)c.mount.delete(ye),c.array.delete(ye),ae.keepValue||(dn(n,ye),dn(a,ye)),!ae.keepError&&dn(r.errors,ye),!ae.keepDirty&&dn(r.dirtyFields,ye),!ae.keepTouched&&dn(r.touchedFields,ye),!ae.keepIsValidating&&dn(r.validatingFields,ye),!e.shouldUnregister&&!ae.keepDefaultValue&&dn(o,ye);x.values.next({values:{...a}}),x.state.next({...r,...ae.keepDirty?{isDirty:re()}:{}}),!ae.keepIsValid&&L()},ft=({disabled:se,name:ae,field:ye,fields:Oe,value:je})=>{if(vi(se)&&l.mount||se){const Ge=se?void 0:Zr(je)?mv(ye?ye._f:pt(Oe,ae)._f):je;(se||!se&&!Zr(Ge))&&vr(a,ae,Ge),W(ae,Ge,!1,!1,!0)}},gt=(se,ae={})=>{let ye=pt(n,se);const Oe=vi(ae.disabled)||vi(e.disabled);return vr(n,se,{...ye||{},_f:{...ye&&ye._f?ye._f:{ref:{name:se}},name:se,mount:!0,...ae}}),c.mount.add(se),ye?ft({field:ye,disabled:vi(ae.disabled)?ae.disabled:e.disabled,name:se,value:ae.value}):V(se,!0,ae.value),{...Oe?{disabled:ae.disabled||e.disabled}:{},...e.progressive?{required:!!ae.required,min:Cc(ae.min),max:Cc(ae.max),minLength:Cc(ae.minLength),maxLength:Cc(ae.maxLength),pattern:Cc(ae.pattern)}:{},name:se,onChange:ve,onBlur:ve,ref:je=>{if(je){gt(se,ae),ye=pt(n,se);const Ge=Zr(je.value)&&je.querySelectorAll&&je.querySelectorAll("input,select,textarea")[0]||je,_t=EM(Ge),Mt=ye._f.refs||[];if(_t?Mt.find(mr=>mr===Ge):Ge===ye._f.ref)return;vr(n,se,{_f:{...ye._f,..._t?{refs:[...Mt.filter(pv),Ge,...Array.isArray(pt(o,se))?[{}]:[]],ref:{type:Ge.type,name:se}}:{ref:Ge}}}),V(se,!1,void 0,Ge)}else ye=pt(n,se,{}),ye._f&&(ye._f.mount=!1),(e.shouldUnregister||ae.shouldUnregister)&&!(d3(c.array,se)&&l.action)&&c.unMount.add(se)}}},It=()=>e.shouldFocusError&&Jc(n,me,c.mount),vt=se=>{vi(se)&&(x.state.next({disabled:se}),Jc(n,(ae,ye)=>{const Oe=pt(n,ye);Oe&&(ae.disabled=Oe._f.disabled||se,Array.isArray(Oe._f.refs)&&Oe._f.refs.forEach(je=>{je.disabled=Oe._f.disabled||se}))},0,!1))},yt=(se,ae)=>async ye=>{let Oe;if(ye&&(ye.preventDefault&&ye.preventDefault(),ye.persist&&ye.persist()),e.disabled){ae&&await ae({...r.errors},ye);return}let je=ei(a);if(x.state.next({isSubmitting:!0}),e.resolver){const{errors:Ge,values:_t}=await le();r.errors=Ge,je=_t}else await ne(n);if(dn(r.errors,"root"),ti(r.errors)){x.state.next({errors:{}});try{await se(je,ye)}catch(Ge){Oe=Ge}}else ae&&await ae({...r.errors},ye),It(),setTimeout(It);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ti(r.errors)&&!Oe,submitCount:r.submitCount+1,errors:r.errors}),Oe)throw Oe},Rt=(se,ae={})=>{pt(n,se)&&(Zr(ae.defaultValue)?Pe(se,ei(pt(o,se))):(Pe(se,ae.defaultValue),vr(o,se,ei(ae.defaultValue))),ae.keepTouched||dn(r.touchedFields,se),ae.keepDirty||(dn(r.dirtyFields,se),r.isDirty=ae.defaultValue?re(se,ei(pt(o,se))):re()),ae.keepError||(dn(r.errors,se),b.isValid&&L()),x.state.next({...r}))},qt=(se,ae={})=>{const ye=se?ei(se):o,Oe=ei(ye),je=ti(se),Ge=je?o:Oe;if(ae.keepDefaultValues||(o=ye),!ae.keepValues){if(ae.keepDirtyValues){const _t=new Set([...c.mount,...Object.keys(qc(o,a))]);for(const Mt of Array.from(_t))pt(r.dirtyFields,Mt)?vr(Ge,Mt,pt(a,Mt)):Pe(Mt,pt(Ge,Mt))}else{if(bb&&Zr(se))for(const _t of c.mount){const Mt=pt(n,_t);if(Mt&&Mt._f){const mr=Array.isArray(Mt._f.refs)?Mt._f.refs[0]:Mt._f.ref;if(xp(mr)){const cr=mr.closest("form");if(cr){cr.reset();break}}}}n={}}a=e.shouldUnregister?ae.keepDefaultValues?ei(o):{}:ei(Ge),x.array.next({values:{...Ge}}),x.values.next({values:{...Ge}})}c={mount:ae.keepDirtyValues?c.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!b.isValid||!!ae.keepIsValid||!!ae.keepDirtyValues,l.watch=!!e.shouldUnregister,x.state.next({submitCount:ae.keepSubmitCount?r.submitCount:0,isDirty:je?!1:ae.keepDirty?r.isDirty:!!(ae.keepDefaultValues&&!Vo(se,o)),isSubmitted:ae.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:je?{}:ae.keepDirtyValues?ae.keepDefaultValues&&a?qc(o,a):r.dirtyFields:ae.keepDefaultValues&&se?qc(o,se):ae.keepDirty?r.dirtyFields:{},touchedFields:ae.keepTouched?r.touchedFields:{},errors:ae.keepErrors?r.errors:{},isSubmitSuccessful:ae.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Jt=(se,ae)=>qt(bs(se)?se(a):se,ae);return{control:{register:gt,unregister:mt,getFieldState:xe,handleSubmit:yt,setError:at,_executeSchema:le,_getWatch:Z,_getDirty:re,_updateValid:L,_removeUnmounted:B,_updateFieldArray:I,_updateDisabledField:ft,_getFieldArray:pe,_reset:qt,_resetDefaultValues:()=>bs(e.defaultValues)&&e.defaultValues().then(se=>{Jt(se,e.resetOptions),x.state.next({isLoading:!1})}),_updateFormState:se=>{r={...r,...se}},_disableForm:vt,_subjects:x,_proxyFormState:b,_setErrors:z,get _fields(){return n},get _formValues(){return a},get _state(){return l},set _state(se){l=se},get _defaultValues(){return o},get _names(){return c},set _names(se){c=se},get _formState(){return r},set _formState(se){r=se},get _options(){return e},set _options(se){e={...e,...se}}},trigger:Ee,register:gt,handleSubmit:yt,watch:dt,setValue:Pe,getValues:Q,reset:Jt,resetField:Rt,clearErrors:lt,unregister:mt,setError:at,setFocus:(se,ae={})=>{const ye=pt(n,se),Oe=ye&&ye._f;if(Oe){const je=Oe.refs?Oe.refs[0]:Oe.ref;je.focus&&(je.focus(),ae.shouldSelect&&bs(je.select)&&je.select())}},getFieldState:xe}}function mo(t={}){const e=br.useRef(void 0),r=br.useRef(void 0),[n,o]=br.useState({isDirty:!1,isValidating:!1,isLoading:bs(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:bs(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...TM(t),formState:n});const a=e.current.control;return a._options=t,Sb({subject:a._subjects.state,next:l=>{p3(l,a._proxyFormState,a._updateFormState,!0)&&o({...a._formState})}}),br.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),br.useEffect(()=>{if(a._proxyFormState.isDirty){const l=a._getDirty();l!==n.isDirty&&a._subjects.state.next({isDirty:l})}},[a,n.isDirty]),br.useEffect(()=>{t.values&&!Vo(t.values,r.current)?(a._reset(t.values,a._options.resetOptions),r.current=t.values,o(l=>({...l}))):a._resetDefaultValues()},[t.values,a]),br.useEffect(()=>{t.errors&&a._setErrors(t.errors)},[t.errors,a]),br.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),br.useEffect(()=>{t.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[t.shouldUnregister,a]),e.current.formState=h3(n,a),e.current}const GE=(t,e,r)=>{if(t&&"reportValidity"in t){const n=pt(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},E3=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?GE(n.ref,r,t):n.refs&&n.refs.forEach(o=>GE(o,r,t))}},AM=(t,e)=>{e.shouldUseNativeValidation&&E3(t,e);const r={};for(const n in t){const o=pt(e.fields,n),a=Object.assign(t[n]||{},{ref:o&&o.ref});if(IM(e.names||Object.keys(t),n)){const l=Object.assign({},pt(r,n));vr(l,"root",a),vr(r,n,l)}else vr(r,n,a)}return r},IM=(t,e)=>t.some(r=>r.startsWith(e+"."));var PM=function(t,e){for(var r={};t.length;){var n=t[0],o=n.code,a=n.message,l=n.path.join(".");if(!r[l])if("unionErrors"in n){var c=n.unionErrors[0].errors[0];r[l]={message:c.message,type:c.code}}else r[l]={message:a,type:o};if("unionErrors"in n&&n.unionErrors.forEach(function(b){return b.errors.forEach(function(x){return t.push(x)})}),e){var p=r[l].types,m=p&&p[n.code];r[l]=g3(l,e,r,o,m?[].concat(m,n.message):n.message)}t.shift()}return r},yo=function(t,e,r){return r===void 0&&(r={}),function(n,o,a){try{return Promise.resolve(function(l,c){try{var p=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(m){return a.shouldUseNativeValidation&&E3({},a),{errors:{},values:r.raw?n:m}})}catch(m){return c(m)}return p&&p.then?p.then(void 0,c):p}(0,function(l){if(function(c){return Array.isArray(c?.errors)}(l))return{values:{},errors:AM(PM(l.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw l}))}catch(l){return Promise.reject(l)}}};const FM=({repository:t})=>Mc({mutationKey:["useRegisterMutation"],async mutationFn({login:e,name:r,password1:n}){return _b.parse(await t.create({shape:{name:r,login:e,password:n},entity:{name:r,login:e,password:n}}))}}),LM=Me.object({name:Me.string().min(1),login:Me.string().min(1),password1:Me.string().min(1),password2:Me.string().min(1)}).refine(t=>t.password1===t.password2,{message:"Passwords must match",path:["password1"]}),jM=({repository:t,onSuccess:e})=>{const r=FM({repository:t}),n=mo({resolver:yo(LM)}),o=ho({isLoading:n.formState.isLoading,isSubmitting:n.formState.isSubmitting}).slots;return g.jsxs("form",{className:o.base(),onSubmit:n.handleSubmit(async a=>r.mutateAsync(a,{onSuccess:e,onError:l=>{T_({error:l,errors:[S_({error:l,schema:R_,onError:({data:c})=>{n.setError("root",{message:c.message})}})],onError:c=>{n.setError("root",{message:c.message})}})}}).catch(()=>{})),children:[g.jsx(Is,{variant:{highlight:!0},error:n.formState.errors.root}),g.jsx(zr,{formState:n.formState,name:"name",label:g.jsx(ce,{label:"Name (label)"}),children:g.jsx("input",{type:"text",className:o.input(),...n.register("name")})}),g.jsx(zr,{formState:n.formState,name:"login",label:g.jsx(ce,{label:"Login (label)"}),children:g.jsx("input",{type:"text",className:o.input(),...n.register("login")})}),g.jsx(zr,{formState:n.formState,name:"password1",label:g.jsx(ce,{label:"Password 1 (label)"}),children:g.jsx("input",{type:"password",className:o.input(),...n.register("password1")})}),g.jsx(zr,{formState:n.formState,name:"password2",label:g.jsx(ce,{label:"Password 2 (label)"}),children:g.jsx("input",{type:"password",className:o.input(),...n.register("password2")})}),g.jsx(Un,{type:"submit",children:g.jsx(ce,{label:"Register (submit)"})})]})},N3=uo({entity:co.merge(Me.object({name:Me.string().min(1),login:Me.string().min(1),password:Me.string().min(1)})),shape:Me.object({name:Me.string().min(1),login:Me.string().min(1),password:Me.string().min(1)}),filter:fo.merge(Me.object({login:Me.string().optional(),password:Me.string().optional()}))}),DM=({database:t})=>po({name:"UserRepository",schema:N3,meta:{where:{id:"user.id",idIn:"user.id",login:"user.login",password:"user.password"}},insert(){return t.kysely.insertInto("User")},update(){return t.kysely.updateTable("User")},remove(){return t.kysely.deleteFrom("User")},select(){return t.kysely.selectFrom("User as user").selectAll("user")},async toCreate({entity:{password:e,...r}}){return{...r,password:e?v1.hash(e):void 0}}}),im=DM({database:pr}),MM=Rr("/$locale/apps/derivean/public/register")({component:()=>{const t=v_();return g.jsx("div",{className:N_(["flex","justify-center","h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:g.jsxs("div",{className:"flex flex-col bg-slate-100 p-20 w-1/2 m-10 drop-shadow-xl",children:[g.jsx("hr",{className:"my-12 h-0.5 border-t-0 bg-slate-300"}),g.jsx(jM,{repository:im,onSuccess:async e=>{$d.set("session",e),await t({to:"/$locale/apps/derivean/game"})}})]})})}}),BM=Rr("/$locale/apps/derivean/public/logout")({pendingComponent(){return g.jsx("div",{className:N_(["flex items-center justify-center h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:g.jsx(s3,{icon:hb,textTitle:g.jsx(ce,{label:"Logout (label)"}),textMessage:g.jsx(ce,{label:"Logout in progress..."}),css:{base:["p-4","bg-slate-200","rounded"]}})})},async loader({params:{locale:t}}){throw $d.remove("session"),qp({to:"/$locale/apps/derivean/public/login",params:{locale:t}})}}),WM=({repository:t})=>Mc({mutationKey:["useLoginMutation"],async mutationFn({login:e,password:r}){const n=await t.fetch({query:{where:{login:e,password:v1.hash(r)}}});if(!n)throw new Error("Invalid login or password");return{id:n.id,login:n.login,name:n.name}}}),$M=Me.object({login:Me.string().min(1),password:Me.string().min(1)}),UM=({repository:t,onSuccess:e})=>{const{locale:r}=Nn({from:"/$locale"}),n=WM({repository:t}),o=mo({resolver:yo($M)}),a=ho({isLoading:o.formState.isLoading,isSubmitting:o.formState.isSubmitting}).slots;return g.jsxs("form",{className:a.base(),onSubmit:o.handleSubmit(async l=>n.mutateAsync(l,{onSuccess:e,onError:c=>{T_({error:c,errors:[S_({error:c,schema:R_,onError:({data:p})=>{o.setError("root",{message:p.message})}})],onError:p=>{o.setError("root",{message:p.message})}})}}).catch(()=>{})),children:[g.jsx(Is,{variant:{highlight:!0},error:o.formState.errors.root}),g.jsx(zr,{formState:o.formState,name:"login",label:g.jsx(ce,{label:"Login (label)"}),children:g.jsx("input",{type:"text",className:a.input(),...o.register("login")})}),g.jsx(zr,{formState:o.formState,name:"password",label:g.jsx(ce,{label:"Password (label)"}),children:g.jsx("input",{type:"password",className:a.input(),...o.register("password")})}),g.jsxs("div",{className:"flex flex-row justify-between gap-8",children:[g.jsx(qi,{to:"/$locale/apps/derivean/public/register",params:{locale:r},children:g.jsx(ce,{label:"Register (link)"})}),g.jsx(Un,{type:"submit",children:g.jsx(ce,{label:"Login (submit)"})})]})]})},zM=Rr("/$locale/apps/derivean/public/login")({component:()=>{const t=v_();return g.jsx("div",{className:N_(["flex","justify-center","h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:g.jsxs("div",{className:"flex flex-col bg-slate-100 p-20 w-1/2 m-10 drop-shadow-xl",children:[g.jsx("hr",{className:"my-12 h-0.5 border-t-0 bg-slate-300"}),g.jsx(UM,{repository:im,onSuccess:async e=>{$d.set("session",e),await t({to:"/$locale/apps/derivean/game"})}})]})})}}),VM=({entity:t,...e})=>{const{locale:r}=Nn({from:"/$locale"});return g.jsxs(Ud,{...e,children:[g.jsx(ii,{icon:pb,to:"/$locale/apps/derivean/root/user/$id/view",params:{locale:r,id:t.id},children:g.jsx(ce,{label:"User detail (menu)"})}),g.jsx(ii,{icon:Su,to:"/$locale/apps/derivean/root/user/$id/building/list",params:{locale:r,id:t.id},children:g.jsx(ce,{label:"Building list (menu)"})})]})},HM=t=>{const{locale:e}=Nn({from:"/$locale"});return g.jsx(mb,{title:({entity:r})=>g.jsx(gb,{icon:pb,title:r.name}),actions:()=>g.jsx(g.Fragment,{children:g.jsx(qi,{icon:fb,to:"/$locale/apps/derivean/root/user/list",params:{locale:e},children:g.jsx(ce,{label:"User list (label)"})})}),...t})},k3=Rr("/$locale/apps/derivean/root/user/$id")({component(){const{tva:t}=as({from:"__root__"}),{entity:e}=k3.useLoaderData(),r=t().slots;return g.jsxs("div",{className:r.base(),children:[g.jsx(HM,{entity:e}),g.jsx(VM,{entity:e}),g.jsx(ul,{})]})},async loader({context:{queryClient:t},params:{id:e}}){return{entity:await im.withFetchLoader({queryClient:t,where:{id:e}})}}}),QM=Rr("/$locale/apps/derivean/root/resource/$id")({component:()=>g.jsx("div",{children:'Hello "/$locale/apps/derivean/root/resource/$id"!'})}),Np="icon-[vaadin--storage]",KM=({entity:t,...e})=>{const{locale:r}=Nn({from:"/$locale"});return g.jsxs(Ud,{...e,children:[g.jsx(ii,{icon:Su,to:"/$locale/apps/derivean/root/building/$id/view",params:{locale:r,id:t.id},children:g.jsx(ce,{label:"Building detail (label)"})}),g.jsx(ii,{icon:Np,to:"/$locale/apps/derivean/root/building/$id/storage/list",params:{locale:r,id:t.id},children:g.jsx(ce,{label:"Storage list (label)"})})]})},GM=t=>{const{locale:e}=Nn({from:"/$locale"});return g.jsx(mb,{title:({entity:r})=>g.jsx(gb,{icon:Su,title:r.baseBuilding.name,subtitle:r.baseBuilding.description}),actions:()=>g.jsx(g.Fragment,{children:g.jsx(qi,{icon:fb,to:"/$locale/apps/derivean/root/building/list",params:{locale:e},children:g.jsx(ce,{label:"Building list (label)"})})}),...t})},sm=uo({entity:MP,shape:Me.object({code:Me.string().min(1),label:Me.string().min(1),group:Me.string().nullish(),sort:Me.number()}),filter:fo.merge(Me.object({code:Me.string().optional(),group:Me.string().optional()}))}),JE=co.merge(Me.object({name:Me.string().min(1),description:Me.string().optional()})),Fu=uo({entity:JE,output:JE.merge(Me.object({tagIds:Me.array(Me.string()),tags:Me.array(sm.output)})),shape:Me.object({name:Me.string().min(1),description:Me.string().optional(),tagIds:Me.array(Me.string()).optional()}),filter:fo.merge(Me.object({baseBuildingId:Me.string().optional()}))}),ZE=co.merge(Me.object({baseBuildingId:Me.string().min(1),resourceId:Me.string().min(1),amount:Me.number().positive()})),om=uo({entity:ZE,output:ZE.merge(Me.object({resource:Fu.output})),shape:Me.object({resourceId:Me.string().min(1),amount:Me.union([Me.number().positive(),Me.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:"Size must be a number"})])}),filter:fo.merge(Me.object({baseBuildingId:Me.string().optional(),resourceId:Me.string().optional()}))}),XE=co.merge(Me.object({name:Me.string().min(1),description:Me.string().optional(),preview:Me.union([Me.boolean(),Me.number().int().refine(t=>t===0||t===1).transform(t=>typeof t=="boolean"?t:t===1)])})),Vd=uo({entity:XE,output:XE.merge(Me.object({requiredResources:Me.array(om.output)})),shape:Me.object({name:Me.string().min(1),description:Me.string().optional(),preview:Me.boolean()}),filter:fo}),JM=uo({entity:co.merge(Me.object({resourceId:Me.string().min(1),tagId:Me.string().min(1)})),shape:Me.object({resourceId:Me.string().min(1),tagId:Me.string().min(1)}),filter:fo.merge(Me.object({resourceId:Me.string().optional(),tagId:Me.string().optional()}))}),yv=po({name:"ResourceTagRepository",schema:JM,meta:{where:{id:"resourceTag.id",idIn:"resourceTag.id",resourceId:"resourceTag.resourceId",tagId:"resourceTag.tagId"},fulltext:["resource.id","resource.name","resourceTag.id","tag.code","tag.group","tag.id","tag.label"]},insert(){return pr.kysely.insertInto("ResourceTag")},update(){return pr.kysely.updateTable("ResourceTag")},remove(){return pr.kysely.deleteFrom("ResourceTag")},select(){return pr.kysely.selectFrom("ResourceTag as resourceTag").selectAll("resourceTag").leftJoin("Resource as resource","resource.id","resourceTag.resourceId").leftJoin("Tag as tag","tag.id","resourceTag.tagId")}}),ZM=({database:t,repository:e})=>po({name:"TagRepository",schema:sm,meta:{where:{code:"tag.code",group:"tag.group",id:"tag.id",idIn:"tag.id"},fulltext:["tag.code","tag.label","tag.group","tag.id"]},insert(){return t.kysely.insertInto("Tag")},update(){return t.kysely.updateTable("Tag")},remove(){return t.kysely.deleteFrom("Tag")},select(){return t.kysely.selectFrom("Tag as tag").selectAll("tag")},...e}),fu=ZM({database:pr,repository:{invalidate:[]}}),Ss=po({name:"Resource",schema:Fu,meta:{where:{id:"resource.id",idIn:"resource.id",baseBuildingId:"buildingRequirementResource.baseBuildingId"},fulltext:["resource.description","resource.name","resource.id"]},insert(){return pr.kysely.insertInto("Resource")},update(){return pr.kysely.updateTable("Resource")},remove(){return pr.kysely.deleteFrom("Resource")},select({query:{where:t,filter:e}}){let r=pr.kysely.selectFrom("Resource as resource").selectAll("resource");return(t?.baseBuildingId||e?.baseBuildingId)&&(r=r.leftJoin("BuildingRequirementResource as buildingRequirementResource","buildingRequirementResource.resourceId","resource.id")),r},async toOutput({entity:t}){const e=(await yv.list({query:{where:{resourceId:t.id}}})).map(({tagId:r})=>r);return{...t,tagIds:e,tags:await fu.list({query:{where:{idIn:e}}})}},event:{async onPostCreate({entity:t,shape:e}){await Promise.all(e.tagIds?.forEach(async r=>yv.create({entity:{resourceId:t.id,tagId:r},shape:{resourceId:t.id,tagId:r}}))||[])},async onPostPatch({entity:t,shape:e}){Array.isArray(e.tagIds)&&(await pr.kysely.deleteFrom("ResourceTag").where("resourceId","=",t.id).execute(),await Promise.all(e.tagIds.map(async r=>yv.create({entity:{resourceId:t.id,tagId:r},shape:{resourceId:t.id,tagId:r}}))))}}}),Xl=po({name:"BuildingRequirementResourceRepository",schema:om,meta:{where:{id:"buildingRequirementResource.id",idIn:"buildingRequirementResource.id",baseBuildingId:"buildingRequirementResource.baseBuildingId",resourceId:"buildingRequirementResource.resourceId"},fulltext:["buildingRequirementResource.id","buildingRequirementResource.baseBuildingId","buildingRequirementResource.resourceId","baseBuilding.name","resource.name"]},insert(){return pr.kysely.insertInto("BuildingRequirementResource")},update(){return pr.kysely.updateTable("BuildingRequirementResource")},remove(){return pr.kysely.deleteFrom("BuildingRequirementResource")},select(){return pr.kysely.selectFrom("BuildingRequirementResource as buildingRequirementResource").selectAll("buildingRequirementResource").leftJoin("BaseBuilding as baseBuilding","baseBuilding.id","buildingRequirementResource.baseBuildingId").leftJoin("Resource as resource","resource.id","buildingRequirementResource.resourceId")},async toOutput({entity:t}){return{...t,resource:await Ss.fetchOrThrow({query:{where:{id:t.resourceId}}})}}}),Es=po({name:"BaseBuilding",schema:Vd,meta:{where:{id:"baseBuilding.id",idIn:"baseBuilding.id"},fulltext:["baseBuilding.name","baseBuilding.description","baseBuilding.id"]},insert(){return pr.kysely.insertInto("BaseBuilding")},update(){return pr.kysely.updateTable("BaseBuilding")},remove(){return pr.kysely.deleteFrom("BaseBuilding")},select(){return pr.kysely.selectFrom("BaseBuilding as baseBuilding").selectAll("baseBuilding")},async toOutput({entity:t}){return{...t,requiredResources:await Xl.list({query:{where:{baseBuildingId:t.id}}})}}}),YE=co.merge(Me.object({userId:Me.string().min(1),baseBuildingId:Me.string().min(1)})),am=uo({entity:YE,output:YE.merge(Me.object({baseBuilding:Vd.output})),shape:Me.object({baseBuildingId:Me.string().min(1)}),filter:fo.merge(Me.object({userId:Me.string().optional(),baseBuildingId:Me.string().optional()}))}),Ga=po({name:"BuildingRepository",schema:am,meta:{where:{id:"building.id",idIn:"building.id",baseBuildingId:"building.baseBuildingId",userId:"building.userId"},fulltext:["building.id","building.baseBuildingId","building.userId","baseBuilding.name"]},insert(){return pr.kysely.insertInto("Building")},update(){return pr.kysely.updateTable("Building")},remove(){return pr.kysely.deleteFrom("Building")},select(){return pr.kysely.selectFrom("Building as building").selectAll("building").leftJoin("BaseBuilding as baseBuilding","baseBuilding.id","building.baseBuildingId")},async toOutput({entity:t}){return{...t,baseBuilding:await Es.fetchOrThrow({query:{where:{id:t.baseBuildingId}}})}}}),q3=Rr("/$locale/apps/derivean/root/building/$id")({component(){const{tva:t}=as({from:"__root__"}),{entity:e}=q3.useLoaderData(),r=t().slots;return g.jsxs("div",{className:r.base(),children:[g.jsx(GM,{entity:e}),g.jsx(KM,{entity:e}),g.jsx(ul,{})]})},async loader({context:{queryClient:t},params:{id:e}}){return{entity:await Ga.withFetchLoader({queryClient:t,where:{id:e}})}}}),eN=ba(),XM=[eN({name:"name",header(){return g.jsx(ce,{label:"User name (label)"})},render({data:t,value:e}){const{locale:r}=Nn({from:"/$locale"});return g.jsx(qi,{to:"/$locale/apps/derivean/root/user/$id/view",params:{locale:r,id:t.id},children:e})},size:14}),eN({name:"login",header(){return g.jsx(ce,{label:"User login (label)"})},render({value:t}){return t},size:14})],YM=({table:t,...e})=>g.jsx(va,{table:_a({...t,columns:XM}),...e}),e4=fa({filter:N3.filter}),Ph=Rr("/$locale/apps/derivean/root/user/list/")({component:()=>{const{data:t,count:e}=Ph.useLoaderData(),{global:r,filter:n,cursor:o,selection:a}=Ph.useSearch(),l=Ph.useNavigate(),{tva:c}=as({from:"__root__"}),p=c().slots;return g.jsx("div",{className:p.base(),children:g.jsx(YM,{table:{data:t,filter:{value:n,set(m){l({search:({cursor:b,...x})=>({...x,filter:m,cursor:{...b,page:0}})})}},selection:{type:"multi",value:a,set(m){l({search(b){return{...b,selection:m}}})}}},fulltext:{onFulltext:ga(l),value:r?.fulltext},cursor:{count:e,cursor:o,textTotal:g.jsx(ce,{label:"Number of items"}),onPage:pa(l),onSize:ma(l)}})})},validateSearch:da(e4),loaderDeps({search:{global:t,filter:e,cursor:r}}){return{global:t,filter:e,cursor:r}},loader:im.withRouteListLoader()}),tN=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:o=ho,css:a})=>{const l=mo({resolver:yo(sm.shape),defaultValues:{sort:0,...e}}),c=G.useContext(us),p=o({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return g.jsxs("form",{className:p.base(),onSubmit:fl({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:c})}}),children:[g.jsx(Is,{variant:{highlight:!0},error:l.formState.errors.root}),g.jsx(zr,{formState:l.formState,name:"code",label:g.jsx(ce,{label:"Tag code (label)"}),required:!0,children:g.jsx("input",{type:"text",className:p.input(),...l.register("code")})}),g.jsx(zr,{formState:l.formState,name:"label",label:g.jsx(ce,{label:"Resource description (label)"}),required:!0,children:g.jsx("input",{type:"text",className:p.input(),...l.register("label")})}),g.jsx(zr,{formState:l.formState,name:"group",label:g.jsx(ce,{label:"Tag group (label)"}),children:g.jsx("input",{type:"text",className:p.input(),...l.register("group")})}),g.jsx(zr,{formState:l.formState,name:"sort",label:g.jsx(ce,{label:"Tag sort (label)"}),children:g.jsx("input",{type:"number",className:p.input(),...l.register("sort")})}),g.jsx("div",{className:"flex flex-row justify-between gap-8",children:g.jsx(Un,{iconEnabled:bp,type:"submit",children:g.jsx(ce,{label:"Save tag (submit)"})})})]})},gv=ba(),t4=[gv({name:"code",header(){return g.jsx(ce,{label:"Tag code (label)"})},render({value:t}){return t},size:14}),gv({name:"label",header(){return g.jsx(ce,{label:"Tag label (label)"})},render({value:t}){return t},size:14}),gv({name:"group",header(){return g.jsx(ce,{label:"Tag group (label)"})},render({value:t}){return t},filter:{path:"group",onFilter({data:t,filter:e}){e.shallow("group",t.group)}},size:24})],C3=({group:t,table:e,...r})=>g.jsx(va,{table:_a({...e,columns:t4}),action:{table(){return g.jsxs(li,{children:[g.jsx(Cr,{label:g.jsx(ce,{label:"Create tag (menu)"}),textTitle:g.jsx(ce,{label:"Create tag (modal)"}),icon:bp,children:g.jsx(tN,{defaultValues:{group:t},mutation:fu.useCreateMutation({async wrap(n){return qr.promise(n(),{loading:g.jsx(ce,{label:"Saving tag (label)"}),success:g.jsx(ce,{label:"Tag successfully saved (label)"}),error:g.jsx(ce,{label:"Cannot save tag (label)"})})}}),onSuccess:async({modalContext:n})=>{n?.close()}})}),g.jsx(Cr,{icon:zn,label:g.jsx(ce,{label:"Delete tags (label)"}),textTitle:g.jsx(ce,{label:"Delete tags (modal)"}),disabled:!e.selection||e.selection.value.length===0,css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:g.jsx(ui,{repository:Ss,textContent:g.jsx(ce,{label:"Tag delete (content)"}),idIn:e.selection?.value})})]})},row({data:n}){return g.jsxs(li,{children:[g.jsx(Cr,{label:g.jsx(ce,{label:"Edit tag (menu)"}),textTitle:g.jsx(ce,{label:"Edit tag (modal)"}),icon:bp,children:g.jsx(tN,{defaultValues:{...n,group:t},mutation:fu.usePatchMutation({async wrap(o){return qr.promise(o(),{loading:g.jsx(ce,{label:"Saving tag (label)"}),success:g.jsx(ce,{label:"Tag successfully saved (label)"}),error:g.jsx(ce,{label:"Cannot save tag (label)"})})},async toPatch({shape:o}){return{entity:o,filter:{id:n.id}}}}),onSuccess:async({modalContext:o})=>{o?.close()}})}),g.jsx(Cr,{icon:zn,label:g.jsx(ce,{label:"Delete tag (label)"}),textTitle:g.jsx(ce,{label:"Delete tag (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:g.jsx(ui,{repository:fu,textContent:g.jsx(ce,{label:"Tag delete (content)"}),idIn:[n.id]})})]})}},...r}),r4=fa({filter:sm.filter}),Fh=Rr("/$locale/apps/derivean/root/tag/list/")({component:()=>{const{data:t,count:e}=Fh.useLoaderData(),{global:r,filter:n,cursor:o,selection:a}=Fh.useSearch(),l=Fh.useNavigate(),{tva:c}=as({from:"__root__"}),p=c().slots;return g.jsx("div",{className:p.base(),children:g.jsx(C3,{table:{data:t,filter:{value:n,set(m){l({search:({cursor:b,...x})=>({...x,filter:m,cursor:{...b,page:0}})})}},selection:{type:"multi",value:a,set(m){l({search(b){return{...b,selection:m}}})}}},fulltext:{onFulltext:ga(l),value:r?.fulltext},cursor:{count:e,cursor:o,textTotal:g.jsx(ce,{label:"Number of items"}),onPage:pa(l),onSize:ma(l)}})})},validateSearch:da(r4),loaderDeps({search:{global:t,filter:e,cursor:r}}){return{global:t,filter:e,cursor:r}},loader:fu.withRouteListLoader()}),n4=({group:t,...e})=>g.jsx(WD,{table:r=>g.jsx(C3,{group:t,...r}),render:({entities:r})=>g.jsx(o3,{tags:r}),useListQuery:({query:{where:r,...n},...o})=>fu.useListQuery({...o,query:{...n,where:{...r,group:t}}}),...e}),rN=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:o=ho,css:a})=>{const l=mo({resolver:yo(Fu.shape),defaultValues:e}),c=G.useContext(us),p=o({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return g.jsxs("form",{className:p.base(),onSubmit:fl({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:c})}}),children:[g.jsx(Is,{variant:{highlight:!0},error:l.formState.errors.root}),g.jsx(zr,{formState:l.formState,name:"name",label:g.jsx(ce,{label:"Resource name (label)"}),children:g.jsx("input",{type:"text",className:p.input(),...l.register("name")})}),g.jsx(zr,{formState:l.formState,name:"description",label:g.jsx(ce,{label:"Resource description (label)"}),children:g.jsx("input",{type:"text",className:p.input(),...l.register("description")})}),g.jsx(zr,{formState:l.formState,name:"tagIds",label:g.jsx(ce,{label:"Resource tags (label)"}),children:g.jsx(Pu,{control:l.control,name:"tagIds",render:({field:{ref:m,...b}})=>g.jsx(n4,{icon:yn,group:"resource",titleText:g.jsx(ce,{label:"Select resource tags (title)"}),allowEmpty:!0,...b})})}),g.jsx("div",{className:"flex flex-row justify-between gap-8",children:g.jsx(Un,{iconEnabled:yn,type:"submit",children:g.jsx(ce,{label:"Save resource (submit)"})})})]})},vv=ba(),i4=[vv({name:"name",header(){return g.jsx(ce,{label:"Resource name (label)"})},render({data:t,value:e}){const{locale:r}=Nn({from:"/$locale"});return g.jsx(qi,{to:"/$locale/apps/derivean/root/resource/$id/view",params:{locale:r,id:t.id},children:e})},size:18}),vv({name:"description",header(){return g.jsx(ce,{label:"Resource description (label)"})},render({value:t}){return t},size:16}),vv({name:"tags",header(){return g.jsx(ce,{label:"Resource tags (label)"})},render({value:t}){return g.jsx(o3,{tags:t})},size:32})],R3=({table:t,...e})=>g.jsx(va,{table:_a({...t,columns:i4}),action:{table(){return g.jsxs(li,{children:[g.jsx(Cr,{label:g.jsx(ce,{label:"Create resource (menu)"}),textTitle:g.jsx(ce,{label:"Create resource (modal)"}),icon:yn,children:g.jsx(rN,{mutation:Ss.useCreateMutation({async wrap(r){return qr.promise(r(),{loading:g.jsx(ce,{label:"Saving resource (label)"}),success:g.jsx(ce,{label:"Resource successfully saved (label)"}),error:g.jsx(ce,{label:"Cannot save resource (label)"})})}}),onSuccess:async({modalContext:r})=>{r?.close()}})}),g.jsx(Cr,{icon:zn,label:g.jsx(ce,{label:"Delete resources (label)"}),textTitle:g.jsx(ce,{label:"Delete resources (modal)"}),disabled:!t.selection||t.selection.value.length===0,css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:g.jsx(ui,{repository:Ss,textContent:g.jsx(ce,{label:"Resource delete (content)"}),idIn:t.selection?.value})})]})},row({data:r}){return g.jsxs(li,{children:[g.jsx(Cr,{label:g.jsx(ce,{label:"Edit resource (menu)"}),textTitle:g.jsx(ce,{label:"Edit resource (modal)"}),icon:yn,children:g.jsx(rN,{defaultValues:r,mutation:Ss.usePatchMutation({async wrap(n){return qr.promise(n(),{loading:g.jsx(ce,{label:"Saving resource (label)"}),success:g.jsx(ce,{label:"Resource successfully saved (label)"}),error:g.jsx(ce,{label:"Cannot save resource (label)"})})},async toPatch(){return{filter:{id:r.id}}}}),onSuccess:async({modalContext:n})=>{n?.close()}})}),g.jsx(Cr,{icon:zn,label:g.jsx(ce,{label:"Delete resource (label)"}),textTitle:g.jsx(ce,{label:"Delete resource (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:g.jsx(ui,{repository:Ss,textContent:g.jsx(ce,{label:"Resource delete (content)"}),idIn:[r.id]})})]})}},...e}),s4=fa({filter:Fu.filter}),Lh=Rr("/$locale/apps/derivean/root/resource/list/")({component:()=>{const{data:t,count:e}=Lh.useLoaderData(),{global:r,filter:n,cursor:o,selection:a}=Lh.useSearch(),l=Lh.useNavigate(),{tva:c}=as({from:"__root__"}),p=c().slots;return g.jsx("div",{className:p.base(),children:g.jsx(R3,{table:{data:t,filter:{value:n,set(m){l({search:({cursor:b,...x})=>({...x,filter:m,cursor:{...b,page:0}})})}},selection:{type:"multi",value:a,set(m){l({search(b){return{...b,selection:m}}})}}},fulltext:{onFulltext:ga(l),value:r?.fulltext},cursor:{count:e,cursor:o,textTotal:g.jsx(ce,{label:"Number of items"}),onPage:pa(l),onSize:ma(l)}})})},validateSearch:da(s4),loaderDeps({search:{global:t,filter:e,cursor:r}}){return{global:t,filter:e,cursor:r}},loader:Ss.withRouteListLoader()}),o4=Rr("/$locale/apps/derivean/root/building/list/")({component:()=>g.jsx("div",{children:'Hello "/$locale/apps/derivean/root/building/list/"!'})}),a4=({entity:t,...e})=>{const{locale:r}=Nn({from:"/$locale"});return g.jsxs(Ud,{...e,children:[g.jsx(ii,{icon:ua,to:"/$locale/apps/derivean/root/building/base/$id/view",params:{locale:r,id:t.id},children:g.jsx(ce,{label:"Base building detail (menu)"})}),g.jsx(ii,{icon:yn,to:"/$locale/apps/derivean/root/building/base/$id/requirement/resource/list",params:{locale:r,id:t.id},children:g.jsx(ce,{label:"Base building resource requirement (menu)"})}),g.jsx(ii,{icon:Np,to:"/$locale/apps/derivean/root/building/base/$id/storage/list",params:{locale:r,id:t.id},children:g.jsx(ce,{label:"Base building storage (menu)"})}),g.jsx(ii,{icon:yD,to:"/$locale/apps/derivean/root/building/base/$id/edit",params:{locale:r,id:t.id},children:g.jsx(ce,{label:"Base building edit (menu)"})})]})},l4=t=>{const{locale:e}=Nn({from:"/$locale"});return g.jsx(mb,{title:({entity:r})=>g.jsx(gb,{icon:ua,title:r.name}),actions:()=>g.jsx(qi,{icon:fb,to:"/$locale/apps/derivean/root/building/base/list",params:{locale:e},children:g.jsx(ce,{label:"Base building list (label)"})}),...t})},O3=Rr("/$locale/apps/derivean/root/building/base/$id")({component(){const{tva:t}=as({from:"__root__"}),{entity:e}=O3.useLoaderData(),r=t().slots;return g.jsxs("div",{className:r.base(),children:[g.jsx(l4,{entity:e}),g.jsx(a4,{entity:e}),g.jsx(ul,{})]})},async loader({context:{queryClient:t},params:{id:e}}){return{entity:await Es.withFetchLoader({queryClient:t,where:{id:e}})}}}),u4=Rr("/$locale/apps/derivean/root/user/$id/view/")({component:()=>"yep"}),c4=Rr("/$locale/apps/derivean/root/resource/$id/view/")({component:()=>g.jsx("div",{children:'Hello "/$locale/apps/derivean/root/resource/$id/view/"!'})}),d_=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:o=ho,css:a})=>{const l=mo({resolver:yo(Vd.shape),defaultValues:{preview:!0,...e}}),c=G.useContext(us),p=o({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return g.jsxs("form",{className:p.base(),onSubmit:fl({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:c})}}),children:[g.jsx(Is,{variant:{highlight:!0},error:l.formState.errors.root}),g.jsx(zr,{formState:l.formState,name:"name",label:g.jsx(ce,{label:"Base building name (label)"}),required:!0,children:g.jsx("input",{type:"text",className:p.input(),...l.register("name")})}),g.jsx(zr,{formState:l.formState,name:"description",label:g.jsx(ce,{label:"Base building description (label)"}),children:g.jsx("input",{type:"text",className:p.input(),...l.register("description")})}),g.jsx(zr,{formState:l.formState,name:"preview",label:g.jsx(ce,{label:"Base building preview (label)"}),hint:g.jsx(ce,{label:"Base building preview (hint)"}),required:!0,children:g.jsx(Pu,{control:l.control,name:"preview",render:({field:{ref:m,...b}})=>g.jsx(KL,{...b})})}),g.jsx("div",{className:"flex flex-row justify-between gap-8",children:g.jsx(Un,{iconEnabled:ua,type:"submit",children:g.jsx(ce,{label:"Save base building (submit)"})})})]})},_v=ba(),d4=[_v({name:"name",header(){return g.jsx(ce,{label:"Base building name (label)"})},render({data:t,value:e}){const{locale:r}=Nn({from:"/$locale"});return g.jsx(qi,{to:"/$locale/apps/derivean/root/building/base/$id/view",params:{locale:r,id:t.id},children:e})},size:10}),_v({name:"description",header(){return g.jsx(ce,{label:"Base building description (label)"})},render({value:t}){return t},size:24}),_v({name:"preview",header(){return g.jsx(ce,{label:"Base building preview (label)"})},render({value:t}){return g.jsx(HL,{value:t})},size:14})],T3=({table:t,...e})=>g.jsx(va,{table:_a({...t,columns:d4}),action:{table(){return g.jsxs(li,{children:[g.jsx(Cr,{label:g.jsx(ce,{label:"Create base building (menu)"}),textTitle:g.jsx(ce,{label:"Create base building (modal)"}),icon:ua,children:g.jsx(d_,{mutation:Es.useCreateMutation({async wrap(r){return qr.promise(r(),{loading:g.jsx(ce,{label:"Saving base building (label)"}),success:g.jsx(ce,{label:"Base building successfully saved (label)"}),error:g.jsx(ce,{label:"Cannot save base building (label)"})})}}),onSuccess:async({modalContext:r})=>{r?.close()}})}),g.jsx(Cr,{icon:zn,label:g.jsx(ce,{label:"Delete base buildings (label)"}),textTitle:g.jsx(ce,{label:"Delete base buildings (modal)"}),disabled:!t.selection||t.selection.value.length===0,css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:g.jsx(ui,{repository:Es,textContent:g.jsx(ce,{label:"Base building delete (content)"}),idIn:t.selection?.value})})]})},row({data:r}){return g.jsxs(li,{children:[g.jsx(Cr,{label:g.jsx(ce,{label:"Edit base building (menu)"}),textTitle:g.jsx(ce,{label:"Edit base building (modal)"}),icon:ua,children:g.jsx(d_,{defaultValues:r,mutation:Es.usePatchMutation({async wrap(n){return qr.promise(n(),{loading:g.jsx(ce,{label:"Saving base building (label)"}),success:g.jsx(ce,{label:"Base building successfully saved (label)"}),error:g.jsx(ce,{label:"Cannot save base building (label)"})})},async toPatch(){return{filter:{id:r.id}}}}),onSuccess:async({modalContext:n})=>{n?.close()}})}),g.jsx(Cr,{icon:zn,label:g.jsx(ce,{label:"Delete base building (label)"}),textTitle:g.jsx(ce,{label:"Delete base building (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:g.jsx(ui,{repository:Es,textContent:g.jsx(ce,{label:"Base building delete (content)"}),idIn:[r.id]})})]})}},...e}),f4=fa({filter:Vd.filter}),jh=Rr("/$locale/apps/derivean/root/building/base/list/")({component:()=>{const{data:t,count:e}=jh.useLoaderData(),{global:r,filter:n,cursor:o,selection:a}=jh.useSearch(),l=jh.useNavigate(),{tva:c}=as({from:"__root__"}),p=c().slots;return g.jsx("div",{className:p.base(),children:g.jsx(T3,{table:{data:t,filter:{value:n,set(m){l({search:({cursor:b,...x})=>({...x,filter:m,cursor:{...b,page:0}})})}},selection:{type:"multi",value:a,set(m){l({search(b){return{...b,selection:m}}})}}},fulltext:{onFulltext:ga(l),value:r?.fulltext},cursor:{count:e,cursor:o,textTotal:g.jsx(ce,{label:"Number of items"}),onPage:pa(l),onSize:ma(l)}})})},validateSearch:da(f4),loaderDeps({search:{global:t,filter:e,cursor:r}}){return{global:t,filter:e,cursor:r}},loader:Es.withRouteListLoader()}),h4=t=>g.jsx(fk,{items:[{id:"name",label:g.jsx(ce,{label:"Building name (label)"}),render({entity:e}){return e.baseBuilding.name}}],...t}),p4=Rr("/$locale/apps/derivean/root/building/$id/view/")({component(){const{entity:t}=ku({from:"/$locale/apps/derivean/root/building/$id"});return g.jsx("div",{children:g.jsx(h4,{entity:t})})}}),m4=t=>g.jsx(i3,{icon:ua,titleText:g.jsx(ce,{label:"Select base building (title)"}),table:T3,render:({entity:e})=>e.name,useListQuery:Es.useListQuery,...t}),nN=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:o=ho,css:a})=>{const l=mo({resolver:yo(am.shape),defaultValues:e}),c=G.useContext(us),p=o({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return g.jsxs("form",{className:p.base(),onSubmit:fl({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:c})}}),children:[g.jsx(Is,{variant:{highlight:!0},error:l.formState.errors.root}),g.jsx(zr,{formState:l.formState,name:"baseBuildingId",label:g.jsx(ce,{label:"Base building name (label)"}),children:g.jsx(Pu,{control:l.control,name:"baseBuildingId",render:({field:{ref:m,...b}})=>g.jsx(m4,{icon:ua,titleText:g.jsx(ce,{label:"Select base building (title)"}),allowEmpty:!0,...b})})}),g.jsx("div",{className:"flex flex-row justify-between gap-8",children:g.jsx(Un,{iconEnabled:yn,type:"submit",children:g.jsx(ce,{label:"Save Building (submit)"})})})]})},y4=ba(),g4=[y4({name:"baseBuilding.name",header(){return g.jsx(ce,{label:"Base building name (label)"})},render({data:t,value:e}){const{locale:r}=Nn({from:"/$locale"});return g.jsx(qi,{to:"/$locale/apps/derivean/root/building/$id/view",params:{locale:r,id:t.id},children:e})},size:14})],v4=({userId:t,table:e,...r})=>g.jsx(va,{table:_a({...e,columns:g4}),action:{table(){return g.jsxs(li,{children:[g.jsx(Cr,{label:g.jsx(ce,{label:"Create building (menu)"}),textTitle:g.jsx(ce,{label:"Create building (modal)"}),icon:yn,children:g.jsx(nN,{mutation:Ga.useCreateMutation({async wrap(n){return qr.promise(n(),{loading:g.jsx(ce,{label:"Saving building (label)"}),success:g.jsx(ce,{label:"Building successfully saved (label)"}),error:g.jsx(ce,{label:"Cannot save building (label)"})})},async toCreate({shape:n}){return{entity:{...n,userId:t}}}}),onSuccess:async({modalContext:n})=>{n?.close()}})}),g.jsx(Cr,{icon:zn,label:g.jsx(ce,{label:"Delete building (label)"}),textTitle:g.jsx(ce,{label:"Delete buildings (modal)"}),disabled:!e.selection||e.selection.value.length===0,css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:g.jsx(ui,{repository:Ga,textContent:g.jsx(ce,{label:"Building delete (content)"}),idIn:e.selection?.value})})]})},row({data:n}){return g.jsxs(li,{children:[g.jsx(Cr,{label:g.jsx(ce,{label:"Edit building (menu)"}),textTitle:g.jsx(ce,{label:"Edit building (modal)"}),icon:Su,children:g.jsx(nN,{defaultValues:n,mutation:Ga.usePatchMutation({async wrap(o){return qr.promise(o(),{loading:g.jsx(ce,{label:"Saving building (label)"}),success:g.jsx(ce,{label:"Building successfully saved (label)"}),error:g.jsx(ce,{label:"Cannot save building (label)"})})},async toPatch(){return{filter:{id:n.id}}}}),onSuccess:async({modalContext:o})=>{o?.close()}})}),g.jsx(Cr,{icon:zn,label:g.jsx(ce,{label:"Delete building (label)"}),textTitle:g.jsx(ce,{label:"Delete building (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:g.jsx(ui,{repository:Ga,textContent:g.jsx(ce,{label:"Building delete (content)"}),idIn:[n.id]})})]})}},...r}),_4=fa({filter:am.filter}),b4=Ga.withRouteListLoader(),Ac=Rr("/$locale/apps/derivean/root/user/$id/building/list/")({component(){const{data:t,count:e}=Ac.useLoaderData(),{global:r,filter:n,cursor:o,selection:a}=Ac.useSearch(),{id:l}=Ac.useParams(),c=Ac.useNavigate(),{tva:p}=as({from:"__root__"}),m=p().slots;return g.jsx("div",{className:m.base(),children:g.jsx(v4,{userId:l,table:{data:t,filter:{value:n,set(b){c({search:({cursor:x,...N})=>({...N,filter:b,cursor:{...x,page:0}})})}},selection:{type:"multi",value:a,set(b){c({search(x){return{...x,selection:b}}})}}},fulltext:{onFulltext:ga(c),value:r?.fulltext},cursor:{count:e,cursor:o,textTotal:g.jsx(ce,{label:"Number of items"}),onPage:pa(c),onSize:ma(c)}})})},validateSearch:da(_4),loaderDeps({search:{global:t,filter:e,cursor:r}}){return{global:t,filter:e,cursor:r}},async loader({context:t,deps:{filter:e,...r},params:{id:n}}){return b4({context:t,deps:{...r,filter:{...e,userId:n}}})}}),w4=t=>g.jsx(fk,{items:[{id:"name",label:g.jsx(ce,{label:"Base building name (label)"}),render({entity:e}){return e.name}},{id:"description",label:g.jsx(ce,{label:"Base building description (label)"}),render({entity:e}){return e.description||"-"}},{id:"requirement.resources",label:g.jsx(ce,{label:"Base building requirements (label)"}),render({entity:e}){return g.jsx(DD,{items:e.requiredResources,render:({entity:r})=>g.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[g.jsx("div",{className:"font-bold",children:r.resource.name}),g.jsxs("div",{className:"text-sm text-slate-400",children:["x",O_({number:r.amount})]})]})})}}],...t}),x4=Rr("/$locale/apps/derivean/root/building/base/$id/view/")({component:()=>{const{entity:t}=ku({from:"/$locale/apps/derivean/root/building/base/$id"});return g.jsx("div",{className:"w-1/2 mx-auto",children:g.jsx(w4,{entity:t})})}}),A3=Rr("/$locale/apps/derivean/root/building/base/$id/edit/")({component:()=>{const{entity:t}=ku({from:"/$locale/apps/derivean/root/building/base/$id"}),e=A3.useNavigate();return g.jsx("div",{className:"w-1/2 mx-auto",children:g.jsx(d_,{defaultValues:t,mutation:Es.usePatchMutation({async wrap(r){return qr.promise(r(),{loading:g.jsx(ce,{label:"Saving base building (label)"}),success:g.jsx(ce,{label:"Base building successfully saved (label)"}),error:g.jsx(ce,{label:"Cannot save base building (label)"})})},async toPatch(){return{filter:{id:t.id}}}}),onSuccess:async()=>{e({to:"/$locale/apps/derivean/root/building/base/$id/view",params:{id:t.id}})}})})}}),iN=co.merge(Me.object({buildingId:Me.string().min(1),resourceId:Me.string().min(1),amount:Me.number().positive()})),kb=uo({entity:iN,output:iN.merge(Me.object({resource:Fu.output,building:am.output})),shape:Me.object({resourceId:Me.string().min(1),amount:Me.union([Me.number().positive(),Me.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:"Size must be a number"})])}),filter:fo.merge(Me.object({buildingId:Me.string().optional(),resourceId:Me.string().optional()}))}),Ic=po({name:"StorageRepository",schema:kb,meta:{where:{id:"storage.id",idIn:"storage.id",buildingId:"storage.buildingId",resourceId:"storage.resourceId"},fulltext:["storage.id","storage.resourceId","storage.userId","resource.name","baseBuilding.name"]},insert(){return pr.kysely.insertInto("Storage")},update(){return pr.kysely.updateTable("Storage")},remove(){return pr.kysely.deleteFrom("Storage")},select(){return pr.kysely.selectFrom("Storage as storage").selectAll("storage").leftJoin("Resource as resource","resource.id","storage.resourceId").leftJoin("Building as building","building.id","storage.buildingId").leftJoin("BaseBuilding as baseBuilding","baseBuilding.id","building.baseBuildingId")},async toOutput({entity:t}){return{...t,building:await Ga.fetchOrThrow({query:{where:{id:t.buildingId}}}),resource:await Ss.fetchOrThrow({query:{where:{id:t.resourceId}}})}}}),qb=t=>g.jsx(i3,{icon:yn,titleText:g.jsx(ce,{label:"Select resource (title)"}),table:R3,render:({entity:e})=>e.name,useListQuery:Ss.useListQuery,...t}),sN=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:o=ho,css:a})=>{const l=mo({resolver:yo(kb.shape),defaultValues:e}),c=G.useContext(us),p=o({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return g.jsxs("form",{className:p.base(),onSubmit:fl({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:c})}}),children:[g.jsx(Is,{variant:{highlight:!0},error:l.formState.errors.root}),g.jsx(zr,{formState:l.formState,name:"resourceId",label:g.jsx(ce,{label:"Resource name (label)"}),children:g.jsx(Pu,{control:l.control,name:"resourceId",render:({field:{ref:m,...b}})=>g.jsx(qb,{icon:yn,titleText:g.jsx(ce,{label:"Select resource (title)"}),allowEmpty:!0,...b})})}),g.jsx(zr,{formState:l.formState,name:"amount",label:g.jsx(ce,{label:"Amount (label)"}),children:g.jsx("input",{type:"number",className:p.input(),...l.register("amount")})}),g.jsx("div",{className:"flex flex-row justify-between gap-8",children:g.jsx(Un,{iconEnabled:yn,type:"submit",children:g.jsx(ce,{label:"Save storage (submit)"})})})]})},oN=ba(),S4=[oN({name:"resource.name",header(){return g.jsx(ce,{label:"Resource name (label)"})},render({value:t}){return t},size:14}),oN({name:"amount",header(){return g.jsx(ce,{label:"Amount (label)"})},render({value:t}){return O_({number:t})},size:14})],E4=({buildingId:t,table:e,...r})=>g.jsx(va,{table:_a({...e,columns:S4}),action:{table(){return g.jsxs(li,{children:[g.jsx(Cr,{label:g.jsx(ce,{label:"Create resource (menu)"}),textTitle:g.jsx(ce,{label:"Create resource (modal)"}),icon:yn,children:g.jsx(sN,{mutation:Ic.useCreateMutation({async wrap(n){return qr.promise(n(),{loading:g.jsx(ce,{label:"Saving resource (label)"}),success:g.jsx(ce,{label:"Resource successfully saved (label)"}),error:g.jsx(ce,{label:"Cannot save resource (label)"})})},async toCreate({shape:n}){return{entity:{...n,buildingId:t}}}}),onSuccess:async({modalContext:n})=>{n?.close()}})}),g.jsx(Cr,{icon:zn,label:g.jsx(ce,{label:"Delete storage resources (label)"}),textTitle:g.jsx(ce,{label:"Delete storage resources (modal)"}),disabled:!e.selection||e.selection.value.length===0,css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:g.jsx(ui,{repository:Ic,textContent:g.jsx(ce,{label:"Storage resource delete (content)"}),idIn:e.selection?.value})})]})},row({data:n}){return g.jsxs(li,{children:[g.jsx(Cr,{label:g.jsx(ce,{label:"Edit resource (menu)"}),textTitle:g.jsx(ce,{label:"Edit resource (modal)"}),icon:yn,children:g.jsx(sN,{defaultValues:n,mutation:Ic.usePatchMutation({async wrap(o){return qr.promise(o(),{loading:g.jsx(ce,{label:"Saving resource (label)"}),success:g.jsx(ce,{label:"Resource successfully saved (label)"}),error:g.jsx(ce,{label:"Cannot save resource (label)"})})},async toPatch(){return{filter:{id:n.id}}}}),onSuccess:async({modalContext:o})=>{o?.close()}})}),g.jsx(Cr,{icon:zn,label:g.jsx(ce,{label:"Delete resource (label)"}),textTitle:g.jsx(ce,{label:"Delete resource (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:g.jsx(ui,{repository:Ic,textContent:g.jsx(ce,{label:"Storage resource delete (content)"}),idIn:[n.id]})})]})}},...r}),N4=fa({filter:kb.filter}),k4=Ic.withRouteListLoader(),Pc=Rr("/$locale/apps/derivean/root/building/$id/storage/list/")({component(){const{data:t,count:e}=Pc.useLoaderData(),{global:r,filter:n,cursor:o,selection:a}=Pc.useSearch(),{id:l}=Pc.useParams(),c=Pc.useNavigate(),{tva:p}=as({from:"__root__"}),m=p().slots;return g.jsx("div",{className:m.base(),children:g.jsx(E4,{buildingId:l,table:{data:t,filter:{value:n,set(b){c({search:({cursor:x,...N})=>({...N,filter:b,cursor:{...x,page:0}})})}},selection:{type:"multi",value:a,set(b){c({search(x){return{...x,selection:b}}})}}},fulltext:{onFulltext:ga(c),value:r?.fulltext},cursor:{count:e,cursor:o,textTotal:g.jsx(ce,{label:"Number of items"}),onPage:pa(c),onSize:ma(c)}})})},validateSearch:da(N4),loaderDeps({search:{global:t,filter:e,cursor:r}}){return{global:t,filter:e,cursor:r}},async loader({context:t,deps:{filter:e,...r},params:{id:n}}){return k4({context:t,deps:{...r,filter:{...e,buildingId:n}}})}}),aN=co.merge(Me.object({baseBuildingId:Me.string().min(1),resourceId:Me.string().min(1),level:Me.number().positive(),limit:Me.number().positive()})),Cb=uo({entity:aN,output:aN.merge(Me.object({baseBuilding:Vd.output,resource:Fu.output})),shape:Me.object({resourceId:Me.string().min(1),level:Me.union([Me.number().positive(),Me.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:"Size must be a number"})]),limit:Me.union([Me.number().positive(),Me.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:"Size must be a number"})])}),filter:fo.merge(Me.object({baseBuildingId:Me.string().optional(),resourceId:Me.string().optional()}))}),Fc=po({name:"BaseStorageRepository",schema:Cb,meta:{where:{id:"baseStorage.id",idIn:"baseStorage.id",baseBuildingId:"baseStorage.baseBuildingId",resourceId:"baseStorage.resourceId"},fulltext:["storage.id","storage.resourceId","storage.baseBuildingId","baseBuilding.name","resource.name"]},insert(){return pr.kysely.insertInto("BaseStorage")},update(){return pr.kysely.updateTable("BaseStorage")},remove(){return pr.kysely.deleteFrom("BaseStorage")},select(){return pr.kysely.selectFrom("BaseStorage as baseStorage").selectAll("baseStorage").leftJoin("Resource as resource","resource.id","baseStorage.resourceId").leftJoin("BaseBuilding as baseBuilding","baseBuilding.id","baseStorage.baseBuildingId")},async toOutput({entity:t}){return{...t,baseBuilding:await Es.fetchOrThrow({query:{where:{id:t.baseBuildingId}}}),resource:await Ss.fetchOrThrow({query:{where:{id:t.resourceId}}})}}}),lN=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:o=ho,css:a})=>{const l=mo({resolver:yo(Cb.shape),defaultValues:e}),c=G.useContext(us),p=o({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return g.jsxs("form",{className:p.base(),onSubmit:fl({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:c})}}),children:[g.jsx(Is,{variant:{highlight:!0},error:l.formState.errors.root}),g.jsx(zr,{formState:l.formState,name:"resourceId",label:g.jsx(ce,{label:"Resource name (label)"}),children:g.jsx(Pu,{control:l.control,name:"resourceId",render:({field:{ref:m,...b}})=>g.jsx(qb,{icon:yn,titleText:g.jsx(ce,{label:"Select resource (title)"}),allowEmpty:!0,...b})})}),g.jsx(zr,{formState:l.formState,name:"limit",label:g.jsx(ce,{label:"Limit (label)"}),children:g.jsx("input",{type:"number",className:p.input(),...l.register("limit")})}),g.jsx(zr,{formState:l.formState,name:"level",label:g.jsx(ce,{label:"Storage level (label)"}),children:g.jsx("input",{type:"number",className:p.input(),...l.register("level")})}),g.jsx("div",{className:"flex flex-row justify-between gap-8",children:g.jsx(Un,{iconEnabled:yn,type:"submit",children:g.jsx(ce,{label:"Save base storage (submit)"})})})]})},ph=ba(),q4=[ph({name:"baseBuilding.name",header(){return g.jsx(ce,{label:"Base building name (label)"})},render({value:t}){return t},size:18}),ph({name:"resource.name",header(){return g.jsx(ce,{label:"Resource name (label)"})},render({value:t}){return t},size:18}),ph({name:"level",header(){return g.jsx(ce,{label:"Storage level (label)"})},render({value:t}){return t},size:18}),ph({name:"limit",header(){return g.jsx(ce,{label:"Storage limit (label)"})},render({value:t}){return t},size:18})],C4=({baseBuildingId:t,table:e,...r})=>g.jsx(va,{table:_a({...e,columns:q4}),action:{table(){return g.jsxs(li,{children:[g.jsx(Cr,{label:g.jsx(ce,{label:"Create base storage (menu)"}),textTitle:g.jsx(ce,{label:"Create base storage (modal)"}),icon:Np,children:g.jsx(lN,{mutation:Fc.useCreateMutation({async wrap(n){return qr.promise(n(),{loading:g.jsx(ce,{label:"Saving base storage (label)"}),success:g.jsx(ce,{label:"Base storage successfully saved (label)"}),error:g.jsx(ce,{label:"Cannot save base storage (label)"})})},async toCreate({shape:n}){return{entity:{...n,baseBuildingId:t}}}}),onSuccess:async({modalContext:n})=>{n?.close()}})}),g.jsx(Cr,{icon:zn,label:g.jsx(ce,{label:"Delete base storage (label)"}),textTitle:g.jsx(ce,{label:"Delete base storage (modal)"}),disabled:!e.selection||e.selection.value.length===0,css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:g.jsx(ui,{repository:Fc,textContent:g.jsx(ce,{label:"Base storage delete (content)"}),idIn:e.selection?.value})})]})},row({data:n}){return g.jsxs(li,{children:[g.jsx(Cr,{label:g.jsx(ce,{label:"Edit base storage (menu)"}),textTitle:g.jsx(ce,{label:"Edit base storage (modal)"}),icon:Np,children:g.jsx(lN,{defaultValues:n,mutation:Fc.usePatchMutation({async wrap(o){return qr.promise(o(),{loading:g.jsx(ce,{label:"Saving base storage (label)"}),success:g.jsx(ce,{label:"Base storage successfully saved (label)"}),error:g.jsx(ce,{label:"Cannot save base storage (label)"})})},async toPatch(){return{filter:{id:n.id}}}}),onSuccess:async({modalContext:o})=>{o?.close()}})}),g.jsx(Cr,{icon:zn,label:g.jsx(ce,{label:"Delete base storage (label)"}),textTitle:g.jsx(ce,{label:"Delete base storage (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:g.jsx(ui,{repository:Fc,textContent:g.jsx(ce,{label:"Base storage delete (content)"}),idIn:[n.id]})})]})}},...r}),R4=fa({filter:Cb.filter}),O4=Fc.withRouteListLoader(),Lc=Rr("/$locale/apps/derivean/root/building/base/$id/storage/list/")({component(){const{data:t,count:e}=Lc.useLoaderData(),{global:r,filter:n,cursor:o,selection:a}=Lc.useSearch(),{id:l}=Lc.useParams(),c=Lc.useNavigate(),{tva:p}=as({from:"__root__"}),m=p().slots;return g.jsx("div",{className:m.base(),children:g.jsx(C4,{baseBuildingId:l,table:{data:t,filter:{value:n,set(b){c({search:({cursor:x,...N})=>({...N,filter:b,cursor:{...x,page:0}})})}},selection:{type:"multi",value:a,set(b){c({search(x){return{...x,selection:b}}})}}},fulltext:{onFulltext:ga(c),value:r?.fulltext},cursor:{count:e,cursor:o,textTotal:g.jsx(ce,{label:"Number of items"}),onPage:pa(c),onSize:ma(c)}})})},validateSearch:da(R4),loaderDeps({search:{global:t,filter:e,cursor:r}}){return{global:t,filter:e,cursor:r}},async loader({context:t,deps:{filter:e,...r},params:{id:n}}){return O4({context:t,deps:{...r,filter:{...e,baseBuildingId:n}}})}}),uN=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:o=ho,css:a})=>{const l=mo({resolver:yo(om.shape),defaultValues:e}),c=G.useContext(us),p=o({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return g.jsxs("form",{className:p.base(),onSubmit:fl({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:c})}}),children:[g.jsx(Is,{variant:{highlight:!0},error:l.formState.errors.root}),g.jsx(zr,{formState:l.formState,name:"resourceId",label:g.jsx(ce,{label:"Resource name (label)"}),children:g.jsx(Pu,{control:l.control,name:"resourceId",render:({field:{ref:m,...b}})=>g.jsx(qb,{...b})})}),g.jsx(zr,{formState:l.formState,name:"amount",label:g.jsx(ce,{label:"Amount (label)"}),children:g.jsx("input",{type:"number",className:p.input(),...l.register("amount")})}),g.jsx("div",{className:"flex flex-row justify-between gap-8",children:g.jsx(Un,{iconEnabled:yn,type:"submit",children:g.jsx(ce,{label:"Save resource requirement (submit)"})})})]})},bv=ba(),T4=[bv({name:"resource.name",header(){return g.jsx(ce,{label:"Resource name (label)"})},render({value:t}){return t},size:18}),bv({name:"amount",header(){return g.jsx(ce,{label:"Amount (label)"})},render({value:t}){return O_({number:t})},size:14}),bv({name:"resource.description",header(){return g.jsx(ce,{label:"Resource description (label)"})},render({value:t}){return t},size:24})],A4=({baseBuildingId:t,table:e,...r})=>g.jsx(va,{table:_a({...e,columns:T4}),action:{table(){return g.jsxs(li,{children:[g.jsx(Cr,{label:g.jsx(ce,{label:"Create resource requirement (menu)"}),textTitle:g.jsx(ce,{label:"Create resource requirement (modal)"}),icon:yn,children:g.jsx(uN,{mutation:Xl.useCreateMutation({async wrap(n){return qr.promise(n(),{loading:g.jsx(ce,{label:"Saving resource requirement (label)"}),success:g.jsx(ce,{label:"Resource requirement successfully saved (label)"}),error:g.jsx(ce,{label:"Cannot save resource requirement (label)"})})},async toCreate({shape:n}){return{entity:{...n,baseBuildingId:t}}}}),onSuccess:async({modalContext:n})=>{n?.close()}})}),g.jsx(Cr,{icon:zn,label:g.jsx(ce,{label:"Delete resource requirements (label)"}),textTitle:g.jsx(ce,{label:"Delete resource requirements (modal)"}),disabled:!e.selection||e.selection.value.length===0,css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:g.jsx(ui,{repository:Xl,textContent:g.jsx(ce,{label:"Resource requirements delete (content)"}),idIn:e.selection?.value})})]})},row({data:n}){return g.jsxs(li,{children:[g.jsx(Cr,{label:g.jsx(ce,{label:"Edit resource requirement (menu)"}),textTitle:g.jsx(ce,{label:"Edit resource requirement (modal)"}),icon:yn,children:g.jsx(uN,{defaultValues:n,mutation:Xl.usePatchMutation({async wrap(o){return qr.promise(o(),{loading:g.jsx(ce,{label:"Saving resource requirement (label)"}),success:g.jsx(ce,{label:"Resource requirement successfully saved (label)"}),error:g.jsx(ce,{label:"Cannot save resource requirement (label)"})})},async toPatch({shape:o}){return{entity:{...o,baseBuildingId:t},filter:{id:n.id}}}}),onSuccess:async({modalContext:o})=>{o?.close()}})}),g.jsx(Cr,{icon:zn,label:g.jsx(ce,{label:"Delete resource requirement (label)"}),textTitle:g.jsx(ce,{label:"Delete resource requirement (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:g.jsx(ui,{repository:Xl,textContent:g.jsx(ce,{label:"Resource requirement delete (content)"}),idIn:[n.id]})})]})}},...r}),I4=fa({filter:om.filter}),P4=Xl.withRouteListLoader(),jc=Rr("/$locale/apps/derivean/root/building/base/$id/requirement/resource/list")({component:()=>{const{data:t,count:e}=jc.useLoaderData(),{global:r,filter:n,cursor:o,selection:a}=jc.useSearch(),{id:l}=jc.useParams(),c=jc.useNavigate(),{tva:p}=as({from:"__root__"}),m=p().slots;return g.jsx("div",{className:m.base(),children:g.jsx(A4,{baseBuildingId:l,table:{data:t,filter:{value:n,set(b){c({search:({cursor:x,...N})=>({...N,filter:b,cursor:{...x,page:0}})})}},selection:{type:"multi",value:a,set(b){c({search(x){return{...x,selection:b}}})}}},fulltext:{onFulltext:ga(c),value:r?.fulltext},cursor:{count:e,cursor:o,textTotal:g.jsx(ce,{label:"Number of items"}),onPage:pa(c),onSize:ma(c)}})})},validateSearch:da(I4),loaderDeps({search:{global:t,filter:e,cursor:r}}){return{global:t,filter:e,cursor:r}},async loader({context:t,deps:{filter:e,...r},params:{id:n}}){return P4({context:t,deps:{...r,filter:{...e,baseBuildingId:n}}})}}),Rb=nM.update({id:"/$locale",path:"/$locale",getParentRoute:()=>vb}),F4=oM.update({id:"/",path:"/",getParentRoute:()=>vb}),L4=aM.update({id:"/",path:"/",getParentRoute:()=>Rb}),Lu=lM.update({id:"/apps/derivean",path:"/apps/derivean",getParentRoute:()=>Rb}),Ps=dM.update({id:"/root",path:"/root",getParentRoute:()=>Lu}),I3=hM.update({id:"/game",path:"/game",getParentRoute:()=>Lu}),j4=pM.update({id:"/",path:"/",getParentRoute:()=>I3}),D4=MM.update({id:"/public/register",path:"/public/register",getParentRoute:()=>Lu}),M4=BM.update({id:"/public/logout",path:"/public/logout",getParentRoute:()=>Lu}),B4=zM.update({id:"/public/login",path:"/public/login",getParentRoute:()=>Lu}),Ob=k3.update({id:"/user/$id",path:"/user/$id",getParentRoute:()=>Ps}),P3=QM.update({id:"/resource/$id",path:"/resource/$id",getParentRoute:()=>Ps}),Tb=q3.update({id:"/building/$id",path:"/building/$id",getParentRoute:()=>Ps}),W4=Ph.update({id:"/user/list/",path:"/user/list/",getParentRoute:()=>Ps}),$4=Fh.update({id:"/tag/list/",path:"/tag/list/",getParentRoute:()=>Ps}),U4=Lh.update({id:"/resource/list/",path:"/resource/list/",getParentRoute:()=>Ps}),z4=o4.update({id:"/building/list/",path:"/building/list/",getParentRoute:()=>Ps}),Hd=O3.update({id:"/building/base/$id",path:"/building/base/$id",getParentRoute:()=>Ps}),V4=u4.update({id:"/view/",path:"/view/",getParentRoute:()=>Ob}),H4=c4.update({id:"/view/",path:"/view/",getParentRoute:()=>P3}),Q4=jh.update({id:"/building/base/list/",path:"/building/base/list/",getParentRoute:()=>Ps}),K4=p4.update({id:"/view/",path:"/view/",getParentRoute:()=>Tb}),G4=Ac.update({id:"/building/list/",path:"/building/list/",getParentRoute:()=>Ob}),J4=x4.update({id:"/view/",path:"/view/",getParentRoute:()=>Hd}),Z4=A3.update({id:"/edit/",path:"/edit/",getParentRoute:()=>Hd}),X4=Pc.update({id:"/storage/list/",path:"/storage/list/",getParentRoute:()=>Tb}),Y4=Lc.update({id:"/storage/list/",path:"/storage/list/",getParentRoute:()=>Hd}),eB=jc.update({id:"/requirement/resource/list",path:"/requirement/resource/list",getParentRoute:()=>Hd}),tB={LocaleAppsDeriveanGameIndexRoute:j4},rB=I3._addFileChildren(tB),nB={LocaleAppsDeriveanRootBuildingIdViewIndexRoute:K4,LocaleAppsDeriveanRootBuildingIdStorageListIndexRoute:X4},iB=Tb._addFileChildren(nB),sB={LocaleAppsDeriveanRootResourceIdViewIndexRoute:H4},oB=P3._addFileChildren(sB),aB={LocaleAppsDeriveanRootUserIdViewIndexRoute:V4,LocaleAppsDeriveanRootUserIdBuildingListIndexRoute:G4},lB=Ob._addFileChildren(aB),uB={LocaleAppsDeriveanRootBuildingBaseIdEditIndexRoute:Z4,LocaleAppsDeriveanRootBuildingBaseIdViewIndexRoute:J4,LocaleAppsDeriveanRootBuildingBaseIdRequirementResourceListRoute:eB,LocaleAppsDeriveanRootBuildingBaseIdStorageListIndexRoute:Y4},cB=Hd._addFileChildren(uB),dB={LocaleAppsDeriveanRootBuildingIdRoute:iB,LocaleAppsDeriveanRootResourceIdRoute:oB,LocaleAppsDeriveanRootUserIdRoute:lB,LocaleAppsDeriveanRootBuildingBaseIdRoute:cB,LocaleAppsDeriveanRootBuildingListIndexRoute:z4,LocaleAppsDeriveanRootResourceListIndexRoute:U4,LocaleAppsDeriveanRootTagListIndexRoute:$4,LocaleAppsDeriveanRootUserListIndexRoute:W4,LocaleAppsDeriveanRootBuildingBaseListIndexRoute:Q4},fB=Ps._addFileChildren(dB),hB={LocaleAppsDeriveanGameRoute:rB,LocaleAppsDeriveanRootRoute:fB,LocaleAppsDeriveanPublicLoginRoute:B4,LocaleAppsDeriveanPublicLogoutRoute:M4,LocaleAppsDeriveanPublicRegisterRoute:D4},pB=Lu._addFileChildren(hB),mB={LocaleIndexRoute:L4,LocaleAppsDeriveanRoute:pB},yB=Rb._addFileChildren(mB),gB={IndexRoute:F4,LocaleRoute:yB},vB=vb._addFileChildren(gB)._addFileTypes(),F3=new oC({defaultOptions:{queries:{placeholderData:Qq}}}),_B=rR({routeTree:vB,context:{queryClient:F3,tva:YL},defaultPendingComponent:qD,defaultPreload:"intent",defaultPreloadStaleTime:0,defaultPendingMinMs:200}),cN=document.getElementById("app");sA({limit:{maxRequests:10,perMilliseconds:100}});cN.innerHTML||eM.createRoot(cN).render(g.jsx(fC,{client:F3,children:g.jsx(qR,{router:_B})}))})();