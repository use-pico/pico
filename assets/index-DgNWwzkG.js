(async()=>{function _R(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var B_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ac(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function wR(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var ib={exports:{}},jd={},sb={exports:{}},pr={};var yN;function xR(){if(yN)return pr;yN=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function E(Q){return Q===null||typeof Q!="object"?null:(Q=w&&Q[w]||Q["@@iterator"],typeof Q=="function"?Q:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,C={};function A(Q,Se,ut){this.props=Q,this.context=Se,this.refs=C,this.updater=ut||k}A.prototype.isReactComponent={},A.prototype.setState=function(Q,Se){if(typeof Q!="object"&&typeof Q!="function"&&Q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Q,Se,"setState")},A.prototype.forceUpdate=function(Q){this.updater.enqueueForceUpdate(this,Q,"forceUpdate")};function D(){}D.prototype=A.prototype;function F(Q,Se,ut){this.props=Q,this.context=Se,this.refs=C,this.updater=ut||k}var $=F.prototype=new D;$.constructor=F,q($,A.prototype),$.isPureReactComponent=!0;var H=Array.isArray,G=Object.prototype.hasOwnProperty,B={current:null},Z={key:!0,ref:!0,__self:!0,__source:!0};function ie(Q,Se,ut){var lt,ft={},gt=null,ht=null;if(Se!=null)for(lt in Se.ref!==void 0&&(ht=Se.ref),Se.key!==void 0&&(gt=""+Se.key),Se)G.call(Se,lt)&&!Z.hasOwnProperty(lt)&&(ft[lt]=Se[lt]);var vt=arguments.length-2;if(vt===1)ft.children=ut;else if(1<vt){for(var jt=Array(vt),bt=0;bt<vt;bt++)jt[bt]=arguments[bt+2];ft.children=jt}if(Q&&Q.defaultProps)for(lt in vt=Q.defaultProps,vt)ft[lt]===void 0&&(ft[lt]=vt[lt]);return{$$typeof:t,type:Q,key:gt,ref:ht,props:ft,_owner:B.current}}function V(Q,Se){return{$$typeof:t,type:Q.type,key:Se,ref:Q.ref,props:Q.props,_owner:Q._owner}}function ne(Q){return typeof Q=="object"&&Q!==null&&Q.$$typeof===t}function M(Q){var Se={"=":"=0",":":"=2"};return"$"+Q.replace(/[=:]/g,function(ut){return Se[ut]})}var oe=/\/+/g;function Y(Q,Se){return typeof Q=="object"&&Q!==null&&Q.key!=null?M(""+Q.key):Se.toString(36)}function me(Q,Se,ut,lt,ft){var gt=typeof Q;(gt==="undefined"||gt==="boolean")&&(Q=null);var ht=!1;if(Q===null)ht=!0;else switch(gt){case"string":case"number":ht=!0;break;case"object":switch(Q.$$typeof){case t:case e:ht=!0}}if(ht)return ht=Q,ft=ft(ht),Q=lt===""?"."+Y(ht,0):lt,H(ft)?(ut="",Q!=null&&(ut=Q.replace(oe,"$&/")+"/"),me(ft,Se,ut,"",function(bt){return bt})):ft!=null&&(ne(ft)&&(ft=V(ft,ut+(!ft.key||ht&&ht.key===ft.key?"":(""+ft.key).replace(oe,"$&/")+"/")+Q)),Se.push(ft)),1;if(ht=0,lt=lt===""?".":lt+":",H(Q))for(var vt=0;vt<Q.length;vt++){gt=Q[vt];var jt=lt+Y(gt,vt);ht+=me(gt,Se,ut,jt,ft)}else if(jt=E(Q),typeof jt=="function")for(Q=jt.call(Q),vt=0;!(gt=Q.next()).done;)gt=gt.value,jt=lt+Y(gt,vt++),ht+=me(gt,Se,ut,jt,ft);else if(gt==="object")throw Se=String(Q),Error("Objects are not valid as a React child (found: "+(Se==="[object Object]"?"object with keys {"+Object.keys(Q).join(", ")+"}":Se)+"). If you meant to render a collection of children, use an array instead.");return ht}function Te(Q,Se,ut){if(Q==null)return Q;var lt=[],ft=0;return me(Q,lt,"","",function(gt){return Se.call(ut,gt,ft++)}),lt}function Ce(Q){if(Q._status===-1){var Se=Q._result;Se=Se(),Se.then(function(ut){(Q._status===0||Q._status===-1)&&(Q._status=1,Q._result=ut)},function(ut){(Q._status===0||Q._status===-1)&&(Q._status=2,Q._result=ut)}),Q._status===-1&&(Q._status=0,Q._result=Se)}if(Q._status===1)return Q._result.default;throw Q._result}var je={current:null},be={transition:null},ge={ReactCurrentDispatcher:je,ReactCurrentBatchConfig:be,ReactCurrentOwner:B};function Ee(){throw Error("act(...) is not supported in production builds of React.")}return pr.Children={map:Te,forEach:function(Q,Se,ut){Te(Q,function(){Se.apply(this,arguments)},ut)},count:function(Q){var Se=0;return Te(Q,function(){Se++}),Se},toArray:function(Q){return Te(Q,function(Se){return Se})||[]},only:function(Q){if(!ne(Q))throw Error("React.Children.only expected to receive a single React element child.");return Q}},pr.Component=A,pr.Fragment=r,pr.Profiler=s,pr.PureComponent=F,pr.StrictMode=n,pr.Suspense=d,pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,pr.act=Ee,pr.cloneElement=function(Q,Se,ut){if(Q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Q+".");var lt=q({},Q.props),ft=Q.key,gt=Q.ref,ht=Q._owner;if(Se!=null){if(Se.ref!==void 0&&(gt=Se.ref,ht=B.current),Se.key!==void 0&&(ft=""+Se.key),Q.type&&Q.type.defaultProps)var vt=Q.type.defaultProps;for(jt in Se)G.call(Se,jt)&&!Z.hasOwnProperty(jt)&&(lt[jt]=Se[jt]===void 0&&vt!==void 0?vt[jt]:Se[jt])}var jt=arguments.length-2;if(jt===1)lt.children=ut;else if(1<jt){vt=Array(jt);for(var bt=0;bt<jt;bt++)vt[bt]=arguments[bt+2];lt.children=vt}return{$$typeof:t,type:Q.type,key:ft,ref:gt,props:lt,_owner:ht}},pr.createContext=function(Q){return Q={$$typeof:l,_currentValue:Q,_currentValue2:Q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Q.Provider={$$typeof:o,_context:Q},Q.Consumer=Q},pr.createElement=ie,pr.createFactory=function(Q){var Se=ie.bind(null,Q);return Se.type=Q,Se},pr.createRef=function(){return{current:null}},pr.forwardRef=function(Q){return{$$typeof:u,render:Q}},pr.isValidElement=ne,pr.lazy=function(Q){return{$$typeof:y,_payload:{_status:-1,_result:Q},_init:Ce}},pr.memo=function(Q,Se){return{$$typeof:m,type:Q,compare:Se===void 0?null:Se}},pr.startTransition=function(Q){var Se=be.transition;be.transition={};try{Q()}finally{be.transition=Se}},pr.unstable_act=Ee,pr.useCallback=function(Q,Se){return je.current.useCallback(Q,Se)},pr.useContext=function(Q){return je.current.useContext(Q)},pr.useDebugValue=function(){},pr.useDeferredValue=function(Q){return je.current.useDeferredValue(Q)},pr.useEffect=function(Q,Se){return je.current.useEffect(Q,Se)},pr.useId=function(){return je.current.useId()},pr.useImperativeHandle=function(Q,Se,ut){return je.current.useImperativeHandle(Q,Se,ut)},pr.useInsertionEffect=function(Q,Se){return je.current.useInsertionEffect(Q,Se)},pr.useLayoutEffect=function(Q,Se){return je.current.useLayoutEffect(Q,Se)},pr.useMemo=function(Q,Se){return je.current.useMemo(Q,Se)},pr.useReducer=function(Q,Se,ut){return je.current.useReducer(Q,Se,ut)},pr.useRef=function(Q){return je.current.useRef(Q)},pr.useState=function(Q){return je.current.useState(Q)},pr.useSyncExternalStore=function(Q,Se,ut){return je.current.useSyncExternalStore(Q,Se,ut)},pr.useTransition=function(){return je.current.useTransition()},pr.version="18.3.1",pr}var vN;function Jf(){return vN||(vN=1,sb.exports=xR()),sb.exports}var bN;function SR(){if(bN)return jd;bN=1;var t=Jf(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,m){var y,w={},E=null,k=null;m!==void 0&&(E=""+m),d.key!==void 0&&(E=""+d.key),d.ref!==void 0&&(k=d.ref);for(y in d)n.call(d,y)&&!o.hasOwnProperty(y)&&(w[y]=d[y]);if(u&&u.defaultProps)for(y in d=u.defaultProps,d)w[y]===void 0&&(w[y]=d[y]);return{$$typeof:e,type:u,key:E,ref:k,props:w,_owner:s.current}}return jd.Fragment=r,jd.jsx=l,jd.jsxs=l,jd}var _N;function NR(){return _N||(_N=1,ib.exports=SR()),ib.exports}var p=NR(),Pc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Zl=typeof window>"u"||"Deno"in globalThis;function Ns(){}function ER(t,e){return typeof t=="function"?t(e):t}function $_(t){return typeof t=="number"&&t>=0&&t!==1/0}function OI(t,e){return Math.max(t+(e||0)-Date.now(),0)}function oc(t,e){return typeof t=="function"?t(e):t}function Hs(t,e){return typeof t=="function"?t(e):t}function wN(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:l,stale:u}=t;if(l){if(n){if(e.queryHash!==Mw(l,e.options))return!1}else if(!bf(e.queryKey,l))return!1}if(r!=="all"){const d=e.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||s&&s!==e.state.fetchStatus||o&&!o(e))}function xN(t,e){const{exact:r,status:n,predicate:s,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(r){if(Yl(e.options.mutationKey)!==Yl(o))return!1}else if(!bf(e.options.mutationKey,o))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function Mw(t,e){return(e?.queryKeyHashFn||Yl)(t)}function Yl(t){return JSON.stringify(t,(e,r)=>W_(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function bf(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!bf(t[r],e[r])):!1}function Bw(t,e){if(t===e)return t;const r=SN(t)&&SN(e);if(r||W_(t)&&W_(e)){const n=r?t:Object.keys(t),s=n.length,o=r?e:Object.keys(e),l=o.length,u=r?[]:{};let d=0;for(let m=0;m<l;m++){const y=r?m:o[m];(!r&&n.includes(y)||r)&&t[y]===void 0&&e[y]===void 0?(u[y]=void 0,d++):(u[y]=Bw(t[y],e[y]),u[y]===t[y]&&t[y]!==void 0&&d++)}return s===l&&d===s?t:u}return e}function Fm(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function SN(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function W_(t){if(!NN(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!NN(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function NN(t){return Object.prototype.toString.call(t)==="[object Object]"}function kR(t){return new Promise(e=>{setTimeout(e,t)})}function z_(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Bw(t,e):e}function IR(t){return t}function qR(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function CR(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var $w=Symbol();function RI(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===$w?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var TR=class extends Pc{#e;#t;#r;constructor(){super(),this.#r=t=>{if(!Zl&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Ww=new TR,OR=class extends Pc{#e=!0;#t;#r;constructor(){super(),this.#r=t=>{if(!Zl&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#e}},Lm=new OR;function U_(){let t,e;const r=new Promise((s,o)=>{t=s,e=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}function RR(t){return Math.min(1e3*2**t,3e4)}function AI(t){return(t??"online")==="online"?Lm.isOnline():!0}var PI=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function ob(t){return t instanceof PI}function jI(t){let e=!1,r=0,n=!1,s;const o=U_(),l=C=>{n||(E(new PI(C)),t.abort?.())},u=()=>{e=!0},d=()=>{e=!1},m=()=>Ww.isFocused()&&(t.networkMode==="always"||Lm.isOnline())&&t.canRun(),y=()=>AI(t.networkMode)&&t.canRun(),w=C=>{n||(n=!0,t.onSuccess?.(C),s?.(),o.resolve(C))},E=C=>{n||(n=!0,t.onError?.(C),s?.(),o.reject(C))},k=()=>new Promise(C=>{s=A=>{(n||m())&&C(A)},t.onPause?.()}).then(()=>{s=void 0,n||t.onContinue?.()}),q=()=>{if(n)return;let C;const A=r===0?t.initialPromise:void 0;try{C=A??t.fn()}catch(D){C=Promise.reject(D)}Promise.resolve(C).then(w).catch(D=>{if(n)return;const F=t.retry??(Zl?0:3),$=t.retryDelay??RR,H=typeof $=="function"?$(r,D):$,G=F===!0||typeof F=="number"&&r<F||typeof F=="function"&&F(r,D);if(e||!G){E(D);return}r++,t.onFail?.(r,D),kR(H).then(()=>m()?void 0:k()).then(()=>{e?E(D):q()})})};return{promise:o,cancel:l,continue:()=>(s?.(),o),cancelRetry:u,continueRetry:d,canStart:y,start:()=>(y()?q():k().then(q),o)}}function AR(){let t=[],e=0,r=u=>{u()},n=u=>{u()},s=u=>setTimeout(u,0);const o=u=>{e?t.push(u):s(()=>{r(u)})},l=()=>{const u=t;t=[],u.length&&s(()=>{n(()=>{u.forEach(d=>{r(d)})})})};return{batch:u=>{let d;e++;try{d=u()}finally{e--,e||l()}return d},batchCalls:u=>(...d)=>{o(()=>{u(...d)})},schedule:o,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{n=u},setScheduler:u=>{s=u}}}var Rn=AR(),FI=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),$_(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Zl?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},PR=class extends FI{#e;#t;#r;#n;#i;#s;constructor(t){super(),this.#s=!1,this.#i=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=jR(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(t){this.options={...this.#i,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){const r=z_(this.state.data,t,this.options);return this.#o({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#o({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#n?.promise;return this.#n?.cancel(t),e?e.then(Ns).catch(Ns):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Hs(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===$w||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!OI(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#n&&(this.#s?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(d=>d.options.queryFn);u&&this.setOptions(u.options)}const r=new AbortController,n=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#s=!0,r.signal)})},s=()=>{const u=RI(this.options,e),d={queryKey:this.queryKey,meta:this.meta};return n(d),this.#s=!1,this.options.persister?this.options.persister(u,d,this):u(d)},o={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};n(o),this.options.behavior?.onFetch(o,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#o({type:"fetch",meta:o.fetchOptions?.meta});const l=u=>{ob(u)&&u.silent||this.#o({type:"error",error:u}),ob(u)||(this.#r.config.onError?.(u,this),this.#r.config.onSettled?.(this.state.data,u,this)),this.scheduleGc()};return this.#n=jI({initialPromise:e?.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:u=>{if(u===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(d){l(d);return}this.#r.config.onSuccess?.(u,this),this.#r.config.onSettled?.(u,this.state.error,this),this.scheduleGc()},onError:l,onFail:(u,d)=>{this.#o({type:"failed",failureCount:u,error:d})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#n.start()}#o(t){const e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...LI(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=t.error;return ob(n)&&n.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),Rn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function LI(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:AI(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function jR(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var FR=class extends Pc{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,r){const n=e.queryKey,s=e.queryHash??Mw(n,e);let o=this.get(s);return o||(o=new PR({cache:this,queryKey:n,queryHash:s,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(o)),o}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Rn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>wN(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>wN(t,r)):e}notify(t){Rn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Rn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Rn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},LR=class extends FI{#e;#t;#r;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||DI(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){this.#r=jI({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(n,s)=>{this.#n({type:"failed",failureCount:n,error:s})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const e=this.state.status==="pending",r=!this.#r.canStart();try{if(!e){this.#n({type:"pending",variables:t,isPaused:r}),await this.#t.config.onMutate?.(t,this);const s=await this.options.onMutate?.(t);s!==this.state.context&&this.#n({type:"pending",context:s,variables:t,isPaused:r})}const n=await this.#r.start();return await this.#t.config.onSuccess?.(n,t,this.state.context,this),await this.options.onSuccess?.(n,t,this.state.context),await this.#t.config.onSettled?.(n,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(n,null,t,this.state.context),this.#n({type:"success",data:n}),n}catch(n){try{throw await this.#t.config.onError?.(n,t,this.state.context,this),await this.options.onError?.(n,t,this.state.context),await this.#t.config.onSettled?.(void 0,n,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,n,t,this.state.context),n}finally{this.#n({type:"error",error:n})}}finally{this.#t.runNext(this)}}#n(t){const e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Rn.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function DI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var DR=class extends Pc{constructor(t={}){super(),this.config=t,this.#e=new Map,this.#t=Date.now()}#e;#t;build(t,e,r){const n=new LR({mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){const e=Rp(t),r=this.#e.get(e)??[];r.push(t),this.#e.set(e,r),this.notify({type:"added",mutation:t})}remove(t){const e=Rp(t);if(this.#e.has(e)){const r=this.#e.get(e)?.filter(n=>n!==t);r&&(r.length===0?this.#e.delete(e):this.#e.set(e,r))}this.notify({type:"removed",mutation:t})}canRun(t){const e=this.#e.get(Rp(t))?.find(r=>r.state.status==="pending");return!e||e===t}runNext(t){return this.#e.get(Rp(t))?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve()}clear(){Rn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...this.#e.values()].flat()}find(t){const e={exact:!0,...t};return this.getAll().find(r=>xN(e,r))}findAll(t={}){return this.getAll().filter(e=>xN(t,e))}notify(t){Rn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Rn.batch(()=>Promise.all(t.map(e=>e.continue().catch(Ns))))}};function Rp(t){return t.options.scope?.id??String(t.mutationId)}function EN(t){return{onFetch:(e,r)=>{const n=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,o=e.state.data?.pages||[],l=e.state.data?.pageParams||[];let u={pages:[],pageParams:[]},d=0;const m=async()=>{let y=!1;const w=q=>{Object.defineProperty(q,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},E=RI(e.options,e.fetchOptions),k=async(q,C,A)=>{if(y)return Promise.reject();if(C==null&&q.pages.length)return Promise.resolve(q);const D={queryKey:e.queryKey,pageParam:C,direction:A?"backward":"forward",meta:e.options.meta};w(D);const F=await E(D),{maxPages:$}=e.options,H=A?CR:qR;return{pages:H(q.pages,F,$),pageParams:H(q.pageParams,C,$)}};if(s&&o.length){const q=s==="backward",C=q?MR:kN,A={pages:o,pageParams:l},D=C(n,A);u=await k(A,D,q)}else{const q=t??o.length;do{const C=d===0?l[0]??n.initialPageParam:kN(n,u);if(d>0&&C==null)break;u=await k(u,C),d++}while(d<q)}return u};e.options.persister?e.fetchFn=()=>e.options.persister?.(m,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=m}}}function kN(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function MR(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}var BR=class{#e;#t;#r;#n;#i;#s;#o;#a;constructor(t={}){this.#e=t.queryCache||new FR,this.#t=t.mutationCache||new DR,this.#r=t.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=Ww.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=Lm.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=this.#e.build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(oc(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),o=this.#e.get(n.queryHash)?.state.data,l=ER(e,o);if(l!==void 0)return this.#e.build(this,n).setData(l,{...r,manual:!0})}setQueriesData(t,e,r){return Rn.batch(()=>this.#e.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Rn.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=this.#e,n={type:"active",...t};return Rn.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(n,e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Rn.batch(()=>this.#e.findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(Ns).catch(Ns)}invalidateQueries(t,e={}){return Rn.batch(()=>{if(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none")return Promise.resolve();const r={...t,type:t?.refetchType??t?.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Rn.batch(()=>this.#e.findAll(t).filter(s=>!s.isDisabled()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(Ns)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(Ns)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=this.#e.build(this,e);return r.isStaleByTime(oc(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ns).catch(Ns)}fetchInfiniteQuery(t){return t.behavior=EN(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ns).catch(Ns)}ensureInfiniteQueryData(t){return t.behavior=EN(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Lm.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#n.set(Yl(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#n.values()],r={};return e.forEach(n=>{bf(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){this.#i.set(Yl(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()];let r={};return e.forEach(n=>{bf(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Mw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===$w&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},$R=class extends Pc{constructor(t,e){super(),this.options=e,this.#e=t,this.#a=null,this.#o=U_(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#r=void 0;#n=void 0;#i;#s;#o;#a;#u;#l;#c;#d;#h;#f;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),IN(this.#t,this.options)?this.#p():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return V_(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return V_(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#_(),this.#w(),this.#t.removeObserver(this)}setOptions(t,e){const r=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Hs(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#x(),this.#t.setOptions(this.options),r._defaulted&&!Fm(this.options,r)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const s=this.hasListeners();s&&qN(this.#t,n,this.options,r)&&this.#p(),this.updateResult(e),s&&(this.#t!==n||Hs(this.options.enabled,this.#t)!==Hs(r.enabled,this.#t)||oc(this.options.staleTime,this.#t)!==oc(r.staleTime,this.#t))&&this.#g();const o=this.#y();s&&(this.#t!==n||Hs(this.options.enabled,this.#t)!==Hs(r.enabled,this.#t)||o!==this.#f)&&this.#v(o)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),r=this.createResult(e,t);return zR(this,r)&&(this.#n=r,this.#s=this.options,this.#i=this.#t.state),r}getCurrentResult(){return this.#n}trackResult(t,e){const r={};return Object.keys(t).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),e?.(n),t[n])})}),r}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),r=this.#e.getQueryCache().build(this.#e,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#p({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#p(t){this.#x();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Ns)),e}#g(){this.#_();const t=oc(this.options.staleTime,this.#t);if(Zl||this.#n.isStale||!$_(t))return;const r=OI(this.#n.dataUpdatedAt,t)+1;this.#d=setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#w(),this.#f=t,!(Zl||Hs(this.options.enabled,this.#t)===!1||!$_(this.#f)||this.#f===0)&&(this.#h=setInterval(()=>{(this.options.refetchIntervalInBackground||Ww.isFocused())&&this.#p()},this.#f))}#b(){this.#g(),this.#v(this.#y())}#_(){this.#d&&(clearTimeout(this.#d),this.#d=void 0)}#w(){this.#h&&(clearInterval(this.#h),this.#h=void 0)}createResult(t,e){const r=this.#t,n=this.options,s=this.#n,o=this.#i,l=this.#s,d=t!==r?t.state:this.#r,{state:m}=t;let y={...m},w=!1,E;if(e._optimisticResults){const Z=this.hasListeners(),ie=!Z&&IN(t,e),V=Z&&qN(t,r,e,n);(ie||V)&&(y={...y,...LI(m.data,t.options)}),e._optimisticResults==="isRestoring"&&(y.fetchStatus="idle")}let{error:k,errorUpdatedAt:q,status:C}=y;if(e.select&&y.data!==void 0)if(s&&y.data===o?.data&&e.select===this.#u)E=this.#l;else try{this.#u=e.select,E=e.select(y.data),E=z_(s?.data,E,e),this.#l=E,this.#a=null}catch(Z){this.#a=Z}else E=y.data;if(e.placeholderData!==void 0&&E===void 0&&C==="pending"){let Z;if(s?.isPlaceholderData&&e.placeholderData===l?.placeholderData)Z=s.data;else if(Z=typeof e.placeholderData=="function"?e.placeholderData(this.#c?.state.data,this.#c):e.placeholderData,e.select&&Z!==void 0)try{Z=e.select(Z),this.#a=null}catch(ie){this.#a=ie}Z!==void 0&&(C="success",E=z_(s?.data,Z,e),w=!0)}this.#a&&(k=this.#a,E=this.#l,q=Date.now(),C="error");const A=y.fetchStatus==="fetching",D=C==="pending",F=C==="error",$=D&&A,H=E!==void 0,B={status:C,fetchStatus:y.fetchStatus,isPending:D,isSuccess:C==="success",isError:F,isInitialLoading:$,isLoading:$,data:E,dataUpdatedAt:y.dataUpdatedAt,error:k,errorUpdatedAt:q,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>d.dataUpdateCount||y.errorUpdateCount>d.errorUpdateCount,isFetching:A,isRefetching:A&&!D,isLoadingError:F&&!H,isPaused:y.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:F&&H,isStale:zw(t,e),refetch:this.refetch,promise:this.#o};if(this.options.experimental_prefetchInRender){const Z=ne=>{B.status==="error"?ne.reject(B.error):B.data!==void 0&&ne.resolve(B.data)},ie=()=>{const ne=this.#o=B.promise=U_();Z(ne)},V=this.#o;switch(V.status){case"pending":t.queryHash===r.queryHash&&Z(V);break;case"fulfilled":(B.status==="error"||B.data!==V.value)&&ie();break;case"rejected":(B.status!=="error"||B.error!==V.reason)&&ie();break}}return B}updateResult(t){const e=this.#n,r=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#s=this.options,this.#i.data!==void 0&&(this.#c=this.#t),Fm(r,e))return;this.#n=r;const n={},s=()=>{if(!e)return!0;const{notifyOnChangeProps:o}=this.options,l=typeof o=="function"?o():o;if(l==="all"||!l&&!this.#m.size)return!0;const u=new Set(l??this.#m);return this.options.throwOnError&&u.add("error"),Object.keys(this.#n).some(d=>{const m=d;return this.#n[m]!==e[m]&&u.has(m)})};t?.listeners!==!1&&s()&&(n.listeners=!0),this.#S({...n,...t})}#x(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#r=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#S(t){Rn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function WR(t,e){return Hs(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function IN(t,e){return WR(t,e)||t.state.data!==void 0&&V_(t,e,e.refetchOnMount)}function V_(t,e,r){if(Hs(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&zw(t,e)}return!1}function qN(t,e,r,n){return(t!==e||Hs(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&zw(t,r)}function zw(t,e){return Hs(e.enabled,t)!==!1&&t.isStaleByTime(oc(e.staleTime,t))}function zR(t,e){return!Fm(t.getCurrentResult(),e)}var UR=class extends Pc{#e;#t=void 0;#r;#n;constructor(e,r){super(),this.#e=e,this.setOptions(r),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const r=this.options;this.options=this.#e.defaultMutationOptions(e),Fm(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&Yl(r.mutationKey)!==Yl(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#s(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#s()}mutate(e,r){return this.#n=r,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#i(){const e=this.#r?.state??DI();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#s(e){Rn.batch(()=>{if(this.#n&&this.hasListeners()){const r=this.#t.variables,n=this.#t.context;e?.type==="success"?(this.#n.onSuccess?.(e.data,r,n),this.#n.onSettled?.(e.data,null,r,n)):e?.type==="error"&&(this.#n.onError?.(e.error,r,n),this.#n.onSettled?.(void 0,e.error,r,n))}this.listeners.forEach(r=>{r(this.#t)})})}},K=Jf();const Ar=Ac(K),VR=_R({__proto__:null,default:Ar},[K]);var MI=K.createContext(void 0),dl=t=>{const e=K.useContext(MI);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},HR=({client:t,children:e})=>(K.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),p.jsx(MI.Provider,{value:t,children:e})),BI=K.createContext(!1),QR=()=>K.useContext(BI);BI.Provider;function KR(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var GR=K.createContext(KR()),JR=()=>K.useContext(GR);function $I(t,e){return typeof t=="function"?t(...e):!!t}function H_(){}var ZR=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},YR=t=>{K.useEffect(()=>{t.clearReset()},[t])},XR=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&$I(r,[t.error,n]),eA=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},tA=(t,e)=>t.isLoading&&t.isFetching&&!e,rA=(t,e)=>t?.suspense&&e.isPending,CN=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function nA(t,e,r){const n=dl(),s=QR(),o=JR(),l=n.defaultQueryOptions(t);n.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=s?"isRestoring":"optimistic",eA(l),ZR(l,o),YR(o);const u=!n.getQueryCache().get(l.queryHash),[d]=K.useState(()=>new e(n,l)),m=d.getOptimisticResult(l);if(K.useSyncExternalStore(K.useCallback(y=>{const w=s?H_:d.subscribe(Rn.batchCalls(y));return d.updateResult(),w},[d,s]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),K.useEffect(()=>{d.setOptions(l,{listeners:!1})},[l,d]),rA(l,m))throw CN(l,d,o);if(XR({result:m,errorResetBoundary:o,throwOnError:l.throwOnError,query:n.getQueryCache().get(l.queryHash)}))throw m.error;return n.getDefaultOptions().queries?._experimental_afterQuery?.(l,m),l.experimental_prefetchInRender&&!Zl&&tA(m,s)&&(u?CN(l,d,o):n.getQueryCache().get(l.queryHash)?.promise)?.catch(H_).finally(()=>{d.updateResult()}),l.notifyOnChangeProps?m:d.trackResult(m)}function Uw(t,e){return nA(t,$R)}function TN(t,e){return t.findAll(e.filters).map(r=>e.select?e.select(r):r.state)}function iA(t={},e){const r=dl().getMutationCache(),n=K.useRef(t),s=K.useRef(null);return s.current||(s.current=TN(r,t)),K.useEffect(()=>{n.current=t}),K.useSyncExternalStore(K.useCallback(o=>r.subscribe(()=>{const l=Bw(s.current,TN(r,n.current));s.current!==l&&(s.current=l,Rn.schedule(o))}),[r]),()=>s.current,()=>s.current)}function Oo(t,e){const r=dl(),[n]=K.useState(()=>new UR(r,t));K.useEffect(()=>{n.setOptions(t)},[n,t]);const s=K.useSyncExternalStore(K.useCallback(l=>n.subscribe(Rn.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),o=K.useCallback((l,u)=>{n.mutate(l,u).catch(H_)},[n]);if(s.error&&$I(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:o,mutateAsync:s.mutate}}const ON="popstate",RN="beforeunload";function WI(t){let e=t.getLocation();const r=new Set,n=l=>{e=t.getLocation(),r.forEach(u=>u({location:e,action:l}))},s=()=>{e=t.getLocation(),r.forEach(l=>l({location:e,action:{type:"ROLLBACK"}}))},o=async({task:l,navigateOpts:u,...d})=>{var m,y;if(u?.ignoreBlocker??!1){l();return}const E=((m=t.getBlockers)==null?void 0:m.call(t))??[],k=d.type==="PUSH"||d.type==="REPLACE";if(typeof document<"u"&&E.length&&k)for(const q of E){const C=_f(d.path,d.state);if(await q.blockerFn({currentLocation:e,nextLocation:C,action:d.type})){(y=t.onBlocked)==null||y.call(t,s);return}}l()};return{get location(){return e},get length(){return t.getLength()},subscribers:r,subscribe:l=>(r.add(l),()=>{r.delete(l)}),push:(l,u,d)=>{u=AN(u),o({task:()=>{t.pushState(l,u),n({type:"PUSH"})},navigateOpts:d,type:"PUSH",path:l,state:u})},replace:(l,u,d)=>{u=AN(u),o({task:()=>{t.replaceState(l,u),n({type:"REPLACE"})},navigateOpts:d,type:"REPLACE",path:l,state:u})},go:(l,u)=>{o({task:()=>{t.go(l),n({type:"GO",index:l})},navigateOpts:u,type:"GO"})},back:l=>{o({task:()=>{t.back(l?.ignoreBlocker??!1),n({type:"BACK"})},navigateOpts:l,type:"BACK"})},forward:l=>{o({task:()=>{t.forward(l?.ignoreBlocker??!1),n({type:"FORWARD"})},navigateOpts:l,type:"FORWARD"})},createHref:l=>t.createHref(l),block:l=>{var u;if(!t.setBlockers)return()=>{};const d=((u=t.getBlockers)==null?void 0:u.call(t))??[];return t.setBlockers([...d,l]),()=>{var m,y;const w=((m=t.getBlockers)==null?void 0:m.call(t))??[];(y=t.setBlockers)==null||y.call(t,w.filter(E=>E!==l))}},flush:()=>{var l;return(l=t.flush)==null?void 0:l.call(t)},destroy:()=>{var l;return(l=t.destroy)==null?void 0:l.call(t)},notify:n}}function AN(t){return t||(t={}),{...t,key:aA()}}function sA(t){const e=typeof document<"u"?window:void 0,r=e.history.pushState,n=e.history.replaceState;let s=[];const o=()=>s,l=Z=>s=Z,u=Z=>Z,d=()=>_f(`${e.location.pathname}${e.location.search}${e.location.hash}`,e.history.state);let m=d(),y,w=!1,E=!1,k=!1;const q=()=>m;let C,A;const D=()=>{C&&(B._ignoreSubscribers=!0,(C.isPush?e.history.pushState:e.history.replaceState)(C.state,"",C.href),B._ignoreSubscribers=!1,C=void 0,A=void 0,y=void 0)},F=(Z,ie,V)=>{const ne=u(ie);A||(y=m),m=_f(ie,V),C={href:ne,state:V,isPush:C?.isPush||Z==="push"},A||(A=Promise.resolve().then(()=>D()))},$=()=>{m=d(),B.notify({type:"POP"})},H=async()=>{if(w){w=!1;return}if(E)E=!1;else{const Z=o();if(typeof document<"u"&&Z.length)for(const ie of Z){const V=d();if(await ie.blockerFn({currentLocation:m,nextLocation:V,action:"POP"})){w=!0,e.history.go(1),B.notify({type:"POP"});return}}}m=d(),B.notify({type:"POP"})},G=Z=>{if(k){k=!1;return}let ie=!1;const V=o();if(typeof document<"u"&&V.length)for(const ne of V){const M=ne.enableBeforeUnload??!0;if(M===!0){ie=!0;break}if(typeof M=="function"&&M()===!0){ie=!0;break}}if(ie)return Z.preventDefault(),Z.returnValue=""},B=WI({getLocation:q,getLength:()=>e.history.length,pushState:(Z,ie)=>F("push",Z,ie),replaceState:(Z,ie)=>F("replace",Z,ie),back:Z=>(Z&&(E=!0),k=!0,e.history.back()),forward:Z=>{Z&&(E=!0),k=!0,e.history.forward()},go:Z=>e.history.go(Z),createHref:Z=>u(Z),flush:D,destroy:()=>{e.history.pushState=r,e.history.replaceState=n,e.removeEventListener(RN,G,{capture:!0}),e.removeEventListener(ON,H)},onBlocked:Z=>{y&&m!==y&&(m=y,Z())},getBlockers:o,setBlockers:l});return e.addEventListener(RN,G,{capture:!0}),e.addEventListener(ON,H),e.history.pushState=function(...Z){const ie=r.apply(e.history,Z);return B._ignoreSubscribers||$(),ie},e.history.replaceState=function(...Z){const ie=n.apply(e.history,Z);return B._ignoreSubscribers||$(),ie},B}function oA(t={initialEntries:["/"]}){const e=t.initialEntries;let r=t.initialIndex??e.length-1;const n=e.map(()=>({}));return WI({getLocation:()=>_f(e[r],n[r]),getLength:()=>e.length,pushState:(o,l)=>{r<e.length-1&&(e.splice(r+1),n.splice(r+1)),n.push(l),e.push(o),r=Math.max(e.length-1,0)},replaceState:(o,l)=>{n[r]=l,e[r]=o},back:()=>{r=Math.max(r-1,0)},forward:()=>{r=Math.min(r+1,e.length-1)},go:o=>{r=Math.min(Math.max(r+o,0),e.length-1)},createHref:o=>o})}function _f(t,e){const r=t.indexOf("#"),n=t.indexOf("?");return{href:t,pathname:t.substring(0,r>0?n>0?Math.min(r,n):r:n>0?n:t.length),hash:r>-1?t.substring(r):"",search:n>-1?t.slice(n,r===-1?void 0:r):"",state:e||{}}}function aA(){return(Math.random()+1).toString(36).substring(7)}var lA="Invariant failed";function ts(t,e){if(!t)throw new Error(lA)}const ab=K.createContext(null);function zI(){return typeof document>"u"?ab:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=ab,ab)}function Ui(t){const e=K.useContext(zI());return t?.warn,e}var lb={exports:{}},ub={},cb={exports:{}},db={};var PN;function uA(){if(PN)return db;PN=1;var t=Jf();function e(w,E){return w===E&&(w!==0||1/w===1/E)||w!==w&&E!==E}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,s=t.useEffect,o=t.useLayoutEffect,l=t.useDebugValue;function u(w,E){var k=E(),q=n({inst:{value:k,getSnapshot:E}}),C=q[0].inst,A=q[1];return o(function(){C.value=k,C.getSnapshot=E,d(C)&&A({inst:C})},[w,k,E]),s(function(){return d(C)&&A({inst:C}),w(function(){d(C)&&A({inst:C})})},[w]),l(k),k}function d(w){var E=w.getSnapshot;w=w.value;try{var k=E();return!r(w,k)}catch{return!0}}function m(w,E){return E()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:u;return db.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:y,db}var jN;function cA(){return jN||(jN=1,cb.exports=uA()),cb.exports}var FN;function dA(){if(FN)return ub;FN=1;var t=Jf(),e=cA();function r(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var n=typeof Object.is=="function"?Object.is:r,s=e.useSyncExternalStore,o=t.useRef,l=t.useEffect,u=t.useMemo,d=t.useDebugValue;return ub.useSyncExternalStoreWithSelector=function(m,y,w,E,k){var q=o(null);if(q.current===null){var C={hasValue:!1,value:null};q.current=C}else C=q.current;q=u(function(){function D(B){if(!F){if(F=!0,$=B,B=E(B),k!==void 0&&C.hasValue){var Z=C.value;if(k(Z,B))return H=Z}return H=B}if(Z=H,n($,B))return Z;var ie=E(B);return k!==void 0&&k(Z,ie)?($=B,Z):($=B,H=ie)}var F=!1,$,H,G=w===void 0?null:w;return[function(){return D(y())},G===null?void 0:function(){return D(G())}]},[y,w,E,k]);var A=s(m,q[0],q[1]);return l(function(){C.hasValue=!0,C.value=A},[A]),d(A),A},ub}var LN;function fA(){return LN||(LN=1,lb.exports=dA()),lb.exports}var hA=fA();class pA{constructor(e,r){this.listeners=new Set,this._batching=!1,this._flushing=0,this.subscribe=n=>{var s,o;this.listeners.add(n);const l=(o=(s=this.options)==null?void 0:s.onSubscribe)==null?void 0:o.call(s,n,this);return()=>{this.listeners.delete(n),l?.()}},this.setState=n=>{var s,o,l;const u=this.state;this.state=(s=this.options)!=null&&s.updateFn?this.options.updateFn(u)(n):n(u),(l=(o=this.options)==null?void 0:o.onUpdate)==null||l.call(o),this._flush()},this._flush=()=>{if(this._batching)return;const n=++this._flushing;this.listeners.forEach(s=>{this._flushing===n&&s()})},this.batch=n=>{if(this._batching)return n();this._batching=!0,n(),this._batching=!1,this._flush()},this.state=e,this.options=r}}function mA(t,e=r=>r){return hA.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,gA)}function gA(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[n,s]of t)if(!e.has(n)||!Object.is(s,e.get(n)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!1;for(let n=0;n<r.length;n++)if(!Object.prototype.hasOwnProperty.call(e,r[n])||!Object.is(t[r[n]],e[r[n]]))return!1;return!0}const Yi="__root__";function yA(t,e){let r,n,s,o="";for(r in t)if((s=t[r])!==void 0)if(Array.isArray(s))for(n=0;n<s.length;n++)o&&(o+="&"),o+=encodeURIComponent(r)+"="+encodeURIComponent(s[n]);else o&&(o+="&"),o+=encodeURIComponent(r)+"="+encodeURIComponent(s);return""+o}function DN(t){if(!t)return"";const e=decodeURIComponent(t);return e==="false"?!1:e==="true"?!0:+e*0===0&&+e+""===e?+e:e}function vA(t,e){let r,n;const s={},o=t.split("&");for(;r=o.shift();){const l=r.indexOf("=");if(l!==-1){n=r.slice(0,l),n=decodeURIComponent(n);const u=r.slice(l+1);s[n]!==void 0?s[n]=[].concat(s[n],DN(u)):s[n]=DN(u)}else n=r,n=decodeURIComponent(n),s[n]=""}return s}const bA=wA(JSON.parse),_A=xA(JSON.stringify,JSON.parse);function wA(t){return e=>{e.substring(0,1)==="?"&&(e=e.substring(1));const r=vA(e);for(const n in r){const s=r[n];if(typeof s=="string")try{r[n]=t(s)}catch{}}return r}}function xA(t,e){function r(n){if(typeof n=="object"&&n!==null)try{return t(n)}catch{}else if(typeof n=="string"&&typeof e=="function")try{return e(n),t(n)}catch{}return n}return n=>{n={...n},Object.keys(n).forEach(o=>{const l=n[o];typeof l>"u"||l===void 0?delete n[o]:n[o]=r(l)});const s=yA(n).toString();return s?`?${s}`:""}}function of(t){return t[t.length-1]}function SA(t){return typeof t=="function"}function $l(t,e){return SA(t)?t(e):t}function tm(t,e){return e.reduce((r,n)=>(r[n]=t[n],r),{})}function xs(t,e){if(t===e)return t;const r=e,n=BN(t)&&BN(r);if(n||wc(t)&&wc(r)){const s=n?t:Object.keys(t),o=s.length,l=n?r:Object.keys(r),u=l.length,d=n?[]:{};let m=0;for(let y=0;y<u;y++){const w=n?y:l[y];(!n&&s.includes(w)||n)&&t[w]===void 0&&r[w]===void 0?(d[w]=void 0,m++):(d[w]=xs(t[w],r[w]),d[w]===t[w]&&t[w]!==void 0&&m++)}return o===u&&m===o?t:d}return r}function wc(t){if(!MN(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const r=e.prototype;return!(!MN(r)||!r.hasOwnProperty("isPrototypeOf"))}function MN(t){return Object.prototype.toString.call(t)==="[object Object]"}function BN(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function $N(t,e){let r=Object.keys(t);return e&&(r=r.filter(n=>t[n]!==void 0)),r}function ac(t,e,r){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(wc(t)&&wc(e)){const n=r?.ignoreUndefined??!0,s=$N(t,n),o=$N(e,n);return!r?.partial&&s.length!==o.length?!1:o.every(l=>ac(t[l],e[l],r))}return Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:!t.some((n,s)=>!ac(n,e[s],r)):!1}const Ud=typeof window<"u"?K.useLayoutEffect:K.useEffect;function Hu(t){let e,r;const n=new Promise((s,o)=>{e=s,r=o});return n.status="pending",n.resolve=s=>{n.status="resolved",n.value=s,e(s),t?.(s)},n.reject=s=>{n.status="rejected",r(s)},n}function fb(t){const e=K.useRef({value:t,prev:null}),r=e.current.value;return t!==r&&(e.current={value:t,prev:r}),e.current.prev}function NA(t,e,r={},n={}){const s=K.useRef(typeof IntersectionObserver=="function"),o=K.useRef(null);return K.useEffect(()=>{if(!(!t.current||!s.current||n.disabled))return o.current=new IntersectionObserver(([l])=>{e(l)},r),o.current.observe(t.current),()=>{var l;(l=o.current)==null||l.disconnect()}},[e,r,n.disabled,t]),o.current}function EA(t){const e=K.useRef(null);return K.useEffect(()=>{t&&(typeof t=="function"?t(e.current):t.current=e.current)}),e}function oa(t){return Ig(t.filter(e=>e!==void 0).join("/"))}function Ig(t){return t.replace(/\/{2,}/g,"/")}function Vw(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function Wl(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function kA(t){return Wl(Vw(t))}function Dm(t,e){return t.endsWith("/")&&t!=="/"&&t!==`${e}/`?t.slice(0,-1):t}function IA(t,e,r){return Dm(t,r)===Dm(e,r)}function qA({basepath:t,base:e,to:r,trailingSlash:n="never",caseSensitive:s}){var o,l;e=Mm(t,e,s),r=Mm(t,r,s);let u=xc(e);const d=xc(r);u.length>1&&((o=of(u))==null?void 0:o.value)==="/"&&u.pop(),d.forEach((y,w)=>{y.value==="/"?w?w===d.length-1&&u.push(y):u=[y]:y.value===".."?u.pop():y.value==="."||u.push(y)}),u.length>1&&(((l=of(u))==null?void 0:l.value)==="/"?n==="never"&&u.pop():n==="always"&&u.push({type:"pathname",value:"/"}));const m=oa([t,...u.map(y=>y.value)]);return Ig(m)}function xc(t){if(!t)return[];t=Ig(t);const e=[];if(t.slice(0,1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),!t)return e;const r=t.split("/").filter(Boolean);return e.push(...r.map(n=>n==="$"||n==="*"?{type:"wildcard",value:n}:n.charAt(0)==="$"?{type:"param",value:n}:{type:"pathname",value:decodeURI(n)})),t.slice(-1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),e}function Ap({path:t,params:e,leaveWildcards:r,leaveParams:n,decodeCharMap:s}){const o=xc(t),l={};for(const[u,d]of Object.entries(e)){const m=typeof d=="string";["*","_splat"].includes(u)?l[u]=m?encodeURI(d):d:l[u]=m?CA(d,s):d}return oa(o.map(u=>{if(u.type==="wildcard"){const d=l._splat;return r?`${u.value}${d??""}`:d}if(u.type==="param"){if(n){const d=l[u.value];return`${u.value}${d??""}`}return l[u.value.substring(1)]??"undefined"}return u.value}))}function CA(t,e){let r=encodeURIComponent(t);if(e)for(const[n,s]of e)r=r.replaceAll(n,s);return r}function Pp(t,e,r){const n=TA(t,e,r);if(!(r.to&&!n))return n??{}}function Mm(t,e,r=!1){const n=r?t:t.toLowerCase(),s=r?e:e.toLowerCase();switch(!0){case n==="/":return e;case s===n:return"";case e.length<t.length:return e;case s[n.length]!=="/":return e;case s.startsWith(n):return e.slice(t.length);default:return e}}function TA(t,e,r){if(t!=="/"&&!e.startsWith(t))return;e=Mm(t,e,r.caseSensitive);const n=Mm(t,`${r.to??"$"}`,r.caseSensitive),s=xc(e),o=xc(n);e.startsWith("/")||s.unshift({type:"pathname",value:"/"}),n.startsWith("/")||o.unshift({type:"pathname",value:"/"});const l={};return(()=>{for(let d=0;d<Math.max(s.length,o.length);d++){const m=s[d],y=o[d],w=d>=s.length-1,E=d>=o.length-1;if(y){if(y.type==="wildcard"){const k=decodeURI(oa(s.slice(d).map(q=>q.value)));return l["*"]=k,l._splat=k,!0}if(y.type==="pathname"){if(y.value==="/"&&!m?.value)return!0;if(m){if(r.caseSensitive){if(y.value!==m.value)return!1}else if(y.value.toLowerCase()!==m.value.toLowerCase())return!1}}if(!m)return!1;if(y.type==="param"){if(m.value==="/")return!1;m.value.charAt(0)!=="$"&&(l[y.value.substring(1)]=decodeURIComponent(m.value))}}if(!w&&E)return l["**"]=oa(s.slice(d+1).map(k=>k.value)),!!r.fuzzy&&y?.value!=="/"}return!0})()?l:void 0}function qg(t){if(t.isRedirect=!0,t.statusCode=t.statusCode||t.code||307,t.headers=t.headers||{},!t.reloadDocument){t.reloadDocument=!1;try{new URL(`${t.href}`),t.reloadDocument=!0}catch{}}if(t.throw)throw t;return t}function jl(t){return!!t?.isRedirect}function hb(t){return!!t?.isRedirect&&t.href}function Hw(t){const e=t.errorComponent??Cg;return p.jsx(OA,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:r,reset:n})=>r?K.createElement(e,{error:r,reset:n}):t.children})}class OA extends K.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,r){r.error&&r.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,r){this.props.onCatch&&this.props.onCatch(e,r)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function Cg({error:t}){const[e,r]=K.useState(!1);return p.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[p.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),p.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>r(n=>!n),children:e?"Hide Error":"Show Error"})]}),p.jsx("div",{style:{height:".25rem"}}),e?p.jsx("div",{children:p.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?p.jsx("code",{children:t.message}):null})}):null]})}function wi(t){const e=Ui({warn:t?.router===void 0}),r=t?.router||e,n=K.useRef();return mA(r.__store,s=>{if(t?.select){if(t.structuralSharing??r.options.defaultStructuralSharing){const o=xs(n.current,t.select(s));return n.current=o,o}return t.select(s)}return s})}function Vs(t){return!!t?.isNotFound}function RA(t){const e=wi({select:r=>`not-found-${r.location.pathname}-${r.status}`});return p.jsx(Hw,{getResetKey:()=>e,onCatch:(r,n)=>{var s;if(Vs(r))(s=t.onCatch)==null||s.call(t,r,n);else throw r},errorComponent:({error:r})=>{var n;if(Vs(r))return(n=t.fallback)==null?void 0:n.call(t,r);throw r},children:t.children})}function AA(){return p.jsx("p",{children:"Not Found"})}const PA={stringify:t=>JSON.stringify(t,function(r,n){const s=this[r],o=WN.find(l=>l.stringifyCondition(s));return o?o.stringify(s):n}),parse:t=>JSON.parse(t,function(r,n){const s=this[r],o=WN.find(l=>l.parseCondition(s));return o?o.parse(s):n})},WN=[{stringifyCondition:t=>t instanceof Date,stringify:t=>({$date:t.toISOString()}),parseCondition:t=>wc(t)&&t.$date,parse:t=>new Date(t.$date)},{stringifyCondition:t=>t===void 0,stringify:()=>({$undefined:""}),parseCondition:t=>wc(t)&&t.$undefined==="",parse:()=>{}}],UI=["component","errorComponent","pendingComponent","notFoundComponent"];function jA(t){var e;for(const r of UI)if((e=t.options[r])!=null&&e.preload)return!0;return!1}function pb(t,e){if(t==null)return{};if("~standard"in t){const r=t["~standard"].validate(e);if(r instanceof Promise)throw new Q_("Async validation not supported");if(r.issues)throw new Q_(JSON.stringify(r.issues,void 0,2));return r.value}return"parse"in t?t.parse(e):typeof t=="function"?t(e):{}}function FA(t){return new LA(t)}class LA{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.startReactTransition=r=>r(),this.update=r=>{var n;r.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/guide/not-found-errors#migrating-from-notfoundroute for more info.");const s=this.options;this.options={...this.options,...r},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(o=>[encodeURIComponent(o),o])):void 0,(!this.basepath||r.basepath&&r.basepath!==s.basepath)&&(r.basepath===void 0||r.basepath===""||r.basepath==="/"?this.basepath="/":this.basepath=`/${kA(r.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?oA({initialEntries:[this.basepath||"/"]}):sA()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new pA(MA(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(o=>!["redirected"].includes(o.status))}}})),typeof window<"u"&&"CSS"in window&&typeof((n=window.CSS)==null?void 0:n.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.buildRouteTree=()=>{this.routesById={},this.routesByPath={};const r=this.options.notFoundRoute;r&&(r.init({originalIndex:0x174876e7ff,defaultSsr:this.options.defaultSsr}),this.routesById[r.id]=r);const n=l=>{l.forEach((u,d)=>{u.init({originalIndex:d,defaultSsr:this.options.defaultSsr});const m=this.routesById[u.id];if(ts(!m,`Duplicate routes found with id: ${String(u.id)}`),this.routesById[u.id]=u,!u.isRoot&&u.path){const w=Wl(u.fullPath);(!this.routesByPath[w]||u.fullPath.endsWith("/"))&&(this.routesByPath[w]=u)}const y=u.children;y?.length&&n(y)})};n([this.routeTree]);const s=[];Object.values(this.routesById).forEach((l,u)=>{var d;if(l.isRoot||!l.path)return;const m=Vw(l.fullPath),y=xc(m);for(;y.length>1&&((d=y[0])==null?void 0:d.value)==="/";)y.shift();const w=y.map(E=>E.value==="/"?.75:E.type==="param"?.5:E.type==="wildcard"?.25:1);s.push({child:l,trimmed:m,parsed:y,index:u,scores:w})}),this.flatRoutes=s.sort((l,u)=>{const d=Math.min(l.scores.length,u.scores.length);for(let m=0;m<d;m++)if(l.scores[m]!==u.scores[m])return u.scores[m]-l.scores[m];if(l.scores.length!==u.scores.length)return u.scores.length-l.scores.length;for(let m=0;m<d;m++)if(l.parsed[m].value!==u.parsed[m].value)return l.parsed[m].value>u.parsed[m].value?1:-1;return l.index-u.index}).map((l,u)=>(l.child.rank=u,l.child))},this.subscribe=(r,n)=>{const s={eventType:r,fn:n};return this.subscribers.add(s),()=>{this.subscribers.delete(s)}},this.emit=r=>{this.subscribers.forEach(n=>{n.eventType===r.type&&n.fn(r)})},this.parseLocation=(r,n)=>{const s=({pathname:d,search:m,hash:y,state:w})=>{const E=this.options.parseSearch(m),k=this.options.stringifySearch(E);return{pathname:d,searchStr:k,search:xs(r?.search,E),hash:y.split("#").reverse()[0]??"",href:`${d}${k}${y}`,state:xs(r?.state,w)}},o=s(n??this.history.location),{__tempLocation:l,__tempKey:u}=o.state;if(l&&(!u||u===this.tempLocationKey)){const d=s(l);return d.state.key=o.state.key,delete d.state.__tempLocation,{...d,maskedLocation:o}}return o},this.resolvePathWithBase=(r,n)=>qA({basepath:this.basepath,base:r,to:Ig(n),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.getMatchedRoutes=(r,n)=>{let s={};const o=Wl(r.pathname),l=y=>Pp(this.basepath,o,{to:y.fullPath,caseSensitive:y.options.caseSensitive??this.options.caseSensitive,fuzzy:!0});let u=n?.to!==void 0?this.routesByPath[n.to]:void 0;u?s=l(u):u=this.flatRoutes.find(y=>{const w=l(y);return w?(s=w,!0):!1});let d=u||this.routesById[Yi];const m=[d];for(;d.parentRoute;)d=d.parentRoute,m.unshift(d);return{matchedRoutes:m,routeParams:s,foundRoute:u}},this.cancelMatch=r=>{const n=this.getMatch(r);n&&(n.abortController.abort(),clearTimeout(n.pendingTimeout))},this.cancelMatches=()=>{var r;(r=this.state.pendingMatches)==null||r.forEach(n=>{this.cancelMatch(n.id)})},this.buildLocation=r=>{const n=(o={},l)=>{var u,d,m,y,w,E;const k=o._fromLocation?this.matchRoutes(o._fromLocation,{_buildLocation:!0}):this.state.matches,q=o.from!=null?k.find(M=>Pp(this.basepath,Wl(M.pathname),{to:o.from,caseSensitive:!1,fuzzy:!1})):void 0,C=q?.pathname||this.latestLocation.pathname;ts(o.from==null||q!=null,"Could not find match for from: "+o.from);const A=(u=this.state.pendingMatches)!=null&&u.length?(d=of(this.state.pendingMatches))==null?void 0:d.search:((m=of(k))==null?void 0:m.search)||this.latestLocation.search,D=l?.matchedRoutes.filter(M=>k.find(oe=>oe.routeId===M.id));let F;if(o.to)F=this.resolvePathWithBase(C,`${o.to}`);else{const M=this.routesById[(y=D?.find(oe=>{const Y=Ap({path:oe.fullPath,params:l?.routeParams??{},decodeCharMap:this.pathParamsDecodeCharMap});return oa([this.basepath,Y])===C}))==null?void 0:y.id];F=this.resolvePathWithBase(C,M?.to??C)}const $={...(w=of(k))==null?void 0:w.params};let H=(o.params??!0)===!0?$:{...$,...$l(o.params,$)};Object.keys(H).length>0&&l?.matchedRoutes.map(M=>{var oe;return((oe=M.options.params)==null?void 0:oe.stringify)??M.options.stringifyParams}).filter(Boolean).forEach(M=>{H={...H,...M(H)}}),F=Ap({path:F,params:H??{},leaveWildcards:!1,leaveParams:r.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap});let G=A;if(r._includeValidateSearch&&((E=this.options.search)!=null&&E.strict)){let M={};l?.matchedRoutes.forEach(oe=>{try{oe.options.validateSearch&&(M={...M,...pb(oe.options.validateSearch,{...M,...G})??{}})}catch{}}),G=M}G=(M=>{const oe=l?.matchedRoutes.reduce((Te,Ce)=>{var je;const be=[];if("search"in Ce.options)(je=Ce.options.search)!=null&&je.middlewares&&be.push(...Ce.options.search.middlewares);else if(Ce.options.preSearchFilters||Ce.options.postSearchFilters){const ge=({search:Ee,next:Q})=>{let Se=Ee;"preSearchFilters"in Ce.options&&Ce.options.preSearchFilters&&(Se=Ce.options.preSearchFilters.reduce((lt,ft)=>ft(lt),Ee));const ut=Q(Se);return"postSearchFilters"in Ce.options&&Ce.options.postSearchFilters?Ce.options.postSearchFilters.reduce((lt,ft)=>ft(lt),ut):ut};be.push(ge)}if(r._includeValidateSearch&&Ce.options.validateSearch){const ge=({search:Ee,next:Q})=>{try{const Se=Q(Ee);return{...Se,...pb(Ce.options.validateSearch,Se)??{}}}catch{}};be.push(ge)}return Te.concat(be)},[])??[],Y=({search:Te})=>o.search?o.search===!0?Te:$l(o.search,Te):{};oe.push(Y);const me=(Te,Ce)=>{if(Te>=oe.length)return Ce;const je=oe[Te];return je({search:Ce,next:ge=>me(Te+1,ge)})};return me(0,M)})(G),G=xs(A,G);const Z=this.options.stringifySearch(G),ie=o.hash===!0?this.latestLocation.hash:o.hash?$l(o.hash,this.latestLocation.hash):void 0,V=ie?`#${ie}`:"";let ne=o.state===!0?this.latestLocation.state:o.state?$l(o.state,this.latestLocation.state):{};return ne=xs(this.latestLocation.state,ne),{pathname:F,search:G,searchStr:Z,state:ne,hash:ie??"",href:`${F}${Z}${V}`,unmaskOnReload:o.unmaskOnReload}},s=(o={},l)=>{var u;const d=n(o);let m=l?n(l):void 0;if(!m){let E={};const k=(u=this.options.routeMasks)==null?void 0:u.find(q=>{const C=Pp(this.basepath,d.pathname,{to:q.from,caseSensitive:!1,fuzzy:!1});return C?(E=C,!0):!1});if(k){const{from:q,...C}=k;l={...tm(r,["from"]),...C,params:E},m=n(l)}}const y=this.getMatchedRoutes(d,o),w=n(o,y);if(m){const E=this.getMatchedRoutes(m,l),k=n(l,E);w.maskedLocation=k}return w};return r.mask?s(r,{...tm(r,["from"]),...r.mask}):s(r)},this.commitLocation=({viewTransition:r,ignoreBlocker:n,...s})=>{const o=()=>{s.state.key=this.latestLocation.state.key;const d=ac(s.state,this.latestLocation.state);return delete s.state.key,d},l=this.latestLocation.href===s.href,u=this.commitLocationPromise;if(this.commitLocationPromise=Hu(()=>{u?.resolve()}),l&&o())this.load();else{let{maskedLocation:d,hashScrollIntoView:m,...y}=s;d&&(y={...d,state:{...d.state,__tempKey:void 0,__tempLocation:{...y,search:y.searchStr,state:{...y.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}},(y.unmaskOnReload??this.options.unmaskOnReload??!1)&&(y.state.__tempKey=this.tempLocationKey)),y.state.__hashScrollIntoViewOptions=m??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=r,this.history[s.replace?"replace":"push"](y.href,y.state,{ignoreBlocker:n})}return this.resetNextScroll=s.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:r,resetScroll:n,hashScrollIntoView:s,viewTransition:o,ignoreBlocker:l,href:u,...d}={})=>{if(u){const y=_f(u,{});d.to=y.pathname,d.search=this.options.parseSearch(y.search),d.hash=y.hash.slice(1)}const m=this.buildLocation({...d,_includeValidateSearch:!0});return this.commitLocation({...m,viewTransition:o,replace:r,resetScroll:n,hashScrollIntoView:s,ignoreBlocker:l})},this.navigate=({to:r,reloadDocument:n,href:s,...o})=>{if(n){s||(s=this.buildLocation({to:r,...o}).href),o.replace?window.location.replace(s):window.location.href=s;return}return this.buildAndCommitLocation({...o,href:s,to:r})},this.load=async()=>{this.latestLocation=this.parseLocation(this.latestLocation);let r,n,s;for(s=new Promise(o=>{this.startReactTransition(async()=>{var l;try{const u=this.latestLocation,d=this.state.resolvedLocation,m=d.href!==u.href,y=d.pathname!==u.pathname;this.cancelMatches();let w;this.__store.batch(()=>{w=this.matchRoutes(u),this.__store.setState(E=>({...E,status:"pending",isLoading:!0,location:u,pendingMatches:w,cachedMatches:E.cachedMatches.filter(k=>!w.find(q=>q.id===k.id))}))}),this.state.redirect||this.emit({type:"onBeforeNavigate",fromLocation:d,toLocation:u,pathChanged:y,hrefChanged:m}),this.emit({type:"onBeforeLoad",fromLocation:d,toLocation:u,pathChanged:y,hrefChanged:m}),await this.loadMatches({matches:w,location:u,onReady:async()=>{this.startViewTransition(async()=>{let E,k,q;this.__store.batch(()=>{this.__store.setState(C=>{const A=C.matches,D=C.pendingMatches||C.matches;return E=A.filter(F=>!D.find($=>$.id===F.id)),k=D.filter(F=>!A.find($=>$.id===F.id)),q=A.filter(F=>D.find($=>$.id===F.id)),{...C,isLoading:!1,loadedAt:Date.now(),matches:D,pendingMatches:void 0,cachedMatches:[...C.cachedMatches,...E.filter(F=>F.status!=="error")]}}),this.clearExpiredCache()}),[[E,"onLeave"],[k,"onEnter"],[q,"onStay"]].forEach(([C,A])=>{C.forEach(D=>{var F,$;($=(F=this.looseRoutesById[D.routeId].options)[A])==null||$.call(F,D)})})})}})}catch(u){hb(u)?(r=u,this.isServer||this.navigate({...r,replace:!0,ignoreBlocker:!0})):Vs(u)&&(n=u),this.__store.setState(d=>({...d,statusCode:r?r.statusCode:n?404:d.matches.some(m=>m.status==="error")?500:200,redirect:r}))}this.latestLoadPromise===s&&((l=this.commitLocationPromise)==null||l.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),o()})}),this.latestLoadPromise=s,await s;this.latestLoadPromise&&s!==this.latestLoadPromise;)await this.latestLoadPromise},this.startViewTransition=r=>{const n=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,n&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let s;typeof n=="object"&&this.isViewTransitionTypesSupported?s={update:r,types:n.types}:s=r,document.startViewTransition(s)}else r()},this.updateMatch=(r,n)=>{var s;let o;const l=(s=this.state.pendingMatches)==null?void 0:s.find(y=>y.id===r),u=this.state.matches.find(y=>y.id===r),d=this.state.cachedMatches.find(y=>y.id===r),m=l?"pendingMatches":u?"matches":d?"cachedMatches":"";return m&&this.__store.setState(y=>{var w;return{...y,[m]:(w=y[m])==null?void 0:w.map(E=>E.id===r?o=n(E):E)}}),o},this.getMatch=r=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(n=>n.id===r),this.loadMatches=async({location:r,matches:n,preload:s,onReady:o,updateMatch:l=this.updateMatch})=>{let u,d=!1;const m=async()=>{d||(d=!0,await o?.())},y=E=>!!(s&&!this.state.matches.find(k=>k.id===E));!this.isServer&&!this.state.matches.length&&m();const w=(E,k)=>{var q,C,A;if(hb(k)&&!k.reloadDocument)throw k;if(jl(k)||Vs(k)){if(l(E.id,D=>({...D,status:jl(k)?"redirected":Vs(k)?"notFound":"error",isFetching:!1,error:k,beforeLoadPromise:void 0,loaderPromise:void 0})),k.routeId||(k.routeId=E.routeId),(q=E.beforeLoadPromise)==null||q.resolve(),(C=E.loaderPromise)==null||C.resolve(),(A=E.loadPromise)==null||A.resolve(),jl(k))throw d=!0,k=this.resolveRedirect({...k,_fromLocation:r}),k;if(Vs(k))throw this._handleNotFound(n,k,{updateMatch:l}),k}};try{await new Promise((E,k)=>{(async()=>{var q,C,A;try{const D=(H,G,B)=>{var Z,ie;const{id:V,routeId:ne}=n[H],M=this.looseRoutesById[ne];if(G instanceof Promise)throw G;G.routerCode=B,u=u??H,w(this.getMatch(V),G);try{(ie=(Z=M.options).onError)==null||ie.call(Z,G)}catch(oe){G=oe,w(this.getMatch(V),G)}l(V,oe=>{var Y,me;return(Y=oe.beforeLoadPromise)==null||Y.resolve(),(me=oe.loadPromise)==null||me.resolve(),{...oe,error:G,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[H,{id:G,routeId:B}]of n.entries()){const Z=this.getMatch(G),ie=(q=n[H-1])==null?void 0:q.id,V=this.looseRoutesById[B],ne=V.options.pendingMs??this.options.defaultPendingMs,M=!!(o&&!this.isServer&&!y(G)&&(V.options.loader||V.options.beforeLoad)&&typeof ne=="number"&&ne!==1/0&&(V.options.pendingComponent??this.options.defaultPendingComponent));let oe=!0;if((Z.beforeLoadPromise||Z.loaderPromise)&&(M&&setTimeout(()=>{try{m()}catch{}},ne),await Z.beforeLoadPromise,oe=this.getMatch(G).status!=="success"),oe){try{l(G,ft=>({...ft,loadPromise:Hu(()=>{var gt;(gt=ft.loadPromise)==null||gt.resolve()}),beforeLoadPromise:Hu()}));const Y=new AbortController;let me;M&&(me=setTimeout(()=>{try{m()}catch{}},ne));const{paramsError:Te,searchError:Ce}=this.getMatch(G);Te&&D(H,Te,"PARSE_PARAMS"),Ce&&D(H,Ce,"VALIDATE_SEARCH");const je=()=>ie?this.getMatch(ie).context:this.options.context??{};l(G,ft=>({...ft,isFetching:"beforeLoad",fetchCount:ft.fetchCount+1,abortController:Y,pendingTimeout:me,context:{...je(),...ft.__routeContext,...ft.__beforeLoadContext}}));const{search:be,params:ge,context:Ee,cause:Q}=this.getMatch(G),Se=y(G),ut={search:be,abortController:Y,params:ge,preload:Se,context:Ee,location:r,navigate:ft=>this.navigate({...ft,_fromLocation:r}),buildLocation:this.buildLocation,cause:Se?"preload":Q,matches:n};let lt=await ((A=(C=V.options).beforeLoad)==null?void 0:A.call(C,ut))??{};this.serializeLoaderData&&(lt=this.serializeLoaderData("__beforeLoadContext",lt,{router:this,match:this.getMatch(G)})),(jl(lt)||Vs(lt))&&D(H,lt,"BEFORE_LOAD"),l(G,ft=>({...ft,__beforeLoadContext:lt,context:{...je(),...ft.__routeContext,...lt},abortController:Y}))}catch(Y){D(H,Y,"BEFORE_LOAD")}l(G,Y=>{var me;return(me=Y.beforeLoadPromise)==null||me.resolve(),{...Y,beforeLoadPromise:void 0,isFetching:!1}})}}const F=n.slice(0,u),$=[];F.forEach(({id:H,routeId:G},B)=>{$.push((async()=>{const{loaderPromise:Z}=this.getMatch(H);let ie=!1;if(Z)await Z;else{const V=$[B-1],ne=this.looseRoutesById[G],M=()=>{const{params:Se,loaderDeps:ut,abortController:lt,context:ft,cause:gt}=this.getMatch(H),ht=y(H);return{params:Se,deps:ut,preload:!!ht,parentMatchPromise:V,abortController:lt,context:ft,location:r,navigate:vt=>this.navigate({...vt,_fromLocation:r}),cause:ht?"preload":gt,route:ne}},oe=Date.now()-this.getMatch(H).updatedAt,Y=y(H),me=Y?ne.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:ne.options.staleTime??this.options.defaultStaleTime??0,Te=ne.options.shouldReload,Ce=typeof Te=="function"?Te(M()):Te;l(H,Se=>({...Se,loaderPromise:Hu(),preload:!!Y&&!this.state.matches.find(ut=>ut.id===H)}));const je=async()=>{var Se,ut,lt,ft,gt,ht,vt,jt;try{const bt=async()=>{const yt=this.getMatch(H);yt.minPendingPromise&&await yt.minPendingPromise};try{this.loadRouteChunk(ne),l(H,mr=>({...mr,isFetching:"loader"}));let yt=await ((ut=(Se=ne.options).loader)==null?void 0:ut.call(Se,M()));this.serializeLoaderData&&(yt=this.serializeLoaderData("loaderData",yt,{router:this,match:this.getMatch(H)})),w(this.getMatch(H),yt),await ne._lazyPromise,await bt();const Ot=(ft=(lt=ne.options).head)==null?void 0:ft.call(lt,{matches:n,match:this.getMatch(H),params:this.getMatch(H).params,loaderData:yt}),Ct=Ot?.meta,tr=Ot?.links,Yt=Ot?.scripts,sr=(ht=(gt=ne.options).headers)==null?void 0:ht.call(gt,{loaderData:yt});l(H,mr=>({...mr,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:yt,meta:Ct,links:tr,scripts:Yt,headers:sr}))}catch(yt){let Ot=yt;await bt(),w(this.getMatch(H),yt);try{(jt=(vt=ne.options).onError)==null||jt.call(vt,yt)}catch(Ct){Ot=Ct,w(this.getMatch(H),Ct)}l(H,Ct=>({...Ct,error:Ot,status:"error",isFetching:!1}))}await ne._componentsPromise}catch(bt){l(H,yt=>({...yt,loaderPromise:void 0})),w(this.getMatch(H),bt)}},{status:be,invalid:ge}=this.getMatch(H);ie=be==="success"&&(ge||(Ce??oe>me)),Y&&ne.options.preload===!1||(ie?(async()=>{try{await je()}catch(Se){hb(Se)&&await this.navigate(Se)}})():be!=="success"&&await je());const{loaderPromise:Ee,loadPromise:Q}=this.getMatch(H);Ee?.resolve(),Q?.resolve()}return l(H,V=>({...V,isFetching:ie?V.isFetching:!1,loaderPromise:void 0,invalid:!1})),this.getMatch(H)})())}),await Promise.all($),E()}catch(D){k(D)}})()}),await m()}catch(E){if(jl(E)||Vs(E))throw Vs(E)&&!s&&await m(),E}return n},this.invalidate=r=>{const n=s=>{var o;return((o=r?.filter)==null?void 0:o.call(r,s))??!0?{...s,invalid:!0,...s.status==="error"?{status:"pending",error:void 0}:{}}:s};return this.__store.setState(s=>{var o;return{...s,matches:s.matches.map(n),cachedMatches:s.cachedMatches.map(n),pendingMatches:(o=s.pendingMatches)==null?void 0:o.map(n)}}),this.load()},this.resolveRedirect=r=>{const n=r;return n.href||(n.href=this.buildLocation(n).href),n},this.clearCache=r=>{const n=r?.filter;n!==void 0?this.__store.setState(s=>({...s,cachedMatches:s.cachedMatches.filter(o=>!n(o))})):this.__store.setState(s=>({...s,cachedMatches:[]}))},this.clearExpiredCache=()=>{const r=n=>{const s=this.looseRoutesById[n.routeId];if(!s.options.loader)return!0;const o=(n.preload?s.options.preloadGcTime??this.options.defaultPreloadGcTime:s.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return!(n.status!=="error"&&Date.now()-n.updatedAt<o)};this.clearCache({filter:r})},this.loadRouteChunk=r=>(r._lazyPromise===void 0&&(r.lazyFn?r._lazyPromise=r.lazyFn().then(n=>{const{id:s,...o}=n.options;Object.assign(r.options,o)}):r._lazyPromise=Promise.resolve()),r._componentsPromise===void 0&&(r._componentsPromise=r._lazyPromise.then(()=>Promise.all(UI.map(async n=>{const s=r.options[n];s?.preload&&await s.preload()})))),r._componentsPromise),this.preloadRoute=async r=>{const n=this.buildLocation(r);let s=this.matchRoutes(n,{throwOnError:!0,preload:!0,dest:r});const o=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(u=>u.id)),l=new Set([...o,...this.state.cachedMatches.map(u=>u.id)]);this.__store.batch(()=>{s.forEach(u=>{l.has(u.id)||this.__store.setState(d=>({...d,cachedMatches:[...d.cachedMatches,u]}))})});try{return s=await this.loadMatches({matches:s,location:n,preload:!0,updateMatch:(u,d)=>{o.has(u)?s=s.map(m=>m.id===u?d(m):m):this.updateMatch(u,d)}}),s}catch(u){if(jl(u))return u.reloadDocument?void 0:await this.preloadRoute({...u,_fromLocation:n});console.error(u);return}},this.matchRoute=(r,n)=>{const s={...r,to:r.to?this.resolvePathWithBase(r.from||"",r.to):void 0,params:r.params||{},leaveParams:!0},o=this.buildLocation(s);if(n?.pending&&this.state.status!=="pending")return!1;const u=(n?.pending===void 0?!this.state.isLoading:n.pending)?this.latestLocation:this.state.resolvedLocation,d=Pp(this.basepath,u.pathname,{...n,to:o.pathname});return!d||r.params&&!ac(d,r.params,{partial:!0})?!1:d&&(n?.includeSearch??!0)?ac(u.search,o.search,{partial:!0})?d:!1:d},this.dehydrate=()=>{var r;const n=((r=this.options.errorSerializer)==null?void 0:r.serialize)??BA;return{state:{dehydratedMatches:this.state.matches.map(s=>({...tm(s,["id","status","updatedAt"]),error:s.error?{data:n(s.error),__isServerError:!0}:void 0}))},manifest:this.manifest}},this.hydrate=()=>{var r,n,s;let o;typeof document<"u"&&(o=this.options.transformer.parse((r=window.__TSR__)==null?void 0:r.dehydrated)),ts(o),this.dehydratedData=o.payload,(s=(n=this.options).hydrate)==null||s.call(n,o.payload);const l=o.router.state,u=this.matchRoutes(this.state.location).map(d=>{const m=l.dehydratedMatches.find(y=>y.id===d.id);return ts(m,`Could not find a client-side match for dehydrated match with id: ${d.id}!`),{...d,...m}});this.__store.setState(d=>({...d,matches:u})),this.manifest=o.router.manifest},this.injectedHtml=[],this.injectHtml=r=>{const n=()=>(this.injectedHtml=this.injectedHtml.filter(s=>s!==n),r);this.injectedHtml.push(n)},this.injectScript=(r,n)=>{this.injectHtml(`<script class='tsr-once'>${r}; if (typeof __TSR__ !== 'undefined') __TSR__.cleanScripts()</script>`)},this.streamedKeys=new Set,this.getStreamedValue=r=>{var n;if(this.isServer)return;const s=(n=window.__TSR__)==null?void 0:n.streamedValues[r];if(s)return s.parsed||(s.parsed=this.options.transformer.parse(s.value)),s.parsed},this.streamValue=(r,n)=>{var s;this.streamedKeys.has(r),this.streamedKeys.add(r),this.injectScript(`__TSR__.streamedValues['${r}'] = { value: ${(s=this.serializer)==null?void 0:s.call(this,this.options.transformer.stringify(n))}}`)},this._handleNotFound=(r,n,{updateMatch:s=this.updateMatch}={})=>{const o=Object.fromEntries(r.map(d=>[d.routeId,d]));let l=(n.global?this.looseRoutesById[Yi]:this.looseRoutesById[n.routeId])||this.looseRoutesById[Yi];for(;!l.options.notFoundComponent&&!this.options.defaultNotFoundComponent&&l.id!==Yi;)l=l.parentRoute,ts(l);const u=o[l.id];ts(u,"Could not find match for route: "+l.id),s(u.id,d=>({...d,status:"notFound",error:n,isFetching:!1})),n.routerCode==="BEFORE_LOAD"&&l.parentRoute&&(n.routeId=l.parentRoute.id,this._handleNotFound(r,n,{updateMatch:s}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(r=>r.status==="notFound"||r.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??_A,parseSearch:e.parseSearch??bA,transformer:e.transformer??PA}),typeof document<"u"&&(window.__TSR__ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutes(e,r,n){return typeof e=="string"?this.matchRoutesInternal({pathname:e,search:r},n):this.matchRoutesInternal(e,r)}matchRoutesInternal(e,r){const{foundRoute:n,matchedRoutes:s,routeParams:o}=this.getMatchedRoutes(e,r?.dest);let l=!1;(n?n.path!=="/"&&o["**"]:Wl(e.pathname))&&(this.options.notFoundRoute?s.push(this.options.notFoundRoute):l=!0);const u=(()=>{if(l){if(this.options.notFoundMode!=="root")for(let w=s.length-1;w>=0;w--){const E=s[w];if(E.children)return E.id}return Yi}})(),d=s.map(w=>{var E;let k;const q=((E=w.options.params)==null?void 0:E.parse)??w.options.parseParams;if(q)try{const C=q(o);Object.assign(o,C)}catch(C){if(k=new DA(C.message,{cause:C}),r?.throwOnError)throw k;return k}}),m=[],y=w=>w?.id?w.context??this.options.context??{}:this.options.context??{};return s.forEach((w,E)=>{var k,q,C,A;const D=m[E-1],[F,$]=(()=>{const Y=D?.search??e.search;try{const me=pb(w.options.validateSearch,Y)??{};return[{...Y,...me},void 0]}catch(me){const Te=new Q_(me.message,{cause:me});if(r?.throwOnError)throw Te;return[Y,Te]}})(),H=((q=(k=w.options).loaderDeps)==null?void 0:q.call(k,{search:F}))??"",G=H?JSON.stringify(H):"",B=Ap({path:w.fullPath,params:o,decodeCharMap:this.pathParamsDecodeCharMap}),Z=Ap({path:w.id,params:o,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap})+G,ie=this.getMatch(Z),V=this.state.matches.find(Y=>Y.routeId===w.id),ne=V?"stay":"enter";let M;if(ie)M={...ie,cause:ne,params:V?xs(V.params,o):o,search:xs(V?V.search:ie.search,F)};else{const Y=w.options.loader||w.options.beforeLoad||w.lazyFn||jA(w)?"pending":"success";M={id:Z,index:E,routeId:w.id,params:V?xs(V.params,o):o,pathname:oa([this.basepath,B]),updatedAt:Date.now(),search:V?xs(V.search,F):F,searchError:void 0,status:Y,isFetching:!1,error:void 0,paramsError:d[E],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:ne,loaderDeps:V?xs(V.loaderDeps,H):H,invalid:!1,preload:!1,links:void 0,scripts:void 0,meta:void 0,staticData:w.options.staticData||{},loadPromise:Hu(),fullPath:w.fullPath}}M.status==="success"&&(M.headers=(A=(C=w.options).headers)==null?void 0:A.call(C,{loaderData:M.loaderData})),r?.preload||(M.globalNotFound=u===w.id),M.searchError=$;const oe=y(D);M.context={...oe,...M.__routeContext,...M.__beforeLoadContext},m.push(M)}),m.forEach((w,E)=>{var k,q,C,A;const D=this.looseRoutesById[w.routeId];if(!this.getMatch(w.id)&&r?._buildLocation!==!0){const H=m[E-1],G=y(H),B={deps:w.loaderDeps,params:w.params,context:G,location:e,navigate:Z=>this.navigate({...Z,_fromLocation:e}),buildLocation:this.buildLocation,cause:w.cause,abortController:w.abortController,preload:!!w.preload,matches:m};w.__routeContext=((q=(k=D.options).context)==null?void 0:q.call(k,B))??{},w.context={...G,...w.__routeContext,...w.__beforeLoadContext}}const $=(A=(C=D.options).head)==null?void 0:A.call(C,{matches:m,match:w,params:w.params,loaderData:w.loaderData??void 0});w.links=$?.links,w.scripts=$?.scripts,w.meta=$?.meta}),m}}class Q_ extends Error{}class DA extends Error{}function MA(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:{...t},location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function BA(t){return t instanceof Error?{name:t.name,message:t.message}:{data:t}}function zN(t){return!(typeof t=="object"&&t&&"data"in t)||!("__isServerError"in t&&t.__isServerError)||!(typeof t.data=="object"&&t.data)?!1:t.__isServerError===!0}function UN(t){if("name"in t&&"message"in t){const e=new Error(t.message);return e.name=t.name,e}return t.data}const Tg=K.createContext(void 0),$A=K.createContext(void 0);function tl(t){const e=K.useContext(t.from?$A:Tg);return wi({select:n=>{const s=n.matches.find(o=>t.from?t.from===o.routeId:o.id===e);if(ts(!((t.shouldThrow??!0)&&!s),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),s!==void 0)return t.select?t.select(s):s},structuralSharing:t.structuralSharing})}function fl(t){return tl({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}function WA(t){const{select:e,...r}=t;return tl({...r,select:n=>e?e(n.loaderDeps):n.loaderDeps})}function Br(t){return tl({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.params):e.params})}function zA(t){return tl({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}function Qw(t){const{navigate:e}=Ui();return K.useCallback(r=>e({...r}),[e])}let VI=class{constructor(e){this.init=r=>{var n,s;this.originalIndex=r.originalIndex;const o=this.options,l=!o?.path&&!o?.id;this.parentRoute=(s=(n=this.options).getParentRoute)==null?void 0:s.call(n),l?this._path=Yi:ts(this.parentRoute);let u=l?Yi:o.path;u&&u!=="/"&&(u=Vw(u));const d=o?.id||u;let m=l?Yi:oa([this.parentRoute.id===Yi?"":this.parentRoute.id,d]);u===Yi&&(u="/"),m!==Yi&&(m=oa(["/",m]));const y=m===Yi?"/":oa([this.parentRoute.fullPath,u]);this._path=u,this._id=m,this._fullPath=y,this._to=y,this._ssr=o?.ssr??r.defaultSsr??!0},this.updateLoader=r=>(Object.assign(this.options,r),this),this.update=r=>(Object.assign(this.options,r),this),this.lazy=r=>(this.lazyFn=r,this),this.useMatch=r=>tl({select:r?.select,from:this.id,structuralSharing:r?.structuralSharing}),this.useRouteContext=r=>tl({...r,from:this.id,select:n=>r?.select?r.select(n.context):n.context}),this.useSearch=r=>zA({select:r?.select,structuralSharing:r?.structuralSharing,from:this.id}),this.useParams=r=>Br({select:r?.select,structuralSharing:r?.structuralSharing,from:this.id}),this.useLoaderDeps=r=>WA({...r,from:this.id}),this.useLoaderData=r=>fl({...r,from:this.id}),this.useNavigate=()=>Qw({from:this.id}),this.options=e||{},this.isRoot=!e?.getParentRoute,ts(!(e?.id&&e?.path)),this.$$typeof=Symbol.for("react.memo")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}get ssr(){return this._ssr}addChildren(e){return this._addFileChildren(e)}_addFileChildren(e){return Array.isArray(e)&&(this.children=e),typeof e=="object"&&e!==null&&(this.children=Object.values(e)),this}};function UA(t){return new VI(t)}function VA(){return t=>QA(t)}class HA extends VI{constructor(e){super(e)}addChildren(e){return super.addChildren(e),this}_addFileChildren(e){return super._addFileChildren(e),this}_addFileTypes(){return this}}function QA(t){return new HA(t)}function Zt(t){return new KA(t,{silent:!0}).createRoute}class KA{constructor(e,r){this.path=e,this.createRoute=n=>{this.silent;const s=UA(n);return s.isRoot=!1,s},this.silent=r?.silent}}function rm(t){return p.jsx(p.Fragment,{children:t.children})}function HI(t,e,r){return e.options.notFoundComponent?p.jsx(e.options.notFoundComponent,{data:r}):t.options.defaultNotFoundComponent?p.jsx(t.options.defaultNotFoundComponent,{data:r}):p.jsx(AA,{})}const QI=K.memo(function({matchId:e}){var r,n;const s=Ui(),o=wi({select:A=>{var D;return(D=A.matches.find(F=>F.id===e))==null?void 0:D.routeId}});ts(o);const l=s.routesById[o],u=l.options.pendingComponent??s.options.defaultPendingComponent,d=u?p.jsx(u,{}):null,m=l.options.errorComponent??s.options.defaultErrorComponent,y=l.options.onCatch??s.options.defaultOnCatch,w=l.isRoot?l.options.notFoundComponent??((r=s.options.notFoundRoute)==null?void 0:r.options.component):l.options.notFoundComponent,E=(!l.isRoot||l.options.wrapInSuspense)&&(l.options.wrapInSuspense??u??((n=l.options.errorComponent)==null?void 0:n.preload))?K.Suspense:rm,k=m?Hw:rm,q=w?RA:rm,C=wi({select:A=>A.loadedAt});return p.jsx(Tg.Provider,{value:e,children:p.jsx(E,{fallback:d,children:p.jsx(k,{getResetKey:()=>C,errorComponent:m||Cg,onCatch:(A,D)=>{if(Vs(A))throw A;y?.(A,D)},children:p.jsx(q,{fallback:A=>{if(!w||A.routeId&&A.routeId!==o||!A.routeId&&!l.isRoot)throw A;return K.createElement(w,A)},children:p.jsx(GA,{matchId:e})})})})})}),GA=K.memo(function({matchId:e}){var r,n,s,o,l;const u=Ui(),{match:d,matchIndex:m,routeId:y}=wi({select:q=>{const C=q.matches.findIndex(F=>F.id===e),A=q.matches[C];return{routeId:A.routeId,matchIndex:C,match:tm(A,["id","status","error"])}},structuralSharing:!0}),w=u.routesById[y],E=K.useMemo(()=>{const q=w.options.component??u.options.defaultComponent;return q?p.jsx(q,{}):p.jsx(Ro,{})},[w.options.component,u.options.defaultComponent]),k=(w.options.errorComponent??u.options.defaultErrorComponent)||Cg;if(d.status==="notFound"){let q;return zN(d.error)?q=(((r=u.options.errorSerializer)==null?void 0:r.deserialize)??UN)(d.error.data):q=d.error,ts(Vs(q)),HI(u,w,q)}if(d.status==="redirected")throw ts(jl(d.error)),(n=u.getMatch(d.id))==null?void 0:n.loadPromise;if(d.status==="error"){if(u.isServer)return p.jsx(k,{error:d.error,info:{componentStack:""}});throw zN(d.error)?(((s=u.options.errorSerializer)==null?void 0:s.deserialize)??UN)(d.error.data):d.error}if(d.status==="pending"){const q=w.options.pendingMinMs??u.options.defaultPendingMinMs;if(q&&!((o=u.getMatch(d.id))!=null&&o.minPendingPromise)&&!u.isServer){const C=Hu();Promise.resolve().then(()=>{u.updateMatch(d.id,A=>({...A,minPendingPromise:C}))}),setTimeout(()=>{C.resolve(),u.updateMatch(d.id,A=>({...A,minPendingPromise:void 0}))},q)}throw(l=u.getMatch(d.id))==null?void 0:l.loadPromise}return p.jsxs(p.Fragment,{children:[E,u.AfterEachMatch?p.jsx(u.AfterEachMatch,{match:d,matchIndex:m}):null]})}),Ro=K.memo(function(){const e=Ui(),r=K.useContext(Tg),n=wi({select:m=>{var y;return(y=m.matches.find(w=>w.id===r))==null?void 0:y.routeId}}),s=e.routesById[n],o=wi({select:m=>{const w=m.matches.find(E=>E.id===r);return ts(w),w.globalNotFound}}),l=wi({select:m=>{var y;const w=m.matches,E=w.findIndex(k=>k.id===r);return(y=w[E+1])==null?void 0:y.id}});if(o)return HI(e,s,void 0);if(!l)return null;const u=p.jsx(QI,{matchId:l}),d=e.options.defaultPendingComponent?p.jsx(e.options.defaultPendingComponent,{}):null;return r===Yi?p.jsx(K.Suspense,{fallback:d,children:u}):u});var mb={exports:{}},ji={},gb={exports:{}},yb={};var VN;function JA(){return VN||(VN=1,function(t){function e(be,ge){var Ee=be.length;be.push(ge);e:for(;0<Ee;){var Q=Ee-1>>>1,Se=be[Q];if(0<s(Se,ge))be[Q]=ge,be[Ee]=Se,Ee=Q;else break e}}function r(be){return be.length===0?null:be[0]}function n(be){if(be.length===0)return null;var ge=be[0],Ee=be.pop();if(Ee!==ge){be[0]=Ee;e:for(var Q=0,Se=be.length,ut=Se>>>1;Q<ut;){var lt=2*(Q+1)-1,ft=be[lt],gt=lt+1,ht=be[gt];if(0>s(ft,Ee))gt<Se&&0>s(ht,ft)?(be[Q]=ht,be[gt]=Ee,Q=gt):(be[Q]=ft,be[lt]=Ee,Q=lt);else if(gt<Se&&0>s(ht,Ee))be[Q]=ht,be[gt]=Ee,Q=gt;else break e}}return ge}function s(be,ge){var Ee=be.sortIndex-ge.sortIndex;return Ee!==0?Ee:be.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],m=[],y=1,w=null,E=3,k=!1,q=!1,C=!1,A=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(be){for(var ge=r(m);ge!==null;){if(ge.callback===null)n(m);else if(ge.startTime<=be)n(m),ge.sortIndex=ge.expirationTime,e(d,ge);else break;ge=r(m)}}function H(be){if(C=!1,$(be),!q)if(r(d)!==null)q=!0,Ce(G);else{var ge=r(m);ge!==null&&je(H,ge.startTime-be)}}function G(be,ge){q=!1,C&&(C=!1,D(ie),ie=-1),k=!0;var Ee=E;try{for($(ge),w=r(d);w!==null&&(!(w.expirationTime>ge)||be&&!M());){var Q=w.callback;if(typeof Q=="function"){w.callback=null,E=w.priorityLevel;var Se=Q(w.expirationTime<=ge);ge=t.unstable_now(),typeof Se=="function"?w.callback=Se:w===r(d)&&n(d),$(ge)}else n(d);w=r(d)}if(w!==null)var ut=!0;else{var lt=r(m);lt!==null&&je(H,lt.startTime-ge),ut=!1}return ut}finally{w=null,E=Ee,k=!1}}var B=!1,Z=null,ie=-1,V=5,ne=-1;function M(){return!(t.unstable_now()-ne<V)}function oe(){if(Z!==null){var be=t.unstable_now();ne=be;var ge=!0;try{ge=Z(!0,be)}finally{ge?Y():(B=!1,Z=null)}}else B=!1}var Y;if(typeof F=="function")Y=function(){F(oe)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,Te=me.port2;me.port1.onmessage=oe,Y=function(){Te.postMessage(null)}}else Y=function(){A(oe,0)};function Ce(be){Z=be,B||(B=!0,Y())}function je(be,ge){ie=A(function(){be(t.unstable_now())},ge)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(be){be.callback=null},t.unstable_continueExecution=function(){q||k||(q=!0,Ce(G))},t.unstable_forceFrameRate=function(be){0>be||125<be?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<be?Math.floor(1e3/be):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(be){switch(E){case 1:case 2:case 3:var ge=3;break;default:ge=E}var Ee=E;E=ge;try{return be()}finally{E=Ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(be,ge){switch(be){case 1:case 2:case 3:case 4:case 5:break;default:be=3}var Ee=E;E=be;try{return ge()}finally{E=Ee}},t.unstable_scheduleCallback=function(be,ge,Ee){var Q=t.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?Q+Ee:Q):Ee=Q,be){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=0x3fffffff;break;case 4:Se=1e4;break;default:Se=5e3}return Se=Ee+Se,be={id:y++,callback:ge,priorityLevel:be,startTime:Ee,expirationTime:Se,sortIndex:-1},Ee>Q?(be.sortIndex=Ee,e(m,be),r(d)===null&&be===r(m)&&(C?(D(ie),ie=-1):C=!0,je(H,Ee-Q))):(be.sortIndex=Se,e(d,be),q||k||(q=!0,Ce(G))),be},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(be){var ge=E;return function(){var Ee=E;E=ge;try{return be.apply(this,arguments)}finally{E=Ee}}}}(yb)),yb}var HN;function ZA(){return HN||(HN=1,gb.exports=JA()),gb.exports}var QN;function YA(){if(QN)return ji;QN=1;var t=Jf(),e=ZA();function r(i){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+i,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function o(i,a){l(i,a),l(i+"Capture",a)}function l(i,a){for(s[i]=a,i=0;i<a.length;i++)n.add(a[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function E(i){return d.call(w,i)?!0:d.call(y,i)?!1:m.test(i)?w[i]=!0:(y[i]=!0,!1)}function k(i,a,c,g){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return g?!1:c!==null?!c.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function q(i,a,c,g){if(a===null||typeof a>"u"||k(i,a,c,g))return!0;if(g)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function C(i,a,c,g,x,N,P){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=g,this.attributeNamespace=x,this.mustUseProperty=c,this.propertyName=i,this.type=a,this.sanitizeURL=N,this.removeEmptyString=P}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){A[i]=new C(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var a=i[0];A[a]=new C(a,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){A[i]=new C(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){A[i]=new C(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){A[i]=new C(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){A[i]=new C(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){A[i]=new C(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){A[i]=new C(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){A[i]=new C(i,5,!1,i.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function F(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var a=i.replace(D,F);A[a]=new C(a,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var a=i.replace(D,F);A[a]=new C(a,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var a=i.replace(D,F);A[a]=new C(a,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){A[i]=new C(i,1,!1,i.toLowerCase(),null,!1,!1)}),A.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){A[i]=new C(i,1,!1,i.toLowerCase(),null,!0,!0)});function $(i,a,c,g){var x=A.hasOwnProperty(a)?A[a]:null;(x!==null?x.type!==0:g||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(q(a,c,x,g)&&(c=null),g||x===null?E(a)&&(c===null?i.removeAttribute(a):i.setAttribute(a,""+c)):x.mustUseProperty?i[x.propertyName]=c===null?x.type===3?!1:"":c:(a=x.attributeName,g=x.attributeNamespace,c===null?i.removeAttribute(a):(x=x.type,c=x===3||x===4&&c===!0?"":""+c,g?i.setAttributeNS(g,a,c):i.setAttribute(a,c))))}var H=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,G=Symbol.for("react.element"),B=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),M=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),Te=Symbol.for("react.memo"),Ce=Symbol.for("react.lazy"),je=Symbol.for("react.offscreen"),be=Symbol.iterator;function ge(i){return i===null||typeof i!="object"?null:(i=be&&i[be]||i["@@iterator"],typeof i=="function"?i:null)}var Ee=Object.assign,Q;function Se(i){if(Q===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);Q=a&&a[1]||""}return`
`+Q+i}var ut=!1;function lt(i,a){if(!i||ut)return"";ut=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Fe){var g=Fe}Reflect.construct(i,[],a)}else{try{a.call()}catch(Fe){g=Fe}i.call(a.prototype)}else{try{throw Error()}catch(Fe){g=Fe}i()}}catch(Fe){if(Fe&&g&&typeof Fe.stack=="string"){for(var x=Fe.stack.split(`
`),N=g.stack.split(`
`),P=x.length-1,ae=N.length-1;1<=P&&0<=ae&&x[P]!==N[ae];)ae--;for(;1<=P&&0<=ae;P--,ae--)if(x[P]!==N[ae]){if(P!==1||ae!==1)do if(P--,ae--,0>ae||x[P]!==N[ae]){var fe=`
`+x[P].replace(" at new "," at ");return i.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",i.displayName)),fe}while(1<=P&&0<=ae);break}}}finally{ut=!1,Error.prepareStackTrace=c}return(i=i?i.displayName||i.name:"")?Se(i):""}function ft(i){switch(i.tag){case 5:return Se(i.type);case 16:return Se("Lazy");case 13:return Se("Suspense");case 19:return Se("SuspenseList");case 0:case 2:case 15:return i=lt(i.type,!1),i;case 11:return i=lt(i.type.render,!1),i;case 1:return i=lt(i.type,!0),i;default:return""}}function gt(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case Z:return"Fragment";case B:return"Portal";case V:return"Profiler";case ie:return"StrictMode";case Y:return"Suspense";case me:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case M:return(i.displayName||"Context")+".Consumer";case ne:return(i._context.displayName||"Context")+".Provider";case oe:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Te:return a=i.displayName||null,a!==null?a:gt(i.type)||"Memo";case Ce:a=i._payload,i=i._init;try{return gt(i(a))}catch{}}return null}function ht(i){var a=i.type;switch(i.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=a.render,i=i.displayName||i.name||"",a.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gt(a);case 8:return a===ie?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function vt(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function jt(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function bt(i){var a=jt(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),g=""+i[a];if(!i.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var x=c.get,N=c.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return x.call(this)},set:function(P){g=""+P,N.call(this,P)}}),Object.defineProperty(i,a,{enumerable:c.enumerable}),{getValue:function(){return g},setValue:function(P){g=""+P},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function yt(i){i._valueTracker||(i._valueTracker=bt(i))}function Ot(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var c=a.getValue(),g="";return i&&(g=jt(i)?i.checked?"true":"false":i.value),i=g,i!==c?(a.setValue(i),!0):!1}function Ct(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function tr(i,a){var c=a.checked;return Ee({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??i._wrapperState.initialChecked})}function Yt(i,a){var c=a.defaultValue==null?"":a.defaultValue,g=a.checked!=null?a.checked:a.defaultChecked;c=vt(a.value!=null?a.value:c),i._wrapperState={initialChecked:g,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function sr(i,a){a=a.checked,a!=null&&$(i,"checked",a,!1)}function mr(i,a){sr(i,a);var c=vt(a.value),g=a.type;if(c!=null)g==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+c):i.value!==""+c&&(i.value=""+c);else if(g==="submit"||g==="reset"){i.removeAttribute("value");return}a.hasOwnProperty("value")?ce(i,a.type,c):a.hasOwnProperty("defaultValue")&&ce(i,a.type,vt(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(i.defaultChecked=!!a.defaultChecked)}function le(i,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var g=a.type;if(!(g!=="submit"&&g!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+i._wrapperState.initialValue,c||a===i.value||(i.value=a),i.defaultValue=a}c=i.name,c!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,c!==""&&(i.name=c)}function ce(i,a,c){(a!=="number"||Ct(i.ownerDocument)!==i)&&(c==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+c&&(i.defaultValue=""+c))}var ye=Array.isArray;function Oe(i,a,c,g){if(i=i.options,a){a={};for(var x=0;x<c.length;x++)a["$"+c[x]]=!0;for(c=0;c<i.length;c++)x=a.hasOwnProperty("$"+i[c].value),i[c].selected!==x&&(i[c].selected=x),x&&g&&(i[c].defaultSelected=!0)}else{for(c=""+vt(c),a=null,x=0;x<i.length;x++){if(i[x].value===c){i[x].selected=!0,g&&(i[x].defaultSelected=!0);return}a!==null||i[x].disabled||(a=i[x])}a!==null&&(a.selected=!0)}}function De(i,a){if(a.dangerouslySetInnerHTML!=null)throw Error(r(91));return Ee({},a,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Je(i,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(r(92));if(ye(c)){if(1<c.length)throw Error(r(93));c=c[0]}a=c}a==null&&(a=""),c=a}i._wrapperState={initialValue:vt(c)}}function _t(i,a){var c=vt(a.value),g=vt(a.defaultValue);c!=null&&(c=""+c,c!==i.value&&(i.value=c),a.defaultValue==null&&i.defaultValue!==c&&(i.defaultValue=c)),g!=null&&(i.defaultValue=""+g)}function $t(i){var a=i.textContent;a===i._wrapperState.initialValue&&a!==""&&a!==null&&(i.value=a)}function Sr(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gr(i,a){return i==null||i==="http://www.w3.org/1999/xhtml"?Sr(a):i==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Ur,di=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,g,x){MSApp.execUnsafeLocalFunction(function(){return i(a,c,g,x)})}:i}(function(i,a){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=a;else{for(Ur=Ur||document.createElement("div"),Ur.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Ur.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;a.firstChild;)i.appendChild(a.firstChild)}});function hn(i,a){if(a){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=a;return}}i.textContent=a}var qi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Do=["Webkit","ms","Moz","O"];Object.keys(qi).forEach(function(i){Do.forEach(function(a){a=a+i.charAt(0).toUpperCase()+i.substring(1),qi[a]=qi[i]})});function zn(i,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||qi.hasOwnProperty(i)&&qi[i]?(""+a).trim():a+"px"}function Ht(i,a){i=i.style;for(var c in a)if(a.hasOwnProperty(c)){var g=c.indexOf("--")===0,x=zn(c,a[c],g);c==="float"&&(c="cssFloat"),g?i.setProperty(c,x):i[c]=x}}var pa=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ma(i,a){if(a){if(pa[i]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(r(137,i));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(r(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(r(61))}if(a.style!=null&&typeof a.style!="object")throw Error(r(62))}}function ga(i,a){if(i.indexOf("-")===-1)return typeof a.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zc=null;function Yc(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Xc=null,ao=null,O=null;function kh(i){if(i=_d(i)){if(typeof Xc!="function")throw Error(r(280));var a=i.stateNode;a&&(a=Qh(a),Xc(i.stateNode,i.type,a))}}function nr(i){ao?O?O.push(i):O=[i]:ao=i}function Ih(){if(ao){var i=ao,a=O;if(O=ao=null,kh(i),a)for(i=0;i<a.length;i++)kh(a[i])}}function qh(i,a){return i(a)}function Ch(){}var ed=!1;function gl(i,a,c){if(ed)return i(a,c);ed=!0;try{return qh(i,a,c)}finally{ed=!1,(ao!==null||O!==null)&&(Ch(),Ih())}}function fs(i,a){var c=i.stateNode;if(c===null)return null;var g=Qh(c);if(g===null)return null;c=g[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(i=i.type,g=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!g;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(r(231,a,typeof c));return c}var td=!1;if(u)try{var yl={};Object.defineProperty(yl,"passive",{get:function(){td=!0}}),window.addEventListener("test",yl,yl),window.removeEventListener("test",yl,yl)}catch{td=!1}function by(i,a,c,g,x,N,P,ae,fe){var Fe=Array.prototype.slice.call(arguments,3);try{a.apply(c,Fe)}catch(rt){this.onError(rt)}}var vl=!1,lo=null,fu=!1,uo=null,_y={onError:function(i){vl=!0,lo=i}};function wy(i,a,c,g,x,N,P,ae,fe){vl=!1,lo=null,by.apply(_y,arguments)}function xy(i,a,c,g,x,N,P,ae,fe){if(wy.apply(this,arguments),vl){if(vl){var Fe=lo;vl=!1,lo=null}else throw Error(r(198));fu||(fu=!0,uo=Fe)}}function Mo(i){var a=i,c=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,a.flags&4098&&(c=a.return),i=a.return;while(i)}return a.tag===3?c:null}function Th(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function Oh(i){if(Mo(i)!==i)throw Error(r(188))}function Sy(i){var a=i.alternate;if(!a){if(a=Mo(i),a===null)throw Error(r(188));return a!==i?null:i}for(var c=i,g=a;;){var x=c.return;if(x===null)break;var N=x.alternate;if(N===null){if(g=x.return,g!==null){c=g;continue}break}if(x.child===N.child){for(N=x.child;N;){if(N===c)return Oh(x),i;if(N===g)return Oh(x),a;N=N.sibling}throw Error(r(188))}if(c.return!==g.return)c=x,g=N;else{for(var P=!1,ae=x.child;ae;){if(ae===c){P=!0,c=x,g=N;break}if(ae===g){P=!0,g=x,c=N;break}ae=ae.sibling}if(!P){for(ae=N.child;ae;){if(ae===c){P=!0,c=N,g=x;break}if(ae===g){P=!0,g=N,c=x;break}ae=ae.sibling}if(!P)throw Error(r(189))}}if(c.alternate!==g)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?i:a}function Rh(i){return i=Sy(i),i!==null?Ah(i):null}function Ah(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var a=Ah(i);if(a!==null)return a;i=i.sibling}return null}var Ph=e.unstable_scheduleCallback,rd=e.unstable_cancelCallback,Ny=e.unstable_shouldYield,Ey=e.unstable_requestPaint,on=e.unstable_now,ky=e.unstable_getCurrentPriorityLevel,nd=e.unstable_ImmediatePriority,jh=e.unstable_UserBlockingPriority,hu=e.unstable_NormalPriority,Iy=e.unstable_LowPriority,Fh=e.unstable_IdlePriority,pu=null,hs=null;function qy(i){if(hs&&typeof hs.onCommitFiberRoot=="function")try{hs.onCommitFiberRoot(pu,i,void 0,(i.current.flags&128)===128)}catch{}}var Ci=Math.clz32?Math.clz32:Oy,Cy=Math.log,Ty=Math.LN2;function Oy(i){return i>>>=0,i===0?32:31-(Cy(i)/Ty|0)|0}var ya=64,mu=4194304;function Ps(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return i&0x7c00000;case 0x8000000:return 0x8000000;case 0x10000000:return 0x10000000;case 0x20000000:return 0x20000000;case 0x40000000:return 0x40000000;default:return i}}function gu(i,a){var c=i.pendingLanes;if(c===0)return 0;var g=0,x=i.suspendedLanes,N=i.pingedLanes,P=c&0xfffffff;if(P!==0){var ae=P&~x;ae!==0?g=Ps(ae):(N&=P,N!==0&&(g=Ps(N)))}else P=c&~x,P!==0?g=Ps(P):N!==0&&(g=Ps(N));if(g===0)return 0;if(a!==0&&a!==g&&!(a&x)&&(x=g&-g,N=a&-a,x>=N||x===16&&(N&4194240)!==0))return a;if(g&4&&(g|=c&16),a=i.entangledLanes,a!==0)for(i=i.entanglements,a&=g;0<a;)c=31-Ci(a),x=1<<c,g|=i[c],a&=~x;return g}function Ry(i,a){switch(i){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return-1;case 0x8000000:case 0x10000000:case 0x20000000:case 0x40000000:return-1;default:return-1}}function Ay(i,a){for(var c=i.suspendedLanes,g=i.pingedLanes,x=i.expirationTimes,N=i.pendingLanes;0<N;){var P=31-Ci(N),ae=1<<P,fe=x[P];fe===-1?(!(ae&c)||ae&g)&&(x[P]=Ry(ae,a)):fe<=a&&(i.expiredLanes|=ae),N&=~ae}}function id(i){return i=i.pendingLanes&-0x40000001,i!==0?i:i&0x40000000?0x40000000:0}function Lh(){var i=ya;return ya<<=1,!(ya&4194240)&&(ya=64),i}function sd(i){for(var a=[],c=0;31>c;c++)a.push(i);return a}function bl(i,a,c){i.pendingLanes|=a,a!==0x20000000&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,a=31-Ci(a),i[a]=c}function Py(i,a){var c=i.pendingLanes&~a;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=a,i.mutableReadLanes&=a,i.entangledLanes&=a,a=i.entanglements;var g=i.eventTimes;for(i=i.expirationTimes;0<c;){var x=31-Ci(c),N=1<<x;a[x]=0,g[x]=-1,i[x]=-1,c&=~N}}function od(i,a){var c=i.entangledLanes|=a;for(i=i.entanglements;c;){var g=31-Ci(c),x=1<<g;x&a|i[g]&a&&(i[g]|=a),c&=~x}}var Nr=0;function Dh(i){return i&=-i,1<i?4<i?i&0xfffffff?16:0x20000000:4:1}var ad,te,ld,_l,ud,f=!1,h=[],b=null,_=null,S=null,I=new Map,X=new Map,re=[],Le="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ve(i,a){switch(i){case"focusin":case"focusout":b=null;break;case"dragenter":case"dragleave":_=null;break;case"mouseover":case"mouseout":S=null;break;case"pointerover":case"pointerout":I.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":X.delete(a.pointerId)}}function Ze(i,a,c,g,x,N){return i===null||i.nativeEvent!==N?(i={blockedOn:a,domEventName:c,eventSystemFlags:g,nativeEvent:N,targetContainers:[x]},a!==null&&(a=_d(a),a!==null&&te(a)),i):(i.eventSystemFlags|=g,a=i.targetContainers,x!==null&&a.indexOf(x)===-1&&a.push(x),i)}function nt(i,a,c,g,x){switch(a){case"focusin":return b=Ze(b,i,a,c,g,x),!0;case"dragenter":return _=Ze(_,i,a,c,g,x),!0;case"mouseover":return S=Ze(S,i,a,c,g,x),!0;case"pointerover":var N=x.pointerId;return I.set(N,Ze(I.get(N)||null,i,a,c,g,x)),!0;case"gotpointercapture":return N=x.pointerId,X.set(N,Ze(X.get(N)||null,i,a,c,g,x)),!0}return!1}function Ae(i){var a=wl(i.target);if(a!==null){var c=Mo(a);if(c!==null){if(a=c.tag,a===13){if(a=Th(c),a!==null){i.blockedOn=a,ud(i.priority,function(){ld(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function xe(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var c=J(i.domEventName,i.eventSystemFlags,a[0],i.nativeEvent);if(c===null){c=i.nativeEvent;var g=new c.constructor(c.type,c);Zc=g,c.target.dispatchEvent(g),Zc=null}else return a=_d(c),a!==null&&te(a),i.blockedOn=c,!1;a.shift()}return!0}function Ue(i,a,c){xe(i)&&c.delete(a)}function ue(){f=!1,b!==null&&xe(b)&&(b=null),_!==null&&xe(_)&&(_=null),S!==null&&xe(S)&&(S=null),I.forEach(Ue),X.forEach(Ue)}function pe(i,a){i.blockedOn===a&&(i.blockedOn=null,f||(f=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ue)))}function _e(i){function a(x){return pe(x,i)}if(0<h.length){pe(h[0],i);for(var c=1;c<h.length;c++){var g=h[c];g.blockedOn===i&&(g.blockedOn=null)}}for(b!==null&&pe(b,i),_!==null&&pe(_,i),S!==null&&pe(S,i),I.forEach(a),X.forEach(a),c=0;c<re.length;c++)g=re[c],g.blockedOn===i&&(g.blockedOn=null);for(;0<re.length&&(c=re[0],c.blockedOn===null);)Ae(c),c.blockedOn===null&&re.shift()}var We=H.ReactCurrentBatchConfig,$e=!0;function we(i,a,c,g){var x=Nr,N=We.transition;We.transition=null;try{Nr=1,pt(i,a,c,g)}finally{Nr=x,We.transition=N}}function Me(i,a,c,g){var x=Nr,N=We.transition;We.transition=null;try{Nr=4,pt(i,a,c,g)}finally{Nr=x,We.transition=N}}function pt(i,a,c,g){if($e){var x=J(i,a,c,g);if(x===null)Ky(i,a,g,j,c),Ve(i,g);else if(nt(x,i,a,c,g))g.stopPropagation();else if(Ve(i,g),a&4&&-1<Le.indexOf(i)){for(;x!==null;){var N=_d(x);if(N!==null&&ad(N),N=J(i,a,c,g),N===null&&Ky(i,a,g,j,c),N===x)break;x=N}x!==null&&g.stopPropagation()}else Ky(i,a,g,null,c)}}var j=null;function J(i,a,c,g){if(j=null,i=Yc(g),i=wl(i),i!==null)if(a=Mo(i),a===null)i=null;else if(c=a.tag,c===13){if(i=Th(a),i!==null)return i;i=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null);return j=i,null}function he(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ky()){case nd:return 1;case jh:return 4;case hu:case Iy:return 16;case Fh:return 0x20000000;default:return 16}default:return 16}}var Ke=null,U=null,ee=null;function T(){if(ee)return ee;var i,a=U,c=a.length,g,x="value"in Ke?Ke.value:Ke.textContent,N=x.length;for(i=0;i<c&&a[i]===x[i];i++);var P=c-i;for(g=1;g<=P&&a[c-g]===x[N-g];g++);return ee=x.slice(i,1<g?1-g:void 0)}function L(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function W(){return!0}function qe(){return!1}function Qe(i){function a(c,g,x,N,P){this._reactName=c,this._targetInst=x,this.type=g,this.nativeEvent=N,this.target=P,this.currentTarget=null;for(var ae in i)i.hasOwnProperty(ae)&&(c=i[ae],this[ae]=c?c(N):N[ae]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?W:qe,this.isPropagationStopped=qe,this}return Ee(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=W)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=W)},persist:function(){},isPersistent:W}),a}var Et={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lt=Qe(Et),Wt=Ee({},Et,{view:0,detail:0}),Ye=Qe(Wt),de,ke,Ge,tt=Ee({},Wt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:or,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ge&&(Ge&&i.type==="mousemove"?(de=i.screenX-Ge.screenX,ke=i.screenY-Ge.screenY):ke=de=0,Ge=i),de)},movementY:function(i){return"movementY"in i?i.movementY:ke}}),Rt=Qe(tt),zt=Ee({},tt,{dataTransfer:0}),Ne=Qe(zt),He=Ee({},Wt,{relatedTarget:0}),Xe=Qe(He),wt=Ee({},Et,{animationName:0,elapsedTime:0,pseudoElement:0}),ct=Qe(wt),Ft=Ee({},Et,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ir=Qe(Ft),kt=Ee({},Et,{data:0}),an=Qe(kt),Pe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ot={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xt(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=dt[i])?!!a[i]:!1}function or(){return xt}var Pr=Ee({},Wt,{key:function(i){if(i.key){var a=Pe[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=L(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ot[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:or,charCode:function(i){return i.type==="keypress"?L(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?L(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),qr=Qe(Pr),Rr=Ee({},tt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bo=Qe(Rr),Un=Ee({},Wt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:or}),jy=Qe(Un),Fy=Ee({},Et,{propertyName:0,elapsedTime:0,pseudoElement:0}),ps=Qe(Fy),Ly=Ee({},tt,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Mh=Qe(Ly),cd=[9,13,27,32],Dy=u&&"CompositionEvent"in window,dd=null;u&&"documentMode"in document&&(dd=document.documentMode);var gO=u&&"TextEvent"in window&&!dd,ux=u&&(!Dy||dd&&8<dd&&11>=dd),cx=" ",dx=!1;function fx(i,a){switch(i){case"keyup":return cd.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hx(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var yu=!1;function yO(i,a){switch(i){case"compositionend":return hx(a);case"keypress":return a.which!==32?null:(dx=!0,cx);case"textInput":return i=a.data,i===cx&&dx?null:i;default:return null}}function vO(i,a){if(yu)return i==="compositionend"||!Dy&&fx(i,a)?(i=T(),ee=U=Ke=null,yu=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return ux&&a.locale!=="ko"?null:a.data;default:return null}}var bO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function px(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!bO[i.type]:a==="textarea"}function mx(i,a,c,g){nr(g),a=Uh(a,"onChange"),0<a.length&&(c=new Lt("onChange","change",null,c,g),i.push({event:c,listeners:a}))}var fd=null,hd=null;function _O(i){Ax(i,0)}function Bh(i){var a=xu(i);if(Ot(a))return i}function wO(i,a){if(i==="change")return a}var gx=!1;if(u){var My;if(u){var By="oninput"in document;if(!By){var yx=document.createElement("div");yx.setAttribute("oninput","return;"),By=typeof yx.oninput=="function"}My=By}else My=!1;gx=My&&(!document.documentMode||9<document.documentMode)}function vx(){fd&&(fd.detachEvent("onpropertychange",bx),hd=fd=null)}function bx(i){if(i.propertyName==="value"&&Bh(hd)){var a=[];mx(a,hd,i,Yc(i)),gl(_O,a)}}function xO(i,a,c){i==="focusin"?(vx(),fd=a,hd=c,fd.attachEvent("onpropertychange",bx)):i==="focusout"&&vx()}function SO(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Bh(hd)}function NO(i,a){if(i==="click")return Bh(a)}function EO(i,a){if(i==="input"||i==="change")return Bh(a)}function kO(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var js=typeof Object.is=="function"?Object.is:kO;function pd(i,a){if(js(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var c=Object.keys(i),g=Object.keys(a);if(c.length!==g.length)return!1;for(g=0;g<c.length;g++){var x=c[g];if(!d.call(a,x)||!js(i[x],a[x]))return!1}return!0}function _x(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function wx(i,a){var c=_x(i);i=0;for(var g;c;){if(c.nodeType===3){if(g=i+c.textContent.length,i<=a&&g>=a)return{node:c,offset:a-i};i=g}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=_x(c)}}function xx(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?xx(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function Sx(){for(var i=window,a=Ct();a instanceof i.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)i=a.contentWindow;else break;a=Ct(i.document)}return a}function $y(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}function IO(i){var a=Sx(),c=i.focusedElem,g=i.selectionRange;if(a!==c&&c&&c.ownerDocument&&xx(c.ownerDocument.documentElement,c)){if(g!==null&&$y(c)){if(a=g.start,i=g.end,i===void 0&&(i=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(i,c.value.length);else if(i=(a=c.ownerDocument||document)&&a.defaultView||window,i.getSelection){i=i.getSelection();var x=c.textContent.length,N=Math.min(g.start,x);g=g.end===void 0?N:Math.min(g.end,x),!i.extend&&N>g&&(x=g,g=N,N=x),x=wx(c,N);var P=wx(c,g);x&&P&&(i.rangeCount!==1||i.anchorNode!==x.node||i.anchorOffset!==x.offset||i.focusNode!==P.node||i.focusOffset!==P.offset)&&(a=a.createRange(),a.setStart(x.node,x.offset),i.removeAllRanges(),N>g?(i.addRange(a),i.extend(P.node,P.offset)):(a.setEnd(P.node,P.offset),i.addRange(a)))}}for(a=[],i=c;i=i.parentNode;)i.nodeType===1&&a.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)i=a[c],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var qO=u&&"documentMode"in document&&11>=document.documentMode,vu=null,Wy=null,md=null,zy=!1;function Nx(i,a,c){var g=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;zy||vu==null||vu!==Ct(g)||(g=vu,"selectionStart"in g&&$y(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),md&&pd(md,g)||(md=g,g=Uh(Wy,"onSelect"),0<g.length&&(a=new Lt("onSelect","select",null,a,c),i.push({event:a,listeners:g}),a.target=vu)))}function $h(i,a){var c={};return c[i.toLowerCase()]=a.toLowerCase(),c["Webkit"+i]="webkit"+a,c["Moz"+i]="moz"+a,c}var bu={animationend:$h("Animation","AnimationEnd"),animationiteration:$h("Animation","AnimationIteration"),animationstart:$h("Animation","AnimationStart"),transitionend:$h("Transition","TransitionEnd")},Uy={},Ex={};u&&(Ex=document.createElement("div").style,"AnimationEvent"in window||(delete bu.animationend.animation,delete bu.animationiteration.animation,delete bu.animationstart.animation),"TransitionEvent"in window||delete bu.transitionend.transition);function Wh(i){if(Uy[i])return Uy[i];if(!bu[i])return i;var a=bu[i],c;for(c in a)if(a.hasOwnProperty(c)&&c in Ex)return Uy[i]=a[c];return i}var kx=Wh("animationend"),Ix=Wh("animationiteration"),qx=Wh("animationstart"),Cx=Wh("transitionend"),Tx=new Map,Ox="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function va(i,a){Tx.set(i,a),o(a,[i])}for(var Vy=0;Vy<Ox.length;Vy++){var Hy=Ox[Vy],CO=Hy.toLowerCase(),TO=Hy[0].toUpperCase()+Hy.slice(1);va(CO,"on"+TO)}va(kx,"onAnimationEnd"),va(Ix,"onAnimationIteration"),va(qx,"onAnimationStart"),va("dblclick","onDoubleClick"),va("focusin","onFocus"),va("focusout","onBlur"),va(Cx,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OO=new Set("cancel close invalid load scroll toggle".split(" ").concat(gd));function Rx(i,a,c){var g=i.type||"unknown-event";i.currentTarget=c,xy(g,a,void 0,i),i.currentTarget=null}function Ax(i,a){a=(a&4)!==0;for(var c=0;c<i.length;c++){var g=i[c],x=g.event;g=g.listeners;e:{var N=void 0;if(a)for(var P=g.length-1;0<=P;P--){var ae=g[P],fe=ae.instance,Fe=ae.currentTarget;if(ae=ae.listener,fe!==N&&x.isPropagationStopped())break e;Rx(x,ae,Fe),N=fe}else for(P=0;P<g.length;P++){if(ae=g[P],fe=ae.instance,Fe=ae.currentTarget,ae=ae.listener,fe!==N&&x.isPropagationStopped())break e;Rx(x,ae,Fe),N=fe}}}if(fu)throw i=uo,fu=!1,uo=null,i}function Jr(i,a){var c=a[ev];c===void 0&&(c=a[ev]=new Set);var g=i+"__bubble";c.has(g)||(Px(a,i,2,!1),c.add(g))}function Qy(i,a,c){var g=0;a&&(g|=4),Px(c,i,g,a)}var zh="_reactListening"+Math.random().toString(36).slice(2);function yd(i){if(!i[zh]){i[zh]=!0,n.forEach(function(c){c!=="selectionchange"&&(OO.has(c)||Qy(c,!1,i),Qy(c,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[zh]||(a[zh]=!0,Qy("selectionchange",!1,a))}}function Px(i,a,c,g){switch(he(a)){case 1:var x=we;break;case 4:x=Me;break;default:x=pt}c=x.bind(null,a,c,i),x=void 0,!td||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(x=!0),g?x!==void 0?i.addEventListener(a,c,{capture:!0,passive:x}):i.addEventListener(a,c,!0):x!==void 0?i.addEventListener(a,c,{passive:x}):i.addEventListener(a,c,!1)}function Ky(i,a,c,g,x){var N=g;if(!(a&1)&&!(a&2)&&g!==null)e:for(;;){if(g===null)return;var P=g.tag;if(P===3||P===4){var ae=g.stateNode.containerInfo;if(ae===x||ae.nodeType===8&&ae.parentNode===x)break;if(P===4)for(P=g.return;P!==null;){var fe=P.tag;if((fe===3||fe===4)&&(fe=P.stateNode.containerInfo,fe===x||fe.nodeType===8&&fe.parentNode===x))return;P=P.return}for(;ae!==null;){if(P=wl(ae),P===null)return;if(fe=P.tag,fe===5||fe===6){g=N=P;continue e}ae=ae.parentNode}}g=g.return}gl(function(){var Fe=N,rt=Yc(c),it=[];e:{var et=Tx.get(i);if(et!==void 0){var It=Lt,Pt=i;switch(i){case"keypress":if(L(c)===0)break e;case"keydown":case"keyup":It=qr;break;case"focusin":Pt="focus",It=Xe;break;case"focusout":Pt="blur",It=Xe;break;case"beforeblur":case"afterblur":It=Xe;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":It=Rt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":It=Ne;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":It=jy;break;case kx:case Ix:case qx:It=ct;break;case Cx:It=ps;break;case"scroll":It=Ye;break;case"wheel":It=Mh;break;case"copy":case"cut":case"paste":It=ir;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":It=Bo}var Dt=(a&4)!==0,En=!Dt&&i==="scroll",Ie=Dt?et!==null?et+"Capture":null:et;Dt=[];for(var ve=Fe,Re;ve!==null;){Re=ve;var at=Re.stateNode;if(Re.tag===5&&at!==null&&(Re=at,Ie!==null&&(at=fs(ve,Ie),at!=null&&Dt.push(vd(ve,at,Re)))),En)break;ve=ve.return}0<Dt.length&&(et=new It(et,Pt,null,c,rt),it.push({event:et,listeners:Dt}))}}if(!(a&7)){e:{if(et=i==="mouseover"||i==="pointerover",It=i==="mouseout"||i==="pointerout",et&&c!==Zc&&(Pt=c.relatedTarget||c.fromElement)&&(wl(Pt)||Pt[$o]))break e;if((It||et)&&(et=rt.window===rt?rt:(et=rt.ownerDocument)?et.defaultView||et.parentWindow:window,It?(Pt=c.relatedTarget||c.toElement,It=Fe,Pt=Pt?wl(Pt):null,Pt!==null&&(En=Mo(Pt),Pt!==En||Pt.tag!==5&&Pt.tag!==6)&&(Pt=null)):(It=null,Pt=Fe),It!==Pt)){if(Dt=Rt,at="onMouseLeave",Ie="onMouseEnter",ve="mouse",(i==="pointerout"||i==="pointerover")&&(Dt=Bo,at="onPointerLeave",Ie="onPointerEnter",ve="pointer"),En=It==null?et:xu(It),Re=Pt==null?et:xu(Pt),et=new Dt(at,ve+"leave",It,c,rt),et.target=En,et.relatedTarget=Re,at=null,wl(rt)===Fe&&(Dt=new Dt(Ie,ve+"enter",Pt,c,rt),Dt.target=Re,Dt.relatedTarget=En,at=Dt),En=at,It&&Pt)t:{for(Dt=It,Ie=Pt,ve=0,Re=Dt;Re;Re=_u(Re))ve++;for(Re=0,at=Ie;at;at=_u(at))Re++;for(;0<ve-Re;)Dt=_u(Dt),ve--;for(;0<Re-ve;)Ie=_u(Ie),Re--;for(;ve--;){if(Dt===Ie||Ie!==null&&Dt===Ie.alternate)break t;Dt=_u(Dt),Ie=_u(Ie)}Dt=null}else Dt=null;It!==null&&jx(it,et,It,Dt,!1),Pt!==null&&En!==null&&jx(it,En,Pt,Dt,!0)}}e:{if(et=Fe?xu(Fe):window,It=et.nodeName&&et.nodeName.toLowerCase(),It==="select"||It==="input"&&et.type==="file")var Mt=wO;else if(px(et))if(gx)Mt=EO;else{Mt=SO;var Ut=xO}else(It=et.nodeName)&&It.toLowerCase()==="input"&&(et.type==="checkbox"||et.type==="radio")&&(Mt=NO);if(Mt&&(Mt=Mt(i,Fe))){mx(it,Mt,c,rt);break e}Ut&&Ut(i,et,Fe),i==="focusout"&&(Ut=et._wrapperState)&&Ut.controlled&&et.type==="number"&&ce(et,"number",et.value)}switch(Ut=Fe?xu(Fe):window,i){case"focusin":(px(Ut)||Ut.contentEditable==="true")&&(vu=Ut,Wy=Fe,md=null);break;case"focusout":md=Wy=vu=null;break;case"mousedown":zy=!0;break;case"contextmenu":case"mouseup":case"dragend":zy=!1,Nx(it,c,rt);break;case"selectionchange":if(qO)break;case"keydown":case"keyup":Nx(it,c,rt)}var Vt;if(Dy)e:{switch(i){case"compositionstart":var Jt="onCompositionStart";break e;case"compositionend":Jt="onCompositionEnd";break e;case"compositionupdate":Jt="onCompositionUpdate";break e}Jt=void 0}else yu?fx(i,c)&&(Jt="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Jt="onCompositionStart");Jt&&(ux&&c.locale!=="ko"&&(yu||Jt!=="onCompositionStart"?Jt==="onCompositionEnd"&&yu&&(Vt=T()):(Ke=rt,U="value"in Ke?Ke.value:Ke.textContent,yu=!0)),Ut=Uh(Fe,Jt),0<Ut.length&&(Jt=new an(Jt,i,null,c,rt),it.push({event:Jt,listeners:Ut}),Vt?Jt.data=Vt:(Vt=hx(c),Vt!==null&&(Jt.data=Vt)))),(Vt=gO?yO(i,c):vO(i,c))&&(Fe=Uh(Fe,"onBeforeInput"),0<Fe.length&&(rt=new an("onBeforeInput","beforeinput",null,c,rt),it.push({event:rt,listeners:Fe}),rt.data=Vt))}Ax(it,a)})}function vd(i,a,c){return{instance:i,listener:a,currentTarget:c}}function Uh(i,a){for(var c=a+"Capture",g=[];i!==null;){var x=i,N=x.stateNode;x.tag===5&&N!==null&&(x=N,N=fs(i,c),N!=null&&g.unshift(vd(i,N,x)),N=fs(i,a),N!=null&&g.push(vd(i,N,x))),i=i.return}return g}function _u(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function jx(i,a,c,g,x){for(var N=a._reactName,P=[];c!==null&&c!==g;){var ae=c,fe=ae.alternate,Fe=ae.stateNode;if(fe!==null&&fe===g)break;ae.tag===5&&Fe!==null&&(ae=Fe,x?(fe=fs(c,N),fe!=null&&P.unshift(vd(c,fe,ae))):x||(fe=fs(c,N),fe!=null&&P.push(vd(c,fe,ae)))),c=c.return}P.length!==0&&i.push({event:a,listeners:P})}var RO=/\r\n?/g,AO=/\u0000|\uFFFD/g;function Fx(i){return(typeof i=="string"?i:""+i).replace(RO,`
`).replace(AO,"")}function Vh(i,a,c){if(a=Fx(a),Fx(i)!==a&&c)throw Error(r(425))}function Hh(){}var Gy=null,Jy=null;function Zy(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Yy=typeof setTimeout=="function"?setTimeout:void 0,PO=typeof clearTimeout=="function"?clearTimeout:void 0,Lx=typeof Promise=="function"?Promise:void 0,jO=typeof queueMicrotask=="function"?queueMicrotask:typeof Lx<"u"?function(i){return Lx.resolve(null).then(i).catch(FO)}:Yy;function FO(i){setTimeout(function(){throw i})}function Xy(i,a){var c=a,g=0;do{var x=c.nextSibling;if(i.removeChild(c),x&&x.nodeType===8)if(c=x.data,c==="/$"){if(g===0){i.removeChild(x),_e(a);return}g--}else c!=="$"&&c!=="$?"&&c!=="$!"||g++;c=x}while(c);_e(a)}function ba(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return i}function Dx(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return i;a--}else c==="/$"&&a++}i=i.previousSibling}return null}var wu=Math.random().toString(36).slice(2),co="__reactFiber$"+wu,bd="__reactProps$"+wu,$o="__reactContainer$"+wu,ev="__reactEvents$"+wu,LO="__reactListeners$"+wu,DO="__reactHandles$"+wu;function wl(i){var a=i[co];if(a)return a;for(var c=i.parentNode;c;){if(a=c[$o]||c[co]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(i=Dx(i);i!==null;){if(c=i[co])return c;i=Dx(i)}return a}i=c,c=i.parentNode}return null}function _d(i){return i=i[co]||i[$o],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function xu(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(r(33))}function Qh(i){return i[bd]||null}var tv=[],Su=-1;function _a(i){return{current:i}}function Zr(i){0>Su||(i.current=tv[Su],tv[Su]=null,Su--)}function Vr(i,a){Su++,tv[Su]=i.current,i.current=a}var wa={},ei=_a(wa),Ti=_a(!1),xl=wa;function Nu(i,a){var c=i.type.contextTypes;if(!c)return wa;var g=i.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===a)return g.__reactInternalMemoizedMaskedChildContext;var x={},N;for(N in c)x[N]=a[N];return g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=a,i.__reactInternalMemoizedMaskedChildContext=x),x}function Oi(i){return i=i.childContextTypes,i!=null}function Kh(){Zr(Ti),Zr(ei)}function Mx(i,a,c){if(ei.current!==wa)throw Error(r(168));Vr(ei,a),Vr(Ti,c)}function Bx(i,a,c){var g=i.stateNode;if(a=a.childContextTypes,typeof g.getChildContext!="function")return c;g=g.getChildContext();for(var x in g)if(!(x in a))throw Error(r(108,ht(i)||"Unknown",x));return Ee({},c,g)}function Gh(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||wa,xl=ei.current,Vr(ei,i),Vr(Ti,Ti.current),!0}function $x(i,a,c){var g=i.stateNode;if(!g)throw Error(r(169));c?(i=Bx(i,a,xl),g.__reactInternalMemoizedMergedChildContext=i,Zr(Ti),Zr(ei),Vr(ei,i)):Zr(Ti),Vr(Ti,c)}var Wo=null,Jh=!1,rv=!1;function Wx(i){Wo===null?Wo=[i]:Wo.push(i)}function MO(i){Jh=!0,Wx(i)}function xa(){if(!rv&&Wo!==null){rv=!0;var i=0,a=Nr;try{var c=Wo;for(Nr=1;i<c.length;i++){var g=c[i];do g=g(!0);while(g!==null)}Wo=null,Jh=!1}catch(x){throw Wo!==null&&(Wo=Wo.slice(i+1)),Ph(nd,xa),x}finally{Nr=a,rv=!1}}return null}var Eu=[],ku=0,Zh=null,Yh=0,ms=[],gs=0,Sl=null,zo=1,Uo="";function Nl(i,a){Eu[ku++]=Yh,Eu[ku++]=Zh,Zh=i,Yh=a}function zx(i,a,c){ms[gs++]=zo,ms[gs++]=Uo,ms[gs++]=Sl,Sl=i;var g=zo;i=Uo;var x=32-Ci(g)-1;g&=~(1<<x),c+=1;var N=32-Ci(a)+x;if(30<N){var P=x-x%5;N=(g&(1<<P)-1).toString(32),g>>=P,x-=P,zo=1<<32-Ci(a)+x|c<<x|g,Uo=N+i}else zo=1<<N|c<<x|g,Uo=i}function nv(i){i.return!==null&&(Nl(i,1),zx(i,1,0))}function iv(i){for(;i===Zh;)Zh=Eu[--ku],Eu[ku]=null,Yh=Eu[--ku],Eu[ku]=null;for(;i===Sl;)Sl=ms[--gs],ms[gs]=null,Uo=ms[--gs],ms[gs]=null,zo=ms[--gs],ms[gs]=null}var Qi=null,Ki=null,Xr=!1,Fs=null;function Ux(i,a){var c=_s(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=i,a=i.deletions,a===null?(i.deletions=[c],i.flags|=16):a.push(c)}function Vx(i,a){switch(i.tag){case 5:var c=i.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(i.stateNode=a,Qi=i,Ki=ba(a.firstChild),!0):!1;case 6:return a=i.pendingProps===""||a.nodeType!==3?null:a,a!==null?(i.stateNode=a,Qi=i,Ki=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=Sl!==null?{id:zo,overflow:Uo}:null,i.memoizedState={dehydrated:a,treeContext:c,retryLane:0x40000000},c=_s(18,null,null,0),c.stateNode=a,c.return=i,i.child=c,Qi=i,Ki=null,!0):!1;default:return!1}}function sv(i){return(i.mode&1)!==0&&(i.flags&128)===0}function ov(i){if(Xr){var a=Ki;if(a){var c=a;if(!Vx(i,a)){if(sv(i))throw Error(r(418));a=ba(c.nextSibling);var g=Qi;a&&Vx(i,a)?Ux(g,c):(i.flags=i.flags&-4097|2,Xr=!1,Qi=i)}}else{if(sv(i))throw Error(r(418));i.flags=i.flags&-4097|2,Xr=!1,Qi=i}}}function Hx(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Qi=i}function Xh(i){if(i!==Qi)return!1;if(!Xr)return Hx(i),Xr=!0,!1;var a;if((a=i.tag!==3)&&!(a=i.tag!==5)&&(a=i.type,a=a!=="head"&&a!=="body"&&!Zy(i.type,i.memoizedProps)),a&&(a=Ki)){if(sv(i))throw Qx(),Error(r(418));for(;a;)Ux(i,a),a=ba(a.nextSibling)}if(Hx(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"){if(a===0){Ki=ba(i.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}i=i.nextSibling}Ki=null}}else Ki=Qi?ba(i.stateNode.nextSibling):null;return!0}function Qx(){for(var i=Ki;i;)i=ba(i.nextSibling)}function Iu(){Ki=Qi=null,Xr=!1}function av(i){Fs===null?Fs=[i]:Fs.push(i)}var BO=H.ReactCurrentBatchConfig;function wd(i,a,c){if(i=c.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(r(309));var g=c.stateNode}if(!g)throw Error(r(147,i));var x=g,N=""+i;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===N?a.ref:(a=function(P){var ae=x.refs;P===null?delete ae[N]:ae[N]=P},a._stringRef=N,a)}if(typeof i!="string")throw Error(r(284));if(!c._owner)throw Error(r(290,i))}return i}function ep(i,a){throw i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i))}function Kx(i){var a=i._init;return a(i._payload)}function Gx(i){function a(Ie,ve){if(i){var Re=Ie.deletions;Re===null?(Ie.deletions=[ve],Ie.flags|=16):Re.push(ve)}}function c(Ie,ve){if(!i)return null;for(;ve!==null;)a(Ie,ve),ve=ve.sibling;return null}function g(Ie,ve){for(Ie=new Map;ve!==null;)ve.key!==null?Ie.set(ve.key,ve):Ie.set(ve.index,ve),ve=ve.sibling;return Ie}function x(Ie,ve){return Ie=Ta(Ie,ve),Ie.index=0,Ie.sibling=null,Ie}function N(Ie,ve,Re){return Ie.index=Re,i?(Re=Ie.alternate,Re!==null?(Re=Re.index,Re<ve?(Ie.flags|=2,ve):Re):(Ie.flags|=2,ve)):(Ie.flags|=1048576,ve)}function P(Ie){return i&&Ie.alternate===null&&(Ie.flags|=2),Ie}function ae(Ie,ve,Re,at){return ve===null||ve.tag!==6?(ve=Yv(Re,Ie.mode,at),ve.return=Ie,ve):(ve=x(ve,Re),ve.return=Ie,ve)}function fe(Ie,ve,Re,at){var Mt=Re.type;return Mt===Z?rt(Ie,ve,Re.props.children,at,Re.key):ve!==null&&(ve.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===Ce&&Kx(Mt)===ve.type)?(at=x(ve,Re.props),at.ref=wd(Ie,ve,Re),at.return=Ie,at):(at=Np(Re.type,Re.key,Re.props,null,Ie.mode,at),at.ref=wd(Ie,ve,Re),at.return=Ie,at)}function Fe(Ie,ve,Re,at){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==Re.containerInfo||ve.stateNode.implementation!==Re.implementation?(ve=Xv(Re,Ie.mode,at),ve.return=Ie,ve):(ve=x(ve,Re.children||[]),ve.return=Ie,ve)}function rt(Ie,ve,Re,at,Mt){return ve===null||ve.tag!==7?(ve=Rl(Re,Ie.mode,at,Mt),ve.return=Ie,ve):(ve=x(ve,Re),ve.return=Ie,ve)}function it(Ie,ve,Re){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return ve=Yv(""+ve,Ie.mode,Re),ve.return=Ie,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case G:return Re=Np(ve.type,ve.key,ve.props,null,Ie.mode,Re),Re.ref=wd(Ie,null,ve),Re.return=Ie,Re;case B:return ve=Xv(ve,Ie.mode,Re),ve.return=Ie,ve;case Ce:var at=ve._init;return it(Ie,at(ve._payload),Re)}if(ye(ve)||ge(ve))return ve=Rl(ve,Ie.mode,Re,null),ve.return=Ie,ve;ep(Ie,ve)}return null}function et(Ie,ve,Re,at){var Mt=ve!==null?ve.key:null;if(typeof Re=="string"&&Re!==""||typeof Re=="number")return Mt!==null?null:ae(Ie,ve,""+Re,at);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case G:return Re.key===Mt?fe(Ie,ve,Re,at):null;case B:return Re.key===Mt?Fe(Ie,ve,Re,at):null;case Ce:return Mt=Re._init,et(Ie,ve,Mt(Re._payload),at)}if(ye(Re)||ge(Re))return Mt!==null?null:rt(Ie,ve,Re,at,null);ep(Ie,Re)}return null}function It(Ie,ve,Re,at,Mt){if(typeof at=="string"&&at!==""||typeof at=="number")return Ie=Ie.get(Re)||null,ae(ve,Ie,""+at,Mt);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case G:return Ie=Ie.get(at.key===null?Re:at.key)||null,fe(ve,Ie,at,Mt);case B:return Ie=Ie.get(at.key===null?Re:at.key)||null,Fe(ve,Ie,at,Mt);case Ce:var Ut=at._init;return It(Ie,ve,Re,Ut(at._payload),Mt)}if(ye(at)||ge(at))return Ie=Ie.get(Re)||null,rt(ve,Ie,at,Mt,null);ep(ve,at)}return null}function Pt(Ie,ve,Re,at){for(var Mt=null,Ut=null,Vt=ve,Jt=ve=0,$n=null;Vt!==null&&Jt<Re.length;Jt++){Vt.index>Jt?($n=Vt,Vt=null):$n=Vt.sibling;var xr=et(Ie,Vt,Re[Jt],at);if(xr===null){Vt===null&&(Vt=$n);break}i&&Vt&&xr.alternate===null&&a(Ie,Vt),ve=N(xr,ve,Jt),Ut===null?Mt=xr:Ut.sibling=xr,Ut=xr,Vt=$n}if(Jt===Re.length)return c(Ie,Vt),Xr&&Nl(Ie,Jt),Mt;if(Vt===null){for(;Jt<Re.length;Jt++)Vt=it(Ie,Re[Jt],at),Vt!==null&&(ve=N(Vt,ve,Jt),Ut===null?Mt=Vt:Ut.sibling=Vt,Ut=Vt);return Xr&&Nl(Ie,Jt),Mt}for(Vt=g(Ie,Vt);Jt<Re.length;Jt++)$n=It(Vt,Ie,Jt,Re[Jt],at),$n!==null&&(i&&$n.alternate!==null&&Vt.delete($n.key===null?Jt:$n.key),ve=N($n,ve,Jt),Ut===null?Mt=$n:Ut.sibling=$n,Ut=$n);return i&&Vt.forEach(function(Oa){return a(Ie,Oa)}),Xr&&Nl(Ie,Jt),Mt}function Dt(Ie,ve,Re,at){var Mt=ge(Re);if(typeof Mt!="function")throw Error(r(150));if(Re=Mt.call(Re),Re==null)throw Error(r(151));for(var Ut=Mt=null,Vt=ve,Jt=ve=0,$n=null,xr=Re.next();Vt!==null&&!xr.done;Jt++,xr=Re.next()){Vt.index>Jt?($n=Vt,Vt=null):$n=Vt.sibling;var Oa=et(Ie,Vt,xr.value,at);if(Oa===null){Vt===null&&(Vt=$n);break}i&&Vt&&Oa.alternate===null&&a(Ie,Vt),ve=N(Oa,ve,Jt),Ut===null?Mt=Oa:Ut.sibling=Oa,Ut=Oa,Vt=$n}if(xr.done)return c(Ie,Vt),Xr&&Nl(Ie,Jt),Mt;if(Vt===null){for(;!xr.done;Jt++,xr=Re.next())xr=it(Ie,xr.value,at),xr!==null&&(ve=N(xr,ve,Jt),Ut===null?Mt=xr:Ut.sibling=xr,Ut=xr);return Xr&&Nl(Ie,Jt),Mt}for(Vt=g(Ie,Vt);!xr.done;Jt++,xr=Re.next())xr=It(Vt,Ie,Jt,xr.value,at),xr!==null&&(i&&xr.alternate!==null&&Vt.delete(xr.key===null?Jt:xr.key),ve=N(xr,ve,Jt),Ut===null?Mt=xr:Ut.sibling=xr,Ut=xr);return i&&Vt.forEach(function(bR){return a(Ie,bR)}),Xr&&Nl(Ie,Jt),Mt}function En(Ie,ve,Re,at){if(typeof Re=="object"&&Re!==null&&Re.type===Z&&Re.key===null&&(Re=Re.props.children),typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case G:e:{for(var Mt=Re.key,Ut=ve;Ut!==null;){if(Ut.key===Mt){if(Mt=Re.type,Mt===Z){if(Ut.tag===7){c(Ie,Ut.sibling),ve=x(Ut,Re.props.children),ve.return=Ie,Ie=ve;break e}}else if(Ut.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===Ce&&Kx(Mt)===Ut.type){c(Ie,Ut.sibling),ve=x(Ut,Re.props),ve.ref=wd(Ie,Ut,Re),ve.return=Ie,Ie=ve;break e}c(Ie,Ut);break}else a(Ie,Ut);Ut=Ut.sibling}Re.type===Z?(ve=Rl(Re.props.children,Ie.mode,at,Re.key),ve.return=Ie,Ie=ve):(at=Np(Re.type,Re.key,Re.props,null,Ie.mode,at),at.ref=wd(Ie,ve,Re),at.return=Ie,Ie=at)}return P(Ie);case B:e:{for(Ut=Re.key;ve!==null;){if(ve.key===Ut)if(ve.tag===4&&ve.stateNode.containerInfo===Re.containerInfo&&ve.stateNode.implementation===Re.implementation){c(Ie,ve.sibling),ve=x(ve,Re.children||[]),ve.return=Ie,Ie=ve;break e}else{c(Ie,ve);break}else a(Ie,ve);ve=ve.sibling}ve=Xv(Re,Ie.mode,at),ve.return=Ie,Ie=ve}return P(Ie);case Ce:return Ut=Re._init,En(Ie,ve,Ut(Re._payload),at)}if(ye(Re))return Pt(Ie,ve,Re,at);if(ge(Re))return Dt(Ie,ve,Re,at);ep(Ie,Re)}return typeof Re=="string"&&Re!==""||typeof Re=="number"?(Re=""+Re,ve!==null&&ve.tag===6?(c(Ie,ve.sibling),ve=x(ve,Re),ve.return=Ie,Ie=ve):(c(Ie,ve),ve=Yv(Re,Ie.mode,at),ve.return=Ie,Ie=ve),P(Ie)):c(Ie,ve)}return En}var qu=Gx(!0),Jx=Gx(!1),tp=_a(null),rp=null,Cu=null,lv=null;function uv(){lv=Cu=rp=null}function cv(i){var a=tp.current;Zr(tp),i._currentValue=a}function dv(i,a,c){for(;i!==null;){var g=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,g!==null&&(g.childLanes|=a)):g!==null&&(g.childLanes&a)!==a&&(g.childLanes|=a),i===c)break;i=i.return}}function Tu(i,a){rp=i,lv=Cu=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&a&&(Ri=!0),i.firstContext=null)}function ys(i){var a=i._currentValue;if(lv!==i)if(i={context:i,memoizedValue:a,next:null},Cu===null){if(rp===null)throw Error(r(308));Cu=i,rp.dependencies={lanes:0,firstContext:i}}else Cu=Cu.next=i;return a}var El=null;function fv(i){El===null?El=[i]:El.push(i)}function Zx(i,a,c,g){var x=a.interleaved;return x===null?(c.next=c,fv(a)):(c.next=x.next,x.next=c),a.interleaved=c,Vo(i,g)}function Vo(i,a){i.lanes|=a;var c=i.alternate;for(c!==null&&(c.lanes|=a),c=i,i=i.return;i!==null;)i.childLanes|=a,c=i.alternate,c!==null&&(c.childLanes|=a),c=i,i=i.return;return c.tag===3?c.stateNode:null}var Sa=!1;function hv(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yx(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Ho(i,a){return{eventTime:i,lane:a,tag:0,payload:null,callback:null,next:null}}function Na(i,a,c){var g=i.updateQueue;if(g===null)return null;if(g=g.shared,vr&2){var x=g.pending;return x===null?a.next=a:(a.next=x.next,x.next=a),g.pending=a,Vo(i,c)}return x=g.interleaved,x===null?(a.next=a,fv(g)):(a.next=x.next,x.next=a),g.interleaved=a,Vo(i,c)}function np(i,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var g=a.lanes;g&=i.pendingLanes,c|=g,a.lanes=c,od(i,c)}}function Xx(i,a){var c=i.updateQueue,g=i.alternate;if(g!==null&&(g=g.updateQueue,c===g)){var x=null,N=null;if(c=c.firstBaseUpdate,c!==null){do{var P={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};N===null?x=N=P:N=N.next=P,c=c.next}while(c!==null);N===null?x=N=a:N=N.next=a}else x=N=a;c={baseState:g.baseState,firstBaseUpdate:x,lastBaseUpdate:N,shared:g.shared,effects:g.effects},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=a:i.next=a,c.lastBaseUpdate=a}function ip(i,a,c,g){var x=i.updateQueue;Sa=!1;var N=x.firstBaseUpdate,P=x.lastBaseUpdate,ae=x.shared.pending;if(ae!==null){x.shared.pending=null;var fe=ae,Fe=fe.next;fe.next=null,P===null?N=Fe:P.next=Fe,P=fe;var rt=i.alternate;rt!==null&&(rt=rt.updateQueue,ae=rt.lastBaseUpdate,ae!==P&&(ae===null?rt.firstBaseUpdate=Fe:ae.next=Fe,rt.lastBaseUpdate=fe))}if(N!==null){var it=x.baseState;P=0,rt=Fe=fe=null,ae=N;do{var et=ae.lane,It=ae.eventTime;if((g&et)===et){rt!==null&&(rt=rt.next={eventTime:It,lane:0,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null});e:{var Pt=i,Dt=ae;switch(et=a,It=c,Dt.tag){case 1:if(Pt=Dt.payload,typeof Pt=="function"){it=Pt.call(It,it,et);break e}it=Pt;break e;case 3:Pt.flags=Pt.flags&-65537|128;case 0:if(Pt=Dt.payload,et=typeof Pt=="function"?Pt.call(It,it,et):Pt,et==null)break e;it=Ee({},it,et);break e;case 2:Sa=!0}}ae.callback!==null&&ae.lane!==0&&(i.flags|=64,et=x.effects,et===null?x.effects=[ae]:et.push(ae))}else It={eventTime:It,lane:et,tag:ae.tag,payload:ae.payload,callback:ae.callback,next:null},rt===null?(Fe=rt=It,fe=it):rt=rt.next=It,P|=et;if(ae=ae.next,ae===null){if(ae=x.shared.pending,ae===null)break;et=ae,ae=et.next,et.next=null,x.lastBaseUpdate=et,x.shared.pending=null}}while(!0);if(rt===null&&(fe=it),x.baseState=fe,x.firstBaseUpdate=Fe,x.lastBaseUpdate=rt,a=x.shared.interleaved,a!==null){x=a;do P|=x.lane,x=x.next;while(x!==a)}else N===null&&(x.shared.lanes=0);ql|=P,i.lanes=P,i.memoizedState=it}}function eS(i,a,c){if(i=a.effects,a.effects=null,i!==null)for(a=0;a<i.length;a++){var g=i[a],x=g.callback;if(x!==null){if(g.callback=null,g=c,typeof x!="function")throw Error(r(191,x));x.call(g)}}}var xd={},fo=_a(xd),Sd=_a(xd),Nd=_a(xd);function kl(i){if(i===xd)throw Error(r(174));return i}function pv(i,a){switch(Vr(Nd,a),Vr(Sd,i),Vr(fo,xd),i=a.nodeType,i){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:gr(null,"");break;default:i=i===8?a.parentNode:a,a=i.namespaceURI||null,i=i.tagName,a=gr(a,i)}Zr(fo),Vr(fo,a)}function Ou(){Zr(fo),Zr(Sd),Zr(Nd)}function tS(i){kl(Nd.current);var a=kl(fo.current),c=gr(a,i.type);a!==c&&(Vr(Sd,i),Vr(fo,c))}function mv(i){Sd.current===i&&(Zr(fo),Zr(Sd))}var ln=_a(0);function sp(i){for(var a=i;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var gv=[];function yv(){for(var i=0;i<gv.length;i++)gv[i]._workInProgressVersionPrimary=null;gv.length=0}var op=H.ReactCurrentDispatcher,vv=H.ReactCurrentBatchConfig,Il=0,un=null,jn=null,Mn=null,ap=!1,Ed=!1,kd=0,$O=0;function ti(){throw Error(r(321))}function bv(i,a){if(a===null)return!1;for(var c=0;c<a.length&&c<i.length;c++)if(!js(i[c],a[c]))return!1;return!0}function _v(i,a,c,g,x,N){if(Il=N,un=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,op.current=i===null||i.memoizedState===null?VO:HO,i=c(g,x),Ed){N=0;do{if(Ed=!1,kd=0,25<=N)throw Error(r(301));N+=1,Mn=jn=null,a.updateQueue=null,op.current=QO,i=c(g,x)}while(Ed)}if(op.current=cp,a=jn!==null&&jn.next!==null,Il=0,Mn=jn=un=null,ap=!1,a)throw Error(r(300));return i}function wv(){var i=kd!==0;return kd=0,i}function ho(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mn===null?un.memoizedState=Mn=i:Mn=Mn.next=i,Mn}function vs(){if(jn===null){var i=un.alternate;i=i!==null?i.memoizedState:null}else i=jn.next;var a=Mn===null?un.memoizedState:Mn.next;if(a!==null)Mn=a,jn=i;else{if(i===null)throw Error(r(310));jn=i,i={memoizedState:jn.memoizedState,baseState:jn.baseState,baseQueue:jn.baseQueue,queue:jn.queue,next:null},Mn===null?un.memoizedState=Mn=i:Mn=Mn.next=i}return Mn}function Id(i,a){return typeof a=="function"?a(i):a}function xv(i){var a=vs(),c=a.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var g=jn,x=g.baseQueue,N=c.pending;if(N!==null){if(x!==null){var P=x.next;x.next=N.next,N.next=P}g.baseQueue=x=N,c.pending=null}if(x!==null){N=x.next,g=g.baseState;var ae=P=null,fe=null,Fe=N;do{var rt=Fe.lane;if((Il&rt)===rt)fe!==null&&(fe=fe.next={lane:0,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null}),g=Fe.hasEagerState?Fe.eagerState:i(g,Fe.action);else{var it={lane:rt,action:Fe.action,hasEagerState:Fe.hasEagerState,eagerState:Fe.eagerState,next:null};fe===null?(ae=fe=it,P=g):fe=fe.next=it,un.lanes|=rt,ql|=rt}Fe=Fe.next}while(Fe!==null&&Fe!==N);fe===null?P=g:fe.next=ae,js(g,a.memoizedState)||(Ri=!0),a.memoizedState=g,a.baseState=P,a.baseQueue=fe,c.lastRenderedState=g}if(i=c.interleaved,i!==null){x=i;do N=x.lane,un.lanes|=N,ql|=N,x=x.next;while(x!==i)}else x===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function Sv(i){var a=vs(),c=a.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var g=c.dispatch,x=c.pending,N=a.memoizedState;if(x!==null){c.pending=null;var P=x=x.next;do N=i(N,P.action),P=P.next;while(P!==x);js(N,a.memoizedState)||(Ri=!0),a.memoizedState=N,a.baseQueue===null&&(a.baseState=N),c.lastRenderedState=N}return[N,g]}function rS(){}function nS(i,a){var c=un,g=vs(),x=a(),N=!js(g.memoizedState,x);if(N&&(g.memoizedState=x,Ri=!0),g=g.queue,Nv(oS.bind(null,c,g,i),[i]),g.getSnapshot!==a||N||Mn!==null&&Mn.memoizedState.tag&1){if(c.flags|=2048,qd(9,sS.bind(null,c,g,x,a),void 0,null),Bn===null)throw Error(r(349));Il&30||iS(c,a,x)}return x}function iS(i,a,c){i.flags|=16384,i={getSnapshot:a,value:c},a=un.updateQueue,a===null?(a={lastEffect:null,stores:null},un.updateQueue=a,a.stores=[i]):(c=a.stores,c===null?a.stores=[i]:c.push(i))}function sS(i,a,c,g){a.value=c,a.getSnapshot=g,aS(a)&&lS(i)}function oS(i,a,c){return c(function(){aS(a)&&lS(i)})}function aS(i){var a=i.getSnapshot;i=i.value;try{var c=a();return!js(i,c)}catch{return!0}}function lS(i){var a=Vo(i,1);a!==null&&Bs(a,i,1,-1)}function uS(i){var a=ho();return typeof i=="function"&&(i=i()),a.memoizedState=a.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Id,lastRenderedState:i},a.queue=i,i=i.dispatch=UO.bind(null,un,i),[a.memoizedState,i]}function qd(i,a,c,g){return i={tag:i,create:a,destroy:c,deps:g,next:null},a=un.updateQueue,a===null?(a={lastEffect:null,stores:null},un.updateQueue=a,a.lastEffect=i.next=i):(c=a.lastEffect,c===null?a.lastEffect=i.next=i:(g=c.next,c.next=i,i.next=g,a.lastEffect=i)),i}function cS(){return vs().memoizedState}function lp(i,a,c,g){var x=ho();un.flags|=i,x.memoizedState=qd(1|a,c,void 0,g===void 0?null:g)}function up(i,a,c,g){var x=vs();g=g===void 0?null:g;var N=void 0;if(jn!==null){var P=jn.memoizedState;if(N=P.destroy,g!==null&&bv(g,P.deps)){x.memoizedState=qd(a,c,N,g);return}}un.flags|=i,x.memoizedState=qd(1|a,c,N,g)}function dS(i,a){return lp(8390656,8,i,a)}function Nv(i,a){return up(2048,8,i,a)}function fS(i,a){return up(4,2,i,a)}function hS(i,a){return up(4,4,i,a)}function pS(i,a){if(typeof a=="function")return i=i(),a(i),function(){a(null)};if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function mS(i,a,c){return c=c!=null?c.concat([i]):null,up(4,4,pS.bind(null,a,i),c)}function Ev(){}function gS(i,a){var c=vs();a=a===void 0?null:a;var g=c.memoizedState;return g!==null&&a!==null&&bv(a,g[1])?g[0]:(c.memoizedState=[i,a],i)}function yS(i,a){var c=vs();a=a===void 0?null:a;var g=c.memoizedState;return g!==null&&a!==null&&bv(a,g[1])?g[0]:(i=i(),c.memoizedState=[i,a],i)}function vS(i,a,c){return Il&21?(js(c,a)||(c=Lh(),un.lanes|=c,ql|=c,i.baseState=!0),a):(i.baseState&&(i.baseState=!1,Ri=!0),i.memoizedState=c)}function WO(i,a){var c=Nr;Nr=c!==0&&4>c?c:4,i(!0);var g=vv.transition;vv.transition={};try{i(!1),a()}finally{Nr=c,vv.transition=g}}function bS(){return vs().memoizedState}function zO(i,a,c){var g=qa(i);if(c={lane:g,action:c,hasEagerState:!1,eagerState:null,next:null},_S(i))wS(a,c);else if(c=Zx(i,a,c,g),c!==null){var x=hi();Bs(c,i,g,x),xS(c,a,g)}}function UO(i,a,c){var g=qa(i),x={lane:g,action:c,hasEagerState:!1,eagerState:null,next:null};if(_S(i))wS(a,x);else{var N=i.alternate;if(i.lanes===0&&(N===null||N.lanes===0)&&(N=a.lastRenderedReducer,N!==null))try{var P=a.lastRenderedState,ae=N(P,c);if(x.hasEagerState=!0,x.eagerState=ae,js(ae,P)){var fe=a.interleaved;fe===null?(x.next=x,fv(a)):(x.next=fe.next,fe.next=x),a.interleaved=x;return}}catch{}finally{}c=Zx(i,a,x,g),c!==null&&(x=hi(),Bs(c,i,g,x),xS(c,a,g))}}function _S(i){var a=i.alternate;return i===un||a!==null&&a===un}function wS(i,a){Ed=ap=!0;var c=i.pending;c===null?a.next=a:(a.next=c.next,c.next=a),i.pending=a}function xS(i,a,c){if(c&4194240){var g=a.lanes;g&=i.pendingLanes,c|=g,a.lanes=c,od(i,c)}}var cp={readContext:ys,useCallback:ti,useContext:ti,useEffect:ti,useImperativeHandle:ti,useInsertionEffect:ti,useLayoutEffect:ti,useMemo:ti,useReducer:ti,useRef:ti,useState:ti,useDebugValue:ti,useDeferredValue:ti,useTransition:ti,useMutableSource:ti,useSyncExternalStore:ti,useId:ti,unstable_isNewReconciler:!1},VO={readContext:ys,useCallback:function(i,a){return ho().memoizedState=[i,a===void 0?null:a],i},useContext:ys,useEffect:dS,useImperativeHandle:function(i,a,c){return c=c!=null?c.concat([i]):null,lp(4194308,4,pS.bind(null,a,i),c)},useLayoutEffect:function(i,a){return lp(4194308,4,i,a)},useInsertionEffect:function(i,a){return lp(4,2,i,a)},useMemo:function(i,a){var c=ho();return a=a===void 0?null:a,i=i(),c.memoizedState=[i,a],i},useReducer:function(i,a,c){var g=ho();return a=c!==void 0?c(a):a,g.memoizedState=g.baseState=a,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:a},g.queue=i,i=i.dispatch=zO.bind(null,un,i),[g.memoizedState,i]},useRef:function(i){var a=ho();return i={current:i},a.memoizedState=i},useState:uS,useDebugValue:Ev,useDeferredValue:function(i){return ho().memoizedState=i},useTransition:function(){var i=uS(!1),a=i[0];return i=WO.bind(null,i[1]),ho().memoizedState=i,[a,i]},useMutableSource:function(){},useSyncExternalStore:function(i,a,c){var g=un,x=ho();if(Xr){if(c===void 0)throw Error(r(407));c=c()}else{if(c=a(),Bn===null)throw Error(r(349));Il&30||iS(g,a,c)}x.memoizedState=c;var N={value:c,getSnapshot:a};return x.queue=N,dS(oS.bind(null,g,N,i),[i]),g.flags|=2048,qd(9,sS.bind(null,g,N,c,a),void 0,null),c},useId:function(){var i=ho(),a=Bn.identifierPrefix;if(Xr){var c=Uo,g=zo;c=(g&~(1<<32-Ci(g)-1)).toString(32)+c,a=":"+a+"R"+c,c=kd++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=$O++,a=":"+a+"r"+c.toString(32)+":";return i.memoizedState=a},unstable_isNewReconciler:!1},HO={readContext:ys,useCallback:gS,useContext:ys,useEffect:Nv,useImperativeHandle:mS,useInsertionEffect:fS,useLayoutEffect:hS,useMemo:yS,useReducer:xv,useRef:cS,useState:function(){return xv(Id)},useDebugValue:Ev,useDeferredValue:function(i){var a=vs();return vS(a,jn.memoizedState,i)},useTransition:function(){var i=xv(Id)[0],a=vs().memoizedState;return[i,a]},useMutableSource:rS,useSyncExternalStore:nS,useId:bS,unstable_isNewReconciler:!1},QO={readContext:ys,useCallback:gS,useContext:ys,useEffect:Nv,useImperativeHandle:mS,useInsertionEffect:fS,useLayoutEffect:hS,useMemo:yS,useReducer:Sv,useRef:cS,useState:function(){return Sv(Id)},useDebugValue:Ev,useDeferredValue:function(i){var a=vs();return jn===null?a.memoizedState=i:vS(a,jn.memoizedState,i)},useTransition:function(){var i=Sv(Id)[0],a=vs().memoizedState;return[i,a]},useMutableSource:rS,useSyncExternalStore:nS,useId:bS,unstable_isNewReconciler:!1};function Ls(i,a){if(i&&i.defaultProps){a=Ee({},a),i=i.defaultProps;for(var c in i)a[c]===void 0&&(a[c]=i[c]);return a}return a}function kv(i,a,c,g){a=i.memoizedState,c=c(g,a),c=c==null?a:Ee({},a,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var dp={isMounted:function(i){return(i=i._reactInternals)?Mo(i)===i:!1},enqueueSetState:function(i,a,c){i=i._reactInternals;var g=hi(),x=qa(i),N=Ho(g,x);N.payload=a,c!=null&&(N.callback=c),a=Na(i,N,x),a!==null&&(Bs(a,i,x,g),np(a,i,x))},enqueueReplaceState:function(i,a,c){i=i._reactInternals;var g=hi(),x=qa(i),N=Ho(g,x);N.tag=1,N.payload=a,c!=null&&(N.callback=c),a=Na(i,N,x),a!==null&&(Bs(a,i,x,g),np(a,i,x))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var c=hi(),g=qa(i),x=Ho(c,g);x.tag=2,a!=null&&(x.callback=a),a=Na(i,x,g),a!==null&&(Bs(a,i,g,c),np(a,i,g))}};function SS(i,a,c,g,x,N,P){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(g,N,P):a.prototype&&a.prototype.isPureReactComponent?!pd(c,g)||!pd(x,N):!0}function NS(i,a,c){var g=!1,x=wa,N=a.contextType;return typeof N=="object"&&N!==null?N=ys(N):(x=Oi(a)?xl:ei.current,g=a.contextTypes,N=(g=g!=null)?Nu(i,x):wa),a=new a(c,N),i.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=dp,i.stateNode=a,a._reactInternals=i,g&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=x,i.__reactInternalMemoizedMaskedChildContext=N),a}function ES(i,a,c,g){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,g),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,g),a.state!==i&&dp.enqueueReplaceState(a,a.state,null)}function Iv(i,a,c,g){var x=i.stateNode;x.props=c,x.state=i.memoizedState,x.refs={},hv(i);var N=a.contextType;typeof N=="object"&&N!==null?x.context=ys(N):(N=Oi(a)?xl:ei.current,x.context=Nu(i,N)),x.state=i.memoizedState,N=a.getDerivedStateFromProps,typeof N=="function"&&(kv(i,a,N,c),x.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(a=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),a!==x.state&&dp.enqueueReplaceState(x,x.state,null),ip(i,c,x,g),x.state=i.memoizedState),typeof x.componentDidMount=="function"&&(i.flags|=4194308)}function Ru(i,a){try{var c="",g=a;do c+=ft(g),g=g.return;while(g);var x=c}catch(N){x=`
Error generating stack: `+N.message+`
`+N.stack}return{value:i,source:a,stack:x,digest:null}}function qv(i,a,c){return{value:i,source:null,stack:c??null,digest:a??null}}function Cv(i,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var KO=typeof WeakMap=="function"?WeakMap:Map;function kS(i,a,c){c=Ho(-1,c),c.tag=3,c.payload={element:null};var g=a.value;return c.callback=function(){vp||(vp=!0,Uv=g),Cv(i,a)},c}function IS(i,a,c){c=Ho(-1,c),c.tag=3;var g=i.type.getDerivedStateFromError;if(typeof g=="function"){var x=a.value;c.payload=function(){return g(x)},c.callback=function(){Cv(i,a)}}var N=i.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(c.callback=function(){Cv(i,a),typeof g!="function"&&(ka===null?ka=new Set([this]):ka.add(this));var P=a.stack;this.componentDidCatch(a.value,{componentStack:P!==null?P:""})}),c}function qS(i,a,c){var g=i.pingCache;if(g===null){g=i.pingCache=new KO;var x=new Set;g.set(a,x)}else x=g.get(a),x===void 0&&(x=new Set,g.set(a,x));x.has(c)||(x.add(c),i=lR.bind(null,i,a,c),a.then(i,i))}function CS(i){do{var a;if((a=i.tag===13)&&(a=i.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return i;i=i.return}while(i!==null);return null}function TS(i,a,c,g,x){return i.mode&1?(i.flags|=65536,i.lanes=x,i):(i===a?i.flags|=65536:(i.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=Ho(-1,1),a.tag=2,Na(c,a,1))),c.lanes|=1),i)}var GO=H.ReactCurrentOwner,Ri=!1;function fi(i,a,c,g){a.child=i===null?Jx(a,null,c,g):qu(a,i.child,c,g)}function OS(i,a,c,g,x){c=c.render;var N=a.ref;return Tu(a,x),g=_v(i,a,c,g,N,x),c=wv(),i!==null&&!Ri?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~x,Qo(i,a,x)):(Xr&&c&&nv(a),a.flags|=1,fi(i,a,g,x),a.child)}function RS(i,a,c,g,x){if(i===null){var N=c.type;return typeof N=="function"&&!Zv(N)&&N.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=N,AS(i,a,N,g,x)):(i=Np(c.type,null,g,a,a.mode,x),i.ref=a.ref,i.return=a,a.child=i)}if(N=i.child,!(i.lanes&x)){var P=N.memoizedProps;if(c=c.compare,c=c!==null?c:pd,c(P,g)&&i.ref===a.ref)return Qo(i,a,x)}return a.flags|=1,i=Ta(N,g),i.ref=a.ref,i.return=a,a.child=i}function AS(i,a,c,g,x){if(i!==null){var N=i.memoizedProps;if(pd(N,g)&&i.ref===a.ref)if(Ri=!1,a.pendingProps=g=N,(i.lanes&x)!==0)i.flags&131072&&(Ri=!0);else return a.lanes=i.lanes,Qo(i,a,x)}return Tv(i,a,c,g,x)}function PS(i,a,c){var g=a.pendingProps,x=g.children,N=i!==null?i.memoizedState:null;if(g.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vr(Pu,Gi),Gi|=c;else{if(!(c&0x40000000))return i=N!==null?N.baseLanes|c:c,a.lanes=a.childLanes=0x40000000,a.memoizedState={baseLanes:i,cachePool:null,transitions:null},a.updateQueue=null,Vr(Pu,Gi),Gi|=i,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=N!==null?N.baseLanes:c,Vr(Pu,Gi),Gi|=g}else N!==null?(g=N.baseLanes|c,a.memoizedState=null):g=c,Vr(Pu,Gi),Gi|=g;return fi(i,a,x,c),a.child}function jS(i,a){var c=a.ref;(i===null&&c!==null||i!==null&&i.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function Tv(i,a,c,g,x){var N=Oi(c)?xl:ei.current;return N=Nu(a,N),Tu(a,x),c=_v(i,a,c,g,N,x),g=wv(),i!==null&&!Ri?(a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~x,Qo(i,a,x)):(Xr&&g&&nv(a),a.flags|=1,fi(i,a,c,x),a.child)}function FS(i,a,c,g,x){if(Oi(c)){var N=!0;Gh(a)}else N=!1;if(Tu(a,x),a.stateNode===null)hp(i,a),NS(a,c,g),Iv(a,c,g,x),g=!0;else if(i===null){var P=a.stateNode,ae=a.memoizedProps;P.props=ae;var fe=P.context,Fe=c.contextType;typeof Fe=="object"&&Fe!==null?Fe=ys(Fe):(Fe=Oi(c)?xl:ei.current,Fe=Nu(a,Fe));var rt=c.getDerivedStateFromProps,it=typeof rt=="function"||typeof P.getSnapshotBeforeUpdate=="function";it||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(ae!==g||fe!==Fe)&&ES(a,P,g,Fe),Sa=!1;var et=a.memoizedState;P.state=et,ip(a,g,P,x),fe=a.memoizedState,ae!==g||et!==fe||Ti.current||Sa?(typeof rt=="function"&&(kv(a,c,rt,g),fe=a.memoizedState),(ae=Sa||SS(a,c,ae,g,et,fe,Fe))?(it||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(a.flags|=4194308)):(typeof P.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=g,a.memoizedState=fe),P.props=g,P.state=fe,P.context=Fe,g=ae):(typeof P.componentDidMount=="function"&&(a.flags|=4194308),g=!1)}else{P=a.stateNode,Yx(i,a),ae=a.memoizedProps,Fe=a.type===a.elementType?ae:Ls(a.type,ae),P.props=Fe,it=a.pendingProps,et=P.context,fe=c.contextType,typeof fe=="object"&&fe!==null?fe=ys(fe):(fe=Oi(c)?xl:ei.current,fe=Nu(a,fe));var It=c.getDerivedStateFromProps;(rt=typeof It=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(ae!==it||et!==fe)&&ES(a,P,g,fe),Sa=!1,et=a.memoizedState,P.state=et,ip(a,g,P,x);var Pt=a.memoizedState;ae!==it||et!==Pt||Ti.current||Sa?(typeof It=="function"&&(kv(a,c,It,g),Pt=a.memoizedState),(Fe=Sa||SS(a,c,Fe,g,et,Pt,fe)||!1)?(rt||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(g,Pt,fe),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(g,Pt,fe)),typeof P.componentDidUpdate=="function"&&(a.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof P.componentDidUpdate!="function"||ae===i.memoizedProps&&et===i.memoizedState||(a.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||ae===i.memoizedProps&&et===i.memoizedState||(a.flags|=1024),a.memoizedProps=g,a.memoizedState=Pt),P.props=g,P.state=Pt,P.context=fe,g=Fe):(typeof P.componentDidUpdate!="function"||ae===i.memoizedProps&&et===i.memoizedState||(a.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||ae===i.memoizedProps&&et===i.memoizedState||(a.flags|=1024),g=!1)}return Ov(i,a,c,g,N,x)}function Ov(i,a,c,g,x,N){jS(i,a);var P=(a.flags&128)!==0;if(!g&&!P)return x&&$x(a,c,!1),Qo(i,a,N);g=a.stateNode,GO.current=a;var ae=P&&typeof c.getDerivedStateFromError!="function"?null:g.render();return a.flags|=1,i!==null&&P?(a.child=qu(a,i.child,null,N),a.child=qu(a,null,ae,N)):fi(i,a,ae,N),a.memoizedState=g.state,x&&$x(a,c,!0),a.child}function LS(i){var a=i.stateNode;a.pendingContext?Mx(i,a.pendingContext,a.pendingContext!==a.context):a.context&&Mx(i,a.context,!1),pv(i,a.containerInfo)}function DS(i,a,c,g,x){return Iu(),av(x),a.flags|=256,fi(i,a,c,g),a.child}var Rv={dehydrated:null,treeContext:null,retryLane:0};function Av(i){return{baseLanes:i,cachePool:null,transitions:null}}function MS(i,a,c){var g=a.pendingProps,x=ln.current,N=!1,P=(a.flags&128)!==0,ae;if((ae=P)||(ae=i!==null&&i.memoizedState===null?!1:(x&2)!==0),ae?(N=!0,a.flags&=-129):(i===null||i.memoizedState!==null)&&(x|=1),Vr(ln,x&1),i===null)return ov(a),i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(a.mode&1?i.data==="$!"?a.lanes=8:a.lanes=0x40000000:a.lanes=1,null):(P=g.children,i=g.fallback,N?(g=a.mode,N=a.child,P={mode:"hidden",children:P},!(g&1)&&N!==null?(N.childLanes=0,N.pendingProps=P):N=Ep(P,g,0,null),i=Rl(i,g,c,null),N.return=a,i.return=a,N.sibling=i,a.child=N,a.child.memoizedState=Av(c),a.memoizedState=Rv,i):Pv(a,P));if(x=i.memoizedState,x!==null&&(ae=x.dehydrated,ae!==null))return JO(i,a,P,g,ae,x,c);if(N){N=g.fallback,P=a.mode,x=i.child,ae=x.sibling;var fe={mode:"hidden",children:g.children};return!(P&1)&&a.child!==x?(g=a.child,g.childLanes=0,g.pendingProps=fe,a.deletions=null):(g=Ta(x,fe),g.subtreeFlags=x.subtreeFlags&0xe00000),ae!==null?N=Ta(ae,N):(N=Rl(N,P,c,null),N.flags|=2),N.return=a,g.return=a,g.sibling=N,a.child=g,g=N,N=a.child,P=i.child.memoizedState,P=P===null?Av(c):{baseLanes:P.baseLanes|c,cachePool:null,transitions:P.transitions},N.memoizedState=P,N.childLanes=i.childLanes&~c,a.memoizedState=Rv,g}return N=i.child,i=N.sibling,g=Ta(N,{mode:"visible",children:g.children}),!(a.mode&1)&&(g.lanes=c),g.return=a,g.sibling=null,i!==null&&(c=a.deletions,c===null?(a.deletions=[i],a.flags|=16):c.push(i)),a.child=g,a.memoizedState=null,g}function Pv(i,a){return a=Ep({mode:"visible",children:a},i.mode,0,null),a.return=i,i.child=a}function fp(i,a,c,g){return g!==null&&av(g),qu(a,i.child,null,c),i=Pv(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function JO(i,a,c,g,x,N,P){if(c)return a.flags&256?(a.flags&=-257,g=qv(Error(r(422))),fp(i,a,P,g)):a.memoizedState!==null?(a.child=i.child,a.flags|=128,null):(N=g.fallback,x=a.mode,g=Ep({mode:"visible",children:g.children},x,0,null),N=Rl(N,x,P,null),N.flags|=2,g.return=a,N.return=a,g.sibling=N,a.child=g,a.mode&1&&qu(a,i.child,null,P),a.child.memoizedState=Av(P),a.memoizedState=Rv,N);if(!(a.mode&1))return fp(i,a,P,null);if(x.data==="$!"){if(g=x.nextSibling&&x.nextSibling.dataset,g)var ae=g.dgst;return g=ae,N=Error(r(419)),g=qv(N,g,void 0),fp(i,a,P,g)}if(ae=(P&i.childLanes)!==0,Ri||ae){if(g=Bn,g!==null){switch(P&-P){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:x=32;break;case 0x20000000:x=0x10000000;break;default:x=0}x=x&(g.suspendedLanes|P)?0:x,x!==0&&x!==N.retryLane&&(N.retryLane=x,Vo(i,x),Bs(g,i,x,-1))}return Jv(),g=qv(Error(r(421))),fp(i,a,P,g)}return x.data==="$?"?(a.flags|=128,a.child=i.child,a=uR.bind(null,i),x._reactRetry=a,null):(i=N.treeContext,Ki=ba(x.nextSibling),Qi=a,Xr=!0,Fs=null,i!==null&&(ms[gs++]=zo,ms[gs++]=Uo,ms[gs++]=Sl,zo=i.id,Uo=i.overflow,Sl=a),a=Pv(a,g.children),a.flags|=4096,a)}function BS(i,a,c){i.lanes|=a;var g=i.alternate;g!==null&&(g.lanes|=a),dv(i.return,a,c)}function jv(i,a,c,g,x){var N=i.memoizedState;N===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:g,tail:c,tailMode:x}:(N.isBackwards=a,N.rendering=null,N.renderingStartTime=0,N.last=g,N.tail=c,N.tailMode=x)}function $S(i,a,c){var g=a.pendingProps,x=g.revealOrder,N=g.tail;if(fi(i,a,g.children,c),g=ln.current,g&2)g=g&1|2,a.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&BS(i,c,a);else if(i.tag===19)BS(i,c,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}g&=1}if(Vr(ln,g),!(a.mode&1))a.memoizedState=null;else switch(x){case"forwards":for(c=a.child,x=null;c!==null;)i=c.alternate,i!==null&&sp(i)===null&&(x=c),c=c.sibling;c=x,c===null?(x=a.child,a.child=null):(x=c.sibling,c.sibling=null),jv(a,!1,x,c,N);break;case"backwards":for(c=null,x=a.child,a.child=null;x!==null;){if(i=x.alternate,i!==null&&sp(i)===null){a.child=x;break}i=x.sibling,x.sibling=c,c=x,x=i}jv(a,!0,c,null,N);break;case"together":jv(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function hp(i,a){!(a.mode&1)&&i!==null&&(i.alternate=null,a.alternate=null,a.flags|=2)}function Qo(i,a,c){if(i!==null&&(a.dependencies=i.dependencies),ql|=a.lanes,!(c&a.childLanes))return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,c=Ta(i,i.pendingProps),a.child=c,c.return=a;i.sibling!==null;)i=i.sibling,c=c.sibling=Ta(i,i.pendingProps),c.return=a;c.sibling=null}return a.child}function ZO(i,a,c){switch(a.tag){case 3:LS(a),Iu();break;case 5:tS(a);break;case 1:Oi(a.type)&&Gh(a);break;case 4:pv(a,a.stateNode.containerInfo);break;case 10:var g=a.type._context,x=a.memoizedProps.value;Vr(tp,g._currentValue),g._currentValue=x;break;case 13:if(g=a.memoizedState,g!==null)return g.dehydrated!==null?(Vr(ln,ln.current&1),a.flags|=128,null):c&a.child.childLanes?MS(i,a,c):(Vr(ln,ln.current&1),i=Qo(i,a,c),i!==null?i.sibling:null);Vr(ln,ln.current&1);break;case 19:if(g=(c&a.childLanes)!==0,i.flags&128){if(g)return $S(i,a,c);a.flags|=128}if(x=a.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Vr(ln,ln.current),g)break;return null;case 22:case 23:return a.lanes=0,PS(i,a,c)}return Qo(i,a,c)}var WS,Fv,zS,US;WS=function(i,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Fv=function(){},zS=function(i,a,c,g){var x=i.memoizedProps;if(x!==g){i=a.stateNode,kl(fo.current);var N=null;switch(c){case"input":x=tr(i,x),g=tr(i,g),N=[];break;case"select":x=Ee({},x,{value:void 0}),g=Ee({},g,{value:void 0}),N=[];break;case"textarea":x=De(i,x),g=De(i,g),N=[];break;default:typeof x.onClick!="function"&&typeof g.onClick=="function"&&(i.onclick=Hh)}ma(c,g);var P;c=null;for(Fe in x)if(!g.hasOwnProperty(Fe)&&x.hasOwnProperty(Fe)&&x[Fe]!=null)if(Fe==="style"){var ae=x[Fe];for(P in ae)ae.hasOwnProperty(P)&&(c||(c={}),c[P]="")}else Fe!=="dangerouslySetInnerHTML"&&Fe!=="children"&&Fe!=="suppressContentEditableWarning"&&Fe!=="suppressHydrationWarning"&&Fe!=="autoFocus"&&(s.hasOwnProperty(Fe)?N||(N=[]):(N=N||[]).push(Fe,null));for(Fe in g){var fe=g[Fe];if(ae=x?.[Fe],g.hasOwnProperty(Fe)&&fe!==ae&&(fe!=null||ae!=null))if(Fe==="style")if(ae){for(P in ae)!ae.hasOwnProperty(P)||fe&&fe.hasOwnProperty(P)||(c||(c={}),c[P]="");for(P in fe)fe.hasOwnProperty(P)&&ae[P]!==fe[P]&&(c||(c={}),c[P]=fe[P])}else c||(N||(N=[]),N.push(Fe,c)),c=fe;else Fe==="dangerouslySetInnerHTML"?(fe=fe?fe.__html:void 0,ae=ae?ae.__html:void 0,fe!=null&&ae!==fe&&(N=N||[]).push(Fe,fe)):Fe==="children"?typeof fe!="string"&&typeof fe!="number"||(N=N||[]).push(Fe,""+fe):Fe!=="suppressContentEditableWarning"&&Fe!=="suppressHydrationWarning"&&(s.hasOwnProperty(Fe)?(fe!=null&&Fe==="onScroll"&&Jr("scroll",i),N||ae===fe||(N=[])):(N=N||[]).push(Fe,fe))}c&&(N=N||[]).push("style",c);var Fe=N;(a.updateQueue=Fe)&&(a.flags|=4)}},US=function(i,a,c,g){c!==g&&(a.flags|=4)};function Cd(i,a){if(!Xr)switch(i.tailMode){case"hidden":a=i.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var g=null;c!==null;)c.alternate!==null&&(g=c),c=c.sibling;g===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:g.sibling=null}}function ri(i){var a=i.alternate!==null&&i.alternate.child===i.child,c=0,g=0;if(a)for(var x=i.child;x!==null;)c|=x.lanes|x.childLanes,g|=x.subtreeFlags&0xe00000,g|=x.flags&0xe00000,x.return=i,x=x.sibling;else for(x=i.child;x!==null;)c|=x.lanes|x.childLanes,g|=x.subtreeFlags,g|=x.flags,x.return=i,x=x.sibling;return i.subtreeFlags|=g,i.childLanes=c,a}function YO(i,a,c){var g=a.pendingProps;switch(iv(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ri(a),null;case 1:return Oi(a.type)&&Kh(),ri(a),null;case 3:return g=a.stateNode,Ou(),Zr(Ti),Zr(ei),yv(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(i===null||i.child===null)&&(Xh(a)?a.flags|=4:i===null||i.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,Fs!==null&&(Qv(Fs),Fs=null))),Fv(i,a),ri(a),null;case 5:mv(a);var x=kl(Nd.current);if(c=a.type,i!==null&&a.stateNode!=null)zS(i,a,c,g,x),i.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!g){if(a.stateNode===null)throw Error(r(166));return ri(a),null}if(i=kl(fo.current),Xh(a)){g=a.stateNode,c=a.type;var N=a.memoizedProps;switch(g[co]=a,g[bd]=N,i=(a.mode&1)!==0,c){case"dialog":Jr("cancel",g),Jr("close",g);break;case"iframe":case"object":case"embed":Jr("load",g);break;case"video":case"audio":for(x=0;x<gd.length;x++)Jr(gd[x],g);break;case"source":Jr("error",g);break;case"img":case"image":case"link":Jr("error",g),Jr("load",g);break;case"details":Jr("toggle",g);break;case"input":Yt(g,N),Jr("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!N.multiple},Jr("invalid",g);break;case"textarea":Je(g,N),Jr("invalid",g)}ma(c,N),x=null;for(var P in N)if(N.hasOwnProperty(P)){var ae=N[P];P==="children"?typeof ae=="string"?g.textContent!==ae&&(N.suppressHydrationWarning!==!0&&Vh(g.textContent,ae,i),x=["children",ae]):typeof ae=="number"&&g.textContent!==""+ae&&(N.suppressHydrationWarning!==!0&&Vh(g.textContent,ae,i),x=["children",""+ae]):s.hasOwnProperty(P)&&ae!=null&&P==="onScroll"&&Jr("scroll",g)}switch(c){case"input":yt(g),le(g,N,!0);break;case"textarea":yt(g),$t(g);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(g.onclick=Hh)}g=x,a.updateQueue=g,g!==null&&(a.flags|=4)}else{P=x.nodeType===9?x:x.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Sr(c)),i==="http://www.w3.org/1999/xhtml"?c==="script"?(i=P.createElement("div"),i.innerHTML="<script></script>",i=i.removeChild(i.firstChild)):typeof g.is=="string"?i=P.createElement(c,{is:g.is}):(i=P.createElement(c),c==="select"&&(P=i,g.multiple?P.multiple=!0:g.size&&(P.size=g.size))):i=P.createElementNS(i,c),i[co]=a,i[bd]=g,WS(i,a,!1,!1),a.stateNode=i;e:{switch(P=ga(c,g),c){case"dialog":Jr("cancel",i),Jr("close",i),x=g;break;case"iframe":case"object":case"embed":Jr("load",i),x=g;break;case"video":case"audio":for(x=0;x<gd.length;x++)Jr(gd[x],i);x=g;break;case"source":Jr("error",i),x=g;break;case"img":case"image":case"link":Jr("error",i),Jr("load",i),x=g;break;case"details":Jr("toggle",i),x=g;break;case"input":Yt(i,g),x=tr(i,g),Jr("invalid",i);break;case"option":x=g;break;case"select":i._wrapperState={wasMultiple:!!g.multiple},x=Ee({},g,{value:void 0}),Jr("invalid",i);break;case"textarea":Je(i,g),x=De(i,g),Jr("invalid",i);break;default:x=g}ma(c,x),ae=x;for(N in ae)if(ae.hasOwnProperty(N)){var fe=ae[N];N==="style"?Ht(i,fe):N==="dangerouslySetInnerHTML"?(fe=fe?fe.__html:void 0,fe!=null&&di(i,fe)):N==="children"?typeof fe=="string"?(c!=="textarea"||fe!=="")&&hn(i,fe):typeof fe=="number"&&hn(i,""+fe):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(s.hasOwnProperty(N)?fe!=null&&N==="onScroll"&&Jr("scroll",i):fe!=null&&$(i,N,fe,P))}switch(c){case"input":yt(i),le(i,g,!1);break;case"textarea":yt(i),$t(i);break;case"option":g.value!=null&&i.setAttribute("value",""+vt(g.value));break;case"select":i.multiple=!!g.multiple,N=g.value,N!=null?Oe(i,!!g.multiple,N,!1):g.defaultValue!=null&&Oe(i,!!g.multiple,g.defaultValue,!0);break;default:typeof x.onClick=="function"&&(i.onclick=Hh)}switch(c){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return ri(a),null;case 6:if(i&&a.stateNode!=null)US(i,a,i.memoizedProps,g);else{if(typeof g!="string"&&a.stateNode===null)throw Error(r(166));if(c=kl(Nd.current),kl(fo.current),Xh(a)){if(g=a.stateNode,c=a.memoizedProps,g[co]=a,(N=g.nodeValue!==c)&&(i=Qi,i!==null))switch(i.tag){case 3:Vh(g.nodeValue,c,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Vh(g.nodeValue,c,(i.mode&1)!==0)}N&&(a.flags|=4)}else g=(c.nodeType===9?c:c.ownerDocument).createTextNode(g),g[co]=a,a.stateNode=g}return ri(a),null;case 13:if(Zr(ln),g=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Xr&&Ki!==null&&a.mode&1&&!(a.flags&128))Qx(),Iu(),a.flags|=98560,N=!1;else if(N=Xh(a),g!==null&&g.dehydrated!==null){if(i===null){if(!N)throw Error(r(318));if(N=a.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(r(317));N[co]=a}else Iu(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;ri(a),N=!1}else Fs!==null&&(Qv(Fs),Fs=null),N=!0;if(!N)return a.flags&65536?a:null}return a.flags&128?(a.lanes=c,a):(g=g!==null,g!==(i!==null&&i.memoizedState!==null)&&g&&(a.child.flags|=8192,a.mode&1&&(i===null||ln.current&1?Fn===0&&(Fn=3):Jv())),a.updateQueue!==null&&(a.flags|=4),ri(a),null);case 4:return Ou(),Fv(i,a),i===null&&yd(a.stateNode.containerInfo),ri(a),null;case 10:return cv(a.type._context),ri(a),null;case 17:return Oi(a.type)&&Kh(),ri(a),null;case 19:if(Zr(ln),N=a.memoizedState,N===null)return ri(a),null;if(g=(a.flags&128)!==0,P=N.rendering,P===null)if(g)Cd(N,!1);else{if(Fn!==0||i!==null&&i.flags&128)for(i=a.child;i!==null;){if(P=sp(i),P!==null){for(a.flags|=128,Cd(N,!1),g=P.updateQueue,g!==null&&(a.updateQueue=g,a.flags|=4),a.subtreeFlags=0,g=c,c=a.child;c!==null;)N=c,i=g,N.flags&=0xe00002,P=N.alternate,P===null?(N.childLanes=0,N.lanes=i,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=P.childLanes,N.lanes=P.lanes,N.child=P.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=P.memoizedProps,N.memoizedState=P.memoizedState,N.updateQueue=P.updateQueue,N.type=P.type,i=P.dependencies,N.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),c=c.sibling;return Vr(ln,ln.current&1|2),a.child}i=i.sibling}N.tail!==null&&on()>ju&&(a.flags|=128,g=!0,Cd(N,!1),a.lanes=4194304)}else{if(!g)if(i=sp(P),i!==null){if(a.flags|=128,g=!0,c=i.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),Cd(N,!0),N.tail===null&&N.tailMode==="hidden"&&!P.alternate&&!Xr)return ri(a),null}else 2*on()-N.renderingStartTime>ju&&c!==0x40000000&&(a.flags|=128,g=!0,Cd(N,!1),a.lanes=4194304);N.isBackwards?(P.sibling=a.child,a.child=P):(c=N.last,c!==null?c.sibling=P:a.child=P,N.last=P)}return N.tail!==null?(a=N.tail,N.rendering=a,N.tail=a.sibling,N.renderingStartTime=on(),a.sibling=null,c=ln.current,Vr(ln,g?c&1|2:c&1),a):(ri(a),null);case 22:case 23:return Gv(),g=a.memoizedState!==null,i!==null&&i.memoizedState!==null!==g&&(a.flags|=8192),g&&a.mode&1?Gi&0x40000000&&(ri(a),a.subtreeFlags&6&&(a.flags|=8192)):ri(a),null;case 24:return null;case 25:return null}throw Error(r(156,a.tag))}function XO(i,a){switch(iv(a),a.tag){case 1:return Oi(a.type)&&Kh(),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Ou(),Zr(Ti),Zr(ei),yv(),i=a.flags,i&65536&&!(i&128)?(a.flags=i&-65537|128,a):null;case 5:return mv(a),null;case 13:if(Zr(ln),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Iu()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return Zr(ln),null;case 4:return Ou(),null;case 10:return cv(a.type._context),null;case 22:case 23:return Gv(),null;case 24:return null;default:return null}}var pp=!1,ni=!1,eR=typeof WeakSet=="function"?WeakSet:Set,At=null;function Au(i,a){var c=i.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(g){pn(i,a,g)}else c.current=null}function Lv(i,a,c){try{c()}catch(g){pn(i,a,g)}}var VS=!1;function tR(i,a){if(Gy=$e,i=Sx(),$y(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var g=c.getSelection&&c.getSelection();if(g&&g.rangeCount!==0){c=g.anchorNode;var x=g.anchorOffset,N=g.focusNode;g=g.focusOffset;try{c.nodeType,N.nodeType}catch{c=null;break e}var P=0,ae=-1,fe=-1,Fe=0,rt=0,it=i,et=null;t:for(;;){for(var It;it!==c||x!==0&&it.nodeType!==3||(ae=P+x),it!==N||g!==0&&it.nodeType!==3||(fe=P+g),it.nodeType===3&&(P+=it.nodeValue.length),(It=it.firstChild)!==null;)et=it,it=It;for(;;){if(it===i)break t;if(et===c&&++Fe===x&&(ae=P),et===N&&++rt===g&&(fe=P),(It=it.nextSibling)!==null)break;it=et,et=it.parentNode}it=It}c=ae===-1||fe===-1?null:{start:ae,end:fe}}else c=null}c=c||{start:0,end:0}}else c=null;for(Jy={focusedElem:i,selectionRange:c},$e=!1,At=a;At!==null;)if(a=At,i=a.child,(a.subtreeFlags&1028)!==0&&i!==null)i.return=a,At=i;else for(;At!==null;){a=At;try{var Pt=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Pt!==null){var Dt=Pt.memoizedProps,En=Pt.memoizedState,Ie=a.stateNode,ve=Ie.getSnapshotBeforeUpdate(a.elementType===a.type?Dt:Ls(a.type,Dt),En);Ie.__reactInternalSnapshotBeforeUpdate=ve}break;case 3:var Re=a.stateNode.containerInfo;Re.nodeType===1?Re.textContent="":Re.nodeType===9&&Re.documentElement&&Re.removeChild(Re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(at){pn(a,a.return,at)}if(i=a.sibling,i!==null){i.return=a.return,At=i;break}At=a.return}return Pt=VS,VS=!1,Pt}function Td(i,a,c){var g=a.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var x=g=g.next;do{if((x.tag&i)===i){var N=x.destroy;x.destroy=void 0,N!==void 0&&Lv(a,c,N)}x=x.next}while(x!==g)}}function mp(i,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&i)===i){var g=c.create;c.destroy=g()}c=c.next}while(c!==a)}}function Dv(i){var a=i.ref;if(a!==null){var c=i.stateNode;switch(i.tag){case 5:i=c;break;default:i=c}typeof a=="function"?a(i):a.current=i}}function HS(i){var a=i.alternate;a!==null&&(i.alternate=null,HS(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&(delete a[co],delete a[bd],delete a[ev],delete a[LO],delete a[DO])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function QS(i){return i.tag===5||i.tag===3||i.tag===4}function KS(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||QS(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Mv(i,a,c){var g=i.tag;if(g===5||g===6)i=i.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(i,a):c.insertBefore(i,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(i,c)):(a=c,a.appendChild(i)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Hh));else if(g!==4&&(i=i.child,i!==null))for(Mv(i,a,c),i=i.sibling;i!==null;)Mv(i,a,c),i=i.sibling}function Bv(i,a,c){var g=i.tag;if(g===5||g===6)i=i.stateNode,a?c.insertBefore(i,a):c.appendChild(i);else if(g!==4&&(i=i.child,i!==null))for(Bv(i,a,c),i=i.sibling;i!==null;)Bv(i,a,c),i=i.sibling}var Vn=null,Ds=!1;function Ea(i,a,c){for(c=c.child;c!==null;)GS(i,a,c),c=c.sibling}function GS(i,a,c){if(hs&&typeof hs.onCommitFiberUnmount=="function")try{hs.onCommitFiberUnmount(pu,c)}catch{}switch(c.tag){case 5:ni||Au(c,a);case 6:var g=Vn,x=Ds;Vn=null,Ea(i,a,c),Vn=g,Ds=x,Vn!==null&&(Ds?(i=Vn,c=c.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)):Vn.removeChild(c.stateNode));break;case 18:Vn!==null&&(Ds?(i=Vn,c=c.stateNode,i.nodeType===8?Xy(i.parentNode,c):i.nodeType===1&&Xy(i,c),_e(i)):Xy(Vn,c.stateNode));break;case 4:g=Vn,x=Ds,Vn=c.stateNode.containerInfo,Ds=!0,Ea(i,a,c),Vn=g,Ds=x;break;case 0:case 11:case 14:case 15:if(!ni&&(g=c.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){x=g=g.next;do{var N=x,P=N.destroy;N=N.tag,P!==void 0&&(N&2||N&4)&&Lv(c,a,P),x=x.next}while(x!==g)}Ea(i,a,c);break;case 1:if(!ni&&(Au(c,a),g=c.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=c.memoizedProps,g.state=c.memoizedState,g.componentWillUnmount()}catch(ae){pn(c,a,ae)}Ea(i,a,c);break;case 21:Ea(i,a,c);break;case 22:c.mode&1?(ni=(g=ni)||c.memoizedState!==null,Ea(i,a,c),ni=g):Ea(i,a,c);break;default:Ea(i,a,c)}}function JS(i){var a=i.updateQueue;if(a!==null){i.updateQueue=null;var c=i.stateNode;c===null&&(c=i.stateNode=new eR),a.forEach(function(g){var x=cR.bind(null,i,g);c.has(g)||(c.add(g),g.then(x,x))})}}function Ms(i,a){var c=a.deletions;if(c!==null)for(var g=0;g<c.length;g++){var x=c[g];try{var N=i,P=a,ae=P;e:for(;ae!==null;){switch(ae.tag){case 5:Vn=ae.stateNode,Ds=!1;break e;case 3:Vn=ae.stateNode.containerInfo,Ds=!0;break e;case 4:Vn=ae.stateNode.containerInfo,Ds=!0;break e}ae=ae.return}if(Vn===null)throw Error(r(160));GS(N,P,x),Vn=null,Ds=!1;var fe=x.alternate;fe!==null&&(fe.return=null),x.return=null}catch(Fe){pn(x,a,Fe)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)ZS(a,i),a=a.sibling}function ZS(i,a){var c=i.alternate,g=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Ms(a,i),po(i),g&4){try{Td(3,i,i.return),mp(3,i)}catch(Dt){pn(i,i.return,Dt)}try{Td(5,i,i.return)}catch(Dt){pn(i,i.return,Dt)}}break;case 1:Ms(a,i),po(i),g&512&&c!==null&&Au(c,c.return);break;case 5:if(Ms(a,i),po(i),g&512&&c!==null&&Au(c,c.return),i.flags&32){var x=i.stateNode;try{hn(x,"")}catch(Dt){pn(i,i.return,Dt)}}if(g&4&&(x=i.stateNode,x!=null)){var N=i.memoizedProps,P=c!==null?c.memoizedProps:N,ae=i.type,fe=i.updateQueue;if(i.updateQueue=null,fe!==null)try{ae==="input"&&N.type==="radio"&&N.name!=null&&sr(x,N),ga(ae,P);var Fe=ga(ae,N);for(P=0;P<fe.length;P+=2){var rt=fe[P],it=fe[P+1];rt==="style"?Ht(x,it):rt==="dangerouslySetInnerHTML"?di(x,it):rt==="children"?hn(x,it):$(x,rt,it,Fe)}switch(ae){case"input":mr(x,N);break;case"textarea":_t(x,N);break;case"select":var et=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!N.multiple;var It=N.value;It!=null?Oe(x,!!N.multiple,It,!1):et!==!!N.multiple&&(N.defaultValue!=null?Oe(x,!!N.multiple,N.defaultValue,!0):Oe(x,!!N.multiple,N.multiple?[]:"",!1))}x[bd]=N}catch(Dt){pn(i,i.return,Dt)}}break;case 6:if(Ms(a,i),po(i),g&4){if(i.stateNode===null)throw Error(r(162));x=i.stateNode,N=i.memoizedProps;try{x.nodeValue=N}catch(Dt){pn(i,i.return,Dt)}}break;case 3:if(Ms(a,i),po(i),g&4&&c!==null&&c.memoizedState.isDehydrated)try{_e(a.containerInfo)}catch(Dt){pn(i,i.return,Dt)}break;case 4:Ms(a,i),po(i);break;case 13:Ms(a,i),po(i),x=i.child,x.flags&8192&&(N=x.memoizedState!==null,x.stateNode.isHidden=N,!N||x.alternate!==null&&x.alternate.memoizedState!==null||(zv=on())),g&4&&JS(i);break;case 22:if(rt=c!==null&&c.memoizedState!==null,i.mode&1?(ni=(Fe=ni)||rt,Ms(a,i),ni=Fe):Ms(a,i),po(i),g&8192){if(Fe=i.memoizedState!==null,(i.stateNode.isHidden=Fe)&&!rt&&i.mode&1)for(At=i,rt=i.child;rt!==null;){for(it=At=rt;At!==null;){switch(et=At,It=et.child,et.tag){case 0:case 11:case 14:case 15:Td(4,et,et.return);break;case 1:Au(et,et.return);var Pt=et.stateNode;if(typeof Pt.componentWillUnmount=="function"){g=et,c=et.return;try{a=g,Pt.props=a.memoizedProps,Pt.state=a.memoizedState,Pt.componentWillUnmount()}catch(Dt){pn(g,c,Dt)}}break;case 5:Au(et,et.return);break;case 22:if(et.memoizedState!==null){eN(it);continue}}It!==null?(It.return=et,At=It):eN(it)}rt=rt.sibling}e:for(rt=null,it=i;;){if(it.tag===5){if(rt===null){rt=it;try{x=it.stateNode,Fe?(N=x.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):(ae=it.stateNode,fe=it.memoizedProps.style,P=fe!=null&&fe.hasOwnProperty("display")?fe.display:null,ae.style.display=zn("display",P))}catch(Dt){pn(i,i.return,Dt)}}}else if(it.tag===6){if(rt===null)try{it.stateNode.nodeValue=Fe?"":it.memoizedProps}catch(Dt){pn(i,i.return,Dt)}}else if((it.tag!==22&&it.tag!==23||it.memoizedState===null||it===i)&&it.child!==null){it.child.return=it,it=it.child;continue}if(it===i)break e;for(;it.sibling===null;){if(it.return===null||it.return===i)break e;rt===it&&(rt=null),it=it.return}rt===it&&(rt=null),it.sibling.return=it.return,it=it.sibling}}break;case 19:Ms(a,i),po(i),g&4&&JS(i);break;case 21:break;default:Ms(a,i),po(i)}}function po(i){var a=i.flags;if(a&2){try{e:{for(var c=i.return;c!==null;){if(QS(c)){var g=c;break e}c=c.return}throw Error(r(160))}switch(g.tag){case 5:var x=g.stateNode;g.flags&32&&(hn(x,""),g.flags&=-33);var N=KS(i);Bv(i,N,x);break;case 3:case 4:var P=g.stateNode.containerInfo,ae=KS(i);Mv(i,ae,P);break;default:throw Error(r(161))}}catch(fe){pn(i,i.return,fe)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function rR(i,a,c){At=i,YS(i)}function YS(i,a,c){for(var g=(i.mode&1)!==0;At!==null;){var x=At,N=x.child;if(x.tag===22&&g){var P=x.memoizedState!==null||pp;if(!P){var ae=x.alternate,fe=ae!==null&&ae.memoizedState!==null||ni;ae=pp;var Fe=ni;if(pp=P,(ni=fe)&&!Fe)for(At=x;At!==null;)P=At,fe=P.child,P.tag===22&&P.memoizedState!==null?tN(x):fe!==null?(fe.return=P,At=fe):tN(x);for(;N!==null;)At=N,YS(N),N=N.sibling;At=x,pp=ae,ni=Fe}XS(i)}else x.subtreeFlags&8772&&N!==null?(N.return=x,At=N):XS(i)}}function XS(i){for(;At!==null;){var a=At;if(a.flags&8772){var c=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:ni||mp(5,a);break;case 1:var g=a.stateNode;if(a.flags&4&&!ni)if(c===null)g.componentDidMount();else{var x=a.elementType===a.type?c.memoizedProps:Ls(a.type,c.memoizedProps);g.componentDidUpdate(x,c.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var N=a.updateQueue;N!==null&&eS(a,N,g);break;case 3:var P=a.updateQueue;if(P!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}eS(a,P,c)}break;case 5:var ae=a.stateNode;if(c===null&&a.flags&4){c=ae;var fe=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":fe.autoFocus&&c.focus();break;case"img":fe.src&&(c.src=fe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Fe=a.alternate;if(Fe!==null){var rt=Fe.memoizedState;if(rt!==null){var it=rt.dehydrated;it!==null&&_e(it)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}ni||a.flags&512&&Dv(a)}catch(et){pn(a,a.return,et)}}if(a===i){At=null;break}if(c=a.sibling,c!==null){c.return=a.return,At=c;break}At=a.return}}function eN(i){for(;At!==null;){var a=At;if(a===i){At=null;break}var c=a.sibling;if(c!==null){c.return=a.return,At=c;break}At=a.return}}function tN(i){for(;At!==null;){var a=At;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{mp(4,a)}catch(fe){pn(a,c,fe)}break;case 1:var g=a.stateNode;if(typeof g.componentDidMount=="function"){var x=a.return;try{g.componentDidMount()}catch(fe){pn(a,x,fe)}}var N=a.return;try{Dv(a)}catch(fe){pn(a,N,fe)}break;case 5:var P=a.return;try{Dv(a)}catch(fe){pn(a,P,fe)}}}catch(fe){pn(a,a.return,fe)}if(a===i){At=null;break}var ae=a.sibling;if(ae!==null){ae.return=a.return,At=ae;break}At=a.return}}var nR=Math.ceil,gp=H.ReactCurrentDispatcher,$v=H.ReactCurrentOwner,bs=H.ReactCurrentBatchConfig,vr=0,Bn=null,Tn=null,Hn=0,Gi=0,Pu=_a(0),Fn=0,Od=null,ql=0,yp=0,Wv=0,Rd=null,Ai=null,zv=0,ju=1/0,Ko=null,vp=!1,Uv=null,ka=null,bp=!1,Ia=null,_p=0,Ad=0,Vv=null,wp=-1,xp=0;function hi(){return vr&6?on():wp!==-1?wp:wp=on()}function qa(i){return i.mode&1?vr&2&&Hn!==0?Hn&-Hn:BO.transition!==null?(xp===0&&(xp=Lh()),xp):(i=Nr,i!==0||(i=window.event,i=i===void 0?16:he(i.type)),i):1}function Bs(i,a,c,g){if(50<Ad)throw Ad=0,Vv=null,Error(r(185));bl(i,c,g),(!(vr&2)||i!==Bn)&&(i===Bn&&(!(vr&2)&&(yp|=c),Fn===4&&Ca(i,Hn)),Pi(i,g),c===1&&vr===0&&!(a.mode&1)&&(ju=on()+500,Jh&&xa()))}function Pi(i,a){var c=i.callbackNode;Ay(i,a);var g=gu(i,i===Bn?Hn:0);if(g===0)c!==null&&rd(c),i.callbackNode=null,i.callbackPriority=0;else if(a=g&-g,i.callbackPriority!==a){if(c!=null&&rd(c),a===1)i.tag===0?MO(nN.bind(null,i)):Wx(nN.bind(null,i)),jO(function(){!(vr&6)&&xa()}),c=null;else{switch(Dh(g)){case 1:c=nd;break;case 4:c=jh;break;case 16:c=hu;break;case 0x20000000:c=Fh;break;default:c=hu}c=dN(c,rN.bind(null,i))}i.callbackPriority=a,i.callbackNode=c}}function rN(i,a){if(wp=-1,xp=0,vr&6)throw Error(r(327));var c=i.callbackNode;if(Fu()&&i.callbackNode!==c)return null;var g=gu(i,i===Bn?Hn:0);if(g===0)return null;if(g&30||g&i.expiredLanes||a)a=Sp(i,g);else{a=g;var x=vr;vr|=2;var N=sN();(Bn!==i||Hn!==a)&&(Ko=null,ju=on()+500,Tl(i,a));do try{oR();break}catch(ae){iN(i,ae)}while(!0);uv(),gp.current=N,vr=x,Tn!==null?a=0:(Bn=null,Hn=0,a=Fn)}if(a!==0){if(a===2&&(x=id(i),x!==0&&(g=x,a=Hv(i,x))),a===1)throw c=Od,Tl(i,0),Ca(i,g),Pi(i,on()),c;if(a===6)Ca(i,g);else{if(x=i.current.alternate,!(g&30)&&!iR(x)&&(a=Sp(i,g),a===2&&(N=id(i),N!==0&&(g=N,a=Hv(i,N))),a===1))throw c=Od,Tl(i,0),Ca(i,g),Pi(i,on()),c;switch(i.finishedWork=x,i.finishedLanes=g,a){case 0:case 1:throw Error(r(345));case 2:Ol(i,Ai,Ko);break;case 3:if(Ca(i,g),(g&0x7c00000)===g&&(a=zv+500-on(),10<a)){if(gu(i,0)!==0)break;if(x=i.suspendedLanes,(x&g)!==g){hi(),i.pingedLanes|=i.suspendedLanes&x;break}i.timeoutHandle=Yy(Ol.bind(null,i,Ai,Ko),a);break}Ol(i,Ai,Ko);break;case 4:if(Ca(i,g),(g&4194240)===g)break;for(a=i.eventTimes,x=-1;0<g;){var P=31-Ci(g);N=1<<P,P=a[P],P>x&&(x=P),g&=~N}if(g=x,g=on()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*nR(g/1960))-g,10<g){i.timeoutHandle=Yy(Ol.bind(null,i,Ai,Ko),g);break}Ol(i,Ai,Ko);break;case 5:Ol(i,Ai,Ko);break;default:throw Error(r(329))}}}return Pi(i,on()),i.callbackNode===c?rN.bind(null,i):null}function Hv(i,a){var c=Rd;return i.current.memoizedState.isDehydrated&&(Tl(i,a).flags|=256),i=Sp(i,a),i!==2&&(a=Ai,Ai=c,a!==null&&Qv(a)),i}function Qv(i){Ai===null?Ai=i:Ai.push.apply(Ai,i)}function iR(i){for(var a=i;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var g=0;g<c.length;g++){var x=c[g],N=x.getSnapshot;x=x.value;try{if(!js(N(),x))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ca(i,a){for(a&=~Wv,a&=~yp,i.suspendedLanes|=a,i.pingedLanes&=~a,i=i.expirationTimes;0<a;){var c=31-Ci(a),g=1<<c;i[c]=-1,a&=~g}}function nN(i){if(vr&6)throw Error(r(327));Fu();var a=gu(i,0);if(!(a&1))return Pi(i,on()),null;var c=Sp(i,a);if(i.tag!==0&&c===2){var g=id(i);g!==0&&(a=g,c=Hv(i,g))}if(c===1)throw c=Od,Tl(i,0),Ca(i,a),Pi(i,on()),c;if(c===6)throw Error(r(345));return i.finishedWork=i.current.alternate,i.finishedLanes=a,Ol(i,Ai,Ko),Pi(i,on()),null}function Kv(i,a){var c=vr;vr|=1;try{return i(a)}finally{vr=c,vr===0&&(ju=on()+500,Jh&&xa())}}function Cl(i){Ia!==null&&Ia.tag===0&&!(vr&6)&&Fu();var a=vr;vr|=1;var c=bs.transition,g=Nr;try{if(bs.transition=null,Nr=1,i)return i()}finally{Nr=g,bs.transition=c,vr=a,!(vr&6)&&xa()}}function Gv(){Gi=Pu.current,Zr(Pu)}function Tl(i,a){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;if(c!==-1&&(i.timeoutHandle=-1,PO(c)),Tn!==null)for(c=Tn.return;c!==null;){var g=c;switch(iv(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Kh();break;case 3:Ou(),Zr(Ti),Zr(ei),yv();break;case 5:mv(g);break;case 4:Ou();break;case 13:Zr(ln);break;case 19:Zr(ln);break;case 10:cv(g.type._context);break;case 22:case 23:Gv()}c=c.return}if(Bn=i,Tn=i=Ta(i.current,null),Hn=Gi=a,Fn=0,Od=null,Wv=yp=ql=0,Ai=Rd=null,El!==null){for(a=0;a<El.length;a++)if(c=El[a],g=c.interleaved,g!==null){c.interleaved=null;var x=g.next,N=c.pending;if(N!==null){var P=N.next;N.next=x,g.next=P}c.pending=g}El=null}return i}function iN(i,a){do{var c=Tn;try{if(uv(),op.current=cp,ap){for(var g=un.memoizedState;g!==null;){var x=g.queue;x!==null&&(x.pending=null),g=g.next}ap=!1}if(Il=0,Mn=jn=un=null,Ed=!1,kd=0,$v.current=null,c===null||c.return===null){Fn=1,Od=a,Tn=null;break}e:{var N=i,P=c.return,ae=c,fe=a;if(a=Hn,ae.flags|=32768,fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var Fe=fe,rt=ae,it=rt.tag;if(!(rt.mode&1)&&(it===0||it===11||it===15)){var et=rt.alternate;et?(rt.updateQueue=et.updateQueue,rt.memoizedState=et.memoizedState,rt.lanes=et.lanes):(rt.updateQueue=null,rt.memoizedState=null)}var It=CS(P);if(It!==null){It.flags&=-257,TS(It,P,ae,N,a),It.mode&1&&qS(N,Fe,a),a=It,fe=Fe;var Pt=a.updateQueue;if(Pt===null){var Dt=new Set;Dt.add(fe),a.updateQueue=Dt}else Pt.add(fe);break e}else{if(!(a&1)){qS(N,Fe,a),Jv();break e}fe=Error(r(426))}}else if(Xr&&ae.mode&1){var En=CS(P);if(En!==null){!(En.flags&65536)&&(En.flags|=256),TS(En,P,ae,N,a),av(Ru(fe,ae));break e}}N=fe=Ru(fe,ae),Fn!==4&&(Fn=2),Rd===null?Rd=[N]:Rd.push(N),N=P;do{switch(N.tag){case 3:N.flags|=65536,a&=-a,N.lanes|=a;var Ie=kS(N,fe,a);Xx(N,Ie);break e;case 1:ae=fe;var ve=N.type,Re=N.stateNode;if(!(N.flags&128)&&(typeof ve.getDerivedStateFromError=="function"||Re!==null&&typeof Re.componentDidCatch=="function"&&(ka===null||!ka.has(Re)))){N.flags|=65536,a&=-a,N.lanes|=a;var at=IS(N,ae,a);Xx(N,at);break e}}N=N.return}while(N!==null)}aN(c)}catch(Mt){a=Mt,Tn===c&&c!==null&&(Tn=c=c.return);continue}break}while(!0)}function sN(){var i=gp.current;return gp.current=cp,i===null?cp:i}function Jv(){(Fn===0||Fn===3||Fn===2)&&(Fn=4),Bn===null||!(ql&0xfffffff)&&!(yp&0xfffffff)||Ca(Bn,Hn)}function Sp(i,a){var c=vr;vr|=2;var g=sN();(Bn!==i||Hn!==a)&&(Ko=null,Tl(i,a));do try{sR();break}catch(x){iN(i,x)}while(!0);if(uv(),vr=c,gp.current=g,Tn!==null)throw Error(r(261));return Bn=null,Hn=0,Fn}function sR(){for(;Tn!==null;)oN(Tn)}function oR(){for(;Tn!==null&&!Ny();)oN(Tn)}function oN(i){var a=cN(i.alternate,i,Gi);i.memoizedProps=i.pendingProps,a===null?aN(i):Tn=a,$v.current=null}function aN(i){var a=i;do{var c=a.alternate;if(i=a.return,a.flags&32768){if(c=XO(c,a),c!==null){c.flags&=32767,Tn=c;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Fn=6,Tn=null;return}}else if(c=YO(c,a,Gi),c!==null){Tn=c;return}if(a=a.sibling,a!==null){Tn=a;return}Tn=a=i}while(a!==null);Fn===0&&(Fn=5)}function Ol(i,a,c){var g=Nr,x=bs.transition;try{bs.transition=null,Nr=1,aR(i,a,c,g)}finally{bs.transition=x,Nr=g}return null}function aR(i,a,c,g){do Fu();while(Ia!==null);if(vr&6)throw Error(r(327));c=i.finishedWork;var x=i.finishedLanes;if(c===null)return null;if(i.finishedWork=null,i.finishedLanes=0,c===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0;var N=c.lanes|c.childLanes;if(Py(i,N),i===Bn&&(Tn=Bn=null,Hn=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||bp||(bp=!0,dN(hu,function(){return Fu(),null})),N=(c.flags&15990)!==0,c.subtreeFlags&15990||N){N=bs.transition,bs.transition=null;var P=Nr;Nr=1;var ae=vr;vr|=4,$v.current=null,tR(i,c),ZS(c,i),IO(Jy),$e=!!Gy,Jy=Gy=null,i.current=c,rR(c),Ey(),vr=ae,Nr=P,bs.transition=N}else i.current=c;if(bp&&(bp=!1,Ia=i,_p=x),N=i.pendingLanes,N===0&&(ka=null),qy(c.stateNode),Pi(i,on()),a!==null)for(g=i.onRecoverableError,c=0;c<a.length;c++)x=a[c],g(x.value,{componentStack:x.stack,digest:x.digest});if(vp)throw vp=!1,i=Uv,Uv=null,i;return _p&1&&i.tag!==0&&Fu(),N=i.pendingLanes,N&1?i===Vv?Ad++:(Ad=0,Vv=i):Ad=0,xa(),null}function Fu(){if(Ia!==null){var i=Dh(_p),a=bs.transition,c=Nr;try{if(bs.transition=null,Nr=16>i?16:i,Ia===null)var g=!1;else{if(i=Ia,Ia=null,_p=0,vr&6)throw Error(r(331));var x=vr;for(vr|=4,At=i.current;At!==null;){var N=At,P=N.child;if(At.flags&16){var ae=N.deletions;if(ae!==null){for(var fe=0;fe<ae.length;fe++){var Fe=ae[fe];for(At=Fe;At!==null;){var rt=At;switch(rt.tag){case 0:case 11:case 15:Td(8,rt,N)}var it=rt.child;if(it!==null)it.return=rt,At=it;else for(;At!==null;){rt=At;var et=rt.sibling,It=rt.return;if(HS(rt),rt===Fe){At=null;break}if(et!==null){et.return=It,At=et;break}At=It}}}var Pt=N.alternate;if(Pt!==null){var Dt=Pt.child;if(Dt!==null){Pt.child=null;do{var En=Dt.sibling;Dt.sibling=null,Dt=En}while(Dt!==null)}}At=N}}if(N.subtreeFlags&2064&&P!==null)P.return=N,At=P;else e:for(;At!==null;){if(N=At,N.flags&2048)switch(N.tag){case 0:case 11:case 15:Td(9,N,N.return)}var Ie=N.sibling;if(Ie!==null){Ie.return=N.return,At=Ie;break e}At=N.return}}var ve=i.current;for(At=ve;At!==null;){P=At;var Re=P.child;if(P.subtreeFlags&2064&&Re!==null)Re.return=P,At=Re;else e:for(P=ve;At!==null;){if(ae=At,ae.flags&2048)try{switch(ae.tag){case 0:case 11:case 15:mp(9,ae)}}catch(Mt){pn(ae,ae.return,Mt)}if(ae===P){At=null;break e}var at=ae.sibling;if(at!==null){at.return=ae.return,At=at;break e}At=ae.return}}if(vr=x,xa(),hs&&typeof hs.onPostCommitFiberRoot=="function")try{hs.onPostCommitFiberRoot(pu,i)}catch{}g=!0}return g}finally{Nr=c,bs.transition=a}}return!1}function lN(i,a,c){a=Ru(c,a),a=kS(i,a,1),i=Na(i,a,1),a=hi(),i!==null&&(bl(i,1,a),Pi(i,a))}function pn(i,a,c){if(i.tag===3)lN(i,i,c);else for(;a!==null;){if(a.tag===3){lN(a,i,c);break}else if(a.tag===1){var g=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ka===null||!ka.has(g))){i=Ru(c,i),i=IS(a,i,1),a=Na(a,i,1),i=hi(),a!==null&&(bl(a,1,i),Pi(a,i));break}}a=a.return}}function lR(i,a,c){var g=i.pingCache;g!==null&&g.delete(a),a=hi(),i.pingedLanes|=i.suspendedLanes&c,Bn===i&&(Hn&c)===c&&(Fn===4||Fn===3&&(Hn&0x7c00000)===Hn&&500>on()-zv?Tl(i,0):Wv|=c),Pi(i,a)}function uN(i,a){a===0&&(i.mode&1?(a=mu,mu<<=1,!(mu&0x7c00000)&&(mu=4194304)):a=1);var c=hi();i=Vo(i,a),i!==null&&(bl(i,a,c),Pi(i,c))}function uR(i){var a=i.memoizedState,c=0;a!==null&&(c=a.retryLane),uN(i,c)}function cR(i,a){var c=0;switch(i.tag){case 13:var g=i.stateNode,x=i.memoizedState;x!==null&&(c=x.retryLane);break;case 19:g=i.stateNode;break;default:throw Error(r(314))}g!==null&&g.delete(a),uN(i,c)}var cN;cN=function(i,a,c){if(i!==null)if(i.memoizedProps!==a.pendingProps||Ti.current)Ri=!0;else{if(!(i.lanes&c)&&!(a.flags&128))return Ri=!1,ZO(i,a,c);Ri=!!(i.flags&131072)}else Ri=!1,Xr&&a.flags&1048576&&zx(a,Yh,a.index);switch(a.lanes=0,a.tag){case 2:var g=a.type;hp(i,a),i=a.pendingProps;var x=Nu(a,ei.current);Tu(a,c),x=_v(null,a,g,i,x,c);var N=wv();return a.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Oi(g)?(N=!0,Gh(a)):N=!1,a.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,hv(a),x.updater=dp,a.stateNode=x,x._reactInternals=a,Iv(a,g,i,c),a=Ov(null,a,g,!0,N,c)):(a.tag=0,Xr&&N&&nv(a),fi(null,a,x,c),a=a.child),a;case 16:g=a.elementType;e:{switch(hp(i,a),i=a.pendingProps,x=g._init,g=x(g._payload),a.type=g,x=a.tag=fR(g),i=Ls(g,i),x){case 0:a=Tv(null,a,g,i,c);break e;case 1:a=FS(null,a,g,i,c);break e;case 11:a=OS(null,a,g,i,c);break e;case 14:a=RS(null,a,g,Ls(g.type,i),c);break e}throw Error(r(306,g,""))}return a;case 0:return g=a.type,x=a.pendingProps,x=a.elementType===g?x:Ls(g,x),Tv(i,a,g,x,c);case 1:return g=a.type,x=a.pendingProps,x=a.elementType===g?x:Ls(g,x),FS(i,a,g,x,c);case 3:e:{if(LS(a),i===null)throw Error(r(387));g=a.pendingProps,N=a.memoizedState,x=N.element,Yx(i,a),ip(a,g,null,c);var P=a.memoizedState;if(g=P.element,N.isDehydrated)if(N={element:g,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},a.updateQueue.baseState=N,a.memoizedState=N,a.flags&256){x=Ru(Error(r(423)),a),a=DS(i,a,g,c,x);break e}else if(g!==x){x=Ru(Error(r(424)),a),a=DS(i,a,g,c,x);break e}else for(Ki=ba(a.stateNode.containerInfo.firstChild),Qi=a,Xr=!0,Fs=null,c=Jx(a,null,g,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Iu(),g===x){a=Qo(i,a,c);break e}fi(i,a,g,c)}a=a.child}return a;case 5:return tS(a),i===null&&ov(a),g=a.type,x=a.pendingProps,N=i!==null?i.memoizedProps:null,P=x.children,Zy(g,x)?P=null:N!==null&&Zy(g,N)&&(a.flags|=32),jS(i,a),fi(i,a,P,c),a.child;case 6:return i===null&&ov(a),null;case 13:return MS(i,a,c);case 4:return pv(a,a.stateNode.containerInfo),g=a.pendingProps,i===null?a.child=qu(a,null,g,c):fi(i,a,g,c),a.child;case 11:return g=a.type,x=a.pendingProps,x=a.elementType===g?x:Ls(g,x),OS(i,a,g,x,c);case 7:return fi(i,a,a.pendingProps,c),a.child;case 8:return fi(i,a,a.pendingProps.children,c),a.child;case 12:return fi(i,a,a.pendingProps.children,c),a.child;case 10:e:{if(g=a.type._context,x=a.pendingProps,N=a.memoizedProps,P=x.value,Vr(tp,g._currentValue),g._currentValue=P,N!==null)if(js(N.value,P)){if(N.children===x.children&&!Ti.current){a=Qo(i,a,c);break e}}else for(N=a.child,N!==null&&(N.return=a);N!==null;){var ae=N.dependencies;if(ae!==null){P=N.child;for(var fe=ae.firstContext;fe!==null;){if(fe.context===g){if(N.tag===1){fe=Ho(-1,c&-c),fe.tag=2;var Fe=N.updateQueue;if(Fe!==null){Fe=Fe.shared;var rt=Fe.pending;rt===null?fe.next=fe:(fe.next=rt.next,rt.next=fe),Fe.pending=fe}}N.lanes|=c,fe=N.alternate,fe!==null&&(fe.lanes|=c),dv(N.return,c,a),ae.lanes|=c;break}fe=fe.next}}else if(N.tag===10)P=N.type===a.type?null:N.child;else if(N.tag===18){if(P=N.return,P===null)throw Error(r(341));P.lanes|=c,ae=P.alternate,ae!==null&&(ae.lanes|=c),dv(P,c,a),P=N.sibling}else P=N.child;if(P!==null)P.return=N;else for(P=N;P!==null;){if(P===a){P=null;break}if(N=P.sibling,N!==null){N.return=P.return,P=N;break}P=P.return}N=P}fi(i,a,x.children,c),a=a.child}return a;case 9:return x=a.type,g=a.pendingProps.children,Tu(a,c),x=ys(x),g=g(x),a.flags|=1,fi(i,a,g,c),a.child;case 14:return g=a.type,x=Ls(g,a.pendingProps),x=Ls(g.type,x),RS(i,a,g,x,c);case 15:return AS(i,a,a.type,a.pendingProps,c);case 17:return g=a.type,x=a.pendingProps,x=a.elementType===g?x:Ls(g,x),hp(i,a),a.tag=1,Oi(g)?(i=!0,Gh(a)):i=!1,Tu(a,c),NS(a,g,x),Iv(a,g,x,c),Ov(null,a,g,!0,i,c);case 19:return $S(i,a,c);case 22:return PS(i,a,c)}throw Error(r(156,a.tag))};function dN(i,a){return Ph(i,a)}function dR(i,a,c,g){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _s(i,a,c,g){return new dR(i,a,c,g)}function Zv(i){return i=i.prototype,!(!i||!i.isReactComponent)}function fR(i){if(typeof i=="function")return Zv(i)?1:0;if(i!=null){if(i=i.$$typeof,i===oe)return 11;if(i===Te)return 14}return 2}function Ta(i,a){var c=i.alternate;return c===null?(c=_s(i.tag,a,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=a,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&0xe00000,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,a=i.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c}function Np(i,a,c,g,x,N){var P=2;if(g=i,typeof i=="function")Zv(i)&&(P=1);else if(typeof i=="string")P=5;else e:switch(i){case Z:return Rl(c.children,x,N,a);case ie:P=8,x|=8;break;case V:return i=_s(12,c,a,x|2),i.elementType=V,i.lanes=N,i;case Y:return i=_s(13,c,a,x),i.elementType=Y,i.lanes=N,i;case me:return i=_s(19,c,a,x),i.elementType=me,i.lanes=N,i;case je:return Ep(c,x,N,a);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case ne:P=10;break e;case M:P=9;break e;case oe:P=11;break e;case Te:P=14;break e;case Ce:P=16,g=null;break e}throw Error(r(130,i==null?i:typeof i,""))}return a=_s(P,c,a,x),a.elementType=i,a.type=g,a.lanes=N,a}function Rl(i,a,c,g){return i=_s(7,i,g,a),i.lanes=c,i}function Ep(i,a,c,g){return i=_s(22,i,g,a),i.elementType=je,i.lanes=c,i.stateNode={isHidden:!1},i}function Yv(i,a,c){return i=_s(6,i,null,a),i.lanes=c,i}function Xv(i,a,c){return a=_s(4,i.children!==null?i.children:[],i.key,a),a.lanes=c,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}function hR(i,a,c,g,x){this.tag=a,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sd(0),this.expirationTimes=sd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sd(0),this.identifierPrefix=g,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function eb(i,a,c,g,x,N,P,ae,fe){return i=new hR(i,a,c,ae,fe),a===1?(a=1,N===!0&&(a|=8)):a=0,N=_s(3,null,null,a),i.current=N,N.stateNode=i,N.memoizedState={element:g,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},hv(N),i}function pR(i,a,c){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:g==null?null:""+g,children:i,containerInfo:a,implementation:c}}function fN(i){if(!i)return wa;i=i._reactInternals;e:{if(Mo(i)!==i||i.tag!==1)throw Error(r(170));var a=i;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Oi(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(r(171))}if(i.tag===1){var c=i.type;if(Oi(c))return Bx(i,c,a)}return a}function hN(i,a,c,g,x,N,P,ae,fe){return i=eb(c,g,!0,i,x,N,P,ae,fe),i.context=fN(null),c=i.current,g=hi(),x=qa(c),N=Ho(g,x),N.callback=a??null,Na(c,N,x),i.current.lanes=x,bl(i,x,g),Pi(i,g),i}function kp(i,a,c,g){var x=a.current,N=hi(),P=qa(x);return c=fN(c),a.context===null?a.context=c:a.pendingContext=c,a=Ho(N,P),a.payload={element:i},g=g===void 0?null:g,g!==null&&(a.callback=g),i=Na(x,a,P),i!==null&&(Bs(i,x,P,N),np(i,x,P)),P}function Ip(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function pN(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<a?c:a}}function tb(i,a){pN(i,a),(i=i.alternate)&&pN(i,a)}function mR(){return null}var mN=typeof reportError=="function"?reportError:function(i){console.error(i)};function rb(i){this._internalRoot=i}qp.prototype.render=rb.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));kp(i,a,null,null)},qp.prototype.unmount=rb.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;Cl(function(){kp(null,i,null,null)}),a[$o]=null}};function qp(i){this._internalRoot=i}qp.prototype.unstable_scheduleHydration=function(i){if(i){var a=_l();i={blockedOn:null,target:i,priority:a};for(var c=0;c<re.length&&a!==0&&a<re[c].priority;c++);re.splice(c,0,i),c===0&&Ae(i)}};function nb(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Cp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function gN(){}function gR(i,a,c,g,x){if(x){if(typeof g=="function"){var N=g;g=function(){var Fe=Ip(P);N.call(Fe)}}var P=hN(a,g,i,0,null,!1,!1,"",gN);return i._reactRootContainer=P,i[$o]=P.current,yd(i.nodeType===8?i.parentNode:i),Cl(),P}for(;x=i.lastChild;)i.removeChild(x);if(typeof g=="function"){var ae=g;g=function(){var Fe=Ip(fe);ae.call(Fe)}}var fe=eb(i,0,!1,null,null,!1,!1,"",gN);return i._reactRootContainer=fe,i[$o]=fe.current,yd(i.nodeType===8?i.parentNode:i),Cl(function(){kp(a,fe,c,g)}),fe}function Tp(i,a,c,g,x){var N=c._reactRootContainer;if(N){var P=N;if(typeof x=="function"){var ae=x;x=function(){var fe=Ip(P);ae.call(fe)}}kp(a,P,i,x)}else P=gR(c,a,i,x,g);return Ip(P)}ad=function(i){switch(i.tag){case 3:var a=i.stateNode;if(a.current.memoizedState.isDehydrated){var c=Ps(a.pendingLanes);c!==0&&(od(a,c|1),Pi(a,on()),!(vr&6)&&(ju=on()+500,xa()))}break;case 13:Cl(function(){var g=Vo(i,1);if(g!==null){var x=hi();Bs(g,i,1,x)}}),tb(i,1)}},te=function(i){if(i.tag===13){var a=Vo(i,0x8000000);if(a!==null){var c=hi();Bs(a,i,0x8000000,c)}tb(i,0x8000000)}},ld=function(i){if(i.tag===13){var a=qa(i),c=Vo(i,a);if(c!==null){var g=hi();Bs(c,i,a,g)}tb(i,a)}},_l=function(){return Nr},ud=function(i,a){var c=Nr;try{return Nr=i,a()}finally{Nr=c}},Xc=function(i,a,c){switch(a){case"input":if(mr(i,c),a=c.name,c.type==="radio"&&a!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var g=c[a];if(g!==i&&g.form===i.form){var x=Qh(g);if(!x)throw Error(r(90));Ot(g),mr(g,x)}}}break;case"textarea":_t(i,c);break;case"select":a=c.value,a!=null&&Oe(i,!!c.multiple,a,!1)}},qh=Kv,Ch=Cl;var yR={usingClientEntryPoint:!1,Events:[_d,xu,Qh,nr,Ih,Kv]},Pd={findFiberByHostInstance:wl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vR={bundleType:Pd.bundleType,version:Pd.version,rendererPackageName:Pd.rendererPackageName,rendererConfig:Pd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Rh(i),i===null?null:i.stateNode},findFiberByHostInstance:Pd.findFiberByHostInstance||mR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Op=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Op.isDisabled&&Op.supportsFiber)try{pu=Op.inject(vR),hs=Op}catch{}}return ji.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yR,ji.createPortal=function(i,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nb(a))throw Error(r(200));return pR(i,a,null,c)},ji.createRoot=function(i,a){if(!nb(i))throw Error(r(299));var c=!1,g="",x=mN;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(x=a.onRecoverableError)),a=eb(i,1,!1,null,null,c,!1,g,x),i[$o]=a.current,yd(i.nodeType===8?i.parentNode:i),new rb(a)},ji.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=Rh(a),i=i===null?null:i.stateNode,i},ji.flushSync=function(i){return Cl(i)},ji.hydrate=function(i,a,c){if(!Cp(a))throw Error(r(200));return Tp(null,i,a,!0,c)},ji.hydrateRoot=function(i,a,c){if(!nb(i))throw Error(r(405));var g=c!=null&&c.hydratedSources||null,x=!1,N="",P=mN;if(c!=null&&(c.unstable_strictMode===!0&&(x=!0),c.identifierPrefix!==void 0&&(N=c.identifierPrefix),c.onRecoverableError!==void 0&&(P=c.onRecoverableError)),a=hN(a,null,i,1,c??null,x,!1,N,P),i[$o]=a.current,yd(i),g)for(i=0;i<g.length;i++)c=g[i],x=c._getVersion,x=x(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,x]:a.mutableSourceEagerHydrationData.push(c,x);return new qp(a)},ji.render=function(i,a,c){if(!Cp(a))throw Error(r(200));return Tp(null,i,a,!1,c)},ji.unmountComponentAtNode=function(i){if(!Cp(i))throw Error(r(40));return i._reactRootContainer?(Cl(function(){Tp(null,null,i,!1,function(){i._reactRootContainer=null,i[$o]=null})}),!0):!1},ji.unstable_batchedUpdates=Kv,ji.unstable_renderSubtreeIntoContainer=function(i,a,c,g){if(!Cp(c))throw Error(r(200));if(i==null||i._reactInternals===void 0)throw Error(r(38));return Tp(i,a,c,!1,g)},ji.version="18.3.1-next-f1338f8080-20240426",ji}var KN;function KI(){if(KN)return mb.exports;KN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),mb.exports=YA(),mb.exports}var Kw=KI();const XA="Error preloading route! ☝️";function eP(t,e){const r=Ui(),[n,s]=K.useState(!1),o=K.useRef(!1),l=EA(e),{activeProps:u=()=>({className:"active"}),inactiveProps:d=()=>({}),activeOptions:m,to:y,preload:w,preloadDelay:E,hashScrollIntoView:k,replace:q,startTransition:C,resetScroll:A,viewTransition:D,children:F,target:$,disabled:H,style:G,className:B,onClick:Z,onFocus:ie,onMouseEnter:V,onMouseLeave:ne,onTouchStart:M,ignoreBlocker:oe,...Y}=t,{params:me,search:Te,hash:Ce,state:je,mask:be,reloadDocument:ge,...Ee}=Y,Q=K.useMemo(()=>{try{return new URL(`${y}`),"external"}catch{}return"internal"},[y]),Se=wi({select:ye=>ye.location.search,structuralSharing:!0});t={from:tl({strict:!1,select:ye=>ye.pathname}),...t};const lt=K.useMemo(()=>r.buildLocation(t),[r,t,Se]),ft=K.useMemo(()=>t.reloadDocument?!1:w??r.options.defaultPreload,[r.options.defaultPreload,w,t.reloadDocument]),gt=E??r.options.defaultPreloadDelay??0,ht=wi({select:ye=>{if(m?.exact){if(!IA(ye.location.pathname,lt.pathname,r.basepath))return!1}else{const Oe=Dm(ye.location.pathname,r.basepath).split("/");if(!Dm(lt.pathname,r.basepath).split("/").every((_t,$t)=>_t===Oe[$t]))return!1}return(m?.includeSearch??!0)&&!ac(ye.location.search,lt.search,{partial:!m?.exact,ignoreUndefined:!m?.explicitUndefined})?!1:m?.includeHash?ye.location.hash===lt.hash:!0}}),vt=K.useCallback(()=>{r.preloadRoute(t).catch(ye=>{console.warn(ye),console.warn(XA)})},[t,r]),jt=K.useCallback(ye=>{ye?.isIntersecting&&vt()},[vt]);if(NA(l,jt,{rootMargin:"100px"},{disabled:!!H||ft!=="viewport"}),Ud(()=>{o.current||!H&&ft==="render"&&(vt(),o.current=!0)},[H,vt,ft]),Q==="external")return{...Ee,ref:l,type:Q,href:y,...F&&{children:F},...$&&{target:$},...H&&{disabled:H},...G&&{style:G},...B&&{className:B},...Z&&{onClick:Z},...ie&&{onFocus:ie},...V&&{onMouseEnter:V},...ne&&{onMouseLeave:ne},...M&&{onTouchStart:M}};const bt=ye=>{if(!H&&!rP(ye)&&!ye.defaultPrevented&&(!$||$==="_self")&&ye.button===0){ye.preventDefault(),Kw.flushSync(()=>{s(!0)});const Oe=r.subscribe("onResolved",()=>{Oe(),s(!1)});return r.navigate({...t,replace:q,resetScroll:A,hashScrollIntoView:k,startTransition:C,viewTransition:D,ignoreBlocker:oe})}},yt=ye=>{H||ft&&vt()},Ot=yt,Ct=ye=>{if(H)return;const Oe=ye.target||{};if(ft){if(Oe.preloadTimeout)return;Oe.preloadTimeout=setTimeout(()=>{Oe.preloadTimeout=null,vt()},gt)}},tr=ye=>{if(H)return;const Oe=ye.target||{};Oe.preloadTimeout&&(clearTimeout(Oe.preloadTimeout),Oe.preloadTimeout=null)},Yt=ye=>Oe=>{var De;(De=Oe.persist)==null||De.call(Oe),ye.filter(Boolean).forEach(Je=>{Oe.defaultPrevented||Je(Oe)})},sr=ht?$l(u,{})??{}:{},mr=ht?{}:$l(d,{}),le=[B,sr.className,mr.className].filter(Boolean).join(" "),ce={...G,...sr.style,...mr.style};return{...Ee,...sr,...mr,href:H?void 0:lt.maskedLocation?r.history.createHref(lt.maskedLocation.href):r.history.createHref(lt.href),ref:l,onClick:Yt([Z,bt]),onFocus:Yt([ie,yt]),onMouseEnter:Yt([V,Ct]),onMouseLeave:Yt([ne,tr]),onTouchStart:Yt([M,Ot]),disabled:!!H,target:$,...Object.keys(ce).length&&{style:ce},...le&&{className:le},...H&&{role:"link","aria-disabled":!0},...ht&&{"data-status":"active","aria-current":"page"},...n&&{"data-transitioning":"transitioning"}}}function GI(t){return K.forwardRef(function(r,n){return p.jsx(tP,{...r,_asChild:t,ref:n})})}const tP=K.forwardRef((t,e)=>{const{_asChild:r,...n}=t,{type:s,ref:o,...l}=eP(n,e),u=typeof n.children=="function"?n.children({isActive:l["data-status"]==="active"}):n.children;return typeof r>"u"&&delete l.disabled,K.createElement(r||"a",{...l,ref:o},u)});function rP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function nP(){const t=Ui(),e=K.useRef({router:t,mounted:!1}),r=wi({select:({isLoading:w})=>w}),[n,s]=K.useState(!1),o=wi({select:w=>w.matches.some(E=>E.status==="pending"),structuralSharing:!0}),l=fb(r),u=r||n||o,d=fb(u),m=r||o,y=fb(m);return t.isServer||(t.startReactTransition=w=>{s(!0),K.startTransition(()=>{w(),s(!1)})}),K.useEffect(()=>{const w=t.history.subscribe(t.load),E=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Wl(t.latestLocation.href)!==Wl(E.href)&&t.commitLocation({...E,replace:!0}),()=>{w()}},[t,t.history]),Ud(()=>{var w;if(typeof window<"u"&&((w=window.__TSR__)!=null&&w.dehydrated)||e.current.router===t&&e.current.mounted)return;e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(k){console.error(k)}})()},[t]),Ud(()=>{if(l&&!r){const w=t.state.location,E=t.state.resolvedLocation,k=E.pathname!==w.pathname,q=E.href!==w.href;t.emit({type:"onLoad",fromLocation:E,toLocation:w,pathChanged:k,hrefChanged:q})}},[l,t,r]),Ud(()=>{if(y&&!m){const w=t.state.location,E=t.state.resolvedLocation,k=E.pathname!==w.pathname,q=E.href!==w.href;t.emit({type:"onBeforeRouteMount",fromLocation:E,toLocation:w,pathChanged:k,hrefChanged:q})}},[m,y,t]),Ud(()=>{if(d&&!u){const w=t.state.location,E=t.state.resolvedLocation,k=E.pathname!==w.pathname,q=E.href!==w.href;if(t.emit({type:"onResolved",fromLocation:E,toLocation:w,pathChanged:k,hrefChanged:q}),t.__store.setState(C=>({...C,status:"idle",resolvedLocation:C.location})),typeof document<"u"&&document.querySelector){const C=t.state.location.state.__hashScrollIntoViewOptions??!0;if(C&&t.state.location.hash!==""){const A=document.getElementById(t.state.location.hash);A&&A.scrollIntoView(C)}}}},[u,d,t]),null}function iP(){const t=Ui(),e=t.options.defaultPendingComponent?p.jsx(t.options.defaultPendingComponent,{}):null,r=t.isServer||typeof document<"u"&&window.__TSR__?rm:K.Suspense,n=p.jsxs(r,{fallback:e,children:[p.jsx(nP,{}),p.jsx(sP,{})]});return t.options.InnerWrap?p.jsx(t.options.InnerWrap,{children:n}):n}function sP(){const t=wi({select:r=>{var n;return(n=r.matches[0])==null?void 0:n.id}}),e=wi({select:r=>r.loadedAt});return p.jsx(Tg.Provider,{value:t,children:p.jsx(Hw,{getResetKey:()=>e,errorComponent:Cg,onCatch:r=>{r.message||r.toString()},children:t?p.jsx(QI,{matchId:t}):null})})}function JI(){const t=Ui();return wi({select:e=>[e.location.href,e.resolvedLocation.href,e.status],structuralSharing:!0}),K.useCallback(e=>{const{pending:r,caseSensitive:n,fuzzy:s,includeSearch:o,...l}=e;return t.matchRoute(l,{pending:r,caseSensitive:n,fuzzy:s,includeSearch:o})},[t])}function oP({router:t,children:e,...r}){t.update({...t.options,...r,context:{...t.options.context,...r.context}});const n=zI(),s=p.jsx(n.Provider,{value:t,children:e});return t.options.Wrap?p.jsx(t.options.Wrap,{children:s}):s}function aP({router:t,...e}){return p.jsx(oP,{router:t,...e,children:p.jsx(iP,{})})}const lP=typeof window<"u"?K.useLayoutEffect:K.useEffect,vb="window",GN="___";let bb=new WeakSet;const uP=typeof window<"u"&&window.sessionStorage,Us=uP?(()=>{const t="tsr-scroll-restoration-v2";return{state:JSON.parse(window.sessionStorage.getItem(t)||"null")||{cached:{},next:{}},set:r=>{Us.state=$l(r,Us.state),window.sessionStorage.setItem(t,JSON.stringify(Us.state))}}})():void 0,cP=t=>t.state.key||t.href;function dP(t){const e=Ui();lP(()=>{const r=t?.getKey||cP,{history:n}=window;n.scrollRestoration="manual";const s=u=>{if(bb.has(u.target))return;bb.add(u.target);let d="";if(u.target===document||u.target===window)d=vb;else{const m=u.target.getAttribute("data-scroll-restoration-id");m?d=`[data-scroll-restoration-id="${m}"]`:d=hP(u.target)}Us.state.next[d]||Us.set(m=>({...m,next:{...m.next,[d]:{scrollX:NaN,scrollY:NaN}}}))};typeof document<"u"&&document.addEventListener("scroll",s,!0);const o=e.subscribe("onBeforeLoad",u=>{if(u.hrefChanged){const d=r(u.fromLocation);for(const m in Us.state.next){const y=Us.state.next[m];if(m===vb)y.scrollX=window.scrollX||0,y.scrollY=window.scrollY||0;else if(m){const w=document.querySelector(m);y.scrollX=w?.scrollLeft||0,y.scrollY=w?.scrollTop||0}Us.set(w=>{const E={...w.next};return delete E[m],{...w,next:E,cached:{...w.cached,[[d,m].join(GN)]:y}}})}}}),l=e.subscribe("onBeforeRouteMount",u=>{if(u.hrefChanged){if(!e.resetNextScroll)return;e.resetNextScroll=!0;const d=r(u.toLocation);let m=!1;for(const y in Us.state.cached){const w=Us.state.cached[y],[E,k]=y.split(GN);if(E===d){if(k===vb)m=!0,window.scrollTo(w.scrollX,w.scrollY);else if(k){const q=document.querySelector(k);q&&(q.scrollLeft=w.scrollX,q.scrollTop=w.scrollY)}}}m||window.scrollTo(0,0),Us.set(y=>({...y,next:{}})),bb=new WeakSet}});return()=>{document.removeEventListener("scroll",s),o(),l()}},[t?.getKey,e])}function fP(t){return dP(t),null}function hP(t){const e=[];let r;for(;r=t.parentNode;)e.unshift(`${t.tagName}:nth-child(${[].indexOf.call(r.children,t)+1})`),t=r;return`${e.join(" > ")}`.toLowerCase()}function zr(t){return tl({...t,select:e=>t.select?t.select(e.context):e.context})}let pP={data:""},mP=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||pP,gP=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,yP=/\/\*[^]*?\*\/|  +/g,JN=/\n+/g,Ba=(t,e)=>{let r="",n="",s="";for(let o in t){let l=t[o];o[0]=="@"?o[1]=="i"?r=o+" "+l+";":n+=o[1]=="f"?Ba(l,o):o+"{"+Ba(l,o[1]=="k"?"":e)+"}":typeof l=="object"?n+=Ba(l,e?e.replace(/([^,])+/g,u=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,u):u?u+" "+d:d)):o):l!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Ba.p?Ba.p(o,l):o+":"+l+";")}return r+(e&&s?e+"{"+s+"}":s)+n},Go={},ZI=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+ZI(t[r]);return e}return t},vP=(t,e,r,n,s)=>{let o=ZI(t),l=Go[o]||(Go[o]=(d=>{let m=0,y=11;for(;m<d.length;)y=101*y+d.charCodeAt(m++)>>>0;return"go"+y})(o));if(!Go[l]){let d=o!==t?t:(m=>{let y,w,E=[{}];for(;y=gP.exec(m.replace(yP,""));)y[4]?E.shift():y[3]?(w=y[3].replace(JN," ").trim(),E.unshift(E[0][w]=E[0][w]||{})):E[0][y[1]]=y[2].replace(JN," ").trim();return E[0]})(t);Go[l]=Ba(s?{["@keyframes "+l]:d}:d,r?"":"."+l)}let u=r&&Go.g?Go.g:null;return r&&(Go.g=Go[l]),((d,m,y,w)=>{w?m.data=m.data.replace(w,d):m.data.indexOf(d)===-1&&(m.data=y?d+m.data:m.data+d)})(Go[l],e,n,u),l},bP=(t,e,r)=>t.reduce((n,s,o)=>{let l=e[o];if(l&&l.call){let u=l(r),d=u&&u.props&&u.props.className||/^go/.test(u)&&u;l=d?"."+d:u&&typeof u=="object"?u.props?"":Ba(u,""):u===!1?"":u}return n+s+(l??"")},"");function Og(t){let e=this||{},r=t.call?t(e.p):t;return vP(r.unshift?r.raw?bP(r,[].slice.call(arguments,1),e.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(e.p):s),{}):r,mP(e.target),e.g,e.o,e.k)}let YI,K_,G_;Og.bind({g:1});let la=Og.bind({k:1});function _P(t,e,r,n){Ba.p=e,YI=t,K_=r,G_=n}function hl(t,e){let r=this||{};return function(){let n=arguments;function s(o,l){let u=Object.assign({},o),d=u.className||s.className;r.p=Object.assign({theme:K_&&K_()},u),r.o=/ *go\d+/.test(d),u.className=Og.apply(r,n)+(d?" "+d:"");let m=t;return t[0]&&(m=u.as||t,delete u.as),G_&&m[0]&&G_(u),YI(m,u)}return s}}var wP=t=>typeof t=="function",Bm=(t,e)=>wP(t)?t(e):t,xP=(()=>{let t=0;return()=>(++t).toString()})(),XI=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),SP=20,nm=new Map,NP=1e3,ZN=t=>{if(nm.has(t))return;let e=setTimeout(()=>{nm.delete(t),au({type:4,toastId:t})},NP);nm.set(t,e)},EP=t=>{let e=nm.get(t);e&&clearTimeout(e)},J_=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,SP)};case 1:return e.toast.id&&EP(e.toast.id),{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:r}=e;return t.toasts.find(o=>o.id===r.id)?J_(t,{type:1,toast:r}):J_(t,{type:0,toast:r});case 3:let{toastId:n}=e;return n?ZN(n):t.toasts.forEach(o=>{ZN(o.id)}),{...t,toasts:t.toasts.map(o=>o.id===n||n===void 0?{...o,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+s}))}}},im=[],sm={toasts:[],pausedAt:void 0},au=t=>{sm=J_(sm,t),im.forEach(e=>{e(sm)})},kP={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},IP=(t={})=>{let[e,r]=K.useState(sm);K.useEffect(()=>(im.push(r),()=>{let s=im.indexOf(r);s>-1&&im.splice(s,1)}),[e]);let n=e.toasts.map(s=>{var o,l;return{...t,...t[s.type],...s,duration:s.duration||((o=t[s.type])==null?void 0:o.duration)||t?.duration||kP[s.type],style:{...t.style,...(l=t[s.type])==null?void 0:l.style,...s.style}}});return{...e,toasts:n}},qP=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:r?.id||xP()}),Zf=t=>(e,r)=>{let n=qP(e,t,r);return au({type:2,toast:n}),n.id},fr=(t,e)=>Zf("blank")(t,e);fr.error=Zf("error");fr.success=Zf("success");fr.loading=Zf("loading");fr.custom=Zf("custom");fr.dismiss=t=>{au({type:3,toastId:t})};fr.remove=t=>au({type:4,toastId:t});fr.promise=(t,e,r)=>{let n=fr.loading(e.loading,{...r,...r?.loading});return t.then(s=>(fr.success(Bm(e.success,s),{id:n,...r,...r?.success}),s)).catch(s=>{fr.error(Bm(e.error,s),{id:n,...r,...r?.error})}),t};var CP=(t,e)=>{au({type:1,toast:{id:t,height:e}})},TP=()=>{au({type:5,time:Date.now()})},OP=t=>{let{toasts:e,pausedAt:r}=IP(t);K.useEffect(()=>{if(r)return;let o=Date.now(),l=e.map(u=>{if(u.duration===1/0)return;let d=(u.duration||0)+u.pauseDuration-(o-u.createdAt);if(d<0){u.visible&&fr.dismiss(u.id);return}return setTimeout(()=>fr.dismiss(u.id),d)});return()=>{l.forEach(u=>u&&clearTimeout(u))}},[e,r]);let n=K.useCallback(()=>{r&&au({type:6,time:Date.now()})},[r]),s=K.useCallback((o,l)=>{let{reverseOrder:u=!1,gutter:d=8,defaultPosition:m}=l||{},y=e.filter(k=>(k.position||m)===(o.position||m)&&k.height),w=y.findIndex(k=>k.id===o.id),E=y.filter((k,q)=>q<w&&k.visible).length;return y.filter(k=>k.visible).slice(...u?[E+1]:[0,E]).reduce((k,q)=>k+(q.height||0)+d,0)},[e]);return{toasts:e,handlers:{updateHeight:CP,startPause:TP,endPause:n,calculateOffset:s}}},RP=la`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,AP=la`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,PP=la`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,jP=hl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${RP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${AP} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${PP} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,FP=la`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,LP=hl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${FP} 1s linear infinite;
`,DP=la`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,MP=la`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,BP=hl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${DP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${MP} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,$P=hl("div")`
  position: absolute;
`,WP=hl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,zP=la`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,UP=hl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${zP} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,VP=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?K.createElement(UP,null,e):e:r==="blank"?null:K.createElement(WP,null,K.createElement(LP,{...n}),r!=="loading"&&K.createElement($P,null,r==="error"?K.createElement(jP,{...n}):K.createElement(BP,{...n})))},HP=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,QP=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,KP="0%{opacity:0;} 100%{opacity:1;}",GP="0%{opacity:1;} 100%{opacity:0;}",JP=hl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,ZP=hl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,YP=(t,e)=>{let r=t.includes("top")?1:-1,[n,s]=XI()?[KP,GP]:[HP(r),QP(r)];return{animation:e?`${la(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${la(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},XP=K.memo(({toast:t,position:e,style:r,children:n})=>{let s=t.height?YP(t.position||e||"top-center",t.visible):{opacity:0},o=K.createElement(VP,{toast:t}),l=K.createElement(ZP,{...t.ariaProps},Bm(t.message,t));return K.createElement(JP,{className:t.className,style:{...s,...r,...t.style}},typeof n=="function"?n({icon:o,message:l}):K.createElement(K.Fragment,null,o,l))});_P(K.createElement);var ej=({id:t,className:e,style:r,onHeightUpdate:n,children:s})=>{let o=K.useCallback(l=>{if(l){let u=()=>{let d=l.getBoundingClientRect().height;n(t,d)};u(),new MutationObserver(u).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return K.createElement("div",{ref:o,className:e,style:r},s)},tj=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:XI()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...s}},rj=Og`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,jp=16,nj=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:s,containerStyle:o,containerClassName:l})=>{let{toasts:u,handlers:d}=OP(r);return K.createElement("div",{style:{position:"fixed",zIndex:9999,top:jp,left:jp,right:jp,bottom:jp,pointerEvents:"none",...o},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},u.map(m=>{let y=m.position||e,w=d.calculateOffset(m,{reverseOrder:t,gutter:n,defaultPosition:e}),E=tj(y,w);return K.createElement(ej,{id:m.id,key:m.id,onHeightUpdate:d.updateHeight,className:m.visible?rj:"",style:E},m.type==="custom"?Bm(m.message,m):s?s(m):K.createElement(XP,{toast:m,position:y}))}))},ij=fr;class lu extends Error{}class sj extends lu{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class oj extends lu{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class aj extends lu{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Zu extends lu{}class eq extends lu{constructor(e){super(`Invalid unit ${e}`)}}class si extends lu{}class Ra extends lu{constructor(){super("Zone is an abstract class")}}const Nt="numeric",Ys="short",ss="long",$m={year:Nt,month:Nt,day:Nt},tq={year:Nt,month:Ys,day:Nt},lj={year:Nt,month:Ys,day:Nt,weekday:Ys},rq={year:Nt,month:ss,day:Nt},nq={year:Nt,month:ss,day:Nt,weekday:ss},iq={hour:Nt,minute:Nt},sq={hour:Nt,minute:Nt,second:Nt},oq={hour:Nt,minute:Nt,second:Nt,timeZoneName:Ys},aq={hour:Nt,minute:Nt,second:Nt,timeZoneName:ss},lq={hour:Nt,minute:Nt,hourCycle:"h23"},uq={hour:Nt,minute:Nt,second:Nt,hourCycle:"h23"},cq={hour:Nt,minute:Nt,second:Nt,hourCycle:"h23",timeZoneName:Ys},dq={hour:Nt,minute:Nt,second:Nt,hourCycle:"h23",timeZoneName:ss},fq={year:Nt,month:Nt,day:Nt,hour:Nt,minute:Nt},hq={year:Nt,month:Nt,day:Nt,hour:Nt,minute:Nt,second:Nt},pq={year:Nt,month:Ys,day:Nt,hour:Nt,minute:Nt},mq={year:Nt,month:Ys,day:Nt,hour:Nt,minute:Nt,second:Nt},uj={year:Nt,month:Ys,day:Nt,weekday:Ys,hour:Nt,minute:Nt},gq={year:Nt,month:ss,day:Nt,hour:Nt,minute:Nt,timeZoneName:Ys},yq={year:Nt,month:ss,day:Nt,hour:Nt,minute:Nt,second:Nt,timeZoneName:Ys},vq={year:Nt,month:ss,day:Nt,weekday:ss,hour:Nt,minute:Nt,timeZoneName:ss},bq={year:Nt,month:ss,day:Nt,weekday:ss,hour:Nt,minute:Nt,second:Nt,timeZoneName:ss};class Yf{get type(){throw new Ra}get name(){throw new Ra}get ianaName(){return this.name}get isUniversal(){throw new Ra}offsetName(e,r){throw new Ra}formatOffset(e,r){throw new Ra}offset(e){throw new Ra}equals(e){throw new Ra}get isValid(){throw new Ra}}let _b=null;class Rg extends Yf{static get instance(){return _b===null&&(_b=new Rg),_b}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return qq(e,r,n)}formatOffset(e,r){return af(this.offset(e),r)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let om={};function cj(t){return om[t]||(om[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),om[t]}const dj={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function fj(t,e){const r=t.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,s,o,l,u,d,m,y]=n;return[l,s,o,u,d,m,y]}function hj(t,e){const r=t.formatToParts(e),n=[];for(let s=0;s<r.length;s++){const{type:o,value:l}=r[s],u=dj[o];o==="era"?n[u]=l:er(u)||(n[u]=parseInt(l,10))}return n}let Fp={};class ua extends Yf{static create(e){return Fp[e]||(Fp[e]=new ua(e)),Fp[e]}static resetCache(){Fp={},om={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=ua.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return qq(e,r,n,this.name)}formatOffset(e,r){return af(this.offset(e),r)}offset(e){const r=new Date(e);if(isNaN(r))return NaN;const n=cj(this.name);let[s,o,l,u,d,m,y]=n.formatToParts?hj(n,r):fj(n,r);u==="BC"&&(s=-Math.abs(s)+1);const E=Pg({year:s,month:o,day:l,hour:d===24?0:d,minute:m,second:y,millisecond:0});let k=+r;const q=k%1e3;return k-=q>=0?q:1e3+q,(E-k)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let YN={};function pj(t,e={}){const r=JSON.stringify([t,e]);let n=YN[r];return n||(n=new Intl.ListFormat(t,e),YN[r]=n),n}let Z_={};function Y_(t,e={}){const r=JSON.stringify([t,e]);let n=Z_[r];return n||(n=new Intl.DateTimeFormat(t,e),Z_[r]=n),n}let X_={};function mj(t,e={}){const r=JSON.stringify([t,e]);let n=X_[r];return n||(n=new Intl.NumberFormat(t,e),X_[r]=n),n}let ew={};function gj(t,e={}){const{base:r,...n}=e,s=JSON.stringify([t,n]);let o=ew[s];return o||(o=new Intl.RelativeTimeFormat(t,e),ew[s]=o),o}let Vd=null;function yj(){return Vd||(Vd=new Intl.DateTimeFormat().resolvedOptions().locale,Vd)}let XN={};function vj(t){let e=XN[t];if(!e){const r=new Intl.Locale(t);e="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,XN[t]=e}return e}function bj(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const r=t.indexOf("-u-");if(r===-1)return[t];{let n,s;try{n=Y_(t).resolvedOptions(),s=t}catch{const d=t.substring(0,r);n=Y_(d).resolvedOptions(),s=d}const{numberingSystem:o,calendar:l}=n;return[s,o,l]}}function _j(t,e,r){return(r||e)&&(t.includes("-u-")||(t+="-u"),r&&(t+=`-ca-${r}`),e&&(t+=`-nu-${e}`)),t}function wj(t){const e=[];for(let r=1;r<=12;r++){const n=Xt.utc(2009,r,1);e.push(t(n))}return e}function xj(t){const e=[];for(let r=1;r<=7;r++){const n=Xt.utc(2016,11,13+r);e.push(t(n))}return e}function Lp(t,e,r,n){const s=t.listingMode();return s==="error"?null:s==="en"?r(e):n(e)}function Sj(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class Nj{constructor(e,r,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:s,floor:o,...l}=n;if(!r||Object.keys(l).length>0){const u={useGrouping:!1,...n};n.padTo>0&&(u.minimumIntegerDigits=n.padTo),this.inf=mj(e,u)}}format(e){if(this.inf){const r=this.floor?Math.floor(e):e;return this.inf.format(r)}else{const r=this.floor?Math.floor(e):Xw(e,3);return On(r,this.padTo)}}}class Ej{constructor(e,r,n){this.opts=n,this.originalZone=void 0;let s;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const l=-1*(e.offset/60),u=l>=0?`Etc/GMT+${l}`:`Etc/GMT${l}`;e.offset!==0&&ua.create(u).valid?(s=u,this.dt=e):(s="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,s=e.zone.name):(s="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const o={...this.opts};o.timeZone=o.timeZone||s,this.dtf=Y_(r,o)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(r=>{if(r.type==="timeZoneName"){const n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:n}}else return r}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class kj{constructor(e,r,n){this.opts={style:"long",...n},!r&&kq()&&(this.rtf=gj(e,n))}format(e,r){return this.rtf?this.rtf.format(e,r):Gj(r,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,r){return this.rtf?this.rtf.formatToParts(e,r):[]}}const Ij={firstDay:1,minimalDays:4,weekend:[6,7]};class Tr{static fromOpts(e){return Tr.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,r,n,s,o=!1){const l=e||gn.defaultLocale,u=l||(o?"en-US":yj()),d=r||gn.defaultNumberingSystem,m=n||gn.defaultOutputCalendar,y=tw(s)||gn.defaultWeekSettings;return new Tr(u,d,m,y,l)}static resetCache(){Vd=null,Z_={},X_={},ew={}}static fromObject({locale:e,numberingSystem:r,outputCalendar:n,weekSettings:s}={}){return Tr.create(e,r,n,s)}constructor(e,r,n,s,o){const[l,u,d]=bj(e);this.locale=l,this.numberingSystem=r||u||null,this.outputCalendar=n||d||null,this.weekSettings=s,this.intl=_j(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=o,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Sj(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&r?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Tr.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,tw(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,r=!1){return Lp(this,e,Oq,()=>{const n=r?{month:e,day:"numeric"}:{month:e},s=r?"format":"standalone";return this.monthsCache[s][e]||(this.monthsCache[s][e]=wj(o=>this.extract(o,n,"month"))),this.monthsCache[s][e]})}weekdays(e,r=!1){return Lp(this,e,Pq,()=>{const n=r?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},s=r?"format":"standalone";return this.weekdaysCache[s][e]||(this.weekdaysCache[s][e]=xj(o=>this.extract(o,n,"weekday"))),this.weekdaysCache[s][e]})}meridiems(){return Lp(this,void 0,()=>jq,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Xt.utc(2016,11,13,9),Xt.utc(2016,11,13,19)].map(r=>this.extract(r,e,"dayperiod"))}return this.meridiemCache})}eras(e){return Lp(this,e,Fq,()=>{const r={era:e};return this.eraCache[e]||(this.eraCache[e]=[Xt.utc(-40,1,1),Xt.utc(2017,1,1)].map(n=>this.extract(n,r,"era"))),this.eraCache[e]})}extract(e,r,n){const s=this.dtFormatter(e,r),o=s.formatToParts(),l=o.find(u=>u.type.toLowerCase()===n);return l?l.value:null}numberFormatter(e={}){return new Nj(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,r={}){return new Ej(e,this.intl,r)}relFormatter(e={}){return new kj(this.intl,this.isEnglish(),e)}listFormatter(e={}){return pj(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Iq()?vj(this.locale):Ij}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let wb=null;class vi extends Yf{static get utcInstance(){return wb===null&&(wb=new vi(0)),wb}static instance(e){return e===0?vi.utcInstance:new vi(e)}static parseSpecifier(e){if(e){const r=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new vi(jg(r[1],r[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${af(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${af(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,r){return af(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class qj extends Yf{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function $a(t,e){if(er(t)||t===null)return e;if(t instanceof Yf)return t;if(Pj(t)){const r=t.toLowerCase();return r==="default"?e:r==="local"||r==="system"?Rg.instance:r==="utc"||r==="gmt"?vi.utcInstance:vi.parseSpecifier(r)||ua.create(t)}else return Ka(t)?vi.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new qj(t)}const Gw={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},e1={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Cj=Gw.hanidec.replace(/[\[|\]]/g,"").split("");function Tj(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let r=0;r<t.length;r++){const n=t.charCodeAt(r);if(t[r].search(Gw.hanidec)!==-1)e+=Cj.indexOf(t[r]);else for(const s in e1){const[o,l]=e1[s];n>=o&&n<=l&&(e+=n-o)}}return parseInt(e,10)}else return e}let Qu={};function Oj(){Qu={}}function $s({numberingSystem:t},e=""){const r=t||"latn";return Qu[r]||(Qu[r]={}),Qu[r][e]||(Qu[r][e]=new RegExp(`${Gw[r]}${e}`)),Qu[r][e]}let t1=()=>Date.now(),r1="system",n1=null,i1=null,s1=null,o1=60,a1,l1=null;class gn{static get now(){return t1}static set now(e){t1=e}static set defaultZone(e){r1=e}static get defaultZone(){return $a(r1,Rg.instance)}static get defaultLocale(){return n1}static set defaultLocale(e){n1=e}static get defaultNumberingSystem(){return i1}static set defaultNumberingSystem(e){i1=e}static get defaultOutputCalendar(){return s1}static set defaultOutputCalendar(e){s1=e}static get defaultWeekSettings(){return l1}static set defaultWeekSettings(e){l1=tw(e)}static get twoDigitCutoffYear(){return o1}static set twoDigitCutoffYear(e){o1=e%100}static get throwOnInvalid(){return a1}static set throwOnInvalid(e){a1=e}static resetCaches(){Tr.resetCache(),ua.resetCache(),Xt.resetCache(),Oj()}}class Gs{constructor(e,r){this.reason=e,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const _q=[0,31,59,90,120,151,181,212,243,273,304,334],wq=[0,31,60,91,121,152,182,213,244,274,305,335];function Is(t,e){return new Gs("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function Jw(t,e,r){const n=new Date(Date.UTC(t,e-1,r));t<100&&t>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const s=n.getUTCDay();return s===0?7:s}function xq(t,e,r){return r+(Xf(t)?wq:_q)[e-1]}function Sq(t,e){const r=Xf(t)?wq:_q,n=r.findIndex(o=>o<e),s=e-r[n];return{month:n+1,day:s}}function Zw(t,e){return(t-e+7)%7+1}function Wm(t,e=4,r=1){const{year:n,month:s,day:o}=t,l=xq(n,s,o),u=Zw(Jw(n,s,o),r);let d=Math.floor((l-u+14-e)/7),m;return d<1?(m=n-1,d=wf(m,e,r)):d>wf(n,e,r)?(m=n+1,d=1):m=n,{weekYear:m,weekNumber:d,weekday:u,...Fg(t)}}function u1(t,e=4,r=1){const{weekYear:n,weekNumber:s,weekday:o}=t,l=Zw(Jw(n,1,e),r),u=lc(n);let d=s*7+o-l-7+e,m;d<1?(m=n-1,d+=lc(m)):d>u?(m=n+1,d-=lc(n)):m=n;const{month:y,day:w}=Sq(m,d);return{year:m,month:y,day:w,...Fg(t)}}function xb(t){const{year:e,month:r,day:n}=t,s=xq(e,r,n);return{year:e,ordinal:s,...Fg(t)}}function c1(t){const{year:e,ordinal:r}=t,{month:n,day:s}=Sq(e,r);return{year:e,month:n,day:s,...Fg(t)}}function d1(t,e){if(!er(t.localWeekday)||!er(t.localWeekNumber)||!er(t.localWeekYear)){if(!er(t.weekday)||!er(t.weekNumber)||!er(t.weekYear))throw new Zu("Cannot mix locale-based week fields with ISO-based week fields");return er(t.localWeekday)||(t.weekday=t.localWeekday),er(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),er(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function Rj(t,e=4,r=1){const n=Ag(t.weekYear),s=qs(t.weekNumber,1,wf(t.weekYear,e,r)),o=qs(t.weekday,1,7);return n?s?o?!1:Is("weekday",t.weekday):Is("week",t.weekNumber):Is("weekYear",t.weekYear)}function Aj(t){const e=Ag(t.year),r=qs(t.ordinal,1,lc(t.year));return e?r?!1:Is("ordinal",t.ordinal):Is("year",t.year)}function Nq(t){const e=Ag(t.year),r=qs(t.month,1,12),n=qs(t.day,1,zm(t.year,t.month));return e?r?n?!1:Is("day",t.day):Is("month",t.month):Is("year",t.year)}function Eq(t){const{hour:e,minute:r,second:n,millisecond:s}=t,o=qs(e,0,23)||e===24&&r===0&&n===0&&s===0,l=qs(r,0,59),u=qs(n,0,59),d=qs(s,0,999);return o?l?u?d?!1:Is("millisecond",s):Is("second",n):Is("minute",r):Is("hour",e)}function er(t){return typeof t>"u"}function Ka(t){return typeof t=="number"}function Ag(t){return typeof t=="number"&&t%1===0}function Pj(t){return typeof t=="string"}function jj(t){return Object.prototype.toString.call(t)==="[object Date]"}function kq(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Iq(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function Fj(t){return Array.isArray(t)?t:[t]}function f1(t,e,r){if(t.length!==0)return t.reduce((n,s)=>{const o=[e(s),s];return n&&r(n[0],o[0])===n[0]?n:o},null)[1]}function Lj(t,e){return e.reduce((r,n)=>(r[n]=t[n],r),{})}function Sc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function tw(t){if(t==null)return null;if(typeof t!="object")throw new si("Week settings must be an object");if(!qs(t.firstDay,1,7)||!qs(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!qs(e,1,7)))throw new si("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function qs(t,e,r){return Ag(t)&&t>=e&&t<=r}function Dj(t,e){return t-e*Math.floor(t/e)}function On(t,e=2){const r=t<0;let n;return r?n="-"+(""+-t).padStart(e,"0"):n=(""+t).padStart(e,"0"),n}function Da(t){if(!(er(t)||t===null||t===""))return parseInt(t,10)}function Al(t){if(!(er(t)||t===null||t===""))return parseFloat(t)}function Yw(t){if(!(er(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function Xw(t,e,r=!1){const n=10**e;return(r?Math.trunc:Math.round)(t*n)/n}function Xf(t){return t%4===0&&(t%100!==0||t%400===0)}function lc(t){return Xf(t)?366:365}function zm(t,e){const r=Dj(e-1,12)+1,n=t+(e-r)/12;return r===2?Xf(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function Pg(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function h1(t,e,r){return-Zw(Jw(t,1,e),r)+e-1}function wf(t,e=4,r=1){const n=h1(t,e,r),s=h1(t+1,e,r);return(lc(t)-n+s)/7}function rw(t){return t>99?t:t>gn.twoDigitCutoffYear?1900+t:2e3+t}function qq(t,e,r,n=null){const s=new Date(t),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(o.timeZone=n);const l={timeZoneName:e,...o},u=new Intl.DateTimeFormat(r,l).formatToParts(s).find(d=>d.type.toLowerCase()==="timezonename");return u?u.value:null}function jg(t,e){let r=parseInt(t,10);Number.isNaN(r)&&(r=0);const n=parseInt(e,10)||0,s=r<0||Object.is(r,-0)?-n:n;return r*60+s}function Cq(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new si(`Invalid unit value ${t}`);return e}function Um(t,e){const r={};for(const n in t)if(Sc(t,n)){const s=t[n];if(s==null)continue;r[e(n)]=Cq(s)}return r}function af(t,e){const r=Math.trunc(Math.abs(t/60)),n=Math.trunc(Math.abs(t%60)),s=t>=0?"+":"-";switch(e){case"short":return`${s}${On(r,2)}:${On(n,2)}`;case"narrow":return`${s}${r}${n>0?`:${n}`:""}`;case"techie":return`${s}${On(r,2)}${On(n,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Fg(t){return Lj(t,["hour","minute","second","millisecond"])}const Mj=["January","February","March","April","May","June","July","August","September","October","November","December"],Tq=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Bj=["J","F","M","A","M","J","J","A","S","O","N","D"];function Oq(t){switch(t){case"narrow":return[...Bj];case"short":return[...Tq];case"long":return[...Mj];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Rq=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Aq=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],$j=["M","T","W","T","F","S","S"];function Pq(t){switch(t){case"narrow":return[...$j];case"short":return[...Aq];case"long":return[...Rq];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const jq=["AM","PM"],Wj=["Before Christ","Anno Domini"],zj=["BC","AD"],Uj=["B","A"];function Fq(t){switch(t){case"narrow":return[...Uj];case"short":return[...zj];case"long":return[...Wj];default:return null}}function Vj(t){return jq[t.hour<12?0:1]}function Hj(t,e){return Pq(e)[t.weekday-1]}function Qj(t,e){return Oq(e)[t.month-1]}function Kj(t,e){return Fq(e)[t.year<0?0:1]}function Gj(t,e,r="always",n=!1){const s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=["hours","minutes","seconds"].indexOf(t)===-1;if(r==="auto"&&o){const w=t==="days";switch(e){case 1:return w?"tomorrow":`next ${s[t][0]}`;case-1:return w?"yesterday":`last ${s[t][0]}`;case 0:return w?"today":`this ${s[t][0]}`}}const l=Object.is(e,-0)||e<0,u=Math.abs(e),d=u===1,m=s[t],y=n?d?m[1]:m[2]||m[1]:d?s[t][0]:t;return l?`${u} ${y} ago`:`in ${u} ${y}`}function p1(t,e){let r="";for(const n of t)n.literal?r+=n.val:r+=e(n.val);return r}const Jj={D:$m,DD:tq,DDD:rq,DDDD:nq,t:iq,tt:sq,ttt:oq,tttt:aq,T:lq,TT:uq,TTT:cq,TTTT:dq,f:fq,ff:pq,fff:gq,ffff:vq,F:hq,FF:mq,FFF:yq,FFFF:bq};class ai{static create(e,r={}){return new ai(e,r)}static parseFormat(e){let r=null,n="",s=!1;const o=[];for(let l=0;l<e.length;l++){const u=e.charAt(l);u==="'"?(n.length>0&&o.push({literal:s||/^\s+$/.test(n),val:n}),r=null,n="",s=!s):s||u===r?n+=u:(n.length>0&&o.push({literal:/^\s+$/.test(n),val:n}),n=u,r=u)}return n.length>0&&o.push({literal:s||/^\s+$/.test(n),val:n}),o}static macroTokenToFormatOpts(e){return Jj[e]}constructor(e,r){this.opts=r,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...r}).format()}dtFormatter(e,r={}){return this.loc.dtFormatter(e,{...this.opts,...r})}formatDateTime(e,r){return this.dtFormatter(e,r).format()}formatDateTimeParts(e,r){return this.dtFormatter(e,r).formatToParts()}formatInterval(e,r){return this.dtFormatter(e.start,r).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,r){return this.dtFormatter(e,r).resolvedOptions()}num(e,r=0){if(this.opts.forceSimple)return On(e,r);const n={...this.opts};return r>0&&(n.padTo=r),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,r){const n=this.loc.listingMode()==="en",s=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",o=(k,q)=>this.loc.extract(e,k,q),l=k=>e.isOffsetFixed&&e.offset===0&&k.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,k.format):"",u=()=>n?Vj(e):o({hour:"numeric",hourCycle:"h12"},"dayperiod"),d=(k,q)=>n?Qj(e,k):o(q?{month:k}:{month:k,day:"numeric"},"month"),m=(k,q)=>n?Hj(e,k):o(q?{weekday:k}:{weekday:k,month:"long",day:"numeric"},"weekday"),y=k=>{const q=ai.macroTokenToFormatOpts(k);return q?this.formatWithSystemDefault(e,q):k},w=k=>n?Kj(e,k):o({era:k},"era"),E=k=>{switch(k){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return l({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return l({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return l({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return u();case"d":return s?o({day:"numeric"},"day"):this.num(e.day);case"dd":return s?o({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return m("short",!0);case"cccc":return m("long",!0);case"ccccc":return m("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return m("short",!1);case"EEEE":return m("long",!1);case"EEEEE":return m("narrow",!1);case"L":return s?o({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return s?o({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return d("short",!0);case"LLLL":return d("long",!0);case"LLLLL":return d("narrow",!0);case"M":return s?o({month:"numeric"},"month"):this.num(e.month);case"MM":return s?o({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return d("short",!1);case"MMMM":return d("long",!1);case"MMMMM":return d("narrow",!1);case"y":return s?o({year:"numeric"},"year"):this.num(e.year);case"yy":return s?o({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return s?o({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return s?o({year:"numeric"},"year"):this.num(e.year,6);case"G":return w("short");case"GG":return w("long");case"GGGGG":return w("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return y(k)}};return p1(ai.parseFormat(r),E)}formatDurationFromString(e,r){const n=d=>{switch(d[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},s=d=>m=>{const y=n(m);return y?this.num(d.get(y),m.length):m},o=ai.parseFormat(r),l=o.reduce((d,{literal:m,val:y})=>m?d:d.concat(y),[]),u=e.shiftTo(...l.map(n).filter(d=>d));return p1(o,s(u))}}const Lq=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function jc(...t){const e=t.reduce((r,n)=>r+n.source,"");return RegExp(`^${e}$`)}function Fc(...t){return e=>t.reduce(([r,n,s],o)=>{const[l,u,d]=o(e,s);return[{...r,...l},u||n,d]},[{},null,1]).slice(0,2)}function Lc(t,...e){if(t==null)return[null,null];for(const[r,n]of e){const s=r.exec(t);if(s)return n(s)}return[null,null]}function Dq(...t){return(e,r)=>{const n={};let s;for(s=0;s<t.length;s++)n[t[s]]=Da(e[r+s]);return[n,null,r+s]}}const Mq=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Zj=`(?:${Mq.source}?(?:\\[(${Lq.source})\\])?)?`,e0=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Bq=RegExp(`${e0.source}${Zj}`),t0=RegExp(`(?:T${Bq.source})?`),Yj=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Xj=/(\d{4})-?W(\d\d)(?:-?(\d))?/,eF=/(\d{4})-?(\d{3})/,tF=Dq("weekYear","weekNumber","weekDay"),rF=Dq("year","ordinal"),nF=/(\d{4})-(\d\d)-(\d\d)/,$q=RegExp(`${e0.source} ?(?:${Mq.source}|(${Lq.source}))?`),iF=RegExp(`(?: ${$q.source})?`);function uc(t,e,r){const n=t[e];return er(n)?r:Da(n)}function sF(t,e){return[{year:uc(t,e),month:uc(t,e+1,1),day:uc(t,e+2,1)},null,e+3]}function Dc(t,e){return[{hours:uc(t,e,0),minutes:uc(t,e+1,0),seconds:uc(t,e+2,0),milliseconds:Yw(t[e+3])},null,e+4]}function eh(t,e){const r=!t[e]&&!t[e+1],n=jg(t[e+1],t[e+2]),s=r?null:vi.instance(n);return[{},s,e+3]}function th(t,e){const r=t[e]?ua.create(t[e]):null;return[{},r,e+1]}const oF=RegExp(`^T?${e0.source}$`),aF=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function lF(t){const[e,r,n,s,o,l,u,d,m]=t,y=e[0]==="-",w=d&&d[0]==="-",E=(k,q=!1)=>k!==void 0&&(q||k&&y)?-k:k;return[{years:E(Al(r)),months:E(Al(n)),weeks:E(Al(s)),days:E(Al(o)),hours:E(Al(l)),minutes:E(Al(u)),seconds:E(Al(d),d==="-0"),milliseconds:E(Yw(m),w)}]}const uF={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function r0(t,e,r,n,s,o,l){const u={year:e.length===2?rw(Da(e)):Da(e),month:Tq.indexOf(r)+1,day:Da(n),hour:Da(s),minute:Da(o)};return l&&(u.second=Da(l)),t&&(u.weekday=t.length>3?Rq.indexOf(t)+1:Aq.indexOf(t)+1),u}const cF=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function dF(t){const[,e,r,n,s,o,l,u,d,m,y,w]=t,E=r0(e,s,n,r,o,l,u);let k;return d?k=uF[d]:m?k=0:k=jg(y,w),[E,new vi(k)]}function fF(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const hF=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,pF=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,mF=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function m1(t){const[,e,r,n,s,o,l,u]=t;return[r0(e,s,n,r,o,l,u),vi.utcInstance]}function gF(t){const[,e,r,n,s,o,l,u]=t;return[r0(e,u,r,n,s,o,l),vi.utcInstance]}const yF=jc(Yj,t0),vF=jc(Xj,t0),bF=jc(eF,t0),_F=jc(Bq),Wq=Fc(sF,Dc,eh,th),wF=Fc(tF,Dc,eh,th),xF=Fc(rF,Dc,eh,th),SF=Fc(Dc,eh,th);function NF(t){return Lc(t,[yF,Wq],[vF,wF],[bF,xF],[_F,SF])}function EF(t){return Lc(fF(t),[cF,dF])}function kF(t){return Lc(t,[hF,m1],[pF,m1],[mF,gF])}function IF(t){return Lc(t,[aF,lF])}const qF=Fc(Dc);function CF(t){return Lc(t,[oF,qF])}const TF=jc(nF,iF),OF=jc($q),RF=Fc(Dc,eh,th);function AF(t){return Lc(t,[TF,Wq],[OF,RF])}const g1="Invalid Duration",zq={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},PF={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...zq},ws=146097/400,Lu=146097/4800,jF={years:{quarters:4,months:12,weeks:ws/7,days:ws,hours:ws*24,minutes:ws*24*60,seconds:ws*24*60*60,milliseconds:ws*24*60*60*1e3},quarters:{months:3,weeks:ws/28,days:ws/4,hours:ws*24/4,minutes:ws*24*60/4,seconds:ws*24*60*60/4,milliseconds:ws*24*60*60*1e3/4},months:{weeks:Lu/7,days:Lu,hours:Lu*24,minutes:Lu*24*60,seconds:Lu*24*60*60,milliseconds:Lu*24*60*60*1e3},...zq},zl=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],FF=zl.slice(0).reverse();function Aa(t,e,r=!1){const n={values:r?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new br(n)}function Uq(t,e){let r=e.milliseconds??0;for(const n of FF.slice(1))e[n]&&(r+=e[n]*t[n].milliseconds);return r}function y1(t,e){const r=Uq(t,e)<0?-1:1;zl.reduceRight((n,s)=>{if(er(e[s]))return n;if(n){const o=e[n]*r,l=t[s][n],u=Math.floor(o/l);e[s]+=u*r,e[n]-=u*l*r}return s},null),zl.reduce((n,s)=>{if(er(e[s]))return n;if(n){const o=e[n]%1;e[n]-=o,e[s]+=o*t[n][s]}return s},null)}function LF(t){const e={};for(const[r,n]of Object.entries(t))n!==0&&(e[r]=n);return e}class br{constructor(e){const r=e.conversionAccuracy==="longterm"||!1;let n=r?jF:PF;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||Tr.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,r){return br.fromObject({milliseconds:e},r)}static fromObject(e,r={}){if(e==null||typeof e!="object")throw new si(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new br({values:Um(e,br.normalizeUnit),loc:Tr.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(e){if(Ka(e))return br.fromMillis(e);if(br.isDuration(e))return e;if(typeof e=="object")return br.fromObject(e);throw new si(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,r){const[n]=IF(e);return n?br.fromObject(n,r):br.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,r){const[n]=CF(e);return n?br.fromObject(n,r):br.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,r=null){if(!e)throw new si("need to specify a reason the Duration is invalid");const n=e instanceof Gs?e:new Gs(e,r);if(gn.throwOnInvalid)throw new aj(n);return new br({invalid:n})}static normalizeUnit(e){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!r)throw new eq(e);return r}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,r={}){const n={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?ai.create(this.loc,n).formatDurationFromString(this,e):g1}toHuman(e={}){if(!this.isValid)return g1;const r=zl.map(n=>{const s=this.values[n];return er(s)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:n.slice(0,-1)}).format(s)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Xw(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const r=this.toMillis();return r<0||r>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},Xt.fromMillis(r,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Uq(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const r=br.fromDurationLike(e),n={};for(const s of zl)(Sc(r.values,s)||Sc(this.values,s))&&(n[s]=r.get(s)+this.get(s));return Aa(this,{values:n},!0)}minus(e){if(!this.isValid)return this;const r=br.fromDurationLike(e);return this.plus(r.negate())}mapUnits(e){if(!this.isValid)return this;const r={};for(const n of Object.keys(this.values))r[n]=Cq(e(this.values[n],n));return Aa(this,{values:r},!0)}get(e){return this[br.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const r={...this.values,...Um(e,br.normalizeUnit)};return Aa(this,{values:r})}reconfigure({locale:e,numberingSystem:r,conversionAccuracy:n,matrix:s}={}){const l={loc:this.loc.clone({locale:e,numberingSystem:r}),matrix:s,conversionAccuracy:n};return Aa(this,l)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return y1(this.matrix,e),Aa(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=LF(this.normalize().shiftToAll().toObject());return Aa(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(l=>br.normalizeUnit(l));const r={},n={},s=this.toObject();let o;for(const l of zl)if(e.indexOf(l)>=0){o=l;let u=0;for(const m in n)u+=this.matrix[m][l]*n[m],n[m]=0;Ka(s[l])&&(u+=s[l]);const d=Math.trunc(u);r[l]=d,n[l]=(u*1e3-d*1e3)/1e3}else Ka(s[l])&&(n[l]=s[l]);for(const l in n)n[l]!==0&&(r[o]+=l===o?n[l]:n[l]/this.matrix[o][l]);return y1(this.matrix,r),Aa(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const r of Object.keys(this.values))e[r]=this.values[r]===0?0:-this.values[r];return Aa(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function r(n,s){return n===void 0||n===0?s===void 0||s===0:n===s}for(const n of zl)if(!r(this.values[n],e.values[n]))return!1;return!0}}const Du="Invalid Interval";function DF(t,e){return!t||!t.isValid?mn.invalid("missing or invalid start"):!e||!e.isValid?mn.invalid("missing or invalid end"):e<t?mn.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class mn{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,r=null){if(!e)throw new si("need to specify a reason the Interval is invalid");const n=e instanceof Gs?e:new Gs(e,r);if(gn.throwOnInvalid)throw new oj(n);return new mn({invalid:n})}static fromDateTimes(e,r){const n=Fd(e),s=Fd(r),o=DF(n,s);return o??new mn({start:n,end:s})}static after(e,r){const n=br.fromDurationLike(r),s=Fd(e);return mn.fromDateTimes(s,s.plus(n))}static before(e,r){const n=br.fromDurationLike(r),s=Fd(e);return mn.fromDateTimes(s.minus(n),s)}static fromISO(e,r){const[n,s]=(e||"").split("/",2);if(n&&s){let o,l;try{o=Xt.fromISO(n,r),l=o.isValid}catch{l=!1}let u,d;try{u=Xt.fromISO(s,r),d=u.isValid}catch{d=!1}if(l&&d)return mn.fromDateTimes(o,u);if(l){const m=br.fromISO(s,r);if(m.isValid)return mn.after(o,m)}else if(d){const m=br.fromISO(n,r);if(m.isValid)return mn.before(u,m)}}return mn.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",r){if(!this.isValid)return NaN;const n=this.start.startOf(e,r);let s;return r?.useLocaleWeeks?s=this.end.reconfigure({locale:n.locale}):s=this.end,s=s.startOf(e,r),Math.floor(s.diff(n,e).get(e))+(s.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:r}={}){return this.isValid?mn.fromDateTimes(e||this.s,r||this.e):this}splitAt(...e){if(!this.isValid)return[];const r=e.map(Fd).filter(l=>this.contains(l)).sort((l,u)=>l.toMillis()-u.toMillis()),n=[];let{s}=this,o=0;for(;s<this.e;){const l=r[o]||this.e,u=+l>+this.e?this.e:l;n.push(mn.fromDateTimes(s,u)),s=u,o+=1}return n}splitBy(e){const r=br.fromDurationLike(e);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:n}=this,s=1,o;const l=[];for(;n<this.e;){const u=this.start.plus(r.mapUnits(d=>d*s));o=+u>+this.e?this.e:u,l.push(mn.fromDateTimes(n,o)),n=o,s+=1}return l}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const r=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return r>=n?null:mn.fromDateTimes(r,n)}union(e){if(!this.isValid)return this;const r=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return mn.fromDateTimes(r,n)}static merge(e){const[r,n]=e.sort((s,o)=>s.s-o.s).reduce(([s,o],l)=>o?o.overlaps(l)||o.abutsStart(l)?[s,o.union(l)]:[s.concat([o]),l]:[s,l],[[],null]);return n&&r.push(n),r}static xor(e){let r=null,n=0;const s=[],o=e.map(d=>[{time:d.s,type:"s"},{time:d.e,type:"e"}]),l=Array.prototype.concat(...o),u=l.sort((d,m)=>d.time-m.time);for(const d of u)n+=d.type==="s"?1:-1,n===1?r=d.time:(r&&+r!=+d.time&&s.push(mn.fromDateTimes(r,d.time)),r=null);return mn.merge(s)}difference(...e){return mn.xor([this].concat(e)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:Du}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=$m,r={}){return this.isValid?ai.create(this.s.loc.clone(r),e).formatInterval(this):Du}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Du}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Du}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Du}toFormat(e,{separator:r=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${r}${this.e.toFormat(e)}`:Du}toDuration(e,r){return this.isValid?this.e.diff(this.s,e,r):br.invalid(this.invalidReason)}mapEndpoints(e){return mn.fromDateTimes(e(this.s),e(this.e))}}class Dp{static hasDST(e=gn.defaultZone){const r=Xt.now().setZone(e).set({month:12});return!e.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(e){return ua.isValidZone(e)}static normalizeZone(e){return $a(e,gn.defaultZone)}static getStartOfWeek({locale:e=null,locObj:r=null}={}){return(r||Tr.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:r=null}={}){return(r||Tr.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:r=null}={}){return(r||Tr.create(e)).getWeekendDays().slice()}static months(e="long",{locale:r=null,numberingSystem:n=null,locObj:s=null,outputCalendar:o="gregory"}={}){return(s||Tr.create(r,n,o)).months(e)}static monthsFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:s=null,outputCalendar:o="gregory"}={}){return(s||Tr.create(r,n,o)).months(e,!0)}static weekdays(e="long",{locale:r=null,numberingSystem:n=null,locObj:s=null}={}){return(s||Tr.create(r,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:s=null}={}){return(s||Tr.create(r,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Tr.create(e).meridiems()}static eras(e="short",{locale:r=null}={}){return Tr.create(r,null,"gregory").eras(e)}static features(){return{relative:kq(),localeWeek:Iq()}}}function v1(t,e){const r=s=>s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(e)-r(t);return Math.floor(br.fromMillis(n).as("days"))}function MF(t,e,r){const n=[["years",(d,m)=>m.year-d.year],["quarters",(d,m)=>m.quarter-d.quarter+(m.year-d.year)*4],["months",(d,m)=>m.month-d.month+(m.year-d.year)*12],["weeks",(d,m)=>{const y=v1(d,m);return(y-y%7)/7}],["days",v1]],s={},o=t;let l,u;for(const[d,m]of n)r.indexOf(d)>=0&&(l=d,s[d]=m(t,e),u=o.plus(s),u>e?(s[d]--,t=o.plus(s),t>e&&(u=t,s[d]--,t=o.plus(s))):t=u);return[t,s,u,l]}function BF(t,e,r,n){let[s,o,l,u]=MF(t,e,r);const d=e-s,m=r.filter(w=>["hours","minutes","seconds","milliseconds"].indexOf(w)>=0);m.length===0&&(l<e&&(l=s.plus({[u]:1})),l!==s&&(o[u]=(o[u]||0)+d/(l-s)));const y=br.fromObject(o,n);return m.length>0?br.fromMillis(d,n).shiftTo(...m).plus(y):y}const $F="missing Intl.DateTimeFormat.formatToParts support";function Er(t,e=r=>r){return{regex:t,deser:([r])=>e(Tj(r))}}const WF="\xa0",Vq=`[ ${WF}]`,Hq=new RegExp(Vq,"g");function zF(t){return t.replace(/\./g,"\\.?").replace(Hq,Vq)}function b1(t){return t.replace(/\./g,"").replace(Hq," ").toLowerCase()}function Ws(t,e){return t===null?null:{regex:RegExp(t.map(zF).join("|")),deser:([r])=>t.findIndex(n=>b1(r)===b1(n))+e}}function _1(t,e){return{regex:t,deser:([,r,n])=>jg(r,n),groups:e}}function Mp(t){return{regex:t,deser:([e])=>e}}function UF(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function VF(t,e){const r=$s(e),n=$s(e,"{2}"),s=$s(e,"{3}"),o=$s(e,"{4}"),l=$s(e,"{6}"),u=$s(e,"{1,2}"),d=$s(e,"{1,3}"),m=$s(e,"{1,6}"),y=$s(e,"{1,9}"),w=$s(e,"{2,4}"),E=$s(e,"{4,6}"),k=A=>({regex:RegExp(UF(A.val)),deser:([D])=>D,literal:!0}),C=(A=>{if(t.literal)return k(A);switch(A.val){case"G":return Ws(e.eras("short"),0);case"GG":return Ws(e.eras("long"),0);case"y":return Er(m);case"yy":return Er(w,rw);case"yyyy":return Er(o);case"yyyyy":return Er(E);case"yyyyyy":return Er(l);case"M":return Er(u);case"MM":return Er(n);case"MMM":return Ws(e.months("short",!0),1);case"MMMM":return Ws(e.months("long",!0),1);case"L":return Er(u);case"LL":return Er(n);case"LLL":return Ws(e.months("short",!1),1);case"LLLL":return Ws(e.months("long",!1),1);case"d":return Er(u);case"dd":return Er(n);case"o":return Er(d);case"ooo":return Er(s);case"HH":return Er(n);case"H":return Er(u);case"hh":return Er(n);case"h":return Er(u);case"mm":return Er(n);case"m":return Er(u);case"q":return Er(u);case"qq":return Er(n);case"s":return Er(u);case"ss":return Er(n);case"S":return Er(d);case"SSS":return Er(s);case"u":return Mp(y);case"uu":return Mp(u);case"uuu":return Er(r);case"a":return Ws(e.meridiems(),0);case"kkkk":return Er(o);case"kk":return Er(w,rw);case"W":return Er(u);case"WW":return Er(n);case"E":case"c":return Er(r);case"EEE":return Ws(e.weekdays("short",!1),1);case"EEEE":return Ws(e.weekdays("long",!1),1);case"ccc":return Ws(e.weekdays("short",!0),1);case"cccc":return Ws(e.weekdays("long",!0),1);case"Z":case"ZZ":return _1(new RegExp(`([+-]${u.source})(?::(${n.source}))?`),2);case"ZZZ":return _1(new RegExp(`([+-]${u.source})(${n.source})?`),2);case"z":return Mp(/[a-z_+-/]{1,256}?/i);case" ":return Mp(/[^\S\n\r]/);default:return k(A)}})(t)||{invalidReason:$F};return C.token=t,C}const HF={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function QF(t,e,r){const{type:n,value:s}=t;if(n==="literal"){const d=/^\s+$/.test(s);return{literal:!d,val:d?" ":s}}const o=e[n];let l=n;n==="hour"&&(e.hour12!=null?l=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?l="hour12":l="hour24":l=r.hour12?"hour12":"hour24");let u=HF[l];if(typeof u=="object"&&(u=u[o]),u)return{literal:!1,val:u}}function KF(t){return[`^${t.map(r=>r.regex).reduce((r,n)=>`${r}(${n.source})`,"")}$`,t]}function GF(t,e,r){const n=t.match(e);if(n){const s={};let o=1;for(const l in r)if(Sc(r,l)){const u=r[l],d=u.groups?u.groups+1:1;!u.literal&&u.token&&(s[u.token.val[0]]=u.deser(n.slice(o,o+d))),o+=d}return[n,s]}else return[n,{}]}function JF(t){const e=o=>{switch(o){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,n;return er(t.z)||(r=ua.create(t.z)),er(t.Z)||(r||(r=new vi(t.Z)),n=t.Z),er(t.q)||(t.M=(t.q-1)*3+1),er(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),er(t.u)||(t.S=Yw(t.u)),[Object.keys(t).reduce((o,l)=>{const u=e(l);return u&&(o[u]=t[l]),o},{}),r,n]}let Sb=null;function ZF(){return Sb||(Sb=Xt.fromMillis(0x16a2e5618e3)),Sb}function YF(t,e){if(t.literal)return t;const r=ai.macroTokenToFormatOpts(t.val),n=Jq(r,e);return n==null||n.includes(void 0)?t:n}function Qq(t,e){return Array.prototype.concat(...t.map(r=>YF(r,e)))}class Kq{constructor(e,r){if(this.locale=e,this.format=r,this.tokens=Qq(ai.parseFormat(r),e),this.units=this.tokens.map(n=>VF(n,e)),this.disqualifyingUnit=this.units.find(n=>n.invalidReason),!this.disqualifyingUnit){const[n,s]=KF(this.units);this.regex=RegExp(n,"i"),this.handlers=s}}explainFromTokens(e){if(this.isValid){const[r,n]=GF(e,this.regex,this.handlers),[s,o,l]=n?JF(n):[null,null,void 0];if(Sc(n,"a")&&Sc(n,"H"))throw new Zu("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:r,matches:n,result:s,zone:o,specificOffset:l}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function Gq(t,e,r){return new Kq(t,r).explainFromTokens(e)}function XF(t,e,r){const{result:n,zone:s,specificOffset:o,invalidReason:l}=Gq(t,e,r);return[n,s,o,l]}function Jq(t,e){if(!t)return null;const n=ai.create(e,t).dtFormatter(ZF()),s=n.formatToParts(),o=n.resolvedOptions();return s.map(l=>QF(l,t,o))}const Nb="Invalid DateTime",w1=864e13;function Hd(t){return new Gs("unsupported zone",`the zone "${t.name}" is not supported`)}function Eb(t){return t.weekData===null&&(t.weekData=Wm(t.c)),t.weekData}function kb(t){return t.localWeekData===null&&(t.localWeekData=Wm(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function Pl(t,e){const r={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new Xt({...r,...e,old:r})}function Zq(t,e,r){let n=t-e*60*1e3;const s=r.offset(n);if(e===s)return[n,e];n-=(s-e)*60*1e3;const o=r.offset(n);return s===o?[n,s]:[t-Math.min(s,o)*60*1e3,Math.max(s,o)]}function Bp(t,e){t+=e*60*1e3;const r=new Date(t);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function am(t,e,r){return Zq(Pg(t),e,r)}function x1(t,e){const r=t.o,n=t.c.year+Math.trunc(e.years),s=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,o={...t.c,year:n,month:s,day:Math.min(t.c.day,zm(n,s))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},l=br.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),u=Pg(o);let[d,m]=Zq(u,r,t.zone);return l!==0&&(d+=l,m=t.zone.offset(d)),{ts:d,o:m}}function Mu(t,e,r,n,s,o){const{setZone:l,zone:u}=r;if(t&&Object.keys(t).length!==0||e){const d=e||u,m=Xt.fromObject(t,{...r,zone:d,specificOffset:o});return l?m:m.setZone(u)}else return Xt.invalid(new Gs("unparsable",`the input "${s}" can't be parsed as ${n}`))}function $p(t,e,r=!0){return t.isValid?ai.create(Tr.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(t,e):null}function Ib(t,e){const r=t.c.year>9999||t.c.year<0;let n="";return r&&t.c.year>=0&&(n+="+"),n+=On(t.c.year,r?6:4),e?(n+="-",n+=On(t.c.month),n+="-",n+=On(t.c.day)):(n+=On(t.c.month),n+=On(t.c.day)),n}function S1(t,e,r,n,s,o){let l=On(t.c.hour);return e?(l+=":",l+=On(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!r)&&(l+=":")):l+=On(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!r)&&(l+=On(t.c.second),(t.c.millisecond!==0||!n)&&(l+=".",l+=On(t.c.millisecond,3))),s&&(t.isOffsetFixed&&t.offset===0&&!o?l+="Z":t.o<0?(l+="-",l+=On(Math.trunc(-t.o/60)),l+=":",l+=On(Math.trunc(-t.o%60))):(l+="+",l+=On(Math.trunc(t.o/60)),l+=":",l+=On(Math.trunc(t.o%60)))),o&&(l+="["+t.zone.ianaName+"]"),l}const Yq={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},eL={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},tL={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Xq=["year","month","day","hour","minute","second","millisecond"],rL=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],nL=["year","ordinal","hour","minute","second","millisecond"];function iL(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new eq(t);return e}function N1(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return iL(t)}}function sL(t){return um[t]||(lm===void 0&&(lm=gn.now()),um[t]=t.offset(lm)),um[t]}function E1(t,e){const r=$a(e.zone,gn.defaultZone);if(!r.isValid)return Xt.invalid(Hd(r));const n=Tr.fromObject(e);let s,o;if(er(t.year))s=gn.now();else{for(const d of Xq)er(t[d])&&(t[d]=Yq[d]);const l=Nq(t)||Eq(t);if(l)return Xt.invalid(l);const u=sL(r);[s,o]=am(t,u,r)}return new Xt({ts:s,zone:r,loc:n,o})}function k1(t,e,r){const n=er(r.round)?!0:r.round,s=(l,u)=>(l=Xw(l,n||r.calendary?0:2,!0),e.loc.clone(r).relFormatter(r).format(l,u)),o=l=>r.calendary?e.hasSame(t,l)?0:e.startOf(l).diff(t.startOf(l),l).get(l):e.diff(t,l).get(l);if(r.unit)return s(o(r.unit),r.unit);for(const l of r.units){const u=o(l);if(Math.abs(u)>=1)return s(u,l)}return s(t>e?-0:0,r.units[r.units.length-1])}function I1(t){let e={},r;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],r=Array.from(t).slice(0,t.length-1)):r=Array.from(t),[e,r]}let lm,um={};class Xt{constructor(e){const r=e.zone||gn.defaultZone;let n=e.invalid||(Number.isNaN(e.ts)?new Gs("invalid input"):null)||(r.isValid?null:Hd(r));this.ts=er(e.ts)?gn.now():e.ts;let s=null,o=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(r))[s,o]=[e.old.c,e.old.o];else{const u=Ka(e.o)&&!e.old?e.o:r.offset(this.ts);s=Bp(this.ts,u),n=Number.isNaN(s.year)?new Gs("invalid input"):null,s=n?null:s,o=n?null:u}this._zone=r,this.loc=e.loc||Tr.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=s,this.o=o,this.isLuxonDateTime=!0}static now(){return new Xt({})}static local(){const[e,r]=I1(arguments),[n,s,o,l,u,d,m]=r;return E1({year:n,month:s,day:o,hour:l,minute:u,second:d,millisecond:m},e)}static utc(){const[e,r]=I1(arguments),[n,s,o,l,u,d,m]=r;return e.zone=vi.utcInstance,E1({year:n,month:s,day:o,hour:l,minute:u,second:d,millisecond:m},e)}static fromJSDate(e,r={}){const n=jj(e)?e.valueOf():NaN;if(Number.isNaN(n))return Xt.invalid("invalid input");const s=$a(r.zone,gn.defaultZone);return s.isValid?new Xt({ts:n,zone:s,loc:Tr.fromObject(r)}):Xt.invalid(Hd(s))}static fromMillis(e,r={}){if(Ka(e))return e<-w1||e>w1?Xt.invalid("Timestamp out of range"):new Xt({ts:e,zone:$a(r.zone,gn.defaultZone),loc:Tr.fromObject(r)});throw new si(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,r={}){if(Ka(e))return new Xt({ts:e*1e3,zone:$a(r.zone,gn.defaultZone),loc:Tr.fromObject(r)});throw new si("fromSeconds requires a numerical input")}static fromObject(e,r={}){e=e||{};const n=$a(r.zone,gn.defaultZone);if(!n.isValid)return Xt.invalid(Hd(n));const s=Tr.fromObject(r),o=Um(e,N1),{minDaysInFirstWeek:l,startOfWeek:u}=d1(o,s),d=gn.now(),m=er(r.specificOffset)?n.offset(d):r.specificOffset,y=!er(o.ordinal),w=!er(o.year),E=!er(o.month)||!er(o.day),k=w||E,q=o.weekYear||o.weekNumber;if((k||y)&&q)throw new Zu("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(E&&y)throw new Zu("Can't mix ordinal dates with month/day");const C=q||o.weekday&&!k;let A,D,F=Bp(d,m);C?(A=rL,D=eL,F=Wm(F,l,u)):y?(A=nL,D=tL,F=xb(F)):(A=Xq,D=Yq);let $=!1;for(const ne of A){const M=o[ne];er(M)?$?o[ne]=D[ne]:o[ne]=F[ne]:$=!0}const H=C?Rj(o,l,u):y?Aj(o):Nq(o),G=H||Eq(o);if(G)return Xt.invalid(G);const B=C?u1(o,l,u):y?c1(o):o,[Z,ie]=am(B,m,n),V=new Xt({ts:Z,zone:n,o:ie,loc:s});return o.weekday&&k&&e.weekday!==V.weekday?Xt.invalid("mismatched weekday",`you can't specify both a weekday of ${o.weekday} and a date of ${V.toISO()}`):V.isValid?V:Xt.invalid(V.invalid)}static fromISO(e,r={}){const[n,s]=NF(e);return Mu(n,s,r,"ISO 8601",e)}static fromRFC2822(e,r={}){const[n,s]=EF(e);return Mu(n,s,r,"RFC 2822",e)}static fromHTTP(e,r={}){const[n,s]=kF(e);return Mu(n,s,r,"HTTP",r)}static fromFormat(e,r,n={}){if(er(e)||er(r))throw new si("fromFormat requires an input string and a format");const{locale:s=null,numberingSystem:o=null}=n,l=Tr.fromOpts({locale:s,numberingSystem:o,defaultToEN:!0}),[u,d,m,y]=XF(l,e,r);return y?Xt.invalid(y):Mu(u,d,n,`format ${r}`,e,m)}static fromString(e,r,n={}){return Xt.fromFormat(e,r,n)}static fromSQL(e,r={}){const[n,s]=AF(e);return Mu(n,s,r,"SQL",e)}static invalid(e,r=null){if(!e)throw new si("need to specify a reason the DateTime is invalid");const n=e instanceof Gs?e:new Gs(e,r);if(gn.throwOnInvalid)throw new sj(n);return new Xt({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,r={}){const n=Jq(e,Tr.fromObject(r));return n?n.map(s=>s?s.val:null).join(""):null}static expandFormat(e,r={}){return Qq(ai.parseFormat(e),Tr.fromObject(r)).map(s=>s.val).join("")}static resetCache(){lm=void 0,um={}}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Eb(this).weekYear:NaN}get weekNumber(){return this.isValid?Eb(this).weekNumber:NaN}get weekday(){return this.isValid?Eb(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?kb(this).weekday:NaN}get localWeekNumber(){return this.isValid?kb(this).weekNumber:NaN}get localWeekYear(){return this.isValid?kb(this).weekYear:NaN}get ordinal(){return this.isValid?xb(this.c).ordinal:NaN}get monthShort(){return this.isValid?Dp.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Dp.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Dp.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Dp.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,r=6e4,n=Pg(this.c),s=this.zone.offset(n-e),o=this.zone.offset(n+e),l=this.zone.offset(n-s*r),u=this.zone.offset(n-o*r);if(l===u)return[this];const d=n-l*r,m=n-u*r,y=Bp(d,l),w=Bp(m,u);return y.hour===w.hour&&y.minute===w.minute&&y.second===w.second&&y.millisecond===w.millisecond?[Pl(this,{ts:d}),Pl(this,{ts:m})]:[this]}get isInLeapYear(){return Xf(this.year)}get daysInMonth(){return zm(this.year,this.month)}get daysInYear(){return this.isValid?lc(this.year):NaN}get weeksInWeekYear(){return this.isValid?wf(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?wf(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:r,numberingSystem:n,calendar:s}=ai.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:r,numberingSystem:n,outputCalendar:s}}toUTC(e=0,r={}){return this.setZone(vi.instance(e),r)}toLocal(){return this.setZone(gn.defaultZone)}setZone(e,{keepLocalTime:r=!1,keepCalendarTime:n=!1}={}){if(e=$a(e,gn.defaultZone),e.equals(this.zone))return this;if(e.isValid){let s=this.ts;if(r||n){const o=e.offset(this.ts),l=this.toObject();[s]=am(l,o,e)}return Pl(this,{ts:s,zone:e})}else return Xt.invalid(Hd(e))}reconfigure({locale:e,numberingSystem:r,outputCalendar:n}={}){const s=this.loc.clone({locale:e,numberingSystem:r,outputCalendar:n});return Pl(this,{loc:s})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const r=Um(e,N1),{minDaysInFirstWeek:n,startOfWeek:s}=d1(r,this.loc),o=!er(r.weekYear)||!er(r.weekNumber)||!er(r.weekday),l=!er(r.ordinal),u=!er(r.year),d=!er(r.month)||!er(r.day),m=u||d,y=r.weekYear||r.weekNumber;if((m||l)&&y)throw new Zu("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(d&&l)throw new Zu("Can't mix ordinal dates with month/day");let w;o?w=u1({...Wm(this.c,n,s),...r},n,s):er(r.ordinal)?(w={...this.toObject(),...r},er(r.day)&&(w.day=Math.min(zm(w.year,w.month),w.day))):w=c1({...xb(this.c),...r});const[E,k]=am(w,this.o,this.zone);return Pl(this,{ts:E,o:k})}plus(e){if(!this.isValid)return this;const r=br.fromDurationLike(e);return Pl(this,x1(this,r))}minus(e){if(!this.isValid)return this;const r=br.fromDurationLike(e).negate();return Pl(this,x1(this,r))}startOf(e,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;const n={},s=br.normalizeUnit(e);switch(s){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(s==="weeks")if(r){const o=this.loc.getStartOfWeek(),{weekday:l}=this;l<o&&(n.weekNumber=this.weekNumber-1),n.weekday=o}else n.weekday=1;if(s==="quarters"){const o=Math.ceil(this.month/3);n.month=(o-1)*3+1}return this.set(n)}endOf(e,r){return this.isValid?this.plus({[e]:1}).startOf(e,r).minus(1):this}toFormat(e,r={}){return this.isValid?ai.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,e):Nb}toLocaleString(e=$m,r={}){return this.isValid?ai.create(this.loc.clone(r),e).formatDateTime(this):Nb}toLocaleParts(e={}){return this.isValid?ai.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:r=!1,suppressMilliseconds:n=!1,includeOffset:s=!0,extendedZone:o=!1}={}){if(!this.isValid)return null;const l=e==="extended";let u=Ib(this,l);return u+="T",u+=S1(this,l,r,n,s,o),u}toISODate({format:e="extended"}={}){return this.isValid?Ib(this,e==="extended"):null}toISOWeekDate(){return $p(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:r=!1,includeOffset:n=!0,includePrefix:s=!1,extendedZone:o=!1,format:l="extended"}={}){return this.isValid?(s?"T":"")+S1(this,l==="extended",r,e,n,o):null}toRFC2822(){return $p(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return $p(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Ib(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:r=!1,includeOffsetSpace:n=!0}={}){let s="HH:mm:ss.SSS";return(r||e)&&(n&&(s+=" "),r?s+="z":e&&(s+="ZZ")),$p(this,s,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Nb}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const r={...this.c};return e.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,r="milliseconds",n={}){if(!this.isValid||!e.isValid)return br.invalid("created by diffing an invalid DateTime");const s={locale:this.locale,numberingSystem:this.numberingSystem,...n},o=Fj(r).map(br.normalizeUnit),l=e.valueOf()>this.valueOf(),u=l?this:e,d=l?e:this,m=BF(u,d,o,s);return l?m.negate():m}diffNow(e="milliseconds",r={}){return this.diff(Xt.now(),e,r)}until(e){return this.isValid?mn.fromDateTimes(this,e):this}hasSame(e,r,n){if(!this.isValid)return!1;const s=e.valueOf(),o=this.setZone(e.zone,{keepLocalTime:!0});return o.startOf(r,n)<=s&&s<=o.endOf(r,n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const r=e.base||Xt.fromObject({},{zone:this.zone}),n=e.padding?this<r?-e.padding:e.padding:0;let s=["years","months","days","hours","minutes","seconds"],o=e.unit;return Array.isArray(e.unit)&&(s=e.unit,o=void 0),k1(r,this.plus(n),{...e,numeric:"always",units:s,unit:o})}toRelativeCalendar(e={}){return this.isValid?k1(e.base||Xt.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(Xt.isDateTime))throw new si("min requires all arguments be DateTimes");return f1(e,r=>r.valueOf(),Math.min)}static max(...e){if(!e.every(Xt.isDateTime))throw new si("max requires all arguments be DateTimes");return f1(e,r=>r.valueOf(),Math.max)}static fromFormatExplain(e,r,n={}){const{locale:s=null,numberingSystem:o=null}=n,l=Tr.fromOpts({locale:s,numberingSystem:o,defaultToEN:!0});return Gq(l,e,r)}static fromStringExplain(e,r,n={}){return Xt.fromFormatExplain(e,r,n)}static buildFormatParser(e,r={}){const{locale:n=null,numberingSystem:s=null}=r,o=Tr.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0});return new Kq(o,e)}static fromFormatParser(e,r,n={}){if(er(e)||er(r))throw new si("fromFormatParser requires an input string and a format parser");const{locale:s=null,numberingSystem:o=null}=n,l=Tr.fromOpts({locale:s,numberingSystem:o,defaultToEN:!0});if(!l.equals(r.locale))throw new si(`fromFormatParser called with a locale of ${l}, but the format parser was created for ${r.locale}`);const{result:u,zone:d,specificOffset:m,invalidReason:y}=r.explainFromTokens(e);return y?Xt.invalid(y):Mu(u,d,n,`format ${r.format}`,e,m)}static get DATE_SHORT(){return $m}static get DATE_MED(){return tq}static get DATE_MED_WITH_WEEKDAY(){return lj}static get DATE_FULL(){return rq}static get DATE_HUGE(){return nq}static get TIME_SIMPLE(){return iq}static get TIME_WITH_SECONDS(){return sq}static get TIME_WITH_SHORT_OFFSET(){return oq}static get TIME_WITH_LONG_OFFSET(){return aq}static get TIME_24_SIMPLE(){return lq}static get TIME_24_WITH_SECONDS(){return uq}static get TIME_24_WITH_SHORT_OFFSET(){return cq}static get TIME_24_WITH_LONG_OFFSET(){return dq}static get DATETIME_SHORT(){return fq}static get DATETIME_SHORT_WITH_SECONDS(){return hq}static get DATETIME_MED(){return pq}static get DATETIME_MED_WITH_SECONDS(){return mq}static get DATETIME_MED_WITH_WEEKDAY(){return uj}static get DATETIME_FULL(){return gq}static get DATETIME_FULL_WITH_SECONDS(){return yq}static get DATETIME_HUGE(){return vq}static get DATETIME_HUGE_WITH_SECONDS(){return bq}}function Fd(t){if(Xt.isDateTime(t))return t;if(t&&t.valueOf&&Ka(t.valueOf()))return Xt.fromJSDate(t);if(t&&typeof t=="object")return Xt.fromObject(t);throw new si(`Unknown datetime argument: ${t}, of type ${typeof t}`)}function eC(t,e){return function(){return t.apply(e,arguments)}}const{toString:oL}=Object.prototype,{getPrototypeOf:n0}=Object,Lg=(t=>e=>{const r=oL.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),no=t=>(t=t.toLowerCase(),e=>Lg(e)===t),Dg=t=>e=>typeof e===t,{isArray:Mc}=Array,xf=Dg("undefined");function aL(t){return t!==null&&!xf(t)&&t.constructor!==null&&!xf(t.constructor)&&os(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const tC=no("ArrayBuffer");function lL(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&tC(t.buffer),e}const uL=Dg("string"),os=Dg("function"),rC=Dg("number"),Mg=t=>t!==null&&typeof t=="object",cL=t=>t===!0||t===!1,cm=t=>{if(Lg(t)!=="object")return!1;const e=n0(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},dL=no("Date"),fL=no("File"),hL=no("Blob"),pL=no("FileList"),mL=t=>Mg(t)&&os(t.pipe),gL=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||os(t.append)&&((e=Lg(t))==="formdata"||e==="object"&&os(t.toString)&&t.toString()==="[object FormData]"))},yL=no("URLSearchParams"),[vL,bL,_L,wL]=["ReadableStream","Request","Response","Headers"].map(no),xL=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function rh(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,s;if(typeof t!="object"&&(t=[t]),Mc(t))for(n=0,s=t.length;n<s;n++)e.call(null,t[n],n,t);else{const o=r?Object.getOwnPropertyNames(t):Object.keys(t),l=o.length;let u;for(n=0;n<l;n++)u=o[n],e.call(null,t[u],u,t)}}function nC(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,s;for(;n-- >0;)if(s=r[n],e===s.toLowerCase())return s;return null}const Ul=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,iC=t=>!xf(t)&&t!==Ul;function nw(){const{caseless:t}=iC(this)&&this||{},e={},r=(n,s)=>{const o=t&&nC(e,s)||s;cm(e[o])&&cm(n)?e[o]=nw(e[o],n):cm(n)?e[o]=nw({},n):Mc(n)?e[o]=n.slice():e[o]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&rh(arguments[n],r);return e}const SL=(t,e,r,{allOwnKeys:n}={})=>(rh(e,(s,o)=>{r&&os(s)?t[o]=eC(s,r):t[o]=s},{allOwnKeys:n}),t),NL=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),EL=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},kL=(t,e,r,n)=>{let s,o,l;const u={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),o=s.length;o-- >0;)l=s[o],(!n||n(l,t,e))&&!u[l]&&(e[l]=t[l],u[l]=!0);t=r!==!1&&n0(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},IL=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},qL=t=>{if(!t)return null;if(Mc(t))return t;let e=t.length;if(!rC(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},CL=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&n0(Uint8Array)),TL=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=n.next())&&!s.done;){const o=s.value;e.call(t,o[0],o[1])}},OL=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},RL=no("HTMLFormElement"),AL=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),q1=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),PL=no("RegExp"),sC=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};rh(r,(s,o)=>{let l;(l=e(s,o,t))!==!1&&(n[o]=l||s)}),Object.defineProperties(t,n)},jL=t=>{sC(t,(e,r)=>{if(os(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(os(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},FL=(t,e)=>{const r={},n=s=>{s.forEach(o=>{r[o]=!0})};return Mc(t)?n(t):n(String(t).split(e)),r},LL=()=>{},DL=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,qb="abcdefghijklmnopqrstuvwxyz",C1="0123456789",oC={DIGIT:C1,ALPHA:qb,ALPHA_DIGIT:qb+qb.toUpperCase()+C1},ML=(t=16,e=oC.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function BL(t){return!!(t&&os(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const $L=t=>{const e=new Array(10),r=(n,s)=>{if(Mg(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[s]=n;const o=Mc(n)?[]:{};return rh(n,(l,u)=>{const d=r(l,s+1);!xf(d)&&(o[u]=d)}),e[s]=void 0,o}}return n};return r(t,0)},WL=no("AsyncFunction"),zL=t=>t&&(Mg(t)||os(t))&&os(t.then)&&os(t.catch),aC=((t,e)=>t?setImmediate:e?((r,n)=>(Ul.addEventListener("message",({source:s,data:o})=>{s===Ul&&o===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Ul.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",os(Ul.postMessage)),UL=typeof queueMicrotask<"u"?queueMicrotask.bind(Ul):typeof process<"u"&&process.nextTick||aC,ze={isArray:Mc,isArrayBuffer:tC,isBuffer:aL,isFormData:gL,isArrayBufferView:lL,isString:uL,isNumber:rC,isBoolean:cL,isObject:Mg,isPlainObject:cm,isReadableStream:vL,isRequest:bL,isResponse:_L,isHeaders:wL,isUndefined:xf,isDate:dL,isFile:fL,isBlob:hL,isRegExp:PL,isFunction:os,isStream:mL,isURLSearchParams:yL,isTypedArray:CL,isFileList:pL,forEach:rh,merge:nw,extend:SL,trim:xL,stripBOM:NL,inherits:EL,toFlatObject:kL,kindOf:Lg,kindOfTest:no,endsWith:IL,toArray:qL,forEachEntry:TL,matchAll:OL,isHTMLForm:RL,hasOwnProperty:q1,hasOwnProp:q1,reduceDescriptors:sC,freezeMethods:jL,toObjectSet:FL,toCamelCase:AL,noop:LL,toFiniteNumber:DL,findKey:nC,global:Ul,isContextDefined:iC,ALPHABET:oC,generateString:ML,isSpecCompliantForm:BL,toJSONObject:$L,isAsyncFn:WL,isThenable:zL,setImmediate:aC,asap:UL};function ar(t,e,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}ze.inherits(ar,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ze.toJSONObject(this.config),code:this.code,status:this.status}}});const lC=ar.prototype,uC={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{uC[t]={value:t}});Object.defineProperties(ar,uC);Object.defineProperty(lC,"isAxiosError",{value:!0});ar.from=(t,e,r,n,s,o)=>{const l=Object.create(lC);return ze.toFlatObject(t,l,function(d){return d!==Error.prototype},u=>u!=="isAxiosError"),ar.call(l,t.message,e,r,n,s),l.cause=t,l.name=t.name,o&&Object.assign(l,o),l};const VL=null;function iw(t){return ze.isPlainObject(t)||ze.isArray(t)}function cC(t){return ze.endsWith(t,"[]")?t.slice(0,-2):t}function T1(t,e,r){return t?t.concat(e).map(function(s,o){return s=cC(s),!r&&o?"["+s+"]":s}).join(r?".":""):e}function HL(t){return ze.isArray(t)&&!t.some(iw)}const QL=ze.toFlatObject(ze,{},null,function(e){return/^is[A-Z]/.test(e)});function Bg(t,e,r){if(!ze.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=ze.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,A){return!ze.isUndefined(A[C])});const n=r.metaTokens,s=r.visitor||y,o=r.dots,l=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&ze.isSpecCompliantForm(e);if(!ze.isFunction(s))throw new TypeError("visitor must be a function");function m(q){if(q===null)return"";if(ze.isDate(q))return q.toISOString();if(!d&&ze.isBlob(q))throw new ar("Blob is not supported. Use a Buffer instead.");return ze.isArrayBuffer(q)||ze.isTypedArray(q)?d&&typeof Blob=="function"?new Blob([q]):Buffer.from(q):q}function y(q,C,A){let D=q;if(q&&!A&&typeof q=="object"){if(ze.endsWith(C,"{}"))C=n?C:C.slice(0,-2),q=JSON.stringify(q);else if(ze.isArray(q)&&HL(q)||(ze.isFileList(q)||ze.endsWith(C,"[]"))&&(D=ze.toArray(q)))return C=cC(C),D.forEach(function($,H){!(ze.isUndefined($)||$===null)&&e.append(l===!0?T1([C],H,o):l===null?C:C+"[]",m($))}),!1}return iw(q)?!0:(e.append(T1(A,C,o),m(q)),!1)}const w=[],E=Object.assign(QL,{defaultVisitor:y,convertValue:m,isVisitable:iw});function k(q,C){if(!ze.isUndefined(q)){if(w.indexOf(q)!==-1)throw Error("Circular reference detected in "+C.join("."));w.push(q),ze.forEach(q,function(D,F){(!(ze.isUndefined(D)||D===null)&&s.call(e,D,ze.isString(F)?F.trim():F,C,E))===!0&&k(D,C?C.concat(F):[F])}),w.pop()}}if(!ze.isObject(t))throw new TypeError("data must be an object");return k(t),e}function O1(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function i0(t,e){this._pairs=[],t&&Bg(t,this,e)}const dC=i0.prototype;dC.append=function(e,r){this._pairs.push([e,r])};dC.toString=function(e){const r=e?function(n){return e.call(this,n,O1)}:O1;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function KL(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function fC(t,e,r){if(!e)return t;const n=r&&r.encode||KL;ze.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let o;if(s?o=s(e,r):o=ze.isURLSearchParams(e)?e.toString():new i0(e,r).toString(n),o){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class R1{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ze.forEach(this.handlers,function(n){n!==null&&e(n)})}}const hC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},GL=typeof URLSearchParams<"u"?URLSearchParams:i0,JL=typeof FormData<"u"?FormData:null,ZL=typeof Blob<"u"?Blob:null,YL={isBrowser:!0,classes:{URLSearchParams:GL,FormData:JL,Blob:ZL},protocols:["http","https","file","blob","url","data"]},s0=typeof window<"u"&&typeof document<"u",sw=typeof navigator=="object"&&navigator||void 0,XL=s0&&(!sw||["ReactNative","NativeScript","NS"].indexOf(sw.product)<0),e2=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",t2=s0&&window.location.href||"http://localhost",r2=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:s0,hasStandardBrowserEnv:XL,hasStandardBrowserWebWorkerEnv:e2,navigator:sw,origin:t2},Symbol.toStringTag,{value:"Module"})),li={...r2,...YL};function n2(t,e){return Bg(t,new li.classes.URLSearchParams,Object.assign({visitor:function(r,n,s,o){return li.isNode&&ze.isBuffer(r)?(this.append(n,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function i2(t){return ze.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function s2(t){const e={},r=Object.keys(t);let n;const s=r.length;let o;for(n=0;n<s;n++)o=r[n],e[o]=t[o];return e}function pC(t){function e(r,n,s,o){let l=r[o++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=o>=r.length;return l=!l&&ze.isArray(s)?s.length:l,d?(ze.hasOwnProp(s,l)?s[l]=[s[l],n]:s[l]=n,!u):((!s[l]||!ze.isObject(s[l]))&&(s[l]=[]),e(r,n,s[l],o)&&ze.isArray(s[l])&&(s[l]=s2(s[l])),!u)}if(ze.isFormData(t)&&ze.isFunction(t.entries)){const r={};return ze.forEachEntry(t,(n,s)=>{e(i2(n),s,r,0)}),r}return null}function o2(t,e,r){if(ze.isString(t))try{return(e||JSON.parse)(t),ze.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const nh={transitional:hC,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,o=ze.isObject(e);if(o&&ze.isHTMLForm(e)&&(e=new FormData(e)),ze.isFormData(e))return s?JSON.stringify(pC(e)):e;if(ze.isArrayBuffer(e)||ze.isBuffer(e)||ze.isStream(e)||ze.isFile(e)||ze.isBlob(e)||ze.isReadableStream(e))return e;if(ze.isArrayBufferView(e))return e.buffer;if(ze.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return n2(e,this.formSerializer).toString();if((u=ze.isFileList(e))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Bg(u?{"files[]":e}:e,d&&new d,this.formSerializer)}}return o||s?(r.setContentType("application/json",!1),o2(e)):e}],transformResponse:[function(e){const r=this.transitional||nh.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(ze.isResponse(e)||ze.isReadableStream(e))return e;if(e&&ze.isString(e)&&(n&&!this.responseType||s)){const l=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(u){if(l)throw u.name==="SyntaxError"?ar.from(u,ar.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:li.classes.FormData,Blob:li.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ze.forEach(["delete","get","head","post","put","patch"],t=>{nh.headers[t]={}});const a2=ze.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),l2=t=>{const e={};let r,n,s;return t&&t.split(`
`).forEach(function(l){s=l.indexOf(":"),r=l.substring(0,s).trim().toLowerCase(),n=l.substring(s+1).trim(),!(!r||e[r]&&a2[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},A1=Symbol("internals");function Ld(t){return t&&String(t).trim().toLowerCase()}function dm(t){return t===!1||t==null?t:ze.isArray(t)?t.map(dm):String(t)}function u2(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const c2=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Cb(t,e,r,n,s){if(ze.isFunction(n))return n.call(this,e,r);if(s&&(e=r),!!ze.isString(e)){if(ze.isString(n))return e.indexOf(n)!==-1;if(ze.isRegExp(n))return n.test(e)}}function d2(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function f2(t,e){const r=ze.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(s,o,l){return this[n].call(this,e,s,o,l)},configurable:!0})})}let Wi=class{constructor(e){e&&this.set(e)}set(e,r,n){const s=this;function o(u,d,m){const y=Ld(d);if(!y)throw new Error("header name must be a non-empty string");const w=ze.findKey(s,y);(!w||s[w]===void 0||m===!0||m===void 0&&s[w]!==!1)&&(s[w||d]=dm(u))}const l=(u,d)=>ze.forEach(u,(m,y)=>o(m,y,d));if(ze.isPlainObject(e)||e instanceof this.constructor)l(e,r);else if(ze.isString(e)&&(e=e.trim())&&!c2(e))l(l2(e),r);else if(ze.isHeaders(e))for(const[u,d]of e.entries())o(d,u,n);else e!=null&&o(r,e,n);return this}get(e,r){if(e=Ld(e),e){const n=ze.findKey(this,e);if(n){const s=this[n];if(!r)return s;if(r===!0)return u2(s);if(ze.isFunction(r))return r.call(this,s,n);if(ze.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Ld(e),e){const n=ze.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Cb(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let s=!1;function o(l){if(l=Ld(l),l){const u=ze.findKey(n,l);u&&(!r||Cb(n,n[u],u,r))&&(delete n[u],s=!0)}}return ze.isArray(e)?e.forEach(o):o(e),s}clear(e){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const o=r[n];(!e||Cb(this,this[o],o,e,!0))&&(delete this[o],s=!0)}return s}normalize(e){const r=this,n={};return ze.forEach(this,(s,o)=>{const l=ze.findKey(n,o);if(l){r[l]=dm(s),delete r[o];return}const u=e?d2(o):String(o).trim();u!==o&&delete r[o],r[u]=dm(s),n[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return ze.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=e&&ze.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[A1]=this[A1]={accessors:{}}).accessors,s=this.prototype;function o(l){const u=Ld(l);n[u]||(f2(s,l),n[u]=!0)}return ze.isArray(e)?e.forEach(o):o(e),this}};Wi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ze.reduceDescriptors(Wi.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});ze.freezeMethods(Wi);function Tb(t,e){const r=this||nh,n=e||r,s=Wi.from(n.headers);let o=n.data;return ze.forEach(t,function(u){o=u.call(r,o,s.normalize(),e?e.status:void 0)}),s.normalize(),o}function mC(t){return!!(t&&t.__CANCEL__)}function Bc(t,e,r){ar.call(this,t??"canceled",ar.ERR_CANCELED,e,r),this.name="CanceledError"}ze.inherits(Bc,ar,{__CANCEL__:!0});function gC(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new ar("Request failed with status code "+r.status,[ar.ERR_BAD_REQUEST,ar.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function h2(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function p2(t,e){t=t||10;const r=new Array(t),n=new Array(t);let s=0,o=0,l;return e=e!==void 0?e:1e3,function(d){const m=Date.now(),y=n[o];l||(l=m),r[s]=d,n[s]=m;let w=o,E=0;for(;w!==s;)E+=r[w++],w=w%t;if(s=(s+1)%t,s===o&&(o=(o+1)%t),m-l<e)return;const k=y&&m-y;return k?Math.round(E*1e3/k):void 0}}function m2(t,e){let r=0,n=1e3/e,s,o;const l=(m,y=Date.now())=>{r=y,s=null,o&&(clearTimeout(o),o=null),t.apply(null,m)};return[(...m)=>{const y=Date.now(),w=y-r;w>=n?l(m,y):(s=m,o||(o=setTimeout(()=>{o=null,l(s)},n-w)))},()=>s&&l(s)]}const Vm=(t,e,r=3)=>{let n=0;const s=p2(50,250);return m2(o=>{const l=o.loaded,u=o.lengthComputable?o.total:void 0,d=l-n,m=s(d),y=l<=u;n=l;const w={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:m||void 0,estimated:m&&u&&y?(u-l)/m:void 0,event:o,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(w)},r)},P1=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},j1=t=>(...e)=>ze.asap(()=>t(...e)),g2=li.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,li.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(li.origin),li.navigator&&/(msie|trident)/i.test(li.navigator.userAgent)):()=>!0,y2=li.hasStandardBrowserEnv?{write(t,e,r,n,s,o){const l=[t+"="+encodeURIComponent(e)];ze.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),ze.isString(n)&&l.push("path="+n),ze.isString(s)&&l.push("domain="+s),o===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function v2(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function b2(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function yC(t,e){return t&&!v2(e)?b2(t,e):e}const F1=t=>t instanceof Wi?{...t}:t;function Xl(t,e){e=e||{};const r={};function n(m,y,w,E){return ze.isPlainObject(m)&&ze.isPlainObject(y)?ze.merge.call({caseless:E},m,y):ze.isPlainObject(y)?ze.merge({},y):ze.isArray(y)?y.slice():y}function s(m,y,w,E){if(ze.isUndefined(y)){if(!ze.isUndefined(m))return n(void 0,m,w,E)}else return n(m,y,w,E)}function o(m,y){if(!ze.isUndefined(y))return n(void 0,y)}function l(m,y){if(ze.isUndefined(y)){if(!ze.isUndefined(m))return n(void 0,m)}else return n(void 0,y)}function u(m,y,w){if(w in e)return n(m,y);if(w in t)return n(void 0,m)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(m,y,w)=>s(F1(m),F1(y),w,!0)};return ze.forEach(Object.keys(Object.assign({},t,e)),function(y){const w=d[y]||s,E=w(t[y],e[y],y);ze.isUndefined(E)&&w!==u||(r[y]=E)}),r}const vC=t=>{const e=Xl({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:o,headers:l,auth:u}=e;e.headers=l=Wi.from(l),e.url=fC(yC(e.baseURL,e.url),t.params,t.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let d;if(ze.isFormData(r)){if(li.hasStandardBrowserEnv||li.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[m,...y]=d?d.split(";").map(w=>w.trim()).filter(Boolean):[];l.setContentType([m||"multipart/form-data",...y].join("; "))}}if(li.hasStandardBrowserEnv&&(n&&ze.isFunction(n)&&(n=n(e)),n||n!==!1&&g2(e.url))){const m=s&&o&&y2.read(o);m&&l.set(s,m)}return e},_2=typeof XMLHttpRequest<"u",w2=_2&&function(t){return new Promise(function(r,n){const s=vC(t);let o=s.data;const l=Wi.from(s.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:m}=s,y,w,E,k,q;function C(){k&&k(),q&&q(),s.cancelToken&&s.cancelToken.unsubscribe(y),s.signal&&s.signal.removeEventListener("abort",y)}let A=new XMLHttpRequest;A.open(s.method.toUpperCase(),s.url,!0),A.timeout=s.timeout;function D(){if(!A)return;const $=Wi.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),G={data:!u||u==="text"||u==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:$,config:t,request:A};gC(function(Z){r(Z),C()},function(Z){n(Z),C()},G),A=null}"onloadend"in A?A.onloadend=D:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(D)},A.onabort=function(){A&&(n(new ar("Request aborted",ar.ECONNABORTED,t,A)),A=null)},A.onerror=function(){n(new ar("Network Error",ar.ERR_NETWORK,t,A)),A=null},A.ontimeout=function(){let H=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const G=s.transitional||hC;s.timeoutErrorMessage&&(H=s.timeoutErrorMessage),n(new ar(H,G.clarifyTimeoutError?ar.ETIMEDOUT:ar.ECONNABORTED,t,A)),A=null},o===void 0&&l.setContentType(null),"setRequestHeader"in A&&ze.forEach(l.toJSON(),function(H,G){A.setRequestHeader(G,H)}),ze.isUndefined(s.withCredentials)||(A.withCredentials=!!s.withCredentials),u&&u!=="json"&&(A.responseType=s.responseType),m&&([E,q]=Vm(m,!0),A.addEventListener("progress",E)),d&&A.upload&&([w,k]=Vm(d),A.upload.addEventListener("progress",w),A.upload.addEventListener("loadend",k)),(s.cancelToken||s.signal)&&(y=$=>{A&&(n(!$||$.type?new Bc(null,t,A):$),A.abort(),A=null)},s.cancelToken&&s.cancelToken.subscribe(y),s.signal&&(s.signal.aborted?y():s.signal.addEventListener("abort",y)));const F=h2(s.url);if(F&&li.protocols.indexOf(F)===-1){n(new ar("Unsupported protocol "+F+":",ar.ERR_BAD_REQUEST,t));return}A.send(o||null)})},x2=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,s;const o=function(m){if(!s){s=!0,u();const y=m instanceof Error?m:this.reason;n.abort(y instanceof ar?y:new Bc(y instanceof Error?y.message:y))}};let l=e&&setTimeout(()=>{l=null,o(new ar(`timeout ${e} of ms exceeded`,ar.ETIMEDOUT))},e);const u=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(o):m.removeEventListener("abort",o)}),t=null)};t.forEach(m=>m.addEventListener("abort",o));const{signal:d}=n;return d.unsubscribe=()=>ze.asap(u),d}},S2=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,s;for(;n<r;)s=n+e,yield t.slice(n,s),n=s},N2=async function*(t,e){for await(const r of E2(t))yield*S2(r,e)},E2=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},L1=(t,e,r,n)=>{const s=N2(t,e);let o=0,l,u=d=>{l||(l=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:m,value:y}=await s.next();if(m){u(),d.close();return}let w=y.byteLength;if(r){let E=o+=w;r(E)}d.enqueue(new Uint8Array(y))}catch(m){throw u(m),m}},cancel(d){return u(d),s.return()}},{highWaterMark:2})},$g=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",bC=$g&&typeof ReadableStream=="function",k2=$g&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),_C=(t,...e)=>{try{return!!t(...e)}catch{return!1}},I2=bC&&_C(()=>{let t=!1;const e=new Request(li.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),D1=64*1024,ow=bC&&_C(()=>ze.isReadableStream(new Response("").body)),Hm={stream:ow&&(t=>t.body)};$g&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Hm[e]&&(Hm[e]=ze.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new ar(`Response type '${e}' is not supported`,ar.ERR_NOT_SUPPORT,n)})})})(new Response);const q2=async t=>{if(t==null)return 0;if(ze.isBlob(t))return t.size;if(ze.isSpecCompliantForm(t))return(await new Request(li.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ze.isArrayBufferView(t)||ze.isArrayBuffer(t))return t.byteLength;if(ze.isURLSearchParams(t)&&(t=t+""),ze.isString(t))return(await k2(t)).byteLength},C2=async(t,e)=>{const r=ze.toFiniteNumber(t.getContentLength());return r??q2(e)},T2=$g&&(async t=>{let{url:e,method:r,data:n,signal:s,cancelToken:o,timeout:l,onDownloadProgress:u,onUploadProgress:d,responseType:m,headers:y,withCredentials:w="same-origin",fetchOptions:E}=vC(t);m=m?(m+"").toLowerCase():"text";let k=x2([s,o&&o.toAbortSignal()],l),q;const C=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let A;try{if(d&&I2&&r!=="get"&&r!=="head"&&(A=await C2(y,n))!==0){let G=new Request(e,{method:"POST",body:n,duplex:"half"}),B;if(ze.isFormData(n)&&(B=G.headers.get("content-type"))&&y.setContentType(B),G.body){const[Z,ie]=P1(A,Vm(j1(d)));n=L1(G.body,D1,Z,ie)}}ze.isString(w)||(w=w?"include":"omit");const D="credentials"in Request.prototype;q=new Request(e,{...E,signal:k,method:r.toUpperCase(),headers:y.normalize().toJSON(),body:n,duplex:"half",credentials:D?w:void 0});let F=await fetch(q);const $=ow&&(m==="stream"||m==="response");if(ow&&(u||$&&C)){const G={};["status","statusText","headers"].forEach(V=>{G[V]=F[V]});const B=ze.toFiniteNumber(F.headers.get("content-length")),[Z,ie]=u&&P1(B,Vm(j1(u),!0))||[];F=new Response(L1(F.body,D1,Z,()=>{ie&&ie(),C&&C()}),G)}m=m||"text";let H=await Hm[ze.findKey(Hm,m)||"text"](F,t);return!$&&C&&C(),await new Promise((G,B)=>{gC(G,B,{data:H,headers:Wi.from(F.headers),status:F.status,statusText:F.statusText,config:t,request:q})})}catch(D){throw C&&C(),D&&D.name==="TypeError"&&/fetch/i.test(D.message)?Object.assign(new ar("Network Error",ar.ERR_NETWORK,t,q),{cause:D.cause||D}):ar.from(D,D&&D.code,t,q)}}),aw={http:VL,xhr:w2,fetch:T2};ze.forEach(aw,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const M1=t=>`- ${t}`,O2=t=>ze.isFunction(t)||t===null||t===!1,wC={getAdapter:t=>{t=ze.isArray(t)?t:[t];const{length:e}=t;let r,n;const s={};for(let o=0;o<e;o++){r=t[o];let l;if(n=r,!O2(r)&&(n=aw[(l=String(r)).toLowerCase()],n===void 0))throw new ar(`Unknown adapter '${l}'`);if(n)break;s[l||"#"+o]=n}if(!n){const o=Object.entries(s).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?o.length>1?`since :
`+o.map(M1).join(`
`):" "+M1(o[0]):"as no adapter specified";throw new ar("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:aw};function Ob(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Bc(null,t)}function B1(t){return Ob(t),t.headers=Wi.from(t.headers),t.data=Tb.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),wC.getAdapter(t.adapter||nh.adapter)(t).then(function(n){return Ob(t),n.data=Tb.call(t,t.transformResponse,n),n.headers=Wi.from(n.headers),n},function(n){return mC(n)||(Ob(t),n&&n.response&&(n.response.data=Tb.call(t,t.transformResponse,n.response),n.response.headers=Wi.from(n.response.headers))),Promise.reject(n)})}const xC="1.7.9",Wg={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Wg[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const $1={};Wg.transitional=function(e,r,n){function s(o,l){return"[Axios v"+xC+"] Transitional option '"+o+"'"+l+(n?". "+n:"")}return(o,l,u)=>{if(e===!1)throw new ar(s(l," has been removed"+(r?" in "+r:"")),ar.ERR_DEPRECATED);return r&&!$1[l]&&($1[l]=!0,console.warn(s(l," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(o,l,u):!0}};Wg.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function R2(t,e,r){if(typeof t!="object")throw new ar("options must be an object",ar.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let s=n.length;for(;s-- >0;){const o=n[s],l=e[o];if(l){const u=t[o],d=u===void 0||l(u,o,t);if(d!==!0)throw new ar("option "+o+" must be "+d,ar.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ar("Unknown option "+o,ar.ERR_BAD_OPTION)}}const fm={assertOptions:R2,validators:Wg},mo=fm.validators;let Gl=class{constructor(e){this.defaults=e,this.interceptors={request:new R1,response:new R1}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const o=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?o&&!String(n.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+o):n.stack=o}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Xl(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:o}=r;n!==void 0&&fm.assertOptions(n,{silentJSONParsing:mo.transitional(mo.boolean),forcedJSONParsing:mo.transitional(mo.boolean),clarifyTimeoutError:mo.transitional(mo.boolean)},!1),s!=null&&(ze.isFunction(s)?r.paramsSerializer={serialize:s}:fm.assertOptions(s,{encode:mo.function,serialize:mo.function},!0)),fm.assertOptions(r,{baseUrl:mo.spelling("baseURL"),withXsrfToken:mo.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=o&&ze.merge(o.common,o[r.method]);o&&ze.forEach(["delete","get","head","post","put","patch","common"],q=>{delete o[q]}),r.headers=Wi.concat(l,o);const u=[];let d=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(r)===!1||(d=d&&C.synchronous,u.unshift(C.fulfilled,C.rejected))});const m=[];this.interceptors.response.forEach(function(C){m.push(C.fulfilled,C.rejected)});let y,w=0,E;if(!d){const q=[B1.bind(this),void 0];for(q.unshift.apply(q,u),q.push.apply(q,m),E=q.length,y=Promise.resolve(r);w<E;)y=y.then(q[w++],q[w++]);return y}E=u.length;let k=r;for(w=0;w<E;){const q=u[w++],C=u[w++];try{k=q(k)}catch(A){C.call(this,A);break}}try{y=B1.call(this,k)}catch(q){return Promise.reject(q)}for(w=0,E=m.length;w<E;)y=y.then(m[w++],m[w++]);return y}getUri(e){e=Xl(this.defaults,e);const r=yC(e.baseURL,e.url);return fC(r,e.params,e.paramsSerializer)}};ze.forEach(["delete","get","head","options"],function(e){Gl.prototype[e]=function(r,n){return this.request(Xl(n||{},{method:e,url:r,data:(n||{}).data}))}});ze.forEach(["post","put","patch"],function(e){function r(n){return function(o,l,u){return this.request(Xl(u||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}Gl.prototype[e]=r(),Gl.prototype[e+"Form"]=r(!0)});let A2=class SC{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const n=this;this.promise.then(s=>{if(!n._listeners)return;let o=n._listeners.length;for(;o-- >0;)n._listeners[o](s);n._listeners=null}),this.promise.then=s=>{let o;const l=new Promise(u=>{n.subscribe(u),o=u}).then(s);return l.cancel=function(){n.unsubscribe(o)},l},e(function(o,l,u){n.reason||(n.reason=new Bc(o,l,u),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new SC(function(s){e=s}),cancel:e}}};function P2(t){return function(r){return t.apply(null,r)}}function j2(t){return ze.isObject(t)&&t.isAxiosError===!0}const lw={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(lw).forEach(([t,e])=>{lw[e]=t});function NC(t){const e=new Gl(t),r=eC(Gl.prototype.request,e);return ze.extend(r,Gl.prototype,e,{allOwnKeys:!0}),ze.extend(r,e,null,{allOwnKeys:!0}),r.create=function(s){return NC(Xl(t,s))},r}const qn=NC(nh);qn.Axios=Gl;qn.CanceledError=Bc;qn.CancelToken=A2;qn.isCancel=mC;qn.VERSION=xC;qn.toFormData=Bg;qn.AxiosError=ar;qn.Cancel=qn.CanceledError;qn.all=function(e){return Promise.all(e)};qn.spread=P2;qn.isAxiosError=j2;qn.mergeConfig=Xl;qn.AxiosHeaders=Wi;qn.formToJSON=t=>pC(ze.isHTMLForm(t)?new FormData(t):t);qn.getAdapter=wC.getAdapter;qn.HttpStatusCode=lw;qn.default=qn;const{Axios:K8,AxiosError:F2,CanceledError:G8,isCancel:J8,CancelToken:Z8,VERSION:Y8,all:X8,Cancel:e5,isAxiosError:t5,spread:r5,toFormData:n5,AxiosHeaders:i5,HttpStatusCode:s5,formToJSON:o5,getAdapter:a5,mergeConfig:l5}=qn,o0=({error:t,schema:e,onError:r})=>{if(t instanceof F2){const s=e.safeParse(t.response?.data);return s.success&&r({error:t,data:s.data}),s.success}return!1};var Rb,W1;function L2(){if(W1)return Rb;W1=1;function t(n){this.queue=[],this.timeslotRequests=0,this.interceptors={request:null,response:null},this.handleRequest=this.handleRequest.bind(this),this.handleResponse=this.handleResponse.bind(this),this.enable(n)}t.prototype.getMaxRPS=function(){var n=this.perMilliseconds/1e3;return this.maxRequests/n},t.prototype.getQueue=function(){return this.queue},t.prototype.setMaxRPS=function(n){this.setRateLimitOptions({maxRequests:n,perMilliseconds:1e3})},t.prototype.setRateLimitOptions=function(n){n.maxRPS?this.setMaxRPS(n.maxRPS):(this.perMilliseconds=n.perMilliseconds,this.maxRequests=n.maxRequests)},t.prototype.enable=function(n){function s(o){return Promise.reject(o)}this.interceptors.request=n.interceptors.request.use(this.handleRequest,s),this.interceptors.response=n.interceptors.response.use(this.handleResponse,s)};function e(n){n.cancelToken&&n.cancelToken.throwIfRequested()}t.prototype.handleRequest=function(n){return new Promise(function(s,o){this.push({resolve:function(){try{e(n)}catch(l){return o(l),!1}return s(n),!0}})}.bind(this))},t.prototype.handleResponse=function(n){return this.shift(),n},t.prototype.push=function(n){this.queue.push(n),this.shiftInitial()},t.prototype.shiftInitial=function(){setTimeout(function(){return this.shift()}.bind(this),0)},t.prototype.shift=function(){if(this.queue.length){if(this.timeslotRequests===this.maxRequests){this.timeoutId&&typeof this.timeoutId.ref=="function"&&this.timeoutId.ref();return}var n=this.queue.shift(),s=n.resolve();if(this.timeslotRequests===0&&(this.timeoutId=setTimeout(function(){this.timeslotRequests=0,this.shift()}.bind(this),this.perMilliseconds),typeof this.timeoutId.unref=="function"&&this.queue.length===0&&this.timeoutId.unref()),!s){this.shift();return}this.timeslotRequests+=1}};function r(n,s){var o=new t(n);return o.setRateLimitOptions(s),n.getQueue=t.prototype.getQueue.bind(o),n.getMaxRPS=t.prototype.getMaxRPS.bind(o),n.setMaxRPS=t.prototype.setMaxRPS.bind(o),n.setRateLimitOptions=t.prototype.setRateLimitOptions.bind(o),n}return Rb=r,Rb}var D2=L2();const M2=Ac(D2),B2=({instance:t,limit:e}={})=>M2(t||qn,e||{maxRequests:5,perMilliseconds:100}),a0="-",$2=t=>{const e=z2(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:l=>{const u=l.split(a0);return u[0]===""&&u.length!==1&&u.shift(),EC(u,e)||W2(l)},getConflictingClassGroupIds:(l,u)=>{const d=r[l]||[];return u&&n[l]?[...d,...n[l]]:d}}},EC=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?EC(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(a0);return e.validators.find(({validator:l})=>l(o))?.classGroupId},z1=/^\[(.+)\]$/,W2=t=>{if(z1.test(t)){const e=z1.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},z2=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return V2(Object.entries(t.classGroups),r).forEach(([o,l])=>{uw(l,n,o,e)}),n},uw=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:U1(e,s);o.classGroupId=r;return}if(typeof s=="function"){if(U2(s)){uw(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,l])=>{uw(l,U1(e,o),r,n)})})},U1=(t,e)=>{let r=t;return e.split(a0).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},U2=t=>t.isThemeGetter,V2=(t,e)=>e?t.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([l,u])=>[e+l,u])):o);return[r,s]}):t,H2=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(o,l)=>{r.set(o,l),e++,e>t&&(e=0,n=r,r=new Map)};return{get(o){let l=r.get(o);if(l!==void 0)return l;if((l=n.get(o))!==void 0)return s(o,l),l},set(o,l){r.has(o)?r.set(o,l):s(o,l)}}},kC="!",Q2=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],o=e.length,l=u=>{const d=[];let m=0,y=0,w;for(let A=0;A<u.length;A++){let D=u[A];if(m===0){if(D===s&&(n||u.slice(A,A+o)===e)){d.push(u.slice(y,A)),y=A+o;continue}if(D==="/"){w=A;continue}}D==="["?m++:D==="]"&&m--}const E=d.length===0?u:u.substring(y),k=E.startsWith(kC),q=k?E.substring(1):E,C=w&&w>y?w-y:void 0;return{modifiers:d,hasImportantModifier:k,baseClassName:q,maybePostfixModifierPosition:C}};return r?u=>r({className:u,parseClassName:l}):l},K2=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},G2=t=>({cache:H2(t.cacheSize),parseClassName:Q2(t),...$2(t)}),J2=/\s+/,Z2=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,o=[],l=t.trim().split(J2);let u="";for(let d=l.length-1;d>=0;d-=1){const m=l[d],{modifiers:y,hasImportantModifier:w,baseClassName:E,maybePostfixModifierPosition:k}=r(m);let q=!!k,C=n(q?E.substring(0,k):E);if(!C){if(!q){u=m+(u.length>0?" "+u:u);continue}if(C=n(E),!C){u=m+(u.length>0?" "+u:u);continue}q=!1}const A=K2(y).join(":"),D=w?A+kC:A,F=D+C;if(o.includes(F))continue;o.push(F);const $=s(C,q);for(let H=0;H<$.length;++H){const G=$[H];o.push(D+G)}u=m+(u.length>0?" "+u:u)}return u};function Y2(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=IC(e))&&(n&&(n+=" "),n+=r);return n}const IC=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=IC(t[n]))&&(r&&(r+=" "),r+=e);return r};function X2(t,...e){let r,n,s,o=l;function l(d){const m=e.reduce((y,w)=>w(y),t());return r=G2(m),n=r.cache.get,s=r.cache.set,o=u,u(d)}function u(d){const m=n(d);if(m)return m;const y=Z2(d,r);return s(d,y),y}return function(){return o(Y2.apply(null,arguments))}}const Yr=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},qC=/^\[(?:([a-z-]+):)?(.+)\]$/i,eD=/^\d+\/\d+$/,tD=new Set(["px","full","screen"]),rD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,iD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,sD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,oD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Jo=t=>cc(t)||tD.has(t)||eD.test(t),Pa=t=>$c(t,"length",pD),cc=t=>!!t&&!Number.isNaN(Number(t)),Ab=t=>$c(t,"number",cc),Dd=t=>!!t&&Number.isInteger(Number(t)),aD=t=>t.endsWith("%")&&cc(t.slice(0,-1)),ur=t=>qC.test(t),ja=t=>rD.test(t),lD=new Set(["length","size","percentage"]),uD=t=>$c(t,lD,CC),cD=t=>$c(t,"position",CC),dD=new Set(["image","url"]),fD=t=>$c(t,dD,gD),hD=t=>$c(t,"",mD),Md=()=>!0,$c=(t,e,r)=>{const n=qC.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},pD=t=>nD.test(t)&&!iD.test(t),CC=()=>!1,mD=t=>sD.test(t),gD=t=>oD.test(t),yD=()=>{const t=Yr("colors"),e=Yr("spacing"),r=Yr("blur"),n=Yr("brightness"),s=Yr("borderColor"),o=Yr("borderRadius"),l=Yr("borderSpacing"),u=Yr("borderWidth"),d=Yr("contrast"),m=Yr("grayscale"),y=Yr("hueRotate"),w=Yr("invert"),E=Yr("gap"),k=Yr("gradientColorStops"),q=Yr("gradientColorStopPositions"),C=Yr("inset"),A=Yr("margin"),D=Yr("opacity"),F=Yr("padding"),$=Yr("saturate"),H=Yr("scale"),G=Yr("sepia"),B=Yr("skew"),Z=Yr("space"),ie=Yr("translate"),V=()=>["auto","contain","none"],ne=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",ur,e],oe=()=>[ur,e],Y=()=>["",Jo,Pa],me=()=>["auto",cc,ur],Te=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ce=()=>["solid","dashed","dotted","double","none"],je=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],be=()=>["start","end","center","between","around","evenly","stretch"],ge=()=>["","0",ur],Ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[cc,ur];return{cacheSize:500,separator:":",theme:{colors:[Md],spacing:[Jo,Pa],blur:["none","",ja,ur],brightness:Q(),borderColor:[t],borderRadius:["none","","full",ja,ur],borderSpacing:oe(),borderWidth:Y(),contrast:Q(),grayscale:ge(),hueRotate:Q(),invert:ge(),gap:oe(),gradientColorStops:[t],gradientColorStopPositions:[aD,Pa],inset:M(),margin:M(),opacity:Q(),padding:oe(),saturate:Q(),scale:Q(),sepia:ge(),skew:Q(),space:oe(),translate:oe()},classGroups:{aspect:[{aspect:["auto","square","video",ur]}],container:["container"],columns:[{columns:[ja]}],"break-after":[{"break-after":Ee()}],"break-before":[{"break-before":Ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Te(),ur]}],overflow:[{overflow:ne()}],"overflow-x":[{"overflow-x":ne()}],"overflow-y":[{"overflow-y":ne()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[C]}],"inset-x":[{"inset-x":[C]}],"inset-y":[{"inset-y":[C]}],start:[{start:[C]}],end:[{end:[C]}],top:[{top:[C]}],right:[{right:[C]}],bottom:[{bottom:[C]}],left:[{left:[C]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Dd,ur]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ur]}],grow:[{grow:ge()}],shrink:[{shrink:ge()}],order:[{order:["first","last","none",Dd,ur]}],"grid-cols":[{"grid-cols":[Md]}],"col-start-end":[{col:["auto",{span:["full",Dd,ur]},ur]}],"col-start":[{"col-start":me()}],"col-end":[{"col-end":me()}],"grid-rows":[{"grid-rows":[Md]}],"row-start-end":[{row:["auto",{span:[Dd,ur]},ur]}],"row-start":[{"row-start":me()}],"row-end":[{"row-end":me()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ur]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ur]}],gap:[{gap:[E]}],"gap-x":[{"gap-x":[E]}],"gap-y":[{"gap-y":[E]}],"justify-content":[{justify:["normal",...be()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...be(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...be(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[F]}],px:[{px:[F]}],py:[{py:[F]}],ps:[{ps:[F]}],pe:[{pe:[F]}],pt:[{pt:[F]}],pr:[{pr:[F]}],pb:[{pb:[F]}],pl:[{pl:[F]}],m:[{m:[A]}],mx:[{mx:[A]}],my:[{my:[A]}],ms:[{ms:[A]}],me:[{me:[A]}],mt:[{mt:[A]}],mr:[{mr:[A]}],mb:[{mb:[A]}],ml:[{ml:[A]}],"space-x":[{"space-x":[Z]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[Z]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ur,e]}],"min-w":[{"min-w":[ur,e,"min","max","fit"]}],"max-w":[{"max-w":[ur,e,"none","full","min","max","fit","prose",{screen:[ja]},ja]}],h:[{h:[ur,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ur,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ur,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ur,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ja,Pa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ab]}],"font-family":[{font:[Md]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ur]}],"line-clamp":[{"line-clamp":["none",cc,Ab]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Jo,ur]}],"list-image":[{"list-image":["none",ur]}],"list-style-type":[{list:["none","disc","decimal",ur]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[D]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[D]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ce(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Jo,Pa]}],"underline-offset":[{"underline-offset":["auto",Jo,ur]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:oe()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ur]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ur]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[D]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Te(),cD]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",uD]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},fD]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[q]}],"gradient-via-pos":[{via:[q]}],"gradient-to-pos":[{to:[q]}],"gradient-from":[{from:[k]}],"gradient-via":[{via:[k]}],"gradient-to":[{to:[k]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[D]}],"border-style":[{border:[...Ce(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[D]}],"divide-style":[{divide:Ce()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Ce()]}],"outline-offset":[{"outline-offset":[Jo,ur]}],"outline-w":[{outline:[Jo,Pa]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[D]}],"ring-offset-w":[{"ring-offset":[Jo,Pa]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ja,hD]}],"shadow-color":[{shadow:[Md]}],opacity:[{opacity:[D]}],"mix-blend":[{"mix-blend":[...je(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":je()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",ja,ur]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[y]}],invert:[{invert:[w]}],saturate:[{saturate:[$]}],sepia:[{sepia:[G]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[y]}],"backdrop-invert":[{"backdrop-invert":[w]}],"backdrop-opacity":[{"backdrop-opacity":[D]}],"backdrop-saturate":[{"backdrop-saturate":[$]}],"backdrop-sepia":[{"backdrop-sepia":[G]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ur]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",ur]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",ur]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[H]}],"scale-x":[{"scale-x":[H]}],"scale-y":[{"scale-y":[H]}],rotate:[{rotate:[Dd,ur]}],"translate-x":[{"translate-x":[ie]}],"translate-y":[{"translate-y":[ie]}],"skew-x":[{"skew-x":[B]}],"skew-y":[{"skew-y":[B]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ur]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ur]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":oe()}],"scroll-mx":[{"scroll-mx":oe()}],"scroll-my":[{"scroll-my":oe()}],"scroll-ms":[{"scroll-ms":oe()}],"scroll-me":[{"scroll-me":oe()}],"scroll-mt":[{"scroll-mt":oe()}],"scroll-mr":[{"scroll-mr":oe()}],"scroll-mb":[{"scroll-mb":oe()}],"scroll-ml":[{"scroll-ml":oe()}],"scroll-p":[{"scroll-p":oe()}],"scroll-px":[{"scroll-px":oe()}],"scroll-py":[{"scroll-py":oe()}],"scroll-ps":[{"scroll-ps":oe()}],"scroll-pe":[{"scroll-pe":oe()}],"scroll-pt":[{"scroll-pt":oe()}],"scroll-pr":[{"scroll-pr":oe()}],"scroll-pb":[{"scroll-pb":oe()}],"scroll-pl":[{"scroll-pl":oe()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ur]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Jo,Pa,Ab]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},TC=X2(yD),cw=new Proxy(()=>cw,{get:()=>cw});function hr({use:t,slot:e,variant:r,match:n=[],defaults:s}){return({css:o,...l}={})=>({slots:new Proxy({},{get:(u,d)=>({css:m,...y}={})=>{const w=[],E=t,k={...E?.()?.config.defaults,...s,...l,...y};w.push(E?.(k)?.slots[d]?.(k)),w.push(Array.isArray(e[d])?e[d]:[e[d]]);for(const[q,C]of Object.entries(k)){const A=r[q]?.[C];A&&w.push(A)}for(const q of n)Object.entries(q.if).every(([C,A])=>A===k[C])&&w.push(q.then?.[d]);return w.push(o?.[d]),w.push(m),TC(w)}}),config:{defaults:{...t?.()?.config.defaults,...s},values:{...t?.()?.config.defaults,...s,...l}},type:cw()})}const zg=TC;var Pb,V1;function vD(){return V1||(V1=1,Pb=Object),Pb}var jb,H1;function bD(){return H1||(H1=1,jb=Error),jb}var Fb,Q1;function _D(){return Q1||(Q1=1,Fb=EvalError),Fb}var Lb,K1;function wD(){return K1||(K1=1,Lb=RangeError),Lb}var Db,G1;function xD(){return G1||(G1=1,Db=ReferenceError),Db}var Mb,J1;function SD(){return J1||(J1=1,Mb=SyntaxError),Mb}var Bb,Z1;function OC(){return Z1||(Z1=1,Bb=TypeError),Bb}var $b,Y1;function ND(){return Y1||(Y1=1,$b=URIError),$b}var Wb,X1;function ED(){return X1||(X1=1,Wb=Math.abs),Wb}var zb,eE;function kD(){return eE||(eE=1,zb=Math.floor),zb}var Ub,tE;function ID(){return tE||(tE=1,Ub=Math.max),Ub}var Vb,rE;function qD(){return rE||(rE=1,Vb=Math.min),Vb}var Hb,nE;function CD(){return nE||(nE=1,Hb=Math.pow),Hb}var Qb,iE;function TD(){return iE||(iE=1,Qb=Object.getOwnPropertyDescriptor),Qb}var Kb,sE;function RC(){if(sE)return Kb;sE=1;var t=TD();if(t)try{t([],"length")}catch{t=null}return Kb=t,Kb}var Gb,oE;function OD(){if(oE)return Gb;oE=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return Gb=t,Gb}var Jb,aE;function AC(){return aE||(aE=1,Jb=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var s=42;e[r]=s;for(var o in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var l=Object.getOwnPropertySymbols(e);if(l.length!==1||l[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var u=Object.getOwnPropertyDescriptor(e,r);if(u.value!==s||u.enumerable!==!0)return!1}return!0}),Jb}var Zb,lE;function RD(){if(lE)return Zb;lE=1;var t=typeof Symbol<"u"&&Symbol,e=AC();return Zb=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Zb}var Yb,uE;function AD(){if(uE)return Yb;uE=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,n="[object Function]",s=function(d,m){for(var y=[],w=0;w<d.length;w+=1)y[w]=d[w];for(var E=0;E<m.length;E+=1)y[E+d.length]=m[E];return y},o=function(d,m){for(var y=[],w=m,E=0;w<d.length;w+=1,E+=1)y[E]=d[w];return y},l=function(u,d){for(var m="",y=0;y<u.length;y+=1)m+=u[y],y+1<u.length&&(m+=d);return m};return Yb=function(d){var m=this;if(typeof m!="function"||e.apply(m)!==n)throw new TypeError(t+m);for(var y=o(arguments,1),w,E=function(){if(this instanceof w){var D=m.apply(this,s(y,arguments));return Object(D)===D?D:this}return m.apply(d,s(y,arguments))},k=r(0,m.length-y.length),q=[],C=0;C<k;C++)q[C]="$"+C;if(w=Function("binder","return function ("+l(q,",")+"){ return binder.apply(this,arguments); }")(E),m.prototype){var A=function(){};A.prototype=m.prototype,w.prototype=new A,A.prototype=null}return w},Yb}var Xb,cE;function Ug(){if(cE)return Xb;cE=1;var t=AD();return Xb=Function.prototype.bind||t,Xb}var e_,dE;function l0(){return dE||(dE=1,e_=Function.prototype.call),e_}var t_,fE;function PC(){return fE||(fE=1,t_=Function.prototype.apply),t_}var r_,hE;function PD(){return hE||(hE=1,r_=typeof Reflect<"u"&&Reflect&&Reflect.apply),r_}var n_,pE;function jD(){if(pE)return n_;pE=1;var t=Ug(),e=PC(),r=l0(),n=PD();return n_=n||t.call(r,e),n_}var i_,mE;function jC(){if(mE)return i_;mE=1;var t=Ug(),e=OC(),r=l0(),n=jD();return i_=function(o){if(o.length<1||typeof o[0]!="function")throw new e("a function is required");return n(t,r,o)},i_}var s_,gE;function FD(){if(gE)return s_;gE=1;var t=jC(),e=RC(),r;try{r=[].__proto__===Array.prototype}catch(l){if(!l||typeof l!="object"||!("code"in l)||l.code!=="ERR_PROTO_ACCESS")throw l}var n=!!r&&e&&e(Object.prototype,"__proto__"),s=Object,o=s.getPrototypeOf;return s_=n&&typeof n.get=="function"?t([n.get]):typeof o=="function"?function(u){return o(u==null?u:s(u))}:!1,s_}var o_,yE;function LD(){if(yE)return o_;yE=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=Ug();return o_=r.call(t,e),o_}var a_,vE;function DD(){if(vE)return a_;vE=1;var t,e=vD(),r=bD(),n=_D(),s=wD(),o=xD(),l=SD(),u=OC(),d=ND(),m=ED(),y=kD(),w=ID(),E=qD(),k=CD(),q=Function,C=function(gt){try{return q('"use strict"; return ('+gt+").constructor;")()}catch{}},A=RC(),D=OD(),F=function(){throw new u},$=A?function(){try{return arguments.callee,F}catch{try{return A(arguments,"callee").get}catch{return F}}}():F,H=RD()(),G=FD(),B=typeof Reflect=="function"&&Reflect.getPrototypeOf||e.getPrototypeOf||G,Z=PC(),ie=l0(),V={},ne=typeof Uint8Array>"u"||!B?t:B(Uint8Array),M={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":H&&B?B([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":V,"%AsyncGenerator%":V,"%AsyncGeneratorFunction%":V,"%AsyncIteratorPrototype%":V,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":q,"%GeneratorFunction%":V,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":H&&B?B(B([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!H||!B?t:B(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":A,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":s,"%ReferenceError%":o,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!H||!B?t:B(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":H&&B?B(""[Symbol.iterator]()):t,"%Symbol%":H?Symbol:t,"%SyntaxError%":l,"%ThrowTypeError%":$,"%TypedArray%":ne,"%TypeError%":u,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":d,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":ie,"%Function.prototype.apply%":Z,"%Object.defineProperty%":D,"%Math.abs%":m,"%Math.floor%":y,"%Math.max%":w,"%Math.min%":E,"%Math.pow%":k};if(B)try{null.error}catch(gt){var oe=B(B(gt));M["%Error.prototype%"]=oe}var Y=function gt(ht){var vt;if(ht==="%AsyncFunction%")vt=C("async function () {}");else if(ht==="%GeneratorFunction%")vt=C("function* () {}");else if(ht==="%AsyncGeneratorFunction%")vt=C("async function* () {}");else if(ht==="%AsyncGenerator%"){var jt=gt("%AsyncGeneratorFunction%");jt&&(vt=jt.prototype)}else if(ht==="%AsyncIteratorPrototype%"){var bt=gt("%AsyncGenerator%");bt&&B&&(vt=B(bt.prototype))}return M[ht]=vt,vt},me={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Te=Ug(),Ce=LD(),je=Te.call(ie,Array.prototype.concat),be=Te.call(Z,Array.prototype.splice),ge=Te.call(ie,String.prototype.replace),Ee=Te.call(ie,String.prototype.slice),Q=Te.call(ie,RegExp.prototype.exec),Se=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ut=/\\(\\)?/g,lt=function(ht){var vt=Ee(ht,0,1),jt=Ee(ht,-1);if(vt==="%"&&jt!=="%")throw new l("invalid intrinsic syntax, expected closing `%`");if(jt==="%"&&vt!=="%")throw new l("invalid intrinsic syntax, expected opening `%`");var bt=[];return ge(ht,Se,function(yt,Ot,Ct,tr){bt[bt.length]=Ct?ge(tr,ut,"$1"):Ot||yt}),bt},ft=function(ht,vt){var jt=ht,bt;if(Ce(me,jt)&&(bt=me[jt],jt="%"+bt[0]+"%"),Ce(M,jt)){var yt=M[jt];if(yt===V&&(yt=Y(jt)),typeof yt>"u"&&!vt)throw new u("intrinsic "+ht+" exists, but is not available. Please file an issue!");return{alias:bt,name:jt,value:yt}}throw new l("intrinsic "+ht+" does not exist!")};return a_=function(ht,vt){if(typeof ht!="string"||ht.length===0)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof vt!="boolean")throw new u('"allowMissing" argument must be a boolean');if(Q(/^%?[^%]*%?$/,ht)===null)throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var jt=lt(ht),bt=jt.length>0?jt[0]:"",yt=ft("%"+bt+"%",vt),Ot=yt.name,Ct=yt.value,tr=!1,Yt=yt.alias;Yt&&(bt=Yt[0],be(jt,je([0,1],Yt)));for(var sr=1,mr=!0;sr<jt.length;sr+=1){var le=jt[sr],ce=Ee(le,0,1),ye=Ee(le,-1);if((ce==='"'||ce==="'"||ce==="`"||ye==='"'||ye==="'"||ye==="`")&&ce!==ye)throw new l("property names with quotes must have matching quotes");if((le==="constructor"||!mr)&&(tr=!0),bt+="."+le,Ot="%"+bt+"%",Ce(M,Ot))Ct=M[Ot];else if(Ct!=null){if(!(le in Ct)){if(!vt)throw new u("base intrinsic for "+ht+" exists, but the property is not available.");return}if(A&&sr+1>=jt.length){var Oe=A(Ct,le);mr=!!Oe,mr&&"get"in Oe&&!("originalValue"in Oe.get)?Ct=Oe.get:Ct=Ct[le]}else mr=Ce(Ct,le),Ct=Ct[le];mr&&!tr&&(M[Ot]=Ct)}}return Ct},a_}var l_,bE;function MD(){if(bE)return l_;bE=1;var t=DD(),e=jC(),r=e([t("%String.prototype.indexOf%")]);return l_=function(s,o){var l=t(s,!!o);return typeof l=="function"&&r(s,".prototype.")>-1?e([l]):l},l_}var u_,_E;function BD(){if(_E)return u_;_E=1;var t=AC();return u_=function(){return t()&&!!Symbol.toStringTag},u_}var c_,wE;function $D(){if(wE)return c_;wE=1;var t=MD(),e=t("String.prototype.valueOf"),r=function(u){try{return e(u),!0}catch{return!1}},n=t("Object.prototype.toString"),s="[object String]",o=BD()();return c_=function(u){return typeof u=="string"?!0:!u||typeof u!="object"?!1:o?r(u):n(u)===s},c_}var WD=$D();const zD=Ac(WD),ih=t=>zD(t),UD=(t,e,r={})=>{const n=[];return t.filter((o,l)=>{const u=r.regionLowerCase?o.toLowerCase():o;if(e.includes(u))return n.push({index:l,appLocale:u}),!0;const{isAvailable:d,appLocale:m}=VD(u,e,r);return d&&n.push({index:l,appLocale:r.regionLowerCase?m.toLowerCase():m}),d}).map((o,l)=>!n||n.length===0?o:n[l]?.appLocale)},VD=(t,e,r={})=>{r?.languageOnly||(r.languageOnly=!1);let n=t;return{isAvailable:e.some(o=>{if(!hm()&&!r.languageOnly&&t.split("-")[1]===void 0)return!1;const l=hm()?new Intl.Locale(t).minimize().language:t.split("-")[0],u=hm()?new Intl.Locale(o).minimize().language:o.split("-")[0],d=l===u;return d&&(n=o),d}),appLocale:n}},HD=(t={})=>{t?.regionLowerCase||(t.regionLowerCase=!1);let e=[];return Intl&&"DateTimeFormat"in Intl?e=[Intl.DateTimeFormat().resolvedOptions().locale]:typeof window=="object"&&window?.navigator?.languages&&(e=[...window.navigator.languages]),e.map(r=>t.regionLowerCase?r.toLowerCase():r)},hm=()=>Intl&&"Locale"in Intl,QD=(t,e={})=>{e?.regionLowerCase||(e.regionLowerCase=!1),e?.languageOnly||(e.languageOnly=!1);const r=t.map(n=>{const s=n.split("-");if(e.languageOnly)return s[0];const o=hm()?new Intl.Locale(n).maximize():{language:s[0],script:s.length===3?s[1]:void 0,region:s.length===3?s[2]:s[1]},{language:l,script:u}=o;let{region:d}=o;return e.regionLowerCase&&d&&(d=d.toLowerCase()),s.length>2?`${l}-${u}-${d}`:d?`${l}-${d}`:l});return[...new Set(r)]},KD=(t,e,r={})=>{r.regionLowerCase||(r.regionLowerCase=!1),r.languageOnly||(r.languageOnly=!1);const n=HD(r),s=QD([...n,t],r);return UD(s,e,r)[0]||t},GD=({available:t,fallback:e})=>KD(e,t,{languageOnly:!0});var d_={exports:{}};const JD={},ZD=Object.freeze(Object.defineProperty({__proto__:null,default:JD},Symbol.toStringTag,{value:"Module"})),xE=wR(ZD);var SE;function YD(){return SE||(SE=1,function(t){(function(){var e="input is invalid type",r=typeof window=="object",n=r?window:{};n.JS_SHA256_NO_WINDOW&&(r=!1);var s=!r&&typeof self=="object",o=!n.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?n=B_:s&&(n=self);var l=!n.JS_SHA256_NO_COMMON_JS&&!0&&t.exports,u=!n.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",d="0123456789abcdef".split(""),m=[-0x80000000,8388608,32768,128],y=[24,16,8,0],w=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2],E=["hex","array","digest","arrayBuffer"],k=[];(n.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(B){return Object.prototype.toString.call(B)==="[object Array]"}),u&&(n.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(B){return typeof B=="object"&&B.buffer&&B.buffer.constructor===ArrayBuffer});var q=function(B,Z){return function(ie){return new $(Z,!0).update(ie)[B]()}},C=function(B){var Z=q("hex",B);o&&(Z=A(Z,B)),Z.create=function(){return new $(B)},Z.update=function(ne){return Z.create().update(ne)};for(var ie=0;ie<E.length;++ie){var V=E[ie];Z[V]=q(V,B)}return Z},A=function(B,Z){var ie=xE,V=xE.Buffer,ne=Z?"sha224":"sha256",M;V.from&&!n.JS_SHA256_NO_BUFFER_FROM?M=V.from:M=function(Y){return new V(Y)};var oe=function(Y){if(typeof Y=="string")return ie.createHash(ne).update(Y,"utf8").digest("hex");if(Y==null)throw new Error(e);return Y.constructor===ArrayBuffer&&(Y=new Uint8Array(Y)),Array.isArray(Y)||ArrayBuffer.isView(Y)||Y.constructor===V?ie.createHash(ne).update(M(Y)).digest("hex"):B(Y)};return oe},D=function(B,Z){return function(ie,V){return new H(ie,Z,!0).update(V)[B]()}},F=function(B){var Z=D("hex",B);Z.create=function(ne){return new H(ne,B)},Z.update=function(ne,M){return Z.create(ne).update(M)};for(var ie=0;ie<E.length;++ie){var V=E[ie];Z[V]=D(V,B)}return Z};function $(B,Z){Z?(k[0]=k[16]=k[1]=k[2]=k[3]=k[4]=k[5]=k[6]=k[7]=k[8]=k[9]=k[10]=k[11]=k[12]=k[13]=k[14]=k[15]=0,this.blocks=k):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],B?(this.h0=0xc1059ed8,this.h1=0x367cd507,this.h2=0x3070dd17,this.h3=0xf70e5939,this.h4=0xffc00b31,this.h5=0x68581511,this.h6=0x64f98fa7,this.h7=0xbefa4fa4):(this.h0=0x6a09e667,this.h1=0xbb67ae85,this.h2=0x3c6ef372,this.h3=0xa54ff53a,this.h4=0x510e527f,this.h5=0x9b05688c,this.h6=0x1f83d9ab,this.h7=0x5be0cd19),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=B}$.prototype.update=function(B){if(!this.finalized){var Z,ie=typeof B;if(ie!=="string"){if(ie==="object"){if(B===null)throw new Error(e);if(u&&B.constructor===ArrayBuffer)B=new Uint8Array(B);else if(!Array.isArray(B)&&(!u||!ArrayBuffer.isView(B)))throw new Error(e)}else throw new Error(e);Z=!0}for(var V,ne=0,M,oe=B.length,Y=this.blocks;ne<oe;){if(this.hashed&&(this.hashed=!1,Y[0]=this.block,this.block=Y[16]=Y[1]=Y[2]=Y[3]=Y[4]=Y[5]=Y[6]=Y[7]=Y[8]=Y[9]=Y[10]=Y[11]=Y[12]=Y[13]=Y[14]=Y[15]=0),Z)for(M=this.start;ne<oe&&M<64;++ne)Y[M>>>2]|=B[ne]<<y[M++&3];else for(M=this.start;ne<oe&&M<64;++ne)V=B.charCodeAt(ne),V<128?Y[M>>>2]|=V<<y[M++&3]:V<2048?(Y[M>>>2]|=(192|V>>>6)<<y[M++&3],Y[M>>>2]|=(128|V&63)<<y[M++&3]):V<55296||V>=57344?(Y[M>>>2]|=(224|V>>>12)<<y[M++&3],Y[M>>>2]|=(128|V>>>6&63)<<y[M++&3],Y[M>>>2]|=(128|V&63)<<y[M++&3]):(V=65536+((V&1023)<<10|B.charCodeAt(++ne)&1023),Y[M>>>2]|=(240|V>>>18)<<y[M++&3],Y[M>>>2]|=(128|V>>>12&63)<<y[M++&3],Y[M>>>2]|=(128|V>>>6&63)<<y[M++&3],Y[M>>>2]|=(128|V&63)<<y[M++&3]);this.lastByteIndex=M,this.bytes+=M-this.start,M>=64?(this.block=Y[16],this.start=M-64,this.hash(),this.hashed=!0):this.start=M}return this.bytes>0xffffffff&&(this.hBytes+=this.bytes/0x100000000<<0,this.bytes=this.bytes%0x100000000),this}},$.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var B=this.blocks,Z=this.lastByteIndex;B[16]=this.block,B[Z>>>2]|=m[Z&3],this.block=B[16],Z>=56&&(this.hashed||this.hash(),B[0]=this.block,B[16]=B[1]=B[2]=B[3]=B[4]=B[5]=B[6]=B[7]=B[8]=B[9]=B[10]=B[11]=B[12]=B[13]=B[14]=B[15]=0),B[14]=this.hBytes<<3|this.bytes>>>29,B[15]=this.bytes<<3,this.hash()}},$.prototype.hash=function(){var B=this.h0,Z=this.h1,ie=this.h2,V=this.h3,ne=this.h4,M=this.h5,oe=this.h6,Y=this.h7,me=this.blocks,Te,Ce,je,be,ge,Ee,Q,Se,ut,lt,ft;for(Te=16;Te<64;++Te)ge=me[Te-15],Ce=(ge>>>7|ge<<25)^(ge>>>18|ge<<14)^ge>>>3,ge=me[Te-2],je=(ge>>>17|ge<<15)^(ge>>>19|ge<<13)^ge>>>10,me[Te]=me[Te-16]+Ce+me[Te-7]+je<<0;for(ft=Z&ie,Te=0;Te<64;Te+=4)this.first?(this.is224?(Se=300032,ge=me[0]-0x543c9a5b,Y=ge-0x8f1a6c7<<0,V=ge+0x170e9b5<<0):(Se=0x2a01a605,ge=me[0]-0xc881298,Y=ge-0x5ab00ac6<<0,V=ge+0x8909ae5<<0),this.first=!1):(Ce=(B>>>2|B<<30)^(B>>>13|B<<19)^(B>>>22|B<<10),je=(ne>>>6|ne<<26)^(ne>>>11|ne<<21)^(ne>>>25|ne<<7),Se=B&Z,be=Se^B&ie^ft,Q=ne&M^~ne&oe,ge=Y+je+Q+w[Te]+me[Te],Ee=Ce+be,Y=V+ge<<0,V=ge+Ee<<0),Ce=(V>>>2|V<<30)^(V>>>13|V<<19)^(V>>>22|V<<10),je=(Y>>>6|Y<<26)^(Y>>>11|Y<<21)^(Y>>>25|Y<<7),ut=V&B,be=ut^V&Z^Se,Q=Y&ne^~Y&M,ge=oe+je+Q+w[Te+1]+me[Te+1],Ee=Ce+be,oe=ie+ge<<0,ie=ge+Ee<<0,Ce=(ie>>>2|ie<<30)^(ie>>>13|ie<<19)^(ie>>>22|ie<<10),je=(oe>>>6|oe<<26)^(oe>>>11|oe<<21)^(oe>>>25|oe<<7),lt=ie&V,be=lt^ie&B^ut,Q=oe&Y^~oe&ne,ge=M+je+Q+w[Te+2]+me[Te+2],Ee=Ce+be,M=Z+ge<<0,Z=ge+Ee<<0,Ce=(Z>>>2|Z<<30)^(Z>>>13|Z<<19)^(Z>>>22|Z<<10),je=(M>>>6|M<<26)^(M>>>11|M<<21)^(M>>>25|M<<7),ft=Z&ie,be=ft^Z&V^lt,Q=M&oe^~M&Y,ge=ne+je+Q+w[Te+3]+me[Te+3],Ee=Ce+be,ne=B+ge<<0,B=ge+Ee<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+B<<0,this.h1=this.h1+Z<<0,this.h2=this.h2+ie<<0,this.h3=this.h3+V<<0,this.h4=this.h4+ne<<0,this.h5=this.h5+M<<0,this.h6=this.h6+oe<<0,this.h7=this.h7+Y<<0},$.prototype.hex=function(){this.finalize();var B=this.h0,Z=this.h1,ie=this.h2,V=this.h3,ne=this.h4,M=this.h5,oe=this.h6,Y=this.h7,me=d[B>>>28&15]+d[B>>>24&15]+d[B>>>20&15]+d[B>>>16&15]+d[B>>>12&15]+d[B>>>8&15]+d[B>>>4&15]+d[B&15]+d[Z>>>28&15]+d[Z>>>24&15]+d[Z>>>20&15]+d[Z>>>16&15]+d[Z>>>12&15]+d[Z>>>8&15]+d[Z>>>4&15]+d[Z&15]+d[ie>>>28&15]+d[ie>>>24&15]+d[ie>>>20&15]+d[ie>>>16&15]+d[ie>>>12&15]+d[ie>>>8&15]+d[ie>>>4&15]+d[ie&15]+d[V>>>28&15]+d[V>>>24&15]+d[V>>>20&15]+d[V>>>16&15]+d[V>>>12&15]+d[V>>>8&15]+d[V>>>4&15]+d[V&15]+d[ne>>>28&15]+d[ne>>>24&15]+d[ne>>>20&15]+d[ne>>>16&15]+d[ne>>>12&15]+d[ne>>>8&15]+d[ne>>>4&15]+d[ne&15]+d[M>>>28&15]+d[M>>>24&15]+d[M>>>20&15]+d[M>>>16&15]+d[M>>>12&15]+d[M>>>8&15]+d[M>>>4&15]+d[M&15]+d[oe>>>28&15]+d[oe>>>24&15]+d[oe>>>20&15]+d[oe>>>16&15]+d[oe>>>12&15]+d[oe>>>8&15]+d[oe>>>4&15]+d[oe&15];return this.is224||(me+=d[Y>>>28&15]+d[Y>>>24&15]+d[Y>>>20&15]+d[Y>>>16&15]+d[Y>>>12&15]+d[Y>>>8&15]+d[Y>>>4&15]+d[Y&15]),me},$.prototype.toString=$.prototype.hex,$.prototype.digest=function(){this.finalize();var B=this.h0,Z=this.h1,ie=this.h2,V=this.h3,ne=this.h4,M=this.h5,oe=this.h6,Y=this.h7,me=[B>>>24&255,B>>>16&255,B>>>8&255,B&255,Z>>>24&255,Z>>>16&255,Z>>>8&255,Z&255,ie>>>24&255,ie>>>16&255,ie>>>8&255,ie&255,V>>>24&255,V>>>16&255,V>>>8&255,V&255,ne>>>24&255,ne>>>16&255,ne>>>8&255,ne&255,M>>>24&255,M>>>16&255,M>>>8&255,M&255,oe>>>24&255,oe>>>16&255,oe>>>8&255,oe&255];return this.is224||me.push(Y>>>24&255,Y>>>16&255,Y>>>8&255,Y&255),me},$.prototype.array=$.prototype.digest,$.prototype.arrayBuffer=function(){this.finalize();var B=new ArrayBuffer(this.is224?28:32),Z=new DataView(B);return Z.setUint32(0,this.h0),Z.setUint32(4,this.h1),Z.setUint32(8,this.h2),Z.setUint32(12,this.h3),Z.setUint32(16,this.h4),Z.setUint32(20,this.h5),Z.setUint32(24,this.h6),this.is224||Z.setUint32(28,this.h7),B};function H(B,Z,ie){var V,ne=typeof B;if(ne==="string"){var M=[],oe=B.length,Y=0,me;for(V=0;V<oe;++V)me=B.charCodeAt(V),me<128?M[Y++]=me:me<2048?(M[Y++]=192|me>>>6,M[Y++]=128|me&63):me<55296||me>=57344?(M[Y++]=224|me>>>12,M[Y++]=128|me>>>6&63,M[Y++]=128|me&63):(me=65536+((me&1023)<<10|B.charCodeAt(++V)&1023),M[Y++]=240|me>>>18,M[Y++]=128|me>>>12&63,M[Y++]=128|me>>>6&63,M[Y++]=128|me&63);B=M}else if(ne==="object"){if(B===null)throw new Error(e);if(u&&B.constructor===ArrayBuffer)B=new Uint8Array(B);else if(!Array.isArray(B)&&(!u||!ArrayBuffer.isView(B)))throw new Error(e)}else throw new Error(e);B.length>64&&(B=new $(Z,!0).update(B).array());var Te=[],Ce=[];for(V=0;V<64;++V){var je=B[V]||0;Te[V]=92^je,Ce[V]=54^je}$.call(this,Z,ie),this.update(Ce),this.oKeyPad=Te,this.inner=!0,this.sharedMemory=ie}H.prototype=new $,H.prototype.finalize=function(){if($.prototype.finalize.call(this),this.inner){this.inner=!1;var B=this.array();$.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(B),$.prototype.finalize.call(this)}};var G=C();G.sha256=G,G.sha224=C(!0),G.sha256.hmac=F(),G.sha224.hmac=F(!0),l?t.exports=G:(n.sha256=G.sha256,n.sha224=G.sha224)})()}(d_)),d_.exports}var dw=YD();const XD=dw.sha224,FC=({index:t,key:e,fallback:r})=>t[XD(e)]?.value??t[e]?.value??r??e,eM=({index:t,key:e,fallback:r})=>FC({index:t,key:e,fallback:r}),tM=({index:t,key:e,fallback:r})=>FC({index:t,key:e,fallback:r}),_r={index:{},push(t){this.index={...this.index,...t}},text:(t,e)=>eM({index:_r.index,key:t,fallback:e}),rich:(t,e)=>tM({index:_r.index,key:t,fallback:e})},LC={hash(t){return dw.sha224(t)},verify(t,e){return dw.sha224(t)===e}};var yr;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const o={};for(const l of s)o[l]=l;return o},t.getValidEnumValues=s=>{const o=t.objectKeys(s).filter(u=>typeof s[s[u]]!="number"),l={};for(const u of o)l[u]=s[u];return t.objectValues(l)},t.objectValues=s=>t.objectKeys(s).map(function(o){return s[o]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const o=[];for(const l in s)Object.prototype.hasOwnProperty.call(s,l)&&o.push(l);return o},t.find=(s,o)=>{for(const l of s)if(o(l))return l},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,o=" | "){return s.map(l=>typeof l=="string"?`'${l}'`:l).join(o)}t.joinValues=n,t.jsonStringifyReplacer=(s,o)=>typeof o=="bigint"?o.toString():o})(yr||(yr={}));var fw;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(fw||(fw={}));const qt=yr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),na=t=>{switch(typeof t){case"undefined":return qt.undefined;case"string":return qt.string;case"number":return isNaN(t)?qt.nan:qt.number;case"boolean":return qt.boolean;case"function":return qt.function;case"bigint":return qt.bigint;case"symbol":return qt.symbol;case"object":return Array.isArray(t)?qt.array:t===null?qt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?qt.promise:typeof Map<"u"&&t instanceof Map?qt.map:typeof Set<"u"&&t instanceof Set?qt.set:typeof Date<"u"&&t instanceof Date?qt.date:qt.object;default:return qt.unknown}},st=yr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),rM=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class as extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(o){return o.message},n={_errors:[]},s=o=>{for(const l of o.issues)if(l.code==="invalid_union")l.unionErrors.map(s);else if(l.code==="invalid_return_type")s(l.returnTypeError);else if(l.code==="invalid_arguments")s(l.argumentsError);else if(l.path.length===0)n._errors.push(r(l));else{let u=n,d=0;for(;d<l.path.length;){const m=l.path[d];d===l.path.length-1?(u[m]=u[m]||{_errors:[]},u[m]._errors.push(r(l))):u[m]=u[m]||{_errors:[]},u=u[m],d++}}};return s(this),n}static assert(e){if(!(e instanceof as))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,yr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}as.create=t=>new as(t);const Nc=(t,e)=>{let r;switch(t.code){case st.invalid_type:t.received===qt.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case st.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,yr.jsonStringifyReplacer)}`;break;case st.unrecognized_keys:r=`Unrecognized key(s) in object: ${yr.joinValues(t.keys,", ")}`;break;case st.invalid_union:r="Invalid input";break;case st.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${yr.joinValues(t.options)}`;break;case st.invalid_enum_value:r=`Invalid enum value. Expected ${yr.joinValues(t.options)}, received '${t.received}'`;break;case st.invalid_arguments:r="Invalid function arguments";break;case st.invalid_return_type:r="Invalid function return type";break;case st.invalid_date:r="Invalid date";break;case st.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:yr.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case st.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case st.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case st.custom:r="Invalid input";break;case st.invalid_intersection_types:r="Intersection results could not be merged";break;case st.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case st.not_finite:r="Number must be finite";break;default:r=e.defaultError,yr.assertNever(t)}return{message:r}};let DC=Nc;function nM(t){DC=t}function Qm(){return DC}const Km=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,o=[...r,...s.path||[]],l={...s,path:o};if(s.message!==void 0)return{...s,path:o,message:s.message};let u="";const d=n.filter(m=>!!m).slice().reverse();for(const m of d)u=m(l,{data:e,defaultError:u}).message;return{...s,path:o,message:u}},iM=[];function St(t,e){const r=Qm(),n=Km({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Nc?void 0:Nc].filter(s=>!!s)});t.common.issues.push(n)}class ui{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return Gt;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const o=await s.key,l=await s.value;n.push({key:o,value:l})}return ui.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:o,value:l}=s;if(o.status==="aborted"||l.status==="aborted")return Gt;o.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof l.value<"u"||s.alwaysSet)&&(n[o.value]=l.value)}return{status:e.value,value:n}}}const Gt=Object.freeze({status:"aborted"}),Yu=t=>({status:"dirty",value:t}),Si=t=>({status:"valid",value:t}),hw=t=>t.status==="aborted",pw=t=>t.status==="dirty",eu=t=>t.status==="valid",Sf=t=>typeof Promise<"u"&&t instanceof Promise;function Gm(t,e,r,n){if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function MC(t,e,r,n,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var Bt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Bt||(Bt={}));var Qd,Kd;class Eo{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const NE=(t,e)=>{if(eu(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new as(t.common.issues);return this._error=r,this._error}}};function lr(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(l,u)=>{var d,m;const{message:y}=t;return l.code==="invalid_enum_value"?{message:y??u.defaultError}:typeof u.data>"u"?{message:(d=y??n)!==null&&d!==void 0?d:u.defaultError}:l.code!=="invalid_type"?{message:u.defaultError}:{message:(m=y??r)!==null&&m!==void 0?m:u.defaultError}},description:s}}class dr{get description(){return this._def.description}_getType(e){return na(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:na(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new ui,ctx:{common:e.parent.common,data:e.data,parsedType:na(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Sf(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const s={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:na(e)},o=this._parseSync({data:e,path:s.path,parent:s});return NE(s,o)}"~validate"(e){var r,n;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:na(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:s});return eu(o)?{value:o.value}:{issues:s.common.issues}}catch(o){!((n=(r=o?.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(o=>eu(o)?{value:o.value}:{issues:s.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:na(e)},s=this._parse({data:e,path:n.path,parent:n}),o=await (Sf(s)?s:Promise.resolve(s));return NE(n,o)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,o)=>{const l=e(s),u=()=>o.addIssue({code:st.custom,...n(s)});return typeof Promise<"u"&&l instanceof Promise?l.then(d=>d?!0:(u(),!1)):l?!0:(u(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new Xs({schema:this,typeName:Kt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return So.create(this,this._def)}nullable(){return sl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Zs.create(this)}promise(){return kc.create(this,this._def)}or(e){return If.create([this,e],this._def)}and(e){return qf.create(this,e,this._def)}transform(e){return new Xs({...lr(this._def),schema:this,typeName:Kt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Af({...lr(this._def),innerType:this,defaultValue:r,typeName:Kt.ZodDefault})}brand(){return new u0({typeName:Kt.ZodBranded,type:this,...lr(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Pf({...lr(this._def),innerType:this,catchValue:r,typeName:Kt.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return sh.create(this,e)}readonly(){return jf.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const sM=/^c[^\s-]{8,}$/i,oM=/^[0-9a-z]+$/,aM=/^[0-9A-HJKMNP-TV-Z]{26}$/i,lM=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,uM=/^[a-z0-9_-]{21}$/i,cM=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,dM=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,fM=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,hM="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let f_;const pM=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,mM=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,gM=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,yM=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,vM=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,bM=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,BC="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",_M=new RegExp(`^${BC}$`);function $C(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function wM(t){return new RegExp(`^${$C(t)}$`)}function WC(t){let e=`${BC}T${$C(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function xM(t,e){return!!((e==="v4"||!e)&&pM.test(t)||(e==="v6"||!e)&&gM.test(t))}function SM(t,e){if(!cM.test(t))return!1;try{const[r]=t.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function NM(t,e){return!!((e==="v4"||!e)&&mM.test(t)||(e==="v6"||!e)&&yM.test(t))}class Js extends dr{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==qt.string){const o=this._getOrReturnCtx(e);return St(o,{code:st.invalid_type,expected:qt.string,received:o.parsedType}),Gt}const n=new ui;let s;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(s=this._getOrReturnCtx(e,s),St(s,{code:st.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="max")e.data.length>o.value&&(s=this._getOrReturnCtx(e,s),St(s,{code:st.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="length"){const l=e.data.length>o.value,u=e.data.length<o.value;(l||u)&&(s=this._getOrReturnCtx(e,s),l?St(s,{code:st.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):u&&St(s,{code:st.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),n.dirty())}else if(o.kind==="email")fM.test(e.data)||(s=this._getOrReturnCtx(e,s),St(s,{validation:"email",code:st.invalid_string,message:o.message}),n.dirty());else if(o.kind==="emoji")f_||(f_=new RegExp(hM,"u")),f_.test(e.data)||(s=this._getOrReturnCtx(e,s),St(s,{validation:"emoji",code:st.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")lM.test(e.data)||(s=this._getOrReturnCtx(e,s),St(s,{validation:"uuid",code:st.invalid_string,message:o.message}),n.dirty());else if(o.kind==="nanoid")uM.test(e.data)||(s=this._getOrReturnCtx(e,s),St(s,{validation:"nanoid",code:st.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")sM.test(e.data)||(s=this._getOrReturnCtx(e,s),St(s,{validation:"cuid",code:st.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid2")oM.test(e.data)||(s=this._getOrReturnCtx(e,s),St(s,{validation:"cuid2",code:st.invalid_string,message:o.message}),n.dirty());else if(o.kind==="ulid")aM.test(e.data)||(s=this._getOrReturnCtx(e,s),St(s,{validation:"ulid",code:st.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),St(s,{validation:"url",code:st.invalid_string,message:o.message}),n.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),St(s,{validation:"regex",code:st.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(s=this._getOrReturnCtx(e,s),St(s,{code:st.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),n.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(s=this._getOrReturnCtx(e,s),St(s,{code:st.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(s=this._getOrReturnCtx(e,s),St(s,{code:st.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):o.kind==="datetime"?WC(o).test(e.data)||(s=this._getOrReturnCtx(e,s),St(s,{code:st.invalid_string,validation:"datetime",message:o.message}),n.dirty()):o.kind==="date"?_M.test(e.data)||(s=this._getOrReturnCtx(e,s),St(s,{code:st.invalid_string,validation:"date",message:o.message}),n.dirty()):o.kind==="time"?wM(o).test(e.data)||(s=this._getOrReturnCtx(e,s),St(s,{code:st.invalid_string,validation:"time",message:o.message}),n.dirty()):o.kind==="duration"?dM.test(e.data)||(s=this._getOrReturnCtx(e,s),St(s,{validation:"duration",code:st.invalid_string,message:o.message}),n.dirty()):o.kind==="ip"?xM(e.data,o.version)||(s=this._getOrReturnCtx(e,s),St(s,{validation:"ip",code:st.invalid_string,message:o.message}),n.dirty()):o.kind==="jwt"?SM(e.data,o.alg)||(s=this._getOrReturnCtx(e,s),St(s,{validation:"jwt",code:st.invalid_string,message:o.message}),n.dirty()):o.kind==="cidr"?NM(e.data,o.version)||(s=this._getOrReturnCtx(e,s),St(s,{validation:"cidr",code:st.invalid_string,message:o.message}),n.dirty()):o.kind==="base64"?vM.test(e.data)||(s=this._getOrReturnCtx(e,s),St(s,{validation:"base64",code:st.invalid_string,message:o.message}),n.dirty()):o.kind==="base64url"?bM.test(e.data)||(s=this._getOrReturnCtx(e,s),St(s,{validation:"base64url",code:st.invalid_string,message:o.message}),n.dirty()):yr.assertNever(o);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:st.invalid_string,...Bt.errToObj(n)})}_addCheck(e){return new Js({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Bt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Bt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Bt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Bt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Bt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Bt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Bt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Bt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Bt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Bt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Bt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Bt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Bt.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,local:(n=e?.local)!==null&&n!==void 0?n:!1,...Bt.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Bt.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Bt.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Bt.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...Bt.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Bt.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Bt.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Bt.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Bt.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Bt.errToObj(r)})}nonempty(e){return this.min(1,Bt.errToObj(e))}trim(){return new Js({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Js({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Js({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Js.create=t=>{var e;return new Js({checks:[],typeName:Kt.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...lr(t)})};function EM(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,o=parseInt(t.toFixed(s).replace(".","")),l=parseInt(e.toFixed(s).replace(".",""));return o%l/Math.pow(10,s)}class rl extends dr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==qt.number){const o=this._getOrReturnCtx(e);return St(o,{code:st.invalid_type,expected:qt.number,received:o.parsedType}),Gt}let n;const s=new ui;for(const o of this._def.checks)o.kind==="int"?yr.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),St(n,{code:st.invalid_type,expected:"integer",received:"float",message:o.message}),s.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n=this._getOrReturnCtx(e,n),St(n,{code:st.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n=this._getOrReturnCtx(e,n),St(n,{code:st.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="multipleOf"?EM(e.data,o.value)!==0&&(n=this._getOrReturnCtx(e,n),St(n,{code:st.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),St(n,{code:st.not_finite,message:o.message}),s.dirty()):yr.assertNever(o);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Bt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Bt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Bt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Bt.toString(r))}setLimit(e,r,n,s){return new rl({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Bt.toString(s)}]})}_addCheck(e){return new rl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Bt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Bt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Bt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Bt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Bt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Bt.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Bt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Bt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Bt.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&yr.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}rl.create=t=>new rl({checks:[],typeName:Kt.ZodNumber,coerce:t?.coerce||!1,...lr(t)});class nl extends dr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==qt.bigint)return this._getInvalidInput(e);let n;const s=new ui;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(n=this._getOrReturnCtx(e,n),St(n,{code:st.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(n=this._getOrReturnCtx(e,n),St(n,{code:st.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),St(n,{code:st.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):yr.assertNever(o);return{status:s.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return St(r,{code:st.invalid_type,expected:qt.bigint,received:r.parsedType}),Gt}gte(e,r){return this.setLimit("min",e,!0,Bt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Bt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Bt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Bt.toString(r))}setLimit(e,r,n,s){return new nl({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Bt.toString(s)}]})}_addCheck(e){return new nl({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Bt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Bt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Bt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Bt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Bt.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}nl.create=t=>{var e;return new nl({checks:[],typeName:Kt.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...lr(t)})};class Nf extends dr{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==qt.boolean){const n=this._getOrReturnCtx(e);return St(n,{code:st.invalid_type,expected:qt.boolean,received:n.parsedType}),Gt}return Si(e.data)}}Nf.create=t=>new Nf({typeName:Kt.ZodBoolean,coerce:t?.coerce||!1,...lr(t)});class tu extends dr{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==qt.date){const o=this._getOrReturnCtx(e);return St(o,{code:st.invalid_type,expected:qt.date,received:o.parsedType}),Gt}if(isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return St(o,{code:st.invalid_date}),Gt}const n=new ui;let s;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(s=this._getOrReturnCtx(e,s),St(s,{code:st.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(s=this._getOrReturnCtx(e,s),St(s,{code:st.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),n.dirty()):yr.assertNever(o);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new tu({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Bt.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Bt.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}tu.create=t=>new tu({checks:[],coerce:t?.coerce||!1,typeName:Kt.ZodDate,...lr(t)});class Jm extends dr{_parse(e){if(this._getType(e)!==qt.symbol){const n=this._getOrReturnCtx(e);return St(n,{code:st.invalid_type,expected:qt.symbol,received:n.parsedType}),Gt}return Si(e.data)}}Jm.create=t=>new Jm({typeName:Kt.ZodSymbol,...lr(t)});class Ef extends dr{_parse(e){if(this._getType(e)!==qt.undefined){const n=this._getOrReturnCtx(e);return St(n,{code:st.invalid_type,expected:qt.undefined,received:n.parsedType}),Gt}return Si(e.data)}}Ef.create=t=>new Ef({typeName:Kt.ZodUndefined,...lr(t)});class kf extends dr{_parse(e){if(this._getType(e)!==qt.null){const n=this._getOrReturnCtx(e);return St(n,{code:st.invalid_type,expected:qt.null,received:n.parsedType}),Gt}return Si(e.data)}}kf.create=t=>new kf({typeName:Kt.ZodNull,...lr(t)});class Ec extends dr{constructor(){super(...arguments),this._any=!0}_parse(e){return Si(e.data)}}Ec.create=t=>new Ec({typeName:Kt.ZodAny,...lr(t)});class Jl extends dr{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Si(e.data)}}Jl.create=t=>new Jl({typeName:Kt.ZodUnknown,...lr(t)});class ca extends dr{_parse(e){const r=this._getOrReturnCtx(e);return St(r,{code:st.invalid_type,expected:qt.never,received:r.parsedType}),Gt}}ca.create=t=>new ca({typeName:Kt.ZodNever,...lr(t)});class Zm extends dr{_parse(e){if(this._getType(e)!==qt.undefined){const n=this._getOrReturnCtx(e);return St(n,{code:st.invalid_type,expected:qt.void,received:n.parsedType}),Gt}return Si(e.data)}}Zm.create=t=>new Zm({typeName:Kt.ZodVoid,...lr(t)});class Zs extends dr{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==qt.array)return St(r,{code:st.invalid_type,expected:qt.array,received:r.parsedType}),Gt;if(s.exactLength!==null){const l=r.data.length>s.exactLength.value,u=r.data.length<s.exactLength.value;(l||u)&&(St(r,{code:l?st.too_big:st.too_small,minimum:u?s.exactLength.value:void 0,maximum:l?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(St(r,{code:st.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(St(r,{code:st.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((l,u)=>s.type._parseAsync(new Eo(r,l,r.path,u)))).then(l=>ui.mergeArray(n,l));const o=[...r.data].map((l,u)=>s.type._parseSync(new Eo(r,l,r.path,u)));return ui.mergeArray(n,o)}get element(){return this._def.type}min(e,r){return new Zs({...this._def,minLength:{value:e,message:Bt.toString(r)}})}max(e,r){return new Zs({...this._def,maxLength:{value:e,message:Bt.toString(r)}})}length(e,r){return new Zs({...this._def,exactLength:{value:e,message:Bt.toString(r)}})}nonempty(e){return this.min(1,e)}}Zs.create=(t,e)=>new Zs({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Kt.ZodArray,...lr(e)});function Ku(t){if(t instanceof cn){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=So.create(Ku(n))}return new cn({...t._def,shape:()=>e})}else return t instanceof Zs?new Zs({...t._def,type:Ku(t.element)}):t instanceof So?So.create(Ku(t.unwrap())):t instanceof sl?sl.create(Ku(t.unwrap())):t instanceof ko?ko.create(t.items.map(e=>Ku(e))):t}class cn extends dr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=yr.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==qt.object){const m=this._getOrReturnCtx(e);return St(m,{code:st.invalid_type,expected:qt.object,received:m.parsedType}),Gt}const{status:n,ctx:s}=this._processInputParams(e),{shape:o,keys:l}=this._getCached(),u=[];if(!(this._def.catchall instanceof ca&&this._def.unknownKeys==="strip"))for(const m in s.data)l.includes(m)||u.push(m);const d=[];for(const m of l){const y=o[m],w=s.data[m];d.push({key:{status:"valid",value:m},value:y._parse(new Eo(s,w,s.path,m)),alwaysSet:m in s.data})}if(this._def.catchall instanceof ca){const m=this._def.unknownKeys;if(m==="passthrough")for(const y of u)d.push({key:{status:"valid",value:y},value:{status:"valid",value:s.data[y]}});else if(m==="strict")u.length>0&&(St(s,{code:st.unrecognized_keys,keys:u}),n.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const y of u){const w=s.data[y];d.push({key:{status:"valid",value:y},value:m._parse(new Eo(s,w,s.path,y)),alwaysSet:y in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const m=[];for(const y of d){const w=await y.key,E=await y.value;m.push({key:w,value:E,alwaysSet:y.alwaysSet})}return m}).then(m=>ui.mergeObjectSync(n,m)):ui.mergeObjectSync(n,d)}get shape(){return this._def.shape()}strict(e){return Bt.errToObj,new cn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var s,o,l,u;const d=(l=(o=(s=this._def).errorMap)===null||o===void 0?void 0:o.call(s,r,n).message)!==null&&l!==void 0?l:n.defaultError;return r.code==="unrecognized_keys"?{message:(u=Bt.errToObj(e).message)!==null&&u!==void 0?u:d}:{message:d}}}:{}})}strip(){return new cn({...this._def,unknownKeys:"strip"})}passthrough(){return new cn({...this._def,unknownKeys:"passthrough"})}extend(e){return new cn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new cn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Kt.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new cn({...this._def,catchall:e})}pick(e){const r={};return yr.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new cn({...this._def,shape:()=>r})}omit(e){const r={};return yr.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new cn({...this._def,shape:()=>r})}deepPartial(){return Ku(this)}partial(e){const r={};return yr.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}),new cn({...this._def,shape:()=>r})}required(e){const r={};return yr.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let o=this.shape[n];for(;o instanceof So;)o=o._def.innerType;r[n]=o}}),new cn({...this._def,shape:()=>r})}keyof(){return zC(yr.objectKeys(this.shape))}}cn.create=(t,e)=>new cn({shape:()=>t,unknownKeys:"strip",catchall:ca.create(),typeName:Kt.ZodObject,...lr(e)});cn.strictCreate=(t,e)=>new cn({shape:()=>t,unknownKeys:"strict",catchall:ca.create(),typeName:Kt.ZodObject,...lr(e)});cn.lazycreate=(t,e)=>new cn({shape:t,unknownKeys:"strip",catchall:ca.create(),typeName:Kt.ZodObject,...lr(e)});class If extends dr{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(o){for(const u of o)if(u.result.status==="valid")return u.result;for(const u of o)if(u.result.status==="dirty")return r.common.issues.push(...u.ctx.common.issues),u.result;const l=o.map(u=>new as(u.ctx.common.issues));return St(r,{code:st.invalid_union,unionErrors:l}),Gt}if(r.common.async)return Promise.all(n.map(async o=>{const l={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:l}),ctx:l}})).then(s);{let o;const l=[];for(const d of n){const m={...r,common:{...r.common,issues:[]},parent:null},y=d._parseSync({data:r.data,path:r.path,parent:m});if(y.status==="valid")return y;y.status==="dirty"&&!o&&(o={result:y,ctx:m}),m.common.issues.length&&l.push(m.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;const u=l.map(d=>new as(d));return St(r,{code:st.invalid_union,unionErrors:u}),Gt}}get options(){return this._def.options}}If.create=(t,e)=>new If({options:t,typeName:Kt.ZodUnion,...lr(e)});const ea=t=>t instanceof Tf?ea(t.schema):t instanceof Xs?ea(t.innerType()):t instanceof Of?[t.value]:t instanceof il?t.options:t instanceof Rf?yr.objectValues(t.enum):t instanceof Af?ea(t._def.innerType):t instanceof Ef?[void 0]:t instanceof kf?[null]:t instanceof So?[void 0,...ea(t.unwrap())]:t instanceof sl?[null,...ea(t.unwrap())]:t instanceof u0||t instanceof jf?ea(t.unwrap()):t instanceof Pf?ea(t._def.innerType):[];class Vg extends dr{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==qt.object)return St(r,{code:st.invalid_type,expected:qt.object,received:r.parsedType}),Gt;const n=this.discriminator,s=r.data[n],o=this.optionsMap.get(s);return o?r.common.async?o._parseAsync({data:r.data,path:r.path,parent:r}):o._parseSync({data:r.data,path:r.path,parent:r}):(St(r,{code:st.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Gt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const s=new Map;for(const o of r){const l=ea(o.shape[e]);if(!l.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const u of l){if(s.has(u))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(u)}`);s.set(u,o)}}return new Vg({typeName:Kt.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,...lr(n)})}}function mw(t,e){const r=na(t),n=na(e);if(t===e)return{valid:!0,data:t};if(r===qt.object&&n===qt.object){const s=yr.objectKeys(e),o=yr.objectKeys(t).filter(u=>s.indexOf(u)!==-1),l={...t,...e};for(const u of o){const d=mw(t[u],e[u]);if(!d.valid)return{valid:!1};l[u]=d.data}return{valid:!0,data:l}}else if(r===qt.array&&n===qt.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let o=0;o<t.length;o++){const l=t[o],u=e[o],d=mw(l,u);if(!d.valid)return{valid:!1};s.push(d.data)}return{valid:!0,data:s}}else return r===qt.date&&n===qt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class qf extends dr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(o,l)=>{if(hw(o)||hw(l))return Gt;const u=mw(o.value,l.value);return u.valid?((pw(o)||pw(l))&&r.dirty(),{status:r.value,value:u.data}):(St(n,{code:st.invalid_intersection_types}),Gt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,l])=>s(o,l)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}qf.create=(t,e,r)=>new qf({left:t,right:e,typeName:Kt.ZodIntersection,...lr(r)});class ko extends dr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==qt.array)return St(n,{code:st.invalid_type,expected:qt.array,received:n.parsedType}),Gt;if(n.data.length<this._def.items.length)return St(n,{code:st.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Gt;!this._def.rest&&n.data.length>this._def.items.length&&(St(n,{code:st.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const o=[...n.data].map((l,u)=>{const d=this._def.items[u]||this._def.rest;return d?d._parse(new Eo(n,l,n.path,u)):null}).filter(l=>!!l);return n.common.async?Promise.all(o).then(l=>ui.mergeArray(r,l)):ui.mergeArray(r,o)}get items(){return this._def.items}rest(e){return new ko({...this._def,rest:e})}}ko.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ko({items:t,typeName:Kt.ZodTuple,rest:null,...lr(e)})};class Cf extends dr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==qt.object)return St(n,{code:st.invalid_type,expected:qt.object,received:n.parsedType}),Gt;const s=[],o=this._def.keyType,l=this._def.valueType;for(const u in n.data)s.push({key:o._parse(new Eo(n,u,n.path,u)),value:l._parse(new Eo(n,n.data[u],n.path,u)),alwaysSet:u in n.data});return n.common.async?ui.mergeObjectAsync(r,s):ui.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof dr?new Cf({keyType:e,valueType:r,typeName:Kt.ZodRecord,...lr(n)}):new Cf({keyType:Js.create(),valueType:e,typeName:Kt.ZodRecord,...lr(r)})}}class Ym extends dr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==qt.map)return St(n,{code:st.invalid_type,expected:qt.map,received:n.parsedType}),Gt;const s=this._def.keyType,o=this._def.valueType,l=[...n.data.entries()].map(([u,d],m)=>({key:s._parse(new Eo(n,u,n.path,[m,"key"])),value:o._parse(new Eo(n,d,n.path,[m,"value"]))}));if(n.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const d of l){const m=await d.key,y=await d.value;if(m.status==="aborted"||y.status==="aborted")return Gt;(m.status==="dirty"||y.status==="dirty")&&r.dirty(),u.set(m.value,y.value)}return{status:r.value,value:u}})}else{const u=new Map;for(const d of l){const m=d.key,y=d.value;if(m.status==="aborted"||y.status==="aborted")return Gt;(m.status==="dirty"||y.status==="dirty")&&r.dirty(),u.set(m.value,y.value)}return{status:r.value,value:u}}}}Ym.create=(t,e,r)=>new Ym({valueType:e,keyType:t,typeName:Kt.ZodMap,...lr(r)});class ru extends dr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==qt.set)return St(n,{code:st.invalid_type,expected:qt.set,received:n.parsedType}),Gt;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(St(n,{code:st.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(St(n,{code:st.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const o=this._def.valueType;function l(d){const m=new Set;for(const y of d){if(y.status==="aborted")return Gt;y.status==="dirty"&&r.dirty(),m.add(y.value)}return{status:r.value,value:m}}const u=[...n.data.values()].map((d,m)=>o._parse(new Eo(n,d,n.path,m)));return n.common.async?Promise.all(u).then(d=>l(d)):l(u)}min(e,r){return new ru({...this._def,minSize:{value:e,message:Bt.toString(r)}})}max(e,r){return new ru({...this._def,maxSize:{value:e,message:Bt.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}ru.create=(t,e)=>new ru({valueType:t,minSize:null,maxSize:null,typeName:Kt.ZodSet,...lr(e)});class dc extends dr{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==qt.function)return St(r,{code:st.invalid_type,expected:qt.function,received:r.parsedType}),Gt;function n(u,d){return Km({data:u,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Qm(),Nc].filter(m=>!!m),issueData:{code:st.invalid_arguments,argumentsError:d}})}function s(u,d){return Km({data:u,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Qm(),Nc].filter(m=>!!m),issueData:{code:st.invalid_return_type,returnTypeError:d}})}const o={errorMap:r.common.contextualErrorMap},l=r.data;if(this._def.returns instanceof kc){const u=this;return Si(async function(...d){const m=new as([]),y=await u._def.args.parseAsync(d,o).catch(k=>{throw m.addIssue(n(d,k)),m}),w=await Reflect.apply(l,this,y);return await u._def.returns._def.type.parseAsync(w,o).catch(k=>{throw m.addIssue(s(w,k)),m})})}else{const u=this;return Si(function(...d){const m=u._def.args.safeParse(d,o);if(!m.success)throw new as([n(d,m.error)]);const y=Reflect.apply(l,this,m.data),w=u._def.returns.safeParse(y,o);if(!w.success)throw new as([s(y,w.error)]);return w.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new dc({...this._def,args:ko.create(e).rest(Jl.create())})}returns(e){return new dc({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new dc({args:e||ko.create([]).rest(Jl.create()),returns:r||Jl.create(),typeName:Kt.ZodFunction,...lr(n)})}}class Tf extends dr{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Tf.create=(t,e)=>new Tf({getter:t,typeName:Kt.ZodLazy,...lr(e)});class Of extends dr{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return St(r,{received:r.data,code:st.invalid_literal,expected:this._def.value}),Gt}return{status:"valid",value:e.data}}get value(){return this._def.value}}Of.create=(t,e)=>new Of({value:t,typeName:Kt.ZodLiteral,...lr(e)});function zC(t,e){return new il({values:t,typeName:Kt.ZodEnum,...lr(e)})}class il extends dr{constructor(){super(...arguments),Qd.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return St(r,{expected:yr.joinValues(n),received:r.parsedType,code:st.invalid_type}),Gt}if(Gm(this,Qd)||MC(this,Qd,new Set(this._def.values)),!Gm(this,Qd).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return St(r,{received:r.data,code:st.invalid_enum_value,options:n}),Gt}return Si(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return il.create(e,{...this._def,...r})}exclude(e,r=this._def){return il.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Qd=new WeakMap;il.create=zC;class Rf extends dr{constructor(){super(...arguments),Kd.set(this,void 0)}_parse(e){const r=yr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==qt.string&&n.parsedType!==qt.number){const s=yr.objectValues(r);return St(n,{expected:yr.joinValues(s),received:n.parsedType,code:st.invalid_type}),Gt}if(Gm(this,Kd)||MC(this,Kd,new Set(yr.getValidEnumValues(this._def.values))),!Gm(this,Kd).has(e.data)){const s=yr.objectValues(r);return St(n,{received:n.data,code:st.invalid_enum_value,options:s}),Gt}return Si(e.data)}get enum(){return this._def.values}}Kd=new WeakMap;Rf.create=(t,e)=>new Rf({values:t,typeName:Kt.ZodNativeEnum,...lr(e)});class kc extends dr{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==qt.promise&&r.common.async===!1)return St(r,{code:st.invalid_type,expected:qt.promise,received:r.parsedType}),Gt;const n=r.parsedType===qt.promise?r.data:Promise.resolve(r.data);return Si(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}kc.create=(t,e)=>new kc({type:t,typeName:Kt.ZodPromise,...lr(e)});class Xs extends dr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Kt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,o={addIssue:l=>{St(n,l),l.fatal?r.abort():r.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),s.type==="preprocess"){const l=s.transform(n.data,o);if(n.common.async)return Promise.resolve(l).then(async u=>{if(r.value==="aborted")return Gt;const d=await this._def.schema._parseAsync({data:u,path:n.path,parent:n});return d.status==="aborted"?Gt:d.status==="dirty"||r.value==="dirty"?Yu(d.value):d});{if(r.value==="aborted")return Gt;const u=this._def.schema._parseSync({data:l,path:n.path,parent:n});return u.status==="aborted"?Gt:u.status==="dirty"||r.value==="dirty"?Yu(u.value):u}}if(s.type==="refinement"){const l=u=>{const d=s.refinement(u,o);if(n.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(n.common.async===!1){const u=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return u.status==="aborted"?Gt:(u.status==="dirty"&&r.dirty(),l(u.value),{status:r.value,value:u.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(u=>u.status==="aborted"?Gt:(u.status==="dirty"&&r.dirty(),l(u.value).then(()=>({status:r.value,value:u.value}))))}if(s.type==="transform")if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!eu(l))return l;const u=s.transform(l.value,o);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:u}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>eu(l)?Promise.resolve(s.transform(l.value,o)).then(u=>({status:r.value,value:u})):l);yr.assertNever(s)}}Xs.create=(t,e,r)=>new Xs({schema:t,typeName:Kt.ZodEffects,effect:e,...lr(r)});Xs.createWithPreprocess=(t,e,r)=>new Xs({schema:e,effect:{type:"preprocess",transform:t},typeName:Kt.ZodEffects,...lr(r)});class So extends dr{_parse(e){return this._getType(e)===qt.undefined?Si(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}So.create=(t,e)=>new So({innerType:t,typeName:Kt.ZodOptional,...lr(e)});class sl extends dr{_parse(e){return this._getType(e)===qt.null?Si(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}sl.create=(t,e)=>new sl({innerType:t,typeName:Kt.ZodNullable,...lr(e)});class Af extends dr{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===qt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Af.create=(t,e)=>new Af({innerType:t,typeName:Kt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...lr(e)});class Pf extends dr{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Sf(s)?s.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new as(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new as(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Pf.create=(t,e)=>new Pf({innerType:t,typeName:Kt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...lr(e)});class Xm extends dr{_parse(e){if(this._getType(e)!==qt.nan){const n=this._getOrReturnCtx(e);return St(n,{code:st.invalid_type,expected:qt.nan,received:n.parsedType}),Gt}return{status:"valid",value:e.data}}}Xm.create=t=>new Xm({typeName:Kt.ZodNaN,...lr(t)});const kM=Symbol("zod_brand");class u0 extends dr{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class sh extends dr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Gt:o.status==="dirty"?(r.dirty(),Yu(o.value)):this._def.out._parseAsync({data:o.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Gt:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new sh({in:e,out:r,typeName:Kt.ZodPipeline})}}class jf extends dr{_parse(e){const r=this._def.innerType._parse(e),n=s=>(eu(s)&&(s.value=Object.freeze(s.value)),s);return Sf(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}jf.create=(t,e)=>new jf({innerType:t,typeName:Kt.ZodReadonly,...lr(e)});function UC(t,e={},r){return t?Ec.create().superRefine((n,s)=>{var o,l;if(!t(n)){const u=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,d=(l=(o=u.fatal)!==null&&o!==void 0?o:r)!==null&&l!==void 0?l:!0,m=typeof u=="string"?{message:u}:u;s.addIssue({code:"custom",...m,fatal:d})}}):Ec.create()}const IM={object:cn.lazycreate};var Kt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Kt||(Kt={}));const qM=(t,e={message:`Input not instance of ${t.name}`})=>UC(r=>r instanceof t,e),VC=Js.create,HC=rl.create,CM=Xm.create,TM=nl.create,QC=Nf.create,OM=tu.create,RM=Jm.create,AM=Ef.create,PM=kf.create,jM=Ec.create,FM=Jl.create,LM=ca.create,DM=Zm.create,MM=Zs.create,BM=cn.create,$M=cn.strictCreate,WM=If.create,zM=Vg.create,UM=qf.create,VM=ko.create,HM=Cf.create,QM=Ym.create,KM=ru.create,GM=dc.create,JM=Tf.create,ZM=Of.create,YM=il.create,XM=Rf.create,eB=kc.create,EE=Xs.create,tB=So.create,rB=sl.create,nB=Xs.createWithPreprocess,iB=sh.create,sB=()=>VC().optional(),oB=()=>HC().optional(),aB=()=>QC().optional(),lB={string:t=>Js.create({...t,coerce:!0}),number:t=>rl.create({...t,coerce:!0}),boolean:t=>Nf.create({...t,coerce:!0}),bigint:t=>nl.create({...t,coerce:!0}),date:t=>tu.create({...t,coerce:!0})},uB=Gt;var se=Object.freeze({__proto__:null,defaultErrorMap:Nc,setErrorMap:nM,getErrorMap:Qm,makeIssue:Km,EMPTY_PATH:iM,addIssueToContext:St,ParseStatus:ui,INVALID:Gt,DIRTY:Yu,OK:Si,isAborted:hw,isDirty:pw,isValid:eu,isAsync:Sf,get util(){return yr},get objectUtil(){return fw},ZodParsedType:qt,getParsedType:na,ZodType:dr,datetimeRegex:WC,ZodString:Js,ZodNumber:rl,ZodBigInt:nl,ZodBoolean:Nf,ZodDate:tu,ZodSymbol:Jm,ZodUndefined:Ef,ZodNull:kf,ZodAny:Ec,ZodUnknown:Jl,ZodNever:ca,ZodVoid:Zm,ZodArray:Zs,ZodObject:cn,ZodUnion:If,ZodDiscriminatedUnion:Vg,ZodIntersection:qf,ZodTuple:ko,ZodRecord:Cf,ZodMap:Ym,ZodSet:ru,ZodFunction:dc,ZodLazy:Tf,ZodLiteral:Of,ZodEnum:il,ZodNativeEnum:Rf,ZodPromise:kc,ZodEffects:Xs,ZodTransformer:Xs,ZodOptional:So,ZodNullable:sl,ZodDefault:Af,ZodCatch:Pf,ZodNaN:Xm,BRAND:kM,ZodBranded:u0,ZodPipeline:sh,ZodReadonly:jf,custom:UC,Schema:dr,ZodSchema:dr,late:IM,get ZodFirstPartyTypeKind(){return Kt},coerce:lB,any:jM,array:MM,bigint:TM,boolean:QC,date:OM,discriminatedUnion:zM,effect:EE,enum:YM,function:GM,instanceof:qM,intersection:UM,lazy:JM,literal:ZM,map:QM,nan:CM,nativeEnum:XM,never:LM,null:PM,nullable:rB,number:HC,object:BM,oboolean:aB,onumber:oB,optional:tB,ostring:sB,pipeline:iB,preprocess:nB,promise:eB,record:HM,set:KM,strictObject:$M,string:VC,symbol:RM,transformer:EE,tuple:VM,undefined:AM,union:WM,unknown:FM,void:DM,NEVER:uB,ZodIssueCode:st,quotelessJson:rM,ZodError:as});const cB=se.object({page:se.number().gte(0,"Page must be greater than zero"),size:se.number().gte(1,"Page size must be greater than one to get any data")}),Ni=se.object({id:se.string().min(1)}),c0=se.object({message:se.string()}),Ei=se.object({id:se.string().optional(),idIn:se.array(se.string()).optional(),fulltext:se.string().optional()}),dB=se.enum(["asc","desc"]),fB=Ni.merge(se.object({code:se.string().min(1),label:se.string().min(1),group:se.string().nullish(),sort:se.number().default(0)}));var Bu={},Zo={},Hr={},zs={},kE;function KC(){if(kE)return zs;kE=1,Object.defineProperty(zs,"__esModule",{value:!0}),zs.anumber=t,zs.number=t,zs.abytes=r,zs.bytes=r,zs.ahash=n,zs.aexists=s,zs.aoutput=o;function t(u){if(!Number.isSafeInteger(u)||u<0)throw new Error("positive integer expected, got "+u)}function e(u){return u instanceof Uint8Array||ArrayBuffer.isView(u)&&u.constructor.name==="Uint8Array"}function r(u,...d){if(!e(u))throw new Error("Uint8Array expected");if(d.length>0&&!d.includes(u.length))throw new Error("Uint8Array expected of length "+d+", got length="+u.length)}function n(u){if(typeof u!="function"||typeof u.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");t(u.outputLen),t(u.blockLen)}function s(u,d=!0){if(u.destroyed)throw new Error("Hash instance has been destroyed");if(d&&u.finished)throw new Error("Hash#digest() has already been called")}function o(u,d){r(u);const m=d.outputLen;if(u.length<m)throw new Error("digestInto() expects output buffer of length at least "+m)}const l={number:t,bytes:r,hash:n,exists:s,output:o};return zs.default=l,zs}var rr={},IE;function hB(){if(IE)return rr;IE=1,Object.defineProperty(rr,"__esModule",{value:!0}),rr.add5L=rr.add5H=rr.add4H=rr.add4L=rr.add3H=rr.add3L=rr.rotlBL=rr.rotlBH=rr.rotlSL=rr.rotlSH=rr.rotr32L=rr.rotr32H=rr.rotrBL=rr.rotrBH=rr.rotrSL=rr.rotrSH=rr.shrSL=rr.shrSH=rr.toBig=void 0,rr.fromBig=r,rr.split=n,rr.add=D;const t=BigInt(2**32-1),e=BigInt(32);function r(V,ne=!1){return ne?{h:Number(V&t),l:Number(V>>e&t)}:{h:Number(V>>e&t)|0,l:Number(V&t)|0}}function n(V,ne=!1){let M=new Uint32Array(V.length),oe=new Uint32Array(V.length);for(let Y=0;Y<V.length;Y++){const{h:me,l:Te}=r(V[Y],ne);[M[Y],oe[Y]]=[me,Te]}return[M,oe]}const s=(V,ne)=>BigInt(V>>>0)<<e|BigInt(ne>>>0);rr.toBig=s;const o=(V,ne,M)=>V>>>M;rr.shrSH=o;const l=(V,ne,M)=>V<<32-M|ne>>>M;rr.shrSL=l;const u=(V,ne,M)=>V>>>M|ne<<32-M;rr.rotrSH=u;const d=(V,ne,M)=>V<<32-M|ne>>>M;rr.rotrSL=d;const m=(V,ne,M)=>V<<64-M|ne>>>M-32;rr.rotrBH=m;const y=(V,ne,M)=>V>>>M-32|ne<<64-M;rr.rotrBL=y;const w=(V,ne)=>ne;rr.rotr32H=w;const E=(V,ne)=>V;rr.rotr32L=E;const k=(V,ne,M)=>V<<M|ne>>>32-M;rr.rotlSH=k;const q=(V,ne,M)=>ne<<M|V>>>32-M;rr.rotlSL=q;const C=(V,ne,M)=>ne<<M-32|V>>>64-M;rr.rotlBH=C;const A=(V,ne,M)=>V<<M-32|ne>>>64-M;rr.rotlBL=A;function D(V,ne,M,oe){const Y=(ne>>>0)+(oe>>>0);return{h:V+M+(Y/2**32|0)|0,l:Y|0}}const F=(V,ne,M)=>(V>>>0)+(ne>>>0)+(M>>>0);rr.add3L=F;const $=(V,ne,M,oe)=>ne+M+oe+(V/2**32|0)|0;rr.add3H=$;const H=(V,ne,M,oe)=>(V>>>0)+(ne>>>0)+(M>>>0)+(oe>>>0);rr.add4L=H;const G=(V,ne,M,oe,Y)=>ne+M+oe+Y+(V/2**32|0)|0;rr.add4H=G;const B=(V,ne,M,oe,Y)=>(V>>>0)+(ne>>>0)+(M>>>0)+(oe>>>0)+(Y>>>0);rr.add5L=B;const Z=(V,ne,M,oe,Y,me)=>ne+M+oe+Y+me+(V/2**32|0)|0;rr.add5H=Z;const ie={fromBig:r,split:n,toBig:s,shrSH:o,shrSL:l,rotrSH:u,rotrSL:d,rotrBH:m,rotrBL:y,rotr32H:w,rotr32L:E,rotlSH:k,rotlSL:q,rotlBH:C,rotlBL:A,add:D,add3L:F,add3H:$,add4L:H,add4H:G,add5H:Z,add5L:B};return rr.default=ie,rr}var h_={},Bd={},qE;function pB(){return qE||(qE=1,Object.defineProperty(Bd,"__esModule",{value:!0}),Bd.crypto=void 0,Bd.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),Bd}var CE;function mB(){return CE||(CE=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Hash=t.nextTick=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=void 0,t.isBytes=n,t.byteSwap32=y,t.bytesToHex=E,t.hexToBytes=C,t.asyncLoop=D,t.utf8ToBytes=F,t.toBytes=$,t.concatBytes=H,t.checkOpts=B,t.wrapConstructor=Z,t.wrapConstructorWithOpts=ie,t.wrapXOFConstructorWithOpts=V,t.randomBytes=ne;const e=pB(),r=KC();function n(M){return M instanceof Uint8Array||ArrayBuffer.isView(M)&&M.constructor.name==="Uint8Array"}const s=M=>new Uint8Array(M.buffer,M.byteOffset,M.byteLength);t.u8=s;const o=M=>new Uint32Array(M.buffer,M.byteOffset,Math.floor(M.byteLength/4));t.u32=o;const l=M=>new DataView(M.buffer,M.byteOffset,M.byteLength);t.createView=l;const u=(M,oe)=>M<<32-oe|M>>>oe;t.rotr=u;const d=(M,oe)=>M<<oe|M>>>32-oe>>>0;t.rotl=d,t.isLE=new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]===68;const m=M=>M<<24&0xff000000|M<<8&0xff0000|M>>>8&65280|M>>>24&255;t.byteSwap=m,t.byteSwapIfBE=t.isLE?M=>M:M=>(0,t.byteSwap)(M);function y(M){for(let oe=0;oe<M.length;oe++)M[oe]=(0,t.byteSwap)(M[oe])}const w=Array.from({length:256},(M,oe)=>oe.toString(16).padStart(2,"0"));function E(M){(0,r.abytes)(M);let oe="";for(let Y=0;Y<M.length;Y++)oe+=w[M[Y]];return oe}const k={_0:48,_9:57,A:65,F:70,a:97,f:102};function q(M){if(M>=k._0&&M<=k._9)return M-k._0;if(M>=k.A&&M<=k.F)return M-(k.A-10);if(M>=k.a&&M<=k.f)return M-(k.a-10)}function C(M){if(typeof M!="string")throw new Error("hex string expected, got "+typeof M);const oe=M.length,Y=oe/2;if(oe%2)throw new Error("hex string expected, got unpadded hex of length "+oe);const me=new Uint8Array(Y);for(let Te=0,Ce=0;Te<Y;Te++,Ce+=2){const je=q(M.charCodeAt(Ce)),be=q(M.charCodeAt(Ce+1));if(je===void 0||be===void 0){const ge=M[Ce]+M[Ce+1];throw new Error('hex string expected, got non-hex character "'+ge+'" at index '+Ce)}me[Te]=je*16+be}return me}const A=async()=>{};t.nextTick=A;async function D(M,oe,Y){let me=Date.now();for(let Te=0;Te<M;Te++){Y(Te);const Ce=Date.now()-me;Ce>=0&&Ce<oe||(await (0,t.nextTick)(),me+=Ce)}}function F(M){if(typeof M!="string")throw new Error("utf8ToBytes expected string, got "+typeof M);return new Uint8Array(new TextEncoder().encode(M))}function $(M){return typeof M=="string"&&(M=F(M)),(0,r.abytes)(M),M}function H(...M){let oe=0;for(let me=0;me<M.length;me++){const Te=M[me];(0,r.abytes)(Te),oe+=Te.length}const Y=new Uint8Array(oe);for(let me=0,Te=0;me<M.length;me++){const Ce=M[me];Y.set(Ce,Te),Te+=Ce.length}return Y}class G{clone(){return this._cloneInto()}}t.Hash=G;function B(M,oe){if(oe!==void 0&&{}.toString.call(oe)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(M,oe)}function Z(M){const oe=me=>M().update($(me)).digest(),Y=M();return oe.outputLen=Y.outputLen,oe.blockLen=Y.blockLen,oe.create=()=>M(),oe}function ie(M){const oe=(me,Te)=>M(Te).update($(me)).digest(),Y=M({});return oe.outputLen=Y.outputLen,oe.blockLen=Y.blockLen,oe.create=me=>M(me),oe}function V(M){const oe=(me,Te)=>M(Te).update($(me)).digest(),Y=M({});return oe.outputLen=Y.outputLen,oe.blockLen=Y.blockLen,oe.create=me=>M(me),oe}function ne(M=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(M));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(M);throw new Error("crypto.getRandomValues must be defined")}}(h_)),h_}var TE;function gB(){if(TE)return Hr;TE=1,Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.shake256=Hr.shake128=Hr.keccak_512=Hr.keccak_384=Hr.keccak_256=Hr.keccak_224=Hr.sha3_512=Hr.sha3_384=Hr.sha3_256=Hr.sha3_224=Hr.Keccak=void 0,Hr.keccakP=A;const t=KC(),e=hB(),r=mB(),n=[],s=[],o=[],l=BigInt(0),u=BigInt(1),d=BigInt(2),m=BigInt(7),y=BigInt(256),w=BigInt(113);for(let H=0,G=u,B=1,Z=0;H<24;H++){[B,Z]=[Z,(2*B+3*Z)%5],n.push(2*(5*Z+B)),s.push((H+1)*(H+2)/2%64);let ie=l;for(let V=0;V<7;V++)G=(G<<u^(G>>m)*w)%y,G&d&&(ie^=u<<(u<<BigInt(V))-u);o.push(ie)}const[E,k]=(0,e.split)(o,!0),q=(H,G,B)=>B>32?(0,e.rotlBH)(H,G,B):(0,e.rotlSH)(H,G,B),C=(H,G,B)=>B>32?(0,e.rotlBL)(H,G,B):(0,e.rotlSL)(H,G,B);function A(H,G=24){const B=new Uint32Array(10);for(let Z=24-G;Z<24;Z++){for(let ne=0;ne<10;ne++)B[ne]=H[ne]^H[ne+10]^H[ne+20]^H[ne+30]^H[ne+40];for(let ne=0;ne<10;ne+=2){const M=(ne+8)%10,oe=(ne+2)%10,Y=B[oe],me=B[oe+1],Te=q(Y,me,1)^B[M],Ce=C(Y,me,1)^B[M+1];for(let je=0;je<50;je+=10)H[ne+je]^=Te,H[ne+je+1]^=Ce}let ie=H[2],V=H[3];for(let ne=0;ne<24;ne++){const M=s[ne],oe=q(ie,V,M),Y=C(ie,V,M),me=n[ne];ie=H[me],V=H[me+1],H[me]=oe,H[me+1]=Y}for(let ne=0;ne<50;ne+=10){for(let M=0;M<10;M++)B[M]=H[ne+M];for(let M=0;M<10;M++)H[ne+M]^=~B[(M+2)%10]&B[(M+4)%10]}H[0]^=E[Z],H[1]^=k[Z]}B.fill(0)}class D extends r.Hash{constructor(G,B,Z,ie=!1,V=24){if(super(),this.blockLen=G,this.suffix=B,this.outputLen=Z,this.enableXOF=ie,this.rounds=V,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,t.anumber)(Z),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,r.u32)(this.state)}keccak(){r.isLE||(0,r.byteSwap32)(this.state32),A(this.state32,this.rounds),r.isLE||(0,r.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(G){(0,t.aexists)(this);const{blockLen:B,state:Z}=this;G=(0,r.toBytes)(G);const ie=G.length;for(let V=0;V<ie;){const ne=Math.min(B-this.pos,ie-V);for(let M=0;M<ne;M++)Z[this.pos++]^=G[V++];this.pos===B&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:G,suffix:B,pos:Z,blockLen:ie}=this;G[Z]^=B,B&128&&Z===ie-1&&this.keccak(),G[ie-1]^=128,this.keccak()}writeInto(G){(0,t.aexists)(this,!1),(0,t.abytes)(G),this.finish();const B=this.state,{blockLen:Z}=this;for(let ie=0,V=G.length;ie<V;){this.posOut>=Z&&this.keccak();const ne=Math.min(Z-this.posOut,V-ie);G.set(B.subarray(this.posOut,this.posOut+ne),ie),this.posOut+=ne,ie+=ne}return G}xofInto(G){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(G)}xof(G){return(0,t.anumber)(G),this.xofInto(new Uint8Array(G))}digestInto(G){if((0,t.aoutput)(G,this),this.finished)throw new Error("digest() was already called");return this.writeInto(G),this.destroy(),G}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(G){const{blockLen:B,suffix:Z,outputLen:ie,rounds:V,enableXOF:ne}=this;return G||(G=new D(B,Z,ie,ne,V)),G.state32.set(this.state32),G.pos=this.pos,G.posOut=this.posOut,G.finished=this.finished,G.rounds=V,G.suffix=Z,G.outputLen=ie,G.enableXOF=ne,G.destroyed=this.destroyed,G}}Hr.Keccak=D;const F=(H,G,B)=>(0,r.wrapConstructor)(()=>new D(G,H,B));Hr.sha3_224=F(6,144,224/8),Hr.sha3_256=F(6,136,256/8),Hr.sha3_384=F(6,104,384/8),Hr.sha3_512=F(6,72,512/8),Hr.keccak_224=F(1,144,224/8),Hr.keccak_256=F(1,136,256/8),Hr.keccak_384=F(1,104,384/8),Hr.keccak_512=F(1,72,512/8);const $=(H,G,B)=>(0,r.wrapXOFConstructorWithOpts)((Z={})=>new D(G,H,Z.dkLen===void 0?B:Z.dkLen,!0));return Hr.shake128=$(31,168,128/8),Hr.shake256=$(31,136,256/8),Hr}var OE;function yB(){if(OE)return Zo;OE=1;const{sha3_512:t}=gB(),e=24,r=32,n=(q=4,C=Math.random)=>{let A="";for(;A.length<q;)A=A+Math.floor(C()*36).toString(36);return A};function s(q){let C=8n,A=0n;for(const D of q.values()){const F=BigInt(D);A=(A<<C)+F}return A}const o=(q="")=>s(t(q)).toString(36).slice(1),l=Array.from({length:26},(q,C)=>String.fromCharCode(C+97)),u=q=>l[Math.floor(q()*l.length)],d=({globalObj:q=typeof B_<"u"?B_:typeof window<"u"?window:{},random:C=Math.random}={})=>{const A=Object.keys(q).toString(),D=A.length?A+n(r,C):n(r,C);return o(D).substring(0,r)},m=q=>()=>q++,y=0x1c6b1f1f,w=({random:q=Math.random,counter:C=m(Math.floor(q()*y)),length:A=e,fingerprint:D=d({random:q})}={})=>function(){const $=u(q),H=Date.now().toString(36),G=C().toString(36),B=n(A,q),Z=`${H+B+G+D}`;return`${$+o(Z).substring(1,A)}`},E=w(),k=(q,{minLength:C=2,maxLength:A=r}={})=>{const D=q.length,F=/^[0-9a-z]+$/;try{if(typeof q=="string"&&D>=C&&D<=A&&F.test(q))return!0}finally{}return!1};return Zo.getConstants=()=>({defaultLength:e,bigLength:r}),Zo.init=w,Zo.createId=E,Zo.bufToBigInt=s,Zo.createCounter=m,Zo.createFingerprint=d,Zo.isCuid=k,Zo}var RE;function vB(){if(RE)return Bu;RE=1;const{createId:t,init:e,getConstants:r,isCuid:n}=yB();return Bu.createId=t,Bu.init=e,Bu.getConstants=r,Bu.isCuid=n,Bu}var bB=vB();const Be=bB.createId,ki=({name:t,schema:e,db:r,map:n,select$:s,create$:o,patch$:l,delete$:u,event:d})=>({name:t,schema:e,db:r,async create$({tx:m,entity:y,shape:w}){const E=Be();await d?.onPreCreate?.({tx:m,entity:y,shape:w}),await o({tx:m}).values(e.entity.parse({...await n?.toCreate?.({entity:y,shape:w})||y,id:E})).execute();const k=await this.getOrThrow$({tx:m,id:E,error:"Cannot fetch created entity"});return await d?.onPostCreate?.({tx:m,entity:k,shape:w}),k},async patch$({tx:m,entity:y,shape:w,where:E,filter:k}){const q=await this.fetchOrThrow$({tx:m,where:E,filter:k,error:"Cannot patch an unknown entity (empty query result)."});await d?.onPrePatch?.({tx:m,entity:y,shape:w}),await l({tx:m}).set(e.entity.partial().parse(await n?.toPatch?.({entity:y,shape:w})||y)).where("id","=",q.id).execute();const C=await this.getOrThrow$({tx:m,id:q.id});return await d?.onPostPatch?.({tx:m,entity:C,shape:w}),C},async delete$({tx:m,where:y,filter:w}){const E=await this.fetchOrThrow$({tx:m,where:y,filter:w,error:"Cannot patch an unknown entity (empty query result)."});return await u({tx:m}).where("id","=",E.id).execute(),E},async fetch$({tx:m,where:y,filter:w,sort:E}){const k=await s({tx:m,where:y,filter:w,sort:E,cursor:{page:0,size:1},use:["where","filter","cursor","sort"]}).executeTakeFirst();if(!k)return;const q=e.entity.parse(k);return(e.output??e.entity).parse(await n?.toOutput?.({tx:m,entity:q})||q)},async fetchOrThrow$({tx:m,where:y,filter:w,sort:E,error:k}){try{const q=e.entity.parse(await s({tx:m,where:y,filter:w,sort:E,cursor:{page:0,size:1},use:["where","filter","cursor","sort"]}).executeTakeFirstOrThrow());return(e.output??e.entity).parse(await n?.toOutput?.({tx:m,entity:q})||q)}catch(q){throw console.error(q),k?new Error(k):q}},async get$({tx:m,id:y}){return this.fetch$({tx:m,where:{id:y}})},async getOrThrow$({tx:m,id:y,error:w}){return this.fetchOrThrow$({tx:m,where:{id:y},error:w})},async list$({tx:m,where:y,filter:w,sort:E,cursor:k}){const q=e.output??e.entity;return Promise.all(se.array(e.entity).parse(await s({tx:m,where:y,filter:w,sort:E,cursor:k,use:["where","filter","cursor","sort"]}).execute()).map(C=>e.entity.parse(C)).map(async C=>q.parse(await n?.toOutput?.({tx:m,entity:C})||C)))},async count$({tx:m,where:y,filter:w}){return{total:(await s({tx:m,use:[]}).select([E=>E.fn.countAll().as("count")]).executeTakeFirst()).count,where:(await s({tx:m,where:y,use:["where"]}).select([E=>E.fn.countAll().as("count")]).executeTakeFirst()).count,filter:(await s({tx:m,where:y,filter:w,use:["where","filter"]}).select([E=>E.fn.countAll().as("count")]).executeTakeFirst()).count}}}),gw=new Proxy(()=>gw,{get:()=>gw}),Ii=({entity:t,output:e=t,shape:r,filter:n,sort:s})=>{const o=gw();return{entity:t,"~entity":o,"~entity-array":[],"~entity-partial-exclude-id":o,shape:r,"~shape":o,"~shape-partial":o,filter:n,"~filter":o,output:e,"~output":o,"~output-array":[],sort:se.array(se.object({name:se.enum(s),sort:dB})),"~sort":o,"~sort-keyof":o}},Fa=(t,e)=>Array.from({length:e-t+1},(r,n)=>n+t),_B=({page:t,total:e,siblings:r=1,boundaries:n=1})=>{const s=Math.max(Math.trunc(e),0);if(r*2+3+n*2>=s)return{type:"simple",page:t,total:e,pages:Fa(1,s),start:[],end:[]};const l=Math.max(t-r,n),u=Math.min(t+r,s-n),d=l>n+2,m=u<s-(n+1);return!d&&m?{type:"end",page:t,total:e,start:[],pages:Fa(1,r*2+n+2),end:Fa(e-(n-1),s)}:d&&!m?{type:"start",page:t,total:e,start:Fa(1,n),pages:Fa(e-(n+1+2*r),s),end:[]}:{type:"both",page:t,total:e,start:Fa(1,n),pages:Fa(l,u),end:Fa(s-n+1,s)}};var pm={exports:{}},wB=pm.exports,AE;function xB(){return AE||(AE=1,function(t){(function(e,r){t.exports=r()})(wB,function(){var e=Object.prototype.toString;function r(w,E){return w==null?!1:Object.prototype.hasOwnProperty.call(w,E)}function n(w){if(!w||l(w)&&w.length===0)return!0;if(typeof w!="string"){for(var E in w)if(r(w,E))return!1;return!0}return!1}function s(w){return e.call(w)}function o(w){return typeof w=="object"&&s(w)==="[object Object]"}var l=Array.isArray||function(w){return e.call(w)==="[object Array]"};function u(w){return typeof w=="boolean"||s(w)==="[object Boolean]"}function d(w){var E=parseInt(w);return E.toString()===w?E:w}function m(w){w=w||{};var E=function(D){return Object.keys(E).reduce(function(F,$){return $==="create"||typeof E[$]=="function"&&(F[$]=E[$].bind(E,D)),F},{})},k;w.includeInheritedProps?k=function(){return!0}:k=function(D,F){return typeof F=="number"&&Array.isArray(D)||r(D,F)};function q(D,F){if(k(D,F))return D[F]}var C;w.includeInheritedProps?C=function(D,F){typeof F!="string"&&typeof F!="number"&&(F=String(F));var $=q(D,F);if(F==="__proto__"||F==="prototype"||F==="constructor"&&typeof $=="function")throw new Error("For security reasons, object's magic properties cannot be set");return $}:C=function(D,F){return q(D,F)};function A(D,F,$,H){if(typeof F=="number"&&(F=[F]),!F||F.length===0)return D;if(typeof F=="string")return A(D,F.split(".").map(d),$,H);var G=F[0],B=C(D,G);return F.length===1?((B===void 0||!H)&&(D[G]=$),B):(B===void 0&&(typeof F[1]=="number"?D[G]=[]:D[G]={}),A(D[G],F.slice(1),$,H))}return E.has=function(D,F){if(typeof F=="number"?F=[F]:typeof F=="string"&&(F=F.split(".")),!F||F.length===0)return!!D;for(var $=0;$<F.length;$++){var H=d(F[$]);if(typeof H=="number"&&l(D)&&H<D.length||(w.includeInheritedProps?H in Object(D):r(D,H)))D=D[H];else return!1}return!0},E.ensureExists=function(D,F,$){return A(D,F,$,!0)},E.set=function(D,F,$,H){return A(D,F,$,H)},E.insert=function(D,F,$,H){var G=E.get(D,F);H=~~H,l(G)||(G=[],E.set(D,F,G)),G.splice(H,0,$)},E.empty=function(D,F){if(!n(F)&&D!=null){var $,H;if($=E.get(D,F)){if(typeof $=="string")return E.set(D,F,"");if(u($))return E.set(D,F,!1);if(typeof $=="number")return E.set(D,F,0);if(l($))$.length=0;else if(o($))for(H in $)k($,H)&&delete $[H];else return E.set(D,F,null)}}},E.push=function(D,F){var $=E.get(D,F);l($)||($=[],E.set(D,F,$)),$.push.apply($,Array.prototype.slice.call(arguments,2))},E.coalesce=function(D,F,$){for(var H,G=0,B=F.length;G<B;G++)if((H=E.get(D,F[G]))!==void 0)return H;return $},E.get=function(D,F,$){if(typeof F=="number"&&(F=[F]),!F||F.length===0)return D;if(D==null)return $;if(typeof F=="string")return E.get(D,F.split("."),$);var H=d(F[0]),G=C(D,H);return G===void 0?$:F.length===1?G:E.get(D[H],F.slice(1),$)},E.del=function(F,$){if(typeof $=="number"&&($=[$]),F==null||n($))return F;if(typeof $=="string")return E.del(F,$.split("."));var H=d($[0]);if(C(F,H),!k(F,H))return F;if($.length===1)l(F)?F.splice(H,1):delete F[H];else return E.del(F[H],$.slice(1));return F},E}var y=m();return y.create=m,y.withInheritedProps=m({includeInheritedProps:!0}),y})}(pm)),pm.exports}var SB=xB();const PE=Ac(SB);function yn({number:t,empty:e="-",fraction:r=2}){if(t==null)return e;try{return t.toLocaleString(void 0,{maximumFractionDigits:r})}catch(n){return console.error("toHumanNumber",t,n),t.toFixed(2)}}const d0=({error:t,errors:e,onError:r})=>{const n=e.some(o=>o),s=t instanceof Error;return!n&&s&&r(t),n||s},GC=hr({slot:{base:["flex","flex-row","gap-2","items-center","rounded","px-2","py-0.5","hover:bg-slate-100","text-slate-500","hover:text-blue-500","cursor-pointer"]},variant:{variant:{common:[],warning:["text-amber-500","hover:text-amber-600","hover:bg-amber-100"],danger:["text-red-500","hover:text-red-600","hover:bg-red-100"]},disabled:{true:["cursor-not-allowed","text-slate-300","bg-slate-100","hover:bg-slate-100"]}},defaults:{variant:"common",disabled:!1}}),NB=hr({use:GC,slot:{},variant:{},defaults:{}}),EB=({icon:t,iconProps:e,variant:r,tva:n=NB,css:s,children:o,...l})=>{const u=n({...r,css:s}).slots;return p.jsxs("div",{className:u.base(),...l,children:[ih(t)?p.jsx(wr,{icon:t,...e}):t,o]})};function Hg(){return typeof window<"u"}function pl(t){return JC(t)?(t.nodeName||"").toLowerCase():"#document"}function zi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ao(t){var e;return(e=(JC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function JC(t){return Hg()?t instanceof Node||t instanceof zi(t).Node:!1}function Kr(t){return Hg()?t instanceof Element||t instanceof zi(t).Element:!1}function Pn(t){return Hg()?t instanceof HTMLElement||t instanceof zi(t).HTMLElement:!1}function yw(t){return!Hg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof zi(t).ShadowRoot}function oh(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=Cs(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(s)}function kB(t){return["table","td","th"].includes(pl(t))}function Qg(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function f0(t){const e=Kg(),r=Kr(t)?Cs(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function IB(t){let e=da(t);for(;Pn(e)&&!aa(e);){if(f0(e))return e;if(Qg(e))return null;e=da(e)}return null}function Kg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function aa(t){return["html","body","#document"].includes(pl(t))}function Cs(t){return zi(t).getComputedStyle(t)}function Gg(t){return Kr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function da(t){if(pl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||yw(t)&&t.host||Ao(t);return yw(e)?e.host:e}function ZC(t){const e=da(t);return aa(e)?t.ownerDocument?t.ownerDocument.body:t.body:Pn(e)&&oh(e)?e:ZC(e)}function Ga(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=ZC(t),o=s===((n=t.ownerDocument)==null?void 0:n.body),l=zi(s);if(o){const u=vw(l);return e.concat(l,l.visualViewport||[],oh(s)?s:[],u&&r?Ga(u):[])}return e.concat(s,Ga(s,[],r))}function vw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Qs(t){let e=t.activeElement;for(;((r=e)==null||(r=r.shadowRoot)==null?void 0:r.activeElement)!=null;){var r;e=e.shadowRoot.activeElement}return e}function Kn(t,e){if(!t||!e)return!1;const r=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(r&&yw(r)){let n=e;for(;n;){if(t===n)return!0;n=n.parentNode||n.host}}return!1}function h0(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function YC(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:r,version:n}=e;return r+"/"+n}).join(" "):navigator.userAgent}function XC(t){return t.mozInputSource===0&&t.isTrusted?!0:bw()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function p0(t){return CB()?!1:!bw()&&t.width===0&&t.height===0||bw()&&t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0&&t.pointerType==="touch"}function eT(){return/apple/i.test(navigator.vendor)}function bw(){const t=/android/i;return t.test(h0())||t.test(YC())}function qB(){return h0().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function CB(){return YC().includes("jsdom/")}function Ff(t,e){const r=["mouse","pen"];return e||r.push("",void 0),r.includes(t)}function TB(t){return"nativeEvent"in t}function OB(t){return t.matches("html,body")}function Gn(t){return t?.ownerDocument||document}function p_(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const r=t;return r.target!=null&&e.contains(r.target)}function Wa(t){return"composedPath"in t?t.composedPath()[0]:t.target}const RB="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function m0(t){return Pn(t)&&t.matches(RB)}function pi(t){t.preventDefault(),t.stopPropagation()}function tT(t){return t?t.getAttribute("role")==="combobox"&&m0(t):!1}const Ic=Math.min,rs=Math.max,eg=Math.round,Xu=Math.floor,No=t=>({x:t,y:t}),AB={left:"right",right:"left",bottom:"top",top:"bottom"},PB={start:"end",end:"start"};function jE(t,e,r){return rs(t,Ic(e,r))}function ah(t,e){return typeof t=="function"?t(e):t}function ol(t){return t.split("-")[0]}function lh(t){return t.split("-")[1]}function rT(t){return t==="x"?"y":"x"}function nT(t){return t==="y"?"height":"width"}function nu(t){return["top","bottom"].includes(ol(t))?"y":"x"}function iT(t){return rT(nu(t))}function jB(t,e,r){r===void 0&&(r=!1);const n=lh(t),s=iT(t),o=nT(s);let l=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=tg(l)),[l,tg(l)]}function FB(t){const e=tg(t);return[_w(t),e,_w(e)]}function _w(t){return t.replace(/start|end/g,e=>PB[e])}function LB(t,e,r){const n=["left","right"],s=["right","left"],o=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return r?e?s:n:e?n:s;case"left":case"right":return e?o:l;default:return[]}}function DB(t,e,r,n){const s=lh(t);let o=LB(ol(t),r==="start",n);return s&&(o=o.map(l=>l+"-"+s),e&&(o=o.concat(o.map(_w)))),o}function tg(t){return t.replace(/left|right|bottom|top/g,e=>AB[e])}function MB(t){return{top:0,right:0,bottom:0,left:0,...t}}function BB(t){return typeof t!="number"?MB(t):{top:t,right:t,bottom:t,left:t}}function rg(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}var $B=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],ng=$B.join(","),sT=typeof Element>"u",qc=sT?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,ig=!sT&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t?.ownerDocument},sg=function t(e,r){var n;r===void 0&&(r=!0);var s=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),o=s===""||s==="true",l=o||r&&e&&t(e.parentNode);return l},WB=function(e){var r,n=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"contenteditable");return n===""||n==="true"},zB=function(e,r,n){if(sg(e))return[];var s=Array.prototype.slice.apply(e.querySelectorAll(ng));return r&&qc.call(e,ng)&&s.unshift(e),s=s.filter(n),s},UB=function t(e,r,n){for(var s=[],o=Array.from(e);o.length;){var l=o.shift();if(!sg(l,!1))if(l.tagName==="SLOT"){var u=l.assignedElements(),d=u.length?u:l.children,m=t(d,!0,n);n.flatten?s.push.apply(s,m):s.push({scopeParent:l,candidates:m})}else{var y=qc.call(l,ng);y&&n.filter(l)&&(r||!e.includes(l))&&s.push(l);var w=l.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(l),E=!sg(w,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(l));if(w&&E){var k=t(w===!0?l.children:w.children,!0,n);n.flatten?s.push.apply(s,k):s.push({scopeParent:l,candidates:k})}else o.unshift.apply(o,l.children)}}return s},oT=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},aT=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||WB(e))&&!oT(e)?0:e.tabIndex},VB=function(e,r){var n=aT(e);return n<0&&r&&!oT(e)?0:n},HB=function(e,r){return e.tabIndex===r.tabIndex?e.documentOrder-r.documentOrder:e.tabIndex-r.tabIndex},lT=function(e){return e.tagName==="INPUT"},QB=function(e){return lT(e)&&e.type==="hidden"},KB=function(e){var r=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return r},GB=function(e,r){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===r)return e[n]},JB=function(e){if(!e.name)return!0;var r=e.form||ig(e),n=function(u){return r.querySelectorAll('input[type="radio"][name="'+u+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=n(window.CSS.escape(e.name));else try{s=n(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var o=GB(s,e.form);return!o||o===e},ZB=function(e){return lT(e)&&e.type==="radio"},YB=function(e){return ZB(e)&&!JB(e)},XB=function(e){var r,n=e&&ig(e),s=(r=n)===null||r===void 0?void 0:r.host,o=!1;if(n&&n!==e){var l,u,d;for(o=!!((l=s)!==null&&l!==void 0&&(u=l.ownerDocument)!==null&&u!==void 0&&u.contains(s)||e!=null&&(d=e.ownerDocument)!==null&&d!==void 0&&d.contains(e));!o&&s;){var m,y,w;n=ig(s),s=(m=n)===null||m===void 0?void 0:m.host,o=!!((y=s)!==null&&y!==void 0&&(w=y.ownerDocument)!==null&&w!==void 0&&w.contains(s))}}return o},FE=function(e){var r=e.getBoundingClientRect(),n=r.width,s=r.height;return n===0&&s===0},e$=function(e,r){var n=r.displayCheck,s=r.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var o=qc.call(e,"details>summary:first-of-type"),l=o?e.parentElement:e;if(qc.call(l,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof s=="function"){for(var u=e;e;){var d=e.parentElement,m=ig(e);if(d&&!d.shadowRoot&&s(d)===!0)return FE(e);e.assignedSlot?e=e.assignedSlot:!d&&m!==e.ownerDocument?e=m.host:e=d}e=u}if(XB(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return FE(e);return!1},t$=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var r=e.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var n=0;n<r.children.length;n++){var s=r.children.item(n);if(s.tagName==="LEGEND")return qc.call(r,"fieldset[disabled] *")?!0:!s.contains(e)}return!0}r=r.parentElement}return!1},r$=function(e,r){return!(r.disabled||sg(r)||QB(r)||e$(r,e)||KB(r)||t$(r))},ww=function(e,r){return!(YB(r)||aT(r)<0||!r$(e,r))},n$=function(e){var r=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},i$=function t(e){var r=[],n=[];return e.forEach(function(s,o){var l=!!s.scopeParent,u=l?s.scopeParent:s,d=VB(u,l),m=l?t(s.candidates):u;d===0?l?r.push.apply(r,m):r.push(u):n.push({documentOrder:o,tabIndex:d,item:s,isScope:l,content:m})}),n.sort(HB).reduce(function(s,o){return o.isScope?s.push.apply(s,o.content):s.push(o.content),s},[]).concat(r)},Jg=function(e,r){r=r||{};var n;return r.getShadowRoot?n=UB([e],r.includeContainer,{filter:ww.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:n$}):n=zB(e,r.includeContainer,ww.bind(null,r)),i$(n)},s$=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return qc.call(e,ng)===!1?!1:ww(r,e)};function LE(t,e,r){let{reference:n,floating:s}=t;const o=nu(e),l=iT(e),u=nT(l),d=ol(e),m=o==="y",y=n.x+n.width/2-s.width/2,w=n.y+n.height/2-s.height/2,E=n[u]/2-s[u]/2;let k;switch(d){case"top":k={x:y,y:n.y-s.height};break;case"bottom":k={x:y,y:n.y+n.height};break;case"right":k={x:n.x+n.width,y:w};break;case"left":k={x:n.x-s.width,y:w};break;default:k={x:n.x,y:n.y}}switch(lh(e)){case"start":k[l]-=E*(r&&m?-1:1);break;case"end":k[l]+=E*(r&&m?-1:1);break}return k}const o$=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:l}=r,u=o.filter(Boolean),d=await (l.isRTL==null?void 0:l.isRTL(e));let m=await l.getElementRects({reference:t,floating:e,strategy:s}),{x:y,y:w}=LE(m,n,d),E=n,k={},q=0;for(let C=0;C<u.length;C++){const{name:A,fn:D}=u[C],{x:F,y:$,data:H,reset:G}=await D({x:y,y:w,initialPlacement:n,placement:E,strategy:s,middlewareData:k,rects:m,platform:l,elements:{reference:t,floating:e}});y=F??y,w=$??w,k={...k,[A]:{...k[A],...H}},G&&q<=50&&(q++,typeof G=="object"&&(G.placement&&(E=G.placement),G.rects&&(m=G.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:s}):G.rects),{x:y,y:w}=LE(m,E,d)),C=-1)}return{x:y,y:w,placement:E,strategy:s,middlewareData:k}};async function g0(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:o,rects:l,elements:u,strategy:d}=t,{boundary:m="clippingAncestors",rootBoundary:y="viewport",elementContext:w="floating",altBoundary:E=!1,padding:k=0}=ah(e,t),q=BB(k),A=u[E?w==="floating"?"reference":"floating":w],D=rg(await o.getClippingRect({element:(r=await (o.isElement==null?void 0:o.isElement(A)))==null||r?A:A.contextElement||await (o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:m,rootBoundary:y,strategy:d})),F=w==="floating"?{x:n,y:s,width:l.floating.width,height:l.floating.height}:l.reference,$=await (o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),H=await (o.isElement==null?void 0:o.isElement($))?await (o.getScale==null?void 0:o.getScale($))||{x:1,y:1}:{x:1,y:1},G=rg(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:F,offsetParent:$,strategy:d}):F);return{top:(D.top-G.top+q.top)/H.y,bottom:(G.bottom-D.bottom+q.bottom)/H.y,left:(D.left-G.left+q.left)/H.x,right:(G.right-D.right+q.right)/H.x}}const a$=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:o,rects:l,initialPlacement:u,platform:d,elements:m}=e,{mainAxis:y=!0,crossAxis:w=!0,fallbackPlacements:E,fallbackStrategy:k="bestFit",fallbackAxisSideDirection:q="none",flipAlignment:C=!0,...A}=ah(t,e);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const D=ol(s),F=nu(u),$=ol(u)===u,H=await (d.isRTL==null?void 0:d.isRTL(m.floating)),G=E||($||!C?[tg(u)]:FB(u)),B=q!=="none";!E&&B&&G.push(...DB(u,C,q,H));const Z=[u,...G],ie=await g0(e,A),V=[];let ne=((n=o.flip)==null?void 0:n.overflows)||[];if(y&&V.push(ie[D]),w){const me=jB(s,l,H);V.push(ie[me[0]],ie[me[1]])}if(ne=[...ne,{placement:s,overflows:V}],!V.every(me=>me<=0)){var M,oe;const me=(((M=o.flip)==null?void 0:M.index)||0)+1,Te=Z[me];if(Te)return{data:{index:me,overflows:ne},reset:{placement:Te}};let Ce=(oe=ne.filter(je=>je.overflows[0]<=0).sort((je,be)=>je.overflows[1]-be.overflows[1])[0])==null?void 0:oe.placement;if(!Ce)switch(k){case"bestFit":{var Y;const je=(Y=ne.filter(be=>{if(B){const ge=nu(be.placement);return ge===F||ge==="y"}return!0}).map(be=>[be.placement,be.overflows.filter(ge=>ge>0).reduce((ge,Ee)=>ge+Ee,0)]).sort((be,ge)=>be[1]-ge[1])[0])==null?void 0:Y[0];je&&(Ce=je);break}case"initialPlacement":Ce=u;break}if(s!==Ce)return{reset:{placement:Ce}}}return{}}}};async function l$(t,e){const{placement:r,platform:n,elements:s}=t,o=await (n.isRTL==null?void 0:n.isRTL(s.floating)),l=ol(r),u=lh(r),d=nu(r)==="y",m=["left","top"].includes(l)?-1:1,y=o&&d?-1:1,w=ah(e,t);let{mainAxis:E,crossAxis:k,alignmentAxis:q}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return u&&typeof q=="number"&&(k=u==="end"?q*-1:q),d?{x:k*y,y:E*m}:{x:E*m,y:k*y}}const u$=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:o,placement:l,middlewareData:u}=e,d=await l$(e,t);return l===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:s+d.x,y:o+d.y,data:{...d,placement:l}}}}},c$=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:o=!0,crossAxis:l=!1,limiter:u={fn:A=>{let{x:D,y:F}=A;return{x:D,y:F}}},...d}=ah(t,e),m={x:r,y:n},y=await g0(e,d),w=nu(ol(s)),E=rT(w);let k=m[E],q=m[w];if(o){const A=E==="y"?"top":"left",D=E==="y"?"bottom":"right",F=k+y[A],$=k-y[D];k=jE(F,k,$)}if(l){const A=w==="y"?"top":"left",D=w==="y"?"bottom":"right",F=q+y[A],$=q-y[D];q=jE(F,q,$)}const C=u.fn({...e,[E]:k,[w]:q});return{...C,data:{x:C.x-r,y:C.y-n,enabled:{[E]:o,[w]:l}}}}}},d$=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:o,platform:l,elements:u}=e,{apply:d=()=>{},...m}=ah(t,e),y=await g0(e,m),w=ol(s),E=lh(s),k=nu(s)==="y",{width:q,height:C}=o.floating;let A,D;w==="top"||w==="bottom"?(A=w,D=E===(await (l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(D=w,A=E==="end"?"top":"bottom");const F=C-y.top-y.bottom,$=q-y.left-y.right,H=Ic(C-y[A],F),G=Ic(q-y[D],$),B=!e.middlewareData.shift;let Z=H,ie=G;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(ie=$),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(Z=F),B&&!E){const ne=rs(y.left,0),M=rs(y.right,0),oe=rs(y.top,0),Y=rs(y.bottom,0);k?ie=q-2*(ne!==0||M!==0?ne+M:rs(y.left,y.right)):Z=C-2*(oe!==0||Y!==0?oe+Y:rs(y.top,y.bottom))}await d({...e,availableWidth:ie,availableHeight:Z});const V=await l.getDimensions(u.floating);return q!==V.width||C!==V.height?{reset:{rects:!0}}:{}}}};function uT(t){const e=Cs(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=Pn(t),o=s?t.offsetWidth:r,l=s?t.offsetHeight:n,u=eg(r)!==o||eg(n)!==l;return u&&(r=o,n=l),{width:r,height:n,$:u}}function y0(t){return Kr(t)?t:t.contextElement}function fc(t){const e=y0(t);if(!Pn(e))return No(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:o}=uT(e);let l=(o?eg(r.width):r.width)/n,u=(o?eg(r.height):r.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const f$=No(0);function cT(t){const e=zi(t);return!Kg()||!e.visualViewport?f$:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function h$(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==zi(t)?!1:e}function iu(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),o=y0(t);let l=No(1);e&&(n?Kr(n)&&(l=fc(n)):l=fc(t));const u=h$(o,r,n)?cT(o):No(0);let d=(s.left+u.x)/l.x,m=(s.top+u.y)/l.y,y=s.width/l.x,w=s.height/l.y;if(o){const E=zi(o),k=n&&Kr(n)?zi(n):n;let q=E,C=vw(q);for(;C&&n&&k!==q;){const A=fc(C),D=C.getBoundingClientRect(),F=Cs(C),$=D.left+(C.clientLeft+parseFloat(F.paddingLeft))*A.x,H=D.top+(C.clientTop+parseFloat(F.paddingTop))*A.y;d*=A.x,m*=A.y,y*=A.x,w*=A.y,d+=$,m+=H,q=zi(C),C=vw(q)}}return rg({width:y,height:w,x:d,y:m})}function v0(t,e){const r=Gg(t).scrollLeft;return e?e.left+r:iu(Ao(t)).left+r}function dT(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-(r?0:v0(t,n)),o=n.top+e.scrollTop;return{x:s,y:o}}function p$(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const o=s==="fixed",l=Ao(n),u=e?Qg(e.floating):!1;if(n===l||u&&o)return r;let d={scrollLeft:0,scrollTop:0},m=No(1);const y=No(0),w=Pn(n);if((w||!w&&!o)&&((pl(n)!=="body"||oh(l))&&(d=Gg(n)),Pn(n))){const k=iu(n);m=fc(n),y.x=k.x+n.clientLeft,y.y=k.y+n.clientTop}const E=l&&!w&&!o?dT(l,d,!0):No(0);return{width:r.width*m.x,height:r.height*m.y,x:r.x*m.x-d.scrollLeft*m.x+y.x+E.x,y:r.y*m.y-d.scrollTop*m.y+y.y+E.y}}function m$(t){return Array.from(t.getClientRects())}function g$(t){const e=Ao(t),r=Gg(t),n=t.ownerDocument.body,s=rs(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=rs(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+v0(t);const u=-r.scrollTop;return Cs(n).direction==="rtl"&&(l+=rs(e.clientWidth,n.clientWidth)-s),{width:s,height:o,x:l,y:u}}function y$(t,e){const r=zi(t),n=Ao(t),s=r.visualViewport;let o=n.clientWidth,l=n.clientHeight,u=0,d=0;if(s){o=s.width,l=s.height;const m=Kg();(!m||m&&e==="fixed")&&(u=s.offsetLeft,d=s.offsetTop)}return{width:o,height:l,x:u,y:d}}function v$(t,e){const r=iu(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,o=Pn(t)?fc(t):No(1),l=t.clientWidth*o.x,u=t.clientHeight*o.y,d=s*o.x,m=n*o.y;return{width:l,height:u,x:d,y:m}}function DE(t,e,r){let n;if(e==="viewport")n=y$(t,r);else if(e==="document")n=g$(Ao(t));else if(Kr(e))n=v$(e,r);else{const s=cT(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return rg(n)}function fT(t,e){const r=da(t);return r===e||!Kr(r)||aa(r)?!1:Cs(r).position==="fixed"||fT(r,e)}function b$(t,e){const r=e.get(t);if(r)return r;let n=Ga(t,[],!1).filter(u=>Kr(u)&&pl(u)!=="body"),s=null;const o=Cs(t).position==="fixed";let l=o?da(t):t;for(;Kr(l)&&!aa(l);){const u=Cs(l),d=f0(l);!d&&u.position==="fixed"&&(s=null),(o?!d&&!s:!d&&u.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||oh(l)&&!d&&fT(t,l))?n=n.filter(y=>y!==l):s=u,l=da(l)}return e.set(t,n),n}function _$(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const l=[...r==="clippingAncestors"?Qg(e)?[]:b$(e,this._c):[].concat(r),n],u=l[0],d=l.reduce((m,y)=>{const w=DE(e,y,s);return m.top=rs(w.top,m.top),m.right=Ic(w.right,m.right),m.bottom=Ic(w.bottom,m.bottom),m.left=rs(w.left,m.left),m},DE(e,u,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function w$(t){const{width:e,height:r}=uT(t);return{width:e,height:r}}function x$(t,e,r){const n=Pn(e),s=Ao(e),o=r==="fixed",l=iu(t,!0,o,e);let u={scrollLeft:0,scrollTop:0};const d=No(0);if(n||!n&&!o)if((pl(e)!=="body"||oh(s))&&(u=Gg(e)),n){const E=iu(e,!0,o,e);d.x=E.x+e.clientLeft,d.y=E.y+e.clientTop}else s&&(d.x=v0(s));const m=s&&!n&&!o?dT(s,u):No(0),y=l.left+u.scrollLeft-d.x-m.x,w=l.top+u.scrollTop-d.y-m.y;return{x:y,y:w,width:l.width,height:l.height}}function m_(t){return Cs(t).position==="static"}function ME(t,e){if(!Pn(t)||Cs(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Ao(t)===r&&(r=r.ownerDocument.body),r}function hT(t,e){const r=zi(t);if(Qg(t))return r;if(!Pn(t)){let s=da(t);for(;s&&!aa(s);){if(Kr(s)&&!m_(s))return s;s=da(s)}return r}let n=ME(t,e);for(;n&&kB(n)&&m_(n);)n=ME(n,e);return n&&aa(n)&&m_(n)&&!f0(n)?r:n||IB(t)||r}const S$=async function(t){const e=this.getOffsetParent||hT,r=this.getDimensions,n=await r(t.floating);return{reference:x$(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function N$(t){return Cs(t).direction==="rtl"}const E$={convertOffsetParentRelativeRectToViewportRelativeRect:p$,getDocumentElement:Ao,getClippingRect:_$,getOffsetParent:hT,getElementRects:S$,getClientRects:m$,getDimensions:w$,getScale:fc,isElement:Kr,isRTL:N$};function k$(t,e){let r=null,n;const s=Ao(t);function o(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),o();const{left:m,top:y,width:w,height:E}=t.getBoundingClientRect();if(u||e(),!w||!E)return;const k=Xu(y),q=Xu(s.clientWidth-(m+w)),C=Xu(s.clientHeight-(y+E)),A=Xu(m),F={rootMargin:-k+"px "+-q+"px "+-C+"px "+-A+"px",threshold:rs(0,Ic(1,d))||1};let $=!0;function H(G){const B=G[0].intersectionRatio;if(B!==d){if(!$)return l();B?l(!1,B):n=setTimeout(()=>{l(!1,1e-7)},1e3)}$=!1}try{r=new IntersectionObserver(H,{...F,root:s.ownerDocument})}catch{r=new IntersectionObserver(H,F)}r.observe(t)}return l(!0),o}function pT(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,m=y0(t),y=s||o?[...m?Ga(m):[],...Ga(e)]:[];y.forEach(D=>{s&&D.addEventListener("scroll",r,{passive:!0}),o&&D.addEventListener("resize",r)});const w=m&&u?k$(m,r):null;let E=-1,k=null;l&&(k=new ResizeObserver(D=>{let[F]=D;F&&F.target===m&&k&&(k.unobserve(e),cancelAnimationFrame(E),E=requestAnimationFrame(()=>{var $;($=k)==null||$.observe(e)})),r()}),m&&!d&&k.observe(m),k.observe(e));let q,C=d?iu(t):null;d&&A();function A(){const D=iu(t);C&&(D.x!==C.x||D.y!==C.y||D.width!==C.width||D.height!==C.height)&&r(),C=D,q=requestAnimationFrame(A)}return r(),()=>{var D;y.forEach(F=>{s&&F.removeEventListener("scroll",r),o&&F.removeEventListener("resize",r)}),w?.(),(D=k)==null||D.disconnect(),k=null,d&&cancelAnimationFrame(q)}}const I$=u$,q$=c$,C$=a$,T$=d$,O$=(t,e,r)=>{const n=new Map,s={platform:E$,...r},o={...s.platform,_c:n};return o$(t,e,{...s,platform:o})};var mm=typeof document<"u"?K.useLayoutEffect:K.useEffect;function og(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!og(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&t.$$typeof)&&!og(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function mT(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function BE(t,e){const r=mT(t);return Math.round(e*r)/r}function g_(t){const e=K.useRef(t);return mm(()=>{e.current=t}),e}function R$(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:l}={},transform:u=!0,whileElementsMounted:d,open:m}=t,[y,w]=K.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[E,k]=K.useState(n);og(E,n)||k(n);const[q,C]=K.useState(null),[A,D]=K.useState(null),F=K.useCallback(be=>{be!==B.current&&(B.current=be,C(be))},[]),$=K.useCallback(be=>{be!==Z.current&&(Z.current=be,D(be))},[]),H=o||q,G=l||A,B=K.useRef(null),Z=K.useRef(null),ie=K.useRef(y),V=d!=null,ne=g_(d),M=g_(s),oe=g_(m),Y=K.useCallback(()=>{if(!B.current||!Z.current)return;const be={placement:e,strategy:r,middleware:E};M.current&&(be.platform=M.current),O$(B.current,Z.current,be).then(ge=>{const Ee={...ge,isPositioned:oe.current!==!1};me.current&&!og(ie.current,Ee)&&(ie.current=Ee,Kw.flushSync(()=>{w(Ee)}))})},[E,e,r,M,oe]);mm(()=>{m===!1&&ie.current.isPositioned&&(ie.current.isPositioned=!1,w(be=>({...be,isPositioned:!1})))},[m]);const me=K.useRef(!1);mm(()=>(me.current=!0,()=>{me.current=!1}),[]),mm(()=>{if(H&&(B.current=H),G&&(Z.current=G),H&&G){if(ne.current)return ne.current(H,G,Y);Y()}},[H,G,Y,ne,V]);const Te=K.useMemo(()=>({reference:B,floating:Z,setReference:F,setFloating:$}),[F,$]),Ce=K.useMemo(()=>({reference:H,floating:G}),[H,G]),je=K.useMemo(()=>{const be={position:r,left:0,top:0};if(!Ce.floating)return be;const ge=BE(Ce.floating,y.x),Ee=BE(Ce.floating,y.y);return u?{...be,transform:"translate("+ge+"px, "+Ee+"px)",...mT(Ce.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ge,top:Ee}},[r,u,Ce.floating,y.x,y.y]);return K.useMemo(()=>({...y,update:Y,refs:Te,elements:Ce,floatingStyles:je}),[y,Y,Te,Ce,je])}const gT=(t,e)=>({...I$(t),options:[t,e]}),A$=(t,e)=>({...q$(t),options:[t,e]}),yT=(t,e)=>({...C$(t),options:[t,e]}),P$=(t,e)=>({...T$(t),options:[t,e]});function $E(t){return K.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})},t)}const vT={...VR},j$=vT.useInsertionEffect,F$=j$||(t=>t());function Bi(t){const e=K.useRef(()=>{});return F$(()=>{e.current=t}),K.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return e.current==null?void 0:e.current(...n)},[])}const b0="ArrowUp",uh="ArrowDown",Ja="ArrowLeft",Za="ArrowRight";function Wp(t,e,r){return Math.floor(t/e)!==r}function lf(t,e){return e<0||e>=t.current.length}function y_(t,e){return ii(t,{disabledIndices:e})}function WE(t,e){return ii(t,{decrement:!0,startingIndex:t.current.length,disabledIndices:e})}function ii(t,e){let{startingIndex:r=-1,decrement:n=!1,disabledIndices:s,amount:o=1}=e===void 0?{}:e;const l=t.current;let u=r;do u+=n?-o:o;while(u>=0&&u<=l.length-1&&gm(l,u,s));return u}function L$(t,e){let{event:r,orientation:n,loop:s,rtl:o,cols:l,disabledIndices:u,minIndex:d,maxIndex:m,prevIndex:y,stopEvent:w=!1}=e,E=y;if(r.key===b0){if(w&&pi(r),y===-1)E=m;else if(E=ii(t,{startingIndex:E,amount:l,decrement:!0,disabledIndices:u}),s&&(y-l<d||E<0)){const k=y%l,q=m%l,C=m-(q-k);q===k?E=m:E=q>k?C:C-l}lf(t,E)&&(E=y)}if(r.key===uh&&(w&&pi(r),y===-1?E=d:(E=ii(t,{startingIndex:y,amount:l,disabledIndices:u}),s&&y+l>m&&(E=ii(t,{startingIndex:y%l-l,amount:l,disabledIndices:u}))),lf(t,E)&&(E=y)),n==="both"){const k=Xu(y/l);r.key===(o?Ja:Za)&&(w&&pi(r),y%l!==l-1?(E=ii(t,{startingIndex:y,disabledIndices:u}),s&&Wp(E,l,k)&&(E=ii(t,{startingIndex:y-y%l-1,disabledIndices:u}))):s&&(E=ii(t,{startingIndex:y-y%l-1,disabledIndices:u})),Wp(E,l,k)&&(E=y)),r.key===(o?Za:Ja)&&(w&&pi(r),y%l!==0?(E=ii(t,{startingIndex:y,decrement:!0,disabledIndices:u}),s&&Wp(E,l,k)&&(E=ii(t,{startingIndex:y+(l-y%l),decrement:!0,disabledIndices:u}))):s&&(E=ii(t,{startingIndex:y+(l-y%l),decrement:!0,disabledIndices:u})),Wp(E,l,k)&&(E=y));const q=Xu(m/l)===k;lf(t,E)&&(s&&q?E=r.key===(o?Za:Ja)?m:ii(t,{startingIndex:y-y%l-1,disabledIndices:u}):E=y)}return E}function D$(t,e,r){const n=[];let s=0;return t.forEach((o,l)=>{let{width:u,height:d}=o,m=!1;for(r&&(s=0);!m;){const y=[];for(let w=0;w<u;w++)for(let E=0;E<d;E++)y.push(s+w+E*e);s%e+u<=e&&y.every(w=>n[w]==null)?(y.forEach(w=>{n[w]=l}),m=!0):s++}}),[...n]}function M$(t,e,r,n,s){if(t===-1)return-1;const o=r.indexOf(t),l=e[t];switch(s){case"tl":return o;case"tr":return l?o+l.width-1:o;case"bl":return l?o+(l.height-1)*n:o;case"br":return r.lastIndexOf(t)}}function B$(t,e){return e.flatMap((r,n)=>t.includes(r)?[n]:[])}function gm(t,e,r){if(r)return r.includes(e);const n=t[e];return n==null||n.hasAttribute("disabled")||n.getAttribute("aria-disabled")==="true"}var rn=typeof document<"u"?K.useLayoutEffect:K.useEffect;function Lf(){return Lf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lf.apply(this,arguments)}let zE=!1,$$=0;const UE=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+$$++;function W$(){const[t,e]=K.useState(()=>zE?UE():void 0);return rn(()=>{t==null&&e(UE())},[]),K.useEffect(()=>{zE=!0},[]),t}const z$=vT.useId,_0=z$||W$;function bT(){const t=new Map;return{emit(e,r){var n;(n=t.get(e))==null||n.forEach(s=>s(r))},on(e,r){t.set(e,[...t.get(e)||[],r])},off(e,r){var n;t.set(e,((n=t.get(e))==null?void 0:n.filter(s=>s!==r))||[])}}}const _T=K.createContext(null),wT=K.createContext(null),ch=()=>{var t;return((t=K.useContext(_T))==null?void 0:t.id)||null},Wc=()=>K.useContext(wT);function U$(t){const e=_0(),r=Wc(),s=ch();return rn(()=>{if(!e)return;const o={id:e,parentId:s};return r?.addNode(o),()=>{r?.removeNode(o)}},[r,e,s]),e}function V$(t){const{children:e,id:r}=t,n=ch();return K.createElement(_T.Provider,{value:K.useMemo(()=>({id:r,parentId:n}),[r,n])},e)}function H$(t){const{children:e}=t,r=K.useRef([]),n=K.useCallback(l=>{r.current=[...r.current,l]},[]),s=K.useCallback(l=>{r.current=r.current.filter(u=>u!==l)},[]),o=K.useState(()=>bT())[0];return K.createElement(wT.Provider,{value:K.useMemo(()=>({nodesRef:r,addNode:n,removeNode:s,events:o}),[n,s,o])},e)}function su(t){return"data-floating-ui-"+t}function yi(t){const e=K.useRef(t);return rn(()=>{e.current=t}),e}const VE=su("safe-polygon");function v_(t,e,r){return r&&!Ff(r)?0:typeof t=="number"?t:t?.[e]}function Q$(t,e){e===void 0&&(e={});const{open:r,onOpenChange:n,dataRef:s,events:o,elements:l}=t,{enabled:u=!0,delay:d=0,handleClose:m=null,mouseOnly:y=!1,restMs:w=0,move:E=!0}=e,k=Wc(),q=ch(),C=yi(m),A=yi(d),D=yi(r),F=K.useRef(),$=K.useRef(-1),H=K.useRef(),G=K.useRef(-1),B=K.useRef(!0),Z=K.useRef(!1),ie=K.useRef(()=>{}),V=K.useRef(!1),ne=K.useCallback(()=>{var je;const be=(je=s.current.openEvent)==null?void 0:je.type;return be?.includes("mouse")&&be!=="mousedown"},[s]);K.useEffect(()=>{if(!u)return;function je(be){let{open:ge}=be;ge||(clearTimeout($.current),clearTimeout(G.current),B.current=!0,V.current=!1)}return o.on("openchange",je),()=>{o.off("openchange",je)}},[u,o]),K.useEffect(()=>{if(!u||!C.current||!r)return;function je(ge){ne()&&n(!1,ge,"hover")}const be=Gn(l.floating).documentElement;return be.addEventListener("mouseleave",je),()=>{be.removeEventListener("mouseleave",je)}},[l.floating,r,n,u,C,ne]);const M=K.useCallback(function(je,be,ge){be===void 0&&(be=!0),ge===void 0&&(ge="hover");const Ee=v_(A.current,"close",F.current);Ee&&!H.current?(clearTimeout($.current),$.current=window.setTimeout(()=>n(!1,je,ge),Ee)):be&&(clearTimeout($.current),n(!1,je,ge))},[A,n]),oe=Bi(()=>{ie.current(),H.current=void 0}),Y=Bi(()=>{if(Z.current){const je=Gn(l.floating).body;je.style.pointerEvents="",je.removeAttribute(VE),Z.current=!1}}),me=Bi(()=>s.current.openEvent?["click","mousedown"].includes(s.current.openEvent.type):!1);K.useEffect(()=>{if(!u)return;function je(Q){if(clearTimeout($.current),B.current=!1,y&&!Ff(F.current)||w>0&&!v_(A.current,"open"))return;const Se=v_(A.current,"open",F.current);Se?$.current=window.setTimeout(()=>{D.current||n(!0,Q,"hover")},Se):r||n(!0,Q,"hover")}function be(Q){if(me())return;ie.current();const Se=Gn(l.floating);if(clearTimeout(G.current),V.current=!1,C.current&&s.current.floatingContext){r||clearTimeout($.current),H.current=C.current({...s.current.floatingContext,tree:k,x:Q.clientX,y:Q.clientY,onClose(){Y(),oe(),me()||M(Q,!0,"safe-polygon")}});const lt=H.current;Se.addEventListener("mousemove",lt),ie.current=()=>{Se.removeEventListener("mousemove",lt)};return}(F.current==="touch"?!Kn(l.floating,Q.relatedTarget):!0)&&M(Q)}function ge(Q){me()||s.current.floatingContext&&(C.current==null||C.current({...s.current.floatingContext,tree:k,x:Q.clientX,y:Q.clientY,onClose(){Y(),oe(),me()||M(Q)}})(Q))}if(Kr(l.domReference)){var Ee;const Q=l.domReference;return r&&Q.addEventListener("mouseleave",ge),(Ee=l.floating)==null||Ee.addEventListener("mouseleave",ge),E&&Q.addEventListener("mousemove",je,{once:!0}),Q.addEventListener("mouseenter",je),Q.addEventListener("mouseleave",be),()=>{var Se;r&&Q.removeEventListener("mouseleave",ge),(Se=l.floating)==null||Se.removeEventListener("mouseleave",ge),E&&Q.removeEventListener("mousemove",je),Q.removeEventListener("mouseenter",je),Q.removeEventListener("mouseleave",be)}}},[l,u,t,y,w,E,M,oe,Y,n,r,D,k,A,C,s,me]),rn(()=>{var je;if(u&&r&&(je=C.current)!=null&&je.__options.blockPointerEvents&&ne()){Z.current=!0;const ge=l.floating;if(Kr(l.domReference)&&ge){var be;const Ee=Gn(l.floating).body;Ee.setAttribute(VE,"");const Q=l.domReference,Se=k==null||(be=k.nodesRef.current.find(ut=>ut.id===q))==null||(be=be.context)==null?void 0:be.elements.floating;return Se&&(Se.style.pointerEvents=""),Ee.style.pointerEvents="none",Q.style.pointerEvents="auto",ge.style.pointerEvents="auto",()=>{Ee.style.pointerEvents="",Q.style.pointerEvents="",ge.style.pointerEvents=""}}}},[u,r,q,l,k,C,ne]),rn(()=>{r||(F.current=void 0,V.current=!1,oe(),Y())},[r,oe,Y]),K.useEffect(()=>()=>{oe(),clearTimeout($.current),clearTimeout(G.current),Y()},[u,l.domReference,oe,Y]);const Te=K.useMemo(()=>{function je(be){F.current=be.pointerType}return{onPointerDown:je,onPointerEnter:je,onMouseMove(be){const{nativeEvent:ge}=be;function Ee(){!B.current&&!D.current&&n(!0,ge,"hover")}y&&!Ff(F.current)||r||w===0||V.current&&be.movementX**2+be.movementY**2<2||(clearTimeout(G.current),F.current==="touch"?Ee():(V.current=!0,G.current=window.setTimeout(Ee,w)))}}},[y,n,r,D,w]),Ce=K.useMemo(()=>({onMouseEnter(){clearTimeout($.current)},onMouseLeave(je){me()||M(je.nativeEvent,!1)}}),[M,me]);return K.useMemo(()=>u?{reference:Te,floating:Ce}:{},[u,Te,Ce])}let HE=0;function Fl(t,e){e===void 0&&(e={});const{preventScroll:r=!1,cancelPrevious:n=!0,sync:s=!1}=e;n&&cancelAnimationFrame(HE);const o=()=>t?.focus({preventScroll:r});s?o():HE=requestAnimationFrame(o)}function QE(t,e){var r;let n=[],s=(r=t.find(o=>o.id===e))==null?void 0:r.parentId;for(;s;){const o=t.find(l=>l.id===s);s=o?.parentId,o&&(n=n.concat(o))}return n}function hc(t,e){let r=t.filter(s=>{var o;return s.parentId===e&&((o=s.context)==null?void 0:o.open)}),n=r;for(;n.length;)n=t.filter(s=>{var o;return(o=n)==null?void 0:o.some(l=>{var u;return s.parentId===l.id&&((u=s.context)==null?void 0:u.open)})}),r=r.concat(n);return r}function K$(t,e){let r,n=-1;function s(o,l){l>n&&(r=o,n=l),hc(t,o).forEach(d=>{s(d.id,l+1)})}return s(e,0),t.find(o=>o.id===r)}let $u=new WeakMap,zp=new WeakSet,Up={},b_=0;const G$=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,xT=t=>t&&(t.host||xT(t.parentNode)),J$=(t,e)=>e.map(r=>{if(t.contains(r))return r;const n=xT(r);return t.contains(n)?n:null}).filter(r=>r!=null);function Z$(t,e,r,n){const s="data-floating-ui-inert",o=n?"inert":r?"aria-hidden":null,l=J$(e,t),u=new Set,d=new Set(l),m=[];Up[s]||(Up[s]=new WeakMap);const y=Up[s];l.forEach(w),E(e),u.clear();function w(k){!k||u.has(k)||(u.add(k),k.parentNode&&w(k.parentNode))}function E(k){!k||d.has(k)||[].forEach.call(k.children,q=>{if(pl(q)!=="script")if(u.has(q))E(q);else{const C=o?q.getAttribute(o):null,A=C!==null&&C!=="false",D=$u.get(q)||0,F=o?D+1:D,$=(y.get(q)||0)+1;$u.set(q,F),y.set(q,$),m.push(q),F===1&&A&&zp.add(q),$===1&&q.setAttribute(s,""),!A&&o&&q.setAttribute(o,"true")}})}return b_++,()=>{m.forEach(k=>{const q=$u.get(k)||0,C=o?q-1:q,A=(y.get(k)||0)-1;$u.set(k,C),y.set(k,A),C||(!zp.has(k)&&o&&k.removeAttribute(o),zp.delete(k)),A||k.removeAttribute(s)}),b_--,b_||($u=new WeakMap,$u=new WeakMap,zp=new WeakSet,Up={})}}function KE(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);const n=Gn(t[0]).body;return Z$(t.concat(Array.from(n.querySelectorAll("[aria-live]"))),n,e,r)}const Zg=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function ST(t,e){const r=Jg(t,Zg());e==="prev"&&r.reverse();const n=r.indexOf(Qs(Gn(t)));return r.slice(n+1)[0]}function NT(){return ST(document.body,"next")}function ET(){return ST(document.body,"prev")}function uf(t,e){const r=e||t.currentTarget,n=t.relatedTarget;return!n||!Kn(r,n)}function Y$(t){Jg(t,Zg()).forEach(r=>{r.dataset.tabindex=r.getAttribute("tabindex")||"",r.setAttribute("tabindex","-1")})}function GE(t){t.querySelectorAll("[data-tabindex]").forEach(r=>{const n=r.dataset.tabindex;delete r.dataset.tabindex,n?r.setAttribute("tabindex",n):r.removeAttribute("tabindex")})}const Yg={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let X$;function JE(t){t.key==="Tab"&&(t.target,clearTimeout(X$))}const ag=K.forwardRef(function(e,r){const[n,s]=K.useState();rn(()=>(eT()&&s("button"),document.addEventListener("keydown",JE),()=>{document.removeEventListener("keydown",JE)}),[]);const o={ref:r,tabIndex:0,role:n,"aria-hidden":n?void 0:!0,[su("focus-guard")]:"",style:Yg};return K.createElement("span",Lf({},e,o))}),kT=K.createContext(null),ZE=su("portal");function e4(t){t===void 0&&(t={});const{id:e,root:r}=t,n=_0(),s=IT(),[o,l]=K.useState(null),u=K.useRef(null);return rn(()=>()=>{o?.remove(),queueMicrotask(()=>{u.current=null})},[o]),rn(()=>{if(!n||u.current)return;const d=e?document.getElementById(e):null;if(!d)return;const m=document.createElement("div");m.id=n,m.setAttribute(ZE,""),d.appendChild(m),u.current=m,l(m)},[e,n]),rn(()=>{if(r===null||!n||u.current)return;let d=r||s?.portalNode;d&&!Kr(d)&&(d=d.current),d=d||document.body;let m=null;e&&(m=document.createElement("div"),m.id=e,d.appendChild(m));const y=document.createElement("div");y.id=n,y.setAttribute(ZE,""),d=m||d,d.appendChild(y),u.current=y,l(y)},[e,r,n,s]),o}function w0(t){const{children:e,id:r,root:n,preserveTabOrder:s=!0}=t,o=e4({id:r,root:n}),[l,u]=K.useState(null),d=K.useRef(null),m=K.useRef(null),y=K.useRef(null),w=K.useRef(null),E=l?.modal,k=l?.open,q=!!l&&!l.modal&&l.open&&s&&!!(n||o);return K.useEffect(()=>{if(!o||!s||E)return;function C(A){o&&uf(A)&&(A.type==="focusin"?GE:Y$)(o)}return o.addEventListener("focusin",C,!0),o.addEventListener("focusout",C,!0),()=>{o.removeEventListener("focusin",C,!0),o.removeEventListener("focusout",C,!0)}},[o,s,E]),K.useEffect(()=>{o&&(k||GE(o))},[k,o]),K.createElement(kT.Provider,{value:K.useMemo(()=>({preserveTabOrder:s,beforeOutsideRef:d,afterOutsideRef:m,beforeInsideRef:y,afterInsideRef:w,portalNode:o,setFocusManagerState:u}),[s,o])},q&&o&&K.createElement(ag,{"data-type":"outside",ref:d,onFocus:C=>{if(uf(C,o)){var A;(A=y.current)==null||A.focus()}else{const D=ET()||l?.refs.domReference.current;D?.focus()}}}),q&&o&&K.createElement("span",{"aria-owns":o.id,style:Yg}),o&&Kw.createPortal(e,o),q&&o&&K.createElement(ag,{"data-type":"outside",ref:m,onFocus:C=>{if(uf(C,o)){var A;(A=w.current)==null||A.focus()}else{const D=NT()||l?.refs.domReference.current;D?.focus(),l?.closeOnFocusOut&&l?.onOpenChange(!1,C.nativeEvent,"focus-out")}}}))}const IT=()=>K.useContext(kT),xw="data-floating-ui-focusable";function Sw(t){return t?t.hasAttribute(xw)?t:t.querySelector("["+xw+"]")||t:null}const YE=20;let Ll=[];function __(t){Ll=Ll.filter(e=>e.isConnected),t&&pl(t)!=="body"&&(Ll.push(t),Ll.length>YE&&(Ll=Ll.slice(-YE)))}function XE(){return Ll.slice().reverse().find(t=>t.isConnected)}function t4(t){const e=Zg();return s$(t,e)?t:Jg(t,e)[0]||t}const r4=K.forwardRef(function(e,r){return K.createElement("button",Lf({},e,{type:"button",ref:r,tabIndex:-1,style:Yg}))});function qT(t){const{context:e,children:r,disabled:n=!1,order:s=["content"],guards:o=!0,initialFocus:l=0,returnFocus:u=!0,restoreFocus:d=!1,modal:m=!0,visuallyHiddenDismiss:y=!1,closeOnFocusOut:w=!0,outsideElementsInert:E=!1}=t,{open:k,refs:q,nodeId:C,onOpenChange:A,events:D,dataRef:F,elements:{domReference:$,floating:H}}=e,G=typeof l=="number"&&l<0,B=tT($)&&G,Z=G$(),ie=Z?o:!0,V=!ie||Z&&E,ne=yi(s),M=yi(l),oe=yi(u),Y=Wc(),me=IT(),Te=K.useRef(null),Ce=K.useRef(null),je=K.useRef(!1),be=K.useRef(!1),ge=K.useRef(-1),Ee=me!=null,Q=Sw(H),Se=Bi(function(bt){return bt===void 0&&(bt=Q),bt?Jg(bt,Zg()):[]}),ut=Bi(bt=>{const yt=Se(bt);return ne.current.map(Ot=>$&&Ot==="reference"?$:Q&&Ot==="floating"?Q:yt).filter(Boolean).flat()});K.useEffect(()=>{if(n||!m)return;function bt(Ot){if(Ot.key==="Tab"){Kn(Q,Qs(Gn(Q)))&&Se().length===0&&!B&&pi(Ot);const Ct=ut(),tr=Wa(Ot);ne.current[0]==="reference"&&tr===$&&(pi(Ot),Ot.shiftKey?Fl(Ct[Ct.length-1]):Fl(Ct[1])),ne.current[1]==="floating"&&tr===Q&&Ot.shiftKey&&(pi(Ot),Fl(Ct[0]))}}const yt=Gn(Q);return yt.addEventListener("keydown",bt),()=>{yt.removeEventListener("keydown",bt)}},[n,$,Q,m,ne,B,Se,ut]),K.useEffect(()=>{if(n||!H)return;function bt(yt){const Ot=Wa(yt),tr=Se().indexOf(Ot);tr!==-1&&(ge.current=tr)}return H.addEventListener("focusin",bt),()=>{H.removeEventListener("focusin",bt)}},[n,H,Se]),K.useEffect(()=>{if(n||!w)return;function bt(){be.current=!0,setTimeout(()=>{be.current=!1})}function yt(Ot){const Ct=Ot.relatedTarget;queueMicrotask(()=>{const tr=!(Kn($,Ct)||Kn(H,Ct)||Kn(Ct,H)||Kn(me?.portalNode,Ct)||Ct!=null&&Ct.hasAttribute(su("focus-guard"))||Y&&(hc(Y.nodesRef.current,C).find(Yt=>{var sr,mr;return Kn((sr=Yt.context)==null?void 0:sr.elements.floating,Ct)||Kn((mr=Yt.context)==null?void 0:mr.elements.domReference,Ct)})||QE(Y.nodesRef.current,C).find(Yt=>{var sr,mr,le;return[(sr=Yt.context)==null?void 0:sr.elements.floating,Sw((mr=Yt.context)==null?void 0:mr.elements.floating)].includes(Ct)||((le=Yt.context)==null?void 0:le.elements.domReference)===Ct})));if(d&&tr&&Qs(Gn(Q))===Gn(Q).body){Pn(Q)&&Q.focus();const Yt=ge.current,sr=Se(),mr=sr[Yt]||sr[sr.length-1]||Q;Pn(mr)&&mr.focus()}(B||!m)&&Ct&&tr&&!be.current&&Ct!==XE()&&(je.current=!0,A(!1,Ot,"focus-out"))})}if(H&&Pn($))return $.addEventListener("focusout",yt),$.addEventListener("pointerdown",bt),H.addEventListener("focusout",yt),()=>{$.removeEventListener("focusout",yt),$.removeEventListener("pointerdown",bt),H.removeEventListener("focusout",yt)}},[n,$,H,Q,m,C,Y,me,A,w,d,Se,B]);const lt=K.useRef(null),ft=K.useRef(null),gt=$E([lt,me?.beforeInsideRef]),ht=$E([ft,me?.afterInsideRef]);K.useEffect(()=>{var bt;if(n||!H)return;const yt=Array.from((me==null||(bt=me.portalNode)==null?void 0:bt.querySelectorAll("["+su("portal")+"]"))||[]),Ot=Y&&!m?QE(Y?.nodesRef.current,C).map(Yt=>{var sr;return(sr=Yt.context)==null?void 0:sr.elements.floating}):[],Ct=[H,...yt,...Ot,Te.current,Ce.current,lt.current,ft.current,me?.beforeOutsideRef.current,me?.afterOutsideRef.current,ne.current.includes("reference")||B?$:null].filter(Yt=>Yt!=null),tr=m||B?KE(Ct,!V,V):KE(Ct);return()=>{tr()}},[n,$,H,m,ne,me,B,ie,V,Y,C]),rn(()=>{if(n||!Pn(Q))return;const bt=Gn(Q),yt=Qs(bt);queueMicrotask(()=>{const Ot=ut(Q),Ct=M.current,tr=(typeof Ct=="number"?Ot[Ct]:Ct.current)||Q,Yt=Kn(Q,yt);!G&&!Yt&&k&&Fl(tr,{preventScroll:tr===Q})})},[n,k,Q,G,ut,M]),rn(()=>{if(n||!Q)return;let bt=!1;const yt=Gn(Q),Ot=Qs(yt);let tr=F.current.openEvent;__(Ot);function Yt(le){let{open:ce,reason:ye,event:Oe,nested:De}=le;ce&&(tr=Oe),ye==="escape-key"&&q.domReference.current&&__(q.domReference.current),["hover","safe-polygon"].includes(ye)&&Oe.type==="mouseleave"&&(je.current=!0),ye==="outside-press"&&(De?(je.current=!1,bt=!0):je.current=!(XC(Oe)||p0(Oe)))}D.on("openchange",Yt);const sr=yt.createElement("span");sr.setAttribute("tabindex","-1"),sr.setAttribute("aria-hidden","true"),Object.assign(sr.style,Yg),Ee&&$&&$.insertAdjacentElement("afterend",sr);function mr(){return typeof oe.current=="boolean"?XE()||sr:oe.current.current||sr}return()=>{D.off("openchange",Yt);const le=Qs(yt),ce=Kn(H,le)||Y&&hc(Y.nodesRef.current,C).some(De=>{var Je;return Kn((Je=De.context)==null?void 0:Je.elements.floating,le)});(ce||tr&&["click","mousedown"].includes(tr.type))&&q.domReference.current&&__(q.domReference.current);const Oe=mr();queueMicrotask(()=>{const De=t4(Oe);oe.current&&!je.current&&Pn(De)&&(!(De!==le&&le!==yt.body)||ce)&&De.focus({preventScroll:bt}),sr.remove()})}},[n,H,Q,oe,F,q,D,Y,C,Ee,$]),K.useEffect(()=>{queueMicrotask(()=>{je.current=!1})},[n]),rn(()=>{if(!n&&me)return me.setFocusManagerState({modal:m,closeOnFocusOut:w,open:k,onOpenChange:A,refs:q}),()=>{me.setFocusManagerState(null)}},[n,me,m,k,A,q,w]),rn(()=>{if(n||!Q||typeof MutationObserver!="function"||G)return;const bt=()=>{const Ot=Q.getAttribute("tabindex"),Ct=Se(),tr=Qs(Gn(H)),Yt=Ct.indexOf(tr);Yt!==-1&&(ge.current=Yt),ne.current.includes("floating")||tr!==q.domReference.current&&Ct.length===0?Ot!=="0"&&Q.setAttribute("tabindex","0"):Ot!=="-1"&&Q.setAttribute("tabindex","-1")};bt();const yt=new MutationObserver(bt);return yt.observe(Q,{childList:!0,subtree:!0,attributes:!0}),()=>{yt.disconnect()}},[n,H,Q,q,ne,Se,G]);function vt(bt){return n||!y||!m?null:K.createElement(r4,{ref:bt==="start"?Te:Ce,onClick:yt=>A(!1,yt.nativeEvent)},typeof y=="string"?y:"Dismiss")}const jt=!n&&ie&&(m?!B:!0)&&(Ee||m);return K.createElement(K.Fragment,null,jt&&K.createElement(ag,{"data-type":"inside",ref:gt,onFocus:bt=>{if(m){const Ot=ut();Fl(s[0]==="reference"?Ot[0]:Ot[Ot.length-1])}else if(me!=null&&me.preserveTabOrder&&me.portalNode)if(je.current=!1,uf(bt,me.portalNode)){const Ot=NT()||$;Ot?.focus()}else{var yt;(yt=me.beforeOutsideRef.current)==null||yt.focus()}}}),!B&&vt("start"),r,vt("end"),jt&&K.createElement(ag,{"data-type":"inside",ref:ht,onFocus:bt=>{if(m)Fl(ut()[0]);else if(me!=null&&me.preserveTabOrder&&me.portalNode)if(w&&(je.current=!0),uf(bt,me.portalNode)){const Ot=ET()||$;Ot?.focus()}else{var yt;(yt=me.afterOutsideRef.current)==null||yt.focus()}}}))}let Vp=0;function n4(){const t=/iP(hone|ad|od)|iOS/.test(h0()),e=document.body.style,n=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",s=window.innerWidth-document.documentElement.clientWidth,o=e.left?parseFloat(e.left):window.scrollX,l=e.top?parseFloat(e.top):window.scrollY;if(e.overflow="hidden",s&&(e[n]=s+"px"),t){var u,d;const m=((u=window.visualViewport)==null?void 0:u.offsetLeft)||0,y=((d=window.visualViewport)==null?void 0:d.offsetTop)||0;Object.assign(e,{position:"fixed",top:-(l-Math.floor(y))+"px",left:-(o-Math.floor(m))+"px",right:"0"})}return()=>{Object.assign(e,{overflow:"",[n]:""}),t&&(Object.assign(e,{position:"",top:"",left:"",right:""}),window.scrollTo(o,l))}}let ek=()=>{};const i4=K.forwardRef(function(e,r){const{lockScroll:n=!1,...s}=e;return rn(()=>{if(n)return Vp++,Vp===1&&(ek=n4()),()=>{Vp--,Vp===0&&ek()}},[n]),K.createElement("div",Lf({ref:r},s,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...s.style}}))});function tk(t){return Pn(t.target)&&t.target.tagName==="BUTTON"}function rk(t){return m0(t)}function x0(t,e){e===void 0&&(e={});const{open:r,onOpenChange:n,dataRef:s,elements:{domReference:o}}=t,{enabled:l=!0,event:u="click",toggle:d=!0,ignoreMouse:m=!1,keyboardHandlers:y=!0,stickIfOpen:w=!0}=e,E=K.useRef(),k=K.useRef(!1),q=K.useMemo(()=>({onPointerDown(C){E.current=C.pointerType},onMouseDown(C){const A=E.current;C.button===0&&u!=="click"&&(Ff(A,!0)&&m||(r&&d&&(!(s.current.openEvent&&w)||s.current.openEvent.type==="mousedown")?n(!1,C.nativeEvent,"click"):(C.preventDefault(),n(!0,C.nativeEvent,"click"))))},onClick(C){const A=E.current;if(u==="mousedown"&&E.current){E.current=void 0;return}Ff(A,!0)&&m||(r&&d&&(!(s.current.openEvent&&w)||s.current.openEvent.type==="click")?n(!1,C.nativeEvent,"click"):n(!0,C.nativeEvent,"click"))},onKeyDown(C){E.current=void 0,!(C.defaultPrevented||!y||tk(C))&&(C.key===" "&&!rk(o)&&(C.preventDefault(),k.current=!0),C.key==="Enter"&&n(!(r&&d),C.nativeEvent,"click"))},onKeyUp(C){C.defaultPrevented||!y||tk(C)||rk(o)||C.key===" "&&k.current&&(k.current=!1,n(!(r&&d),C.nativeEvent,"click"))}}),[s,o,u,m,y,n,r,w,d]);return K.useMemo(()=>l?{reference:q}:{},[l,q])}const s4={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},o4={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},nk=t=>{var e,r;return{escapeKey:typeof t=="boolean"?t:(e=t?.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(r=t?.outsidePress)!=null?r:!0}};function S0(t,e){e===void 0&&(e={});const{open:r,onOpenChange:n,elements:s,dataRef:o}=t,{enabled:l=!0,escapeKey:u=!0,outsidePress:d=!0,outsidePressEvent:m="pointerdown",referencePress:y=!1,referencePressEvent:w="pointerdown",ancestorScroll:E=!1,bubbles:k,capture:q}=e,C=Wc(),A=Bi(typeof d=="function"?d:()=>!1),D=typeof d=="function"?A:d,F=K.useRef(!1),$=K.useRef(!1),{escapeKey:H,outsidePress:G}=nk(k),{escapeKey:B,outsidePress:Z}=nk(q),ie=K.useRef(!1),V=Bi(Te=>{var Ce;if(!r||!l||!u||Te.key!=="Escape"||ie.current)return;const je=(Ce=o.current.floatingContext)==null?void 0:Ce.nodeId,be=C?hc(C.nodesRef.current,je):[];if(!H&&(Te.stopPropagation(),be.length>0)){let ge=!0;if(be.forEach(Ee=>{var Q;if((Q=Ee.context)!=null&&Q.open&&!Ee.context.dataRef.current.__escapeKeyBubbles){ge=!1;return}}),!ge)return}n(!1,TB(Te)?Te.nativeEvent:Te,"escape-key")}),ne=Bi(Te=>{var Ce;const je=()=>{var be;V(Te),(be=Wa(Te))==null||be.removeEventListener("keydown",je)};(Ce=Wa(Te))==null||Ce.addEventListener("keydown",je)}),M=Bi(Te=>{var Ce;const je=F.current;F.current=!1;const be=$.current;if($.current=!1,m==="click"&&be||je||typeof D=="function"&&!D(Te))return;const ge=Wa(Te),Ee="["+su("inert")+"]",Q=Gn(s.floating).querySelectorAll(Ee);let Se=Kr(ge)?ge:null;for(;Se&&!aa(Se);){const gt=da(Se);if(aa(gt)||!Kr(gt))break;Se=gt}if(Q.length&&Kr(ge)&&!OB(ge)&&!Kn(ge,s.floating)&&Array.from(Q).every(gt=>!Kn(Se,gt)))return;if(Pn(ge)&&me){const gt=aa(ge),ht=Cs(ge),vt=/auto|scroll/,jt=gt||vt.test(ht.overflowX),bt=gt||vt.test(ht.overflowY),yt=jt&&ge.clientWidth>0&&ge.scrollWidth>ge.clientWidth,Ot=bt&&ge.clientHeight>0&&ge.scrollHeight>ge.clientHeight,Ct=ht.direction==="rtl",tr=Ot&&(Ct?Te.offsetX<=ge.offsetWidth-ge.clientWidth:Te.offsetX>ge.clientWidth),Yt=yt&&Te.offsetY>ge.clientHeight;if(tr||Yt)return}const ut=(Ce=o.current.floatingContext)==null?void 0:Ce.nodeId,lt=C&&hc(C.nodesRef.current,ut).some(gt=>{var ht;return p_(Te,(ht=gt.context)==null?void 0:ht.elements.floating)});if(p_(Te,s.floating)||p_(Te,s.domReference)||lt)return;const ft=C?hc(C.nodesRef.current,ut):[];if(ft.length>0){let gt=!0;if(ft.forEach(ht=>{var vt;if((vt=ht.context)!=null&&vt.open&&!ht.context.dataRef.current.__outsidePressBubbles){gt=!1;return}}),!gt)return}n(!1,Te,"outside-press")}),oe=Bi(Te=>{var Ce;const je=()=>{var be;M(Te),(be=Wa(Te))==null||be.removeEventListener(m,je)};(Ce=Wa(Te))==null||Ce.addEventListener(m,je)});K.useEffect(()=>{if(!r||!l)return;o.current.__escapeKeyBubbles=H,o.current.__outsidePressBubbles=G;let Te=-1;function Ce(Q){n(!1,Q,"ancestor-scroll")}function je(){window.clearTimeout(Te),ie.current=!0}function be(){Te=window.setTimeout(()=>{ie.current=!1},Kg()?5:0)}const ge=Gn(s.floating);u&&(ge.addEventListener("keydown",B?ne:V,B),ge.addEventListener("compositionstart",je),ge.addEventListener("compositionend",be)),D&&ge.addEventListener(m,Z?oe:M,Z);let Ee=[];return E&&(Kr(s.domReference)&&(Ee=Ga(s.domReference)),Kr(s.floating)&&(Ee=Ee.concat(Ga(s.floating))),!Kr(s.reference)&&s.reference&&s.reference.contextElement&&(Ee=Ee.concat(Ga(s.reference.contextElement)))),Ee=Ee.filter(Q=>{var Se;return Q!==((Se=ge.defaultView)==null?void 0:Se.visualViewport)}),Ee.forEach(Q=>{Q.addEventListener("scroll",Ce,{passive:!0})}),()=>{u&&(ge.removeEventListener("keydown",B?ne:V,B),ge.removeEventListener("compositionstart",je),ge.removeEventListener("compositionend",be)),D&&ge.removeEventListener(m,Z?oe:M,Z),Ee.forEach(Q=>{Q.removeEventListener("scroll",Ce)}),window.clearTimeout(Te)}},[o,s,u,D,m,r,n,E,l,H,G,V,B,ne,M,Z,oe]),K.useEffect(()=>{F.current=!1},[D,m]);const Y=K.useMemo(()=>({onKeyDown:V,...y&&{[s4[w]]:Te=>{n(!1,Te.nativeEvent,"reference-press")},...w!=="click"&&{onClick(Te){n(!1,Te.nativeEvent,"reference-press")}}}}),[V,n,y,w]),me=K.useMemo(()=>({onKeyDown:V,onMouseDown(){$.current=!0},onMouseUp(){$.current=!0},[o4[m]]:()=>{F.current=!0}}),[V,m]);return K.useMemo(()=>l?{reference:Y,floating:me}:{},[l,Y,me])}function a4(t){const{open:e=!1,onOpenChange:r,elements:n}=t,s=_0(),o=K.useRef({}),[l]=K.useState(()=>bT()),u=ch()!=null,[d,m]=K.useState(n.reference),y=Bi((k,q,C)=>{o.current.openEvent=k?q:void 0,l.emit("openchange",{open:k,event:q,reason:C,nested:u}),r?.(k,q,C)}),w=K.useMemo(()=>({setPositionReference:m}),[]),E=K.useMemo(()=>({reference:d||n.reference||null,floating:n.floating||null,domReference:n.reference}),[d,n.reference,n.floating]);return K.useMemo(()=>({dataRef:o,open:e,onOpenChange:y,elements:E,events:l,floatingId:s,refs:w}),[e,y,E,l,s,w])}function N0(t){t===void 0&&(t={});const{nodeId:e}=t,r=a4({...t,elements:{reference:null,floating:null,...t.elements}}),n=t.rootContext||r,s=n.elements,[o,l]=K.useState(null),[u,d]=K.useState(null),y=s?.domReference||o,w=K.useRef(null),E=Wc();rn(()=>{y&&(w.current=y)},[y]);const k=R$({...t,elements:{...s,...u&&{reference:u}}}),q=K.useCallback($=>{const H=Kr($)?{getBoundingClientRect:()=>$.getBoundingClientRect(),contextElement:$}:$;d(H),k.refs.setReference(H)},[k.refs]),C=K.useCallback($=>{(Kr($)||$===null)&&(w.current=$,l($)),(Kr(k.refs.reference.current)||k.refs.reference.current===null||$!==null&&!Kr($))&&k.refs.setReference($)},[k.refs]),A=K.useMemo(()=>({...k.refs,setReference:C,setPositionReference:q,domReference:w}),[k.refs,C,q]),D=K.useMemo(()=>({...k.elements,domReference:y}),[k.elements,y]),F=K.useMemo(()=>({...k,...n,refs:A,elements:D,nodeId:e}),[k,A,D,e,n]);return rn(()=>{n.dataRef.current.floatingContext=F;const $=E?.nodesRef.current.find(H=>H.id===e);$&&($.context=F)}),K.useMemo(()=>({...k,context:F,refs:A,elements:D}),[k,A,D,F])}function l4(t,e){e===void 0&&(e={});const{open:r,onOpenChange:n,events:s,dataRef:o,elements:l}=t,{enabled:u=!0,visibleOnly:d=!0}=e,m=K.useRef(!1),y=K.useRef(),w=K.useRef(!0);K.useEffect(()=>{if(!u)return;const k=zi(l.domReference);function q(){!r&&Pn(l.domReference)&&l.domReference===Qs(Gn(l.domReference))&&(m.current=!0)}function C(){w.current=!0}return k.addEventListener("blur",q),k.addEventListener("keydown",C,!0),()=>{k.removeEventListener("blur",q),k.removeEventListener("keydown",C,!0)}},[l.domReference,r,u]),K.useEffect(()=>{if(!u)return;function k(q){let{reason:C}=q;(C==="reference-press"||C==="escape-key")&&(m.current=!0)}return s.on("openchange",k),()=>{s.off("openchange",k)}},[s,u]),K.useEffect(()=>()=>{clearTimeout(y.current)},[]);const E=K.useMemo(()=>({onPointerDown(k){p0(k.nativeEvent)||(w.current=!1)},onMouseLeave(){m.current=!1},onFocus(k){if(m.current)return;const q=Wa(k.nativeEvent);if(d&&Kr(q))try{if(eT()&&qB())throw Error();if(!q.matches(":focus-visible"))return}catch{if(!w.current&&!m0(q))return}n(!0,k.nativeEvent,"focus")},onBlur(k){m.current=!1;const q=k.relatedTarget,C=k.nativeEvent,A=Kr(q)&&q.hasAttribute(su("focus-guard"))&&q.getAttribute("data-type")==="outside";y.current=window.setTimeout(()=>{var D;const F=Qs(l.domReference?l.domReference.ownerDocument:document);!q&&F===l.domReference||Kn((D=o.current.floatingContext)==null?void 0:D.refs.floating.current,F)||Kn(l.domReference,F)||A||n(!1,C,"focus")})}}),[o,l.domReference,n,d]);return K.useMemo(()=>u?{reference:E}:{},[u,E])}const ik="active",sk="selected";function w_(t,e,r){const n=new Map,s=r==="item";let o=t;if(s&&t){const{[ik]:l,[sk]:u,...d}=t;o=d}return{...r==="floating"&&{tabIndex:-1,[xw]:""},...o,...e.map(l=>{const u=l?l[r]:null;return typeof u=="function"?t?u(t):null:u}).concat(t).reduce((l,u)=>(u&&Object.entries(u).forEach(d=>{let[m,y]=d;if(!(s&&[ik,sk].includes(m)))if(m.indexOf("on")===0){if(n.has(m)||n.set(m,[]),typeof y=="function"){var w;(w=n.get(m))==null||w.push(y),l[m]=function(){for(var E,k=arguments.length,q=new Array(k),C=0;C<k;C++)q[C]=arguments[C];return(E=n.get(m))==null?void 0:E.map(A=>A(...q)).find(A=>A!==void 0)}}}else l[m]=y}),l),{})}}function E0(t){t===void 0&&(t=[]);const e=t.map(u=>u?.reference),r=t.map(u=>u?.floating),n=t.map(u=>u?.item),s=K.useCallback(u=>w_(u,t,"reference"),e),o=K.useCallback(u=>w_(u,t,"floating"),r),l=K.useCallback(u=>w_(u,t,"item"),n);return K.useMemo(()=>({getReferenceProps:s,getFloatingProps:o,getItemProps:l}),[s,o,l])}function Xg(t,e,r){switch(t){case"vertical":return e;case"horizontal":return r;default:return e||r}}function ok(t,e){return Xg(e,t===b0||t===uh,t===Ja||t===Za)}function x_(t,e,r){return Xg(e,t===uh,r?t===Ja:t===Za)||t==="Enter"||t===" "||t===""}function u4(t,e,r){return Xg(e,r?t===Ja:t===Za,t===uh)}function ak(t,e,r){return Xg(e,r?t===Za:t===Ja,t===b0)}function c4(t,e){const{open:r,onOpenChange:n,elements:s}=t,{listRef:o,activeIndex:l,onNavigate:u=()=>{},enabled:d=!0,selectedIndex:m=null,allowEscape:y=!1,loop:w=!1,nested:E=!1,rtl:k=!1,virtual:q=!1,focusItemOnOpen:C="auto",focusItemOnHover:A=!0,openOnArrowKeyDown:D=!0,disabledIndices:F=void 0,orientation:$="vertical",cols:H=1,scrollItemIntoView:G=!0,virtualItemRef:B,itemSizes:Z,dense:ie=!1}=e,V=Sw(s.floating),ne=yi(V),M=ch(),oe=Wc(),Y=Bi(()=>{u(Ce.current===-1?null:Ce.current)}),me=tT(s.domReference),Te=K.useRef(C),Ce=K.useRef(m??-1),je=K.useRef(null),be=K.useRef(!0),ge=K.useRef(Y),Ee=K.useRef(!!s.floating),Q=K.useRef(r),Se=K.useRef(!1),ut=K.useRef(!1),lt=yi(F),ft=yi(r),gt=yi(G),ht=yi(m),[vt,jt]=K.useState(),[bt,yt]=K.useState(),Ot=Bi(()=>{function ce(De){q?(jt(De.id),oe?.events.emit("virtualfocus",De),B&&(B.current=De)):Fl(De,{sync:Se.current,preventScroll:!0})}const ye=o.current[Ce.current];ye&&ce(ye),(Se.current?De=>De():requestAnimationFrame)(()=>{const De=o.current[Ce.current]||ye;if(!De)return;ye||ce(De);const Je=gt.current;Je&&tr&&(ut.current||!be.current)&&(De.scrollIntoView==null||De.scrollIntoView(typeof Je=="boolean"?{block:"nearest",inline:"nearest"}:Je))})});rn(()=>{d&&(r&&s.floating?Te.current&&m!=null&&(ut.current=!0,Ce.current=m,Y()):Ee.current&&(Ce.current=-1,ge.current()))},[d,r,s.floating,m,Y]),rn(()=>{if(d&&r&&s.floating)if(l==null){if(Se.current=!1,ht.current!=null)return;if(Ee.current&&(Ce.current=-1,Ot()),(!Q.current||!Ee.current)&&Te.current&&(je.current!=null||Te.current===!0&&je.current==null)){let ce=0;const ye=()=>{o.current[0]==null?(ce<2&&(ce?requestAnimationFrame:queueMicrotask)(ye),ce++):(Ce.current=je.current==null||x_(je.current,$,k)||E?y_(o,lt.current):WE(o,lt.current),je.current=null,Y())};ye()}}else lf(o,l)||(Ce.current=l,Ot(),ut.current=!1)},[d,r,s.floating,l,ht,E,o,$,k,Y,Ot,lt]),rn(()=>{var ce;if(!d||s.floating||!oe||q||!Ee.current)return;const ye=oe.nodesRef.current,Oe=(ce=ye.find(_t=>_t.id===M))==null||(ce=ce.context)==null?void 0:ce.elements.floating,De=Qs(Gn(s.floating)),Je=ye.some(_t=>_t.context&&Kn(_t.context.elements.floating,De));Oe&&!Je&&be.current&&Oe.focus({preventScroll:!0})},[d,s.floating,oe,M,q]),rn(()=>{if(!d||!oe||!q||M)return;function ce(ye){yt(ye.id),B&&(B.current=ye)}return oe.events.on("virtualfocus",ce),()=>{oe.events.off("virtualfocus",ce)}},[d,oe,q,M,B]),rn(()=>{ge.current=Y,Q.current=r,Ee.current=!!s.floating}),rn(()=>{r||(je.current=null)},[r]);const Ct=l!=null,tr=K.useMemo(()=>{function ce(Oe){if(!r)return;const De=o.current.indexOf(Oe);De!==-1&&Ce.current!==De&&(Ce.current=De,Y())}return{onFocus(Oe){let{currentTarget:De}=Oe;Se.current=!0,ce(De)},onClick:Oe=>{let{currentTarget:De}=Oe;return De.focus({preventScroll:!0})},...A&&{onMouseMove(Oe){let{currentTarget:De}=Oe;Se.current=!0,ut.current=!1,ce(De)},onPointerLeave(Oe){let{pointerType:De}=Oe;if(!(!be.current||De==="touch")&&(Se.current=!0,Ce.current=-1,Y(),!q)){var Je;(Je=ne.current)==null||Je.focus({preventScroll:!0})}}}}},[r,ne,A,o,Y,q]),Yt=Bi(ce=>{if(be.current=!1,Se.current=!0,ce.which===229||!ft.current&&ce.currentTarget===ne.current)return;if(E&&ak(ce.key,$,k)){pi(ce),n(!1,ce.nativeEvent,"list-navigation"),Pn(s.domReference)&&(q?oe?.events.emit("virtualfocus",s.domReference):s.domReference.focus());return}const ye=Ce.current,Oe=y_(o,F),De=WE(o,F);if(me||(ce.key==="Home"&&(pi(ce),Ce.current=Oe,Y()),ce.key==="End"&&(pi(ce),Ce.current=De,Y())),H>1){const Je=Z||Array.from({length:o.current.length},()=>({width:1,height:1})),_t=D$(Je,H,ie),$t=_t.findIndex(Ur=>Ur!=null&&!gm(o.current,Ur,F)),Sr=_t.reduce((Ur,di,hn)=>di!=null&&!gm(o.current,di,F)?hn:Ur,-1),gr=_t[L$({current:_t.map(Ur=>Ur!=null?o.current[Ur]:null)},{event:ce,orientation:$,loop:w,rtl:k,cols:H,disabledIndices:B$([...F||o.current.map((Ur,di)=>gm(o.current,di)?di:void 0),void 0],_t),minIndex:$t,maxIndex:Sr,prevIndex:M$(Ce.current>De?Oe:Ce.current,Je,_t,H,ce.key===uh?"bl":ce.key===(k?Ja:Za)?"tr":"tl"),stopEvent:!0})];if(gr!=null&&(Ce.current=gr,Y()),$==="both")return}if(ok(ce.key,$)){if(pi(ce),r&&!q&&Qs(ce.currentTarget.ownerDocument)===ce.currentTarget){Ce.current=x_(ce.key,$,k)?Oe:De,Y();return}x_(ce.key,$,k)?w?Ce.current=ye>=De?y&&ye!==o.current.length?-1:Oe:ii(o,{startingIndex:ye,disabledIndices:F}):Ce.current=Math.min(De,ii(o,{startingIndex:ye,disabledIndices:F})):w?Ce.current=ye<=Oe?y&&ye!==-1?o.current.length:De:ii(o,{startingIndex:ye,decrement:!0,disabledIndices:F}):Ce.current=Math.max(Oe,ii(o,{startingIndex:ye,decrement:!0,disabledIndices:F})),lf(o,Ce.current)&&(Ce.current=-1),Y()}}),sr=K.useMemo(()=>q&&r&&Ct&&{"aria-activedescendant":bt||vt},[q,r,Ct,bt,vt]),mr=K.useMemo(()=>({"aria-orientation":$==="both"?void 0:$,...me?{}:sr,onKeyDown:Yt,onPointerMove(){be.current=!0}}),[sr,Yt,$,me]),le=K.useMemo(()=>{function ce(Oe){C==="auto"&&XC(Oe.nativeEvent)&&(Te.current=!0)}function ye(Oe){Te.current=C,C==="auto"&&p0(Oe.nativeEvent)&&(Te.current=!0)}return{...sr,onKeyDown(Oe){be.current=!1;const De=Oe.key.startsWith("Arrow"),Je=["Home","End"].includes(Oe.key),_t=De||Je,$t=u4(Oe.key,$,k),Sr=ak(Oe.key,$,k),gr=ok(Oe.key,$),Ur=(E?$t:gr)||Oe.key==="Enter"||Oe.key.trim()==="";if(q&&r){const Do=oe?.nodesRef.current.find(Ht=>Ht.parentId==null),zn=oe&&Do?K$(oe.nodesRef.current,Do.id):null;if(_t&&zn&&B){const Ht=new KeyboardEvent("keydown",{key:Oe.key,bubbles:!0});if($t||Sr){var di,hn;const pa=((di=zn.context)==null?void 0:di.elements.domReference)===Oe.currentTarget,ma=Sr&&!pa?(hn=zn.context)==null?void 0:hn.elements.domReference:$t?o.current.find(ga=>ga?.id===vt):null;ma&&(pi(Oe),ma.dispatchEvent(Ht),yt(void 0))}if((gr||Je)&&zn.context&&zn.context.open&&zn.parentId&&Oe.currentTarget!==zn.context.elements.domReference){var qi;pi(Oe),(qi=zn.context.elements.domReference)==null||qi.dispatchEvent(Ht);return}}return Yt(Oe)}if(!(!r&&!D&&De)){if(Ur&&(je.current=E&&gr?null:Oe.key),E){$t&&(pi(Oe),r?(Ce.current=y_(o,lt.current),Y()):n(!0,Oe.nativeEvent,"list-navigation"));return}gr&&(m!=null&&(Ce.current=m),pi(Oe),!r&&D?n(!0,Oe.nativeEvent,"list-navigation"):Yt(Oe),r&&Y())}},onFocus(){r&&!q&&(Ce.current=-1,Y())},onPointerDown:ye,onMouseDown:ce,onClick:ce}},[vt,sr,Yt,lt,C,o,E,Y,n,r,D,$,k,m,oe,q,B]);return K.useMemo(()=>d?{reference:le,floating:mr,item:tr}:{},[d,le,mr,tr])}const lk=t=>t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(e,r)=>(r?"-":"")+e.toLowerCase());function Wu(t,e){return typeof t=="function"?t(e):t}function d4(t,e){const[r,n]=K.useState(t);return t&&!r&&n(!0),K.useEffect(()=>{if(!t&&r){const s=setTimeout(()=>n(!1),e);return()=>clearTimeout(s)}},[t,r,e]),r}function f4(t,e){e===void 0&&(e={});const{open:r,elements:{floating:n}}=t,{duration:s=250}=e,l=(typeof s=="number"?s:s.close)||0,[u,d]=K.useState("unmounted"),m=d4(r,l);return!m&&u==="close"&&d("unmounted"),rn(()=>{if(n){if(r){d("initial");const y=requestAnimationFrame(()=>{d("open")});return()=>{cancelAnimationFrame(y)}}d("close")}},[r,n]),{isMounted:m,status:u}}function k0(t,e){e===void 0&&(e={});const{initial:r={opacity:0},open:n,close:s,common:o,duration:l=250}=e,u=t.placement,d=u.split("-")[0],m=K.useMemo(()=>({side:d,placement:u}),[d,u]),y=typeof l=="number",w=(y?l:l.open)||0,E=(y?l:l.close)||0,[k,q]=K.useState(()=>({...Wu(o,m),...Wu(r,m)})),{isMounted:C,status:A}=f4(t,{duration:l}),D=yi(r),F=yi(n),$=yi(s),H=yi(o);return rn(()=>{const G=Wu(D.current,m),B=Wu($.current,m),Z=Wu(H.current,m),ie=Wu(F.current,m)||Object.keys(G).reduce((V,ne)=>(V[ne]="",V),{});if(A==="initial"&&q(V=>({transitionProperty:V.transitionProperty,...Z,...G})),A==="open"&&q({transitionProperty:Object.keys(ie).map(lk).join(","),transitionDuration:w+"ms",...Z,...ie}),A==="close"){const V=B||G;q({transitionProperty:Object.keys(V).map(lk).join(","),transitionDuration:E+"ms",...Z,...V})}},[E,$,D,F,H,w,A,m]),{isMounted:C,styles:k}}const h4=K.createContext({close(){}}),p4=hr({slot:{target:["flex","justify-center","items-center"],portal:[]},variant:{mounted:{true:[]}},match:[{if:{mounted:!1},then:{portal:["hidden"]}}],defaults:{mounted:!1}}),m4=({target:t,action:e="hover",disabled:r=!1,closeOnClick:n=!1,delay:s=100,float:o,variant:l,tva:u=p4,css:d,children:m})=>{const[y,w]=K.useState(!1),{refs:E,floatingStyles:k,context:q}=N0({open:y,onOpenChange:w,placement:"top",whileElementsMounted:pT,middleware:[gT(10),yT({fallbackAxisSideDirection:"start"}),A$()],...o}),{getReferenceProps:C,getFloatingProps:A}=E0([Q$(q,{enabled:e==="hover",delay:s}),x0(q,{enabled:e==="click"}),l4(q),S0(q)]),{isMounted:D,styles:F}=k0(q),$=u({mounted:D,...l,css:d}).slots;return p.jsxs(p.Fragment,{children:[p.jsx("button",{type:"button",ref:E.setReference,...C(),disabled:r,className:$.target(),children:t}),p.jsx(w0,{children:p.jsx("div",{ref:E.setFloating,style:{...k,...F},className:$.portal(),...A(),onClick:n?()=>{w(!1)}:void 0,children:p.jsx(h4.Provider,{value:{close(){w(!1)}},children:m})})})]})},CT="icon-[system-uicons--menu-hamburger]",TT=hr({slot:{base:[]},variant:{size:{xs:"text-sm",sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl","2xl":"text-2xl","3xl":"text-3xl","4xl":"text-4xl","5xl":"text-5xl","6xl":"text-6xl","7xl":"text-7xl","8xl":"text-8xl"},disabled:{true:[]}},match:[{if:{disabled:!0},then:{base:["pointer-events-none","cursor-not-allowed","text-gray-400","opacity-50"]}}],defaults:{size:"xl",disabled:!1}}),wr=({icon:t,variant:e,tva:r=TT,css:n,...s})=>{const o=r({...e,css:n}).slots;return t?p.jsx("div",{className:o.base({css:[t]}),...s}):null},g4=hr({slot:{base:["p-1","bg-slate-50","border","border-slate-300","rounded","shadow-md","text-slate-500","flex","flex-col","gap-2"]},variant:{},defaults:{}}),vn=({icon:t=CT,iconProps:e,children:r,variant:n,tva:s=g4,css:o,...l})=>{const u=s({...n,css:o}).slots;return p.jsx(H$,{children:p.jsx(m4,{action:"click",target:p.jsx(wr,{icon:t,...e}),delay:100,float:{placement:"bottom-start"},closeOnClick:!0,...l,children:p.jsx("div",{className:u.base(),children:r})})})},OT="icon-[svg-spinners--90-ring-with-bg]",y4=hr({slot:{base:["flex","items-center","justify-center","gap-2","group","w-fit","h-fit","rounded","cursor-pointer","hover:shadow-md","hover:shadow-slate-200","transition-all","hover:bg-slate-200","text-slate-600","text-2xl","p-1"]},variant:{disabled:{true:["cursor-not-allowed","pointer-events-none"]},loading:{true:["cursor-not-allowed","pointer-events-none"]}},match:[{if:{disabled:!0},then:{base:["opacity-50","hover:bg-blue-400"]}}],defaults:{disabled:!1,loading:!1}}),I0=({iconEnabled:t,iconDisabled:e,iconLoading:r=OT,disabled:n=!1,loading:s=!1,onClick:o,variant:l,tva:u=y4,css:d,children:m,...y})=>{const w=u({disabled:n,loading:s,...l,css:d}).slots;return p.jsxs("div",{className:w.base(),onClick:n?void 0:o,...y,children:[n?p.jsx(wr,{icon:s?r:e??t,variant:{size:"xl"}}):p.jsx(wr,{icon:s?r:t,variant:{size:"xl"}}),m]})},v4="icon-[iconamoon--close-light]",Vi=K.createContext(void 0),b4=hr({slot:{base:["bg-slate-500","bg-opacity-75","backdrop-blur-sm","flex","justify-center","py-12"],target:[],modal:["bg-white","rounded","shadow-lg","p-4","w-fit","h-fit","max-h-full","overflow-y-auto","relative","w-2/3","max-w-1/2"]},variant:{disabled:{true:["pointer-events-none"]},loading:{true:[]}},match:[{if:{loading:!0},then:{base:["pointer-events-none","opacity-50"]}}],defaults:{disabled:!1,loading:!1}}),ey=({target:t,icon:e,title:r,disabled:n=!1,outside:s=!1,variant:o,css:l,tva:u=b4,children:d})=>{const[m,y]=K.useState(!1),w=U$(),{refs:E,context:k}=N0({nodeId:w,open:m,onOpenChange:y}),q=x0(k),C=S0(k,{outsidePress:s}),{getReferenceProps:A,getFloatingProps:D}=E0([q,C]),{isMounted:F,styles:$}=k0(k),H=u({disabled:n,...o,css:l}).slots;return p.jsxs(Vi.Provider,{value:{close(){y(!1)}},children:[p.jsx("div",{ref:E.setReference,...A({disabled:n}),className:H.target(),children:t}),p.jsx(V$,{id:w,children:F&&p.jsx(p.Fragment,{children:p.jsx(w0,{children:p.jsx(i4,{lockScroll:!0,style:$,className:H.base(),children:p.jsx(qT,{context:k,children:p.jsxs("div",{ref:E.setFloating,...D(),className:H.modal(),children:[p.jsxs("div",{className:"border-b border-slate-200 mb-2 py-1.5 flex flex-row items-center justify-between select-none",children:[p.jsxs("div",{className:"flex flex-row items-center gap-2 pr-4",children:[e&&(ih(e)?p.jsx(wr,{icon:e,variant:{size:"xl"}}):e),r&&p.jsx("div",{className:"text-lg font-semibold text-slate-700",children:r})]}),p.jsx(I0,{iconEnabled:v4,onClick:()=>y(!1)})]}),d]})})})})})})]})},_4=hr({use:GC,slot:{},variant:{},defaults:{}}),Ir=({icon:t,iconProps:e,label:r,textTitle:n,disabled:s=!1,modalProps:o,hidden:l=!1,variant:u,tva:d=_4,css:m,children:y})=>{const w=d({...u,disabled:s,css:m}).slots;return l?null:p.jsxs("div",{className:w.base(),children:[ih(t)?p.jsx(wr,{icon:t,...e}):t,p.jsx(ey,{icon:t,target:r,title:n,disabled:s,css:{modal:["w-1/2"]},...o,children:y})]})},w4=hr({slot:{base:["rounded-2xl","bg-blue-50","border","border-blue-200","text-xs","px-4","py-0.5","font-bold"]},variant:{},defaults:{}}),x4=({variant:t,tva:e=w4,css:r,...n})=>{const s=e({...t,css:r}).slots;return p.jsx("div",{className:s.base(),...n})},S4="icon-[material-symbols-light--check-small]",N4="icon-[material-symbols-light--close-small]",E4="icon-[material-symbols-light--check-indeterminate-small]",k4=hr({use:TT,slot:{},variant:{value:{true:"text-green-600",false:"text-amber-600"}},defaults:{value:!1}}),RT=({value:t,checkIcon:e=S4,unCheckIcon:r=N4,undefinedIcon:n=E4,tva:s=k4,...o})=>t==null?p.jsx(wr,{icon:n,tva:s,...o}):p.jsx(wr,{icon:t?e:r,tva:l=>s({...l,value:t}),...o}),I4=hr({slot:{base:["flex","items-center","justify-between","text-sm","font-medium","text-slate-900","w-full"],switch:["relative","w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-blue-300","dark:peer-focus:ring-blue-800","rounded-full","peer","dark:bg-gray-700","peer-checked:after:translate-x-full","rtl:peer-checked:after:-translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","dark:border-gray-600","peer-checked:bg-blue-600"]},variant:{},defaults:{}}),AT=({value:t,onChange:e,variant:r,tva:n=I4,css:s,...o})=>{const l=n({...r,css:s}).slots;return p.jsx("div",{className:l.base(),children:p.jsxs("label",{children:[p.jsx("input",{type:"checkbox",checked:t,className:"sr-only peer",onChange:u=>{e(u.target.checked)},...o}),p.jsx("div",{className:l.switch()})]})})},q4=hr({slot:{base:["flex","flex-row","items-center","justify-center","gap-2","group","rounded","transition-all"]},variant:{variant:{primary:["text-white"],secondary:["text-slate-700"],subtle:["text-slate-600"],danger:["text-slate-50"]},disabled:{true:"cursor-not-allowed"},size:{xs:[],sm:[],md:[]}},match:[{if:{variant:"primary"},then:{base:["bg-blue-400","hover:bg-blue-500"]}},{if:{variant:"primary",disabled:!0},then:{base:["opacity-50","bg-blue-600","hover:bg-blue-600","cursor-not-allowed"]}},{if:{variant:"secondary"},then:{base:["bg-amber-400","hover:bg-amber-500"]}},{if:{variant:"secondary",disabled:!0},then:{base:["opacity-50","bg-amber-600","hover:bg-amber-600","cursor-not-allowed"]}},{if:{variant:"subtle"},then:{base:["text-slate-600","hover:text-slate-800","hover:bg-blue-50"]}},{if:{variant:"subtle",disabled:!0},then:{base:["opacity-50","bg-blue-50","hover:bg-blue-50","cursor-not-allowed"]}},{if:{variant:"danger"},then:{base:["bg-red-400","hover:bg-red-500","hover:text-white"]}},{if:{size:"xs"},then:{base:["py-0.5","px-1"]}},{if:{size:"sm"},then:{base:["py-1","px-2"]}},{if:{size:"md"},then:{base:["py-2","px-4"]}}],defaults:{variant:"primary",disabled:!1,size:"md"}}),bn=({iconEnabled:t,iconDisabled:e,iconLoading:r=OT,iconProps:n,loading:s,variant:o,tva:l=q4,css:u,children:d,...m})=>{const y=l({disabled:m.disabled,...o,css:u}).slots;return p.jsxs("button",{type:"button",className:y.base({disabled:m.disabled}),...m,children:[m.disabled?p.jsx(wr,{icon:s===!0?r:e,variant:{size:"xl"},...n}):p.jsx(wr,{icon:s===!0?r:t,variant:{size:"xl"},...n}),d]})},q0=K.createContext({inline:!1}),C4=hr({slot:{base:["border","border-slate-100","px-2","py-1","rounded-md"],label:["text-sm","font-semibold","text-slate-600","border-b","mb-2"],value:[]},variant:{inline:{true:[]},withBackground:{true:[]}},match:[{if:{inline:!0},then:{base:["border-none","flex","flex-row","items-center","gap-2"],label:["mb-0","font-light","text-md","text-slate-600","border-none"],value:["text-md","text-slate-800"]}},{if:{withBackground:!0},then:{base:["bg-slate-50","hover:bg-slate-100"]}}],defaults:{inline:!1,withBackground:!0}}),T4=({inline:t,label:e,value:r,variant:n,tva:s=C4,css:o})=>{const l=K.useContext(q0),u=t??l?.inline,d=s({inline:u,...n,css:o}).slots;return p.jsxs("div",{className:d.base(),children:[e?p.jsx("div",{className:d.label(),children:e}):null,p.jsx("div",{className:d.value(),children:r})]})},O4=hr({slot:{base:["flex","flex-col","gap-4","border","border-slate-100","p-4","rounded-lg"]},variant:{inline:{true:["flex-row","border-none","gap-1","p-0","flex-1"]}},defaults:{inline:!1}}),PT=({items:t,hidden:e=[],valueOfProps:r,entity:n,variant:s,tva:o=O4,css:l,inline:u=!1})=>{const d=o({inline:u,...s,css:l}).slots;return p.jsx(q0.Provider,{value:{inline:u},children:p.jsx("div",{className:d.base(),children:t.filter(({id:m})=>!e.includes(m)).map(({id:m,render:y,...w})=>p.jsx(T4,{value:p.jsx(y,{entity:n}),...r,...w},m))})})},R4=hr({slot:{base:["flex","flex-col","gap-2"]},variant:{},defaults:{}}),uk="icon-[tabler--dots]",A4=hr({slot:{base:["flex","items-center","justify-between","gap-2"],sums:["flex","items-center","gap-2","text-sm"]},variant:{},defaults:{}}),P4=hr({slot:{base:["select-none"],list:["flex","items-center","-space-x-px","text-xs","gap-2"],page:["flex","items-center","justify-center","w-12","px-2","py-1","rounded","border","border-slate-200","hover:bg-slate-200","cursor-pointer","transition-all","duration-200"]},variant:{current:{true:[]}},match:[{if:{current:!0},then:{page:["bg-slate-100","hover:bg-slate-200","text-slate-800","font-bold"]}}],defaults:{current:!1}}),S_=({pages:t,page:e,onPage:r,variant:n,tva:s=P4,css:o})=>{const l=s({...n,css:o}).slots;return p.jsx("nav",{className:l.base(),children:p.jsx("ul",{className:l.list(),children:t.map((u,d)=>p.jsx("li",{className:l.page({current:e===u-1}),onClick:()=>r(u-1),children:u},`page-${u}-${d}`))})})},j4=hr({slot:{base:["cursor-pointer","bg-slate-50","text-slate-900","text-sm","border","border-slate-300","rounded","focus:border-sky-400","focus:outline-none","p-2.5","hover:shadow-md","transition-all","group"],input:["flex","flex-row","items-center","justify-between","gap-2"],popup:["z-50","cursor-pointer","overflow-y-auto","rounded","border","border-slate-300","bg-white","shadow-lg","focus:outline-none"],item:["focus:outline-none","py-2","px-2.5","flex","items-center","justify-between"]},variant:{disabled:{true:["cursor-not-allowed","hover:shadow-none","focus:border-slate-300","opacity-50"]},active:{true:[]},selected:{true:[]}},match:[{if:{selected:!0},then:{item:["bg-slate-100"]}},{if:{active:!0},then:{item:["bg-slate-200"]}}],defaults:{disabled:!1,selected:!1,active:!1}}),F4=({items:t,icon:e,defaultValue:r,render:n,textSelect:s,disabled:o=!1,onItem:l,onSelect:u,onChange:d,value:m,variant:y,tva:w=j4,css:E})=>{const[k,q]=K.useState(!1),[C,A]=K.useState(null),[D,F]=K.useState(t.findIndex(ge=>ge.id===r));K.useEffect(()=>{F(t.findIndex(ge=>ge.id===m))},[m]);const{refs:$,floatingStyles:H,context:G}=N0({placement:"bottom-start",open:k,onOpenChange:q,whileElementsMounted:pT,middleware:[gT(5),yT({padding:10}),P$({apply({rects:ge,elements:Ee,availableHeight:Q}){Object.assign(Ee.floating.style,{maxHeight:`${Q}px`,minWidth:`${ge.reference.width}px`})},padding:10})]}),B=K.useRef([]),Z=K.useRef(!1),ie=x0(G,{event:"mousedown"}),V=S0(G),ne=c4(G,{listRef:B,activeIndex:C,selectedIndex:D,onNavigate:A,loop:!0}),{getReferenceProps:M,getFloatingProps:oe,getItemProps:Y}=E0([V,ne,ie]),{isMounted:me,styles:Te}=k0(G),Ce=ge=>{F(ge),q(!1);const Ee=t[ge];Ee&&l?.(Ee),u?.(Ee),d?.(Ee?.id)},je=D===null?void 0:t[D],be=w({disabled:o,...y,css:E}).slots;return p.jsxs(p.Fragment,{children:[p.jsx("div",{tabIndex:o?-1:0,ref:o?void 0:$.setReference,"aria-labelledby":"select-label","aria-autocomplete":"none",...o?{}:M(),className:be.base(),children:p.jsxs("div",{className:be.input(),children:[e?p.jsx(wr,{icon:e,variant:{size:"xl"},css:{base:["text-slate-400","group-hover:text-slate-600"]}}):null,je?p.jsx(n,{entity:je}):s||_r.rich("Select item"),p.jsx(wr,{icon:"icon-[gg--select]",variant:{size:"xl"},css:{base:[!k&&"text-slate-400",k&&"text-slate-600","group-hover:text-slate-600"]}})]})}),me&&p.jsx(w0,{children:p.jsx(qT,{context:G,modal:!1,children:p.jsx("div",{ref:$.setFloating,style:{...H,...Te},className:be.popup(),...oe(),children:t.map((ge,Ee)=>p.jsxs("div",{ref:Q=>{B.current[Ee]=Q},role:"option",tabIndex:Ee===C?0:-1,"aria-selected":Ee===D&&Ee===C,className:be.item({selected:Ee===D,active:Ee===C}),...Y({onClick(){Ce(Ee)},onKeyDown(Q){Q.key==="Enter"&&(Q.preventDefault(),Ce(Ee)),Q.key===" "&&!Z.current&&(Q.preventDefault(),Ce(Ee))}}),children:[p.jsx(n,{entity:ge}),Ee===D&&p.jsx(wr,{icon:"icon-[basil--check-outline]",variant:{size:"xl"}})]},ge.id))})})})]})},L4=({sizes:t=[5,15,30,50,100],size:e,onSize:r,...n})=>p.jsx(F4,{items:t.map(s=>({id:`${s}`,size:s})),defaultValue:`${e}`,value:`${e}`,onItem:({size:s})=>r(s),render:({entity:{size:s}})=>s,css:{base:["px-8","py-1"],item:["px-8","py-1"]},...n}),ck=({cursor:t,count:e,textTotal:r,onPage:n,onSize:s,variant:o,tva:l=A4,css:u})=>{const d=K.useMemo(()=>_B({page:t.page,total:Math.ceil(e.filter/t.size),siblings:1,boundaries:1}),[t.page,e.filter,t.size]),m=l({...o,css:u}).slots;return p.jsxs("div",{className:m.base(),children:[d.total>1?p.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[["both","start"].includes(d.type)&&p.jsxs(p.Fragment,{children:[p.jsx(S_,{page:t.page,pages:d.start,onPage:n}),p.jsx(wr,{icon:uk})]}),p.jsx(S_,{page:t.page,pages:d.pages,onPage:n}),["both","end"].includes(d.type)&&p.jsxs(p.Fragment,{children:[p.jsx(wr,{icon:uk}),p.jsx(S_,{page:t.page,pages:d.end,onPage:n})]})]}):null,p.jsxs("div",{className:m.sums(),children:[p.jsx("div",{children:r}),p.jsx("div",{className:"font-bold",children:e.filter}),e.filter!==e.where&&p.jsxs(p.Fragment,{children:[p.jsx("div",{children:"/"}),p.jsx("div",{className:"font-semibold",children:e.where})]})]}),p.jsx(L4,{size:t.size,onSize:s})]})};function Ya(t){return typeof t>"u"||t===void 0}function ls(t){return typeof t=="string"}function ty(t){return typeof t=="number"}function lg(t){return typeof t=="boolean"}function C0(t){return t===null}function D4(t){return t instanceof Date}function T0(t){return typeof t=="bigint"}function us(t){return typeof t=="function"}function yo(t){return typeof t=="object"&&t!==null}function R(t){return Object.freeze(t)}function Hp(t){return fa(t)?t:[t]}function fa(t){return Array.isArray(t)}function Xa(t){return t}const Lr=R({is(t){return t.kind==="AlterTableNode"},create(t){return R({kind:"AlterTableNode",table:t})},cloneWithTableProps(t,e){return R({...t,...e})},cloneWithColumnAlteration(t,e){return R({...t,columnAlterations:t.columnAlterations?[...t.columnAlterations,e]:[e]})}}),nn=R({is(t){return t.kind==="IdentifierNode"},create(t){return R({kind:"IdentifierNode",name:t})}}),ta=R({is(t){return t.kind==="CreateIndexNode"},create(t){return R({kind:"CreateIndexNode",name:nn.create(t)})},cloneWith(t,e){return R({...t,...e})},cloneWithColumns(t,e){return R({...t,columns:[...t.columns||[],...e]})}}),jT=R({is(t){return t.kind==="CreateSchemaNode"},create(t,e){return R({kind:"CreateSchemaNode",schema:nn.create(t),...e})},cloneWith(t,e){return R({...t,...e})}}),M4=["preserve rows","delete rows","drop"],Ji=R({is(t){return t.kind==="CreateTableNode"},create(t){return R({kind:"CreateTableNode",table:t,columns:R([])})},cloneWithColumn(t,e){return R({...t,columns:R([...t.columns,e])})},cloneWithConstraint(t,e){return R({...t,constraints:t.constraints?R([...t.constraints,e]):R([e])})},cloneWithFrontModifier(t,e){return R({...t,frontModifiers:t.frontModifiers?R([...t.frontModifiers,e]):R([e])})},cloneWithEndModifier(t,e){return R({...t,endModifiers:t.endModifiers?R([...t.endModifiers,e]):R([e])})},cloneWith(t,e){return R({...t,...e})}}),al=R({is(t){return t.kind==="SchemableIdentifierNode"},create(t){return R({kind:"SchemableIdentifierNode",identifier:nn.create(t)})},createWithSchema(t,e){return R({kind:"SchemableIdentifierNode",schema:nn.create(t),identifier:nn.create(e)})}}),cf=R({is(t){return t.kind==="DropIndexNode"},create(t,e){return R({kind:"DropIndexNode",name:al.create(t),...e})},cloneWith(t,e){return R({...t,...e})}}),Nw=R({is(t){return t.kind==="DropSchemaNode"},create(t,e){return R({kind:"DropSchemaNode",schema:nn.create(t),...e})},cloneWith(t,e){return R({...t,...e})}}),Ew=R({is(t){return t.kind==="DropTableNode"},create(t,e){return R({kind:"DropTableNode",table:t,...e})},cloneWith(t,e){return R({...t,...e})}}),ml=R({is(t){return t.kind==="AliasNode"},create(t,e){return R({kind:"AliasNode",node:t,alias:e})}}),el=R({is(t){return t.kind==="TableNode"},create(t){return R({kind:"TableNode",table:al.create(t)})},createWithSchema(t,e){return R({kind:"TableNode",table:al.createWithSchema(t,e)})}});function Hi(t){return yo(t)&&us(t.toOperationNode)}function B4(t){return yo(t)&&"expressionType"in t&&Hi(t)}function $4(t){return yo(t)&&"expression"in t&&ls(t.alias)&&Hi(t)}const Yo=R({is(t){return t.kind==="SelectModifierNode"},create(t,e){return R({kind:"SelectModifierNode",modifier:t,of:e})},createWithExpression(t){return R({kind:"SelectModifierNode",rawModifier:t})}}),ll=R({is(t){return t.kind==="AndNode"},create(t,e){return R({kind:"AndNode",left:t,right:e})}}),zc=R({is(t){return t.kind==="OrNode"},create(t,e){return R({kind:"OrNode",left:t,right:e})}}),N_=R({is(t){return t.kind==="OnNode"},create(t){return R({kind:"OnNode",on:t})},cloneWithOperation(t,e,r){return R({...t,on:e==="And"?ll.create(t.on,r):zc.create(t.on,r)})}}),df=R({is(t){return t.kind==="JoinNode"},create(t,e){return R({kind:"JoinNode",joinType:t,table:e,on:void 0})},createWithOn(t,e,r){return R({kind:"JoinNode",joinType:t,table:e,on:N_.create(r)})},cloneWithOn(t,e){return R({...t,on:t.on?N_.cloneWithOperation(t.on,"And",e):N_.create(e)})}}),Cc=R({is(t){return t.kind==="BinaryOperationNode"},create(t,e,r){return R({kind:"BinaryOperationNode",leftOperand:t,operator:e,rightOperand:r})}}),W4=["=","==","!=","<>",">",">=","<","<=","in","not in","is","is not","like","not like","match","ilike","not ilike","@>","<@","^@","&&","?","?&","?|","!<","!>","<=>","!~","~","~*","!~*","@@","@@@","!!","<->","regexp","is distinct from","is not distinct from"],z4=["+","-","*","/","%","^","&","|","#","<<",">>"],FT=["->","->>"],U4=[...W4,...z4,"&&","||"],V4=["exists","not exists"],H4=["not","-",...V4],Q4=[...U4,...FT,...H4,"between","between symmetric"],ul=R({is(t){return t.kind==="OperatorNode"},create(t){return R({kind:"OperatorNode",operator:t})}});function dk(t){return ls(t)&&FT.includes(t)}const Cn=R({is(t){return t.kind==="ColumnNode"},create(t){return R({kind:"ColumnNode",column:nn.create(t)})}}),O0=R({is(t){return t.kind==="SelectAllNode"},create(){return R({kind:"SelectAllNode"})}}),ry=R({is(t){return t.kind==="ReferenceNode"},create(t,e){return R({kind:"ReferenceNode",table:e,column:t})},createSelectAll(t){return R({kind:"ReferenceNode",table:t,column:O0.create()})}});class K4{#e;get dynamicReference(){return this.#e}get refType(){}constructor(e){this.#e=e}toOperationNode(){return $T(this.#e)}}function LT(t){return yo(t)&&Hi(t)&&ls(t.dynamicReference)}const kw=R({is(t){return t.kind==="OrderByItemNode"},create(t,e){return R({kind:"OrderByItemNode",orderBy:t,direction:e})}}),oi=R({is(t){return t.kind==="RawNode"},create(t,e){return R({kind:"RawNode",sqlFragments:R(t),parameters:R(e)})},createWithSql(t){return oi.create([t],[])},createWithChild(t){return oi.create(["",""],[t])},createWithChildren(t){return oi.create(new Array(t.length+1).fill(""),t)}});function DT(t){return t==="asc"||t==="desc"}function dh(t){if(t.length===2)return[E_(t[0],t[1])];if(t.length===1){const[e]=t;return Array.isArray(e)?e.map(r=>E_(r)):[E_(e)]}throw new Error(`Invalid number of arguments at order by! expected 1-2, received ${t.length}`)}function E_(t,e){const r=G4(t);if(kw.is(r)){if(e)throw new Error("Cannot specify direction twice!");return r}return kw.create(r,MT(e))}function G4(t){if(gh(t))return uu(t);if(LT(t))return t.toOperationNode();const[e,r]=t.split(" ");if(r){if(!DT(r))throw new Error(`Invalid order by direction: ${r}`);return kw.create(ha(e),MT(r))}return ha(t)}function MT(t){if(t)return t==="asc"||t==="desc"?oi.createWithSql(t):t.toOperationNode()}const ug=R({is(t){return t.kind==="JSONReferenceNode"},create(t,e){return R({kind:"JSONReferenceNode",reference:t,traversal:e})},cloneWithTraversal(t,e){return R({...t,traversal:e})}}),BT=R({is(t){return t.kind==="JSONOperatorChainNode"},create(t){return R({kind:"JSONOperatorChainNode",operator:t,values:R([])})},cloneWithValue(t,e){return R({...t,values:R([...t.values,e])})}}),ff=R({is(t){return t.kind==="JSONPathNode"},create(t){return R({kind:"JSONPathNode",inOperator:t,pathLegs:R([])})},cloneWithLeg(t,e){return R({...t,pathLegs:R([...t.pathLegs,e])})}});function $T(t){return ls(t)?ha(t):t.toOperationNode()}function Df(t){return fa(t)?t.map(e=>ns(e)):[ns(t)]}function ns(t){return gh(t)?uu(t):$T(t)}function J4(t,e){const r=ha(t);if(dk(e))return ug.create(r,BT.create(ul.create(e)));const n=e.slice(0,-1);if(dk(n))return ug.create(r,ff.create(ul.create(n)));throw new Error(`Invalid JSON operator: ${e}`)}function ha(t){const e=".";if(!t.includes(e))return ry.create(Cn.create(t));const r=t.split(e).map(R0);if(r.length===3)return Y4(r);if(r.length===2)return X4(r);throw new Error(`invalid column reference ${t}`)}function Z4(t){const e=" as ";if(t.includes(e)){const[r,n]=t.split(e).map(R0);return ml.create(ha(r),nn.create(n))}else return ha(t)}function WT(t){return Cn.create(t)}function cg(t){const e=" ";if(t.includes(e)){const[r,n]=t.split(e).map(R0);if(!DT(n))throw new Error(`invalid order direction "${n}" next to "${r}"`);return dh([r,n])[0]}else return WT(t)}function Y4(t){const[e,r,n]=t;return ry.create(Cn.create(n),el.createWithSchema(e,r))}function X4(t){const[e,r]=t;return ry.create(Cn.create(r),el.create(e))}function R0(t){return t.trim()}const zT=R({is(t){return t.kind==="PrimitiveValueListNode"},create(t){return R({kind:"PrimitiveValueListNode",values:R([...t])})}}),A0=R({is(t){return t.kind==="ValueListNode"},create(t){return R({kind:"ValueListNode",values:R(t)})}}),Io=R({is(t){return t.kind==="ValueNode"},create(t){return R({kind:"ValueNode",value:t})},createImmediate(t){return R({kind:"ValueNode",value:t,immediate:!0})}});function eW(t){return fa(t)?tW(t):An(t)}function An(t){return gh(t)?uu(t):Io.create(t)}function P0(t){return ty(t)||lg(t)||C0(t)}function j0(t){if(!P0(t))throw new Error(`unsafe immediate value ${JSON.stringify(t)}`);return Io.createImmediate(t)}function tW(t){return t.some(gh)?A0.create(t.map(e=>An(e))):zT.create(t)}const Tc=R({is(t){return t.kind==="ParensNode"},create(t){return R({kind:"ParensNode",node:t})}});function Jn(t){if(t.length===3)return F0(t[0],t[1],t[2]);if(t.length===1)return An(t[0]);throw new Error(`invalid arguments: ${JSON.stringify(t)}`)}function F0(t,e,r){return rW(e)&&UT(r)?Cc.create(ns(t),Iw(e),Io.createImmediate(r)):Cc.create(ns(t),Iw(e),eW(r))}function qo(t,e,r){return Cc.create(ns(t),Iw(e),ns(r))}function fk(t,e){return dg(Object.entries(t).filter(([,r])=>!Ya(r)).map(([r,n])=>F0(r,UT(n)?"is":"=",n)),e)}function dg(t,e,r=!0){const n=e==="and"?ll.create:zc.create;if(t.length===0)return Cc.create(Io.createImmediate(1),ul.create("="),Io.createImmediate(e==="and"?1:0));let s=hk(t[0]);for(let o=1;o<t.length;++o)s=n(s,hk(t[o]));return t.length>1&&r?Tc.create(s):s}function rW(t){return t==="is"||t==="is not"}function UT(t){return C0(t)||lg(t)}function Iw(t){if(ls(t)&&Q4.includes(t))return ul.create(t);if(Hi(t))return t.toOperationNode();throw new Error(`invalid operator ${JSON.stringify(t)}`)}function hk(t){return Hi(t)?t.toOperationNode():t}const cl=R({is(t){return t.kind==="OrderByNode"},create(t){return R({kind:"OrderByNode",items:R([...t])})},cloneWithItems(t,e){return R({...t,items:R([...t.items,...e])})}}),pk=R({is(t){return t.kind==="PartitionByNode"},create(t){return R({kind:"PartitionByNode",items:R(t)})},cloneWithItems(t,e){return R({...t,items:R([...t.items,...e])})}}),qw=R({is(t){return t.kind==="OverNode"},create(){return R({kind:"OverNode"})},cloneWithOrderByItems(t,e){return R({...t,orderBy:t.orderBy?cl.cloneWithItems(t.orderBy,e):cl.create(e)})},cloneWithPartitionByItems(t,e){return R({...t,partitionBy:t.partitionBy?pk.cloneWithItems(t.partitionBy,e):pk.create(e)})}}),fg=R({is(t){return t.kind==="FromNode"},create(t){return R({kind:"FromNode",froms:R(t)})},cloneWithFroms(t,e){return R({...t,froms:R([...t.froms,...e])})}}),mk=R({is(t){return t.kind==="GroupByNode"},create(t){return R({kind:"GroupByNode",items:R(t)})},cloneWithItems(t,e){return R({...t,items:R([...t.items,...e])})}}),gk=R({is(t){return t.kind==="HavingNode"},create(t){return R({kind:"HavingNode",having:t})},cloneWithOperation(t,e,r){return R({...t,having:e==="And"?ll.create(t.having,r):zc.create(t.having,r)})}}),Fr=R({is(t){return t.kind==="SelectQueryNode"},create(t){return R({kind:"SelectQueryNode",...t&&{with:t}})},createFrom(t,e){return R({kind:"SelectQueryNode",from:fg.create(t),...e&&{with:e}})},cloneWithSelections(t,e){return R({...t,selections:t.selections?R([...t.selections,...e]):R(e)})},cloneWithDistinctOn(t,e){return R({...t,distinctOn:t.distinctOn?R([...t.distinctOn,...e]):R(e)})},cloneWithFrontModifier(t,e){return R({...t,frontModifiers:t.frontModifiers?R([...t.frontModifiers,e]):R([e])})},cloneWithOrderByItems(t,e){return R({...t,orderBy:t.orderBy?cl.cloneWithItems(t.orderBy,e):cl.create(e)})},cloneWithGroupByItems(t,e){return R({...t,groupBy:t.groupBy?mk.cloneWithItems(t.groupBy,e):mk.create(e)})},cloneWithLimit(t,e){return R({...t,limit:e})},cloneWithOffset(t,e){return R({...t,offset:e})},cloneWithFetch(t,e){return R({...t,fetch:e})},cloneWithHaving(t,e){return R({...t,having:t.having?gk.cloneWithOperation(t.having,"And",e):gk.create(e)})},cloneWithSetOperations(t,e){return R({...t,setOperations:t.setOperations?R([...t.setOperations,...e]):R([...e])})},cloneWithoutSelections(t){return R({...t,selections:[]})},cloneWithoutLimit(t){return R({...t,limit:void 0})},cloneWithoutOffset(t){return R({...t,offset:void 0})},cloneWithoutOrderBy(t){return R({...t,orderBy:void 0})},cloneWithoutGroupBy(t){return R({...t,groupBy:void 0})}});function cr(t,e){Object.defineProperties(t.prototype,{then:{enumerable:!1,value:()=>{throw new Error(e)}}})}class pc{#e;constructor(e){this.#e=R(e)}on(...e){return new pc({...this.#e,joinNode:df.cloneWithOn(this.#e.joinNode,Jn(e))})}onRef(e,r,n){return new pc({...this.#e,joinNode:df.cloneWithOn(this.#e.joinNode,qo(e,r,n))})}onTrue(){return new pc({...this.#e,joinNode:df.cloneWithOn(this.#e.joinNode,oi.createWithSql("true"))})}$call(e){return e(this)}toOperationNode(){return this.#e.joinNode}}cr(pc,"don't await JoinBuilder instances. They are never executed directly and are always just a part of a query.");const nW=R({is(t){return t.kind==="PartitionByItemNode"},create(t){return R({kind:"PartitionByItemNode",partitionBy:t})}});function iW(t){return Df(t).map(nW.create)}class Mf{#e;constructor(e){this.#e=R(e)}orderBy(e,r){return new Mf({overNode:qw.cloneWithOrderByItems(this.#e.overNode,dh([e,r]))})}partitionBy(e){return new Mf({overNode:qw.cloneWithPartitionByItems(this.#e.overNode,iW(e))})}$call(e){return e(this)}toOperationNode(){return this.#e.overNode}}cr(Mf,"don't await OverBuilder instances. They are never executed directly and are always just a part of a query.");const hf=R({is(t){return t.kind==="SelectionNode"},create(t){return R({kind:"SelectionNode",selection:t})},createSelectAll(){return R({kind:"SelectionNode",selection:O0.create()})},createSelectAllFromTable(t){return R({kind:"SelectionNode",selection:ry.createSelectAll(t)})}});function eo(t){return us(t)?eo(t(Vc())):fa(t)?t.map(e=>yk(e)):[yk(t)]}function yk(t){return ls(t)?hf.create(Z4(t)):LT(t)?hf.create(t.toOperationNode()):hf.create(n3(t))}function Co(t){return t?Array.isArray(t)?t.map(vk):[vk(t)]:[hf.createSelectAll()]}function vk(t){if(ls(t))return hf.createSelectAllFromTable(kn(t));throw new Error(`invalid value selectAll expression: ${JSON.stringify(t)}`)}const sW=R({is(t){return t.kind==="ValuesNode"},create(t){return R({kind:"ValuesNode",values:R(t)})}}),oW=R({is(t){return t.kind==="DefaultInsertValueNode"},create(){return R({kind:"DefaultInsertValueNode"})}});function VT(t){const e=us(t)?t(Vc()):t,r=fa(e)?e:R([e]);return aW(r)}function aW(t){const e=lW(t);return[R([...e.keys()].map(Cn.create)),sW.create(t.map(r=>uW(r,e)))]}function lW(t){const e=new Map;for(const r of t){const n=Object.keys(r);for(const s of n)!e.has(s)&&r[s]!==void 0&&e.set(s,e.size)}return e}function uW(t,e){const r=Object.keys(t),n=Array.from({length:e.size});let s=!1;for(const l of r){const u=e.get(l);if(Ya(u))continue;const d=t[l];(Ya(d)||gh(d))&&(s=!0),n[u]=d}if(r.length<e.size||s){const l=oW.create();return A0.create(n.map(u=>Ya(u)?l:An(u)))}return zT.create(n)}const Xi=R({is(t){return t.kind==="InsertQueryNode"},create(t,e,r){return R({kind:"InsertQueryNode",into:t,...e&&{with:e},replace:r})},createWithoutInto(){return R({kind:"InsertQueryNode"})},cloneWith(t,e){return R({...t,...e})}}),mc=R({is(t){return t.kind==="UpdateQueryNode"},create(t,e){return R({kind:"UpdateQueryNode",table:t,...e&&{with:e}})},createWithoutTable(){return R({kind:"UpdateQueryNode"})},cloneWithFromItems(t,e){return R({...t,from:t.from?fg.cloneWithFroms(t.from,e):fg.create(e)})},cloneWithUpdates(t,e){return R({...t,updates:t.updates?R([...t.updates,...e]):e})},cloneWithLimit(t,e){return R({...t,limit:e})}}),bk=R({is(t){return t.kind==="UsingNode"},create(t){return R({kind:"UsingNode",tables:R(t)})},cloneWithTables(t,e){return R({...t,tables:R([...t.tables,...e])})}}),Ml=R({is(t){return t.kind==="DeleteQueryNode"},create(t,e){return R({kind:"DeleteQueryNode",from:fg.create(t),...e&&{with:e}})},cloneWithOrderByItems(t,e){return R({...t,orderBy:t.orderBy?cl.cloneWithItems(t.orderBy,e):cl.create(e)})},cloneWithoutOrderBy(t){return R({...t,orderBy:void 0})},cloneWithLimit(t,e){return R({...t,limit:e})},cloneWithoutLimit(t){return R({...t,limit:void 0})},cloneWithUsing(t,e){return R({...t,using:t.using!==void 0?bk.cloneWithTables(t.using,e):bk.create(e)})}}),Mi=R({is(t){return t.kind==="WhereNode"},create(t){return R({kind:"WhereNode",where:t})},cloneWithOperation(t,e,r){return R({...t,where:e==="And"?ll.create(t.where,r):zc.create(t.where,r)})}}),_k=R({is(t){return t.kind==="ReturningNode"},create(t){return R({kind:"ReturningNode",selections:R(t)})},cloneWithSelections(t,e){return R({...t,selections:t.selections?R([...t.selections,...e]):R(e)})}}),cW=R({is(t){return t.kind==="ExplainNode"},create(t,e){return R({kind:"ExplainNode",format:t,options:e})}}),fh=R({is(t){return t.kind==="WhenNode"},create(t){return R({kind:"WhenNode",condition:t})},cloneWithResult(t,e){return R({...t,result:e})}}),$i=R({is(t){return t.kind==="MergeQueryNode"},create(t,e){return R({kind:"MergeQueryNode",into:t,...e&&{with:e}})},cloneWithUsing(t,e){return R({...t,using:e})},cloneWithWhen(t,e){return R({...t,whens:t.whens?R([...t.whens,e]):R([e])})},cloneWithThen(t,e){return R({...t,whens:t.whens?R([...t.whens.slice(0,-1),fh.cloneWithResult(t.whens[t.whens.length-1],e)]):void 0})}}),wk=R({is(t){return t.kind==="OutputNode"},create(t){return R({kind:"OutputNode",selections:R(t)})},cloneWithSelections(t,e){return R({...t,selections:t.selections?R([...t.selections,...e]):R(e)})}}),Tt=R({is(t){return Fr.is(t)||Xi.is(t)||mc.is(t)||Ml.is(t)||$i.is(t)},cloneWithEndModifier(t,e){return R({...t,endModifiers:t.endModifiers?R([...t.endModifiers,e]):R([e])})},cloneWithWhere(t,e){return R({...t,where:t.where?Mi.cloneWithOperation(t.where,"And",e):Mi.create(e)})},cloneWithJoin(t,e){return R({...t,joins:t.joins?R([...t.joins,e]):R([e])})},cloneWithReturning(t,e){return R({...t,returning:t.returning?_k.cloneWithSelections(t.returning,e):_k.create(e)})},cloneWithoutReturning(t){return R({...t,returning:void 0})},cloneWithoutWhere(t){return R({...t,where:void 0})},cloneWithExplain(t,e,r){return R({...t,explain:cW.create(e,r?.toOperationNode())})},cloneWithTop(t,e){return R({...t,top:e})},cloneWithOutput(t,e){return R({...t,output:t.output?wk.cloneWithSelections(t.output,e):wk.create(e)})}}),HT=R({is(t){return t.kind==="ColumnUpdateNode"},create(t,e){return R({kind:"ColumnUpdateNode",column:t,value:e})}});function dW(...t){return t.length===2?[HT.create(ns(t[0]),An(t[1]))]:L0(t[0])}function L0(t){const e=us(t)?t(Vc()):t;return Object.entries(e).filter(([r,n])=>n!==void 0).map(([r,n])=>HT.create(Cn.create(r),An(n)))}const fW=R({is(t){return t.kind==="OnDuplicateKeyNode"},create(t){return R({kind:"OnDuplicateKeyNode",updates:t})}});class hW{insertId;numInsertedOrUpdatedRows;constructor(e,r){this.insertId=e,this.numInsertedOrUpdatedRows=r}}class hh extends Error{node;constructor(e){super("no result"),this.node=e}}function ph(t){return Object.prototype.hasOwnProperty.call(t,"prototype")}const Zi=R({is(t){return t.kind==="OnConflictNode"},create(){return R({kind:"OnConflictNode"})},cloneWith(t,e){return R({...t,...e})},cloneWithIndexWhere(t,e){return R({...t,indexWhere:t.indexWhere?Mi.cloneWithOperation(t.indexWhere,"And",e):Mi.create(e)})},cloneWithIndexOrWhere(t,e){return R({...t,indexWhere:t.indexWhere?Mi.cloneWithOperation(t.indexWhere,"Or",e):Mi.create(e)})},cloneWithUpdateWhere(t,e){return R({...t,updateWhere:t.updateWhere?Mi.cloneWithOperation(t.updateWhere,"And",e):Mi.create(e)})},cloneWithUpdateOrWhere(t,e){return R({...t,updateWhere:t.updateWhere?Mi.cloneWithOperation(t.updateWhere,"Or",e):Mi.create(e)})},cloneWithoutIndexWhere(t){return R({...t,indexWhere:void 0})},cloneWithoutUpdateWhere(t){return R({...t,updateWhere:void 0})}});class go{#e;constructor(e){this.#e=R(e)}column(e){const r=Cn.create(e);return new go({...this.#e,onConflictNode:Zi.cloneWith(this.#e.onConflictNode,{columns:this.#e.onConflictNode.columns?R([...this.#e.onConflictNode.columns,r]):R([r])})})}columns(e){const r=e.map(Cn.create);return new go({...this.#e,onConflictNode:Zi.cloneWith(this.#e.onConflictNode,{columns:this.#e.onConflictNode.columns?R([...this.#e.onConflictNode.columns,...r]):R(r)})})}constraint(e){return new go({...this.#e,onConflictNode:Zi.cloneWith(this.#e.onConflictNode,{constraint:nn.create(e)})})}expression(e){return new go({...this.#e,onConflictNode:Zi.cloneWith(this.#e.onConflictNode,{indexExpression:e.toOperationNode()})})}where(...e){return new go({...this.#e,onConflictNode:Zi.cloneWithIndexWhere(this.#e.onConflictNode,Jn(e))})}whereRef(e,r,n){return new go({...this.#e,onConflictNode:Zi.cloneWithIndexWhere(this.#e.onConflictNode,qo(e,r,n))})}clearWhere(){return new go({...this.#e,onConflictNode:Zi.cloneWithoutIndexWhere(this.#e.onConflictNode)})}doNothing(){return new QT({...this.#e,onConflictNode:Zi.cloneWith(this.#e.onConflictNode,{doNothing:!0})})}doUpdateSet(e){return new gc({...this.#e,onConflictNode:Zi.cloneWith(this.#e.onConflictNode,{updates:L0(e)})})}$call(e){return e(this)}}cr(go,"don't await OnConflictBuilder instances.");class QT{#e;constructor(e){this.#e=R(e)}toOperationNode(){return this.#e.onConflictNode}}cr(QT,"don't await OnConflictDoNothingBuilder instances.");class gc{#e;constructor(e){this.#e=R(e)}where(...e){return new gc({...this.#e,onConflictNode:Zi.cloneWithUpdateWhere(this.#e.onConflictNode,Jn(e))})}whereRef(e,r,n){return new gc({...this.#e,onConflictNode:Zi.cloneWithUpdateWhere(this.#e.onConflictNode,qo(e,r,n))})}clearWhere(){return new gc({...this.#e,onConflictNode:Zi.cloneWithoutUpdateWhere(this.#e.onConflictNode)})}$call(e){return e(this)}toOperationNode(){return this.#e.onConflictNode}}cr(gc,"don't await OnConflictUpdateBuilder instances.");const pW=R({is(t){return t.kind==="TopNode"},create(t,e){return R({kind:"TopNode",expression:t,modifiers:e})}});function Uc(t,e){if(!ty(t)&&!T0(t))throw new Error(`Invalid top expression: ${t}`);if(!Ya(e)&&!mW(e))throw new Error(`Invalid top modifiers: ${e}`);return pW.create(t,e)}function mW(t){return t==="percent"||t==="with ties"||t==="percent with ties"}class en{#e;constructor(e){this.#e=R(e)}values(e){const[r,n]=VT(e);return new en({...this.#e,queryNode:Xi.cloneWith(this.#e.queryNode,{columns:r,values:n})})}columns(e){return new en({...this.#e,queryNode:Xi.cloneWith(this.#e.queryNode,{columns:R(e.map(Cn.create))})})}expression(e){return new en({...this.#e,queryNode:Xi.cloneWith(this.#e.queryNode,{values:uu(e)})})}defaultValues(){return new en({...this.#e,queryNode:Xi.cloneWith(this.#e.queryNode,{defaultValues:!0})})}modifyEnd(e){return new en({...this.#e,queryNode:Tt.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}ignore(){return new en({...this.#e,queryNode:Xi.cloneWith(this.#e.queryNode,{ignore:!0})})}top(e,r){return new en({...this.#e,queryNode:Tt.cloneWithTop(this.#e.queryNode,Uc(e,r))})}onConflict(e){return new en({...this.#e,queryNode:Xi.cloneWith(this.#e.queryNode,{onConflict:e(new go({onConflictNode:Zi.create()})).toOperationNode()})})}onDuplicateKeyUpdate(e){return new en({...this.#e,queryNode:Xi.cloneWith(this.#e.queryNode,{onDuplicateKey:fW.create(L0(e))})})}returning(e){return new en({...this.#e,queryNode:Tt.cloneWithReturning(this.#e.queryNode,eo(e))})}returningAll(){return new en({...this.#e,queryNode:Tt.cloneWithReturning(this.#e.queryNode,Co())})}output(e){return new en({...this.#e,queryNode:Tt.cloneWithOutput(this.#e.queryNode,eo(e))})}outputAll(e){return new en({...this.#e,queryNode:Tt.cloneWithOutput(this.#e.queryNode,Co(e))})}clearReturning(){return new en({...this.#e,queryNode:Tt.cloneWithoutReturning(this.#e.queryNode)})}$call(e){return e(this)}$if(e,r){return e?r(this):new en({...this.#e})}$castTo(){return new en(this.#e)}$narrowType(){return new en(this.#e)}$assertType(){return new en(this.#e)}withPlugin(e){return new en({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),r=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:n}=this.#e.executor,s=e.query;return s.returning&&n.supportsReturning||s.output&&n.supportsOutput?r.rows:[new hW(r.insertId,r.numAffectedRows??r.numUpdatedOrDeletedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=hh){const r=await this.executeTakeFirst();if(r===void 0)throw ph(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async *stream(e=100){const r=this.compile(),n=this.#e.executor.stream(r,e,this.#e.queryId);for await(const s of n)yield*s.rows}async explain(e,r){return await new en({...this.#e,queryNode:Tt.cloneWithExplain(this.#e.queryNode,e,r)}).execute()}}cr(en,"don't await InsertQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class gW{numDeletedRows;constructor(e){this.numDeletedRows=e}}const D0=R({is(t){return t.kind==="LimitNode"},create(t){return R({kind:"LimitNode",limit:t})}});class jr{#e;constructor(e){this.#e=R(e)}where(...e){return new jr({...this.#e,queryNode:Tt.cloneWithWhere(this.#e.queryNode,Jn(e))})}whereRef(e,r,n){return new jr({...this.#e,queryNode:Tt.cloneWithWhere(this.#e.queryNode,qo(e,r,n))})}clearWhere(){return new jr({...this.#e,queryNode:Tt.cloneWithoutWhere(this.#e.queryNode)})}top(e,r){return new jr({...this.#e,queryNode:Tt.cloneWithTop(this.#e.queryNode,Uc(e,r))})}using(e){return new jr({...this.#e,queryNode:Ml.cloneWithUsing(this.#e.queryNode,Wf(e))})}innerJoin(...e){return new jr({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,gi("InnerJoin",e))})}leftJoin(...e){return new jr({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,gi("LeftJoin",e))})}rightJoin(...e){return new jr({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,gi("RightJoin",e))})}fullJoin(...e){return new jr({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,gi("FullJoin",e))})}returning(e){return new jr({...this.#e,queryNode:Tt.cloneWithReturning(this.#e.queryNode,eo(e))})}returningAll(e){return new jr({...this.#e,queryNode:Tt.cloneWithReturning(this.#e.queryNode,Co(e))})}output(e){return new jr({...this.#e,queryNode:Tt.cloneWithOutput(this.#e.queryNode,eo(e))})}outputAll(e){return new jr({...this.#e,queryNode:Tt.cloneWithOutput(this.#e.queryNode,Co(e))})}clearReturning(){return new jr({...this.#e,queryNode:Tt.cloneWithoutReturning(this.#e.queryNode)})}clearLimit(){return new jr({...this.#e,queryNode:Ml.cloneWithoutLimit(this.#e.queryNode)})}clearOrderBy(){return new jr({...this.#e,queryNode:Ml.cloneWithoutOrderBy(this.#e.queryNode)})}orderBy(e,r){return new jr({...this.#e,queryNode:Ml.cloneWithOrderByItems(this.#e.queryNode,dh([e,r]))})}limit(e){return new jr({...this.#e,queryNode:Ml.cloneWithLimit(this.#e.queryNode,D0.create(An(e)))})}modifyEnd(e){return new jr({...this.#e,queryNode:Tt.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}$call(e){return e(this)}$if(e,r){return e?r(this):new jr({...this.#e})}$castTo(){return new jr(this.#e)}$narrowType(){return new jr(this.#e)}$assertType(){return new jr(this.#e)}withPlugin(e){return new jr({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),r=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:n}=this.#e.executor,s=e.query;return s.returning&&n.supportsReturning||s.output&&n.supportsOutput?r.rows:[new gW(r.numAffectedRows??r.numUpdatedOrDeletedRows??BigInt(0))]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=hh){const r=await this.executeTakeFirst();if(r===void 0)throw ph(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async *stream(e=100){const r=this.compile(),n=this.#e.executor.stream(r,e,this.#e.queryId);for await(const s of n)yield*s.rows}async explain(e,r){return await new jr({...this.#e,queryNode:Tt.cloneWithExplain(this.#e.queryNode,e,r)}).execute()}}cr(jr,"don't await DeleteQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class yW{numUpdatedRows;numChangedRows;constructor(e,r){this.numUpdatedRows=e,this.numChangedRows=r}}class $r{#e;constructor(e){this.#e=R(e)}where(...e){return new $r({...this.#e,queryNode:Tt.cloneWithWhere(this.#e.queryNode,Jn(e))})}whereRef(e,r,n){return new $r({...this.#e,queryNode:Tt.cloneWithWhere(this.#e.queryNode,qo(e,r,n))})}clearWhere(){return new $r({...this.#e,queryNode:Tt.cloneWithoutWhere(this.#e.queryNode)})}top(e,r){return new $r({...this.#e,queryNode:Tt.cloneWithTop(this.#e.queryNode,Uc(e,r))})}from(e){return new $r({...this.#e,queryNode:mc.cloneWithFromItems(this.#e.queryNode,Wf(e))})}innerJoin(...e){return new $r({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,gi("InnerJoin",e))})}leftJoin(...e){return new $r({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,gi("LeftJoin",e))})}rightJoin(...e){return new $r({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,gi("RightJoin",e))})}fullJoin(...e){return new $r({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,gi("FullJoin",e))})}limit(e){return new $r({...this.#e,queryNode:mc.cloneWithLimit(this.#e.queryNode,D0.create(An(e)))})}set(...e){return new $r({...this.#e,queryNode:mc.cloneWithUpdates(this.#e.queryNode,dW(...e))})}returning(e){return new $r({...this.#e,queryNode:Tt.cloneWithReturning(this.#e.queryNode,eo(e))})}returningAll(e){return new $r({...this.#e,queryNode:Tt.cloneWithReturning(this.#e.queryNode,Co(e))})}output(e){return new $r({...this.#e,queryNode:Tt.cloneWithOutput(this.#e.queryNode,eo(e))})}outputAll(e){return new $r({...this.#e,queryNode:Tt.cloneWithOutput(this.#e.queryNode,Co(e))})}modifyEnd(e){return new $r({...this.#e,queryNode:Tt.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}clearReturning(){return new $r({...this.#e,queryNode:Tt.cloneWithoutReturning(this.#e.queryNode)})}$call(e){return e(this)}$if(e,r){return e?r(this):new $r({...this.#e})}$castTo(){return new $r(this.#e)}$narrowType(){return new $r(this.#e)}$assertType(){return new $r(this.#e)}withPlugin(e){return new $r({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),r=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:n}=this.#e.executor,s=e.query;return s.returning&&n.supportsReturning||s.output&&n.supportsOutput?r.rows:[new yW(r.numAffectedRows??r.numUpdatedOrDeletedRows??BigInt(0),r.numChangedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=hh){const r=await this.executeTakeFirst();if(r===void 0)throw ph(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async *stream(e=100){const r=this.compile(),n=this.#e.executor.stream(r,e,this.#e.queryId);for await(const s of n)yield*s.rows}async explain(e,r){return await new $r({...this.#e,queryNode:Tt.cloneWithExplain(this.#e.queryNode,e,r)}).execute()}}cr($r,"don't await UpdateQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");const xk=R({is(t){return t.kind==="CommonTableExpressionNameNode"},create(t,e){return R({kind:"CommonTableExpressionNameNode",table:el.create(t),columns:e?R(e.map(Cn.create)):void 0})}}),hg=R({is(t){return t.kind==="CommonTableExpressionNode"},create(t,e){return R({kind:"CommonTableExpressionNode",name:t,expression:e})},cloneWith(t,e){return R({...t,...e})}});class Bf{#e;constructor(e){this.#e=R(e)}materialized(){return new Bf({...this.#e,node:hg.cloneWith(this.#e.node,{materialized:!0})})}notMaterialized(){return new Bf({...this.#e,node:hg.cloneWith(this.#e.node,{materialized:!1})})}toOperationNode(){return this.#e.node}}cr(Bf,"don't await CTEBuilder instances. They are never executed directly and are always just a part of a query.");function Sk(t,e){const r=e(CW()).toOperationNode();return us(t)?t(vW(r)).toOperationNode():hg.create(KT(t),r)}function vW(t){return e=>new Bf({node:hg.create(KT(e),t)})}function KT(t){if(t.includes("(")){const e=t.split(/[\(\)]/),r=e[0],n=e[1].split(",").map(s=>s.trim());return xk.create(r,n)}else return xk.create(t)}const Qp=R({is(t){return t.kind==="WithNode"},create(t,e){return R({kind:"WithNode",expressions:R([t]),...e})},cloneWithExpression(t,e){return R({...t,expressions:R([...t.expressions,e])})}}),Nk=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"];function bW(t){let e="";for(let r=0;r<t;++r)e+=_W();return e}function _W(){return Nk[~~(Math.random()*Nk.length)]}function Dr(){return new wW}class wW{#e;get queryId(){return this.#e===void 0&&(this.#e=bW(8)),this.#e}}class GT{nodeStack=[];#e=R({AliasNode:this.transformAlias.bind(this),ColumnNode:this.transformColumn.bind(this),IdentifierNode:this.transformIdentifier.bind(this),SchemableIdentifierNode:this.transformSchemableIdentifier.bind(this),RawNode:this.transformRaw.bind(this),ReferenceNode:this.transformReference.bind(this),SelectQueryNode:this.transformSelectQuery.bind(this),SelectionNode:this.transformSelection.bind(this),TableNode:this.transformTable.bind(this),FromNode:this.transformFrom.bind(this),SelectAllNode:this.transformSelectAll.bind(this),AndNode:this.transformAnd.bind(this),OrNode:this.transformOr.bind(this),ValueNode:this.transformValue.bind(this),ValueListNode:this.transformValueList.bind(this),PrimitiveValueListNode:this.transformPrimitiveValueList.bind(this),ParensNode:this.transformParens.bind(this),JoinNode:this.transformJoin.bind(this),OperatorNode:this.transformOperator.bind(this),WhereNode:this.transformWhere.bind(this),InsertQueryNode:this.transformInsertQuery.bind(this),DeleteQueryNode:this.transformDeleteQuery.bind(this),ReturningNode:this.transformReturning.bind(this),CreateTableNode:this.transformCreateTable.bind(this),AddColumnNode:this.transformAddColumn.bind(this),ColumnDefinitionNode:this.transformColumnDefinition.bind(this),DropTableNode:this.transformDropTable.bind(this),DataTypeNode:this.transformDataType.bind(this),OrderByNode:this.transformOrderBy.bind(this),OrderByItemNode:this.transformOrderByItem.bind(this),GroupByNode:this.transformGroupBy.bind(this),GroupByItemNode:this.transformGroupByItem.bind(this),UpdateQueryNode:this.transformUpdateQuery.bind(this),ColumnUpdateNode:this.transformColumnUpdate.bind(this),LimitNode:this.transformLimit.bind(this),OffsetNode:this.transformOffset.bind(this),OnConflictNode:this.transformOnConflict.bind(this),OnDuplicateKeyNode:this.transformOnDuplicateKey.bind(this),CreateIndexNode:this.transformCreateIndex.bind(this),DropIndexNode:this.transformDropIndex.bind(this),ListNode:this.transformList.bind(this),PrimaryKeyConstraintNode:this.transformPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.transformUniqueConstraint.bind(this),ReferencesNode:this.transformReferences.bind(this),CheckConstraintNode:this.transformCheckConstraint.bind(this),WithNode:this.transformWith.bind(this),CommonTableExpressionNode:this.transformCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.transformCommonTableExpressionName.bind(this),HavingNode:this.transformHaving.bind(this),CreateSchemaNode:this.transformCreateSchema.bind(this),DropSchemaNode:this.transformDropSchema.bind(this),AlterTableNode:this.transformAlterTable.bind(this),DropColumnNode:this.transformDropColumn.bind(this),RenameColumnNode:this.transformRenameColumn.bind(this),AlterColumnNode:this.transformAlterColumn.bind(this),ModifyColumnNode:this.transformModifyColumn.bind(this),AddConstraintNode:this.transformAddConstraint.bind(this),DropConstraintNode:this.transformDropConstraint.bind(this),ForeignKeyConstraintNode:this.transformForeignKeyConstraint.bind(this),CreateViewNode:this.transformCreateView.bind(this),DropViewNode:this.transformDropView.bind(this),GeneratedNode:this.transformGenerated.bind(this),DefaultValueNode:this.transformDefaultValue.bind(this),OnNode:this.transformOn.bind(this),ValuesNode:this.transformValues.bind(this),SelectModifierNode:this.transformSelectModifier.bind(this),CreateTypeNode:this.transformCreateType.bind(this),DropTypeNode:this.transformDropType.bind(this),ExplainNode:this.transformExplain.bind(this),DefaultInsertValueNode:this.transformDefaultInsertValue.bind(this),AggregateFunctionNode:this.transformAggregateFunction.bind(this),OverNode:this.transformOver.bind(this),PartitionByNode:this.transformPartitionBy.bind(this),PartitionByItemNode:this.transformPartitionByItem.bind(this),SetOperationNode:this.transformSetOperation.bind(this),BinaryOperationNode:this.transformBinaryOperation.bind(this),UnaryOperationNode:this.transformUnaryOperation.bind(this),UsingNode:this.transformUsing.bind(this),FunctionNode:this.transformFunction.bind(this),CaseNode:this.transformCase.bind(this),WhenNode:this.transformWhen.bind(this),JSONReferenceNode:this.transformJSONReference.bind(this),JSONPathNode:this.transformJSONPath.bind(this),JSONPathLegNode:this.transformJSONPathLeg.bind(this),JSONOperatorChainNode:this.transformJSONOperatorChain.bind(this),TupleNode:this.transformTuple.bind(this),MergeQueryNode:this.transformMergeQuery.bind(this),MatchedNode:this.transformMatched.bind(this),AddIndexNode:this.transformAddIndex.bind(this),CastNode:this.transformCast.bind(this),FetchNode:this.transformFetch.bind(this),TopNode:this.transformTop.bind(this),OutputNode:this.transformOutput.bind(this)});transformNode(e){if(!e)return e;this.nodeStack.push(e);const r=this.transformNodeImpl(e);return this.nodeStack.pop(),R(r)}transformNodeImpl(e){return this.#e[e.kind](e)}transformNodeList(e){return e&&R(e.map(r=>this.transformNode(r)))}transformSelectQuery(e){return{kind:"SelectQueryNode",from:this.transformNode(e.from),selections:this.transformNodeList(e.selections),distinctOn:this.transformNodeList(e.distinctOn),joins:this.transformNodeList(e.joins),groupBy:this.transformNode(e.groupBy),orderBy:this.transformNode(e.orderBy),where:this.transformNode(e.where),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),limit:this.transformNode(e.limit),offset:this.transformNode(e.offset),with:this.transformNode(e.with),having:this.transformNode(e.having),explain:this.transformNode(e.explain),setOperations:this.transformNodeList(e.setOperations),fetch:this.transformNode(e.fetch),top:this.transformNode(e.top)}}transformSelection(e){return{kind:"SelectionNode",selection:this.transformNode(e.selection)}}transformColumn(e){return{kind:"ColumnNode",column:this.transformNode(e.column)}}transformAlias(e){return{kind:"AliasNode",node:this.transformNode(e.node),alias:this.transformNode(e.alias)}}transformTable(e){return{kind:"TableNode",table:this.transformNode(e.table)}}transformFrom(e){return{kind:"FromNode",froms:this.transformNodeList(e.froms)}}transformReference(e){return{kind:"ReferenceNode",column:this.transformNode(e.column),table:this.transformNode(e.table)}}transformAnd(e){return{kind:"AndNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformOr(e){return{kind:"OrNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformValueList(e){return{kind:"ValueListNode",values:this.transformNodeList(e.values)}}transformParens(e){return{kind:"ParensNode",node:this.transformNode(e.node)}}transformJoin(e){return{kind:"JoinNode",joinType:e.joinType,table:this.transformNode(e.table),on:this.transformNode(e.on)}}transformRaw(e){return{kind:"RawNode",sqlFragments:R([...e.sqlFragments]),parameters:this.transformNodeList(e.parameters)}}transformWhere(e){return{kind:"WhereNode",where:this.transformNode(e.where)}}transformInsertQuery(e){return{kind:"InsertQueryNode",into:this.transformNode(e.into),columns:this.transformNodeList(e.columns),values:this.transformNode(e.values),returning:this.transformNode(e.returning),onConflict:this.transformNode(e.onConflict),onDuplicateKey:this.transformNode(e.onDuplicateKey),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),ignore:e.ignore,replace:e.replace,explain:this.transformNode(e.explain),defaultValues:e.defaultValues,top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformValues(e){return{kind:"ValuesNode",values:this.transformNodeList(e.values)}}transformDeleteQuery(e){return{kind:"DeleteQueryNode",from:this.transformNode(e.from),using:this.transformNode(e.using),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),returning:this.transformNode(e.returning),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),orderBy:this.transformNode(e.orderBy),limit:this.transformNode(e.limit),explain:this.transformNode(e.explain),top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformReturning(e){return{kind:"ReturningNode",selections:this.transformNodeList(e.selections)}}transformCreateTable(e){return{kind:"CreateTableNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),constraints:this.transformNodeList(e.constraints),temporary:e.temporary,ifNotExists:e.ifNotExists,onCommit:e.onCommit,frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),selectQuery:this.transformNode(e.selectQuery)}}transformColumnDefinition(e){return{kind:"ColumnDefinitionNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),references:this.transformNode(e.references),primaryKey:e.primaryKey,autoIncrement:e.autoIncrement,unique:e.unique,notNull:e.notNull,unsigned:e.unsigned,defaultTo:this.transformNode(e.defaultTo),check:this.transformNode(e.check),generated:this.transformNode(e.generated),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),nullsNotDistinct:e.nullsNotDistinct,identity:e.identity,ifNotExists:e.ifNotExists}}transformAddColumn(e){return{kind:"AddColumnNode",column:this.transformNode(e.column)}}transformDropTable(e){return{kind:"DropTableNode",table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformOrderBy(e){return{kind:"OrderByNode",items:this.transformNodeList(e.items)}}transformOrderByItem(e){return{kind:"OrderByItemNode",orderBy:this.transformNode(e.orderBy),direction:this.transformNode(e.direction)}}transformGroupBy(e){return{kind:"GroupByNode",items:this.transformNodeList(e.items)}}transformGroupByItem(e){return{kind:"GroupByItemNode",groupBy:this.transformNode(e.groupBy)}}transformUpdateQuery(e){return{kind:"UpdateQueryNode",table:this.transformNode(e.table),from:this.transformNode(e.from),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),updates:this.transformNodeList(e.updates),returning:this.transformNode(e.returning),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),explain:this.transformNode(e.explain),limit:this.transformNode(e.limit),top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformColumnUpdate(e){return{kind:"ColumnUpdateNode",column:this.transformNode(e.column),value:this.transformNode(e.value)}}transformLimit(e){return{kind:"LimitNode",limit:this.transformNode(e.limit)}}transformOffset(e){return{kind:"OffsetNode",offset:this.transformNode(e.offset)}}transformOnConflict(e){return{kind:"OnConflictNode",columns:this.transformNodeList(e.columns),constraint:this.transformNode(e.constraint),indexExpression:this.transformNode(e.indexExpression),indexWhere:this.transformNode(e.indexWhere),updates:this.transformNodeList(e.updates),updateWhere:this.transformNode(e.updateWhere),doNothing:e.doNothing}}transformOnDuplicateKey(e){return{kind:"OnDuplicateKeyNode",updates:this.transformNodeList(e.updates)}}transformCreateIndex(e){return{kind:"CreateIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists,where:this.transformNode(e.where),nullsNotDistinct:e.nullsNotDistinct}}transformList(e){return{kind:"ListNode",items:this.transformNodeList(e.items)}}transformDropIndex(e){return{kind:"DropIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformPrimaryKeyConstraint(e){return{kind:"PrimaryKeyConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name)}}transformUniqueConstraint(e){return{kind:"UniqueConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name),nullsNotDistinct:e.nullsNotDistinct}}transformForeignKeyConstraint(e){return{kind:"ForeignKeyConstraintNode",columns:this.transformNodeList(e.columns),references:this.transformNode(e.references),name:this.transformNode(e.name),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformSetOperation(e){return{kind:"SetOperationNode",operator:e.operator,expression:this.transformNode(e.expression),all:e.all}}transformReferences(e){return{kind:"ReferencesNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformCheckConstraint(e){return{kind:"CheckConstraintNode",expression:this.transformNode(e.expression),name:this.transformNode(e.name)}}transformWith(e){return{kind:"WithNode",expressions:this.transformNodeList(e.expressions),recursive:e.recursive}}transformCommonTableExpression(e){return{kind:"CommonTableExpressionNode",name:this.transformNode(e.name),materialized:e.materialized,expression:this.transformNode(e.expression)}}transformCommonTableExpressionName(e){return{kind:"CommonTableExpressionNameNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns)}}transformHaving(e){return{kind:"HavingNode",having:this.transformNode(e.having)}}transformCreateSchema(e){return{kind:"CreateSchemaNode",schema:this.transformNode(e.schema),ifNotExists:e.ifNotExists}}transformDropSchema(e){return{kind:"DropSchemaNode",schema:this.transformNode(e.schema),ifExists:e.ifExists,cascade:e.cascade}}transformAlterTable(e){return{kind:"AlterTableNode",table:this.transformNode(e.table),renameTo:this.transformNode(e.renameTo),setSchema:this.transformNode(e.setSchema),columnAlterations:this.transformNodeList(e.columnAlterations),addConstraint:this.transformNode(e.addConstraint),dropConstraint:this.transformNode(e.dropConstraint),addIndex:this.transformNode(e.addIndex),dropIndex:this.transformNode(e.dropIndex)}}transformDropColumn(e){return{kind:"DropColumnNode",column:this.transformNode(e.column)}}transformRenameColumn(e){return{kind:"RenameColumnNode",column:this.transformNode(e.column),renameTo:this.transformNode(e.renameTo)}}transformAlterColumn(e){return{kind:"AlterColumnNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),dataTypeExpression:this.transformNode(e.dataTypeExpression),setDefault:this.transformNode(e.setDefault),dropDefault:e.dropDefault,setNotNull:e.setNotNull,dropNotNull:e.dropNotNull}}transformModifyColumn(e){return{kind:"ModifyColumnNode",column:this.transformNode(e.column)}}transformAddConstraint(e){return{kind:"AddConstraintNode",constraint:this.transformNode(e.constraint)}}transformDropConstraint(e){return{kind:"DropConstraintNode",constraintName:this.transformNode(e.constraintName),ifExists:e.ifExists,modifier:e.modifier}}transformCreateView(e){return{kind:"CreateViewNode",name:this.transformNode(e.name),temporary:e.temporary,orReplace:e.orReplace,ifNotExists:e.ifNotExists,materialized:e.materialized,columns:this.transformNodeList(e.columns),as:this.transformNode(e.as)}}transformDropView(e){return{kind:"DropViewNode",name:this.transformNode(e.name),ifExists:e.ifExists,materialized:e.materialized,cascade:e.cascade}}transformGenerated(e){return{kind:"GeneratedNode",byDefault:e.byDefault,always:e.always,identity:e.identity,stored:e.stored,expression:this.transformNode(e.expression)}}transformDefaultValue(e){return{kind:"DefaultValueNode",defaultValue:this.transformNode(e.defaultValue)}}transformOn(e){return{kind:"OnNode",on:this.transformNode(e.on)}}transformSelectModifier(e){return{kind:"SelectModifierNode",modifier:e.modifier,rawModifier:this.transformNode(e.rawModifier),of:this.transformNodeList(e.of)}}transformCreateType(e){return{kind:"CreateTypeNode",name:this.transformNode(e.name),enum:this.transformNode(e.enum)}}transformDropType(e){return{kind:"DropTypeNode",name:this.transformNode(e.name),ifExists:e.ifExists}}transformExplain(e){return{kind:"ExplainNode",format:e.format,options:this.transformNode(e.options)}}transformSchemableIdentifier(e){return{kind:"SchemableIdentifierNode",schema:this.transformNode(e.schema),identifier:this.transformNode(e.identifier)}}transformAggregateFunction(e){return{kind:"AggregateFunctionNode",aggregated:this.transformNodeList(e.aggregated),distinct:e.distinct,orderBy:this.transformNode(e.orderBy),filter:this.transformNode(e.filter),func:e.func,over:this.transformNode(e.over)}}transformOver(e){return{kind:"OverNode",orderBy:this.transformNode(e.orderBy),partitionBy:this.transformNode(e.partitionBy)}}transformPartitionBy(e){return{kind:"PartitionByNode",items:this.transformNodeList(e.items)}}transformPartitionByItem(e){return{kind:"PartitionByItemNode",partitionBy:this.transformNode(e.partitionBy)}}transformBinaryOperation(e){return{kind:"BinaryOperationNode",leftOperand:this.transformNode(e.leftOperand),operator:this.transformNode(e.operator),rightOperand:this.transformNode(e.rightOperand)}}transformUnaryOperation(e){return{kind:"UnaryOperationNode",operator:this.transformNode(e.operator),operand:this.transformNode(e.operand)}}transformUsing(e){return{kind:"UsingNode",tables:this.transformNodeList(e.tables)}}transformFunction(e){return{kind:"FunctionNode",func:e.func,arguments:this.transformNodeList(e.arguments)}}transformCase(e){return{kind:"CaseNode",value:this.transformNode(e.value),when:this.transformNodeList(e.when),else:this.transformNode(e.else),isStatement:e.isStatement}}transformWhen(e){return{kind:"WhenNode",condition:this.transformNode(e.condition),result:this.transformNode(e.result)}}transformJSONReference(e){return{kind:"JSONReferenceNode",reference:this.transformNode(e.reference),traversal:this.transformNode(e.traversal)}}transformJSONPath(e){return{kind:"JSONPathNode",inOperator:this.transformNode(e.inOperator),pathLegs:this.transformNodeList(e.pathLegs)}}transformJSONPathLeg(e){return{kind:"JSONPathLegNode",type:e.type,value:e.value}}transformJSONOperatorChain(e){return{kind:"JSONOperatorChainNode",operator:this.transformNode(e.operator),values:this.transformNodeList(e.values)}}transformTuple(e){return{kind:"TupleNode",values:this.transformNodeList(e.values)}}transformMergeQuery(e){return{kind:"MergeQueryNode",into:this.transformNode(e.into),using:this.transformNode(e.using),whens:this.transformNodeList(e.whens),with:this.transformNode(e.with),top:this.transformNode(e.top),endModifiers:this.transformNodeList(e.endModifiers),output:this.transformNode(e.output)}}transformMatched(e){return{kind:"MatchedNode",not:e.not,bySource:e.bySource}}transformAddIndex(e){return{kind:"AddIndexNode",name:this.transformNode(e.name),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists}}transformCast(e){return{kind:"CastNode",expression:this.transformNode(e.expression),dataType:this.transformNode(e.dataType)}}transformFetch(e){return{kind:"FetchNode",rowCount:this.transformNode(e.rowCount),modifier:e.modifier}}transformTop(e){return{kind:"TopNode",expression:e.expression,modifiers:e.modifiers}}transformOutput(e){return{kind:"OutputNode",selections:this.transformNodeList(e.selections)}}transformDataType(e){return e}transformSelectAll(e){return e}transformIdentifier(e){return e}transformValue(e){return e}transformPrimitiveValueList(e){return e}transformOperator(e){return e}transformDefaultInsertValue(e){return e}}const xW=R({AlterTableNode:!0,CreateIndexNode:!0,CreateSchemaNode:!0,CreateTableNode:!0,CreateTypeNode:!0,CreateViewNode:!0,DeleteQueryNode:!0,DropIndexNode:!0,DropSchemaNode:!0,DropTableNode:!0,DropTypeNode:!0,DropViewNode:!0,InsertQueryNode:!0,RawNode:!0,SelectQueryNode:!0,UpdateQueryNode:!0,MergeQueryNode:!0});class SW extends GT{#e;#t=new Set;#r=new Set;constructor(e){super(),this.#e=e}transformNodeImpl(e){if(!this.#n(e))return super.transformNodeImpl(e);const r=this.#s(e);for(const o of r)this.#r.add(o);const n=this.#i(e);for(const o of n)this.#t.add(o);const s=super.transformNodeImpl(e);for(const o of n)this.#t.delete(o);for(const o of r)this.#r.delete(o);return s}transformSchemableIdentifier(e){const r=super.transformSchemableIdentifier(e);return r.schema||!this.#t.has(e.identifier.name)?r:{...r,schema:nn.create(this.#e)}}transformReferences(e){const r=super.transformReferences(e);return r.table.table.schema?r:{...r,table:el.createWithSchema(this.#e,r.table.table.identifier.name)}}#n(e){return e.kind in xW}#i(e){const r=new Set;if("name"in e&&e.name&&al.is(e.name)&&this.#a(e.name,r),"from"in e&&e.from)for(const n of e.from.froms)this.#o(n,r);if("into"in e&&e.into&&this.#o(e.into,r),"table"in e&&e.table&&this.#o(e.table,r),"joins"in e&&e.joins)for(const n of e.joins)this.#o(n.table,r);return"using"in e&&e.using&&this.#o(e.using,r),r}#s(e){const r=new Set;return"with"in e&&e.with&&this.#u(e.with,r),r}#o(e,r){const n=el.is(e)?e:ml.is(e)&&el.is(e.node)?e.node:null;n&&this.#a(n.table,r)}#a(e,r){const n=e.identifier.name;!this.#t.has(n)&&!this.#r.has(n)&&r.add(n)}#u(e,r){for(const n of e.expressions){const s=n.name.table.table.identifier.name;this.#r.has(s)||r.add(s)}}}class mh{#e;constructor(e){this.#e=new SW(e)}transformQuery(e){return this.#e.transformNode(e.node)}async transformResult(e){return e.result}}const NW=R({is(t){return t.kind==="MatchedNode"},create(t,e=!1){return R({kind:"MatchedNode",not:t,bySource:e})}});function Ek(t,e,r){return fh.create(dg([NW.create(!t.isMatched,t.bySource),...e&&e.length>0?[e.length===3&&r?qo(e[0],e[1],e[2]):Jn(e)]:[]],"and",!1))}function pf(t){return ls(t)?oi.create([t],[]):Hi(t)?t.toOperationNode():t}class kk{#e;#t;#r;constructor(){this.#e=new Promise((e,r)=>{this.#r=r,this.#t=e})}get promise(){return this.#e}resolve=e=>{this.#t&&this.#t(e)};reject=e=>{this.#r&&this.#r(e)}}const Ik=new Set;function EW(t){Ik.has(t)||(Ik.add(t),console.log(t))}const kW=R([]);class JT{#e;constructor(e=kW){this.#e=e}get plugins(){return this.#e}transformQuery(e,r){for(const n of this.#e){const s=n.transformQuery({node:e,queryId:r});if(s.kind===e.kind)e=s;else throw new Error(["KyselyPlugin.transformQuery must return a node","of the same kind that was given to it.",`The plugin was given a ${e.kind}`,`but it returned a ${s.kind}`].join(" "))}return e}async executeQuery(e,r){return await this.provideConnection(async n=>{const s=await n.executeQuery(e),o=await this.#t(s,r);return IW(s,o),o})}async *stream(e,r,n){const s=new kk,o=new kk;this.provideConnection(async u=>(s.resolve(u),await o.promise)).catch(u=>s.reject(u));const l=await s.promise;try{for await(const u of l.streamQuery(e,r))yield await this.#t(u,n)}finally{o.resolve()}}async #t(e,r){for(const n of this.#e)e=await n.transformResult({result:e,queryId:r});return e}}function IW(t,e){const{numAffectedRows:r}=t;r===void 0&&t.numUpdatedOrDeletedRows===void 0||r!==void 0&&e.numAffectedRows!==void 0||EW("kysely:warning: outdated driver/plugin detected! QueryResult.numUpdatedOrDeletedRows is deprecated and will be removed in a future release.")}class ec extends JT{get adapter(){throw new Error("this query cannot be compiled to SQL")}compileQuery(){throw new Error("this query cannot be compiled to SQL")}provideConnection(){throw new Error("this query cannot be executed")}withConnectionProvider(){throw new Error("this query cannot have a connection provider")}withPlugin(e){return new ec([...this.plugins,e])}withPlugins(e){return new ec([...this.plugins,...e])}withPluginAtFront(e){return new ec([e,...this.plugins])}withoutPlugins(){return new ec([])}}const ny=new ec;class qW{numChangedRows;constructor(e){this.numChangedRows=e}}class Vl{#e;constructor(e){this.#e=R(e)}modifyEnd(e){return new Vl({...this.#e,queryNode:Tt.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}top(e,r){return new Vl({...this.#e,queryNode:Tt.cloneWithTop(this.#e.queryNode,Uc(e,r))})}using(...e){return new is({...this.#e,queryNode:$i.cloneWithUsing(this.#e.queryNode,gi("Using",e))})}output(e){return new Vl({...this.#e,queryNode:Tt.cloneWithOutput(this.#e.queryNode,eo(e))})}outputAll(e){return new Vl({...this.#e,queryNode:Tt.cloneWithOutput(this.#e.queryNode,Co(e))})}}cr(Vl,"don't await MergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class is{#e;constructor(e){this.#e=R(e)}modifyEnd(e){return new is({...this.#e,queryNode:Tt.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}top(e,r){return new is({...this.#e,queryNode:Tt.cloneWithTop(this.#e.queryNode,Uc(e,r))})}whenMatched(){return this.#t([])}whenMatchedAnd(...e){return this.#t(e)}whenMatchedAndRef(e,r,n){return this.#t([e,r,n],!0)}#t(e,r){return new Cw({...this.#e,queryNode:$i.cloneWithWhen(this.#e.queryNode,Ek({isMatched:!0},e,r))})}whenNotMatched(){return this.#r([])}whenNotMatchedAnd(...e){return this.#r(e)}whenNotMatchedAndRef(e,r,n){return this.#r([e,r,n],!0)}whenNotMatchedBySource(){return this.#r([],!1,!0)}whenNotMatchedBySourceAnd(...e){return this.#r(e,!1,!0)}whenNotMatchedBySourceAndRef(e,r,n){return this.#r([e,r,n],!0,!0)}output(e){return new is({...this.#e,queryNode:Tt.cloneWithOutput(this.#e.queryNode,eo(e))})}outputAll(e){return new is({...this.#e,queryNode:Tt.cloneWithOutput(this.#e.queryNode,Co(e))})}#r(e,r=!1,n=!1){const s={...this.#e,queryNode:$i.cloneWithWhen(this.#e.queryNode,Ek({isMatched:!1,bySource:n},e,r))},o=n?Cw:ZT;return new o(s)}$call(e){return e(this)}$if(e,r){return e?r(this):new is({...this.#e})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),r=await this.#e.executor.executeQuery(e,this.#e.queryId);return e.query.output&&this.#e.executor.adapter.supportsOutput?r.rows:[new qW(r.numAffectedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=hh){const r=await this.executeTakeFirst();if(r===void 0)throw ph(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}}cr(is,"don't await WheneableMergeQueryBuilder instances directly. To execute the query you need to call `execute`.");class Cw{#e;constructor(e){this.#e=R(e)}thenDelete(){return new is({...this.#e,queryNode:$i.cloneWithThen(this.#e.queryNode,pf("delete"))})}thenDoNothing(){return new is({...this.#e,queryNode:$i.cloneWithThen(this.#e.queryNode,pf("do nothing"))})}thenUpdate(e){return new is({...this.#e,queryNode:$i.cloneWithThen(this.#e.queryNode,pf(e(new $r({queryId:this.#e.queryId,executor:ny,queryNode:mc.createWithoutTable()}))))})}thenUpdateSet(...e){return this.thenUpdate(r=>r.set(...e))}}cr(Cw,"don't await MatchedThenableMergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class ZT{#e;constructor(e){this.#e=R(e)}thenDoNothing(){return new is({...this.#e,queryNode:$i.cloneWithThen(this.#e.queryNode,pf("do nothing"))})}thenInsertValues(e){const[r,n]=VT(e);return new is({...this.#e,queryNode:$i.cloneWithThen(this.#e.queryNode,pf(Xi.cloneWith(Xi.createWithoutInto(),{columns:r,values:n})))})}}cr(ZT,"don't await NotMatchedThenableMergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class za{#e;constructor(e){this.#e=R(e)}selectFrom(e){return Tw({queryId:Dr(),executor:this.#e.executor,queryNode:Fr.createFrom(Wf(e),this.#e.withNode)})}selectNoFrom(e){return Tw({queryId:Dr(),executor:this.#e.executor,queryNode:Fr.cloneWithSelections(Fr.create(this.#e.withNode),eo(e))})}insertInto(e){return new en({queryId:Dr(),executor:this.#e.executor,queryNode:Xi.create(kn(e),this.#e.withNode)})}replaceInto(e){return new en({queryId:Dr(),executor:this.#e.executor,queryNode:Xi.create(kn(e),this.#e.withNode,!0)})}deleteFrom(e){return new jr({queryId:Dr(),executor:this.#e.executor,queryNode:Ml.create(Wf(e),this.#e.withNode)})}updateTable(e){return new $r({queryId:Dr(),executor:this.#e.executor,queryNode:mc.create(zf(e),this.#e.withNode)})}mergeInto(e){return new Vl({queryId:Dr(),executor:this.#e.executor,queryNode:$i.create(i3(e),this.#e.withNode)})}with(e,r){const n=Sk(e,r);return new za({...this.#e,withNode:this.#e.withNode?Qp.cloneWithExpression(this.#e.withNode,n):Qp.create(n)})}withRecursive(e,r){const n=Sk(e,r);return new za({...this.#e,withNode:this.#e.withNode?Qp.cloneWithExpression(this.#e.withNode,n):Qp.create(n,{recursive:!0})})}withPlugin(e){return new za({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new za({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new za({...this.#e,executor:this.#e.executor.withPluginAtFront(new mh(e))})}}function CW(){return new za({executor:ny})}function TW(t,e){return new pc({joinNode:df.create(t,zf(e))})}function OW(){return new Mf({overNode:qw.create()})}function gi(t,e){if(e.length===3)return AW(t,e[0],e[1],e[2]);if(e.length===2)return RW(t,e[0],e[1]);throw new Error("not implemented")}function RW(t,e,r){return r(TW(t,e)).toOperationNode()}function AW(t,e,r,n){return df.createWithOn(t,zf(e),qo(r,"=",n))}const PW=R({is(t){return t.kind==="OffsetNode"},create(t){return R({kind:"OffsetNode",offset:t})}}),jW=R({is(t){return t.kind==="GroupByItemNode"},create(t){return R({kind:"GroupByItemNode",groupBy:t})}});function FW(t){return t=us(t)?t(Vc()):t,Df(t).map(jW.create)}const YT=R({is(t){return t.kind==="SetOperationNode"},create(t,e,r){return R({kind:"SetOperationNode",operator:t,expression:e,all:r})}});function zu(t,e,r){return us(e)&&(e=e(B0())),fa(e)||(e=[e]),e.map(n=>YT.create(t,uu(n),r))}class Wr{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new M0(this,e)}or(...e){return new pg(zc.create(this.#e,Jn(e)))}and(...e){return new mg(ll.create(this.#e,Jn(e)))}$castTo(){return new Wr(this.#e)}$notNull(){return new Wr(this.#e)}toOperationNode(){return this.#e}}class M0{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return ml.create(this.#e.toOperationNode(),Hi(this.#t)?this.#t.toOperationNode():nn.create(this.#t))}}class pg{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new M0(this,e)}or(...e){return new pg(zc.create(this.#e,Jn(e)))}$castTo(){return new pg(this.#e)}toOperationNode(){return Tc.create(this.#e)}}class mg{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new M0(this,e)}and(...e){return new mg(ll.create(this.#e,Jn(e)))}$castTo(){return new mg(this.#e)}toOperationNode(){return Tc.create(this.#e)}}const LW={is(t){return t.kind==="FetchNode"},create(t,e){return{kind:"FetchNode",rowCount:Io.create(t),modifier:e}}};function DW(t,e){if(!ty(t)&&!T0(t))throw new Error(`Invalid fetch row count: ${t}`);if(!MW(e))throw new Error(`Invalid fetch modifier: ${e}`);return LW.create(t,e)}function MW(t){return t==="only"||t==="with ties"}class Qt{#e;constructor(e){this.#e=R(e)}get expressionType(){}get isSelectQueryBuilder(){return!0}where(...e){return new Qt({...this.#e,queryNode:Tt.cloneWithWhere(this.#e.queryNode,Jn(e))})}whereRef(e,r,n){return new Qt({...this.#e,queryNode:Tt.cloneWithWhere(this.#e.queryNode,qo(e,r,n))})}having(...e){return new Qt({...this.#e,queryNode:Fr.cloneWithHaving(this.#e.queryNode,Jn(e))})}havingRef(e,r,n){return new Qt({...this.#e,queryNode:Fr.cloneWithHaving(this.#e.queryNode,qo(e,r,n))})}select(e){return new Qt({...this.#e,queryNode:Fr.cloneWithSelections(this.#e.queryNode,eo(e))})}distinctOn(e){return new Qt({...this.#e,queryNode:Fr.cloneWithDistinctOn(this.#e.queryNode,Df(e))})}modifyFront(e){return new Qt({...this.#e,queryNode:Fr.cloneWithFrontModifier(this.#e.queryNode,Yo.createWithExpression(e.toOperationNode()))})}modifyEnd(e){return new Qt({...this.#e,queryNode:Tt.cloneWithEndModifier(this.#e.queryNode,Yo.createWithExpression(e.toOperationNode()))})}distinct(){return new Qt({...this.#e,queryNode:Fr.cloneWithFrontModifier(this.#e.queryNode,Yo.create("Distinct"))})}forUpdate(e){return new Qt({...this.#e,queryNode:Tt.cloneWithEndModifier(this.#e.queryNode,Yo.create("ForUpdate",e?Hp(e).map(kn):void 0))})}forShare(e){return new Qt({...this.#e,queryNode:Tt.cloneWithEndModifier(this.#e.queryNode,Yo.create("ForShare",e?Hp(e).map(kn):void 0))})}forKeyShare(e){return new Qt({...this.#e,queryNode:Tt.cloneWithEndModifier(this.#e.queryNode,Yo.create("ForKeyShare",e?Hp(e).map(kn):void 0))})}forNoKeyUpdate(e){return new Qt({...this.#e,queryNode:Tt.cloneWithEndModifier(this.#e.queryNode,Yo.create("ForNoKeyUpdate",e?Hp(e).map(kn):void 0))})}skipLocked(){return new Qt({...this.#e,queryNode:Tt.cloneWithEndModifier(this.#e.queryNode,Yo.create("SkipLocked"))})}noWait(){return new Qt({...this.#e,queryNode:Tt.cloneWithEndModifier(this.#e.queryNode,Yo.create("NoWait"))})}selectAll(e){return new Qt({...this.#e,queryNode:Fr.cloneWithSelections(this.#e.queryNode,Co(e))})}innerJoin(...e){return new Qt({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,gi("InnerJoin",e))})}leftJoin(...e){return new Qt({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,gi("LeftJoin",e))})}rightJoin(...e){return new Qt({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,gi("RightJoin",e))})}fullJoin(...e){return new Qt({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,gi("FullJoin",e))})}innerJoinLateral(...e){return new Qt({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,gi("LateralInnerJoin",e))})}leftJoinLateral(...e){return new Qt({...this.#e,queryNode:Tt.cloneWithJoin(this.#e.queryNode,gi("LateralLeftJoin",e))})}orderBy(...e){return new Qt({...this.#e,queryNode:Fr.cloneWithOrderByItems(this.#e.queryNode,dh(e))})}groupBy(e){return new Qt({...this.#e,queryNode:Fr.cloneWithGroupByItems(this.#e.queryNode,FW(e))})}limit(e){return new Qt({...this.#e,queryNode:Fr.cloneWithLimit(this.#e.queryNode,D0.create(An(e)))})}offset(e){return new Qt({...this.#e,queryNode:Fr.cloneWithOffset(this.#e.queryNode,PW.create(An(e)))})}fetch(e,r="only"){return new Qt({...this.#e,queryNode:Fr.cloneWithFetch(this.#e.queryNode,DW(e,r))})}top(e,r){return new Qt({...this.#e,queryNode:Tt.cloneWithTop(this.#e.queryNode,Uc(e,r))})}union(e){return new Qt({...this.#e,queryNode:Fr.cloneWithSetOperations(this.#e.queryNode,zu("union",e,!1))})}unionAll(e){return new Qt({...this.#e,queryNode:Fr.cloneWithSetOperations(this.#e.queryNode,zu("union",e,!0))})}intersect(e){return new Qt({...this.#e,queryNode:Fr.cloneWithSetOperations(this.#e.queryNode,zu("intersect",e,!1))})}intersectAll(e){return new Qt({...this.#e,queryNode:Fr.cloneWithSetOperations(this.#e.queryNode,zu("intersect",e,!0))})}except(e){return new Qt({...this.#e,queryNode:Fr.cloneWithSetOperations(this.#e.queryNode,zu("except",e,!1))})}exceptAll(e){return new Qt({...this.#e,queryNode:Fr.cloneWithSetOperations(this.#e.queryNode,zu("except",e,!0))})}as(e){return new XT(this,e)}clearSelect(){return new Qt({...this.#e,queryNode:Fr.cloneWithoutSelections(this.#e.queryNode)})}clearWhere(){return new Qt({...this.#e,queryNode:Tt.cloneWithoutWhere(this.#e.queryNode)})}clearLimit(){return new Qt({...this.#e,queryNode:Fr.cloneWithoutLimit(this.#e.queryNode)})}clearOffset(){return new Qt({...this.#e,queryNode:Fr.cloneWithoutOffset(this.#e.queryNode)})}clearOrderBy(){return new Qt({...this.#e,queryNode:Fr.cloneWithoutOrderBy(this.#e.queryNode)})}clearGroupBy(){return new Qt({...this.#e,queryNode:Fr.cloneWithoutGroupBy(this.#e.queryNode)})}$call(e){return e(this)}$if(e,r){return e?r(this):new Qt({...this.#e})}$castTo(){return new Qt(this.#e)}$narrowType(){return new Qt(this.#e)}$assertType(){return new Qt(this.#e)}$asTuple(){return new Wr(this.toOperationNode())}withPlugin(e){return new Qt({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile();return(await this.#e.executor.executeQuery(e,this.#e.queryId)).rows}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=hh){const r=await this.executeTakeFirst();if(r===void 0)throw ph(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async *stream(e=100){const r=this.compile(),n=this.#e.executor.stream(r,e,this.#e.queryId);for await(const s of n)yield*s.rows}async explain(e,r){return await new Qt({...this.#e,queryNode:Tt.cloneWithExplain(this.#e.queryNode,e,r)}).execute()}}cr(Qt,"don't await SelectQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");function Tw(t){return new Qt(t)}class XT{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}get isAliasedSelectQueryBuilder(){return!0}toOperationNode(){return ml.create(this.#e.toOperationNode(),nn.create(this.#t))}}cr(XT,"don't await AliasedSelectQueryBuilder instances directly. AliasedSelectQueryBuilder should never be executed directly since it's always a part of another query.");const Ua=R({is(t){return t.kind==="AggregateFunctionNode"},create(t,e=[]){return R({kind:"AggregateFunctionNode",func:t,aggregated:e})},cloneWithDistinct(t){return R({...t,distinct:!0})},cloneWithOrderBy(t,e){return R({...t,orderBy:t.orderBy?cl.cloneWithItems(t.orderBy,e):cl.create(e)})},cloneWithFilter(t,e){return R({...t,filter:t.filter?Mi.cloneWithOperation(t.filter,"And",e):Mi.create(e)})},cloneWithOrFilter(t,e){return R({...t,filter:t.filter?Mi.cloneWithOperation(t.filter,"Or",e):Mi.create(e)})},cloneWithOver(t,e){return R({...t,over:e})}}),qk=R({is(t){return t.kind==="FunctionNode"},create(t,e){return R({kind:"FunctionNode",func:t,arguments:e})}});class Es{#e;constructor(e){this.#e=R(e)}get expressionType(){}as(e){return new BW(this,e)}distinct(){return new Es({...this.#e,aggregateFunctionNode:Ua.cloneWithDistinct(this.#e.aggregateFunctionNode)})}orderBy(e,r){return new Es({...this.#e,aggregateFunctionNode:Ua.cloneWithOrderBy(this.#e.aggregateFunctionNode,dh([e,r]))})}filterWhere(...e){return new Es({...this.#e,aggregateFunctionNode:Ua.cloneWithFilter(this.#e.aggregateFunctionNode,Jn(e))})}filterWhereRef(e,r,n){return new Es({...this.#e,aggregateFunctionNode:Ua.cloneWithFilter(this.#e.aggregateFunctionNode,qo(e,r,n))})}over(e){const r=OW();return new Es({...this.#e,aggregateFunctionNode:Ua.cloneWithOver(this.#e.aggregateFunctionNode,(e?e(r):r).toOperationNode())})}$call(e){return e(this)}$castTo(){return new Es(this.#e)}$notNull(){return new Es(this.#e)}toOperationNode(){return this.#e.aggregateFunctionNode}}cr(Es,"don't await AggregateFunctionBuilder instances. They are never executed directly and are always just a part of a query.");class BW{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return ml.create(this.#e.toOperationNode(),nn.create(this.#t))}}function e3(){const t=(r,n)=>new Wr(qk.create(r,Df(n??[]))),e=(r,n)=>new Es({aggregateFunctionNode:Ua.create(r,n?Df(n):void 0)});return Object.assign(t,{agg:e,avg(r){return e("avg",[r])},coalesce(...r){return t("coalesce",r)},count(r){return e("count",[r])},countAll(r){return new Es({aggregateFunctionNode:Ua.create("count",Co(r))})},max(r){return e("max",[r])},min(r){return e("min",[r])},sum(r){return e("sum",[r])},any(r){return t("any",[r])},jsonAgg(r){return new Es({aggregateFunctionNode:Ua.create("json_agg",[ls(r)?kn(r):r.toOperationNode()])})},toJson(r){return new Wr(qk.create("to_json",[ls(r)?kn(r):r.toOperationNode()]))}})}const $W=R({is(t){return t.kind==="UnaryOperationNode"},create(t,e){return R({kind:"UnaryOperationNode",operator:t,operand:e})}});function WW(t,e){return $W.create(ul.create(t),ns(e))}const _o=R({is(t){return t.kind==="CaseNode"},create(t){return R({kind:"CaseNode",value:t})},cloneWithWhen(t,e){return R({...t,when:R(t.when?[...t.when,e]:[e])})},cloneWithThen(t,e){return R({...t,when:t.when?R([...t.when.slice(0,-1),fh.cloneWithResult(t.when[t.when.length-1],e)]):void 0})},cloneWith(t,e){return R({...t,...e})}});class t3{#e;constructor(e){this.#e=R(e)}when(...e){return new r3({...this.#e,node:_o.cloneWithWhen(this.#e.node,fh.create(Jn(e)))})}}class r3{#e;constructor(e){this.#e=R(e)}then(e){return new zW({...this.#e,node:_o.cloneWithThen(this.#e.node,P0(e)?j0(e):An(e))})}}class zW{#e;constructor(e){this.#e=R(e)}when(...e){return new r3({...this.#e,node:_o.cloneWithWhen(this.#e.node,fh.create(Jn(e)))})}else(e){return new UW({...this.#e,node:_o.cloneWith(this.#e.node,{else:P0(e)?j0(e):An(e)})})}end(){return new Wr(_o.cloneWith(this.#e.node,{isStatement:!1}))}endCase(){return new Wr(_o.cloneWith(this.#e.node,{isStatement:!0}))}}class UW{#e;constructor(e){this.#e=R(e)}end(){return new Wr(_o.cloneWith(this.#e.node,{isStatement:!1}))}endCase(){return new Wr(_o.cloneWith(this.#e.node,{isStatement:!0}))}}const Ck=R({is(t){return t.kind==="JSONPathLegNode"},create(t,e){return R({kind:"JSONPathLegNode",type:t,value:e})}});class Ow{#e;constructor(e){this.#e=e}at(e){return this.#t("ArrayLocation",e)}key(e){return this.#t("Member",e)}#t(e,r){return ug.is(this.#e)?new $f(ug.cloneWithTraversal(this.#e,ff.is(this.#e.traversal)?ff.cloneWithLeg(this.#e.traversal,Ck.create(e,r)):BT.cloneWithValue(this.#e.traversal,Io.createImmediate(r)))):new $f(ff.cloneWithLeg(this.#e,Ck.create(e,r)))}}class $f extends Ow{#e;constructor(e){super(e),this.#e=e}get expressionType(){}as(e){return new VW(this,e)}$castTo(){return new $f(this.#e)}$notNull(){return new $f(this.#e)}toOperationNode(){return this.#e}}class VW{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return ml.create(this.#e.toOperationNode(),Hi(this.#t)?this.#t.toOperationNode():nn.create(this.#t))}}const Tk=R({is(t){return t.kind==="TupleNode"},create(t){return R({kind:"TupleNode",values:R(t)})}}),HW=["varchar","char","text","integer","int2","int4","int8","smallint","bigint","boolean","real","double precision","float4","float8","decimal","numeric","binary","bytea","date","datetime","time","timetz","timestamp","timestamptz","serial","bigserial","uuid","json","jsonb","blob","varbinary","int4range","int4multirange","int8range","int8multirange","numrange","nummultirange","tsrange","tsmultirange","tstzrange","tstzmultirange","daterange","datemultirange"],QW=[/^varchar\(\d+\)$/,/^char\(\d+\)$/,/^decimal\(\d+, \d+\)$/,/^numeric\(\d+, \d+\)$/,/^binary\(\d+\)$/,/^datetime\(\d+\)$/,/^time\(\d+\)$/,/^timetz\(\d+\)$/,/^timestamp\(\d+\)$/,/^timestamptz\(\d+\)$/,/^varbinary\(\d+\)$/],KW=R({is(t){return t.kind==="DataTypeNode"},create(t){return R({kind:"DataTypeNode",dataType:t})}});function GW(t){return!!(HW.includes(t)||QW.some(e=>e.test(t)))}function ou(t){if(Hi(t))return t.toOperationNode();if(GW(t))return KW.create(t);throw new Error(`invalid column data type ${JSON.stringify(t)}`)}const JW=R({is(t){return t.kind==="CastNode"},create(t,e){return R({kind:"CastNode",expression:t,dataType:e})}});function B0(t=ny){function e(s,o,l){return new Wr(F0(s,o,l))}function r(s,o){return new Wr(WW(s,o))}const n=Object.assign(e,{fn:void 0,eb:void 0,selectFrom(s){return Tw({queryId:Dr(),executor:t,queryNode:Fr.createFrom(Wf(s))})},case(s){return new t3({node:_o.create(Ya(s)?void 0:ns(s))})},ref(s,o){return Ya(o)?new Wr(ha(s)):new Ow(J4(s,o))},jsonPath(){return new Ow(ff.create())},table(s){return new Wr(kn(s))},val(s){return new Wr(An(s))},refTuple(...s){return new Wr(Tk.create(s.map(ns)))},tuple(...s){return new Wr(Tk.create(s.map(An)))},lit(s){return new Wr(j0(s))},unary:r,not(s){return r("not",s)},exists(s){return r("exists",s)},neg(s){return r("-",s)},between(s,o,l){return new Wr(Cc.create(ns(s),ul.create("between"),ll.create(An(o),An(l))))},betweenSymmetric(s,o,l){return new Wr(Cc.create(ns(s),ul.create("between symmetric"),ll.create(An(o),An(l))))},and(s){return fa(s)?new Wr(dg(s,"and")):new Wr(fk(s,"and"))},or(s){return fa(s)?new Wr(dg(s,"or")):new Wr(fk(s,"or"))},parens(...s){const o=Jn(s);return Tc.is(o)?new Wr(o):new Wr(Tc.create(o))},cast(s,o){return new Wr(JW.create(ns(s),ou(o)))},withSchema(s){return B0(t.withPluginAtFront(new mh(s)))}});return n.fn=e3(),n.eb=n,n}function Vc(t){return B0()}function uu(t){if(Hi(t))return t.toOperationNode();if(us(t))return t(Vc()).toOperationNode();throw new Error(`invalid expression: ${JSON.stringify(t)}`)}function n3(t){if(Hi(t))return t.toOperationNode();if(us(t))return t(Vc()).toOperationNode();throw new Error(`invalid aliased expression: ${JSON.stringify(t)}`)}function gh(t){return B4(t)||$4(t)||us(t)}function Wf(t){return fa(t)?t.map(e=>zf(e)):[zf(t)]}function zf(t){return ls(t)?i3(t):n3(t)}function i3(t){const e=" as ";if(t.includes(e)){const[r,n]=t.split(e).map(s3);return ml.create(kn(r),nn.create(n))}else return kn(t)}function kn(t){const e=".";if(t.includes(e)){const[r,n]=t.split(e).map(s3);return el.createWithSchema(r,n)}else return el.create(t)}function s3(t){return t.trim()}const o3=R({is(t){return t.kind==="AddColumnNode"},create(t){return R({kind:"AddColumnNode",column:t})}}),tn=R({is(t){return t.kind==="ColumnDefinitionNode"},create(t,e){return R({kind:"ColumnDefinitionNode",column:Cn.create(t),dataType:e})},cloneWithFrontModifier(t,e){return R({...t,frontModifiers:t.frontModifiers?R([...t.frontModifiers,e]):[e]})},cloneWithEndModifier(t,e){return R({...t,endModifiers:t.endModifiers?R([...t.endModifiers,e]):[e]})},cloneWith(t,e){return R({...t,...e})}}),a3=R({is(t){return t.kind==="DropColumnNode"},create(t){return R({kind:"DropColumnNode",column:Cn.create(t)})}}),l3=R({is(t){return t.kind==="RenameColumnNode"},create(t,e){return R({kind:"RenameColumnNode",column:Cn.create(t),renameTo:Cn.create(e)})}}),$0=R({is(t){return t.kind==="CheckConstraintNode"},create(t,e){return R({kind:"CheckConstraintNode",expression:t,name:e?nn.create(e):void 0})}}),ZW=["no action","restrict","cascade","set null","set default"],ym=R({is(t){return t.kind==="ReferencesNode"},create(t,e){return R({kind:"ReferencesNode",table:t,columns:R([...e])})},cloneWithOnDelete(t,e){return R({...t,onDelete:e})},cloneWithOnUpdate(t,e){return R({...t,onUpdate:e})}});function u3(t){return Hi(t)?t.toOperationNode():Io.createImmediate(t)}const Kp=R({is(t){return t.kind==="GeneratedNode"},create(t){return R({kind:"GeneratedNode",...t})},createWithExpression(t){return R({kind:"GeneratedNode",always:!0,expression:t})},cloneWith(t,e){return R({...t,...e})}}),YW=R({is(t){return t.kind==="DefaultValueNode"},create(t){return R({kind:"DefaultValueNode",defaultValue:t})}});function gg(t){if(ZW.includes(t))return t;throw new Error(`invalid OnModifyForeignAction ${t}`)}class Qr{#e;constructor(e){this.#e=e}autoIncrement(){return new Qr(tn.cloneWith(this.#e,{autoIncrement:!0}))}identity(){return new Qr(tn.cloneWith(this.#e,{identity:!0}))}primaryKey(){return new Qr(tn.cloneWith(this.#e,{primaryKey:!0}))}references(e){const r=ha(e);if(!r.table||O0.is(r.column))throw new Error(`invalid call references('${e}'). The reference must have format table.column or schema.table.column`);return new Qr(tn.cloneWith(this.#e,{references:ym.create(r.table,[r.column])}))}onDelete(e){if(!this.#e.references)throw new Error("on delete constraint can only be added for foreign keys");return new Qr(tn.cloneWith(this.#e,{references:ym.cloneWithOnDelete(this.#e.references,gg(e))}))}onUpdate(e){if(!this.#e.references)throw new Error("on update constraint can only be added for foreign keys");return new Qr(tn.cloneWith(this.#e,{references:ym.cloneWithOnUpdate(this.#e.references,gg(e))}))}unique(){return new Qr(tn.cloneWith(this.#e,{unique:!0}))}notNull(){return new Qr(tn.cloneWith(this.#e,{notNull:!0}))}unsigned(){return new Qr(tn.cloneWith(this.#e,{unsigned:!0}))}defaultTo(e){return new Qr(tn.cloneWith(this.#e,{defaultTo:YW.create(u3(e))}))}check(e){return new Qr(tn.cloneWith(this.#e,{check:$0.create(e.toOperationNode())}))}generatedAlwaysAs(e){return new Qr(tn.cloneWith(this.#e,{generated:Kp.createWithExpression(e.toOperationNode())}))}generatedAlwaysAsIdentity(){return new Qr(tn.cloneWith(this.#e,{generated:Kp.create({identity:!0,always:!0})}))}generatedByDefaultAsIdentity(){return new Qr(tn.cloneWith(this.#e,{generated:Kp.create({identity:!0,byDefault:!0})}))}stored(){if(!this.#e.generated)throw new Error("stored() can only be called after generatedAlwaysAs");return new Qr(tn.cloneWith(this.#e,{generated:Kp.cloneWith(this.#e.generated,{stored:!0})}))}modifyFront(e){return new Qr(tn.cloneWithFrontModifier(this.#e,e.toOperationNode()))}nullsNotDistinct(){return new Qr(tn.cloneWith(this.#e,{nullsNotDistinct:!0}))}ifNotExists(){return new Qr(tn.cloneWith(this.#e,{ifNotExists:!0}))}modifyEnd(e){return new Qr(tn.cloneWithEndModifier(this.#e,e.toOperationNode()))}$call(e){return e(this)}toOperationNode(){return this.#e}}cr(Qr,"don't await ColumnDefinitionBuilder instances directly.");const c3=R({is(t){return t.kind==="ModifyColumnNode"},create(t){return R({kind:"ModifyColumnNode",column:t})}}),yg=R({is(t){return t.kind==="ForeignKeyConstraintNode"},create(t,e,r,n){return R({kind:"ForeignKeyConstraintNode",columns:t,references:ym.create(e,r),name:n?nn.create(n):void 0})},cloneWith(t,e){return R({...t,...e})}});class Oc{#e;constructor(e){this.#e=e}onDelete(e){return new Oc(yg.cloneWith(this.#e,{onDelete:gg(e)}))}onUpdate(e){return new Oc(yg.cloneWith(this.#e,{onUpdate:gg(e)}))}$call(e){return e(this)}toOperationNode(){return this.#e}}cr(Oc,"don't await ForeignKeyConstraintBuilder instances directly.");const vm=R({is(t){return t.kind==="AddConstraintNode"},create(t){return R({kind:"AddConstraintNode",constraint:t})}}),W0=R({is(t){return t.kind==="UniqueConstraintNode"},create(t,e,r){return R({kind:"UniqueConstraintNode",columns:R(t.map(Cn.create)),name:e?nn.create(e):void 0,nullsNotDistinct:r})},cloneWith(t,e){return R({...t,...e})}}),bm=R({is(t){return t.kind==="DropConstraintNode"},create(t){return R({kind:"DropConstraintNode",constraintName:nn.create(t)})},cloneWith(t,e){return R({...t,...e})}}),$d=R({is(t){return t.kind==="AlterColumnNode"},create(t,e,r){return R({kind:"AlterColumnNode",column:Cn.create(t),[e]:r})}});class z0{#e;constructor(e){this.#e=e}setDataType(e){return new Gu($d.create(this.#e,"dataType",ou(e)))}setDefault(e){return new Gu($d.create(this.#e,"setDefault",u3(e)))}dropDefault(){return new Gu($d.create(this.#e,"dropDefault",!0))}setNotNull(){return new Gu($d.create(this.#e,"setNotNull",!0))}dropNotNull(){return new Gu($d.create(this.#e,"dropNotNull",!0))}$call(e){return e(this)}}cr(z0,"don't await AlterColumnBuilder instances");class Gu{#e;constructor(e){this.#e=e}toOperationNode(){return this.#e}}cr(Gu,"don't await AlteredColumnBuilder instances");class Dl{#e;constructor(e){this.#e=R(e)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}cr(Dl,"don't await AlterTableExecutor instances directly. To execute the query you need to call `execute`");class Uf{#e;constructor(e){this.#e=R(e)}onDelete(e){return new Uf({...this.#e,constraintBuilder:this.#e.constraintBuilder.onDelete(e)})}onUpdate(e){return new Uf({...this.#e,constraintBuilder:this.#e.constraintBuilder.onUpdate(e)})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(Lr.cloneWithTableProps(this.#e.node,{addConstraint:vm.create(this.#e.constraintBuilder.toOperationNode())}),this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}cr(Uf,"don't await AlterTableAddForeignKeyConstraintBuilder instances directly. To execute the query you need to call `execute`");class yc{#e;constructor(e){this.#e=R(e)}ifExists(){return new yc({...this.#e,node:Lr.cloneWithTableProps(this.#e.node,{dropConstraint:bm.cloneWith(this.#e.node.dropConstraint,{ifExists:!0})})})}cascade(){return new yc({...this.#e,node:Lr.cloneWithTableProps(this.#e.node,{dropConstraint:bm.cloneWith(this.#e.node.dropConstraint,{modifier:"cascade"})})})}restrict(){return new yc({...this.#e,node:Lr.cloneWithTableProps(this.#e.node,{dropConstraint:bm.cloneWith(this.#e.node.dropConstraint,{modifier:"restrict"})})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}cr(yc,"don't await AlterTableDropConstraintBuilder instances directly. To execute the query you need to call `execute`");const d3=R({is(t){return t.kind==="PrimaryKeyConstraintNode"},create(t,e){return R({kind:"PrimaryKeyConstraintNode",columns:R(t.map(Cn.create)),name:e?nn.create(e):void 0})}}),Ju=R({is(t){return t.kind==="AddIndexNode"},create(t){return R({kind:"AddIndexNode",name:nn.create(t)})},cloneWith(t,e){return R({...t,...e})},cloneWithColumns(t,e){return R({...t,columns:[...t.columns||[],...e]})}});class Va{#e;constructor(e){this.#e=R(e)}unique(){return new Va({...this.#e,node:Lr.cloneWithTableProps(this.#e.node,{addIndex:Ju.cloneWith(this.#e.node.addIndex,{unique:!0})})})}column(e){return new Va({...this.#e,node:Lr.cloneWithTableProps(this.#e.node,{addIndex:Ju.cloneWithColumns(this.#e.node.addIndex,[cg(e)])})})}columns(e){return new Va({...this.#e,node:Lr.cloneWithTableProps(this.#e.node,{addIndex:Ju.cloneWithColumns(this.#e.node.addIndex,e.map(cg))})})}expression(e){return new Va({...this.#e,node:Lr.cloneWithTableProps(this.#e.node,{addIndex:Ju.cloneWithColumns(this.#e.node.addIndex,[e.toOperationNode()])})})}using(e){return new Va({...this.#e,node:Lr.cloneWithTableProps(this.#e.node,{addIndex:Ju.cloneWith(this.#e.node.addIndex,{using:oi.createWithSql(e)})})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}cr(Va,"don't await AlterTableAddIndexBuilder instances directly. To execute the query you need to call `execute`");class yh{#e;constructor(e){this.#e=e}toOperationNode(){return this.#e}nullsNotDistinct(){return new yh(W0.cloneWith(this.#e,{nullsNotDistinct:!0}))}}cr(yh,"don't await UniqueConstraintNodeBuilder instances directly.");class f3{#e;constructor(e){this.#e=R(e)}renameTo(e){return new Dl({...this.#e,node:Lr.cloneWithTableProps(this.#e.node,{renameTo:kn(e)})})}setSchema(e){return new Dl({...this.#e,node:Lr.cloneWithTableProps(this.#e.node,{setSchema:nn.create(e)})})}alterColumn(e,r){const n=r(new z0(e));return new ks({...this.#e,node:Lr.cloneWithColumnAlteration(this.#e.node,n.toOperationNode())})}dropColumn(e){return new ks({...this.#e,node:Lr.cloneWithColumnAlteration(this.#e.node,a3.create(e))})}renameColumn(e,r){return new ks({...this.#e,node:Lr.cloneWithColumnAlteration(this.#e.node,l3.create(e,r))})}addColumn(e,r,n=Xa){const s=n(new Qr(tn.create(e,ou(r))));return new ks({...this.#e,node:Lr.cloneWithColumnAlteration(this.#e.node,o3.create(s.toOperationNode()))})}modifyColumn(e,r,n=Xa){const s=n(new Qr(tn.create(e,ou(r))));return new ks({...this.#e,node:Lr.cloneWithColumnAlteration(this.#e.node,c3.create(s.toOperationNode()))})}addUniqueConstraint(e,r,n=Xa){const s=n(new yh(W0.create(r,e)));return new Dl({...this.#e,node:Lr.cloneWithTableProps(this.#e.node,{addConstraint:vm.create(s.toOperationNode())})})}addCheckConstraint(e,r){return new Dl({...this.#e,node:Lr.cloneWithTableProps(this.#e.node,{addConstraint:vm.create($0.create(r.toOperationNode(),e))})})}addForeignKeyConstraint(e,r,n,s){return new Uf({...this.#e,constraintBuilder:new Oc(yg.create(r.map(Cn.create),kn(n),s.map(Cn.create),e))})}addPrimaryKeyConstraint(e,r){return new Dl({...this.#e,node:Lr.cloneWithTableProps(this.#e.node,{addConstraint:vm.create(d3.create(r,e))})})}dropConstraint(e){return new yc({...this.#e,node:Lr.cloneWithTableProps(this.#e.node,{dropConstraint:bm.create(e)})})}addIndex(e){return new Va({...this.#e,node:Lr.cloneWithTableProps(this.#e.node,{addIndex:Ju.create(e)})})}dropIndex(e){return new Dl({...this.#e,node:Lr.cloneWithTableProps(this.#e.node,{dropIndex:cf.create(e)})})}$call(e){return e(this)}}cr(f3,"don't await AlterTableBuilder instances");class ks{#e;constructor(e){this.#e=R(e)}alterColumn(e,r){const n=r(new z0(e));return new ks({...this.#e,node:Lr.cloneWithColumnAlteration(this.#e.node,n.toOperationNode())})}dropColumn(e){return new ks({...this.#e,node:Lr.cloneWithColumnAlteration(this.#e.node,a3.create(e))})}renameColumn(e,r){return new ks({...this.#e,node:Lr.cloneWithColumnAlteration(this.#e.node,l3.create(e,r))})}addColumn(e,r,n=Xa){const s=n(new Qr(tn.create(e,ou(r))));return new ks({...this.#e,node:Lr.cloneWithColumnAlteration(this.#e.node,o3.create(s.toOperationNode()))})}modifyColumn(e,r,n=Xa){const s=n(new Qr(tn.create(e,ou(r))));return new ks({...this.#e,node:Lr.cloneWithColumnAlteration(this.#e.node,c3.create(s.toOperationNode()))})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}cr(ks,"don't await AlterTableColumnAlteringBuilder instances directly. To execute the query you need to call `execute`");class h3 extends GT{transformValue(e){return{...super.transformValue(e),immediate:!0}}}class Ss{#e;constructor(e){this.#e=R(e)}ifNotExists(){return new Ss({...this.#e,node:ta.cloneWith(this.#e.node,{ifNotExists:!0})})}unique(){return new Ss({...this.#e,node:ta.cloneWith(this.#e.node,{unique:!0})})}nullsNotDistinct(){return new Ss({...this.#e,node:ta.cloneWith(this.#e.node,{nullsNotDistinct:!0})})}on(e){return new Ss({...this.#e,node:ta.cloneWith(this.#e.node,{table:kn(e)})})}column(e){return new Ss({...this.#e,node:ta.cloneWithColumns(this.#e.node,[cg(e)])})}columns(e){return new Ss({...this.#e,node:ta.cloneWithColumns(this.#e.node,e.map(cg))})}expression(e){return new Ss({...this.#e,node:ta.cloneWithColumns(this.#e.node,[e.toOperationNode()])})}using(e){return new Ss({...this.#e,node:ta.cloneWith(this.#e.node,{using:oi.createWithSql(e)})})}where(...e){const r=new h3;return new Ss({...this.#e,node:Tt.cloneWithWhere(this.#e.node,r.transformNode(Jn(e)))})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}cr(Ss,"don't await CreateIndexBuilder instances directly. To execute the query you need to call `execute`");class iy{#e;constructor(e){this.#e=R(e)}ifNotExists(){return new iy({...this.#e,node:jT.cloneWith(this.#e.node,{ifNotExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}cr(iy,"don't await CreateSchemaBuilder instances directly. To execute the query you need to call `execute`");function XW(t){if(M4.includes(t))return t;throw new Error(`invalid OnCommitAction ${t}`)}class Fi{#e;constructor(e){this.#e=R(e)}temporary(){return new Fi({...this.#e,node:Ji.cloneWith(this.#e.node,{temporary:!0})})}onCommit(e){return new Fi({...this.#e,node:Ji.cloneWith(this.#e.node,{onCommit:XW(e)})})}ifNotExists(){return new Fi({...this.#e,node:Ji.cloneWith(this.#e.node,{ifNotExists:!0})})}addColumn(e,r,n=Xa){const s=n(new Qr(tn.create(e,ou(r))));return new Fi({...this.#e,node:Ji.cloneWithColumn(this.#e.node,s.toOperationNode())})}addPrimaryKeyConstraint(e,r){return new Fi({...this.#e,node:Ji.cloneWithConstraint(this.#e.node,d3.create(r,e))})}addUniqueConstraint(e,r,n=Xa){const s=n(new yh(W0.create(r,e)));return new Fi({...this.#e,node:Ji.cloneWithConstraint(this.#e.node,s.toOperationNode())})}addCheckConstraint(e,r){return new Fi({...this.#e,node:Ji.cloneWithConstraint(this.#e.node,$0.create(r.toOperationNode(),e))})}addForeignKeyConstraint(e,r,n,s,o=Xa){const l=o(new Oc(yg.create(r.map(Cn.create),kn(n),s.map(Cn.create),e)));return new Fi({...this.#e,node:Ji.cloneWithConstraint(this.#e.node,l.toOperationNode())})}modifyFront(e){return new Fi({...this.#e,node:Ji.cloneWithFrontModifier(this.#e.node,e.toOperationNode())})}modifyEnd(e){return new Fi({...this.#e,node:Ji.cloneWithEndModifier(this.#e.node,e.toOperationNode())})}as(e){return new Fi({...this.#e,node:Ji.cloneWith(this.#e.node,{selectQuery:uu(e)})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}cr(Fi,"don't await CreateTableBuilder instances directly. To execute the query you need to call `execute`");class vc{#e;constructor(e){this.#e=R(e)}on(e){return new vc({...this.#e,node:cf.cloneWith(this.#e.node,{table:kn(e)})})}ifExists(){return new vc({...this.#e,node:cf.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new vc({...this.#e,node:cf.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}cr(vc,"don't await DropIndexBuilder instances directly. To execute the query you need to call `execute`");class Vf{#e;constructor(e){this.#e=R(e)}ifExists(){return new Vf({...this.#e,node:Nw.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new Vf({...this.#e,node:Nw.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}cr(Vf,"don't await DropSchemaBuilder instances directly. To execute the query you need to call `execute`");class Hf{#e;constructor(e){this.#e=R(e)}ifExists(){return new Hf({...this.#e,node:Ew.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new Hf({...this.#e,node:Ew.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}cr(Hf,"don't await DropTableBuilder instances directly. To execute the query you need to call `execute`");const Ma=R({is(t){return t.kind==="CreateViewNode"},create(t){return R({kind:"CreateViewNode",name:al.create(t)})},cloneWith(t,e){return R({...t,...e})}});class e6{#e=new h3;transformQuery(e){return this.#e.transformNode(e.node)}transformResult(e){return Promise.resolve(e.result)}}class ia{#e;constructor(e){this.#e=R(e)}temporary(){return new ia({...this.#e,node:Ma.cloneWith(this.#e.node,{temporary:!0})})}materialized(){return new ia({...this.#e,node:Ma.cloneWith(this.#e.node,{materialized:!0})})}ifNotExists(){return new ia({...this.#e,node:Ma.cloneWith(this.#e.node,{ifNotExists:!0})})}orReplace(){return new ia({...this.#e,node:Ma.cloneWith(this.#e.node,{orReplace:!0})})}columns(e){return new ia({...this.#e,node:Ma.cloneWith(this.#e.node,{columns:e.map(WT)})})}as(e){const r=e.withPlugin(new e6).toOperationNode();return new ia({...this.#e,node:Ma.cloneWith(this.#e.node,{as:r})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}cr(ia,"don't await CreateViewBuilder instances directly. To execute the query you need to call `execute`");const _m=R({is(t){return t.kind==="DropViewNode"},create(t){return R({kind:"DropViewNode",name:al.create(t)})},cloneWith(t,e){return R({...t,...e})}});class bc{#e;constructor(e){this.#e=R(e)}materialized(){return new bc({...this.#e,node:_m.cloneWith(this.#e.node,{materialized:!0})})}ifExists(){return new bc({...this.#e,node:_m.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new bc({...this.#e,node:_m.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}cr(bc,"don't await DropViewBuilder instances directly. To execute the query you need to call `execute`");const p3=R({is(t){return t.kind==="CreateTypeNode"},create(t){return R({kind:"CreateTypeNode",name:t})},cloneWithEnum(t,e){return R({...t,enum:A0.create(e.map(r=>Io.createImmediate(r)))})}});class sy{#e;constructor(e){this.#e=R(e)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}asEnum(e){return new sy({...this.#e,node:p3.cloneWithEnum(this.#e.node,e)})}$call(e){return e(this)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}cr(sy,"don't await CreateTypeBuilder instances directly. To execute the query you need to call `execute`");const m3=R({is(t){return t.kind==="DropTypeNode"},create(t){return R({kind:"DropTypeNode",name:t})},cloneWith(t,e){return R({...t,...e})}});class oy{#e;constructor(e){this.#e=R(e)}ifExists(){return new oy({...this.#e,node:m3.cloneWith(this.#e.node,{ifExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}cr(oy,"don't await DropTypeBuilder instances directly. To execute the query you need to call `execute`");function Ok(t){const e=".";if(t.includes(e)){const r=t.split(e).map(t6);if(r.length===2)return al.createWithSchema(r[0],r[1]);throw new Error(`invalid schemable identifier ${t}`)}else return al.create(t)}function t6(t){return t.trim()}class mf{#e;constructor(e){this.#e=e}createTable(e){return new Fi({queryId:Dr(),executor:this.#e,node:Ji.create(kn(e))})}dropTable(e){return new Hf({queryId:Dr(),executor:this.#e,node:Ew.create(kn(e))})}createIndex(e){return new Ss({queryId:Dr(),executor:this.#e,node:ta.create(e)})}dropIndex(e){return new vc({queryId:Dr(),executor:this.#e,node:cf.create(e)})}createSchema(e){return new iy({queryId:Dr(),executor:this.#e,node:jT.create(e)})}dropSchema(e){return new Vf({queryId:Dr(),executor:this.#e,node:Nw.create(e)})}alterTable(e){return new f3({queryId:Dr(),executor:this.#e,node:Lr.create(kn(e))})}createView(e){return new ia({queryId:Dr(),executor:this.#e,node:Ma.create(e)})}dropView(e){return new bc({queryId:Dr(),executor:this.#e,node:_m.create(e)})}createType(e){return new sy({queryId:Dr(),executor:this.#e,node:p3.create(Ok(e))})}dropType(e){return new oy({queryId:Dr(),executor:this.#e,node:m3.create(Ok(e))})}withPlugin(e){return new mf(this.#e.withPlugin(e))}withoutPlugins(){return new mf(this.#e.withoutPlugins())}withSchema(e){return new mf(this.#e.withPluginAtFront(new mh(e)))}}class r6{ref(e){return new K4(e)}}class n6{#e;constructor(e){this.#e=e}async provideConnection(e){const r=await this.#e.acquireConnection();try{return await e(r)}finally{await this.#e.releaseConnection(r)}}}class Bl extends JT{#e;#t;#r;constructor(e,r,n,s=[]){super(s),this.#e=e,this.#t=r,this.#r=n}get adapter(){return this.#t}compileQuery(e){return this.#e.compileQuery(e)}provideConnection(e){return this.#r.provideConnection(e)}withPlugins(e){return new Bl(this.#e,this.#t,this.#r,[...this.plugins,...e])}withPlugin(e){return new Bl(this.#e,this.#t,this.#r,[...this.plugins,e])}withPluginAtFront(e){return new Bl(this.#e,this.#t,this.#r,[e,...this.plugins])}withConnectionProvider(e){return new Bl(this.#e,this.#t,e,[...this.plugins])}withoutPlugins(){return new Bl(this.#e,this.#t,this.#r,[])}}function Rk(){return typeof performance<"u"&&us(performance.now)?performance.now():Date.now()}class i6{#e;#t;#r;#n;#i;#s=new WeakSet;constructor(e,r){this.#n=!1,this.#e=e,this.#t=r}async init(){if(this.#i)throw new Error("driver has already been destroyed");this.#r||(this.#r=this.#e.init().then(()=>{this.#n=!0}).catch(e=>(this.#r=void 0,Promise.reject(e)))),await this.#r}async acquireConnection(){if(this.#i)throw new Error("driver has already been destroyed");this.#n||await this.init();const e=await this.#e.acquireConnection();return this.#s.has(e)||(this.#o()&&this.#a(e),this.#s.add(e)),e}async releaseConnection(e){await this.#e.releaseConnection(e)}beginTransaction(e,r){return this.#e.beginTransaction(e,r)}commitTransaction(e){return this.#e.commitTransaction(e)}rollbackTransaction(e){return this.#e.rollbackTransaction(e)}async destroy(){this.#r&&(await this.#r,this.#i||(this.#i=this.#e.destroy().catch(e=>(this.#i=void 0,Promise.reject(e)))),await this.#i)}#o(){return this.#t.isLevelEnabled("query")||this.#t.isLevelEnabled("error")}#a(e){const r=e.executeQuery;e.executeQuery=async n=>{let s;const o=Rk();try{return await r.call(e,n)}catch(l){throw s=l,await this.#u(l,n,o),l}finally{s||await this.#l(n,o)}}}async #u(e,r,n){await this.#t.error(()=>({level:"error",error:e,query:r,queryDurationMillis:this.#c(n)}))}async #l(e,r){await this.#t.query(()=>({level:"query",query:e,queryDurationMillis:this.#c(r)}))}#c(e){return Rk()-e}}const s6=()=>{};class g3{#e;#t;constructor(e){this.#e=e}async provideConnection(e){for(;this.#t;)await this.#t.catch(s6);return this.#t=this.#r(e).finally(()=>{this.#t=void 0}),this.#t}async #r(e){return await e(this.#e)}}const o6=["read uncommitted","read committed","repeatable read","serializable","snapshot"];R(["query","error"]);class a6{#e;#t;constructor(e){us(e)?(this.#t=e,this.#e=R({query:!0,error:!0})):(this.#t=l6,this.#e=R({query:e.includes("query"),error:e.includes("error")}))}isLevelEnabled(e){return this.#e[e]}async query(e){this.#e.query&&await this.#t(e())}async error(e){this.#e.error&&await this.#t(e())}}function l6(t){t.level==="query"?(console.log(`kysely:query: ${t.query.sql}`),console.log(`kysely:query: duration: ${t.queryDurationMillis.toFixed(1)}ms`)):t.level==="error"&&(t.error instanceof Error?console.error(`kysely:error: ${t.error.stack??t.error.message}`):console.error(`kysely:error: ${JSON.stringify({error:t.error,query:t.query.sql,queryDurationMillis:t.queryDurationMillis})}`))}function u6(t){return yo(t)&&us(t.compile)}class Qa extends za{#e;constructor(e){let r,n;if(c6(e))r={executor:e.executor},n={...e};else{const s=e.dialect,o=s.createDriver(),l=s.createQueryCompiler(),u=s.createAdapter(),d=new a6(e.log??[]),m=new i6(o,d),y=new n6(m),w=new Bl(l,u,y,e.plugins??[]);r={executor:w},n={config:e,executor:w,dialect:s,driver:m}}super(r),this.#e=R(n)}get schema(){return new mf(this.#e.executor)}get dynamic(){return new r6}get introspection(){return this.#e.dialect.createIntrospector(this.withoutPlugins())}case(e){return new t3({node:_o.create(Ya(e)?void 0:uu(e))})}get fn(){return e3()}transaction(){return new ay({...this.#e})}connection(){return new y3({...this.#e})}withPlugin(e){return new Qa({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new Qa({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new Qa({...this.#e,executor:this.#e.executor.withPluginAtFront(new mh(e))})}withTables(){return new Qa({...this.#e})}async destroy(){await this.#e.driver.destroy()}get isTransaction(){return!1}getExecutor(){return this.#e.executor}executeQuery(e,r=Dr()){const n=u6(e)?e.compile():e;return this.getExecutor().executeQuery(n,r)}}class tc extends Qa{#e;constructor(e){super(e),this.#e=e}get isTransaction(){return!0}transaction(){throw new Error("calling the transaction method for a Transaction is not supported")}connection(){throw new Error("calling the connection method for a Transaction is not supported")}async destroy(){throw new Error("calling the destroy method for a Transaction is not supported")}withPlugin(e){return new tc({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new tc({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new tc({...this.#e,executor:this.#e.executor.withPluginAtFront(new mh(e))})}withTables(){return new tc({...this.#e})}}function c6(t){return yo(t)&&yo(t.config)&&yo(t.driver)&&yo(t.executor)&&yo(t.dialect)}class y3{#e;constructor(e){this.#e=R(e)}async execute(e){return this.#e.executor.provideConnection(async r=>{const n=this.#e.executor.withConnectionProvider(new g3(r)),s=new Qa({...this.#e,executor:n});return await e(s)})}}cr(y3,"don't await ConnectionBuilder instances directly. To execute the query you need to call the `execute` method");class ay{#e;constructor(e){this.#e=R(e)}setIsolationLevel(e){return new ay({...this.#e,isolationLevel:e})}async execute(e){const{isolationLevel:r,...n}=this.#e,s={isolationLevel:r};return d6(s),this.#e.executor.provideConnection(async o=>{const l=this.#e.executor.withConnectionProvider(new g3(o)),u=new tc({...n,executor:l});try{await this.#e.driver.beginTransaction(o,s);const d=await e(u);return await this.#e.driver.commitTransaction(o),d}catch(d){throw await this.#e.driver.rollbackTransaction(o),d}})}}cr(ay,"don't await TransactionBuilder instances directly. To execute the transaction you need to call the `execute` method");function d6(t){if(t.isolationLevel&&!o6.includes(t.isolationLevel))throw new Error(`invalid transaction isolation level ${t.isolationLevel}`)}class _c{#e;constructor(e){this.#e=R(e)}get expressionType(){}get isRawBuilder(){return!0}as(e){return new v3(this,e)}$castTo(){return new _c({...this.#e})}$notNull(){return new _c(this.#e)}withPlugin(e){return new _c({...this.#e,plugins:this.#e.plugins!==void 0?R([...this.#e.plugins,e]):R([e])})}toOperationNode(){return this.#r(this.#t())}compile(e){return this.#n(this.#t(e))}async execute(e){const r=this.#t(e);return r.executeQuery(this.#n(r),this.#e.queryId)}#t(e){const r=e!==void 0?e.getExecutor():ny;return this.#e.plugins!==void 0?r.withPlugins(this.#e.plugins):r}#r(e){return e.transformQuery(this.#e.rawNode,this.#e.queryId)}#n(e){return e.compileQuery(this.#r(e),this.#e.queryId)}}function La(t){return new _c(t)}cr(_c,"don't await RawBuilder instances directly. To execute the query you need to call `execute`");class v3{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}get rawBuilder(){return this.#e}toOperationNode(){return ml.create(this.#e.toOperationNode(),Hi(this.#t)?this.#t.toOperationNode():nn.create(this.#t))}}cr(v3,"don't await AliasedRawBuilder instances directly. AliasedRawBuilder should never be executed directly since it's always a part of another query.");const U0=Object.assign((t,...e)=>La({queryId:Dr(),rawNode:oi.create(t,e?.map(Ak)??[])}),{ref(t){return La({queryId:Dr(),rawNode:oi.createWithChild(ha(t))})},val(t){return La({queryId:Dr(),rawNode:oi.createWithChild(An(t))})},value(t){return this.val(t)},table(t){return La({queryId:Dr(),rawNode:oi.createWithChild(kn(t))})},id(...t){const e=new Array(t.length+1).fill(".");return e[0]="",e[e.length-1]="",La({queryId:Dr(),rawNode:oi.create(e,t.map(nn.create))})},lit(t){return La({queryId:Dr(),rawNode:oi.createWithChild(Io.createImmediate(t))})},literal(t){return this.lit(t)},raw(t){return La({queryId:Dr(),rawNode:oi.createWithSql(t)})},join(t,e=U0`, `){const r=new Array(2*t.length-1),n=e.toOperationNode();for(let s=0;s<t.length;++s)r[2*s]=Ak(t[s]),s!==t.length-1&&(r[2*s+1]=n);return La({queryId:Dr(),rawNode:oi.createWithChildren(r)})}});function Ak(t){return Hi(t)?t.toOperationNode():An(t)}class f6{nodeStack=[];get parentNode(){return this.nodeStack[this.nodeStack.length-2]}#e=R({AliasNode:this.visitAlias.bind(this),ColumnNode:this.visitColumn.bind(this),IdentifierNode:this.visitIdentifier.bind(this),SchemableIdentifierNode:this.visitSchemableIdentifier.bind(this),RawNode:this.visitRaw.bind(this),ReferenceNode:this.visitReference.bind(this),SelectQueryNode:this.visitSelectQuery.bind(this),SelectionNode:this.visitSelection.bind(this),TableNode:this.visitTable.bind(this),FromNode:this.visitFrom.bind(this),SelectAllNode:this.visitSelectAll.bind(this),AndNode:this.visitAnd.bind(this),OrNode:this.visitOr.bind(this),ValueNode:this.visitValue.bind(this),ValueListNode:this.visitValueList.bind(this),PrimitiveValueListNode:this.visitPrimitiveValueList.bind(this),ParensNode:this.visitParens.bind(this),JoinNode:this.visitJoin.bind(this),OperatorNode:this.visitOperator.bind(this),WhereNode:this.visitWhere.bind(this),InsertQueryNode:this.visitInsertQuery.bind(this),DeleteQueryNode:this.visitDeleteQuery.bind(this),ReturningNode:this.visitReturning.bind(this),CreateTableNode:this.visitCreateTable.bind(this),AddColumnNode:this.visitAddColumn.bind(this),ColumnDefinitionNode:this.visitColumnDefinition.bind(this),DropTableNode:this.visitDropTable.bind(this),DataTypeNode:this.visitDataType.bind(this),OrderByNode:this.visitOrderBy.bind(this),OrderByItemNode:this.visitOrderByItem.bind(this),GroupByNode:this.visitGroupBy.bind(this),GroupByItemNode:this.visitGroupByItem.bind(this),UpdateQueryNode:this.visitUpdateQuery.bind(this),ColumnUpdateNode:this.visitColumnUpdate.bind(this),LimitNode:this.visitLimit.bind(this),OffsetNode:this.visitOffset.bind(this),OnConflictNode:this.visitOnConflict.bind(this),OnDuplicateKeyNode:this.visitOnDuplicateKey.bind(this),CreateIndexNode:this.visitCreateIndex.bind(this),DropIndexNode:this.visitDropIndex.bind(this),ListNode:this.visitList.bind(this),PrimaryKeyConstraintNode:this.visitPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.visitUniqueConstraint.bind(this),ReferencesNode:this.visitReferences.bind(this),CheckConstraintNode:this.visitCheckConstraint.bind(this),WithNode:this.visitWith.bind(this),CommonTableExpressionNode:this.visitCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.visitCommonTableExpressionName.bind(this),HavingNode:this.visitHaving.bind(this),CreateSchemaNode:this.visitCreateSchema.bind(this),DropSchemaNode:this.visitDropSchema.bind(this),AlterTableNode:this.visitAlterTable.bind(this),DropColumnNode:this.visitDropColumn.bind(this),RenameColumnNode:this.visitRenameColumn.bind(this),AlterColumnNode:this.visitAlterColumn.bind(this),ModifyColumnNode:this.visitModifyColumn.bind(this),AddConstraintNode:this.visitAddConstraint.bind(this),DropConstraintNode:this.visitDropConstraint.bind(this),ForeignKeyConstraintNode:this.visitForeignKeyConstraint.bind(this),CreateViewNode:this.visitCreateView.bind(this),DropViewNode:this.visitDropView.bind(this),GeneratedNode:this.visitGenerated.bind(this),DefaultValueNode:this.visitDefaultValue.bind(this),OnNode:this.visitOn.bind(this),ValuesNode:this.visitValues.bind(this),SelectModifierNode:this.visitSelectModifier.bind(this),CreateTypeNode:this.visitCreateType.bind(this),DropTypeNode:this.visitDropType.bind(this),ExplainNode:this.visitExplain.bind(this),DefaultInsertValueNode:this.visitDefaultInsertValue.bind(this),AggregateFunctionNode:this.visitAggregateFunction.bind(this),OverNode:this.visitOver.bind(this),PartitionByNode:this.visitPartitionBy.bind(this),PartitionByItemNode:this.visitPartitionByItem.bind(this),SetOperationNode:this.visitSetOperation.bind(this),BinaryOperationNode:this.visitBinaryOperation.bind(this),UnaryOperationNode:this.visitUnaryOperation.bind(this),UsingNode:this.visitUsing.bind(this),FunctionNode:this.visitFunction.bind(this),CaseNode:this.visitCase.bind(this),WhenNode:this.visitWhen.bind(this),JSONReferenceNode:this.visitJSONReference.bind(this),JSONPathNode:this.visitJSONPath.bind(this),JSONPathLegNode:this.visitJSONPathLeg.bind(this),JSONOperatorChainNode:this.visitJSONOperatorChain.bind(this),TupleNode:this.visitTuple.bind(this),MergeQueryNode:this.visitMergeQuery.bind(this),MatchedNode:this.visitMatched.bind(this),AddIndexNode:this.visitAddIndex.bind(this),CastNode:this.visitCast.bind(this),FetchNode:this.visitFetch.bind(this),TopNode:this.visitTop.bind(this),OutputNode:this.visitOutput.bind(this)});visitNode=e=>{this.nodeStack.push(e),this.#e[e.kind](e),this.nodeStack.pop()}}class h6 extends f6{#e="";#t=[];get numParameters(){return this.#t.length}compileQuery(e){return this.#e="",this.#t=[],this.nodeStack.splice(0,this.nodeStack.length),this.visitNode(e),R({query:e,sql:this.getSql(),parameters:[...this.#t]})}getSql(){return this.#e}visitSelectQuery(e){const r=this.parentNode!==void 0&&!Tc.is(this.parentNode)&&!Xi.is(this.parentNode)&&!Ji.is(this.parentNode)&&!Ma.is(this.parentNode)&&!YT.is(this.parentNode);this.parentNode===void 0&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("select"),e.distinctOn&&(this.append(" "),this.compileDistinctOn(e.distinctOn)),e.frontModifiers?.length&&(this.append(" "),this.compileList(e.frontModifiers," ")),e.top&&(this.append(" "),this.visitNode(e.top)),e.selections&&(this.append(" "),this.compileList(e.selections)),e.from&&(this.append(" "),this.visitNode(e.from)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.groupBy&&(this.append(" "),this.visitNode(e.groupBy)),e.having&&(this.append(" "),this.visitNode(e.having)),e.setOperations&&(this.append(" "),this.compileList(e.setOperations," ")),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.offset&&(this.append(" "),this.visitNode(e.offset)),e.fetch&&(this.append(" "),this.visitNode(e.fetch)),e.endModifiers?.length&&(this.append(" "),this.compileList(this.sortSelectModifiers([...e.endModifiers])," ")),r&&this.append(")")}visitFrom(e){this.append("from "),this.compileList(e.froms)}visitSelection(e){this.visitNode(e.selection)}visitColumn(e){this.visitNode(e.column)}compileDistinctOn(e){this.append("distinct on ("),this.compileList(e),this.append(")")}compileList(e,r=", "){const n=e.length-1;for(let s=0;s<=n;s++)this.visitNode(e[s]),s<n&&this.append(r)}visitWhere(e){this.append("where "),this.visitNode(e.where)}visitHaving(e){this.append("having "),this.visitNode(e.having)}visitInsertQuery(e){const r=this.nodeStack.find(Tt.is),n=r!==e;!n&&e.explain&&(this.visitNode(e.explain),this.append(" ")),n&&!$i.is(r)&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append(e.replace?"replace":"insert"),e.ignore&&this.append(" ignore"),e.top&&(this.append(" "),this.visitNode(e.top)),e.into&&(this.append(" into "),this.visitNode(e.into)),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.output&&(this.append(" "),this.visitNode(e.output)),e.values&&(this.append(" "),this.visitNode(e.values)),e.defaultValues&&(this.append(" "),this.append("default values")),e.onConflict&&(this.append(" "),this.visitNode(e.onConflict)),e.onDuplicateKey&&(this.append(" "),this.visitNode(e.onDuplicateKey)),e.returning&&(this.append(" "),this.visitNode(e.returning)),n&&!$i.is(r)&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitValues(e){this.append("values "),this.compileList(e.values)}visitDeleteQuery(e){const r=this.nodeStack.find(Tt.is)!==e;!r&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("delete "),e.top&&(this.visitNode(e.top),this.append(" ")),this.visitNode(e.from),e.output&&(this.append(" "),this.visitNode(e.output)),e.using&&(this.append(" "),this.visitNode(e.using)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.returning&&(this.append(" "),this.visitNode(e.returning)),r&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitReturning(e){this.append("returning "),this.compileList(e.selections)}visitAlias(e){this.visitNode(e.node),this.append(" as "),this.visitNode(e.alias)}visitReference(e){e.table&&(this.visitNode(e.table),this.append(".")),this.visitNode(e.column)}visitSelectAll(e){this.append("*")}visitIdentifier(e){this.append(this.getLeftIdentifierWrapper()),this.compileUnwrappedIdentifier(e),this.append(this.getRightIdentifierWrapper())}compileUnwrappedIdentifier(e){if(!ls(e.name))throw new Error("a non-string identifier was passed to compileUnwrappedIdentifier.");this.append(this.sanitizeIdentifier(e.name))}visitAnd(e){this.visitNode(e.left),this.append(" and "),this.visitNode(e.right)}visitOr(e){this.visitNode(e.left),this.append(" or "),this.visitNode(e.right)}visitValue(e){e.immediate?this.appendImmediateValue(e.value):this.appendValue(e.value)}visitValueList(e){this.append("("),this.compileList(e.values),this.append(")")}visitTuple(e){this.append("("),this.compileList(e.values),this.append(")")}visitPrimitiveValueList(e){this.append("(");const{values:r}=e;for(let n=0;n<r.length;++n)this.appendValue(r[n]),n!==r.length-1&&this.append(", ");this.append(")")}visitParens(e){this.append("("),this.visitNode(e.node),this.append(")")}visitJoin(e){this.append(m6[e.joinType]),this.append(" "),this.visitNode(e.table),e.on&&(this.append(" "),this.visitNode(e.on))}visitOn(e){this.append("on "),this.visitNode(e.on)}visitRaw(e){const{sqlFragments:r,parameters:n}=e;for(let s=0;s<r.length;++s)this.append(r[s]),n.length>s&&this.visitNode(n[s])}visitOperator(e){this.append(e.operator)}visitTable(e){this.visitNode(e.table)}visitSchemableIdentifier(e){e.schema&&(this.visitNode(e.schema),this.append(".")),this.visitNode(e.identifier)}visitCreateTable(e){this.append("create "),e.frontModifiers&&e.frontModifiers.length>0&&(this.compileList(e.frontModifiers," "),this.append(" ")),e.temporary&&this.append("temporary "),this.append("table "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.table),e.selectQuery?(this.append(" as "),this.visitNode(e.selectQuery)):(this.append(" ("),this.compileList([...e.columns,...e.constraints??[]]),this.append(")"),e.onCommit&&(this.append(" on commit "),this.append(e.onCommit)),e.endModifiers&&e.endModifiers.length>0&&(this.append(" "),this.compileList(e.endModifiers," ")))}visitColumnDefinition(e){e.ifNotExists&&this.append("if not exists "),this.visitNode(e.column),this.append(" "),this.visitNode(e.dataType),e.unsigned&&this.append(" unsigned"),e.frontModifiers&&e.frontModifiers.length>0&&(this.append(" "),this.compileList(e.frontModifiers," ")),e.generated&&(this.append(" "),this.visitNode(e.generated)),e.identity&&this.append(" identity"),e.defaultTo&&(this.append(" "),this.visitNode(e.defaultTo)),e.notNull&&this.append(" not null"),e.unique&&this.append(" unique"),e.nullsNotDistinct&&this.append(" nulls not distinct"),e.primaryKey&&this.append(" primary key"),e.autoIncrement&&(this.append(" "),this.append(this.getAutoIncrement())),e.references&&(this.append(" "),this.visitNode(e.references)),e.check&&(this.append(" "),this.visitNode(e.check)),e.endModifiers&&e.endModifiers.length>0&&(this.append(" "),this.compileList(e.endModifiers," "))}getAutoIncrement(){return"auto_increment"}visitReferences(e){this.append("references "),this.visitNode(e.table),this.append(" ("),this.compileList(e.columns),this.append(")"),e.onDelete&&(this.append(" on delete "),this.append(e.onDelete)),e.onUpdate&&(this.append(" on update "),this.append(e.onUpdate))}visitDropTable(e){this.append("drop table "),e.ifExists&&this.append("if exists "),this.visitNode(e.table),e.cascade&&this.append(" cascade")}visitDataType(e){this.append(e.dataType)}visitOrderBy(e){this.append("order by "),this.compileList(e.items)}visitOrderByItem(e){this.visitNode(e.orderBy),e.direction&&(this.append(" "),this.visitNode(e.direction))}visitGroupBy(e){this.append("group by "),this.compileList(e.items)}visitGroupByItem(e){this.visitNode(e.groupBy)}visitUpdateQuery(e){const r=this.nodeStack.find(Tt.is),n=r!==e;!n&&e.explain&&(this.visitNode(e.explain),this.append(" ")),n&&!$i.is(r)&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("update "),e.top&&(this.visitNode(e.top),this.append(" ")),e.table&&(this.visitNode(e.table),this.append(" ")),this.append("set "),e.updates&&this.compileList(e.updates),e.output&&(this.append(" "),this.visitNode(e.output)),e.from&&(this.append(" "),this.visitNode(e.from)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.returning&&(this.append(" "),this.visitNode(e.returning)),n&&!$i.is(r)&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitColumnUpdate(e){this.visitNode(e.column),this.append(" = "),this.visitNode(e.value)}visitLimit(e){this.append("limit "),this.visitNode(e.limit)}visitOffset(e){this.append("offset "),this.visitNode(e.offset)}visitOnConflict(e){this.append("on conflict"),e.columns?(this.append(" ("),this.compileList(e.columns),this.append(")")):e.constraint?(this.append(" on constraint "),this.visitNode(e.constraint)):e.indexExpression&&(this.append(" ("),this.visitNode(e.indexExpression),this.append(")")),e.indexWhere&&(this.append(" "),this.visitNode(e.indexWhere)),e.doNothing===!0?this.append(" do nothing"):e.updates&&(this.append(" do update set "),this.compileList(e.updates),e.updateWhere&&(this.append(" "),this.visitNode(e.updateWhere)))}visitOnDuplicateKey(e){this.append("on duplicate key update "),this.compileList(e.updates)}visitCreateIndex(e){this.append("create "),e.unique&&this.append("unique "),this.append("index "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),e.table&&(this.append(" on "),this.visitNode(e.table)),e.using&&(this.append(" using "),this.visitNode(e.using)),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.nullsNotDistinct&&this.append(" nulls not distinct"),e.where&&(this.append(" "),this.visitNode(e.where))}visitDropIndex(e){this.append("drop index "),e.ifExists&&this.append("if exists "),this.visitNode(e.name),e.table&&(this.append(" on "),this.visitNode(e.table)),e.cascade&&this.append(" cascade")}visitCreateSchema(e){this.append("create schema "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.schema)}visitDropSchema(e){this.append("drop schema "),e.ifExists&&this.append("if exists "),this.visitNode(e.schema),e.cascade&&this.append(" cascade")}visitPrimaryKeyConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("primary key ("),this.compileList(e.columns),this.append(")")}visitUniqueConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("unique"),e.nullsNotDistinct&&this.append(" nulls not distinct"),this.append(" ("),this.compileList(e.columns),this.append(")")}visitCheckConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("check ("),this.visitNode(e.expression),this.append(")")}visitForeignKeyConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("foreign key ("),this.compileList(e.columns),this.append(") "),this.visitNode(e.references),e.onDelete&&(this.append(" on delete "),this.append(e.onDelete)),e.onUpdate&&(this.append(" on update "),this.append(e.onUpdate))}visitList(e){this.compileList(e.items)}visitWith(e){this.append("with "),e.recursive&&this.append("recursive "),this.compileList(e.expressions)}visitCommonTableExpression(e){this.visitNode(e.name),this.append(" as "),lg(e.materialized)&&(e.materialized||this.append("not "),this.append("materialized ")),this.visitNode(e.expression)}visitCommonTableExpressionName(e){this.visitNode(e.table),e.columns&&(this.append("("),this.compileList(e.columns),this.append(")"))}visitAlterTable(e){this.append("alter table "),this.visitNode(e.table),this.append(" "),e.renameTo&&(this.append("rename to "),this.visitNode(e.renameTo)),e.setSchema&&(this.append("set schema "),this.visitNode(e.setSchema)),e.addConstraint&&this.visitNode(e.addConstraint),e.dropConstraint&&this.visitNode(e.dropConstraint),e.columnAlterations&&this.compileColumnAlterations(e.columnAlterations),e.addIndex&&this.visitNode(e.addIndex),e.dropIndex&&this.visitNode(e.dropIndex)}visitAddColumn(e){this.append("add column "),this.visitNode(e.column)}visitRenameColumn(e){this.append("rename column "),this.visitNode(e.column),this.append(" to "),this.visitNode(e.renameTo)}visitDropColumn(e){this.append("drop column "),this.visitNode(e.column)}visitAlterColumn(e){this.append("alter column "),this.visitNode(e.column),this.append(" "),e.dataType&&(this.announcesNewColumnDataType()&&this.append("type "),this.visitNode(e.dataType),e.dataTypeExpression&&(this.append("using "),this.visitNode(e.dataTypeExpression))),e.setDefault&&(this.append("set default "),this.visitNode(e.setDefault)),e.dropDefault&&this.append("drop default"),e.setNotNull&&this.append("set not null"),e.dropNotNull&&this.append("drop not null")}visitModifyColumn(e){this.append("modify column "),this.visitNode(e.column)}visitAddConstraint(e){this.append("add "),this.visitNode(e.constraint)}visitDropConstraint(e){this.append("drop constraint "),e.ifExists&&this.append("if exists "),this.visitNode(e.constraintName),e.modifier==="cascade"?this.append(" cascade"):e.modifier==="restrict"&&this.append(" restrict")}visitSetOperation(e){this.append(e.operator),this.append(" "),e.all&&this.append("all "),this.visitNode(e.expression)}visitCreateView(e){this.append("create "),e.orReplace&&this.append("or replace "),e.materialized&&this.append("materialized "),e.temporary&&this.append("temporary "),this.append("view "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),this.append(" "),e.columns&&(this.append("("),this.compileList(e.columns),this.append(") ")),e.as&&(this.append("as "),this.visitNode(e.as))}visitDropView(e){this.append("drop "),e.materialized&&this.append("materialized "),this.append("view "),e.ifExists&&this.append("if exists "),this.visitNode(e.name),e.cascade&&this.append(" cascade")}visitGenerated(e){this.append("generated "),e.always&&this.append("always "),e.byDefault&&this.append("by default "),this.append("as "),e.identity&&this.append("identity"),e.expression&&(this.append("("),this.visitNode(e.expression),this.append(")")),e.stored&&this.append(" stored")}visitDefaultValue(e){this.append("default "),this.visitNode(e.defaultValue)}visitSelectModifier(e){e.rawModifier?this.visitNode(e.rawModifier):this.append(p6[e.modifier]),e.of&&(this.append(" of "),this.compileList(e.of,", "))}visitCreateType(e){this.append("create type "),this.visitNode(e.name),e.enum&&(this.append(" as enum "),this.visitNode(e.enum))}visitDropType(e){this.append("drop type "),e.ifExists&&this.append("if exists "),this.visitNode(e.name)}visitExplain(e){this.append("explain"),(e.options||e.format)&&(this.append(" "),this.append(this.getLeftExplainOptionsWrapper()),e.options&&(this.visitNode(e.options),e.format&&this.append(this.getExplainOptionsDelimiter())),e.format&&(this.append("format"),this.append(this.getExplainOptionAssignment()),this.append(e.format)),this.append(this.getRightExplainOptionsWrapper()))}visitDefaultInsertValue(e){this.append("default")}visitAggregateFunction(e){this.append(e.func),this.append("("),e.distinct&&this.append("distinct "),this.compileList(e.aggregated),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),this.append(")"),e.filter&&(this.append(" filter("),this.visitNode(e.filter),this.append(")")),e.over&&(this.append(" "),this.visitNode(e.over))}visitOver(e){this.append("over("),e.partitionBy&&(this.visitNode(e.partitionBy),e.orderBy&&this.append(" ")),e.orderBy&&this.visitNode(e.orderBy),this.append(")")}visitPartitionBy(e){this.append("partition by "),this.compileList(e.items)}visitPartitionByItem(e){this.visitNode(e.partitionBy)}visitBinaryOperation(e){this.visitNode(e.leftOperand),this.append(" "),this.visitNode(e.operator),this.append(" "),this.visitNode(e.rightOperand)}visitUnaryOperation(e){this.visitNode(e.operator),this.isMinusOperator(e.operator)||this.append(" "),this.visitNode(e.operand)}isMinusOperator(e){return ul.is(e)&&e.operator==="-"}visitUsing(e){this.append("using "),this.compileList(e.tables)}visitFunction(e){this.append(e.func),this.append("("),this.compileList(e.arguments),this.append(")")}visitCase(e){this.append("case"),e.value&&(this.append(" "),this.visitNode(e.value)),e.when&&(this.append(" "),this.compileList(e.when," ")),e.else&&(this.append(" else "),this.visitNode(e.else)),this.append(" end"),e.isStatement&&this.append(" case")}visitWhen(e){this.append("when "),this.visitNode(e.condition),e.result&&(this.append(" then "),this.visitNode(e.result))}visitJSONReference(e){this.visitNode(e.reference),this.visitNode(e.traversal)}visitJSONPath(e){e.inOperator&&this.visitNode(e.inOperator),this.append("'$");for(const r of e.pathLegs)this.visitNode(r);this.append("'")}visitJSONPathLeg(e){const r=e.type==="ArrayLocation";this.append(r?"[":"."),this.append(String(e.value)),r&&this.append("]")}visitJSONOperatorChain(e){for(let r=0,n=e.values.length;r<n;r++)r===n-1?this.visitNode(e.operator):this.append("->"),this.visitNode(e.values[r])}visitMergeQuery(e){e.with&&(this.visitNode(e.with),this.append(" ")),this.append("merge "),e.top&&(this.visitNode(e.top),this.append(" ")),this.append("into "),this.visitNode(e.into),e.using&&(this.append(" "),this.visitNode(e.using)),e.whens&&(this.append(" "),this.compileList(e.whens," ")),e.output&&(this.append(" "),this.visitNode(e.output)),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitMatched(e){e.not&&this.append("not "),this.append("matched"),e.bySource&&this.append(" by source")}visitAddIndex(e){this.append("add "),e.unique&&this.append("unique "),this.append("index "),this.visitNode(e.name),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.using&&(this.append(" using "),this.visitNode(e.using))}visitCast(e){this.append("cast("),this.visitNode(e.expression),this.append(" as "),this.visitNode(e.dataType),this.append(")")}visitFetch(e){this.append("fetch next "),this.visitNode(e.rowCount),this.append(` rows ${e.modifier}`)}visitOutput(e){this.append("output "),this.compileList(e.selections)}visitTop(e){this.append(`top(${e.expression})`),e.modifiers&&this.append(` ${e.modifiers}`)}append(e){this.#e+=e}appendValue(e){this.addParameter(e),this.append(this.getCurrentParameterPlaceholder())}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getCurrentParameterPlaceholder(){return"$"+this.numParameters}getLeftExplainOptionsWrapper(){return"("}getExplainOptionAssignment(){return" "}getExplainOptionsDelimiter(){return", "}getRightExplainOptionsWrapper(){return")"}sanitizeIdentifier(e){const r=this.getLeftIdentifierWrapper(),n=this.getRightIdentifierWrapper();let s="";for(const o of e)s+=o,o===r?s+=r:o===n&&(s+=n);return s}addParameter(e){this.#t.push(e)}appendImmediateValue(e){if(ls(e))this.append(`'${e}'`);else if(ty(e)||lg(e))this.append(e.toString());else if(C0(e))this.append("null");else if(D4(e))this.appendImmediateValue(e.toISOString());else if(T0(e))this.appendImmediateValue(e.toString());else throw new Error(`invalid immediate value ${e}`)}sortSelectModifiers(e){return e.sort((r,n)=>r.modifier&&n.modifier?Pk[r.modifier]-Pk[n.modifier]:1),R(e)}compileColumnAlterations(e){this.compileList(e)}announcesNewColumnDataType(){return!0}}const p6=R({ForKeyShare:"for key share",ForNoKeyUpdate:"for no key update",ForUpdate:"for update",ForShare:"for share",NoWait:"nowait",SkipLocked:"skip locked",Distinct:"distinct"}),Pk=R({ForKeyShare:1,ForNoKeyUpdate:1,ForUpdate:1,ForShare:1,NoWait:2,SkipLocked:2,Distinct:0}),m6=R({InnerJoin:"inner join",LeftJoin:"left join",RightJoin:"right join",FullJoin:"full join",LateralInnerJoin:"inner join lateral",LateralLeftJoin:"left join lateral",Using:"using"});class g6{get supportsCreateIfNotExists(){return!0}get supportsTransactionalDdl(){return!1}get supportsReturning(){return!1}get supportsOutput(){return!1}}const y6=/"/g;class v6 extends h6{getCurrentParameterPlaceholder(){return"?"}getLeftExplainOptionsWrapper(){return""}getRightExplainOptionsWrapper(){return""}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getAutoIncrement(){return"autoincrement"}sanitizeIdentifier(e){return e.replace(y6,'""')}visitDefaultInsertValue(e){this.append("null")}}const b6="kysely_migration",_6="kysely_migration_lock";R({__noMigrations__:!0});class w6{#e;constructor(e){this.#e=e}async getSchemas(){return[]}async getTables(e={withInternalKyselyTables:!1}){let r=this.#e.selectFrom("sqlite_master").where("type","in",["table","view"]).where("name","not like","sqlite_%").select("name").orderBy("name").$castTo();e.withInternalKyselyTables||(r=r.where("name","!=",b6).where("name","!=",_6));const n=await r.execute();return Promise.all(n.map(({name:s})=>this.#t(s)))}async getMetadata(e){return{tables:await this.getTables(e)}}async #t(e){const r=this.#e,n=await r.selectFrom("sqlite_master").where("name","=",e).select(["sql","type"]).$castTo().executeTakeFirstOrThrow(),s=n.sql?.split(/[\(\),]/)?.find(l=>l.toLowerCase().includes("autoincrement"))?.trimStart()?.split(/\s+/)?.[0]?.replace(/["`]/g,""),o=await r.selectFrom(U0`pragma_table_info(${e})`.as("table_info")).select(["name","type","notnull","dflt_value"]).orderBy("cid").execute();return{name:e,isView:n.type==="view",columns:o.map(l=>({name:l.name,dataType:l.type,isNullable:!l.notnull,isAutoIncrementing:l.name===s,hasDefaultValue:l.dflt_value!=null,comment:void 0}))}}}class x6 extends g6{get supportsTransactionalDdl(){return!1}get supportsReturning(){return!0}async acquireMigrationLock(e,r){}async releaseMigrationLock(e,r){}}const jk="function",rc="64e10b34-2bf7-4616-9668-f99de5aa046e",S6="get",N6="has",E6="set",{isArray:wm}=Array;let{SharedArrayBuffer:vg,window:k6}=globalThis,{notify:b3,wait:_3,waitAsync:bg}=Atomics,w3=null;bg||(bg=t=>({value:new Promise(e=>{let r=new Worker("data:application/javascript,onmessage%3D(%7Bdata%3Ab%7D)%3D%3E(Atomics.wait(b%2C0)%2CpostMessage(0))");r.onmessage=e,r.postMessage(t)})}));try{new vg(4)}catch{vg=ArrayBuffer;const e=new WeakMap;if(k6){const r=new Map,{prototype:{postMessage:n}}=Worker,s=o=>{const l=o.data?.[rc];if(!wm(l)){o.stopImmediatePropagation();const{id:u,sb:d}=l;r.get(u)(d)}};w3=function(o,...l){const u=o?.[rc];if(wm(u)){const[d,m]=u;e.set(m,d),this.addEventListener("message",s)}return n.call(this,o,...l)},bg=o=>({value:new Promise(l=>{r.set(e.get(o),l)}).then(l=>{r.delete(e.get(o)),e.delete(o);for(let u=0;u<l.length;u++)o[u]=l[u];return"ok"})})}else{const r=(n,s)=>({[rc]:{id:n,sb:s}});b3=n=>{postMessage(r(e.get(n),n))},addEventListener("message",n=>{const s=n.data?.[rc];if(wm(s)){const[o,l]=s;e.set(l,o)}})}}const{Int32Array:Rw,Map:Fk,Uint16Array:Aw}=globalThis,{BYTES_PER_ELEMENT:Lk}=Rw,{BYTES_PER_ELEMENT:I6}=Aw,q6=(t,e,r)=>{for(;_3(t,0,0,e)==="timed-out";)r()},Pw=new WeakSet,k_=new WeakMap,C6={value:{then:t=>t()}};let T6=0;const V0=(t,{parse:e=JSON.parse,stringify:r=JSON.stringify,transform:n,interrupt:s}=JSON)=>{if(!k_.has(t)){const o=w3||t.postMessage,l=(E,...k)=>o.call(t,{[rc]:k},{transfer:E}),u=typeof s===jk?s:s?.handler,d=s?.delay||42,m=new TextDecoder("utf-16"),y=(E,k)=>E?bg(k,0):(u?q6(k,d,u):_3(k,0),C6);let w=!1;k_.set(t,new Proxy(new Fk,{[N6]:(E,k)=>typeof k=="string"&&!k.startsWith("_"),[S6]:(E,k)=>k==="then"?null:(...q)=>{const C=T6++;let A=new Rw(new vg(Lk*2)),D=[];Pw.has(q.at(-1)||D)&&Pw.delete(D=q.pop()),l(D,C,A,k,n?q.map(n):q);const F=t!==globalThis;let $=0;return w&&F&&($=setTimeout(console.warn,1e3,`💀🔒 - Possible deadlock if proxy.${k}(...args) is awaited`)),y(F,A).value.then(()=>{clearTimeout($);const H=A[1];if(!H)return;const G=I6*H;return A=new Rw(new vg(G+G%Lk)),l([],C,A),y(F,A).value.then(()=>e(m.decode(new Aw(A.buffer).slice(0,H))))})},[E6](E,k,q){const C=typeof q;if(C!==jk)throw new Error(`Unable to assign ${k} as ${C}`);if(!E.size){const A=new Fk;t.addEventListener("message",async D=>{const F=D.data?.[rc];if(wm(F)){D.stopImmediatePropagation();const[$,H,...G]=F;let B;if(G.length){const[Z,ie]=G;if(E.has(Z)){w=!0;try{const V=await E.get(Z)(...ie);if(V!==void 0){const ne=r(n?n(V):V);A.set($,ne),H[1]=ne.length}}catch(V){B=V}finally{w=!1}}else B=new Error(`Unsupported action: ${Z}`);H[0]=1}else{const Z=A.get($);A.delete($);for(let ie=new Aw(H.buffer),V=0;V<Z.length;V++)ie[V]=Z.charCodeAt(V)}if(b3(H,0),B)throw B}})}return!!E.set(k,q)}}))}return k_.get(t)};V0.transfer=(...t)=>(Pw.add(t),t);var H0=(()=>{var t=import.meta.url;return function(e={}){var r,n=e,s,o,l=new Promise((f,h)=>{s=f,o=h}),u=typeof window=="object",d=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;const m=globalThis.sqlite3InitModuleState||Object.assign(Object.create(null),{debugModule:()=>{}});delete globalThis.sqlite3InitModuleState,m.debugModule("globalThis.location =",globalThis.location);var y=Object.assign({},n),w="./this.program",E="";function k(f){return n.locateFile?n.locateFile(f,E):E+f}var q,C;(u||d)&&(d?E=self.location.href:typeof document<"u"&&document.currentScript&&(E=document.currentScript.src),t&&(E=t),E.startsWith("blob:")?E="":E=E.substr(0,E.replace(/[?#].*/,"").lastIndexOf("/")+1),d&&(C=f=>{var h=new XMLHttpRequest;return h.open("GET",f,!1),h.responseType="arraybuffer",h.send(null),new Uint8Array(h.response)}),q=f=>fetch(f,{credentials:"same-origin"}).then(h=>h.ok?h.arrayBuffer():Promise.reject(new Error(h.status+" : "+h.url))));var A=n.print||console.log.bind(console),D=n.printErr||console.error.bind(console);Object.assign(n,y),y=null,n.arguments&&n.arguments,n.thisProgram&&(w=n.thisProgram);var F=n.wasmBinary,$,H=!1,G,B,Z,ie,V,ne;function M(){var f=$.buffer;n.HEAP8=G=new Int8Array(f),n.HEAP16=Z=new Int16Array(f),n.HEAPU8=B=new Uint8Array(f),n.HEAPU16=new Uint16Array(f),n.HEAP32=ie=new Int32Array(f),n.HEAPU32=V=new Uint32Array(f),n.HEAPF32=new Float32Array(f),n.HEAPF64=new Float64Array(f),n.HEAP64=ne=new BigInt64Array(f),n.HEAPU64=new BigUint64Array(f)}if(n.wasmMemory)$=n.wasmMemory;else{var oe=n.INITIAL_MEMORY||0x1000000;$=new WebAssembly.Memory({initial:oe/65536,maximum:32768})}M();var Y=[],me=[],Te=[];function Ce(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)ge(n.preRun.shift());le(Y)}function je(){!n.noFSInit&&!O.initialized&&O.init(),O.ignorePermissions=!1,le(me)}function be(){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)Q(n.postRun.shift());le(Te)}function ge(f){Y.unshift(f)}function Ee(f){me.unshift(f)}function Q(f){Te.unshift(f)}var Se=0,ut=null;function lt(f){return f}function ft(f){Se++,n.monitorRunDependencies?.(Se)}function gt(f){if(Se--,n.monitorRunDependencies?.(Se),Se==0&&ut){var h=ut;ut=null,h()}}function ht(f){n.onAbort?.(f),f="Aborted("+f+")",D(f),H=!0,f+=". Build with -sASSERTIONS for more info.";var h=new WebAssembly.RuntimeError(f);throw o(h),h}var vt="data:application/octet-stream;base64,",jt=f=>f.startsWith(vt);function bt(){if(n.locateFile){var f="sqlite3.wasm";return jt(f)?f:k(f)}return new URL("/assets/sqlite3-CgX3seBP.wasm",import.meta.url).href}var yt;function Ot(f){if(f==yt&&F)return new Uint8Array(F);if(C)return C(f);throw"both async and sync fetching of the wasm failed"}function Ct(f){return F?Promise.resolve().then(()=>Ot(f)):q(f).then(h=>new Uint8Array(h),()=>Ot(f))}function tr(f,h,b){return Ct(f).then(_=>WebAssembly.instantiate(_,h)).then(b,_=>{D(`failed to asynchronously prepare wasm: ${_}`),ht(_)})}function Yt(f,h,b,_){return!f&&typeof WebAssembly.instantiateStreaming=="function"&&!jt(h)&&typeof fetch=="function"?fetch(h,{credentials:"same-origin"}).then(S=>{var I=WebAssembly.instantiateStreaming(S,b);return I.then(_,function(X){return D(`wasm streaming compile failed: ${X}`),D("falling back to ArrayBuffer instantiation"),tr(h,b,_)})}):tr(h,b,_)}function sr(){return{env:ad,wasi_snapshot_preview1:ad}}function mr(){var f=sr();function h(_,S){return te=_.exports,Ee(te.__wasm_call_ctors),gt(),te}ft();function b(_){h(_.instance)}if(n.instantiateWasm)try{return n.instantiateWasm(f,h)}catch(_){D(`Module.instantiateWasm callback failed with error: ${_}`),o(_)}return yt||(yt=bt()),Yt(F,yt,f,b).catch(o),{}}var le=f=>{for(;f.length>0;)f.shift()(n)};n.noExitRuntime;var ce={isAbs:f=>f.charAt(0)==="/",splitPath:f=>{var h=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return h.exec(f).slice(1)},normalizeArray:(f,h)=>{for(var b=0,_=f.length-1;_>=0;_--){var S=f[_];S==="."?f.splice(_,1):S===".."?(f.splice(_,1),b++):b&&(f.splice(_,1),b--)}if(h)for(;b;b--)f.unshift("..");return f},normalize:f=>{var h=ce.isAbs(f),b=f.substr(-1)==="/";return f=ce.normalizeArray(f.split("/").filter(_=>!!_),!h).join("/"),!f&&!h&&(f="."),f&&b&&(f+="/"),(h?"/":"")+f},dirname:f=>{var h=ce.splitPath(f),b=h[0],_=h[1];return!b&&!_?".":(_&&(_=_.substr(0,_.length-1)),b+_)},basename:f=>{if(f==="/")return"/";f=ce.normalize(f),f=f.replace(/\/$/,"");var h=f.lastIndexOf("/");return h===-1?f:f.substr(h+1)},join:(...f)=>ce.normalize(f.join("/")),join2:(f,h)=>ce.normalize(f+"/"+h)},ye=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return f=>crypto.getRandomValues(f);ht("initRandomDevice")},Oe=f=>(Oe=ye())(f),De={resolve:(...f)=>{for(var h="",b=!1,_=f.length-1;_>=-1&&!b;_--){var S=_>=0?f[_]:O.cwd();if(typeof S!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!S)return"";h=S+"/"+h,b=ce.isAbs(S)}return h=ce.normalizeArray(h.split("/").filter(I=>!!I),!b).join("/"),(b?"/":"")+h||"."},relative:(f,h)=>{f=De.resolve(f).substr(1),h=De.resolve(h).substr(1);function b(Ve){for(var Ze=0;Ze<Ve.length&&Ve[Ze]==="";Ze++);for(var nt=Ve.length-1;nt>=0&&Ve[nt]==="";nt--);return Ze>nt?[]:Ve.slice(Ze,nt-Ze+1)}for(var _=b(f.split("/")),S=b(h.split("/")),I=Math.min(_.length,S.length),X=I,re=0;re<I;re++)if(_[re]!==S[re]){X=re;break}for(var Le=[],re=X;re<_.length;re++)Le.push("..");return Le=Le.concat(S.slice(X)),Le.join("/")}},Je=typeof TextDecoder<"u"?new TextDecoder:void 0,_t=(f,h,b)=>{for(var _=h+b,S=h;f[S]&&!(S>=_);)++S;if(S-h>16&&f.buffer&&Je)return Je.decode(f.subarray(h,S));for(var I="";h<S;){var X=f[h++];if(!(X&128)){I+=String.fromCharCode(X);continue}var re=f[h++]&63;if((X&224)==192){I+=String.fromCharCode((X&31)<<6|re);continue}var Le=f[h++]&63;if((X&240)==224?X=(X&15)<<12|re<<6|Le:X=(X&7)<<18|re<<12|Le<<6|f[h++]&63,X<65536)I+=String.fromCharCode(X);else{var Ve=X-65536;I+=String.fromCharCode(55296|Ve>>10,56320|Ve&1023)}}return I},$t=[],Sr=f=>{for(var h=0,b=0;b<f.length;++b){var _=f.charCodeAt(b);_<=127?h++:_<=2047?h+=2:_>=55296&&_<=57343?(h+=4,++b):h+=3}return h},gr=(f,h,b,_)=>{if(!(_>0))return 0;for(var S=b,I=b+_-1,X=0;X<f.length;++X){var re=f.charCodeAt(X);if(re>=55296&&re<=57343){var Le=f.charCodeAt(++X);re=65536+((re&1023)<<10)|Le&1023}if(re<=127){if(b>=I)break;h[b++]=re}else if(re<=2047){if(b+1>=I)break;h[b++]=192|re>>6,h[b++]=128|re&63}else if(re<=65535){if(b+2>=I)break;h[b++]=224|re>>12,h[b++]=128|re>>6&63,h[b++]=128|re&63}else{if(b+3>=I)break;h[b++]=240|re>>18,h[b++]=128|re>>12&63,h[b++]=128|re>>6&63,h[b++]=128|re&63}}return h[b]=0,b-S};function Ur(f,h,b){var _=Sr(f)+1,S=new Array(_),I=gr(f,S,0,S.length);return S.length=I,S}var di=()=>{if(!$t.length){var f=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(f=window.prompt("Input: "),f!==null&&(f+=`
`)),!f)return null;$t=Ur(f)}return $t.shift()},hn={ttys:[],init(){},shutdown(){},register(f,h){hn.ttys[f]={input:[],output:[],ops:h},O.registerDevice(f,hn.stream_ops)},stream_ops:{open(f){var h=hn.ttys[f.node.rdev];if(!h)throw new O.ErrnoError(43);f.tty=h,f.seekable=!1},close(f){f.tty.ops.fsync(f.tty)},fsync(f){f.tty.ops.fsync(f.tty)},read(f,h,b,_,S){if(!f.tty||!f.tty.ops.get_char)throw new O.ErrnoError(60);for(var I=0,X=0;X<_;X++){var re;try{re=f.tty.ops.get_char(f.tty)}catch{throw new O.ErrnoError(29)}if(re===void 0&&I===0)throw new O.ErrnoError(6);if(re==null)break;I++,h[b+X]=re}return I&&(f.node.timestamp=Date.now()),I},write(f,h,b,_,S){if(!f.tty||!f.tty.ops.put_char)throw new O.ErrnoError(60);try{for(var I=0;I<_;I++)f.tty.ops.put_char(f.tty,h[b+I])}catch{throw new O.ErrnoError(29)}return _&&(f.node.timestamp=Date.now()),I}},default_tty_ops:{get_char(f){return di()},put_char(f,h){h===null||h===10?(A(_t(f.output,0)),f.output=[]):h!=0&&f.output.push(h)},fsync(f){f.output&&f.output.length>0&&(A(_t(f.output,0)),f.output=[])},ioctl_tcgets(f){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(f,h,b){return 0},ioctl_tiocgwinsz(f){return[24,80]}},default_tty1_ops:{put_char(f,h){h===null||h===10?(D(_t(f.output,0)),f.output=[]):h!=0&&f.output.push(h)},fsync(f){f.output&&f.output.length>0&&(D(_t(f.output,0)),f.output=[])}}},qi=(f,h)=>(B.fill(0,f,f+h),f),Do=(f,h)=>Math.ceil(f/h)*h,zn=f=>{f=Do(f,65536);var h=ld(65536,f);return h?qi(h,f):0},Ht={ops_table:null,mount(f){return Ht.createNode(null,"/",16895,0)},createNode(f,h,b,_){if(O.isBlkdev(b)||O.isFIFO(b))throw new O.ErrnoError(63);Ht.ops_table||={dir:{node:{getattr:Ht.node_ops.getattr,setattr:Ht.node_ops.setattr,lookup:Ht.node_ops.lookup,mknod:Ht.node_ops.mknod,rename:Ht.node_ops.rename,unlink:Ht.node_ops.unlink,rmdir:Ht.node_ops.rmdir,readdir:Ht.node_ops.readdir,symlink:Ht.node_ops.symlink},stream:{llseek:Ht.stream_ops.llseek}},file:{node:{getattr:Ht.node_ops.getattr,setattr:Ht.node_ops.setattr},stream:{llseek:Ht.stream_ops.llseek,read:Ht.stream_ops.read,write:Ht.stream_ops.write,allocate:Ht.stream_ops.allocate,mmap:Ht.stream_ops.mmap,msync:Ht.stream_ops.msync}},link:{node:{getattr:Ht.node_ops.getattr,setattr:Ht.node_ops.setattr,readlink:Ht.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Ht.node_ops.getattr,setattr:Ht.node_ops.setattr},stream:O.chrdev_stream_ops}};var S=O.createNode(f,h,b,_);return O.isDir(S.mode)?(S.node_ops=Ht.ops_table.dir.node,S.stream_ops=Ht.ops_table.dir.stream,S.contents={}):O.isFile(S.mode)?(S.node_ops=Ht.ops_table.file.node,S.stream_ops=Ht.ops_table.file.stream,S.usedBytes=0,S.contents=null):O.isLink(S.mode)?(S.node_ops=Ht.ops_table.link.node,S.stream_ops=Ht.ops_table.link.stream):O.isChrdev(S.mode)&&(S.node_ops=Ht.ops_table.chrdev.node,S.stream_ops=Ht.ops_table.chrdev.stream),S.timestamp=Date.now(),f&&(f.contents[h]=S,f.timestamp=S.timestamp),S},getFileDataAsTypedArray(f){return f.contents?f.contents.subarray?f.contents.subarray(0,f.usedBytes):new Uint8Array(f.contents):new Uint8Array(0)},expandFileStorage(f,h){var b=f.contents?f.contents.length:0;if(!(b>=h)){var _=1024*1024;h=Math.max(h,b*(b<_?2:1.125)>>>0),b!=0&&(h=Math.max(h,256));var S=f.contents;f.contents=new Uint8Array(h),f.usedBytes>0&&f.contents.set(S.subarray(0,f.usedBytes),0)}},resizeFileStorage(f,h){if(f.usedBytes!=h)if(h==0)f.contents=null,f.usedBytes=0;else{var b=f.contents;f.contents=new Uint8Array(h),b&&f.contents.set(b.subarray(0,Math.min(h,f.usedBytes))),f.usedBytes=h}},node_ops:{getattr(f){var h={};return h.dev=O.isChrdev(f.mode)?f.id:1,h.ino=f.id,h.mode=f.mode,h.nlink=1,h.uid=0,h.gid=0,h.rdev=f.rdev,O.isDir(f.mode)?h.size=4096:O.isFile(f.mode)?h.size=f.usedBytes:O.isLink(f.mode)?h.size=f.link.length:h.size=0,h.atime=new Date(f.timestamp),h.mtime=new Date(f.timestamp),h.ctime=new Date(f.timestamp),h.blksize=4096,h.blocks=Math.ceil(h.size/h.blksize),h},setattr(f,h){h.mode!==void 0&&(f.mode=h.mode),h.timestamp!==void 0&&(f.timestamp=h.timestamp),h.size!==void 0&&Ht.resizeFileStorage(f,h.size)},lookup(f,h){throw O.genericErrors[44]},mknod(f,h,b,_){return Ht.createNode(f,h,b,_)},rename(f,h,b){if(O.isDir(f.mode)){var _;try{_=O.lookupNode(h,b)}catch{}if(_)for(var S in _.contents)throw new O.ErrnoError(55)}delete f.parent.contents[f.name],f.parent.timestamp=Date.now(),f.name=b,h.contents[b]=f,h.timestamp=f.parent.timestamp},unlink(f,h){delete f.contents[h],f.timestamp=Date.now()},rmdir(f,h){var b=O.lookupNode(f,h);for(var _ in b.contents)throw new O.ErrnoError(55);delete f.contents[h],f.timestamp=Date.now()},readdir(f){var h=[".",".."];for(var b of Object.keys(f.contents))h.push(b);return h},symlink(f,h,b){var _=Ht.createNode(f,h,41471,0);return _.link=b,_},readlink(f){if(!O.isLink(f.mode))throw new O.ErrnoError(28);return f.link}},stream_ops:{read(f,h,b,_,S){var I=f.node.contents;if(S>=f.node.usedBytes)return 0;var X=Math.min(f.node.usedBytes-S,_);if(X>8&&I.subarray)h.set(I.subarray(S,S+X),b);else for(var re=0;re<X;re++)h[b+re]=I[S+re];return X},write(f,h,b,_,S,I){if(h.buffer===G.buffer&&(I=!1),!_)return 0;var X=f.node;if(X.timestamp=Date.now(),h.subarray&&(!X.contents||X.contents.subarray)){if(I)return X.contents=h.subarray(b,b+_),X.usedBytes=_,_;if(X.usedBytes===0&&S===0)return X.contents=h.slice(b,b+_),X.usedBytes=_,_;if(S+_<=X.usedBytes)return X.contents.set(h.subarray(b,b+_),S),_}if(Ht.expandFileStorage(X,S+_),X.contents.subarray&&h.subarray)X.contents.set(h.subarray(b,b+_),S);else for(var re=0;re<_;re++)X.contents[S+re]=h[b+re];return X.usedBytes=Math.max(X.usedBytes,S+_),_},llseek(f,h,b){var _=h;if(b===1?_+=f.position:b===2&&O.isFile(f.node.mode)&&(_+=f.node.usedBytes),_<0)throw new O.ErrnoError(28);return _},allocate(f,h,b){Ht.expandFileStorage(f.node,h+b),f.node.usedBytes=Math.max(f.node.usedBytes,h+b)},mmap(f,h,b,_,S){if(!O.isFile(f.node.mode))throw new O.ErrnoError(43);var I,X,re=f.node.contents;if(!(S&2)&&re&&re.buffer===G.buffer)X=!1,I=re.byteOffset;else{if(X=!0,I=zn(h),!I)throw new O.ErrnoError(48);re&&((b>0||b+h<re.length)&&(re.subarray?re=re.subarray(b,b+h):re=Array.prototype.slice.call(re,b,b+h)),G.set(re,I))}return{ptr:I,allocated:X}},msync(f,h,b,_,S){return Ht.stream_ops.write(f,h,0,_,b,!1),0}}},pa=(f,h,b,_)=>{var S=`al ${f}`;q(f).then(I=>{h(new Uint8Array(I)),S&&gt()},I=>{if(b)b();else throw`Loading data file "${f}" failed.`}),S&&ft()},ma=(f,h,b,_,S,I)=>{O.createDataFile(f,h,b,_,S,I)},ga=n.preloadPlugins||[],Zc=(f,h,b,_)=>{typeof Browser<"u"&&Browser.init();var S=!1;return ga.forEach(I=>{S||I.canHandle(h)&&(I.handle(f,h,b,_),S=!0)}),S},Yc=(f,h,b,_,S,I,X,re,Le,Ve)=>{var Ze=h?De.resolve(ce.join2(f,h)):f;function nt(Ae){function xe(Ue){Ve?.(),re||ma(f,h,Ue,_,S,Le),I?.(),gt()}Zc(Ae,Ze,xe,()=>{X?.(),gt()})||xe(Ae)}ft(),typeof b=="string"?pa(b,nt,X):nt(b)},Xc=f=>{var h={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},b=h[f];if(typeof b>"u")throw new Error(`Unknown file open mode: ${f}`);return b},ao=(f,h)=>{var b=0;return f&&(b|=365),h&&(b|=146),b},O={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:class{constructor(f){this.name="ErrnoError",this.errno=f}},genericErrors:{},filesystems:null,syncFSRequests:0,FSStream:class{constructor(){this.shared={}}get object(){return this.node}set object(f){this.node=f}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(f){this.shared.flags=f}get position(){return this.shared.position}set position(f){this.shared.position=f}},FSNode:class{constructor(f,h,b,_){f||(f=this),this.parent=f,this.mount=f.mount,this.mounted=null,this.id=O.nextInode++,this.name=h,this.mode=b,this.node_ops={},this.stream_ops={},this.rdev=_,this.readMode=365,this.writeMode=146}get read(){return(this.mode&this.readMode)===this.readMode}set read(f){f?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(f){f?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return O.isDir(this.mode)}get isDevice(){return O.isChrdev(this.mode)}},lookupPath(f,h={}){if(f=De.resolve(f),!f)return{path:"",node:null};var b={follow_mount:!0,recurse_count:0};if(h=Object.assign(b,h),h.recurse_count>8)throw new O.ErrnoError(32);for(var _=f.split("/").filter(nt=>!!nt),S=O.root,I="/",X=0;X<_.length;X++){var re=X===_.length-1;if(re&&h.parent)break;if(S=O.lookupNode(S,_[X]),I=ce.join2(I,_[X]),O.isMountpoint(S)&&(!re||re&&h.follow_mount)&&(S=S.mounted.root),!re||h.follow)for(var Le=0;O.isLink(S.mode);){var Ve=O.readlink(I);I=De.resolve(ce.dirname(I),Ve);var Ze=O.lookupPath(I,{recurse_count:h.recurse_count+1});if(S=Ze.node,Le++>40)throw new O.ErrnoError(32)}}return{path:I,node:S}},getPath(f){for(var h;;){if(O.isRoot(f)){var b=f.mount.mountpoint;return h?b[b.length-1]!=="/"?`${b}/${h}`:b+h:b}h=h?`${f.name}/${h}`:f.name,f=f.parent}},hashName(f,h){for(var b=0,_=0;_<h.length;_++)b=(b<<5)-b+h.charCodeAt(_)|0;return(f+b>>>0)%O.nameTable.length},hashAddNode(f){var h=O.hashName(f.parent.id,f.name);f.name_next=O.nameTable[h],O.nameTable[h]=f},hashRemoveNode(f){var h=O.hashName(f.parent.id,f.name);if(O.nameTable[h]===f)O.nameTable[h]=f.name_next;else for(var b=O.nameTable[h];b;){if(b.name_next===f){b.name_next=f.name_next;break}b=b.name_next}},lookupNode(f,h){var b=O.mayLookup(f);if(b)throw new O.ErrnoError(b);for(var _=O.hashName(f.id,h),S=O.nameTable[_];S;S=S.name_next){var I=S.name;if(S.parent.id===f.id&&I===h)return S}return O.lookup(f,h)},createNode(f,h,b,_){var S=new O.FSNode(f,h,b,_);return O.hashAddNode(S),S},destroyNode(f){O.hashRemoveNode(f)},isRoot(f){return f===f.parent},isMountpoint(f){return!!f.mounted},isFile(f){return(f&61440)===32768},isDir(f){return(f&61440)===16384},isLink(f){return(f&61440)===40960},isChrdev(f){return(f&61440)===8192},isBlkdev(f){return(f&61440)===24576},isFIFO(f){return(f&61440)===4096},isSocket(f){return(f&49152)===49152},flagsToPermissionString(f){var h=["r","w","rw"][f&3];return f&512&&(h+="w"),h},nodePermissions(f,h){return O.ignorePermissions?0:h.includes("r")&&!(f.mode&292)||h.includes("w")&&!(f.mode&146)||h.includes("x")&&!(f.mode&73)?2:0},mayLookup(f){if(!O.isDir(f.mode))return 54;var h=O.nodePermissions(f,"x");return h||(f.node_ops.lookup?0:2)},mayCreate(f,h){try{var b=O.lookupNode(f,h);return 20}catch{}return O.nodePermissions(f,"wx")},mayDelete(f,h,b){var _;try{_=O.lookupNode(f,h)}catch(I){return I.errno}var S=O.nodePermissions(f,"wx");if(S)return S;if(b){if(!O.isDir(_.mode))return 54;if(O.isRoot(_)||O.getPath(_)===O.cwd())return 10}else if(O.isDir(_.mode))return 31;return 0},mayOpen(f,h){return f?O.isLink(f.mode)?32:O.isDir(f.mode)&&(O.flagsToPermissionString(h)!=="r"||h&512)?31:O.nodePermissions(f,O.flagsToPermissionString(h)):44},MAX_OPEN_FDS:4096,nextfd(){for(var f=0;f<=O.MAX_OPEN_FDS;f++)if(!O.streams[f])return f;throw new O.ErrnoError(33)},getStreamChecked(f){var h=O.getStream(f);if(!h)throw new O.ErrnoError(8);return h},getStream:f=>O.streams[f],createStream(f,h=-1){return f=Object.assign(new O.FSStream,f),h==-1&&(h=O.nextfd()),f.fd=h,O.streams[h]=f,f},closeStream(f){O.streams[f]=null},dupStream(f,h=-1){var b=O.createStream(f,h);return b.stream_ops?.dup?.(b),b},chrdev_stream_ops:{open(f){var h=O.getDevice(f.node.rdev);f.stream_ops=h.stream_ops,f.stream_ops.open?.(f)},llseek(){throw new O.ErrnoError(70)}},major:f=>f>>8,minor:f=>f&255,makedev:(f,h)=>f<<8|h,registerDevice(f,h){O.devices[f]={stream_ops:h}},getDevice:f=>O.devices[f],getMounts(f){for(var h=[],b=[f];b.length;){var _=b.pop();h.push(_),b.push(..._.mounts)}return h},syncfs(f,h){typeof f=="function"&&(h=f,f=!1),O.syncFSRequests++,O.syncFSRequests>1&&D(`warning: ${O.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var b=O.getMounts(O.root.mount),_=0;function S(X){return O.syncFSRequests--,h(X)}function I(X){if(X)return I.errored?void 0:(I.errored=!0,S(X));++_>=b.length&&S(null)}b.forEach(X=>{if(!X.type.syncfs)return I(null);X.type.syncfs(X,f,I)})},mount(f,h,b){var _=b==="/",S=!b,I;if(_&&O.root)throw new O.ErrnoError(10);if(!_&&!S){var X=O.lookupPath(b,{follow_mount:!1});if(b=X.path,I=X.node,O.isMountpoint(I))throw new O.ErrnoError(10);if(!O.isDir(I.mode))throw new O.ErrnoError(54)}var re={type:f,opts:h,mountpoint:b,mounts:[]},Le=f.mount(re);return Le.mount=re,re.root=Le,_?O.root=Le:I&&(I.mounted=re,I.mount&&I.mount.mounts.push(re)),Le},unmount(f){var h=O.lookupPath(f,{follow_mount:!1});if(!O.isMountpoint(h.node))throw new O.ErrnoError(28);var b=h.node,_=b.mounted,S=O.getMounts(_);Object.keys(O.nameTable).forEach(X=>{for(var re=O.nameTable[X];re;){var Le=re.name_next;S.includes(re.mount)&&O.destroyNode(re),re=Le}}),b.mounted=null;var I=b.mount.mounts.indexOf(_);b.mount.mounts.splice(I,1)},lookup(f,h){return f.node_ops.lookup(f,h)},mknod(f,h,b){var _=O.lookupPath(f,{parent:!0}),S=_.node,I=ce.basename(f);if(!I||I==="."||I==="..")throw new O.ErrnoError(28);var X=O.mayCreate(S,I);if(X)throw new O.ErrnoError(X);if(!S.node_ops.mknod)throw new O.ErrnoError(63);return S.node_ops.mknod(S,I,h,b)},create(f,h){return h=h!==void 0?h:438,h&=4095,h|=32768,O.mknod(f,h,0)},mkdir(f,h){return h=h!==void 0?h:511,h&=1023,h|=16384,O.mknod(f,h,0)},mkdirTree(f,h){for(var b=f.split("/"),_="",S=0;S<b.length;++S)if(b[S]){_+="/"+b[S];try{O.mkdir(_,h)}catch(I){if(I.errno!=20)throw I}}},mkdev(f,h,b){return typeof b>"u"&&(b=h,h=438),h|=8192,O.mknod(f,h,b)},symlink(f,h){if(!De.resolve(f))throw new O.ErrnoError(44);var b=O.lookupPath(h,{parent:!0}),_=b.node;if(!_)throw new O.ErrnoError(44);var S=ce.basename(h),I=O.mayCreate(_,S);if(I)throw new O.ErrnoError(I);if(!_.node_ops.symlink)throw new O.ErrnoError(63);return _.node_ops.symlink(_,S,f)},rename(f,h){var b=ce.dirname(f),_=ce.dirname(h),S=ce.basename(f),I=ce.basename(h),X,re,Le;if(X=O.lookupPath(f,{parent:!0}),re=X.node,X=O.lookupPath(h,{parent:!0}),Le=X.node,!re||!Le)throw new O.ErrnoError(44);if(re.mount!==Le.mount)throw new O.ErrnoError(75);var Ve=O.lookupNode(re,S),Ze=De.relative(f,_);if(Ze.charAt(0)!==".")throw new O.ErrnoError(28);if(Ze=De.relative(h,b),Ze.charAt(0)!==".")throw new O.ErrnoError(55);var nt;try{nt=O.lookupNode(Le,I)}catch{}if(Ve!==nt){var Ae=O.isDir(Ve.mode),xe=O.mayDelete(re,S,Ae);if(xe)throw new O.ErrnoError(xe);if(xe=nt?O.mayDelete(Le,I,Ae):O.mayCreate(Le,I),xe)throw new O.ErrnoError(xe);if(!re.node_ops.rename)throw new O.ErrnoError(63);if(O.isMountpoint(Ve)||nt&&O.isMountpoint(nt))throw new O.ErrnoError(10);if(Le!==re&&(xe=O.nodePermissions(re,"w"),xe))throw new O.ErrnoError(xe);O.hashRemoveNode(Ve);try{re.node_ops.rename(Ve,Le,I),Ve.parent=Le}catch(Ue){throw Ue}finally{O.hashAddNode(Ve)}}},rmdir(f){var h=O.lookupPath(f,{parent:!0}),b=h.node,_=ce.basename(f),S=O.lookupNode(b,_),I=O.mayDelete(b,_,!0);if(I)throw new O.ErrnoError(I);if(!b.node_ops.rmdir)throw new O.ErrnoError(63);if(O.isMountpoint(S))throw new O.ErrnoError(10);b.node_ops.rmdir(b,_),O.destroyNode(S)},readdir(f){var h=O.lookupPath(f,{follow:!0}),b=h.node;if(!b.node_ops.readdir)throw new O.ErrnoError(54);return b.node_ops.readdir(b)},unlink(f){var h=O.lookupPath(f,{parent:!0}),b=h.node;if(!b)throw new O.ErrnoError(44);var _=ce.basename(f),S=O.lookupNode(b,_),I=O.mayDelete(b,_,!1);if(I)throw new O.ErrnoError(I);if(!b.node_ops.unlink)throw new O.ErrnoError(63);if(O.isMountpoint(S))throw new O.ErrnoError(10);b.node_ops.unlink(b,_),O.destroyNode(S)},readlink(f){var h=O.lookupPath(f),b=h.node;if(!b)throw new O.ErrnoError(44);if(!b.node_ops.readlink)throw new O.ErrnoError(28);return De.resolve(O.getPath(b.parent),b.node_ops.readlink(b))},stat(f,h){var b=O.lookupPath(f,{follow:!h}),_=b.node;if(!_)throw new O.ErrnoError(44);if(!_.node_ops.getattr)throw new O.ErrnoError(63);return _.node_ops.getattr(_)},lstat(f){return O.stat(f,!0)},chmod(f,h,b){var _;if(typeof f=="string"){var S=O.lookupPath(f,{follow:!b});_=S.node}else _=f;if(!_.node_ops.setattr)throw new O.ErrnoError(63);_.node_ops.setattr(_,{mode:h&4095|_.mode&-4096,timestamp:Date.now()})},lchmod(f,h){O.chmod(f,h,!0)},fchmod(f,h){var b=O.getStreamChecked(f);O.chmod(b.node,h)},chown(f,h,b,_){var S;if(typeof f=="string"){var I=O.lookupPath(f,{follow:!_});S=I.node}else S=f;if(!S.node_ops.setattr)throw new O.ErrnoError(63);S.node_ops.setattr(S,{timestamp:Date.now()})},lchown(f,h,b){O.chown(f,h,b,!0)},fchown(f,h,b){var _=O.getStreamChecked(f);O.chown(_.node,h,b)},truncate(f,h){if(h<0)throw new O.ErrnoError(28);var b;if(typeof f=="string"){var _=O.lookupPath(f,{follow:!0});b=_.node}else b=f;if(!b.node_ops.setattr)throw new O.ErrnoError(63);if(O.isDir(b.mode))throw new O.ErrnoError(31);if(!O.isFile(b.mode))throw new O.ErrnoError(28);var S=O.nodePermissions(b,"w");if(S)throw new O.ErrnoError(S);b.node_ops.setattr(b,{size:h,timestamp:Date.now()})},ftruncate(f,h){var b=O.getStreamChecked(f);if(!(b.flags&2097155))throw new O.ErrnoError(28);O.truncate(b.node,h)},utime(f,h,b){var _=O.lookupPath(f,{follow:!0}),S=_.node;S.node_ops.setattr(S,{timestamp:Math.max(h,b)})},open(f,h,b){if(f==="")throw new O.ErrnoError(44);h=typeof h=="string"?Xc(h):h,h&64?(b=typeof b>"u"?438:b,b=b&4095|32768):b=0;var _;if(typeof f=="object")_=f;else{f=ce.normalize(f);try{var S=O.lookupPath(f,{follow:!(h&131072)});_=S.node}catch{}}var I=!1;if(h&64)if(_){if(h&128)throw new O.ErrnoError(20)}else _=O.mknod(f,b,0),I=!0;if(!_)throw new O.ErrnoError(44);if(O.isChrdev(_.mode)&&(h&=-513),h&65536&&!O.isDir(_.mode))throw new O.ErrnoError(54);if(!I){var X=O.mayOpen(_,h);if(X)throw new O.ErrnoError(X)}h&512&&!I&&O.truncate(_,0),h&=-131713;var re=O.createStream({node:_,path:O.getPath(_),flags:h,seekable:!0,position:0,stream_ops:_.stream_ops,ungotten:[],error:!1});return re.stream_ops.open&&re.stream_ops.open(re),n.logReadFiles&&!(h&1)&&(O.readFiles||(O.readFiles={}),f in O.readFiles||(O.readFiles[f]=1)),re},close(f){if(O.isClosed(f))throw new O.ErrnoError(8);f.getdents&&(f.getdents=null);try{f.stream_ops.close&&f.stream_ops.close(f)}catch(h){throw h}finally{O.closeStream(f.fd)}f.fd=null},isClosed(f){return f.fd===null},llseek(f,h,b){if(O.isClosed(f))throw new O.ErrnoError(8);if(!f.seekable||!f.stream_ops.llseek)throw new O.ErrnoError(70);if(b!=0&&b!=1&&b!=2)throw new O.ErrnoError(28);return f.position=f.stream_ops.llseek(f,h,b),f.ungotten=[],f.position},read(f,h,b,_,S){if(_<0||S<0)throw new O.ErrnoError(28);if(O.isClosed(f))throw new O.ErrnoError(8);if((f.flags&2097155)===1)throw new O.ErrnoError(8);if(O.isDir(f.node.mode))throw new O.ErrnoError(31);if(!f.stream_ops.read)throw new O.ErrnoError(28);var I=typeof S<"u";if(!I)S=f.position;else if(!f.seekable)throw new O.ErrnoError(70);var X=f.stream_ops.read(f,h,b,_,S);return I||(f.position+=X),X},write(f,h,b,_,S,I){if(_<0||S<0)throw new O.ErrnoError(28);if(O.isClosed(f))throw new O.ErrnoError(8);if(!(f.flags&2097155))throw new O.ErrnoError(8);if(O.isDir(f.node.mode))throw new O.ErrnoError(31);if(!f.stream_ops.write)throw new O.ErrnoError(28);f.seekable&&f.flags&1024&&O.llseek(f,0,2);var X=typeof S<"u";if(!X)S=f.position;else if(!f.seekable)throw new O.ErrnoError(70);var re=f.stream_ops.write(f,h,b,_,S,I);return X||(f.position+=re),re},allocate(f,h,b){if(O.isClosed(f))throw new O.ErrnoError(8);if(h<0||b<=0)throw new O.ErrnoError(28);if(!(f.flags&2097155))throw new O.ErrnoError(8);if(!O.isFile(f.node.mode)&&!O.isDir(f.node.mode))throw new O.ErrnoError(43);if(!f.stream_ops.allocate)throw new O.ErrnoError(138);f.stream_ops.allocate(f,h,b)},mmap(f,h,b,_,S){if(_&2&&!(S&2)&&(f.flags&2097155)!==2)throw new O.ErrnoError(2);if((f.flags&2097155)===1)throw new O.ErrnoError(2);if(!f.stream_ops.mmap)throw new O.ErrnoError(43);if(!h)throw new O.ErrnoError(28);return f.stream_ops.mmap(f,h,b,_,S)},msync(f,h,b,_,S){return f.stream_ops.msync?f.stream_ops.msync(f,h,b,_,S):0},ioctl(f,h,b){if(!f.stream_ops.ioctl)throw new O.ErrnoError(59);return f.stream_ops.ioctl(f,h,b)},readFile(f,h={}){if(h.flags=h.flags||0,h.encoding=h.encoding||"binary",h.encoding!=="utf8"&&h.encoding!=="binary")throw new Error(`Invalid encoding type "${h.encoding}"`);var b,_=O.open(f,h.flags),S=O.stat(f),I=S.size,X=new Uint8Array(I);return O.read(_,X,0,I,0),h.encoding==="utf8"?b=_t(X,0):h.encoding==="binary"&&(b=X),O.close(_),b},writeFile(f,h,b={}){b.flags=b.flags||577;var _=O.open(f,b.flags,b.mode);if(typeof h=="string"){var S=new Uint8Array(Sr(h)+1),I=gr(h,S,0,S.length);O.write(_,S,0,I,void 0,b.canOwn)}else if(ArrayBuffer.isView(h))O.write(_,h,0,h.byteLength,void 0,b.canOwn);else throw new Error("Unsupported data type");O.close(_)},cwd:()=>O.currentPath,chdir(f){var h=O.lookupPath(f,{follow:!0});if(h.node===null)throw new O.ErrnoError(44);if(!O.isDir(h.node.mode))throw new O.ErrnoError(54);var b=O.nodePermissions(h.node,"x");if(b)throw new O.ErrnoError(b);O.currentPath=h.path},createDefaultDirectories(){O.mkdir("/tmp"),O.mkdir("/home"),O.mkdir("/home/web_user")},createDefaultDevices(){O.mkdir("/dev"),O.registerDevice(O.makedev(1,3),{read:()=>0,write:(_,S,I,X,re)=>X}),O.mkdev("/dev/null",O.makedev(1,3)),hn.register(O.makedev(5,0),hn.default_tty_ops),hn.register(O.makedev(6,0),hn.default_tty1_ops),O.mkdev("/dev/tty",O.makedev(5,0)),O.mkdev("/dev/tty1",O.makedev(6,0));var f=new Uint8Array(1024),h=0,b=()=>(h===0&&(h=Oe(f).byteLength),f[--h]);O.createDevice("/dev","random",b),O.createDevice("/dev","urandom",b),O.mkdir("/dev/shm"),O.mkdir("/dev/shm/tmp")},createSpecialDirectories(){O.mkdir("/proc");var f=O.mkdir("/proc/self");O.mkdir("/proc/self/fd"),O.mount({mount(){var h=O.createNode(f,"fd",16895,73);return h.node_ops={lookup(b,_){var S=+_,I=O.getStreamChecked(S),X={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>I.path}};return X.parent=X,X}},h}},{},"/proc/self/fd")},createStandardStreams(f,h,b){f?O.createDevice("/dev","stdin",f):O.symlink("/dev/tty","/dev/stdin"),h?O.createDevice("/dev","stdout",null,h):O.symlink("/dev/tty","/dev/stdout"),b?O.createDevice("/dev","stderr",null,b):O.symlink("/dev/tty1","/dev/stderr"),O.open("/dev/stdin",0),O.open("/dev/stdout",1),O.open("/dev/stderr",1)},staticInit(){[44].forEach(f=>{O.genericErrors[f]=new O.ErrnoError(f),O.genericErrors[f].stack="<generic error, no stack>"}),O.nameTable=new Array(4096),O.mount(Ht,{},"/"),O.createDefaultDirectories(),O.createDefaultDevices(),O.createSpecialDirectories(),O.filesystems={MEMFS:Ht}},init(f,h,b){O.initialized=!0,f??=n.stdin,h??=n.stdout,b??=n.stderr,O.createStandardStreams(f,h,b)},quit(){O.initialized=!1;for(var f=0;f<O.streams.length;f++){var h=O.streams[f];h&&O.close(h)}},findObject(f,h){var b=O.analyzePath(f,h);return b.exists?b.object:null},analyzePath(f,h){try{var b=O.lookupPath(f,{follow:!h});f=b.path}catch{}var _={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var b=O.lookupPath(f,{parent:!0});_.parentExists=!0,_.parentPath=b.path,_.parentObject=b.node,_.name=ce.basename(f),b=O.lookupPath(f,{follow:!h}),_.exists=!0,_.path=b.path,_.object=b.node,_.name=b.node.name,_.isRoot=b.path==="/"}catch(S){_.error=S.errno}return _},createPath(f,h,b,_){f=typeof f=="string"?f:O.getPath(f);for(var S=h.split("/").reverse();S.length;){var I=S.pop();if(I){var X=ce.join2(f,I);try{O.mkdir(X)}catch{}f=X}}return X},createFile(f,h,b,_,S){var I=ce.join2(typeof f=="string"?f:O.getPath(f),h),X=ao(_,S);return O.create(I,X)},createDataFile(f,h,b,_,S,I){var X=h;f&&(f=typeof f=="string"?f:O.getPath(f),X=h?ce.join2(f,h):f);var re=ao(_,S),Le=O.create(X,re);if(b){if(typeof b=="string"){for(var Ve=new Array(b.length),Ze=0,nt=b.length;Ze<nt;++Ze)Ve[Ze]=b.charCodeAt(Ze);b=Ve}O.chmod(Le,re|146);var Ae=O.open(Le,577);O.write(Ae,b,0,b.length,0,I),O.close(Ae),O.chmod(Le,re)}},createDevice(f,h,b,_){var S=ce.join2(typeof f=="string"?f:O.getPath(f),h),I=ao(!!b,!!_);O.createDevice.major||(O.createDevice.major=64);var X=O.makedev(O.createDevice.major++,0);return O.registerDevice(X,{open(re){re.seekable=!1},close(re){_?.buffer?.length&&_(10)},read(re,Le,Ve,Ze,nt){for(var Ae=0,xe=0;xe<Ze;xe++){var Ue;try{Ue=b()}catch{throw new O.ErrnoError(29)}if(Ue===void 0&&Ae===0)throw new O.ErrnoError(6);if(Ue==null)break;Ae++,Le[Ve+xe]=Ue}return Ae&&(re.node.timestamp=Date.now()),Ae},write(re,Le,Ve,Ze,nt){for(var Ae=0;Ae<Ze;Ae++)try{_(Le[Ve+Ae])}catch{throw new O.ErrnoError(29)}return Ze&&(re.node.timestamp=Date.now()),Ae}}),O.mkdev(S,I,X)},forceLoadFile(f){if(f.isDevice||f.isFolder||f.link||f.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{f.contents=C(f.url),f.usedBytes=f.contents.length}catch{throw new O.ErrnoError(29)}},createLazyFile(f,h,b,_,S){class I{constructor(){this.lengthKnown=!1,this.chunks=[]}get(xe){if(!(xe>this.length-1||xe<0)){var Ue=xe%this.chunkSize,ue=xe/this.chunkSize|0;return this.getter(ue)[Ue]}}setDataGetter(xe){this.getter=xe}cacheLength(){var xe=new XMLHttpRequest;if(xe.open("HEAD",b,!1),xe.send(null),!(xe.status>=200&&xe.status<300||xe.status===304))throw new Error("Couldn't load "+b+". Status: "+xe.status);var Ue=Number(xe.getResponseHeader("Content-length")),ue,pe=(ue=xe.getResponseHeader("Accept-Ranges"))&&ue==="bytes",_e=(ue=xe.getResponseHeader("Content-Encoding"))&&ue==="gzip",We=1024*1024;pe||(We=Ue);var $e=(Me,pt)=>{if(Me>pt)throw new Error("invalid range ("+Me+", "+pt+") or no bytes requested!");if(pt>Ue-1)throw new Error("only "+Ue+" bytes available! programmer error!");var j=new XMLHttpRequest;if(j.open("GET",b,!1),Ue!==We&&j.setRequestHeader("Range","bytes="+Me+"-"+pt),j.responseType="arraybuffer",j.overrideMimeType&&j.overrideMimeType("text/plain; charset=x-user-defined"),j.send(null),!(j.status>=200&&j.status<300||j.status===304))throw new Error("Couldn't load "+b+". Status: "+j.status);return j.response!==void 0?new Uint8Array(j.response||[]):Ur(j.responseText||"")},we=this;we.setDataGetter(Me=>{var pt=Me*We,j=(Me+1)*We-1;if(j=Math.min(j,Ue-1),typeof we.chunks[Me]>"u"&&(we.chunks[Me]=$e(pt,j)),typeof we.chunks[Me]>"u")throw new Error("doXHR failed!");return we.chunks[Me]}),(_e||!Ue)&&(We=Ue=1,Ue=this.getter(0).length,We=Ue,A("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Ue,this._chunkSize=We,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){if(!d)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var X=new I,re={isDevice:!1,contents:X}}else var re={isDevice:!1,url:b};var Le=O.createFile(f,h,re,_,S);re.contents?Le.contents=re.contents:re.url&&(Le.contents=null,Le.url=re.url),Object.defineProperties(Le,{usedBytes:{get:function(){return this.contents.length}}});var Ve={},Ze=Object.keys(Le.stream_ops);Ze.forEach(Ae=>{var xe=Le.stream_ops[Ae];Ve[Ae]=(...Ue)=>(O.forceLoadFile(Le),xe(...Ue))});function nt(Ae,xe,Ue,ue,pe){var _e=Ae.node.contents;if(pe>=_e.length)return 0;var We=Math.min(_e.length-pe,ue);if(_e.slice)for(var $e=0;$e<We;$e++)xe[Ue+$e]=_e[pe+$e];else for(var $e=0;$e<We;$e++)xe[Ue+$e]=_e.get(pe+$e);return We}return Ve.read=(Ae,xe,Ue,ue,pe)=>(O.forceLoadFile(Le),nt(Ae,xe,Ue,ue,pe)),Ve.mmap=(Ae,xe,Ue,ue,pe)=>{O.forceLoadFile(Le);var _e=zn(xe);if(!_e)throw new O.ErrnoError(48);return nt(Ae,G,_e,xe,Ue),{ptr:_e,allocated:!0}},Le.stream_ops=Ve,Le}},kh=(f,h)=>f?_t(B,f,h):"",nr={DEFAULT_POLLMASK:5,calculateAt(f,h,b){if(ce.isAbs(h))return h;var _;if(f===-100)_=O.cwd();else{var S=nr.getStreamFromFD(f);_=S.path}if(h.length==0){if(!b)throw new O.ErrnoError(44);return _}return ce.join2(_,h)},doStat(f,h,b){var _=f(h);ie[b>>2]=_.dev,ie[b+4>>2]=_.mode,V[b+8>>2]=_.nlink,ie[b+12>>2]=_.uid,ie[b+16>>2]=_.gid,ie[b+20>>2]=_.rdev,ne[b+24>>3]=BigInt(_.size),ie[b+32>>2]=4096,ie[b+36>>2]=_.blocks;var S=_.atime.getTime(),I=_.mtime.getTime(),X=_.ctime.getTime();return ne[b+40>>3]=BigInt(Math.floor(S/1e3)),V[b+48>>2]=S%1e3*1e3*1e3,ne[b+56>>3]=BigInt(Math.floor(I/1e3)),V[b+64>>2]=I%1e3*1e3*1e3,ne[b+72>>3]=BigInt(Math.floor(X/1e3)),V[b+80>>2]=X%1e3*1e3*1e3,ne[b+88>>3]=BigInt(_.ino),0},doMsync(f,h,b,_,S){if(!O.isFile(h.node.mode))throw new O.ErrnoError(43);if(_&2)return 0;var I=B.slice(f,f+b);O.msync(h,I,S,b,_)},getStreamFromFD(f){var h=O.getStreamChecked(f);return h},varargs:void 0,getStr(f){var h=kh(f);return h}};function Ih(f,h){try{return f=nr.getStr(f),O.chmod(f,h),0}catch(b){if(typeof O>"u"||b.name!=="ErrnoError")throw b;return-b.errno}}function qh(f,h,b,_){try{if(h=nr.getStr(h),h=nr.calculateAt(f,h),b&-8)return-28;var S=O.lookupPath(h,{follow:!0}),I=S.node;if(!I)return-44;var X="";return b&4&&(X+="r"),b&2&&(X+="w"),b&1&&(X+="x"),X&&O.nodePermissions(I,X)?-2:0}catch(re){if(typeof O>"u"||re.name!=="ErrnoError")throw re;return-re.errno}}function Ch(f,h){try{return O.fchmod(f,h),0}catch(b){if(typeof O>"u"||b.name!=="ErrnoError")throw b;return-b.errno}}function ed(f,h,b){try{return O.fchown(f,h,b),0}catch(_){if(typeof O>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function gl(){var f=ie[+nr.varargs>>2];return nr.varargs+=4,f}var fs=gl;function td(f,h,b){nr.varargs=b;try{var _=nr.getStreamFromFD(f);switch(h){case 0:{var S=gl();if(S<0)return-28;for(;O.streams[S];)S++;var I;return I=O.dupStream(_,S),I.fd}case 1:case 2:return 0;case 3:return _.flags;case 4:{var S=gl();return _.flags|=S,0}case 12:{var S=fs(),X=0;return Z[S+X>>1]=2,0}case 13:case 14:return 0}return-28}catch(re){if(typeof O>"u"||re.name!=="ErrnoError")throw re;return-re.errno}}function yl(f,h){try{var b=nr.getStreamFromFD(f);return nr.doStat(O.stat,b.path,h)}catch(_){if(typeof O>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}var by=0x20000000000000,vl=-0x20000000000000,lo=f=>f<vl||f>by?NaN:Number(f);function fu(f,h){h=lo(h);try{return isNaN(h)?61:(O.ftruncate(f,h),0)}catch(b){if(typeof O>"u"||b.name!=="ErrnoError")throw b;return-b.errno}}var uo=(f,h,b)=>gr(f,B,h,b);function _y(f,h){try{if(h===0)return-28;var b=O.cwd(),_=Sr(b)+1;return h<_?-68:(uo(b,f,h),_)}catch(S){if(typeof O>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}function wy(f,h,b){nr.varargs=b;try{var _=nr.getStreamFromFD(f);switch(h){case 21509:return _.tty?0:-59;case 21505:{if(!_.tty)return-59;if(_.tty.ops.ioctl_tcgets){var S=_.tty.ops.ioctl_tcgets(_),I=fs();ie[I>>2]=S.c_iflag||0,ie[I+4>>2]=S.c_oflag||0,ie[I+8>>2]=S.c_cflag||0,ie[I+12>>2]=S.c_lflag||0;for(var X=0;X<32;X++)G[I+X+17]=S.c_cc[X]||0;return 0}return 0}case 21510:case 21511:case 21512:return _.tty?0:-59;case 21506:case 21507:case 21508:{if(!_.tty)return-59;if(_.tty.ops.ioctl_tcsets){for(var I=fs(),re=ie[I>>2],Le=ie[I+4>>2],Ve=ie[I+8>>2],Ze=ie[I+12>>2],nt=[],X=0;X<32;X++)nt.push(G[I+X+17]);return _.tty.ops.ioctl_tcsets(_.tty,h,{c_iflag:re,c_oflag:Le,c_cflag:Ve,c_lflag:Ze,c_cc:nt})}return 0}case 21519:{if(!_.tty)return-59;var I=fs();return ie[I>>2]=0,0}case 21520:return _.tty?-28:-59;case 21531:{var I=fs();return O.ioctl(_,h,I)}case 21523:{if(!_.tty)return-59;if(_.tty.ops.ioctl_tiocgwinsz){var Ae=_.tty.ops.ioctl_tiocgwinsz(_.tty),I=fs();Z[I>>1]=Ae[0],Z[I+2>>1]=Ae[1]}return 0}case 21524:return _.tty?0:-59;case 21515:return _.tty?0:-59;default:return-28}}catch(xe){if(typeof O>"u"||xe.name!=="ErrnoError")throw xe;return-xe.errno}}function xy(f,h){try{return f=nr.getStr(f),nr.doStat(O.lstat,f,h)}catch(b){if(typeof O>"u"||b.name!=="ErrnoError")throw b;return-b.errno}}function Mo(f,h,b){try{return h=nr.getStr(h),h=nr.calculateAt(f,h),h=ce.normalize(h),h[h.length-1]==="/"&&(h=h.substr(0,h.length-1)),O.mkdir(h,b,0),0}catch(_){if(typeof O>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function Th(f,h,b,_){try{h=nr.getStr(h);var S=_&256,I=_&4096;return _=_&-6401,h=nr.calculateAt(f,h,I),nr.doStat(S?O.lstat:O.stat,h,b)}catch(X){if(typeof O>"u"||X.name!=="ErrnoError")throw X;return-X.errno}}function Oh(f,h,b,_){nr.varargs=_;try{h=nr.getStr(h),h=nr.calculateAt(f,h);var S=_?gl():0;return O.open(h,b,S).fd}catch(I){if(typeof O>"u"||I.name!=="ErrnoError")throw I;return-I.errno}}function Sy(f,h,b,_){try{if(h=nr.getStr(h),h=nr.calculateAt(f,h),_<=0)return-28;var S=O.readlink(h),I=Math.min(_,Sr(S)),X=G[b+I];return uo(S,b,_+1),G[b+I]=X,I}catch(re){if(typeof O>"u"||re.name!=="ErrnoError")throw re;return-re.errno}}function Rh(f){try{return f=nr.getStr(f),O.rmdir(f),0}catch(h){if(typeof O>"u"||h.name!=="ErrnoError")throw h;return-h.errno}}function Ah(f,h){try{return f=nr.getStr(f),nr.doStat(O.stat,f,h)}catch(b){if(typeof O>"u"||b.name!=="ErrnoError")throw b;return-b.errno}}function Ph(f,h,b){try{return h=nr.getStr(h),h=nr.calculateAt(f,h),b===0?O.unlink(h):b===512?O.rmdir(h):ht("Invalid flags passed to unlinkat"),0}catch(_){if(typeof O>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}var rd=f=>V[f>>2]+ie[f+4>>2]*0x100000000;function Ny(f,h,b,_){try{h=nr.getStr(h),h=nr.calculateAt(f,h,!0);var S=Date.now(),I,X;if(!b)I=S,X=S;else{var re=rd(b),Le=ie[b+8>>2];Le==0x3fffffff?I=S:Le==0x3ffffffe?I=-1:I=re*1e3+Le/(1e3*1e3),b+=16,re=rd(b),Le=ie[b+8>>2],Le==0x3fffffff?X=S:Le==0x3ffffffe?X=-1:X=re*1e3+Le/(1e3*1e3)}return(X!=-1||I!=-1)&&O.utime(h,I,X),0}catch(Ve){if(typeof O>"u"||Ve.name!=="ErrnoError")throw Ve;return-Ve.errno}}var Ey=1,on=()=>Ey,ky=f=>f%4===0&&(f%100!==0||f%400===0),nd=[0,31,60,91,121,152,182,213,244,274,305,335],jh=[0,31,59,90,120,151,181,212,243,273,304,334],hu=f=>{var h=ky(f.getFullYear()),b=h?nd:jh,_=b[f.getMonth()]+f.getDate()-1;return _};function Iy(f,h){f=lo(f);var b=new Date(f*1e3);ie[h>>2]=b.getSeconds(),ie[h+4>>2]=b.getMinutes(),ie[h+8>>2]=b.getHours(),ie[h+12>>2]=b.getDate(),ie[h+16>>2]=b.getMonth(),ie[h+20>>2]=b.getFullYear()-1900,ie[h+24>>2]=b.getDay();var _=hu(b)|0;ie[h+28>>2]=_,ie[h+36>>2]=-(b.getTimezoneOffset()*60);var S=new Date(b.getFullYear(),0,1),I=new Date(b.getFullYear(),6,1).getTimezoneOffset(),X=S.getTimezoneOffset(),re=(I!=X&&b.getTimezoneOffset()==Math.min(X,I))|0;ie[h+32>>2]=re}function Fh(f,h,b,_,S,I,X){S=lo(S);try{if(isNaN(S))return 61;var re=nr.getStreamFromFD(_),Le=O.mmap(re,f,S,h,b),Ve=Le.ptr;return ie[I>>2]=Le.allocated,V[X>>2]=Ve,0}catch(Ze){if(typeof O>"u"||Ze.name!=="ErrnoError")throw Ze;return-Ze.errno}}function pu(f,h,b,_,S,I){I=lo(I);try{var X=nr.getStreamFromFD(S);b&2&&nr.doMsync(f,X,h,_,I)}catch(re){if(typeof O>"u"||re.name!=="ErrnoError")throw re;return-re.errno}}var hs=(f,h,b,_)=>{var S=new Date().getFullYear(),I=new Date(S,0,1),X=new Date(S,6,1),re=I.getTimezoneOffset(),Le=X.getTimezoneOffset(),Ve=Math.max(re,Le);V[f>>2]=Ve*60,ie[h>>2]=+(re!=Le);var Ze=xe=>{var Ue=xe>=0?"-":"+",ue=Math.abs(xe),pe=String(Math.floor(ue/60)).padStart(2,"0"),_e=String(ue%60).padStart(2,"0");return`UTC${Ue}${pe}${_e}`},nt=Ze(re),Ae=Ze(Le);Le<re?(uo(nt,b,17),uo(Ae,_,17)):(uo(nt,_,17),uo(Ae,b,17))},qy=()=>Date.now(),Ci;Ci=()=>performance.now();var Cy=()=>0x80000000,Ty=f=>{var h=$.buffer,b=(f-h.byteLength+65535)/65536;try{return $.grow(b),M(),1}catch{}},Oy=f=>{var h=B.length;f>>>=0;var b=Cy();if(f>b)return!1;for(var _=1;_<=4;_*=2){var S=h*(1+.2/_);S=Math.min(S,f+0x6000000);var I=Math.min(b,Do(Math.max(f,S),65536)),X=Ty(I);if(X)return!0}return!1},ya={},mu=()=>w||"./this.program",Ps=()=>{if(!Ps.strings){var f=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",h={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:f,_:mu()};for(var b in ya)ya[b]===void 0?delete h[b]:h[b]=ya[b];var _=[];for(var b in h)_.push(`${b}=${h[b]}`);Ps.strings=_}return Ps.strings},gu=(f,h)=>{for(var b=0;b<f.length;++b)G[h++]=f.charCodeAt(b);G[h]=0},Ry=(f,h)=>{var b=0;return Ps().forEach((_,S)=>{var I=h+b;V[f+S*4>>2]=I,gu(_,I),b+=_.length+1}),0},Ay=(f,h)=>{var b=Ps();V[f>>2]=b.length;var _=0;return b.forEach(S=>_+=S.length+1),V[h>>2]=_,0};function id(f){try{var h=nr.getStreamFromFD(f);return O.close(h),0}catch(b){if(typeof O>"u"||b.name!=="ErrnoError")throw b;return b.errno}}function Lh(f,h){try{var b=0,_=0,S=0,I=nr.getStreamFromFD(f),X=I.tty?2:O.isDir(I.mode)?3:O.isLink(I.mode)?7:4;return G[h]=X,Z[h+2>>1]=S,ne[h+8>>3]=BigInt(b),ne[h+16>>3]=BigInt(_),0}catch(re){if(typeof O>"u"||re.name!=="ErrnoError")throw re;return re.errno}}var sd=(f,h,b,_)=>{for(var S=0,I=0;I<b;I++){var X=V[h>>2],re=V[h+4>>2];h+=8;var Le=O.read(f,G,X,re,_);if(Le<0)return-1;if(S+=Le,Le<re)break}return S};function bl(f,h,b,_){try{var S=nr.getStreamFromFD(f),I=sd(S,h,b);return V[_>>2]=I,0}catch(X){if(typeof O>"u"||X.name!=="ErrnoError")throw X;return X.errno}}function Py(f,h,b,_){h=lo(h);try{if(isNaN(h))return 61;var S=nr.getStreamFromFD(f);return O.llseek(S,h,b),ne[_>>3]=BigInt(S.position),S.getdents&&h===0&&b===0&&(S.getdents=null),0}catch(I){if(typeof O>"u"||I.name!=="ErrnoError")throw I;return I.errno}}function od(f){try{var h=nr.getStreamFromFD(f);return h.stream_ops?.fsync?h.stream_ops.fsync(h):0}catch(b){if(typeof O>"u"||b.name!=="ErrnoError")throw b;return b.errno}}var Nr=(f,h,b,_)=>{for(var S=0,I=0;I<b;I++){var X=V[h>>2],re=V[h+4>>2];h+=8;var Le=O.write(f,G,X,re,_);if(Le<0)return-1;if(S+=Le,Le<re)break}return S};function Dh(f,h,b,_){try{var S=nr.getStreamFromFD(f),I=Nr(S,h,b);return V[_>>2]=I,0}catch(X){if(typeof O>"u"||X.name!=="ErrnoError")throw X;return X.errno}}O.createPreloadedFile=Yc,O.staticInit();var ad={__syscall_chmod:Ih,__syscall_faccessat:qh,__syscall_fchmod:Ch,__syscall_fchown32:ed,__syscall_fcntl64:td,__syscall_fstat64:yl,__syscall_ftruncate64:fu,__syscall_getcwd:_y,__syscall_ioctl:wy,__syscall_lstat64:xy,__syscall_mkdirat:Mo,__syscall_newfstatat:Th,__syscall_openat:Oh,__syscall_readlinkat:Sy,__syscall_rmdir:Rh,__syscall_stat64:Ah,__syscall_unlinkat:Ph,__syscall_utimensat:Ny,_emscripten_get_now_is_monotonic:on,_localtime_js:Iy,_mmap_js:Fh,_munmap_js:pu,_tzset_js:hs,emscripten_date_now:qy,emscripten_get_now:Ci,emscripten_resize_heap:Oy,environ_get:Ry,environ_sizes_get:Ay,fd_close:id,fd_fdstat_get:Lh,fd_read:bl,fd_seek:Py,fd_sync:od,fd_write:Dh,memory:$},te=mr();n._sqlite3_status64=(f,h,b,_)=>(n._sqlite3_status64=te.sqlite3_status64)(f,h,b,_),n._sqlite3_status=(f,h,b,_)=>(n._sqlite3_status=te.sqlite3_status)(f,h,b,_),n._sqlite3_db_status=(f,h,b,_,S)=>(n._sqlite3_db_status=te.sqlite3_db_status)(f,h,b,_,S),n._sqlite3_msize=f=>(n._sqlite3_msize=te.sqlite3_msize)(f),n._sqlite3_vfs_find=f=>(n._sqlite3_vfs_find=te.sqlite3_vfs_find)(f),n._sqlite3_initialize=()=>(n._sqlite3_initialize=te.sqlite3_initialize)(),n._sqlite3_malloc=f=>(n._sqlite3_malloc=te.sqlite3_malloc)(f),n._sqlite3_free=f=>(n._sqlite3_free=te.sqlite3_free)(f),n._sqlite3_vfs_register=(f,h)=>(n._sqlite3_vfs_register=te.sqlite3_vfs_register)(f,h),n._sqlite3_vfs_unregister=f=>(n._sqlite3_vfs_unregister=te.sqlite3_vfs_unregister)(f),n._sqlite3_malloc64=f=>(n._sqlite3_malloc64=te.sqlite3_malloc64)(f),n._sqlite3_realloc=(f,h)=>(n._sqlite3_realloc=te.sqlite3_realloc)(f,h),n._sqlite3_realloc64=(f,h)=>(n._sqlite3_realloc64=te.sqlite3_realloc64)(f,h),n._sqlite3_value_text=f=>(n._sqlite3_value_text=te.sqlite3_value_text)(f),n._sqlite3_randomness=(f,h)=>(n._sqlite3_randomness=te.sqlite3_randomness)(f,h),n._sqlite3_stricmp=(f,h)=>(n._sqlite3_stricmp=te.sqlite3_stricmp)(f,h),n._sqlite3_strnicmp=(f,h,b)=>(n._sqlite3_strnicmp=te.sqlite3_strnicmp)(f,h,b),n._sqlite3_uri_parameter=(f,h)=>(n._sqlite3_uri_parameter=te.sqlite3_uri_parameter)(f,h),n._sqlite3_uri_boolean=(f,h,b)=>(n._sqlite3_uri_boolean=te.sqlite3_uri_boolean)(f,h,b),n._sqlite3_serialize=(f,h,b,_)=>(n._sqlite3_serialize=te.sqlite3_serialize)(f,h,b,_),n._sqlite3_prepare_v2=(f,h,b,_,S)=>(n._sqlite3_prepare_v2=te.sqlite3_prepare_v2)(f,h,b,_,S),n._sqlite3_step=f=>(n._sqlite3_step=te.sqlite3_step)(f),n._sqlite3_column_int64=(f,h)=>(n._sqlite3_column_int64=te.sqlite3_column_int64)(f,h),n._sqlite3_reset=f=>(n._sqlite3_reset=te.sqlite3_reset)(f),n._sqlite3_exec=(f,h,b,_,S)=>(n._sqlite3_exec=te.sqlite3_exec)(f,h,b,_,S),n._sqlite3_column_int=(f,h)=>(n._sqlite3_column_int=te.sqlite3_column_int)(f,h),n._sqlite3_finalize=f=>(n._sqlite3_finalize=te.sqlite3_finalize)(f),n._sqlite3_file_control=(f,h,b,_)=>(n._sqlite3_file_control=te.sqlite3_file_control)(f,h,b,_),n._sqlite3_column_name=(f,h)=>(n._sqlite3_column_name=te.sqlite3_column_name)(f,h),n._sqlite3_column_text=(f,h)=>(n._sqlite3_column_text=te.sqlite3_column_text)(f,h),n._sqlite3_column_type=(f,h)=>(n._sqlite3_column_type=te.sqlite3_column_type)(f,h),n._sqlite3_errmsg=f=>(n._sqlite3_errmsg=te.sqlite3_errmsg)(f),n._sqlite3_deserialize=(f,h,b,_,S,I)=>(n._sqlite3_deserialize=te.sqlite3_deserialize)(f,h,b,_,S,I),n._sqlite3_clear_bindings=f=>(n._sqlite3_clear_bindings=te.sqlite3_clear_bindings)(f),n._sqlite3_value_blob=f=>(n._sqlite3_value_blob=te.sqlite3_value_blob)(f),n._sqlite3_value_bytes=f=>(n._sqlite3_value_bytes=te.sqlite3_value_bytes)(f),n._sqlite3_value_double=f=>(n._sqlite3_value_double=te.sqlite3_value_double)(f),n._sqlite3_value_int=f=>(n._sqlite3_value_int=te.sqlite3_value_int)(f),n._sqlite3_value_int64=f=>(n._sqlite3_value_int64=te.sqlite3_value_int64)(f),n._sqlite3_value_subtype=f=>(n._sqlite3_value_subtype=te.sqlite3_value_subtype)(f),n._sqlite3_value_pointer=(f,h)=>(n._sqlite3_value_pointer=te.sqlite3_value_pointer)(f,h),n._sqlite3_value_type=f=>(n._sqlite3_value_type=te.sqlite3_value_type)(f),n._sqlite3_value_nochange=f=>(n._sqlite3_value_nochange=te.sqlite3_value_nochange)(f),n._sqlite3_value_frombind=f=>(n._sqlite3_value_frombind=te.sqlite3_value_frombind)(f),n._sqlite3_value_dup=f=>(n._sqlite3_value_dup=te.sqlite3_value_dup)(f),n._sqlite3_value_free=f=>(n._sqlite3_value_free=te.sqlite3_value_free)(f),n._sqlite3_result_blob=(f,h,b,_)=>(n._sqlite3_result_blob=te.sqlite3_result_blob)(f,h,b,_),n._sqlite3_result_error_toobig=f=>(n._sqlite3_result_error_toobig=te.sqlite3_result_error_toobig)(f),n._sqlite3_result_error_nomem=f=>(n._sqlite3_result_error_nomem=te.sqlite3_result_error_nomem)(f),n._sqlite3_result_double=(f,h)=>(n._sqlite3_result_double=te.sqlite3_result_double)(f,h),n._sqlite3_result_error=(f,h,b)=>(n._sqlite3_result_error=te.sqlite3_result_error)(f,h,b),n._sqlite3_result_int=(f,h)=>(n._sqlite3_result_int=te.sqlite3_result_int)(f,h),n._sqlite3_result_int64=(f,h)=>(n._sqlite3_result_int64=te.sqlite3_result_int64)(f,h),n._sqlite3_result_null=f=>(n._sqlite3_result_null=te.sqlite3_result_null)(f),n._sqlite3_result_pointer=(f,h,b,_)=>(n._sqlite3_result_pointer=te.sqlite3_result_pointer)(f,h,b,_),n._sqlite3_result_subtype=(f,h)=>(n._sqlite3_result_subtype=te.sqlite3_result_subtype)(f,h),n._sqlite3_result_text=(f,h,b,_)=>(n._sqlite3_result_text=te.sqlite3_result_text)(f,h,b,_),n._sqlite3_result_zeroblob=(f,h)=>(n._sqlite3_result_zeroblob=te.sqlite3_result_zeroblob)(f,h),n._sqlite3_result_zeroblob64=(f,h)=>(n._sqlite3_result_zeroblob64=te.sqlite3_result_zeroblob64)(f,h),n._sqlite3_result_error_code=(f,h)=>(n._sqlite3_result_error_code=te.sqlite3_result_error_code)(f,h),n._sqlite3_user_data=f=>(n._sqlite3_user_data=te.sqlite3_user_data)(f),n._sqlite3_context_db_handle=f=>(n._sqlite3_context_db_handle=te.sqlite3_context_db_handle)(f),n._sqlite3_vtab_nochange=f=>(n._sqlite3_vtab_nochange=te.sqlite3_vtab_nochange)(f),n._sqlite3_vtab_in_first=(f,h)=>(n._sqlite3_vtab_in_first=te.sqlite3_vtab_in_first)(f,h),n._sqlite3_vtab_in_next=(f,h)=>(n._sqlite3_vtab_in_next=te.sqlite3_vtab_in_next)(f,h),n._sqlite3_aggregate_context=(f,h)=>(n._sqlite3_aggregate_context=te.sqlite3_aggregate_context)(f,h),n._sqlite3_get_auxdata=(f,h)=>(n._sqlite3_get_auxdata=te.sqlite3_get_auxdata)(f,h),n._sqlite3_set_auxdata=(f,h,b,_)=>(n._sqlite3_set_auxdata=te.sqlite3_set_auxdata)(f,h,b,_),n._sqlite3_column_count=f=>(n._sqlite3_column_count=te.sqlite3_column_count)(f),n._sqlite3_data_count=f=>(n._sqlite3_data_count=te.sqlite3_data_count)(f),n._sqlite3_column_blob=(f,h)=>(n._sqlite3_column_blob=te.sqlite3_column_blob)(f,h),n._sqlite3_column_bytes=(f,h)=>(n._sqlite3_column_bytes=te.sqlite3_column_bytes)(f,h),n._sqlite3_column_double=(f,h)=>(n._sqlite3_column_double=te.sqlite3_column_double)(f,h),n._sqlite3_column_value=(f,h)=>(n._sqlite3_column_value=te.sqlite3_column_value)(f,h),n._sqlite3_column_decltype=(f,h)=>(n._sqlite3_column_decltype=te.sqlite3_column_decltype)(f,h),n._sqlite3_bind_blob=(f,h,b,_,S)=>(n._sqlite3_bind_blob=te.sqlite3_bind_blob)(f,h,b,_,S),n._sqlite3_bind_double=(f,h,b)=>(n._sqlite3_bind_double=te.sqlite3_bind_double)(f,h,b),n._sqlite3_bind_int=(f,h,b)=>(n._sqlite3_bind_int=te.sqlite3_bind_int)(f,h,b),n._sqlite3_bind_int64=(f,h,b)=>(n._sqlite3_bind_int64=te.sqlite3_bind_int64)(f,h,b),n._sqlite3_bind_null=(f,h)=>(n._sqlite3_bind_null=te.sqlite3_bind_null)(f,h),n._sqlite3_bind_pointer=(f,h,b,_,S)=>(n._sqlite3_bind_pointer=te.sqlite3_bind_pointer)(f,h,b,_,S),n._sqlite3_bind_text=(f,h,b,_,S)=>(n._sqlite3_bind_text=te.sqlite3_bind_text)(f,h,b,_,S),n._sqlite3_bind_parameter_count=f=>(n._sqlite3_bind_parameter_count=te.sqlite3_bind_parameter_count)(f),n._sqlite3_bind_parameter_name=(f,h)=>(n._sqlite3_bind_parameter_name=te.sqlite3_bind_parameter_name)(f,h),n._sqlite3_bind_parameter_index=(f,h)=>(n._sqlite3_bind_parameter_index=te.sqlite3_bind_parameter_index)(f,h),n._sqlite3_db_handle=f=>(n._sqlite3_db_handle=te.sqlite3_db_handle)(f),n._sqlite3_stmt_readonly=f=>(n._sqlite3_stmt_readonly=te.sqlite3_stmt_readonly)(f),n._sqlite3_stmt_isexplain=f=>(n._sqlite3_stmt_isexplain=te.sqlite3_stmt_isexplain)(f),n._sqlite3_stmt_explain=(f,h)=>(n._sqlite3_stmt_explain=te.sqlite3_stmt_explain)(f,h),n._sqlite3_stmt_busy=f=>(n._sqlite3_stmt_busy=te.sqlite3_stmt_busy)(f),n._sqlite3_stmt_status=(f,h,b)=>(n._sqlite3_stmt_status=te.sqlite3_stmt_status)(f,h,b),n._sqlite3_sql=f=>(n._sqlite3_sql=te.sqlite3_sql)(f),n._sqlite3_expanded_sql=f=>(n._sqlite3_expanded_sql=te.sqlite3_expanded_sql)(f),n._sqlite3_preupdate_old=(f,h,b)=>(n._sqlite3_preupdate_old=te.sqlite3_preupdate_old)(f,h,b),n._sqlite3_preupdate_count=f=>(n._sqlite3_preupdate_count=te.sqlite3_preupdate_count)(f),n._sqlite3_preupdate_depth=f=>(n._sqlite3_preupdate_depth=te.sqlite3_preupdate_depth)(f),n._sqlite3_preupdate_blobwrite=f=>(n._sqlite3_preupdate_blobwrite=te.sqlite3_preupdate_blobwrite)(f),n._sqlite3_preupdate_new=(f,h,b)=>(n._sqlite3_preupdate_new=te.sqlite3_preupdate_new)(f,h,b),n._sqlite3_value_numeric_type=f=>(n._sqlite3_value_numeric_type=te.sqlite3_value_numeric_type)(f),n._sqlite3_set_authorizer=(f,h,b)=>(n._sqlite3_set_authorizer=te.sqlite3_set_authorizer)(f,h,b),n._sqlite3_strglob=(f,h)=>(n._sqlite3_strglob=te.sqlite3_strglob)(f,h),n._sqlite3_strlike=(f,h,b)=>(n._sqlite3_strlike=te.sqlite3_strlike)(f,h,b),n._sqlite3_auto_extension=f=>(n._sqlite3_auto_extension=te.sqlite3_auto_extension)(f),n._sqlite3_cancel_auto_extension=f=>(n._sqlite3_cancel_auto_extension=te.sqlite3_cancel_auto_extension)(f),n._sqlite3_reset_auto_extension=()=>(n._sqlite3_reset_auto_extension=te.sqlite3_reset_auto_extension)(),n._sqlite3_prepare_v3=(f,h,b,_,S,I)=>(n._sqlite3_prepare_v3=te.sqlite3_prepare_v3)(f,h,b,_,S,I),n._sqlite3_create_module=(f,h,b,_)=>(n._sqlite3_create_module=te.sqlite3_create_module)(f,h,b,_),n._sqlite3_create_module_v2=(f,h,b,_,S)=>(n._sqlite3_create_module_v2=te.sqlite3_create_module_v2)(f,h,b,_,S),n._sqlite3_drop_modules=(f,h)=>(n._sqlite3_drop_modules=te.sqlite3_drop_modules)(f,h),n._sqlite3_declare_vtab=(f,h)=>(n._sqlite3_declare_vtab=te.sqlite3_declare_vtab)(f,h),n._sqlite3_vtab_on_conflict=f=>(n._sqlite3_vtab_on_conflict=te.sqlite3_vtab_on_conflict)(f),n._sqlite3_vtab_collation=(f,h)=>(n._sqlite3_vtab_collation=te.sqlite3_vtab_collation)(f,h),n._sqlite3_vtab_in=(f,h,b)=>(n._sqlite3_vtab_in=te.sqlite3_vtab_in)(f,h,b),n._sqlite3_vtab_rhs_value=(f,h,b)=>(n._sqlite3_vtab_rhs_value=te.sqlite3_vtab_rhs_value)(f,h,b),n._sqlite3_vtab_distinct=f=>(n._sqlite3_vtab_distinct=te.sqlite3_vtab_distinct)(f),n._sqlite3_keyword_name=(f,h,b)=>(n._sqlite3_keyword_name=te.sqlite3_keyword_name)(f,h,b),n._sqlite3_keyword_count=()=>(n._sqlite3_keyword_count=te.sqlite3_keyword_count)(),n._sqlite3_keyword_check=(f,h)=>(n._sqlite3_keyword_check=te.sqlite3_keyword_check)(f,h),n._sqlite3_complete=f=>(n._sqlite3_complete=te.sqlite3_complete)(f),n._sqlite3_libversion=()=>(n._sqlite3_libversion=te.sqlite3_libversion)(),n._sqlite3_libversion_number=()=>(n._sqlite3_libversion_number=te.sqlite3_libversion_number)(),n._sqlite3_shutdown=()=>(n._sqlite3_shutdown=te.sqlite3_shutdown)(),n._sqlite3_last_insert_rowid=f=>(n._sqlite3_last_insert_rowid=te.sqlite3_last_insert_rowid)(f),n._sqlite3_set_last_insert_rowid=(f,h)=>(n._sqlite3_set_last_insert_rowid=te.sqlite3_set_last_insert_rowid)(f,h),n._sqlite3_changes64=f=>(n._sqlite3_changes64=te.sqlite3_changes64)(f),n._sqlite3_changes=f=>(n._sqlite3_changes=te.sqlite3_changes)(f),n._sqlite3_total_changes64=f=>(n._sqlite3_total_changes64=te.sqlite3_total_changes64)(f),n._sqlite3_total_changes=f=>(n._sqlite3_total_changes=te.sqlite3_total_changes)(f),n._sqlite3_txn_state=(f,h)=>(n._sqlite3_txn_state=te.sqlite3_txn_state)(f,h),n._sqlite3_close_v2=f=>(n._sqlite3_close_v2=te.sqlite3_close_v2)(f),n._sqlite3_busy_handler=(f,h,b)=>(n._sqlite3_busy_handler=te.sqlite3_busy_handler)(f,h,b),n._sqlite3_progress_handler=(f,h,b,_)=>(n._sqlite3_progress_handler=te.sqlite3_progress_handler)(f,h,b,_),n._sqlite3_busy_timeout=(f,h)=>(n._sqlite3_busy_timeout=te.sqlite3_busy_timeout)(f,h),n._sqlite3_interrupt=f=>(n._sqlite3_interrupt=te.sqlite3_interrupt)(f),n._sqlite3_is_interrupted=f=>(n._sqlite3_is_interrupted=te.sqlite3_is_interrupted)(f),n._sqlite3_create_function=(f,h,b,_,S,I,X,re)=>(n._sqlite3_create_function=te.sqlite3_create_function)(f,h,b,_,S,I,X,re),n._sqlite3_create_function_v2=(f,h,b,_,S,I,X,re,Le)=>(n._sqlite3_create_function_v2=te.sqlite3_create_function_v2)(f,h,b,_,S,I,X,re,Le),n._sqlite3_create_window_function=(f,h,b,_,S,I,X,re,Le,Ve)=>(n._sqlite3_create_window_function=te.sqlite3_create_window_function)(f,h,b,_,S,I,X,re,Le,Ve),n._sqlite3_overload_function=(f,h,b)=>(n._sqlite3_overload_function=te.sqlite3_overload_function)(f,h,b),n._sqlite3_trace_v2=(f,h,b,_)=>(n._sqlite3_trace_v2=te.sqlite3_trace_v2)(f,h,b,_),n._sqlite3_commit_hook=(f,h,b)=>(n._sqlite3_commit_hook=te.sqlite3_commit_hook)(f,h,b),n._sqlite3_update_hook=(f,h,b)=>(n._sqlite3_update_hook=te.sqlite3_update_hook)(f,h,b),n._sqlite3_rollback_hook=(f,h,b)=>(n._sqlite3_rollback_hook=te.sqlite3_rollback_hook)(f,h,b),n._sqlite3_preupdate_hook=(f,h,b)=>(n._sqlite3_preupdate_hook=te.sqlite3_preupdate_hook)(f,h,b),n._sqlite3_error_offset=f=>(n._sqlite3_error_offset=te.sqlite3_error_offset)(f),n._sqlite3_errcode=f=>(n._sqlite3_errcode=te.sqlite3_errcode)(f),n._sqlite3_extended_errcode=f=>(n._sqlite3_extended_errcode=te.sqlite3_extended_errcode)(f),n._sqlite3_errstr=f=>(n._sqlite3_errstr=te.sqlite3_errstr)(f),n._sqlite3_limit=(f,h,b)=>(n._sqlite3_limit=te.sqlite3_limit)(f,h,b),n._sqlite3_open=(f,h)=>(n._sqlite3_open=te.sqlite3_open)(f,h),n._sqlite3_open_v2=(f,h,b,_)=>(n._sqlite3_open_v2=te.sqlite3_open_v2)(f,h,b,_),n._sqlite3_create_collation=(f,h,b,_,S)=>(n._sqlite3_create_collation=te.sqlite3_create_collation)(f,h,b,_,S),n._sqlite3_create_collation_v2=(f,h,b,_,S,I)=>(n._sqlite3_create_collation_v2=te.sqlite3_create_collation_v2)(f,h,b,_,S,I),n._sqlite3_collation_needed=(f,h,b)=>(n._sqlite3_collation_needed=te.sqlite3_collation_needed)(f,h,b),n._sqlite3_get_autocommit=f=>(n._sqlite3_get_autocommit=te.sqlite3_get_autocommit)(f),n._sqlite3_table_column_metadata=(f,h,b,_,S,I,X,re,Le)=>(n._sqlite3_table_column_metadata=te.sqlite3_table_column_metadata)(f,h,b,_,S,I,X,re,Le),n._sqlite3_extended_result_codes=(f,h)=>(n._sqlite3_extended_result_codes=te.sqlite3_extended_result_codes)(f,h),n._sqlite3_uri_key=(f,h)=>(n._sqlite3_uri_key=te.sqlite3_uri_key)(f,h),n._sqlite3_uri_int64=(f,h,b)=>(n._sqlite3_uri_int64=te.sqlite3_uri_int64)(f,h,b),n._sqlite3_db_name=(f,h)=>(n._sqlite3_db_name=te.sqlite3_db_name)(f,h),n._sqlite3_db_filename=(f,h)=>(n._sqlite3_db_filename=te.sqlite3_db_filename)(f,h),n._sqlite3_db_readonly=(f,h)=>(n._sqlite3_db_readonly=te.sqlite3_db_readonly)(f,h),n._sqlite3_compileoption_used=f=>(n._sqlite3_compileoption_used=te.sqlite3_compileoption_used)(f),n._sqlite3_compileoption_get=f=>(n._sqlite3_compileoption_get=te.sqlite3_compileoption_get)(f),n._sqlite3session_diff=(f,h,b,_)=>(n._sqlite3session_diff=te.sqlite3session_diff)(f,h,b,_),n._sqlite3session_attach=(f,h)=>(n._sqlite3session_attach=te.sqlite3session_attach)(f,h),n._sqlite3session_create=(f,h,b)=>(n._sqlite3session_create=te.sqlite3session_create)(f,h,b),n._sqlite3session_delete=f=>(n._sqlite3session_delete=te.sqlite3session_delete)(f),n._sqlite3session_table_filter=(f,h,b)=>(n._sqlite3session_table_filter=te.sqlite3session_table_filter)(f,h,b),n._sqlite3session_changeset=(f,h,b)=>(n._sqlite3session_changeset=te.sqlite3session_changeset)(f,h,b),n._sqlite3session_changeset_strm=(f,h,b)=>(n._sqlite3session_changeset_strm=te.sqlite3session_changeset_strm)(f,h,b),n._sqlite3session_patchset_strm=(f,h,b)=>(n._sqlite3session_patchset_strm=te.sqlite3session_patchset_strm)(f,h,b),n._sqlite3session_patchset=(f,h,b)=>(n._sqlite3session_patchset=te.sqlite3session_patchset)(f,h,b),n._sqlite3session_enable=(f,h)=>(n._sqlite3session_enable=te.sqlite3session_enable)(f,h),n._sqlite3session_indirect=(f,h)=>(n._sqlite3session_indirect=te.sqlite3session_indirect)(f,h),n._sqlite3session_isempty=f=>(n._sqlite3session_isempty=te.sqlite3session_isempty)(f),n._sqlite3session_memory_used=f=>(n._sqlite3session_memory_used=te.sqlite3session_memory_used)(f),n._sqlite3session_object_config=(f,h,b)=>(n._sqlite3session_object_config=te.sqlite3session_object_config)(f,h,b),n._sqlite3session_changeset_size=f=>(n._sqlite3session_changeset_size=te.sqlite3session_changeset_size)(f),n._sqlite3changeset_start=(f,h,b)=>(n._sqlite3changeset_start=te.sqlite3changeset_start)(f,h,b),n._sqlite3changeset_start_v2=(f,h,b,_)=>(n._sqlite3changeset_start_v2=te.sqlite3changeset_start_v2)(f,h,b,_),n._sqlite3changeset_start_strm=(f,h,b)=>(n._sqlite3changeset_start_strm=te.sqlite3changeset_start_strm)(f,h,b),n._sqlite3changeset_start_v2_strm=(f,h,b,_)=>(n._sqlite3changeset_start_v2_strm=te.sqlite3changeset_start_v2_strm)(f,h,b,_),n._sqlite3changeset_next=f=>(n._sqlite3changeset_next=te.sqlite3changeset_next)(f),n._sqlite3changeset_op=(f,h,b,_,S)=>(n._sqlite3changeset_op=te.sqlite3changeset_op)(f,h,b,_,S),n._sqlite3changeset_pk=(f,h,b)=>(n._sqlite3changeset_pk=te.sqlite3changeset_pk)(f,h,b),n._sqlite3changeset_old=(f,h,b)=>(n._sqlite3changeset_old=te.sqlite3changeset_old)(f,h,b),n._sqlite3changeset_new=(f,h,b)=>(n._sqlite3changeset_new=te.sqlite3changeset_new)(f,h,b),n._sqlite3changeset_conflict=(f,h,b)=>(n._sqlite3changeset_conflict=te.sqlite3changeset_conflict)(f,h,b),n._sqlite3changeset_fk_conflicts=(f,h)=>(n._sqlite3changeset_fk_conflicts=te.sqlite3changeset_fk_conflicts)(f,h),n._sqlite3changeset_finalize=f=>(n._sqlite3changeset_finalize=te.sqlite3changeset_finalize)(f),n._sqlite3changeset_invert=(f,h,b,_)=>(n._sqlite3changeset_invert=te.sqlite3changeset_invert)(f,h,b,_),n._sqlite3changeset_invert_strm=(f,h,b,_)=>(n._sqlite3changeset_invert_strm=te.sqlite3changeset_invert_strm)(f,h,b,_),n._sqlite3changeset_apply_v2=(f,h,b,_,S,I,X,re,Le)=>(n._sqlite3changeset_apply_v2=te.sqlite3changeset_apply_v2)(f,h,b,_,S,I,X,re,Le),n._sqlite3changeset_apply=(f,h,b,_,S,I)=>(n._sqlite3changeset_apply=te.sqlite3changeset_apply)(f,h,b,_,S,I),n._sqlite3changeset_apply_v2_strm=(f,h,b,_,S,I,X,re,Le)=>(n._sqlite3changeset_apply_v2_strm=te.sqlite3changeset_apply_v2_strm)(f,h,b,_,S,I,X,re,Le),n._sqlite3changeset_apply_strm=(f,h,b,_,S,I)=>(n._sqlite3changeset_apply_strm=te.sqlite3changeset_apply_strm)(f,h,b,_,S,I),n._sqlite3changegroup_new=f=>(n._sqlite3changegroup_new=te.sqlite3changegroup_new)(f),n._sqlite3changegroup_add=(f,h,b)=>(n._sqlite3changegroup_add=te.sqlite3changegroup_add)(f,h,b),n._sqlite3changegroup_output=(f,h,b)=>(n._sqlite3changegroup_output=te.sqlite3changegroup_output)(f,h,b),n._sqlite3changegroup_add_strm=(f,h,b)=>(n._sqlite3changegroup_add_strm=te.sqlite3changegroup_add_strm)(f,h,b),n._sqlite3changegroup_output_strm=(f,h,b)=>(n._sqlite3changegroup_output_strm=te.sqlite3changegroup_output_strm)(f,h,b),n._sqlite3changegroup_delete=f=>(n._sqlite3changegroup_delete=te.sqlite3changegroup_delete)(f),n._sqlite3changeset_concat=(f,h,b,_,S,I)=>(n._sqlite3changeset_concat=te.sqlite3changeset_concat)(f,h,b,_,S,I),n._sqlite3changeset_concat_strm=(f,h,b,_,S,I)=>(n._sqlite3changeset_concat_strm=te.sqlite3changeset_concat_strm)(f,h,b,_,S,I),n._sqlite3session_config=(f,h)=>(n._sqlite3session_config=te.sqlite3session_config)(f,h),n._sqlite3_sourceid=()=>(n._sqlite3_sourceid=te.sqlite3_sourceid)(),n._sqlite3__wasm_pstack_ptr=()=>(n._sqlite3__wasm_pstack_ptr=te.sqlite3__wasm_pstack_ptr)(),n._sqlite3__wasm_pstack_restore=f=>(n._sqlite3__wasm_pstack_restore=te.sqlite3__wasm_pstack_restore)(f),n._sqlite3__wasm_pstack_alloc=f=>(n._sqlite3__wasm_pstack_alloc=te.sqlite3__wasm_pstack_alloc)(f),n._sqlite3__wasm_pstack_remaining=()=>(n._sqlite3__wasm_pstack_remaining=te.sqlite3__wasm_pstack_remaining)(),n._sqlite3__wasm_pstack_quota=()=>(n._sqlite3__wasm_pstack_quota=te.sqlite3__wasm_pstack_quota)(),n._sqlite3__wasm_db_error=(f,h,b)=>(n._sqlite3__wasm_db_error=te.sqlite3__wasm_db_error)(f,h,b),n._sqlite3__wasm_test_struct=f=>(n._sqlite3__wasm_test_struct=te.sqlite3__wasm_test_struct)(f),n._sqlite3__wasm_enum_json=()=>(n._sqlite3__wasm_enum_json=te.sqlite3__wasm_enum_json)(),n._sqlite3__wasm_vfs_unlink=(f,h)=>(n._sqlite3__wasm_vfs_unlink=te.sqlite3__wasm_vfs_unlink)(f,h),n._sqlite3__wasm_db_vfs=(f,h)=>(n._sqlite3__wasm_db_vfs=te.sqlite3__wasm_db_vfs)(f,h),n._sqlite3__wasm_db_reset=f=>(n._sqlite3__wasm_db_reset=te.sqlite3__wasm_db_reset)(f),n._sqlite3__wasm_db_export_chunked=(f,h)=>(n._sqlite3__wasm_db_export_chunked=te.sqlite3__wasm_db_export_chunked)(f,h),n._sqlite3__wasm_db_serialize=(f,h,b,_,S)=>(n._sqlite3__wasm_db_serialize=te.sqlite3__wasm_db_serialize)(f,h,b,_,S),n._sqlite3__wasm_vfs_create_file=(f,h,b,_)=>(n._sqlite3__wasm_vfs_create_file=te.sqlite3__wasm_vfs_create_file)(f,h,b,_),n._sqlite3__wasm_posix_create_file=(f,h,b)=>(n._sqlite3__wasm_posix_create_file=te.sqlite3__wasm_posix_create_file)(f,h,b),n._sqlite3__wasm_kvvfsMakeKeyOnPstack=(f,h)=>(n._sqlite3__wasm_kvvfsMakeKeyOnPstack=te.sqlite3__wasm_kvvfsMakeKeyOnPstack)(f,h),n._sqlite3__wasm_kvvfs_methods=()=>(n._sqlite3__wasm_kvvfs_methods=te.sqlite3__wasm_kvvfs_methods)(),n._sqlite3__wasm_vtab_config=(f,h,b)=>(n._sqlite3__wasm_vtab_config=te.sqlite3__wasm_vtab_config)(f,h,b),n._sqlite3__wasm_db_config_ip=(f,h,b,_)=>(n._sqlite3__wasm_db_config_ip=te.sqlite3__wasm_db_config_ip)(f,h,b,_),n._sqlite3__wasm_db_config_pii=(f,h,b,_,S)=>(n._sqlite3__wasm_db_config_pii=te.sqlite3__wasm_db_config_pii)(f,h,b,_,S),n._sqlite3__wasm_db_config_s=(f,h,b)=>(n._sqlite3__wasm_db_config_s=te.sqlite3__wasm_db_config_s)(f,h,b),n._sqlite3__wasm_config_i=(f,h)=>(n._sqlite3__wasm_config_i=te.sqlite3__wasm_config_i)(f,h),n._sqlite3__wasm_config_ii=(f,h,b)=>(n._sqlite3__wasm_config_ii=te.sqlite3__wasm_config_ii)(f,h,b),n._sqlite3__wasm_config_j=(f,h)=>(n._sqlite3__wasm_config_j=te.sqlite3__wasm_config_j)(f,h),n._sqlite3__wasm_qfmt_token=(f,h)=>(n._sqlite3__wasm_qfmt_token=te.sqlite3__wasm_qfmt_token)(f,h),n._sqlite3__wasm_init_wasmfs=f=>(n._sqlite3__wasm_init_wasmfs=te.sqlite3__wasm_init_wasmfs)(f),n._sqlite3__wasm_test_intptr=f=>(n._sqlite3__wasm_test_intptr=te.sqlite3__wasm_test_intptr)(f),n._sqlite3__wasm_test_voidptr=f=>(n._sqlite3__wasm_test_voidptr=te.sqlite3__wasm_test_voidptr)(f),n._sqlite3__wasm_test_int64_max=()=>(n._sqlite3__wasm_test_int64_max=te.sqlite3__wasm_test_int64_max)(),n._sqlite3__wasm_test_int64_min=()=>(n._sqlite3__wasm_test_int64_min=te.sqlite3__wasm_test_int64_min)(),n._sqlite3__wasm_test_int64_times2=f=>(n._sqlite3__wasm_test_int64_times2=te.sqlite3__wasm_test_int64_times2)(f),n._sqlite3__wasm_test_int64_minmax=(f,h)=>(n._sqlite3__wasm_test_int64_minmax=te.sqlite3__wasm_test_int64_minmax)(f,h),n._sqlite3__wasm_test_int64ptr=f=>(n._sqlite3__wasm_test_int64ptr=te.sqlite3__wasm_test_int64ptr)(f),n._sqlite3__wasm_test_stack_overflow=f=>(n._sqlite3__wasm_test_stack_overflow=te.sqlite3__wasm_test_stack_overflow)(f),n._sqlite3__wasm_test_str_hello=f=>(n._sqlite3__wasm_test_str_hello=te.sqlite3__wasm_test_str_hello)(f),n._sqlite3__wasm_SQLTester_strglob=(f,h)=>(n._sqlite3__wasm_SQLTester_strglob=te.sqlite3__wasm_SQLTester_strglob)(f,h),n._malloc=f=>(n._malloc=te.malloc)(f),n._free=f=>(n._free=te.free)(f),n._realloc=(f,h)=>(n._realloc=te.realloc)(f,h);var ld=(f,h)=>(ld=te.emscripten_builtin_memalign)(f,h);n.wasmMemory=$;var _l;ut=function f(){_l||ud(),_l||(ut=f)};function ud(){if(Se>0||(Ce(),Se>0))return;function f(){_l||(_l=!0,n.calledRun=!0,!H&&(je(),s(n),n.onRuntimeInitialized?.(),be()))}n.setStatus?(n.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>n.setStatus(""),1),f()},1)):f()}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return ud(),n.postRun||(n.postRun=[]),n.postRun.push(function(f){if(globalThis.sqlite3ApiBootstrap=function h(b=globalThis.sqlite3ApiConfig||h.defaultConfig){if(h.sqlite3)return(h.sqlite3.config||console).warn("sqlite3ApiBootstrap() called multiple times.","Config and external initializers are ignored on calls after the first."),h.sqlite3;const _=Object.assign(Object.create(null),{exports:void 0,memory:void 0,bigIntEnabled:typeof f<"u"&&f.HEAPU64?!0:!!globalThis.BigInt64Array,debug:console.debug.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),log:console.log.bind(console),wasmfsOpfsDir:"/opfs",useStdAlloc:!1},b||{});Object.assign(_,{allocExportName:_.useStdAlloc?"malloc":"sqlite3_malloc",deallocExportName:_.useStdAlloc?"free":"sqlite3_free",reallocExportName:_.useStdAlloc?"realloc":"sqlite3_realloc"},_),["exports","memory","wasmfsOpfsDir"].forEach(T=>{typeof _[T]=="function"&&(_[T]=_[T]())}),delete globalThis.sqlite3ApiConfig,delete h.defaultConfig;const S=Object.create(null),I=Object.create(null),X=T=>S.sqlite3_js_rc_str&&S.sqlite3_js_rc_str(T)||"Unknown result code #"+T,re=T=>typeof T=="number"&&T===(T|0);class Le extends Error{constructor(...L){let W;if(L.length)if(re(L[0]))if(W=L[0],L.length===1)super(X(L[0]));else{const qe=X(W);typeof L[1]=="object"?super(qe,L[1]):(L[0]=qe+":",super(L.join(" ")))}else L.length===2&&typeof L[1]=="object"?super(...L):super(L.join(" "));this.resultCode=W||S.SQLITE_ERROR,this.name="SQLite3Error"}}Le.toss=(...T)=>{throw new Le(...T)};const Ve=Le.toss;_.wasmfsOpfsDir&&!/^\/[^/]+$/.test(_.wasmfsOpfsDir)&&Ve("config.wasmfsOpfsDir must be falsy or in the form '/dir-name'.");const Ze=T=>typeof T!="bigint"&&T===(T|0)&&T<=0x7fffffff&&T>=-0x80000000,nt=function T(L){return T._max||(T._max=BigInt("0x7fffffffffffffff"),T._min=~T._max),L>=T._min&&L<=T._max},Ae=T=>T>=-2147483647n-1n&&T<=2147483647n,xe=function T(L){return T._min||(T._min=Number.MIN_SAFE_INTEGER,T._max=Number.MAX_SAFE_INTEGER),L>=T._min&&L<=T._max},Ue=T=>T&&T.constructor&&Ze(T.constructor.BYTES_PER_ELEMENT)?T:!1,ue=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,pe=T=>T.buffer instanceof ue,_e=(T,L,W)=>pe(T)?T.slice(L,W):T.subarray(L,W),We=T=>T&&(T instanceof Uint8Array||T instanceof Int8Array||T instanceof ArrayBuffer),$e=T=>T&&(T instanceof Uint8Array||T instanceof Int8Array||T instanceof ArrayBuffer),we=T=>We(T)||Ve("Value is not of a supported TypedArray type."),Me=new TextDecoder("utf-8"),pt=function(T,L,W){return Me.decode(_e(T,L,W))},j=function(T){return $e(T)?pt(T instanceof ArrayBuffer?new Uint8Array(T):T):Array.isArray(T)?T.join(""):(I.isPtr(T)&&(T=I.cstrToJs(T)),T)};class J extends Error{constructor(...L){L.length===2&&typeof L[1]=="object"?super(...L):L.length?super(L.join(" ")):super("Allocation failed."),this.resultCode=S.SQLITE_NOMEM,this.name="WasmAllocError"}}J.toss=(...T)=>{throw new J(...T)},Object.assign(S,{sqlite3_bind_blob:void 0,sqlite3_bind_text:void 0,sqlite3_create_function_v2:(T,L,W,qe,Qe,Et,Lt,Wt,Ye)=>{},sqlite3_create_function:(T,L,W,qe,Qe,Et,Lt,Wt)=>{},sqlite3_create_window_function:(T,L,W,qe,Qe,Et,Lt,Wt,Ye,de)=>{},sqlite3_prepare_v3:(T,L,W,qe,Qe,Et)=>{},sqlite3_prepare_v2:(T,L,W,qe,Qe)=>{},sqlite3_exec:(T,L,W,qe,Qe)=>{},sqlite3_randomness:(T,L)=>{}});const he={affirmBindableTypedArray:we,flexibleString:j,bigIntFits32:Ae,bigIntFits64:nt,bigIntFitsDouble:xe,isBindableTypedArray:We,isInt32:Ze,isSQLableTypedArray:$e,isTypedArray:Ue,typedArrayToString:pt,isUIThread:()=>globalThis.window===globalThis&&!!globalThis.document,isSharedTypedArray:pe,toss:function(...T){throw new Error(T.join(" "))},toss3:Ve,typedArrayPart:_e,affirmDbHeader:function(T){T instanceof ArrayBuffer&&(T=new Uint8Array(T));const L="SQLite format 3";L.length>T.byteLength&&Ve("Input does not contain an SQLite3 database header.");for(let W=0;W<L.length;++W)L.charCodeAt(W)!==T[W]&&Ve("Input does not contain an SQLite3 database header.")},affirmIsDb:function(T){T instanceof ArrayBuffer&&(T=new Uint8Array(T));const L=T.byteLength;(L<512||L%512!==0)&&Ve("Byte array size",L,"is invalid for an SQLite3 db."),he.affirmDbHeader(T)}};Object.assign(I,{ptrSizeof:_.wasmPtrSizeof||4,ptrIR:_.wasmPtrIR||"i32",bigIntEnabled:!!_.bigIntEnabled,exports:_.exports||Ve("Missing API config.exports (WASM module exports)."),memory:_.memory||_.exports.memory||Ve("API config object requires a WebAssembly.Memory object","in either config.exports.memory (exported)","or config.memory (imported)."),alloc:void 0,realloc:void 0,dealloc:void 0}),I.allocFromTypedArray=function(T){T instanceof ArrayBuffer&&(T=new Uint8Array(T)),we(T);const L=I.alloc(T.byteLength||1);return I.heapForSize(T.constructor).set(T.byteLength?T:[0],L),L};{const T=_.allocExportName,L=_.deallocExportName,W=_.reallocExportName;for(const qe of[T,L,W])I.exports[qe]instanceof Function||Ve("Missing required exports[",qe,"] function.");I.alloc=function qe(Qe){return qe.impl(Qe)||J.toss("Failed to allocate",Qe," bytes.")},I.alloc.impl=I.exports[T],I.realloc=function qe(Qe,Et){const Lt=qe.impl(Qe,Et);return Et?Lt||J.toss("Failed to reallocate",Et," bytes."):0},I.realloc.impl=I.exports[W],I.dealloc=I.exports[L]}I.compileOptionUsed=function T(L){if(arguments.length){if(Array.isArray(L)){const W={};return L.forEach(qe=>{W[qe]=S.sqlite3_compileoption_used(qe)}),W}else if(typeof L=="object")return Object.keys(L).forEach(W=>{L[W]=S.sqlite3_compileoption_used(W)}),L}else{if(T._result)return T._result;T._opt||(T._rx=/^([^=]+)=(.+)/,T._rxInt=/^-?\d+$/,T._opt=function(Lt,Wt){const Ye=T._rx.exec(Lt);Wt[0]=Ye?Ye[1]:Lt,Wt[1]=Ye?T._rxInt.test(Ye[2])?+Ye[2]:Ye[2]:!0});const W={},qe=[0,0];let Qe=0,Et;for(;Et=S.sqlite3_compileoption_get(Qe++);)T._opt(Et,qe),W[qe[0]]=qe[1];return T._result=W}return typeof L=="string"?!!S.sqlite3_compileoption_used(L):!1},I.pstack=Object.assign(Object.create(null),{restore:I.exports.sqlite3__wasm_pstack_restore,alloc:function(T){return typeof T=="string"&&!(T=I.sizeofIR(T))&&J.toss("Invalid value for pstack.alloc(",arguments[0],")"),I.exports.sqlite3__wasm_pstack_alloc(T)||J.toss("Could not allocate",T,"bytes from the pstack.")},allocChunks:function(T,L){typeof L=="string"&&!(L=I.sizeofIR(L))&&J.toss("Invalid size value for allocChunks(",arguments[1],")");const W=I.pstack.alloc(T*L),qe=[];let Qe=0,Et=0;for(;Qe<T;++Qe,Et+=L)qe.push(W+Et);return qe},allocPtr:(T=1,L=!0)=>T===1?I.pstack.alloc(L?8:I.ptrSizeof):I.pstack.allocChunks(T,L?8:I.ptrSizeof),call:function(T){const L=I.pstack.pointer;try{return T(ee)}finally{I.pstack.restore(L)}}}),Object.defineProperties(I.pstack,{pointer:{configurable:!1,iterable:!0,writeable:!1,get:I.exports.sqlite3__wasm_pstack_ptr},quota:{configurable:!1,iterable:!0,writeable:!1,get:I.exports.sqlite3__wasm_pstack_quota},remaining:{configurable:!1,iterable:!0,writeable:!1,get:I.exports.sqlite3__wasm_pstack_remaining}}),S.sqlite3_randomness=(...T)=>{if(T.length===1&&he.isTypedArray(T[0])&&T[0].BYTES_PER_ELEMENT===1){const L=T[0];if(L.byteLength===0)return I.exports.sqlite3_randomness(0,0),L;const W=I.pstack.pointer;try{let qe=L.byteLength,Qe=0;const Et=I.exports.sqlite3_randomness,Lt=I.heap8u(),Wt=qe<512?qe:512,Ye=I.pstack.alloc(Wt);do{const de=qe>Wt?Wt:qe;Et(de,Ye),L.set(_e(Lt,Ye,Ye+de),Qe),qe-=de,Qe+=de}while(qe>0)}catch(qe){console.error("Highly unexpected (and ignored!) exception in sqlite3_randomness():",qe)}finally{I.pstack.restore(W)}return L}I.exports.sqlite3_randomness(...T)};let Ke;if(S.sqlite3_wasmfs_opfs_dir=function(){if(Ke!==void 0)return Ke;const T=_.wasmfsOpfsDir;if(!T||!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle)return Ke="";try{return T&&I.xCallWrapped("sqlite3__wasm_init_wasmfs","i32",["string"],T)===0?Ke=T:Ke=""}catch{return Ke=""}},S.sqlite3_wasmfs_filename_is_persistent=function(T){const L=S.sqlite3_wasmfs_opfs_dir();return L&&T?T.startsWith(L+"/"):!1},S.sqlite3_js_db_uses_vfs=function(T,L,W=0){try{const qe=S.sqlite3_vfs_find(L);return qe?T?qe===S.sqlite3_js_db_vfs(T,W)?qe:!1:qe===S.sqlite3_vfs_find(0)?qe:!1:!1}catch{return!1}},S.sqlite3_js_vfs_list=function(){const T=[];let L=S.sqlite3_vfs_find(0);for(;L;){const W=new S.sqlite3_vfs(L);T.push(I.cstrToJs(W.$zName)),L=W.$pNext,W.dispose()}return T},S.sqlite3_js_db_export=function(T,L=0){T=I.xWrap.testConvertArg("sqlite3*",T),T||Ve("Invalid sqlite3* argument."),I.bigIntEnabled||Ve("BigInt64 support is not enabled.");const W=I.scopedAllocPush();let qe;try{const Qe=I.scopedAlloc(8+I.ptrSizeof),Et=Qe+8,Lt=L?I.isPtr(L)?L:I.scopedAllocCString(""+L):0;let Wt=I.exports.sqlite3__wasm_db_serialize(T,Lt,Et,Qe,0);Wt&&Ve("Database serialization failed with code",ee.capi.sqlite3_js_rc_str(Wt)),qe=I.peekPtr(Et);const Ye=I.peek(Qe,"i64");return Wt=Ye?I.heap8u().slice(qe,qe+Number(Ye)):new Uint8Array,Wt}finally{qe&&I.exports.sqlite3_free(qe),I.scopedAllocPop(W)}},S.sqlite3_js_db_vfs=(T,L=0)=>he.sqlite3__wasm_db_vfs(T,L),S.sqlite3_js_aggregate_context=(T,L)=>S.sqlite3_aggregate_context(T,L)||(L?J.toss("Cannot allocate",L,"bytes for sqlite3_aggregate_context()"):0),S.sqlite3_js_posix_create_file=function(T,L,W){let qe;L&&I.isPtr(L)?qe=L:L instanceof ArrayBuffer||L instanceof Uint8Array?(qe=I.allocFromTypedArray(L),(arguments.length<3||!he.isInt32(W)||W<0)&&(W=L.byteLength)):Le.toss("Invalid 2nd argument for sqlite3_js_posix_create_file().");try{(!he.isInt32(W)||W<0)&&Le.toss("Invalid 3rd argument for sqlite3_js_posix_create_file().");const Qe=he.sqlite3__wasm_posix_create_file(T,qe,W);Qe&&Le.toss("Creation of file failed with sqlite3 result code",S.sqlite3_js_rc_str(Qe))}finally{I.dealloc(qe)}},S.sqlite3_js_vfs_create_file=function(T,L,W,qe){_.warn("sqlite3_js_vfs_create_file() is deprecated and","should be avoided because it can lead to C-level crashes.","See its documentation for alternative options.");let Qe;W?(I.isPtr(W)?Qe=W:W instanceof ArrayBuffer&&(W=new Uint8Array(W)),W instanceof Uint8Array?(Qe=I.allocFromTypedArray(W),(arguments.length<4||!he.isInt32(qe)||qe<0)&&(qe=W.byteLength)):Le.toss("Invalid 3rd argument type for sqlite3_js_vfs_create_file().")):Qe=0,(!he.isInt32(qe)||qe<0)&&(I.dealloc(Qe),Le.toss("Invalid 4th argument for sqlite3_js_vfs_create_file()."));try{const Et=he.sqlite3__wasm_vfs_create_file(T,L,Qe,qe);Et&&Le.toss("Creation of file failed with sqlite3 result code",S.sqlite3_js_rc_str(Et))}finally{I.dealloc(Qe)}},S.sqlite3_js_sql_to_string=T=>{if(typeof T=="string")return T;const L=j(v);return L===v?void 0:L},he.isUIThread()){const T=function(L){const W=Object.create(null);return W.prefix="kvvfs-"+L,W.stores=[],(L==="session"||L==="")&&W.stores.push(globalThis.sessionStorage),(L==="local"||L==="")&&W.stores.push(globalThis.localStorage),W};S.sqlite3_js_kvvfs_clear=function(L=""){let W=0;const qe=T(L);return qe.stores.forEach(Qe=>{const Et=[];let Lt;for(Lt=0;Lt<Qe.length;++Lt){const Wt=Qe.key(Lt);Wt.startsWith(qe.prefix)&&Et.push(Wt)}Et.forEach(Wt=>Qe.removeItem(Wt)),W+=Et.length}),W},S.sqlite3_js_kvvfs_size=function(L=""){let W=0;const qe=T(L);return qe.stores.forEach(Qe=>{let Et;for(Et=0;Et<Qe.length;++Et){const Lt=Qe.key(Et);Lt.startsWith(qe.prefix)&&(W+=Lt.length,W+=Qe.getItem(Lt).length)}}),W*2}}S.sqlite3_db_config=function(T,L,...W){switch(this.s||(this.s=I.xWrap("sqlite3__wasm_db_config_s","int",["sqlite3*","int","string:static"]),this.pii=I.xWrap("sqlite3__wasm_db_config_pii","int",["sqlite3*","int","*","int","int"]),this.ip=I.xWrap("sqlite3__wasm_db_config_ip","int",["sqlite3*","int","int","*"])),L){case S.SQLITE_DBCONFIG_ENABLE_FKEY:case S.SQLITE_DBCONFIG_ENABLE_TRIGGER:case S.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER:case S.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION:case S.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE:case S.SQLITE_DBCONFIG_ENABLE_QPSG:case S.SQLITE_DBCONFIG_TRIGGER_EQP:case S.SQLITE_DBCONFIG_RESET_DATABASE:case S.SQLITE_DBCONFIG_DEFENSIVE:case S.SQLITE_DBCONFIG_WRITABLE_SCHEMA:case S.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE:case S.SQLITE_DBCONFIG_DQS_DML:case S.SQLITE_DBCONFIG_DQS_DDL:case S.SQLITE_DBCONFIG_ENABLE_VIEW:case S.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT:case S.SQLITE_DBCONFIG_TRUSTED_SCHEMA:case S.SQLITE_DBCONFIG_STMT_SCANSTATUS:case S.SQLITE_DBCONFIG_REVERSE_SCANORDER:return this.ip(T,L,W[0],W[1]||0);case S.SQLITE_DBCONFIG_LOOKASIDE:return this.pii(T,L,W[0],W[1],W[2]);case S.SQLITE_DBCONFIG_MAINDBNAME:return this.s(T,L,W[0]);default:return S.SQLITE_MISUSE}}.bind(Object.create(null)),S.sqlite3_value_to_js=function(T,L=!0){let W;const qe=S.sqlite3_value_type(T);switch(qe){case S.SQLITE_INTEGER:I.bigIntEnabled?(W=S.sqlite3_value_int64(T),he.bigIntFitsDouble(W)&&(W=Number(W))):W=S.sqlite3_value_double(T);break;case S.SQLITE_FLOAT:W=S.sqlite3_value_double(T);break;case S.SQLITE_TEXT:W=S.sqlite3_value_text(T);break;case S.SQLITE_BLOB:{const Qe=S.sqlite3_value_bytes(T),Et=S.sqlite3_value_blob(T);Qe&&!Et&&ee.WasmAllocError.toss("Cannot allocate memory for blob argument of",Qe,"byte(s)"),W=Qe?I.heap8u().slice(Et,Et+Number(Qe)):null;break}case S.SQLITE_NULL:W=null;break;default:L&&Ve(S.SQLITE_MISMATCH,"Unhandled sqlite3_value_type():",qe),W=void 0}return W},S.sqlite3_values_to_js=function(T,L,W=!0){let qe;const Qe=[];for(qe=0;qe<T;++qe)Qe.push(S.sqlite3_value_to_js(I.peekPtr(L+I.ptrSizeof*qe),W));return Qe},S.sqlite3_result_error_js=function(T,L){L instanceof J?S.sqlite3_result_error_nomem(T):S.sqlite3_result_error(T,""+L,-1)},S.sqlite3_result_js=function(T,L){if(L instanceof Error){S.sqlite3_result_error_js(T,L);return}try{switch(typeof L){case"undefined":break;case"boolean":S.sqlite3_result_int(T,L?1:0);break;case"bigint":he.bigIntFits32(L)?S.sqlite3_result_int(T,Number(L)):he.bigIntFitsDouble(L)?S.sqlite3_result_double(T,Number(L)):I.bigIntEnabled?he.bigIntFits64(L)?S.sqlite3_result_int64(T,L):Ve("BigInt value",L.toString(),"is too BigInt for int64."):Ve("BigInt value",L.toString(),"is too BigInt.");break;case"number":{let W;he.isInt32(L)?W=S.sqlite3_result_int:I.bigIntEnabled&&Number.isInteger(L)&&he.bigIntFits64(BigInt(L))?W=S.sqlite3_result_int64:W=S.sqlite3_result_double,W(T,L);break}case"string":{const[W,qe]=I.allocCString(L,!0);S.sqlite3_result_text(T,W,qe,S.SQLITE_WASM_DEALLOC);break}case"object":if(L===null){S.sqlite3_result_null(T);break}else if(he.isBindableTypedArray(L)){const W=I.allocFromTypedArray(L);S.sqlite3_result_blob(T,W,L.byteLength,S.SQLITE_WASM_DEALLOC);break}default:Ve("Don't not how to handle this UDF result value:",typeof L,L)}}catch(W){S.sqlite3_result_error_js(T,W)}},S.sqlite3_column_js=function(T,L,W=!0){const qe=S.sqlite3_column_value(T,L);return qe===0?void 0:S.sqlite3_value_to_js(qe,W)};const U=function(T,L,W){W=S[W],this.ptr?I.pokePtr(this.ptr,0):this.ptr=I.allocPtr();const qe=W(T,L,this.ptr);if(qe)return Le.toss(qe,arguments[2]+"() failed with code "+qe);const Qe=I.peekPtr(this.ptr);return Qe?S.sqlite3_value_to_js(Qe,!0):void 0}.bind(Object.create(null));S.sqlite3_preupdate_new_js=(T,L)=>U(T,L,"sqlite3_preupdate_new"),S.sqlite3_preupdate_old_js=(T,L)=>U(T,L,"sqlite3_preupdate_old"),S.sqlite3changeset_new_js=(T,L)=>U(T,L,"sqlite3changeset_new"),S.sqlite3changeset_old_js=(T,L)=>U(T,L,"sqlite3changeset_old");const ee={WasmAllocError:J,SQLite3Error:Le,capi:S,util:he,wasm:I,config:_,version:Object.create(null),client:void 0,asyncPostInit:async function T(){if(T.isReady instanceof Promise)return T.isReady;let L=h.initializersAsync;delete h.initializersAsync;const W=async()=>(ee.__isUnderTest||(delete ee.util,delete ee.StructBinder),ee),qe=Et=>{throw _.error("an async sqlite3 initializer failed:",Et),Et};if(!L||!L.length)return T.isReady=W().catch(qe);L=L.map(Et=>Et instanceof Function?async Lt=>Et(ee):Et),L.push(W);let Qe=Promise.resolve(ee);for(;L.length;)Qe=Qe.then(L.shift());return T.isReady=Qe.catch(qe)},scriptInfo:void 0};try{h.initializers.forEach(T=>{T(ee)})}catch(T){throw console.error("sqlite3 bootstrap initializer threw:",T),T}return delete h.initializers,h.sqlite3=ee,ee},globalThis.sqlite3ApiBootstrap.initializers=[],globalThis.sqlite3ApiBootstrap.initializersAsync=[],globalThis.sqlite3ApiBootstrap.defaultConfig=Object.create(null),globalThis.sqlite3ApiBootstrap.sqlite3=void 0,globalThis.WhWasmUtilInstaller=function(h){h.bigIntEnabled===void 0&&(h.bigIntEnabled=!!globalThis.BigInt64Array);const b=(...j)=>{throw new Error(j.join(" "))};h.exports||Object.defineProperty(h,"exports",{enumerable:!0,configurable:!0,get:()=>h.instance&&h.instance.exports});const _=h.pointerIR||"i32",S=h.ptrSizeof=_==="i32"?4:_==="i64"?8:b("Unhandled ptrSizeof:",_),I=Object.create(null);I.heapSize=0,I.memory=null,I.freeFuncIndexes=[],I.scopedAlloc=[],I.utf8Decoder=new TextDecoder,I.utf8Encoder=new TextEncoder("utf-8"),h.sizeofIR=j=>{switch(j){case"i8":return 1;case"i16":return 2;case"i32":case"f32":case"float":return 4;case"i64":case"f64":case"double":return 8;case"*":return S;default:return(""+j).endsWith("*")?S:void 0}};const X=function(){if(!I.memory)I.memory=h.memory instanceof WebAssembly.Memory?h.memory:h.exports.memory;else if(I.heapSize===I.memory.buffer.byteLength)return I;const j=I.memory.buffer;return I.HEAP8=new Int8Array(j),I.HEAP8U=new Uint8Array(j),I.HEAP16=new Int16Array(j),I.HEAP16U=new Uint16Array(j),I.HEAP32=new Int32Array(j),I.HEAP32U=new Uint32Array(j),h.bigIntEnabled&&(I.HEAP64=new BigInt64Array(j),I.HEAP64U=new BigUint64Array(j)),I.HEAP32F=new Float32Array(j),I.HEAP64F=new Float64Array(j),I.heapSize=j.byteLength,I};h.heap8=()=>X().HEAP8,h.heap8u=()=>X().HEAP8U,h.heap16=()=>X().HEAP16,h.heap16u=()=>X().HEAP16U,h.heap32=()=>X().HEAP32,h.heap32u=()=>X().HEAP32U,h.heapForSize=function(j,J=!0){const he=I.memory&&I.heapSize===I.memory.buffer.byteLength?I:X();switch(j){case Int8Array:return he.HEAP8;case Uint8Array:return he.HEAP8U;case Int16Array:return he.HEAP16;case Uint16Array:return he.HEAP16U;case Int32Array:return he.HEAP32;case Uint32Array:return he.HEAP32U;case 8:return J?he.HEAP8U:he.HEAP8;case 16:return J?he.HEAP16U:he.HEAP16;case 32:return J?he.HEAP32U:he.HEAP32;case 64:if(he.HEAP64)return J?he.HEAP64U:he.HEAP64;break;default:if(h.bigIntEnabled){if(j===globalThis.BigUint64Array)return he.HEAP64U;if(j===globalThis.BigInt64Array)return he.HEAP64;break}}b("Invalid heapForSize() size: expecting 8, 16, 32,","or (if BigInt is enabled) 64.")},h.functionTable=function(){return h.exports.__indirect_function_table},h.functionEntry=function(j){const J=h.functionTable();return j<J.length?J.get(j):void 0},h.jsFuncToWasm=function j(J,he){if(j._||(j._={sigTypes:Object.assign(Object.create(null),{i:"i32",p:"i32",P:"i32",s:"i32",j:"i64",f:"f32",d:"f64"}),typeCodes:Object.assign(Object.create(null),{f64:124,f32:125,i64:126,i32:127}),uleb128Encode:function(ee,T,L){L<128?ee[T](L):ee[T](L%128|128,L>>7)},rxJSig:/^(\w)\((\w*)\)$/,sigParams:function(ee){const T=j._.rxJSig.exec(ee);return T?T[2]:ee.substr(1)},letterType:ee=>j._.sigTypes[ee]||b("Invalid signature letter:",ee),pushSigType:(ee,T)=>ee.push(j._.typeCodes[j._.letterType(T)])}),typeof J=="string"){const ee=he;he=J,J=ee}const Ke=j._.sigParams(he),U=[1,96];j._.uleb128Encode(U,"push",Ke.length);for(const ee of Ke)j._.pushSigType(U,ee);return he[0]==="v"?U.push(0):(U.push(1),j._.pushSigType(U,he[0])),j._.uleb128Encode(U,"unshift",U.length),U.unshift(0,97,115,109,1,0,0,0,1),U.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array(U)),{e:{f:J}}).exports.f};const re=function(J,he,Ke){if(Ke&&!I.scopedAlloc.length&&b("No scopedAllocPush() scope is active."),typeof J=="string"){const L=he;he=J,J=L}(typeof he!="string"||!(J instanceof Function))&&b("Invalid arguments: expecting (function,signature) or (signature,function).");const U=h.functionTable(),ee=U.length;let T;for(;I.freeFuncIndexes.length&&(T=I.freeFuncIndexes.pop(),U.get(T));){T=null;continue}T||(T=ee,U.grow(1));try{return U.set(T,J),Ke&&I.scopedAlloc[I.scopedAlloc.length-1].push(T),T}catch(L){if(!(L instanceof TypeError))throw T===ee&&I.freeFuncIndexes.push(ee),L}try{const L=h.jsFuncToWasm(J,he);U.set(T,L),Ke&&I.scopedAlloc[I.scopedAlloc.length-1].push(T)}catch(L){throw T===ee&&I.freeFuncIndexes.push(ee),L}return T};h.installFunction=(j,J)=>re(j,J,!1),h.scopedInstallFunction=(j,J)=>re(j,J,!0),h.uninstallFunction=function(j){if(!j&&j!==0)return;const J=I.freeFuncIndexes,he=h.functionTable();J.push(j);const Ke=he.get(j);return he.set(j,null),Ke},h.peek=function(J,he="i8"){he.endsWith("*")&&(he=_);const Ke=I.memory&&I.heapSize===I.memory.buffer.byteLength?I:X(),U=Array.isArray(J)?[]:void 0;let ee;do{switch(U&&(J=arguments[0].shift()),he){case"i1":case"i8":ee=Ke.HEAP8[J>>0];break;case"i16":ee=Ke.HEAP16[J>>1];break;case"i32":ee=Ke.HEAP32[J>>2];break;case"float":case"f32":ee=Ke.HEAP32F[J>>2];break;case"double":case"f64":ee=Number(Ke.HEAP64F[J>>3]);break;case"i64":if(h.bigIntEnabled){ee=BigInt(Ke.HEAP64[J>>3]);break}default:b("Invalid type for peek():",he)}U&&U.push(ee)}while(U&&arguments[0].length);return U||ee},h.poke=function(j,J,he="i8"){he.endsWith("*")&&(he=_);const Ke=I.memory&&I.heapSize===I.memory.buffer.byteLength?I:X();for(const U of Array.isArray(j)?j:[j])switch(he){case"i1":case"i8":Ke.HEAP8[U>>0]=J;continue;case"i16":Ke.HEAP16[U>>1]=J;continue;case"i32":Ke.HEAP32[U>>2]=J;continue;case"float":case"f32":Ke.HEAP32F[U>>2]=J;continue;case"double":case"f64":Ke.HEAP64F[U>>3]=J;continue;case"i64":if(Ke.HEAP64){Ke.HEAP64[U>>3]=BigInt(J);continue}default:b("Invalid type for poke(): "+he)}return this},h.peekPtr=(...j)=>h.peek(j.length===1?j[0]:j,_),h.pokePtr=(j,J=0)=>h.poke(j,J,_),h.peek8=(...j)=>h.peek(j.length===1?j[0]:j,"i8"),h.poke8=(j,J)=>h.poke(j,J,"i8"),h.peek16=(...j)=>h.peek(j.length===1?j[0]:j,"i16"),h.poke16=(j,J)=>h.poke(j,J,"i16"),h.peek32=(...j)=>h.peek(j.length===1?j[0]:j,"i32"),h.poke32=(j,J)=>h.poke(j,J,"i32"),h.peek64=(...j)=>h.peek(j.length===1?j[0]:j,"i64"),h.poke64=(j,J)=>h.poke(j,J,"i64"),h.peek32f=(...j)=>h.peek(j.length===1?j[0]:j,"f32"),h.poke32f=(j,J)=>h.poke(j,J,"f32"),h.peek64f=(...j)=>h.peek(j.length===1?j[0]:j,"f64"),h.poke64f=(j,J)=>h.poke(j,J,"f64"),h.getMemValue=h.peek,h.getPtrValue=h.peekPtr,h.setMemValue=h.poke,h.setPtrValue=h.pokePtr,h.isPtr32=j=>typeof j=="number"&&j===(j|0)&&j>=0,h.isPtr=h.isPtr32,h.cstrlen=function(j){if(!j||!h.isPtr(j))return null;const J=X().HEAP8U;let he=j;for(;J[he]!==0;++he);return he-j};const Le=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,Ve=function(j,J,he){return I.utf8Decoder.decode(j.buffer instanceof Le?j.slice(J,he):j.subarray(J,he))};h.cstrToJs=function(j){const J=h.cstrlen(j);return J?Ve(X().HEAP8U,j,j+J):J===null?J:""},h.jstrlen=function(j){if(typeof j!="string")return null;const J=j.length;let he=0;for(let Ke=0;Ke<J;++Ke){let U=j.charCodeAt(Ke);U>=55296&&U<=57343&&(U=65536+((U&1023)<<10)|j.charCodeAt(++Ke)&1023),U<=127?++he:U<=2047?he+=2:U<=65535?he+=3:he+=4}return he},h.jstrcpy=function(j,J,he=0,Ke=-1,U=!0){if((!J||!(J instanceof Int8Array)&&!(J instanceof Uint8Array))&&b("jstrcpy() target must be an Int8Array or Uint8Array."),Ke<0&&(Ke=J.length-he),!(Ke>0)||!(he>=0))return 0;let ee=0,T=j.length;const L=he,W=he+Ke-(U?1:0);for(;ee<T&&he<W;++ee){let qe=j.charCodeAt(ee);if(qe>=55296&&qe<=57343&&(qe=65536+((qe&1023)<<10)|j.charCodeAt(++ee)&1023),qe<=127){if(he>=W)break;J[he++]=qe}else if(qe<=2047){if(he+1>=W)break;J[he++]=192|qe>>6,J[he++]=128|qe&63}else if(qe<=65535){if(he+2>=W)break;J[he++]=224|qe>>12,J[he++]=128|qe>>6&63,J[he++]=128|qe&63}else{if(he+3>=W)break;J[he++]=240|qe>>18,J[he++]=128|qe>>12&63,J[he++]=128|qe>>6&63,J[he++]=128|qe&63}}return U&&(J[he++]=0),he-L},h.cstrncpy=function(j,J,he){if((!j||!J)&&b("cstrncpy() does not accept NULL strings."),he<0)he=h.cstrlen(strPtr)+1;else if(!(he>0))return 0;const Ke=h.heap8u();let U=0,ee;for(;U<he&&(ee=Ke[J+U]);++U)Ke[j+U]=ee;return U<he&&(Ke[j+U++]=0),U},h.jstrToUintArray=(j,J=!1)=>I.utf8Encoder.encode(J?j+"\0":j);const Ze=(j,J)=>{(!(j.alloc instanceof Function)||!(j.dealloc instanceof Function))&&b("Object is missing alloc() and/or dealloc() function(s)","required by",J+"().")},nt=function(j,J,he,Ke){if(Ze(h,Ke),typeof j!="string")return null;{const U=I.utf8Encoder.encode(j),ee=he(U.length+1),T=X().HEAP8U;return T.set(U,ee),T[ee+U.length]=0,J?[ee,U.length]:ee}};h.allocCString=(j,J=!1)=>nt(j,J,h.alloc,"allocCString()"),h.scopedAllocPush=function(){Ze(h,"scopedAllocPush");const j=[];return I.scopedAlloc.push(j),j},h.scopedAllocPop=function(j){Ze(h,"scopedAllocPop");const J=arguments.length?I.scopedAlloc.indexOf(j):I.scopedAlloc.length-1;J<0&&b("Invalid state object for scopedAllocPop()."),arguments.length===0&&(j=I.scopedAlloc[J]),I.scopedAlloc.splice(J,1);for(let he;he=j.pop();)h.functionEntry(he)?h.uninstallFunction(he):h.dealloc(he)},h.scopedAlloc=function(j){I.scopedAlloc.length||b("No scopedAllocPush() scope is active.");const J=h.alloc(j);return I.scopedAlloc[I.scopedAlloc.length-1].push(J),J},Object.defineProperty(h.scopedAlloc,"level",{configurable:!1,enumerable:!1,get:()=>I.scopedAlloc.length,set:()=>b("The 'active' property is read-only.")}),h.scopedAllocCString=(j,J=!1)=>nt(j,J,h.scopedAlloc,"scopedAllocCString()");const Ae=function(j,J){const he=h[j?"scopedAlloc":"alloc"]((J.length+1)*h.ptrSizeof);let Ke=0;return J.forEach(U=>{h.pokePtr(he+h.ptrSizeof*Ke++,h[j?"scopedAllocCString":"allocCString"](""+U))}),h.pokePtr(he+h.ptrSizeof*Ke,0),he};h.scopedAllocMainArgv=j=>Ae(!0,j),h.allocMainArgv=j=>Ae(!1,j),h.cArgvToJs=(j,J)=>{const he=[];for(let Ke=0;Ke<j;++Ke){const U=h.peekPtr(J+h.ptrSizeof*Ke);he.push(U?h.cstrToJs(U):null)}return he},h.scopedAllocCall=function(j){h.scopedAllocPush();try{return j()}finally{h.scopedAllocPop()}};const xe=function(j,J,he){Ze(h,he);const Ke=J?"i64":_;let U=h[he](j*(J?8:S));if(h.poke(U,0,Ke),j===1)return U;const ee=[U];for(let T=1;T<j;++T)U+=J?8:S,ee[T]=U,h.poke(U,0,Ke);return ee};h.allocPtr=(j=1,J=!0)=>xe(j,J,"alloc"),h.scopedAllocPtr=(j=1,J=!0)=>xe(j,J,"scopedAlloc"),h.xGet=function(j){return h.exports[j]||b("Cannot find exported symbol:",j)};const Ue=(j,J)=>b(j+"() requires",J,"argument(s).");h.xCall=function(j,...J){const he=j instanceof Function?j:h.xGet(j);return he instanceof Function||b("Exported symbol",j,"is not a function."),he.length!==J.length&&Ue(he===j?he.name:j,he.length),arguments.length===2&&Array.isArray(arguments[1])?he.apply(null,arguments[1]):he.apply(null,J)},I.xWrap=Object.create(null),I.xWrap.convert=Object.create(null),I.xWrap.convert.arg=new Map,I.xWrap.convert.result=new Map;const ue=I.xWrap.convert.arg,pe=I.xWrap.convert.result;h.bigIntEnabled&&ue.set("i64",j=>BigInt(j));const _e=_==="i32"?j=>j|0:j=>BigInt(j)|BigInt(0);ue.set("i32",_e).set("i16",j=>(j|0)&65535).set("i8",j=>(j|0)&255).set("f32",j=>Number(j).valueOf()).set("float",ue.get("f32")).set("f64",ue.get("f32")).set("double",ue.get("f64")).set("int",ue.get("i32")).set("null",j=>j).set(null,ue.get("null")).set("**",_e).set("*",_e),pe.set("*",_e).set("pointer",_e).set("number",j=>Number(j)).set("void",j=>{}).set("null",j=>j).set(null,pe.get("null"));{const j=["i8","i16","i32","int","f32","float","f64","double"];h.bigIntEnabled&&j.push("i64");const J=ue.get(_);for(const he of j)ue.set(he+"*",J),pe.set(he+"*",J),pe.set(he,ue.get(he)||b("Missing arg converter:",he))}const We=function(j){return typeof j=="string"?h.scopedAllocCString(j):j?_e(j):null};ue.set("string",We).set("utf8",We).set("pointer",We),pe.set("string",j=>h.cstrToJs(j)).set("utf8",pe.get("string")).set("string:dealloc",j=>{try{return j?h.cstrToJs(j):null}finally{h.dealloc(j)}}).set("utf8:dealloc",pe.get("string:dealloc")).set("json",j=>JSON.parse(h.cstrToJs(j))).set("json:dealloc",j=>{try{return j?JSON.parse(h.cstrToJs(j)):null}finally{h.dealloc(j)}});const $e=class{constructor(j){this.name=j.name||"unnamed adapter"}convertArg(j,J,he){b("AbstractArgAdapter must be subclassed.")}};ue.FuncPtrAdapter=class ra extends $e{constructor(J){super(J),ue.FuncPtrAdapter.warnOnUse&&console.warn("xArg.FuncPtrAdapter is an internal-only API","and is not intended to be invoked from","client-level code. Invoked with:",J),this.name=J.name||"unnamed",this.signature=J.signature,J.contextKey instanceof Function&&(this.contextKey=J.contextKey,J.bindScope||(J.bindScope="context")),this.bindScope=J.bindScope||b("FuncPtrAdapter options requires a bindScope (explicit or implied)."),ra.bindScopes.indexOf(J.bindScope)<0&&b("Invalid options.bindScope ("+J.bindMod+") for FuncPtrAdapter. Expecting one of: ("+ra.bindScopes.join(", ")+")"),this.isTransient=this.bindScope==="transient",this.isContext=this.bindScope==="context",this.isPermanent=this.bindScope==="permanent",this.singleton=this.bindScope==="singleton"?[]:void 0,this.callProxy=J.callProxy instanceof Function?J.callProxy:void 0}contextKey(J,he){return this}contextMap(J){const he=this.__cmap||(this.__cmap=new Map);let Ke=he.get(J);return Ke===void 0&&he.set(J,Ke=[]),Ke}convertArg(J,he,Ke){let U=this.singleton;if(!U&&this.isContext&&(U=this.contextMap(this.contextKey(he,Ke))),U&&U[0]===J)return U[1];if(J instanceof Function){this.callProxy&&(J=this.callProxy(J));const ee=re(J,this.signature,this.isTransient);if(ra.debugFuncInstall&&ra.debugOut("FuncPtrAdapter installed",this,this.contextKey(he,Ke),"@"+ee,J),U){if(U[1]){ra.debugFuncInstall&&ra.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(he,Ke),"@"+U[1],J);try{I.scopedAlloc[I.scopedAlloc.length-1].push(U[1])}catch{}}U[0]=J,U[1]=ee}return ee}else if(h.isPtr(J)||J===null||J===void 0){if(U&&U[1]&&U[1]!==J){ra.debugFuncInstall&&ra.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(he,Ke),"@"+U[1],J);try{I.scopedAlloc[I.scopedAlloc.length-1].push(U[1])}catch{}U[0]=U[1]=J|0}return J||0}else throw new TypeError("Invalid FuncPtrAdapter argument type. Expecting a function pointer or a "+(this.name?this.name+" ":"")+"function matching signature "+this.signature+".")}},ue.FuncPtrAdapter.warnOnUse=!1,ue.FuncPtrAdapter.debugFuncInstall=!1,ue.FuncPtrAdapter.debugOut=console.debug.bind(console),ue.FuncPtrAdapter.bindScopes=["transient","context","singleton","permanent"];const we=j=>ue.get(j)||b("Argument adapter not found:",j),Me=j=>pe.get(j)||b("Result adapter not found:",j);I.xWrap.convertArg=(j,...J)=>we(j)(...J),I.xWrap.convertArgNoCheck=(j,...J)=>ue.get(j)(...J),I.xWrap.convertResult=(j,J)=>j===null?J:j?Me(j)(J):void 0,I.xWrap.convertResultNoCheck=(j,J)=>j===null?J:j?pe.get(j)(J):void 0,h.xWrap=function(j,J,...he){arguments.length===3&&Array.isArray(arguments[2])&&(he=arguments[2]),h.isPtr(j)&&(j=h.functionEntry(j)||b("Function pointer not found in WASM function table."));const Ke=j instanceof Function,U=Ke?j:h.xGet(j);if(Ke&&(j=U.name||"unnamed function"),he.length!==U.length&&Ue(j,U.length),J===null&&U.length===0)return U;J!=null&&Me(J);for(const T of he)T instanceof $e?ue.set(T,(...L)=>T.convertArg(...L)):we(T);const ee=I.xWrap;return U.length===0?(...T)=>T.length?Ue(j,U.length):ee.convertResult(J,U.call(null)):function(...T){T.length!==U.length&&Ue(j,U.length);const L=h.scopedAllocPush();try{let W=0;for(;W<T.length;++W)T[W]=ee.convertArgNoCheck(he[W],T[W],T,W);return ee.convertResultNoCheck(J,U.apply(null,T))}finally{h.scopedAllocPop(L)}}};const pt=function(j,J,he,Ke,U,ee){if(typeof he=="string"){if(J===1)return ee.get(he);if(J===2){if(Ke)Ke instanceof Function||b(U,"requires a function argument.");else return delete ee.get(he),j;return ee.set(he,Ke),j}}b("Invalid arguments to",U)};return h.xWrap.resultAdapter=function j(J,he){return pt(j,arguments.length,J,he,"resultAdapter()",pe)},h.xWrap.argAdapter=function j(J,he){return pt(j,arguments.length,J,he,"argAdapter()",ue)},h.xWrap.FuncPtrAdapter=ue.FuncPtrAdapter,h.xCallWrapped=function(j,J,he,...Ke){return Array.isArray(arguments[3])&&(Ke=arguments[3]),h.xWrap(j,J,he||[]).apply(null,Ke||[])},h.xWrap.testConvertArg=I.xWrap.convertArg,h.xWrap.testConvertResult=I.xWrap.convertResult,h},globalThis.WhWasmUtilInstaller.yawl=function(h){const b=()=>fetch(h.uri,{credentials:"same-origin"}),_=this,S=function(X){if(h.wasmUtilTarget){const re=(...Ve)=>{throw new Error(Ve.join(" "))},Le=h.wasmUtilTarget;if(Le.module=X.module,Le.instance=X.instance,Le.instance.exports.memory||(Le.memory=h.imports&&h.imports.env&&h.imports.env.memory||re("Missing 'memory' object!")),!Le.alloc&&X.instance.exports.malloc){const Ve=X.instance.exports;Le.alloc=function(Ze){return Ve.malloc(Ze)||re("Allocation of",Ze,"bytes failed.")},Le.dealloc=function(Ze){Ve.free(Ze)}}_(Le)}return h.onload&&h.onload(X,h),X};return WebAssembly.instantiateStreaming?function(){return WebAssembly.instantiateStreaming(b(),h.imports||{}).then(S)}:function(){return b().then(re=>re.arrayBuffer()).then(re=>WebAssembly.instantiate(re,h.imports||{})).then(S)}}.bind(globalThis.WhWasmUtilInstaller),globalThis.Jaccwabyt=function h(b){const _=(...Pe)=>{throw new Error(Pe.join(" "))};!(b.heap instanceof WebAssembly.Memory)&&!(b.heap instanceof Function)&&_("config.heap must be WebAssembly.Memory instance or a function."),["alloc","dealloc"].forEach(function(Pe){b[Pe]instanceof Function||_("Config option '"+Pe+"' must be a function.")});const S=h,I=b.heap instanceof Function?b.heap:()=>new Uint8Array(b.heap.buffer),X=b.alloc,re=b.dealloc,Le=b.log||console.log.bind(console),Ve=b.memberPrefix||"",Ze=b.memberSuffix||"",nt=b.bigIntEnabled===void 0?!!globalThis.BigInt64Array:!!b.bigIntEnabled,Ae=globalThis.BigInt,xe=globalThis.BigInt64Array,Ue=b.ptrSizeof||4,ue=b.ptrIR||"i32";S.debugFlags||(S.__makeDebugFlags=function(Pe=null){Pe&&Pe.__flags&&(Pe=Pe.__flags);const ot=function dt(xt){return arguments.length===0?dt.__flags:(xt<0?(delete dt.__flags.getter,delete dt.__flags.setter,delete dt.__flags.alloc,delete dt.__flags.dealloc):(dt.__flags.getter=(1&xt)!==0,dt.__flags.setter=(2&xt)!==0,dt.__flags.alloc=(4&xt)!==0,dt.__flags.dealloc=(8&xt)!==0),dt._flags)};return Object.defineProperty(ot,"__flags",{iterable:!1,writable:!1,value:Object.create(Pe)}),Pe||ot(0),ot},S.debugFlags=S.__makeDebugFlags());const pe=function(){const Pe=new ArrayBuffer(2);return new DataView(Pe).setInt16(0,256,!0),new Int16Array(Pe)[0]===256}(),_e=Pe=>Pe[1]==="(",We=Pe=>Pe==="P",$e=Pe=>_e(Pe)?"p":Pe[0],we=function(Pe){switch($e(Pe)){case"c":case"C":return"i8";case"i":return"i32";case"p":case"P":case"s":return ue;case"j":return"i64";case"f":return"float";case"d":return"double"}_("Unhandled signature IR:",Pe)},Me=xe?()=>!0:()=>_("BigInt64Array is not available."),pt=function(Pe){switch($e(Pe)){case"p":case"P":case"s":{switch(Ue){case 4:return"getInt32";case 8:return Me()&&"getBigInt64"}break}case"i":return"getInt32";case"c":return"getInt8";case"C":return"getUint8";case"j":return Me()&&"getBigInt64";case"f":return"getFloat32";case"d":return"getFloat64"}_("Unhandled DataView getter for signature:",Pe)},j=function(Pe){switch($e(Pe)){case"p":case"P":case"s":{switch(Ue){case 4:return"setInt32";case 8:return Me()&&"setBigInt64"}break}case"i":return"setInt32";case"c":return"setInt8";case"C":return"setUint8";case"j":return Me()&&"setBigInt64";case"f":return"setFloat32";case"d":return"setFloat64"}_("Unhandled DataView setter for signature:",Pe)},J=function(Pe){switch($e(Pe)){case"i":case"f":case"c":case"C":case"d":return Number;case"j":return Me()&&Ae;case"p":case"P":case"s":switch(Ue){case 4:return Number;case 8:return Me()&&Ae}break}_("Unhandled DataView set wrapper for signature:",Pe)},he=(Pe,ot)=>Pe+"::"+ot,Ke=function(Pe,ot){return()=>_(he(Pe,ot),"is read-only.")},U=new WeakMap,ee="(pointer-is-external)",T=function(Pe,ot,dt){if(dt||(dt=U.get(ot)),dt){if(U.delete(ot),Array.isArray(ot.ondispose)){let xt;for(;xt=ot.ondispose.shift();)try{xt instanceof Function?xt.call(ot):xt instanceof Ft?xt.dispose():typeof xt=="number"&&re(xt)}catch(or){console.warn("ondispose() for",Pe.structName,"@",dt,"threw. NOT propagating it.",or)}}else if(ot.ondispose instanceof Function)try{ot.ondispose()}catch(xt){console.warn("ondispose() for",Pe.structName,"@",dt,"threw. NOT propagating it.",xt)}delete ot.ondispose,Pe.debugFlags.__flags.dealloc&&Le("debug.dealloc:",ot[ee]?"EXTERNAL":"",Pe.structName,"instance:",Pe.structInfo.sizeof,"bytes @"+dt),ot[ee]||re(dt)}},L=Pe=>({configurable:!1,writable:!1,iterable:!1,value:Pe}),W=function(Pe,ot,dt){let xt=!dt;dt?Object.defineProperty(ot,ee,L(dt)):(dt=X(Pe.structInfo.sizeof),dt||_("Allocation of",Pe.structName,"structure failed."));try{Pe.debugFlags.__flags.alloc&&Le("debug.alloc:",xt?"":"EXTERNAL",Pe.structName,"instance:",Pe.structInfo.sizeof,"bytes @"+dt),xt&&I().fill(0,dt,dt+Pe.structInfo.sizeof),U.set(ot,dt)}catch(or){throw T(Pe,ot,dt),or}},qe=function(){const Pe=this.pointer;return Pe?new Uint8Array(I().slice(Pe,Pe+this.structInfo.sizeof)):null},Et=L(Pe=>Ve+Pe+Ze),Lt=function(Pe,ot,dt=!0){let xt=Pe.members[ot];if(!xt&&(Ve||Ze)){for(const or of Object.values(Pe.members))if(or.key===ot){xt=or;break}!xt&&dt&&_(he(Pe.name,ot),"is not a mapped struct member.")}return xt},Wt=function Pe(ot,dt,xt=!1){Pe._||(Pe._=Pr=>Pr.replace(/[^vipPsjrdcC]/g,"").replace(/[pPscC]/g,"i"));const or=Lt(ot.structInfo,dt,!0);return xt?Pe._(or.signature):or.signature},Ye={configurable:!1,enumerable:!1,get:function(){return U.get(this)},set:()=>_("Cannot assign the 'pointer' property of a struct.")},de=L(function(){const Pe=[];for(const ot of Object.keys(this.structInfo.members))Pe.push(this.memberKey(ot));return Pe}),ke=new TextDecoder("utf-8"),Ge=new TextEncoder,tt=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,Rt=function(Pe,ot,dt){return ke.decode(Pe.buffer instanceof tt?Pe.slice(ot,dt):Pe.subarray(ot,dt))},zt=function(Pe,ot,dt=!1){const xt=Lt(Pe.structInfo,ot,dt);return xt&&xt.signature.length===1&&xt.signature[0]==="s"?xt:!1},Ne=function(Pe){Pe.signature!=="s"&&_("Invalid member type signature for C-string value:",JSON.stringify(Pe))},He=function(ot,dt){const xt=Lt(ot.structInfo,dt,!0);Ne(xt);const or=ot[xt.key];if(!or)return null;let Pr=or;const qr=I();for(;qr[Pr]!==0;++Pr);return or===Pr?"":Rt(qr,or,Pr)},Xe=function(Pe,...ot){Pe.ondispose?Array.isArray(Pe.ondispose)||(Pe.ondispose=[Pe.ondispose]):Pe.ondispose=[],Pe.ondispose.push(...ot)},wt=function(Pe){const ot=Ge.encode(Pe),dt=X(ot.length+1);dt||_("Allocation error while duplicating string:",Pe);const xt=I();return xt.set(ot,dt),xt[dt+ot.length]=0,dt},ct=function(Pe,ot,dt){const xt=Lt(Pe.structInfo,ot,!0);Ne(xt);const or=wt(dt);return Pe[xt.key]=or,Xe(Pe,or),Pe},Ft=function(ot,dt){arguments[2]!==L&&_("Do not call the StructType constructor","from client-level code."),Object.defineProperties(this,{structName:L(ot),structInfo:L(dt)})};Ft.prototype=Object.create(null,{dispose:L(function(){T(this.constructor,this)}),lookupMember:L(function(Pe,ot=!0){return Lt(this.structInfo,Pe,ot)}),memberToJsString:L(function(Pe){return He(this,Pe)}),memberIsString:L(function(Pe,ot=!0){return zt(this,Pe,ot)}),memberKey:Et,memberKeys:de,memberSignature:L(function(Pe,ot=!1){return Wt(this,Pe,ot)}),memoryDump:L(qe),pointer:Ye,setMemberCString:L(function(Pe,ot){return ct(this,Pe,ot)})}),Object.assign(Ft.prototype,{addOnDispose:function(...Pe){return Xe(this,...Pe),this}}),Object.defineProperties(Ft,{allocCString:L(wt),isA:L(Pe=>Pe instanceof Ft),hasExternalPointer:L(Pe=>Pe instanceof Ft&&!!Pe[ee]),memberKey:Et});const ir=Pe=>Number.isFinite(Pe)||Pe instanceof(Ae||Number),kt=function Pe(ot,dt,xt){if(!Pe._){Pe._={getters:{},setters:{},sw:{}};const Un=["i","c","C","p","P","s","f","d","v()"];nt&&Un.push("j"),Un.forEach(function(ps){Pe._.getters[ps]=pt(ps),Pe._.setters[ps]=j(ps),Pe._.sw[ps]=J(ps)});const jy=/^[ipPsjfdcC]$/,Fy=/^[vipPsjfdcC]\([ipPsjfdcC]*\)$/;Pe.sigCheck=function(ps,Ly,Mh,cd){Object.prototype.hasOwnProperty.call(ps,Mh)&&_(ps.structName,"already has a property named",Mh+"."),jy.test(cd)||Fy.test(cd)||_("Malformed signature for",he(ps.structName,Ly)+":",cd)}}const or=ot.memberKey(dt);Pe.sigCheck(ot.prototype,dt,or,xt.signature),xt.key=or,xt.name=dt;const Pr=$e(xt.signature),qr=he(ot.prototype.structName,or),Rr=ot.prototype.debugFlags.__flags,Bo=Object.create(null);Bo.configurable=!1,Bo.enumerable=!1,Bo.get=function(){Rr.getter&&Le("debug.getter:",Pe._.getters[Pr],"for",we(Pr),qr,"@",this.pointer,"+",xt.offset,"sz",xt.sizeof);let Un=new DataView(I().buffer,this.pointer+xt.offset,xt.sizeof)[Pe._.getters[Pr]](0,pe);return Rr.getter&&Le("debug.getter:",qr,"result =",Un),Un},xt.readOnly?Bo.set=Ke(ot.prototype.structName,or):Bo.set=function(Un){if(Rr.setter&&Le("debug.setter:",Pe._.setters[Pr],"for",we(Pr),qr,"@",this.pointer,"+",xt.offset,"sz",xt.sizeof,Un),this.pointer||_("Cannot set struct property on disposed instance."),Un===null)Un=0;else for(;!ir(Un);){if(We(xt.signature)&&Un instanceof Ft){Un=Un.pointer||0,Rr.setter&&Le("debug.setter:",qr,"resolved to",Un);break}_("Invalid value for pointer-type",qr+".")}new DataView(I().buffer,this.pointer+xt.offset,xt.sizeof)[Pe._.setters[Pr]](0,Pe._.sw[Pr](Un),pe)},Object.defineProperty(ot.prototype,or,Bo)},an=function Pe(ot,dt){arguments.length===1?(dt=ot,ot=dt.name):dt.name||(dt.name=ot),ot||_("Struct name is required.");let xt=!1;Object.keys(dt.members).forEach(qr=>{const Rr=dt.members[qr];Rr.sizeof?Rr.sizeof===1?Rr.signature==="c"||Rr.signature==="C"||_("Unexpected sizeof==1 member",he(dt.name,qr),"with signature",Rr.signature):(Rr.sizeof%4!==0&&(console.warn("Invalid struct member description =",Rr,"from",dt),_(ot,"member",qr,"sizeof is not aligned. sizeof="+Rr.sizeof)),Rr.offset%4!==0&&(console.warn("Invalid struct member description =",Rr,"from",dt),_(ot,"member",qr,"offset is not aligned. offset="+Rr.offset))):_(ot,"member",qr,"is missing sizeof."),(!xt||xt.offset<Rr.offset)&&(xt=Rr)}),xt?dt.sizeof<xt.offset+xt.sizeof&&_("Invalid struct config:",ot,"max member offset ("+xt.offset+") ","extends past end of struct (sizeof="+dt.sizeof+")."):_("No member property descriptions found.");const or=L(S.__makeDebugFlags(Pe.debugFlags)),Pr=function qr(Rr){this instanceof qr?arguments.length?((Rr!==(Rr|0)||Rr<=0)&&_("Invalid pointer value for",ot,"constructor."),W(qr,this,Rr)):W(qr,this):_("The",ot,"constructor may only be called via 'new'.")};return Object.defineProperties(Pr,{debugFlags:or,isA:L(qr=>qr instanceof Pr),memberKey:Et,memberKeys:de,methodInfoForKey:L(function(qr){}),structInfo:L(dt),structName:L(ot)}),Pr.prototype=new Ft(ot,dt,L),Object.defineProperties(Pr.prototype,{debugFlags:or,constructor:L(Pr)}),Object.keys(dt.members).forEach(qr=>kt(Pr,qr,dt.members[qr])),Pr};return an.StructType=Ft,an.config=b,an.allocCString=wt,an.debugFlags||(an.debugFlags=S.__makeDebugFlags(S.debugFlags)),an},globalThis.sqlite3ApiBootstrap.initializers.push(function(h){const b=(...ue)=>{throw new Error(ue.join(" "))};h.SQLite3Error.toss;const _=h.capi,S=h.wasm,I=h.util;if(globalThis.WhWasmUtilInstaller(S),delete globalThis.WhWasmUtilInstaller,S.bindingSignatures=[["sqlite3_aggregate_context","void*","sqlite3_context*","int"],["sqlite3_bind_double","int","sqlite3_stmt*","int","f64"],["sqlite3_bind_int","int","sqlite3_stmt*","int","int"],["sqlite3_bind_null",void 0,"sqlite3_stmt*","int"],["sqlite3_bind_parameter_count","int","sqlite3_stmt*"],["sqlite3_bind_parameter_index","int","sqlite3_stmt*","string"],["sqlite3_bind_parameter_name","string","sqlite3_stmt*","int"],["sqlite3_bind_pointer","int","sqlite3_stmt*","int","*","string:static","*"],["sqlite3_busy_handler","int",["sqlite3*",new S.xWrap.FuncPtrAdapter({signature:"i(pi)",contextKey:(ue,pe)=>ue[0]}),"*"]],["sqlite3_busy_timeout","int","sqlite3*","int"],["sqlite3_changes","int","sqlite3*"],["sqlite3_clear_bindings","int","sqlite3_stmt*"],["sqlite3_collation_needed","int","sqlite3*","*","*"],["sqlite3_column_blob","*","sqlite3_stmt*","int"],["sqlite3_column_bytes","int","sqlite3_stmt*","int"],["sqlite3_column_count","int","sqlite3_stmt*"],["sqlite3_column_decltype","string","sqlite3_stmt*","int"],["sqlite3_column_double","f64","sqlite3_stmt*","int"],["sqlite3_column_int","int","sqlite3_stmt*","int"],["sqlite3_column_name","string","sqlite3_stmt*","int"],["sqlite3_column_text","string","sqlite3_stmt*","int"],["sqlite3_column_type","int","sqlite3_stmt*","int"],["sqlite3_column_value","sqlite3_value*","sqlite3_stmt*","int"],["sqlite3_commit_hook","void*",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_commit_hook",signature:"i(p)",contextKey:ue=>ue[0]}),"*"]],["sqlite3_compileoption_get","string","int"],["sqlite3_compileoption_used","int","string"],["sqlite3_complete","int","string:flexible"],["sqlite3_context_db_handle","sqlite3*","sqlite3_context*"],["sqlite3_data_count","int","sqlite3_stmt*"],["sqlite3_db_filename","string","sqlite3*","string"],["sqlite3_db_handle","sqlite3*","sqlite3_stmt*"],["sqlite3_db_name","string","sqlite3*","int"],["sqlite3_db_readonly","int","sqlite3*","string"],["sqlite3_db_status","int","sqlite3*","int","*","*","int"],["sqlite3_errcode","int","sqlite3*"],["sqlite3_errmsg","string","sqlite3*"],["sqlite3_error_offset","int","sqlite3*"],["sqlite3_errstr","string","int"],["sqlite3_exec","int",["sqlite3*","string:flexible",new S.xWrap.FuncPtrAdapter({signature:"i(pipp)",bindScope:"transient",callProxy:ue=>{let pe;return(_e,We,$e,we)=>{try{const Me=S.cArgvToJs(We,$e);return pe||(pe=S.cArgvToJs(We,we)),ue(Me,pe)|0}catch(Me){return Me.resultCode||_.SQLITE_ERROR}}}}),"*","**"]],["sqlite3_expanded_sql","string","sqlite3_stmt*"],["sqlite3_extended_errcode","int","sqlite3*"],["sqlite3_extended_result_codes","int","sqlite3*","int"],["sqlite3_file_control","int","sqlite3*","string","int","*"],["sqlite3_finalize","int","sqlite3_stmt*"],["sqlite3_free",void 0,"*"],["sqlite3_get_autocommit","int","sqlite3*"],["sqlite3_get_auxdata","*","sqlite3_context*","int"],["sqlite3_initialize",void 0],["sqlite3_interrupt",void 0,"sqlite3*"],["sqlite3_is_interrupted","int","sqlite3*"],["sqlite3_keyword_count","int"],["sqlite3_keyword_name","int",["int","**","*"]],["sqlite3_keyword_check","int",["string","int"]],["sqlite3_libversion","string"],["sqlite3_libversion_number","int"],["sqlite3_limit","int",["sqlite3*","int","int"]],["sqlite3_malloc","*","int"],["sqlite3_open","int","string","*"],["sqlite3_open_v2","int","string","*","int","string"],["sqlite3_realloc","*","*","int"],["sqlite3_reset","int","sqlite3_stmt*"],["sqlite3_result_blob",void 0,"sqlite3_context*","*","int","*"],["sqlite3_result_double",void 0,"sqlite3_context*","f64"],["sqlite3_result_error",void 0,"sqlite3_context*","string","int"],["sqlite3_result_error_code",void 0,"sqlite3_context*","int"],["sqlite3_result_error_nomem",void 0,"sqlite3_context*"],["sqlite3_result_error_toobig",void 0,"sqlite3_context*"],["sqlite3_result_int",void 0,"sqlite3_context*","int"],["sqlite3_result_null",void 0,"sqlite3_context*"],["sqlite3_result_pointer",void 0,"sqlite3_context*","*","string:static","*"],["sqlite3_result_subtype",void 0,"sqlite3_value*","int"],["sqlite3_result_text",void 0,"sqlite3_context*","string","int","*"],["sqlite3_result_zeroblob",void 0,"sqlite3_context*","int"],["sqlite3_rollback_hook","void*",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_rollback_hook",signature:"v(p)",contextKey:ue=>ue[0]}),"*"]],["sqlite3_set_auxdata",void 0,["sqlite3_context*","int","*",new S.xWrap.FuncPtrAdapter({name:"xDestroyAuxData",signature:"v(*)",contextKey:(ue,pe)=>ue[0]})]],["sqlite3_shutdown",void 0],["sqlite3_sourceid","string"],["sqlite3_sql","string","sqlite3_stmt*"],["sqlite3_status","int","int","*","*","int"],["sqlite3_step","int","sqlite3_stmt*"],["sqlite3_stmt_busy","int","sqlite3_stmt*"],["sqlite3_stmt_readonly","int","sqlite3_stmt*"],["sqlite3_stmt_status","int","sqlite3_stmt*","int","int"],["sqlite3_strglob","int","string","string"],["sqlite3_stricmp","int","string","string"],["sqlite3_strlike","int","string","string","int"],["sqlite3_strnicmp","int","string","string","int"],["sqlite3_table_column_metadata","int","sqlite3*","string","string","string","**","**","*","*","*"],["sqlite3_total_changes","int","sqlite3*"],["sqlite3_trace_v2","int",["sqlite3*","int",new S.xWrap.FuncPtrAdapter({name:"sqlite3_trace_v2::callback",signature:"i(ippp)",contextKey:(ue,pe)=>ue[0]}),"*"]],["sqlite3_txn_state","int",["sqlite3*","string"]],["sqlite3_uri_boolean","int","sqlite3_filename","string","int"],["sqlite3_uri_key","string","sqlite3_filename","int"],["sqlite3_uri_parameter","string","sqlite3_filename","string"],["sqlite3_user_data","void*","sqlite3_context*"],["sqlite3_value_blob","*","sqlite3_value*"],["sqlite3_value_bytes","int","sqlite3_value*"],["sqlite3_value_double","f64","sqlite3_value*"],["sqlite3_value_dup","sqlite3_value*","sqlite3_value*"],["sqlite3_value_free",void 0,"sqlite3_value*"],["sqlite3_value_frombind","int","sqlite3_value*"],["sqlite3_value_int","int","sqlite3_value*"],["sqlite3_value_nochange","int","sqlite3_value*"],["sqlite3_value_numeric_type","int","sqlite3_value*"],["sqlite3_value_pointer","*","sqlite3_value*","string:static"],["sqlite3_value_subtype","int","sqlite3_value*"],["sqlite3_value_text","string","sqlite3_value*"],["sqlite3_value_type","int","sqlite3_value*"],["sqlite3_vfs_find","*","string"],["sqlite3_vfs_register","int","sqlite3_vfs*","int"],["sqlite3_vfs_unregister","int","sqlite3_vfs*"]],S.exports.sqlite3_progress_handler&&S.bindingSignatures.push(["sqlite3_progress_handler",void 0,["sqlite3*","int",new S.xWrap.FuncPtrAdapter({name:"xProgressHandler",signature:"i(p)",bindScope:"context",contextKey:(ue,pe)=>ue[0]}),"*"]]),S.exports.sqlite3_stmt_explain&&S.bindingSignatures.push(["sqlite3_stmt_explain","int","sqlite3_stmt*","int"],["sqlite3_stmt_isexplain","int","sqlite3_stmt*"]),S.exports.sqlite3_set_authorizer&&S.bindingSignatures.push(["sqlite3_set_authorizer","int",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_set_authorizer::xAuth",signature:"i(pissss)",contextKey:(ue,pe)=>ue[0],callProxy:ue=>(pe,_e,We,$e,we,Me)=>{try{return We=We&&S.cstrToJs(We),$e=$e&&S.cstrToJs($e),we=we&&S.cstrToJs(we),Me=Me&&S.cstrToJs(Me),ue(pe,_e,We,$e,we,Me)||0}catch(pt){return pt.resultCode||_.SQLITE_ERROR}}}),"*"]]),S.bindingSignatures.int64=[["sqlite3_bind_int64","int",["sqlite3_stmt*","int","i64"]],["sqlite3_changes64","i64",["sqlite3*"]],["sqlite3_column_int64","i64",["sqlite3_stmt*","int"]],["sqlite3_deserialize","int","sqlite3*","string","*","i64","i64","int"],["sqlite3_last_insert_rowid","i64",["sqlite3*"]],["sqlite3_malloc64","*","i64"],["sqlite3_msize","i64","*"],["sqlite3_overload_function","int",["sqlite3*","string","int"]],["sqlite3_realloc64","*","*","i64"],["sqlite3_result_int64",void 0,"*","i64"],["sqlite3_result_zeroblob64","int","*","i64"],["sqlite3_serialize","*","sqlite3*","string","*","int"],["sqlite3_set_last_insert_rowid",void 0,["sqlite3*","i64"]],["sqlite3_status64","int","int","*","*","int"],["sqlite3_total_changes64","i64",["sqlite3*"]],["sqlite3_update_hook","*",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_update_hook",signature:"v(iippj)",contextKey:ue=>ue[0],callProxy:ue=>(pe,_e,We,$e,we)=>{ue(pe,_e,S.cstrToJs(We),S.cstrToJs($e),we)}}),"*"]],["sqlite3_uri_int64","i64",["sqlite3_filename","string","i64"]],["sqlite3_value_int64","i64","sqlite3_value*"]],S.bigIntEnabled&&S.exports.sqlite3_declare_vtab&&S.bindingSignatures.int64.push(["sqlite3_create_module","int",["sqlite3*","string","sqlite3_module*","*"]],["sqlite3_create_module_v2","int",["sqlite3*","string","sqlite3_module*","*","*"]],["sqlite3_declare_vtab","int",["sqlite3*","string:flexible"]],["sqlite3_drop_modules","int",["sqlite3*","**"]],["sqlite3_vtab_collation","string","sqlite3_index_info*","int"],["sqlite3_vtab_distinct","int","sqlite3_index_info*"],["sqlite3_vtab_in","int","sqlite3_index_info*","int","int"],["sqlite3_vtab_in_first","int","sqlite3_value*","**"],["sqlite3_vtab_in_next","int","sqlite3_value*","**"],["sqlite3_vtab_nochange","int","sqlite3_context*"],["sqlite3_vtab_on_conflict","int","sqlite3*"],["sqlite3_vtab_rhs_value","int","sqlite3_index_info*","int","**"]),S.bigIntEnabled&&S.exports.sqlite3_preupdate_hook&&S.bindingSignatures.int64.push(["sqlite3_preupdate_blobwrite","int","sqlite3*"],["sqlite3_preupdate_count","int","sqlite3*"],["sqlite3_preupdate_depth","int","sqlite3*"],["sqlite3_preupdate_hook","*",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_preupdate_hook",signature:"v(ppippjj)",contextKey:ue=>ue[0],callProxy:ue=>(pe,_e,We,$e,we,Me,pt)=>{ue(pe,_e,We,S.cstrToJs($e),S.cstrToJs(we),Me,pt)}}),"*"]],["sqlite3_preupdate_new","int",["sqlite3*","int","**"]],["sqlite3_preupdate_old","int",["sqlite3*","int","**"]]),S.bigIntEnabled&&S.exports.sqlite3changegroup_add&&S.exports.sqlite3session_create&&S.exports.sqlite3_preupdate_hook){const ue={signature:"i(ps)",callProxy:pe=>(_e,We)=>{try{return pe(_e,S.cstrToJs(We))|0}catch($e){return $e.resultCode||_.SQLITE_ERROR}}};S.bindingSignatures.int64.push(["sqlite3changegroup_add","int",["sqlite3_changegroup*","int","void*"]],["sqlite3changegroup_add_strm","int",["sqlite3_changegroup*",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changegroup_delete",void 0,["sqlite3_changegroup*"]],["sqlite3changegroup_new","int",["**"]],["sqlite3changegroup_output","int",["sqlite3_changegroup*","int*","**"]],["sqlite3changegroup_output_strm","int",["sqlite3_changegroup*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply","int",["sqlite3*","int","void*",new S.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...ue}),new S.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_strm","int",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...ue}),new S.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_v2","int",["sqlite3*","int","void*",new S.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...ue}),new S.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_apply_v2_strm","int",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...ue}),new S.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_concat","int",["int","void*","int","void*","int*","**"]],["sqlite3changeset_concat_strm","int",[new S.xWrap.FuncPtrAdapter({name:"xInputA",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xInputB",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_conflict","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_finalize","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_fk_conflicts","int",["sqlite3_changeset_iter*","int*"]],["sqlite3changeset_invert","int",["int","void*","int*","**"]],["sqlite3changeset_invert_strm","int",[new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_new","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_next","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_old","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_op","int",["sqlite3_changeset_iter*","**","int*","int*","int*"]],["sqlite3changeset_pk","int",["sqlite3_changeset_iter*","**","int*"]],["sqlite3changeset_start","int",["**","int","*"]],["sqlite3changeset_start_strm","int",["**",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changeset_start_v2","int",["**","int","*","int"]],["sqlite3changeset_start_v2_strm","int",["**",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*","int"]],["sqlite3session_attach","int",["sqlite3_session*","string"]],["sqlite3session_changeset","int",["sqlite3_session*","int*","**"]],["sqlite3session_changeset_size","i64",["sqlite3_session*"]],["sqlite3session_changeset_strm","int",["sqlite3_session*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_config","int",["int","void*"]],["sqlite3session_create","int",["sqlite3*","string","**"]],["sqlite3session_diff","int",["sqlite3_session*","string","string","**"]],["sqlite3session_enable","int",["sqlite3_session*","int"]],["sqlite3session_indirect","int",["sqlite3_session*","int"]],["sqlite3session_isempty","int",["sqlite3_session*"]],["sqlite3session_memory_used","i64",["sqlite3_session*"]],["sqlite3session_object_config","int",["sqlite3_session*","int","void*"]],["sqlite3session_patchset","int",["sqlite3_session*","*","**"]],["sqlite3session_patchset_strm","int",["sqlite3_session*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_table_filter",void 0,["sqlite3_session*",new S.xWrap.FuncPtrAdapter({name:"xFilter",...ue,contextKey:(pe,_e)=>pe[0]}),"*"]])}S.bindingSignatures.wasmInternal=[["sqlite3__wasm_db_reset","int","sqlite3*"],["sqlite3__wasm_db_vfs","sqlite3_vfs*","sqlite3*","string"],["sqlite3__wasm_vfs_create_file","int","sqlite3_vfs*","string","*","int"],["sqlite3__wasm_posix_create_file","int","string","*","int"],["sqlite3__wasm_vfs_unlink","int","sqlite3_vfs*","string"],["sqlite3__wasm_qfmt_token","string:dealloc","string","int"]],h.StructBinder=globalThis.Jaccwabyt({heap:S.heap8u,alloc:S.alloc,dealloc:S.dealloc,bigIntEnabled:S.bigIntEnabled,memberPrefix:"$"}),delete globalThis.Jaccwabyt;{const ue=S.xWrap.argAdapter("string");S.xWrap.argAdapter("string:flexible",we=>ue(I.flexibleString(we))),S.xWrap.argAdapter("string:static",function(we){return S.isPtr(we)?we:(we=""+we,this[we]||(this[we]=S.allocCString(we)))}.bind(Object.create(null)));const pe=S.xWrap.argAdapter("*"),_e=function(){};S.xWrap.argAdapter("sqlite3_filename",pe)("sqlite3_context*",pe)("sqlite3_value*",pe)("void*",pe)("sqlite3_changegroup*",pe)("sqlite3_changeset_iter*",pe)("sqlite3_session*",pe)("sqlite3_stmt*",we=>pe(we instanceof(h?.oo1?.Stmt||_e)?we.pointer:we))("sqlite3*",we=>pe(we instanceof(h?.oo1?.DB||_e)?we.pointer:we))("sqlite3_vfs*",we=>typeof we=="string"?_.sqlite3_vfs_find(we)||h.SQLite3Error.toss(_.SQLITE_NOTFOUND,"Unknown sqlite3_vfs name:",we):pe(we instanceof(_.sqlite3_vfs||_e)?we.pointer:we)),S.exports.sqlite3_declare_vtab&&S.xWrap.argAdapter("sqlite3_index_info*",we=>pe(we instanceof(_.sqlite3_index_info||_e)?we.pointer:we))("sqlite3_module*",we=>pe(we instanceof(_.sqlite3_module||_e)?we.pointer:we));const We=S.xWrap.resultAdapter("*");S.xWrap.resultAdapter("sqlite3*",We)("sqlite3_context*",We)("sqlite3_stmt*",We)("sqlite3_value*",We)("sqlite3_vfs*",We)("void*",We),S.exports.sqlite3_step.length===0&&(S.xWrap.doArgcCheck=!1,h.config.warn("Disabling sqlite3.wasm.xWrap.doArgcCheck due to environmental quirks."));for(const we of S.bindingSignatures)_[we[0]]=S.xWrap.apply(null,we);for(const we of S.bindingSignatures.wasmInternal)I[we[0]]=S.xWrap.apply(null,we);const $e=function(we){return()=>b(we+"() is unavailable due to lack","of BigInt support in this build.")};for(const we of S.bindingSignatures.int64)_[we[0]]=S.bigIntEnabled?S.xWrap.apply(null,we):$e(we[0]);if(delete S.bindingSignatures,S.exports.sqlite3__wasm_db_error){const we=S.xWrap("sqlite3__wasm_db_error","int","sqlite3*","int","string");I.sqlite3__wasm_db_error=function(Me,pt,j){return pt instanceof h.WasmAllocError?(pt=_.SQLITE_NOMEM,j=0):pt instanceof Error&&(j=j||""+pt,pt=pt.resultCode||_.SQLITE_ERROR),Me?we(Me,pt,j):pt}}else I.sqlite3__wasm_db_error=function(we,Me,pt){return console.warn("sqlite3__wasm_db_error() is not exported.",arguments),Me}}{const ue=S.xCall("sqlite3__wasm_enum_json");ue||b("Maintenance required: increase sqlite3__wasm_enum_json()'s","static buffer size!"),S.ctype=JSON.parse(S.cstrToJs(ue));const pe=["access","authorizer","blobFinalizers","changeset","config","dataTypes","dbConfig","dbStatus","encodings","fcntl","flock","ioCap","limits","openFlags","prepareFlags","resultCodes","sqlite3Status","stmtStatus","syncFlags","trace","txnState","udfFlags","version"];S.bigIntEnabled&&pe.push("serialize","session","vtab");for(const $e of pe)for(const we of Object.entries(S.ctype[$e]))_[we[0]]=we[1];S.functionEntry(_.SQLITE_WASM_DEALLOC)||b("Internal error: cannot resolve exported function","entry SQLITE_WASM_DEALLOC (=="+_.SQLITE_WASM_DEALLOC+").");const _e=Object.create(null);for(const $e of["resultCodes"])for(const we of Object.entries(S.ctype[$e]))_e[we[1]]=we[0];_.sqlite3_js_rc_str=$e=>_e[$e];const We=Object.assign(Object.create(null),{WasmTestStruct:!0,sqlite3_kvvfs_methods:!I.isUIThread(),sqlite3_index_info:!S.bigIntEnabled,sqlite3_index_constraint:!S.bigIntEnabled,sqlite3_index_orderby:!S.bigIntEnabled,sqlite3_index_constraint_usage:!S.bigIntEnabled});for(const $e of S.ctype.structs)We[$e.name]||(_[$e.name]=h.StructBinder($e));if(_.sqlite3_index_info){for(const $e of["sqlite3_index_constraint","sqlite3_index_orderby","sqlite3_index_constraint_usage"])_.sqlite3_index_info[$e]=_[$e],delete _[$e];_.sqlite3_vtab_config=S.xWrap("sqlite3__wasm_vtab_config","int",["sqlite3*","int","int"])}}const X=(ue,pe,_e)=>I.sqlite3__wasm_db_error(ue,_.SQLITE_MISUSE,pe+"() requires "+_e+" argument"+(_e===1?"":"s")+"."),re=ue=>I.sqlite3__wasm_db_error(ue,_.SQLITE_FORMAT,"SQLITE_UTF8 is the only supported encoding."),Le=ue=>S.xWrap.argAdapter("sqlite3*")(ue),Ve=ue=>S.isPtr(ue)?S.cstrToJs(ue):ue,Ze=function(ue,pe){ue=Le(ue);let _e=this.dbMap.get(ue);if(pe)!_e&&pe>0&&this.dbMap.set(ue,_e=Object.create(null));else return this.dbMap.delete(ue),_e;return _e}.bind(Object.assign(Object.create(null),{dbMap:new Map}));Ze.addCollation=function(ue,pe){const _e=Ze(ue,1);_e.collation||(_e.collation=new Set),_e.collation.add(Ve(pe).toLowerCase())},Ze._addUDF=function(ue,pe,_e,We){pe=Ve(pe).toLowerCase();let $e=We.get(pe);$e||We.set(pe,$e=new Set),$e.add(_e<0?-1:_e)},Ze.addFunction=function(ue,pe,_e){const We=Ze(ue,1);We.udf||(We.udf=new Map),this._addUDF(ue,pe,_e,We.udf)},S.exports.sqlite3_create_window_function&&(Ze.addWindowFunc=function(ue,pe,_e){const We=Ze(ue,1);We.wudf||(We.wudf=new Map),this._addUDF(ue,pe,_e,We.wudf)}),Ze.cleanup=function(ue){ue=Le(ue);const pe=[ue];for(const $e of["sqlite3_busy_handler","sqlite3_commit_hook","sqlite3_preupdate_hook","sqlite3_progress_handler","sqlite3_rollback_hook","sqlite3_set_authorizer","sqlite3_trace_v2","sqlite3_update_hook"]){const we=S.exports[$e];if(we){pe.length=we.length;try{_[$e](...pe)}catch(Me){h.config.warn("close-time call of",$e+"(",pe,") threw:",Me)}}}const _e=Ze(ue,0);if(!_e)return;if(_e.collation){for(const $e of _e.collation)try{_.sqlite3_create_collation_v2(ue,$e,_.SQLITE_UTF8,0,0,0)}catch{}delete _e.collation}let We;for(We=0;We<2;++We){const $e=We?_e.wudf:_e.udf;if(!$e)continue;const we=We?_.sqlite3_create_window_function:_.sqlite3_create_function_v2;for(const Me of $e){const pt=Me[0],j=Me[1],J=[ue,pt,0,_.SQLITE_UTF8,0,0,0,0,0];We&&J.push(0);for(const he of j)try{J[2]=he,we.apply(null,J)}catch{}j.clear()}$e.clear()}delete _e.udf,delete _e.wudf};{const ue=S.xWrap("sqlite3_close_v2","int","sqlite3*");_.sqlite3_close_v2=function(pe){if(arguments.length!==1)return X(pe,"sqlite3_close_v2",1);if(pe)try{Ze.cleanup(pe)}catch{}return ue(pe)}}if(_.sqlite3session_create){const ue=S.xWrap("sqlite3session_delete",void 0,["sqlite3_session*"]);_.sqlite3session_delete=function(pe){if(arguments.length!==1)return X(pDb,"sqlite3session_delete",1);pe&&_.sqlite3session_table_filter(pe,0,0),ue(pe)}}{const ue=(_e,We)=>"argv["+We+"]:"+_e[0]+":"+S.cstrToJs(_e[1]).toLowerCase(),pe=S.xWrap("sqlite3_create_collation_v2","int",["sqlite3*","string","int","*",new S.xWrap.FuncPtrAdapter({name:"xCompare",signature:"i(pipip)",contextKey:ue}),new S.xWrap.FuncPtrAdapter({name:"xDestroy",signature:"v(p)",contextKey:ue})]);_.sqlite3_create_collation_v2=function(_e,We,$e,we,Me,pt){if(arguments.length!==6)return X(_e,"sqlite3_create_collation_v2",6);if(!($e&15))$e|=_.SQLITE_UTF8;else if(_.SQLITE_UTF8!==($e&15))return re(_e);try{const j=pe(_e,We,$e,we,Me,pt);return j===0&&Me instanceof Function&&Ze.addCollation(_e,We),j}catch(j){return I.sqlite3__wasm_db_error(_e,j)}},_.sqlite3_create_collation=(_e,We,$e,we,Me)=>arguments.length===5?_.sqlite3_create_collation_v2(_e,We,$e,we,Me,0):X(_e,"sqlite3_create_collation",5)}{const ue=function($e,we){return $e[0]+":"+($e[2]<0?-1:$e[2])+":"+we+":"+S.cstrToJs($e[1]).toLowerCase()},pe=Object.assign(Object.create(null),{xInverseAndStep:{signature:"v(pip)",contextKey:ue,callProxy:$e=>(we,Me,pt)=>{try{$e(we,..._.sqlite3_values_to_js(Me,pt))}catch(j){_.sqlite3_result_error_js(we,j)}}},xFinalAndValue:{signature:"v(p)",contextKey:ue,callProxy:$e=>we=>{try{_.sqlite3_result_js(we,$e(we))}catch(Me){_.sqlite3_result_error_js(we,Me)}}},xFunc:{signature:"v(pip)",contextKey:ue,callProxy:$e=>(we,Me,pt)=>{try{_.sqlite3_result_js(we,$e(we,..._.sqlite3_values_to_js(Me,pt)))}catch(j){_.sqlite3_result_error_js(we,j)}}},xDestroy:{signature:"v(p)",contextKey:ue,callProxy:$e=>we=>{try{$e(we)}catch(Me){console.error("UDF xDestroy method threw:",Me)}}}}),_e=S.xWrap("sqlite3_create_function_v2","int",["sqlite3*","string","int","int","*",new S.xWrap.FuncPtrAdapter({name:"xFunc",...pe.xFunc}),new S.xWrap.FuncPtrAdapter({name:"xStep",...pe.xInverseAndStep}),new S.xWrap.FuncPtrAdapter({name:"xFinal",...pe.xFinalAndValue}),new S.xWrap.FuncPtrAdapter({name:"xDestroy",...pe.xDestroy})]),We=S.exports.sqlite3_create_window_function?S.xWrap("sqlite3_create_window_function","int",["sqlite3*","string","int","int","*",new S.xWrap.FuncPtrAdapter({name:"xStep",...pe.xInverseAndStep}),new S.xWrap.FuncPtrAdapter({name:"xFinal",...pe.xFinalAndValue}),new S.xWrap.FuncPtrAdapter({name:"xValue",...pe.xFinalAndValue}),new S.xWrap.FuncPtrAdapter({name:"xInverse",...pe.xInverseAndStep}),new S.xWrap.FuncPtrAdapter({name:"xDestroy",...pe.xDestroy})]):void 0;_.sqlite3_create_function_v2=function $e(we,Me,pt,j,J,he,Ke,U,ee){if($e.length!==arguments.length)return X(we,"sqlite3_create_function_v2",$e.length);if(!(j&15))j|=_.SQLITE_UTF8;else if(_.SQLITE_UTF8!==(j&15))return re(we);try{const T=_e(we,Me,pt,j,J,he,Ke,U,ee);return T===0&&(he instanceof Function||Ke instanceof Function||U instanceof Function||ee instanceof Function)&&Ze.addFunction(we,Me,pt),T}catch(T){return console.error("sqlite3_create_function_v2() setup threw:",T),I.sqlite3__wasm_db_error(we,T,"Creation of UDF threw: "+T)}},_.sqlite3_create_function=function $e(we,Me,pt,j,J,he,Ke,U){return $e.length===arguments.length?_.sqlite3_create_function_v2(we,Me,pt,j,J,he,Ke,U,0):X(we,"sqlite3_create_function",$e.length)},We?_.sqlite3_create_window_function=function $e(we,Me,pt,j,J,he,Ke,U,ee,T){if($e.length!==arguments.length)return X(we,"sqlite3_create_window_function",$e.length);if(!(j&15))j|=_.SQLITE_UTF8;else if(_.SQLITE_UTF8!==(j&15))return re(we);try{const L=We(we,Me,pt,j,J,he,Ke,U,ee,T);return L===0&&(he instanceof Function||Ke instanceof Function||U instanceof Function||ee instanceof Function||T instanceof Function)&&Ze.addWindowFunc(we,Me,pt),L}catch(L){return console.error("sqlite3_create_window_function() setup threw:",L),I.sqlite3__wasm_db_error(we,L,"Creation of UDF threw: "+L)}}:delete _.sqlite3_create_window_function,_.sqlite3_create_function_v2.udfSetResult=_.sqlite3_create_function.udfSetResult=_.sqlite3_result_js,_.sqlite3_create_window_function&&(_.sqlite3_create_window_function.udfSetResult=_.sqlite3_result_js),_.sqlite3_create_function_v2.udfConvertArgs=_.sqlite3_create_function.udfConvertArgs=_.sqlite3_values_to_js,_.sqlite3_create_window_function&&(_.sqlite3_create_window_function.udfConvertArgs=_.sqlite3_values_to_js),_.sqlite3_create_function_v2.udfSetError=_.sqlite3_create_function.udfSetError=_.sqlite3_result_error_js,_.sqlite3_create_window_function&&(_.sqlite3_create_window_function.udfSetError=_.sqlite3_result_error_js)}{const ue=(_e,We)=>(typeof _e=="string"?We=-1:I.isSQLableTypedArray(_e)?(We=_e.byteLength,_e=I.typedArrayToString(_e instanceof ArrayBuffer?new Uint8Array(_e):_e)):Array.isArray(_e)&&(_e=_e.join(""),We=-1),[_e,We]),pe={basic:S.xWrap("sqlite3_prepare_v3","int",["sqlite3*","string","int","int","**","**"]),full:S.xWrap("sqlite3_prepare_v3","int",["sqlite3*","*","int","int","**","**"])};_.sqlite3_prepare_v3=function _e(We,$e,we,Me,pt,j){if(_e.length!==arguments.length)return X(We,"sqlite3_prepare_v3",_e.length);const[J,he]=ue($e,we);switch(typeof J){case"string":return pe.basic(We,J,he,Me,pt,null);case"number":return pe.full(We,J,he,Me,pt,j);default:return I.sqlite3__wasm_db_error(We,_.SQLITE_MISUSE,"Invalid SQL argument type for sqlite3_prepare_v2/v3().")}},_.sqlite3_prepare_v2=function _e(We,$e,we,Me,pt){return _e.length===arguments.length?_.sqlite3_prepare_v3(We,$e,we,0,Me,pt):X(We,"sqlite3_prepare_v2",_e.length)}}{const ue=S.xWrap("sqlite3_bind_text","int",["sqlite3_stmt*","int","string","int","*"]),pe=S.xWrap("sqlite3_bind_blob","int",["sqlite3_stmt*","int","*","int","*"]);_.sqlite3_bind_text=function _e(We,$e,we,Me,pt){if(_e.length!==arguments.length)return X(_.sqlite3_db_handle(We),"sqlite3_bind_text",_e.length);if(S.isPtr(we)||we===null)return ue(We,$e,we,Me,pt);we instanceof ArrayBuffer?we=new Uint8Array(we):Array.isArray(pMem)&&(we=pMem.join(""));let j,J;try{if(I.isSQLableTypedArray(we))j=S.allocFromTypedArray(we),J=we.byteLength;else if(typeof we=="string")[j,J]=S.allocCString(we);else return I.sqlite3__wasm_db_error(_.sqlite3_db_handle(We),_.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_text().");return ue(We,$e,j,J,_.SQLITE_WASM_DEALLOC)}catch(he){return S.dealloc(j),I.sqlite3__wasm_db_error(_.sqlite3_db_handle(We),he)}},_.sqlite3_bind_blob=function _e(We,$e,we,Me,pt){if(_e.length!==arguments.length)return X(_.sqlite3_db_handle(We),"sqlite3_bind_blob",_e.length);if(S.isPtr(we)||we===null)return pe(We,$e,we,Me,pt);we instanceof ArrayBuffer?we=new Uint8Array(we):Array.isArray(we)&&(we=we.join(""));let j,J;try{if(I.isBindableTypedArray(we))j=S.allocFromTypedArray(we),J=Me>=0?Me:we.byteLength;else if(typeof we=="string")[j,J]=S.allocCString(we);else return I.sqlite3__wasm_db_error(_.sqlite3_db_handle(We),_.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_blob().");return pe(We,$e,j,J,_.SQLITE_WASM_DEALLOC)}catch(he){return S.dealloc(j),I.sqlite3__wasm_db_error(_.sqlite3_db_handle(We),he)}}}_.sqlite3_config=function(ue,...pe){if(arguments.length<2)return _.SQLITE_MISUSE;switch(ue){case _.SQLITE_CONFIG_COVERING_INDEX_SCAN:case _.SQLITE_CONFIG_MEMSTATUS:case _.SQLITE_CONFIG_SMALL_MALLOC:case _.SQLITE_CONFIG_SORTERREF_SIZE:case _.SQLITE_CONFIG_STMTJRNL_SPILL:case _.SQLITE_CONFIG_URI:return S.exports.sqlite3__wasm_config_i(ue,pe[0]);case _.SQLITE_CONFIG_LOOKASIDE:return S.exports.sqlite3__wasm_config_ii(ue,pe[0],pe[1]);case _.SQLITE_CONFIG_MEMDB_MAXSIZE:return S.exports.sqlite3__wasm_config_j(ue,pe[0]);case _.SQLITE_CONFIG_GETMALLOC:case _.SQLITE_CONFIG_GETMUTEX:case _.SQLITE_CONFIG_GETPCACHE2:case _.SQLITE_CONFIG_GETPCACHE:case _.SQLITE_CONFIG_HEAP:case _.SQLITE_CONFIG_LOG:case _.SQLITE_CONFIG_MALLOC:case _.SQLITE_CONFIG_MMAP_SIZE:case _.SQLITE_CONFIG_MULTITHREAD:case _.SQLITE_CONFIG_MUTEX:case _.SQLITE_CONFIG_PAGECACHE:case _.SQLITE_CONFIG_PCACHE2:case _.SQLITE_CONFIG_PCACHE:case _.SQLITE_CONFIG_PCACHE_HDRSZ:case _.SQLITE_CONFIG_PMASZ:case _.SQLITE_CONFIG_SERIALIZED:case _.SQLITE_CONFIG_SINGLETHREAD:case _.SQLITE_CONFIG_SQLLOG:case _.SQLITE_CONFIG_WIN32_HEAPSIZE:default:return _.SQLITE_NOTFOUND}};{const ue=new Set;_.sqlite3_auto_extension=function(pe){if(pe instanceof Function)pe=S.installFunction("i(ppp)",pe);else if(arguments.length!==1||!S.isPtr(pe))return _.SQLITE_MISUSE;const _e=S.exports.sqlite3_auto_extension(pe);return pe!==arguments[0]&&(_e===0?ue.add(pe):S.uninstallFunction(pe)),_e},_.sqlite3_cancel_auto_extension=function(pe){return!pe||arguments.length!==1||!S.isPtr(pe)?0:S.exports.sqlite3_cancel_auto_extension(pe)},_.sqlite3_reset_auto_extension=function(){S.exports.sqlite3_reset_auto_extension();for(const pe of ue)S.uninstallFunction(pe);ue.clear()}}const nt=_.sqlite3_vfs_find("kvvfs");if(nt)if(I.isUIThread()){const ue=new _.sqlite3_kvvfs_methods(S.exports.sqlite3__wasm_kvvfs_methods());delete _.sqlite3_kvvfs_methods;const pe=S.exports.sqlite3__wasm_kvvfsMakeKeyOnPstack,_e=S.pstack,We=we=>S.peek(we)===115?sessionStorage:localStorage,$e={xRead:(we,Me,pt,j)=>{const J=_e.pointer,he=S.scopedAllocPush();try{const Ke=pe(we,Me);if(!Ke)return-3;const U=S.cstrToJs(Ke),ee=We(we).getItem(U);if(!ee)return-1;const T=ee.length;if(j<=0)return T;if(j===1)return S.poke(pt,0),T;const L=S.scopedAllocCString(ee);return j>T+1&&(j=T+1),S.heap8u().copyWithin(pt,L,L+j-1),S.poke(pt+j-1,0),j-1}catch(Ke){return console.error("kvstorageRead()",Ke),-2}finally{_e.restore(J),S.scopedAllocPop(he)}},xWrite:(we,Me,pt)=>{const j=_e.pointer;try{const J=pe(we,Me);if(!J)return 1;const he=S.cstrToJs(J);return We(we).setItem(he,S.cstrToJs(pt)),0}catch(J){return console.error("kvstorageWrite()",J),_.SQLITE_IOERR}finally{_e.restore(j)}},xDelete:(we,Me)=>{const pt=_e.pointer;try{const j=pe(we,Me);return j?(We(we).removeItem(S.cstrToJs(j)),0):1}catch(j){return console.error("kvstorageDelete()",j),_.SQLITE_IOERR}finally{_e.restore(pt)}}};for(const we of Object.keys($e))ue[ue.memberKey(we)]=S.installFunction(ue.memberSignature(we),$e[we])}else _.sqlite3_vfs_unregister(nt);S.xWrap.FuncPtrAdapter.warnOnUse=!0;const Ae=h.StructBinder,xe=function ue(pe,_e,We,$e=ue.installMethodArgcCheck){if(pe instanceof Ae.StructType?!(We instanceof Function)&&!S.isPtr(We)&&b("Usage errror: expecting a Function or WASM pointer to one."):b("Usage error: target object is-not-a StructType."),arguments.length===1)return(j,J)=>ue(pe,j,J,$e);ue.argcProxy||(ue.argcProxy=function(j,J,he,Ke){return function(...U){return he.length!==arguments.length&&b("Argument mismatch for",j.structInfo.name+"::"+J+": Native signature is:",Ke),he.apply(this,U)}},ue.removeFuncList=function(){this.ondispose.__removeFuncList&&(this.ondispose.__removeFuncList.forEach((j,J)=>{if(typeof j=="number")try{S.uninstallFunction(j)}catch{}}),delete this.ondispose.__removeFuncList)});const we=pe.memberSignature(_e);we.length<2&&b("Member",_e,"does not have a function pointer signature:",we);const Me=pe.memberKey(_e),pt=$e&&!S.isPtr(We)?ue.argcProxy(pe,Me,We,we):We;if(S.isPtr(pt))pt&&!S.functionEntry(pt)&&b("Pointer",pt,"is not a WASM function table entry."),pe[Me]=pt;else{const j=S.installFunction(pt,pe.memberSignature(_e,!0));pe[Me]=j,(!pe.ondispose||!pe.ondispose.__removeFuncList)&&(pe.addOnDispose("ondispose.__removeFuncList handler",ue.removeFuncList),pe.ondispose.__removeFuncList=[]),pe.ondispose.__removeFuncList.push(Me,j)}return(j,J)=>ue(pe,j,J,$e)};xe.installMethodArgcCheck=!1;const Ue=function(ue,pe,_e=xe.installMethodArgcCheck){const We=new Map;for(const $e of Object.keys(pe)){const we=pe[$e],Me=We.get(we);if(Me){const pt=ue.memberKey($e);ue[pt]=ue[ue.memberKey(Me)]}else xe(ue,$e,we,_e),We.set(we,$e)}return ue};Ae.StructType.prototype.installMethod=function(pe,_e,We=xe.installMethodArgcCheck){return arguments.length<3&&pe&&typeof pe=="object"?Ue(this,...arguments):xe(this,...arguments)},Ae.StructType.prototype.installMethods=function(ue,pe=xe.installMethodArgcCheck){return Ue(this,ue,pe)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(h){h.version={libVersion:"3.47.1",libVersionNumber:3047001,sourceId:"2024-11-25 12:07:48 b95d11e958643b969c47a8e5857f3793b9e69700b8f1469371386369a26e577e",downloadVersion:3470100}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(h){const b=(...U)=>{throw new h.SQLite3Error(...U)},_=h.capi,S=h.wasm,I=h.util,X=new WeakMap,re=new WeakMap,Le=(U,ee,T)=>{const L=Object.getOwnPropertyDescriptor(U,ee);return L?L.value:T},Ve=function(U,ee){return ee&&(U instanceof xe&&(U=U.pointer),b(ee,"sqlite3 result code",ee+":",U?_.sqlite3_errmsg(U):_.sqlite3_errstr(ee))),arguments[0]},Ze=S.installFunction("i(ippp)",function(U,ee,T,L){_.SQLITE_TRACE_STMT===U&&console.log("SQL TRACE #"+ ++this.counter+" via sqlite3@"+ee+":",S.cstrToJs(L))}.bind({counter:0})),nt=Object.create(null),Ae=function U(...ee){if(!U._name2vfs){U._name2vfs=Object.create(null);const de=typeof importScripts=="function"?ke=>b("The VFS for",ke,"is only available in the main window thread."):!1;U._name2vfs[":localStorage:"]={vfs:"kvvfs",filename:de||(()=>"local")},U._name2vfs[":sessionStorage:"]={vfs:"kvvfs",filename:de||(()=>"session")}}const T=U.normalizeArgs(...ee);let L=T.filename,W=T.vfs,qe=T.flags;(typeof L!="string"&&typeof L!="number"||typeof qe!="string"||W&&typeof W!="string"&&typeof W!="number")&&(h.config.error("Invalid DB ctor args",T,arguments),b("Invalid arguments for DB constructor."));let Qe=typeof L=="number"?S.cstrToJs(L):L;const Et=U._name2vfs[Qe];Et&&(W=Et.vfs,L=Qe=Et.filename(Qe));let Lt,Wt=0;qe.indexOf("c")>=0&&(Wt|=_.SQLITE_OPEN_CREATE|_.SQLITE_OPEN_READWRITE),qe.indexOf("w")>=0&&(Wt|=_.SQLITE_OPEN_READWRITE),Wt===0&&(Wt|=_.SQLITE_OPEN_READONLY),Wt|=_.SQLITE_OPEN_EXRESCODE;const Ye=S.pstack.pointer;try{const de=S.pstack.allocPtr();let ke=_.sqlite3_open_v2(L,de,Wt,W||0);Lt=S.peekPtr(de),Ve(Lt,ke),_.sqlite3_extended_result_codes(Lt,1),qe.indexOf("t")>=0&&_.sqlite3_trace_v2(Lt,_.SQLITE_TRACE_STMT,Ze,Lt)}catch(de){throw Lt&&_.sqlite3_close_v2(Lt),de}finally{S.pstack.restore(Ye)}this.filename=Qe,X.set(this,Lt),re.set(this,Object.create(null));try{const de=_.sqlite3_js_db_vfs(Lt)||b("Internal error: cannot get VFS for new db handle."),ke=nt[de];ke&&(ke instanceof Function?ke(this,h):Ve(Lt,_.sqlite3_exec(Lt,ke,0,0,0)))}catch(de){throw this.close(),de}};Ae.setVfsPostOpenCallback=function(U,ee){ee instanceof Function||b("dbCtorHelper.setVfsPostOpenCallback() should not be used with a non-function argument.",arguments),nt[U]=ee},Ae.normalizeArgs=function(U=":memory:",ee="c",T=null){const L={};return arguments.length===1&&arguments[0]&&typeof arguments[0]=="object"?(Object.assign(L,arguments[0]),L.flags===void 0&&(L.flags="c"),L.vfs===void 0&&(L.vfs=null),L.filename===void 0&&(L.filename=":memory:")):(L.filename=U,L.flags=ee,L.vfs=T),L};const xe=function(...U){Ae.apply(this,U)};xe.dbCtorHelper=Ae;const Ue={null:1,number:2,string:3,boolean:4,blob:5};Ue.undefined==Ue.null,S.bigIntEnabled&&(Ue.bigint=Ue.number);const ue=function(){Ue!==arguments[2]&&b(_.SQLITE_MISUSE,"Do not call the Stmt constructor directly. Use DB.prepare()."),this.db=arguments[0],X.set(this,arguments[1]),this.parameterCount=_.sqlite3_bind_parameter_count(this.pointer)},pe=function(U){return U.pointer||b("DB has been closed."),U},_e=function(U,ee){return(ee!==(ee|0)||ee<0||ee>=U.columnCount)&&b("Column index",ee,"is out of range."),U},We=function(U,ee){const T=Object.create(null);switch(T.opt=Object.create(null),ee.length){case 1:typeof ee[0]=="string"||I.isSQLableTypedArray(ee[0])||Array.isArray(ee[0])?T.sql=ee[0]:ee[0]&&typeof ee[0]=="object"&&(T.opt=ee[0],T.sql=T.opt.sql);break;case 2:T.sql=ee[0],T.opt=ee[1];break;default:b("Invalid argument count for exec().")}T.sql=I.flexibleString(T.sql),typeof T.sql!="string"&&b("Missing SQL argument or unsupported SQL value type.");const L=T.opt;switch(L.returnValue){case"resultRows":L.resultRows||(L.resultRows=[]),T.returnVal=()=>L.resultRows;break;case"saveSql":L.saveSql||(L.saveSql=[]),T.returnVal=()=>L.saveSql;break;case void 0:case"this":T.returnVal=()=>U;break;default:b("Invalid returnValue value:",L.returnValue)}if(!L.callback&&!L.returnValue&&L.rowMode!==void 0&&(L.resultRows||(L.resultRows=[]),T.returnVal=()=>L.resultRows),L.callback||L.resultRows)switch(L.rowMode===void 0?"array":L.rowMode){case"object":T.cbArg=(W,qe)=>{qe.columnNames||(qe.columnNames=W.getColumnNames([]));const Qe=W.get([]),Et=Object.create(null);for(const Lt in qe.columnNames)Et[qe.columnNames[Lt]]=Qe[Lt];return Et};break;case"array":T.cbArg=W=>W.get([]);break;case"stmt":Array.isArray(L.resultRows)&&b("exec(): invalid rowMode for a resultRows array: must","be one of 'array', 'object',","a result column number, or column name reference."),T.cbArg=W=>W;break;default:if(I.isInt32(L.rowMode)){T.cbArg=W=>W.get(L.rowMode);break}else if(typeof L.rowMode=="string"&&L.rowMode.length>1&&L.rowMode[0]==="$"){const W=L.rowMode.substr(1);T.cbArg=qe=>{const Qe=qe.get(Object.create(null))[W];return Qe===void 0?b(_.SQLITE_NOTFOUND,"exec(): unknown result column:",W):Qe};break}b("Invalid rowMode:",L.rowMode)}return T},$e=(U,ee,T,...L)=>{const W=U.prepare(ee);try{const qe=W.bind(T).step()?W.get(...L):void 0;return W.reset(),qe}finally{W.finalize()}},we=(U,ee,T,L)=>U.exec({sql:ee,bind:T,rowMode:L,returnValue:"resultRows"});xe.checkRc=(U,ee)=>Ve(U,ee),xe.prototype={isOpen:function(){return!!this.pointer},affirmOpen:function(){return pe(this)},close:function(){if(this.pointer){if(this.onclose&&this.onclose.before instanceof Function)try{this.onclose.before(this)}catch{}const U=this.pointer;if(Object.keys(re.get(this)).forEach((ee,T)=>{if(T&&T.pointer)try{T.finalize()}catch{}}),X.delete(this),re.delete(this),_.sqlite3_close_v2(U),this.onclose&&this.onclose.after instanceof Function)try{this.onclose.after(this)}catch{}delete this.filename}},changes:function(U=!1,ee=!1){const T=pe(this).pointer;return U?ee?_.sqlite3_total_changes64(T):_.sqlite3_total_changes(T):ee?_.sqlite3_changes64(T):_.sqlite3_changes(T)},dbFilename:function(U="main"){return _.sqlite3_db_filename(pe(this).pointer,U)},dbName:function(U=0){return _.sqlite3_db_name(pe(this).pointer,U)},dbVfsName:function(U=0){let ee;const T=_.sqlite3_js_db_vfs(pe(this).pointer,U);if(T){const L=new _.sqlite3_vfs(T);try{ee=S.cstrToJs(L.$zName)}finally{L.dispose()}}return ee},prepare:function(U){pe(this);const ee=S.pstack.pointer;let T,L;try{T=S.pstack.alloc(8),xe.checkRc(this,_.sqlite3_prepare_v2(this.pointer,U,-1,T,null)),L=S.peekPtr(T)}finally{S.pstack.restore(ee)}L||b("Cannot prepare empty SQL.");const W=new ue(this,L,Ue);return re.get(this)[L]=W,W},exec:function(){pe(this);const U=We(this,arguments);if(!U.sql)return b("exec() requires an SQL string.");const ee=U.opt,T=ee.callback,L=Array.isArray(ee.resultRows)?ee.resultRows:void 0;let W,qe=ee.bind,Qe=!!(U.cbArg||ee.columnNames||L);const Et=S.scopedAllocPush(),Lt=Array.isArray(ee.saveSql)?ee.saveSql:void 0;try{const Wt=I.isSQLableTypedArray(U.sql);let Ye=Wt?U.sql.byteLength:S.jstrlen(U.sql);const de=S.scopedAlloc(2*S.ptrSizeof+(Ye+1)),ke=de+S.ptrSizeof;let Ge=ke+S.ptrSizeof;const tt=Ge+Ye;for(Wt?S.heap8().set(U.sql,Ge):S.jstrcpy(U.sql,S.heap8(),Ge,Ye,!1),S.poke(Ge+Ye,0);Ge&&S.peek(Ge,"i8");){S.pokePtr([de,ke],0),xe.checkRc(this,_.sqlite3_prepare_v3(this.pointer,Ge,Ye,0,de,ke));const Rt=S.peekPtr(de);if(Ge=S.peekPtr(ke),Ye=tt-Ge,!!Rt){if(Lt&&Lt.push(_.sqlite3_sql(Rt).trim()),W=new ue(this,Rt,Ue),qe&&W.parameterCount&&(W.bind(qe),qe=null),Qe&&W.columnCount){let zt=Array.isArray(ee.columnNames)?0:1;if(Qe=!1,U.cbArg||L){const Ne=Object.create(null);for(;W.step();W._lockedByExec=!1){zt++===0&&W.getColumnNames(Ne.columnNames=ee.columnNames||[]),W._lockedByExec=!0;const He=U.cbArg(W,Ne);if(L&&L.push(He),T&&T.call(ee,He,W)===!1)break}W._lockedByExec=!1}zt===0&&W.getColumnNames(ee.columnNames)}else W.step();W.reset().finalize(),W=null}}}finally{S.scopedAllocPop(Et),W&&(delete W._lockedByExec,W.finalize())}return U.returnVal()},createFunction:function(ee,T,L){const W=Ne=>Ne instanceof Function;switch(arguments.length){case 1:L=ee,ee=L.name,T=L.xFunc||0;break;case 2:W(T)||(L=T,T=L.xFunc||0);break}L||(L={}),typeof ee!="string"&&b("Invalid arguments: missing function name.");let qe=L.xStep||0,Qe=L.xFinal||0;const Et=L.xValue||0,Lt=L.xInverse||0;let Wt;W(T)?(Wt=!1,(W(qe)||W(Qe))&&b("Ambiguous arguments: scalar or aggregate?"),qe=Qe=null):W(qe)?(W(Qe)||b("Missing xFinal() callback for aggregate or window UDF."),T=null):W(Qe)?b("Missing xStep() callback for aggregate or window UDF."):b("Missing function-type properties."),Wt===!1?(W(Et)||W(Lt))&&b("xValue and xInverse are not permitted for non-window UDFs."):W(Et)?(W(Lt)||b("xInverse must be provided if xValue is."),Wt=!0):W(Lt)&&b("xValue must be provided if xInverse is.");const Ye=L.pApp;Ye!=null&&(typeof Ye!="number"||!I.isInt32(Ye))&&b("Invalid value for pApp property. Must be a legal WASM pointer value.");const de=L.xDestroy||0;de&&!W(de)&&b("xDestroy property must be a function.");let ke=0;Le(L,"deterministic")&&(ke|=_.SQLITE_DETERMINISTIC),Le(L,"directOnly")&&(ke|=_.SQLITE_DIRECTONLY),Le(L,"innocuous")&&(ke|=_.SQLITE_INNOCUOUS),ee=ee.toLowerCase();const Ge=T||qe,tt=Le(L,"arity"),Rt=typeof tt=="number"?tt:Ge.length?Ge.length-1:0;let zt;return Wt?zt=_.sqlite3_create_window_function(this.pointer,ee,Rt,_.SQLITE_UTF8|ke,Ye||0,qe,Qe,Et,Lt,de):zt=_.sqlite3_create_function_v2(this.pointer,ee,Rt,_.SQLITE_UTF8|ke,Ye||0,T,qe,Qe,de),xe.checkRc(this,zt),this},selectValue:function(U,ee,T){return $e(this,U,ee,0,T)},selectValues:function(U,ee,T){const L=this.prepare(U),W=[];try{for(L.bind(ee);L.step();)W.push(L.get(0,T));L.reset()}finally{L.finalize()}return W},selectArray:function(U,ee){return $e(this,U,ee,[])},selectObject:function(U,ee){return $e(this,U,ee,{})},selectArrays:function(U,ee){return we(this,U,ee,"array")},selectObjects:function(U,ee){return we(this,U,ee,"object")},openStatementCount:function(){return this.pointer?Object.keys(re.get(this)).length:0},transaction:function(U){let ee="BEGIN";arguments.length>1&&(/[^a-zA-Z]/.test(arguments[0])&&b(_.SQLITE_MISUSE,"Invalid argument for BEGIN qualifier."),ee+=" "+arguments[0],U=arguments[1]),pe(this).exec(ee);try{const T=U(this);return this.exec("COMMIT"),T}catch(T){throw this.exec("ROLLBACK"),T}},savepoint:function(U){pe(this).exec("SAVEPOINT oo1");try{const ee=U(this);return this.exec("RELEASE oo1"),ee}catch(ee){throw this.exec("ROLLBACK to SAVEPOINT oo1; RELEASE SAVEPOINT oo1"),ee}},checkRc:function(U){return Ve(this,U)}};const Me=function(U){return U.pointer||b("Stmt has been closed."),U},pt=function(U){let ee=Ue[U==null?"null":typeof U];switch(ee){case Ue.boolean:case Ue.null:case Ue.number:case Ue.string:return ee;case Ue.bigint:if(S.bigIntEnabled)return ee;default:return I.isBindableTypedArray(U)?Ue.blob:void 0}},j=function(U){return pt(U)||b("Unsupported bind() argument type:",typeof U)},J=function(U,ee){const T=typeof ee=="number"?ee:_.sqlite3_bind_parameter_index(U.pointer,ee);return T===0||!I.isInt32(T)?b("Invalid bind() parameter name: "+ee):(T<1||T>U.parameterCount)&&b("Bind index",ee,"is out of range."),T},he=function(U,ee){return U._lockedByExec&&b("Operation is illegal when statement is locked:",ee),U},Ke=function U(ee,T,L,W){he(Me(ee),"bind()"),U._||(U._tooBigInt=Qe=>b("BigInt value is too big to store without precision loss:",Qe),U._={string:function(Qe,Et,Lt,Wt){const[Ye,de]=S.allocCString(Lt,!0);return(Wt?_.sqlite3_bind_blob:_.sqlite3_bind_text)(Qe.pointer,Et,Ye,de,_.SQLITE_WASM_DEALLOC)}}),j(W),T=J(ee,T);let qe=0;switch(W==null?Ue.null:L){case Ue.null:qe=_.sqlite3_bind_null(ee.pointer,T);break;case Ue.string:qe=U._.string(ee,T,W,!1);break;case Ue.number:{let Qe;I.isInt32(W)?Qe=_.sqlite3_bind_int:typeof W=="bigint"?I.bigIntFits64(W)?S.bigIntEnabled?Qe=_.sqlite3_bind_int64:I.bigIntFitsDouble(W)?(W=Number(W),Qe=_.sqlite3_bind_double):U._tooBigInt(W):U._tooBigInt(W):(W=Number(W),S.bigIntEnabled&&Number.isInteger(W)?Qe=_.sqlite3_bind_int64:Qe=_.sqlite3_bind_double),qe=Qe(ee.pointer,T,W);break}case Ue.boolean:qe=_.sqlite3_bind_int(ee.pointer,T,W?1:0);break;case Ue.blob:{if(typeof W=="string"){qe=U._.string(ee,T,W,!0);break}else W instanceof ArrayBuffer?W=new Uint8Array(W):I.isBindableTypedArray(W)||b("Binding a value as a blob requires","that it be a string, Uint8Array, Int8Array, or ArrayBuffer.");const Qe=S.alloc(W.byteLength||1);S.heap8().set(W.byteLength?W:[0],Qe),qe=_.sqlite3_bind_blob(ee.pointer,T,Qe,W.byteLength,_.SQLITE_WASM_DEALLOC);break}default:h.config.warn("Unsupported bind() argument type:",W),b("Unsupported bind() argument type: "+typeof W)}return qe&&xe.checkRc(ee.db.pointer,qe),ee._mayGet=!1,ee};ue.prototype={finalize:function(){if(this.pointer){he(this,"finalize()");const U=_.sqlite3_finalize(this.pointer);return delete re.get(this.db)[this.pointer],X.delete(this),delete this._mayGet,delete this.parameterCount,delete this._lockedByExec,delete this.db,U}},clearBindings:function(){return he(Me(this),"clearBindings()"),_.sqlite3_clear_bindings(this.pointer),this._mayGet=!1,this},reset:function(U){he(this,"reset()"),U&&this.clearBindings();const ee=_.sqlite3_reset(Me(this).pointer);return this._mayGet=!1,Ve(this.db,ee),this},bind:function(){Me(this);let U,ee;switch(arguments.length){case 1:U=1,ee=arguments[0];break;case 2:U=arguments[0],ee=arguments[1];break;default:b("Invalid bind() arguments.")}return ee===void 0?this:(this.parameterCount||b("This statement has no bindable parameters."),this._mayGet=!1,ee===null?Ke(this,U,Ue.null,ee):Array.isArray(ee)?(arguments.length!==1&&b("When binding an array, an index argument is not permitted."),ee.forEach((T,L)=>Ke(this,L+1,j(T),T)),this):(ee instanceof ArrayBuffer&&(ee=new Uint8Array(ee)),typeof ee=="object"&&!I.isBindableTypedArray(ee)?(arguments.length!==1&&b("When binding an object, an index argument is not permitted."),Object.keys(ee).forEach(T=>Ke(this,T,j(ee[T]),ee[T])),this):Ke(this,U,j(ee),ee)))},bindAsBlob:function(U,ee){Me(this),arguments.length===1&&(ee=U,U=1);const T=j(ee);return Ue.string!==T&&Ue.blob!==T&&Ue.null!==T&&b("Invalid value type for bindAsBlob()"),Ke(this,U,Ue.blob,ee)},step:function(){he(this,"step()");const U=_.sqlite3_step(Me(this).pointer);switch(U){case _.SQLITE_DONE:return this._mayGet=!1;case _.SQLITE_ROW:return this._mayGet=!0;default:this._mayGet=!1,h.config.warn("sqlite3_step() rc=",U,_.sqlite3_js_rc_str(U),"SQL =",_.sqlite3_sql(this.pointer)),xe.checkRc(this.db.pointer,U)}},stepReset:function(){return this.step(),this.reset()},stepFinalize:function(){try{const U=this.step();return this.reset(),U}finally{try{this.finalize()}catch{}}},get:function(U,ee){if(Me(this)._mayGet||b("Stmt.step() has not (recently) returned true."),Array.isArray(U)){let T=0;const L=this.columnCount;for(;T<L;)U[T]=this.get(T++);return U}else if(U&&typeof U=="object"){let T=0;const L=this.columnCount;for(;T<L;)U[_.sqlite3_column_name(this.pointer,T)]=this.get(T++);return U}switch(_e(this,U),ee===void 0?_.sqlite3_column_type(this.pointer,U):ee){case _.SQLITE_NULL:return null;case _.SQLITE_INTEGER:if(S.bigIntEnabled){const T=_.sqlite3_column_int64(this.pointer,U);return T>=Number.MIN_SAFE_INTEGER&&T<=Number.MAX_SAFE_INTEGER?Number(T).valueOf():T}else{const T=_.sqlite3_column_double(this.pointer,U);return(T>Number.MAX_SAFE_INTEGER||T<Number.MIN_SAFE_INTEGER)&&b("Integer is out of range for JS integer range: "+T),I.isInt32(T)?T|0:T}case _.SQLITE_FLOAT:return _.sqlite3_column_double(this.pointer,U);case _.SQLITE_TEXT:return _.sqlite3_column_text(this.pointer,U);case _.SQLITE_BLOB:{const T=_.sqlite3_column_bytes(this.pointer,U),L=_.sqlite3_column_blob(this.pointer,U),W=new Uint8Array(T);return T&&W.set(S.heap8u().slice(L,L+T),0),T&&this.db._blobXfer instanceof Array&&this.db._blobXfer.push(W.buffer),W}default:b("Don't know how to translate","type of result column #"+U+".")}b("Not reached.")},getInt:function(U){return this.get(U,_.SQLITE_INTEGER)},getFloat:function(U){return this.get(U,_.SQLITE_FLOAT)},getString:function(U){return this.get(U,_.SQLITE_TEXT)},getBlob:function(U){return this.get(U,_.SQLITE_BLOB)},getJSON:function(U){const ee=this.get(U,_.SQLITE_STRING);return ee===null?ee:JSON.parse(ee)},getColumnName:function(U){return _.sqlite3_column_name(_e(Me(this),U).pointer,U)},getColumnNames:function(U=[]){_e(Me(this),0);const ee=this.columnCount;for(let T=0;T<ee;++T)U.push(_.sqlite3_column_name(this.pointer,T));return U},getParamIndex:function(U){return Me(this).parameterCount?_.sqlite3_bind_parameter_index(this.pointer,U):void 0},getParamName:function(U){return Me(this).parameterCount?_.sqlite3_bind_parameter_name(this.pointer,U):void 0},isBusy:function(){return _.sqlite3_stmt_busy(Me(this))!==0},isReadOnly:function(){return _.sqlite3_stmt_readonly(Me(this))!==0}};{const U={enumerable:!0,get:function(){return X.get(this)},set:()=>b("The pointer property is read-only.")};Object.defineProperty(ue.prototype,"pointer",U),Object.defineProperty(xe.prototype,"pointer",U)}if(Object.defineProperty(ue.prototype,"columnCount",{enumerable:!1,get:function(){return _.sqlite3_column_count(this.pointer)},set:()=>b("The columnCount property is read-only.")}),h.oo1={DB:xe,Stmt:ue},I.isUIThread()){h.oo1.JsStorageDb=function(ee="session"){const T=Ae.normalizeArgs(...arguments);ee=T.filename,ee!=="session"&&ee!=="local"&&b("JsStorageDb db name must be one of 'session' or 'local'."),T.vfs="kvvfs",Ae.call(this,T)};const U=h.oo1.JsStorageDb;U.prototype=Object.create(xe.prototype),U.clearStorage=_.sqlite3_js_kvvfs_clear,U.prototype.clearStorage=function(){return U.clearStorage(pe(this).filename)},U.storageSize=_.sqlite3_js_kvvfs_size,U.prototype.storageSize=function(){return U.storageSize(pe(this).filename)}}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(h){const b=h.util;h.initWorker1API=function(){const _=(...Ae)=>{throw new Error(Ae.join(" "))};globalThis.WorkerGlobalScope instanceof Function||_("initWorker1API() must be run from a Worker thread.");const S=this.sqlite3||_("Missing this.sqlite3 object."),I=S.oo1.DB,X=function(Ae){let xe=re.idMap.get(Ae);return xe||(xe="db#"+ ++re.idSeq+"@"+Ae.pointer,re.idMap.set(Ae,xe),xe)},re={dbList:[],idSeq:0,idMap:new WeakMap,xfer:[],open:function(Ae){const xe=new I(Ae);return this.dbs[X(xe)]=xe,this.dbList.indexOf(xe)<0&&this.dbList.push(xe),xe},close:function(Ae,xe){if(Ae){delete this.dbs[X(Ae)];const Ue=Ae.filename,ue=b.sqlite3__wasm_db_vfs(Ae.pointer,0);Ae.close();const pe=this.dbList.indexOf(Ae);pe>=0&&this.dbList.splice(pe,1),xe&&Ue&&ue&&b.sqlite3__wasm_vfs_unlink(ue,Ue)}},post:function(Ae,xe){xe&&xe.length?(globalThis.postMessage(Ae,Array.from(xe)),xe.length=0):globalThis.postMessage(Ae)},dbs:Object.create(null),getDb:function(Ae,xe=!0){return this.dbs[Ae]||(xe?_("Unknown (or closed) DB ID:",Ae):void 0)}},Le=function(Ae=re.dbList[0]){return Ae&&Ae.pointer?Ae:_("DB is not opened.")},Ve=function(Ae,xe=!0){const Ue=re.getDb(Ae.dbId,!1)||re.dbList[0];return xe?Le(Ue):Ue},Ze=function(){return re.dbList[0]&&X(re.dbList[0])},nt={open:function(Ae){const xe=Object.create(null),Ue=Ae.args||Object.create(null);Ue.simulateError&&_("Throwing because of simulateError flag.");const ue=Object.create(null);xe.vfs=Ue.vfs,xe.filename=Ue.filename||"";const pe=re.open(xe);return ue.filename=pe.filename,ue.persistent=!!S.capi.sqlite3_js_db_uses_vfs(pe.pointer,"opfs"),ue.dbId=X(pe),ue.vfs=pe.dbVfsName(),ue},close:function(Ae){const xe=Ve(Ae,!1),Ue={filename:xe&&xe.filename};if(xe){const ue=Ae.args&&typeof Ae.args=="object"?!!Ae.args.unlink:!1;re.close(xe,ue)}return Ue},exec:function(Ae){const xe=typeof Ae.args=="string"?{sql:Ae.args}:Ae.args||Object.create(null);xe.rowMode==="stmt"?_("Invalid rowMode for 'exec': stmt mode","does not work in the Worker API."):xe.sql||_("'exec' requires input SQL.");const Ue=Ve(Ae);(xe.callback||Array.isArray(xe.resultRows))&&(Ue._blobXfer=re.xfer);const ue=xe.callback;let pe=0;const _e=!!xe.columnNames;typeof ue=="string"&&(_e||(xe.columnNames=[]),xe.callback=function(We,$e){re.post({type:ue,columnNames:xe.columnNames,rowNumber:++pe,row:We},re.xfer)});try{const We=xe.countChanges?Ue.changes(!0,xe.countChanges===64):void 0;Ue.exec(xe),We!==void 0&&(xe.changeCount=Ue.changes(!0,xe.countChanges===64)-We),xe.callback instanceof Function&&(xe.callback=ue,re.post({type:ue,columnNames:xe.columnNames,rowNumber:null,row:void 0}))}finally{delete Ue._blobXfer,xe.callback&&(xe.callback=ue)}return xe},"config-get":function(){const Ae=Object.create(null),xe=S.config;return["bigIntEnabled"].forEach(function(Ue){Object.getOwnPropertyDescriptor(xe,Ue)&&(Ae[Ue]=xe[Ue])}),Ae.version=S.version,Ae.vfsList=S.capi.sqlite3_js_vfs_list(),Ae},export:function(Ae){const xe=Ve(Ae),Ue={byteArray:S.capi.sqlite3_js_db_export(xe.pointer),filename:xe.filename,mimetype:"application/x-sqlite3"};return re.xfer.push(Ue.byteArray.buffer),Ue},toss:function(Ae){_("Testing worker exception")}};globalThis.onmessage=async function(Ae){Ae=Ae.data;let xe,Ue=Ae.dbId,ue=Ae.type;const pe=performance.now();try{nt.hasOwnProperty(ue)&&nt[ue]instanceof Function?xe=await nt[ue](Ae):_("Unknown db worker message type:",Ae.type)}catch(_e){ue="error",xe={operation:Ae.type,message:_e.message,errorClass:_e.name,input:Ae},_e.stack&&(xe.stack=typeof _e.stack=="string"?_e.stack.split(/\n\s*/):_e.stack)}Ue||(Ue=xe.dbId||Ze()),re.post({type:ue,dbId:Ue,messageId:Ae.messageId,workerReceivedTime:pe,workerRespondTime:performance.now(),departureTime:Ae.departureTime,result:xe},re.xfer)},globalThis.postMessage({type:"sqlite3-api",result:"worker1-ready"})}.bind({sqlite3:h})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(h){const b=h.wasm,_=h.capi,S=h.util.toss3,I=Object.create(null);h.vfs=I,_.sqlite3_vfs.prototype.registerVfs=function(X=!1){this instanceof h.capi.sqlite3_vfs||S("Expecting a sqlite3_vfs-type argument.");const re=_.sqlite3_vfs_register(this,X?1:0);return re&&S("sqlite3_vfs_register(",this,") failed with rc",re),this.pointer!==_.sqlite3_vfs_find(this.$zName)&&S("BUG: sqlite3_vfs_find(vfs.$zName) failed for just-installed VFS",this),this},I.installVfs=function(X){let re=0;const Le=["io","vfs"];for(const Ve of Le){const Ze=X[Ve];Ze&&(++re,Ze.struct.installMethods(Ze.methods,!!Ze.applyArgcCheck),Ve==="vfs"&&(!Ze.struct.$zName&&typeof Ze.name=="string"&&Ze.struct.addOnDispose(Ze.struct.$zName=b.allocCString(Ze.name)),Ze.struct.registerVfs(!!Ze.asDefault)))}return re||S("Misuse: installVfs() options object requires at least","one of:",Le),this}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(h){if(!h.wasm.exports.sqlite3_declare_vtab)return;const b=h.wasm,_=h.capi,S=h.util.toss3,I=Object.create(null);h.vtab=I;const X=_.sqlite3_index_info;X.prototype.nthConstraint=function(Ve,Ze=!1){if(Ve<0||Ve>=this.$nConstraint)return!1;const nt=this.$aConstraint+X.sqlite3_index_constraint.structInfo.sizeof*Ve;return Ze?nt:new X.sqlite3_index_constraint(nt)},X.prototype.nthConstraintUsage=function(Ve,Ze=!1){if(Ve<0||Ve>=this.$nConstraint)return!1;const nt=this.$aConstraintUsage+X.sqlite3_index_constraint_usage.structInfo.sizeof*Ve;return Ze?nt:new X.sqlite3_index_constraint_usage(nt)},X.prototype.nthOrderBy=function(Ve,Ze=!1){if(Ve<0||Ve>=this.$nOrderBy)return!1;const nt=this.$aOrderBy+X.sqlite3_index_orderby.structInfo.sizeof*Ve;return Ze?nt:new X.sqlite3_index_orderby(nt)};const re=function(Ve,Ze){return function(nt,Ae=!1){if(arguments.length===0&&(nt=new Ze),nt instanceof Ze)return this.set(nt.pointer,nt),nt;b.isPtr(nt)||h.SQLite3Error.toss("Invalid argument to",Ve+"()");let xe=this.get(nt);return Ae&&this.delete(nt),xe}.bind(new Map)},Le=function(Ve,Ze){const nt=re(Ve,Ze);return Object.assign(Object.create(null),{StructType:Ze,create:Ae=>{const xe=nt();return b.pokePtr(Ae,xe.pointer),xe},get:Ae=>nt(Ae),unget:Ae=>nt(Ae,!0),dispose:Ae=>{const xe=nt(Ae,!0);xe&&xe.dispose()}})};I.xVtab=Le("xVtab",_.sqlite3_vtab),I.xCursor=Le("xCursor",_.sqlite3_vtab_cursor),I.xIndexInfo=Ve=>new _.sqlite3_index_info(Ve),I.xError=function Ve(Ze,nt,Ae){if(Ve.errorReporter instanceof Function)try{Ve.errorReporter("sqlite3_module::"+Ze+"(): "+nt.message)}catch{}let xe;return nt instanceof h.WasmAllocError?xe=_.SQLITE_NOMEM:arguments.length>2?xe=Ae:nt instanceof h.SQLite3Error&&(xe=nt.resultCode),xe||_.SQLITE_ERROR},I.xError.errorReporter=console.error.bind(console),I.xRowid=(Ve,Ze)=>b.poke(Ve,Ze,"i64"),I.setupModule=function(Ve){let Ze=!1;const nt=this instanceof _.sqlite3_module?this:Ve.struct||(Ze=new _.sqlite3_module);try{const Ae=Ve.methods||S("Missing 'methods' object.");for(const xe of Object.entries({xConnect:"xCreate",xDisconnect:"xDestroy"})){const Ue=xe[0],ue=xe[1];Ae[Ue]===!0?Ae[Ue]=Ae[ue]:Ae[ue]===!0&&(Ae[ue]=Ae[Ue])}if(Ve.catchExceptions){const xe=function(pe,_e){return["xConnect","xCreate"].indexOf(pe)>=0?function(We,$e,we,Me,pt,j){try{return _e(...arguments)||0}catch(J){return J instanceof h.WasmAllocError||(b.dealloc(b.peekPtr(j)),b.pokePtr(j,b.allocCString(J.message))),I.xError(pe,J)}}:function(...We){try{return _e(...We)||0}catch($e){return I.xError(pe,$e)}}},Ue=["xCreate","xConnect","xBestIndex","xDisconnect","xDestroy","xOpen","xClose","xFilter","xNext","xEof","xColumn","xRowid","xUpdate","xBegin","xSync","xCommit","xRollback","xFindFunction","xRename","xSavepoint","xRelease","xRollbackTo","xShadowName"],ue=Object.create(null);for(const pe of Ue){const _e=Ae[pe];if(_e instanceof Function)pe==="xConnect"&&Ae.xCreate===_e?ue[pe]=Ae.xCreate:pe==="xCreate"&&Ae.xConnect===_e?ue[pe]=Ae.xConnect:ue[pe]=xe(pe,_e);else continue}nt.installMethods(ue,!1)}else nt.installMethods(Ae,!!Ve.applyArgcCheck);if(nt.$iVersion===0){let xe;typeof Ve.iVersion=="number"?xe=Ve.iVersion:nt.$xShadowName?xe=3:nt.$xSavePoint||nt.$xRelease||nt.$xRollbackTo?xe=2:xe=1,nt.$iVersion=xe}}catch(Ae){throw Ze&&Ze.dispose(),Ae}return nt},_.sqlite3_module.prototype.setupModule=function(Ve){return I.setupModule.call(this,Ve)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(h){const b=function _(S){if(!globalThis.SharedArrayBuffer||!globalThis.Atomics)return Promise.reject(new Error("Cannot install OPFS: Missing SharedArrayBuffer and/or Atomics. The server must emit the COOP/COEP response headers to enable those. See https://sqlite.org/wasm/doc/trunk/persistence.md#coop-coep"));if(typeof WorkerGlobalScope>"u")return Promise.reject(new Error("The OPFS sqlite3_vfs cannot run in the main thread because it requires Atomics.wait()."));if(!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory)return Promise.reject(new Error("Missing required OPFS APIs."));(!S||typeof S!="object")&&(S=Object.create(null));const I=new URL(globalThis.location.href).searchParams;return I.has("opfs-disable")?Promise.resolve(h):(S.verbose===void 0&&(S.verbose=I.has("opfs-verbose")?+I.get("opfs-verbose")||2:1),S.sanityChecks===void 0&&(S.sanityChecks=I.has("opfs-sanity-check")),S.proxyUri===void 0&&(S.proxyUri=_.defaultProxyUri),typeof S.proxyUri=="function"&&(S.proxyUri=S.proxyUri()),new Promise(function(re,Le){const Ve=[h.config.error,h.config.warn,h.config.log],Ze=(Ne,...He)=>{S.verbose>Ne&&Ve[Ne]("OPFS syncer:",...He)},nt=(...Ne)=>Ze(2,...Ne),Ae=(...Ne)=>Ze(1,...Ne),xe=(...Ne)=>Ze(0,...Ne),Ue=h.util.toss,ue=h.capi,pe=h.util,_e=h.wasm,We=ue.sqlite3_vfs,$e=ue.sqlite3_file,we=ue.sqlite3_io_methods,Me=Object.create(null),pt=()=>globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&navigator?.storage?.getDirectory;Me.metrics={dump:function(){let Ne,He=0,Xe=0,wt=0;for(Ne in W.opIds){const ct=qe[Ne];He+=ct.count,Xe+=ct.time,wt+=ct.wait,ct.avgTime=ct.count&&ct.time?ct.time/ct.count:0,ct.avgWait=ct.count&&ct.wait?ct.wait/ct.count:0}h.config.log(globalThis.location.href,"metrics for",globalThis.location.href,":",qe,`
Total of`,He,"op(s) for",Xe,"ms (incl. "+wt+" ms of waiting on the async side)"),h.config.log("Serialization metrics:",qe.s11n),ee.postMessage({type:"opfs-async-metrics"})},reset:function(){let Ne;const He=wt=>wt.count=wt.time=wt.wait=0;for(Ne in W.opIds)He(qe[Ne]=Object.create(null));let Xe=qe.s11n=Object.create(null);Xe=Xe.serialize=Object.create(null),Xe.count=Xe.time=0,Xe=qe.s11n.deserialize=Object.create(null),Xe.count=Xe.time=0}};const j=new we,J=new We().addOnDispose(()=>j.dispose());let he;const Ke=Ne=>(he=!0,J.dispose(),Le(Ne)),U=()=>(he=!1,re(h)),ee=new Worker(new URL("/assets/sqlite3-opfs-async-proxy-C_otN2ZJ.js",import.meta.url));setTimeout(()=>{he===void 0&&Ke(new Error("Timeout while waiting for OPFS async proxy worker."))},4e3),ee._originalOnError=ee.onerror,ee.onerror=function(Ne){xe("Error initializing OPFS asyncer:",Ne),Ke(new Error("Loading OPFS async Worker failed for unknown reasons."))};const T=ue.sqlite3_vfs_find(null),L=T?new We(T):null;j.$iVersion=1,J.$iVersion=2,J.$szOsFile=ue.sqlite3_file.structInfo.sizeof,J.$mxPathname=1024,J.$zName=_e.allocCString("opfs"),J.$xDlOpen=J.$xDlError=J.$xDlSym=J.$xDlClose=null,J.addOnDispose("$zName",J.$zName,"cleanup default VFS wrapper",()=>L?L.dispose():null);const W=Object.create(null);W.verbose=S.verbose,W.littleEndian=(()=>{const Ne=new ArrayBuffer(2);return new DataView(Ne).setInt16(0,256,!0),new Int16Array(Ne)[0]===256})(),W.asyncIdleWaitTime=150,W.asyncS11nExceptions=1,W.fileBufferSize=1024*64,W.sabS11nOffset=W.fileBufferSize,W.sabS11nSize=J.$mxPathname*2,W.sabIO=new SharedArrayBuffer(W.fileBufferSize+W.sabS11nSize),W.opIds=Object.create(null);const qe=Object.create(null);{let Ne=0;W.opIds.whichOp=Ne++,W.opIds.rc=Ne++,W.opIds.xAccess=Ne++,W.opIds.xClose=Ne++,W.opIds.xDelete=Ne++,W.opIds.xDeleteNoWait=Ne++,W.opIds.xFileSize=Ne++,W.opIds.xLock=Ne++,W.opIds.xOpen=Ne++,W.opIds.xRead=Ne++,W.opIds.xSleep=Ne++,W.opIds.xSync=Ne++,W.opIds.xTruncate=Ne++,W.opIds.xUnlock=Ne++,W.opIds.xWrite=Ne++,W.opIds.mkdir=Ne++,W.opIds["opfs-async-metrics"]=Ne++,W.opIds["opfs-async-shutdown"]=Ne++,W.opIds.retry=Ne++,W.sabOP=new SharedArrayBuffer(Ne*4),Me.metrics.reset()}W.sq3Codes=Object.create(null),["SQLITE_ACCESS_EXISTS","SQLITE_ACCESS_READWRITE","SQLITE_BUSY","SQLITE_CANTOPEN","SQLITE_ERROR","SQLITE_IOERR","SQLITE_IOERR_ACCESS","SQLITE_IOERR_CLOSE","SQLITE_IOERR_DELETE","SQLITE_IOERR_FSYNC","SQLITE_IOERR_LOCK","SQLITE_IOERR_READ","SQLITE_IOERR_SHORT_READ","SQLITE_IOERR_TRUNCATE","SQLITE_IOERR_UNLOCK","SQLITE_IOERR_WRITE","SQLITE_LOCK_EXCLUSIVE","SQLITE_LOCK_NONE","SQLITE_LOCK_PENDING","SQLITE_LOCK_RESERVED","SQLITE_LOCK_SHARED","SQLITE_LOCKED","SQLITE_MISUSE","SQLITE_NOTFOUND","SQLITE_OPEN_CREATE","SQLITE_OPEN_DELETEONCLOSE","SQLITE_OPEN_MAIN_DB","SQLITE_OPEN_READONLY"].forEach(Ne=>{(W.sq3Codes[Ne]=ue[Ne])===void 0&&Ue("Maintenance required: not found:",Ne)}),W.opfsFlags=Object.assign(Object.create(null),{OPFS_UNLOCK_ASAP:1,OPFS_UNLINK_BEFORE_OPEN:2,defaultUnlockAsap:!1});const Qe=(Ne,...He)=>{const Xe=W.opIds[Ne]||Ue("Invalid op ID:",Ne);W.s11n.serialize(...He),Atomics.store(W.sabOPView,W.opIds.rc,-1),Atomics.store(W.sabOPView,W.opIds.whichOp,Xe),Atomics.notify(W.sabOPView,W.opIds.whichOp);const wt=performance.now();for(;Atomics.wait(W.sabOPView,W.opIds.rc,-1)!=="not-equal";);const ct=Atomics.load(W.sabOPView,W.opIds.rc);if(qe[Ne].wait+=performance.now()-wt,ct&&W.asyncS11nExceptions){const Ft=W.s11n.deserialize();Ft&&xe(Ne+"() async error:",...Ft)}return ct};Me.debug={asyncShutdown:()=>{Ae("Shutting down OPFS async listener. The OPFS VFS will no longer work."),Qe("opfs-async-shutdown")},asyncRestart:()=>{Ae("Attempting to restart OPFS VFS async listener. Might work, might not."),ee.postMessage({type:"opfs-async-restart"})}};const Et=()=>{if(W.s11n)return W.s11n;const Ne=new TextDecoder,He=new TextEncoder("utf-8"),Xe=new Uint8Array(W.sabIO,W.sabS11nOffset,W.sabS11nSize),wt=new DataView(W.sabIO,W.sabS11nOffset,W.sabS11nSize);W.s11n=Object.create(null);const ct=Object.create(null);ct.number={id:1,size:8,getter:"getFloat64",setter:"setFloat64"},ct.bigint={id:2,size:8,getter:"getBigInt64",setter:"setBigInt64"},ct.boolean={id:3,size:4,getter:"getInt32",setter:"setInt32"},ct.string={id:4};const Ft=kt=>ct[typeof kt]||Ue("Maintenance required: this value type cannot be serialized.",kt),ir=kt=>{switch(kt){case ct.number.id:return ct.number;case ct.bigint.id:return ct.bigint;case ct.boolean.id:return ct.boolean;case ct.string.id:return ct.string;default:Ue("Invalid type ID:",kt)}};return W.s11n.deserialize=function(kt=!1){++qe.s11n.deserialize.count;const an=performance.now(),Pe=Xe[0],ot=Pe?[]:null;if(Pe){const dt=[];let xt=1,or,Pr,qr;for(or=0;or<Pe;++or,++xt)dt.push(ir(Xe[xt]));for(or=0;or<Pe;++or){const Rr=dt[or];Rr.getter?(qr=wt[Rr.getter](xt,W.littleEndian),xt+=Rr.size):(Pr=wt.getInt32(xt,W.littleEndian),xt+=4,qr=Ne.decode(Xe.slice(xt,xt+Pr)),xt+=Pr),ot.push(qr)}}return kt&&(Xe[0]=0),qe.s11n.deserialize.time+=performance.now()-an,ot},W.s11n.serialize=function(...kt){const an=performance.now();if(++qe.s11n.serialize.count,kt.length){const Pe=[];let ot=0,dt=1;for(Xe[0]=kt.length&255;ot<kt.length;++ot,++dt)Pe.push(Ft(kt[ot])),Xe[dt]=Pe[ot].id;for(ot=0;ot<kt.length;++ot){const xt=Pe[ot];if(xt.setter)wt[xt.setter](dt,kt[ot],W.littleEndian),dt+=xt.size;else{const or=He.encode(kt[ot]);wt.setInt32(dt,or.byteLength,W.littleEndian),dt+=4,Xe.set(or,dt),dt+=or.byteLength}}}else Xe[0]=0;qe.s11n.serialize.time+=performance.now()-an},W.s11n},Lt=function Ne(He=16){Ne._chars||(Ne._chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ012346789",Ne._n=Ne._chars.length);const Xe=[];let wt=0;for(;wt<He;++wt){const ct=Math.random()*(Ne._n*64)%Ne._n|0;Xe[wt]=Ne._chars[ct]}return Xe.join("")},Wt=Object.create(null),Ye=Object.create(null);Ye.op=void 0,Ye.start=void 0;const de=Ne=>{Ye.start=performance.now(),Ye.op=Ne,++qe[Ne].count},ke=()=>qe[Ye.op].time+=performance.now()-Ye.start,Ge={xCheckReservedLock:function(Ne,He){return _e.poke(He,0,"i32"),0},xClose:function(Ne){de("xClose");let He=0;const Xe=Wt[Ne];return Xe&&(delete Wt[Ne],He=Qe("xClose",Ne),Xe.sq3File&&Xe.sq3File.dispose()),ke(),He},xDeviceCharacteristics:function(Ne){return ue.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(Ne,He,Xe){return ue.SQLITE_NOTFOUND},xFileSize:function(Ne,He){de("xFileSize");let Xe=Qe("xFileSize",Ne);if(Xe==0)try{const wt=W.s11n.deserialize()[0];_e.poke(He,wt,"i64")}catch(wt){xe("Unexpected error reading xFileSize() result:",wt),Xe=W.sq3Codes.SQLITE_IOERR}return ke(),Xe},xLock:function(Ne,He){de("xLock");const Xe=Wt[Ne];let wt=0;return Xe.lockType?Xe.lockType=He:(wt=Qe("xLock",Ne,He),wt===0&&(Xe.lockType=He)),ke(),wt},xRead:function(Ne,He,Xe,wt){de("xRead");const ct=Wt[Ne];let Ft;try{Ft=Qe("xRead",Ne,Xe,Number(wt)),(Ft===0||ue.SQLITE_IOERR_SHORT_READ===Ft)&&_e.heap8u().set(ct.sabView.subarray(0,Xe),He)}catch(ir){xe("xRead(",arguments,") failed:",ir,ct),Ft=ue.SQLITE_IOERR_READ}return ke(),Ft},xSync:function(Ne,He){de("xSync"),++qe.xSync.count;const Xe=Qe("xSync",Ne,He);return ke(),Xe},xTruncate:function(Ne,He){de("xTruncate");const Xe=Qe("xTruncate",Ne,Number(He));return ke(),Xe},xUnlock:function(Ne,He){de("xUnlock");const Xe=Wt[Ne];let wt=0;return ue.SQLITE_LOCK_NONE===He&&Xe.lockType&&(wt=Qe("xUnlock",Ne,He)),wt===0&&(Xe.lockType=He),ke(),wt},xWrite:function(Ne,He,Xe,wt){de("xWrite");const ct=Wt[Ne];let Ft;try{ct.sabView.set(_e.heap8u().subarray(He,He+Xe)),Ft=Qe("xWrite",Ne,Xe,Number(wt))}catch(ir){xe("xWrite(",arguments,") failed:",ir,ct),Ft=ue.SQLITE_IOERR_WRITE}return ke(),Ft}},tt={xAccess:function(Ne,He,Xe,wt){de("xAccess");const ct=Qe("xAccess",_e.cstrToJs(He));return _e.poke(wt,ct?0:1,"i32"),ke(),0},xCurrentTime:function(Ne,He){return _e.poke(He,2440587.5+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(Ne,He){return _e.poke(He,2440587.5*864e5+new Date().getTime(),"i64"),0},xDelete:function(Ne,He,Xe){de("xDelete");const wt=Qe("xDelete",_e.cstrToJs(He),Xe,!1);return ke(),wt},xFullPathname:function(Ne,He,Xe,wt){return _e.cstrncpy(wt,He,Xe)<Xe?0:ue.SQLITE_CANTOPEN},xGetLastError:function(Ne,He,Xe){return Ae("OPFS xGetLastError() has nothing sensible to return."),0},xOpen:function(He,Xe,wt,ct,Ft){de("xOpen");let ir=0;Xe===0?Xe=Lt():_e.isPtr(Xe)&&(ue.sqlite3_uri_boolean(Xe,"opfs-unlock-asap",0)&&(ir|=W.opfsFlags.OPFS_UNLOCK_ASAP),ue.sqlite3_uri_boolean(Xe,"delete-before-open",0)&&(ir|=W.opfsFlags.OPFS_UNLINK_BEFORE_OPEN),Xe=_e.cstrToJs(Xe));const kt=Object.create(null);kt.fid=wt,kt.filename=Xe,kt.sab=new SharedArrayBuffer(W.fileBufferSize),kt.flags=ct,kt.readOnly=!(h.SQLITE_OPEN_CREATE&ct)&&!!(ct&ue.SQLITE_OPEN_READONLY);const an=Qe("xOpen",wt,Xe,ct,ir);return an||(kt.readOnly&&_e.poke(Ft,ue.SQLITE_OPEN_READONLY,"i32"),Wt[wt]=kt,kt.sabView=W.sabFileBufView,kt.sq3File=new $e(wt),kt.sq3File.$pMethods=j.pointer,kt.lockType=ue.SQLITE_LOCK_NONE),ke(),an}};L&&(J.$xRandomness=L.$xRandomness,J.$xSleep=L.$xSleep),J.$xRandomness||(tt.xRandomness=function(Ne,He,Xe){const wt=_e.heap8u();let ct=0;for(;ct<He;++ct)wt[Xe+ct]=Math.random()*255e3&255;return ct}),J.$xSleep||(tt.xSleep=function(Ne,He){return Atomics.wait(W.sabOPView,W.opIds.xSleep,0,He),0}),Me.getResolvedPath=function(Ne,He){const Xe=new URL(Ne,"file://irrelevant").pathname;return He?Xe.split("/").filter(wt=>!!wt):Xe},Me.getDirForFilename=async function(He,Xe=!1){const wt=Me.getResolvedPath(He,!0),ct=wt.pop();let Ft=Me.rootDirectory;for(const ir of wt)ir&&(Ft=await Ft.getDirectoryHandle(ir,{create:!!Xe}));return[Ft,ct]},Me.mkdir=async function(Ne){try{return await Me.getDirForFilename(Ne+"/filepart",!0),!0}catch{return!1}},Me.entryExists=async function(Ne){try{const[He,Xe]=await Me.getDirForFilename(Ne);return await He.getFileHandle(Xe),!0}catch{return!1}},Me.randomFilename=Lt,Me.treeList=async function(){const Ne=async function Xe(wt,ct){ct.name=wt.name,ct.dirs=[],ct.files=[];for await(const Ft of wt.values())if(Ft.kind==="directory"){const ir=Object.create(null);ct.dirs.push(ir),await Xe(Ft,ir)}else ct.files.push(Ft.name)},He=Object.create(null);return await Ne(Me.rootDirectory,He),He},Me.rmfr=async function(){const Ne=Me.rootDirectory,He={recurse:!0};for await(const Xe of Ne.values())Ne.removeEntry(Xe.name,He)},Me.unlink=async function(Ne,He=!1,Xe=!1){try{const[wt,ct]=await Me.getDirForFilename(Ne,!1);return await wt.removeEntry(ct,{recursive:He}),!0}catch(wt){if(Xe)throw new Error("unlink(",arguments[0],") failed: "+wt.message,{cause:wt});return!1}},Me.traverse=async function(Ne){const He={recursive:!0,directory:Me.rootDirectory};typeof Ne=="function"&&(Ne={callback:Ne}),Ne=Object.assign(He,Ne||{}),async function wt(ct,Ft){for await(const ir of ct.values()){if(Ne.callback(ir,ct,Ft)===!1)return!1;if(Ne.recursive&&ir.kind==="directory"&&await wt(ir,Ft+1)===!1)break}}(Ne.directory,0)};const Rt=async function(Ne,He){const[Xe,wt]=await Me.getDirForFilename(Ne,!0);let Ft=await (await Xe.getFileHandle(wt,{create:!0})).createSyncAccessHandle(),ir=0,kt,an=!1;try{for(Ft.truncate(0);(kt=await He())!==void 0;)kt instanceof ArrayBuffer&&(kt=new Uint8Array(kt)),ir===0&&kt.byteLength>=15&&(pe.affirmDbHeader(kt),an=!0),Ft.write(kt,{at:ir}),ir+=kt.byteLength;if((ir<512||ir%512!==0)&&Ue("Input size",ir,"is not correct for an SQLite database."),!an){const Pe=new Uint8Array(20);Ft.read(Pe,{at:0}),pe.affirmDbHeader(Pe)}return Ft.write(new Uint8Array([1,1]),{at:18}),ir}catch(Pe){throw await Ft.close(),Ft=void 0,await Xe.removeEntry(wt).catch(()=>{}),Pe}finally{Ft&&await Ft.close()}};if(Me.importDb=async function(Ne,He){if(He instanceof Function)return Rt(Ne,He);He instanceof ArrayBuffer&&(He=new Uint8Array(He)),pe.affirmIsDb(He);const Xe=He.byteLength,[wt,ct]=await Me.getDirForFilename(Ne,!0);let Ft,ir=0;try{return Ft=await (await wt.getFileHandle(ct,{create:!0})).createSyncAccessHandle(),Ft.truncate(0),ir=Ft.write(He,{at:0}),ir!=Xe&&Ue("Expected to write "+Xe+" bytes but wrote "+ir+"."),Ft.write(new Uint8Array([1,1]),{at:18}),ir}catch(kt){throw Ft&&(await Ft.close(),Ft=void 0),await wt.removeEntry(ct).catch(()=>{}),kt}finally{Ft&&await Ft.close()}},h.oo1){const Ne=function(...He){const Xe=h.oo1.DB.dbCtorHelper.normalizeArgs(...He);Xe.vfs=J.$zName,h.oo1.DB.dbCtorHelper.call(this,Xe)};Ne.prototype=Object.create(h.oo1.DB.prototype),h.oo1.OpfsDb=Ne,Ne.importDb=Me.importDb,h.oo1.DB.dbCtorHelper.setVfsPostOpenCallback(J.pointer,function(He,Xe){Xe.capi.sqlite3_busy_timeout(He,1e4)})}const zt=function(){const Ne=_e.scopedAllocPush(),He=new $e;try{const Xe=He.pointer,wt=ue.SQLITE_OPEN_CREATE|ue.SQLITE_OPEN_READWRITE|ue.SQLITE_OPEN_MAIN_DB,ct=_e.scopedAlloc(8),Ft="/sanity/check/file"+Lt(8),ir=_e.scopedAllocCString(Ft);let kt;if(W.s11n.serialize("This is \xe4 string."),kt=W.s11n.deserialize(),nt("deserialize() says:",kt),kt[0]!=="This is \xe4 string."&&Ue("String d13n error."),tt.xAccess(J.pointer,ir,0,ct),kt=_e.peek(ct,"i32"),nt("xAccess(",Ft,") exists ?=",kt),kt=tt.xOpen(J.pointer,ir,Xe,wt,ct),nt("open rc =",kt,"state.sabOPView[xOpen] =",W.sabOPView[W.opIds.xOpen]),kt!==0){xe("open failed with code",kt);return}tt.xAccess(J.pointer,ir,0,ct),kt=_e.peek(ct,"i32"),kt||Ue("xAccess() failed to detect file."),kt=Ge.xSync(He.pointer,0),kt&&Ue("sync failed w/ rc",kt),kt=Ge.xTruncate(He.pointer,1024),kt&&Ue("truncate failed w/ rc",kt),_e.poke(ct,0,"i64"),kt=Ge.xFileSize(He.pointer,ct),kt&&Ue("xFileSize failed w/ rc",kt),nt("xFileSize says:",_e.peek(ct,"i64")),kt=Ge.xWrite(He.pointer,ir,10,1),kt&&Ue("xWrite() failed!");const an=_e.scopedAlloc(16);kt=Ge.xRead(He.pointer,an,6,2),_e.poke(an+6,0);let Pe=_e.cstrToJs(an);nt("xRead() got:",Pe),Pe!=="sanity"&&Ue("Unexpected xRead() value."),tt.xSleep&&(nt("xSleep()ing before close()ing..."),tt.xSleep(J.pointer,2e3),nt("waking up from xSleep()")),kt=Ge.xClose(Xe),nt("xClose rc =",kt,"sabOPView =",W.sabOPView),nt("Deleting file:",Ft),tt.xDelete(J.pointer,ir,4660),tt.xAccess(J.pointer,ir,0,ct),kt=_e.peek(ct,"i32"),kt&&Ue("Expecting 0 from xAccess(",Ft,") after xDelete()."),Ae("End of OPFS sanity checks.")}finally{He.dispose(),_e.scopedAllocPop(Ne)}};ee.onmessage=function({data:Ne}){switch(Ne.type){case"opfs-unavailable":Ke(new Error(Ne.payload.join(" ")));break;case"opfs-async-loaded":ee.postMessage({type:"opfs-async-init",args:W});break;case"opfs-async-inited":{if(he===!0)break;try{h.vfs.installVfs({io:{struct:j,methods:Ge},vfs:{struct:J,methods:tt}}),W.sabOPView=new Int32Array(W.sabOP),W.sabFileBufView=new Uint8Array(W.sabIO,0,W.fileBufferSize),W.sabS11nView=new Uint8Array(W.sabIO,W.sabS11nOffset,W.sabS11nSize),Et(),S.sanityChecks&&(Ae("Running sanity checks because of opfs-sanity-check URL arg..."),zt()),pt()?navigator.storage.getDirectory().then(He=>{ee.onerror=ee._originalOnError,delete ee._originalOnError,h.opfs=Me,Me.rootDirectory=He,nt("End of OPFS sqlite3_vfs setup.",J),U()}).catch(Ke):U()}catch(He){xe(He),Ke(He)}break}default:{const He="Unexpected message from the OPFS async worker: "+JSON.stringify(Ne);xe(He),Ke(new Error(He));break}}}}))};b.defaultProxyUri="sqlite3-opfs-async-proxy.js",globalThis.sqlite3ApiBootstrap.initializersAsync.push(async _=>{try{let S=b.defaultProxyUri;return _.scriptInfo.sqlite3Dir&&(b.defaultProxyUri=_.scriptInfo.sqlite3Dir+S),b().catch(I=>{_.config.warn("Ignoring inability to install OPFS sqlite3_vfs:",I.message)})}catch(S){return _.config.error("installOpfsVfs() exception:",S),Promise.reject(S)}})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(h){const b=h.util.toss,_=h.util.toss3,S=Object.create(null),I=h.capi,X=h.util,re=h.wasm,Le=4096,Ve=512,Ze=4,nt=8,Ae=Ve+Ze,xe=Ve,Ue=Ae,ue=Le,pe=I.SQLITE_OPEN_MAIN_DB|I.SQLITE_OPEN_MAIN_JOURNAL|I.SQLITE_OPEN_SUPER_JOURNAL|I.SQLITE_OPEN_WAL,_e=".opaque",We=()=>Math.random().toString(36).slice(2),$e=new TextDecoder,we=new TextEncoder,Me=Object.assign(Object.create(null),{name:"opfs-sahpool",directory:void 0,initialCapacity:6,clearOnInit:!1,verbosity:2,forceReinitIfPreviouslyFailed:!1}),pt=[h.config.error,h.config.warn,h.config.log];h.config.log;const j=h.config.warn;h.config.error;const J=new Map,he=Ye=>J.get(Ye),Ke=(Ye,de)=>{de?J.set(Ye,de):J.delete(Ye)},U=new Map,ee=Ye=>U.get(Ye),T=(Ye,de)=>{de?U.set(Ye,de):U.delete(Ye)},L={xCheckReservedLock:function(Ye,de){const ke=ee(Ye);return ke.log("xCheckReservedLock"),ke.storeErr(),re.poke32(de,1),0},xClose:function(Ye){const de=ee(Ye);de.storeErr();const ke=de.getOFileForS3File(Ye);if(ke)try{de.log(`xClose ${ke.path}`),de.mapS3FileToOFile(Ye,!1),ke.sah.flush(),ke.flags&I.SQLITE_OPEN_DELETEONCLOSE&&de.deletePath(ke.path)}catch(Ge){return de.storeErr(Ge,I.SQLITE_IOERR)}return 0},xDeviceCharacteristics:function(Ye){return I.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(Ye,de,ke){return I.SQLITE_NOTFOUND},xFileSize:function(Ye,de){const ke=ee(Ye);ke.log("xFileSize");const tt=ke.getOFileForS3File(Ye).sah.getSize()-ue;return re.poke64(de,BigInt(tt)),0},xLock:function(Ye,de){const ke=ee(Ye);ke.log(`xLock ${de}`),ke.storeErr();const Ge=ke.getOFileForS3File(Ye);return Ge.lockType=de,0},xRead:function(Ye,de,ke,Ge){const tt=ee(Ye);tt.storeErr();const Rt=tt.getOFileForS3File(Ye);tt.log(`xRead ${Rt.path} ${ke} @ ${Ge}`);try{const zt=Rt.sah.read(re.heap8u().subarray(de,de+ke),{at:ue+Number(Ge)});return zt<ke?(re.heap8u().fill(0,de+zt,de+ke),I.SQLITE_IOERR_SHORT_READ):0}catch(zt){return tt.storeErr(zt,I.SQLITE_IOERR)}},xSectorSize:function(Ye){return Le},xSync:function(Ye,de){const ke=ee(Ye);ke.log(`xSync ${de}`),ke.storeErr();const Ge=ke.getOFileForS3File(Ye);try{return Ge.sah.flush(),0}catch(tt){return ke.storeErr(tt,I.SQLITE_IOERR)}},xTruncate:function(Ye,de){const ke=ee(Ye);ke.log(`xTruncate ${de}`),ke.storeErr();const Ge=ke.getOFileForS3File(Ye);try{return Ge.sah.truncate(ue+Number(de)),0}catch(tt){return ke.storeErr(tt,I.SQLITE_IOERR)}},xUnlock:function(Ye,de){const ke=ee(Ye);ke.log("xUnlock");const Ge=ke.getOFileForS3File(Ye);return Ge.lockType=de,0},xWrite:function(Ye,de,ke,Ge){const tt=ee(Ye);tt.storeErr();const Rt=tt.getOFileForS3File(Ye);tt.log(`xWrite ${Rt.path} ${ke} ${Ge}`);try{const zt=Rt.sah.write(re.heap8u().subarray(de,de+ke),{at:ue+Number(Ge)});return ke===zt?0:b("Unknown write() failure.")}catch(zt){return tt.storeErr(zt,I.SQLITE_IOERR)}}},W=new I.sqlite3_io_methods;W.$iVersion=1,h.vfs.installVfs({io:{struct:W,methods:L}});const qe={xAccess:function(Ye,de,ke,Ge){const tt=he(Ye);tt.storeErr();try{const Rt=tt.getPath(de);re.poke32(Ge,tt.hasFilename(Rt)?1:0)}catch{re.poke32(Ge,0)}return 0},xCurrentTime:function(Ye,de){return re.poke(de,2440587.5+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(Ye,de){return re.poke(de,2440587.5*864e5+new Date().getTime(),"i64"),0},xDelete:function(Ye,de,ke){const Ge=he(Ye);Ge.log(`xDelete ${re.cstrToJs(de)}`),Ge.storeErr();try{return Ge.deletePath(Ge.getPath(de)),0}catch(tt){return Ge.storeErr(tt),I.SQLITE_IOERR_DELETE}},xFullPathname:function(Ye,de,ke,Ge){return re.cstrncpy(Ge,de,ke)<ke?0:I.SQLITE_CANTOPEN},xGetLastError:function(Ye,de,ke){const Ge=he(Ye),tt=Ge.popErr();if(Ge.log(`xGetLastError ${de} e =`,tt),tt){const Rt=re.scopedAllocPush();try{const[zt,Ne]=re.scopedAllocCString(tt.message,!0);re.cstrncpy(ke,zt,de),Ne>de&&re.poke8(ke+de-1,0)}catch{return I.SQLITE_NOMEM}finally{re.scopedAllocPop(Rt)}}return tt?tt.sqlite3Rc||I.SQLITE_IOERR:0},xOpen:function(de,ke,Ge,tt,Rt){const zt=he(de);try{zt.log(`xOpen ${re.cstrToJs(ke)} ${tt}`);const Ne=ke&&re.peek8(ke)?zt.getPath(ke):We();let He=zt.getSAHForPath(Ne);!He&&tt&I.SQLITE_OPEN_CREATE&&(zt.getFileCount()<zt.getCapacity()?(He=zt.nextAvailableSAH(),zt.setAssociatedPath(He,Ne,tt)):b("SAH pool is full. Cannot create file",Ne)),He||b("file not found:",Ne);const Xe={path:Ne,flags:tt,sah:He};zt.mapS3FileToOFile(Ge,Xe),Xe.lockType=I.SQLITE_LOCK_NONE;const wt=new I.sqlite3_file(Ge);return wt.$pMethods=W.pointer,wt.dispose(),re.poke32(Rt,tt),0}catch(Ne){return zt.storeErr(Ne),I.SQLITE_CANTOPEN}}},Qe=function(Ye){h.capi.sqlite3_vfs_find(Ye)&&_("VFS name is already registered:",Ye);const de=new I.sqlite3_vfs,ke=I.sqlite3_vfs_find(null),Ge=ke?new I.sqlite3_vfs(ke):null;return de.$iVersion=2,de.$szOsFile=I.sqlite3_file.structInfo.sizeof,de.$mxPathname=Ve,de.addOnDispose(de.$zName=re.allocCString(Ye),()=>Ke(de.pointer,0)),Ge&&(de.$xRandomness=Ge.$xRandomness,de.$xSleep=Ge.$xSleep,Ge.dispose()),!de.$xRandomness&&!qe.xRandomness&&(qe.xRandomness=function(tt,Rt,zt){const Ne=re.heap8u();let He=0;for(;He<Rt;++He)Ne[zt+He]=Math.random()*255e3&255;return He}),!de.$xSleep&&!qe.xSleep&&(qe.xSleep=(tt,Rt)=>0),h.vfs.installVfs({vfs:{struct:de,methods:qe}}),de};class Et{vfsDir;#e;#t;#r;#n=new Map;#i=new Map;#s=new Set;#o=new Map;#a=new Uint8Array(Ae);#u;#l;#c;constructor(de=Object.create(null)){this.#c=de.verbosity??Me.verbosity,this.vfsName=de.name||Me.name,this.#l=Qe(this.vfsName),Ke(this.#l.pointer,this),this.vfsDir=de.directory||"."+this.vfsName,this.#u=new DataView(this.#a.buffer,this.#a.byteOffset),this.isReady=this.reset(!!(de.clearOnInit??Me.clearOnInit)).then(()=>{if(this.$error)throw this.$error;return this.getCapacity()?Promise.resolve(void 0):this.addCapacity(de.initialCapacity||Me.initialCapacity)})}#d(de,...ke){this.#c>de&&pt[de](this.vfsName+":",...ke)}log(...de){this.#d(2,...de)}warn(...de){this.#d(1,...de)}error(...de){this.#d(0,...de)}getVfs(){return this.#l}getCapacity(){return this.#n.size}getFileCount(){return this.#i.size}getFileNames(){const de=[],ke=this.#i.keys();for(const Ge of ke)de.push(Ge);return de}async addCapacity(de){for(let ke=0;ke<de;++ke){const Ge=We(),Rt=await (await this.#t.getFileHandle(Ge,{create:!0})).createSyncAccessHandle();this.#n.set(Rt,Ge),this.setAssociatedPath(Rt,"",0)}return this.getCapacity()}async reduceCapacity(de){let ke=0;for(const Ge of Array.from(this.#s)){if(ke===de||this.getFileCount()===this.getCapacity())break;const tt=this.#n.get(Ge);Ge.close(),await this.#t.removeEntry(tt),this.#n.delete(Ge),this.#s.delete(Ge),++ke}return ke}releaseAccessHandles(){for(const de of this.#n.keys())de.close();this.#n.clear(),this.#i.clear(),this.#s.clear()}async acquireAccessHandles(de){const ke=[];for await(const[Ge,tt]of this.#t)tt.kind==="file"&&ke.push([Ge,tt]);return Promise.all(ke.map(async([Ge,tt])=>{try{const Rt=await tt.createSyncAccessHandle();if(this.#n.set(Rt,Ge),de)Rt.truncate(ue),this.setAssociatedPath(Rt,"",0);else{const zt=this.getAssociatedPath(Rt);zt?this.#i.set(zt,Rt):this.#s.add(Rt)}}catch(Rt){throw this.storeErr(Rt),this.releaseAccessHandles(),Rt}}))}getAssociatedPath(de){de.read(this.#a,{at:0});const ke=this.#u.getUint32(xe);if(this.#a[0]&&(ke&I.SQLITE_OPEN_DELETEONCLOSE||!(ke&pe)))return j(`Removing file with unexpected flags ${ke.toString(16)}`,this.#a),this.setAssociatedPath(de,"",0),"";const Ge=new Uint32Array(nt/4);de.read(Ge,{at:Ue});const tt=this.computeDigest(this.#a);if(Ge.every((Rt,zt)=>Rt===tt[zt])){const Rt=this.#a.findIndex(zt=>zt===0);return Rt===0&&de.truncate(ue),Rt?$e.decode(this.#a.subarray(0,Rt)):""}else return j("Disassociating file with bad digest."),this.setAssociatedPath(de,"",0),""}setAssociatedPath(de,ke,Ge){const tt=we.encodeInto(ke,this.#a);Ve<=tt.written+1&&b("Path too long:",ke),this.#a.fill(0,tt.written,Ve),this.#u.setUint32(xe,Ge);const Rt=this.computeDigest(this.#a);de.write(this.#a,{at:0}),de.write(Rt,{at:Ue}),de.flush(),ke?(this.#i.set(ke,de),this.#s.delete(de)):(de.truncate(ue),this.#s.add(de))}computeDigest(de){let ke=0xdeadbeef,Ge=0x41c6ce57;for(const tt of de)ke=31*ke+tt*307,Ge=31*Ge+tt*307;return new Uint32Array([ke>>>0,Ge>>>0])}async reset(de){await this.isReady;let ke=await navigator.storage.getDirectory(),Ge;for(const tt of this.vfsDir.split("/"))tt&&(Ge=ke,ke=await ke.getDirectoryHandle(tt,{create:!0}));return this.#e=ke,this.#r=Ge,this.#t=await this.#e.getDirectoryHandle(_e,{create:!0}),this.releaseAccessHandles(),this.acquireAccessHandles(de)}getPath(de){return re.isPtr(de)&&(de=re.cstrToJs(de)),(de instanceof URL?de:new URL(de,"file://localhost/")).pathname}deletePath(de){const ke=this.#i.get(de);return ke&&(this.#i.delete(de),this.setAssociatedPath(ke,"",0)),!!ke}storeErr(de,ke){return de&&(de.sqlite3Rc=ke||I.SQLITE_IOERR,this.error(de)),this.$error=de,ke}popErr(){const de=this.$error;return this.$error=void 0,de}nextAvailableSAH(){const[de]=this.#s.keys();return de}getOFileForS3File(de){return this.#o.get(de)}mapS3FileToOFile(de,ke){ke?(this.#o.set(de,ke),T(de,this)):(this.#o.delete(de),T(de,!1))}hasFilename(de){return this.#i.has(de)}getSAHForPath(de){return this.#i.get(de)}async removeVfs(){if(!this.#l.pointer||!this.#t)return!1;I.sqlite3_vfs_unregister(this.#l.pointer),this.#l.dispose(),delete S[this.vfsName];try{this.releaseAccessHandles(),await this.#e.removeEntry(_e,{recursive:!0}),this.#t=void 0,await this.#r.removeEntry(this.#e.name,{recursive:!0}),this.#e=this.#r=void 0}catch(de){h.config.error(this.vfsName,"removeVfs() failed:",de)}return!0}exportFile(de){const ke=this.#i.get(de)||b("File not found:",de),Ge=ke.getSize()-ue,tt=new Uint8Array(Ge>0?Ge:0);if(Ge>0){const Rt=ke.read(tt,{at:ue});Rt!=Ge&&b("Expected to read "+Ge+" bytes but read "+Rt+".")}return tt}async importDbChunked(de,ke){const Ge=this.#i.get(de)||this.nextAvailableSAH()||b("No available handles to import to.");Ge.truncate(0);let tt=0,Rt,zt=!1;try{for(;(Rt=await ke())!==void 0;)Rt instanceof ArrayBuffer&&(Rt=new Uint8Array(Rt)),tt===0&&Rt.byteLength>=15&&(X.affirmDbHeader(Rt),zt=!0),Ge.write(Rt,{at:ue+tt}),tt+=Rt.byteLength;if((tt<512||tt%512!==0)&&b("Input size",tt,"is not correct for an SQLite database."),!zt){const Ne=new Uint8Array(20);Ge.read(Ne,{at:0}),X.affirmDbHeader(Ne)}Ge.write(new Uint8Array([1,1]),{at:ue+18})}catch(Ne){throw this.setAssociatedPath(Ge,"",0),Ne}return this.setAssociatedPath(Ge,de,I.SQLITE_OPEN_MAIN_DB),tt}importDb(de,ke){if(ke instanceof ArrayBuffer)ke=new Uint8Array(ke);else if(ke instanceof Function)return this.importDbChunked(de,ke);const Ge=this.#i.get(de)||this.nextAvailableSAH()||b("No available handles to import to."),tt=ke.byteLength;(tt<512||tt%512!=0)&&b("Byte array size is invalid for an SQLite db.");const Rt="SQLite format 3";for(let Ne=0;Ne<Rt.length;++Ne)Rt.charCodeAt(Ne)!==ke[Ne]&&b("Input does not contain an SQLite database header.");const zt=Ge.write(ke,{at:ue});return zt!=tt?(this.setAssociatedPath(Ge,"",0),b("Expected to write "+tt+" bytes but wrote "+zt+".")):(Ge.write(new Uint8Array([1,1]),{at:ue+18}),this.setAssociatedPath(Ge,de,I.SQLITE_OPEN_MAIN_DB)),zt}}class Lt{#e;constructor(de){this.#e=de,this.vfsName=de.vfsName}async addCapacity(de){return this.#e.addCapacity(de)}async reduceCapacity(de){return this.#e.reduceCapacity(de)}getCapacity(){return this.#e.getCapacity(this.#e)}getFileCount(){return this.#e.getFileCount()}getFileNames(){return this.#e.getFileNames()}async reserveMinimumCapacity(de){const ke=this.#e.getCapacity();return ke<de?this.#e.addCapacity(de-ke):ke}exportFile(de){return this.#e.exportFile(de)}importDb(de,ke){return this.#e.importDb(de,ke)}async wipeFiles(){return this.#e.reset(!0)}unlink(de){return this.#e.deletePath(de)}async removeVfs(){return this.#e.removeVfs()}}const Wt=async()=>{const Ye=await navigator.storage.getDirectory(),de=".opfs-sahpool-sync-check-"+We(),tt=(await (await Ye.getFileHandle(de,{create:!0})).createSyncAccessHandle()).close();return await tt,await Ye.removeEntry(de),tt?.then&&b("The local OPFS API is too old for opfs-sahpool:","it has an async FileSystemSyncAccessHandle.close() method."),!0};h.installOpfsSAHPoolVfs=async function(Ye=Object.create(null)){Ye=Object.assign(Object.create(null),Me,Ye||{});const de=Ye.name;if(Ye.$testThrowPhase1)throw Ye.$testThrowPhase1;if(S[de])try{return await S[de]}catch(ke){if(Ye.forceReinitIfPreviouslyFailed)delete S[de];else throw ke}return!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory?S[de]=Promise.reject(new Error("Missing required OPFS APIs.")):S[de]=Wt().then(async function(){if(Ye.$testThrowPhase2)throw Ye.$testThrowPhase2;const ke=new Et(Ye);return ke.isReady.then(async()=>{const Ge=new Lt(ke);if(h.oo1){const tt=h.oo1,Rt=ke.getVfs(),zt=function(...Ne){const He=tt.DB.dbCtorHelper.normalizeArgs(...Ne);He.vfs=Rt.$zName,tt.DB.dbCtorHelper.call(this,He)};zt.prototype=Object.create(tt.DB.prototype),Ge.OpfsSAHPoolDb=zt}return ke.log("VFS initialized."),Ge}).catch(async Ge=>{throw await ke.removeVfs().catch(()=>{}),Ge})}).catch(ke=>S[de]=Promise.reject(ke))}}),typeof f<"u"){const h=Object.assign(Object.create(null),{exports:typeof te>"u"?f.asm:te,memory:f.wasmMemory},globalThis.sqlite3ApiConfig||{});globalThis.sqlite3ApiConfig=h;let b;try{b=globalThis.sqlite3ApiBootstrap()}catch(_){throw console.error("sqlite3ApiBootstrap() error:",_),_}finally{delete globalThis.sqlite3ApiBootstrap,delete globalThis.sqlite3ApiConfig}f.sqlite3=b}else console.warn("This is not running in an Emscripten module context, so","globalThis.sqlite3ApiBootstrap() is _not_ being called due to lack","of config info for the WASM environment.","It must be called manually.")}),r=l,r}})();const O6=function(){const t=H0;if(!t)throw new Error("Expecting globalThis.sqlite3InitModule to be defined by the Emscripten build.");const e=globalThis.sqlite3InitModuleState=Object.assign(Object.create(null),{moduleScript:globalThis?.document?.currentScript,isWorker:typeof WorkerGlobalScope<"u",location:globalThis.location,urlParams:globalThis?.location?.href?new URL(globalThis.location.href).searchParams:new URLSearchParams});if(e.debugModule=e.urlParams.has("sqlite3.debugModule")?(...r)=>console.warn("sqlite3.debugModule:",...r):()=>{},e.urlParams.has("sqlite3.dir"))e.sqlite3Dir=e.urlParams.get("sqlite3.dir")+"/";else if(e.moduleScript){const r=e.moduleScript.src.split("/");r.pop(),e.sqlite3Dir=r.join("/")+"/"}if(globalThis.sqlite3InitModule=function r(...n){return t(...n).then(s=>{const o=s.sqlite3;o.scriptInfo=e,r.__isUnderTest&&(o.__isUnderTest=!0);const l=o.asyncPostInit;return delete o.asyncPostInit,l()}).catch(s=>{throw console.error("Exception loading sqlite3 module:",s),s})},globalThis.sqlite3InitModule.ready=t.ready,globalThis.sqlite3InitModuleState.moduleScript){const r=globalThis.sqlite3InitModuleState;let n=r.moduleScript.src.split("/");n.pop(),r.scriptDir=n.join("/")+"/"}return e.debugModule("sqlite3InitModuleState =",e),globalThis.sqlite3InitModule}();H0=O6;const R6=H0;globalThis.sqlite3Worker1Promiser=function t(e=t.defaultConfig){if(arguments.length===1&&typeof arguments[0]=="function"){const w=e;e=Object.assign(Object.create(null),t.defaultConfig),e.onready=w}else e=Object.assign(Object.create(null),t.defaultConfig,e);const r=Object.create(null),n=function(){},s=e.onerror||n,o=e.debug||n,l=e.generateMessageId?void 0:Object.create(null),u=e.generateMessageId||function(w){return w.type+"#"+(l[w.type]=(l[w.type]||0)+1)},d=(...w)=>{throw new Error(w.join(" "))};e.worker||(e.worker=t.defaultConfig.worker),typeof e.worker=="function"&&(e.worker=e.worker());let m,y;return e.worker.onmessage=function(w){w=w.data,o("worker1.onmessage",w);let E=r[w.messageId];if(!E){if(w&&w.type==="sqlite3-api"&&w.result==="worker1-ready"){e.onready&&e.onready(y);return}if(E=r[w.type],E&&E.onrow){E.onrow(w);return}e.onunhandled?e.onunhandled(arguments[0]):s("sqlite3Worker1Promiser() unhandled worker message:",w);return}switch(delete r[w.messageId],w.type){case"error":E.reject(w);return;case"open":m||(m=w.dbId);break;case"close":w.dbId===m&&(m=void 0);break}try{E.resolve(w)}catch(k){E.reject(k)}},y=function(){let w;arguments.length===1?w=arguments[0]:arguments.length===2?(w=Object.create(null),w.type=arguments[0],w.args=arguments[1],w.dbId=w.args.dbId):d("Invalid arguments for sqlite3Worker1Promiser()-created factory."),!w.dbId&&w.type!=="open"&&(w.dbId=m),w.messageId=u(w),w.departureTime=performance.now();const E=Object.create(null);E.message=w;let k;w.type==="exec"&&w.args&&(typeof w.args.callback=="function"?(k=w.messageId+":row",E.onrow=w.args.callback,w.args.callback=k,r[k]=E):typeof w.args.callback=="string"&&d("exec callback may not be a string when using the Promise interface."));let q=new Promise(function(C,A){E.resolve=C,E.reject=A,r[w.messageId]=E,o("Posting",w.type,"message to Worker dbId="+(m||"default")+":",w),e.worker.postMessage(w)});return k&&(q=q.finally(()=>delete r[k])),q}};globalThis.sqlite3Worker1Promiser.defaultConfig={worker:function(){return new Worker(new URL("/assets/sqlite3-worker1-bundler-friendly-BF9rosUC.js",import.meta.url),{type:"module"})},onerror:(...t)=>console.error("worker1 promiser error",...t)};sqlite3Worker1Promiser.v2=function(t){let e;typeof t=="function"?(e=t,t={}):typeof t?.onready=="function"&&(e=t.onready,delete t.onready);const r=Object.create(null);t=Object.assign(t||Object.create(null),{onready:async function(s){try{e&&await e(s),r.resolve(s)}catch(o){r.reject(o)}}});const n=new Promise(function(s,o){r.resolve=s,r.reject=o});try{this.original(t)}catch(s){r.reject(s)}return n}.bind({original:sqlite3Worker1Promiser});sqlite3Worker1Promiser.v2;function Dk(){let t,e;return{lock:async()=>{for(;t;)await t;t=new Promise(s=>{e=s})},unlock:async()=>{const s=e;t=void 0,e=void 0,s?.()}}}function I_(t,e){const r={rows:[],columns:[]},n=t.exec({sql:e.sql,bind:e.params,returnValue:"resultRows",rowMode:"array",columnNames:r.columns});switch(e.method){case"run":break;case"get":r.rows=n[0]??[];break;case"all":default:r.rows=n;break}return r}function x3(t){const e=t.split(/[\\/]/).filter(o=>o!==""),r=e.pop();if(!r)throw new Error("Database path is invalid.");const n=["journal","wal","shm"].map(o=>`${r}-${o}`);return{directories:e,fileName:r,tempFileNames:n,getDirectoryHandle:async()=>{let o=await navigator.storage.getDirectory();for(let l of e)o=await o.getDirectoryHandle(l);return o}}}async function jw(t,e){let r;if(t instanceof Blob?r=t.stream():r=t,r instanceof ReadableStream&&e){const s=r.getReader();switch(e){case"callback":return async()=>(await s.read()).value;case"buffer":const o=[];let l=!1;for(;!l;){const y=await s.read();y.value&&o.push(y.value),l=y.done}const u=o.reduce((y,w)=>y+w.length,0),d=new Uint8Array(u);let m=0;return o.forEach(y=>{d.set(y,m),m+=y.length}),d}}else return r}class A6{constructor(e){Object.defineProperty(this,"sqlite3",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"db",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dbStorageType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"pointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"userFunctions",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"initMutex",{enumerable:!0,configurable:!0,writable:!0,value:Dk()}),Object.defineProperty(this,"transactionMutex",{enumerable:!0,configurable:!0,writable:!0,value:Dk()}),Object.defineProperty(this,"transactionKey",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"proxy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reinitChannel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onmessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"init",{enumerable:!0,configurable:!0,writable:!0,value:async n=>{if(!this.config.databasePath)return;await this.initMutex.lock();const{databasePath:s,readOnly:o,verbose:l}=this.config,u=[o===!0?"r":"cw",l===!0?"t":""].join("");try{this.sqlite3||(this.sqlite3=await R6()),this.db&&this.destroy(),"opfs"in this.sqlite3&&s!==":memory:"?(this.db=new this.sqlite3.oo1.OpfsDb(s,u),this.dbStorageType="opfs"):(this.db=new this.sqlite3.oo1.DB(s,u),this.dbStorageType="memory",s!==":memory:"&&console.warn(`The origin private file system is not available, so ${s} will not be persisted. Make sure your web server is configured to use the correct HTTP response headers (See https://sqlocal.dallashoffman.com/guide/setup#cross-origin-isolation).`)),this.dbStorageType!=="memory"&&(this.reinitChannel=new BroadcastChannel(`_sqlocal_reinit_(${s})`),this.reinitChannel.onmessage=d=>{this.config.clientKey!==d.data.clientKey&&this.init(d.data.reason)}),this.userFunctions.forEach(this.initUserFunction),this.execInitStatements(),this.emitMessage({type:"event",event:"connect",reason:n})}catch(d){this.emitMessage({type:"error",error:d,queryKey:null}),this.destroy()}finally{await this.initMutex.unlock()}}}),Object.defineProperty(this,"postMessage",{enumerable:!0,configurable:!0,writable:!0,value:async(n,s)=>{const o=n instanceof MessageEvent?n.data:n;switch(await this.initMutex.lock(),o.type){case"config":this.editConfig(o);break;case"query":case"batch":case"transaction":this.exec(o);break;case"function":this.createUserFunction(o);break;case"getinfo":this.getDatabaseInfo(o);break;case"import":this.importDb(o);break;case"export":this.exportDb(o);break;case"delete":this.deleteDb(o);break;case"destroy":this.destroy(o);break}await this.initMutex.unlock()}}),Object.defineProperty(this,"emitMessage",{enumerable:!0,configurable:!0,writable:!0,value:(n,s=[])=>{this.onmessage&&this.onmessage(n,s)}}),Object.defineProperty(this,"editConfig",{enumerable:!0,configurable:!0,writable:!0,value:n=>{this.config=n.config,this.init("initial")}}),Object.defineProperty(this,"exec",{enumerable:!0,configurable:!0,writable:!0,value:async n=>{if(this.db)try{const s={type:"data",queryKey:n.queryKey,data:[]};switch(n.type){case"query":const o=this.transactionKey!==null&&this.transactionKey===n.transactionKey;try{o||await this.transactionMutex.lock();const l=I_(this.db,n);s.data.push(l)}finally{o||await this.transactionMutex.unlock()}break;case"batch":try{await this.transactionMutex.lock(),this.db.transaction(l=>{for(let u of n.statements){const d=I_(l,u);s.data.push(d)}})}finally{await this.transactionMutex.unlock()}break;case"transaction":if(n.action==="begin"&&(await this.transactionMutex.lock(),this.transactionKey=n.transactionKey,this.db.exec({sql:"BEGIN"})),(n.action==="commit"||n.action==="rollback")&&this.transactionKey!==null&&this.transactionKey===n.transactionKey){const l=n.action==="commit"?"COMMIT":"ROLLBACK";this.db.exec({sql:l}),this.transactionKey=null,await this.transactionMutex.unlock()}break}this.emitMessage(s)}catch(s){this.emitMessage({type:"error",error:s,queryKey:n.queryKey})}}}),Object.defineProperty(this,"execInitStatements",{enumerable:!0,configurable:!0,writable:!0,value:()=>{if(this.db&&this.config.onInitStatements)for(let n of this.config.onInitStatements)I_(this.db,n)}}),Object.defineProperty(this,"getDatabaseInfo",{enumerable:!0,configurable:!0,writable:!0,value:async n=>{try{const s=this.config.databasePath,o=this.dbStorageType,l=o!==void 0?o!=="memory"?await navigator.storage?.persisted():!1:void 0,d=this.db?.exec({sql:"SELECT page_count * page_size AS size FROM pragma_page_count(), pragma_page_size()",returnValue:"resultRows",rowMode:"array"})?.[0]?.[0],m=typeof d=="number"?d:void 0;this.emitMessage({type:"info",queryKey:n.queryKey,info:{databasePath:s,databaseSizeBytes:m,storageType:o,persisted:l}})}catch(s){this.emitMessage({type:"error",queryKey:n.queryKey,error:s})}}}),Object.defineProperty(this,"createUserFunction",{enumerable:!0,configurable:!0,writable:!0,value:n=>{const{functionName:s,functionType:o,queryKey:l}=n;let u;if(this.userFunctions.has(s)){this.emitMessage({type:"error",error:new Error(`A user-defined function with the name "${s}" has already been created for this SQLocal instance.`),queryKey:l});return}o==="callback"?u=(...d)=>{this.emitMessage({type:"callback",name:s,args:d})}:u=this.proxy[`_sqlocal_func_${s}`];try{this.initUserFunction({type:o,name:s,func:u}),this.emitMessage({type:"success",queryKey:l})}catch(d){this.emitMessage({type:"error",error:d,queryKey:l})}}}),Object.defineProperty(this,"initUserFunction",{enumerable:!0,configurable:!0,writable:!0,value:n=>{this.db&&(this.db.createFunction({name:n.name,xFunc:(s,...o)=>n.func(...o),arity:-1}),this.userFunctions.set(n.name,n))}}),Object.defineProperty(this,"importDb",{enumerable:!0,configurable:!0,writable:!0,value:async n=>{if(!this.sqlite3||!this.config.databasePath||!this.db)return;const{queryKey:s,database:o}=n;let l=!1;try{if(this.dbStorageType==="opfs"){this.destroy();const u=await jw(o,"callback");await this.sqlite3.oo1.OpfsDb.importDb(this.config.databasePath,u)}else{const u=await jw(o,"buffer"),d=this.sqlite3.wasm.allocFromTypedArray(u);this.pointers.push(d);const m=this.sqlite3.capi.sqlite3_deserialize(this.db,"main",d,u.byteLength,u.byteLength,this.config.readOnly?this.sqlite3.capi.SQLITE_DESERIALIZE_READONLY:this.sqlite3.capi.SQLITE_DESERIALIZE_RESIZEABLE);this.db.checkRc(m),this.execInitStatements()}}catch(u){this.emitMessage({type:"error",error:u,queryKey:s}),l=!0}finally{this.dbStorageType!=="memory"&&await this.init("overwrite")}l||this.emitMessage({type:"success",queryKey:s})}}),Object.defineProperty(this,"exportDb",{enumerable:!0,configurable:!0,writable:!0,value:n=>{if(!this.sqlite3||!this.db)return;const{queryKey:s}=n;try{const o=this.sqlite3.capi.sqlite3_js_db_export(this.db);this.emitMessage({type:"buffer",queryKey:s,buffer:o},[o])}catch(o){this.emitMessage({type:"error",error:o,queryKey:s})}}}),Object.defineProperty(this,"deleteDb",{enumerable:!0,configurable:!0,writable:!0,value:async n=>{if(!this.config.databasePath)return;const{queryKey:s}=n;let o=!1;try{if(this.dbStorageType==="opfs"){const{getDirectoryHandle:l,fileName:u,tempFileNames:d}=x3(this.config.databasePath),m=await l(),y=[u,...d];this.destroy(),await Promise.all(y.map(async w=>m.removeEntry(w).catch(E=>{if(!(E instanceof DOMException&&E.name==="NotFoundError"))throw E})))}else this.destroy()}catch(l){this.emitMessage({type:"error",error:l,queryKey:s}),o=!0}finally{await this.init("delete")}o||this.emitMessage({type:"success",queryKey:s})}}),Object.defineProperty(this,"destroy",{enumerable:!0,configurable:!0,writable:!0,value:n=>{this.db&&(this.db.exec({sql:"PRAGMA optimize"}),this.db.close(),this.db=void 0,this.dbStorageType=void 0),this.reinitChannel&&(this.reinitChannel.close(),this.reinitChannel=void 0),this.pointers.forEach(s=>this.sqlite3?.wasm.dealloc(s)),this.pointers=[],n&&this.emitMessage({type:"success",queryKey:n.queryKey})}});const r=e?globalThis:V0(globalThis);this.proxy=r,this.init("initial")}}function _g(t,...e){return{sql:t.join("?"),params:e}}function P6(t){return!t.some(e=>!Array.isArray(e))}function q_(t,e){let r;return P6(t)?r=t:r=[t],r.map(n=>{const s={};return e.forEach((o,l)=>{s[o]=n[l]}),s})}function j6(t){return typeof t=="object"&&t!==null&&"getSQL"in t&&typeof t.getSQL=="function"}function F6(t){return typeof t=="object"&&t!==null&&"sql"in t&&typeof t.sql=="string"&&"params"in t}function L6(t){if(typeof t=="function"&&(t=t(_g)),j6(t))try{if(!("toSQL"in t&&typeof t.toSQL=="function"))throw 1;const n=t.toSQL();if(!F6(n))throw 2;return n}catch{throw new Error("The passed statement could not be parsed.")}const e=t.sql;let r=[];return"params"in t?r=t.params:"parameters"in t&&(r=t.parameters),{sql:e,params:r}}function C_(){return crypto.randomUUID()}function Mk(t,e){let r;return typeof t=="string"?r={sql:t,params:e}:r=_g(t,...e),r}async function Gp(t,e,r,n){return!e&&"locks"in navigator?navigator.locks.request(`_sqlocal_mutation_(${r.databasePath})`,{mode:t},n):n()}class D6{constructor(e){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isDestroyed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"bypassMutationLock",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"userCallbacks",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"queriesInProgress",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"proxy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reinitChannel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"processMessageEvent",{enumerable:!0,configurable:!0,writable:!0,value:l=>{const u=l instanceof MessageEvent?l.data:l,d=this.queriesInProgress;switch(u.type){case"success":case"data":case"buffer":case"info":case"error":if(u.queryKey&&d.has(u.queryKey)){const[y,w]=d.get(u.queryKey);u.type==="error"?w(u.error):y(u),d.delete(u.queryKey)}else if(u.type==="error")throw u.error;break;case"callback":const m=this.userCallbacks.get(u.name);m&&m(...u.args??[]);break;case"event":this.config.onConnect?.(u.reason);break}}}),Object.defineProperty(this,"createQuery",{enumerable:!0,configurable:!0,writable:!0,value:async l=>Gp("shared",this.bypassMutationLock||l.type==="import"||l.type==="delete",this.config,async()=>{if(this.isDestroyed===!0)throw new Error("This SQLocal client has been destroyed. You will need to initialize a new client in order to make further queries.");const u=C_();switch(l.type){case"import":this.processor.postMessage({...l,queryKey:u},[l.database]);break;default:this.processor.postMessage({...l,queryKey:u});break}return new Promise((d,m)=>{this.queriesInProgress.set(u,[d,m])})})}),Object.defineProperty(this,"exec",{enumerable:!0,configurable:!0,writable:!0,value:async(l,u,d="all",m)=>{const y=await this.createQuery({type:"query",transactionKey:m,sql:l,params:u,method:d}),w={rows:[],columns:[]};return y.type==="data"&&(w.rows=y.data[0]?.rows??[],w.columns=y.data[0]?.columns??[]),w}}),Object.defineProperty(this,"execBatch",{enumerable:!0,configurable:!0,writable:!0,value:async l=>{const u=await this.createQuery({type:"batch",statements:l}),d=new Array(l.length).fill({rows:[],columns:[]});return u.type==="data"&&u.data.forEach((m,y)=>{d[y]=m}),d}}),Object.defineProperty(this,"sql",{enumerable:!0,configurable:!0,writable:!0,value:async(l,...u)=>{const d=Mk(l,u),{rows:m,columns:y}=await this.exec(d.sql,d.params,"all");return q_(m,y)}}),Object.defineProperty(this,"batch",{enumerable:!0,configurable:!0,writable:!0,value:async l=>{const u=l(_g);return(await this.execBatch(u)).map(({rows:m,columns:y})=>q_(m,y))}}),Object.defineProperty(this,"beginTransaction",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{const l=C_();await this.createQuery({type:"transaction",transactionKey:l,action:"begin"});const u=async w=>{const E=L6(w),{rows:k,columns:q}=await this.exec(E.sql,E.params,"all",l);return q_(k,q)};return{query:u,sql:async(w,...E)=>{const k=Mk(w,E);return await u(k)},commit:async()=>{await this.createQuery({type:"transaction",transactionKey:l,action:"commit"})},rollback:async()=>{await this.createQuery({type:"transaction",transactionKey:l,action:"rollback"})}}}}),Object.defineProperty(this,"transaction",{enumerable:!0,configurable:!0,writable:!0,value:async l=>Gp("exclusive",!1,this.config,async()=>{let u;this.bypassMutationLock=!0;try{u=await this.beginTransaction();const d=await l({sql:u.sql,query:u.query});return await u.commit(),d}catch(d){throw await u?.rollback(),d}finally{this.bypassMutationLock=!1}})}),Object.defineProperty(this,"createCallbackFunction",{enumerable:!0,configurable:!0,writable:!0,value:async(l,u)=>{await this.createQuery({type:"function",functionName:l,functionType:"callback"}),this.userCallbacks.set(l,u)}}),Object.defineProperty(this,"createScalarFunction",{enumerable:!0,configurable:!0,writable:!0,value:async(l,u)=>{const d=`_sqlocal_func_${l}`;this.proxy===globalThis&&(this.proxy[d]=u),await this.createQuery({type:"function",functionName:l,functionType:"scalar"}),this.proxy!==globalThis&&(this.proxy[d]=u)}}),Object.defineProperty(this,"getDatabaseInfo",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{const l=await this.createQuery({type:"getinfo"});if(l.type==="info")return l.info;throw new Error("The database failed to return valid information.")}}),Object.defineProperty(this,"getDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{let l,u;const{storageType:d}=await this.getDatabaseInfo();if(d==="opfs"){const m=x3(this.config.databasePath),{directories:y,getDirectoryHandle:w}=m;l=m.fileName;const E=`backup-${Date.now()}--${l}`,k=`${y.join("/")}/${E}`;await this.exec("VACUUM INTO ?",[k]);const q=await w();u=await (await (await q.getFileHandle(E)).getFile()).arrayBuffer(),await q.removeEntry(E)}else{const m=await this.createQuery({type:"export"});if(m.type==="buffer")l="database.sqlite3",u=m.buffer;else throw new Error("The database failed to export.")}return new File([u],l,{type:"application/x-sqlite3"})}}),Object.defineProperty(this,"overwriteDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async(l,u)=>{await Gp("exclusive",!1,this.config,async()=>{try{const d=await jw(l);await this.createQuery({type:"import",database:d}),typeof u=="function"&&(this.bypassMutationLock=!0,await u()),this.reinitChannel.postMessage({clientKey:this.clientKey,reason:"overwrite"})}finally{this.bypassMutationLock=!1}})}}),Object.defineProperty(this,"deleteDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async l=>{await Gp("exclusive",!1,this.config,async()=>{try{await this.createQuery({type:"delete"}),typeof l=="function"&&(this.bypassMutationLock=!0,await l()),this.reinitChannel.postMessage({clientKey:this.clientKey,reason:"delete"})}finally{this.bypassMutationLock=!1}})}}),Object.defineProperty(this,"destroy",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{await this.createQuery({type:"destroy"}),this.processor instanceof Worker&&(this.processor.removeEventListener("message",this.processMessageEvent),this.processor.terminate()),this.queriesInProgress.clear(),this.userCallbacks.clear(),this.reinitChannel.close(),this.isDestroyed=!0}});const r=typeof e=="string"?{databasePath:e}:e,{onInit:n,onConnect:s,...o}=r;this.config=r,this.clientKey=C_(),this.reinitChannel=new BroadcastChannel(`_sqlocal_reinit_(${o.databasePath})`),typeof globalThis.Worker<"u"&&o.databasePath!==":memory:"?(this.processor=new Worker(new URL("/assets/worker-DxuAzsZq.js",import.meta.url),{type:"module"}),this.processor.addEventListener("message",this.processMessageEvent),this.proxy=V0(this.processor)):(this.processor=new A6(!0),this.processor.onmessage=l=>this.processMessageEvent(l),this.proxy=globalThis),this.processor.postMessage({type:"config",config:{...o,clientKey:this.clientKey,onInitStatements:n?.(_g)??[]}})}}class M6 extends D6{constructor(){super(...arguments),Object.defineProperty(this,"dialect",{enumerable:!0,configurable:!0,writable:!0,value:{createAdapter:()=>new x6,createDriver:()=>new B6(this),createIntrospector:e=>new w6(e),createQueryCompiler:()=>new v6}})}}class B6{constructor(e){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:e})}async init(){}async acquireConnection(){return new $6(this.client)}async releaseConnection(){}async beginTransaction(e){e.transaction=await this.client.beginTransaction()}async commitTransaction(e){await e.transaction?.commit(),e.transaction=null}async rollbackTransaction(e){await e.transaction?.rollback(),e.transaction=null}async destroy(){await this.client.destroy()}}class $6{constructor(e){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"transaction",{enumerable:!0,configurable:!0,writable:!0,value:null})}async executeQuery(e){let r;return this.transaction===null?r=await this.client.sql(e.sql,...e.parameters):r=await this.transaction.query(e),{rows:r}}async *streamQuery(){throw new Error("SQLite3 does not support streaming.")}}const W6=({database:t,bootstrap:e})=>{const{dialect:r}=new M6({databasePath:`${t}.sqlite3`}),n=new Qa({dialect:r});return{kysely:n,bootstrap(){return e({kysely:n})}}},Ts=hr({slot:{base:["border","border-gray-300","rounded-md","p-4","flex","flex-col","gap-2","items-center"],input:["w-full","border","border-gray-300","rounded-md","p-2","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"]},variant:{isLoading:{true:[]},isSubmitting:{true:[]}},match:[{if:{isSubmitting:!0},then:{base:["opacity-50","pointer-events-none","select-none"]}}],defaults:{isLoading:!1,isSubmitting:!1}}),z6="icon-[material-symbols--error-outline]",U6=hr({slot:{base:["flex","flex-row","gap-1","items-center","text-red-600","p-2"]},variant:{highlight:{true:[]},compact:{true:[]}},match:[{if:{highlight:!0},then:{base:["bg-red-100","p-2","font-bold","border","border-red-200","rounded-md","w-full"]}},{if:{compact:!0},then:{base:["p-0"]}}],defaults:{highlight:!1,compact:!1}}),cs=({error:t,variant:e,tva:r=U6,css:n})=>{const s=r({...e,css:n}).slots;return t?.message?p.jsxs("div",{className:s.base(),children:[p.jsx(wr,{icon:z6}),p.jsx("span",{children:_r.rich(t.message)})]}):null},V6=hr({slot:{base:["flex","flex-col","gap-1","w-full"],input:[]},variant:{required:{true:[]},disabled:{true:[]},isSubmitting:{true:[]},isLoading:{true:[]},isError:{true:[]}},match:[{if:{isError:!0},then:{base:["text-red-600"]}},{if:{required:!0},then:{base:["text-amber-600"]}}],defaults:{required:!1,disabled:!1,isSubmitting:!1,isLoading:!1,isError:!1}}),kr=({label:t,hint:e,required:r=!1,formState:n,name:s,children:o,variant:l,tva:u=V6,css:d})=>{const m=u({isSubmitting:n.isSubmitting,isLoading:n.isLoading,isError:!!n.errors[s],required:r,...l,css:d}).slots;return p.jsxs("div",{className:m.base(),children:[p.jsxs("div",{className:"flex flex-row justify-between",children:[t?p.jsx("label",{htmlFor:s,children:t}):null,p.jsx(cs,{variant:{compact:!0},error:n.errors[s]})]}),e?p.jsx("div",{className:"text-sm italic",children:e}):null,p.jsx("div",{className:m.input(),children:o})]})},Po=({form:t,mutation:e,onSuccess:r})=>{const n=t.handleSubmit(async s=>e.mutateAsync(s,{onSuccess:r,onError:o=>{d0({error:o,errors:[o0({error:o,schema:c0,onError:({data:l})=>{t.setError("root",{message:l.message})}})],onError:l=>{t.setError("root",{message:l.message})}})}}).catch(()=>{}));return s=>{s.stopPropagation(),n(s)}};function H6(t,e,r,n={leading:!1}){const[s,o]=K.useState(t),[l,u]=K.useState(t),d=K.useRef(null),m=K.useRef(!0),y=()=>window.clearTimeout(d.current||void 0);K.useEffect(()=>y,[]),K.useEffect(()=>{e(s)},[s]),K.useEffect(()=>{u(t),o(t)},[t]);const w=K.useCallback(E=>{u(E),y(),m.current&&n.leading?o(E):d.current=window.setTimeout(()=>{m.current=!0,o(E)},r),m.current=!1},[n.leading]);return[l,w]}const Q6=hr({slot:{base:["relative","w-full"],search:["absolute","inset-y-0","left-2","flex","items-center","pointer-events-none","text-slate-500"],input:["pl-8","py-1","w-full","bg-slate-50","text-slate-900","text-sm","border","border-slate-300","rounded","focus:border-sky-400","focus:outline-none","block"],clear:["absolute","inset-y-0","right-2","flex","items-center","cursor-pointer","text-slate-300","hover:text-slate-500"]},variant:{},defaults:{}}),K6=({value:t="",onFulltext:e,textPlaceholder:r,variant:n,tva:s=Q6,css:o})=>{const l=s({...n,css:o}).slots,[u,d]=H6(t,m=>{e(m||"")},500);return p.jsxs("div",{className:l.base(),children:[p.jsx("div",{className:l.search(),children:p.jsx(wr,{icon:"icon-[material-symbols-light--search]",variant:{size:"xl"}})}),p.jsx("input",{value:u||"",className:l.input(),type:"text",placeholder:r||_r.text("Fulltext (placeholder)"),onChange:m=>{d(m.target.value)}}),t&&p.jsx("div",{className:l.clear(),onClick:()=>{e("")},children:p.jsx(wr,{icon:"icon-[gridicons--cross]",variant:{size:"md"}})})]})},Qf="icon-[pajamas--go-back]",wg="icon-[line-md--confirm-circle]",S3="icon-[mage--edit]",G6="icon-[arcticons--nothing-x]",J6="icon-[tabler--filter-plus]",Bk="icon-[tabler--filter-minus]",vh="icon-[ph--list-dashes-thin]",Q0="icon-[material-symbols-light--logout-sharp]",Z6="icon-[fluent--shape-intersect-20-regular]",ly="icon-[fluent--checkbox-unchecked-20-regular]",uy="icon-[fluent--checkbox-checked-20-regular]",Y6="icon-[ph--gear-thin]",xg="icon-[teenyicons--tag-outline]",Os="icon-[ph--trash]",K0="icon-[ph--user]",X6=async({queryClient:t,keys:e})=>Promise.all(e.map(r=>t.refetchQueries({queryKey:r}))).catch(r=>{console.error(r)}),ez=hr({slot:{base:[],header:["flex","flex-row","items-center","bg-slate-50","shadow-sm","border-b","border-b-slate-200","w-full","gap-4","p-4"],content:["min-h-screen","border-b","border-b-slate-200","mb-4","p-2"]},variant:{},defaults:{}}),tz=()=>p.jsx("div",{className:"text-center text-xs text-gray-500 mb-8",children:void 0}),N3=({logo:t,menu:e,actions:r,variant:n,tva:s=ez,css:o,children:l})=>{const u=s({...n,css:o}).slots;return p.jsxs("div",{className:u.base(),children:[p.jsx(nj,{position:"top-center"}),p.jsxs("div",{className:u.header(),children:[p.jsx("div",{children:t}),p.jsx("div",{className:"flex-grow",children:e}),p.jsx("div",{className:"flex flex-row gap-2 items-center",children:r})]}),p.jsx("div",{className:u.content(),children:l??p.jsx(Ro,{})}),p.jsx(tz,{})]})},rz=hr({slot:{base:["flex","flex-row","gap-2","items-center","justify-between","text-blue-500","rounded","px-1","py-0.5","hover:text-blue-700","focus:outline-none","w-fit"]},variant:{},defaults:{}}),nz=K.forwardRef(({icon:t,iconProps:e,variant:r,tva:n=rz,css:s,children:o,...l},u)=>{const d=n({...r,css:s}).slots;return p.jsxs("a",{...l,ref:u,className:d.base(),children:[t&&p.jsx(wr,{icon:t,...e}),o]})}),iz=GI(nz),sn=t=>p.jsx(iz,{preload:"intent",...t}),sz=hr({slot:{base:["fixed","inset-0","h-full","items-center","justify-center","bg-slate-100","flex","transition-all","duration-200","z-[10]","pointer-events-none","bg-opacity-0","backdrop-blur-none"]},variant:{show:{true:["bg-opacity-50","backdrop-blur-sm","pointer-events-auto"]}},defaults:{show:!0}}),oz=({show:t=!0,variant:e,tva:r=sz,css:n})=>{const s=r({show:t,...e,css:n}).slots;return t?p.jsx("div",{className:s.base(),children:p.jsx(wr,{icon:"icon-[svg-spinners--pulse-rings-multiple]",variant:{size:"8xl"},css:{base:["text-sky-400"]}})}):null};var xm={exports:{}},az=xm.exports,$k;function lz(){return $k||($k=1,function(t,e){(function(r,n){t.exports=n()})(az,()=>(()=>{var r={d:(q,C)=>{for(var A in C)r.o(C,A)&&!r.o(q,A)&&Object.defineProperty(q,A,{enumerable:!0,get:C[A]})},o:(q,C)=>Object.prototype.hasOwnProperty.call(q,C)},n={};r.d(n,{default:()=>k});const s=(...q)=>{},o=q=>q!==null&&q?.constructor.name==="Object";let l,u;const d=()=>{if(!l){l=!0;try{u=w.storage||localStorage,u.getItem("")}catch{u=(()=>{const q={getItem:A=>C[A]||null,setItem:(A,D)=>{C[A]=D},removeItem:A=>{C[A]=void 0},clear:()=>{C={__proto__:q}}};let C={__proto__:q};return C})()}E()}},m="\0",y=(q,C,A=!0)=>A?[...JSON.stringify(q)].map(D=>String.fromCharCode(D.charCodeAt(0)+C)).join(""):JSON.parse([...q].map(D=>String.fromCharCode(D.charCodeAt(0)-C)).join("")),w={ttl:null,encrypt:!1,encrypter:y,decrypter:(q,C)=>y(q,C,!1),secret:75,storage:void 0};Object.seal(w);const E=(q=!1)=>{d();for(const C of Object.keys(u)){const A=u.getItem(C);let D;try{D=JSON.parse(A||"")}catch{continue}o(D)&&m in D&&(Date.now()>D.ttl||q)&&u.removeItem(C)}},k={config:w,set:(q,C,A={})=>{d();const D={...w,...A,encrypt:A.encrypt!==!1&&(A.encrypt||w.encrypt),ttl:A.ttl===null?null:A.ttl||w.ttl};try{const F=D.ttl&&!isNaN(D.ttl)&&D.ttl>0;let $=F?{[m]:C,ttl:Date.now()+1e3*D.ttl}:C;D.encrypt&&(F?$[m]=(D.encrypter||s)($[m],D.secret):$=(D.encrypter||s)($,D.secret)),u.setItem(q,JSON.stringify($))}catch{return!1}},get:(q,C={})=>{d();const A=u.getItem(q),D={...w,...C,encrypt:C.encrypt!==!1&&(C.encrypt||w.encrypt),ttl:C.ttl===null?null:C.ttl||w.ttl};let F,$;try{F=JSON.parse(A||""),$=o(F)&&m in F,(D.decrypt||D.encrypt)&&($?F[m]=(D.decrypter||s)(F[m],D.secret):F=(D.decrypter||s)(F,D.secret))}catch{}return $?Date.now()>F.ttl?(u.removeItem(q),null):F[m]:F!==void 0?F:A},flush:E,clear:()=>{d(),u.clear()},remove:q=>{d(),u.removeItem(q)}};return n.default})())}(xm)),xm.exports}var uz=lz();const cz=Ac(uz),bh=cz,dz=hr({slot:{base:["flex","flex-row","gap-2","items-center"]},variant:{},defaults:{}}),cu=({variant:t,tva:e=dz,css:r,children:n})=>{const s=e({...t,css:r}).slots;return p.jsx("div",{className:s.base(),children:n})},fz=hr({slot:{base:["group","relative","cursor-pointer"],label:["flex","flex-row","gap-2","items-center","rounded","px-2","py-1","border","border-b-2","border-transparent","hover:text-slate-500"],items:["flex flex-col w-max gap-2","invisible absolute","group-hover:visible","shadow-md","z-20","bg-white","px-4","py-2"]},variant:{active:{true:[]}},match:[{if:{active:!0},then:{label:["border","border-b-2","border-blue-400","bg-blue-50","hover:border-blue-500","text-slate-800","hover:text-blue-800"]}}],defaults:{active:!1}}),Wk=({icon:t,label:e,active:r=[],variant:n,tva:s=fz,css:o,children:l})=>{const u=JI(),d=r.some(y=>!!u(y)),m=s({active:d,...n,css:o}).slots;return p.jsxs("div",{className:m.base(),children:[p.jsxs("div",{className:m.label(),children:[t?p.jsx(wr,{icon:t}):null,e]}),p.jsx("div",{className:m.items(),children:l})]})},hz=hr({slot:{base:["flex","flex-row","gap-2","items-center","rounded","px-2","py-1","border","border-b-2","border-transparent","hover:text-slate-500"]},variant:{active:{true:[]},inner:{true:[]},subtle:{true:[]}},match:[{if:{active:!0,inner:!1},then:{base:["border","border-b-2","border-blue-400","bg-blue-50","hover:border-blue-500","text-slate-800","hover:text-blue-800"]}},{if:{active:!0,inner:!0},then:{base:["border-none","text-blue-600","hover:text-blue-800"]}},{if:{subtle:!0},then:{base:["hover:bg-slate-50","hover:border-slate-300","hover:text-slate-600"]}},{if:{active:!0,subtle:!0},then:{base:["bg-slate-100","border-slate-400"]}}],defaults:{active:!1,inner:!1,subtle:!1}}),pz=K.forwardRef(({icon:t=null,variant:e,tva:r=hz,css:n,children:s,...o},l)=>{const u=r({...e,css:n}).slots;return p.jsxs("a",{...o,className:u.base(),ref:l,children:[ih(t)?p.jsx(wr,{icon:t}):t,s]})}),mz=GI(pz),Mr=({active:t=[],variant:e,...r})=>{const n=JI(),s=t.some(o=>!!n(o));return p.jsx(mz,{preload:"intent",variant:{active:!!n({to:r.to,params:r.params})||s,...e},...r})},gz=hr({slot:{base:["flex","flex-row","items-center","gap-2","text-sm","font-semibold"],item:["border","border-blue-200","bg-blue-50","rounded-md","px-2","py-1"]},variant:{},defaults:{}}),yz=({textTitle:t,textEmpty:e,items:r,render:n,limit:s,variant:o,tva:l=gz,css:u})=>{const d=s?r.slice(0,s):r,m=l({...o,css:u}).slots;return p.jsxs("div",{className:m.base(),children:[r.length?null:e,d.map(y=>p.jsx(n,{entity:y},`items-${y.id}`)),s&&r.length>s&&p.jsx(ey,{title:t,target:p.jsx(I0,{iconEnabled:CT}),outside:!0,children:p.jsx("div",{className:"flex flex-col gap-2",children:r.map(y=>p.jsx(n,{entity:y},`items-${y.id}`))})})]})},vz=hr({slot:{base:[]},variant:{},defaults:{}}),z=({label:t,fallback:e,variant:r,tva:n=vz,css:s})=>{const o=n({...r,css:s}).slots;return p.jsx("div",{className:o.base(),children:_r.rich(t,e)})},E3=hr({slot:{base:["flex","flex-col","gap-2"],input:["py-2","px-2","flex","flex-row","gap-2","items-center","cursor-pointer","hover:bg-slate-50","border","border-gray-300","rounded-md","text-slate-400","hover:text-slate-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],content:[],footer:["flex","items-center","justify-between","gap-2","border-t-2","border-slate-100","mt-4","pt-2"]},variant:{loading:{true:[]},selected:{true:[]}},match:[{if:{loading:!0},then:{input:["text-slate-300"]}},{if:{selected:!0},then:{input:["bg-slate-50","text-slate-700","hover:bg-slate-100","hover:text-slate-800"]}}],defaults:{loading:!1,selected:!1}}),bz=hr({use:E3,slot:{},variant:{},defaults:{}}),_z=({icon:t,titleText:e,modalProps:r,table:n,render:s,allowEmpty:o=!1,source:l,useListQuery:u,value:d,onChange:m,variant:y,tva:w=bz,css:E})=>{const k=w({...y,css:E}).slots,[q,C]=K.useState(0),[A,D]=K.useState(15),[F,$]=K.useState(d||[]),[H,G]=K.useState(void 0),B=u({source:l,filter:{fulltext:H},cursor:{page:q,size:A}}),Z=u({source:l,where:{idIn:d},options:{enabled:!!d}});return p.jsx(ey,{icon:t,target:p.jsxs("label",{className:k.input({loading:Z.isLoading,selected:!!Z.data?.data.length}),children:[p.jsx(wr,{icon:Z.data?.data?.length?uy:ly}),Z.data&&Z.data.data.length?p.jsx(s,{entities:Z.data.data}):p.jsx(z,{label:"Select item (label)"})]}),title:e,variant:{loading:B.isLoading},disabled:B.isLoading,...r,children:p.jsxs("div",{className:k.base(),children:[p.jsx("div",{className:k.content(),children:p.jsx(n,{cursor:{cursor:{page:q,size:A},count:B.data?.count?B.data.count:{filter:-1,total:-1,where:-1},textTotal:p.jsx(z,{label:"Total count of items (label)"}),onPage(ie){C(ie)},onSize(ie){D(ie),C(0)}},fulltext:{value:H,set(ie){G(ie)}},table:{data:B.data?.data??[],selection:{type:"multi",value:F,set(ie){$(ie)}}}})}),p.jsx(Vi.Consumer,{children:ie=>p.jsxs("div",{className:k.footer(),children:[p.jsx(bn,{iconEnabled:Qf,iconDisabled:Qf,onClick:()=>{ie?.close()},variant:{variant:"subtle"},children:p.jsx(z,{label:"Close (label)"})}),p.jsx(bn,{iconEnabled:wg,iconDisabled:wg,disabled:!F.length&&!o,onClick:()=>{m(F),ie?.close()},children:p.jsx(z,{label:"Confirm selection (label)"})})]})})]})})},k3=({icon:t,titleText:e,modalProps:r,table:n,render:s,allowEmpty:o=!1,source:l,useListQuery:u,value:d,onChange:m,variant:y,tva:w=E3,css:E})=>{const k=w({...y,css:E}).slots,[q,C]=K.useState(0),[A,D]=K.useState(10),[F,$]=K.useState(d?[d]:[]),[H,G]=K.useState(void 0),B=u({source:l,where:{fulltext:H},cursor:{page:q,size:A}}),Z=u({source:l,where:{id:d},options:{enabled:!!d}});return p.jsx(ey,{icon:t,target:p.jsxs("label",{className:k.input({loading:Z.isLoading,selected:!!Z.data?.data?.length}),children:[p.jsx(wr,{icon:Z.data?.data?.[0]?uy:ly}),Z.data?.data?.[0]?p.jsx(s,{entity:Z.data?.data?.[0]}):p.jsx(z,{label:"Select item (label)"})]}),title:e,variant:{loading:B.isLoading},disabled:B.isLoading,...r,children:p.jsxs("div",{className:k.base(),children:[p.jsx("div",{className:k.content(),children:p.jsx(n,{cursor:{cursor:{page:q,size:A},count:B.data?.count?B.data.count:{filter:-1,total:-1,where:-1},textTotal:p.jsx(z,{label:"Total count of items (label)"}),onPage(ie){C(ie)},onSize(ie){D(ie)}},fulltext:{value:H,set(ie){G(ie)}},table:{data:B.data?.data??[],selection:{type:"single",value:F,set(ie){$(ie)}}}})}),p.jsx(Vi.Consumer,{children:ie=>p.jsxs("div",{className:k.footer(),children:[p.jsx(bn,{iconEnabled:Qf,iconDisabled:Qf,onClick:()=>{ie?.close()},variant:{variant:"subtle"},children:p.jsx(z,{label:"Close (label)"})}),p.jsx(bn,{iconEnabled:wg,iconDisabled:wg,disabled:!F.length&&!o,onClick:()=>{m(F?.[0]),ie?.close()},children:p.jsx(z,{label:"Confirm selection (label)"})})]})})]})})},wz=hr({slot:{base:["bg-blue-50","p-2","rounded-md","border","border-blue-200"],container:["grid","grid-cols-2","grid-rows-2","gap-1"],title:["col-span-1","row-span-1","border-b","border-b-slate-300","pb-2"],links:["col-span-1","row-span-1","border-b","border-b-slate-300","pb-2","flex","flex-row","items-center","gap-4","justify-end"],actions:["col-span-1","row-span-1","flex","flex-row","items-center","gap-4"],extra:["col-span-1","row-span-1","flex","flex-row","gap-4","justify-end"]},variant:{},defaults:{}}),_h=({entity:t,title:e=()=>null,links:r=()=>null,actions:n=()=>null,extra:s=()=>null,variant:o,tva:l=wz,css:u})=>{const d=l({...o,css:u}).slots;return p.jsx(q0.Provider,{value:{inline:!0},children:p.jsx("div",{className:d.base(),children:p.jsxs("div",{className:d.container(),children:[p.jsx("div",{className:d.title(),children:p.jsx(e,{entity:t})}),p.jsx("div",{className:d.links(),children:p.jsx(r,{entity:t})}),p.jsx("div",{className:d.actions(),children:p.jsx(n,{entity:t})}),p.jsx("div",{className:d.extra(),children:p.jsx(s,{entity:t})})]})})})},xz=t=>e=>{t({search:({cursor:r,...n})=>({...n,cursor:{...r,page:e}})})},Sz=t=>e=>{t({search:({cursor:r,...n})=>({...n,cursor:{...r,size:e,page:0}})})},_n=t=>({onPage:xz(t),onSize:Sz(t)}),wn=t=>e=>t({search:({cursor:r,...n})=>({...n,filter:e,cursor:{...r,page:0}})}),xn=t=>e=>{t({search:({cursor:r,filter:n,...s})=>({...s,filter:{...n,fulltext:e},cursor:{...r,page:e?0:r.page}}),replace:!!e})},ci=t=>e=>{t({search(r){return{...r,selection:e}}})},Nz=hr({slot:{base:["flex","flex-col","gap-4"],content:["text-bold","text-red-500","font-bold"],footer:["flex","flex-row","items-center","justify-between","gap-4"]},variant:{},defaults:{}}),Ez=({source:t,wrap:e=s=>s(),onSuccess:r,options:n})=>{const s=dl(),o=Ui();return Oo({mutationKey:["useRemoveMutation",t.name],async mutationFn({where:l,filter:u}){return e(async()=>t.db.transaction().execute(async d=>{const m=await t.delete$({tx:d,where:l,filter:u});return await r?.({queryClient:s,router:o,entity:m}),m}))},...n})},io=({source:t,textContent:e,filter:r,onCancel:n,invalidator:s,variant:o,tva:l=Nz,css:u})=>{const d=l({...o,css:u}).slots,m=K.useContext(Vi),y=Ez({source:t,async wrap(w){return ij.promise(w(),{loading:p.jsx(z,{label:"Deleting... (label)"}),success:p.jsx(z,{label:"Items deleted (label)"}),error:p.jsx(z,{label:"Items cannot be removed (label)"})})},options:{async onSuccess(){await s?.(),m?.close()}}});return p.jsxs("div",{className:d.base(),children:[p.jsx("div",{className:d.content(),children:e}),p.jsxs("div",{className:d.footer(),children:[p.jsx(bn,{variant:{variant:"subtle",size:"sm"},iconEnabled:Qf,onClick:()=>{m?.close(),n?.()},children:p.jsx(z,{label:"Cancel (button)"})}),p.jsx(bn,{variant:{variant:"danger",size:"md"},iconEnabled:Os,onClick:()=>y.mutate({filter:r}),children:p.jsx(z,{label:"Delete (button)"})})]})]})},I3=({source:t,where:e,filter:r,options:n})=>Uw({queryKey:["useCountQuery",t.name,{where:e,filter:r}],async queryFn(){return t.db.transaction().execute(async s=>t.count$({tx:s,where:e,filter:r}))},...n}),jo=({source:t,wrap:e=async s=>s(),toCreate:r=async({shape:s})=>({entity:s,shape:s}),onSuccess:n})=>{const s=dl(),o=Ui();return Oo({mutationKey:["useCreateMutation",t.name],async mutationFn(l){return e(async()=>t.db.transaction().execute(async u=>{const d=await t.create$({tx:u,...await r({shape:l}),shape:l});return await n?.({queryClient:s,router:o,entity:d}),d}))}})},fn=async({tx:t,queryClient:e,source:r,where:n,filter:s,cursor:o,sort:l})=>e.ensureQueryData({queryKey:["withListCountLoader",r.name,{where:n,filter:s,cursor:o,sort:l}],async queryFn(){return{data:await r.list$({tx:t,where:n,filter:s,cursor:o,sort:l}),count:await r.count$({tx:t,where:n,filter:s})}}}),G0=({source:t,where:e,filter:r,cursor:n,options:s})=>{const o=dl();return Uw({queryKey:["useListQuery",t.name,{where:e,filter:r,cursor:n}],async queryFn(){return t.db.transaction().execute(async l=>fn({queryClient:o,tx:l,source:t,where:e,filter:r,cursor:n}))},...s})},so=({source:t,wrap:e=async s=>s(),toPatch:r,onSuccess:n})=>{const s=dl(),o=Ui();return Oo({mutationKey:["usePatchMutation",t.name],async mutationFn(l){return e(async()=>t.db.transaction().execute(async u=>{const d=await t.patch$({tx:u,entity:l,shape:l,...await r({shape:l})});return await n?.({queryClient:s,router:o,entity:d}),d}))}})},ds=({sources:t,route:e=!0,queries:r=[]})=>{const n=dl(),s=Ui();return async()=>{await X6({queryClient:n,keys:[...t.map(({name:o})=>["withCountLoader",o]),...t.map(({name:o})=>["withFetchLoader",o]),...t.map(({name:o})=>["withListLoader",o]),...t.map(({name:o})=>["useListQuery",o]),...t.map(({name:o})=>["withListCountLoader",o]),...t.map(({name:o})=>["useCountQuery",o]),...r]}),e&&await s.invalidate()}},cy=async({tx:t,queryClient:e,source:r,where:n,filter:s})=>e.ensureQueryData({queryKey:["withFetchLoader",r.name,{where:n,filter:s}],async queryFn(){return r.fetchOrThrow$({tx:t,where:n,filter:s})}}),Sn=t=>{const e="input"in t?t.input:"input",r="output"in t?t.output:"output",n="schema"in t?t.schema._input:t._input,s="schema"in t?t.schema._output:t._output;return{types:{input:e==="output"?s:n,output:r==="input"?n:s},parse:o=>"schema"in t?t.schema.parse(o):t.parse(o)}},Jp=(t,e)=>se.custom().pipe(t.catch(e)),Nn=({filter:t,sort:e})=>se.object({filter:Jp(t.optional(),void 0),cursor:Jp(cB,{page:0,size:15}).default({page:0,size:15}),sort:Jp(e.optional(),void 0),selection:Jp(se.array(se.string()),[]).default([])}),kz=hr({slot:{base:["w-full","flex","flex-col","items-center","justify-center"],title:["text-xl","text-bold"],message:["text-base","text-slate-500"],body:["pt-2"]},variant:{},defaults:{}}),q3=({textTitle:t,textMessage:e,icon:r,iconProps:n,variant:s,tva:o=kz,css:l,children:u})=>{const d=o({...s,css:l}).slots;return p.jsxs("div",{className:d.base(),children:[r?p.jsx(wr,{icon:r,variant:{size:"6xl"},css:{base:["text-slate-500","opacity-50"]},...n}):null,p.jsx("div",{className:d.title(),children:t}),p.jsx("div",{className:d.message(),children:e}),p.jsx("div",{className:d.body(),children:u})]})},J0=hr({slot:{base:["min-w-full","flex","flex-col","gap-2","text-sm"],table:["min-w-full","w-max","table-fixed"],thead:["border","border-slate-200","bg-slate-100"],th:["text-left","px-2","py-1","border-t","border-b","border-slate-300"],tbody:[],tr:["border-b","border-b-slate-200","odd:bg-slate-50","hover:bg-purple-100","hover:border-purple-300"],td:["px-2","py-1"],tfoot:[],select:["cursor-pointer","text-slate-400","hover:text-slate-600"]},variant:{selected:{true:[]}},match:[{if:{selected:!0},then:{tr:["bg-blue-100","odd:bg-blue-50","border-blue-300"],select:["text-slate-600"]}}],defaults:{selected:!1}}),Iz=({table:t,cell:{column:e,data:r,value:n},variant:s,tva:o=J0,css:l})=>{const u=e.def.render,d=o({...s,css:l}).slots;return p.jsx("td",{className:d.td(),children:p.jsxs("div",{className:"group flex flex-row items-center gap-2 justify-between",children:[p.jsx(u,{table:t,data:r,value:n,context:t.context}),e.filter&&!e.filter.is()?p.jsx(wr,{icon:J6,css:{base:["group-hover:visible","invisible","opacity-50 hover:opacity-100","cursor-pointer"]},variant:{size:"xl"},onClick:()=>{e.filter&&(e.def.filter?.onFilter({data:r,filter:e.filter}),window.scrollTo({top:0,behavior:"smooth"}))}}):null]})})},qz=({table:t,row:e,action:r,variant:n,tva:s=J0,css:o})=>{const l=s({...n,css:o}).slots,u=r?.table,d=r?.row;return p.jsxs("tr",{className:l.tr({selected:t.selection.isSelected(e)}),children:[u||d||t.selection.enabled?p.jsx("td",{className:"w-0",children:p.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.selection.enabled?p.jsx(wr,{icon:t.selection.isSelected(e)?uy:ly,css:{base:l.select({selected:t.selection.isSelected(e)})},onClick:t.selection.withRowHandler(e)}):null,d?p.jsx(d,{table:t,data:e.data}):null]})}):null,e.cells.map(m=>p.jsx(Iz,{table:t,cell:m,variant:n,tva:s,css:o},`${e.id}-${m.column.id}`)),p.jsx("td",{})]})},Zn=({table:t,fulltext:e,cursor:r,empty:n=()=>p.jsx(q3,{icon:G6,textTitle:p.jsx(z,{label:"Nothing here"}),textMessage:p.jsx(z,{label:"There is nothing to see right now."})}),action:s,variant:o,tva:l=J0,css:u})=>{const d=l({...o,css:u}).slots,m=s?.table,y=s?.row;return p.jsxs("div",{className:d.base(),children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("div",{className:"flex items-center gap-6 w-1/3",children:e?p.jsx(K6,{value:e.value,onFulltext:e.set}):null}),p.jsxs("div",{className:"flex flex-row items-center justify-center gap-2",children:[p.jsx(ck,{...r}),t.filter.is()&&p.jsx(I0,{iconEnabled:Bk,css:{base:["text-amber-500"]},onClick:()=>t.filter.reset()})]})]}),p.jsx("div",{className:"relative overflow-x-auto",children:p.jsxs("table",{className:d.table(),children:[p.jsx("thead",{className:d.thead(),children:p.jsxs("tr",{children:[m||y||t.selection.enabled?p.jsx("th",{className:"w-0",children:p.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.selection.enabled?p.jsx(wr,{icon:t.selection.isAll()?uy:t.selection.isAny()?Z6:ly,variant:{disabled:t.selection.isSingle},css:{base:d.select({selected:t.selection.isAny()})},onClick:t.selection.withAllHandler()}):null,m?p.jsx(m,{table:t}):null]})}):null,t.visible.map(w=>{const E=w.def.header||(()=>null);return p.jsx("th",{className:d.th(),style:w.def.size?{width:`${w.def.size}rem`}:void 0,children:p.jsxs("div",{className:"flex flex-row items-center justify-between",children:[p.jsx(E,{table:t}),p.jsx("div",{className:"flex flex-row items-center gap-2",children:w.filter?.is()&&p.jsx(wr,{icon:Bk,variant:{size:"md"},css:{base:["opacity-50","hover:opacity-100","cursor-pointer"]},onClick:()=>{w.filter?.reset()}})})]})},w.id)}),p.jsx("th",{})]})}),t.isEmpty?null:p.jsx("tbody",{className:d.tbody(),children:t.rows?.map(w=>p.jsx(qz,{row:w,table:t,action:s,variant:o,tva:l,css:u},w.id))})]})}),t.isEmpty?p.jsx(n,{}):null,p.jsxs("div",{className:"flex flex-row items-center justify-end gap-2",children:[p.jsx("div",{}),p.jsx(ck,{...r})]})]})},Qn=[];for(let t=0;t<256;++t)Qn.push((t+256).toString(16).slice(1));function Cz(t,e=0){return(Qn[t[e+0]]+Qn[t[e+1]]+Qn[t[e+2]]+Qn[t[e+3]]+"-"+Qn[t[e+4]]+Qn[t[e+5]]+"-"+Qn[t[e+6]]+Qn[t[e+7]]+"-"+Qn[t[e+8]]+Qn[t[e+9]]+"-"+Qn[t[e+10]]+Qn[t[e+11]]+Qn[t[e+12]]+Qn[t[e+13]]+Qn[t[e+14]]+Qn[t[e+15]]).toLowerCase()}let T_;const Tz=new Uint8Array(16);function Oz(){if(!T_){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");T_=crypto.getRandomValues.bind(crypto)}return T_(Tz)}const Rz=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),zk={randomUUID:Rz};function Uk(t,e,r){if(zk.randomUUID&&!e&&!t)return zk.randomUUID();t=t||{};const n=t.random||(t.rng||Oz)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Cz(n)}const Yn=({columns:t,order:e=t.map(d=>d.name),hidden:r=[],visible:n=t.map(d=>d.name),data:s,filter:o,selection:l,context:u})=>{const d={...o?.value||{}},m=PE(d||{}),y=new Set(l?.value),w=t.map(k=>({id:Uk(),def:k,filter:k.filter?{is(){return k.filter?m.get(k.filter.path)!==void 0:!1},reset(){k.filter&&m.set(k.filter.path,void 0),o?.set({...d})},shallow(q,C){k.filter&&m.set(q,C),o?.set({...d})},set(q){o?.set({...q})}}:void 0})),E=w.filter(k=>n.includes(k.def.name)&&!r.includes(k.def.name)).sort((k,q)=>{const C=e.indexOf(k.def.name),A=e.indexOf(q.def.name);return(C===-1?1/0:C)-(A===-1?1/0:A)});return{columns:w,visible:E,rows:s?.map(k=>({id:Uk(),data:k,cells:E.map(q=>({column:q,data:k,value:PE(k).get(q.def.name)}))})),isEmpty:s.length===0,filter:{is(){return w.some(k=>k.filter?.is())},reset(){o?.set({})},set(k){o?.set({...k})},shallow(k,q){m.set(k,q)}},selection:{enabled:!!l&&s.length>0,selection:Array.from(y),isSingle:l?.type==="single",isMulti:l?.type==="multi",isSelected({data:k}){return y.has(k.id)||!1},isAll(){return s.every(k=>y.has(k.id))},isAny(){return s.some(k=>y.has(k.id))},withRowHandler({data:k}){return()=>{if(l?.type==="single"){const q=y.has(k.id);y.clear(),q?y.delete(k.id):y.add(k.id)}else y.has(k.id)?y.delete(k.id):y.add(k.id);l?.set(Array.from(y))}},withAllHandler(){return()=>{s.every(k=>y.has(k.id))?y.clear():s.forEach(({id:k})=>y.add(k)),l?.set(Array.from(y))}}},context:u}},Xn=()=>t=>t,C3=({tags:t=[],render:e=({tag:s})=>s.label,onClick:r,textEmpty:n})=>{const s=t.filter(Boolean).sort((o,l)=>o.sort-l.sort);return p.jsx("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:s.length?s.map(o=>p.jsx(x4,{onClick:()=>r?.(o),children:e({tag:o})},o.id)):n||p.jsx(z,{label:"No tags (label)"})})},Az=hr({slot:{base:["flex","flex-row","gap-2","items-center"],title:["flex","flex-row","gap-2","items-center","text-lg","text-slate-500"],subtitle:["flex","flex-row","gap-4","items-center","text-lg"]},variant:{withSubtitle:{true:[]}},match:[{if:{withSubtitle:!0},then:{title:["border-r","border-r-slate-300","pr-2"]}}],defaults:{withSubtitle:!1}}),wh=({icon:t,title:e,subtitle:r,variant:n,tva:s=Az,css:o})=>{const l=s({withSubtitle:!!r,...n,css:o}).slots;return p.jsxs("div",{className:l.base(),children:[p.jsxs("div",{className:l.title(),children:[t?p.jsx(wr,{icon:t}):null,e]}),r?p.jsx("div",{className:l.subtitle(),children:r}):null]})};var Zp={},Vk;function Pz(){if(Vk)return Zp;Vk=1;var t=KI();return Zp.createRoot=t.createRoot,Zp.hydrateRoot=t.hydrateRoot,Zp}var jz=Pz();const Fz=Ac(jz),Z0=VA()({component:()=>p.jsxs(p.Fragment,{children:[p.jsx(fP,{}),p.jsx(Ro,{})]})}),Lz="modulepreload",Dz=function(t){return"/"+t},Hk={},Qk=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");s=Promise.allSettled(r.map(d=>{if(d=Dz(d),d in Hk)return;Hk[d]=!0;const m=d.endsWith(".css"),y=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${y}`))return;const w=document.createElement("link");if(w.rel=m?"stylesheet":Lz,m||(w.as="script"),w.crossOrigin="",w.href=d,u&&w.setAttribute("nonce",u),document.head.appendChild(w),m)return new Promise((E,k)=>{w.addEventListener("load",E),w.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})},Mz=Zt("/$locale")({component:Ro,loader:async({params:{locale:t}})=>{try{_r.push((await Bz(`../translation/${t}.yaml`)).default)}catch(e){console.error(e)}}});function Bz(t){switch(t){case"../translation/cs":case"../translation/cs.yaml":return Qk(()=>import("./cs-C-g8CaRR.js"),[]);case"../translation/en":case"../translation/en.yaml":return Qk(()=>import("./en-CY7GJahR.js"),[]);default:return new Promise(function(e,r){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(r.bind(null,new Error("Unknown variable dynamic import: "+t)))})}}const T3="cs",$z=[T3,"en"],Wz=Zt("/")({loader:async()=>{throw qg({to:"/$locale",params:{locale:GD({available:$z,fallback:T3})}})}}),zz=Zt("/$locale/")({component:()=>{const{locale:t}=Br({from:"/$locale"});return p.jsx("div",{className:"flex flex-col items-center justify-center h-screen w-screen",children:p.jsxs("div",{className:"rounded bg-slate-50 p-4 shadow-md border border-slate-300",children:[p.jsx("h1",{className:"text-3xl text-center",children:"Apps"}),p.jsx("ul",{children:p.jsx("li",{children:p.jsx(sn,{icon:"icon-[bx--game]",to:"/$locale/apps/derivean/public/login",params:{locale:t},children:"DeRivean"})})})]})})}}),{kysely:Gr,bootstrap:Uz}=W6({database:"derivean",async bootstrap({kysely:t}){const e="varchar(36)",r=async()=>{await t.schema.createTable("User").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("name","varchar(64)",l=>l.notNull()).addColumn("login","varchar(128)",l=>l.notNull().unique()).addColumn("password","varchar(256)",l=>l.notNull()).execute(),await t.schema.createTable("Tag").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("code","varchar(64)",l=>l.notNull()).addColumn("label","varchar(128)",l=>l.notNull()).addColumn("group","varchar(64)").addColumn("sort","integer",l=>l.notNull().defaultTo(0)).addUniqueConstraint("Tag_code_group",["code","group"]).execute(),await t.schema.createTable("Cycle").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("userId",e,l=>l.references("User.id").onDelete("cascade").notNull()).addColumn("stamp","datetime",l=>l.defaultTo(U0`CURRENT_TIMESTAMP`).notNull()).execute()},n=async()=>{await t.schema.createTable("Resource").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("name","varchar(64)",l=>l.notNull().unique()).execute(),await t.schema.createTable("Resource_Tag").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("resourceId",e,l=>l.references("Resource.id").onDelete("cascade").notNull()).addColumn("tagId",e,l=>l.references("Tag.id").onDelete("cascade").notNull()).addUniqueConstraint("Resource_Tag_resourceId_tagId",["resourceId","tagId"]).execute(),await t.schema.createTable("Inventory").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("userId",e,l=>l.references("User.id").onDelete("cascade").notNull()).addColumn("resourceId",e,l=>l.references("Resource.id").onDelete("cascade").notNull()).addColumn("amount","float8",l=>l.notNull()).addUniqueConstraint("Inventory_userId_resourceId",["userId","resourceId"]).execute()},s=async()=>{await t.schema.createTable("BaseBuilding").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("name","varchar(64)",l=>l.notNull().unique()).addColumn("cycles","int2",l=>l.notNull()).execute(),await t.schema.createTable("BaseBuilding_Requirement").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("baseBuildingId",e,l=>l.references("BaseBuilding.id").onDelete("cascade").notNull()).addColumn("resourceId",e,l=>l.references("Resource.id").onDelete("cascade").notNull()).addColumn("amount","float8",l=>l.notNull()).addColumn("passive","boolean",l=>l.notNull()).addUniqueConstraint("BaseBuilding_Requirement_baseBuildingId_resourceId",["baseBuildingId","resourceId"]).execute(),await t.schema.createTable("BaseBuilding_Limit").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("baseBuildingId",e,l=>l.references("BaseBuilding.id").onDelete("cascade").notNull()).addColumn("resourceId",e,l=>l.references("Resource.id").onDelete("cascade").notNull()).addColumn("limit","float8",l=>l.notNull()).addUniqueConstraint("BaseBuilding_Limit_baseBuildingId_resourceId",["baseBuildingId","resourceId"]).execute(),await t.schema.createTable("BaseBuildingProduction").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("baseBuildingId",e,l=>l.references("BaseBuilding.id").onDelete("cascade").notNull()).addColumn("resourceId",e,l=>l.references("User.id").onDelete("cascade").notNull()).addColumn("amount","float8",l=>l.notNull()).addColumn("cycles","float8",l=>l.notNull()).addColumn("limit","float8",l=>l.notNull()).execute(),await t.schema.createTable("BaseBuildingProductionRequirement").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("baseBuildingProductionId",e,l=>l.references("BaseBuildingProduction.id").onDelete("cascade").notNull()).addColumn("resourceId",e,l=>l.references("Resource.id").onDelete("cascade").notNull()).addColumn("amount","float8",l=>l.notNull()).addColumn("passive","boolean",l=>l.notNull()).execute()},o=async()=>{await t.schema.createTable("Building").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("userId",e,l=>l.references("User.id").onDelete("cascade").notNull()).addColumn("baseBuildingId",e,l=>l.references("BaseBuilding.id").onDelete("cascade").notNull()).execute(),await t.schema.createTable("Building_Resource").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("buildingId",e,l=>l.references("Building.id").onDelete("cascade").notNull()).addColumn("resourceId",e,l=>l.references("Resource.id").onDelete("cascade").notNull()).addColumn("amount","float8",l=>l.notNull()).addUniqueConstraint("Building_Storage_buildingId_resourceId",["buildingId","resourceId"]).execute(),await t.schema.createTable("BuildingQueue").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("userId",e,l=>l.references("User.id").onDelete("cascade").notNull()).addColumn("baseBuildingId",e,l=>l.references("BaseBuilding.id").onDelete("cascade").notNull()).addColumn("start","float8",l=>l.notNull()).addColumn("current","float8",l=>l.notNull()).addColumn("finish","float8",l=>l.notNull()).execute(),await t.schema.createTable("BuildingProductionQueue").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("buildingId",e,l=>l.references("Building.id").onDelete("cascade").notNull()).addColumn("resourceId",e,l=>l.references("Resource.id").onDelete("cascade").notNull()).addColumn("baseBuildingProductionId",e,l=>l.references("BaseBuildingProduction.id").onDelete("cascade").notNull()).addColumn("amount","float8",l=>l.notNull()).addColumn("start","float8",l=>l.notNull()).addColumn("current","float8",l=>l.notNull()).addColumn("finish","float8",l=>l.notNull()).execute()};await r(),await n(),await s(),await o()}}),Vz=Zt("/$locale/apps/derivean")({loader:Uz}),O3="icon-[proicons--game]",Hz=hr({slot:{base:["text-orange-500","font-bold","text-2xl","shadow-md","hover:shadow-lg","hover:text-orange-600","rounded","px-2","py-1","bg-slate-100"]},variant:{},defaults:{}}),R3=({variant:t,tva:e=Hz,css:r})=>{const n=e({...t,css:r}).slots;return p.jsx("div",{className:n.base(),children:"DeRivean"})},to="icon-[material-symbols-light--construction-rounded]",ro="icon-[fluent--building-shop-20-regular]",Or="icon-[hugeicons--resources-add]",Qz=t=>{const{locale:e}=Br({from:"/$locale"});return p.jsxs(cu,{...t,children:[p.jsx(Mr,{icon:K0,to:"/$locale/apps/derivean/root/user/list",params:{locale:e},active:[{to:"/$locale/apps/derivean/root/user/$id/view"},{to:"/$locale/apps/derivean/root/user/$id/building/list"}],children:p.jsx(z,{label:"User list (menu)"})}),p.jsxs(Wk,{icon:ro,label:p.jsx(z,{label:"Buildings (menu)"}),active:[{to:"/$locale/apps/derivean/root/building/base/list"},{to:"/$locale/apps/derivean/root/building/list"},{to:"/$locale/apps/derivean/root/building/$id/view"},{to:"/$locale/apps/derivean/root/building/base/$id/view"},{to:"/$locale/apps/derivean/root/building/base/$id/requirement/list"},{to:"/$locale/apps/derivean/root/building/base/$id/limit/list"},{to:"/$locale/apps/derivean/root/building/base/$id/edit"},{to:"/$locale/apps/derivean/root/building/$id/resource/list"},{to:"/$locale/apps/derivean/root/building/base/$id/production"},{to:"/$locale/apps/derivean/root/building/base/$id/production/$productionId/requirement/list"}],children:[p.jsx(Mr,{icon:to,to:"/$locale/apps/derivean/root/building/base/list",params:{locale:e},variant:{inner:!0},children:p.jsx(z,{label:"Base building list (menu)"})}),p.jsx(Mr,{icon:ro,to:"/$locale/apps/derivean/root/building/list",params:{locale:e},variant:{inner:!0},children:p.jsx(z,{label:"Building list (menu)"})})]}),p.jsx(Mr,{icon:Or,to:"/$locale/apps/derivean/root/resource/list",params:{locale:e},children:p.jsx(z,{label:"Resource list (menu)"})}),p.jsx(Wk,{icon:Y6,label:p.jsx(z,{label:"Settings (menu)"}),children:p.jsx(Mr,{icon:xg,to:"/$locale/apps/derivean/root/tag/list",params:{locale:e},variant:{inner:!0},children:p.jsx(z,{label:"Tag list (menu)"})})})]})},dy=se.object({id:se.string(),name:se.string(),login:se.string()}),Kz=Zt("/$locale/apps/derivean/root")({async beforeLoad({context:t,params:{locale:e}}){return{...t,async session(){try{return dy.parse(bh.get("session"))}catch{throw qg({to:"/$locale/apps/derivean/public/login",params:{locale:e}})}}}},async loader({context:{session:t}}){return{session:await t()}},component:()=>{const{locale:t}=Br({from:"/$locale"}),{session:e}=fl({from:"/$locale/apps/derivean/root"});return p.jsx(N3,{logo:p.jsx(sn,{to:"/$locale/apps/derivean/root",params:{locale:t},children:p.jsx(R3,{})}),menu:p.jsx(Qz,{}),actions:p.jsxs(p.Fragment,{children:[e.name,p.jsx(sn,{icon:O3,to:"/$locale/apps/derivean/game",params:{locale:t}}),p.jsx(sn,{icon:Q0,to:"/$locale/apps/derivean/public/logout",params:{locale:t},preload:!1})]})})}}),Gz=Ii({entity:Ni.merge(se.object({userId:se.string().min(1),stamp:se.string().min(1)})),shape:se.object({}),filter:Ei.merge(se.object({userId:se.string().optional()})),sort:["stamp"]}),Hl=ki({name:"CycleSource",schema:Gz,db:Gr,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:s}){let o=t.selectFrom("Cycle as c").selectAll("c").leftJoin("User as u","u.id","c.userId");const l=d=>{const m=`%${d}%`;return o.where(y=>y.or([y("c.id","like",m),y("u.id","like",m)]))},u=d=>{d?.id&&(o=o.where("c.id","=",d.id)),d?.idIn&&(o=o.where("c.id","in",d.idIn)),d?.userId&&(o=o.where("c.userId","=",d.userId)),d?.fulltext&&(o=l(d.fulltext))};return s.includes("filter")&&u(r||{}),s.includes("where")&&u(e||{}),s.includes("cursor")&&(o=o.limit(n.size).offset(n.page*n.size)),o},create$({tx:t}){return t.insertInto("Cycle")},patch$({tx:t}){return t.updateTable("Cycle")},delete$({tx:t}){return t.deleteFrom("Cycle")},map:{async toCreate({entity:t}){return{...t,stamp:Xt.utc().toSQLTime()}}}}),fy=Ii({entity:fB,shape:se.object({code:se.string().min(1),label:se.string().min(1),group:se.string().nullish(),sort:se.union([se.number().int().nonnegative(),se.string().transform(t=>parseInt(t,10)).refine(t=>!isNaN(t),{message:_r.text("Sort must be a number")})])}),filter:Ei.merge(se.object({code:se.string().optional(),group:se.string().optional()})),sort:["sort","code","label","group"]}),Kk=Ni.merge(se.object({name:se.string().min(1)})),Fo=Ii({entity:Kk,output:Kk.merge(se.object({tagIds:se.array(se.string()),tags:se.array(fy.output)})),shape:se.object({name:se.string().min(1),tagIds:se.array(se.string()).optional()}),filter:Ei.merge(se.object({name:se.string().optional()})),sort:["name"]}),Gk=Ni.merge(se.object({baseBuildingId:se.string().min(1),resourceId:se.string().min(1),limit:se.number().positive()})),hy=Ii({entity:Gk,output:Gk.merge(se.object({resource:Fo.output})),shape:se.object({resourceId:se.string().min(1),limit:se.union([se.number().positive(),se.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:_r.text("Limit must be a number")})])}),filter:Ei.merge(se.object({resourceId:se.string().optional(),baseBuildingId:se.string().optional()})),sort:["name","resource"]}),Jk=Ni.merge(se.object({baseBuildingId:se.string().min(1),resourceId:se.string().min(1),amount:se.number().nonnegative(),passive:se.union([se.boolean(),se.number().int().refine(t=>t===0||t===1).transform(t=>typeof t=="boolean"?t:t===1)])})),py=Ii({entity:Jk,output:Jk.merge(se.object({resource:Fo.output})),shape:se.object({resourceId:se.string().min(1),amount:se.union([se.number().nonnegative(),se.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:_r.text("Amount must be a number")})]),passive:se.boolean()}),filter:Ei.merge(se.object({baseBuildingId:se.string().optional(),resourceId:se.string().optional(),passive:se.boolean().optional()})),sort:["name","resource","passive"]}),Zk=Ni.merge(se.object({name:se.string().min(1),cycles:se.number().int().positive()})),Hc=Ii({entity:Zk,output:Zk.merge(se.object({requirements:se.array(py.output),limits:se.array(hy.output)})),shape:se.object({name:se.string().min(1),cycles:se.union([se.number().int().positive(),se.string().transform(t=>parseInt(t,10)).refine(t=>!isNaN(t),{message:_r.text("Cycles must be a number")})])}),filter:Ei.merge(se.object({name:se.string().optional()})),sort:["name"]}),Jz=Ii({entity:Ni.merge(se.object({resourceId:se.string().min(1),tagId:se.string().min(1)})),shape:se.object({resourceId:se.string().min(1),tagId:se.string().min(1)}),filter:Ei.merge(se.object({resourceId:se.string().optional(),tagId:se.string().optional()})),sort:["name","sort"]}),gf=ki({name:"ResourceTagSource",schema:Jz,db:Gr,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:s}){let o=t.selectFrom("Resource_Tag as rt").selectAll("rt").leftJoin("Resource as r","r.id","rt.resourceId").leftJoin("Tag as t","t.id","rt.tagId");const l=d=>{const m=`%${d}%`;return o.where(y=>y.or([y("rt.id","like",m),y("r.id","like",m),y("t.id","like",m),y("r.name","like",m),y("t.code","like",m),y("t.label","like",m),y("t.group","like",m)]))},u=d=>{d?.id&&(o=o.where("rt.id","=",d.id)),d?.idIn&&(o=o.where("rt.id","in",d.idIn)),d?.resourceId&&(o=o.where("rt.resourceId","=",d.resourceId)),d?.tagId&&(o=o.where("rt.tagId","=",d.tagId)),d?.fulltext&&(o=l(d.fulltext))};return s.includes("filter")&&u(r||{}),s.includes("where")&&u(e||{}),s.includes("cursor")&&(o=o.limit(n.size).offset(n.page*n.size)),o},create$({tx:t}){return t.insertInto("Resource_Tag")},patch$({tx:t}){return t.updateTable("Resource_Tag")},delete$({tx:t}){return t.deleteFrom("Resource_Tag")}}),Ql=ki({name:"TagSource",schema:fy,db:Gr,select$({tx:t,where:e,filter:r,sort:n,cursor:s={page:0,size:10},use:o}){let l=t.selectFrom("Tag as t").selectAll("t");const u={code:"t.code",group:"t.group",label:"t.label",sort:"t.sort"};n?.forEach(({name:y,sort:w})=>{l=l.orderBy(u[y],w)});const d=y=>{const w=`%${y}%`;return l.where(E=>E.or([E("t.id","like",w),E("t.code","like",w),E("t.group","like",w),E("t.label","like",w)]))},m=y=>{y?.id&&(l=l.where("t.id","=",y.id)),y?.idIn&&(l=l.where("t.id","in",y.idIn)),y?.code&&(l=l.where("t.code","=",y.code)),y?.group&&(l=l.where("t.group","=",y.group)),y?.fulltext&&(l=d(y.fulltext))};return o.includes("filter")&&m(r||{}),o.includes("where")&&m(e||{}),o.includes("cursor")&&(l=l.limit(s.size).offset(s.page*s.size)),l},create$({tx:t}){return t.insertInto("Tag")},patch$({tx:t}){return t.updateTable("Tag")},delete$({tx:t}){return t.deleteFrom("Tag")}}),bi=ki({name:"ResourceSource",schema:Fo,db:Gr,select$({tx:t,where:e,filter:r,sort:n,cursor:s={page:0,size:10},use:o}){let l=t.selectFrom("Resource as r").selectAll("r");const u={name:"r.name"};n?.forEach(({name:y,sort:w})=>{l=l.orderBy(u[y],w)});const d=y=>{const w=`%${y}%`;return l.where(E=>E.or([E("r.id","like",w),E("r.name","like",w)]))},m=y=>{y?.id&&(l=l.where("r.id","=",y.id)),y?.idIn&&(l=l.where("r.id","in",y.idIn)),y?.name&&(l=l.where("r.name","=",y.name)),y?.fulltext&&(l=d(y.fulltext))};return o.includes("filter")&&m(r||{}),o.includes("where")&&m(e||{}),o.includes("cursor")&&(l=l.limit(s.size).offset(s.page*s.size)),l},create$({tx:t}){return t.insertInto("Resource")},patch$({tx:t}){return t.updateTable("Resource")},delete$({tx:t}){return t.deleteFrom("Resource")},map:{async toOutput({tx:t,entity:e}){const r=(await gf.list$({tx:t,where:{resourceId:e.id}})).map(({tagId:n})=>n);return{...e,tagIds:r,tags:await Ql.list$({tx:t,where:{idIn:r}})}}},event:{async onPostCreate({tx:t,entity:e,shape:r}){await Promise.all(r.tagIds?.forEach(async n=>gf.create$({tx:t,entity:{resourceId:e.id,tagId:n},shape:{resourceId:e.id,tagId:n}}))||[])},async onPostPatch({tx:t,entity:e,shape:r}){Array.isArray(r.tagIds)&&(await t.deleteFrom("Resource_Tag").where("resourceId","=",e.id).execute(),await Promise.all(r.tagIds.map(async n=>gf.create$({tx:t,entity:{resourceId:e.id,tagId:n},shape:{resourceId:e.id,tagId:n}}))))}}}),nc=ki({name:"BaseBuildingLimitSource",schema:hy,db:Gr,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:s}){let o=t.selectFrom("BaseBuilding_Limit as bbl").selectAll("bbl").leftJoin("BaseBuilding as bb","bb.id","bbl.baseBuildingId").leftJoin("Resource as r","r.id","bbl.resourceId");const l=d=>{const m=`%${d}%`;return o.where(y=>y.or([y("bbl.id","like",m),y("bb.id","like",m),y("r.id","like",m),y("bb.name","like",m),y("r.name","like",m)]))},u=d=>{d?.id&&(o=o.where("bbl.id","=",d.id)),d?.idIn&&(o=o.where("bbl.id","in",d.idIn)),d?.resourceId&&(o=o.where("bbl.resourceId","=",d.resourceId)),d?.baseBuildingId&&(o=o.where("bbl.baseBuildingId","=",d.baseBuildingId)),d?.fulltext&&(o=l(d.fulltext))};return s.includes("filter")&&u(r||{}),s.includes("where")&&u(e||{}),s.includes("cursor")&&(o=o.limit(n.size).offset(n.page*n.size)),o},create$({tx:t}){return t.insertInto("BaseBuilding_Limit")},patch$({tx:t}){return t.updateTable("BaseBuilding_Limit")},delete$({tx:t}){return t.deleteFrom("BaseBuilding_Limit")},map:{async toOutput({tx:t,entity:e}){return{...e,resource:await bi.getOrThrow$({tx:t,id:e.resourceId,error:"Cannot find resource for limit"})}}}}),ic=ki({name:"BaseBuildingRequirementSource",schema:py,db:Gr,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:s}){let o=t.selectFrom("BaseBuilding_Requirement as bbr").selectAll("bbr").leftJoin("BaseBuilding as bb","bb.id","bbr.baseBuildingId").leftJoin("Resource as r","r.id","bbr.resourceId");const l=d=>{const m=`%${d}%`;return o.where(y=>y.or([y("bbr.id","like",m),y("bb.id","like",m),y("r.id","like",m),y("bb.name","like",m),y("r.name","like",m)]))},u=d=>{d?.id&&(o=o.where("bbr.id","=",d.id)),d?.idIn&&(o=o.where("bbr.id","in",d.idIn)),d?.baseBuildingId&&(o=o.where("bbr.baseBuildingId","=",d.baseBuildingId)),d?.resourceId&&(o=o.where("bbr.resourceId","=",d.resourceId)),d?.fulltext&&(o=l(d.fulltext))};return s.includes("filter")&&u(r||{}),s.includes("where")&&u(e||{}),s.includes("cursor")&&(o=o.limit(n.size).offset(n.page*n.size)),o},create$({tx:t}){return t.insertInto("BaseBuilding_Requirement")},patch$({tx:t}){return t.updateTable("BaseBuilding_Requirement")},delete$({tx:t}){return t.deleteFrom("BaseBuilding_Requirement")},map:{async toOutput({tx:t,entity:e}){return{...e,resource:await bi.getOrThrow$({tx:t,id:e.resourceId,error:"Cannot find resource for building requirement."})}}}}),Wn=ki({name:"BaseBuildingSource",schema:Hc,db:Gr,select$({tx:t,where:e,filter:r,sort:n,cursor:s={page:0,size:10},use:o}){let l=t.selectFrom("BaseBuilding as bb").selectAll("bb");const u={name:"bb.name"};n?.forEach(({name:y,sort:w})=>{l=l.orderBy(u[y],w)});const d=y=>{const w=`%${y}%`;return l.where(E=>E.or([E("bb.id","like",w),E("bb.name","like",w)]))},m=y=>{y?.id&&(l=l.where("bb.id","=",y.id)),y?.idIn&&(l=l.where("bb.id","in",y.idIn)),y?.name&&(l=l.where("bb.name","=",y.name)),y?.fulltext&&(l=d(y.fulltext))};return o.includes("filter")&&m(r||{}),o.includes("where")&&m(e||{}),o.includes("cursor")&&(l=l.limit(s.size).offset(s.page*s.size)),l},create$({tx:t}){return t.insertInto("BaseBuilding")},patch$({tx:t}){return t.updateTable("BaseBuilding")},delete$({tx:t}){return t.deleteFrom("BaseBuilding")},map:{async toOutput({tx:t,entity:e}){return{...e,requirements:await ic.list$({tx:t,where:{baseBuildingId:e.id},sort:[{name:"name",sort:"asc"}]}),limits:await nc.list$({tx:t,where:{baseBuildingId:e.id},sort:[{name:"resource",sort:"asc"}]})}}}}),Yk=Ni.merge(se.object({userId:se.string().min(1),baseBuildingId:se.string().min(1)})),Qc=Ii({entity:Yk,output:Yk.merge(se.object({baseBuilding:Hc.output})),shape:se.object({baseBuildingId:se.string().min(1)}),filter:Ei.merge(se.object({userId:se.string().optional(),baseBuildingId:se.string().optional(),name:se.string().optional()})),sort:["name"]}),xi=ki({name:"BuildingSource",db:Gr,schema:Qc,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:s}){let o=t.selectFrom("Building as b").selectAll("b").leftJoin("BaseBuilding as bb","bb.id","b.baseBuildingId");const l=d=>{const m=`%${d}%`;return o.where(y=>y.or([y("b.id","like",m),y("bb.id","like",m),y("bb.name","like",m)]))},u=d=>{d?.id&&(o=o.where("b.id","=",d.id)),d?.idIn&&(o=o.where("b.id","in",d.idIn)),d?.baseBuildingId&&(o=o.where("b.baseBuildingId","=",d.baseBuildingId)),d?.name&&(o=o.where("bb.name","=",d.name)),d?.fulltext&&(o=l(d.fulltext))};return s.includes("filter")&&u(r||{}),s.includes("where")&&u(e||{}),s.includes("cursor")&&(o=o.limit(n.size).offset(n.page*n.size)),o},create$({tx:t}){return t.insertInto("Building")},patch$({tx:t}){return t.updateTable("Building")},delete$({tx:t}){return t.deleteFrom("Building")},map:{async toOutput({tx:t,entity:e}){return{...e,baseBuilding:await Wn.getOrThrow$({tx:t,id:e.baseBuildingId})}}}}),Xk=Ni.merge(se.object({baseBuildingProductionId:se.string().min(1),buildingId:se.string().min(1),resourceId:se.string().min(1),amount:se.number().nonnegative(),start:se.number().nonnegative(),current:se.number().nonnegative(),finish:se.number().nonnegative()})),Y0=Ii({entity:Xk,output:Xk.merge(se.object({building:Qc.output,resource:Fo.output})),shape:se.object({baseBuildingProductionId:se.string().min(1),buildingId:se.string().min(1),resourceId:se.string().min(1),amount:se.number().nonnegative(),start:se.number().nonnegative(),current:se.number().nonnegative(),finish:se.number().nonnegative()}),filter:Ei.merge(se.object({baseBuildingProductionId:se.string().optional(),buildingId:se.string().optional(),baseBuildingId:se.string().optional(),resourceId:se.string().optional(),userId:se.string().optional(),finishGte:se.number().optional(),finishGt:se.number().optional()})),sort:["building","resource","start","current","finish"]}),vo=ki({name:"BuildingProductionQueueSource",schema:Y0,db:Gr,select$({tx:t,where:e,filter:r,sort:n,cursor:s={page:0,size:10},use:o}){let l=t.selectFrom("BuildingProductionQueue as bpq").selectAll("bpq").leftJoin("Building as b","b.id","bpq.buildingId").leftJoin("BaseBuilding as bb","bb.id","b.baseBuildingId").leftJoin("Resource as r","r.id","bpq.resourceId");const u={resource:"r.name",building:"bb.name",start:"bpq.start",current:"bpq.current",finish:"bpq.finish"};n?.forEach(({name:y,sort:w})=>{l=l.orderBy(u[y],w)});const d=y=>{const w=`%${y}%`;return l.where(E=>E.or([E("bpq.id","like",w)]))},m=y=>{y?.id&&(l=l.where("bpq.id","=",y.id)),y?.idIn&&(l=l.where("bpq.id","in",y.idIn)),y?.userId&&(l=l.where("b.userId","=",y.userId)),y?.baseBuildingId&&(l=l.where("b.baseBuildingId","=",y.baseBuildingId)),y?.buildingId&&(l=l.where("bpq.buildingId","=",y.buildingId)),y?.baseBuildingProductionId&&(l=l.where("bpq.baseBuildingProductionId","=",y.baseBuildingProductionId)),y?.finishGte&&(l=l.where("bpq.finish","<=",y.finishGte)),y?.finishGt&&(l=l.where("bpq.finish","<",y.finishGt)),y?.fulltext&&(l=d(y.fulltext))};return o.includes("filter")&&m(r||{}),o.includes("where")&&m(e||{}),o.includes("cursor")&&(l=l.limit(s.size).offset(s.page*s.size)),l},create$({tx:t}){return t.insertInto("BuildingProductionQueue")},patch$({tx:t}){return t.updateTable("BuildingProductionQueue")},delete$({tx:t}){return t.deleteFrom("BuildingProductionQueue")},map:{async toOutput({tx:t,entity:e}){return{...e,building:await xi.getOrThrow$({tx:t,id:e.buildingId}),resource:await bi.getOrThrow$({tx:t,id:e.resourceId})}}}}),eI=Ni.merge(se.object({userId:se.string().min(1),baseBuildingId:se.string().min(1),start:se.number().nonnegative(),current:se.number().nonnegative(),finish:se.number().nonnegative()})),A3=Ii({entity:eI,output:eI.merge(se.object({baseBuilding:Hc.output})),shape:se.object({baseBuildingId:se.string().min(1),start:se.number().nonnegative(),current:se.number().nonnegative(),finish:se.number().nonnegative()}),filter:Ei.merge(se.object({userId:se.string().optional(),baseBuildingId:se.string().optional(),finishGte:se.number().optional(),finishGt:se.number().optional()})),sort:["name","start","current","finish"]}),sa=ki({name:"BuildingQueueSource",schema:A3,db:Gr,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:s}){let o=t.selectFrom("BuildingQueue as bq").selectAll("bq");const l=d=>{const m=`%${d}%`;return o.where(y=>y.or([y("bq.id","like",m)]))},u=d=>{d?.id&&(o=o.where("bq.id","=",d.id)),d?.idIn&&(o=o.where("bq.id","in",d.idIn)),d?.userId&&(o=o.where("bq.userId","=",d.userId)),d?.baseBuildingId&&(o=o.where("bq.baseBuildingId","=",d.baseBuildingId)),d?.finishGte&&(o=o.where("bq.finish","<=",d.finishGte)),d?.finishGt&&(o=o.where("bq.finish","<",d.finishGt)),d?.fulltext&&(o=l(d.fulltext))};return s.includes("filter")&&u(r||{}),s.includes("where")&&u(e||{}),s.includes("cursor")&&(o=o.limit(n.size).offset(n.page*n.size)),o},create$({tx:t}){return t.insertInto("BuildingQueue")},patch$({tx:t}){return t.updateTable("BuildingQueue")},delete$({tx:t}){return t.deleteFrom("BuildingQueue")},map:{async toOutput({tx:t,entity:e}){return{...e,baseBuilding:await Wn.getOrThrow$({tx:t,id:e.baseBuildingId,error:"Cannot find base building for building queue"})}}}}),tI=Ni.merge(se.object({buildingId:se.string().min(1),resourceId:se.string().min(1),amount:se.number().nonnegative()})),Kc=Ii({entity:tI,output:tI.merge(se.object({building:Qc.output,resource:Fo.output})),shape:se.object({resourceId:se.string().min(1),amount:se.union([se.number().nonnegative(),se.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:_r.text("Amount must be a number")})])}),filter:Ei.merge(se.object({userId:se.string().optional(),buildingId:se.string().optional(),resourceId:se.string().optional(),baseBuildingId:se.string().optional()})),sort:["name","resource"]}),_i=ki({name:"BuildingResourceSource",schema:Kc,db:Gr,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:s}){let o=t.selectFrom("Building_Resource as br").selectAll("br").leftJoin("Building as b","b.id","br.buildingId").leftJoin("BaseBuilding as bb","bb.id","b.baseBuildingId").leftJoin("Resource as r","r.id","br.resourceId");const l=d=>{const m=`%${d}%`;return o.where(y=>y.or([y("br.id","like",m),y("bb.id","like",m),y("r.id","like",m),y("bb.name","like",m),y("r.name","like",m)]))},u=d=>{d?.id&&(o=o.where("br.id","=",d.id)),d?.idIn&&(o=o.where("br.id","in",d.idIn)),d?.buildingId&&(o=o.where("br.buildingId","=",d.buildingId)),d?.baseBuildingId&&(o=o.where("b.baseBuildingId","=",d.baseBuildingId)),d?.resourceId&&(o=o.where("br.resourceId","=",d.resourceId)),d?.fulltext&&(o=l(d.fulltext))};return s.includes("filter")&&u(r||{}),s.includes("where")&&u(e||{}),s.includes("cursor")&&(o=o.limit(n.size).offset(n.page*n.size)),o},create$({tx:t}){return t.insertInto("Building_Resource")},patch$({tx:t}){return t.updateTable("Building_Resource")},delete$({tx:t}){return t.deleteFrom("Building_Resource")},map:{async toOutput({tx:t,entity:e}){return{...e,building:await xi.getOrThrow$({tx:t,id:e.buildingId}),resource:await bi.getOrThrow$({tx:t,id:e.resourceId})}}}}),Zz=({userId:t})=>{const e=ds({sources:[Hl,sa,xi,vo,_i]});return Oo({mutationKey:["useCycleMutation"],async mutationFn(){return Hl.db.transaction().execute(async r=>{await Hl.create$({tx:r,shape:{},entity:{userId:t}});const{filter:n}=await Hl.count$({tx:r,where:{userId:t}}),s=async()=>{const l=await sa.list$({tx:r,cursor:{page:0,size:500},where:{userId:t}});for await(const d of l)await sa.patch$({tx:r,entity:{current:d.current+1},shape:{current:d.current+1},where:{id:d.id}});const u=await sa.list$({tx:r,cursor:{page:0,size:500},where:{userId:t,finishGt:n}});for await(const d of u)await xi.create$({tx:r,shape:{baseBuildingId:d.baseBuildingId},entity:{baseBuildingId:d.baseBuildingId,userId:t}}),await sa.delete$({tx:r,where:{id:d.id}})},o=async()=>{const l=await vo.list$({tx:r,cursor:{page:0,size:500},where:{userId:t}});for await(const d of l)await vo.patch$({tx:r,entity:{current:d.current+1},shape:{current:d.current+1},where:{id:d.id}});const u=await vo.list$({tx:r,cursor:{page:0,size:500},where:{userId:t,finishGt:n}});for await(const d of u){const m=d.building.baseBuilding.limits.find(w=>w.resourceId===d.resourceId)?.limit||void 0;let y=!1;try{(!m||d.amount<=m)&&(await _i.create$({tx:r,shape:{resourceId:d.resourceId,amount:d.amount},entity:{buildingId:d.buildingId,resourceId:d.resourceId,amount:d.amount}}),y=!0)}catch{const E=await _i.fetchOrThrow$({tx:r,where:{buildingId:d.buildingId,resourceId:d.resourceId}});(!m||E.amount+d.amount<=m)&&(await _i.patch$({tx:r,entity:{amount:E.amount+d.amount},shape:{amount:E.amount+d.amount},where:{buildingId:d.buildingId,resourceId:d.resourceId}}),y=!0)}y&&await vo.delete$({tx:r,where:{id:d.id}})}};await s(),await o()})},async onSuccess(){await e()}})},rI="icon-[iconamoon--clock-thin]",Yz=({userId:t,...e})=>{const r=Zz({userId:t}),n=I3({source:Hl,where:{userId:t}});return p.jsxs(bn,{iconEnabled:rI,iconDisabled:rI,onClick:async()=>fr.promise(r.mutateAsync(),{loading:_r.text("Running cycle (toast)"),success:_r.text("Cycle success (toast)"),error:_r.text("Cycle failed (toast)")}),disabled:r.isPending,loading:n.isLoading,...e,children:[p.jsx(z,{label:"New cycle (label)"}),n.isSuccess?` (${yn({number:n.data.filter})})`:""]})},Xz="icon-[emojione-monotone--construction]",Kf="icon-[mingcute--inventory-line]",P3="icon-[heroicons--queue-list]",eU=t=>{const{locale:e}=Br({from:"/$locale"});return p.jsxs(cu,{...t,children:[p.jsx(Mr,{icon:to,to:"/$locale/apps/derivean/game/building/base/list",params:{locale:e},children:p.jsx(z,{label:"Building build list (label)"})}),p.jsx(Mr,{icon:ro,to:"/$locale/apps/derivean/game/building/list",params:{locale:e},children:p.jsx(z,{label:"Building list (label)"})}),p.jsx(Mr,{icon:Xz,to:"/$locale/apps/derivean/game/building/queue/construction/list",params:{locale:e},children:p.jsx(z,{label:"Building queue list (label)"})}),p.jsx(Mr,{icon:P3,to:"/$locale/apps/derivean/game/building/queue/production/list",params:{locale:e},children:p.jsx(z,{label:"Production queue (menu)"})}),p.jsx(Mr,{icon:Or,to:"/$locale/apps/derivean/game/building/resource/list",params:{locale:e},children:p.jsx(z,{label:"Resource list (menu)"})}),p.jsx(Mr,{icon:Kf,to:"/$locale/apps/derivean/game/inventory",params:{locale:e},children:p.jsx(z,{label:"Inventory (menu)"})})]})},nI=Ni.merge(se.object({userId:se.string().min(1),resourceId:se.string().min(1),amount:se.number().nonnegative()})),my=Ii({entity:nI,output:nI.merge(se.object({resource:Fo.output})),shape:se.object({resourceId:se.string().min(1),amount:se.union([se.number().nonnegative(),se.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:_r.text("Amount must be a number")})])}),filter:Ei.merge(se.object({userId:se.string().optional(),resourceId:se.string().optional()})),sort:["resource","amount"]}),Dn=ki({name:"InventorySource",db:Gr,schema:my,select$({tx:t,where:e,filter:r,sort:n,cursor:s={page:0,size:10},use:o}){let l=t.selectFrom("Inventory as i").selectAll("i").leftJoin("Resource as r","r.id","i.resourceId");const u={resource:"r.name",amount:"i.amount"};n?.forEach(({name:y,sort:w})=>{l=l.orderBy(u[y],w)});const d=y=>{const w=`%${y}%`;return l.where(E=>E.or([E("i.id","like",w),E("r.id","like",w),E("r.name","like",w)]))},m=y=>{y?.id&&(l=l.where("i.id","=",y.id)),y?.idIn&&(l=l.where("i.id","in",y.idIn)),y?.resourceId&&(l=l.where("i.resourceId","=",y.resourceId)),y?.userId&&(l=l.where("i.userId","=",y.userId)),y?.fulltext&&(l=d(y.fulltext))};return o.includes("filter")&&m(r||{}),o.includes("where")&&m(e||{}),o.includes("cursor")&&(l=l.limit(s.size).offset(s.page*s.size)),l},create$({tx:t}){return t.insertInto("Inventory")},patch$({tx:t}){return t.updateTable("Inventory")},delete$({tx:t}){return t.deleteFrom("Inventory")},map:{async toOutput({tx:t,entity:e}){return{...e,resource:await bi.getOrThrow$({tx:t,id:e.resourceId})}}}}),tU=Zt("/$locale/apps/derivean/game")({async beforeLoad({context:t,params:{locale:e}}){return{...t,async session(){try{return dy.parse(bh.get("session"))}catch{throw qg({to:"/$locale/apps/derivean/public/login",params:{locale:e}})}}}},async loader({context:{kysely:t,session:e}}){const r=await e();return t.transaction().execute(async n=>({session:r,inventory:await Dn.list$({tx:n,where:{userId:r.id}})}))},component:()=>{const{locale:t}=Br({from:"/$locale"}),{session:e}=fl({from:"/$locale/apps/derivean/game"}),r=iA({filters:{status:"pending",mutationKey:["useCycleMutation"]},select(n){return n.state.status}});return p.jsx(N3,{logo:p.jsx(sn,{to:"/$locale/apps/derivean/game",params:{locale:t},children:p.jsx(R3,{})}),menu:p.jsxs("div",{className:"flex flex-row items-center gap-4",children:[p.jsx(eU,{}),p.jsx(Yz,{userId:e.id})]}),actions:p.jsxs(p.Fragment,{children:[e.name,p.jsx(sn,{icon:"icon-[clarity--crown-line]",to:"/$locale/apps/derivean/root",params:{locale:t}}),p.jsx(sn,{icon:Q0,to:"/$locale/apps/derivean/public/logout",params:{locale:t},preload:!1})]}),css:{base:r.length?["select-none","pointer-events-none","opacity-50"]:void 0},children:p.jsx(Ro,{})})}}),rU=async t=>{const e={building:{forester:{id:Be(),blueprint:{id:Be()},production:{blueprint:{sawmill:{id:Be()},house:{id:Be()}}}},sawmill:{id:Be(),blueprint:{id:Be()},production:{plank:{id:Be()},blueprint:{well:{id:Be()}}}},quarry:{id:Be(),blueprint:{id:Be()},production:{dressedStone:{id:Be()}}},coalMine:{id:Be(),blueprint:{id:Be()},production:{blueprint:{goldMine:{id:Be()}}}},goldMine:{id:Be(),blueprint:{id:Be()},production:{blueprint:{goldSmith:{id:Be()}}}},goldSmith:{id:Be(),blueprint:{id:Be()},production:{gold:{id:Be()},coin:{id:Be()}}},castle:{id:Be(),blueprint:{id:Be()}},storage:{id:Be(),blueprint:{id:Be()}},house:{id:Be(),blueprint:{id:Be()}},university:{id:Be(),blueprint:{id:Be()}},well:{id:Be(),blueprint:{id:Be()}}},resource:{wood:{id:Be()},water:{id:Be()},plank:{id:Be()},stone:{id:Be()},sand:{id:Be()},glass:{id:Be()},coal:{id:Be()},flour:{id:Be()},dressedStone:{id:Be()},rawGold:{id:Be()},gold:{id:Be()},silver:{id:Be()},coin:{id:Be()}},tag:{material:{id:Be()},product:{id:Be()},food:{id:Be()},valuables:{id:Be()},blueprint:{id:Be()},building:{id:Be()}}};try{await t.insertInto("BaseBuilding").values([{id:e.building.castle.id,name:"Castle",cycles:30},{id:e.building.forester.id,name:"Forester",cycles:3},{id:e.building.quarry.id,name:"Quarry",cycles:3},{id:e.building.sawmill.id,name:"Sawmill",cycles:10},{id:e.building.storage.id,name:"Storage",cycles:5},{id:e.building.house.id,name:"House",cycles:1},{id:e.building.university.id,name:"University",cycles:75},{id:e.building.coalMine.id,name:"Coal mine",cycles:15},{id:e.building.goldMine.id,name:"Gold mine",cycles:35},{id:e.building.goldSmith.id,name:"Goldsmith",cycles:50},{id:e.building.well.id,name:"Well",cycles:15}]).execute()}catch(r){console.error(r)}try{await t.insertInto("Tag").values([{id:e.tag.material.id,code:"material",label:"Material",sort:0,group:"resource"},{id:e.tag.valuables.id,code:"valuables",label:"Valuables",sort:0,group:"resource"},{id:e.tag.blueprint.id,code:"blueprint",label:"Blueprint",sort:1,group:"resource"},{id:e.tag.product.id,code:"product",label:"Product",sort:1,group:"resource"}]).execute()}catch(r){console.error(r)}try{await t.insertInto("Resource").values([{id:e.resource.coal.id,name:"Coal"},{id:e.resource.flour.id,name:"Flour"},{id:e.resource.sand.id,name:"Sand"},{id:e.resource.water.id,name:"Water"},{id:e.resource.glass.id,name:"Glass"},{id:e.resource.wood.id,name:"Wood"},{id:e.resource.plank.id,name:"Plank"},{id:e.resource.stone.id,name:"Stone"},{id:e.resource.dressedStone.id,name:"Dressed Stone"},{id:e.resource.silver.id,name:"Silver"},{id:e.resource.rawGold.id,name:"Raw gold"},{id:e.resource.gold.id,name:"Gold"},{id:e.resource.coin.id,name:"Coin"},{id:e.building.storage.blueprint.id,name:"Storage - Blueprint"},{id:e.building.castle.blueprint.id,name:"Castle - Blueprint"},{id:e.building.house.blueprint.id,name:"House - Blueprint"},{id:e.building.university.blueprint.id,name:"University - Blueprint"},{id:e.building.quarry.blueprint.id,name:"Quarry - Blueprint"},{id:e.building.forester.blueprint.id,name:"Forester - Blueprint"},{id:e.building.sawmill.blueprint.id,name:"Sawmill - Blueprint"},{id:e.building.coalMine.blueprint.id,name:"Coal mine - Blueprint"},{id:e.building.goldMine.blueprint.id,name:"Gold mine - Blueprint"},{id:e.building.goldSmith.blueprint.id,name:"Goldsmith - Blueprint"},{id:e.building.well.blueprint.id,name:"Well - Blueprint"}]).execute()}catch(r){console.error(r)}try{await t.insertInto("Resource_Tag").values([{id:Be(),resourceId:e.resource.stone.id,tagId:e.tag.material.id},{id:Be(),resourceId:e.resource.water.id,tagId:e.tag.material.id},{id:Be(),resourceId:e.resource.flour.id,tagId:e.tag.material.id},{id:Be(),resourceId:e.resource.coal.id,tagId:e.tag.material.id},{id:Be(),resourceId:e.resource.sand.id,tagId:e.tag.material.id},{id:Be(),resourceId:e.resource.glass.id,tagId:e.tag.product.id},{id:Be(),resourceId:e.resource.plank.id,tagId:e.tag.material.id},{id:Be(),resourceId:e.resource.rawGold.id,tagId:e.tag.material.id},{id:Be(),resourceId:e.resource.dressedStone.id,tagId:e.tag.material.id},{id:Be(),resourceId:e.resource.wood.id,tagId:e.tag.material.id},{id:Be(),resourceId:e.building.storage.blueprint.id,tagId:e.tag.blueprint.id},{id:Be(),resourceId:e.building.castle.blueprint.id,tagId:e.tag.blueprint.id},{id:Be(),resourceId:e.building.house.blueprint.id,tagId:e.tag.blueprint.id},{id:Be(),resourceId:e.building.university.blueprint.id,tagId:e.tag.blueprint.id},{id:Be(),resourceId:e.building.quarry.blueprint.id,tagId:e.tag.blueprint.id},{id:Be(),resourceId:e.building.coalMine.blueprint.id,tagId:e.tag.blueprint.id},{id:Be(),resourceId:e.building.goldMine.blueprint.id,tagId:e.tag.blueprint.id},{id:Be(),resourceId:e.building.goldSmith.blueprint.id,tagId:e.tag.blueprint.id},{id:Be(),resourceId:e.building.sawmill.blueprint.id,tagId:e.tag.blueprint.id},{id:Be(),resourceId:e.building.forester.blueprint.id,tagId:e.tag.blueprint.id},{id:Be(),resourceId:e.resource.coin.id,tagId:e.tag.valuables.id},{id:Be(),resourceId:e.resource.gold.id,tagId:e.tag.valuables.id},{id:Be(),resourceId:e.resource.silver.id,tagId:e.tag.valuables.id}]).execute()}catch(r){console.error(r)}try{await t.insertInto("BaseBuilding_Requirement").values([{id:Be(),baseBuildingId:e.building.storage.id,resourceId:e.resource.stone.id,passive:!1,amount:3},{id:Be(),baseBuildingId:e.building.storage.id,resourceId:e.resource.wood.id,passive:!1,amount:5},{id:Be(),baseBuildingId:e.building.storage.id,resourceId:e.building.storage.blueprint.id,passive:!1,amount:1},{id:Be(),baseBuildingId:e.building.castle.id,resourceId:e.resource.stone.id,passive:!1,amount:10},{id:Be(),baseBuildingId:e.building.castle.id,resourceId:e.resource.dressedStone.id,passive:!1,amount:25},{id:Be(),baseBuildingId:e.building.castle.id,resourceId:e.resource.wood.id,passive:!1,amount:25},{id:Be(),baseBuildingId:e.building.castle.id,resourceId:e.resource.plank.id,passive:!1,amount:50},{id:Be(),baseBuildingId:e.building.castle.id,resourceId:e.resource.coin.id,passive:!1,amount:2e3},{id:Be(),baseBuildingId:e.building.castle.id,resourceId:e.resource.gold.id,passive:!1,amount:25},{id:Be(),baseBuildingId:e.building.castle.id,resourceId:e.building.castle.blueprint.id,passive:!1,amount:1},{id:Be(),baseBuildingId:e.building.house.id,resourceId:e.resource.stone.id,passive:!1,amount:5},{id:Be(),baseBuildingId:e.building.house.id,resourceId:e.resource.wood.id,passive:!1,amount:10},{id:Be(),baseBuildingId:e.building.house.id,resourceId:e.building.house.blueprint.id,passive:!1,amount:1},{id:Be(),baseBuildingId:e.building.university.id,resourceId:e.resource.stone.id,passive:!1,amount:100},{id:Be(),baseBuildingId:e.building.university.id,resourceId:e.resource.dressedStone.id,passive:!1,amount:75},{id:Be(),baseBuildingId:e.building.university.id,resourceId:e.resource.wood.id,passive:!1,amount:250},{id:Be(),baseBuildingId:e.building.university.id,resourceId:e.resource.plank.id,passive:!1,amount:150},{id:Be(),baseBuildingId:e.building.university.id,resourceId:e.building.university.blueprint.id,passive:!1,amount:3},{id:Be(),baseBuildingId:e.building.university.id,resourceId:e.resource.coin.id,passive:!1,amount:2e3},{id:Be(),baseBuildingId:e.building.university.id,resourceId:e.resource.glass.id,passive:!1,amount:30},{id:Be(),baseBuildingId:e.building.sawmill.id,resourceId:e.resource.wood.id,passive:!1,amount:10},{id:Be(),baseBuildingId:e.building.sawmill.id,resourceId:e.resource.stone.id,passive:!1,amount:15},{id:Be(),baseBuildingId:e.building.sawmill.id,resourceId:e.building.sawmill.blueprint.id,passive:!1,amount:1},{id:Be(),baseBuildingId:e.building.forester.id,resourceId:e.resource.wood.id,passive:!1,amount:5},{id:Be(),baseBuildingId:e.building.forester.id,resourceId:e.resource.stone.id,passive:!1,amount:2},{id:Be(),baseBuildingId:e.building.forester.id,resourceId:e.building.forester.blueprint.id,passive:!1,amount:1},{id:Be(),baseBuildingId:e.building.quarry.id,resourceId:e.resource.wood.id,passive:!1,amount:10},{id:Be(),baseBuildingId:e.building.quarry.id,resourceId:e.resource.stone.id,passive:!1,amount:15},{id:Be(),baseBuildingId:e.building.quarry.id,resourceId:e.building.quarry.blueprint.id,passive:!1,amount:1},{id:Be(),baseBuildingId:e.building.coalMine.id,resourceId:e.building.coalMine.blueprint.id,passive:!1,amount:1},{id:Be(),baseBuildingId:e.building.coalMine.id,resourceId:e.resource.wood.id,passive:!1,amount:10},{id:Be(),baseBuildingId:e.building.coalMine.id,resourceId:e.resource.plank.id,passive:!1,amount:25},{id:Be(),baseBuildingId:e.building.coalMine.id,resourceId:e.resource.stone.id,passive:!1,amount:15},{id:Be(),baseBuildingId:e.building.goldMine.id,resourceId:e.building.goldMine.blueprint.id,passive:!1,amount:1},{id:Be(),baseBuildingId:e.building.goldMine.id,resourceId:e.resource.wood.id,passive:!1,amount:10},{id:Be(),baseBuildingId:e.building.goldMine.id,resourceId:e.resource.plank.id,passive:!1,amount:25},{id:Be(),baseBuildingId:e.building.goldSmith.id,resourceId:e.building.goldSmith.blueprint.id,passive:!1,amount:1},{id:Be(),baseBuildingId:e.building.goldSmith.id,resourceId:e.resource.wood.id,passive:!1,amount:15},{id:Be(),baseBuildingId:e.building.goldSmith.id,resourceId:e.resource.plank.id,passive:!1,amount:35},{id:Be(),baseBuildingId:e.building.goldSmith.id,resourceId:e.resource.stone.id,passive:!1,amount:10},{id:Be(),baseBuildingId:e.building.goldSmith.id,resourceId:e.resource.dressedStone.id,passive:!1,amount:25},{id:Be(),baseBuildingId:e.building.well.id,resourceId:e.building.well.blueprint.id,passive:!1,amount:1},{id:Be(),baseBuildingId:e.building.well.id,resourceId:e.resource.plank.id,passive:!1,amount:3}]).execute()}catch(r){console.error(r)}try{await t.insertInto("BaseBuilding_Limit").values([{id:Be(),baseBuildingId:e.building.storage.id,resourceId:e.resource.stone.id,limit:100},{id:Be(),baseBuildingId:e.building.storage.id,resourceId:e.resource.wood.id,limit:150},{id:Be(),baseBuildingId:e.building.castle.id,resourceId:e.resource.stone.id,limit:25},{id:Be(),baseBuildingId:e.building.castle.id,resourceId:e.resource.wood.id,limit:50}]).execute()}catch(r){console.error(r)}try{await t.insertInto("BaseBuildingProduction").values([{id:Be(),baseBuildingId:e.building.house.id,resourceId:e.resource.coin.id,amount:5,cycles:1,limit:1},{id:e.building.sawmill.production.plank.id,baseBuildingId:e.building.sawmill.id,resourceId:e.resource.plank.id,amount:1,cycles:1,limit:1},{id:e.building.sawmill.production.blueprint.well.id,baseBuildingId:e.building.sawmill.id,resourceId:e.building.well.blueprint.id,amount:1,cycles:10,limit:1},{id:Be(),baseBuildingId:e.building.forester.id,resourceId:e.resource.wood.id,amount:1,cycles:1,limit:1},{id:e.building.forester.production.blueprint.sawmill.id,baseBuildingId:e.building.forester.id,resourceId:e.building.sawmill.blueprint.id,amount:1,cycles:15,limit:1},{id:e.building.forester.production.blueprint.house.id,baseBuildingId:e.building.forester.id,resourceId:e.building.house.blueprint.id,amount:1,cycles:10,limit:1},{id:Be(),baseBuildingId:e.building.goldMine.id,resourceId:e.resource.rawGold.id,amount:2,cycles:5,limit:1},{id:e.building.goldMine.production.blueprint.goldSmith.id,baseBuildingId:e.building.goldMine.id,resourceId:e.building.goldSmith.blueprint.id,amount:1,cycles:10,limit:1},{id:Be(),baseBuildingId:e.building.coalMine.id,resourceId:e.resource.coal.id,amount:2,cycles:3,limit:1},{id:e.building.coalMine.production.blueprint.goldMine.id,baseBuildingId:e.building.coalMine.id,resourceId:e.building.goldMine.blueprint.id,amount:1,cycles:10,limit:1},{id:e.building.goldSmith.production.gold.id,baseBuildingId:e.building.goldSmith.id,resourceId:e.resource.gold.id,amount:1,cycles:4,limit:1},{id:e.building.goldSmith.production.coin.id,baseBuildingId:e.building.goldSmith.id,resourceId:e.resource.coin.id,amount:50,cycles:5,limit:1},{id:Be(),baseBuildingId:e.building.quarry.id,resourceId:e.resource.stone.id,amount:1,cycles:2,limit:1},{id:e.building.quarry.production.dressedStone.id,baseBuildingId:e.building.quarry.id,resourceId:e.resource.dressedStone.id,amount:1,cycles:3,limit:1},{id:Be(),baseBuildingId:e.building.well.id,resourceId:e.resource.water.id,amount:1,cycles:1,limit:1}]).execute()}catch(r){console.error(r)}try{await t.insertInto("BaseBuildingProductionRequirement").values([{id:Be(),baseBuildingProductionId:e.building.quarry.production.dressedStone.id,resourceId:e.resource.stone.id,amount:2,passive:!1},{id:Be(),baseBuildingProductionId:e.building.forester.production.blueprint.sawmill.id,resourceId:e.resource.wood.id,amount:100,passive:!1},{id:Be(),baseBuildingProductionId:e.building.forester.production.blueprint.house.id,resourceId:e.resource.wood.id,amount:25,passive:!1},{id:Be(),baseBuildingProductionId:e.building.coalMine.production.blueprint.goldMine.id,resourceId:e.resource.coal.id,amount:100,passive:!1},{id:Be(),baseBuildingProductionId:e.building.goldMine.production.blueprint.goldSmith.id,resourceId:e.resource.rawGold.id,amount:100,passive:!1},{id:Be(),baseBuildingProductionId:e.building.sawmill.production.plank.id,resourceId:e.resource.wood.id,amount:2,passive:!1},{id:Be(),baseBuildingProductionId:e.building.sawmill.production.blueprint.well.id,resourceId:e.resource.plank.id,amount:100,passive:!1},{id:Be(),baseBuildingProductionId:e.building.goldSmith.production.gold.id,resourceId:e.resource.rawGold.id,amount:1,passive:!1},{id:Be(),baseBuildingProductionId:e.building.goldSmith.production.coin.id,resourceId:e.resource.rawGold.id,amount:1,passive:!1}]).execute()}catch(r){console.error(r)}},nU=Zt("/$locale/apps/derivean/root/")({component(){const t=Oo({mutationKey:["base-game"],async mutationFn(){return fr.promise(rU(Gr),{success:_r.text("Base game installed (toast)"),error:_r.text("Base game installation failed (toast)"),loading:_r.text("Installing base game (toast)")})}});return p.jsx("div",{className:"flex items-center justify-center mt-10",children:p.jsx(bn,{iconEnabled:O3,loading:t.isPending,onClick:()=>t.mutate(),children:p.jsx(z,{label:"Install base game (label)"})})})}}),iU=Zt("/$locale/apps/derivean/game/")({component:()=>p.jsx("div",{children:"game dashboard here :)"})});var xh=t=>t.type==="checkbox",Kl=t=>t instanceof Date,mi=t=>t==null;const j3=t=>typeof t=="object";var In=t=>!mi(t)&&!Array.isArray(t)&&j3(t)&&!Kl(t),F3=t=>In(t)&&t.target?xh(t.target)?t.target.checked:t.target.value:t,sU=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,L3=(t,e)=>t.has(sU(e)),oU=t=>{const e=t.constructor&&t.constructor.prototype;return In(e)&&e.hasOwnProperty("isPrototypeOf")},X0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Li(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(X0&&(t instanceof Blob||n))&&(r||In(t)))if(e=r?[]:{},!r&&!oU(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=Li(t[s]));else return t;return e}var gy=t=>Array.isArray(t)?t.filter(Boolean):[],dn=t=>t===void 0,mt=(t,e,r)=>{if(!e||!In(t))return r;const n=gy(e.split(/[,[\].]+?/)).reduce((s,o)=>mi(s)?s:s[o],t);return dn(n)||n===t?dn(t[e])?r:t[e]:n},es=t=>typeof t=="boolean",ex=t=>/^\w*$/.test(t),D3=t=>gy(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Cr=(t,e,r)=>{let n=-1;const s=ex(e)?[e]:D3(e),o=s.length,l=o-1;for(;++n<o;){const u=s[n];let d=r;if(n!==l){const m=t[u];d=In(m)||Array.isArray(m)?m:isNaN(+s[n+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;t[u]=d,t=t[u]}return t};const Sg={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ks={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Xo={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},aU=Ar.createContext(null),tx=()=>Ar.useContext(aU);var M3=(t,e,r,n=!0)=>{const s={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(s,o,{get:()=>{const l=o;return e._proxyFormState[l]!==Ks.all&&(e._proxyFormState[l]=!n||Ks.all),r&&(r[l]=!0),t[l]}});return s},Di=t=>In(t)&&!Object.keys(t).length,B3=(t,e,r,n)=>{r(t);const{name:s,...o}=t;return Di(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(l=>e[l]===(!n||Ks.all))},yf=t=>Array.isArray(t)?t:[t],$3=(t,e,r)=>!t||!e||t===e||yf(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n)));function rx(t){const e=Ar.useRef(t);e.current=t,Ar.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}function lU(t){const e=tx(),{control:r=e.control,disabled:n,name:s,exact:o}=t||{},[l,u]=Ar.useState(r._formState),d=Ar.useRef(!0),m=Ar.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),y=Ar.useRef(s);return y.current=s,rx({disabled:n,next:w=>d.current&&$3(y.current,w.name,o)&&B3(w,m.current,r._updateFormState)&&u({...r._formState,...w}),subject:r._subjects.state}),Ar.useEffect(()=>(d.current=!0,m.current.isValid&&r._updateValid(!0),()=>{d.current=!1}),[r]),Ar.useMemo(()=>M3(l,r,m.current,!1),[l,r])}var wo=t=>typeof t=="string",W3=(t,e,r,n,s)=>wo(t)?(n&&e.watch.add(t),mt(r,t,s)):Array.isArray(t)?t.map(o=>(n&&e.watch.add(o),mt(r,o))):(n&&(e.watchAll=!0),r);function uU(t){const e=tx(),{control:r=e.control,name:n,defaultValue:s,disabled:o,exact:l}=t||{},u=Ar.useRef(n);u.current=n,rx({disabled:o,subject:r._subjects.values,next:y=>{$3(u.current,y.name,l)&&m(Li(W3(u.current,r._names,y.values||r._formValues,!1,s)))}});const[d,m]=Ar.useState(r._getWatch(n,s));return Ar.useEffect(()=>r._removeUnmounted()),d}function cU(t){const e=tx(),{name:r,disabled:n,control:s=e.control,shouldUnregister:o}=t,l=L3(s._names.array,r),u=uU({control:s,name:r,defaultValue:mt(s._formValues,r,mt(s._defaultValues,r,t.defaultValue)),exact:!0}),d=lU({control:s,name:r,exact:!0}),m=Ar.useRef(s.register(r,{...t.rules,value:u,...es(t.disabled)?{disabled:t.disabled}:{}})),y=Ar.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!mt(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!mt(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!mt(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!mt(d.validatingFields,r)},error:{enumerable:!0,get:()=>mt(d.errors,r)}}),[d,r]),w=Ar.useMemo(()=>({name:r,value:u,...es(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:E=>m.current.onChange({target:{value:F3(E),name:r},type:Sg.CHANGE}),onBlur:()=>m.current.onBlur({target:{value:mt(s._formValues,r),name:r},type:Sg.BLUR}),ref:E=>{const k=mt(s._fields,r);k&&E&&(k._f.ref={focus:()=>E.focus(),select:()=>E.select(),setCustomValidity:q=>E.setCustomValidity(q),reportValidity:()=>E.reportValidity()})}}),[r,s._formValues,n,d.disabled,u,s._fields]);return Ar.useEffect(()=>{const E=s._options.shouldUnregister||o,k=(q,C)=>{const A=mt(s._fields,q);A&&A._f&&(A._f.mount=C)};if(k(r,!0),E){const q=Li(mt(s._options.defaultValues,r));Cr(s._defaultValues,r,q),dn(mt(s._formValues,r))&&Cr(s._formValues,r,q)}return()=>{(l?E&&!s._state.action:E)?s.unregister(r):k(r,!1)}},[r,s,l,o]),Ar.useEffect(()=>{es(n)&&mt(s._fields,r)&&s._updateDisabledField({disabled:n,fields:s._fields,name:r,value:mt(s._fields,r)._f.value})},[n,r,s]),Ar.useMemo(()=>({field:w,formState:d,fieldState:y}),[w,d,y])}const To=t=>t.render(cU(t));var z3=(t,e,r,n,s)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:s||!0}}:{},iI=t=>({isOnSubmit:!t||t===Ks.onSubmit,isOnBlur:t===Ks.onBlur,isOnChange:t===Ks.onChange,isOnAll:t===Ks.all,isOnTouch:t===Ks.onTouched}),sI=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const vf=(t,e,r,n)=>{for(const s of r||Object.keys(t)){const o=mt(t,s);if(o){const{_f:l,...u}=o;if(l){if(l.refs&&l.refs[0]&&e(l.refs[0],s)&&!n)return!0;if(l.ref&&e(l.ref,l.name)&&!n)return!0;if(vf(u,e))break}else if(In(u)&&vf(u,e))break}}};var dU=(t,e,r)=>{const n=yf(mt(t,r));return Cr(n,"root",e[r]),Cr(t,r,n),t},nx=t=>t.type==="file",bo=t=>typeof t=="function",Ng=t=>{if(!X0)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Sm=t=>wo(t),ix=t=>t.type==="radio",Eg=t=>t instanceof RegExp;const oI={value:!1,isValid:!1},aI={value:!0,isValid:!0};var U3=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!dn(t[0].attributes.value)?dn(t[0].value)||t[0].value===""?aI:{value:t[0].value,isValid:!0}:aI:oI}return oI};const lI={isValid:!1,value:null};var V3=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,lI):lI;function uI(t,e,r="validate"){if(Sm(t)||Array.isArray(t)&&t.every(Sm)||es(t)&&!t)return{type:r,message:Sm(t)?t:"",ref:e}}var Uu=t=>In(t)&&!Eg(t)?t:{value:t,message:""},cI=async(t,e,r,n,s)=>{const{ref:o,refs:l,required:u,maxLength:d,minLength:m,min:y,max:w,pattern:E,validate:k,name:q,valueAsNumber:C,mount:A,disabled:D}=t._f,F=mt(e,q);if(!A||D)return{};const $=l?l[0]:o,H=oe=>{n&&$.reportValidity&&($.setCustomValidity(es(oe)?"":oe||""),$.reportValidity())},G={},B=ix(o),Z=xh(o),ie=B||Z,V=(C||nx(o))&&dn(o.value)&&dn(F)||Ng(o)&&o.value===""||F===""||Array.isArray(F)&&!F.length,ne=z3.bind(null,q,r,G),M=(oe,Y,me,Te=Xo.maxLength,Ce=Xo.minLength)=>{const je=oe?Y:me;G[q]={type:oe?Te:Ce,message:je,ref:o,...ne(oe?Te:Ce,je)}};if(s?!Array.isArray(F)||!F.length:u&&(!ie&&(V||mi(F))||es(F)&&!F||Z&&!U3(l).isValid||B&&!V3(l).isValid)){const{value:oe,message:Y}=Sm(u)?{value:!!u,message:u}:Uu(u);if(oe&&(G[q]={type:Xo.required,message:Y,ref:$,...ne(Xo.required,Y)},!r))return H(Y),G}if(!V&&(!mi(y)||!mi(w))){let oe,Y;const me=Uu(w),Te=Uu(y);if(!mi(F)&&!isNaN(F)){const Ce=o.valueAsNumber||F&&+F;mi(me.value)||(oe=Ce>me.value),mi(Te.value)||(Y=Ce<Te.value)}else{const Ce=o.valueAsDate||new Date(F),je=Ee=>new Date(new Date().toDateString()+" "+Ee),be=o.type=="time",ge=o.type=="week";wo(me.value)&&F&&(oe=be?je(F)>je(me.value):ge?F>me.value:Ce>new Date(me.value)),wo(Te.value)&&F&&(Y=be?je(F)<je(Te.value):ge?F<Te.value:Ce<new Date(Te.value))}if((oe||Y)&&(M(!!oe,me.message,Te.message,Xo.max,Xo.min),!r))return H(G[q].message),G}if((d||m)&&!V&&(wo(F)||s&&Array.isArray(F))){const oe=Uu(d),Y=Uu(m),me=!mi(oe.value)&&F.length>+oe.value,Te=!mi(Y.value)&&F.length<+Y.value;if((me||Te)&&(M(me,oe.message,Y.message),!r))return H(G[q].message),G}if(E&&!V&&wo(F)){const{value:oe,message:Y}=Uu(E);if(Eg(oe)&&!F.match(oe)&&(G[q]={type:Xo.pattern,message:Y,ref:o,...ne(Xo.pattern,Y)},!r))return H(Y),G}if(k){if(bo(k)){const oe=await k(F,e),Y=uI(oe,$);if(Y&&(G[q]={...Y,...ne(Xo.validate,Y.message)},!r))return H(Y.message),G}else if(In(k)){let oe={};for(const Y in k){if(!Di(oe)&&!r)break;const me=uI(await k[Y](F,e),$,Y);me&&(oe={...me,...ne(Y,me.message)},H(me.message),r&&(G[q]=oe))}if(!Di(oe)&&(G[q]={ref:$,...oe},!r))return G}}return H(!0),G};function fU(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=dn(t)?n++:t[e[n++]];return t}function hU(t){for(const e in t)if(t.hasOwnProperty(e)&&!dn(t[e]))return!1;return!0}function Ln(t,e){const r=Array.isArray(e)?e:ex(e)?[e]:D3(e),n=r.length===1?t:fU(t,r),s=r.length-1,o=r[s];return n&&delete n[o],s!==0&&(In(n)&&Di(n)||Array.isArray(n)&&hU(n))&&Ln(t,r.slice(0,-1)),t}var O_=()=>{let t=[];return{get observers(){return t},next:s=>{for(const o of t)o.next&&o.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(o=>o!==s)}}),unsubscribe:()=>{t=[]}}},Fw=t=>mi(t)||!j3(t);function Ha(t,e){if(Fw(t)||Fw(e))return t===e;if(Kl(t)&&Kl(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const s of r){const o=t[s];if(!n.includes(s))return!1;if(s!=="ref"){const l=e[s];if(Kl(o)&&Kl(l)||In(o)&&In(l)||Array.isArray(o)&&Array.isArray(l)?!Ha(o,l):o!==l)return!1}}return!0}var H3=t=>t.type==="select-multiple",pU=t=>ix(t)||xh(t),R_=t=>Ng(t)&&t.isConnected,Q3=t=>{for(const e in t)if(bo(t[e]))return!0;return!1};function kg(t,e={}){const r=Array.isArray(t);if(In(t)||r)for(const n in t)Array.isArray(t[n])||In(t[n])&&!Q3(t[n])?(e[n]=Array.isArray(t[n])?[]:{},kg(t[n],e[n])):mi(t[n])||(e[n]=!0);return e}function K3(t,e,r){const n=Array.isArray(t);if(In(t)||n)for(const s in t)Array.isArray(t[s])||In(t[s])&&!Q3(t[s])?dn(e)||Fw(r[s])?r[s]=Array.isArray(t[s])?kg(t[s],[]):{...kg(t[s])}:K3(t[s],mi(e)?{}:e[s],r[s]):r[s]=!Ha(t[s],e[s]);return r}var Wd=(t,e)=>K3(t,e,kg(e)),G3=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>dn(t)?t:e?t===""?NaN:t&&+t:r&&wo(t)?new Date(t):n?n(t):t;function A_(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return nx(e)?e.files:ix(e)?V3(t.refs).value:H3(e)?[...e.selectedOptions].map(({value:r})=>r):xh(e)?U3(t.refs).value:G3(dn(e.value)?t.ref.value:e.value,t)}var mU=(t,e,r,n)=>{const s={};for(const o of t){const l=mt(e,o);l&&Cr(s,o,l._f)}return{criteriaMode:r,names:[...t],fields:s,shouldUseNativeValidation:n}},zd=t=>dn(t)?t:Eg(t)?t.source:In(t)?Eg(t.value)?t.value.source:t.value:t;const dI="AsyncFunction";var gU=t=>!!t&&!!t.validate&&!!(bo(t.validate)&&t.validate.constructor.name===dI||In(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===dI)),yU=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function fI(t,e,r){const n=mt(t,r);if(n||ex(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const o=s.join("."),l=mt(e,o),u=mt(t,o);if(l&&!Array.isArray(l)&&r!==o)return{name:r};if(u&&u.type)return{name:o,error:u};s.pop()}return{name:r}}var vU=(t,e,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(e||t):(r?n.isOnBlur:s.isOnBlur)?!t:(r?n.isOnChange:s.isOnChange)?t:!0,bU=(t,e)=>!gy(mt(t,e)).length&&Ln(t,e);const _U={mode:Ks.onSubmit,reValidateMode:Ks.onChange,shouldFocusError:!0};function wU(t={}){let e={..._U,...t},r={submitCount:0,isDirty:!1,isLoading:bo(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},s=In(e.defaultValues)||In(e.values)?Li(e.defaultValues||e.values)||{}:{},o=e.shouldUnregister?{}:Li(s),l={action:!1,mount:!1,watch:!1},u={mount:new Set,unMount:new Set,array:new Set,watch:new Set},d,m=0;const y={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},w={values:O_(),array:O_(),state:O_()},E=iI(e.mode),k=iI(e.reValidateMode),q=e.criteriaMode===Ks.all,C=le=>ce=>{clearTimeout(m),m=setTimeout(le,ce)},A=async le=>{if(!e.disabled&&(y.isValid||le)){const ce=e.resolver?Di((await ie()).errors):await ne(n,!0);ce!==r.isValid&&w.state.next({isValid:ce})}},D=(le,ce)=>{!e.disabled&&(y.isValidating||y.validatingFields)&&((le||Array.from(u.mount)).forEach(ye=>{ye&&(ce?Cr(r.validatingFields,ye,ce):Ln(r.validatingFields,ye))}),w.state.next({validatingFields:r.validatingFields,isValidating:!Di(r.validatingFields)}))},F=(le,ce=[],ye,Oe,De=!0,Je=!0)=>{if(Oe&&ye&&!e.disabled){if(l.action=!0,Je&&Array.isArray(mt(n,le))){const _t=ye(mt(n,le),Oe.argA,Oe.argB);De&&Cr(n,le,_t)}if(Je&&Array.isArray(mt(r.errors,le))){const _t=ye(mt(r.errors,le),Oe.argA,Oe.argB);De&&Cr(r.errors,le,_t),bU(r.errors,le)}if(y.touchedFields&&Je&&Array.isArray(mt(r.touchedFields,le))){const _t=ye(mt(r.touchedFields,le),Oe.argA,Oe.argB);De&&Cr(r.touchedFields,le,_t)}y.dirtyFields&&(r.dirtyFields=Wd(s,o)),w.state.next({name:le,isDirty:oe(le,ce),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Cr(o,le,ce)},$=(le,ce)=>{Cr(r.errors,le,ce),w.state.next({errors:r.errors})},H=le=>{r.errors=le,w.state.next({errors:r.errors,isValid:!1})},G=(le,ce,ye,Oe)=>{const De=mt(n,le);if(De){const Je=mt(o,le,dn(ye)?mt(s,le):ye);dn(Je)||Oe&&Oe.defaultChecked||ce?Cr(o,le,ce?Je:A_(De._f)):Te(le,Je),l.mount&&A()}},B=(le,ce,ye,Oe,De)=>{let Je=!1,_t=!1;const $t={name:le};if(!e.disabled){const Sr=!!(mt(n,le)&&mt(n,le)._f&&mt(n,le)._f.disabled);if(!ye||Oe){y.isDirty&&(_t=r.isDirty,r.isDirty=$t.isDirty=oe(),Je=_t!==$t.isDirty);const gr=Sr||Ha(mt(s,le),ce);_t=!!(!Sr&&mt(r.dirtyFields,le)),gr||Sr?Ln(r.dirtyFields,le):Cr(r.dirtyFields,le,!0),$t.dirtyFields=r.dirtyFields,Je=Je||y.dirtyFields&&_t!==!gr}if(ye){const gr=mt(r.touchedFields,le);gr||(Cr(r.touchedFields,le,ye),$t.touchedFields=r.touchedFields,Je=Je||y.touchedFields&&gr!==ye)}Je&&De&&w.state.next($t)}return Je?$t:{}},Z=(le,ce,ye,Oe)=>{const De=mt(r.errors,le),Je=y.isValid&&es(ce)&&r.isValid!==ce;if(e.delayError&&ye?(d=C(()=>$(le,ye)),d(e.delayError)):(clearTimeout(m),d=null,ye?Cr(r.errors,le,ye):Ln(r.errors,le)),(ye?!Ha(De,ye):De)||!Di(Oe)||Je){const _t={...Oe,...Je&&es(ce)?{isValid:ce}:{},errors:r.errors,name:le};r={...r,..._t},w.state.next(_t)}},ie=async le=>{D(le,!0);const ce=await e.resolver(o,e.context,mU(le||u.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return D(le),ce},V=async le=>{const{errors:ce}=await ie(le);if(le)for(const ye of le){const Oe=mt(ce,ye);Oe?Cr(r.errors,ye,Oe):Ln(r.errors,ye)}else r.errors=ce;return ce},ne=async(le,ce,ye={valid:!0})=>{for(const Oe in le){const De=le[Oe];if(De){const{_f:Je,..._t}=De;if(Je){const $t=u.array.has(Je.name),Sr=De._f&&gU(De._f);Sr&&y.validatingFields&&D([Oe],!0);const gr=await cI(De,o,q,e.shouldUseNativeValidation&&!ce,$t);if(Sr&&y.validatingFields&&D([Oe]),gr[Je.name]&&(ye.valid=!1,ce))break;!ce&&(mt(gr,Je.name)?$t?dU(r.errors,gr,Je.name):Cr(r.errors,Je.name,gr[Je.name]):Ln(r.errors,Je.name))}!Di(_t)&&await ne(_t,ce,ye)}}return ye.valid},M=()=>{for(const le of u.unMount){const ce=mt(n,le);ce&&(ce._f.refs?ce._f.refs.every(ye=>!R_(ye)):!R_(ce._f.ref))&&gt(le)}u.unMount=new Set},oe=(le,ce)=>!e.disabled&&(le&&ce&&Cr(o,le,ce),!Ha(Q(),s)),Y=(le,ce,ye)=>W3(le,u,{...l.mount?o:dn(ce)?s:wo(le)?{[le]:ce}:ce},ye,ce),me=le=>gy(mt(l.mount?o:s,le,e.shouldUnregister?mt(s,le,[]):[])),Te=(le,ce,ye={})=>{const Oe=mt(n,le);let De=ce;if(Oe){const Je=Oe._f;Je&&(!Je.disabled&&Cr(o,le,G3(ce,Je)),De=Ng(Je.ref)&&mi(ce)?"":ce,H3(Je.ref)?[...Je.ref.options].forEach(_t=>_t.selected=De.includes(_t.value)):Je.refs?xh(Je.ref)?Je.refs.length>1?Je.refs.forEach(_t=>(!_t.defaultChecked||!_t.disabled)&&(_t.checked=Array.isArray(De)?!!De.find($t=>$t===_t.value):De===_t.value)):Je.refs[0]&&(Je.refs[0].checked=!!De):Je.refs.forEach(_t=>_t.checked=_t.value===De):nx(Je.ref)?Je.ref.value="":(Je.ref.value=De,Je.ref.type||w.values.next({name:le,values:{...o}})))}(ye.shouldDirty||ye.shouldTouch)&&B(le,De,ye.shouldTouch,ye.shouldDirty,!0),ye.shouldValidate&&Ee(le)},Ce=(le,ce,ye)=>{for(const Oe in ce){const De=ce[Oe],Je=`${le}.${Oe}`,_t=mt(n,Je);(u.array.has(le)||In(De)||_t&&!_t._f)&&!Kl(De)?Ce(Je,De,ye):Te(Je,De,ye)}},je=(le,ce,ye={})=>{const Oe=mt(n,le),De=u.array.has(le),Je=Li(ce);Cr(o,le,Je),De?(w.array.next({name:le,values:{...o}}),(y.isDirty||y.dirtyFields)&&ye.shouldDirty&&w.state.next({name:le,dirtyFields:Wd(s,o),isDirty:oe(le,Je)})):Oe&&!Oe._f&&!mi(Je)?Ce(le,Je,ye):Te(le,Je,ye),sI(le,u)&&w.state.next({...r}),w.values.next({name:l.mount?le:void 0,values:{...o}})},be=async le=>{l.mount=!0;const ce=le.target;let ye=ce.name,Oe=!0;const De=mt(n,ye),Je=()=>ce.type?A_(De._f):F3(le),_t=$t=>{Oe=Number.isNaN($t)||Kl($t)&&isNaN($t.getTime())||Ha($t,mt(o,ye,$t))};if(De){let $t,Sr;const gr=Je(),Ur=le.type===Sg.BLUR||le.type===Sg.FOCUS_OUT,di=!yU(De._f)&&!e.resolver&&!mt(r.errors,ye)&&!De._f.deps||vU(Ur,mt(r.touchedFields,ye),r.isSubmitted,k,E),hn=sI(ye,u,Ur);Cr(o,ye,gr),Ur?(De._f.onBlur&&De._f.onBlur(le),d&&d(0)):De._f.onChange&&De._f.onChange(le);const qi=B(ye,gr,Ur,!1),Do=!Di(qi)||hn;if(!Ur&&w.values.next({name:ye,type:le.type,values:{...o}}),di)return y.isValid&&(e.mode==="onBlur"?Ur&&A():A()),Do&&w.state.next({name:ye,...hn?{}:qi});if(!Ur&&hn&&w.state.next({...r}),e.resolver){const{errors:zn}=await ie([ye]);if(_t(gr),Oe){const Ht=fI(r.errors,n,ye),pa=fI(zn,n,Ht.name||ye);$t=pa.error,ye=pa.name,Sr=Di(zn)}}else D([ye],!0),$t=(await cI(De,o,q,e.shouldUseNativeValidation))[ye],D([ye]),_t(gr),Oe&&($t?Sr=!1:y.isValid&&(Sr=await ne(n,!0)));Oe&&(De._f.deps&&Ee(De._f.deps),Z(ye,Sr,$t,qi))}},ge=(le,ce)=>{if(mt(r.errors,ce)&&le.focus)return le.focus(),1},Ee=async(le,ce={})=>{let ye,Oe;const De=yf(le);if(e.resolver){const Je=await V(dn(le)?le:De);ye=Di(Je),Oe=le?!De.some(_t=>mt(Je,_t)):ye}else le?(Oe=(await Promise.all(De.map(async Je=>{const _t=mt(n,Je);return await ne(_t&&_t._f?{[Je]:_t}:_t)}))).every(Boolean),!(!Oe&&!r.isValid)&&A()):Oe=ye=await ne(n);return w.state.next({...!wo(le)||y.isValid&&ye!==r.isValid?{}:{name:le},...e.resolver||!le?{isValid:ye}:{},errors:r.errors}),ce.shouldFocus&&!Oe&&vf(n,ge,le?De:u.mount),Oe},Q=le=>{const ce={...l.mount?o:s};return dn(le)?ce:wo(le)?mt(ce,le):le.map(ye=>mt(ce,ye))},Se=(le,ce)=>({invalid:!!mt((ce||r).errors,le),isDirty:!!mt((ce||r).dirtyFields,le),error:mt((ce||r).errors,le),isValidating:!!mt(r.validatingFields,le),isTouched:!!mt((ce||r).touchedFields,le)}),ut=le=>{le&&yf(le).forEach(ce=>Ln(r.errors,ce)),w.state.next({errors:le?r.errors:{}})},lt=(le,ce,ye)=>{const Oe=(mt(n,le,{_f:{}})._f||{}).ref,De=mt(r.errors,le)||{},{ref:Je,message:_t,type:$t,...Sr}=De;Cr(r.errors,le,{...Sr,...ce,ref:Oe}),w.state.next({name:le,errors:r.errors,isValid:!1}),ye&&ye.shouldFocus&&Oe&&Oe.focus&&Oe.focus()},ft=(le,ce)=>bo(le)?w.values.subscribe({next:ye=>le(Y(void 0,ce),ye)}):Y(le,ce,!0),gt=(le,ce={})=>{for(const ye of le?yf(le):u.mount)u.mount.delete(ye),u.array.delete(ye),ce.keepValue||(Ln(n,ye),Ln(o,ye)),!ce.keepError&&Ln(r.errors,ye),!ce.keepDirty&&Ln(r.dirtyFields,ye),!ce.keepTouched&&Ln(r.touchedFields,ye),!ce.keepIsValidating&&Ln(r.validatingFields,ye),!e.shouldUnregister&&!ce.keepDefaultValue&&Ln(s,ye);w.values.next({values:{...o}}),w.state.next({...r,...ce.keepDirty?{isDirty:oe()}:{}}),!ce.keepIsValid&&A()},ht=({disabled:le,name:ce,field:ye,fields:Oe,value:De})=>{if(es(le)&&l.mount||le){const Je=le?void 0:dn(De)?A_(ye?ye._f:mt(Oe,ce)._f):De;(le||!le&&!dn(Je))&&Cr(o,ce,Je),B(ce,Je,!1,!1,!0)}},vt=(le,ce={})=>{let ye=mt(n,le);const Oe=es(ce.disabled)||es(e.disabled);return Cr(n,le,{...ye||{},_f:{...ye&&ye._f?ye._f:{ref:{name:le}},name:le,mount:!0,...ce}}),u.mount.add(le),ye?ht({field:ye,disabled:es(ce.disabled)?ce.disabled:e.disabled,name:le,value:ce.value}):G(le,!0,ce.value),{...Oe?{disabled:ce.disabled||e.disabled}:{},...e.progressive?{required:!!ce.required,min:zd(ce.min),max:zd(ce.max),minLength:zd(ce.minLength),maxLength:zd(ce.maxLength),pattern:zd(ce.pattern)}:{},name:le,onChange:be,onBlur:be,ref:De=>{if(De){vt(le,ce),ye=mt(n,le);const Je=dn(De.value)&&De.querySelectorAll&&De.querySelectorAll("input,select,textarea")[0]||De,_t=pU(Je),$t=ye._f.refs||[];if(_t?$t.find(Sr=>Sr===Je):Je===ye._f.ref)return;Cr(n,le,{_f:{...ye._f,..._t?{refs:[...$t.filter(R_),Je,...Array.isArray(mt(s,le))?[{}]:[]],ref:{type:Je.type,name:le}}:{ref:Je}}}),G(le,!1,void 0,Je)}else ye=mt(n,le,{}),ye._f&&(ye._f.mount=!1),(e.shouldUnregister||ce.shouldUnregister)&&!(L3(u.array,le)&&l.action)&&u.unMount.add(le)}}},jt=()=>e.shouldFocusError&&vf(n,ge,u.mount),bt=le=>{es(le)&&(w.state.next({disabled:le}),vf(n,(ce,ye)=>{const Oe=mt(n,ye);Oe&&(ce.disabled=Oe._f.disabled||le,Array.isArray(Oe._f.refs)&&Oe._f.refs.forEach(De=>{De.disabled=Oe._f.disabled||le}))},0,!1))},yt=(le,ce)=>async ye=>{let Oe;if(ye&&(ye.preventDefault&&ye.preventDefault(),ye.persist&&ye.persist()),e.disabled){ce&&await ce({...r.errors},ye);return}let De=Li(o);if(w.state.next({isSubmitting:!0}),e.resolver){const{errors:Je,values:_t}=await ie();r.errors=Je,De=_t}else await ne(n);if(Ln(r.errors,"root"),Di(r.errors)){w.state.next({errors:{}});try{await le(De,ye)}catch(Je){Oe=Je}}else ce&&await ce({...r.errors},ye),jt(),setTimeout(jt);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Di(r.errors)&&!Oe,submitCount:r.submitCount+1,errors:r.errors}),Oe)throw Oe},Ot=(le,ce={})=>{mt(n,le)&&(dn(ce.defaultValue)?je(le,Li(mt(s,le))):(je(le,ce.defaultValue),Cr(s,le,Li(ce.defaultValue))),ce.keepTouched||Ln(r.touchedFields,le),ce.keepDirty||(Ln(r.dirtyFields,le),r.isDirty=ce.defaultValue?oe(le,Li(mt(s,le))):oe()),ce.keepError||(Ln(r.errors,le),y.isValid&&A()),w.state.next({...r}))},Ct=(le,ce={})=>{const ye=le?Li(le):s,Oe=Li(ye),De=Di(le),Je=De?s:Oe;if(ce.keepDefaultValues||(s=ye),!ce.keepValues){if(ce.keepDirtyValues){const _t=new Set([...u.mount,...Object.keys(Wd(s,o))]);for(const $t of Array.from(_t))mt(r.dirtyFields,$t)?Cr(Je,$t,mt(o,$t)):je($t,mt(Je,$t))}else{if(X0&&dn(le))for(const _t of u.mount){const $t=mt(n,_t);if($t&&$t._f){const Sr=Array.isArray($t._f.refs)?$t._f.refs[0]:$t._f.ref;if(Ng(Sr)){const gr=Sr.closest("form");if(gr){gr.reset();break}}}}n={}}o=e.shouldUnregister?ce.keepDefaultValues?Li(s):{}:Li(Je),w.array.next({values:{...Je}}),w.values.next({values:{...Je}})}u={mount:ce.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!y.isValid||!!ce.keepIsValid||!!ce.keepDirtyValues,l.watch=!!e.shouldUnregister,w.state.next({submitCount:ce.keepSubmitCount?r.submitCount:0,isDirty:De?!1:ce.keepDirty?r.isDirty:!!(ce.keepDefaultValues&&!Ha(le,s)),isSubmitted:ce.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:De?{}:ce.keepDirtyValues?ce.keepDefaultValues&&o?Wd(s,o):r.dirtyFields:ce.keepDefaultValues&&le?Wd(s,le):ce.keepDirty?r.dirtyFields:{},touchedFields:ce.keepTouched?r.touchedFields:{},errors:ce.keepErrors?r.errors:{},isSubmitSuccessful:ce.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},tr=(le,ce)=>Ct(bo(le)?le(o):le,ce);return{control:{register:vt,unregister:gt,getFieldState:Se,handleSubmit:yt,setError:lt,_executeSchema:ie,_getWatch:Y,_getDirty:oe,_updateValid:A,_removeUnmounted:M,_updateFieldArray:F,_updateDisabledField:ht,_getFieldArray:me,_reset:Ct,_resetDefaultValues:()=>bo(e.defaultValues)&&e.defaultValues().then(le=>{tr(le,e.resetOptions),w.state.next({isLoading:!1})}),_updateFormState:le=>{r={...r,...le}},_disableForm:bt,_subjects:w,_proxyFormState:y,_setErrors:H,get _fields(){return n},get _formValues(){return o},get _state(){return l},set _state(le){l=le},get _defaultValues(){return s},get _names(){return u},set _names(le){u=le},get _formState(){return r},set _formState(le){r=le},get _options(){return e},set _options(le){e={...e,...le}}},trigger:Ee,register:vt,handleSubmit:yt,watch:ft,setValue:je,getValues:Q,reset:tr,resetField:Ot,clearErrors:ut,unregister:gt,setError:lt,setFocus:(le,ce={})=>{const ye=mt(n,le),Oe=ye&&ye._f;if(Oe){const De=Oe.refs?Oe.refs[0]:Oe.ref;De.focus&&(De.focus(),ce.shouldSelect&&bo(De.select)&&De.select())}},getFieldState:Se}}function Rs(t={}){const e=Ar.useRef(void 0),r=Ar.useRef(void 0),[n,s]=Ar.useState({isDirty:!1,isValidating:!1,isLoading:bo(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:bo(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...wU(t),formState:n});const o=e.current.control;return o._options=t,rx({subject:o._subjects.state,next:l=>{B3(l,o._proxyFormState,o._updateFormState,!0)&&s({...o._formState})}}),Ar.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),Ar.useEffect(()=>{if(o._proxyFormState.isDirty){const l=o._getDirty();l!==n.isDirty&&o._subjects.state.next({isDirty:l})}},[o,n.isDirty]),Ar.useEffect(()=>{t.values&&!Ha(t.values,r.current)?(o._reset(t.values,o._options.resetOptions),r.current=t.values,s(l=>({...l}))):o._resetDefaultValues()},[t.values,o]),Ar.useEffect(()=>{t.errors&&o._setErrors(t.errors)},[t.errors,o]),Ar.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),Ar.useEffect(()=>{t.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})},[t.shouldUnregister,o]),e.current.formState=M3(n,o),e.current}const hI=(t,e,r)=>{if(t&&"reportValidity"in t){const n=mt(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},J3=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?hI(n.ref,r,t):n.refs&&n.refs.forEach(s=>hI(s,r,t))}},xU=(t,e)=>{e.shouldUseNativeValidation&&J3(t,e);const r={};for(const n in t){const s=mt(e.fields,n),o=Object.assign(t[n]||{},{ref:s&&s.ref});if(SU(e.names||Object.keys(t),n)){const l=Object.assign({},mt(r,n));Cr(l,"root",o),Cr(r,n,l)}else Cr(r,n,o)}return r},SU=(t,e)=>t.some(r=>r.startsWith(e+"."));var NU=function(t,e){for(var r={};t.length;){var n=t[0],s=n.code,o=n.message,l=n.path.join(".");if(!r[l])if("unionErrors"in n){var u=n.unionErrors[0].errors[0];r[l]={message:u.message,type:u.code}}else r[l]={message:o,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(y){return y.errors.forEach(function(w){return t.push(w)})}),e){var d=r[l].types,m=d&&d[n.code];r[l]=z3(l,e,r,s,m?[].concat(m,n.message):n.message)}t.shift()}return r},As=function(t,e,r){return r===void 0&&(r={}),function(n,s,o){try{return Promise.resolve(function(l,u){try{var d=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(m){return o.shouldUseNativeValidation&&J3({},o),{errors:{},values:r.raw?n:m}})}catch(m){return u(m)}return d&&d.then?d.then(void 0,u):d}(0,function(l){if(function(u){return Array.isArray(u?.errors)}(l))return{values:{},errors:xU(NU(l.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw l}))}catch(l){return Promise.reject(l)}}};const EU=async({tx:t,userId:e})=>{const r=[{resource:"Wood",amount:15},{resource:"Stone",amount:17},{resource:"Forester - Blueprint",amount:1},{resource:"Quarry - Blueprint",amount:1}];for await(const n of r){const s={userId:e,resourceId:(await bi.fetchOrThrow$({tx:t,where:{name:n.resource},error:`Cannot find resource [${n.resource}]`})).id,amount:n.amount};await Dn.create$({tx:t,shape:s,entity:s})}},Z3=Ii({entity:Ni.merge(se.object({name:se.string().min(1),login:se.string().min(1),password:se.string().min(1)})),shape:se.object({name:se.string().min(1),login:se.string().min(1),password:se.string().min(1)}),filter:Ei.merge(se.object({login:se.string().optional(),password:se.string().optional()})),sort:["name","login"]}),yy=ki({name:"UserSource",schema:Z3,db:Gr,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:s}){let o=t.selectFrom("User as u").selectAll("u");const l=d=>{const m=`%${d}%`;return o.where(y=>y.or([y("u.id","like",m),y("u.name","like",m),y("u.login","like",m)]))},u=d=>{d?.id&&(o=o.where("u.id","=",d.id)),d?.password&&(o=o.where("u.password","=",d.password)),d?.login&&(o=o.where("u.login","=",d.login)),d?.fulltext&&(o=l(d.fulltext))};return s.includes("filter")&&u(r||{}),s.includes("where")&&u(e||{}),s.includes("cursor")&&(o=o.limit(n.size).offset(n.page*n.size)),o},create$({tx:t}){return t.insertInto("User")},patch$({tx:t}){return t.updateTable("User")},delete$({tx:t}){return t.deleteFrom("User")},map:{async toCreate({entity:{password:t,...e}}){return{...e,password:t?LC.hash(t):void 0}}}}),kU=()=>Oo({mutationKey:["useRegisterMutation"],async mutationFn({login:t,name:e,password1:r}){return Gr.transaction().execute(async n=>{const s=dy.parse(await yy.create$({tx:n,shape:{name:e,login:t,password:r},entity:{name:e,login:t,password:r}}));try{await EU({tx:n,userId:s.id})}catch(o){console.error(o)}return s})}}),IU=se.object({name:se.string().min(1),login:se.string().min(1),password1:se.string().min(1),password2:se.string().min(1)}).refine(t=>t.password1===t.password2,{message:"Passwords must match",path:["password1"]}),qU=({onSuccess:t})=>{const e=kU(),r=Rs({resolver:As(IU)}),n=Ts({isLoading:r.formState.isLoading,isSubmitting:r.formState.isSubmitting}).slots;return p.jsxs("form",{className:n.base(),onSubmit:r.handleSubmit(async s=>e.mutateAsync(s,{onSuccess:t,onError:o=>{d0({error:o,errors:[o0({error:o,schema:c0,onError:({data:l})=>{r.setError("root",{message:l.message})}})],onError:l=>{r.setError("root",{message:l.message})}})}}).catch(()=>{})),children:[p.jsx(cs,{variant:{highlight:!0},error:r.formState.errors.root}),p.jsx(kr,{formState:r.formState,name:"name",label:p.jsx(z,{label:"Name (label)"}),children:p.jsx("input",{type:"text",className:n.input(),...r.register("name")})}),p.jsx(kr,{formState:r.formState,name:"login",label:p.jsx(z,{label:"Login (label)"}),children:p.jsx("input",{type:"text",className:n.input(),...r.register("login")})}),p.jsx(kr,{formState:r.formState,name:"password1",label:p.jsx(z,{label:"Password 1 (label)"}),children:p.jsx("input",{type:"password",className:n.input(),...r.register("password1")})}),p.jsx(kr,{formState:r.formState,name:"password2",label:p.jsx(z,{label:"Password 2 (label)"}),children:p.jsx("input",{type:"password",className:n.input(),...r.register("password2")})}),p.jsx(bn,{type:"submit",children:p.jsx(z,{label:"Register (submit)"})})]})},CU=Zt("/$locale/apps/derivean/public/register")({component:()=>{const t=Qw();return p.jsx("div",{className:zg(["flex","justify-center","h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:p.jsxs("div",{className:"flex flex-col bg-slate-100 p-20 w-1/2 m-10 drop-shadow-xl",children:[p.jsx("hr",{className:"my-12 h-0.5 border-t-0 bg-slate-300"}),p.jsx(qU,{onSuccess:async e=>{bh.set("session",e),await t({to:"/$locale/apps/derivean/game"})}})]})})}}),TU=Zt("/$locale/apps/derivean/public/logout")({pendingComponent(){return p.jsx("div",{className:zg(["flex items-center justify-center h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:p.jsx(q3,{icon:Q0,textTitle:p.jsx(z,{label:"Logout (label)"}),textMessage:p.jsx(z,{label:"Logout in progress..."}),css:{base:["p-4","bg-slate-200","rounded"]}})})},async loader({params:{locale:t}}){throw bh.remove("session"),qg({to:"/$locale/apps/derivean/public/login",params:{locale:t}})}}),OU=()=>Oo({mutationKey:["useLoginMutation"],async mutationFn({login:t,password:e}){return Gr.transaction().execute(async r=>{const n=await yy.fetchOrThrow$({tx:r,where:{login:t,password:LC.hash(e)},error:"Invalid login or password"});return{id:n.id,login:n.login,name:n.name}})}}),RU=se.object({login:se.string().min(1),password:se.string().min(1)}),AU=({onSuccess:t})=>{const{locale:e}=Br({from:"/$locale"}),r=OU(),n=Rs({resolver:As(RU)}),s=Ts({isLoading:n.formState.isLoading,isSubmitting:n.formState.isSubmitting}).slots;return p.jsxs("form",{className:s.base(),onSubmit:n.handleSubmit(async o=>r.mutateAsync(o,{onSuccess:t,onError:l=>{d0({error:l,errors:[o0({error:l,schema:c0,onError:({data:u})=>{n.setError("root",{message:u.message})}})],onError:u=>{n.setError("root",{message:u.message})}})}}).catch(()=>{})),children:[p.jsx(cs,{variant:{highlight:!0},error:n.formState.errors.root}),p.jsx(kr,{formState:n.formState,name:"login",label:p.jsx(z,{label:"Login (label)"}),children:p.jsx("input",{type:"text",className:s.input(),...n.register("login")})}),p.jsx(kr,{formState:n.formState,name:"password",label:p.jsx(z,{label:"Password (label)"}),children:p.jsx("input",{type:"password",className:s.input(),...n.register("password")})}),p.jsxs("div",{className:"flex flex-row justify-between gap-8",children:[p.jsx(sn,{to:"/$locale/apps/derivean/public/register",params:{locale:e},children:p.jsx(z,{label:"Register (link)"})}),p.jsx(bn,{type:"submit",children:p.jsx(z,{label:"Login (submit)"})})]})]})},PU=Zt("/$locale/apps/derivean/public/login")({component:()=>{const t=Qw();return p.jsx("div",{className:zg(["flex","justify-center","h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:p.jsxs("div",{className:"flex flex-col bg-slate-100 p-20 w-1/2 m-10 drop-shadow-xl",children:[p.jsx("hr",{className:"my-12 h-0.5 border-t-0 bg-slate-300"}),p.jsx(AU,{onSuccess:async e=>{bh.set("session",e),await t({to:"/$locale/apps/derivean/game"})}})]})})}}),pI=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:s=Ts,css:o})=>{const l=Rs({resolver:As(fy.shape),defaultValues:{sort:0,...e}}),u=K.useContext(Vi),d=s({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:o}).slots;return p.jsxs("form",{className:d.base(),onSubmit:Po({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:u})}}),children:[p.jsx(cs,{variant:{highlight:!0},error:l.formState.errors.root}),p.jsx(kr,{formState:l.formState,name:"code",label:p.jsx(z,{label:"Tag code (label)"}),required:!0,children:p.jsx("input",{type:"text",className:d.input(),...l.register("code")})}),p.jsx(kr,{formState:l.formState,name:"label",label:p.jsx(z,{label:"Resource description (label)"}),required:!0,children:p.jsx("input",{type:"text",className:d.input(),...l.register("label")})}),p.jsx(kr,{formState:l.formState,name:"group",label:p.jsx(z,{label:"Tag group (label)"}),children:p.jsx("input",{type:"text",className:d.input(),...l.register("group")})}),p.jsx(kr,{formState:l.formState,name:"sort",label:p.jsx(z,{label:"Tag sort (label)"}),children:p.jsx("input",{type:"number",className:d.input(),...l.register("sort")})}),p.jsx("div",{className:"flex flex-row justify-between gap-8",children:p.jsx(bn,{iconEnabled:xg,type:"submit",children:p.jsx(z,{label:"Save tag (submit)"})})})]})},P_=Xn(),jU=[P_({name:"code",header(){return p.jsx(z,{label:"Tag code (label)"})},render({value:t}){return t},size:14}),P_({name:"label",header(){return p.jsx(z,{label:"Tag label (label)"})},render({value:t}){return t},size:14}),P_({name:"group",header(){return p.jsx(z,{label:"Tag group (label)"})},render({value:t}){return t},filter:{path:"group",onFilter({data:t,filter:e}){e.shallow("group",t.group)}},size:24})],Y3=({group:t,table:e,...r})=>{const n=ds({sources:[Ql,bi,gf]});return p.jsx(Zn,{table:Yn({...e,columns:jU}),action:{table(){return p.jsx(vn,{children:p.jsx(Ir,{label:p.jsx(z,{label:"Create tag (menu)"}),textTitle:p.jsx(z,{label:"Create tag (modal)"}),icon:xg,children:p.jsx(pI,{defaultValues:{group:t},mutation:jo({source:Ql,async wrap(s){return fr.promise(s(),{loading:p.jsx(z,{label:"Saving tag (label)"}),success:p.jsx(z,{label:"Tag successfully saved (label)"}),error:p.jsx(z,{label:"Cannot save tag (label)"})})}}),onSuccess:async({modalContext:s})=>{await n(),s?.close()}})})})},row({data:s}){return p.jsxs(vn,{children:[p.jsx(Ir,{label:p.jsx(z,{label:"Edit tag (menu)"}),textTitle:p.jsx(z,{label:"Edit tag (modal)"}),icon:xg,children:p.jsx(pI,{defaultValues:{group:t,...s},mutation:so({source:Ql,async wrap(o){return fr.promise(o(),{loading:p.jsx(z,{label:"Saving tag (label)"}),success:p.jsx(z,{label:"Tag successfully saved (label)"}),error:p.jsx(z,{label:"Cannot save tag (label)"})})},async toPatch({shape:o}){return{entity:o,filter:{id:s.id}}}}),onSuccess:async({modalContext:o})=>{await n(),o?.close()}})}),p.jsx(Ir,{icon:Os,label:p.jsx(z,{label:"Delete tag (label)"}),textTitle:p.jsx(z,{label:"Delete tag (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:p.jsx(io,{source:Ql,textContent:p.jsx(z,{label:"Tag delete (content)"}),filter:{id:s.id},invalidator:n})})]})}},...r})},FU=({group:t,...e})=>p.jsx(_z,{table:r=>p.jsx(Y3,{group:t,...r}),render:({entities:r})=>p.jsx(C3,{tags:r}),source:Ql,useListQuery:({where:r,...n})=>G0({...n,where:{...r,group:t}}),...e}),mI=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:s=Ts,css:o})=>{const l=Rs({resolver:As(Fo.shape),defaultValues:e}),u=K.useContext(Vi),d=s({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:o}).slots;return p.jsxs("form",{className:d.base(),onSubmit:Po({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:u})}}),children:[p.jsx(cs,{variant:{highlight:!0},error:l.formState.errors.root}),p.jsx(kr,{formState:l.formState,name:"name",label:p.jsx(z,{label:"Resource name (label)"}),children:p.jsx("input",{type:"text",className:d.input(),...l.register("name")})}),p.jsx(kr,{formState:l.formState,name:"tagIds",label:p.jsx(z,{label:"Resource tags (label)"}),children:p.jsx(To,{control:l.control,name:"tagIds",render:({field:{ref:m,...y}})=>p.jsx(FU,{icon:Or,group:"resource",titleText:p.jsx(z,{label:"Select resource tags (title)"}),allowEmpty:!0,...y})})}),p.jsx("div",{className:"flex flex-row justify-between gap-8",children:p.jsx(bn,{iconEnabled:Or,type:"submit",children:p.jsx(z,{label:"Save resource (submit)"})})})]})},gI=Xn(),LU=[gI({name:"name",header(){return p.jsx(z,{label:"Resource name (label)"})},render({data:t,value:e}){const{locale:r}=Br({from:"/$locale"});return p.jsx(sn,{to:"/$locale/apps/derivean/root/resource/$id/view",params:{locale:r,id:t.id},children:e})},size:18}),gI({name:"tags",header(){return p.jsx(z,{label:"Resource tags (label)"})},render({value:t}){return p.jsx(C3,{tags:t})},size:32})],X3=({table:t,...e})=>{const r=ds({sources:[bi,gf]});return p.jsx(Zn,{table:Yn({...t,columns:LU}),action:{table(){return p.jsx(vn,{children:p.jsx(Ir,{label:p.jsx(z,{label:"Create resource (menu)"}),textTitle:p.jsx(z,{label:"Create resource (modal)"}),icon:Or,children:p.jsx(mI,{mutation:jo({source:bi,async wrap(n){return fr.promise(n(),{loading:p.jsx(z,{label:"Saving resource (label)"}),success:p.jsx(z,{label:"Resource successfully saved (label)"}),error:p.jsx(z,{label:"Cannot save resource (label)"})})}}),onSuccess:async({modalContext:n})=>{await r(),n?.close()}})})})},row({data:n}){return p.jsxs(vn,{children:[p.jsx(Ir,{label:p.jsx(z,{label:"Edit resource (menu)"}),textTitle:p.jsx(z,{label:"Edit resource (modal)"}),icon:Or,children:p.jsx(mI,{defaultValues:n,mutation:so({source:bi,async wrap(s){return fr.promise(s(),{loading:p.jsx(z,{label:"Saving resource (label)"}),success:p.jsx(z,{label:"Resource successfully saved (label)"}),error:p.jsx(z,{label:"Cannot save resource (label)"})})},async toPatch(){return{filter:{id:n.id}}}}),onSuccess:async({modalContext:s})=>{await r(),s?.close()}})}),p.jsx(Ir,{icon:Os,label:p.jsx(z,{label:"Delete resource (label)"}),textTitle:p.jsx(z,{label:"Delete resource (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:p.jsx(io,{source:bi,textContent:p.jsx(z,{label:"Resource delete (content)"}),filter:{id:n.id},invalidator:r})})]})}},...e})},Gc=t=>p.jsx(k3,{icon:Or,titleText:p.jsx(z,{label:"Select resource (title)"}),table:X3,render:({entity:e})=>e.name,source:bi,useListQuery:G0,...t}),yI=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:s=Ts,css:o})=>{const l=Rs({resolver:As(my.shape),defaultValues:e}),u=K.useContext(Vi),d=s({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:o}).slots;return p.jsxs("form",{className:d.base(),onSubmit:Po({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:u})}}),children:[p.jsx(cs,{variant:{highlight:!0},error:l.formState.errors.root}),p.jsx(kr,{formState:l.formState,name:"resourceId",label:p.jsx(z,{label:"Resource name (label)"}),children:p.jsx(To,{control:l.control,name:"resourceId",render:({field:{ref:m,...y}})=>p.jsx(Gc,{icon:Or,titleText:p.jsx(z,{label:"Select resource (title)"}),allowEmpty:!0,...y})})}),p.jsx(kr,{formState:l.formState,name:"amount",label:p.jsx(z,{label:"Amount (label)"}),children:p.jsx("input",{type:"number",className:d.input(),...l.register("amount")})}),p.jsx("div",{className:"flex flex-row justify-between gap-8",children:p.jsx(bn,{iconEnabled:Kf,type:"submit",children:p.jsx(z,{label:"Save inventory item (submit)"})})})]})},vI=Xn(),DU=[vI({name:"resource.name",header(){return p.jsx(z,{label:"Resource name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceId",t.resourceId)}},size:18}),vI({name:"amount",header(){return p.jsx(z,{label:"Amount (label)"})},render({value:t}){return yn({number:t})},size:18})],eO=({userId:t,table:e,...r})=>{const n=ds({sources:[Dn]});return p.jsx(Zn,{table:Yn({...e,columns:DU}),action:{table:t?()=>p.jsx(vn,{children:p.jsx(Ir,{label:p.jsx(z,{label:"Create inventory item (menu)"}),textTitle:p.jsx(z,{label:"Create inventory item (modal)"}),icon:Kf,children:p.jsx(yI,{mutation:jo({source:Dn,async wrap(s){return fr.promise(s(),{loading:p.jsx(z,{label:"Saving inventory item (label)"}),success:p.jsx(z,{label:"Inventory item successfully saved (label)"}),error:p.jsx(z,{label:"Cannot save inventory item (label)"})})},async toCreate({shape:s}){return{entity:{...s,userId:t}}}}),onSuccess:async({modalContext:s})=>{await n(),s?.close()}})})}):void 0,row({data:s}){return p.jsxs(vn,{children:[t?p.jsx(Ir,{label:p.jsx(z,{label:"Edit inventory item (menu)"}),textTitle:p.jsx(z,{label:"Edit inventory item (modal)"}),icon:Kf,children:p.jsx(yI,{defaultValues:s,mutation:so({source:Dn,async wrap(o){return fr.promise(o(),{loading:p.jsx(z,{label:"Saving inventory item (label)"}),success:p.jsx(z,{label:"Inventory item successfully saved (label)"}),error:p.jsx(z,{label:"Cannot save inventory item (label)"})})},async toPatch(){return{filter:{id:s.id}}}}),onSuccess:async({modalContext:o})=>{await n(),o?.close()}})}):null,p.jsx(Ir,{icon:Os,label:p.jsx(z,{label:"Delete inventory item (label)"}),textTitle:p.jsx(z,{label:"Delete inventory item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:p.jsx(io,{source:Dn,textContent:p.jsx(z,{label:"Inventory item delete (content)"}),filter:{id:s.id},invalidator:n})})]})}},...r})},Nm=Zt("/$locale/apps/derivean/game/inventory/")({validateSearch:Sn(Nn(my)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e,session:r},deps:{filter:n,cursor:s}}){const o=await r();return e.transaction().execute(l=>fn({tx:l,queryClient:t,source:Dn,filter:n,cursor:s,where:{userId:o.id}}))},component(){const{data:t,count:e}=Nm.useLoaderData(),{filter:r,cursor:n,selection:s}=Nm.useSearch(),o=Nm.useNavigate(),{tva:l}=zr({from:"__root__"}),u=l().slots;return p.jsx("div",{className:u.base(),children:p.jsx(eO,{table:{data:t,filter:{value:r,set:wn(o)},selection:{type:"multi",value:s,set:ci(o)}},fulltext:{value:r?.fulltext,set:xn(o)},cursor:{count:e,cursor:n,textTotal:p.jsx(z,{label:"Number of items"}),..._n(o)}})})}}),MU=({entity:t,...e})=>{const{locale:r}=Br({from:"/$locale"});return p.jsxs(cu,{...e,children:[p.jsx(Mr,{icon:K0,to:"/$locale/apps/derivean/root/user/$id/view",params:{locale:r,id:t.id},children:p.jsx(z,{label:"View detail (menu)"})}),p.jsx(Mr,{icon:ro,to:"/$locale/apps/derivean/root/user/$id/building/list",params:{locale:r,id:t.id},children:p.jsx(z,{label:"Building list (menu)"})}),p.jsx(Mr,{icon:Or,to:"/$locale/apps/derivean/root/user/$id/building/resource/list",params:{locale:r,id:t.id},children:p.jsx(z,{label:"Building resource list (label)"})}),p.jsx(Mr,{icon:Kf,to:"/$locale/apps/derivean/root/user/$id/inventory",params:{locale:r,id:t.id},children:p.jsx(z,{label:"Inventory (label)"})})]})},BU=t=>{const{locale:e}=Br({from:"/$locale"});return p.jsx(_h,{title:({entity:r})=>p.jsx(wh,{icon:K0,title:r.name}),actions:()=>p.jsx(p.Fragment,{children:p.jsx(sn,{icon:vh,to:"/$locale/apps/derivean/root/user/list",params:{locale:e},children:p.jsx(z,{label:"User list (label)"})})}),...t})},tO=Zt("/$locale/apps/derivean/root/user/$id")({async loader({context:{queryClient:t},params:{id:e}}){return Gr.transaction().execute(async r=>({entity:await cy({tx:r,queryClient:t,source:yy,where:{id:e}})}))},component(){const{tva:t}=zr({from:"__root__"}),{entity:e}=tO.useLoaderData(),r=t().slots;return p.jsxs("div",{className:r.base(),children:[p.jsx(BU,{entity:e}),p.jsx(MU,{entity:e}),p.jsx(Ro,{})]})}}),$U=Zt("/$locale/apps/derivean/root/resource/$id")({component:()=>p.jsx("div",{children:'Hello "/$locale/apps/derivean/root/resource/$id"!'})}),WU=({entity:t,...e})=>{const{locale:r}=Br({from:"/$locale"});return p.jsxs(cu,{...e,children:[p.jsx(Mr,{icon:ro,to:"/$locale/apps/derivean/root/building/$id/view",params:{locale:r,id:t.id},children:p.jsx(z,{label:"Building detail (label)"})}),p.jsx(Mr,{icon:Or,to:"/$locale/apps/derivean/root/building/$id/resource/list",params:{locale:r,id:t.id},children:p.jsx(z,{label:"Building resource list (label)"})})]})},zU=t=>{const{locale:e}=Br({from:"/$locale"});return p.jsx(_h,{title:({entity:r})=>p.jsx(wh,{icon:ro,title:r.baseBuilding.name}),actions:()=>p.jsx(p.Fragment,{children:p.jsx(sn,{icon:vh,to:"/$locale/apps/derivean/root/building/list",params:{locale:e},children:p.jsx(z,{label:"Building list (label)"})})}),...t})},rO=Zt("/$locale/apps/derivean/root/building/$id")({async loader({context:{kysely:t,queryClient:e},params:{id:r}}){return t.transaction().execute(async n=>({entity:await cy({tx:n,queryClient:e,source:xi,where:{id:r}})}))},component(){const{tva:t}=zr({from:"__root__"}),{entity:e}=rO.useLoaderData(),r=t().slots;return p.jsxs("div",{className:r.base(),children:[p.jsx(zU,{entity:e}),p.jsx(WU,{entity:e}),p.jsx(Ro,{})]})}}),Rc="icon-[fluent-mdl2--production-floor-management]",UU=({entity:t,...e})=>{const{locale:r}=Br({from:"/$locale"});return p.jsxs(cu,{...e,children:[p.jsx(Mr,{icon:ro,to:"/$locale/apps/derivean/game/building/$id/view",params:{locale:r,id:t.id},children:p.jsx(z,{label:"View detail (menu)"})}),p.jsx(Mr,{icon:Rc,to:"/$locale/apps/derivean/game/building/$id/production",params:{locale:r,id:t.id},children:p.jsx(z,{label:"Building production (menu)"})}),p.jsx(Mr,{icon:P3,to:"/$locale/apps/derivean/game/building/$id/production/queue",params:{locale:r,id:t.id},children:p.jsx(z,{label:"Building production queue (menu)"})}),p.jsx(Mr,{icon:Or,to:"/$locale/apps/derivean/game/building/$id/resource/list",params:{locale:r,id:t.id},children:p.jsx(z,{label:"Building resource list (label)"})})]})},VU=t=>{const{locale:e}=Br({from:"/$locale"});return p.jsx(_h,{title:({entity:r})=>p.jsx(wh,{icon:ro,title:r.baseBuilding.name}),actions:()=>p.jsx(p.Fragment,{children:p.jsx(sn,{icon:vh,to:"/$locale/apps/derivean/game/building/list",params:{locale:e},children:p.jsx(z,{label:"Building list (label)"})})}),...t})},nO=Zt("/$locale/apps/derivean/game/building/$id")({async loader({context:{kysely:t},params:{id:e}}){return t.transaction().execute(async r=>({entity:await xi.getOrThrow$({tx:r,id:e,error:"Cannot find a building"})}))},component(){const{tva:t}=zr({from:"__root__"}),{entity:e}=nO.useLoaderData(),r=t().slots;return p.jsxs("div",{className:r.base(),children:[p.jsx(VU,{entity:e}),p.jsx(UU,{entity:e}),p.jsx(Ro,{})]})}}),bI=Xn(),HU=[bI({name:"name",header(){return p.jsx(z,{label:"User name (label)"})},render({data:t,value:e}){const{locale:r}=Br({from:"/$locale"});return p.jsx(sn,{to:"/$locale/apps/derivean/root/user/$id/view",params:{locale:r,id:t.id},children:e})},size:14}),bI({name:"login",header(){return p.jsx(z,{label:"User login (label)"})},render({value:t}){return t},size:14})],QU=({table:t,...e})=>p.jsx(Zn,{table:Yn({...t,columns:HU}),...e}),Em=Zt("/$locale/apps/derivean/root/user/list/")({validateSearch:Sn(Nn(Z3)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n}}){return e.transaction().execute(s=>fn({tx:s,queryClient:t,source:yy,filter:r,cursor:n}))},component:()=>{const{data:t,count:e}=Em.useLoaderData(),{filter:r,cursor:n,selection:s}=Em.useSearch(),o=Em.useNavigate(),{tva:l}=zr({from:"__root__"}),u=l().slots;return p.jsx("div",{className:u.base(),children:p.jsx(QU,{table:{data:t,filter:{value:r,set:wn(o)},selection:{type:"multi",value:s,set:ci(o)}},fulltext:{value:r?.fulltext,set:xn(o)},cursor:{count:e,cursor:n,textTotal:p.jsx(z,{label:"Number of items"}),..._n(o)}})})}}),km=Zt("/$locale/apps/derivean/root/tag/list/")({validateSearch:Sn(Nn(fy)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n}}){return e.transaction().execute(async s=>fn({tx:s,queryClient:t,source:Ql,filter:r,cursor:n,sort:[{name:"sort",sort:"asc"},{name:"group",sort:"asc"},{name:"label",sort:"asc"}]}))},component:()=>{const{data:t,count:e}=km.useLoaderData(),{filter:r,cursor:n,selection:s}=km.useSearch(),o=km.useNavigate(),{tva:l}=zr({from:"__root__"}),u=l().slots;return p.jsx("div",{className:u.base(),children:p.jsx(Y3,{table:{data:t,filter:{value:r,set:wn(o)},selection:{type:"multi",value:s,set:ci(o)}},fulltext:{value:r?.fulltext,set:xn(o)},cursor:{count:e,cursor:n,textTotal:p.jsx(z,{label:"Number of items"}),..._n(o)}})})}}),Im=Zt("/$locale/apps/derivean/root/resource/list/")({validateSearch:Sn(Nn(Fo)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n}}){return e.transaction().execute(s=>fn({tx:s,queryClient:t,source:bi,filter:r,cursor:n,sort:[{name:"name",sort:"asc"}]}))},component:()=>{const{data:t,count:e}=Im.useLoaderData(),{filter:r,cursor:n,selection:s}=Im.useSearch(),o=Im.useNavigate(),{tva:l}=zr({from:"__root__"}),u=l().slots;return p.jsx("div",{className:u.base(),children:p.jsx(X3,{table:{data:t,filter:{value:r,set:wn(o)},selection:{type:"multi",value:s,set:ci(o)}},fulltext:{value:r?.fulltext,set:xn(o)},cursor:{count:e,cursor:n,textTotal:p.jsx(z,{label:"Number of items"}),..._n(o)}})})}}),KU=Zt("/$locale/apps/derivean/root/building/list/")({component:()=>p.jsx("div",{children:'Hello "/$locale/apps/derivean/root/building/list/"!'})}),GU=Xn(),JU=[GU({name:"baseBuilding.name",header(){return p.jsx(z,{label:"Base building name (label)"})},render({data:t,value:e}){const{locale:r}=Br({from:"/$locale"});return p.jsx(sn,{to:"/$locale/apps/derivean/game/building/$id/view",params:{locale:r,id:t.id},children:e})},size:14})],ZU=({table:t,...e})=>p.jsx(Zn,{table:Yn({...t,columns:JU}),...e}),qm=Zt("/$locale/apps/derivean/game/building/list/")({validateSearch:Sn(Nn(Qc)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e,session:r},deps:{filter:n,cursor:s}}){const o=await r();return e.transaction().execute(async l=>fn({tx:l,queryClient:t,source:xi,where:{userId:o.id},filter:n,cursor:s}))},component:()=>{const{data:t,count:e}=qm.useLoaderData(),{filter:r,cursor:n}=qm.useSearch(),s=qm.useNavigate(),{tva:o}=zr({from:"__root__"}),l=o().slots;return p.jsx("div",{className:l.base(),children:p.jsx(ZU,{table:{data:t,filter:{value:r,set:wn(s)}},fulltext:{value:r?.fulltext,set:xn(s)},cursor:{count:e,cursor:n,textTotal:p.jsx(z,{label:"Number of items"}),..._n(s)}})})}}),Lw="icon-[vaadin--storage]",YU=({entity:t,...e})=>{const{locale:r}=Br({from:"/$locale"});return p.jsxs(cu,{...e,children:[p.jsx(Mr,{icon:to,to:"/$locale/apps/derivean/root/building/base/$id/view",params:{locale:r,id:t.id},children:p.jsx(z,{label:"View detail (menu)"})}),p.jsx(Mr,{icon:Or,to:"/$locale/apps/derivean/root/building/base/$id/requirement/list",params:{locale:r,id:t.id},children:p.jsx(z,{label:"Base building resource requirement (menu)"})}),p.jsx(Mr,{icon:Lw,to:"/$locale/apps/derivean/root/building/base/$id/limit/list",params:{locale:r,id:t.id},children:p.jsx(z,{label:"Base building limit list (menu)"})}),p.jsx(Mr,{icon:Rc,to:"/$locale/apps/derivean/root/building/base/$id/production",params:{locale:r,id:t.id},active:[{to:"/$locale/apps/derivean/root/building/base/$id/production/$productionId/requirement/list"}],children:p.jsx(z,{label:"Base building production (menu)"})}),p.jsx(Mr,{icon:S3,to:"/$locale/apps/derivean/root/building/base/$id/edit",params:{locale:r,id:t.id},children:p.jsx(z,{label:"Base building edit (menu)"})})]})},XU=t=>{const{locale:e}=Br({from:"/$locale"});return p.jsx(_h,{title:({entity:r})=>p.jsx(wh,{icon:to,title:r.name}),actions:()=>p.jsx(sn,{icon:vh,to:"/$locale/apps/derivean/root/building/base/list",params:{locale:e},children:p.jsx(z,{label:"Base building list (label)"})}),...t})},iO=Zt("/$locale/apps/derivean/root/building/base/$id")({async loader({context:{queryClient:t},params:{id:e}}){return Gr.transaction().execute(async r=>({entity:await cy({tx:r,queryClient:t,source:Wn,where:{id:e}})}))},component(){const{tva:t}=zr({from:"__root__"}),{entity:e}=iO.useLoaderData(),r=t().slots;return p.jsxs("div",{className:r.base(),children:[p.jsx(XU,{entity:e}),p.jsx(YU,{entity:e}),p.jsx(Ro,{})]})}}),eV=({entity:t,...e})=>{const{locale:r}=Br({from:"/$locale"});return p.jsxs(cu,{...e,children:[p.jsx(Mr,{icon:to,to:"/$locale/apps/derivean/game/building/base/$id/view",params:{locale:r,id:t.id},children:p.jsx(z,{label:"View detail (menu)"})}),p.jsx(Mr,{icon:Rc,to:"/$locale/apps/derivean/game/building/base/$id/production",params:{locale:r,id:t.id},children:p.jsx(z,{label:"Base building production (menu)"})})]})},tV=t=>{const{locale:e}=Br({from:"/$locale"});return p.jsx(_h,{title:({entity:r})=>p.jsx(wh,{icon:to,title:r.name}),actions:()=>p.jsx(sn,{icon:vh,to:"/$locale/apps/derivean/game/building/base/list",params:{locale:e},children:p.jsx(z,{label:"Base building list (label)"})}),...t})},sO=Zt("/$locale/apps/derivean/game/building/base/$id")({async loader({context:{queryClient:t},params:{id:e}}){return Gr.transaction().execute(async r=>({entity:await cy({tx:r,queryClient:t,source:Wn,where:{id:e}})}))},component(){const{tva:t}=zr({from:"__root__"}),{entity:e}=sO.useLoaderData(),r=t().slots;return p.jsxs("div",{className:r.base(),children:[p.jsx(tV,{entity:e}),p.jsx(eV,{entity:e}),p.jsx(Ro,{})]})}}),rV=Zt("/$locale/apps/derivean/root/user/$id/view/")({component:()=>"yep"}),Gd=Zt("/$locale/apps/derivean/root/user/$id/inventory/")({validateSearch:Sn(Nn(my)),loaderDeps({search:{filter:t,cursor:e,sort:r}}){return{filter:t,cursor:e,sort:r}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n,sort:s},params:{id:o}}){return e.transaction().execute(l=>fn({tx:l,queryClient:t,source:Dn,filter:r,cursor:n,where:{userId:o},sort:s||[{name:"resource",sort:"asc"},{name:"amount",sort:"desc"}]}))},component(){const{data:t,count:e}=Gd.useLoaderData(),{filter:r,cursor:n,selection:s}=Gd.useSearch(),o=Gd.useNavigate(),{id:l}=Gd.useParams(),{tva:u}=zr({from:"__root__"}),d=u().slots;return p.jsx("div",{className:d.base(),children:p.jsx(eO,{userId:l,table:{data:t,filter:{value:r,set:wn(o)},selection:{type:"multi",value:s,set:ci(o)}},fulltext:{value:r?.fulltext,set:xn(o)},cursor:{count:e,cursor:n,textTotal:p.jsx(z,{label:"Number of items"}),..._n(o)}})})}}),nV=Zt("/$locale/apps/derivean/root/resource/$id/view/")({component:()=>p.jsx("div",{children:'Hello "/$locale/apps/derivean/root/resource/$id/view/"!'})}),Dw=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:s=Ts,css:o})=>{const l=Rs({resolver:As(Hc.shape),defaultValues:{cycles:1,...e}}),u=K.useContext(Vi),d=s({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:o}).slots;return p.jsxs("form",{className:d.base(),onSubmit:Po({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:u})}}),children:[p.jsx(cs,{variant:{highlight:!0},error:l.formState.errors.root}),p.jsx(kr,{formState:l.formState,name:"name",label:p.jsx(z,{label:"Base building name (label)"}),required:!0,children:p.jsx("input",{type:"text",className:d.input(),...l.register("name")})}),p.jsx(kr,{formState:l.formState,name:"cycles",label:p.jsx(z,{label:"Base building cycles (label)"}),hint:p.jsx(z,{label:"Base building cycles (hint)"}),required:!0,children:p.jsx("input",{type:"number",className:d.input(),...l.register("cycles")})}),p.jsx("div",{className:"flex flex-row justify-between gap-8",children:p.jsx(bn,{iconEnabled:to,type:"submit",children:p.jsx(z,{label:"Save base building (submit)"})})})]})},_I=Xn(),iV=[_I({name:"name",header(){return p.jsx(z,{label:"Base building name (label)"})},render({data:t,value:e}){const{locale:r}=Br({from:"/$locale"});return p.jsx(sn,{to:"/$locale/apps/derivean/root/building/base/$id/view",params:{locale:r,id:t.id},children:e})},size:10}),_I({name:"cycles",header(){return p.jsx(z,{label:"Base building cycles (label)"})},render({value:t}){return yn({number:t})},size:14})],oO=({table:t,...e})=>{const r=ds({sources:[Wn]});return p.jsx(Zn,{table:Yn({...t,columns:iV}),action:{table(){return p.jsx(vn,{children:p.jsx(Ir,{label:p.jsx(z,{label:"Create base building (menu)"}),textTitle:p.jsx(z,{label:"Create base building (modal)"}),icon:to,children:p.jsx(Dw,{mutation:jo({source:Wn,async wrap(n){return fr.promise(n(),{loading:p.jsx(z,{label:"Saving base building (label)"}),success:p.jsx(z,{label:"Base building successfully saved (label)"}),error:p.jsx(z,{label:"Cannot save base building (label)"})})}}),onSuccess:async({modalContext:n})=>{await r(),n?.close()}})})})},row({data:n}){return p.jsxs(vn,{children:[p.jsx(Ir,{label:p.jsx(z,{label:"Edit base building (menu)"}),textTitle:p.jsx(z,{label:"Edit base building (modal)"}),icon:to,children:p.jsx(Dw,{defaultValues:n,mutation:so({source:Wn,async wrap(s){return fr.promise(s(),{loading:p.jsx(z,{label:"Saving base building (label)"}),success:p.jsx(z,{label:"Base building successfully saved (label)"}),error:p.jsx(z,{label:"Cannot save base building (label)"})})},async toPatch(){return{filter:{id:n.id}}}}),onSuccess:async({modalContext:s})=>{await r(),s?.close()}})}),p.jsx(Ir,{icon:Os,label:p.jsx(z,{label:"Delete base building (label)"}),textTitle:p.jsx(z,{label:"Delete base building (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:p.jsx(io,{source:Wn,textContent:p.jsx(z,{label:"Base building delete (content)"}),filter:{id:n.id},invalidator:r})})]})}},...e})},Cm=Zt("/$locale/apps/derivean/root/building/base/list/")({validateSearch:Sn(Nn(Hc)),loaderDeps({search:{filter:t,cursor:e,sort:r}}){return{filter:t,cursor:e,sort:r}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n,sort:s}}){return e.transaction().execute(async o=>fn({tx:o,queryClient:t,source:Wn,filter:r,cursor:n,sort:s||[{name:"name",sort:"asc"}]}))},component:()=>{const{data:t,count:e}=Cm.useLoaderData(),{filter:r,cursor:n,selection:s}=Cm.useSearch(),o=Cm.useNavigate(),{tva:l}=zr({from:"__root__"}),u=l().slots;return p.jsx("div",{className:u.base(),children:p.jsx(oO,{table:{data:t,filter:{value:r,set:wn(o)},selection:{type:"multi",value:s,set:ci(o)}},fulltext:{value:r?.fulltext,set:xn(o)},cursor:{count:e,cursor:n,textTotal:p.jsx(z,{label:"Number of items"}),..._n(o)}})})}}),sV=t=>p.jsx(PT,{items:[{id:"name",label:p.jsx(z,{label:"Building name (label)"}),render({entity:e}){return e.baseBuilding.name}}],...t}),oV=Zt("/$locale/apps/derivean/root/building/$id/view/")({component(){const{entity:t}=fl({from:"/$locale/apps/derivean/root/building/$id"});return p.jsx("div",{className:"w-1/2 mx-auto",children:p.jsx(sV,{entity:t})})}}),aO=({icon:t,title:e,amount:r})=>p.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[t?ih(t)?p.jsx(wr,{icon:t,css:{base:["text-slate-500"]}}):t:null,p.jsx("div",{className:"text-slate-500",children:e}),p.jsx("div",{className:"font-bold text-slate-700",children:yn({number:r.map(({amount:n})=>n).reduce((n,s)=>n+s,0)})})]}),aV=()=>{const t=ds({sources:[_i,Dn]});return Oo({mutationKey:["useResourcePickupMutation"],async mutationFn({buildingId:e}){return fr.promise(Gr.transaction().execute(async r=>{const n=await xi.getOrThrow$({tx:r,id:e}),s=await _i.list$({tx:r,where:{buildingId:e}});for await(const o of s){try{await Dn.create$({tx:r,shape:{amount:o.amount,resourceId:o.resourceId},entity:{amount:o.amount,resourceId:o.resourceId,userId:n.userId}})}catch{const u=await Dn.fetchOrThrow$({tx:r,where:{userId:n.userId,resourceId:o.resourceId}});await Dn.patch$({tx:r,filter:{id:u.id},shape:{},entity:{amount:u.amount+o.amount}})}await _i.delete$({tx:r,where:{id:o.id}})}}),{loading:_r.text("Transferring resources... (label)"),success:_r.text("Resources transferred successfully (label)"),error:_r.text("Failed to transfer resources (label)")})},async onSuccess(){await t()}})},lV=({source:t,resourceId:e,fallback:r=void 0})=>{const n=t.find(s=>s.resourceId===e);return n===void 0?r:n.limit},lO=({limits:t,resourceId:e,amount:r})=>{const n=lV({source:t,resourceId:e});return p.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[p.jsx("div",{className:"",children:yn({number:r})}),n===void 0?null:p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"text-slate-500",children:"/"}),p.jsx("div",{className:"font-light text-slate-500",children:n})]})]})},j_=Xn(),uV=[j_({name:"building.baseBuilding.name",header(){return p.jsx(z,{label:"Building name (label)"})},render({data:t,value:e}){const{locale:r}=Br({from:"/$locale"});return p.jsx(sn,{to:"/$locale/apps/derivean/game/building/$id/resource/list",params:{locale:r,id:t.buildingId},children:e})},filter:{path:"buildingId",onFilter({data:t,filter:e}){e.shallow("buildingId",t.buildingId)}},size:15}),j_({name:"resource.name",header(){return p.jsx(z,{label:"Resource name (label)"})},render({data:t,value:e}){const{locale:r}=Br({from:"/$locale"});return p.jsx(sn,{to:"/$locale/apps/derivean/game/inventory",params:{locale:r},search:{filter:{resourceId:t.resourceId}},children:e})},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceId",t.resourceId)}},size:18}),j_({name:"amount",header(){return p.jsx(z,{label:"Amount (label)"})},render({data:t,value:e}){return p.jsx(lO,{limits:t.building.baseBuilding.limits,resourceId:t.resourceId,amount:e})},size:18})],uO=({buildingId:t,table:e,...r})=>p.jsx(Zn,{table:Yn({...e,hidden:t?["building.baseBuilding.name"]:[],columns:uV}),action:{table:t?()=>{const n=aV();return p.jsx(vn,{children:p.jsx(EB,{icon:Or,onClick:()=>{n.mutate({buildingId:t})},children:p.jsx(z,{label:"Pickup resources (label)"})})})}:void 0,row({data:n}){return p.jsx(vn,{children:p.jsx(Ir,{icon:Os,label:p.jsx(z,{label:"Delete resource item (label)"}),textTitle:p.jsx(z,{label:"Delete resource item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:p.jsx(io,{source:_i,textContent:p.jsx(z,{label:"Resource item delete user (content)"}),filter:{id:n.id}})})})}},...r}),Tm=Zt("/$locale/apps/derivean/game/building/resource/list/")({validateSearch:Sn(Nn(Kc)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e,session:r},deps:{filter:n,cursor:s}}){const o=await r();return e.transaction().execute(async l=>fn({tx:l,queryClient:t,source:_i,filter:n,cursor:s,where:{userId:o.id}}))},component(){const{data:t,count:e}=Tm.useLoaderData(),{filter:r,cursor:n,selection:s}=Tm.useSearch(),o=Tm.useNavigate(),{tva:l}=zr({from:"__root__"}),u=l().slots;return p.jsxs("div",{className:u.base(),children:[p.jsx(aO,{icon:Or,title:p.jsx(z,{label:"Resource sum (label)"}),amount:t}),p.jsx(uO,{table:{data:t,filter:{value:r,set:wn(o)},selection:{type:"multi",value:s,set:ci(o)}},fulltext:{value:r?.fulltext,set:xn(o)},cursor:{count:e,cursor:n,textTotal:p.jsx(z,{label:"Number of items"}),..._n(o)}})]})}}),cV=({baseBuildingId:t,userId:e})=>Uw({queryKey:["useBuildingCount",t,e],async queryFn(){return Gr.transaction().execute(async r=>{const{filter:n}=await xi.count$({tx:r,filter:{baseBuildingId:t,userId:e}}),{filter:s}=await sa.count$({tx:r,filter:{baseBuildingId:t,userId:e}});return{count:n,queue:s,total:n+s}})}}),Gf=({inventory:t,requirements:e})=>{const r=[];for(const n of e){const s=t.find(o=>o.resourceId===n.resourceId);s?s.amount<n.amount&&r.push({...n,amount:n.amount-s.amount}):r.push(n)}return r.length?{check:!1,missing:r}:{check:!0,missing:r}},dV=async({tx:t,userId:e,baseBuildingId:r,bypass:n=!1})=>{const s=await Wn.getOrThrow$({tx:t,id:r});if(!n&&!Gf({requirements:s.requirements,inventory:await Dn.list$({tx:t,where:{userId:e}})}).check)throw new Error(_r.text("Not enough resources to construct the building."));for await(const u of s.requirements){if(u.passive)continue;const d=await Dn.fetchOrThrow$({tx:t,where:{userId:e,resourceId:u.resourceId}});await Dn.patch$({tx:t,entity:{amount:d.amount-u.amount},shape:{amount:d.amount-u.amount},where:{userId:e,resourceId:u.resourceId}})}const{filter:o}=await Hl.count$({tx:t,where:{userId:e}}),l={userId:e,baseBuildingId:s.id,start:o,current:0,finish:o+s.cycles};await sa.create$({tx:t,shape:l,entity:l})},fV=({userId:t})=>{const e=ds({sources:[sa,xi,Wn,Dn],queries:[["useBuildingCount"]]});return Oo({mutationKey:["useConstructMutation"],async mutationFn({baseBuildingId:r}){return Gr.transaction().execute(async n=>fr.promise(dV({tx:n,baseBuildingId:r,userId:t}),{success:_r.text("Building queued."),error:_r.text("Failed to queue building."),loading:_r.text("Queuing building...")}))},async onSuccess(){await e()}})},hV=hr({slot:{item:["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2"]},variant:{passive:{true:[]},missing:{true:[]}},match:[{if:{passive:!0},then:{item:["bg-purple-100","border-purple-300","text-purple-500"]}},{if:{passive:!1},then:{item:["bg-sky-100","border-sky-300","text-sky-500"]}},{if:{missing:!0},then:{item:["bg-amber-100","border-amber-300"]}}],defaults:{passive:!1,missing:!1}}),vy=({resources:t,diff:e,variant:r,tva:n=hV,css:s,...o})=>{const l=n({...r,css:s}).slots;return p.jsx(yz,{items:t,render:({entity:u})=>{const d=e?.find(m=>m.resourceId===u.resourceId);return p.jsxs("div",{className:l.item({passive:u.passive}),children:[p.jsx("div",{children:u.resource.name}),p.jsxs("div",{className:"text-md font-bold text-slate-500",children:["x",yn({number:u.amount})]}),d?p.jsx(p.Fragment,{children:d.amount>0?p.jsxs("div",{className:"text-sm text-red-500",children:["(-",yn({number:d.amount}),")"]}):p.jsx(wr,{icon:"icon-[charm--cross]",css:{base:["text-red-500"]}})}):e?p.jsx(wr,{icon:"icon-[pajamas--check-sm]",css:{base:["text-emerald-600"]}}):null]})},...o})},F_=Xn(),pV=[F_({name:"name",header(){return p.jsx(z,{label:"Base building name (label)"})},render({data:t,value:e,context:{inventory:r,userId:n}}){const{locale:s}=Br({from:"/$locale"}),o=fV({userId:n}),l=cV({baseBuildingId:t.id,userId:n}),{check:u}=Gf({inventory:r,requirements:t.requirements}),d=u;return p.jsxs("div",{className:zg(["w-full","flex","gap-2","items-center"]),children:[p.jsx(bn,{iconEnabled:ro,iconDisabled:ro,variant:{variant:!d||l.isLoading?"subtle":"primary"},onClick:()=>{o.mutate({baseBuildingId:t.id})},disabled:!d,loading:o.isPending||l.isLoading}),p.jsx(sn,{to:"/$locale/apps/derivean/game/building/base/$id/view",params:{locale:s,id:t.id},children:e})]})},size:10}),F_({name:"cycles",header(){return p.jsx(z,{label:"Base building cycles (label)"})},render({value:t}){return yn({number:t})},size:14}),F_({name:"requirements",header(){return p.jsx(z,{label:"Required resources (label)"})},render({value:t,context:{inventory:e}}){const{missing:r}=Gf({inventory:e,requirements:t});return p.jsx(vy,{textTitle:p.jsx(z,{label:"Building requirements (title)"}),resources:t,diff:r,limit:5})},size:72})],mV=({userId:t,inventory:e,table:r,...n})=>p.jsx(Zn,{table:Yn({...r,columns:pV,context:{userId:t,inventory:e}}),...n}),Om=Zt("/$locale/apps/derivean/game/building/base/list/")({validateSearch:Sn(Nn(Hc)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n}}){return e.transaction().execute(async s=>fn({tx:s,queryClient:t,source:Wn,filter:r,cursor:n}))},component(){const{data:t,count:e}=Om.useLoaderData(),{filter:r,cursor:n}=Om.useSearch(),s=Om.useNavigate(),{tva:o}=zr({from:"__root__"}),l=o().slots,{inventory:u,session:d}=fl({from:"/$locale/apps/derivean/game"});return p.jsx("div",{className:l.base(),children:p.jsx(mV,{userId:d.id,inventory:u,table:{data:t,filter:{value:r,set:wn(s)}},fulltext:{value:r?.fulltext,set:xn(s)},cursor:{count:e,cursor:n,textTotal:p.jsx(z,{label:"Number of items"}),..._n(s)}})})}}),gV=Zt("/$locale/apps/derivean/game/building/$id/view/")({component(){return"detail"}}),wI=Ni.merge(se.object({baseBuildingId:se.string().min(1),resourceId:se.string().min(1),amount:se.number().nonnegative(),cycles:se.number().nonnegative(),limit:se.number().nonnegative()})),Sh=Ii({entity:wI,output:wI.merge(se.object({resource:Fo.output,requirements:se.array(se.any())})),shape:se.object({resourceId:se.string().min(1),amount:se.union([se.number().positive(),se.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:_r.text("Amount must be a number")})]),cycles:se.union([se.number().positive(),se.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:_r.text("Cycles must be a number")})]),limit:se.union([se.number().positive(),se.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:_r.text("Limit must be a number")})])}),filter:Ei.merge(se.object({baseBuildingId:se.string().optional(),resourceId:se.string().optional()})),sort:["name","resource"]}),xI=Ni.merge(se.object({baseBuildingProductionId:se.string().min(1),resourceId:se.string().min(1),amount:se.number().nonnegative(),passive:se.union([se.boolean(),se.number().int().refine(t=>t===0||t===1).transform(t=>typeof t=="boolean"?t:t===1)])})),sx=Ii({entity:xI,output:xI.merge(se.object({resource:Fo.output})),shape:se.object({resourceId:se.string().min(1),amount:se.union([se.number().nonnegative(),se.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:_r.text("Amount must be a number")})]),passive:se.boolean()}),filter:Ei.merge(se.object({baseBuildingProductionId:se.string().optional(),resourceId:se.string().optional(),passive:se.boolean().optional()})),sort:["resource"]}),sc=ki({name:"BaseBuildingProductionRequirementSource",schema:sx,db:Gr,select$({tx:t,where:e,filter:r,sort:n,cursor:s={page:0,size:10},use:o}){let l=t.selectFrom("BaseBuildingProductionRequirement as bbpr").selectAll("bbpr").leftJoin("Resource as r","r.id","bbpr.resourceId");const u={resource:"r.name"};n?.forEach(({name:y,sort:w})=>{l=l.orderBy(u[y],w)});const d=y=>{const w=`%${y}%`;return l.where(E=>E.or([E("bbpr.id","like",w),E("r.id","like",w),E("r.name","like",w)]))},m=y=>{y?.id&&(l=l.where("bbpr.id","=",y.id)),y?.idIn&&(l=l.where("bbpr.id","in",y.idIn)),y?.resourceId&&(l=l.where("bbpr.resourceId","=",y.resourceId)),y?.baseBuildingProductionId&&(l=l.where("bbpr.baseBuildingProductionId","=",y.baseBuildingProductionId)),y?.fulltext&&(l=d(y.fulltext))};return o.includes("filter")&&m(r||{}),o.includes("where")&&m(e||{}),o.includes("cursor")&&(l=l.limit(s.size).offset(s.page*s.size)),l},create$({tx:t}){return t.insertInto("BaseBuildingProductionRequirement")},patch$({tx:t}){return t.updateTable("BaseBuildingProductionRequirement")},delete$({tx:t}){return t.deleteFrom("BaseBuildingProductionRequirement")},map:{async toOutput({tx:t,entity:e}){return{...e,resource:await bi.getOrThrow$({tx:t,id:e.resourceId})}}}}),xo=ki({name:"BaseBuildingProductionSource",schema:Sh,db:Gr,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:s}){let o=t.selectFrom("BaseBuildingProduction as bbp").selectAll("bbp").leftJoin("BaseBuilding as bb","bb.id","bbp.baseBuildingId").leftJoin("Resource as r","r.id","bbp.resourceId");const l=d=>{const m=`%${d}%`;return o.where(y=>y.or([y("bbp.id","like",m),y("bb.id","like",m),y("r.id","like",m),y("bb.name","like",m),y("r.name","like",m)]))},u=d=>{d?.id&&(o=o.where("bbp.id","=",d.id)),d?.idIn&&(o=o.where("bbp.id","in",d.idIn)),d?.baseBuildingId&&(o=o.where("bbp.baseBuildingId","=",d.baseBuildingId)),d?.resourceId&&(o=o.where("bbp.resourceId","=",d.resourceId)),d?.fulltext&&(o=l(d.fulltext))};return s.includes("filter")&&u(r||{}),s.includes("where")&&u(e||{}),s.includes("cursor")&&(o=o.limit(n.size).offset(n.page*n.size)),o},create$({tx:t}){return t.insertInto("BaseBuildingProduction")},patch$({tx:t}){return t.updateTable("BaseBuildingProduction")},delete$({tx:t}){return t.deleteFrom("BaseBuildingProduction")},map:{async toOutput({tx:t,entity:e}){return{...e,resource:await bi.getOrThrow$({tx:t,id:e.resourceId}),requirements:await sc.list$({tx:t,where:{baseBuildingProductionId:e.id}})}}}}),yV=()=>{const t=ds({sources:[xo,vo,Dn]});return Oo({mutationKey:["useProductionMutation"],async mutationFn({baseBuildingProductionId:e,buildingId:r,userId:n}){return fr.promise(Gr.transaction().execute(async s=>{const o=await xo.getOrThrow$({tx:s,id:e,error:"Cannot find base building production"});for await(const d of o.requirements){if(d.passive)continue;const m=await Dn.fetchOrThrow$({tx:s,where:{userId:n,resourceId:d.resourceId}});await Dn.patch$({tx:s,entity:{amount:m.amount-d.amount},shape:{amount:m.amount-d.amount},where:{userId:n,resourceId:d.resourceId}})}const{filter:l}=await Hl.count$({tx:s,where:{userId:n}}),u={baseBuildingProductionId:e,buildingId:r,amount:o.amount,resourceId:o.resourceId,start:l,current:0,finish:l+o.cycles};await vo.create$({tx:s,shape:u,entity:u})}),{loading:_r.text("Queuing production... (label)"),error:_r.text("Failed to queue production. (label)"),success:_r.text("Production queued. (label)")})},async onSuccess(){await t()}})},Yp=Xn(),vV=[Yp({name:"resource.name",header(){return p.jsx(z,{label:"Resource name (label)"})},render({data:t,value:e,context:{inventory:r,buildingId:n,userId:s}}){const o=yV(),{check:l}=Gf({inventory:r,requirements:t.requirements}),u=I3({source:vo,filter:{baseBuildingProductionId:t.id}}),d=l&&u.isSuccess?u.data.filter<t.limit:!1;return p.jsx(bn,{iconEnabled:Rc,iconDisabled:Rc,variant:{variant:d?"primary":"subtle"},onClick:()=>{o.mutate({baseBuildingProductionId:t.id,buildingId:n,userId:s})},disabled:!d,loading:o.isPending||u.isLoading,css:{base:["w-full"]},children:e})},size:18}),Yp({name:"amount",header(){return p.jsx(z,{label:"Amount (label)"})},render({value:t}){return yn({number:t})},size:14}),Yp({name:"cycles",header(){return p.jsx(z,{label:"Cycle count (label)"})},render({value:t}){return yn({number:t})},size:14}),Yp({name:"requirements",header(){return p.jsx(z,{label:"Required resources (label)"})},render({value:t,context:{inventory:e}}){const{missing:r}=Gf({inventory:e,requirements:t});return p.jsx(vy,{textTitle:p.jsx(z,{label:"Resource requirements (title)"}),resources:t,diff:r,limit:5})}})],bV=({table:t,inventory:e,buildingId:r,userId:n,...s})=>p.jsx(Zn,{table:Yn({...t,columns:vV,context:{inventory:e,buildingId:r,userId:n}}),...s}),Jd=Zt("/$locale/apps/derivean/game/building/$id/production/")({validateSearch:Sn(Nn(Sh)),loaderDeps({search:{filter:t,cursor:e,sort:r}}){return{filter:t,cursor:e,sort:r}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n,sort:s},params:{id:o}}){return e.transaction().execute(async l=>{const u=await xi.getOrThrow$({tx:l,id:o});return fn({tx:l,queryClient:t,source:xo,filter:r,cursor:n,sort:s,where:{baseBuildingId:u.baseBuildingId}})})},component(){const{data:t,count:e}=Jd.useLoaderData(),{filter:r,cursor:n}=Jd.useSearch(),{id:s}=Jd.useParams(),o=Jd.useNavigate(),{tva:l}=zr({from:"__root__"}),u=l().slots,{inventory:d,session:m}=fl({from:"/$locale/apps/derivean/game"});return p.jsx("div",{className:u.base(),children:p.jsx(bV,{buildingId:s,userId:m.id,inventory:d,table:{data:t,filter:{value:r,set:wn(o)}},fulltext:{value:r?.fulltext,set:xn(o)},cursor:{count:e,cursor:n,textTotal:p.jsx(z,{label:"Number of items"}),..._n(o)}})})}}),Vu=Xn(),_V=[Vu({name:"building.baseBuilding.name",header(){return p.jsx(z,{label:"Base building name (label)"})},render({data:t,value:e}){const{locale:r}=Br({from:"/$locale"});return p.jsx(sn,{to:"/$locale/apps/derivean/game/building/$id/production/queue",params:{locale:r,id:t.buildingId},children:e})},size:14}),Vu({name:"resource.name",header(){return p.jsx(z,{label:"Resource name (label)"})},render({data:t,value:e}){const{locale:r}=Br({from:"/$locale"});return p.jsx(sn,{to:"/$locale/apps/derivean/game/inventory",params:{locale:r},search:{filter:{resourceId:t.resourceId}},children:e})},size:14}),Vu({name:"amount",header(){return p.jsx(z,{label:"Amount (label)"})},render({value:t}){return yn({number:t})},size:12}),Vu({name:"current",header(){return p.jsx(z,{label:"Cycle - current (label)"})},render({data:t,value:e}){return p.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[p.jsx("div",{className:"font-bold",children:yn({number:e})}),"/",p.jsx("div",{className:"text-sm text-slate-600",children:yn({number:t.finish-t.start})})]})},size:10}),Vu({name:"start",header(){return p.jsx(z,{label:"Cycle - started (label)"})},render({value:t}){return yn({number:t})},size:10}),Vu({name:"finish",header(){return p.jsx(z,{label:"Cycle - finish (label)"})},render({value:t}){return yn({number:t})},size:10})],cO=({table:t,...e})=>p.jsx(Zn,{table:Yn({...t,columns:_V}),...e}),Rm=Zt("/$locale/apps/derivean/game/building/$id/production/queue")({validateSearch:Sn(Nn(Y0)),loaderDeps({search:{filter:t,cursor:e,sort:r}}){return{filter:t,cursor:e,sort:r}},async loader({context:{queryClient:t,kysely:e,session:r},deps:{filter:n,cursor:s,sort:o},params:{id:l}}){const u=await r();return e.transaction().execute(async d=>fn({tx:d,queryClient:t,source:vo,filter:n,cursor:s,sort:o,where:{userId:u.id,buildingId:l}}))},component(){const{data:t,count:e}=Rm.useLoaderData(),{filter:r,cursor:n}=Rm.useSearch(),s=Rm.useNavigate(),{tva:o}=zr({from:"__root__"}),l=o().slots;return p.jsx("div",{className:l.base(),children:p.jsx(cO,{table:{data:t,filter:{value:r,set:wn(s)},hidden:["building.baseBuilding.name"]},fulltext:{value:r?.fulltext,set:xn(s)},cursor:{count:e,cursor:n,textTotal:p.jsx(z,{label:"Number of items"}),..._n(s)}})})}}),wV=t=>p.jsx(k3,{icon:to,titleText:p.jsx(z,{label:"Select base building (title)"}),table:oO,render:({entity:e})=>e.name,source:Wn,useListQuery:G0,...t}),SI=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:s=Ts,css:o})=>{const l=Rs({resolver:As(Qc.shape),defaultValues:e}),u=K.useContext(Vi),d=s({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:o}).slots;return p.jsxs("form",{className:d.base(),onSubmit:Po({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:u})}}),children:[p.jsx(cs,{variant:{highlight:!0},error:l.formState.errors.root}),p.jsx(kr,{formState:l.formState,name:"baseBuildingId",label:p.jsx(z,{label:"Base building name (label)"}),children:p.jsx(To,{control:l.control,name:"baseBuildingId",render:({field:{ref:m,...y}})=>p.jsx(wV,{icon:to,titleText:p.jsx(z,{label:"Select base building (title)"}),allowEmpty:!0,...y})})}),p.jsx("div",{className:"flex flex-row justify-between gap-8",children:p.jsx(bn,{iconEnabled:Or,type:"submit",children:p.jsx(z,{label:"Save Building (submit)"})})})]})},xV=Xn(),SV=[xV({name:"baseBuilding.name",header(){return p.jsx(z,{label:"Base building name (label)"})},render({data:t,value:e}){const{locale:r}=Br({from:"/$locale"});return p.jsx(sn,{to:"/$locale/apps/derivean/root/building/$id/view",params:{locale:r,id:t.id},children:e})},size:14})],NV=({userId:t,table:e,...r})=>p.jsx(Zn,{table:Yn({...e,columns:SV}),action:{table(){return p.jsx(vn,{children:p.jsx(Ir,{label:p.jsx(z,{label:"Create building (menu)"}),textTitle:p.jsx(z,{label:"Create building (modal)"}),icon:Or,children:p.jsx(SI,{mutation:jo({source:xi,async wrap(n){return fr.promise(n(),{loading:p.jsx(z,{label:"Saving building (label)"}),success:p.jsx(z,{label:"Building successfully saved (label)"}),error:p.jsx(z,{label:"Cannot save building (label)"})})},async toCreate({shape:n}){return{entity:{...n,userId:t}}}}),onSuccess:async({modalContext:n})=>{n?.close()}})})})},row({data:n}){return p.jsxs(vn,{children:[p.jsx(Ir,{label:p.jsx(z,{label:"Edit building (menu)"}),textTitle:p.jsx(z,{label:"Edit building (modal)"}),icon:ro,children:p.jsx(SI,{defaultValues:n,mutation:so({source:xi,async wrap(s){return fr.promise(s(),{loading:p.jsx(z,{label:"Saving building (label)"}),success:p.jsx(z,{label:"Building successfully saved (label)"}),error:p.jsx(z,{label:"Cannot save building (label)"})})},async toPatch(){return{filter:{id:n.id}}}}),onSuccess:async({modalContext:s})=>{s?.close()}})}),p.jsx(Ir,{icon:Os,label:p.jsx(z,{label:"Delete building (label)"}),textTitle:p.jsx(z,{label:"Delete building (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:p.jsx(io,{source:xi,textContent:p.jsx(z,{label:"Building delete (content)"}),filter:{id:n.id}})})]})}},...r}),Zd=Zt("/$locale/apps/derivean/root/user/$id/building/list/")({validateSearch:Sn(Nn(Qc)),loaderDeps({search:{filter:t,cursor:e,sort:r}}){return{filter:t,cursor:e,sort:r}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n,sort:s},params:{id:o}}){return e.transaction().execute(l=>fn({tx:l,queryClient:t,source:xi,filter:r,cursor:n,sort:s,where:{userId:o}}))},component(){const{data:t,count:e}=Zd.useLoaderData(),{filter:r,cursor:n,selection:s}=Zd.useSearch(),{id:o}=Zd.useParams(),l=Zd.useNavigate(),{tva:u}=zr({from:"__root__"}),d=u().slots;return p.jsx("div",{className:d.base(),children:p.jsx(NV,{userId:o,table:{data:t,filter:{value:r,set:wn(l)},selection:{type:"multi",value:s,set:ci(l)}},fulltext:{value:r?.fulltext,set:xn(l)},cursor:{count:e,cursor:n,textTotal:p.jsx(z,{label:"Number of items"}),..._n(l)}})})}}),EV=t=>p.jsx(PT,{items:[{id:"name",label:p.jsx(z,{label:"Base building name (label)"}),render({entity:e}){return e.name}},{id:"cycles",label:p.jsx(z,{label:"Base building cycles (label)"}),render({entity:e}){return e.cycles}},{id:"requirement.resources",label:p.jsx(z,{label:"Base building requirements (label)"}),render({entity:e}){return p.jsx(vy,{resources:e.requirements,limit:5})}}],...t}),kV=Zt("/$locale/apps/derivean/root/building/base/$id/view/")({component:()=>{const{entity:t}=fl({from:"/$locale/apps/derivean/root/building/base/$id"});return p.jsx("div",{className:"w-1/2 mx-auto",children:p.jsx(EV,{entity:t})})}}),NI=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:s=Ts,css:o})=>{const l=Rs({resolver:As(Sh.shape),defaultValues:{amount:1,cycles:1,limit:1,...e}}),u=K.useContext(Vi),d=s({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:o}).slots;return p.jsxs("form",{className:d.base(),onSubmit:Po({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:u})}}),children:[p.jsx(cs,{variant:{highlight:!0},error:l.formState.errors.root}),p.jsx(kr,{formState:l.formState,name:"resourceId",label:p.jsx(z,{label:"Resource name (label)"}),children:p.jsx(To,{control:l.control,name:"resourceId",render:({field:{ref:m,...y}})=>p.jsx(Gc,{...y})})}),p.jsx(kr,{formState:l.formState,name:"amount",label:p.jsx(z,{label:"Amount (label)"}),children:p.jsx("input",{type:"number",className:d.input(),...l.register("amount")})}),p.jsx(kr,{formState:l.formState,name:"limit",label:p.jsx(z,{label:"Production limit (label)"}),children:p.jsx("input",{type:"number",className:d.input(),...l.register("limit")})}),p.jsx(kr,{formState:l.formState,name:"cycles",label:p.jsx(z,{label:"Cycle count (label)"}),hint:p.jsx(z,{label:"Cycle count (hint)"}),children:p.jsx("input",{type:"number",className:d.input(),...l.register("cycles")})}),p.jsx("div",{className:"flex flex-row justify-between gap-8",children:p.jsx(bn,{iconEnabled:Or,type:"submit",children:p.jsx(z,{label:"Save resource production (submit)"})})})]})},Xp=Xn(),IV=[Xp({name:"resource.name",header(){return p.jsx(z,{label:"Resource name (label)"})},render({data:t,value:e}){const{locale:r}=Br({from:"/$locale"});return p.jsx(sn,{to:"/$locale/apps/derivean/root/building/base/$id/production/$productionId/requirement/list",params:{locale:r,id:t.baseBuildingId,productionId:t.id},children:e})},size:18}),Xp({name:"amount",header(){return p.jsx(z,{label:"Amount (label)"})},render({value:t}){return yn({number:t})},size:14}),Xp({name:"cycles",header(){return p.jsx(z,{label:"Cycle count (label)"})},render({value:t}){return yn({number:t})},size:14}),Xp({name:"requirements",header(){return p.jsx(z,{label:"Resource requirements (label)"})},render({value:t}){return p.jsx(vy,{resources:t})}})],dO=({baseBuildingId:t,table:e,...r})=>{const n=ds({sources:[Wn,xo]});return p.jsx(Zn,{table:Yn({...e,columns:IV}),action:{table(){return p.jsx(vn,{children:p.jsx(Ir,{label:p.jsx(z,{label:"Create production resource (menu)"}),textTitle:p.jsx(z,{label:"Create production resource (modal)"}),icon:Or,children:p.jsx(NI,{mutation:jo({source:xo,async wrap(s){return fr.promise(s(),{loading:p.jsx(z,{label:"Saving production resource (label)"}),success:p.jsx(z,{label:"Production resource successfully saved (label)"}),error:p.jsx(z,{label:"Cannot save production resource (label)"})})},async toCreate({shape:s}){return{entity:{...s,baseBuildingId:t}}}}),onSuccess:async({modalContext:s})=>{await n(),s?.close()}})})})},row({data:s}){return p.jsxs(vn,{children:[p.jsx(Ir,{label:p.jsx(z,{label:"Edit production resource (menu)"}),textTitle:p.jsx(z,{label:"Edit production resource (modal)"}),icon:S3,children:p.jsx(NI,{defaultValues:s,mutation:so({source:xo,async wrap(o){return fr.promise(o(),{loading:p.jsx(z,{label:"Saving production resource (label)"}),success:p.jsx(z,{label:"Production resource successfully saved (label)"}),error:p.jsx(z,{label:"Cannot save production resource (label)"})})},async toPatch({shape:o}){return{entity:{...o,baseBuildingId:t},filter:{id:s.id}}}}),onSuccess:async({modalContext:o})=>{await n(),o?.close()}})}),p.jsx(Ir,{icon:Os,label:p.jsx(z,{label:"Delete production resource (label)"}),textTitle:p.jsx(z,{label:"Delete production resource (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:p.jsx(io,{source:xo,textContent:p.jsx(z,{label:"Production resource delete (content)"}),filter:{id:s.id},invalidator:n})})]})}},...r})},Yd=Zt("/$locale/apps/derivean/root/building/base/$id/production/")({validateSearch:Sn(Nn(Sh)),loaderDeps({search:{filter:t,cursor:e,sort:r}}){return{filter:t,cursor:e,sort:r}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n,sort:s},params:{id:o}}){return e.transaction().execute(async l=>fn({tx:l,queryClient:t,source:xo,filter:r,cursor:n,sort:s,where:{baseBuildingId:o}}))},component:()=>{const{data:t,count:e}=Yd.useLoaderData(),{filter:r,cursor:n,selection:s}=Yd.useSearch(),{id:o}=Yd.useParams(),l=Yd.useNavigate(),{tva:u}=zr({from:"__root__"}),d=u().slots;return p.jsx("div",{className:d.base(),children:p.jsx(dO,{baseBuildingId:o,table:{data:t,filter:{value:r,set:wn(l)},selection:{type:"multi",value:s,set:ci(l)}},fulltext:{value:r?.fulltext,set:xn(l)},cursor:{count:e,cursor:n,textTotal:p.jsx(z,{label:"Number of items"}),..._n(l)}})})}}),fO=Zt("/$locale/apps/derivean/root/building/base/$id/edit/")({component:()=>{const{entity:t}=fl({from:"/$locale/apps/derivean/root/building/base/$id"}),e=fO.useNavigate(),r=ds({sources:[Wn]});return p.jsx("div",{className:"w-1/2 mx-auto",children:p.jsx(Dw,{defaultValues:t,mutation:so({source:Wn,async wrap(n){return fr.promise(n(),{loading:p.jsx(z,{label:"Saving base building (label)"}),success:p.jsx(z,{label:"Base building successfully saved (label)"}),error:p.jsx(z,{label:"Cannot save base building (label)"})})},async toPatch(){return{filter:{id:t.id}}}}),onSuccess:async()=>{await r(),e({to:"/$locale/apps/derivean/root/building/base/$id/view",params:{id:t.id}})}})})}}),EI=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:s=Ts,css:o})=>{const l=Rs({resolver:As(Kc.shape),defaultValues:e}),u=K.useContext(Vi),d=s({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:o}).slots;return p.jsxs("form",{className:d.base(),onSubmit:Po({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:u})}}),children:[p.jsx(cs,{variant:{highlight:!0},error:l.formState.errors.root}),p.jsx(kr,{formState:l.formState,name:"resourceId",label:p.jsx(z,{label:"Resource name (label)"}),children:p.jsx(To,{control:l.control,name:"resourceId",render:({field:{ref:m,...y}})=>p.jsx(Gc,{icon:Or,titleText:p.jsx(z,{label:"Select resource (title)"}),allowEmpty:!0,...y})})}),p.jsx(kr,{formState:l.formState,name:"amount",label:p.jsx(z,{label:"Amount (label)"}),children:p.jsx("input",{type:"number",className:d.input(),...l.register("amount")})}),p.jsx("div",{className:"flex flex-row justify-between gap-8",children:p.jsx(bn,{iconEnabled:Or,type:"submit",children:p.jsx(z,{label:"Save resources item (submit)"})})})]})},L_=Xn(),qV=[L_({name:"building.baseBuilding.name",header(){return p.jsx(z,{label:"Building name (label)"})},render({value:t}){return t},filter:{path:"buildingId",onFilter({data:t,filter:e}){e.shallow("buildingId",t.buildingId)}},size:15}),L_({name:"resource.name",header(){return p.jsx(z,{label:"Resource name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceId",t.resourceId)}},size:18}),L_({name:"amount",header(){return p.jsx(z,{label:"Amount (label)"})},render({data:t,value:e}){return p.jsx(lO,{limits:t.building.baseBuilding.limits,resourceId:t.resourceId,amount:e})},size:18})],hO=({buildingId:t,table:e,...r})=>p.jsx(Zn,{table:Yn({...e,columns:qV}),action:{table(){return p.jsx(vn,{children:p.jsx(Ir,{label:p.jsx(z,{label:"Create resource item (menu)"}),textTitle:p.jsx(z,{label:"Create resource item (modal)"}),icon:Or,hidden:!t,children:p.jsx(EI,{mutation:jo({source:_i,async wrap(n){return fr.promise(n(),{loading:p.jsx(z,{label:"Saving resource item (label)"}),success:p.jsx(z,{label:"Resource item successfully saved (label)"}),error:p.jsx(z,{label:"Cannot save resource item (label)"})})},async toCreate({shape:n}){return{entity:{...n,buildingId:t}}}}),onSuccess:async({modalContext:n})=>{n?.close()}})})})},row({data:n}){return p.jsxs(vn,{children:[p.jsx(Ir,{label:p.jsx(z,{label:"Edit resource item (menu)"}),textTitle:p.jsx(z,{label:"Edit resource item (modal)"}),icon:Or,children:p.jsx(EI,{defaultValues:n,mutation:so({source:_i,async wrap(s){return fr.promise(s(),{loading:p.jsx(z,{label:"Saving resource item (label)"}),success:p.jsx(z,{label:"Resource item successfully saved (label)"}),error:p.jsx(z,{label:"Cannot save resource item (label)"})})},async toPatch(){return{filter:{id:n.id}}}}),onSuccess:async({modalContext:s})=>{s?.close()}})}),p.jsx(Ir,{icon:Os,label:p.jsx(z,{label:"Delete resource item (label)"}),textTitle:p.jsx(z,{label:"Delete resource item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:p.jsx(io,{source:_i,textContent:p.jsx(z,{label:"Resource item delete (content)"}),filter:{id:n.id}})})]})}},...r}),Xd=Zt("/$locale/apps/derivean/root/building/$id/resource/list/")({validateSearch:Sn(Nn(Kc)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n},params:{id:s}}){return e.transaction().execute(o=>fn({tx:o,queryClient:t,source:_i,filter:r,cursor:n,where:{buildingId:s}}))},component(){const{data:t,count:e}=Xd.useLoaderData(),{filter:r,cursor:n,selection:s}=Xd.useSearch(),{id:o}=Xd.useParams(),l=Xd.useNavigate(),{tva:u}=zr({from:"__root__"}),d=u().slots;return p.jsx("div",{className:d.base(),children:p.jsx(hO,{buildingId:o,table:{data:t,filter:{value:r,set:wn(l)},selection:{type:"multi",value:s,set:ci(l)}},fulltext:{value:r?.fulltext,set:xn(l)},cursor:{count:e,cursor:n,textTotal:p.jsx(z,{label:"Number of items"}),..._n(l)}})})}}),Am=Zt("/$locale/apps/derivean/game/building/queue/production/list/")({validateSearch:Sn(Nn(Y0)),loaderDeps({search:{filter:t,cursor:e,sort:r}}){return{filter:t,cursor:e,sort:r}},async loader({context:{queryClient:t,kysely:e,session:r},deps:{filter:n,cursor:s,sort:o}}){const l=await r();return e.transaction().execute(async u=>fn({tx:u,queryClient:t,source:vo,filter:n,cursor:s,sort:o,where:{userId:l.id}}))},component(){const{data:t,count:e}=Am.useLoaderData(),{filter:r,cursor:n}=Am.useSearch(),s=Am.useNavigate(),{tva:o}=zr({from:"__root__"}),l=o().slots;return p.jsx("div",{className:l.base(),children:p.jsx(cO,{table:{data:t,filter:{value:r,set:wn(s)}},fulltext:{value:r?.fulltext,set:xn(s)},cursor:{count:e,cursor:n,textTotal:p.jsx(z,{label:"Number of items"}),..._n(s)}})})}}),em=Xn(),CV=[em({name:"baseBuilding.name",header(){return p.jsx(z,{label:"Base building name (label)"})},render({value:t}){return t},size:10}),em({name:"current",header(){return p.jsx(z,{label:"Building queue - current (label)"})},render({data:t,value:e}){return p.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[p.jsx("div",{className:"font-bold",children:yn({number:e})}),"/",p.jsx("div",{className:"text-sm text-slate-600",children:t.baseBuilding.cycles})]})},size:10}),em({name:"start",header(){return p.jsx(z,{label:"Building queue - started (label)"})},render({value:t}){return yn({number:t})},size:10}),em({name:"finish",header(){return p.jsx(z,{label:"Building queue - finish (label)"})},render({value:t}){return yn({number:t})},size:10})],TV=({table:t,...e})=>p.jsx(Zn,{table:Yn({...t,columns:CV}),...e}),Pm=Zt("/$locale/apps/derivean/game/building/queue/construction/list/")({validateSearch:Sn(Nn(A3)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e,session:r},deps:{filter:n,cursor:s}}){const o=await r();return e.transaction().execute(l=>fn({tx:l,queryClient:t,source:sa,filter:n,cursor:s,where:{userId:o.id}}))},component(){const{data:t,count:e}=Pm.useLoaderData(),{filter:r,cursor:n,selection:s}=Pm.useSearch(),o=Pm.useNavigate(),{tva:l}=zr({from:"__root__"}),u=l().slots;return p.jsx("div",{className:u.base(),children:p.jsx(TV,{table:{data:t,filter:{value:r,set:wn(o)},selection:{type:"multi",value:s,set:ci(o)}},fulltext:{value:r?.fulltext,set:xn(o)},cursor:{count:e,cursor:n,textTotal:p.jsx(z,{label:"Number of items"}),..._n(o)}})})}}),OV=Zt("/$locale/apps/derivean/game/building/base/$id/view/")({component(){return p.jsx("div",{children:'Hello "/$locale/apps/derivean/game/building/base/$id/view/"!'})}}),ef=Zt("/$locale/apps/derivean/game/building/base/$id/production/")({validateSearch:Sn(Nn(Sh)),loaderDeps({search:{filter:t,cursor:e,sort:r}}){return{filter:t,cursor:e,sort:r}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n,sort:s},params:{id:o}}){return e.transaction().execute(async l=>fn({tx:l,queryClient:t,source:xo,filter:r,cursor:n,sort:s,where:{baseBuildingId:o}}))},component:()=>{const{data:t,count:e}=ef.useLoaderData(),{filter:r,cursor:n,selection:s}=ef.useSearch(),{id:o}=ef.useParams(),l=ef.useNavigate(),{tva:u}=zr({from:"__root__"}),d=u().slots;return p.jsx("div",{className:d.base(),children:p.jsx(dO,{baseBuildingId:o,table:{data:t,filter:{value:r,set:wn(l)},selection:{type:"multi",value:s,set:ci(l)}},fulltext:{value:r?.fulltext,set:xn(l)},cursor:{count:e,cursor:n,textTotal:p.jsx(z,{label:"Number of items"}),..._n(l)}})})}}),tf=Zt("/$locale/apps/derivean/game/building/$id/resource/list/")({validateSearch:Sn(Nn(Kc)),loaderDeps({search:{filter:t,cursor:e,sort:r}}){return{filter:t,cursor:e,sort:r}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n,sort:s},params:{id:o}}){return e.transaction().execute(l=>fn({tx:l,queryClient:t,source:_i,filter:r,cursor:n,sort:s,where:{buildingId:o}}))},component(){const{data:t,count:e}=tf.useLoaderData(),{filter:r,cursor:n}=tf.useSearch(),{id:s}=tf.useParams(),o=tf.useNavigate(),{tva:l}=zr({from:"__root__"}),u=l().slots;return p.jsx("div",{className:u.base(),children:p.jsx(uO,{buildingId:s,table:{data:t,filter:{value:r,set:wn(o)}},fulltext:{value:r?.fulltext,set:xn(o)},cursor:{count:e,cursor:n,textTotal:p.jsx(z,{label:"Number of items"}),..._n(o)}})})}}),jm=Zt("/$locale/apps/derivean/root/user/$id/building/resource/list/")({validateSearch:Sn(Nn(Kc)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n},params:{id:s}}){return e.transaction().execute(o=>fn({tx:o,queryClient:t,source:_i,filter:r,where:{userId:s},cursor:n}))},component(){const{data:t,count:e}=jm.useLoaderData(),{filter:r,cursor:n,selection:s}=jm.useSearch(),o=jm.useNavigate(),{tva:l}=zr({from:"__root__"}),u=l().slots;return p.jsxs("div",{className:u.base(),children:[p.jsx(aO,{icon:Or,title:p.jsx(z,{label:"Resource sum (label)"}),amount:t}),p.jsx(hO,{table:{data:t,filter:{value:r,set:wn(o)},selection:{type:"multi",value:s,set:ci(o)}},fulltext:{value:r?.fulltext,set:xn(o)},cursor:{count:e,cursor:n,textTotal:p.jsx(z,{label:"Number of items"}),..._n(o)}})]})}}),kI=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:s=Ts,css:o})=>{const l=Rs({resolver:As(py.shape),defaultValues:{passive:!1,...e}}),u=K.useContext(Vi),d=s({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:o}).slots;return p.jsxs("form",{className:d.base(),onSubmit:Po({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:u})}}),children:[p.jsx(cs,{variant:{highlight:!0},error:l.formState.errors.root}),p.jsx(kr,{formState:l.formState,name:"resourceId",label:p.jsx(z,{label:"Resource name (label)"}),children:p.jsx(To,{control:l.control,name:"resourceId",render:({field:{ref:m,...y}})=>p.jsx(Gc,{...y})})}),p.jsx(kr,{formState:l.formState,name:"amount",label:p.jsx(z,{label:"Amount (label)"}),children:p.jsx("input",{type:"number",className:d.input(),...l.register("amount")})}),p.jsx(kr,{formState:l.formState,name:"passive",label:p.jsx(z,{label:"Passive requirement (label)"}),hint:p.jsx(z,{label:"Passive requirement (hint)"}),children:p.jsx(To,{control:l.control,name:"passive",render:({field:{ref:m,...y}})=>p.jsx(AT,{...y})})}),p.jsx("div",{className:"flex flex-row justify-between gap-8",children:p.jsx(bn,{iconEnabled:Or,type:"submit",children:p.jsx(z,{label:"Save resource requirement (submit)"})})})]})},D_=Xn(),RV=[D_({name:"resource.name",header(){return p.jsx(z,{label:"Resource name (label)"})},render({value:t}){return t},size:18}),D_({name:"amount",header(){return p.jsx(z,{label:"Amount (label)"})},render({value:t}){return yn({number:t})},size:14}),D_({name:"passive",header(){return p.jsx(z,{label:"Passive requirement (label)"})},render({value:t}){return p.jsx(RT,{value:t})},size:14})],AV=({baseBuildingId:t,table:e,...r})=>{const n=ds({sources:[Wn,ic]});return p.jsx(Zn,{table:Yn({...e,columns:RV}),action:{table(){return p.jsx(vn,{children:p.jsx(Ir,{label:p.jsx(z,{label:"Create resource requirement (menu)"}),textTitle:p.jsx(z,{label:"Create resource requirement (modal)"}),icon:Or,children:p.jsx(kI,{mutation:jo({source:ic,async wrap(s){return fr.promise(s(),{loading:p.jsx(z,{label:"Saving resource requirement (label)"}),success:p.jsx(z,{label:"Resource requirement successfully saved (label)"}),error:p.jsx(z,{label:"Cannot save resource requirement (label)"})})},async toCreate({shape:s}){return{entity:{...s,baseBuildingId:t}}}}),onSuccess:async({modalContext:s})=>{await n(),s?.close()}})})})},row({data:s}){return p.jsxs(vn,{children:[p.jsx(Ir,{label:p.jsx(z,{label:"Edit resource requirement (menu)"}),textTitle:p.jsx(z,{label:"Edit resource requirement (modal)"}),icon:Or,children:p.jsx(kI,{defaultValues:s,mutation:so({source:ic,async wrap(o){return fr.promise(o(),{loading:p.jsx(z,{label:"Saving resource requirement (label)"}),success:p.jsx(z,{label:"Resource requirement successfully saved (label)"}),error:p.jsx(z,{label:"Cannot save resource requirement (label)"})})},async toPatch({shape:o}){return{entity:{...o,baseBuildingId:t},filter:{id:s.id}}}}),onSuccess:async({modalContext:o})=>{await n(),o?.close()}})}),p.jsx(Ir,{icon:Os,label:p.jsx(z,{label:"Delete resource requirement (label)"}),textTitle:p.jsx(z,{label:"Delete resource requirement (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:p.jsx(io,{source:ic,textContent:p.jsx(z,{label:"Resource requirement delete (content)"}),filter:{id:s.id},invalidator:n})})]})}},...r})},rf=Zt("/$locale/apps/derivean/root/building/base/$id/requirement/list/")({validateSearch:Sn(Nn(py)),loaderDeps({search:{filter:t,cursor:e,sort:r}}){return{filter:t,cursor:e,sort:r}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n,sort:s},params:{id:o}}){return e.transaction().execute(async l=>fn({tx:l,queryClient:t,source:ic,filter:r,cursor:n,sort:s||[{name:"resource",sort:"asc"}],where:{baseBuildingId:o}}))},component:()=>{const{data:t,count:e}=rf.useLoaderData(),{filter:r,cursor:n,selection:s}=rf.useSearch(),{id:o}=rf.useParams(),l=rf.useNavigate(),{tva:u}=zr({from:"__root__"}),d=u().slots;return p.jsx("div",{className:d.base(),children:p.jsx(AV,{baseBuildingId:o,table:{data:t,filter:{value:r,set:wn(l)},selection:{type:"multi",value:s,set:ci(l)}},fulltext:{value:r?.fulltext,set:xn(l)},cursor:{count:e,cursor:n,textTotal:p.jsx(z,{label:"Number of items"}),..._n(l)}})})}}),II=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:s=Ts,css:o})=>{const l=Rs({resolver:As(hy.shape),defaultValues:{limit:0,...e}}),u=K.useContext(Vi),d=s({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:o}).slots;return p.jsxs("form",{className:d.base(),onSubmit:Po({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:u})}}),children:[p.jsx(cs,{variant:{highlight:!0},error:l.formState.errors.root}),p.jsx(kr,{formState:l.formState,name:"resourceId",label:p.jsx(z,{label:"Resource name (label)"}),children:p.jsx(To,{control:l.control,name:"resourceId",render:({field:{ref:m,...y}})=>p.jsx(Gc,{icon:Or,titleText:p.jsx(z,{label:"Select resource (title)"}),...y})})}),p.jsx(kr,{formState:l.formState,name:"limit",label:p.jsx(z,{label:"Limit (label)"}),children:p.jsx("input",{type:"number",className:d.input(),...l.register("limit")})}),p.jsx("div",{className:"flex flex-row justify-between gap-8",children:p.jsx(bn,{iconEnabled:Or,type:"submit",children:p.jsx(z,{label:"Save resource limit (submit)"})})})]})},qI=Xn(),PV=[qI({name:"resource.name",header(){return p.jsx(z,{label:"Resource name (label)"})},render({value:t}){return t},size:18}),qI({name:"limit",header(){return p.jsx(z,{label:"Storage limit (label)"})},render({value:t}){return t},size:18})],jV=({baseBuildingId:t,table:e,...r})=>{const n=ds({sources:[nc]});return p.jsx(Zn,{table:Yn({...e,columns:PV}),action:{table(){return p.jsx(vn,{children:p.jsx(Ir,{label:p.jsx(z,{label:"Create resource limit (menu)"}),textTitle:p.jsx(z,{label:"Create resource limit (modal)"}),icon:Lw,children:p.jsx(II,{mutation:jo({source:nc,async wrap(s){return fr.promise(s(),{loading:p.jsx(z,{label:"Saving resource limit (label)"}),success:p.jsx(z,{label:"Resource limit successfully saved (label)"}),error:p.jsx(z,{label:"Cannot resource limit storage (label)"})})},async toCreate({shape:s}){return{entity:{...s,baseBuildingId:t}}}}),onSuccess:async({modalContext:s})=>{await n(),s?.close()}})})})},row({data:s}){return p.jsxs(vn,{children:[p.jsx(Ir,{label:p.jsx(z,{label:"Edit base storage (menu)"}),textTitle:p.jsx(z,{label:"Edit base storage (modal)"}),icon:Lw,children:p.jsx(II,{defaultValues:s,mutation:so({source:nc,async wrap(o){return fr.promise(o(),{loading:p.jsx(z,{label:"Saving base storage (label)"}),success:p.jsx(z,{label:"Base storage successfully saved (label)"}),error:p.jsx(z,{label:"Cannot save base storage (label)"})})},async toPatch(){return{filter:{id:s.id}}}}),onSuccess:async({modalContext:o})=>{await n(),o?.close()}})}),p.jsx(Ir,{icon:Os,label:p.jsx(z,{label:"Delete base storage (label)"}),textTitle:p.jsx(z,{label:"Delete base storage (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:p.jsx(io,{source:nc,textContent:p.jsx(z,{label:"Base storage delete (content)"}),filter:{id:s.id},invalidator:n})})]})}},...r})},nf=Zt("/$locale/apps/derivean/root/building/base/$id/limit/list/")({validateSearch:Sn(Nn(hy)),loaderDeps({search:{filter:t,cursor:e,sort:r}}){return{filter:t,cursor:e,sort:r}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n,sort:s},params:{id:o}}){return e.transaction().execute(async l=>fn({tx:l,queryClient:t,source:nc,filter:r,cursor:n,sort:s,where:{baseBuildingId:o}}))},component(){const{data:t,count:e}=nf.useLoaderData(),{filter:r,cursor:n,selection:s}=nf.useSearch(),{id:o}=nf.useParams(),l=nf.useNavigate(),{tva:u}=zr({from:"__root__"}),d=u().slots;return p.jsx("div",{className:d.base(),children:p.jsx(jV,{baseBuildingId:o,table:{data:t,filter:{value:r,set:wn(l)},selection:{type:"multi",value:s,set:ci(l)}},fulltext:{value:r?.fulltext,set:xn(l)},cursor:{count:e,cursor:n,textTotal:p.jsx(z,{label:"Number of items"}),..._n(l)}})})}}),CI=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:s=Ts,css:o})=>{const l=Rs({resolver:As(sx.shape),defaultValues:{passive:!1,amount:0,...e}}),u=K.useContext(Vi),d=s({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:o}).slots;return p.jsxs("form",{className:d.base(),onSubmit:Po({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:u})}}),children:[p.jsx(cs,{variant:{highlight:!0},error:l.formState.errors.root}),p.jsx(kr,{formState:l.formState,name:"resourceId",label:p.jsx(z,{label:"Resource name (label)"}),children:p.jsx(To,{control:l.control,name:"resourceId",render:({field:{ref:m,...y}})=>p.jsx(Gc,{...y})})}),p.jsx(kr,{formState:l.formState,name:"amount",label:p.jsx(z,{label:"Amount (label)"}),children:p.jsx("input",{type:"number",className:d.input(),...l.register("amount")})}),p.jsx(kr,{formState:l.formState,name:"passive",label:p.jsx(z,{label:"Passive requirement (label)"}),hint:p.jsx(z,{label:"Passive requirement (hint)"}),children:p.jsx(To,{control:l.control,name:"passive",render:({field:{ref:m,...y}})=>p.jsx(AT,{...y})})}),p.jsx("div",{className:"flex flex-row justify-between gap-8",children:p.jsx(bn,{iconEnabled:Rc,type:"submit",children:p.jsx(z,{label:"Save production requirement (submit)"})})})]})},M_=Xn(),FV=[M_({name:"resource.name",header(){return p.jsx(z,{label:"Resource name (label)"})},render({value:t}){return t},size:18}),M_({name:"amount",header(){return p.jsx(z,{label:"Amount (label)"})},render({value:t}){return yn({number:t})},size:14}),M_({name:"passive",header(){return p.jsx(z,{label:"Passive requirement (label)"})},render({value:t}){return p.jsx(RT,{value:t})},size:14})],LV=({baseBuildingProductionId:t,table:e,...r})=>{const n=ds({sources:[Wn,xo,sc]});return p.jsx(Zn,{table:Yn({...e,columns:FV}),action:{table(){return p.jsx(vn,{children:p.jsx(Ir,{label:p.jsx(z,{label:"Create resource requirement (menu)"}),textTitle:p.jsx(z,{label:"Create resource requirement (modal)"}),icon:Or,children:p.jsx(CI,{mutation:jo({source:sc,async wrap(s){return fr.promise(s(),{loading:p.jsx(z,{label:"Saving resource requirement (label)"}),success:p.jsx(z,{label:"Resource requirement successfully saved (label)"}),error:p.jsx(z,{label:"Cannot save resource requirement (label)"})})},async toCreate({shape:s}){return{entity:{...s,baseBuildingProductionId:t}}}}),onSuccess:async({modalContext:s})=>{await n(),s?.close()}})})})},row({data:s}){return p.jsxs(vn,{children:[p.jsx(Ir,{label:p.jsx(z,{label:"Edit resource requirement (menu)"}),textTitle:p.jsx(z,{label:"Edit resource requirement (modal)"}),icon:Or,children:p.jsx(CI,{defaultValues:s,mutation:so({source:sc,async wrap(o){return fr.promise(o(),{loading:p.jsx(z,{label:"Saving resource requirement (label)"}),success:p.jsx(z,{label:"Resource requirement successfully saved (label)"}),error:p.jsx(z,{label:"Cannot save resource requirement (label)"})})},async toPatch({shape:o}){return{entity:o,filter:{id:s.id}}}}),onSuccess:async({modalContext:o})=>{await n(),o?.close()}})}),p.jsx(Ir,{icon:Os,label:p.jsx(z,{label:"Delete resource requirement (label)"}),textTitle:p.jsx(z,{label:"Delete resource requirement (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:p.jsx(io,{source:sc,textContent:p.jsx(z,{label:"Resource requirement delete (content)"}),filter:{id:s.id},invalidator:n})})]})}},...r})},sf=Zt("/$locale/apps/derivean/root/building/base/$id/production/$productionId/requirement/list")({validateSearch:Sn(Nn(sx)),loaderDeps({search:{filter:t,cursor:e,sort:r}}){return{filter:t,cursor:e,sort:r}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n,sort:s},params:{productionId:o}}){return e.transaction().execute(async l=>fn({tx:l,queryClient:t,source:sc,filter:r,cursor:n,sort:s||[{name:"resource",sort:"asc"}],where:{baseBuildingProductionId:o}}))},component:()=>{const{data:t,count:e}=sf.useLoaderData(),{filter:r,cursor:n,selection:s}=sf.useSearch(),{productionId:o}=sf.useParams(),l=sf.useNavigate(),{tva:u}=zr({from:"__root__"}),d=u().slots;return p.jsx("div",{className:d.base(),children:p.jsx(LV,{baseBuildingProductionId:o,table:{data:t,filter:{value:r,set:wn(l)},selection:{type:"multi",value:s,set:ci(l)}},fulltext:{value:r?.fulltext,set:xn(l)},cursor:{count:e,cursor:n,textTotal:p.jsx(z,{label:"Number of items"}),..._n(l)}})})}}),ox=Mz.update({id:"/$locale",path:"/$locale",getParentRoute:()=>Z0}),DV=Wz.update({id:"/",path:"/",getParentRoute:()=>Z0}),MV=zz.update({id:"/",path:"/",getParentRoute:()=>ox}),Jc=Vz.update({id:"/apps/derivean",path:"/apps/derivean",getParentRoute:()=>ox}),oo=Kz.update({id:"/root",path:"/root",getParentRoute:()=>Jc}),Lo=tU.update({id:"/game",path:"/game",getParentRoute:()=>Jc}),BV=nU.update({id:"/",path:"/",getParentRoute:()=>oo}),$V=iU.update({id:"/",path:"/",getParentRoute:()=>Lo}),WV=CU.update({id:"/public/register",path:"/public/register",getParentRoute:()=>Jc}),zV=TU.update({id:"/public/logout",path:"/public/logout",getParentRoute:()=>Jc}),UV=PU.update({id:"/public/login",path:"/public/login",getParentRoute:()=>Jc}),VV=Nm.update({id:"/inventory/",path:"/inventory/",getParentRoute:()=>Lo}),Nh=tO.update({id:"/user/$id",path:"/user/$id",getParentRoute:()=>oo}),pO=$U.update({id:"/resource/$id",path:"/resource/$id",getParentRoute:()=>oo}),ax=rO.update({id:"/building/$id",path:"/building/$id",getParentRoute:()=>oo}),Eh=nO.update({id:"/building/$id",path:"/building/$id",getParentRoute:()=>Lo}),HV=Em.update({id:"/user/list/",path:"/user/list/",getParentRoute:()=>oo}),QV=km.update({id:"/tag/list/",path:"/tag/list/",getParentRoute:()=>oo}),KV=Im.update({id:"/resource/list/",path:"/resource/list/",getParentRoute:()=>oo}),GV=KU.update({id:"/building/list/",path:"/building/list/",getParentRoute:()=>oo}),JV=qm.update({id:"/building/list/",path:"/building/list/",getParentRoute:()=>Lo}),du=iO.update({id:"/building/base/$id",path:"/building/base/$id",getParentRoute:()=>oo}),lx=sO.update({id:"/building/base/$id",path:"/building/base/$id",getParentRoute:()=>Lo}),ZV=rV.update({id:"/view/",path:"/view/",getParentRoute:()=>Nh}),YV=Gd.update({id:"/inventory/",path:"/inventory/",getParentRoute:()=>Nh}),XV=nV.update({id:"/view/",path:"/view/",getParentRoute:()=>pO}),e8=Cm.update({id:"/building/base/list/",path:"/building/base/list/",getParentRoute:()=>oo}),t8=oV.update({id:"/view/",path:"/view/",getParentRoute:()=>ax}),r8=Tm.update({id:"/building/resource/list/",path:"/building/resource/list/",getParentRoute:()=>Lo}),n8=Om.update({id:"/building/base/list/",path:"/building/base/list/",getParentRoute:()=>Lo}),i8=gV.update({id:"/view/",path:"/view/",getParentRoute:()=>Eh}),s8=Jd.update({id:"/production/",path:"/production/",getParentRoute:()=>Eh}),o8=Rm.update({id:"/production/queue",path:"/production/queue",getParentRoute:()=>Eh}),a8=Zd.update({id:"/building/list/",path:"/building/list/",getParentRoute:()=>Nh}),l8=kV.update({id:"/view/",path:"/view/",getParentRoute:()=>du}),u8=Yd.update({id:"/production/",path:"/production/",getParentRoute:()=>du}),c8=fO.update({id:"/edit/",path:"/edit/",getParentRoute:()=>du}),d8=Xd.update({id:"/resource/list/",path:"/resource/list/",getParentRoute:()=>ax}),f8=Am.update({id:"/building/queue/production/list/",path:"/building/queue/production/list/",getParentRoute:()=>Lo}),h8=Pm.update({id:"/building/queue/construction/list/",path:"/building/queue/construction/list/",getParentRoute:()=>Lo}),p8=OV.update({id:"/view/",path:"/view/",getParentRoute:()=>lx}),m8=ef.update({id:"/production/",path:"/production/",getParentRoute:()=>lx}),g8=tf.update({id:"/resource/list/",path:"/resource/list/",getParentRoute:()=>Eh}),y8=jm.update({id:"/building/resource/list/",path:"/building/resource/list/",getParentRoute:()=>Nh}),v8=rf.update({id:"/requirement/list/",path:"/requirement/list/",getParentRoute:()=>du}),b8=nf.update({id:"/limit/list/",path:"/limit/list/",getParentRoute:()=>du}),_8=sf.update({id:"/production/$productionId/requirement/list",path:"/production/$productionId/requirement/list",getParentRoute:()=>du}),w8={LocaleAppsDeriveanGameBuildingIdProductionQueueRoute:o8,LocaleAppsDeriveanGameBuildingIdProductionIndexRoute:s8,LocaleAppsDeriveanGameBuildingIdViewIndexRoute:i8,LocaleAppsDeriveanGameBuildingIdResourceListIndexRoute:g8},x8=Eh._addFileChildren(w8),S8={LocaleAppsDeriveanGameBuildingBaseIdProductionIndexRoute:m8,LocaleAppsDeriveanGameBuildingBaseIdViewIndexRoute:p8},N8=lx._addFileChildren(S8),E8={LocaleAppsDeriveanGameIndexRoute:$V,LocaleAppsDeriveanGameBuildingIdRoute:x8,LocaleAppsDeriveanGameInventoryIndexRoute:VV,LocaleAppsDeriveanGameBuildingBaseIdRoute:N8,LocaleAppsDeriveanGameBuildingListIndexRoute:JV,LocaleAppsDeriveanGameBuildingBaseListIndexRoute:n8,LocaleAppsDeriveanGameBuildingResourceListIndexRoute:r8,LocaleAppsDeriveanGameBuildingQueueConstructionListIndexRoute:h8,LocaleAppsDeriveanGameBuildingQueueProductionListIndexRoute:f8},k8=Lo._addFileChildren(E8),I8={LocaleAppsDeriveanRootBuildingIdViewIndexRoute:t8,LocaleAppsDeriveanRootBuildingIdResourceListIndexRoute:d8},q8=ax._addFileChildren(I8),C8={LocaleAppsDeriveanRootResourceIdViewIndexRoute:XV},T8=pO._addFileChildren(C8),O8={LocaleAppsDeriveanRootUserIdInventoryIndexRoute:YV,LocaleAppsDeriveanRootUserIdViewIndexRoute:ZV,LocaleAppsDeriveanRootUserIdBuildingListIndexRoute:a8,LocaleAppsDeriveanRootUserIdBuildingResourceListIndexRoute:y8},R8=Nh._addFileChildren(O8),A8={LocaleAppsDeriveanRootBuildingBaseIdEditIndexRoute:c8,LocaleAppsDeriveanRootBuildingBaseIdProductionIndexRoute:u8,LocaleAppsDeriveanRootBuildingBaseIdViewIndexRoute:l8,LocaleAppsDeriveanRootBuildingBaseIdLimitListIndexRoute:b8,LocaleAppsDeriveanRootBuildingBaseIdRequirementListIndexRoute:v8,LocaleAppsDeriveanRootBuildingBaseIdProductionProductionIdRequirementListRoute:_8},P8=du._addFileChildren(A8),j8={LocaleAppsDeriveanRootIndexRoute:BV,LocaleAppsDeriveanRootBuildingIdRoute:q8,LocaleAppsDeriveanRootResourceIdRoute:T8,LocaleAppsDeriveanRootUserIdRoute:R8,LocaleAppsDeriveanRootBuildingBaseIdRoute:P8,LocaleAppsDeriveanRootBuildingListIndexRoute:GV,LocaleAppsDeriveanRootResourceListIndexRoute:KV,LocaleAppsDeriveanRootTagListIndexRoute:QV,LocaleAppsDeriveanRootUserListIndexRoute:HV,LocaleAppsDeriveanRootBuildingBaseListIndexRoute:e8},F8=oo._addFileChildren(j8),L8={LocaleAppsDeriveanGameRoute:k8,LocaleAppsDeriveanRootRoute:F8,LocaleAppsDeriveanPublicLoginRoute:UV,LocaleAppsDeriveanPublicLogoutRoute:zV,LocaleAppsDeriveanPublicRegisterRoute:WV},D8=Jc._addFileChildren(L8),M8={LocaleIndexRoute:MV,LocaleAppsDeriveanRoute:D8},B8=ox._addFileChildren(M8),$8={IndexRoute:DV,LocaleRoute:B8},W8=Z0._addFileChildren($8)._addFileTypes(),mO=new BR({defaultOptions:{queries:{placeholderData:IR}}}),z8=FA({routeTree:W8,context:{queryClient:mO,tva:R4,async session(){return dy.parse(null)},kysely:Gr},defaultPendingComponent:oz,defaultPreload:"intent",defaultPreloadStaleTime:0,defaultPendingMinMs:200}),TI=document.getElementById("app");B2({limit:{maxRequests:10,perMilliseconds:100}});TI.innerHTML||Fz.createRoot(TI).render(p.jsx(HR,{client:mO,children:p.jsx(aP,{router:z8})}))})();