(async()=>{function $$(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ao(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function B$(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Lw={exports:{}},up={},Mw={exports:{}},kn={};var sC;function z$(){if(sC)return kn;sC=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;function b(X){return X===null||typeof X!="object"?null:(X=h&&X[h]||X["@@iterator"],typeof X=="function"?X:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,E={};function I(X,ue,de){this.props=X,this.context=ue,this.refs=E,this.updater=de||x}I.prototype.isReactComponent={},I.prototype.setState=function(X,ue){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,ue,"setState")},I.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function T(){}T.prototype=I.prototype;function O(X,ue,de){this.props=X,this.context=ue,this.refs=E,this.updater=de||x}var R=O.prototype=new T;R.constructor=O,_(R,I.prototype),R.isPureReactComponent=!0;var A=Array.isArray,D=Object.prototype.hasOwnProperty,L={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function P(X,ue,de){var ye,we={},Ne=null,ze=null;if(ue!=null)for(ye in ue.ref!==void 0&&(ze=ue.ref),ue.key!==void 0&&(Ne=""+ue.key),ue)D.call(ue,ye)&&!z.hasOwnProperty(ye)&&(we[ye]=ue[ye]);var Re=arguments.length-2;if(Re===1)we.children=de;else if(1<Re){for(var De=Array(Re),Je=0;Je<Re;Je++)De[Je]=arguments[Je+2];we.children=De}if(X&&X.defaultProps)for(ye in Re=X.defaultProps,Re)we[ye]===void 0&&(we[ye]=Re[ye]);return{$$typeof:t,type:X,key:Ne,ref:ze,props:we,_owner:L.current}}function q(X,ue){return{$$typeof:t,type:X.type,key:ue,ref:X.ref,props:X.props,_owner:X._owner}}function M(X){return typeof X=="object"&&X!==null&&X.$$typeof===t}function F(X){var ue={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(de){return ue[de]})}var U=/\/+/g;function V(X,ue){return typeof X=="object"&&X!==null&&X.key!=null?F(""+X.key):ue.toString(36)}function B(X,ue,de,ye,we){var Ne=typeof X;(Ne==="undefined"||Ne==="boolean")&&(X=null);var ze=!1;if(X===null)ze=!0;else switch(Ne){case"string":case"number":ze=!0;break;case"object":switch(X.$$typeof){case t:case e:ze=!0}}if(ze)return ze=X,we=we(ze),X=ye===""?"."+V(ze,0):ye,A(we)?(de="",X!=null&&(de=X.replace(U,"$&/")+"/"),B(we,ue,de,"",function(Je){return Je})):we!=null&&(M(we)&&(we=q(we,de+(!we.key||ze&&ze.key===we.key?"":(""+we.key).replace(U,"$&/")+"/")+X)),ue.push(we)),1;if(ze=0,ye=ye===""?".":ye+":",A(X))for(var Re=0;Re<X.length;Re++){Ne=X[Re];var De=ye+V(Ne,Re);ze+=B(Ne,ue,de,De,we)}else if(De=b(X),typeof De=="function")for(X=De.call(X),Re=0;!(Ne=X.next()).done;)Ne=Ne.value,De=ye+V(Ne,Re++),ze+=B(Ne,ue,de,De,we);else if(Ne==="object")throw ue=String(X),Error("Objects are not valid as a React child (found: "+(ue==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":ue)+"). If you meant to render a collection of children, use an array instead.");return ze}function te(X,ue,de){if(X==null)return X;var ye=[],we=0;return B(X,ye,"","",function(Ne){return ue.call(de,Ne,we++)}),ye}function Z(X){if(X._status===-1){var ue=X._result;ue=ue(),ue.then(function(de){(X._status===0||X._status===-1)&&(X._status=1,X._result=de)},function(de){(X._status===0||X._status===-1)&&(X._status=2,X._result=de)}),X._status===-1&&(X._status=0,X._result=ue)}if(X._status===1)return X._result.default;throw X._result}var le={current:null},se={transition:null},ne={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:se,ReactCurrentOwner:L};function oe(){throw Error("act(...) is not supported in production builds of React.")}return kn.Children={map:te,forEach:function(X,ue,de){te(X,function(){ue.apply(this,arguments)},de)},count:function(X){var ue=0;return te(X,function(){ue++}),ue},toArray:function(X){return te(X,function(ue){return ue})||[]},only:function(X){if(!M(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},kn.Component=I,kn.Fragment=n,kn.Profiler=i,kn.PureComponent=O,kn.StrictMode=r,kn.Suspense=u,kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,kn.act=oe,kn.cloneElement=function(X,ue,de){if(X==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+X+".");var ye=_({},X.props),we=X.key,Ne=X.ref,ze=X._owner;if(ue!=null){if(ue.ref!==void 0&&(Ne=ue.ref,ze=L.current),ue.key!==void 0&&(we=""+ue.key),X.type&&X.type.defaultProps)var Re=X.type.defaultProps;for(De in ue)D.call(ue,De)&&!z.hasOwnProperty(De)&&(ye[De]=ue[De]===void 0&&Re!==void 0?Re[De]:ue[De])}var De=arguments.length-2;if(De===1)ye.children=de;else if(1<De){Re=Array(De);for(var Je=0;Je<De;Je++)Re[Je]=arguments[Je+2];ye.children=Re}return{$$typeof:t,type:X.type,key:we,ref:Ne,props:ye,_owner:ze}},kn.createContext=function(X){return X={$$typeof:o,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},X.Provider={$$typeof:s,_context:X},X.Consumer=X},kn.createElement=P,kn.createFactory=function(X){var ue=P.bind(null,X);return ue.type=X,ue},kn.createRef=function(){return{current:null}},kn.forwardRef=function(X){return{$$typeof:l,render:X}},kn.isValidElement=M,kn.lazy=function(X){return{$$typeof:p,_payload:{_status:-1,_result:X},_init:Z}},kn.memo=function(X,ue){return{$$typeof:d,type:X,compare:ue===void 0?null:ue}},kn.startTransition=function(X){var ue=se.transition;se.transition={};try{X()}finally{se.transition=ue}},kn.unstable_act=oe,kn.useCallback=function(X,ue){return le.current.useCallback(X,ue)},kn.useContext=function(X){return le.current.useContext(X)},kn.useDebugValue=function(){},kn.useDeferredValue=function(X){return le.current.useDeferredValue(X)},kn.useEffect=function(X,ue){return le.current.useEffect(X,ue)},kn.useId=function(){return le.current.useId()},kn.useImperativeHandle=function(X,ue,de){return le.current.useImperativeHandle(X,ue,de)},kn.useInsertionEffect=function(X,ue){return le.current.useInsertionEffect(X,ue)},kn.useLayoutEffect=function(X,ue){return le.current.useLayoutEffect(X,ue)},kn.useMemo=function(X,ue){return le.current.useMemo(X,ue)},kn.useReducer=function(X,ue,de){return le.current.useReducer(X,ue,de)},kn.useRef=function(X){return le.current.useRef(X)},kn.useState=function(X){return le.current.useState(X)},kn.useSyncExternalStore=function(X,ue,de){return le.current.useSyncExternalStore(X,ue,de)},kn.useTransition=function(){return le.current.useTransition()},kn.version="18.3.1",kn}var oC;function Qh(){return oC||(oC=1,Mw.exports=z$()),Mw.exports}var aC;function W$(){if(aC)return up;aC=1;var t=Qh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,u,d){var p,h={},b=null,x=null;d!==void 0&&(b=""+d),u.key!==void 0&&(b=""+u.key),u.ref!==void 0&&(x=u.ref);for(p in u)r.call(u,p)&&!s.hasOwnProperty(p)&&(h[p]=u[p]);if(l&&l.defaultProps)for(p in u=l.defaultProps,u)h[p]===void 0&&(h[p]=u[p]);return{$$typeof:e,type:l,key:b,ref:x,props:h,_owner:i.current}}return up.Fragment=n,up.jsx=o,up.jsxs=o,up}var lC;function U$(){return lC||(lC=1,Lw.exports=W$()),Lw.exports}var f=U$(),Yd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Jc=typeof window>"u"||"Deno"in globalThis;function Zs(){}function V$(t,e){return typeof t=="function"?t(e):t}function zS(t){return typeof t=="number"&&t>=0&&t!==1/0}function I3(t,e){return Math.max(t+(e||0)-Date.now(),0)}function md(t,e){return typeof t=="function"?t(e):t}function So(t,e){return typeof t=="function"?t(e):t}function cC(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==f1(o,e.options))return!1}else if(!oh(e.queryKey,o))return!1}if(n!=="all"){const u=e.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||s&&!s(e))}function uC(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Zc(e.options.mutationKey)!==Zc(s))return!1}else if(!oh(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function f1(t,e){return(e?.queryKeyHashFn||Zc)(t)}function Zc(t){return JSON.stringify(t,(e,n)=>WS(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function oh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!oh(t[n],e[n])):!1}function p1(t,e){if(t===e)return t;const n=dC(t)&&dC(e);if(n||WS(t)&&WS(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,l=n?[]:{};let u=0;for(let d=0;d<o;d++){const p=n?d:s[d];(!n&&r.includes(p)||n)&&t[p]===void 0&&e[p]===void 0?(l[p]=void 0,u++):(l[p]=p1(t[p],e[p]),l[p]===t[p]&&t[p]!==void 0&&u++)}return i===o&&u===i?t:l}return e}function ev(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function dC(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function WS(t){if(!fC(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!fC(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function fC(t){return Object.prototype.toString.call(t)==="[object Object]"}function H$(t){return new Promise(e=>{setTimeout(e,t)})}function US(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?p1(t,e):e}function K$(t){return t}function Q$(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function G$(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var h1=Symbol();function C3(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===h1?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var J$=class extends Yd{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!Jc&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},m1=new J$,Z$=class extends Yd{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!Jc&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},tv=new Z$;function VS(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function Y$(t){return Math.min(1e3*2**t,3e4)}function T3(t){return(t??"online")==="online"?tv.isOnline():!0}var O3=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function $w(t){return t instanceof O3}function R3(t){let e=!1,n=0,r=!1,i;const s=VS(),o=E=>{r||(b(new O3(E)),t.abort?.())},l=()=>{e=!0},u=()=>{e=!1},d=()=>m1.isFocused()&&(t.networkMode==="always"||tv.isOnline())&&t.canRun(),p=()=>T3(t.networkMode)&&t.canRun(),h=E=>{r||(r=!0,t.onSuccess?.(E),i?.(),s.resolve(E))},b=E=>{r||(r=!0,t.onError?.(E),i?.(),s.reject(E))},x=()=>new Promise(E=>{i=I=>{(r||d())&&E(I)},t.onPause?.()}).then(()=>{i=void 0,r||t.onContinue?.()}),_=()=>{if(r)return;let E;const I=n===0?t.initialPromise:void 0;try{E=I??t.fn()}catch(T){E=Promise.reject(T)}Promise.resolve(E).then(h).catch(T=>{if(r)return;const O=t.retry??(Jc?0:3),R=t.retryDelay??Y$,A=typeof R=="function"?R(n,T):R,D=O===!0||typeof O=="number"&&n<O||typeof O=="function"&&O(n,T);if(e||!D){b(T);return}n++,t.onFail?.(n,T),H$(A).then(()=>d()?void 0:x()).then(()=>{e?b(T):_()})})};return{promise:s,cancel:o,continue:()=>(i?.(),s),cancelRetry:l,continueRetry:u,canStart:p,start:()=>(p()?_():x().then(_),s)}}function X$(){let t=[],e=0,n=l=>{l()},r=l=>{l()},i=l=>setTimeout(l,0);const s=l=>{e?t.push(l):i(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{r(()=>{l.forEach(u=>{n(u)})})})};return{batch:l=>{let u;e++;try{u=l()}finally{e--,e||o()}return u},batchCalls:l=>(...u)=>{s(()=>{l(...u)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Gr=X$(),q3=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),zS(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Jc?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},eB=class extends q3{#e;#t;#n;#r;#i;#s;constructor(t){super(),this.#s=!1,this.#i=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=tB(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){this.options={...this.#i,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=US(this.state.data,t,this.options);return this.#o({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#o({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(Zs).catch(Zs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>So(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===h1||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!I3(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#s?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(u=>u.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#s=!0,n.signal)})},i=()=>{const l=C3(this.options,e),u={queryKey:this.queryKey,meta:this.meta};return r(u),this.#s=!1,this.options.persister?this.options.persister(l,u,this):l(u)},s={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:i};r(s),this.options.behavior?.onFetch(s,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==s.fetchOptions?.meta)&&this.#o({type:"fetch",meta:s.fetchOptions?.meta});const o=l=>{$w(l)&&l.silent||this.#o({type:"error",error:l}),$w(l)||(this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#r=R3({initialPromise:e?.initialPromise,fn:s.fetchFn,abort:n.abort.bind(n),onSuccess:l=>{if(l===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(u){o(u);return}this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:o,onFail:(l,u)=>{this.#o({type:"failed",failureCount:l,error:u})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:s.options.retry,retryDelay:s.options.retryDelay,networkMode:s.options.networkMode,canRun:()=>!0}),this.#r.start()}#o(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...j3(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=t.error;return $w(r)&&r.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Gr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function j3(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:T3(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function tB(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var nB=class extends Yd{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const r=e.queryKey,i=e.queryHash??f1(r,e);let s=this.get(i);return s||(s=new eB({cache:this,queryKey:r,queryHash:i,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(r)}),this.add(s)),s}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Gr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>cC(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>cC(t,n)):e}notify(t){Gr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Gr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Gr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},rB=class extends q3{#e;#t;#n;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||A3(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(t){this.#n=R3({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(r,i)=>{this.#r({type:"failed",failureCount:r,error:i})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const e=this.state.status==="pending",n=!this.#n.canStart();try{if(!e){this.#r({type:"pending",variables:t,isPaused:n}),await this.#t.config.onMutate?.(t,this);const i=await this.options.onMutate?.(t);i!==this.state.context&&this.#r({type:"pending",context:i,variables:t,isPaused:n})}const r=await this.#n.start();return await this.#t.config.onSuccess?.(r,t,this.state.context,this),await this.options.onSuccess?.(r,t,this.state.context),await this.#t.config.onSettled?.(r,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(r,null,t,this.state.context),this.#r({type:"success",data:r}),r}catch(r){try{throw await this.#t.config.onError?.(r,t,this.state.context,this),await this.options.onError?.(r,t,this.state.context),await this.#t.config.onSettled?.(void 0,r,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,r,t,this.state.context),r}finally{this.#r({type:"error",error:r})}}finally{this.#t.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Gr.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function A3(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var iB=class extends Yd{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const r=new rB({mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(r),r}add(t){this.#e.add(t);const e=kg(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=kg(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(t);r!==-1&&n.splice(r,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=kg(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(i=>i.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=kg(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Gr.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>uC(e,n))}findAll(t={}){return this.getAll().filter(e=>uC(t,e))}notify(t){Gr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Gr.batch(()=>Promise.all(t.map(e=>e.continue().catch(Zs))))}};function kg(t){return t.options.scope?.id}function pC(t){return{onFetch:(e,n)=>{const r=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let l={pages:[],pageParams:[]},u=0;const d=async()=>{let p=!1;const h=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},b=C3(e.options,e.fetchOptions),x=async(_,E,I)=>{if(p)return Promise.reject();if(E==null&&_.pages.length)return Promise.resolve(_);const T={queryKey:e.queryKey,pageParam:E,direction:I?"backward":"forward",meta:e.options.meta};h(T);const O=await b(T),{maxPages:R}=e.options,A=I?G$:Q$;return{pages:A(_.pages,O,R),pageParams:A(_.pageParams,E,R)}};if(i&&s.length){const _=i==="backward",E=_?sB:hC,I={pages:s,pageParams:o},T=E(r,I);l=await x(I,T,_)}else{const _=t??s.length;do{const E=u===0?o[0]??r.initialPageParam:hC(r,l);if(u>0&&E==null)break;l=await x(l,E),u++}while(u<_)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(d,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=d}}}function hC(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function sB(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var oB=class{#e;#t;#n;#r;#i;#s;#o;#a;constructor(t={}){this.#e=t.queryCache||new nB,this.#t=t.mutationCache||new iB,this.#n=t.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=m1.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=tv.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(md(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=this.#e.get(r.queryHash)?.state.data,o=V$(e,s);if(o!==void 0)return this.#e.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Gr.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Gr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e,r={type:"active",...t};return Gr.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Gr.batch(()=>this.#e.findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Zs).catch(Zs)}invalidateQueries(t,e={}){return Gr.batch(()=>{if(this.#e.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none")return Promise.resolve();const n={...t,type:t?.refetchType??t?.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Gr.batch(()=>this.#e.findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Zs)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Zs)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(md(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Zs).catch(Zs)}fetchInfiniteQuery(t){return t.behavior=pC(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Zs).catch(Zs)}ensureInfiniteQueryData(t){return t.behavior=pC(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return tv.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#r.set(Zc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(r=>{oh(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){this.#i.set(Zc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()];let n={};return e.forEach(r=>{oh(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=f1(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===h1&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},aB=class extends Yd{constructor(t,e){super(),this.options=e,this.#e=t,this.#a=null,this.#o=VS(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#n=void 0;#r=void 0;#i;#s;#o;#a;#c;#l;#u;#d;#p;#f;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),mC(this.#t,this.options)?this.#h():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return HS(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return HS(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#w(),this.#t.removeObserver(this)}setOptions(t,e){const n=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof So(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#t.setOptions(this.options),n._defaulted&&!ev(this.options,n)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&gC(this.#t,r,this.options,n)&&this.#h(),this.updateResult(e),i&&(this.#t!==r||So(this.options.enabled,this.#t)!==So(n.enabled,this.#t)||md(this.options.staleTime,this.#t)!==md(n.staleTime,this.#t))&&this.#g();const s=this.#y();i&&(this.#t!==r||So(this.options.enabled,this.#t)!==So(n.enabled,this.#t)||s!==this.#f)&&this.#v(s)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),n=this.createResult(e,t);return cB(this,n)&&(this.#r=n,this.#s=this.options,this.#i=this.#t.state),n}getCurrentResult(){return this.#r}trackResult(t,e){const n={};return Object.keys(t).forEach(r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),e?.(r),t[r])})}),n}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),n=this.#e.getQueryCache().build(this.#e,e);return n.fetch().then(()=>this.createResult(n,e))}fetch(t){return this.#h({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#h(t){this.#_();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Zs)),e}#g(){this.#x();const t=md(this.options.staleTime,this.#t);if(Jc||this.#r.isStale||!zS(t))return;const n=I3(this.#r.dataUpdatedAt,t)+1;this.#d=setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#w(),this.#f=t,!(Jc||So(this.options.enabled,this.#t)===!1||!zS(this.#f)||this.#f===0)&&(this.#p=setInterval(()=>{(this.options.refetchIntervalInBackground||m1.isFocused())&&this.#h()},this.#f))}#b(){this.#g(),this.#v(this.#y())}#x(){this.#d&&(clearTimeout(this.#d),this.#d=void 0)}#w(){this.#p&&(clearInterval(this.#p),this.#p=void 0)}createResult(t,e){const n=this.#t,r=this.options,i=this.#r,s=this.#i,o=this.#s,u=t!==n?t.state:this.#n,{state:d}=t;let p={...d},h=!1,b;if(e._optimisticResults){const z=this.hasListeners(),P=!z&&mC(t,e),q=z&&gC(t,n,e,r);(P||q)&&(p={...p,...j3(d.data,t.options)}),e._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:x,errorUpdatedAt:_,status:E}=p;if(e.select&&p.data!==void 0)if(i&&p.data===s?.data&&e.select===this.#c)b=this.#l;else try{this.#c=e.select,b=e.select(p.data),b=US(i?.data,b,e),this.#l=b,this.#a=null}catch(z){this.#a=z}else b=p.data;if(e.placeholderData!==void 0&&b===void 0&&E==="pending"){let z;if(i?.isPlaceholderData&&e.placeholderData===o?.placeholderData)z=i.data;else if(z=typeof e.placeholderData=="function"?e.placeholderData(this.#u?.state.data,this.#u):e.placeholderData,e.select&&z!==void 0)try{z=e.select(z),this.#a=null}catch(P){this.#a=P}z!==void 0&&(E="success",b=US(i?.data,z,e),h=!0)}this.#a&&(x=this.#a,b=this.#l,_=Date.now(),E="error");const I=p.fetchStatus==="fetching",T=E==="pending",O=E==="error",R=T&&I,A=b!==void 0,L={status:E,fetchStatus:p.fetchStatus,isPending:T,isSuccess:E==="success",isError:O,isInitialLoading:R,isLoading:R,data:b,dataUpdatedAt:p.dataUpdatedAt,error:x,errorUpdatedAt:_,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>u.dataUpdateCount||p.errorUpdateCount>u.errorUpdateCount,isFetching:I,isRefetching:I&&!T,isLoadingError:O&&!A,isPaused:p.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:O&&A,isStale:g1(t,e),refetch:this.refetch,promise:this.#o};if(this.options.experimental_prefetchInRender){const z=M=>{L.status==="error"?M.reject(L.error):L.data!==void 0&&M.resolve(L.data)},P=()=>{const M=this.#o=L.promise=VS();z(M)},q=this.#o;switch(q.status){case"pending":t.queryHash===n.queryHash&&z(q);break;case"fulfilled":(L.status==="error"||L.data!==q.value)&&P();break;case"rejected":(L.status!=="error"||L.error!==q.reason)&&P();break}}return L}updateResult(t){const e=this.#r,n=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#s=this.options,this.#i.data!==void 0&&(this.#u=this.#t),ev(n,e))return;this.#r=n;const r={},i=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!this.#m.size)return!0;const l=new Set(o??this.#m);return this.options.throwOnError&&l.add("error"),Object.keys(this.#r).some(u=>{const d=u;return this.#r[d]!==e[d]&&l.has(d)})};t?.listeners!==!1&&i()&&(r.listeners=!0),this.#S({...r,...t})}#_(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#n=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#S(t){Gr.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#r)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function lB(t,e){return So(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function mC(t,e){return lB(t,e)||t.state.data!==void 0&&HS(t,e,e.refetchOnMount)}function HS(t,e,n){if(So(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&g1(t,e)}return!1}function gC(t,e,n,r){return(t!==e||So(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&g1(t,n)}function g1(t,e){return So(e.enabled,t)!==!1&&t.isStaleByTime(md(e.staleTime,t))}function cB(t,e){return!ev(t.getCurrentResult(),e)}var uB=class extends Yd{#e;#t=void 0;#n;#r;constructor(e,n){super(),this.#e=e,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const n=this.options;this.options=this.#e.defaultMutationOptions(e),ev(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Zc(n.mutationKey)!==Zc(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#s(e)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#s()}mutate(e,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(e)}#i(){const e=this.#n?.state??A3();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#s(e){Gr.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,n,r),this.#r.onSettled?.(e.data,null,n,r)):e?.type==="error"&&(this.#r.onError?.(e.error,n,r),this.#r.onSettled?.(void 0,e.error,n,r))}this.listeners.forEach(n=>{n(this.#t)})})}},Q=Qh();const Mn=ao(Q),dB=$$({__proto__:null,default:Mn},[Q]);var P3=Q.createContext(void 0),lb=t=>{const e=Q.useContext(P3);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},fB=({client:t,children:e})=>(Q.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),f.jsx(P3.Provider,{value:t,children:e})),F3=Q.createContext(!1),pB=()=>Q.useContext(F3);F3.Provider;function hB(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var mB=Q.createContext(hB()),gB=()=>Q.useContext(mB);function D3(t,e){return typeof t=="function"?t(...e):!!t}function KS(){}var yB=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},vB=t=>{Q.useEffect(()=>{t.clearReset()},[t])},bB=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&D3(n,[t.error,r]),xB=t=>{const e=t.staleTime;t.suspense&&(t.staleTime=typeof e=="function"?(...n)=>Math.max(e(...n),1e3):Math.max(e??1e3,1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},wB=(t,e)=>t.isLoading&&t.isFetching&&!e,_B=(t,e)=>t?.suspense&&e.isPending,yC=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function SB(t,e,n){const r=lb(),i=pB(),s=gB(),o=r.defaultQueryOptions(t);r.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=i?"isRestoring":"optimistic",xB(o),yB(o,s),vB(s);const l=!r.getQueryCache().get(o.queryHash),[u]=Q.useState(()=>new e(r,o)),d=u.getOptimisticResult(o),p=!i&&t.subscribed!==!1;if(Q.useSyncExternalStore(Q.useCallback(h=>{const b=p?u.subscribe(Gr.batchCalls(h)):KS;return u.updateResult(),b},[u,p]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),Q.useEffect(()=>{u.setOptions(o,{listeners:!1})},[o,u]),_B(o,d))throw yC(o,u,s);if(bB({result:d,errorResetBoundary:s,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw d.error;return r.getDefaultOptions().queries?._experimental_afterQuery?.(o,d),o.experimental_prefetchInRender&&!Jc&&wB(d,i)&&(l?yC(o,u,s):r.getQueryCache().get(o.queryHash)?.promise)?.catch(KS).finally(()=>{u.updateResult()}),o.notifyOnChangeProps?d:u.trackResult(d)}function nv(t,e){return SB(t,aB)}function vC(t,e){return t.findAll(e.filters).map(n=>e.select?e.select(n):n.state)}function EB(t={},e){const n=lb().getMutationCache(),r=Q.useRef(t),i=Q.useRef(null);return i.current||(i.current=vC(n,t)),Q.useEffect(()=>{r.current=t}),Q.useSyncExternalStore(Q.useCallback(s=>n.subscribe(()=>{const o=p1(i.current,vC(n,r.current));i.current!==o&&(i.current=o,Gr.schedule(s))}),[n]),()=>i.current,()=>i.current)}function Xt(t,e){const n=lb(),[r]=Q.useState(()=>new uB(n,t));Q.useEffect(()=>{r.setOptions(t)},[r,t]);const i=Q.useSyncExternalStore(Q.useCallback(o=>r.subscribe(Gr.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=Q.useCallback((o,l)=>{r.mutate(o,l).catch(KS)},[r]);if(i.error&&D3(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}const Vc="__TSR_index",bC="popstate",xC="beforeunload";function L3(t){let e=t.getLocation();const n=new Set,r=o=>{e=t.getLocation(),n.forEach(l=>l({location:e,action:o}))},i=o=>{t.notifyOnIndexChange??!0?r(o):e=t.getLocation()},s=async({task:o,navigateOpts:l,...u})=>{var d,p;if(l?.ignoreBlocker??!1){o();return}const b=((d=t.getBlockers)==null?void 0:d.call(t))??[],x=u.type==="PUSH"||u.type==="REPLACE";if(typeof document<"u"&&b.length&&x)for(const _ of b){const E=ah(u.path,u.state);if(await _.blockerFn({currentLocation:e,nextLocation:E,action:u.type})){(p=t.onBlocked)==null||p.call(t);return}}o()};return{get location(){return e},get length(){return t.getLength()},subscribers:n,subscribe:o=>(n.add(o),()=>{n.delete(o)}),push:(o,l,u)=>{const d=e.state[Vc];l=QS(d+1,l),s({task:()=>{t.pushState(o,l),r({type:"PUSH"})},navigateOpts:u,type:"PUSH",path:o,state:l})},replace:(o,l,u)=>{const d=e.state[Vc];l=QS(d,l),s({task:()=>{t.replaceState(o,l),r({type:"REPLACE"})},navigateOpts:u,type:"REPLACE",path:o,state:l})},go:(o,l)=>{s({task:()=>{t.go(o),i({type:"GO",index:o})},navigateOpts:l,type:"GO"})},back:o=>{s({task:()=>{t.back(o?.ignoreBlocker??!1),i({type:"BACK"})},navigateOpts:o,type:"BACK"})},forward:o=>{s({task:()=>{t.forward(o?.ignoreBlocker??!1),i({type:"FORWARD"})},navigateOpts:o,type:"FORWARD"})},canGoBack:()=>e.state[Vc]!==0,createHref:o=>t.createHref(o),block:o=>{var l;if(!t.setBlockers)return()=>{};const u=((l=t.getBlockers)==null?void 0:l.call(t))??[];return t.setBlockers([...u,o]),()=>{var d,p;const h=((d=t.getBlockers)==null?void 0:d.call(t))??[];(p=t.setBlockers)==null||p.call(t,h.filter(b=>b!==o))}},flush:()=>{var o;return(o=t.flush)==null?void 0:o.call(t)},destroy:()=>{var o;return(o=t.destroy)==null?void 0:o.call(t)},notify:r}}function QS(t,e){return e||(e={}),{...e,key:IB(),[Vc]:t}}function NB(t){const e=typeof document<"u"?window:void 0,n=e.history.pushState,r=e.history.replaceState;let i=[];const s=()=>i,o=P=>i=P,l=P=>P,u=()=>ah(`${e.location.pathname}${e.location.search}${e.location.hash}`,e.history.state);let d=u(),p,h=!1,b=!1,x=!1,_=!1;const E=()=>d;let I,T;const O=()=>{I&&(z._ignoreSubscribers=!0,(I.isPush?e.history.pushState:e.history.replaceState)(I.state,"",I.href),z._ignoreSubscribers=!1,I=void 0,T=void 0,p=void 0)},R=(P,q,M)=>{const F=l(q);T||(p=d),d=ah(q,M),I={href:F,state:M,isPush:I?.isPush||P==="push"},T||(T=Promise.resolve().then(()=>O()))},A=P=>{d=u(),z.notify({type:P})},D=async()=>{if(b){b=!1;return}const P=u(),q=P.state[Vc]-d.state[Vc],M=q===1,F=q===-1,U=!M&&!F||h;h=!1;const V=U?"GO":F?"BACK":"FORWARD",B=U?{type:"GO",index:q}:{type:F?"BACK":"FORWARD"};if(x)x=!1;else{const te=s();if(typeof document<"u"&&te.length){for(const Z of te)if(await Z.blockerFn({currentLocation:d,nextLocation:P,action:V})){b=!0,e.history.go(1),z.notify(B);return}}}d=u(),z.notify(B)},L=P=>{if(_){_=!1;return}let q=!1;const M=s();if(typeof document<"u"&&M.length)for(const F of M){const U=F.enableBeforeUnload??!0;if(U===!0){q=!0;break}if(typeof U=="function"&&U()===!0){q=!0;break}}if(q)return P.preventDefault(),P.returnValue=""},z=L3({getLocation:E,getLength:()=>e.history.length,pushState:(P,q)=>R("push",P,q),replaceState:(P,q)=>R("replace",P,q),back:P=>(P&&(x=!0),_=!0,e.history.back()),forward:P=>{P&&(x=!0),_=!0,e.history.forward()},go:P=>{h=!0,e.history.go(P)},createHref:P=>l(P),flush:O,destroy:()=>{e.history.pushState=n,e.history.replaceState=r,e.removeEventListener(xC,L,{capture:!0}),e.removeEventListener(bC,D)},onBlocked:()=>{p&&d!==p&&(d=p)},getBlockers:s,setBlockers:o,notifyOnIndexChange:!1});return e.addEventListener(xC,L,{capture:!0}),e.addEventListener(bC,D),e.history.pushState=function(...P){const q=n.apply(e.history,P);return z._ignoreSubscribers||A("PUSH"),q},e.history.replaceState=function(...P){const q=r.apply(e.history,P);return z._ignoreSubscribers||A("REPLACE"),q},z}function kB(t={initialEntries:["/"]}){const e=t.initialEntries;let n=t.initialIndex?Math.min(Math.max(t.initialIndex,0),e.length-1):e.length-1;const r=e.map((s,o)=>QS(o,void 0));return L3({getLocation:()=>ah(e[n],r[n]),getLength:()=>e.length,pushState:(s,o)=>{n<e.length-1&&(e.splice(n+1),r.splice(n+1)),r.push(o),e.push(s),n=Math.max(e.length-1,0)},replaceState:(s,o)=>{r[n]=o,e[n]=s},back:()=>{n=Math.max(n-1,0)},forward:()=>{n=Math.min(n+1,e.length-1)},go:s=>{n=Math.min(Math.max(n+s,0),e.length-1)},createHref:s=>s})}function ah(t,e){const n=t.indexOf("#"),r=t.indexOf("?");return{href:t,pathname:t.substring(0,n>0?r>0?Math.min(n,r):n:r>0?r:t.length),hash:n>-1?t.substring(n):"",search:r>-1?t.slice(r,n===-1?void 0:n):"",state:e||{[Vc]:0}}}function IB(){return(Math.random()+1).toString(36).substring(7)}var CB="Invariant failed";function Ns(t,e){if(!t)throw new Error(CB)}const Bw=Q.createContext(null);function M3(){return typeof document>"u"?Bw:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=Bw,Bw)}function Po(t){const e=Q.useContext(M3());return t?.warn,e}var zw={exports:{}},Ww={},Uw={exports:{}},Vw={};var wC;function TB(){if(wC)return Vw;wC=1;var t=Qh();function e(h,b){return h===b&&(h!==0||1/h===1/b)||h!==h&&b!==b}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function l(h,b){var x=b(),_=r({inst:{value:x,getSnapshot:b}}),E=_[0].inst,I=_[1];return s(function(){E.value=x,E.getSnapshot=b,u(E)&&I({inst:E})},[h,x,b]),i(function(){return u(E)&&I({inst:E}),h(function(){u(E)&&I({inst:E})})},[h]),o(x),x}function u(h){var b=h.getSnapshot;h=h.value;try{var x=b();return!n(h,x)}catch{return!0}}function d(h,b){return b()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return Vw.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,Vw}var _C;function OB(){return _C||(_C=1,Uw.exports=TB()),Uw.exports}var SC;function RB(){if(SC)return Ww;SC=1;var t=Qh(),e=OB();function n(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,l=t.useMemo,u=t.useDebugValue;return Ww.useSyncExternalStoreWithSelector=function(d,p,h,b,x){var _=s(null);if(_.current===null){var E={hasValue:!1,value:null};_.current=E}else E=_.current;_=l(function(){function T(L){if(!O){if(O=!0,R=L,L=b(L),x!==void 0&&E.hasValue){var z=E.value;if(x(z,L))return A=z}return A=L}if(z=A,r(R,L))return z;var P=b(L);return x!==void 0&&x(z,P)?(R=L,z):(R=L,A=P)}var O=!1,R,A,D=h===void 0?null:h;return[function(){return T(p())},D===null?void 0:function(){return T(D())}]},[p,h,b,x]);var I=i(d,_[0],_[1]);return o(function(){E.hasValue=!0,E.value=I},[I]),u(I),I},Ww}var EC;function qB(){return EC||(EC=1,zw.exports=RB()),zw.exports}var $3=qB();const jB=ao($3),gd=new WeakMap,cy=new WeakMap,rv={current:[]};let Hw=!1,Wp=0;const _p=new Set,Ig=new Map;function B3(t){const e=Array.from(t).sort((n,r)=>n instanceof yd&&n.options.deps.includes(r)?1:r instanceof yd&&r.options.deps.includes(n)?-1:0);for(const n of e){if(rv.current.includes(n))continue;rv.current.push(n),n.recompute();const r=cy.get(n);if(r)for(const i of r){const s=gd.get(i);s&&B3(s)}}}function AB(t){t.listeners.forEach(e=>e({prevVal:t.prevState,currentVal:t.state}))}function PB(t){t.listeners.forEach(e=>e({prevVal:t.prevState,currentVal:t.state}))}function z3(t){if(Wp>0&&!Ig.has(t)&&Ig.set(t,t.prevState),_p.add(t),!(Wp>0)&&!Hw)try{for(Hw=!0;_p.size>0;){const e=Array.from(_p);_p.clear();for(const n of e){const r=Ig.get(n)??n.prevState;n.prevState=r,AB(n)}for(const n of e){const r=gd.get(n);r&&(rv.current.push(n),B3(r))}for(const n of e){const r=gd.get(n);if(r)for(const i of r)PB(i)}}}finally{Hw=!1,rv.current=[],Ig.clear()}}function Kw(t){Wp++;try{t()}finally{if(Wp--,Wp===0){const e=Array.from(_p)[0];e&&z3(e)}}}class GS{constructor(e,n){this.listeners=new Set,this.subscribe=r=>{var i,s;this.listeners.add(r);const o=(s=(i=this.options)==null?void 0:i.onSubscribe)==null?void 0:s.call(i,r,this);return()=>{this.listeners.delete(r),o?.()}},this.setState=r=>{var i,s,o;this.prevState=this.state,this.state=(i=this.options)!=null&&i.updateFn?this.options.updateFn(this.prevState)(r):r(this.prevState),(o=(s=this.options)==null?void 0:s.onUpdate)==null||o.call(s),z3(this)},this.prevState=e,this.state=e,this.options=n}}class yd{constructor(e){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const n=[],r=[];for(const i of this.options.deps)n.push(i.prevState),r.push(i.state);return this.lastSeenDepValues=r,{prevDepVals:n,currDepVals:r,prevVal:this.prevState??void 0}},this.recompute=()=>{var n,r;this.prevState=this.state;const{prevDepVals:i,currDepVals:s,prevVal:o}=this.getDepVals();this.state=this.options.fn({prevDepVals:i,currDepVals:s,prevVal:o}),(r=(n=this.options).onUpdate)==null||r.call(n)},this.checkIfRecalculationNeededDeeply=()=>{for(const s of this.options.deps)s instanceof yd&&s.checkIfRecalculationNeededDeeply();let n=!1;const r=this.lastSeenDepValues,{currDepVals:i}=this.getDepVals();for(let s=0;s<i.length;s++)if(i[s]!==r[s]){n=!0;break}n&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const n of this._subscriptions)n()}),this.subscribe=n=>{var r,i;this.listeners.add(n);const s=(i=(r=this.options).onSubscribe)==null?void 0:i.call(r,n,this);return()=>{this.listeners.delete(n),s?.()}},this.options=e,this.state=e.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(e=this.options.deps){for(const n of e)if(n instanceof yd)n.registerOnGraph(),this.registerOnGraph(n.options.deps);else if(n instanceof GS){let r=gd.get(n);r||(r=new Set,gd.set(n,r)),r.add(this);let i=cy.get(this);i||(i=new Set,cy.set(this,i)),i.add(n)}}unregisterFromGraph(e=this.options.deps){for(const n of e)if(n instanceof yd)this.unregisterFromGraph(n.options.deps);else if(n instanceof GS){const r=gd.get(n);r&&r.delete(this);const i=cy.get(this);i&&i.delete(n)}}}function FB(t,e=n=>n){return $3.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,DB)}function DB(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!e.has(r)||!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(e,n[r])||!Object.is(t[n[r]],e[n[r]]))return!1;return!0}var Qw,NC;function LB(){if(NC)return Qw;NC=1;const t={},e=t.hasOwnProperty,n=(P,q)=>{for(const M in P)e.call(P,M)&&q(M,P[M])},r=(P,q)=>(q&&n(q,(M,F)=>{P[M]=F}),P),i=(P,q)=>{const M=P.length;let F=-1;for(;++F<M;)q(P[F])},s=P=>"\\u"+("0000"+P).slice(-4),o=(P,q)=>{let M=P.toString(16);return q?M:M.toUpperCase()},l=t.toString,u=Array.isArray,d=P=>typeof Buffer=="function"&&Buffer.isBuffer(P),p=P=>l.call(P)=="[object Object]",h=P=>typeof P=="string"||l.call(P)=="[object String]",b=P=>typeof P=="number"||l.call(P)=="[object Number]",x=P=>typeof P=="bigint",_=P=>typeof P=="function",E=P=>l.call(P)=="[object Map]",I=P=>l.call(P)=="[object Set]",T={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},O=/[\\\b\f\n\r\t]/,R=/[0-9]/,A=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,D=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,L=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,z=(P,q)=>{const M=()=>{le=Z,++q.indentLevel,Z=q.indent.repeat(q.indentLevel)},F={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},U=q&&q.json;U&&(F.quotes="double",F.wrap=!0),q=r(F,q),q.quotes!="single"&&q.quotes!="double"&&q.quotes!="backtick"&&(q.quotes="single");const V=q.quotes=="double"?'"':q.quotes=="backtick"?"`":"'",B=q.compact,te=q.lowercaseHex;let Z=q.indent.repeat(q.indentLevel),le="";const se=q.__inline1__,ne=q.__inline2__,oe=B?"":`
`;let X,ue=!0;const de=q.numbers=="binary",ye=q.numbers=="octal",we=q.numbers=="decimal",Ne=q.numbers=="hexadecimal";if(U&&P&&_(P.toJSON)&&(P=P.toJSON()),!h(P)){if(E(P))return P.size==0?"new Map()":(B||(q.__inline1__=!0,q.__inline2__=!1),"new Map("+z(Array.from(P),q)+")");if(I(P))return P.size==0?"new Set()":"new Set("+z(Array.from(P),q)+")";if(d(P))return P.length==0?"Buffer.from([])":"Buffer.from("+z(Array.from(P),q)+")";if(u(P))return X=[],q.wrap=!0,se&&(q.__inline1__=!1,q.__inline2__=!0),ne||M(),i(P,Re=>{ue=!1,ne&&(q.__inline2__=!1),X.push((B||ne?"":Z)+z(Re,q))}),ue?"[]":ne?"["+X.join(", ")+"]":"["+oe+X.join(","+oe)+oe+(B?"":le)+"]";if(b(P)||x(P)){if(U)return JSON.stringify(Number(P));let Re;if(we)Re=String(P);else if(Ne){let De=P.toString(16);te||(De=De.toUpperCase()),Re="0x"+De}else de?Re="0b"+P.toString(2):ye&&(Re="0o"+P.toString(8));return x(P)?Re+"n":Re}else return x(P)?U?JSON.stringify(Number(P)):P+"n":p(P)?(X=[],q.wrap=!0,M(),n(P,(Re,De)=>{ue=!1,X.push((B?"":Z)+z(Re,q)+":"+(B?"":" ")+z(De,q))}),ue?"{}":"{"+oe+X.join(","+oe)+oe+(B?"":le)+"}"):U?JSON.stringify(P)||"null":String(P)}const ze=q.escapeEverything?D:L;return X=P.replace(ze,(Re,De,Je,Xe,Ue,ct)=>{if(De){if(q.minimal)return De;const Tt=De.charCodeAt(0),Ut=De.charCodeAt(1);if(q.es6){const nn=(Tt-55296)*1024+Ut-56320+65536;return"\\u{"+o(nn,te)+"}"}return s(o(Tt,te))+s(o(Ut,te))}if(Je)return s(o(Je.charCodeAt(0),te));if(Re=="\0"&&!U&&!R.test(ct.charAt(Ue+1)))return"\\0";if(Xe)return Xe==V||q.escapeEverything?"\\"+Xe:Xe;if(O.test(Re))return T[Re];if(q.minimal&&!A.test(Re))return Re;const _t=o(Re.charCodeAt(0),te);return U||_t.length>2?s(_t):"\\x"+("00"+_t).slice(-2)}),V=="`"&&(X=X.replace(/\$\{/g,"\\${")),q.isScriptContext&&(X=X.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,U?"\\u003C!--":"\\x3C!--")),q.wrap&&(X=V+X+V),X};return z.version="3.0.2",Qw=z,Qw}LB();const Ss="__root__";function MB(t,e){let n,r,i,s="";for(n in t)if((i=t[n])!==void 0)if(Array.isArray(i))for(r=0;r<i.length;r++)s&&(s+="&"),s+=encodeURIComponent(n)+"="+encodeURIComponent(i[r]);else s&&(s+="&"),s+=encodeURIComponent(n)+"="+encodeURIComponent(i);return""+s}function kC(t){if(!t)return"";const e=decodeURIComponent(t);return e==="false"?!1:e==="true"?!0:+e*0===0&&+e+""===e?+e:e}function $B(t,e){let n,r;const i={},s=t.split("&");for(;n=s.shift();){const o=n.indexOf("=");if(o!==-1){r=n.slice(0,o),r=decodeURIComponent(r);const l=n.slice(o+1);i[r]!==void 0?i[r]=[].concat(i[r],kC(l)):i[r]=kC(l)}else r=n,r=decodeURIComponent(r),i[r]=""}return i}const BB=WB(JSON.parse),zB=UB(JSON.stringify,JSON.parse);function WB(t){return e=>{e.substring(0,1)==="?"&&(e=e.substring(1));const n=$B(e);for(const r in n){const i=n[r];if(typeof i=="string")try{n[r]=t(i)}catch{}}return n}}function UB(t,e){function n(r){if(typeof r=="object"&&r!==null)try{return t(r)}catch{}else if(typeof r=="string"&&typeof e=="function")try{return e(r),t(r)}catch{}return r}return r=>{r={...r},Object.keys(r).forEach(s=>{const o=r[s];typeof o>"u"||o===void 0?delete r[s]:r[s]=n(o)});const i=MB(r).toString();return i?`?${i}`:""}}function Up(t){return t[t.length-1]}function VB(t){return typeof t=="function"}function Lc(t,e){return VB(t)?t(e):t}function uy(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function Gs(t,e){if(t===e)return t;const n=e,r=CC(t)&&CC(n);if(r||Rl(t)&&Rl(n)){const i=r?t:Object.keys(t),s=i.length,o=r?n:Object.keys(n),l=o.length,u=r?[]:{};let d=0;for(let p=0;p<l;p++){const h=r?p:o[p];(!r&&i.includes(h)||r)&&t[h]===void 0&&n[h]===void 0?(u[h]=void 0,d++):(u[h]=Gs(t[h],n[h]),u[h]===t[h]&&t[h]!==void 0&&d++)}return s===l&&d===s?t:u}return n}function Rl(t){if(!IC(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!IC(n)||!n.hasOwnProperty("isPrototypeOf"))}function IC(t){return Object.prototype.toString.call(t)==="[object Object]"}function CC(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function TC(t,e){let n=Object.keys(t);return e&&(n=n.filter(r=>t[r]!==void 0)),n}function vd(t,e,n){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(Rl(t)&&Rl(e)){const r=n?.ignoreUndefined??!0,i=TC(t,r),s=TC(e,r);return!n?.partial&&i.length!==s.length?!1:s.every(o=>vd(t[o],e[o],n))}return Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:!t.some((r,i)=>!vd(r,e[i],n)):!1}const Sp=typeof window<"u"?Q.useLayoutEffect:Q.useEffect;function nd(t){let e,n;const r=new Promise((i,s)=>{e=i,n=s});return r.status="pending",r.resolve=i=>{r.status="resolved",r.value=i,e(i),t?.(i)},r.reject=i=>{r.status="rejected",n(i)},r}function Gw(t){const e=Q.useRef({value:t,prev:null}),n=e.current.value;return t!==n&&(e.current={value:t,prev:n}),e.current.prev}function HB(t,e,n={},r={}){const i=Q.useRef(typeof IntersectionObserver=="function"),s=Q.useRef(null);return Q.useEffect(()=>{if(!(!t.current||!i.current||r.disabled))return s.current=new IntersectionObserver(([o])=>{e(o)},n),s.current.observe(t.current),()=>{var o;(o=s.current)==null||o.disconnect()}},[e,n,r.disabled,t]),s.current}function KB(t){const e=Q.useRef(null);return Q.useEffect(()=>{t&&(typeof t=="function"?t(e.current):t.current=e.current)}),e}function ja(t){return cb(t.filter(e=>e!==void 0).join("/"))}function cb(t){return t.replace(/\/{2,}/g,"/")}function y1(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function Mc(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function QB(t){return Mc(y1(t))}function iv(t,e){return t.endsWith("/")&&t!=="/"&&t!==`${e}/`?t.slice(0,-1):t}function GB(t,e,n){return iv(t,n)===iv(e,n)}function JB({basepath:t,base:e,to:n,trailingSlash:r="never",caseSensitive:i}){var s,o;e=sv(t,e,i),n=sv(t,n,i);let l=Ad(e);const u=Ad(n);l.length>1&&((s=Up(l))==null?void 0:s.value)==="/"&&l.pop(),u.forEach((p,h)=>{p.value==="/"?h?h===u.length-1&&l.push(p):l=[p]:p.value===".."?l.pop():p.value==="."||l.push(p)}),l.length>1&&(((o=Up(l))==null?void 0:o.value)==="/"?r==="never"&&l.pop():r==="always"&&l.push({type:"pathname",value:"/"}));const d=ja([t,...l.map(p=>p.value)]);return cb(d)}function Ad(t){if(!t)return[];t=cb(t);const e=[];if(t.slice(0,1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),!t)return e;const n=t.split("/").filter(Boolean);return e.push(...n.map(r=>r==="$"||r==="*"?{type:"wildcard",value:r}:r.charAt(0)==="$"?{type:"param",value:r}:{type:"pathname",value:decodeURI(r)})),t.slice(-1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),e}function Cg({path:t,params:e,leaveWildcards:n,leaveParams:r,decodeCharMap:i}){const s=Ad(t),o={};for(const[l,u]of Object.entries(e)){const d=typeof u=="string";["*","_splat"].includes(l)?o[l]=d?encodeURI(u):u:o[l]=d?ZB(u,i):u}return ja(s.map(l=>{if(l.type==="wildcard"){const u=o._splat;return n?`${l.value}${u??""}`:u}if(l.type==="param"){if(r){const u=o[l.value];return`${l.value}${u??""}`}return o[l.value.substring(1)]??"undefined"}return l.value}))}function ZB(t,e){let n=encodeURIComponent(t);if(e)for(const[r,i]of e)n=n.replaceAll(r,i);return n}function Tg(t,e,n){const r=YB(t,e,n);if(!(n.to&&!r))return r??{}}function sv(t,e,n=!1){const r=n?t:t.toLowerCase(),i=n?e:e.toLowerCase();switch(!0){case r==="/":return e;case i===r:return"";case e.length<t.length:return e;case i[r.length]!=="/":return e;case i.startsWith(r):return e.slice(t.length);default:return e}}function YB(t,e,n){if(t!=="/"&&!e.startsWith(t))return;e=sv(t,e,n.caseSensitive);const r=sv(t,`${n.to??"$"}`,n.caseSensitive),i=Ad(e),s=Ad(r);e.startsWith("/")||i.unshift({type:"pathname",value:"/"}),r.startsWith("/")||s.unshift({type:"pathname",value:"/"});const o={};return(()=>{for(let u=0;u<Math.max(i.length,s.length);u++){const d=i[u],p=s[u],h=u>=i.length-1,b=u>=s.length-1;if(p){if(p.type==="wildcard"){const x=decodeURI(ja(i.slice(u).map(_=>_.value)));return o["*"]=x,o._splat=x,!0}if(p.type==="pathname"){if(p.value==="/"&&!d?.value)return!0;if(d){if(n.caseSensitive){if(p.value!==d.value)return!1}else if(p.value.toLowerCase()!==d.value.toLowerCase())return!1}}if(!d)return!1;if(p.type==="param"){if(d.value==="/")return!1;d.value.charAt(0)!=="$"&&(o[p.value.substring(1)]=decodeURIComponent(d.value))}}if(!h&&b)return o["**"]=ja(i.slice(u+1).map(x=>x.value)),!!n.fuzzy&&p?.value!=="/"}return!0})()?o:void 0}function Gh(t){if(t.isRedirect=!0,t.statusCode=t.statusCode||t.code||307,t.headers=t.headers||{},!t.reloadDocument){t.reloadDocument=!1;try{new URL(`${t.href}`),t.reloadDocument=!0}catch{}}if(t.throw)throw t;return t}function Tc(t){return!!t?.isRedirect}function Jw(t){return!!t?.isRedirect&&t.href}function v1(t){const e=t.errorComponent??ub;return f.jsx(XB,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:n,reset:r})=>n?Q.createElement(e,{error:n,reset:r}):t.children})}class XB extends Q.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,n){n.error&&n.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,n){this.props.onCatch&&this.props.onCatch(e,n)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function ub({error:t}){const[e,n]=Q.useState(!1);return f.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[f.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[f.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),f.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>n(r=>!r),children:e?"Hide Error":"Show Error"})]}),f.jsx("div",{style:{height:".25rem"}}),e?f.jsx("div",{children:f.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?f.jsx("code",{children:t.message}):null})}):null]})}function Bi(t){const e=Po({warn:t?.router===void 0}),n=t?.router||e,r=Q.useRef();return FB(n.__store,i=>{if(t?.select){if(t.structuralSharing??n.options.defaultStructuralSharing){const s=Gs(r.current,t.select(i));return r.current=s,s}return t.select(i)}return i})}function wo(t){return!!t?.isNotFound}function e4(t){const e=Bi({select:n=>`not-found-${n.location.pathname}-${n.status}`});return f.jsx(v1,{getResetKey:()=>e,onCatch:(n,r)=>{var i;if(wo(n))(i=t.onCatch)==null||i.call(t,n,r);else throw n},errorComponent:({error:n})=>{var r;if(wo(n))return(r=t.fallback)==null?void 0:r.call(t,n);throw n},children:t.children})}function t4(){return f.jsx("p",{children:"Not Found"})}const Ep={stringify:t=>JSON.stringify(t,function(n,r){const i=this[n],s=Rg.find(o=>o.stringifyCondition(i));return s?s.stringify(i):r}),parse:t=>JSON.parse(t,function(n,r){const i=this[n];if(Rl(i)){const s=Rg.find(o=>o.parseCondition(i));if(s)return s.parse(i)}return r}),encode:t=>{if(Array.isArray(t))return t.map(n=>Ep.encode(n));if(Rl(t))return Object.fromEntries(Object.entries(t).map(([n,r])=>[n,Ep.encode(r)]));const e=Rg.find(n=>n.stringifyCondition(t));return e?e.stringify(t):t},decode:t=>{if(Rl(t)){const e=Rg.find(n=>n.parseCondition(t));if(e)return e.parse(t)}return Array.isArray(t)?t.map(e=>Ep.decode(e)):Rl(t)?Object.fromEntries(Object.entries(t).map(([e,n])=>[e,Ep.decode(n)])):t}},Og=(t,e,n,r)=>({key:t,stringifyCondition:e,stringify:i=>({[`$${t}`]:n(i)}),parseCondition:i=>Object.hasOwn(i,`$${t}`),parse:i=>r(i[`$${t}`])}),Rg=[Og("undefined",t=>t===void 0,()=>0,()=>{}),Og("date",t=>t instanceof Date,t=>t.toISOString(),t=>new Date(t)),Og("error",t=>t instanceof Error,t=>({...t,message:t.message,stack:t.stack,cause:t.cause}),t=>Object.assign(new Error(t.message),t)),Og("formData",t=>t instanceof FormData,t=>{const e={};return t.forEach((n,r)=>{const i=e[r];i!==void 0?Array.isArray(i)?i.push(n):e[r]=[i,n]:e[r]=n}),e},t=>{const e=new FormData;return Object.entries(t).forEach(([n,r])=>{Array.isArray(r)?r.forEach(i=>e.append(n,i)):e.append(n,r)}),e})],W3=["component","errorComponent","pendingComponent","notFoundComponent"];function n4(t){var e;for(const n of W3)if((e=t.options[n])!=null&&e.preload)return!0;return!1}function Zw(t,e){if(t==null)return{};if("~standard"in t){const n=t["~standard"].validate(e);if(n instanceof Promise)throw new JS("Async validation not supported");if(n.issues)throw new JS(JSON.stringify(n.issues,void 0,2));return n.value}return"parse"in t?t.parse(e):typeof t=="function"?t(e):{}}function r4(t){return new i4(t)}class i4{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.startReactTransition=n=>n(),this.update=n=>{var r;n.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/guide/not-found-errors#migrating-from-notfoundroute for more info.");const i=this.options;this.options={...this.options,...n},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(s=>[encodeURIComponent(s),s])):void 0,(!this.basepath||n.basepath&&n.basepath!==i.basepath)&&(n.basepath===void 0||n.basepath===""||n.basepath==="/"?this.basepath="/":this.basepath=`/${QB(n.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?kB({initialEntries:[this.basepath||"/"]}):NB()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new GS(o4(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(s=>!["redirected"].includes(s.status))}}})),typeof window<"u"&&"CSS"in window&&typeof((r=window.CSS)==null?void 0:r.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.buildRouteTree=()=>{this.routesById={},this.routesByPath={};const n=this.options.notFoundRoute;n&&(n.init({originalIndex:0x174876e7ff,defaultSsr:this.options.defaultSsr}),this.routesById[n.id]=n);const r=o=>{o.forEach((l,u)=>{l.init({originalIndex:u,defaultSsr:this.options.defaultSsr});const d=this.routesById[l.id];if(Ns(!d,`Duplicate routes found with id: ${String(l.id)}`),this.routesById[l.id]=l,!l.isRoot&&l.path){const h=Mc(l.fullPath);(!this.routesByPath[h]||l.fullPath.endsWith("/"))&&(this.routesByPath[h]=l)}const p=l.children;p?.length&&r(p)})};r([this.routeTree]);const i=[];Object.values(this.routesById).forEach((o,l)=>{var u;if(o.isRoot||!o.path)return;const d=y1(o.fullPath),p=Ad(d);for(;p.length>1&&((u=p[0])==null?void 0:u.value)==="/";)p.shift();const h=p.map(b=>b.value==="/"?.75:b.type==="param"?.5:b.type==="wildcard"?.25:1);i.push({child:o,trimmed:d,parsed:p,index:l,scores:h})}),this.flatRoutes=i.sort((o,l)=>{const u=Math.min(o.scores.length,l.scores.length);for(let d=0;d<u;d++)if(o.scores[d]!==l.scores[d])return l.scores[d]-o.scores[d];if(o.scores.length!==l.scores.length)return l.scores.length-o.scores.length;for(let d=0;d<u;d++)if(o.parsed[d].value!==l.parsed[d].value)return o.parsed[d].value>l.parsed[d].value?1:-1;return o.index-l.index}).map((o,l)=>(o.child.rank=l,o.child))},this.subscribe=(n,r)=>{const i={eventType:n,fn:r};return this.subscribers.add(i),()=>{this.subscribers.delete(i)}},this.emit=n=>{this.subscribers.forEach(r=>{r.eventType===n.type&&r.fn(n)})},this.parseLocation=(n,r)=>{const i=({pathname:u,search:d,hash:p,state:h})=>{const b=this.options.parseSearch(d),x=this.options.stringifySearch(b);return{pathname:u,searchStr:x,search:Gs(n?.search,b),hash:p.split("#").reverse()[0]??"",href:`${u}${x}${p}`,state:Gs(n?.state,h)}},s=i(r??this.history.location),{__tempLocation:o,__tempKey:l}=s.state;if(o&&(!l||l===this.tempLocationKey)){const u=i(o);return u.state.key=s.state.key,delete u.state.__tempLocation,{...u,maskedLocation:s}}return s},this.resolvePathWithBase=(n,r)=>JB({basepath:this.basepath,base:n,to:cb(r),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.getMatchedRoutes=(n,r)=>{let i={};const s=Mc(n.pathname),o=p=>Tg(this.basepath,s,{to:p.fullPath,caseSensitive:p.options.caseSensitive??this.options.caseSensitive,fuzzy:!0});let l=r?.to!==void 0?this.routesByPath[r.to]:void 0;l?i=o(l):l=this.flatRoutes.find(p=>{const h=o(p);return h?(i=h,!0):!1});let u=l||this.routesById[Ss];const d=[u];for(;u.parentRoute;)u=u.parentRoute,d.unshift(u);return{matchedRoutes:d,routeParams:i,foundRoute:l}},this.cancelMatch=n=>{const r=this.getMatch(n);r&&(r.abortController.abort(),clearTimeout(r.pendingTimeout))},this.cancelMatches=()=>{var n;(n=this.state.pendingMatches)==null||n.forEach(r=>{this.cancelMatch(r.id)})},this.buildLocation=n=>{const r=(s={},o)=>{var l,u,d,p,h,b;const x=s._fromLocation?this.matchRoutes(s._fromLocation,{_buildLocation:!0}):this.state.matches,_=s.from!=null?x.find(F=>Tg(this.basepath,Mc(F.pathname),{to:s.from,caseSensitive:!1,fuzzy:!1})):void 0,E=_?.pathname||this.latestLocation.pathname;Ns(s.from==null||_!=null,"Could not find match for from: "+s.from);const I=(l=this.state.pendingMatches)!=null&&l.length?(u=Up(this.state.pendingMatches))==null?void 0:u.search:((d=Up(x))==null?void 0:d.search)||this.latestLocation.search,T=o?.matchedRoutes.filter(F=>x.find(U=>U.routeId===F.id));let O;if(s.to)O=this.resolvePathWithBase(E,`${s.to}`);else{const F=this.routesById[(p=T?.find(U=>{const V=Cg({path:U.fullPath,params:o?.routeParams??{},decodeCharMap:this.pathParamsDecodeCharMap});return ja([this.basepath,V])===E}))==null?void 0:p.id];O=this.resolvePathWithBase(E,F?.to??E)}const R={...(h=Up(x))==null?void 0:h.params};let A=(s.params??!0)===!0?R:{...R,...Lc(s.params,R)};Object.keys(A).length>0&&o?.matchedRoutes.map(F=>{var U;return((U=F.options.params)==null?void 0:U.stringify)??F.options.stringifyParams}).filter(Boolean).forEach(F=>{A={...A,...F(A)}}),O=Cg({path:O,params:A??{},leaveWildcards:!1,leaveParams:n.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap});let D=I;if(n._includeValidateSearch&&((b=this.options.search)!=null&&b.strict)){let F={};o?.matchedRoutes.forEach(U=>{try{U.options.validateSearch&&(F={...F,...Zw(U.options.validateSearch,{...F,...D})??{}})}catch{}}),D=F}D=(F=>{const U=o?.matchedRoutes.reduce((te,Z)=>{var le;const se=[];if("search"in Z.options)(le=Z.options.search)!=null&&le.middlewares&&se.push(...Z.options.search.middlewares);else if(Z.options.preSearchFilters||Z.options.postSearchFilters){const ne=({search:oe,next:X})=>{let ue=oe;"preSearchFilters"in Z.options&&Z.options.preSearchFilters&&(ue=Z.options.preSearchFilters.reduce((ye,we)=>we(ye),oe));const de=X(ue);return"postSearchFilters"in Z.options&&Z.options.postSearchFilters?Z.options.postSearchFilters.reduce((ye,we)=>we(ye),de):de};se.push(ne)}if(n._includeValidateSearch&&Z.options.validateSearch){const ne=({search:oe,next:X})=>{try{const ue=X(oe);return{...ue,...Zw(Z.options.validateSearch,ue)??{}}}catch{}};se.push(ne)}return te.concat(se)},[])??[],V=({search:te})=>s.search?s.search===!0?te:Lc(s.search,te):{};U.push(V);const B=(te,Z)=>{if(te>=U.length)return Z;const le=U[te];return le({search:Z,next:ne=>B(te+1,ne)})};return B(0,F)})(D),D=Gs(I,D);const z=this.options.stringifySearch(D),P=s.hash===!0?this.latestLocation.hash:s.hash?Lc(s.hash,this.latestLocation.hash):void 0,q=P?`#${P}`:"";let M=s.state===!0?this.latestLocation.state:s.state?Lc(s.state,this.latestLocation.state):{};return M=Gs(this.latestLocation.state,M),{pathname:O,search:D,searchStr:z,state:M,hash:P??"",href:`${O}${z}${q}`,unmaskOnReload:s.unmaskOnReload}},i=(s={},o)=>{var l;const u=r(s);let d=o?r(o):void 0;if(!d){let b={};const x=(l=this.options.routeMasks)==null?void 0:l.find(_=>{const E=Tg(this.basepath,u.pathname,{to:_.from,caseSensitive:!1,fuzzy:!1});return E?(b=E,!0):!1});if(x){const{from:_,...E}=x;o={...uy(n,["from"]),...E,params:b},d=r(o)}}const p=this.getMatchedRoutes(u,s),h=r(s,p);if(d){const b=this.getMatchedRoutes(d,o),x=r(o,b);h.maskedLocation=x}return h};return n.mask?i(n,{...uy(n,["from"]),...n.mask}):i(n)},this.commitLocation=({viewTransition:n,ignoreBlocker:r,...i})=>{const s=()=>{i.state.key=this.latestLocation.state.key;const u=vd(i.state,this.latestLocation.state);return delete i.state.key,u},o=this.latestLocation.href===i.href,l=this.commitLocationPromise;if(this.commitLocationPromise=nd(()=>{l?.resolve()}),o&&s())this.load();else{let{maskedLocation:u,hashScrollIntoView:d,...p}=i;u&&(p={...u,state:{...u.state,__tempKey:void 0,__tempLocation:{...p,search:p.searchStr,state:{...p.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}},(p.unmaskOnReload??this.options.unmaskOnReload??!1)&&(p.state.__tempKey=this.tempLocationKey)),p.state.__hashScrollIntoViewOptions=d??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=n,this.history[i.replace?"replace":"push"](p.href,p.state,{ignoreBlocker:r})}return this.resetNextScroll=i.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:n,resetScroll:r,hashScrollIntoView:i,viewTransition:s,ignoreBlocker:o,href:l,...u}={})=>{if(l){const p=this.history.location.state.__TSR_index,h=ah(l,{__TSR_index:n?p:p+1});u.to=h.pathname,u.search=this.options.parseSearch(h.search),u.hash=h.hash.slice(1)}const d=this.buildLocation({...u,_includeValidateSearch:!0});return this.commitLocation({...d,viewTransition:s,replace:n,resetScroll:r,hashScrollIntoView:i,ignoreBlocker:o})},this.navigate=({to:n,reloadDocument:r,href:i,...s})=>{if(r){i||(i=this.buildLocation({to:n,...s}).href),s.replace?window.location.replace(i):window.location.href=i;return}return this.buildAndCommitLocation({...s,href:i,to:n})},this.load=async n=>{this.latestLocation=this.parseLocation(this.latestLocation);let r,i,s;for(s=new Promise(o=>{this.startReactTransition(async()=>{var l;try{const u=this.latestLocation,d=this.state.resolvedLocation,p=d.href!==u.href,h=d.pathname!==u.pathname;this.cancelMatches();let b;Kw(()=>{b=this.matchRoutes(u),this.__store.setState(x=>({...x,status:"pending",isLoading:!0,location:u,pendingMatches:b,cachedMatches:x.cachedMatches.filter(_=>!b.find(E=>E.id===_.id))}))}),this.state.redirect||this.emit({type:"onBeforeNavigate",fromLocation:d,toLocation:u,pathChanged:h,hrefChanged:p}),this.emit({type:"onBeforeLoad",fromLocation:d,toLocation:u,pathChanged:h,hrefChanged:p}),await this.loadMatches({sync:n?.sync,matches:b,location:u,onReady:async()=>{this.startViewTransition(async()=>{let x,_,E;Kw(()=>{this.__store.setState(I=>{const T=I.matches,O=I.pendingMatches||I.matches;return x=T.filter(R=>!O.find(A=>A.id===R.id)),_=O.filter(R=>!T.find(A=>A.id===R.id)),E=T.filter(R=>O.find(A=>A.id===R.id)),{...I,isLoading:!1,loadedAt:Date.now(),matches:O,pendingMatches:void 0,cachedMatches:[...I.cachedMatches,...x.filter(R=>R.status!=="error")]}}),this.clearExpiredCache()}),[[x,"onLeave"],[_,"onEnter"],[E,"onStay"]].forEach(([I,T])=>{I.forEach(O=>{var R,A;(A=(R=this.looseRoutesById[O.routeId].options)[T])==null||A.call(R,O)})})})}})}catch(u){Jw(u)?(r=u,this.isServer||this.navigate({...r,replace:!0,ignoreBlocker:!0})):wo(u)&&(i=u),this.__store.setState(d=>({...d,statusCode:r?r.statusCode:i?404:d.matches.some(p=>p.status==="error")?500:200,redirect:r}))}this.latestLoadPromise===s&&((l=this.commitLocationPromise)==null||l.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),o()})}),this.latestLoadPromise=s,await s;this.latestLoadPromise&&s!==this.latestLoadPromise;)await this.latestLoadPromise},this.startViewTransition=n=>{const r=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,r&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let i;typeof r=="object"&&this.isViewTransitionTypesSupported?i={update:n,types:r.types}:i=n,document.startViewTransition(i)}else n()},this.updateMatch=(n,r)=>{var i;let s;const o=(i=this.state.pendingMatches)==null?void 0:i.find(p=>p.id===n),l=this.state.matches.find(p=>p.id===n),u=this.state.cachedMatches.find(p=>p.id===n),d=o?"pendingMatches":l?"matches":u?"cachedMatches":"";return d&&this.__store.setState(p=>{var h;return{...p,[d]:(h=p[d])==null?void 0:h.map(b=>b.id===n?s=r(b):b)}}),s},this.getMatch=n=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(r=>r.id===n),this.loadMatches=async({location:n,matches:r,preload:i,onReady:s,updateMatch:o=this.updateMatch,sync:l})=>{let u,d=!1;const p=async()=>{d||(d=!0,await s?.())},h=x=>!!(i&&!this.state.matches.find(_=>_.id===x));!this.isServer&&!this.state.matches.length&&p();const b=(x,_)=>{var E,I,T;if(Jw(_)&&!_.reloadDocument)throw _;if(Tc(_)||wo(_)){if(o(x.id,O=>({...O,status:Tc(_)?"redirected":wo(_)?"notFound":"error",isFetching:!1,error:_,beforeLoadPromise:void 0,loaderPromise:void 0})),_.routeId||(_.routeId=x.routeId),(E=x.beforeLoadPromise)==null||E.resolve(),(I=x.loaderPromise)==null||I.resolve(),(T=x.loadPromise)==null||T.resolve(),Tc(_))throw d=!0,_=this.resolveRedirect({..._,_fromLocation:n}),_;if(wo(_))throw this._handleNotFound(r,_,{updateMatch:o}),_}};try{await new Promise((x,_)=>{(async()=>{var E,I,T;try{const O=(D,L,z)=>{var P,q;const{id:M,routeId:F}=r[D],U=this.looseRoutesById[F];if(L instanceof Promise)throw L;L.routerCode=z,u=u??D,b(this.getMatch(M),L);try{(q=(P=U.options).onError)==null||q.call(P,L)}catch(V){L=V,b(this.getMatch(M),L)}o(M,V=>{var B,te;return(B=V.beforeLoadPromise)==null||B.resolve(),(te=V.loadPromise)==null||te.resolve(),{...V,error:L,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[D,{id:L,routeId:z}]of r.entries()){const P=this.getMatch(L),q=(E=r[D-1])==null?void 0:E.id,M=this.looseRoutesById[z],F=M.options.pendingMs??this.options.defaultPendingMs,U=!!(s&&!this.isServer&&!h(L)&&(M.options.loader||M.options.beforeLoad)&&typeof F=="number"&&F!==1/0&&(M.options.pendingComponent??this.options.defaultPendingComponent));let V=!0;if((P.beforeLoadPromise||P.loaderPromise)&&(U&&setTimeout(()=>{try{p()}catch{}},F),await P.beforeLoadPromise,V=this.getMatch(L).status!=="success"),V){try{o(L,Ne=>({...Ne,loadPromise:nd(()=>{var ze;(ze=Ne.loadPromise)==null||ze.resolve()}),beforeLoadPromise:nd()}));const B=new AbortController;let te;U&&(te=setTimeout(()=>{try{p()}catch{}},F));const{paramsError:Z,searchError:le}=this.getMatch(L);Z&&O(D,Z,"PARSE_PARAMS"),le&&O(D,le,"VALIDATE_SEARCH");const se=()=>q?this.getMatch(q).context:this.options.context??{};o(L,Ne=>({...Ne,isFetching:"beforeLoad",fetchCount:Ne.fetchCount+1,abortController:B,pendingTimeout:te,context:{...se(),...Ne.__routeContext}}));const{search:ne,params:oe,context:X,cause:ue}=this.getMatch(L),de=h(L),ye={search:ne,abortController:B,params:oe,preload:de,context:X,location:n,navigate:Ne=>this.navigate({...Ne,_fromLocation:n}),buildLocation:this.buildLocation,cause:de?"preload":ue,matches:r};let we=await ((T=(I=M.options).beforeLoad)==null?void 0:T.call(I,ye))??{};this.serializeLoaderData&&(we=this.serializeLoaderData("__beforeLoadContext",we,{router:this,match:this.getMatch(L)})),(Tc(we)||wo(we))&&O(D,we,"BEFORE_LOAD"),o(L,Ne=>({...Ne,__beforeLoadContext:we,context:{...se(),...Ne.__routeContext,...we},abortController:B}))}catch(B){O(D,B,"BEFORE_LOAD")}o(L,B=>{var te;return(te=B.beforeLoadPromise)==null||te.resolve(),{...B,beforeLoadPromise:void 0,isFetching:!1}})}}const R=r.slice(0,u),A=[];R.forEach(({id:D,routeId:L},z)=>{A.push((async()=>{const{loaderPromise:P}=this.getMatch(D);let q=!1,M=!1;if(P){await P;const F=this.getMatch(D);F.error&&b(F,F.error)}else{const F=A[z-1],U=this.looseRoutesById[L],V=()=>{const{params:ue,loaderDeps:de,abortController:ye,context:we,cause:Ne}=this.getMatch(D),ze=h(D);return{params:ue,deps:de,preload:!!ze,parentMatchPromise:F,abortController:ye,context:we,location:n,navigate:Re=>this.navigate({...Re,_fromLocation:n}),cause:ze?"preload":Ne,route:U}},B=Date.now()-this.getMatch(D).updatedAt,te=h(D),Z=te?U.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:U.options.staleTime??this.options.defaultStaleTime??0,le=U.options.shouldReload,se=typeof le=="function"?le(V()):le;o(D,ue=>({...ue,loaderPromise:nd(),preload:!!te&&!this.state.matches.find(de=>de.id===D)}));const ne=async()=>{var ue,de,ye,we,Ne,ze,Re,De;try{const Je=async()=>{const Xe=this.getMatch(D);Xe.minPendingPromise&&await Xe.minPendingPromise};try{this.loadRouteChunk(U),o(D,nn=>({...nn,isFetching:"loader"}));let Xe=await ((de=(ue=U.options).loader)==null?void 0:de.call(ue,V()));this.serializeLoaderData&&(Xe=this.serializeLoaderData("loaderData",Xe,{router:this,match:this.getMatch(D)})),b(this.getMatch(D),Xe),await U._lazyPromise,await Je();const Ue=(we=(ye=U.options).head)==null?void 0:we.call(ye,{matches:r,match:this.getMatch(D),params:this.getMatch(D).params,loaderData:Xe}),ct=Ue?.meta,_t=Ue?.links,Tt=Ue?.scripts,Ut=(ze=(Ne=U.options).headers)==null?void 0:ze.call(Ne,{loaderData:Xe});o(D,nn=>({...nn,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:Xe,meta:ct,links:_t,scripts:Tt,headers:Ut}))}catch(Xe){let Ue=Xe;await Je(),b(this.getMatch(D),Xe);try{(De=(Re=U.options).onError)==null||De.call(Re,Xe)}catch(ct){Ue=ct,b(this.getMatch(D),ct)}o(D,ct=>({...ct,error:Ue,status:"error",isFetching:!1}))}await U._componentsPromise}catch(Je){o(D,Xe=>({...Xe,loaderPromise:void 0})),b(this.getMatch(D),Je)}},{status:oe,invalid:X}=this.getMatch(D);q=oe==="success"&&(X||(se??B>Z)),te&&U.options.preload===!1||(q&&!l?(M=!0,(async()=>{try{await ne();const{loaderPromise:ue,loadPromise:de}=this.getMatch(D);ue?.resolve(),de?.resolve(),o(D,ye=>({...ye,loaderPromise:void 0}))}catch(ue){Jw(ue)&&await this.navigate(ue)}})()):(oe!=="success"||q&&l)&&await ne())}if(!M){const{loaderPromise:F,loadPromise:U}=this.getMatch(D);F?.resolve(),U?.resolve()}return o(D,F=>({...F,isFetching:M?F.isFetching:!1,loaderPromise:M?F.loaderPromise:void 0,invalid:!1})),this.getMatch(D)})())}),await Promise.all(A),x()}catch(O){_(O)}})()}),await p()}catch(x){if(Tc(x)||wo(x))throw wo(x)&&!i&&await p(),x}return r},this.invalidate=n=>{const r=i=>{var s;return((s=n?.filter)==null?void 0:s.call(n,i))??!0?{...i,invalid:!0,...i.status==="error"?{status:"pending",error:void 0}:{}}:i};return this.__store.setState(i=>{var s;return{...i,matches:i.matches.map(r),cachedMatches:i.cachedMatches.map(r),pendingMatches:(s=i.pendingMatches)==null?void 0:s.map(r)}}),this.load({sync:n?.sync})},this.resolveRedirect=n=>{const r=n;return r.href||(r.href=this.buildLocation(r).href),r},this.clearCache=n=>{const r=n?.filter;r!==void 0?this.__store.setState(i=>({...i,cachedMatches:i.cachedMatches.filter(s=>!r(s))})):this.__store.setState(i=>({...i,cachedMatches:[]}))},this.clearExpiredCache=()=>{const n=r=>{const i=this.looseRoutesById[r.routeId];if(!i.options.loader)return!0;const s=(r.preload?i.options.preloadGcTime??this.options.defaultPreloadGcTime:i.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return!(r.status!=="error"&&Date.now()-r.updatedAt<s)};this.clearCache({filter:n})},this.loadRouteChunk=n=>(n._lazyPromise===void 0&&(n.lazyFn?n._lazyPromise=n.lazyFn().then(r=>{const{id:i,...s}=r.options;Object.assign(n.options,s)}):n._lazyPromise=Promise.resolve()),n._componentsPromise===void 0&&(n._componentsPromise=n._lazyPromise.then(()=>Promise.all(W3.map(async r=>{const i=n.options[r];i?.preload&&await i.preload()})))),n._componentsPromise),this.preloadRoute=async n=>{const r=this.buildLocation(n);let i=this.matchRoutes(r,{throwOnError:!0,preload:!0,dest:n});const s=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(l=>l.id)),o=new Set([...s,...this.state.cachedMatches.map(l=>l.id)]);Kw(()=>{i.forEach(l=>{o.has(l.id)||this.__store.setState(u=>({...u,cachedMatches:[...u.cachedMatches,l]}))})});try{return i=await this.loadMatches({matches:i,location:r,preload:!0,updateMatch:(l,u)=>{s.has(l)?i=i.map(d=>d.id===l?u(d):d):this.updateMatch(l,u)}}),i}catch(l){if(Tc(l))return l.reloadDocument?void 0:await this.preloadRoute({...l,_fromLocation:r});console.error(l);return}},this.matchRoute=(n,r)=>{const i={...n,to:n.to?this.resolvePathWithBase(n.from||"",n.to):void 0,params:n.params||{},leaveParams:!0},s=this.buildLocation(i);if(r?.pending&&this.state.status!=="pending")return!1;const l=(r?.pending===void 0?!this.state.isLoading:r.pending)?this.latestLocation:this.state.resolvedLocation,u=Tg(this.basepath,l.pathname,{...r,to:s.pathname});return!u||n.params&&!vd(u,n.params,{partial:!0})?!1:u&&(r?.includeSearch??!0)?vd(l.search,s.search,{partial:!0})?u:!1:u},this.dehydrate=()=>{var n;const r=((n=this.options.errorSerializer)==null?void 0:n.serialize)??a4;return{state:{dehydratedMatches:this.state.matches.map(i=>({...uy(i,["id","status","updatedAt"]),error:i.error?{data:r(i.error),__isServerError:!0}:void 0}))},manifest:this.manifest}},this.hydrate=()=>{var n,r,i;let s;typeof document<"u"&&(s=this.options.transformer.parse((n=window.__TSR__)==null?void 0:n.dehydrated)),Ns(s),this.dehydratedData=s.payload,(i=(r=this.options).hydrate)==null||i.call(r,s.payload);const o=s.router.state,l=this.matchRoutes(this.state.location).map(u=>{const d=o.dehydratedMatches.find(p=>p.id===u.id);return Ns(d,`Could not find a client-side match for dehydrated match with id: ${u.id}!`),{...u,...d}});this.__store.setState(u=>({...u,matches:l})),this.manifest=s.router.manifest},this.injectedHtml=[],this.injectHtml=n=>{const r=()=>(this.injectedHtml=this.injectedHtml.filter(i=>i!==r),n);this.injectedHtml.push(r)},this.injectScript=(n,r)=>{this.injectHtml(`<script class='tsr-once'>${n}; if (typeof __TSR__ !== 'undefined') __TSR__.cleanScripts()</script>`)},this.streamedKeys=new Set,this.getStreamedValue=n=>{var r;if(this.isServer)return;const i=(r=window.__TSR__)==null?void 0:r.streamedValues[n];if(i)return i.parsed||(i.parsed=this.options.transformer.parse(i.value)),i.parsed},this.streamValue=(n,r)=>{var i;this.streamedKeys.has(n),this.streamedKeys.add(n),this.injectScript(`__TSR__.streamedValues['${n}'] = { value: ${(i=this.serializer)==null?void 0:i.call(this,this.options.transformer.stringify(r))}}`)},this._handleNotFound=(n,r,{updateMatch:i=this.updateMatch}={})=>{const s=Object.fromEntries(n.map(u=>[u.routeId,u]));let o=(r.global?this.looseRoutesById[Ss]:this.looseRoutesById[r.routeId])||this.looseRoutesById[Ss];for(;!o.options.notFoundComponent&&!this.options.defaultNotFoundComponent&&o.id!==Ss;)o=o.parentRoute,Ns(o);const l=s[o.id];Ns(l,"Could not find match for route: "+o.id),i(l.id,u=>({...u,status:"notFound",error:r,isFetching:!1})),r.routerCode==="BEFORE_LOAD"&&o.parentRoute&&(r.routeId=o.parentRoute.id,this._handleNotFound(n,r,{updateMatch:i}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(n=>n.status==="notFound"||n.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??zB,parseSearch:e.parseSearch??BB,transformer:e.transformer??Ep}),typeof document<"u"&&(window.__TSR__ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutes(e,n,r){return typeof e=="string"?this.matchRoutesInternal({pathname:e,search:n},r):this.matchRoutesInternal(e,n)}matchRoutesInternal(e,n){const{foundRoute:r,matchedRoutes:i,routeParams:s}=this.getMatchedRoutes(e,n?.dest);let o=!1;(r?r.path!=="/"&&s["**"]:Mc(e.pathname))&&(this.options.notFoundRoute?i.push(this.options.notFoundRoute):o=!0);const l=(()=>{if(o){if(this.options.notFoundMode!=="root")for(let h=i.length-1;h>=0;h--){const b=i[h];if(b.children)return b.id}return Ss}})(),u=i.map(h=>{var b;let x;const _=((b=h.options.params)==null?void 0:b.parse)??h.options.parseParams;if(_)try{const E=_(s);Object.assign(s,E)}catch(E){if(x=new s4(E.message,{cause:E}),n?.throwOnError)throw x;return x}}),d=[],p=h=>h?.id?h.context??this.options.context??{}:this.options.context??{};return i.forEach((h,b)=>{var x,_,E,I;const T=d[b-1],[O,R]=(()=>{const V=T?.search??e.search;try{const B=Zw(h.options.validateSearch,V)??{};return[{...V,...B},void 0]}catch(B){const te=new JS(B.message,{cause:B});if(n?.throwOnError)throw te;return[V,te]}})(),A=((_=(x=h.options).loaderDeps)==null?void 0:_.call(x,{search:O}))??"",D=A?JSON.stringify(A):"",L=Cg({path:h.fullPath,params:s,decodeCharMap:this.pathParamsDecodeCharMap}),z=Cg({path:h.id,params:s,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap})+D,P=this.getMatch(z),q=this.state.matches.find(V=>V.routeId===h.id),M=q?"stay":"enter";let F;if(P)F={...P,cause:M,params:q?Gs(q.params,s):s,search:Gs(q?q.search:P.search,O)};else{const V=h.options.loader||h.options.beforeLoad||h.lazyFn||n4(h)?"pending":"success";F={id:z,index:b,routeId:h.id,params:q?Gs(q.params,s):s,pathname:ja([this.basepath,L]),updatedAt:Date.now(),search:q?Gs(q.search,O):O,searchError:void 0,status:V,isFetching:!1,error:void 0,paramsError:u[b],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:M,loaderDeps:q?Gs(q.loaderDeps,A):A,invalid:!1,preload:!1,links:void 0,scripts:void 0,meta:void 0,staticData:h.options.staticData||{},loadPromise:nd(),fullPath:h.fullPath}}F.status==="success"&&(F.headers=(I=(E=h.options).headers)==null?void 0:I.call(E,{loaderData:F.loaderData})),n?.preload||(F.globalNotFound=l===h.id),F.searchError=R;const U=p(T);F.context={...U,...F.__routeContext,...F.__beforeLoadContext},d.push(F)}),d.forEach((h,b)=>{var x,_,E,I;const T=this.looseRoutesById[h.routeId];if(!this.getMatch(h.id)&&n?._buildLocation!==!0){const A=d[b-1],D=p(A),L={deps:h.loaderDeps,params:h.params,context:D,location:e,navigate:z=>this.navigate({...z,_fromLocation:e}),buildLocation:this.buildLocation,cause:h.cause,abortController:h.abortController,preload:!!h.preload,matches:d};h.__routeContext=((_=(x=T.options).context)==null?void 0:_.call(x,L))??{},h.context={...D,...h.__routeContext,...h.__beforeLoadContext}}const R=(I=(E=T.options).head)==null?void 0:I.call(E,{matches:d,match:h,params:h.params,loaderData:h.loaderData??void 0});h.links=R?.links,h.scripts=R?.scripts,h.meta=R?.meta}),d}}class JS extends Error{}class s4 extends Error{}function o4(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:{...t},location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function a4(t){return t instanceof Error?{name:t.name,message:t.message}:{data:t}}function OC(t){return!(typeof t=="object"&&t&&"data"in t)||!("__isServerError"in t&&t.__isServerError)||!(typeof t.data=="object"&&t.data)?!1:t.__isServerError===!0}function RC(t){if("name"in t&&"message"in t){const e=new Error(t.message);return e.name=t.name,e}return t.data}const db=Q.createContext(void 0),l4=Q.createContext(void 0);function Ml(t){const e=Q.useContext(t.from?l4:db);return Bi({select:r=>{const i=r.matches.find(s=>t.from?t.from===s.routeId:s.id===e);if(Ns(!((t.shouldThrow??!0)&&!i),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),i!==void 0)return t.select?t.select(i):i},structuralSharing:t.structuralSharing})}function Ps(t){return Ml({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}function c4(t){const{select:e,...n}=t;return Ml({...n,select:r=>e?e(r.loaderDeps):r.loaderDeps})}function cn(t){return Ml({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.params):e.params})}function u4(t){return Ml({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}function Xd(t){const{navigate:e}=Po();return Q.useCallback(n=>e({...n}),[e])}let U3=class{constructor(e){this.init=n=>{var r,i;this.originalIndex=n.originalIndex;const s=this.options,o=!s?.path&&!s?.id;this.parentRoute=(i=(r=this.options).getParentRoute)==null?void 0:i.call(r),o?this._path=Ss:Ns(this.parentRoute);let l=o?Ss:s.path;l&&l!=="/"&&(l=y1(l));const u=s?.id||l;let d=o?Ss:ja([this.parentRoute.id===Ss?"":this.parentRoute.id,u]);l===Ss&&(l="/"),d!==Ss&&(d=ja(["/",d]));const p=d===Ss?"/":ja([this.parentRoute.fullPath,l]);this._path=l,this._id=d,this._fullPath=p,this._to=p,this._ssr=s?.ssr??n.defaultSsr??!0},this.updateLoader=n=>(Object.assign(this.options,n),this),this.update=n=>(Object.assign(this.options,n),this),this.lazy=n=>(this.lazyFn=n,this),this.useMatch=n=>Ml({select:n?.select,from:this.id,structuralSharing:n?.structuralSharing}),this.useRouteContext=n=>Ml({...n,from:this.id,select:r=>n?.select?n.select(r.context):r.context}),this.useSearch=n=>u4({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useParams=n=>cn({select:n?.select,structuralSharing:n?.structuralSharing,from:this.id}),this.useLoaderDeps=n=>c4({...n,from:this.id}),this.useLoaderData=n=>Ps({...n,from:this.id}),this.useNavigate=()=>Xd({from:this.id}),this.options=e||{},this.isRoot=!e?.getParentRoute,Ns(!(e?.id&&e?.path)),this.$$typeof=Symbol.for("react.memo")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}get ssr(){return this._ssr}addChildren(e){return this._addFileChildren(e)}_addFileChildren(e){return Array.isArray(e)&&(this.children=e),typeof e=="object"&&e!==null&&(this.children=Object.values(e)),this}};function d4(t){return new U3(t)}function f4(){return t=>h4(t)}class p4 extends U3{constructor(e){super(e)}addChildren(e){return super.addChildren(e),this}_addFileChildren(e){return super._addFileChildren(e),this}_addFileTypes(){return this}}function h4(t){return new p4(t)}function Wt(t){return new m4(t,{silent:!0}).createRoute}class m4{constructor(e,n){this.path=e,this.createRoute=r=>{this.silent;const i=d4(r);return i.isRoot=!1,i},this.silent=n?.silent}}function dy(t){return f.jsx(f.Fragment,{children:t.children})}function V3(t,e,n){return e.options.notFoundComponent?f.jsx(e.options.notFoundComponent,{data:n}):t.options.defaultNotFoundComponent?f.jsx(t.options.defaultNotFoundComponent,{data:n}):f.jsx(t4,{})}const H3=Q.memo(function({matchId:e}){var n,r;const i=Po(),s=Bi({select:I=>{var T;return(T=I.matches.find(O=>O.id===e))==null?void 0:T.routeId}});Ns(s);const o=i.routesById[s],l=o.options.pendingComponent??i.options.defaultPendingComponent,u=l?f.jsx(l,{}):null,d=o.options.errorComponent??i.options.defaultErrorComponent,p=o.options.onCatch??i.options.defaultOnCatch,h=o.isRoot?o.options.notFoundComponent??((n=i.options.notFoundRoute)==null?void 0:n.options.component):o.options.notFoundComponent,b=(!o.isRoot||o.options.wrapInSuspense)&&(o.options.wrapInSuspense??l??((r=o.options.errorComponent)==null?void 0:r.preload))?Q.Suspense:dy,x=d?v1:dy,_=h?e4:dy,E=Bi({select:I=>I.loadedAt});return f.jsx(db.Provider,{value:e,children:f.jsx(b,{fallback:u,children:f.jsx(x,{getResetKey:()=>E,errorComponent:d||ub,onCatch:(I,T)=>{if(wo(I))throw I;p?.(I,T)},children:f.jsx(_,{fallback:I=>{if(!h||I.routeId&&I.routeId!==s||!I.routeId&&!o.isRoot)throw I;return Q.createElement(h,I)},children:f.jsx(g4,{matchId:e})})})})})}),g4=Q.memo(function({matchId:e}){var n,r,i,s,o;const l=Po(),{match:u,matchIndex:d,routeId:p}=Bi({select:_=>{const E=_.matches.findIndex(O=>O.id===e),I=_.matches[E];return{routeId:I.routeId,matchIndex:E,match:uy(I,["id","status","error"])}},structuralSharing:!0}),h=l.routesById[p],b=Q.useMemo(()=>{const _=h.options.component??l.options.defaultComponent;return _?f.jsx(_,{}):f.jsx(lo,{})},[h.options.component,l.options.defaultComponent]),x=(h.options.errorComponent??l.options.defaultErrorComponent)||ub;if(u.status==="notFound"){let _;return OC(u.error)?_=(((n=l.options.errorSerializer)==null?void 0:n.deserialize)??RC)(u.error.data):_=u.error,Ns(wo(_)),V3(l,h,_)}if(u.status==="redirected")throw Ns(Tc(u.error)),(r=l.getMatch(u.id))==null?void 0:r.loadPromise;if(u.status==="error"){if(l.isServer)return f.jsx(x,{error:u.error,info:{componentStack:""}});throw OC(u.error)?(((i=l.options.errorSerializer)==null?void 0:i.deserialize)??RC)(u.error.data):u.error}if(u.status==="pending"){const _=h.options.pendingMinMs??l.options.defaultPendingMinMs;if(_&&!((s=l.getMatch(u.id))!=null&&s.minPendingPromise)&&!l.isServer){const E=nd();Promise.resolve().then(()=>{l.updateMatch(u.id,I=>({...I,minPendingPromise:E}))}),setTimeout(()=>{E.resolve(),l.updateMatch(u.id,I=>({...I,minPendingPromise:void 0}))},_)}throw(o=l.getMatch(u.id))==null?void 0:o.loadPromise}return f.jsxs(f.Fragment,{children:[b,l.AfterEachMatch?f.jsx(l.AfterEachMatch,{match:u,matchIndex:d}):null]})}),lo=Q.memo(function(){const e=Po(),n=Q.useContext(db),r=Bi({select:d=>{var p;return(p=d.matches.find(h=>h.id===n))==null?void 0:p.routeId}}),i=e.routesById[r],s=Bi({select:d=>{const h=d.matches.find(b=>b.id===n);return Ns(h),h.globalNotFound}}),o=Bi({select:d=>{var p;const h=d.matches,b=h.findIndex(x=>x.id===n);return(p=h[b+1])==null?void 0:p.id}});if(s)return V3(e,i,void 0);if(!o)return null;const l=f.jsx(H3,{matchId:o}),u=e.options.defaultPendingComponent?f.jsx(e.options.defaultPendingComponent,{}):null;return n===Ss?f.jsx(Q.Suspense,{fallback:u,children:l}):l});var Yw={exports:{}},is={},Xw={exports:{}},e_={};var qC;function y4(){return qC||(qC=1,function(t){function e(se,ne){var oe=se.length;se.push(ne);e:for(;0<oe;){var X=oe-1>>>1,ue=se[X];if(0<i(ue,ne))se[X]=ne,se[oe]=ue,oe=X;else break e}}function n(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var ne=se[0],oe=se.pop();if(oe!==ne){se[0]=oe;e:for(var X=0,ue=se.length,de=ue>>>1;X<de;){var ye=2*(X+1)-1,we=se[ye],Ne=ye+1,ze=se[Ne];if(0>i(we,oe))Ne<ue&&0>i(ze,we)?(se[X]=ze,se[Ne]=oe,X=Ne):(se[X]=we,se[ye]=oe,X=ye);else if(Ne<ue&&0>i(ze,oe))se[X]=ze,se[Ne]=oe,X=Ne;else break e}}return ne}function i(se,ne){var oe=se.sortIndex-ne.sortIndex;return oe!==0?oe:se.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],d=[],p=1,h=null,b=3,x=!1,_=!1,E=!1,I=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(se){for(var ne=n(d);ne!==null;){if(ne.callback===null)r(d);else if(ne.startTime<=se)r(d),ne.sortIndex=ne.expirationTime,e(u,ne);else break;ne=n(d)}}function A(se){if(E=!1,R(se),!_)if(n(u)!==null)_=!0,Z(D);else{var ne=n(d);ne!==null&&le(A,ne.startTime-se)}}function D(se,ne){_=!1,E&&(E=!1,T(P),P=-1),x=!0;var oe=b;try{for(R(ne),h=n(u);h!==null&&(!(h.expirationTime>ne)||se&&!F());){var X=h.callback;if(typeof X=="function"){h.callback=null,b=h.priorityLevel;var ue=X(h.expirationTime<=ne);ne=t.unstable_now(),typeof ue=="function"?h.callback=ue:h===n(u)&&r(u),R(ne)}else r(u);h=n(u)}if(h!==null)var de=!0;else{var ye=n(d);ye!==null&&le(A,ye.startTime-ne),de=!1}return de}finally{h=null,b=oe,x=!1}}var L=!1,z=null,P=-1,q=5,M=-1;function F(){return!(t.unstable_now()-M<q)}function U(){if(z!==null){var se=t.unstable_now();M=se;var ne=!0;try{ne=z(!0,se)}finally{ne?V():(L=!1,z=null)}}else L=!1}var V;if(typeof O=="function")V=function(){O(U)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,te=B.port2;B.port1.onmessage=U,V=function(){te.postMessage(null)}}else V=function(){I(U,0)};function Z(se){z=se,L||(L=!0,V())}function le(se,ne){P=I(function(){se(t.unstable_now())},ne)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(se){se.callback=null},t.unstable_continueExecution=function(){_||x||(_=!0,Z(D))},t.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<se?Math.floor(1e3/se):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(se){switch(b){case 1:case 2:case 3:var ne=3;break;default:ne=b}var oe=b;b=ne;try{return se()}finally{b=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(se,ne){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var oe=b;b=se;try{return ne()}finally{b=oe}},t.unstable_scheduleCallback=function(se,ne,oe){var X=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?X+oe:X):oe=X,se){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=0x3fffffff;break;case 4:ue=1e4;break;default:ue=5e3}return ue=oe+ue,se={id:p++,callback:ne,priorityLevel:se,startTime:oe,expirationTime:ue,sortIndex:-1},oe>X?(se.sortIndex=oe,e(d,se),n(u)===null&&se===n(d)&&(E?(T(P),P=-1):E=!0,le(A,oe-X))):(se.sortIndex=ue,e(u,se),_||x||(_=!0,Z(D))),se},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(se){var ne=b;return function(){var oe=b;b=ne;try{return se.apply(this,arguments)}finally{b=oe}}}}(e_)),e_}var jC;function v4(){return jC||(jC=1,Xw.exports=y4()),Xw.exports}var AC;function b4(){if(AC)return is;AC=1;var t=Qh(),e=v4();function n(a){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+a,m=1;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+a+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(a,c){o(a,c),o(a+"Capture",c)}function o(a,c){for(i[a]=c,a=0;a<c.length;a++)r.add(c[a])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function b(a){return u.call(h,a)?!0:u.call(p,a)?!1:d.test(a)?h[a]=!0:(p[a]=!0,!1)}function x(a,c,m,w){if(m!==null&&m.type===0)return!1;switch(typeof c){case"function":case"symbol":return!0;case"boolean":return w?!1:m!==null?!m.acceptsBooleans:(a=a.toLowerCase().slice(0,5),a!=="data-"&&a!=="aria-");default:return!1}}function _(a,c,m,w){if(c===null||typeof c>"u"||x(a,c,m,w))return!0;if(w)return!1;if(m!==null)switch(m.type){case 3:return!c;case 4:return c===!1;case 5:return isNaN(c);case 6:return isNaN(c)||1>c}return!1}function E(a,c,m,w,k,j,J){this.acceptsBooleans=c===2||c===3||c===4,this.attributeName=w,this.attributeNamespace=k,this.mustUseProperty=m,this.propertyName=a,this.type=c,this.sanitizeURL=j,this.removeEmptyString=J}var I={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){I[a]=new E(a,0,!1,a,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var c=a[0];I[c]=new E(c,1,!1,a[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){I[a]=new E(a,2,!1,a.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){I[a]=new E(a,2,!1,a,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){I[a]=new E(a,3,!1,a.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(a){I[a]=new E(a,3,!0,a,null,!1,!1)}),["capture","download"].forEach(function(a){I[a]=new E(a,4,!1,a,null,!1,!1)}),["cols","rows","size","span"].forEach(function(a){I[a]=new E(a,6,!1,a,null,!1,!1)}),["rowSpan","start"].forEach(function(a){I[a]=new E(a,5,!1,a.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function O(a){return a[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var c=a.replace(T,O);I[c]=new E(c,1,!1,a,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var c=a.replace(T,O);I[c]=new E(c,1,!1,a,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var c=a.replace(T,O);I[c]=new E(c,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(a){I[a]=new E(a,1,!1,a.toLowerCase(),null,!1,!1)}),I.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(a){I[a]=new E(a,1,!1,a.toLowerCase(),null,!0,!0)});function R(a,c,m,w){var k=I.hasOwnProperty(c)?I[c]:null;(k!==null?k.type!==0:w||!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(_(c,m,k,w)&&(m=null),w||k===null?b(c)&&(m===null?a.removeAttribute(c):a.setAttribute(c,""+m)):k.mustUseProperty?a[k.propertyName]=m===null?k.type===3?!1:"":m:(c=k.attributeName,w=k.attributeNamespace,m===null?a.removeAttribute(c):(k=k.type,m=k===3||k===4&&m===!0?"":""+m,w?a.setAttributeNS(w,c,m):a.setAttribute(c,m))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),L=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),F=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),se=Symbol.iterator;function ne(a){return a===null||typeof a!="object"?null:(a=se&&a[se]||a["@@iterator"],typeof a=="function"?a:null)}var oe=Object.assign,X;function ue(a){if(X===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);X=c&&c[1]||""}return`
`+X+a}var de=!1;function ye(a,c){if(!a||de)return"";de=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(He){var w=He}Reflect.construct(a,[],c)}else{try{c.call()}catch(He){w=He}a.call(c.prototype)}else{try{throw Error()}catch(He){w=He}a()}}catch(He){if(He&&w&&typeof He.stack=="string"){for(var k=He.stack.split(`
`),j=w.stack.split(`
`),J=k.length-1,ge=j.length-1;1<=J&&0<=ge&&k[J]!==j[ge];)ge--;for(;1<=J&&0<=ge;J--,ge--)if(k[J]!==j[ge]){if(J!==1||ge!==1)do if(J--,ge--,0>ge||k[J]!==j[ge]){var Se=`
`+k[J].replace(" at new "," at ");return a.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",a.displayName)),Se}while(1<=J&&0<=ge);break}}}finally{de=!1,Error.prepareStackTrace=m}return(a=a?a.displayName||a.name:"")?ue(a):""}function we(a){switch(a.tag){case 5:return ue(a.type);case 16:return ue("Lazy");case 13:return ue("Suspense");case 19:return ue("SuspenseList");case 0:case 2:case 15:return a=ye(a.type,!1),a;case 11:return a=ye(a.type.render,!1),a;case 1:return a=ye(a.type,!0),a;default:return""}}function Ne(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case z:return"Fragment";case L:return"Portal";case q:return"Profiler";case P:return"StrictMode";case V:return"Suspense";case B:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case F:return(a.displayName||"Context")+".Consumer";case M:return(a._context.displayName||"Context")+".Provider";case U:var c=a.render;return a=a.displayName,a||(a=c.displayName||c.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case te:return c=a.displayName||null,c!==null?c:Ne(a.type)||"Memo";case Z:c=a._payload,a=a._init;try{return Ne(a(c))}catch{}}return null}function ze(a){var c=a.type;switch(a.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=c.render,a=a.displayName||a.name||"",c.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(c);case 8:return c===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function Re(a){switch(typeof a){case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function De(a){var c=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Je(a){var c=De(a)?"checked":"value",m=Object.getOwnPropertyDescriptor(a.constructor.prototype,c),w=""+a[c];if(!a.hasOwnProperty(c)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var k=m.get,j=m.set;return Object.defineProperty(a,c,{configurable:!0,get:function(){return k.call(this)},set:function(J){w=""+J,j.call(this,J)}}),Object.defineProperty(a,c,{enumerable:m.enumerable}),{getValue:function(){return w},setValue:function(J){w=""+J},stopTracking:function(){a._valueTracker=null,delete a[c]}}}}function Xe(a){a._valueTracker||(a._valueTracker=Je(a))}function Ue(a){if(!a)return!1;var c=a._valueTracker;if(!c)return!0;var m=c.getValue(),w="";return a&&(w=De(a)?a.checked?"true":"false":a.value),a=w,a!==m?(c.setValue(a),!0):!1}function ct(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}function _t(a,c){var m=c.checked;return oe({},c,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??a._wrapperState.initialChecked})}function Tt(a,c){var m=c.defaultValue==null?"":c.defaultValue,w=c.checked!=null?c.checked:c.defaultChecked;m=Re(c.value!=null?c.value:m),a._wrapperState={initialChecked:w,initialValue:m,controlled:c.type==="checkbox"||c.type==="radio"?c.checked!=null:c.value!=null}}function Ut(a,c){c=c.checked,c!=null&&R(a,"checked",c,!1)}function nn(a,c){Ut(a,c);var m=Re(c.value),w=c.type;if(m!=null)w==="number"?(m===0&&a.value===""||a.value!=m)&&(a.value=""+m):a.value!==""+m&&(a.value=""+m);else if(w==="submit"||w==="reset"){a.removeAttribute("value");return}c.hasOwnProperty("value")?ve(a,c.type,m):c.hasOwnProperty("defaultValue")&&ve(a,c.type,Re(c.defaultValue)),c.checked==null&&c.defaultChecked!=null&&(a.defaultChecked=!!c.defaultChecked)}function xe(a,c,m){if(c.hasOwnProperty("value")||c.hasOwnProperty("defaultValue")){var w=c.type;if(!(w!=="submit"&&w!=="reset"||c.value!==void 0&&c.value!==null))return;c=""+a._wrapperState.initialValue,m||c===a.value||(a.value=c),a.defaultValue=c}m=a.name,m!==""&&(a.name=""),a.defaultChecked=!!a._wrapperState.initialChecked,m!==""&&(a.name=m)}function ve(a,c,m){(c!=="number"||ct(a.ownerDocument)!==a)&&(m==null?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+m&&(a.defaultValue=""+m))}var ke=Array.isArray;function Ae(a,c,m,w){if(a=a.options,c){c={};for(var k=0;k<m.length;k++)c["$"+m[k]]=!0;for(m=0;m<a.length;m++)k=c.hasOwnProperty("$"+a[m].value),a[m].selected!==k&&(a[m].selected=k),k&&w&&(a[m].defaultSelected=!0)}else{for(m=""+Re(m),c=null,k=0;k<a.length;k++){if(a[k].value===m){a[k].selected=!0,w&&(a[k].defaultSelected=!0);return}c!==null||a[k].disabled||(c=a[k])}c!==null&&(c.selected=!0)}}function Ve(a,c){if(c.dangerouslySetInnerHTML!=null)throw Error(n(91));return oe({},c,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function rt(a,c){var m=c.value;if(m==null){if(m=c.children,c=c.defaultValue,m!=null){if(c!=null)throw Error(n(92));if(ke(m)){if(1<m.length)throw Error(n(93));m=m[0]}c=m}c==null&&(c=""),m=c}a._wrapperState={initialValue:Re(m)}}function Me(a,c){var m=Re(c.value),w=Re(c.defaultValue);m!=null&&(m=""+m,m!==a.value&&(a.value=m),c.defaultValue==null&&a.defaultValue!==m&&(a.defaultValue=m)),w!=null&&(a.defaultValue=""+w)}function ut(a){var c=a.textContent;c===a._wrapperState.initialValue&&c!==""&&c!==null&&(a.value=c)}function Qt(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gt(a,c){return a==null||a==="http://www.w3.org/1999/xhtml"?Qt(c):a==="http://www.w3.org/2000/svg"&&c==="foreignObject"?"http://www.w3.org/1999/xhtml":a}var hn,ur=function(a){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(c,m,w,k){MSApp.execUnsafeLocalFunction(function(){return a(c,m,w,k)})}:a}(function(a,c){if(a.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in a)a.innerHTML=c;else{for(hn=hn||document.createElement("div"),hn.innerHTML="<svg>"+c.valueOf().toString()+"</svg>",c=hn.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;c.firstChild;)a.appendChild(c.firstChild)}});function Fn(a,c){if(c){var m=a.firstChild;if(m&&m===a.lastChild&&m.nodeType===3){m.nodeValue=c;return}}a.textContent=c}var Hr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Oi=["Webkit","ms","Moz","O"];Object.keys(Hr).forEach(function(a){Oi.forEach(function(c){c=c+a.charAt(0).toUpperCase()+a.substring(1),Hr[c]=Hr[a]})});function Tr(a,c,m){return c==null||typeof c=="boolean"||c===""?"":m||typeof c!="number"||c===0||Hr.hasOwnProperty(a)&&Hr[a]?(""+c).trim():c+"px"}function Jt(a,c){a=a.style;for(var m in c)if(c.hasOwnProperty(m)){var w=m.indexOf("--")===0,k=Tr(m,c[m],w);m==="float"&&(m="cssFloat"),w?a.setProperty(m,k):a[m]=k}}var Qi=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gi(a,c){if(c){if(Qi[a]&&(c.children!=null||c.dangerouslySetInnerHTML!=null))throw Error(n(137,a));if(c.dangerouslySetInnerHTML!=null){if(c.children!=null)throw Error(n(60));if(typeof c.dangerouslySetInnerHTML!="object"||!("__html"in c.dangerouslySetInnerHTML))throw Error(n(61))}if(c.style!=null&&typeof c.style!="object")throw Error(n(62))}}function Ji(a,c){if(a.indexOf("-")===-1)return typeof c.is=="string";switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uo=null;function la(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ac=null,Ds=null,H=null;function pu(a){if(a=Gf(a)){if(typeof ac!="function")throw Error(n(280));var c=a.stateNode;c&&(c=Bm(c),ac(a.stateNode,a.type,c))}}function un(a){Ds?H?H.push(a):H=[a]:Ds=a}function hu(){if(Ds){var a=Ds,c=H;if(H=Ds=null,pu(a),c)for(a=0;a<c.length;a++)pu(c[a])}}function mu(a,c){return a(c)}function gu(){}var lc=!1;function ca(a,c,m){if(lc)return a(c,m);lc=!0;try{return mu(a,c,m)}finally{lc=!1,(Ds!==null||H!==null)&&(gu(),hu())}}function Zi(a,c){var m=a.stateNode;if(m===null)return null;var w=Bm(m);if(w===null)return null;m=w[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(a=a.type,w=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!w;break e;default:a=!1}if(a)return null;if(m&&typeof m!="function")throw Error(n(231,c,typeof m));return m}var cc=!1;if(l)try{var ua={};Object.defineProperty(ua,"passive",{get:function(){cc=!0}}),window.addEventListener("test",ua,ua),window.removeEventListener("test",ua,ua)}catch{cc=!1}function _f(a,c,m,w,k,j,J,ge,Se){var He=Array.prototype.slice.call(arguments,3);try{c.apply(m,He)}catch(ht){this.onError(ht)}}var da=!1,Ls=null,Ha=!1,Ms=null,Sf={onError:function(a){da=!0,Ls=a}};function Ef(a,c,m,w,k,j,J,ge,Se){da=!1,Ls=null,_f.apply(Sf,arguments)}function yu(a,c,m,w,k,j,J,ge,Se){if(Ef.apply(this,arguments),da){if(da){var He=Ls;da=!1,Ls=null}else throw Error(n(198));Ha||(Ha=!0,Ms=He)}}function $s(a){var c=a,m=a;if(a.alternate)for(;c.return;)c=c.return;else{a=c;do c=a,c.flags&4098&&(m=c.return),a=c.return;while(a)}return c.tag===3?m:null}function vu(a){if(a.tag===13){var c=a.memoizedState;if(c===null&&(a=a.alternate,a!==null&&(c=a.memoizedState)),c!==null)return c.dehydrated}return null}function bu(a){if($s(a)!==a)throw Error(n(188))}function Nf(a){var c=a.alternate;if(!c){if(c=$s(a),c===null)throw Error(n(188));return c!==a?null:a}for(var m=a,w=c;;){var k=m.return;if(k===null)break;var j=k.alternate;if(j===null){if(w=k.return,w!==null){m=w;continue}break}if(k.child===j.child){for(j=k.child;j;){if(j===m)return bu(k),a;if(j===w)return bu(k),c;j=j.sibling}throw Error(n(188))}if(m.return!==w.return)m=k,w=j;else{for(var J=!1,ge=k.child;ge;){if(ge===m){J=!0,m=k,w=j;break}if(ge===w){J=!0,w=k,m=j;break}ge=ge.sibling}if(!J){for(ge=j.child;ge;){if(ge===m){J=!0,m=j,w=k;break}if(ge===w){J=!0,w=j,m=k;break}ge=ge.sibling}if(!J)throw Error(n(189))}}if(m.alternate!==w)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?a:c}function xu(a){return a=Nf(a),a!==null?wu(a):null}function wu(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var c=wu(a);if(c!==null)return c;a=a.sibling}return null}var _u=e.unstable_scheduleCallback,uc=e.unstable_cancelCallback,Su=e.unstable_shouldYield,kf=e.unstable_requestPaint,dr=e.unstable_now,If=e.unstable_getCurrentPriorityLevel,dc=e.unstable_ImmediatePriority,Eu=e.unstable_UserBlockingPriority,Ka=e.unstable_NormalPriority,Cf=e.unstable_LowPriority,fc=e.unstable_IdlePriority,Qa=null,Yi=null;function Tf(a){if(Yi&&typeof Yi.onCommitFiberRoot=="function")try{Yi.onCommitFiberRoot(Qa,a,void 0,(a.current.flags&128)===128)}catch{}}var mi=Math.clz32?Math.clz32:qf,Of=Math.log,Rf=Math.LN2;function qf(a){return a>>>=0,a===0?32:31-(Of(a)/Rf|0)|0}var Lo=64,Ga=4194304;function Ri(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194240;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return a&0x7c00000;case 0x8000000:return 0x8000000;case 0x10000000:return 0x10000000;case 0x20000000:return 0x20000000;case 0x40000000:return 0x40000000;default:return a}}function Ja(a,c){var m=a.pendingLanes;if(m===0)return 0;var w=0,k=a.suspendedLanes,j=a.pingedLanes,J=m&0xfffffff;if(J!==0){var ge=J&~k;ge!==0?w=Ri(ge):(j&=J,j!==0&&(w=Ri(j)))}else J=m&~k,J!==0?w=Ri(J):j!==0&&(w=Ri(j));if(w===0)return 0;if(c!==0&&c!==w&&!(c&k)&&(k=w&-w,j=c&-c,k>=j||k===16&&(j&4194240)!==0))return c;if(w&4&&(w|=m&16),c=a.entangledLanes,c!==0)for(a=a.entanglements,c&=w;0<c;)m=31-mi(c),k=1<<m,w|=a[m],c&=~k;return w}function fx(a,c){switch(a){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return-1;case 0x8000000:case 0x10000000:case 0x20000000:case 0x40000000:return-1;default:return-1}}function px(a,c){for(var m=a.suspendedLanes,w=a.pingedLanes,k=a.expirationTimes,j=a.pendingLanes;0<j;){var J=31-mi(j),ge=1<<J,Se=k[J];Se===-1?(!(ge&m)||ge&w)&&(k[J]=fx(ge,c)):Se<=c&&(a.expiredLanes|=ge),j&=~ge}}function jf(a){return a=a.pendingLanes&-0x40000001,a!==0?a:a&0x40000000?0x40000000:0}function Rm(){var a=Lo;return Lo<<=1,!(Lo&4194240)&&(Lo=64),a}function Af(a){for(var c=[],m=0;31>m;m++)c.push(a);return c}function pc(a,c,m){a.pendingLanes|=c,c!==0x20000000&&(a.suspendedLanes=0,a.pingedLanes=0),a=a.eventTimes,c=31-mi(c),a[c]=m}function hx(a,c){var m=a.pendingLanes&~c;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.expiredLanes&=c,a.mutableReadLanes&=c,a.entangledLanes&=c,c=a.entanglements;var w=a.eventTimes;for(a=a.expirationTimes;0<m;){var k=31-mi(m),j=1<<k;c[k]=0,w[k]=-1,a[k]=-1,m&=~j}}function Pf(a,c){var m=a.entangledLanes|=c;for(a=a.entanglements;m;){var w=31-mi(m),k=1<<w;k&c|a[w]&c&&(a[w]|=c),m&=~k}}var Dn=0;function qm(a){return a&=-a,1<a?4<a?a&0xfffffff?16:0x20000000:4:1}var Ff,he,Df,hc,Lf,g=!1,y=[],S=null,N=null,C=null,$=new Map,fe=new Map,me=[],Ke="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tt(a,c){switch(a){case"focusin":case"focusout":S=null;break;case"dragenter":case"dragleave":N=null;break;case"mouseover":case"mouseout":C=null;break;case"pointerover":case"pointerout":$.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":fe.delete(c.pointerId)}}function at(a,c,m,w,k,j){return a===null||a.nativeEvent!==j?(a={blockedOn:c,domEventName:m,eventSystemFlags:w,nativeEvent:j,targetContainers:[k]},c!==null&&(c=Gf(c),c!==null&&he(c)),a):(a.eventSystemFlags|=w,c=a.targetContainers,k!==null&&c.indexOf(k)===-1&&c.push(k),a)}function mt(a,c,m,w,k){switch(c){case"focusin":return S=at(S,a,c,m,w,k),!0;case"dragenter":return N=at(N,a,c,m,w,k),!0;case"mouseover":return C=at(C,a,c,m,w,k),!0;case"pointerover":var j=k.pointerId;return $.set(j,at($.get(j)||null,a,c,m,w,k)),!0;case"gotpointercapture":return j=k.pointerId,fe.set(j,at(fe.get(j)||null,a,c,m,w,k)),!0}return!1}function Be(a){var c=mc(a.target);if(c!==null){var m=$s(c);if(m!==null){if(c=m.tag,c===13){if(c=vu(m),c!==null){a.blockedOn=c,Lf(a.priority,function(){Df(m)});return}}else if(c===3&&m.stateNode.current.memoizedState.isDehydrated){a.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}a.blockedOn=null}function qe(a){if(a.blockedOn!==null)return!1;for(var c=a.targetContainers;0<c.length;){var m=ce(a.domEventName,a.eventSystemFlags,c[0],a.nativeEvent);if(m===null){m=a.nativeEvent;var w=new m.constructor(m.type,m);uo=w,m.target.dispatchEvent(w),uo=null}else return c=Gf(m),c!==null&&he(c),a.blockedOn=m,!1;c.shift()}return!0}function et(a,c,m){qe(a)&&m.delete(c)}function be(){g=!1,S!==null&&qe(S)&&(S=null),N!==null&&qe(N)&&(N=null),C!==null&&qe(C)&&(C=null),$.forEach(et),fe.forEach(et)}function Ie(a,c){a.blockedOn===c&&(a.blockedOn=null,g||(g=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,be)))}function Te(a){function c(k){return Ie(k,a)}if(0<y.length){Ie(y[0],a);for(var m=1;m<y.length;m++){var w=y[m];w.blockedOn===a&&(w.blockedOn=null)}}for(S!==null&&Ie(S,a),N!==null&&Ie(N,a),C!==null&&Ie(C,a),$.forEach(c),fe.forEach(c),m=0;m<me.length;m++)w=me[m],w.blockedOn===a&&(w.blockedOn=null);for(;0<me.length&&(m=me[0],m.blockedOn===null);)Be(m),m.blockedOn===null&&me.shift()}var Ze=A.ReactCurrentBatchConfig,Ge=!0;function Oe(a,c,m,w){var k=Dn,j=Ze.transition;Ze.transition=null;try{Dn=1,St(a,c,m,w)}finally{Dn=k,Ze.transition=j}}function Qe(a,c,m,w){var k=Dn,j=Ze.transition;Ze.transition=null;try{Dn=4,St(a,c,m,w)}finally{Dn=k,Ze.transition=j}}function St(a,c,m,w){if(Ge){var k=ce(a,c,m,w);if(k===null)Cx(a,c,w,Y,m),tt(a,w);else if(mt(k,a,c,m,w))w.stopPropagation();else if(tt(a,w),c&4&&-1<Ke.indexOf(a)){for(;k!==null;){var j=Gf(k);if(j!==null&&Ff(j),j=ce(a,c,m,w),j===null&&Cx(a,c,w,Y,m),j===k)break;k=j}k!==null&&w.stopPropagation()}else Cx(a,c,w,null,m)}}var Y=null;function ce(a,c,m,w){if(Y=null,a=la(w),a=mc(a),a!==null)if(c=$s(a),c===null)a=null;else if(m=c.tag,m===13){if(a=vu(c),a!==null)return a;a=null}else if(m===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;a=null}else c!==a&&(a=null);return Y=a,null}function Ee(a){switch(a){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(If()){case dc:return 1;case Eu:return 4;case Ka:case Cf:return 16;case fc:return 0x20000000;default:return 16}default:return 16}}var st=null,ae=null,pe=null;function K(){if(pe)return pe;var a,c=ae,m=c.length,w,k="value"in st?st.value:st.textContent,j=k.length;for(a=0;a<m&&c[a]===k[a];a++);var J=m-a;for(w=1;w<=J&&c[m-w]===k[j-w];w++);return pe=k.slice(a,1<w?1-w:void 0)}function re(a){var c=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&c===13&&(a=13)):a=c,a===10&&(a=13),32<=a||a===13?a:0}function ie(){return!0}function Le(){return!1}function it(a){function c(m,w,k,j,J){this._reactName=m,this._targetInst=k,this.type=w,this.nativeEvent=j,this.target=J,this.currentTarget=null;for(var ge in a)a.hasOwnProperty(ge)&&(m=a[ge],this[ge]=m?m(j):j[ge]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?ie:Le,this.isPropagationStopped=Le,this}return oe(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=ie)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=ie)},persist:function(){},isPersistent:ie}),c}var Rt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bt=it(Rt),Zt=oe({},Rt,{view:0,detail:0}),lt=it(Zt),_e,Pe,ot,pt=oe({},Zt,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vn,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ot&&(ot&&a.type==="mousemove"?(_e=a.screenX-ot.screenX,Pe=a.screenY-ot.screenY):Pe=_e=0,ot=a),_e)},movementY:function(a){return"movementY"in a?a.movementY:Pe}}),Ft=it(pt),Yt=oe({},pt,{dataTransfer:0}),je=it(Yt),nt=oe({},Zt,{relatedTarget:0}),dt=it(nt),Nt=oe({},Rt,{animationName:0,elapsedTime:0,pseudoElement:0}),xt=it(Nt),$t=oe({},Rt,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),mn=it($t),qt=oe({},Rt,{data:0}),Or=it(qt),We={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kt(a){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(a):(a=wt[a])?!!c[a]:!1}function vn(){return kt}var Kn=oe({},Zt,{key:function(a){if(a.key){var c=We[a.key]||a.key;if(c!=="Unidentified")return c}return a.type==="keypress"?(a=re(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?vt[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vn,charCode:function(a){return a.type==="keypress"?re(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?re(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Bn=it(Kn),Vn=oe({},pt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fa=it(Vn),ai=oe({},Zt,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vn}),mx=it(ai),gx=oe({},Rt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bs=it(gx),yx=oe({},pt,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),jm=it(yx),Mf=[9,13,27,32],vx=l&&"CompositionEvent"in window,$f=null;l&&"documentMode"in document&&($f=document.documentMode);var DM=l&&"TextEvent"in window&&!$f,ZN=l&&(!vx||$f&&8<$f&&11>=$f),YN=" ",XN=!1;function ek(a,c){switch(a){case"keyup":return Mf.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tk(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Nu=!1;function LM(a,c){switch(a){case"compositionend":return tk(c);case"keypress":return c.which!==32?null:(XN=!0,YN);case"textInput":return a=c.data,a===YN&&XN?null:a;default:return null}}function MM(a,c){if(Nu)return a==="compositionend"||!vx&&ek(a,c)?(a=K(),pe=ae=st=null,Nu=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return ZN&&c.locale!=="ko"?null:c.data;default:return null}}var $M={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nk(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c==="input"?!!$M[a.type]:c==="textarea"}function rk(a,c,m,w){un(w),c=Lm(c,"onChange"),0<c.length&&(m=new Bt("onChange","change",null,m,w),a.push({event:m,listeners:c}))}var Bf=null,zf=null;function BM(a){wk(a,0)}function Am(a){var c=Ou(a);if(Ue(c))return a}function zM(a,c){if(a==="change")return c}var ik=!1;if(l){var bx;if(l){var xx="oninput"in document;if(!xx){var sk=document.createElement("div");sk.setAttribute("oninput","return;"),xx=typeof sk.oninput=="function"}bx=xx}else bx=!1;ik=bx&&(!document.documentMode||9<document.documentMode)}function ok(){Bf&&(Bf.detachEvent("onpropertychange",ak),zf=Bf=null)}function ak(a){if(a.propertyName==="value"&&Am(zf)){var c=[];rk(c,zf,a,la(a)),ca(BM,c)}}function WM(a,c,m){a==="focusin"?(ok(),Bf=c,zf=m,Bf.attachEvent("onpropertychange",ak)):a==="focusout"&&ok()}function UM(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Am(zf)}function VM(a,c){if(a==="click")return Am(c)}function HM(a,c){if(a==="input"||a==="change")return Am(c)}function KM(a,c){return a===c&&(a!==0||1/a===1/c)||a!==a&&c!==c}var fo=typeof Object.is=="function"?Object.is:KM;function Wf(a,c){if(fo(a,c))return!0;if(typeof a!="object"||a===null||typeof c!="object"||c===null)return!1;var m=Object.keys(a),w=Object.keys(c);if(m.length!==w.length)return!1;for(w=0;w<m.length;w++){var k=m[w];if(!u.call(c,k)||!fo(a[k],c[k]))return!1}return!0}function lk(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function ck(a,c){var m=lk(a);a=0;for(var w;m;){if(m.nodeType===3){if(w=a+m.textContent.length,a<=c&&w>=c)return{node:m,offset:c-a};a=w}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=lk(m)}}function uk(a,c){return a&&c?a===c?!0:a&&a.nodeType===3?!1:c&&c.nodeType===3?uk(a,c.parentNode):"contains"in a?a.contains(c):a.compareDocumentPosition?!!(a.compareDocumentPosition(c)&16):!1:!1}function dk(){for(var a=window,c=ct();c instanceof a.HTMLIFrameElement;){try{var m=typeof c.contentWindow.location.href=="string"}catch{m=!1}if(m)a=c.contentWindow;else break;c=ct(a.document)}return c}function wx(a){var c=a&&a.nodeName&&a.nodeName.toLowerCase();return c&&(c==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||c==="textarea"||a.contentEditable==="true")}function QM(a){var c=dk(),m=a.focusedElem,w=a.selectionRange;if(c!==m&&m&&m.ownerDocument&&uk(m.ownerDocument.documentElement,m)){if(w!==null&&wx(m)){if(c=w.start,a=w.end,a===void 0&&(a=c),"selectionStart"in m)m.selectionStart=c,m.selectionEnd=Math.min(a,m.value.length);else if(a=(c=m.ownerDocument||document)&&c.defaultView||window,a.getSelection){a=a.getSelection();var k=m.textContent.length,j=Math.min(w.start,k);w=w.end===void 0?j:Math.min(w.end,k),!a.extend&&j>w&&(k=w,w=j,j=k),k=ck(m,j);var J=ck(m,w);k&&J&&(a.rangeCount!==1||a.anchorNode!==k.node||a.anchorOffset!==k.offset||a.focusNode!==J.node||a.focusOffset!==J.offset)&&(c=c.createRange(),c.setStart(k.node,k.offset),a.removeAllRanges(),j>w?(a.addRange(c),a.extend(J.node,J.offset)):(c.setEnd(J.node,J.offset),a.addRange(c)))}}for(c=[],a=m;a=a.parentNode;)a.nodeType===1&&c.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<c.length;m++)a=c[m],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var GM=l&&"documentMode"in document&&11>=document.documentMode,ku=null,_x=null,Uf=null,Sx=!1;function fk(a,c,m){var w=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Sx||ku==null||ku!==ct(w)||(w=ku,"selectionStart"in w&&wx(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Uf&&Wf(Uf,w)||(Uf=w,w=Lm(_x,"onSelect"),0<w.length&&(c=new Bt("onSelect","select",null,c,m),a.push({event:c,listeners:w}),c.target=ku)))}function Pm(a,c){var m={};return m[a.toLowerCase()]=c.toLowerCase(),m["Webkit"+a]="webkit"+c,m["Moz"+a]="moz"+c,m}var Iu={animationend:Pm("Animation","AnimationEnd"),animationiteration:Pm("Animation","AnimationIteration"),animationstart:Pm("Animation","AnimationStart"),transitionend:Pm("Transition","TransitionEnd")},Ex={},pk={};l&&(pk=document.createElement("div").style,"AnimationEvent"in window||(delete Iu.animationend.animation,delete Iu.animationiteration.animation,delete Iu.animationstart.animation),"TransitionEvent"in window||delete Iu.transitionend.transition);function Fm(a){if(Ex[a])return Ex[a];if(!Iu[a])return a;var c=Iu[a],m;for(m in c)if(c.hasOwnProperty(m)&&m in pk)return Ex[a]=c[m];return a}var hk=Fm("animationend"),mk=Fm("animationiteration"),gk=Fm("animationstart"),yk=Fm("transitionend"),vk=new Map,bk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Za(a,c){vk.set(a,c),s(c,[a])}for(var Nx=0;Nx<bk.length;Nx++){var kx=bk[Nx],JM=kx.toLowerCase(),ZM=kx[0].toUpperCase()+kx.slice(1);Za(JM,"on"+ZM)}Za(hk,"onAnimationEnd"),Za(mk,"onAnimationIteration"),Za(gk,"onAnimationStart"),Za("dblclick","onDoubleClick"),Za("focusin","onFocus"),Za("focusout","onBlur"),Za(yk,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vf));function xk(a,c,m){var w=a.type||"unknown-event";a.currentTarget=m,yu(w,c,void 0,a),a.currentTarget=null}function wk(a,c){c=(c&4)!==0;for(var m=0;m<a.length;m++){var w=a[m],k=w.event;w=w.listeners;e:{var j=void 0;if(c)for(var J=w.length-1;0<=J;J--){var ge=w[J],Se=ge.instance,He=ge.currentTarget;if(ge=ge.listener,Se!==j&&k.isPropagationStopped())break e;xk(k,ge,He),j=Se}else for(J=0;J<w.length;J++){if(ge=w[J],Se=ge.instance,He=ge.currentTarget,ge=ge.listener,Se!==j&&k.isPropagationStopped())break e;xk(k,ge,He),j=Se}}}if(Ha)throw a=Ms,Ha=!1,Ms=null,a}function fr(a,c){var m=c[Ax];m===void 0&&(m=c[Ax]=new Set);var w=a+"__bubble";m.has(w)||(_k(c,a,2,!1),m.add(w))}function Ix(a,c,m){var w=0;c&&(w|=4),_k(m,a,w,c)}var Dm="_reactListening"+Math.random().toString(36).slice(2);function Hf(a){if(!a[Dm]){a[Dm]=!0,r.forEach(function(m){m!=="selectionchange"&&(YM.has(m)||Ix(m,!1,a),Ix(m,!0,a))});var c=a.nodeType===9?a:a.ownerDocument;c===null||c[Dm]||(c[Dm]=!0,Ix("selectionchange",!1,c))}}function _k(a,c,m,w){switch(Ee(c)){case 1:var k=Oe;break;case 4:k=Qe;break;default:k=St}m=k.bind(null,c,m,a),k=void 0,!cc||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(k=!0),w?k!==void 0?a.addEventListener(c,m,{capture:!0,passive:k}):a.addEventListener(c,m,!0):k!==void 0?a.addEventListener(c,m,{passive:k}):a.addEventListener(c,m,!1)}function Cx(a,c,m,w,k){var j=w;if(!(c&1)&&!(c&2)&&w!==null)e:for(;;){if(w===null)return;var J=w.tag;if(J===3||J===4){var ge=w.stateNode.containerInfo;if(ge===k||ge.nodeType===8&&ge.parentNode===k)break;if(J===4)for(J=w.return;J!==null;){var Se=J.tag;if((Se===3||Se===4)&&(Se=J.stateNode.containerInfo,Se===k||Se.nodeType===8&&Se.parentNode===k))return;J=J.return}for(;ge!==null;){if(J=mc(ge),J===null)return;if(Se=J.tag,Se===5||Se===6){w=j=J;continue e}ge=ge.parentNode}}w=w.return}ca(function(){var He=j,ht=la(m),gt=[];e:{var ft=vk.get(a);if(ft!==void 0){var jt=Bt,Mt=a;switch(a){case"keypress":if(re(m)===0)break e;case"keydown":case"keyup":jt=Bn;break;case"focusin":Mt="focus",jt=dt;break;case"focusout":Mt="blur",jt=dt;break;case"beforeblur":case"afterblur":jt=dt;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":jt=Ft;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":jt=je;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":jt=mx;break;case hk:case mk:case gk:jt=xt;break;case yk:jt=Bs;break;case"scroll":jt=lt;break;case"wheel":jt=jm;break;case"copy":case"cut":case"paste":jt=mn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":jt=fa}var zt=(c&4)!==0,$r=!zt&&a==="scroll",Fe=zt?ft!==null?ft+"Capture":null:ft;zt=[];for(var Ce=He,$e;Ce!==null;){$e=Ce;var bt=$e.stateNode;if($e.tag===5&&bt!==null&&($e=bt,Fe!==null&&(bt=Zi(Ce,Fe),bt!=null&&zt.push(Kf(Ce,bt,$e)))),$r)break;Ce=Ce.return}0<zt.length&&(ft=new jt(ft,Mt,null,m,ht),gt.push({event:ft,listeners:zt}))}}if(!(c&7)){e:{if(ft=a==="mouseover"||a==="pointerover",jt=a==="mouseout"||a==="pointerout",ft&&m!==uo&&(Mt=m.relatedTarget||m.fromElement)&&(mc(Mt)||Mt[pa]))break e;if((jt||ft)&&(ft=ht.window===ht?ht:(ft=ht.ownerDocument)?ft.defaultView||ft.parentWindow:window,jt?(Mt=m.relatedTarget||m.toElement,jt=He,Mt=Mt?mc(Mt):null,Mt!==null&&($r=$s(Mt),Mt!==$r||Mt.tag!==5&&Mt.tag!==6)&&(Mt=null)):(jt=null,Mt=He),jt!==Mt)){if(zt=Ft,bt="onMouseLeave",Fe="onMouseEnter",Ce="mouse",(a==="pointerout"||a==="pointerover")&&(zt=fa,bt="onPointerLeave",Fe="onPointerEnter",Ce="pointer"),$r=jt==null?ft:Ou(jt),$e=Mt==null?ft:Ou(Mt),ft=new zt(bt,Ce+"leave",jt,m,ht),ft.target=$r,ft.relatedTarget=$e,bt=null,mc(ht)===He&&(zt=new zt(Fe,Ce+"enter",Mt,m,ht),zt.target=$e,zt.relatedTarget=$r,bt=zt),$r=bt,jt&&Mt)t:{for(zt=jt,Fe=Mt,Ce=0,$e=zt;$e;$e=Cu($e))Ce++;for($e=0,bt=Fe;bt;bt=Cu(bt))$e++;for(;0<Ce-$e;)zt=Cu(zt),Ce--;for(;0<$e-Ce;)Fe=Cu(Fe),$e--;for(;Ce--;){if(zt===Fe||Fe!==null&&zt===Fe.alternate)break t;zt=Cu(zt),Fe=Cu(Fe)}zt=null}else zt=null;jt!==null&&Sk(gt,ft,jt,zt,!1),Mt!==null&&$r!==null&&Sk(gt,$r,Mt,zt,!0)}}e:{if(ft=He?Ou(He):window,jt=ft.nodeName&&ft.nodeName.toLowerCase(),jt==="select"||jt==="input"&&ft.type==="file")var Vt=zM;else if(nk(ft))if(ik)Vt=HM;else{Vt=UM;var en=WM}else(jt=ft.nodeName)&&jt.toLowerCase()==="input"&&(ft.type==="checkbox"||ft.type==="radio")&&(Vt=VM);if(Vt&&(Vt=Vt(a,He))){rk(gt,Vt,m,ht);break e}en&&en(a,ft,He),a==="focusout"&&(en=ft._wrapperState)&&en.controlled&&ft.type==="number"&&ve(ft,"number",ft.value)}switch(en=He?Ou(He):window,a){case"focusin":(nk(en)||en.contentEditable==="true")&&(ku=en,_x=He,Uf=null);break;case"focusout":Uf=_x=ku=null;break;case"mousedown":Sx=!0;break;case"contextmenu":case"mouseup":case"dragend":Sx=!1,fk(gt,m,ht);break;case"selectionchange":if(GM)break;case"keydown":case"keyup":fk(gt,m,ht)}var tn;if(vx)e:{switch(a){case"compositionstart":var ln="onCompositionStart";break e;case"compositionend":ln="onCompositionEnd";break e;case"compositionupdate":ln="onCompositionUpdate";break e}ln=void 0}else Nu?ek(a,m)&&(ln="onCompositionEnd"):a==="keydown"&&m.keyCode===229&&(ln="onCompositionStart");ln&&(ZN&&m.locale!=="ko"&&(Nu||ln!=="onCompositionStart"?ln==="onCompositionEnd"&&Nu&&(tn=K()):(st=ht,ae="value"in st?st.value:st.textContent,Nu=!0)),en=Lm(He,ln),0<en.length&&(ln=new Or(ln,a,null,m,ht),gt.push({event:ln,listeners:en}),tn?ln.data=tn:(tn=tk(m),tn!==null&&(ln.data=tn)))),(tn=DM?LM(a,m):MM(a,m))&&(He=Lm(He,"onBeforeInput"),0<He.length&&(ht=new Or("onBeforeInput","beforeinput",null,m,ht),gt.push({event:ht,listeners:He}),ht.data=tn))}wk(gt,c)})}function Kf(a,c,m){return{instance:a,listener:c,currentTarget:m}}function Lm(a,c){for(var m=c+"Capture",w=[];a!==null;){var k=a,j=k.stateNode;k.tag===5&&j!==null&&(k=j,j=Zi(a,m),j!=null&&w.unshift(Kf(a,j,k)),j=Zi(a,c),j!=null&&w.push(Kf(a,j,k))),a=a.return}return w}function Cu(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5);return a||null}function Sk(a,c,m,w,k){for(var j=c._reactName,J=[];m!==null&&m!==w;){var ge=m,Se=ge.alternate,He=ge.stateNode;if(Se!==null&&Se===w)break;ge.tag===5&&He!==null&&(ge=He,k?(Se=Zi(m,j),Se!=null&&J.unshift(Kf(m,Se,ge))):k||(Se=Zi(m,j),Se!=null&&J.push(Kf(m,Se,ge)))),m=m.return}J.length!==0&&a.push({event:c,listeners:J})}var XM=/\r\n?/g,e$=/\u0000|\uFFFD/g;function Ek(a){return(typeof a=="string"?a:""+a).replace(XM,`
`).replace(e$,"")}function Mm(a,c,m){if(c=Ek(c),Ek(a)!==c&&m)throw Error(n(425))}function $m(){}var Tx=null,Ox=null;function Rx(a,c){return a==="textarea"||a==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var qx=typeof setTimeout=="function"?setTimeout:void 0,t$=typeof clearTimeout=="function"?clearTimeout:void 0,Nk=typeof Promise=="function"?Promise:void 0,n$=typeof queueMicrotask=="function"?queueMicrotask:typeof Nk<"u"?function(a){return Nk.resolve(null).then(a).catch(r$)}:qx;function r$(a){setTimeout(function(){throw a})}function jx(a,c){var m=c,w=0;do{var k=m.nextSibling;if(a.removeChild(m),k&&k.nodeType===8)if(m=k.data,m==="/$"){if(w===0){a.removeChild(k),Te(c);return}w--}else m!=="$"&&m!=="$?"&&m!=="$!"||w++;m=k}while(m);Te(c)}function Ya(a){for(;a!=null;a=a.nextSibling){var c=a.nodeType;if(c===1||c===3)break;if(c===8){if(c=a.data,c==="$"||c==="$!"||c==="$?")break;if(c==="/$")return null}}return a}function kk(a){a=a.previousSibling;for(var c=0;a;){if(a.nodeType===8){var m=a.data;if(m==="$"||m==="$!"||m==="$?"){if(c===0)return a;c--}else m==="/$"&&c++}a=a.previousSibling}return null}var Tu=Math.random().toString(36).slice(2),Mo="__reactFiber$"+Tu,Qf="__reactProps$"+Tu,pa="__reactContainer$"+Tu,Ax="__reactEvents$"+Tu,i$="__reactListeners$"+Tu,s$="__reactHandles$"+Tu;function mc(a){var c=a[Mo];if(c)return c;for(var m=a.parentNode;m;){if(c=m[pa]||m[Mo]){if(m=c.alternate,c.child!==null||m!==null&&m.child!==null)for(a=kk(a);a!==null;){if(m=a[Mo])return m;a=kk(a)}return c}a=m,m=a.parentNode}return null}function Gf(a){return a=a[Mo]||a[pa],!a||a.tag!==5&&a.tag!==6&&a.tag!==13&&a.tag!==3?null:a}function Ou(a){if(a.tag===5||a.tag===6)return a.stateNode;throw Error(n(33))}function Bm(a){return a[Qf]||null}var Px=[],Ru=-1;function Xa(a){return{current:a}}function pr(a){0>Ru||(a.current=Px[Ru],Px[Ru]=null,Ru--)}function or(a,c){Ru++,Px[Ru]=a.current,a.current=c}var el={},gi=Xa(el),Xi=Xa(!1),gc=el;function qu(a,c){var m=a.type.contextTypes;if(!m)return el;var w=a.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===c)return w.__reactInternalMemoizedMaskedChildContext;var k={},j;for(j in m)k[j]=c[j];return w&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=c,a.__reactInternalMemoizedMaskedChildContext=k),k}function es(a){return a=a.childContextTypes,a!=null}function zm(){pr(Xi),pr(gi)}function Ik(a,c,m){if(gi.current!==el)throw Error(n(168));or(gi,c),or(Xi,m)}function Ck(a,c,m){var w=a.stateNode;if(c=c.childContextTypes,typeof w.getChildContext!="function")return m;w=w.getChildContext();for(var k in w)if(!(k in c))throw Error(n(108,ze(a)||"Unknown",k));return oe({},m,w)}function Wm(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||el,gc=gi.current,or(gi,a),or(Xi,Xi.current),!0}function Tk(a,c,m){var w=a.stateNode;if(!w)throw Error(n(169));m?(a=Ck(a,c,gc),w.__reactInternalMemoizedMergedChildContext=a,pr(Xi),pr(gi),or(gi,a)):pr(Xi),or(Xi,m)}var ha=null,Um=!1,Fx=!1;function Ok(a){ha===null?ha=[a]:ha.push(a)}function o$(a){Um=!0,Ok(a)}function tl(){if(!Fx&&ha!==null){Fx=!0;var a=0,c=Dn;try{var m=ha;for(Dn=1;a<m.length;a++){var w=m[a];do w=w(!0);while(w!==null)}ha=null,Um=!1}catch(k){throw ha!==null&&(ha=ha.slice(a+1)),_u(dc,tl),k}finally{Dn=c,Fx=!1}}return null}var ju=[],Au=0,Vm=null,Hm=0,zs=[],Ws=0,yc=null,ma=1,ga="";function vc(a,c){ju[Au++]=Hm,ju[Au++]=Vm,Vm=a,Hm=c}function Rk(a,c,m){zs[Ws++]=ma,zs[Ws++]=ga,zs[Ws++]=yc,yc=a;var w=ma;a=ga;var k=32-mi(w)-1;w&=~(1<<k),m+=1;var j=32-mi(c)+k;if(30<j){var J=k-k%5;j=(w&(1<<J)-1).toString(32),w>>=J,k-=J,ma=1<<32-mi(c)+k|m<<k|w,ga=j+a}else ma=1<<j|m<<k|w,ga=a}function Dx(a){a.return!==null&&(vc(a,1),Rk(a,1,0))}function Lx(a){for(;a===Vm;)Vm=ju[--Au],ju[Au]=null,Hm=ju[--Au],ju[Au]=null;for(;a===yc;)yc=zs[--Ws],zs[Ws]=null,ga=zs[--Ws],zs[Ws]=null,ma=zs[--Ws],zs[Ws]=null}var vs=null,bs=null,mr=!1,po=null;function qk(a,c){var m=Ks(5,null,null,0);m.elementType="DELETED",m.stateNode=c,m.return=a,c=a.deletions,c===null?(a.deletions=[m],a.flags|=16):c.push(m)}function jk(a,c){switch(a.tag){case 5:var m=a.type;return c=c.nodeType!==1||m.toLowerCase()!==c.nodeName.toLowerCase()?null:c,c!==null?(a.stateNode=c,vs=a,bs=Ya(c.firstChild),!0):!1;case 6:return c=a.pendingProps===""||c.nodeType!==3?null:c,c!==null?(a.stateNode=c,vs=a,bs=null,!0):!1;case 13:return c=c.nodeType!==8?null:c,c!==null?(m=yc!==null?{id:ma,overflow:ga}:null,a.memoizedState={dehydrated:c,treeContext:m,retryLane:0x40000000},m=Ks(18,null,null,0),m.stateNode=c,m.return=a,a.child=m,vs=a,bs=null,!0):!1;default:return!1}}function Mx(a){return(a.mode&1)!==0&&(a.flags&128)===0}function $x(a){if(mr){var c=bs;if(c){var m=c;if(!jk(a,c)){if(Mx(a))throw Error(n(418));c=Ya(m.nextSibling);var w=vs;c&&jk(a,c)?qk(w,m):(a.flags=a.flags&-4097|2,mr=!1,vs=a)}}else{if(Mx(a))throw Error(n(418));a.flags=a.flags&-4097|2,mr=!1,vs=a}}}function Ak(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;vs=a}function Km(a){if(a!==vs)return!1;if(!mr)return Ak(a),mr=!0,!1;var c;if((c=a.tag!==3)&&!(c=a.tag!==5)&&(c=a.type,c=c!=="head"&&c!=="body"&&!Rx(a.type,a.memoizedProps)),c&&(c=bs)){if(Mx(a))throw Pk(),Error(n(418));for(;c;)qk(a,c),c=Ya(c.nextSibling)}if(Ak(a),a.tag===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,c=0;a;){if(a.nodeType===8){var m=a.data;if(m==="/$"){if(c===0){bs=Ya(a.nextSibling);break e}c--}else m!=="$"&&m!=="$!"&&m!=="$?"||c++}a=a.nextSibling}bs=null}}else bs=vs?Ya(a.stateNode.nextSibling):null;return!0}function Pk(){for(var a=bs;a;)a=Ya(a.nextSibling)}function Pu(){bs=vs=null,mr=!1}function Bx(a){po===null?po=[a]:po.push(a)}var a$=A.ReactCurrentBatchConfig;function Jf(a,c,m){if(a=m.ref,a!==null&&typeof a!="function"&&typeof a!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(n(309));var w=m.stateNode}if(!w)throw Error(n(147,a));var k=w,j=""+a;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===j?c.ref:(c=function(J){var ge=k.refs;J===null?delete ge[j]:ge[j]=J},c._stringRef=j,c)}if(typeof a!="string")throw Error(n(284));if(!m._owner)throw Error(n(290,a))}return a}function Qm(a,c){throw a=Object.prototype.toString.call(c),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":a))}function Fk(a){var c=a._init;return c(a._payload)}function Dk(a){function c(Fe,Ce){if(a){var $e=Fe.deletions;$e===null?(Fe.deletions=[Ce],Fe.flags|=16):$e.push(Ce)}}function m(Fe,Ce){if(!a)return null;for(;Ce!==null;)c(Fe,Ce),Ce=Ce.sibling;return null}function w(Fe,Ce){for(Fe=new Map;Ce!==null;)Ce.key!==null?Fe.set(Ce.key,Ce):Fe.set(Ce.index,Ce),Ce=Ce.sibling;return Fe}function k(Fe,Ce){return Fe=cl(Fe,Ce),Fe.index=0,Fe.sibling=null,Fe}function j(Fe,Ce,$e){return Fe.index=$e,a?($e=Fe.alternate,$e!==null?($e=$e.index,$e<Ce?(Fe.flags|=2,Ce):$e):(Fe.flags|=2,Ce)):(Fe.flags|=1048576,Ce)}function J(Fe){return a&&Fe.alternate===null&&(Fe.flags|=2),Fe}function ge(Fe,Ce,$e,bt){return Ce===null||Ce.tag!==6?(Ce=qw($e,Fe.mode,bt),Ce.return=Fe,Ce):(Ce=k(Ce,$e),Ce.return=Fe,Ce)}function Se(Fe,Ce,$e,bt){var Vt=$e.type;return Vt===z?ht(Fe,Ce,$e.props.children,bt,$e.key):Ce!==null&&(Ce.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===Z&&Fk(Vt)===Ce.type)?(bt=k(Ce,$e.props),bt.ref=Jf(Fe,Ce,$e),bt.return=Fe,bt):(bt=vg($e.type,$e.key,$e.props,null,Fe.mode,bt),bt.ref=Jf(Fe,Ce,$e),bt.return=Fe,bt)}function He(Fe,Ce,$e,bt){return Ce===null||Ce.tag!==4||Ce.stateNode.containerInfo!==$e.containerInfo||Ce.stateNode.implementation!==$e.implementation?(Ce=jw($e,Fe.mode,bt),Ce.return=Fe,Ce):(Ce=k(Ce,$e.children||[]),Ce.return=Fe,Ce)}function ht(Fe,Ce,$e,bt,Vt){return Ce===null||Ce.tag!==7?(Ce=kc($e,Fe.mode,bt,Vt),Ce.return=Fe,Ce):(Ce=k(Ce,$e),Ce.return=Fe,Ce)}function gt(Fe,Ce,$e){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return Ce=qw(""+Ce,Fe.mode,$e),Ce.return=Fe,Ce;if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case D:return $e=vg(Ce.type,Ce.key,Ce.props,null,Fe.mode,$e),$e.ref=Jf(Fe,null,Ce),$e.return=Fe,$e;case L:return Ce=jw(Ce,Fe.mode,$e),Ce.return=Fe,Ce;case Z:var bt=Ce._init;return gt(Fe,bt(Ce._payload),$e)}if(ke(Ce)||ne(Ce))return Ce=kc(Ce,Fe.mode,$e,null),Ce.return=Fe,Ce;Qm(Fe,Ce)}return null}function ft(Fe,Ce,$e,bt){var Vt=Ce!==null?Ce.key:null;if(typeof $e=="string"&&$e!==""||typeof $e=="number")return Vt!==null?null:ge(Fe,Ce,""+$e,bt);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case D:return $e.key===Vt?Se(Fe,Ce,$e,bt):null;case L:return $e.key===Vt?He(Fe,Ce,$e,bt):null;case Z:return Vt=$e._init,ft(Fe,Ce,Vt($e._payload),bt)}if(ke($e)||ne($e))return Vt!==null?null:ht(Fe,Ce,$e,bt,null);Qm(Fe,$e)}return null}function jt(Fe,Ce,$e,bt,Vt){if(typeof bt=="string"&&bt!==""||typeof bt=="number")return Fe=Fe.get($e)||null,ge(Ce,Fe,""+bt,Vt);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case D:return Fe=Fe.get(bt.key===null?$e:bt.key)||null,Se(Ce,Fe,bt,Vt);case L:return Fe=Fe.get(bt.key===null?$e:bt.key)||null,He(Ce,Fe,bt,Vt);case Z:var en=bt._init;return jt(Fe,Ce,$e,en(bt._payload),Vt)}if(ke(bt)||ne(bt))return Fe=Fe.get($e)||null,ht(Ce,Fe,bt,Vt,null);Qm(Ce,bt)}return null}function Mt(Fe,Ce,$e,bt){for(var Vt=null,en=null,tn=Ce,ln=Ce=0,oi=null;tn!==null&&ln<$e.length;ln++){tn.index>ln?(oi=tn,tn=null):oi=tn.sibling;var Pn=ft(Fe,tn,$e[ln],bt);if(Pn===null){tn===null&&(tn=oi);break}a&&tn&&Pn.alternate===null&&c(Fe,tn),Ce=j(Pn,Ce,ln),en===null?Vt=Pn:en.sibling=Pn,en=Pn,tn=oi}if(ln===$e.length)return m(Fe,tn),mr&&vc(Fe,ln),Vt;if(tn===null){for(;ln<$e.length;ln++)tn=gt(Fe,$e[ln],bt),tn!==null&&(Ce=j(tn,Ce,ln),en===null?Vt=tn:en.sibling=tn,en=tn);return mr&&vc(Fe,ln),Vt}for(tn=w(Fe,tn);ln<$e.length;ln++)oi=jt(tn,Fe,ln,$e[ln],bt),oi!==null&&(a&&oi.alternate!==null&&tn.delete(oi.key===null?ln:oi.key),Ce=j(oi,Ce,ln),en===null?Vt=oi:en.sibling=oi,en=oi);return a&&tn.forEach(function(ul){return c(Fe,ul)}),mr&&vc(Fe,ln),Vt}function zt(Fe,Ce,$e,bt){var Vt=ne($e);if(typeof Vt!="function")throw Error(n(150));if($e=Vt.call($e),$e==null)throw Error(n(151));for(var en=Vt=null,tn=Ce,ln=Ce=0,oi=null,Pn=$e.next();tn!==null&&!Pn.done;ln++,Pn=$e.next()){tn.index>ln?(oi=tn,tn=null):oi=tn.sibling;var ul=ft(Fe,tn,Pn.value,bt);if(ul===null){tn===null&&(tn=oi);break}a&&tn&&ul.alternate===null&&c(Fe,tn),Ce=j(ul,Ce,ln),en===null?Vt=ul:en.sibling=ul,en=ul,tn=oi}if(Pn.done)return m(Fe,tn),mr&&vc(Fe,ln),Vt;if(tn===null){for(;!Pn.done;ln++,Pn=$e.next())Pn=gt(Fe,Pn.value,bt),Pn!==null&&(Ce=j(Pn,Ce,ln),en===null?Vt=Pn:en.sibling=Pn,en=Pn);return mr&&vc(Fe,ln),Vt}for(tn=w(Fe,tn);!Pn.done;ln++,Pn=$e.next())Pn=jt(tn,Fe,ln,Pn.value,bt),Pn!==null&&(a&&Pn.alternate!==null&&tn.delete(Pn.key===null?ln:Pn.key),Ce=j(Pn,Ce,ln),en===null?Vt=Pn:en.sibling=Pn,en=Pn);return a&&tn.forEach(function(M$){return c(Fe,M$)}),mr&&vc(Fe,ln),Vt}function $r(Fe,Ce,$e,bt){if(typeof $e=="object"&&$e!==null&&$e.type===z&&$e.key===null&&($e=$e.props.children),typeof $e=="object"&&$e!==null){switch($e.$$typeof){case D:e:{for(var Vt=$e.key,en=Ce;en!==null;){if(en.key===Vt){if(Vt=$e.type,Vt===z){if(en.tag===7){m(Fe,en.sibling),Ce=k(en,$e.props.children),Ce.return=Fe,Fe=Ce;break e}}else if(en.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===Z&&Fk(Vt)===en.type){m(Fe,en.sibling),Ce=k(en,$e.props),Ce.ref=Jf(Fe,en,$e),Ce.return=Fe,Fe=Ce;break e}m(Fe,en);break}else c(Fe,en);en=en.sibling}$e.type===z?(Ce=kc($e.props.children,Fe.mode,bt,$e.key),Ce.return=Fe,Fe=Ce):(bt=vg($e.type,$e.key,$e.props,null,Fe.mode,bt),bt.ref=Jf(Fe,Ce,$e),bt.return=Fe,Fe=bt)}return J(Fe);case L:e:{for(en=$e.key;Ce!==null;){if(Ce.key===en)if(Ce.tag===4&&Ce.stateNode.containerInfo===$e.containerInfo&&Ce.stateNode.implementation===$e.implementation){m(Fe,Ce.sibling),Ce=k(Ce,$e.children||[]),Ce.return=Fe,Fe=Ce;break e}else{m(Fe,Ce);break}else c(Fe,Ce);Ce=Ce.sibling}Ce=jw($e,Fe.mode,bt),Ce.return=Fe,Fe=Ce}return J(Fe);case Z:return en=$e._init,$r(Fe,Ce,en($e._payload),bt)}if(ke($e))return Mt(Fe,Ce,$e,bt);if(ne($e))return zt(Fe,Ce,$e,bt);Qm(Fe,$e)}return typeof $e=="string"&&$e!==""||typeof $e=="number"?($e=""+$e,Ce!==null&&Ce.tag===6?(m(Fe,Ce.sibling),Ce=k(Ce,$e),Ce.return=Fe,Fe=Ce):(m(Fe,Ce),Ce=qw($e,Fe.mode,bt),Ce.return=Fe,Fe=Ce),J(Fe)):m(Fe,Ce)}return $r}var Fu=Dk(!0),Lk=Dk(!1),Gm=Xa(null),Jm=null,Du=null,zx=null;function Wx(){zx=Du=Jm=null}function Ux(a){var c=Gm.current;pr(Gm),a._currentValue=c}function Vx(a,c,m){for(;a!==null;){var w=a.alternate;if((a.childLanes&c)!==c?(a.childLanes|=c,w!==null&&(w.childLanes|=c)):w!==null&&(w.childLanes&c)!==c&&(w.childLanes|=c),a===m)break;a=a.return}}function Lu(a,c){Jm=a,zx=Du=null,a=a.dependencies,a!==null&&a.firstContext!==null&&(a.lanes&c&&(ts=!0),a.firstContext=null)}function Us(a){var c=a._currentValue;if(zx!==a)if(a={context:a,memoizedValue:c,next:null},Du===null){if(Jm===null)throw Error(n(308));Du=a,Jm.dependencies={lanes:0,firstContext:a}}else Du=Du.next=a;return c}var bc=null;function Hx(a){bc===null?bc=[a]:bc.push(a)}function Mk(a,c,m,w){var k=c.interleaved;return k===null?(m.next=m,Hx(c)):(m.next=k.next,k.next=m),c.interleaved=m,ya(a,w)}function ya(a,c){a.lanes|=c;var m=a.alternate;for(m!==null&&(m.lanes|=c),m=a,a=a.return;a!==null;)a.childLanes|=c,m=a.alternate,m!==null&&(m.childLanes|=c),m=a,a=a.return;return m.tag===3?m.stateNode:null}var nl=!1;function Kx(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $k(a,c){a=a.updateQueue,c.updateQueue===a&&(c.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function va(a,c){return{eventTime:a,lane:c,tag:0,payload:null,callback:null,next:null}}function rl(a,c,m){var w=a.updateQueue;if(w===null)return null;if(w=w.shared,qn&2){var k=w.pending;return k===null?c.next=c:(c.next=k.next,k.next=c),w.pending=c,ya(a,m)}return k=w.interleaved,k===null?(c.next=c,Hx(w)):(c.next=k.next,k.next=c),w.interleaved=c,ya(a,m)}function Zm(a,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194240)!==0)){var w=c.lanes;w&=a.pendingLanes,m|=w,c.lanes=m,Pf(a,m)}}function Bk(a,c){var m=a.updateQueue,w=a.alternate;if(w!==null&&(w=w.updateQueue,m===w)){var k=null,j=null;if(m=m.firstBaseUpdate,m!==null){do{var J={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};j===null?k=j=J:j=j.next=J,m=m.next}while(m!==null);j===null?k=j=c:j=j.next=c}else k=j=c;m={baseState:w.baseState,firstBaseUpdate:k,lastBaseUpdate:j,shared:w.shared,effects:w.effects},a.updateQueue=m;return}a=m.lastBaseUpdate,a===null?m.firstBaseUpdate=c:a.next=c,m.lastBaseUpdate=c}function Ym(a,c,m,w){var k=a.updateQueue;nl=!1;var j=k.firstBaseUpdate,J=k.lastBaseUpdate,ge=k.shared.pending;if(ge!==null){k.shared.pending=null;var Se=ge,He=Se.next;Se.next=null,J===null?j=He:J.next=He,J=Se;var ht=a.alternate;ht!==null&&(ht=ht.updateQueue,ge=ht.lastBaseUpdate,ge!==J&&(ge===null?ht.firstBaseUpdate=He:ge.next=He,ht.lastBaseUpdate=Se))}if(j!==null){var gt=k.baseState;J=0,ht=He=Se=null,ge=j;do{var ft=ge.lane,jt=ge.eventTime;if((w&ft)===ft){ht!==null&&(ht=ht.next={eventTime:jt,lane:0,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null});e:{var Mt=a,zt=ge;switch(ft=c,jt=m,zt.tag){case 1:if(Mt=zt.payload,typeof Mt=="function"){gt=Mt.call(jt,gt,ft);break e}gt=Mt;break e;case 3:Mt.flags=Mt.flags&-65537|128;case 0:if(Mt=zt.payload,ft=typeof Mt=="function"?Mt.call(jt,gt,ft):Mt,ft==null)break e;gt=oe({},gt,ft);break e;case 2:nl=!0}}ge.callback!==null&&ge.lane!==0&&(a.flags|=64,ft=k.effects,ft===null?k.effects=[ge]:ft.push(ge))}else jt={eventTime:jt,lane:ft,tag:ge.tag,payload:ge.payload,callback:ge.callback,next:null},ht===null?(He=ht=jt,Se=gt):ht=ht.next=jt,J|=ft;if(ge=ge.next,ge===null){if(ge=k.shared.pending,ge===null)break;ft=ge,ge=ft.next,ft.next=null,k.lastBaseUpdate=ft,k.shared.pending=null}}while(!0);if(ht===null&&(Se=gt),k.baseState=Se,k.firstBaseUpdate=He,k.lastBaseUpdate=ht,c=k.shared.interleaved,c!==null){k=c;do J|=k.lane,k=k.next;while(k!==c)}else j===null&&(k.shared.lanes=0);_c|=J,a.lanes=J,a.memoizedState=gt}}function zk(a,c,m){if(a=c.effects,c.effects=null,a!==null)for(c=0;c<a.length;c++){var w=a[c],k=w.callback;if(k!==null){if(w.callback=null,w=m,typeof k!="function")throw Error(n(191,k));k.call(w)}}}var Zf={},$o=Xa(Zf),Yf=Xa(Zf),Xf=Xa(Zf);function xc(a){if(a===Zf)throw Error(n(174));return a}function Qx(a,c){switch(or(Xf,c),or(Yf,a),or($o,Zf),a=c.nodeType,a){case 9:case 11:c=(c=c.documentElement)?c.namespaceURI:Gt(null,"");break;default:a=a===8?c.parentNode:c,c=a.namespaceURI||null,a=a.tagName,c=Gt(c,a)}pr($o),or($o,c)}function Mu(){pr($o),pr(Yf),pr(Xf)}function Wk(a){xc(Xf.current);var c=xc($o.current),m=Gt(c,a.type);c!==m&&(or(Yf,a),or($o,m))}function Gx(a){Yf.current===a&&(pr($o),pr(Yf))}var Rr=Xa(0);function Xm(a){for(var c=a;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if(c.flags&128)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Jx=[];function Zx(){for(var a=0;a<Jx.length;a++)Jx[a]._workInProgressVersionPrimary=null;Jx.length=0}var eg=A.ReactCurrentDispatcher,Yx=A.ReactCurrentBatchConfig,wc=0,qr=null,ei=null,ii=null,tg=!1,ep=!1,tp=0,l$=0;function yi(){throw Error(n(321))}function Xx(a,c){if(c===null)return!1;for(var m=0;m<c.length&&m<a.length;m++)if(!fo(a[m],c[m]))return!1;return!0}function ew(a,c,m,w,k,j){if(wc=j,qr=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,eg.current=a===null||a.memoizedState===null?f$:p$,a=m(w,k),ep){j=0;do{if(ep=!1,tp=0,25<=j)throw Error(n(301));j+=1,ii=ei=null,c.updateQueue=null,eg.current=h$,a=m(w,k)}while(ep)}if(eg.current=ig,c=ei!==null&&ei.next!==null,wc=0,ii=ei=qr=null,tg=!1,c)throw Error(n(300));return a}function tw(){var a=tp!==0;return tp=0,a}function Bo(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ii===null?qr.memoizedState=ii=a:ii=ii.next=a,ii}function Vs(){if(ei===null){var a=qr.alternate;a=a!==null?a.memoizedState:null}else a=ei.next;var c=ii===null?qr.memoizedState:ii.next;if(c!==null)ii=c,ei=a;else{if(a===null)throw Error(n(310));ei=a,a={memoizedState:ei.memoizedState,baseState:ei.baseState,baseQueue:ei.baseQueue,queue:ei.queue,next:null},ii===null?qr.memoizedState=ii=a:ii=ii.next=a}return ii}function np(a,c){return typeof c=="function"?c(a):c}function nw(a){var c=Vs(),m=c.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=a;var w=ei,k=w.baseQueue,j=m.pending;if(j!==null){if(k!==null){var J=k.next;k.next=j.next,j.next=J}w.baseQueue=k=j,m.pending=null}if(k!==null){j=k.next,w=w.baseState;var ge=J=null,Se=null,He=j;do{var ht=He.lane;if((wc&ht)===ht)Se!==null&&(Se=Se.next={lane:0,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null}),w=He.hasEagerState?He.eagerState:a(w,He.action);else{var gt={lane:ht,action:He.action,hasEagerState:He.hasEagerState,eagerState:He.eagerState,next:null};Se===null?(ge=Se=gt,J=w):Se=Se.next=gt,qr.lanes|=ht,_c|=ht}He=He.next}while(He!==null&&He!==j);Se===null?J=w:Se.next=ge,fo(w,c.memoizedState)||(ts=!0),c.memoizedState=w,c.baseState=J,c.baseQueue=Se,m.lastRenderedState=w}if(a=m.interleaved,a!==null){k=a;do j=k.lane,qr.lanes|=j,_c|=j,k=k.next;while(k!==a)}else k===null&&(m.lanes=0);return[c.memoizedState,m.dispatch]}function rw(a){var c=Vs(),m=c.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=a;var w=m.dispatch,k=m.pending,j=c.memoizedState;if(k!==null){m.pending=null;var J=k=k.next;do j=a(j,J.action),J=J.next;while(J!==k);fo(j,c.memoizedState)||(ts=!0),c.memoizedState=j,c.baseQueue===null&&(c.baseState=j),m.lastRenderedState=j}return[j,w]}function Uk(){}function Vk(a,c){var m=qr,w=Vs(),k=c(),j=!fo(w.memoizedState,k);if(j&&(w.memoizedState=k,ts=!0),w=w.queue,iw(Qk.bind(null,m,w,a),[a]),w.getSnapshot!==c||j||ii!==null&&ii.memoizedState.tag&1){if(m.flags|=2048,rp(9,Kk.bind(null,m,w,k,c),void 0,null),si===null)throw Error(n(349));wc&30||Hk(m,c,k)}return k}function Hk(a,c,m){a.flags|=16384,a={getSnapshot:c,value:m},c=qr.updateQueue,c===null?(c={lastEffect:null,stores:null},qr.updateQueue=c,c.stores=[a]):(m=c.stores,m===null?c.stores=[a]:m.push(a))}function Kk(a,c,m,w){c.value=m,c.getSnapshot=w,Gk(c)&&Jk(a)}function Qk(a,c,m){return m(function(){Gk(c)&&Jk(a)})}function Gk(a){var c=a.getSnapshot;a=a.value;try{var m=c();return!fo(a,m)}catch{return!0}}function Jk(a){var c=ya(a,1);c!==null&&yo(c,a,1,-1)}function Zk(a){var c=Bo();return typeof a=="function"&&(a=a()),c.memoizedState=c.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:np,lastRenderedState:a},c.queue=a,a=a.dispatch=d$.bind(null,qr,a),[c.memoizedState,a]}function rp(a,c,m,w){return a={tag:a,create:c,destroy:m,deps:w,next:null},c=qr.updateQueue,c===null?(c={lastEffect:null,stores:null},qr.updateQueue=c,c.lastEffect=a.next=a):(m=c.lastEffect,m===null?c.lastEffect=a.next=a:(w=m.next,m.next=a,a.next=w,c.lastEffect=a)),a}function Yk(){return Vs().memoizedState}function ng(a,c,m,w){var k=Bo();qr.flags|=a,k.memoizedState=rp(1|c,m,void 0,w===void 0?null:w)}function rg(a,c,m,w){var k=Vs();w=w===void 0?null:w;var j=void 0;if(ei!==null){var J=ei.memoizedState;if(j=J.destroy,w!==null&&Xx(w,J.deps)){k.memoizedState=rp(c,m,j,w);return}}qr.flags|=a,k.memoizedState=rp(1|c,m,j,w)}function Xk(a,c){return ng(8390656,8,a,c)}function iw(a,c){return rg(2048,8,a,c)}function eI(a,c){return rg(4,2,a,c)}function tI(a,c){return rg(4,4,a,c)}function nI(a,c){if(typeof c=="function")return a=a(),c(a),function(){c(null)};if(c!=null)return a=a(),c.current=a,function(){c.current=null}}function rI(a,c,m){return m=m!=null?m.concat([a]):null,rg(4,4,nI.bind(null,c,a),m)}function sw(){}function iI(a,c){var m=Vs();c=c===void 0?null:c;var w=m.memoizedState;return w!==null&&c!==null&&Xx(c,w[1])?w[0]:(m.memoizedState=[a,c],a)}function sI(a,c){var m=Vs();c=c===void 0?null:c;var w=m.memoizedState;return w!==null&&c!==null&&Xx(c,w[1])?w[0]:(a=a(),m.memoizedState=[a,c],a)}function oI(a,c,m){return wc&21?(fo(m,c)||(m=Rm(),qr.lanes|=m,_c|=m,a.baseState=!0),c):(a.baseState&&(a.baseState=!1,ts=!0),a.memoizedState=m)}function c$(a,c){var m=Dn;Dn=m!==0&&4>m?m:4,a(!0);var w=Yx.transition;Yx.transition={};try{a(!1),c()}finally{Dn=m,Yx.transition=w}}function aI(){return Vs().memoizedState}function u$(a,c,m){var w=al(a);if(m={lane:w,action:m,hasEagerState:!1,eagerState:null,next:null},lI(a))cI(c,m);else if(m=Mk(a,c,m,w),m!==null){var k=ji();yo(m,a,w,k),uI(m,c,w)}}function d$(a,c,m){var w=al(a),k={lane:w,action:m,hasEagerState:!1,eagerState:null,next:null};if(lI(a))cI(c,k);else{var j=a.alternate;if(a.lanes===0&&(j===null||j.lanes===0)&&(j=c.lastRenderedReducer,j!==null))try{var J=c.lastRenderedState,ge=j(J,m);if(k.hasEagerState=!0,k.eagerState=ge,fo(ge,J)){var Se=c.interleaved;Se===null?(k.next=k,Hx(c)):(k.next=Se.next,Se.next=k),c.interleaved=k;return}}catch{}finally{}m=Mk(a,c,k,w),m!==null&&(k=ji(),yo(m,a,w,k),uI(m,c,w))}}function lI(a){var c=a.alternate;return a===qr||c!==null&&c===qr}function cI(a,c){ep=tg=!0;var m=a.pending;m===null?c.next=c:(c.next=m.next,m.next=c),a.pending=c}function uI(a,c,m){if(m&4194240){var w=c.lanes;w&=a.pendingLanes,m|=w,c.lanes=m,Pf(a,m)}}var ig={readContext:Us,useCallback:yi,useContext:yi,useEffect:yi,useImperativeHandle:yi,useInsertionEffect:yi,useLayoutEffect:yi,useMemo:yi,useReducer:yi,useRef:yi,useState:yi,useDebugValue:yi,useDeferredValue:yi,useTransition:yi,useMutableSource:yi,useSyncExternalStore:yi,useId:yi,unstable_isNewReconciler:!1},f$={readContext:Us,useCallback:function(a,c){return Bo().memoizedState=[a,c===void 0?null:c],a},useContext:Us,useEffect:Xk,useImperativeHandle:function(a,c,m){return m=m!=null?m.concat([a]):null,ng(4194308,4,nI.bind(null,c,a),m)},useLayoutEffect:function(a,c){return ng(4194308,4,a,c)},useInsertionEffect:function(a,c){return ng(4,2,a,c)},useMemo:function(a,c){var m=Bo();return c=c===void 0?null:c,a=a(),m.memoizedState=[a,c],a},useReducer:function(a,c,m){var w=Bo();return c=m!==void 0?m(c):c,w.memoizedState=w.baseState=c,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:c},w.queue=a,a=a.dispatch=u$.bind(null,qr,a),[w.memoizedState,a]},useRef:function(a){var c=Bo();return a={current:a},c.memoizedState=a},useState:Zk,useDebugValue:sw,useDeferredValue:function(a){return Bo().memoizedState=a},useTransition:function(){var a=Zk(!1),c=a[0];return a=c$.bind(null,a[1]),Bo().memoizedState=a,[c,a]},useMutableSource:function(){},useSyncExternalStore:function(a,c,m){var w=qr,k=Bo();if(mr){if(m===void 0)throw Error(n(407));m=m()}else{if(m=c(),si===null)throw Error(n(349));wc&30||Hk(w,c,m)}k.memoizedState=m;var j={value:m,getSnapshot:c};return k.queue=j,Xk(Qk.bind(null,w,j,a),[a]),w.flags|=2048,rp(9,Kk.bind(null,w,j,m,c),void 0,null),m},useId:function(){var a=Bo(),c=si.identifierPrefix;if(mr){var m=ga,w=ma;m=(w&~(1<<32-mi(w)-1)).toString(32)+m,c=":"+c+"R"+m,m=tp++,0<m&&(c+="H"+m.toString(32)),c+=":"}else m=l$++,c=":"+c+"r"+m.toString(32)+":";return a.memoizedState=c},unstable_isNewReconciler:!1},p$={readContext:Us,useCallback:iI,useContext:Us,useEffect:iw,useImperativeHandle:rI,useInsertionEffect:eI,useLayoutEffect:tI,useMemo:sI,useReducer:nw,useRef:Yk,useState:function(){return nw(np)},useDebugValue:sw,useDeferredValue:function(a){var c=Vs();return oI(c,ei.memoizedState,a)},useTransition:function(){var a=nw(np)[0],c=Vs().memoizedState;return[a,c]},useMutableSource:Uk,useSyncExternalStore:Vk,useId:aI,unstable_isNewReconciler:!1},h$={readContext:Us,useCallback:iI,useContext:Us,useEffect:iw,useImperativeHandle:rI,useInsertionEffect:eI,useLayoutEffect:tI,useMemo:sI,useReducer:rw,useRef:Yk,useState:function(){return rw(np)},useDebugValue:sw,useDeferredValue:function(a){var c=Vs();return ei===null?c.memoizedState=a:oI(c,ei.memoizedState,a)},useTransition:function(){var a=rw(np)[0],c=Vs().memoizedState;return[a,c]},useMutableSource:Uk,useSyncExternalStore:Vk,useId:aI,unstable_isNewReconciler:!1};function ho(a,c){if(a&&a.defaultProps){c=oe({},c),a=a.defaultProps;for(var m in a)c[m]===void 0&&(c[m]=a[m]);return c}return c}function ow(a,c,m,w){c=a.memoizedState,m=m(w,c),m=m==null?c:oe({},c,m),a.memoizedState=m,a.lanes===0&&(a.updateQueue.baseState=m)}var sg={isMounted:function(a){return(a=a._reactInternals)?$s(a)===a:!1},enqueueSetState:function(a,c,m){a=a._reactInternals;var w=ji(),k=al(a),j=va(w,k);j.payload=c,m!=null&&(j.callback=m),c=rl(a,j,k),c!==null&&(yo(c,a,k,w),Zm(c,a,k))},enqueueReplaceState:function(a,c,m){a=a._reactInternals;var w=ji(),k=al(a),j=va(w,k);j.tag=1,j.payload=c,m!=null&&(j.callback=m),c=rl(a,j,k),c!==null&&(yo(c,a,k,w),Zm(c,a,k))},enqueueForceUpdate:function(a,c){a=a._reactInternals;var m=ji(),w=al(a),k=va(m,w);k.tag=2,c!=null&&(k.callback=c),c=rl(a,k,w),c!==null&&(yo(c,a,w,m),Zm(c,a,w))}};function dI(a,c,m,w,k,j,J){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(w,j,J):c.prototype&&c.prototype.isPureReactComponent?!Wf(m,w)||!Wf(k,j):!0}function fI(a,c,m){var w=!1,k=el,j=c.contextType;return typeof j=="object"&&j!==null?j=Us(j):(k=es(c)?gc:gi.current,w=c.contextTypes,j=(w=w!=null)?qu(a,k):el),c=new c(m,j),a.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=sg,a.stateNode=c,c._reactInternals=a,w&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=k,a.__reactInternalMemoizedMaskedChildContext=j),c}function pI(a,c,m,w){a=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,w),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,w),c.state!==a&&sg.enqueueReplaceState(c,c.state,null)}function aw(a,c,m,w){var k=a.stateNode;k.props=m,k.state=a.memoizedState,k.refs={},Kx(a);var j=c.contextType;typeof j=="object"&&j!==null?k.context=Us(j):(j=es(c)?gc:gi.current,k.context=qu(a,j)),k.state=a.memoizedState,j=c.getDerivedStateFromProps,typeof j=="function"&&(ow(a,c,j,m),k.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(c=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),c!==k.state&&sg.enqueueReplaceState(k,k.state,null),Ym(a,m,k,w),k.state=a.memoizedState),typeof k.componentDidMount=="function"&&(a.flags|=4194308)}function $u(a,c){try{var m="",w=c;do m+=we(w),w=w.return;while(w);var k=m}catch(j){k=`
Error generating stack: `+j.message+`
`+j.stack}return{value:a,source:c,stack:k,digest:null}}function lw(a,c,m){return{value:a,source:null,stack:m??null,digest:c??null}}function cw(a,c){try{console.error(c.value)}catch(m){setTimeout(function(){throw m})}}var m$=typeof WeakMap=="function"?WeakMap:Map;function hI(a,c,m){m=va(-1,m),m.tag=3,m.payload={element:null};var w=c.value;return m.callback=function(){fg||(fg=!0,Ew=w),cw(a,c)},m}function mI(a,c,m){m=va(-1,m),m.tag=3;var w=a.type.getDerivedStateFromError;if(typeof w=="function"){var k=c.value;m.payload=function(){return w(k)},m.callback=function(){cw(a,c)}}var j=a.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(m.callback=function(){cw(a,c),typeof w!="function"&&(sl===null?sl=new Set([this]):sl.add(this));var J=c.stack;this.componentDidCatch(c.value,{componentStack:J!==null?J:""})}),m}function gI(a,c,m){var w=a.pingCache;if(w===null){w=a.pingCache=new m$;var k=new Set;w.set(c,k)}else k=w.get(c),k===void 0&&(k=new Set,w.set(c,k));k.has(m)||(k.add(m),a=T$.bind(null,a,c,m),c.then(a,a))}function yI(a){do{var c;if((c=a.tag===13)&&(c=a.memoizedState,c=c!==null?c.dehydrated!==null:!0),c)return a;a=a.return}while(a!==null);return null}function vI(a,c,m,w,k){return a.mode&1?(a.flags|=65536,a.lanes=k,a):(a===c?a.flags|=65536:(a.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(c=va(-1,1),c.tag=2,rl(m,c,1))),m.lanes|=1),a)}var g$=A.ReactCurrentOwner,ts=!1;function qi(a,c,m,w){c.child=a===null?Lk(c,null,m,w):Fu(c,a.child,m,w)}function bI(a,c,m,w,k){m=m.render;var j=c.ref;return Lu(c,k),w=ew(a,c,m,w,j,k),m=tw(),a!==null&&!ts?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~k,ba(a,c,k)):(mr&&m&&Dx(c),c.flags|=1,qi(a,c,w,k),c.child)}function xI(a,c,m,w,k){if(a===null){var j=m.type;return typeof j=="function"&&!Rw(j)&&j.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(c.tag=15,c.type=j,wI(a,c,j,w,k)):(a=vg(m.type,null,w,c,c.mode,k),a.ref=c.ref,a.return=c,c.child=a)}if(j=a.child,!(a.lanes&k)){var J=j.memoizedProps;if(m=m.compare,m=m!==null?m:Wf,m(J,w)&&a.ref===c.ref)return ba(a,c,k)}return c.flags|=1,a=cl(j,w),a.ref=c.ref,a.return=c,c.child=a}function wI(a,c,m,w,k){if(a!==null){var j=a.memoizedProps;if(Wf(j,w)&&a.ref===c.ref)if(ts=!1,c.pendingProps=w=j,(a.lanes&k)!==0)a.flags&131072&&(ts=!0);else return c.lanes=a.lanes,ba(a,c,k)}return uw(a,c,m,w,k)}function _I(a,c,m){var w=c.pendingProps,k=w.children,j=a!==null?a.memoizedState:null;if(w.mode==="hidden")if(!(c.mode&1))c.memoizedState={baseLanes:0,cachePool:null,transitions:null},or(zu,xs),xs|=m;else{if(!(m&0x40000000))return a=j!==null?j.baseLanes|m:m,c.lanes=c.childLanes=0x40000000,c.memoizedState={baseLanes:a,cachePool:null,transitions:null},c.updateQueue=null,or(zu,xs),xs|=a,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=j!==null?j.baseLanes:m,or(zu,xs),xs|=w}else j!==null?(w=j.baseLanes|m,c.memoizedState=null):w=m,or(zu,xs),xs|=w;return qi(a,c,k,m),c.child}function SI(a,c){var m=c.ref;(a===null&&m!==null||a!==null&&a.ref!==m)&&(c.flags|=512,c.flags|=2097152)}function uw(a,c,m,w,k){var j=es(m)?gc:gi.current;return j=qu(c,j),Lu(c,k),m=ew(a,c,m,w,j,k),w=tw(),a!==null&&!ts?(c.updateQueue=a.updateQueue,c.flags&=-2053,a.lanes&=~k,ba(a,c,k)):(mr&&w&&Dx(c),c.flags|=1,qi(a,c,m,k),c.child)}function EI(a,c,m,w,k){if(es(m)){var j=!0;Wm(c)}else j=!1;if(Lu(c,k),c.stateNode===null)ag(a,c),fI(c,m,w),aw(c,m,w,k),w=!0;else if(a===null){var J=c.stateNode,ge=c.memoizedProps;J.props=ge;var Se=J.context,He=m.contextType;typeof He=="object"&&He!==null?He=Us(He):(He=es(m)?gc:gi.current,He=qu(c,He));var ht=m.getDerivedStateFromProps,gt=typeof ht=="function"||typeof J.getSnapshotBeforeUpdate=="function";gt||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(ge!==w||Se!==He)&&pI(c,J,w,He),nl=!1;var ft=c.memoizedState;J.state=ft,Ym(c,w,J,k),Se=c.memoizedState,ge!==w||ft!==Se||Xi.current||nl?(typeof ht=="function"&&(ow(c,m,ht,w),Se=c.memoizedState),(ge=nl||dI(c,m,ge,w,ft,Se,He))?(gt||typeof J.UNSAFE_componentWillMount!="function"&&typeof J.componentWillMount!="function"||(typeof J.componentWillMount=="function"&&J.componentWillMount(),typeof J.UNSAFE_componentWillMount=="function"&&J.UNSAFE_componentWillMount()),typeof J.componentDidMount=="function"&&(c.flags|=4194308)):(typeof J.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=w,c.memoizedState=Se),J.props=w,J.state=Se,J.context=He,w=ge):(typeof J.componentDidMount=="function"&&(c.flags|=4194308),w=!1)}else{J=c.stateNode,$k(a,c),ge=c.memoizedProps,He=c.type===c.elementType?ge:ho(c.type,ge),J.props=He,gt=c.pendingProps,ft=J.context,Se=m.contextType,typeof Se=="object"&&Se!==null?Se=Us(Se):(Se=es(m)?gc:gi.current,Se=qu(c,Se));var jt=m.getDerivedStateFromProps;(ht=typeof jt=="function"||typeof J.getSnapshotBeforeUpdate=="function")||typeof J.UNSAFE_componentWillReceiveProps!="function"&&typeof J.componentWillReceiveProps!="function"||(ge!==gt||ft!==Se)&&pI(c,J,w,Se),nl=!1,ft=c.memoizedState,J.state=ft,Ym(c,w,J,k);var Mt=c.memoizedState;ge!==gt||ft!==Mt||Xi.current||nl?(typeof jt=="function"&&(ow(c,m,jt,w),Mt=c.memoizedState),(He=nl||dI(c,m,He,w,ft,Mt,Se)||!1)?(ht||typeof J.UNSAFE_componentWillUpdate!="function"&&typeof J.componentWillUpdate!="function"||(typeof J.componentWillUpdate=="function"&&J.componentWillUpdate(w,Mt,Se),typeof J.UNSAFE_componentWillUpdate=="function"&&J.UNSAFE_componentWillUpdate(w,Mt,Se)),typeof J.componentDidUpdate=="function"&&(c.flags|=4),typeof J.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof J.componentDidUpdate!="function"||ge===a.memoizedProps&&ft===a.memoizedState||(c.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||ge===a.memoizedProps&&ft===a.memoizedState||(c.flags|=1024),c.memoizedProps=w,c.memoizedState=Mt),J.props=w,J.state=Mt,J.context=Se,w=He):(typeof J.componentDidUpdate!="function"||ge===a.memoizedProps&&ft===a.memoizedState||(c.flags|=4),typeof J.getSnapshotBeforeUpdate!="function"||ge===a.memoizedProps&&ft===a.memoizedState||(c.flags|=1024),w=!1)}return dw(a,c,m,w,j,k)}function dw(a,c,m,w,k,j){SI(a,c);var J=(c.flags&128)!==0;if(!w&&!J)return k&&Tk(c,m,!1),ba(a,c,j);w=c.stateNode,g$.current=c;var ge=J&&typeof m.getDerivedStateFromError!="function"?null:w.render();return c.flags|=1,a!==null&&J?(c.child=Fu(c,a.child,null,j),c.child=Fu(c,null,ge,j)):qi(a,c,ge,j),c.memoizedState=w.state,k&&Tk(c,m,!0),c.child}function NI(a){var c=a.stateNode;c.pendingContext?Ik(a,c.pendingContext,c.pendingContext!==c.context):c.context&&Ik(a,c.context,!1),Qx(a,c.containerInfo)}function kI(a,c,m,w,k){return Pu(),Bx(k),c.flags|=256,qi(a,c,m,w),c.child}var fw={dehydrated:null,treeContext:null,retryLane:0};function pw(a){return{baseLanes:a,cachePool:null,transitions:null}}function II(a,c,m){var w=c.pendingProps,k=Rr.current,j=!1,J=(c.flags&128)!==0,ge;if((ge=J)||(ge=a!==null&&a.memoizedState===null?!1:(k&2)!==0),ge?(j=!0,c.flags&=-129):(a===null||a.memoizedState!==null)&&(k|=1),or(Rr,k&1),a===null)return $x(c),a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null)?(c.mode&1?a.data==="$!"?c.lanes=8:c.lanes=0x40000000:c.lanes=1,null):(J=w.children,a=w.fallback,j?(w=c.mode,j=c.child,J={mode:"hidden",children:J},!(w&1)&&j!==null?(j.childLanes=0,j.pendingProps=J):j=bg(J,w,0,null),a=kc(a,w,m,null),j.return=c,a.return=c,j.sibling=a,c.child=j,c.child.memoizedState=pw(m),c.memoizedState=fw,a):hw(c,J));if(k=a.memoizedState,k!==null&&(ge=k.dehydrated,ge!==null))return y$(a,c,J,w,ge,k,m);if(j){j=w.fallback,J=c.mode,k=a.child,ge=k.sibling;var Se={mode:"hidden",children:w.children};return!(J&1)&&c.child!==k?(w=c.child,w.childLanes=0,w.pendingProps=Se,c.deletions=null):(w=cl(k,Se),w.subtreeFlags=k.subtreeFlags&0xe00000),ge!==null?j=cl(ge,j):(j=kc(j,J,m,null),j.flags|=2),j.return=c,w.return=c,w.sibling=j,c.child=w,w=j,j=c.child,J=a.child.memoizedState,J=J===null?pw(m):{baseLanes:J.baseLanes|m,cachePool:null,transitions:J.transitions},j.memoizedState=J,j.childLanes=a.childLanes&~m,c.memoizedState=fw,w}return j=a.child,a=j.sibling,w=cl(j,{mode:"visible",children:w.children}),!(c.mode&1)&&(w.lanes=m),w.return=c,w.sibling=null,a!==null&&(m=c.deletions,m===null?(c.deletions=[a],c.flags|=16):m.push(a)),c.child=w,c.memoizedState=null,w}function hw(a,c){return c=bg({mode:"visible",children:c},a.mode,0,null),c.return=a,a.child=c}function og(a,c,m,w){return w!==null&&Bx(w),Fu(c,a.child,null,m),a=hw(c,c.pendingProps.children),a.flags|=2,c.memoizedState=null,a}function y$(a,c,m,w,k,j,J){if(m)return c.flags&256?(c.flags&=-257,w=lw(Error(n(422))),og(a,c,J,w)):c.memoizedState!==null?(c.child=a.child,c.flags|=128,null):(j=w.fallback,k=c.mode,w=bg({mode:"visible",children:w.children},k,0,null),j=kc(j,k,J,null),j.flags|=2,w.return=c,j.return=c,w.sibling=j,c.child=w,c.mode&1&&Fu(c,a.child,null,J),c.child.memoizedState=pw(J),c.memoizedState=fw,j);if(!(c.mode&1))return og(a,c,J,null);if(k.data==="$!"){if(w=k.nextSibling&&k.nextSibling.dataset,w)var ge=w.dgst;return w=ge,j=Error(n(419)),w=lw(j,w,void 0),og(a,c,J,w)}if(ge=(J&a.childLanes)!==0,ts||ge){if(w=si,w!==null){switch(J&-J){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:k=32;break;case 0x20000000:k=0x10000000;break;default:k=0}k=k&(w.suspendedLanes|J)?0:k,k!==0&&k!==j.retryLane&&(j.retryLane=k,ya(a,k),yo(w,a,k,-1))}return Ow(),w=lw(Error(n(421))),og(a,c,J,w)}return k.data==="$?"?(c.flags|=128,c.child=a.child,c=O$.bind(null,a),k._reactRetry=c,null):(a=j.treeContext,bs=Ya(k.nextSibling),vs=c,mr=!0,po=null,a!==null&&(zs[Ws++]=ma,zs[Ws++]=ga,zs[Ws++]=yc,ma=a.id,ga=a.overflow,yc=c),c=hw(c,w.children),c.flags|=4096,c)}function CI(a,c,m){a.lanes|=c;var w=a.alternate;w!==null&&(w.lanes|=c),Vx(a.return,c,m)}function mw(a,c,m,w,k){var j=a.memoizedState;j===null?a.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:w,tail:m,tailMode:k}:(j.isBackwards=c,j.rendering=null,j.renderingStartTime=0,j.last=w,j.tail=m,j.tailMode=k)}function TI(a,c,m){var w=c.pendingProps,k=w.revealOrder,j=w.tail;if(qi(a,c,w.children,m),w=Rr.current,w&2)w=w&1|2,c.flags|=128;else{if(a!==null&&a.flags&128)e:for(a=c.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&CI(a,m,c);else if(a.tag===19)CI(a,m,c);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===c)break e;for(;a.sibling===null;){if(a.return===null||a.return===c)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}w&=1}if(or(Rr,w),!(c.mode&1))c.memoizedState=null;else switch(k){case"forwards":for(m=c.child,k=null;m!==null;)a=m.alternate,a!==null&&Xm(a)===null&&(k=m),m=m.sibling;m=k,m===null?(k=c.child,c.child=null):(k=m.sibling,m.sibling=null),mw(c,!1,k,m,j);break;case"backwards":for(m=null,k=c.child,c.child=null;k!==null;){if(a=k.alternate,a!==null&&Xm(a)===null){c.child=k;break}a=k.sibling,k.sibling=m,m=k,k=a}mw(c,!0,m,null,j);break;case"together":mw(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function ag(a,c){!(c.mode&1)&&a!==null&&(a.alternate=null,c.alternate=null,c.flags|=2)}function ba(a,c,m){if(a!==null&&(c.dependencies=a.dependencies),_c|=c.lanes,!(m&c.childLanes))return null;if(a!==null&&c.child!==a.child)throw Error(n(153));if(c.child!==null){for(a=c.child,m=cl(a,a.pendingProps),c.child=m,m.return=c;a.sibling!==null;)a=a.sibling,m=m.sibling=cl(a,a.pendingProps),m.return=c;m.sibling=null}return c.child}function v$(a,c,m){switch(c.tag){case 3:NI(c),Pu();break;case 5:Wk(c);break;case 1:es(c.type)&&Wm(c);break;case 4:Qx(c,c.stateNode.containerInfo);break;case 10:var w=c.type._context,k=c.memoizedProps.value;or(Gm,w._currentValue),w._currentValue=k;break;case 13:if(w=c.memoizedState,w!==null)return w.dehydrated!==null?(or(Rr,Rr.current&1),c.flags|=128,null):m&c.child.childLanes?II(a,c,m):(or(Rr,Rr.current&1),a=ba(a,c,m),a!==null?a.sibling:null);or(Rr,Rr.current&1);break;case 19:if(w=(m&c.childLanes)!==0,a.flags&128){if(w)return TI(a,c,m);c.flags|=128}if(k=c.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),or(Rr,Rr.current),w)break;return null;case 22:case 23:return c.lanes=0,_I(a,c,m)}return ba(a,c,m)}var OI,gw,RI,qI;OI=function(a,c){for(var m=c.child;m!==null;){if(m.tag===5||m.tag===6)a.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===c)break;for(;m.sibling===null;){if(m.return===null||m.return===c)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},gw=function(){},RI=function(a,c,m,w){var k=a.memoizedProps;if(k!==w){a=c.stateNode,xc($o.current);var j=null;switch(m){case"input":k=_t(a,k),w=_t(a,w),j=[];break;case"select":k=oe({},k,{value:void 0}),w=oe({},w,{value:void 0}),j=[];break;case"textarea":k=Ve(a,k),w=Ve(a,w),j=[];break;default:typeof k.onClick!="function"&&typeof w.onClick=="function"&&(a.onclick=$m)}Gi(m,w);var J;m=null;for(He in k)if(!w.hasOwnProperty(He)&&k.hasOwnProperty(He)&&k[He]!=null)if(He==="style"){var ge=k[He];for(J in ge)ge.hasOwnProperty(J)&&(m||(m={}),m[J]="")}else He!=="dangerouslySetInnerHTML"&&He!=="children"&&He!=="suppressContentEditableWarning"&&He!=="suppressHydrationWarning"&&He!=="autoFocus"&&(i.hasOwnProperty(He)?j||(j=[]):(j=j||[]).push(He,null));for(He in w){var Se=w[He];if(ge=k?.[He],w.hasOwnProperty(He)&&Se!==ge&&(Se!=null||ge!=null))if(He==="style")if(ge){for(J in ge)!ge.hasOwnProperty(J)||Se&&Se.hasOwnProperty(J)||(m||(m={}),m[J]="");for(J in Se)Se.hasOwnProperty(J)&&ge[J]!==Se[J]&&(m||(m={}),m[J]=Se[J])}else m||(j||(j=[]),j.push(He,m)),m=Se;else He==="dangerouslySetInnerHTML"?(Se=Se?Se.__html:void 0,ge=ge?ge.__html:void 0,Se!=null&&ge!==Se&&(j=j||[]).push(He,Se)):He==="children"?typeof Se!="string"&&typeof Se!="number"||(j=j||[]).push(He,""+Se):He!=="suppressContentEditableWarning"&&He!=="suppressHydrationWarning"&&(i.hasOwnProperty(He)?(Se!=null&&He==="onScroll"&&fr("scroll",a),j||ge===Se||(j=[])):(j=j||[]).push(He,Se))}m&&(j=j||[]).push("style",m);var He=j;(c.updateQueue=He)&&(c.flags|=4)}},qI=function(a,c,m,w){m!==w&&(c.flags|=4)};function ip(a,c){if(!mr)switch(a.tailMode){case"hidden":c=a.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?a.tail=null:m.sibling=null;break;case"collapsed":m=a.tail;for(var w=null;m!==null;)m.alternate!==null&&(w=m),m=m.sibling;w===null?c||a.tail===null?a.tail=null:a.tail.sibling=null:w.sibling=null}}function vi(a){var c=a.alternate!==null&&a.alternate.child===a.child,m=0,w=0;if(c)for(var k=a.child;k!==null;)m|=k.lanes|k.childLanes,w|=k.subtreeFlags&0xe00000,w|=k.flags&0xe00000,k.return=a,k=k.sibling;else for(k=a.child;k!==null;)m|=k.lanes|k.childLanes,w|=k.subtreeFlags,w|=k.flags,k.return=a,k=k.sibling;return a.subtreeFlags|=w,a.childLanes=m,c}function b$(a,c,m){var w=c.pendingProps;switch(Lx(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vi(c),null;case 1:return es(c.type)&&zm(),vi(c),null;case 3:return w=c.stateNode,Mu(),pr(Xi),pr(gi),Zx(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(a===null||a.child===null)&&(Km(c)?c.flags|=4:a===null||a.memoizedState.isDehydrated&&!(c.flags&256)||(c.flags|=1024,po!==null&&(Iw(po),po=null))),gw(a,c),vi(c),null;case 5:Gx(c);var k=xc(Xf.current);if(m=c.type,a!==null&&c.stateNode!=null)RI(a,c,m,w,k),a.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!w){if(c.stateNode===null)throw Error(n(166));return vi(c),null}if(a=xc($o.current),Km(c)){w=c.stateNode,m=c.type;var j=c.memoizedProps;switch(w[Mo]=c,w[Qf]=j,a=(c.mode&1)!==0,m){case"dialog":fr("cancel",w),fr("close",w);break;case"iframe":case"object":case"embed":fr("load",w);break;case"video":case"audio":for(k=0;k<Vf.length;k++)fr(Vf[k],w);break;case"source":fr("error",w);break;case"img":case"image":case"link":fr("error",w),fr("load",w);break;case"details":fr("toggle",w);break;case"input":Tt(w,j),fr("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!j.multiple},fr("invalid",w);break;case"textarea":rt(w,j),fr("invalid",w)}Gi(m,j),k=null;for(var J in j)if(j.hasOwnProperty(J)){var ge=j[J];J==="children"?typeof ge=="string"?w.textContent!==ge&&(j.suppressHydrationWarning!==!0&&Mm(w.textContent,ge,a),k=["children",ge]):typeof ge=="number"&&w.textContent!==""+ge&&(j.suppressHydrationWarning!==!0&&Mm(w.textContent,ge,a),k=["children",""+ge]):i.hasOwnProperty(J)&&ge!=null&&J==="onScroll"&&fr("scroll",w)}switch(m){case"input":Xe(w),xe(w,j,!0);break;case"textarea":Xe(w),ut(w);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(w.onclick=$m)}w=k,c.updateQueue=w,w!==null&&(c.flags|=4)}else{J=k.nodeType===9?k:k.ownerDocument,a==="http://www.w3.org/1999/xhtml"&&(a=Qt(m)),a==="http://www.w3.org/1999/xhtml"?m==="script"?(a=J.createElement("div"),a.innerHTML="<script></script>",a=a.removeChild(a.firstChild)):typeof w.is=="string"?a=J.createElement(m,{is:w.is}):(a=J.createElement(m),m==="select"&&(J=a,w.multiple?J.multiple=!0:w.size&&(J.size=w.size))):a=J.createElementNS(a,m),a[Mo]=c,a[Qf]=w,OI(a,c,!1,!1),c.stateNode=a;e:{switch(J=Ji(m,w),m){case"dialog":fr("cancel",a),fr("close",a),k=w;break;case"iframe":case"object":case"embed":fr("load",a),k=w;break;case"video":case"audio":for(k=0;k<Vf.length;k++)fr(Vf[k],a);k=w;break;case"source":fr("error",a),k=w;break;case"img":case"image":case"link":fr("error",a),fr("load",a),k=w;break;case"details":fr("toggle",a),k=w;break;case"input":Tt(a,w),k=_t(a,w),fr("invalid",a);break;case"option":k=w;break;case"select":a._wrapperState={wasMultiple:!!w.multiple},k=oe({},w,{value:void 0}),fr("invalid",a);break;case"textarea":rt(a,w),k=Ve(a,w),fr("invalid",a);break;default:k=w}Gi(m,k),ge=k;for(j in ge)if(ge.hasOwnProperty(j)){var Se=ge[j];j==="style"?Jt(a,Se):j==="dangerouslySetInnerHTML"?(Se=Se?Se.__html:void 0,Se!=null&&ur(a,Se)):j==="children"?typeof Se=="string"?(m!=="textarea"||Se!=="")&&Fn(a,Se):typeof Se=="number"&&Fn(a,""+Se):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(i.hasOwnProperty(j)?Se!=null&&j==="onScroll"&&fr("scroll",a):Se!=null&&R(a,j,Se,J))}switch(m){case"input":Xe(a),xe(a,w,!1);break;case"textarea":Xe(a),ut(a);break;case"option":w.value!=null&&a.setAttribute("value",""+Re(w.value));break;case"select":a.multiple=!!w.multiple,j=w.value,j!=null?Ae(a,!!w.multiple,j,!1):w.defaultValue!=null&&Ae(a,!!w.multiple,w.defaultValue,!0);break;default:typeof k.onClick=="function"&&(a.onclick=$m)}switch(m){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(c.flags|=4)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return vi(c),null;case 6:if(a&&c.stateNode!=null)qI(a,c,a.memoizedProps,w);else{if(typeof w!="string"&&c.stateNode===null)throw Error(n(166));if(m=xc(Xf.current),xc($o.current),Km(c)){if(w=c.stateNode,m=c.memoizedProps,w[Mo]=c,(j=w.nodeValue!==m)&&(a=vs,a!==null))switch(a.tag){case 3:Mm(w.nodeValue,m,(a.mode&1)!==0);break;case 5:a.memoizedProps.suppressHydrationWarning!==!0&&Mm(w.nodeValue,m,(a.mode&1)!==0)}j&&(c.flags|=4)}else w=(m.nodeType===9?m:m.ownerDocument).createTextNode(w),w[Mo]=c,c.stateNode=w}return vi(c),null;case 13:if(pr(Rr),w=c.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(mr&&bs!==null&&c.mode&1&&!(c.flags&128))Pk(),Pu(),c.flags|=98560,j=!1;else if(j=Km(c),w!==null&&w.dehydrated!==null){if(a===null){if(!j)throw Error(n(318));if(j=c.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(n(317));j[Mo]=c}else Pu(),!(c.flags&128)&&(c.memoizedState=null),c.flags|=4;vi(c),j=!1}else po!==null&&(Iw(po),po=null),j=!0;if(!j)return c.flags&65536?c:null}return c.flags&128?(c.lanes=m,c):(w=w!==null,w!==(a!==null&&a.memoizedState!==null)&&w&&(c.child.flags|=8192,c.mode&1&&(a===null||Rr.current&1?ti===0&&(ti=3):Ow())),c.updateQueue!==null&&(c.flags|=4),vi(c),null);case 4:return Mu(),gw(a,c),a===null&&Hf(c.stateNode.containerInfo),vi(c),null;case 10:return Ux(c.type._context),vi(c),null;case 17:return es(c.type)&&zm(),vi(c),null;case 19:if(pr(Rr),j=c.memoizedState,j===null)return vi(c),null;if(w=(c.flags&128)!==0,J=j.rendering,J===null)if(w)ip(j,!1);else{if(ti!==0||a!==null&&a.flags&128)for(a=c.child;a!==null;){if(J=Xm(a),J!==null){for(c.flags|=128,ip(j,!1),w=J.updateQueue,w!==null&&(c.updateQueue=w,c.flags|=4),c.subtreeFlags=0,w=m,m=c.child;m!==null;)j=m,a=w,j.flags&=0xe00002,J=j.alternate,J===null?(j.childLanes=0,j.lanes=a,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=J.childLanes,j.lanes=J.lanes,j.child=J.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=J.memoizedProps,j.memoizedState=J.memoizedState,j.updateQueue=J.updateQueue,j.type=J.type,a=J.dependencies,j.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),m=m.sibling;return or(Rr,Rr.current&1|2),c.child}a=a.sibling}j.tail!==null&&dr()>Wu&&(c.flags|=128,w=!0,ip(j,!1),c.lanes=4194304)}else{if(!w)if(a=Xm(J),a!==null){if(c.flags|=128,w=!0,m=a.updateQueue,m!==null&&(c.updateQueue=m,c.flags|=4),ip(j,!0),j.tail===null&&j.tailMode==="hidden"&&!J.alternate&&!mr)return vi(c),null}else 2*dr()-j.renderingStartTime>Wu&&m!==0x40000000&&(c.flags|=128,w=!0,ip(j,!1),c.lanes=4194304);j.isBackwards?(J.sibling=c.child,c.child=J):(m=j.last,m!==null?m.sibling=J:c.child=J,j.last=J)}return j.tail!==null?(c=j.tail,j.rendering=c,j.tail=c.sibling,j.renderingStartTime=dr(),c.sibling=null,m=Rr.current,or(Rr,w?m&1|2:m&1),c):(vi(c),null);case 22:case 23:return Tw(),w=c.memoizedState!==null,a!==null&&a.memoizedState!==null!==w&&(c.flags|=8192),w&&c.mode&1?xs&0x40000000&&(vi(c),c.subtreeFlags&6&&(c.flags|=8192)):vi(c),null;case 24:return null;case 25:return null}throw Error(n(156,c.tag))}function x$(a,c){switch(Lx(c),c.tag){case 1:return es(c.type)&&zm(),a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 3:return Mu(),pr(Xi),pr(gi),Zx(),a=c.flags,a&65536&&!(a&128)?(c.flags=a&-65537|128,c):null;case 5:return Gx(c),null;case 13:if(pr(Rr),a=c.memoizedState,a!==null&&a.dehydrated!==null){if(c.alternate===null)throw Error(n(340));Pu()}return a=c.flags,a&65536?(c.flags=a&-65537|128,c):null;case 19:return pr(Rr),null;case 4:return Mu(),null;case 10:return Ux(c.type._context),null;case 22:case 23:return Tw(),null;case 24:return null;default:return null}}var lg=!1,bi=!1,w$=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function Bu(a,c){var m=a.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(w){Dr(a,c,w)}else m.current=null}function yw(a,c,m){try{m()}catch(w){Dr(a,c,w)}}var jI=!1;function _$(a,c){if(Tx=Ge,a=dk(),wx(a)){if("selectionStart"in a)var m={start:a.selectionStart,end:a.selectionEnd};else e:{m=(m=a.ownerDocument)&&m.defaultView||window;var w=m.getSelection&&m.getSelection();if(w&&w.rangeCount!==0){m=w.anchorNode;var k=w.anchorOffset,j=w.focusNode;w=w.focusOffset;try{m.nodeType,j.nodeType}catch{m=null;break e}var J=0,ge=-1,Se=-1,He=0,ht=0,gt=a,ft=null;t:for(;;){for(var jt;gt!==m||k!==0&&gt.nodeType!==3||(ge=J+k),gt!==j||w!==0&&gt.nodeType!==3||(Se=J+w),gt.nodeType===3&&(J+=gt.nodeValue.length),(jt=gt.firstChild)!==null;)ft=gt,gt=jt;for(;;){if(gt===a)break t;if(ft===m&&++He===k&&(ge=J),ft===j&&++ht===w&&(Se=J),(jt=gt.nextSibling)!==null)break;gt=ft,ft=gt.parentNode}gt=jt}m=ge===-1||Se===-1?null:{start:ge,end:Se}}else m=null}m=m||{start:0,end:0}}else m=null;for(Ox={focusedElem:a,selectionRange:m},Ge=!1,Dt=c;Dt!==null;)if(c=Dt,a=c.child,(c.subtreeFlags&1028)!==0&&a!==null)a.return=c,Dt=a;else for(;Dt!==null;){c=Dt;try{var Mt=c.alternate;if(c.flags&1024)switch(c.tag){case 0:case 11:case 15:break;case 1:if(Mt!==null){var zt=Mt.memoizedProps,$r=Mt.memoizedState,Fe=c.stateNode,Ce=Fe.getSnapshotBeforeUpdate(c.elementType===c.type?zt:ho(c.type,zt),$r);Fe.__reactInternalSnapshotBeforeUpdate=Ce}break;case 3:var $e=c.stateNode.containerInfo;$e.nodeType===1?$e.textContent="":$e.nodeType===9&&$e.documentElement&&$e.removeChild($e.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(bt){Dr(c,c.return,bt)}if(a=c.sibling,a!==null){a.return=c.return,Dt=a;break}Dt=c.return}return Mt=jI,jI=!1,Mt}function sp(a,c,m){var w=c.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var k=w=w.next;do{if((k.tag&a)===a){var j=k.destroy;k.destroy=void 0,j!==void 0&&yw(c,m,j)}k=k.next}while(k!==w)}}function cg(a,c){if(c=c.updateQueue,c=c!==null?c.lastEffect:null,c!==null){var m=c=c.next;do{if((m.tag&a)===a){var w=m.create;m.destroy=w()}m=m.next}while(m!==c)}}function vw(a){var c=a.ref;if(c!==null){var m=a.stateNode;switch(a.tag){case 5:a=m;break;default:a=m}typeof c=="function"?c(a):c.current=a}}function AI(a){var c=a.alternate;c!==null&&(a.alternate=null,AI(c)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(c=a.stateNode,c!==null&&(delete c[Mo],delete c[Qf],delete c[Ax],delete c[i$],delete c[s$])),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function PI(a){return a.tag===5||a.tag===3||a.tag===4}function FI(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||PI(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function bw(a,c,m){var w=a.tag;if(w===5||w===6)a=a.stateNode,c?m.nodeType===8?m.parentNode.insertBefore(a,c):m.insertBefore(a,c):(m.nodeType===8?(c=m.parentNode,c.insertBefore(a,m)):(c=m,c.appendChild(a)),m=m._reactRootContainer,m!=null||c.onclick!==null||(c.onclick=$m));else if(w!==4&&(a=a.child,a!==null))for(bw(a,c,m),a=a.sibling;a!==null;)bw(a,c,m),a=a.sibling}function xw(a,c,m){var w=a.tag;if(w===5||w===6)a=a.stateNode,c?m.insertBefore(a,c):m.appendChild(a);else if(w!==4&&(a=a.child,a!==null))for(xw(a,c,m),a=a.sibling;a!==null;)xw(a,c,m),a=a.sibling}var li=null,mo=!1;function il(a,c,m){for(m=m.child;m!==null;)DI(a,c,m),m=m.sibling}function DI(a,c,m){if(Yi&&typeof Yi.onCommitFiberUnmount=="function")try{Yi.onCommitFiberUnmount(Qa,m)}catch{}switch(m.tag){case 5:bi||Bu(m,c);case 6:var w=li,k=mo;li=null,il(a,c,m),li=w,mo=k,li!==null&&(mo?(a=li,m=m.stateNode,a.nodeType===8?a.parentNode.removeChild(m):a.removeChild(m)):li.removeChild(m.stateNode));break;case 18:li!==null&&(mo?(a=li,m=m.stateNode,a.nodeType===8?jx(a.parentNode,m):a.nodeType===1&&jx(a,m),Te(a)):jx(li,m.stateNode));break;case 4:w=li,k=mo,li=m.stateNode.containerInfo,mo=!0,il(a,c,m),li=w,mo=k;break;case 0:case 11:case 14:case 15:if(!bi&&(w=m.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){k=w=w.next;do{var j=k,J=j.destroy;j=j.tag,J!==void 0&&(j&2||j&4)&&yw(m,c,J),k=k.next}while(k!==w)}il(a,c,m);break;case 1:if(!bi&&(Bu(m,c),w=m.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=m.memoizedProps,w.state=m.memoizedState,w.componentWillUnmount()}catch(ge){Dr(m,c,ge)}il(a,c,m);break;case 21:il(a,c,m);break;case 22:m.mode&1?(bi=(w=bi)||m.memoizedState!==null,il(a,c,m),bi=w):il(a,c,m);break;default:il(a,c,m)}}function LI(a){var c=a.updateQueue;if(c!==null){a.updateQueue=null;var m=a.stateNode;m===null&&(m=a.stateNode=new w$),c.forEach(function(w){var k=R$.bind(null,a,w);m.has(w)||(m.add(w),w.then(k,k))})}}function go(a,c){var m=c.deletions;if(m!==null)for(var w=0;w<m.length;w++){var k=m[w];try{var j=a,J=c,ge=J;e:for(;ge!==null;){switch(ge.tag){case 5:li=ge.stateNode,mo=!1;break e;case 3:li=ge.stateNode.containerInfo,mo=!0;break e;case 4:li=ge.stateNode.containerInfo,mo=!0;break e}ge=ge.return}if(li===null)throw Error(n(160));DI(j,J,k),li=null,mo=!1;var Se=k.alternate;Se!==null&&(Se.return=null),k.return=null}catch(He){Dr(k,c,He)}}if(c.subtreeFlags&12854)for(c=c.child;c!==null;)MI(c,a),c=c.sibling}function MI(a,c){var m=a.alternate,w=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(go(c,a),zo(a),w&4){try{sp(3,a,a.return),cg(3,a)}catch(zt){Dr(a,a.return,zt)}try{sp(5,a,a.return)}catch(zt){Dr(a,a.return,zt)}}break;case 1:go(c,a),zo(a),w&512&&m!==null&&Bu(m,m.return);break;case 5:if(go(c,a),zo(a),w&512&&m!==null&&Bu(m,m.return),a.flags&32){var k=a.stateNode;try{Fn(k,"")}catch(zt){Dr(a,a.return,zt)}}if(w&4&&(k=a.stateNode,k!=null)){var j=a.memoizedProps,J=m!==null?m.memoizedProps:j,ge=a.type,Se=a.updateQueue;if(a.updateQueue=null,Se!==null)try{ge==="input"&&j.type==="radio"&&j.name!=null&&Ut(k,j),Ji(ge,J);var He=Ji(ge,j);for(J=0;J<Se.length;J+=2){var ht=Se[J],gt=Se[J+1];ht==="style"?Jt(k,gt):ht==="dangerouslySetInnerHTML"?ur(k,gt):ht==="children"?Fn(k,gt):R(k,ht,gt,He)}switch(ge){case"input":nn(k,j);break;case"textarea":Me(k,j);break;case"select":var ft=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!j.multiple;var jt=j.value;jt!=null?Ae(k,!!j.multiple,jt,!1):ft!==!!j.multiple&&(j.defaultValue!=null?Ae(k,!!j.multiple,j.defaultValue,!0):Ae(k,!!j.multiple,j.multiple?[]:"",!1))}k[Qf]=j}catch(zt){Dr(a,a.return,zt)}}break;case 6:if(go(c,a),zo(a),w&4){if(a.stateNode===null)throw Error(n(162));k=a.stateNode,j=a.memoizedProps;try{k.nodeValue=j}catch(zt){Dr(a,a.return,zt)}}break;case 3:if(go(c,a),zo(a),w&4&&m!==null&&m.memoizedState.isDehydrated)try{Te(c.containerInfo)}catch(zt){Dr(a,a.return,zt)}break;case 4:go(c,a),zo(a);break;case 13:go(c,a),zo(a),k=a.child,k.flags&8192&&(j=k.memoizedState!==null,k.stateNode.isHidden=j,!j||k.alternate!==null&&k.alternate.memoizedState!==null||(Sw=dr())),w&4&&LI(a);break;case 22:if(ht=m!==null&&m.memoizedState!==null,a.mode&1?(bi=(He=bi)||ht,go(c,a),bi=He):go(c,a),zo(a),w&8192){if(He=a.memoizedState!==null,(a.stateNode.isHidden=He)&&!ht&&a.mode&1)for(Dt=a,ht=a.child;ht!==null;){for(gt=Dt=ht;Dt!==null;){switch(ft=Dt,jt=ft.child,ft.tag){case 0:case 11:case 14:case 15:sp(4,ft,ft.return);break;case 1:Bu(ft,ft.return);var Mt=ft.stateNode;if(typeof Mt.componentWillUnmount=="function"){w=ft,m=ft.return;try{c=w,Mt.props=c.memoizedProps,Mt.state=c.memoizedState,Mt.componentWillUnmount()}catch(zt){Dr(w,m,zt)}}break;case 5:Bu(ft,ft.return);break;case 22:if(ft.memoizedState!==null){zI(gt);continue}}jt!==null?(jt.return=ft,Dt=jt):zI(gt)}ht=ht.sibling}e:for(ht=null,gt=a;;){if(gt.tag===5){if(ht===null){ht=gt;try{k=gt.stateNode,He?(j=k.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(ge=gt.stateNode,Se=gt.memoizedProps.style,J=Se!=null&&Se.hasOwnProperty("display")?Se.display:null,ge.style.display=Tr("display",J))}catch(zt){Dr(a,a.return,zt)}}}else if(gt.tag===6){if(ht===null)try{gt.stateNode.nodeValue=He?"":gt.memoizedProps}catch(zt){Dr(a,a.return,zt)}}else if((gt.tag!==22&&gt.tag!==23||gt.memoizedState===null||gt===a)&&gt.child!==null){gt.child.return=gt,gt=gt.child;continue}if(gt===a)break e;for(;gt.sibling===null;){if(gt.return===null||gt.return===a)break e;ht===gt&&(ht=null),gt=gt.return}ht===gt&&(ht=null),gt.sibling.return=gt.return,gt=gt.sibling}}break;case 19:go(c,a),zo(a),w&4&&LI(a);break;case 21:break;default:go(c,a),zo(a)}}function zo(a){var c=a.flags;if(c&2){try{e:{for(var m=a.return;m!==null;){if(PI(m)){var w=m;break e}m=m.return}throw Error(n(160))}switch(w.tag){case 5:var k=w.stateNode;w.flags&32&&(Fn(k,""),w.flags&=-33);var j=FI(a);xw(a,j,k);break;case 3:case 4:var J=w.stateNode.containerInfo,ge=FI(a);bw(a,ge,J);break;default:throw Error(n(161))}}catch(Se){Dr(a,a.return,Se)}a.flags&=-3}c&4096&&(a.flags&=-4097)}function S$(a,c,m){Dt=a,$I(a)}function $I(a,c,m){for(var w=(a.mode&1)!==0;Dt!==null;){var k=Dt,j=k.child;if(k.tag===22&&w){var J=k.memoizedState!==null||lg;if(!J){var ge=k.alternate,Se=ge!==null&&ge.memoizedState!==null||bi;ge=lg;var He=bi;if(lg=J,(bi=Se)&&!He)for(Dt=k;Dt!==null;)J=Dt,Se=J.child,J.tag===22&&J.memoizedState!==null?WI(k):Se!==null?(Se.return=J,Dt=Se):WI(k);for(;j!==null;)Dt=j,$I(j),j=j.sibling;Dt=k,lg=ge,bi=He}BI(a)}else k.subtreeFlags&8772&&j!==null?(j.return=k,Dt=j):BI(a)}}function BI(a){for(;Dt!==null;){var c=Dt;if(c.flags&8772){var m=c.alternate;try{if(c.flags&8772)switch(c.tag){case 0:case 11:case 15:bi||cg(5,c);break;case 1:var w=c.stateNode;if(c.flags&4&&!bi)if(m===null)w.componentDidMount();else{var k=c.elementType===c.type?m.memoizedProps:ho(c.type,m.memoizedProps);w.componentDidUpdate(k,m.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var j=c.updateQueue;j!==null&&zk(c,j,w);break;case 3:var J=c.updateQueue;if(J!==null){if(m=null,c.child!==null)switch(c.child.tag){case 5:m=c.child.stateNode;break;case 1:m=c.child.stateNode}zk(c,J,m)}break;case 5:var ge=c.stateNode;if(m===null&&c.flags&4){m=ge;var Se=c.memoizedProps;switch(c.type){case"button":case"input":case"select":case"textarea":Se.autoFocus&&m.focus();break;case"img":Se.src&&(m.src=Se.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(c.memoizedState===null){var He=c.alternate;if(He!==null){var ht=He.memoizedState;if(ht!==null){var gt=ht.dehydrated;gt!==null&&Te(gt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}bi||c.flags&512&&vw(c)}catch(ft){Dr(c,c.return,ft)}}if(c===a){Dt=null;break}if(m=c.sibling,m!==null){m.return=c.return,Dt=m;break}Dt=c.return}}function zI(a){for(;Dt!==null;){var c=Dt;if(c===a){Dt=null;break}var m=c.sibling;if(m!==null){m.return=c.return,Dt=m;break}Dt=c.return}}function WI(a){for(;Dt!==null;){var c=Dt;try{switch(c.tag){case 0:case 11:case 15:var m=c.return;try{cg(4,c)}catch(Se){Dr(c,m,Se)}break;case 1:var w=c.stateNode;if(typeof w.componentDidMount=="function"){var k=c.return;try{w.componentDidMount()}catch(Se){Dr(c,k,Se)}}var j=c.return;try{vw(c)}catch(Se){Dr(c,j,Se)}break;case 5:var J=c.return;try{vw(c)}catch(Se){Dr(c,J,Se)}}}catch(Se){Dr(c,c.return,Se)}if(c===a){Dt=null;break}var ge=c.sibling;if(ge!==null){ge.return=c.return,Dt=ge;break}Dt=c.return}}var E$=Math.ceil,ug=A.ReactCurrentDispatcher,ww=A.ReactCurrentOwner,Hs=A.ReactCurrentBatchConfig,qn=0,si=null,Kr=null,ci=0,xs=0,zu=Xa(0),ti=0,op=null,_c=0,dg=0,_w=0,ap=null,ns=null,Sw=0,Wu=1/0,xa=null,fg=!1,Ew=null,sl=null,pg=!1,ol=null,hg=0,lp=0,Nw=null,mg=-1,gg=0;function ji(){return qn&6?dr():mg!==-1?mg:mg=dr()}function al(a){return a.mode&1?qn&2&&ci!==0?ci&-ci:a$.transition!==null?(gg===0&&(gg=Rm()),gg):(a=Dn,a!==0||(a=window.event,a=a===void 0?16:Ee(a.type)),a):1}function yo(a,c,m,w){if(50<lp)throw lp=0,Nw=null,Error(n(185));pc(a,m,w),(!(qn&2)||a!==si)&&(a===si&&(!(qn&2)&&(dg|=m),ti===4&&ll(a,ci)),rs(a,w),m===1&&qn===0&&!(c.mode&1)&&(Wu=dr()+500,Um&&tl()))}function rs(a,c){var m=a.callbackNode;px(a,c);var w=Ja(a,a===si?ci:0);if(w===0)m!==null&&uc(m),a.callbackNode=null,a.callbackPriority=0;else if(c=w&-w,a.callbackPriority!==c){if(m!=null&&uc(m),c===1)a.tag===0?o$(VI.bind(null,a)):Ok(VI.bind(null,a)),n$(function(){!(qn&6)&&tl()}),m=null;else{switch(qm(w)){case 1:m=dc;break;case 4:m=Eu;break;case 16:m=Ka;break;case 0x20000000:m=fc;break;default:m=Ka}m=XI(m,UI.bind(null,a))}a.callbackPriority=c,a.callbackNode=m}}function UI(a,c){if(mg=-1,gg=0,qn&6)throw Error(n(327));var m=a.callbackNode;if(Uu()&&a.callbackNode!==m)return null;var w=Ja(a,a===si?ci:0);if(w===0)return null;if(w&30||w&a.expiredLanes||c)c=yg(a,w);else{c=w;var k=qn;qn|=2;var j=KI();(si!==a||ci!==c)&&(xa=null,Wu=dr()+500,Ec(a,c));do try{I$();break}catch(ge){HI(a,ge)}while(!0);Wx(),ug.current=j,qn=k,Kr!==null?c=0:(si=null,ci=0,c=ti)}if(c!==0){if(c===2&&(k=jf(a),k!==0&&(w=k,c=kw(a,k))),c===1)throw m=op,Ec(a,0),ll(a,w),rs(a,dr()),m;if(c===6)ll(a,w);else{if(k=a.current.alternate,!(w&30)&&!N$(k)&&(c=yg(a,w),c===2&&(j=jf(a),j!==0&&(w=j,c=kw(a,j))),c===1))throw m=op,Ec(a,0),ll(a,w),rs(a,dr()),m;switch(a.finishedWork=k,a.finishedLanes=w,c){case 0:case 1:throw Error(n(345));case 2:Nc(a,ns,xa);break;case 3:if(ll(a,w),(w&0x7c00000)===w&&(c=Sw+500-dr(),10<c)){if(Ja(a,0)!==0)break;if(k=a.suspendedLanes,(k&w)!==w){ji(),a.pingedLanes|=a.suspendedLanes&k;break}a.timeoutHandle=qx(Nc.bind(null,a,ns,xa),c);break}Nc(a,ns,xa);break;case 4:if(ll(a,w),(w&4194240)===w)break;for(c=a.eventTimes,k=-1;0<w;){var J=31-mi(w);j=1<<J,J=c[J],J>k&&(k=J),w&=~j}if(w=k,w=dr()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*E$(w/1960))-w,10<w){a.timeoutHandle=qx(Nc.bind(null,a,ns,xa),w);break}Nc(a,ns,xa);break;case 5:Nc(a,ns,xa);break;default:throw Error(n(329))}}}return rs(a,dr()),a.callbackNode===m?UI.bind(null,a):null}function kw(a,c){var m=ap;return a.current.memoizedState.isDehydrated&&(Ec(a,c).flags|=256),a=yg(a,c),a!==2&&(c=ns,ns=m,c!==null&&Iw(c)),a}function Iw(a){ns===null?ns=a:ns.push.apply(ns,a)}function N$(a){for(var c=a;;){if(c.flags&16384){var m=c.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var w=0;w<m.length;w++){var k=m[w],j=k.getSnapshot;k=k.value;try{if(!fo(j(),k))return!1}catch{return!1}}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function ll(a,c){for(c&=~_w,c&=~dg,a.suspendedLanes|=c,a.pingedLanes&=~c,a=a.expirationTimes;0<c;){var m=31-mi(c),w=1<<m;a[m]=-1,c&=~w}}function VI(a){if(qn&6)throw Error(n(327));Uu();var c=Ja(a,0);if(!(c&1))return rs(a,dr()),null;var m=yg(a,c);if(a.tag!==0&&m===2){var w=jf(a);w!==0&&(c=w,m=kw(a,w))}if(m===1)throw m=op,Ec(a,0),ll(a,c),rs(a,dr()),m;if(m===6)throw Error(n(345));return a.finishedWork=a.current.alternate,a.finishedLanes=c,Nc(a,ns,xa),rs(a,dr()),null}function Cw(a,c){var m=qn;qn|=1;try{return a(c)}finally{qn=m,qn===0&&(Wu=dr()+500,Um&&tl())}}function Sc(a){ol!==null&&ol.tag===0&&!(qn&6)&&Uu();var c=qn;qn|=1;var m=Hs.transition,w=Dn;try{if(Hs.transition=null,Dn=1,a)return a()}finally{Dn=w,Hs.transition=m,qn=c,!(qn&6)&&tl()}}function Tw(){xs=zu.current,pr(zu)}function Ec(a,c){a.finishedWork=null,a.finishedLanes=0;var m=a.timeoutHandle;if(m!==-1&&(a.timeoutHandle=-1,t$(m)),Kr!==null)for(m=Kr.return;m!==null;){var w=m;switch(Lx(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&zm();break;case 3:Mu(),pr(Xi),pr(gi),Zx();break;case 5:Gx(w);break;case 4:Mu();break;case 13:pr(Rr);break;case 19:pr(Rr);break;case 10:Ux(w.type._context);break;case 22:case 23:Tw()}m=m.return}if(si=a,Kr=a=cl(a.current,null),ci=xs=c,ti=0,op=null,_w=dg=_c=0,ns=ap=null,bc!==null){for(c=0;c<bc.length;c++)if(m=bc[c],w=m.interleaved,w!==null){m.interleaved=null;var k=w.next,j=m.pending;if(j!==null){var J=j.next;j.next=k,w.next=J}m.pending=w}bc=null}return a}function HI(a,c){do{var m=Kr;try{if(Wx(),eg.current=ig,tg){for(var w=qr.memoizedState;w!==null;){var k=w.queue;k!==null&&(k.pending=null),w=w.next}tg=!1}if(wc=0,ii=ei=qr=null,ep=!1,tp=0,ww.current=null,m===null||m.return===null){ti=1,op=c,Kr=null;break}e:{var j=a,J=m.return,ge=m,Se=c;if(c=ci,ge.flags|=32768,Se!==null&&typeof Se=="object"&&typeof Se.then=="function"){var He=Se,ht=ge,gt=ht.tag;if(!(ht.mode&1)&&(gt===0||gt===11||gt===15)){var ft=ht.alternate;ft?(ht.updateQueue=ft.updateQueue,ht.memoizedState=ft.memoizedState,ht.lanes=ft.lanes):(ht.updateQueue=null,ht.memoizedState=null)}var jt=yI(J);if(jt!==null){jt.flags&=-257,vI(jt,J,ge,j,c),jt.mode&1&&gI(j,He,c),c=jt,Se=He;var Mt=c.updateQueue;if(Mt===null){var zt=new Set;zt.add(Se),c.updateQueue=zt}else Mt.add(Se);break e}else{if(!(c&1)){gI(j,He,c),Ow();break e}Se=Error(n(426))}}else if(mr&&ge.mode&1){var $r=yI(J);if($r!==null){!($r.flags&65536)&&($r.flags|=256),vI($r,J,ge,j,c),Bx($u(Se,ge));break e}}j=Se=$u(Se,ge),ti!==4&&(ti=2),ap===null?ap=[j]:ap.push(j),j=J;do{switch(j.tag){case 3:j.flags|=65536,c&=-c,j.lanes|=c;var Fe=hI(j,Se,c);Bk(j,Fe);break e;case 1:ge=Se;var Ce=j.type,$e=j.stateNode;if(!(j.flags&128)&&(typeof Ce.getDerivedStateFromError=="function"||$e!==null&&typeof $e.componentDidCatch=="function"&&(sl===null||!sl.has($e)))){j.flags|=65536,c&=-c,j.lanes|=c;var bt=mI(j,ge,c);Bk(j,bt);break e}}j=j.return}while(j!==null)}GI(m)}catch(Vt){c=Vt,Kr===m&&m!==null&&(Kr=m=m.return);continue}break}while(!0)}function KI(){var a=ug.current;return ug.current=ig,a===null?ig:a}function Ow(){(ti===0||ti===3||ti===2)&&(ti=4),si===null||!(_c&0xfffffff)&&!(dg&0xfffffff)||ll(si,ci)}function yg(a,c){var m=qn;qn|=2;var w=KI();(si!==a||ci!==c)&&(xa=null,Ec(a,c));do try{k$();break}catch(k){HI(a,k)}while(!0);if(Wx(),qn=m,ug.current=w,Kr!==null)throw Error(n(261));return si=null,ci=0,ti}function k$(){for(;Kr!==null;)QI(Kr)}function I$(){for(;Kr!==null&&!Su();)QI(Kr)}function QI(a){var c=YI(a.alternate,a,xs);a.memoizedProps=a.pendingProps,c===null?GI(a):Kr=c,ww.current=null}function GI(a){var c=a;do{var m=c.alternate;if(a=c.return,c.flags&32768){if(m=x$(m,c),m!==null){m.flags&=32767,Kr=m;return}if(a!==null)a.flags|=32768,a.subtreeFlags=0,a.deletions=null;else{ti=6,Kr=null;return}}else if(m=b$(m,c,xs),m!==null){Kr=m;return}if(c=c.sibling,c!==null){Kr=c;return}Kr=c=a}while(c!==null);ti===0&&(ti=5)}function Nc(a,c,m){var w=Dn,k=Hs.transition;try{Hs.transition=null,Dn=1,C$(a,c,m,w)}finally{Hs.transition=k,Dn=w}return null}function C$(a,c,m,w){do Uu();while(ol!==null);if(qn&6)throw Error(n(327));m=a.finishedWork;var k=a.finishedLanes;if(m===null)return null;if(a.finishedWork=null,a.finishedLanes=0,m===a.current)throw Error(n(177));a.callbackNode=null,a.callbackPriority=0;var j=m.lanes|m.childLanes;if(hx(a,j),a===si&&(Kr=si=null,ci=0),!(m.subtreeFlags&2064)&&!(m.flags&2064)||pg||(pg=!0,XI(Ka,function(){return Uu(),null})),j=(m.flags&15990)!==0,m.subtreeFlags&15990||j){j=Hs.transition,Hs.transition=null;var J=Dn;Dn=1;var ge=qn;qn|=4,ww.current=null,_$(a,m),MI(m,a),QM(Ox),Ge=!!Tx,Ox=Tx=null,a.current=m,S$(m),kf(),qn=ge,Dn=J,Hs.transition=j}else a.current=m;if(pg&&(pg=!1,ol=a,hg=k),j=a.pendingLanes,j===0&&(sl=null),Tf(m.stateNode),rs(a,dr()),c!==null)for(w=a.onRecoverableError,m=0;m<c.length;m++)k=c[m],w(k.value,{componentStack:k.stack,digest:k.digest});if(fg)throw fg=!1,a=Ew,Ew=null,a;return hg&1&&a.tag!==0&&Uu(),j=a.pendingLanes,j&1?a===Nw?lp++:(lp=0,Nw=a):lp=0,tl(),null}function Uu(){if(ol!==null){var a=qm(hg),c=Hs.transition,m=Dn;try{if(Hs.transition=null,Dn=16>a?16:a,ol===null)var w=!1;else{if(a=ol,ol=null,hg=0,qn&6)throw Error(n(331));var k=qn;for(qn|=4,Dt=a.current;Dt!==null;){var j=Dt,J=j.child;if(Dt.flags&16){var ge=j.deletions;if(ge!==null){for(var Se=0;Se<ge.length;Se++){var He=ge[Se];for(Dt=He;Dt!==null;){var ht=Dt;switch(ht.tag){case 0:case 11:case 15:sp(8,ht,j)}var gt=ht.child;if(gt!==null)gt.return=ht,Dt=gt;else for(;Dt!==null;){ht=Dt;var ft=ht.sibling,jt=ht.return;if(AI(ht),ht===He){Dt=null;break}if(ft!==null){ft.return=jt,Dt=ft;break}Dt=jt}}}var Mt=j.alternate;if(Mt!==null){var zt=Mt.child;if(zt!==null){Mt.child=null;do{var $r=zt.sibling;zt.sibling=null,zt=$r}while(zt!==null)}}Dt=j}}if(j.subtreeFlags&2064&&J!==null)J.return=j,Dt=J;else e:for(;Dt!==null;){if(j=Dt,j.flags&2048)switch(j.tag){case 0:case 11:case 15:sp(9,j,j.return)}var Fe=j.sibling;if(Fe!==null){Fe.return=j.return,Dt=Fe;break e}Dt=j.return}}var Ce=a.current;for(Dt=Ce;Dt!==null;){J=Dt;var $e=J.child;if(J.subtreeFlags&2064&&$e!==null)$e.return=J,Dt=$e;else e:for(J=Ce;Dt!==null;){if(ge=Dt,ge.flags&2048)try{switch(ge.tag){case 0:case 11:case 15:cg(9,ge)}}catch(Vt){Dr(ge,ge.return,Vt)}if(ge===J){Dt=null;break e}var bt=ge.sibling;if(bt!==null){bt.return=ge.return,Dt=bt;break e}Dt=ge.return}}if(qn=k,tl(),Yi&&typeof Yi.onPostCommitFiberRoot=="function")try{Yi.onPostCommitFiberRoot(Qa,a)}catch{}w=!0}return w}finally{Dn=m,Hs.transition=c}}return!1}function JI(a,c,m){c=$u(m,c),c=hI(a,c,1),a=rl(a,c,1),c=ji(),a!==null&&(pc(a,1,c),rs(a,c))}function Dr(a,c,m){if(a.tag===3)JI(a,a,m);else for(;c!==null;){if(c.tag===3){JI(c,a,m);break}else if(c.tag===1){var w=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(sl===null||!sl.has(w))){a=$u(m,a),a=mI(c,a,1),c=rl(c,a,1),a=ji(),c!==null&&(pc(c,1,a),rs(c,a));break}}c=c.return}}function T$(a,c,m){var w=a.pingCache;w!==null&&w.delete(c),c=ji(),a.pingedLanes|=a.suspendedLanes&m,si===a&&(ci&m)===m&&(ti===4||ti===3&&(ci&0x7c00000)===ci&&500>dr()-Sw?Ec(a,0):_w|=m),rs(a,c)}function ZI(a,c){c===0&&(a.mode&1?(c=Ga,Ga<<=1,!(Ga&0x7c00000)&&(Ga=4194304)):c=1);var m=ji();a=ya(a,c),a!==null&&(pc(a,c,m),rs(a,m))}function O$(a){var c=a.memoizedState,m=0;c!==null&&(m=c.retryLane),ZI(a,m)}function R$(a,c){var m=0;switch(a.tag){case 13:var w=a.stateNode,k=a.memoizedState;k!==null&&(m=k.retryLane);break;case 19:w=a.stateNode;break;default:throw Error(n(314))}w!==null&&w.delete(c),ZI(a,m)}var YI;YI=function(a,c,m){if(a!==null)if(a.memoizedProps!==c.pendingProps||Xi.current)ts=!0;else{if(!(a.lanes&m)&&!(c.flags&128))return ts=!1,v$(a,c,m);ts=!!(a.flags&131072)}else ts=!1,mr&&c.flags&1048576&&Rk(c,Hm,c.index);switch(c.lanes=0,c.tag){case 2:var w=c.type;ag(a,c),a=c.pendingProps;var k=qu(c,gi.current);Lu(c,m),k=ew(null,c,w,a,k,m);var j=tw();return c.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,es(w)?(j=!0,Wm(c)):j=!1,c.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,Kx(c),k.updater=sg,c.stateNode=k,k._reactInternals=c,aw(c,w,a,m),c=dw(null,c,w,!0,j,m)):(c.tag=0,mr&&j&&Dx(c),qi(null,c,k,m),c=c.child),c;case 16:w=c.elementType;e:{switch(ag(a,c),a=c.pendingProps,k=w._init,w=k(w._payload),c.type=w,k=c.tag=j$(w),a=ho(w,a),k){case 0:c=uw(null,c,w,a,m);break e;case 1:c=EI(null,c,w,a,m);break e;case 11:c=bI(null,c,w,a,m);break e;case 14:c=xI(null,c,w,ho(w.type,a),m);break e}throw Error(n(306,w,""))}return c;case 0:return w=c.type,k=c.pendingProps,k=c.elementType===w?k:ho(w,k),uw(a,c,w,k,m);case 1:return w=c.type,k=c.pendingProps,k=c.elementType===w?k:ho(w,k),EI(a,c,w,k,m);case 3:e:{if(NI(c),a===null)throw Error(n(387));w=c.pendingProps,j=c.memoizedState,k=j.element,$k(a,c),Ym(c,w,null,m);var J=c.memoizedState;if(w=J.element,j.isDehydrated)if(j={element:w,isDehydrated:!1,cache:J.cache,pendingSuspenseBoundaries:J.pendingSuspenseBoundaries,transitions:J.transitions},c.updateQueue.baseState=j,c.memoizedState=j,c.flags&256){k=$u(Error(n(423)),c),c=kI(a,c,w,m,k);break e}else if(w!==k){k=$u(Error(n(424)),c),c=kI(a,c,w,m,k);break e}else for(bs=Ya(c.stateNode.containerInfo.firstChild),vs=c,mr=!0,po=null,m=Lk(c,null,w,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(Pu(),w===k){c=ba(a,c,m);break e}qi(a,c,w,m)}c=c.child}return c;case 5:return Wk(c),a===null&&$x(c),w=c.type,k=c.pendingProps,j=a!==null?a.memoizedProps:null,J=k.children,Rx(w,k)?J=null:j!==null&&Rx(w,j)&&(c.flags|=32),SI(a,c),qi(a,c,J,m),c.child;case 6:return a===null&&$x(c),null;case 13:return II(a,c,m);case 4:return Qx(c,c.stateNode.containerInfo),w=c.pendingProps,a===null?c.child=Fu(c,null,w,m):qi(a,c,w,m),c.child;case 11:return w=c.type,k=c.pendingProps,k=c.elementType===w?k:ho(w,k),bI(a,c,w,k,m);case 7:return qi(a,c,c.pendingProps,m),c.child;case 8:return qi(a,c,c.pendingProps.children,m),c.child;case 12:return qi(a,c,c.pendingProps.children,m),c.child;case 10:e:{if(w=c.type._context,k=c.pendingProps,j=c.memoizedProps,J=k.value,or(Gm,w._currentValue),w._currentValue=J,j!==null)if(fo(j.value,J)){if(j.children===k.children&&!Xi.current){c=ba(a,c,m);break e}}else for(j=c.child,j!==null&&(j.return=c);j!==null;){var ge=j.dependencies;if(ge!==null){J=j.child;for(var Se=ge.firstContext;Se!==null;){if(Se.context===w){if(j.tag===1){Se=va(-1,m&-m),Se.tag=2;var He=j.updateQueue;if(He!==null){He=He.shared;var ht=He.pending;ht===null?Se.next=Se:(Se.next=ht.next,ht.next=Se),He.pending=Se}}j.lanes|=m,Se=j.alternate,Se!==null&&(Se.lanes|=m),Vx(j.return,m,c),ge.lanes|=m;break}Se=Se.next}}else if(j.tag===10)J=j.type===c.type?null:j.child;else if(j.tag===18){if(J=j.return,J===null)throw Error(n(341));J.lanes|=m,ge=J.alternate,ge!==null&&(ge.lanes|=m),Vx(J,m,c),J=j.sibling}else J=j.child;if(J!==null)J.return=j;else for(J=j;J!==null;){if(J===c){J=null;break}if(j=J.sibling,j!==null){j.return=J.return,J=j;break}J=J.return}j=J}qi(a,c,k.children,m),c=c.child}return c;case 9:return k=c.type,w=c.pendingProps.children,Lu(c,m),k=Us(k),w=w(k),c.flags|=1,qi(a,c,w,m),c.child;case 14:return w=c.type,k=ho(w,c.pendingProps),k=ho(w.type,k),xI(a,c,w,k,m);case 15:return wI(a,c,c.type,c.pendingProps,m);case 17:return w=c.type,k=c.pendingProps,k=c.elementType===w?k:ho(w,k),ag(a,c),c.tag=1,es(w)?(a=!0,Wm(c)):a=!1,Lu(c,m),fI(c,w,k),aw(c,w,k,m),dw(null,c,w,!0,a,m);case 19:return TI(a,c,m);case 22:return _I(a,c,m)}throw Error(n(156,c.tag))};function XI(a,c){return _u(a,c)}function q$(a,c,m,w){this.tag=a,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ks(a,c,m,w){return new q$(a,c,m,w)}function Rw(a){return a=a.prototype,!(!a||!a.isReactComponent)}function j$(a){if(typeof a=="function")return Rw(a)?1:0;if(a!=null){if(a=a.$$typeof,a===U)return 11;if(a===te)return 14}return 2}function cl(a,c){var m=a.alternate;return m===null?(m=Ks(a.tag,c,a.key,a.mode),m.elementType=a.elementType,m.type=a.type,m.stateNode=a.stateNode,m.alternate=a,a.alternate=m):(m.pendingProps=c,m.type=a.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=a.flags&0xe00000,m.childLanes=a.childLanes,m.lanes=a.lanes,m.child=a.child,m.memoizedProps=a.memoizedProps,m.memoizedState=a.memoizedState,m.updateQueue=a.updateQueue,c=a.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=a.sibling,m.index=a.index,m.ref=a.ref,m}function vg(a,c,m,w,k,j){var J=2;if(w=a,typeof a=="function")Rw(a)&&(J=1);else if(typeof a=="string")J=5;else e:switch(a){case z:return kc(m.children,k,j,c);case P:J=8,k|=8;break;case q:return a=Ks(12,m,c,k|2),a.elementType=q,a.lanes=j,a;case V:return a=Ks(13,m,c,k),a.elementType=V,a.lanes=j,a;case B:return a=Ks(19,m,c,k),a.elementType=B,a.lanes=j,a;case le:return bg(m,k,j,c);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case M:J=10;break e;case F:J=9;break e;case U:J=11;break e;case te:J=14;break e;case Z:J=16,w=null;break e}throw Error(n(130,a==null?a:typeof a,""))}return c=Ks(J,m,c,k),c.elementType=a,c.type=w,c.lanes=j,c}function kc(a,c,m,w){return a=Ks(7,a,w,c),a.lanes=m,a}function bg(a,c,m,w){return a=Ks(22,a,w,c),a.elementType=le,a.lanes=m,a.stateNode={isHidden:!1},a}function qw(a,c,m){return a=Ks(6,a,null,c),a.lanes=m,a}function jw(a,c,m){return c=Ks(4,a.children!==null?a.children:[],a.key,c),c.lanes=m,c.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},c}function A$(a,c,m,w,k){this.tag=c,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Af(0),this.expirationTimes=Af(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Af(0),this.identifierPrefix=w,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function Aw(a,c,m,w,k,j,J,ge,Se){return a=new A$(a,c,m,ge,Se),c===1?(c=1,j===!0&&(c|=8)):c=0,j=Ks(3,null,null,c),a.current=j,j.stateNode=a,j.memoizedState={element:w,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kx(j),a}function P$(a,c,m){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:w==null?null:""+w,children:a,containerInfo:c,implementation:m}}function eC(a){if(!a)return el;a=a._reactInternals;e:{if($s(a)!==a||a.tag!==1)throw Error(n(170));var c=a;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(es(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(n(171))}if(a.tag===1){var m=a.type;if(es(m))return Ck(a,m,c)}return c}function tC(a,c,m,w,k,j,J,ge,Se){return a=Aw(m,w,!0,a,k,j,J,ge,Se),a.context=eC(null),m=a.current,w=ji(),k=al(m),j=va(w,k),j.callback=c??null,rl(m,j,k),a.current.lanes=k,pc(a,k,w),rs(a,w),a}function xg(a,c,m,w){var k=c.current,j=ji(),J=al(k);return m=eC(m),c.context===null?c.context=m:c.pendingContext=m,c=va(j,J),c.payload={element:a},w=w===void 0?null:w,w!==null&&(c.callback=w),a=rl(k,c,J),a!==null&&(yo(a,k,J,j),Zm(a,k,J)),J}function wg(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function nC(a,c){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var m=a.retryLane;a.retryLane=m!==0&&m<c?m:c}}function Pw(a,c){nC(a,c),(a=a.alternate)&&nC(a,c)}var rC=typeof reportError=="function"?reportError:function(a){console.error(a)};function Fw(a){this._internalRoot=a}_g.prototype.render=Fw.prototype.render=function(a){var c=this._internalRoot;if(c===null)throw Error(n(409));xg(a,c,null,null)},_g.prototype.unmount=Fw.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var c=a.containerInfo;Sc(function(){xg(null,a,null,null)}),c[pa]=null}};function _g(a){this._internalRoot=a}_g.prototype.unstable_scheduleHydration=function(a){if(a){var c=hc();a={blockedOn:null,target:a,priority:c};for(var m=0;m<me.length&&c!==0&&c<me[m].priority;m++);me.splice(m,0,a),m===0&&Be(a)}};function Dw(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function Sg(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11&&(a.nodeType!==8||a.nodeValue!==" react-mount-point-unstable "))}function iC(){}function F$(a,c,m,w,k){if(k){if(typeof w=="function"){var j=w;w=function(){var He=wg(J);j.call(He)}}var J=tC(c,w,a,0,null,!1,!1,"",iC);return a._reactRootContainer=J,a[pa]=J.current,Hf(a.nodeType===8?a.parentNode:a),Sc(),J}for(;k=a.lastChild;)a.removeChild(k);if(typeof w=="function"){var ge=w;w=function(){var He=wg(Se);ge.call(He)}}var Se=Aw(a,0,!1,null,null,!1,!1,"",iC);return a._reactRootContainer=Se,a[pa]=Se.current,Hf(a.nodeType===8?a.parentNode:a),Sc(function(){xg(c,Se,m,w)}),Se}function Eg(a,c,m,w,k){var j=m._reactRootContainer;if(j){var J=j;if(typeof k=="function"){var ge=k;k=function(){var Se=wg(J);ge.call(Se)}}xg(c,J,a,k)}else J=F$(m,c,a,k,w);return wg(J)}Ff=function(a){switch(a.tag){case 3:var c=a.stateNode;if(c.current.memoizedState.isDehydrated){var m=Ri(c.pendingLanes);m!==0&&(Pf(c,m|1),rs(c,dr()),!(qn&6)&&(Wu=dr()+500,tl()))}break;case 13:Sc(function(){var w=ya(a,1);if(w!==null){var k=ji();yo(w,a,1,k)}}),Pw(a,1)}},he=function(a){if(a.tag===13){var c=ya(a,0x8000000);if(c!==null){var m=ji();yo(c,a,0x8000000,m)}Pw(a,0x8000000)}},Df=function(a){if(a.tag===13){var c=al(a),m=ya(a,c);if(m!==null){var w=ji();yo(m,a,c,w)}Pw(a,c)}},hc=function(){return Dn},Lf=function(a,c){var m=Dn;try{return Dn=a,c()}finally{Dn=m}},ac=function(a,c,m){switch(c){case"input":if(nn(a,m),c=m.name,m.type==="radio"&&c!=null){for(m=a;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+c)+'][type="radio"]'),c=0;c<m.length;c++){var w=m[c];if(w!==a&&w.form===a.form){var k=Bm(w);if(!k)throw Error(n(90));Ue(w),nn(w,k)}}}break;case"textarea":Me(a,m);break;case"select":c=m.value,c!=null&&Ae(a,!!m.multiple,c,!1)}},mu=Cw,gu=Sc;var D$={usingClientEntryPoint:!1,Events:[Gf,Ou,Bm,un,hu,Cw]},cp={findFiberByHostInstance:mc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},L$={bundleType:cp.bundleType,version:cp.version,rendererPackageName:cp.rendererPackageName,rendererConfig:cp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=xu(a),a===null?null:a.stateNode},findFiberByHostInstance:cp.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ng=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ng.isDisabled&&Ng.supportsFiber)try{Qa=Ng.inject(L$),Yi=Ng}catch{}}return is.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D$,is.createPortal=function(a,c){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dw(c))throw Error(n(200));return P$(a,c,null,m)},is.createRoot=function(a,c){if(!Dw(a))throw Error(n(299));var m=!1,w="",k=rC;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(w=c.identifierPrefix),c.onRecoverableError!==void 0&&(k=c.onRecoverableError)),c=Aw(a,1,!1,null,null,m,!1,w,k),a[pa]=c.current,Hf(a.nodeType===8?a.parentNode:a),new Fw(c)},is.findDOMNode=function(a){if(a==null)return null;if(a.nodeType===1)return a;var c=a._reactInternals;if(c===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=xu(c),a=a===null?null:a.stateNode,a},is.flushSync=function(a){return Sc(a)},is.hydrate=function(a,c,m){if(!Sg(c))throw Error(n(200));return Eg(null,a,c,!0,m)},is.hydrateRoot=function(a,c,m){if(!Dw(a))throw Error(n(405));var w=m!=null&&m.hydratedSources||null,k=!1,j="",J=rC;if(m!=null&&(m.unstable_strictMode===!0&&(k=!0),m.identifierPrefix!==void 0&&(j=m.identifierPrefix),m.onRecoverableError!==void 0&&(J=m.onRecoverableError)),c=tC(c,null,a,1,m??null,k,!1,j,J),a[pa]=c.current,Hf(a),w)for(a=0;a<w.length;a++)m=w[a],k=m._getVersion,k=k(m._source),c.mutableSourceEagerHydrationData==null?c.mutableSourceEagerHydrationData=[m,k]:c.mutableSourceEagerHydrationData.push(m,k);return new _g(c)},is.render=function(a,c,m){if(!Sg(c))throw Error(n(200));return Eg(null,a,c,!1,m)},is.unmountComponentAtNode=function(a){if(!Sg(a))throw Error(n(40));return a._reactRootContainer?(Sc(function(){Eg(null,null,a,!1,function(){a._reactRootContainer=null,a[pa]=null})}),!0):!1},is.unstable_batchedUpdates=Cw,is.unstable_renderSubtreeIntoContainer=function(a,c,m,w){if(!Sg(m))throw Error(n(200));if(a==null||a._reactInternals===void 0)throw Error(n(38));return Eg(a,c,m,!1,w)},is.version="18.3.1-next-f1338f8080-20240426",is}var PC;function K3(){if(PC)return Yw.exports;PC=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Yw.exports=b4(),Yw.exports}var fb=K3();const x4="Error preloading route! ";function w4(t,e){const n=Po(),[r,i]=Q.useState(!1),s=Q.useRef(!1),o=KB(e),{activeProps:l=()=>({className:"active"}),inactiveProps:u=()=>({}),activeOptions:d,to:p,preload:h,preloadDelay:b,hashScrollIntoView:x,replace:_,startTransition:E,resetScroll:I,viewTransition:T,children:O,target:R,disabled:A,style:D,className:L,onClick:z,onFocus:P,onMouseEnter:q,onMouseLeave:M,onTouchStart:F,ignoreBlocker:U,...V}=t,{params:B,search:te,hash:Z,state:le,mask:se,reloadDocument:ne,...oe}=V,X=Q.useMemo(()=>{try{return new URL(`${p}`),"external"}catch{}return"internal"},[p]),ue=Bi({select:ke=>ke.location.search,structuralSharing:!0});t={from:Ml({strict:!1,select:ke=>ke.pathname}),...t};const ye=Q.useMemo(()=>n.buildLocation(t),[n,t,ue]),we=Q.useMemo(()=>t.reloadDocument?!1:h??n.options.defaultPreload,[n.options.defaultPreload,h,t.reloadDocument]),Ne=b??n.options.defaultPreloadDelay??0,ze=Bi({select:ke=>{if(d?.exact){if(!GB(ke.location.pathname,ye.pathname,n.basepath))return!1}else{const Ae=iv(ke.location.pathname,n.basepath).split("/");if(!iv(ye.pathname,n.basepath).split("/").every((Me,ut)=>Me===Ae[ut]))return!1}return(d?.includeSearch??!0)&&!vd(ke.location.search,ye.search,{partial:!d?.exact,ignoreUndefined:!d?.explicitUndefined})?!1:d?.includeHash?ke.location.hash===ye.hash:!0}}),Re=Q.useCallback(()=>{n.preloadRoute(t).catch(ke=>{console.warn(ke),console.warn(x4)})},[t,n]),De=Q.useCallback(ke=>{ke?.isIntersecting&&Re()},[Re]);if(HB(o,De,{rootMargin:"100px"},{disabled:!!A||we!=="viewport"}),Sp(()=>{s.current||!A&&we==="render"&&(Re(),s.current=!0)},[A,Re,we]),X==="external")return{...oe,ref:o,type:X,href:p,...O&&{children:O},...R&&{target:R},...A&&{disabled:A},...D&&{style:D},...L&&{className:L},...z&&{onClick:z},...P&&{onFocus:P},...q&&{onMouseEnter:q},...M&&{onMouseLeave:M},...F&&{onTouchStart:F}};const Je=ke=>{if(!A&&!S4(ke)&&!ke.defaultPrevented&&(!R||R==="_self")&&ke.button===0){ke.preventDefault(),fb.flushSync(()=>{i(!0)});const Ae=n.subscribe("onResolved",()=>{Ae(),i(!1)});return n.navigate({...t,replace:_,resetScroll:I,hashScrollIntoView:x,startTransition:E,viewTransition:T,ignoreBlocker:U})}},Xe=ke=>{A||we&&Re()},Ue=Xe,ct=ke=>{if(A)return;const Ae=ke.target||{};if(we){if(Ae.preloadTimeout)return;Ae.preloadTimeout=setTimeout(()=>{Ae.preloadTimeout=null,Re()},Ne)}},_t=ke=>{if(A)return;const Ae=ke.target||{};Ae.preloadTimeout&&(clearTimeout(Ae.preloadTimeout),Ae.preloadTimeout=null)},Tt=ke=>Ae=>{var Ve;(Ve=Ae.persist)==null||Ve.call(Ae),ke.filter(Boolean).forEach(rt=>{Ae.defaultPrevented||rt(Ae)})},Ut=ze?Lc(l,{})??{}:{},nn=ze?{}:Lc(u,{}),xe=[L,Ut.className,nn.className].filter(Boolean).join(" "),ve={...D,...Ut.style,...nn.style};return{...oe,...Ut,...nn,href:A?void 0:ye.maskedLocation?n.history.createHref(ye.maskedLocation.href):n.history.createHref(ye.href),ref:o,onClick:Tt([z,Je]),onFocus:Tt([P,Xe]),onMouseEnter:Tt([q,ct]),onMouseLeave:Tt([M,_t]),onTouchStart:Tt([F,Ue]),disabled:!!A,target:R,...Object.keys(ve).length&&{style:ve},...xe&&{className:xe},...A&&{role:"link","aria-disabled":!0},...ze&&{"data-status":"active","aria-current":"page"},...r&&{"data-transitioning":"transitioning"}}}function Q3(t){return Q.forwardRef(function(n,r){return f.jsx(_4,{...n,_asChild:t,ref:r})})}const _4=Q.forwardRef((t,e)=>{const{_asChild:n,...r}=t,{type:i,ref:s,...o}=w4(r,e),l=typeof r.children=="function"?r.children({isActive:o["data-status"]==="active"}):r.children;return typeof n>"u"&&delete o.disabled,Q.createElement(n||"a",{...o,ref:s},l)});function S4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function E4(){const t=Po(),e=Q.useRef({router:t,mounted:!1}),n=Bi({select:({isLoading:h})=>h}),[r,i]=Q.useState(!1),s=Bi({select:h=>h.matches.some(b=>b.status==="pending"),structuralSharing:!0}),o=Gw(n),l=n||r||s,u=Gw(l),d=n||s,p=Gw(d);return t.isServer||(t.startReactTransition=h=>{i(!0),Q.startTransition(()=>{h(),i(!1)})}),Q.useEffect(()=>{const h=t.history.subscribe(t.load),b=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Mc(t.latestLocation.href)!==Mc(b.href)&&t.commitLocation({...b,replace:!0}),()=>{h()}},[t,t.history]),Sp(()=>{var h;if(typeof window<"u"&&((h=window.__TSR__)!=null&&h.dehydrated)||e.current.router===t&&e.current.mounted)return;e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(x){console.error(x)}})()},[t]),Sp(()=>{if(o&&!n){const h=t.state.location,b=t.state.resolvedLocation,x=b.pathname!==h.pathname,_=b.href!==h.href;t.emit({type:"onLoad",fromLocation:b,toLocation:h,pathChanged:x,hrefChanged:_})}},[o,t,n]),Sp(()=>{if(p&&!d){const h=t.state.location,b=t.state.resolvedLocation,x=b.pathname!==h.pathname,_=b.href!==h.href;t.emit({type:"onBeforeRouteMount",fromLocation:b,toLocation:h,pathChanged:x,hrefChanged:_})}},[d,p,t]),Sp(()=>{if(u&&!l){const h=t.state.location,b=t.state.resolvedLocation,x=b.pathname!==h.pathname,_=b.href!==h.href;if(t.emit({type:"onResolved",fromLocation:b,toLocation:h,pathChanged:x,hrefChanged:_}),t.__store.setState(E=>({...E,status:"idle",resolvedLocation:E.location})),typeof document<"u"&&document.querySelector){const E=t.state.location.state.__hashScrollIntoViewOptions??!0;if(E&&t.state.location.hash!==""){const I=document.getElementById(t.state.location.hash);I&&I.scrollIntoView(E)}}}},[l,u,t]),null}function N4(){const t=Po(),e=t.options.defaultPendingComponent?f.jsx(t.options.defaultPendingComponent,{}):null,n=t.isServer||typeof document<"u"&&window.__TSR__?dy:Q.Suspense,r=f.jsxs(n,{fallback:e,children:[f.jsx(E4,{}),f.jsx(k4,{})]});return t.options.InnerWrap?f.jsx(t.options.InnerWrap,{children:r}):r}function k4(){const t=Bi({select:n=>{var r;return(r=n.matches[0])==null?void 0:r.id}}),e=Bi({select:n=>n.loadedAt});return f.jsx(db.Provider,{value:t,children:f.jsx(v1,{getResetKey:()=>e,errorComponent:ub,onCatch:n=>{n.message||n.toString()},children:t?f.jsx(H3,{matchId:t}):null})})}function I4(){const t=Po();return Bi({select:e=>[e.location.href,e.resolvedLocation.href,e.status],structuralSharing:!0}),Q.useCallback(e=>{const{pending:n,caseSensitive:r,fuzzy:i,includeSearch:s,...o}=e;return t.matchRoute(o,{pending:n,caseSensitive:r,fuzzy:i,includeSearch:s})},[t])}function C4({router:t,children:e,...n}){t.update({...t.options,...n,context:{...t.options.context,...n.context}});const r=M3(),i=f.jsx(r.Provider,{value:t,children:e});return t.options.Wrap?f.jsx(t.options.Wrap,{children:i}):i}function T4({router:t,...e}){return f.jsx(C4,{router:t,...e,children:f.jsx(N4,{})})}const O4=typeof window<"u"?Q.useLayoutEffect:Q.useEffect,t_="window",FC="___";let n_=new WeakSet;const R4=typeof window<"u"&&window.sessionStorage,xo=R4?(()=>{const t="tsr-scroll-restoration-v2";return{state:JSON.parse(window.sessionStorage.getItem(t)||"null")||{cached:{},next:{}},set:n=>{xo.state=Lc(n,xo.state),window.sessionStorage.setItem(t,JSON.stringify(xo.state))}}})():void 0,q4=t=>t.state.key||t.href;function j4(t){const e=Po();O4(()=>{const n=t?.getKey||q4,{history:r}=window;r.scrollRestoration="manual";const i=l=>{if(n_.has(l.target))return;n_.add(l.target);let u="";if(l.target===document||l.target===window)u=t_;else{const d=l.target.getAttribute("data-scroll-restoration-id");d?u=`[data-scroll-restoration-id="${d}"]`:u=P4(l.target)}xo.state.next[u]||xo.set(d=>({...d,next:{...d.next,[u]:{scrollX:NaN,scrollY:NaN}}}))};typeof document<"u"&&document.addEventListener("scroll",i,!0);const s=e.subscribe("onBeforeLoad",l=>{if(l.hrefChanged){const u=n(l.fromLocation);for(const d in xo.state.next){const p=xo.state.next[d];if(d===t_)p.scrollX=window.scrollX||0,p.scrollY=window.scrollY||0;else if(d){const h=document.querySelector(d);p.scrollX=h?.scrollLeft||0,p.scrollY=h?.scrollTop||0}xo.set(h=>{const b={...h.next};return delete b[d],{...h,next:b,cached:{...h.cached,[[u,d].join(FC)]:p}}})}}}),o=e.subscribe("onBeforeRouteMount",l=>{if(l.hrefChanged){if(!e.resetNextScroll)return;e.resetNextScroll=!0;const u=n(l.toLocation);let d=!1;for(const p in xo.state.cached){const h=xo.state.cached[p],[b,x]=p.split(FC);if(b===u){if(x===t_)d=!0,window.scrollTo({top:h.scrollY,left:h.scrollX,behavior:t?.scrollBehavior});else if(x){const _=document.querySelector(x);_&&(_.scrollLeft=h.scrollX,_.scrollTop=h.scrollY)}}}d||window.scrollTo(0,0),xo.set(p=>({...p,next:{}})),n_=new WeakSet}});return()=>{document.removeEventListener("scroll",i),s(),o()}},[t?.getKey,e])}function A4(t){return j4(t),null}function P4(t){const e=[];let n;for(;n=t.parentNode;)e.unshift(`${t.tagName}:nth-child(${[].indexOf.call(n.children,t)+1})`),t=n;return`${e.join(" > ")}`.toLowerCase()}function ir(t){return Ml({...t,select:e=>t.select?t.select(e.context):e.context})}let F4={data:""},D4=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||F4,L4=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,M4=/\/\*[^]*?\*\/|  +/g,DC=/\n+/g,Sl=(t,e)=>{let n="",r="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?Sl(o,s):s+"{"+Sl(o,s[1]=="k"?"":e)+"}":typeof o=="object"?r+=Sl(o,e?e.replace(/([^,])+/g,l=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,u=>/&/.test(u)?u.replace(/&/g,l):l?l+" "+u:u)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Sl.p?Sl.p(s,o):s+":"+o+";")}return n+(e&&i?e+"{"+i+"}":i)+r},wa={},G3=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+G3(t[n]);return e}return t},$4=(t,e,n,r,i)=>{let s=G3(t),o=wa[s]||(wa[s]=(u=>{let d=0,p=11;for(;d<u.length;)p=101*p+u.charCodeAt(d++)>>>0;return"go"+p})(s));if(!wa[o]){let u=s!==t?t:(d=>{let p,h,b=[{}];for(;p=L4.exec(d.replace(M4,""));)p[4]?b.shift():p[3]?(h=p[3].replace(DC," ").trim(),b.unshift(b[0][h]=b[0][h]||{})):b[0][p[1]]=p[2].replace(DC," ").trim();return b[0]})(t);wa[o]=Sl(i?{["@keyframes "+o]:u}:u,n?"":"."+o)}let l=n&&wa.g?wa.g:null;return n&&(wa.g=wa[o]),((u,d,p,h)=>{h?d.data=d.data.replace(h,u):d.data.indexOf(u)===-1&&(d.data=p?u+d.data:d.data+u)})(wa[o],e,r,l),o},B4=(t,e,n)=>t.reduce((r,i,s)=>{let o=e[s];if(o&&o.call){let l=o(n),u=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=u?"."+u:l&&typeof l=="object"?l.props?"":Sl(l,""):l===!1?"":l}return r+i+(o??"")},"");function pb(t){let e=this||{},n=t.call?t(e.p):t;return $4(n.unshift?n.raw?B4(n,[].slice.call(arguments,1),e.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(e.p):i),{}):n,D4(e.target),e.g,e.o,e.k)}let J3,ZS,YS;pb.bind({g:1});let Fa=pb.bind({k:1});function z4(t,e,n,r){Sl.p=e,J3=t,ZS=n,YS=r}function Jl(t,e){let n=this||{};return function(){let r=arguments;function i(s,o){let l=Object.assign({},s),u=l.className||i.className;n.p=Object.assign({theme:ZS&&ZS()},l),n.o=/ *go\d+/.test(u),l.className=pb.apply(n,r)+(u?" "+u:"");let d=t;return t[0]&&(d=l.as||t,delete l.as),YS&&d[0]&&YS(l),J3(d,l)}return i}}var W4=t=>typeof t=="function",ov=(t,e)=>W4(t)?t(e):t,U4=(()=>{let t=0;return()=>(++t).toString()})(),Z3=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),V4=20,Y3=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,V4)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:n}=e;return Y3(t,{type:t.toasts.find(s=>s.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},fy=[],py={toasts:[],pausedAt:void 0},lu=t=>{py=Y3(py,t),fy.forEach(e=>{e(py)})},H4={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},K4=(t={})=>{let[e,n]=Q.useState(py);Q.useEffect(()=>(fy.push(n),()=>{let i=fy.indexOf(n);i>-1&&fy.splice(i,1)}),[e]);let r=e.toasts.map(i=>{var s,o,l;return{...t,...t[i.type],...i,removeDelay:i.removeDelay||((s=t[i.type])==null?void 0:s.removeDelay)||t?.removeDelay,duration:i.duration||((o=t[i.type])==null?void 0:o.duration)||t?.duration||H4[i.type],style:{...t.style,...(l=t[i.type])==null?void 0:l.style,...i.style}}});return{...e,toasts:r}},Q4=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:n?.id||U4()}),Jh=t=>(e,n)=>{let r=Q4(e,t,n);return lu({type:2,toast:r}),r.id},In=(t,e)=>Jh("blank")(t,e);In.error=Jh("error");In.success=Jh("success");In.loading=Jh("loading");In.custom=Jh("custom");In.dismiss=t=>{lu({type:3,toastId:t})};In.remove=t=>lu({type:4,toastId:t});In.promise=(t,e,n)=>{let r=In.loading(e.loading,{...n,...n?.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let s=e.success?ov(e.success,i):void 0;return s?In.success(s,{id:r,...n,...n?.success}):In.dismiss(r),i}).catch(i=>{let s=e.error?ov(e.error,i):void 0;s?In.error(s,{id:r,...n,...n?.error}):In.dismiss(r)}),t};var G4=(t,e)=>{lu({type:1,toast:{id:t,height:e}})},J4=()=>{lu({type:5,time:Date.now()})},Vp=new Map,Z4=1e3,Y4=(t,e=Z4)=>{if(Vp.has(t))return;let n=setTimeout(()=>{Vp.delete(t),lu({type:4,toastId:t})},e);Vp.set(t,n)},X4=t=>{let{toasts:e,pausedAt:n}=K4(t);Q.useEffect(()=>{if(n)return;let s=Date.now(),o=e.map(l=>{if(l.duration===1/0)return;let u=(l.duration||0)+l.pauseDuration-(s-l.createdAt);if(u<0){l.visible&&In.dismiss(l.id);return}return setTimeout(()=>In.dismiss(l.id),u)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[e,n]);let r=Q.useCallback(()=>{n&&lu({type:6,time:Date.now()})},[n]),i=Q.useCallback((s,o)=>{let{reverseOrder:l=!1,gutter:u=8,defaultPosition:d}=o||{},p=e.filter(x=>(x.position||d)===(s.position||d)&&x.height),h=p.findIndex(x=>x.id===s.id),b=p.filter((x,_)=>_<h&&x.visible).length;return p.filter(x=>x.visible).slice(...l?[b+1]:[0,b]).reduce((x,_)=>x+(_.height||0)+u,0)},[e]);return Q.useEffect(()=>{e.forEach(s=>{if(s.dismissed)Y4(s.id,s.removeDelay);else{let o=Vp.get(s.id);o&&(clearTimeout(o),Vp.delete(s.id))}})},[e]),{toasts:e,handlers:{updateHeight:G4,startPause:J4,endPause:r,calculateOffset:i}}},ez=Fa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,tz=Fa`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,nz=Fa`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,rz=Jl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ez} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${tz} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${nz} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,iz=Fa`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,sz=Jl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${iz} 1s linear infinite;
`,oz=Fa`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,az=Fa`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,lz=Jl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${oz} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${az} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,cz=Jl("div")`
  position: absolute;
`,uz=Jl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,dz=Fa`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,fz=Jl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${dz} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,pz=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?Q.createElement(fz,null,e):e:n==="blank"?null:Q.createElement(uz,null,Q.createElement(sz,{...r}),n!=="loading"&&Q.createElement(cz,null,n==="error"?Q.createElement(rz,{...r}):Q.createElement(lz,{...r})))},hz=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,mz=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,gz="0%{opacity:0;} 100%{opacity:1;}",yz="0%{opacity:1;} 100%{opacity:0;}",vz=Jl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,bz=Jl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,xz=(t,e)=>{let n=t.includes("top")?1:-1,[r,i]=Z3()?[gz,yz]:[hz(n),mz(n)];return{animation:e?`${Fa(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Fa(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},wz=Q.memo(({toast:t,position:e,style:n,children:r})=>{let i=t.height?xz(t.position||e||"top-center",t.visible):{opacity:0},s=Q.createElement(pz,{toast:t}),o=Q.createElement(bz,{...t.ariaProps},ov(t.message,t));return Q.createElement(vz,{className:t.className,style:{...i,...n,...t.style}},typeof r=="function"?r({icon:s,message:o}):Q.createElement(Q.Fragment,null,s,o))});z4(Q.createElement);var _z=({id:t,className:e,style:n,onHeightUpdate:r,children:i})=>{let s=Q.useCallback(o=>{if(o){let l=()=>{let u=o.getBoundingClientRect().height;r(t,u)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return Q.createElement("div",{ref:s,className:e,style:n},i)},Sz=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Z3()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...i}},Ez=pb`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,qg=16,Nz=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:l,handlers:u}=X4(n);return Q.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:qg,left:qg,right:qg,bottom:qg,pointerEvents:"none",...s},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},l.map(d=>{let p=d.position||e,h=u.calculateOffset(d,{reverseOrder:t,gutter:r,defaultPosition:e}),b=Sz(p,h);return Q.createElement(_z,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?Ez:"",style:b},d.type==="custom"?ov(d.message,d):i?i(d):Q.createElement(wz,{toast:d,position:p}))}))},kz=In;class cu extends Error{}class Iz extends cu{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class Cz extends cu{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class Tz extends cu{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class ad extends cu{}class X3 extends cu{constructor(e){super(`Invalid unit ${e}`)}}class wi extends cu{}class dl extends cu{constructor(){super("Zone is an abstract class")}}const Ct="numeric",Ro="short",Os="long",av={year:Ct,month:Ct,day:Ct},eA={year:Ct,month:Ro,day:Ct},Oz={year:Ct,month:Ro,day:Ct,weekday:Ro},tA={year:Ct,month:Os,day:Ct},nA={year:Ct,month:Os,day:Ct,weekday:Os},rA={hour:Ct,minute:Ct},iA={hour:Ct,minute:Ct,second:Ct},sA={hour:Ct,minute:Ct,second:Ct,timeZoneName:Ro},oA={hour:Ct,minute:Ct,second:Ct,timeZoneName:Os},aA={hour:Ct,minute:Ct,hourCycle:"h23"},lA={hour:Ct,minute:Ct,second:Ct,hourCycle:"h23"},cA={hour:Ct,minute:Ct,second:Ct,hourCycle:"h23",timeZoneName:Ro},uA={hour:Ct,minute:Ct,second:Ct,hourCycle:"h23",timeZoneName:Os},dA={year:Ct,month:Ct,day:Ct,hour:Ct,minute:Ct},fA={year:Ct,month:Ct,day:Ct,hour:Ct,minute:Ct,second:Ct},pA={year:Ct,month:Ro,day:Ct,hour:Ct,minute:Ct},hA={year:Ct,month:Ro,day:Ct,hour:Ct,minute:Ct,second:Ct},Rz={year:Ct,month:Ro,day:Ct,weekday:Ro,hour:Ct,minute:Ct},mA={year:Ct,month:Os,day:Ct,hour:Ct,minute:Ct,timeZoneName:Ro},gA={year:Ct,month:Os,day:Ct,hour:Ct,minute:Ct,second:Ct,timeZoneName:Ro},yA={year:Ct,month:Os,day:Ct,weekday:Os,hour:Ct,minute:Ct,timeZoneName:Os},vA={year:Ct,month:Os,day:Ct,weekday:Os,hour:Ct,minute:Ct,second:Ct,timeZoneName:Os};class Zh{get type(){throw new dl}get name(){throw new dl}get ianaName(){return this.name}get isUniversal(){throw new dl}offsetName(e,n){throw new dl}formatOffset(e,n){throw new dl}offset(e){throw new dl}equals(e){throw new dl}get isValid(){throw new dl}}let r_=null;class hb extends Zh{static get instance(){return r_===null&&(r_=new hb),r_}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return IA(e,n,r)}formatOffset(e,n){return Hp(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let hy={};function qz(t){return hy[t]||(hy[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),hy[t]}const jz={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function Az(t,e){const n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,i,s,o,l,u,d,p]=r;return[o,i,s,l,u,d,p]}function Pz(t,e){const n=t.formatToParts(e),r=[];for(let i=0;i<n.length;i++){const{type:s,value:o}=n[i],l=jz[s];s==="era"?r[l]=o:fn(l)||(r[l]=parseInt(o,10))}return r}let jg={};class Da extends Zh{static create(e){return jg[e]||(jg[e]=new Da(e)),jg[e]}static resetCache(){jg={},hy={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Da.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return IA(e,n,r,this.name)}formatOffset(e,n){return Hp(this.offset(e),n)}offset(e){const n=new Date(e);if(isNaN(n))return NaN;const r=qz(this.name);let[i,s,o,l,u,d,p]=r.formatToParts?Pz(r,n):Az(r,n);l==="BC"&&(i=-Math.abs(i)+1);const b=gb({year:i,month:s,day:o,hour:u===24?0:u,minute:d,second:p,millisecond:0});let x=+n;const _=x%1e3;return x-=_>=0?_:1e3+_,(b-x)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let LC={};function Fz(t,e={}){const n=JSON.stringify([t,e]);let r=LC[n];return r||(r=new Intl.ListFormat(t,e),LC[n]=r),r}let XS={};function eE(t,e={}){const n=JSON.stringify([t,e]);let r=XS[n];return r||(r=new Intl.DateTimeFormat(t,e),XS[n]=r),r}let tE={};function Dz(t,e={}){const n=JSON.stringify([t,e]);let r=tE[n];return r||(r=new Intl.NumberFormat(t,e),tE[n]=r),r}let nE={};function Lz(t,e={}){const{base:n,...r}=e,i=JSON.stringify([t,r]);let s=nE[i];return s||(s=new Intl.RelativeTimeFormat(t,e),nE[i]=s),s}let Np=null;function Mz(){return Np||(Np=new Intl.DateTimeFormat().resolvedOptions().locale,Np)}let MC={};function $z(t){let e=MC[t];if(!e){const n=new Intl.Locale(t);e="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,MC[t]=e}return e}function Bz(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const n=t.indexOf("-u-");if(n===-1)return[t];{let r,i;try{r=eE(t).resolvedOptions(),i=t}catch{const u=t.substring(0,n);r=eE(u).resolvedOptions(),i=u}const{numberingSystem:s,calendar:o}=r;return[i,s,o]}}function zz(t,e,n){return(n||e)&&(t.includes("-u-")||(t+="-u"),n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function Wz(t){const e=[];for(let n=1;n<=12;n++){const r=dn.utc(2009,n,1);e.push(t(r))}return e}function Uz(t){const e=[];for(let n=1;n<=7;n++){const r=dn.utc(2016,11,13+n);e.push(t(r))}return e}function Ag(t,e,n,r){const i=t.listingMode();return i==="error"?null:i==="en"?n(e):r(e)}function Vz(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class Hz{constructor(e,n,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:i,floor:s,...o}=r;if(!n||Object.keys(o).length>0){const l={useGrouping:!1,...r};r.padTo>0&&(l.minimumIntegerDigits=r.padTo),this.inf=Dz(e,l)}}format(e){if(this.inf){const n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{const n=this.floor?Math.floor(e):S1(e,3);return Qr(n,this.padTo)}}}class Kz{constructor(e,n,r){this.opts=r,this.originalZone=void 0;let i;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const o=-1*(e.offset/60),l=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&Da.create(l).valid?(i=l,this.dt=e):(i="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,i=e.zone.name):(i="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||i,this.dtf=eE(n,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(n=>{if(n.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...n,value:r}}else return n}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class Qz{constructor(e,n,r){this.opts={style:"long",...r},!n&&NA()&&(this.rtf=Lz(e,r))}format(e,n){return this.rtf?this.rtf.format(e,n):yW(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}}const Gz={firstDay:1,minimalDays:4,weekend:[6,7]};class Wn{static fromOpts(e){return Wn.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,n,r,i,s=!1){const o=e||Mr.defaultLocale,l=o||(s?"en-US":Mz()),u=n||Mr.defaultNumberingSystem,d=r||Mr.defaultOutputCalendar,p=rE(i)||Mr.defaultWeekSettings;return new Wn(l,u,d,p,o)}static resetCache(){Np=null,XS={},tE={},nE={}}static fromObject({locale:e,numberingSystem:n,outputCalendar:r,weekSettings:i}={}){return Wn.create(e,n,r,i)}constructor(e,n,r,i,s){const[o,l,u]=Bz(e);this.locale=o,this.numberingSystem=n||l||null,this.outputCalendar=r||u||null,this.weekSettings=i,this.intl=zz(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Vz(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Wn.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,rE(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,n=!1){return Ag(this,e,OA,()=>{const r=n?{month:e,day:"numeric"}:{month:e},i=n?"format":"standalone";return this.monthsCache[i][e]||(this.monthsCache[i][e]=Wz(s=>this.extract(s,r,"month"))),this.monthsCache[i][e]})}weekdays(e,n=!1){return Ag(this,e,jA,()=>{const r=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},i=n?"format":"standalone";return this.weekdaysCache[i][e]||(this.weekdaysCache[i][e]=Uz(s=>this.extract(s,r,"weekday"))),this.weekdaysCache[i][e]})}meridiems(){return Ag(this,void 0,()=>AA,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[dn.utc(2016,11,13,9),dn.utc(2016,11,13,19)].map(n=>this.extract(n,e,"dayperiod"))}return this.meridiemCache})}eras(e){return Ag(this,e,PA,()=>{const n={era:e};return this.eraCache[e]||(this.eraCache[e]=[dn.utc(-40,1,1),dn.utc(2017,1,1)].map(r=>this.extract(r,n,"era"))),this.eraCache[e]})}extract(e,n,r){const i=this.dtFormatter(e,n),s=i.formatToParts(),o=s.find(l=>l.type.toLowerCase()===r);return o?o.value:null}numberFormatter(e={}){return new Hz(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new Kz(e,this.intl,n)}relFormatter(e={}){return new Qz(this.intl,this.isEnglish(),e)}listFormatter(e={}){return Fz(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:kA()?$z(this.locale):Gz}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let i_=null;class Mi extends Zh{static get utcInstance(){return i_===null&&(i_=new Mi(0)),i_}static instance(e){return e===0?Mi.utcInstance:new Mi(e)}static parseSpecifier(e){if(e){const n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new Mi(yb(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Hp(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Hp(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return Hp(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class Jz extends Zh{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function El(t,e){if(fn(t)||t===null)return e;if(t instanceof Zh)return t;if(nW(t)){const n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?hb.instance:n==="utc"||n==="gmt"?Mi.utcInstance:Mi.parseSpecifier(n)||Da.create(t)}else return ql(t)?Mi.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new Jz(t)}const b1={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},$C={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Zz=b1.hanidec.replace(/[\[|\]]/g,"").split("");function Yz(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);if(t[n].search(b1.hanidec)!==-1)e+=Zz.indexOf(t[n]);else for(const i in $C){const[s,o]=$C[i];r>=s&&r<=o&&(e+=r-s)}}return parseInt(e,10)}else return e}let rd={};function Xz(){rd={}}function vo({numberingSystem:t},e=""){const n=t||"latn";return rd[n]||(rd[n]={}),rd[n][e]||(rd[n][e]=new RegExp(`${b1[n]}${e}`)),rd[n][e]}let BC=()=>Date.now(),zC="system",WC=null,UC=null,VC=null,HC=60,KC,QC=null;class Mr{static get now(){return BC}static set now(e){BC=e}static set defaultZone(e){zC=e}static get defaultZone(){return El(zC,hb.instance)}static get defaultLocale(){return WC}static set defaultLocale(e){WC=e}static get defaultNumberingSystem(){return UC}static set defaultNumberingSystem(e){UC=e}static get defaultOutputCalendar(){return VC}static set defaultOutputCalendar(e){VC=e}static get defaultWeekSettings(){return QC}static set defaultWeekSettings(e){QC=rE(e)}static get twoDigitCutoffYear(){return HC}static set twoDigitCutoffYear(e){HC=e%100}static get throwOnInvalid(){return KC}static set throwOnInvalid(e){KC=e}static resetCaches(){Wn.resetCache(),Da.resetCache(),dn.resetCache(),Xz()}}class Io{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const bA=[0,31,59,90,120,151,181,212,243,273,304,334],xA=[0,31,60,91,121,152,182,213,244,274,305,335];function to(t,e){return new Io("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function x1(t,e,n){const r=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const i=r.getUTCDay();return i===0?7:i}function wA(t,e,n){return n+(Yh(t)?xA:bA)[e-1]}function _A(t,e){const n=Yh(t)?xA:bA,r=n.findIndex(s=>s<e),i=e-n[r];return{month:r+1,day:i}}function w1(t,e){return(t-e+7)%7+1}function lv(t,e=4,n=1){const{year:r,month:i,day:s}=t,o=wA(r,i,s),l=w1(x1(r,i,s),n);let u=Math.floor((o-l+14-e)/7),d;return u<1?(d=r-1,u=lh(d,e,n)):u>lh(r,e,n)?(d=r+1,u=1):d=r,{weekYear:d,weekNumber:u,weekday:l,...vb(t)}}function GC(t,e=4,n=1){const{weekYear:r,weekNumber:i,weekday:s}=t,o=w1(x1(r,1,e),n),l=bd(r);let u=i*7+s-o-7+e,d;u<1?(d=r-1,u+=bd(d)):u>l?(d=r+1,u-=bd(r)):d=r;const{month:p,day:h}=_A(d,u);return{year:d,month:p,day:h,...vb(t)}}function s_(t){const{year:e,month:n,day:r}=t,i=wA(e,n,r);return{year:e,ordinal:i,...vb(t)}}function JC(t){const{year:e,ordinal:n}=t,{month:r,day:i}=_A(e,n);return{year:e,month:r,day:i,...vb(t)}}function ZC(t,e){if(!fn(t.localWeekday)||!fn(t.localWeekNumber)||!fn(t.localWeekYear)){if(!fn(t.weekday)||!fn(t.weekNumber)||!fn(t.weekYear))throw new ad("Cannot mix locale-based week fields with ISO-based week fields");return fn(t.localWeekday)||(t.weekday=t.localWeekday),fn(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),fn(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function eW(t,e=4,n=1){const r=mb(t.weekYear),i=no(t.weekNumber,1,lh(t.weekYear,e,n)),s=no(t.weekday,1,7);return r?i?s?!1:to("weekday",t.weekday):to("week",t.weekNumber):to("weekYear",t.weekYear)}function tW(t){const e=mb(t.year),n=no(t.ordinal,1,bd(t.year));return e?n?!1:to("ordinal",t.ordinal):to("year",t.year)}function SA(t){const e=mb(t.year),n=no(t.month,1,12),r=no(t.day,1,cv(t.year,t.month));return e?n?r?!1:to("day",t.day):to("month",t.month):to("year",t.year)}function EA(t){const{hour:e,minute:n,second:r,millisecond:i}=t,s=no(e,0,23)||e===24&&n===0&&r===0&&i===0,o=no(n,0,59),l=no(r,0,59),u=no(i,0,999);return s?o?l?u?!1:to("millisecond",i):to("second",r):to("minute",n):to("hour",e)}function fn(t){return typeof t>"u"}function ql(t){return typeof t=="number"}function mb(t){return typeof t=="number"&&t%1===0}function nW(t){return typeof t=="string"}function rW(t){return Object.prototype.toString.call(t)==="[object Date]"}function NA(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function kA(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function iW(t){return Array.isArray(t)?t:[t]}function YC(t,e,n){if(t.length!==0)return t.reduce((r,i)=>{const s=[e(i),i];return r&&n(r[0],s[0])===r[0]?r:s},null)[1]}function sW(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function Pd(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function rE(t){if(t==null)return null;if(typeof t!="object")throw new wi("Week settings must be an object");if(!no(t.firstDay,1,7)||!no(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!no(e,1,7)))throw new wi("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function no(t,e,n){return mb(t)&&t>=e&&t<=n}function oW(t,e){return t-e*Math.floor(t/e)}function Qr(t,e=2){const n=t<0;let r;return n?r="-"+(""+-t).padStart(e,"0"):r=(""+t).padStart(e,"0"),r}function xl(t){if(!(fn(t)||t===null||t===""))return parseInt(t,10)}function Ic(t){if(!(fn(t)||t===null||t===""))return parseFloat(t)}function _1(t){if(!(fn(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function S1(t,e,n=!1){const r=10**e;return(n?Math.trunc:Math.round)(t*r)/r}function Yh(t){return t%4===0&&(t%100!==0||t%400===0)}function bd(t){return Yh(t)?366:365}function cv(t,e){const n=oW(e-1,12)+1,r=t+(e-n)/12;return n===2?Yh(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function gb(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function XC(t,e,n){return-w1(x1(t,1,e),n)+e-1}function lh(t,e=4,n=1){const r=XC(t,e,n),i=XC(t+1,e,n);return(bd(t)-r+i)/7}function iE(t){return t>99?t:t>Mr.twoDigitCutoffYear?1900+t:2e3+t}function IA(t,e,n,r=null){const i=new Date(t),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(s.timeZone=r);const o={timeZoneName:e,...s},l=new Intl.DateTimeFormat(n,o).formatToParts(i).find(u=>u.type.toLowerCase()==="timezonename");return l?l.value:null}function yb(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);const r=parseInt(e,10)||0,i=n<0||Object.is(n,-0)?-r:r;return n*60+i}function CA(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new wi(`Invalid unit value ${t}`);return e}function uv(t,e){const n={};for(const r in t)if(Pd(t,r)){const i=t[r];if(i==null)continue;n[e(r)]=CA(i)}return n}function Hp(t,e){const n=Math.trunc(Math.abs(t/60)),r=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${Qr(n,2)}:${Qr(r,2)}`;case"narrow":return`${i}${n}${r>0?`:${r}`:""}`;case"techie":return`${i}${Qr(n,2)}${Qr(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function vb(t){return sW(t,["hour","minute","second","millisecond"])}const aW=["January","February","March","April","May","June","July","August","September","October","November","December"],TA=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],lW=["J","F","M","A","M","J","J","A","S","O","N","D"];function OA(t){switch(t){case"narrow":return[...lW];case"short":return[...TA];case"long":return[...aW];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const RA=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],qA=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],cW=["M","T","W","T","F","S","S"];function jA(t){switch(t){case"narrow":return[...cW];case"short":return[...qA];case"long":return[...RA];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const AA=["AM","PM"],uW=["Before Christ","Anno Domini"],dW=["BC","AD"],fW=["B","A"];function PA(t){switch(t){case"narrow":return[...fW];case"short":return[...dW];case"long":return[...uW];default:return null}}function pW(t){return AA[t.hour<12?0:1]}function hW(t,e){return jA(e)[t.weekday-1]}function mW(t,e){return OA(e)[t.month-1]}function gW(t,e){return PA(e)[t.year<0?0:1]}function yW(t,e,n="always",r=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&s){const h=t==="days";switch(e){case 1:return h?"tomorrow":`next ${i[t][0]}`;case-1:return h?"yesterday":`last ${i[t][0]}`;case 0:return h?"today":`this ${i[t][0]}`}}const o=Object.is(e,-0)||e<0,l=Math.abs(e),u=l===1,d=i[t],p=r?u?d[1]:d[2]||d[1]:u?i[t][0]:t;return o?`${l} ${p} ago`:`in ${l} ${p}`}function eT(t,e){let n="";for(const r of t)r.literal?n+=r.val:n+=e(r.val);return n}const vW={D:av,DD:eA,DDD:tA,DDDD:nA,t:rA,tt:iA,ttt:sA,tttt:oA,T:aA,TT:lA,TTT:cA,TTTT:uA,f:dA,ff:pA,fff:mA,ffff:yA,F:fA,FF:hA,FFF:gA,FFFF:vA};class Si{static create(e,n={}){return new Si(e,n)}static parseFormat(e){let n=null,r="",i=!1;const s=[];for(let o=0;o<e.length;o++){const l=e.charAt(o);l==="'"?(r.length>0&&s.push({literal:i||/^\s+$/.test(r),val:r}),n=null,r="",i=!i):i||l===n?r+=l:(r.length>0&&s.push({literal:/^\s+$/.test(r),val:r}),r=l,n=l)}return r.length>0&&s.push({literal:i||/^\s+$/.test(r),val:r}),s}static macroTokenToFormatOpts(e){return vW[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...n}).format()}dtFormatter(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n})}formatDateTime(e,n){return this.dtFormatter(e,n).format()}formatDateTimeParts(e,n){return this.dtFormatter(e,n).formatToParts()}formatInterval(e,n){return this.dtFormatter(e.start,n).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,n){return this.dtFormatter(e,n).resolvedOptions()}num(e,n=0){if(this.opts.forceSimple)return Qr(e,n);const r={...this.opts};return n>0&&(r.padTo=n),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,n){const r=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(x,_)=>this.loc.extract(e,x,_),o=x=>e.isOffsetFixed&&e.offset===0&&x.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,x.format):"",l=()=>r?pW(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),u=(x,_)=>r?mW(e,x):s(_?{month:x}:{month:x,day:"numeric"},"month"),d=(x,_)=>r?hW(e,x):s(_?{weekday:x}:{weekday:x,month:"long",day:"numeric"},"weekday"),p=x=>{const _=Si.macroTokenToFormatOpts(x);return _?this.formatWithSystemDefault(e,_):x},h=x=>r?gW(e,x):s({era:x},"era"),b=x=>{switch(x){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return l();case"d":return i?s({day:"numeric"},"day"):this.num(e.day);case"dd":return i?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return d("short",!0);case"cccc":return d("long",!0);case"ccccc":return d("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return d("short",!1);case"EEEE":return d("long",!1);case"EEEEE":return d("narrow",!1);case"L":return i?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return u("short",!0);case"LLLL":return u("long",!0);case"LLLLL":return u("narrow",!0);case"M":return i?s({month:"numeric"},"month"):this.num(e.month);case"MM":return i?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return u("short",!1);case"MMMM":return u("long",!1);case"MMMMM":return u("narrow",!1);case"y":return i?s({year:"numeric"},"year"):this.num(e.year);case"yy":return i?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return h("short");case"GG":return h("long");case"GGGGG":return h("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return p(x)}};return eT(Si.parseFormat(n),b)}formatDurationFromString(e,n){const r=u=>{switch(u[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=u=>d=>{const p=r(d);return p?this.num(u.get(p),d.length):d},s=Si.parseFormat(n),o=s.reduce((u,{literal:d,val:p})=>d?u:u.concat(p),[]),l=e.shiftTo(...o.map(r).filter(u=>u));return eT(s,i(l))}}const FA=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function ef(...t){const e=t.reduce((n,r)=>n+r.source,"");return RegExp(`^${e}$`)}function tf(...t){return e=>t.reduce(([n,r,i],s)=>{const[o,l,u]=s(e,i);return[{...n,...o},l||r,u]},[{},null,1]).slice(0,2)}function nf(t,...e){if(t==null)return[null,null];for(const[n,r]of e){const i=n.exec(t);if(i)return r(i)}return[null,null]}function DA(...t){return(e,n)=>{const r={};let i;for(i=0;i<t.length;i++)r[t[i]]=xl(e[n+i]);return[r,null,n+i]}}const LA=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,bW=`(?:${LA.source}?(?:\\[(${FA.source})\\])?)?`,E1=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,MA=RegExp(`${E1.source}${bW}`),N1=RegExp(`(?:T${MA.source})?`),xW=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,wW=/(\d{4})-?W(\d\d)(?:-?(\d))?/,_W=/(\d{4})-?(\d{3})/,SW=DA("weekYear","weekNumber","weekDay"),EW=DA("year","ordinal"),NW=/(\d{4})-(\d\d)-(\d\d)/,$A=RegExp(`${E1.source} ?(?:${LA.source}|(${FA.source}))?`),kW=RegExp(`(?: ${$A.source})?`);function xd(t,e,n){const r=t[e];return fn(r)?n:xl(r)}function IW(t,e){return[{year:xd(t,e),month:xd(t,e+1,1),day:xd(t,e+2,1)},null,e+3]}function rf(t,e){return[{hours:xd(t,e,0),minutes:xd(t,e+1,0),seconds:xd(t,e+2,0),milliseconds:_1(t[e+3])},null,e+4]}function Xh(t,e){const n=!t[e]&&!t[e+1],r=yb(t[e+1],t[e+2]),i=n?null:Mi.instance(r);return[{},i,e+3]}function em(t,e){const n=t[e]?Da.create(t[e]):null;return[{},n,e+1]}const CW=RegExp(`^T?${E1.source}$`),TW=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function OW(t){const[e,n,r,i,s,o,l,u,d]=t,p=e[0]==="-",h=u&&u[0]==="-",b=(x,_=!1)=>x!==void 0&&(_||x&&p)?-x:x;return[{years:b(Ic(n)),months:b(Ic(r)),weeks:b(Ic(i)),days:b(Ic(s)),hours:b(Ic(o)),minutes:b(Ic(l)),seconds:b(Ic(u),u==="-0"),milliseconds:b(_1(d),h)}]}const RW={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function k1(t,e,n,r,i,s,o){const l={year:e.length===2?iE(xl(e)):xl(e),month:TA.indexOf(n)+1,day:xl(r),hour:xl(i),minute:xl(s)};return o&&(l.second=xl(o)),t&&(l.weekday=t.length>3?RA.indexOf(t)+1:qA.indexOf(t)+1),l}const qW=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function jW(t){const[,e,n,r,i,s,o,l,u,d,p,h]=t,b=k1(e,i,r,n,s,o,l);let x;return u?x=RW[u]:d?x=0:x=yb(p,h),[b,new Mi(x)]}function AW(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const PW=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,FW=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,DW=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function tT(t){const[,e,n,r,i,s,o,l]=t;return[k1(e,i,r,n,s,o,l),Mi.utcInstance]}function LW(t){const[,e,n,r,i,s,o,l]=t;return[k1(e,l,n,r,i,s,o),Mi.utcInstance]}const MW=ef(xW,N1),$W=ef(wW,N1),BW=ef(_W,N1),zW=ef(MA),BA=tf(IW,rf,Xh,em),WW=tf(SW,rf,Xh,em),UW=tf(EW,rf,Xh,em),VW=tf(rf,Xh,em);function HW(t){return nf(t,[MW,BA],[$W,WW],[BW,UW],[zW,VW])}function KW(t){return nf(AW(t),[qW,jW])}function QW(t){return nf(t,[PW,tT],[FW,tT],[DW,LW])}function GW(t){return nf(t,[TW,OW])}const JW=tf(rf);function ZW(t){return nf(t,[CW,JW])}const YW=ef(NW,kW),XW=ef($A),e6=tf(rf,Xh,em);function t6(t){return nf(t,[YW,BA],[XW,e6])}const nT="Invalid Duration",zA={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},n6={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...zA},Qs=146097/400,Vu=146097/4800,r6={years:{quarters:4,months:12,weeks:Qs/7,days:Qs,hours:Qs*24,minutes:Qs*24*60,seconds:Qs*24*60*60,milliseconds:Qs*24*60*60*1e3},quarters:{months:3,weeks:Qs/28,days:Qs/4,hours:Qs*24/4,minutes:Qs*24*60/4,seconds:Qs*24*60*60/4,milliseconds:Qs*24*60*60*1e3/4},months:{weeks:Vu/7,days:Vu,hours:Vu*24,minutes:Vu*24*60,seconds:Vu*24*60*60,milliseconds:Vu*24*60*60*1e3},...zA},$c=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],i6=$c.slice(0).reverse();function fl(t,e,n=!1){const r={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new jn(r)}function WA(t,e){let n=e.milliseconds??0;for(const r of i6.slice(1))e[r]&&(n+=e[r]*t[r].milliseconds);return n}function rT(t,e){const n=WA(t,e)<0?-1:1;$c.reduceRight((r,i)=>{if(fn(e[i]))return r;if(r){const s=e[r]*n,o=t[i][r],l=Math.floor(s/o);e[i]+=l*n,e[r]-=l*o*n}return i},null),$c.reduce((r,i)=>{if(fn(e[i]))return r;if(r){const s=e[r]%1;e[r]-=s,e[i]+=s*t[r][i]}return i},null)}function s6(t){const e={};for(const[n,r]of Object.entries(t))r!==0&&(e[n]=r);return e}class jn{constructor(e){const n=e.conversionAccuracy==="longterm"||!1;let r=n?r6:n6;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||Wn.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,n){return jn.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new wi(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new jn({values:uv(e,jn.normalizeUnit),loc:Wn.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if(ql(e))return jn.fromMillis(e);if(jn.isDuration(e))return e;if(typeof e=="object")return jn.fromObject(e);throw new wi(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){const[r]=GW(e);return r?jn.fromObject(r,n):jn.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,n){const[r]=ZW(e);return r?jn.fromObject(r,n):jn.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new wi("need to specify a reason the Duration is invalid");const r=e instanceof Io?e:new Io(e,n);if(Mr.throwOnInvalid)throw new Tz(r);return new jn({invalid:r})}static normalizeUnit(e){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new X3(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){const r={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?Si.create(this.loc,r).formatDurationFromString(this,e):nT}toHuman(e={}){if(!this.isValid)return nT;const n=$c.map(r=>{const i=this.values[r];return fn(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(i)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=S1(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const n=this.toMillis();return n<0||n>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},dn.fromMillis(n,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?WA(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const n=jn.fromDurationLike(e),r={};for(const i of $c)(Pd(n.values,i)||Pd(this.values,i))&&(r[i]=n.get(i)+this.get(i));return fl(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const n=jn.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=CA(e(this.values[r],r));return fl(this,{values:n},!0)}get(e){return this[jn.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const n={...this.values,...uv(e,jn.normalizeUnit)};return fl(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:r,matrix:i}={}){const o={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:i,conversionAccuracy:r};return fl(this,o)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return rT(this.matrix,e),fl(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=s6(this.normalize().shiftToAll().toObject());return fl(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>jn.normalizeUnit(o));const n={},r={},i=this.toObject();let s;for(const o of $c)if(e.indexOf(o)>=0){s=o;let l=0;for(const d in r)l+=this.matrix[d][o]*r[d],r[d]=0;ql(i[o])&&(l+=i[o]);const u=Math.trunc(l);n[o]=u,r[o]=(l*1e3-u*1e3)/1e3}else ql(i[o])&&(r[o]=i[o]);for(const o in r)r[o]!==0&&(n[s]+=o===s?r[o]:r[o]/this.matrix[s][o]);return rT(this.matrix,n),fl(this,{values:n},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return fl(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(r,i){return r===void 0||r===0?i===void 0||i===0:r===i}for(const r of $c)if(!n(this.values[r],e.values[r]))return!1;return!0}}const Hu="Invalid Interval";function o6(t,e){return!t||!t.isValid?Lr.invalid("missing or invalid start"):!e||!e.isValid?Lr.invalid("missing or invalid end"):e<t?Lr.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class Lr{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new wi("need to specify a reason the Interval is invalid");const r=e instanceof Io?e:new Io(e,n);if(Mr.throwOnInvalid)throw new Cz(r);return new Lr({invalid:r})}static fromDateTimes(e,n){const r=dp(e),i=dp(n),s=o6(r,i);return s??new Lr({start:r,end:i})}static after(e,n){const r=jn.fromDurationLike(n),i=dp(e);return Lr.fromDateTimes(i,i.plus(r))}static before(e,n){const r=jn.fromDurationLike(n),i=dp(e);return Lr.fromDateTimes(i.minus(r),i)}static fromISO(e,n){const[r,i]=(e||"").split("/",2);if(r&&i){let s,o;try{s=dn.fromISO(r,n),o=s.isValid}catch{o=!1}let l,u;try{l=dn.fromISO(i,n),u=l.isValid}catch{u=!1}if(o&&u)return Lr.fromDateTimes(s,l);if(o){const d=jn.fromISO(i,n);if(d.isValid)return Lr.after(s,d)}else if(u){const d=jn.fromISO(r,n);if(d.isValid)return Lr.before(l,d)}}return Lr.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",n){if(!this.isValid)return NaN;const r=this.start.startOf(e,n);let i;return n?.useLocaleWeeks?i=this.end.reconfigure({locale:r.locale}):i=this.end,i=i.startOf(e,n),Math.floor(i.diff(r,e).get(e))+(i.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?Lr.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];const n=e.map(dp).filter(o=>this.contains(o)).sort((o,l)=>o.toMillis()-l.toMillis()),r=[];let{s:i}=this,s=0;for(;i<this.e;){const o=n[s]||this.e,l=+o>+this.e?this.e:o;r.push(Lr.fromDateTimes(i,l)),i=l,s+=1}return r}splitBy(e){const n=jn.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:r}=this,i=1,s;const o=[];for(;r<this.e;){const l=this.start.plus(n.mapUnits(u=>u*i));s=+l>+this.e?this.e:l,o.push(Lr.fromDateTimes(r,s)),r=s,i+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const n=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return n>=r?null:Lr.fromDateTimes(n,r)}union(e){if(!this.isValid)return this;const n=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return Lr.fromDateTimes(n,r)}static merge(e){const[n,r]=e.sort((i,s)=>i.s-s.s).reduce(([i,s],o)=>s?s.overlaps(o)||s.abutsStart(o)?[i,s.union(o)]:[i.concat([s]),o]:[i,o],[[],null]);return r&&n.push(r),n}static xor(e){let n=null,r=0;const i=[],s=e.map(u=>[{time:u.s,type:"s"},{time:u.e,type:"e"}]),o=Array.prototype.concat(...s),l=o.sort((u,d)=>u.time-d.time);for(const u of l)r+=u.type==="s"?1:-1,r===1?n=u.time:(n&&+n!=+u.time&&i.push(Lr.fromDateTimes(n,u.time)),n=null);return Lr.merge(i)}difference(...e){return Lr.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:Hu}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=av,n={}){return this.isValid?Si.create(this.s.loc.clone(n),e).formatInterval(this):Hu}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Hu}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Hu}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Hu}toFormat(e,{separator:n="  "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:Hu}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):jn.invalid(this.invalidReason)}mapEndpoints(e){return Lr.fromDateTimes(e(this.s),e(this.e))}}class Pg{static hasDST(e=Mr.defaultZone){const n=dn.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return Da.isValidZone(e)}static normalizeZone(e){return El(e,Mr.defaultZone)}static getStartOfWeek({locale:e=null,locObj:n=null}={}){return(n||Wn.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:n=null}={}){return(n||Wn.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:n=null}={}){return(n||Wn.create(e)).getWeekendDays().slice()}static months(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Wn.create(n,r,s)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:s="gregory"}={}){return(i||Wn.create(n,r,s)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Wn.create(n,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Wn.create(n,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Wn.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return Wn.create(n,null,"gregory").eras(e)}static features(){return{relative:NA(),localeWeek:kA()}}}function iT(t,e){const n=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(e)-n(t);return Math.floor(jn.fromMillis(r).as("days"))}function a6(t,e,n){const r=[["years",(u,d)=>d.year-u.year],["quarters",(u,d)=>d.quarter-u.quarter+(d.year-u.year)*4],["months",(u,d)=>d.month-u.month+(d.year-u.year)*12],["weeks",(u,d)=>{const p=iT(u,d);return(p-p%7)/7}],["days",iT]],i={},s=t;let o,l;for(const[u,d]of r)n.indexOf(u)>=0&&(o=u,i[u]=d(t,e),l=s.plus(i),l>e?(i[u]--,t=s.plus(i),t>e&&(l=t,i[u]--,t=s.plus(i))):t=l);return[t,i,l,o]}function l6(t,e,n,r){let[i,s,o,l]=a6(t,e,n);const u=e-i,d=n.filter(h=>["hours","minutes","seconds","milliseconds"].indexOf(h)>=0);d.length===0&&(o<e&&(o=i.plus({[l]:1})),o!==i&&(s[l]=(s[l]||0)+u/(o-i)));const p=jn.fromObject(s,r);return d.length>0?jn.fromMillis(u,r).shiftTo(...d).plus(p):p}const c6="missing Intl.DateTimeFormat.formatToParts support";function Ln(t,e=n=>n){return{regex:t,deser:([n])=>e(Yz(n))}}const u6="\xa0",UA=`[ ${u6}]`,VA=new RegExp(UA,"g");function d6(t){return t.replace(/\./g,"\\.?").replace(VA,UA)}function sT(t){return t.replace(/\./g,"").replace(VA," ").toLowerCase()}function bo(t,e){return t===null?null:{regex:RegExp(t.map(d6).join("|")),deser:([n])=>t.findIndex(r=>sT(n)===sT(r))+e}}function oT(t,e){return{regex:t,deser:([,n,r])=>yb(n,r),groups:e}}function Fg(t){return{regex:t,deser:([e])=>e}}function f6(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function p6(t,e){const n=vo(e),r=vo(e,"{2}"),i=vo(e,"{3}"),s=vo(e,"{4}"),o=vo(e,"{6}"),l=vo(e,"{1,2}"),u=vo(e,"{1,3}"),d=vo(e,"{1,6}"),p=vo(e,"{1,9}"),h=vo(e,"{2,4}"),b=vo(e,"{4,6}"),x=I=>({regex:RegExp(f6(I.val)),deser:([T])=>T,literal:!0}),E=(I=>{if(t.literal)return x(I);switch(I.val){case"G":return bo(e.eras("short"),0);case"GG":return bo(e.eras("long"),0);case"y":return Ln(d);case"yy":return Ln(h,iE);case"yyyy":return Ln(s);case"yyyyy":return Ln(b);case"yyyyyy":return Ln(o);case"M":return Ln(l);case"MM":return Ln(r);case"MMM":return bo(e.months("short",!0),1);case"MMMM":return bo(e.months("long",!0),1);case"L":return Ln(l);case"LL":return Ln(r);case"LLL":return bo(e.months("short",!1),1);case"LLLL":return bo(e.months("long",!1),1);case"d":return Ln(l);case"dd":return Ln(r);case"o":return Ln(u);case"ooo":return Ln(i);case"HH":return Ln(r);case"H":return Ln(l);case"hh":return Ln(r);case"h":return Ln(l);case"mm":return Ln(r);case"m":return Ln(l);case"q":return Ln(l);case"qq":return Ln(r);case"s":return Ln(l);case"ss":return Ln(r);case"S":return Ln(u);case"SSS":return Ln(i);case"u":return Fg(p);case"uu":return Fg(l);case"uuu":return Ln(n);case"a":return bo(e.meridiems(),0);case"kkkk":return Ln(s);case"kk":return Ln(h,iE);case"W":return Ln(l);case"WW":return Ln(r);case"E":case"c":return Ln(n);case"EEE":return bo(e.weekdays("short",!1),1);case"EEEE":return bo(e.weekdays("long",!1),1);case"ccc":return bo(e.weekdays("short",!0),1);case"cccc":return bo(e.weekdays("long",!0),1);case"Z":case"ZZ":return oT(new RegExp(`([+-]${l.source})(?::(${r.source}))?`),2);case"ZZZ":return oT(new RegExp(`([+-]${l.source})(${r.source})?`),2);case"z":return Fg(/[a-z_+-/]{1,256}?/i);case" ":return Fg(/[^\S\n\r]/);default:return x(I)}})(t)||{invalidReason:c6};return E.token=t,E}const h6={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function m6(t,e,n){const{type:r,value:i}=t;if(r==="literal"){const u=/^\s+$/.test(i);return{literal:!u,val:u?" ":i}}const s=e[r];let o=r;r==="hour"&&(e.hour12!=null?o=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?o="hour12":o="hour24":o=n.hour12?"hour12":"hour24");let l=h6[o];if(typeof l=="object"&&(l=l[s]),l)return{literal:!1,val:l}}function g6(t){return[`^${t.map(n=>n.regex).reduce((n,r)=>`${n}(${r.source})`,"")}$`,t]}function y6(t,e,n){const r=t.match(e);if(r){const i={};let s=1;for(const o in n)if(Pd(n,o)){const l=n[o],u=l.groups?l.groups+1:1;!l.literal&&l.token&&(i[l.token.val[0]]=l.deser(r.slice(s,s+u))),s+=u}return[r,i]}else return[r,{}]}function v6(t){const e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,r;return fn(t.z)||(n=Da.create(t.z)),fn(t.Z)||(n||(n=new Mi(t.Z)),r=t.Z),fn(t.q)||(t.M=(t.q-1)*3+1),fn(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),fn(t.u)||(t.S=_1(t.u)),[Object.keys(t).reduce((s,o)=>{const l=e(o);return l&&(s[l]=t[o]),s},{}),n,r]}let o_=null;function b6(){return o_||(o_=dn.fromMillis(0x16a2e5618e3)),o_}function x6(t,e){if(t.literal)return t;const n=Si.macroTokenToFormatOpts(t.val),r=GA(n,e);return r==null||r.includes(void 0)?t:r}function HA(t,e){return Array.prototype.concat(...t.map(n=>x6(n,e)))}class KA{constructor(e,n){if(this.locale=e,this.format=n,this.tokens=HA(Si.parseFormat(n),e),this.units=this.tokens.map(r=>p6(r,e)),this.disqualifyingUnit=this.units.find(r=>r.invalidReason),!this.disqualifyingUnit){const[r,i]=g6(this.units);this.regex=RegExp(r,"i"),this.handlers=i}}explainFromTokens(e){if(this.isValid){const[n,r]=y6(e,this.regex,this.handlers),[i,s,o]=r?v6(r):[null,null,void 0];if(Pd(r,"a")&&Pd(r,"H"))throw new ad("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:n,matches:r,result:i,zone:s,specificOffset:o}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function QA(t,e,n){return new KA(t,n).explainFromTokens(e)}function w6(t,e,n){const{result:r,zone:i,specificOffset:s,invalidReason:o}=QA(t,e,n);return[r,i,s,o]}function GA(t,e){if(!t)return null;const r=Si.create(e,t).dtFormatter(b6()),i=r.formatToParts(),s=r.resolvedOptions();return i.map(o=>m6(o,t,s))}const a_="Invalid DateTime",_6=864e13;function kp(t){return new Io("unsupported zone",`the zone "${t.name}" is not supported`)}function l_(t){return t.weekData===null&&(t.weekData=lv(t.c)),t.weekData}function c_(t){return t.localWeekData===null&&(t.localWeekData=lv(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function Cc(t,e){const n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new dn({...n,...e,old:n})}function JA(t,e,n){let r=t-e*60*1e3;const i=n.offset(r);if(e===i)return[r,e];r-=(i-e)*60*1e3;const s=n.offset(r);return i===s?[r,i]:[t-Math.min(i,s)*60*1e3,Math.max(i,s)]}function Dg(t,e){t+=e*60*1e3;const n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function my(t,e,n){return JA(gb(t),e,n)}function aT(t,e){const n=t.o,r=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...t.c,year:r,month:i,day:Math.min(t.c.day,cv(r,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},o=jn.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),l=gb(s);let[u,d]=JA(l,n,t.zone);return o!==0&&(u+=o,d=t.zone.offset(u)),{ts:u,o:d}}function Ku(t,e,n,r,i,s){const{setZone:o,zone:l}=n;if(t&&Object.keys(t).length!==0||e){const u=e||l,d=dn.fromObject(t,{...n,zone:u,specificOffset:s});return o?d:d.setZone(l)}else return dn.invalid(new Io("unparsable",`the input "${i}" can't be parsed as ${r}`))}function Lg(t,e,n=!0){return t.isValid?Si.create(Wn.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function u_(t,e){const n=t.c.year>9999||t.c.year<0;let r="";return n&&t.c.year>=0&&(r+="+"),r+=Qr(t.c.year,n?6:4),e?(r+="-",r+=Qr(t.c.month),r+="-",r+=Qr(t.c.day)):(r+=Qr(t.c.month),r+=Qr(t.c.day)),r}function lT(t,e,n,r,i,s){let o=Qr(t.c.hour);return e?(o+=":",o+=Qr(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(o+=":")):o+=Qr(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!n)&&(o+=Qr(t.c.second),(t.c.millisecond!==0||!r)&&(o+=".",o+=Qr(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0&&!s?o+="Z":t.o<0?(o+="-",o+=Qr(Math.trunc(-t.o/60)),o+=":",o+=Qr(Math.trunc(-t.o%60))):(o+="+",o+=Qr(Math.trunc(t.o/60)),o+=":",o+=Qr(Math.trunc(t.o%60)))),s&&(o+="["+t.zone.ianaName+"]"),o}const ZA={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},S6={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},E6={ordinal:1,hour:0,minute:0,second:0,millisecond:0},YA=["year","month","day","hour","minute","second","millisecond"],N6=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],k6=["year","ordinal","hour","minute","second","millisecond"];function I6(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new X3(t);return e}function cT(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return I6(t)}}function C6(t){return yy[t]||(gy===void 0&&(gy=Mr.now()),yy[t]=t.offset(gy)),yy[t]}function uT(t,e){const n=El(e.zone,Mr.defaultZone);if(!n.isValid)return dn.invalid(kp(n));const r=Wn.fromObject(e);let i,s;if(fn(t.year))i=Mr.now();else{for(const u of YA)fn(t[u])&&(t[u]=ZA[u]);const o=SA(t)||EA(t);if(o)return dn.invalid(o);const l=C6(n);[i,s]=my(t,l,n)}return new dn({ts:i,zone:n,loc:r,o:s})}function dT(t,e,n){const r=fn(n.round)?!0:n.round,i=(o,l)=>(o=S1(o,r||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(o,l)),s=o=>n.calendary?e.hasSame(t,o)?0:e.startOf(o).diff(t.startOf(o),o).get(o):e.diff(t,o).get(o);if(n.unit)return i(s(n.unit),n.unit);for(const o of n.units){const l=s(o);if(Math.abs(l)>=1)return i(l,o)}return i(t>e?-0:0,n.units[n.units.length-1])}function fT(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}let gy,yy={};class dn{constructor(e){const n=e.zone||Mr.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new Io("invalid input"):null)||(n.isValid?null:kp(n));this.ts=fn(e.ts)?Mr.now():e.ts;let i=null,s=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[i,s]=[e.old.c,e.old.o];else{const l=ql(e.o)&&!e.old?e.o:n.offset(this.ts);i=Dg(this.ts,l),r=Number.isNaN(i.year)?new Io("invalid input"):null,i=r?null:i,s=r?null:l}this._zone=n,this.loc=e.loc||Wn.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=i,this.o=s,this.isLuxonDateTime=!0}static now(){return new dn({})}static local(){const[e,n]=fT(arguments),[r,i,s,o,l,u,d]=n;return uT({year:r,month:i,day:s,hour:o,minute:l,second:u,millisecond:d},e)}static utc(){const[e,n]=fT(arguments),[r,i,s,o,l,u,d]=n;return e.zone=Mi.utcInstance,uT({year:r,month:i,day:s,hour:o,minute:l,second:u,millisecond:d},e)}static fromJSDate(e,n={}){const r=rW(e)?e.valueOf():NaN;if(Number.isNaN(r))return dn.invalid("invalid input");const i=El(n.zone,Mr.defaultZone);return i.isValid?new dn({ts:r,zone:i,loc:Wn.fromObject(n)}):dn.invalid(kp(i))}static fromMillis(e,n={}){if(ql(e))return e<-864e13||e>_6?dn.invalid("Timestamp out of range"):new dn({ts:e,zone:El(n.zone,Mr.defaultZone),loc:Wn.fromObject(n)});throw new wi(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(ql(e))return new dn({ts:e*1e3,zone:El(n.zone,Mr.defaultZone),loc:Wn.fromObject(n)});throw new wi("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};const r=El(n.zone,Mr.defaultZone);if(!r.isValid)return dn.invalid(kp(r));const i=Wn.fromObject(n),s=uv(e,cT),{minDaysInFirstWeek:o,startOfWeek:l}=ZC(s,i),u=Mr.now(),d=fn(n.specificOffset)?r.offset(u):n.specificOffset,p=!fn(s.ordinal),h=!fn(s.year),b=!fn(s.month)||!fn(s.day),x=h||b,_=s.weekYear||s.weekNumber;if((x||p)&&_)throw new ad("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(b&&p)throw new ad("Can't mix ordinal dates with month/day");const E=_||s.weekday&&!x;let I,T,O=Dg(u,d);E?(I=N6,T=S6,O=lv(O,o,l)):p?(I=k6,T=E6,O=s_(O)):(I=YA,T=ZA);let R=!1;for(const M of I){const F=s[M];fn(F)?R?s[M]=T[M]:s[M]=O[M]:R=!0}const A=E?eW(s,o,l):p?tW(s):SA(s),D=A||EA(s);if(D)return dn.invalid(D);const L=E?GC(s,o,l):p?JC(s):s,[z,P]=my(L,d,r),q=new dn({ts:z,zone:r,o:P,loc:i});return s.weekday&&x&&e.weekday!==q.weekday?dn.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${q.toISO()}`):q.isValid?q:dn.invalid(q.invalid)}static fromISO(e,n={}){const[r,i]=HW(e);return Ku(r,i,n,"ISO 8601",e)}static fromRFC2822(e,n={}){const[r,i]=KW(e);return Ku(r,i,n,"RFC 2822",e)}static fromHTTP(e,n={}){const[r,i]=QW(e);return Ku(r,i,n,"HTTP",n)}static fromFormat(e,n,r={}){if(fn(e)||fn(n))throw new wi("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:s=null}=r,o=Wn.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0}),[l,u,d,p]=w6(o,e,n);return p?dn.invalid(p):Ku(l,u,r,`format ${n}`,e,d)}static fromString(e,n,r={}){return dn.fromFormat(e,n,r)}static fromSQL(e,n={}){const[r,i]=t6(e);return Ku(r,i,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new wi("need to specify a reason the DateTime is invalid");const r=e instanceof Io?e:new Io(e,n);if(Mr.throwOnInvalid)throw new Iz(r);return new dn({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){const r=GA(e,Wn.fromObject(n));return r?r.map(i=>i?i.val:null).join(""):null}static expandFormat(e,n={}){return HA(Si.parseFormat(e),Wn.fromObject(n)).map(i=>i.val).join("")}static resetCache(){gy=void 0,yy={}}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?l_(this).weekYear:NaN}get weekNumber(){return this.isValid?l_(this).weekNumber:NaN}get weekday(){return this.isValid?l_(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?c_(this).weekday:NaN}get localWeekNumber(){return this.isValid?c_(this).weekNumber:NaN}get localWeekYear(){return this.isValid?c_(this).weekYear:NaN}get ordinal(){return this.isValid?s_(this.c).ordinal:NaN}get monthShort(){return this.isValid?Pg.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Pg.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Pg.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Pg.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,n=6e4,r=gb(this.c),i=this.zone.offset(r-e),s=this.zone.offset(r+e),o=this.zone.offset(r-i*n),l=this.zone.offset(r-s*n);if(o===l)return[this];const u=r-o*n,d=r-l*n,p=Dg(u,o),h=Dg(d,l);return p.hour===h.hour&&p.minute===h.minute&&p.second===h.second&&p.millisecond===h.millisecond?[Cc(this,{ts:u}),Cc(this,{ts:d})]:[this]}get isInLeapYear(){return Yh(this.year)}get daysInMonth(){return cv(this.year,this.month)}get daysInYear(){return this.isValid?bd(this.year):NaN}get weeksInWeekYear(){return this.isValid?lh(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?lh(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:n,numberingSystem:r,calendar:i}=Si.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:r,outputCalendar:i}}toUTC(e=0,n={}){return this.setZone(Mi.instance(e),n)}toLocal(){return this.setZone(Mr.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(e=El(e,Mr.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(n||r){const s=e.offset(this.ts),o=this.toObject();[i]=my(o,s,e)}return Cc(this,{ts:i,zone:e})}else return dn.invalid(kp(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:r}={}){const i=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:r});return Cc(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const n=uv(e,cT),{minDaysInFirstWeek:r,startOfWeek:i}=ZC(n,this.loc),s=!fn(n.weekYear)||!fn(n.weekNumber)||!fn(n.weekday),o=!fn(n.ordinal),l=!fn(n.year),u=!fn(n.month)||!fn(n.day),d=l||u,p=n.weekYear||n.weekNumber;if((d||o)&&p)throw new ad("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(u&&o)throw new ad("Can't mix ordinal dates with month/day");let h;s?h=GC({...lv(this.c,r,i),...n},r,i):fn(n.ordinal)?(h={...this.toObject(),...n},fn(n.day)&&(h.day=Math.min(cv(h.year,h.month),h.day))):h=JC({...s_(this.c),...n});const[b,x]=my(h,this.o,this.zone);return Cc(this,{ts:b,o:x})}plus(e){if(!this.isValid)return this;const n=jn.fromDurationLike(e);return Cc(this,aT(this,n))}minus(e){if(!this.isValid)return this;const n=jn.fromDurationLike(e).negate();return Cc(this,aT(this,n))}startOf(e,{useLocaleWeeks:n=!1}={}){if(!this.isValid)return this;const r={},i=jn.normalizeUnit(e);switch(i){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(i==="weeks")if(n){const s=this.loc.getStartOfWeek(),{weekday:o}=this;o<s&&(r.weekNumber=this.weekNumber-1),r.weekday=s}else r.weekday=1;if(i==="quarters"){const s=Math.ceil(this.month/3);r.month=(s-1)*3+1}return this.set(r)}endOf(e,n){return this.isValid?this.plus({[e]:1}).startOf(e,n).minus(1):this}toFormat(e,n={}){return this.isValid?Si.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):a_}toLocaleString(e=av,n={}){return this.isValid?Si.create(this.loc.clone(n),e).formatDateTime(this):a_}toLocaleParts(e={}){return this.isValid?Si.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:r=!1,includeOffset:i=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const o=e==="extended";let l=u_(this,o);return l+="T",l+=lT(this,o,n,r,i,s),l}toISODate({format:e="extended"}={}){return this.isValid?u_(this,e==="extended"):null}toISOWeekDate(){return Lg(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:r=!0,includePrefix:i=!1,extendedZone:s=!1,format:o="extended"}={}){return this.isValid?(i?"T":"")+lT(this,o==="extended",n,e,r,s):null}toRFC2822(){return Lg(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Lg(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?u_(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:r=!0}={}){let i="HH:mm:ss.SSS";return(n||e)&&(r&&(i+=" "),n?i+="z":e&&(i+="ZZ")),Lg(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():a_}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const n={...this.c};return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",r={}){if(!this.isValid||!e.isValid)return jn.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...r},s=iW(n).map(jn.normalizeUnit),o=e.valueOf()>this.valueOf(),l=o?this:e,u=o?e:this,d=l6(l,u,s,i);return o?d.negate():d}diffNow(e="milliseconds",n={}){return this.diff(dn.now(),e,n)}until(e){return this.isValid?Lr.fromDateTimes(this,e):this}hasSame(e,n,r){if(!this.isValid)return!1;const i=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(n,r)<=i&&i<=s.endOf(n,r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const n=e.base||dn.fromObject({},{zone:this.zone}),r=e.padding?this<n?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(i=e.unit,s=void 0),dT(n,this.plus(r),{...e,numeric:"always",units:i,unit:s})}toRelativeCalendar(e={}){return this.isValid?dT(e.base||dn.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(dn.isDateTime))throw new wi("min requires all arguments be DateTimes");return YC(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(dn.isDateTime))throw new wi("max requires all arguments be DateTimes");return YC(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,r={}){const{locale:i=null,numberingSystem:s=null}=r,o=Wn.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});return QA(o,e,n)}static fromStringExplain(e,n,r={}){return dn.fromFormatExplain(e,n,r)}static buildFormatParser(e,n={}){const{locale:r=null,numberingSystem:i=null}=n,s=Wn.fromOpts({locale:r,numberingSystem:i,defaultToEN:!0});return new KA(s,e)}static fromFormatParser(e,n,r={}){if(fn(e)||fn(n))throw new wi("fromFormatParser requires an input string and a format parser");const{locale:i=null,numberingSystem:s=null}=r,o=Wn.fromOpts({locale:i,numberingSystem:s,defaultToEN:!0});if(!o.equals(n.locale))throw new wi(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${n.locale}`);const{result:l,zone:u,specificOffset:d,invalidReason:p}=n.explainFromTokens(e);return p?dn.invalid(p):Ku(l,u,r,`format ${n.format}`,e,d)}static get DATE_SHORT(){return av}static get DATE_MED(){return eA}static get DATE_MED_WITH_WEEKDAY(){return Oz}static get DATE_FULL(){return tA}static get DATE_HUGE(){return nA}static get TIME_SIMPLE(){return rA}static get TIME_WITH_SECONDS(){return iA}static get TIME_WITH_SHORT_OFFSET(){return sA}static get TIME_WITH_LONG_OFFSET(){return oA}static get TIME_24_SIMPLE(){return aA}static get TIME_24_WITH_SECONDS(){return lA}static get TIME_24_WITH_SHORT_OFFSET(){return cA}static get TIME_24_WITH_LONG_OFFSET(){return uA}static get DATETIME_SHORT(){return dA}static get DATETIME_SHORT_WITH_SECONDS(){return fA}static get DATETIME_MED(){return pA}static get DATETIME_MED_WITH_SECONDS(){return hA}static get DATETIME_MED_WITH_WEEKDAY(){return Rz}static get DATETIME_FULL(){return mA}static get DATETIME_FULL_WITH_SECONDS(){return gA}static get DATETIME_HUGE(){return yA}static get DATETIME_HUGE_WITH_SECONDS(){return vA}}function dp(t){if(dn.isDateTime(t))return t;if(t&&t.valueOf&&ql(t.valueOf()))return dn.fromJSDate(t);if(t&&typeof t=="object")return dn.fromObject(t);throw new wi(`Unknown datetime argument: ${t}, of type ${typeof t}`)}function XA(t,e){return function(){return t.apply(e,arguments)}}const{toString:T6}=Object.prototype,{getPrototypeOf:I1}=Object,bb=(t=>e=>{const n=T6.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Fo=t=>(t=t.toLowerCase(),e=>bb(e)===t),xb=t=>e=>typeof e===t,{isArray:sf}=Array,ch=xb("undefined");function O6(t){return t!==null&&!ch(t)&&t.constructor!==null&&!ch(t.constructor)&&Rs(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const eP=Fo("ArrayBuffer");function R6(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&eP(t.buffer),e}const q6=xb("string"),Rs=xb("function"),tP=xb("number"),wb=t=>t!==null&&typeof t=="object",j6=t=>t===!0||t===!1,vy=t=>{if(bb(t)!=="object")return!1;const e=I1(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},A6=Fo("Date"),P6=Fo("File"),F6=Fo("Blob"),D6=Fo("FileList"),L6=t=>wb(t)&&Rs(t.pipe),M6=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Rs(t.append)&&((e=bb(t))==="formdata"||e==="object"&&Rs(t.toString)&&t.toString()==="[object FormData]"))},$6=Fo("URLSearchParams"),[B6,z6,W6,U6]=["ReadableStream","Request","Response","Headers"].map(Fo),V6=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function tm(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),sf(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let l;for(r=0;r<o;r++)l=s[r],e.call(null,t[l],l,t)}}function nP(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Bc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,rP=t=>!ch(t)&&t!==Bc;function sE(){const{caseless:t}=rP(this)&&this||{},e={},n=(r,i)=>{const s=t&&nP(e,i)||i;vy(e[s])&&vy(r)?e[s]=sE(e[s],r):vy(r)?e[s]=sE({},r):sf(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&tm(arguments[r],n);return e}const H6=(t,e,n,{allOwnKeys:r}={})=>(tm(e,(i,s)=>{n&&Rs(i)?t[s]=XA(i,n):t[s]=i},{allOwnKeys:r}),t),K6=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Q6=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},G6=(t,e,n,r)=>{let i,s,o;const l={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!l[o]&&(e[o]=t[o],l[o]=!0);t=n!==!1&&I1(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},J6=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Z6=t=>{if(!t)return null;if(sf(t))return t;let e=t.length;if(!tP(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Y6=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&I1(Uint8Array)),X6=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},eU=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},tU=Fo("HTMLFormElement"),nU=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),pT=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),rU=Fo("RegExp"),iP=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};tm(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},iU=t=>{iP(t,(e,n)=>{if(Rs(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Rs(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},sU=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return sf(t)?r(t):r(String(t).split(e)),n},oU=()=>{},aU=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,d_="abcdefghijklmnopqrstuvwxyz",hT="0123456789",sP={DIGIT:hT,ALPHA:d_,ALPHA_DIGIT:d_+d_.toUpperCase()+hT},lU=(t=16,e=sP.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function cU(t){return!!(t&&Rs(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const uU=t=>{const e=new Array(10),n=(r,i)=>{if(wb(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=sf(r)?[]:{};return tm(r,(o,l)=>{const u=n(o,i+1);!ch(u)&&(s[l]=u)}),e[i]=void 0,s}}return r};return n(t,0)},dU=Fo("AsyncFunction"),fU=t=>t&&(wb(t)||Rs(t))&&Rs(t.then)&&Rs(t.catch),oP=((t,e)=>t?setImmediate:e?((n,r)=>(Bc.addEventListener("message",({source:i,data:s})=>{i===Bc&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Bc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Rs(Bc.postMessage)),pU=typeof queueMicrotask<"u"?queueMicrotask.bind(Bc):typeof process<"u"&&process.nextTick||oP,Ye={isArray:sf,isArrayBuffer:eP,isBuffer:O6,isFormData:M6,isArrayBufferView:R6,isString:q6,isNumber:tP,isBoolean:j6,isObject:wb,isPlainObject:vy,isReadableStream:B6,isRequest:z6,isResponse:W6,isHeaders:U6,isUndefined:ch,isDate:A6,isFile:P6,isBlob:F6,isRegExp:rU,isFunction:Rs,isStream:L6,isURLSearchParams:$6,isTypedArray:Y6,isFileList:D6,forEach:tm,merge:sE,extend:H6,trim:V6,stripBOM:K6,inherits:Q6,toFlatObject:G6,kindOf:bb,kindOfTest:Fo,endsWith:J6,toArray:Z6,forEachEntry:X6,matchAll:eU,isHTMLForm:tU,hasOwnProperty:pT,hasOwnProp:pT,reduceDescriptors:iP,freezeMethods:iU,toObjectSet:sU,toCamelCase:nU,noop:oU,toFiniteNumber:aU,findKey:nP,global:Bc,isContextDefined:rP,ALPHABET:sP,generateString:lU,isSpecCompliantForm:cU,toJSONObject:uU,isAsyncFn:dU,isThenable:fU,setImmediate:oP,asap:pU};function bn(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Ye.inherits(bn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ye.toJSONObject(this.config),code:this.code,status:this.status}}});const aP=bn.prototype,lP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{lP[t]={value:t}});Object.defineProperties(bn,lP);Object.defineProperty(aP,"isAxiosError",{value:!0});bn.from=(t,e,n,r,i,s)=>{const o=Object.create(aP);return Ye.toFlatObject(t,o,function(u){return u!==Error.prototype},l=>l!=="isAxiosError"),bn.call(o,t.message,e,n,r,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const hU=null;function oE(t){return Ye.isPlainObject(t)||Ye.isArray(t)}function cP(t){return Ye.endsWith(t,"[]")?t.slice(0,-2):t}function mT(t,e,n){return t?t.concat(e).map(function(i,s){return i=cP(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function mU(t){return Ye.isArray(t)&&!t.some(oE)}const gU=Ye.toFlatObject(Ye,{},null,function(e){return/^is[A-Z]/.test(e)});function _b(t,e,n){if(!Ye.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Ye.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,I){return!Ye.isUndefined(I[E])});const r=n.metaTokens,i=n.visitor||p,s=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&Ye.isSpecCompliantForm(e);if(!Ye.isFunction(i))throw new TypeError("visitor must be a function");function d(_){if(_===null)return"";if(Ye.isDate(_))return _.toISOString();if(!u&&Ye.isBlob(_))throw new bn("Blob is not supported. Use a Buffer instead.");return Ye.isArrayBuffer(_)||Ye.isTypedArray(_)?u&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function p(_,E,I){let T=_;if(_&&!I&&typeof _=="object"){if(Ye.endsWith(E,"{}"))E=r?E:E.slice(0,-2),_=JSON.stringify(_);else if(Ye.isArray(_)&&mU(_)||(Ye.isFileList(_)||Ye.endsWith(E,"[]"))&&(T=Ye.toArray(_)))return E=cP(E),T.forEach(function(R,A){!(Ye.isUndefined(R)||R===null)&&e.append(o===!0?mT([E],A,s):o===null?E:E+"[]",d(R))}),!1}return oE(_)?!0:(e.append(mT(I,E,s),d(_)),!1)}const h=[],b=Object.assign(gU,{defaultVisitor:p,convertValue:d,isVisitable:oE});function x(_,E){if(!Ye.isUndefined(_)){if(h.indexOf(_)!==-1)throw Error("Circular reference detected in "+E.join("."));h.push(_),Ye.forEach(_,function(T,O){(!(Ye.isUndefined(T)||T===null)&&i.call(e,T,Ye.isString(O)?O.trim():O,E,b))===!0&&x(T,E?E.concat(O):[O])}),h.pop()}}if(!Ye.isObject(t))throw new TypeError("data must be an object");return x(t),e}function gT(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function C1(t,e){this._pairs=[],t&&_b(t,this,e)}const uP=C1.prototype;uP.append=function(e,n){this._pairs.push([e,n])};uP.toString=function(e){const n=e?function(r){return e.call(this,r,gT)}:gT;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function yU(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function dP(t,e,n){if(!e)return t;const r=n&&n.encode||yU;Ye.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=Ye.isURLSearchParams(e)?e.toString():new C1(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class yT{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ye.forEach(this.handlers,function(r){r!==null&&e(r)})}}const fP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},vU=typeof URLSearchParams<"u"?URLSearchParams:C1,bU=typeof FormData<"u"?FormData:null,xU=typeof Blob<"u"?Blob:null,wU={isBrowser:!0,classes:{URLSearchParams:vU,FormData:bU,Blob:xU},protocols:["http","https","file","blob","url","data"]},T1=typeof window<"u"&&typeof document<"u",aE=typeof navigator=="object"&&navigator||void 0,_U=T1&&(!aE||["ReactNative","NativeScript","NS"].indexOf(aE.product)<0),SU=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",EU=T1&&window.location.href||"http://localhost",NU=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:T1,hasStandardBrowserEnv:_U,hasStandardBrowserWebWorkerEnv:SU,navigator:aE,origin:EU},Symbol.toStringTag,{value:"Module"})),Ei={...NU,...wU};function kU(t,e){return _b(t,new Ei.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Ei.isNode&&Ye.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function IU(t){return Ye.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function CU(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function pP(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),u=s>=n.length;return o=!o&&Ye.isArray(i)?i.length:o,u?(Ye.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!l):((!i[o]||!Ye.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&Ye.isArray(i[o])&&(i[o]=CU(i[o])),!l)}if(Ye.isFormData(t)&&Ye.isFunction(t.entries)){const n={};return Ye.forEachEntry(t,(r,i)=>{e(IU(r),i,n,0)}),n}return null}function TU(t,e,n){if(Ye.isString(t))try{return(e||JSON.parse)(t),Ye.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const nm={transitional:fP,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=Ye.isObject(e);if(s&&Ye.isHTMLForm(e)&&(e=new FormData(e)),Ye.isFormData(e))return i?JSON.stringify(pP(e)):e;if(Ye.isArrayBuffer(e)||Ye.isBuffer(e)||Ye.isStream(e)||Ye.isFile(e)||Ye.isBlob(e)||Ye.isReadableStream(e))return e;if(Ye.isArrayBufferView(e))return e.buffer;if(Ye.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return kU(e,this.formSerializer).toString();if((l=Ye.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return _b(l?{"files[]":e}:e,u&&new u,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),TU(e)):e}],transformResponse:[function(e){const n=this.transitional||nm.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Ye.isResponse(e)||Ye.isReadableStream(e))return e;if(e&&Ye.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(l){if(o)throw l.name==="SyntaxError"?bn.from(l,bn.ERR_BAD_RESPONSE,this,null,this.response):l}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ei.classes.FormData,Blob:Ei.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ye.forEach(["delete","get","head","post","put","patch"],t=>{nm.headers[t]={}});const OU=Ye.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),RU=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&OU[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},vT=Symbol("internals");function fp(t){return t&&String(t).trim().toLowerCase()}function by(t){return t===!1||t==null?t:Ye.isArray(t)?t.map(by):String(t)}function qU(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const jU=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function f_(t,e,n,r,i){if(Ye.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!Ye.isString(e)){if(Ye.isString(r))return e.indexOf(r)!==-1;if(Ye.isRegExp(r))return r.test(e)}}function AU(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function PU(t,e){const n=Ye.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let ds=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(l,u,d){const p=fp(u);if(!p)throw new Error("header name must be a non-empty string");const h=Ye.findKey(i,p);(!h||i[h]===void 0||d===!0||d===void 0&&i[h]!==!1)&&(i[h||u]=by(l))}const o=(l,u)=>Ye.forEach(l,(d,p)=>s(d,p,u));if(Ye.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(Ye.isString(e)&&(e=e.trim())&&!jU(e))o(RU(e),n);else if(Ye.isHeaders(e))for(const[l,u]of e.entries())s(u,l,r);else e!=null&&s(n,e,r);return this}get(e,n){if(e=fp(e),e){const r=Ye.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return qU(i);if(Ye.isFunction(n))return n.call(this,i,r);if(Ye.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=fp(e),e){const r=Ye.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||f_(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=fp(o),o){const l=Ye.findKey(r,o);l&&(!n||f_(r,r[l],l,n))&&(delete r[l],i=!0)}}return Ye.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||f_(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return Ye.forEach(this,(i,s)=>{const o=Ye.findKey(r,s);if(o){n[o]=by(i),delete n[s];return}const l=e?AU(s):String(s).trim();l!==s&&delete n[s],n[l]=by(i),r[l]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Ye.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&Ye.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[vT]=this[vT]={accessors:{}}).accessors,i=this.prototype;function s(o){const l=fp(o);r[l]||(PU(i,o),r[l]=!0)}return Ye.isArray(e)?e.forEach(s):s(e),this}};ds.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ye.reduceDescriptors(ds.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Ye.freezeMethods(ds);function p_(t,e){const n=this||nm,r=e||n,i=ds.from(r.headers);let s=r.data;return Ye.forEach(t,function(l){s=l.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function hP(t){return!!(t&&t.__CANCEL__)}function of(t,e,n){bn.call(this,t??"canceled",bn.ERR_CANCELED,e,n),this.name="CanceledError"}Ye.inherits(of,bn,{__CANCEL__:!0});function mP(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new bn("Request failed with status code "+n.status,[bn.ERR_BAD_REQUEST,bn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function FU(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function DU(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(u){const d=Date.now(),p=r[s];o||(o=d),n[i]=u,r[i]=d;let h=s,b=0;for(;h!==i;)b+=n[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),d-o<e)return;const x=p&&d-p;return x?Math.round(b*1e3/x):void 0}}function LU(t,e){let n=0,r=1e3/e,i,s;const o=(d,p=Date.now())=>{n=p,i=null,s&&(clearTimeout(s),s=null),t.apply(null,d)};return[(...d)=>{const p=Date.now(),h=p-n;h>=r?o(d,p):(i=d,s||(s=setTimeout(()=>{s=null,o(i)},r-h)))},()=>i&&o(i)]}const dv=(t,e,n=3)=>{let r=0;const i=DU(50,250);return LU(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,u=o-r,d=i(u),p=o<=l;r=o;const h={loaded:o,total:l,progress:l?o/l:void 0,bytes:u,rate:d||void 0,estimated:d&&l&&p?(l-o)/d:void 0,event:s,lengthComputable:l!=null,[e?"download":"upload"]:!0};t(h)},n)},bT=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},xT=t=>(...e)=>Ye.asap(()=>t(...e)),MU=Ei.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Ei.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Ei.origin),Ei.navigator&&/(msie|trident)/i.test(Ei.navigator.userAgent)):()=>!0,$U=Ei.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const o=[t+"="+encodeURIComponent(e)];Ye.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Ye.isString(r)&&o.push("path="+r),Ye.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function BU(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function zU(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function gP(t,e){return t&&!BU(e)?zU(t,e):e}const wT=t=>t instanceof ds?{...t}:t;function Yc(t,e){e=e||{};const n={};function r(d,p,h,b){return Ye.isPlainObject(d)&&Ye.isPlainObject(p)?Ye.merge.call({caseless:b},d,p):Ye.isPlainObject(p)?Ye.merge({},p):Ye.isArray(p)?p.slice():p}function i(d,p,h,b){if(Ye.isUndefined(p)){if(!Ye.isUndefined(d))return r(void 0,d,h,b)}else return r(d,p,h,b)}function s(d,p){if(!Ye.isUndefined(p))return r(void 0,p)}function o(d,p){if(Ye.isUndefined(p)){if(!Ye.isUndefined(d))return r(void 0,d)}else return r(void 0,p)}function l(d,p,h){if(h in e)return r(d,p);if(h in t)return r(void 0,d)}const u={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(d,p,h)=>i(wT(d),wT(p),h,!0)};return Ye.forEach(Object.keys(Object.assign({},t,e)),function(p){const h=u[p]||i,b=h(t[p],e[p],p);Ye.isUndefined(b)&&h!==l||(n[p]=b)}),n}const yP=t=>{const e=Yc({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:l}=e;e.headers=o=ds.from(o),e.url=dP(gP(e.baseURL,e.url),t.params,t.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let u;if(Ye.isFormData(n)){if(Ei.hasStandardBrowserEnv||Ei.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((u=o.getContentType())!==!1){const[d,...p]=u?u.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([d||"multipart/form-data",...p].join("; "))}}if(Ei.hasStandardBrowserEnv&&(r&&Ye.isFunction(r)&&(r=r(e)),r||r!==!1&&MU(e.url))){const d=i&&s&&$U.read(s);d&&o.set(i,d)}return e},WU=typeof XMLHttpRequest<"u",UU=WU&&function(t){return new Promise(function(n,r){const i=yP(t);let s=i.data;const o=ds.from(i.headers).normalize();let{responseType:l,onUploadProgress:u,onDownloadProgress:d}=i,p,h,b,x,_;function E(){x&&x(),_&&_(),i.cancelToken&&i.cancelToken.unsubscribe(p),i.signal&&i.signal.removeEventListener("abort",p)}let I=new XMLHttpRequest;I.open(i.method.toUpperCase(),i.url,!0),I.timeout=i.timeout;function T(){if(!I)return;const R=ds.from("getAllResponseHeaders"in I&&I.getAllResponseHeaders()),D={data:!l||l==="text"||l==="json"?I.responseText:I.response,status:I.status,statusText:I.statusText,headers:R,config:t,request:I};mP(function(z){n(z),E()},function(z){r(z),E()},D),I=null}"onloadend"in I?I.onloadend=T:I.onreadystatechange=function(){!I||I.readyState!==4||I.status===0&&!(I.responseURL&&I.responseURL.indexOf("file:")===0)||setTimeout(T)},I.onabort=function(){I&&(r(new bn("Request aborted",bn.ECONNABORTED,t,I)),I=null)},I.onerror=function(){r(new bn("Network Error",bn.ERR_NETWORK,t,I)),I=null},I.ontimeout=function(){let A=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const D=i.transitional||fP;i.timeoutErrorMessage&&(A=i.timeoutErrorMessage),r(new bn(A,D.clarifyTimeoutError?bn.ETIMEDOUT:bn.ECONNABORTED,t,I)),I=null},s===void 0&&o.setContentType(null),"setRequestHeader"in I&&Ye.forEach(o.toJSON(),function(A,D){I.setRequestHeader(D,A)}),Ye.isUndefined(i.withCredentials)||(I.withCredentials=!!i.withCredentials),l&&l!=="json"&&(I.responseType=i.responseType),d&&([b,_]=dv(d,!0),I.addEventListener("progress",b)),u&&I.upload&&([h,x]=dv(u),I.upload.addEventListener("progress",h),I.upload.addEventListener("loadend",x)),(i.cancelToken||i.signal)&&(p=R=>{I&&(r(!R||R.type?new of(null,t,I):R),I.abort(),I=null)},i.cancelToken&&i.cancelToken.subscribe(p),i.signal&&(i.signal.aborted?p():i.signal.addEventListener("abort",p)));const O=FU(i.url);if(O&&Ei.protocols.indexOf(O)===-1){r(new bn("Unsupported protocol "+O+":",bn.ERR_BAD_REQUEST,t));return}I.send(s||null)})},VU=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(d){if(!i){i=!0,l();const p=d instanceof Error?d:this.reason;r.abort(p instanceof bn?p:new of(p instanceof Error?p.message:p))}};let o=e&&setTimeout(()=>{o=null,s(new bn(`timeout ${e} of ms exceeded`,bn.ETIMEDOUT))},e);const l=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(s):d.removeEventListener("abort",s)}),t=null)};t.forEach(d=>d.addEventListener("abort",s));const{signal:u}=r;return u.unsubscribe=()=>Ye.asap(l),u}},HU=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},KU=async function*(t,e){for await(const n of QU(t))yield*HU(n,e)},QU=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},_T=(t,e,n,r)=>{const i=KU(t,e);let s=0,o,l=u=>{o||(o=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:d,value:p}=await i.next();if(d){l(),u.close();return}let h=p.byteLength;if(n){let b=s+=h;n(b)}u.enqueue(new Uint8Array(p))}catch(d){throw l(d),d}},cancel(u){return l(u),i.return()}},{highWaterMark:2})},Sb=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",vP=Sb&&typeof ReadableStream=="function",GU=Sb&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),bP=(t,...e)=>{try{return!!t(...e)}catch{return!1}},JU=vP&&bP(()=>{let t=!1;const e=new Request(Ei.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),ST=64*1024,lE=vP&&bP(()=>Ye.isReadableStream(new Response("").body)),fv={stream:lE&&(t=>t.body)};Sb&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!fv[e]&&(fv[e]=Ye.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new bn(`Response type '${e}' is not supported`,bn.ERR_NOT_SUPPORT,r)})})})(new Response);const ZU=async t=>{if(t==null)return 0;if(Ye.isBlob(t))return t.size;if(Ye.isSpecCompliantForm(t))return(await new Request(Ei.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Ye.isArrayBufferView(t)||Ye.isArrayBuffer(t))return t.byteLength;if(Ye.isURLSearchParams(t)&&(t=t+""),Ye.isString(t))return(await GU(t)).byteLength},YU=async(t,e)=>{const n=Ye.toFiniteNumber(t.getContentLength());return n??ZU(e)},XU=Sb&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:l,onUploadProgress:u,responseType:d,headers:p,withCredentials:h="same-origin",fetchOptions:b}=yP(t);d=d?(d+"").toLowerCase():"text";let x=VU([i,s&&s.toAbortSignal()],o),_;const E=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let I;try{if(u&&JU&&n!=="get"&&n!=="head"&&(I=await YU(p,r))!==0){let D=new Request(e,{method:"POST",body:r,duplex:"half"}),L;if(Ye.isFormData(r)&&(L=D.headers.get("content-type"))&&p.setContentType(L),D.body){const[z,P]=bT(I,dv(xT(u)));r=_T(D.body,ST,z,P)}}Ye.isString(h)||(h=h?"include":"omit");const T="credentials"in Request.prototype;_=new Request(e,{...b,signal:x,method:n.toUpperCase(),headers:p.normalize().toJSON(),body:r,duplex:"half",credentials:T?h:void 0});let O=await fetch(_);const R=lE&&(d==="stream"||d==="response");if(lE&&(l||R&&E)){const D={};["status","statusText","headers"].forEach(q=>{D[q]=O[q]});const L=Ye.toFiniteNumber(O.headers.get("content-length")),[z,P]=l&&bT(L,dv(xT(l),!0))||[];O=new Response(_T(O.body,ST,z,()=>{P&&P(),E&&E()}),D)}d=d||"text";let A=await fv[Ye.findKey(fv,d)||"text"](O,t);return!R&&E&&E(),await new Promise((D,L)=>{mP(D,L,{data:A,headers:ds.from(O.headers),status:O.status,statusText:O.statusText,config:t,request:_})})}catch(T){throw E&&E(),T&&T.name==="TypeError"&&/fetch/i.test(T.message)?Object.assign(new bn("Network Error",bn.ERR_NETWORK,t,_),{cause:T.cause||T}):bn.from(T,T&&T.code,t,_)}}),cE={http:hU,xhr:UU,fetch:XU};Ye.forEach(cE,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const ET=t=>`- ${t}`,eV=t=>Ye.isFunction(t)||t===null||t===!1,xP={getAdapter:t=>{t=Ye.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let o;if(r=n,!eV(n)&&(r=cE[(o=String(n)).toLowerCase()],r===void 0))throw new bn(`Unknown adapter '${o}'`);if(r)break;i[o||"#"+s]=r}if(!r){const s=Object.entries(i).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(ET).join(`
`):" "+ET(s[0]):"as no adapter specified";throw new bn("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:cE};function h_(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new of(null,t)}function NT(t){return h_(t),t.headers=ds.from(t.headers),t.data=p_.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),xP.getAdapter(t.adapter||nm.adapter)(t).then(function(r){return h_(t),r.data=p_.call(t,t.transformResponse,r),r.headers=ds.from(r.headers),r},function(r){return hP(r)||(h_(t),r&&r.response&&(r.response.data=p_.call(t,t.transformResponse,r.response),r.response.headers=ds.from(r.response.headers))),Promise.reject(r)})}const wP="1.7.9",Eb={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Eb[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const kT={};Eb.transitional=function(e,n,r){function i(s,o){return"[Axios v"+wP+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,l)=>{if(e===!1)throw new bn(i(o," has been removed"+(n?" in "+n:"")),bn.ERR_DEPRECATED);return n&&!kT[o]&&(kT[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,l):!0}};Eb.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function tV(t,e,n){if(typeof t!="object")throw new bn("options must be an object",bn.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const l=t[s],u=l===void 0||o(l,s,t);if(u!==!0)throw new bn("option "+s+" must be "+u,bn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new bn("Unknown option "+s,bn.ERR_BAD_OPTION)}}const xy={assertOptions:tV,validators:Eb},Wo=xy.validators;let Hc=class{constructor(e){this.defaults=e,this.interceptors={request:new yT,response:new yT}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Yc(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&xy.assertOptions(r,{silentJSONParsing:Wo.transitional(Wo.boolean),forcedJSONParsing:Wo.transitional(Wo.boolean),clarifyTimeoutError:Wo.transitional(Wo.boolean)},!1),i!=null&&(Ye.isFunction(i)?n.paramsSerializer={serialize:i}:xy.assertOptions(i,{encode:Wo.function,serialize:Wo.function},!0)),xy.assertOptions(n,{baseUrl:Wo.spelling("baseURL"),withXsrfToken:Wo.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&Ye.merge(s.common,s[n.method]);s&&Ye.forEach(["delete","get","head","post","put","patch","common"],_=>{delete s[_]}),n.headers=ds.concat(o,s);const l=[];let u=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(n)===!1||(u=u&&E.synchronous,l.unshift(E.fulfilled,E.rejected))});const d=[];this.interceptors.response.forEach(function(E){d.push(E.fulfilled,E.rejected)});let p,h=0,b;if(!u){const _=[NT.bind(this),void 0];for(_.unshift.apply(_,l),_.push.apply(_,d),b=_.length,p=Promise.resolve(n);h<b;)p=p.then(_[h++],_[h++]);return p}b=l.length;let x=n;for(h=0;h<b;){const _=l[h++],E=l[h++];try{x=_(x)}catch(I){E.call(this,I);break}}try{p=NT.call(this,x)}catch(_){return Promise.reject(_)}for(h=0,b=d.length;h<b;)p=p.then(d[h++],d[h++]);return p}getUri(e){e=Yc(this.defaults,e);const n=gP(e.baseURL,e.url);return dP(n,e.params,e.paramsSerializer)}};Ye.forEach(["delete","get","head","options"],function(e){Hc.prototype[e]=function(n,r){return this.request(Yc(r||{},{method:e,url:n,data:(r||{}).data}))}});Ye.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,l){return this.request(Yc(l||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Hc.prototype[e]=n(),Hc.prototype[e+"Form"]=n(!0)});let nV=class _P{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(l=>{r.subscribe(l),s=l}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,l){r.reason||(r.reason=new of(s,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new _P(function(i){e=i}),cancel:e}}};function rV(t){return function(n){return t.apply(null,n)}}function iV(t){return Ye.isObject(t)&&t.isAxiosError===!0}const uE={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(uE).forEach(([t,e])=>{uE[e]=t});function SP(t){const e=new Hc(t),n=XA(Hc.prototype.request,e);return Ye.extend(n,Hc.prototype,e,{allOwnKeys:!0}),Ye.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return SP(Yc(t,i))},n}const Ur=SP(nm);Ur.Axios=Hc;Ur.CanceledError=of;Ur.CancelToken=nV;Ur.isCancel=hP;Ur.VERSION=wP;Ur.toFormData=_b;Ur.AxiosError=bn;Ur.Cancel=Ur.CanceledError;Ur.all=function(e){return Promise.all(e)};Ur.spread=rV;Ur.isAxiosError=iV;Ur.mergeConfig=Yc;Ur.AxiosHeaders=ds;Ur.formToJSON=t=>pP(Ye.isHTMLForm(t)?new FormData(t):t);Ur.getAdapter=xP.getAdapter;Ur.HttpStatusCode=uE;Ur.default=Ur;const{Axios:_le,AxiosError:sV,CanceledError:Sle,isCancel:Ele,CancelToken:Nle,VERSION:kle,all:Ile,Cancel:Cle,isAxiosError:Tle,spread:Ole,toFormData:Rle,AxiosHeaders:qle,HttpStatusCode:jle,formToJSON:Ale,getAdapter:Ple,mergeConfig:Fle}=Ur,O1=({error:t,schema:e,onError:n})=>{if(t instanceof sV){const i=e.safeParse(t.response?.data);return i.success&&n({error:t,data:i.data}),i.success}return!1};var m_,IT;function oV(){if(IT)return m_;IT=1;function t(r){this.queue=[],this.timeslotRequests=0,this.interceptors={request:null,response:null},this.handleRequest=this.handleRequest.bind(this),this.handleResponse=this.handleResponse.bind(this),this.enable(r)}t.prototype.getMaxRPS=function(){var r=this.perMilliseconds/1e3;return this.maxRequests/r},t.prototype.getQueue=function(){return this.queue},t.prototype.setMaxRPS=function(r){this.setRateLimitOptions({maxRequests:r,perMilliseconds:1e3})},t.prototype.setRateLimitOptions=function(r){r.maxRPS?this.setMaxRPS(r.maxRPS):(this.perMilliseconds=r.perMilliseconds,this.maxRequests=r.maxRequests)},t.prototype.enable=function(r){function i(s){return Promise.reject(s)}this.interceptors.request=r.interceptors.request.use(this.handleRequest,i),this.interceptors.response=r.interceptors.response.use(this.handleResponse,i)};function e(r){r.cancelToken&&r.cancelToken.throwIfRequested()}t.prototype.handleRequest=function(r){return new Promise(function(i,s){this.push({resolve:function(){try{e(r)}catch(o){return s(o),!1}return i(r),!0}})}.bind(this))},t.prototype.handleResponse=function(r){return this.shift(),r},t.prototype.push=function(r){this.queue.push(r),this.shiftInitial()},t.prototype.shiftInitial=function(){setTimeout(function(){return this.shift()}.bind(this),0)},t.prototype.shift=function(){if(this.queue.length){if(this.timeslotRequests===this.maxRequests){this.timeoutId&&typeof this.timeoutId.ref=="function"&&this.timeoutId.ref();return}var r=this.queue.shift(),i=r.resolve();if(this.timeslotRequests===0&&(this.timeoutId=setTimeout(function(){this.timeslotRequests=0,this.shift()}.bind(this),this.perMilliseconds),typeof this.timeoutId.unref=="function"&&this.queue.length===0&&this.timeoutId.unref()),!i){this.shift();return}this.timeslotRequests+=1}};function n(r,i){var s=new t(r);return s.setRateLimitOptions(i),r.getQueue=t.prototype.getQueue.bind(s),r.getMaxRPS=t.prototype.getMaxRPS.bind(s),r.setMaxRPS=t.prototype.setMaxRPS.bind(s),r.setRateLimitOptions=t.prototype.setRateLimitOptions.bind(s),r}return m_=n,m_}var aV=oV();const lV=ao(aV),cV=({instance:t,limit:e}={})=>lV(t||Ur,e||{maxRequests:5,perMilliseconds:100}),R1="-",uV=t=>{const e=fV(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(R1);return l[0]===""&&l.length!==1&&l.shift(),EP(l,e)||dV(o)},getConflictingClassGroupIds:(o,l)=>{const u=n[o]||[];return l&&r[o]?[...u,...r[o]]:u}}},EP=(t,e)=>{if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?EP(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(R1);return e.validators.find(({validator:o})=>o(s))?.classGroupId},CT=/^\[(.+)\]$/,dV=t=>{if(CT.test(t)){const e=CT.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},fV=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return hV(Object.entries(t.classGroups),n).forEach(([s,o])=>{dE(o,r,s,e)}),r},dE=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:TT(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(pV(i)){dE(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{dE(o,TT(e,s),n,r)})})},TT=(t,e)=>{let n=t;return e.split(R1).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},pV=t=>t.isThemeGetter,hV=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[e+o,l])):s);return[n,i]}):t,mV=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},NP="!",gV=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=l=>{const u=[];let d=0,p=0,h;for(let I=0;I<l.length;I++){let T=l[I];if(d===0){if(T===i&&(r||l.slice(I,I+s)===e)){u.push(l.slice(p,I)),p=I+s;continue}if(T==="/"){h=I;continue}}T==="["?d++:T==="]"&&d--}const b=u.length===0?l:l.substring(p),x=b.startsWith(NP),_=x?b.substring(1):b,E=h&&h>p?h-p:void 0;return{modifiers:u,hasImportantModifier:x,baseClassName:_,maybePostfixModifierPosition:E}};return n?l=>n({className:l,parseClassName:o}):o},yV=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},vV=t=>({cache:mV(t.cacheSize),parseClassName:gV(t),...uV(t)}),bV=/\s+/,xV=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(bV);let l="";for(let u=o.length-1;u>=0;u-=1){const d=o[u],{modifiers:p,hasImportantModifier:h,baseClassName:b,maybePostfixModifierPosition:x}=n(d);let _=!!x,E=r(_?b.substring(0,x):b);if(!E){if(!_){l=d+(l.length>0?" "+l:l);continue}if(E=r(b),!E){l=d+(l.length>0?" "+l:l);continue}_=!1}const I=yV(p).join(":"),T=h?I+NP:I,O=T+E;if(s.includes(O))continue;s.push(O);const R=i(E,_);for(let A=0;A<R.length;++A){const D=R[A];s.push(T+D)}l=d+(l.length>0?" "+l:l)}return l};function wV(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=kP(e))&&(r&&(r+=" "),r+=n);return r}const kP=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=kP(t[r]))&&(n&&(n+=" "),n+=e);return n};function _V(t,...e){let n,r,i,s=o;function o(u){const d=e.reduce((p,h)=>h(p),t());return n=vV(d),r=n.cache.get,i=n.cache.set,s=l,l(u)}function l(u){const d=r(u);if(d)return d;const p=xV(u,n);return i(u,p),p}return function(){return s(wV.apply(null,arguments))}}const hr=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},IP=/^\[(?:([a-z-]+):)?(.+)\]$/i,SV=/^\d+\/\d+$/,EV=new Set(["px","full","screen"]),NV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,kV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,IV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,CV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,TV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_a=t=>wd(t)||EV.has(t)||SV.test(t),pl=t=>af(t,"length",DV),wd=t=>!!t&&!Number.isNaN(Number(t)),g_=t=>af(t,"number",wd),pp=t=>!!t&&Number.isInteger(Number(t)),OV=t=>t.endsWith("%")&&wd(t.slice(0,-1)),wn=t=>IP.test(t),hl=t=>NV.test(t),RV=new Set(["length","size","percentage"]),qV=t=>af(t,RV,CP),jV=t=>af(t,"position",CP),AV=new Set(["image","url"]),PV=t=>af(t,AV,MV),FV=t=>af(t,"",LV),hp=()=>!0,af=(t,e,n)=>{const r=IP.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},DV=t=>kV.test(t)&&!IV.test(t),CP=()=>!1,LV=t=>CV.test(t),MV=t=>TV.test(t),$V=()=>{const t=hr("colors"),e=hr("spacing"),n=hr("blur"),r=hr("brightness"),i=hr("borderColor"),s=hr("borderRadius"),o=hr("borderSpacing"),l=hr("borderWidth"),u=hr("contrast"),d=hr("grayscale"),p=hr("hueRotate"),h=hr("invert"),b=hr("gap"),x=hr("gradientColorStops"),_=hr("gradientColorStopPositions"),E=hr("inset"),I=hr("margin"),T=hr("opacity"),O=hr("padding"),R=hr("saturate"),A=hr("scale"),D=hr("sepia"),L=hr("skew"),z=hr("space"),P=hr("translate"),q=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",wn,e],U=()=>[wn,e],V=()=>["",_a,pl],B=()=>["auto",wd,wn],te=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Z=()=>["solid","dashed","dotted","double","none"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],se=()=>["start","end","center","between","around","evenly","stretch"],ne=()=>["","0",wn],oe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[wd,wn];return{cacheSize:500,separator:":",theme:{colors:[hp],spacing:[_a,pl],blur:["none","",hl,wn],brightness:X(),borderColor:[t],borderRadius:["none","","full",hl,wn],borderSpacing:U(),borderWidth:V(),contrast:X(),grayscale:ne(),hueRotate:X(),invert:ne(),gap:U(),gradientColorStops:[t],gradientColorStopPositions:[OV,pl],inset:F(),margin:F(),opacity:X(),padding:U(),saturate:X(),scale:X(),sepia:ne(),skew:X(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",wn]}],container:["container"],columns:[{columns:[hl]}],"break-after":[{"break-after":oe()}],"break-before":[{"break-before":oe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...te(),wn]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[E]}],"inset-x":[{"inset-x":[E]}],"inset-y":[{"inset-y":[E]}],start:[{start:[E]}],end:[{end:[E]}],top:[{top:[E]}],right:[{right:[E]}],bottom:[{bottom:[E]}],left:[{left:[E]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",pp,wn]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",wn]}],grow:[{grow:ne()}],shrink:[{shrink:ne()}],order:[{order:["first","last","none",pp,wn]}],"grid-cols":[{"grid-cols":[hp]}],"col-start-end":[{col:["auto",{span:["full",pp,wn]},wn]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[hp]}],"row-start-end":[{row:["auto",{span:[pp,wn]},wn]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",wn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",wn]}],gap:[{gap:[b]}],"gap-x":[{"gap-x":[b]}],"gap-y":[{"gap-y":[b]}],"justify-content":[{justify:["normal",...se()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...se(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...se(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[O]}],px:[{px:[O]}],py:[{py:[O]}],ps:[{ps:[O]}],pe:[{pe:[O]}],pt:[{pt:[O]}],pr:[{pr:[O]}],pb:[{pb:[O]}],pl:[{pl:[O]}],m:[{m:[I]}],mx:[{mx:[I]}],my:[{my:[I]}],ms:[{ms:[I]}],me:[{me:[I]}],mt:[{mt:[I]}],mr:[{mr:[I]}],mb:[{mb:[I]}],ml:[{ml:[I]}],"space-x":[{"space-x":[z]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[z]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",wn,e]}],"min-w":[{"min-w":[wn,e,"min","max","fit"]}],"max-w":[{"max-w":[wn,e,"none","full","min","max","fit","prose",{screen:[hl]},hl]}],h:[{h:[wn,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[wn,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[wn,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[wn,e,"auto","min","max","fit"]}],"font-size":[{text:["base",hl,pl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",g_]}],"font-family":[{font:[hp]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",wn]}],"line-clamp":[{"line-clamp":["none",wd,g_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",_a,wn]}],"list-image":[{"list-image":["none",wn]}],"list-style-type":[{list:["none","disc","decimal",wn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[T]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[T]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",_a,pl]}],"underline-offset":[{"underline-offset":["auto",_a,wn]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",wn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",wn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[T]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...te(),jV]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",qV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},PV]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[T]}],"border-style":[{border:[...Z(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[T]}],"divide-style":[{divide:Z()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Z()]}],"outline-offset":[{"outline-offset":[_a,wn]}],"outline-w":[{outline:[_a,pl]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[T]}],"ring-offset-w":[{"ring-offset":[_a,pl]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",hl,FV]}],"shadow-color":[{shadow:[hp]}],opacity:[{opacity:[T]}],"mix-blend":[{"mix-blend":[...le(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":le()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",hl,wn]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[p]}],invert:[{invert:[h]}],saturate:[{saturate:[R]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[p]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[T]}],"backdrop-saturate":[{"backdrop-saturate":[R]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",wn]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",wn]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",wn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[pp,wn]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",wn]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",wn]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",wn]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[_a,pl,g_]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},TP=_V($V),fE=new Proxy(()=>fE,{get:()=>fE});function yn({use:t,slot:e,variant:n,match:r=[],defaults:i}){return({css:s,...o}={})=>({slots:new Proxy({},{get:(l,u)=>({css:d,...p}={})=>{const h=[],b=t,x={...b?.()?.config.defaults,...i,...o,...p};h.push(b?.(x)?.slots[u]?.(x)),h.push(Array.isArray(e[u])?e[u]:[e[u]]);for(const[_,E]of Object.entries(x)){const I=n[_]?.[E];I&&h.push(I)}for(const _ of r)Object.entries(_.if).every(([E,I])=>I===x[E])&&h.push(_.then?.[u]);return h.push(s?.[u]),h.push(d),TP(h)}}),config:{defaults:{...t?.()?.config.defaults,...i},values:{...t?.()?.config.defaults,...i,...o}},type:fE()})}const Yn=TP;var y_,OT;function OP(){return OT||(OT=1,y_=Object),y_}var v_,RT;function BV(){return RT||(RT=1,v_=Error),v_}var b_,qT;function zV(){return qT||(qT=1,b_=EvalError),b_}var x_,jT;function WV(){return jT||(jT=1,x_=RangeError),x_}var w_,AT;function UV(){return AT||(AT=1,w_=ReferenceError),w_}var __,PT;function VV(){return PT||(PT=1,__=SyntaxError),__}var S_,FT;function RP(){return FT||(FT=1,S_=TypeError),S_}var E_,DT;function HV(){return DT||(DT=1,E_=URIError),E_}var N_,LT;function KV(){return LT||(LT=1,N_=Math.abs),N_}var k_,MT;function QV(){return MT||(MT=1,k_=Math.floor),k_}var I_,$T;function GV(){return $T||($T=1,I_=Math.max),I_}var C_,BT;function JV(){return BT||(BT=1,C_=Math.min),C_}var T_,zT;function ZV(){return zT||(zT=1,T_=Math.pow),T_}var O_,WT;function YV(){return WT||(WT=1,O_=Math.round),O_}var R_,UT;function XV(){return UT||(UT=1,R_=Number.isNaN||function(e){return e!==e}),R_}var q_,VT;function e5(){if(VT)return q_;VT=1;var t=XV();return q_=function(n){return t(n)||n===0?n:n<0?-1:1},q_}var j_,HT;function t5(){return HT||(HT=1,j_=Object.getOwnPropertyDescriptor),j_}var A_,KT;function qP(){if(KT)return A_;KT=1;var t=t5();if(t)try{t([],"length")}catch{t=null}return A_=t,A_}var P_,QT;function n5(){if(QT)return P_;QT=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return P_=t,P_}var F_,GT;function jP(){return GT||(GT=1,F_=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),r=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[n]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(e,n);if(l.value!==i||l.enumerable!==!0)return!1}return!0}),F_}var D_,JT;function r5(){if(JT)return D_;JT=1;var t=typeof Symbol<"u"&&Symbol,e=jP();return D_=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},D_}var L_,ZT;function AP(){return ZT||(ZT=1,L_=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),L_}var M_,YT;function PP(){if(YT)return M_;YT=1;var t=OP();return M_=t.getPrototypeOf||null,M_}var $_,XT;function i5(){if(XT)return $_;XT=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,n=Math.max,r="[object Function]",i=function(u,d){for(var p=[],h=0;h<u.length;h+=1)p[h]=u[h];for(var b=0;b<d.length;b+=1)p[b+u.length]=d[b];return p},s=function(u,d){for(var p=[],h=d,b=0;h<u.length;h+=1,b+=1)p[b]=u[h];return p},o=function(l,u){for(var d="",p=0;p<l.length;p+=1)d+=l[p],p+1<l.length&&(d+=u);return d};return $_=function(u){var d=this;if(typeof d!="function"||e.apply(d)!==r)throw new TypeError(t+d);for(var p=s(arguments,1),h,b=function(){if(this instanceof h){var T=d.apply(this,i(p,arguments));return Object(T)===T?T:this}return d.apply(u,i(p,arguments))},x=n(0,d.length-p.length),_=[],E=0;E<x;E++)_[E]="$"+E;if(h=Function("binder","return function ("+o(_,",")+"){ return binder.apply(this,arguments); }")(b),d.prototype){var I=function(){};I.prototype=d.prototype,h.prototype=new I,I.prototype=null}return h},$_}var B_,eO;function Nb(){if(eO)return B_;eO=1;var t=i5();return B_=Function.prototype.bind||t,B_}var z_,tO;function q1(){return tO||(tO=1,z_=Function.prototype.call),z_}var W_,nO;function FP(){return nO||(nO=1,W_=Function.prototype.apply),W_}var U_,rO;function s5(){return rO||(rO=1,U_=typeof Reflect<"u"&&Reflect&&Reflect.apply),U_}var V_,iO;function o5(){if(iO)return V_;iO=1;var t=Nb(),e=FP(),n=q1(),r=s5();return V_=r||t.call(n,e),V_}var H_,sO;function DP(){if(sO)return H_;sO=1;var t=Nb(),e=RP(),n=q1(),r=o5();return H_=function(s){if(s.length<1||typeof s[0]!="function")throw new e("a function is required");return r(t,n,s)},H_}var K_,oO;function a5(){if(oO)return K_;oO=1;var t=DP(),e=qP(),n;try{n=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var r=!!n&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return K_=r&&typeof r.get=="function"?t([r.get]):typeof s=="function"?function(l){return s(l==null?l:i(l))}:!1,K_}var Q_,aO;function l5(){if(aO)return Q_;aO=1;var t=AP(),e=PP(),n=a5();return Q_=t?function(i){return t(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:n?function(i){return n(i)}:null,Q_}var G_,lO;function c5(){if(lO)return G_;lO=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,n=Nb();return G_=n.call(t,e),G_}var J_,cO;function u5(){if(cO)return J_;cO=1;var t,e=OP(),n=BV(),r=zV(),i=WV(),s=UV(),o=VV(),l=RP(),u=HV(),d=KV(),p=QV(),h=GV(),b=JV(),x=ZV(),_=YV(),E=e5(),I=Function,T=function(De){try{return I('"use strict"; return ('+De+").constructor;")()}catch{}},O=qP(),R=n5(),A=function(){throw new l},D=O?function(){try{return arguments.callee,A}catch{try{return O(arguments,"callee").get}catch{return A}}}():A,L=r5()(),z=l5(),P=PP(),q=AP(),M=FP(),F=q1(),U={},V=typeof Uint8Array>"u"||!z?t:z(Uint8Array),B={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":L&&z?z([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":U,"%AsyncGenerator%":U,"%AsyncGeneratorFunction%":U,"%AsyncIteratorPrototype%":U,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":r,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":I,"%GeneratorFunction%":U,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":L&&z?z(z([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!L||!z?t:z(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":O,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":i,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!L||!z?t:z(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":L&&z?z(""[Symbol.iterator]()):t,"%Symbol%":L?Symbol:t,"%SyntaxError%":o,"%ThrowTypeError%":D,"%TypedArray%":V,"%TypeError%":l,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":u,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":F,"%Function.prototype.apply%":M,"%Object.defineProperty%":R,"%Object.getPrototypeOf%":P,"%Math.abs%":d,"%Math.floor%":p,"%Math.max%":h,"%Math.min%":b,"%Math.pow%":x,"%Math.round%":_,"%Math.sign%":E,"%Reflect.getPrototypeOf%":q};if(z)try{null.error}catch(De){var te=z(z(De));B["%Error.prototype%"]=te}var Z=function De(Je){var Xe;if(Je==="%AsyncFunction%")Xe=T("async function () {}");else if(Je==="%GeneratorFunction%")Xe=T("function* () {}");else if(Je==="%AsyncGeneratorFunction%")Xe=T("async function* () {}");else if(Je==="%AsyncGenerator%"){var Ue=De("%AsyncGeneratorFunction%");Ue&&(Xe=Ue.prototype)}else if(Je==="%AsyncIteratorPrototype%"){var ct=De("%AsyncGenerator%");ct&&z&&(Xe=z(ct.prototype))}return B[Je]=Xe,Xe},le={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},se=Nb(),ne=c5(),oe=se.call(F,Array.prototype.concat),X=se.call(M,Array.prototype.splice),ue=se.call(F,String.prototype.replace),de=se.call(F,String.prototype.slice),ye=se.call(F,RegExp.prototype.exec),we=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ne=/\\(\\)?/g,ze=function(Je){var Xe=de(Je,0,1),Ue=de(Je,-1);if(Xe==="%"&&Ue!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(Ue==="%"&&Xe!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var ct=[];return ue(Je,we,function(_t,Tt,Ut,nn){ct[ct.length]=Ut?ue(nn,Ne,"$1"):Tt||_t}),ct},Re=function(Je,Xe){var Ue=Je,ct;if(ne(le,Ue)&&(ct=le[Ue],Ue="%"+ct[0]+"%"),ne(B,Ue)){var _t=B[Ue];if(_t===U&&(_t=Z(Ue)),typeof _t>"u"&&!Xe)throw new l("intrinsic "+Je+" exists, but is not available. Please file an issue!");return{alias:ct,name:Ue,value:_t}}throw new o("intrinsic "+Je+" does not exist!")};return J_=function(Je,Xe){if(typeof Je!="string"||Je.length===0)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Xe!="boolean")throw new l('"allowMissing" argument must be a boolean');if(ye(/^%?[^%]*%?$/,Je)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Ue=ze(Je),ct=Ue.length>0?Ue[0]:"",_t=Re("%"+ct+"%",Xe),Tt=_t.name,Ut=_t.value,nn=!1,xe=_t.alias;xe&&(ct=xe[0],X(Ue,oe([0,1],xe)));for(var ve=1,ke=!0;ve<Ue.length;ve+=1){var Ae=Ue[ve],Ve=de(Ae,0,1),rt=de(Ae,-1);if((Ve==='"'||Ve==="'"||Ve==="`"||rt==='"'||rt==="'"||rt==="`")&&Ve!==rt)throw new o("property names with quotes must have matching quotes");if((Ae==="constructor"||!ke)&&(nn=!0),ct+="."+Ae,Tt="%"+ct+"%",ne(B,Tt))Ut=B[Tt];else if(Ut!=null){if(!(Ae in Ut)){if(!Xe)throw new l("base intrinsic for "+Je+" exists, but the property is not available.");return}if(O&&ve+1>=Ue.length){var Me=O(Ut,Ae);ke=!!Me,ke&&"get"in Me&&!("originalValue"in Me.get)?Ut=Me.get:Ut=Ut[Ae]}else ke=ne(Ut,Ae),Ut=Ut[Ae];ke&&!nn&&(B[Tt]=Ut)}}return Ut},J_}var Z_,uO;function d5(){if(uO)return Z_;uO=1;var t=u5(),e=DP(),n=e([t("%String.prototype.indexOf%")]);return Z_=function(i,s){var o=t(i,!!s);return typeof o=="function"&&n(i,".prototype.")>-1?e([o]):o},Z_}var Y_,dO;function f5(){if(dO)return Y_;dO=1;var t=jP();return Y_=function(){return t()&&!!Symbol.toStringTag},Y_}var X_,fO;function p5(){if(fO)return X_;fO=1;var t=d5(),e=t("String.prototype.valueOf"),n=function(l){try{return e(l),!0}catch{return!1}},r=t("Object.prototype.toString"),i="[object String]",s=f5()();return X_=function(l){return typeof l=="string"?!0:!l||typeof l!="object"?!1:s?n(l):r(l)===i},X_}var h5=p5();const m5=ao(h5),kb=t=>m5(t),g5=(t,e,n={})=>{const r=[];return t.filter((s,o)=>{const l=n.regionLowerCase?s.toLowerCase():s;if(e.includes(l))return r.push({index:o,appLocale:l}),!0;const{isAvailable:u,appLocale:d}=y5(l,e,n);return u&&r.push({index:o,appLocale:n.regionLowerCase?d.toLowerCase():d}),u}).map((s,o)=>!r||r.length===0?s:r[o]?.appLocale)},y5=(t,e,n={})=>{n?.languageOnly||(n.languageOnly=!1);let r=t;return{isAvailable:e.some(s=>{if(!wy()&&!n.languageOnly&&t.split("-")[1]===void 0)return!1;const o=wy()?new Intl.Locale(t).minimize().language:t.split("-")[0],l=wy()?new Intl.Locale(s).minimize().language:s.split("-")[0],u=o===l;return u&&(r=s),u}),appLocale:r}},v5=(t={})=>{t?.regionLowerCase||(t.regionLowerCase=!1);let e=[];return Intl&&"DateTimeFormat"in Intl?e=[Intl.DateTimeFormat().resolvedOptions().locale]:typeof window=="object"&&window?.navigator?.languages&&(e=[...window.navigator.languages]),e.map(n=>t.regionLowerCase?n.toLowerCase():n)},wy=()=>Intl&&"Locale"in Intl,b5=(t,e={})=>{e?.regionLowerCase||(e.regionLowerCase=!1),e?.languageOnly||(e.languageOnly=!1);const n=t.map(r=>{const i=r.split("-");if(e.languageOnly)return i[0];const s=wy()?new Intl.Locale(r).maximize():{language:i[0],script:i.length===3?i[1]:void 0,region:i.length===3?i[2]:i[1]},{language:o,script:l}=s;let{region:u}=s;return e.regionLowerCase&&u&&(u=u.toLowerCase()),i.length>2?`${o}-${l}-${u}`:u?`${o}-${u}`:o});return[...new Set(n)]},x5=(t,e,n={})=>{n.regionLowerCase||(n.regionLowerCase=!1),n.languageOnly||(n.languageOnly=!1);const r=v5(n),i=b5([...r,t],n);return g5(i,e,n)[0]||t},w5=({available:t,fallback:e})=>x5(e,t,{languageOnly:!0});var e0={exports:{}};const _5={},S5=Object.freeze(Object.defineProperty({__proto__:null,default:_5},Symbol.toStringTag,{value:"Module"})),pO=B$(S5);var hO;function E5(){return hO||(hO=1,function(t){(function(){var e="input is invalid type",n=typeof window=="object",r=n?window:{};r.JS_SHA256_NO_WINDOW&&(n=!1);var i=!n&&typeof self=="object",s=!r.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;s?r=Dc:i&&(r=self);var o=!r.JS_SHA256_NO_COMMON_JS&&!0&&t.exports,l=!r.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",u="0123456789abcdef".split(""),d=[-0x80000000,8388608,32768,128],p=[24,16,8,0],h=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2],b=["hex","array","digest","arrayBuffer"],x=[];(r.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(L){return Object.prototype.toString.call(L)==="[object Array]"}),l&&(r.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(L){return typeof L=="object"&&L.buffer&&L.buffer.constructor===ArrayBuffer});var _=function(L,z){return function(P){return new R(z,!0).update(P)[L]()}},E=function(L){var z=_("hex",L);s&&(z=I(z,L)),z.create=function(){return new R(L)},z.update=function(M){return z.create().update(M)};for(var P=0;P<b.length;++P){var q=b[P];z[q]=_(q,L)}return z},I=function(L,z){var P=pO,q=pO.Buffer,M=z?"sha224":"sha256",F;q.from&&!r.JS_SHA256_NO_BUFFER_FROM?F=q.from:F=function(V){return new q(V)};var U=function(V){if(typeof V=="string")return P.createHash(M).update(V,"utf8").digest("hex");if(V==null)throw new Error(e);return V.constructor===ArrayBuffer&&(V=new Uint8Array(V)),Array.isArray(V)||ArrayBuffer.isView(V)||V.constructor===q?P.createHash(M).update(F(V)).digest("hex"):L(V)};return U},T=function(L,z){return function(P,q){return new A(P,z,!0).update(q)[L]()}},O=function(L){var z=T("hex",L);z.create=function(M){return new A(M,L)},z.update=function(M,F){return z.create(M).update(F)};for(var P=0;P<b.length;++P){var q=b[P];z[q]=T(q,L)}return z};function R(L,z){z?(x[0]=x[16]=x[1]=x[2]=x[3]=x[4]=x[5]=x[6]=x[7]=x[8]=x[9]=x[10]=x[11]=x[12]=x[13]=x[14]=x[15]=0,this.blocks=x):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],L?(this.h0=0xc1059ed8,this.h1=0x367cd507,this.h2=0x3070dd17,this.h3=0xf70e5939,this.h4=0xffc00b31,this.h5=0x68581511,this.h6=0x64f98fa7,this.h7=0xbefa4fa4):(this.h0=0x6a09e667,this.h1=0xbb67ae85,this.h2=0x3c6ef372,this.h3=0xa54ff53a,this.h4=0x510e527f,this.h5=0x9b05688c,this.h6=0x1f83d9ab,this.h7=0x5be0cd19),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=L}R.prototype.update=function(L){if(!this.finalized){var z,P=typeof L;if(P!=="string"){if(P==="object"){if(L===null)throw new Error(e);if(l&&L.constructor===ArrayBuffer)L=new Uint8Array(L);else if(!Array.isArray(L)&&(!l||!ArrayBuffer.isView(L)))throw new Error(e)}else throw new Error(e);z=!0}for(var q,M=0,F,U=L.length,V=this.blocks;M<U;){if(this.hashed&&(this.hashed=!1,V[0]=this.block,this.block=V[16]=V[1]=V[2]=V[3]=V[4]=V[5]=V[6]=V[7]=V[8]=V[9]=V[10]=V[11]=V[12]=V[13]=V[14]=V[15]=0),z)for(F=this.start;M<U&&F<64;++M)V[F>>>2]|=L[M]<<p[F++&3];else for(F=this.start;M<U&&F<64;++M)q=L.charCodeAt(M),q<128?V[F>>>2]|=q<<p[F++&3]:q<2048?(V[F>>>2]|=(192|q>>>6)<<p[F++&3],V[F>>>2]|=(128|q&63)<<p[F++&3]):q<55296||q>=57344?(V[F>>>2]|=(224|q>>>12)<<p[F++&3],V[F>>>2]|=(128|q>>>6&63)<<p[F++&3],V[F>>>2]|=(128|q&63)<<p[F++&3]):(q=65536+((q&1023)<<10|L.charCodeAt(++M)&1023),V[F>>>2]|=(240|q>>>18)<<p[F++&3],V[F>>>2]|=(128|q>>>12&63)<<p[F++&3],V[F>>>2]|=(128|q>>>6&63)<<p[F++&3],V[F>>>2]|=(128|q&63)<<p[F++&3]);this.lastByteIndex=F,this.bytes+=F-this.start,F>=64?(this.block=V[16],this.start=F-64,this.hash(),this.hashed=!0):this.start=F}return this.bytes>0xffffffff&&(this.hBytes+=this.bytes/0x100000000<<0,this.bytes=this.bytes%0x100000000),this}},R.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var L=this.blocks,z=this.lastByteIndex;L[16]=this.block,L[z>>>2]|=d[z&3],this.block=L[16],z>=56&&(this.hashed||this.hash(),L[0]=this.block,L[16]=L[1]=L[2]=L[3]=L[4]=L[5]=L[6]=L[7]=L[8]=L[9]=L[10]=L[11]=L[12]=L[13]=L[14]=L[15]=0),L[14]=this.hBytes<<3|this.bytes>>>29,L[15]=this.bytes<<3,this.hash()}},R.prototype.hash=function(){var L=this.h0,z=this.h1,P=this.h2,q=this.h3,M=this.h4,F=this.h5,U=this.h6,V=this.h7,B=this.blocks,te,Z,le,se,ne,oe,X,ue,de,ye,we;for(te=16;te<64;++te)ne=B[te-15],Z=(ne>>>7|ne<<25)^(ne>>>18|ne<<14)^ne>>>3,ne=B[te-2],le=(ne>>>17|ne<<15)^(ne>>>19|ne<<13)^ne>>>10,B[te]=B[te-16]+Z+B[te-7]+le<<0;for(we=z&P,te=0;te<64;te+=4)this.first?(this.is224?(ue=300032,ne=B[0]-0x543c9a5b,V=ne-0x8f1a6c7<<0,q=ne+0x170e9b5<<0):(ue=0x2a01a605,ne=B[0]-0xc881298,V=ne-0x5ab00ac6<<0,q=ne+0x8909ae5<<0),this.first=!1):(Z=(L>>>2|L<<30)^(L>>>13|L<<19)^(L>>>22|L<<10),le=(M>>>6|M<<26)^(M>>>11|M<<21)^(M>>>25|M<<7),ue=L&z,se=ue^L&P^we,X=M&F^~M&U,ne=V+le+X+h[te]+B[te],oe=Z+se,V=q+ne<<0,q=ne+oe<<0),Z=(q>>>2|q<<30)^(q>>>13|q<<19)^(q>>>22|q<<10),le=(V>>>6|V<<26)^(V>>>11|V<<21)^(V>>>25|V<<7),de=q&L,se=de^q&z^ue,X=V&M^~V&F,ne=U+le+X+h[te+1]+B[te+1],oe=Z+se,U=P+ne<<0,P=ne+oe<<0,Z=(P>>>2|P<<30)^(P>>>13|P<<19)^(P>>>22|P<<10),le=(U>>>6|U<<26)^(U>>>11|U<<21)^(U>>>25|U<<7),ye=P&q,se=ye^P&L^de,X=U&V^~U&M,ne=F+le+X+h[te+2]+B[te+2],oe=Z+se,F=z+ne<<0,z=ne+oe<<0,Z=(z>>>2|z<<30)^(z>>>13|z<<19)^(z>>>22|z<<10),le=(F>>>6|F<<26)^(F>>>11|F<<21)^(F>>>25|F<<7),we=z&P,se=we^z&q^ye,X=F&U^~F&V,ne=M+le+X+h[te+3]+B[te+3],oe=Z+se,M=L+ne<<0,L=ne+oe<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+L<<0,this.h1=this.h1+z<<0,this.h2=this.h2+P<<0,this.h3=this.h3+q<<0,this.h4=this.h4+M<<0,this.h5=this.h5+F<<0,this.h6=this.h6+U<<0,this.h7=this.h7+V<<0},R.prototype.hex=function(){this.finalize();var L=this.h0,z=this.h1,P=this.h2,q=this.h3,M=this.h4,F=this.h5,U=this.h6,V=this.h7,B=u[L>>>28&15]+u[L>>>24&15]+u[L>>>20&15]+u[L>>>16&15]+u[L>>>12&15]+u[L>>>8&15]+u[L>>>4&15]+u[L&15]+u[z>>>28&15]+u[z>>>24&15]+u[z>>>20&15]+u[z>>>16&15]+u[z>>>12&15]+u[z>>>8&15]+u[z>>>4&15]+u[z&15]+u[P>>>28&15]+u[P>>>24&15]+u[P>>>20&15]+u[P>>>16&15]+u[P>>>12&15]+u[P>>>8&15]+u[P>>>4&15]+u[P&15]+u[q>>>28&15]+u[q>>>24&15]+u[q>>>20&15]+u[q>>>16&15]+u[q>>>12&15]+u[q>>>8&15]+u[q>>>4&15]+u[q&15]+u[M>>>28&15]+u[M>>>24&15]+u[M>>>20&15]+u[M>>>16&15]+u[M>>>12&15]+u[M>>>8&15]+u[M>>>4&15]+u[M&15]+u[F>>>28&15]+u[F>>>24&15]+u[F>>>20&15]+u[F>>>16&15]+u[F>>>12&15]+u[F>>>8&15]+u[F>>>4&15]+u[F&15]+u[U>>>28&15]+u[U>>>24&15]+u[U>>>20&15]+u[U>>>16&15]+u[U>>>12&15]+u[U>>>8&15]+u[U>>>4&15]+u[U&15];return this.is224||(B+=u[V>>>28&15]+u[V>>>24&15]+u[V>>>20&15]+u[V>>>16&15]+u[V>>>12&15]+u[V>>>8&15]+u[V>>>4&15]+u[V&15]),B},R.prototype.toString=R.prototype.hex,R.prototype.digest=function(){this.finalize();var L=this.h0,z=this.h1,P=this.h2,q=this.h3,M=this.h4,F=this.h5,U=this.h6,V=this.h7,B=[L>>>24&255,L>>>16&255,L>>>8&255,L&255,z>>>24&255,z>>>16&255,z>>>8&255,z&255,P>>>24&255,P>>>16&255,P>>>8&255,P&255,q>>>24&255,q>>>16&255,q>>>8&255,q&255,M>>>24&255,M>>>16&255,M>>>8&255,M&255,F>>>24&255,F>>>16&255,F>>>8&255,F&255,U>>>24&255,U>>>16&255,U>>>8&255,U&255];return this.is224||B.push(V>>>24&255,V>>>16&255,V>>>8&255,V&255),B},R.prototype.array=R.prototype.digest,R.prototype.arrayBuffer=function(){this.finalize();var L=new ArrayBuffer(this.is224?28:32),z=new DataView(L);return z.setUint32(0,this.h0),z.setUint32(4,this.h1),z.setUint32(8,this.h2),z.setUint32(12,this.h3),z.setUint32(16,this.h4),z.setUint32(20,this.h5),z.setUint32(24,this.h6),this.is224||z.setUint32(28,this.h7),L};function A(L,z,P){var q,M=typeof L;if(M==="string"){var F=[],U=L.length,V=0,B;for(q=0;q<U;++q)B=L.charCodeAt(q),B<128?F[V++]=B:B<2048?(F[V++]=192|B>>>6,F[V++]=128|B&63):B<55296||B>=57344?(F[V++]=224|B>>>12,F[V++]=128|B>>>6&63,F[V++]=128|B&63):(B=65536+((B&1023)<<10|L.charCodeAt(++q)&1023),F[V++]=240|B>>>18,F[V++]=128|B>>>12&63,F[V++]=128|B>>>6&63,F[V++]=128|B&63);L=F}else if(M==="object"){if(L===null)throw new Error(e);if(l&&L.constructor===ArrayBuffer)L=new Uint8Array(L);else if(!Array.isArray(L)&&(!l||!ArrayBuffer.isView(L)))throw new Error(e)}else throw new Error(e);L.length>64&&(L=new R(z,!0).update(L).array());var te=[],Z=[];for(q=0;q<64;++q){var le=L[q]||0;te[q]=92^le,Z[q]=54^le}R.call(this,z,P),this.update(Z),this.oKeyPad=te,this.inner=!0,this.sharedMemory=P}A.prototype=new R,A.prototype.finalize=function(){if(R.prototype.finalize.call(this),this.inner){this.inner=!1;var L=this.array();R.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(L),R.prototype.finalize.call(this)}};var D=E();D.sha256=D,D.sha224=E(!0),D.sha256.hmac=O(),D.sha224.hmac=O(!0),o?t.exports=D:(r.sha256=D.sha256,r.sha224=D.sha224)})()}(e0)),e0.exports}var pE=E5();const N5=pE.sha224,LP=({index:t,key:e,fallback:n})=>t[N5(e)]?.value??t[e]?.value??n??e,k5=({index:t,key:e,fallback:n})=>LP({index:t,key:e,fallback:n}),I5=({index:t,key:e,fallback:n})=>LP({index:t,key:e,fallback:n}),$l={index:{},push(t){this.index={...this.index,...t}},text:(t,e)=>k5({index:$l.index,key:t,fallback:e}),rich:(t,e)=>I5({index:$l.index,key:t,fallback:e})};function jl(t){return typeof t>"u"||t===void 0}function js(t){return typeof t=="string"}function Ib(t){return typeof t=="number"}function pv(t){return typeof t=="boolean"}function j1(t){return t===null}function C5(t){return t instanceof Date}function A1(t){return typeof t=="bigint"}function Fs(t){return typeof t=="function"}function Ho(t){return typeof t=="object"&&t!==null}function G(t){return Object.freeze(t)}function Mg(t){return La(t)?t:[t]}function La(t){return Array.isArray(t)}function Al(t){return t}const Jn=G({is(t){return t.kind==="AlterTableNode"},create(t){return G({kind:"AlterTableNode",table:t})},cloneWithTableProps(t,e){return G({...t,...e})},cloneWithColumnAlteration(t,e){return G({...t,columnAlterations:t.columnAlterations?[...t.columnAlterations,e]:[e]})}}),br=G({is(t){return t.kind==="IdentifierNode"},create(t){return G({kind:"IdentifierNode",name:t})}}),Ia=G({is(t){return t.kind==="CreateIndexNode"},create(t){return G({kind:"CreateIndexNode",name:br.create(t)})},cloneWith(t,e){return G({...t,...e})},cloneWithColumns(t,e){return G({...t,columns:[...t.columns||[],...e]})}}),MP=G({is(t){return t.kind==="CreateSchemaNode"},create(t,e){return G({kind:"CreateSchemaNode",schema:br.create(t),...e})},cloneWith(t,e){return G({...t,...e})}}),T5=["preserve rows","delete rows","drop"],ws=G({is(t){return t.kind==="CreateTableNode"},create(t){return G({kind:"CreateTableNode",table:t,columns:G([])})},cloneWithColumn(t,e){return G({...t,columns:G([...t.columns,e])})},cloneWithConstraint(t,e){return G({...t,constraints:t.constraints?G([...t.constraints,e]):G([e])})},cloneWithFrontModifier(t,e){return G({...t,frontModifiers:t.frontModifiers?G([...t.frontModifiers,e]):G([e])})},cloneWithEndModifier(t,e){return G({...t,endModifiers:t.endModifiers?G([...t.endModifiers,e]):G([e])})},cloneWith(t,e){return G({...t,...e})}}),Bl=G({is(t){return t.kind==="SchemableIdentifierNode"},create(t){return G({kind:"SchemableIdentifierNode",identifier:br.create(t)})},createWithSchema(t,e){return G({kind:"SchemableIdentifierNode",schema:br.create(t),identifier:br.create(e)})}}),Kp=G({is(t){return t.kind==="DropIndexNode"},create(t,e){return G({kind:"DropIndexNode",name:Bl.create(t),...e})},cloneWith(t,e){return G({...t,...e})}}),hE=G({is(t){return t.kind==="DropSchemaNode"},create(t,e){return G({kind:"DropSchemaNode",schema:br.create(t),...e})},cloneWith(t,e){return G({...t,...e})}}),mE=G({is(t){return t.kind==="DropTableNode"},create(t,e){return G({kind:"DropTableNode",table:t,...e})},cloneWith(t,e){return G({...t,...e})}}),Zl=G({is(t){return t.kind==="AliasNode"},create(t,e){return G({kind:"AliasNode",node:t,alias:e})}}),Pl=G({is(t){return t.kind==="TableNode"},create(t){return G({kind:"TableNode",table:Bl.create(t)})},createWithSchema(t,e){return G({kind:"TableNode",table:Bl.createWithSchema(t,e)})}});function gs(t){return Ho(t)&&Fs(t.toOperationNode)}function O5(t){return Ho(t)&&"expressionType"in t&&gs(t)}function R5(t){return Ho(t)&&"expression"in t&&js(t.alias)&&gs(t)}const Sa=G({is(t){return t.kind==="SelectModifierNode"},create(t,e){return G({kind:"SelectModifierNode",modifier:t,of:e})},createWithExpression(t){return G({kind:"SelectModifierNode",rawModifier:t})}}),zl=G({is(t){return t.kind==="AndNode"},create(t,e){return G({kind:"AndNode",left:t,right:e})}}),lf=G({is(t){return t.kind==="OrNode"},create(t,e){return G({kind:"OrNode",left:t,right:e})}}),t0=G({is(t){return t.kind==="OnNode"},create(t){return G({kind:"OnNode",on:t})},cloneWithOperation(t,e,n){return G({...t,on:e==="And"?zl.create(t.on,n):lf.create(t.on,n)})}}),Qp=G({is(t){return t.kind==="JoinNode"},create(t,e){return G({kind:"JoinNode",joinType:t,table:e,on:void 0})},createWithOn(t,e,n){return G({kind:"JoinNode",joinType:t,table:e,on:t0.create(n)})},cloneWithOn(t,e){return G({...t,on:t.on?t0.cloneWithOperation(t.on,"And",e):t0.create(e)})}}),Fd=G({is(t){return t.kind==="BinaryOperationNode"},create(t,e,n){return G({kind:"BinaryOperationNode",leftOperand:t,operator:e,rightOperand:n})}}),q5=["=","==","!=","<>",">",">=","<","<=","in","not in","is","is not","like","not like","match","ilike","not ilike","@>","<@","^@","&&","?","?&","?|","!<","!>","<=>","!~","~","~*","!~*","@@","@@@","!!","<->","regexp","is distinct from","is not distinct from"],j5=["+","-","*","/","%","^","&","|","#","<<",">>"],$P=["->","->>"],A5=[...q5,...j5,"&&","||"],P5=["exists","not exists"],F5=["not","-",...P5],D5=[...A5,...$P,...F5,"between","between symmetric"],Wl=G({is(t){return t.kind==="OperatorNode"},create(t){return G({kind:"OperatorNode",operator:t})}});function mO(t){return js(t)&&$P.includes(t)}const Vr=G({is(t){return t.kind==="ColumnNode"},create(t){return G({kind:"ColumnNode",column:br.create(t)})}}),P1=G({is(t){return t.kind==="SelectAllNode"},create(){return G({kind:"SelectAllNode"})}}),Cb=G({is(t){return t.kind==="ReferenceNode"},create(t,e){return G({kind:"ReferenceNode",table:e,column:t})},createSelectAll(t){return G({kind:"ReferenceNode",table:t,column:P1.create()})}});class L5{#e;get dynamicReference(){return this.#e}get refType(){}constructor(e){this.#e=e}toOperationNode(){return VP(this.#e)}}function BP(t){return Ho(t)&&gs(t)&&js(t.dynamicReference)}const gE=G({is(t){return t.kind==="OrderByItemNode"},create(t,e){return G({kind:"OrderByItemNode",orderBy:t,direction:e})}}),_i=G({is(t){return t.kind==="RawNode"},create(t,e){return G({kind:"RawNode",sqlFragments:G(t),parameters:G(e)})},createWithSql(t){return _i.create([t],[])},createWithChild(t){return _i.create(["",""],[t])},createWithChildren(t){return _i.create(new Array(t.length+1).fill(""),t)}});function zP(t){return t==="asc"||t==="desc"}function rm(t){if(t.length===2)return[n0(t[0],t[1])];if(t.length===1){const[e]=t;return Array.isArray(e)?e.map(n=>n0(n)):[n0(e)]}throw new Error(`Invalid number of arguments at order by! expected 1-2, received ${t.length}`)}function n0(t,e){const n=M5(t);if(gE.is(n)){if(e)throw new Error("Cannot specify direction twice!");return n}return gE.create(n,WP(e))}function M5(t){if(lm(t))return uu(t);if(BP(t))return t.toOperationNode();const[e,n]=t.split(" ");if(n){if(!zP(n))throw new Error(`Invalid order by direction: ${n}`);return gE.create(Ma(e),WP(n))}return Ma(t)}function WP(t){if(t)return t==="asc"||t==="desc"?_i.createWithSql(t):t.toOperationNode()}const hv=G({is(t){return t.kind==="JSONReferenceNode"},create(t,e){return G({kind:"JSONReferenceNode",reference:t,traversal:e})},cloneWithTraversal(t,e){return G({...t,traversal:e})}}),UP=G({is(t){return t.kind==="JSONOperatorChainNode"},create(t){return G({kind:"JSONOperatorChainNode",operator:t,values:G([])})},cloneWithValue(t,e){return G({...t,values:G([...t.values,e])})}}),Gp=G({is(t){return t.kind==="JSONPathNode"},create(t){return G({kind:"JSONPathNode",inOperator:t,pathLegs:G([])})},cloneWithLeg(t,e){return G({...t,pathLegs:G([...t.pathLegs,e])})}});function VP(t){return js(t)?Ma(t):t.toOperationNode()}function uh(t){return La(t)?t.map(e=>Is(e)):[Is(t)]}function Is(t){return lm(t)?uu(t):VP(t)}function $5(t,e){const n=Ma(t);if(mO(e))return hv.create(n,UP.create(Wl.create(e)));const r=e.slice(0,-1);if(mO(r))return hv.create(n,Gp.create(Wl.create(r)));throw new Error(`Invalid JSON operator: ${e}`)}function Ma(t){const e=".";if(!t.includes(e))return Cb.create(Vr.create(t));const n=t.split(e).map(F1);if(n.length===3)return z5(n);if(n.length===2)return W5(n);throw new Error(`invalid column reference ${t}`)}function B5(t){const e=" as ";if(t.includes(e)){const[n,r]=t.split(e).map(F1);return Zl.create(Ma(n),br.create(r))}else return Ma(t)}function HP(t){return Vr.create(t)}function mv(t){const e=" ";if(t.includes(e)){const[n,r]=t.split(e).map(F1);if(!zP(r))throw new Error(`invalid order direction "${r}" next to "${n}"`);return rm([n,r])[0]}else return HP(t)}function z5(t){const[e,n,r]=t;return Cb.create(Vr.create(r),Pl.createWithSchema(e,n))}function W5(t){const[e,n]=t;return Cb.create(Vr.create(n),Pl.create(e))}function F1(t){return t.trim()}const KP=G({is(t){return t.kind==="PrimitiveValueListNode"},create(t){return G({kind:"PrimitiveValueListNode",values:G([...t])})}}),D1=G({is(t){return t.kind==="ValueListNode"},create(t){return G({kind:"ValueListNode",values:G(t)})}}),ea=G({is(t){return t.kind==="ValueNode"},create(t){return G({kind:"ValueNode",value:t})},createImmediate(t){return G({kind:"ValueNode",value:t,immediate:!0})}});function U5(t){return La(t)?V5(t):Jr(t)}function Jr(t){return lm(t)?uu(t):ea.create(t)}function L1(t){return Ib(t)||pv(t)||j1(t)}function M1(t){if(!L1(t))throw new Error(`unsafe immediate value ${JSON.stringify(t)}`);return ea.createImmediate(t)}function V5(t){return t.some(lm)?D1.create(t.map(e=>Jr(e))):KP.create(t)}const Dd=G({is(t){return t.kind==="ParensNode"},create(t){return G({kind:"ParensNode",node:t})}});function pi(t){if(t.length===3)return $1(t[0],t[1],t[2]);if(t.length===1)return Jr(t[0]);throw new Error(`invalid arguments: ${JSON.stringify(t)}`)}function $1(t,e,n){return H5(e)&&QP(n)?Fd.create(Is(t),yE(e),ea.createImmediate(n)):Fd.create(Is(t),yE(e),U5(n))}function ta(t,e,n){return Fd.create(Is(t),yE(e),Is(n))}function gO(t,e){return gv(Object.entries(t).filter(([,n])=>!jl(n)).map(([n,r])=>$1(n,QP(r)?"is":"=",r)),e)}function gv(t,e,n=!0){const r=e==="and"?zl.create:lf.create;if(t.length===0)return Fd.create(ea.createImmediate(1),Wl.create("="),ea.createImmediate(e==="and"?1:0));let i=yO(t[0]);for(let s=1;s<t.length;++s)i=r(i,yO(t[s]));return t.length>1&&n?Dd.create(i):i}function H5(t){return t==="is"||t==="is not"}function QP(t){return j1(t)||pv(t)}function yE(t){if(js(t)&&D5.includes(t))return Wl.create(t);if(gs(t))return t.toOperationNode();throw new Error(`invalid operator ${JSON.stringify(t)}`)}function yO(t){return gs(t)?t.toOperationNode():t}const Ul=G({is(t){return t.kind==="OrderByNode"},create(t){return G({kind:"OrderByNode",items:G([...t])})},cloneWithItems(t,e){return G({...t,items:G([...t.items,...e])})}}),vO=G({is(t){return t.kind==="PartitionByNode"},create(t){return G({kind:"PartitionByNode",items:G(t)})},cloneWithItems(t,e){return G({...t,items:G([...t.items,...e])})}}),vE=G({is(t){return t.kind==="OverNode"},create(){return G({kind:"OverNode"})},cloneWithOrderByItems(t,e){return G({...t,orderBy:t.orderBy?Ul.cloneWithItems(t.orderBy,e):Ul.create(e)})},cloneWithPartitionByItems(t,e){return G({...t,partitionBy:t.partitionBy?vO.cloneWithItems(t.partitionBy,e):vO.create(e)})}}),yv=G({is(t){return t.kind==="FromNode"},create(t){return G({kind:"FromNode",froms:G(t)})},cloneWithFroms(t,e){return G({...t,froms:G([...t.froms,...e])})}}),bO=G({is(t){return t.kind==="GroupByNode"},create(t){return G({kind:"GroupByNode",items:G(t)})},cloneWithItems(t,e){return G({...t,items:G([...t.items,...e])})}}),xO=G({is(t){return t.kind==="HavingNode"},create(t){return G({kind:"HavingNode",having:t})},cloneWithOperation(t,e,n){return G({...t,having:e==="And"?zl.create(t.having,n):lf.create(t.having,n)})}}),Gn=G({is(t){return t.kind==="SelectQueryNode"},create(t){return G({kind:"SelectQueryNode",...t&&{with:t}})},createFrom(t,e){return G({kind:"SelectQueryNode",from:yv.create(t),...e&&{with:e}})},cloneWithSelections(t,e){return G({...t,selections:t.selections?G([...t.selections,...e]):G(e)})},cloneWithDistinctOn(t,e){return G({...t,distinctOn:t.distinctOn?G([...t.distinctOn,...e]):G(e)})},cloneWithFrontModifier(t,e){return G({...t,frontModifiers:t.frontModifiers?G([...t.frontModifiers,e]):G([e])})},cloneWithOrderByItems(t,e){return G({...t,orderBy:t.orderBy?Ul.cloneWithItems(t.orderBy,e):Ul.create(e)})},cloneWithGroupByItems(t,e){return G({...t,groupBy:t.groupBy?bO.cloneWithItems(t.groupBy,e):bO.create(e)})},cloneWithLimit(t,e){return G({...t,limit:e})},cloneWithOffset(t,e){return G({...t,offset:e})},cloneWithFetch(t,e){return G({...t,fetch:e})},cloneWithHaving(t,e){return G({...t,having:t.having?xO.cloneWithOperation(t.having,"And",e):xO.create(e)})},cloneWithSetOperations(t,e){return G({...t,setOperations:t.setOperations?G([...t.setOperations,...e]):G([...e])})},cloneWithoutSelections(t){return G({...t,selections:[]})},cloneWithoutLimit(t){return G({...t,limit:void 0})},cloneWithoutOffset(t){return G({...t,offset:void 0})},cloneWithoutOrderBy(t){return G({...t,orderBy:void 0})},cloneWithoutGroupBy(t){return G({...t,groupBy:void 0})}});function Sn(t,e){Object.defineProperties(t.prototype,{then:{enumerable:!1,value:()=>{throw new Error(e)}}})}class _d{#e;constructor(e){this.#e=G(e)}on(...e){return new _d({...this.#e,joinNode:Qp.cloneWithOn(this.#e.joinNode,pi(e))})}onRef(e,n,r){return new _d({...this.#e,joinNode:Qp.cloneWithOn(this.#e.joinNode,ta(e,n,r))})}onTrue(){return new _d({...this.#e,joinNode:Qp.cloneWithOn(this.#e.joinNode,_i.createWithSql("true"))})}$call(e){return e(this)}toOperationNode(){return this.#e.joinNode}}Sn(_d,"don't await JoinBuilder instances. They are never executed directly and are always just a part of a query.");const K5=G({is(t){return t.kind==="PartitionByItemNode"},create(t){return G({kind:"PartitionByItemNode",partitionBy:t})}});function Q5(t){return uh(t).map(K5.create)}class dh{#e;constructor(e){this.#e=G(e)}orderBy(e,n){return new dh({overNode:vE.cloneWithOrderByItems(this.#e.overNode,rm([e,n]))})}partitionBy(e){return new dh({overNode:vE.cloneWithPartitionByItems(this.#e.overNode,Q5(e))})}$call(e){return e(this)}toOperationNode(){return this.#e.overNode}}Sn(dh,"don't await OverBuilder instances. They are never executed directly and are always just a part of a query.");const Jp=G({is(t){return t.kind==="SelectionNode"},create(t){return G({kind:"SelectionNode",selection:t})},createSelectAll(){return G({kind:"SelectionNode",selection:P1.create()})},createSelectAllFromTable(t){return G({kind:"SelectionNode",selection:Cb.createSelectAll(t)})}});function qo(t){return Fs(t)?qo(t(uf())):La(t)?t.map(e=>wO(e)):[wO(t)]}function wO(t){return js(t)?Jp.create(B5(t)):BP(t)?Jp.create(t.toOperationNode()):Jp.create(aF(t))}function na(t){return t?Array.isArray(t)?t.map(_O):[_O(t)]:[Jp.createSelectAll()]}function _O(t){if(js(t))return Jp.createSelectAllFromTable(zr(t));throw new Error(`invalid value selectAll expression: ${JSON.stringify(t)}`)}const G5=G({is(t){return t.kind==="ValuesNode"},create(t){return G({kind:"ValuesNode",values:G(t)})}}),J5=G({is(t){return t.kind==="DefaultInsertValueNode"},create(){return G({kind:"DefaultInsertValueNode"})}});function GP(t){const e=Fs(t)?t(uf()):t,n=La(e)?e:G([e]);return Z5(n)}function Z5(t){const e=Y5(t);return[G([...e.keys()].map(Vr.create)),G5.create(t.map(n=>X5(n,e)))]}function Y5(t){const e=new Map;for(const n of t){const r=Object.keys(n);for(const i of r)!e.has(i)&&n[i]!==void 0&&e.set(i,e.size)}return e}function X5(t,e){const n=Object.keys(t),r=Array.from({length:e.size});let i=!1;for(const o of n){const l=e.get(o);if(jl(l))continue;const u=t[o];(jl(u)||lm(u))&&(i=!0),r[l]=u}if(n.length<e.size||i){const o=J5.create();return D1.create(r.map(l=>jl(l)?o:Jr(l)))}return KP.create(r)}const Es=G({is(t){return t.kind==="InsertQueryNode"},create(t,e,n){return G({kind:"InsertQueryNode",into:t,...e&&{with:e},replace:n})},createWithoutInto(){return G({kind:"InsertQueryNode"})},cloneWith(t,e){return G({...t,...e})}}),Sd=G({is(t){return t.kind==="UpdateQueryNode"},create(t,e){return G({kind:"UpdateQueryNode",table:t,...e&&{with:e}})},createWithoutTable(){return G({kind:"UpdateQueryNode"})},cloneWithFromItems(t,e){return G({...t,from:t.from?yv.cloneWithFroms(t.from,e):yv.create(e)})},cloneWithUpdates(t,e){return G({...t,updates:t.updates?G([...t.updates,...e]):e})},cloneWithLimit(t,e){return G({...t,limit:e})}}),SO=G({is(t){return t.kind==="UsingNode"},create(t){return G({kind:"UsingNode",tables:G(t)})},cloneWithTables(t,e){return G({...t,tables:G([...t.tables,...e])})}}),Ac=G({is(t){return t.kind==="DeleteQueryNode"},create(t,e){return G({kind:"DeleteQueryNode",from:yv.create(t),...e&&{with:e}})},cloneWithOrderByItems(t,e){return G({...t,orderBy:t.orderBy?Ul.cloneWithItems(t.orderBy,e):Ul.create(e)})},cloneWithoutOrderBy(t){return G({...t,orderBy:void 0})},cloneWithLimit(t,e){return G({...t,limit:e})},cloneWithoutLimit(t){return G({...t,limit:void 0})},cloneWithUsing(t,e){return G({...t,using:t.using!==void 0?SO.cloneWithTables(t.using,e):SO.create(e)})}}),ls=G({is(t){return t.kind==="WhereNode"},create(t){return G({kind:"WhereNode",where:t})},cloneWithOperation(t,e,n){return G({...t,where:e==="And"?zl.create(t.where,n):lf.create(t.where,n)})}}),EO=G({is(t){return t.kind==="ReturningNode"},create(t){return G({kind:"ReturningNode",selections:G(t)})},cloneWithSelections(t,e){return G({...t,selections:t.selections?G([...t.selections,...e]):G(e)})}}),e8=G({is(t){return t.kind==="ExplainNode"},create(t,e){return G({kind:"ExplainNode",format:t,options:e})}}),im=G({is(t){return t.kind==="WhenNode"},create(t){return G({kind:"WhenNode",condition:t})},cloneWithResult(t,e){return G({...t,result:e})}}),cs=G({is(t){return t.kind==="MergeQueryNode"},create(t,e){return G({kind:"MergeQueryNode",into:t,...e&&{with:e}})},cloneWithUsing(t,e){return G({...t,using:e})},cloneWithWhen(t,e){return G({...t,whens:t.whens?G([...t.whens,e]):G([e])})},cloneWithThen(t,e){return G({...t,whens:t.whens?G([...t.whens.slice(0,-1),im.cloneWithResult(t.whens[t.whens.length-1],e)]):void 0})}}),NO=G({is(t){return t.kind==="OutputNode"},create(t){return G({kind:"OutputNode",selections:G(t)})},cloneWithSelections(t,e){return G({...t,selections:t.selections?G([...t.selections,...e]):G(e)})}}),Pt=G({is(t){return Gn.is(t)||Es.is(t)||Sd.is(t)||Ac.is(t)||cs.is(t)},cloneWithEndModifier(t,e){return G({...t,endModifiers:t.endModifiers?G([...t.endModifiers,e]):G([e])})},cloneWithWhere(t,e){return G({...t,where:t.where?ls.cloneWithOperation(t.where,"And",e):ls.create(e)})},cloneWithJoin(t,e){return G({...t,joins:t.joins?G([...t.joins,e]):G([e])})},cloneWithReturning(t,e){return G({...t,returning:t.returning?EO.cloneWithSelections(t.returning,e):EO.create(e)})},cloneWithoutReturning(t){return G({...t,returning:void 0})},cloneWithoutWhere(t){return G({...t,where:void 0})},cloneWithExplain(t,e,n){return G({...t,explain:e8.create(e,n?.toOperationNode())})},cloneWithTop(t,e){return G({...t,top:e})},cloneWithOutput(t,e){return G({...t,output:t.output?NO.cloneWithSelections(t.output,e):NO.create(e)})}}),JP=G({is(t){return t.kind==="ColumnUpdateNode"},create(t,e){return G({kind:"ColumnUpdateNode",column:t,value:e})}});function t8(...t){return t.length===2?[JP.create(Is(t[0]),Jr(t[1]))]:B1(t[0])}function B1(t){const e=Fs(t)?t(uf()):t;return Object.entries(e).filter(([n,r])=>r!==void 0).map(([n,r])=>JP.create(Vr.create(n),Jr(r)))}const n8=G({is(t){return t.kind==="OnDuplicateKeyNode"},create(t){return G({kind:"OnDuplicateKeyNode",updates:t})}});class r8{insertId;numInsertedOrUpdatedRows;constructor(e,n){this.insertId=e,this.numInsertedOrUpdatedRows=n}}class sm extends Error{node;constructor(e){super("no result"),this.node=e}}function om(t){return Object.prototype.hasOwnProperty.call(t,"prototype")}const _s=G({is(t){return t.kind==="OnConflictNode"},create(){return G({kind:"OnConflictNode"})},cloneWith(t,e){return G({...t,...e})},cloneWithIndexWhere(t,e){return G({...t,indexWhere:t.indexWhere?ls.cloneWithOperation(t.indexWhere,"And",e):ls.create(e)})},cloneWithIndexOrWhere(t,e){return G({...t,indexWhere:t.indexWhere?ls.cloneWithOperation(t.indexWhere,"Or",e):ls.create(e)})},cloneWithUpdateWhere(t,e){return G({...t,updateWhere:t.updateWhere?ls.cloneWithOperation(t.updateWhere,"And",e):ls.create(e)})},cloneWithUpdateOrWhere(t,e){return G({...t,updateWhere:t.updateWhere?ls.cloneWithOperation(t.updateWhere,"Or",e):ls.create(e)})},cloneWithoutIndexWhere(t){return G({...t,indexWhere:void 0})},cloneWithoutUpdateWhere(t){return G({...t,updateWhere:void 0})}});class Vo{#e;constructor(e){this.#e=G(e)}column(e){const n=Vr.create(e);return new Vo({...this.#e,onConflictNode:_s.cloneWith(this.#e.onConflictNode,{columns:this.#e.onConflictNode.columns?G([...this.#e.onConflictNode.columns,n]):G([n])})})}columns(e){const n=e.map(Vr.create);return new Vo({...this.#e,onConflictNode:_s.cloneWith(this.#e.onConflictNode,{columns:this.#e.onConflictNode.columns?G([...this.#e.onConflictNode.columns,...n]):G(n)})})}constraint(e){return new Vo({...this.#e,onConflictNode:_s.cloneWith(this.#e.onConflictNode,{constraint:br.create(e)})})}expression(e){return new Vo({...this.#e,onConflictNode:_s.cloneWith(this.#e.onConflictNode,{indexExpression:e.toOperationNode()})})}where(...e){return new Vo({...this.#e,onConflictNode:_s.cloneWithIndexWhere(this.#e.onConflictNode,pi(e))})}whereRef(e,n,r){return new Vo({...this.#e,onConflictNode:_s.cloneWithIndexWhere(this.#e.onConflictNode,ta(e,n,r))})}clearWhere(){return new Vo({...this.#e,onConflictNode:_s.cloneWithoutIndexWhere(this.#e.onConflictNode)})}doNothing(){return new ZP({...this.#e,onConflictNode:_s.cloneWith(this.#e.onConflictNode,{doNothing:!0})})}doUpdateSet(e){return new Ed({...this.#e,onConflictNode:_s.cloneWith(this.#e.onConflictNode,{updates:B1(e)})})}$call(e){return e(this)}}Sn(Vo,"don't await OnConflictBuilder instances.");class ZP{#e;constructor(e){this.#e=G(e)}toOperationNode(){return this.#e.onConflictNode}}Sn(ZP,"don't await OnConflictDoNothingBuilder instances.");class Ed{#e;constructor(e){this.#e=G(e)}where(...e){return new Ed({...this.#e,onConflictNode:_s.cloneWithUpdateWhere(this.#e.onConflictNode,pi(e))})}whereRef(e,n,r){return new Ed({...this.#e,onConflictNode:_s.cloneWithUpdateWhere(this.#e.onConflictNode,ta(e,n,r))})}clearWhere(){return new Ed({...this.#e,onConflictNode:_s.cloneWithoutUpdateWhere(this.#e.onConflictNode)})}$call(e){return e(this)}toOperationNode(){return this.#e.onConflictNode}}Sn(Ed,"don't await OnConflictUpdateBuilder instances.");const i8=G({is(t){return t.kind==="TopNode"},create(t,e){return G({kind:"TopNode",expression:t,modifiers:e})}});function cf(t,e){if(!Ib(t)&&!A1(t))throw new Error(`Invalid top expression: ${t}`);if(!jl(e)&&!s8(e))throw new Error(`Invalid top modifiers: ${e}`);return i8.create(t,e)}function s8(t){return t==="percent"||t==="with ties"||t==="percent with ties"}class gr{#e;constructor(e){this.#e=G(e)}values(e){const[n,r]=GP(e);return new gr({...this.#e,queryNode:Es.cloneWith(this.#e.queryNode,{columns:n,values:r})})}columns(e){return new gr({...this.#e,queryNode:Es.cloneWith(this.#e.queryNode,{columns:G(e.map(Vr.create))})})}expression(e){return new gr({...this.#e,queryNode:Es.cloneWith(this.#e.queryNode,{values:uu(e)})})}defaultValues(){return new gr({...this.#e,queryNode:Es.cloneWith(this.#e.queryNode,{defaultValues:!0})})}modifyEnd(e){return new gr({...this.#e,queryNode:Pt.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}ignore(){return new gr({...this.#e,queryNode:Es.cloneWith(this.#e.queryNode,{ignore:!0})})}top(e,n){return new gr({...this.#e,queryNode:Pt.cloneWithTop(this.#e.queryNode,cf(e,n))})}onConflict(e){return new gr({...this.#e,queryNode:Es.cloneWith(this.#e.queryNode,{onConflict:e(new Vo({onConflictNode:_s.create()})).toOperationNode()})})}onDuplicateKeyUpdate(e){return new gr({...this.#e,queryNode:Es.cloneWith(this.#e.queryNode,{onDuplicateKey:n8.create(B1(e))})})}returning(e){return new gr({...this.#e,queryNode:Pt.cloneWithReturning(this.#e.queryNode,qo(e))})}returningAll(){return new gr({...this.#e,queryNode:Pt.cloneWithReturning(this.#e.queryNode,na())})}output(e){return new gr({...this.#e,queryNode:Pt.cloneWithOutput(this.#e.queryNode,qo(e))})}outputAll(e){return new gr({...this.#e,queryNode:Pt.cloneWithOutput(this.#e.queryNode,na(e))})}clearReturning(){return new gr({...this.#e,queryNode:Pt.cloneWithoutReturning(this.#e.queryNode)})}$call(e){return e(this)}$if(e,n){return e?n(this):new gr({...this.#e})}$castTo(){return new gr(this.#e)}$narrowType(){return new gr(this.#e)}$assertType(){return new gr(this.#e)}withPlugin(e){return new gr({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),n=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:r}=this.#e.executor,i=e.query;return i.returning&&r.supportsReturning||i.output&&r.supportsOutput?n.rows:[new r8(n.insertId,n.numAffectedRows??n.numUpdatedOrDeletedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=sm){const n=await this.executeTakeFirst();if(n===void 0)throw om(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async *stream(e=100){const n=this.compile(),r=this.#e.executor.stream(n,e,this.#e.queryId);for await(const i of r)yield*i.rows}async explain(e,n){return await new gr({...this.#e,queryNode:Pt.cloneWithExplain(this.#e.queryNode,e,n)}).execute()}}Sn(gr,"don't await InsertQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class o8{numDeletedRows;constructor(e){this.numDeletedRows=e}}const z1=G({is(t){return t.kind==="LimitNode"},create(t){return G({kind:"LimitNode",limit:t})}});class Qn{#e;constructor(e){this.#e=G(e)}where(...e){return new Qn({...this.#e,queryNode:Pt.cloneWithWhere(this.#e.queryNode,pi(e))})}whereRef(e,n,r){return new Qn({...this.#e,queryNode:Pt.cloneWithWhere(this.#e.queryNode,ta(e,n,r))})}clearWhere(){return new Qn({...this.#e,queryNode:Pt.cloneWithoutWhere(this.#e.queryNode)})}top(e,n){return new Qn({...this.#e,queryNode:Pt.cloneWithTop(this.#e.queryNode,cf(e,n))})}using(e){return new Qn({...this.#e,queryNode:Ac.cloneWithUsing(this.#e.queryNode,hh(e))})}innerJoin(...e){return new Qn({...this.#e,queryNode:Pt.cloneWithJoin(this.#e.queryNode,Fi("InnerJoin",e))})}leftJoin(...e){return new Qn({...this.#e,queryNode:Pt.cloneWithJoin(this.#e.queryNode,Fi("LeftJoin",e))})}rightJoin(...e){return new Qn({...this.#e,queryNode:Pt.cloneWithJoin(this.#e.queryNode,Fi("RightJoin",e))})}fullJoin(...e){return new Qn({...this.#e,queryNode:Pt.cloneWithJoin(this.#e.queryNode,Fi("FullJoin",e))})}returning(e){return new Qn({...this.#e,queryNode:Pt.cloneWithReturning(this.#e.queryNode,qo(e))})}returningAll(e){return new Qn({...this.#e,queryNode:Pt.cloneWithReturning(this.#e.queryNode,na(e))})}output(e){return new Qn({...this.#e,queryNode:Pt.cloneWithOutput(this.#e.queryNode,qo(e))})}outputAll(e){return new Qn({...this.#e,queryNode:Pt.cloneWithOutput(this.#e.queryNode,na(e))})}clearReturning(){return new Qn({...this.#e,queryNode:Pt.cloneWithoutReturning(this.#e.queryNode)})}clearLimit(){return new Qn({...this.#e,queryNode:Ac.cloneWithoutLimit(this.#e.queryNode)})}clearOrderBy(){return new Qn({...this.#e,queryNode:Ac.cloneWithoutOrderBy(this.#e.queryNode)})}orderBy(e,n){return new Qn({...this.#e,queryNode:Ac.cloneWithOrderByItems(this.#e.queryNode,rm([e,n]))})}limit(e){return new Qn({...this.#e,queryNode:Ac.cloneWithLimit(this.#e.queryNode,z1.create(Jr(e)))})}modifyEnd(e){return new Qn({...this.#e,queryNode:Pt.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}$call(e){return e(this)}$if(e,n){return e?n(this):new Qn({...this.#e})}$castTo(){return new Qn(this.#e)}$narrowType(){return new Qn(this.#e)}$assertType(){return new Qn(this.#e)}withPlugin(e){return new Qn({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),n=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:r}=this.#e.executor,i=e.query;return i.returning&&r.supportsReturning||i.output&&r.supportsOutput?n.rows:[new o8(n.numAffectedRows??n.numUpdatedOrDeletedRows??BigInt(0))]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=sm){const n=await this.executeTakeFirst();if(n===void 0)throw om(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async *stream(e=100){const n=this.compile(),r=this.#e.executor.stream(n,e,this.#e.queryId);for await(const i of r)yield*i.rows}async explain(e,n){return await new Qn({...this.#e,queryNode:Pt.cloneWithExplain(this.#e.queryNode,e,n)}).execute()}}Sn(Qn,"don't await DeleteQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class a8{numUpdatedRows;numChangedRows;constructor(e,n){this.numUpdatedRows=e,this.numChangedRows=n}}class nr{#e;constructor(e){this.#e=G(e)}where(...e){return new nr({...this.#e,queryNode:Pt.cloneWithWhere(this.#e.queryNode,pi(e))})}whereRef(e,n,r){return new nr({...this.#e,queryNode:Pt.cloneWithWhere(this.#e.queryNode,ta(e,n,r))})}clearWhere(){return new nr({...this.#e,queryNode:Pt.cloneWithoutWhere(this.#e.queryNode)})}top(e,n){return new nr({...this.#e,queryNode:Pt.cloneWithTop(this.#e.queryNode,cf(e,n))})}from(e){return new nr({...this.#e,queryNode:Sd.cloneWithFromItems(this.#e.queryNode,hh(e))})}innerJoin(...e){return new nr({...this.#e,queryNode:Pt.cloneWithJoin(this.#e.queryNode,Fi("InnerJoin",e))})}leftJoin(...e){return new nr({...this.#e,queryNode:Pt.cloneWithJoin(this.#e.queryNode,Fi("LeftJoin",e))})}rightJoin(...e){return new nr({...this.#e,queryNode:Pt.cloneWithJoin(this.#e.queryNode,Fi("RightJoin",e))})}fullJoin(...e){return new nr({...this.#e,queryNode:Pt.cloneWithJoin(this.#e.queryNode,Fi("FullJoin",e))})}limit(e){return new nr({...this.#e,queryNode:Sd.cloneWithLimit(this.#e.queryNode,z1.create(Jr(e)))})}set(...e){return new nr({...this.#e,queryNode:Sd.cloneWithUpdates(this.#e.queryNode,t8(...e))})}returning(e){return new nr({...this.#e,queryNode:Pt.cloneWithReturning(this.#e.queryNode,qo(e))})}returningAll(e){return new nr({...this.#e,queryNode:Pt.cloneWithReturning(this.#e.queryNode,na(e))})}output(e){return new nr({...this.#e,queryNode:Pt.cloneWithOutput(this.#e.queryNode,qo(e))})}outputAll(e){return new nr({...this.#e,queryNode:Pt.cloneWithOutput(this.#e.queryNode,na(e))})}modifyEnd(e){return new nr({...this.#e,queryNode:Pt.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}clearReturning(){return new nr({...this.#e,queryNode:Pt.cloneWithoutReturning(this.#e.queryNode)})}$call(e){return e(this)}$if(e,n){return e?n(this):new nr({...this.#e})}$castTo(){return new nr(this.#e)}$narrowType(){return new nr(this.#e)}$assertType(){return new nr(this.#e)}withPlugin(e){return new nr({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),n=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:r}=this.#e.executor,i=e.query;return i.returning&&r.supportsReturning||i.output&&r.supportsOutput?n.rows:[new a8(n.numAffectedRows??n.numUpdatedOrDeletedRows??BigInt(0),n.numChangedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=sm){const n=await this.executeTakeFirst();if(n===void 0)throw om(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async *stream(e=100){const n=this.compile(),r=this.#e.executor.stream(n,e,this.#e.queryId);for await(const i of r)yield*i.rows}async explain(e,n){return await new nr({...this.#e,queryNode:Pt.cloneWithExplain(this.#e.queryNode,e,n)}).execute()}}Sn(nr,"don't await UpdateQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");const kO=G({is(t){return t.kind==="CommonTableExpressionNameNode"},create(t,e){return G({kind:"CommonTableExpressionNameNode",table:Pl.create(t),columns:e?G(e.map(Vr.create)):void 0})}}),vv=G({is(t){return t.kind==="CommonTableExpressionNode"},create(t,e){return G({kind:"CommonTableExpressionNode",name:t,expression:e})},cloneWith(t,e){return G({...t,...e})}});class fh{#e;constructor(e){this.#e=G(e)}materialized(){return new fh({...this.#e,node:vv.cloneWith(this.#e.node,{materialized:!0})})}notMaterialized(){return new fh({...this.#e,node:vv.cloneWith(this.#e.node,{materialized:!1})})}toOperationNode(){return this.#e.node}}Sn(fh,"don't await CTEBuilder instances. They are never executed directly and are always just a part of a query.");function IO(t,e){const n=e(b8()).toOperationNode();return Fs(t)?t(l8(n)).toOperationNode():vv.create(YP(t),n)}function l8(t){return e=>new fh({node:vv.create(YP(e),t)})}function YP(t){if(t.includes("(")){const e=t.split(/[\(\)]/),n=e[0],r=e[1].split(",").map(i=>i.trim());return kO.create(n,r)}else return kO.create(t)}const $g=G({is(t){return t.kind==="WithNode"},create(t,e){return G({kind:"WithNode",expressions:G([t]),...e})},cloneWithExpression(t,e){return G({...t,expressions:G([...t.expressions,e])})}}),CO=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"];function c8(t){let e="";for(let n=0;n<t;++n)e+=u8();return e}function u8(){return CO[~~(Math.random()*CO.length)]}function Zn(){return new d8}class d8{#e;get queryId(){return this.#e===void 0&&(this.#e=c8(8)),this.#e}}class XP{nodeStack=[];#e=G({AliasNode:this.transformAlias.bind(this),ColumnNode:this.transformColumn.bind(this),IdentifierNode:this.transformIdentifier.bind(this),SchemableIdentifierNode:this.transformSchemableIdentifier.bind(this),RawNode:this.transformRaw.bind(this),ReferenceNode:this.transformReference.bind(this),SelectQueryNode:this.transformSelectQuery.bind(this),SelectionNode:this.transformSelection.bind(this),TableNode:this.transformTable.bind(this),FromNode:this.transformFrom.bind(this),SelectAllNode:this.transformSelectAll.bind(this),AndNode:this.transformAnd.bind(this),OrNode:this.transformOr.bind(this),ValueNode:this.transformValue.bind(this),ValueListNode:this.transformValueList.bind(this),PrimitiveValueListNode:this.transformPrimitiveValueList.bind(this),ParensNode:this.transformParens.bind(this),JoinNode:this.transformJoin.bind(this),OperatorNode:this.transformOperator.bind(this),WhereNode:this.transformWhere.bind(this),InsertQueryNode:this.transformInsertQuery.bind(this),DeleteQueryNode:this.transformDeleteQuery.bind(this),ReturningNode:this.transformReturning.bind(this),CreateTableNode:this.transformCreateTable.bind(this),AddColumnNode:this.transformAddColumn.bind(this),ColumnDefinitionNode:this.transformColumnDefinition.bind(this),DropTableNode:this.transformDropTable.bind(this),DataTypeNode:this.transformDataType.bind(this),OrderByNode:this.transformOrderBy.bind(this),OrderByItemNode:this.transformOrderByItem.bind(this),GroupByNode:this.transformGroupBy.bind(this),GroupByItemNode:this.transformGroupByItem.bind(this),UpdateQueryNode:this.transformUpdateQuery.bind(this),ColumnUpdateNode:this.transformColumnUpdate.bind(this),LimitNode:this.transformLimit.bind(this),OffsetNode:this.transformOffset.bind(this),OnConflictNode:this.transformOnConflict.bind(this),OnDuplicateKeyNode:this.transformOnDuplicateKey.bind(this),CreateIndexNode:this.transformCreateIndex.bind(this),DropIndexNode:this.transformDropIndex.bind(this),ListNode:this.transformList.bind(this),PrimaryKeyConstraintNode:this.transformPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.transformUniqueConstraint.bind(this),ReferencesNode:this.transformReferences.bind(this),CheckConstraintNode:this.transformCheckConstraint.bind(this),WithNode:this.transformWith.bind(this),CommonTableExpressionNode:this.transformCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.transformCommonTableExpressionName.bind(this),HavingNode:this.transformHaving.bind(this),CreateSchemaNode:this.transformCreateSchema.bind(this),DropSchemaNode:this.transformDropSchema.bind(this),AlterTableNode:this.transformAlterTable.bind(this),DropColumnNode:this.transformDropColumn.bind(this),RenameColumnNode:this.transformRenameColumn.bind(this),AlterColumnNode:this.transformAlterColumn.bind(this),ModifyColumnNode:this.transformModifyColumn.bind(this),AddConstraintNode:this.transformAddConstraint.bind(this),DropConstraintNode:this.transformDropConstraint.bind(this),ForeignKeyConstraintNode:this.transformForeignKeyConstraint.bind(this),CreateViewNode:this.transformCreateView.bind(this),DropViewNode:this.transformDropView.bind(this),GeneratedNode:this.transformGenerated.bind(this),DefaultValueNode:this.transformDefaultValue.bind(this),OnNode:this.transformOn.bind(this),ValuesNode:this.transformValues.bind(this),SelectModifierNode:this.transformSelectModifier.bind(this),CreateTypeNode:this.transformCreateType.bind(this),DropTypeNode:this.transformDropType.bind(this),ExplainNode:this.transformExplain.bind(this),DefaultInsertValueNode:this.transformDefaultInsertValue.bind(this),AggregateFunctionNode:this.transformAggregateFunction.bind(this),OverNode:this.transformOver.bind(this),PartitionByNode:this.transformPartitionBy.bind(this),PartitionByItemNode:this.transformPartitionByItem.bind(this),SetOperationNode:this.transformSetOperation.bind(this),BinaryOperationNode:this.transformBinaryOperation.bind(this),UnaryOperationNode:this.transformUnaryOperation.bind(this),UsingNode:this.transformUsing.bind(this),FunctionNode:this.transformFunction.bind(this),CaseNode:this.transformCase.bind(this),WhenNode:this.transformWhen.bind(this),JSONReferenceNode:this.transformJSONReference.bind(this),JSONPathNode:this.transformJSONPath.bind(this),JSONPathLegNode:this.transformJSONPathLeg.bind(this),JSONOperatorChainNode:this.transformJSONOperatorChain.bind(this),TupleNode:this.transformTuple.bind(this),MergeQueryNode:this.transformMergeQuery.bind(this),MatchedNode:this.transformMatched.bind(this),AddIndexNode:this.transformAddIndex.bind(this),CastNode:this.transformCast.bind(this),FetchNode:this.transformFetch.bind(this),TopNode:this.transformTop.bind(this),OutputNode:this.transformOutput.bind(this)});transformNode(e){if(!e)return e;this.nodeStack.push(e);const n=this.transformNodeImpl(e);return this.nodeStack.pop(),G(n)}transformNodeImpl(e){return this.#e[e.kind](e)}transformNodeList(e){return e&&G(e.map(n=>this.transformNode(n)))}transformSelectQuery(e){return{kind:"SelectQueryNode",from:this.transformNode(e.from),selections:this.transformNodeList(e.selections),distinctOn:this.transformNodeList(e.distinctOn),joins:this.transformNodeList(e.joins),groupBy:this.transformNode(e.groupBy),orderBy:this.transformNode(e.orderBy),where:this.transformNode(e.where),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),limit:this.transformNode(e.limit),offset:this.transformNode(e.offset),with:this.transformNode(e.with),having:this.transformNode(e.having),explain:this.transformNode(e.explain),setOperations:this.transformNodeList(e.setOperations),fetch:this.transformNode(e.fetch),top:this.transformNode(e.top)}}transformSelection(e){return{kind:"SelectionNode",selection:this.transformNode(e.selection)}}transformColumn(e){return{kind:"ColumnNode",column:this.transformNode(e.column)}}transformAlias(e){return{kind:"AliasNode",node:this.transformNode(e.node),alias:this.transformNode(e.alias)}}transformTable(e){return{kind:"TableNode",table:this.transformNode(e.table)}}transformFrom(e){return{kind:"FromNode",froms:this.transformNodeList(e.froms)}}transformReference(e){return{kind:"ReferenceNode",column:this.transformNode(e.column),table:this.transformNode(e.table)}}transformAnd(e){return{kind:"AndNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformOr(e){return{kind:"OrNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformValueList(e){return{kind:"ValueListNode",values:this.transformNodeList(e.values)}}transformParens(e){return{kind:"ParensNode",node:this.transformNode(e.node)}}transformJoin(e){return{kind:"JoinNode",joinType:e.joinType,table:this.transformNode(e.table),on:this.transformNode(e.on)}}transformRaw(e){return{kind:"RawNode",sqlFragments:G([...e.sqlFragments]),parameters:this.transformNodeList(e.parameters)}}transformWhere(e){return{kind:"WhereNode",where:this.transformNode(e.where)}}transformInsertQuery(e){return{kind:"InsertQueryNode",into:this.transformNode(e.into),columns:this.transformNodeList(e.columns),values:this.transformNode(e.values),returning:this.transformNode(e.returning),onConflict:this.transformNode(e.onConflict),onDuplicateKey:this.transformNode(e.onDuplicateKey),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),ignore:e.ignore,replace:e.replace,explain:this.transformNode(e.explain),defaultValues:e.defaultValues,top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformValues(e){return{kind:"ValuesNode",values:this.transformNodeList(e.values)}}transformDeleteQuery(e){return{kind:"DeleteQueryNode",from:this.transformNode(e.from),using:this.transformNode(e.using),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),returning:this.transformNode(e.returning),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),orderBy:this.transformNode(e.orderBy),limit:this.transformNode(e.limit),explain:this.transformNode(e.explain),top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformReturning(e){return{kind:"ReturningNode",selections:this.transformNodeList(e.selections)}}transformCreateTable(e){return{kind:"CreateTableNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),constraints:this.transformNodeList(e.constraints),temporary:e.temporary,ifNotExists:e.ifNotExists,onCommit:e.onCommit,frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),selectQuery:this.transformNode(e.selectQuery)}}transformColumnDefinition(e){return{kind:"ColumnDefinitionNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),references:this.transformNode(e.references),primaryKey:e.primaryKey,autoIncrement:e.autoIncrement,unique:e.unique,notNull:e.notNull,unsigned:e.unsigned,defaultTo:this.transformNode(e.defaultTo),check:this.transformNode(e.check),generated:this.transformNode(e.generated),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),nullsNotDistinct:e.nullsNotDistinct,identity:e.identity,ifNotExists:e.ifNotExists}}transformAddColumn(e){return{kind:"AddColumnNode",column:this.transformNode(e.column)}}transformDropTable(e){return{kind:"DropTableNode",table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformOrderBy(e){return{kind:"OrderByNode",items:this.transformNodeList(e.items)}}transformOrderByItem(e){return{kind:"OrderByItemNode",orderBy:this.transformNode(e.orderBy),direction:this.transformNode(e.direction)}}transformGroupBy(e){return{kind:"GroupByNode",items:this.transformNodeList(e.items)}}transformGroupByItem(e){return{kind:"GroupByItemNode",groupBy:this.transformNode(e.groupBy)}}transformUpdateQuery(e){return{kind:"UpdateQueryNode",table:this.transformNode(e.table),from:this.transformNode(e.from),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),updates:this.transformNodeList(e.updates),returning:this.transformNode(e.returning),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),explain:this.transformNode(e.explain),limit:this.transformNode(e.limit),top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformColumnUpdate(e){return{kind:"ColumnUpdateNode",column:this.transformNode(e.column),value:this.transformNode(e.value)}}transformLimit(e){return{kind:"LimitNode",limit:this.transformNode(e.limit)}}transformOffset(e){return{kind:"OffsetNode",offset:this.transformNode(e.offset)}}transformOnConflict(e){return{kind:"OnConflictNode",columns:this.transformNodeList(e.columns),constraint:this.transformNode(e.constraint),indexExpression:this.transformNode(e.indexExpression),indexWhere:this.transformNode(e.indexWhere),updates:this.transformNodeList(e.updates),updateWhere:this.transformNode(e.updateWhere),doNothing:e.doNothing}}transformOnDuplicateKey(e){return{kind:"OnDuplicateKeyNode",updates:this.transformNodeList(e.updates)}}transformCreateIndex(e){return{kind:"CreateIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists,where:this.transformNode(e.where),nullsNotDistinct:e.nullsNotDistinct}}transformList(e){return{kind:"ListNode",items:this.transformNodeList(e.items)}}transformDropIndex(e){return{kind:"DropIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformPrimaryKeyConstraint(e){return{kind:"PrimaryKeyConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name)}}transformUniqueConstraint(e){return{kind:"UniqueConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name),nullsNotDistinct:e.nullsNotDistinct}}transformForeignKeyConstraint(e){return{kind:"ForeignKeyConstraintNode",columns:this.transformNodeList(e.columns),references:this.transformNode(e.references),name:this.transformNode(e.name),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformSetOperation(e){return{kind:"SetOperationNode",operator:e.operator,expression:this.transformNode(e.expression),all:e.all}}transformReferences(e){return{kind:"ReferencesNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformCheckConstraint(e){return{kind:"CheckConstraintNode",expression:this.transformNode(e.expression),name:this.transformNode(e.name)}}transformWith(e){return{kind:"WithNode",expressions:this.transformNodeList(e.expressions),recursive:e.recursive}}transformCommonTableExpression(e){return{kind:"CommonTableExpressionNode",name:this.transformNode(e.name),materialized:e.materialized,expression:this.transformNode(e.expression)}}transformCommonTableExpressionName(e){return{kind:"CommonTableExpressionNameNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns)}}transformHaving(e){return{kind:"HavingNode",having:this.transformNode(e.having)}}transformCreateSchema(e){return{kind:"CreateSchemaNode",schema:this.transformNode(e.schema),ifNotExists:e.ifNotExists}}transformDropSchema(e){return{kind:"DropSchemaNode",schema:this.transformNode(e.schema),ifExists:e.ifExists,cascade:e.cascade}}transformAlterTable(e){return{kind:"AlterTableNode",table:this.transformNode(e.table),renameTo:this.transformNode(e.renameTo),setSchema:this.transformNode(e.setSchema),columnAlterations:this.transformNodeList(e.columnAlterations),addConstraint:this.transformNode(e.addConstraint),dropConstraint:this.transformNode(e.dropConstraint),addIndex:this.transformNode(e.addIndex),dropIndex:this.transformNode(e.dropIndex)}}transformDropColumn(e){return{kind:"DropColumnNode",column:this.transformNode(e.column)}}transformRenameColumn(e){return{kind:"RenameColumnNode",column:this.transformNode(e.column),renameTo:this.transformNode(e.renameTo)}}transformAlterColumn(e){return{kind:"AlterColumnNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),dataTypeExpression:this.transformNode(e.dataTypeExpression),setDefault:this.transformNode(e.setDefault),dropDefault:e.dropDefault,setNotNull:e.setNotNull,dropNotNull:e.dropNotNull}}transformModifyColumn(e){return{kind:"ModifyColumnNode",column:this.transformNode(e.column)}}transformAddConstraint(e){return{kind:"AddConstraintNode",constraint:this.transformNode(e.constraint)}}transformDropConstraint(e){return{kind:"DropConstraintNode",constraintName:this.transformNode(e.constraintName),ifExists:e.ifExists,modifier:e.modifier}}transformCreateView(e){return{kind:"CreateViewNode",name:this.transformNode(e.name),temporary:e.temporary,orReplace:e.orReplace,ifNotExists:e.ifNotExists,materialized:e.materialized,columns:this.transformNodeList(e.columns),as:this.transformNode(e.as)}}transformDropView(e){return{kind:"DropViewNode",name:this.transformNode(e.name),ifExists:e.ifExists,materialized:e.materialized,cascade:e.cascade}}transformGenerated(e){return{kind:"GeneratedNode",byDefault:e.byDefault,always:e.always,identity:e.identity,stored:e.stored,expression:this.transformNode(e.expression)}}transformDefaultValue(e){return{kind:"DefaultValueNode",defaultValue:this.transformNode(e.defaultValue)}}transformOn(e){return{kind:"OnNode",on:this.transformNode(e.on)}}transformSelectModifier(e){return{kind:"SelectModifierNode",modifier:e.modifier,rawModifier:this.transformNode(e.rawModifier),of:this.transformNodeList(e.of)}}transformCreateType(e){return{kind:"CreateTypeNode",name:this.transformNode(e.name),enum:this.transformNode(e.enum)}}transformDropType(e){return{kind:"DropTypeNode",name:this.transformNode(e.name),ifExists:e.ifExists}}transformExplain(e){return{kind:"ExplainNode",format:e.format,options:this.transformNode(e.options)}}transformSchemableIdentifier(e){return{kind:"SchemableIdentifierNode",schema:this.transformNode(e.schema),identifier:this.transformNode(e.identifier)}}transformAggregateFunction(e){return{kind:"AggregateFunctionNode",aggregated:this.transformNodeList(e.aggregated),distinct:e.distinct,orderBy:this.transformNode(e.orderBy),filter:this.transformNode(e.filter),func:e.func,over:this.transformNode(e.over)}}transformOver(e){return{kind:"OverNode",orderBy:this.transformNode(e.orderBy),partitionBy:this.transformNode(e.partitionBy)}}transformPartitionBy(e){return{kind:"PartitionByNode",items:this.transformNodeList(e.items)}}transformPartitionByItem(e){return{kind:"PartitionByItemNode",partitionBy:this.transformNode(e.partitionBy)}}transformBinaryOperation(e){return{kind:"BinaryOperationNode",leftOperand:this.transformNode(e.leftOperand),operator:this.transformNode(e.operator),rightOperand:this.transformNode(e.rightOperand)}}transformUnaryOperation(e){return{kind:"UnaryOperationNode",operator:this.transformNode(e.operator),operand:this.transformNode(e.operand)}}transformUsing(e){return{kind:"UsingNode",tables:this.transformNodeList(e.tables)}}transformFunction(e){return{kind:"FunctionNode",func:e.func,arguments:this.transformNodeList(e.arguments)}}transformCase(e){return{kind:"CaseNode",value:this.transformNode(e.value),when:this.transformNodeList(e.when),else:this.transformNode(e.else),isStatement:e.isStatement}}transformWhen(e){return{kind:"WhenNode",condition:this.transformNode(e.condition),result:this.transformNode(e.result)}}transformJSONReference(e){return{kind:"JSONReferenceNode",reference:this.transformNode(e.reference),traversal:this.transformNode(e.traversal)}}transformJSONPath(e){return{kind:"JSONPathNode",inOperator:this.transformNode(e.inOperator),pathLegs:this.transformNodeList(e.pathLegs)}}transformJSONPathLeg(e){return{kind:"JSONPathLegNode",type:e.type,value:e.value}}transformJSONOperatorChain(e){return{kind:"JSONOperatorChainNode",operator:this.transformNode(e.operator),values:this.transformNodeList(e.values)}}transformTuple(e){return{kind:"TupleNode",values:this.transformNodeList(e.values)}}transformMergeQuery(e){return{kind:"MergeQueryNode",into:this.transformNode(e.into),using:this.transformNode(e.using),whens:this.transformNodeList(e.whens),with:this.transformNode(e.with),top:this.transformNode(e.top),endModifiers:this.transformNodeList(e.endModifiers),output:this.transformNode(e.output)}}transformMatched(e){return{kind:"MatchedNode",not:e.not,bySource:e.bySource}}transformAddIndex(e){return{kind:"AddIndexNode",name:this.transformNode(e.name),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists}}transformCast(e){return{kind:"CastNode",expression:this.transformNode(e.expression),dataType:this.transformNode(e.dataType)}}transformFetch(e){return{kind:"FetchNode",rowCount:this.transformNode(e.rowCount),modifier:e.modifier}}transformTop(e){return{kind:"TopNode",expression:e.expression,modifiers:e.modifiers}}transformOutput(e){return{kind:"OutputNode",selections:this.transformNodeList(e.selections)}}transformDataType(e){return e}transformSelectAll(e){return e}transformIdentifier(e){return e}transformValue(e){return e}transformPrimitiveValueList(e){return e}transformOperator(e){return e}transformDefaultInsertValue(e){return e}}const f8=G({AlterTableNode:!0,CreateIndexNode:!0,CreateSchemaNode:!0,CreateTableNode:!0,CreateTypeNode:!0,CreateViewNode:!0,DeleteQueryNode:!0,DropIndexNode:!0,DropSchemaNode:!0,DropTableNode:!0,DropTypeNode:!0,DropViewNode:!0,InsertQueryNode:!0,RawNode:!0,SelectQueryNode:!0,UpdateQueryNode:!0,MergeQueryNode:!0});class p8 extends XP{#e;#t=new Set;#n=new Set;constructor(e){super(),this.#e=e}transformNodeImpl(e){if(!this.#r(e))return super.transformNodeImpl(e);const n=this.#s(e);for(const s of n)this.#n.add(s);const r=this.#i(e);for(const s of r)this.#t.add(s);const i=super.transformNodeImpl(e);for(const s of r)this.#t.delete(s);for(const s of n)this.#n.delete(s);return i}transformSchemableIdentifier(e){const n=super.transformSchemableIdentifier(e);return n.schema||!this.#t.has(e.identifier.name)?n:{...n,schema:br.create(this.#e)}}transformReferences(e){const n=super.transformReferences(e);return n.table.table.schema?n:{...n,table:Pl.createWithSchema(this.#e,n.table.table.identifier.name)}}#r(e){return e.kind in f8}#i(e){const n=new Set;if("name"in e&&e.name&&Bl.is(e.name)&&this.#a(e.name,n),"from"in e&&e.from)for(const r of e.from.froms)this.#o(r,n);if("into"in e&&e.into&&this.#o(e.into,n),"table"in e&&e.table&&this.#o(e.table,n),"joins"in e&&e.joins)for(const r of e.joins)this.#o(r.table,n);return"using"in e&&e.using&&this.#o(e.using,n),n}#s(e){const n=new Set;return"with"in e&&e.with&&this.#c(e.with,n),n}#o(e,n){const r=Pl.is(e)?e:Zl.is(e)&&Pl.is(e.node)?e.node:null;r&&this.#a(r.table,n)}#a(e,n){const r=e.identifier.name;!this.#t.has(r)&&!this.#n.has(r)&&n.add(r)}#c(e,n){for(const r of e.expressions){const i=r.name.table.table.identifier.name;this.#n.has(i)||n.add(i)}}}class am{#e;constructor(e){this.#e=new p8(e)}transformQuery(e){return this.#e.transformNode(e.node)}async transformResult(e){return e.result}}const h8=G({is(t){return t.kind==="MatchedNode"},create(t,e=!1){return G({kind:"MatchedNode",not:t,bySource:e})}});function TO(t,e,n){return im.create(gv([h8.create(!t.isMatched,t.bySource),...e&&e.length>0?[e.length===3&&n?ta(e[0],e[1],e[2]):pi(e)]:[]],"and",!1))}function Zp(t){return js(t)?_i.create([t],[]):gs(t)?t.toOperationNode():t}class OO{#e;#t;#n;constructor(){this.#e=new Promise((e,n)=>{this.#n=n,this.#t=e})}get promise(){return this.#e}resolve=e=>{this.#t&&this.#t(e)};reject=e=>{this.#n&&this.#n(e)}}const RO=new Set;function m8(t){RO.has(t)||(RO.add(t),console.log(t))}const g8=G([]);class eF{#e;constructor(e=g8){this.#e=e}get plugins(){return this.#e}transformQuery(e,n){for(const r of this.#e){const i=r.transformQuery({node:e,queryId:n});if(i.kind===e.kind)e=i;else throw new Error(["KyselyPlugin.transformQuery must return a node","of the same kind that was given to it.",`The plugin was given a ${e.kind}`,`but it returned a ${i.kind}`].join(" "))}return e}async executeQuery(e,n){return await this.provideConnection(async r=>{const i=await r.executeQuery(e),s=await this.#t(i,n);return y8(i,s),s})}async *stream(e,n,r){const i=new OO,s=new OO;this.provideConnection(async l=>(i.resolve(l),await s.promise)).catch(l=>i.reject(l));const o=await i.promise;try{for await(const l of o.streamQuery(e,n))yield await this.#t(l,r)}finally{s.resolve()}}async #t(e,n){for(const r of this.#e)e=await r.transformResult({result:e,queryId:n});return e}}function y8(t,e){const{numAffectedRows:n}=t;n===void 0&&t.numUpdatedOrDeletedRows===void 0||n!==void 0&&e.numAffectedRows!==void 0||m8("kysely:warning: outdated driver/plugin detected! QueryResult.numUpdatedOrDeletedRows is deprecated and will be removed in a future release.")}class ld extends eF{get adapter(){throw new Error("this query cannot be compiled to SQL")}compileQuery(){throw new Error("this query cannot be compiled to SQL")}provideConnection(){throw new Error("this query cannot be executed")}withConnectionProvider(){throw new Error("this query cannot have a connection provider")}withPlugin(e){return new ld([...this.plugins,e])}withPlugins(e){return new ld([...this.plugins,...e])}withPluginAtFront(e){return new ld([e,...this.plugins])}withoutPlugins(){return new ld([])}}const Tb=new ld;class v8{numChangedRows;constructor(e){this.numChangedRows=e}}class zc{#e;constructor(e){this.#e=G(e)}modifyEnd(e){return new zc({...this.#e,queryNode:Pt.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}top(e,n){return new zc({...this.#e,queryNode:Pt.cloneWithTop(this.#e.queryNode,cf(e,n))})}using(...e){return new Cs({...this.#e,queryNode:cs.cloneWithUsing(this.#e.queryNode,Fi("Using",e))})}output(e){return new zc({...this.#e,queryNode:Pt.cloneWithOutput(this.#e.queryNode,qo(e))})}outputAll(e){return new zc({...this.#e,queryNode:Pt.cloneWithOutput(this.#e.queryNode,na(e))})}}Sn(zc,"don't await MergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class Cs{#e;constructor(e){this.#e=G(e)}modifyEnd(e){return new Cs({...this.#e,queryNode:Pt.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}top(e,n){return new Cs({...this.#e,queryNode:Pt.cloneWithTop(this.#e.queryNode,cf(e,n))})}whenMatched(){return this.#t([])}whenMatchedAnd(...e){return this.#t(e)}whenMatchedAndRef(e,n,r){return this.#t([e,n,r],!0)}#t(e,n){return new bE({...this.#e,queryNode:cs.cloneWithWhen(this.#e.queryNode,TO({isMatched:!0},e,n))})}whenNotMatched(){return this.#n([])}whenNotMatchedAnd(...e){return this.#n(e)}whenNotMatchedAndRef(e,n,r){return this.#n([e,n,r],!0)}whenNotMatchedBySource(){return this.#n([],!1,!0)}whenNotMatchedBySourceAnd(...e){return this.#n(e,!1,!0)}whenNotMatchedBySourceAndRef(e,n,r){return this.#n([e,n,r],!0,!0)}output(e){return new Cs({...this.#e,queryNode:Pt.cloneWithOutput(this.#e.queryNode,qo(e))})}outputAll(e){return new Cs({...this.#e,queryNode:Pt.cloneWithOutput(this.#e.queryNode,na(e))})}#n(e,n=!1,r=!1){const i={...this.#e,queryNode:cs.cloneWithWhen(this.#e.queryNode,TO({isMatched:!1,bySource:r},e,n))},s=r?bE:tF;return new s(i)}$call(e){return e(this)}$if(e,n){return e?n(this):new Cs({...this.#e})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),n=await this.#e.executor.executeQuery(e,this.#e.queryId);return e.query.output&&this.#e.executor.adapter.supportsOutput?n.rows:[new v8(n.numAffectedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=sm){const n=await this.executeTakeFirst();if(n===void 0)throw om(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}}Sn(Cs,"don't await WheneableMergeQueryBuilder instances directly. To execute the query you need to call `execute`.");class bE{#e;constructor(e){this.#e=G(e)}thenDelete(){return new Cs({...this.#e,queryNode:cs.cloneWithThen(this.#e.queryNode,Zp("delete"))})}thenDoNothing(){return new Cs({...this.#e,queryNode:cs.cloneWithThen(this.#e.queryNode,Zp("do nothing"))})}thenUpdate(e){return new Cs({...this.#e,queryNode:cs.cloneWithThen(this.#e.queryNode,Zp(e(new nr({queryId:this.#e.queryId,executor:Tb,queryNode:Sd.createWithoutTable()}))))})}thenUpdateSet(...e){return this.thenUpdate(n=>n.set(...e))}}Sn(bE,"don't await MatchedThenableMergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class tF{#e;constructor(e){this.#e=G(e)}thenDoNothing(){return new Cs({...this.#e,queryNode:cs.cloneWithThen(this.#e.queryNode,Zp("do nothing"))})}thenInsertValues(e){const[n,r]=GP(e);return new Cs({...this.#e,queryNode:cs.cloneWithThen(this.#e.queryNode,Zp(Es.cloneWith(Es.createWithoutInto(),{columns:n,values:r})))})}}Sn(tF,"don't await NotMatchedThenableMergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class Nl{#e;constructor(e){this.#e=G(e)}selectFrom(e){return xE({queryId:Zn(),executor:this.#e.executor,queryNode:Gn.createFrom(hh(e),this.#e.withNode)})}selectNoFrom(e){return xE({queryId:Zn(),executor:this.#e.executor,queryNode:Gn.cloneWithSelections(Gn.create(this.#e.withNode),qo(e))})}insertInto(e){return new gr({queryId:Zn(),executor:this.#e.executor,queryNode:Es.create(zr(e),this.#e.withNode)})}replaceInto(e){return new gr({queryId:Zn(),executor:this.#e.executor,queryNode:Es.create(zr(e),this.#e.withNode,!0)})}deleteFrom(e){return new Qn({queryId:Zn(),executor:this.#e.executor,queryNode:Ac.create(hh(e),this.#e.withNode)})}updateTable(e){return new nr({queryId:Zn(),executor:this.#e.executor,queryNode:Sd.create(mh(e),this.#e.withNode)})}mergeInto(e){return new zc({queryId:Zn(),executor:this.#e.executor,queryNode:cs.create(lF(e),this.#e.withNode)})}with(e,n){const r=IO(e,n);return new Nl({...this.#e,withNode:this.#e.withNode?$g.cloneWithExpression(this.#e.withNode,r):$g.create(r)})}withRecursive(e,n){const r=IO(e,n);return new Nl({...this.#e,withNode:this.#e.withNode?$g.cloneWithExpression(this.#e.withNode,r):$g.create(r,{recursive:!0})})}withPlugin(e){return new Nl({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new Nl({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new Nl({...this.#e,executor:this.#e.executor.withPluginAtFront(new am(e))})}}function b8(){return new Nl({executor:Tb})}function x8(t,e){return new _d({joinNode:Qp.create(t,mh(e))})}function w8(){return new dh({overNode:vE.create()})}function Fi(t,e){if(e.length===3)return S8(t,e[0],e[1],e[2]);if(e.length===2)return _8(t,e[0],e[1]);throw new Error("not implemented")}function _8(t,e,n){return n(x8(t,e)).toOperationNode()}function S8(t,e,n,r){return Qp.createWithOn(t,mh(e),ta(n,"=",r))}const E8=G({is(t){return t.kind==="OffsetNode"},create(t){return G({kind:"OffsetNode",offset:t})}}),N8=G({is(t){return t.kind==="GroupByItemNode"},create(t){return G({kind:"GroupByItemNode",groupBy:t})}});function k8(t){return t=Fs(t)?t(uf()):t,uh(t).map(N8.create)}const nF=G({is(t){return t.kind==="SetOperationNode"},create(t,e,n){return G({kind:"SetOperationNode",operator:t,expression:e,all:n})}});function Qu(t,e,n){return Fs(e)&&(e=e(U1())),La(e)||(e=[e]),e.map(r=>nF.create(t,uu(r),n))}class rr{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new W1(this,e)}or(...e){return new bv(lf.create(this.#e,pi(e)))}and(...e){return new xv(zl.create(this.#e,pi(e)))}$castTo(){return new rr(this.#e)}$notNull(){return new rr(this.#e)}toOperationNode(){return this.#e}}class W1{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return Zl.create(this.#e.toOperationNode(),gs(this.#t)?this.#t.toOperationNode():br.create(this.#t))}}class bv{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new W1(this,e)}or(...e){return new bv(lf.create(this.#e,pi(e)))}$castTo(){return new bv(this.#e)}toOperationNode(){return Dd.create(this.#e)}}class xv{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new W1(this,e)}and(...e){return new xv(zl.create(this.#e,pi(e)))}$castTo(){return new xv(this.#e)}toOperationNode(){return Dd.create(this.#e)}}const I8={is(t){return t.kind==="FetchNode"},create(t,e){return{kind:"FetchNode",rowCount:ea.create(t),modifier:e}}};function C8(t,e){if(!Ib(t)&&!A1(t))throw new Error(`Invalid fetch row count: ${t}`);if(!T8(e))throw new Error(`Invalid fetch modifier: ${e}`);return I8.create(t,e)}function T8(t){return t==="only"||t==="with ties"}class rn{#e;constructor(e){this.#e=G(e)}get expressionType(){}get isSelectQueryBuilder(){return!0}where(...e){return new rn({...this.#e,queryNode:Pt.cloneWithWhere(this.#e.queryNode,pi(e))})}whereRef(e,n,r){return new rn({...this.#e,queryNode:Pt.cloneWithWhere(this.#e.queryNode,ta(e,n,r))})}having(...e){return new rn({...this.#e,queryNode:Gn.cloneWithHaving(this.#e.queryNode,pi(e))})}havingRef(e,n,r){return new rn({...this.#e,queryNode:Gn.cloneWithHaving(this.#e.queryNode,ta(e,n,r))})}select(e){return new rn({...this.#e,queryNode:Gn.cloneWithSelections(this.#e.queryNode,qo(e))})}distinctOn(e){return new rn({...this.#e,queryNode:Gn.cloneWithDistinctOn(this.#e.queryNode,uh(e))})}modifyFront(e){return new rn({...this.#e,queryNode:Gn.cloneWithFrontModifier(this.#e.queryNode,Sa.createWithExpression(e.toOperationNode()))})}modifyEnd(e){return new rn({...this.#e,queryNode:Pt.cloneWithEndModifier(this.#e.queryNode,Sa.createWithExpression(e.toOperationNode()))})}distinct(){return new rn({...this.#e,queryNode:Gn.cloneWithFrontModifier(this.#e.queryNode,Sa.create("Distinct"))})}forUpdate(e){return new rn({...this.#e,queryNode:Pt.cloneWithEndModifier(this.#e.queryNode,Sa.create("ForUpdate",e?Mg(e).map(zr):void 0))})}forShare(e){return new rn({...this.#e,queryNode:Pt.cloneWithEndModifier(this.#e.queryNode,Sa.create("ForShare",e?Mg(e).map(zr):void 0))})}forKeyShare(e){return new rn({...this.#e,queryNode:Pt.cloneWithEndModifier(this.#e.queryNode,Sa.create("ForKeyShare",e?Mg(e).map(zr):void 0))})}forNoKeyUpdate(e){return new rn({...this.#e,queryNode:Pt.cloneWithEndModifier(this.#e.queryNode,Sa.create("ForNoKeyUpdate",e?Mg(e).map(zr):void 0))})}skipLocked(){return new rn({...this.#e,queryNode:Pt.cloneWithEndModifier(this.#e.queryNode,Sa.create("SkipLocked"))})}noWait(){return new rn({...this.#e,queryNode:Pt.cloneWithEndModifier(this.#e.queryNode,Sa.create("NoWait"))})}selectAll(e){return new rn({...this.#e,queryNode:Gn.cloneWithSelections(this.#e.queryNode,na(e))})}innerJoin(...e){return new rn({...this.#e,queryNode:Pt.cloneWithJoin(this.#e.queryNode,Fi("InnerJoin",e))})}leftJoin(...e){return new rn({...this.#e,queryNode:Pt.cloneWithJoin(this.#e.queryNode,Fi("LeftJoin",e))})}rightJoin(...e){return new rn({...this.#e,queryNode:Pt.cloneWithJoin(this.#e.queryNode,Fi("RightJoin",e))})}fullJoin(...e){return new rn({...this.#e,queryNode:Pt.cloneWithJoin(this.#e.queryNode,Fi("FullJoin",e))})}innerJoinLateral(...e){return new rn({...this.#e,queryNode:Pt.cloneWithJoin(this.#e.queryNode,Fi("LateralInnerJoin",e))})}leftJoinLateral(...e){return new rn({...this.#e,queryNode:Pt.cloneWithJoin(this.#e.queryNode,Fi("LateralLeftJoin",e))})}orderBy(...e){return new rn({...this.#e,queryNode:Gn.cloneWithOrderByItems(this.#e.queryNode,rm(e))})}groupBy(e){return new rn({...this.#e,queryNode:Gn.cloneWithGroupByItems(this.#e.queryNode,k8(e))})}limit(e){return new rn({...this.#e,queryNode:Gn.cloneWithLimit(this.#e.queryNode,z1.create(Jr(e)))})}offset(e){return new rn({...this.#e,queryNode:Gn.cloneWithOffset(this.#e.queryNode,E8.create(Jr(e)))})}fetch(e,n="only"){return new rn({...this.#e,queryNode:Gn.cloneWithFetch(this.#e.queryNode,C8(e,n))})}top(e,n){return new rn({...this.#e,queryNode:Pt.cloneWithTop(this.#e.queryNode,cf(e,n))})}union(e){return new rn({...this.#e,queryNode:Gn.cloneWithSetOperations(this.#e.queryNode,Qu("union",e,!1))})}unionAll(e){return new rn({...this.#e,queryNode:Gn.cloneWithSetOperations(this.#e.queryNode,Qu("union",e,!0))})}intersect(e){return new rn({...this.#e,queryNode:Gn.cloneWithSetOperations(this.#e.queryNode,Qu("intersect",e,!1))})}intersectAll(e){return new rn({...this.#e,queryNode:Gn.cloneWithSetOperations(this.#e.queryNode,Qu("intersect",e,!0))})}except(e){return new rn({...this.#e,queryNode:Gn.cloneWithSetOperations(this.#e.queryNode,Qu("except",e,!1))})}exceptAll(e){return new rn({...this.#e,queryNode:Gn.cloneWithSetOperations(this.#e.queryNode,Qu("except",e,!0))})}as(e){return new rF(this,e)}clearSelect(){return new rn({...this.#e,queryNode:Gn.cloneWithoutSelections(this.#e.queryNode)})}clearWhere(){return new rn({...this.#e,queryNode:Pt.cloneWithoutWhere(this.#e.queryNode)})}clearLimit(){return new rn({...this.#e,queryNode:Gn.cloneWithoutLimit(this.#e.queryNode)})}clearOffset(){return new rn({...this.#e,queryNode:Gn.cloneWithoutOffset(this.#e.queryNode)})}clearOrderBy(){return new rn({...this.#e,queryNode:Gn.cloneWithoutOrderBy(this.#e.queryNode)})}clearGroupBy(){return new rn({...this.#e,queryNode:Gn.cloneWithoutGroupBy(this.#e.queryNode)})}$call(e){return e(this)}$if(e,n){return e?n(this):new rn({...this.#e})}$castTo(){return new rn(this.#e)}$narrowType(){return new rn(this.#e)}$assertType(){return new rn(this.#e)}$asTuple(){return new rr(this.toOperationNode())}withPlugin(e){return new rn({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile();return(await this.#e.executor.executeQuery(e,this.#e.queryId)).rows}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=sm){const n=await this.executeTakeFirst();if(n===void 0)throw om(e)?new e(this.toOperationNode()):e(this.toOperationNode());return n}async *stream(e=100){const n=this.compile(),r=this.#e.executor.stream(n,e,this.#e.queryId);for await(const i of r)yield*i.rows}async explain(e,n){return await new rn({...this.#e,queryNode:Pt.cloneWithExplain(this.#e.queryNode,e,n)}).execute()}}Sn(rn,"don't await SelectQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");function xE(t){return new rn(t)}class rF{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}get isAliasedSelectQueryBuilder(){return!0}toOperationNode(){return Zl.create(this.#e.toOperationNode(),br.create(this.#t))}}Sn(rF,"don't await AliasedSelectQueryBuilder instances directly. AliasedSelectQueryBuilder should never be executed directly since it's always a part of another query.");const kl=G({is(t){return t.kind==="AggregateFunctionNode"},create(t,e=[]){return G({kind:"AggregateFunctionNode",func:t,aggregated:e})},cloneWithDistinct(t){return G({...t,distinct:!0})},cloneWithOrderBy(t,e){return G({...t,orderBy:t.orderBy?Ul.cloneWithItems(t.orderBy,e):Ul.create(e)})},cloneWithFilter(t,e){return G({...t,filter:t.filter?ls.cloneWithOperation(t.filter,"And",e):ls.create(e)})},cloneWithOrFilter(t,e){return G({...t,filter:t.filter?ls.cloneWithOperation(t.filter,"Or",e):ls.create(e)})},cloneWithOver(t,e){return G({...t,over:e})}}),qO=G({is(t){return t.kind==="FunctionNode"},create(t,e){return G({kind:"FunctionNode",func:t,arguments:e})}});class Ys{#e;constructor(e){this.#e=G(e)}get expressionType(){}as(e){return new O8(this,e)}distinct(){return new Ys({...this.#e,aggregateFunctionNode:kl.cloneWithDistinct(this.#e.aggregateFunctionNode)})}orderBy(e,n){return new Ys({...this.#e,aggregateFunctionNode:kl.cloneWithOrderBy(this.#e.aggregateFunctionNode,rm([e,n]))})}filterWhere(...e){return new Ys({...this.#e,aggregateFunctionNode:kl.cloneWithFilter(this.#e.aggregateFunctionNode,pi(e))})}filterWhereRef(e,n,r){return new Ys({...this.#e,aggregateFunctionNode:kl.cloneWithFilter(this.#e.aggregateFunctionNode,ta(e,n,r))})}over(e){const n=w8();return new Ys({...this.#e,aggregateFunctionNode:kl.cloneWithOver(this.#e.aggregateFunctionNode,(e?e(n):n).toOperationNode())})}$call(e){return e(this)}$castTo(){return new Ys(this.#e)}$notNull(){return new Ys(this.#e)}toOperationNode(){return this.#e.aggregateFunctionNode}}Sn(Ys,"don't await AggregateFunctionBuilder instances. They are never executed directly and are always just a part of a query.");class O8{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return Zl.create(this.#e.toOperationNode(),br.create(this.#t))}}function iF(){const t=(n,r)=>new rr(qO.create(n,uh(r??[]))),e=(n,r)=>new Ys({aggregateFunctionNode:kl.create(n,r?uh(r):void 0)});return Object.assign(t,{agg:e,avg(n){return e("avg",[n])},coalesce(...n){return t("coalesce",n)},count(n){return e("count",[n])},countAll(n){return new Ys({aggregateFunctionNode:kl.create("count",na(n))})},max(n){return e("max",[n])},min(n){return e("min",[n])},sum(n){return e("sum",[n])},any(n){return t("any",[n])},jsonAgg(n){return new Ys({aggregateFunctionNode:kl.create("json_agg",[js(n)?zr(n):n.toOperationNode()])})},toJson(n){return new rr(qO.create("to_json",[js(n)?zr(n):n.toOperationNode()]))}})}const R8=G({is(t){return t.kind==="UnaryOperationNode"},create(t,e){return G({kind:"UnaryOperationNode",operator:t,operand:e})}});function q8(t,e){return R8.create(Wl.create(t),Is(e))}const Qo=G({is(t){return t.kind==="CaseNode"},create(t){return G({kind:"CaseNode",value:t})},cloneWithWhen(t,e){return G({...t,when:G(t.when?[...t.when,e]:[e])})},cloneWithThen(t,e){return G({...t,when:t.when?G([...t.when.slice(0,-1),im.cloneWithResult(t.when[t.when.length-1],e)]):void 0})},cloneWith(t,e){return G({...t,...e})}});class sF{#e;constructor(e){this.#e=G(e)}when(...e){return new oF({...this.#e,node:Qo.cloneWithWhen(this.#e.node,im.create(pi(e)))})}}class oF{#e;constructor(e){this.#e=G(e)}then(e){return new j8({...this.#e,node:Qo.cloneWithThen(this.#e.node,L1(e)?M1(e):Jr(e))})}}class j8{#e;constructor(e){this.#e=G(e)}when(...e){return new oF({...this.#e,node:Qo.cloneWithWhen(this.#e.node,im.create(pi(e)))})}else(e){return new A8({...this.#e,node:Qo.cloneWith(this.#e.node,{else:L1(e)?M1(e):Jr(e)})})}end(){return new rr(Qo.cloneWith(this.#e.node,{isStatement:!1}))}endCase(){return new rr(Qo.cloneWith(this.#e.node,{isStatement:!0}))}}class A8{#e;constructor(e){this.#e=G(e)}end(){return new rr(Qo.cloneWith(this.#e.node,{isStatement:!1}))}endCase(){return new rr(Qo.cloneWith(this.#e.node,{isStatement:!0}))}}const jO=G({is(t){return t.kind==="JSONPathLegNode"},create(t,e){return G({kind:"JSONPathLegNode",type:t,value:e})}});class wE{#e;constructor(e){this.#e=e}at(e){return this.#t("ArrayLocation",e)}key(e){return this.#t("Member",e)}#t(e,n){return hv.is(this.#e)?new ph(hv.cloneWithTraversal(this.#e,Gp.is(this.#e.traversal)?Gp.cloneWithLeg(this.#e.traversal,jO.create(e,n)):UP.cloneWithValue(this.#e.traversal,ea.createImmediate(n)))):new ph(Gp.cloneWithLeg(this.#e,jO.create(e,n)))}}class ph extends wE{#e;constructor(e){super(e),this.#e=e}get expressionType(){}as(e){return new P8(this,e)}$castTo(){return new ph(this.#e)}$notNull(){return new ph(this.#e)}toOperationNode(){return this.#e}}class P8{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return Zl.create(this.#e.toOperationNode(),gs(this.#t)?this.#t.toOperationNode():br.create(this.#t))}}const AO=G({is(t){return t.kind==="TupleNode"},create(t){return G({kind:"TupleNode",values:G(t)})}}),F8=["varchar","char","text","integer","int2","int4","int8","smallint","bigint","boolean","real","double precision","float4","float8","decimal","numeric","binary","bytea","date","datetime","time","timetz","timestamp","timestamptz","serial","bigserial","uuid","json","jsonb","blob","varbinary","int4range","int4multirange","int8range","int8multirange","numrange","nummultirange","tsrange","tsmultirange","tstzrange","tstzmultirange","daterange","datemultirange"],D8=[/^varchar\(\d+\)$/,/^char\(\d+\)$/,/^decimal\(\d+, \d+\)$/,/^numeric\(\d+, \d+\)$/,/^binary\(\d+\)$/,/^datetime\(\d+\)$/,/^time\(\d+\)$/,/^timetz\(\d+\)$/,/^timestamp\(\d+\)$/,/^timestamptz\(\d+\)$/,/^varbinary\(\d+\)$/],L8=G({is(t){return t.kind==="DataTypeNode"},create(t){return G({kind:"DataTypeNode",dataType:t})}});function M8(t){return!!(F8.includes(t)||D8.some(e=>e.test(t)))}function Xc(t){if(gs(t))return t.toOperationNode();if(M8(t))return L8.create(t);throw new Error(`invalid column data type ${JSON.stringify(t)}`)}const $8=G({is(t){return t.kind==="CastNode"},create(t,e){return G({kind:"CastNode",expression:t,dataType:e})}});function U1(t=Tb){function e(i,s,o){return new rr($1(i,s,o))}function n(i,s){return new rr(q8(i,s))}const r=Object.assign(e,{fn:void 0,eb:void 0,selectFrom(i){return xE({queryId:Zn(),executor:t,queryNode:Gn.createFrom(hh(i))})},case(i){return new sF({node:Qo.create(jl(i)?void 0:Is(i))})},ref(i,s){return jl(s)?new rr(Ma(i)):new wE($5(i,s))},jsonPath(){return new wE(Gp.create())},table(i){return new rr(zr(i))},val(i){return new rr(Jr(i))},refTuple(...i){return new rr(AO.create(i.map(Is)))},tuple(...i){return new rr(AO.create(i.map(Jr)))},lit(i){return new rr(M1(i))},unary:n,not(i){return n("not",i)},exists(i){return n("exists",i)},neg(i){return n("-",i)},between(i,s,o){return new rr(Fd.create(Is(i),Wl.create("between"),zl.create(Jr(s),Jr(o))))},betweenSymmetric(i,s,o){return new rr(Fd.create(Is(i),Wl.create("between symmetric"),zl.create(Jr(s),Jr(o))))},and(i){return La(i)?new rr(gv(i,"and")):new rr(gO(i,"and"))},or(i){return La(i)?new rr(gv(i,"or")):new rr(gO(i,"or"))},parens(...i){const s=pi(i);return Dd.is(s)?new rr(s):new rr(Dd.create(s))},cast(i,s){return new rr($8.create(Is(i),Xc(s)))},withSchema(i){return U1(t.withPluginAtFront(new am(i)))}});return r.fn=iF(),r.eb=r,r}function uf(t){return U1()}function uu(t){if(gs(t))return t.toOperationNode();if(Fs(t))return t(uf()).toOperationNode();throw new Error(`invalid expression: ${JSON.stringify(t)}`)}function aF(t){if(gs(t))return t.toOperationNode();if(Fs(t))return t(uf()).toOperationNode();throw new Error(`invalid aliased expression: ${JSON.stringify(t)}`)}function lm(t){return O5(t)||R5(t)||Fs(t)}function hh(t){return La(t)?t.map(e=>mh(e)):[mh(t)]}function mh(t){return js(t)?lF(t):aF(t)}function lF(t){const e=" as ";if(t.includes(e)){const[n,r]=t.split(e).map(cF);return Zl.create(zr(n),br.create(r))}else return zr(t)}function zr(t){const e=".";if(t.includes(e)){const[n,r]=t.split(e).map(cF);return Pl.createWithSchema(n,r)}else return Pl.create(t)}function cF(t){return t.trim()}const uF=G({is(t){return t.kind==="AddColumnNode"},create(t){return G({kind:"AddColumnNode",column:t})}}),yr=G({is(t){return t.kind==="ColumnDefinitionNode"},create(t,e){return G({kind:"ColumnDefinitionNode",column:Vr.create(t),dataType:e})},cloneWithFrontModifier(t,e){return G({...t,frontModifiers:t.frontModifiers?G([...t.frontModifiers,e]):[e]})},cloneWithEndModifier(t,e){return G({...t,endModifiers:t.endModifiers?G([...t.endModifiers,e]):[e]})},cloneWith(t,e){return G({...t,...e})}}),dF=G({is(t){return t.kind==="DropColumnNode"},create(t){return G({kind:"DropColumnNode",column:Vr.create(t)})}}),fF=G({is(t){return t.kind==="RenameColumnNode"},create(t,e){return G({kind:"RenameColumnNode",column:Vr.create(t),renameTo:Vr.create(e)})}}),V1=G({is(t){return t.kind==="CheckConstraintNode"},create(t,e){return G({kind:"CheckConstraintNode",expression:t,name:e?br.create(e):void 0})}}),B8=["no action","restrict","cascade","set null","set default"],_y=G({is(t){return t.kind==="ReferencesNode"},create(t,e){return G({kind:"ReferencesNode",table:t,columns:G([...e])})},cloneWithOnDelete(t,e){return G({...t,onDelete:e})},cloneWithOnUpdate(t,e){return G({...t,onUpdate:e})}});function pF(t){return gs(t)?t.toOperationNode():ea.createImmediate(t)}const Bg=G({is(t){return t.kind==="GeneratedNode"},create(t){return G({kind:"GeneratedNode",...t})},createWithExpression(t){return G({kind:"GeneratedNode",always:!0,expression:t})},cloneWith(t,e){return G({...t,...e})}}),z8=G({is(t){return t.kind==="DefaultValueNode"},create(t){return G({kind:"DefaultValueNode",defaultValue:t})}});function wv(t){if(B8.includes(t))return t;throw new Error(`invalid OnModifyForeignAction ${t}`)}class lr{#e;constructor(e){this.#e=e}autoIncrement(){return new lr(yr.cloneWith(this.#e,{autoIncrement:!0}))}identity(){return new lr(yr.cloneWith(this.#e,{identity:!0}))}primaryKey(){return new lr(yr.cloneWith(this.#e,{primaryKey:!0}))}references(e){const n=Ma(e);if(!n.table||P1.is(n.column))throw new Error(`invalid call references('${e}'). The reference must have format table.column or schema.table.column`);return new lr(yr.cloneWith(this.#e,{references:_y.create(n.table,[n.column])}))}onDelete(e){if(!this.#e.references)throw new Error("on delete constraint can only be added for foreign keys");return new lr(yr.cloneWith(this.#e,{references:_y.cloneWithOnDelete(this.#e.references,wv(e))}))}onUpdate(e){if(!this.#e.references)throw new Error("on update constraint can only be added for foreign keys");return new lr(yr.cloneWith(this.#e,{references:_y.cloneWithOnUpdate(this.#e.references,wv(e))}))}unique(){return new lr(yr.cloneWith(this.#e,{unique:!0}))}notNull(){return new lr(yr.cloneWith(this.#e,{notNull:!0}))}unsigned(){return new lr(yr.cloneWith(this.#e,{unsigned:!0}))}defaultTo(e){return new lr(yr.cloneWith(this.#e,{defaultTo:z8.create(pF(e))}))}check(e){return new lr(yr.cloneWith(this.#e,{check:V1.create(e.toOperationNode())}))}generatedAlwaysAs(e){return new lr(yr.cloneWith(this.#e,{generated:Bg.createWithExpression(e.toOperationNode())}))}generatedAlwaysAsIdentity(){return new lr(yr.cloneWith(this.#e,{generated:Bg.create({identity:!0,always:!0})}))}generatedByDefaultAsIdentity(){return new lr(yr.cloneWith(this.#e,{generated:Bg.create({identity:!0,byDefault:!0})}))}stored(){if(!this.#e.generated)throw new Error("stored() can only be called after generatedAlwaysAs");return new lr(yr.cloneWith(this.#e,{generated:Bg.cloneWith(this.#e.generated,{stored:!0})}))}modifyFront(e){return new lr(yr.cloneWithFrontModifier(this.#e,e.toOperationNode()))}nullsNotDistinct(){return new lr(yr.cloneWith(this.#e,{nullsNotDistinct:!0}))}ifNotExists(){return new lr(yr.cloneWith(this.#e,{ifNotExists:!0}))}modifyEnd(e){return new lr(yr.cloneWithEndModifier(this.#e,e.toOperationNode()))}$call(e){return e(this)}toOperationNode(){return this.#e}}Sn(lr,"don't await ColumnDefinitionBuilder instances directly.");const hF=G({is(t){return t.kind==="ModifyColumnNode"},create(t){return G({kind:"ModifyColumnNode",column:t})}}),_v=G({is(t){return t.kind==="ForeignKeyConstraintNode"},create(t,e,n,r){return G({kind:"ForeignKeyConstraintNode",columns:t,references:_y.create(e,n),name:r?br.create(r):void 0})},cloneWith(t,e){return G({...t,...e})}});class Ld{#e;constructor(e){this.#e=e}onDelete(e){return new Ld(_v.cloneWith(this.#e,{onDelete:wv(e)}))}onUpdate(e){return new Ld(_v.cloneWith(this.#e,{onUpdate:wv(e)}))}$call(e){return e(this)}toOperationNode(){return this.#e}}Sn(Ld,"don't await ForeignKeyConstraintBuilder instances directly.");const Sy=G({is(t){return t.kind==="AddConstraintNode"},create(t){return G({kind:"AddConstraintNode",constraint:t})}}),H1=G({is(t){return t.kind==="UniqueConstraintNode"},create(t,e,n){return G({kind:"UniqueConstraintNode",columns:G(t.map(Vr.create)),name:e?br.create(e):void 0,nullsNotDistinct:n})},cloneWith(t,e){return G({...t,...e})}}),Ey=G({is(t){return t.kind==="DropConstraintNode"},create(t){return G({kind:"DropConstraintNode",constraintName:br.create(t)})},cloneWith(t,e){return G({...t,...e})}}),mp=G({is(t){return t.kind==="AlterColumnNode"},create(t,e,n){return G({kind:"AlterColumnNode",column:Vr.create(t),[e]:n})}});class K1{#e;constructor(e){this.#e=e}setDataType(e){return new id(mp.create(this.#e,"dataType",Xc(e)))}setDefault(e){return new id(mp.create(this.#e,"setDefault",pF(e)))}dropDefault(){return new id(mp.create(this.#e,"dropDefault",!0))}setNotNull(){return new id(mp.create(this.#e,"setNotNull",!0))}dropNotNull(){return new id(mp.create(this.#e,"dropNotNull",!0))}$call(e){return e(this)}}Sn(K1,"don't await AlterColumnBuilder instances");class id{#e;constructor(e){this.#e=e}toOperationNode(){return this.#e}}Sn(id,"don't await AlteredColumnBuilder instances");class Oc{#e;constructor(e){this.#e=G(e)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}Sn(Oc,"don't await AlterTableExecutor instances directly. To execute the query you need to call `execute`");class gh{#e;constructor(e){this.#e=G(e)}onDelete(e){return new gh({...this.#e,constraintBuilder:this.#e.constraintBuilder.onDelete(e)})}onUpdate(e){return new gh({...this.#e,constraintBuilder:this.#e.constraintBuilder.onUpdate(e)})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(Jn.cloneWithTableProps(this.#e.node,{addConstraint:Sy.create(this.#e.constraintBuilder.toOperationNode())}),this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}Sn(gh,"don't await AlterTableAddForeignKeyConstraintBuilder instances directly. To execute the query you need to call `execute`");class Nd{#e;constructor(e){this.#e=G(e)}ifExists(){return new Nd({...this.#e,node:Jn.cloneWithTableProps(this.#e.node,{dropConstraint:Ey.cloneWith(this.#e.node.dropConstraint,{ifExists:!0})})})}cascade(){return new Nd({...this.#e,node:Jn.cloneWithTableProps(this.#e.node,{dropConstraint:Ey.cloneWith(this.#e.node.dropConstraint,{modifier:"cascade"})})})}restrict(){return new Nd({...this.#e,node:Jn.cloneWithTableProps(this.#e.node,{dropConstraint:Ey.cloneWith(this.#e.node.dropConstraint,{modifier:"restrict"})})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}Sn(Nd,"don't await AlterTableDropConstraintBuilder instances directly. To execute the query you need to call `execute`");const mF=G({is(t){return t.kind==="PrimaryKeyConstraintNode"},create(t,e){return G({kind:"PrimaryKeyConstraintNode",columns:G(t.map(Vr.create)),name:e?br.create(e):void 0})}}),sd=G({is(t){return t.kind==="AddIndexNode"},create(t){return G({kind:"AddIndexNode",name:br.create(t)})},cloneWith(t,e){return G({...t,...e})},cloneWithColumns(t,e){return G({...t,columns:[...t.columns||[],...e]})}});class Il{#e;constructor(e){this.#e=G(e)}unique(){return new Il({...this.#e,node:Jn.cloneWithTableProps(this.#e.node,{addIndex:sd.cloneWith(this.#e.node.addIndex,{unique:!0})})})}column(e){return new Il({...this.#e,node:Jn.cloneWithTableProps(this.#e.node,{addIndex:sd.cloneWithColumns(this.#e.node.addIndex,[mv(e)])})})}columns(e){return new Il({...this.#e,node:Jn.cloneWithTableProps(this.#e.node,{addIndex:sd.cloneWithColumns(this.#e.node.addIndex,e.map(mv))})})}expression(e){return new Il({...this.#e,node:Jn.cloneWithTableProps(this.#e.node,{addIndex:sd.cloneWithColumns(this.#e.node.addIndex,[e.toOperationNode()])})})}using(e){return new Il({...this.#e,node:Jn.cloneWithTableProps(this.#e.node,{addIndex:sd.cloneWith(this.#e.node.addIndex,{using:_i.createWithSql(e)})})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}Sn(Il,"don't await AlterTableAddIndexBuilder instances directly. To execute the query you need to call `execute`");class cm{#e;constructor(e){this.#e=e}toOperationNode(){return this.#e}nullsNotDistinct(){return new cm(H1.cloneWith(this.#e,{nullsNotDistinct:!0}))}}Sn(cm,"don't await UniqueConstraintNodeBuilder instances directly.");class gF{#e;constructor(e){this.#e=G(e)}renameTo(e){return new Oc({...this.#e,node:Jn.cloneWithTableProps(this.#e.node,{renameTo:zr(e)})})}setSchema(e){return new Oc({...this.#e,node:Jn.cloneWithTableProps(this.#e.node,{setSchema:br.create(e)})})}alterColumn(e,n){const r=n(new K1(e));return new eo({...this.#e,node:Jn.cloneWithColumnAlteration(this.#e.node,r.toOperationNode())})}dropColumn(e){return new eo({...this.#e,node:Jn.cloneWithColumnAlteration(this.#e.node,dF.create(e))})}renameColumn(e,n){return new eo({...this.#e,node:Jn.cloneWithColumnAlteration(this.#e.node,fF.create(e,n))})}addColumn(e,n,r=Al){const i=r(new lr(yr.create(e,Xc(n))));return new eo({...this.#e,node:Jn.cloneWithColumnAlteration(this.#e.node,uF.create(i.toOperationNode()))})}modifyColumn(e,n,r=Al){const i=r(new lr(yr.create(e,Xc(n))));return new eo({...this.#e,node:Jn.cloneWithColumnAlteration(this.#e.node,hF.create(i.toOperationNode()))})}addUniqueConstraint(e,n,r=Al){const i=r(new cm(H1.create(n,e)));return new Oc({...this.#e,node:Jn.cloneWithTableProps(this.#e.node,{addConstraint:Sy.create(i.toOperationNode())})})}addCheckConstraint(e,n){return new Oc({...this.#e,node:Jn.cloneWithTableProps(this.#e.node,{addConstraint:Sy.create(V1.create(n.toOperationNode(),e))})})}addForeignKeyConstraint(e,n,r,i){return new gh({...this.#e,constraintBuilder:new Ld(_v.create(n.map(Vr.create),zr(r),i.map(Vr.create),e))})}addPrimaryKeyConstraint(e,n){return new Oc({...this.#e,node:Jn.cloneWithTableProps(this.#e.node,{addConstraint:Sy.create(mF.create(n,e))})})}dropConstraint(e){return new Nd({...this.#e,node:Jn.cloneWithTableProps(this.#e.node,{dropConstraint:Ey.create(e)})})}addIndex(e){return new Il({...this.#e,node:Jn.cloneWithTableProps(this.#e.node,{addIndex:sd.create(e)})})}dropIndex(e){return new Oc({...this.#e,node:Jn.cloneWithTableProps(this.#e.node,{dropIndex:Kp.create(e)})})}$call(e){return e(this)}}Sn(gF,"don't await AlterTableBuilder instances");class eo{#e;constructor(e){this.#e=G(e)}alterColumn(e,n){const r=n(new K1(e));return new eo({...this.#e,node:Jn.cloneWithColumnAlteration(this.#e.node,r.toOperationNode())})}dropColumn(e){return new eo({...this.#e,node:Jn.cloneWithColumnAlteration(this.#e.node,dF.create(e))})}renameColumn(e,n){return new eo({...this.#e,node:Jn.cloneWithColumnAlteration(this.#e.node,fF.create(e,n))})}addColumn(e,n,r=Al){const i=r(new lr(yr.create(e,Xc(n))));return new eo({...this.#e,node:Jn.cloneWithColumnAlteration(this.#e.node,uF.create(i.toOperationNode()))})}modifyColumn(e,n,r=Al){const i=r(new lr(yr.create(e,Xc(n))));return new eo({...this.#e,node:Jn.cloneWithColumnAlteration(this.#e.node,hF.create(i.toOperationNode()))})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}Sn(eo,"don't await AlterTableColumnAlteringBuilder instances directly. To execute the query you need to call `execute`");class yF extends XP{transformValue(e){return{...super.transformValue(e),immediate:!0}}}class Js{#e;constructor(e){this.#e=G(e)}ifNotExists(){return new Js({...this.#e,node:Ia.cloneWith(this.#e.node,{ifNotExists:!0})})}unique(){return new Js({...this.#e,node:Ia.cloneWith(this.#e.node,{unique:!0})})}nullsNotDistinct(){return new Js({...this.#e,node:Ia.cloneWith(this.#e.node,{nullsNotDistinct:!0})})}on(e){return new Js({...this.#e,node:Ia.cloneWith(this.#e.node,{table:zr(e)})})}column(e){return new Js({...this.#e,node:Ia.cloneWithColumns(this.#e.node,[mv(e)])})}columns(e){return new Js({...this.#e,node:Ia.cloneWithColumns(this.#e.node,e.map(mv))})}expression(e){return new Js({...this.#e,node:Ia.cloneWithColumns(this.#e.node,[e.toOperationNode()])})}using(e){return new Js({...this.#e,node:Ia.cloneWith(this.#e.node,{using:_i.createWithSql(e)})})}where(...e){const n=new yF;return new Js({...this.#e,node:Pt.cloneWithWhere(this.#e.node,n.transformNode(pi(e)))})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}Sn(Js,"don't await CreateIndexBuilder instances directly. To execute the query you need to call `execute`");class Ob{#e;constructor(e){this.#e=G(e)}ifNotExists(){return new Ob({...this.#e,node:MP.cloneWith(this.#e.node,{ifNotExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}Sn(Ob,"don't await CreateSchemaBuilder instances directly. To execute the query you need to call `execute`");function W8(t){if(T5.includes(t))return t;throw new Error(`invalid OnCommitAction ${t}`)}class ss{#e;constructor(e){this.#e=G(e)}temporary(){return new ss({...this.#e,node:ws.cloneWith(this.#e.node,{temporary:!0})})}onCommit(e){return new ss({...this.#e,node:ws.cloneWith(this.#e.node,{onCommit:W8(e)})})}ifNotExists(){return new ss({...this.#e,node:ws.cloneWith(this.#e.node,{ifNotExists:!0})})}addColumn(e,n,r=Al){const i=r(new lr(yr.create(e,Xc(n))));return new ss({...this.#e,node:ws.cloneWithColumn(this.#e.node,i.toOperationNode())})}addPrimaryKeyConstraint(e,n){return new ss({...this.#e,node:ws.cloneWithConstraint(this.#e.node,mF.create(n,e))})}addUniqueConstraint(e,n,r=Al){const i=r(new cm(H1.create(n,e)));return new ss({...this.#e,node:ws.cloneWithConstraint(this.#e.node,i.toOperationNode())})}addCheckConstraint(e,n){return new ss({...this.#e,node:ws.cloneWithConstraint(this.#e.node,V1.create(n.toOperationNode(),e))})}addForeignKeyConstraint(e,n,r,i,s=Al){const o=s(new Ld(_v.create(n.map(Vr.create),zr(r),i.map(Vr.create),e)));return new ss({...this.#e,node:ws.cloneWithConstraint(this.#e.node,o.toOperationNode())})}modifyFront(e){return new ss({...this.#e,node:ws.cloneWithFrontModifier(this.#e.node,e.toOperationNode())})}modifyEnd(e){return new ss({...this.#e,node:ws.cloneWithEndModifier(this.#e.node,e.toOperationNode())})}as(e){return new ss({...this.#e,node:ws.cloneWith(this.#e.node,{selectQuery:uu(e)})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}Sn(ss,"don't await CreateTableBuilder instances directly. To execute the query you need to call `execute`");class kd{#e;constructor(e){this.#e=G(e)}on(e){return new kd({...this.#e,node:Kp.cloneWith(this.#e.node,{table:zr(e)})})}ifExists(){return new kd({...this.#e,node:Kp.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new kd({...this.#e,node:Kp.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}Sn(kd,"don't await DropIndexBuilder instances directly. To execute the query you need to call `execute`");class yh{#e;constructor(e){this.#e=G(e)}ifExists(){return new yh({...this.#e,node:hE.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new yh({...this.#e,node:hE.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}Sn(yh,"don't await DropSchemaBuilder instances directly. To execute the query you need to call `execute`");class vh{#e;constructor(e){this.#e=G(e)}ifExists(){return new vh({...this.#e,node:mE.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new vh({...this.#e,node:mE.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}Sn(vh,"don't await DropTableBuilder instances directly. To execute the query you need to call `execute`");const wl=G({is(t){return t.kind==="CreateViewNode"},create(t){return G({kind:"CreateViewNode",name:Bl.create(t)})},cloneWith(t,e){return G({...t,...e})}});class U8{#e=new yF;transformQuery(e){return this.#e.transformNode(e.node)}transformResult(e){return Promise.resolve(e.result)}}class Oa{#e;constructor(e){this.#e=G(e)}temporary(){return new Oa({...this.#e,node:wl.cloneWith(this.#e.node,{temporary:!0})})}materialized(){return new Oa({...this.#e,node:wl.cloneWith(this.#e.node,{materialized:!0})})}ifNotExists(){return new Oa({...this.#e,node:wl.cloneWith(this.#e.node,{ifNotExists:!0})})}orReplace(){return new Oa({...this.#e,node:wl.cloneWith(this.#e.node,{orReplace:!0})})}columns(e){return new Oa({...this.#e,node:wl.cloneWith(this.#e.node,{columns:e.map(HP)})})}as(e){const n=e.withPlugin(new U8).toOperationNode();return new Oa({...this.#e,node:wl.cloneWith(this.#e.node,{as:n})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}Sn(Oa,"don't await CreateViewBuilder instances directly. To execute the query you need to call `execute`");const Ny=G({is(t){return t.kind==="DropViewNode"},create(t){return G({kind:"DropViewNode",name:Bl.create(t)})},cloneWith(t,e){return G({...t,...e})}});class Id{#e;constructor(e){this.#e=G(e)}materialized(){return new Id({...this.#e,node:Ny.cloneWith(this.#e.node,{materialized:!0})})}ifExists(){return new Id({...this.#e,node:Ny.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new Id({...this.#e,node:Ny.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}Sn(Id,"don't await DropViewBuilder instances directly. To execute the query you need to call `execute`");const vF=G({is(t){return t.kind==="CreateTypeNode"},create(t){return G({kind:"CreateTypeNode",name:t})},cloneWithEnum(t,e){return G({...t,enum:D1.create(e.map(n=>ea.createImmediate(n)))})}});class Rb{#e;constructor(e){this.#e=G(e)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}asEnum(e){return new Rb({...this.#e,node:vF.cloneWithEnum(this.#e.node,e)})}$call(e){return e(this)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}Sn(Rb,"don't await CreateTypeBuilder instances directly. To execute the query you need to call `execute`");const bF=G({is(t){return t.kind==="DropTypeNode"},create(t){return G({kind:"DropTypeNode",name:t})},cloneWith(t,e){return G({...t,...e})}});class qb{#e;constructor(e){this.#e=G(e)}ifExists(){return new qb({...this.#e,node:bF.cloneWith(this.#e.node,{ifExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}Sn(qb,"don't await DropTypeBuilder instances directly. To execute the query you need to call `execute`");function PO(t){const e=".";if(t.includes(e)){const n=t.split(e).map(V8);if(n.length===2)return Bl.createWithSchema(n[0],n[1]);throw new Error(`invalid schemable identifier ${t}`)}else return Bl.create(t)}function V8(t){return t.trim()}class Yp{#e;constructor(e){this.#e=e}createTable(e){return new ss({queryId:Zn(),executor:this.#e,node:ws.create(zr(e))})}dropTable(e){return new vh({queryId:Zn(),executor:this.#e,node:mE.create(zr(e))})}createIndex(e){return new Js({queryId:Zn(),executor:this.#e,node:Ia.create(e)})}dropIndex(e){return new kd({queryId:Zn(),executor:this.#e,node:Kp.create(e)})}createSchema(e){return new Ob({queryId:Zn(),executor:this.#e,node:MP.create(e)})}dropSchema(e){return new yh({queryId:Zn(),executor:this.#e,node:hE.create(e)})}alterTable(e){return new gF({queryId:Zn(),executor:this.#e,node:Jn.create(zr(e))})}createView(e){return new Oa({queryId:Zn(),executor:this.#e,node:wl.create(e)})}dropView(e){return new Id({queryId:Zn(),executor:this.#e,node:Ny.create(e)})}createType(e){return new Rb({queryId:Zn(),executor:this.#e,node:vF.create(PO(e))})}dropType(e){return new qb({queryId:Zn(),executor:this.#e,node:bF.create(PO(e))})}withPlugin(e){return new Yp(this.#e.withPlugin(e))}withoutPlugins(){return new Yp(this.#e.withoutPlugins())}withSchema(e){return new Yp(this.#e.withPluginAtFront(new am(e)))}}class H8{ref(e){return new L5(e)}}class K8{#e;constructor(e){this.#e=e}async provideConnection(e){const n=await this.#e.acquireConnection();try{return await e(n)}finally{await this.#e.releaseConnection(n)}}}class Pc extends eF{#e;#t;#n;constructor(e,n,r,i=[]){super(i),this.#e=e,this.#t=n,this.#n=r}get adapter(){return this.#t}compileQuery(e){return this.#e.compileQuery(e)}provideConnection(e){return this.#n.provideConnection(e)}withPlugins(e){return new Pc(this.#e,this.#t,this.#n,[...this.plugins,...e])}withPlugin(e){return new Pc(this.#e,this.#t,this.#n,[...this.plugins,e])}withPluginAtFront(e){return new Pc(this.#e,this.#t,this.#n,[e,...this.plugins])}withConnectionProvider(e){return new Pc(this.#e,this.#t,e,[...this.plugins])}withoutPlugins(){return new Pc(this.#e,this.#t,this.#n,[])}}function FO(){return typeof performance<"u"&&Fs(performance.now)?performance.now():Date.now()}class Q8{#e;#t;#n;#r;#i;#s=new WeakSet;constructor(e,n){this.#r=!1,this.#e=e,this.#t=n}async init(){if(this.#i)throw new Error("driver has already been destroyed");this.#n||(this.#n=this.#e.init().then(()=>{this.#r=!0}).catch(e=>(this.#n=void 0,Promise.reject(e)))),await this.#n}async acquireConnection(){if(this.#i)throw new Error("driver has already been destroyed");this.#r||await this.init();const e=await this.#e.acquireConnection();return this.#s.has(e)||(this.#o()&&this.#a(e),this.#s.add(e)),e}async releaseConnection(e){await this.#e.releaseConnection(e)}beginTransaction(e,n){return this.#e.beginTransaction(e,n)}commitTransaction(e){return this.#e.commitTransaction(e)}rollbackTransaction(e){return this.#e.rollbackTransaction(e)}async destroy(){this.#n&&(await this.#n,this.#i||(this.#i=this.#e.destroy().catch(e=>(this.#i=void 0,Promise.reject(e)))),await this.#i)}#o(){return this.#t.isLevelEnabled("query")||this.#t.isLevelEnabled("error")}#a(e){const n=e.executeQuery;e.executeQuery=async r=>{let i;const s=FO();try{return await n.call(e,r)}catch(o){throw i=o,await this.#c(o,r,s),o}finally{i||await this.#l(r,s)}}}async #c(e,n,r){await this.#t.error(()=>({level:"error",error:e,query:n,queryDurationMillis:this.#u(r)}))}async #l(e,n){await this.#t.query(()=>({level:"query",query:e,queryDurationMillis:this.#u(n)}))}#u(e){return FO()-e}}const G8=()=>{};class xF{#e;#t;constructor(e){this.#e=e}async provideConnection(e){for(;this.#t;)await this.#t.catch(G8);return this.#t=this.#n(e).finally(()=>{this.#t=void 0}),this.#t}async #n(e){return await e(this.#e)}}const J8=["read uncommitted","read committed","repeatable read","serializable","snapshot"];G(["query","error"]);class Z8{#e;#t;constructor(e){Fs(e)?(this.#t=e,this.#e=G({query:!0,error:!0})):(this.#t=Y8,this.#e=G({query:e.includes("query"),error:e.includes("error")}))}isLevelEnabled(e){return this.#e[e]}async query(e){this.#e.query&&await this.#t(e())}async error(e){this.#e.error&&await this.#t(e())}}function Y8(t){t.level==="query"?(console.log(`kysely:query: ${t.query.sql}`),console.log(`kysely:query: duration: ${t.queryDurationMillis.toFixed(1)}ms`)):t.level==="error"&&(t.error instanceof Error?console.error(`kysely:error: ${t.error.stack??t.error.message}`):console.error(`kysely:error: ${JSON.stringify({error:t.error,query:t.query.sql,queryDurationMillis:t.queryDurationMillis})}`))}function X8(t){return Ho(t)&&Fs(t.compile)}let Q1=class Ip extends Nl{#e;constructor(e){let n,r;if(eH(e))n={executor:e.executor},r={...e};else{const i=e.dialect,s=i.createDriver(),o=i.createQueryCompiler(),l=i.createAdapter(),u=new Z8(e.log??[]),d=new Q8(s,u),p=new K8(d),h=new Pc(o,l,p,e.plugins??[]);n={executor:h},r={config:e,executor:h,dialect:i,driver:d}}super(n),this.#e=G(r)}get schema(){return new Yp(this.#e.executor)}get dynamic(){return new H8}get introspection(){return this.#e.dialect.createIntrospector(this.withoutPlugins())}case(e){return new sF({node:Qo.create(jl(e)?void 0:uu(e))})}get fn(){return iF()}transaction(){return new jb({...this.#e})}connection(){return new wF({...this.#e})}withPlugin(e){return new Ip({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new Ip({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new Ip({...this.#e,executor:this.#e.executor.withPluginAtFront(new am(e))})}withTables(){return new Ip({...this.#e})}async destroy(){await this.#e.driver.destroy()}get isTransaction(){return!1}getExecutor(){return this.#e.executor}executeQuery(e,n=Zn()){const r=X8(e)?e.compile():e;return this.getExecutor().executeQuery(r,n)}};class cd extends Q1{#e;constructor(e){super(e),this.#e=e}get isTransaction(){return!0}transaction(){throw new Error("calling the transaction method for a Transaction is not supported")}connection(){throw new Error("calling the connection method for a Transaction is not supported")}async destroy(){throw new Error("calling the destroy method for a Transaction is not supported")}withPlugin(e){return new cd({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new cd({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new cd({...this.#e,executor:this.#e.executor.withPluginAtFront(new am(e))})}withTables(){return new cd({...this.#e})}}function eH(t){return Ho(t)&&Ho(t.config)&&Ho(t.driver)&&Ho(t.executor)&&Ho(t.dialect)}class wF{#e;constructor(e){this.#e=G(e)}async execute(e){return this.#e.executor.provideConnection(async n=>{const r=this.#e.executor.withConnectionProvider(new xF(n)),i=new Q1({...this.#e,executor:r});return await e(i)})}}Sn(wF,"don't await ConnectionBuilder instances directly. To execute the query you need to call the `execute` method");class jb{#e;constructor(e){this.#e=G(e)}setIsolationLevel(e){return new jb({...this.#e,isolationLevel:e})}async execute(e){const{isolationLevel:n,...r}=this.#e,i={isolationLevel:n};return tH(i),this.#e.executor.provideConnection(async s=>{const o=this.#e.executor.withConnectionProvider(new xF(s)),l=new cd({...r,executor:o});try{await this.#e.driver.beginTransaction(s,i);const u=await e(l);return await this.#e.driver.commitTransaction(s),u}catch(u){throw await this.#e.driver.rollbackTransaction(s),u}})}}Sn(jb,"don't await TransactionBuilder instances directly. To execute the transaction you need to call the `execute` method");function tH(t){if(t.isolationLevel&&!J8.includes(t.isolationLevel))throw new Error(`invalid transaction isolation level ${t.isolationLevel}`)}class Cd{#e;constructor(e){this.#e=G(e)}get expressionType(){}get isRawBuilder(){return!0}as(e){return new _F(this,e)}$castTo(){return new Cd({...this.#e})}$notNull(){return new Cd(this.#e)}withPlugin(e){return new Cd({...this.#e,plugins:this.#e.plugins!==void 0?G([...this.#e.plugins,e]):G([e])})}toOperationNode(){return this.#n(this.#t())}compile(e){return this.#r(this.#t(e))}async execute(e){const n=this.#t(e);return n.executeQuery(this.#r(n),this.#e.queryId)}#t(e){const n=e!==void 0?e.getExecutor():Tb;return this.#e.plugins!==void 0?n.withPlugins(this.#e.plugins):n}#n(e){return e.transformQuery(this.#e.rawNode,this.#e.queryId)}#r(e){return e.compileQuery(this.#n(e),this.#e.queryId)}}function ml(t){return new Cd(t)}Sn(Cd,"don't await RawBuilder instances directly. To execute the query you need to call `execute`");class _F{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get expression(){return this.#e}get alias(){return this.#t}get rawBuilder(){return this.#e}toOperationNode(){return Zl.create(this.#e.toOperationNode(),gs(this.#t)?this.#t.toOperationNode():br.create(this.#t))}}Sn(_F,"don't await AliasedRawBuilder instances directly. AliasedRawBuilder should never be executed directly since it's always a part of another query.");const Pr=Object.assign((t,...e)=>ml({queryId:Zn(),rawNode:_i.create(t,e?.map(DO)??[])}),{ref(t){return ml({queryId:Zn(),rawNode:_i.createWithChild(Ma(t))})},val(t){return ml({queryId:Zn(),rawNode:_i.createWithChild(Jr(t))})},value(t){return this.val(t)},table(t){return ml({queryId:Zn(),rawNode:_i.createWithChild(zr(t))})},id(...t){const e=new Array(t.length+1).fill(".");return e[0]="",e[e.length-1]="",ml({queryId:Zn(),rawNode:_i.create(e,t.map(br.create))})},lit(t){return ml({queryId:Zn(),rawNode:_i.createWithChild(ea.createImmediate(t))})},literal(t){return this.lit(t)},raw(t){return ml({queryId:Zn(),rawNode:_i.createWithSql(t)})},join(t,e=Pr`, `){const n=new Array(2*t.length-1),r=e.toOperationNode();for(let i=0;i<t.length;++i)n[2*i]=DO(t[i]),i!==t.length-1&&(n[2*i+1]=r);return ml({queryId:Zn(),rawNode:_i.createWithChildren(n)})}});function DO(t){return gs(t)?t.toOperationNode():Jr(t)}class nH{nodeStack=[];get parentNode(){return this.nodeStack[this.nodeStack.length-2]}#e=G({AliasNode:this.visitAlias.bind(this),ColumnNode:this.visitColumn.bind(this),IdentifierNode:this.visitIdentifier.bind(this),SchemableIdentifierNode:this.visitSchemableIdentifier.bind(this),RawNode:this.visitRaw.bind(this),ReferenceNode:this.visitReference.bind(this),SelectQueryNode:this.visitSelectQuery.bind(this),SelectionNode:this.visitSelection.bind(this),TableNode:this.visitTable.bind(this),FromNode:this.visitFrom.bind(this),SelectAllNode:this.visitSelectAll.bind(this),AndNode:this.visitAnd.bind(this),OrNode:this.visitOr.bind(this),ValueNode:this.visitValue.bind(this),ValueListNode:this.visitValueList.bind(this),PrimitiveValueListNode:this.visitPrimitiveValueList.bind(this),ParensNode:this.visitParens.bind(this),JoinNode:this.visitJoin.bind(this),OperatorNode:this.visitOperator.bind(this),WhereNode:this.visitWhere.bind(this),InsertQueryNode:this.visitInsertQuery.bind(this),DeleteQueryNode:this.visitDeleteQuery.bind(this),ReturningNode:this.visitReturning.bind(this),CreateTableNode:this.visitCreateTable.bind(this),AddColumnNode:this.visitAddColumn.bind(this),ColumnDefinitionNode:this.visitColumnDefinition.bind(this),DropTableNode:this.visitDropTable.bind(this),DataTypeNode:this.visitDataType.bind(this),OrderByNode:this.visitOrderBy.bind(this),OrderByItemNode:this.visitOrderByItem.bind(this),GroupByNode:this.visitGroupBy.bind(this),GroupByItemNode:this.visitGroupByItem.bind(this),UpdateQueryNode:this.visitUpdateQuery.bind(this),ColumnUpdateNode:this.visitColumnUpdate.bind(this),LimitNode:this.visitLimit.bind(this),OffsetNode:this.visitOffset.bind(this),OnConflictNode:this.visitOnConflict.bind(this),OnDuplicateKeyNode:this.visitOnDuplicateKey.bind(this),CreateIndexNode:this.visitCreateIndex.bind(this),DropIndexNode:this.visitDropIndex.bind(this),ListNode:this.visitList.bind(this),PrimaryKeyConstraintNode:this.visitPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.visitUniqueConstraint.bind(this),ReferencesNode:this.visitReferences.bind(this),CheckConstraintNode:this.visitCheckConstraint.bind(this),WithNode:this.visitWith.bind(this),CommonTableExpressionNode:this.visitCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.visitCommonTableExpressionName.bind(this),HavingNode:this.visitHaving.bind(this),CreateSchemaNode:this.visitCreateSchema.bind(this),DropSchemaNode:this.visitDropSchema.bind(this),AlterTableNode:this.visitAlterTable.bind(this),DropColumnNode:this.visitDropColumn.bind(this),RenameColumnNode:this.visitRenameColumn.bind(this),AlterColumnNode:this.visitAlterColumn.bind(this),ModifyColumnNode:this.visitModifyColumn.bind(this),AddConstraintNode:this.visitAddConstraint.bind(this),DropConstraintNode:this.visitDropConstraint.bind(this),ForeignKeyConstraintNode:this.visitForeignKeyConstraint.bind(this),CreateViewNode:this.visitCreateView.bind(this),DropViewNode:this.visitDropView.bind(this),GeneratedNode:this.visitGenerated.bind(this),DefaultValueNode:this.visitDefaultValue.bind(this),OnNode:this.visitOn.bind(this),ValuesNode:this.visitValues.bind(this),SelectModifierNode:this.visitSelectModifier.bind(this),CreateTypeNode:this.visitCreateType.bind(this),DropTypeNode:this.visitDropType.bind(this),ExplainNode:this.visitExplain.bind(this),DefaultInsertValueNode:this.visitDefaultInsertValue.bind(this),AggregateFunctionNode:this.visitAggregateFunction.bind(this),OverNode:this.visitOver.bind(this),PartitionByNode:this.visitPartitionBy.bind(this),PartitionByItemNode:this.visitPartitionByItem.bind(this),SetOperationNode:this.visitSetOperation.bind(this),BinaryOperationNode:this.visitBinaryOperation.bind(this),UnaryOperationNode:this.visitUnaryOperation.bind(this),UsingNode:this.visitUsing.bind(this),FunctionNode:this.visitFunction.bind(this),CaseNode:this.visitCase.bind(this),WhenNode:this.visitWhen.bind(this),JSONReferenceNode:this.visitJSONReference.bind(this),JSONPathNode:this.visitJSONPath.bind(this),JSONPathLegNode:this.visitJSONPathLeg.bind(this),JSONOperatorChainNode:this.visitJSONOperatorChain.bind(this),TupleNode:this.visitTuple.bind(this),MergeQueryNode:this.visitMergeQuery.bind(this),MatchedNode:this.visitMatched.bind(this),AddIndexNode:this.visitAddIndex.bind(this),CastNode:this.visitCast.bind(this),FetchNode:this.visitFetch.bind(this),TopNode:this.visitTop.bind(this),OutputNode:this.visitOutput.bind(this)});visitNode=e=>{this.nodeStack.push(e),this.#e[e.kind](e),this.nodeStack.pop()}}class rH extends nH{#e="";#t=[];get numParameters(){return this.#t.length}compileQuery(e){return this.#e="",this.#t=[],this.nodeStack.splice(0,this.nodeStack.length),this.visitNode(e),G({query:e,sql:this.getSql(),parameters:[...this.#t]})}getSql(){return this.#e}visitSelectQuery(e){const n=this.parentNode!==void 0&&!Dd.is(this.parentNode)&&!Es.is(this.parentNode)&&!ws.is(this.parentNode)&&!wl.is(this.parentNode)&&!nF.is(this.parentNode);this.parentNode===void 0&&e.explain&&(this.visitNode(e.explain),this.append(" ")),n&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("select"),e.distinctOn&&(this.append(" "),this.compileDistinctOn(e.distinctOn)),e.frontModifiers?.length&&(this.append(" "),this.compileList(e.frontModifiers," ")),e.top&&(this.append(" "),this.visitNode(e.top)),e.selections&&(this.append(" "),this.compileList(e.selections)),e.from&&(this.append(" "),this.visitNode(e.from)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.groupBy&&(this.append(" "),this.visitNode(e.groupBy)),e.having&&(this.append(" "),this.visitNode(e.having)),e.setOperations&&(this.append(" "),this.compileList(e.setOperations," ")),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.offset&&(this.append(" "),this.visitNode(e.offset)),e.fetch&&(this.append(" "),this.visitNode(e.fetch)),e.endModifiers?.length&&(this.append(" "),this.compileList(this.sortSelectModifiers([...e.endModifiers])," ")),n&&this.append(")")}visitFrom(e){this.append("from "),this.compileList(e.froms)}visitSelection(e){this.visitNode(e.selection)}visitColumn(e){this.visitNode(e.column)}compileDistinctOn(e){this.append("distinct on ("),this.compileList(e),this.append(")")}compileList(e,n=", "){const r=e.length-1;for(let i=0;i<=r;i++)this.visitNode(e[i]),i<r&&this.append(n)}visitWhere(e){this.append("where "),this.visitNode(e.where)}visitHaving(e){this.append("having "),this.visitNode(e.having)}visitInsertQuery(e){const n=this.nodeStack.find(Pt.is),r=n!==e;!r&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&!cs.is(n)&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append(e.replace?"replace":"insert"),e.ignore&&this.append(" ignore"),e.top&&(this.append(" "),this.visitNode(e.top)),e.into&&(this.append(" into "),this.visitNode(e.into)),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.output&&(this.append(" "),this.visitNode(e.output)),e.values&&(this.append(" "),this.visitNode(e.values)),e.defaultValues&&(this.append(" "),this.append("default values")),e.onConflict&&(this.append(" "),this.visitNode(e.onConflict)),e.onDuplicateKey&&(this.append(" "),this.visitNode(e.onDuplicateKey)),e.returning&&(this.append(" "),this.visitNode(e.returning)),r&&!cs.is(n)&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitValues(e){this.append("values "),this.compileList(e.values)}visitDeleteQuery(e){const n=this.nodeStack.find(Pt.is)!==e;!n&&e.explain&&(this.visitNode(e.explain),this.append(" ")),n&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("delete "),e.top&&(this.visitNode(e.top),this.append(" ")),this.visitNode(e.from),e.output&&(this.append(" "),this.visitNode(e.output)),e.using&&(this.append(" "),this.visitNode(e.using)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.returning&&(this.append(" "),this.visitNode(e.returning)),n&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitReturning(e){this.append("returning "),this.compileList(e.selections)}visitAlias(e){this.visitNode(e.node),this.append(" as "),this.visitNode(e.alias)}visitReference(e){e.table&&(this.visitNode(e.table),this.append(".")),this.visitNode(e.column)}visitSelectAll(e){this.append("*")}visitIdentifier(e){this.append(this.getLeftIdentifierWrapper()),this.compileUnwrappedIdentifier(e),this.append(this.getRightIdentifierWrapper())}compileUnwrappedIdentifier(e){if(!js(e.name))throw new Error("a non-string identifier was passed to compileUnwrappedIdentifier.");this.append(this.sanitizeIdentifier(e.name))}visitAnd(e){this.visitNode(e.left),this.append(" and "),this.visitNode(e.right)}visitOr(e){this.visitNode(e.left),this.append(" or "),this.visitNode(e.right)}visitValue(e){e.immediate?this.appendImmediateValue(e.value):this.appendValue(e.value)}visitValueList(e){this.append("("),this.compileList(e.values),this.append(")")}visitTuple(e){this.append("("),this.compileList(e.values),this.append(")")}visitPrimitiveValueList(e){this.append("(");const{values:n}=e;for(let r=0;r<n.length;++r)this.appendValue(n[r]),r!==n.length-1&&this.append(", ");this.append(")")}visitParens(e){this.append("("),this.visitNode(e.node),this.append(")")}visitJoin(e){this.append(sH[e.joinType]),this.append(" "),this.visitNode(e.table),e.on&&(this.append(" "),this.visitNode(e.on))}visitOn(e){this.append("on "),this.visitNode(e.on)}visitRaw(e){const{sqlFragments:n,parameters:r}=e;for(let i=0;i<n.length;++i)this.append(n[i]),r.length>i&&this.visitNode(r[i])}visitOperator(e){this.append(e.operator)}visitTable(e){this.visitNode(e.table)}visitSchemableIdentifier(e){e.schema&&(this.visitNode(e.schema),this.append(".")),this.visitNode(e.identifier)}visitCreateTable(e){this.append("create "),e.frontModifiers&&e.frontModifiers.length>0&&(this.compileList(e.frontModifiers," "),this.append(" ")),e.temporary&&this.append("temporary "),this.append("table "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.table),e.selectQuery?(this.append(" as "),this.visitNode(e.selectQuery)):(this.append(" ("),this.compileList([...e.columns,...e.constraints??[]]),this.append(")"),e.onCommit&&(this.append(" on commit "),this.append(e.onCommit)),e.endModifiers&&e.endModifiers.length>0&&(this.append(" "),this.compileList(e.endModifiers," ")))}visitColumnDefinition(e){e.ifNotExists&&this.append("if not exists "),this.visitNode(e.column),this.append(" "),this.visitNode(e.dataType),e.unsigned&&this.append(" unsigned"),e.frontModifiers&&e.frontModifiers.length>0&&(this.append(" "),this.compileList(e.frontModifiers," ")),e.generated&&(this.append(" "),this.visitNode(e.generated)),e.identity&&this.append(" identity"),e.defaultTo&&(this.append(" "),this.visitNode(e.defaultTo)),e.notNull&&this.append(" not null"),e.unique&&this.append(" unique"),e.nullsNotDistinct&&this.append(" nulls not distinct"),e.primaryKey&&this.append(" primary key"),e.autoIncrement&&(this.append(" "),this.append(this.getAutoIncrement())),e.references&&(this.append(" "),this.visitNode(e.references)),e.check&&(this.append(" "),this.visitNode(e.check)),e.endModifiers&&e.endModifiers.length>0&&(this.append(" "),this.compileList(e.endModifiers," "))}getAutoIncrement(){return"auto_increment"}visitReferences(e){this.append("references "),this.visitNode(e.table),this.append(" ("),this.compileList(e.columns),this.append(")"),e.onDelete&&(this.append(" on delete "),this.append(e.onDelete)),e.onUpdate&&(this.append(" on update "),this.append(e.onUpdate))}visitDropTable(e){this.append("drop table "),e.ifExists&&this.append("if exists "),this.visitNode(e.table),e.cascade&&this.append(" cascade")}visitDataType(e){this.append(e.dataType)}visitOrderBy(e){this.append("order by "),this.compileList(e.items)}visitOrderByItem(e){this.visitNode(e.orderBy),e.direction&&(this.append(" "),this.visitNode(e.direction))}visitGroupBy(e){this.append("group by "),this.compileList(e.items)}visitGroupByItem(e){this.visitNode(e.groupBy)}visitUpdateQuery(e){const n=this.nodeStack.find(Pt.is),r=n!==e;!r&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&!cs.is(n)&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("update "),e.top&&(this.visitNode(e.top),this.append(" ")),e.table&&(this.visitNode(e.table),this.append(" ")),this.append("set "),e.updates&&this.compileList(e.updates),e.output&&(this.append(" "),this.visitNode(e.output)),e.from&&(this.append(" "),this.visitNode(e.from)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.returning&&(this.append(" "),this.visitNode(e.returning)),r&&!cs.is(n)&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitColumnUpdate(e){this.visitNode(e.column),this.append(" = "),this.visitNode(e.value)}visitLimit(e){this.append("limit "),this.visitNode(e.limit)}visitOffset(e){this.append("offset "),this.visitNode(e.offset)}visitOnConflict(e){this.append("on conflict"),e.columns?(this.append(" ("),this.compileList(e.columns),this.append(")")):e.constraint?(this.append(" on constraint "),this.visitNode(e.constraint)):e.indexExpression&&(this.append(" ("),this.visitNode(e.indexExpression),this.append(")")),e.indexWhere&&(this.append(" "),this.visitNode(e.indexWhere)),e.doNothing===!0?this.append(" do nothing"):e.updates&&(this.append(" do update set "),this.compileList(e.updates),e.updateWhere&&(this.append(" "),this.visitNode(e.updateWhere)))}visitOnDuplicateKey(e){this.append("on duplicate key update "),this.compileList(e.updates)}visitCreateIndex(e){this.append("create "),e.unique&&this.append("unique "),this.append("index "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),e.table&&(this.append(" on "),this.visitNode(e.table)),e.using&&(this.append(" using "),this.visitNode(e.using)),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.nullsNotDistinct&&this.append(" nulls not distinct"),e.where&&(this.append(" "),this.visitNode(e.where))}visitDropIndex(e){this.append("drop index "),e.ifExists&&this.append("if exists "),this.visitNode(e.name),e.table&&(this.append(" on "),this.visitNode(e.table)),e.cascade&&this.append(" cascade")}visitCreateSchema(e){this.append("create schema "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.schema)}visitDropSchema(e){this.append("drop schema "),e.ifExists&&this.append("if exists "),this.visitNode(e.schema),e.cascade&&this.append(" cascade")}visitPrimaryKeyConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("primary key ("),this.compileList(e.columns),this.append(")")}visitUniqueConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("unique"),e.nullsNotDistinct&&this.append(" nulls not distinct"),this.append(" ("),this.compileList(e.columns),this.append(")")}visitCheckConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("check ("),this.visitNode(e.expression),this.append(")")}visitForeignKeyConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("foreign key ("),this.compileList(e.columns),this.append(") "),this.visitNode(e.references),e.onDelete&&(this.append(" on delete "),this.append(e.onDelete)),e.onUpdate&&(this.append(" on update "),this.append(e.onUpdate))}visitList(e){this.compileList(e.items)}visitWith(e){this.append("with "),e.recursive&&this.append("recursive "),this.compileList(e.expressions)}visitCommonTableExpression(e){this.visitNode(e.name),this.append(" as "),pv(e.materialized)&&(e.materialized||this.append("not "),this.append("materialized ")),this.visitNode(e.expression)}visitCommonTableExpressionName(e){this.visitNode(e.table),e.columns&&(this.append("("),this.compileList(e.columns),this.append(")"))}visitAlterTable(e){this.append("alter table "),this.visitNode(e.table),this.append(" "),e.renameTo&&(this.append("rename to "),this.visitNode(e.renameTo)),e.setSchema&&(this.append("set schema "),this.visitNode(e.setSchema)),e.addConstraint&&this.visitNode(e.addConstraint),e.dropConstraint&&this.visitNode(e.dropConstraint),e.columnAlterations&&this.compileColumnAlterations(e.columnAlterations),e.addIndex&&this.visitNode(e.addIndex),e.dropIndex&&this.visitNode(e.dropIndex)}visitAddColumn(e){this.append("add column "),this.visitNode(e.column)}visitRenameColumn(e){this.append("rename column "),this.visitNode(e.column),this.append(" to "),this.visitNode(e.renameTo)}visitDropColumn(e){this.append("drop column "),this.visitNode(e.column)}visitAlterColumn(e){this.append("alter column "),this.visitNode(e.column),this.append(" "),e.dataType&&(this.announcesNewColumnDataType()&&this.append("type "),this.visitNode(e.dataType),e.dataTypeExpression&&(this.append("using "),this.visitNode(e.dataTypeExpression))),e.setDefault&&(this.append("set default "),this.visitNode(e.setDefault)),e.dropDefault&&this.append("drop default"),e.setNotNull&&this.append("set not null"),e.dropNotNull&&this.append("drop not null")}visitModifyColumn(e){this.append("modify column "),this.visitNode(e.column)}visitAddConstraint(e){this.append("add "),this.visitNode(e.constraint)}visitDropConstraint(e){this.append("drop constraint "),e.ifExists&&this.append("if exists "),this.visitNode(e.constraintName),e.modifier==="cascade"?this.append(" cascade"):e.modifier==="restrict"&&this.append(" restrict")}visitSetOperation(e){this.append(e.operator),this.append(" "),e.all&&this.append("all "),this.visitNode(e.expression)}visitCreateView(e){this.append("create "),e.orReplace&&this.append("or replace "),e.materialized&&this.append("materialized "),e.temporary&&this.append("temporary "),this.append("view "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),this.append(" "),e.columns&&(this.append("("),this.compileList(e.columns),this.append(") ")),e.as&&(this.append("as "),this.visitNode(e.as))}visitDropView(e){this.append("drop "),e.materialized&&this.append("materialized "),this.append("view "),e.ifExists&&this.append("if exists "),this.visitNode(e.name),e.cascade&&this.append(" cascade")}visitGenerated(e){this.append("generated "),e.always&&this.append("always "),e.byDefault&&this.append("by default "),this.append("as "),e.identity&&this.append("identity"),e.expression&&(this.append("("),this.visitNode(e.expression),this.append(")")),e.stored&&this.append(" stored")}visitDefaultValue(e){this.append("default "),this.visitNode(e.defaultValue)}visitSelectModifier(e){e.rawModifier?this.visitNode(e.rawModifier):this.append(iH[e.modifier]),e.of&&(this.append(" of "),this.compileList(e.of,", "))}visitCreateType(e){this.append("create type "),this.visitNode(e.name),e.enum&&(this.append(" as enum "),this.visitNode(e.enum))}visitDropType(e){this.append("drop type "),e.ifExists&&this.append("if exists "),this.visitNode(e.name)}visitExplain(e){this.append("explain"),(e.options||e.format)&&(this.append(" "),this.append(this.getLeftExplainOptionsWrapper()),e.options&&(this.visitNode(e.options),e.format&&this.append(this.getExplainOptionsDelimiter())),e.format&&(this.append("format"),this.append(this.getExplainOptionAssignment()),this.append(e.format)),this.append(this.getRightExplainOptionsWrapper()))}visitDefaultInsertValue(e){this.append("default")}visitAggregateFunction(e){this.append(e.func),this.append("("),e.distinct&&this.append("distinct "),this.compileList(e.aggregated),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),this.append(")"),e.filter&&(this.append(" filter("),this.visitNode(e.filter),this.append(")")),e.over&&(this.append(" "),this.visitNode(e.over))}visitOver(e){this.append("over("),e.partitionBy&&(this.visitNode(e.partitionBy),e.orderBy&&this.append(" ")),e.orderBy&&this.visitNode(e.orderBy),this.append(")")}visitPartitionBy(e){this.append("partition by "),this.compileList(e.items)}visitPartitionByItem(e){this.visitNode(e.partitionBy)}visitBinaryOperation(e){this.visitNode(e.leftOperand),this.append(" "),this.visitNode(e.operator),this.append(" "),this.visitNode(e.rightOperand)}visitUnaryOperation(e){this.visitNode(e.operator),this.isMinusOperator(e.operator)||this.append(" "),this.visitNode(e.operand)}isMinusOperator(e){return Wl.is(e)&&e.operator==="-"}visitUsing(e){this.append("using "),this.compileList(e.tables)}visitFunction(e){this.append(e.func),this.append("("),this.compileList(e.arguments),this.append(")")}visitCase(e){this.append("case"),e.value&&(this.append(" "),this.visitNode(e.value)),e.when&&(this.append(" "),this.compileList(e.when," ")),e.else&&(this.append(" else "),this.visitNode(e.else)),this.append(" end"),e.isStatement&&this.append(" case")}visitWhen(e){this.append("when "),this.visitNode(e.condition),e.result&&(this.append(" then "),this.visitNode(e.result))}visitJSONReference(e){this.visitNode(e.reference),this.visitNode(e.traversal)}visitJSONPath(e){e.inOperator&&this.visitNode(e.inOperator),this.append("'$");for(const n of e.pathLegs)this.visitNode(n);this.append("'")}visitJSONPathLeg(e){const n=e.type==="ArrayLocation";this.append(n?"[":"."),this.append(String(e.value)),n&&this.append("]")}visitJSONOperatorChain(e){for(let n=0,r=e.values.length;n<r;n++)n===r-1?this.visitNode(e.operator):this.append("->"),this.visitNode(e.values[n])}visitMergeQuery(e){e.with&&(this.visitNode(e.with),this.append(" ")),this.append("merge "),e.top&&(this.visitNode(e.top),this.append(" ")),this.append("into "),this.visitNode(e.into),e.using&&(this.append(" "),this.visitNode(e.using)),e.whens&&(this.append(" "),this.compileList(e.whens," ")),e.output&&(this.append(" "),this.visitNode(e.output)),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitMatched(e){e.not&&this.append("not "),this.append("matched"),e.bySource&&this.append(" by source")}visitAddIndex(e){this.append("add "),e.unique&&this.append("unique "),this.append("index "),this.visitNode(e.name),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.using&&(this.append(" using "),this.visitNode(e.using))}visitCast(e){this.append("cast("),this.visitNode(e.expression),this.append(" as "),this.visitNode(e.dataType),this.append(")")}visitFetch(e){this.append("fetch next "),this.visitNode(e.rowCount),this.append(` rows ${e.modifier}`)}visitOutput(e){this.append("output "),this.compileList(e.selections)}visitTop(e){this.append(`top(${e.expression})`),e.modifiers&&this.append(` ${e.modifiers}`)}append(e){this.#e+=e}appendValue(e){this.addParameter(e),this.append(this.getCurrentParameterPlaceholder())}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getCurrentParameterPlaceholder(){return"$"+this.numParameters}getLeftExplainOptionsWrapper(){return"("}getExplainOptionAssignment(){return" "}getExplainOptionsDelimiter(){return", "}getRightExplainOptionsWrapper(){return")"}sanitizeIdentifier(e){const n=this.getLeftIdentifierWrapper(),r=this.getRightIdentifierWrapper();let i="";for(const s of e)i+=s,s===n?i+=n:s===r&&(i+=r);return i}addParameter(e){this.#t.push(e)}appendImmediateValue(e){if(js(e))this.append(`'${e}'`);else if(Ib(e)||pv(e))this.append(e.toString());else if(j1(e))this.append("null");else if(C5(e))this.appendImmediateValue(e.toISOString());else if(A1(e))this.appendImmediateValue(e.toString());else throw new Error(`invalid immediate value ${e}`)}sortSelectModifiers(e){return e.sort((n,r)=>n.modifier&&r.modifier?LO[n.modifier]-LO[r.modifier]:1),G(e)}compileColumnAlterations(e){this.compileList(e)}announcesNewColumnDataType(){return!0}}const iH=G({ForKeyShare:"for key share",ForNoKeyUpdate:"for no key update",ForUpdate:"for update",ForShare:"for share",NoWait:"nowait",SkipLocked:"skip locked",Distinct:"distinct"}),LO=G({ForKeyShare:1,ForNoKeyUpdate:1,ForUpdate:1,ForShare:1,NoWait:2,SkipLocked:2,Distinct:0}),sH=G({InnerJoin:"inner join",LeftJoin:"left join",RightJoin:"right join",FullJoin:"full join",LateralInnerJoin:"inner join lateral",LateralLeftJoin:"left join lateral",Using:"using"});class oH{get supportsCreateIfNotExists(){return!0}get supportsTransactionalDdl(){return!1}get supportsReturning(){return!1}get supportsOutput(){return!1}}const aH=/"/g;class lH extends rH{getCurrentParameterPlaceholder(){return"?"}getLeftExplainOptionsWrapper(){return""}getRightExplainOptionsWrapper(){return""}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getAutoIncrement(){return"autoincrement"}sanitizeIdentifier(e){return e.replace(aH,'""')}visitDefaultInsertValue(e){this.append("null")}}const cH="kysely_migration",uH="kysely_migration_lock";G({__noMigrations__:!0});class dH{#e;constructor(e){this.#e=e}async getSchemas(){return[]}async getTables(e={withInternalKyselyTables:!1}){let n=this.#e.selectFrom("sqlite_master").where("type","in",["table","view"]).where("name","not like","sqlite_%").select("name").orderBy("name").$castTo();e.withInternalKyselyTables||(n=n.where("name","!=",cH).where("name","!=",uH));const r=await n.execute();return Promise.all(r.map(({name:i})=>this.#t(i)))}async getMetadata(e){return{tables:await this.getTables(e)}}async #t(e){const n=this.#e,r=await n.selectFrom("sqlite_master").where("name","=",e).select(["sql","type"]).$castTo().executeTakeFirstOrThrow(),i=r.sql?.split(/[\(\),]/)?.find(o=>o.toLowerCase().includes("autoincrement"))?.trimStart()?.split(/\s+/)?.[0]?.replace(/["`]/g,""),s=await n.selectFrom(Pr`pragma_table_info(${e})`.as("table_info")).select(["name","type","notnull","dflt_value"]).orderBy("cid").execute();return{name:e,isView:r.type==="view",columns:s.map(o=>({name:o.name,dataType:o.type,isNullable:!o.notnull,isAutoIncrementing:o.name===i,hasDefaultValue:o.dflt_value!=null,comment:void 0}))}}}class fH extends oH{get supportsTransactionalDdl(){return!1}get supportsReturning(){return!0}async acquireMigrationLock(e,n){}async releaseMigrationLock(e,n){}}const SF={jsonObject(t){const e=Pr.join(Object.entries(t).map(([n,r])=>Pr`${n}, ${r}`));return Pr`json_object(${e})`},jsonGroupArray(t){return Pr`json_group_array(${SF.jsonObject(t)})`}},EF={hash(t){return pE.sha224(t)},verify(t,e){return pE.sha224(t)===e}};var On;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of s)o[l]=i[l];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(On||(On={}));var _E;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(_E||(_E={}));const At=On.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ra=t=>{switch(typeof t){case"undefined":return At.undefined;case"string":return At.string;case"number":return isNaN(t)?At.nan:At.number;case"boolean":return At.boolean;case"function":return At.function;case"bigint":return At.bigint;case"symbol":return At.symbol;case"object":return Array.isArray(t)?At.array:t===null?At.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?At.promise:typeof Map<"u"&&t instanceof Map?At.map:typeof Set<"u"&&t instanceof Set?At.set:typeof Date<"u"&&t instanceof Date?At.date:At.object;default:return At.unknown}},yt=On.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),pH=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class qs extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let l=r,u=0;for(;u<o.path.length;){const d=o.path[u];u===o.path.length-1?(l[d]=l[d]||{_errors:[]},l[d]._errors.push(n(o))):l[d]=l[d]||{_errors:[]},l=l[d],u++}}};return i(this),r}static assert(e){if(!(e instanceof qs))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,On.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}qs.create=t=>new qs(t);const Md=(t,e)=>{let n;switch(t.code){case yt.invalid_type:t.received===At.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case yt.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,On.jsonStringifyReplacer)}`;break;case yt.unrecognized_keys:n=`Unrecognized key(s) in object: ${On.joinValues(t.keys,", ")}`;break;case yt.invalid_union:n="Invalid input";break;case yt.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${On.joinValues(t.options)}`;break;case yt.invalid_enum_value:n=`Invalid enum value. Expected ${On.joinValues(t.options)}, received '${t.received}'`;break;case yt.invalid_arguments:n="Invalid function arguments";break;case yt.invalid_return_type:n="Invalid function return type";break;case yt.invalid_date:n="Invalid date";break;case yt.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:On.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case yt.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case yt.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case yt.custom:n="Invalid input";break;case yt.invalid_intersection_types:n="Intersection results could not be merged";break;case yt.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case yt.not_finite:n="Number must be finite";break;default:n=e.defaultError,On.assertNever(t)}return{message:n}};let NF=Md;function hH(t){NF=t}function Sv(){return NF}const Ev=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let l="";const u=r.filter(d=>!!d).slice().reverse();for(const d of u)l=d(o,{data:e,defaultError:l}).message;return{...i,path:s,message:l}},mH=[];function It(t,e){const n=Sv(),r=Ev({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Md?void 0:Md].filter(i=>!!i)});t.common.issues.push(r)}class Ni{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return an;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return Ni.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return an;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const an=Object.freeze({status:"aborted"}),ud=t=>({status:"dirty",value:t}),zi=t=>({status:"valid",value:t}),SE=t=>t.status==="aborted",EE=t=>t.status==="dirty",eu=t=>t.status==="valid",bh=t=>typeof Promise<"u"&&t instanceof Promise;function Nv(t,e,n,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function kF(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var Ht;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Ht||(Ht={}));var Cp,Tp;class ra{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const MO=(t,e)=>{if(eu(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new qs(t.common.issues);return this._error=n,this._error}}};function xn(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>{var u,d;const{message:p}=t;return o.code==="invalid_enum_value"?{message:p??l.defaultError}:typeof l.data>"u"?{message:(u=p??r)!==null&&u!==void 0?u:l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:(d=p??n)!==null&&d!==void 0?d:l.defaultError}},description:i}}class En{get description(){return this._def.description}_getType(e){return Ra(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Ra(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ni,ctx:{common:e.parent.common,data:e.data,parsedType:Ra(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(bh(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n?.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ra(e)},s=this._parseSync({data:e,path:i.path,parent:i});return MO(i,s)}"~validate"(e){var n,r;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ra(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:i});return eu(s)?{value:s.value}:{issues:i.common.issues}}catch(s){!((r=(n=s?.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(s=>eu(s)?{value:s.value}:{issues:i.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Ra(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await (bh(i)?i:Promise.resolve(i));return MO(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),l=()=>s.addIssue({code:yt.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(u=>u?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new jo({schema:this,typeName:sn.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Jo.create(this,this._def)}nullable(){return Ql.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Oo.create(this)}promise(){return Bd.create(this,this._def)}or(e){return Sh.create([this,e],this._def)}and(e){return Eh.create(this,e,this._def)}transform(e){return new jo({...xn(this._def),schema:this,typeName:sn.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Th({...xn(this._def),innerType:this,defaultValue:n,typeName:sn.ZodDefault})}brand(){return new G1({typeName:sn.ZodBranded,type:this,...xn(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Oh({...xn(this._def),innerType:this,catchValue:n,typeName:sn.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return um.create(this,e)}readonly(){return Rh.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const gH=/^c[^\s-]{8,}$/i,yH=/^[0-9a-z]+$/,vH=/^[0-9A-HJKMNP-TV-Z]{26}$/i,bH=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,xH=/^[a-z0-9_-]{21}$/i,wH=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,_H=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,SH=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,EH="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let r0;const NH=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,kH=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,IH=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,CH=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,TH=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,OH=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,IF="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",RH=new RegExp(`^${IF}$`);function CF(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function qH(t){return new RegExp(`^${CF(t)}$`)}function TF(t){let e=`${IF}T${CF(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function jH(t,e){return!!((e==="v4"||!e)&&NH.test(t)||(e==="v6"||!e)&&IH.test(t))}function AH(t,e){if(!wH.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function PH(t,e){return!!((e==="v4"||!e)&&kH.test(t)||(e==="v6"||!e)&&CH.test(t))}class Co extends En{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==At.string){const s=this._getOrReturnCtx(e);return It(s,{code:yt.invalid_type,expected:At.string,received:s.parsedType}),an}const r=new Ni;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),It(i,{code:yt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),It(i,{code:yt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,l=e.data.length<s.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?It(i,{code:yt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&It(i,{code:yt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")SH.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"email",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")r0||(r0=new RegExp(EH,"u")),r0.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"emoji",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")bH.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"uuid",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")xH.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"nanoid",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")gH.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"cuid",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")yH.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"cuid2",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")vH.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"ulid",code:yt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),It(i,{validation:"url",code:yt.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"regex",code:yt.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?TF(s).test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?RH.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?qH(s).test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{code:yt.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?_H.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"duration",code:yt.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?jH(e.data,s.version)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"ip",code:yt.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?AH(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"jwt",code:yt.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?PH(e.data,s.version)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"cidr",code:yt.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?TH.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"base64",code:yt.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?OH.test(e.data)||(i=this._getOrReturnCtx(e,i),It(i,{validation:"base64url",code:yt.invalid_string,message:s.message}),r.dirty()):On.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:yt.invalid_string,...Ht.errToObj(r)})}_addCheck(e){return new Co({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ht.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ht.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ht.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ht.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ht.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ht.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ht.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ht.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ht.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ht.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ht.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ht.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ht.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(n=e?.offset)!==null&&n!==void 0?n:!1,local:(r=e?.local)!==null&&r!==void 0?r:!1,...Ht.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Ht.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Ht.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Ht.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n?.position,...Ht.errToObj(n?.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Ht.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Ht.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Ht.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Ht.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Ht.errToObj(n)})}nonempty(e){return this.min(1,Ht.errToObj(e))}trim(){return new Co({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Co({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Co({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Co.create=t=>{var e;return new Co({checks:[],typeName:sn.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...xn(t)})};function FH(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Vl extends En{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==At.number){const s=this._getOrReturnCtx(e);return It(s,{code:yt.invalid_type,expected:At.number,received:s.parsedType}),an}let r;const i=new Ni;for(const s of this._def.checks)s.kind==="int"?On.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),It(r,{code:yt.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?FH(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),It(r,{code:yt.not_finite,message:s.message}),i.dirty()):On.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ht.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ht.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ht.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ht.toString(n))}setLimit(e,n,r,i){return new Vl({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ht.toString(i)}]})}_addCheck(e){return new Vl({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ht.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ht.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ht.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ht.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ht.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ht.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Ht.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ht.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ht.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&On.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Vl.create=t=>new Vl({checks:[],typeName:sn.ZodNumber,coerce:t?.coerce||!1,...xn(t)});class Hl extends En{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==At.bigint)return this._getInvalidInput(e);let r;const i=new Ni;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),It(r,{code:yt.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):On.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return It(n,{code:yt.invalid_type,expected:At.bigint,received:n.parsedType}),an}gte(e,n){return this.setLimit("min",e,!0,Ht.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ht.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ht.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ht.toString(n))}setLimit(e,n,r,i){return new Hl({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ht.toString(i)}]})}_addCheck(e){return new Hl({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ht.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ht.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ht.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ht.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ht.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Hl.create=t=>{var e;return new Hl({checks:[],typeName:sn.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...xn(t)})};class xh extends En{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==At.boolean){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:At.boolean,received:r.parsedType}),an}return zi(e.data)}}xh.create=t=>new xh({typeName:sn.ZodBoolean,coerce:t?.coerce||!1,...xn(t)});class tu extends En{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==At.date){const s=this._getOrReturnCtx(e);return It(s,{code:yt.invalid_type,expected:At.date,received:s.parsedType}),an}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return It(s,{code:yt.invalid_date}),an}const r=new Ni;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),It(i,{code:yt.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),It(i,{code:yt.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):On.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new tu({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Ht.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Ht.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}tu.create=t=>new tu({checks:[],coerce:t?.coerce||!1,typeName:sn.ZodDate,...xn(t)});class kv extends En{_parse(e){if(this._getType(e)!==At.symbol){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:At.symbol,received:r.parsedType}),an}return zi(e.data)}}kv.create=t=>new kv({typeName:sn.ZodSymbol,...xn(t)});class wh extends En{_parse(e){if(this._getType(e)!==At.undefined){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:At.undefined,received:r.parsedType}),an}return zi(e.data)}}wh.create=t=>new wh({typeName:sn.ZodUndefined,...xn(t)});class _h extends En{_parse(e){if(this._getType(e)!==At.null){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:At.null,received:r.parsedType}),an}return zi(e.data)}}_h.create=t=>new _h({typeName:sn.ZodNull,...xn(t)});class $d extends En{constructor(){super(...arguments),this._any=!0}_parse(e){return zi(e.data)}}$d.create=t=>new $d({typeName:sn.ZodAny,...xn(t)});class Kc extends En{constructor(){super(...arguments),this._unknown=!0}_parse(e){return zi(e.data)}}Kc.create=t=>new Kc({typeName:sn.ZodUnknown,...xn(t)});class $a extends En{_parse(e){const n=this._getOrReturnCtx(e);return It(n,{code:yt.invalid_type,expected:At.never,received:n.parsedType}),an}}$a.create=t=>new $a({typeName:sn.ZodNever,...xn(t)});class Iv extends En{_parse(e){if(this._getType(e)!==At.undefined){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:At.void,received:r.parsedType}),an}return zi(e.data)}}Iv.create=t=>new Iv({typeName:sn.ZodVoid,...xn(t)});class Oo extends En{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==At.array)return It(n,{code:yt.invalid_type,expected:At.array,received:n.parsedType}),an;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(o||l)&&(It(n,{code:o?yt.too_big:yt.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(It(n,{code:yt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(It(n,{code:yt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,l)=>i.type._parseAsync(new ra(n,o,n.path,l)))).then(o=>Ni.mergeArray(r,o));const s=[...n.data].map((o,l)=>i.type._parseSync(new ra(n,o,n.path,l)));return Ni.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Oo({...this._def,minLength:{value:e,message:Ht.toString(n)}})}max(e,n){return new Oo({...this._def,maxLength:{value:e,message:Ht.toString(n)}})}length(e,n){return new Oo({...this._def,exactLength:{value:e,message:Ht.toString(n)}})}nonempty(e){return this.min(1,e)}}Oo.create=(t,e)=>new Oo({type:t,minLength:null,maxLength:null,exactLength:null,typeName:sn.ZodArray,...xn(e)});function od(t){if(t instanceof Ar){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Jo.create(od(r))}return new Ar({...t._def,shape:()=>e})}else return t instanceof Oo?new Oo({...t._def,type:od(t.element)}):t instanceof Jo?Jo.create(od(t.unwrap())):t instanceof Ql?Ql.create(od(t.unwrap())):t instanceof ia?ia.create(t.items.map(e=>od(e))):t}class Ar extends En{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=On.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==At.object){const d=this._getOrReturnCtx(e);return It(d,{code:yt.invalid_type,expected:At.object,received:d.parsedType}),an}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof $a&&this._def.unknownKeys==="strip"))for(const d in i.data)o.includes(d)||l.push(d);const u=[];for(const d of o){const p=s[d],h=i.data[d];u.push({key:{status:"valid",value:d},value:p._parse(new ra(i,h,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof $a){const d=this._def.unknownKeys;if(d==="passthrough")for(const p of l)u.push({key:{status:"valid",value:p},value:{status:"valid",value:i.data[p]}});else if(d==="strict")l.length>0&&(It(i,{code:yt.unrecognized_keys,keys:l}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const p of l){const h=i.data[p];u.push({key:{status:"valid",value:p},value:d._parse(new ra(i,h,i.path,p)),alwaysSet:p in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const p of u){const h=await p.key,b=await p.value;d.push({key:h,value:b,alwaysSet:p.alwaysSet})}return d}).then(d=>Ni.mergeObjectSync(r,d)):Ni.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(e){return Ht.errToObj,new Ar({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,l;const u=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(l=Ht.errToObj(e).message)!==null&&l!==void 0?l:u}:{message:u}}}:{}})}strip(){return new Ar({...this._def,unknownKeys:"strip"})}passthrough(){return new Ar({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ar({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ar({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:sn.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Ar({...this._def,catchall:e})}pick(e){const n={};return On.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Ar({...this._def,shape:()=>n})}omit(e){const n={};return On.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new Ar({...this._def,shape:()=>n})}deepPartial(){return od(this)}partial(e){const n={};return On.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new Ar({...this._def,shape:()=>n})}required(e){const n={};return On.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Jo;)s=s._def.innerType;n[r]=s}}),new Ar({...this._def,shape:()=>n})}keyof(){return OF(On.objectKeys(this.shape))}}Ar.create=(t,e)=>new Ar({shape:()=>t,unknownKeys:"strip",catchall:$a.create(),typeName:sn.ZodObject,...xn(e)});Ar.strictCreate=(t,e)=>new Ar({shape:()=>t,unknownKeys:"strict",catchall:$a.create(),typeName:sn.ZodObject,...xn(e)});Ar.lazycreate=(t,e)=>new Ar({shape:t,unknownKeys:"strip",catchall:$a.create(),typeName:sn.ZodObject,...xn(e)});class Sh extends En{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new qs(l.ctx.common.issues));return It(n,{code:yt.invalid_union,unionErrors:o}),an}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const u of r){const d={...n,common:{...n.common,issues:[]},parent:null},p=u._parseSync({data:n.data,path:n.path,parent:d});if(p.status==="valid")return p;p.status==="dirty"&&!s&&(s={result:p,ctx:d}),d.common.issues.length&&o.push(d.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(u=>new qs(u));return It(n,{code:yt.invalid_union,unionErrors:l}),an}}get options(){return this._def.options}}Sh.create=(t,e)=>new Sh({options:t,typeName:sn.ZodUnion,...xn(e)});const Ca=t=>t instanceof kh?Ca(t.schema):t instanceof jo?Ca(t.innerType()):t instanceof Ih?[t.value]:t instanceof Kl?t.options:t instanceof Ch?On.objectValues(t.enum):t instanceof Th?Ca(t._def.innerType):t instanceof wh?[void 0]:t instanceof _h?[null]:t instanceof Jo?[void 0,...Ca(t.unwrap())]:t instanceof Ql?[null,...Ca(t.unwrap())]:t instanceof G1||t instanceof Rh?Ca(t.unwrap()):t instanceof Oh?Ca(t._def.innerType):[];class Ab extends En{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==At.object)return It(n,{code:yt.invalid_type,expected:At.object,received:n.parsedType}),an;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(It(n,{code:yt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),an)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=Ca(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of o){if(i.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);i.set(l,s)}}return new Ab({typeName:sn.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...xn(r)})}}function NE(t,e){const n=Ra(t),r=Ra(e);if(t===e)return{valid:!0,data:t};if(n===At.object&&r===At.object){const i=On.objectKeys(e),s=On.objectKeys(t).filter(l=>i.indexOf(l)!==-1),o={...t,...e};for(const l of s){const u=NE(t[l],e[l]);if(!u.valid)return{valid:!1};o[l]=u.data}return{valid:!0,data:o}}else if(n===At.array&&r===At.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],l=e[s],u=NE(o,l);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return n===At.date&&r===At.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Eh extends En{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(SE(s)||SE(o))return an;const l=NE(s.value,o.value);return l.valid?((EE(s)||EE(o))&&n.dirty(),{status:n.value,value:l.data}):(It(r,{code:yt.invalid_intersection_types}),an)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Eh.create=(t,e,n)=>new Eh({left:t,right:e,typeName:sn.ZodIntersection,...xn(n)});class ia extends En{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==At.array)return It(r,{code:yt.invalid_type,expected:At.array,received:r.parsedType}),an;if(r.data.length<this._def.items.length)return It(r,{code:yt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),an;!this._def.rest&&r.data.length>this._def.items.length&&(It(r,{code:yt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,l)=>{const u=this._def.items[l]||this._def.rest;return u?u._parse(new ra(r,o,r.path,l)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Ni.mergeArray(n,o)):Ni.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new ia({...this._def,rest:e})}}ia.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ia({items:t,typeName:sn.ZodTuple,rest:null,...xn(e)})};class Nh extends En{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==At.object)return It(r,{code:yt.invalid_type,expected:At.object,received:r.parsedType}),an;const i=[],s=this._def.keyType,o=this._def.valueType;for(const l in r.data)i.push({key:s._parse(new ra(r,l,r.path,l)),value:o._parse(new ra(r,r.data[l],r.path,l)),alwaysSet:l in r.data});return r.common.async?Ni.mergeObjectAsync(n,i):Ni.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof En?new Nh({keyType:e,valueType:n,typeName:sn.ZodRecord,...xn(r)}):new Nh({keyType:Co.create(),valueType:e,typeName:sn.ZodRecord,...xn(n)})}}class Cv extends En{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==At.map)return It(r,{code:yt.invalid_type,expected:At.map,received:r.parsedType}),an;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([l,u],d)=>({key:i._parse(new ra(r,l,r.path,[d,"key"])),value:s._parse(new ra(r,u,r.path,[d,"value"]))}));if(r.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const u of o){const d=await u.key,p=await u.value;if(d.status==="aborted"||p.status==="aborted")return an;(d.status==="dirty"||p.status==="dirty")&&n.dirty(),l.set(d.value,p.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const u of o){const d=u.key,p=u.value;if(d.status==="aborted"||p.status==="aborted")return an;(d.status==="dirty"||p.status==="dirty")&&n.dirty(),l.set(d.value,p.value)}return{status:n.value,value:l}}}}Cv.create=(t,e,n)=>new Cv({valueType:e,keyType:t,typeName:sn.ZodMap,...xn(n)});class nu extends En{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==At.set)return It(r,{code:yt.invalid_type,expected:At.set,received:r.parsedType}),an;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(It(r,{code:yt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(It(r,{code:yt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(u){const d=new Set;for(const p of u){if(p.status==="aborted")return an;p.status==="dirty"&&n.dirty(),d.add(p.value)}return{status:n.value,value:d}}const l=[...r.data.values()].map((u,d)=>s._parse(new ra(r,u,r.path,d)));return r.common.async?Promise.all(l).then(u=>o(u)):o(l)}min(e,n){return new nu({...this._def,minSize:{value:e,message:Ht.toString(n)}})}max(e,n){return new nu({...this._def,maxSize:{value:e,message:Ht.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}nu.create=(t,e)=>new nu({valueType:t,minSize:null,maxSize:null,typeName:sn.ZodSet,...xn(e)});class Td extends En{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==At.function)return It(n,{code:yt.invalid_type,expected:At.function,received:n.parsedType}),an;function r(l,u){return Ev({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Sv(),Md].filter(d=>!!d),issueData:{code:yt.invalid_arguments,argumentsError:u}})}function i(l,u){return Ev({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Sv(),Md].filter(d=>!!d),issueData:{code:yt.invalid_return_type,returnTypeError:u}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Bd){const l=this;return zi(async function(...u){const d=new qs([]),p=await l._def.args.parseAsync(u,s).catch(x=>{throw d.addIssue(r(u,x)),d}),h=await Reflect.apply(o,this,p);return await l._def.returns._def.type.parseAsync(h,s).catch(x=>{throw d.addIssue(i(h,x)),d})})}else{const l=this;return zi(function(...u){const d=l._def.args.safeParse(u,s);if(!d.success)throw new qs([r(u,d.error)]);const p=Reflect.apply(o,this,d.data),h=l._def.returns.safeParse(p,s);if(!h.success)throw new qs([i(p,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Td({...this._def,args:ia.create(e).rest(Kc.create())})}returns(e){return new Td({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Td({args:e||ia.create([]).rest(Kc.create()),returns:n||Kc.create(),typeName:sn.ZodFunction,...xn(r)})}}class kh extends En{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}kh.create=(t,e)=>new kh({getter:t,typeName:sn.ZodLazy,...xn(e)});class Ih extends En{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return It(n,{received:n.data,code:yt.invalid_literal,expected:this._def.value}),an}return{status:"valid",value:e.data}}get value(){return this._def.value}}Ih.create=(t,e)=>new Ih({value:t,typeName:sn.ZodLiteral,...xn(e)});function OF(t,e){return new Kl({values:t,typeName:sn.ZodEnum,...xn(e)})}class Kl extends En{constructor(){super(...arguments),Cp.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return It(n,{expected:On.joinValues(r),received:n.parsedType,code:yt.invalid_type}),an}if(Nv(this,Cp)||kF(this,Cp,new Set(this._def.values)),!Nv(this,Cp).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return It(n,{received:n.data,code:yt.invalid_enum_value,options:r}),an}return zi(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Kl.create(e,{...this._def,...n})}exclude(e,n=this._def){return Kl.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Cp=new WeakMap;Kl.create=OF;class Ch extends En{constructor(){super(...arguments),Tp.set(this,void 0)}_parse(e){const n=On.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==At.string&&r.parsedType!==At.number){const i=On.objectValues(n);return It(r,{expected:On.joinValues(i),received:r.parsedType,code:yt.invalid_type}),an}if(Nv(this,Tp)||kF(this,Tp,new Set(On.getValidEnumValues(this._def.values))),!Nv(this,Tp).has(e.data)){const i=On.objectValues(n);return It(r,{received:r.data,code:yt.invalid_enum_value,options:i}),an}return zi(e.data)}get enum(){return this._def.values}}Tp=new WeakMap;Ch.create=(t,e)=>new Ch({values:t,typeName:sn.ZodNativeEnum,...xn(e)});class Bd extends En{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==At.promise&&n.common.async===!1)return It(n,{code:yt.invalid_type,expected:At.promise,received:n.parsedType}),an;const r=n.parsedType===At.promise?n.data:Promise.resolve(n.data);return zi(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Bd.create=(t,e)=>new Bd({type:t,typeName:sn.ZodPromise,...xn(e)});class jo extends En{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===sn.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{It(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async l=>{if(n.value==="aborted")return an;const u=await this._def.schema._parseAsync({data:l,path:r.path,parent:r});return u.status==="aborted"?an:u.status==="dirty"||n.value==="dirty"?ud(u.value):u});{if(n.value==="aborted")return an;const l=this._def.schema._parseSync({data:o,path:r.path,parent:r});return l.status==="aborted"?an:l.status==="dirty"||n.value==="dirty"?ud(l.value):l}}if(i.type==="refinement"){const o=l=>{const u=i.refinement(l,s);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?an:(l.status==="dirty"&&n.dirty(),o(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>l.status==="aborted"?an:(l.status==="dirty"&&n.dirty(),o(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!eu(o))return o;const l=i.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>eu(o)?Promise.resolve(i.transform(o.value,s)).then(l=>({status:n.value,value:l})):o);On.assertNever(i)}}jo.create=(t,e,n)=>new jo({schema:t,typeName:sn.ZodEffects,effect:e,...xn(n)});jo.createWithPreprocess=(t,e,n)=>new jo({schema:e,effect:{type:"preprocess",transform:t},typeName:sn.ZodEffects,...xn(n)});class Jo extends En{_parse(e){return this._getType(e)===At.undefined?zi(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Jo.create=(t,e)=>new Jo({innerType:t,typeName:sn.ZodOptional,...xn(e)});class Ql extends En{_parse(e){return this._getType(e)===At.null?zi(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ql.create=(t,e)=>new Ql({innerType:t,typeName:sn.ZodNullable,...xn(e)});class Th extends En{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===At.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Th.create=(t,e)=>new Th({innerType:t,typeName:sn.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...xn(e)});class Oh extends En{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return bh(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new qs(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new qs(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Oh.create=(t,e)=>new Oh({innerType:t,typeName:sn.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...xn(e)});class Tv extends En{_parse(e){if(this._getType(e)!==At.nan){const r=this._getOrReturnCtx(e);return It(r,{code:yt.invalid_type,expected:At.nan,received:r.parsedType}),an}return{status:"valid",value:e.data}}}Tv.create=t=>new Tv({typeName:sn.ZodNaN,...xn(t)});const DH=Symbol("zod_brand");class G1 extends En{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class um extends En{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?an:s.status==="dirty"?(n.dirty(),ud(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?an:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new um({in:e,out:n,typeName:sn.ZodPipeline})}}class Rh extends En{_parse(e){const n=this._def.innerType._parse(e),r=i=>(eu(i)&&(i.value=Object.freeze(i.value)),i);return bh(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Rh.create=(t,e)=>new Rh({innerType:t,typeName:sn.ZodReadonly,...xn(e)});function RF(t,e={},n){return t?$d.create().superRefine((r,i)=>{var s,o;if(!t(r)){const l=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,u=(o=(s=l.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,d=typeof l=="string"?{message:l}:l;i.addIssue({code:"custom",...d,fatal:u})}}):$d.create()}const LH={object:Ar.lazycreate};var sn;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(sn||(sn={}));const MH=(t,e={message:`Input not instance of ${t.name}`})=>RF(n=>n instanceof t,e),qF=Co.create,jF=Vl.create,$H=Tv.create,BH=Hl.create,AF=xh.create,zH=tu.create,WH=kv.create,UH=wh.create,VH=_h.create,HH=$d.create,KH=Kc.create,QH=$a.create,GH=Iv.create,JH=Oo.create,ZH=Ar.create,YH=Ar.strictCreate,XH=Sh.create,e9=Ab.create,t9=Eh.create,n9=ia.create,r9=Nh.create,i9=Cv.create,s9=nu.create,o9=Td.create,a9=kh.create,l9=Ih.create,c9=Kl.create,u9=Ch.create,d9=Bd.create,$O=jo.create,f9=Jo.create,p9=Ql.create,h9=jo.createWithPreprocess,m9=um.create,g9=()=>qF().optional(),y9=()=>jF().optional(),v9=()=>AF().optional(),b9={string:t=>Co.create({...t,coerce:!0}),number:t=>Vl.create({...t,coerce:!0}),boolean:t=>xh.create({...t,coerce:!0}),bigint:t=>Hl.create({...t,coerce:!0}),date:t=>tu.create({...t,coerce:!0})},x9=an;var W=Object.freeze({__proto__:null,defaultErrorMap:Md,setErrorMap:hH,getErrorMap:Sv,makeIssue:Ev,EMPTY_PATH:mH,addIssueToContext:It,ParseStatus:Ni,INVALID:an,DIRTY:ud,OK:zi,isAborted:SE,isDirty:EE,isValid:eu,isAsync:bh,get util(){return On},get objectUtil(){return _E},ZodParsedType:At,getParsedType:Ra,ZodType:En,datetimeRegex:TF,ZodString:Co,ZodNumber:Vl,ZodBigInt:Hl,ZodBoolean:xh,ZodDate:tu,ZodSymbol:kv,ZodUndefined:wh,ZodNull:_h,ZodAny:$d,ZodUnknown:Kc,ZodNever:$a,ZodVoid:Iv,ZodArray:Oo,ZodObject:Ar,ZodUnion:Sh,ZodDiscriminatedUnion:Ab,ZodIntersection:Eh,ZodTuple:ia,ZodRecord:Nh,ZodMap:Cv,ZodSet:nu,ZodFunction:Td,ZodLazy:kh,ZodLiteral:Ih,ZodEnum:Kl,ZodNativeEnum:Ch,ZodPromise:Bd,ZodEffects:jo,ZodTransformer:jo,ZodOptional:Jo,ZodNullable:Ql,ZodDefault:Th,ZodCatch:Oh,ZodNaN:Tv,BRAND:DH,ZodBranded:G1,ZodPipeline:um,ZodReadonly:Rh,custom:RF,Schema:En,ZodSchema:En,late:LH,get ZodFirstPartyTypeKind(){return sn},coerce:b9,any:HH,array:JH,bigint:BH,boolean:AF,date:zH,discriminatedUnion:e9,effect:$O,enum:c9,function:o9,instanceof:MH,intersection:t9,lazy:a9,literal:l9,map:i9,nan:$H,nativeEnum:u9,never:QH,null:VH,nullable:p9,number:jF,object:ZH,oboolean:v9,onumber:y9,optional:f9,ostring:g9,pipeline:m9,preprocess:h9,promise:d9,record:r9,set:s9,strictObject:YH,string:qF,symbol:WH,transformer:$O,tuple:n9,undefined:UH,union:XH,unknown:KH,void:GH,NEVER:x9,ZodIssueCode:yt,quotelessJson:pH,ZodError:qs});const w9=W.object({page:W.number().gte(0,"Page must be greater than zero"),size:W.number().gte(1,"Page size must be greater than one to get any data")}),Wi=W.object({id:W.string().min(1)}),J1=W.object({message:W.string()}),Ui=W.object({id:W.string().optional(),idIn:W.array(W.string()).optional(),fulltext:W.string().optional()}),_9=W.enum(["asc","desc"]),Ba=()=>W.union([W.boolean(),W.number().int().refine(t=>t===0||t===1).transform(t=>typeof t=="boolean"?t:t===1)]),hs=()=>W.union([W.number(),W.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t))]),Xp=()=>W.union([W.number().int(),W.string().transform(t=>parseInt(t,10)).refine(t=>!isNaN(t))]),fs=t=>W.string().transform(e=>JSON.parse(e)).refine(e=>Array.isArray(e)).transform(e=>W.array(t).parse(e)),S9=t=>W.string().transform(e=>JSON.parse(e)).transform(e=>t.parse(e)),kE=new Proxy(()=>kE,{get:()=>kE}),Vi=({entity:t,shape:e,filter:n,sort:r})=>{const i=kE();return{entity:t,"~entity":i,"~entity-array":[],"~entity-partial-exclude-id":i,shape:e,"~shape":i,"~shape-partial":i,filter:n,"~filter":i,sort:W.array(W.object({name:W.enum(r),sort:_9})),"~sort":i,"~sort-keyof":i}},gl=(t,e)=>Array.from({length:e-t+1},(n,r)=>r+t),E9=({page:t,total:e,siblings:n=1,boundaries:r=1})=>{const i=Math.max(Math.trunc(e),0);if(n*2+3+r*2>=i)return{type:"simple",page:t,total:e,pages:gl(1,i),start:[],end:[]};const o=Math.max(t-n,r),l=Math.min(t+n,i-r),u=o>r+2,d=l<i-(r+1);return!u&&d?{type:"end",page:t,total:e,start:[],pages:gl(1,n*2+r+2),end:gl(e-(r-1),i)}:u&&!d?{type:"start",page:t,total:e,start:gl(1,r),pages:gl(e-(r+1+2*n),i),end:[]}:{type:"both",page:t,total:e,start:gl(1,r),pages:gl(o,l),end:gl(i-r+1,i)}};var Gu={},Ea={},ar={},yl={},BO;function PF(){if(BO)return yl;BO=1,Object.defineProperty(yl,"__esModule",{value:!0}),yl.anumber=t,yl.abytes=n,yl.ahash=r,yl.aexists=i,yl.aoutput=s;function t(o){if(!Number.isSafeInteger(o)||o<0)throw new Error("positive integer expected, got "+o)}function e(o){return o instanceof Uint8Array||ArrayBuffer.isView(o)&&o.constructor.name==="Uint8Array"}function n(o,...l){if(!e(o))throw new Error("Uint8Array expected");if(l.length>0&&!l.includes(o.length))throw new Error("Uint8Array expected of length "+l+", got length="+o.length)}function r(o){if(typeof o!="function"||typeof o.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");t(o.outputLen),t(o.blockLen)}function i(o,l=!0){if(o.destroyed)throw new Error("Hash instance has been destroyed");if(l&&o.finished)throw new Error("Hash#digest() has already been called")}function s(o,l){n(o);const u=l.outputLen;if(o.length<u)throw new Error("digestInto() expects output buffer of length at least "+u)}return yl}var pn={},zO;function N9(){if(zO)return pn;zO=1,Object.defineProperty(pn,"__esModule",{value:!0}),pn.add5L=pn.add5H=pn.add4H=pn.add4L=pn.add3H=pn.add3L=pn.rotlBL=pn.rotlBH=pn.rotlSL=pn.rotlSH=pn.rotr32L=pn.rotr32H=pn.rotrBL=pn.rotrBH=pn.rotrSL=pn.rotrSH=pn.shrSL=pn.shrSH=pn.toBig=void 0,pn.fromBig=n,pn.split=r,pn.add=T;const t=BigInt(2**32-1),e=BigInt(32);function n(q,M=!1){return M?{h:Number(q&t),l:Number(q>>e&t)}:{h:Number(q>>e&t)|0,l:Number(q&t)|0}}function r(q,M=!1){let F=new Uint32Array(q.length),U=new Uint32Array(q.length);for(let V=0;V<q.length;V++){const{h:B,l:te}=n(q[V],M);[F[V],U[V]]=[B,te]}return[F,U]}const i=(q,M)=>BigInt(q>>>0)<<e|BigInt(M>>>0);pn.toBig=i;const s=(q,M,F)=>q>>>F;pn.shrSH=s;const o=(q,M,F)=>q<<32-F|M>>>F;pn.shrSL=o;const l=(q,M,F)=>q>>>F|M<<32-F;pn.rotrSH=l;const u=(q,M,F)=>q<<32-F|M>>>F;pn.rotrSL=u;const d=(q,M,F)=>q<<64-F|M>>>F-32;pn.rotrBH=d;const p=(q,M,F)=>q>>>F-32|M<<64-F;pn.rotrBL=p;const h=(q,M)=>M;pn.rotr32H=h;const b=(q,M)=>q;pn.rotr32L=b;const x=(q,M,F)=>q<<F|M>>>32-F;pn.rotlSH=x;const _=(q,M,F)=>M<<F|q>>>32-F;pn.rotlSL=_;const E=(q,M,F)=>M<<F-32|q>>>64-F;pn.rotlBH=E;const I=(q,M,F)=>q<<F-32|M>>>64-F;pn.rotlBL=I;function T(q,M,F,U){const V=(M>>>0)+(U>>>0);return{h:q+F+(V/2**32|0)|0,l:V|0}}const O=(q,M,F)=>(q>>>0)+(M>>>0)+(F>>>0);pn.add3L=O;const R=(q,M,F,U)=>M+F+U+(q/2**32|0)|0;pn.add3H=R;const A=(q,M,F,U)=>(q>>>0)+(M>>>0)+(F>>>0)+(U>>>0);pn.add4L=A;const D=(q,M,F,U,V)=>M+F+U+V+(q/2**32|0)|0;pn.add4H=D;const L=(q,M,F,U,V)=>(q>>>0)+(M>>>0)+(F>>>0)+(U>>>0)+(V>>>0);pn.add5L=L;const z=(q,M,F,U,V,B)=>M+F+U+V+B+(q/2**32|0)|0;pn.add5H=z;const P={fromBig:n,split:r,toBig:i,shrSH:s,shrSL:o,rotrSH:l,rotrSL:u,rotrBH:d,rotrBL:p,rotr32H:h,rotr32L:b,rotlSH:x,rotlSL:_,rotlBH:E,rotlBL:I,add:T,add3L:O,add3H:R,add4L:A,add4H:D,add5H:z,add5L:L};return pn.default=P,pn}var i0={},gp={},WO;function k9(){return WO||(WO=1,Object.defineProperty(gp,"__esModule",{value:!0}),gp.crypto=void 0,gp.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),gp}var UO;function I9(){return UO||(UO=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Hash=t.nextTick=t.byteSwapIfBE=t.isLE=void 0,t.isBytes=r,t.u8=i,t.u32=s,t.createView=o,t.rotr=l,t.rotl=u,t.byteSwap=d,t.byteSwap32=p,t.bytesToHex=b,t.hexToBytes=E,t.asyncLoop=T,t.utf8ToBytes=O,t.toBytes=R,t.concatBytes=A,t.checkOpts=L,t.wrapConstructor=z,t.wrapConstructorWithOpts=P,t.wrapXOFConstructorWithOpts=q,t.randomBytes=M;const e=k9(),n=PF();function r(F){return F instanceof Uint8Array||ArrayBuffer.isView(F)&&F.constructor.name==="Uint8Array"}function i(F){return new Uint8Array(F.buffer,F.byteOffset,F.byteLength)}function s(F){return new Uint32Array(F.buffer,F.byteOffset,Math.floor(F.byteLength/4))}function o(F){return new DataView(F.buffer,F.byteOffset,F.byteLength)}function l(F,U){return F<<32-U|F>>>U}function u(F,U){return F<<U|F>>>32-U>>>0}t.isLE=new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]===68;function d(F){return F<<24&0xff000000|F<<8&0xff0000|F>>>8&65280|F>>>24&255}t.byteSwapIfBE=t.isLE?F=>F:F=>d(F);function p(F){for(let U=0;U<F.length;U++)F[U]=d(F[U])}const h=Array.from({length:256},(F,U)=>U.toString(16).padStart(2,"0"));function b(F){(0,n.abytes)(F);let U="";for(let V=0;V<F.length;V++)U+=h[F[V]];return U}const x={_0:48,_9:57,A:65,F:70,a:97,f:102};function _(F){if(F>=x._0&&F<=x._9)return F-x._0;if(F>=x.A&&F<=x.F)return F-(x.A-10);if(F>=x.a&&F<=x.f)return F-(x.a-10)}function E(F){if(typeof F!="string")throw new Error("hex string expected, got "+typeof F);const U=F.length,V=U/2;if(U%2)throw new Error("hex string expected, got unpadded hex of length "+U);const B=new Uint8Array(V);for(let te=0,Z=0;te<V;te++,Z+=2){const le=_(F.charCodeAt(Z)),se=_(F.charCodeAt(Z+1));if(le===void 0||se===void 0){const ne=F[Z]+F[Z+1];throw new Error('hex string expected, got non-hex character "'+ne+'" at index '+Z)}B[te]=le*16+se}return B}const I=async()=>{};t.nextTick=I;async function T(F,U,V){let B=Date.now();for(let te=0;te<F;te++){V(te);const Z=Date.now()-B;Z>=0&&Z<U||(await (0,t.nextTick)(),B+=Z)}}function O(F){if(typeof F!="string")throw new Error("utf8ToBytes expected string, got "+typeof F);return new Uint8Array(new TextEncoder().encode(F))}function R(F){return typeof F=="string"&&(F=O(F)),(0,n.abytes)(F),F}function A(...F){let U=0;for(let B=0;B<F.length;B++){const te=F[B];(0,n.abytes)(te),U+=te.length}const V=new Uint8Array(U);for(let B=0,te=0;B<F.length;B++){const Z=F[B];V.set(Z,te),te+=Z.length}return V}class D{clone(){return this._cloneInto()}}t.Hash=D;function L(F,U){if(U!==void 0&&{}.toString.call(U)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(F,U)}function z(F){const U=B=>F().update(R(B)).digest(),V=F();return U.outputLen=V.outputLen,U.blockLen=V.blockLen,U.create=()=>F(),U}function P(F){const U=(B,te)=>F(te).update(R(B)).digest(),V=F({});return U.outputLen=V.outputLen,U.blockLen=V.blockLen,U.create=B=>F(B),U}function q(F){const U=(B,te)=>F(te).update(R(B)).digest(),V=F({});return U.outputLen=V.outputLen,U.blockLen=V.blockLen,U.create=B=>F(B),U}function M(F=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(F));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(F);throw new Error("crypto.getRandomValues must be defined")}}(i0)),i0}var VO;function C9(){if(VO)return ar;VO=1,Object.defineProperty(ar,"__esModule",{value:!0}),ar.shake256=ar.shake128=ar.keccak_512=ar.keccak_384=ar.keccak_256=ar.keccak_224=ar.sha3_512=ar.sha3_384=ar.sha3_256=ar.sha3_224=ar.Keccak=void 0,ar.keccakP=I;const t=PF(),e=N9(),n=I9(),r=[],i=[],s=[],o=BigInt(0),l=BigInt(1),u=BigInt(2),d=BigInt(7),p=BigInt(256),h=BigInt(113);for(let A=0,D=l,L=1,z=0;A<24;A++){[L,z]=[z,(2*L+3*z)%5],r.push(2*(5*z+L)),i.push((A+1)*(A+2)/2%64);let P=o;for(let q=0;q<7;q++)D=(D<<l^(D>>d)*h)%p,D&u&&(P^=l<<(l<<BigInt(q))-l);s.push(P)}const[b,x]=(0,e.split)(s,!0),_=(A,D,L)=>L>32?(0,e.rotlBH)(A,D,L):(0,e.rotlSH)(A,D,L),E=(A,D,L)=>L>32?(0,e.rotlBL)(A,D,L):(0,e.rotlSL)(A,D,L);function I(A,D=24){const L=new Uint32Array(10);for(let z=24-D;z<24;z++){for(let M=0;M<10;M++)L[M]=A[M]^A[M+10]^A[M+20]^A[M+30]^A[M+40];for(let M=0;M<10;M+=2){const F=(M+8)%10,U=(M+2)%10,V=L[U],B=L[U+1],te=_(V,B,1)^L[F],Z=E(V,B,1)^L[F+1];for(let le=0;le<50;le+=10)A[M+le]^=te,A[M+le+1]^=Z}let P=A[2],q=A[3];for(let M=0;M<24;M++){const F=i[M],U=_(P,q,F),V=E(P,q,F),B=r[M];P=A[B],q=A[B+1],A[B]=U,A[B+1]=V}for(let M=0;M<50;M+=10){for(let F=0;F<10;F++)L[F]=A[M+F];for(let F=0;F<10;F++)A[M+F]^=~L[(F+2)%10]&L[(F+4)%10]}A[0]^=b[z],A[1]^=x[z]}L.fill(0)}class T extends n.Hash{constructor(D,L,z,P=!1,q=24){if(super(),this.blockLen=D,this.suffix=L,this.outputLen=z,this.enableXOF=P,this.rounds=q,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,t.anumber)(z),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,n.u32)(this.state)}keccak(){n.isLE||(0,n.byteSwap32)(this.state32),I(this.state32,this.rounds),n.isLE||(0,n.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(D){(0,t.aexists)(this);const{blockLen:L,state:z}=this;D=(0,n.toBytes)(D);const P=D.length;for(let q=0;q<P;){const M=Math.min(L-this.pos,P-q);for(let F=0;F<M;F++)z[this.pos++]^=D[q++];this.pos===L&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:D,suffix:L,pos:z,blockLen:P}=this;D[z]^=L,L&128&&z===P-1&&this.keccak(),D[P-1]^=128,this.keccak()}writeInto(D){(0,t.aexists)(this,!1),(0,t.abytes)(D),this.finish();const L=this.state,{blockLen:z}=this;for(let P=0,q=D.length;P<q;){this.posOut>=z&&this.keccak();const M=Math.min(z-this.posOut,q-P);D.set(L.subarray(this.posOut,this.posOut+M),P),this.posOut+=M,P+=M}return D}xofInto(D){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(D)}xof(D){return(0,t.anumber)(D),this.xofInto(new Uint8Array(D))}digestInto(D){if((0,t.aoutput)(D,this),this.finished)throw new Error("digest() was already called");return this.writeInto(D),this.destroy(),D}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(D){const{blockLen:L,suffix:z,outputLen:P,rounds:q,enableXOF:M}=this;return D||(D=new T(L,z,P,M,q)),D.state32.set(this.state32),D.pos=this.pos,D.posOut=this.posOut,D.finished=this.finished,D.rounds=q,D.suffix=z,D.outputLen=P,D.enableXOF=M,D.destroyed=this.destroyed,D}}ar.Keccak=T;const O=(A,D,L)=>(0,n.wrapConstructor)(()=>new T(D,A,L));ar.sha3_224=O(6,144,224/8),ar.sha3_256=O(6,136,256/8),ar.sha3_384=O(6,104,384/8),ar.sha3_512=O(6,72,512/8),ar.keccak_224=O(1,144,224/8),ar.keccak_256=O(1,136,256/8),ar.keccak_384=O(1,104,384/8),ar.keccak_512=O(1,72,512/8);const R=(A,D,L)=>(0,n.wrapXOFConstructorWithOpts)((z={})=>new T(D,A,z.dkLen===void 0?L:z.dkLen,!0));return ar.shake128=R(31,168,128/8),ar.shake256=R(31,136,256/8),ar}var HO;function T9(){if(HO)return Ea;HO=1;const{sha3_512:t}=C9(),e=24,n=32,r=(_=4,E=Math.random)=>{let I="";for(;I.length<_;)I=I+Math.floor(E()*36).toString(36);return I};function i(_){let E=8n,I=0n;for(const T of _.values()){const O=BigInt(T);I=(I<<E)+O}return I}const s=(_="")=>i(t(_)).toString(36).slice(1),o=Array.from({length:26},(_,E)=>String.fromCharCode(E+97)),l=_=>o[Math.floor(_()*o.length)],u=({globalObj:_=typeof Dc<"u"?Dc:typeof window<"u"?window:{},random:E=Math.random}={})=>{const I=Object.keys(_).toString(),T=I.length?I+r(n,E):r(n,E);return s(T).substring(0,n)},d=_=>()=>_++,p=0x1c6b1f1f,h=({random:_=Math.random,counter:E=d(Math.floor(_()*p)),length:I=e,fingerprint:T=u({random:_})}={})=>function(){const R=l(_),A=Date.now().toString(36),D=E().toString(36),L=r(I,_),z=`${A+L+D+T}`;return`${R+s(z).substring(1,I)}`},b=h(),x=(_,{minLength:E=2,maxLength:I=n}={})=>{const T=_.length,O=/^[0-9a-z]+$/;try{if(typeof _=="string"&&T>=E&&T<=I&&O.test(_))return!0}finally{}return!1};return Ea.getConstants=()=>({defaultLength:e,bigLength:n}),Ea.init=h,Ea.createId=b,Ea.bufToBigInt=i,Ea.createCounter=d,Ea.createFingerprint=u,Ea.isCuid=x,Ea}var KO;function O9(){if(KO)return Gu;KO=1;const{createId:t,init:e,getConstants:n,isCuid:r}=T9();return Gu.createId=t,Gu.init=e,Gu.getConstants=n,Gu.isCuid=r,Gu}var R9=O9();const Rn=R9.createId;var s0,QO;function q9(){if(QO)return s0;QO=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,n,r;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{n=Object.defineProperty({},"length",{get:function(){throw r}}),r={},e(function(){throw 42},null,n)}catch(O){O!==r&&(e=null)}else e=null;var i=/^\s*class\b/,s=function(R){try{var A=t.call(R);return i.test(A)}catch{return!1}},o=function(R){try{return s(R)?!1:(t.call(R),!0)}catch{return!1}},l=Object.prototype.toString,u="[object Object]",d="[object Function]",p="[object GeneratorFunction]",h="[object HTMLAllCollection]",b="[object HTML document.all class]",x="[object HTMLCollection]",_=typeof Symbol=="function"&&!!Symbol.toStringTag,E=!(0 in[,]),I=function(){return!1};if(typeof document=="object"){var T=document.all;l.call(T)===l.call(document.all)&&(I=function(R){if((E||!R)&&(typeof R>"u"||typeof R=="object"))try{var A=l.call(R);return(A===h||A===b||A===x||A===u)&&R("")==null}catch{}return!1})}return s0=e?function(R){if(I(R))return!0;if(!R||typeof R!="function"&&typeof R!="object")return!1;try{e(R,null,n)}catch(A){if(A!==r)return!1}return!s(R)&&o(R)}:function(R){if(I(R))return!0;if(!R||typeof R!="function"&&typeof R!="object")return!1;if(_)return o(R);if(s(R))return!1;var A=l.call(R);return A!==d&&A!==p&&!/^\[object HTML/.test(A)?!1:o(R)},s0}var j9=q9();const A9=ao(j9),P9=t=>A9(t);var ky={exports:{}},F9=ky.exports,GO;function D9(){return GO||(GO=1,function(t){(function(e,n){t.exports=n()})(F9,function(){var e=Object.prototype.toString;function n(h,b){return h==null?!1:Object.prototype.hasOwnProperty.call(h,b)}function r(h){if(!h||o(h)&&h.length===0)return!0;if(typeof h!="string"){for(var b in h)if(n(h,b))return!1;return!0}return!1}function i(h){return e.call(h)}function s(h){return typeof h=="object"&&i(h)==="[object Object]"}var o=Array.isArray||function(h){return e.call(h)==="[object Array]"};function l(h){return typeof h=="boolean"||i(h)==="[object Boolean]"}function u(h){var b=parseInt(h);return b.toString()===h?b:h}function d(h){h=h||{};var b=function(T){return Object.keys(b).reduce(function(O,R){return R==="create"||typeof b[R]=="function"&&(O[R]=b[R].bind(b,T)),O},{})},x;h.includeInheritedProps?x=function(){return!0}:x=function(T,O){return typeof O=="number"&&Array.isArray(T)||n(T,O)};function _(T,O){if(x(T,O))return T[O]}var E;h.includeInheritedProps?E=function(T,O){typeof O!="string"&&typeof O!="number"&&(O=String(O));var R=_(T,O);if(O==="__proto__"||O==="prototype"||O==="constructor"&&typeof R=="function")throw new Error("For security reasons, object's magic properties cannot be set");return R}:E=function(T,O){return _(T,O)};function I(T,O,R,A){if(typeof O=="number"&&(O=[O]),!O||O.length===0)return T;if(typeof O=="string")return I(T,O.split(".").map(u),R,A);var D=O[0],L=E(T,D);return O.length===1?((L===void 0||!A)&&(T[D]=R),L):(L===void 0&&(typeof O[1]=="number"?T[D]=[]:T[D]={}),I(T[D],O.slice(1),R,A))}return b.has=function(T,O){if(typeof O=="number"?O=[O]:typeof O=="string"&&(O=O.split(".")),!O||O.length===0)return!!T;for(var R=0;R<O.length;R++){var A=u(O[R]);if(typeof A=="number"&&o(T)&&A<T.length||(h.includeInheritedProps?A in Object(T):n(T,A)))T=T[A];else return!1}return!0},b.ensureExists=function(T,O,R){return I(T,O,R,!0)},b.set=function(T,O,R,A){return I(T,O,R,A)},b.insert=function(T,O,R,A){var D=b.get(T,O);A=~~A,o(D)||(D=[],b.set(T,O,D)),D.splice(A,0,R)},b.empty=function(T,O){if(!r(O)&&T!=null){var R,A;if(R=b.get(T,O)){if(typeof R=="string")return b.set(T,O,"");if(l(R))return b.set(T,O,!1);if(typeof R=="number")return b.set(T,O,0);if(o(R))R.length=0;else if(s(R))for(A in R)x(R,A)&&delete R[A];else return b.set(T,O,null)}}},b.push=function(T,O){var R=b.get(T,O);o(R)||(R=[],b.set(T,O,R)),R.push.apply(R,Array.prototype.slice.call(arguments,2))},b.coalesce=function(T,O,R){for(var A,D=0,L=O.length;D<L;D++)if((A=b.get(T,O[D]))!==void 0)return A;return R},b.get=function(T,O,R){if(typeof O=="number"&&(O=[O]),!O||O.length===0)return T;if(T==null)return R;if(typeof O=="string")return b.get(T,O.split("."),R);var A=u(O[0]),D=E(T,A);return D===void 0?R:O.length===1?D:b.get(T[A],O.slice(1),R)},b.del=function(O,R){if(typeof R=="number"&&(R=[R]),O==null||r(R))return O;if(typeof R=="string")return b.del(O,R.split("."));var A=u(R[0]);if(E(O,A),!x(O,A))return O;if(R.length===1)o(O)?O.splice(A,1):delete O[A];else return b.del(O[A],R.slice(1));return O},b}var p=d();return p.create=d,p.withInheritedProps=d({includeInheritedProps:!0}),p})}(ky)),ky.exports}var L9=D9();const JO=ao(L9);function _n({number:t,empty:e="-",fraction:n=2}){if(t==null)return e;try{return t.toLocaleString(void 0,{maximumFractionDigits:n})}catch(r){return console.error("toHumanNumber",t,r),t.toFixed(2)}}const Z1=({error:t,errors:e,onError:n})=>{const r=e.some(s=>s),i=t instanceof Error;return!r&&i&&n(t),r||i},FF=yn({slot:{base:["flex","flex-row","gap-2","items-center","rounded","px-2","py-0.5","hover:bg-slate-100","text-slate-500","hover:text-blue-500","cursor-pointer"]},variant:{variant:{common:[],warning:["text-amber-500","hover:text-amber-600","hover:bg-amber-100"],danger:["text-red-500","hover:text-red-600","hover:bg-red-100"]},disabled:{true:["cursor-not-allowed","text-slate-300","bg-slate-100","hover:bg-slate-100"]}},defaults:{variant:"common",disabled:!1}}),M9=yn({use:FF,slot:{},variant:{},defaults:{}}),Iy=({icon:t,iconProps:e,variant:n,tva:r=M9,css:i,children:s,...o})=>{const l=r({...n,css:i}).slots;return f.jsxs("div",{className:l.base(),...o,children:[kb(t)?f.jsx(on,{icon:t,...e}):t,s]})};function Pb(){return typeof window<"u"}function Yl(t){return DF(t)?(t.nodeName||"").toLowerCase():"#document"}function ps(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function oa(t){var e;return(e=(DF(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function DF(t){return Pb()?t instanceof Node||t instanceof ps(t).Node:!1}function cr(t){return Pb()?t instanceof Element||t instanceof ps(t).Element:!1}function Zr(t){return Pb()?t instanceof HTMLElement||t instanceof ps(t).HTMLElement:!1}function IE(t){return!Pb()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ps(t).ShadowRoot}function dm(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=io(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function $9(t){return["table","td","th"].includes(Yl(t))}function Fb(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Y1(t){const e=Db(),n=cr(t)?io(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function B9(t){let e=za(t);for(;Zr(e)&&!Aa(e);){if(Y1(e))return e;if(Fb(e))return null;e=za(e)}return null}function Db(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Aa(t){return["html","body","#document"].includes(Yl(t))}function io(t){return ps(t).getComputedStyle(t)}function Lb(t){return cr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function za(t){if(Yl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||IE(t)&&t.host||oa(t);return IE(e)?e.host:e}function LF(t){const e=za(t);return Aa(e)?t.ownerDocument?t.ownerDocument.body:t.body:Zr(e)&&dm(e)?e:LF(e)}function Fl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=LF(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=ps(i);if(s){const l=CE(o);return e.concat(o,o.visualViewport||[],dm(i)?i:[],l&&n?Fl(l):[])}return e.concat(i,Fl(i,[],n))}function CE(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Eo(t){let e=t.activeElement;for(;((n=e)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;e=e.shadowRoot.activeElement}return e}function di(t,e){if(!t||!e)return!1;const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&IE(n)){let r=e;for(;r;){if(t===r)return!0;r=r.parentNode||r.host}}return!1}function X1(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function MF(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:r}=e;return n+"/"+r}).join(" "):navigator.userAgent}function $F(t){return t.mozInputSource===0&&t.isTrusted?!0:TE()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function eN(t){return W9()?!1:!TE()&&t.width===0&&t.height===0||TE()&&t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0&&t.pointerType==="touch"}function BF(){return/apple/i.test(navigator.vendor)}function TE(){const t=/android/i;return t.test(X1())||t.test(MF())}function z9(){return X1().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function W9(){return MF().includes("jsdom/")}function qh(t,e){const n=["mouse","pen"];return e||n.push("",void 0),n.includes(t)}function U9(t){return"nativeEvent"in t}function V9(t){return t.matches("html,body")}function fi(t){return t?.ownerDocument||document}function o0(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}function Cl(t){return"composedPath"in t?t.composedPath()[0]:t.target}const H9="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function tN(t){return Zr(t)&&t.matches(H9)}function Ai(t){t.preventDefault(),t.stopPropagation()}function zF(t){return t?t.getAttribute("role")==="combobox"&&tN(t):!1}const zd=Math.min,ks=Math.max,Ov=Math.round,dd=Math.floor,Zo=t=>({x:t,y:t}),K9={left:"right",right:"left",bottom:"top",top:"bottom"},Q9={start:"end",end:"start"};function ZO(t,e,n){return ks(t,zd(e,n))}function fm(t,e){return typeof t=="function"?t(e):t}function Gl(t){return t.split("-")[0]}function pm(t){return t.split("-")[1]}function WF(t){return t==="x"?"y":"x"}function UF(t){return t==="y"?"height":"width"}function ru(t){return["top","bottom"].includes(Gl(t))?"y":"x"}function VF(t){return WF(ru(t))}function G9(t,e,n){n===void 0&&(n=!1);const r=pm(t),i=VF(t),s=UF(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Rv(o)),[o,Rv(o)]}function J9(t){const e=Rv(t);return[OE(t),e,OE(e)]}function OE(t){return t.replace(/start|end/g,e=>Q9[e])}function Z9(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function Y9(t,e,n,r){const i=pm(t);let s=Z9(Gl(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(OE)))),s}function Rv(t){return t.replace(/left|right|bottom|top/g,e=>K9[e])}function X9(t){return{top:0,right:0,bottom:0,left:0,...t}}function e7(t){return typeof t!="number"?X9(t):{top:t,right:t,bottom:t,left:t}}function qv(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}var t7=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],jv=t7.join(","),HF=typeof Element>"u",Wd=HF?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Av=!HF&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t?.ownerDocument},Pv=function t(e,n){var r;n===void 0&&(n=!0);var i=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),s=i===""||i==="true",o=s||n&&e&&t(e.parentNode);return o},n7=function(e){var n,r=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"contenteditable");return r===""||r==="true"},r7=function(e,n,r){if(Pv(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(jv));return n&&Wd.call(e,jv)&&i.unshift(e),i=i.filter(r),i},i7=function t(e,n,r){for(var i=[],s=Array.from(e);s.length;){var o=s.shift();if(!Pv(o,!1))if(o.tagName==="SLOT"){var l=o.assignedElements(),u=l.length?l:o.children,d=t(u,!0,r);r.flatten?i.push.apply(i,d):i.push({scopeParent:o,candidates:d})}else{var p=Wd.call(o,jv);p&&r.filter(o)&&(n||!e.includes(o))&&i.push(o);var h=o.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(o),b=!Pv(h,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(h&&b){var x=t(h===!0?o.children:h.children,!0,r);r.flatten?i.push.apply(i,x):i.push({scopeParent:o,candidates:x})}else s.unshift.apply(s,o.children)}}return i},KF=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},QF=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||n7(e))&&!KF(e)?0:e.tabIndex},s7=function(e,n){var r=QF(e);return r<0&&n&&!KF(e)?0:r},o7=function(e,n){return e.tabIndex===n.tabIndex?e.documentOrder-n.documentOrder:e.tabIndex-n.tabIndex},GF=function(e){return e.tagName==="INPUT"},a7=function(e){return GF(e)&&e.type==="hidden"},l7=function(e){var n=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return n},c7=function(e,n){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===n)return e[r]},u7=function(e){if(!e.name)return!0;var n=e.form||Av(e),r=function(l){return n.querySelectorAll('input[type="radio"][name="'+l+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=r(window.CSS.escape(e.name));else try{i=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var s=c7(i,e.form);return!s||s===e},d7=function(e){return GF(e)&&e.type==="radio"},f7=function(e){return d7(e)&&!u7(e)},p7=function(e){var n,r=e&&Av(e),i=(n=r)===null||n===void 0?void 0:n.host,s=!1;if(r&&r!==e){var o,l,u;for(s=!!((o=i)!==null&&o!==void 0&&(l=o.ownerDocument)!==null&&l!==void 0&&l.contains(i)||e!=null&&(u=e.ownerDocument)!==null&&u!==void 0&&u.contains(e));!s&&i;){var d,p,h;r=Av(i),i=(d=r)===null||d===void 0?void 0:d.host,s=!!((p=i)!==null&&p!==void 0&&(h=p.ownerDocument)!==null&&h!==void 0&&h.contains(i))}}return s},YO=function(e){var n=e.getBoundingClientRect(),r=n.width,i=n.height;return r===0&&i===0},h7=function(e,n){var r=n.displayCheck,i=n.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=Wd.call(e,"details>summary:first-of-type"),o=s?e.parentElement:e;if(Wd.call(o,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof i=="function"){for(var l=e;e;){var u=e.parentElement,d=Av(e);if(u&&!u.shadowRoot&&i(u)===!0)return YO(e);e.assignedSlot?e=e.assignedSlot:!u&&d!==e.ownerDocument?e=d.host:e=u}e=l}if(p7(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return YO(e);return!1},m7=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var n=e.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var i=n.children.item(r);if(i.tagName==="LEGEND")return Wd.call(n,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}n=n.parentElement}return!1},g7=function(e,n){return!(n.disabled||Pv(n)||a7(n)||h7(n,e)||l7(n)||m7(n))},RE=function(e,n){return!(f7(n)||QF(n)<0||!g7(e,n))},y7=function(e){var n=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},v7=function t(e){var n=[],r=[];return e.forEach(function(i,s){var o=!!i.scopeParent,l=o?i.scopeParent:i,u=s7(l,o),d=o?t(i.candidates):l;u===0?o?n.push.apply(n,d):n.push(l):r.push({documentOrder:s,tabIndex:u,item:i,isScope:o,content:d})}),r.sort(o7).reduce(function(i,s){return s.isScope?i.push.apply(i,s.content):i.push(s.content),i},[]).concat(n)},Mb=function(e,n){n=n||{};var r;return n.getShadowRoot?r=i7([e],n.includeContainer,{filter:RE.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:y7}):r=r7(e,n.includeContainer,RE.bind(null,n)),v7(r)},b7=function(e,n){if(n=n||{},!e)throw new Error("No node provided");return Wd.call(e,jv)===!1?!1:RE(n,e)};function XO(t,e,n){let{reference:r,floating:i}=t;const s=ru(e),o=VF(e),l=UF(o),u=Gl(e),d=s==="y",p=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,b=r[l]/2-i[l]/2;let x;switch(u){case"top":x={x:p,y:r.y-i.height};break;case"bottom":x={x:p,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:h};break;case"left":x={x:r.x-i.width,y:h};break;default:x={x:r.x,y:r.y}}switch(pm(e)){case"start":x[o]-=b*(n&&d?-1:1);break;case"end":x[o]+=b*(n&&d?-1:1);break}return x}const x7=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,l=s.filter(Boolean),u=await (o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:p,y:h}=XO(d,r,u),b=r,x={},_=0;for(let E=0;E<l.length;E++){const{name:I,fn:T}=l[E],{x:O,y:R,data:A,reset:D}=await T({x:p,y:h,initialPlacement:r,placement:b,strategy:i,middlewareData:x,rects:d,platform:o,elements:{reference:t,floating:e}});p=O??p,h=R??h,x={...x,[I]:{...x[I],...A}},D&&_<=50&&(_++,typeof D=="object"&&(D.placement&&(b=D.placement),D.rects&&(d=D.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):D.rects),{x:p,y:h}=XO(d,b,u)),E=-1)}return{x:p,y:h,placement:b,strategy:i,middlewareData:x}};async function nN(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:l,strategy:u}=t,{boundary:d="clippingAncestors",rootBoundary:p="viewport",elementContext:h="floating",altBoundary:b=!1,padding:x=0}=fm(e,t),_=e7(x),I=l[b?h==="floating"?"reference":"floating":h],T=qv(await s.getClippingRect({element:(n=await (s.isElement==null?void 0:s.isElement(I)))==null||n?I:I.contextElement||await (s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:d,rootBoundary:p,strategy:u})),O=h==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,R=await (s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),A=await (s.isElement==null?void 0:s.isElement(R))?await (s.getScale==null?void 0:s.getScale(R))||{x:1,y:1}:{x:1,y:1},D=qv(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:O,offsetParent:R,strategy:u}):O);return{top:(T.top-D.top+_.top)/A.y,bottom:(D.bottom-T.bottom+_.bottom)/A.y,left:(T.left-D.left+_.left)/A.x,right:(D.right-T.right+_.right)/A.x}}const w7=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:u,elements:d}=e,{mainAxis:p=!0,crossAxis:h=!0,fallbackPlacements:b,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:E=!0,...I}=fm(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const T=Gl(i),O=ru(l),R=Gl(l)===l,A=await (u.isRTL==null?void 0:u.isRTL(d.floating)),D=b||(R||!E?[Rv(l)]:J9(l)),L=_!=="none";!b&&L&&D.push(...Y9(l,E,_,A));const z=[l,...D],P=await nN(e,I),q=[];let M=((r=s.flip)==null?void 0:r.overflows)||[];if(p&&q.push(P[T]),h){const B=G9(i,o,A);q.push(P[B[0]],P[B[1]])}if(M=[...M,{placement:i,overflows:q}],!q.every(B=>B<=0)){var F,U;const B=(((F=s.flip)==null?void 0:F.index)||0)+1,te=z[B];if(te)return{data:{index:B,overflows:M},reset:{placement:te}};let Z=(U=M.filter(le=>le.overflows[0]<=0).sort((le,se)=>le.overflows[1]-se.overflows[1])[0])==null?void 0:U.placement;if(!Z)switch(x){case"bestFit":{var V;const le=(V=M.filter(se=>{if(L){const ne=ru(se.placement);return ne===O||ne==="y"}return!0}).map(se=>[se.placement,se.overflows.filter(ne=>ne>0).reduce((ne,oe)=>ne+oe,0)]).sort((se,ne)=>se[1]-ne[1])[0])==null?void 0:V[0];le&&(Z=le);break}case"initialPlacement":Z=l;break}if(i!==Z)return{reset:{placement:Z}}}return{}}}};async function _7(t,e){const{placement:n,platform:r,elements:i}=t,s=await (r.isRTL==null?void 0:r.isRTL(i.floating)),o=Gl(n),l=pm(n),u=ru(n)==="y",d=["left","top"].includes(o)?-1:1,p=s&&u?-1:1,h=fm(e,t);let{mainAxis:b,crossAxis:x,alignmentAxis:_}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof _=="number"&&(x=l==="end"?_*-1:_),u?{x:x*p,y:b*d}:{x:b*d,y:x*p}}const S7=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:l}=e,u=await _7(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:o}}}}},E7=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:I=>{let{x:T,y:O}=I;return{x:T,y:O}}},...u}=fm(t,e),d={x:n,y:r},p=await nN(e,u),h=ru(Gl(i)),b=WF(h);let x=d[b],_=d[h];if(s){const I=b==="y"?"top":"left",T=b==="y"?"bottom":"right",O=x+p[I],R=x-p[T];x=ZO(O,x,R)}if(o){const I=h==="y"?"top":"left",T=h==="y"?"bottom":"right",O=_+p[I],R=_-p[T];_=ZO(O,_,R)}const E=l.fn({...e,[b]:x,[h]:_});return{...E,data:{x:E.x-n,y:E.y-r,enabled:{[b]:s,[h]:o}}}}}},N7=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:l}=e,{apply:u=()=>{},...d}=fm(t,e),p=await nN(e,d),h=Gl(i),b=pm(i),x=ru(i)==="y",{width:_,height:E}=s.floating;let I,T;h==="top"||h==="bottom"?(I=h,T=b===(await (o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(T=h,I=b==="end"?"top":"bottom");const O=E-p.top-p.bottom,R=_-p.left-p.right,A=zd(E-p[I],O),D=zd(_-p[T],R),L=!e.middlewareData.shift;let z=A,P=D;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(P=R),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(z=O),L&&!b){const M=ks(p.left,0),F=ks(p.right,0),U=ks(p.top,0),V=ks(p.bottom,0);x?P=_-2*(M!==0||F!==0?M+F:ks(p.left,p.right)):z=E-2*(U!==0||V!==0?U+V:ks(p.top,p.bottom))}await u({...e,availableWidth:P,availableHeight:z});const q=await o.getDimensions(l.floating);return _!==q.width||E!==q.height?{reset:{rects:!0}}:{}}}};function JF(t){const e=io(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Zr(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,l=Ov(n)!==s||Ov(r)!==o;return l&&(n=s,r=o),{width:n,height:r,$:l}}function rN(t){return cr(t)?t:t.contextElement}function Od(t){const e=rN(t);if(!Zr(e))return Zo(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=JF(e);let o=(s?Ov(n.width):n.width)/r,l=(s?Ov(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const k7=Zo(0);function ZF(t){const e=ps(t);return!Db()||!e.visualViewport?k7:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function I7(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ps(t)?!1:e}function iu(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=rN(t);let o=Zo(1);e&&(r?cr(r)&&(o=Od(r)):o=Od(t));const l=I7(s,n,r)?ZF(s):Zo(0);let u=(i.left+l.x)/o.x,d=(i.top+l.y)/o.y,p=i.width/o.x,h=i.height/o.y;if(s){const b=ps(s),x=r&&cr(r)?ps(r):r;let _=b,E=CE(_);for(;E&&r&&x!==_;){const I=Od(E),T=E.getBoundingClientRect(),O=io(E),R=T.left+(E.clientLeft+parseFloat(O.paddingLeft))*I.x,A=T.top+(E.clientTop+parseFloat(O.paddingTop))*I.y;u*=I.x,d*=I.y,p*=I.x,h*=I.y,u+=R,d+=A,_=ps(E),E=CE(_)}}return qv({width:p,height:h,x:u,y:d})}function iN(t,e){const n=Lb(t).scrollLeft;return e?e.left+n:iu(oa(t)).left+n}function YF(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:iN(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function C7(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=oa(r),l=e?Fb(e.floating):!1;if(r===o||l&&s)return n;let u={scrollLeft:0,scrollTop:0},d=Zo(1);const p=Zo(0),h=Zr(r);if((h||!h&&!s)&&((Yl(r)!=="body"||dm(o))&&(u=Lb(r)),Zr(r))){const x=iu(r);d=Od(r),p.x=x.x+r.clientLeft,p.y=x.y+r.clientTop}const b=o&&!h&&!s?YF(o,u,!0):Zo(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+p.x+b.x,y:n.y*d.y-u.scrollTop*d.y+p.y+b.y}}function T7(t){return Array.from(t.getClientRects())}function O7(t){const e=oa(t),n=Lb(t),r=t.ownerDocument.body,i=ks(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=ks(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+iN(t);const l=-n.scrollTop;return io(r).direction==="rtl"&&(o+=ks(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:l}}function R7(t,e){const n=ps(t),r=oa(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,l=0,u=0;if(i){s=i.width,o=i.height;const d=Db();(!d||d&&e==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}return{width:s,height:o,x:l,y:u}}function q7(t,e){const n=iu(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Zr(t)?Od(t):Zo(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,u=i*s.x,d=r*s.y;return{width:o,height:l,x:u,y:d}}function eR(t,e,n){let r;if(e==="viewport")r=R7(t,n);else if(e==="document")r=O7(oa(t));else if(cr(e))r=q7(e,n);else{const i=ZF(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return qv(r)}function XF(t,e){const n=za(t);return n===e||!cr(n)||Aa(n)?!1:io(n).position==="fixed"||XF(n,e)}function j7(t,e){const n=e.get(t);if(n)return n;let r=Fl(t,[],!1).filter(l=>cr(l)&&Yl(l)!=="body"),i=null;const s=io(t).position==="fixed";let o=s?za(t):t;for(;cr(o)&&!Aa(o);){const l=io(o),u=Y1(o);!u&&l.position==="fixed"&&(i=null),(s?!u&&!i:!u&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||dm(o)&&!u&&XF(t,o))?r=r.filter(p=>p!==o):i=l,o=za(o)}return e.set(t,r),r}function A7(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?Fb(e)?[]:j7(e,this._c):[].concat(n),r],l=o[0],u=o.reduce((d,p)=>{const h=eR(e,p,i);return d.top=ks(h.top,d.top),d.right=zd(h.right,d.right),d.bottom=zd(h.bottom,d.bottom),d.left=ks(h.left,d.left),d},eR(e,l,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function P7(t){const{width:e,height:n}=JF(t);return{width:e,height:n}}function F7(t,e,n){const r=Zr(e),i=oa(e),s=n==="fixed",o=iu(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const u=Zo(0);if(r||!r&&!s)if((Yl(e)!=="body"||dm(i))&&(l=Lb(e)),r){const b=iu(e,!0,s,e);u.x=b.x+e.clientLeft,u.y=b.y+e.clientTop}else i&&(u.x=iN(i));const d=i&&!r&&!s?YF(i,l):Zo(0),p=o.left+l.scrollLeft-u.x-d.x,h=o.top+l.scrollTop-u.y-d.y;return{x:p,y:h,width:o.width,height:o.height}}function a0(t){return io(t).position==="static"}function tR(t,e){if(!Zr(t)||io(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return oa(t)===n&&(n=n.ownerDocument.body),n}function eD(t,e){const n=ps(t);if(Fb(t))return n;if(!Zr(t)){let i=za(t);for(;i&&!Aa(i);){if(cr(i)&&!a0(i))return i;i=za(i)}return n}let r=tR(t,e);for(;r&&$9(r)&&a0(r);)r=tR(r,e);return r&&Aa(r)&&a0(r)&&!Y1(r)?n:r||B9(t)||n}const D7=async function(t){const e=this.getOffsetParent||eD,n=this.getDimensions,r=await n(t.floating);return{reference:F7(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function L7(t){return io(t).direction==="rtl"}const M7={convertOffsetParentRelativeRectToViewportRelativeRect:C7,getDocumentElement:oa,getClippingRect:A7,getOffsetParent:eD,getElementRects:D7,getClientRects:T7,getDimensions:P7,getScale:Od,isElement:cr,isRTL:L7};function tD(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function $7(t,e){let n=null,r;const i=oa(t);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),s();const d=t.getBoundingClientRect(),{left:p,top:h,width:b,height:x}=d;if(l||e(),!b||!x)return;const _=dd(h),E=dd(i.clientWidth-(p+b)),I=dd(i.clientHeight-(h+x)),T=dd(p),R={rootMargin:-_+"px "+-E+"px "+-I+"px "+-T+"px",threshold:ks(0,zd(1,u))||1};let A=!0;function D(L){const z=L[0].intersectionRatio;if(z!==u){if(!A)return o();z?o(!1,z):r=setTimeout(()=>{o(!1,1e-7)},1e3)}z===1&&!tD(d,t.getBoundingClientRect())&&o(),A=!1}try{n=new IntersectionObserver(D,{...R,root:i.ownerDocument})}catch{n=new IntersectionObserver(D,R)}n.observe(t)}return o(!0),s}function nD(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,d=rN(t),p=i||s?[...d?Fl(d):[],...Fl(e)]:[];p.forEach(T=>{i&&T.addEventListener("scroll",n,{passive:!0}),s&&T.addEventListener("resize",n)});const h=d&&l?$7(d,n):null;let b=-1,x=null;o&&(x=new ResizeObserver(T=>{let[O]=T;O&&O.target===d&&x&&(x.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var R;(R=x)==null||R.observe(e)})),n()}),d&&!u&&x.observe(d),x.observe(e));let _,E=u?iu(t):null;u&&I();function I(){const T=iu(t);E&&!tD(E,T)&&n(),E=T,_=requestAnimationFrame(I)}return n(),()=>{var T;p.forEach(O=>{i&&O.removeEventListener("scroll",n),s&&O.removeEventListener("resize",n)}),h?.(),(T=x)==null||T.disconnect(),x=null,u&&cancelAnimationFrame(_)}}const B7=S7,z7=E7,W7=w7,U7=N7,V7=(t,e,n)=>{const r=new Map,i={platform:M7,...n},s={...i.platform,_c:r};return x7(t,e,{...i,platform:s})};var Cy=typeof document<"u"?Q.useLayoutEffect:Q.useEffect;function Fv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Fv(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Fv(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function rD(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function nR(t,e){const n=rD(t);return Math.round(e*n)/n}function l0(t){const e=Q.useRef(t);return Cy(()=>{e.current=t}),e}function H7(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:u,open:d}=t,[p,h]=Q.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[b,x]=Q.useState(r);Fv(b,r)||x(r);const[_,E]=Q.useState(null),[I,T]=Q.useState(null),O=Q.useCallback(se=>{se!==L.current&&(L.current=se,E(se))},[]),R=Q.useCallback(se=>{se!==z.current&&(z.current=se,T(se))},[]),A=s||_,D=o||I,L=Q.useRef(null),z=Q.useRef(null),P=Q.useRef(p),q=u!=null,M=l0(u),F=l0(i),U=l0(d),V=Q.useCallback(()=>{if(!L.current||!z.current)return;const se={placement:e,strategy:n,middleware:b};F.current&&(se.platform=F.current),V7(L.current,z.current,se).then(ne=>{const oe={...ne,isPositioned:U.current!==!1};B.current&&!Fv(P.current,oe)&&(P.current=oe,fb.flushSync(()=>{h(oe)}))})},[b,e,n,F,U]);Cy(()=>{d===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,h(se=>({...se,isPositioned:!1})))},[d]);const B=Q.useRef(!1);Cy(()=>(B.current=!0,()=>{B.current=!1}),[]),Cy(()=>{if(A&&(L.current=A),D&&(z.current=D),A&&D){if(M.current)return M.current(A,D,V);V()}},[A,D,V,M,q]);const te=Q.useMemo(()=>({reference:L,floating:z,setReference:O,setFloating:R}),[O,R]),Z=Q.useMemo(()=>({reference:A,floating:D}),[A,D]),le=Q.useMemo(()=>{const se={position:n,left:0,top:0};if(!Z.floating)return se;const ne=nR(Z.floating,p.x),oe=nR(Z.floating,p.y);return l?{...se,transform:"translate("+ne+"px, "+oe+"px)",...rD(Z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ne,top:oe}},[n,l,Z.floating,p.x,p.y]);return Q.useMemo(()=>({...p,update:V,refs:te,elements:Z,floatingStyles:le}),[p,V,te,Z,le])}const iD=(t,e)=>({...B7(t),options:[t,e]}),K7=(t,e)=>({...z7(t),options:[t,e]}),sD=(t,e)=>({...W7(t),options:[t,e]}),Q7=(t,e)=>({...U7(t),options:[t,e]});function rR(t){return Q.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})},t)}const oD={...dB},G7=oD.useInsertionEffect,J7=G7||(t=>t());function Di(t){const e=Q.useRef(()=>{});return J7(()=>{e.current=t}),Q.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}const sN="ArrowUp",hm="ArrowDown",Dl="ArrowLeft",Ll="ArrowRight";function zg(t,e,n){return Math.floor(t/e)!==n}function eh(t,e){return e<0||e>=t.current.length}function c0(t,e){return xi(t,{disabledIndices:e})}function iR(t,e){return xi(t,{decrement:!0,startingIndex:t.current.length,disabledIndices:e})}function xi(t,e){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:i,amount:s=1}=e===void 0?{}:e;const o=t.current;let l=n;do l+=r?-s:s;while(l>=0&&l<=o.length-1&&Ty(o,l,i));return l}function Z7(t,e){let{event:n,orientation:r,loop:i,rtl:s,cols:o,disabledIndices:l,minIndex:u,maxIndex:d,prevIndex:p,stopEvent:h=!1}=e,b=p;if(n.key===sN){if(h&&Ai(n),p===-1)b=d;else if(b=xi(t,{startingIndex:b,amount:o,decrement:!0,disabledIndices:l}),i&&(p-o<u||b<0)){const x=p%o,_=d%o,E=d-(_-x);_===x?b=d:b=_>x?E:E-o}eh(t,b)&&(b=p)}if(n.key===hm&&(h&&Ai(n),p===-1?b=u:(b=xi(t,{startingIndex:p,amount:o,disabledIndices:l}),i&&p+o>d&&(b=xi(t,{startingIndex:p%o-o,amount:o,disabledIndices:l}))),eh(t,b)&&(b=p)),r==="both"){const x=dd(p/o);n.key===(s?Dl:Ll)&&(h&&Ai(n),p%o!==o-1?(b=xi(t,{startingIndex:p,disabledIndices:l}),i&&zg(b,o,x)&&(b=xi(t,{startingIndex:p-p%o-1,disabledIndices:l}))):i&&(b=xi(t,{startingIndex:p-p%o-1,disabledIndices:l})),zg(b,o,x)&&(b=p)),n.key===(s?Ll:Dl)&&(h&&Ai(n),p%o!==0?(b=xi(t,{startingIndex:p,decrement:!0,disabledIndices:l}),i&&zg(b,o,x)&&(b=xi(t,{startingIndex:p+(o-p%o),decrement:!0,disabledIndices:l}))):i&&(b=xi(t,{startingIndex:p+(o-p%o),decrement:!0,disabledIndices:l})),zg(b,o,x)&&(b=p));const _=dd(d/o)===x;eh(t,b)&&(i&&_?b=n.key===(s?Ll:Dl)?d:xi(t,{startingIndex:p-p%o-1,disabledIndices:l}):b=p)}return b}function Y7(t,e,n){const r=[];let i=0;return t.forEach((s,o)=>{let{width:l,height:u}=s,d=!1;for(n&&(i=0);!d;){const p=[];for(let h=0;h<l;h++)for(let b=0;b<u;b++)p.push(i+h+b*e);i%e+l<=e&&p.every(h=>r[h]==null)?(p.forEach(h=>{r[h]=o}),d=!0):i++}}),[...r]}function X7(t,e,n,r,i){if(t===-1)return-1;const s=n.indexOf(t),o=e[t];switch(i){case"tl":return s;case"tr":return o?s+o.width-1:s;case"bl":return o?s+(o.height-1)*r:s;case"br":return n.lastIndexOf(t)}}function eK(t,e){return e.flatMap((n,r)=>t.includes(n)?[r]:[])}function Ty(t,e,n){if(n)return n.includes(e);const r=t[e];return r==null||r.hasAttribute("disabled")||r.getAttribute("aria-disabled")==="true"}var vr=typeof document<"u"?Q.useLayoutEffect:Q.useEffect;let sR=!1,tK=0;const oR=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+tK++;function nK(){const[t,e]=Q.useState(()=>sR?oR():void 0);return vr(()=>{t==null&&e(oR())},[]),Q.useEffect(()=>{sR=!0},[]),t}const rK=oD.useId,oN=rK||nK;function aD(){const t=new Map;return{emit(e,n){var r;(r=t.get(e))==null||r.forEach(i=>i(n))},on(e,n){t.set(e,[...t.get(e)||[],n])},off(e,n){var r;t.set(e,((r=t.get(e))==null?void 0:r.filter(i=>i!==n))||[])}}}const lD=Q.createContext(null),cD=Q.createContext(null),mm=()=>{var t;return((t=Q.useContext(lD))==null?void 0:t.id)||null},df=()=>Q.useContext(cD);function iK(t){const e=oN(),n=df(),i=mm();return vr(()=>{if(!e)return;const s={id:e,parentId:i};return n?.addNode(s),()=>{n?.removeNode(s)}},[n,e,i]),e}function sK(t){const{children:e,id:n}=t,r=mm();return f.jsx(lD.Provider,{value:Q.useMemo(()=>({id:n,parentId:r}),[n,r]),children:e})}function oK(t){const{children:e}=t,n=Q.useRef([]),r=Q.useCallback(o=>{n.current=[...n.current,o]},[]),i=Q.useCallback(o=>{n.current=n.current.filter(l=>l!==o)},[]),s=Q.useState(()=>aD())[0];return f.jsx(cD.Provider,{value:Q.useMemo(()=>({nodesRef:n,addNode:r,removeNode:i,events:s}),[r,i,s]),children:e})}function su(t){return"data-floating-ui-"+t}function Li(t){const e=Q.useRef(t);return vr(()=>{e.current=t}),e}const aR=su("safe-polygon");function u0(t,e,n){return n&&!qh(n)?0:typeof t=="number"?t:t?.[e]}function aK(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:i,events:s,elements:o}=t,{enabled:l=!0,delay:u=0,handleClose:d=null,mouseOnly:p=!1,restMs:h=0,move:b=!0}=e,x=df(),_=mm(),E=Li(d),I=Li(u),T=Li(n),O=Q.useRef(),R=Q.useRef(-1),A=Q.useRef(),D=Q.useRef(-1),L=Q.useRef(!0),z=Q.useRef(!1),P=Q.useRef(()=>{}),q=Q.useRef(!1),M=Q.useCallback(()=>{var le;const se=(le=i.current.openEvent)==null?void 0:le.type;return se?.includes("mouse")&&se!=="mousedown"},[i]);Q.useEffect(()=>{if(!l)return;function le(se){let{open:ne}=se;ne||(clearTimeout(R.current),clearTimeout(D.current),L.current=!0,q.current=!1)}return s.on("openchange",le),()=>{s.off("openchange",le)}},[l,s]),Q.useEffect(()=>{if(!l||!E.current||!n)return;function le(ne){M()&&r(!1,ne,"hover")}const se=fi(o.floating).documentElement;return se.addEventListener("mouseleave",le),()=>{se.removeEventListener("mouseleave",le)}},[o.floating,n,r,l,E,M]);const F=Q.useCallback(function(le,se,ne){se===void 0&&(se=!0),ne===void 0&&(ne="hover");const oe=u0(I.current,"close",O.current);oe&&!A.current?(clearTimeout(R.current),R.current=window.setTimeout(()=>r(!1,le,ne),oe)):se&&(clearTimeout(R.current),r(!1,le,ne))},[I,r]),U=Di(()=>{P.current(),A.current=void 0}),V=Di(()=>{if(z.current){const le=fi(o.floating).body;le.style.pointerEvents="",le.removeAttribute(aR),z.current=!1}}),B=Di(()=>i.current.openEvent?["click","mousedown"].includes(i.current.openEvent.type):!1);Q.useEffect(()=>{if(!l)return;function le(X){if(clearTimeout(R.current),L.current=!1,p&&!qh(O.current)||h>0&&!u0(I.current,"open"))return;const ue=u0(I.current,"open",O.current);ue?R.current=window.setTimeout(()=>{T.current||r(!0,X,"hover")},ue):n||r(!0,X,"hover")}function se(X){if(B())return;P.current();const ue=fi(o.floating);if(clearTimeout(D.current),q.current=!1,E.current&&i.current.floatingContext){n||clearTimeout(R.current),A.current=E.current({...i.current.floatingContext,tree:x,x:X.clientX,y:X.clientY,onClose(){V(),U(),B()||F(X,!0,"safe-polygon")}});const ye=A.current;ue.addEventListener("mousemove",ye),P.current=()=>{ue.removeEventListener("mousemove",ye)};return}(O.current==="touch"?!di(o.floating,X.relatedTarget):!0)&&F(X)}function ne(X){B()||i.current.floatingContext&&(E.current==null||E.current({...i.current.floatingContext,tree:x,x:X.clientX,y:X.clientY,onClose(){V(),U(),B()||F(X)}})(X))}if(cr(o.domReference)){var oe;const X=o.domReference;return n&&X.addEventListener("mouseleave",ne),(oe=o.floating)==null||oe.addEventListener("mouseleave",ne),b&&X.addEventListener("mousemove",le,{once:!0}),X.addEventListener("mouseenter",le),X.addEventListener("mouseleave",se),()=>{var ue;n&&X.removeEventListener("mouseleave",ne),(ue=o.floating)==null||ue.removeEventListener("mouseleave",ne),b&&X.removeEventListener("mousemove",le),X.removeEventListener("mouseenter",le),X.removeEventListener("mouseleave",se)}}},[o,l,t,p,h,b,F,U,V,r,n,T,x,I,E,i,B]),vr(()=>{var le;if(l&&n&&(le=E.current)!=null&&le.__options.blockPointerEvents&&M()){z.current=!0;const ne=o.floating;if(cr(o.domReference)&&ne){var se;const oe=fi(o.floating).body;oe.setAttribute(aR,"");const X=o.domReference,ue=x==null||(se=x.nodesRef.current.find(de=>de.id===_))==null||(se=se.context)==null?void 0:se.elements.floating;return ue&&(ue.style.pointerEvents=""),oe.style.pointerEvents="none",X.style.pointerEvents="auto",ne.style.pointerEvents="auto",()=>{oe.style.pointerEvents="",X.style.pointerEvents="",ne.style.pointerEvents=""}}}},[l,n,_,o,x,E,M]),vr(()=>{n||(O.current=void 0,q.current=!1,U(),V())},[n,U,V]),Q.useEffect(()=>()=>{U(),clearTimeout(R.current),clearTimeout(D.current),V()},[l,o.domReference,U,V]);const te=Q.useMemo(()=>{function le(se){O.current=se.pointerType}return{onPointerDown:le,onPointerEnter:le,onMouseMove(se){const{nativeEvent:ne}=se;function oe(){!L.current&&!T.current&&r(!0,ne,"hover")}p&&!qh(O.current)||n||h===0||q.current&&se.movementX**2+se.movementY**2<2||(clearTimeout(D.current),O.current==="touch"?oe():(q.current=!0,D.current=window.setTimeout(oe,h)))}}},[p,r,n,T,h]),Z=Q.useMemo(()=>({onMouseEnter(){clearTimeout(R.current)},onMouseLeave(le){B()||F(le.nativeEvent,!1)}}),[F,B]);return Q.useMemo(()=>l?{reference:te,floating:Z}:{},[l,te,Z])}let lR=0;function Rc(t,e){e===void 0&&(e={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:i=!1}=e;r&&cancelAnimationFrame(lR);const s=()=>t?.focus({preventScroll:n});i?s():lR=requestAnimationFrame(s)}function cR(t,e){var n;let r=[],i=(n=t.find(s=>s.id===e))==null?void 0:n.parentId;for(;i;){const s=t.find(o=>o.id===i);i=s?.parentId,s&&(r=r.concat(s))}return r}function Rd(t,e){let n=t.filter(i=>{var s;return i.parentId===e&&((s=i.context)==null?void 0:s.open)}),r=n;for(;r.length;)r=t.filter(i=>{var s;return(s=r)==null?void 0:s.some(o=>{var l;return i.parentId===o.id&&((l=i.context)==null?void 0:l.open)})}),n=n.concat(r);return n}function lK(t,e){let n,r=-1;function i(s,o){o>r&&(n=s,r=o),Rd(t,s).forEach(u=>{i(u.id,o+1)})}return i(e,0),t.find(s=>s.id===n)}let Ju=new WeakMap,Wg=new WeakSet,Ug={},d0=0;const cK=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,uD=t=>t&&(t.host||uD(t.parentNode)),uK=(t,e)=>e.map(n=>{if(t.contains(n))return n;const r=uD(n);return t.contains(r)?r:null}).filter(n=>n!=null);function dK(t,e,n,r){const i="data-floating-ui-inert",s=r?"inert":n?"aria-hidden":null,o=uK(e,t),l=new Set,u=new Set(o),d=[];Ug[i]||(Ug[i]=new WeakMap);const p=Ug[i];o.forEach(h),b(e),l.clear();function h(x){!x||l.has(x)||(l.add(x),x.parentNode&&h(x.parentNode))}function b(x){!x||u.has(x)||[].forEach.call(x.children,_=>{if(Yl(_)!=="script")if(l.has(_))b(_);else{const E=s?_.getAttribute(s):null,I=E!==null&&E!=="false",T=Ju.get(_)||0,O=s?T+1:T,R=(p.get(_)||0)+1;Ju.set(_,O),p.set(_,R),d.push(_),O===1&&I&&Wg.add(_),R===1&&_.setAttribute(i,""),!I&&s&&_.setAttribute(s,"true")}})}return d0++,()=>{d.forEach(x=>{const _=Ju.get(x)||0,E=s?_-1:_,I=(p.get(x)||0)-1;Ju.set(x,E),p.set(x,I),E||(!Wg.has(x)&&s&&x.removeAttribute(s),Wg.delete(x)),I||x.removeAttribute(i)}),d0--,d0||(Ju=new WeakMap,Ju=new WeakMap,Wg=new WeakSet,Ug={})}}function uR(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=fi(t[0]).body;return dK(t.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,e,n)}const $b=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function dD(t,e){const n=Mb(t,$b());e==="prev"&&n.reverse();const r=n.indexOf(Eo(fi(t)));return n.slice(r+1)[0]}function fD(){return dD(document.body,"next")}function pD(){return dD(document.body,"prev")}function th(t,e){const n=e||t.currentTarget,r=t.relatedTarget;return!r||!di(n,r)}function fK(t){Mb(t,$b()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function dR(t){t.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const Bb={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let pK;function fR(t){t.key==="Tab"&&(t.target,clearTimeout(pK))}const Dv=Q.forwardRef(function(e,n){const[r,i]=Q.useState();vr(()=>(BF()&&i("button"),document.addEventListener("keydown",fR),()=>{document.removeEventListener("keydown",fR)}),[]);const s={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[su("focus-guard")]:"",style:Bb};return f.jsx("span",{...e,...s})}),hD=Q.createContext(null),pR=su("portal");function hK(t){t===void 0&&(t={});const{id:e,root:n}=t,r=oN(),i=mD(),[s,o]=Q.useState(null),l=Q.useRef(null);return vr(()=>()=>{s?.remove(),queueMicrotask(()=>{l.current=null})},[s]),vr(()=>{if(!r||l.current)return;const u=e?document.getElementById(e):null;if(!u)return;const d=document.createElement("div");d.id=r,d.setAttribute(pR,""),u.appendChild(d),l.current=d,o(d)},[e,r]),vr(()=>{if(n===null||!r||l.current)return;let u=n||i?.portalNode;u&&!cr(u)&&(u=u.current),u=u||document.body;let d=null;e&&(d=document.createElement("div"),d.id=e,u.appendChild(d));const p=document.createElement("div");p.id=r,p.setAttribute(pR,""),u=d||u,u.appendChild(p),l.current=p,o(p)},[e,n,r,i]),s}function aN(t){const{children:e,id:n,root:r,preserveTabOrder:i=!0}=t,s=hK({id:n,root:r}),[o,l]=Q.useState(null),u=Q.useRef(null),d=Q.useRef(null),p=Q.useRef(null),h=Q.useRef(null),b=o?.modal,x=o?.open,_=!!o&&!o.modal&&o.open&&i&&!!(r||s);return Q.useEffect(()=>{if(!s||!i||b)return;function E(I){s&&th(I)&&(I.type==="focusin"?dR:fK)(s)}return s.addEventListener("focusin",E,!0),s.addEventListener("focusout",E,!0),()=>{s.removeEventListener("focusin",E,!0),s.removeEventListener("focusout",E,!0)}},[s,i,b]),Q.useEffect(()=>{s&&(x||dR(s))},[x,s]),f.jsxs(hD.Provider,{value:Q.useMemo(()=>({preserveTabOrder:i,beforeOutsideRef:u,afterOutsideRef:d,beforeInsideRef:p,afterInsideRef:h,portalNode:s,setFocusManagerState:l}),[i,s]),children:[_&&s&&f.jsx(Dv,{"data-type":"outside",ref:u,onFocus:E=>{if(th(E,s)){var I;(I=p.current)==null||I.focus()}else{const T=pD()||o?.domReference;T?.focus()}}}),_&&s&&f.jsx("span",{"aria-owns":s.id,style:Bb}),s&&fb.createPortal(e,s),_&&s&&f.jsx(Dv,{"data-type":"outside",ref:d,onFocus:E=>{if(th(E,s)){var I;(I=h.current)==null||I.focus()}else{const T=fD()||o?.domReference;T?.focus(),o?.closeOnFocusOut&&o?.onOpenChange(!1,E.nativeEvent,"focus-out")}}})]})}const mD=()=>Q.useContext(hD),qE="data-floating-ui-focusable";function jE(t){return t?t.hasAttribute(qE)?t:t.querySelector("["+qE+"]")||t:null}const mK=20;let qc=[];function f0(t){qc=qc.filter(e=>e.isConnected),t&&Yl(t)!=="body"&&(qc.push(t),qc.length>mK&&(qc=qc.slice(-20)))}function hR(){return qc.slice().reverse().find(t=>t.isConnected)}function gK(t){const e=$b();return b7(t,e)?t:Mb(t,e)[0]||t}const yK=Q.forwardRef(function(e,n){return f.jsx("button",{...e,type:"button",ref:n,tabIndex:-1,style:Bb})});function gD(t){const{context:e,children:n,disabled:r=!1,order:i=["content"],guards:s=!0,initialFocus:o=0,returnFocus:l=!0,restoreFocus:u=!1,modal:d=!0,visuallyHiddenDismiss:p=!1,closeOnFocusOut:h=!0,outsideElementsInert:b=!1}=t,{open:x,onOpenChange:_,events:E,dataRef:I,elements:{domReference:T,floating:O}}=e,R=Di(()=>{var De;return(De=I.current.floatingContext)==null?void 0:De.nodeId}),A=typeof o=="number"&&o<0,D=zF(T)&&A,L=cK(),z=L?s:!0,P=!z||L&&b,q=Li(i),M=Li(o),F=Li(l),U=df(),V=mD(),B=Q.useRef(null),te=Q.useRef(null),Z=Q.useRef(!1),le=Q.useRef(!1),se=Q.useRef(-1),ne=V!=null,oe=jE(O),X=Di(function(De){return De===void 0&&(De=oe),De?Mb(De,$b()):[]}),ue=Di(De=>{const Je=X(De);return q.current.map(Xe=>T&&Xe==="reference"?T:oe&&Xe==="floating"?oe:Je).filter(Boolean).flat()});Q.useEffect(()=>{if(r||!d)return;function De(Xe){if(Xe.key==="Tab"){di(oe,Eo(fi(oe)))&&X().length===0&&!D&&Ai(Xe);const Ue=ue(),ct=Cl(Xe);q.current[0]==="reference"&&ct===T&&(Ai(Xe),Xe.shiftKey?Rc(Ue[Ue.length-1]):Rc(Ue[1])),q.current[1]==="floating"&&ct===oe&&Xe.shiftKey&&(Ai(Xe),Rc(Ue[0]))}}const Je=fi(oe);return Je.addEventListener("keydown",De),()=>{Je.removeEventListener("keydown",De)}},[r,T,oe,d,q,D,X,ue]),Q.useEffect(()=>{if(r||!O)return;function De(Je){const Xe=Cl(Je),ct=X().indexOf(Xe);ct!==-1&&(se.current=ct)}return O.addEventListener("focusin",De),()=>{O.removeEventListener("focusin",De)}},[r,O,X]),Q.useEffect(()=>{if(r||!h)return;function De(){le.current=!0,setTimeout(()=>{le.current=!1})}function Je(Xe){const Ue=Xe.relatedTarget;queueMicrotask(()=>{const ct=R(),_t=!(di(T,Ue)||di(O,Ue)||di(Ue,O)||di(V?.portalNode,Ue)||Ue!=null&&Ue.hasAttribute(su("focus-guard"))||U&&(Rd(U.nodesRef.current,ct).find(Tt=>{var Ut,nn;return di((Ut=Tt.context)==null?void 0:Ut.elements.floating,Ue)||di((nn=Tt.context)==null?void 0:nn.elements.domReference,Ue)})||cR(U.nodesRef.current,ct).find(Tt=>{var Ut,nn,xe;return[(Ut=Tt.context)==null?void 0:Ut.elements.floating,jE((nn=Tt.context)==null?void 0:nn.elements.floating)].includes(Ue)||((xe=Tt.context)==null?void 0:xe.elements.domReference)===Ue})));if(u&&_t&&Eo(fi(oe))===fi(oe).body){Zr(oe)&&oe.focus();const Tt=se.current,Ut=X(),nn=Ut[Tt]||Ut[Ut.length-1]||oe;Zr(nn)&&nn.focus()}(D||!d)&&Ue&&_t&&!le.current&&Ue!==hR()&&(Z.current=!0,_(!1,Xe,"focus-out"))})}if(O&&Zr(T))return T.addEventListener("focusout",Je),T.addEventListener("pointerdown",De),O.addEventListener("focusout",Je),()=>{T.removeEventListener("focusout",Je),T.removeEventListener("pointerdown",De),O.removeEventListener("focusout",Je)}},[r,T,O,oe,d,U,V,_,h,u,X,D,R]);const de=Q.useRef(null),ye=Q.useRef(null),we=rR([de,V?.beforeInsideRef]),Ne=rR([ye,V?.afterInsideRef]);Q.useEffect(()=>{var De;if(r||!O)return;const Je=Array.from((V==null||(De=V.portalNode)==null?void 0:De.querySelectorAll("["+su("portal")+"]"))||[]),Xe=U&&!d?cR(U?.nodesRef.current,R()).map(_t=>{var Tt;return(Tt=_t.context)==null?void 0:Tt.elements.floating}):[],Ue=[O,...Je,...Xe,B.current,te.current,de.current,ye.current,V?.beforeOutsideRef.current,V?.afterOutsideRef.current,q.current.includes("reference")||D?T:null].filter(_t=>_t!=null),ct=d||D?uR(Ue,!P,P):uR(Ue);return()=>{ct()}},[r,T,O,d,q,V,D,z,P,U,R]),vr(()=>{if(r||!Zr(oe))return;const De=fi(oe),Je=Eo(De);queueMicrotask(()=>{const Xe=ue(oe),Ue=M.current,ct=(typeof Ue=="number"?Xe[Ue]:Ue.current)||oe,_t=di(oe,Je);!A&&!_t&&x&&Rc(ct,{preventScroll:ct===oe})})},[r,x,oe,A,ue,M]),vr(()=>{if(r||!oe)return;let De=!1;const Je=fi(oe),Xe=Eo(Je);let ct=I.current.openEvent;f0(Xe);function _t(nn){let{open:xe,reason:ve,event:ke,nested:Ae}=nn;xe&&(ct=ke),ve==="escape-key"&&T&&f0(T),["hover","safe-polygon"].includes(ve)&&ke.type==="mouseleave"&&(Z.current=!0),ve==="outside-press"&&(Ae?(Z.current=!1,De=!0):Z.current=!($F(ke)||eN(ke)))}E.on("openchange",_t);const Tt=Je.createElement("span");Tt.setAttribute("tabindex","-1"),Tt.setAttribute("aria-hidden","true"),Object.assign(Tt.style,Bb),ne&&T&&T.insertAdjacentElement("afterend",Tt);function Ut(){return typeof F.current=="boolean"?hR()||Tt:F.current.current||Tt}return()=>{E.off("openchange",_t);const nn=Eo(Je),xe=di(O,nn)||U&&Rd(U.nodesRef.current,R()).some(Ae=>{var Ve;return di((Ve=Ae.context)==null?void 0:Ve.elements.floating,nn)});(xe||ct&&["click","mousedown"].includes(ct.type))&&T&&f0(T);const ke=Ut();queueMicrotask(()=>{const Ae=gK(ke);F.current&&!Z.current&&Zr(Ae)&&(!(Ae!==nn&&nn!==Je.body)||xe)&&Ae.focus({preventScroll:De}),Tt.remove()})}},[r,O,oe,F,I,E,U,ne,T,R]),Q.useEffect(()=>{queueMicrotask(()=>{Z.current=!1})},[r]),vr(()=>{if(!r&&V)return V.setFocusManagerState({modal:d,closeOnFocusOut:h,open:x,onOpenChange:_,domReference:T}),()=>{V.setFocusManagerState(null)}},[r,V,d,x,_,h,T]),vr(()=>{if(r||!oe||typeof MutationObserver!="function"||A)return;const De=()=>{const Xe=oe.getAttribute("tabindex"),Ue=X(),ct=Eo(fi(O)),_t=Ue.indexOf(ct);_t!==-1&&(se.current=_t),q.current.includes("floating")||ct!==T&&Ue.length===0?Xe!=="0"&&oe.setAttribute("tabindex","0"):Xe!=="-1"&&oe.setAttribute("tabindex","-1")};De();const Je=new MutationObserver(De);return Je.observe(oe,{childList:!0,subtree:!0,attributes:!0}),()=>{Je.disconnect()}},[r,O,oe,T,q,X,A]);function ze(De){return r||!p||!d?null:f.jsx(yK,{ref:De==="start"?B:te,onClick:Je=>_(!1,Je.nativeEvent),children:typeof p=="string"?p:"Dismiss"})}const Re=!r&&z&&(d?!D:!0)&&(ne||d);return f.jsxs(f.Fragment,{children:[Re&&f.jsx(Dv,{"data-type":"inside",ref:we,onFocus:De=>{if(d){const Xe=ue();Rc(i[0]==="reference"?Xe[0]:Xe[Xe.length-1])}else if(V!=null&&V.preserveTabOrder&&V.portalNode)if(Z.current=!1,th(De,V.portalNode)){const Xe=fD()||T;Xe?.focus()}else{var Je;(Je=V.beforeOutsideRef.current)==null||Je.focus()}}}),!D&&ze("start"),n,ze("end"),Re&&f.jsx(Dv,{"data-type":"inside",ref:Ne,onFocus:De=>{if(d)Rc(ue()[0]);else if(V!=null&&V.preserveTabOrder&&V.portalNode)if(h&&(Z.current=!0),th(De,V.portalNode)){const Xe=pD()||T;Xe?.focus()}else{var Je;(Je=V.afterOutsideRef.current)==null||Je.focus()}}})]})}let Vg=0;function vK(){const t=/iP(hone|ad|od)|iOS/.test(X1()),e=document.body.style,r=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",i=window.innerWidth-document.documentElement.clientWidth,s=e.left?parseFloat(e.left):window.scrollX,o=e.top?parseFloat(e.top):window.scrollY;if(e.overflow="hidden",i&&(e[r]=i+"px"),t){var l,u;const d=((l=window.visualViewport)==null?void 0:l.offsetLeft)||0,p=((u=window.visualViewport)==null?void 0:u.offsetTop)||0;Object.assign(e,{position:"fixed",top:-(o-Math.floor(p))+"px",left:-(s-Math.floor(d))+"px",right:"0"})}return()=>{Object.assign(e,{overflow:"",[r]:""}),t&&(Object.assign(e,{position:"",top:"",left:"",right:""}),window.scrollTo(s,o))}}let mR=()=>{};const bK=Q.forwardRef(function(e,n){const{lockScroll:r=!1,...i}=e;return vr(()=>{if(r)return Vg++,Vg===1&&(mR=vK()),()=>{Vg--,Vg===0&&mR()}},[r]),f.jsx("div",{ref:n,...i,style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...i.style}})});function gR(t){return Zr(t.target)&&t.target.tagName==="BUTTON"}function yR(t){return tN(t)}function lN(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,dataRef:i,elements:{domReference:s}}=t,{enabled:o=!0,event:l="click",toggle:u=!0,ignoreMouse:d=!1,keyboardHandlers:p=!0,stickIfOpen:h=!0}=e,b=Q.useRef(),x=Q.useRef(!1),_=Q.useMemo(()=>({onPointerDown(E){b.current=E.pointerType},onMouseDown(E){const I=b.current;E.button===0&&l!=="click"&&(qh(I,!0)&&d||(n&&u&&(!(i.current.openEvent&&h)||i.current.openEvent.type==="mousedown")?r(!1,E.nativeEvent,"click"):(E.preventDefault(),r(!0,E.nativeEvent,"click"))))},onClick(E){const I=b.current;if(l==="mousedown"&&b.current){b.current=void 0;return}qh(I,!0)&&d||(n&&u&&(!(i.current.openEvent&&h)||i.current.openEvent.type==="click")?r(!1,E.nativeEvent,"click"):r(!0,E.nativeEvent,"click"))},onKeyDown(E){b.current=void 0,!(E.defaultPrevented||!p||gR(E))&&(E.key===" "&&!yR(s)&&(E.preventDefault(),x.current=!0),E.key==="Enter"&&r(!(n&&u),E.nativeEvent,"click"))},onKeyUp(E){E.defaultPrevented||!p||gR(E)||yR(s)||E.key===" "&&x.current&&(x.current=!1,r(!(n&&u),E.nativeEvent,"click"))}}),[i,s,l,d,p,r,n,h,u]);return Q.useMemo(()=>o?{reference:_}:{},[o,_])}const xK={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},wK={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},vR=t=>{var e,n;return{escapeKey:typeof t=="boolean"?t:(e=t?.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(n=t?.outsidePress)!=null?n:!0}};function cN(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,elements:i,dataRef:s}=t,{enabled:o=!0,escapeKey:l=!0,outsidePress:u=!0,outsidePressEvent:d="pointerdown",referencePress:p=!1,referencePressEvent:h="pointerdown",ancestorScroll:b=!1,bubbles:x,capture:_}=e,E=df(),I=Di(typeof u=="function"?u:()=>!1),T=typeof u=="function"?I:u,O=Q.useRef(!1),R=Q.useRef(!1),{escapeKey:A,outsidePress:D}=vR(x),{escapeKey:L,outsidePress:z}=vR(_),P=Q.useRef(!1),q=Di(te=>{var Z;if(!n||!o||!l||te.key!=="Escape"||P.current)return;const le=(Z=s.current.floatingContext)==null?void 0:Z.nodeId,se=E?Rd(E.nodesRef.current,le):[];if(!A&&(te.stopPropagation(),se.length>0)){let ne=!0;if(se.forEach(oe=>{var X;if((X=oe.context)!=null&&X.open&&!oe.context.dataRef.current.__escapeKeyBubbles){ne=!1;return}}),!ne)return}r(!1,U9(te)?te.nativeEvent:te,"escape-key")}),M=Di(te=>{var Z;const le=()=>{var se;q(te),(se=Cl(te))==null||se.removeEventListener("keydown",le)};(Z=Cl(te))==null||Z.addEventListener("keydown",le)}),F=Di(te=>{var Z;const le=O.current;O.current=!1;const se=R.current;if(R.current=!1,d==="click"&&se||le||typeof T=="function"&&!T(te))return;const ne=Cl(te),oe="["+su("inert")+"]",X=fi(i.floating).querySelectorAll(oe);let ue=cr(ne)?ne:null;for(;ue&&!Aa(ue);){const Ne=za(ue);if(Aa(Ne)||!cr(Ne))break;ue=Ne}if(X.length&&cr(ne)&&!V9(ne)&&!di(ne,i.floating)&&Array.from(X).every(Ne=>!di(ue,Ne)))return;if(Zr(ne)&&B){const Ne=Aa(ne),ze=io(ne),Re=/auto|scroll/,De=Ne||Re.test(ze.overflowX),Je=Ne||Re.test(ze.overflowY),Xe=De&&ne.clientWidth>0&&ne.scrollWidth>ne.clientWidth,Ue=Je&&ne.clientHeight>0&&ne.scrollHeight>ne.clientHeight,ct=ze.direction==="rtl",_t=Ue&&(ct?te.offsetX<=ne.offsetWidth-ne.clientWidth:te.offsetX>ne.clientWidth),Tt=Xe&&te.offsetY>ne.clientHeight;if(_t||Tt)return}const de=(Z=s.current.floatingContext)==null?void 0:Z.nodeId,ye=E&&Rd(E.nodesRef.current,de).some(Ne=>{var ze;return o0(te,(ze=Ne.context)==null?void 0:ze.elements.floating)});if(o0(te,i.floating)||o0(te,i.domReference)||ye)return;const we=E?Rd(E.nodesRef.current,de):[];if(we.length>0){let Ne=!0;if(we.forEach(ze=>{var Re;if((Re=ze.context)!=null&&Re.open&&!ze.context.dataRef.current.__outsidePressBubbles){Ne=!1;return}}),!Ne)return}r(!1,te,"outside-press")}),U=Di(te=>{var Z;const le=()=>{var se;F(te),(se=Cl(te))==null||se.removeEventListener(d,le)};(Z=Cl(te))==null||Z.addEventListener(d,le)});Q.useEffect(()=>{if(!n||!o)return;s.current.__escapeKeyBubbles=A,s.current.__outsidePressBubbles=D;let te=-1;function Z(X){r(!1,X,"ancestor-scroll")}function le(){window.clearTimeout(te),P.current=!0}function se(){te=window.setTimeout(()=>{P.current=!1},Db()?5:0)}const ne=fi(i.floating);l&&(ne.addEventListener("keydown",L?M:q,L),ne.addEventListener("compositionstart",le),ne.addEventListener("compositionend",se)),T&&ne.addEventListener(d,z?U:F,z);let oe=[];return b&&(cr(i.domReference)&&(oe=Fl(i.domReference)),cr(i.floating)&&(oe=oe.concat(Fl(i.floating))),!cr(i.reference)&&i.reference&&i.reference.contextElement&&(oe=oe.concat(Fl(i.reference.contextElement)))),oe=oe.filter(X=>{var ue;return X!==((ue=ne.defaultView)==null?void 0:ue.visualViewport)}),oe.forEach(X=>{X.addEventListener("scroll",Z,{passive:!0})}),()=>{l&&(ne.removeEventListener("keydown",L?M:q,L),ne.removeEventListener("compositionstart",le),ne.removeEventListener("compositionend",se)),T&&ne.removeEventListener(d,z?U:F,z),oe.forEach(X=>{X.removeEventListener("scroll",Z)}),window.clearTimeout(te)}},[s,i,l,T,d,n,r,b,o,A,D,q,L,M,F,z,U]),Q.useEffect(()=>{O.current=!1},[T,d]);const V=Q.useMemo(()=>({onKeyDown:q,...p&&{[xK[h]]:te=>{r(!1,te.nativeEvent,"reference-press")},...h!=="click"&&{onClick(te){r(!1,te.nativeEvent,"reference-press")}}}}),[q,r,p,h]),B=Q.useMemo(()=>({onKeyDown:q,onMouseDown(){R.current=!0},onMouseUp(){R.current=!0},[wK[d]]:()=>{O.current=!0}}),[q,d]);return Q.useMemo(()=>o?{reference:V,floating:B}:{},[o,V,B])}function _K(t){const{open:e=!1,onOpenChange:n,elements:r}=t,i=oN(),s=Q.useRef({}),[o]=Q.useState(()=>aD()),l=mm()!=null,[u,d]=Q.useState(r.reference),p=Di((x,_,E)=>{s.current.openEvent=x?_:void 0,o.emit("openchange",{open:x,event:_,reason:E,nested:l}),n?.(x,_,E)}),h=Q.useMemo(()=>({setPositionReference:d}),[]),b=Q.useMemo(()=>({reference:u||r.reference||null,floating:r.floating||null,domReference:r.reference}),[u,r.reference,r.floating]);return Q.useMemo(()=>({dataRef:s,open:e,onOpenChange:p,elements:b,events:o,floatingId:i,refs:h}),[e,p,b,o,i,h])}function uN(t){t===void 0&&(t={});const{nodeId:e}=t,n=_K({...t,elements:{reference:null,floating:null,...t.elements}}),r=t.rootContext||n,i=r.elements,[s,o]=Q.useState(null),[l,u]=Q.useState(null),p=i?.domReference||s,h=Q.useRef(null),b=df();vr(()=>{p&&(h.current=p)},[p]);const x=H7({...t,elements:{...i,...l&&{reference:l}}}),_=Q.useCallback(R=>{const A=cr(R)?{getBoundingClientRect:()=>R.getBoundingClientRect(),contextElement:R}:R;u(A),x.refs.setReference(A)},[x.refs]),E=Q.useCallback(R=>{(cr(R)||R===null)&&(h.current=R,o(R)),(cr(x.refs.reference.current)||x.refs.reference.current===null||R!==null&&!cr(R))&&x.refs.setReference(R)},[x.refs]),I=Q.useMemo(()=>({...x.refs,setReference:E,setPositionReference:_,domReference:h}),[x.refs,E,_]),T=Q.useMemo(()=>({...x.elements,domReference:p}),[x.elements,p]),O=Q.useMemo(()=>({...x,...r,refs:I,elements:T,nodeId:e}),[x,I,T,e,r]);return vr(()=>{r.dataRef.current.floatingContext=O;const R=b?.nodesRef.current.find(A=>A.id===e);R&&(R.context=O)}),Q.useMemo(()=>({...x,context:O,refs:I,elements:T}),[x,I,T,O])}function SK(t,e){e===void 0&&(e={});const{open:n,onOpenChange:r,events:i,dataRef:s,elements:o}=t,{enabled:l=!0,visibleOnly:u=!0}=e,d=Q.useRef(!1),p=Q.useRef(),h=Q.useRef(!0);Q.useEffect(()=>{if(!l)return;const x=ps(o.domReference);function _(){!n&&Zr(o.domReference)&&o.domReference===Eo(fi(o.domReference))&&(d.current=!0)}function E(){h.current=!0}return x.addEventListener("blur",_),x.addEventListener("keydown",E,!0),()=>{x.removeEventListener("blur",_),x.removeEventListener("keydown",E,!0)}},[o.domReference,n,l]),Q.useEffect(()=>{if(!l)return;function x(_){let{reason:E}=_;(E==="reference-press"||E==="escape-key")&&(d.current=!0)}return i.on("openchange",x),()=>{i.off("openchange",x)}},[i,l]),Q.useEffect(()=>()=>{clearTimeout(p.current)},[]);const b=Q.useMemo(()=>({onPointerDown(x){eN(x.nativeEvent)||(h.current=!1)},onMouseLeave(){d.current=!1},onFocus(x){if(d.current)return;const _=Cl(x.nativeEvent);if(u&&cr(_))try{if(BF()&&z9())throw Error();if(!_.matches(":focus-visible"))return}catch{if(!h.current&&!tN(_))return}r(!0,x.nativeEvent,"focus")},onBlur(x){d.current=!1;const _=x.relatedTarget,E=x.nativeEvent,I=cr(_)&&_.hasAttribute(su("focus-guard"))&&_.getAttribute("data-type")==="outside";p.current=window.setTimeout(()=>{var T;const O=Eo(o.domReference?o.domReference.ownerDocument:document);!_&&O===o.domReference||di((T=s.current.floatingContext)==null?void 0:T.refs.floating.current,O)||di(o.domReference,O)||I||r(!1,E,"focus")})}}),[s,o.domReference,r,u]);return Q.useMemo(()=>l?{reference:b}:{},[l,b])}const bR="active",xR="selected";function p0(t,e,n){const r=new Map,i=n==="item";let s=t;if(i&&t){const{[bR]:o,[xR]:l,...u}=t;s=u}return{...n==="floating"&&{tabIndex:-1,[qE]:""},...s,...e.map(o=>{const l=o?o[n]:null;return typeof l=="function"?t?l(t):null:l}).concat(t).reduce((o,l)=>(l&&Object.entries(l).forEach(u=>{let[d,p]=u;if(!(i&&[bR,xR].includes(d)))if(d.indexOf("on")===0){if(r.has(d)||r.set(d,[]),typeof p=="function"){var h;(h=r.get(d))==null||h.push(p),o[d]=function(){for(var b,x=arguments.length,_=new Array(x),E=0;E<x;E++)_[E]=arguments[E];return(b=r.get(d))==null?void 0:b.map(I=>I(..._)).find(I=>I!==void 0)}}}else o[d]=p}),o),{})}}function dN(t){t===void 0&&(t=[]);const e=t.map(l=>l?.reference),n=t.map(l=>l?.floating),r=t.map(l=>l?.item),i=Q.useCallback(l=>p0(l,t,"reference"),e),s=Q.useCallback(l=>p0(l,t,"floating"),n),o=Q.useCallback(l=>p0(l,t,"item"),r);return Q.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:o}),[i,s,o])}function zb(t,e,n){switch(t){case"vertical":return e;case"horizontal":return n;default:return e||n}}function wR(t,e){return zb(e,t===sN||t===hm,t===Dl||t===Ll)}function h0(t,e,n){return zb(e,t===hm,n?t===Dl:t===Ll)||t==="Enter"||t===" "||t===""}function EK(t,e,n){return zb(e,n?t===Dl:t===Ll,t===hm)}function _R(t,e,n){return zb(e,n?t===Ll:t===Dl,t===sN)}function NK(t,e){const{open:n,onOpenChange:r,elements:i}=t,{listRef:s,activeIndex:o,onNavigate:l=()=>{},enabled:u=!0,selectedIndex:d=null,allowEscape:p=!1,loop:h=!1,nested:b=!1,rtl:x=!1,virtual:_=!1,focusItemOnOpen:E="auto",focusItemOnHover:I=!0,openOnArrowKeyDown:T=!0,disabledIndices:O=void 0,orientation:R="vertical",cols:A=1,scrollItemIntoView:D=!0,virtualItemRef:L,itemSizes:z,dense:P=!1}=e,q=jE(i.floating),M=Li(q),F=mm(),U=df(),V=Di(()=>{l(Z.current===-1?null:Z.current)}),B=zF(i.domReference),te=Q.useRef(E),Z=Q.useRef(d??-1),le=Q.useRef(null),se=Q.useRef(!0),ne=Q.useRef(V),oe=Q.useRef(!!i.floating),X=Q.useRef(n),ue=Q.useRef(!1),de=Q.useRef(!1),ye=Li(O),we=Li(n),Ne=Li(D),ze=Li(d),[Re,De]=Q.useState(),[Je,Xe]=Q.useState(),Ue=Di(()=>{function ve(Ve){_?(De(Ve.id),U?.events.emit("virtualfocus",Ve),L&&(L.current=Ve)):Rc(Ve,{sync:ue.current,preventScroll:!0})}const ke=s.current[Z.current];ke&&ve(ke),(ue.current?Ve=>Ve():requestAnimationFrame)(()=>{const Ve=s.current[Z.current]||ke;if(!Ve)return;ke||ve(Ve);const rt=Ne.current;rt&&_t&&(de.current||!se.current)&&(Ve.scrollIntoView==null||Ve.scrollIntoView(typeof rt=="boolean"?{block:"nearest",inline:"nearest"}:rt))})});vr(()=>{u&&(n&&i.floating?te.current&&d!=null&&(de.current=!0,Z.current=d,V()):oe.current&&(Z.current=-1,ne.current()))},[u,n,i.floating,d,V]),vr(()=>{if(u&&n&&i.floating)if(o==null){if(ue.current=!1,ze.current!=null)return;if(oe.current&&(Z.current=-1,Ue()),(!X.current||!oe.current)&&te.current&&(le.current!=null||te.current===!0&&le.current==null)){let ve=0;const ke=()=>{s.current[0]==null?(ve<2&&(ve?requestAnimationFrame:queueMicrotask)(ke),ve++):(Z.current=le.current==null||h0(le.current,R,x)||b?c0(s,ye.current):iR(s,ye.current),le.current=null,V())};ke()}}else eh(s,o)||(Z.current=o,Ue(),de.current=!1)},[u,n,i.floating,o,ze,b,s,R,x,V,Ue,ye]),vr(()=>{var ve;if(!u||i.floating||!U||_||!oe.current)return;const ke=U.nodesRef.current,Ae=(ve=ke.find(Me=>Me.id===F))==null||(ve=ve.context)==null?void 0:ve.elements.floating,Ve=Eo(fi(i.floating)),rt=ke.some(Me=>Me.context&&di(Me.context.elements.floating,Ve));Ae&&!rt&&se.current&&Ae.focus({preventScroll:!0})},[u,i.floating,U,F,_]),vr(()=>{if(!u||!U||!_||F)return;function ve(ke){Xe(ke.id),L&&(L.current=ke)}return U.events.on("virtualfocus",ve),()=>{U.events.off("virtualfocus",ve)}},[u,U,_,F,L]),vr(()=>{ne.current=V,X.current=n,oe.current=!!i.floating}),vr(()=>{n||(le.current=null)},[n]);const ct=o!=null,_t=Q.useMemo(()=>{function ve(Ae){if(!n)return;const Ve=s.current.indexOf(Ae);Ve!==-1&&Z.current!==Ve&&(Z.current=Ve,V())}return{onFocus(Ae){let{currentTarget:Ve}=Ae;ue.current=!0,ve(Ve)},onClick:Ae=>{let{currentTarget:Ve}=Ae;return Ve.focus({preventScroll:!0})},...I&&{onMouseMove(Ae){let{currentTarget:Ve}=Ae;ue.current=!0,de.current=!1,ve(Ve)},onPointerLeave(Ae){let{pointerType:Ve}=Ae;if(!(!se.current||Ve==="touch")&&(ue.current=!0,Z.current=-1,V(),!_)){var rt;(rt=M.current)==null||rt.focus({preventScroll:!0})}}}}},[n,M,I,s,V,_]),Tt=Di(ve=>{if(se.current=!1,ue.current=!0,ve.which===229||!we.current&&ve.currentTarget===M.current)return;if(b&&_R(ve.key,R,x)){Ai(ve),r(!1,ve.nativeEvent,"list-navigation"),Zr(i.domReference)&&(_?U?.events.emit("virtualfocus",i.domReference):i.domReference.focus());return}const ke=Z.current,Ae=c0(s,O),Ve=iR(s,O);if(B||(ve.key==="Home"&&(Ai(ve),Z.current=Ae,V()),ve.key==="End"&&(Ai(ve),Z.current=Ve,V())),A>1){const rt=z||Array.from({length:s.current.length},()=>({width:1,height:1})),Me=Y7(rt,A,P),ut=Me.findIndex(hn=>hn!=null&&!Ty(s.current,hn,O)),Qt=Me.reduce((hn,ur,Fn)=>ur!=null&&!Ty(s.current,ur,O)?Fn:hn,-1),Gt=Me[Z7({current:Me.map(hn=>hn!=null?s.current[hn]:null)},{event:ve,orientation:R,loop:h,rtl:x,cols:A,disabledIndices:eK([...O||s.current.map((hn,ur)=>Ty(s.current,ur)?ur:void 0),void 0],Me),minIndex:ut,maxIndex:Qt,prevIndex:X7(Z.current>Ve?Ae:Z.current,rt,Me,A,ve.key===hm?"bl":ve.key===(x?Dl:Ll)?"tr":"tl"),stopEvent:!0})];if(Gt!=null&&(Z.current=Gt,V()),R==="both")return}if(wR(ve.key,R)){if(Ai(ve),n&&!_&&Eo(ve.currentTarget.ownerDocument)===ve.currentTarget){Z.current=h0(ve.key,R,x)?Ae:Ve,V();return}h0(ve.key,R,x)?h?Z.current=ke>=Ve?p&&ke!==s.current.length?-1:Ae:xi(s,{startingIndex:ke,disabledIndices:O}):Z.current=Math.min(Ve,xi(s,{startingIndex:ke,disabledIndices:O})):h?Z.current=ke<=Ae?p&&ke!==-1?s.current.length:Ve:xi(s,{startingIndex:ke,decrement:!0,disabledIndices:O}):Z.current=Math.max(Ae,xi(s,{startingIndex:ke,decrement:!0,disabledIndices:O})),eh(s,Z.current)&&(Z.current=-1),V()}}),Ut=Q.useMemo(()=>_&&n&&ct&&{"aria-activedescendant":Je||Re},[_,n,ct,Je,Re]),nn=Q.useMemo(()=>({"aria-orientation":R==="both"?void 0:R,...B?{}:Ut,onKeyDown:Tt,onPointerMove(){se.current=!0}}),[Ut,Tt,R,B]),xe=Q.useMemo(()=>{function ve(Ae){E==="auto"&&$F(Ae.nativeEvent)&&(te.current=!0)}function ke(Ae){te.current=E,E==="auto"&&eN(Ae.nativeEvent)&&(te.current=!0)}return{...Ut,onKeyDown(Ae){se.current=!1;const Ve=Ae.key.startsWith("Arrow"),rt=["Home","End"].includes(Ae.key),Me=Ve||rt,ut=EK(Ae.key,R,x),Qt=_R(Ae.key,R,x),Gt=wR(Ae.key,R),hn=(b?ut:Gt)||Ae.key==="Enter"||Ae.key.trim()==="";if(_&&n){const Oi=U?.nodesRef.current.find(Jt=>Jt.parentId==null),Tr=U&&Oi?lK(U.nodesRef.current,Oi.id):null;if(Me&&Tr&&L){const Jt=new KeyboardEvent("keydown",{key:Ae.key,bubbles:!0});if(ut||Qt){var ur,Fn;const Qi=((ur=Tr.context)==null?void 0:ur.elements.domReference)===Ae.currentTarget,Gi=Qt&&!Qi?(Fn=Tr.context)==null?void 0:Fn.elements.domReference:ut?s.current.find(Ji=>Ji?.id===Re):null;Gi&&(Ai(Ae),Gi.dispatchEvent(Jt),Xe(void 0))}if((Gt||rt)&&Tr.context&&Tr.context.open&&Tr.parentId&&Ae.currentTarget!==Tr.context.elements.domReference){var Hr;Ai(Ae),(Hr=Tr.context.elements.domReference)==null||Hr.dispatchEvent(Jt);return}}return Tt(Ae)}if(!(!n&&!T&&Ve)){if(hn&&(le.current=b&&Gt?null:Ae.key),b){ut&&(Ai(Ae),n?(Z.current=c0(s,ye.current),V()):r(!0,Ae.nativeEvent,"list-navigation"));return}Gt&&(d!=null&&(Z.current=d),Ai(Ae),!n&&T?r(!0,Ae.nativeEvent,"list-navigation"):Tt(Ae),n&&V())}},onFocus(){n&&!_&&(Z.current=-1,V())},onPointerDown:ke,onPointerEnter:ke,onMouseDown:ve,onClick:ve}},[Re,Ut,Tt,ye,E,s,b,V,r,n,T,R,x,d,U,_,L]);return Q.useMemo(()=>u?{reference:xe,floating:nn,item:_t}:{},[u,xe,nn,_t])}const SR=t=>t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(e,n)=>(n?"-":"")+e.toLowerCase());function Zu(t,e){return typeof t=="function"?t(e):t}function kK(t,e){const[n,r]=Q.useState(t);return t&&!n&&r(!0),Q.useEffect(()=>{if(!t&&n){const i=setTimeout(()=>r(!1),e);return()=>clearTimeout(i)}},[t,n,e]),n}function IK(t,e){e===void 0&&(e={});const{open:n,elements:{floating:r}}=t,{duration:i=250}=e,o=(typeof i=="number"?i:i.close)||0,[l,u]=Q.useState("unmounted"),d=kK(n,o);return!d&&l==="close"&&u("unmounted"),vr(()=>{if(r){if(n){u("initial");const p=requestAnimationFrame(()=>{u("open")});return()=>{cancelAnimationFrame(p)}}u("close")}},[n,r]),{isMounted:d,status:l}}function fN(t,e){e===void 0&&(e={});const{initial:n={opacity:0},open:r,close:i,common:s,duration:o=250}=e,l=t.placement,u=l.split("-")[0],d=Q.useMemo(()=>({side:u,placement:l}),[u,l]),p=typeof o=="number",h=(p?o:o.open)||0,b=(p?o:o.close)||0,[x,_]=Q.useState(()=>({...Zu(s,d),...Zu(n,d)})),{isMounted:E,status:I}=IK(t,{duration:o}),T=Li(n),O=Li(r),R=Li(i),A=Li(s);return vr(()=>{const D=Zu(T.current,d),L=Zu(R.current,d),z=Zu(A.current,d),P=Zu(O.current,d)||Object.keys(D).reduce((q,M)=>(q[M]="",q),{});if(I==="initial"&&_(q=>({transitionProperty:q.transitionProperty,...z,...D})),I==="open"&&_({transitionProperty:Object.keys(P).map(SR).join(","),transitionDuration:h+"ms",...z,...P}),I==="close"){const q=L||D;_({transitionProperty:Object.keys(q).map(SR).join(","),transitionDuration:b+"ms",...z,...q})}},[b,R,T,O,A,h,I,d]),{isMounted:E,styles:x}}const CK=Q.createContext({close(){}}),TK=yn({slot:{target:["flex","justify-center","items-center"],portal:[]},variant:{mounted:{true:[]}},match:[{if:{mounted:!1},then:{portal:["hidden"]}}],defaults:{mounted:!1}}),OK=({target:t,action:e="hover",disabled:n=!1,closeOnClick:r=!1,delay:i=100,float:s,variant:o,tva:l=TK,css:u,children:d})=>{const[p,h]=Q.useState(!1),{refs:b,floatingStyles:x,context:_}=uN({open:p,onOpenChange:h,placement:"top",whileElementsMounted:nD,middleware:[iD(10),sD({fallbackAxisSideDirection:"start"}),K7()],...s}),{getReferenceProps:E,getFloatingProps:I}=dN([aK(_,{enabled:e==="hover",delay:i}),lN(_,{enabled:e==="click"}),SK(_),cN(_)]),{isMounted:T,styles:O}=fN(_),R=l({mounted:T,...o,css:u}).slots;return f.jsxs(f.Fragment,{children:[f.jsx("button",{type:"button",ref:b.setReference,...E(),disabled:n,className:R.target(),children:t}),f.jsx(aN,{children:f.jsx("div",{ref:b.setFloating,style:{...x,...O},className:R.portal(),...I(),onClick:r?()=>{h(!1)}:void 0,children:f.jsx(CK.Provider,{value:{close(){h(!1)}},children:d})})})]})},yD="icon-[system-uicons--menu-hamburger]",vD=yn({slot:{base:[]},variant:{size:{xs:"text-sm",sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl","2xl":"text-2xl","3xl":"text-3xl","4xl":"text-4xl","5xl":"text-5xl","6xl":"text-6xl","7xl":"text-7xl","8xl":"text-8xl"},disabled:{true:[]}},match:[{if:{disabled:!0},then:{base:["pointer-events-none","cursor-not-allowed","text-gray-400","opacity-50"]}}],defaults:{size:"xl",disabled:!1}}),on=({icon:t,variant:e,tva:n=vD,css:r,...i})=>{const s=n({...e,css:r}).slots;return t?f.jsx("div",{className:s.base({css:[t]}),...i}):null},RK=yn({slot:{base:["p-1","bg-slate-50","border","border-slate-300","rounded","shadow-md","text-slate-500","flex","flex-col","gap-2"]},variant:{},defaults:{}}),Hn=({icon:t=yD,iconProps:e,children:n,variant:r,tva:i=RK,css:s,...o})=>{const l=i({...r,css:s}).slots;return f.jsx(oK,{children:f.jsx(OK,{action:"click",target:f.jsx(on,{icon:t,...e}),delay:100,float:{placement:"bottom-start"},closeOnClick:!0,...o,children:f.jsx("div",{className:l.base(),children:n})})})},bD="icon-[svg-spinners--90-ring-with-bg]",qK=yn({slot:{base:["flex","items-center","justify-center","gap-2","group","w-fit","h-fit","rounded","cursor-pointer","hover:shadow-md","hover:shadow-slate-200","transition-all","hover:bg-slate-200","text-slate-600","text-2xl","p-1"]},variant:{disabled:{true:["cursor-not-allowed","pointer-events-none"]},loading:{true:["cursor-not-allowed","pointer-events-none"]}},match:[{if:{disabled:!0},then:{base:["opacity-50","hover:bg-blue-400"]}}],defaults:{disabled:!1,loading:!1}}),gm=({iconEnabled:t,iconDisabled:e,iconLoading:n=bD,disabled:r=!1,loading:i=!1,onClick:s,variant:o,tva:l=qK,css:u,children:d,...p})=>{const h=l({disabled:r,loading:i,...o,css:u}).slots;return f.jsxs("div",{className:h.base(),onClick:r?void 0:s,...p,children:[r?f.jsx(on,{icon:i?n:e??t}):f.jsx(on,{icon:i?n:t}),d]})},pN="icon-[iconamoon--close-light]",Wb=Q.createContext(void 0),jK=yn({slot:{base:["bg-slate-500","bg-opacity-75","backdrop-blur-sm","flex","justify-center","py-12"],target:[],modal:["bg-white","rounded","shadow-lg","p-4","w-fit","h-fit","max-h-full","overflow-y-auto","relative","w-2/3","max-w-1/2"]},variant:{disabled:{true:["pointer-events-none"]},loading:{true:[]}},match:[{if:{loading:!0},then:{base:["pointer-events-none","opacity-50"]}}],defaults:{disabled:!1,loading:!1}}),ff=({target:t,icon:e,textTitle:n,disabled:r=!1,defaultOpen:i=!1,outside:s=!1,variant:o,css:l,tva:u=jK,children:d})=>{const[p,h]=Q.useState(i),b=iK(),{refs:x,context:_}=uN({nodeId:b,open:p,onOpenChange:h}),E=lN(_),I=cN(_,{outsidePress:s}),{getReferenceProps:T,getFloatingProps:O}=dN([E,I]),{isMounted:R,styles:A}=fN(_),D=u({disabled:r,...o,css:l}).slots;return f.jsxs(Wb.Provider,{value:{close(){h(!1)}},children:[f.jsx("div",{ref:x.setReference,...T({disabled:r}),className:D.target(),children:t}),f.jsx(sK,{id:b,children:R&&f.jsx(f.Fragment,{children:f.jsx(aN,{children:f.jsx(bK,{lockScroll:!0,style:A,className:D.base(),children:f.jsx(gD,{context:_,children:f.jsxs("div",{ref:x.setFloating,...O(),className:D.modal(),children:[f.jsxs("div",{className:"border-b border-slate-200 mb-2 py-1.5 flex flex-row items-center justify-between select-none",children:[f.jsxs("div",{className:"flex flex-row items-center gap-2 pr-4",children:[e&&(kb(e)?f.jsx(on,{icon:e,variant:{size:"xl"}}):e),n&&f.jsx("div",{className:"text-lg font-semibold text-slate-700",children:n})]}),f.jsx(gm,{iconEnabled:pN,onClick:()=>h(!1)})]}),P9(d)?f.jsx(d,{close:()=>h(!1)}):d]})})})})})})]})},AK=yn({use:FF,slot:{},variant:{},defaults:{}}),gn=({icon:t,iconProps:e,label:n,disabled:r=!1,hidden:i=!1,variant:s,tva:o=AK,css:l,...u})=>{const d=o({...s,disabled:r,css:l}).slots;return i?null:f.jsxs("div",{className:d.base(),children:[kb(t)?f.jsx(on,{icon:t,...e}):t,f.jsx(ff,{icon:t,target:n,disabled:r,css:{modal:["w-1/2"]},...u})]})},PK=yn({slot:{base:["flex","flex-row","gap-2","items-center","rounded-2xl","bg-blue-50","border","border-blue-200","text-xs","px-4","py-0.5","font-bold"]},variant:{},defaults:{}}),ro=({variant:t,tva:e=PK,css:n,...r})=>{const i=e({...t,css:n}).slots;return f.jsx("div",{className:i.base(),...r})},AE="icon-[material-symbols-light--check-small]",FK="icon-[material-symbols-light--close-small]",DK="icon-[material-symbols-light--check-indeterminate-small]",LK=yn({use:vD,slot:{},variant:{value:{true:"text-green-600",false:"text-amber-600"}},defaults:{value:!1}}),Ub=({value:t,checkIcon:e=AE,unCheckIcon:n=FK,undefinedIcon:r=DK,tva:i=LK,...s})=>t==null?f.jsx(on,{icon:r,tva:i,...s}):f.jsx(on,{icon:t?e:n,tva:o=>i({...o,value:t}),...s}),MK=yn({slot:{base:["flex","items-center","justify-between","text-sm","font-medium","text-slate-900","w-full"],switch:["relative","w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-blue-300","dark:peer-focus:ring-blue-800","rounded-full","peer","dark:bg-gray-700","peer-checked:after:translate-x-full","rtl:peer-checked:after:-translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","dark:border-gray-600","peer-checked:bg-blue-600"]},variant:{},defaults:{}}),xD=({value:t,onChange:e,variant:n,tva:r=MK,css:i,...s})=>{const o=r({...n,css:i}).slots;return f.jsx("div",{className:o.base(),children:f.jsxs("label",{children:[f.jsx("input",{type:"checkbox",checked:t,className:"sr-only peer",onChange:l=>{e(l.target.checked)},...s}),f.jsx("div",{className:o.switch()})]})})},$K=yn({slot:{base:["flex","flex-row","items-center","justify-center","gap-2","group","rounded","transition-all"]},variant:{variant:{primary:["text-white"],secondary:["text-slate-700"],subtle:["text-slate-600"],danger:["text-slate-50"]},disabled:{true:"cursor-not-allowed"},size:{xs:[],sm:[],md:[]}},match:[{if:{variant:"primary"},then:{base:["bg-blue-400","hover:bg-blue-500"]}},{if:{variant:"primary",disabled:!0},then:{base:["opacity-50","bg-blue-600","hover:bg-blue-600","cursor-not-allowed"]}},{if:{variant:"secondary"},then:{base:["bg-amber-400","hover:bg-amber-500"]}},{if:{variant:"secondary",disabled:!0},then:{base:["opacity-50","bg-amber-600","hover:bg-amber-600","cursor-not-allowed"]}},{if:{variant:"subtle"},then:{base:["text-slate-600","hover:text-slate-800","hover:bg-blue-50"]}},{if:{variant:"subtle",disabled:!0},then:{base:["opacity-50","bg-blue-50","hover:bg-blue-50","cursor-not-allowed"]}},{if:{variant:"danger"},then:{base:["bg-red-400","hover:bg-red-500","hover:text-white"]}},{if:{size:"xs"},then:{base:["py-0.5","px-1"]}},{if:{size:"sm"},then:{base:["py-1","px-2"]}},{if:{size:"md"},then:{base:["py-2","px-4"]}}],defaults:{variant:"primary",disabled:!1,size:"md"}}),An=({iconEnabled:t,iconDisabled:e,iconLoading:n=bD,iconProps:r,loading:i,variant:s,tva:o=$K,css:l,children:u,...d})=>{const p=o({disabled:d.disabled,...s,css:l}).slots;return f.jsxs("button",{type:"button",className:p.base({disabled:d.disabled}),...d,children:[d.disabled?f.jsx(on,{icon:i===!0?n:e,variant:{size:"xl"},...r}):f.jsx(on,{icon:i===!0?n:t,variant:{size:"xl"},...r}),u]})},hN=Q.createContext({inline:!1}),BK=yn({slot:{base:["border","border-slate-100","px-2","py-1","rounded-md"],label:["text-sm","font-semibold","text-slate-600","border-b","mb-2"],value:[]},variant:{inline:{true:[]},withBackground:{true:[]}},match:[{if:{inline:!0},then:{base:["border-none","flex","flex-row","items-center","gap-2"],label:["mb-0","font-light","text-md","text-slate-600","border-none"],value:["text-md","text-slate-800"]}},{if:{withBackground:!0},then:{base:["bg-slate-50","hover:bg-slate-100"]}}],defaults:{inline:!1,withBackground:!0}}),zK=({inline:t,label:e,value:n,variant:r,tva:i=BK,css:s})=>{const o=Q.useContext(hN),l=t??o?.inline,u=i({inline:l,...r,css:s}).slots;return f.jsxs("div",{className:u.base(),children:[e?f.jsx("div",{className:u.label(),children:e}):null,f.jsx("div",{className:u.value(),children:n})]})},WK=yn({slot:{base:["flex","flex-col","gap-4","border","border-slate-100","p-4","rounded-lg"]},variant:{inline:{true:["flex-row","border-none","gap-1","p-0","flex-1"]}},defaults:{inline:!1}}),wD=({items:t,hidden:e=[],valueOfProps:n,entity:r,variant:i,tva:s=WK,css:o,inline:l=!1})=>{const u=s({inline:l,...i,css:o}).slots;return f.jsx(hN.Provider,{value:{inline:l},children:f.jsx("div",{className:u.base(),children:t.filter(({id:d})=>!e.includes(d)).map(({id:d,render:p,...h})=>f.jsx(zK,{value:f.jsx(p,{entity:r}),...n,...h},d))})})},UK=yn({slot:{base:["flex","flex-col","gap-2"]},variant:{},defaults:{}}),ER="icon-[tabler--dots]",VK=yn({slot:{base:["flex","items-center","justify-between","gap-2"],sums:["flex","items-center","gap-2","text-sm"]},variant:{},defaults:{}}),HK=yn({slot:{base:["select-none"],list:["flex","items-center","-space-x-px","text-xs","gap-2"],page:["flex","items-center","justify-center","w-12","px-2","py-1","rounded","border","border-slate-200","hover:bg-slate-200","cursor-pointer","transition-all","duration-200"]},variant:{current:{true:[]}},match:[{if:{current:!0},then:{page:["bg-slate-100","hover:bg-slate-200","text-slate-800","font-bold"]}}],defaults:{current:!1}}),m0=({pages:t,page:e,onPage:n,variant:r,tva:i=HK,css:s})=>{const o=i({...r,css:s}).slots;return f.jsx("nav",{className:o.base(),children:f.jsx("ul",{className:o.list(),children:t.map((l,u)=>f.jsx("li",{className:o.page({current:e===l-1}),onClick:()=>n(l-1),children:l},`page-${l}-${u}`))})})},KK=yn({slot:{base:["cursor-pointer","bg-slate-50","text-slate-900","text-sm","border","border-slate-300","rounded","focus:border-sky-400","focus:outline-none","p-2.5","hover:shadow-md","transition-all","group"],input:["flex","flex-row","items-center","justify-between","gap-2"],popup:["z-50","cursor-pointer","overflow-y-auto","rounded","border","border-slate-300","bg-white","shadow-lg","focus:outline-none"],item:["focus:outline-none","py-2","px-2.5","flex","items-center","justify-between"]},variant:{disabled:{true:["cursor-not-allowed","hover:shadow-none","focus:border-slate-300","opacity-50"]},active:{true:[]},selected:{true:[]}},match:[{if:{selected:!0},then:{item:["bg-slate-100"]}},{if:{active:!0},then:{item:["bg-slate-200"]}}],defaults:{disabled:!1,selected:!1,active:!1}}),QK=({items:t,icon:e,defaultValue:n,render:r,textSelect:i,disabled:s=!1,onItem:o,onSelect:l,onChange:u,value:d,variant:p,tva:h=KK,css:b})=>{const[x,_]=Q.useState(!1),[E,I]=Q.useState(null),[T,O]=Q.useState(t.findIndex(ne=>ne.id===n));Q.useEffect(()=>{O(t.findIndex(ne=>ne.id===d))},[d]);const{refs:R,floatingStyles:A,context:D}=uN({placement:"bottom-start",open:x,onOpenChange:_,whileElementsMounted:nD,middleware:[iD(5),sD({padding:10}),Q7({apply({rects:ne,elements:oe,availableHeight:X}){Object.assign(oe.floating.style,{maxHeight:`${X}px`,minWidth:`${ne.reference.width}px`})},padding:10})]}),L=Q.useRef([]),z=Q.useRef(!1),P=lN(D,{event:"mousedown"}),q=cN(D),M=NK(D,{listRef:L,activeIndex:E,selectedIndex:T,onNavigate:I,loop:!0}),{getReferenceProps:F,getFloatingProps:U,getItemProps:V}=dN([q,M,P]),{isMounted:B,styles:te}=fN(D),Z=ne=>{O(ne),_(!1);const oe=t[ne];oe&&o?.(oe),l?.(oe),u?.(oe?.id)},le=T===null?void 0:t[T],se=h({disabled:s,...p,css:b}).slots;return f.jsxs(f.Fragment,{children:[f.jsx("div",{tabIndex:s?-1:0,ref:s?void 0:R.setReference,"aria-labelledby":"select-label","aria-autocomplete":"none",...s?{}:F(),className:se.base(),children:f.jsxs("div",{className:se.input(),children:[e?f.jsx(on,{icon:e,variant:{size:"xl"},css:{base:["text-slate-400","group-hover:text-slate-600"]}}):null,le?f.jsx(r,{entity:le}):i||$l.rich("Select item"),f.jsx(on,{icon:"icon-[gg--select]",variant:{size:"xl"},css:{base:[!x&&"text-slate-400",x&&"text-slate-600","group-hover:text-slate-600"]}})]})}),B&&f.jsx(aN,{children:f.jsx(gD,{context:D,modal:!1,children:f.jsx("div",{ref:R.setFloating,style:{...A,...te},className:se.popup(),...U(),children:t.map((ne,oe)=>f.jsxs("div",{ref:X=>{L.current[oe]=X},role:"option",tabIndex:oe===E?0:-1,"aria-selected":oe===T&&oe===E,className:se.item({selected:oe===T,active:oe===E}),...V({onClick(){Z(oe)},onKeyDown(X){X.key==="Enter"&&(X.preventDefault(),Z(oe)),X.key===" "&&!z.current&&(X.preventDefault(),Z(oe))}}),children:[f.jsx(r,{entity:ne}),oe===T&&f.jsx(on,{icon:"icon-[basil--check-outline]",variant:{size:"xl"}})]},ne.id))})})})]})},GK=({sizes:t=[5,15,30,50,100],size:e,onSize:n,...r})=>f.jsx(QK,{items:t.map(i=>({id:`${i}`,size:i})),defaultValue:`${e}`,value:`${e}`,onItem:({size:i})=>n(i),render:({entity:{size:i}})=>i,css:{base:["px-8","py-1"],item:["px-8","py-1"]},...r}),NR=({cursor:t,count:e,textTotal:n,onPage:r,onSize:i,variant:s,tva:o=VK,css:l})=>{const u=Q.useMemo(()=>E9({page:t.page,total:Math.ceil(e.filter/t.size),siblings:1,boundaries:1}),[t.page,e.filter,t.size]),d=o({...s,css:l}).slots;return f.jsxs("div",{className:d.base(),children:[u.total>1?f.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[["both","start"].includes(u.type)&&f.jsxs(f.Fragment,{children:[f.jsx(m0,{page:t.page,pages:u.start,onPage:r}),f.jsx(on,{icon:ER})]}),f.jsx(m0,{page:t.page,pages:u.pages,onPage:r}),["both","end"].includes(u.type)&&f.jsxs(f.Fragment,{children:[f.jsx(on,{icon:ER}),f.jsx(m0,{page:t.page,pages:u.end,onPage:r})]})]}):null,f.jsxs("div",{className:d.sums(),children:[f.jsx("div",{children:n}),f.jsx("div",{className:"font-bold",children:e.filter}),e.filter!==e.where&&f.jsxs(f.Fragment,{children:[f.jsx("div",{children:"/"}),f.jsx("div",{className:"font-semibold",children:e.where})]})]}),f.jsx(GK,{size:t.size,onSize:i})]})},kR="function",fd="64e10b34-2bf7-4616-9668-f99de5aa046e",JK="get",ZK="has",YK="set",{isArray:Oy}=Array;let{SharedArrayBuffer:Lv,window:XK}=globalThis,{notify:_D,wait:SD,waitAsync:Mv}=Atomics,ED=null;Mv||(Mv=t=>({value:new Promise(e=>{let n=new Worker("data:application/javascript,onmessage%3D(%7Bdata%3Ab%7D)%3D%3E(Atomics.wait(b%2C0)%2CpostMessage(0))");n.onmessage=e,n.postMessage(t)})}));try{new Lv(4)}catch{Lv=ArrayBuffer;const e=new WeakMap;if(XK){const n=new Map,{prototype:{postMessage:r}}=Worker,i=s=>{const o=s.data?.[fd];if(!Oy(o)){s.stopImmediatePropagation();const{id:l,sb:u}=o;n.get(l)(u)}};ED=function(s,...o){const l=s?.[fd];if(Oy(l)){const[u,d]=l;e.set(d,u),this.addEventListener("message",i)}return r.call(this,s,...o)},Mv=s=>({value:new Promise(o=>{n.set(e.get(s),o)}).then(o=>{n.delete(e.get(s)),e.delete(s);for(let l=0;l<o.length;l++)s[l]=o[l];return"ok"})})}else{const n=(r,i)=>({[fd]:{id:r,sb:i}});_D=r=>{postMessage(n(e.get(r),r))},addEventListener("message",r=>{const i=r.data?.[fd];if(Oy(i)){const[s,o]=i;e.set(o,s)}})}}const{Int32Array:PE,Map:IR,Uint16Array:FE}=globalThis,{BYTES_PER_ELEMENT:CR}=PE,{BYTES_PER_ELEMENT:eQ}=FE,tQ=(t,e,n)=>{for(;SD(t,0,0,e)==="timed-out";)n()},DE=new WeakSet,g0=new WeakMap,nQ={value:{then:t=>t()}};let rQ=0;const mN=(t,{parse:e=JSON.parse,stringify:n=JSON.stringify,transform:r,interrupt:i}=JSON)=>{if(!g0.has(t)){const s=ED||t.postMessage,o=(b,...x)=>s.call(t,{[fd]:x},{transfer:b}),l=typeof i===kR?i:i?.handler,u=i?.delay||42,d=new TextDecoder("utf-16"),p=(b,x)=>b?Mv(x,0):(l?tQ(x,u,l):SD(x,0),nQ);let h=!1;g0.set(t,new Proxy(new IR,{[ZK]:(b,x)=>typeof x=="string"&&!x.startsWith("_"),[JK]:(b,x)=>x==="then"?null:(..._)=>{const E=rQ++;let I=new PE(new Lv(CR*2)),T=[];DE.has(_.at(-1)||T)&&DE.delete(T=_.pop()),o(T,E,I,x,r?_.map(r):_);const O=t!==globalThis;let R=0;return h&&O&&(R=setTimeout(console.warn,1e3,` - Possible deadlock if proxy.${x}(...args) is awaited`)),p(O,I).value.then(()=>{clearTimeout(R);const A=I[1];if(!A)return;const D=eQ*A;return I=new PE(new Lv(D+D%CR)),o([],E,I),p(O,I).value.then(()=>e(d.decode(new FE(I.buffer).slice(0,A))))})},[YK](b,x,_){const E=typeof _;if(E!==kR)throw new Error(`Unable to assign ${x} as ${E}`);if(!b.size){const I=new IR;t.addEventListener("message",async T=>{const O=T.data?.[fd];if(Oy(O)){T.stopImmediatePropagation();const[R,A,...D]=O;let L;if(D.length){const[z,P]=D;if(b.has(z)){h=!0;try{const q=await b.get(z)(...P);if(q!==void 0){const M=n(r?r(q):q);I.set(R,M),A[1]=M.length}}catch(q){L=q}finally{h=!1}}else L=new Error(`Unsupported action: ${z}`);A[0]=1}else{const z=I.get(R);I.delete(R);for(let P=new FE(A.buffer),q=0;q<z.length;q++)P[q]=z.charCodeAt(q)}if(_D(A,0),L)throw L}})}return!!b.set(x,_)}}))}return g0.get(t)};mN.transfer=(...t)=>(DE.add(t),t);var gN=(()=>{var t=import.meta.url;return function(e={}){var n,r=e,i,s,o=new Promise((g,y)=>{i=g,s=y}),l=typeof window=="object",u=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;const d=globalThis.sqlite3InitModuleState||Object.assign(Object.create(null),{debugModule:()=>{}});delete globalThis.sqlite3InitModuleState,d.debugModule("globalThis.location =",globalThis.location);var p=Object.assign({},r),h="./this.program",b="";function x(g){return r.locateFile?r.locateFile(g,b):b+g}var _,E;(l||u)&&(u?b=self.location.href:typeof document<"u"&&document.currentScript&&(b=document.currentScript.src),t&&(b=t),b.startsWith("blob:")?b="":b=b.substr(0,b.replace(/[?#].*/,"").lastIndexOf("/")+1),u&&(E=g=>{var y=new XMLHttpRequest;return y.open("GET",g,!1),y.responseType="arraybuffer",y.send(null),new Uint8Array(y.response)}),_=g=>fetch(g,{credentials:"same-origin"}).then(y=>y.ok?y.arrayBuffer():Promise.reject(new Error(y.status+" : "+y.url))));var I=r.print||console.log.bind(console),T=r.printErr||console.error.bind(console);Object.assign(r,p),p=null,r.arguments&&r.arguments,r.thisProgram&&(h=r.thisProgram);var O=r.wasmBinary,R,A=!1,D,L,z,P,q,M;function F(){var g=R.buffer;r.HEAP8=D=new Int8Array(g),r.HEAP16=z=new Int16Array(g),r.HEAPU8=L=new Uint8Array(g),r.HEAPU16=new Uint16Array(g),r.HEAP32=P=new Int32Array(g),r.HEAPU32=q=new Uint32Array(g),r.HEAPF32=new Float32Array(g),r.HEAPF64=new Float64Array(g),r.HEAP64=M=new BigInt64Array(g),r.HEAPU64=new BigUint64Array(g)}if(r.wasmMemory)R=r.wasmMemory;else{var U=r.INITIAL_MEMORY||0x1000000;R=new WebAssembly.Memory({initial:U/65536,maximum:32768})}F();var V=[],B=[],te=[];function Z(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)ne(r.preRun.shift());xe(V)}function le(){!r.noFSInit&&!H.initialized&&H.init(),H.ignorePermissions=!1,xe(B)}function se(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)X(r.postRun.shift());xe(te)}function ne(g){V.unshift(g)}function oe(g){B.unshift(g)}function X(g){te.unshift(g)}var ue=0,de=null;function ye(g){return g}function we(g){ue++,r.monitorRunDependencies?.(ue)}function Ne(g){if(ue--,r.monitorRunDependencies?.(ue),ue==0&&de){var y=de;de=null,y()}}function ze(g){r.onAbort?.(g),g="Aborted("+g+")",T(g),A=!0,g+=". Build with -sASSERTIONS for more info.";var y=new WebAssembly.RuntimeError(g);throw s(y),y}var Re="data:application/octet-stream;base64,",De=g=>g.startsWith(Re);function Je(){if(r.locateFile){var g="sqlite3.wasm";return De(g)?g:x(g)}return new URL("/assets/sqlite3-CgX3seBP.wasm",import.meta.url).href}var Xe;function Ue(g){if(g==Xe&&O)return new Uint8Array(O);if(E)return E(g);throw"both async and sync fetching of the wasm failed"}function ct(g){return O?Promise.resolve().then(()=>Ue(g)):_(g).then(y=>new Uint8Array(y),()=>Ue(g))}function _t(g,y,S){return ct(g).then(N=>WebAssembly.instantiate(N,y)).then(S,N=>{T(`failed to asynchronously prepare wasm: ${N}`),ze(N)})}function Tt(g,y,S,N){return!g&&typeof WebAssembly.instantiateStreaming=="function"&&!De(y)&&typeof fetch=="function"?fetch(y,{credentials:"same-origin"}).then(C=>{var $=WebAssembly.instantiateStreaming(C,S);return $.then(N,function(fe){return T(`wasm streaming compile failed: ${fe}`),T("falling back to ArrayBuffer instantiation"),_t(y,S,N)})}):_t(y,S,N)}function Ut(){return{env:Ff,wasi_snapshot_preview1:Ff}}function nn(){var g=Ut();function y(N,C){return he=N.exports,oe(he.__wasm_call_ctors),Ne(),he}we();function S(N){y(N.instance)}if(r.instantiateWasm)try{return r.instantiateWasm(g,y)}catch(N){T(`Module.instantiateWasm callback failed with error: ${N}`),s(N)}return Xe||(Xe=Je()),Tt(O,Xe,g,S).catch(s),{}}var xe=g=>{for(;g.length>0;)g.shift()(r)};r.noExitRuntime;var ve={isAbs:g=>g.charAt(0)==="/",splitPath:g=>{var y=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return y.exec(g).slice(1)},normalizeArray:(g,y)=>{for(var S=0,N=g.length-1;N>=0;N--){var C=g[N];C==="."?g.splice(N,1):C===".."?(g.splice(N,1),S++):S&&(g.splice(N,1),S--)}if(y)for(;S;S--)g.unshift("..");return g},normalize:g=>{var y=ve.isAbs(g),S=g.substr(-1)==="/";return g=ve.normalizeArray(g.split("/").filter(N=>!!N),!y).join("/"),!g&&!y&&(g="."),g&&S&&(g+="/"),(y?"/":"")+g},dirname:g=>{var y=ve.splitPath(g),S=y[0],N=y[1];return!S&&!N?".":(N&&(N=N.substr(0,N.length-1)),S+N)},basename:g=>{if(g==="/")return"/";g=ve.normalize(g),g=g.replace(/\/$/,"");var y=g.lastIndexOf("/");return y===-1?g:g.substr(y+1)},join:(...g)=>ve.normalize(g.join("/")),join2:(g,y)=>ve.normalize(g+"/"+y)},ke=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return g=>crypto.getRandomValues(g);ze("initRandomDevice")},Ae=g=>(Ae=ke())(g),Ve={resolve:(...g)=>{for(var y="",S=!1,N=g.length-1;N>=-1&&!S;N--){var C=N>=0?g[N]:H.cwd();if(typeof C!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!C)return"";y=C+"/"+y,S=ve.isAbs(C)}return y=ve.normalizeArray(y.split("/").filter($=>!!$),!S).join("/"),(S?"/":"")+y||"."},relative:(g,y)=>{g=Ve.resolve(g).substr(1),y=Ve.resolve(y).substr(1);function S(tt){for(var at=0;at<tt.length&&tt[at]==="";at++);for(var mt=tt.length-1;mt>=0&&tt[mt]==="";mt--);return at>mt?[]:tt.slice(at,mt-at+1)}for(var N=S(g.split("/")),C=S(y.split("/")),$=Math.min(N.length,C.length),fe=$,me=0;me<$;me++)if(N[me]!==C[me]){fe=me;break}for(var Ke=[],me=fe;me<N.length;me++)Ke.push("..");return Ke=Ke.concat(C.slice(fe)),Ke.join("/")}},rt=typeof TextDecoder<"u"?new TextDecoder:void 0,Me=(g,y,S)=>{for(var N=y+S,C=y;g[C]&&!(C>=N);)++C;if(C-y>16&&g.buffer&&rt)return rt.decode(g.subarray(y,C));for(var $="";y<C;){var fe=g[y++];if(!(fe&128)){$+=String.fromCharCode(fe);continue}var me=g[y++]&63;if((fe&224)==192){$+=String.fromCharCode((fe&31)<<6|me);continue}var Ke=g[y++]&63;if((fe&240)==224?fe=(fe&15)<<12|me<<6|Ke:fe=(fe&7)<<18|me<<12|Ke<<6|g[y++]&63,fe<65536)$+=String.fromCharCode(fe);else{var tt=fe-65536;$+=String.fromCharCode(55296|tt>>10,56320|tt&1023)}}return $},ut=[],Qt=g=>{for(var y=0,S=0;S<g.length;++S){var N=g.charCodeAt(S);N<=127?y++:N<=2047?y+=2:N>=55296&&N<=57343?(y+=4,++S):y+=3}return y},Gt=(g,y,S,N)=>{if(!(N>0))return 0;for(var C=S,$=S+N-1,fe=0;fe<g.length;++fe){var me=g.charCodeAt(fe);if(me>=55296&&me<=57343){var Ke=g.charCodeAt(++fe);me=65536+((me&1023)<<10)|Ke&1023}if(me<=127){if(S>=$)break;y[S++]=me}else if(me<=2047){if(S+1>=$)break;y[S++]=192|me>>6,y[S++]=128|me&63}else if(me<=65535){if(S+2>=$)break;y[S++]=224|me>>12,y[S++]=128|me>>6&63,y[S++]=128|me&63}else{if(S+3>=$)break;y[S++]=240|me>>18,y[S++]=128|me>>12&63,y[S++]=128|me>>6&63,y[S++]=128|me&63}}return y[S]=0,S-C};function hn(g,y,S){var N=Qt(g)+1,C=new Array(N),$=Gt(g,C,0,C.length);return C.length=$,C}var ur=()=>{if(!ut.length){var g=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(g=window.prompt("Input: "),g!==null&&(g+=`
`)),!g)return null;ut=hn(g)}return ut.shift()},Fn={ttys:[],init(){},shutdown(){},register(g,y){Fn.ttys[g]={input:[],output:[],ops:y},H.registerDevice(g,Fn.stream_ops)},stream_ops:{open(g){var y=Fn.ttys[g.node.rdev];if(!y)throw new H.ErrnoError(43);g.tty=y,g.seekable=!1},close(g){g.tty.ops.fsync(g.tty)},fsync(g){g.tty.ops.fsync(g.tty)},read(g,y,S,N,C){if(!g.tty||!g.tty.ops.get_char)throw new H.ErrnoError(60);for(var $=0,fe=0;fe<N;fe++){var me;try{me=g.tty.ops.get_char(g.tty)}catch{throw new H.ErrnoError(29)}if(me===void 0&&$===0)throw new H.ErrnoError(6);if(me==null)break;$++,y[S+fe]=me}return $&&(g.node.timestamp=Date.now()),$},write(g,y,S,N,C){if(!g.tty||!g.tty.ops.put_char)throw new H.ErrnoError(60);try{for(var $=0;$<N;$++)g.tty.ops.put_char(g.tty,y[S+$])}catch{throw new H.ErrnoError(29)}return N&&(g.node.timestamp=Date.now()),$}},default_tty_ops:{get_char(g){return ur()},put_char(g,y){y===null||y===10?(I(Me(g.output,0)),g.output=[]):y!=0&&g.output.push(y)},fsync(g){g.output&&g.output.length>0&&(I(Me(g.output,0)),g.output=[])},ioctl_tcgets(g){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(g,y,S){return 0},ioctl_tiocgwinsz(g){return[24,80]}},default_tty1_ops:{put_char(g,y){y===null||y===10?(T(Me(g.output,0)),g.output=[]):y!=0&&g.output.push(y)},fsync(g){g.output&&g.output.length>0&&(T(Me(g.output,0)),g.output=[])}}},Hr=(g,y)=>(L.fill(0,g,g+y),g),Oi=(g,y)=>Math.ceil(g/y)*y,Tr=g=>{g=Oi(g,65536);var y=Df(65536,g);return y?Hr(y,g):0},Jt={ops_table:null,mount(g){return Jt.createNode(null,"/",16895,0)},createNode(g,y,S,N){if(H.isBlkdev(S)||H.isFIFO(S))throw new H.ErrnoError(63);Jt.ops_table||={dir:{node:{getattr:Jt.node_ops.getattr,setattr:Jt.node_ops.setattr,lookup:Jt.node_ops.lookup,mknod:Jt.node_ops.mknod,rename:Jt.node_ops.rename,unlink:Jt.node_ops.unlink,rmdir:Jt.node_ops.rmdir,readdir:Jt.node_ops.readdir,symlink:Jt.node_ops.symlink},stream:{llseek:Jt.stream_ops.llseek}},file:{node:{getattr:Jt.node_ops.getattr,setattr:Jt.node_ops.setattr},stream:{llseek:Jt.stream_ops.llseek,read:Jt.stream_ops.read,write:Jt.stream_ops.write,allocate:Jt.stream_ops.allocate,mmap:Jt.stream_ops.mmap,msync:Jt.stream_ops.msync}},link:{node:{getattr:Jt.node_ops.getattr,setattr:Jt.node_ops.setattr,readlink:Jt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Jt.node_ops.getattr,setattr:Jt.node_ops.setattr},stream:H.chrdev_stream_ops}};var C=H.createNode(g,y,S,N);return H.isDir(C.mode)?(C.node_ops=Jt.ops_table.dir.node,C.stream_ops=Jt.ops_table.dir.stream,C.contents={}):H.isFile(C.mode)?(C.node_ops=Jt.ops_table.file.node,C.stream_ops=Jt.ops_table.file.stream,C.usedBytes=0,C.contents=null):H.isLink(C.mode)?(C.node_ops=Jt.ops_table.link.node,C.stream_ops=Jt.ops_table.link.stream):H.isChrdev(C.mode)&&(C.node_ops=Jt.ops_table.chrdev.node,C.stream_ops=Jt.ops_table.chrdev.stream),C.timestamp=Date.now(),g&&(g.contents[y]=C,g.timestamp=C.timestamp),C},getFileDataAsTypedArray(g){return g.contents?g.contents.subarray?g.contents.subarray(0,g.usedBytes):new Uint8Array(g.contents):new Uint8Array(0)},expandFileStorage(g,y){var S=g.contents?g.contents.length:0;if(!(S>=y)){var N=1024*1024;y=Math.max(y,S*(S<N?2:1.125)>>>0),S!=0&&(y=Math.max(y,256));var C=g.contents;g.contents=new Uint8Array(y),g.usedBytes>0&&g.contents.set(C.subarray(0,g.usedBytes),0)}},resizeFileStorage(g,y){if(g.usedBytes!=y)if(y==0)g.contents=null,g.usedBytes=0;else{var S=g.contents;g.contents=new Uint8Array(y),S&&g.contents.set(S.subarray(0,Math.min(y,g.usedBytes))),g.usedBytes=y}},node_ops:{getattr(g){var y={};return y.dev=H.isChrdev(g.mode)?g.id:1,y.ino=g.id,y.mode=g.mode,y.nlink=1,y.uid=0,y.gid=0,y.rdev=g.rdev,H.isDir(g.mode)?y.size=4096:H.isFile(g.mode)?y.size=g.usedBytes:H.isLink(g.mode)?y.size=g.link.length:y.size=0,y.atime=new Date(g.timestamp),y.mtime=new Date(g.timestamp),y.ctime=new Date(g.timestamp),y.blksize=4096,y.blocks=Math.ceil(y.size/y.blksize),y},setattr(g,y){y.mode!==void 0&&(g.mode=y.mode),y.timestamp!==void 0&&(g.timestamp=y.timestamp),y.size!==void 0&&Jt.resizeFileStorage(g,y.size)},lookup(g,y){throw H.genericErrors[44]},mknod(g,y,S,N){return Jt.createNode(g,y,S,N)},rename(g,y,S){if(H.isDir(g.mode)){var N;try{N=H.lookupNode(y,S)}catch{}if(N)for(var C in N.contents)throw new H.ErrnoError(55)}delete g.parent.contents[g.name],g.parent.timestamp=Date.now(),g.name=S,y.contents[S]=g,y.timestamp=g.parent.timestamp},unlink(g,y){delete g.contents[y],g.timestamp=Date.now()},rmdir(g,y){var S=H.lookupNode(g,y);for(var N in S.contents)throw new H.ErrnoError(55);delete g.contents[y],g.timestamp=Date.now()},readdir(g){var y=[".",".."];for(var S of Object.keys(g.contents))y.push(S);return y},symlink(g,y,S){var N=Jt.createNode(g,y,41471,0);return N.link=S,N},readlink(g){if(!H.isLink(g.mode))throw new H.ErrnoError(28);return g.link}},stream_ops:{read(g,y,S,N,C){var $=g.node.contents;if(C>=g.node.usedBytes)return 0;var fe=Math.min(g.node.usedBytes-C,N);if(fe>8&&$.subarray)y.set($.subarray(C,C+fe),S);else for(var me=0;me<fe;me++)y[S+me]=$[C+me];return fe},write(g,y,S,N,C,$){if(y.buffer===D.buffer&&($=!1),!N)return 0;var fe=g.node;if(fe.timestamp=Date.now(),y.subarray&&(!fe.contents||fe.contents.subarray)){if($)return fe.contents=y.subarray(S,S+N),fe.usedBytes=N,N;if(fe.usedBytes===0&&C===0)return fe.contents=y.slice(S,S+N),fe.usedBytes=N,N;if(C+N<=fe.usedBytes)return fe.contents.set(y.subarray(S,S+N),C),N}if(Jt.expandFileStorage(fe,C+N),fe.contents.subarray&&y.subarray)fe.contents.set(y.subarray(S,S+N),C);else for(var me=0;me<N;me++)fe.contents[C+me]=y[S+me];return fe.usedBytes=Math.max(fe.usedBytes,C+N),N},llseek(g,y,S){var N=y;if(S===1?N+=g.position:S===2&&H.isFile(g.node.mode)&&(N+=g.node.usedBytes),N<0)throw new H.ErrnoError(28);return N},allocate(g,y,S){Jt.expandFileStorage(g.node,y+S),g.node.usedBytes=Math.max(g.node.usedBytes,y+S)},mmap(g,y,S,N,C){if(!H.isFile(g.node.mode))throw new H.ErrnoError(43);var $,fe,me=g.node.contents;if(!(C&2)&&me&&me.buffer===D.buffer)fe=!1,$=me.byteOffset;else{if(fe=!0,$=Tr(y),!$)throw new H.ErrnoError(48);me&&((S>0||S+y<me.length)&&(me.subarray?me=me.subarray(S,S+y):me=Array.prototype.slice.call(me,S,S+y)),D.set(me,$))}return{ptr:$,allocated:fe}},msync(g,y,S,N,C){return Jt.stream_ops.write(g,y,0,N,S,!1),0}}},Qi=(g,y,S,N)=>{var C=`al ${g}`;_(g).then($=>{y(new Uint8Array($)),C&&Ne()},$=>{if(S)S();else throw`Loading data file "${g}" failed.`}),C&&we()},Gi=(g,y,S,N,C,$)=>{H.createDataFile(g,y,S,N,C,$)},Ji=r.preloadPlugins||[],uo=(g,y,S,N)=>{typeof Browser<"u"&&Browser.init();var C=!1;return Ji.forEach($=>{C||$.canHandle(y)&&($.handle(g,y,S,N),C=!0)}),C},la=(g,y,S,N,C,$,fe,me,Ke,tt)=>{var at=y?Ve.resolve(ve.join2(g,y)):g;function mt(Be){function qe(et){tt?.(),me||Gi(g,y,et,N,C,Ke),$?.(),Ne()}uo(Be,at,qe,()=>{fe?.(),Ne()})||qe(Be)}we(),typeof S=="string"?Qi(S,mt,fe):mt(S)},ac=g=>{var y={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},S=y[g];if(typeof S>"u")throw new Error(`Unknown file open mode: ${g}`);return S},Ds=(g,y)=>{var S=0;return g&&(S|=365),y&&(S|=146),S},H={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:class{constructor(g){this.name="ErrnoError",this.errno=g}},genericErrors:{},filesystems:null,syncFSRequests:0,FSStream:class{constructor(){this.shared={}}get object(){return this.node}set object(g){this.node=g}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(g){this.shared.flags=g}get position(){return this.shared.position}set position(g){this.shared.position=g}},FSNode:class{constructor(g,y,S,N){g||(g=this),this.parent=g,this.mount=g.mount,this.mounted=null,this.id=H.nextInode++,this.name=y,this.mode=S,this.node_ops={},this.stream_ops={},this.rdev=N,this.readMode=365,this.writeMode=146}get read(){return(this.mode&this.readMode)===this.readMode}set read(g){g?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(g){g?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return H.isDir(this.mode)}get isDevice(){return H.isChrdev(this.mode)}},lookupPath(g,y={}){if(g=Ve.resolve(g),!g)return{path:"",node:null};var S={follow_mount:!0,recurse_count:0};if(y=Object.assign(S,y),y.recurse_count>8)throw new H.ErrnoError(32);for(var N=g.split("/").filter(mt=>!!mt),C=H.root,$="/",fe=0;fe<N.length;fe++){var me=fe===N.length-1;if(me&&y.parent)break;if(C=H.lookupNode(C,N[fe]),$=ve.join2($,N[fe]),H.isMountpoint(C)&&(!me||me&&y.follow_mount)&&(C=C.mounted.root),!me||y.follow)for(var Ke=0;H.isLink(C.mode);){var tt=H.readlink($);$=Ve.resolve(ve.dirname($),tt);var at=H.lookupPath($,{recurse_count:y.recurse_count+1});if(C=at.node,Ke++>40)throw new H.ErrnoError(32)}}return{path:$,node:C}},getPath(g){for(var y;;){if(H.isRoot(g)){var S=g.mount.mountpoint;return y?S[S.length-1]!=="/"?`${S}/${y}`:S+y:S}y=y?`${g.name}/${y}`:g.name,g=g.parent}},hashName(g,y){for(var S=0,N=0;N<y.length;N++)S=(S<<5)-S+y.charCodeAt(N)|0;return(g+S>>>0)%H.nameTable.length},hashAddNode(g){var y=H.hashName(g.parent.id,g.name);g.name_next=H.nameTable[y],H.nameTable[y]=g},hashRemoveNode(g){var y=H.hashName(g.parent.id,g.name);if(H.nameTable[y]===g)H.nameTable[y]=g.name_next;else for(var S=H.nameTable[y];S;){if(S.name_next===g){S.name_next=g.name_next;break}S=S.name_next}},lookupNode(g,y){var S=H.mayLookup(g);if(S)throw new H.ErrnoError(S);for(var N=H.hashName(g.id,y),C=H.nameTable[N];C;C=C.name_next){var $=C.name;if(C.parent.id===g.id&&$===y)return C}return H.lookup(g,y)},createNode(g,y,S,N){var C=new H.FSNode(g,y,S,N);return H.hashAddNode(C),C},destroyNode(g){H.hashRemoveNode(g)},isRoot(g){return g===g.parent},isMountpoint(g){return!!g.mounted},isFile(g){return(g&61440)===32768},isDir(g){return(g&61440)===16384},isLink(g){return(g&61440)===40960},isChrdev(g){return(g&61440)===8192},isBlkdev(g){return(g&61440)===24576},isFIFO(g){return(g&61440)===4096},isSocket(g){return(g&49152)===49152},flagsToPermissionString(g){var y=["r","w","rw"][g&3];return g&512&&(y+="w"),y},nodePermissions(g,y){return H.ignorePermissions?0:y.includes("r")&&!(g.mode&292)||y.includes("w")&&!(g.mode&146)||y.includes("x")&&!(g.mode&73)?2:0},mayLookup(g){if(!H.isDir(g.mode))return 54;var y=H.nodePermissions(g,"x");return y||(g.node_ops.lookup?0:2)},mayCreate(g,y){try{var S=H.lookupNode(g,y);return 20}catch{}return H.nodePermissions(g,"wx")},mayDelete(g,y,S){var N;try{N=H.lookupNode(g,y)}catch($){return $.errno}var C=H.nodePermissions(g,"wx");if(C)return C;if(S){if(!H.isDir(N.mode))return 54;if(H.isRoot(N)||H.getPath(N)===H.cwd())return 10}else if(H.isDir(N.mode))return 31;return 0},mayOpen(g,y){return g?H.isLink(g.mode)?32:H.isDir(g.mode)&&(H.flagsToPermissionString(y)!=="r"||y&512)?31:H.nodePermissions(g,H.flagsToPermissionString(y)):44},MAX_OPEN_FDS:4096,nextfd(){for(var g=0;g<=H.MAX_OPEN_FDS;g++)if(!H.streams[g])return g;throw new H.ErrnoError(33)},getStreamChecked(g){var y=H.getStream(g);if(!y)throw new H.ErrnoError(8);return y},getStream:g=>H.streams[g],createStream(g,y=-1){return g=Object.assign(new H.FSStream,g),y==-1&&(y=H.nextfd()),g.fd=y,H.streams[y]=g,g},closeStream(g){H.streams[g]=null},dupStream(g,y=-1){var S=H.createStream(g,y);return S.stream_ops?.dup?.(S),S},chrdev_stream_ops:{open(g){var y=H.getDevice(g.node.rdev);g.stream_ops=y.stream_ops,g.stream_ops.open?.(g)},llseek(){throw new H.ErrnoError(70)}},major:g=>g>>8,minor:g=>g&255,makedev:(g,y)=>g<<8|y,registerDevice(g,y){H.devices[g]={stream_ops:y}},getDevice:g=>H.devices[g],getMounts(g){for(var y=[],S=[g];S.length;){var N=S.pop();y.push(N),S.push(...N.mounts)}return y},syncfs(g,y){typeof g=="function"&&(y=g,g=!1),H.syncFSRequests++,H.syncFSRequests>1&&T(`warning: ${H.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var S=H.getMounts(H.root.mount),N=0;function C(fe){return H.syncFSRequests--,y(fe)}function $(fe){if(fe)return $.errored?void 0:($.errored=!0,C(fe));++N>=S.length&&C(null)}S.forEach(fe=>{if(!fe.type.syncfs)return $(null);fe.type.syncfs(fe,g,$)})},mount(g,y,S){var N=S==="/",C=!S,$;if(N&&H.root)throw new H.ErrnoError(10);if(!N&&!C){var fe=H.lookupPath(S,{follow_mount:!1});if(S=fe.path,$=fe.node,H.isMountpoint($))throw new H.ErrnoError(10);if(!H.isDir($.mode))throw new H.ErrnoError(54)}var me={type:g,opts:y,mountpoint:S,mounts:[]},Ke=g.mount(me);return Ke.mount=me,me.root=Ke,N?H.root=Ke:$&&($.mounted=me,$.mount&&$.mount.mounts.push(me)),Ke},unmount(g){var y=H.lookupPath(g,{follow_mount:!1});if(!H.isMountpoint(y.node))throw new H.ErrnoError(28);var S=y.node,N=S.mounted,C=H.getMounts(N);Object.keys(H.nameTable).forEach(fe=>{for(var me=H.nameTable[fe];me;){var Ke=me.name_next;C.includes(me.mount)&&H.destroyNode(me),me=Ke}}),S.mounted=null;var $=S.mount.mounts.indexOf(N);S.mount.mounts.splice($,1)},lookup(g,y){return g.node_ops.lookup(g,y)},mknod(g,y,S){var N=H.lookupPath(g,{parent:!0}),C=N.node,$=ve.basename(g);if(!$||$==="."||$==="..")throw new H.ErrnoError(28);var fe=H.mayCreate(C,$);if(fe)throw new H.ErrnoError(fe);if(!C.node_ops.mknod)throw new H.ErrnoError(63);return C.node_ops.mknod(C,$,y,S)},create(g,y){return y=y!==void 0?y:438,y&=4095,y|=32768,H.mknod(g,y,0)},mkdir(g,y){return y=y!==void 0?y:511,y&=1023,y|=16384,H.mknod(g,y,0)},mkdirTree(g,y){for(var S=g.split("/"),N="",C=0;C<S.length;++C)if(S[C]){N+="/"+S[C];try{H.mkdir(N,y)}catch($){if($.errno!=20)throw $}}},mkdev(g,y,S){return typeof S>"u"&&(S=y,y=438),y|=8192,H.mknod(g,y,S)},symlink(g,y){if(!Ve.resolve(g))throw new H.ErrnoError(44);var S=H.lookupPath(y,{parent:!0}),N=S.node;if(!N)throw new H.ErrnoError(44);var C=ve.basename(y),$=H.mayCreate(N,C);if($)throw new H.ErrnoError($);if(!N.node_ops.symlink)throw new H.ErrnoError(63);return N.node_ops.symlink(N,C,g)},rename(g,y){var S=ve.dirname(g),N=ve.dirname(y),C=ve.basename(g),$=ve.basename(y),fe,me,Ke;if(fe=H.lookupPath(g,{parent:!0}),me=fe.node,fe=H.lookupPath(y,{parent:!0}),Ke=fe.node,!me||!Ke)throw new H.ErrnoError(44);if(me.mount!==Ke.mount)throw new H.ErrnoError(75);var tt=H.lookupNode(me,C),at=Ve.relative(g,N);if(at.charAt(0)!==".")throw new H.ErrnoError(28);if(at=Ve.relative(y,S),at.charAt(0)!==".")throw new H.ErrnoError(55);var mt;try{mt=H.lookupNode(Ke,$)}catch{}if(tt!==mt){var Be=H.isDir(tt.mode),qe=H.mayDelete(me,C,Be);if(qe)throw new H.ErrnoError(qe);if(qe=mt?H.mayDelete(Ke,$,Be):H.mayCreate(Ke,$),qe)throw new H.ErrnoError(qe);if(!me.node_ops.rename)throw new H.ErrnoError(63);if(H.isMountpoint(tt)||mt&&H.isMountpoint(mt))throw new H.ErrnoError(10);if(Ke!==me&&(qe=H.nodePermissions(me,"w"),qe))throw new H.ErrnoError(qe);H.hashRemoveNode(tt);try{me.node_ops.rename(tt,Ke,$),tt.parent=Ke}catch(et){throw et}finally{H.hashAddNode(tt)}}},rmdir(g){var y=H.lookupPath(g,{parent:!0}),S=y.node,N=ve.basename(g),C=H.lookupNode(S,N),$=H.mayDelete(S,N,!0);if($)throw new H.ErrnoError($);if(!S.node_ops.rmdir)throw new H.ErrnoError(63);if(H.isMountpoint(C))throw new H.ErrnoError(10);S.node_ops.rmdir(S,N),H.destroyNode(C)},readdir(g){var y=H.lookupPath(g,{follow:!0}),S=y.node;if(!S.node_ops.readdir)throw new H.ErrnoError(54);return S.node_ops.readdir(S)},unlink(g){var y=H.lookupPath(g,{parent:!0}),S=y.node;if(!S)throw new H.ErrnoError(44);var N=ve.basename(g),C=H.lookupNode(S,N),$=H.mayDelete(S,N,!1);if($)throw new H.ErrnoError($);if(!S.node_ops.unlink)throw new H.ErrnoError(63);if(H.isMountpoint(C))throw new H.ErrnoError(10);S.node_ops.unlink(S,N),H.destroyNode(C)},readlink(g){var y=H.lookupPath(g),S=y.node;if(!S)throw new H.ErrnoError(44);if(!S.node_ops.readlink)throw new H.ErrnoError(28);return Ve.resolve(H.getPath(S.parent),S.node_ops.readlink(S))},stat(g,y){var S=H.lookupPath(g,{follow:!y}),N=S.node;if(!N)throw new H.ErrnoError(44);if(!N.node_ops.getattr)throw new H.ErrnoError(63);return N.node_ops.getattr(N)},lstat(g){return H.stat(g,!0)},chmod(g,y,S){var N;if(typeof g=="string"){var C=H.lookupPath(g,{follow:!S});N=C.node}else N=g;if(!N.node_ops.setattr)throw new H.ErrnoError(63);N.node_ops.setattr(N,{mode:y&4095|N.mode&-4096,timestamp:Date.now()})},lchmod(g,y){H.chmod(g,y,!0)},fchmod(g,y){var S=H.getStreamChecked(g);H.chmod(S.node,y)},chown(g,y,S,N){var C;if(typeof g=="string"){var $=H.lookupPath(g,{follow:!N});C=$.node}else C=g;if(!C.node_ops.setattr)throw new H.ErrnoError(63);C.node_ops.setattr(C,{timestamp:Date.now()})},lchown(g,y,S){H.chown(g,y,S,!0)},fchown(g,y,S){var N=H.getStreamChecked(g);H.chown(N.node,y,S)},truncate(g,y){if(y<0)throw new H.ErrnoError(28);var S;if(typeof g=="string"){var N=H.lookupPath(g,{follow:!0});S=N.node}else S=g;if(!S.node_ops.setattr)throw new H.ErrnoError(63);if(H.isDir(S.mode))throw new H.ErrnoError(31);if(!H.isFile(S.mode))throw new H.ErrnoError(28);var C=H.nodePermissions(S,"w");if(C)throw new H.ErrnoError(C);S.node_ops.setattr(S,{size:y,timestamp:Date.now()})},ftruncate(g,y){var S=H.getStreamChecked(g);if(!(S.flags&2097155))throw new H.ErrnoError(28);H.truncate(S.node,y)},utime(g,y,S){var N=H.lookupPath(g,{follow:!0}),C=N.node;C.node_ops.setattr(C,{timestamp:Math.max(y,S)})},open(g,y,S){if(g==="")throw new H.ErrnoError(44);y=typeof y=="string"?ac(y):y,y&64?(S=typeof S>"u"?438:S,S=S&4095|32768):S=0;var N;if(typeof g=="object")N=g;else{g=ve.normalize(g);try{var C=H.lookupPath(g,{follow:!(y&131072)});N=C.node}catch{}}var $=!1;if(y&64)if(N){if(y&128)throw new H.ErrnoError(20)}else N=H.mknod(g,S,0),$=!0;if(!N)throw new H.ErrnoError(44);if(H.isChrdev(N.mode)&&(y&=-513),y&65536&&!H.isDir(N.mode))throw new H.ErrnoError(54);if(!$){var fe=H.mayOpen(N,y);if(fe)throw new H.ErrnoError(fe)}y&512&&!$&&H.truncate(N,0),y&=-131713;var me=H.createStream({node:N,path:H.getPath(N),flags:y,seekable:!0,position:0,stream_ops:N.stream_ops,ungotten:[],error:!1});return me.stream_ops.open&&me.stream_ops.open(me),r.logReadFiles&&!(y&1)&&(H.readFiles||(H.readFiles={}),g in H.readFiles||(H.readFiles[g]=1)),me},close(g){if(H.isClosed(g))throw new H.ErrnoError(8);g.getdents&&(g.getdents=null);try{g.stream_ops.close&&g.stream_ops.close(g)}catch(y){throw y}finally{H.closeStream(g.fd)}g.fd=null},isClosed(g){return g.fd===null},llseek(g,y,S){if(H.isClosed(g))throw new H.ErrnoError(8);if(!g.seekable||!g.stream_ops.llseek)throw new H.ErrnoError(70);if(S!=0&&S!=1&&S!=2)throw new H.ErrnoError(28);return g.position=g.stream_ops.llseek(g,y,S),g.ungotten=[],g.position},read(g,y,S,N,C){if(N<0||C<0)throw new H.ErrnoError(28);if(H.isClosed(g))throw new H.ErrnoError(8);if((g.flags&2097155)===1)throw new H.ErrnoError(8);if(H.isDir(g.node.mode))throw new H.ErrnoError(31);if(!g.stream_ops.read)throw new H.ErrnoError(28);var $=typeof C<"u";if(!$)C=g.position;else if(!g.seekable)throw new H.ErrnoError(70);var fe=g.stream_ops.read(g,y,S,N,C);return $||(g.position+=fe),fe},write(g,y,S,N,C,$){if(N<0||C<0)throw new H.ErrnoError(28);if(H.isClosed(g))throw new H.ErrnoError(8);if(!(g.flags&2097155))throw new H.ErrnoError(8);if(H.isDir(g.node.mode))throw new H.ErrnoError(31);if(!g.stream_ops.write)throw new H.ErrnoError(28);g.seekable&&g.flags&1024&&H.llseek(g,0,2);var fe=typeof C<"u";if(!fe)C=g.position;else if(!g.seekable)throw new H.ErrnoError(70);var me=g.stream_ops.write(g,y,S,N,C,$);return fe||(g.position+=me),me},allocate(g,y,S){if(H.isClosed(g))throw new H.ErrnoError(8);if(y<0||S<=0)throw new H.ErrnoError(28);if(!(g.flags&2097155))throw new H.ErrnoError(8);if(!H.isFile(g.node.mode)&&!H.isDir(g.node.mode))throw new H.ErrnoError(43);if(!g.stream_ops.allocate)throw new H.ErrnoError(138);g.stream_ops.allocate(g,y,S)},mmap(g,y,S,N,C){if(N&2&&!(C&2)&&(g.flags&2097155)!==2)throw new H.ErrnoError(2);if((g.flags&2097155)===1)throw new H.ErrnoError(2);if(!g.stream_ops.mmap)throw new H.ErrnoError(43);if(!y)throw new H.ErrnoError(28);return g.stream_ops.mmap(g,y,S,N,C)},msync(g,y,S,N,C){return g.stream_ops.msync?g.stream_ops.msync(g,y,S,N,C):0},ioctl(g,y,S){if(!g.stream_ops.ioctl)throw new H.ErrnoError(59);return g.stream_ops.ioctl(g,y,S)},readFile(g,y={}){if(y.flags=y.flags||0,y.encoding=y.encoding||"binary",y.encoding!=="utf8"&&y.encoding!=="binary")throw new Error(`Invalid encoding type "${y.encoding}"`);var S,N=H.open(g,y.flags),C=H.stat(g),$=C.size,fe=new Uint8Array($);return H.read(N,fe,0,$,0),y.encoding==="utf8"?S=Me(fe,0):y.encoding==="binary"&&(S=fe),H.close(N),S},writeFile(g,y,S={}){S.flags=S.flags||577;var N=H.open(g,S.flags,S.mode);if(typeof y=="string"){var C=new Uint8Array(Qt(y)+1),$=Gt(y,C,0,C.length);H.write(N,C,0,$,void 0,S.canOwn)}else if(ArrayBuffer.isView(y))H.write(N,y,0,y.byteLength,void 0,S.canOwn);else throw new Error("Unsupported data type");H.close(N)},cwd:()=>H.currentPath,chdir(g){var y=H.lookupPath(g,{follow:!0});if(y.node===null)throw new H.ErrnoError(44);if(!H.isDir(y.node.mode))throw new H.ErrnoError(54);var S=H.nodePermissions(y.node,"x");if(S)throw new H.ErrnoError(S);H.currentPath=y.path},createDefaultDirectories(){H.mkdir("/tmp"),H.mkdir("/home"),H.mkdir("/home/web_user")},createDefaultDevices(){H.mkdir("/dev"),H.registerDevice(H.makedev(1,3),{read:()=>0,write:(N,C,$,fe,me)=>fe}),H.mkdev("/dev/null",H.makedev(1,3)),Fn.register(H.makedev(5,0),Fn.default_tty_ops),Fn.register(H.makedev(6,0),Fn.default_tty1_ops),H.mkdev("/dev/tty",H.makedev(5,0)),H.mkdev("/dev/tty1",H.makedev(6,0));var g=new Uint8Array(1024),y=0,S=()=>(y===0&&(y=Ae(g).byteLength),g[--y]);H.createDevice("/dev","random",S),H.createDevice("/dev","urandom",S),H.mkdir("/dev/shm"),H.mkdir("/dev/shm/tmp")},createSpecialDirectories(){H.mkdir("/proc");var g=H.mkdir("/proc/self");H.mkdir("/proc/self/fd"),H.mount({mount(){var y=H.createNode(g,"fd",16895,73);return y.node_ops={lookup(S,N){var C=+N,$=H.getStreamChecked(C),fe={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>$.path}};return fe.parent=fe,fe}},y}},{},"/proc/self/fd")},createStandardStreams(g,y,S){g?H.createDevice("/dev","stdin",g):H.symlink("/dev/tty","/dev/stdin"),y?H.createDevice("/dev","stdout",null,y):H.symlink("/dev/tty","/dev/stdout"),S?H.createDevice("/dev","stderr",null,S):H.symlink("/dev/tty1","/dev/stderr"),H.open("/dev/stdin",0),H.open("/dev/stdout",1),H.open("/dev/stderr",1)},staticInit(){[44].forEach(g=>{H.genericErrors[g]=new H.ErrnoError(g),H.genericErrors[g].stack="<generic error, no stack>"}),H.nameTable=new Array(4096),H.mount(Jt,{},"/"),H.createDefaultDirectories(),H.createDefaultDevices(),H.createSpecialDirectories(),H.filesystems={MEMFS:Jt}},init(g,y,S){H.initialized=!0,g??=r.stdin,y??=r.stdout,S??=r.stderr,H.createStandardStreams(g,y,S)},quit(){H.initialized=!1;for(var g=0;g<H.streams.length;g++){var y=H.streams[g];y&&H.close(y)}},findObject(g,y){var S=H.analyzePath(g,y);return S.exists?S.object:null},analyzePath(g,y){try{var S=H.lookupPath(g,{follow:!y});g=S.path}catch{}var N={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var S=H.lookupPath(g,{parent:!0});N.parentExists=!0,N.parentPath=S.path,N.parentObject=S.node,N.name=ve.basename(g),S=H.lookupPath(g,{follow:!y}),N.exists=!0,N.path=S.path,N.object=S.node,N.name=S.node.name,N.isRoot=S.path==="/"}catch(C){N.error=C.errno}return N},createPath(g,y,S,N){g=typeof g=="string"?g:H.getPath(g);for(var C=y.split("/").reverse();C.length;){var $=C.pop();if($){var fe=ve.join2(g,$);try{H.mkdir(fe)}catch{}g=fe}}return fe},createFile(g,y,S,N,C){var $=ve.join2(typeof g=="string"?g:H.getPath(g),y),fe=Ds(N,C);return H.create($,fe)},createDataFile(g,y,S,N,C,$){var fe=y;g&&(g=typeof g=="string"?g:H.getPath(g),fe=y?ve.join2(g,y):g);var me=Ds(N,C),Ke=H.create(fe,me);if(S){if(typeof S=="string"){for(var tt=new Array(S.length),at=0,mt=S.length;at<mt;++at)tt[at]=S.charCodeAt(at);S=tt}H.chmod(Ke,me|146);var Be=H.open(Ke,577);H.write(Be,S,0,S.length,0,$),H.close(Be),H.chmod(Ke,me)}},createDevice(g,y,S,N){var C=ve.join2(typeof g=="string"?g:H.getPath(g),y),$=Ds(!!S,!!N);H.createDevice.major||(H.createDevice.major=64);var fe=H.makedev(H.createDevice.major++,0);return H.registerDevice(fe,{open(me){me.seekable=!1},close(me){N?.buffer?.length&&N(10)},read(me,Ke,tt,at,mt){for(var Be=0,qe=0;qe<at;qe++){var et;try{et=S()}catch{throw new H.ErrnoError(29)}if(et===void 0&&Be===0)throw new H.ErrnoError(6);if(et==null)break;Be++,Ke[tt+qe]=et}return Be&&(me.node.timestamp=Date.now()),Be},write(me,Ke,tt,at,mt){for(var Be=0;Be<at;Be++)try{N(Ke[tt+Be])}catch{throw new H.ErrnoError(29)}return at&&(me.node.timestamp=Date.now()),Be}}),H.mkdev(C,$,fe)},forceLoadFile(g){if(g.isDevice||g.isFolder||g.link||g.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{g.contents=E(g.url),g.usedBytes=g.contents.length}catch{throw new H.ErrnoError(29)}},createLazyFile(g,y,S,N,C){class ${constructor(){this.lengthKnown=!1,this.chunks=[]}get(qe){if(!(qe>this.length-1||qe<0)){var et=qe%this.chunkSize,be=qe/this.chunkSize|0;return this.getter(be)[et]}}setDataGetter(qe){this.getter=qe}cacheLength(){var qe=new XMLHttpRequest;if(qe.open("HEAD",S,!1),qe.send(null),!(qe.status>=200&&qe.status<300||qe.status===304))throw new Error("Couldn't load "+S+". Status: "+qe.status);var et=Number(qe.getResponseHeader("Content-length")),be,Ie=(be=qe.getResponseHeader("Accept-Ranges"))&&be==="bytes",Te=(be=qe.getResponseHeader("Content-Encoding"))&&be==="gzip",Ze=1024*1024;Ie||(Ze=et);var Ge=(Qe,St)=>{if(Qe>St)throw new Error("invalid range ("+Qe+", "+St+") or no bytes requested!");if(St>et-1)throw new Error("only "+et+" bytes available! programmer error!");var Y=new XMLHttpRequest;if(Y.open("GET",S,!1),et!==Ze&&Y.setRequestHeader("Range","bytes="+Qe+"-"+St),Y.responseType="arraybuffer",Y.overrideMimeType&&Y.overrideMimeType("text/plain; charset=x-user-defined"),Y.send(null),!(Y.status>=200&&Y.status<300||Y.status===304))throw new Error("Couldn't load "+S+". Status: "+Y.status);return Y.response!==void 0?new Uint8Array(Y.response||[]):hn(Y.responseText||"")},Oe=this;Oe.setDataGetter(Qe=>{var St=Qe*Ze,Y=(Qe+1)*Ze-1;if(Y=Math.min(Y,et-1),typeof Oe.chunks[Qe]>"u"&&(Oe.chunks[Qe]=Ge(St,Y)),typeof Oe.chunks[Qe]>"u")throw new Error("doXHR failed!");return Oe.chunks[Qe]}),(Te||!et)&&(Ze=et=1,et=this.getter(0).length,Ze=et,I("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=et,this._chunkSize=Ze,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){if(!u)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var fe=new $,me={isDevice:!1,contents:fe}}else var me={isDevice:!1,url:S};var Ke=H.createFile(g,y,me,N,C);me.contents?Ke.contents=me.contents:me.url&&(Ke.contents=null,Ke.url=me.url),Object.defineProperties(Ke,{usedBytes:{get:function(){return this.contents.length}}});var tt={},at=Object.keys(Ke.stream_ops);at.forEach(Be=>{var qe=Ke.stream_ops[Be];tt[Be]=(...et)=>(H.forceLoadFile(Ke),qe(...et))});function mt(Be,qe,et,be,Ie){var Te=Be.node.contents;if(Ie>=Te.length)return 0;var Ze=Math.min(Te.length-Ie,be);if(Te.slice)for(var Ge=0;Ge<Ze;Ge++)qe[et+Ge]=Te[Ie+Ge];else for(var Ge=0;Ge<Ze;Ge++)qe[et+Ge]=Te.get(Ie+Ge);return Ze}return tt.read=(Be,qe,et,be,Ie)=>(H.forceLoadFile(Ke),mt(Be,qe,et,be,Ie)),tt.mmap=(Be,qe,et,be,Ie)=>{H.forceLoadFile(Ke);var Te=Tr(qe);if(!Te)throw new H.ErrnoError(48);return mt(Be,D,Te,qe,et),{ptr:Te,allocated:!0}},Ke.stream_ops=tt,Ke}},pu=(g,y)=>g?Me(L,g,y):"",un={DEFAULT_POLLMASK:5,calculateAt(g,y,S){if(ve.isAbs(y))return y;var N;if(g===-100)N=H.cwd();else{var C=un.getStreamFromFD(g);N=C.path}if(y.length==0){if(!S)throw new H.ErrnoError(44);return N}return ve.join2(N,y)},doStat(g,y,S){var N=g(y);P[S>>2]=N.dev,P[S+4>>2]=N.mode,q[S+8>>2]=N.nlink,P[S+12>>2]=N.uid,P[S+16>>2]=N.gid,P[S+20>>2]=N.rdev,M[S+24>>3]=BigInt(N.size),P[S+32>>2]=4096,P[S+36>>2]=N.blocks;var C=N.atime.getTime(),$=N.mtime.getTime(),fe=N.ctime.getTime();return M[S+40>>3]=BigInt(Math.floor(C/1e3)),q[S+48>>2]=C%1e3*1e3*1e3,M[S+56>>3]=BigInt(Math.floor($/1e3)),q[S+64>>2]=$%1e3*1e3*1e3,M[S+72>>3]=BigInt(Math.floor(fe/1e3)),q[S+80>>2]=fe%1e3*1e3*1e3,M[S+88>>3]=BigInt(N.ino),0},doMsync(g,y,S,N,C){if(!H.isFile(y.node.mode))throw new H.ErrnoError(43);if(N&2)return 0;var $=L.slice(g,g+S);H.msync(y,$,C,S,N)},getStreamFromFD(g){var y=H.getStreamChecked(g);return y},varargs:void 0,getStr(g){var y=pu(g);return y}};function hu(g,y){try{return g=un.getStr(g),H.chmod(g,y),0}catch(S){if(typeof H>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}function mu(g,y,S,N){try{if(y=un.getStr(y),y=un.calculateAt(g,y),S&-8)return-28;var C=H.lookupPath(y,{follow:!0}),$=C.node;if(!$)return-44;var fe="";return S&4&&(fe+="r"),S&2&&(fe+="w"),S&1&&(fe+="x"),fe&&H.nodePermissions($,fe)?-2:0}catch(me){if(typeof H>"u"||me.name!=="ErrnoError")throw me;return-me.errno}}function gu(g,y){try{return H.fchmod(g,y),0}catch(S){if(typeof H>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}function lc(g,y,S){try{return H.fchown(g,y,S),0}catch(N){if(typeof H>"u"||N.name!=="ErrnoError")throw N;return-N.errno}}function ca(){var g=P[+un.varargs>>2];return un.varargs+=4,g}var Zi=ca;function cc(g,y,S){un.varargs=S;try{var N=un.getStreamFromFD(g);switch(y){case 0:{var C=ca();if(C<0)return-28;for(;H.streams[C];)C++;var $;return $=H.dupStream(N,C),$.fd}case 1:case 2:return 0;case 3:return N.flags;case 4:{var C=ca();return N.flags|=C,0}case 12:{var C=Zi(),fe=0;return z[C+fe>>1]=2,0}case 13:case 14:return 0}return-28}catch(me){if(typeof H>"u"||me.name!=="ErrnoError")throw me;return-me.errno}}function ua(g,y){try{var S=un.getStreamFromFD(g);return un.doStat(H.stat,S.path,y)}catch(N){if(typeof H>"u"||N.name!=="ErrnoError")throw N;return-N.errno}}var _f=0x20000000000000,da=-0x20000000000000,Ls=g=>g<da||g>_f?NaN:Number(g);function Ha(g,y){y=Ls(y);try{return isNaN(y)?61:(H.ftruncate(g,y),0)}catch(S){if(typeof H>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}var Ms=(g,y,S)=>Gt(g,L,y,S);function Sf(g,y){try{if(y===0)return-28;var S=H.cwd(),N=Qt(S)+1;return y<N?-68:(Ms(S,g,y),N)}catch(C){if(typeof H>"u"||C.name!=="ErrnoError")throw C;return-C.errno}}function Ef(g,y,S){un.varargs=S;try{var N=un.getStreamFromFD(g);switch(y){case 21509:return N.tty?0:-59;case 21505:{if(!N.tty)return-59;if(N.tty.ops.ioctl_tcgets){var C=N.tty.ops.ioctl_tcgets(N),$=Zi();P[$>>2]=C.c_iflag||0,P[$+4>>2]=C.c_oflag||0,P[$+8>>2]=C.c_cflag||0,P[$+12>>2]=C.c_lflag||0;for(var fe=0;fe<32;fe++)D[$+fe+17]=C.c_cc[fe]||0;return 0}return 0}case 21510:case 21511:case 21512:return N.tty?0:-59;case 21506:case 21507:case 21508:{if(!N.tty)return-59;if(N.tty.ops.ioctl_tcsets){for(var $=Zi(),me=P[$>>2],Ke=P[$+4>>2],tt=P[$+8>>2],at=P[$+12>>2],mt=[],fe=0;fe<32;fe++)mt.push(D[$+fe+17]);return N.tty.ops.ioctl_tcsets(N.tty,y,{c_iflag:me,c_oflag:Ke,c_cflag:tt,c_lflag:at,c_cc:mt})}return 0}case 21519:{if(!N.tty)return-59;var $=Zi();return P[$>>2]=0,0}case 21520:return N.tty?-28:-59;case 21531:{var $=Zi();return H.ioctl(N,y,$)}case 21523:{if(!N.tty)return-59;if(N.tty.ops.ioctl_tiocgwinsz){var Be=N.tty.ops.ioctl_tiocgwinsz(N.tty),$=Zi();z[$>>1]=Be[0],z[$+2>>1]=Be[1]}return 0}case 21524:return N.tty?0:-59;case 21515:return N.tty?0:-59;default:return-28}}catch(qe){if(typeof H>"u"||qe.name!=="ErrnoError")throw qe;return-qe.errno}}function yu(g,y){try{return g=un.getStr(g),un.doStat(H.lstat,g,y)}catch(S){if(typeof H>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}function $s(g,y,S){try{return y=un.getStr(y),y=un.calculateAt(g,y),y=ve.normalize(y),y[y.length-1]==="/"&&(y=y.substr(0,y.length-1)),H.mkdir(y,S,0),0}catch(N){if(typeof H>"u"||N.name!=="ErrnoError")throw N;return-N.errno}}function vu(g,y,S,N){try{y=un.getStr(y);var C=N&256,$=N&4096;return N=N&-6401,y=un.calculateAt(g,y,$),un.doStat(C?H.lstat:H.stat,y,S)}catch(fe){if(typeof H>"u"||fe.name!=="ErrnoError")throw fe;return-fe.errno}}function bu(g,y,S,N){un.varargs=N;try{y=un.getStr(y),y=un.calculateAt(g,y);var C=N?ca():0;return H.open(y,S,C).fd}catch($){if(typeof H>"u"||$.name!=="ErrnoError")throw $;return-$.errno}}function Nf(g,y,S,N){try{if(y=un.getStr(y),y=un.calculateAt(g,y),N<=0)return-28;var C=H.readlink(y),$=Math.min(N,Qt(C)),fe=D[S+$];return Ms(C,S,N+1),D[S+$]=fe,$}catch(me){if(typeof H>"u"||me.name!=="ErrnoError")throw me;return-me.errno}}function xu(g){try{return g=un.getStr(g),H.rmdir(g),0}catch(y){if(typeof H>"u"||y.name!=="ErrnoError")throw y;return-y.errno}}function wu(g,y){try{return g=un.getStr(g),un.doStat(H.stat,g,y)}catch(S){if(typeof H>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}function _u(g,y,S){try{return y=un.getStr(y),y=un.calculateAt(g,y),S===0?H.unlink(y):S===512?H.rmdir(y):ze("Invalid flags passed to unlinkat"),0}catch(N){if(typeof H>"u"||N.name!=="ErrnoError")throw N;return-N.errno}}var uc=g=>q[g>>2]+P[g+4>>2]*0x100000000;function Su(g,y,S,N){try{y=un.getStr(y),y=un.calculateAt(g,y,!0);var C=Date.now(),$,fe;if(!S)$=C,fe=C;else{var me=uc(S),Ke=P[S+8>>2];Ke==0x3fffffff?$=C:Ke==0x3ffffffe?$=-1:$=me*1e3+Ke/(1e3*1e3),S+=16,me=uc(S),Ke=P[S+8>>2],Ke==0x3fffffff?fe=C:Ke==0x3ffffffe?fe=-1:fe=me*1e3+Ke/(1e3*1e3)}return(fe!=-1||$!=-1)&&H.utime(y,$,fe),0}catch(tt){if(typeof H>"u"||tt.name!=="ErrnoError")throw tt;return-tt.errno}}var kf=1,dr=()=>kf,If=g=>g%4===0&&(g%100!==0||g%400===0),dc=[0,31,60,91,121,152,182,213,244,274,305,335],Eu=[0,31,59,90,120,151,181,212,243,273,304,334],Ka=g=>{var y=If(g.getFullYear()),S=y?dc:Eu,N=S[g.getMonth()]+g.getDate()-1;return N};function Cf(g,y){g=Ls(g);var S=new Date(g*1e3);P[y>>2]=S.getSeconds(),P[y+4>>2]=S.getMinutes(),P[y+8>>2]=S.getHours(),P[y+12>>2]=S.getDate(),P[y+16>>2]=S.getMonth(),P[y+20>>2]=S.getFullYear()-1900,P[y+24>>2]=S.getDay();var N=Ka(S)|0;P[y+28>>2]=N,P[y+36>>2]=-(S.getTimezoneOffset()*60);var C=new Date(S.getFullYear(),0,1),$=new Date(S.getFullYear(),6,1).getTimezoneOffset(),fe=C.getTimezoneOffset(),me=($!=fe&&S.getTimezoneOffset()==Math.min(fe,$))|0;P[y+32>>2]=me}function fc(g,y,S,N,C,$,fe){C=Ls(C);try{if(isNaN(C))return 61;var me=un.getStreamFromFD(N),Ke=H.mmap(me,g,C,y,S),tt=Ke.ptr;return P[$>>2]=Ke.allocated,q[fe>>2]=tt,0}catch(at){if(typeof H>"u"||at.name!=="ErrnoError")throw at;return-at.errno}}function Qa(g,y,S,N,C,$){$=Ls($);try{var fe=un.getStreamFromFD(C);S&2&&un.doMsync(g,fe,y,N,$)}catch(me){if(typeof H>"u"||me.name!=="ErrnoError")throw me;return-me.errno}}var Yi=(g,y,S,N)=>{var C=new Date().getFullYear(),$=new Date(C,0,1),fe=new Date(C,6,1),me=$.getTimezoneOffset(),Ke=fe.getTimezoneOffset(),tt=Math.max(me,Ke);q[g>>2]=tt*60,P[y>>2]=+(me!=Ke);var at=qe=>{var et=qe>=0?"-":"+",be=Math.abs(qe),Ie=String(Math.floor(be/60)).padStart(2,"0"),Te=String(be%60).padStart(2,"0");return`UTC${et}${Ie}${Te}`},mt=at(me),Be=at(Ke);Ke<me?(Ms(mt,S,17),Ms(Be,N,17)):(Ms(mt,N,17),Ms(Be,S,17))},Tf=()=>Date.now(),mi;mi=()=>performance.now();var Of=()=>0x80000000,Rf=g=>{var y=R.buffer,S=(g-y.byteLength+65535)/65536;try{return R.grow(S),F(),1}catch{}},qf=g=>{var y=L.length;g>>>=0;var S=Of();if(g>S)return!1;for(var N=1;N<=4;N*=2){var C=y*(1+.2/N);C=Math.min(C,g+0x6000000);var $=Math.min(S,Oi(Math.max(g,C),65536)),fe=Rf($);if(fe)return!0}return!1},Lo={},Ga=()=>h||"./this.program",Ri=()=>{if(!Ri.strings){var g=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",y={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:g,_:Ga()};for(var S in Lo)Lo[S]===void 0?delete y[S]:y[S]=Lo[S];var N=[];for(var S in y)N.push(`${S}=${y[S]}`);Ri.strings=N}return Ri.strings},Ja=(g,y)=>{for(var S=0;S<g.length;++S)D[y++]=g.charCodeAt(S);D[y]=0},fx=(g,y)=>{var S=0;return Ri().forEach((N,C)=>{var $=y+S;q[g+C*4>>2]=$,Ja(N,$),S+=N.length+1}),0},px=(g,y)=>{var S=Ri();q[g>>2]=S.length;var N=0;return S.forEach(C=>N+=C.length+1),q[y>>2]=N,0};function jf(g){try{var y=un.getStreamFromFD(g);return H.close(y),0}catch(S){if(typeof H>"u"||S.name!=="ErrnoError")throw S;return S.errno}}function Rm(g,y){try{var S=0,N=0,C=0,$=un.getStreamFromFD(g),fe=$.tty?2:H.isDir($.mode)?3:H.isLink($.mode)?7:4;return D[y]=fe,z[y+2>>1]=C,M[y+8>>3]=BigInt(S),M[y+16>>3]=BigInt(N),0}catch(me){if(typeof H>"u"||me.name!=="ErrnoError")throw me;return me.errno}}var Af=(g,y,S,N)=>{for(var C=0,$=0;$<S;$++){var fe=q[y>>2],me=q[y+4>>2];y+=8;var Ke=H.read(g,D,fe,me,N);if(Ke<0)return-1;if(C+=Ke,Ke<me)break}return C};function pc(g,y,S,N){try{var C=un.getStreamFromFD(g),$=Af(C,y,S);return q[N>>2]=$,0}catch(fe){if(typeof H>"u"||fe.name!=="ErrnoError")throw fe;return fe.errno}}function hx(g,y,S,N){y=Ls(y);try{if(isNaN(y))return 61;var C=un.getStreamFromFD(g);return H.llseek(C,y,S),M[N>>3]=BigInt(C.position),C.getdents&&y===0&&S===0&&(C.getdents=null),0}catch($){if(typeof H>"u"||$.name!=="ErrnoError")throw $;return $.errno}}function Pf(g){try{var y=un.getStreamFromFD(g);return y.stream_ops?.fsync?y.stream_ops.fsync(y):0}catch(S){if(typeof H>"u"||S.name!=="ErrnoError")throw S;return S.errno}}var Dn=(g,y,S,N)=>{for(var C=0,$=0;$<S;$++){var fe=q[y>>2],me=q[y+4>>2];y+=8;var Ke=H.write(g,D,fe,me,N);if(Ke<0)return-1;if(C+=Ke,Ke<me)break}return C};function qm(g,y,S,N){try{var C=un.getStreamFromFD(g),$=Dn(C,y,S);return q[N>>2]=$,0}catch(fe){if(typeof H>"u"||fe.name!=="ErrnoError")throw fe;return fe.errno}}H.createPreloadedFile=la,H.staticInit();var Ff={__syscall_chmod:hu,__syscall_faccessat:mu,__syscall_fchmod:gu,__syscall_fchown32:lc,__syscall_fcntl64:cc,__syscall_fstat64:ua,__syscall_ftruncate64:Ha,__syscall_getcwd:Sf,__syscall_ioctl:Ef,__syscall_lstat64:yu,__syscall_mkdirat:$s,__syscall_newfstatat:vu,__syscall_openat:bu,__syscall_readlinkat:Nf,__syscall_rmdir:xu,__syscall_stat64:wu,__syscall_unlinkat:_u,__syscall_utimensat:Su,_emscripten_get_now_is_monotonic:dr,_localtime_js:Cf,_mmap_js:fc,_munmap_js:Qa,_tzset_js:Yi,emscripten_date_now:Tf,emscripten_get_now:mi,emscripten_resize_heap:qf,environ_get:fx,environ_sizes_get:px,fd_close:jf,fd_fdstat_get:Rm,fd_read:pc,fd_seek:hx,fd_sync:Pf,fd_write:qm,memory:R},he=nn();r._sqlite3_status64=(g,y,S,N)=>(r._sqlite3_status64=he.sqlite3_status64)(g,y,S,N),r._sqlite3_status=(g,y,S,N)=>(r._sqlite3_status=he.sqlite3_status)(g,y,S,N),r._sqlite3_db_status=(g,y,S,N,C)=>(r._sqlite3_db_status=he.sqlite3_db_status)(g,y,S,N,C),r._sqlite3_msize=g=>(r._sqlite3_msize=he.sqlite3_msize)(g),r._sqlite3_vfs_find=g=>(r._sqlite3_vfs_find=he.sqlite3_vfs_find)(g),r._sqlite3_initialize=()=>(r._sqlite3_initialize=he.sqlite3_initialize)(),r._sqlite3_malloc=g=>(r._sqlite3_malloc=he.sqlite3_malloc)(g),r._sqlite3_free=g=>(r._sqlite3_free=he.sqlite3_free)(g),r._sqlite3_vfs_register=(g,y)=>(r._sqlite3_vfs_register=he.sqlite3_vfs_register)(g,y),r._sqlite3_vfs_unregister=g=>(r._sqlite3_vfs_unregister=he.sqlite3_vfs_unregister)(g),r._sqlite3_malloc64=g=>(r._sqlite3_malloc64=he.sqlite3_malloc64)(g),r._sqlite3_realloc=(g,y)=>(r._sqlite3_realloc=he.sqlite3_realloc)(g,y),r._sqlite3_realloc64=(g,y)=>(r._sqlite3_realloc64=he.sqlite3_realloc64)(g,y),r._sqlite3_value_text=g=>(r._sqlite3_value_text=he.sqlite3_value_text)(g),r._sqlite3_randomness=(g,y)=>(r._sqlite3_randomness=he.sqlite3_randomness)(g,y),r._sqlite3_stricmp=(g,y)=>(r._sqlite3_stricmp=he.sqlite3_stricmp)(g,y),r._sqlite3_strnicmp=(g,y,S)=>(r._sqlite3_strnicmp=he.sqlite3_strnicmp)(g,y,S),r._sqlite3_uri_parameter=(g,y)=>(r._sqlite3_uri_parameter=he.sqlite3_uri_parameter)(g,y),r._sqlite3_uri_boolean=(g,y,S)=>(r._sqlite3_uri_boolean=he.sqlite3_uri_boolean)(g,y,S),r._sqlite3_serialize=(g,y,S,N)=>(r._sqlite3_serialize=he.sqlite3_serialize)(g,y,S,N),r._sqlite3_prepare_v2=(g,y,S,N,C)=>(r._sqlite3_prepare_v2=he.sqlite3_prepare_v2)(g,y,S,N,C),r._sqlite3_step=g=>(r._sqlite3_step=he.sqlite3_step)(g),r._sqlite3_column_int64=(g,y)=>(r._sqlite3_column_int64=he.sqlite3_column_int64)(g,y),r._sqlite3_reset=g=>(r._sqlite3_reset=he.sqlite3_reset)(g),r._sqlite3_exec=(g,y,S,N,C)=>(r._sqlite3_exec=he.sqlite3_exec)(g,y,S,N,C),r._sqlite3_column_int=(g,y)=>(r._sqlite3_column_int=he.sqlite3_column_int)(g,y),r._sqlite3_finalize=g=>(r._sqlite3_finalize=he.sqlite3_finalize)(g),r._sqlite3_file_control=(g,y,S,N)=>(r._sqlite3_file_control=he.sqlite3_file_control)(g,y,S,N),r._sqlite3_column_name=(g,y)=>(r._sqlite3_column_name=he.sqlite3_column_name)(g,y),r._sqlite3_column_text=(g,y)=>(r._sqlite3_column_text=he.sqlite3_column_text)(g,y),r._sqlite3_column_type=(g,y)=>(r._sqlite3_column_type=he.sqlite3_column_type)(g,y),r._sqlite3_errmsg=g=>(r._sqlite3_errmsg=he.sqlite3_errmsg)(g),r._sqlite3_deserialize=(g,y,S,N,C,$)=>(r._sqlite3_deserialize=he.sqlite3_deserialize)(g,y,S,N,C,$),r._sqlite3_clear_bindings=g=>(r._sqlite3_clear_bindings=he.sqlite3_clear_bindings)(g),r._sqlite3_value_blob=g=>(r._sqlite3_value_blob=he.sqlite3_value_blob)(g),r._sqlite3_value_bytes=g=>(r._sqlite3_value_bytes=he.sqlite3_value_bytes)(g),r._sqlite3_value_double=g=>(r._sqlite3_value_double=he.sqlite3_value_double)(g),r._sqlite3_value_int=g=>(r._sqlite3_value_int=he.sqlite3_value_int)(g),r._sqlite3_value_int64=g=>(r._sqlite3_value_int64=he.sqlite3_value_int64)(g),r._sqlite3_value_subtype=g=>(r._sqlite3_value_subtype=he.sqlite3_value_subtype)(g),r._sqlite3_value_pointer=(g,y)=>(r._sqlite3_value_pointer=he.sqlite3_value_pointer)(g,y),r._sqlite3_value_type=g=>(r._sqlite3_value_type=he.sqlite3_value_type)(g),r._sqlite3_value_nochange=g=>(r._sqlite3_value_nochange=he.sqlite3_value_nochange)(g),r._sqlite3_value_frombind=g=>(r._sqlite3_value_frombind=he.sqlite3_value_frombind)(g),r._sqlite3_value_dup=g=>(r._sqlite3_value_dup=he.sqlite3_value_dup)(g),r._sqlite3_value_free=g=>(r._sqlite3_value_free=he.sqlite3_value_free)(g),r._sqlite3_result_blob=(g,y,S,N)=>(r._sqlite3_result_blob=he.sqlite3_result_blob)(g,y,S,N),r._sqlite3_result_error_toobig=g=>(r._sqlite3_result_error_toobig=he.sqlite3_result_error_toobig)(g),r._sqlite3_result_error_nomem=g=>(r._sqlite3_result_error_nomem=he.sqlite3_result_error_nomem)(g),r._sqlite3_result_double=(g,y)=>(r._sqlite3_result_double=he.sqlite3_result_double)(g,y),r._sqlite3_result_error=(g,y,S)=>(r._sqlite3_result_error=he.sqlite3_result_error)(g,y,S),r._sqlite3_result_int=(g,y)=>(r._sqlite3_result_int=he.sqlite3_result_int)(g,y),r._sqlite3_result_int64=(g,y)=>(r._sqlite3_result_int64=he.sqlite3_result_int64)(g,y),r._sqlite3_result_null=g=>(r._sqlite3_result_null=he.sqlite3_result_null)(g),r._sqlite3_result_pointer=(g,y,S,N)=>(r._sqlite3_result_pointer=he.sqlite3_result_pointer)(g,y,S,N),r._sqlite3_result_subtype=(g,y)=>(r._sqlite3_result_subtype=he.sqlite3_result_subtype)(g,y),r._sqlite3_result_text=(g,y,S,N)=>(r._sqlite3_result_text=he.sqlite3_result_text)(g,y,S,N),r._sqlite3_result_zeroblob=(g,y)=>(r._sqlite3_result_zeroblob=he.sqlite3_result_zeroblob)(g,y),r._sqlite3_result_zeroblob64=(g,y)=>(r._sqlite3_result_zeroblob64=he.sqlite3_result_zeroblob64)(g,y),r._sqlite3_result_error_code=(g,y)=>(r._sqlite3_result_error_code=he.sqlite3_result_error_code)(g,y),r._sqlite3_user_data=g=>(r._sqlite3_user_data=he.sqlite3_user_data)(g),r._sqlite3_context_db_handle=g=>(r._sqlite3_context_db_handle=he.sqlite3_context_db_handle)(g),r._sqlite3_vtab_nochange=g=>(r._sqlite3_vtab_nochange=he.sqlite3_vtab_nochange)(g),r._sqlite3_vtab_in_first=(g,y)=>(r._sqlite3_vtab_in_first=he.sqlite3_vtab_in_first)(g,y),r._sqlite3_vtab_in_next=(g,y)=>(r._sqlite3_vtab_in_next=he.sqlite3_vtab_in_next)(g,y),r._sqlite3_aggregate_context=(g,y)=>(r._sqlite3_aggregate_context=he.sqlite3_aggregate_context)(g,y),r._sqlite3_get_auxdata=(g,y)=>(r._sqlite3_get_auxdata=he.sqlite3_get_auxdata)(g,y),r._sqlite3_set_auxdata=(g,y,S,N)=>(r._sqlite3_set_auxdata=he.sqlite3_set_auxdata)(g,y,S,N),r._sqlite3_column_count=g=>(r._sqlite3_column_count=he.sqlite3_column_count)(g),r._sqlite3_data_count=g=>(r._sqlite3_data_count=he.sqlite3_data_count)(g),r._sqlite3_column_blob=(g,y)=>(r._sqlite3_column_blob=he.sqlite3_column_blob)(g,y),r._sqlite3_column_bytes=(g,y)=>(r._sqlite3_column_bytes=he.sqlite3_column_bytes)(g,y),r._sqlite3_column_double=(g,y)=>(r._sqlite3_column_double=he.sqlite3_column_double)(g,y),r._sqlite3_column_value=(g,y)=>(r._sqlite3_column_value=he.sqlite3_column_value)(g,y),r._sqlite3_column_decltype=(g,y)=>(r._sqlite3_column_decltype=he.sqlite3_column_decltype)(g,y),r._sqlite3_bind_blob=(g,y,S,N,C)=>(r._sqlite3_bind_blob=he.sqlite3_bind_blob)(g,y,S,N,C),r._sqlite3_bind_double=(g,y,S)=>(r._sqlite3_bind_double=he.sqlite3_bind_double)(g,y,S),r._sqlite3_bind_int=(g,y,S)=>(r._sqlite3_bind_int=he.sqlite3_bind_int)(g,y,S),r._sqlite3_bind_int64=(g,y,S)=>(r._sqlite3_bind_int64=he.sqlite3_bind_int64)(g,y,S),r._sqlite3_bind_null=(g,y)=>(r._sqlite3_bind_null=he.sqlite3_bind_null)(g,y),r._sqlite3_bind_pointer=(g,y,S,N,C)=>(r._sqlite3_bind_pointer=he.sqlite3_bind_pointer)(g,y,S,N,C),r._sqlite3_bind_text=(g,y,S,N,C)=>(r._sqlite3_bind_text=he.sqlite3_bind_text)(g,y,S,N,C),r._sqlite3_bind_parameter_count=g=>(r._sqlite3_bind_parameter_count=he.sqlite3_bind_parameter_count)(g),r._sqlite3_bind_parameter_name=(g,y)=>(r._sqlite3_bind_parameter_name=he.sqlite3_bind_parameter_name)(g,y),r._sqlite3_bind_parameter_index=(g,y)=>(r._sqlite3_bind_parameter_index=he.sqlite3_bind_parameter_index)(g,y),r._sqlite3_db_handle=g=>(r._sqlite3_db_handle=he.sqlite3_db_handle)(g),r._sqlite3_stmt_readonly=g=>(r._sqlite3_stmt_readonly=he.sqlite3_stmt_readonly)(g),r._sqlite3_stmt_isexplain=g=>(r._sqlite3_stmt_isexplain=he.sqlite3_stmt_isexplain)(g),r._sqlite3_stmt_explain=(g,y)=>(r._sqlite3_stmt_explain=he.sqlite3_stmt_explain)(g,y),r._sqlite3_stmt_busy=g=>(r._sqlite3_stmt_busy=he.sqlite3_stmt_busy)(g),r._sqlite3_stmt_status=(g,y,S)=>(r._sqlite3_stmt_status=he.sqlite3_stmt_status)(g,y,S),r._sqlite3_sql=g=>(r._sqlite3_sql=he.sqlite3_sql)(g),r._sqlite3_expanded_sql=g=>(r._sqlite3_expanded_sql=he.sqlite3_expanded_sql)(g),r._sqlite3_preupdate_old=(g,y,S)=>(r._sqlite3_preupdate_old=he.sqlite3_preupdate_old)(g,y,S),r._sqlite3_preupdate_count=g=>(r._sqlite3_preupdate_count=he.sqlite3_preupdate_count)(g),r._sqlite3_preupdate_depth=g=>(r._sqlite3_preupdate_depth=he.sqlite3_preupdate_depth)(g),r._sqlite3_preupdate_blobwrite=g=>(r._sqlite3_preupdate_blobwrite=he.sqlite3_preupdate_blobwrite)(g),r._sqlite3_preupdate_new=(g,y,S)=>(r._sqlite3_preupdate_new=he.sqlite3_preupdate_new)(g,y,S),r._sqlite3_value_numeric_type=g=>(r._sqlite3_value_numeric_type=he.sqlite3_value_numeric_type)(g),r._sqlite3_set_authorizer=(g,y,S)=>(r._sqlite3_set_authorizer=he.sqlite3_set_authorizer)(g,y,S),r._sqlite3_strglob=(g,y)=>(r._sqlite3_strglob=he.sqlite3_strglob)(g,y),r._sqlite3_strlike=(g,y,S)=>(r._sqlite3_strlike=he.sqlite3_strlike)(g,y,S),r._sqlite3_auto_extension=g=>(r._sqlite3_auto_extension=he.sqlite3_auto_extension)(g),r._sqlite3_cancel_auto_extension=g=>(r._sqlite3_cancel_auto_extension=he.sqlite3_cancel_auto_extension)(g),r._sqlite3_reset_auto_extension=()=>(r._sqlite3_reset_auto_extension=he.sqlite3_reset_auto_extension)(),r._sqlite3_prepare_v3=(g,y,S,N,C,$)=>(r._sqlite3_prepare_v3=he.sqlite3_prepare_v3)(g,y,S,N,C,$),r._sqlite3_create_module=(g,y,S,N)=>(r._sqlite3_create_module=he.sqlite3_create_module)(g,y,S,N),r._sqlite3_create_module_v2=(g,y,S,N,C)=>(r._sqlite3_create_module_v2=he.sqlite3_create_module_v2)(g,y,S,N,C),r._sqlite3_drop_modules=(g,y)=>(r._sqlite3_drop_modules=he.sqlite3_drop_modules)(g,y),r._sqlite3_declare_vtab=(g,y)=>(r._sqlite3_declare_vtab=he.sqlite3_declare_vtab)(g,y),r._sqlite3_vtab_on_conflict=g=>(r._sqlite3_vtab_on_conflict=he.sqlite3_vtab_on_conflict)(g),r._sqlite3_vtab_collation=(g,y)=>(r._sqlite3_vtab_collation=he.sqlite3_vtab_collation)(g,y),r._sqlite3_vtab_in=(g,y,S)=>(r._sqlite3_vtab_in=he.sqlite3_vtab_in)(g,y,S),r._sqlite3_vtab_rhs_value=(g,y,S)=>(r._sqlite3_vtab_rhs_value=he.sqlite3_vtab_rhs_value)(g,y,S),r._sqlite3_vtab_distinct=g=>(r._sqlite3_vtab_distinct=he.sqlite3_vtab_distinct)(g),r._sqlite3_keyword_name=(g,y,S)=>(r._sqlite3_keyword_name=he.sqlite3_keyword_name)(g,y,S),r._sqlite3_keyword_count=()=>(r._sqlite3_keyword_count=he.sqlite3_keyword_count)(),r._sqlite3_keyword_check=(g,y)=>(r._sqlite3_keyword_check=he.sqlite3_keyword_check)(g,y),r._sqlite3_complete=g=>(r._sqlite3_complete=he.sqlite3_complete)(g),r._sqlite3_libversion=()=>(r._sqlite3_libversion=he.sqlite3_libversion)(),r._sqlite3_libversion_number=()=>(r._sqlite3_libversion_number=he.sqlite3_libversion_number)(),r._sqlite3_shutdown=()=>(r._sqlite3_shutdown=he.sqlite3_shutdown)(),r._sqlite3_last_insert_rowid=g=>(r._sqlite3_last_insert_rowid=he.sqlite3_last_insert_rowid)(g),r._sqlite3_set_last_insert_rowid=(g,y)=>(r._sqlite3_set_last_insert_rowid=he.sqlite3_set_last_insert_rowid)(g,y),r._sqlite3_changes64=g=>(r._sqlite3_changes64=he.sqlite3_changes64)(g),r._sqlite3_changes=g=>(r._sqlite3_changes=he.sqlite3_changes)(g),r._sqlite3_total_changes64=g=>(r._sqlite3_total_changes64=he.sqlite3_total_changes64)(g),r._sqlite3_total_changes=g=>(r._sqlite3_total_changes=he.sqlite3_total_changes)(g),r._sqlite3_txn_state=(g,y)=>(r._sqlite3_txn_state=he.sqlite3_txn_state)(g,y),r._sqlite3_close_v2=g=>(r._sqlite3_close_v2=he.sqlite3_close_v2)(g),r._sqlite3_busy_handler=(g,y,S)=>(r._sqlite3_busy_handler=he.sqlite3_busy_handler)(g,y,S),r._sqlite3_progress_handler=(g,y,S,N)=>(r._sqlite3_progress_handler=he.sqlite3_progress_handler)(g,y,S,N),r._sqlite3_busy_timeout=(g,y)=>(r._sqlite3_busy_timeout=he.sqlite3_busy_timeout)(g,y),r._sqlite3_interrupt=g=>(r._sqlite3_interrupt=he.sqlite3_interrupt)(g),r._sqlite3_is_interrupted=g=>(r._sqlite3_is_interrupted=he.sqlite3_is_interrupted)(g),r._sqlite3_create_function=(g,y,S,N,C,$,fe,me)=>(r._sqlite3_create_function=he.sqlite3_create_function)(g,y,S,N,C,$,fe,me),r._sqlite3_create_function_v2=(g,y,S,N,C,$,fe,me,Ke)=>(r._sqlite3_create_function_v2=he.sqlite3_create_function_v2)(g,y,S,N,C,$,fe,me,Ke),r._sqlite3_create_window_function=(g,y,S,N,C,$,fe,me,Ke,tt)=>(r._sqlite3_create_window_function=he.sqlite3_create_window_function)(g,y,S,N,C,$,fe,me,Ke,tt),r._sqlite3_overload_function=(g,y,S)=>(r._sqlite3_overload_function=he.sqlite3_overload_function)(g,y,S),r._sqlite3_trace_v2=(g,y,S,N)=>(r._sqlite3_trace_v2=he.sqlite3_trace_v2)(g,y,S,N),r._sqlite3_commit_hook=(g,y,S)=>(r._sqlite3_commit_hook=he.sqlite3_commit_hook)(g,y,S),r._sqlite3_update_hook=(g,y,S)=>(r._sqlite3_update_hook=he.sqlite3_update_hook)(g,y,S),r._sqlite3_rollback_hook=(g,y,S)=>(r._sqlite3_rollback_hook=he.sqlite3_rollback_hook)(g,y,S),r._sqlite3_preupdate_hook=(g,y,S)=>(r._sqlite3_preupdate_hook=he.sqlite3_preupdate_hook)(g,y,S),r._sqlite3_error_offset=g=>(r._sqlite3_error_offset=he.sqlite3_error_offset)(g),r._sqlite3_errcode=g=>(r._sqlite3_errcode=he.sqlite3_errcode)(g),r._sqlite3_extended_errcode=g=>(r._sqlite3_extended_errcode=he.sqlite3_extended_errcode)(g),r._sqlite3_errstr=g=>(r._sqlite3_errstr=he.sqlite3_errstr)(g),r._sqlite3_limit=(g,y,S)=>(r._sqlite3_limit=he.sqlite3_limit)(g,y,S),r._sqlite3_open=(g,y)=>(r._sqlite3_open=he.sqlite3_open)(g,y),r._sqlite3_open_v2=(g,y,S,N)=>(r._sqlite3_open_v2=he.sqlite3_open_v2)(g,y,S,N),r._sqlite3_create_collation=(g,y,S,N,C)=>(r._sqlite3_create_collation=he.sqlite3_create_collation)(g,y,S,N,C),r._sqlite3_create_collation_v2=(g,y,S,N,C,$)=>(r._sqlite3_create_collation_v2=he.sqlite3_create_collation_v2)(g,y,S,N,C,$),r._sqlite3_collation_needed=(g,y,S)=>(r._sqlite3_collation_needed=he.sqlite3_collation_needed)(g,y,S),r._sqlite3_get_autocommit=g=>(r._sqlite3_get_autocommit=he.sqlite3_get_autocommit)(g),r._sqlite3_table_column_metadata=(g,y,S,N,C,$,fe,me,Ke)=>(r._sqlite3_table_column_metadata=he.sqlite3_table_column_metadata)(g,y,S,N,C,$,fe,me,Ke),r._sqlite3_extended_result_codes=(g,y)=>(r._sqlite3_extended_result_codes=he.sqlite3_extended_result_codes)(g,y),r._sqlite3_uri_key=(g,y)=>(r._sqlite3_uri_key=he.sqlite3_uri_key)(g,y),r._sqlite3_uri_int64=(g,y,S)=>(r._sqlite3_uri_int64=he.sqlite3_uri_int64)(g,y,S),r._sqlite3_db_name=(g,y)=>(r._sqlite3_db_name=he.sqlite3_db_name)(g,y),r._sqlite3_db_filename=(g,y)=>(r._sqlite3_db_filename=he.sqlite3_db_filename)(g,y),r._sqlite3_db_readonly=(g,y)=>(r._sqlite3_db_readonly=he.sqlite3_db_readonly)(g,y),r._sqlite3_compileoption_used=g=>(r._sqlite3_compileoption_used=he.sqlite3_compileoption_used)(g),r._sqlite3_compileoption_get=g=>(r._sqlite3_compileoption_get=he.sqlite3_compileoption_get)(g),r._sqlite3session_diff=(g,y,S,N)=>(r._sqlite3session_diff=he.sqlite3session_diff)(g,y,S,N),r._sqlite3session_attach=(g,y)=>(r._sqlite3session_attach=he.sqlite3session_attach)(g,y),r._sqlite3session_create=(g,y,S)=>(r._sqlite3session_create=he.sqlite3session_create)(g,y,S),r._sqlite3session_delete=g=>(r._sqlite3session_delete=he.sqlite3session_delete)(g),r._sqlite3session_table_filter=(g,y,S)=>(r._sqlite3session_table_filter=he.sqlite3session_table_filter)(g,y,S),r._sqlite3session_changeset=(g,y,S)=>(r._sqlite3session_changeset=he.sqlite3session_changeset)(g,y,S),r._sqlite3session_changeset_strm=(g,y,S)=>(r._sqlite3session_changeset_strm=he.sqlite3session_changeset_strm)(g,y,S),r._sqlite3session_patchset_strm=(g,y,S)=>(r._sqlite3session_patchset_strm=he.sqlite3session_patchset_strm)(g,y,S),r._sqlite3session_patchset=(g,y,S)=>(r._sqlite3session_patchset=he.sqlite3session_patchset)(g,y,S),r._sqlite3session_enable=(g,y)=>(r._sqlite3session_enable=he.sqlite3session_enable)(g,y),r._sqlite3session_indirect=(g,y)=>(r._sqlite3session_indirect=he.sqlite3session_indirect)(g,y),r._sqlite3session_isempty=g=>(r._sqlite3session_isempty=he.sqlite3session_isempty)(g),r._sqlite3session_memory_used=g=>(r._sqlite3session_memory_used=he.sqlite3session_memory_used)(g),r._sqlite3session_object_config=(g,y,S)=>(r._sqlite3session_object_config=he.sqlite3session_object_config)(g,y,S),r._sqlite3session_changeset_size=g=>(r._sqlite3session_changeset_size=he.sqlite3session_changeset_size)(g),r._sqlite3changeset_start=(g,y,S)=>(r._sqlite3changeset_start=he.sqlite3changeset_start)(g,y,S),r._sqlite3changeset_start_v2=(g,y,S,N)=>(r._sqlite3changeset_start_v2=he.sqlite3changeset_start_v2)(g,y,S,N),r._sqlite3changeset_start_strm=(g,y,S)=>(r._sqlite3changeset_start_strm=he.sqlite3changeset_start_strm)(g,y,S),r._sqlite3changeset_start_v2_strm=(g,y,S,N)=>(r._sqlite3changeset_start_v2_strm=he.sqlite3changeset_start_v2_strm)(g,y,S,N),r._sqlite3changeset_next=g=>(r._sqlite3changeset_next=he.sqlite3changeset_next)(g),r._sqlite3changeset_op=(g,y,S,N,C)=>(r._sqlite3changeset_op=he.sqlite3changeset_op)(g,y,S,N,C),r._sqlite3changeset_pk=(g,y,S)=>(r._sqlite3changeset_pk=he.sqlite3changeset_pk)(g,y,S),r._sqlite3changeset_old=(g,y,S)=>(r._sqlite3changeset_old=he.sqlite3changeset_old)(g,y,S),r._sqlite3changeset_new=(g,y,S)=>(r._sqlite3changeset_new=he.sqlite3changeset_new)(g,y,S),r._sqlite3changeset_conflict=(g,y,S)=>(r._sqlite3changeset_conflict=he.sqlite3changeset_conflict)(g,y,S),r._sqlite3changeset_fk_conflicts=(g,y)=>(r._sqlite3changeset_fk_conflicts=he.sqlite3changeset_fk_conflicts)(g,y),r._sqlite3changeset_finalize=g=>(r._sqlite3changeset_finalize=he.sqlite3changeset_finalize)(g),r._sqlite3changeset_invert=(g,y,S,N)=>(r._sqlite3changeset_invert=he.sqlite3changeset_invert)(g,y,S,N),r._sqlite3changeset_invert_strm=(g,y,S,N)=>(r._sqlite3changeset_invert_strm=he.sqlite3changeset_invert_strm)(g,y,S,N),r._sqlite3changeset_apply_v2=(g,y,S,N,C,$,fe,me,Ke)=>(r._sqlite3changeset_apply_v2=he.sqlite3changeset_apply_v2)(g,y,S,N,C,$,fe,me,Ke),r._sqlite3changeset_apply=(g,y,S,N,C,$)=>(r._sqlite3changeset_apply=he.sqlite3changeset_apply)(g,y,S,N,C,$),r._sqlite3changeset_apply_v2_strm=(g,y,S,N,C,$,fe,me,Ke)=>(r._sqlite3changeset_apply_v2_strm=he.sqlite3changeset_apply_v2_strm)(g,y,S,N,C,$,fe,me,Ke),r._sqlite3changeset_apply_strm=(g,y,S,N,C,$)=>(r._sqlite3changeset_apply_strm=he.sqlite3changeset_apply_strm)(g,y,S,N,C,$),r._sqlite3changegroup_new=g=>(r._sqlite3changegroup_new=he.sqlite3changegroup_new)(g),r._sqlite3changegroup_add=(g,y,S)=>(r._sqlite3changegroup_add=he.sqlite3changegroup_add)(g,y,S),r._sqlite3changegroup_output=(g,y,S)=>(r._sqlite3changegroup_output=he.sqlite3changegroup_output)(g,y,S),r._sqlite3changegroup_add_strm=(g,y,S)=>(r._sqlite3changegroup_add_strm=he.sqlite3changegroup_add_strm)(g,y,S),r._sqlite3changegroup_output_strm=(g,y,S)=>(r._sqlite3changegroup_output_strm=he.sqlite3changegroup_output_strm)(g,y,S),r._sqlite3changegroup_delete=g=>(r._sqlite3changegroup_delete=he.sqlite3changegroup_delete)(g),r._sqlite3changeset_concat=(g,y,S,N,C,$)=>(r._sqlite3changeset_concat=he.sqlite3changeset_concat)(g,y,S,N,C,$),r._sqlite3changeset_concat_strm=(g,y,S,N,C,$)=>(r._sqlite3changeset_concat_strm=he.sqlite3changeset_concat_strm)(g,y,S,N,C,$),r._sqlite3session_config=(g,y)=>(r._sqlite3session_config=he.sqlite3session_config)(g,y),r._sqlite3_sourceid=()=>(r._sqlite3_sourceid=he.sqlite3_sourceid)(),r._sqlite3__wasm_pstack_ptr=()=>(r._sqlite3__wasm_pstack_ptr=he.sqlite3__wasm_pstack_ptr)(),r._sqlite3__wasm_pstack_restore=g=>(r._sqlite3__wasm_pstack_restore=he.sqlite3__wasm_pstack_restore)(g),r._sqlite3__wasm_pstack_alloc=g=>(r._sqlite3__wasm_pstack_alloc=he.sqlite3__wasm_pstack_alloc)(g),r._sqlite3__wasm_pstack_remaining=()=>(r._sqlite3__wasm_pstack_remaining=he.sqlite3__wasm_pstack_remaining)(),r._sqlite3__wasm_pstack_quota=()=>(r._sqlite3__wasm_pstack_quota=he.sqlite3__wasm_pstack_quota)(),r._sqlite3__wasm_db_error=(g,y,S)=>(r._sqlite3__wasm_db_error=he.sqlite3__wasm_db_error)(g,y,S),r._sqlite3__wasm_test_struct=g=>(r._sqlite3__wasm_test_struct=he.sqlite3__wasm_test_struct)(g),r._sqlite3__wasm_enum_json=()=>(r._sqlite3__wasm_enum_json=he.sqlite3__wasm_enum_json)(),r._sqlite3__wasm_vfs_unlink=(g,y)=>(r._sqlite3__wasm_vfs_unlink=he.sqlite3__wasm_vfs_unlink)(g,y),r._sqlite3__wasm_db_vfs=(g,y)=>(r._sqlite3__wasm_db_vfs=he.sqlite3__wasm_db_vfs)(g,y),r._sqlite3__wasm_db_reset=g=>(r._sqlite3__wasm_db_reset=he.sqlite3__wasm_db_reset)(g),r._sqlite3__wasm_db_export_chunked=(g,y)=>(r._sqlite3__wasm_db_export_chunked=he.sqlite3__wasm_db_export_chunked)(g,y),r._sqlite3__wasm_db_serialize=(g,y,S,N,C)=>(r._sqlite3__wasm_db_serialize=he.sqlite3__wasm_db_serialize)(g,y,S,N,C),r._sqlite3__wasm_vfs_create_file=(g,y,S,N)=>(r._sqlite3__wasm_vfs_create_file=he.sqlite3__wasm_vfs_create_file)(g,y,S,N),r._sqlite3__wasm_posix_create_file=(g,y,S)=>(r._sqlite3__wasm_posix_create_file=he.sqlite3__wasm_posix_create_file)(g,y,S),r._sqlite3__wasm_kvvfsMakeKeyOnPstack=(g,y)=>(r._sqlite3__wasm_kvvfsMakeKeyOnPstack=he.sqlite3__wasm_kvvfsMakeKeyOnPstack)(g,y),r._sqlite3__wasm_kvvfs_methods=()=>(r._sqlite3__wasm_kvvfs_methods=he.sqlite3__wasm_kvvfs_methods)(),r._sqlite3__wasm_vtab_config=(g,y,S)=>(r._sqlite3__wasm_vtab_config=he.sqlite3__wasm_vtab_config)(g,y,S),r._sqlite3__wasm_db_config_ip=(g,y,S,N)=>(r._sqlite3__wasm_db_config_ip=he.sqlite3__wasm_db_config_ip)(g,y,S,N),r._sqlite3__wasm_db_config_pii=(g,y,S,N,C)=>(r._sqlite3__wasm_db_config_pii=he.sqlite3__wasm_db_config_pii)(g,y,S,N,C),r._sqlite3__wasm_db_config_s=(g,y,S)=>(r._sqlite3__wasm_db_config_s=he.sqlite3__wasm_db_config_s)(g,y,S),r._sqlite3__wasm_config_i=(g,y)=>(r._sqlite3__wasm_config_i=he.sqlite3__wasm_config_i)(g,y),r._sqlite3__wasm_config_ii=(g,y,S)=>(r._sqlite3__wasm_config_ii=he.sqlite3__wasm_config_ii)(g,y,S),r._sqlite3__wasm_config_j=(g,y)=>(r._sqlite3__wasm_config_j=he.sqlite3__wasm_config_j)(g,y),r._sqlite3__wasm_qfmt_token=(g,y)=>(r._sqlite3__wasm_qfmt_token=he.sqlite3__wasm_qfmt_token)(g,y),r._sqlite3__wasm_init_wasmfs=g=>(r._sqlite3__wasm_init_wasmfs=he.sqlite3__wasm_init_wasmfs)(g),r._sqlite3__wasm_test_intptr=g=>(r._sqlite3__wasm_test_intptr=he.sqlite3__wasm_test_intptr)(g),r._sqlite3__wasm_test_voidptr=g=>(r._sqlite3__wasm_test_voidptr=he.sqlite3__wasm_test_voidptr)(g),r._sqlite3__wasm_test_int64_max=()=>(r._sqlite3__wasm_test_int64_max=he.sqlite3__wasm_test_int64_max)(),r._sqlite3__wasm_test_int64_min=()=>(r._sqlite3__wasm_test_int64_min=he.sqlite3__wasm_test_int64_min)(),r._sqlite3__wasm_test_int64_times2=g=>(r._sqlite3__wasm_test_int64_times2=he.sqlite3__wasm_test_int64_times2)(g),r._sqlite3__wasm_test_int64_minmax=(g,y)=>(r._sqlite3__wasm_test_int64_minmax=he.sqlite3__wasm_test_int64_minmax)(g,y),r._sqlite3__wasm_test_int64ptr=g=>(r._sqlite3__wasm_test_int64ptr=he.sqlite3__wasm_test_int64ptr)(g),r._sqlite3__wasm_test_stack_overflow=g=>(r._sqlite3__wasm_test_stack_overflow=he.sqlite3__wasm_test_stack_overflow)(g),r._sqlite3__wasm_test_str_hello=g=>(r._sqlite3__wasm_test_str_hello=he.sqlite3__wasm_test_str_hello)(g),r._sqlite3__wasm_SQLTester_strglob=(g,y)=>(r._sqlite3__wasm_SQLTester_strglob=he.sqlite3__wasm_SQLTester_strglob)(g,y),r._malloc=g=>(r._malloc=he.malloc)(g),r._free=g=>(r._free=he.free)(g),r._realloc=(g,y)=>(r._realloc=he.realloc)(g,y);var Df=(g,y)=>(Df=he.emscripten_builtin_memalign)(g,y);r.wasmMemory=R;var hc;de=function g(){hc||Lf(),hc||(de=g)};function Lf(){if(ue>0||(Z(),ue>0))return;function g(){hc||(hc=!0,r.calledRun=!0,!A&&(le(),i(r),r.onRuntimeInitialized?.(),se()))}r.setStatus?(r.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>r.setStatus(""),1),g()},1)):g()}if(r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return Lf(),r.postRun||(r.postRun=[]),r.postRun.push(function(g){if(globalThis.sqlite3ApiBootstrap=function y(S=globalThis.sqlite3ApiConfig||y.defaultConfig){if(y.sqlite3)return(y.sqlite3.config||console).warn("sqlite3ApiBootstrap() called multiple times.","Config and external initializers are ignored on calls after the first."),y.sqlite3;const N=Object.assign(Object.create(null),{exports:void 0,memory:void 0,bigIntEnabled:typeof g<"u"&&g.HEAPU64?!0:!!globalThis.BigInt64Array,debug:console.debug.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),log:console.log.bind(console),wasmfsOpfsDir:"/opfs",useStdAlloc:!1},S||{});Object.assign(N,{allocExportName:N.useStdAlloc?"malloc":"sqlite3_malloc",deallocExportName:N.useStdAlloc?"free":"sqlite3_free",reallocExportName:N.useStdAlloc?"realloc":"sqlite3_realloc"},N),["exports","memory","wasmfsOpfsDir"].forEach(K=>{typeof N[K]=="function"&&(N[K]=N[K]())}),delete globalThis.sqlite3ApiConfig,delete y.defaultConfig;const C=Object.create(null),$=Object.create(null),fe=K=>C.sqlite3_js_rc_str&&C.sqlite3_js_rc_str(K)||"Unknown result code #"+K,me=K=>typeof K=="number"&&K===(K|0);class Ke extends Error{constructor(...re){let ie;if(re.length)if(me(re[0]))if(ie=re[0],re.length===1)super(fe(re[0]));else{const Le=fe(ie);typeof re[1]=="object"?super(Le,re[1]):(re[0]=Le+":",super(re.join(" ")))}else re.length===2&&typeof re[1]=="object"?super(...re):super(re.join(" "));this.resultCode=ie||C.SQLITE_ERROR,this.name="SQLite3Error"}}Ke.toss=(...K)=>{throw new Ke(...K)};const tt=Ke.toss;N.wasmfsOpfsDir&&!/^\/[^/]+$/.test(N.wasmfsOpfsDir)&&tt("config.wasmfsOpfsDir must be falsy or in the form '/dir-name'.");const at=K=>typeof K!="bigint"&&K===(K|0)&&K<=0x7fffffff&&K>=-0x80000000,mt=function K(re){return K._max||(K._max=BigInt("0x7fffffffffffffff"),K._min=~K._max),re>=K._min&&re<=K._max},Be=K=>K>=-2147483647n-1n&&K<=2147483647n,qe=function K(re){return K._min||(K._min=Number.MIN_SAFE_INTEGER,K._max=Number.MAX_SAFE_INTEGER),re>=K._min&&re<=K._max},et=K=>K&&K.constructor&&at(K.constructor.BYTES_PER_ELEMENT)?K:!1,be=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,Ie=K=>K.buffer instanceof be,Te=(K,re,ie)=>Ie(K)?K.slice(re,ie):K.subarray(re,ie),Ze=K=>K&&(K instanceof Uint8Array||K instanceof Int8Array||K instanceof ArrayBuffer),Ge=K=>K&&(K instanceof Uint8Array||K instanceof Int8Array||K instanceof ArrayBuffer),Oe=K=>Ze(K)||tt("Value is not of a supported TypedArray type."),Qe=new TextDecoder("utf-8"),St=function(K,re,ie){return Qe.decode(Te(K,re,ie))},Y=function(K){return Ge(K)?St(K instanceof ArrayBuffer?new Uint8Array(K):K):Array.isArray(K)?K.join(""):($.isPtr(K)&&(K=$.cstrToJs(K)),K)};class ce extends Error{constructor(...re){re.length===2&&typeof re[1]=="object"?super(...re):re.length?super(re.join(" ")):super("Allocation failed."),this.resultCode=C.SQLITE_NOMEM,this.name="WasmAllocError"}}ce.toss=(...K)=>{throw new ce(...K)},Object.assign(C,{sqlite3_bind_blob:void 0,sqlite3_bind_text:void 0,sqlite3_create_function_v2:(K,re,ie,Le,it,Rt,Bt,Zt,lt)=>{},sqlite3_create_function:(K,re,ie,Le,it,Rt,Bt,Zt)=>{},sqlite3_create_window_function:(K,re,ie,Le,it,Rt,Bt,Zt,lt,_e)=>{},sqlite3_prepare_v3:(K,re,ie,Le,it,Rt)=>{},sqlite3_prepare_v2:(K,re,ie,Le,it)=>{},sqlite3_exec:(K,re,ie,Le,it)=>{},sqlite3_randomness:(K,re)=>{}});const Ee={affirmBindableTypedArray:Oe,flexibleString:Y,bigIntFits32:Be,bigIntFits64:mt,bigIntFitsDouble:qe,isBindableTypedArray:Ze,isInt32:at,isSQLableTypedArray:Ge,isTypedArray:et,typedArrayToString:St,isUIThread:()=>globalThis.window===globalThis&&!!globalThis.document,isSharedTypedArray:Ie,toss:function(...K){throw new Error(K.join(" "))},toss3:tt,typedArrayPart:Te,affirmDbHeader:function(K){K instanceof ArrayBuffer&&(K=new Uint8Array(K));const re="SQLite format 3";re.length>K.byteLength&&tt("Input does not contain an SQLite3 database header.");for(let ie=0;ie<re.length;++ie)re.charCodeAt(ie)!==K[ie]&&tt("Input does not contain an SQLite3 database header.")},affirmIsDb:function(K){K instanceof ArrayBuffer&&(K=new Uint8Array(K));const re=K.byteLength;(re<512||re%512!==0)&&tt("Byte array size",re,"is invalid for an SQLite3 db."),Ee.affirmDbHeader(K)}};Object.assign($,{ptrSizeof:N.wasmPtrSizeof||4,ptrIR:N.wasmPtrIR||"i32",bigIntEnabled:!!N.bigIntEnabled,exports:N.exports||tt("Missing API config.exports (WASM module exports)."),memory:N.memory||N.exports.memory||tt("API config object requires a WebAssembly.Memory object","in either config.exports.memory (exported)","or config.memory (imported)."),alloc:void 0,realloc:void 0,dealloc:void 0}),$.allocFromTypedArray=function(K){K instanceof ArrayBuffer&&(K=new Uint8Array(K)),Oe(K);const re=$.alloc(K.byteLength||1);return $.heapForSize(K.constructor).set(K.byteLength?K:[0],re),re};{const K=N.allocExportName,re=N.deallocExportName,ie=N.reallocExportName;for(const Le of[K,re,ie])$.exports[Le]instanceof Function||tt("Missing required exports[",Le,"] function.");$.alloc=function Le(it){return Le.impl(it)||ce.toss("Failed to allocate",it," bytes.")},$.alloc.impl=$.exports[K],$.realloc=function Le(it,Rt){const Bt=Le.impl(it,Rt);return Rt?Bt||ce.toss("Failed to reallocate",Rt," bytes."):0},$.realloc.impl=$.exports[ie],$.dealloc=$.exports[re]}$.compileOptionUsed=function K(re){if(arguments.length){if(Array.isArray(re)){const ie={};return re.forEach(Le=>{ie[Le]=C.sqlite3_compileoption_used(Le)}),ie}else if(typeof re=="object")return Object.keys(re).forEach(ie=>{re[ie]=C.sqlite3_compileoption_used(ie)}),re}else{if(K._result)return K._result;K._opt||(K._rx=/^([^=]+)=(.+)/,K._rxInt=/^-?\d+$/,K._opt=function(Bt,Zt){const lt=K._rx.exec(Bt);Zt[0]=lt?lt[1]:Bt,Zt[1]=lt?K._rxInt.test(lt[2])?+lt[2]:lt[2]:!0});const ie={},Le=[0,0];let it=0,Rt;for(;Rt=C.sqlite3_compileoption_get(it++);)K._opt(Rt,Le),ie[Le[0]]=Le[1];return K._result=ie}return typeof re=="string"?!!C.sqlite3_compileoption_used(re):!1},$.pstack=Object.assign(Object.create(null),{restore:$.exports.sqlite3__wasm_pstack_restore,alloc:function(K){return typeof K=="string"&&!(K=$.sizeofIR(K))&&ce.toss("Invalid value for pstack.alloc(",arguments[0],")"),$.exports.sqlite3__wasm_pstack_alloc(K)||ce.toss("Could not allocate",K,"bytes from the pstack.")},allocChunks:function(K,re){typeof re=="string"&&!(re=$.sizeofIR(re))&&ce.toss("Invalid size value for allocChunks(",arguments[1],")");const ie=$.pstack.alloc(K*re),Le=[];let it=0,Rt=0;for(;it<K;++it,Rt+=re)Le.push(ie+Rt);return Le},allocPtr:(K=1,re=!0)=>K===1?$.pstack.alloc(re?8:$.ptrSizeof):$.pstack.allocChunks(K,re?8:$.ptrSizeof),call:function(K){const re=$.pstack.pointer;try{return K(pe)}finally{$.pstack.restore(re)}}}),Object.defineProperties($.pstack,{pointer:{configurable:!1,iterable:!0,writeable:!1,get:$.exports.sqlite3__wasm_pstack_ptr},quota:{configurable:!1,iterable:!0,writeable:!1,get:$.exports.sqlite3__wasm_pstack_quota},remaining:{configurable:!1,iterable:!0,writeable:!1,get:$.exports.sqlite3__wasm_pstack_remaining}}),C.sqlite3_randomness=(...K)=>{if(K.length===1&&Ee.isTypedArray(K[0])&&K[0].BYTES_PER_ELEMENT===1){const re=K[0];if(re.byteLength===0)return $.exports.sqlite3_randomness(0,0),re;const ie=$.pstack.pointer;try{let Le=re.byteLength,it=0;const Rt=$.exports.sqlite3_randomness,Bt=$.heap8u(),Zt=Le<512?Le:512,lt=$.pstack.alloc(Zt);do{const _e=Le>Zt?Zt:Le;Rt(_e,lt),re.set(Te(Bt,lt,lt+_e),it),Le-=_e,it+=_e}while(Le>0)}catch(Le){console.error("Highly unexpected (and ignored!) exception in sqlite3_randomness():",Le)}finally{$.pstack.restore(ie)}return re}$.exports.sqlite3_randomness(...K)};let st;if(C.sqlite3_wasmfs_opfs_dir=function(){if(st!==void 0)return st;const K=N.wasmfsOpfsDir;if(!K||!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle)return st="";try{return K&&$.xCallWrapped("sqlite3__wasm_init_wasmfs","i32",["string"],K)===0?st=K:st=""}catch{return st=""}},C.sqlite3_wasmfs_filename_is_persistent=function(K){const re=C.sqlite3_wasmfs_opfs_dir();return re&&K?K.startsWith(re+"/"):!1},C.sqlite3_js_db_uses_vfs=function(K,re,ie=0){try{const Le=C.sqlite3_vfs_find(re);return Le?K?Le===C.sqlite3_js_db_vfs(K,ie)?Le:!1:Le===C.sqlite3_vfs_find(0)?Le:!1:!1}catch{return!1}},C.sqlite3_js_vfs_list=function(){const K=[];let re=C.sqlite3_vfs_find(0);for(;re;){const ie=new C.sqlite3_vfs(re);K.push($.cstrToJs(ie.$zName)),re=ie.$pNext,ie.dispose()}return K},C.sqlite3_js_db_export=function(K,re=0){K=$.xWrap.testConvertArg("sqlite3*",K),K||tt("Invalid sqlite3* argument."),$.bigIntEnabled||tt("BigInt64 support is not enabled.");const ie=$.scopedAllocPush();let Le;try{const it=$.scopedAlloc(8+$.ptrSizeof),Rt=it+8,Bt=re?$.isPtr(re)?re:$.scopedAllocCString(""+re):0;let Zt=$.exports.sqlite3__wasm_db_serialize(K,Bt,Rt,it,0);Zt&&tt("Database serialization failed with code",pe.capi.sqlite3_js_rc_str(Zt)),Le=$.peekPtr(Rt);const lt=$.peek(it,"i64");return Zt=lt?$.heap8u().slice(Le,Le+Number(lt)):new Uint8Array,Zt}finally{Le&&$.exports.sqlite3_free(Le),$.scopedAllocPop(ie)}},C.sqlite3_js_db_vfs=(K,re=0)=>Ee.sqlite3__wasm_db_vfs(K,re),C.sqlite3_js_aggregate_context=(K,re)=>C.sqlite3_aggregate_context(K,re)||(re?ce.toss("Cannot allocate",re,"bytes for sqlite3_aggregate_context()"):0),C.sqlite3_js_posix_create_file=function(K,re,ie){let Le;re&&$.isPtr(re)?Le=re:re instanceof ArrayBuffer||re instanceof Uint8Array?(Le=$.allocFromTypedArray(re),(arguments.length<3||!Ee.isInt32(ie)||ie<0)&&(ie=re.byteLength)):Ke.toss("Invalid 2nd argument for sqlite3_js_posix_create_file().");try{(!Ee.isInt32(ie)||ie<0)&&Ke.toss("Invalid 3rd argument for sqlite3_js_posix_create_file().");const it=Ee.sqlite3__wasm_posix_create_file(K,Le,ie);it&&Ke.toss("Creation of file failed with sqlite3 result code",C.sqlite3_js_rc_str(it))}finally{$.dealloc(Le)}},C.sqlite3_js_vfs_create_file=function(K,re,ie,Le){N.warn("sqlite3_js_vfs_create_file() is deprecated and","should be avoided because it can lead to C-level crashes.","See its documentation for alternative options.");let it;ie?($.isPtr(ie)?it=ie:ie instanceof ArrayBuffer&&(ie=new Uint8Array(ie)),ie instanceof Uint8Array?(it=$.allocFromTypedArray(ie),(arguments.length<4||!Ee.isInt32(Le)||Le<0)&&(Le=ie.byteLength)):Ke.toss("Invalid 3rd argument type for sqlite3_js_vfs_create_file().")):it=0,(!Ee.isInt32(Le)||Le<0)&&($.dealloc(it),Ke.toss("Invalid 4th argument for sqlite3_js_vfs_create_file()."));try{const Rt=Ee.sqlite3__wasm_vfs_create_file(K,re,it,Le);Rt&&Ke.toss("Creation of file failed with sqlite3 result code",C.sqlite3_js_rc_str(Rt))}finally{$.dealloc(it)}},C.sqlite3_js_sql_to_string=K=>{if(typeof K=="string")return K;const re=Y(v);return re===v?void 0:re},Ee.isUIThread()){const K=function(re){const ie=Object.create(null);return ie.prefix="kvvfs-"+re,ie.stores=[],(re==="session"||re==="")&&ie.stores.push(globalThis.sessionStorage),(re==="local"||re==="")&&ie.stores.push(globalThis.localStorage),ie};C.sqlite3_js_kvvfs_clear=function(re=""){let ie=0;const Le=K(re);return Le.stores.forEach(it=>{const Rt=[];let Bt;for(Bt=0;Bt<it.length;++Bt){const Zt=it.key(Bt);Zt.startsWith(Le.prefix)&&Rt.push(Zt)}Rt.forEach(Zt=>it.removeItem(Zt)),ie+=Rt.length}),ie},C.sqlite3_js_kvvfs_size=function(re=""){let ie=0;const Le=K(re);return Le.stores.forEach(it=>{let Rt;for(Rt=0;Rt<it.length;++Rt){const Bt=it.key(Rt);Bt.startsWith(Le.prefix)&&(ie+=Bt.length,ie+=it.getItem(Bt).length)}}),ie*2}}C.sqlite3_db_config=function(K,re,...ie){switch(this.s||(this.s=$.xWrap("sqlite3__wasm_db_config_s","int",["sqlite3*","int","string:static"]),this.pii=$.xWrap("sqlite3__wasm_db_config_pii","int",["sqlite3*","int","*","int","int"]),this.ip=$.xWrap("sqlite3__wasm_db_config_ip","int",["sqlite3*","int","int","*"])),re){case C.SQLITE_DBCONFIG_ENABLE_FKEY:case C.SQLITE_DBCONFIG_ENABLE_TRIGGER:case C.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER:case C.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION:case C.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE:case C.SQLITE_DBCONFIG_ENABLE_QPSG:case C.SQLITE_DBCONFIG_TRIGGER_EQP:case C.SQLITE_DBCONFIG_RESET_DATABASE:case C.SQLITE_DBCONFIG_DEFENSIVE:case C.SQLITE_DBCONFIG_WRITABLE_SCHEMA:case C.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE:case C.SQLITE_DBCONFIG_DQS_DML:case C.SQLITE_DBCONFIG_DQS_DDL:case C.SQLITE_DBCONFIG_ENABLE_VIEW:case C.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT:case C.SQLITE_DBCONFIG_TRUSTED_SCHEMA:case C.SQLITE_DBCONFIG_STMT_SCANSTATUS:case C.SQLITE_DBCONFIG_REVERSE_SCANORDER:return this.ip(K,re,ie[0],ie[1]||0);case C.SQLITE_DBCONFIG_LOOKASIDE:return this.pii(K,re,ie[0],ie[1],ie[2]);case C.SQLITE_DBCONFIG_MAINDBNAME:return this.s(K,re,ie[0]);default:return C.SQLITE_MISUSE}}.bind(Object.create(null)),C.sqlite3_value_to_js=function(K,re=!0){let ie;const Le=C.sqlite3_value_type(K);switch(Le){case C.SQLITE_INTEGER:$.bigIntEnabled?(ie=C.sqlite3_value_int64(K),Ee.bigIntFitsDouble(ie)&&(ie=Number(ie))):ie=C.sqlite3_value_double(K);break;case C.SQLITE_FLOAT:ie=C.sqlite3_value_double(K);break;case C.SQLITE_TEXT:ie=C.sqlite3_value_text(K);break;case C.SQLITE_BLOB:{const it=C.sqlite3_value_bytes(K),Rt=C.sqlite3_value_blob(K);it&&!Rt&&pe.WasmAllocError.toss("Cannot allocate memory for blob argument of",it,"byte(s)"),ie=it?$.heap8u().slice(Rt,Rt+Number(it)):null;break}case C.SQLITE_NULL:ie=null;break;default:re&&tt(C.SQLITE_MISMATCH,"Unhandled sqlite3_value_type():",Le),ie=void 0}return ie},C.sqlite3_values_to_js=function(K,re,ie=!0){let Le;const it=[];for(Le=0;Le<K;++Le)it.push(C.sqlite3_value_to_js($.peekPtr(re+$.ptrSizeof*Le),ie));return it},C.sqlite3_result_error_js=function(K,re){re instanceof ce?C.sqlite3_result_error_nomem(K):C.sqlite3_result_error(K,""+re,-1)},C.sqlite3_result_js=function(K,re){if(re instanceof Error){C.sqlite3_result_error_js(K,re);return}try{switch(typeof re){case"undefined":break;case"boolean":C.sqlite3_result_int(K,re?1:0);break;case"bigint":Ee.bigIntFits32(re)?C.sqlite3_result_int(K,Number(re)):Ee.bigIntFitsDouble(re)?C.sqlite3_result_double(K,Number(re)):$.bigIntEnabled?Ee.bigIntFits64(re)?C.sqlite3_result_int64(K,re):tt("BigInt value",re.toString(),"is too BigInt for int64."):tt("BigInt value",re.toString(),"is too BigInt.");break;case"number":{let ie;Ee.isInt32(re)?ie=C.sqlite3_result_int:$.bigIntEnabled&&Number.isInteger(re)&&Ee.bigIntFits64(BigInt(re))?ie=C.sqlite3_result_int64:ie=C.sqlite3_result_double,ie(K,re);break}case"string":{const[ie,Le]=$.allocCString(re,!0);C.sqlite3_result_text(K,ie,Le,C.SQLITE_WASM_DEALLOC);break}case"object":if(re===null){C.sqlite3_result_null(K);break}else if(Ee.isBindableTypedArray(re)){const ie=$.allocFromTypedArray(re);C.sqlite3_result_blob(K,ie,re.byteLength,C.SQLITE_WASM_DEALLOC);break}default:tt("Don't not how to handle this UDF result value:",typeof re,re)}}catch(ie){C.sqlite3_result_error_js(K,ie)}},C.sqlite3_column_js=function(K,re,ie=!0){const Le=C.sqlite3_column_value(K,re);return Le===0?void 0:C.sqlite3_value_to_js(Le,ie)};const ae=function(K,re,ie){ie=C[ie],this.ptr?$.pokePtr(this.ptr,0):this.ptr=$.allocPtr();const Le=ie(K,re,this.ptr);if(Le)return Ke.toss(Le,arguments[2]+"() failed with code "+Le);const it=$.peekPtr(this.ptr);return it?C.sqlite3_value_to_js(it,!0):void 0}.bind(Object.create(null));C.sqlite3_preupdate_new_js=(K,re)=>ae(K,re,"sqlite3_preupdate_new"),C.sqlite3_preupdate_old_js=(K,re)=>ae(K,re,"sqlite3_preupdate_old"),C.sqlite3changeset_new_js=(K,re)=>ae(K,re,"sqlite3changeset_new"),C.sqlite3changeset_old_js=(K,re)=>ae(K,re,"sqlite3changeset_old");const pe={WasmAllocError:ce,SQLite3Error:Ke,capi:C,util:Ee,wasm:$,config:N,version:Object.create(null),client:void 0,asyncPostInit:async function K(){if(K.isReady instanceof Promise)return K.isReady;let re=y.initializersAsync;delete y.initializersAsync;const ie=async()=>(pe.__isUnderTest||(delete pe.util,delete pe.StructBinder),pe),Le=Rt=>{throw N.error("an async sqlite3 initializer failed:",Rt),Rt};if(!re||!re.length)return K.isReady=ie().catch(Le);re=re.map(Rt=>Rt instanceof Function?async Bt=>Rt(pe):Rt),re.push(ie);let it=Promise.resolve(pe);for(;re.length;)it=it.then(re.shift());return K.isReady=it.catch(Le)},scriptInfo:void 0};try{y.initializers.forEach(K=>{K(pe)})}catch(K){throw console.error("sqlite3 bootstrap initializer threw:",K),K}return delete y.initializers,y.sqlite3=pe,pe},globalThis.sqlite3ApiBootstrap.initializers=[],globalThis.sqlite3ApiBootstrap.initializersAsync=[],globalThis.sqlite3ApiBootstrap.defaultConfig=Object.create(null),globalThis.sqlite3ApiBootstrap.sqlite3=void 0,globalThis.WhWasmUtilInstaller=function(y){y.bigIntEnabled===void 0&&(y.bigIntEnabled=!!globalThis.BigInt64Array);const S=(...Y)=>{throw new Error(Y.join(" "))};y.exports||Object.defineProperty(y,"exports",{enumerable:!0,configurable:!0,get:()=>y.instance&&y.instance.exports});const N=y.pointerIR||"i32",C=y.ptrSizeof=N==="i32"?4:N==="i64"?8:S("Unhandled ptrSizeof:",N),$=Object.create(null);$.heapSize=0,$.memory=null,$.freeFuncIndexes=[],$.scopedAlloc=[],$.utf8Decoder=new TextDecoder,$.utf8Encoder=new TextEncoder("utf-8"),y.sizeofIR=Y=>{switch(Y){case"i8":return 1;case"i16":return 2;case"i32":case"f32":case"float":return 4;case"i64":case"f64":case"double":return 8;case"*":return C;default:return(""+Y).endsWith("*")?C:void 0}};const fe=function(){if(!$.memory)$.memory=y.memory instanceof WebAssembly.Memory?y.memory:y.exports.memory;else if($.heapSize===$.memory.buffer.byteLength)return $;const Y=$.memory.buffer;return $.HEAP8=new Int8Array(Y),$.HEAP8U=new Uint8Array(Y),$.HEAP16=new Int16Array(Y),$.HEAP16U=new Uint16Array(Y),$.HEAP32=new Int32Array(Y),$.HEAP32U=new Uint32Array(Y),y.bigIntEnabled&&($.HEAP64=new BigInt64Array(Y),$.HEAP64U=new BigUint64Array(Y)),$.HEAP32F=new Float32Array(Y),$.HEAP64F=new Float64Array(Y),$.heapSize=Y.byteLength,$};y.heap8=()=>fe().HEAP8,y.heap8u=()=>fe().HEAP8U,y.heap16=()=>fe().HEAP16,y.heap16u=()=>fe().HEAP16U,y.heap32=()=>fe().HEAP32,y.heap32u=()=>fe().HEAP32U,y.heapForSize=function(Y,ce=!0){const Ee=$.memory&&$.heapSize===$.memory.buffer.byteLength?$:fe();switch(Y){case Int8Array:return Ee.HEAP8;case Uint8Array:return Ee.HEAP8U;case Int16Array:return Ee.HEAP16;case Uint16Array:return Ee.HEAP16U;case Int32Array:return Ee.HEAP32;case Uint32Array:return Ee.HEAP32U;case 8:return ce?Ee.HEAP8U:Ee.HEAP8;case 16:return ce?Ee.HEAP16U:Ee.HEAP16;case 32:return ce?Ee.HEAP32U:Ee.HEAP32;case 64:if(Ee.HEAP64)return ce?Ee.HEAP64U:Ee.HEAP64;break;default:if(y.bigIntEnabled){if(Y===globalThis.BigUint64Array)return Ee.HEAP64U;if(Y===globalThis.BigInt64Array)return Ee.HEAP64;break}}S("Invalid heapForSize() size: expecting 8, 16, 32,","or (if BigInt is enabled) 64.")},y.functionTable=function(){return y.exports.__indirect_function_table},y.functionEntry=function(Y){const ce=y.functionTable();return Y<ce.length?ce.get(Y):void 0},y.jsFuncToWasm=function Y(ce,Ee){if(Y._||(Y._={sigTypes:Object.assign(Object.create(null),{i:"i32",p:"i32",P:"i32",s:"i32",j:"i64",f:"f32",d:"f64"}),typeCodes:Object.assign(Object.create(null),{f64:124,f32:125,i64:126,i32:127}),uleb128Encode:function(pe,K,re){re<128?pe[K](re):pe[K](re%128|128,re>>7)},rxJSig:/^(\w)\((\w*)\)$/,sigParams:function(pe){const K=Y._.rxJSig.exec(pe);return K?K[2]:pe.substr(1)},letterType:pe=>Y._.sigTypes[pe]||S("Invalid signature letter:",pe),pushSigType:(pe,K)=>pe.push(Y._.typeCodes[Y._.letterType(K)])}),typeof ce=="string"){const pe=Ee;Ee=ce,ce=pe}const st=Y._.sigParams(Ee),ae=[1,96];Y._.uleb128Encode(ae,"push",st.length);for(const pe of st)Y._.pushSigType(ae,pe);return Ee[0]==="v"?ae.push(0):(ae.push(1),Y._.pushSigType(ae,Ee[0])),Y._.uleb128Encode(ae,"unshift",ae.length),ae.unshift(0,97,115,109,1,0,0,0,1),ae.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array(ae)),{e:{f:ce}}).exports.f};const me=function(ce,Ee,st){if(st&&!$.scopedAlloc.length&&S("No scopedAllocPush() scope is active."),typeof ce=="string"){const re=Ee;Ee=ce,ce=re}(typeof Ee!="string"||!(ce instanceof Function))&&S("Invalid arguments: expecting (function,signature) or (signature,function).");const ae=y.functionTable(),pe=ae.length;let K;for(;$.freeFuncIndexes.length&&(K=$.freeFuncIndexes.pop(),ae.get(K));){K=null;continue}K||(K=pe,ae.grow(1));try{return ae.set(K,ce),st&&$.scopedAlloc[$.scopedAlloc.length-1].push(K),K}catch(re){if(!(re instanceof TypeError))throw K===pe&&$.freeFuncIndexes.push(pe),re}try{const re=y.jsFuncToWasm(ce,Ee);ae.set(K,re),st&&$.scopedAlloc[$.scopedAlloc.length-1].push(K)}catch(re){throw K===pe&&$.freeFuncIndexes.push(pe),re}return K};y.installFunction=(Y,ce)=>me(Y,ce,!1),y.scopedInstallFunction=(Y,ce)=>me(Y,ce,!0),y.uninstallFunction=function(Y){if(!Y&&Y!==0)return;const ce=$.freeFuncIndexes,Ee=y.functionTable();ce.push(Y);const st=Ee.get(Y);return Ee.set(Y,null),st},y.peek=function(ce,Ee="i8"){Ee.endsWith("*")&&(Ee=N);const st=$.memory&&$.heapSize===$.memory.buffer.byteLength?$:fe(),ae=Array.isArray(ce)?[]:void 0;let pe;do{switch(ae&&(ce=arguments[0].shift()),Ee){case"i1":case"i8":pe=st.HEAP8[ce>>0];break;case"i16":pe=st.HEAP16[ce>>1];break;case"i32":pe=st.HEAP32[ce>>2];break;case"float":case"f32":pe=st.HEAP32F[ce>>2];break;case"double":case"f64":pe=Number(st.HEAP64F[ce>>3]);break;case"i64":if(y.bigIntEnabled){pe=BigInt(st.HEAP64[ce>>3]);break}default:S("Invalid type for peek():",Ee)}ae&&ae.push(pe)}while(ae&&arguments[0].length);return ae||pe},y.poke=function(Y,ce,Ee="i8"){Ee.endsWith("*")&&(Ee=N);const st=$.memory&&$.heapSize===$.memory.buffer.byteLength?$:fe();for(const ae of Array.isArray(Y)?Y:[Y])switch(Ee){case"i1":case"i8":st.HEAP8[ae>>0]=ce;continue;case"i16":st.HEAP16[ae>>1]=ce;continue;case"i32":st.HEAP32[ae>>2]=ce;continue;case"float":case"f32":st.HEAP32F[ae>>2]=ce;continue;case"double":case"f64":st.HEAP64F[ae>>3]=ce;continue;case"i64":if(st.HEAP64){st.HEAP64[ae>>3]=BigInt(ce);continue}default:S("Invalid type for poke(): "+Ee)}return this},y.peekPtr=(...Y)=>y.peek(Y.length===1?Y[0]:Y,N),y.pokePtr=(Y,ce=0)=>y.poke(Y,ce,N),y.peek8=(...Y)=>y.peek(Y.length===1?Y[0]:Y,"i8"),y.poke8=(Y,ce)=>y.poke(Y,ce,"i8"),y.peek16=(...Y)=>y.peek(Y.length===1?Y[0]:Y,"i16"),y.poke16=(Y,ce)=>y.poke(Y,ce,"i16"),y.peek32=(...Y)=>y.peek(Y.length===1?Y[0]:Y,"i32"),y.poke32=(Y,ce)=>y.poke(Y,ce,"i32"),y.peek64=(...Y)=>y.peek(Y.length===1?Y[0]:Y,"i64"),y.poke64=(Y,ce)=>y.poke(Y,ce,"i64"),y.peek32f=(...Y)=>y.peek(Y.length===1?Y[0]:Y,"f32"),y.poke32f=(Y,ce)=>y.poke(Y,ce,"f32"),y.peek64f=(...Y)=>y.peek(Y.length===1?Y[0]:Y,"f64"),y.poke64f=(Y,ce)=>y.poke(Y,ce,"f64"),y.getMemValue=y.peek,y.getPtrValue=y.peekPtr,y.setMemValue=y.poke,y.setPtrValue=y.pokePtr,y.isPtr32=Y=>typeof Y=="number"&&Y===(Y|0)&&Y>=0,y.isPtr=y.isPtr32,y.cstrlen=function(Y){if(!Y||!y.isPtr(Y))return null;const ce=fe().HEAP8U;let Ee=Y;for(;ce[Ee]!==0;++Ee);return Ee-Y};const Ke=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,tt=function(Y,ce,Ee){return $.utf8Decoder.decode(Y.buffer instanceof Ke?Y.slice(ce,Ee):Y.subarray(ce,Ee))};y.cstrToJs=function(Y){const ce=y.cstrlen(Y);return ce?tt(fe().HEAP8U,Y,Y+ce):ce===null?ce:""},y.jstrlen=function(Y){if(typeof Y!="string")return null;const ce=Y.length;let Ee=0;for(let st=0;st<ce;++st){let ae=Y.charCodeAt(st);ae>=55296&&ae<=57343&&(ae=65536+((ae&1023)<<10)|Y.charCodeAt(++st)&1023),ae<=127?++Ee:ae<=2047?Ee+=2:ae<=65535?Ee+=3:Ee+=4}return Ee},y.jstrcpy=function(Y,ce,Ee=0,st=-1,ae=!0){if((!ce||!(ce instanceof Int8Array)&&!(ce instanceof Uint8Array))&&S("jstrcpy() target must be an Int8Array or Uint8Array."),st<0&&(st=ce.length-Ee),!(st>0)||!(Ee>=0))return 0;let pe=0,K=Y.length;const re=Ee,ie=Ee+st-(ae?1:0);for(;pe<K&&Ee<ie;++pe){let Le=Y.charCodeAt(pe);if(Le>=55296&&Le<=57343&&(Le=65536+((Le&1023)<<10)|Y.charCodeAt(++pe)&1023),Le<=127){if(Ee>=ie)break;ce[Ee++]=Le}else if(Le<=2047){if(Ee+1>=ie)break;ce[Ee++]=192|Le>>6,ce[Ee++]=128|Le&63}else if(Le<=65535){if(Ee+2>=ie)break;ce[Ee++]=224|Le>>12,ce[Ee++]=128|Le>>6&63,ce[Ee++]=128|Le&63}else{if(Ee+3>=ie)break;ce[Ee++]=240|Le>>18,ce[Ee++]=128|Le>>12&63,ce[Ee++]=128|Le>>6&63,ce[Ee++]=128|Le&63}}return ae&&(ce[Ee++]=0),Ee-re},y.cstrncpy=function(Y,ce,Ee){if((!Y||!ce)&&S("cstrncpy() does not accept NULL strings."),Ee<0)Ee=y.cstrlen(strPtr)+1;else if(!(Ee>0))return 0;const st=y.heap8u();let ae=0,pe;for(;ae<Ee&&(pe=st[ce+ae]);++ae)st[Y+ae]=pe;return ae<Ee&&(st[Y+ae++]=0),ae},y.jstrToUintArray=(Y,ce=!1)=>$.utf8Encoder.encode(ce?Y+"\0":Y);const at=(Y,ce)=>{(!(Y.alloc instanceof Function)||!(Y.dealloc instanceof Function))&&S("Object is missing alloc() and/or dealloc() function(s)","required by",ce+"().")},mt=function(Y,ce,Ee,st){if(at(y,st),typeof Y!="string")return null;{const ae=$.utf8Encoder.encode(Y),pe=Ee(ae.length+1),K=fe().HEAP8U;return K.set(ae,pe),K[pe+ae.length]=0,ce?[pe,ae.length]:pe}};y.allocCString=(Y,ce=!1)=>mt(Y,ce,y.alloc,"allocCString()"),y.scopedAllocPush=function(){at(y,"scopedAllocPush");const Y=[];return $.scopedAlloc.push(Y),Y},y.scopedAllocPop=function(Y){at(y,"scopedAllocPop");const ce=arguments.length?$.scopedAlloc.indexOf(Y):$.scopedAlloc.length-1;ce<0&&S("Invalid state object for scopedAllocPop()."),arguments.length===0&&(Y=$.scopedAlloc[ce]),$.scopedAlloc.splice(ce,1);for(let Ee;Ee=Y.pop();)y.functionEntry(Ee)?y.uninstallFunction(Ee):y.dealloc(Ee)},y.scopedAlloc=function(Y){$.scopedAlloc.length||S("No scopedAllocPush() scope is active.");const ce=y.alloc(Y);return $.scopedAlloc[$.scopedAlloc.length-1].push(ce),ce},Object.defineProperty(y.scopedAlloc,"level",{configurable:!1,enumerable:!1,get:()=>$.scopedAlloc.length,set:()=>S("The 'active' property is read-only.")}),y.scopedAllocCString=(Y,ce=!1)=>mt(Y,ce,y.scopedAlloc,"scopedAllocCString()");const Be=function(Y,ce){const Ee=y[Y?"scopedAlloc":"alloc"]((ce.length+1)*y.ptrSizeof);let st=0;return ce.forEach(ae=>{y.pokePtr(Ee+y.ptrSizeof*st++,y[Y?"scopedAllocCString":"allocCString"](""+ae))}),y.pokePtr(Ee+y.ptrSizeof*st,0),Ee};y.scopedAllocMainArgv=Y=>Be(!0,Y),y.allocMainArgv=Y=>Be(!1,Y),y.cArgvToJs=(Y,ce)=>{const Ee=[];for(let st=0;st<Y;++st){const ae=y.peekPtr(ce+y.ptrSizeof*st);Ee.push(ae?y.cstrToJs(ae):null)}return Ee},y.scopedAllocCall=function(Y){y.scopedAllocPush();try{return Y()}finally{y.scopedAllocPop()}};const qe=function(Y,ce,Ee){at(y,Ee);const st=ce?"i64":N;let ae=y[Ee](Y*(ce?8:C));if(y.poke(ae,0,st),Y===1)return ae;const pe=[ae];for(let K=1;K<Y;++K)ae+=ce?8:C,pe[K]=ae,y.poke(ae,0,st);return pe};y.allocPtr=(Y=1,ce=!0)=>qe(Y,ce,"alloc"),y.scopedAllocPtr=(Y=1,ce=!0)=>qe(Y,ce,"scopedAlloc"),y.xGet=function(Y){return y.exports[Y]||S("Cannot find exported symbol:",Y)};const et=(Y,ce)=>S(Y+"() requires",ce,"argument(s).");y.xCall=function(Y,...ce){const Ee=Y instanceof Function?Y:y.xGet(Y);return Ee instanceof Function||S("Exported symbol",Y,"is not a function."),Ee.length!==ce.length&&et(Ee===Y?Ee.name:Y,Ee.length),arguments.length===2&&Array.isArray(arguments[1])?Ee.apply(null,arguments[1]):Ee.apply(null,ce)},$.xWrap=Object.create(null),$.xWrap.convert=Object.create(null),$.xWrap.convert.arg=new Map,$.xWrap.convert.result=new Map;const be=$.xWrap.convert.arg,Ie=$.xWrap.convert.result;y.bigIntEnabled&&be.set("i64",Y=>BigInt(Y));const Te=N==="i32"?Y=>Y|0:Y=>BigInt(Y)|BigInt(0);be.set("i32",Te).set("i16",Y=>(Y|0)&65535).set("i8",Y=>(Y|0)&255).set("f32",Y=>Number(Y).valueOf()).set("float",be.get("f32")).set("f64",be.get("f32")).set("double",be.get("f64")).set("int",be.get("i32")).set("null",Y=>Y).set(null,be.get("null")).set("**",Te).set("*",Te),Ie.set("*",Te).set("pointer",Te).set("number",Y=>Number(Y)).set("void",Y=>{}).set("null",Y=>Y).set(null,Ie.get("null"));{const Y=["i8","i16","i32","int","f32","float","f64","double"];y.bigIntEnabled&&Y.push("i64");const ce=be.get(N);for(const Ee of Y)be.set(Ee+"*",ce),Ie.set(Ee+"*",ce),Ie.set(Ee,be.get(Ee)||S("Missing arg converter:",Ee))}const Ze=function(Y){return typeof Y=="string"?y.scopedAllocCString(Y):Y?Te(Y):null};be.set("string",Ze).set("utf8",Ze).set("pointer",Ze),Ie.set("string",Y=>y.cstrToJs(Y)).set("utf8",Ie.get("string")).set("string:dealloc",Y=>{try{return Y?y.cstrToJs(Y):null}finally{y.dealloc(Y)}}).set("utf8:dealloc",Ie.get("string:dealloc")).set("json",Y=>JSON.parse(y.cstrToJs(Y))).set("json:dealloc",Y=>{try{return Y?JSON.parse(y.cstrToJs(Y)):null}finally{y.dealloc(Y)}});const Ge=class{constructor(Y){this.name=Y.name||"unnamed adapter"}convertArg(Y,ce,Ee){S("AbstractArgAdapter must be subclassed.")}};be.FuncPtrAdapter=class Ta extends Ge{constructor(ce){super(ce),be.FuncPtrAdapter.warnOnUse&&console.warn("xArg.FuncPtrAdapter is an internal-only API","and is not intended to be invoked from","client-level code. Invoked with:",ce),this.name=ce.name||"unnamed",this.signature=ce.signature,ce.contextKey instanceof Function&&(this.contextKey=ce.contextKey,ce.bindScope||(ce.bindScope="context")),this.bindScope=ce.bindScope||S("FuncPtrAdapter options requires a bindScope (explicit or implied)."),Ta.bindScopes.indexOf(ce.bindScope)<0&&S("Invalid options.bindScope ("+ce.bindMod+") for FuncPtrAdapter. Expecting one of: ("+Ta.bindScopes.join(", ")+")"),this.isTransient=this.bindScope==="transient",this.isContext=this.bindScope==="context",this.isPermanent=this.bindScope==="permanent",this.singleton=this.bindScope==="singleton"?[]:void 0,this.callProxy=ce.callProxy instanceof Function?ce.callProxy:void 0}contextKey(ce,Ee){return this}contextMap(ce){const Ee=this.__cmap||(this.__cmap=new Map);let st=Ee.get(ce);return st===void 0&&Ee.set(ce,st=[]),st}convertArg(ce,Ee,st){let ae=this.singleton;if(!ae&&this.isContext&&(ae=this.contextMap(this.contextKey(Ee,st))),ae&&ae[0]===ce)return ae[1];if(ce instanceof Function){this.callProxy&&(ce=this.callProxy(ce));const pe=me(ce,this.signature,this.isTransient);if(Ta.debugFuncInstall&&Ta.debugOut("FuncPtrAdapter installed",this,this.contextKey(Ee,st),"@"+pe,ce),ae){if(ae[1]){Ta.debugFuncInstall&&Ta.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(Ee,st),"@"+ae[1],ce);try{$.scopedAlloc[$.scopedAlloc.length-1].push(ae[1])}catch{}}ae[0]=ce,ae[1]=pe}return pe}else if(y.isPtr(ce)||ce===null||ce===void 0){if(ae&&ae[1]&&ae[1]!==ce){Ta.debugFuncInstall&&Ta.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(Ee,st),"@"+ae[1],ce);try{$.scopedAlloc[$.scopedAlloc.length-1].push(ae[1])}catch{}ae[0]=ae[1]=ce|0}return ce||0}else throw new TypeError("Invalid FuncPtrAdapter argument type. Expecting a function pointer or a "+(this.name?this.name+" ":"")+"function matching signature "+this.signature+".")}},be.FuncPtrAdapter.warnOnUse=!1,be.FuncPtrAdapter.debugFuncInstall=!1,be.FuncPtrAdapter.debugOut=console.debug.bind(console),be.FuncPtrAdapter.bindScopes=["transient","context","singleton","permanent"];const Oe=Y=>be.get(Y)||S("Argument adapter not found:",Y),Qe=Y=>Ie.get(Y)||S("Result adapter not found:",Y);$.xWrap.convertArg=(Y,...ce)=>Oe(Y)(...ce),$.xWrap.convertArgNoCheck=(Y,...ce)=>be.get(Y)(...ce),$.xWrap.convertResult=(Y,ce)=>Y===null?ce:Y?Qe(Y)(ce):void 0,$.xWrap.convertResultNoCheck=(Y,ce)=>Y===null?ce:Y?Ie.get(Y)(ce):void 0,y.xWrap=function(Y,ce,...Ee){arguments.length===3&&Array.isArray(arguments[2])&&(Ee=arguments[2]),y.isPtr(Y)&&(Y=y.functionEntry(Y)||S("Function pointer not found in WASM function table."));const st=Y instanceof Function,ae=st?Y:y.xGet(Y);if(st&&(Y=ae.name||"unnamed function"),Ee.length!==ae.length&&et(Y,ae.length),ce===null&&ae.length===0)return ae;ce!=null&&Qe(ce);for(const K of Ee)K instanceof Ge?be.set(K,(...re)=>K.convertArg(...re)):Oe(K);const pe=$.xWrap;return ae.length===0?(...K)=>K.length?et(Y,ae.length):pe.convertResult(ce,ae.call(null)):function(...K){K.length!==ae.length&&et(Y,ae.length);const re=y.scopedAllocPush();try{let ie=0;for(;ie<K.length;++ie)K[ie]=pe.convertArgNoCheck(Ee[ie],K[ie],K,ie);return pe.convertResultNoCheck(ce,ae.apply(null,K))}finally{y.scopedAllocPop(re)}}};const St=function(Y,ce,Ee,st,ae,pe){if(typeof Ee=="string"){if(ce===1)return pe.get(Ee);if(ce===2){if(st)st instanceof Function||S(ae,"requires a function argument.");else return delete pe.get(Ee),Y;return pe.set(Ee,st),Y}}S("Invalid arguments to",ae)};return y.xWrap.resultAdapter=function Y(ce,Ee){return St(Y,arguments.length,ce,Ee,"resultAdapter()",Ie)},y.xWrap.argAdapter=function Y(ce,Ee){return St(Y,arguments.length,ce,Ee,"argAdapter()",be)},y.xWrap.FuncPtrAdapter=be.FuncPtrAdapter,y.xCallWrapped=function(Y,ce,Ee,...st){return Array.isArray(arguments[3])&&(st=arguments[3]),y.xWrap(Y,ce,Ee||[]).apply(null,st||[])},y.xWrap.testConvertArg=$.xWrap.convertArg,y.xWrap.testConvertResult=$.xWrap.convertResult,y},globalThis.WhWasmUtilInstaller.yawl=function(y){const S=()=>fetch(y.uri,{credentials:"same-origin"}),N=this,C=function(fe){if(y.wasmUtilTarget){const me=(...tt)=>{throw new Error(tt.join(" "))},Ke=y.wasmUtilTarget;if(Ke.module=fe.module,Ke.instance=fe.instance,Ke.instance.exports.memory||(Ke.memory=y.imports&&y.imports.env&&y.imports.env.memory||me("Missing 'memory' object!")),!Ke.alloc&&fe.instance.exports.malloc){const tt=fe.instance.exports;Ke.alloc=function(at){return tt.malloc(at)||me("Allocation of",at,"bytes failed.")},Ke.dealloc=function(at){tt.free(at)}}N(Ke)}return y.onload&&y.onload(fe,y),fe};return WebAssembly.instantiateStreaming?function(){return WebAssembly.instantiateStreaming(S(),y.imports||{}).then(C)}:function(){return S().then(me=>me.arrayBuffer()).then(me=>WebAssembly.instantiate(me,y.imports||{})).then(C)}}.bind(globalThis.WhWasmUtilInstaller),globalThis.Jaccwabyt=function y(S){const N=(...We)=>{throw new Error(We.join(" "))};!(S.heap instanceof WebAssembly.Memory)&&!(S.heap instanceof Function)&&N("config.heap must be WebAssembly.Memory instance or a function."),["alloc","dealloc"].forEach(function(We){S[We]instanceof Function||N("Config option '"+We+"' must be a function.")});const C=y,$=S.heap instanceof Function?S.heap:()=>new Uint8Array(S.heap.buffer),fe=S.alloc,me=S.dealloc,Ke=S.log||console.log.bind(console),tt=S.memberPrefix||"",at=S.memberSuffix||"",mt=S.bigIntEnabled===void 0?!!globalThis.BigInt64Array:!!S.bigIntEnabled,Be=globalThis.BigInt,qe=globalThis.BigInt64Array,et=S.ptrSizeof||4,be=S.ptrIR||"i32";C.debugFlags||(C.__makeDebugFlags=function(We=null){We&&We.__flags&&(We=We.__flags);const vt=function wt(kt){return arguments.length===0?wt.__flags:(kt<0?(delete wt.__flags.getter,delete wt.__flags.setter,delete wt.__flags.alloc,delete wt.__flags.dealloc):(wt.__flags.getter=(1&kt)!==0,wt.__flags.setter=(2&kt)!==0,wt.__flags.alloc=(4&kt)!==0,wt.__flags.dealloc=(8&kt)!==0),wt._flags)};return Object.defineProperty(vt,"__flags",{iterable:!1,writable:!1,value:Object.create(We)}),We||vt(0),vt},C.debugFlags=C.__makeDebugFlags());const Ie=function(){const We=new ArrayBuffer(2);return new DataView(We).setInt16(0,256,!0),new Int16Array(We)[0]===256}(),Te=We=>We[1]==="(",Ze=We=>We==="P",Ge=We=>Te(We)?"p":We[0],Oe=function(We){switch(Ge(We)){case"c":case"C":return"i8";case"i":return"i32";case"p":case"P":case"s":return be;case"j":return"i64";case"f":return"float";case"d":return"double"}N("Unhandled signature IR:",We)},Qe=qe?()=>!0:()=>N("BigInt64Array is not available."),St=function(We){switch(Ge(We)){case"p":case"P":case"s":{switch(et){case 4:return"getInt32";case 8:return Qe()&&"getBigInt64"}break}case"i":return"getInt32";case"c":return"getInt8";case"C":return"getUint8";case"j":return Qe()&&"getBigInt64";case"f":return"getFloat32";case"d":return"getFloat64"}N("Unhandled DataView getter for signature:",We)},Y=function(We){switch(Ge(We)){case"p":case"P":case"s":{switch(et){case 4:return"setInt32";case 8:return Qe()&&"setBigInt64"}break}case"i":return"setInt32";case"c":return"setInt8";case"C":return"setUint8";case"j":return Qe()&&"setBigInt64";case"f":return"setFloat32";case"d":return"setFloat64"}N("Unhandled DataView setter for signature:",We)},ce=function(We){switch(Ge(We)){case"i":case"f":case"c":case"C":case"d":return Number;case"j":return Qe()&&Be;case"p":case"P":case"s":switch(et){case 4:return Number;case 8:return Qe()&&Be}break}N("Unhandled DataView set wrapper for signature:",We)},Ee=(We,vt)=>We+"::"+vt,st=function(We,vt){return()=>N(Ee(We,vt),"is read-only.")},ae=new WeakMap,pe="(pointer-is-external)",K=function(We,vt,wt){if(wt||(wt=ae.get(vt)),wt){if(ae.delete(vt),Array.isArray(vt.ondispose)){let kt;for(;kt=vt.ondispose.shift();)try{kt instanceof Function?kt.call(vt):kt instanceof $t?kt.dispose():typeof kt=="number"&&me(kt)}catch(vn){console.warn("ondispose() for",We.structName,"@",wt,"threw. NOT propagating it.",vn)}}else if(vt.ondispose instanceof Function)try{vt.ondispose()}catch(kt){console.warn("ondispose() for",We.structName,"@",wt,"threw. NOT propagating it.",kt)}delete vt.ondispose,We.debugFlags.__flags.dealloc&&Ke("debug.dealloc:",vt[pe]?"EXTERNAL":"",We.structName,"instance:",We.structInfo.sizeof,"bytes @"+wt),vt[pe]||me(wt)}},re=We=>({configurable:!1,writable:!1,iterable:!1,value:We}),ie=function(We,vt,wt){let kt=!wt;wt?Object.defineProperty(vt,pe,re(wt)):(wt=fe(We.structInfo.sizeof),wt||N("Allocation of",We.structName,"structure failed."));try{We.debugFlags.__flags.alloc&&Ke("debug.alloc:",kt?"":"EXTERNAL",We.structName,"instance:",We.structInfo.sizeof,"bytes @"+wt),kt&&$().fill(0,wt,wt+We.structInfo.sizeof),ae.set(vt,wt)}catch(vn){throw K(We,vt,wt),vn}},Le=function(){const We=this.pointer;return We?new Uint8Array($().slice(We,We+this.structInfo.sizeof)):null},Rt=re(We=>tt+We+at),Bt=function(We,vt,wt=!0){let kt=We.members[vt];if(!kt&&(tt||at)){for(const vn of Object.values(We.members))if(vn.key===vt){kt=vn;break}!kt&&wt&&N(Ee(We.name,vt),"is not a mapped struct member.")}return kt},Zt=function We(vt,wt,kt=!1){We._||(We._=Kn=>Kn.replace(/[^vipPsjrdcC]/g,"").replace(/[pPscC]/g,"i"));const vn=Bt(vt.structInfo,wt,!0);return kt?We._(vn.signature):vn.signature},lt={configurable:!1,enumerable:!1,get:function(){return ae.get(this)},set:()=>N("Cannot assign the 'pointer' property of a struct.")},_e=re(function(){const We=[];for(const vt of Object.keys(this.structInfo.members))We.push(this.memberKey(vt));return We}),Pe=new TextDecoder("utf-8"),ot=new TextEncoder,pt=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,Ft=function(We,vt,wt){return Pe.decode(We.buffer instanceof pt?We.slice(vt,wt):We.subarray(vt,wt))},Yt=function(We,vt,wt=!1){const kt=Bt(We.structInfo,vt,wt);return kt&&kt.signature.length===1&&kt.signature[0]==="s"?kt:!1},je=function(We){We.signature!=="s"&&N("Invalid member type signature for C-string value:",JSON.stringify(We))},nt=function(vt,wt){const kt=Bt(vt.structInfo,wt,!0);je(kt);const vn=vt[kt.key];if(!vn)return null;let Kn=vn;const Bn=$();for(;Bn[Kn]!==0;++Kn);return vn===Kn?"":Ft(Bn,vn,Kn)},dt=function(We,...vt){We.ondispose?Array.isArray(We.ondispose)||(We.ondispose=[We.ondispose]):We.ondispose=[],We.ondispose.push(...vt)},Nt=function(We){const vt=ot.encode(We),wt=fe(vt.length+1);wt||N("Allocation error while duplicating string:",We);const kt=$();return kt.set(vt,wt),kt[wt+vt.length]=0,wt},xt=function(We,vt,wt){const kt=Bt(We.structInfo,vt,!0);je(kt);const vn=Nt(wt);return We[kt.key]=vn,dt(We,vn),We},$t=function(vt,wt){arguments[2]!==re&&N("Do not call the StructType constructor","from client-level code."),Object.defineProperties(this,{structName:re(vt),structInfo:re(wt)})};$t.prototype=Object.create(null,{dispose:re(function(){K(this.constructor,this)}),lookupMember:re(function(We,vt=!0){return Bt(this.structInfo,We,vt)}),memberToJsString:re(function(We){return nt(this,We)}),memberIsString:re(function(We,vt=!0){return Yt(this,We,vt)}),memberKey:Rt,memberKeys:_e,memberSignature:re(function(We,vt=!1){return Zt(this,We,vt)}),memoryDump:re(Le),pointer:lt,setMemberCString:re(function(We,vt){return xt(this,We,vt)})}),Object.assign($t.prototype,{addOnDispose:function(...We){return dt(this,...We),this}}),Object.defineProperties($t,{allocCString:re(Nt),isA:re(We=>We instanceof $t),hasExternalPointer:re(We=>We instanceof $t&&!!We[pe]),memberKey:Rt});const mn=We=>Number.isFinite(We)||We instanceof(Be||Number),qt=function We(vt,wt,kt){if(!We._){We._={getters:{},setters:{},sw:{}};const ai=["i","c","C","p","P","s","f","d","v()"];mt&&ai.push("j"),ai.forEach(function(Bs){We._.getters[Bs]=St(Bs),We._.setters[Bs]=Y(Bs),We._.sw[Bs]=ce(Bs)});const mx=/^[ipPsjfdcC]$/,gx=/^[vipPsjfdcC]\([ipPsjfdcC]*\)$/;We.sigCheck=function(Bs,yx,jm,Mf){Object.prototype.hasOwnProperty.call(Bs,jm)&&N(Bs.structName,"already has a property named",jm+"."),mx.test(Mf)||gx.test(Mf)||N("Malformed signature for",Ee(Bs.structName,yx)+":",Mf)}}const vn=vt.memberKey(wt);We.sigCheck(vt.prototype,wt,vn,kt.signature),kt.key=vn,kt.name=wt;const Kn=Ge(kt.signature),Bn=Ee(vt.prototype.structName,vn),Vn=vt.prototype.debugFlags.__flags,fa=Object.create(null);fa.configurable=!1,fa.enumerable=!1,fa.get=function(){Vn.getter&&Ke("debug.getter:",We._.getters[Kn],"for",Oe(Kn),Bn,"@",this.pointer,"+",kt.offset,"sz",kt.sizeof);let ai=new DataView($().buffer,this.pointer+kt.offset,kt.sizeof)[We._.getters[Kn]](0,Ie);return Vn.getter&&Ke("debug.getter:",Bn,"result =",ai),ai},kt.readOnly?fa.set=st(vt.prototype.structName,vn):fa.set=function(ai){if(Vn.setter&&Ke("debug.setter:",We._.setters[Kn],"for",Oe(Kn),Bn,"@",this.pointer,"+",kt.offset,"sz",kt.sizeof,ai),this.pointer||N("Cannot set struct property on disposed instance."),ai===null)ai=0;else for(;!mn(ai);){if(Ze(kt.signature)&&ai instanceof $t){ai=ai.pointer||0,Vn.setter&&Ke("debug.setter:",Bn,"resolved to",ai);break}N("Invalid value for pointer-type",Bn+".")}new DataView($().buffer,this.pointer+kt.offset,kt.sizeof)[We._.setters[Kn]](0,We._.sw[Kn](ai),Ie)},Object.defineProperty(vt.prototype,vn,fa)},Or=function We(vt,wt){arguments.length===1?(wt=vt,vt=wt.name):wt.name||(wt.name=vt),vt||N("Struct name is required.");let kt=!1;Object.keys(wt.members).forEach(Bn=>{const Vn=wt.members[Bn];Vn.sizeof?Vn.sizeof===1?Vn.signature==="c"||Vn.signature==="C"||N("Unexpected sizeof==1 member",Ee(wt.name,Bn),"with signature",Vn.signature):(Vn.sizeof%4!==0&&(console.warn("Invalid struct member description =",Vn,"from",wt),N(vt,"member",Bn,"sizeof is not aligned. sizeof="+Vn.sizeof)),Vn.offset%4!==0&&(console.warn("Invalid struct member description =",Vn,"from",wt),N(vt,"member",Bn,"offset is not aligned. offset="+Vn.offset))):N(vt,"member",Bn,"is missing sizeof."),(!kt||kt.offset<Vn.offset)&&(kt=Vn)}),kt?wt.sizeof<kt.offset+kt.sizeof&&N("Invalid struct config:",vt,"max member offset ("+kt.offset+") ","extends past end of struct (sizeof="+wt.sizeof+")."):N("No member property descriptions found.");const vn=re(C.__makeDebugFlags(We.debugFlags)),Kn=function Bn(Vn){this instanceof Bn?arguments.length?((Vn!==(Vn|0)||Vn<=0)&&N("Invalid pointer value for",vt,"constructor."),ie(Bn,this,Vn)):ie(Bn,this):N("The",vt,"constructor may only be called via 'new'.")};return Object.defineProperties(Kn,{debugFlags:vn,isA:re(Bn=>Bn instanceof Kn),memberKey:Rt,memberKeys:_e,methodInfoForKey:re(function(Bn){}),structInfo:re(wt),structName:re(vt)}),Kn.prototype=new $t(vt,wt,re),Object.defineProperties(Kn.prototype,{debugFlags:vn,constructor:re(Kn)}),Object.keys(wt.members).forEach(Bn=>qt(Kn,Bn,wt.members[Bn])),Kn};return Or.StructType=$t,Or.config=S,Or.allocCString=Nt,Or.debugFlags||(Or.debugFlags=C.__makeDebugFlags(C.debugFlags)),Or},globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=(...be)=>{throw new Error(be.join(" "))};y.SQLite3Error.toss;const N=y.capi,C=y.wasm,$=y.util;if(globalThis.WhWasmUtilInstaller(C),delete globalThis.WhWasmUtilInstaller,C.bindingSignatures=[["sqlite3_aggregate_context","void*","sqlite3_context*","int"],["sqlite3_bind_double","int","sqlite3_stmt*","int","f64"],["sqlite3_bind_int","int","sqlite3_stmt*","int","int"],["sqlite3_bind_null",void 0,"sqlite3_stmt*","int"],["sqlite3_bind_parameter_count","int","sqlite3_stmt*"],["sqlite3_bind_parameter_index","int","sqlite3_stmt*","string"],["sqlite3_bind_parameter_name","string","sqlite3_stmt*","int"],["sqlite3_bind_pointer","int","sqlite3_stmt*","int","*","string:static","*"],["sqlite3_busy_handler","int",["sqlite3*",new C.xWrap.FuncPtrAdapter({signature:"i(pi)",contextKey:(be,Ie)=>be[0]}),"*"]],["sqlite3_busy_timeout","int","sqlite3*","int"],["sqlite3_changes","int","sqlite3*"],["sqlite3_clear_bindings","int","sqlite3_stmt*"],["sqlite3_collation_needed","int","sqlite3*","*","*"],["sqlite3_column_blob","*","sqlite3_stmt*","int"],["sqlite3_column_bytes","int","sqlite3_stmt*","int"],["sqlite3_column_count","int","sqlite3_stmt*"],["sqlite3_column_decltype","string","sqlite3_stmt*","int"],["sqlite3_column_double","f64","sqlite3_stmt*","int"],["sqlite3_column_int","int","sqlite3_stmt*","int"],["sqlite3_column_name","string","sqlite3_stmt*","int"],["sqlite3_column_text","string","sqlite3_stmt*","int"],["sqlite3_column_type","int","sqlite3_stmt*","int"],["sqlite3_column_value","sqlite3_value*","sqlite3_stmt*","int"],["sqlite3_commit_hook","void*",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"sqlite3_commit_hook",signature:"i(p)",contextKey:be=>be[0]}),"*"]],["sqlite3_compileoption_get","string","int"],["sqlite3_compileoption_used","int","string"],["sqlite3_complete","int","string:flexible"],["sqlite3_context_db_handle","sqlite3*","sqlite3_context*"],["sqlite3_data_count","int","sqlite3_stmt*"],["sqlite3_db_filename","string","sqlite3*","string"],["sqlite3_db_handle","sqlite3*","sqlite3_stmt*"],["sqlite3_db_name","string","sqlite3*","int"],["sqlite3_db_readonly","int","sqlite3*","string"],["sqlite3_db_status","int","sqlite3*","int","*","*","int"],["sqlite3_errcode","int","sqlite3*"],["sqlite3_errmsg","string","sqlite3*"],["sqlite3_error_offset","int","sqlite3*"],["sqlite3_errstr","string","int"],["sqlite3_exec","int",["sqlite3*","string:flexible",new C.xWrap.FuncPtrAdapter({signature:"i(pipp)",bindScope:"transient",callProxy:be=>{let Ie;return(Te,Ze,Ge,Oe)=>{try{const Qe=C.cArgvToJs(Ze,Ge);return Ie||(Ie=C.cArgvToJs(Ze,Oe)),be(Qe,Ie)|0}catch(Qe){return Qe.resultCode||N.SQLITE_ERROR}}}}),"*","**"]],["sqlite3_expanded_sql","string","sqlite3_stmt*"],["sqlite3_extended_errcode","int","sqlite3*"],["sqlite3_extended_result_codes","int","sqlite3*","int"],["sqlite3_file_control","int","sqlite3*","string","int","*"],["sqlite3_finalize","int","sqlite3_stmt*"],["sqlite3_free",void 0,"*"],["sqlite3_get_autocommit","int","sqlite3*"],["sqlite3_get_auxdata","*","sqlite3_context*","int"],["sqlite3_initialize",void 0],["sqlite3_interrupt",void 0,"sqlite3*"],["sqlite3_is_interrupted","int","sqlite3*"],["sqlite3_keyword_count","int"],["sqlite3_keyword_name","int",["int","**","*"]],["sqlite3_keyword_check","int",["string","int"]],["sqlite3_libversion","string"],["sqlite3_libversion_number","int"],["sqlite3_limit","int",["sqlite3*","int","int"]],["sqlite3_malloc","*","int"],["sqlite3_open","int","string","*"],["sqlite3_open_v2","int","string","*","int","string"],["sqlite3_realloc","*","*","int"],["sqlite3_reset","int","sqlite3_stmt*"],["sqlite3_result_blob",void 0,"sqlite3_context*","*","int","*"],["sqlite3_result_double",void 0,"sqlite3_context*","f64"],["sqlite3_result_error",void 0,"sqlite3_context*","string","int"],["sqlite3_result_error_code",void 0,"sqlite3_context*","int"],["sqlite3_result_error_nomem",void 0,"sqlite3_context*"],["sqlite3_result_error_toobig",void 0,"sqlite3_context*"],["sqlite3_result_int",void 0,"sqlite3_context*","int"],["sqlite3_result_null",void 0,"sqlite3_context*"],["sqlite3_result_pointer",void 0,"sqlite3_context*","*","string:static","*"],["sqlite3_result_subtype",void 0,"sqlite3_value*","int"],["sqlite3_result_text",void 0,"sqlite3_context*","string","int","*"],["sqlite3_result_zeroblob",void 0,"sqlite3_context*","int"],["sqlite3_rollback_hook","void*",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"sqlite3_rollback_hook",signature:"v(p)",contextKey:be=>be[0]}),"*"]],["sqlite3_set_auxdata",void 0,["sqlite3_context*","int","*",new C.xWrap.FuncPtrAdapter({name:"xDestroyAuxData",signature:"v(*)",contextKey:(be,Ie)=>be[0]})]],["sqlite3_shutdown",void 0],["sqlite3_sourceid","string"],["sqlite3_sql","string","sqlite3_stmt*"],["sqlite3_status","int","int","*","*","int"],["sqlite3_step","int","sqlite3_stmt*"],["sqlite3_stmt_busy","int","sqlite3_stmt*"],["sqlite3_stmt_readonly","int","sqlite3_stmt*"],["sqlite3_stmt_status","int","sqlite3_stmt*","int","int"],["sqlite3_strglob","int","string","string"],["sqlite3_stricmp","int","string","string"],["sqlite3_strlike","int","string","string","int"],["sqlite3_strnicmp","int","string","string","int"],["sqlite3_table_column_metadata","int","sqlite3*","string","string","string","**","**","*","*","*"],["sqlite3_total_changes","int","sqlite3*"],["sqlite3_trace_v2","int",["sqlite3*","int",new C.xWrap.FuncPtrAdapter({name:"sqlite3_trace_v2::callback",signature:"i(ippp)",contextKey:(be,Ie)=>be[0]}),"*"]],["sqlite3_txn_state","int",["sqlite3*","string"]],["sqlite3_uri_boolean","int","sqlite3_filename","string","int"],["sqlite3_uri_key","string","sqlite3_filename","int"],["sqlite3_uri_parameter","string","sqlite3_filename","string"],["sqlite3_user_data","void*","sqlite3_context*"],["sqlite3_value_blob","*","sqlite3_value*"],["sqlite3_value_bytes","int","sqlite3_value*"],["sqlite3_value_double","f64","sqlite3_value*"],["sqlite3_value_dup","sqlite3_value*","sqlite3_value*"],["sqlite3_value_free",void 0,"sqlite3_value*"],["sqlite3_value_frombind","int","sqlite3_value*"],["sqlite3_value_int","int","sqlite3_value*"],["sqlite3_value_nochange","int","sqlite3_value*"],["sqlite3_value_numeric_type","int","sqlite3_value*"],["sqlite3_value_pointer","*","sqlite3_value*","string:static"],["sqlite3_value_subtype","int","sqlite3_value*"],["sqlite3_value_text","string","sqlite3_value*"],["sqlite3_value_type","int","sqlite3_value*"],["sqlite3_vfs_find","*","string"],["sqlite3_vfs_register","int","sqlite3_vfs*","int"],["sqlite3_vfs_unregister","int","sqlite3_vfs*"]],C.exports.sqlite3_progress_handler&&C.bindingSignatures.push(["sqlite3_progress_handler",void 0,["sqlite3*","int",new C.xWrap.FuncPtrAdapter({name:"xProgressHandler",signature:"i(p)",bindScope:"context",contextKey:(be,Ie)=>be[0]}),"*"]]),C.exports.sqlite3_stmt_explain&&C.bindingSignatures.push(["sqlite3_stmt_explain","int","sqlite3_stmt*","int"],["sqlite3_stmt_isexplain","int","sqlite3_stmt*"]),C.exports.sqlite3_set_authorizer&&C.bindingSignatures.push(["sqlite3_set_authorizer","int",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"sqlite3_set_authorizer::xAuth",signature:"i(pissss)",contextKey:(be,Ie)=>be[0],callProxy:be=>(Ie,Te,Ze,Ge,Oe,Qe)=>{try{return Ze=Ze&&C.cstrToJs(Ze),Ge=Ge&&C.cstrToJs(Ge),Oe=Oe&&C.cstrToJs(Oe),Qe=Qe&&C.cstrToJs(Qe),be(Ie,Te,Ze,Ge,Oe,Qe)||0}catch(St){return St.resultCode||N.SQLITE_ERROR}}}),"*"]]),C.bindingSignatures.int64=[["sqlite3_bind_int64","int",["sqlite3_stmt*","int","i64"]],["sqlite3_changes64","i64",["sqlite3*"]],["sqlite3_column_int64","i64",["sqlite3_stmt*","int"]],["sqlite3_deserialize","int","sqlite3*","string","*","i64","i64","int"],["sqlite3_last_insert_rowid","i64",["sqlite3*"]],["sqlite3_malloc64","*","i64"],["sqlite3_msize","i64","*"],["sqlite3_overload_function","int",["sqlite3*","string","int"]],["sqlite3_realloc64","*","*","i64"],["sqlite3_result_int64",void 0,"*","i64"],["sqlite3_result_zeroblob64","int","*","i64"],["sqlite3_serialize","*","sqlite3*","string","*","int"],["sqlite3_set_last_insert_rowid",void 0,["sqlite3*","i64"]],["sqlite3_status64","int","int","*","*","int"],["sqlite3_total_changes64","i64",["sqlite3*"]],["sqlite3_update_hook","*",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"sqlite3_update_hook",signature:"v(iippj)",contextKey:be=>be[0],callProxy:be=>(Ie,Te,Ze,Ge,Oe)=>{be(Ie,Te,C.cstrToJs(Ze),C.cstrToJs(Ge),Oe)}}),"*"]],["sqlite3_uri_int64","i64",["sqlite3_filename","string","i64"]],["sqlite3_value_int64","i64","sqlite3_value*"]],C.bigIntEnabled&&C.exports.sqlite3_declare_vtab&&C.bindingSignatures.int64.push(["sqlite3_create_module","int",["sqlite3*","string","sqlite3_module*","*"]],["sqlite3_create_module_v2","int",["sqlite3*","string","sqlite3_module*","*","*"]],["sqlite3_declare_vtab","int",["sqlite3*","string:flexible"]],["sqlite3_drop_modules","int",["sqlite3*","**"]],["sqlite3_vtab_collation","string","sqlite3_index_info*","int"],["sqlite3_vtab_distinct","int","sqlite3_index_info*"],["sqlite3_vtab_in","int","sqlite3_index_info*","int","int"],["sqlite3_vtab_in_first","int","sqlite3_value*","**"],["sqlite3_vtab_in_next","int","sqlite3_value*","**"],["sqlite3_vtab_nochange","int","sqlite3_context*"],["sqlite3_vtab_on_conflict","int","sqlite3*"],["sqlite3_vtab_rhs_value","int","sqlite3_index_info*","int","**"]),C.bigIntEnabled&&C.exports.sqlite3_preupdate_hook&&C.bindingSignatures.int64.push(["sqlite3_preupdate_blobwrite","int","sqlite3*"],["sqlite3_preupdate_count","int","sqlite3*"],["sqlite3_preupdate_depth","int","sqlite3*"],["sqlite3_preupdate_hook","*",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"sqlite3_preupdate_hook",signature:"v(ppippjj)",contextKey:be=>be[0],callProxy:be=>(Ie,Te,Ze,Ge,Oe,Qe,St)=>{be(Ie,Te,Ze,C.cstrToJs(Ge),C.cstrToJs(Oe),Qe,St)}}),"*"]],["sqlite3_preupdate_new","int",["sqlite3*","int","**"]],["sqlite3_preupdate_old","int",["sqlite3*","int","**"]]),C.bigIntEnabled&&C.exports.sqlite3changegroup_add&&C.exports.sqlite3session_create&&C.exports.sqlite3_preupdate_hook){const be={signature:"i(ps)",callProxy:Ie=>(Te,Ze)=>{try{return Ie(Te,C.cstrToJs(Ze))|0}catch(Ge){return Ge.resultCode||N.SQLITE_ERROR}}};C.bindingSignatures.int64.push(["sqlite3changegroup_add","int",["sqlite3_changegroup*","int","void*"]],["sqlite3changegroup_add_strm","int",["sqlite3_changegroup*",new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changegroup_delete",void 0,["sqlite3_changegroup*"]],["sqlite3changegroup_new","int",["**"]],["sqlite3changegroup_output","int",["sqlite3_changegroup*","int*","**"]],["sqlite3changegroup_output_strm","int",["sqlite3_changegroup*",new C.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply","int",["sqlite3*","int","void*",new C.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...be}),new C.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_strm","int",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new C.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...be}),new C.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_v2","int",["sqlite3*","int","void*",new C.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...be}),new C.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_apply_v2_strm","int",["sqlite3*",new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new C.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...be}),new C.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_concat","int",["int","void*","int","void*","int*","**"]],["sqlite3changeset_concat_strm","int",[new C.xWrap.FuncPtrAdapter({name:"xInputA",signature:"i(ppp)",bindScope:"transient"}),"void*",new C.xWrap.FuncPtrAdapter({name:"xInputB",signature:"i(ppp)",bindScope:"transient"}),"void*",new C.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_conflict","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_finalize","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_fk_conflicts","int",["sqlite3_changeset_iter*","int*"]],["sqlite3changeset_invert","int",["int","void*","int*","**"]],["sqlite3changeset_invert_strm","int",[new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new C.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_new","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_next","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_old","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_op","int",["sqlite3_changeset_iter*","**","int*","int*","int*"]],["sqlite3changeset_pk","int",["sqlite3_changeset_iter*","**","int*"]],["sqlite3changeset_start","int",["**","int","*"]],["sqlite3changeset_start_strm","int",["**",new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changeset_start_v2","int",["**","int","*","int"]],["sqlite3changeset_start_v2_strm","int",["**",new C.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*","int"]],["sqlite3session_attach","int",["sqlite3_session*","string"]],["sqlite3session_changeset","int",["sqlite3_session*","int*","**"]],["sqlite3session_changeset_size","i64",["sqlite3_session*"]],["sqlite3session_changeset_strm","int",["sqlite3_session*",new C.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_config","int",["int","void*"]],["sqlite3session_create","int",["sqlite3*","string","**"]],["sqlite3session_diff","int",["sqlite3_session*","string","string","**"]],["sqlite3session_enable","int",["sqlite3_session*","int"]],["sqlite3session_indirect","int",["sqlite3_session*","int"]],["sqlite3session_isempty","int",["sqlite3_session*"]],["sqlite3session_memory_used","i64",["sqlite3_session*"]],["sqlite3session_object_config","int",["sqlite3_session*","int","void*"]],["sqlite3session_patchset","int",["sqlite3_session*","*","**"]],["sqlite3session_patchset_strm","int",["sqlite3_session*",new C.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_table_filter",void 0,["sqlite3_session*",new C.xWrap.FuncPtrAdapter({name:"xFilter",...be,contextKey:(Ie,Te)=>Ie[0]}),"*"]])}C.bindingSignatures.wasmInternal=[["sqlite3__wasm_db_reset","int","sqlite3*"],["sqlite3__wasm_db_vfs","sqlite3_vfs*","sqlite3*","string"],["sqlite3__wasm_vfs_create_file","int","sqlite3_vfs*","string","*","int"],["sqlite3__wasm_posix_create_file","int","string","*","int"],["sqlite3__wasm_vfs_unlink","int","sqlite3_vfs*","string"],["sqlite3__wasm_qfmt_token","string:dealloc","string","int"]],y.StructBinder=globalThis.Jaccwabyt({heap:C.heap8u,alloc:C.alloc,dealloc:C.dealloc,bigIntEnabled:C.bigIntEnabled,memberPrefix:"$"}),delete globalThis.Jaccwabyt;{const be=C.xWrap.argAdapter("string");C.xWrap.argAdapter("string:flexible",Oe=>be($.flexibleString(Oe))),C.xWrap.argAdapter("string:static",function(Oe){return C.isPtr(Oe)?Oe:(Oe=""+Oe,this[Oe]||(this[Oe]=C.allocCString(Oe)))}.bind(Object.create(null)));const Ie=C.xWrap.argAdapter("*"),Te=function(){};C.xWrap.argAdapter("sqlite3_filename",Ie)("sqlite3_context*",Ie)("sqlite3_value*",Ie)("void*",Ie)("sqlite3_changegroup*",Ie)("sqlite3_changeset_iter*",Ie)("sqlite3_session*",Ie)("sqlite3_stmt*",Oe=>Ie(Oe instanceof(y?.oo1?.Stmt||Te)?Oe.pointer:Oe))("sqlite3*",Oe=>Ie(Oe instanceof(y?.oo1?.DB||Te)?Oe.pointer:Oe))("sqlite3_vfs*",Oe=>typeof Oe=="string"?N.sqlite3_vfs_find(Oe)||y.SQLite3Error.toss(N.SQLITE_NOTFOUND,"Unknown sqlite3_vfs name:",Oe):Ie(Oe instanceof(N.sqlite3_vfs||Te)?Oe.pointer:Oe)),C.exports.sqlite3_declare_vtab&&C.xWrap.argAdapter("sqlite3_index_info*",Oe=>Ie(Oe instanceof(N.sqlite3_index_info||Te)?Oe.pointer:Oe))("sqlite3_module*",Oe=>Ie(Oe instanceof(N.sqlite3_module||Te)?Oe.pointer:Oe));const Ze=C.xWrap.resultAdapter("*");C.xWrap.resultAdapter("sqlite3*",Ze)("sqlite3_context*",Ze)("sqlite3_stmt*",Ze)("sqlite3_value*",Ze)("sqlite3_vfs*",Ze)("void*",Ze),C.exports.sqlite3_step.length===0&&(C.xWrap.doArgcCheck=!1,y.config.warn("Disabling sqlite3.wasm.xWrap.doArgcCheck due to environmental quirks."));for(const Oe of C.bindingSignatures)N[Oe[0]]=C.xWrap.apply(null,Oe);for(const Oe of C.bindingSignatures.wasmInternal)$[Oe[0]]=C.xWrap.apply(null,Oe);const Ge=function(Oe){return()=>S(Oe+"() is unavailable due to lack","of BigInt support in this build.")};for(const Oe of C.bindingSignatures.int64)N[Oe[0]]=C.bigIntEnabled?C.xWrap.apply(null,Oe):Ge(Oe[0]);if(delete C.bindingSignatures,C.exports.sqlite3__wasm_db_error){const Oe=C.xWrap("sqlite3__wasm_db_error","int","sqlite3*","int","string");$.sqlite3__wasm_db_error=function(Qe,St,Y){return St instanceof y.WasmAllocError?(St=N.SQLITE_NOMEM,Y=0):St instanceof Error&&(Y=Y||""+St,St=St.resultCode||N.SQLITE_ERROR),Qe?Oe(Qe,St,Y):St}}else $.sqlite3__wasm_db_error=function(Oe,Qe,St){return console.warn("sqlite3__wasm_db_error() is not exported.",arguments),Qe}}{const be=C.xCall("sqlite3__wasm_enum_json");be||S("Maintenance required: increase sqlite3__wasm_enum_json()'s","static buffer size!"),C.ctype=JSON.parse(C.cstrToJs(be));const Ie=["access","authorizer","blobFinalizers","changeset","config","dataTypes","dbConfig","dbStatus","encodings","fcntl","flock","ioCap","limits","openFlags","prepareFlags","resultCodes","sqlite3Status","stmtStatus","syncFlags","trace","txnState","udfFlags","version"];C.bigIntEnabled&&Ie.push("serialize","session","vtab");for(const Ge of Ie)for(const Oe of Object.entries(C.ctype[Ge]))N[Oe[0]]=Oe[1];C.functionEntry(N.SQLITE_WASM_DEALLOC)||S("Internal error: cannot resolve exported function","entry SQLITE_WASM_DEALLOC (=="+N.SQLITE_WASM_DEALLOC+").");const Te=Object.create(null);for(const Ge of["resultCodes"])for(const Oe of Object.entries(C.ctype[Ge]))Te[Oe[1]]=Oe[0];N.sqlite3_js_rc_str=Ge=>Te[Ge];const Ze=Object.assign(Object.create(null),{WasmTestStruct:!0,sqlite3_kvvfs_methods:!$.isUIThread(),sqlite3_index_info:!C.bigIntEnabled,sqlite3_index_constraint:!C.bigIntEnabled,sqlite3_index_orderby:!C.bigIntEnabled,sqlite3_index_constraint_usage:!C.bigIntEnabled});for(const Ge of C.ctype.structs)Ze[Ge.name]||(N[Ge.name]=y.StructBinder(Ge));if(N.sqlite3_index_info){for(const Ge of["sqlite3_index_constraint","sqlite3_index_orderby","sqlite3_index_constraint_usage"])N.sqlite3_index_info[Ge]=N[Ge],delete N[Ge];N.sqlite3_vtab_config=C.xWrap("sqlite3__wasm_vtab_config","int",["sqlite3*","int","int"])}}const fe=(be,Ie,Te)=>$.sqlite3__wasm_db_error(be,N.SQLITE_MISUSE,Ie+"() requires "+Te+" argument"+(Te===1?"":"s")+"."),me=be=>$.sqlite3__wasm_db_error(be,N.SQLITE_FORMAT,"SQLITE_UTF8 is the only supported encoding."),Ke=be=>C.xWrap.argAdapter("sqlite3*")(be),tt=be=>C.isPtr(be)?C.cstrToJs(be):be,at=function(be,Ie){be=Ke(be);let Te=this.dbMap.get(be);if(Ie)!Te&&Ie>0&&this.dbMap.set(be,Te=Object.create(null));else return this.dbMap.delete(be),Te;return Te}.bind(Object.assign(Object.create(null),{dbMap:new Map}));at.addCollation=function(be,Ie){const Te=at(be,1);Te.collation||(Te.collation=new Set),Te.collation.add(tt(Ie).toLowerCase())},at._addUDF=function(be,Ie,Te,Ze){Ie=tt(Ie).toLowerCase();let Ge=Ze.get(Ie);Ge||Ze.set(Ie,Ge=new Set),Ge.add(Te<0?-1:Te)},at.addFunction=function(be,Ie,Te){const Ze=at(be,1);Ze.udf||(Ze.udf=new Map),this._addUDF(be,Ie,Te,Ze.udf)},C.exports.sqlite3_create_window_function&&(at.addWindowFunc=function(be,Ie,Te){const Ze=at(be,1);Ze.wudf||(Ze.wudf=new Map),this._addUDF(be,Ie,Te,Ze.wudf)}),at.cleanup=function(be){be=Ke(be);const Ie=[be];for(const Ge of["sqlite3_busy_handler","sqlite3_commit_hook","sqlite3_preupdate_hook","sqlite3_progress_handler","sqlite3_rollback_hook","sqlite3_set_authorizer","sqlite3_trace_v2","sqlite3_update_hook"]){const Oe=C.exports[Ge];if(Oe){Ie.length=Oe.length;try{N[Ge](...Ie)}catch(Qe){y.config.warn("close-time call of",Ge+"(",Ie,") threw:",Qe)}}}const Te=at(be,0);if(!Te)return;if(Te.collation){for(const Ge of Te.collation)try{N.sqlite3_create_collation_v2(be,Ge,N.SQLITE_UTF8,0,0,0)}catch{}delete Te.collation}let Ze;for(Ze=0;Ze<2;++Ze){const Ge=Ze?Te.wudf:Te.udf;if(!Ge)continue;const Oe=Ze?N.sqlite3_create_window_function:N.sqlite3_create_function_v2;for(const Qe of Ge){const St=Qe[0],Y=Qe[1],ce=[be,St,0,N.SQLITE_UTF8,0,0,0,0,0];Ze&&ce.push(0);for(const Ee of Y)try{ce[2]=Ee,Oe.apply(null,ce)}catch{}Y.clear()}Ge.clear()}delete Te.udf,delete Te.wudf};{const be=C.xWrap("sqlite3_close_v2","int","sqlite3*");N.sqlite3_close_v2=function(Ie){if(arguments.length!==1)return fe(Ie,"sqlite3_close_v2",1);if(Ie)try{at.cleanup(Ie)}catch{}return be(Ie)}}if(N.sqlite3session_create){const be=C.xWrap("sqlite3session_delete",void 0,["sqlite3_session*"]);N.sqlite3session_delete=function(Ie){if(arguments.length!==1)return fe(pDb,"sqlite3session_delete",1);Ie&&N.sqlite3session_table_filter(Ie,0,0),be(Ie)}}{const be=(Te,Ze)=>"argv["+Ze+"]:"+Te[0]+":"+C.cstrToJs(Te[1]).toLowerCase(),Ie=C.xWrap("sqlite3_create_collation_v2","int",["sqlite3*","string","int","*",new C.xWrap.FuncPtrAdapter({name:"xCompare",signature:"i(pipip)",contextKey:be}),new C.xWrap.FuncPtrAdapter({name:"xDestroy",signature:"v(p)",contextKey:be})]);N.sqlite3_create_collation_v2=function(Te,Ze,Ge,Oe,Qe,St){if(arguments.length!==6)return fe(Te,"sqlite3_create_collation_v2",6);if(!(Ge&15))Ge|=N.SQLITE_UTF8;else if(N.SQLITE_UTF8!==(Ge&15))return me(Te);try{const Y=Ie(Te,Ze,Ge,Oe,Qe,St);return Y===0&&Qe instanceof Function&&at.addCollation(Te,Ze),Y}catch(Y){return $.sqlite3__wasm_db_error(Te,Y)}},N.sqlite3_create_collation=(Te,Ze,Ge,Oe,Qe)=>arguments.length===5?N.sqlite3_create_collation_v2(Te,Ze,Ge,Oe,Qe,0):fe(Te,"sqlite3_create_collation",5)}{const be=function(Ge,Oe){return Ge[0]+":"+(Ge[2]<0?-1:Ge[2])+":"+Oe+":"+C.cstrToJs(Ge[1]).toLowerCase()},Ie=Object.assign(Object.create(null),{xInverseAndStep:{signature:"v(pip)",contextKey:be,callProxy:Ge=>(Oe,Qe,St)=>{try{Ge(Oe,...N.sqlite3_values_to_js(Qe,St))}catch(Y){N.sqlite3_result_error_js(Oe,Y)}}},xFinalAndValue:{signature:"v(p)",contextKey:be,callProxy:Ge=>Oe=>{try{N.sqlite3_result_js(Oe,Ge(Oe))}catch(Qe){N.sqlite3_result_error_js(Oe,Qe)}}},xFunc:{signature:"v(pip)",contextKey:be,callProxy:Ge=>(Oe,Qe,St)=>{try{N.sqlite3_result_js(Oe,Ge(Oe,...N.sqlite3_values_to_js(Qe,St)))}catch(Y){N.sqlite3_result_error_js(Oe,Y)}}},xDestroy:{signature:"v(p)",contextKey:be,callProxy:Ge=>Oe=>{try{Ge(Oe)}catch(Qe){console.error("UDF xDestroy method threw:",Qe)}}}}),Te=C.xWrap("sqlite3_create_function_v2","int",["sqlite3*","string","int","int","*",new C.xWrap.FuncPtrAdapter({name:"xFunc",...Ie.xFunc}),new C.xWrap.FuncPtrAdapter({name:"xStep",...Ie.xInverseAndStep}),new C.xWrap.FuncPtrAdapter({name:"xFinal",...Ie.xFinalAndValue}),new C.xWrap.FuncPtrAdapter({name:"xDestroy",...Ie.xDestroy})]),Ze=C.exports.sqlite3_create_window_function?C.xWrap("sqlite3_create_window_function","int",["sqlite3*","string","int","int","*",new C.xWrap.FuncPtrAdapter({name:"xStep",...Ie.xInverseAndStep}),new C.xWrap.FuncPtrAdapter({name:"xFinal",...Ie.xFinalAndValue}),new C.xWrap.FuncPtrAdapter({name:"xValue",...Ie.xFinalAndValue}),new C.xWrap.FuncPtrAdapter({name:"xInverse",...Ie.xInverseAndStep}),new C.xWrap.FuncPtrAdapter({name:"xDestroy",...Ie.xDestroy})]):void 0;N.sqlite3_create_function_v2=function Ge(Oe,Qe,St,Y,ce,Ee,st,ae,pe){if(Ge.length!==arguments.length)return fe(Oe,"sqlite3_create_function_v2",Ge.length);if(!(Y&15))Y|=N.SQLITE_UTF8;else if(N.SQLITE_UTF8!==(Y&15))return me(Oe);try{const K=Te(Oe,Qe,St,Y,ce,Ee,st,ae,pe);return K===0&&(Ee instanceof Function||st instanceof Function||ae instanceof Function||pe instanceof Function)&&at.addFunction(Oe,Qe,St),K}catch(K){return console.error("sqlite3_create_function_v2() setup threw:",K),$.sqlite3__wasm_db_error(Oe,K,"Creation of UDF threw: "+K)}},N.sqlite3_create_function=function Ge(Oe,Qe,St,Y,ce,Ee,st,ae){return Ge.length===arguments.length?N.sqlite3_create_function_v2(Oe,Qe,St,Y,ce,Ee,st,ae,0):fe(Oe,"sqlite3_create_function",Ge.length)},Ze?N.sqlite3_create_window_function=function Ge(Oe,Qe,St,Y,ce,Ee,st,ae,pe,K){if(Ge.length!==arguments.length)return fe(Oe,"sqlite3_create_window_function",Ge.length);if(!(Y&15))Y|=N.SQLITE_UTF8;else if(N.SQLITE_UTF8!==(Y&15))return me(Oe);try{const re=Ze(Oe,Qe,St,Y,ce,Ee,st,ae,pe,K);return re===0&&(Ee instanceof Function||st instanceof Function||ae instanceof Function||pe instanceof Function||K instanceof Function)&&at.addWindowFunc(Oe,Qe,St),re}catch(re){return console.error("sqlite3_create_window_function() setup threw:",re),$.sqlite3__wasm_db_error(Oe,re,"Creation of UDF threw: "+re)}}:delete N.sqlite3_create_window_function,N.sqlite3_create_function_v2.udfSetResult=N.sqlite3_create_function.udfSetResult=N.sqlite3_result_js,N.sqlite3_create_window_function&&(N.sqlite3_create_window_function.udfSetResult=N.sqlite3_result_js),N.sqlite3_create_function_v2.udfConvertArgs=N.sqlite3_create_function.udfConvertArgs=N.sqlite3_values_to_js,N.sqlite3_create_window_function&&(N.sqlite3_create_window_function.udfConvertArgs=N.sqlite3_values_to_js),N.sqlite3_create_function_v2.udfSetError=N.sqlite3_create_function.udfSetError=N.sqlite3_result_error_js,N.sqlite3_create_window_function&&(N.sqlite3_create_window_function.udfSetError=N.sqlite3_result_error_js)}{const be=(Te,Ze)=>(typeof Te=="string"?Ze=-1:$.isSQLableTypedArray(Te)?(Ze=Te.byteLength,Te=$.typedArrayToString(Te instanceof ArrayBuffer?new Uint8Array(Te):Te)):Array.isArray(Te)&&(Te=Te.join(""),Ze=-1),[Te,Ze]),Ie={basic:C.xWrap("sqlite3_prepare_v3","int",["sqlite3*","string","int","int","**","**"]),full:C.xWrap("sqlite3_prepare_v3","int",["sqlite3*","*","int","int","**","**"])};N.sqlite3_prepare_v3=function Te(Ze,Ge,Oe,Qe,St,Y){if(Te.length!==arguments.length)return fe(Ze,"sqlite3_prepare_v3",Te.length);const[ce,Ee]=be(Ge,Oe);switch(typeof ce){case"string":return Ie.basic(Ze,ce,Ee,Qe,St,null);case"number":return Ie.full(Ze,ce,Ee,Qe,St,Y);default:return $.sqlite3__wasm_db_error(Ze,N.SQLITE_MISUSE,"Invalid SQL argument type for sqlite3_prepare_v2/v3().")}},N.sqlite3_prepare_v2=function Te(Ze,Ge,Oe,Qe,St){return Te.length===arguments.length?N.sqlite3_prepare_v3(Ze,Ge,Oe,0,Qe,St):fe(Ze,"sqlite3_prepare_v2",Te.length)}}{const be=C.xWrap("sqlite3_bind_text","int",["sqlite3_stmt*","int","string","int","*"]),Ie=C.xWrap("sqlite3_bind_blob","int",["sqlite3_stmt*","int","*","int","*"]);N.sqlite3_bind_text=function Te(Ze,Ge,Oe,Qe,St){if(Te.length!==arguments.length)return fe(N.sqlite3_db_handle(Ze),"sqlite3_bind_text",Te.length);if(C.isPtr(Oe)||Oe===null)return be(Ze,Ge,Oe,Qe,St);Oe instanceof ArrayBuffer?Oe=new Uint8Array(Oe):Array.isArray(pMem)&&(Oe=pMem.join(""));let Y,ce;try{if($.isSQLableTypedArray(Oe))Y=C.allocFromTypedArray(Oe),ce=Oe.byteLength;else if(typeof Oe=="string")[Y,ce]=C.allocCString(Oe);else return $.sqlite3__wasm_db_error(N.sqlite3_db_handle(Ze),N.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_text().");return be(Ze,Ge,Y,ce,N.SQLITE_WASM_DEALLOC)}catch(Ee){return C.dealloc(Y),$.sqlite3__wasm_db_error(N.sqlite3_db_handle(Ze),Ee)}},N.sqlite3_bind_blob=function Te(Ze,Ge,Oe,Qe,St){if(Te.length!==arguments.length)return fe(N.sqlite3_db_handle(Ze),"sqlite3_bind_blob",Te.length);if(C.isPtr(Oe)||Oe===null)return Ie(Ze,Ge,Oe,Qe,St);Oe instanceof ArrayBuffer?Oe=new Uint8Array(Oe):Array.isArray(Oe)&&(Oe=Oe.join(""));let Y,ce;try{if($.isBindableTypedArray(Oe))Y=C.allocFromTypedArray(Oe),ce=Qe>=0?Qe:Oe.byteLength;else if(typeof Oe=="string")[Y,ce]=C.allocCString(Oe);else return $.sqlite3__wasm_db_error(N.sqlite3_db_handle(Ze),N.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_blob().");return Ie(Ze,Ge,Y,ce,N.SQLITE_WASM_DEALLOC)}catch(Ee){return C.dealloc(Y),$.sqlite3__wasm_db_error(N.sqlite3_db_handle(Ze),Ee)}}}N.sqlite3_config=function(be,...Ie){if(arguments.length<2)return N.SQLITE_MISUSE;switch(be){case N.SQLITE_CONFIG_COVERING_INDEX_SCAN:case N.SQLITE_CONFIG_MEMSTATUS:case N.SQLITE_CONFIG_SMALL_MALLOC:case N.SQLITE_CONFIG_SORTERREF_SIZE:case N.SQLITE_CONFIG_STMTJRNL_SPILL:case N.SQLITE_CONFIG_URI:return C.exports.sqlite3__wasm_config_i(be,Ie[0]);case N.SQLITE_CONFIG_LOOKASIDE:return C.exports.sqlite3__wasm_config_ii(be,Ie[0],Ie[1]);case N.SQLITE_CONFIG_MEMDB_MAXSIZE:return C.exports.sqlite3__wasm_config_j(be,Ie[0]);case N.SQLITE_CONFIG_GETMALLOC:case N.SQLITE_CONFIG_GETMUTEX:case N.SQLITE_CONFIG_GETPCACHE2:case N.SQLITE_CONFIG_GETPCACHE:case N.SQLITE_CONFIG_HEAP:case N.SQLITE_CONFIG_LOG:case N.SQLITE_CONFIG_MALLOC:case N.SQLITE_CONFIG_MMAP_SIZE:case N.SQLITE_CONFIG_MULTITHREAD:case N.SQLITE_CONFIG_MUTEX:case N.SQLITE_CONFIG_PAGECACHE:case N.SQLITE_CONFIG_PCACHE2:case N.SQLITE_CONFIG_PCACHE:case N.SQLITE_CONFIG_PCACHE_HDRSZ:case N.SQLITE_CONFIG_PMASZ:case N.SQLITE_CONFIG_SERIALIZED:case N.SQLITE_CONFIG_SINGLETHREAD:case N.SQLITE_CONFIG_SQLLOG:case N.SQLITE_CONFIG_WIN32_HEAPSIZE:default:return N.SQLITE_NOTFOUND}};{const be=new Set;N.sqlite3_auto_extension=function(Ie){if(Ie instanceof Function)Ie=C.installFunction("i(ppp)",Ie);else if(arguments.length!==1||!C.isPtr(Ie))return N.SQLITE_MISUSE;const Te=C.exports.sqlite3_auto_extension(Ie);return Ie!==arguments[0]&&(Te===0?be.add(Ie):C.uninstallFunction(Ie)),Te},N.sqlite3_cancel_auto_extension=function(Ie){return!Ie||arguments.length!==1||!C.isPtr(Ie)?0:C.exports.sqlite3_cancel_auto_extension(Ie)},N.sqlite3_reset_auto_extension=function(){C.exports.sqlite3_reset_auto_extension();for(const Ie of be)C.uninstallFunction(Ie);be.clear()}}const mt=N.sqlite3_vfs_find("kvvfs");if(mt)if($.isUIThread()){const be=new N.sqlite3_kvvfs_methods(C.exports.sqlite3__wasm_kvvfs_methods());delete N.sqlite3_kvvfs_methods;const Ie=C.exports.sqlite3__wasm_kvvfsMakeKeyOnPstack,Te=C.pstack,Ze=Oe=>C.peek(Oe)===115?sessionStorage:localStorage,Ge={xRead:(Oe,Qe,St,Y)=>{const ce=Te.pointer,Ee=C.scopedAllocPush();try{const st=Ie(Oe,Qe);if(!st)return-3;const ae=C.cstrToJs(st),pe=Ze(Oe).getItem(ae);if(!pe)return-1;const K=pe.length;if(Y<=0)return K;if(Y===1)return C.poke(St,0),K;const re=C.scopedAllocCString(pe);return Y>K+1&&(Y=K+1),C.heap8u().copyWithin(St,re,re+Y-1),C.poke(St+Y-1,0),Y-1}catch(st){return console.error("kvstorageRead()",st),-2}finally{Te.restore(ce),C.scopedAllocPop(Ee)}},xWrite:(Oe,Qe,St)=>{const Y=Te.pointer;try{const ce=Ie(Oe,Qe);if(!ce)return 1;const Ee=C.cstrToJs(ce);return Ze(Oe).setItem(Ee,C.cstrToJs(St)),0}catch(ce){return console.error("kvstorageWrite()",ce),N.SQLITE_IOERR}finally{Te.restore(Y)}},xDelete:(Oe,Qe)=>{const St=Te.pointer;try{const Y=Ie(Oe,Qe);return Y?(Ze(Oe).removeItem(C.cstrToJs(Y)),0):1}catch(Y){return console.error("kvstorageDelete()",Y),N.SQLITE_IOERR}finally{Te.restore(St)}}};for(const Oe of Object.keys(Ge))be[be.memberKey(Oe)]=C.installFunction(be.memberSignature(Oe),Ge[Oe])}else N.sqlite3_vfs_unregister(mt);C.xWrap.FuncPtrAdapter.warnOnUse=!0;const Be=y.StructBinder,qe=function be(Ie,Te,Ze,Ge=be.installMethodArgcCheck){if(Ie instanceof Be.StructType?!(Ze instanceof Function)&&!C.isPtr(Ze)&&S("Usage errror: expecting a Function or WASM pointer to one."):S("Usage error: target object is-not-a StructType."),arguments.length===1)return(Y,ce)=>be(Ie,Y,ce,Ge);be.argcProxy||(be.argcProxy=function(Y,ce,Ee,st){return function(...ae){return Ee.length!==arguments.length&&S("Argument mismatch for",Y.structInfo.name+"::"+ce+": Native signature is:",st),Ee.apply(this,ae)}},be.removeFuncList=function(){this.ondispose.__removeFuncList&&(this.ondispose.__removeFuncList.forEach((Y,ce)=>{if(typeof Y=="number")try{C.uninstallFunction(Y)}catch{}}),delete this.ondispose.__removeFuncList)});const Oe=Ie.memberSignature(Te);Oe.length<2&&S("Member",Te,"does not have a function pointer signature:",Oe);const Qe=Ie.memberKey(Te),St=Ge&&!C.isPtr(Ze)?be.argcProxy(Ie,Qe,Ze,Oe):Ze;if(C.isPtr(St))St&&!C.functionEntry(St)&&S("Pointer",St,"is not a WASM function table entry."),Ie[Qe]=St;else{const Y=C.installFunction(St,Ie.memberSignature(Te,!0));Ie[Qe]=Y,(!Ie.ondispose||!Ie.ondispose.__removeFuncList)&&(Ie.addOnDispose("ondispose.__removeFuncList handler",be.removeFuncList),Ie.ondispose.__removeFuncList=[]),Ie.ondispose.__removeFuncList.push(Qe,Y)}return(Y,ce)=>be(Ie,Y,ce,Ge)};qe.installMethodArgcCheck=!1;const et=function(be,Ie,Te=qe.installMethodArgcCheck){const Ze=new Map;for(const Ge of Object.keys(Ie)){const Oe=Ie[Ge],Qe=Ze.get(Oe);if(Qe){const St=be.memberKey(Ge);be[St]=be[be.memberKey(Qe)]}else qe(be,Ge,Oe,Te),Ze.set(Oe,Ge)}return be};Be.StructType.prototype.installMethod=function(Ie,Te,Ze=qe.installMethodArgcCheck){return arguments.length<3&&Ie&&typeof Ie=="object"?et(this,...arguments):qe(this,...arguments)},Be.StructType.prototype.installMethods=function(be,Ie=qe.installMethodArgcCheck){return et(this,be,Ie)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){y.version={libVersion:"3.47.1",libVersionNumber:3047001,sourceId:"2024-11-25 12:07:48 b95d11e958643b969c47a8e5857f3793b9e69700b8f1469371386369a26e577e",downloadVersion:3470100}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=(...ae)=>{throw new y.SQLite3Error(...ae)},N=y.capi,C=y.wasm,$=y.util,fe=new WeakMap,me=new WeakMap,Ke=(ae,pe,K)=>{const re=Object.getOwnPropertyDescriptor(ae,pe);return re?re.value:K},tt=function(ae,pe){return pe&&(ae instanceof qe&&(ae=ae.pointer),S(pe,"sqlite3 result code",pe+":",ae?N.sqlite3_errmsg(ae):N.sqlite3_errstr(pe))),arguments[0]},at=C.installFunction("i(ippp)",function(ae,pe,K,re){N.SQLITE_TRACE_STMT===ae&&console.log("SQL TRACE #"+ ++this.counter+" via sqlite3@"+pe+":",C.cstrToJs(re))}.bind({counter:0})),mt=Object.create(null),Be=function ae(...pe){if(!ae._name2vfs){ae._name2vfs=Object.create(null);const _e=typeof importScripts=="function"?Pe=>S("The VFS for",Pe,"is only available in the main window thread."):!1;ae._name2vfs[":localStorage:"]={vfs:"kvvfs",filename:_e||(()=>"local")},ae._name2vfs[":sessionStorage:"]={vfs:"kvvfs",filename:_e||(()=>"session")}}const K=ae.normalizeArgs(...pe);let re=K.filename,ie=K.vfs,Le=K.flags;(typeof re!="string"&&typeof re!="number"||typeof Le!="string"||ie&&typeof ie!="string"&&typeof ie!="number")&&(y.config.error("Invalid DB ctor args",K,arguments),S("Invalid arguments for DB constructor."));let it=typeof re=="number"?C.cstrToJs(re):re;const Rt=ae._name2vfs[it];Rt&&(ie=Rt.vfs,re=it=Rt.filename(it));let Bt,Zt=0;Le.indexOf("c")>=0&&(Zt|=N.SQLITE_OPEN_CREATE|N.SQLITE_OPEN_READWRITE),Le.indexOf("w")>=0&&(Zt|=N.SQLITE_OPEN_READWRITE),Zt===0&&(Zt|=N.SQLITE_OPEN_READONLY),Zt|=N.SQLITE_OPEN_EXRESCODE;const lt=C.pstack.pointer;try{const _e=C.pstack.allocPtr();let Pe=N.sqlite3_open_v2(re,_e,Zt,ie||0);Bt=C.peekPtr(_e),tt(Bt,Pe),N.sqlite3_extended_result_codes(Bt,1),Le.indexOf("t")>=0&&N.sqlite3_trace_v2(Bt,N.SQLITE_TRACE_STMT,at,Bt)}catch(_e){throw Bt&&N.sqlite3_close_v2(Bt),_e}finally{C.pstack.restore(lt)}this.filename=it,fe.set(this,Bt),me.set(this,Object.create(null));try{const _e=N.sqlite3_js_db_vfs(Bt)||S("Internal error: cannot get VFS for new db handle."),Pe=mt[_e];Pe&&(Pe instanceof Function?Pe(this,y):tt(Bt,N.sqlite3_exec(Bt,Pe,0,0,0)))}catch(_e){throw this.close(),_e}};Be.setVfsPostOpenCallback=function(ae,pe){pe instanceof Function||S("dbCtorHelper.setVfsPostOpenCallback() should not be used with a non-function argument.",arguments),mt[ae]=pe},Be.normalizeArgs=function(ae=":memory:",pe="c",K=null){const re={};return arguments.length===1&&arguments[0]&&typeof arguments[0]=="object"?(Object.assign(re,arguments[0]),re.flags===void 0&&(re.flags="c"),re.vfs===void 0&&(re.vfs=null),re.filename===void 0&&(re.filename=":memory:")):(re.filename=ae,re.flags=pe,re.vfs=K),re};const qe=function(...ae){Be.apply(this,ae)};qe.dbCtorHelper=Be;const et={null:1,number:2,string:3,boolean:4,blob:5};et.undefined==et.null,C.bigIntEnabled&&(et.bigint=et.number);const be=function(){et!==arguments[2]&&S(N.SQLITE_MISUSE,"Do not call the Stmt constructor directly. Use DB.prepare()."),this.db=arguments[0],fe.set(this,arguments[1]),this.parameterCount=N.sqlite3_bind_parameter_count(this.pointer)},Ie=function(ae){return ae.pointer||S("DB has been closed."),ae},Te=function(ae,pe){return(pe!==(pe|0)||pe<0||pe>=ae.columnCount)&&S("Column index",pe,"is out of range."),ae},Ze=function(ae,pe){const K=Object.create(null);switch(K.opt=Object.create(null),pe.length){case 1:typeof pe[0]=="string"||$.isSQLableTypedArray(pe[0])||Array.isArray(pe[0])?K.sql=pe[0]:pe[0]&&typeof pe[0]=="object"&&(K.opt=pe[0],K.sql=K.opt.sql);break;case 2:K.sql=pe[0],K.opt=pe[1];break;default:S("Invalid argument count for exec().")}K.sql=$.flexibleString(K.sql),typeof K.sql!="string"&&S("Missing SQL argument or unsupported SQL value type.");const re=K.opt;switch(re.returnValue){case"resultRows":re.resultRows||(re.resultRows=[]),K.returnVal=()=>re.resultRows;break;case"saveSql":re.saveSql||(re.saveSql=[]),K.returnVal=()=>re.saveSql;break;case void 0:case"this":K.returnVal=()=>ae;break;default:S("Invalid returnValue value:",re.returnValue)}if(!re.callback&&!re.returnValue&&re.rowMode!==void 0&&(re.resultRows||(re.resultRows=[]),K.returnVal=()=>re.resultRows),re.callback||re.resultRows)switch(re.rowMode===void 0?"array":re.rowMode){case"object":K.cbArg=(ie,Le)=>{Le.columnNames||(Le.columnNames=ie.getColumnNames([]));const it=ie.get([]),Rt=Object.create(null);for(const Bt in Le.columnNames)Rt[Le.columnNames[Bt]]=it[Bt];return Rt};break;case"array":K.cbArg=ie=>ie.get([]);break;case"stmt":Array.isArray(re.resultRows)&&S("exec(): invalid rowMode for a resultRows array: must","be one of 'array', 'object',","a result column number, or column name reference."),K.cbArg=ie=>ie;break;default:if($.isInt32(re.rowMode)){K.cbArg=ie=>ie.get(re.rowMode);break}else if(typeof re.rowMode=="string"&&re.rowMode.length>1&&re.rowMode[0]==="$"){const ie=re.rowMode.substr(1);K.cbArg=Le=>{const it=Le.get(Object.create(null))[ie];return it===void 0?S(N.SQLITE_NOTFOUND,"exec(): unknown result column:",ie):it};break}S("Invalid rowMode:",re.rowMode)}return K},Ge=(ae,pe,K,...re)=>{const ie=ae.prepare(pe);try{const Le=ie.bind(K).step()?ie.get(...re):void 0;return ie.reset(),Le}finally{ie.finalize()}},Oe=(ae,pe,K,re)=>ae.exec({sql:pe,bind:K,rowMode:re,returnValue:"resultRows"});qe.checkRc=(ae,pe)=>tt(ae,pe),qe.prototype={isOpen:function(){return!!this.pointer},affirmOpen:function(){return Ie(this)},close:function(){if(this.pointer){if(this.onclose&&this.onclose.before instanceof Function)try{this.onclose.before(this)}catch{}const ae=this.pointer;if(Object.keys(me.get(this)).forEach((pe,K)=>{if(K&&K.pointer)try{K.finalize()}catch{}}),fe.delete(this),me.delete(this),N.sqlite3_close_v2(ae),this.onclose&&this.onclose.after instanceof Function)try{this.onclose.after(this)}catch{}delete this.filename}},changes:function(ae=!1,pe=!1){const K=Ie(this).pointer;return ae?pe?N.sqlite3_total_changes64(K):N.sqlite3_total_changes(K):pe?N.sqlite3_changes64(K):N.sqlite3_changes(K)},dbFilename:function(ae="main"){return N.sqlite3_db_filename(Ie(this).pointer,ae)},dbName:function(ae=0){return N.sqlite3_db_name(Ie(this).pointer,ae)},dbVfsName:function(ae=0){let pe;const K=N.sqlite3_js_db_vfs(Ie(this).pointer,ae);if(K){const re=new N.sqlite3_vfs(K);try{pe=C.cstrToJs(re.$zName)}finally{re.dispose()}}return pe},prepare:function(ae){Ie(this);const pe=C.pstack.pointer;let K,re;try{K=C.pstack.alloc(8),qe.checkRc(this,N.sqlite3_prepare_v2(this.pointer,ae,-1,K,null)),re=C.peekPtr(K)}finally{C.pstack.restore(pe)}re||S("Cannot prepare empty SQL.");const ie=new be(this,re,et);return me.get(this)[re]=ie,ie},exec:function(){Ie(this);const ae=Ze(this,arguments);if(!ae.sql)return S("exec() requires an SQL string.");const pe=ae.opt,K=pe.callback,re=Array.isArray(pe.resultRows)?pe.resultRows:void 0;let ie,Le=pe.bind,it=!!(ae.cbArg||pe.columnNames||re);const Rt=C.scopedAllocPush(),Bt=Array.isArray(pe.saveSql)?pe.saveSql:void 0;try{const Zt=$.isSQLableTypedArray(ae.sql);let lt=Zt?ae.sql.byteLength:C.jstrlen(ae.sql);const _e=C.scopedAlloc(2*C.ptrSizeof+(lt+1)),Pe=_e+C.ptrSizeof;let ot=Pe+C.ptrSizeof;const pt=ot+lt;for(Zt?C.heap8().set(ae.sql,ot):C.jstrcpy(ae.sql,C.heap8(),ot,lt,!1),C.poke(ot+lt,0);ot&&C.peek(ot,"i8");){C.pokePtr([_e,Pe],0),qe.checkRc(this,N.sqlite3_prepare_v3(this.pointer,ot,lt,0,_e,Pe));const Ft=C.peekPtr(_e);if(ot=C.peekPtr(Pe),lt=pt-ot,!!Ft){if(Bt&&Bt.push(N.sqlite3_sql(Ft).trim()),ie=new be(this,Ft,et),Le&&ie.parameterCount&&(ie.bind(Le),Le=null),it&&ie.columnCount){let Yt=Array.isArray(pe.columnNames)?0:1;if(it=!1,ae.cbArg||re){const je=Object.create(null);for(;ie.step();ie._lockedByExec=!1){Yt++===0&&ie.getColumnNames(je.columnNames=pe.columnNames||[]),ie._lockedByExec=!0;const nt=ae.cbArg(ie,je);if(re&&re.push(nt),K&&K.call(pe,nt,ie)===!1)break}ie._lockedByExec=!1}Yt===0&&ie.getColumnNames(pe.columnNames)}else ie.step();ie.reset().finalize(),ie=null}}}finally{C.scopedAllocPop(Rt),ie&&(delete ie._lockedByExec,ie.finalize())}return ae.returnVal()},createFunction:function(pe,K,re){const ie=je=>je instanceof Function;switch(arguments.length){case 1:re=pe,pe=re.name,K=re.xFunc||0;break;case 2:ie(K)||(re=K,K=re.xFunc||0);break}re||(re={}),typeof pe!="string"&&S("Invalid arguments: missing function name.");let Le=re.xStep||0,it=re.xFinal||0;const Rt=re.xValue||0,Bt=re.xInverse||0;let Zt;ie(K)?(Zt=!1,(ie(Le)||ie(it))&&S("Ambiguous arguments: scalar or aggregate?"),Le=it=null):ie(Le)?(ie(it)||S("Missing xFinal() callback for aggregate or window UDF."),K=null):ie(it)?S("Missing xStep() callback for aggregate or window UDF."):S("Missing function-type properties."),Zt===!1?(ie(Rt)||ie(Bt))&&S("xValue and xInverse are not permitted for non-window UDFs."):ie(Rt)?(ie(Bt)||S("xInverse must be provided if xValue is."),Zt=!0):ie(Bt)&&S("xValue must be provided if xInverse is.");const lt=re.pApp;lt!=null&&(typeof lt!="number"||!$.isInt32(lt))&&S("Invalid value for pApp property. Must be a legal WASM pointer value.");const _e=re.xDestroy||0;_e&&!ie(_e)&&S("xDestroy property must be a function.");let Pe=0;Ke(re,"deterministic")&&(Pe|=N.SQLITE_DETERMINISTIC),Ke(re,"directOnly")&&(Pe|=N.SQLITE_DIRECTONLY),Ke(re,"innocuous")&&(Pe|=N.SQLITE_INNOCUOUS),pe=pe.toLowerCase();const ot=K||Le,pt=Ke(re,"arity"),Ft=typeof pt=="number"?pt:ot.length?ot.length-1:0;let Yt;return Zt?Yt=N.sqlite3_create_window_function(this.pointer,pe,Ft,N.SQLITE_UTF8|Pe,lt||0,Le,it,Rt,Bt,_e):Yt=N.sqlite3_create_function_v2(this.pointer,pe,Ft,N.SQLITE_UTF8|Pe,lt||0,K,Le,it,_e),qe.checkRc(this,Yt),this},selectValue:function(ae,pe,K){return Ge(this,ae,pe,0,K)},selectValues:function(ae,pe,K){const re=this.prepare(ae),ie=[];try{for(re.bind(pe);re.step();)ie.push(re.get(0,K));re.reset()}finally{re.finalize()}return ie},selectArray:function(ae,pe){return Ge(this,ae,pe,[])},selectObject:function(ae,pe){return Ge(this,ae,pe,{})},selectArrays:function(ae,pe){return Oe(this,ae,pe,"array")},selectObjects:function(ae,pe){return Oe(this,ae,pe,"object")},openStatementCount:function(){return this.pointer?Object.keys(me.get(this)).length:0},transaction:function(ae){let pe="BEGIN";arguments.length>1&&(/[^a-zA-Z]/.test(arguments[0])&&S(N.SQLITE_MISUSE,"Invalid argument for BEGIN qualifier."),pe+=" "+arguments[0],ae=arguments[1]),Ie(this).exec(pe);try{const K=ae(this);return this.exec("COMMIT"),K}catch(K){throw this.exec("ROLLBACK"),K}},savepoint:function(ae){Ie(this).exec("SAVEPOINT oo1");try{const pe=ae(this);return this.exec("RELEASE oo1"),pe}catch(pe){throw this.exec("ROLLBACK to SAVEPOINT oo1; RELEASE SAVEPOINT oo1"),pe}},checkRc:function(ae){return tt(this,ae)}};const Qe=function(ae){return ae.pointer||S("Stmt has been closed."),ae},St=function(ae){let pe=et[ae==null?"null":typeof ae];switch(pe){case et.boolean:case et.null:case et.number:case et.string:return pe;case et.bigint:if(C.bigIntEnabled)return pe;default:return $.isBindableTypedArray(ae)?et.blob:void 0}},Y=function(ae){return St(ae)||S("Unsupported bind() argument type:",typeof ae)},ce=function(ae,pe){const K=typeof pe=="number"?pe:N.sqlite3_bind_parameter_index(ae.pointer,pe);return K===0||!$.isInt32(K)?S("Invalid bind() parameter name: "+pe):(K<1||K>ae.parameterCount)&&S("Bind index",pe,"is out of range."),K},Ee=function(ae,pe){return ae._lockedByExec&&S("Operation is illegal when statement is locked:",pe),ae},st=function ae(pe,K,re,ie){Ee(Qe(pe),"bind()"),ae._||(ae._tooBigInt=it=>S("BigInt value is too big to store without precision loss:",it),ae._={string:function(it,Rt,Bt,Zt){const[lt,_e]=C.allocCString(Bt,!0);return(Zt?N.sqlite3_bind_blob:N.sqlite3_bind_text)(it.pointer,Rt,lt,_e,N.SQLITE_WASM_DEALLOC)}}),Y(ie),K=ce(pe,K);let Le=0;switch(ie==null?et.null:re){case et.null:Le=N.sqlite3_bind_null(pe.pointer,K);break;case et.string:Le=ae._.string(pe,K,ie,!1);break;case et.number:{let it;$.isInt32(ie)?it=N.sqlite3_bind_int:typeof ie=="bigint"?$.bigIntFits64(ie)?C.bigIntEnabled?it=N.sqlite3_bind_int64:$.bigIntFitsDouble(ie)?(ie=Number(ie),it=N.sqlite3_bind_double):ae._tooBigInt(ie):ae._tooBigInt(ie):(ie=Number(ie),C.bigIntEnabled&&Number.isInteger(ie)?it=N.sqlite3_bind_int64:it=N.sqlite3_bind_double),Le=it(pe.pointer,K,ie);break}case et.boolean:Le=N.sqlite3_bind_int(pe.pointer,K,ie?1:0);break;case et.blob:{if(typeof ie=="string"){Le=ae._.string(pe,K,ie,!0);break}else ie instanceof ArrayBuffer?ie=new Uint8Array(ie):$.isBindableTypedArray(ie)||S("Binding a value as a blob requires","that it be a string, Uint8Array, Int8Array, or ArrayBuffer.");const it=C.alloc(ie.byteLength||1);C.heap8().set(ie.byteLength?ie:[0],it),Le=N.sqlite3_bind_blob(pe.pointer,K,it,ie.byteLength,N.SQLITE_WASM_DEALLOC);break}default:y.config.warn("Unsupported bind() argument type:",ie),S("Unsupported bind() argument type: "+typeof ie)}return Le&&qe.checkRc(pe.db.pointer,Le),pe._mayGet=!1,pe};be.prototype={finalize:function(){if(this.pointer){Ee(this,"finalize()");const ae=N.sqlite3_finalize(this.pointer);return delete me.get(this.db)[this.pointer],fe.delete(this),delete this._mayGet,delete this.parameterCount,delete this._lockedByExec,delete this.db,ae}},clearBindings:function(){return Ee(Qe(this),"clearBindings()"),N.sqlite3_clear_bindings(this.pointer),this._mayGet=!1,this},reset:function(ae){Ee(this,"reset()"),ae&&this.clearBindings();const pe=N.sqlite3_reset(Qe(this).pointer);return this._mayGet=!1,tt(this.db,pe),this},bind:function(){Qe(this);let ae,pe;switch(arguments.length){case 1:ae=1,pe=arguments[0];break;case 2:ae=arguments[0],pe=arguments[1];break;default:S("Invalid bind() arguments.")}return pe===void 0?this:(this.parameterCount||S("This statement has no bindable parameters."),this._mayGet=!1,pe===null?st(this,ae,et.null,pe):Array.isArray(pe)?(arguments.length!==1&&S("When binding an array, an index argument is not permitted."),pe.forEach((K,re)=>st(this,re+1,Y(K),K)),this):(pe instanceof ArrayBuffer&&(pe=new Uint8Array(pe)),typeof pe=="object"&&!$.isBindableTypedArray(pe)?(arguments.length!==1&&S("When binding an object, an index argument is not permitted."),Object.keys(pe).forEach(K=>st(this,K,Y(pe[K]),pe[K])),this):st(this,ae,Y(pe),pe)))},bindAsBlob:function(ae,pe){Qe(this),arguments.length===1&&(pe=ae,ae=1);const K=Y(pe);return et.string!==K&&et.blob!==K&&et.null!==K&&S("Invalid value type for bindAsBlob()"),st(this,ae,et.blob,pe)},step:function(){Ee(this,"step()");const ae=N.sqlite3_step(Qe(this).pointer);switch(ae){case N.SQLITE_DONE:return this._mayGet=!1;case N.SQLITE_ROW:return this._mayGet=!0;default:this._mayGet=!1,y.config.warn("sqlite3_step() rc=",ae,N.sqlite3_js_rc_str(ae),"SQL =",N.sqlite3_sql(this.pointer)),qe.checkRc(this.db.pointer,ae)}},stepReset:function(){return this.step(),this.reset()},stepFinalize:function(){try{const ae=this.step();return this.reset(),ae}finally{try{this.finalize()}catch{}}},get:function(ae,pe){if(Qe(this)._mayGet||S("Stmt.step() has not (recently) returned true."),Array.isArray(ae)){let K=0;const re=this.columnCount;for(;K<re;)ae[K]=this.get(K++);return ae}else if(ae&&typeof ae=="object"){let K=0;const re=this.columnCount;for(;K<re;)ae[N.sqlite3_column_name(this.pointer,K)]=this.get(K++);return ae}switch(Te(this,ae),pe===void 0?N.sqlite3_column_type(this.pointer,ae):pe){case N.SQLITE_NULL:return null;case N.SQLITE_INTEGER:if(C.bigIntEnabled){const K=N.sqlite3_column_int64(this.pointer,ae);return K>=Number.MIN_SAFE_INTEGER&&K<=Number.MAX_SAFE_INTEGER?Number(K).valueOf():K}else{const K=N.sqlite3_column_double(this.pointer,ae);return(K>Number.MAX_SAFE_INTEGER||K<Number.MIN_SAFE_INTEGER)&&S("Integer is out of range for JS integer range: "+K),$.isInt32(K)?K|0:K}case N.SQLITE_FLOAT:return N.sqlite3_column_double(this.pointer,ae);case N.SQLITE_TEXT:return N.sqlite3_column_text(this.pointer,ae);case N.SQLITE_BLOB:{const K=N.sqlite3_column_bytes(this.pointer,ae),re=N.sqlite3_column_blob(this.pointer,ae),ie=new Uint8Array(K);return K&&ie.set(C.heap8u().slice(re,re+K),0),K&&this.db._blobXfer instanceof Array&&this.db._blobXfer.push(ie.buffer),ie}default:S("Don't know how to translate","type of result column #"+ae+".")}S("Not reached.")},getInt:function(ae){return this.get(ae,N.SQLITE_INTEGER)},getFloat:function(ae){return this.get(ae,N.SQLITE_FLOAT)},getString:function(ae){return this.get(ae,N.SQLITE_TEXT)},getBlob:function(ae){return this.get(ae,N.SQLITE_BLOB)},getJSON:function(ae){const pe=this.get(ae,N.SQLITE_STRING);return pe===null?pe:JSON.parse(pe)},getColumnName:function(ae){return N.sqlite3_column_name(Te(Qe(this),ae).pointer,ae)},getColumnNames:function(ae=[]){Te(Qe(this),0);const pe=this.columnCount;for(let K=0;K<pe;++K)ae.push(N.sqlite3_column_name(this.pointer,K));return ae},getParamIndex:function(ae){return Qe(this).parameterCount?N.sqlite3_bind_parameter_index(this.pointer,ae):void 0},getParamName:function(ae){return Qe(this).parameterCount?N.sqlite3_bind_parameter_name(this.pointer,ae):void 0},isBusy:function(){return N.sqlite3_stmt_busy(Qe(this))!==0},isReadOnly:function(){return N.sqlite3_stmt_readonly(Qe(this))!==0}};{const ae={enumerable:!0,get:function(){return fe.get(this)},set:()=>S("The pointer property is read-only.")};Object.defineProperty(be.prototype,"pointer",ae),Object.defineProperty(qe.prototype,"pointer",ae)}if(Object.defineProperty(be.prototype,"columnCount",{enumerable:!1,get:function(){return N.sqlite3_column_count(this.pointer)},set:()=>S("The columnCount property is read-only.")}),y.oo1={DB:qe,Stmt:be},$.isUIThread()){y.oo1.JsStorageDb=function(pe="session"){const K=Be.normalizeArgs(...arguments);pe=K.filename,pe!=="session"&&pe!=="local"&&S("JsStorageDb db name must be one of 'session' or 'local'."),K.vfs="kvvfs",Be.call(this,K)};const ae=y.oo1.JsStorageDb;ae.prototype=Object.create(qe.prototype),ae.clearStorage=N.sqlite3_js_kvvfs_clear,ae.prototype.clearStorage=function(){return ae.clearStorage(Ie(this).filename)},ae.storageSize=N.sqlite3_js_kvvfs_size,ae.prototype.storageSize=function(){return ae.storageSize(Ie(this).filename)}}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=y.util;y.initWorker1API=function(){const N=(...Be)=>{throw new Error(Be.join(" "))};globalThis.WorkerGlobalScope instanceof Function||N("initWorker1API() must be run from a Worker thread.");const C=this.sqlite3||N("Missing this.sqlite3 object."),$=C.oo1.DB,fe=function(Be){let qe=me.idMap.get(Be);return qe||(qe="db#"+ ++me.idSeq+"@"+Be.pointer,me.idMap.set(Be,qe),qe)},me={dbList:[],idSeq:0,idMap:new WeakMap,xfer:[],open:function(Be){const qe=new $(Be);return this.dbs[fe(qe)]=qe,this.dbList.indexOf(qe)<0&&this.dbList.push(qe),qe},close:function(Be,qe){if(Be){delete this.dbs[fe(Be)];const et=Be.filename,be=S.sqlite3__wasm_db_vfs(Be.pointer,0);Be.close();const Ie=this.dbList.indexOf(Be);Ie>=0&&this.dbList.splice(Ie,1),qe&&et&&be&&S.sqlite3__wasm_vfs_unlink(be,et)}},post:function(Be,qe){qe&&qe.length?(globalThis.postMessage(Be,Array.from(qe)),qe.length=0):globalThis.postMessage(Be)},dbs:Object.create(null),getDb:function(Be,qe=!0){return this.dbs[Be]||(qe?N("Unknown (or closed) DB ID:",Be):void 0)}},Ke=function(Be=me.dbList[0]){return Be&&Be.pointer?Be:N("DB is not opened.")},tt=function(Be,qe=!0){const et=me.getDb(Be.dbId,!1)||me.dbList[0];return qe?Ke(et):et},at=function(){return me.dbList[0]&&fe(me.dbList[0])},mt={open:function(Be){const qe=Object.create(null),et=Be.args||Object.create(null);et.simulateError&&N("Throwing because of simulateError flag.");const be=Object.create(null);qe.vfs=et.vfs,qe.filename=et.filename||"";const Ie=me.open(qe);return be.filename=Ie.filename,be.persistent=!!C.capi.sqlite3_js_db_uses_vfs(Ie.pointer,"opfs"),be.dbId=fe(Ie),be.vfs=Ie.dbVfsName(),be},close:function(Be){const qe=tt(Be,!1),et={filename:qe&&qe.filename};if(qe){const be=Be.args&&typeof Be.args=="object"?!!Be.args.unlink:!1;me.close(qe,be)}return et},exec:function(Be){const qe=typeof Be.args=="string"?{sql:Be.args}:Be.args||Object.create(null);qe.rowMode==="stmt"?N("Invalid rowMode for 'exec': stmt mode","does not work in the Worker API."):qe.sql||N("'exec' requires input SQL.");const et=tt(Be);(qe.callback||Array.isArray(qe.resultRows))&&(et._blobXfer=me.xfer);const be=qe.callback;let Ie=0;const Te=!!qe.columnNames;typeof be=="string"&&(Te||(qe.columnNames=[]),qe.callback=function(Ze,Ge){me.post({type:be,columnNames:qe.columnNames,rowNumber:++Ie,row:Ze},me.xfer)});try{const Ze=qe.countChanges?et.changes(!0,qe.countChanges===64):void 0;et.exec(qe),Ze!==void 0&&(qe.changeCount=et.changes(!0,qe.countChanges===64)-Ze),qe.callback instanceof Function&&(qe.callback=be,me.post({type:be,columnNames:qe.columnNames,rowNumber:null,row:void 0}))}finally{delete et._blobXfer,qe.callback&&(qe.callback=be)}return qe},"config-get":function(){const Be=Object.create(null),qe=C.config;return["bigIntEnabled"].forEach(function(et){Object.getOwnPropertyDescriptor(qe,et)&&(Be[et]=qe[et])}),Be.version=C.version,Be.vfsList=C.capi.sqlite3_js_vfs_list(),Be},export:function(Be){const qe=tt(Be),et={byteArray:C.capi.sqlite3_js_db_export(qe.pointer),filename:qe.filename,mimetype:"application/x-sqlite3"};return me.xfer.push(et.byteArray.buffer),et},toss:function(Be){N("Testing worker exception")}};globalThis.onmessage=async function(Be){Be=Be.data;let qe,et=Be.dbId,be=Be.type;const Ie=performance.now();try{mt.hasOwnProperty(be)&&mt[be]instanceof Function?qe=await mt[be](Be):N("Unknown db worker message type:",Be.type)}catch(Te){be="error",qe={operation:Be.type,message:Te.message,errorClass:Te.name,input:Be},Te.stack&&(qe.stack=typeof Te.stack=="string"?Te.stack.split(/\n\s*/):Te.stack)}et||(et=qe.dbId||at()),me.post({type:be,dbId:et,messageId:Be.messageId,workerReceivedTime:Ie,workerRespondTime:performance.now(),departureTime:Be.departureTime,result:qe},me.xfer)},globalThis.postMessage({type:"sqlite3-api",result:"worker1-ready"})}.bind({sqlite3:y})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=y.wasm,N=y.capi,C=y.util.toss3,$=Object.create(null);y.vfs=$,N.sqlite3_vfs.prototype.registerVfs=function(fe=!1){this instanceof y.capi.sqlite3_vfs||C("Expecting a sqlite3_vfs-type argument.");const me=N.sqlite3_vfs_register(this,fe?1:0);return me&&C("sqlite3_vfs_register(",this,") failed with rc",me),this.pointer!==N.sqlite3_vfs_find(this.$zName)&&C("BUG: sqlite3_vfs_find(vfs.$zName) failed for just-installed VFS",this),this},$.installVfs=function(fe){let me=0;const Ke=["io","vfs"];for(const tt of Ke){const at=fe[tt];at&&(++me,at.struct.installMethods(at.methods,!!at.applyArgcCheck),tt==="vfs"&&(!at.struct.$zName&&typeof at.name=="string"&&at.struct.addOnDispose(at.struct.$zName=S.allocCString(at.name)),at.struct.registerVfs(!!at.asDefault)))}return me||C("Misuse: installVfs() options object requires at least","one of:",Ke),this}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){if(!y.wasm.exports.sqlite3_declare_vtab)return;const S=y.wasm,N=y.capi,C=y.util.toss3,$=Object.create(null);y.vtab=$;const fe=N.sqlite3_index_info;fe.prototype.nthConstraint=function(tt,at=!1){if(tt<0||tt>=this.$nConstraint)return!1;const mt=this.$aConstraint+fe.sqlite3_index_constraint.structInfo.sizeof*tt;return at?mt:new fe.sqlite3_index_constraint(mt)},fe.prototype.nthConstraintUsage=function(tt,at=!1){if(tt<0||tt>=this.$nConstraint)return!1;const mt=this.$aConstraintUsage+fe.sqlite3_index_constraint_usage.structInfo.sizeof*tt;return at?mt:new fe.sqlite3_index_constraint_usage(mt)},fe.prototype.nthOrderBy=function(tt,at=!1){if(tt<0||tt>=this.$nOrderBy)return!1;const mt=this.$aOrderBy+fe.sqlite3_index_orderby.structInfo.sizeof*tt;return at?mt:new fe.sqlite3_index_orderby(mt)};const me=function(tt,at){return function(mt,Be=!1){if(arguments.length===0&&(mt=new at),mt instanceof at)return this.set(mt.pointer,mt),mt;S.isPtr(mt)||y.SQLite3Error.toss("Invalid argument to",tt+"()");let qe=this.get(mt);return Be&&this.delete(mt),qe}.bind(new Map)},Ke=function(tt,at){const mt=me(tt,at);return Object.assign(Object.create(null),{StructType:at,create:Be=>{const qe=mt();return S.pokePtr(Be,qe.pointer),qe},get:Be=>mt(Be),unget:Be=>mt(Be,!0),dispose:Be=>{const qe=mt(Be,!0);qe&&qe.dispose()}})};$.xVtab=Ke("xVtab",N.sqlite3_vtab),$.xCursor=Ke("xCursor",N.sqlite3_vtab_cursor),$.xIndexInfo=tt=>new N.sqlite3_index_info(tt),$.xError=function tt(at,mt,Be){if(tt.errorReporter instanceof Function)try{tt.errorReporter("sqlite3_module::"+at+"(): "+mt.message)}catch{}let qe;return mt instanceof y.WasmAllocError?qe=N.SQLITE_NOMEM:arguments.length>2?qe=Be:mt instanceof y.SQLite3Error&&(qe=mt.resultCode),qe||N.SQLITE_ERROR},$.xError.errorReporter=console.error.bind(console),$.xRowid=(tt,at)=>S.poke(tt,at,"i64"),$.setupModule=function(tt){let at=!1;const mt=this instanceof N.sqlite3_module?this:tt.struct||(at=new N.sqlite3_module);try{const Be=tt.methods||C("Missing 'methods' object.");for(const qe of Object.entries({xConnect:"xCreate",xDisconnect:"xDestroy"})){const et=qe[0],be=qe[1];Be[et]===!0?Be[et]=Be[be]:Be[be]===!0&&(Be[be]=Be[et])}if(tt.catchExceptions){const qe=function(Ie,Te){return["xConnect","xCreate"].indexOf(Ie)>=0?function(Ze,Ge,Oe,Qe,St,Y){try{return Te(...arguments)||0}catch(ce){return ce instanceof y.WasmAllocError||(S.dealloc(S.peekPtr(Y)),S.pokePtr(Y,S.allocCString(ce.message))),$.xError(Ie,ce)}}:function(...Ze){try{return Te(...Ze)||0}catch(Ge){return $.xError(Ie,Ge)}}},et=["xCreate","xConnect","xBestIndex","xDisconnect","xDestroy","xOpen","xClose","xFilter","xNext","xEof","xColumn","xRowid","xUpdate","xBegin","xSync","xCommit","xRollback","xFindFunction","xRename","xSavepoint","xRelease","xRollbackTo","xShadowName"],be=Object.create(null);for(const Ie of et){const Te=Be[Ie];if(Te instanceof Function)Ie==="xConnect"&&Be.xCreate===Te?be[Ie]=Be.xCreate:Ie==="xCreate"&&Be.xConnect===Te?be[Ie]=Be.xConnect:be[Ie]=qe(Ie,Te);else continue}mt.installMethods(be,!1)}else mt.installMethods(Be,!!tt.applyArgcCheck);if(mt.$iVersion===0){let qe;typeof tt.iVersion=="number"?qe=tt.iVersion:mt.$xShadowName?qe=3:mt.$xSavePoint||mt.$xRelease||mt.$xRollbackTo?qe=2:qe=1,mt.$iVersion=qe}}catch(Be){throw at&&at.dispose(),Be}return mt},N.sqlite3_module.prototype.setupModule=function(tt){return $.setupModule.call(this,tt)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=function N(C){if(!globalThis.SharedArrayBuffer||!globalThis.Atomics)return Promise.reject(new Error("Cannot install OPFS: Missing SharedArrayBuffer and/or Atomics. The server must emit the COOP/COEP response headers to enable those. See https://sqlite.org/wasm/doc/trunk/persistence.md#coop-coep"));if(typeof WorkerGlobalScope>"u")return Promise.reject(new Error("The OPFS sqlite3_vfs cannot run in the main thread because it requires Atomics.wait()."));if(!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory)return Promise.reject(new Error("Missing required OPFS APIs."));(!C||typeof C!="object")&&(C=Object.create(null));const $=new URL(globalThis.location.href).searchParams;return $.has("opfs-disable")?Promise.resolve(y):(C.verbose===void 0&&(C.verbose=$.has("opfs-verbose")?+$.get("opfs-verbose")||2:1),C.sanityChecks===void 0&&(C.sanityChecks=$.has("opfs-sanity-check")),C.proxyUri===void 0&&(C.proxyUri=N.defaultProxyUri),typeof C.proxyUri=="function"&&(C.proxyUri=C.proxyUri()),new Promise(function(me,Ke){const tt=[y.config.error,y.config.warn,y.config.log],at=(je,...nt)=>{C.verbose>je&&tt[je]("OPFS syncer:",...nt)},mt=(...je)=>at(2,...je),Be=(...je)=>at(1,...je),qe=(...je)=>at(0,...je),et=y.util.toss,be=y.capi,Ie=y.util,Te=y.wasm,Ze=be.sqlite3_vfs,Ge=be.sqlite3_file,Oe=be.sqlite3_io_methods,Qe=Object.create(null),St=()=>globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&navigator?.storage?.getDirectory;Qe.metrics={dump:function(){let je,nt=0,dt=0,Nt=0;for(je in ie.opIds){const xt=Le[je];nt+=xt.count,dt+=xt.time,Nt+=xt.wait,xt.avgTime=xt.count&&xt.time?xt.time/xt.count:0,xt.avgWait=xt.count&&xt.wait?xt.wait/xt.count:0}y.config.log(globalThis.location.href,"metrics for",globalThis.location.href,":",Le,`
Total of`,nt,"op(s) for",dt,"ms (incl. "+Nt+" ms of waiting on the async side)"),y.config.log("Serialization metrics:",Le.s11n),pe.postMessage({type:"opfs-async-metrics"})},reset:function(){let je;const nt=Nt=>Nt.count=Nt.time=Nt.wait=0;for(je in ie.opIds)nt(Le[je]=Object.create(null));let dt=Le.s11n=Object.create(null);dt=dt.serialize=Object.create(null),dt.count=dt.time=0,dt=Le.s11n.deserialize=Object.create(null),dt.count=dt.time=0}};const Y=new Oe,ce=new Ze().addOnDispose(()=>Y.dispose());let Ee;const st=je=>(Ee=!0,ce.dispose(),Ke(je)),ae=()=>(Ee=!1,me(y)),pe=new Worker(new URL("/assets/sqlite3-opfs-async-proxy-C_otN2ZJ.js",import.meta.url));setTimeout(()=>{Ee===void 0&&st(new Error("Timeout while waiting for OPFS async proxy worker."))},4e3),pe._originalOnError=pe.onerror,pe.onerror=function(je){qe("Error initializing OPFS asyncer:",je),st(new Error("Loading OPFS async Worker failed for unknown reasons."))};const K=be.sqlite3_vfs_find(null),re=K?new Ze(K):null;Y.$iVersion=1,ce.$iVersion=2,ce.$szOsFile=be.sqlite3_file.structInfo.sizeof,ce.$mxPathname=1024,ce.$zName=Te.allocCString("opfs"),ce.$xDlOpen=ce.$xDlError=ce.$xDlSym=ce.$xDlClose=null,ce.addOnDispose("$zName",ce.$zName,"cleanup default VFS wrapper",()=>re?re.dispose():null);const ie=Object.create(null);ie.verbose=C.verbose,ie.littleEndian=(()=>{const je=new ArrayBuffer(2);return new DataView(je).setInt16(0,256,!0),new Int16Array(je)[0]===256})(),ie.asyncIdleWaitTime=150,ie.asyncS11nExceptions=1,ie.fileBufferSize=1024*64,ie.sabS11nOffset=ie.fileBufferSize,ie.sabS11nSize=ce.$mxPathname*2,ie.sabIO=new SharedArrayBuffer(ie.fileBufferSize+ie.sabS11nSize),ie.opIds=Object.create(null);const Le=Object.create(null);{let je=0;ie.opIds.whichOp=je++,ie.opIds.rc=je++,ie.opIds.xAccess=je++,ie.opIds.xClose=je++,ie.opIds.xDelete=je++,ie.opIds.xDeleteNoWait=je++,ie.opIds.xFileSize=je++,ie.opIds.xLock=je++,ie.opIds.xOpen=je++,ie.opIds.xRead=je++,ie.opIds.xSleep=je++,ie.opIds.xSync=je++,ie.opIds.xTruncate=je++,ie.opIds.xUnlock=je++,ie.opIds.xWrite=je++,ie.opIds.mkdir=je++,ie.opIds["opfs-async-metrics"]=je++,ie.opIds["opfs-async-shutdown"]=je++,ie.opIds.retry=je++,ie.sabOP=new SharedArrayBuffer(je*4),Qe.metrics.reset()}ie.sq3Codes=Object.create(null),["SQLITE_ACCESS_EXISTS","SQLITE_ACCESS_READWRITE","SQLITE_BUSY","SQLITE_CANTOPEN","SQLITE_ERROR","SQLITE_IOERR","SQLITE_IOERR_ACCESS","SQLITE_IOERR_CLOSE","SQLITE_IOERR_DELETE","SQLITE_IOERR_FSYNC","SQLITE_IOERR_LOCK","SQLITE_IOERR_READ","SQLITE_IOERR_SHORT_READ","SQLITE_IOERR_TRUNCATE","SQLITE_IOERR_UNLOCK","SQLITE_IOERR_WRITE","SQLITE_LOCK_EXCLUSIVE","SQLITE_LOCK_NONE","SQLITE_LOCK_PENDING","SQLITE_LOCK_RESERVED","SQLITE_LOCK_SHARED","SQLITE_LOCKED","SQLITE_MISUSE","SQLITE_NOTFOUND","SQLITE_OPEN_CREATE","SQLITE_OPEN_DELETEONCLOSE","SQLITE_OPEN_MAIN_DB","SQLITE_OPEN_READONLY"].forEach(je=>{(ie.sq3Codes[je]=be[je])===void 0&&et("Maintenance required: not found:",je)}),ie.opfsFlags=Object.assign(Object.create(null),{OPFS_UNLOCK_ASAP:1,OPFS_UNLINK_BEFORE_OPEN:2,defaultUnlockAsap:!1});const it=(je,...nt)=>{const dt=ie.opIds[je]||et("Invalid op ID:",je);ie.s11n.serialize(...nt),Atomics.store(ie.sabOPView,ie.opIds.rc,-1),Atomics.store(ie.sabOPView,ie.opIds.whichOp,dt),Atomics.notify(ie.sabOPView,ie.opIds.whichOp);const Nt=performance.now();for(;Atomics.wait(ie.sabOPView,ie.opIds.rc,-1)!=="not-equal";);const xt=Atomics.load(ie.sabOPView,ie.opIds.rc);if(Le[je].wait+=performance.now()-Nt,xt&&ie.asyncS11nExceptions){const $t=ie.s11n.deserialize();$t&&qe(je+"() async error:",...$t)}return xt};Qe.debug={asyncShutdown:()=>{Be("Shutting down OPFS async listener. The OPFS VFS will no longer work."),it("opfs-async-shutdown")},asyncRestart:()=>{Be("Attempting to restart OPFS VFS async listener. Might work, might not."),pe.postMessage({type:"opfs-async-restart"})}};const Rt=()=>{if(ie.s11n)return ie.s11n;const je=new TextDecoder,nt=new TextEncoder("utf-8"),dt=new Uint8Array(ie.sabIO,ie.sabS11nOffset,ie.sabS11nSize),Nt=new DataView(ie.sabIO,ie.sabS11nOffset,ie.sabS11nSize);ie.s11n=Object.create(null);const xt=Object.create(null);xt.number={id:1,size:8,getter:"getFloat64",setter:"setFloat64"},xt.bigint={id:2,size:8,getter:"getBigInt64",setter:"setBigInt64"},xt.boolean={id:3,size:4,getter:"getInt32",setter:"setInt32"},xt.string={id:4};const $t=qt=>xt[typeof qt]||et("Maintenance required: this value type cannot be serialized.",qt),mn=qt=>{switch(qt){case xt.number.id:return xt.number;case xt.bigint.id:return xt.bigint;case xt.boolean.id:return xt.boolean;case xt.string.id:return xt.string;default:et("Invalid type ID:",qt)}};return ie.s11n.deserialize=function(qt=!1){++Le.s11n.deserialize.count;const Or=performance.now(),We=dt[0],vt=We?[]:null;if(We){const wt=[];let kt=1,vn,Kn,Bn;for(vn=0;vn<We;++vn,++kt)wt.push(mn(dt[kt]));for(vn=0;vn<We;++vn){const Vn=wt[vn];Vn.getter?(Bn=Nt[Vn.getter](kt,ie.littleEndian),kt+=Vn.size):(Kn=Nt.getInt32(kt,ie.littleEndian),kt+=4,Bn=je.decode(dt.slice(kt,kt+Kn)),kt+=Kn),vt.push(Bn)}}return qt&&(dt[0]=0),Le.s11n.deserialize.time+=performance.now()-Or,vt},ie.s11n.serialize=function(...qt){const Or=performance.now();if(++Le.s11n.serialize.count,qt.length){const We=[];let vt=0,wt=1;for(dt[0]=qt.length&255;vt<qt.length;++vt,++wt)We.push($t(qt[vt])),dt[wt]=We[vt].id;for(vt=0;vt<qt.length;++vt){const kt=We[vt];if(kt.setter)Nt[kt.setter](wt,qt[vt],ie.littleEndian),wt+=kt.size;else{const vn=nt.encode(qt[vt]);Nt.setInt32(wt,vn.byteLength,ie.littleEndian),wt+=4,dt.set(vn,wt),wt+=vn.byteLength}}}else dt[0]=0;Le.s11n.serialize.time+=performance.now()-Or},ie.s11n},Bt=function je(nt=16){je._chars||(je._chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ012346789",je._n=je._chars.length);const dt=[];let Nt=0;for(;Nt<nt;++Nt){const xt=Math.random()*(je._n*64)%je._n|0;dt[Nt]=je._chars[xt]}return dt.join("")},Zt=Object.create(null),lt=Object.create(null);lt.op=void 0,lt.start=void 0;const _e=je=>{lt.start=performance.now(),lt.op=je,++Le[je].count},Pe=()=>Le[lt.op].time+=performance.now()-lt.start,ot={xCheckReservedLock:function(je,nt){return Te.poke(nt,0,"i32"),0},xClose:function(je){_e("xClose");let nt=0;const dt=Zt[je];return dt&&(delete Zt[je],nt=it("xClose",je),dt.sq3File&&dt.sq3File.dispose()),Pe(),nt},xDeviceCharacteristics:function(je){return be.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(je,nt,dt){return be.SQLITE_NOTFOUND},xFileSize:function(je,nt){_e("xFileSize");let dt=it("xFileSize",je);if(dt==0)try{const Nt=ie.s11n.deserialize()[0];Te.poke(nt,Nt,"i64")}catch(Nt){qe("Unexpected error reading xFileSize() result:",Nt),dt=ie.sq3Codes.SQLITE_IOERR}return Pe(),dt},xLock:function(je,nt){_e("xLock");const dt=Zt[je];let Nt=0;return dt.lockType?dt.lockType=nt:(Nt=it("xLock",je,nt),Nt===0&&(dt.lockType=nt)),Pe(),Nt},xRead:function(je,nt,dt,Nt){_e("xRead");const xt=Zt[je];let $t;try{$t=it("xRead",je,dt,Number(Nt)),($t===0||be.SQLITE_IOERR_SHORT_READ===$t)&&Te.heap8u().set(xt.sabView.subarray(0,dt),nt)}catch(mn){qe("xRead(",arguments,") failed:",mn,xt),$t=be.SQLITE_IOERR_READ}return Pe(),$t},xSync:function(je,nt){_e("xSync"),++Le.xSync.count;const dt=it("xSync",je,nt);return Pe(),dt},xTruncate:function(je,nt){_e("xTruncate");const dt=it("xTruncate",je,Number(nt));return Pe(),dt},xUnlock:function(je,nt){_e("xUnlock");const dt=Zt[je];let Nt=0;return be.SQLITE_LOCK_NONE===nt&&dt.lockType&&(Nt=it("xUnlock",je,nt)),Nt===0&&(dt.lockType=nt),Pe(),Nt},xWrite:function(je,nt,dt,Nt){_e("xWrite");const xt=Zt[je];let $t;try{xt.sabView.set(Te.heap8u().subarray(nt,nt+dt)),$t=it("xWrite",je,dt,Number(Nt))}catch(mn){qe("xWrite(",arguments,") failed:",mn,xt),$t=be.SQLITE_IOERR_WRITE}return Pe(),$t}},pt={xAccess:function(je,nt,dt,Nt){_e("xAccess");const xt=it("xAccess",Te.cstrToJs(nt));return Te.poke(Nt,xt?0:1,"i32"),Pe(),0},xCurrentTime:function(je,nt){return Te.poke(nt,2440587.5+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(je,nt){return Te.poke(nt,2440587.5*864e5+new Date().getTime(),"i64"),0},xDelete:function(je,nt,dt){_e("xDelete");const Nt=it("xDelete",Te.cstrToJs(nt),dt,!1);return Pe(),Nt},xFullPathname:function(je,nt,dt,Nt){return Te.cstrncpy(Nt,nt,dt)<dt?0:be.SQLITE_CANTOPEN},xGetLastError:function(je,nt,dt){return Be("OPFS xGetLastError() has nothing sensible to return."),0},xOpen:function(nt,dt,Nt,xt,$t){_e("xOpen");let mn=0;dt===0?dt=Bt():Te.isPtr(dt)&&(be.sqlite3_uri_boolean(dt,"opfs-unlock-asap",0)&&(mn|=ie.opfsFlags.OPFS_UNLOCK_ASAP),be.sqlite3_uri_boolean(dt,"delete-before-open",0)&&(mn|=ie.opfsFlags.OPFS_UNLINK_BEFORE_OPEN),dt=Te.cstrToJs(dt));const qt=Object.create(null);qt.fid=Nt,qt.filename=dt,qt.sab=new SharedArrayBuffer(ie.fileBufferSize),qt.flags=xt,qt.readOnly=!(y.SQLITE_OPEN_CREATE&xt)&&!!(xt&be.SQLITE_OPEN_READONLY);const Or=it("xOpen",Nt,dt,xt,mn);return Or||(qt.readOnly&&Te.poke($t,be.SQLITE_OPEN_READONLY,"i32"),Zt[Nt]=qt,qt.sabView=ie.sabFileBufView,qt.sq3File=new Ge(Nt),qt.sq3File.$pMethods=Y.pointer,qt.lockType=be.SQLITE_LOCK_NONE),Pe(),Or}};re&&(ce.$xRandomness=re.$xRandomness,ce.$xSleep=re.$xSleep),ce.$xRandomness||(pt.xRandomness=function(je,nt,dt){const Nt=Te.heap8u();let xt=0;for(;xt<nt;++xt)Nt[dt+xt]=Math.random()*255e3&255;return xt}),ce.$xSleep||(pt.xSleep=function(je,nt){return Atomics.wait(ie.sabOPView,ie.opIds.xSleep,0,nt),0}),Qe.getResolvedPath=function(je,nt){const dt=new URL(je,"file://irrelevant").pathname;return nt?dt.split("/").filter(Nt=>!!Nt):dt},Qe.getDirForFilename=async function(nt,dt=!1){const Nt=Qe.getResolvedPath(nt,!0),xt=Nt.pop();let $t=Qe.rootDirectory;for(const mn of Nt)mn&&($t=await $t.getDirectoryHandle(mn,{create:!!dt}));return[$t,xt]},Qe.mkdir=async function(je){try{return await Qe.getDirForFilename(je+"/filepart",!0),!0}catch{return!1}},Qe.entryExists=async function(je){try{const[nt,dt]=await Qe.getDirForFilename(je);return await nt.getFileHandle(dt),!0}catch{return!1}},Qe.randomFilename=Bt,Qe.treeList=async function(){const je=async function dt(Nt,xt){xt.name=Nt.name,xt.dirs=[],xt.files=[];for await(const $t of Nt.values())if($t.kind==="directory"){const mn=Object.create(null);xt.dirs.push(mn),await dt($t,mn)}else xt.files.push($t.name)},nt=Object.create(null);return await je(Qe.rootDirectory,nt),nt},Qe.rmfr=async function(){const je=Qe.rootDirectory,nt={recurse:!0};for await(const dt of je.values())je.removeEntry(dt.name,nt)},Qe.unlink=async function(je,nt=!1,dt=!1){try{const[Nt,xt]=await Qe.getDirForFilename(je,!1);return await Nt.removeEntry(xt,{recursive:nt}),!0}catch(Nt){if(dt)throw new Error("unlink(",arguments[0],") failed: "+Nt.message,{cause:Nt});return!1}},Qe.traverse=async function(je){const nt={recursive:!0,directory:Qe.rootDirectory};typeof je=="function"&&(je={callback:je}),je=Object.assign(nt,je||{}),async function Nt(xt,$t){for await(const mn of xt.values()){if(je.callback(mn,xt,$t)===!1)return!1;if(je.recursive&&mn.kind==="directory"&&await Nt(mn,$t+1)===!1)break}}(je.directory,0)};const Ft=async function(je,nt){const[dt,Nt]=await Qe.getDirForFilename(je,!0);let $t=await (await dt.getFileHandle(Nt,{create:!0})).createSyncAccessHandle(),mn=0,qt,Or=!1;try{for($t.truncate(0);(qt=await nt())!==void 0;)qt instanceof ArrayBuffer&&(qt=new Uint8Array(qt)),mn===0&&qt.byteLength>=15&&(Ie.affirmDbHeader(qt),Or=!0),$t.write(qt,{at:mn}),mn+=qt.byteLength;if((mn<512||mn%512!==0)&&et("Input size",mn,"is not correct for an SQLite database."),!Or){const We=new Uint8Array(20);$t.read(We,{at:0}),Ie.affirmDbHeader(We)}return $t.write(new Uint8Array([1,1]),{at:18}),mn}catch(We){throw await $t.close(),$t=void 0,await dt.removeEntry(Nt).catch(()=>{}),We}finally{$t&&await $t.close()}};if(Qe.importDb=async function(je,nt){if(nt instanceof Function)return Ft(je,nt);nt instanceof ArrayBuffer&&(nt=new Uint8Array(nt)),Ie.affirmIsDb(nt);const dt=nt.byteLength,[Nt,xt]=await Qe.getDirForFilename(je,!0);let $t,mn=0;try{return $t=await (await Nt.getFileHandle(xt,{create:!0})).createSyncAccessHandle(),$t.truncate(0),mn=$t.write(nt,{at:0}),mn!=dt&&et("Expected to write "+dt+" bytes but wrote "+mn+"."),$t.write(new Uint8Array([1,1]),{at:18}),mn}catch(qt){throw $t&&(await $t.close(),$t=void 0),await Nt.removeEntry(xt).catch(()=>{}),qt}finally{$t&&await $t.close()}},y.oo1){const je=function(...nt){const dt=y.oo1.DB.dbCtorHelper.normalizeArgs(...nt);dt.vfs=ce.$zName,y.oo1.DB.dbCtorHelper.call(this,dt)};je.prototype=Object.create(y.oo1.DB.prototype),y.oo1.OpfsDb=je,je.importDb=Qe.importDb,y.oo1.DB.dbCtorHelper.setVfsPostOpenCallback(ce.pointer,function(nt,dt){dt.capi.sqlite3_busy_timeout(nt,1e4)})}const Yt=function(){const je=Te.scopedAllocPush(),nt=new Ge;try{const dt=nt.pointer,Nt=be.SQLITE_OPEN_CREATE|be.SQLITE_OPEN_READWRITE|be.SQLITE_OPEN_MAIN_DB,xt=Te.scopedAlloc(8),$t="/sanity/check/file"+Bt(8),mn=Te.scopedAllocCString($t);let qt;if(ie.s11n.serialize("This is \xe4 string."),qt=ie.s11n.deserialize(),mt("deserialize() says:",qt),qt[0]!=="This is \xe4 string."&&et("String d13n error."),pt.xAccess(ce.pointer,mn,0,xt),qt=Te.peek(xt,"i32"),mt("xAccess(",$t,") exists ?=",qt),qt=pt.xOpen(ce.pointer,mn,dt,Nt,xt),mt("open rc =",qt,"state.sabOPView[xOpen] =",ie.sabOPView[ie.opIds.xOpen]),qt!==0){qe("open failed with code",qt);return}pt.xAccess(ce.pointer,mn,0,xt),qt=Te.peek(xt,"i32"),qt||et("xAccess() failed to detect file."),qt=ot.xSync(nt.pointer,0),qt&&et("sync failed w/ rc",qt),qt=ot.xTruncate(nt.pointer,1024),qt&&et("truncate failed w/ rc",qt),Te.poke(xt,0,"i64"),qt=ot.xFileSize(nt.pointer,xt),qt&&et("xFileSize failed w/ rc",qt),mt("xFileSize says:",Te.peek(xt,"i64")),qt=ot.xWrite(nt.pointer,mn,10,1),qt&&et("xWrite() failed!");const Or=Te.scopedAlloc(16);qt=ot.xRead(nt.pointer,Or,6,2),Te.poke(Or+6,0);let We=Te.cstrToJs(Or);mt("xRead() got:",We),We!=="sanity"&&et("Unexpected xRead() value."),pt.xSleep&&(mt("xSleep()ing before close()ing..."),pt.xSleep(ce.pointer,2e3),mt("waking up from xSleep()")),qt=ot.xClose(dt),mt("xClose rc =",qt,"sabOPView =",ie.sabOPView),mt("Deleting file:",$t),pt.xDelete(ce.pointer,mn,4660),pt.xAccess(ce.pointer,mn,0,xt),qt=Te.peek(xt,"i32"),qt&&et("Expecting 0 from xAccess(",$t,") after xDelete()."),Be("End of OPFS sanity checks.")}finally{nt.dispose(),Te.scopedAllocPop(je)}};pe.onmessage=function({data:je}){switch(je.type){case"opfs-unavailable":st(new Error(je.payload.join(" ")));break;case"opfs-async-loaded":pe.postMessage({type:"opfs-async-init",args:ie});break;case"opfs-async-inited":{if(Ee===!0)break;try{y.vfs.installVfs({io:{struct:Y,methods:ot},vfs:{struct:ce,methods:pt}}),ie.sabOPView=new Int32Array(ie.sabOP),ie.sabFileBufView=new Uint8Array(ie.sabIO,0,ie.fileBufferSize),ie.sabS11nView=new Uint8Array(ie.sabIO,ie.sabS11nOffset,ie.sabS11nSize),Rt(),C.sanityChecks&&(Be("Running sanity checks because of opfs-sanity-check URL arg..."),Yt()),St()?navigator.storage.getDirectory().then(nt=>{pe.onerror=pe._originalOnError,delete pe._originalOnError,y.opfs=Qe,Qe.rootDirectory=nt,mt("End of OPFS sqlite3_vfs setup.",ce),ae()}).catch(st):ae()}catch(nt){qe(nt),st(nt)}break}default:{const nt="Unexpected message from the OPFS async worker: "+JSON.stringify(je);qe(nt),st(new Error(nt));break}}}}))};S.defaultProxyUri="sqlite3-opfs-async-proxy.js",globalThis.sqlite3ApiBootstrap.initializersAsync.push(async N=>{try{let C=S.defaultProxyUri;return N.scriptInfo.sqlite3Dir&&(S.defaultProxyUri=N.scriptInfo.sqlite3Dir+C),S().catch($=>{N.config.warn("Ignoring inability to install OPFS sqlite3_vfs:",$.message)})}catch(C){return N.config.error("installOpfsVfs() exception:",C),Promise.reject(C)}})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(y){const S=y.util.toss,N=y.util.toss3,C=Object.create(null),$=y.capi,fe=y.util,me=y.wasm,Ke=4096,tt=512,at=4,mt=8,Be=tt+at,qe=tt,et=Be,be=Ke,Ie=$.SQLITE_OPEN_MAIN_DB|$.SQLITE_OPEN_MAIN_JOURNAL|$.SQLITE_OPEN_SUPER_JOURNAL|$.SQLITE_OPEN_WAL,Te=".opaque",Ze=()=>Math.random().toString(36).slice(2),Ge=new TextDecoder,Oe=new TextEncoder,Qe=Object.assign(Object.create(null),{name:"opfs-sahpool",directory:void 0,initialCapacity:6,clearOnInit:!1,verbosity:2,forceReinitIfPreviouslyFailed:!1}),St=[y.config.error,y.config.warn,y.config.log];y.config.log;const Y=y.config.warn;y.config.error;const ce=new Map,Ee=lt=>ce.get(lt),st=(lt,_e)=>{_e?ce.set(lt,_e):ce.delete(lt)},ae=new Map,pe=lt=>ae.get(lt),K=(lt,_e)=>{_e?ae.set(lt,_e):ae.delete(lt)},re={xCheckReservedLock:function(lt,_e){const Pe=pe(lt);return Pe.log("xCheckReservedLock"),Pe.storeErr(),me.poke32(_e,1),0},xClose:function(lt){const _e=pe(lt);_e.storeErr();const Pe=_e.getOFileForS3File(lt);if(Pe)try{_e.log(`xClose ${Pe.path}`),_e.mapS3FileToOFile(lt,!1),Pe.sah.flush(),Pe.flags&$.SQLITE_OPEN_DELETEONCLOSE&&_e.deletePath(Pe.path)}catch(ot){return _e.storeErr(ot,$.SQLITE_IOERR)}return 0},xDeviceCharacteristics:function(lt){return $.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(lt,_e,Pe){return $.SQLITE_NOTFOUND},xFileSize:function(lt,_e){const Pe=pe(lt);Pe.log("xFileSize");const pt=Pe.getOFileForS3File(lt).sah.getSize()-be;return me.poke64(_e,BigInt(pt)),0},xLock:function(lt,_e){const Pe=pe(lt);Pe.log(`xLock ${_e}`),Pe.storeErr();const ot=Pe.getOFileForS3File(lt);return ot.lockType=_e,0},xRead:function(lt,_e,Pe,ot){const pt=pe(lt);pt.storeErr();const Ft=pt.getOFileForS3File(lt);pt.log(`xRead ${Ft.path} ${Pe} @ ${ot}`);try{const Yt=Ft.sah.read(me.heap8u().subarray(_e,_e+Pe),{at:be+Number(ot)});return Yt<Pe?(me.heap8u().fill(0,_e+Yt,_e+Pe),$.SQLITE_IOERR_SHORT_READ):0}catch(Yt){return pt.storeErr(Yt,$.SQLITE_IOERR)}},xSectorSize:function(lt){return Ke},xSync:function(lt,_e){const Pe=pe(lt);Pe.log(`xSync ${_e}`),Pe.storeErr();const ot=Pe.getOFileForS3File(lt);try{return ot.sah.flush(),0}catch(pt){return Pe.storeErr(pt,$.SQLITE_IOERR)}},xTruncate:function(lt,_e){const Pe=pe(lt);Pe.log(`xTruncate ${_e}`),Pe.storeErr();const ot=Pe.getOFileForS3File(lt);try{return ot.sah.truncate(be+Number(_e)),0}catch(pt){return Pe.storeErr(pt,$.SQLITE_IOERR)}},xUnlock:function(lt,_e){const Pe=pe(lt);Pe.log("xUnlock");const ot=Pe.getOFileForS3File(lt);return ot.lockType=_e,0},xWrite:function(lt,_e,Pe,ot){const pt=pe(lt);pt.storeErr();const Ft=pt.getOFileForS3File(lt);pt.log(`xWrite ${Ft.path} ${Pe} ${ot}`);try{const Yt=Ft.sah.write(me.heap8u().subarray(_e,_e+Pe),{at:be+Number(ot)});return Pe===Yt?0:S("Unknown write() failure.")}catch(Yt){return pt.storeErr(Yt,$.SQLITE_IOERR)}}},ie=new $.sqlite3_io_methods;ie.$iVersion=1,y.vfs.installVfs({io:{struct:ie,methods:re}});const Le={xAccess:function(lt,_e,Pe,ot){const pt=Ee(lt);pt.storeErr();try{const Ft=pt.getPath(_e);me.poke32(ot,pt.hasFilename(Ft)?1:0)}catch{me.poke32(ot,0)}return 0},xCurrentTime:function(lt,_e){return me.poke(_e,2440587.5+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(lt,_e){return me.poke(_e,2440587.5*864e5+new Date().getTime(),"i64"),0},xDelete:function(lt,_e,Pe){const ot=Ee(lt);ot.log(`xDelete ${me.cstrToJs(_e)}`),ot.storeErr();try{return ot.deletePath(ot.getPath(_e)),0}catch(pt){return ot.storeErr(pt),$.SQLITE_IOERR_DELETE}},xFullPathname:function(lt,_e,Pe,ot){return me.cstrncpy(ot,_e,Pe)<Pe?0:$.SQLITE_CANTOPEN},xGetLastError:function(lt,_e,Pe){const ot=Ee(lt),pt=ot.popErr();if(ot.log(`xGetLastError ${_e} e =`,pt),pt){const Ft=me.scopedAllocPush();try{const[Yt,je]=me.scopedAllocCString(pt.message,!0);me.cstrncpy(Pe,Yt,_e),je>_e&&me.poke8(Pe+_e-1,0)}catch{return $.SQLITE_NOMEM}finally{me.scopedAllocPop(Ft)}}return pt?pt.sqlite3Rc||$.SQLITE_IOERR:0},xOpen:function(_e,Pe,ot,pt,Ft){const Yt=Ee(_e);try{Yt.log(`xOpen ${me.cstrToJs(Pe)} ${pt}`);const je=Pe&&me.peek8(Pe)?Yt.getPath(Pe):Ze();let nt=Yt.getSAHForPath(je);!nt&&pt&$.SQLITE_OPEN_CREATE&&(Yt.getFileCount()<Yt.getCapacity()?(nt=Yt.nextAvailableSAH(),Yt.setAssociatedPath(nt,je,pt)):S("SAH pool is full. Cannot create file",je)),nt||S("file not found:",je);const dt={path:je,flags:pt,sah:nt};Yt.mapS3FileToOFile(ot,dt),dt.lockType=$.SQLITE_LOCK_NONE;const Nt=new $.sqlite3_file(ot);return Nt.$pMethods=ie.pointer,Nt.dispose(),me.poke32(Ft,pt),0}catch(je){return Yt.storeErr(je),$.SQLITE_CANTOPEN}}},it=function(lt){y.capi.sqlite3_vfs_find(lt)&&N("VFS name is already registered:",lt);const _e=new $.sqlite3_vfs,Pe=$.sqlite3_vfs_find(null),ot=Pe?new $.sqlite3_vfs(Pe):null;return _e.$iVersion=2,_e.$szOsFile=$.sqlite3_file.structInfo.sizeof,_e.$mxPathname=tt,_e.addOnDispose(_e.$zName=me.allocCString(lt),()=>st(_e.pointer,0)),ot&&(_e.$xRandomness=ot.$xRandomness,_e.$xSleep=ot.$xSleep,ot.dispose()),!_e.$xRandomness&&!Le.xRandomness&&(Le.xRandomness=function(pt,Ft,Yt){const je=me.heap8u();let nt=0;for(;nt<Ft;++nt)je[Yt+nt]=Math.random()*255e3&255;return nt}),!_e.$xSleep&&!Le.xSleep&&(Le.xSleep=(pt,Ft)=>0),y.vfs.installVfs({vfs:{struct:_e,methods:Le}}),_e};class Rt{vfsDir;#e;#t;#n;#r=new Map;#i=new Map;#s=new Set;#o=new Map;#a=new Uint8Array(Be);#c;#l;#u;constructor(_e=Object.create(null)){this.#u=_e.verbosity??Qe.verbosity,this.vfsName=_e.name||Qe.name,this.#l=it(this.vfsName),st(this.#l.pointer,this),this.vfsDir=_e.directory||"."+this.vfsName,this.#c=new DataView(this.#a.buffer,this.#a.byteOffset),this.isReady=this.reset(!!(_e.clearOnInit??Qe.clearOnInit)).then(()=>{if(this.$error)throw this.$error;return this.getCapacity()?Promise.resolve(void 0):this.addCapacity(_e.initialCapacity||Qe.initialCapacity)})}#d(_e,...Pe){this.#u>_e&&St[_e](this.vfsName+":",...Pe)}log(..._e){this.#d(2,..._e)}warn(..._e){this.#d(1,..._e)}error(..._e){this.#d(0,..._e)}getVfs(){return this.#l}getCapacity(){return this.#r.size}getFileCount(){return this.#i.size}getFileNames(){const _e=[],Pe=this.#i.keys();for(const ot of Pe)_e.push(ot);return _e}async addCapacity(_e){for(let Pe=0;Pe<_e;++Pe){const ot=Ze(),Ft=await (await this.#t.getFileHandle(ot,{create:!0})).createSyncAccessHandle();this.#r.set(Ft,ot),this.setAssociatedPath(Ft,"",0)}return this.getCapacity()}async reduceCapacity(_e){let Pe=0;for(const ot of Array.from(this.#s)){if(Pe===_e||this.getFileCount()===this.getCapacity())break;const pt=this.#r.get(ot);ot.close(),await this.#t.removeEntry(pt),this.#r.delete(ot),this.#s.delete(ot),++Pe}return Pe}releaseAccessHandles(){for(const _e of this.#r.keys())_e.close();this.#r.clear(),this.#i.clear(),this.#s.clear()}async acquireAccessHandles(_e){const Pe=[];for await(const[ot,pt]of this.#t)pt.kind==="file"&&Pe.push([ot,pt]);return Promise.all(Pe.map(async([ot,pt])=>{try{const Ft=await pt.createSyncAccessHandle();if(this.#r.set(Ft,ot),_e)Ft.truncate(be),this.setAssociatedPath(Ft,"",0);else{const Yt=this.getAssociatedPath(Ft);Yt?this.#i.set(Yt,Ft):this.#s.add(Ft)}}catch(Ft){throw this.storeErr(Ft),this.releaseAccessHandles(),Ft}}))}getAssociatedPath(_e){_e.read(this.#a,{at:0});const Pe=this.#c.getUint32(qe);if(this.#a[0]&&(Pe&$.SQLITE_OPEN_DELETEONCLOSE||!(Pe&Ie)))return Y(`Removing file with unexpected flags ${Pe.toString(16)}`,this.#a),this.setAssociatedPath(_e,"",0),"";const ot=new Uint32Array(mt/4);_e.read(ot,{at:et});const pt=this.computeDigest(this.#a);if(ot.every((Ft,Yt)=>Ft===pt[Yt])){const Ft=this.#a.findIndex(Yt=>Yt===0);return Ft===0&&_e.truncate(be),Ft?Ge.decode(this.#a.subarray(0,Ft)):""}else return Y("Disassociating file with bad digest."),this.setAssociatedPath(_e,"",0),""}setAssociatedPath(_e,Pe,ot){const pt=Oe.encodeInto(Pe,this.#a);tt<=pt.written+1&&S("Path too long:",Pe),this.#a.fill(0,pt.written,tt),this.#c.setUint32(qe,ot);const Ft=this.computeDigest(this.#a);_e.write(this.#a,{at:0}),_e.write(Ft,{at:et}),_e.flush(),Pe?(this.#i.set(Pe,_e),this.#s.delete(_e)):(_e.truncate(be),this.#s.add(_e))}computeDigest(_e){let Pe=0xdeadbeef,ot=0x41c6ce57;for(const pt of _e)Pe=31*Pe+pt*307,ot=31*ot+pt*307;return new Uint32Array([Pe>>>0,ot>>>0])}async reset(_e){await this.isReady;let Pe=await navigator.storage.getDirectory(),ot;for(const pt of this.vfsDir.split("/"))pt&&(ot=Pe,Pe=await Pe.getDirectoryHandle(pt,{create:!0}));return this.#e=Pe,this.#n=ot,this.#t=await this.#e.getDirectoryHandle(Te,{create:!0}),this.releaseAccessHandles(),this.acquireAccessHandles(_e)}getPath(_e){return me.isPtr(_e)&&(_e=me.cstrToJs(_e)),(_e instanceof URL?_e:new URL(_e,"file://localhost/")).pathname}deletePath(_e){const Pe=this.#i.get(_e);return Pe&&(this.#i.delete(_e),this.setAssociatedPath(Pe,"",0)),!!Pe}storeErr(_e,Pe){return _e&&(_e.sqlite3Rc=Pe||$.SQLITE_IOERR,this.error(_e)),this.$error=_e,Pe}popErr(){const _e=this.$error;return this.$error=void 0,_e}nextAvailableSAH(){const[_e]=this.#s.keys();return _e}getOFileForS3File(_e){return this.#o.get(_e)}mapS3FileToOFile(_e,Pe){Pe?(this.#o.set(_e,Pe),K(_e,this)):(this.#o.delete(_e),K(_e,!1))}hasFilename(_e){return this.#i.has(_e)}getSAHForPath(_e){return this.#i.get(_e)}async removeVfs(){if(!this.#l.pointer||!this.#t)return!1;$.sqlite3_vfs_unregister(this.#l.pointer),this.#l.dispose(),delete C[this.vfsName];try{this.releaseAccessHandles(),await this.#e.removeEntry(Te,{recursive:!0}),this.#t=void 0,await this.#n.removeEntry(this.#e.name,{recursive:!0}),this.#e=this.#n=void 0}catch(_e){y.config.error(this.vfsName,"removeVfs() failed:",_e)}return!0}exportFile(_e){const Pe=this.#i.get(_e)||S("File not found:",_e),ot=Pe.getSize()-be,pt=new Uint8Array(ot>0?ot:0);if(ot>0){const Ft=Pe.read(pt,{at:be});Ft!=ot&&S("Expected to read "+ot+" bytes but read "+Ft+".")}return pt}async importDbChunked(_e,Pe){const ot=this.#i.get(_e)||this.nextAvailableSAH()||S("No available handles to import to.");ot.truncate(0);let pt=0,Ft,Yt=!1;try{for(;(Ft=await Pe())!==void 0;)Ft instanceof ArrayBuffer&&(Ft=new Uint8Array(Ft)),pt===0&&Ft.byteLength>=15&&(fe.affirmDbHeader(Ft),Yt=!0),ot.write(Ft,{at:be+pt}),pt+=Ft.byteLength;if((pt<512||pt%512!==0)&&S("Input size",pt,"is not correct for an SQLite database."),!Yt){const je=new Uint8Array(20);ot.read(je,{at:0}),fe.affirmDbHeader(je)}ot.write(new Uint8Array([1,1]),{at:be+18})}catch(je){throw this.setAssociatedPath(ot,"",0),je}return this.setAssociatedPath(ot,_e,$.SQLITE_OPEN_MAIN_DB),pt}importDb(_e,Pe){if(Pe instanceof ArrayBuffer)Pe=new Uint8Array(Pe);else if(Pe instanceof Function)return this.importDbChunked(_e,Pe);const ot=this.#i.get(_e)||this.nextAvailableSAH()||S("No available handles to import to."),pt=Pe.byteLength;(pt<512||pt%512!=0)&&S("Byte array size is invalid for an SQLite db.");const Ft="SQLite format 3";for(let je=0;je<Ft.length;++je)Ft.charCodeAt(je)!==Pe[je]&&S("Input does not contain an SQLite database header.");const Yt=ot.write(Pe,{at:be});return Yt!=pt?(this.setAssociatedPath(ot,"",0),S("Expected to write "+pt+" bytes but wrote "+Yt+".")):(ot.write(new Uint8Array([1,1]),{at:be+18}),this.setAssociatedPath(ot,_e,$.SQLITE_OPEN_MAIN_DB)),Yt}}class Bt{#e;constructor(_e){this.#e=_e,this.vfsName=_e.vfsName}async addCapacity(_e){return this.#e.addCapacity(_e)}async reduceCapacity(_e){return this.#e.reduceCapacity(_e)}getCapacity(){return this.#e.getCapacity(this.#e)}getFileCount(){return this.#e.getFileCount()}getFileNames(){return this.#e.getFileNames()}async reserveMinimumCapacity(_e){const Pe=this.#e.getCapacity();return Pe<_e?this.#e.addCapacity(_e-Pe):Pe}exportFile(_e){return this.#e.exportFile(_e)}importDb(_e,Pe){return this.#e.importDb(_e,Pe)}async wipeFiles(){return this.#e.reset(!0)}unlink(_e){return this.#e.deletePath(_e)}async removeVfs(){return this.#e.removeVfs()}}const Zt=async()=>{const lt=await navigator.storage.getDirectory(),_e=".opfs-sahpool-sync-check-"+Ze(),pt=(await (await lt.getFileHandle(_e,{create:!0})).createSyncAccessHandle()).close();return await pt,await lt.removeEntry(_e),pt?.then&&S("The local OPFS API is too old for opfs-sahpool:","it has an async FileSystemSyncAccessHandle.close() method."),!0};y.installOpfsSAHPoolVfs=async function(lt=Object.create(null)){lt=Object.assign(Object.create(null),Qe,lt||{});const _e=lt.name;if(lt.$testThrowPhase1)throw lt.$testThrowPhase1;if(C[_e])try{return await C[_e]}catch(Pe){if(lt.forceReinitIfPreviouslyFailed)delete C[_e];else throw Pe}return!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory?C[_e]=Promise.reject(new Error("Missing required OPFS APIs.")):C[_e]=Zt().then(async function(){if(lt.$testThrowPhase2)throw lt.$testThrowPhase2;const Pe=new Rt(lt);return Pe.isReady.then(async()=>{const ot=new Bt(Pe);if(y.oo1){const pt=y.oo1,Ft=Pe.getVfs(),Yt=function(...je){const nt=pt.DB.dbCtorHelper.normalizeArgs(...je);nt.vfs=Ft.$zName,pt.DB.dbCtorHelper.call(this,nt)};Yt.prototype=Object.create(pt.DB.prototype),ot.OpfsSAHPoolDb=Yt}return Pe.log("VFS initialized."),ot}).catch(async ot=>{throw await Pe.removeVfs().catch(()=>{}),ot})}).catch(Pe=>C[_e]=Promise.reject(Pe))}}),typeof g<"u"){const y=Object.assign(Object.create(null),{exports:typeof he>"u"?g.asm:he,memory:g.wasmMemory},globalThis.sqlite3ApiConfig||{});globalThis.sqlite3ApiConfig=y;let S;try{S=globalThis.sqlite3ApiBootstrap()}catch(N){throw console.error("sqlite3ApiBootstrap() error:",N),N}finally{delete globalThis.sqlite3ApiBootstrap,delete globalThis.sqlite3ApiConfig}g.sqlite3=S}else console.warn("This is not running in an Emscripten module context, so","globalThis.sqlite3ApiBootstrap() is _not_ being called due to lack","of config info for the WASM environment.","It must be called manually.")}),n=o,n}})();const iQ=function(){const t=gN;if(!t)throw new Error("Expecting globalThis.sqlite3InitModule to be defined by the Emscripten build.");const e=globalThis.sqlite3InitModuleState=Object.assign(Object.create(null),{moduleScript:globalThis?.document?.currentScript,isWorker:typeof WorkerGlobalScope<"u",location:globalThis.location,urlParams:globalThis?.location?.href?new URL(globalThis.location.href).searchParams:new URLSearchParams});if(e.debugModule=e.urlParams.has("sqlite3.debugModule")?(...n)=>console.warn("sqlite3.debugModule:",...n):()=>{},e.urlParams.has("sqlite3.dir"))e.sqlite3Dir=e.urlParams.get("sqlite3.dir")+"/";else if(e.moduleScript){const n=e.moduleScript.src.split("/");n.pop(),e.sqlite3Dir=n.join("/")+"/"}if(globalThis.sqlite3InitModule=function n(...r){return t(...r).then(i=>{const s=i.sqlite3;s.scriptInfo=e,n.__isUnderTest&&(s.__isUnderTest=!0);const o=s.asyncPostInit;return delete s.asyncPostInit,o()}).catch(i=>{throw console.error("Exception loading sqlite3 module:",i),i})},globalThis.sqlite3InitModule.ready=t.ready,globalThis.sqlite3InitModuleState.moduleScript){const n=globalThis.sqlite3InitModuleState;let r=n.moduleScript.src.split("/");r.pop(),n.scriptDir=r.join("/")+"/"}return e.debugModule("sqlite3InitModuleState =",e),globalThis.sqlite3InitModule}();gN=iQ;const sQ=gN;globalThis.sqlite3Worker1Promiser=function t(e=t.defaultConfig){if(arguments.length===1&&typeof arguments[0]=="function"){const h=e;e=Object.assign(Object.create(null),t.defaultConfig),e.onready=h}else e=Object.assign(Object.create(null),t.defaultConfig,e);const n=Object.create(null),r=function(){},i=e.onerror||r,s=e.debug||r,o=e.generateMessageId?void 0:Object.create(null),l=e.generateMessageId||function(h){return h.type+"#"+(o[h.type]=(o[h.type]||0)+1)},u=(...h)=>{throw new Error(h.join(" "))};e.worker||(e.worker=t.defaultConfig.worker),typeof e.worker=="function"&&(e.worker=e.worker());let d,p;return e.worker.onmessage=function(h){h=h.data,s("worker1.onmessage",h);let b=n[h.messageId];if(!b){if(h&&h.type==="sqlite3-api"&&h.result==="worker1-ready"){e.onready&&e.onready(p);return}if(b=n[h.type],b&&b.onrow){b.onrow(h);return}e.onunhandled?e.onunhandled(arguments[0]):i("sqlite3Worker1Promiser() unhandled worker message:",h);return}switch(delete n[h.messageId],h.type){case"error":b.reject(h);return;case"open":d||(d=h.dbId);break;case"close":h.dbId===d&&(d=void 0);break}try{b.resolve(h)}catch(x){b.reject(x)}},p=function(){let h;arguments.length===1?h=arguments[0]:arguments.length===2?(h=Object.create(null),h.type=arguments[0],h.args=arguments[1],h.dbId=h.args.dbId):u("Invalid arguments for sqlite3Worker1Promiser()-created factory."),!h.dbId&&h.type!=="open"&&(h.dbId=d),h.messageId=l(h),h.departureTime=performance.now();const b=Object.create(null);b.message=h;let x;h.type==="exec"&&h.args&&(typeof h.args.callback=="function"?(x=h.messageId+":row",b.onrow=h.args.callback,h.args.callback=x,n[x]=b):typeof h.args.callback=="string"&&u("exec callback may not be a string when using the Promise interface."));let _=new Promise(function(E,I){b.resolve=E,b.reject=I,n[h.messageId]=b,s("Posting",h.type,"message to Worker dbId="+(d||"default")+":",h),e.worker.postMessage(h)});return x&&(_=_.finally(()=>delete n[x])),_}};globalThis.sqlite3Worker1Promiser.defaultConfig={worker:function(){return new Worker(new URL("/assets/sqlite3-worker1-bundler-friendly-BF9rosUC.js",import.meta.url),{type:"module"})},onerror:(...t)=>console.error("worker1 promiser error",...t)};sqlite3Worker1Promiser.v2=function(t){let e;typeof t=="function"?(e=t,t={}):typeof t?.onready=="function"&&(e=t.onready,delete t.onready);const n=Object.create(null);t=Object.assign(t||Object.create(null),{onready:async function(i){try{e&&await e(i),n.resolve(i)}catch(s){n.reject(s)}}});const r=new Promise(function(i,s){n.resolve=i,n.reject=s});try{this.original(t)}catch(i){n.reject(i)}return r}.bind({original:sqlite3Worker1Promiser});sqlite3Worker1Promiser.v2;function TR(){let t,e;return{lock:async()=>{for(;t;)await t;t=new Promise(i=>{e=i})},unlock:async()=>{const i=e;t=void 0,e=void 0,i?.()}}}function y0(t,e){const n={rows:[],columns:[]},r=t.exec({sql:e.sql,bind:e.params,returnValue:"resultRows",rowMode:"array",columnNames:n.columns});switch(e.method){case"run":break;case"get":n.rows=r[0]??[];break;case"all":default:n.rows=r;break}return n}function ND(t){const e=t.split(/[\\/]/).filter(s=>s!==""),n=e.pop();if(!n)throw new Error("Database path is invalid.");const r=["journal","wal","shm"].map(s=>`${n}-${s}`);return{directories:e,fileName:n,tempFileNames:r,getDirectoryHandle:async()=>{let s=await navigator.storage.getDirectory();for(let o of e)s=await s.getDirectoryHandle(o);return s}}}async function LE(t,e){let n;if(t instanceof Blob?n=t.stream():n=t,n instanceof ReadableStream&&e){const i=n.getReader();switch(e){case"callback":return async()=>(await i.read()).value;case"buffer":const s=[];let o=!1;for(;!o;){const p=await i.read();p.value&&s.push(p.value),o=p.done}const l=s.reduce((p,h)=>p+h.length,0),u=new Uint8Array(l);let d=0;return s.forEach(p=>{u.set(p,d),d+=p.length}),u}}else return n}class oQ{constructor(e){Object.defineProperty(this,"sqlite3",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"db",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dbStorageType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"pointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"userFunctions",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"initMutex",{enumerable:!0,configurable:!0,writable:!0,value:TR()}),Object.defineProperty(this,"transactionMutex",{enumerable:!0,configurable:!0,writable:!0,value:TR()}),Object.defineProperty(this,"transactionKey",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"proxy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reinitChannel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onmessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"init",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{if(!this.config.databasePath)return;await this.initMutex.lock();const{databasePath:i,readOnly:s,verbose:o}=this.config,l=[s===!0?"r":"cw",o===!0?"t":""].join("");try{this.sqlite3||(this.sqlite3=await sQ()),this.db&&this.destroy(),"opfs"in this.sqlite3&&i!==":memory:"?(this.db=new this.sqlite3.oo1.OpfsDb(i,l),this.dbStorageType="opfs"):(this.db=new this.sqlite3.oo1.DB(i,l),this.dbStorageType="memory",i!==":memory:"&&console.warn(`The origin private file system is not available, so ${i} will not be persisted. Make sure your web server is configured to use the correct HTTP response headers (See https://sqlocal.dallashoffman.com/guide/setup#cross-origin-isolation).`)),this.dbStorageType!=="memory"&&(this.reinitChannel=new BroadcastChannel(`_sqlocal_reinit_(${i})`),this.reinitChannel.onmessage=u=>{this.config.clientKey!==u.data.clientKey&&this.init(u.data.reason)}),this.userFunctions.forEach(this.initUserFunction),this.execInitStatements(),this.emitMessage({type:"event",event:"connect",reason:r})}catch(u){this.emitMessage({type:"error",error:u,queryKey:null}),this.destroy()}finally{await this.initMutex.unlock()}}}),Object.defineProperty(this,"postMessage",{enumerable:!0,configurable:!0,writable:!0,value:async(r,i)=>{const s=r instanceof MessageEvent?r.data:r;switch(await this.initMutex.lock(),s.type){case"config":this.editConfig(s);break;case"query":case"batch":case"transaction":this.exec(s);break;case"function":this.createUserFunction(s);break;case"getinfo":this.getDatabaseInfo(s);break;case"import":this.importDb(s);break;case"export":this.exportDb(s);break;case"delete":this.deleteDb(s);break;case"destroy":this.destroy(s);break}await this.initMutex.unlock()}}),Object.defineProperty(this,"emitMessage",{enumerable:!0,configurable:!0,writable:!0,value:(r,i=[])=>{this.onmessage&&this.onmessage(r,i)}}),Object.defineProperty(this,"editConfig",{enumerable:!0,configurable:!0,writable:!0,value:r=>{this.config=r.config,this.init("initial")}}),Object.defineProperty(this,"exec",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{if(this.db)try{const i={type:"data",queryKey:r.queryKey,data:[]};switch(r.type){case"query":const s=this.transactionKey!==null&&this.transactionKey===r.transactionKey;try{s||await this.transactionMutex.lock();const o=y0(this.db,r);i.data.push(o)}finally{s||await this.transactionMutex.unlock()}break;case"batch":try{await this.transactionMutex.lock(),this.db.transaction(o=>{for(let l of r.statements){const u=y0(o,l);i.data.push(u)}})}finally{await this.transactionMutex.unlock()}break;case"transaction":if(r.action==="begin"&&(await this.transactionMutex.lock(),this.transactionKey=r.transactionKey,this.db.exec({sql:"BEGIN"})),(r.action==="commit"||r.action==="rollback")&&this.transactionKey!==null&&this.transactionKey===r.transactionKey){const o=r.action==="commit"?"COMMIT":"ROLLBACK";this.db.exec({sql:o}),this.transactionKey=null,await this.transactionMutex.unlock()}break}this.emitMessage(i)}catch(i){this.emitMessage({type:"error",error:i,queryKey:r.queryKey})}}}),Object.defineProperty(this,"execInitStatements",{enumerable:!0,configurable:!0,writable:!0,value:()=>{if(this.db&&this.config.onInitStatements)for(let r of this.config.onInitStatements)y0(this.db,r)}}),Object.defineProperty(this,"getDatabaseInfo",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{try{const i=this.config.databasePath,s=this.dbStorageType,o=s!==void 0?s!=="memory"?await navigator.storage?.persisted():!1:void 0,u=this.db?.exec({sql:"SELECT page_count * page_size AS size FROM pragma_page_count(), pragma_page_size()",returnValue:"resultRows",rowMode:"array"})?.[0]?.[0],d=typeof u=="number"?u:void 0;this.emitMessage({type:"info",queryKey:r.queryKey,info:{databasePath:i,databaseSizeBytes:d,storageType:s,persisted:o}})}catch(i){this.emitMessage({type:"error",queryKey:r.queryKey,error:i})}}}),Object.defineProperty(this,"createUserFunction",{enumerable:!0,configurable:!0,writable:!0,value:r=>{const{functionName:i,functionType:s,queryKey:o}=r;let l;if(this.userFunctions.has(i)){this.emitMessage({type:"error",error:new Error(`A user-defined function with the name "${i}" has already been created for this SQLocal instance.`),queryKey:o});return}s==="callback"?l=(...u)=>{this.emitMessage({type:"callback",name:i,args:u})}:l=this.proxy[`_sqlocal_func_${i}`];try{this.initUserFunction({type:s,name:i,func:l}),this.emitMessage({type:"success",queryKey:o})}catch(u){this.emitMessage({type:"error",error:u,queryKey:o})}}}),Object.defineProperty(this,"initUserFunction",{enumerable:!0,configurable:!0,writable:!0,value:r=>{this.db&&(this.db.createFunction({name:r.name,xFunc:(i,...s)=>r.func(...s),arity:-1}),this.userFunctions.set(r.name,r))}}),Object.defineProperty(this,"importDb",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{if(!this.sqlite3||!this.config.databasePath||!this.db)return;const{queryKey:i,database:s}=r;let o=!1;try{if(this.dbStorageType==="opfs"){this.destroy();const l=await LE(s,"callback");await this.sqlite3.oo1.OpfsDb.importDb(this.config.databasePath,l)}else{const l=await LE(s,"buffer"),u=this.sqlite3.wasm.allocFromTypedArray(l);this.pointers.push(u);const d=this.sqlite3.capi.sqlite3_deserialize(this.db,"main",u,l.byteLength,l.byteLength,this.config.readOnly?this.sqlite3.capi.SQLITE_DESERIALIZE_READONLY:this.sqlite3.capi.SQLITE_DESERIALIZE_RESIZEABLE);this.db.checkRc(d),this.execInitStatements()}}catch(l){this.emitMessage({type:"error",error:l,queryKey:i}),o=!0}finally{this.dbStorageType!=="memory"&&await this.init("overwrite")}o||this.emitMessage({type:"success",queryKey:i})}}),Object.defineProperty(this,"exportDb",{enumerable:!0,configurable:!0,writable:!0,value:r=>{if(!this.sqlite3||!this.db)return;const{queryKey:i}=r;try{const s=this.sqlite3.capi.sqlite3_js_db_export(this.db);this.emitMessage({type:"buffer",queryKey:i,buffer:s},[s])}catch(s){this.emitMessage({type:"error",error:s,queryKey:i})}}}),Object.defineProperty(this,"deleteDb",{enumerable:!0,configurable:!0,writable:!0,value:async r=>{if(!this.config.databasePath)return;const{queryKey:i}=r;let s=!1;try{if(this.dbStorageType==="opfs"){const{getDirectoryHandle:o,fileName:l,tempFileNames:u}=ND(this.config.databasePath),d=await o(),p=[l,...u];this.destroy(),await Promise.all(p.map(async h=>d.removeEntry(h).catch(b=>{if(!(b instanceof DOMException&&b.name==="NotFoundError"))throw b})))}else this.destroy()}catch(o){this.emitMessage({type:"error",error:o,queryKey:i}),s=!0}finally{await this.init("delete")}s||this.emitMessage({type:"success",queryKey:i})}}),Object.defineProperty(this,"destroy",{enumerable:!0,configurable:!0,writable:!0,value:r=>{this.db&&(this.db.exec({sql:"PRAGMA optimize"}),this.db.close(),this.db=void 0,this.dbStorageType=void 0),this.reinitChannel&&(this.reinitChannel.close(),this.reinitChannel=void 0),this.pointers.forEach(i=>this.sqlite3?.wasm.dealloc(i)),this.pointers=[],r&&this.emitMessage({type:"success",queryKey:r.queryKey})}});const n=e?globalThis:mN(globalThis);this.proxy=n,this.init("initial")}}function $v(t,...e){return{sql:t.join("?"),params:e}}function aQ(t){return!t.some(e=>!Array.isArray(e))}function v0(t,e){let n;return aQ(t)?n=t:n=[t],n.map(r=>{const i={};return e.forEach((s,o)=>{i[s]=r[o]}),i})}function lQ(t){return typeof t=="object"&&t!==null&&"getSQL"in t&&typeof t.getSQL=="function"}function cQ(t){return typeof t=="object"&&t!==null&&"sql"in t&&typeof t.sql=="string"&&"params"in t}function uQ(t){if(typeof t=="function"&&(t=t($v)),lQ(t))try{if(!("toSQL"in t&&typeof t.toSQL=="function"))throw 1;const r=t.toSQL();if(!cQ(r))throw 2;return r}catch{throw new Error("The passed statement could not be parsed.")}const e=t.sql;let n=[];return"params"in t?n=t.params:"parameters"in t&&(n=t.parameters),{sql:e,params:n}}function b0(){return crypto.randomUUID()}function OR(t,e){let n;return typeof t=="string"?n={sql:t,params:e}:n=$v(t,...e),n}async function Hg(t,e,n,r){return!e&&"locks"in navigator?navigator.locks.request(`_sqlocal_mutation_(${n.databasePath})`,{mode:t},r):r()}class dQ{constructor(e){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isDestroyed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"bypassMutationLock",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"userCallbacks",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"queriesInProgress",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"proxy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reinitChannel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"processMessageEvent",{enumerable:!0,configurable:!0,writable:!0,value:o=>{const l=o instanceof MessageEvent?o.data:o,u=this.queriesInProgress;switch(l.type){case"success":case"data":case"buffer":case"info":case"error":if(l.queryKey&&u.has(l.queryKey)){const[p,h]=u.get(l.queryKey);l.type==="error"?h(l.error):p(l),u.delete(l.queryKey)}else if(l.type==="error")throw l.error;break;case"callback":const d=this.userCallbacks.get(l.name);d&&d(...l.args??[]);break;case"event":this.config.onConnect?.(l.reason);break}}}),Object.defineProperty(this,"createQuery",{enumerable:!0,configurable:!0,writable:!0,value:async o=>Hg("shared",this.bypassMutationLock||o.type==="import"||o.type==="delete",this.config,async()=>{if(this.isDestroyed===!0)throw new Error("This SQLocal client has been destroyed. You will need to initialize a new client in order to make further queries.");const l=b0();switch(o.type){case"import":this.processor.postMessage({...o,queryKey:l},[o.database]);break;default:this.processor.postMessage({...o,queryKey:l});break}return new Promise((u,d)=>{this.queriesInProgress.set(l,[u,d])})})}),Object.defineProperty(this,"exec",{enumerable:!0,configurable:!0,writable:!0,value:async(o,l,u="all",d)=>{const p=await this.createQuery({type:"query",transactionKey:d,sql:o,params:l,method:u}),h={rows:[],columns:[]};return p.type==="data"&&(h.rows=p.data[0]?.rows??[],h.columns=p.data[0]?.columns??[]),h}}),Object.defineProperty(this,"execBatch",{enumerable:!0,configurable:!0,writable:!0,value:async o=>{const l=await this.createQuery({type:"batch",statements:o}),u=new Array(o.length).fill({rows:[],columns:[]});return l.type==="data"&&l.data.forEach((d,p)=>{u[p]=d}),u}}),Object.defineProperty(this,"sql",{enumerable:!0,configurable:!0,writable:!0,value:async(o,...l)=>{const u=OR(o,l),{rows:d,columns:p}=await this.exec(u.sql,u.params,"all");return v0(d,p)}}),Object.defineProperty(this,"batch",{enumerable:!0,configurable:!0,writable:!0,value:async o=>{const l=o($v);return(await this.execBatch(l)).map(({rows:d,columns:p})=>v0(d,p))}}),Object.defineProperty(this,"beginTransaction",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{const o=b0();await this.createQuery({type:"transaction",transactionKey:o,action:"begin"});const l=async h=>{const b=uQ(h),{rows:x,columns:_}=await this.exec(b.sql,b.params,"all",o);return v0(x,_)};return{query:l,sql:async(h,...b)=>{const x=OR(h,b);return await l(x)},commit:async()=>{await this.createQuery({type:"transaction",transactionKey:o,action:"commit"})},rollback:async()=>{await this.createQuery({type:"transaction",transactionKey:o,action:"rollback"})}}}}),Object.defineProperty(this,"transaction",{enumerable:!0,configurable:!0,writable:!0,value:async o=>Hg("exclusive",!1,this.config,async()=>{let l;this.bypassMutationLock=!0;try{l=await this.beginTransaction();const u=await o({sql:l.sql,query:l.query});return await l.commit(),u}catch(u){throw await l?.rollback(),u}finally{this.bypassMutationLock=!1}})}),Object.defineProperty(this,"createCallbackFunction",{enumerable:!0,configurable:!0,writable:!0,value:async(o,l)=>{await this.createQuery({type:"function",functionName:o,functionType:"callback"}),this.userCallbacks.set(o,l)}}),Object.defineProperty(this,"createScalarFunction",{enumerable:!0,configurable:!0,writable:!0,value:async(o,l)=>{const u=`_sqlocal_func_${o}`;this.proxy===globalThis&&(this.proxy[u]=l),await this.createQuery({type:"function",functionName:o,functionType:"scalar"}),this.proxy!==globalThis&&(this.proxy[u]=l)}}),Object.defineProperty(this,"getDatabaseInfo",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{const o=await this.createQuery({type:"getinfo"});if(o.type==="info")return o.info;throw new Error("The database failed to return valid information.")}}),Object.defineProperty(this,"getDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{let o,l;const{storageType:u}=await this.getDatabaseInfo();if(u==="opfs"){const d=ND(this.config.databasePath),{directories:p,getDirectoryHandle:h}=d;o=d.fileName;const b=`backup-${Date.now()}--${o}`,x=`${p.join("/")}/${b}`;await this.exec("VACUUM INTO ?",[x]);const _=await h();l=await (await (await _.getFileHandle(b)).getFile()).arrayBuffer(),await _.removeEntry(b)}else{const d=await this.createQuery({type:"export"});if(d.type==="buffer")o="database.sqlite3",l=d.buffer;else throw new Error("The database failed to export.")}return new File([l],o,{type:"application/x-sqlite3"})}}),Object.defineProperty(this,"overwriteDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async(o,l)=>{await Hg("exclusive",!1,this.config,async()=>{try{const u=await LE(o);await this.createQuery({type:"import",database:u}),typeof l=="function"&&(this.bypassMutationLock=!0,await l()),this.reinitChannel.postMessage({clientKey:this.clientKey,reason:"overwrite"})}finally{this.bypassMutationLock=!1}})}}),Object.defineProperty(this,"deleteDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async o=>{await Hg("exclusive",!1,this.config,async()=>{try{await this.createQuery({type:"delete"}),typeof o=="function"&&(this.bypassMutationLock=!0,await o()),this.reinitChannel.postMessage({clientKey:this.clientKey,reason:"delete"})}finally{this.bypassMutationLock=!1}})}}),Object.defineProperty(this,"destroy",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{await this.createQuery({type:"destroy"}),this.processor instanceof Worker&&(this.processor.removeEventListener("message",this.processMessageEvent),this.processor.terminate()),this.queriesInProgress.clear(),this.userCallbacks.clear(),this.reinitChannel.close(),this.isDestroyed=!0}});const n=typeof e=="string"?{databasePath:e}:e,{onInit:r,onConnect:i,...s}=n;this.config=n,this.clientKey=b0(),this.reinitChannel=new BroadcastChannel(`_sqlocal_reinit_(${s.databasePath})`),typeof globalThis.Worker<"u"&&s.databasePath!==":memory:"?(this.processor=new Worker(new URL("/assets/worker-DxuAzsZq.js",import.meta.url),{type:"module"}),this.processor.addEventListener("message",this.processMessageEvent),this.proxy=mN(this.processor)):(this.processor=new oQ(!0),this.processor.onmessage=o=>this.processMessageEvent(o),this.proxy=globalThis),this.processor.postMessage({type:"config",config:{...s,clientKey:this.clientKey,onInitStatements:r?.($v)??[]}})}}class fQ extends dQ{constructor(){super(...arguments),Object.defineProperty(this,"dialect",{enumerable:!0,configurable:!0,writable:!0,value:{createAdapter:()=>new fH,createDriver:()=>new pQ(this),createIntrospector:e=>new dH(e),createQueryCompiler:()=>new lH}})}}class pQ{constructor(e){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:e})}async init(){}async acquireConnection(){return new hQ(this.client)}async releaseConnection(){}async beginTransaction(e){e.transaction=await this.client.beginTransaction()}async commitTransaction(e){await e.transaction?.commit(),e.transaction=null}async rollbackTransaction(e){await e.transaction?.rollback(),e.transaction=null}async destroy(){await this.client.destroy()}}class hQ{constructor(e){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"transaction",{enumerable:!0,configurable:!0,writable:!0,value:null})}async executeQuery(e){let n;return this.transaction===null?n=await this.client.sql(e.sql,...e.parameters):n=await this.transaction.query(e),{rows:n}}async *streamQuery(){throw new Error("SQLite3 does not support streaming.")}}const mQ=({database:t,bootstrap:e})=>{const{dialect:n}=new fQ({databasePath:`${t}.sqlite3`,onInit(i){return[i`PRAGMA foreign_keys = ON;`]}}),r=new Q1({dialect:n});return{kysely:r,async bootstrap(){return e({kysely:r})}}},Ii=yn({slot:{base:["border","border-gray-300","rounded-md","p-4","flex","flex-col","gap-2","items-center"],input:["w-full","border","border-gray-300","rounded-md","p-2","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"]},variant:{isLoading:{true:[]},isSubmitting:{true:[]}},match:[{if:{isSubmitting:!0},then:{base:["opacity-50","pointer-events-none","select-none"]}}],defaults:{isLoading:!1,isSubmitting:!1}}),gQ="icon-[material-symbols--error-outline]",yQ=yn({slot:{base:["flex","flex-row","gap-1","items-center","text-red-600","p-2"]},variant:{highlight:{true:[]},compact:{true:[]}},match:[{if:{highlight:!0},then:{base:["bg-red-100","p-2","font-bold","border","border-red-200","rounded-md","w-full"]}},{if:{compact:!0},then:{base:["p-0"]}}],defaults:{highlight:!1,compact:!1}}),hi=({error:t,variant:e,tva:n=yQ,css:r})=>{const i=n({...e,css:r}).slots;return t?.message?f.jsxs("div",{className:i.base(),children:[f.jsx(on,{icon:gQ}),f.jsx("span",{children:$l.rich(t.message)})]}):null},vQ=yn({slot:{base:["flex","flex-col","gap-1","w-full"],input:[]},variant:{required:{true:[]},disabled:{true:[]},isSubmitting:{true:[]},isLoading:{true:[]},isError:{true:[]}},match:[{if:{isError:!0},then:{base:["text-red-600"]}},{if:{required:!0},then:{base:["text-emerald-600","font-bold"]}}],defaults:{required:!1,disabled:!1,isSubmitting:!1,isLoading:!1,isError:!1}}),Nn=({label:t,hint:e,required:n=!1,formState:r,name:i,children:s,variant:o,tva:l=vQ,css:u})=>{const d=l({isSubmitting:r.isSubmitting,isLoading:r.isLoading,isError:!!r.errors[i],required:n,...o,css:u}).slots;return f.jsxs("div",{className:d.base(),children:[f.jsxs("div",{className:"flex flex-row justify-between",children:[t?f.jsx("label",{htmlFor:i,children:t}):null,f.jsx(hi,{variant:{compact:!0},error:r.errors[i]})]}),e?f.jsx("div",{className:"text-sm italic",children:e}):null,f.jsx("div",{className:d.input(),children:s})]})},ys=({form:t,mutation:e})=>{const n=t.handleSubmit(async r=>e.mutateAsync(r,{onError:i=>{Z1({error:i,errors:[O1({error:i,schema:J1,onError:({data:s})=>{t.setError("root",{message:s.message})}})],onError:s=>{t.setError("root",{message:s.message})}})}}).catch(()=>{}));return r=>{r.stopPropagation(),n(r)}};function bQ(t,e,n,r={leading:!1}){const[i,s]=Q.useState(t),[o,l]=Q.useState(t),u=Q.useRef(null),d=Q.useRef(!0),p=()=>window.clearTimeout(u.current||void 0);Q.useEffect(()=>p,[]),Q.useEffect(()=>{e(i)},[i]),Q.useEffect(()=>{l(t),s(t)},[t]);const h=Q.useCallback(b=>{l(b),p(),d.current&&r.leading?s(b):u.current=window.setTimeout(()=>{d.current=!0,s(b)},n),d.current=!1},[r.leading]);return[o,h]}const xQ=yn({slot:{base:["relative","w-full"],search:["absolute","inset-y-0","left-2","flex","items-center","pointer-events-none","text-slate-500"],input:["pl-8","py-1","w-full","bg-slate-50","text-slate-900","text-sm","border","border-slate-300","rounded","focus:border-sky-400","focus:outline-none","block"],clear:["absolute","inset-y-0","right-2","flex","items-center","cursor-pointer","text-slate-300","hover:text-slate-500"]},variant:{},defaults:{}}),kD=({value:t="",onFulltext:e,textPlaceholder:n,variant:r,tva:i=xQ,css:s})=>{const o=i({...r,css:s}).slots,[l,u]=bQ(t,d=>{e(d||"")},500);return f.jsxs("div",{className:o.base(),children:[f.jsx("div",{className:o.search(),children:f.jsx(on,{icon:"icon-[material-symbols-light--search]",variant:{size:"xl"}})}),f.jsx("input",{value:l||"",className:o.input(),type:"text",placeholder:n||$l.text("Fulltext (placeholder)"),onChange:d=>{u(d.target.value)}}),t&&f.jsx("div",{className:o.clear(),onClick:()=>{e("")},children:f.jsx(on,{icon:"icon-[gridicons--cross]",variant:{size:"md"}})})]})},so="icon-[pajamas--go-back]",Bv="icon-[line-md--confirm-circle]",ID="icon-[mage--edit]",wQ="icon-[arcticons--nothing-x]",_Q="icon-[tabler--filter-plus]",RR="icon-[tabler--filter-minus]",Vb="icon-[ph--list-dashes-thin]",SQ="icon-[svg-spinners--3-dots-scale]",yN="icon-[material-symbols-light--logout-sharp]",EQ="icon-[fluent--shape-intersect-20-regular]",Hb="icon-[fluent--checkbox-unchecked-20-regular]",Kb="icon-[fluent--checkbox-checked-20-regular]",jh="icon-[teenyicons--tag-outline]",ri="icon-[ph--trash]",NQ="icon-[clarity--upload-cloud-line]",vN="icon-[ph--user]",kQ=async({queryClient:t,keys:e})=>{for await(const n of e)await t.invalidateQueries({queryKey:n,refetchType:"all"})},Xn=t=>{const e=lb(),n=Po();return async()=>{await kQ({keys:t,queryClient:e}),await n.invalidate()}};var x0={exports:{}},w0,qR;function IQ(){if(qR)return w0;qR=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return w0=t,w0}var _0,jR;function CQ(){if(jR)return _0;jR=1;var t=IQ();function e(){}function n(){}return n.resetWarningCache=e,_0=function(){function r(o,l,u,d,p,h){if(h!==t){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},_0}var AR;function TQ(){return AR||(AR=1,x0.exports=CQ()()),x0.exports}var OQ=TQ();const tr=ao(OQ);function du(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function l(p){try{d(r.next(p))}catch(h){o(h)}}function u(p){try{d(r.throw(p))}catch(h){o(h)}}function d(p){p.done?s(p.value):i(p.value).then(l,u)}d((r=r.apply(t,e||[])).next())})}const RQ=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function Ud(t,e,n){const r=qQ(t),{webkitRelativePath:i}=t,s=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${t.name}`;return typeof r.path!="string"&&PR(r,"path",s),PR(r,"relativePath",s),r}function qQ(t){const{name:e}=t;if(e&&e.lastIndexOf(".")!==-1&&!t.type){const r=e.split(".").pop().toLowerCase(),i=RQ.get(r);i&&Object.defineProperty(t,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return t}function PR(t,e,n){Object.defineProperty(t,e,{value:n,writable:!1,configurable:!1,enumerable:!0})}const jQ=[".DS_Store","Thumbs.db"];function AQ(t){return du(this,void 0,void 0,function*(){return zv(t)&&PQ(t.dataTransfer)?MQ(t.dataTransfer,t.type):FQ(t)?DQ(t):Array.isArray(t)&&t.every(e=>"getFile"in e&&typeof e.getFile=="function")?LQ(t):[]})}function PQ(t){return zv(t)}function FQ(t){return zv(t)&&zv(t.target)}function zv(t){return typeof t=="object"&&t!==null}function DQ(t){return ME(t.target.files).map(e=>Ud(e))}function LQ(t){return du(this,void 0,void 0,function*(){return(yield Promise.all(t.map(n=>n.getFile()))).map(n=>Ud(n))})}function MQ(t,e){return du(this,void 0,void 0,function*(){if(t.items){const n=ME(t.items).filter(i=>i.kind==="file");if(e!=="drop")return n;const r=yield Promise.all(n.map($Q));return FR(CD(r))}return FR(ME(t.files).map(n=>Ud(n)))})}function FR(t){return t.filter(e=>jQ.indexOf(e.name)===-1)}function ME(t){if(t===null)return[];const e=[];for(let n=0;n<t.length;n++){const r=t[n];e.push(r)}return e}function $Q(t){if(typeof t.webkitGetAsEntry!="function")return DR(t);const e=t.webkitGetAsEntry();return e&&e.isDirectory?TD(e):DR(t,e)}function CD(t){return t.reduce((e,n)=>[...e,...Array.isArray(n)?CD(n):[n]],[])}function DR(t,e){return du(this,void 0,void 0,function*(){var n;if(globalThis.isSecureContext&&typeof t.getAsFileSystemHandle=="function"){const s=yield t.getAsFileSystemHandle();if(s===null)throw new Error(`${t} is not a File`);if(s!==void 0){const o=yield s.getFile();return o.handle=s,Ud(o)}}const r=t.getAsFile();if(!r)throw new Error(`${t} is not a File`);return Ud(r,(n=e?.fullPath)!==null&&n!==void 0?n:void 0)})}function BQ(t){return du(this,void 0,void 0,function*(){return t.isDirectory?TD(t):zQ(t)})}function TD(t){const e=t.createReader();return new Promise((n,r)=>{const i=[];function s(){e.readEntries(o=>du(this,void 0,void 0,function*(){if(o.length){const l=Promise.all(o.map(BQ));i.push(l),s()}else try{const l=yield Promise.all(i);n(l)}catch(l){r(l)}}),o=>{r(o)})}s()})}function zQ(t){return du(this,void 0,void 0,function*(){return new Promise((e,n)=>{t.file(r=>{const i=Ud(r,t.fullPath);e(i)},r=>{n(r)})})})}var Kg={},LR;function WQ(){return LR||(LR=1,Kg.__esModule=!0,Kg.default=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(",");if(n.length===0)return!0;var r=t.name||"",i=(t.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return n.some(function(o){var l=o.trim().toLowerCase();return l.charAt(0)==="."?r.toLowerCase().endsWith(l):l.endsWith("/*")?s===l.replace(/\/.*$/,""):i===l})}return!0}),Kg}var UQ=WQ();const S0=ao(UQ);function MR(t){return KQ(t)||HQ(t)||RD(t)||VQ()}function VQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HQ(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function KQ(t){if(Array.isArray(t))return $E(t)}function $R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$R(Object(n),!0).forEach(function(r){OD(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OD(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ah(t,e){return JQ(t)||GQ(t,e)||RD(t,e)||QQ()}function QQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RD(t,e){if(t){if(typeof t=="string")return $E(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $E(t,e)}}function $E(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function GQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,l;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(u){s=!0,l=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw l}}return r}}function JQ(t){if(Array.isArray(t))return t}var ZQ=typeof S0=="function"?S0:S0.default,qD="file-invalid-type",jD="file-too-large",AD="file-too-small",PD="too-many-files",YQ={FileInvalidType:qD,FileTooLarge:jD,FileTooSmall:AD,TooManyFiles:PD},XQ=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split(","),r=n.length>1?"one of ".concat(n.join(", ")):n[0];return{code:qD,message:"File type must be ".concat(r)}},zR=function(e){return{code:jD,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},WR=function(e){return{code:AD,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},eG={code:PD,message:"Too many files"};function FD(t,e){var n=t.type==="application/x-moz-file"||ZQ(t,e);return[n,n?null:XQ(e)]}function DD(t,e,n){if(Fc(t.size))if(Fc(e)&&Fc(n)){if(t.size>n)return[!1,zR(n)];if(t.size<e)return[!1,WR(e)]}else{if(Fc(e)&&t.size<e)return[!1,WR(e)];if(Fc(n)&&t.size>n)return[!1,zR(n)]}return[!0,null]}function Fc(t){return t!=null}function tG(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize,s=t.multiple,o=t.maxFiles,l=t.validator;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(u){var d=FD(u,n),p=Ah(d,1),h=p[0],b=DD(u,r,i),x=Ah(b,1),_=x[0],E=l?l(u):null;return h&&_&&!E})}function Wv(t){return typeof t.isPropagationStopped=="function"?t.isPropagationStopped():typeof t.cancelBubble<"u"?t.cancelBubble:!1}function Qg(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!t.target&&!!t.target.files}function UR(t){t.preventDefault()}function nG(t){return t.indexOf("MSIE")!==-1||t.indexOf("Trident/")!==-1}function rG(t){return t.indexOf("Edge/")!==-1}function iG(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return nG(t)||rG(t)}function Uo(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(l){return!Wv(r)&&l&&l.apply(void 0,[r].concat(s)),Wv(r)})}}function sG(){return"showOpenFilePicker"in window}function oG(t){if(Fc(t)){var e=Object.entries(t).filter(function(n){var r=Ah(n,2),i=r[0],s=r[1],o=!0;return LD(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),o=!1),(!Array.isArray(s)||!s.every(MD))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),o=!1),o}).reduce(function(n,r){var i=Ah(r,2),s=i[0],o=i[1];return BR(BR({},n),{},OD({},s,o))},{});return[{description:"Files",accept:e}]}return t}function aG(t){if(Fc(t))return Object.entries(t).reduce(function(e,n){var r=Ah(n,2),i=r[0],s=r[1];return[].concat(MR(e),[i],MR(s))},[]).filter(function(e){return LD(e)||MD(e)}).join(",")}function lG(t){return t instanceof DOMException&&(t.name==="AbortError"||t.code===t.ABORT_ERR)}function cG(t){return t instanceof DOMException&&(t.name==="SecurityError"||t.code===t.SECURITY_ERR)}function LD(t){return t==="audio/*"||t==="video/*"||t==="image/*"||t==="text/*"||t==="application/*"||/\w+\/[-+.\w]+/g.test(t)}function MD(t){return/^.*\.[\w]+$/.test(t)}var uG=["children"],dG=["open"],fG=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],pG=["refKey","onChange","onClick"];function hG(t){return yG(t)||gG(t)||$D(t)||mG()}function mG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gG(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yG(t){if(Array.isArray(t))return BE(t)}function E0(t,e){return xG(t)||bG(t,e)||$D(t,e)||vG()}function vG(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $D(t,e){if(t){if(typeof t=="string")return BE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BE(t,e)}}function BE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bG(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,s=!1,o,l;try{for(n=n.call(t);!(i=(o=n.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(u){s=!0,l=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw l}}return r}}function xG(t){if(Array.isArray(t))return t}function VR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VR(Object(n),!0).forEach(function(r){zE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zE(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uv(t,e){if(t==null)return{};var n=wG(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function wG(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var Qb=Q.forwardRef(function(t,e){var n=t.children,r=Uv(t,uG),i=zD(r),s=i.open,o=Uv(i,dG);return Q.useImperativeHandle(e,function(){return{open:s}},[s]),Mn.createElement(Q.Fragment,null,n(jr(jr({},o),{},{open:s})))});Qb.displayName="Dropzone";var BD={disabled:!1,getFilesFromEvent:AQ,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Qb.defaultProps=BD;Qb.propTypes={children:tr.func,accept:tr.objectOf(tr.arrayOf(tr.string)),multiple:tr.bool,preventDropOnDocument:tr.bool,noClick:tr.bool,noKeyboard:tr.bool,noDrag:tr.bool,noDragEventsBubbling:tr.bool,minSize:tr.number,maxSize:tr.number,maxFiles:tr.number,disabled:tr.bool,getFilesFromEvent:tr.func,onFileDialogCancel:tr.func,onFileDialogOpen:tr.func,useFsAccessApi:tr.bool,autoFocus:tr.bool,onDragEnter:tr.func,onDragLeave:tr.func,onDragOver:tr.func,onDrop:tr.func,onDropAccepted:tr.func,onDropRejected:tr.func,onError:tr.func,validator:tr.func};var WE={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function zD(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=jr(jr({},BD),t),n=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,l=e.multiple,u=e.maxFiles,d=e.onDragEnter,p=e.onDragLeave,h=e.onDragOver,b=e.onDrop,x=e.onDropAccepted,_=e.onDropRejected,E=e.onFileDialogCancel,I=e.onFileDialogOpen,T=e.useFsAccessApi,O=e.autoFocus,R=e.preventDropOnDocument,A=e.noClick,D=e.noKeyboard,L=e.noDrag,z=e.noDragEventsBubbling,P=e.onError,q=e.validator,M=Q.useMemo(function(){return aG(n)},[n]),F=Q.useMemo(function(){return oG(n)},[n]),U=Q.useMemo(function(){return typeof I=="function"?I:HR},[I]),V=Q.useMemo(function(){return typeof E=="function"?E:HR},[E]),B=Q.useRef(null),te=Q.useRef(null),Z=Q.useReducer(_G,WE),le=E0(Z,2),se=le[0],ne=le[1],oe=se.isFocused,X=se.isFileDialogActive,ue=Q.useRef(typeof window<"u"&&window.isSecureContext&&T&&sG()),de=function(){!ue.current&&X&&setTimeout(function(){if(te.current){var ut=te.current.files;ut.length||(ne({type:"closeDialog"}),V())}},300)};Q.useEffect(function(){return window.addEventListener("focus",de,!1),function(){window.removeEventListener("focus",de,!1)}},[te,X,V,ue]);var ye=Q.useRef([]),we=function(ut){B.current&&B.current.contains(ut.target)||(ut.preventDefault(),ye.current=[])};Q.useEffect(function(){return R&&(document.addEventListener("dragover",UR,!1),document.addEventListener("drop",we,!1)),function(){R&&(document.removeEventListener("dragover",UR),document.removeEventListener("drop",we))}},[B,R]),Q.useEffect(function(){return!r&&O&&B.current&&B.current.focus(),function(){}},[B,O,r]);var Ne=Q.useCallback(function(Me){P?P(Me):console.error(Me)},[P]),ze=Q.useCallback(function(Me){Me.preventDefault(),Me.persist(),ke(Me),ye.current=[].concat(hG(ye.current),[Me.target]),Qg(Me)&&Promise.resolve(i(Me)).then(function(ut){if(!(Wv(Me)&&!z)){var Qt=ut.length,Gt=Qt>0&&tG({files:ut,accept:M,minSize:o,maxSize:s,multiple:l,maxFiles:u,validator:q}),hn=Qt>0&&!Gt;ne({isDragAccept:Gt,isDragReject:hn,isDragActive:!0,type:"setDraggedFiles"}),d&&d(Me)}}).catch(function(ut){return Ne(ut)})},[i,d,Ne,z,M,o,s,l,u,q]),Re=Q.useCallback(function(Me){Me.preventDefault(),Me.persist(),ke(Me);var ut=Qg(Me);if(ut&&Me.dataTransfer)try{Me.dataTransfer.dropEffect="copy"}catch{}return ut&&h&&h(Me),!1},[h,z]),De=Q.useCallback(function(Me){Me.preventDefault(),Me.persist(),ke(Me);var ut=ye.current.filter(function(Gt){return B.current&&B.current.contains(Gt)}),Qt=ut.indexOf(Me.target);Qt!==-1&&ut.splice(Qt,1),ye.current=ut,!(ut.length>0)&&(ne({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Qg(Me)&&p&&p(Me))},[B,p,z]),Je=Q.useCallback(function(Me,ut){var Qt=[],Gt=[];Me.forEach(function(hn){var ur=FD(hn,M),Fn=E0(ur,2),Hr=Fn[0],Oi=Fn[1],Tr=DD(hn,o,s),Jt=E0(Tr,2),Qi=Jt[0],Gi=Jt[1],Ji=q?q(hn):null;if(Hr&&Qi&&!Ji)Qt.push(hn);else{var uo=[Oi,Gi];Ji&&(uo=uo.concat(Ji)),Gt.push({file:hn,errors:uo.filter(function(la){return la})})}}),(!l&&Qt.length>1||l&&u>=1&&Qt.length>u)&&(Qt.forEach(function(hn){Gt.push({file:hn,errors:[eG]})}),Qt.splice(0)),ne({acceptedFiles:Qt,fileRejections:Gt,isDragReject:Gt.length>0,type:"setFiles"}),b&&b(Qt,Gt,ut),Gt.length>0&&_&&_(Gt,ut),Qt.length>0&&x&&x(Qt,ut)},[ne,l,M,o,s,u,b,x,_,q]),Xe=Q.useCallback(function(Me){Me.preventDefault(),Me.persist(),ke(Me),ye.current=[],Qg(Me)&&Promise.resolve(i(Me)).then(function(ut){Wv(Me)&&!z||Je(ut,Me)}).catch(function(ut){return Ne(ut)}),ne({type:"reset"})},[i,Je,Ne,z]),Ue=Q.useCallback(function(){if(ue.current){ne({type:"openDialog"}),U();var Me={multiple:l,types:F};window.showOpenFilePicker(Me).then(function(ut){return i(ut)}).then(function(ut){Je(ut,null),ne({type:"closeDialog"})}).catch(function(ut){lG(ut)?(V(ut),ne({type:"closeDialog"})):cG(ut)?(ue.current=!1,te.current?(te.current.value=null,te.current.click()):Ne(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Ne(ut)});return}te.current&&(ne({type:"openDialog"}),U(),te.current.value=null,te.current.click())},[ne,U,V,T,Je,Ne,F,l]),ct=Q.useCallback(function(Me){!B.current||!B.current.isEqualNode(Me.target)||(Me.key===" "||Me.key==="Enter"||Me.keyCode===32||Me.keyCode===13)&&(Me.preventDefault(),Ue())},[B,Ue]),_t=Q.useCallback(function(){ne({type:"focus"})},[]),Tt=Q.useCallback(function(){ne({type:"blur"})},[]),Ut=Q.useCallback(function(){A||(iG()?setTimeout(Ue,0):Ue())},[A,Ue]),nn=function(ut){return r?null:ut},xe=function(ut){return D?null:nn(ut)},ve=function(ut){return L?null:nn(ut)},ke=function(ut){z&&ut.stopPropagation()},Ae=Q.useMemo(function(){return function(){var Me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ut=Me.refKey,Qt=ut===void 0?"ref":ut,Gt=Me.role,hn=Me.onKeyDown,ur=Me.onFocus,Fn=Me.onBlur,Hr=Me.onClick,Oi=Me.onDragEnter,Tr=Me.onDragOver,Jt=Me.onDragLeave,Qi=Me.onDrop,Gi=Uv(Me,fG);return jr(jr(zE({onKeyDown:xe(Uo(hn,ct)),onFocus:xe(Uo(ur,_t)),onBlur:xe(Uo(Fn,Tt)),onClick:nn(Uo(Hr,Ut)),onDragEnter:ve(Uo(Oi,ze)),onDragOver:ve(Uo(Tr,Re)),onDragLeave:ve(Uo(Jt,De)),onDrop:ve(Uo(Qi,Xe)),role:typeof Gt=="string"&&Gt!==""?Gt:"presentation"},Qt,B),!r&&!D?{tabIndex:0}:{}),Gi)}},[B,ct,_t,Tt,Ut,ze,Re,De,Xe,D,L,r]),Ve=Q.useCallback(function(Me){Me.stopPropagation()},[]),rt=Q.useMemo(function(){return function(){var Me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ut=Me.refKey,Qt=ut===void 0?"ref":ut,Gt=Me.onChange,hn=Me.onClick,ur=Uv(Me,pG),Fn=zE({accept:M,multiple:l,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:nn(Uo(Gt,Xe)),onClick:nn(Uo(hn,Ve)),tabIndex:-1},Qt,te);return jr(jr({},Fn),ur)}},[te,n,l,Xe,r]);return jr(jr({},se),{},{isFocused:oe&&!r,getRootProps:Ae,getInputProps:rt,rootRef:B,inputRef:te,open:nn(Ue)})}function _G(t,e){switch(e.type){case"focus":return jr(jr({},t),{},{isFocused:!0});case"blur":return jr(jr({},t),{},{isFocused:!1});case"openDialog":return jr(jr({},WE),{},{isFileDialogActive:!0});case"closeDialog":return jr(jr({},t),{},{isFileDialogActive:!1});case"setDraggedFiles":return jr(jr({},t),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return jr(jr({},t),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return jr({},WE);default:return t}}function HR(){}const SG=Object.freeze(Object.defineProperty({__proto__:null,ErrorCode:YQ,default:Qb,useDropzone:zD},Symbol.toStringTag,{value:"Module"})),EG=yn({slot:{base:["flex","items-center","justify-center","w-full"],label:["flex","flex-col","items-center","justify-center","w-full","h-64","border-2","border-gray-300","border-dashed","rounded-lg","cursor-pointer","bg-gray-50","hover:bg-gray-100"],zone:["flex","flex-col","items-center","justify-center","pt-5","pb-6","text-slate-500"]},variant:{active:{true:[]},rejected:{true:[]}},match:[{if:{active:!0},then:{label:["text-blue-400"],zone:["text-blue-400"]}},{if:{rejected:!0},then:{label:["text-red-400"],zone:["text-red-400"]}}],defaults:{active:!1,rejected:!1}}),{useDropzone:NG}=SG,kG=({id:t,accept:e,text:n,variant:r,tva:i=EG,css:s,...o})=>{const{getRootProps:l,getInputProps:u,isDragActive:d,isDragReject:p}=NG({noClick:!0,multiple:!1,accept:e,maxFiles:1,minSize:0,maxSize:8388608,...o}),h=i({active:d,rejected:p,...r,css:s}).slots;return f.jsx("div",{...l(),className:h.base(),children:f.jsxs("label",{htmlFor:t,className:h.label(),children:[f.jsxs("div",{className:h.zone(),children:[f.jsx(on,{icon:NQ,variant:{size:"4xl"}}),f.jsx("p",{className:"mb-2 text-sm font-semibold",children:n?.title||$l.rich("Drag 'n' drop a file here")}),n?.message?f.jsx("p",{className:"text-xs",children:n.message}):null]}),f.jsx("input",{id:t,type:"file",className:"hidden",...u()})]})})},IG=yn({slot:{base:["min-h-screen","flex","flex-col"],header:["flex","flex-row","items-center","bg-slate-50","shadow-sm","border-b","border-b-slate-200","w-full","gap-4","p-4"],content:["flex-grow","h-full","border-b","border-b-slate-200","p-2"]},variant:{},defaults:{}}),WD=({logo:t,menu:e,actions:n,variant:r,tva:i=IG,css:s,children:o})=>{const l=i({...r,css:s}).slots;return f.jsxs("div",{className:l.base(),children:[f.jsx(Nz,{position:"top-right"}),f.jsxs("div",{className:l.header(),children:[f.jsx("div",{children:t}),f.jsx("div",{className:"flex-grow",children:e}),f.jsx("div",{className:"flex flex-row gap-2 items-center",children:n})]}),f.jsx("div",{className:l.content(),children:o??f.jsx(lo,{})})]})},CG=yn({slot:{base:["flex","flex-row","gap-2","items-center","justify-between","text-blue-500","rounded","px-1","py-0.5","hover:text-blue-700","focus:outline-none","w-fit"]},variant:{},defaults:{}}),TG=Q.forwardRef(({icon:t,iconProps:e,variant:n,tva:r=CG,css:i,children:s,...o},l)=>{const u=r({...n,css:i}).slots;return f.jsxs("a",{...o,ref:l,className:u.base(),children:[t&&f.jsx(on,{icon:t,...e}),s]})}),OG=Q3(TG),Kt=t=>f.jsx(OG,{preload:"intent",...t}),RG=yn({slot:{base:["fixed","inset-0","h-full","items-center","justify-center","bg-slate-100","flex","transition-all","duration-200","z-[10]","pointer-events-none","bg-opacity-0","backdrop-blur-none"]},variant:{show:{true:["bg-opacity-50","backdrop-blur-sm","pointer-events-auto"]}},defaults:{show:!0}}),qG=({show:t=!0,variant:e,tva:n=RG,css:r})=>{const i=n({show:t,...e,css:r}).slots;return t?f.jsx("div",{className:i.base(),children:f.jsx(on,{icon:"icon-[svg-spinners--pulse-rings-multiple]",variant:{size:"8xl"},css:{base:["text-sky-400"]}})}):null};var Ry={exports:{}},jG=Ry.exports,KR;function AG(){return KR||(KR=1,function(t,e){(function(n,r){t.exports=r()})(jG,()=>(()=>{var n={d:(_,E)=>{for(var I in E)n.o(E,I)&&!n.o(_,I)&&Object.defineProperty(_,I,{enumerable:!0,get:E[I]})},o:(_,E)=>Object.prototype.hasOwnProperty.call(_,E)},r={};n.d(r,{default:()=>x});const i=(..._)=>{},s=_=>_!==null&&_?.constructor.name==="Object";let o,l;const u=()=>{if(!o){o=!0;try{l=h.storage||localStorage,l.getItem("")}catch{l=(()=>{const _={getItem:I=>E[I]||null,setItem:(I,T)=>{E[I]=T},removeItem:I=>{E[I]=void 0},clear:()=>{E={__proto__:_}}};let E={__proto__:_};return E})()}b()}},d="\0",p=(_,E,I=!0)=>I?[...JSON.stringify(_)].map(T=>String.fromCharCode(T.charCodeAt(0)+E)).join(""):JSON.parse([..._].map(T=>String.fromCharCode(T.charCodeAt(0)-E)).join("")),h={ttl:null,encrypt:!1,encrypter:p,decrypter:(_,E)=>p(_,E,!1),secret:75,storage:void 0};Object.seal(h);const b=(_=!1)=>{u();for(const E of Object.keys(l)){const I=l.getItem(E);let T;try{T=JSON.parse(I||"")}catch{continue}s(T)&&d in T&&(Date.now()>T.ttl||_)&&l.removeItem(E)}},x={config:h,set:(_,E,I={})=>{u();const T={...h,...I,encrypt:I.encrypt!==!1&&(I.encrypt||h.encrypt),ttl:I.ttl===null?null:I.ttl||h.ttl};try{const O=T.ttl&&!isNaN(T.ttl)&&T.ttl>0;let R=O?{[d]:E,ttl:Date.now()+1e3*T.ttl}:E;T.encrypt&&(O?R[d]=(T.encrypter||i)(R[d],T.secret):R=(T.encrypter||i)(R,T.secret)),l.setItem(_,JSON.stringify(R))}catch{return!1}},get:(_,E={})=>{u();const I=l.getItem(_),T={...h,...E,encrypt:E.encrypt!==!1&&(E.encrypt||h.encrypt),ttl:E.ttl===null?null:E.ttl||h.ttl};let O,R;try{O=JSON.parse(I||""),R=s(O)&&d in O,(T.decrypt||T.encrypt)&&(R?O[d]=(T.decrypter||i)(O[d],T.secret):O=(T.decrypter||i)(O,T.secret))}catch{}return R?Date.now()>O.ttl?(l.removeItem(_),null):O[d]:O!==void 0?O:I},flush:b,clear:()=>{u(),l.clear()},remove:_=>{u(),l.removeItem(_)}};return r.default})())}(Ry)),Ry.exports}var PG=AG();const FG=ao(PG),pf=FG,DG=yn({slot:{base:["flex","flex-row","gap-2","items-center"]},variant:{},defaults:{}}),Xl=({variant:t,tva:e=DG,css:n,children:r})=>{const i=e({...t,css:n}).slots;return f.jsx("div",{className:i.base(),children:r})},UD=yn({slot:{base:["flex","flex-row","gap-2","items-center","rounded","px-2","py-1","border","border-b-2","border-transparent","hover:text-slate-500"]},variant:{active:{true:[]},inner:{true:[]},subtle:{true:[]}},match:[{if:{active:!0,inner:!1},then:{base:["border","border-b-2","border-blue-400","bg-blue-50","hover:border-blue-500","text-slate-800","hover:text-blue-800"]}},{if:{active:!0,inner:!0},then:{base:["border-none","text-blue-600","hover:text-blue-800"]}},{if:{subtle:!0},then:{base:["hover:bg-slate-50","hover:border-slate-300","hover:text-slate-600"]}},{if:{active:!0,subtle:!0},then:{base:["bg-slate-100","border-slate-400"]}}],defaults:{active:!1,inner:!1,subtle:!1}}),LG=Q.forwardRef(({icon:t=null,variant:e,tva:n=UD,css:r,children:i,...s},o)=>{const l=n({...e,css:r}).slots;return f.jsxs("a",{...s,className:l.base(),ref:o,children:[kb(t)?f.jsx(on,{icon:t}):t,i]})}),MG=Q3(LG),$n=({match:t=[],variant:e,tva:n=UD,css:r,...i})=>{const s=I4(),o=t.some(l=>!!s(l));return f.jsx(MG,{preload:"intent",variant:{active:!!s({to:i.to,params:i.params})||o,...e},tva:n,css:r,...i})},$G=yn({slot:{base:["flex","flex-row","flex-wrap","items-center","gap-2","text-sm","font-semibold"],item:["border","border-blue-200","bg-blue-50","rounded-md","px-2","py-1"]},variant:{},defaults:{}}),Vd=({textTitle:t,textEmpty:e,items:n,render:r,limit:i,variant:s,tva:o=$G,css:l})=>{const u=i?n.slice(0,i):n,d=o({...s,css:l}).slots;return f.jsxs("div",{className:d.base(),children:[n.length?null:e,u.map(p=>f.jsx(r,{entity:p},`items-${p.id}`)),i&&n.length>i&&f.jsx(ff,{textTitle:t,target:f.jsx(gm,{iconEnabled:yD}),outside:!0,children:f.jsx("div",{className:"flex flex-col gap-2",children:n.map(p=>f.jsx(r,{entity:p},`items-${p.id}`))})})]})},BG=yn({slot:{base:[]},variant:{},defaults:{}}),ee=({label:t,fallback:e,variant:n,tva:r=BG,css:i})=>{const s=r({...n,css:i}).slots;return f.jsx("div",{className:s.base(),children:$l.rich(t,e)})},VD=yn({slot:{base:["flex","flex-col","gap-2"],input:["py-2","px-2","flex","flex-row","gap-2","items-center","cursor-pointer","hover:bg-slate-50","border","border-gray-300","rounded-md","text-slate-400","hover:text-slate-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],content:[],footer:["flex","items-center","justify-between","gap-2","border-t-2","border-slate-100","mt-4","pt-2"]},variant:{loading:{true:[]},selected:{true:[]}},match:[{if:{loading:!0},then:{input:["text-slate-300"]}},{if:{selected:!0},then:{input:["bg-slate-50","text-slate-700","hover:bg-slate-100","hover:text-slate-800"]}}],defaults:{loading:!1,selected:!1}}),zG=yn({use:VD,slot:{},variant:{},defaults:{}}),WG=({icon:t,textTitle:e,textSelect:n,modalProps:r,table:i,render:s,allowEmpty:o=!1,queryKey:l,query:u,value:d,onChange:p,variant:h,tva:b=zG,css:x})=>{const _=b({...h,css:x}).slots,[E,I]=Q.useState(0),[T,O]=Q.useState(15),[R,A]=Q.useState(d||[]),[D,L]=Q.useState(void 0),z=nv({queryKey:[l,"PopupMultiSelect","data",{fulltext:D,page:E,size:T}],async queryFn(){return u({filter:{fulltext:D},cursor:{page:E,size:T}})}}),P=nv({queryKey:[l,"PopupMultiSelect","selected",{value:d}],async queryFn(){return u({filter:{idIn:d}})},enabled:!!d});return f.jsx(ff,{icon:t,target:f.jsxs("label",{className:_.input({loading:P.isLoading,selected:!!P.data?.data.length}),children:[f.jsx(on,{icon:P.data?.data?.length?Kb:Hb}),P.data&&P.data.data.length?f.jsx(s,{entities:P.data.data}):n||f.jsx(ee,{label:"Select item (label)"})]}),textTitle:e,variant:{loading:z.isLoading},disabled:z.isLoading,...r,children:f.jsxs("div",{className:_.base(),children:[f.jsx("div",{className:_.content(),children:f.jsx(i,{cursor:{cursor:{page:E,size:T},count:z.data?.count?z.data.count:{filter:-1,total:-1,where:-1},textTotal:f.jsx(ee,{label:"Total count of items (label)"}),onPage(q){I(q)},onSize(q){O(q),I(0)}},fulltext:{value:D,set(q){L(q),I(0)}},table:{data:z.data?.data??[],selection:{type:"multi",value:R,set(q){A(q)}}}})}),f.jsx(Wb.Consumer,{children:q=>f.jsxs("div",{className:_.footer(),children:[f.jsx(An,{iconEnabled:so,iconDisabled:so,onClick:()=>{q?.close()},variant:{variant:"subtle"},children:f.jsx(ee,{label:"Close (label)"})}),f.jsx(An,{iconEnabled:Bv,iconDisabled:Bv,disabled:!R.length&&!o,onClick:()=>{p(R),q?.close()},children:f.jsx(ee,{label:"Confirm selection (label)"})})]})})]})})},HD=({icon:t,textTitle:e,textSelect:n,modalProps:r,table:i,render:s,allowEmpty:o=!1,queryKey:l,query:u,value:d,onChange:p,variant:h,tva:b=VD,css:x})=>{const _=b({...h,css:x}).slots,[E,I]=Q.useState(0),[T,O]=Q.useState(15),[R,A]=Q.useState(d?[d]:[]),[D,L]=Q.useState(void 0),z=nv({queryKey:[l,"PopupSelect","data",{fulltext:D,page:E,size:T}],async queryFn(){return u({filter:{fulltext:D},cursor:{page:E,size:T}})}}),P=nv({queryKey:[l,"PopupSelect","selected",{value:d}],async queryFn(){return u({filter:{id:d||void 0}})},enabled:!!d});return f.jsx(ff,{icon:t,target:f.jsxs("label",{className:_.input({loading:P.isLoading,selected:!!P.data?.data?.length}),children:[f.jsx(on,{icon:P.data?.data?.[0]?Kb:Hb}),P.data?.data?.[0]?f.jsx(s,{entity:P.data?.data?.[0]}):n||f.jsx(ee,{label:"Select item (label)"})]}),textTitle:e,variant:{loading:z.isLoading},disabled:z.isLoading,...r,children:f.jsxs("div",{className:_.base(),children:[f.jsx("div",{className:_.content(),children:f.jsx(i,{cursor:{cursor:{page:E,size:T},count:z.data?.count?z.data.count:{filter:-1,total:-1,where:-1},textTotal:f.jsx(ee,{label:"Total count of items (label)"}),onPage(q){I(q)},onSize(q){O(q),I(0)}},fulltext:{value:D,set(q){L(q),I(0)}},table:{data:z.data?.data??[],selection:{type:"single",value:R,set(q){A(q)}}}})}),f.jsx(Wb.Consumer,{children:q=>f.jsxs("div",{className:_.footer(),children:[f.jsx(An,{iconEnabled:so,iconDisabled:so,onClick:()=>{q?.close()},variant:{variant:"subtle"},children:f.jsx(ee,{label:"Close (label)"})}),f.jsx(An,{iconEnabled:Bv,iconDisabled:Bv,disabled:!R.length&&!o,onClick:()=>{p(R?.[0]),q?.close()},children:f.jsx(ee,{label:"Confirm selection (label)"})})]})})]})})},UG=yn({slot:{base:["bg-blue-50","p-2","rounded-md","border","border-blue-200"],container:["grid","grid-cols-2","grid-rows-2","gap-1"],title:["col-span-1","row-span-1","border-b","border-b-slate-300","pb-2"],links:["col-span-1","row-span-1","border-b","border-b-slate-300","pb-2","flex","flex-row","items-center","gap-4","justify-end"],actions:["col-span-1","row-span-1","flex","flex-row","items-center","gap-4"],extra:["col-span-1","row-span-1","flex","flex-row","gap-4","justify-end"]},variant:{},defaults:{}}),hf=({entity:t,title:e=()=>null,links:n=()=>null,actions:r=()=>null,extra:i=()=>null,variant:s,tva:o=UG,css:l})=>{const u=o({...s,css:l}).slots;return f.jsx(hN.Provider,{value:{inline:!0},children:f.jsx("div",{className:u.base(),children:f.jsxs("div",{className:u.container(),children:[f.jsx("div",{className:u.title(),children:f.jsx(e,{entity:t})}),f.jsx("div",{className:u.links(),children:f.jsx(n,{entity:t})}),f.jsx("div",{className:u.actions(),children:f.jsx(r,{entity:t})}),f.jsx("div",{className:u.extra(),children:f.jsx(i,{entity:t})})]})})})},VG=yn({slot:{base:["w-full","bg-slate-200","rounded","transition-all"],progress:["h-full","bg-blue-400","rounded","leading-none","transition-all"]},variant:{size:{xs:"h-0.5",sm:"h-1",md:"h-2",lg:"h-4"}},defaults:{size:"md"}}),ec=({value:t,variant:e,tva:n=VG,css:r})=>{const i=n({...e,css:r}).slots;return f.jsx("div",{className:i.base(),children:f.jsx("div",{style:{width:`${t}%`},className:i.progress()})})},HG=t=>e=>{t({search:({cursor:n,...r})=>({...r,cursor:{...n,page:e}})})},KG=t=>e=>{t({search:({cursor:n,...r})=>({...r,cursor:{...n,size:e,page:0}})})},wr=t=>({onPage:HG(t),onSize:KG(t)}),_r=t=>e=>t({search:({cursor:n,...r})=>({...r,filter:e,cursor:{...n,page:0}})}),Sr=t=>e=>{t({search:({cursor:n,filter:r,...i})=>({...i,filter:{...r,fulltext:e},cursor:{...n,page:e?0:n.page}}),replace:!!e})},Hi=t=>e=>{t({search(n){return{...n,selection:e}}})},xr=t=>({loading:f.jsx(ee,{label:`${t} - Loading (label)`}),success:f.jsx(ee,{label:`${t} - Success (label)`}),error:f.jsx(ee,{label:`${t} - Error (label)`})}),QG=yn({slot:{base:["flex","flex-col","gap-4"],content:["text-bold","text-red-500","font-bold"],footer:["flex","flex-row","items-center","justify-between","gap-4"]},variant:{},defaults:{}}),Ki=({textContent:t,textToast:e,callback:n,onCancel:r,invalidator:i,variant:s,tva:o=QG,css:l})=>{const u=o({...s,css:l}).slots,d=Q.useContext(Wb),p=Xt({async mutationFn(){return kz.promise(n(),xr(e))},async onSuccess(){await i?.(),d?.close()}});return f.jsxs("div",{className:u.base(),children:[f.jsx("div",{className:u.content(),children:t}),f.jsxs("div",{className:u.footer(),children:[f.jsx(An,{variant:{variant:"subtle",size:"sm"},iconEnabled:so,onClick:()=>{d?.close(),r?.()},children:f.jsx(ee,{label:"Cancel (button)"})}),f.jsx(An,{variant:{variant:"danger",size:"md"},iconEnabled:ri,onClick:()=>{p.mutate()},children:f.jsx(ee,{label:"Delete (button)"})})]})]})},GG=async({select:t,query:e=()=>t,filter:n,where:r})=>({total:(await t.clearSelect().select(i=>i.fn.countAll().as("count")).executeTakeFirstOrThrow()).count,filter:(await e({select:e({select:t,where:r}),where:n}).clearSelect().select(i=>i.fn.countAll().as("count")).executeTakeFirstOrThrow()).count,where:(await e({select:t,where:r}).clearSelect().select(i=>i.fn.countAll().as("count")).executeTakeFirstOrThrow()).count}),tc=async({select:t,query:e=()=>t,output:n,filter:r,where:i})=>n.parse(await e({select:e({select:t,where:i}),where:r}).executeTakeFirstOrThrow()),$i=async({select:t,query:e=()=>t,output:n,filter:r,where:i,cursor:s})=>{const o=l=>{let u=l;return s&&(u=l.limit(s.size).offset(s.page*s.size)),u};return W.array(n).parse(await o(e({select:e({select:t,where:i}),where:r})).execute())},sr=async({select:t,query:e=()=>t,output:n,filter:r,where:i,cursor:s})=>({data:await $i({select:t,output:n,where:i,filter:r,query:e,cursor:s}),count:await GG({select:t,where:i,filter:r,query:e})}),er=t=>{const e="input"in t?t.input:"input",n="output"in t?t.output:"output",r="schema"in t?t.schema._input:t._input,i="schema"in t?t.schema._output:t._output;return{types:{input:e==="output"?i:r,output:n==="input"?r:i},parse:s=>"schema"in t?t.schema.parse(s):t.parse(s)}},Gg=(t,e)=>W.custom().pipe(t.catch(e)),Er=({filter:t},{size:e=30}={size:30})=>W.object({filter:Gg(t.optional(),void 0),cursor:Gg(w9,{page:0,size:e}).default({page:0,size:e}),sort:Gg(W.any().optional(),[]).default([]),selection:Gg(W.array(W.string()),[]).default([])}),JG=yn({slot:{base:["w-full","flex","flex-col","items-center","justify-center"],title:["text-xl","text-bold"],message:["text-base","text-slate-500"],body:["pt-2"]},variant:{},defaults:{}}),KD=({textTitle:t,textMessage:e,icon:n,iconProps:r,variant:i,tva:s=JG,css:o,children:l})=>{const u=s({...i,css:o}).slots;return f.jsxs("div",{className:u.base(),children:[n?f.jsx(on,{icon:n,variant:{size:"6xl"},css:{base:["text-slate-500","opacity-50"]},...r}):null,f.jsx("div",{className:u.title(),children:t}),f.jsx("div",{className:u.message(),children:e}),f.jsx("div",{className:u.body(),children:l})]})},bN=yn({slot:{base:["min-w-full","flex","flex-col","gap-2","text-sm"],table:["min-w-full","w-max","table-fixed"],thead:["border","border-slate-200","bg-slate-100"],th:["text-left","px-2","py-1","border-t","border-b","border-slate-300"],tbody:[],tr:["border-b","border-b-slate-200","odd:bg-slate-50","hover:bg-purple-100","hover:border-purple-300"],td:["px-2","py-1"],tfoot:[],select:["cursor-pointer","text-slate-400","hover:text-slate-600"]},variant:{selected:{true:[]}},match:[{if:{selected:!0},then:{tr:["bg-blue-100","odd:bg-blue-50","border-blue-300"],select:["text-slate-600"]}}],defaults:{selected:!1}}),ZG=({table:t,cell:{column:e,data:n,value:r},variant:i,tva:s=bN,css:o})=>{const l=e.def.render,u=s({...i,css:o}).slots;return f.jsx("td",{className:u.td(),children:f.jsxs("div",{className:"group flex flex-row items-center gap-2 justify-between",children:[f.jsx(l,{table:t,data:n,value:r,context:t.context}),e.filter&&!e.filter.is()?f.jsx(on,{icon:_Q,css:{base:["group-hover:visible","invisible","opacity-50 hover:opacity-100","cursor-pointer"]},variant:{size:"xl"},onClick:()=>{e.filter&&(e.def.filter?.onFilter({data:n,filter:e.filter}),window.scrollTo({top:0,behavior:"smooth"}))}}):null]})})},YG=({table:t,row:e,action:n,variant:r,tva:i=bN,css:s})=>{const o=i({...r,css:s}).slots,l=n?.table,u=n?.row;return f.jsxs("tr",{className:o.tr({selected:t.selection.isSelected(e)}),children:[l||u||t.selection.enabled?f.jsx("td",{className:"w-0",children:f.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.selection.enabled?f.jsx(on,{icon:t.selection.isSelected(e)?Kb:Hb,css:{base:o.select({selected:t.selection.isSelected(e)})},onClick:t.selection.withRowHandler(e)}):null,u?f.jsx(u,{table:t,data:e.data}):null]})}):null,e.cells.map(d=>f.jsx(ZG,{table:t,cell:d,variant:r,tva:i,css:s},`${e.id}-${d.column.id}`)),f.jsx("td",{})]})},Nr=({table:t,fulltext:e,cursor:n,empty:r=()=>f.jsx(KD,{icon:wQ,textTitle:f.jsx(ee,{label:"Nothing here"}),textMessage:f.jsx(ee,{label:"There is nothing to see right now."})}),action:i,variant:s,tva:o=bN,css:l})=>{const u=o({...s,css:l}).slots,d=i?.table,p=i?.row;return f.jsxs("div",{className:u.base(),children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("div",{className:"flex items-center gap-6 w-1/3",children:e?f.jsx(kD,{value:e.value,onFulltext:e.set}):null}),f.jsxs("div",{className:"flex flex-row items-center justify-center gap-2",children:[f.jsx(NR,{...n}),t.filter.is()&&f.jsx(gm,{iconEnabled:RR,css:{base:["text-amber-500"]},onClick:()=>t.filter.reset()})]})]}),f.jsx("div",{className:"relative overflow-x-auto",children:f.jsxs("table",{className:u.table(),children:[f.jsx("thead",{className:u.thead(),children:f.jsxs("tr",{children:[d||p||t.selection.enabled?f.jsx("th",{className:"w-0",children:f.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.selection.enabled?f.jsx(on,{icon:t.selection.isAll()?Kb:t.selection.isAny()?EQ:Hb,variant:{disabled:t.selection.isSingle},css:{base:u.select({selected:t.selection.isAny()})},onClick:t.selection.withAllHandler()}):null,d?f.jsx(d,{table:t}):null]})}):null,t.visible.map(h=>{const b=h.def.header||(()=>null);return f.jsx("th",{className:u.th(),style:h.def.size?{width:`${h.def.size}rem`}:void 0,children:f.jsxs("div",{className:"flex flex-row items-center justify-between",children:[f.jsx(b,{table:t}),f.jsx("div",{className:"flex flex-row items-center gap-2",children:h.filter?.is()&&f.jsx(on,{icon:RR,variant:{size:"md"},css:{base:["opacity-50","hover:opacity-100","cursor-pointer"]},onClick:()=>{h.filter?.reset()}})})]})},h.id)}),f.jsx("th",{})]})}),t.isEmpty?null:f.jsx("tbody",{className:u.tbody(),children:t.rows?.map(h=>f.jsx(YG,{row:h,table:t,action:i,variant:s,tva:o,css:l},h.id))})]})}),t.isEmpty?f.jsx(r,{}):null,f.jsxs("div",{className:"flex flex-row items-center justify-end gap-2",children:[f.jsx("div",{}),f.jsx(NR,{...n})]})]})},ui=[];for(let t=0;t<256;++t)ui.push((t+256).toString(16).slice(1));function XG(t,e=0){return(ui[t[e+0]]+ui[t[e+1]]+ui[t[e+2]]+ui[t[e+3]]+"-"+ui[t[e+4]]+ui[t[e+5]]+"-"+ui[t[e+6]]+ui[t[e+7]]+"-"+ui[t[e+8]]+ui[t[e+9]]+"-"+ui[t[e+10]]+ui[t[e+11]]+ui[t[e+12]]+ui[t[e+13]]+ui[t[e+14]]+ui[t[e+15]]).toLowerCase()}let N0;const eJ=new Uint8Array(16);function tJ(){if(!N0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");N0=crypto.getRandomValues.bind(crypto)}return N0(eJ)}const nJ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),QR={randomUUID:nJ};function GR(t,e,n){if(QR.randomUUID&&!t)return QR.randomUUID();t=t||{};const r=t.random??t.rng?.()??tJ();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,XG(r)}const kr=({columns:t,order:e=t.map(u=>u.name),hidden:n=[],visible:r=t.map(u=>u.name),data:i,filter:s,selection:o,context:l})=>{const u={...s?.value||{}},d=JO(u),p=new Set(o?.value),h=t.map(x=>({id:GR(),def:x,filter:x.filter?{is(){return x.filter?d.get(x.filter.path)!==void 0:!1},reset(){x.filter&&d.set(x.filter.path,void 0),s?.set({...u})},shallow(_,E){x.filter&&d.set(_,E),s?.set({...u})},set(_){s?.set({..._})}}:void 0})),b=h.filter(x=>r.includes(x.def.name)&&!n.includes(x.def.name)).sort((x,_)=>{const E=e.indexOf(x.def.name),I=e.indexOf(_.def.name);return(E===-1?1/0:E)-(I===-1?1/0:I)});return{columns:h,visible:b,rows:i?.map(x=>({id:GR(),data:x,cells:b.map(_=>({column:_,data:x,value:JO(x).get(_.def.name)}))})),isEmpty:i.length===0,filter:{is(){return h.some(x=>x.filter?.is())},reset(){s?.set({})},set(x){s?.set({...x})},shallow(x,_){d.set(x,_)}},selection:{enabled:!!o&&i.length>0,selection:Array.from(p),isSingle:o?.type==="single",isMulti:o?.type==="multi",isSelected({data:x}){return p.has(x.id)||!1},isAll(){return i.every(x=>p.has(x.id))},isAny(){return i.some(x=>p.has(x.id))},withRowHandler({data:x}){return()=>{if(o?.type==="single"){const _=p.has(x.id);p.clear(),_?p.delete(x.id):p.add(x.id)}else p.has(x.id)?p.delete(x.id):p.add(x.id);o?.set(Array.from(p))}},withAllHandler(){return()=>{i.every(x=>p.has(x.id))?p.clear():i.forEach(({id:x})=>p.add(x)),o?.set(Array.from(p))}}},context:l}},Ir=()=>t=>t,QD=({tags:t=[],render:e=({tag:i})=>i.label,onClick:n,textEmpty:r})=>{const i=t.filter(Boolean).sort((s,o)=>s.sort-o.sort);return f.jsx("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:i.length?i.map(s=>f.jsx(ro,{onClick:()=>n?.(s),children:e({tag:s})},s.id)):r||f.jsx(ee,{label:"No tags (label)"})})},rJ=yn({slot:{base:["flex","flex-row","gap-2","items-center"],title:["flex","flex-row","gap-2","items-center","text-lg","text-slate-500","font-bold"],subtitle:["flex","flex-row","gap-4","items-center","text-lg"]},variant:{withSubtitle:{true:[]}},match:[{if:{withSubtitle:!0},then:{title:["border-r","border-r-slate-300","pr-2"]}}],defaults:{withSubtitle:!1}}),mf=({icon:t,title:e,subtitle:n,variant:r,tva:i=rJ,css:s})=>{const o=i({withSubtitle:!!n,...r,css:s}).slots;return f.jsxs("div",{className:o.base(),children:[f.jsxs("div",{className:o.title(),children:[t?f.jsx(on,{icon:t}):null,e]}),n?f.jsx("div",{className:o.subtitle(),children:n}):null]})};var Jg={},JR;function iJ(){if(JR)return Jg;JR=1;var t=K3();return Jg.createRoot=t.createRoot,Jg.hydrateRoot=t.hydrateRoot,Jg}var sJ=iJ();const oJ=ao(sJ),xN=f4()({component:()=>f.jsxs(f.Fragment,{children:[f.jsx(A4,{}),f.jsx(lo,{})]})}),aJ="modulepreload",lJ=function(t){return"/"+t},ZR={},YR=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");i=Promise.allSettled(n.map(u=>{if(u=lJ(u),u in ZR)return;ZR[u]=!0;const d=u.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const h=document.createElement("link");if(h.rel=d?"stylesheet":aJ,d||(h.as="script"),h.crossOrigin="",h.href=u,l&&h.setAttribute("nonce",l),document.head.appendChild(h),d)return new Promise((b,x)=>{h.addEventListener("load",b),h.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},cJ=Wt("/$locale")({component:lo,loader:async({params:{locale:t}})=>{try{$l.push((await uJ(`../translation/${t}.yaml`)).default)}catch(e){console.error(e)}}});function uJ(t){switch(t){case"../translation/cs":case"../translation/cs.yaml":return YR(()=>import("./cs-C5bI1c-7.js"),[]);case"../translation/en":case"../translation/en.yaml":return YR(()=>import("./en-CsMwCePa.js"),[]);default:return new Promise(function(e,n){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+t)))})}}const GD="cs",dJ=[GD,"en"],fJ=Wt("/")({loader:async()=>{throw Gh({to:"/$locale",params:{locale:w5({available:dJ,fallback:GD})}})}}),pJ=Wt("/$locale/")({component:()=>{const{locale:t}=cn({from:"/$locale"});return f.jsx("div",{className:"flex flex-col items-center justify-center h-screen w-screen",children:f.jsxs("div",{className:"rounded bg-slate-50 p-4 shadow-md border border-slate-300",children:[f.jsx("h1",{className:"text-3xl text-center",children:"Apps"}),f.jsx("ul",{children:f.jsx("li",{children:f.jsx(Kt,{icon:"icon-[bx--game]",to:"/$locale/apps/derivean/public/login",params:{locale:t},children:"DeRivean"})})})]})})}}),{kysely:Ot,bootstrap:hJ}=mQ({database:"derivean",async bootstrap({kysely:t}){const e="varchar(36)";try{await t.selectFrom("User").select(n=>n.fn.countAll().as("count")).executeTakeFirstOrThrow()}catch{await t.schema.createTable("User").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("name","varchar(64)",r=>r.notNull()).addColumn("login","varchar(128)",r=>r.notNull()).addColumn("password","varchar(256)",r=>r.notNull()).addUniqueConstraint("[User] login",["login"]).execute(),await t.schema.createTable("Tag").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("code","varchar(64)",r=>r.notNull()).addColumn("label","varchar(128)",r=>r.notNull()).addColumn("group","varchar(64)").addColumn("sort","integer",r=>r.notNull().defaultTo(0)).addUniqueConstraint("Tag_code_group",["code","group"]).execute(),await t.schema.createTable("Cycle").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("userId",e,r=>r.notNull()).addForeignKeyConstraint("[Cycle] userId",["userId"],"User",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("stamp","datetime",r=>r.defaultTo(Pr`CURRENT_TIMESTAMP`).notNull()).execute(),await t.schema.createTable("Resource").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("name","varchar(64)",r=>r.notNull()).addColumn("transport","float4",r=>r.notNull().defaultTo(1)).addUniqueConstraint("[Resource] name",["name"]).execute(),await t.schema.createTable("Resource_Tag").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Resource_Tag] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("tagId",e,r=>r.notNull()).addForeignKeyConstraint("[Resource_Tag] tagId",["tagId"],"Tag",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[Resource_Tag] resourceId-tagId",["resourceId","tagId"]).execute(),await t.schema.createTable("Inventory").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Inventory] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",r=>r.notNull()).addColumn("limit","float4",r=>r.notNull()).execute(),await t.schema.createTable("Default_Inventory").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Default_Inventory] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",r=>r.notNull()).addColumn("limit","float4",r=>r.notNull()).addUniqueConstraint("[Default_Inventory] resourceId",["resourceId"]).execute(),await t.schema.createTable("User_Inventory").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("userId",e,r=>r.notNull()).addForeignKeyConstraint("[User_Inventory] userId",["userId"],"User",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("inventoryId",e,r=>r.notNull()).addForeignKeyConstraint("[User_Inventory] inventoryId",["inventoryId"],"Inventory",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[User_Inventory] userId-inventoryId",["userId","inventoryId"]).execute(),await t.schema.createTable("Blueprint").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("name","varchar(64)",r=>r.notNull()).addColumn("cycles","integer",r=>r.notNull()).addColumn("sort","integer",r=>r.notNull()).addColumn("limit","integer",r=>r.notNull().defaultTo(1)).addUniqueConstraint("[Blueprint] name",["name"]).execute(),await t.schema.createTable("Blueprint_Inventory").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Inventory] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("inventoryId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Inventory] inventoryId",["inventoryId"],"Inventory",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[Blueprint_Inventory] blueprintId-inventoryId",["blueprintId","inventoryId"]).execute(),await t.schema.createTable("Blueprint_Production").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",r=>r.notNull()).addColumn("cycles","integer",r=>r.notNull()).execute(),await t.schema.createTable("Blueprint_Requirement").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Requirement] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Requirement] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",r=>r.notNull()).addColumn("passive","boolean",r=>r.notNull()).addUniqueConstraint("[Blueprint_Requirement] blueprintId-requirementId",["blueprintId","resourceId"]).execute(),await t.schema.createTable("Blueprint_Dependency").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Dependency] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("dependencyId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Dependency] dependencyId",["dependencyId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[Blueprint_Dependency] blueprintId-dependencyId",["blueprintId","dependencyId"]).execute(),await t.schema.createTable("Blueprint_Conflict").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Conflict] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("conflictId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Conflict] conflictId",["conflictId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[Blueprint_Conflict] blueprintId-conflictId",["blueprintId","conflictId"]).execute(),await t.schema.createTable("Blueprint_Production_Requirement").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintProductionId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Requirement] blueprintProductionId",["blueprintProductionId"],"Blueprint_Production",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Requirement] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",r=>r.notNull()).addColumn("passive","boolean",r=>r.notNull()).addUniqueConstraint("[Blueprint_Production_Requirement] blueprintProductionId-resourceId",["blueprintProductionId","resourceId"]).execute(),await t.schema.createTable("Blueprint_Production_Dependency").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintProductionId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Dependency] blueprintProductionId",["blueprintProductionId"],"Blueprint_Production",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Dependency] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[Blueprint_Production_Dependency] blueprintProductionId-blueprintId",["blueprintProductionId","blueprintId"]).execute(),await t.schema.createTable("Blueprint_Production_Resource").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("blueprintProductionId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Dependency] blueprintProductionId",["blueprintProductionId"],"Blueprint_Production",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Blueprint_Production_Dependency] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4",r=>r.notNull()).addUniqueConstraint("[Blueprint_Production_Dependency] blueprintProductionId-resourceId",["blueprintProductionId","resourceId"]).execute(),await t.schema.createTable("Production").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("userId",e,r=>r.notNull()).addForeignKeyConstraint("[Production] userId",["userId"],"User",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("buildingId",e,r=>r.notNull()).addForeignKeyConstraint("[Production] buildingId",["buildingId"],"Building",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("blueprintProductionId",e,r=>r.notNull()).addForeignKeyConstraint("[Production] blueprintProductionId",["blueprintProductionId"],"Blueprint_Production",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("from","integer",r=>r.notNull()).addColumn("to","integer",r=>r.notNull()).addColumn("cycle","integer",r=>r.notNull()).execute(),await t.schema.createTable("Construction").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("userId",e,r=>r.notNull()).addForeignKeyConstraint("[Construction] userId",["userId"],"User",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Construction] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("x","float4",r=>r.notNull().defaultTo(0)).addColumn("y","float4",r=>r.notNull().defaultTo(0)).addColumn("plan","boolean",r=>r.notNull().defaultTo(!0)).addColumn("valid","boolean",r=>r.notNull().defaultTo(!0)).addColumn("from","integer",r=>r.notNull()).addColumn("to","integer",r=>r.notNull()).addColumn("cycle","integer",r=>r.notNull()).execute(),await t.schema.createTable("Building").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("userId",e,r=>r.notNull()).addForeignKeyConstraint("[Building] userId",["userId"],"User",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("blueprintId",e,r=>r.notNull()).addForeignKeyConstraint("[Building] blueprintId",["blueprintId"],"Blueprint",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("productionId",e).addForeignKeyConstraint("[Building] productionId",["productionId"],"Blueprint_Production",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("recurringProductionId",e).addForeignKeyConstraint("[Building] recurringProductionId",["recurringProductionId"],"Blueprint_Production",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("x","float4",r=>r.notNull().defaultTo(0)).addColumn("y","float4",r=>r.notNull().defaultTo(0)).execute(),await t.schema.createTable("Building_Inventory").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("buildingId",e,r=>r.notNull()).addForeignKeyConstraint("[Building_Inventory] buildingId",["buildingId"],"Building",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("inventoryId",e,r=>r.notNull()).addForeignKeyConstraint("[Building_Inventory] inventoryId",["inventoryId"],"Inventory",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[Building_Inventory] buildingId-inventoryId",["buildingId","inventoryId"]).execute(),await t.schema.createTable("Route").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("userId",e,r=>r.notNull()).addForeignKeyConstraint("[Route] userId",["userId"],"User",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("fromId",e,r=>r.notNull()).addForeignKeyConstraint("[Route] fromId",["fromId"],"Building",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("toId",e,r=>r.notNull()).addForeignKeyConstraint("[Route] toId",["toId"],"Building",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addUniqueConstraint("[Route] userId-fromId-toId",["userId","fromId","toId"]).execute(),await t.schema.createTable("Route_Resource").ifNotExists().addColumn("id",e,r=>r.primaryKey()).addColumn("routeId",e,r=>r.notNull()).addForeignKeyConstraint("[Route_Resource] routeId",["routeId"],"Route",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("resourceId",e,r=>r.notNull()).addForeignKeyConstraint("[Route_Resource] resourceId",["resourceId"],"Resource",["id"],r=>r.onDelete("cascade").onUpdate("cascade")).addColumn("amount","float4").execute()}}}),mJ=Wt("/$locale/apps/derivean")({loader:hJ}),wN="icon-[proicons--game]",gJ=yn({slot:{base:["text-orange-500","font-bold","text-2xl","shadow-md","hover:shadow-lg","hover:text-orange-600","rounded","px-2","py-1","bg-slate-100"]},variant:{},defaults:{}}),JD=({variant:t,tva:e=gJ,css:n})=>{const r=e({...t,css:n}).slots;return f.jsx("div",{className:r.base(),children:"DeRivean"})},nc="icon-[fluent--building-shop-20-regular]",ki="icon-[mingcute--inventory-line]",Un="icon-[hugeicons--resources-add]",yJ=t=>{const{locale:e}=cn({from:"/$locale"});return f.jsxs(Xl,{...t,children:[f.jsx($n,{icon:"icon-[ph--graph-light]",to:"/$locale/apps/derivean/root/editor",params:{locale:e},children:f.jsx(ee,{label:"Editor (menu)"})}),f.jsx($n,{icon:nc,to:"/$locale/apps/derivean/root/blueprint/list",params:{locale:e},match:[{to:"/$locale/apps/derivean/root/blueprint/$id/view"},{to:"/$locale/apps/derivean/root/blueprint/$id/dependencies"},{to:"/$locale/apps/derivean/root/blueprint/$id/production"},{to:"/$locale/apps/derivean/root/blueprint/$id/requirements"},{to:"/$locale/apps/derivean/root/blueprint/$id/edit"},{to:"/$locale/apps/derivean/root/blueprint/production/$id/requirements"}],children:f.jsx(ee,{label:"Blueprint list (menu)"})}),f.jsx($n,{icon:Un,to:"/$locale/apps/derivean/root/resource/list",params:{locale:e},children:f.jsx(ee,{label:"Resource list (menu)"})}),f.jsx($n,{icon:ki,to:"/$locale/apps/derivean/root/default/inventory",params:{locale:e},children:f.jsx(ee,{label:"Default inventory (menu)"})}),f.jsx($n,{icon:vN,to:"/$locale/apps/derivean/root/user/list",params:{locale:e},match:[{to:"/$locale/apps/derivean/root/user/$id/view"},{to:"/$locale/apps/derivean/root/user/$id/building/list"},{to:"/$locale/apps/derivean/root/user/$id/inventory"}],children:f.jsx(ee,{label:"User list (menu)"})}),f.jsx($n,{icon:jh,to:"/$locale/apps/derivean/root/tag/list",params:{locale:e},children:f.jsx(ee,{label:"Tag list (menu)"})})]})},ym=W.object({id:W.string(),name:W.string(),login:W.string()}),vJ=Wt("/$locale/apps/derivean/root")({async beforeLoad({context:t,params:{locale:e}}){return{...t,async session(){try{return ym.parse(pf.get("session"))}catch{throw Gh({to:"/$locale/apps/derivean/public/login",params:{locale:e}})}}}},async loader({context:{session:t}}){return{session:await t()}},component:()=>{const{locale:t}=cn({from:"/$locale"}),{session:e}=Ps({from:"/$locale/apps/derivean/root"});return f.jsx(WD,{logo:f.jsx(Kt,{to:"/$locale/apps/derivean/root",params:{locale:t},children:f.jsx(JD,{})}),menu:f.jsx(yJ,{}),actions:f.jsxs(f.Fragment,{children:[e.name,f.jsx(Kt,{icon:wN,to:"/$locale/apps/derivean/game",params:{locale:t}}),f.jsx(Kt,{icon:yN,to:"/$locale/apps/derivean/public/logout",params:{locale:t},preload:!1})]})})}});function Xr(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=Xr(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}var bJ={value:()=>{}};function Gb(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new qy(n)}function qy(t){this._=t}function xJ(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}qy.prototype=Gb.prototype={constructor:qy,on:function(t,e){var n=this._,r=xJ(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=wJ(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=XR(n[i],t.name,e);else if(e==null)for(i in n)n[i]=XR(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new qy(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function wJ(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function XR(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=bJ,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var UE="http://www.w3.org/1999/xhtml";const eq={svg:"http://www.w3.org/2000/svg",xhtml:UE,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Jb(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),eq.hasOwnProperty(e)?{space:eq[e],local:t}:t}function _J(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===UE&&e.documentElement.namespaceURI===UE?e.createElement(t):e.createElementNS(n,t)}}function SJ(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ZD(t){var e=Jb(t);return(e.local?SJ:_J)(e)}function EJ(){}function _N(t){return t==null?EJ:function(){return this.querySelector(t)}}function NJ(t){typeof t!="function"&&(t=_N(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=new Array(o),u,d,p=0;p<o;++p)(u=s[p])&&(d=t.call(u,u.__data__,p,s))&&("__data__"in u&&(d.__data__=u.__data__),l[p]=d);return new As(r,this._parents)}function kJ(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function IJ(){return[]}function YD(t){return t==null?IJ:function(){return this.querySelectorAll(t)}}function CJ(t){return function(){return kJ(t.apply(this,arguments))}}function TJ(t){typeof t=="function"?t=CJ(t):t=YD(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],l=o.length,u,d=0;d<l;++d)(u=o[d])&&(r.push(t.call(u,u.__data__,d,o)),i.push(u));return new As(r,i)}function XD(t){return function(){return this.matches(t)}}function e2(t){return function(e){return e.matches(t)}}var OJ=Array.prototype.find;function RJ(t){return function(){return OJ.call(this.children,t)}}function qJ(){return this.firstElementChild}function jJ(t){return this.select(t==null?qJ:RJ(typeof t=="function"?t:e2(t)))}var AJ=Array.prototype.filter;function PJ(){return Array.from(this.children)}function FJ(t){return function(){return AJ.call(this.children,t)}}function DJ(t){return this.selectAll(t==null?PJ:FJ(typeof t=="function"?t:e2(t)))}function LJ(t){typeof t!="function"&&(t=XD(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=[],u,d=0;d<o;++d)(u=s[d])&&t.call(u,u.__data__,d,s)&&l.push(u);return new As(r,this._parents)}function t2(t){return new Array(t.length)}function MJ(){return new As(this._enter||this._groups.map(t2),this._parents)}function Vv(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Vv.prototype={constructor:Vv,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function $J(t){return function(){return t}}function BJ(t,e,n,r,i,s){for(var o=0,l,u=e.length,d=s.length;o<d;++o)(l=e[o])?(l.__data__=s[o],r[o]=l):n[o]=new Vv(t,s[o]);for(;o<u;++o)(l=e[o])&&(i[o]=l)}function zJ(t,e,n,r,i,s,o){var l,u,d=new Map,p=e.length,h=s.length,b=new Array(p),x;for(l=0;l<p;++l)(u=e[l])&&(b[l]=x=o.call(u,u.__data__,l,e)+"",d.has(x)?i[l]=u:d.set(x,u));for(l=0;l<h;++l)x=o.call(t,s[l],l,s)+"",(u=d.get(x))?(r[l]=u,u.__data__=s[l],d.delete(x)):n[l]=new Vv(t,s[l]);for(l=0;l<p;++l)(u=e[l])&&d.get(b[l])===u&&(i[l]=u)}function WJ(t){return t.__data__}function UJ(t,e){if(!arguments.length)return Array.from(this,WJ);var n=e?zJ:BJ,r=this._parents,i=this._groups;typeof t!="function"&&(t=$J(t));for(var s=i.length,o=new Array(s),l=new Array(s),u=new Array(s),d=0;d<s;++d){var p=r[d],h=i[d],b=h.length,x=VJ(t.call(p,p&&p.__data__,d,r)),_=x.length,E=l[d]=new Array(_),I=o[d]=new Array(_),T=u[d]=new Array(b);n(p,h,E,I,T,x,e);for(var O=0,R=0,A,D;O<_;++O)if(A=E[O]){for(O>=R&&(R=O+1);!(D=I[R])&&++R<_;);A._next=D||null}}return o=new As(o,r),o._enter=l,o._exit=u,o}function VJ(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function HJ(){return new As(this._exit||this._groups.map(t2),this._parents)}function KJ(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function QJ(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),l=new Array(i),u=0;u<o;++u)for(var d=n[u],p=r[u],h=d.length,b=l[u]=new Array(h),x,_=0;_<h;++_)(x=d[_]||p[_])&&(b[_]=x);for(;u<i;++u)l[u]=n[u];return new As(l,this._parents)}function GJ(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function JJ(t){t||(t=ZJ);function e(h,b){return h&&b?t(h.__data__,b.__data__):!h-!b}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],l=o.length,u=i[s]=new Array(l),d,p=0;p<l;++p)(d=o[p])&&(u[p]=d);u.sort(e)}return new As(i,this._parents).order()}function ZJ(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function YJ(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function XJ(){return Array.from(this)}function eZ(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function tZ(){let t=0;for(const e of this)++t;return t}function nZ(){return!this.node()}function rZ(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,l;s<o;++s)(l=i[s])&&t.call(l,l.__data__,s,i);return this}function iZ(t){return function(){this.removeAttribute(t)}}function sZ(t){return function(){this.removeAttributeNS(t.space,t.local)}}function oZ(t,e){return function(){this.setAttribute(t,e)}}function aZ(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function lZ(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function cZ(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function uZ(t,e){var n=Jb(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?sZ:iZ:typeof e=="function"?n.local?cZ:lZ:n.local?aZ:oZ)(n,e))}function n2(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function dZ(t){return function(){this.style.removeProperty(t)}}function fZ(t,e,n){return function(){this.style.setProperty(t,e,n)}}function pZ(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function hZ(t,e,n){return arguments.length>1?this.each((e==null?dZ:typeof e=="function"?pZ:fZ)(t,e,n??"")):Hd(this.node(),t)}function Hd(t,e){return t.style.getPropertyValue(e)||n2(t).getComputedStyle(t,null).getPropertyValue(e)}function mZ(t){return function(){delete this[t]}}function gZ(t,e){return function(){this[t]=e}}function yZ(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function vZ(t,e){return arguments.length>1?this.each((e==null?mZ:typeof e=="function"?yZ:gZ)(t,e)):this.node()[t]}function r2(t){return t.trim().split(/^|\s+/)}function SN(t){return t.classList||new i2(t)}function i2(t){this._node=t,this._names=r2(t.getAttribute("class")||"")}i2.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function s2(t,e){for(var n=SN(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function o2(t,e){for(var n=SN(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function bZ(t){return function(){s2(this,t)}}function xZ(t){return function(){o2(this,t)}}function wZ(t,e){return function(){(e.apply(this,arguments)?s2:o2)(this,t)}}function _Z(t,e){var n=r2(t+"");if(arguments.length<2){for(var r=SN(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?wZ:e?bZ:xZ)(n,e))}function SZ(){this.textContent=""}function EZ(t){return function(){this.textContent=t}}function NZ(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function kZ(t){return arguments.length?this.each(t==null?SZ:(typeof t=="function"?NZ:EZ)(t)):this.node().textContent}function IZ(){this.innerHTML=""}function CZ(t){return function(){this.innerHTML=t}}function TZ(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function OZ(t){return arguments.length?this.each(t==null?IZ:(typeof t=="function"?TZ:CZ)(t)):this.node().innerHTML}function RZ(){this.nextSibling&&this.parentNode.appendChild(this)}function qZ(){return this.each(RZ)}function jZ(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function AZ(){return this.each(jZ)}function PZ(t){var e=typeof t=="function"?t:ZD(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function FZ(){return null}function DZ(t,e){var n=typeof t=="function"?t:ZD(t),r=e==null?FZ:typeof e=="function"?e:_N(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function LZ(){var t=this.parentNode;t&&t.removeChild(this)}function MZ(){return this.each(LZ)}function $Z(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function BZ(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function zZ(t){return this.select(t?BZ:$Z)}function WZ(t){return arguments.length?this.property("__data__",t):this.node().__data__}function UZ(t){return function(e){t.call(this,e,this.__data__)}}function VZ(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function HZ(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function KZ(t,e,n){return function(){var r=this.__on,i,s=UZ(e);if(r){for(var o=0,l=r.length;o<l;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function QZ(t,e,n){var r=VZ(t+""),i,s=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var u=0,d=l.length,p;u<d;++u)for(i=0,p=l[u];i<s;++i)if((o=r[i]).type===p.type&&o.name===p.name)return p.value}return}for(l=e?KZ:HZ,i=0;i<s;++i)this.each(l(r[i],e,n));return this}function a2(t,e,n){var r=n2(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function GZ(t,e){return function(){return a2(this,t,e)}}function JZ(t,e){return function(){return a2(this,t,e.apply(this,arguments))}}function ZZ(t,e){return this.each((typeof e=="function"?JZ:GZ)(t,e))}function*YZ(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var l2=[null];function As(t,e){this._groups=t,this._parents=e}function vm(){return new As([[document.documentElement]],l2)}function XZ(){return this}As.prototype=vm.prototype={constructor:As,select:NJ,selectAll:TJ,selectChild:jJ,selectChildren:DJ,filter:LJ,data:UJ,enter:MJ,exit:HJ,join:KJ,merge:QJ,selection:XZ,order:GJ,sort:JJ,call:YJ,nodes:XJ,node:eZ,size:tZ,empty:nZ,each:rZ,attr:uZ,style:hZ,property:vZ,classed:_Z,text:kZ,html:OZ,raise:qZ,lower:AZ,append:PZ,insert:DZ,remove:MZ,clone:zZ,datum:WZ,on:QZ,dispatch:ZZ,[Symbol.iterator]:YZ};function Ts(t){return typeof t=="string"?new As([[document.querySelector(t)]],[document.documentElement]):new As([[t]],l2)}function eY(t){let e;for(;e=t.sourceEvent;)t=e;return t}function _o(t,e){if(t=eY(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const tY={passive:!1},Ph={capture:!0,passive:!1};function k0(t){t.stopImmediatePropagation()}function qd(t){t.preventDefault(),t.stopImmediatePropagation()}function c2(t){var e=t.document.documentElement,n=Ts(t).on("dragstart.drag",qd,Ph);"onselectstart"in e?n.on("selectstart.drag",qd,Ph):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function u2(t,e){var n=t.document.documentElement,r=Ts(t).on("dragstart.drag",null);e&&(r.on("click.drag",qd,Ph),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Zg=t=>()=>t;function VE(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:s,x:o,y:l,dx:u,dy:d,dispatch:p}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:p}})}VE.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function nY(t){return!t.ctrlKey&&!t.button}function rY(){return this.parentNode}function iY(t,e){return e??{x:t.x,y:t.y}}function sY(){return navigator.maxTouchPoints||"ontouchstart"in this}function d2(){var t=nY,e=rY,n=iY,r=sY,i={},s=Gb("start","drag","end"),o=0,l,u,d,p,h=0;function b(A){A.on("mousedown.drag",x).filter(r).on("touchstart.drag",I).on("touchmove.drag",T,tY).on("touchend.drag touchcancel.drag",O).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(A,D){if(!(p||!t.call(this,A,D))){var L=R(this,e.call(this,A,D),A,D,"mouse");L&&(Ts(A.view).on("mousemove.drag",_,Ph).on("mouseup.drag",E,Ph),c2(A.view),k0(A),d=!1,l=A.clientX,u=A.clientY,L("start",A))}}function _(A){if(qd(A),!d){var D=A.clientX-l,L=A.clientY-u;d=D*D+L*L>h}i.mouse("drag",A)}function E(A){Ts(A.view).on("mousemove.drag mouseup.drag",null),u2(A.view,d),qd(A),i.mouse("end",A)}function I(A,D){if(t.call(this,A,D)){var L=A.changedTouches,z=e.call(this,A,D),P=L.length,q,M;for(q=0;q<P;++q)(M=R(this,z,A,D,L[q].identifier,L[q]))&&(k0(A),M("start",A,L[q]))}}function T(A){var D=A.changedTouches,L=D.length,z,P;for(z=0;z<L;++z)(P=i[D[z].identifier])&&(qd(A),P("drag",A,D[z]))}function O(A){var D=A.changedTouches,L=D.length,z,P;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),z=0;z<L;++z)(P=i[D[z].identifier])&&(k0(A),P("end",A,D[z]))}function R(A,D,L,z,P,q){var M=s.copy(),F=_o(q||L,D),U,V,B;if((B=n.call(A,new VE("beforestart",{sourceEvent:L,target:b,identifier:P,active:o,x:F[0],y:F[1],dx:0,dy:0,dispatch:M}),z))!=null)return U=B.x-F[0]||0,V=B.y-F[1]||0,function te(Z,le,se){var ne=F,oe;switch(Z){case"start":i[P]=te,oe=o++;break;case"end":delete i[P],--o;case"drag":F=_o(se||le,D),oe=o;break}M.call(Z,A,new VE(Z,{sourceEvent:le,subject:B,target:b,identifier:P,active:oe,x:F[0]+U,y:F[1]+V,dx:F[0]-ne[0],dy:F[1]-ne[1],dispatch:M}),z)}}return b.filter=function(A){return arguments.length?(t=typeof A=="function"?A:Zg(!!A),b):t},b.container=function(A){return arguments.length?(e=typeof A=="function"?A:Zg(A),b):e},b.subject=function(A){return arguments.length?(n=typeof A=="function"?A:Zg(A),b):n},b.touchable=function(A){return arguments.length?(r=typeof A=="function"?A:Zg(!!A),b):r},b.on=function(){var A=s.on.apply(s,arguments);return A===s?b:A},b.clickDistance=function(A){return arguments.length?(h=(A=+A)*A,b):Math.sqrt(h)},b}function EN(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function f2(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function bm(){}var Fh=.7,Hv=1/Fh,jd="\\s*([+-]?\\d+)\\s*",Dh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",oY=/^#([0-9a-f]{3,8})$/,aY=new RegExp(`^rgb\\(${jd},${jd},${jd}\\)$`),lY=new RegExp(`^rgb\\(${Yo},${Yo},${Yo}\\)$`),cY=new RegExp(`^rgba\\(${jd},${jd},${jd},${Dh}\\)$`),uY=new RegExp(`^rgba\\(${Yo},${Yo},${Yo},${Dh}\\)$`),dY=new RegExp(`^hsl\\(${Dh},${Yo},${Yo}\\)$`),fY=new RegExp(`^hsla\\(${Dh},${Yo},${Yo},${Dh}\\)$`),tq={aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32};EN(bm,Lh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:nq,formatHex:nq,formatHex8:pY,formatHsl:hY,formatRgb:rq,toString:rq});function nq(){return this.rgb().formatHex()}function pY(){return this.rgb().formatHex8()}function hY(){return p2(this).formatHsl()}function rq(){return this.rgb().formatRgb()}function Lh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=oY.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?iq(e):n===3?new us(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Yg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Yg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=aY.exec(t))?new us(e[1],e[2],e[3],1):(e=lY.exec(t))?new us(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=cY.exec(t))?Yg(e[1],e[2],e[3],e[4]):(e=uY.exec(t))?Yg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=dY.exec(t))?aq(e[1],e[2]/100,e[3]/100,1):(e=fY.exec(t))?aq(e[1],e[2]/100,e[3]/100,e[4]):tq.hasOwnProperty(t)?iq(tq[t]):t==="transparent"?new us(NaN,NaN,NaN,0):null}function iq(t){return new us(t>>16&255,t>>8&255,t&255,1)}function Yg(t,e,n,r){return r<=0&&(t=e=n=NaN),new us(t,e,n,r)}function mY(t){return t instanceof bm||(t=Lh(t)),t?(t=t.rgb(),new us(t.r,t.g,t.b,t.opacity)):new us}function HE(t,e,n,r){return arguments.length===1?mY(t):new us(t,e,n,r??1)}function us(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}EN(us,HE,f2(bm,{brighter(t){return t=t==null?Hv:Math.pow(Hv,t),new us(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Fh:Math.pow(Fh,t),new us(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new us(Qc(this.r),Qc(this.g),Qc(this.b),Kv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:sq,formatHex:sq,formatHex8:gY,formatRgb:oq,toString:oq}));function sq(){return`#${Wc(this.r)}${Wc(this.g)}${Wc(this.b)}`}function gY(){return`#${Wc(this.r)}${Wc(this.g)}${Wc(this.b)}${Wc((isNaN(this.opacity)?1:this.opacity)*255)}`}function oq(){const t=Kv(this.opacity);return`${t===1?"rgb(":"rgba("}${Qc(this.r)}, ${Qc(this.g)}, ${Qc(this.b)}${t===1?")":`, ${t})`}`}function Kv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Qc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Wc(t){return t=Qc(t),(t<16?"0":"")+t.toString(16)}function aq(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new No(t,e,n,r)}function p2(t){if(t instanceof No)return new No(t.h,t.s,t.l,t.opacity);if(t instanceof bm||(t=Lh(t)),!t)return new No;if(t instanceof No)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,l=s-i,u=(s+i)/2;return l?(e===s?o=(n-r)/l+(n<r)*6:n===s?o=(r-e)/l+2:o=(e-n)/l+4,l/=u<.5?s+i:2-s-i,o*=60):l=u>0&&u<1?0:o,new No(o,l,u,t.opacity)}function yY(t,e,n,r){return arguments.length===1?p2(t):new No(t,e,n,r??1)}function No(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}EN(No,yY,f2(bm,{brighter(t){return t=t==null?Hv:Math.pow(Hv,t),new No(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Fh:Math.pow(Fh,t),new No(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new us(I0(t>=240?t-240:t+120,i,r),I0(t,i,r),I0(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new No(lq(this.h),Xg(this.s),Xg(this.l),Kv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Kv(this.opacity);return`${t===1?"hsl(":"hsla("}${lq(this.h)}, ${Xg(this.s)*100}%, ${Xg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function lq(t){return t=(t||0)%360,t<0?t+360:t}function Xg(t){return Math.max(0,Math.min(1,t||0))}function I0(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const h2=t=>()=>t;function vY(t,e){return function(n){return t+n*e}}function bY(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function xY(t){return(t=+t)==1?m2:function(e,n){return n-e?bY(e,n,t):h2(isNaN(e)?n:e)}}function m2(t,e){var n=e-t;return n?vY(t,n):h2(isNaN(t)?e:t)}const cq=function t(e){var n=xY(e);function r(i,s){var o=n((i=HE(i)).r,(s=HE(s)).r),l=n(i.g,s.g),u=n(i.b,s.b),d=m2(i.opacity,s.opacity);return function(p){return i.r=o(p),i.g=l(p),i.b=u(p),i.opacity=d(p),i+""}}return r.gamma=t,r}(1);function _l(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var KE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,C0=new RegExp(KE.source,"g");function wY(t){return function(){return t}}function _Y(t){return function(e){return t(e)+""}}function SY(t,e){var n=KE.lastIndex=C0.lastIndex=0,r,i,s,o=-1,l=[],u=[];for(t=t+"",e=e+"";(r=KE.exec(t))&&(i=C0.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[o]?l[o]+=s:l[++o]=s),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,u.push({i:o,x:_l(r,i)})),n=C0.lastIndex;return n<e.length&&(s=e.slice(n),l[o]?l[o]+=s:l[++o]=s),l.length<2?u[0]?_Y(u[0].x):wY(e):(e=u.length,function(d){for(var p=0,h;p<e;++p)l[(h=u[p]).i]=h.x(d);return l.join("")})}var uq=180/Math.PI,QE={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function g2(t,e,n,r,i,s){var o,l,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,u/=l),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*uq,skewX:Math.atan(u)*uq,scaleX:o,scaleY:l}}var ey;function EY(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?QE:g2(e.a,e.b,e.c,e.d,e.e,e.f)}function NY(t){return t==null||(ey||(ey=document.createElementNS("http://www.w3.org/2000/svg","g")),ey.setAttribute("transform",t),!(t=ey.transform.baseVal.consolidate()))?QE:(t=t.matrix,g2(t.a,t.b,t.c,t.d,t.e,t.f))}function y2(t,e,n,r){function i(d){return d.length?d.pop()+" ":""}function s(d,p,h,b,x,_){if(d!==h||p!==b){var E=x.push("translate(",null,e,null,n);_.push({i:E-4,x:_l(d,h)},{i:E-2,x:_l(p,b)})}else(h||b)&&x.push("translate("+h+e+b+n)}function o(d,p,h,b){d!==p?(d-p>180?p+=360:p-d>180&&(d+=360),b.push({i:h.push(i(h)+"rotate(",null,r)-2,x:_l(d,p)})):p&&h.push(i(h)+"rotate("+p+r)}function l(d,p,h,b){d!==p?b.push({i:h.push(i(h)+"skewX(",null,r)-2,x:_l(d,p)}):p&&h.push(i(h)+"skewX("+p+r)}function u(d,p,h,b,x,_){if(d!==h||p!==b){var E=x.push(i(x)+"scale(",null,",",null,")");_.push({i:E-4,x:_l(d,h)},{i:E-2,x:_l(p,b)})}else(h!==1||b!==1)&&x.push(i(x)+"scale("+h+","+b+")")}return function(d,p){var h=[],b=[];return d=t(d),p=t(p),s(d.translateX,d.translateY,p.translateX,p.translateY,h,b),o(d.rotate,p.rotate,h,b),l(d.skewX,p.skewX,h,b),u(d.scaleX,d.scaleY,p.scaleX,p.scaleY,h,b),d=p=null,function(x){for(var _=-1,E=b.length,I;++_<E;)h[(I=b[_]).i]=I.x(x);return h.join("")}}}var kY=y2(EY,"px, ","px)","deg)"),IY=y2(NY,", ",")",")"),CY=1e-12;function dq(t){return((t=Math.exp(t))+1/t)/2}function TY(t){return((t=Math.exp(t))-1/t)/2}function OY(t){return((t=Math.exp(2*t))-1)/(t+1)}const RY=function t(e,n,r){function i(s,o){var l=s[0],u=s[1],d=s[2],p=o[0],h=o[1],b=o[2],x=p-l,_=h-u,E=x*x+_*_,I,T;if(E<CY)T=Math.log(b/d)/e,I=function(z){return[l+z*x,u+z*_,d*Math.exp(e*z*T)]};else{var O=Math.sqrt(E),R=(b*b-d*d+r*E)/(2*d*n*O),A=(b*b-d*d-r*E)/(2*b*n*O),D=Math.log(Math.sqrt(R*R+1)-R),L=Math.log(Math.sqrt(A*A+1)-A);T=(L-D)/e,I=function(z){var P=z*T,q=dq(D),M=d/(n*O)*(q*OY(e*P+D)-TY(D));return[l+M*x,u+M*_,d*q/dq(e*P+D)]}}return I.duration=T*1e3*e/Math.SQRT2,I}return i.rho=function(s){var o=Math.max(.001,+s),l=o*o,u=l*l;return t(o,l,u)},i}(Math.SQRT2,2,4);var Kd=0,Op=0,yp=0,v2=1e3,Qv,Rp,Gv=0,ou=0,Zb=0,Mh=typeof performance=="object"&&performance.now?performance:Date,b2=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function NN(){return ou||(b2(qY),ou=Mh.now()+Zb)}function qY(){ou=0}function Jv(){this._call=this._time=this._next=null}Jv.prototype=x2.prototype={constructor:Jv,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?NN():+n)+(e==null?0:+e),!this._next&&Rp!==this&&(Rp?Rp._next=this:Qv=this,Rp=this),this._call=t,this._time=n,GE()},stop:function(){this._call&&(this._call=null,this._time=1/0,GE())}};function x2(t,e,n){var r=new Jv;return r.restart(t,e,n),r}function jY(){NN(),++Kd;for(var t=Qv,e;t;)(e=ou-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Kd}function fq(){ou=(Gv=Mh.now())+Zb,Kd=Op=0;try{jY()}finally{Kd=0,PY(),ou=0}}function AY(){var t=Mh.now(),e=t-Gv;e>v2&&(Zb-=e,Gv=t)}function PY(){for(var t,e=Qv,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Qv=n);Rp=t,GE(r)}function GE(t){if(!Kd){Op&&(Op=clearTimeout(Op));var e=t-ou;e>24?(t<1/0&&(Op=setTimeout(fq,t-Mh.now()-Zb)),yp&&(yp=clearInterval(yp))):(yp||(Gv=Mh.now(),yp=setInterval(AY,v2)),Kd=1,b2(fq))}}function pq(t,e,n){var r=new Jv;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var FY=Gb("start","end","cancel","interrupt"),DY=[],w2=0,hq=1,JE=2,jy=3,mq=4,ZE=5,Ay=6;function Yb(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;LY(t,n,{name:e,index:r,group:i,on:FY,tween:DY,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:w2})}function kN(t,e){var n=Do(t,e);if(n.state>w2)throw new Error("too late; already scheduled");return n}function aa(t,e){var n=Do(t,e);if(n.state>jy)throw new Error("too late; already running");return n}function Do(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function LY(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=x2(s,0,n.time);function s(d){n.state=hq,n.timer.restart(o,n.delay,n.time),n.delay<=d&&o(d-n.delay)}function o(d){var p,h,b,x;if(n.state!==hq)return u();for(p in r)if(x=r[p],x.name===n.name){if(x.state===jy)return pq(o);x.state===mq?(x.state=Ay,x.timer.stop(),x.on.call("interrupt",t,t.__data__,x.index,x.group),delete r[p]):+p<e&&(x.state=Ay,x.timer.stop(),x.on.call("cancel",t,t.__data__,x.index,x.group),delete r[p])}if(pq(function(){n.state===jy&&(n.state=mq,n.timer.restart(l,n.delay,n.time),l(d))}),n.state=JE,n.on.call("start",t,t.__data__,n.index,n.group),n.state===JE){for(n.state=jy,i=new Array(b=n.tween.length),p=0,h=-1;p<b;++p)(x=n.tween[p].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=x);i.length=h+1}}function l(d){for(var p=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(u),n.state=ZE,1),h=-1,b=i.length;++h<b;)i[h].call(t,p);n.state===ZE&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=Ay,n.timer.stop(),delete r[e];for(var d in r)return;delete t.__transition}}function Py(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>JE&&r.state<ZE,r.state=Ay,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function MY(t){return this.each(function(){Py(this,t)})}function $Y(t,e){var n,r;return function(){var i=aa(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,l=r.length;o<l;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function BY(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=aa(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var l={name:e,value:n},u=0,d=i.length;u<d;++u)if(i[u].name===e){i[u]=l;break}u===d&&i.push(l)}s.tween=i}}function zY(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Do(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?$Y:BY)(n,t,e))}function IN(t,e,n){var r=t._id;return t.each(function(){var i=aa(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Do(i,r).value[e]}}function _2(t,e){var n;return(typeof e=="number"?_l:e instanceof Lh?cq:(n=Lh(e))?(e=n,cq):SY)(t,e)}function WY(t){return function(){this.removeAttribute(t)}}function UY(t){return function(){this.removeAttributeNS(t.space,t.local)}}function VY(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function HY(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function KY(t,e,n){var r,i,s;return function(){var o,l=n(this),u;return l==null?void this.removeAttribute(t):(o=this.getAttribute(t),u=l+"",o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,l)))}}function QY(t,e,n){var r,i,s;return function(){var o,l=n(this),u;return l==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),u=l+"",o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,l)))}}function GY(t,e){var n=Jb(t),r=n==="transform"?IY:_2;return this.attrTween(t,typeof e=="function"?(n.local?QY:KY)(n,r,IN(this,"attr."+t,e)):e==null?(n.local?UY:WY)(n):(n.local?HY:VY)(n,r,e))}function JY(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function ZY(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function YY(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&ZY(t,s)),n}return i._value=e,i}function XY(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&JY(t,s)),n}return i._value=e,i}function eX(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Jb(t);return this.tween(n,(r.local?YY:XY)(r,e))}function tX(t,e){return function(){kN(this,t).delay=+e.apply(this,arguments)}}function nX(t,e){return e=+e,function(){kN(this,t).delay=e}}function rX(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?tX:nX)(e,t)):Do(this.node(),e).delay}function iX(t,e){return function(){aa(this,t).duration=+e.apply(this,arguments)}}function sX(t,e){return e=+e,function(){aa(this,t).duration=e}}function oX(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?iX:sX)(e,t)):Do(this.node(),e).duration}function aX(t,e){if(typeof e!="function")throw new Error;return function(){aa(this,t).ease=e}}function lX(t){var e=this._id;return arguments.length?this.each(aX(e,t)):Do(this.node(),e).ease}function cX(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;aa(this,t).ease=n}}function uX(t){if(typeof t!="function")throw new Error;return this.each(cX(this._id,t))}function dX(t){typeof t!="function"&&(t=XD(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,l=r[i]=[],u,d=0;d<o;++d)(u=s[d])&&t.call(u,u.__data__,d,s)&&l.push(u);return new Wa(r,this._parents,this._name,this._id)}function fX(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),l=0;l<s;++l)for(var u=e[l],d=n[l],p=u.length,h=o[l]=new Array(p),b,x=0;x<p;++x)(b=u[x]||d[x])&&(h[x]=b);for(;l<r;++l)o[l]=e[l];return new Wa(o,this._parents,this._name,this._id)}function pX(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function hX(t,e,n){var r,i,s=pX(e)?kN:aa;return function(){var o=s(this,t),l=o.on;l!==r&&(i=(r=l).copy()).on(e,n),o.on=i}}function mX(t,e){var n=this._id;return arguments.length<2?Do(this.node(),n).on.on(t):this.each(hX(n,t,e))}function gX(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function yX(){return this.on("end.remove",gX(this._id))}function vX(t){var e=this._name,n=this._id;typeof t!="function"&&(t=_N(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var l=r[o],u=l.length,d=s[o]=new Array(u),p,h,b=0;b<u;++b)(p=l[b])&&(h=t.call(p,p.__data__,b,l))&&("__data__"in p&&(h.__data__=p.__data__),d[b]=h,Yb(d[b],e,n,b,d,Do(p,n)));return new Wa(s,this._parents,e,n)}function bX(t){var e=this._name,n=this._id;typeof t!="function"&&(t=YD(t));for(var r=this._groups,i=r.length,s=[],o=[],l=0;l<i;++l)for(var u=r[l],d=u.length,p,h=0;h<d;++h)if(p=u[h]){for(var b=t.call(p,p.__data__,h,u),x,_=Do(p,n),E=0,I=b.length;E<I;++E)(x=b[E])&&Yb(x,e,n,E,b,_);s.push(b),o.push(p)}return new Wa(s,o,e,n)}var xX=vm.prototype.constructor;function wX(){return new xX(this._groups,this._parents)}function _X(t,e){var n,r,i;return function(){var s=Hd(this,t),o=(this.style.removeProperty(t),Hd(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function S2(t){return function(){this.style.removeProperty(t)}}function SX(t,e,n){var r,i=n+"",s;return function(){var o=Hd(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function EX(t,e,n){var r,i,s;return function(){var o=Hd(this,t),l=n(this),u=l+"";return l==null&&(u=l=(this.style.removeProperty(t),Hd(this,t))),o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,l))}}function NX(t,e){var n,r,i,s="style."+e,o="end."+s,l;return function(){var u=aa(this,t),d=u.on,p=u.value[s]==null?l||(l=S2(e)):void 0;(d!==n||i!==p)&&(r=(n=d).copy()).on(o,i=p),u.on=r}}function kX(t,e,n){var r=(t+="")=="transform"?kY:_2;return e==null?this.styleTween(t,_X(t,r)).on("end.style."+t,S2(t)):typeof e=="function"?this.styleTween(t,EX(t,r,IN(this,"style."+t,e))).each(NX(this._id,t)):this.styleTween(t,SX(t,r,e),n).on("end.style."+t,null)}function IX(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function CX(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&IX(t,o,n)),r}return s._value=e,s}function TX(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,CX(t,e,n??""))}function OX(t){return function(){this.textContent=t}}function RX(t){return function(){var e=t(this);this.textContent=e??""}}function qX(t){return this.tween("text",typeof t=="function"?RX(IN(this,"text",t)):OX(t==null?"":t+""))}function jX(t){return function(e){this.textContent=t.call(this,e)}}function AX(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&jX(i)),e}return r._value=t,r}function PX(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,AX(t))}function FX(){for(var t=this._name,e=this._id,n=E2(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],l=o.length,u,d=0;d<l;++d)if(u=o[d]){var p=Do(u,e);Yb(u,t,n,d,o,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new Wa(r,this._parents,t,n)}function DX(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var l={value:o},u={value:function(){--i===0&&s()}};n.each(function(){var d=aa(this,r),p=d.on;p!==t&&(e=(t=p).copy(),e._.cancel.push(l),e._.interrupt.push(l),e._.end.push(u)),d.on=e}),i===0&&s()})}var LX=0;function Wa(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function E2(){return++LX}var Na=vm.prototype;Wa.prototype={constructor:Wa,select:vX,selectAll:bX,selectChild:Na.selectChild,selectChildren:Na.selectChildren,filter:dX,merge:fX,selection:wX,transition:FX,call:Na.call,nodes:Na.nodes,node:Na.node,size:Na.size,empty:Na.empty,each:Na.each,on:mX,attr:GY,attrTween:eX,style:kX,styleTween:TX,text:qX,textTween:PX,remove:yX,tween:zY,delay:rX,duration:oX,ease:lX,easeVarying:uX,end:DX,[Symbol.iterator]:Na[Symbol.iterator]};function MX(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var $X={time:null,delay:0,duration:250,ease:MX};function BX(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function zX(t){var e,n;t instanceof Wa?(e=t._id,t=t._name):(e=E2(),(n=$X).time=NN(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],l=o.length,u,d=0;d<l;++d)(u=o[d])&&Yb(u,t,e,d,o,n||BX(u,e));return new Wa(r,this._parents,t,e)}vm.prototype.interrupt=MY;vm.prototype.transition=zX;const ty=t=>()=>t;function WX(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function qa(t,e,n){this.k=t,this.x=e,this.y=n}qa.prototype={constructor:qa,scale:function(t){return t===1?this:new qa(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new qa(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Xb=new qa(1,0,0);N2.prototype=qa.prototype;function N2(t){for(;!t.__zoom;)if(!(t=t.parentNode))return Xb;return t.__zoom}function T0(t){t.stopImmediatePropagation()}function vp(t){t.preventDefault(),t.stopImmediatePropagation()}function UX(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function VX(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function gq(){return this.__zoom||Xb}function HX(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function KX(){return navigator.maxTouchPoints||"ontouchstart"in this}function QX(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function k2(){var t=UX,e=VX,n=QX,r=HX,i=KX,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,u=RY,d=Gb("start","zoom","end"),p,h,b,x=500,_=150,E=0,I=10;function T(B){B.property("__zoom",gq).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",q).on("dblclick.zoom",M).filter(i).on("touchstart.zoom",F).on("touchmove.zoom",U).on("touchend.zoom touchcancel.zoom",V).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}T.transform=function(B,te,Z,le){var se=B.selection?B.selection():B;se.property("__zoom",gq),B!==se?D(B,te,Z,le):se.interrupt().each(function(){L(this,arguments).event(le).start().zoom(null,typeof te=="function"?te.apply(this,arguments):te).end()})},T.scaleBy=function(B,te,Z,le){T.scaleTo(B,function(){var se=this.__zoom.k,ne=typeof te=="function"?te.apply(this,arguments):te;return se*ne},Z,le)},T.scaleTo=function(B,te,Z,le){T.transform(B,function(){var se=e.apply(this,arguments),ne=this.__zoom,oe=Z==null?A(se):typeof Z=="function"?Z.apply(this,arguments):Z,X=ne.invert(oe),ue=typeof te=="function"?te.apply(this,arguments):te;return n(R(O(ne,ue),oe,X),se,o)},Z,le)},T.translateBy=function(B,te,Z,le){T.transform(B,function(){return n(this.__zoom.translate(typeof te=="function"?te.apply(this,arguments):te,typeof Z=="function"?Z.apply(this,arguments):Z),e.apply(this,arguments),o)},null,le)},T.translateTo=function(B,te,Z,le,se){T.transform(B,function(){var ne=e.apply(this,arguments),oe=this.__zoom,X=le==null?A(ne):typeof le=="function"?le.apply(this,arguments):le;return n(Xb.translate(X[0],X[1]).scale(oe.k).translate(typeof te=="function"?-te.apply(this,arguments):-te,typeof Z=="function"?-Z.apply(this,arguments):-Z),ne,o)},le,se)};function O(B,te){return te=Math.max(s[0],Math.min(s[1],te)),te===B.k?B:new qa(te,B.x,B.y)}function R(B,te,Z){var le=te[0]-Z[0]*B.k,se=te[1]-Z[1]*B.k;return le===B.x&&se===B.y?B:new qa(B.k,le,se)}function A(B){return[(+B[0][0]+ +B[1][0])/2,(+B[0][1]+ +B[1][1])/2]}function D(B,te,Z,le){B.on("start.zoom",function(){L(this,arguments).event(le).start()}).on("interrupt.zoom end.zoom",function(){L(this,arguments).event(le).end()}).tween("zoom",function(){var se=this,ne=arguments,oe=L(se,ne).event(le),X=e.apply(se,ne),ue=Z==null?A(X):typeof Z=="function"?Z.apply(se,ne):Z,de=Math.max(X[1][0]-X[0][0],X[1][1]-X[0][1]),ye=se.__zoom,we=typeof te=="function"?te.apply(se,ne):te,Ne=u(ye.invert(ue).concat(de/ye.k),we.invert(ue).concat(de/we.k));return function(ze){if(ze===1)ze=we;else{var Re=Ne(ze),De=de/Re[2];ze=new qa(De,ue[0]-Re[0]*De,ue[1]-Re[1]*De)}oe.zoom(null,ze)}})}function L(B,te,Z){return!Z&&B.__zooming||new z(B,te)}function z(B,te){this.that=B,this.args=te,this.active=0,this.sourceEvent=null,this.extent=e.apply(B,te),this.taps=0}z.prototype={event:function(B){return B&&(this.sourceEvent=B),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(B,te){return this.mouse&&B!=="mouse"&&(this.mouse[1]=te.invert(this.mouse[0])),this.touch0&&B!=="touch"&&(this.touch0[1]=te.invert(this.touch0[0])),this.touch1&&B!=="touch"&&(this.touch1[1]=te.invert(this.touch1[0])),this.that.__zoom=te,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(B){var te=Ts(this.that).datum();d.call(B,this.that,new WX(B,{sourceEvent:this.sourceEvent,target:T,type:B,transform:this.that.__zoom,dispatch:d}),te)}};function P(B,...te){if(!t.apply(this,arguments))return;var Z=L(this,te).event(B),le=this.__zoom,se=Math.max(s[0],Math.min(s[1],le.k*Math.pow(2,r.apply(this,arguments)))),ne=_o(B);if(Z.wheel)(Z.mouse[0][0]!==ne[0]||Z.mouse[0][1]!==ne[1])&&(Z.mouse[1]=le.invert(Z.mouse[0]=ne)),clearTimeout(Z.wheel);else{if(le.k===se)return;Z.mouse=[ne,le.invert(ne)],Py(this),Z.start()}vp(B),Z.wheel=setTimeout(oe,_),Z.zoom("mouse",n(R(O(le,se),Z.mouse[0],Z.mouse[1]),Z.extent,o));function oe(){Z.wheel=null,Z.end()}}function q(B,...te){if(b||!t.apply(this,arguments))return;var Z=B.currentTarget,le=L(this,te,!0).event(B),se=Ts(B.view).on("mousemove.zoom",ue,!0).on("mouseup.zoom",de,!0),ne=_o(B,Z),oe=B.clientX,X=B.clientY;c2(B.view),T0(B),le.mouse=[ne,this.__zoom.invert(ne)],Py(this),le.start();function ue(ye){if(vp(ye),!le.moved){var we=ye.clientX-oe,Ne=ye.clientY-X;le.moved=we*we+Ne*Ne>E}le.event(ye).zoom("mouse",n(R(le.that.__zoom,le.mouse[0]=_o(ye,Z),le.mouse[1]),le.extent,o))}function de(ye){se.on("mousemove.zoom mouseup.zoom",null),u2(ye.view,le.moved),vp(ye),le.event(ye).end()}}function M(B,...te){if(t.apply(this,arguments)){var Z=this.__zoom,le=_o(B.changedTouches?B.changedTouches[0]:B,this),se=Z.invert(le),ne=Z.k*(B.shiftKey?.5:2),oe=n(R(O(Z,ne),le,se),e.apply(this,te),o);vp(B),l>0?Ts(this).transition().duration(l).call(D,oe,le,B):Ts(this).call(T.transform,oe,le,B)}}function F(B,...te){if(t.apply(this,arguments)){var Z=B.touches,le=Z.length,se=L(this,te,B.changedTouches.length===le).event(B),ne,oe,X,ue;for(T0(B),oe=0;oe<le;++oe)X=Z[oe],ue=_o(X,this),ue=[ue,this.__zoom.invert(ue),X.identifier],se.touch0?!se.touch1&&se.touch0[2]!==ue[2]&&(se.touch1=ue,se.taps=0):(se.touch0=ue,ne=!0,se.taps=1+!!p);p&&(p=clearTimeout(p)),ne&&(se.taps<2&&(h=ue[0],p=setTimeout(function(){p=null},x)),Py(this),se.start())}}function U(B,...te){if(this.__zooming){var Z=L(this,te).event(B),le=B.changedTouches,se=le.length,ne,oe,X,ue;for(vp(B),ne=0;ne<se;++ne)oe=le[ne],X=_o(oe,this),Z.touch0&&Z.touch0[2]===oe.identifier?Z.touch0[0]=X:Z.touch1&&Z.touch1[2]===oe.identifier&&(Z.touch1[0]=X);if(oe=Z.that.__zoom,Z.touch1){var de=Z.touch0[0],ye=Z.touch0[1],we=Z.touch1[0],Ne=Z.touch1[1],ze=(ze=we[0]-de[0])*ze+(ze=we[1]-de[1])*ze,Re=(Re=Ne[0]-ye[0])*Re+(Re=Ne[1]-ye[1])*Re;oe=O(oe,Math.sqrt(ze/Re)),X=[(de[0]+we[0])/2,(de[1]+we[1])/2],ue=[(ye[0]+Ne[0])/2,(ye[1]+Ne[1])/2]}else if(Z.touch0)X=Z.touch0[0],ue=Z.touch0[1];else return;Z.zoom("touch",n(R(oe,X,ue),Z.extent,o))}}function V(B,...te){if(this.__zooming){var Z=L(this,te).event(B),le=B.changedTouches,se=le.length,ne,oe;for(T0(B),b&&clearTimeout(b),b=setTimeout(function(){b=null},x),ne=0;ne<se;++ne)oe=le[ne],Z.touch0&&Z.touch0[2]===oe.identifier?delete Z.touch0:Z.touch1&&Z.touch1[2]===oe.identifier&&delete Z.touch1;if(Z.touch1&&!Z.touch0&&(Z.touch0=Z.touch1,delete Z.touch1),Z.touch0)Z.touch0[1]=this.__zoom.invert(Z.touch0[0]);else if(Z.end(),Z.taps===2&&(oe=_o(oe,this),Math.hypot(h[0]-oe[0],h[1]-oe[1])<I)){var X=Ts(this).on("dblclick.zoom");X&&X.apply(this,arguments)}}}return T.wheelDelta=function(B){return arguments.length?(r=typeof B=="function"?B:ty(+B),T):r},T.filter=function(B){return arguments.length?(t=typeof B=="function"?B:ty(!!B),T):t},T.touchable=function(B){return arguments.length?(i=typeof B=="function"?B:ty(!!B),T):i},T.extent=function(B){return arguments.length?(e=typeof B=="function"?B:ty([[+B[0][0],+B[0][1]],[+B[1][0],+B[1][1]]]),T):e},T.scaleExtent=function(B){return arguments.length?(s[0]=+B[0],s[1]=+B[1],T):[s[0],s[1]]},T.translateExtent=function(B){return arguments.length?(o[0][0]=+B[0][0],o[1][0]=+B[1][0],o[0][1]=+B[0][1],o[1][1]=+B[1][1],T):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},T.constrain=function(B){return arguments.length?(n=B,T):n},T.duration=function(B){return arguments.length?(l=+B,T):l},T.interpolate=function(B){return arguments.length?(u=B,T):u},T.on=function(){var B=d.on.apply(d,arguments);return B===d?T:B},T.clickDistance=function(B){return arguments.length?(E=(B=+B)*B,T):Math.sqrt(E)},T.tapDistance=function(B){return arguments.length?(I=+B,T):I},T}const Ua={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID."},$h=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],I2=["Enter"," ","Escape"];var Qd;(function(t){t.Strict="strict",t.Loose="loose"})(Qd||(Qd={}));var Gc;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Gc||(Gc={}));var Bh;(function(t){t.Partial="partial",t.Full="full"})(Bh||(Bh={}));const C2={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var Tl;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(Tl||(Tl={}));var zh;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(zh||(zh={}));var Lt;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Lt||(Lt={}));const yq={[Lt.Left]:Lt.Right,[Lt.Right]:Lt.Left,[Lt.Top]:Lt.Bottom,[Lt.Bottom]:Lt.Top};function T2(t){return t===null?null:t?"valid":"invalid"}const O2=t=>"id"in t&&"source"in t&&"target"in t,GX=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),CN=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),xm=(t,e=[0,0])=>{const{width:n,height:r}=Va(t),i=t.origin??e,s=n*i[0],o=r*i[1];return{x:t.position.x-s,y:t.position.y-o}},JX=(t,e={nodeOrigin:[0,0],nodeLookup:void 0})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,i)=>{const s=typeof i=="string";let o=!e.nodeLookup&&!s?i:void 0;e.nodeLookup&&(o=s?e.nodeLookup.get(i):CN(i)?i:e.nodeLookup.get(i.id));const l=o?Zv(o,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return ex(r,l)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return tx(n)},wm=(t,e={})=>{if(t.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return t.forEach(r=>{if(e.filter===void 0||e.filter(r)){const i=Zv(r);n=ex(n,i)}}),tx(n)},R2=(t,e,[n,r,i]=[0,0,1],s=!1,o=!1)=>{const l={..._m(e,[n,r,i]),width:e.width/i,height:e.height/i},u=[];for(const d of t.values()){const{measured:p,selectable:h=!0,hidden:b=!1}=d;if(o&&!h||b)continue;const x=p.width??d.width??d.initialWidth??null,_=p.height??d.height??d.initialHeight??null,E=Wh(l,Jd(d)),I=(x??0)*(_??0),T=s&&E>0;(!d.internals.handleBounds||T||E>=I||d.dragging)&&u.push(d)}return u},ZX=(t,e)=>{const n=new Set;return t.forEach(r=>{n.add(r.id)}),e.filter(r=>n.has(r.source)||n.has(r.target))};function YE(t,e){const n=new Map,r=e?.nodes?new Set(e.nodes.map(i=>i.id)):null;return t.forEach(i=>{i.measured.width&&i.measured.height&&(e?.includeHiddenNodes||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function XE({nodes:t,width:e,height:n,panZoom:r,minZoom:i,maxZoom:s},o){if(t.size===0)return Promise.resolve(!1);const l=wm(t),u=TN(l,e,n,o?.minZoom??i,o?.maxZoom??s,o?.padding??.1);return await r.setViewport(u,{duration:o?.duration}),Promise.resolve(!0)}function q2({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:s}){const o=n.get(t),l=o.parentId?n.get(o.parentId):void 0,{x:u,y:d}=l?l.internals.positionAbsolute:{x:0,y:0},p=o.origin??r;let h=i;if(o.extent==="parent"&&!o.expandParent)if(!l)s?.("005",Ua.error005());else{const x=l.measured.width,_=l.measured.height;x&&_&&(h=[[u,d],[u+x,d+_]])}else l&&Zd(o.extent)&&(h=[[o.extent[0][0]+u,o.extent[0][1]+d],[o.extent[1][0]+u,o.extent[1][1]+d]]);const b=Zd(h)?au(e,h,o.measured):e;return{position:{x:b.x-u+o.measured.width*p[0],y:b.y-d+o.measured.height*p[1]},positionAbsolute:b}}async function YX({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:r,onBeforeDelete:i}){const s=new Set(t.map(b=>b.id)),o=[];for(const b of n){if(b.deletable===!1)continue;const x=s.has(b.id),_=!x&&b.parentId&&o.find(E=>E.id===b.parentId);(x||_)&&o.push(b)}const l=new Set(e.map(b=>b.id)),u=r.filter(b=>b.deletable!==!1),p=ZX(o,u);for(const b of u)l.has(b.id)&&!p.find(_=>_.id===b.id)&&p.push(b);if(!i)return{edges:p,nodes:o};const h=await i({nodes:o,edges:p});return typeof h=="boolean"?h?{edges:p,nodes:o}:{edges:[],nodes:[]}:h}const Gd=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),au=(t={x:0,y:0},e,n)=>({x:Gd(t.x,e[0][0],e[1][0]-(n?.width??0)),y:Gd(t.y,e[0][1],e[1][1]-(n?.height??0))});function j2(t,e,n){const{width:r,height:i}=Va(n),{x:s,y:o}=n.internals.positionAbsolute;return au(t,[[s,o],[s+r,o+i]],e)}const vq=(t,e,n)=>t<e?Gd(Math.abs(t-e),1,e)/e:t>n?-Gd(Math.abs(t-n),1,e)/e:0,A2=(t,e,n=15,r=40)=>{const i=vq(t.x,r,e.width-r)*n,s=vq(t.y,r,e.height-r)*n;return[i,s]},ex=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),e1=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),tx=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),Jd=(t,e=[0,0])=>{const{x:n,y:r}=CN(t)?t.internals.positionAbsolute:xm(t,e);return{x:n,y:r,width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}},Zv=(t,e=[0,0])=>{const{x:n,y:r}=CN(t)?t.internals.positionAbsolute:xm(t,e);return{x:n,y:r,x2:n+(t.measured?.width??t.width??t.initialWidth??0),y2:r+(t.measured?.height??t.height??t.initialHeight??0)}},P2=(t,e)=>tx(ex(e1(t),e1(e))),Wh=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},bq=t=>To(t.width)&&To(t.height)&&To(t.x)&&To(t.y),To=t=>!isNaN(t)&&isFinite(t),XX=(t,e)=>{},nx=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),_m=({x:t,y:e},[n,r,i],s=!1,o=[1,1])=>{const l={x:(t-n)/i,y:(e-r)/i};return s?nx(l,o):l},F2=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r}),TN=(t,e,n,r,i,s)=>{const o=e/(t.width*(1+s)),l=n/(t.height*(1+s)),u=Math.min(o,l),d=Gd(u,r,i),p=t.x+t.width/2,h=t.y+t.height/2,b=e/2-p*d,x=n/2-h*d;return{x:b,y:x,zoom:d}},Yv=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function Zd(t){return t!==void 0&&t!=="parent"}function Va(t){return{width:t.measured?.width??t.width??t.initialWidth??0,height:t.measured?.height??t.height??t.initialHeight??0}}function D2(t){return(t.measured?.width??t.width??t.initialWidth)!==void 0&&(t.measured?.height??t.height??t.initialHeight)!==void 0}function L2(t,e={width:0,height:0},n,r,i){const s={...t},o=r.get(n);if(o){const l=o.origin||i;s.x+=o.internals.positionAbsolute.x-(e.width??0)*l[0],s.y+=o.internals.positionAbsolute.y-(e.height??0)*l[1]}return s}function xq(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function nh(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:s,y:o}=Pa(t),l=_m({x:s-(i?.left??0),y:o-(i?.top??0)},r),{x:u,y:d}=n?nx(l,e):l;return{xSnapped:u,ySnapped:d,...l}}const rx=t=>({width:t.offsetWidth,height:t.offsetHeight}),M2=t=>t?.getRootNode?.()||window?.document,eee=["INPUT","SELECT","TEXTAREA"];function t1(t){const e=t.composedPath?.()?.[0]||t.target;return e?.nodeType!==1?!1:eee.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const $2=t=>"clientX"in t,Pa=(t,e)=>{const n=$2(t),r=n?t.clientX:t.touches?.[0].clientX,i=n?t.clientY:t.touches?.[0].clientY;return{x:r-(e?.left??0),y:i-(e?.top??0)}},wq=(t,e,n,r,i)=>{const s=e.querySelectorAll(`.${t}`);return!s||!s.length?null:Array.from(s).map(o=>{const l=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:t,nodeId:i,position:o.getAttribute("data-handlepos"),x:(l.left-n.left)/r,y:(l.top-n.top)/r,...rx(o)}})};function B2({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:l}){const u=t*.125+i*.375+o*.375+n*.125,d=e*.125+s*.375+l*.375+r*.125,p=Math.abs(u-t),h=Math.abs(d-e);return[u,d,p,h]}function ny(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function _q({pos:t,x1:e,y1:n,x2:r,y2:i,c:s}){switch(t){case Lt.Left:return[e-ny(e-r,s),n];case Lt.Right:return[e+ny(r-e,s),n];case Lt.Top:return[e,n-ny(n-i,s)];case Lt.Bottom:return[e,n+ny(i-n,s)]}}function ON({sourceX:t,sourceY:e,sourcePosition:n=Lt.Bottom,targetX:r,targetY:i,targetPosition:s=Lt.Top,curvature:o=.25}){const[l,u]=_q({pos:n,x1:t,y1:e,x2:r,y2:i,c:o}),[d,p]=_q({pos:s,x1:r,y1:i,x2:t,y2:e,c:o}),[h,b,x,_]=B2({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:l,sourceControlY:u,targetControlX:d,targetControlY:p});return[`M${t},${e} C${l},${u} ${d},${p} ${r},${i}`,h,b,x,_]}function z2({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,s=n<t?n+i:n-i,o=Math.abs(r-e)/2,l=r<e?r+o:r-o;return[s,l,i,o]}function tee({sourceNode:t,targetNode:e,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1}){if(!i)return r;const s=n||e.selected||t.selected,o=Math.max(t.internals.z||0,e.internals.z||0,1e3);return r+(s?o:0)}function nee({sourceNode:t,targetNode:e,width:n,height:r,transform:i}){const s=ex(Zv(t),Zv(e));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const o={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return Wh(o,tx(s))>0}const ree=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`xy-edge__${t}${e||""}-${n}${r||""}`,iee=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),W2=(t,e)=>{if(!t.source||!t.target)return e;let n;return O2(t)?n={...t}:n={...t,id:ree(t)},iee(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function RN({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[i,s,o,l]=z2({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,s,o,l]}const Sq={[Lt.Left]:{x:-1,y:0},[Lt.Right]:{x:1,y:0},[Lt.Top]:{x:0,y:-1},[Lt.Bottom]:{x:0,y:1}},see=({source:t,sourcePosition:e=Lt.Bottom,target:n})=>e===Lt.Left||e===Lt.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},Eq=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function oee({source:t,sourcePosition:e=Lt.Bottom,target:n,targetPosition:r=Lt.Top,center:i,offset:s}){const o=Sq[e],l=Sq[r],u={x:t.x+o.x*s,y:t.y+o.y*s},d={x:n.x+l.x*s,y:n.y+l.y*s},p=see({source:u,sourcePosition:e,target:d}),h=p.x!==0?"x":"y",b=p[h];let x=[],_,E;const I={x:0,y:0},T={x:0,y:0},[O,R,A,D]=z2({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(o[h]*l[h]===-1){_=i.x??O,E=i.y??R;const z=[{x:_,y:u.y},{x:_,y:d.y}],P=[{x:u.x,y:E},{x:d.x,y:E}];o[h]===b?x=h==="x"?z:P:x=h==="x"?P:z}else{const z=[{x:u.x,y:d.y}],P=[{x:d.x,y:u.y}];if(h==="x"?x=o.x===b?P:z:x=o.y===b?z:P,e===r){const V=Math.abs(t[h]-n[h]);if(V<=s){const B=Math.min(s-1,s-V);o[h]===b?I[h]=(u[h]>t[h]?-1:1)*B:T[h]=(d[h]>n[h]?-1:1)*B}}if(e!==r){const V=h==="x"?"y":"x",B=o[h]===l[V],te=u[V]>d[V],Z=u[V]<d[V];(o[h]===1&&(!B&&te||B&&Z)||o[h]!==1&&(!B&&Z||B&&te))&&(x=h==="x"?z:P)}const q={x:u.x+I.x,y:u.y+I.y},M={x:d.x+T.x,y:d.y+T.y},F=Math.max(Math.abs(q.x-x[0].x),Math.abs(M.x-x[0].x)),U=Math.max(Math.abs(q.y-x[0].y),Math.abs(M.y-x[0].y));F>=U?(_=(q.x+M.x)/2,E=x[0].y):(_=x[0].x,E=(q.y+M.y)/2)}return[[t,{x:u.x+I.x,y:u.y+I.y},...x,{x:d.x+T.x,y:d.y+T.y},n],_,E,A,D]}function aee(t,e,n,r){const i=Math.min(Eq(t,e)/2,Eq(e,n)/2,r),{x:s,y:o}=e;if(t.x===s&&s===n.x||t.y===o&&o===n.y)return`L${s} ${o}`;if(t.y===o){const d=t.x<n.x?-1:1,p=t.y<n.y?1:-1;return`L ${s+i*d},${o}Q ${s},${o} ${s},${o+i*p}`}const l=t.x<n.x?1:-1,u=t.y<n.y?-1:1;return`L ${s},${o+i*u}Q ${s},${o} ${s+i*l},${o}`}function n1({sourceX:t,sourceY:e,sourcePosition:n=Lt.Bottom,targetX:r,targetY:i,targetPosition:s=Lt.Top,borderRadius:o=5,centerX:l,centerY:u,offset:d=20}){const[p,h,b,x,_]=oee({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:l,y:u},offset:d});return[p.reduce((I,T,O)=>{let R="";return O>0&&O<p.length-1?R=aee(p[O-1],T,p[O+1],o):R=`${O===0?"M":"L"}${T.x} ${T.y}`,I+=R,I},""),h,b,x,_]}function Nq(t){return t&&!!(t.internals.handleBounds||t.handles?.length)&&!!(t.measured.width||t.width||t.initialWidth)}function lee(t){const{sourceNode:e,targetNode:n}=t;if(!Nq(e)||!Nq(n))return null;const r=e.internals.handleBounds||kq(e.handles),i=n.internals.handleBounds||kq(n.handles),s=Iq(r?.source??[],t.sourceHandle),o=Iq(t.connectionMode===Qd.Strict?i?.target??[]:(i?.target??[]).concat(i?.source??[]),t.targetHandle);if(!s||!o)return t.onError?.("008",Ua.error008(s?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const l=s?.position||Lt.Bottom,u=o?.position||Lt.Top,d=Uh(e,s,l),p=Uh(n,o,u);return{sourceX:d.x,sourceY:d.y,targetX:p.x,targetY:p.y,sourcePosition:l,targetPosition:u}}function kq(t){if(!t)return null;const e=[],n=[];for(const r of t)r.width=r.width??1,r.height=r.height??1,r.type==="source"?e.push(r):r.type==="target"&&n.push(r);return{source:e,target:n}}function Uh(t,e,n=Lt.Left,r=!1){const i=(e?.x??0)+t.internals.positionAbsolute.x,s=(e?.y??0)+t.internals.positionAbsolute.y,{width:o,height:l}=e??Va(t);if(r)return{x:i+o/2,y:s+l/2};switch(e?.position??n){case Lt.Top:return{x:i+o/2,y:s};case Lt.Right:return{x:i+o,y:s+l/2};case Lt.Bottom:return{x:i+o/2,y:s+l};case Lt.Left:return{x:i,y:s+l/2}}}function Iq(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function r1(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`:""}function cee(t,{id:e,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const s=new Set;return t.reduce((o,l)=>([l.markerStart||r,l.markerEnd||i].forEach(u=>{if(u&&typeof u=="object"){const d=r1(u,e);s.has(d)||(o.push({id:d,color:u.color||n,...u}),s.add(d))}}),o),[]).sort((o,l)=>o.id.localeCompare(l.id))}const qN={nodeOrigin:[0,0],nodeExtent:$h,elevateNodesOnSelect:!0,defaults:{}},uee={...qN,checkEquality:!0};function jN(t,e){const n={...t};for(const r in e)e[r]!==void 0&&(n[r]=e[r]);return n}function dee(t,e,n){const r=jN(qN,n);for(const i of t.values())if(i.parentId)AN(i,t,e,r);else{const s=xm(i,r.nodeOrigin),o=Zd(i.extent)?i.extent:r.nodeExtent,l=au(s,o,Va(i));i.internals.positionAbsolute=l}}function i1(t,e,n,r){const i=jN(uee,r),s=new Map(e),o=i?.elevateNodesOnSelect?1e3:0;e.clear(),n.clear();for(const l of t){let u=s.get(l.id);if(i.checkEquality&&l===u?.internals.userNode)e.set(l.id,u);else{const d=xm(l,i.nodeOrigin),p=Zd(l.extent)?l.extent:i.nodeExtent,h=au(d,p,Va(l));u={...i.defaults,...l,measured:{width:l.measured?.width,height:l.measured?.height},internals:{positionAbsolute:h,handleBounds:l.measured?u?.internals.handleBounds:void 0,z:U2(l,o),userNode:l}},e.set(l.id,u)}l.parentId&&AN(u,e,n,r)}}function fee(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function AN(t,e,n,r){const{elevateNodesOnSelect:i,nodeOrigin:s,nodeExtent:o}=jN(qN,r),l=t.parentId,u=e.get(l);if(!u){console.warn(`Parent node ${l} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}fee(t,n);const d=i?1e3:0,{x:p,y:h,z:b}=pee(t,u,s,o,d),{positionAbsolute:x}=t.internals,_=p!==x.x||h!==x.y;(_||b!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:_?{x:p,y:h}:x,z:b}})}function U2(t,e){return(To(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function pee(t,e,n,r,i){const{x:s,y:o}=e.internals.positionAbsolute,l=Va(t),u=xm(t,n),d=Zd(t.extent)?au(u,t.extent,l):u;let p=au({x:s+d.x,y:o+d.y},r,l);t.extent==="parent"&&(p=j2(p,l,e));const h=U2(t,i),b=e.internals.z??0;return{x:p.x,y:p.y,z:b>h?b:h}}function PN(t,e,n,r=[0,0]){const i=[],s=new Map;for(const o of t){const l=e.get(o.parentId);if(!l)continue;const u=s.get(o.parentId)?.expandedRect??Jd(l),d=P2(u,o.rect);s.set(o.parentId,{expandedRect:d,parent:l})}return s.size>0&&s.forEach(({expandedRect:o,parent:l},u)=>{const d=l.internals.positionAbsolute,p=Va(l),h=l.origin??r,b=o.x<d.x?Math.round(Math.abs(d.x-o.x)):0,x=o.y<d.y?Math.round(Math.abs(d.y-o.y)):0,_=Math.max(p.width,Math.round(o.width)),E=Math.max(p.height,Math.round(o.height)),I=(_-p.width)*h[0],T=(E-p.height)*h[1];(b>0||x>0||I||T)&&(i.push({id:u,type:"position",position:{x:l.position.x-b+I,y:l.position.y-x+T}}),n.get(u)?.forEach(O=>{t.some(R=>R.id===O.id)||i.push({id:O.id,type:"position",position:{x:O.position.x+b,y:O.position.y+x}})})),(p.width<o.width||p.height<o.height||b||x)&&i.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:_+(b?h[0]*b-I:0),height:E+(x?h[1]*x-T:0)}})}),i}function hee(t,e,n,r,i,s){const o=r?.querySelector(".xyflow__viewport");let l=!1;if(!o)return{changes:[],updatedInternals:l};const u=[],d=window.getComputedStyle(o),{m22:p}=new window.DOMMatrixReadOnly(d.transform),h=[];for(const b of t.values()){const x=e.get(b.id);if(!x)continue;if(x.hidden){e.set(x.id,{...x,internals:{...x.internals,handleBounds:void 0}}),l=!0;continue}const _=rx(b.nodeElement),E=x.measured.width!==_.width||x.measured.height!==_.height;if(!!(_.width&&_.height&&(E||!x.internals.handleBounds||b.force))){const T=b.nodeElement.getBoundingClientRect(),O=Zd(x.extent)?x.extent:s;let{positionAbsolute:R}=x.internals;x.parentId&&x.extent==="parent"?R=j2(R,_,e.get(x.parentId)):O&&(R=au(R,O,_));const A={...x,measured:_,internals:{...x.internals,positionAbsolute:R,handleBounds:{source:wq("source",b.nodeElement,T,p,x.id),target:wq("target",b.nodeElement,T,p,x.id)}}};e.set(x.id,A),x.parentId&&AN(A,e,n,{nodeOrigin:i}),l=!0,E&&(u.push({id:x.id,type:"dimensions",dimensions:_}),x.expandParent&&x.parentId&&h.push({id:x.id,parentId:x.parentId,rect:Jd(A,i)}))}}if(h.length>0){const b=PN(h,e,n,i);u.push(...b)}return{changes:u,updatedInternals:l}}async function mee({delta:t,panZoom:e,transform:n,translateExtent:r,width:i,height:s}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const o=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[i,s]],r),l=!!o&&(o.x!==n[0]||o.y!==n[1]||o.k!==n[2]);return Promise.resolve(l)}function Cq(t,e,n,r,i,s){let o=i;const l=r.get(o)||new Map;r.set(o,l.set(n,e)),o=`${i}-${t}`;const u=r.get(o)||new Map;if(r.set(o,u.set(n,e)),s){o=`${i}-${t}-${s}`;const d=r.get(o)||new Map;r.set(o,d.set(n,e))}}function V2(t,e,n){t.clear(),e.clear();for(const r of n){const{source:i,target:s,sourceHandle:o=null,targetHandle:l=null}=r,u={edgeId:r.id,source:i,target:s,sourceHandle:o,targetHandle:l},d=`${i}-${o}--${s}-${l}`,p=`${s}-${l}--${i}-${o}`;Cq("source",u,p,t,i,o),Cq("target",u,d,t,s,l),e.set(r.id,r)}}function H2(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:H2(n,e):!1}function Tq(t,e,n){let r=t;do{if(r?.matches?.(e))return!0;if(r===n)return!1;r=r?.parentElement}while(r);return!1}function gee(t,e,n,r){const i=new Map;for(const[s,o]of t)if((o.selected||o.id===r)&&(!o.parentId||!H2(o,t))&&(o.draggable||e&&typeof o.draggable>"u")){const l=t.get(s);l&&i.set(s,{id:s,position:l.position||{x:0,y:0},distance:{x:n.x-l.internals.positionAbsolute.x,y:n.y-l.internals.positionAbsolute.y},extent:l.extent,parentId:l.parentId,origin:l.origin,expandParent:l.expandParent,internals:{positionAbsolute:l.internals.positionAbsolute||{x:0,y:0}},measured:{width:l.measured.width??0,height:l.measured.height??0}})}return i}function O0({nodeId:t,dragItems:e,nodeLookup:n,dragging:r=!0}){const i=[];for(const[o,l]of e){const u=n.get(o)?.internals.userNode;u&&i.push({...u,position:l.position,dragging:r})}if(!t)return[i[0],i];const s=n.get(t)?.internals.userNode;return[s?{...s,position:e.get(t)?.position||s.position,dragging:r}:i[0],i]}function yee({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:r,onDragStop:i}){let s={x:null,y:null},o=0,l=new Map,u=!1,d={x:0,y:0},p=null,h=!1,b=null,x=!1;function _({noDragClassName:I,handleSelector:T,domNode:O,isSelectable:R,nodeId:A,nodeClickDistance:D=0}){b=Ts(O);function L({x:M,y:F},U){const{nodeLookup:V,nodeExtent:B,snapGrid:te,snapToGrid:Z,nodeOrigin:le,onNodeDrag:se,onSelectionDrag:ne,onError:oe,updateNodePositions:X}=e();s={x:M,y:F};let ue=!1,de={x:0,y:0,x2:0,y2:0};if(l.size>1&&B){const ye=wm(l);de=e1(ye)}for(const[ye,we]of l){if(!V.has(ye))continue;let Ne={x:M-we.distance.x,y:F-we.distance.y};Z&&(Ne=nx(Ne,te));let ze=[[B[0][0],B[0][1]],[B[1][0],B[1][1]]];if(l.size>1&&B&&!we.extent){const{positionAbsolute:Je}=we.internals,Xe=Je.x-de.x+B[0][0],Ue=Je.x+we.measured.width-de.x2+B[1][0],ct=Je.y-de.y+B[0][1],_t=Je.y+we.measured.height-de.y2+B[1][1];ze=[[Xe,ct],[Ue,_t]]}const{position:Re,positionAbsolute:De}=q2({nodeId:ye,nextPosition:Ne,nodeLookup:V,nodeExtent:ze,nodeOrigin:le,onError:oe});ue=ue||we.position.x!==Re.x||we.position.y!==Re.y,we.position=Re,we.internals.positionAbsolute=De}if(ue&&(X(l,!0),U&&(r||se||!A&&ne))){const[ye,we]=O0({nodeId:A,dragItems:l,nodeLookup:V});r?.(U,l,ye,we),se?.(U,ye,we),A||ne?.(U,we)}}async function z(){if(!p)return;const{transform:M,panBy:F,autoPanSpeed:U}=e(),[V,B]=A2(d,p,U);(V!==0||B!==0)&&(s.x=(s.x??0)-V/M[2],s.y=(s.y??0)-B/M[2],await F({x:V,y:B})&&L(s,null)),o=requestAnimationFrame(z)}function P(M){const{nodeLookup:F,multiSelectionActive:U,nodesDraggable:V,transform:B,snapGrid:te,snapToGrid:Z,selectNodesOnDrag:le,onNodeDragStart:se,onSelectionDragStart:ne,unselectNodesAndEdges:oe}=e();h=!0,(!le||!R)&&!U&&A&&(F.get(A)?.selected||oe()),R&&le&&A&&t?.(A);const X=nh(M.sourceEvent,{transform:B,snapGrid:te,snapToGrid:Z,containerBounds:p});if(s=X,l=gee(F,V,X,A),l.size>0&&(n||se||!A&&ne)){const[ue,de]=O0({nodeId:A,dragItems:l,nodeLookup:F});n?.(M.sourceEvent,l,ue,de),se?.(M.sourceEvent,ue,de),A||ne?.(M.sourceEvent,de)}}const q=d2().clickDistance(D).on("start",M=>{const{domNode:F,nodeDragThreshold:U,transform:V,snapGrid:B,snapToGrid:te}=e();p=F?.getBoundingClientRect()||null,x=!1,U===0&&P(M),s=nh(M.sourceEvent,{transform:V,snapGrid:B,snapToGrid:te,containerBounds:p}),d=Pa(M.sourceEvent,p)}).on("drag",M=>{const{autoPanOnNodeDrag:F,transform:U,snapGrid:V,snapToGrid:B,nodeDragThreshold:te,nodeLookup:Z}=e(),le=nh(M.sourceEvent,{transform:U,snapGrid:V,snapToGrid:B,containerBounds:p});if((M.sourceEvent.type==="touchmove"&&M.sourceEvent.touches.length>1||A&&!Z.has(A))&&(x=!0),!x){if(!u&&F&&h&&(u=!0,z()),!h){const se=le.xSnapped-(s.x??0),ne=le.ySnapped-(s.y??0);Math.sqrt(se*se+ne*ne)>te&&P(M)}(s.x!==le.xSnapped||s.y!==le.ySnapped)&&l&&h&&(d=Pa(M.sourceEvent,p),L(le,M.sourceEvent))}}).on("end",M=>{if(!(!h||x)&&(u=!1,h=!1,cancelAnimationFrame(o),l.size>0)){const{nodeLookup:F,updateNodePositions:U,onNodeDragStop:V,onSelectionDragStop:B}=e();if(U(l,!1),i||V||!A&&B){const[te,Z]=O0({nodeId:A,dragItems:l,nodeLookup:F,dragging:!1});i?.(M.sourceEvent,l,te,Z),V?.(M.sourceEvent,te,Z),A||B?.(M.sourceEvent,Z)}}}).filter(M=>{const F=M.target;return!M.button&&(!I||!Tq(F,`.${I}`,O))&&(!T||Tq(F,T,O))});b.call(q)}function E(){b?.on(".drag",null)}return{update:_,destroy:E}}function vee(t,e,n){const r=[],i={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const s of e.values())Wh(i,Jd(s))>0&&r.push(s);return r}const bee=250;function xee(t,e,n,r){let i=[],s=1/0;const o=vee(t,n,e+bee);for(const l of o){const u=[...l.internals.handleBounds?.source??[],...l.internals.handleBounds?.target??[]];for(const d of u){if(r.nodeId===d.nodeId&&r.type===d.type&&r.id===d.id)continue;const{x:p,y:h}=Uh(l,d,d.position,!0),b=Math.sqrt(Math.pow(p-t.x,2)+Math.pow(h-t.y,2));b>e||(b<s?(i=[{...d,x:p,y:h}],s=b):b===s&&i.push({...d,x:p,y:h}))}}if(!i.length)return null;if(i.length>1){const l=r.type==="source"?"target":"source";return i.find(u=>u.type===l)??i[0]}return i[0]}function K2(t,e,n,r,i,s=!1){const o=r.get(t);if(!o)return null;const l=i==="strict"?o.internals.handleBounds?.[e]:[...o.internals.handleBounds?.source??[],...o.internals.handleBounds?.target??[]],u=(n?l?.find(d=>d.id===n):l?.[0])??null;return u&&s?{...u,...Uh(o,u,u.position,!0)}:u}function Q2(t,e){return t||(e?.classList.contains("target")?"target":e?.classList.contains("source")?"source":null)}function wee(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const G2=()=>!0;function _ee(t,{connectionMode:e,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:s,isTarget:o,domNode:l,nodeLookup:u,lib:d,autoPanOnConnect:p,flowId:h,panBy:b,cancelConnection:x,onConnectStart:_,onConnect:E,onConnectEnd:I,isValidConnection:T=G2,onReconnectEnd:O,updateConnection:R,getTransform:A,getFromHandle:D,autoPanSpeed:L}){const z=M2(t.target);let P=0,q;const{x:M,y:F}=Pa(t),U=z?.elementFromPoint(M,F),V=Q2(s,U),B=l?.getBoundingClientRect();if(!B||!V)return;const te=K2(i,V,r,u,e);if(!te)return;let Z=Pa(t,B),le=!1,se=null,ne=!1,oe=null;function X(){if(!p||!B)return;const[De,Je]=A2(Z,B,L);b({x:De,y:Je}),P=requestAnimationFrame(X)}const ue={...te,nodeId:i,type:V,position:te.position},de=u.get(i),we={inProgress:!0,isValid:null,from:Uh(de,ue,Lt.Left,!0),fromHandle:ue,fromPosition:ue.position,fromNode:de,to:Z,toHandle:null,toPosition:yq[ue.position],toNode:null};R(we);let Ne=we;_?.(t,{nodeId:i,handleId:r,handleType:V});function ze(De){if(!D()||!ue){Re(De);return}const Je=A();Z=Pa(De,B),q=xee(_m(Z,Je,!1,[1,1]),n,u,ue),le||(X(),le=!0);const Xe=J2(De,{handle:q,connectionMode:e,fromNodeId:i,fromHandleId:r,fromType:o?"target":"source",isValidConnection:T,doc:z,lib:d,flowId:h,nodeLookup:u});oe=Xe.handleDomNode,se=Xe.connection,ne=wee(!!q,Xe.isValid);const Ue={...Ne,isValid:ne,to:q&&ne?F2({x:q.x,y:q.y},Je):Z,toHandle:Xe.toHandle,toPosition:ne&&Xe.toHandle?Xe.toHandle.position:yq[ue.position],toNode:Xe.toHandle?u.get(Xe.toHandle.nodeId):null};ne&&q&&Ne.toHandle&&Ue.toHandle&&Ne.toHandle.type===Ue.toHandle.type&&Ne.toHandle.nodeId===Ue.toHandle.nodeId&&Ne.toHandle.id===Ue.toHandle.id&&Ne.to.x===Ue.to.x&&Ne.to.y===Ue.to.y||(R(Ue),Ne=Ue)}function Re(De){(q||oe)&&se&&ne&&E?.(se);const{inProgress:Je,...Xe}=Ne,Ue={...Xe,toPosition:Ne.toHandle?Ne.toPosition:null};I?.(De,Ue),s&&O?.(De,Ue),x(),cancelAnimationFrame(P),le=!1,ne=!1,se=null,oe=null,z.removeEventListener("mousemove",ze),z.removeEventListener("mouseup",Re),z.removeEventListener("touchmove",ze),z.removeEventListener("touchend",Re)}z.addEventListener("mousemove",ze),z.addEventListener("mouseup",Re),z.addEventListener("touchmove",ze),z.addEventListener("touchend",Re)}function J2(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:s,doc:o,lib:l,flowId:u,isValidConnection:d=G2,nodeLookup:p}){const h=s==="target",b=e?o.querySelector(`.${l}-flow__handle[data-id="${u}-${e?.nodeId}-${e?.id}-${e?.type}"]`):null,{x,y:_}=Pa(t),E=o.elementFromPoint(x,_),I=E?.classList.contains(`${l}-flow__handle`)?E:b,T={handleDomNode:I,isValid:!1,connection:null,toHandle:null};if(I){const O=Q2(void 0,I),R=I.getAttribute("data-nodeid"),A=I.getAttribute("data-handleid"),D=I.classList.contains("connectable"),L=I.classList.contains("connectableend");if(!R||!O)return T;const z={source:h?R:r,sourceHandle:h?A:i,target:h?r:R,targetHandle:h?i:A};T.connection=z;const q=D&&L&&(n===Qd.Strict?h&&O==="source"||!h&&O==="target":R!==r||A!==i);T.isValid=q&&d(z),T.toHandle=K2(R,O,A,p,n,!1)}return T}const s1={onPointerDown:_ee,isValid:J2};function See({domNode:t,panZoom:e,getTransform:n,getViewScale:r}){const i=Ts(t);function s({translateExtent:l,width:u,height:d,zoomStep:p=10,pannable:h=!0,zoomable:b=!0,inversePan:x=!1}){const _=R=>{const A=n();if(R.sourceEvent.type!=="wheel"||!e)return;const D=-R.sourceEvent.deltaY*(R.sourceEvent.deltaMode===1?.05:R.sourceEvent.deltaMode?1:.002)*p,L=A[2]*Math.pow(2,D);e.scaleTo(L)};let E=[0,0];const I=R=>{(R.sourceEvent.type==="mousedown"||R.sourceEvent.type==="touchstart")&&(E=[R.sourceEvent.clientX??R.sourceEvent.touches[0].clientX,R.sourceEvent.clientY??R.sourceEvent.touches[0].clientY])},T=R=>{const A=n();if(R.sourceEvent.type!=="mousemove"&&R.sourceEvent.type!=="touchmove"||!e)return;const D=[R.sourceEvent.clientX??R.sourceEvent.touches[0].clientX,R.sourceEvent.clientY??R.sourceEvent.touches[0].clientY],L=[D[0]-E[0],D[1]-E[1]];E=D;const z=r()*Math.max(A[2],Math.log(A[2]))*(x?-1:1),P={x:A[0]-L[0]*z,y:A[1]-L[1]*z},q=[[0,0],[u,d]];e.setViewportConstrained({x:P.x,y:P.y,zoom:A[2]},q,l)},O=k2().on("start",I).on("zoom",h?T:null).on("zoom.wheel",b?_:null);i.call(O,{})}function o(){i.on("zoom",null)}return{update:s,destroy:o,pointer:_o}}const Eee=(t,e)=>t.x!==e.x||t.y!==e.y||t.zoom!==e.k,ix=t=>({x:t.x,y:t.y,zoom:t.k}),R0=({x:t,y:e,zoom:n})=>Xb.translate(t,e).scale(n),pd=(t,e)=>t.target.closest(`.${e}`),Z2=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),q0=(t,e=0,n=()=>{})=>{const r=typeof e=="number"&&e>0;return r||n(),r?t.transition().duration(e).on("end",n):t},Y2=t=>{const e=t.ctrlKey&&Yv()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function Nee({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:s,zoomOnPinch:o,onPanZoomStart:l,onPanZoom:u,onPanZoomEnd:d}){return p=>{if(pd(p,e))return!1;p.preventDefault(),p.stopImmediatePropagation();const h=n.property("__zoom").k||1;if(p.ctrlKey&&o){const I=_o(p),T=Y2(p),O=h*Math.pow(2,T);r.scaleTo(n,O,I,p);return}const b=p.deltaMode===1?20:1;let x=i===Gc.Vertical?0:p.deltaX*b,_=i===Gc.Horizontal?0:p.deltaY*b;!Yv()&&p.shiftKey&&i!==Gc.Vertical&&(x=p.deltaY*b,_=0),r.translateBy(n,-(x/h)*s,-(_/h)*s,{internal:!0});const E=ix(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling||(t.isPanScrolling=!0,l?.(p,E)),t.isPanScrolling&&(u?.(p,E),t.panScrollTimeout=setTimeout(()=>{d?.(p,E),t.isPanScrolling=!1},150))}}function kee({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(r,i){if(!e&&r.type==="wheel"&&!r.ctrlKey||pd(r,t))return null;r.preventDefault(),n.call(this,r,i)}}function Iee({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;const i=ix(r.transform);t.mouseButton=r.sourceEvent?.button||0,t.isZoomingOrPanning=!0,t.prevViewport=i,r.sourceEvent?.type==="mousedown"&&e(!0),n&&n?.(r.sourceEvent,i)}}function Cee({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return s=>{t.usedRightMouseButton=!!(n&&Z2(e,t.mouseButton??0)),s.sourceEvent?.sync||r([s.transform.x,s.transform.y,s.transform.k]),i&&!s.sourceEvent?.internal&&i?.(s.sourceEvent,ix(s.transform))}}function Tee({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:s}){return o=>{if(!o.sourceEvent?.internal&&(t.isZoomingOrPanning=!1,s&&Z2(e,t.mouseButton??0)&&!t.usedRightMouseButton&&o.sourceEvent&&s(o.sourceEvent),t.usedRightMouseButton=!1,r(!1),i&&Eee(t.prevViewport,o.transform))){const l=ix(o.transform);t.prevViewport=l,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{i?.(o.sourceEvent,l)},n?150:0)}}}function Oee({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:s,userSelectionActive:o,noWheelClassName:l,noPanClassName:u,lib:d}){return p=>{const h=t||e,b=n&&p.ctrlKey;if(p.button===1&&p.type==="mousedown"&&(pd(p,`${d}-flow__node`)||pd(p,`${d}-flow__edge`)))return!0;if(!r&&!h&&!i&&!s&&!n||o||pd(p,l)&&p.type==="wheel"||pd(p,u)&&(p.type!=="wheel"||i&&p.type==="wheel"&&!t)||!n&&p.ctrlKey&&p.type==="wheel")return!1;if(!n&&p.type==="touchstart"&&p.touches?.length>1)return p.preventDefault(),!1;if(!h&&!i&&!b&&p.type==="wheel"||!r&&(p.type==="mousedown"||p.type==="touchstart")||Array.isArray(r)&&!r.includes(p.button)&&p.type==="mousedown")return!1;const x=Array.isArray(r)&&r.includes(p.button)||!p.button||p.button<=1;return(!p.ctrlKey||p.type==="wheel")&&x}}function Ree({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:r,translateExtent:i,viewport:s,onPanZoom:o,onPanZoomStart:l,onPanZoomEnd:u,onDraggingChange:d}){const p={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},h=t.getBoundingClientRect(),b=k2().clickDistance(!To(r)||r<0?0:r).scaleExtent([e,n]).translateExtent(i),x=Ts(t).call(b);R({x:s.x,y:s.y,zoom:Gd(s.zoom,e,n)},[[0,0],[h.width,h.height]],i);const _=x.on("wheel.zoom"),E=x.on("dblclick.zoom");b.wheelDelta(Y2);function I(U,V){return x?new Promise(B=>{b?.transform(q0(x,V?.duration,()=>B(!0)),U)}):Promise.resolve(!1)}function T({noWheelClassName:U,noPanClassName:V,onPaneContextMenu:B,userSelectionActive:te,panOnScroll:Z,panOnDrag:le,panOnScrollMode:se,panOnScrollSpeed:ne,preventScrolling:oe,zoomOnPinch:X,zoomOnScroll:ue,zoomOnDoubleClick:de,zoomActivationKeyPressed:ye,lib:we,onTransformChange:Ne}){te&&!p.isZoomingOrPanning&&O();const Re=Z&&!ye&&!te?Nee({zoomPanValues:p,noWheelClassName:U,d3Selection:x,d3Zoom:b,panOnScrollMode:se,panOnScrollSpeed:ne,zoomOnPinch:X,onPanZoomStart:l,onPanZoom:o,onPanZoomEnd:u}):kee({noWheelClassName:U,preventScrolling:oe,d3ZoomHandler:_});if(x.on("wheel.zoom",Re,{passive:!1}),!te){const Je=Iee({zoomPanValues:p,onDraggingChange:d,onPanZoomStart:l});b.on("start",Je);const Xe=Cee({zoomPanValues:p,panOnDrag:le,onPaneContextMenu:!!B,onPanZoom:o,onTransformChange:Ne});b.on("zoom",Xe);const Ue=Tee({zoomPanValues:p,panOnDrag:le,panOnScroll:Z,onPaneContextMenu:B,onPanZoomEnd:u,onDraggingChange:d});b.on("end",Ue)}const De=Oee({zoomActivationKeyPressed:ye,panOnDrag:le,zoomOnScroll:ue,panOnScroll:Z,zoomOnDoubleClick:de,zoomOnPinch:X,userSelectionActive:te,noPanClassName:V,noWheelClassName:U,lib:we});b.filter(De),de?x.on("dblclick.zoom",E):x.on("dblclick.zoom",null)}function O(){b.on("zoom",null)}async function R(U,V,B){const te=R0(U),Z=b?.constrain()(te,V,B);return Z&&await I(Z),new Promise(le=>le(Z))}async function A(U,V){const B=R0(U);return await I(B,V),new Promise(te=>te(B))}function D(U){if(x){const V=R0(U),B=x.property("__zoom");(B.k!==U.zoom||B.x!==U.x||B.y!==U.y)&&b?.transform(x,V,null,{sync:!0})}}function L(){const U=x?N2(x.node()):{x:0,y:0,k:1};return{x:U.x,y:U.y,zoom:U.k}}function z(U,V){return x?new Promise(B=>{b?.scaleTo(q0(x,V?.duration,()=>B(!0)),U)}):Promise.resolve(!1)}function P(U,V){return x?new Promise(B=>{b?.scaleBy(q0(x,V?.duration,()=>B(!0)),U)}):Promise.resolve(!1)}function q(U){b?.scaleExtent(U)}function M(U){b?.translateExtent(U)}function F(U){const V=!To(U)||U<0?0:U;b?.clickDistance(V)}return{update:T,destroy:O,setViewport:A,setViewportConstrained:R,getViewport:L,scaleTo:z,scaleBy:P,setScaleExtent:q,setTranslateExtent:M,syncViewport:D,setClickDistance:F}}var rh;(function(t){t.Line="line",t.Handle="handle"})(rh||(rh={}));function qee({width:t,prevWidth:e,height:n,prevHeight:r,affectsX:i,affectsY:s}){const o=t-e,l=n-r,u=[o>0?1:o<0?-1:0,l>0?1:l<0?-1:0];return o&&i&&(u[0]=u[0]*-1),l&&s&&(u[1]=u[1]*-1),u}function jee(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),r=t.includes("left"),i=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:r,affectsY:i}}function vl(t,e){return Math.max(0,e-t)}function bl(t,e){return Math.max(0,t-e)}function ry(t,e,n){return Math.max(0,e-t,t-n)}function Oq(t,e){return t?!e:e}function Aee(t,e,n,r,i,s,o,l){let{affectsX:u,affectsY:d}=e;const{isHorizontal:p,isVertical:h}=e,b=p&&h,{xSnapped:x,ySnapped:_}=n,{minWidth:E,maxWidth:I,minHeight:T,maxHeight:O}=r,{x:R,y:A,width:D,height:L,aspectRatio:z}=t;let P=Math.floor(p?x-t.pointerX:0),q=Math.floor(h?_-t.pointerY:0);const M=D+(u?-P:P),F=L+(d?-q:q),U=-s[0]*D,V=-s[1]*L;let B=ry(M,E,I),te=ry(F,T,O);if(o){let se=0,ne=0;u&&P<0?se=vl(R+P+U,o[0][0]):!u&&P>0&&(se=bl(R+M+U,o[1][0])),d&&q<0?ne=vl(A+q+V,o[0][1]):!d&&q>0&&(ne=bl(A+F+V,o[1][1])),B=Math.max(B,se),te=Math.max(te,ne)}if(l){let se=0,ne=0;u&&P>0?se=bl(R+P,l[0][0]):!u&&P<0&&(se=vl(R+M,l[1][0])),d&&q>0?ne=bl(A+q,l[0][1]):!d&&q<0&&(ne=vl(A+F,l[1][1])),B=Math.max(B,se),te=Math.max(te,ne)}if(i){if(p){const se=ry(M/z,T,O)*z;if(B=Math.max(B,se),o){let ne=0;!u&&!d||u&&!d&&b?ne=bl(A+V+M/z,o[1][1])*z:ne=vl(A+V+(u?P:-P)/z,o[0][1])*z,B=Math.max(B,ne)}if(l){let ne=0;!u&&!d||u&&!d&&b?ne=vl(A+M/z,l[1][1])*z:ne=bl(A+(u?P:-P)/z,l[0][1])*z,B=Math.max(B,ne)}}if(h){const se=ry(F*z,E,I)/z;if(te=Math.max(te,se),o){let ne=0;!u&&!d||d&&!u&&b?ne=bl(R+F*z+U,o[1][0])/z:ne=vl(R+(d?q:-q)*z+U,o[0][0])/z,te=Math.max(te,ne)}if(l){let ne=0;!u&&!d||d&&!u&&b?ne=vl(R+F*z,l[1][0])/z:ne=bl(R+(d?q:-q)*z,l[0][0])/z,te=Math.max(te,ne)}}}q=q+(q<0?te:-te),P=P+(P<0?B:-B),i&&(b?M>F*z?q=(Oq(u,d)?-P:P)/z:P=(Oq(u,d)?-q:q)*z:p?(q=P/z,d=u):(P=q*z,u=d));const Z=u?R+P:R,le=d?A+q:A;return{width:D+(u?-P:P),height:L+(d?-q:q),x:s[0]*P*(u?-1:1)+Z,y:s[1]*q*(d?-1:1)+le}}const X2={width:0,height:0,x:0,y:0},Pee={...X2,pointerX:0,pointerY:0,aspectRatio:1};function Fee(t){return[[0,0],[t.measured.width,t.measured.height]]}function Dee(t,e,n){const r=e.position.x+t.position.x,i=e.position.y+t.position.y,s=t.measured.width??0,o=t.measured.height??0,l=n[0]*s,u=n[1]*o;return[[r-l,i-u],[r+s-l,i+o-u]]}function Lee({domNode:t,nodeId:e,getStoreItems:n,onChange:r,onEnd:i}){const s=Ts(t);function o({controlPosition:u,boundaries:d,keepAspectRatio:p,onResizeStart:h,onResize:b,onResizeEnd:x,shouldResize:_}){let E={...X2},I={...Pee};const T=jee(u);let O,R=null,A=[],D,L,z;const P=d2().on("start",q=>{const{nodeLookup:M,transform:F,snapGrid:U,snapToGrid:V,nodeOrigin:B,paneDomNode:te}=n();if(O=M.get(e),!O)return;R=te?.getBoundingClientRect()??null;const{xSnapped:Z,ySnapped:le}=nh(q.sourceEvent,{transform:F,snapGrid:U,snapToGrid:V,containerBounds:R});E={width:O.measured.width??0,height:O.measured.height??0,x:O.position.x??0,y:O.position.y??0},I={...E,pointerX:Z,pointerY:le,aspectRatio:E.width/E.height},D=void 0,O.parentId&&(O.extent==="parent"||O.expandParent)&&(D=M.get(O.parentId),L=D&&O.extent==="parent"?Fee(D):void 0),A=[],z=void 0;for(const[se,ne]of M)if(ne.parentId===e&&(A.push({id:se,position:{...ne.position},extent:ne.extent}),ne.extent==="parent"||ne.expandParent)){const oe=Dee(ne,O,ne.origin??B);z?z=[[Math.min(oe[0][0],z[0][0]),Math.min(oe[0][1],z[0][1])],[Math.max(oe[1][0],z[1][0]),Math.max(oe[1][1],z[1][1])]]:z=oe}h?.(q,{...E})}).on("drag",q=>{const{transform:M,snapGrid:F,snapToGrid:U,nodeOrigin:V}=n(),B=nh(q.sourceEvent,{transform:M,snapGrid:F,snapToGrid:U,containerBounds:R}),te=[];if(!O)return;const{x:Z,y:le,width:se,height:ne}=E,oe={},X=O.origin??V,{width:ue,height:de,x:ye,y:we}=Aee(I,T,B,d,p,X,L,z),Ne=ue!==se,ze=de!==ne,Re=ye!==Z&&Ne,De=we!==le&&ze;if(!Re&&!De&&!Ne&&!ze)return;if((Re||De||X[0]===1||X[1]===1)&&(oe.x=Re?ye:E.x,oe.y=De?we:E.y,E.x=oe.x,E.y=oe.y,A.length>0)){const ct=ye-Z,_t=we-le;for(const Tt of A)Tt.position={x:Tt.position.x-ct+X[0]*(ue-se),y:Tt.position.y-_t+X[1]*(de-ne)},te.push(Tt)}if((Ne||ze)&&(oe.width=Ne?ue:E.width,oe.height=ze?de:E.height,E.width=oe.width,E.height=oe.height),D&&O.expandParent){const ct=X[0]*(oe.width??0);oe.x&&oe.x<ct&&(E.x=ct,I.x=I.x-(oe.x-ct));const _t=X[1]*(oe.height??0);oe.y&&oe.y<_t&&(E.y=_t,I.y=I.y-(oe.y-_t))}const Je=qee({width:E.width,prevWidth:se,height:E.height,prevHeight:ne,affectsX:T.affectsX,affectsY:T.affectsY}),Xe={...E,direction:Je};_?.(q,Xe)!==!1&&(b?.(q,Xe),r(oe,te))}).on("end",q=>{x?.(q,{...E}),i?.()});s.call(P)}function l(){s.on(".drag",null)}return{update:o,destroy:l}}const Rq=t=>{let e;const n=new Set,r=(p,h)=>{const b=typeof p=="function"?p(e):p;if(!Object.is(b,e)){const x=e;e=h??(typeof b!="object"||b===null)?b:Object.assign({},e,b),n.forEach(_=>_(e,x))}},i=()=>e,u={setState:r,getState:i,getInitialState:()=>d,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{n.clear()}},d=e=t(r,i,u);return u},Mee=t=>t?Rq(t):Rq,{useDebugValue:$ee}=Mn,{useSyncExternalStoreWithSelector:Bee}=jB,zee=t=>t;function eL(t,e=zee,n){const r=Bee(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return $ee(r),r}const qq=(t,e)=>{const n=Mee(t),r=(i,s=e)=>eL(n,i,s);return Object.assign(r,n),r},Wee=(t,e)=>t?qq(t,e):qq;function Fr(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}const sx=Q.createContext(null),Uee=sx.Provider,tL=Ua.error001();function Cn(t,e){const n=Q.useContext(sx);if(n===null)throw new Error(tL);return eL(n,t,e)}function Cr(){const t=Q.useContext(sx);if(t===null)throw new Error(tL);return Q.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const jq={display:"none"},Vee={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},nL="react-flow__node-desc",rL="react-flow__edge-desc",Hee="react-flow__aria-live",Kee=t=>t.ariaLiveMessage;function Qee({rfId:t}){const e=Cn(Kee);return f.jsx("div",{id:`${Hee}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:Vee,children:e})}function Gee({rfId:t,disableKeyboardA11y:e}){return f.jsxs(f.Fragment,{children:[f.jsxs("div",{id:`${nL}-${t}`,style:jq,children:["Press enter or space to select a node.",!e&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),f.jsx("div",{id:`${rL}-${t}`,style:jq,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!e&&f.jsx(Qee,{rfId:t})]})}const Jee=t=>t.userSelectionActive?"none":"all",FN=Q.forwardRef(({position:t="top-left",children:e,className:n,style:r,...i},s)=>{const o=Cn(Jee),l=`${t}`.split("-");return f.jsx("div",{className:Xr(["react-flow__panel",n,...l]),style:{...r,pointerEvents:o},ref:s,...i,children:e})});function Zee({proOptions:t,position:e="bottom-right"}){return t?.hideAttribution?null:f.jsx(FN,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:f.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const Yee=t=>{const e=[],n=[];for(const[,r]of t.nodeLookup)r.selected&&e.push(r.internals.userNode);for(const[,r]of t.edgeLookup)r.selected&&n.push(r);return{selectedNodes:e,selectedEdges:n}},iy=t=>t.id;function Xee(t,e){return Fr(t.selectedNodes.map(iy),e.selectedNodes.map(iy))&&Fr(t.selectedEdges.map(iy),e.selectedEdges.map(iy))}function ete({onSelectionChange:t}){const e=Cr(),{selectedNodes:n,selectedEdges:r}=Cn(Yee,Xee);return Q.useEffect(()=>{const i={nodes:n,edges:r};t?.(i),e.getState().onSelectionChangeHandlers.forEach(s=>s(i))},[n,r,t]),null}const tte=t=>!!t.onSelectionChangeHandlers;function nte({onSelectionChange:t}){const e=Cn(tte);return t||e?f.jsx(ete,{onSelectionChange:t}):null}const iL=[0,0],rte={x:0,y:0,zoom:1},ite=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],Aq=[...ite,"rfId"],ste=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setPaneClickDistance:t.setPaneClickDistance}),Pq={translateExtent:$h,nodeOrigin:iL,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function ote(t){const{setNodes:e,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:s,setNodeExtent:o,reset:l,setDefaultNodesAndEdges:u,setPaneClickDistance:d}=Cn(ste,Fr),p=Cr();Q.useEffect(()=>(u(t.defaultNodes,t.defaultEdges),()=>{h.current=Pq,l()}),[]);const h=Q.useRef(Pq);return Q.useEffect(()=>{for(const b of Aq){const x=t[b],_=h.current[b];x!==_&&(typeof t[b]>"u"||(b==="nodes"?e(x):b==="edges"?n(x):b==="minZoom"?r(x):b==="maxZoom"?i(x):b==="translateExtent"?s(x):b==="nodeExtent"?o(x):b==="paneClickDistance"?d(x):b==="fitView"?p.setState({fitViewOnInit:x}):b==="fitViewOptions"?p.setState({fitViewOnInitOptions:x}):p.setState({[b]:x})))}h.current=t},Aq.map(b=>t[b])),null}function Fq(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function ate(t){const[e,n]=Q.useState(t==="system"?null:t);return Q.useEffect(()=>{if(t!=="system"){n(t);return}const r=Fq(),i=()=>n(r?.matches?"dark":"light");return i(),r?.addEventListener("change",i),()=>{r?.removeEventListener("change",i)}},[t]),e!==null?e:Fq()?.matches?"dark":"light"}const Dq=typeof document<"u"?document:null;function Vh(t=null,e={target:Dq,actInsideInputWithModifier:!0}){const[n,r]=Q.useState(!1),i=Q.useRef(!1),s=Q.useRef(new Set([])),[o,l]=Q.useMemo(()=>{if(t!==null){const d=(Array.isArray(t)?t:[t]).filter(h=>typeof h=="string").map(h=>h.replace("+",`
`).replace(`

`,`
+`).split(`
`)),p=d.reduce((h,b)=>h.concat(...b),[]);return[d,p]}return[[],[]]},[t]);return Q.useEffect(()=>{const u=e?.target||Dq;if(t!==null){const d=b=>{if(i.current=b.ctrlKey||b.metaKey||b.shiftKey,(!i.current||i.current&&!e.actInsideInputWithModifier)&&t1(b))return!1;const _=Mq(b.code,l);s.current.add(b[_]),Lq(o,s.current,!1)&&(b.preventDefault(),r(!0))},p=b=>{if((!i.current||i.current&&!e.actInsideInputWithModifier)&&t1(b))return!1;const _=Mq(b.code,l);Lq(o,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(b[_]),b.key==="Meta"&&s.current.clear(),i.current=!1},h=()=>{s.current.clear(),r(!1)};return u?.addEventListener("keydown",d),u?.addEventListener("keyup",p),window.addEventListener("blur",h),window.addEventListener("contextmenu",h),()=>{u?.removeEventListener("keydown",d),u?.removeEventListener("keyup",p),window.removeEventListener("blur",h),window.removeEventListener("contextmenu",h)}}},[t,r]),n}function Lq(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function Mq(t,e){return e.includes(t)?"code":"key"}const lte=()=>{const t=Cr();return Q.useMemo(()=>({zoomIn:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1/1.2,{duration:e?.duration}):Promise.resolve(!1)},zoomTo:(e,n)=>{const{panZoom:r}=t.getState();return r?r.scaleTo(e,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,n)=>{const{transform:[r,i,s],panZoom:o}=t.getState();return o?(await o.setViewport({x:e.x??r,y:e.y??i,zoom:e.zoom??s},{duration:n?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,n,r]=t.getState().transform;return{x:e,y:n,zoom:r}},fitView:e=>{const{nodeLookup:n,minZoom:r,maxZoom:i,panZoom:s,domNode:o}=t.getState();if(!s||!o)return Promise.resolve(!1);const l=YE(n,e),{width:u,height:d}=rx(o);return XE({nodes:l,width:u,height:d,minZoom:r,maxZoom:i,panZoom:s},e)},setCenter:async(e,n,r)=>{const{width:i,height:s,maxZoom:o,panZoom:l}=t.getState(),u=typeof r?.zoom<"u"?r.zoom:o,d=i/2-e*u,p=s/2-n*u;return l?(await l.setViewport({x:d,y:p,zoom:u},{duration:r?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(e,n)=>{const{width:r,height:i,minZoom:s,maxZoom:o,panZoom:l}=t.getState(),u=TN(e,r,i,s,o,n?.padding??.1);return l?(await l.setViewport(u,{duration:n?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,n={snapToGrid:!0})=>{const{transform:r,snapGrid:i,domNode:s}=t.getState();if(!s)return e;const{x:o,y:l}=s.getBoundingClientRect(),u={x:e.x-o,y:e.y-l};return _m(u,r,n.snapToGrid,i)},flowToScreenPosition:e=>{const{transform:n,domNode:r}=t.getState();if(!r)return e;const{x:i,y:s}=r.getBoundingClientRect(),o=F2(e,n);return{x:o.x+i,y:o.y+s}}}),[])};function sL(t,e){const n=[],r=new Map,i=[];for(const s of t)if(s.type==="add"){i.push(s);continue}else if(s.type==="remove"||s.type==="replace")r.set(s.id,[s]);else{const o=r.get(s.id);o?o.push(s):r.set(s.id,[s])}for(const s of e){const o=r.get(s.id);if(!o){n.push(s);continue}if(o[0].type==="remove")continue;if(o[0].type==="replace"){n.push({...o[0].item});continue}const l={...s};for(const u of o)cte(u,l);n.push(l)}return i.length&&i.forEach(s=>{s.index!==void 0?n.splice(s.index,0,{...s.item}):n.push({...s.item})}),n}function cte(t,e){switch(t.type){case"select":{e.selected=t.selected;break}case"position":{typeof t.position<"u"&&(e.position=t.position),typeof t.dragging<"u"&&(e.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(e.measured??={},e.measured.width=t.dimensions.width,e.measured.height=t.dimensions.height,t.setAttributes&&(e.width=t.dimensions.width,e.height=t.dimensions.height)),typeof t.resizing=="boolean"&&(e.resizing=t.resizing);break}}}function DN(t,e){return sL(t,e)}function oL(t,e){return sL(t,e)}function jc(t,e){return{id:t,type:"select",selected:e}}function hd(t,e=new Set,n=!1){const r=[];for(const[i,s]of t){const o=e.has(i);!(s.selected===void 0&&!o)&&s.selected!==o&&(n&&(s.selected=o),r.push(jc(s.id,o)))}return r}function $q({items:t=[],lookup:e}){const n=[],r=new Map(t.map(i=>[i.id,i]));for(const[i,s]of t.entries()){const o=e.get(s.id),l=o?.internals?.userNode??o;l!==void 0&&l!==s&&n.push({id:s.id,item:s,type:"replace"}),l===void 0&&n.push({item:s,type:"add",index:i})}for(const[i]of e)r.get(i)===void 0&&n.push({id:i,type:"remove"});return n}function Bq(t){return{id:t.id,type:"remove"}}const zq=t=>GX(t),ute=t=>O2(t);function aL(t){return Q.forwardRef(t)}const dte=typeof window<"u"?Q.useLayoutEffect:Q.useEffect;function Wq(t){const[e,n]=Q.useState(BigInt(0)),[r]=Q.useState(()=>fte(()=>n(i=>i+BigInt(1))));return dte(()=>{const i=r.get();i.length&&(t(i),r.reset())},[e]),r}function fte(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:n=>{e.push(n),t()}}}const lL=Q.createContext(null);function pte({children:t}){const e=Cr(),n=Q.useCallback(l=>{const{nodes:u=[],setNodes:d,hasDefaultNodes:p,onNodesChange:h,nodeLookup:b}=e.getState();let x=u;for(const _ of l)x=typeof _=="function"?_(x):_;p?d(x):h&&h($q({items:x,lookup:b}))},[]),r=Wq(n),i=Q.useCallback(l=>{const{edges:u=[],setEdges:d,hasDefaultEdges:p,onEdgesChange:h,edgeLookup:b}=e.getState();let x=u;for(const _ of l)x=typeof _=="function"?_(x):_;p?d(x):h&&h($q({items:x,lookup:b}))},[]),s=Wq(i),o=Q.useMemo(()=>({nodeQueue:r,edgeQueue:s}),[]);return f.jsx(lL.Provider,{value:o,children:t})}function hte(){const t=Q.useContext(lL);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const mte=t=>!!t.panZoom;function gf(){const t=lte(),e=Cr(),n=hte(),r=Cn(mte),i=Q.useMemo(()=>{const s=h=>e.getState().nodeLookup.get(h),o=h=>{n.nodeQueue.push(h)},l=h=>{n.edgeQueue.push(h)},u=h=>{const{nodeLookup:b,nodeOrigin:x}=e.getState(),_=zq(h)?h:b.get(h.id),E=_.parentId?L2(_.position,_.measured,_.parentId,b,x):_.position,I={..._,position:E,width:_.measured?.width??_.width,height:_.measured?.height??_.height};return Jd(I)},d=(h,b,x={replace:!1})=>{o(_=>_.map(E=>{if(E.id===h){const I=typeof b=="function"?b(E):b;return x.replace&&zq(I)?I:{...E,...I}}return E}))},p=(h,b,x={replace:!1})=>{l(_=>_.map(E=>{if(E.id===h){const I=typeof b=="function"?b(E):b;return x.replace&&ute(I)?I:{...E,...I}}return E}))};return{getNodes:()=>e.getState().nodes.map(h=>({...h})),getNode:h=>s(h)?.internals.userNode,getInternalNode:s,getEdges:()=>{const{edges:h=[]}=e.getState();return h.map(b=>({...b}))},getEdge:h=>e.getState().edgeLookup.get(h),setNodes:o,setEdges:l,addNodes:h=>{const b=Array.isArray(h)?h:[h];n.nodeQueue.push(x=>[...x,...b])},addEdges:h=>{const b=Array.isArray(h)?h:[h];n.edgeQueue.push(x=>[...x,...b])},toObject:()=>{const{nodes:h=[],edges:b=[],transform:x}=e.getState(),[_,E,I]=x;return{nodes:h.map(T=>({...T})),edges:b.map(T=>({...T})),viewport:{x:_,y:E,zoom:I}}},deleteElements:async({nodes:h=[],edges:b=[]})=>{const{nodes:x,edges:_,onNodesDelete:E,onEdgesDelete:I,triggerNodeChanges:T,triggerEdgeChanges:O,onDelete:R,onBeforeDelete:A}=e.getState(),{nodes:D,edges:L}=await YX({nodesToRemove:h,edgesToRemove:b,nodes:x,edges:_,onBeforeDelete:A}),z=L.length>0,P=D.length>0;if(z){const q=L.map(Bq);I?.(L),O(q)}if(P){const q=D.map(Bq);E?.(D),T(q)}return(P||z)&&R?.({nodes:D,edges:L}),{deletedNodes:D,deletedEdges:L}},getIntersectingNodes:(h,b=!0,x)=>{const _=bq(h),E=_?h:u(h),I=x!==void 0;return E?(x||e.getState().nodes).filter(T=>{const O=e.getState().nodeLookup.get(T.id);if(O&&!_&&(T.id===h.id||!O.internals.positionAbsolute))return!1;const R=Jd(I?T:O),A=Wh(R,E);return b&&A>0||A>=E.width*E.height}):[]},isNodeIntersecting:(h,b,x=!0)=>{const E=bq(h)?h:u(h);if(!E)return!1;const I=Wh(E,b);return x&&I>0||I>=E.width*E.height},updateNode:d,updateNodeData:(h,b,x={replace:!1})=>{d(h,_=>{const E=typeof b=="function"?b(_):b;return x.replace?{..._,data:E}:{..._,data:{..._.data,...E}}},x)},updateEdge:p,updateEdgeData:(h,b,x={replace:!1})=>{p(h,_=>{const E=typeof b=="function"?b(_):b;return x.replace?{..._,data:E}:{..._,data:{..._.data,...E}}},x)},getNodesBounds:h=>{const{nodeLookup:b,nodeOrigin:x}=e.getState();return JX(h,{nodeLookup:b,nodeOrigin:x})},getHandleConnections:({type:h,id:b,nodeId:x})=>Array.from(e.getState().connectionLookup.get(`${x}-${h}${b?`-${b}`:""}`)?.values()??[]),getNodeConnections:({type:h,handleId:b,nodeId:x})=>Array.from(e.getState().connectionLookup.get(`${x}${h?b?`-${h}-${b}`:`-${h}`:""}`)?.values()??[])}},[]);return Q.useMemo(()=>({...i,...t,viewportInitialized:r}),[r])}const Uq=t=>t.selected,gte={actInsideInputWithModifier:!1},yte=typeof window<"u"?window:void 0;function vte({deleteKeyCode:t,multiSelectionKeyCode:e}){const n=Cr(),{deleteElements:r}=gf(),i=Vh(t,gte),s=Vh(e,{target:yte});Q.useEffect(()=>{if(i){const{edges:o,nodes:l}=n.getState();r({nodes:l.filter(Uq),edges:o.filter(Uq)}),n.setState({nodesSelectionActive:!1})}},[i]),Q.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])}function bte(t){const e=Cr();Q.useEffect(()=>{const n=()=>{if(!t.current)return!1;const r=rx(t.current);(r.height===0||r.width===0)&&e.getState().onError?.("004",Ua.error004()),e.setState({width:r.width||500,height:r.height||500})};if(t.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(t.current),()=>{window.removeEventListener("resize",n),r&&t.current&&r.unobserve(t.current)}}},[])}const ox={position:"absolute",width:"100%",height:"100%",top:0,left:0},xte=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib});function wte({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:s=Gc.Free,zoomOnDoubleClick:o=!0,panOnDrag:l=!0,defaultViewport:u,translateExtent:d,minZoom:p,maxZoom:h,zoomActivationKeyCode:b,preventScrolling:x=!0,children:_,noWheelClassName:E,noPanClassName:I,onViewportChange:T,isControlledViewport:O,paneClickDistance:R}){const A=Cr(),D=Q.useRef(null),{userSelectionActive:L,lib:z}=Cn(xte,Fr),P=Vh(b),q=Q.useRef();bte(D);const M=Q.useCallback(F=>{T?.({x:F[0],y:F[1],zoom:F[2]}),O||A.setState({transform:F})},[T,O]);return Q.useEffect(()=>{if(D.current){q.current=Ree({domNode:D.current,minZoom:p,maxZoom:h,translateExtent:d,viewport:u,paneClickDistance:R,onDraggingChange:B=>A.setState({paneDragging:B}),onPanZoomStart:(B,te)=>{const{onViewportChangeStart:Z,onMoveStart:le}=A.getState();le?.(B,te),Z?.(te)},onPanZoom:(B,te)=>{const{onViewportChange:Z,onMove:le}=A.getState();le?.(B,te),Z?.(te)},onPanZoomEnd:(B,te)=>{const{onViewportChangeEnd:Z,onMoveEnd:le}=A.getState();le?.(B,te),Z?.(te)}});const{x:F,y:U,zoom:V}=q.current.getViewport();return A.setState({panZoom:q.current,transform:[F,U,V],domNode:D.current.closest(".react-flow")}),()=>{q.current?.destroy()}}},[]),Q.useEffect(()=>{q.current?.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:s,zoomOnDoubleClick:o,panOnDrag:l,zoomActivationKeyPressed:P,preventScrolling:x,noPanClassName:I,userSelectionActive:L,noWheelClassName:E,lib:z,onTransformChange:M})},[t,e,n,r,i,s,o,l,P,x,I,L,E,z,M]),f.jsx("div",{className:"react-flow__renderer",ref:D,style:ox,children:_})}const _te=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function Ste(){const{userSelectionActive:t,userSelectionRect:e}=Cn(_te,Fr);return t&&e?f.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const j0=(t,e)=>n=>{n.target===e.current&&t?.(n)},Ete=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,dragging:t.paneDragging});function Nte({isSelecting:t,selectionKeyPressed:e,selectionMode:n=Bh.Full,panOnDrag:r,selectionOnDrag:i,onSelectionStart:s,onSelectionEnd:o,onPaneClick:l,onPaneContextMenu:u,onPaneScroll:d,onPaneMouseEnter:p,onPaneMouseMove:h,onPaneMouseLeave:b,children:x}){const _=Cr(),{userSelectionActive:E,elementsSelectable:I,dragging:T}=Cn(Ete,Fr),O=I&&(t||E),R=Q.useRef(null),A=Q.useRef(),D=Q.useRef(new Set),L=Q.useRef(new Set),z=Q.useRef(!1),P=Q.useRef(!1),q=Z=>{if(z.current){z.current=!1;return}l?.(Z),_.getState().resetSelectedElements(),_.setState({nodesSelectionActive:!1})},M=Z=>{if(Array.isArray(r)&&r?.includes(2)){Z.preventDefault();return}u?.(Z)},F=d?Z=>d(Z):void 0,U=Z=>{const{resetSelectedElements:le,domNode:se}=_.getState();if(A.current=se?.getBoundingClientRect(),!I||!t||Z.button!==0||Z.target!==R.current||!A.current)return;Z.target?.setPointerCapture?.(Z.pointerId),P.current=!0,z.current=!1;const{x:ne,y:oe}=Pa(Z.nativeEvent,A.current);le(),_.setState({userSelectionRect:{width:0,height:0,startX:ne,startY:oe,x:ne,y:oe}}),s?.(Z)},V=Z=>{const{userSelectionRect:le,transform:se,nodeLookup:ne,edgeLookup:oe,connectionLookup:X,triggerNodeChanges:ue,triggerEdgeChanges:de,defaultEdgeOptions:ye}=_.getState();if(!A.current||!le)return;z.current=!0;const{x:we,y:Ne}=Pa(Z.nativeEvent,A.current),{startX:ze,startY:Re}=le,De={startX:ze,startY:Re,x:we<ze?we:ze,y:Ne<Re?Ne:Re,width:Math.abs(we-ze),height:Math.abs(Ne-Re)},Je=D.current,Xe=L.current;D.current=new Set(R2(ne,De,se,n===Bh.Partial,!0).map(ct=>ct.id)),L.current=new Set;const Ue=ye?.selectable??!0;for(const ct of D.current){const _t=X.get(ct);if(_t)for(const{edgeId:Tt}of _t.values()){const Ut=oe.get(Tt);Ut&&(Ut.selectable??Ue)&&L.current.add(Tt)}}if(!xq(Je,D.current)){const ct=hd(ne,D.current,!0);ue(ct)}if(!xq(Xe,L.current)){const ct=hd(oe,L.current);de(ct)}_.setState({userSelectionRect:De,userSelectionActive:!0,nodesSelectionActive:!1})},B=Z=>{if(Z.button!==0||!P.current)return;Z.target?.releasePointerCapture?.(Z.pointerId);const{userSelectionRect:le}=_.getState();!E&&le&&Z.target===R.current&&q?.(Z),_.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:D.current.size>0}),o?.(Z),(e||i)&&(z.current=!1),P.current=!1},te=r===!0||Array.isArray(r)&&r.includes(0);return f.jsxs("div",{className:Xr(["react-flow__pane",{draggable:te,dragging:T,selection:t}]),onClick:O?void 0:j0(q,R),onContextMenu:j0(M,R),onWheel:j0(F,R),onPointerEnter:O?void 0:p,onPointerDown:O?U:h,onPointerMove:O?V:h,onPointerUp:O?B:void 0,onPointerLeave:b,ref:R,style:ox,children:[x,f.jsx(Ste,{})]})}function o1({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:o,nodeLookup:l,onError:u}=e.getState(),d=l.get(t);if(!d){u?.("012",Ua.error012(t));return}e.setState({nodesSelectionActive:!1}),d.selected?(n||d.selected&&o)&&(s({nodes:[d],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):i([t])}function cL({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,nodeClickDistance:o}){const l=Cr(),[u,d]=Q.useState(!1),p=Q.useRef();return Q.useEffect(()=>{p.current=yee({getStoreItems:()=>l.getState(),onNodeMouseDown:h=>{o1({id:h,store:l,nodeRef:t})},onDragStart:()=>{d(!0)},onDragStop:()=>{d(!1)}})},[]),Q.useEffect(()=>{if(e)p.current?.destroy();else if(t.current)return p.current?.update({noDragClassName:n,handleSelector:r,domNode:t.current,isSelectable:s,nodeId:i,nodeClickDistance:o}),()=>{p.current?.destroy()}},[n,r,e,s,t,i]),u}const kte=t=>e=>e.selected&&(e.draggable||t&&typeof e.draggable>"u");function uL(){const t=Cr();return Q.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:s,nodesDraggable:o,onError:l,updateNodePositions:u,nodeLookup:d,nodeOrigin:p}=t.getState(),h=new Map,b=kte(o),x=i?s[0]:5,_=i?s[1]:5,E=n.direction.x*x*n.factor,I=n.direction.y*_*n.factor;for(const[,T]of d){if(!b(T))continue;let O={x:T.internals.positionAbsolute.x+E,y:T.internals.positionAbsolute.y+I};i&&(O=nx(O,s));const{position:R,positionAbsolute:A}=q2({nodeId:T.id,nextPosition:O,nodeLookup:d,nodeExtent:r,nodeOrigin:p,onError:l});T.position=R,T.internals.positionAbsolute=A,h.set(T.id,T)}u(h)},[])}const LN=Q.createContext(null),Ite=LN.Provider;LN.Consumer;const dL=()=>Q.useContext(LN),Cte=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),Tte=(t,e,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:s,connection:o}=r,{fromHandle:l,toHandle:u,isValid:d}=o,p=u?.nodeId===t&&u?.id===e&&u?.type===n;return{connectingFrom:l?.nodeId===t&&l?.id===e&&l?.type===n,connectingTo:p,clickConnecting:i?.nodeId===t&&i?.id===e&&i?.type===n,isPossibleEndHandle:s===Qd.Strict?l?.type!==n:t!==l?.nodeId||e!==l?.id,connectionInProcess:!!l,valid:p&&d}};function Ote({type:t="source",position:e=Lt.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:o,onConnect:l,children:u,className:d,onMouseDown:p,onTouchStart:h,...b},x){const _=o||null,E=t==="target",I=Cr(),T=dL(),{connectOnClick:O,noPanClassName:R,rfId:A}=Cn(Cte,Fr),{connectingFrom:D,connectingTo:L,clickConnecting:z,isPossibleEndHandle:P,connectionInProcess:q,valid:M}=Cn(Tte(T,_,t),Fr);T||I.getState().onError?.("010",Ua.error010());const F=B=>{const{defaultEdgeOptions:te,onConnect:Z,hasDefaultEdges:le}=I.getState(),se={...te,...B};if(le){const{edges:ne,setEdges:oe}=I.getState();oe(W2(se,ne))}Z?.(se),l?.(se)},U=B=>{if(!T)return;const te=$2(B.nativeEvent);if(i&&(te&&B.button===0||!te)){const Z=I.getState();s1.onPointerDown(B.nativeEvent,{autoPanOnConnect:Z.autoPanOnConnect,connectionMode:Z.connectionMode,connectionRadius:Z.connectionRadius,domNode:Z.domNode,nodeLookup:Z.nodeLookup,lib:Z.lib,isTarget:E,handleId:_,nodeId:T,flowId:Z.rfId,panBy:Z.panBy,cancelConnection:Z.cancelConnection,onConnectStart:Z.onConnectStart,onConnectEnd:Z.onConnectEnd,updateConnection:Z.updateConnection,onConnect:F,isValidConnection:n||Z.isValidConnection,getTransform:()=>I.getState().transform,getFromHandle:()=>I.getState().connection.fromHandle,autoPanSpeed:Z.autoPanSpeed})}te?p?.(B):h?.(B)},V=B=>{const{onClickConnectStart:te,onClickConnectEnd:Z,connectionClickStartHandle:le,connectionMode:se,isValidConnection:ne,lib:oe,rfId:X,nodeLookup:ue,connection:de}=I.getState();if(!T||!le&&!i)return;if(!le){te?.(B.nativeEvent,{nodeId:T,handleId:_,handleType:t}),I.setState({connectionClickStartHandle:{nodeId:T,type:t,id:_}});return}const ye=M2(B.target),we=n||ne,{connection:Ne,isValid:ze}=s1.isValid(B.nativeEvent,{handle:{nodeId:T,id:_,type:t},connectionMode:se,fromNodeId:le.nodeId,fromHandleId:le.id||null,fromType:le.type,isValidConnection:we,flowId:X,doc:ye,lib:oe,nodeLookup:ue});ze&&Ne&&F(Ne);const Re=structuredClone(de);delete Re.inProgress,Re.toPosition=Re.toHandle?Re.toHandle.position:null,Z?.(B,Re),I.setState({connectionClickStartHandle:null})};return f.jsx("div",{"data-handleid":_,"data-nodeid":T,"data-handlepos":e,"data-id":`${A}-${T}-${_}-${t}`,className:Xr(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",R,d,{source:!E,target:E,connectable:r,connectablestart:i,connectableend:s,clickconnecting:z,connectingfrom:D,connectingto:L,valid:M,connectionindicator:r&&(!q||P)&&(q?s:i)}]),onMouseDown:U,onTouchStart:U,onClick:O?V:void 0,ref:x,...b,children:u})}const sa=Q.memo(aL(Ote));function Rte({data:t,isConnectable:e,sourcePosition:n=Lt.Bottom}){return f.jsxs(f.Fragment,{children:[t?.label,f.jsx(sa,{type:"source",position:n,isConnectable:e})]})}function qte({data:t,isConnectable:e,targetPosition:n=Lt.Top,sourcePosition:r=Lt.Bottom}){return f.jsxs(f.Fragment,{children:[f.jsx(sa,{type:"target",position:n,isConnectable:e}),t?.label,f.jsx(sa,{type:"source",position:r,isConnectable:e})]})}function jte(){return null}function Ate({data:t,isConnectable:e,targetPosition:n=Lt.Top}){return f.jsxs(f.Fragment,{children:[f.jsx(sa,{type:"target",position:n,isConnectable:e}),t?.label]})}const Xv={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},Vq={input:Rte,default:qte,output:Ate,group:jte};function Pte(t){return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??t.style?.width,height:t.height??t.initialHeight??t.style?.height}:{width:t.width??t.style?.width,height:t.height??t.style?.height}}const Fte=t=>{const{width:e,height:n,x:r,y:i}=wm(t.nodeLookup,{filter:s=>!!s.selected});return{width:To(e)?e:null,height:To(n)?n:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${r}px,${i}px)`}};function Dte({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=Cr(),{width:i,height:s,transformString:o,userSelectionActive:l}=Cn(Fte,Fr),u=uL(),d=Q.useRef(null);if(Q.useEffect(()=>{n||d.current?.focus({preventScroll:!0})},[n]),cL({nodeRef:d}),l||!i||!s)return null;const p=t?b=>{const x=r.getState().nodes.filter(_=>_.selected);t(b,x)}:void 0,h=b=>{Object.prototype.hasOwnProperty.call(Xv,b.key)&&(b.preventDefault(),u({direction:Xv[b.key],factor:b.shiftKey?4:1}))};return f.jsx("div",{className:Xr(["react-flow__nodesselection","react-flow__container",e]),style:{transform:o},children:f.jsx("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:n?void 0:-1,onKeyDown:n?void 0:h,style:{width:i,height:s}})})}const Hq=typeof window<"u"?window:void 0,Lte=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function fL({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,paneClickDistance:l,deleteKeyCode:u,selectionKeyCode:d,selectionOnDrag:p,selectionMode:h,onSelectionStart:b,onSelectionEnd:x,multiSelectionKeyCode:_,panActivationKeyCode:E,zoomActivationKeyCode:I,elementsSelectable:T,zoomOnScroll:O,zoomOnPinch:R,panOnScroll:A,panOnScrollSpeed:D,panOnScrollMode:L,zoomOnDoubleClick:z,panOnDrag:P,defaultViewport:q,translateExtent:M,minZoom:F,maxZoom:U,preventScrolling:V,onSelectionContextMenu:B,noWheelClassName:te,noPanClassName:Z,disableKeyboardA11y:le,onViewportChange:se,isControlledViewport:ne}){const{nodesSelectionActive:oe,userSelectionActive:X}=Cn(Lte),ue=Vh(d,{target:Hq}),de=Vh(E,{target:Hq}),ye=de||P,we=de||A,Ne=p&&ye!==!0,ze=ue||X||Ne;return vte({deleteKeyCode:u,multiSelectionKeyCode:_}),f.jsx(wte,{onPaneContextMenu:s,elementsSelectable:T,zoomOnScroll:O,zoomOnPinch:R,panOnScroll:we,panOnScrollSpeed:D,panOnScrollMode:L,zoomOnDoubleClick:z,panOnDrag:!ue&&ye,defaultViewport:q,translateExtent:M,minZoom:F,maxZoom:U,zoomActivationKeyCode:I,preventScrolling:V,noWheelClassName:te,noPanClassName:Z,onViewportChange:se,isControlledViewport:ne,paneClickDistance:l,children:f.jsxs(Nte,{onSelectionStart:b,onSelectionEnd:x,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:ye,isSelecting:!!ze,selectionMode:h,selectionKeyPressed:ue,selectionOnDrag:Ne,children:[t,oe&&f.jsx(Dte,{onSelectionContextMenu:B,noPanClassName:Z,disableKeyboardA11y:le})]})})}fL.displayName="FlowRenderer";const Mte=Q.memo(fL),$te=t=>e=>t?R2(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(n=>n.id):Array.from(e.nodeLookup.keys());function Bte(t){return Cn(Q.useCallback($te(t),[t]),Fr)}const zte=t=>t.updateNodeInternals;function Wte(){const t=Cn(zte),[e]=Q.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const s=i.target.getAttribute("data-id");r.set(s,{id:s,nodeElement:i.target,force:!0})}),t(r)}));return Q.useEffect(()=>()=>{e?.disconnect()},[e]),e}function Ute({node:t,nodeType:e,hasDimensions:n,resizeObserver:r}){const i=Cr(),s=Q.useRef(null),o=Q.useRef(null),l=Q.useRef(t.sourcePosition),u=Q.useRef(t.targetPosition),d=Q.useRef(e),p=n&&!!t.internals.handleBounds;return Q.useEffect(()=>{s.current&&!t.hidden&&(!p||o.current!==s.current)&&(o.current&&r?.unobserve(o.current),r?.observe(s.current),o.current=s.current)},[p,t.hidden]),Q.useEffect(()=>()=>{o.current&&(r?.unobserve(o.current),o.current=null)},[]),Q.useEffect(()=>{if(s.current){const h=d.current!==e,b=l.current!==t.sourcePosition,x=u.current!==t.targetPosition;(h||b||x)&&(d.current=e,l.current=t.sourcePosition,u.current=t.targetPosition,i.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:s.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),s}function Vte({id:t,onClick:e,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:s,onDoubleClick:o,nodesDraggable:l,elementsSelectable:u,nodesConnectable:d,nodesFocusable:p,resizeObserver:h,noDragClassName:b,noPanClassName:x,disableKeyboardA11y:_,rfId:E,nodeTypes:I,nodeExtent:T,nodeClickDistance:O,onError:R}){const{node:A,internals:D,isParent:L}=Cn(Re=>{const De=Re.nodeLookup.get(t),Je=Re.parentLookup.has(t);return{node:De,internals:De.internals,isParent:Je}},Fr);let z=A.type||"default",P=I?.[z]||Vq[z];P===void 0&&(R?.("003",Ua.error003(z)),z="default",P=Vq.default);const q=!!(A.draggable||l&&typeof A.draggable>"u"),M=!!(A.selectable||u&&typeof A.selectable>"u"),F=!!(A.connectable||d&&typeof A.connectable>"u"),U=!!(A.focusable||p&&typeof A.focusable>"u"),V=Cr(),B=D2(A),te=Ute({node:A,nodeType:z,hasDimensions:B,resizeObserver:h}),Z=cL({nodeRef:te,disabled:A.hidden||!q,noDragClassName:b,handleSelector:A.dragHandle,nodeId:t,isSelectable:M,nodeClickDistance:O}),le=uL();if(A.hidden)return null;const se=Va(A),ne=Pte(A),oe=M||q||e||n||r||i,X=n?Re=>n(Re,{...D.userNode}):void 0,ue=r?Re=>r(Re,{...D.userNode}):void 0,de=i?Re=>i(Re,{...D.userNode}):void 0,ye=s?Re=>s(Re,{...D.userNode}):void 0,we=o?Re=>o(Re,{...D.userNode}):void 0,Ne=Re=>{const{selectNodesOnDrag:De,nodeDragThreshold:Je}=V.getState();M&&(!De||!q||Je>0)&&o1({id:t,store:V,nodeRef:te}),e&&e(Re,{...D.userNode})},ze=Re=>{if(!(t1(Re.nativeEvent)||_))if(I2.includes(Re.key)&&M){const De=Re.key==="Escape";o1({id:t,store:V,unselect:De,nodeRef:te})}else q&&A.selected&&Object.prototype.hasOwnProperty.call(Xv,Re.key)&&(Re.preventDefault(),V.setState({ariaLiveMessage:`Moved selected node ${Re.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~D.positionAbsolute.x}, y: ${~~D.positionAbsolute.y}`}),le({direction:Xv[Re.key],factor:Re.shiftKey?4:1}))};return f.jsx("div",{className:Xr(["react-flow__node",`react-flow__node-${z}`,{[x]:q},A.className,{selected:A.selected,selectable:M,parent:L,draggable:q,dragging:Z}]),ref:te,style:{zIndex:D.z,transform:`translate(${D.positionAbsolute.x}px,${D.positionAbsolute.y}px)`,pointerEvents:oe?"all":"none",visibility:B?"visible":"hidden",...A.style,...ne},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:X,onMouseMove:ue,onMouseLeave:de,onContextMenu:ye,onClick:Ne,onDoubleClick:we,onKeyDown:U?ze:void 0,tabIndex:U?0:void 0,role:U?"button":void 0,"aria-describedby":_?void 0:`${nL}-${E}`,"aria-label":A.ariaLabel,children:f.jsx(Ite,{value:t,children:f.jsx(P,{id:t,data:A.data,type:z,positionAbsoluteX:D.positionAbsolute.x,positionAbsoluteY:D.positionAbsolute.y,selected:A.selected??!1,selectable:M,draggable:q,deletable:A.deletable??!0,isConnectable:F,sourcePosition:A.sourcePosition,targetPosition:A.targetPosition,dragging:Z,dragHandle:A.dragHandle,zIndex:D.z,parentId:A.parentId,...se})})})}const Hte=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function pL(t){const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:s}=Cn(Hte,Fr),o=Bte(t.onlyRenderVisibleElements),l=Wte();return f.jsx("div",{className:"react-flow__nodes",style:ox,children:o.map(u=>f.jsx(Vte,{id:u,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:l,nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:t.nodeClickDistance,onError:s},u))})}pL.displayName="NodeRenderer";const Kte=Q.memo(pL);function Qte(t){return Cn(Q.useCallback(n=>{if(!t)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const s=n.nodeLookup.get(i.source),o=n.nodeLookup.get(i.target);s&&o&&nee({sourceNode:s,targetNode:o,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[t]),Fr)}const Gte=({color:t="none",strokeWidth:e=1})=>f.jsx("polyline",{style:{stroke:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),Jte=({color:t="none",strokeWidth:e=1})=>f.jsx("polyline",{style:{stroke:t,fill:t,strokeWidth:e},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Kq={[zh.Arrow]:Gte,[zh.ArrowClosed]:Jte};function Zte(t){const e=Cr();return Q.useMemo(()=>Object.prototype.hasOwnProperty.call(Kq,t)?Kq[t]:(e.getState().onError?.("009",Ua.error009(t)),null),[t])}const Yte=({id:t,type:e,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:l="auto-start-reverse"})=>{const u=Zte(e);return u?f.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:l,refX:"0",refY:"0",children:f.jsx(u,{color:n,strokeWidth:o})}):null},hL=({defaultColor:t,rfId:e})=>{const n=Cn(s=>s.edges),r=Cn(s=>s.defaultEdgeOptions),i=Q.useMemo(()=>cee(n,{id:e,defaultColor:t,defaultMarkerStart:r?.markerStart,defaultMarkerEnd:r?.markerEnd}),[n,r,e,t]);return i.length?f.jsx("svg",{className:"react-flow__marker",children:f.jsx("defs",{children:i.map(s=>f.jsx(Yte,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};hL.displayName="MarkerDefinitions";var Xte=Q.memo(hL);function mL({x:t,y:e,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:s={},labelBgPadding:o=[2,4],labelBgBorderRadius:l=2,children:u,className:d,...p}){const[h,b]=Q.useState({x:1,y:0,width:0,height:0}),x=Xr(["react-flow__edge-textwrapper",d]),_=Q.useRef(null);return Q.useEffect(()=>{if(_.current){const E=_.current.getBBox();b({x:E.x,y:E.y,width:E.width,height:E.height})}},[n]),typeof n>"u"||!n?null:f.jsxs("g",{transform:`translate(${t-h.width/2} ${e-h.height/2})`,className:x,visibility:h.width?"visible":"hidden",...p,children:[i&&f.jsx("rect",{width:h.width+2*o[0],x:-o[0],y:-o[1],height:h.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:l,ry:l}),f.jsx("text",{className:"react-flow__edge-text",y:h.height/2,dy:"0.3em",ref:_,style:r,children:n}),u]})}mL.displayName="EdgeText";const ene=Q.memo(mL);function Sm({path:t,labelX:e,labelY:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u,interactionWidth:d=20,...p}){return f.jsxs(f.Fragment,{children:[f.jsx("path",{...p,d:t,fill:"none",className:Xr(["react-flow__edge-path",p.className])}),d&&f.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:d,className:"react-flow__edge-interaction"}),r&&To(e)&&To(n)?f.jsx(ene,{x:e,y:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:l,labelBgBorderRadius:u}):null]})}function Qq({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===Lt.Left||t===Lt.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function MN({sourceX:t,sourceY:e,sourcePosition:n=Lt.Bottom,targetX:r,targetY:i,targetPosition:s=Lt.Top}){const[o,l]=Qq({pos:n,x1:t,y1:e,x2:r,y2:i}),[u,d]=Qq({pos:s,x1:r,y1:i,x2:t,y2:e}),[p,h,b,x]=B2({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:o,sourceControlY:l,targetControlX:u,targetControlY:d});return[`M${t},${e} C${o},${l} ${u},${d} ${r},${i}`,p,h,b,x]}function gL(t){return Q.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o=Lt.Bottom,targetPosition:l=Lt.Top,label:u,labelStyle:d,labelShowBg:p,labelBgStyle:h,labelBgPadding:b,labelBgBorderRadius:x,style:_,markerEnd:E,markerStart:I,interactionWidth:T})=>{const[O,R,A]=MN({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:l}),D=t.isInternal?void 0:e;return f.jsx(Sm,{id:D,path:O,labelX:R,labelY:A,label:u,labelStyle:d,labelShowBg:p,labelBgStyle:h,labelBgPadding:b,labelBgBorderRadius:x,style:_,markerEnd:E,markerStart:I,interactionWidth:T})})}const tne=gL({isInternal:!1}),yL=gL({isInternal:!0});tne.displayName="SimpleBezierEdge";yL.displayName="SimpleBezierEdgeInternal";function vL(t){return Q.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:p,labelBgBorderRadius:h,style:b,sourcePosition:x=Lt.Bottom,targetPosition:_=Lt.Top,markerEnd:E,markerStart:I,pathOptions:T,interactionWidth:O})=>{const[R,A,D]=n1({sourceX:n,sourceY:r,sourcePosition:x,targetX:i,targetY:s,targetPosition:_,borderRadius:T?.borderRadius,offset:T?.offset}),L=t.isInternal?void 0:e;return f.jsx(Sm,{id:L,path:R,labelX:A,labelY:D,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:p,labelBgBorderRadius:h,style:b,markerEnd:E,markerStart:I,interactionWidth:O})})}const bL=vL({isInternal:!1}),xL=vL({isInternal:!0});bL.displayName="SmoothStepEdge";xL.displayName="SmoothStepEdgeInternal";function wL(t){return Q.memo(({id:e,...n})=>{const r=t.isInternal?void 0:e;return f.jsx(bL,{...n,id:r,pathOptions:Q.useMemo(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}const nne=wL({isInternal:!1}),_L=wL({isInternal:!0});nne.displayName="StepEdge";_L.displayName="StepEdgeInternal";function SL(t){return Q.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:p,labelBgBorderRadius:h,style:b,markerEnd:x,markerStart:_,interactionWidth:E})=>{const[I,T,O]=RN({sourceX:n,sourceY:r,targetX:i,targetY:s}),R=t.isInternal?void 0:e;return f.jsx(Sm,{id:R,path:I,labelX:T,labelY:O,label:o,labelStyle:l,labelShowBg:u,labelBgStyle:d,labelBgPadding:p,labelBgBorderRadius:h,style:b,markerEnd:x,markerStart:_,interactionWidth:E})})}const rne=SL({isInternal:!1}),EL=SL({isInternal:!0});rne.displayName="StraightEdge";EL.displayName="StraightEdgeInternal";function NL(t){return Q.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o=Lt.Bottom,targetPosition:l=Lt.Top,label:u,labelStyle:d,labelShowBg:p,labelBgStyle:h,labelBgPadding:b,labelBgBorderRadius:x,style:_,markerEnd:E,markerStart:I,pathOptions:T,interactionWidth:O})=>{const[R,A,D]=ON({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:l,curvature:T?.curvature}),L=t.isInternal?void 0:e;return f.jsx(Sm,{id:L,path:R,labelX:A,labelY:D,label:u,labelStyle:d,labelShowBg:p,labelBgStyle:h,labelBgPadding:b,labelBgBorderRadius:x,style:_,markerEnd:E,markerStart:I,interactionWidth:O})})}const ine=NL({isInternal:!1}),kL=NL({isInternal:!0});ine.displayName="BezierEdge";kL.displayName="BezierEdgeInternal";const Gq={default:kL,straight:EL,step:_L,smoothstep:xL,simplebezier:yL},Jq={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},sne=(t,e,n)=>n===Lt.Left?t-e:n===Lt.Right?t+e:t,one=(t,e,n)=>n===Lt.Top?t-e:n===Lt.Bottom?t+e:t,Zq="react-flow__edgeupdater";function Yq({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:o,type:l}){return f.jsx("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:o,className:Xr([Zq,`${Zq}-${l}`]),cx:sne(e,r,t),cy:one(n,r,t),r,stroke:"transparent",fill:"transparent"})}function ane({isReconnectable:t,reconnectRadius:e,edge:n,sourceX:r,sourceY:i,targetX:s,targetY:o,sourcePosition:l,targetPosition:u,onReconnect:d,onReconnectStart:p,onReconnectEnd:h,setReconnecting:b,setUpdateHover:x}){const _=Cr(),E=(A,D)=>{if(A.button!==0)return;const{autoPanOnConnect:L,domNode:z,isValidConnection:P,connectionMode:q,connectionRadius:M,lib:F,onConnectStart:U,onConnectEnd:V,cancelConnection:B,nodeLookup:te,rfId:Z,panBy:le,updateConnection:se}=_.getState(),ne=D.type==="target";b(!0),p?.(A,n,D.type);const oe=(ue,de)=>{b(!1),h?.(ue,n,D.type,de)},X=ue=>d?.(n,ue);s1.onPointerDown(A.nativeEvent,{autoPanOnConnect:L,connectionMode:q,connectionRadius:M,domNode:z,handleId:D.id,nodeId:D.nodeId,nodeLookup:te,isTarget:ne,edgeUpdaterType:D.type,lib:F,flowId:Z,cancelConnection:B,panBy:le,isValidConnection:P,onConnect:X,onConnectStart:U,onConnectEnd:V,onReconnectEnd:oe,updateConnection:se,getTransform:()=>_.getState().transform,getFromHandle:()=>_.getState().connection.fromHandle})},I=A=>E(A,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),T=A=>E(A,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),O=()=>x(!0),R=()=>x(!1);return f.jsxs(f.Fragment,{children:[(t===!0||t==="source")&&f.jsx(Yq,{position:l,centerX:r,centerY:i,radius:e,onMouseDown:I,onMouseEnter:O,onMouseOut:R,type:"source"}),(t===!0||t==="target")&&f.jsx(Yq,{position:u,centerX:s,centerY:o,radius:e,onMouseDown:T,onMouseEnter:O,onMouseOut:R,type:"target"})]})}function lne({id:t,edgesFocusable:e,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:s,onContextMenu:o,onMouseEnter:l,onMouseMove:u,onMouseLeave:d,reconnectRadius:p,onReconnect:h,onReconnectStart:b,onReconnectEnd:x,rfId:_,edgeTypes:E,noPanClassName:I,onError:T,disableKeyboardA11y:O}){let R=Cn(Ue=>Ue.edgeLookup.get(t));const A=Cn(Ue=>Ue.defaultEdgeOptions);R=A?{...A,...R}:R;let D=R.type||"default",L=E?.[D]||Gq[D];L===void 0&&(T?.("011",Ua.error011(D)),D="default",L=Gq.default);const z=!!(R.focusable||e&&typeof R.focusable>"u"),P=typeof h<"u"&&(R.reconnectable||n&&typeof R.reconnectable>"u"),q=!!(R.selectable||r&&typeof R.selectable>"u"),M=Q.useRef(null),[F,U]=Q.useState(!1),[V,B]=Q.useState(!1),te=Cr(),{zIndex:Z,sourceX:le,sourceY:se,targetX:ne,targetY:oe,sourcePosition:X,targetPosition:ue}=Cn(Q.useCallback(Ue=>{const ct=Ue.nodeLookup.get(R.source),_t=Ue.nodeLookup.get(R.target);if(!ct||!_t)return{zIndex:R.zIndex,...Jq};const Tt=lee({id:t,sourceNode:ct,targetNode:_t,sourceHandle:R.sourceHandle||null,targetHandle:R.targetHandle||null,connectionMode:Ue.connectionMode,onError:T});return{zIndex:tee({selected:R.selected,zIndex:R.zIndex,sourceNode:ct,targetNode:_t,elevateOnSelect:Ue.elevateEdgesOnSelect}),...Tt||Jq}},[R.source,R.target,R.sourceHandle,R.targetHandle,R.selected,R.zIndex]),Fr),de=Q.useMemo(()=>R.markerStart?`url('#${r1(R.markerStart,_)}')`:void 0,[R.markerStart,_]),ye=Q.useMemo(()=>R.markerEnd?`url('#${r1(R.markerEnd,_)}')`:void 0,[R.markerEnd,_]);if(R.hidden||le===null||se===null||ne===null||oe===null)return null;const we=Ue=>{const{addSelectedEdges:ct,unselectNodesAndEdges:_t,multiSelectionActive:Tt}=te.getState();q&&(te.setState({nodesSelectionActive:!1}),R.selected&&Tt?(_t({nodes:[],edges:[R]}),M.current?.blur()):ct([t])),i&&i(Ue,R)},Ne=s?Ue=>{s(Ue,{...R})}:void 0,ze=o?Ue=>{o(Ue,{...R})}:void 0,Re=l?Ue=>{l(Ue,{...R})}:void 0,De=u?Ue=>{u(Ue,{...R})}:void 0,Je=d?Ue=>{d(Ue,{...R})}:void 0,Xe=Ue=>{if(!O&&I2.includes(Ue.key)&&q){const{unselectNodesAndEdges:ct,addSelectedEdges:_t}=te.getState();Ue.key==="Escape"?(M.current?.blur(),ct({edges:[R]})):_t([t])}};return f.jsx("svg",{style:{zIndex:Z},children:f.jsxs("g",{className:Xr(["react-flow__edge",`react-flow__edge-${D}`,R.className,I,{selected:R.selected,animated:R.animated,inactive:!q&&!i,updating:F,selectable:q}]),onClick:we,onDoubleClick:Ne,onContextMenu:ze,onMouseEnter:Re,onMouseMove:De,onMouseLeave:Je,onKeyDown:z?Xe:void 0,tabIndex:z?0:void 0,role:z?"button":"img","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":R.ariaLabel===null?void 0:R.ariaLabel||`Edge from ${R.source} to ${R.target}`,"aria-describedby":z?`${rL}-${_}`:void 0,ref:M,children:[!V&&f.jsx(L,{id:t,source:R.source,target:R.target,type:R.type,selected:R.selected,animated:R.animated,selectable:q,deletable:R.deletable??!0,label:R.label,labelStyle:R.labelStyle,labelShowBg:R.labelShowBg,labelBgStyle:R.labelBgStyle,labelBgPadding:R.labelBgPadding,labelBgBorderRadius:R.labelBgBorderRadius,sourceX:le,sourceY:se,targetX:ne,targetY:oe,sourcePosition:X,targetPosition:ue,data:R.data,style:R.style,sourceHandleId:R.sourceHandle,targetHandleId:R.targetHandle,markerStart:de,markerEnd:ye,pathOptions:"pathOptions"in R?R.pathOptions:void 0,interactionWidth:R.interactionWidth}),P&&f.jsx(ane,{edge:R,isReconnectable:P,reconnectRadius:p,onReconnect:h,onReconnectStart:b,onReconnectEnd:x,sourceX:le,sourceY:se,targetX:ne,targetY:oe,sourcePosition:X,targetPosition:ue,setUpdateHover:U,setReconnecting:B})]})})}const cne=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function IL({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:s,onEdgeContextMenu:o,onEdgeMouseEnter:l,onEdgeMouseMove:u,onEdgeMouseLeave:d,onEdgeClick:p,reconnectRadius:h,onEdgeDoubleClick:b,onReconnectStart:x,onReconnectEnd:_,disableKeyboardA11y:E}){const{edgesFocusable:I,edgesReconnectable:T,elementsSelectable:O,onError:R}=Cn(cne,Fr),A=Qte(e);return f.jsxs("div",{className:"react-flow__edges",children:[f.jsx(Xte,{defaultColor:t,rfId:n}),A.map(D=>f.jsx(lne,{id:D,edgesFocusable:I,edgesReconnectable:T,elementsSelectable:O,noPanClassName:i,onReconnect:s,onContextMenu:o,onMouseEnter:l,onMouseMove:u,onMouseLeave:d,onClick:p,reconnectRadius:h,onDoubleClick:b,onReconnectStart:x,onReconnectEnd:_,rfId:n,onError:R,edgeTypes:r,disableKeyboardA11y:E},D))]})}IL.displayName="EdgeRenderer";const une=Q.memo(IL),dne=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function fne({children:t}){const e=Cn(dne);return f.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function pne(t){const e=gf(),n=Q.useRef(!1);Q.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const hne=t=>t.panZoom?.syncViewport;function mne(t){const e=Cn(hne),n=Cr();return Q.useEffect(()=>{t&&(e?.(t),n.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function gne(t){return t.connection.inProgress?{...t.connection,to:_m(t.connection.to,t.transform)}:{...t.connection}}function yne(t){return gne}function CL(t){const e=yne();return Cn(e,Fr)}const vne=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function bne({containerStyle:t,style:e,type:n,component:r}){const{nodesConnectable:i,width:s,height:o,isValid:l,inProgress:u}=Cn(vne,Fr);return!(s&&i&&u)?null:f.jsx("svg",{style:t,width:s,height:o,className:"react-flow__connectionline react-flow__container",children:f.jsx("g",{className:Xr(["react-flow__connection",T2(l)]),children:f.jsx(TL,{style:e,type:n,CustomComponent:r,isValid:l})})})}const TL=({style:t,type:e=Tl.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:s,fromNode:o,fromHandle:l,fromPosition:u,to:d,toNode:p,toHandle:h,toPosition:b}=CL();if(!i)return;if(n)return f.jsx(n,{connectionLineType:e,connectionLineStyle:t,fromNode:o,fromHandle:l,fromX:s.x,fromY:s.y,toX:d.x,toY:d.y,fromPosition:u,toPosition:b,connectionStatus:T2(r),toNode:p,toHandle:h});let x="";const _={sourceX:s.x,sourceY:s.y,sourcePosition:u,targetX:d.x,targetY:d.y,targetPosition:b};switch(e){case Tl.Bezier:[x]=ON(_);break;case Tl.SimpleBezier:[x]=MN(_);break;case Tl.Step:[x]=n1({..._,borderRadius:0});break;case Tl.SmoothStep:[x]=n1(_);break;default:[x]=RN(_)}return f.jsx("path",{d:x,fill:"none",className:"react-flow__connection-path",style:t})};TL.displayName="ConnectionLine";const xne={};function Xq(t=xne){Q.useRef(t),Cr(),Q.useEffect(()=>{},[t])}function wne(){Cr(),Q.useRef(!1),Q.useEffect(()=>{},[])}function OL({nodeTypes:t,edgeTypes:e,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:s,onEdgeDoubleClick:o,onNodeMouseEnter:l,onNodeMouseMove:u,onNodeMouseLeave:d,onNodeContextMenu:p,onSelectionContextMenu:h,onSelectionStart:b,onSelectionEnd:x,connectionLineType:_,connectionLineStyle:E,connectionLineComponent:I,connectionLineContainerStyle:T,selectionKeyCode:O,selectionOnDrag:R,selectionMode:A,multiSelectionKeyCode:D,panActivationKeyCode:L,zoomActivationKeyCode:z,deleteKeyCode:P,onlyRenderVisibleElements:q,elementsSelectable:M,defaultViewport:F,translateExtent:U,minZoom:V,maxZoom:B,preventScrolling:te,defaultMarkerColor:Z,zoomOnScroll:le,zoomOnPinch:se,panOnScroll:ne,panOnScrollSpeed:oe,panOnScrollMode:X,zoomOnDoubleClick:ue,panOnDrag:de,onPaneClick:ye,onPaneMouseEnter:we,onPaneMouseMove:Ne,onPaneMouseLeave:ze,onPaneScroll:Re,onPaneContextMenu:De,paneClickDistance:Je,nodeClickDistance:Xe,onEdgeContextMenu:Ue,onEdgeMouseEnter:ct,onEdgeMouseMove:_t,onEdgeMouseLeave:Tt,reconnectRadius:Ut,onReconnect:nn,onReconnectStart:xe,onReconnectEnd:ve,noDragClassName:ke,noWheelClassName:Ae,noPanClassName:Ve,disableKeyboardA11y:rt,nodeExtent:Me,rfId:ut,viewport:Qt,onViewportChange:Gt}){return Xq(t),Xq(e),wne(),pne(n),mne(Qt),f.jsx(Mte,{onPaneClick:ye,onPaneMouseEnter:we,onPaneMouseMove:Ne,onPaneMouseLeave:ze,onPaneContextMenu:De,onPaneScroll:Re,paneClickDistance:Je,deleteKeyCode:P,selectionKeyCode:O,selectionOnDrag:R,selectionMode:A,onSelectionStart:b,onSelectionEnd:x,multiSelectionKeyCode:D,panActivationKeyCode:L,zoomActivationKeyCode:z,elementsSelectable:M,zoomOnScroll:le,zoomOnPinch:se,zoomOnDoubleClick:ue,panOnScroll:ne,panOnScrollSpeed:oe,panOnScrollMode:X,panOnDrag:de,defaultViewport:F,translateExtent:U,minZoom:V,maxZoom:B,onSelectionContextMenu:h,preventScrolling:te,noDragClassName:ke,noWheelClassName:Ae,noPanClassName:Ve,disableKeyboardA11y:rt,onViewportChange:Gt,isControlledViewport:!!Qt,children:f.jsxs(fne,{children:[f.jsx(une,{edgeTypes:e,onEdgeClick:i,onEdgeDoubleClick:o,onReconnect:nn,onReconnectStart:xe,onReconnectEnd:ve,onlyRenderVisibleElements:q,onEdgeContextMenu:Ue,onEdgeMouseEnter:ct,onEdgeMouseMove:_t,onEdgeMouseLeave:Tt,reconnectRadius:Ut,defaultMarkerColor:Z,noPanClassName:Ve,disableKeyboardA11y:rt,rfId:ut}),f.jsx(bne,{style:E,type:_,component:I,containerStyle:T}),f.jsx("div",{className:"react-flow__edgelabel-renderer"}),f.jsx(Kte,{nodeTypes:t,onNodeClick:r,onNodeDoubleClick:s,onNodeMouseEnter:l,onNodeMouseMove:u,onNodeMouseLeave:d,onNodeContextMenu:p,nodeClickDistance:Xe,onlyRenderVisibleElements:q,noPanClassName:Ve,noDragClassName:ke,disableKeyboardA11y:rt,nodeExtent:Me,rfId:ut}),f.jsx("div",{className:"react-flow__viewport-portal"})]})})}OL.displayName="GraphView";const _ne=Q.memo(OL),ej=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,nodeOrigin:l,nodeExtent:u}={})=>{const d=new Map,p=new Map,h=new Map,b=new Map,x=r??e??[],_=n??t??[],E=l??[0,0],I=u??$h;V2(h,b,x),i1(_,d,p,{nodeOrigin:E,nodeExtent:I,elevateNodesOnSelect:!1});let T=[0,0,1];if(o&&i&&s){const O=wm(d,{filter:L=>!!((L.width||L.initialWidth)&&(L.height||L.initialHeight))}),{x:R,y:A,zoom:D}=TN(O,i,s,.5,2,.1);T=[R,A,D]}return{rfId:"1",width:0,height:0,transform:T,nodes:_,nodeLookup:d,parentLookup:p,edges:x,edgeLookup:b,connectionLookup:h,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:.5,maxZoom:2,translateExtent:$h,nodeExtent:I,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Qd.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:E,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,fitViewOnInit:!1,fitViewDone:!1,fitViewOnInitOptions:void 0,selectNodesOnDrag:!0,multiSelectionActive:!1,connection:{...C2},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:XX,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},Sne=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,nodeOrigin:l,nodeExtent:u})=>Wee((d,p)=>({...ej({nodes:t,edges:e,width:i,height:s,fitView:o,nodeOrigin:l,nodeExtent:u,defaultNodes:n,defaultEdges:r}),setNodes:h=>{const{nodeLookup:b,parentLookup:x,nodeOrigin:_,elevateNodesOnSelect:E}=p();i1(h,b,x,{nodeOrigin:_,nodeExtent:u,elevateNodesOnSelect:E,checkEquality:!0}),d({nodes:h})},setEdges:h=>{const{connectionLookup:b,edgeLookup:x}=p();V2(b,x,h),d({edges:h})},setDefaultNodesAndEdges:(h,b)=>{if(h){const{setNodes:x}=p();x(h),d({hasDefaultNodes:!0})}if(b){const{setEdges:x}=p();x(b),d({hasDefaultEdges:!0})}},updateNodeInternals:(h,b={triggerFitView:!0})=>{const{triggerNodeChanges:x,nodeLookup:_,parentLookup:E,fitViewOnInit:I,fitViewDone:T,fitViewOnInitOptions:O,domNode:R,nodeOrigin:A,nodeExtent:D,debug:L,fitViewSync:z}=p(),{changes:P,updatedInternals:q}=hee(h,_,E,R,A,D);if(q){if(dee(_,E,{nodeOrigin:A,nodeExtent:D}),b.triggerFitView){let M=T;!T&&I&&(M=z({...O,nodes:O?.nodes})),d({fitViewDone:M})}else d({});P?.length>0&&(L&&console.log("React Flow: trigger node changes",P),x?.(P))}},updateNodePositions:(h,b=!1)=>{const x=[],_=[];for(const[E,I]of h){const T=!!(I?.expandParent&&I?.parentId&&I?.position),O={id:E,type:"position",position:T?{x:Math.max(0,I.position.x),y:Math.max(0,I.position.y)}:I.position,dragging:b};T&&x.push({id:E,parentId:I.parentId,rect:{...I.internals.positionAbsolute,width:I.measured.width,height:I.measured.height}}),_.push(O)}if(x.length>0){const{nodeLookup:E,parentLookup:I,nodeOrigin:T}=p(),O=PN(x,E,I,T);_.push(...O)}p().triggerNodeChanges(_)},triggerNodeChanges:h=>{const{onNodesChange:b,setNodes:x,nodes:_,hasDefaultNodes:E,debug:I}=p();if(h?.length){if(E){const T=DN(h,_);x(T)}I&&console.log("React Flow: trigger node changes",h),b?.(h)}},triggerEdgeChanges:h=>{const{onEdgesChange:b,setEdges:x,edges:_,hasDefaultEdges:E,debug:I}=p();if(h?.length){if(E){const T=oL(h,_);x(T)}I&&console.log("React Flow: trigger edge changes",h),b?.(h)}},addSelectedNodes:h=>{const{multiSelectionActive:b,edgeLookup:x,nodeLookup:_,triggerNodeChanges:E,triggerEdgeChanges:I}=p();if(b){const T=h.map(O=>jc(O,!0));E(T);return}E(hd(_,new Set([...h]),!0)),I(hd(x))},addSelectedEdges:h=>{const{multiSelectionActive:b,edgeLookup:x,nodeLookup:_,triggerNodeChanges:E,triggerEdgeChanges:I}=p();if(b){const T=h.map(O=>jc(O,!0));I(T);return}I(hd(x,new Set([...h]))),E(hd(_,new Set,!0))},unselectNodesAndEdges:({nodes:h,edges:b}={})=>{const{edges:x,nodes:_,nodeLookup:E,triggerNodeChanges:I,triggerEdgeChanges:T}=p(),O=h||_,R=b||x,A=O.map(L=>{const z=E.get(L.id);return z&&(z.selected=!1),jc(L.id,!1)}),D=R.map(L=>jc(L.id,!1));I(A),T(D)},setMinZoom:h=>{const{panZoom:b,maxZoom:x}=p();b?.setScaleExtent([h,x]),d({minZoom:h})},setMaxZoom:h=>{const{panZoom:b,minZoom:x}=p();b?.setScaleExtent([x,h]),d({maxZoom:h})},setTranslateExtent:h=>{p().panZoom?.setTranslateExtent(h),d({translateExtent:h})},setPaneClickDistance:h=>{p().panZoom?.setClickDistance(h)},resetSelectedElements:()=>{const{edges:h,nodes:b,triggerNodeChanges:x,triggerEdgeChanges:_}=p(),E=b.reduce((T,O)=>O.selected?[...T,jc(O.id,!1)]:T,[]),I=h.reduce((T,O)=>O.selected?[...T,jc(O.id,!1)]:T,[]);x(E),_(I)},setNodeExtent:h=>{const{nodes:b,nodeLookup:x,parentLookup:_,nodeOrigin:E,elevateNodesOnSelect:I,nodeExtent:T}=p();h[0][0]===T[0][0]&&h[0][1]===T[0][1]&&h[1][0]===T[1][0]&&h[1][1]===T[1][1]||(i1(b,x,_,{nodeOrigin:E,nodeExtent:h,elevateNodesOnSelect:I,checkEquality:!1}),d({nodeExtent:h}))},panBy:h=>{const{transform:b,width:x,height:_,panZoom:E,translateExtent:I}=p();return mee({delta:h,panZoom:E,transform:b,translateExtent:I,width:x,height:_})},fitView:h=>{const{panZoom:b,width:x,height:_,minZoom:E,maxZoom:I,nodeLookup:T}=p();if(!b)return Promise.resolve(!1);const O=YE(T,h);return XE({nodes:O,width:x,height:_,panZoom:b,minZoom:E,maxZoom:I},h)},fitViewSync:h=>{const{panZoom:b,width:x,height:_,minZoom:E,maxZoom:I,nodeLookup:T}=p();if(!b)return!1;const O=YE(T,h);return XE({nodes:O,width:x,height:_,panZoom:b,minZoom:E,maxZoom:I},h),O.size>0},cancelConnection:()=>{d({connection:{...C2}})},updateConnection:h=>{d({connection:h})},reset:()=>d({...ej()})}),Object.is);function RL({initialNodes:t,initialEdges:e,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:s,fitView:o,nodeOrigin:l,nodeExtent:u,children:d}){const[p]=Q.useState(()=>Sne({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,nodeOrigin:l,nodeExtent:u}));return f.jsx(Uee,{value:p,children:f.jsx(pte,{children:d})})}function Ene({children:t,nodes:e,edges:n,defaultNodes:r,defaultEdges:i,width:s,height:o,fitView:l,nodeOrigin:u,nodeExtent:d}){return Q.useContext(sx)?f.jsx(f.Fragment,{children:t}):f.jsx(RL,{initialNodes:e,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:s,initialHeight:o,fitView:l,nodeOrigin:u,nodeExtent:d,children:t})}const Nne={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function kne({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s,edgeTypes:o,onNodeClick:l,onEdgeClick:u,onInit:d,onMove:p,onMoveStart:h,onMoveEnd:b,onConnect:x,onConnectStart:_,onConnectEnd:E,onClickConnectStart:I,onClickConnectEnd:T,onNodeMouseEnter:O,onNodeMouseMove:R,onNodeMouseLeave:A,onNodeContextMenu:D,onNodeDoubleClick:L,onNodeDragStart:z,onNodeDrag:P,onNodeDragStop:q,onNodesDelete:M,onEdgesDelete:F,onDelete:U,onSelectionChange:V,onSelectionDragStart:B,onSelectionDrag:te,onSelectionDragStop:Z,onSelectionContextMenu:le,onSelectionStart:se,onSelectionEnd:ne,onBeforeDelete:oe,connectionMode:X,connectionLineType:ue=Tl.Bezier,connectionLineStyle:de,connectionLineComponent:ye,connectionLineContainerStyle:we,deleteKeyCode:Ne="Backspace",selectionKeyCode:ze="Shift",selectionOnDrag:Re=!1,selectionMode:De=Bh.Full,panActivationKeyCode:Je="Space",multiSelectionKeyCode:Xe=Yv()?"Meta":"Control",zoomActivationKeyCode:Ue=Yv()?"Meta":"Control",snapToGrid:ct,snapGrid:_t,onlyRenderVisibleElements:Tt=!1,selectNodesOnDrag:Ut,nodesDraggable:nn,nodesConnectable:xe,nodesFocusable:ve,nodeOrigin:ke=iL,edgesFocusable:Ae,edgesReconnectable:Ve,elementsSelectable:rt=!0,defaultViewport:Me=rte,minZoom:ut=.5,maxZoom:Qt=2,translateExtent:Gt=$h,preventScrolling:hn=!0,nodeExtent:ur,defaultMarkerColor:Fn="#b1b1b7",zoomOnScroll:Hr=!0,zoomOnPinch:Oi=!0,panOnScroll:Tr=!1,panOnScrollSpeed:Jt=.5,panOnScrollMode:Qi=Gc.Free,zoomOnDoubleClick:Gi=!0,panOnDrag:Ji=!0,onPaneClick:uo,onPaneMouseEnter:la,onPaneMouseMove:ac,onPaneMouseLeave:Ds,onPaneScroll:H,onPaneContextMenu:pu,paneClickDistance:un=0,nodeClickDistance:hu=0,children:mu,onReconnect:gu,onReconnectStart:lc,onReconnectEnd:ca,onEdgeContextMenu:Zi,onEdgeDoubleClick:cc,onEdgeMouseEnter:ua,onEdgeMouseMove:_f,onEdgeMouseLeave:da,reconnectRadius:Ls=10,onNodesChange:Ha,onEdgesChange:Ms,noDragClassName:Sf="nodrag",noWheelClassName:Ef="nowheel",noPanClassName:yu="nopan",fitView:$s,fitViewOptions:vu,connectOnClick:bu,attributionPosition:Nf,proOptions:xu,defaultEdgeOptions:wu,elevateNodesOnSelect:_u,elevateEdgesOnSelect:uc,disableKeyboardA11y:Su=!1,autoPanOnConnect:kf,autoPanOnNodeDrag:dr,autoPanSpeed:If,connectionRadius:dc,isValidConnection:Eu,onError:Ka,style:Cf,id:fc,nodeDragThreshold:Qa,viewport:Yi,onViewportChange:Tf,width:mi,height:Of,colorMode:Rf="light",debug:qf,...Lo},Ga){const Ri=fc||"1",Ja=ate(Rf);return f.jsx("div",{"data-testid":"rf__wrapper",...Lo,style:{...Cf,...Nne},ref:Ga,className:Xr(["react-flow",i,Ja]),id:fc,children:f.jsxs(Ene,{nodes:t,edges:e,width:mi,height:Of,fitView:$s,nodeOrigin:ke,nodeExtent:ur,children:[f.jsx(_ne,{onInit:d,onNodeClick:l,onEdgeClick:u,onNodeMouseEnter:O,onNodeMouseMove:R,onNodeMouseLeave:A,onNodeContextMenu:D,onNodeDoubleClick:L,nodeTypes:s,edgeTypes:o,connectionLineType:ue,connectionLineStyle:de,connectionLineComponent:ye,connectionLineContainerStyle:we,selectionKeyCode:ze,selectionOnDrag:Re,selectionMode:De,deleteKeyCode:Ne,multiSelectionKeyCode:Xe,panActivationKeyCode:Je,zoomActivationKeyCode:Ue,onlyRenderVisibleElements:Tt,defaultViewport:Me,translateExtent:Gt,minZoom:ut,maxZoom:Qt,preventScrolling:hn,zoomOnScroll:Hr,zoomOnPinch:Oi,zoomOnDoubleClick:Gi,panOnScroll:Tr,panOnScrollSpeed:Jt,panOnScrollMode:Qi,panOnDrag:Ji,onPaneClick:uo,onPaneMouseEnter:la,onPaneMouseMove:ac,onPaneMouseLeave:Ds,onPaneScroll:H,onPaneContextMenu:pu,paneClickDistance:un,nodeClickDistance:hu,onSelectionContextMenu:le,onSelectionStart:se,onSelectionEnd:ne,onReconnect:gu,onReconnectStart:lc,onReconnectEnd:ca,onEdgeContextMenu:Zi,onEdgeDoubleClick:cc,onEdgeMouseEnter:ua,onEdgeMouseMove:_f,onEdgeMouseLeave:da,reconnectRadius:Ls,defaultMarkerColor:Fn,noDragClassName:Sf,noWheelClassName:Ef,noPanClassName:yu,rfId:Ri,disableKeyboardA11y:Su,nodeExtent:ur,viewport:Yi,onViewportChange:Tf}),f.jsx(ote,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:x,onConnectStart:_,onConnectEnd:E,onClickConnectStart:I,onClickConnectEnd:T,nodesDraggable:nn,nodesConnectable:xe,nodesFocusable:ve,edgesFocusable:Ae,edgesReconnectable:Ve,elementsSelectable:rt,elevateNodesOnSelect:_u,elevateEdgesOnSelect:uc,minZoom:ut,maxZoom:Qt,nodeExtent:ur,onNodesChange:Ha,onEdgesChange:Ms,snapToGrid:ct,snapGrid:_t,connectionMode:X,translateExtent:Gt,connectOnClick:bu,defaultEdgeOptions:wu,fitView:$s,fitViewOptions:vu,onNodesDelete:M,onEdgesDelete:F,onDelete:U,onNodeDragStart:z,onNodeDrag:P,onNodeDragStop:q,onSelectionDrag:te,onSelectionDragStart:B,onSelectionDragStop:Z,onMove:p,onMoveStart:h,onMoveEnd:b,noPanClassName:yu,nodeOrigin:ke,rfId:Ri,autoPanOnConnect:kf,autoPanOnNodeDrag:dr,autoPanSpeed:If,onError:Ka,connectionRadius:dc,isValidConnection:Eu,selectNodesOnDrag:Ut,nodeDragThreshold:Qa,onBeforeDelete:oe,paneClickDistance:un,debug:qf}),f.jsx(nte,{onSelectionChange:V}),mu,f.jsx(Zee,{proOptions:xu,position:Nf}),f.jsx(Gee,{rfId:Ri,disableKeyboardA11y:Su})]})})}var qL=aL(kne);const Ine=t=>t.domNode?.querySelector(".react-flow__edgelabel-renderer");function Cne({children:t}){const e=Cn(Ine);return e?fb.createPortal(t,e):null}function Tne(t){const[e,n]=Q.useState(t),r=Q.useCallback(i=>n(s=>DN(i,s)),[]);return[e,n,r]}function One(t){const[e,n]=Q.useState(t),r=Q.useCallback(i=>n(s=>oL(i,s)),[]);return[e,n,r]}function tj(t){return Cn(Q.useCallback(n=>n.nodeLookup.get(t),[t]),Fr)}function Rne({dimensions:t,lineWidth:e,variant:n,className:r}){return f.jsx("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:Xr(["react-flow__background-pattern",n,r])})}function qne({radius:t,className:e}){return f.jsx("circle",{cx:t,cy:t,r:t,className:Xr(["react-flow__background-pattern","dots",e])})}var Xo;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(Xo||(Xo={}));const jne={[Xo.Dots]:1,[Xo.Lines]:1,[Xo.Cross]:6},Ane=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function jL({id:t,variant:e=Xo.Dots,gap:n=20,size:r,lineWidth:i=1,offset:s=0,color:o,bgColor:l,style:u,className:d,patternClassName:p}){const h=Q.useRef(null),{transform:b,patternId:x}=Cn(Ane,Fr),_=r||jne[e],E=e===Xo.Dots,I=e===Xo.Cross,T=Array.isArray(n)?n:[n,n],O=[T[0]*b[2]||1,T[1]*b[2]||1],R=_*b[2],A=Array.isArray(s)?s:[s,s],D=I?[R,R]:O,L=[A[0]*b[2]||1+D[0]/2,A[1]*b[2]||1+D[1]/2],z=`${x}${t||""}`;return f.jsxs("svg",{className:Xr(["react-flow__background",d]),style:{...u,...ox,"--xy-background-color-props":l,"--xy-background-pattern-color-props":o},ref:h,"data-testid":"rf__background",children:[f.jsx("pattern",{id:z,x:b[0]%O[0],y:b[1]%O[1],width:O[0],height:O[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${L[0]},-${L[1]})`,children:E?f.jsx(qne,{radius:R/2,className:p}):f.jsx(Rne,{dimensions:D,lineWidth:i,variant:e,className:p})}),f.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${z})`})]})}jL.displayName="Background";const AL=Q.memo(jL);function Pne(){return f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:f.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function Fne(){return f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:f.jsx("path",{d:"M0 0h32v4.2H0z"})})}function Dne(){return f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:f.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function Lne(){return f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:f.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function Mne(){return f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:f.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function sy({children:t,className:e,...n}){return f.jsx("button",{type:"button",className:Xr(["react-flow__controls-button",e]),...n,children:t})}const $ne=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom});function PL({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:o,onFitView:l,onInteractiveChange:u,className:d,children:p,position:h="bottom-left",orientation:b="vertical","aria-label":x="React Flow controls"}){const _=Cr(),{isInteractive:E,minZoomReached:I,maxZoomReached:T}=Cn($ne,Fr),{zoomIn:O,zoomOut:R,fitView:A}=gf(),D=()=>{O(),s?.()},L=()=>{R(),o?.()},z=()=>{A(i),l?.()},P=()=>{_.setState({nodesDraggable:!E,nodesConnectable:!E,elementsSelectable:!E}),u?.(!E)},q=b==="horizontal"?"horizontal":"vertical";return f.jsxs(FN,{className:Xr(["react-flow__controls",q,d]),position:h,style:t,"data-testid":"rf__controls","aria-label":x,children:[e&&f.jsxs(f.Fragment,{children:[f.jsx(sy,{onClick:D,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:T,children:f.jsx(Pne,{})}),f.jsx(sy,{onClick:L,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:I,children:f.jsx(Fne,{})})]}),n&&f.jsx(sy,{className:"react-flow__controls-fitview",onClick:z,title:"fit view","aria-label":"fit view",children:f.jsx(Dne,{})}),r&&f.jsx(sy,{className:"react-flow__controls-interactive",onClick:P,title:"toggle interactivity","aria-label":"toggle interactivity",children:E?f.jsx(Mne,{}):f.jsx(Lne,{})}),p]})}PL.displayName="Controls";const FL=Q.memo(PL);function Bne({id:t,x:e,y:n,width:r,height:i,style:s,color:o,strokeColor:l,strokeWidth:u,className:d,borderRadius:p,shapeRendering:h,selected:b,onClick:x}){const{background:_,backgroundColor:E}=s||{},I=o||_||E;return f.jsx("rect",{className:Xr(["react-flow__minimap-node",{selected:b},d]),x:e,y:n,rx:p,ry:p,width:r,height:i,style:{fill:I,stroke:l,strokeWidth:u},shapeRendering:h,onClick:x?T=>x(T,t):void 0})}const zne=Q.memo(Bne),Wne=t=>t.nodes.map(e=>e.id),A0=t=>t instanceof Function?t:()=>t;function Une({nodeStrokeColor:t,nodeColor:e,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:s=zne,onClick:o}){const l=Cn(Wne,Fr),u=A0(e),d=A0(t),p=A0(n),h=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return f.jsx(f.Fragment,{children:l.map(b=>f.jsx(Hne,{id:b,nodeColorFunc:u,nodeStrokeColorFunc:d,nodeClassNameFunc:p,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:s,onClick:o,shapeRendering:h},b))})}function Vne({id:t,nodeColorFunc:e,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:s,shapeRendering:o,NodeComponent:l,onClick:u}){const{node:d,x:p,y:h,width:b,height:x}=Cn(_=>{const E=_.nodeLookup.get(t),{x:I,y:T}=E.internals.positionAbsolute,{width:O,height:R}=Va(E);return{node:E,x:I,y:T,width:O,height:R}},Fr);return!d||d.hidden||!D2(d)?null:f.jsx(l,{x:p,y:h,width:b,height:x,style:d.style,selected:!!d.selected,className:r(d),color:e(d),borderRadius:i,strokeColor:n(d),strokeWidth:s,shapeRendering:o,onClick:u,id:d.id})}const Hne=Q.memo(Vne);var Kne=Q.memo(Une);const Qne=200,Gne=150,Jne=t=>{const e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?P2(wm(t.nodeLookup),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height}},Zne="react-flow__minimap-desc";function DL({style:t,className:e,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:o,nodeComponent:l,bgColor:u,maskColor:d,maskStrokeColor:p,maskStrokeWidth:h,position:b="bottom-right",onClick:x,onNodeClick:_,pannable:E=!1,zoomable:I=!1,ariaLabel:T="React Flow mini map",inversePan:O,zoomStep:R=10,offsetScale:A=5}){const D=Cr(),L=Q.useRef(null),{boundingRect:z,viewBB:P,rfId:q,panZoom:M,translateExtent:F,flowWidth:U,flowHeight:V}=Cn(Jne,Fr),B=t?.width??Qne,te=t?.height??Gne,Z=z.width/B,le=z.height/te,se=Math.max(Z,le),ne=se*B,oe=se*te,X=A*se,ue=z.x-(ne-z.width)/2-X,de=z.y-(oe-z.height)/2-X,ye=ne+X*2,we=oe+X*2,Ne=`${Zne}-${q}`,ze=Q.useRef(0),Re=Q.useRef();ze.current=se,Q.useEffect(()=>{if(L.current&&M)return Re.current=See({domNode:L.current,panZoom:M,getTransform:()=>D.getState().transform,getViewScale:()=>ze.current}),()=>{Re.current?.destroy()}},[M]),Q.useEffect(()=>{Re.current?.update({translateExtent:F,width:U,height:V,inversePan:O,pannable:E,zoomStep:R,zoomable:I})},[E,I,O,R,F,U,V]);const De=x?Xe=>{const[Ue,ct]=Re.current?.pointer(Xe)||[0,0];x(Xe,{x:Ue,y:ct})}:void 0,Je=_?Q.useCallback((Xe,Ue)=>{const ct=D.getState().nodeLookup.get(Ue);_(Xe,ct)},[]):void 0;return f.jsx(FN,{position:b,style:{...t,"--xy-minimap-background-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-background-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-color-props":typeof p=="string"?p:void 0,"--xy-minimap-mask-stroke-width-props":typeof h=="number"?h*se:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof o=="string"?o:void 0},className:Xr(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:f.jsxs("svg",{width:B,height:te,viewBox:`${ue} ${de} ${ye} ${we}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":Ne,ref:L,onClick:De,children:[T&&f.jsx("title",{id:Ne,children:T}),f.jsx(Kne,{onClick:Je,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:o,nodeComponent:l}),f.jsx("path",{className:"react-flow__minimap-mask",d:`M${ue-X},${de-X}h${ye+X*2}v${we+X*2}h${-ye-X*2}z
        M${P.x},${P.y}h${P.width}v${P.height}h${-P.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}DL.displayName="MiniMap";const LL=Q.memo(DL);function Yne({nodeId:t,position:e,variant:n=rh.Handle,className:r,style:i={},children:s,color:o,minWidth:l=10,minHeight:u=10,maxWidth:d=Number.MAX_VALUE,maxHeight:p=Number.MAX_VALUE,keepAspectRatio:h=!1,shouldResize:b,onResizeStart:x,onResize:_,onResizeEnd:E}){const I=dL(),T=typeof t=="string"?t:I,O=Cr(),R=Q.useRef(null),A=n===rh.Line?"right":"bottom-right",D=e??A,L=Q.useRef(null);Q.useEffect(()=>{if(!(!R.current||!T))return L.current||(L.current=Lee({domNode:R.current,nodeId:T,getStoreItems:()=>{const{nodeLookup:M,transform:F,snapGrid:U,snapToGrid:V,nodeOrigin:B,domNode:te}=O.getState();return{nodeLookup:M,transform:F,snapGrid:U,snapToGrid:V,nodeOrigin:B,paneDomNode:te}},onChange:(M,F)=>{const{triggerNodeChanges:U,nodeLookup:V,parentLookup:B,nodeOrigin:te}=O.getState(),Z=[],le={x:M.x,y:M.y},se=V.get(T);if(se&&se.expandParent&&se.parentId){const ne=se.origin??te,oe=M.width??se.measured.width,X=M.height??se.measured.height,ue={id:se.id,parentId:se.parentId,rect:{width:oe,height:X,...L2({x:M.x??se.position.x,y:M.y??se.position.y},{width:oe,height:X},se.parentId,V,ne)}},de=PN([ue],V,B,te);Z.push(...de),le.x=M.x?Math.max(ne[0]*oe,M.x):void 0,le.y=M.y?Math.max(ne[1]*X,M.y):void 0}if(le.x!==void 0&&le.y!==void 0){const ne={id:T,type:"position",position:{...le}};Z.push(ne)}if(M.width!==void 0&&M.height!==void 0){const ne={id:T,type:"dimensions",resizing:!0,setAttributes:!0,dimensions:{width:M.width,height:M.height}};Z.push(ne)}for(const ne of F){const oe={...ne,type:"position"};Z.push(oe)}U(Z)},onEnd:()=>{const M={id:T,type:"dimensions",resizing:!1};O.getState().triggerNodeChanges([M])}})),L.current.update({controlPosition:D,boundaries:{minWidth:l,minHeight:u,maxWidth:d,maxHeight:p},keepAspectRatio:h,onResizeStart:x,onResize:_,onResizeEnd:E,shouldResize:b}),()=>{L.current?.destroy()}},[D,l,u,d,p,h,x,_,E,b]);const z=D.split("-"),P=n===rh.Line?"borderColor":"backgroundColor",q=o?{...i,[P]:o}:i;return f.jsx("div",{className:Xr(["react-flow__resize-control","nodrag",...z,n,r]),ref:R,style:q,children:s})}Q.memo(Yne);const Hh="icon-[gala--clock]",Xne=async({tx:t,userId:e,currentCycle:n})=>{const r=await t.selectFrom("Construction as c").select(["c.id","c.cycle","c.to","c.blueprintId","c.x","c.y"]).where("userId","=",e).where("c.plan","=",!1).execute();for await(const{id:i,blueprintId:s,cycle:o,to:l,x:u,y:d}of r){if(n>l){const p=await t.insertInto("Building").values({id:Rn(),blueprintId:s,userId:e,x:u,y:d}).returning("id").executeTakeFirstOrThrow(),h=await t.selectFrom("Inventory as i").select(["i.amount","i.limit","i.resourceId"]).where("i.id","in",t.selectFrom("Blueprint_Inventory as bi").select("bi.inventoryId").where("bi.blueprintId","=",s)).execute();for await(const{amount:b,limit:x,resourceId:_}of h)await t.insertInto("Building_Inventory").values({id:Rn(),buildingId:p.id,inventoryId:(await t.insertInto("Inventory").values({id:Rn(),amount:b,limit:x,resourceId:_}).returning("id").executeTakeFirstOrThrow()).id}).execute();await t.deleteFrom("Construction").where("id","=",i).execute();continue}await t.updateTable("Construction").set("cycle",o+1).where("id","=",i).execute()}},nj=async({tx:t,userId:e,buildingId:n,blueprintProductionId:r})=>{const i=await t.selectFrom("Blueprint_Production as bp").select(["bp.cycles"]).where("bp.id","=",r).executeTakeFirstOrThrow(),{count:s}=await t.selectFrom("Cycle as c").select(l=>l.fn.count("c.id").as("count")).where("c.userId","=",e).executeTakeFirstOrThrow(),o=await t.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(["bpr.resourceId","bpr.amount","bpr.passive"]).where("bpr.blueprintProductionId","=",r).execute();for await(const{resourceId:l,amount:u,passive:d}of o){const p=await t.selectFrom("Inventory as i").innerJoin("User_Inventory as ui","ui.inventoryId","i.id").select(["i.id","i.amount"]).where("ui.userId","=",e).where("i.resourceId","=",l).where("i.amount",">=",u).executeTakeFirstOrThrow();d||await t.updateTable("Inventory").set({amount:p.amount-u}).where("id","=",p.id).execute()}await t.insertInto("Production").values({id:Rn(),buildingId:n,blueprintProductionId:r,userId:e,cycle:0,from:s,to:s+i.cycles}).execute()},ere=async({tx:t,userId:e,currentCycle:n})=>{const r=await t.selectFrom("Production as p").innerJoin("Blueprint_Production as bp","bp.id","p.blueprintProductionId").innerJoin("Resource as r","r.id","bp.resourceId").select(["p.id","p.buildingId","p.cycle","p.to","bp.resourceId","r.name","bp.amount"]).where("userId","=",e).execute();for await(const{id:o,buildingId:l,resourceId:u,cycle:d,to:p,amount:h}of r){if(n>p){const b=await t.selectFrom("Inventory as i").select(["i.id","i.amount","i.limit"]).where("i.id","in",t.selectFrom("Building_Inventory as bi").select("bi.inventoryId").where("bi.buildingId","=",l)).where("i.resourceId","=",u).executeTakeFirst();if(!b||b.limit>0&&b.amount+h>b.limit)continue;await t.updateTable("Inventory").set({amount:b.amount+h}).where("id","=",b.id).execute(),await t.deleteFrom("Production as p").where("p.id","=",o).execute();continue}await t.updateTable("Production").set("cycle",d+1).where("id","=",o).execute()}const i=await t.selectFrom("Building as b").select(["b.id as buildingId","b.productionId"]).where("b.userId","=",e).where("b.productionId","is not",null).execute();for await(const{buildingId:o,productionId:l}of i)try{const{count:u}=await t.selectFrom("Production as p").where("p.buildingId","=",o).select(d=>d.fn.count("p.id").as("count")).executeTakeFirstOrThrow();if(u>0)continue;await nj({tx:t,blueprintProductionId:l,buildingId:o,userId:e}),await t.updateTable("Building").set({productionId:null}).where("id","=",o).execute()}catch{}const s=await t.selectFrom("Building as b").select(["b.id as buildingId","b.recurringProductionId"]).where("b.userId","=",e).where("b.recurringProductionId","is not",null).execute();for await(const{buildingId:o,recurringProductionId:l}of s)try{const{count:u}=await t.selectFrom("Production as p").where("p.buildingId","=",o).select(d=>d.fn.count("p.id").as("count")).executeTakeFirstOrThrow();if(u>0)continue;await nj({tx:t,blueprintProductionId:l,buildingId:o,userId:e})}catch{}},rj=async({tx:t,userId:e})=>{const n=await t.selectFrom("Route as r").select(["r.id","r.toId","r.fromId"]).where("r.userId","=",e).execute();for await(const{id:r,fromId:i,toId:s}of n){const o=await t.selectFrom("Route_Resource as rr").select(["rr.amount","rr.resourceId"]).where("rr.routeId","=",r).execute();for await(const{amount:l,resourceId:u}of o){const d=await t.selectFrom("Inventory as i").select(["i.id","i.amount","i.limit"]).where("i.id","in",t.selectFrom("Building_Inventory as bi").select("bi.inventoryId").where("bi.buildingId","=",i)).where("i.resourceId","=",u).executeTakeFirst(),p=await t.selectFrom("Inventory as i").select(["i.id","i.amount","i.limit"]).where("i.id","in",t.selectFrom("Building_Inventory as bi").select("bi.inventoryId").where("bi.buildingId","=",s)).where("i.resourceId","=",u).executeTakeFirst();if(!d||!p){console.log("Source or target is not compatible");continue}const h=Math.min(d.amount,l??d.amount);if(p.amount+h>p.limit){console.log("Target is full");continue}await t.updateTable("Inventory").set({amount:d.amount-h}).where("id","=",d.id).execute(),await t.updateTable("Inventory").set({amount:p.amount+h}).where("id","=",p.id).execute()}}},tre=async({tx:t,userId:e})=>{await t.insertInto("Cycle").values({id:Rn(),stamp:dn.now().toUTC().toSQLTime(),userId:e}).execute();const n=(await t.selectFrom("Cycle as c").select(r=>r.fn.count("c.id").as("count")).where("c.userId","=",e).executeTakeFirstOrThrow()).count;await Xne({tx:t,userId:e,currentCycle:n}),await rj({tx:t,userId:e}),await ere({tx:t,userId:e,currentCycle:n}),await rj({tx:t,userId:e})},ML=({userId:t,cycle:e,...n})=>{const r=Xn([["Cycle"],["GameMap"],["Resource_Queue"],["Building_Queue"],["Building"],["User_Inventory"],["Inventory"],["Building_Base_Production"]]),i=Xt({mutationKey:["useCycleMutation"],async mutationFn({userId:s}){return Ot.transaction().execute(async o=>tre({userId:s,tx:o}))},async onSuccess(){await r()}});return f.jsxs(An,{iconEnabled:Hh,iconDisabled:Hh,onClick:()=>{i.mutate({userId:t})},loading:i.isPending,...n,children:[f.jsx(ee,{css:{base:["font-bold"]},label:"New cycle (label)"}),f.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[f.jsx("div",{className:"font-light text-sm",children:_n({number:e})}),f.jsx(on,{icon:"icon-[solar--arrow-right-linear]"}),f.jsx("div",{className:"font-bold",children:_n({number:e+1})})]})]})},nre=({fromX:t,fromY:e,toX:n,toY:r,connectionLineStyle:i})=>{const[s]=RN({sourceX:t,sourceY:e,targetX:n,targetY:r});return f.jsx("g",{children:f.jsx("path",{style:i,fill:"none",d:s})})};function ij(t,e){const n={...t.internals.positionAbsolute,...t},r=Math.round(n.x),i=Math.round(n.y),s=Math.round(e.x),o=Math.round(e.y);return s<=r+1?Lt.Left:s>=r+n.measured.width-1?Lt.Right:o<=i+1?Lt.Top:o>=n.y+n.measured.height-1?Lt.Bottom:Lt.Top}function sj(t,e){const{width:n,height:r}=t.measured,i=t.internals.positionAbsolute,s=e.internals.positionAbsolute,o=n/2,l=r/2,u=i.x+o,d=i.y+l,p=s.x+e.measured.width/2,h=s.y+e.measured.height/2,b=(p-u)/(2*o)-(h-d)/(2*l),x=(p-u)/(2*o)+(h-d)/(2*l),_=1/(Math.abs(b)+Math.abs(x)||1),E=_*b,I=_*x,T=o*(E+I)+u,O=l*(-E+I)+d;return{x:T,y:O}}function rre(t,e){const n=sj(t,e),r=sj(e,t);return{sx:n.x,sy:n.y,tx:r.x,ty:r.y,sourcePos:ij(t,n),targetPos:ij(e,r)}}const ire=({id:t,source:e,target:n,markerEnd:r,style:i})=>{const s=tj(e),o=tj(n);if(!s||!o)return null;const{sx:l,sy:u,tx:d,ty:p}=rre(s,o),[h]=MN({sourceX:l,sourceY:u,targetX:d,targetY:p});return f.jsx("path",{id:t,className:"react-flow__edge-path",d:h,markerEnd:r,style:i})},sre=({id:t,data:e})=>{const{locale:n}=cn({from:"/$locale"});return f.jsxs("div",{className:"flex flex-col gap-2 w-full items-center justify-between",children:[f.jsxs("div",{className:"flex flex-row gap-2 items-center justify-between w-full",children:[f.jsx(Kt,{icon:nc,to:"/$locale/apps/derivean/map/building/$id/view",params:{locale:n,id:t},css:{base:["font-bold"]},children:e.name}),e.productionName?f.jsxs("div",{className:"flex flex-row gap-2 items-center text-xs text-slate-400",children:[f.jsx(on,{icon:Un,variant:{size:"xs"}})," ",f.jsx("div",{children:e.productionName})]}):e.recurringProductionName?f.jsxs("div",{className:"flex flex-row gap-2 items-center text-xs text-slate-400",children:[f.jsx(on,{icon:"icon-[oui--refresh]",variant:{size:"xs"}}),f.jsx("div",{children:e.recurringProductionName})]}):null]}),e.production?f.jsx(ec,{value:100*e.production.cycle/(e.production.to-e.production.from)}):null,f.jsx(sa,{className:"hidden",position:Lt.Right,type:"source",isConnectable:!1}),f.jsx(sa,{className:"hidden",position:Lt.Left,type:"target",isConnectable:!1})]})},ore=({id:t,data:e})=>{const n=CL(),r=n.inProgress&&n.fromNode.id!==t;return f.jsxs("div",{className:"flex flex-row gap-2 w-full",children:[f.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[f.jsx(on,{icon:"icon-[gis--route-end]",css:{base:["text-slate-500"]}}),f.jsx("div",{className:"font-bold",children:e.name})]}),f.jsxs("div",{className:"w-full h-full absolute top-0 left-0",children:[!n.inProgress&&f.jsx(sa,{className:"absolute top-0 left-0 transform-none border-none opacity-0 w-full h-full",position:Lt.Right,type:"source"}),(!n.inProgress||r)&&f.jsx(sa,{className:"absolute top-0 left-0 transform-none border-none opacity-0 w-full h-full",position:Lt.Left,type:"target",isConnectableStart:!1})]})]})},are=({data:t})=>{const e=Xn([["GameMap"]]),n=Xt({async mutationFn({constructionId:r}){return Ot.transaction().execute(i=>i.updateTable("Construction").set({plan:!1}).where("id","=",r).execute())},async onSuccess(){await e()}});return f.jsxs("div",{className:"flex flex-row gap-2 items-center justify-between w-full",children:[f.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[f.jsx(on,{icon:"icon-[carbon--floorplan]",css:{base:["text-slate-500"]}}),f.jsx("div",{className:"font-bold",children:t.name})]}),f.jsx(An,{iconEnabled:AE,iconDisabled:AE,loading:n.isPending,disabled:!t.valid,onClick:()=>{n.mutate({constructionId:t.id})}})]})},eb="icon-[emojione-monotone--construction]",lre=({data:t})=>f.jsxs("div",{className:"flex flex-col gap-2 w-full",children:[f.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[f.jsx(on,{icon:eb,css:{base:["text-slate-500"]}}),f.jsx("div",{className:"font-bold",children:t.name})]}),f.jsx(ec,{value:100*t.cycle/(t.to-t.from)})]}),Tn="icon-[solar--home-outline]",Fy=256,P0=Fy/4,F0=["bg-white","border-[4px]","border-slate-300","shadow-slate-200"],cre={stroke:"#b1b1b7"},ure={construction:are,queue:lre,building:sre,"building-route":ore},dre={route:ire},fre=({userId:t,cycle:e,construction:n,queue:r,building:i,route:s,zoomToId:o,routing:l})=>{const u=Xn([["GameMap"]]),{locale:d}=cn({from:"/$locale"}),p=Q.useMemo(()=>[...n.map(q=>({id:q.id,data:q,position:{x:q.x,y:q.y},type:"construction",width:Fy,height:P0,className:Yn(F0,["z-10",q.valid?["border-green-500"]:["border-red-500"]])})),...r.map(q=>({id:q.id,data:q,position:{x:q.x,y:q.y},type:"queue",width:Fy,height:P0,className:Yn(F0,["nodrag"])})),...i.map(q=>({id:q.id,data:q,position:{x:q.x,y:q.y},type:l?"building-route":"building",width:Fy,height:P0,className:Yn(F0,["nodrag"])}))],[n,r,i,l]),h=Q.useMemo(()=>[...s.map(q=>({id:q.id,source:q.fromId,target:q.toId,type:"route",animated:!1,markerEnd:{type:zh.ArrowClosed,color:"#b1b1b7"}}))],[s]),[b,x]=Tne(p),[_,E]=One(h),{updateNode:I,getIntersectingNodes:T,fitView:O}=gf();Q.useEffect(()=>{x(p)},[p]),Q.useEffect(()=>{E(h)},[h]),Q.useEffect(()=>{o&&setTimeout(()=>{O({nodes:[{id:o}],duration:750,minZoom:2,maxZoom:2})},250)},[O,o]);const R=Xt({mutationKey:["Construction","position"],async mutationFn({constructionId:q,x:M,y:F,valid:U}){return Ot.transaction().execute(async V=>(await V.selectFrom("Construction as c").select(["c.id"]).where("c.plan","=",!0).where("c.id","=",q).executeTakeFirstOrThrow(()=>new Error("Construction not found or not planned.")),V.updateTable("Construction").set({x:M,y:F,valid:U}).where("id","=",q).execute()))},async onSuccess(){await u()}}),A=Q.useCallback(q=>{x(M=>DN(q,M))},[x]),D=Q.useCallback((q,M)=>{const F=T(M).length>0;I(M.id,{...M,data:{...M.data,valid:!F},className:Yn([M.className,F?["border-red-500"]:["border-green-500"]])})},[T,I]),L=Q.useCallback((q,M)=>{if(M.type==="construction"){const F=T(M).length>0;R.mutate({constructionId:M.id,x:M.position.x,y:M.position.y,valid:!F})}},[T,R]),z=Xt({async mutationFn({fromId:q,toId:M}){return Ot.transaction().execute(async F=>F.insertInto("Route").values({id:Rn(),fromId:q,toId:M,userId:t}).execute())},async onSuccess(){await u()}}),P=Q.useCallback(q=>E(M=>(setTimeout(()=>{z.mutate({fromId:q.source,toId:q.target})},0),W2(q,M))),[E]);return f.jsx(f.Fragment,{children:f.jsxs("div",{className:"flex flex-row",children:[f.jsxs(qL,{nodes:b,edges:_,onNodesChange:A,onNodeDrag:D,onNodeDragStop:L,onConnect:P,className:"flex-grow h-screen",fitView:!0,snapToGrid:!0,snapGrid:[32,32],elementsSelectable:!1,nodeTypes:ure,edgeTypes:dre,connectionLineComponent:nre,connectionLineStyle:cre,children:[f.jsx(ML,{userId:t,cycle:e,css:{base:["react-flow__panel","absolute","top-1","right-1"]}}),f.jsx(FL,{orientation:"horizontal",showInteractive:!1,showZoom:!0}),f.jsx(LL,{zoomable:!0,draggable:!0,pannable:!0}),f.jsx(AL,{variant:Xo.Dots,gap:32,size:1}),f.jsxs("div",{className:"react-flow__panel flex flex-row p-2 border bg-white border-slate-300 shadow-sm",children:[f.jsx(Kt,{icon:so,to:"/$locale/apps/derivean/game",params:{locale:d}}),f.jsx(Kt,{icon:Tn,to:"/$locale/apps/derivean/map/construction",params:{locale:d}}),f.jsx(Kt,{icon:ki,to:"/$locale/apps/derivean/map/inventory",params:{locale:d}}),f.jsx(Kt,{icon:"icon-[gis--route-end]",to:"/$locale/apps/derivean/map",params:{locale:d},search:{routing:!l},css:{base:l?["text-green-600"]:void 0}})]})]}),f.jsx(lo,{})]})})},pre=({cycle:t,userId:e,construction:n,building:r,queue:i,route:s,zoomToId:o,routing:l})=>f.jsx(RL,{children:f.jsx(fre,{userId:e,cycle:t,construction:n,queue:i,building:r,route:s,zoomToId:o,routing:l})}),a1=Wt("/$locale/apps/derivean/map")({validateSearch:er(W.object({zoomToId:W.string().optional(),routing:W.boolean().optional()})),async beforeLoad({context:t,params:{locale:e}}){return{...t,async session(){try{return ym.parse(pf.get("session"))}catch{throw Gh({to:"/$locale/apps/derivean/public/login",params:{locale:e}})}}}},async loader({context:{queryClient:t,kysely:e,session:n}}){const r=await n();return{user:r,construction:await t.ensureQueryData({queryKey:["GameMap","construction",r.id],async queryFn(){return e.transaction().execute(i=>$i({select:i.selectFrom("Construction as c").innerJoin("Blueprint as bl","bl.id","c.blueprintId").select(["c.id","c.blueprintId","bl.name","c.x","c.y","c.valid"]).where("c.plan","=",!0).where("c.userId","=",r.id),output:W.object({id:W.string().min(1),blueprintId:W.string().min(1),name:W.string().min(1),x:W.number(),y:W.number(),valid:Ba()})}))}}),queue:await t.ensureQueryData({queryKey:["GameMap","queue",r.id],async queryFn(){return e.transaction().execute(i=>$i({select:i.selectFrom("Construction as c").innerJoin("Blueprint as bl","bl.id","c.blueprintId").select(["c.id","c.blueprintId","bl.name","c.x","c.y","c.valid","c.from","c.to","c.cycle"]).where("c.plan","=",!1).where("c.userId","=",r.id),output:W.object({id:W.string().min(1),blueprintId:W.string().min(1),name:W.string().min(1),x:W.number(),y:W.number(),from:W.number().int().nonnegative(),to:W.number().int().nonnegative(),cycle:W.number().int().nonnegative(),valid:Ba()})}))}}),building:await t.ensureQueryData({queryKey:["GameMap","building",r.id],async queryFn(){return e.transaction().execute(i=>$i({select:i.selectFrom("Building as bg").innerJoin("Blueprint as bl","bl.id","bg.blueprintId").select(["bg.id","bg.blueprintId","bg.productionId","bg.recurringProductionId",s=>s.selectFrom("Blueprint_Production as bp").innerJoin("Resource as r","r.id","bp.resourceId").whereRef("bp.id","=","bg.productionId").select("r.name").as("productionName"),s=>s.selectFrom("Blueprint_Production as bp").innerJoin("Resource as r","r.id","bp.resourceId").whereRef("bp.id","=","bg.recurringProductionId").select("r.name").as("recurringProductionName"),s=>s.selectFrom("Production as p").innerJoin("Blueprint_Production as bp","bp.id","p.blueprintProductionId").innerJoin("Resource as r","r.id","bp.resourceId").select(o=>SF.jsonObject({id:o.ref("p.id"),name:o.ref("r.name"),cycle:o.ref("p.cycle"),from:o.ref("p.from"),to:o.ref("p.to")}).as("production")).whereRef("p.buildingId","=","bg.id").as("production"),"bl.name","bg.x","bg.y"]).where("bg.userId","=",r.id),output:W.object({id:W.string().min(1),blueprintId:W.string().min(1),name:W.string().min(1),productionId:W.string().nullish(),recurringProductionId:W.string().nullish(),productionName:W.string().nullish(),recurringProductionName:W.string().nullish(),production:S9(W.object({id:W.string().min(1),name:W.string().min(1),cycle:W.number().int().nonnegative(),from:W.number().int().nonnegative(),to:W.number().int().nonnegative()})).nullish(),x:W.number(),y:W.number()})}))}}),route:await t.ensureQueryData({queryKey:["GameMap","route",r.id],async queryFn(){return e.transaction().execute(i=>$i({select:i.selectFrom("Route as r").innerJoin("Building as bf","bf.id","r.fromId").innerJoin("Blueprint as blf","blf.id","bf.blueprintId").innerJoin("Building as bt","bt.id","r.toId").innerJoin("Blueprint as blt","blt.id","bt.blueprintId").select(["r.id","r.fromId","r.toId","blf.name as fromName","blt.name as toName"]).where("r.userId","=",r.id),output:W.object({id:W.string().min(1),fromId:W.string().min(1),toId:W.string().min(1),fromName:W.string().min(1),toName:W.string().min(1)})}))}}),cycle:await t.ensureQueryData({queryKey:["GameMap","Cycle",r.id],async queryFn(){return e.transaction().execute(async i=>(await i.selectFrom("Cycle as c").select(s=>s.fn.count("c.id").as("count")).where("c.userId","=",r.id).executeTakeFirstOrThrow()).count)}})}},component(){const{user:t,construction:e,queue:n,building:r,route:i,cycle:s}=a1.useLoaderData(),{zoomToId:o,routing:l}=a1.useSearch();return f.jsx(pre,{userId:t.id,cycle:s,construction:e,queue:n,building:r,route:i,zoomToId:o,routing:l})}}),hre=t=>{const{locale:e}=cn({from:"/$locale"});return f.jsxs(Xl,{...t,children:[f.jsx($n,{icon:"icon-[et--map]",to:"/$locale/apps/derivean/map",params:{locale:e},children:f.jsx(ee,{label:"Map (menu)"})}),f.jsx($n,{icon:Tn,to:"/$locale/apps/derivean/game/blueprint/list",params:{locale:e},children:f.jsx(ee,{label:"Blueprint list (menu)"})}),f.jsx($n,{icon:ki,to:"/$locale/apps/derivean/game/inventory",params:{locale:e},children:f.jsx(ee,{label:"Inventory (menu)"})})]})},mre=Wt("/$locale/apps/derivean/game")({async beforeLoad({context:t,params:{locale:e}}){return{...t,async session(){try{return ym.parse(pf.get("session"))}catch{throw Gh({to:"/$locale/apps/derivean/public/login",params:{locale:e}})}}}},async loader({context:{queryClient:t,kysely:e,session:n}}){const r=await n();return{session:r,inventory:await t.ensureQueryData({queryKey:["User_Inventory"],async queryFn(){return e.transaction().execute(async i=>i.selectFrom("Inventory as i").innerJoin("User_Inventory as ui","ui.inventoryId","i.id").select(["i.id","i.amount","i.limit","i.resourceId"]).where("ui.userId","=",r.id).execute())}}),cycle:await t.ensureQueryData({queryKey:["Cycle"],async queryFn(){return e.transaction().execute(async i=>(await i.selectFrom("Cycle as c").select(s=>s.fn.count("c.id").as("count")).where("c.userId","=",r.id).executeTakeFirstOrThrow()).count)}})}},component(){const{locale:t}=cn({from:"/$locale"}),{session:e,cycle:n}=Ps({from:"/$locale/apps/derivean/game"}),r=EB({filters:{status:"pending",mutationKey:["useCycleMutation"]},select(i){return i.state.status}});return f.jsx(WD,{logo:f.jsx(Kt,{to:"/$locale/apps/derivean/game",params:{locale:t},children:f.jsx(JD,{})}),menu:f.jsxs("div",{className:"flex flex-row items-center gap-4",children:[f.jsx(hre,{}),f.jsx(ML,{cycle:n,userId:e.id})]}),actions:f.jsxs(f.Fragment,{children:[e.name,f.jsx(Kt,{icon:"icon-[clarity--crown-line]",to:"/$locale/apps/derivean/root",params:{locale:t}}),f.jsx(Kt,{icon:yN,to:"/$locale/apps/derivean/public/logout",params:{locale:t},preload:!1})]}),css:{base:r.length?["select-none","pointer-events-none","opacity-50"]:void 0},children:f.jsx(lo,{})})}});var Dy={exports:{}},gre=Dy.exports,oj;function yre(){return oj||(oj=1,function(t,e){(function(n,r){r()})(gre,function(){function n(d,p){return typeof p>"u"?p={autoBom:!1}:typeof p!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),p={autoBom:!p}),p.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function r(d,p,h){var b=new XMLHttpRequest;b.open("GET",d),b.responseType="blob",b.onload=function(){u(b.response,p,h)},b.onerror=function(){console.error("could not download file")},b.send()}function i(d){var p=new XMLHttpRequest;p.open("HEAD",d,!1);try{p.send()}catch{}return 200<=p.status&&299>=p.status}function s(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var p=document.createEvent("MouseEvents");p.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(p)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Dc=="object"&&Dc.global===Dc?Dc:void 0,l=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!l?function(d,p,h){var b=o.URL||o.webkitURL,x=document.createElement("a");p=p||d.name||"download",x.download=p,x.rel="noopener",typeof d=="string"?(x.href=d,x.origin===location.origin?s(x):i(x.href)?r(d,p,h):s(x,x.target="_blank")):(x.href=b.createObjectURL(d),setTimeout(function(){b.revokeObjectURL(x.href)},4e4),setTimeout(function(){s(x)},0))}:"msSaveOrOpenBlob"in navigator?function(d,p,h){if(p=p||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(n(d,h),p);else if(i(d))r(d,p,h);else{var b=document.createElement("a");b.href=d,b.target="_blank",setTimeout(function(){s(b)})}}:function(d,p,h,b){if(b=b||open("","_blank"),b&&(b.document.title=b.document.body.innerText="downloading..."),typeof d=="string")return r(d,p,h);var x=d.type==="application/octet-stream",_=/constructor/i.test(o.HTMLElement)||o.safari,E=/CriOS\/[\d]+/.test(navigator.userAgent);if((E||x&&_||l)&&typeof FileReader<"u"){var I=new FileReader;I.onloadend=function(){var R=I.result;R=E?R:R.replace(/^data:[^;]*;/,"data:attachment/file;"),b?b.location.href=R:location=R,b=null},I.readAsDataURL(d)}else{var T=o.URL||o.webkitURL,O=T.createObjectURL(d);b?b.location=O:location.href=O,b=null,setTimeout(function(){T.revokeObjectURL(O)},4e4)}});o.saveAs=u.saveAs=u,t.exports=u})}(Dy)),Dy.exports}var vre=yre();const bre=ao(vre),D0=["Tag","Resource","Resource_Tag","Blueprint","Inventory","Blueprint_Inventory","Blueprint_Dependency","Blueprint_Conflict","Blueprint_Requirement","Blueprint_Production","Blueprint_Production_Requirement","Blueprint_Production_Dependency","Blueprint_Production_Resource","Default_Inventory"],xre=Wt("/$locale/apps/derivean/root/")({component(){const t=Xt({mutationKey:["export"],async mutationFn(){return In.promise((async()=>{const e=[];await Ot.transaction().execute(async n=>{for await(const r of D0)e.push({source:r,entities:await n.selectFrom(r).selectAll().execute()})}),bre.saveAs(new Blob([JSON.stringify(e)],{type:"application/json;charset=utf-8"}),"export.json")})(),xr("Export game files"))}});return f.jsxs("div",{className:"flex flex-col gap-4 w-2/3 mx-auto",children:[f.jsx(kG,{onDrop:async e=>{const[n]=e;if(!n)return;const r=JSON.parse(await n.text());await Pr`PRAGMA foreign_keys = OFF`.execute(Ot),await In.promise(Ot.transaction().execute(async i=>{for await(const{source:s}of r){const o=D0.find(l=>l===s);if(!o)throw new Error(`Unknown source [${s}]`);await i.deleteFrom(o).execute()}for await(const{source:s,entities:o}of r){const l=D0.find(u=>u===s);if(!l)throw new Error(`Unknown source [${s}]`);for await(const u of Object.values(o))await i.insertInto(l).values(u).execute()}}),xr("Import game files")),await Pr`PRAGMA foreign_keys = ON`.execute(Ot)}}),f.jsx("div",{className:"flex items-center justify-center mt-10 gap-4",children:f.jsx(An,{iconEnabled:wN,loading:t.isPending,onClick:()=>t.mutate(),variant:{variant:"subtle"},children:f.jsx(ee,{label:"Export game files (label)"})})}),f.jsx("h2",{children:"TODO"}),f.jsxs("ul",{className:"flex flex-col gap-2",children:[f.jsx("li",{children:"Add notification center like inventory is full, production is full and so on."}),f.jsx("li",{children:'Add exclusive to (building "exclusiveToId" cannot be built when target exists); Ok, exclusive to will be m:n.'}),f.jsx("li",{children:'Upgrades: Put everything into the building, drive upgrades by passive "Research" points'}),f.jsx("li",{children:"Bundle default gameplay as exported json (put into public); add button to root to load default/selected gameplay; idea is a few buttons: Settler like, Fantasy, AoE and so on."}),f.jsx("li",{children:"Define game ending rules: amount of resources in (individual resourece per required cycle), required building in a cycle. When a player fail, game end with the ability to reset. Each game rule may have an ending message to show."}),f.jsx("li",{children:"Define winning rules: amount of resources / building built in specific cycle. When rules are not met, it's like a fail."}),f.jsx("li",{children:"Idea: Blueprint should have display list (like present resource in inventory), also production should have display list (like present resource in inventory)."}),f.jsx("li",{children:"Add something like world available resources + the ability to drain and add resources to the world. Something like Wolrd_Inventory where 0 means unlimited resources."}),f.jsx("li",{children:"World renewal resources: a list of resources with cycles and amount when they got renewed (world_renewal_queue)."}),f.jsx("li",{children:"Defines seasons: list of cyclic seasons with their length; resource production may be bound to specific season(s)."}),f.jsx("li",{children:"Add maintenance cost for a building: when a cycle ends, cost is deducted from the inventory. If there is not enough resources, building will be marked as offline (closed for production)."}),f.jsx("li",{children:"Dispaly resources per season (some resources will be available only in specific season)"}),f.jsx("li",{children:"Add resource probability drop: some resources may have not be produces (like a crop). This should be thinked out."}),f.jsx("li",{children:'Production line should have requirements, but also something like "display requirements" required to even show the production line. Same for buildings.'})]})]})}}),wre=Wt("/$locale/apps/derivean/map/")({}),_re=Wt("/$locale/apps/derivean/game/")({component(){const{tva:t}=ir({from:"__root__"}),e=t().slots;return f.jsx("div",{className:e.base(),children:f.jsx("div",{children:"management here"})})}});var L0,aj;function $N(){if(aj)return L0;aj=1;var t="\0",e="\0",n="\x01";class r{_isDirected=!0;_isMultigraph=!1;_isCompound=!1;_label;_defaultNodeLabelFn=()=>{};_defaultEdgeLabelFn=()=>{};_nodes={};_in={};_preds={};_out={};_sucs={};_edgeObjs={};_edgeLabels={};_nodeCount=0;_edgeCount=0;_parent;_children;constructor(p){p&&(this._isDirected=Object.hasOwn(p,"directed")?p.directed:!0,this._isMultigraph=Object.hasOwn(p,"multigraph")?p.multigraph:!1,this._isCompound=Object.hasOwn(p,"compound")?p.compound:!1),this._isCompound&&(this._parent={},this._children={},this._children[e]={})}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(p){return this._label=p,this}graph(){return this._label}setDefaultNodeLabel(p){return this._defaultNodeLabelFn=p,typeof p!="function"&&(this._defaultNodeLabelFn=()=>p),this}nodeCount(){return this._nodeCount}nodes(){return Object.keys(this._nodes)}sources(){var p=this;return this.nodes().filter(h=>Object.keys(p._in[h]).length===0)}sinks(){var p=this;return this.nodes().filter(h=>Object.keys(p._out[h]).length===0)}setNodes(p,h){var b=arguments,x=this;return p.forEach(function(_){b.length>1?x.setNode(_,h):x.setNode(_)}),this}setNode(p,h){return Object.hasOwn(this._nodes,p)?(arguments.length>1&&(this._nodes[p]=h),this):(this._nodes[p]=arguments.length>1?h:this._defaultNodeLabelFn(p),this._isCompound&&(this._parent[p]=e,this._children[p]={},this._children[e][p]=!0),this._in[p]={},this._preds[p]={},this._out[p]={},this._sucs[p]={},++this._nodeCount,this)}node(p){return this._nodes[p]}hasNode(p){return Object.hasOwn(this._nodes,p)}removeNode(p){var h=this;if(Object.hasOwn(this._nodes,p)){var b=x=>h.removeEdge(h._edgeObjs[x]);delete this._nodes[p],this._isCompound&&(this._removeFromParentsChildList(p),delete this._parent[p],this.children(p).forEach(function(x){h.setParent(x)}),delete this._children[p]),Object.keys(this._in[p]).forEach(b),delete this._in[p],delete this._preds[p],Object.keys(this._out[p]).forEach(b),delete this._out[p],delete this._sucs[p],--this._nodeCount}return this}setParent(p,h){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(h===void 0)h=e;else{h+="";for(var b=h;b!==void 0;b=this.parent(b))if(b===p)throw new Error("Setting "+h+" as parent of "+p+" would create a cycle");this.setNode(h)}return this.setNode(p),this._removeFromParentsChildList(p),this._parent[p]=h,this._children[h][p]=!0,this}_removeFromParentsChildList(p){delete this._children[this._parent[p]][p]}parent(p){if(this._isCompound){var h=this._parent[p];if(h!==e)return h}}children(p=e){if(this._isCompound){var h=this._children[p];if(h)return Object.keys(h)}else{if(p===e)return this.nodes();if(this.hasNode(p))return[]}}predecessors(p){var h=this._preds[p];if(h)return Object.keys(h)}successors(p){var h=this._sucs[p];if(h)return Object.keys(h)}neighbors(p){var h=this.predecessors(p);if(h){const x=new Set(h);for(var b of this.successors(p))x.add(b);return Array.from(x.values())}}isLeaf(p){var h;return this.isDirected()?h=this.successors(p):h=this.neighbors(p),h.length===0}filterNodes(p){var h=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});h.setGraph(this.graph());var b=this;Object.entries(this._nodes).forEach(function([E,I]){p(E)&&h.setNode(E,I)}),Object.values(this._edgeObjs).forEach(function(E){h.hasNode(E.v)&&h.hasNode(E.w)&&h.setEdge(E,b.edge(E))});var x={};function _(E){var I=b.parent(E);return I===void 0||h.hasNode(I)?(x[E]=I,I):I in x?x[I]:_(I)}return this._isCompound&&h.nodes().forEach(E=>h.setParent(E,_(E))),h}setDefaultEdgeLabel(p){return this._defaultEdgeLabelFn=p,typeof p!="function"&&(this._defaultEdgeLabelFn=()=>p),this}edgeCount(){return this._edgeCount}edges(){return Object.values(this._edgeObjs)}setPath(p,h){var b=this,x=arguments;return p.reduce(function(_,E){return x.length>1?b.setEdge(_,E,h):b.setEdge(_,E),E}),this}setEdge(){var p,h,b,x,_=!1,E=arguments[0];typeof E=="object"&&E!==null&&"v"in E?(p=E.v,h=E.w,b=E.name,arguments.length===2&&(x=arguments[1],_=!0)):(p=E,h=arguments[1],b=arguments[3],arguments.length>2&&(x=arguments[2],_=!0)),p=""+p,h=""+h,b!==void 0&&(b=""+b);var I=o(this._isDirected,p,h,b);if(Object.hasOwn(this._edgeLabels,I))return _&&(this._edgeLabels[I]=x),this;if(b!==void 0&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(p),this.setNode(h),this._edgeLabels[I]=_?x:this._defaultEdgeLabelFn(p,h,b);var T=l(this._isDirected,p,h,b);return p=T.v,h=T.w,Object.freeze(T),this._edgeObjs[I]=T,i(this._preds[h],p),i(this._sucs[p],h),this._in[h][I]=T,this._out[p][I]=T,this._edgeCount++,this}edge(p,h,b){var x=arguments.length===1?u(this._isDirected,arguments[0]):o(this._isDirected,p,h,b);return this._edgeLabels[x]}edgeAsObj(){const p=this.edge(...arguments);return typeof p!="object"?{label:p}:p}hasEdge(p,h,b){var x=arguments.length===1?u(this._isDirected,arguments[0]):o(this._isDirected,p,h,b);return Object.hasOwn(this._edgeLabels,x)}removeEdge(p,h,b){var x=arguments.length===1?u(this._isDirected,arguments[0]):o(this._isDirected,p,h,b),_=this._edgeObjs[x];return _&&(p=_.v,h=_.w,delete this._edgeLabels[x],delete this._edgeObjs[x],s(this._preds[h],p),s(this._sucs[p],h),delete this._in[h][x],delete this._out[p][x],this._edgeCount--),this}inEdges(p,h){var b=this._in[p];if(b){var x=Object.values(b);return h?x.filter(_=>_.v===h):x}}outEdges(p,h){var b=this._out[p];if(b){var x=Object.values(b);return h?x.filter(_=>_.w===h):x}}nodeEdges(p,h){var b=this.inEdges(p,h);if(b)return b.concat(this.outEdges(p,h))}}function i(d,p){d[p]?d[p]++:d[p]=1}function s(d,p){--d[p]||delete d[p]}function o(d,p,h,b){var x=""+p,_=""+h;if(!d&&x>_){var E=x;x=_,_=E}return x+n+_+n+(b===void 0?t:b)}function l(d,p,h,b){var x=""+p,_=""+h;if(!d&&x>_){var E=x;x=_,_=E}var I={v:x,w:_};return b&&(I.name=b),I}function u(d,p){return o(d,p.v,p.w,p.name)}return L0=r,L0}var M0,lj;function Sre(){return lj||(lj=1,M0="2.2.4"),M0}var $0,cj;function Ere(){return cj||(cj=1,$0={Graph:$N(),version:Sre()}),$0}var B0,uj;function Nre(){if(uj)return B0;uj=1;var t=$N();B0={write:e,read:i};function e(s){var o={options:{directed:s.isDirected(),multigraph:s.isMultigraph(),compound:s.isCompound()},nodes:n(s),edges:r(s)};return s.graph()!==void 0&&(o.value=structuredClone(s.graph())),o}function n(s){return s.nodes().map(function(o){var l=s.node(o),u=s.parent(o),d={v:o};return l!==void 0&&(d.value=l),u!==void 0&&(d.parent=u),d})}function r(s){return s.edges().map(function(o){var l=s.edge(o),u={v:o.v,w:o.w};return o.name!==void 0&&(u.name=o.name),l!==void 0&&(u.value=l),u})}function i(s){var o=new t(s.options).setGraph(s.value);return s.nodes.forEach(function(l){o.setNode(l.v,l.value),l.parent&&o.setParent(l.v,l.parent)}),s.edges.forEach(function(l){o.setEdge({v:l.v,w:l.w,name:l.name},l.value)}),o}return B0}var z0,dj;function kre(){if(dj)return z0;dj=1,z0=t;function t(e){var n={},r=[],i;function s(o){Object.hasOwn(n,o)||(n[o]=!0,i.push(o),e.successors(o).forEach(s),e.predecessors(o).forEach(s))}return e.nodes().forEach(function(o){i=[],s(o),i.length&&r.push(i)}),r}return z0}var W0,fj;function $L(){if(fj)return W0;fj=1;class t{_arr=[];_keyIndices={};size(){return this._arr.length}keys(){return this._arr.map(function(n){return n.key})}has(n){return Object.hasOwn(this._keyIndices,n)}priority(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority}min(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key}add(n,r){var i=this._keyIndices;if(n=String(n),!Object.hasOwn(i,n)){var s=this._arr,o=s.length;return i[n]=o,s.push({key:n,priority:r}),this._decrease(o),!0}return!1}removeMin(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key}decrease(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)}_heapify(n){var r=this._arr,i=2*n,s=i+1,o=n;i<r.length&&(o=r[i].priority<r[o].priority?i:o,s<r.length&&(o=r[s].priority<r[o].priority?s:o),o!==n&&(this._swap(n,o),this._heapify(o)))}_decrease(n){for(var r=this._arr,i=r[n].priority,s;n!==0&&(s=n>>1,!(r[s].priority<i));)this._swap(n,s),n=s}_swap(n,r){var i=this._arr,s=this._keyIndices,o=i[n],l=i[r];i[n]=l,i[r]=o,s[l.key]=n,s[o.key]=r}}return W0=t,W0}var U0,pj;function BL(){if(pj)return U0;pj=1;var t=$L();U0=n;var e=()=>1;function n(i,s,o,l){return r(i,String(s),o||e,l||function(u){return i.outEdges(u)})}function r(i,s,o,l){var u={},d=new t,p,h,b=function(x){var _=x.v!==p?x.v:x.w,E=u[_],I=o(x),T=h.distance+I;if(I<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+x+" Weight: "+I);T<E.distance&&(E.distance=T,E.predecessor=p,d.decrease(_,T))};for(i.nodes().forEach(function(x){var _=x===s?0:Number.POSITIVE_INFINITY;u[x]={distance:_},d.add(x,_)});d.size()>0&&(p=d.removeMin(),h=u[p],h.distance!==Number.POSITIVE_INFINITY);)l(p).forEach(b);return u}return U0}var V0,hj;function Ire(){if(hj)return V0;hj=1;var t=BL();V0=e;function e(n,r,i){return n.nodes().reduce(function(s,o){return s[o]=t(n,o,r,i),s},{})}return V0}var H0,mj;function zL(){if(mj)return H0;mj=1,H0=t;function t(e){var n=0,r=[],i={},s=[];function o(l){var u=i[l]={onStack:!0,lowlink:n,index:n++};if(r.push(l),e.successors(l).forEach(function(h){Object.hasOwn(i,h)?i[h].onStack&&(u.lowlink=Math.min(u.lowlink,i[h].index)):(o(h),u.lowlink=Math.min(u.lowlink,i[h].lowlink))}),u.lowlink===u.index){var d=[],p;do p=r.pop(),i[p].onStack=!1,d.push(p);while(l!==p);s.push(d)}}return e.nodes().forEach(function(l){Object.hasOwn(i,l)||o(l)}),s}return H0}var K0,gj;function Cre(){if(gj)return K0;gj=1;var t=zL();K0=e;function e(n){return t(n).filter(function(r){return r.length>1||r.length===1&&n.hasEdge(r[0],r[0])})}return K0}var Q0,yj;function Tre(){if(yj)return Q0;yj=1,Q0=e;var t=()=>1;function e(r,i,s){return n(r,i||t,s||function(o){return r.outEdges(o)})}function n(r,i,s){var o={},l=r.nodes();return l.forEach(function(u){o[u]={},o[u][u]={distance:0},l.forEach(function(d){u!==d&&(o[u][d]={distance:Number.POSITIVE_INFINITY})}),s(u).forEach(function(d){var p=d.v===u?d.w:d.v,h=i(d);o[u][p]={distance:h,predecessor:u}})}),l.forEach(function(u){var d=o[u];l.forEach(function(p){var h=o[p];l.forEach(function(b){var x=h[u],_=d[b],E=h[b],I=x.distance+_.distance;I<E.distance&&(E.distance=I,E.predecessor=_.predecessor)})})}),o}return Q0}var G0,vj;function WL(){if(vj)return G0;vj=1;function t(n){var r={},i={},s=[];function o(l){if(Object.hasOwn(i,l))throw new e;Object.hasOwn(r,l)||(i[l]=!0,r[l]=!0,n.predecessors(l).forEach(o),delete i[l],s.push(l))}if(n.sinks().forEach(o),Object.keys(r).length!==n.nodeCount())throw new e;return s}class e extends Error{constructor(){super(...arguments)}}return G0=t,t.CycleException=e,G0}var J0,bj;function Ore(){if(bj)return J0;bj=1;var t=WL();J0=e;function e(n){try{t(n)}catch(r){if(r instanceof t.CycleException)return!1;throw r}return!0}return J0}var Z0,xj;function UL(){if(xj)return Z0;xj=1,Z0=t;function t(i,s,o){Array.isArray(s)||(s=[s]);var l=i.isDirected()?h=>i.successors(h):h=>i.neighbors(h),u=o==="post"?e:n,d=[],p={};return s.forEach(h=>{if(!i.hasNode(h))throw new Error("Graph does not have node: "+h);u(h,l,p,d)}),d}function e(i,s,o,l){for(var u=[[i,!1]];u.length>0;){var d=u.pop();d[1]?l.push(d[0]):Object.hasOwn(o,d[0])||(o[d[0]]=!0,u.push([d[0],!0]),r(s(d[0]),p=>u.push([p,!1])))}}function n(i,s,o,l){for(var u=[i];u.length>0;){var d=u.pop();Object.hasOwn(o,d)||(o[d]=!0,l.push(d),r(s(d),p=>u.push(p)))}}function r(i,s){for(var o=i.length;o--;)s(i[o],o,i);return i}return Z0}var Y0,wj;function Rre(){if(wj)return Y0;wj=1;var t=UL();Y0=e;function e(n,r){return t(n,r,"post")}return Y0}var X0,_j;function qre(){if(_j)return X0;_j=1;var t=UL();X0=e;function e(n,r){return t(n,r,"pre")}return X0}var eS,Sj;function jre(){if(Sj)return eS;Sj=1;var t=$N(),e=$L();eS=n;function n(r,i){var s=new t,o={},l=new e,u;function d(h){var b=h.v===u?h.w:h.v,x=l.priority(b);if(x!==void 0){var _=i(h);_<x&&(o[b]=u,l.decrease(b,_))}}if(r.nodeCount()===0)return s;r.nodes().forEach(function(h){l.add(h,Number.POSITIVE_INFINITY),s.setNode(h)}),l.decrease(r.nodes()[0],0);for(var p=!1;l.size()>0;){if(u=l.removeMin(),Object.hasOwn(o,u))s.setEdge(u,o[u]);else{if(p)throw new Error("Input graph is not connected: "+r);p=!0}r.nodeEdges(u).forEach(d)}return s}return eS}var tS,Ej;function Are(){return Ej||(Ej=1,tS={components:kre(),dijkstra:BL(),dijkstraAll:Ire(),findCycles:Cre(),floydWarshall:Tre(),isAcyclic:Ore(),postorder:Rre(),preorder:qre(),prim:jre(),tarjan:zL(),topsort:WL()}),tS}var nS,Nj;function Ao(){if(Nj)return nS;Nj=1;var t=Ere();return nS={Graph:t.Graph,json:Nre(),alg:Are(),version:t.version},nS}var rS,kj;function Pre(){if(kj)return rS;kj=1;class t{constructor(){let i={};i._next=i._prev=i,this._sentinel=i}dequeue(){let i=this._sentinel,s=i._prev;if(s!==i)return e(s),s}enqueue(i){let s=this._sentinel;i._prev&&i._next&&e(i),i._next=s._next,s._next._prev=i,s._next=i,i._prev=s}toString(){let i=[],s=this._sentinel,o=s._prev;for(;o!==s;)i.push(JSON.stringify(o,n)),o=o._prev;return"["+i.join(", ")+"]"}}function e(r){r._prev._next=r._next,r._next._prev=r._prev,delete r._next,delete r._prev}function n(r,i){if(r!=="_next"&&r!=="_prev")return i}return rS=t,rS}var iS,Ij;function Fre(){if(Ij)return iS;Ij=1;let t=Ao().Graph,e=Pre();iS=r;let n=()=>1;function r(d,p){if(d.nodeCount()<=1)return[];let h=o(d,p||n);return i(h.graph,h.buckets,h.zeroIdx).flatMap(x=>d.outEdges(x.v,x.w))}function i(d,p,h){let b=[],x=p[p.length-1],_=p[0],E;for(;d.nodeCount();){for(;E=_.dequeue();)s(d,p,h,E);for(;E=x.dequeue();)s(d,p,h,E);if(d.nodeCount()){for(let I=p.length-2;I>0;--I)if(E=p[I].dequeue(),E){b=b.concat(s(d,p,h,E,!0));break}}}return b}function s(d,p,h,b,x){let _=x?[]:void 0;return d.inEdges(b.v).forEach(E=>{let I=d.edge(E),T=d.node(E.v);x&&_.push({v:E.v,w:E.w}),T.out-=I,l(p,h,T)}),d.outEdges(b.v).forEach(E=>{let I=d.edge(E),T=E.w,O=d.node(T);O.in-=I,l(p,h,O)}),d.removeNode(b.v),_}function o(d,p){let h=new t,b=0,x=0;d.nodes().forEach(I=>{h.setNode(I,{v:I,in:0,out:0})}),d.edges().forEach(I=>{let T=h.edge(I.v,I.w)||0,O=p(I),R=T+O;h.setEdge(I.v,I.w,R),x=Math.max(x,h.node(I.v).out+=O),b=Math.max(b,h.node(I.w).in+=O)});let _=u(x+b+3).map(()=>new e),E=b+1;return h.nodes().forEach(I=>{l(_,E,h.node(I))}),{graph:h,buckets:_,zeroIdx:E}}function l(d,p,h){h.out?h.in?d[h.out-h.in+p].enqueue(h):d[d.length-1].enqueue(h):d[0].enqueue(h)}function u(d){const p=[];for(let h=0;h<d;h++)p.push(h);return p}return iS}var sS,Cj;function Yr(){if(Cj)return sS;Cj=1;let t=Ao().Graph;sS={addBorderNode:p,addDummyNode:e,applyWithChunking:x,asNonCompoundGraph:r,buildLayerMatrix:l,intersectRect:o,mapValues:L,maxRank:_,normalizeRanks:u,notime:T,partition:E,pick:D,predecessorWeights:s,range:A,removeEmptyRanks:d,simplify:n,successorWeights:i,time:I,uniqueId:R,zipObject:z};function e(P,q,M,F){let U;do U=R(F);while(P.hasNode(U));return M.dummy=q,P.setNode(U,M),U}function n(P){let q=new t().setGraph(P.graph());return P.nodes().forEach(M=>q.setNode(M,P.node(M))),P.edges().forEach(M=>{let F=q.edge(M.v,M.w)||{weight:0,minlen:1},U=P.edge(M);q.setEdge(M.v,M.w,{weight:F.weight+U.weight,minlen:Math.max(F.minlen,U.minlen)})}),q}function r(P){let q=new t({multigraph:P.isMultigraph()}).setGraph(P.graph());return P.nodes().forEach(M=>{P.children(M).length||q.setNode(M,P.node(M))}),P.edges().forEach(M=>{q.setEdge(M,P.edge(M))}),q}function i(P){let q=P.nodes().map(M=>{let F={};return P.outEdges(M).forEach(U=>{F[U.w]=(F[U.w]||0)+P.edge(U).weight}),F});return z(P.nodes(),q)}function s(P){let q=P.nodes().map(M=>{let F={};return P.inEdges(M).forEach(U=>{F[U.v]=(F[U.v]||0)+P.edge(U).weight}),F});return z(P.nodes(),q)}function o(P,q){let M=P.x,F=P.y,U=q.x-M,V=q.y-F,B=P.width/2,te=P.height/2;if(!U&&!V)throw new Error("Not possible to find intersection inside of the rectangle");let Z,le;return Math.abs(V)*B>Math.abs(U)*te?(V<0&&(te=-te),Z=te*U/V,le=te):(U<0&&(B=-B),Z=B,le=B*V/U),{x:M+Z,y:F+le}}function l(P){let q=A(_(P)+1).map(()=>[]);return P.nodes().forEach(M=>{let F=P.node(M),U=F.rank;U!==void 0&&(q[U][F.order]=M)}),q}function u(P){let q=P.nodes().map(F=>{let U=P.node(F).rank;return U===void 0?Number.MAX_VALUE:U}),M=x(Math.min,q);P.nodes().forEach(F=>{let U=P.node(F);Object.hasOwn(U,"rank")&&(U.rank-=M)})}function d(P){let q=P.nodes().map(B=>P.node(B).rank),M=x(Math.min,q),F=[];P.nodes().forEach(B=>{let te=P.node(B).rank-M;F[te]||(F[te]=[]),F[te].push(B)});let U=0,V=P.graph().nodeRankFactor;Array.from(F).forEach((B,te)=>{B===void 0&&te%V!==0?--U:B!==void 0&&U&&B.forEach(Z=>P.node(Z).rank+=U)})}function p(P,q,M,F){let U={width:0,height:0};return arguments.length>=4&&(U.rank=M,U.order=F),e(P,"border",U,q)}function h(P,q=b){const M=[];for(let F=0;F<P.length;F+=q){const U=P.slice(F,F+q);M.push(U)}return M}const b=65535;function x(P,q){if(q.length>b){const M=h(q);return P.apply(null,M.map(F=>P.apply(null,F)))}else return P.apply(null,q)}function _(P){const M=P.nodes().map(F=>{let U=P.node(F).rank;return U===void 0?Number.MIN_VALUE:U});return x(Math.max,M)}function E(P,q){let M={lhs:[],rhs:[]};return P.forEach(F=>{q(F)?M.lhs.push(F):M.rhs.push(F)}),M}function I(P,q){let M=Date.now();try{return q()}finally{console.log(P+" time: "+(Date.now()-M)+"ms")}}function T(P,q){return q()}let O=0;function R(P){var q=++O;return toString(P)+q}function A(P,q,M=1){q==null&&(q=P,P=0);let F=V=>V<q;M<0&&(F=V=>q<V);const U=[];for(let V=P;F(V);V+=M)U.push(V);return U}function D(P,q){const M={};for(const F of q)P[F]!==void 0&&(M[F]=P[F]);return M}function L(P,q){let M=q;return typeof q=="string"&&(M=F=>F[q]),Object.entries(P).reduce((F,[U,V])=>(F[U]=M(V,U),F),{})}function z(P,q){return P.reduce((M,F,U)=>(M[F]=q[U],M),{})}return sS}var oS,Tj;function Dre(){if(Tj)return oS;Tj=1;let t=Fre(),e=Yr().uniqueId;oS={run:n,undo:i};function n(s){(s.graph().acyclicer==="greedy"?t(s,l(s)):r(s)).forEach(u=>{let d=s.edge(u);s.removeEdge(u),d.forwardName=u.name,d.reversed=!0,s.setEdge(u.w,u.v,d,e("rev"))});function l(u){return d=>u.edge(d).weight}}function r(s){let o=[],l={},u={};function d(p){Object.hasOwn(u,p)||(u[p]=!0,l[p]=!0,s.outEdges(p).forEach(h=>{Object.hasOwn(l,h.w)?o.push(h):d(h.w)}),delete l[p])}return s.nodes().forEach(d),o}function i(s){s.edges().forEach(o=>{let l=s.edge(o);if(l.reversed){s.removeEdge(o);let u=l.forwardName;delete l.reversed,delete l.forwardName,s.setEdge(o.w,o.v,l,u)}})}return oS}var aS,Oj;function Lre(){if(Oj)return aS;Oj=1;let t=Yr();aS={run:e,undo:r};function e(i){i.graph().dummyChains=[],i.edges().forEach(s=>n(i,s))}function n(i,s){let o=s.v,l=i.node(o).rank,u=s.w,d=i.node(u).rank,p=s.name,h=i.edge(s),b=h.labelRank;if(d===l+1)return;i.removeEdge(s);let x,_,E;for(E=0,++l;l<d;++E,++l)h.points=[],_={width:0,height:0,edgeLabel:h,edgeObj:s,rank:l},x=t.addDummyNode(i,"edge",_,"_d"),l===b&&(_.width=h.width,_.height=h.height,_.dummy="edge-label",_.labelpos=h.labelpos),i.setEdge(o,x,{weight:h.weight},p),E===0&&i.graph().dummyChains.push(x),o=x;i.setEdge(o,u,{weight:h.weight},p)}function r(i){i.graph().dummyChains.forEach(s=>{let o=i.node(s),l=o.edgeLabel,u;for(i.setEdge(o.edgeObj,l);o.dummy;)u=i.successors(s)[0],i.removeNode(s),l.points.push({x:o.x,y:o.y}),o.dummy==="edge-label"&&(l.x=o.x,l.y=o.y,l.width=o.width,l.height=o.height),s=u,o=i.node(s)})}return aS}var lS,Rj;function tb(){if(Rj)return lS;Rj=1;const{applyWithChunking:t}=Yr();lS={longestPath:e,slack:n};function e(r){var i={};function s(o){var l=r.node(o);if(Object.hasOwn(i,o))return l.rank;i[o]=!0;let u=r.outEdges(o).map(p=>p==null?Number.POSITIVE_INFINITY:s(p.w)-r.edge(p).minlen);var d=t(Math.min,u);return d===Number.POSITIVE_INFINITY&&(d=0),l.rank=d}r.sources().forEach(s)}function n(r,i){return r.node(i.w).rank-r.node(i.v).rank-r.edge(i).minlen}return lS}var cS,qj;function VL(){if(qj)return cS;qj=1;var t=Ao().Graph,e=tb().slack;cS=n;function n(o){var l=new t({directed:!1}),u=o.nodes()[0],d=o.nodeCount();l.setNode(u,{});for(var p,h;r(l,o)<d;)p=i(l,o),h=l.hasNode(p.v)?e(o,p):-e(o,p),s(l,o,h);return l}function r(o,l){function u(d){l.nodeEdges(d).forEach(p=>{var h=p.v,b=d===h?p.w:h;!o.hasNode(b)&&!e(l,p)&&(o.setNode(b,{}),o.setEdge(d,b,{}),u(b))})}return o.nodes().forEach(u),o.nodeCount()}function i(o,l){return l.edges().reduce((d,p)=>{let h=Number.POSITIVE_INFINITY;return o.hasNode(p.v)!==o.hasNode(p.w)&&(h=e(l,p)),h<d[0]?[h,p]:d},[Number.POSITIVE_INFINITY,null])[1]}function s(o,l,u){o.nodes().forEach(d=>l.node(d).rank+=u)}return cS}var uS,jj;function Mre(){if(jj)return uS;jj=1;var t=VL(),e=tb().slack,n=tb().longestPath,r=Ao().alg.preorder,i=Ao().alg.postorder,s=Yr().simplify;uS=o,o.initLowLimValues=p,o.initCutValues=l,o.calcCutValue=d,o.leaveEdge=b,o.enterEdge=x,o.exchangeEdges=_;function o(O){O=s(O),n(O);var R=t(O);p(R),l(R,O);for(var A,D;A=b(R);)D=x(R,O,A),_(R,O,A,D)}function l(O,R){var A=i(O,O.nodes());A=A.slice(0,A.length-1),A.forEach(D=>u(O,R,D))}function u(O,R,A){var D=O.node(A),L=D.parent;O.edge(A,L).cutvalue=d(O,R,A)}function d(O,R,A){var D=O.node(A),L=D.parent,z=!0,P=R.edge(A,L),q=0;return P||(z=!1,P=R.edge(L,A)),q=P.weight,R.nodeEdges(A).forEach(M=>{var F=M.v===A,U=F?M.w:M.v;if(U!==L){var V=F===z,B=R.edge(M).weight;if(q+=V?B:-B,I(O,A,U)){var te=O.edge(A,U).cutvalue;q+=V?-te:te}}}),q}function p(O,R){arguments.length<2&&(R=O.nodes()[0]),h(O,{},1,R)}function h(O,R,A,D,L){var z=A,P=O.node(D);return R[D]=!0,O.neighbors(D).forEach(q=>{Object.hasOwn(R,q)||(A=h(O,R,A,q,D))}),P.low=z,P.lim=A++,L?P.parent=L:delete P.parent,A}function b(O){return O.edges().find(R=>O.edge(R).cutvalue<0)}function x(O,R,A){var D=A.v,L=A.w;R.hasEdge(D,L)||(D=A.w,L=A.v);var z=O.node(D),P=O.node(L),q=z,M=!1;z.lim>P.lim&&(q=P,M=!0);var F=R.edges().filter(U=>M===T(O,O.node(U.v),q)&&M!==T(O,O.node(U.w),q));return F.reduce((U,V)=>e(R,V)<e(R,U)?V:U)}function _(O,R,A,D){var L=A.v,z=A.w;O.removeEdge(L,z),O.setEdge(D.v,D.w,{}),p(O),l(O,R),E(O,R)}function E(O,R){var A=O.nodes().find(L=>!R.node(L).parent),D=r(O,A);D=D.slice(1),D.forEach(L=>{var z=O.node(L).parent,P=R.edge(L,z),q=!1;P||(P=R.edge(z,L),q=!0),R.node(L).rank=R.node(z).rank+(q?P.minlen:-P.minlen)})}function I(O,R,A){return O.hasEdge(R,A)}function T(O,R,A){return A.low<=R.lim&&R.lim<=A.lim}return uS}var dS,Aj;function $re(){if(Aj)return dS;Aj=1;var t=tb(),e=t.longestPath,n=VL(),r=Mre();dS=i;function i(u){switch(u.graph().ranker){case"network-simplex":l(u);break;case"tight-tree":o(u);break;case"longest-path":s(u);break;default:l(u)}}var s=e;function o(u){e(u),n(u)}function l(u){r(u)}return dS}var fS,Pj;function Bre(){if(Pj)return fS;Pj=1,fS=t;function t(r){let i=n(r);r.graph().dummyChains.forEach(s=>{let o=r.node(s),l=o.edgeObj,u=e(r,i,l.v,l.w),d=u.path,p=u.lca,h=0,b=d[h],x=!0;for(;s!==l.w;){if(o=r.node(s),x){for(;(b=d[h])!==p&&r.node(b).maxRank<o.rank;)h++;b===p&&(x=!1)}if(!x){for(;h<d.length-1&&r.node(b=d[h+1]).minRank<=o.rank;)h++;b=d[h]}r.setParent(s,b),s=r.successors(s)[0]}})}function e(r,i,s,o){let l=[],u=[],d=Math.min(i[s].low,i[o].low),p=Math.max(i[s].lim,i[o].lim),h,b;h=s;do h=r.parent(h),l.push(h);while(h&&(i[h].low>d||p>i[h].lim));for(b=h,h=o;(h=r.parent(h))!==b;)u.push(h);return{path:l.concat(u.reverse()),lca:b}}function n(r){let i={},s=0;function o(l){let u=s;r.children(l).forEach(o),i[l]={low:u,lim:s++}}return r.children().forEach(o),i}return fS}var pS,Fj;function zre(){if(Fj)return pS;Fj=1;let t=Yr();pS={run:e,cleanup:s};function e(o){let l=t.addDummyNode(o,"root",{},"_root"),u=r(o),d=Object.values(u),p=t.applyWithChunking(Math.max,d)-1,h=2*p+1;o.graph().nestingRoot=l,o.edges().forEach(x=>o.edge(x).minlen*=h);let b=i(o)+1;o.children().forEach(x=>n(o,l,h,b,p,u,x)),o.graph().nodeRankFactor=h}function n(o,l,u,d,p,h,b){let x=o.children(b);if(!x.length){b!==l&&o.setEdge(l,b,{weight:0,minlen:u});return}let _=t.addBorderNode(o,"_bt"),E=t.addBorderNode(o,"_bb"),I=o.node(b);o.setParent(_,b),I.borderTop=_,o.setParent(E,b),I.borderBottom=E,x.forEach(T=>{n(o,l,u,d,p,h,T);let O=o.node(T),R=O.borderTop?O.borderTop:T,A=O.borderBottom?O.borderBottom:T,D=O.borderTop?d:2*d,L=R!==A?1:p-h[b]+1;o.setEdge(_,R,{weight:D,minlen:L,nestingEdge:!0}),o.setEdge(A,E,{weight:D,minlen:L,nestingEdge:!0})}),o.parent(b)||o.setEdge(l,_,{weight:0,minlen:p+h[b]})}function r(o){var l={};function u(d,p){var h=o.children(d);h&&h.length&&h.forEach(b=>u(b,p+1)),l[d]=p}return o.children().forEach(d=>u(d,1)),l}function i(o){return o.edges().reduce((l,u)=>l+o.edge(u).weight,0)}function s(o){var l=o.graph();o.removeNode(l.nestingRoot),delete l.nestingRoot,o.edges().forEach(u=>{var d=o.edge(u);d.nestingEdge&&o.removeEdge(u)})}return pS}var hS,Dj;function Wre(){if(Dj)return hS;Dj=1;let t=Yr();hS=e;function e(r){function i(s){let o=r.children(s),l=r.node(s);if(o.length&&o.forEach(i),Object.hasOwn(l,"minRank")){l.borderLeft=[],l.borderRight=[];for(let u=l.minRank,d=l.maxRank+1;u<d;++u)n(r,"borderLeft","_bl",s,l,u),n(r,"borderRight","_br",s,l,u)}}r.children().forEach(i)}function n(r,i,s,o,l,u){let d={width:0,height:0,rank:u,borderType:i},p=l[i][u-1],h=t.addDummyNode(r,"border",d,s);l[i][u]=h,r.setParent(h,o),p&&r.setEdge(p,h,{weight:1})}return hS}var mS,Lj;function Ure(){if(Lj)return mS;Lj=1,mS={adjust:t,undo:e};function t(u){let d=u.graph().rankdir.toLowerCase();(d==="lr"||d==="rl")&&n(u)}function e(u){let d=u.graph().rankdir.toLowerCase();(d==="bt"||d==="rl")&&i(u),(d==="lr"||d==="rl")&&(o(u),n(u))}function n(u){u.nodes().forEach(d=>r(u.node(d))),u.edges().forEach(d=>r(u.edge(d)))}function r(u){let d=u.width;u.width=u.height,u.height=d}function i(u){u.nodes().forEach(d=>s(u.node(d))),u.edges().forEach(d=>{let p=u.edge(d);p.points.forEach(s),Object.hasOwn(p,"y")&&s(p)})}function s(u){u.y=-u.y}function o(u){u.nodes().forEach(d=>l(u.node(d))),u.edges().forEach(d=>{let p=u.edge(d);p.points.forEach(l),Object.hasOwn(p,"x")&&l(p)})}function l(u){let d=u.x;u.x=u.y,u.y=d}return mS}var gS,Mj;function Vre(){if(Mj)return gS;Mj=1;let t=Yr();gS=e;function e(n){let r={},i=n.nodes().filter(p=>!n.children(p).length),s=i.map(p=>n.node(p).rank),o=t.applyWithChunking(Math.max,s),l=t.range(o+1).map(()=>[]);function u(p){if(r[p])return;r[p]=!0;let h=n.node(p);l[h.rank].push(p),n.successors(p).forEach(u)}return i.sort((p,h)=>n.node(p).rank-n.node(h).rank).forEach(u),l}return gS}var yS,$j;function Hre(){if($j)return yS;$j=1;let t=Yr().zipObject;yS=e;function e(r,i){let s=0;for(let o=1;o<i.length;++o)s+=n(r,i[o-1],i[o]);return s}function n(r,i,s){let o=t(s,s.map((b,x)=>x)),l=i.flatMap(b=>r.outEdges(b).map(x=>({pos:o[x.w],weight:r.edge(x).weight})).sort((x,_)=>x.pos-_.pos)),u=1;for(;u<s.length;)u<<=1;let d=2*u-1;u-=1;let p=new Array(d).fill(0),h=0;return l.forEach(b=>{let x=b.pos+u;p[x]+=b.weight;let _=0;for(;x>0;)x%2&&(_+=p[x+1]),x=x-1>>1,p[x]+=b.weight;h+=b.weight*_}),h}return yS}var vS,Bj;function Kre(){if(Bj)return vS;Bj=1,vS=t;function t(e,n=[]){return n.map(r=>{let i=e.inEdges(r);if(i.length){let s=i.reduce((o,l)=>{let u=e.edge(l),d=e.node(l.v);return{sum:o.sum+u.weight*d.order,weight:o.weight+u.weight}},{sum:0,weight:0});return{v:r,barycenter:s.sum/s.weight,weight:s.weight}}else return{v:r}})}return vS}var bS,zj;function Qre(){if(zj)return bS;zj=1;let t=Yr();bS=e;function e(i,s){let o={};i.forEach((u,d)=>{let p=o[u.v]={indegree:0,in:[],out:[],vs:[u.v],i:d};u.barycenter!==void 0&&(p.barycenter=u.barycenter,p.weight=u.weight)}),s.edges().forEach(u=>{let d=o[u.v],p=o[u.w];d!==void 0&&p!==void 0&&(p.indegree++,d.out.push(o[u.w]))});let l=Object.values(o).filter(u=>!u.indegree);return n(l)}function n(i){let s=[];function o(u){return d=>{d.merged||(d.barycenter===void 0||u.barycenter===void 0||d.barycenter>=u.barycenter)&&r(u,d)}}function l(u){return d=>{d.in.push(u),--d.indegree===0&&i.push(d)}}for(;i.length;){let u=i.pop();s.push(u),u.in.reverse().forEach(o(u)),u.out.forEach(l(u))}return s.filter(u=>!u.merged).map(u=>t.pick(u,["vs","i","barycenter","weight"]))}function r(i,s){let o=0,l=0;i.weight&&(o+=i.barycenter*i.weight,l+=i.weight),s.weight&&(o+=s.barycenter*s.weight,l+=s.weight),i.vs=s.vs.concat(i.vs),i.barycenter=o/l,i.weight=l,i.i=Math.min(s.i,i.i),s.merged=!0}return bS}var xS,Wj;function Gre(){if(Wj)return xS;Wj=1;let t=Yr();xS=e;function e(i,s){let o=t.partition(i,_=>Object.hasOwn(_,"barycenter")),l=o.lhs,u=o.rhs.sort((_,E)=>E.i-_.i),d=[],p=0,h=0,b=0;l.sort(r(!!s)),b=n(d,u,b),l.forEach(_=>{b+=_.vs.length,d.push(_.vs),p+=_.barycenter*_.weight,h+=_.weight,b=n(d,u,b)});let x={vs:d.flat(!0)};return h&&(x.barycenter=p/h,x.weight=h),x}function n(i,s,o){let l;for(;s.length&&(l=s[s.length-1]).i<=o;)s.pop(),i.push(l.vs),o++;return o}function r(i){return(s,o)=>s.barycenter<o.barycenter?-1:s.barycenter>o.barycenter?1:i?o.i-s.i:s.i-o.i}return xS}var wS,Uj;function Jre(){if(Uj)return wS;Uj=1;let t=Kre(),e=Qre(),n=Gre();wS=r;function r(o,l,u,d){let p=o.children(l),h=o.node(l),b=h?h.borderLeft:void 0,x=h?h.borderRight:void 0,_={};b&&(p=p.filter(O=>O!==b&&O!==x));let E=t(o,p);E.forEach(O=>{if(o.children(O.v).length){let R=r(o,O.v,u,d);_[O.v]=R,Object.hasOwn(R,"barycenter")&&s(O,R)}});let I=e(E,u);i(I,_);let T=n(I,d);if(b&&(T.vs=[b,T.vs,x].flat(!0),o.predecessors(b).length)){let O=o.node(o.predecessors(b)[0]),R=o.node(o.predecessors(x)[0]);Object.hasOwn(T,"barycenter")||(T.barycenter=0,T.weight=0),T.barycenter=(T.barycenter*T.weight+O.order+R.order)/(T.weight+2),T.weight+=2}return T}function i(o,l){o.forEach(u=>{u.vs=u.vs.flatMap(d=>l[d]?l[d].vs:d)})}function s(o,l){o.barycenter!==void 0?(o.barycenter=(o.barycenter*o.weight+l.barycenter*l.weight)/(o.weight+l.weight),o.weight+=l.weight):(o.barycenter=l.barycenter,o.weight=l.weight)}return wS}var _S,Vj;function Zre(){if(Vj)return _S;Vj=1;let t=Ao().Graph,e=Yr();_S=n;function n(i,s,o){let l=r(i),u=new t({compound:!0}).setGraph({root:l}).setDefaultNodeLabel(d=>i.node(d));return i.nodes().forEach(d=>{let p=i.node(d),h=i.parent(d);(p.rank===s||p.minRank<=s&&s<=p.maxRank)&&(u.setNode(d),u.setParent(d,h||l),i[o](d).forEach(b=>{let x=b.v===d?b.w:b.v,_=u.edge(x,d),E=_!==void 0?_.weight:0;u.setEdge(x,d,{weight:i.edge(b).weight+E})}),Object.hasOwn(p,"minRank")&&u.setNode(d,{borderLeft:p.borderLeft[s],borderRight:p.borderRight[s]}))}),u}function r(i){for(var s;i.hasNode(s=e.uniqueId("_root")););return s}return _S}var SS,Hj;function Yre(){if(Hj)return SS;Hj=1,SS=t;function t(e,n,r){let i={},s;r.forEach(o=>{let l=e.parent(o),u,d;for(;l;){if(u=e.parent(l),u?(d=i[u],i[u]=l):(d=s,s=l),d&&d!==l){n.setEdge(d,l);return}l=u}})}return SS}var ES,Kj;function Xre(){if(Kj)return ES;Kj=1;let t=Vre(),e=Hre(),n=Jre(),r=Zre(),i=Yre(),s=Ao().Graph,o=Yr();ES=l;function l(h,b){if(b&&typeof b.customOrder=="function"){b.customOrder(h,l);return}let x=o.maxRank(h),_=u(h,o.range(1,x+1),"inEdges"),E=u(h,o.range(x-1,-1,-1),"outEdges"),I=t(h);if(p(h,I),b&&b.disableOptimalOrderHeuristic)return;let T=Number.POSITIVE_INFINITY,O;for(let R=0,A=0;A<4;++R,++A){d(R%2?_:E,R%4>=2),I=o.buildLayerMatrix(h);let D=e(h,I);D<T&&(A=0,O=Object.assign({},I),T=D)}p(h,O)}function u(h,b,x){return b.map(function(_){return r(h,_,x)})}function d(h,b){let x=new s;h.forEach(function(_){let E=_.graph().root,I=n(_,E,x,b);I.vs.forEach((T,O)=>_.node(T).order=O),i(_,x,I.vs)})}function p(h,b){Object.values(b).forEach(x=>x.forEach((_,E)=>h.node(_).order=E))}return ES}var NS,Qj;function eie(){if(Qj)return NS;Qj=1;let t=Ao().Graph,e=Yr();NS={positionX:x,findType1Conflicts:n,findType2Conflicts:r,addConflict:s,hasConflict:o,verticalAlignment:l,horizontalCompaction:u,alignCoordinates:h,findSmallestWidthAlignment:p,balance:b};function n(I,T){let O={};function R(A,D){let L=0,z=0,P=A.length,q=D[D.length-1];return D.forEach((M,F)=>{let U=i(I,M),V=U?I.node(U).order:P;(U||M===q)&&(D.slice(z,F+1).forEach(B=>{I.predecessors(B).forEach(te=>{let Z=I.node(te),le=Z.order;(le<L||V<le)&&!(Z.dummy&&I.node(B).dummy)&&s(O,te,B)})}),z=F+1,L=V)}),D}return T.length&&T.reduce(R),O}function r(I,T){let O={};function R(D,L,z,P,q){let M;e.range(L,z).forEach(F=>{M=D[F],I.node(M).dummy&&I.predecessors(M).forEach(U=>{let V=I.node(U);V.dummy&&(V.order<P||V.order>q)&&s(O,U,M)})})}function A(D,L){let z=-1,P,q=0;return L.forEach((M,F)=>{if(I.node(M).dummy==="border"){let U=I.predecessors(M);U.length&&(P=I.node(U[0]).order,R(L,q,F,z,P),q=F,z=P)}R(L,q,L.length,P,D.length)}),L}return T.length&&T.reduce(A),O}function i(I,T){if(I.node(T).dummy)return I.predecessors(T).find(O=>I.node(O).dummy)}function s(I,T,O){if(T>O){let A=T;T=O,O=A}let R=I[T];R||(I[T]=R={}),R[O]=!0}function o(I,T,O){if(T>O){let R=T;T=O,O=R}return!!I[T]&&Object.hasOwn(I[T],O)}function l(I,T,O,R){let A={},D={},L={};return T.forEach(z=>{z.forEach((P,q)=>{A[P]=P,D[P]=P,L[P]=q})}),T.forEach(z=>{let P=-1;z.forEach(q=>{let M=R(q);if(M.length){M=M.sort((U,V)=>L[U]-L[V]);let F=(M.length-1)/2;for(let U=Math.floor(F),V=Math.ceil(F);U<=V;++U){let B=M[U];D[q]===q&&P<L[B]&&!o(O,q,B)&&(D[B]=q,D[q]=A[q]=A[B],P=L[B])}}})}),{root:A,align:D}}function u(I,T,O,R,A){let D={},L=d(I,T,O,A),z=A?"borderLeft":"borderRight";function P(F,U){let V=L.nodes(),B=V.pop(),te={};for(;B;)te[B]?F(B):(te[B]=!0,V.push(B),V=V.concat(U(B))),B=V.pop()}function q(F){D[F]=L.inEdges(F).reduce((U,V)=>Math.max(U,D[V.v]+L.edge(V)),0)}function M(F){let U=L.outEdges(F).reduce((B,te)=>Math.min(B,D[te.w]-L.edge(te)),Number.POSITIVE_INFINITY),V=I.node(F);U!==Number.POSITIVE_INFINITY&&V.borderType!==z&&(D[F]=Math.max(D[F],U))}return P(q,L.predecessors.bind(L)),P(M,L.successors.bind(L)),Object.keys(R).forEach(F=>D[F]=D[O[F]]),D}function d(I,T,O,R){let A=new t,D=I.graph(),L=_(D.nodesep,D.edgesep,R);return T.forEach(z=>{let P;z.forEach(q=>{let M=O[q];if(A.setNode(M),P){var F=O[P],U=A.edge(F,M);A.setEdge(F,M,Math.max(L(I,q,P),U||0))}P=q})}),A}function p(I,T){return Object.values(T).reduce((O,R)=>{let A=Number.NEGATIVE_INFINITY,D=Number.POSITIVE_INFINITY;Object.entries(R).forEach(([z,P])=>{let q=E(I,z)/2;A=Math.max(P+q,A),D=Math.min(P-q,D)});const L=A-D;return L<O[0]&&(O=[L,R]),O},[Number.POSITIVE_INFINITY,null])[1]}function h(I,T){let O=Object.values(T),R=e.applyWithChunking(Math.min,O),A=e.applyWithChunking(Math.max,O);["u","d"].forEach(D=>{["l","r"].forEach(L=>{let z=D+L,P=I[z];if(P===T)return;let q=Object.values(P),M=R-e.applyWithChunking(Math.min,q);L!=="l"&&(M=A-e.applyWithChunking(Math.max,q)),M&&(I[z]=e.mapValues(P,F=>F+M))})})}function b(I,T){return e.mapValues(I.ul,(O,R)=>{if(T)return I[T.toLowerCase()][R];{let A=Object.values(I).map(D=>D[R]).sort((D,L)=>D-L);return(A[1]+A[2])/2}})}function x(I){let T=e.buildLayerMatrix(I),O=Object.assign(n(I,T),r(I,T)),R={},A;["u","d"].forEach(L=>{A=L==="u"?T:Object.values(T).reverse(),["l","r"].forEach(z=>{z==="r"&&(A=A.map(F=>Object.values(F).reverse()));let P=(L==="u"?I.predecessors:I.successors).bind(I),q=l(I,A,O,P),M=u(I,A,q.root,q.align,z==="r");z==="r"&&(M=e.mapValues(M,F=>-F)),R[L+z]=M})});let D=p(I,R);return h(R,D),b(R,I.graph().align)}function _(I,T,O){return(R,A,D)=>{let L=R.node(A),z=R.node(D),P=0,q;if(P+=L.width/2,Object.hasOwn(L,"labelpos"))switch(L.labelpos.toLowerCase()){case"l":q=-L.width/2;break;case"r":q=L.width/2;break}if(q&&(P+=O?q:-q),q=0,P+=(L.dummy?T:I)/2,P+=(z.dummy?T:I)/2,P+=z.width/2,Object.hasOwn(z,"labelpos"))switch(z.labelpos.toLowerCase()){case"l":q=z.width/2;break;case"r":q=-z.width/2;break}return q&&(P+=O?q:-q),q=0,P}}function E(I,T){return I.node(T).width}return NS}var kS,Gj;function tie(){if(Gj)return kS;Gj=1;let t=Yr(),e=eie().positionX;kS=n;function n(i){i=t.asNonCompoundGraph(i),r(i),Object.entries(e(i)).forEach(([s,o])=>i.node(s).x=o)}function r(i){let s=t.buildLayerMatrix(i),o=i.graph().ranksep,l=0;s.forEach(u=>{const d=u.reduce((p,h)=>{const b=i.node(h).height;return p>b?p:b},0);u.forEach(p=>i.node(p).y=l+d/2),l+=d+o})}return kS}var IS,Jj;function nie(){if(Jj)return IS;Jj=1;let t=Dre(),e=Lre(),n=$re(),r=Yr().normalizeRanks,i=Bre(),s=Yr().removeEmptyRanks,o=zre(),l=Wre(),u=Ure(),d=Xre(),p=tie(),h=Yr(),b=Ao().Graph;IS=x;function x(de,ye){let we=ye&&ye.debugTiming?h.time:h.notime;we("layout",()=>{let Ne=we("  buildLayoutGraph",()=>P(de));we("  runLayout",()=>_(Ne,we,ye)),we("  updateInputGraph",()=>E(de,Ne))})}function _(de,ye,we){ye("    makeSpaceForEdgeLabels",()=>q(de)),ye("    removeSelfEdges",()=>se(de)),ye("    acyclic",()=>t.run(de)),ye("    nestingGraph.run",()=>o.run(de)),ye("    rank",()=>n(h.asNonCompoundGraph(de))),ye("    injectEdgeLabelProxies",()=>M(de)),ye("    removeEmptyRanks",()=>s(de)),ye("    nestingGraph.cleanup",()=>o.cleanup(de)),ye("    normalizeRanks",()=>r(de)),ye("    assignRankMinMax",()=>F(de)),ye("    removeEdgeLabelProxies",()=>U(de)),ye("    normalize.run",()=>e.run(de)),ye("    parentDummyChains",()=>i(de)),ye("    addBorderSegments",()=>l(de)),ye("    order",()=>d(de,we)),ye("    insertSelfEdges",()=>ne(de)),ye("    adjustCoordinateSystem",()=>u.adjust(de)),ye("    position",()=>p(de)),ye("    positionSelfEdges",()=>oe(de)),ye("    removeBorderNodes",()=>le(de)),ye("    normalize.undo",()=>e.undo(de)),ye("    fixupEdgeLabelCoords",()=>te(de)),ye("    undoCoordinateSystem",()=>u.undo(de)),ye("    translateGraph",()=>V(de)),ye("    assignNodeIntersects",()=>B(de)),ye("    reversePoints",()=>Z(de)),ye("    acyclic.undo",()=>t.undo(de))}function E(de,ye){de.nodes().forEach(we=>{let Ne=de.node(we),ze=ye.node(we);Ne&&(Ne.x=ze.x,Ne.y=ze.y,Ne.rank=ze.rank,ye.children(we).length&&(Ne.width=ze.width,Ne.height=ze.height))}),de.edges().forEach(we=>{let Ne=de.edge(we),ze=ye.edge(we);Ne.points=ze.points,Object.hasOwn(ze,"x")&&(Ne.x=ze.x,Ne.y=ze.y)}),de.graph().width=ye.graph().width,de.graph().height=ye.graph().height}let I=["nodesep","edgesep","ranksep","marginx","marginy"],T={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},O=["acyclicer","ranker","rankdir","align"],R=["width","height"],A={width:0,height:0},D=["minlen","weight","width","height","labeloffset"],L={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},z=["labelpos"];function P(de){let ye=new b({multigraph:!0,compound:!0}),we=ue(de.graph());return ye.setGraph(Object.assign({},T,X(we,I),h.pick(we,O))),de.nodes().forEach(Ne=>{let ze=ue(de.node(Ne));const Re=X(ze,R);Object.keys(A).forEach(De=>{Re[De]===void 0&&(Re[De]=A[De])}),ye.setNode(Ne,Re),ye.setParent(Ne,de.parent(Ne))}),de.edges().forEach(Ne=>{let ze=ue(de.edge(Ne));ye.setEdge(Ne,Object.assign({},L,X(ze,D),h.pick(ze,z)))}),ye}function q(de){let ye=de.graph();ye.ranksep/=2,de.edges().forEach(we=>{let Ne=de.edge(we);Ne.minlen*=2,Ne.labelpos.toLowerCase()!=="c"&&(ye.rankdir==="TB"||ye.rankdir==="BT"?Ne.width+=Ne.labeloffset:Ne.height+=Ne.labeloffset)})}function M(de){de.edges().forEach(ye=>{let we=de.edge(ye);if(we.width&&we.height){let Ne=de.node(ye.v),Re={rank:(de.node(ye.w).rank-Ne.rank)/2+Ne.rank,e:ye};h.addDummyNode(de,"edge-proxy",Re,"_ep")}})}function F(de){let ye=0;de.nodes().forEach(we=>{let Ne=de.node(we);Ne.borderTop&&(Ne.minRank=de.node(Ne.borderTop).rank,Ne.maxRank=de.node(Ne.borderBottom).rank,ye=Math.max(ye,Ne.maxRank))}),de.graph().maxRank=ye}function U(de){de.nodes().forEach(ye=>{let we=de.node(ye);we.dummy==="edge-proxy"&&(de.edge(we.e).labelRank=we.rank,de.removeNode(ye))})}function V(de){let ye=Number.POSITIVE_INFINITY,we=0,Ne=Number.POSITIVE_INFINITY,ze=0,Re=de.graph(),De=Re.marginx||0,Je=Re.marginy||0;function Xe(Ue){let ct=Ue.x,_t=Ue.y,Tt=Ue.width,Ut=Ue.height;ye=Math.min(ye,ct-Tt/2),we=Math.max(we,ct+Tt/2),Ne=Math.min(Ne,_t-Ut/2),ze=Math.max(ze,_t+Ut/2)}de.nodes().forEach(Ue=>Xe(de.node(Ue))),de.edges().forEach(Ue=>{let ct=de.edge(Ue);Object.hasOwn(ct,"x")&&Xe(ct)}),ye-=De,Ne-=Je,de.nodes().forEach(Ue=>{let ct=de.node(Ue);ct.x-=ye,ct.y-=Ne}),de.edges().forEach(Ue=>{let ct=de.edge(Ue);ct.points.forEach(_t=>{_t.x-=ye,_t.y-=Ne}),Object.hasOwn(ct,"x")&&(ct.x-=ye),Object.hasOwn(ct,"y")&&(ct.y-=Ne)}),Re.width=we-ye+De,Re.height=ze-Ne+Je}function B(de){de.edges().forEach(ye=>{let we=de.edge(ye),Ne=de.node(ye.v),ze=de.node(ye.w),Re,De;we.points?(Re=we.points[0],De=we.points[we.points.length-1]):(we.points=[],Re=ze,De=Ne),we.points.unshift(h.intersectRect(Ne,Re)),we.points.push(h.intersectRect(ze,De))})}function te(de){de.edges().forEach(ye=>{let we=de.edge(ye);if(Object.hasOwn(we,"x"))switch((we.labelpos==="l"||we.labelpos==="r")&&(we.width-=we.labeloffset),we.labelpos){case"l":we.x-=we.width/2+we.labeloffset;break;case"r":we.x+=we.width/2+we.labeloffset;break}})}function Z(de){de.edges().forEach(ye=>{let we=de.edge(ye);we.reversed&&we.points.reverse()})}function le(de){de.nodes().forEach(ye=>{if(de.children(ye).length){let we=de.node(ye),Ne=de.node(we.borderTop),ze=de.node(we.borderBottom),Re=de.node(we.borderLeft[we.borderLeft.length-1]),De=de.node(we.borderRight[we.borderRight.length-1]);we.width=Math.abs(De.x-Re.x),we.height=Math.abs(ze.y-Ne.y),we.x=Re.x+we.width/2,we.y=Ne.y+we.height/2}}),de.nodes().forEach(ye=>{de.node(ye).dummy==="border"&&de.removeNode(ye)})}function se(de){de.edges().forEach(ye=>{if(ye.v===ye.w){var we=de.node(ye.v);we.selfEdges||(we.selfEdges=[]),we.selfEdges.push({e:ye,label:de.edge(ye)}),de.removeEdge(ye)}})}function ne(de){var ye=h.buildLayerMatrix(de);ye.forEach(we=>{var Ne=0;we.forEach((ze,Re)=>{var De=de.node(ze);De.order=Re+Ne,(De.selfEdges||[]).forEach(Je=>{h.addDummyNode(de,"selfedge",{width:Je.label.width,height:Je.label.height,rank:De.rank,order:Re+ ++Ne,e:Je.e,label:Je.label},"_se")}),delete De.selfEdges})})}function oe(de){de.nodes().forEach(ye=>{var we=de.node(ye);if(we.dummy==="selfedge"){var Ne=de.node(we.e.v),ze=Ne.x+Ne.width/2,Re=Ne.y,De=we.x-ze,Je=Ne.height/2;de.setEdge(we.e,we.label),de.removeNode(ye),we.label.points=[{x:ze+2*De/3,y:Re-Je},{x:ze+5*De/6,y:Re-Je},{x:ze+De,y:Re},{x:ze+5*De/6,y:Re+Je},{x:ze+2*De/3,y:Re+Je}],we.label.x=we.x,we.label.y=we.y}})}function X(de,ye){return h.mapValues(h.pick(de,ye),Number)}function ue(de){var ye={};return de&&Object.entries(de).forEach(([we,Ne])=>{typeof we=="string"&&(we=we.toLowerCase()),ye[we]=Ne}),ye}return IS}var CS,Zj;function rie(){if(Zj)return CS;Zj=1;let t=Yr(),e=Ao().Graph;CS={debugOrdering:n};function n(r){let i=t.buildLayerMatrix(r),s=new e({compound:!0,multigraph:!0}).setGraph({});return r.nodes().forEach(o=>{s.setNode(o,{label:o}),s.setParent(o,"layer"+r.node(o).rank)}),r.edges().forEach(o=>s.setEdge(o.v,o.w,{},o.name)),i.forEach((o,l)=>{let u="layer"+l;s.setNode(u,{rank:"same"}),o.reduce((d,p)=>(s.setEdge(d,p,{style:"invis"}),p))}),s}return CS}var TS,Yj;function iie(){return Yj||(Yj=1,TS="1.1.4"),TS}var OS,Xj;function sie(){return Xj||(Xj=1,OS={graphlib:Ao(),layout:nie(),debug:rie(),util:{time:Yr().time,notime:Yr().notime},version:iie()}),OS}var oie=sie();const HL=ao(oie);var Em=t=>t.type==="checkbox",Uc=t=>t instanceof Date,Pi=t=>t==null;const KL=t=>typeof t=="object";var Wr=t=>!Pi(t)&&!Array.isArray(t)&&KL(t)&&!Uc(t),QL=t=>Wr(t)&&t.target?Em(t.target)?t.target.checked:t.target.value:t,aie=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,GL=(t,e)=>t.has(aie(e)),lie=t=>{const e=t.constructor&&t.constructor.prototype;return Wr(e)&&e.hasOwnProperty("isPrototypeOf")},BN=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function os(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(BN&&(t instanceof Blob||r))&&(n||Wr(t)))if(e=n?[]:{},!n&&!lie(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=os(t[i]));else return t;return e}var ax=t=>Array.isArray(t)?t.filter(Boolean):[],Br=t=>t===void 0,Et=(t,e,n)=>{if(!e||!Wr(t))return n;const r=ax(e.split(/[,[\].]+?/)).reduce((i,s)=>Pi(i)?i:i[s],t);return Br(r)||r===t?Br(t[e])?n:t[e]:r},Xs=t=>typeof t=="boolean",zN=t=>/^\w*$/.test(t),JL=t=>ax(t.replace(/["|']|\]/g,"").split(/\.|\[/)),zn=(t,e,n)=>{let r=-1;const i=zN(e)?[e]:JL(e),s=i.length,o=s-1;for(;++r<s;){const l=i[r];let u=n;if(r!==o){const d=t[l];u=Wr(d)||Array.isArray(d)?d:isNaN(+i[r+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=u,t=t[l]}return t};const nb={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ko={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ka={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},cie=Mn.createContext(null),WN=()=>Mn.useContext(cie);var ZL=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==ko.all&&(e._proxyFormState[o]=!r||ko.all),n&&(n[o]=!0),t[o]}});return i},as=t=>Wr(t)&&!Object.keys(t).length,YL=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return as(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||ko.all))},ih=t=>Array.isArray(t)?t:[t],XL=(t,e,n)=>!t||!e||t===e||ih(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r)));function UN(t){const e=Mn.useRef(t);e.current=t,Mn.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}function uie(t){const e=WN(),{control:n=e.control,disabled:r,name:i,exact:s}=t,[o,l]=Mn.useState(n._formState),u=Mn.useRef(!0),d=Mn.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),p=Mn.useRef(i);return p.current=i,UN({disabled:r,next:h=>u.current&&XL(p.current,h.name,s)&&YL(h,d.current,n._updateFormState)&&l({...n._formState,...h}),subject:n._subjects.state}),Mn.useEffect(()=>(u.current=!0,d.current.isValid&&n._updateValid(!0),()=>{u.current=!1}),[n]),Mn.useMemo(()=>ZL(o,n,d.current,!1),[o,n])}var Go=t=>typeof t=="string",eM=(t,e,n,r,i)=>Go(t)?(r&&e.watch.add(t),Et(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),Et(n,s))):(r&&(e.watchAll=!0),n);function die(t){const e=WN(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:o}=t,l=Mn.useRef(r);l.current=r,UN({disabled:s,subject:n._subjects.values,next:p=>{XL(l.current,p.name,o)&&d(os(eM(l.current,n._names,p.values||n._formValues,!1,i)))}});const[u,d]=Mn.useState(n._getWatch(r,i));return Mn.useEffect(()=>n._removeUnmounted()),u}function fie(t){const e=WN(),{name:n,disabled:r,control:i=e.control,shouldUnregister:s}=t,o=GL(i._names.array,n),l=die({control:i,name:n,defaultValue:Et(i._formValues,n,Et(i._defaultValues,n,t.defaultValue)),exact:!0}),u=uie({control:i,name:n,exact:!0}),d=Mn.useRef(i.register(n,{...t.rules,value:l,...Xs(t.disabled)?{disabled:t.disabled}:{}})),p=Mn.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Et(u.errors,n)},isDirty:{enumerable:!0,get:()=>!!Et(u.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!Et(u.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!Et(u.validatingFields,n)},error:{enumerable:!0,get:()=>Et(u.errors,n)}}),[u,n]),h=Mn.useMemo(()=>({name:n,value:l,...Xs(r)||u.disabled?{disabled:u.disabled||r}:{},onChange:b=>d.current.onChange({target:{value:QL(b),name:n},type:nb.CHANGE}),onBlur:()=>d.current.onBlur({target:{value:Et(i._formValues,n),name:n},type:nb.BLUR}),ref:b=>{const x=Et(i._fields,n);x&&b&&(x._f.ref={focus:()=>b.focus(),select:()=>b.select(),setCustomValidity:_=>b.setCustomValidity(_),reportValidity:()=>b.reportValidity()})}}),[n,i._formValues,r,u.disabled,l,i._fields]);return Mn.useEffect(()=>{const b=i._options.shouldUnregister||s,x=(_,E)=>{const I=Et(i._fields,_);I&&I._f&&(I._f.mount=E)};if(x(n,!0),b){const _=os(Et(i._options.defaultValues,n));zn(i._defaultValues,n,_),Br(Et(i._formValues,n))&&zn(i._formValues,n,_)}return!o&&i.register(n),()=>{(o?b&&!i._state.action:b)?i.unregister(n):x(n,!1)}},[n,i,o,s]),Mn.useEffect(()=>{i._updateDisabledField({disabled:r,fields:i._fields,name:n})},[r,n,i]),Mn.useMemo(()=>({field:h,formState:u,fieldState:p}),[h,u,p])}const ms=t=>t.render(fie(t));var tM=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},e3=t=>({isOnSubmit:!t||t===ko.onSubmit,isOnBlur:t===ko.onBlur,isOnChange:t===ko.onChange,isOnAll:t===ko.all,isOnTouch:t===ko.onTouched}),t3=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const sh=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=Et(t,i);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(sh(l,e))break}else if(Wr(l)&&sh(l,e))break}}};var pie=(t,e,n)=>{const r=ih(Et(t,n));return zn(r,"root",e[n]),zn(t,n,r),t},VN=t=>t.type==="file",Ko=t=>typeof t=="function",rb=t=>{if(!BN)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Ly=t=>Go(t),HN=t=>t.type==="radio",ib=t=>t instanceof RegExp;const n3={value:!1,isValid:!1},r3={value:!0,isValid:!0};var nM=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Br(t[0].attributes.value)?Br(t[0].value)||t[0].value===""?r3:{value:t[0].value,isValid:!0}:r3:n3}return n3};const i3={isValid:!1,value:null};var rM=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,i3):i3;function s3(t,e,n="validate"){if(Ly(t)||Array.isArray(t)&&t.every(Ly)||Xs(t)&&!t)return{type:n,message:Ly(t)?t:"",ref:e}}var Yu=t=>Wr(t)&&!ib(t)?t:{value:t,message:""},o3=async(t,e,n,r,i,s)=>{const{ref:o,refs:l,required:u,maxLength:d,minLength:p,min:h,max:b,pattern:x,validate:_,name:E,valueAsNumber:I,mount:T}=t._f,O=Et(n,E);if(!T||e.has(E))return{};const R=l?l[0]:o,A=U=>{i&&R.reportValidity&&(R.setCustomValidity(Xs(U)?"":U||""),R.reportValidity())},D={},L=HN(o),z=Em(o),P=L||z,q=(I||VN(o))&&Br(o.value)&&Br(O)||rb(o)&&o.value===""||O===""||Array.isArray(O)&&!O.length,M=tM.bind(null,E,r,D),F=(U,V,B,te=ka.maxLength,Z=ka.minLength)=>{const le=U?V:B;D[E]={type:U?te:Z,message:le,ref:o,...M(U?te:Z,le)}};if(s?!Array.isArray(O)||!O.length:u&&(!P&&(q||Pi(O))||Xs(O)&&!O||z&&!nM(l).isValid||L&&!rM(l).isValid)){const{value:U,message:V}=Ly(u)?{value:!!u,message:u}:Yu(u);if(U&&(D[E]={type:ka.required,message:V,ref:R,...M(ka.required,V)},!r))return A(V),D}if(!q&&(!Pi(h)||!Pi(b))){let U,V;const B=Yu(b),te=Yu(h);if(!Pi(O)&&!isNaN(O)){const Z=o.valueAsNumber||O&&+O;Pi(B.value)||(U=Z>B.value),Pi(te.value)||(V=Z<te.value)}else{const Z=o.valueAsDate||new Date(O),le=oe=>new Date(new Date().toDateString()+" "+oe),se=o.type=="time",ne=o.type=="week";Go(B.value)&&O&&(U=se?le(O)>le(B.value):ne?O>B.value:Z>new Date(B.value)),Go(te.value)&&O&&(V=se?le(O)<le(te.value):ne?O<te.value:Z<new Date(te.value))}if((U||V)&&(F(!!U,B.message,te.message,ka.max,ka.min),!r))return A(D[E].message),D}if((d||p)&&!q&&(Go(O)||s&&Array.isArray(O))){const U=Yu(d),V=Yu(p),B=!Pi(U.value)&&O.length>+U.value,te=!Pi(V.value)&&O.length<+V.value;if((B||te)&&(F(B,U.message,V.message),!r))return A(D[E].message),D}if(x&&!q&&Go(O)){const{value:U,message:V}=Yu(x);if(ib(U)&&!O.match(U)&&(D[E]={type:ka.pattern,message:V,ref:o,...M(ka.pattern,V)},!r))return A(V),D}if(_){if(Ko(_)){const U=await _(O,n),V=s3(U,R);if(V&&(D[E]={...V,...M(ka.validate,V.message)},!r))return A(V.message),D}else if(Wr(_)){let U={};for(const V in _){if(!as(U)&&!r)break;const B=s3(await _[V](O,n),R,V);B&&(U={...B,...M(V,B.message)},A(B.message),r&&(D[E]=U))}if(!as(U)&&(D[E]={ref:R,...U},!r))return D}}return A(!0),D};function hie(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Br(t)?r++:t[e[r++]];return t}function mie(t){for(const e in t)if(t.hasOwnProperty(e)&&!Br(t[e]))return!1;return!0}function ni(t,e){const n=Array.isArray(e)?e:zN(e)?[e]:JL(e),r=n.length===1?t:hie(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Wr(r)&&as(r)||Array.isArray(r)&&mie(r))&&ni(t,n.slice(0,-1)),t}var RS=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},l1=t=>Pi(t)||!KL(t);function Ol(t,e){if(l1(t)||l1(e))return t===e;if(Uc(t)&&Uc(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Uc(s)&&Uc(o)||Wr(s)&&Wr(o)||Array.isArray(s)&&Array.isArray(o)?!Ol(s,o):s!==o)return!1}}return!0}var iM=t=>t.type==="select-multiple",gie=t=>HN(t)||Em(t),qS=t=>rb(t)&&t.isConnected,sM=t=>{for(const e in t)if(Ko(t[e]))return!0;return!1};function sb(t,e={}){const n=Array.isArray(t);if(Wr(t)||n)for(const r in t)Array.isArray(t[r])||Wr(t[r])&&!sM(t[r])?(e[r]=Array.isArray(t[r])?[]:{},sb(t[r],e[r])):Pi(t[r])||(e[r]=!0);return e}function oM(t,e,n){const r=Array.isArray(t);if(Wr(t)||r)for(const i in t)Array.isArray(t[i])||Wr(t[i])&&!sM(t[i])?Br(e)||l1(n[i])?n[i]=Array.isArray(t[i])?sb(t[i],[]):{...sb(t[i])}:oM(t[i],Pi(e)?{}:e[i],n[i]):n[i]=!Ol(t[i],e[i]);return n}var bp=(t,e)=>oM(t,e,sb(e)),aM=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Br(t)?t:e?t===""?NaN:t&&+t:n&&Go(t)?new Date(t):r?r(t):t;function jS(t){const e=t.ref;return VN(e)?e.files:HN(e)?rM(t.refs).value:iM(e)?[...e.selectedOptions].map(({value:n})=>n):Em(e)?nM(t.refs).value:aM(Br(e.value)?t.ref.value:e.value,t)}var yie=(t,e,n,r)=>{const i={};for(const s of t){const o=Et(e,s);o&&zn(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},xp=t=>Br(t)?t:ib(t)?t.source:Wr(t)?ib(t.value)?t.value.source:t.value:t;const a3="AsyncFunction";var vie=t=>!!t&&!!t.validate&&!!(Ko(t.validate)&&t.validate.constructor.name===a3||Wr(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===a3)),bie=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function l3(t,e,n){const r=Et(t,n);if(r||zN(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=Et(e,s),l=Et(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(l&&l.type)return{name:s,error:l};i.pop()}return{name:n}}var xie=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,wie=(t,e)=>!ax(Et(t,e)).length&&ni(t,e);const _ie={mode:ko.onSubmit,reValidateMode:ko.onChange,shouldFocusError:!0};function Sie(t={}){let e={..._ie,...t},n={submitCount:0,isDirty:!1,isLoading:Ko(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=Wr(e.defaultValues)||Wr(e.values)?os(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:os(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,d=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:RS(),array:RS(),state:RS()},b=e3(e.mode),x=e3(e.reValidateMode),_=e.criteriaMode===ko.all,E=xe=>ve=>{clearTimeout(d),d=setTimeout(xe,ve)},I=async xe=>{if(!e.disabled&&(p.isValid||xe)){const ve=e.resolver?as((await P()).errors):await M(r,!0);ve!==n.isValid&&h.state.next({isValid:ve})}},T=(xe,ve)=>{!e.disabled&&(p.isValidating||p.validatingFields)&&((xe||Array.from(l.mount)).forEach(ke=>{ke&&(ve?zn(n.validatingFields,ke,ve):ni(n.validatingFields,ke))}),h.state.next({validatingFields:n.validatingFields,isValidating:!as(n.validatingFields)}))},O=(xe,ve=[],ke,Ae,Ve=!0,rt=!0)=>{if(Ae&&ke&&!e.disabled){if(o.action=!0,rt&&Array.isArray(Et(r,xe))){const Me=ke(Et(r,xe),Ae.argA,Ae.argB);Ve&&zn(r,xe,Me)}if(rt&&Array.isArray(Et(n.errors,xe))){const Me=ke(Et(n.errors,xe),Ae.argA,Ae.argB);Ve&&zn(n.errors,xe,Me),wie(n.errors,xe)}if(p.touchedFields&&rt&&Array.isArray(Et(n.touchedFields,xe))){const Me=ke(Et(n.touchedFields,xe),Ae.argA,Ae.argB);Ve&&zn(n.touchedFields,xe,Me)}p.dirtyFields&&(n.dirtyFields=bp(i,s)),h.state.next({name:xe,isDirty:U(xe,ve),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else zn(s,xe,ve)},R=(xe,ve)=>{zn(n.errors,xe,ve),h.state.next({errors:n.errors})},A=xe=>{n.errors=xe,h.state.next({errors:n.errors,isValid:!1})},D=(xe,ve,ke,Ae)=>{const Ve=Et(r,xe);if(Ve){const rt=Et(s,xe,Br(ke)?Et(i,xe):ke);Br(rt)||Ae&&Ae.defaultChecked||ve?zn(s,xe,ve?rt:jS(Ve._f)):te(xe,rt),o.mount&&I()}},L=(xe,ve,ke,Ae,Ve)=>{let rt=!1,Me=!1;const ut={name:xe};if(!e.disabled){const Qt=!!(Et(r,xe)&&Et(r,xe)._f&&Et(r,xe)._f.disabled);if(!ke||Ae){p.isDirty&&(Me=n.isDirty,n.isDirty=ut.isDirty=U(),rt=Me!==ut.isDirty);const Gt=Qt||Ol(Et(i,xe),ve);Me=!!(!Qt&&Et(n.dirtyFields,xe)),Gt||Qt?ni(n.dirtyFields,xe):zn(n.dirtyFields,xe,!0),ut.dirtyFields=n.dirtyFields,rt=rt||p.dirtyFields&&Me!==!Gt}if(ke){const Gt=Et(n.touchedFields,xe);Gt||(zn(n.touchedFields,xe,ke),ut.touchedFields=n.touchedFields,rt=rt||p.touchedFields&&Gt!==ke)}rt&&Ve&&h.state.next(ut)}return rt?ut:{}},z=(xe,ve,ke,Ae)=>{const Ve=Et(n.errors,xe),rt=p.isValid&&Xs(ve)&&n.isValid!==ve;if(e.delayError&&ke?(u=E(()=>R(xe,ke)),u(e.delayError)):(clearTimeout(d),u=null,ke?zn(n.errors,xe,ke):ni(n.errors,xe)),(ke?!Ol(Ve,ke):Ve)||!as(Ae)||rt){const Me={...Ae,...rt&&Xs(ve)?{isValid:ve}:{},errors:n.errors,name:xe};n={...n,...Me},h.state.next(Me)}},P=async xe=>{T(xe,!0);const ve=await e.resolver(s,e.context,yie(xe||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return T(xe),ve},q=async xe=>{const{errors:ve}=await P(xe);if(xe)for(const ke of xe){const Ae=Et(ve,ke);Ae?zn(n.errors,ke,Ae):ni(n.errors,ke)}else n.errors=ve;return ve},M=async(xe,ve,ke={valid:!0})=>{for(const Ae in xe){const Ve=xe[Ae];if(Ve){const{_f:rt,...Me}=Ve;if(rt){const ut=l.array.has(rt.name),Qt=Ve._f&&vie(Ve._f);Qt&&p.validatingFields&&T([Ae],!0);const Gt=await o3(Ve,l.disabled,s,_,e.shouldUseNativeValidation&&!ve,ut);if(Qt&&p.validatingFields&&T([Ae]),Gt[rt.name]&&(ke.valid=!1,ve))break;!ve&&(Et(Gt,rt.name)?ut?pie(n.errors,Gt,rt.name):zn(n.errors,rt.name,Gt[rt.name]):ni(n.errors,rt.name))}!as(Me)&&await M(Me,ve,ke)}}return ke.valid},F=()=>{for(const xe of l.unMount){const ve=Et(r,xe);ve&&(ve._f.refs?ve._f.refs.every(ke=>!qS(ke)):!qS(ve._f.ref))&&Ne(xe)}l.unMount=new Set},U=(xe,ve)=>!e.disabled&&(xe&&ve&&zn(s,xe,ve),!Ol(X(),i)),V=(xe,ve,ke)=>eM(xe,l,{...o.mount?s:Br(ve)?i:Go(xe)?{[xe]:ve}:ve},ke,ve),B=xe=>ax(Et(o.mount?s:i,xe,e.shouldUnregister?Et(i,xe,[]):[])),te=(xe,ve,ke={})=>{const Ae=Et(r,xe);let Ve=ve;if(Ae){const rt=Ae._f;rt&&(!rt.disabled&&zn(s,xe,aM(ve,rt)),Ve=rb(rt.ref)&&Pi(ve)?"":ve,iM(rt.ref)?[...rt.ref.options].forEach(Me=>Me.selected=Ve.includes(Me.value)):rt.refs?Em(rt.ref)?rt.refs.length>1?rt.refs.forEach(Me=>(!Me.defaultChecked||!Me.disabled)&&(Me.checked=Array.isArray(Ve)?!!Ve.find(ut=>ut===Me.value):Ve===Me.value)):rt.refs[0]&&(rt.refs[0].checked=!!Ve):rt.refs.forEach(Me=>Me.checked=Me.value===Ve):VN(rt.ref)?rt.ref.value="":(rt.ref.value=Ve,rt.ref.type||h.values.next({name:xe,values:{...s}})))}(ke.shouldDirty||ke.shouldTouch)&&L(xe,Ve,ke.shouldTouch,ke.shouldDirty,!0),ke.shouldValidate&&oe(xe)},Z=(xe,ve,ke)=>{for(const Ae in ve){const Ve=ve[Ae],rt=`${xe}.${Ae}`,Me=Et(r,rt);(l.array.has(xe)||Wr(Ve)||Me&&!Me._f)&&!Uc(Ve)?Z(rt,Ve,ke):te(rt,Ve,ke)}},le=(xe,ve,ke={})=>{const Ae=Et(r,xe),Ve=l.array.has(xe),rt=os(ve);zn(s,xe,rt),Ve?(h.array.next({name:xe,values:{...s}}),(p.isDirty||p.dirtyFields)&&ke.shouldDirty&&h.state.next({name:xe,dirtyFields:bp(i,s),isDirty:U(xe,rt)})):Ae&&!Ae._f&&!Pi(rt)?Z(xe,rt,ke):te(xe,rt,ke),t3(xe,l)&&h.state.next({...n}),h.values.next({name:o.mount?xe:void 0,values:{...s}})},se=async xe=>{o.mount=!0;const ve=xe.target;let ke=ve.name,Ae=!0;const Ve=Et(r,ke),rt=()=>ve.type?jS(Ve._f):QL(xe),Me=ut=>{Ae=Number.isNaN(ut)||Uc(ut)&&isNaN(ut.getTime())||Ol(ut,Et(s,ke,ut))};if(Ve){let ut,Qt;const Gt=rt(),hn=xe.type===nb.BLUR||xe.type===nb.FOCUS_OUT,ur=!bie(Ve._f)&&!e.resolver&&!Et(n.errors,ke)&&!Ve._f.deps||xie(hn,Et(n.touchedFields,ke),n.isSubmitted,x,b),Fn=t3(ke,l,hn);zn(s,ke,Gt),hn?(Ve._f.onBlur&&Ve._f.onBlur(xe),u&&u(0)):Ve._f.onChange&&Ve._f.onChange(xe);const Hr=L(ke,Gt,hn,!1),Oi=!as(Hr)||Fn;if(!hn&&h.values.next({name:ke,type:xe.type,values:{...s}}),ur)return p.isValid&&(e.mode==="onBlur"&&hn?I():hn||I()),Oi&&h.state.next({name:ke,...Fn?{}:Hr});if(!hn&&Fn&&h.state.next({...n}),e.resolver){const{errors:Tr}=await P([ke]);if(Me(Gt),Ae){const Jt=l3(n.errors,r,ke),Qi=l3(Tr,r,Jt.name||ke);ut=Qi.error,ke=Qi.name,Qt=as(Tr)}}else T([ke],!0),ut=(await o3(Ve,l.disabled,s,_,e.shouldUseNativeValidation))[ke],T([ke]),Me(Gt),Ae&&(ut?Qt=!1:p.isValid&&(Qt=await M(r,!0)));Ae&&(Ve._f.deps&&oe(Ve._f.deps),z(ke,Qt,ut,Hr))}},ne=(xe,ve)=>{if(Et(n.errors,ve)&&xe.focus)return xe.focus(),1},oe=async(xe,ve={})=>{let ke,Ae;const Ve=ih(xe);if(e.resolver){const rt=await q(Br(xe)?xe:Ve);ke=as(rt),Ae=xe?!Ve.some(Me=>Et(rt,Me)):ke}else xe?(Ae=(await Promise.all(Ve.map(async rt=>{const Me=Et(r,rt);return await M(Me&&Me._f?{[rt]:Me}:Me)}))).every(Boolean),!(!Ae&&!n.isValid)&&I()):Ae=ke=await M(r);return h.state.next({...!Go(xe)||p.isValid&&ke!==n.isValid?{}:{name:xe},...e.resolver||!xe?{isValid:ke}:{},errors:n.errors}),ve.shouldFocus&&!Ae&&sh(r,ne,xe?Ve:l.mount),Ae},X=xe=>{const ve={...o.mount?s:i};return Br(xe)?ve:Go(xe)?Et(ve,xe):xe.map(ke=>Et(ve,ke))},ue=(xe,ve)=>({invalid:!!Et((ve||n).errors,xe),isDirty:!!Et((ve||n).dirtyFields,xe),error:Et((ve||n).errors,xe),isValidating:!!Et(n.validatingFields,xe),isTouched:!!Et((ve||n).touchedFields,xe)}),de=xe=>{xe&&ih(xe).forEach(ve=>ni(n.errors,ve)),h.state.next({errors:xe?n.errors:{}})},ye=(xe,ve,ke)=>{const Ae=(Et(r,xe,{_f:{}})._f||{}).ref,Ve=Et(n.errors,xe)||{},{ref:rt,message:Me,type:ut,...Qt}=Ve;zn(n.errors,xe,{...Qt,...ve,ref:Ae}),h.state.next({name:xe,errors:n.errors,isValid:!1}),ke&&ke.shouldFocus&&Ae&&Ae.focus&&Ae.focus()},we=(xe,ve)=>Ko(xe)?h.values.subscribe({next:ke=>xe(V(void 0,ve),ke)}):V(xe,ve,!0),Ne=(xe,ve={})=>{for(const ke of xe?ih(xe):l.mount)l.mount.delete(ke),l.array.delete(ke),ve.keepValue||(ni(r,ke),ni(s,ke)),!ve.keepError&&ni(n.errors,ke),!ve.keepDirty&&ni(n.dirtyFields,ke),!ve.keepTouched&&ni(n.touchedFields,ke),!ve.keepIsValidating&&ni(n.validatingFields,ke),!e.shouldUnregister&&!ve.keepDefaultValue&&ni(i,ke);h.values.next({values:{...s}}),h.state.next({...n,...ve.keepDirty?{isDirty:U()}:{}}),!ve.keepIsValid&&I()},ze=({disabled:xe,name:ve,field:ke,fields:Ae})=>{(Xs(xe)&&o.mount||xe||l.disabled.has(ve))&&(xe?l.disabled.add(ve):l.disabled.delete(ve),L(ve,jS(ke?ke._f:Et(Ae,ve)._f),!1,!1,!0))},Re=(xe,ve={})=>{let ke=Et(r,xe);const Ae=Xs(ve.disabled)||Xs(e.disabled);return zn(r,xe,{...ke||{},_f:{...ke&&ke._f?ke._f:{ref:{name:xe}},name:xe,mount:!0,...ve}}),l.mount.add(xe),ke?ze({field:ke,disabled:Xs(ve.disabled)?ve.disabled:e.disabled,name:xe}):D(xe,!0,ve.value),{...Ae?{disabled:ve.disabled||e.disabled}:{},...e.progressive?{required:!!ve.required,min:xp(ve.min),max:xp(ve.max),minLength:xp(ve.minLength),maxLength:xp(ve.maxLength),pattern:xp(ve.pattern)}:{},name:xe,onChange:se,onBlur:se,ref:Ve=>{if(Ve){Re(xe,ve),ke=Et(r,xe);const rt=Br(Ve.value)&&Ve.querySelectorAll&&Ve.querySelectorAll("input,select,textarea")[0]||Ve,Me=gie(rt),ut=ke._f.refs||[];if(Me?ut.find(Qt=>Qt===rt):rt===ke._f.ref)return;zn(r,xe,{_f:{...ke._f,...Me?{refs:[...ut.filter(qS),rt,...Array.isArray(Et(i,xe))?[{}]:[]],ref:{type:rt.type,name:xe}}:{ref:rt}}}),D(xe,!1,void 0,rt)}else ke=Et(r,xe,{}),ke._f&&(ke._f.mount=!1),(e.shouldUnregister||ve.shouldUnregister)&&!(GL(l.array,xe)&&o.action)&&l.unMount.add(xe)}}},De=()=>e.shouldFocusError&&sh(r,ne,l.mount),Je=xe=>{Xs(xe)&&(h.state.next({disabled:xe}),sh(r,(ve,ke)=>{const Ae=Et(r,ke);Ae&&(ve.disabled=Ae._f.disabled||xe,Array.isArray(Ae._f.refs)&&Ae._f.refs.forEach(Ve=>{Ve.disabled=Ae._f.disabled||xe}))},0,!1))},Xe=(xe,ve)=>async ke=>{let Ae;ke&&(ke.preventDefault&&ke.preventDefault(),ke.persist&&ke.persist());let Ve=os(s);if(l.disabled.size)for(const rt of l.disabled)zn(Ve,rt,void 0);if(h.state.next({isSubmitting:!0}),e.resolver){const{errors:rt,values:Me}=await P();n.errors=rt,Ve=Me}else await M(r);if(ni(n.errors,"root"),as(n.errors)){h.state.next({errors:{}});try{await xe(Ve,ke)}catch(rt){Ae=rt}}else ve&&await ve({...n.errors},ke),De(),setTimeout(De);if(h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:as(n.errors)&&!Ae,submitCount:n.submitCount+1,errors:n.errors}),Ae)throw Ae},Ue=(xe,ve={})=>{Et(r,xe)&&(Br(ve.defaultValue)?le(xe,os(Et(i,xe))):(le(xe,ve.defaultValue),zn(i,xe,os(ve.defaultValue))),ve.keepTouched||ni(n.touchedFields,xe),ve.keepDirty||(ni(n.dirtyFields,xe),n.isDirty=ve.defaultValue?U(xe,os(Et(i,xe))):U()),ve.keepError||(ni(n.errors,xe),p.isValid&&I()),h.state.next({...n}))},ct=(xe,ve={})=>{const ke=xe?os(xe):i,Ae=os(ke),Ve=as(xe),rt=Ve?i:Ae;if(ve.keepDefaultValues||(i=ke),!ve.keepValues){if(ve.keepDirtyValues){const Me=new Set([...l.mount,...Object.keys(bp(i,s))]);for(const ut of Array.from(Me))Et(n.dirtyFields,ut)?zn(rt,ut,Et(s,ut)):le(ut,Et(rt,ut))}else{if(BN&&Br(xe))for(const Me of l.mount){const ut=Et(r,Me);if(ut&&ut._f){const Qt=Array.isArray(ut._f.refs)?ut._f.refs[0]:ut._f.ref;if(rb(Qt)){const Gt=Qt.closest("form");if(Gt){Gt.reset();break}}}}r={}}s=e.shouldUnregister?ve.keepDefaultValues?os(i):{}:os(rt),h.array.next({values:{...rt}}),h.values.next({values:{...rt}})}l={mount:ve.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!p.isValid||!!ve.keepIsValid||!!ve.keepDirtyValues,o.watch=!!e.shouldUnregister,h.state.next({submitCount:ve.keepSubmitCount?n.submitCount:0,isDirty:Ve?!1:ve.keepDirty?n.isDirty:!!(ve.keepDefaultValues&&!Ol(xe,i)),isSubmitted:ve.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Ve?{}:ve.keepDirtyValues?ve.keepDefaultValues&&s?bp(i,s):n.dirtyFields:ve.keepDefaultValues&&xe?bp(i,xe):ve.keepDirty?n.dirtyFields:{},touchedFields:ve.keepTouched?n.touchedFields:{},errors:ve.keepErrors?n.errors:{},isSubmitSuccessful:ve.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},_t=(xe,ve)=>ct(Ko(xe)?xe(s):xe,ve);return{control:{register:Re,unregister:Ne,getFieldState:ue,handleSubmit:Xe,setError:ye,_executeSchema:P,_getWatch:V,_getDirty:U,_updateValid:I,_removeUnmounted:F,_updateFieldArray:O,_updateDisabledField:ze,_getFieldArray:B,_reset:ct,_resetDefaultValues:()=>Ko(e.defaultValues)&&e.defaultValues().then(xe=>{_t(xe,e.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:xe=>{n={...n,...xe}},_disableForm:Je,_subjects:h,_proxyFormState:p,_setErrors:A,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(xe){o=xe},get _defaultValues(){return i},get _names(){return l},set _names(xe){l=xe},get _formState(){return n},set _formState(xe){n=xe},get _options(){return e},set _options(xe){e={...e,...xe}}},trigger:oe,register:Re,handleSubmit:Xe,watch:we,setValue:le,getValues:X,reset:_t,resetField:Ue,clearErrors:de,unregister:Ne,setError:ye,setFocus:(xe,ve={})=>{const ke=Et(r,xe),Ae=ke&&ke._f;if(Ae){const Ve=Ae.refs?Ae.refs[0]:Ae.ref;Ve.focus&&(Ve.focus(),ve.shouldSelect&&Ko(Ve.select)&&Ve.select())}},getFieldState:ue}}function Ci(t={}){const e=Mn.useRef(void 0),n=Mn.useRef(void 0),[r,i]=Mn.useState({isDirty:!1,isValidating:!1,isLoading:Ko(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Ko(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...Sie(t),formState:r});const s=e.current.control;return s._options=t,UN({subject:s._subjects.state,next:o=>{YL(o,s._proxyFormState,s._updateFormState,!0)&&i({...s._formState})}}),Mn.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Mn.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),Mn.useEffect(()=>{t.values&&!Ol(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),Mn.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),Mn.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),Mn.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=ZL(r,s),e.current}const c3=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Et(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},lM=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?c3(r.ref,n,t):r.refs&&r.refs.forEach(i=>c3(i,n,t))}},Eie=(t,e)=>{e.shouldUseNativeValidation&&lM(t,e);const n={};for(const r in t){const i=Et(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(Nie(e.names||Object.keys(t),r)){const o=Object.assign({},Et(n,r));zn(o,"root",s),zn(n,r,o)}else zn(n,r,s)}return n},Nie=(t,e)=>t.some(n=>n.startsWith(e+"."));var kie=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,s=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var l=r.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(p){return p.errors.forEach(function(h){return t.push(h)})}),e){var u=n[o].types,d=u&&u[r.code];n[o]=tM(o,e,n,i,d?[].concat(d,r.message):r.message)}t.shift()}return n},Ti=function(t,e,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(o,l){try{var u=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(d){return s.shouldUseNativeValidation&&lM({},s),{errors:{},values:n.raw?r:d}})}catch(d){return l(d)}return u&&u.then?u.then(void 0,l):u}(0,function(o){if(function(l){return Array.isArray(l?.errors)}(o))return{values:{},errors:Eie(kie(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}};const Iie=({shape:t,filter:e})=>Vi({entity:Wi.merge(W.object({name:W.string().min(1),cycles:W.number().int(),sort:W.number().int(),limit:W.number().int()})),shape:t,filter:e,sort:["id","name","cycles","sort","limit"]}),Cie=({shape:t,filter:e})=>Vi({entity:Wi.merge(W.object({blueprintId:W.string().min(1),conflictId:W.string().min(1)})),shape:t,filter:e,sort:["id","blueprintId","conflictId"]}),Tie=({shape:t,filter:e})=>Vi({entity:Wi.merge(W.object({blueprintId:W.string().min(1),dependencyId:W.string().min(1)})),shape:t,filter:e,sort:["id","blueprintId","dependencyId"]}),Oie=({shape:t,filter:e})=>Vi({entity:Wi.merge(W.object({blueprintId:W.string().min(1),inventoryId:W.string().min(1)})),shape:t,filter:e,sort:["id","blueprintId","inventoryId"]}),Rie=({shape:t,filter:e})=>Vi({entity:Wi.merge(W.object({blueprintId:W.string().min(1),resourceId:W.string().min(1),amount:W.number(),cycles:W.number().int()})),shape:t,filter:e,sort:["id","blueprintId","resourceId","amount","cycles"]}),qie=({shape:t,filter:e})=>Vi({entity:Wi.merge(W.object({blueprintProductionId:W.string().min(1),blueprintId:W.string().min(1)})),shape:t,filter:e,sort:["id","blueprintProductionId","blueprintId"]}),jie=({shape:t,filter:e})=>Vi({entity:Wi.merge(W.object({blueprintProductionId:W.string().min(1),resourceId:W.string().min(1),amount:W.number(),passive:Ba()})),shape:t,filter:e,sort:["id","blueprintProductionId","resourceId","amount","passive"]}),Aie=({shape:t,filter:e})=>Vi({entity:Wi.merge(W.object({blueprintProductionId:W.string().min(1),resourceId:W.string().min(1),amount:W.number()})),shape:t,filter:e,sort:["id","blueprintProductionId","resourceId","amount"]}),Pie=({shape:t,filter:e})=>Vi({entity:Wi.merge(W.object({blueprintId:W.string().min(1),resourceId:W.string().min(1),amount:W.number(),passive:Ba()})),shape:t,filter:e,sort:["id","blueprintId","resourceId","amount","passive"]}),Fie=({shape:t,filter:e})=>Vi({entity:Wi.merge(W.object({userId:W.string().min(1),blueprintId:W.string().min(1),productionId:W.string().nullish(),recurringProductionId:W.string().nullish(),x:W.number(),y:W.number()})),shape:t,filter:e,sort:["id","userId","blueprintId","productionId","recurringProductionId","x","y"]}),Die=({shape:t,filter:e})=>Vi({entity:Wi.merge(W.object({resourceId:W.string().min(1),amount:W.number(),limit:W.number()})),shape:t,filter:e,sort:["id","resourceId","amount","limit"]}),Lie=({shape:t,filter:e})=>Vi({entity:Wi.merge(W.object({resourceId:W.string().min(1),amount:W.number(),limit:W.number()})),shape:t,filter:e,sort:["id","resourceId","amount","limit"]}),Mie=({shape:t,filter:e})=>Vi({entity:Wi.merge(W.object({name:W.string().min(1),transport:W.number()})),shape:t,filter:e,sort:["id","name","transport"]}),$ie=({shape:t,filter:e})=>Vi({entity:Wi.merge(W.object({code:W.string().min(1),label:W.string().min(1),group:W.string().nullish(),sort:W.number().int()})),shape:t,filter:e,sort:["id","code","label","group","sort"]}),Bie=({shape:t,filter:e})=>Vi({entity:Wi.merge(W.object({name:W.string().min(1),login:W.string().min(1),password:W.string().min(1)})),shape:t,filter:e,sort:["id","name","login","password"]}),KN=Iie({shape:W.object({name:W.string().min(1),cycles:Xp(),sort:Xp(),limit:Xp()}),filter:Ui.merge(W.object({name:W.string().optional()}))}),ob=({mutation:t,defaultValues:e,variant:n,tva:r=Ii,css:i})=>{const s=Ci({resolver:Ti(KN.shape),defaultValues:{cycles:1,sort:0,limit:1,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return f.jsxs("form",{className:o.base(),onSubmit:ys({form:s,mutation:t}),children:[f.jsx(hi,{variant:{highlight:!0},error:s.formState.errors.root}),f.jsx(Nn,{formState:s.formState,name:"name",label:f.jsx(ee,{label:"Building name (label)"}),required:!0,children:f.jsx("input",{type:"text",className:o.input(),...s.register("name")})}),f.jsx(Nn,{formState:s.formState,name:"cycles",label:f.jsx(ee,{label:"Construction cycles (label)"}),hint:f.jsx(ee,{label:"Amount of cycles to build this building (hint)"}),required:!0,children:f.jsx("input",{type:"number",className:o.input(),min:1,...s.register("cycles")})}),f.jsx(Nn,{formState:s.formState,name:"limit",label:f.jsx(ee,{label:"Building limit (label)"}),hint:f.jsx(ee,{label:"Maximum number of building a player can build (hint)"}),required:!0,children:f.jsx("input",{type:"number",className:o.input(),min:1,...s.register("limit")})}),f.jsx(Nn,{formState:s.formState,name:"sort",label:f.jsx(ee,{label:"Blueprint sort (label)"}),hint:f.jsx(ee,{label:"Sort blueprints by this number (hint)"}),required:!0,children:f.jsx("input",{type:"number",className:o.input(),min:0,...s.register("sort")})}),f.jsx("div",{className:"flex flex-row justify-between gap-8",children:f.jsx(An,{iconEnabled:Tn,type:"submit",children:f.jsx(ee,{label:"Save (submit)"})})})]})},oo="icon-[fluent-mdl2--production-floor-management]",zie=({id:t,data:e,isConnectable:n})=>{const{locale:r}=cn({from:"/$locale"}),i=Xd();return f.jsxs("div",{className:"min-w-[14rem]",onClick:()=>{i({to:"/$locale/apps/derivean/root/editor",params:{locale:r},search:{zoomTo:t}})},onDoubleClick:()=>{i({to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:r,id:t}})},children:[f.jsx(sa,{type:"target",position:Lt.Left,className:"w-4 h-4"}),f.jsxs("div",{className:"flex flex-col gap-2 items-start",children:[f.jsx("div",{className:"flex flex-row items-center gap-2",onClick:s=>s.stopPropagation(),onDoubleClick:s=>s.stopPropagation(),onMouseDown:s=>s.stopPropagation(),children:f.jsx(Kt,{icon:Tn,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:r,id:t},children:e.name})}),f.jsxs("div",{className:"flex flex-row items-center justify-between gap-2 border bg-slate-50 border-slate-200 rounded w-full p-1",onClick:s=>s.stopPropagation(),onDoubleClick:s=>s.stopPropagation(),onMouseDown:s=>s.stopPropagation(),children:[f.jsxs("div",{className:"flex flex-row gap-2",children:[f.jsx(Kt,{icon:Un,to:"/$locale/apps/derivean/root/blueprint/$id/requirements",params:{locale:r,id:t}}),f.jsx(Kt,{icon:oo,to:"/$locale/apps/derivean/root/blueprint/$id/production",params:{locale:r,id:t}}),f.jsx(Kt,{icon:ID,to:"/$locale/apps/derivean/root/blueprint/$id/edit",params:{locale:r,id:t}})]}),f.jsx("div",{children:f.jsx(ff,{target:f.jsx(gm,{iconEnabled:ri,css:{base:["text-red-500"]}}),outside:!0,textTitle:f.jsx(ee,{label:"Delete blueprint (modal)"}),css:{modal:["w-1/3"]},children:()=>{const s=Xn([["Editor"]]);return f.jsx(Ki,{callback:async()=>Ot.transaction().execute(async o=>o.deleteFrom("Blueprint").where("id","=",e.id).execute()),textContent:f.jsx(ee,{label:"Delete blueprint (content)"}),textToast:"Delete blueprint",invalidator:s})}})})]})]}),f.jsx(sa,{type:"source",position:Lt.Right,isConnectable:n,className:"w-4 h-4"})]})},Wie=({nodeId:t})=>{const{fitView:e}=gf();return Q.useEffect(()=>{t&&setTimeout(()=>{e({nodes:[{id:t}],duration:750,minZoom:1,maxZoom:1})},50)},[t]),null},Uie=({data:t,zoomTo:e})=>{const n=Xn([]),r=Xt({async mutationFn({blueprintId:i,dependencyId:s}){return Ot.transaction().execute(async o=>o.insertInto("Blueprint_Dependency").values({id:Rn(),blueprintId:i,dependencyId:s}).execute())},async onSuccess(){await n()}});return f.jsx("div",{className:"w-fit h-fit mx-auto border border-slate-300 rounded-md shadow-md m-8",children:f.jsx("div",{style:{width:"95vw",height:"85vh"},children:f.jsxs(qL,{nodes:t.nodes,edges:t.edges,onConnect:i=>{r.mutate({blueprintId:i.target,dependencyId:i.source})},fitView:!0,snapGrid:[16,16],elementsSelectable:!1,nodeTypes:Q.useMemo(()=>({blueprint(i){return f.jsx(zie,{...i})}}),[]),edgeTypes:Q.useMemo(()=>({dependency({id:i,sourceX:s,sourceY:o,targetX:l,targetY:u,sourcePosition:d,targetPosition:p,style:h={},markerEnd:b}){const{setEdges:x}=gf(),[_,E,I]=ON({sourceX:s,sourceY:o,sourcePosition:d,targetX:l,targetY:u,targetPosition:p}),T=Xn([]),O=Xt({async mutationFn({id:R}){return Ot.transaction().execute(async A=>{await A.deleteFrom("Blueprint_Dependency").where("id","=",R).execute()})},async onSuccess(){x(R=>R.filter(A=>A.id!==i)),await T()}});return f.jsxs(f.Fragment,{children:[f.jsx(Sm,{path:_,markerEnd:b,style:h}),f.jsx(Cne,{children:f.jsx("div",{className:Yn("nodrag nopan",["flex","items-center","justify-center","cursor-pointer","bg-red-200","text-red-500","border","border-red-300","hover:border-red-600","hover:bg-red-300","hover:text-red-700","rounded-full","w-4","h-4","z-20"]),style:{position:"absolute",pointerEvents:"all",transformOrigin:"center",transform:`translate(-50%, -50%) translate(${E}px,${I}px)`},children:f.jsx(on,{icon:O.isPending?SQ:pN,onClick:()=>{O.mutate({id:i})}})})})]})}}),[]),children:[f.jsx(Wie,{nodeId:e}),f.jsx(FL,{orientation:"horizontal",showInteractive:!1,showZoom:!1,children:f.jsx(ff,{target:f.jsx(gm,{className:"react-flow__controls-button",iconEnabled:Tn}),outside:!1,textTitle:f.jsx(ee,{label:"Create blueprint (modal)"}),css:{modal:["w-1/3"]},children:({close:i})=>{const s=Xn([["Editor"]]),{locale:o}=cn({from:"/$locale"}),l=Xd();return f.jsx(ob,{mutation:Xt({async mutationFn(u){return In.promise(Ot.transaction().execute(d=>d.insertInto("Blueprint").values({id:Rn(),...u}).returningAll().executeTakeFirstOrThrow()),xr("Create blueprint"))},async onSuccess(u){await s(),l({to:"/$locale/apps/derivean/root/editor",params:{locale:o},search:{zoomTo:u.id}}),i()}})})}})}),f.jsx(LL,{}),f.jsx(AL,{variant:Xo.Dots,gap:12,size:1})]})})})},Vie=({graph:t,nodes:e,edges:n,size:r={width:344,height:36}})=>(t.setGraph({rankdir:"LR",nodesep:125,edgesep:65,ranksep:50}),e.forEach(i=>{t.setNode(i.id,{width:r.width,height:r.height})}),n.forEach(i=>{t.setEdge(i.source,i.target)}),HL.layout(t,{}),{nodes:e.map(i=>{const s=t.node(i.id);return{...i,targetPosition:"left",sourcePosition:"right",position:{x:s.x-r.width/2,y:s.y-r.height/2}}}),edges:n}),c1=Wt("/$locale/apps/derivean/root/editor")({validateSearch:er(W.object({zoomTo:W.string().optional()})),async loader({context:{kysely:t}}){const e=(await t.selectFrom("Blueprint").select(["id","name","cycles","sort"]).execute()).map(r=>({id:r.id,position:{x:0,y:0},data:r,type:"blueprint"})),n=(await t.selectFrom("Blueprint_Dependency").select(["id","blueprintId","dependencyId"]).execute()).map(({id:r,blueprintId:i,dependencyId:s})=>({id:r,source:s,target:i,type:"dependency"}));return Vie({graph:new HL.graphlib.Graph().setDefaultEdgeLabel(()=>({})),nodes:[...e],edges:[...n]})},component(){const t=c1.useLoaderData(),{zoomTo:e}=c1.useSearch();return f.jsx(Uie,{data:t,zoomTo:e})}}),u1=async({tx:t,userId:e})=>{const n=await t.selectFrom("Default_Inventory as di").select(["di.amount","di.resourceId","di.limit"]).limit(5e3).execute();await t.deleteFrom("User_Inventory").where("userId","=",e).execute();for await(const{amount:r,resourceId:i,limit:s}of n)t.insertInto("User_Inventory").values({id:Rn(),userId:e,inventoryId:(await t.insertInto("Inventory").values({id:Rn(),amount:r,resourceId:i,limit:s}).returning("id").executeTakeFirstOrThrow()).id}).execute()},Hie=async({tx:t,userId:e})=>{await u1({tx:t,userId:e})},Kie=()=>Xt({mutationKey:["useRegisterMutation"],async mutationFn({login:t,name:e,password1:n}){return Ot.transaction().execute(async r=>{const i=ym.parse(await r.insertInto("User").values({id:Rn(),name:e,login:t,password:EF.hash(n)}).returning(["User.id","User.name","User.login"]).executeTakeFirstOrThrow());try{await Hie({tx:r,userId:i.id})}catch(s){console.error(s)}return i})}}),Qie=W.object({name:W.string().min(1),login:W.string().min(1),password1:W.string().min(1),password2:W.string().min(1)}).refine(t=>t.password1===t.password2,{message:"Passwords must match",path:["password1"]}),Gie=({onSuccess:t})=>{const e=Kie(),n=Ci({resolver:Ti(Qie)}),r=Ii({isLoading:n.formState.isLoading,isSubmitting:n.formState.isSubmitting}).slots;return f.jsxs("form",{className:r.base(),onSubmit:n.handleSubmit(async i=>e.mutateAsync(i,{onSuccess:t,onError:s=>{Z1({error:s,errors:[O1({error:s,schema:J1,onError:({data:o})=>{n.setError("root",{message:o.message})}})],onError:o=>{n.setError("root",{message:o.message})}})}}).catch(()=>{})),children:[f.jsx(hi,{variant:{highlight:!0},error:n.formState.errors.root}),f.jsx(Nn,{formState:n.formState,name:"name",label:f.jsx(ee,{label:"Name (label)"}),children:f.jsx("input",{type:"text",className:r.input(),...n.register("name")})}),f.jsx(Nn,{formState:n.formState,name:"login",label:f.jsx(ee,{label:"Login (label)"}),children:f.jsx("input",{type:"text",className:r.input(),...n.register("login")})}),f.jsx(Nn,{formState:n.formState,name:"password1",label:f.jsx(ee,{label:"Password 1 (label)"}),children:f.jsx("input",{type:"password",className:r.input(),...n.register("password1")})}),f.jsx(Nn,{formState:n.formState,name:"password2",label:f.jsx(ee,{label:"Password 2 (label)"}),children:f.jsx("input",{type:"password",className:r.input(),...n.register("password2")})}),f.jsx(An,{iconEnabled:"icon-[mdi--register-outline]",iconDisabled:"icon-[mdi--register-outline]",type:"submit",children:f.jsx(ee,{label:"Register (submit)"})})]})},Jie=Wt("/$locale/apps/derivean/public/register")({component:()=>{const t=Xd();return f.jsx("div",{className:Yn(["flex","justify-center","h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:f.jsxs("div",{className:"flex flex-col bg-slate-100 p-20 w-1/2 m-10 drop-shadow-xl",children:[f.jsx("hr",{className:"my-12 h-0.5 border-t-0 bg-slate-300"}),f.jsx(Gie,{onSuccess:async e=>{pf.set("session",e),await t({to:"/$locale/apps/derivean/game"})}})]})})}}),Zie=Wt("/$locale/apps/derivean/public/logout")({pendingComponent(){return f.jsx("div",{className:Yn(["flex items-center justify-center h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:f.jsx(KD,{icon:yN,textTitle:f.jsx(ee,{label:"Logout (label)"}),textMessage:f.jsx(ee,{label:"Logout in progress..."}),css:{base:["p-4","bg-slate-200","rounded"]}})})},async loader({params:{locale:t}}){throw pf.remove("session"),Gh({to:"/$locale/apps/derivean/public/login",params:{locale:t}})}}),Yie=()=>Xt({mutationKey:["useLoginMutation"],async mutationFn({login:t,password:e}){return Ot.transaction().execute(async n=>{const r=await n.selectFrom("User as u").select(["u.id","u.login","u.name"]).where("u.login","=",t).where("u.password","=",EF.hash(e)).executeTakeFirstOrThrow();return{id:r.id,login:r.login,name:r.name}})}}),Xie=W.object({login:W.string().min(1),password:W.string().min(1)}),ese=({onSuccess:t})=>{const{locale:e}=cn({from:"/$locale"}),n=Yie(),r=Ci({resolver:Ti(Xie)}),i=Ii({isLoading:r.formState.isLoading,isSubmitting:r.formState.isSubmitting}).slots;return f.jsxs("form",{className:i.base(),onSubmit:r.handleSubmit(async s=>n.mutateAsync(s,{onSuccess:t,onError:o=>{Z1({error:o,errors:[O1({error:o,schema:J1,onError:({data:l})=>{r.setError("root",{message:l.message})}})],onError:l=>{r.setError("root",{message:l.message})}})}}).catch(()=>{})),children:[f.jsx(hi,{variant:{highlight:!0},error:r.formState.errors.root}),f.jsx(Nn,{formState:r.formState,name:"login",label:f.jsx(ee,{label:"Login (label)"}),children:f.jsx("input",{type:"text",className:i.input(),...r.register("login")})}),f.jsx(Nn,{formState:r.formState,name:"password",label:f.jsx(ee,{label:"Password (label)"}),children:f.jsx("input",{type:"password",className:i.input(),...r.register("password")})}),f.jsxs("div",{className:"flex flex-row justify-between gap-8",children:[f.jsx(Kt,{icon:"icon-[mdi--register-outline]",to:"/$locale/apps/derivean/public/register",params:{locale:e},children:f.jsx(ee,{label:"Register (link)"})}),f.jsx(An,{iconEnabled:"icon-[uiw--login]",iconDisabled:"icon-[uiw--login]",type:"submit",children:f.jsx(ee,{label:"Login (submit)"})})]})]})},tse=Wt("/$locale/apps/derivean/public/login")({component:()=>{const t=Xd();return f.jsx("div",{className:Yn(["flex","justify-center","h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:f.jsxs("div",{className:"flex flex-col bg-slate-100 p-20 w-1/2 m-10 drop-shadow-xl",children:[f.jsx("hr",{className:"my-12 h-0.5 border-t-0 bg-slate-300"}),f.jsx(ese,{onSuccess:async e=>{pf.set("session",e),await t({to:"/$locale/apps/derivean/game"})}})]})})}}),nse=({inventory:t})=>f.jsxs("div",{className:Yn(["flex","flex-col","gap-2","rounded-md","border","border-slate-300","p-2","cursor-default","hover:bg-slate-100",t.amount>=t.limit?["border-red-400","hover:border-red-600","hover:bg-red-50"]:void 0]),children:[f.jsxs("div",{className:"flex flex-row items-center justify-between",children:[f.jsx("div",{className:"font-bold",children:t.name}),_n({number:t.amount})," /"," ",_n({number:t.limit})]}),t.limit>0?f.jsx(ec,{variant:{size:"md"},value:100*t.amount/t.limit,css:{progress:t.amount>=t.limit?["bg-red-500"]:void 0}}):null]}),rse=yn({slot:{base:["flex","flex-col","gap-4","w-4/12","border-l-2","border-slate-200","shadow-sm","relative","max-h-screen"],title:["flex","flex-row","justify-between","items-center","px-4","py-4","shadow-md"],content:["flex","flex-col","gap-2","max-h-full","overflow-y-auto","px-4","mb-4"]},variant:{},defaults:{}}),rc=({icon:t,textTitle:e,textSubTitle:n,variant:r,tva:i=rse,css:s,children:o})=>{const{locale:l}=cn({from:"/$locale"}),u=i({...r,css:s}).slots;return f.jsxs("div",{className:u.base(),children:[f.jsxs("div",{className:u.title(),children:[f.jsxs("div",{className:"flex flex-col gap-2 font-bold",children:[f.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[f.jsx(on,{icon:t,css:{base:["text-slate-500"]}}),e]}),n?f.jsx("div",{className:"flex flex-row gap-2 items-center text-sm text-slate-500",children:n}):null]}),f.jsx(Kt,{icon:pN,to:"/$locale/apps/derivean/map",params:{locale:l}})]}),f.jsx("div",{className:u.content(),children:o})]})},cM=({inventory:t,fulltextProps:e,...n})=>f.jsxs(rc,{icon:ki,textTitle:f.jsx(ee,{label:"Inventory (label)"}),...n,children:[f.jsx(kD,{...e}),t.map(r=>f.jsx(nse,{inventory:r},r.id))]}),My=Wt("/$locale/apps/derivean/map/inventory")({validateSearch:er(W.object({fulltext:W.string().optional()})),loaderDeps({search:{fulltext:t}}){return{fulltext:t}},async loader({context:{queryClient:t,kysely:e,session:n},deps:{fulltext:r}}){const i=await n();return{inventory:await t.ensureQueryData({queryKey:["User_Inventory",i.id,{fulltext:r}],async queryFn(){return e.transaction().execute(async s=>$i({select:s.selectFrom("Inventory as i").innerJoin("Resource as r","r.id","i.resourceId").select(["i.id","i.amount","i.limit","r.name"]).where("i.id","in",s.selectFrom("User_Inventory as ui").select("ui.inventoryId").where("ui.userId","=",i.id)).orderBy("r.name"),query({select:o,where:l}){let u=o;if(l?.fulltext){const d=`%${l.fulltext}%`.toLowerCase();u=u.where(p=>p.or([p("r.name","like",d)]))}return u},output:W.object({id:W.string().min(1),amount:W.number().nonnegative(),limit:W.number().nonnegative(),name:W.string().min(1)}),filter:{fulltext:r}}))}})}},component(){const{fulltext:t}=My.useSearch(),e=My.useNavigate(),{inventory:n}=My.useLoaderData();return f.jsx(cM,{inventory:n,fulltextProps:{value:t,onFulltext(r){e({search:{fulltext:r}})}}})}}),ise=yn({slot:{base:["flex","flex-col","gap-2","rounded-md","bg-white","border","border-slate-300","p-2","hover:bg-slate-100","cursor-draggable"]},variant:{isDragging:{true:[]}},match:[{if:{isDragging:!0},then:{base:["cursor-grabbing","bg-slate-100"]}}],defaults:{isDragging:!1}}),sse=async({blueprintId:t,userId:e,x:n,y:r,plan:i,valid:s})=>Ot.transaction().execute(async o=>{const l=await o.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(["br.resourceId","br.amount","br.passive","r.name"]).where("br.blueprintId","=",t).execute();for await(const{resourceId:p,amount:h,passive:b,name:x}of l){const _=await o.selectFrom("Inventory as i").select(["i.id","i.amount"]).where("i.resourceId","=",p).where("i.amount",">=",h).where("i.id","in",o.selectFrom("User_Inventory as ui").select("ui.inventoryId").where("ui.userId","=",e)).executeTakeFirstOrThrow(()=>new Error(`"Not enough resources [${x}]; required [${h}]`));b||await o.updateTable("Inventory").set({amount:_.amount-h}).where("id","=",_.id).execute()}const{count:u}=await o.selectFrom("Cycle as c").select(p=>p.fn.count("c.id").as("count")).executeTakeFirstOrThrow(),d=await o.selectFrom("Blueprint as b").select(["b.cycles"]).where("b.id","=",t).executeTakeFirstOrThrow();return o.insertInto("Construction").values({id:Rn(),blueprintId:t,userId:e,cycle:0,from:u,to:u+d.cycles,x:n,y:r,plan:i,valid:s}).returningAll().executeTakeFirstOrThrow()}),ose=({userId:t,entity:e,variant:n,tva:r=ise,css:i})=>{const{locale:s}=cn({from:"/$locale"}),o=Xd(),l=Xn([["GameMap"]]),u=Xt({async mutationFn({blueprintId:p}){const h=await sse({userId:t,blueprintId:p,x:0,y:0,plan:!0,valid:!1});o({to:"/$locale/apps/derivean/map/construction",params:{locale:s},search:{zoomToId:h.id}})},async onSuccess(){await l()},onError(p){console.error(p)}}),d=r({...n,css:i}).slots;return f.jsx("div",{className:d.base(),children:f.jsxs("div",{className:"flex flex-row gap-2 items-center justify-between",children:[f.jsxs("div",{className:"flex flex-row gap-2",children:[f.jsxs(ro,{children:["x",e.count]}),f.jsx("div",{className:"font-bold",children:e.name})]}),f.jsx("div",{className:"flex flex-row gap-2",children:f.jsx(An,{iconEnabled:eb,iconDisabled:eb,loading:u.isPending,onClick:()=>{u.mutate({blueprintId:e.id})}})})]})})},ase=({userId:t,blueprints:e,...n})=>f.jsx(rc,{icon:eb,textTitle:f.jsx(ee,{label:"Construction (label)"}),...n,children:e.map(r=>f.jsx(ose,{userId:t,entity:r},r.id))}),uM=Wt("/$locale/apps/derivean/map/construction")({async loader({context:{queryClient:t,kysely:e,session:n}}){const r=await n();return{user:r,blueprints:await t.ensureQueryData({queryKey:["GameMap",r.id],async queryFn(){return e.transaction().execute(async i=>$i({select:i.selectFrom("Blueprint as bl").select(["bl.id","bl.name",s=>s.selectFrom("Building as bg").select(o=>o.fn.count("bg.id").as("count")).whereRef("bg.blueprintId","=","bl.id").where("bg.userId","=",r.id).as("count")]).orderBy("bl.sort","asc"),output:W.object({id:W.string().min(1),name:W.string().min(1),count:W.number().int().nonnegative()})}))}})}},component(){const{user:t,blueprints:e}=uM.useLoaderData();return f.jsx(ase,{userId:t.id,blueprints:e})}}),oy=Ir(),lse=[oy({name:"name",header(){return f.jsx(ee,{label:"Resource name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceId",t.resourceId)}},size:18}),oy({name:"amount",header(){return f.jsx(ee,{label:"Amount (label)"})},render({value:t}){return _n({number:t})},size:18}),oy({name:"limit",header(){return f.jsx(ee,{label:"Inventory limit (label)"})},render({value:t}){return _n({number:t})},size:14}),oy({name:"storage",header(){return f.jsx(ee,{label:"Storage (label)"})},render({data:t}){return f.jsx(ec,{value:100*t.amount/t.limit})},size:24})],cse=({table:t,...e})=>f.jsx(Nr,{table:kr({...t,columns:lse}),...e}),QN=Lie({shape:W.object({resourceId:W.string().min(1),amount:hs(),limit:hs()}),filter:Ui.merge(W.object({resourceId:W.string().optional()}))}),$y=Wt("/$locale/apps/derivean/game/inventory")({validateSearch:er(Er(QN)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{kysely:t,session:e},deps:{filter:n,cursor:r}}){const i=await e();return t.transaction().execute(s=>sr({select:s.selectFrom("Inventory as i").innerJoin("Resource as r","r.id","i.resourceId").selectAll("i").select("r.name").where("i.id","in",s.selectFrom("User_Inventory as ui").select("ui.inventoryId").where("ui.userId","=",i.id)).orderBy("r.name"),query({select:o,where:l}){let u=o;if(l?.id&&(u=u.where("i.id","=",l.id)),l?.idIn&&(u=u.where("i.id","in",l.idIn)),l?.fulltext){const d=`%${l.fulltext}%`.toLowerCase();u=u.where(p=>p.or([p("i.id","like",`%${d}%`),p("r.id","like",`%${d}%`),p("r.name","like",`%${d}%`),p("r.id","in",p.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(h=>h.or([h("t.code","like",d),h("t.label","like",d),h("t.group","like",d)])))]))}return u},output:W.object({id:W.string().min(1),name:W.string().min(1),resourceId:W.string().min(1),amount:W.number().nonnegative(),limit:W.number().nonnegative()}),filter:n,cursor:r}))},component(){const{data:t,count:e}=$y.useLoaderData(),{filter:n,cursor:r}=$y.useSearch(),i=$y.useNavigate(),{tva:s}=ir({from:"__root__"}),o=s().slots;return f.jsx("div",{className:o.base(),children:f.jsx(cse,{table:{data:t,filter:{value:n,set:_r(i)}},fulltext:{value:n?.fulltext,set:Sr(i)},cursor:{count:e,cursor:r,textTotal:f.jsx(ee,{label:"Number of items"}),...wr(i)}})})}}),dM=Wt("/$locale/apps/derivean/db/schema")({async loader({context:{kysely:t}}){return{tables:await t.introspection.getTables()}},component(){const{tables:t}=dM.useLoaderData(),e=({dataType:i,isNullable:s})=>{const o=i.toLowerCase();let l=`z.never({message: '${i}'})`;switch(o){case"integer":{l="z.number().int()";break}case"float4":{l="z.number()";break}case"datetime":{l="z.string()";break}case"boolean":{l="withBoolSchema()";break}}return o.startsWith("varchar")&&(l=`z.string()${s?"":".min(1)"}`),`
// ${i} / ${s?"nullable":"not nullable"}
${l}${s?".nullish()":""}
`},n=t.map(i=>{const s=i.name.replaceAll("_","");return`
export const with${s}Schema = <
    TShapeSchema extends ShapeSchema,
    TFilterSchema extends FilterSchema,
>({
    shape,
    filter,
}: {
    shape: TShapeSchema;
    filter: TFilterSchema;
}) => {
    return withSourceSchema({
        entity: IdentitySchema.merge(z.object({
                ${i.columns.filter(({name:o})=>o!=="id").map(o=>`
    "${o.name}": ${e(o)}
        `.trim()).join(`,
			`)},
        })),
        shape,
        filter,
        sort: [${i.columns.map(o=>`"${o.name}"`).join(", ")}],
    });
}

export type ${s}Entity = ReturnType<typeof with${s}Schema>['~entity'];
            `.trim()}),r=t.map(i=>{const s=i.name.replaceAll("_","");return`${i.name}: ${s}Entity;`});return f.jsxs("pre",{children:[`
import {
    IdentitySchema,
    withSourceSchema,
    type FilterSchema,
    type ShapeSchema,
    withBoolSchema,
} from "@use-pico/common";
import { z } from "zod";
            `.trim(),`

${n.join(`

`)}`,`

export interface Database {
    ${r.join(`
	`)}
}
                `]})}}),u3=Ir(),use=[u3({name:"name",header(){return f.jsx(ee,{label:"User name (label)"})},render({data:t,value:e}){const{locale:n}=cn({from:"/$locale"});return f.jsx(Kt,{to:"/$locale/apps/derivean/root/user/$id/view",params:{locale:n,id:t.id},children:e})},size:14}),u3({name:"login",header(){return f.jsx(ee,{label:"User login (label)"})},render({value:t}){return t},size:14})],dse=({table:t,...e})=>{const n=Xn([["Management"],["User_Inventory"]]),r=Xt({async mutationFn({userId:o}){return Ot.transaction().execute(l=>u1({tx:l,userId:o}))},async onSuccess(){await n()}}),i=Xt({async mutationFn({userId:o}){return Ot.transaction().execute(async l=>{await u1({tx:l,userId:o}),await l.deleteFrom("Building").where("userId","=",o).execute(),await l.deleteFrom("Production").where("userId","=",o).execute(),await l.deleteFrom("Construction").where("userId","=",o).execute(),await l.deleteFrom("Cycle").where("userId","=",o).execute()})},async onSuccess(){await n()}}),s=Xt({async mutationFn({userId:o}){return Ot.transaction().execute(async l=>{await l.updateTable("Inventory").set({amount:1e3}).where("id","in",l.selectFrom("User_Inventory").select("inventoryId").where("userId","=",o)).execute()})},async onSuccess(){await n()}});return f.jsx(Nr,{table:kr({...t,columns:use}),action:{row({data:o}){return f.jsxs(Hn,{children:[f.jsx(Iy,{icon:ki,onClick:()=>{r.mutateAsync({userId:o.id})},children:f.jsx(ee,{label:"Apply default inventory (menu)"})}),f.jsx(Iy,{icon:wN,onClick:()=>{s.mutateAsync({userId:o.id})},children:f.jsx(ee,{label:"Cheat inventory (menu)"})}),f.jsx(Iy,{icon:ri,onClick:()=>{i.mutateAsync({userId:o.id})},children:f.jsx(ee,{label:"Reset game (menu)"})})]})}},...e})},fse=Bie({shape:W.object({name:W.string().min(1),login:W.string().min(1),password:W.string().min(1)}),filter:Ui.merge(W.object({login:W.string().optional(),password:W.string().optional()}))}),By=Wt("/$locale/apps/derivean/root/user/list")({validateSearch:er(Er(fse)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return t.ensureQueryData({queryKey:["User","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(i=>sr({select:i.selectFrom("User as u").select(["u.id","u.name","u.login"]),output:W.object({id:W.string().min(1),name:W.string().min(1),login:W.string().min(1)}),filter:n,cursor:r}))}})},component:()=>{const{data:t,count:e}=By.useLoaderData(),{filter:n,cursor:r,selection:i}=By.useSearch(),s=By.useNavigate(),{tva:o}=ir({from:"__root__"}),l=o().slots;return f.jsx("div",{className:l.base(),children:f.jsx(dse,{table:{data:t,filter:{value:n,set:_r(s)},selection:{type:"multi",value:i,set:Hi(s)}},fulltext:{value:n?.fulltext,set:Sr(s)},cursor:{count:e,cursor:r,textTotal:f.jsx(ee,{label:"Number of users (label)"}),...wr(s)}})})}}),pse=({entity:t,...e})=>{const{locale:n}=cn({from:"/$locale"});return f.jsxs(Xl,{...e,children:[f.jsx($n,{icon:vN,to:"/$locale/apps/derivean/root/user/$id/view",params:{locale:n,id:t.id},children:f.jsx(ee,{label:"View detail (menu)"})}),f.jsx($n,{icon:nc,to:"/$locale/apps/derivean/root/user/$id/building/list",params:{locale:n,id:t.id},children:f.jsx(ee,{label:"Building list (menu)"})}),f.jsx($n,{icon:ki,to:"/$locale/apps/derivean/root/user/$id/inventory",params:{locale:n,id:t.id},children:f.jsx(ee,{label:"Inventory (menu)"})})]})},hse=t=>{const{locale:e}=cn({from:"/$locale"});return f.jsx(hf,{title:({entity:n})=>f.jsx(mf,{icon:vN,title:n.name}),actions:()=>f.jsx(f.Fragment,{children:f.jsx(Kt,{icon:Vb,to:"/$locale/apps/derivean/root/user/list",params:{locale:e},children:f.jsx(ee,{label:"User list (label)"})})}),...t})},fM=Wt("/$locale/apps/derivean/root/user/$id")({async loader({context:{kysely:t},params:{id:e}}){return t.transaction().execute(async n=>({entity:await tc({select:n.selectFrom("User as u").select(["u.id","u.name"]).where("u.id","=",e),output:W.object({id:W.string().min(1),name:W.string().min(1)})})}))},component(){const{tva:t}=ir({from:"__root__"}),{entity:e}=fM.useLoaderData(),n=t().slots;return f.jsxs("div",{className:n.base(),children:[f.jsx(hse,{entity:e}),f.jsx(pse,{entity:e}),f.jsx(lo,{})]})}}),Nm=$ie({shape:W.object({code:W.string().min(1),label:W.string().min(1),group:W.string().nullish(),sort:Xp()}),filter:Ui.merge(W.object({code:W.string().optional(),group:W.string().optional()}))}),d3=({mutation:t,defaultValues:e,variant:n,tva:r=Ii,css:i})=>{const s=Ci({resolver:Ti(Nm.shape),defaultValues:{sort:0,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return f.jsxs("form",{className:o.base(),onSubmit:ys({form:s,mutation:t}),children:[f.jsx(hi,{variant:{highlight:!0},error:s.formState.errors.root}),f.jsx(Nn,{formState:s.formState,name:"code",label:f.jsx(ee,{label:"Tag code (label)"}),required:!0,children:f.jsx("input",{type:"text",className:o.input(),...s.register("code")})}),f.jsx(Nn,{formState:s.formState,name:"label",label:f.jsx(ee,{label:"Tag label (label)"}),required:!0,children:f.jsx("input",{type:"text",className:o.input(),...s.register("label")})}),f.jsx(Nn,{formState:s.formState,name:"group",label:f.jsx(ee,{label:"Tag group (label)"}),children:f.jsx("input",{type:"text",className:o.input(),...s.register("group")})}),f.jsx(Nn,{formState:s.formState,name:"sort",label:f.jsx(ee,{label:"Tag sort (label)"}),children:f.jsx("input",{type:"number",className:o.input(),...s.register("sort")})}),f.jsx("div",{className:"flex flex-row justify-between gap-8",children:f.jsx(An,{iconEnabled:jh,type:"submit",children:f.jsx(ee,{label:"Save (submit)"})})})]})},AS=Ir(),mse=[AS({name:"label",header(){return f.jsx(ee,{label:"Tag label (label)"})},render({value:t}){return t},size:14}),AS({name:"code",header(){return f.jsx(ee,{label:"Tag code (label)"})},render({value:t}){return t},size:14}),AS({name:"group",header(){return f.jsx(ee,{label:"Tag group (label)"})},render({value:t}){return t},filter:{path:"group",onFilter({data:t,filter:e}){e.shallow("group",t.group)}},size:24})],pM=({group:t,table:e,...n})=>{const r=Xn([["Tag"],["Resource"]]);return f.jsx(Nr,{table:kr({...e,columns:mse}),action:{table(){return f.jsx(Hn,{children:f.jsx(gn,{label:f.jsx(ee,{label:"Create tag (menu)"}),textTitle:f.jsx(ee,{label:"Create tag (modal)"}),icon:jh,children:f.jsx(d3,{defaultValues:{group:t},mutation:Xt({async mutationFn(i){return In.promise(Ot.transaction().execute(s=>s.insertInto("Tag").values({id:Rn(),...i}).returningAll().executeTakeFirstOrThrow()),xr("Create tag"))},async onSuccess(){await r()}})})})})},row({data:i}){return f.jsxs(Hn,{children:[f.jsx(gn,{label:f.jsx(ee,{label:"Edit (menu)"}),textTitle:f.jsx(ee,{label:"Edit tag (modal)"}),icon:jh,children:f.jsx(d3,{defaultValues:{group:t,...i},mutation:Xt({async mutationFn(s){return In.promise(Ot.transaction().execute(o=>o.updateTable("Tag").set(s).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),xr("Edit tag"))},async onSuccess(){await r()}})})}),f.jsx(gn,{icon:ri,label:f.jsx(ee,{label:"Delete (menu)"}),textTitle:f.jsx(ee,{label:"Delete tag (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:f.jsx(Ki,{callback:async()=>{await Ot.transaction().execute(s=>s.deleteFrom("Tag").where("id","=",i.id).execute())},textContent:f.jsx(ee,{label:"Tag delete (content)"}),textToast:"Tag delete",invalidator:r})})]})}},...n})},zy=Wt("/$locale/apps/derivean/root/tag/list")({validateSearch:er(Er(Nm)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return t.ensureQueryData({queryKey:["Tag","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async i=>sr({select:i.selectFrom("Tag as t").select(["t.id","t.code","t.label","t.group","t.sort"]).orderBy("t.sort","desc"),output:W.object({id:W.string().min(1),code:W.string().min(1),label:W.string().min(1),group:W.string().nullish(),sort:W.number().int().nonnegative()}),filter:n,cursor:r}))}})},component:()=>{const{data:t,count:e}=zy.useLoaderData(),{filter:n,cursor:r,selection:i}=zy.useSearch(),s=zy.useNavigate(),{tva:o}=ir({from:"__root__"}),l=o().slots;return f.jsx("div",{className:l.base(),children:f.jsx(pM,{table:{data:t,filter:{value:n,set:_r(s)},selection:{type:"multi",value:i,set:Hi(s)}},fulltext:{value:n?.fulltext,set:Sr(s)},cursor:{count:e,cursor:r,textTotal:f.jsx(ee,{label:"Number of items"}),...wr(s)}})})}}),gse=({group:t,...e})=>f.jsx(WG,{icon:jh,table:n=>f.jsx(pM,{group:t,...n}),render:({entities:n})=>f.jsx(QD,{tags:n}),queryKey:"Tag",query:async({filter:n,cursor:r})=>Ot.transaction().execute(async i=>sr({select:i.selectFrom("Tag as t").select(["t.id","t.code","t.label","t.group","t.sort"]),output:Nm.entity,query({select:s,where:o}){let l=s;if(o?.id&&(l=l.where("t.id","=",o.id)),o?.idIn&&(l=l.where("t.id","in",o.idIn)),o?.fulltext){const u=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("t.code","like",u),d("t.group","like",u),d("t.label","like",u),d("t.id","like",u)]))}return l},filter:n,cursor:r})),...e}),hM=Mie({shape:W.object({name:W.string().min(1),transport:hs(),tagIds:W.array(W.string()).optional()}),filter:Ui.merge(W.object({name:W.string().optional()}))}),f3=({group:t="resource",mutation:e,defaultValues:n,variant:r,tva:i=Ii,css:s})=>{const o=Ci({resolver:Ti(hM.shape),defaultValues:{transport:1,...n}}),l=i({...r,isLoading:o.formState.isLoading,isSubmitting:o.formState.isSubmitting,css:s}).slots;return f.jsxs("form",{className:l.base(),onSubmit:ys({form:o,mutation:e}),children:[f.jsx(hi,{variant:{highlight:!0},error:o.formState.errors.root}),f.jsx(Nn,{formState:o.formState,name:"name",label:f.jsx(ee,{label:"Resource name (label)"}),children:f.jsx("input",{type:"text",className:l.input(),...o.register("name")})}),f.jsx(Nn,{formState:o.formState,name:"transport",label:f.jsx(ee,{label:"Resource transport (label)"}),hint:f.jsx(ee,{label:"Amount of resources transported per cycle (hint)"}),required:!0,children:f.jsx("input",{type:"number",className:l.input(),min:.5,step:.5,...o.register("transport")})}),f.jsx(Nn,{formState:o.formState,name:"tagIds",label:f.jsx(ee,{label:"Resource tags (label)"}),children:f.jsx(ms,{control:o.control,name:"tagIds",render:({field:{ref:u,...d}})=>f.jsx(gse,{group:t,textTitle:f.jsx(ee,{label:"Select resource tags (title)"}),textSelect:f.jsx(ee,{label:"Select resource tags (label)"}),allowEmpty:!0,...d})})}),f.jsx("div",{className:"flex flex-row justify-between gap-8",children:f.jsx(An,{iconEnabled:Un,type:"submit",children:f.jsx(ee,{label:"Save (submit)"})})})]})},Xu=Ir(),yse=[Xu({name:"name",header(){return f.jsx(ee,{label:"Resource name (label)"})},render({data:t,value:e}){const{locale:n}=cn({from:"/$locale"});return f.jsx(Kt,{to:"/$locale/apps/derivean/root/resource/$id/view",params:{locale:n,id:t.id},children:e})},size:18}),Xu({name:"transport",header(){return f.jsx(ee,{label:"Resource transport (label)"})},render({value:t}){return _n({number:t})},size:12}),Xu({name:"countProduction",header(){return f.jsx(ee,{label:"Resource production count (label)"})},render({value:t}){return f.jsx(ro,{css:{base:t!==void 0&&t===0?["bg-red-100","text-red-500","border-red-600"]:[]},children:_n({number:t})})},size:12}),Xu({name:"countRequirement",header(){return f.jsx(ee,{label:"Resource requirement count (label)"})},render({data:t,value:e}){return f.jsx(ro,{css:{base:t.countRequirement===0&&t.countProductionRequirement===0?["bg-red-100","text-red-500","border-red-600"]:[]},children:_n({number:e})})},size:12}),Xu({name:"countProductionRequirement",header(){return f.jsx(ee,{label:"Resource production requirement count (label)"})},render({data:t,value:e}){return f.jsx(ro,{css:{base:t.countRequirement===0&&t.countProductionRequirement===0?["bg-red-100","text-red-500","border-red-600"]:[]},children:_n({number:e})})},size:18}),Xu({name:"tags",header(){return f.jsx(ee,{label:"Resource tags (label)"})},render({value:t}){return f.jsx(QD,{tags:t})},size:32})],mM=({group:t,table:e,...n})=>{const r=Xn([["Resource"],["Resource_Tag"]]);return f.jsx(Nr,{table:kr({...e,columns:yse}),action:{table(){return f.jsx(Hn,{children:f.jsx(gn,{label:f.jsx(ee,{label:"Create resource (menu)"}),textTitle:f.jsx(ee,{label:"Create resource (modal)"}),icon:Un,children:({close:i})=>f.jsx(f3,{group:t,mutation:Xt({async mutationFn({name:s,transport:o,tagIds:l=[]}){return Ot.transaction().execute(async u=>{const d=await u.insertInto("Resource").values({id:Rn(),name:s,transport:o}).returningAll().executeTakeFirstOrThrow();return l.length&&await u.insertInto("Resource_Tag").values(l.map(p=>({id:Rn(),resourceId:d.id,tagId:p}))).execute(),d})},async onSuccess(){await r(),i()}})})})})},row({data:i}){return f.jsxs(Hn,{children:[f.jsx(gn,{label:f.jsx(ee,{label:"Edit (menu)"}),textTitle:f.jsx(ee,{label:"Edit resource (modal)"}),icon:Un,children:({close:s})=>f.jsx(f3,{defaultValues:{...i,tagIds:i.tags.map(({id:o})=>o)},mutation:Xt({async mutationFn({tagIds:o,...l}){return In.promise(Ot.transaction().execute(async u=>{const d=await u.updateTable("Resource").set(l).where("id","=",i.id).returningAll().executeTakeFirstOrThrow();return await u.deleteFrom("Resource_Tag").where("resourceId","=",d.id).execute(),o?.length&&await u.insertInto("Resource_Tag").values(o.map(p=>({id:Rn(),resourceId:d.id,tagId:p}))).execute(),d}),xr("Update resource"))},async onSuccess(){await r(),s()}})})}),f.jsx(gn,{icon:ri,label:f.jsx(ee,{label:"Delete (menu)"}),textTitle:f.jsx(ee,{label:"Delete resource (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:f.jsx(Ki,{callback:async()=>Ot.transaction().execute(async s=>s.deleteFrom("Resource").where("id","=",i.id).execute()),textContent:f.jsx(ee,{label:"Resource delete (content)"}),textToast:"Resource delete",invalidator:r})})]})}},...n})},Wy=Wt("/$locale/apps/derivean/root/resource/list")({validateSearch:er(Er(hM)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return t.ensureQueryData({queryKey:["Resource","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(i=>sr({select:i.selectFrom("Resource as r").select(["r.id","r.name","r.transport",s=>s.selectFrom("Tag as t").select(o=>Pr`json_group_array(json_object(
                                            'id', ${o.ref("t.id")},
                                            'code', ${o.ref("t.code")},
                                            'group', ${o.ref("t.group")},
                                            'sort', ${o.ref("t.sort")},
                                            'label', ${o.ref("t.label")}
                                        ))`.as("tags")).where("t.id","in",s.selectFrom("Resource_Tag as rt").select("rt.tagId").whereRef("rt.resourceId","=","r.id")).as("tags"),s=>s.selectFrom("Blueprint_Requirement").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countRequirement"),s=>s.selectFrom("Blueprint_Production").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countProduction"),s=>s.selectFrom("Blueprint_Production_Requirement").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countProductionRequirement")]).orderBy("r.name","asc"),query({select:s,where:o}){let l=s;if(o?.fulltext){const u=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("r.id","like",u),d("r.name","like",u),d("r.id","in",d.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(p=>p.or([p("t.code","like",u),p("t.label","like",u),p("t.group","like",u)])))]))}return l},output:W.object({id:W.string().min(1),name:W.string().min(1),transport:hs(),countRequirement:W.number().nonnegative(),countProduction:W.number().nonnegative(),countProductionRequirement:W.number().nonnegative(),tags:fs(Nm.entity)}),filter:n,cursor:r}))}})},component:()=>{const{data:t,count:e}=Wy.useLoaderData(),{filter:n,cursor:r,selection:i}=Wy.useSearch(),s=Wy.useNavigate(),{tva:o}=ir({from:"__root__"}),l=o().slots;return f.jsx("div",{className:l.base(),children:f.jsx(mM,{table:{data:t,filter:{value:n,set:_r(s)},selection:{type:"multi",value:i,set:Hi(s)}},fulltext:{value:n?.fulltext,set:Sr(s)},cursor:{count:e,cursor:r,textTotal:f.jsx(ee,{label:"Number of items"}),...wr(s)}})})}}),vse=({entity:t,...e})=>{const{locale:n}=cn({from:"/$locale"});return f.jsx(Xl,{...e,children:f.jsx($n,{icon:Un,to:"/$locale/apps/derivean/root/resource/$id/view",params:{locale:n,id:t.id},children:f.jsx(ee,{label:"View detail (menu)"})})})},bse=t=>{const{locale:e}=cn({from:"/$locale"});return f.jsx(hf,{title:({entity:n})=>f.jsx(mf,{icon:Un,title:n.name}),actions:()=>f.jsx(f.Fragment,{children:f.jsx(Kt,{icon:Vb,to:"/$locale/apps/derivean/root/resource/list",params:{locale:e},children:f.jsx(ee,{label:"Resource list (label)"})})}),...t})},gM=Wt("/$locale/apps/derivean/root/resource/$id")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return t.ensureQueryData({queryKey:["Resource",n],async queryFn(){return e.transaction().execute(async r=>({entity:await tc({select:r.selectFrom("Resource as r").select(["r.id","r.name"]).where("r.id","=",n),output:W.object({id:W.string().min(1),name:W.string().min(1)})})}))}})},component:()=>{const{tva:t}=ir({from:"__root__"}),{entity:e}=gM.useLoaderData(),n=t().slots;return f.jsxs("div",{className:n.base(),children:[f.jsx(bse,{entity:e}),f.jsx(vse,{entity:e}),f.jsx(lo,{})]})}}),yf=({group:t,...e})=>f.jsx(HD,{icon:Un,textTitle:f.jsx(ee,{label:"Select resource (title)"}),textSelect:f.jsx(ee,{label:"Select resource (label)"}),table:n=>f.jsx(mM,{group:t,...n}),render:({entity:n})=>n.name,queryKey:"Resource",query:async({filter:n,cursor:r})=>Ot.transaction().execute(async i=>sr({select:i.selectFrom("Resource as r").select(["r.id","r.name","r.transport",s=>s.selectFrom("Tag as t").select(o=>Pr`json_group_array(json_object(
                                                'id', ${o.ref("t.id")},
                                                'code', ${o.ref("t.code")},
                                                'group', ${o.ref("t.group")},
                                                'sort', ${o.ref("t.sort")},
                                                'label', ${o.ref("t.label")}
                                            ))`.as("tags")).where("t.id","in",i.selectFrom("Resource_Tag as rt").select("rt.tagId").where("rt.resourceId","=",s.ref("r.id"))).as("tags"),s=>s.selectFrom("Blueprint_Requirement").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countRequirement"),s=>s.selectFrom("Blueprint_Production").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countProduction"),s=>s.selectFrom("Blueprint_Production_Requirement").select(o=>o.fn.count("id").as("count")).whereRef("resourceId","=","r.id").as("countProductionRequirement")]).orderBy("r.name","asc"),query({select:s,where:o}){let l=s;if(o?.id&&(l=l.where("r.id","=",o.id)),o?.fulltext){const u=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("r.id","like",u),d("r.name","like",u),d("r.id","in",d.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(p=>p.or([p("t.code","like",u),p("t.label","like",u),p("t.group","like",u)])))]))}return l},output:W.object({id:W.string().min(1),name:W.string().min(1),transport:hs(),tags:fs(Nm.entity),countRequirement:W.number().nonnegative(),countProduction:W.number().nonnegative(),countProductionRequirement:W.number().nonnegative()}),filter:n,cursor:r})),...e}),yM=Die({shape:W.object({resourceId:W.string().min(1),amount:hs(),limit:hs()}),filter:Ui}),p3=({mutation:t,defaultValues:e,variant:n,tva:r=Ii,css:i})=>{const s=Ci({resolver:Ti(yM.shape),defaultValues:{amount:0,limit:0,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return f.jsxs("form",{className:o.base(),onSubmit:ys({form:s,mutation:t}),children:[f.jsx(hi,{variant:{highlight:!0},error:s.formState.errors.root}),f.jsx(Nn,{formState:s.formState,name:"resourceId",label:f.jsx(ee,{label:"Resource name (label)"}),children:f.jsx(ms,{control:s.control,name:"resourceId",render:({field:{ref:l,...u}})=>f.jsx(yf,{textTitle:f.jsx(ee,{label:"Select resource (title)"}),allowEmpty:!0,...u})})}),f.jsx(Nn,{formState:s.formState,name:"amount",label:f.jsx(ee,{label:"Amount (label)"}),children:f.jsx("input",{type:"number",className:o.input(),...s.register("amount")})}),f.jsx(Nn,{formState:s.formState,name:"limit",label:f.jsx(ee,{label:"Limit (label)"}),hint:f.jsx(ee,{label:"Inventory limit (hint)"}),children:f.jsx("input",{type:"number",className:o.input(),...s.register("limit")})}),f.jsx("div",{className:"flex flex-row justify-between gap-8",children:f.jsx(An,{iconEnabled:ki,type:"submit",children:f.jsx(ee,{label:"Save (submit)"})})})]})},PS=Ir(),xse=[PS({name:"name",header(){return f.jsx(ee,{label:"Resource name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceId",t.resourceId)}},size:18}),PS({name:"amount",header(){return f.jsx(ee,{label:"Amount (label)"})},render({value:t}){return _n({number:t})},size:12}),PS({name:"limit",header(){return f.jsx(ee,{label:"Inventory limit (label)"})},render({value:t,data:e}){return f.jsxs("div",{className:"flex flex-row items-center gap-2 w-full",children:[f.jsx("div",{children:_n({number:t})}),f.jsx(ec,{value:100*e.amount/e.limit})]})},size:14})],wse=({table:t,...e})=>{const n=Xn([["Default_Inventory"]]),r=Xt({async mutationFn(){return Ot.transaction().execute(async i=>{const s=await i.selectFrom("Resource as r").select(["r.id"]).where("r.id","not in",i.selectFrom("Default_Inventory").select("resourceId")).execute();return i.insertInto("Default_Inventory").values(s.map(({id:o})=>({id:Rn(),amount:0,limit:0,resourceId:o}))).execute()})},async onSuccess(){await n()}});return f.jsx(Nr,{table:kr({...t,columns:xse}),action:{table(){return f.jsxs(Hn,{children:[f.jsx(gn,{label:f.jsx(ee,{label:"Create inventory item (menu)"}),textTitle:f.jsx(ee,{label:"Create inventory item (modal)"}),icon:ki,children:f.jsx(p3,{mutation:Xt({async mutationFn(i){return In.promise(Ot.transaction().execute(async s=>s.insertInto("Default_Inventory").values({id:Rn(),...i}).returningAll().executeTakeFirstOrThrow()),xr("Create inventory item"))},async onSuccess(){await n()}})})}),f.jsx(Iy,{icon:Un,onClick:()=>{r.mutate()},children:f.jsx(ee,{label:"Fill missing resources (label)"})})]})},row({data:i}){return f.jsxs(Hn,{children:[f.jsx(gn,{label:f.jsx(ee,{label:"Edit (menu)"}),textTitle:f.jsx(ee,{label:"Edit inventory item (modal)"}),icon:ki,children:f.jsx(p3,{defaultValues:i,mutation:Xt({async mutationFn(s){return In.promise(Ot.transaction().execute(async o=>o.updateTable("Default_Inventory").set(s).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),xr("Update inventory item"))},async onSuccess(){await n()}})})}),f.jsx(gn,{icon:ri,label:f.jsx(ee,{label:"Delete (menu)"}),textTitle:f.jsx(ee,{label:"Delete inventory item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:f.jsx(Ki,{callback:async()=>Ot.transaction().execute(async s=>s.deleteFrom("Default_Inventory").where("id","=",i.id).execute()),textContent:f.jsx(ee,{label:"Inventory item delete (content)"}),textToast:"Inventory item delete",invalidator:n})})]})}},...e})},Uy=Wt("/$locale/apps/derivean/root/default/inventory")({validateSearch:er(Er(yM)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return t.ensureQueryData({queryKey:["Default_Inventory","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(i=>sr({select:i.selectFrom("Default_Inventory as di").innerJoin("Resource as r","r.id","di.resourceId").select(["di.id","r.name","di.amount","di.limit","di.resourceId"]).orderBy("r.name","asc"),query({select:s,where:o}){let l=s;if(o?.id&&(l=l.where("di.id","=",o.id)),o?.idIn&&(l=l.where("di.id","in",o.idIn)),o?.fulltext){const u=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("di.id","like",`%${u}%`),d("r.id","like",`%${u}%`),d("r.name","like",`%${u}%`),d("r.id","in",d.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(p=>p.or([p("t.code","like",u),p("t.label","like",u),p("t.group","like",u)])))]))}return l},output:W.object({id:W.string().min(1),name:W.string().min(1),resourceId:W.string().min(1),amount:W.number().nonnegative(),limit:W.number().int().nonnegative()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Uy.useLoaderData(),{filter:n,cursor:r,selection:i}=Uy.useSearch(),s=Uy.useNavigate(),{tva:o}=ir({from:"__root__"}),l=o().slots;return f.jsx("div",{className:l.base(),children:f.jsx(wse,{table:{data:t,filter:{value:n,set:_r(s)},selection:{type:"multi",value:i,set:Hi(s)}},fulltext:{value:n?.fulltext,set:Sr(s)},cursor:{count:e,cursor:r,textTotal:f.jsx(ee,{label:"Number of items"}),...wr(s)}})})}}),_se=yn({slot:{item:["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2","bg-sky-100","border-sky-300","text-sky-500"]},variant:{missing:{true:[]}},match:[{if:{missing:!0},then:{item:["bg-amber-100","border-amber-300"]}}],defaults:{missing:!1}}),vM=({dependencies:t,variant:e,tva:n=_se,css:r,...i})=>{const s=n({...e,css:r}).slots;return f.jsx(Vd,{items:t,render:({entity:o})=>f.jsx("div",{className:s.item(),children:f.jsx("div",{children:o.name})}),...i})};var ay={},h3;function Sse(){if(h3)return ay;h3=1;function t(r,i,s,o){var l=new Set;return function(u){if(!l.has(u)){var d=new Set,p=[],h=[];for(h.push({node:u,processed:!1});h.length>0;){var b=h[h.length-1],x=b.processed,_=b.node;if(x)h.pop(),p.pop(),d.delete(_),l.add(_),(!i||r.get(_).length===0)&&s.push(_);else{if(l.has(_)){h.pop();continue}else if(d.has(_)){if(o){h.pop();continue}throw p.push(_),new n(p)}d.add(_),p.push(_);for(var E=r.get(_),I=E.length-1;I>=0;I--)h.push({node:E[I],processed:!1});b.processed=!0}}}}}var e=ay.DepGraph=function(i){this.nodes=new Map,this.outgoingEdges=new Map,this.incomingEdges=new Map,this.circular=i&&!!i.circular};e.prototype={size:function(){return this.nodes.size},addNode:function(r,i){this.hasNode(r)||(arguments.length===2?this.nodes.set(r,i):this.nodes.set(r,r),this.outgoingEdges.set(r,[]),this.incomingEdges.set(r,[]))},removeNode:function(r){this.hasNode(r)&&(this.nodes.delete(r),this.outgoingEdges.delete(r),this.incomingEdges.delete(r),[this.incomingEdges,this.outgoingEdges].forEach(function(i){i.forEach(function(s){var o=s.indexOf(r);o>=0&&s.splice(o,1)})}))},hasNode:function(r){return this.nodes.has(r)},getNodeData:function(r){if(this.hasNode(r))return this.nodes.get(r);throw new Error("Node does not exist: "+r)},setNodeData:function(r,i){if(this.hasNode(r))this.nodes.set(r,i);else throw new Error("Node does not exist: "+r)},addDependency:function(r,i){if(!this.hasNode(r))throw new Error("Node does not exist: "+r);if(!this.hasNode(i))throw new Error("Node does not exist: "+i);return this.outgoingEdges.get(r).indexOf(i)===-1&&this.outgoingEdges.get(r).push(i),this.incomingEdges.get(i).indexOf(r)===-1&&this.incomingEdges.get(i).push(r),!0},removeDependency:function(r,i){var s;this.hasNode(r)&&(s=this.outgoingEdges.get(r).indexOf(i),s>=0&&this.outgoingEdges.get(r).splice(s,1)),this.hasNode(i)&&(s=this.incomingEdges.get(i).indexOf(r),s>=0&&this.incomingEdges.get(i).splice(s,1))},clone:function(){var r=this,i=new e;return r.nodes.forEach(function(s,o){i.nodes.set(o,s),i.outgoingEdges.set(o,r.outgoingEdges.get(o).slice(0)),i.incomingEdges.set(o,r.incomingEdges.get(o).slice(0))}),i.circular=r.circular,i},directDependenciesOf:function(r){if(this.hasNode(r))return this.outgoingEdges.get(r).slice(0);throw new Error("Node does not exist: "+r)},directDependantsOf:function(r){if(this.hasNode(r))return this.incomingEdges.get(r).slice(0);throw new Error("Node does not exist: "+r)},dependenciesOf:function(r,i){if(this.hasNode(r)){var s=[],o=t(this.outgoingEdges,i,s,this.circular);o(r);var l=s.indexOf(r);return l>=0&&s.splice(l,1),s}else throw new Error("Node does not exist: "+r)},dependantsOf:function(r,i){if(this.hasNode(r)){var s=[],o=t(this.incomingEdges,i,s,this.circular);o(r);var l=s.indexOf(r);return l>=0&&s.splice(l,1),s}else throw new Error("Node does not exist: "+r)},overallOrder:function(r){var i=this,s=[],o=Array.from(this.nodes.keys());if(o.length===0)return s;if(!this.circular){var l=t(this.outgoingEdges,!1,[],this.circular);o.forEach(function(d){l(d)})}var u=t(this.outgoingEdges,r,s,this.circular);return o.filter(function(d){return i.incomingEdges.get(d).length===0}).forEach(function(d){u(d)}),this.circular&&o.filter(function(d){return s.indexOf(d)===-1}).forEach(function(d){u(d)}),s},entryNodes:function(){var r=this;return Array.from(this.nodes.keys()).filter(function(i){return r.incomingEdges.get(i).length===0})}},e.prototype.directDependentsOf=e.prototype.directDependantsOf,e.prototype.dependentsOf=e.prototype.dependantsOf;var n=ay.DepGraphCycleError=function(r){var i="Dependency Cycle Found: "+r.join(" -> "),s=new Error(i);return s.cyclePath=r,Object.setPrototypeOf(s,Object.getPrototypeOf(this)),Error.captureStackTrace&&Error.captureStackTrace(s,n),s};return n.prototype=Object.create(Error.prototype,{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(n,Error),ay}var bM=Sse();const km=async({tx:t})=>{const e=new bM.DepGraph({circular:!1});for await(const{id:n,name:r}of await t.selectFrom("Blueprint").select(["id","name"]).execute())e.addNode(n,r);for await(const{blueprintId:n,dependencyId:r}of await t.selectFrom("Blueprint_Dependency").select(["blueprintId","dependencyId"]).execute())e.addDependency(n,r);return e},Kh=async({tx:t})=>{const e=km({tx:t}),n=await t.selectFrom("Blueprint as bl").select(["bl.id"]).execute();for await(const r of n){const i=(await e).dependenciesOf(r.id);await t.updateTable("Blueprint").set({sort:i.length}).where("id","=",r.id).execute()}},Ese=yn({slot:{item:["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2"]},variant:{passive:{true:[]},missing:{true:[]}},match:[{if:{passive:!0},then:{item:["bg-purple-100","border-purple-300","text-purple-500"]}},{if:{passive:!1},then:{item:["bg-sky-100","border-sky-300","text-sky-500"]}},{if:{missing:!0},then:{item:["bg-amber-100","border-amber-300"]}}],defaults:{passive:!1,missing:!1}}),lx=({requirements:t,diff:e,variant:n,tva:r=Ese,css:i,...s})=>{const o=r({...n,css:i}).slots;return f.jsx(Vd,{items:t,render:({entity:l})=>{const u=e?.find(p=>p.resourceId===l.resourceId),d=u?.amount?u.amount-l.amount:-l.amount;return f.jsxs("div",{className:o.item({css:!e||d>=0?[]:["text-red-700","bg-red-100","border-red-300"],passive:l.passive}),children:[f.jsx("div",{children:l.name}),f.jsxs("div",{className:"text-md font-bold text-slate-500",children:["x",_n({number:l.amount})]}),e?d>=0?f.jsx(on,{icon:"icon-[pajamas--check-sm]",css:{base:["text-emerald-600"]}}):f.jsxs("div",{className:"flex flex-row gao-2 items-center text-sm text-red-500",children:[f.jsx(on,{icon:"icon-[charm--cross]",css:{base:["text-red-500"]}}),"(",_n({number:d}),")"]}):null]})},...s})},wp=Ir(),Nse=[wp({name:"name",header(){return f.jsx(ee,{label:"Building name (label)"})},render({data:t,value:e}){const{locale:n}=cn({from:"/$locale"});return f.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[f.jsx(Kt,{icon:"icon-[ph--graph-light]",to:"/$locale/apps/derivean/root/editor",params:{locale:n},search:{zoomTo:t.id}}),f.jsx(Kt,{icon:Tn,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:n,id:t.id},children:e})]})},size:18}),wp({name:"dependencies",header(){return f.jsx(ee,{label:"Blueprint dependencies (label)"})},render({value:t}){return t.length>0?f.jsxs("div",{className:"flex flex-col flex-wrap gap-2 w-full",children:[f.jsx(vM,{textTitle:f.jsx(ee,{label:"Blueprint dependencies (title)"}),dependencies:t}),f.jsx("div",{className:"border-b border-slate-200"})]}):f.jsx(ee,{label:"No dependencies (label)"})},size:32}),wp({name:"requirements",header(){return f.jsx(ee,{label:"Required resources (label)"})},render({value:t}){return f.jsx(lx,{textTitle:f.jsx(ee,{label:"Blueprint requirements (title)"}),textEmpty:f.jsx(ee,{label:"No requirements (label)"}),requirements:t})},size:32}),wp({name:"cycles",header(){return f.jsx(ee,{label:"Construction cycles (label)"})},render({value:t}){return f.jsxs("div",{className:"flex flex-row items-center gap-2",children:[f.jsx(on,{icon:Hh}),_n({number:t})]})},size:8}),wp({name:"limit",header(){return f.jsx(ee,{label:"Building limit (label)"})},render({value:t}){return _n({number:t})},size:8})],xM=({dependencies:t,table:e,...n})=>{const r=Xn([["Blueprint"],["Inventory"]]);return f.jsx(Nr,{table:kr({...e,columns:Nse,context:{dependencies:t}}),action:{table(){return f.jsx(Hn,{children:f.jsx(gn,{label:f.jsx(ee,{label:"Create blueprint (menu)"}),textTitle:f.jsx(ee,{label:"Create blueprint (modal)"}),icon:Tn,children:({close:i})=>f.jsx(ob,{mutation:Xt({async mutationFn(s){return In.promise(Ot.transaction().execute(async o=>{const l=o.insertInto("Blueprint").values({id:Rn(),...s}).returningAll().executeTakeFirstOrThrow();return await Kh({tx:o}),l}),xr("Create blueprint"))},async onSuccess(){await r(),i()}})})})})},row({data:i}){return f.jsxs(Hn,{children:[f.jsx(gn,{label:f.jsx(ee,{label:"Edit (menu)"}),textTitle:f.jsx(ee,{label:"Edit blueprint (modal)"}),icon:Tn,children:({close:s})=>f.jsx(ob,{defaultValues:i,mutation:Xt({async mutationFn(o){return In.promise(Ot.transaction().execute(async l=>{const u=l.updateTable("Blueprint").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow();return await Kh({tx:l}),u}),xr("Update blueprint"))},async onSuccess(){await r(),s()}})})}),f.jsx(gn,{icon:ri,label:f.jsx(ee,{label:"Delete (menu)"}),textTitle:f.jsx(ee,{label:"Delete blueprint (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:f.jsx(Ki,{callback:async()=>Ot.transaction().execute(async s=>s.deleteFrom("Blueprint").where("id","=",i.id).execute()),textContent:f.jsx(ee,{label:"Delete blueprint (content)"}),textToast:"Delete blueprint",invalidator:r})})]})}},...n})},ic=Tie({shape:W.object({dependencyId:W.string().min(1)}),filter:Ui.merge(W.object({blueprintId:W.string().optional(),dependencyId:W.string().optional()}))}),vf=Pie({shape:W.object({resourceId:W.string().min(1),amount:hs(),passive:W.boolean()}),filter:Ui.merge(W.object({blueprintId:W.string().optional(),resourceId:W.string().optional()}))}),Vy=Wt("/$locale/apps/derivean/root/blueprint/list")({validateSearch:er(Er(KN)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r}}){return{data:await t.ensureQueryData({queryKey:["Blueprint","list-count",{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>sr({select:s.selectFrom("Blueprint as bl").select(["bl.id","bl.name","bl.sort","bl.cycles","bl.limit",o=>o.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(l=>Pr`json_group_array(json_object(
                                                'id', ${l.ref("br.id")},
                                                'amount', ${l.ref("br.amount")},
                                                'passive', ${l.ref("br.passive")},
                                                'resourceId', ${l.ref("br.resourceId")},
                                                'blueprintId', ${l.ref("br.blueprintId")},
                                                'name', ${l.ref("r.name")}
                                            ))`.as("requirements")).whereRef("br.blueprintId","=","bl.id").as("requirements"),o=>o.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as bl2","bl2.id","bd.dependencyId").select(l=>Pr`json_group_array(json_object(
                                                        'id', ${l.ref("bd.id")},
                                                        'dependencyId', ${l.ref("bd.dependencyId")},
                                                        'blueprintId', ${l.ref("bd.blueprintId")},
                                                        'name', ${l.ref("bl2.name")}
                                                    ))`.as("requirements")).whereRef("bd.blueprintId","=","bl.id").orderBy("bl2.name","asc").as("dependencies")]).orderBy("bl.sort","asc").orderBy("bl.name","asc"),query({select:o,where:l}){let u=o;if(l?.id&&(u=u.where("bl.id","=",l.id)),l?.fulltext){const d=`%${l.fulltext}%`.toLowerCase();u=u.where(p=>p.or([p("bl.id","like",d),p("bl.name","like",d)]))}return u},output:W.object({id:W.string().min(1),name:W.string().min(1),cycles:W.number().nonnegative(),sort:W.number().nonnegative(),limit:W.number().nonnegative(),requirements:fs(vf.entity.merge(W.object({name:W.string().min(1)}))),dependencies:fs(ic.entity.merge(W.object({name:W.string().min(1)})))}),filter:n,cursor:r}))}}),dependencies:await e.transaction().execute(async s=>km({tx:s}))}},component(){const{data:{data:t,count:e},dependencies:n}=Vy.useLoaderData(),{filter:r,cursor:i,selection:s}=Vy.useSearch(),o=Vy.useNavigate(),{tva:l}=ir({from:"__root__"}),u=l().slots;return f.jsx("div",{className:u.base(),children:f.jsx(xM,{dependencies:n,table:{data:t,filter:{value:r,set:_r(o)},selection:{type:"multi",value:s,set:Hi(o)}},fulltext:{value:r?.fulltext,set:Sr(o)},cursor:{count:e,cursor:i,textTotal:f.jsx(ee,{label:"Number of blueprints"}),...wr(o)}})})}}),kse=({entity:t,...e})=>{const{locale:n}=cn({from:"/$locale"});return f.jsxs(Xl,{...e,children:[f.jsx($n,{icon:Tn,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:n,id:t.id},children:f.jsx(ee,{label:"View detail (menu)"})}),f.jsx($n,{icon:nc,to:"/$locale/apps/derivean/root/blueprint/$id/dependencies",params:{locale:n,id:t.id},children:f.jsx(ee,{label:"Blueprint dependencies (menu)"})}),f.jsx($n,{icon:Un,to:"/$locale/apps/derivean/root/blueprint/$id/requirements",params:{locale:n,id:t.id},children:f.jsx(ee,{label:"Required resources (menu)"})}),f.jsx($n,{icon:oo,to:"/$locale/apps/derivean/root/blueprint/$id/production",params:{locale:n,id:t.id},children:f.jsx(ee,{label:"Resource production (menu)"})}),f.jsx($n,{icon:ki,to:"/$locale/apps/derivean/root/blueprint/$id/inventory",params:{locale:n,id:t.id},children:f.jsx(ee,{label:"Blueprint inventory (menu)"})}),f.jsx($n,{icon:"icon-[solar--bomb-minimalistic-outline]",to:"/$locale/apps/derivean/root/blueprint/$id/conflicts",params:{locale:n,id:t.id},children:f.jsx(ee,{label:"Blueprint conflicts (menu)"})}),f.jsx($n,{icon:ID,to:"/$locale/apps/derivean/root/blueprint/$id/edit",params:{locale:n,id:t.id},children:f.jsx(ee,{label:"Edit (menu)"})})]})},Ise=t=>{const{locale:e}=cn({from:"/$locale"});return f.jsx(hf,{title:({entity:n})=>f.jsx(mf,{icon:Tn,title:n.name}),actions:({entity:n})=>f.jsxs(f.Fragment,{children:[f.jsx(Kt,{icon:Vb,to:"/$locale/apps/derivean/root/blueprint/list",params:{locale:e},children:f.jsx(ee,{label:"Blueprint list (label)"})}),f.jsx(Kt,{icon:"icon-[ph--graph-light]",to:"/$locale/apps/derivean/root/editor",params:{locale:e},search:{zoomTo:n.id},children:f.jsx(ee,{label:"Editor (label)"})})]}),...t})},wM=Wt("/$locale/apps/derivean/root/blueprint/$id")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return{entity:await t.ensureQueryData({queryKey:["Blueprint","fetch",n],async queryFn(){return e.transaction().execute(async i=>tc({select:i.selectFrom("Blueprint as bl").select(["bl.id","bl.name","bl.sort","bl.cycles",s=>s.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(o=>Pr`json_group_array(json_object(
                                                  'id', ${o.ref("br.id")},
                                                  'amount', ${o.ref("br.amount")},
                                                  'passive', ${o.ref("br.passive")},
                                                  'resourceId', ${o.ref("br.resourceId")},
                                                  'blueprintId', ${o.ref("br.blueprintId")},
                                                  'name', ${o.ref("r.name")}
                                              ))`.as("requirements")).whereRef("br.blueprintId","=","bl.id").as("requirements"),s=>s.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as bl2","bl2.id","bd.dependencyId").select(o=>Pr`json_group_array(json_object(
                                                          'id', ${o.ref("bd.id")},
                                                          'dependencyId', ${o.ref("bd.dependencyId")},
                                                          'blueprintId', ${o.ref("bd.blueprintId")},
                                                          'name', ${o.ref("bl2.name")}
                                                      ))`.as("requirements")).whereRef("bd.blueprintId","=","bl.id").orderBy("bl2.name","asc").as("dependencies")]).where("bl.id","=",n).orderBy("bl.name","asc"),query({select:s,where:o}){let l=s;if(o?.fulltext){const u=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("bl.id","like",u),d("bl.name","like",u),d("bl.id","in",d.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select("br.blueprintId").where(p=>p.or([p("r.name","like",u)]))),d("bl.id","in",d.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as b","b.id","bd.dependencyId").select("bd.blueprintId").where(p=>p.or([p("b.name","like",u)])))]))}return l},output:W.object({id:W.string().min(1),name:W.string().min(1),cycles:W.number().nonnegative(),sort:W.number().nonnegative(),requirements:fs(vf.entity.merge(W.object({name:W.string().min(1)}))),dependencies:fs(ic.entity.merge(W.object({name:W.string().min(1)})))})}))}}),graph:await e.transaction().execute(async i=>km({tx:i}))}},component(){const{tva:t}=ir({from:"__root__"}),{entity:e}=wM.useLoaderData(),n=t().slots;return f.jsxs("div",{className:n.base(),children:[f.jsx(Ise,{entity:e}),f.jsx(kse,{entity:e}),f.jsx(lo,{})]})}}),Cse=Wt("/$locale/apps/derivean/map/route/$id")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return{route:await t.ensureQueryData({queryKey:["GameMap","route",n],async queryFn(){return e.transaction().execute(async r=>tc({select:r.selectFrom("Route as r").innerJoin("Building as bf","bf.id","r.fromId").innerJoin("Blueprint as blf","blf.id","bf.blueprintId").innerJoin("Building as bt","bt.id","r.toId").innerJoin("Blueprint as blt","blt.id","bt.blueprintId").select(["r.id","r.fromId","r.toId","blf.name as fromName","blt.name as toName"]).where("r.id","=",n),output:W.object({id:W.string().min(1),fromId:W.string().min(1),toId:W.string().min(1),fromName:W.string().min(1),toName:W.string().min(1)})}))}})}}}),Tse=Wt("/$locale/apps/derivean/map/building/$id")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return{building:await t.ensureQueryData({queryKey:["GameMap","building",n],async queryFn(){return e.transaction().execute(async r=>tc({select:r.selectFrom("Building as b").innerJoin("Blueprint as bl","bl.id","b.blueprintId").select(["b.id","bl.name","b.productionId","b.recurringProductionId"]).where("b.id","=",n),output:W.object({id:W.string().min(1),name:W.string().min(1),productionId:W.string().nullish(),recurringProductionId:W.string().nullish()})}))}})}}}),m3=Ir(),Ose=[m3({name:"name",header(){return f.jsx(ee,{label:"Building name (label)"})},render({data:t,value:e}){const{locale:n}=cn({from:"/$locale"});return f.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[f.jsx(Kt,{icon:"icon-[ph--graph-light]",to:"/$locale/apps/derivean/game",params:{locale:n},search:{blueprintId:t.id}}),f.jsx(Kt,{icon:Tn,to:"/$locale/apps/derivean/game/blueprint/$id/view",params:{locale:n,id:t.id},children:e})]})},size:18}),m3({name:"cycles",header(){return f.jsx(ee,{label:"Construction cycles (label)"})},render({value:t}){return f.jsxs("div",{className:"flex flex-row items-center gap-2",children:[f.jsx(on,{icon:Hh}),_n({number:t})]})},size:8})],Rse=({table:t,...e})=>f.jsx(Nr,{table:kr({...t,columns:Ose}),...e}),Hy=Wt("/$locale/apps/derivean/game/blueprint/list")({validateSearch:er(Er(KN)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e,session:n},deps:{filter:r,cursor:i}}){const s=await n();return{data:await t.ensureQueryData({queryKey:["Blueprint","list-count",{filter:r,cursor:i}],async queryFn(){return e.transaction().execute(async l=>sr({select:l.selectFrom("Blueprint as bl").select(["bl.id","bl.name","bl.cycles"]).where("bl.id","in",l.selectFrom("Building as bg").select("bg.blueprintId").where("bg.userId","=",s.id)).orderBy("bl.sort","asc").orderBy("bl.name","asc"),query({select:u,where:d}){let p=u;if(d?.id&&(p=p.where("bl.id","=",d.id)),d?.fulltext){const h=`%${d.fulltext}%`.toLowerCase();p=p.where(b=>b.or([b("bl.id","like",h),b("bl.name","like",h)]))}return p},output:W.object({id:W.string().min(1),name:W.string().min(1),cycles:W.number().nonnegative()}),filter:r,cursor:i}))}})}},component(){const{data:{data:t,count:e}}=Hy.useLoaderData(),{filter:n,cursor:r}=Hy.useSearch(),i=Hy.useNavigate(),{tva:s}=ir({from:"__root__"}),o=s().slots;return f.jsx("div",{className:o.base(),children:f.jsx(Rse,{table:{data:t,filter:{value:n,set:_r(i)}},fulltext:{value:n?.fulltext,set:Sr(i)},cursor:{count:e,cursor:r,textTotal:f.jsx(ee,{label:"Number of blueprints"}),...wr(i)}})})}}),qse=({entity:t,...e})=>{const{locale:n}=cn({from:"/$locale"});return f.jsxs(Xl,{...e,children:[f.jsx($n,{icon:Tn,to:"/$locale/apps/derivean/game/blueprint/$id/view",params:{locale:n,id:t.id},children:f.jsx(ee,{label:"View detail (menu)"})}),f.jsx($n,{icon:nc,to:"/$locale/apps/derivean/game/blueprint/$id/dependencies",params:{locale:n,id:t.id},children:f.jsx(ee,{label:"Blueprint dependencies (menu)"})}),f.jsx($n,{icon:Un,to:"/$locale/apps/derivean/game/blueprint/$id/requirements",params:{locale:n,id:t.id},children:f.jsx(ee,{label:"Required resources (menu)"})}),f.jsx($n,{icon:oo,to:"/$locale/apps/derivean/game/blueprint/$id/production",params:{locale:n,id:t.id},children:f.jsx(ee,{label:"Resource production (menu)"})}),f.jsx($n,{icon:"icon-[solar--bomb-minimalistic-outline]",to:"/$locale/apps/derivean/game/blueprint/$id/conflicts",params:{locale:n,id:t.id},children:f.jsx(ee,{label:"Blueprint conflicts (menu)"})})]})},jse=t=>{const{locale:e}=cn({from:"/$locale"});return f.jsx(hf,{title:({entity:n})=>f.jsx(mf,{icon:Tn,title:n.name}),actions:()=>f.jsx(f.Fragment,{children:f.jsx(Kt,{icon:Vb,to:"/$locale/apps/derivean/game/blueprint/list",params:{locale:e},children:f.jsx(ee,{label:"Blueprint list (label)"})})}),...t})},_M=Wt("/$locale/apps/derivean/game/blueprint/$id")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return{entity:await t.ensureQueryData({queryKey:["Blueprint","fetch",n],async queryFn(){return e.transaction().execute(async i=>tc({select:i.selectFrom("Blueprint as bl").select(["bl.id","bl.name","bl.cycles"]).where("bl.id","=",n).orderBy("bl.name","asc"),query({select:s,where:o}){let l=s;if(o?.fulltext){const u=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("bl.id","like",u),d("bl.name","like",u),d("bl.id","in",d.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select("br.blueprintId").where(p=>p.or([p("r.name","like",u)]))),d("bl.id","in",d.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as b","b.id","bd.dependencyId").select("bd.blueprintId").where(p=>p.or([p("b.name","like",u)])))]))}return l},output:W.object({id:W.string().min(1),name:W.string().min(1),cycles:W.number().nonnegative()})}))}}),graph:await e.transaction().execute(async i=>km({tx:i}))}},component(){const{tva:t}=ir({from:"__root__"}),{entity:e}=_M.useLoaderData(),n=t().slots;return f.jsxs("div",{className:n.base(),children:[f.jsx(jse,{entity:e}),f.jsx(qse,{entity:e}),f.jsx(lo,{})]})}}),Ase=Wt("/$locale/apps/derivean/root/user/$id/view")({component:()=>"yep"}),ab=({mutation:t,defaultValues:e,variant:n,tva:r=Ii,css:i})=>{const s=Ci({resolver:Ti(QN.shape),defaultValues:{amount:0,limit:0,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return f.jsxs("form",{className:o.base(),onSubmit:ys({form:s,mutation:t}),children:[f.jsx(hi,{variant:{highlight:!0},error:s.formState.errors.root}),f.jsx(Nn,{formState:s.formState,name:"resourceId",label:f.jsx(ee,{label:"Resource name (label)"}),children:f.jsx(ms,{control:s.control,name:"resourceId",render:({field:{ref:l,...u}})=>f.jsx(yf,{textTitle:f.jsx(ee,{label:"Select resource (title)"}),allowEmpty:!0,...u})})}),f.jsx(Nn,{formState:s.formState,name:"amount",label:f.jsx(ee,{label:"Amount (label)"}),children:f.jsx("input",{type:"number",className:o.input(),...s.register("amount")})}),f.jsx(Nn,{formState:s.formState,name:"limit",label:f.jsx(ee,{label:"Inventory limit (label)"}),children:f.jsx("input",{type:"number",className:o.input(),...s.register("limit")})}),f.jsx("div",{className:"flex flex-row justify-between gap-8",children:f.jsx(An,{iconEnabled:ki,type:"submit",children:f.jsx(ee,{label:"Save (submit)"})})})]})},FS=Ir(),Pse=[FS({name:"name",header(){return f.jsx(ee,{label:"Resource name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceId",t.resourceId)}},size:18}),FS({name:"amount",header(){return f.jsx(ee,{label:"Amount (label)"})},render({value:t}){return _n({number:t})},size:12}),FS({name:"limit",header(){return f.jsx(ee,{label:"Inventory limit (label)"})},render({value:t,data:e}){return f.jsxs("div",{className:"flex flex-row items-center gap-2 w-full",children:[f.jsx("div",{children:_n({number:t})}),f.jsx(ec,{value:100*e.amount/e.limit})]})},size:14})],Fse=({onCreate:t,table:e,...n})=>{const r=Xn([["Inventory"],["User_Inventory"],["Building_Base_Production"]]);return f.jsx(Nr,{table:kr({...e,columns:Pse}),action:{table:t?()=>f.jsx(Hn,{children:f.jsx(gn,{label:f.jsx(ee,{label:"Create inventory item (menu)"}),textTitle:f.jsx(ee,{label:"Create inventory item (modal)"}),icon:ki,children:f.jsx(ab,{mutation:Xt({async mutationFn(i){return In.promise(Ot.transaction().execute(async s=>{const o=await s.insertInto("Inventory").values({id:Rn(),...i}).returningAll().executeTakeFirstOrThrow();return await t?.({tx:s,entity:o}),o}),xr("Create inventory item"))},async onSuccess(){await r()}})})})}):void 0,row({data:i}){return f.jsxs(Hn,{children:[f.jsx(gn,{label:f.jsx(ee,{label:"Edit (menu)"}),textTitle:f.jsx(ee,{label:"Edit inventory item (modal)"}),icon:ki,children:f.jsx(ab,{defaultValues:i,mutation:Xt({async mutationFn(s){return In.promise(Ot.transaction().execute(async o=>o.updateTable("Inventory").set(s).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),xr("Update inventory item"))},async onSuccess(){await r()}})})}),f.jsx(gn,{icon:ri,label:f.jsx(ee,{label:"Delete (menu)"}),textTitle:f.jsx(ee,{label:"Delete inventory item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:f.jsx(Ki,{callback:async()=>Ot.transaction().execute(async s=>s.deleteFrom("Inventory").where("id","=",i.id).execute()),textContent:f.jsx(ee,{label:"Inventory item delete (content)"}),textToast:"Inventory item delete",invalidator:r})})]})}},...n})},qp=Wt("/$locale/apps/derivean/root/user/$id/inventory")({validateSearch:er(Er(QN)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Inventory","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(s=>sr({select:s.selectFrom("Inventory as i").innerJoin("Resource as r","r.id","i.resourceId").select(["i.id","i.resourceId","r.name","i.amount","i.limit"]).where("i.id","in",s.selectFrom("User_Inventory as ui").where("ui.userId","=",i).select("ui.inventoryId")).orderBy("r.name","asc"),query({select:o,where:l}){let u=o;if(l?.id&&(u=u.where("i.id","=",l.id)),l?.idIn&&(u=u.where("i.id","in",l.idIn)),l?.fulltext){const d=`%${l.fulltext}%`.toLowerCase();u=u.where(p=>p.or([p("i.id","like",`%${d}%`),p("r.id","like",`%${d}%`),p("r.name","like",`%${d}%`),p("r.id","in",p.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(h=>h.or([h("t.code","like",d),h("t.label","like",d),h("t.group","like",d)])))]))}return u},output:W.object({id:W.string().min(1),resourceId:W.string().min(1),name:W.string().min(1),amount:W.number().nonnegative(),limit:W.number().nonnegative()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=qp.useLoaderData(),{filter:n,cursor:r,selection:i}=qp.useSearch(),s=qp.useNavigate(),{id:o}=qp.useParams(),{tva:l}=ir({from:"__root__"}),u=l().slots;return f.jsx("div",{className:u.base(),children:f.jsx(Fse,{onCreate:async({tx:d,entity:p})=>d.insertInto("User_Inventory").values({id:Rn(),userId:o,inventoryId:p.id}).execute(),table:{data:t,filter:{value:n,set:_r(s)},selection:{type:"multi",value:i,set:Hi(s)}},fulltext:{value:n?.fulltext,set:Sr(s)},cursor:{count:e,cursor:r,textTotal:f.jsx(ee,{label:"Number of items"}),...wr(s)}})})}}),Dse=Wt("/$locale/apps/derivean/root/resource/$id/view")({component:()=>f.jsx("div",{children:'Hello "/$locale/apps/derivean/root/resource/$id/view/"!'})}),SM="icon-[carbon--document-requirements]",Lse=({entity:t,...e})=>{const{locale:n}=cn({from:"/$locale"});return f.jsxs(Xl,{...e,children:[f.jsx($n,{icon:SM,to:"/$locale/apps/derivean/root/blueprint/production/$id/requirements",params:{locale:n,id:t.id},children:f.jsx(ee,{label:"Production requirements (menu)"})}),f.jsx($n,{icon:Un,to:"/$locale/apps/derivean/root/blueprint/production/$id/resources",params:{locale:n,id:t.id},children:f.jsx(ee,{label:"Production resource requirements (menu)"})}),f.jsx($n,{icon:Tn,to:"/$locale/apps/derivean/root/blueprint/production/$id/dependencies",params:{locale:n,id:t.id},children:f.jsx(ee,{label:"Production resource dependencies (menu)"})})]})},Mse=t=>{const{locale:e}=cn({from:"/$locale"});return f.jsx(hf,{title:({entity:n})=>f.jsx(mf,{icon:oo,title:n.resource,subtitle:n.blueprint}),actions:({entity:n})=>f.jsx(f.Fragment,{children:f.jsx(Kt,{icon:Tn,to:"/$locale/apps/derivean/root/blueprint/$id/production",params:{locale:e,id:n.blueprintId},children:f.jsx(ee,{label:"Building base detail (label)"})})}),...t})},EM=Wt("/$locale/apps/derivean/root/blueprint/production/$id")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return t.ensureQueryData({queryKey:["Blueprint_Production",n],async queryFn(){return e.transaction().execute(async r=>({entity:await tc({select:r.selectFrom("Blueprint_Production as bp").innerJoin("Resource as r","r.id","bp.resourceId").innerJoin("Blueprint as bl","bl.id","bp.blueprintId").select(["bp.id","bp.amount","bp.cycles","r.name as resource","bp.blueprintId","bl.name as blueprint"]).where("bp.id","=",n),output:W.object({id:W.string().min(1),resource:W.string().min(1),blueprint:W.string().min(1),blueprintId:W.string().min(1),amount:W.number().nonnegative(),cycles:W.number().int().nonnegative()})})}))}})},component(){const{entity:t}=EM.useLoaderData(),{tva:e}=ir({from:"__root__"}),n=e().slots;return f.jsxs("div",{className:n.base(),children:[f.jsx(Mse,{entity:t}),f.jsx(Lse,{entity:t}),f.jsx(lo,{})]})}}),$se=({graph:t,blueprintId:e,mode:n="dependencies",reverse:r=!1})=>{try{const i=(s=>r?s.reverse():s)(n==="dependants"?t.dependantsOf(e):t.dependenciesOf(e));return f.jsxs("div",{className:Yn(["flex","flex-row","flex-wrap","gap-2","items-center"]),children:[i.length>0?f.jsx(on,{css:{base:["text-emerald-500"]},icon:"icon-[charm--circle-tick]"}):f.jsx(on,{css:{base:["text-amber-500"]},icon:"icon-[fe--question]"}),i.length>0?i.map(s=>f.jsx(ro,{css:{base:["bg-emerald-200","text-emerald-700","border-emerald-500"]},children:t.getNodeData(s)},Rn())):f.jsx(ee,{css:{base:["text-amber-500","font-bold"]},label:"No dependents (label)"})]})}catch(i){return i instanceof bM.DepGraphCycleError?f.jsxs("div",{className:Yn(["flex","flex-row","gap-2","items-center"]),children:[f.jsx(on,{css:{base:["text-red-500"]},icon:"icon-[charm--circle-cross]"}),i.cyclePath.map(s=>f.jsx(ro,{css:{base:["bg-red-200","text-red-700","border-red-500"]},children:t.getNodeData(s)},Rn()))]}):"kaboom"}},Bse=({dependencies:t,...e})=>f.jsx(wD,{items:[{id:"name",label:f.jsx(ee,{label:"Building name (label)"}),render({entity:n}){return n.name}},{id:"cycles",label:f.jsx(ee,{label:"Construction cycles (label)"}),render({entity:n}){return _n({number:n.cycles})}},{id:"requirements",label:f.jsx(ee,{label:"Required resources (label)"}),render({entity:n}){return f.jsx(lx,{requirements:n.requirements,textEmpty:f.jsx(ee,{label:"No requirements (label)"})})}},{id:"dependencies",label:f.jsx(ee,{label:"Blueprint dependencies (label)"}),render({entity:n}){return f.jsx(vM,{dependencies:n.dependencies,textEmpty:f.jsx(ee,{label:"No dependencies (label)"})})}},{id:"deps",label:f.jsx(ee,{label:"Blueprint dependency graph (label)"}),render({entity:n}){return f.jsx($se,{graph:t,blueprintId:n.id})}}],...e}),NM=Wt("/$locale/apps/derivean/root/blueprint/$id/view")({async loader({context:{kysely:t}}){return{dependencies:await t.transaction().execute(async e=>km({tx:e}))}},component(){const{dependencies:t}=NM.useLoaderData(),{entity:e}=Ps({from:"/$locale/apps/derivean/root/blueprint/$id"});return f.jsx("div",{className:"w-1/2 mx-auto",children:f.jsx(Bse,{dependencies:t,entity:e})})}}),g3=({mutation:t,defaultValues:e,variant:n,tva:r=Ii,css:i})=>{const s=Ci({resolver:Ti(vf.shape),defaultValues:{amount:1,passive:!1,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return f.jsxs("form",{className:o.base(),onSubmit:ys({form:s,mutation:t}),children:[f.jsx(hi,{variant:{highlight:!0},error:s.formState.errors.root}),f.jsx(Nn,{formState:s.formState,name:"resourceId",label:f.jsx(ee,{label:"Requirement (label)"}),children:f.jsx(ms,{control:s.control,name:"resourceId",render:({field:{ref:l,...u}})=>f.jsx(yf,{allowEmpty:!0,...u})})}),f.jsx(Nn,{formState:s.formState,name:"amount",label:f.jsx(ee,{label:"Amount (label)"}),children:f.jsx("input",{type:"number",className:o.input(),...s.register("amount")})}),f.jsx(Nn,{formState:s.formState,name:"passive",label:f.jsx(ee,{label:"Passive requirement (label)"}),hint:f.jsx(ee,{label:"Passive requirement (hint)"}),children:f.jsx(ms,{control:s.control,name:"passive",render:({field:{ref:l,...u}})=>f.jsx(xD,{...u})})}),f.jsx("div",{className:"flex flex-row justify-between gap-8",children:f.jsx(An,{iconEnabled:Un,type:"submit",children:f.jsx(ee,{label:"Save (submit)"})})})]})},DS=Ir(),zse=[DS({name:"name",header(){return f.jsx(ee,{label:"Requirement name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceID",t.resourceId)}},size:22}),DS({name:"amount",header(){return f.jsx(ee,{label:"Amount (label)"})},render({value:t}){return _n({number:t})},size:10}),DS({name:"passive",header(){return f.jsx(ee,{label:"Passive requirement (label)"})},render({value:t}){return f.jsx(Ub,{value:t})},size:10})],Wse=({blueprintId:t,table:e,...n})=>{const r=Xn([["Blueprint"],["Blueprint_Requirement"],["Blueprint_Resource_Requirement"],["Resource"]]);return f.jsx(Nr,{table:kr({...e,columns:zse}),action:{table(){return f.jsx(Hn,{children:f.jsx(gn,{label:f.jsx(ee,{label:"Create requirement item (menu)"}),textTitle:f.jsx(ee,{label:"Create requirement item (modal)"}),icon:Un,children:f.jsx(g3,{mutation:Xt({async mutationFn(i){return Ot.transaction().execute(async s=>s.insertInto("Blueprint_Requirement").values({id:Rn(),...i,blueprintId:t}).execute())},async onSuccess(){await r()}})})})})},row({data:i}){return f.jsxs(Hn,{children:[f.jsx(gn,{label:f.jsx(ee,{label:"Edit (menu)"}),textTitle:f.jsx(ee,{label:"Edit requirement item (modal)"}),icon:Un,children:f.jsx(g3,{defaultValues:i,mutation:Xt({async mutationFn(s){return Ot.transaction().execute(async o=>o.updateTable("Blueprint_Requirement").set(s).where("id","=",i.id).returningAll().executeTakeFirstOrThrow())},async onSuccess(){await r()}})})}),f.jsx(gn,{icon:ri,label:f.jsx(ee,{label:"Delete (menu)"}),textTitle:f.jsx(ee,{label:"Delete requirement item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:f.jsx(Ki,{callback:async()=>Ot.transaction().execute(async s=>s.deleteFrom("Blueprint_Requirement").where("id","=",i.id).execute()),textContent:f.jsx(ee,{label:"Delete requirement item (content)"}),textToast:"Delete requirement item",invalidator:r})})]})}},...n})},jp=Wt("/$locale/apps/derivean/root/blueprint/$id/requirements")({validateSearch:er(Er(vf)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Requirement","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>sr({select:s.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(["br.id","r.name","br.resourceId","br.amount","br.passive"]).where("br.blueprintId","=",i).orderBy("r.name","asc"),query({select:o,where:l}){let u=o;return l?.id&&(u=u.where("br.id","=",l.id)),l?.idIn&&(u=u.where("br.id","in",l.idIn)),l?.resourceId&&(u=u.where("br.resourceId","=",l.resourceId)),u},output:W.object({id:W.string().min(1),name:W.string().min(1),resourceId:W.string().min(1),amount:W.number().nonnegative(),passive:Ba()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=jp.useLoaderData(),{filter:n,cursor:r,selection:i}=jp.useSearch(),{id:s}=jp.useParams(),o=jp.useNavigate(),{tva:l}=ir({from:"__root__"}),u=l().slots;return f.jsx("div",{className:u.base(),children:f.jsx(Wse,{blueprintId:s,table:{data:t,filter:{value:n,set:_r(o)},selection:{type:"multi",value:i,set:Hi(o)}},fulltext:{value:n?.fulltext,set:Sr(o)},cursor:{count:e,cursor:r,textTotal:f.jsx(ee,{label:"Number of requirements (label)"}),...wr(o)}})})}}),GN=Rie({shape:W.object({resourceId:W.string().min(1),amount:hs(),cycles:Xp()}),filter:Ui.merge(W.object({blueprintId:W.string().optional(),resourceId:W.string().optional()}))}),y3=({mutation:t,defaultValues:e,variant:n,tva:r=Ii,css:i})=>{const s=Ci({resolver:Ti(GN.shape),defaultValues:{amount:1,cycles:1,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return f.jsxs("form",{className:o.base(),onSubmit:ys({form:s,mutation:t}),children:[f.jsx(hi,{variant:{highlight:!0},error:s.formState.errors.root}),f.jsx(Nn,{formState:s.formState,name:"resourceId",label:f.jsx(ee,{label:"Resource name (label)"}),children:f.jsx(ms,{control:s.control,name:"resourceId",render:({field:{ref:l,...u}})=>f.jsx(yf,{textTitle:f.jsx(ee,{label:"Select resource (title)"}),allowEmpty:!0,...u})})}),f.jsx(Nn,{formState:s.formState,name:"amount",label:f.jsx(ee,{label:"Amount (label)"}),children:f.jsx("input",{type:"number",className:o.input(),...s.register("amount")})}),f.jsx(Nn,{formState:s.formState,name:"cycles",label:f.jsx(ee,{label:"Production cycles (label)"}),hint:f.jsx(ee,{label:"Production cycles (hint)"}),children:f.jsx("input",{type:"number",className:o.input(),...s.register("cycles")})}),f.jsx("div",{className:"flex flex-row justify-between gap-8",children:f.jsx(An,{iconEnabled:oo,type:"submit",children:f.jsx(ee,{label:"Save (submit)"})})})]})},Im=t=>f.jsx(HD,{icon:Tn,textTitle:f.jsx(ee,{label:"Select blueprint (title)"}),table:({table:e,...n})=>f.jsx(xM,{table:{...e,hidden:["requirements","dependencies"]},...n}),render:({entity:e})=>e.name,queryKey:"Blueprint",query:async({filter:e,cursor:n})=>Ot.transaction().execute(async r=>sr({select:r.selectFrom("Blueprint as b").select(["b.id","b.name","b.sort","b.cycles","b.limit",i=>i.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(s=>Pr`json_group_array(json_object(
                                                    'id', ${s.ref("br.id")},
                                                    'amount', ${s.ref("br.amount")},
                                                    'passive', ${s.ref("br.passive")},
                                                    'resourceId', ${s.ref("br.resourceId")},
                                                    'blueprintId', ${s.ref("br.blueprintId")},
                                                    'name', ${s.ref("r.name")}
                                                ))`.as("requirements")).whereRef("br.blueprintId","=","b.id").as("requirements"),i=>i.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as b","b.id","bd.blueprintId").select(s=>Pr`json_group_array(json_object(
                                                    'id', ${s.ref("bd.id")},
                                                    'dependencyId', ${s.ref("bd.dependencyId")},
                                                    'blueprintId', ${s.ref("bd.blueprintId")},
                                                    'name', ${s.ref("b.name")}
                                                ))`.as("requirements")).whereRef("bd.blueprintId","=","b.id").as("dependencies")]).orderBy("b.name","asc"),query({select:i,where:s}){let o=i;if(s?.id&&(o=o.where("b.id","=",s.id)),s?.fulltext){const l=`%${s.fulltext}%`.toLowerCase();o=o.where(u=>u.or([u("b.id","like",l),u("b.name","like",l)]))}return o},output:W.object({id:W.string().min(1),name:W.string().min(1),cycles:W.number().nonnegative(),sort:W.number().nonnegative(),limit:W.number().nonnegative(),requirements:fs(vf.entity.merge(W.object({name:W.string().min(1)}))),dependencies:fs(ic.entity.merge(W.object({name:W.string().min(1)})))}),filter:e,cursor:n})),...t}),Use=W.object({blueprintId:W.string().min(1)}),Vse=({mutation:t,defaultValues:e,variant:n,tva:r=Ii,css:i})=>{const s=Ci({resolver:Ti(Use),defaultValues:e}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return f.jsxs("form",{className:o.base(),onSubmit:ys({form:s,mutation:t}),children:[f.jsx(hi,{variant:{highlight:!0},error:s.formState.errors.root}),f.jsx(Nn,{formState:s.formState,name:"blueprintId",label:f.jsx(ee,{label:"Target blueprint (label)"}),children:f.jsx(ms,{control:s.control,name:"blueprintId",render:({field:{ref:l,...u}})=>f.jsx(Im,{allowEmpty:!0,...u})})}),f.jsx("div",{className:"flex flex-row justify-between gap-8",children:f.jsx(An,{iconEnabled:Tn,type:"submit",children:f.jsx(ee,{label:"Save (submit)"})})})]})},ed=Ir(),Hse=[ed({name:"name",header(){return f.jsx(ee,{label:"Resource name (label)"})},render({data:t,value:e}){const{locale:n}=cn({from:"/$locale"});return f.jsx(Kt,{icon:oo,to:"/$locale/apps/derivean/root/blueprint/production/$id/requirements",params:{locale:n,id:t.id},children:e})},size:18}),ed({name:"amount",header(){return f.jsx(ee,{label:"Amount (label)"})},render({value:t}){return _n({number:t})},size:8}),ed({name:"cycles",header(){return f.jsx(ee,{label:"Production cycles (label)"})},render({value:t}){return _n({number:t})},size:8}),ed({name:"requirements",header(){return f.jsx(ee,{label:"Required resources (label)"})},render({value:t}){return f.jsx(lx,{textTitle:f.jsx(ee,{label:"Resource requirements (title)"}),textEmpty:f.jsx(ee,{label:"No requirements (label)"}),requirements:t})},size:32}),ed({name:"resources",header(){return f.jsx(ee,{label:"Required production resources (label)"})},render({value:t}){return f.jsx(Vd,{items:t,render:({entity:e})=>f.jsxs("div",{className:Yn(["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2"]),children:[f.jsx("div",{children:e.name}),f.jsxs("div",{className:"text-md font-bold text-slate-500",children:["x",_n({number:e.amount})]})]})})},size:32}),ed({name:"dependencies",header(){return f.jsx(ee,{label:"Required production dependencies (label)"})},render({value:t}){return f.jsx(Vd,{items:t,render:({entity:e})=>f.jsx("div",{className:Yn(["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2"]),children:f.jsx("div",{children:e.name})})})},size:32})],Kse=({blueprintId:t,table:e,...n})=>{const r=Xn([["Blueprint"],["Blueprint_Production"],["Blueprint_Production_Requirement"],["Resource"]]);return f.jsx(Nr,{table:kr({...e,columns:Hse}),action:{table(){return f.jsx(Hn,{children:f.jsx(gn,{label:f.jsx(ee,{label:"Create blueprint production (menu)"}),textTitle:f.jsx(ee,{label:"Create blueprint production (modal)"}),icon:oo,children:({close:i})=>f.jsx(y3,{mutation:Xt({async mutationFn(s){return Ot.transaction().execute(async o=>await o.insertInto("Blueprint_Production").values({id:Rn(),...s,blueprintId:t}).returningAll().executeTakeFirstOrThrow())},async onSuccess(){await r(),i()}})})})})},row({data:i}){return f.jsxs(Hn,{children:[f.jsx(gn,{label:f.jsx(ee,{label:"Edit (menu)"}),textTitle:f.jsx(ee,{label:"Edit blueprint production (modal)"}),icon:oo,children:f.jsx(y3,{defaultValues:i,mutation:Xt({async mutationFn(s){return Ot.transaction().execute(async o=>o.updateTable("Blueprint_Production").set(s).where("id","=",i.id).returningAll().executeTakeFirstOrThrow())},async onSuccess(){await r()}})})}),f.jsx(gn,{label:f.jsx(ee,{label:"Move production to (menu)"}),textTitle:f.jsx(ee,{label:"Move production to (modal)"}),icon:Un,children:({close:s})=>f.jsx(Vse,{mutation:Xt({async mutationFn(o){return Ot.transaction().execute(async l=>{await l.updateTable("Blueprint_Production").set({blueprintId:o.blueprintId}).where("id","=",i.id).execute()})},async onSuccess(){await r(),s()}})})}),f.jsx(gn,{icon:ri,label:f.jsx(ee,{label:"Delete (menu)"}),textTitle:f.jsx(ee,{label:"Delete blueprint production (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:f.jsx(Ki,{callback:async()=>Ot.transaction().execute(async s=>s.deleteFrom("Blueprint_Production").where("id","=",i.id).execute()),textContent:f.jsx(ee,{label:"Delete blueprint production (content)"}),textToast:"Delete blueprint production",invalidator:r})})]})}},...n})},Cm=qie({shape:W.object({blueprintId:W.string().min(1)}),filter:Ui}),Tm=jie({shape:W.object({resourceId:W.string().min(1),amount:hs(),passive:W.boolean()}),filter:Ui.merge(W.object({blueprintProductionId:W.string().optional(),resourceId:W.string().optional()}))}),Om=Aie({shape:W.object({resourceId:W.string().min(1),amount:hs()}),filter:Ui.merge(W.object({resourceId:W.string().optional()}))}),Ap=Wt("/$locale/apps/derivean/root/blueprint/$id/production")({validateSearch:er(Er(GN)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Production","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>sr({select:s.selectFrom("Blueprint_Production as bp").innerJoin("Blueprint as bl","bl.id","bp.blueprintId").innerJoin("Resource as r","r.id","bp.resourceId").select(["bp.id","r.name","bp.amount","bp.blueprintId","bp.cycles","bp.resourceId",o=>o.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(l=>Pr`json_group_array(json_object(
                                                'id', ${l.ref("bpr.id")},
                                                'amount', ${l.ref("bpr.amount")},
                                                'passive', ${l.ref("bpr.passive")},
                                                'blueprintProductionId', ${l.ref("bpr.blueprintProductionId")},
                                                'resourceId', ${l.ref("bpr.resourceId")},
                                                'name', ${l.ref("r.name")}
                                            ))`.as("requirements")).whereRef("bpr.blueprintProductionId","=","bp.id").as("requirements"),o=>o.selectFrom("Blueprint_Production_Resource as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(l=>Pr`json_group_array(json_object(
                                                'id', ${l.ref("bpr.id")},
                                                'amount', ${l.ref("bpr.amount")},
                                                'blueprintProductionId', ${l.ref("bpr.blueprintProductionId")},
                                                'resourceId', ${l.ref("bpr.resourceId")},
                                                'name', ${l.ref("r.name")}
                                            ))`.as("requirements")).whereRef("bpr.blueprintProductionId","=","bp.id").as("resources"),o=>o.selectFrom("Blueprint_Production_Dependency as bpd").innerJoin("Blueprint as bl2","bl2.id","bpd.blueprintId").select(l=>Pr`json_group_array(json_object(
                                                'id', ${l.ref("bpd.id")},
                                                'blueprintProductionId', ${l.ref("bpd.blueprintProductionId")},
                                                'blueprintId', ${l.ref("bpd.blueprintId")},
                                                'name', ${l.ref("bl2.name")}
                                            ))`.as("requirements")).whereRef("bpd.blueprintProductionId","=","bp.id").as("dependencies")]).where("bp.blueprintId","=",i).orderBy("r.name","asc"),output:W.object({id:W.string().min(1),name:W.string().min(1),blueprintId:W.string().min(1),resourceId:W.string().min(1),amount:W.number().nonnegative(),cycles:W.number().nonnegative(),requirements:fs(Tm.entity.merge(W.object({name:W.string().min(1)}))),resources:fs(Om.entity.merge(W.object({name:W.string().min(1)}))),dependencies:fs(Cm.entity.merge(W.object({name:W.string().min(1)})))}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Ap.useLoaderData(),{filter:n,cursor:r,selection:i}=Ap.useSearch(),{id:s}=Ap.useParams(),o=Ap.useNavigate(),{tva:l}=ir({from:"__root__"}),u=l().slots;return f.jsx("div",{className:u.base(),children:f.jsx(Kse,{blueprintId:s,table:{data:t,filter:{value:n,set:_r(o)},selection:{type:"multi",value:i,set:Hi(o)}},fulltext:{value:n?.fulltext,set:Sr(o)},cursor:{count:e,cursor:r,textTotal:f.jsx(ee,{label:"Number of productions (label)"}),...wr(o)}})})}}),LS=Ir(),Qse=[LS({name:"name",header(){return f.jsx(ee,{label:"Resource name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceId",t.resourceId)}},size:18}),LS({name:"amount",header(){return f.jsx(ee,{label:"Amount (label)"})},render({value:t}){return _n({number:t})},size:12}),LS({name:"limit",header(){return f.jsx(ee,{label:"Inventory limit (label)"})},render({value:t,data:e}){return f.jsxs("div",{className:"flex flex-row items-center gap-2 w-full",children:[f.jsx("div",{children:_n({number:t})}),f.jsx(ec,{value:100*e.amount/e.limit})]})},size:14})],Gse=({blueprintId:t,table:e,...n})=>{const r=Xn([["Blueprint_Inventory"]]);return f.jsx(Nr,{table:kr({...e,columns:Qse}),action:{table(){return f.jsx(Hn,{children:f.jsx(gn,{label:f.jsx(ee,{label:"Create inventory item (menu)"}),textTitle:f.jsx(ee,{label:"Create inventory item (modal)"}),icon:ki,children:f.jsx(ab,{mutation:Xt({async mutationFn(i){return In.promise(Ot.transaction().execute(async s=>s.insertInto("Blueprint_Inventory").values({id:Rn(),blueprintId:t,inventoryId:(await s.insertInto("Inventory").values({id:Rn(),...i}).returningAll().executeTakeFirstOrThrow()).id}).returningAll().executeTakeFirstOrThrow()),xr("Create inventory item"))},async onSuccess(){await r()}})})})})},row({data:i}){return f.jsxs(Hn,{children:[f.jsx(gn,{label:f.jsx(ee,{label:"Edit (menu)"}),textTitle:f.jsx(ee,{label:"Edit inventory item (modal)"}),icon:ki,children:f.jsx(ab,{defaultValues:i,mutation:Xt({async mutationFn(s){return In.promise(Ot.transaction().execute(async o=>o.updateTable("Inventory").set(s).where("id","=",i.inventoryId).returningAll().executeTakeFirstOrThrow()),xr("Update inventory item"))},async onSuccess(){await r()}})})}),f.jsx(gn,{icon:ri,label:f.jsx(ee,{label:"Delete (menu)"}),textTitle:f.jsx(ee,{label:"Delete inventory item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:f.jsx(Ki,{callback:async()=>Ot.transaction().execute(async s=>s.deleteFrom("Inventory").where("id","=",i.inventoryId).execute()),textContent:f.jsx(ee,{label:"Inventory item delete (content)"}),textToast:"Inventory item delete",invalidator:r})})]})}},...n})},Jse=Oie({shape:W.object({blueprintId:W.string().min(1),inventoryId:W.string().min(1)}),filter:Ui.merge(W.object({blueprintId:W.string().optional(),inventoryId:W.string().optional()}))}),Pp=Wt("/$locale/apps/derivean/root/blueprint/$id/inventory")({validateSearch:er(Er(Jse)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Inventory","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(s=>sr({select:s.selectFrom("Blueprint_Inventory as bi").innerJoin("Inventory as i","i.id","bi.inventoryId").innerJoin("Resource as r","r.id","i.resourceId").select(["bi.id","r.name","i.amount","i.limit","i.resourceId","bi.blueprintId","bi.inventoryId"]).where("bi.blueprintId","=",i).orderBy("r.name","asc"),query({select:o,where:l}){let u=o;if(l?.id&&(u=u.where("bi.id","=",l.id)),l?.idIn&&(u=u.where("bi.id","in",l.idIn)),l?.fulltext){const d=`%${l.fulltext}%`.toLowerCase();u=u.where(p=>p.or([p("bi.id","like",`%${d}%`),p("r.id","like",`%${d}%`),p("r.name","like",`%${d}%`),p("r.id","in",p.selectFrom("Resource_Tag as rt").innerJoin("Tag as t","t.id","rt.tagId").select("rt.resourceId").where(h=>h.or([h("t.code","like",d),h("t.label","like",d),h("t.group","like",d)])))]))}return u},output:W.object({id:W.string().min(1),name:W.string().min(1),resourceId:W.string().min(1),blueprintId:W.string().min(1),inventoryId:W.string().min(1),amount:W.number().nonnegative(),limit:W.number().int().nonnegative()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Pp.useLoaderData(),{filter:n,cursor:r,selection:i}=Pp.useSearch(),{id:s}=Pp.useParams(),o=Pp.useNavigate(),{tva:l}=ir({from:"__root__"}),u=l().slots;return f.jsx("div",{className:u.base(),children:f.jsx(Gse,{blueprintId:s,table:{data:t,filter:{value:n,set:_r(o)},selection:{type:"multi",value:i,set:Hi(o)}},fulltext:{value:n?.fulltext,set:Sr(o)},cursor:{count:e,cursor:r,textTotal:f.jsx(ee,{label:"Number of items"}),...wr(o)}})})}}),kM=Wt("/$locale/apps/derivean/root/blueprint/$id/edit")({component:()=>{const{entity:t}=Ps({from:"/$locale/apps/derivean/root/blueprint/$id"}),e=kM.useNavigate(),n=Xn([["Blueprint"]]);return f.jsx("div",{className:"w-1/2 mx-auto",children:f.jsx(ob,{defaultValues:t,mutation:Xt({async mutationFn(r){return In.promise(Ot.transaction().execute(async i=>i.updateTable("Blueprint").set(r).where("id","=",t.id).returningAll().executeTakeFirstOrThrow()),xr("Update blueprint"))},async onSuccess(){await n(),e({to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{id:t.id}})}})})})}}),v3=({mutation:t,defaultValues:e,variant:n,tva:r=Ii,css:i})=>{const s=Ci({resolver:Ti(ic.shape),defaultValues:e}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return f.jsxs("form",{className:o.base(),onSubmit:ys({form:s,mutation:t}),children:[f.jsx(hi,{variant:{highlight:!0},error:s.formState.errors.root}),f.jsx(Nn,{formState:s.formState,name:"dependencyId",label:f.jsx(ee,{label:"Blueprint dependency (label)"}),children:f.jsx(ms,{control:s.control,name:"dependencyId",render:({field:{ref:l,...u}})=>f.jsx(Im,{textTitle:f.jsx(ee,{label:"Select blueprint (title)"}),allowEmpty:!0,...u})})}),f.jsx("div",{className:"flex flex-row justify-between gap-8",children:f.jsx(An,{iconEnabled:Tn,type:"submit",children:f.jsx(ee,{label:"Save (submit)"})})})]})},Zse=Ir(),Yse=[Zse({name:"name",header(){return f.jsx(ee,{label:"Required building (label)"})},render({data:t,value:e}){const{locale:n}=cn({from:"/$locale"});return f.jsx(Kt,{icon:Tn,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:n,id:t.dependencyId},children:e})},size:22})],Xse=({blueprintId:t,table:e,...n})=>{const r=Xn([["Blueprint_Dependency"],["Blueprint"]]);return f.jsx(Nr,{table:kr({...e,columns:Yse}),action:{table(){return f.jsx(Hn,{children:f.jsx(gn,{label:f.jsx(ee,{label:"Create blueprint dependency (menu)"}),textTitle:f.jsx(ee,{label:"Create blueprint dependency (modal)"}),icon:Tn,children:({close:i})=>f.jsx(v3,{mutation:Xt({async mutationFn(s){return In.promise(Ot.transaction().execute(async o=>{const l=o.insertInto("Blueprint_Dependency").values({id:Rn(),...s,blueprintId:t}).returningAll().executeTakeFirstOrThrow();return await Kh({tx:o}),l}),xr("Create blueprint dependency"))},async onSuccess(){await r(),i()}})})})})},row({data:i}){return f.jsxs(Hn,{children:[f.jsx(gn,{label:f.jsx(ee,{label:"Edit (menu)"}),textTitle:f.jsx(ee,{label:"Edit blueprint dependency (modal)"}),icon:Tn,children:({close:s})=>f.jsx(v3,{defaultValues:i,mutation:Xt({async mutationFn(o){return In.promise(Ot.transaction().execute(async l=>l.updateTable("Blueprint_Dependency").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),xr("Update blueprint dependency"))},async onSuccess(){await r(),s()}})})}),f.jsx(gn,{icon:ri,label:f.jsx(ee,{label:"Delete (menu)"}),textTitle:f.jsx(ee,{label:"Delete blueprint dependency (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:f.jsx(Ki,{callback:async()=>Ot.transaction().execute(async s=>s.deleteFrom("Blueprint_Dependency").where("id","=",i.id).execute()),textContent:f.jsx(ee,{label:"Delete blueprint dependency (content)"}),textToast:"Delete blueprint dependency",invalidator:r})})]})}},...n})},Fp=Wt("/$locale/apps/derivean/root/blueprint/$id/dependencies")({validateSearch:er(Er(ic)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Dependency","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>sr({select:s.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as bl","bl.id","bd.dependencyId").select(["bd.id","bl.name","bd.blueprintId","bd.dependencyId"]).where("bd.blueprintId","=",i).orderBy("bl.name","asc"),query({select:o,where:l}){let u=o;return l?.id&&(u=u.where("bd.id","=",l.id)),l?.idIn&&(u=u.where("bd.id","in",l.idIn)),l?.blueprintId&&(u=u.where("bd.blueprintId","=",l.blueprintId)),l?.dependencyId&&(u=u.where("bd.dependencyId","=",l.dependencyId)),u},output:W.object({id:W.string().min(1),name:W.string().min(1),blueprintId:W.string().min(1),dependencyId:W.string().min(1)}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Fp.useLoaderData(),{filter:n,cursor:r,selection:i}=Fp.useSearch(),{id:s}=Fp.useParams(),o=Fp.useNavigate(),{tva:l}=ir({from:"__root__"}),u=l().slots;return f.jsx("div",{className:u.base(),children:f.jsx(Xse,{blueprintId:s,table:{data:t,filter:{value:n,set:_r(o)},selection:{type:"multi",value:i,set:Hi(o)}},fulltext:{value:n?.fulltext,set:Sr(o)},cursor:{count:e,cursor:r,textTotal:f.jsx(ee,{label:"Number of requirements (label)"}),...wr(o)}})})}}),eoe=Cie({shape:W.object({conflictId:W.string().min(1)}),filter:Ui}),b3=({mutation:t,defaultValues:e,variant:n,tva:r=Ii,css:i})=>{const s=Ci({resolver:Ti(eoe.shape),defaultValues:e}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return f.jsxs("form",{className:o.base(),onSubmit:ys({form:s,mutation:t}),children:[f.jsx(hi,{variant:{highlight:!0},error:s.formState.errors.root}),f.jsx(Nn,{formState:s.formState,name:"conflictId",label:f.jsx(ee,{label:"Blueprint conflict (label)"}),hint:f.jsx(ee,{label:"Blueprint conflict (hint)"}),children:f.jsx(ms,{control:s.control,name:"conflictId",render:({field:{ref:l,...u}})=>f.jsx(Im,{textTitle:f.jsx(ee,{label:"Select blueprint conflict (title)"}),allowEmpty:!0,...u})})}),f.jsx("div",{className:"flex flex-row justify-between gap-8",children:f.jsx(An,{iconEnabled:Tn,type:"submit",children:f.jsx(ee,{label:"Save (submit)"})})})]})},toe=Ir(),noe=[toe({name:"name",header(){return f.jsx(ee,{label:"Conflict building (label)"})},render({data:t,value:e}){const{locale:n}=cn({from:"/$locale"});return f.jsx(Kt,{icon:Tn,to:"/$locale/apps/derivean/root/blueprint/$id/conflicts",params:{locale:n,id:t.conflictId},children:e})},size:22})],roe=({blueprintId:t,table:e,...n})=>{const r=Xn([["Blueprint_Conflict"],["Blueprint"]]);return f.jsx(Nr,{table:kr({...e,columns:noe}),action:{table(){return f.jsx(Hn,{children:f.jsx(gn,{label:f.jsx(ee,{label:"Create blueprint conflict (menu)"}),textTitle:f.jsx(ee,{label:"Create blueprint conflict (modal)"}),icon:Tn,children:({close:i})=>f.jsx(b3,{mutation:Xt({async mutationFn(s){return In.promise(Ot.transaction().execute(async o=>{const l=o.insertInto("Blueprint_Conflict").values({id:Rn(),...s,blueprintId:t}).returningAll().executeTakeFirstOrThrow();return await Kh({tx:o}),l}),xr("Create blueprint conflict"))},async onSuccess(){await r(),i()}})})})})},row({data:i}){return f.jsxs(Hn,{children:[f.jsx(gn,{label:f.jsx(ee,{label:"Edit (menu)"}),textTitle:f.jsx(ee,{label:"Edit blueprint conflict (modal)"}),icon:Tn,children:({close:s})=>f.jsx(b3,{defaultValues:i,mutation:Xt({async mutationFn(o){return In.promise(Ot.transaction().execute(async l=>l.updateTable("Blueprint_Conflict").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),xr("Update blueprint conflict"))},async onSuccess(){await r(),s()}})})}),f.jsx(gn,{icon:ri,label:f.jsx(ee,{label:"Delete (menu)"}),textTitle:f.jsx(ee,{label:"Delete blueprint conflict (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:f.jsx(Ki,{callback:async()=>Ot.transaction().execute(async s=>s.deleteFrom("Blueprint_Conflict").where("id","=",i.id).execute()),textContent:f.jsx(ee,{label:"Delete blueprint conflict (content)"}),textToast:"Delete blueprint conflict",invalidator:r})})]})}},...n})},Dp=Wt("/$locale/apps/derivean/root/blueprint/$id/conflicts")({validateSearch:er(Er(ic)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Conflict","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>sr({select:s.selectFrom("Blueprint_Conflict as bc").innerJoin("Blueprint as bl","bl.id","bc.conflictId").select(["bc.id","bl.name","bc.blueprintId","bc.conflictId"]).where("bc.blueprintId","=",i).orderBy("bl.name","asc"),query({select:o,where:l}){let u=o;return l?.id&&(u=u.where("bc.id","=",l.id)),l?.idIn&&(u=u.where("bc.id","in",l.idIn)),u},output:W.object({id:W.string().min(1),name:W.string().min(1),blueprintId:W.string().min(1),conflictId:W.string().min(1)}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Dp.useLoaderData(),{filter:n,cursor:r,selection:i}=Dp.useSearch(),{id:s}=Dp.useParams(),o=Dp.useNavigate(),{tva:l}=ir({from:"__root__"}),u=l().slots;return f.jsx("div",{className:u.base(),children:f.jsx(roe,{blueprintId:s,table:{data:t,filter:{value:n,set:_r(o)},selection:{type:"multi",value:i,set:Hi(o)}},fulltext:{value:n?.fulltext,set:Sr(o)},cursor:{count:e,cursor:r,textTotal:f.jsx(ee,{label:"Number of conflicts (label)"}),...wr(o)}})})}}),ioe=({routeId:t,inventory:e})=>{const n=Xn([["GameMap"]]),r=Xt({async mutationFn({routeId:i,resourceId:s,transport:o}){return Ot.transaction().execute(async l=>l.insertInto("Route_Resource").values({id:Rn(),resourceId:s,routeId:i,amount:o}).execute())},async onSuccess(){await n()}});return f.jsxs("div",{className:Yn(["flex","flex-row","justify-between","p-4","border","rounded","border-slate-200","hover:border-slate-300","hover:bg-slate-100"]),children:[f.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[f.jsx(on,{icon:Un,css:{base:["text-slate-500"]}}),f.jsx("div",{className:"font-bold",children:e.name})]}),f.jsx("div",{children:f.jsx(An,{variant:{variant:"secondary"},iconEnabled:"icon-[icons8--plus]",loading:r.isPending,onClick:()=>{r.mutate({resourceId:e.resourceId,transport:e.transport,routeId:t})}})})]})},soe=({resource:t})=>{const e=Xn([["GameMap"]]),n=Xt({async mutationFn({routeResourceId:r}){return Ot.transaction().execute(async i=>i.deleteFrom("Route_Resource").where("id","=",r).execute())},async onSuccess(){await e()}});return f.jsxs("div",{className:Yn(["flex","flex-row","justify-between","p-4","border","rounded","border-slate-200","hover:border-slate-300","hover:bg-slate-100"]),children:[f.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[f.jsx(on,{icon:Un,css:{base:["text-slate-500"]}}),f.jsx("div",{className:"font-bold",children:t.name}),f.jsxs(ro,{children:["x",_n({number:t.amount})]})]}),f.jsx("div",{children:f.jsx(An,{variant:{variant:"secondary"},iconEnabled:ri,loading:n.isPending,onClick:()=>{n.mutate({routeResourceId:t.id})}})})]})},ooe=({route:t,resource:e,inventory:n,...r})=>{const{locale:i}=cn({from:"/$locale"});return f.jsxs(rc,{icon:Un,textTitle:f.jsx(ee,{label:"Route resources (label)"}),textSubTitle:f.jsxs(f.Fragment,{children:[f.jsx(Kt,{icon:so,to:"/$locale/apps/derivean/map/building/$id/routes",params:{locale:i,id:t.fromId}}),f.jsxs("div",{className:"flex flex-row items-center gap-2",children:[f.jsx("div",{className:"font-light",children:t.fromName}),f.jsx(on,{icon:"icon-[cil--arrow-right]"}),f.jsx("div",{children:t.toName})]})]}),...r,children:[f.jsx("div",{children:e.length>0?e.map(s=>f.jsx(soe,{resource:s},s.id)):f.jsx("div",{className:Yn(["flex","items-center","justify-center","rounded","border","border-amber-400","p-4","bg-amber-200","font-bold"]),children:f.jsx(ee,{label:"No route resources yet (label)"})})}),f.jsx("div",{className:"border-b border-slate-300 shadow-md"}),f.jsx("div",{children:n.length>0?n.map(s=>f.jsx(ioe,{inventory:s,routeId:t.id},s.id)):f.jsx("div",{className:Yn(["flex","items-center","justify-center","rounded","border","border-amber-400","p-4","bg-amber-200","font-bold"]),children:f.jsx(ee,{label:"There are no available items for transport (label)"})})})]})},IM=Wt("/$locale/apps/derivean/map/route/$id/resources")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return{resource:await t.ensureQueryData({queryKey:["GameMap","building","routes",n,"resources"],async queryFn(){return e.transaction().execute(async r=>$i({select:r.selectFrom("Route_Resource as rr").innerJoin("Resource as r","r.id","rr.resourceId").select(["rr.id","r.name","rr.amount","rr.routeId","rr.resourceId"]).where("rr.routeId","=",n),output:W.object({id:W.string().min(1),routeId:W.string().min(1),resourceId:W.string().min(1),name:W.string().min(1),amount:W.number().nonnegative()})}))}}),inventory:await t.ensureQueryData({queryKey:["GameMap","building","route","inventory",n],async queryFn(){return e.transaction().execute(async r=>$i({select:r.selectFrom("Inventory as i").innerJoin("Resource as r","r.id","i.resourceId").select(["i.id","i.resourceId","r.name","r.transport"]).where("i.id","in",r.selectFrom("Building_Inventory as bi").select("bi.inventoryId").where("bi.buildingId","=",r.selectFrom("Route as ro").select("ro.toId").where("ro.id","=",n))).where("r.id","in",r.selectFrom("Building_Inventory as bi").innerJoin("Inventory as i","i.id","bi.inventoryId").select("i.resourceId").where("bi.buildingId","=",r.selectFrom("Route as ro").select("ro.fromId").where("ro.id","=",n))).where("r.id","in",r.selectFrom("Building_Inventory as bi").innerJoin("Inventory as i","i.id","bi.inventoryId").select("i.resourceId").where("bi.buildingId","=",r.selectFrom("Route as ro").select("ro.toId").where("ro.id","=",n))).where("r.id","not in",r.selectFrom("Route_Resource as rr").where("rr.routeId","=",n).select("rr.resourceId")),output:W.object({id:W.string().min(1),resourceId:W.string().min(1),name:W.string().min(1),transport:hs()})}))}})}},component(){const{route:t}=Ps({from:"/$locale/apps/derivean/map/route/$id"}),{resource:e,inventory:n}=IM.useLoaderData();return f.jsx(ooe,{route:t,resource:e,inventory:n})}}),d1="icon-[heroicons--queue-list]",ly=["p-4","border","border-slate-300","w-full","justify-start"],aoe=({building:t})=>{const{locale:e}=cn({from:"/$locale"});return f.jsxs(rc,{icon:nc,textTitle:t.name,children:[f.jsx(Kt,{icon:oo,to:"/$locale/apps/derivean/map/building/$id/production/list",params:{locale:e,id:t.id},css:{base:ly},children:f.jsx(ee,{label:"Building production (label)"})}),f.jsx(Kt,{icon:d1,to:"/$locale/apps/derivean/map/building/$id/production/queue",params:{locale:e,id:t.id},css:{base:ly},children:f.jsx(ee,{label:"Production queue (label)"})}),f.jsx(Kt,{icon:ki,to:"/$locale/apps/derivean/map/building/$id/inventory",params:{locale:e,id:t.id},css:{base:ly},children:f.jsx(ee,{label:"Building inventory (label)"})}),f.jsx(Kt,{icon:"icon-[gis--route-end]",to:"/$locale/apps/derivean/map/building/$id/routes",params:{locale:e,id:t.id},css:{base:ly},children:f.jsx(ee,{label:"Building routes (label)"})})]})},loe=Wt("/$locale/apps/derivean/map/building/$id/view")({component(){const{building:t}=Ps({from:"/$locale/apps/derivean/map/building/$id"});return f.jsx(aoe,{building:t})}}),coe=({route:t})=>{const{locale:e}=cn({from:"/$locale"}),n=Xn([["GameMap"]]),r=Xt({async mutationFn({routeId:i}){return Ot.transaction().execute(async s=>s.deleteFrom("Route").where("id","=",i).execute())},async onSuccess(){await n()}});return f.jsxs("div",{className:Yn(["flex","flex-row","gap-2","items-center","justify-between","border","p-4","rounded","border-slate-200","hover:border-slate-300","hover:bg-slate-100",t.count>0?void 0:["border-amber-400","hover:border-amber-600","hover:bg-amber-100"]]),children:[f.jsx(Kt,{icon:Un,to:"/$locale/apps/derivean/map/route/$id/resources",params:{locale:e,id:t.id},children:t.toName}),f.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[f.jsx(Kt,{icon:"icon-[cil--arrow-right]",to:"/$locale/apps/derivean/map/building/$id/routes",params:{locale:e,id:t.fromId},search:{zoomToId:t.toId},children:f.jsx(ro,{children:_n({number:t.count})})}),f.jsx(An,{iconEnabled:ri,variant:{variant:"secondary"},loading:r.isPending,onClick:()=>{r.mutate({routeId:t.id})}})]})]})},uoe=({building:t,route:e,...n})=>{const{locale:r}=cn({from:"/$locale"});return f.jsx(rc,{icon:"icon-[gis--route-end]",textTitle:f.jsx(ee,{label:"Routes (label)"}),textSubTitle:f.jsxs(f.Fragment,{children:[f.jsx(Kt,{icon:so,to:"/$locale/apps/derivean/map/building/$id/view",params:{locale:r,id:t.id}}),f.jsx(Kt,{to:"/$locale/apps/derivean/map/building/$id/routes",params:{locale:r,id:t.id},search:{zoomToId:t.id},children:t.name})]}),...n,children:e.length>0?e.map(i=>f.jsx(coe,{route:i},i.id)):f.jsx("div",{className:Yn(["flex","items-center","justify-center","rounded","border","border-amber-400","p-4","bg-amber-200","font-bold"]),children:f.jsx(ee,{label:"No outcomming routes yet (label)"})})})},CM=Wt("/$locale/apps/derivean/map/building/$id/routes")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return{route:await t.ensureQueryData({queryKey:["GameMap","building","routes",n],async queryFn(){return e.transaction().execute(async r=>$i({select:r.selectFrom("Route as r").innerJoin("Building as bf","bf.id","r.fromId").innerJoin("Building as bt","bt.id","r.toId").innerJoin("Blueprint as blt","blt.id","bt.blueprintId").select(["r.id","r.fromId","r.toId","blt.name as toName",i=>i.selectFrom("Route_Resource as rr").select(s=>s.fn.count("rr.id").as("count")).whereRef("rr.routeId","=","r.id").as("count")]).where("r.fromId","=",n),output:W.object({id:W.string().min(1),fromId:W.string().min(1),toId:W.string().min(1),toName:W.string().min(1),count:W.number().nonnegative()})}))}})}},component(){const{building:t}=Ps({from:"/$locale/apps/derivean/map/building/$id"}),{route:e}=CM.useLoaderData();return f.jsx(uoe,{building:t,route:e})}}),Lp=Wt("/$locale/apps/derivean/map/building/$id/inventory")({validateSearch:er(W.object({fulltext:W.string().optional()})),loaderDeps({search:{fulltext:t}}){return{fulltext:t}},async loader({context:{queryClient:t,kysely:e},deps:{fulltext:n},params:{id:r}}){return{inventory:await t.ensureQueryData({queryKey:["GameMap","building","inventory",r,{fulltext:n}],async queryFn(){return e.transaction().execute(async i=>$i({select:i.selectFrom("Inventory as i").innerJoin("Resource as r","r.id","i.resourceId").select(["i.id","i.amount","i.limit","r.name"]).where("i.id","in",i.selectFrom("Building_Inventory as bi").select("bi.inventoryId").where("bi.buildingId","=",r)).orderBy("r.name"),query({select:s,where:o}){let l=s;if(o?.fulltext){const u=`%${o.fulltext}%`.toLowerCase();l=l.where(d=>d.or([d("r.name","like",u)]))}return l},output:W.object({id:W.string().min(1),amount:W.number().nonnegative(),limit:W.number().nonnegative(),name:W.string().min(1)}),filter:{fulltext:n}}))}})}},component(){const{building:t}=Ps({from:"/$locale/apps/derivean/map/building/$id"}),{fulltext:e}=Lp.useSearch(),{locale:n}=Lp.useParams(),r=Lp.useNavigate(),{inventory:i}=Lp.useLoaderData();return f.jsx(cM,{inventory:i,textSubTitle:f.jsxs(f.Fragment,{children:[f.jsx(Kt,{icon:so,to:"/$locale/apps/derivean/map/building/$id/view",params:{locale:n,id:t.id}}),f.jsx(Kt,{to:"/$locale/apps/derivean/map/building/$id/inventory",params:{locale:n,id:t.id},search:{zoomToId:t.id},children:t.name})]}),fulltextProps:{value:e,onFulltext(s){r({search:{fulltext:s}})}}})}}),doe=({entity:t,...e})=>{const{locale:n}=cn({from:"/$locale"});return f.jsxs(Xl,{...e,children:[f.jsx($n,{icon:SM,to:"/$locale/apps/derivean/game/blueprint/production/$id/requirements",params:{locale:n,id:t.id},children:f.jsx(ee,{label:"Production requirements (menu)"})}),f.jsx($n,{icon:Un,to:"/$locale/apps/derivean/game/blueprint/production/$id/resources",params:{locale:n,id:t.id},children:f.jsx(ee,{label:"Production resource requirements (menu)"})}),f.jsx($n,{icon:Tn,to:"/$locale/apps/derivean/game/blueprint/production/$id/dependencies",params:{locale:n,id:t.id},children:f.jsx(ee,{label:"Production resource dependencies (menu)"})})]})},foe=t=>{const{locale:e}=cn({from:"/$locale"});return f.jsx(hf,{title:({entity:n})=>f.jsx(mf,{icon:oo,title:n.resource,subtitle:n.blueprint}),actions:({entity:n})=>f.jsx(f.Fragment,{children:f.jsx(Kt,{icon:Tn,to:"/$locale/apps/derivean/game/blueprint/$id/production",params:{locale:e,id:n.blueprintId},children:f.jsx(ee,{label:"Building base detail (label)"})})}),...t})},TM=Wt("/$locale/apps/derivean/game/blueprint/production/$id")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return t.ensureQueryData({queryKey:["Blueprint_Production",n],async queryFn(){return e.transaction().execute(async r=>({entity:await tc({select:r.selectFrom("Blueprint_Production as bp").innerJoin("Resource as r","r.id","bp.resourceId").innerJoin("Blueprint as bl","bl.id","bp.blueprintId").select(["bp.id","bp.amount","bp.cycles","r.name as resource","bp.blueprintId","bl.name as blueprint"]).where("bp.id","=",n),output:W.object({id:W.string().min(1),resource:W.string().min(1),blueprint:W.string().min(1),blueprintId:W.string().min(1),amount:W.number().nonnegative(),cycles:W.number().int().nonnegative()})})}))}})},component(){const{entity:t}=TM.useLoaderData(),{tva:e}=ir({from:"__root__"}),n=e().slots;return f.jsxs("div",{className:n.base(),children:[f.jsx(foe,{entity:t}),f.jsx(doe,{entity:t}),f.jsx(lo,{})]})}}),poe=t=>f.jsx(wD,{items:[{id:"name",label:f.jsx(ee,{label:"Building name (label)"}),render({entity:e}){return e.name}},{id:"cycles",label:f.jsx(ee,{label:"Construction cycles (label)"}),render({entity:e}){return _n({number:e.cycles})}}],...t}),hoe=Wt("/$locale/apps/derivean/game/blueprint/$id/view")({component(){const{entity:t}=Ps({from:"/$locale/apps/derivean/game/blueprint/$id"});return f.jsx("div",{className:"w-1/2 mx-auto",children:f.jsx(poe,{entity:t})})}}),MS=Ir(),moe=[MS({name:"name",header(){return f.jsx(ee,{label:"Requirement name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceID",t.resourceId)}},size:22}),MS({name:"amount",header(){return f.jsx(ee,{label:"Amount (label)"})},render({value:t}){return _n({number:t})},size:10}),MS({name:"passive",header(){return f.jsx(ee,{label:"Passive requirement (label)"})},render({value:t}){return f.jsx(Ub,{value:t})},size:10})],goe=({table:t,...e})=>f.jsx(Nr,{table:kr({...t,columns:moe}),...e}),Ky=Wt("/$locale/apps/derivean/game/blueprint/$id/requirements")({validateSearch:er(Er(vf)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Requirement","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>sr({select:s.selectFrom("Blueprint_Requirement as br").innerJoin("Resource as r","r.id","br.resourceId").select(["br.id","r.name","br.resourceId","br.amount","br.passive"]).where("br.blueprintId","=",i).orderBy("r.name","asc"),query({select:o,where:l}){let u=o;return l?.id&&(u=u.where("br.id","=",l.id)),l?.idIn&&(u=u.where("br.id","in",l.idIn)),l?.resourceId&&(u=u.where("br.resourceId","=",l.resourceId)),u},output:W.object({id:W.string().min(1),name:W.string().min(1),resourceId:W.string().min(1),amount:W.number().nonnegative(),passive:Ba()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Ky.useLoaderData(),{filter:n,cursor:r}=Ky.useSearch(),i=Ky.useNavigate(),{tva:s}=ir({from:"__root__"}),o=s().slots;return f.jsx("div",{className:o.base(),children:f.jsx(goe,{table:{data:t,filter:{value:n,set:_r(i)}},fulltext:{value:n?.fulltext,set:Sr(i)},cursor:{count:e,cursor:r,textTotal:f.jsx(ee,{label:"Number of requirements (label)"}),...wr(i)}})})}}),td=Ir(),yoe=[td({name:"name",header(){return f.jsx(ee,{label:"Resource name (label)"})},render({data:t,value:e}){const{locale:n}=cn({from:"/$locale"});return f.jsx(Kt,{icon:oo,to:"/$locale/apps/derivean/game/blueprint/production/$id/requirements",params:{locale:n,id:t.id},children:e})},size:18}),td({name:"amount",header(){return f.jsx(ee,{label:"Amount (label)"})},render({value:t}){return _n({number:t})},size:8}),td({name:"cycles",header(){return f.jsx(ee,{label:"Production cycles (label)"})},render({value:t}){return _n({number:t})},size:8}),td({name:"requirements",header(){return f.jsx(ee,{label:"Required resources (label)"})},render({value:t}){return f.jsx(lx,{textTitle:f.jsx(ee,{label:"Resource requirements (title)"}),textEmpty:f.jsx(ee,{label:"No requirements (label)"}),requirements:t})},size:32}),td({name:"resources",header(){return f.jsx(ee,{label:"Required production resources (label)"})},render({value:t}){return f.jsx(Vd,{items:t,render:({entity:e})=>f.jsxs("div",{className:Yn(["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2"]),children:[f.jsx("div",{children:e.name}),f.jsxs("div",{className:"text-md font-bold text-slate-500",children:["x",_n({number:e.amount})]})]})})},size:32}),td({name:"dependencies",header(){return f.jsx(ee,{label:"Required production dependencies (label)"})},render({value:t}){const{locale:e}=cn({from:"/$locale"});return f.jsx(Vd,{items:t,render:({entity:n})=>f.jsx("div",{className:Yn(["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2"]),children:f.jsx(Kt,{to:"/$locale/apps/derivean/game/blueprint/$id/requirements",params:{locale:e,id:n.blueprintId},children:n.name})})})},size:32})],voe=({table:t,...e})=>f.jsx(Nr,{table:kr({...t,columns:yoe}),...e}),Qy=Wt("/$locale/apps/derivean/game/blueprint/$id/production")({validateSearch:er(Er(GN)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Production","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>sr({select:s.selectFrom("Blueprint_Production as bp").innerJoin("Blueprint as bl","bl.id","bp.blueprintId").innerJoin("Resource as r","r.id","bp.resourceId").select(["bp.id","r.name","bp.amount","bp.blueprintId","bp.cycles","bp.resourceId",o=>o.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(l=>Pr`json_group_array(json_object(
                                                'id', ${l.ref("bpr.id")},
                                                'amount', ${l.ref("bpr.amount")},
                                                'passive', ${l.ref("bpr.passive")},
                                                'blueprintProductionId', ${l.ref("bpr.blueprintProductionId")},
                                                'resourceId', ${l.ref("bpr.resourceId")},
                                                'name', ${l.ref("r.name")}
                                            ))`.as("requirements")).whereRef("bpr.blueprintProductionId","=","bp.id").as("requirements"),o=>o.selectFrom("Blueprint_Production_Resource as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(l=>Pr`json_group_array(json_object(
                                                'id', ${l.ref("bpr.id")},
                                                'amount', ${l.ref("bpr.amount")},
                                                'blueprintProductionId', ${l.ref("bpr.blueprintProductionId")},
                                                'resourceId', ${l.ref("bpr.resourceId")},
                                                'name', ${l.ref("r.name")}
                                            ))`.as("requirements")).whereRef("bpr.blueprintProductionId","=","bp.id").as("resources"),o=>o.selectFrom("Blueprint_Production_Dependency as bpd").innerJoin("Blueprint as bl2","bl2.id","bpd.blueprintId").select(l=>Pr`json_group_array(json_object(
                                                'id', ${l.ref("bpd.id")},
                                                'blueprintProductionId', ${l.ref("bpd.blueprintProductionId")},
                                                'blueprintId', ${l.ref("bpd.blueprintId")},
                                                'name', ${l.ref("bl2.name")}
                                            ))`.as("requirements")).whereRef("bpd.blueprintProductionId","=","bp.id").as("dependencies")]).where("bp.blueprintId","=",i).orderBy("r.name","asc"),output:W.object({id:W.string().min(1),name:W.string().min(1),blueprintId:W.string().min(1),resourceId:W.string().min(1),amount:W.number().nonnegative(),cycles:W.number().nonnegative(),requirements:fs(Tm.entity.merge(W.object({name:W.string().min(1)}))),resources:fs(Om.entity.merge(W.object({name:W.string().min(1)}))),dependencies:fs(Cm.entity.merge(W.object({name:W.string().min(1)})))}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Qy.useLoaderData(),{filter:n,cursor:r}=Qy.useSearch(),i=Qy.useNavigate(),{tva:s}=ir({from:"__root__"}),o=s().slots;return f.jsx("div",{className:o.base(),children:f.jsx(voe,{table:{data:t,filter:{value:n,set:_r(i)}},fulltext:{value:n?.fulltext,set:Sr(i)},cursor:{count:e,cursor:r,textTotal:f.jsx(ee,{label:"Number of productions (label)"}),...wr(i)}})})}}),boe=Ir(),xoe=[boe({name:"name",header(){return f.jsx(ee,{label:"Required building (label)"})},render({data:t,value:e}){const{locale:n}=cn({from:"/$locale"});return f.jsx(Kt,{icon:Tn,to:"/$locale/apps/derivean/game/blueprint/$id/view",params:{locale:n,id:t.dependencyId},children:e})},size:22})],woe=({table:t,...e})=>f.jsx(Nr,{table:kr({...t,columns:xoe}),...e}),Gy=Wt("/$locale/apps/derivean/game/blueprint/$id/dependencies")({validateSearch:er(Er(ic)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Dependency","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>sr({select:s.selectFrom("Blueprint_Dependency as bd").innerJoin("Blueprint as bl","bl.id","bd.dependencyId").select(["bd.id","bl.name","bd.blueprintId","bd.dependencyId"]).where("bd.blueprintId","=",i).orderBy("bl.name","asc"),query({select:o,where:l}){let u=o;return l?.id&&(u=u.where("bd.id","=",l.id)),l?.idIn&&(u=u.where("bd.id","in",l.idIn)),l?.blueprintId&&(u=u.where("bd.blueprintId","=",l.blueprintId)),l?.dependencyId&&(u=u.where("bd.dependencyId","=",l.dependencyId)),u},output:W.object({id:W.string().min(1),name:W.string().min(1),blueprintId:W.string().min(1),dependencyId:W.string().min(1)}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Gy.useLoaderData(),{filter:n,cursor:r}=Gy.useSearch(),i=Gy.useNavigate(),{tva:s}=ir({from:"__root__"}),o=s().slots;return f.jsx("div",{className:o.base(),children:f.jsx(woe,{table:{data:t,filter:{value:n,set:_r(i)}},fulltext:{value:n?.fulltext,set:Sr(i)},cursor:{count:e,cursor:r,textTotal:f.jsx(ee,{label:"Number of dependencies (label)"}),...wr(i)}})})}}),_oe=Ir(),Soe=[_oe({name:"name",header(){return f.jsx(ee,{label:"Conflict building (label)"})},render({data:t,value:e}){const{locale:n}=cn({from:"/$locale"});return f.jsx(Kt,{icon:Tn,to:"/$locale/apps/derivean/game/blueprint/$id/conflicts",params:{locale:n,id:t.conflictId},children:e})},size:22})],Eoe=({table:t,...e})=>f.jsx(Nr,{table:kr({...t,columns:Soe}),...e}),Jy=Wt("/$locale/apps/derivean/game/blueprint/$id/conflicts")({validateSearch:er(Er(ic)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Conflict","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>sr({select:s.selectFrom("Blueprint_Conflict as bc").innerJoin("Blueprint as bl","bl.id","bc.conflictId").select(["bc.id","bl.name","bc.blueprintId","bc.conflictId"]).where("bc.blueprintId","=",i).orderBy("bl.name","asc"),query({select:o,where:l}){let u=o;return l?.id&&(u=u.where("bc.id","=",l.id)),l?.idIn&&(u=u.where("bc.id","in",l.idIn)),u},output:W.object({id:W.string().min(1),name:W.string().min(1),blueprintId:W.string().min(1),conflictId:W.string().min(1)}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Jy.useLoaderData(),{filter:n,cursor:r}=Jy.useSearch(),i=Jy.useNavigate(),{tva:s}=ir({from:"__root__"}),o=s().slots;return f.jsx("div",{className:o.base(),children:f.jsx(Eoe,{table:{data:t,filter:{value:n,set:_r(i)}},fulltext:{value:n?.fulltext,set:Sr(i)},cursor:{count:e,cursor:r,textTotal:f.jsx(ee,{label:"Number of conflicts (label)"}),...wr(i)}})})}}),OM=Fie({shape:W.object({blueprintId:W.string().min(1),productionId:W.string().optional(),recurringProductionId:W.string().optional(),x:hs(),y:hs()}),filter:Ui.merge(W.object({userId:W.string().optional(),blueprintId:W.string().optional(),name:W.string().optional()}))}),x3=({mutation:t,defaultValues:e,variant:n,tva:r=Ii,css:i})=>{const s=Ci({resolver:Ti(OM.shape),defaultValues:e}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return f.jsxs("form",{className:o.base(),onSubmit:ys({form:s,mutation:t}),children:[f.jsx(hi,{variant:{highlight:!0},error:s.formState.errors.root}),f.jsx(Nn,{formState:s.formState,name:"blueprintId",label:f.jsx(ee,{label:"Select blueprint (label)"}),children:f.jsx(ms,{control:s.control,name:"blueprintId",render:({field:{ref:l,...u}})=>f.jsx(Im,{allowEmpty:!0,...u})})}),f.jsx("div",{className:"flex flex-row justify-between gap-8",children:f.jsx(An,{iconEnabled:nc,type:"submit",children:f.jsx(ee,{label:"Save (submit)"})})})]})},Noe=Ir(),koe=[Noe({name:"name",header(){return f.jsx(ee,{label:"Building name (label)"})},render({data:t,value:e}){const{locale:n}=cn({from:"/$locale"});return f.jsxs("div",{className:"flex flex-row gap-2",children:[f.jsx(Kt,{icon:Tn,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:n,id:t.blueprintId}}),e]})},size:14})],Ioe=({userId:t,table:e,...n})=>{const r=Xn([["Building"]]);return f.jsx(Nr,{table:kr({...e,columns:koe}),action:{table:t?()=>f.jsx(Hn,{children:f.jsx(gn,{label:f.jsx(ee,{label:"Create building (menu)"}),textTitle:f.jsx(ee,{label:"Create building (modal)"}),icon:Un,children:f.jsx(x3,{mutation:Xt({async mutationFn(i){return In.promise(Ot.transaction().execute(s=>s.insertInto("Building").values({id:Rn(),...i,userId:t}).returningAll().executeTakeFirstOrThrow()),xr("Create building"))},async onSuccess(){await r()}})})})}):void 0,row({data:i}){return f.jsxs(Hn,{children:[f.jsx(gn,{label:f.jsx(ee,{label:"Edit (menu)"}),textTitle:f.jsx(ee,{label:"Edit building (modal)"}),icon:nc,children:f.jsx(x3,{defaultValues:i,mutation:Xt({async mutationFn(s){return In.promise(Ot.transaction().execute(o=>o.updateTable("Building").set(s).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),xr("Edit building"))},async onSuccess(){await r()}})})}),f.jsx(gn,{icon:ri,label:f.jsx(ee,{label:"Delete (menu)"}),textTitle:f.jsx(ee,{label:"Delete building (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:f.jsx(Ki,{callback:async()=>Ot.transaction().execute(async s=>s.deleteFrom("Building").where("id","=",i.id).execute()),textContent:f.jsx(ee,{label:"Building delete (content)"}),textToast:"Building delete",invalidator:r})})]})}},...n})},Mp=Wt("/$locale/apps/derivean/root/user/$id/building/list")({validateSearch:er(Er(OM)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Building","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(s=>sr({select:s.selectFrom("Building as b").innerJoin("Blueprint as bl","bl.id","b.blueprintId").select(["b.id","bl.name","b.blueprintId"]).where("b.userId","=",i),output:W.object({id:W.string().min(1),name:W.string().min(1),blueprintId:W.string().min(1)}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Mp.useLoaderData(),{filter:n,cursor:r,selection:i}=Mp.useSearch(),{id:s}=Mp.useParams(),o=Mp.useNavigate(),{tva:l}=ir({from:"__root__"}),u=l().slots;return f.jsx("div",{className:u.base(),children:f.jsx(Ioe,{userId:s,table:{data:t,filter:{value:n,set:_r(o)},selection:{type:"multi",value:i,set:Hi(o)}},fulltext:{value:n?.fulltext,set:Sr(o)},cursor:{count:e,cursor:r,textTotal:f.jsx(ee,{label:"Number of buildings (label)"}),...wr(o)}})})}}),w3=({mutation:t,defaultValues:e,variant:n,tva:r=Ii,css:i})=>{const s=Ci({resolver:Ti(Om.shape),defaultValues:{amount:1,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return f.jsxs("form",{className:o.base(),onSubmit:ys({form:s,mutation:t}),children:[f.jsx(hi,{variant:{highlight:!0},error:s.formState.errors.root}),f.jsx(Nn,{formState:s.formState,name:"resourceId",label:f.jsx(ee,{label:"Requirement (label)"}),children:f.jsx(ms,{control:s.control,name:"resourceId",render:({field:{ref:l,...u}})=>f.jsx(yf,{allowEmpty:!0,...u})})}),f.jsx(Nn,{formState:s.formState,name:"amount",label:f.jsx(ee,{label:"Amount (label)"}),children:f.jsx("input",{type:"number",className:o.input(),...s.register("amount")})}),f.jsx("div",{className:"flex flex-row justify-between gap-8",children:f.jsx(An,{iconEnabled:Un,type:"submit",children:f.jsx(ee,{label:"Save (submit)"})})})]})},_3=Ir(),Coe=[_3({name:"name",header(){return f.jsx(ee,{label:"Requirement name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceID",t.resourceId)}},size:22}),_3({name:"amount",header(){return f.jsx(ee,{label:"Amount (label)"})},render({value:t}){return _n({number:t})},size:10})],Toe=({blueprintProductionId:t,table:e,...n})=>{const r=Xn([["Blueprint_Production_Resource"],["Blueprint_Production"],["Resource"]]);return f.jsx(Nr,{table:kr({...e,columns:Coe}),action:{table(){return f.jsx(Hn,{children:f.jsx(gn,{label:f.jsx(ee,{label:"Create production resource requirement (menu)"}),textTitle:f.jsx(ee,{label:"Create production resource requirement (modal)"}),icon:Un,children:({close:i})=>f.jsx(w3,{mutation:Xt({async mutationFn(s){return Ot.transaction().execute(async o=>o.insertInto("Blueprint_Production_Resource").values({id:Rn(),...s,blueprintProductionId:t}).returningAll().executeTakeFirstOrThrow())},async onSuccess(){await r(),i()}})})})})},row({data:i}){return f.jsxs(Hn,{children:[f.jsx(gn,{label:f.jsx(ee,{label:"Edit (menu)"}),textTitle:f.jsx(ee,{label:"Edit production resource requirement (modal)"}),icon:Un,children:({close:s})=>f.jsx(w3,{defaultValues:i,mutation:Xt({async mutationFn(o){return Ot.transaction().execute(async l=>l.updateTable("Blueprint_Production_Resource").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow())},async onSuccess(){await r(),s()}})})}),f.jsx(gn,{icon:ri,label:f.jsx(ee,{label:"Delete (menu)"}),textTitle:f.jsx(ee,{label:"Delete production resource requirement (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:f.jsx(Ki,{callback:async()=>Ot.transaction().execute(async s=>s.deleteFrom("Blueprint_Production_Resource").where("id","=",i.id).execute()),textContent:f.jsx(ee,{label:"Delete production resource requirement (content)"}),textToast:"Delete production resource requirement item",invalidator:r})})]})}},...n})},$p=Wt("/$locale/apps/derivean/root/blueprint/production/$id/resources")({validateSearch:er(Er(Om)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Production_Resource","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>sr({select:s.selectFrom("Blueprint_Production_Resource as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(["bpr.id","r.name","bpr.resourceId","bpr.amount"]).where("bpr.blueprintProductionId","=",i).orderBy("r.name","asc"),query({select:o,where:l}){let u=o;return l?.id&&(u=u.where("bpr.id","=",l.id)),l?.idIn&&(u=u.where("bpr.id","in",l.idIn)),l?.resourceId&&(u=u.where("bpr.resourceId","=",l.resourceId)),u},output:W.object({id:W.string().min(1),name:W.string().min(1),resourceId:W.string().min(1),amount:W.number().nonnegative()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=$p.useLoaderData(),{filter:n,cursor:r,selection:i}=$p.useSearch(),{id:s}=$p.useParams(),o=$p.useNavigate();return f.jsx(f.Fragment,{children:f.jsx(Toe,{blueprintProductionId:s,table:{data:t,filter:{value:n,set:_r(o)},selection:{type:"multi",value:i,set:Hi(o)}},fulltext:{value:n?.fulltext,set:Sr(o)},cursor:{count:e,cursor:r,textTotal:f.jsx(ee,{label:"Number of production resource requirements (label)"}),...wr(o)}})})}}),S3=({mutation:t,defaultValues:e,variant:n,tva:r=Ii,css:i})=>{const s=Ci({resolver:Ti(Tm.shape),defaultValues:{amount:1,passive:!1,...e}}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return f.jsxs("form",{className:o.base(),onSubmit:ys({form:s,mutation:t}),children:[f.jsx(hi,{variant:{highlight:!0},error:s.formState.errors.root}),f.jsx(Nn,{formState:s.formState,name:"resourceId",label:f.jsx(ee,{label:"Requirement (label)"}),children:f.jsx(ms,{control:s.control,name:"resourceId",render:({field:{ref:l,...u}})=>f.jsx(yf,{allowEmpty:!0,...u})})}),f.jsx(Nn,{formState:s.formState,name:"amount",label:f.jsx(ee,{label:"Amount (label)"}),children:f.jsx("input",{type:"number",className:o.input(),...s.register("amount")})}),f.jsx(Nn,{formState:s.formState,name:"passive",label:f.jsx(ee,{label:"Passive requirement (label)"}),hint:f.jsx(ee,{label:"Passive requirement (hint)"}),children:f.jsx(ms,{control:s.control,name:"passive",render:({field:{ref:l,...u}})=>f.jsx(xD,{...u})})}),f.jsx("div",{className:"flex flex-row justify-between gap-8",children:f.jsx(An,{iconEnabled:Un,type:"submit",children:f.jsx(ee,{label:"Save (submit)"})})})]})},$S=Ir(),Ooe=[$S({name:"name",header(){return f.jsx(ee,{label:"Requirement name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceID",t.resourceId)}},size:12}),$S({name:"amount",header(){return f.jsx(ee,{label:"Amount (label)"})},render({value:t}){return _n({number:t})},size:10}),$S({name:"passive",header(){return f.jsx(ee,{label:"Passive requirement (label)"})},render({value:t}){return f.jsx(Ub,{value:t})},size:10})],Roe=({blueprintProductionId:t,table:e,...n})=>{const r=Xn([["Blueprint_Production_Requirement"],["Blueprint_Production"],["Resource"]]);return f.jsx(Nr,{table:kr({...e,columns:Ooe}),action:{table(){return f.jsx(Hn,{children:f.jsx(gn,{label:f.jsx(ee,{label:"Create production requirement (menu)"}),textTitle:f.jsx(ee,{label:"Create production requirement (modal)"}),icon:Un,children:({close:i})=>f.jsx(S3,{mutation:Xt({async mutationFn(s){return Ot.transaction().execute(async o=>o.insertInto("Blueprint_Production_Requirement").values({id:Rn(),...s,blueprintProductionId:t}).returningAll().executeTakeFirstOrThrow())},async onSuccess(){await r(),i()}})})})})},row({data:i}){return f.jsxs(Hn,{children:[f.jsx(gn,{label:f.jsx(ee,{label:"Edit (menu)"}),textTitle:f.jsx(ee,{label:"Edit production requirement (modal)"}),icon:Un,children:({close:s})=>f.jsx(S3,{defaultValues:i,mutation:Xt({async mutationFn(o){return Ot.transaction().execute(async l=>l.updateTable("Blueprint_Production_Requirement").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow())},async onSuccess(){await r(),s()}})})}),f.jsx(gn,{icon:ri,label:f.jsx(ee,{label:"Delete (menu)"}),textTitle:f.jsx(ee,{label:"Delete production requirement (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:f.jsx(Ki,{callback:async()=>Ot.transaction().execute(async s=>s.deleteFrom("Blueprint_Production_Requirement").where("id","=",i.id).execute()),textContent:f.jsx(ee,{label:"Delete production requirement (content)"}),textToast:"Delete production requirement item",invalidator:r})})]})}},...n})},Bp=Wt("/$locale/apps/derivean/root/blueprint/production/$id/requirements")({validateSearch:er(Er(Tm)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Production_Requirement","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>sr({select:s.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(["bpr.id","r.name","bpr.resourceId","bpr.amount","bpr.passive"]).where("bpr.blueprintProductionId","=",i).orderBy("r.name","asc"),query({select:o,where:l}){let u=o;return l?.id&&(u=u.where("bpr.id","=",l.id)),l?.idIn&&(u=u.where("bpr.id","in",l.idIn)),l?.resourceId&&(u=u.where("bpr.resourceId","=",l.resourceId)),u},output:W.object({id:W.string().min(1),name:W.string().min(1),resourceId:W.string().min(1),amount:W.number().nonnegative(),passive:Ba()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Bp.useLoaderData(),{filter:n,cursor:r,selection:i}=Bp.useSearch(),{id:s}=Bp.useParams(),o=Bp.useNavigate();return f.jsx(f.Fragment,{children:f.jsx(Roe,{blueprintProductionId:s,table:{data:t,filter:{value:n,set:_r(o)},selection:{type:"multi",value:i,set:Hi(o)}},fulltext:{value:n?.fulltext,set:Sr(o)},cursor:{count:e,cursor:r,textTotal:f.jsx(ee,{label:"Number of production requirements (label)"}),...wr(o)}})})}}),E3=({mutation:t,defaultValues:e,variant:n,tva:r=Ii,css:i})=>{const s=Ci({resolver:Ti(Cm.shape),defaultValues:e}),o=r({...n,isLoading:s.formState.isLoading,isSubmitting:s.formState.isSubmitting,css:i}).slots;return f.jsxs("form",{className:o.base(),onSubmit:ys({form:s,mutation:t}),children:[f.jsx(hi,{variant:{highlight:!0},error:s.formState.errors.root}),f.jsx(Nn,{formState:s.formState,name:"blueprintId",label:f.jsx(ee,{label:"Blueprint dependency (label)"}),children:f.jsx(ms,{control:s.control,name:"blueprintId",render:({field:{ref:l,...u}})=>f.jsx(Im,{textTitle:f.jsx(ee,{label:"Select blueprint (title)"}),allowEmpty:!0,...u})})}),f.jsx("div",{className:"flex flex-row justify-between gap-8",children:f.jsx(An,{iconEnabled:Tn,type:"submit",children:f.jsx(ee,{label:"Save (submit)"})})})]})},qoe=Ir(),joe=[qoe({name:"name",header(){return f.jsx(ee,{label:"Required building (label)"})},render({data:t,value:e}){const{locale:n}=cn({from:"/$locale"});return f.jsx(Kt,{icon:Tn,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:n,id:t.blueprintId},children:e})},size:22})],Aoe=({blueprintProductionId:t,table:e,...n})=>{const r=Xn([["Blueprint_Production_Dependency"],["Blueprint"]]);return f.jsx(Nr,{table:kr({...e,columns:joe}),action:{table(){return f.jsx(Hn,{children:f.jsx(gn,{label:f.jsx(ee,{label:"Create blueprint production dependency (menu)"}),textTitle:f.jsx(ee,{label:"Create blueprint production dependency (modal)"}),icon:Tn,children:({close:i})=>f.jsx(E3,{mutation:Xt({async mutationFn(s){return In.promise(Ot.transaction().execute(async o=>{const l=o.insertInto("Blueprint_Production_Dependency").values({id:Rn(),...s,blueprintProductionId:t}).returningAll().executeTakeFirstOrThrow();return await Kh({tx:o}),l}),xr("Create blueprint production dependency"))},async onSuccess(){await r(),i()}})})})})},row({data:i}){return f.jsxs(Hn,{children:[f.jsx(gn,{label:f.jsx(ee,{label:"Edit (menu)"}),textTitle:f.jsx(ee,{label:"Edit blueprint production dependency (modal)"}),icon:Tn,children:({close:s})=>f.jsx(E3,{defaultValues:i,mutation:Xt({async mutationFn(o){return In.promise(Ot.transaction().execute(async l=>l.updateTable("Blueprint_Production_Dependency").set(o).where("id","=",i.id).returningAll().executeTakeFirstOrThrow()),xr("Update blueprint production dependency"))},async onSuccess(){await r(),s()}})})}),f.jsx(gn,{icon:ri,label:f.jsx(ee,{label:"Delete (menu)"}),textTitle:f.jsx(ee,{label:"Delete blueprint production dependency (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:f.jsx(Ki,{callback:async()=>Ot.transaction().execute(async s=>s.deleteFrom("Blueprint_Production_Dependency").where("id","=",i.id).execute()),textContent:f.jsx(ee,{label:"Delete blueprint production dependency (content)"}),textToast:"Delete blueprint production dependency",invalidator:r})})]})}},...n})},zp=Wt("/$locale/apps/derivean/root/blueprint/production/$id/dependencies")({validateSearch:er(Er(Cm)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Production_Dependency","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>sr({select:s.selectFrom("Blueprint_Production_Dependency as bpd").innerJoin("Blueprint as bl","bl.id","bpd.blueprintId").select(["bpd.id","bl.name","bpd.blueprintId"]).where("bpd.blueprintProductionId","=",i).orderBy("bl.name","asc"),query({select:o,where:l}){let u=o;return l?.id&&(u=u.where("bpd.id","=",l.id)),l?.idIn&&(u=u.where("bpd.id","in",l.idIn)),u},output:W.object({id:W.string().min(1),name:W.string().min(1),blueprintId:W.string().min(1)}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=zp.useLoaderData(),{filter:n,cursor:r,selection:i}=zp.useSearch(),{id:s}=zp.useParams(),o=zp.useNavigate(),{tva:l}=ir({from:"__root__"}),u=l().slots;return f.jsx("div",{className:u.base(),children:f.jsx(Aoe,{blueprintProductionId:s,table:{data:t,filter:{value:n,set:_r(o)},selection:{type:"multi",value:i,set:Hi(o)}},fulltext:{value:n?.fulltext,set:Sr(o)},cursor:{count:e,cursor:r,textTotal:f.jsx(ee,{label:"Number of dependencies (label)"}),...wr(o)}})})}}),Poe=({queue:t,inventory:e})=>{const n=e.find(i=>i.resourceId===t.resourceId),r=n&&n.amount+t.amount>n.limit;return f.jsxs("div",{className:Yn(["flex","flex-col","gap-2","items-center","justify-between","border","p-4","rounded","border-slate-200","hover:border-slate-300",r?["border-red-400","hover:border-red-600"]:void 0]),children:[f.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[f.jsx("div",{className:"font-bold",children:t.name}),f.jsx("div",{className:"flex flex-row gap-2 items-center",children:f.jsxs(ro,{children:["x",_n({number:t.amount})]})})]}),f.jsx(ec,{css:{progress:r?["bg-red-500"]:void 0},value:100*t.cycle/t.cycles})]})},Foe=({building:t,queue:e,inventory:n,...r})=>{const{locale:i}=cn({from:"/$locale"});return f.jsx(rc,{icon:d1,textTitle:f.jsx(ee,{label:"Production queue (label)"}),textSubTitle:f.jsxs(f.Fragment,{children:[f.jsx(Kt,{icon:so,to:"/$locale/apps/derivean/map/building/$id/view",params:{locale:i,id:t.id}}),f.jsx(Kt,{to:"/$locale/apps/derivean/map/building/$id/view",params:{locale:i,id:t.id},search:{zoomToId:t.id},children:t.name})]}),...r,children:e.length>0?e.map(s=>f.jsx(Poe,{queue:s,inventory:n},s.id)):f.jsxs("div",{className:Yn(["flex","flex-col","items-center","justify-center","rounded","border","border-amber-400","p-4","bg-amber-200","font-bold"]),children:[f.jsx(ee,{label:"Production queue is empty. (label)"}),f.jsx(Kt,{icon:d1,to:"/$locale/apps/derivean/map/building/$id/production/list",params:{locale:i,id:t.id},children:f.jsx(ee,{label:"Plan queue (label)"})})]})})},RM=Wt("/$locale/apps/derivean/map/building/$id/production/queue")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return{queue:await t.ensureQueryData({queryKey:["GameMap","building","production","queue",n],async queryFn(){return e.transaction().execute(async r=>$i({select:r.selectFrom("Production as p").innerJoin("Blueprint_Production as bp","bp.id","p.blueprintProductionId").innerJoin("Resource as r","r.id","bp.resourceId").select(["p.id","r.name","bp.resourceId","p.cycle","bp.amount","bp.cycles"]).where("p.buildingId","=",n),output:W.object({id:W.string().min(1),name:W.string().min(1),resourceId:W.string().min(1),amount:W.number().nonnegative(),cycle:W.number().int().nonnegative(),cycles:W.number().int().nonnegative()})}))}}),inventory:await t.ensureQueryData({queryKey:["GameMap","building","inventory",n],async queryFn(){return e.transaction().execute(async r=>$i({select:r.selectFrom("Inventory as i").innerJoin("Resource as r","r.id","i.resourceId").select(["i.id","i.resourceId","i.amount","i.limit","r.name"]).where("i.id","in",r.selectFrom("Building_Inventory as bi").select("bi.inventoryId").where("bi.buildingId","=",n)).orderBy("r.name"),query({select:i,where:s}){let o=i;if(s?.fulltext){const l=`%${s.fulltext}%`.toLowerCase();o=o.where(u=>u.or([u("r.name","like",l)]))}return o},output:W.object({id:W.string().min(1),resourceId:W.string().min(1),amount:W.number().nonnegative(),limit:W.number().nonnegative(),name:W.string().min(1)})}))}})}},component(){const{building:t}=Ps({from:"/$locale/apps/derivean/map/building/$id"}),{queue:e,inventory:n}=RM.useLoaderData();return f.jsx(Foe,{building:t,queue:e,inventory:n})}}),Doe=({cycles:t})=>f.jsxs("div",{className:Yn(["flex","flex-row","items-center","gap-2"]),children:[f.jsx(on,{css:{base:["text-slate-400"]},icon:Hh}),f.jsx("div",{className:"font-bold text-md",children:_n({number:t})})]}),Loe=({building:t,production:e})=>{const{locale:n}=cn({from:"/$locale"}),r=Xn([["GameMap"]]),i=Xt({async mutationFn({blueprintProductionId:u,buildingId:d}){return Ot.transaction().execute(async p=>p.updateTable("Building").set({productionId:u}).where("id","=",d).execute())},async onSuccess(){await r()}}),s=Xt({async mutationFn({buildingId:u}){return Ot.transaction().execute(async d=>d.updateTable("Building").set({productionId:null}).where("id","=",u).execute())},async onSuccess(){await r()}}),o=Xt({async mutationFn({blueprintProductionId:u,buildingId:d}){return Ot.transaction().execute(async p=>p.updateTable("Building").set({recurringProductionId:u}).where("id","=",d).execute())},async onSuccess(){await r()}}),l=Xt({async mutationFn({buildingId:u}){return Ot.transaction().execute(async d=>d.updateTable("Building").set({recurringProductionId:null}).where("id","=",u).execute())},async onSuccess(){await r()}});return f.jsxs("div",{className:Yn(["flex","flex-row","gap-2","items-center","justify-between","border","p-4","rounded","border-slate-200","hover:border-slate-300","hover:bg-slate-100"]),children:[f.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[t.productionId===e.id?f.jsx(An,{iconEnabled:"icon-[tabler--basket]",loading:s.isPending,onClick:()=>{s.mutate({buildingId:t.id})}}):f.jsx(An,{iconEnabled:"icon-[solar--play-outline]",iconDisabled:"icon-[tabler--basket]",loading:i.isPending,onClick:()=>{i.mutate({blueprintProductionId:e.id,buildingId:t.id})}}),t.recurringProductionId===e.id?f.jsx(An,{iconEnabled:"icon-[tabler--basket]",loading:l.isPending,onClick:()=>{l.mutate({buildingId:t.id})}}):f.jsx(An,{iconEnabled:"icon-[oui--refresh]",loading:o.isPending,onClick:()=>{o.mutate({blueprintProductionId:e.id,buildingId:t.id})}}),f.jsxs(Kt,{to:"/$locale/apps/derivean/map/building/$id/production/$productionId/requirements",params:{locale:n,id:t.id,productionId:e.id},children:[e.name,f.jsxs(ro,{children:["x",_n({number:e.amount})]})]})]}),f.jsx(Doe,{cycles:e.cycles})]})},Moe=({building:t,production:e,...n})=>{const{locale:r}=cn({from:"/$locale"});return f.jsx(rc,{icon:oo,textTitle:f.jsx(ee,{label:"Building production (label)"}),textSubTitle:f.jsxs(f.Fragment,{children:[f.jsx(Kt,{icon:so,to:"/$locale/apps/derivean/map/building/$id/view",params:{locale:r,id:t.id}}),f.jsx(Kt,{to:"/$locale/apps/derivean/map/building/$id/production/list",params:{locale:r,id:t.id},search:{zoomToId:t.id},children:t.name})]}),...n,children:e.length>0?e.map(i=>f.jsx(Loe,{building:t,production:i},i.id)):f.jsx("div",{className:Yn(["flex","items-center","justify-center","rounded","border","border-amber-400","p-4","bg-amber-200","font-bold"]),children:f.jsx(ee,{label:"This building does not produce anything. (label)"})})})},qM=Wt("/$locale/apps/derivean/map/building/$id/production/list")({async loader({context:{queryClient:t,kysely:e},params:{id:n}}){return{production:await t.ensureQueryData({queryKey:["GameMap","building","production",n],async queryFn(){return e.transaction().execute(async r=>$i({select:r.selectFrom("Blueprint_Production as bp").innerJoin("Resource as r","r.id","bp.resourceId").select(["bp.id","r.name","bp.amount","bp.cycles"]).where("bp.blueprintId","=",r.selectFrom("Building as b").select("b.blueprintId").where("b.id","=",n)),output:W.object({id:W.string().min(1),name:W.string().min(1),amount:W.number().nonnegative(),cycles:W.number().int().nonnegative()})}))}})}},component(){const{building:t}=Ps({from:"/$locale/apps/derivean/map/building/$id"}),{production:e}=qM.useLoaderData();return f.jsx(Moe,{building:t,production:e})}}),N3=Ir(),$oe=[N3({name:"name",header(){return f.jsx(ee,{label:"Requirement name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceID",t.resourceId)}},size:22}),N3({name:"amount",header(){return f.jsx(ee,{label:"Amount (label)"})},render({value:t}){return _n({number:t})},size:10})],Boe=({table:t,...e})=>f.jsx(Nr,{table:kr({...t,columns:$oe}),...e}),Zy=Wt("/$locale/apps/derivean/game/blueprint/production/$id/resources")({validateSearch:er(Er(Om)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Production_Resource","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>sr({select:s.selectFrom("Blueprint_Production_Resource as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(["bpr.id","r.name","bpr.resourceId","bpr.amount"]).where("bpr.blueprintProductionId","=",i).orderBy("r.name","asc"),query({select:o,where:l}){let u=o;return l?.id&&(u=u.where("bpr.id","=",l.id)),l?.idIn&&(u=u.where("bpr.id","in",l.idIn)),l?.resourceId&&(u=u.where("bpr.resourceId","=",l.resourceId)),u},output:W.object({id:W.string().min(1),name:W.string().min(1),resourceId:W.string().min(1),amount:W.number().nonnegative()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Zy.useLoaderData(),{filter:n,cursor:r}=Zy.useSearch(),i=Zy.useNavigate();return f.jsx(f.Fragment,{children:f.jsx(Boe,{table:{data:t,filter:{value:n,set:_r(i)}},fulltext:{value:n?.fulltext,set:Sr(i)},cursor:{count:e,cursor:r,textTotal:f.jsx(ee,{label:"Number of production resource requirements (label)"}),...wr(i)}})})}}),BS=Ir(),zoe=[BS({name:"name",header(){return f.jsx(ee,{label:"Requirement name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceID",t.resourceId)}},size:12}),BS({name:"amount",header(){return f.jsx(ee,{label:"Amount (label)"})},render({value:t}){return _n({number:t})},size:10}),BS({name:"passive",header(){return f.jsx(ee,{label:"Passive requirement (label)"})},render({value:t}){return f.jsx(Ub,{value:t})},size:10})],Woe=({table:t,...e})=>f.jsx(Nr,{table:kr({...t,columns:zoe}),...e}),Yy=Wt("/$locale/apps/derivean/game/blueprint/production/$id/requirements")({validateSearch:er(Er(Tm)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Production_Requirement","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>sr({select:s.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(["bpr.id","r.name","bpr.resourceId","bpr.amount","bpr.passive"]).where("bpr.blueprintProductionId","=",i).orderBy("r.name","asc"),query({select:o,where:l}){let u=o;return l?.id&&(u=u.where("bpr.id","=",l.id)),l?.idIn&&(u=u.where("bpr.id","in",l.idIn)),l?.resourceId&&(u=u.where("bpr.resourceId","=",l.resourceId)),u},output:W.object({id:W.string().min(1),name:W.string().min(1),resourceId:W.string().min(1),amount:W.number().nonnegative(),passive:Ba()}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Yy.useLoaderData(),{filter:n,cursor:r}=Yy.useSearch(),i=Yy.useNavigate();return f.jsx(f.Fragment,{children:f.jsx(Woe,{table:{data:t,filter:{value:n,set:_r(i)}},fulltext:{value:n?.fulltext,set:Sr(i)},cursor:{count:e,cursor:r,textTotal:f.jsx(ee,{label:"Number of production requirements (label)"}),...wr(i)}})})}}),Uoe=Ir(),Voe=[Uoe({name:"name",header(){return f.jsx(ee,{label:"Required building (label)"})},render({data:t,value:e}){const{locale:n}=cn({from:"/$locale"});return f.jsx(Kt,{icon:Tn,to:"/$locale/apps/derivean/root/blueprint/$id/view",params:{locale:n,id:t.blueprintId},children:e})},size:22})],Hoe=({table:t,...e})=>f.jsx(Nr,{table:kr({...t,columns:Voe}),...e}),Xy=Wt("/$locale/apps/derivean/game/blueprint/production/$id/dependencies")({validateSearch:er(Er(Cm)),loaderDeps({search:{filter:t,cursor:e,sort:n}}){return{filter:t,cursor:e,sort:n}},async loader({context:{queryClient:t,kysely:e},deps:{filter:n,cursor:r},params:{id:i}}){return t.ensureQueryData({queryKey:["Blueprint_Production_Dependency","list-count",i,{filter:n,cursor:r}],async queryFn(){return e.transaction().execute(async s=>sr({select:s.selectFrom("Blueprint_Production_Dependency as bpd").innerJoin("Blueprint as bl","bl.id","bpd.blueprintId").select(["bpd.id","bl.name","bpd.blueprintId"]).where("bpd.blueprintProductionId","=",i).orderBy("bl.name","asc"),query({select:o,where:l}){let u=o;return l?.id&&(u=u.where("bpd.id","=",l.id)),l?.idIn&&(u=u.where("bpd.id","in",l.idIn)),u},output:W.object({id:W.string().min(1),name:W.string().min(1),blueprintId:W.string().min(1)}),filter:n,cursor:r}))}})},component(){const{data:t,count:e}=Xy.useLoaderData(),{filter:n,cursor:r}=Xy.useSearch(),i=Xy.useNavigate(),{tva:s}=ir({from:"__root__"}),o=s().slots;return f.jsx("div",{className:o.base(),children:f.jsx(Hoe,{table:{data:t,filter:{value:n,set:_r(i)}},fulltext:{value:n?.fulltext,set:Sr(i)},cursor:{count:e,cursor:r,textTotal:f.jsx(ee,{label:"Number of dependencies (label)"}),...wr(i)}})})}}),Koe=({requirement:t})=>f.jsxs("div",{className:Yn(["flex","flex-row","gap-2","items-center","justify-between","border","p-4","rounded","border-slate-200","hover:border-slate-300","hover:bg-slate-100",t.passive?["border-purple-300","hover:border-purple-500","hover:bg-purple-100"]:void 0]),children:[f.jsx("div",{className:"font-bold",children:t.name}),f.jsxs(ro,{children:["x",_n({number:t.amount})]})]}),Qoe=({building:t,requirement:e,...n})=>{const{locale:r}=cn({from:"/$locale"});return f.jsx(rc,{icon:Un,textTitle:f.jsx(ee,{label:"Production requirements (label)"}),textSubTitle:f.jsxs(f.Fragment,{children:[f.jsx(Kt,{icon:so,to:"/$locale/apps/derivean/map/building/$id/production/list",params:{locale:r,id:t.id}}),f.jsx(Kt,{to:"/$locale/apps/derivean/map/building/$id/production/list",params:{locale:r,id:t.id},search:{zoomToId:t.id},children:t.name})]}),...n,children:e.length>0?e.map(i=>f.jsx(Koe,{requirement:i},i.id)):f.jsx("div",{className:Yn(["flex","items-center","justify-center","rounded","border","border-green-400","p-4","bg-green-200","font-bold"]),children:f.jsx(ee,{label:"There are no requirements. (label)"})})})},jM=Wt("/$locale/apps/derivean/map/building/$id/production/$productionId/requirements")({async loader({context:{queryClient:t,kysely:e},params:{productionId:n}}){return{requirement:await t.ensureQueryData({queryKey:["GameMap","building","production",n],async queryFn(){return e.transaction().execute(async r=>$i({select:r.selectFrom("Blueprint_Production_Requirement as bpr").innerJoin("Resource as r","r.id","bpr.resourceId").select(["bpr.id","r.name","bpr.amount","bpr.passive"]).where("bpr.blueprintProductionId","=",n),output:W.object({id:W.string().min(1),name:W.string().min(1),amount:W.number().nonnegative(),passive:Ba()})}))}})}},component(){const{building:t}=Ps({from:"/$locale/apps/derivean/map/building/$id"}),{requirement:e}=jM.useLoaderData();return f.jsx(Qoe,{building:t,requirement:e})}}),JN=cJ.update({id:"/$locale",path:"/$locale",getParentRoute:()=>xN}),Goe=fJ.update({id:"/",path:"/",getParentRoute:()=>xN}),Joe=pJ.update({id:"/",path:"/",getParentRoute:()=>JN}),sc=mJ.update({id:"/apps/derivean",path:"/apps/derivean",getParentRoute:()=>JN}),co=vJ.update({id:"/root",path:"/root",getParentRoute:()=>sc}),bf=a1.update({id:"/map",path:"/map",getParentRoute:()=>sc}),xf=mre.update({id:"/game",path:"/game",getParentRoute:()=>sc}),Zoe=xre.update({id:"/",path:"/",getParentRoute:()=>co}),Yoe=wre.update({id:"/",path:"/",getParentRoute:()=>bf}),Xoe=_re.update({id:"/",path:"/",getParentRoute:()=>xf}),eae=c1.update({id:"/editor",path:"/editor",getParentRoute:()=>co}),tae=Jie.update({id:"/public/register",path:"/public/register",getParentRoute:()=>sc}),nae=Zie.update({id:"/public/logout",path:"/public/logout",getParentRoute:()=>sc}),rae=tse.update({id:"/public/login",path:"/public/login",getParentRoute:()=>sc}),iae=My.update({id:"/inventory",path:"/inventory",getParentRoute:()=>bf}),sae=uM.update({id:"/construction",path:"/construction",getParentRoute:()=>bf}),oae=$y.update({id:"/inventory",path:"/inventory",getParentRoute:()=>xf}),aae=dM.update({id:"/db/schema",path:"/db/schema",getParentRoute:()=>sc}),lae=By.update({id:"/user/list",path:"/user/list",getParentRoute:()=>co}),cx=fM.update({id:"/user/$id",path:"/user/$id",getParentRoute:()=>co}),cae=zy.update({id:"/tag/list",path:"/tag/list",getParentRoute:()=>co}),uae=Wy.update({id:"/resource/list",path:"/resource/list",getParentRoute:()=>co}),AM=gM.update({id:"/resource/$id",path:"/resource/$id",getParentRoute:()=>co}),dae=Uy.update({id:"/default/inventory",path:"/default/inventory",getParentRoute:()=>co}),fae=Vy.update({id:"/blueprint/list",path:"/blueprint/list",getParentRoute:()=>co}),oc=wM.update({id:"/blueprint/$id",path:"/blueprint/$id",getParentRoute:()=>co}),PM=Cse.update({id:"/route/$id",path:"/route/$id",getParentRoute:()=>bf}),fu=Tse.update({id:"/building/$id",path:"/building/$id",getParentRoute:()=>bf}),pae=Hy.update({id:"/blueprint/list",path:"/blueprint/list",getParentRoute:()=>xf}),wf=_M.update({id:"/blueprint/$id",path:"/blueprint/$id",getParentRoute:()=>xf}),hae=Ase.update({id:"/view",path:"/view",getParentRoute:()=>cx}),mae=qp.update({id:"/inventory",path:"/inventory",getParentRoute:()=>cx}),gae=Dse.update({id:"/view",path:"/view",getParentRoute:()=>AM}),ux=EM.update({id:"/blueprint/production/$id",path:"/blueprint/production/$id",getParentRoute:()=>co}),yae=NM.update({id:"/view",path:"/view",getParentRoute:()=>oc}),vae=jp.update({id:"/requirements",path:"/requirements",getParentRoute:()=>oc}),bae=Ap.update({id:"/production",path:"/production",getParentRoute:()=>oc}),xae=Pp.update({id:"/inventory",path:"/inventory",getParentRoute:()=>oc}),wae=kM.update({id:"/edit",path:"/edit",getParentRoute:()=>oc}),_ae=Fp.update({id:"/dependencies",path:"/dependencies",getParentRoute:()=>oc}),Sae=Dp.update({id:"/conflicts",path:"/conflicts",getParentRoute:()=>oc}),Eae=IM.update({id:"/resources",path:"/resources",getParentRoute:()=>PM}),Nae=loe.update({id:"/view",path:"/view",getParentRoute:()=>fu}),kae=CM.update({id:"/routes",path:"/routes",getParentRoute:()=>fu}),Iae=Lp.update({id:"/inventory",path:"/inventory",getParentRoute:()=>fu}),dx=TM.update({id:"/blueprint/production/$id",path:"/blueprint/production/$id",getParentRoute:()=>xf}),Cae=hoe.update({id:"/view",path:"/view",getParentRoute:()=>wf}),Tae=Ky.update({id:"/requirements",path:"/requirements",getParentRoute:()=>wf}),Oae=Qy.update({id:"/production",path:"/production",getParentRoute:()=>wf}),Rae=Gy.update({id:"/dependencies",path:"/dependencies",getParentRoute:()=>wf}),qae=Jy.update({id:"/conflicts",path:"/conflicts",getParentRoute:()=>wf}),jae=Mp.update({id:"/building/list",path:"/building/list",getParentRoute:()=>cx}),Aae=$p.update({id:"/resources",path:"/resources",getParentRoute:()=>ux}),Pae=Bp.update({id:"/requirements",path:"/requirements",getParentRoute:()=>ux}),Fae=zp.update({id:"/dependencies",path:"/dependencies",getParentRoute:()=>ux}),Dae=RM.update({id:"/production/queue",path:"/production/queue",getParentRoute:()=>fu}),Lae=qM.update({id:"/production/list",path:"/production/list",getParentRoute:()=>fu}),Mae=Zy.update({id:"/resources",path:"/resources",getParentRoute:()=>dx}),$ae=Yy.update({id:"/requirements",path:"/requirements",getParentRoute:()=>dx}),Bae=Xy.update({id:"/dependencies",path:"/dependencies",getParentRoute:()=>dx}),zae=jM.update({id:"/production/$productionId/requirements",path:"/production/$productionId/requirements",getParentRoute:()=>fu}),Wae={LocaleAppsDeriveanGameBlueprintIdConflictsRoute:qae,LocaleAppsDeriveanGameBlueprintIdDependenciesRoute:Rae,LocaleAppsDeriveanGameBlueprintIdProductionRoute:Oae,LocaleAppsDeriveanGameBlueprintIdRequirementsRoute:Tae,LocaleAppsDeriveanGameBlueprintIdViewRoute:Cae},Uae=wf._addFileChildren(Wae),Vae={LocaleAppsDeriveanGameBlueprintProductionIdDependenciesRoute:Bae,LocaleAppsDeriveanGameBlueprintProductionIdRequirementsRoute:$ae,LocaleAppsDeriveanGameBlueprintProductionIdResourcesRoute:Mae},Hae=dx._addFileChildren(Vae),Kae={LocaleAppsDeriveanGameInventoryRoute:oae,LocaleAppsDeriveanGameIndexRoute:Xoe,LocaleAppsDeriveanGameBlueprintIdRoute:Uae,LocaleAppsDeriveanGameBlueprintListRoute:pae,LocaleAppsDeriveanGameBlueprintProductionIdRoute:Hae},Qae=xf._addFileChildren(Kae),Gae={LocaleAppsDeriveanMapBuildingIdInventoryRoute:Iae,LocaleAppsDeriveanMapBuildingIdRoutesRoute:kae,LocaleAppsDeriveanMapBuildingIdViewRoute:Nae,LocaleAppsDeriveanMapBuildingIdProductionListRoute:Lae,LocaleAppsDeriveanMapBuildingIdProductionQueueRoute:Dae,LocaleAppsDeriveanMapBuildingIdProductionProductionIdRequirementsRoute:zae},Jae=fu._addFileChildren(Gae),Zae={LocaleAppsDeriveanMapRouteIdResourcesRoute:Eae},Yae=PM._addFileChildren(Zae),Xae={LocaleAppsDeriveanMapConstructionRoute:sae,LocaleAppsDeriveanMapInventoryRoute:iae,LocaleAppsDeriveanMapIndexRoute:Yoe,LocaleAppsDeriveanMapBuildingIdRoute:Jae,LocaleAppsDeriveanMapRouteIdRoute:Yae},ele=bf._addFileChildren(Xae),tle={LocaleAppsDeriveanRootBlueprintIdConflictsRoute:Sae,LocaleAppsDeriveanRootBlueprintIdDependenciesRoute:_ae,LocaleAppsDeriveanRootBlueprintIdEditRoute:wae,LocaleAppsDeriveanRootBlueprintIdInventoryRoute:xae,LocaleAppsDeriveanRootBlueprintIdProductionRoute:bae,LocaleAppsDeriveanRootBlueprintIdRequirementsRoute:vae,LocaleAppsDeriveanRootBlueprintIdViewRoute:yae},nle=oc._addFileChildren(tle),rle={LocaleAppsDeriveanRootResourceIdViewRoute:gae},ile=AM._addFileChildren(rle),sle={LocaleAppsDeriveanRootUserIdInventoryRoute:mae,LocaleAppsDeriveanRootUserIdViewRoute:hae,LocaleAppsDeriveanRootUserIdBuildingListRoute:jae},ole=cx._addFileChildren(sle),ale={LocaleAppsDeriveanRootBlueprintProductionIdDependenciesRoute:Fae,LocaleAppsDeriveanRootBlueprintProductionIdRequirementsRoute:Pae,LocaleAppsDeriveanRootBlueprintProductionIdResourcesRoute:Aae},lle=ux._addFileChildren(ale),cle={LocaleAppsDeriveanRootEditorRoute:eae,LocaleAppsDeriveanRootIndexRoute:Zoe,LocaleAppsDeriveanRootBlueprintIdRoute:nle,LocaleAppsDeriveanRootBlueprintListRoute:fae,LocaleAppsDeriveanRootDefaultInventoryRoute:dae,LocaleAppsDeriveanRootResourceIdRoute:ile,LocaleAppsDeriveanRootResourceListRoute:uae,LocaleAppsDeriveanRootTagListRoute:cae,LocaleAppsDeriveanRootUserIdRoute:ole,LocaleAppsDeriveanRootUserListRoute:lae,LocaleAppsDeriveanRootBlueprintProductionIdRoute:lle},ule=co._addFileChildren(cle),dle={LocaleAppsDeriveanGameRoute:Qae,LocaleAppsDeriveanMapRoute:ele,LocaleAppsDeriveanRootRoute:ule,LocaleAppsDeriveanDbSchemaRoute:aae,LocaleAppsDeriveanPublicLoginRoute:rae,LocaleAppsDeriveanPublicLogoutRoute:nae,LocaleAppsDeriveanPublicRegisterRoute:tae},fle=sc._addFileChildren(dle),ple={LocaleIndexRoute:Joe,LocaleAppsDeriveanRoute:fle},hle=JN._addFileChildren(ple),mle={IndexRoute:Goe,LocaleRoute:hle},gle=xN._addFileChildren(mle)._addFileTypes(),FM=new oB({defaultOptions:{queries:{placeholderData:K$}}}),yle=r4({routeTree:gle,context:{queryClient:FM,tva:UK,async session(){return ym.parse(null)},kysely:Ot},defaultPendingComponent:qG,defaultPreload:"intent",defaultPreloadStaleTime:0,defaultPendingMinMs:200}),k3=document.getElementById("app");cV({limit:{maxRequests:10,perMilliseconds:100}});k3.innerHTML||oJ.createRoot(k3).render(f.jsx(fB,{client:FM,children:f.jsx(T4,{router:yle})}))})();