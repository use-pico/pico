(async()=>{function Hq(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(t,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var bb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Qq(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Mv={exports:{}},Nd={},Bv={exports:{}},dr={};var eE;function Kq(){if(eE)return dr;eE=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),w=Symbol.iterator;function N(H){return H===null||typeof H!="object"?null:(H=w&&H[w]||H["@@iterator"],typeof H=="function"?H:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,C={};function A(H,Se,lt){this.props=H,this.context=Se,this.refs=C,this.updater=lt||k}A.prototype.isReactComponent={},A.prototype.setState=function(H,Se){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,Se,"setState")},A.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function D(){}D.prototype=A.prototype;function j(H,Se,lt){this.props=H,this.context=Se,this.refs=C,this.updater=lt||k}var $=j.prototype=new D;$.constructor=j,O($,A.prototype),$.isPureReactComponent=!0;var V=Array.isArray,G=Object.prototype.hasOwnProperty,B={current:null},Z={key:!0,ref:!0,__self:!0,__source:!0};function ie(H,Se,lt){var at,dt={},mt=null,ft=null;if(Se!=null)for(at in Se.ref!==void 0&&(ft=Se.ref),Se.key!==void 0&&(mt=""+Se.key),Se)G.call(Se,at)&&!Z.hasOwnProperty(at)&&(dt[at]=Se[at]);var gt=arguments.length-2;if(gt===1)dt.children=lt;else if(1<gt){for(var Pt=Array(gt),vt=0;vt<gt;vt++)Pt[vt]=arguments[vt+2];dt.children=Pt}if(H&&H.defaultProps)for(at in gt=H.defaultProps,gt)dt[at]===void 0&&(dt[at]=gt[at]);return{$$typeof:t,type:H,key:mt,ref:ft,props:dt,_owner:B.current}}function U(H,Se){return{$$typeof:t,type:H.type,key:Se,ref:H.ref,props:H.props,_owner:H._owner}}function ne(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function M(H){var Se={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(lt){return Se[lt]})}var se=/\/+/g;function Y(H,Se){return typeof H=="object"&&H!==null&&H.key!=null?M(""+H.key):Se.toString(36)}function me(H,Se,lt,at,dt){var mt=typeof H;(mt==="undefined"||mt==="boolean")&&(H=null);var ft=!1;if(H===null)ft=!0;else switch(mt){case"string":case"number":ft=!0;break;case"object":switch(H.$$typeof){case t:case e:ft=!0}}if(ft)return ft=H,dt=dt(ft),H=at===""?"."+Y(ft,0):at,V(dt)?(lt="",H!=null&&(lt=H.replace(se,"$&/")+"/"),me(dt,Se,lt,"",function(vt){return vt})):dt!=null&&(ne(dt)&&(dt=U(dt,lt+(!dt.key||ft&&ft.key===dt.key?"":(""+dt.key).replace(se,"$&/")+"/")+H)),Se.push(dt)),1;if(ft=0,at=at===""?".":at+":",V(H))for(var gt=0;gt<H.length;gt++){mt=H[gt];var Pt=at+Y(mt,gt);ft+=me(mt,Se,lt,Pt,dt)}else if(Pt=N(H),typeof Pt=="function")for(H=Pt.call(H),gt=0;!(mt=H.next()).done;)mt=mt.value,Pt=at+Y(mt,gt++),ft+=me(mt,Se,lt,Pt,dt);else if(mt==="object")throw Se=String(H),Error("Objects are not valid as a React child (found: "+(Se==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":Se)+"). If you meant to render a collection of children, use an array instead.");return ft}function Te(H,Se,lt){if(H==null)return H;var at=[],dt=0;return me(H,at,"","",function(mt){return Se.call(lt,mt,dt++)}),at}function Ce(H){if(H._status===-1){var Se=H._result;Se=Se(),Se.then(function(lt){(H._status===0||H._status===-1)&&(H._status=1,H._result=lt)},function(lt){(H._status===0||H._status===-1)&&(H._status=2,H._result=lt)}),H._status===-1&&(H._status=0,H._result=Se)}if(H._status===1)return H._result.default;throw H._result}var Fe={current:null},_e={transition:null},ye={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:_e,ReactCurrentOwner:B};function Ne(){throw Error("act(...) is not supported in production builds of React.")}return dr.Children={map:Te,forEach:function(H,Se,lt){Te(H,function(){Se.apply(this,arguments)},lt)},count:function(H){var Se=0;return Te(H,function(){Se++}),Se},toArray:function(H){return Te(H,function(Se){return Se})||[]},only:function(H){if(!ne(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},dr.Component=A,dr.Fragment=r,dr.Profiler=s,dr.PureComponent=j,dr.StrictMode=n,dr.Suspense=d,dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,dr.act=Ne,dr.cloneElement=function(H,Se,lt){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var at=O({},H.props),dt=H.key,mt=H.ref,ft=H._owner;if(Se!=null){if(Se.ref!==void 0&&(mt=Se.ref,ft=B.current),Se.key!==void 0&&(dt=""+Se.key),H.type&&H.type.defaultProps)var gt=H.type.defaultProps;for(Pt in Se)G.call(Se,Pt)&&!Z.hasOwnProperty(Pt)&&(at[Pt]=Se[Pt]===void 0&&gt!==void 0?gt[Pt]:Se[Pt])}var Pt=arguments.length-2;if(Pt===1)at.children=lt;else if(1<Pt){gt=Array(Pt);for(var vt=0;vt<Pt;vt++)gt[vt]=arguments[vt+2];at.children=gt}return{$$typeof:t,type:H.type,key:dt,ref:mt,props:at,_owner:ft}},dr.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:a,_context:H},H.Consumer=H},dr.createElement=ie,dr.createFactory=function(H){var Se=ie.bind(null,H);return Se.type=H,Se},dr.createRef=function(){return{current:null}},dr.forwardRef=function(H){return{$$typeof:u,render:H}},dr.isValidElement=ne,dr.lazy=function(H){return{$$typeof:g,_payload:{_status:-1,_result:H},_init:Ce}},dr.memo=function(H,Se){return{$$typeof:m,type:H,compare:Se===void 0?null:Se}},dr.startTransition=function(H){var Se=_e.transition;_e.transition={};try{H()}finally{_e.transition=Se}},dr.unstable_act=Ne,dr.useCallback=function(H,Se){return Fe.current.useCallback(H,Se)},dr.useContext=function(H){return Fe.current.useContext(H)},dr.useDebugValue=function(){},dr.useDeferredValue=function(H){return Fe.current.useDeferredValue(H)},dr.useEffect=function(H,Se){return Fe.current.useEffect(H,Se)},dr.useId=function(){return Fe.current.useId()},dr.useImperativeHandle=function(H,Se,lt){return Fe.current.useImperativeHandle(H,Se,lt)},dr.useInsertionEffect=function(H,Se){return Fe.current.useInsertionEffect(H,Se)},dr.useLayoutEffect=function(H,Se){return Fe.current.useLayoutEffect(H,Se)},dr.useMemo=function(H,Se){return Fe.current.useMemo(H,Se)},dr.useReducer=function(H,Se,lt){return Fe.current.useReducer(H,Se,lt)},dr.useRef=function(H){return Fe.current.useRef(H)},dr.useState=function(H){return Fe.current.useState(H)},dr.useSyncExternalStore=function(H,Se,lt){return Fe.current.useSyncExternalStore(H,Se,lt)},dr.useTransition=function(){return Fe.current.useTransition()},dr.version="18.3.1",dr}var tE;function Lf(){return tE||(tE=1,Bv.exports=Kq()),Bv.exports}var rE;function Gq(){if(rE)return Nd;rE=1;var t=Lf(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,d,m){var g,w={},N=null,k=null;m!==void 0&&(N=""+m),d.key!==void 0&&(N=""+d.key),d.ref!==void 0&&(k=d.ref);for(g in d)n.call(d,g)&&!a.hasOwnProperty(g)&&(w[g]=d[g]);if(u&&u.defaultProps)for(g in d=u.defaultProps,d)w[g]===void 0&&(w[g]=d[g]);return{$$typeof:e,type:u,key:N,ref:k,props:w,_owner:s.current}}return Nd.Fragment=r,Nd.jsx=l,Nd.jsxs=l,Nd}var nE;function Jq(){return nE||(nE=1,Mv.exports=Gq()),Mv.exports}var y=Jq(),kc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Hl=typeof window>"u"||"Deno"in globalThis;function _s(){}function Zq(t,e){return typeof t=="function"?t(e):t}function wb(t){return typeof t=="number"&&t>=0&&t!==1/0}function dI(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Yu(t,e){return typeof t=="function"?t(e):t}function Ms(t,e){return typeof t=="function"?t(e):t}function iE(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:l,stale:u}=t;if(l){if(n){if(e.queryHash!==_w(l,e.options))return!1}else if(!af(e.queryKey,l))return!1}if(r!=="all"){const d=e.isActive();if(r==="active"&&!d||r==="inactive"&&d)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||s&&s!==e.state.fetchStatus||a&&!a(e))}function sE(t,e){const{exact:r,status:n,predicate:s,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(Ql(e.options.mutationKey)!==Ql(a))return!1}else if(!af(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function _w(t,e){return(e?.queryKeyHashFn||Ql)(t)}function Ql(t){return JSON.stringify(t,(e,r)=>xb(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function af(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!af(t[r],e[r])):!1}function bw(t,e){if(t===e)return t;const r=oE(t)&&oE(e);if(r||xb(t)&&xb(e)){const n=r?t:Object.keys(t),s=n.length,a=r?e:Object.keys(e),l=a.length,u=r?[]:{};let d=0;for(let m=0;m<l;m++){const g=r?m:a[m];(!r&&n.includes(g)||r)&&t[g]===void 0&&e[g]===void 0?(u[g]=void 0,d++):(u[g]=bw(t[g],e[g]),u[g]===t[g]&&t[g]!==void 0&&d++)}return s===l&&d===s?t:u}return e}function vm(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function oE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function xb(t){if(!aE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!aE(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function aE(t){return Object.prototype.toString.call(t)==="[object Object]"}function Yq(t){return new Promise(e=>{setTimeout(e,t)})}function Sb(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?bw(t,e):e}function Xq(t){return t}function eR(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function tR(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var ww=Symbol();function fI(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===ww?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var rR=class extends kc{#e;#t;#r;constructor(){super(),this.#r=t=>{if(!Hl&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},xw=new rR,nR=class extends kc{#e=!0;#t;#r;constructor(){super(),this.#r=t=>{if(!Hl&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#e}},_m=new nR;function Eb(){let t,e;const r=new Promise((s,a)=>{t=s,e=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}function iR(t){return Math.min(1e3*2**t,3e4)}function hI(t){return(t??"online")==="online"?_m.isOnline():!0}var pI=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function $v(t){return t instanceof pI}function mI(t){let e=!1,r=0,n=!1,s;const a=Eb(),l=C=>{n||(N(new pI(C)),t.abort?.())},u=()=>{e=!0},d=()=>{e=!1},m=()=>xw.isFocused()&&(t.networkMode==="always"||_m.isOnline())&&t.canRun(),g=()=>hI(t.networkMode)&&t.canRun(),w=C=>{n||(n=!0,t.onSuccess?.(C),s?.(),a.resolve(C))},N=C=>{n||(n=!0,t.onError?.(C),s?.(),a.reject(C))},k=()=>new Promise(C=>{s=A=>{(n||m())&&C(A)},t.onPause?.()}).then(()=>{s=void 0,n||t.onContinue?.()}),O=()=>{if(n)return;let C;const A=r===0?t.initialPromise:void 0;try{C=A??t.fn()}catch(D){C=Promise.reject(D)}Promise.resolve(C).then(w).catch(D=>{if(n)return;const j=t.retry??(Hl?0:3),$=t.retryDelay??iR,V=typeof $=="function"?$(r,D):$,G=j===!0||typeof j=="number"&&r<j||typeof j=="function"&&j(r,D);if(e||!G){N(D);return}r++,t.onFail?.(r,D),Yq(V).then(()=>m()?void 0:k()).then(()=>{e?N(D):O()})})};return{promise:a,cancel:l,continue:()=>(s?.(),a),cancelRetry:u,continueRetry:d,canStart:g,start:()=>(g()?O():k().then(O),a)}}function sR(){let t=[],e=0,r=u=>{u()},n=u=>{u()},s=u=>setTimeout(u,0);const a=u=>{e?t.push(u):s(()=>{r(u)})},l=()=>{const u=t;t=[],u.length&&s(()=>{n(()=>{u.forEach(d=>{r(d)})})})};return{batch:u=>{let d;e++;try{d=u()}finally{e--,e||l()}return d},batchCalls:u=>(...d)=>{a(()=>{u(...d)})},schedule:a,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{n=u},setScheduler:u=>{s=u}}}var bn=sR(),yI=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),wb(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Hl?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},oR=class extends yI{#e;#t;#r;#n;#i;#s;constructor(t){super(),this.#s=!1,this.#i=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#r=t.cache,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=aR(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(t){this.options={...this.#i,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){const r=Sb(this.state.data,t,this.options);return this.#o({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#o({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#n?.promise;return this.#n?.cancel(t),e?e.then(_s).catch(_s):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>Ms(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ww||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!dI(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#n&&(this.#s?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}fetch(t,e){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(t&&this.setOptions(t),!this.options.queryFn){const u=this.observers.find(d=>d.options.queryFn);u&&this.setOptions(u.options)}const r=new AbortController,n=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#s=!0,r.signal)})},s=()=>{const u=fI(this.options,e),d={queryKey:this.queryKey,meta:this.meta};return n(d),this.#s=!1,this.options.persister?this.options.persister(u,d,this):u(d)},a={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};n(a),this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#o({type:"fetch",meta:a.fetchOptions?.meta});const l=u=>{$v(u)&&u.silent||this.#o({type:"error",error:u}),$v(u)||(this.#r.config.onError?.(u,this),this.#r.config.onSettled?.(this.state.data,u,this)),this.scheduleGc()};return this.#n=mI({initialPromise:e?.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:u=>{if(u===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(d){l(d);return}this.#r.config.onSuccess?.(u,this),this.#r.config.onSettled?.(u,this.state.error,this),this.scheduleGc()},onError:l,onFail:(u,d)=>{this.#o({type:"failed",failureCount:u,error:d})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}),this.#n.start()}#o(t){const e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...gI(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=t.error;return $v(n)&&n.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...r,error:n,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),bn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function gI(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:hI(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function aR(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var lR=class extends kc{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,r){const n=e.queryKey,s=e.queryHash??_w(n,e);let a=this.get(s);return a||(a=new oR({cache:this,queryKey:n,queryHash:s,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(a)),a}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){bn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>iE(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>iE(t,r)):e}notify(t){bn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){bn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){bn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},uR=class extends yI{#e;#t;#r;constructor(t){super(),this.mutationId=t.mutationId,this.#t=t.mutationCache,this.#e=[],this.state=t.state||vI(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#e.includes(t)||(this.#e.push(t),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#e=this.#e.filter(e=>e!==t),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){this.#r=mI({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(n,s)=>{this.#n({type:"failed",failureCount:n,error:s})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const e=this.state.status==="pending",r=!this.#r.canStart();try{if(!e){this.#n({type:"pending",variables:t,isPaused:r}),await this.#t.config.onMutate?.(t,this);const s=await this.options.onMutate?.(t);s!==this.state.context&&this.#n({type:"pending",context:s,variables:t,isPaused:r})}const n=await this.#r.start();return await this.#t.config.onSuccess?.(n,t,this.state.context,this),await this.options.onSuccess?.(n,t,this.state.context),await this.#t.config.onSettled?.(n,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(n,null,t,this.state.context),this.#n({type:"success",data:n}),n}catch(n){try{throw await this.#t.config.onError?.(n,t,this.state.context,this),await this.options.onError?.(n,t,this.state.context),await this.#t.config.onSettled?.(void 0,n,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,n,t,this.state.context),n}finally{this.#n({type:"error",error:n})}}finally{this.#t.runNext(this)}}#n(t){const e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),bn.batch(()=>{this.#e.forEach(r=>{r.onMutationUpdate(t)}),this.#t.notify({mutation:this,type:"updated",action:t})})}};function vI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var cR=class extends kc{constructor(t={}){super(),this.config=t,this.#e=new Map,this.#t=Date.now()}#e;#t;build(t,e,r){const n=new uR({mutationCache:this,mutationId:++this.#t,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){const e=gp(t),r=this.#e.get(e)??[];r.push(t),this.#e.set(e,r),this.notify({type:"added",mutation:t})}remove(t){const e=gp(t);if(this.#e.has(e)){const r=this.#e.get(e)?.filter(n=>n!==t);r&&(r.length===0?this.#e.delete(e):this.#e.set(e,r))}this.notify({type:"removed",mutation:t})}canRun(t){const e=this.#e.get(gp(t))?.find(r=>r.state.status==="pending");return!e||e===t}runNext(t){return this.#e.get(gp(t))?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve()}clear(){bn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...this.#e.values()].flat()}find(t){const e={exact:!0,...t};return this.getAll().find(r=>sE(e,r))}findAll(t={}){return this.getAll().filter(e=>sE(t,e))}notify(t){bn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return bn.batch(()=>Promise.all(t.map(e=>e.continue().catch(_s))))}};function gp(t){return t.options.scope?.id??String(t.mutationId)}function lE(t){return{onFetch:(e,r)=>{const n=e.options,s=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],l=e.state.data?.pageParams||[];let u={pages:[],pageParams:[]},d=0;const m=async()=>{let g=!1;const w=O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},N=fI(e.options,e.fetchOptions),k=async(O,C,A)=>{if(g)return Promise.reject();if(C==null&&O.pages.length)return Promise.resolve(O);const D={queryKey:e.queryKey,pageParam:C,direction:A?"backward":"forward",meta:e.options.meta};w(D);const j=await N(D),{maxPages:$}=e.options,V=A?tR:eR;return{pages:V(O.pages,j,$),pageParams:V(O.pageParams,C,$)}};if(s&&a.length){const O=s==="backward",C=O?dR:uE,A={pages:a,pageParams:l},D=C(n,A);u=await k(A,D,O)}else{const O=t??a.length;do{const C=d===0?l[0]??n.initialPageParam:uE(n,u);if(d>0&&C==null)break;u=await k(u,C),d++}while(d<O)}return u};e.options.persister?e.fetchFn=()=>e.options.persister?.(m,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=m}}}function uE(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function dR(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}var fR=class{#e;#t;#r;#n;#i;#s;#o;#a;constructor(t={}){this.#e=t.queryCache||new lR,this.#t=t.mutationCache||new cR,this.#r=t.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=xw.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=_m.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=this.#e.build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Yu(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),a=this.#e.get(n.queryHash)?.state.data,l=Zq(e,a);if(l!==void 0)return this.#e.build(this,n).setData(l,{...r,manual:!0})}setQueriesData(t,e,r){return bn.batch(()=>this.#e.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;bn.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=this.#e,n={type:"active",...t};return bn.batch(()=>(r.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(n,e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=bn.batch(()=>this.#e.findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(_s).catch(_s)}invalidateQueries(t,e={}){return bn.batch(()=>{if(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none")return Promise.resolve();const r={...t,type:t?.refetchType??t?.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=bn.batch(()=>this.#e.findAll(t).filter(s=>!s.isDisabled()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(_s)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(_s)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=this.#e.build(this,e);return r.isStaleByTime(Yu(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(_s).catch(_s)}fetchInfiniteQuery(t){return t.behavior=lE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(_s).catch(_s)}ensureInfiniteQueryData(t){return t.behavior=lE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return _m.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#n.set(Ql(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#n.values()],r={};return e.forEach(n=>{af(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){this.#i.set(Ql(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()];let r={};return e.forEach(n=>{af(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=_w(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===ww&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},hR=class extends kc{constructor(t,e){super(),this.options=e,this.#e=t,this.#a=null,this.#o=Eb(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#r=void 0;#n=void 0;#i;#s;#o;#a;#u;#l;#c;#d;#h;#f;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),cE(this.#t,this.options)?this.#p():this.updateResult(),this.#_())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Nb(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Nb(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(t,e){const r=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ms(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#x(),this.#t.setOptions(this.options),r._defaulted&&!vm(this.options,r)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const s=this.hasListeners();s&&dE(this.#t,n,this.options,r)&&this.#p(),this.updateResult(e),s&&(this.#t!==n||Ms(this.options.enabled,this.#t)!==Ms(r.enabled,this.#t)||Yu(this.options.staleTime,this.#t)!==Yu(r.staleTime,this.#t))&&this.#y();const a=this.#g();s&&(this.#t!==n||Ms(this.options.enabled,this.#t)!==Ms(r.enabled,this.#t)||a!==this.#f)&&this.#v(a)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),r=this.createResult(e,t);return mR(this,r)&&(this.#n=r,this.#s=this.options,this.#i=this.#t.state),r}getCurrentResult(){return this.#n}trackResult(t,e){const r={};return Object.keys(t).forEach(n=>{Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(n),e?.(n),t[n])})}),r}trackProp(t){this.#m.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),r=this.#e.getQueryCache().build(this.#e,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#p({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#p(t){this.#x();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(_s)),e}#y(){this.#b();const t=Yu(this.options.staleTime,this.#t);if(Hl||this.#n.isStale||!wb(t))return;const r=dI(this.#n.dataUpdatedAt,t)+1;this.#d=setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#g(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(t){this.#w(),this.#f=t,!(Hl||Ms(this.options.enabled,this.#t)===!1||!wb(this.#f)||this.#f===0)&&(this.#h=setInterval(()=>{(this.options.refetchIntervalInBackground||xw.isFocused())&&this.#p()},this.#f))}#_(){this.#y(),this.#v(this.#g())}#b(){this.#d&&(clearTimeout(this.#d),this.#d=void 0)}#w(){this.#h&&(clearInterval(this.#h),this.#h=void 0)}createResult(t,e){const r=this.#t,n=this.options,s=this.#n,a=this.#i,l=this.#s,d=t!==r?t.state:this.#r,{state:m}=t;let g={...m},w=!1,N;if(e._optimisticResults){const Z=this.hasListeners(),ie=!Z&&cE(t,e),U=Z&&dE(t,r,e,n);(ie||U)&&(g={...g,...gI(m.data,t.options)}),e._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:k,errorUpdatedAt:O,status:C}=g;if(e.select&&g.data!==void 0)if(s&&g.data===a?.data&&e.select===this.#u)N=this.#l;else try{this.#u=e.select,N=e.select(g.data),N=Sb(s?.data,N,e),this.#l=N,this.#a=null}catch(Z){this.#a=Z}else N=g.data;if(e.placeholderData!==void 0&&N===void 0&&C==="pending"){let Z;if(s?.isPlaceholderData&&e.placeholderData===l?.placeholderData)Z=s.data;else if(Z=typeof e.placeholderData=="function"?e.placeholderData(this.#c?.state.data,this.#c):e.placeholderData,e.select&&Z!==void 0)try{Z=e.select(Z),this.#a=null}catch(ie){this.#a=ie}Z!==void 0&&(C="success",N=Sb(s?.data,Z,e),w=!0)}this.#a&&(k=this.#a,N=this.#l,O=Date.now(),C="error");const A=g.fetchStatus==="fetching",D=C==="pending",j=C==="error",$=D&&A,V=N!==void 0,B={status:C,fetchStatus:g.fetchStatus,isPending:D,isSuccess:C==="success",isError:j,isInitialLoading:$,isLoading:$,data:N,dataUpdatedAt:g.dataUpdatedAt,error:k,errorUpdatedAt:O,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>d.dataUpdateCount||g.errorUpdateCount>d.errorUpdateCount,isFetching:A,isRefetching:A&&!D,isLoadingError:j&&!V,isPaused:g.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:j&&V,isStale:Sw(t,e),refetch:this.refetch,promise:this.#o};if(this.options.experimental_prefetchInRender){const Z=ne=>{B.status==="error"?ne.reject(B.error):B.data!==void 0&&ne.resolve(B.data)},ie=()=>{const ne=this.#o=B.promise=Eb();Z(ne)},U=this.#o;switch(U.status){case"pending":t.queryHash===r.queryHash&&Z(U);break;case"fulfilled":(B.status==="error"||B.data!==U.value)&&ie();break;case"rejected":(B.status!=="error"||B.error!==U.reason)&&ie();break}}return B}updateResult(t){const e=this.#n,r=this.createResult(this.#t,this.options);if(this.#i=this.#t.state,this.#s=this.options,this.#i.data!==void 0&&(this.#c=this.#t),vm(r,e))return;this.#n=r;const n={},s=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!this.#m.size)return!0;const u=new Set(l??this.#m);return this.options.throwOnError&&u.add("error"),Object.keys(this.#n).some(d=>{const m=d;return this.#n[m]!==e[m]&&u.has(m)})};t?.listeners!==!1&&s()&&(n.listeners=!0),this.#S({...n,...t})}#x(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#r=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#_()}#S(t){bn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function pR(t,e){return Ms(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function cE(t,e){return pR(t,e)||t.state.data!==void 0&&Nb(t,e,e.refetchOnMount)}function Nb(t,e,r){if(Ms(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&Sw(t,e)}return!1}function dE(t,e,r,n){return(t!==e||Ms(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&Sw(t,r)}function Sw(t,e){return Ms(e.enabled,t)!==!1&&t.isStaleByTime(Yu(e.staleTime,t))}function mR(t,e){return!vm(t.getCurrentResult(),e)}var yR=class extends kc{#e;#t=void 0;#r;#n;constructor(e,r){super(),this.#e=e,this.setOptions(r),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const r=this.options;this.options=this.#e.defaultMutationOptions(e),vm(this.options,r)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&Ql(r.mutationKey)!==Ql(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#s(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#s()}mutate(e,r){return this.#n=r,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#i(){const e=this.#r?.state??vI();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#s(e){bn.batch(()=>{if(this.#n&&this.hasListeners()){const r=this.#t.variables,n=this.#t.context;e?.type==="success"?(this.#n.onSuccess?.(e.data,r,n),this.#n.onSettled?.(e.data,null,r,n)):e?.type==="error"&&(this.#n.onError?.(e.error,r,n),this.#n.onSettled?.(void 0,e.error,r,n))}this.listeners.forEach(r=>{r(this.#t)})})}},Q=Lf();const Cr=Nc(Q),gR=Hq({__proto__:null,default:Cr},[Q]);var _I=Q.createContext(void 0),il=t=>{const e=Q.useContext(_I);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},vR=({client:t,children:e})=>(Q.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),y.jsx(_I.Provider,{value:t,children:e})),bI=Q.createContext(!1),_R=()=>Q.useContext(bI);bI.Provider;function bR(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var wR=Q.createContext(bR()),xR=()=>Q.useContext(wR);function wI(t,e){return typeof t=="function"?t(...e):!!t}function kb(){}var SR=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},ER=t=>{Q.useEffect(()=>{t.clearReset()},[t])},NR=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&wI(r,[t.error,n]),kR=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},IR=(t,e)=>t.isLoading&&t.isFetching&&!e,OR=(t,e)=>t?.suspense&&e.isPending,fE=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function CR(t,e,r){const n=il(),s=_R(),a=xR(),l=n.defaultQueryOptions(t);n.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=s?"isRestoring":"optimistic",kR(l),SR(l,a),ER(a);const u=!n.getQueryCache().get(l.queryHash),[d]=Q.useState(()=>new e(n,l)),m=d.getOptimisticResult(l);if(Q.useSyncExternalStore(Q.useCallback(g=>{const w=s?kb:d.subscribe(bn.batchCalls(g));return d.updateResult(),w},[d,s]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),Q.useEffect(()=>{d.setOptions(l,{listeners:!1})},[l,d]),OR(l,m))throw fE(l,d,a);if(NR({result:m,errorResetBoundary:a,throwOnError:l.throwOnError,query:n.getQueryCache().get(l.queryHash)}))throw m.error;return n.getDefaultOptions().queries?._experimental_afterQuery?.(l,m),l.experimental_prefetchInRender&&!Hl&&IR(m,s)&&(u?fE(l,d,a):n.getQueryCache().get(l.queryHash)?.promise)?.catch(kb).finally(()=>{d.updateResult()}),l.notifyOnChangeProps?m:d.trackResult(m)}function Ew(t,e){return CR(t,hR)}function hE(t,e){return t.findAll(e.filters).map(r=>e.select?e.select(r):r.state)}function TR(t={},e){const r=il().getMutationCache(),n=Q.useRef(t),s=Q.useRef(null);return s.current||(s.current=hE(r,t)),Q.useEffect(()=>{n.current=t}),Q.useSyncExternalStore(Q.useCallback(a=>r.subscribe(()=>{const l=bw(s.current,hE(r,n.current));s.current!==l&&(s.current=l,bn.schedule(a))}),[r]),()=>s.current,()=>s.current)}function sl(t,e){const r=il(),[n]=Q.useState(()=>new yR(r,t));Q.useEffect(()=>{n.setOptions(t)},[n,t]);const s=Q.useSyncExternalStore(Q.useCallback(l=>n.subscribe(bn.batchCalls(l)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=Q.useCallback((l,u)=>{n.mutate(l,u).catch(kb)},[n]);if(s.error&&wI(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}const pE="popstate",mE="beforeunload";function xI(t){let e=t.getLocation();const r=new Set,n=l=>{e=t.getLocation(),r.forEach(u=>u({location:e,action:l}))},s=()=>{e=t.getLocation(),r.forEach(l=>l({location:e,action:{type:"ROLLBACK"}}))},a=async({task:l,navigateOpts:u,...d})=>{var m,g;if(u?.ignoreBlocker??!1){l();return}const N=((m=t.getBlockers)==null?void 0:m.call(t))??[],k=d.type==="PUSH"||d.type==="REPLACE";if(typeof document<"u"&&N.length&&k)for(const O of N){const C=lf(d.path,d.state);if(await O.blockerFn({currentLocation:e,nextLocation:C,action:d.type})){(g=t.onBlocked)==null||g.call(t,s);return}}l()};return{get location(){return e},get length(){return t.getLength()},subscribers:r,subscribe:l=>(r.add(l),()=>{r.delete(l)}),push:(l,u,d)=>{u=yE(u),a({task:()=>{t.pushState(l,u),n({type:"PUSH"})},navigateOpts:d,type:"PUSH",path:l,state:u})},replace:(l,u,d)=>{u=yE(u),a({task:()=>{t.replaceState(l,u),n({type:"REPLACE"})},navigateOpts:d,type:"REPLACE",path:l,state:u})},go:(l,u)=>{a({task:()=>{t.go(l),n({type:"GO",index:l})},navigateOpts:u,type:"GO"})},back:l=>{a({task:()=>{t.back(l?.ignoreBlocker??!1),n({type:"BACK"})},navigateOpts:l,type:"BACK"})},forward:l=>{a({task:()=>{t.forward(l?.ignoreBlocker??!1),n({type:"FORWARD"})},navigateOpts:l,type:"FORWARD"})},createHref:l=>t.createHref(l),block:l=>{var u;if(!t.setBlockers)return()=>{};const d=((u=t.getBlockers)==null?void 0:u.call(t))??[];return t.setBlockers([...d,l]),()=>{var m,g;const w=((m=t.getBlockers)==null?void 0:m.call(t))??[];(g=t.setBlockers)==null||g.call(t,w.filter(N=>N!==l))}},flush:()=>{var l;return(l=t.flush)==null?void 0:l.call(t)},destroy:()=>{var l;return(l=t.destroy)==null?void 0:l.call(t)},notify:n}}function yE(t){return t||(t={}),{...t,key:AR()}}function qR(t){const e=typeof document<"u"?window:void 0,r=e.history.pushState,n=e.history.replaceState;let s=[];const a=()=>s,l=Z=>s=Z,u=Z=>Z,d=()=>lf(`${e.location.pathname}${e.location.search}${e.location.hash}`,e.history.state);let m=d(),g,w=!1,N=!1,k=!1;const O=()=>m;let C,A;const D=()=>{C&&(B._ignoreSubscribers=!0,(C.isPush?e.history.pushState:e.history.replaceState)(C.state,"",C.href),B._ignoreSubscribers=!1,C=void 0,A=void 0,g=void 0)},j=(Z,ie,U)=>{const ne=u(ie);A||(g=m),m=lf(ie,U),C={href:ne,state:U,isPush:C?.isPush||Z==="push"},A||(A=Promise.resolve().then(()=>D()))},$=()=>{m=d(),B.notify({type:"POP"})},V=async()=>{if(w){w=!1;return}if(N)N=!1;else{const Z=a();if(typeof document<"u"&&Z.length)for(const ie of Z){const U=d();if(await ie.blockerFn({currentLocation:m,nextLocation:U,action:"POP"})){w=!0,e.history.go(1),B.notify({type:"POP"});return}}}m=d(),B.notify({type:"POP"})},G=Z=>{if(k){k=!1;return}let ie=!1;const U=a();if(typeof document<"u"&&U.length)for(const ne of U){const M=ne.enableBeforeUnload??!0;if(M===!0){ie=!0;break}if(typeof M=="function"&&M()===!0){ie=!0;break}}if(ie)return Z.preventDefault(),Z.returnValue=""},B=xI({getLocation:O,getLength:()=>e.history.length,pushState:(Z,ie)=>j("push",Z,ie),replaceState:(Z,ie)=>j("replace",Z,ie),back:Z=>(Z&&(N=!0),k=!0,e.history.back()),forward:Z=>{Z&&(N=!0),k=!0,e.history.forward()},go:Z=>e.history.go(Z),createHref:Z=>u(Z),flush:D,destroy:()=>{e.history.pushState=r,e.history.replaceState=n,e.removeEventListener(mE,G,{capture:!0}),e.removeEventListener(pE,V)},onBlocked:Z=>{g&&m!==g&&(m=g,Z())},getBlockers:a,setBlockers:l});return e.addEventListener(mE,G,{capture:!0}),e.addEventListener(pE,V),e.history.pushState=function(...Z){const ie=r.apply(e.history,Z);return B._ignoreSubscribers||$(),ie},e.history.replaceState=function(...Z){const ie=n.apply(e.history,Z);return B._ignoreSubscribers||$(),ie},B}function RR(t={initialEntries:["/"]}){const e=t.initialEntries;let r=t.initialIndex??e.length-1;const n=e.map(()=>({}));return xI({getLocation:()=>lf(e[r],n[r]),getLength:()=>e.length,pushState:(a,l)=>{r<e.length-1&&(e.splice(r+1),n.splice(r+1)),n.push(l),e.push(a),r=Math.max(e.length-1,0)},replaceState:(a,l)=>{n[r]=l,e[r]=a},back:()=>{r=Math.max(r-1,0)},forward:()=>{r=Math.min(r+1,e.length-1)},go:a=>{r=Math.min(Math.max(r+a,0),e.length-1)},createHref:a=>a})}function lf(t,e){const r=t.indexOf("#"),n=t.indexOf("?");return{href:t,pathname:t.substring(0,r>0?n>0?Math.min(r,n):r:n>0?n:t.length),hash:r>-1?t.substring(r):"",search:n>-1?t.slice(n,r===-1?void 0:r):"",state:e||{}}}function AR(){return(Math.random()+1).toString(36).substring(7)}var PR="Invariant failed";function zi(t,e){if(!t)throw new Error(PR)}const Wv=Q.createContext(null);function SI(){return typeof document>"u"?Wv:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=Wv,Wv)}function Ai(t){const e=Q.useContext(SI());return t?.warn,e}var zv={exports:{}},Uv={},Vv={exports:{}},Hv={};var gE;function FR(){if(gE)return Hv;gE=1;var t=Lf();function e(w,N){return w===N&&(w!==0||1/w===1/N)||w!==w&&N!==N}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,s=t.useEffect,a=t.useLayoutEffect,l=t.useDebugValue;function u(w,N){var k=N(),O=n({inst:{value:k,getSnapshot:N}}),C=O[0].inst,A=O[1];return a(function(){C.value=k,C.getSnapshot=N,d(C)&&A({inst:C})},[w,k,N]),s(function(){return d(C)&&A({inst:C}),w(function(){d(C)&&A({inst:C})})},[w]),l(k),k}function d(w){var N=w.getSnapshot;w=w.value;try{var k=N();return!r(w,k)}catch{return!0}}function m(w,N){return N()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:u;return Hv.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:g,Hv}var vE;function jR(){return vE||(vE=1,Vv.exports=FR()),Vv.exports}var _E;function LR(){if(_E)return Uv;_E=1;var t=Lf(),e=jR();function r(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var n=typeof Object.is=="function"?Object.is:r,s=e.useSyncExternalStore,a=t.useRef,l=t.useEffect,u=t.useMemo,d=t.useDebugValue;return Uv.useSyncExternalStoreWithSelector=function(m,g,w,N,k){var O=a(null);if(O.current===null){var C={hasValue:!1,value:null};O.current=C}else C=O.current;O=u(function(){function D(B){if(!j){if(j=!0,$=B,B=N(B),k!==void 0&&C.hasValue){var Z=C.value;if(k(Z,B))return V=Z}return V=B}if(Z=V,n($,B))return Z;var ie=N(B);return k!==void 0&&k(Z,ie)?($=B,Z):($=B,V=ie)}var j=!1,$,V,G=w===void 0?null:w;return[function(){return D(g())},G===null?void 0:function(){return D(G())}]},[g,w,N,k]);var A=s(m,O[0],O[1]);return l(function(){C.hasValue=!0,C.value=A},[A]),d(A),A},Uv}var bE;function DR(){return bE||(bE=1,zv.exports=LR()),zv.exports}var MR=DR();class BR{constructor(e,r){this.listeners=new Set,this._batching=!1,this._flushing=0,this.subscribe=n=>{var s,a;this.listeners.add(n);const l=(a=(s=this.options)==null?void 0:s.onSubscribe)==null?void 0:a.call(s,n,this);return()=>{this.listeners.delete(n),l?.()}},this.setState=n=>{var s,a,l;const u=this.state;this.state=(s=this.options)!=null&&s.updateFn?this.options.updateFn(u)(n):n(u),(l=(a=this.options)==null?void 0:a.onUpdate)==null||l.call(a),this._flush()},this._flush=()=>{if(this._batching)return;const n=++this._flushing;this.listeners.forEach(s=>{this._flushing===n&&s()})},this.batch=n=>{if(this._batching)return n();this._batching=!0,n(),this._batching=!1,this._flush()},this.state=e,this.options=r}}function $R(t,e=r=>r){return MR.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,WR)}function WR(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[n,s]of t)if(!e.has(n)||!Object.is(s,e.get(n)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!1;for(let n=0;n<r.length;n++)if(!Object.prototype.hasOwnProperty.call(e,r[n])||!Object.is(t[r[n]],e[r[n]]))return!1;return!0}const Bi="__root__";function zR(t,e){let r,n,s,a="";for(r in t)if((s=t[r])!==void 0)if(Array.isArray(s))for(n=0;n<s.length;n++)a&&(a+="&"),a+=encodeURIComponent(r)+"="+encodeURIComponent(s[n]);else a&&(a+="&"),a+=encodeURIComponent(r)+"="+encodeURIComponent(s);return""+a}function wE(t){if(!t)return"";const e=decodeURIComponent(t);return e==="false"?!1:e==="true"?!0:+e*0===0&&+e+""===e?+e:e}function UR(t,e){let r,n;const s={},a=t.split("&");for(;r=a.shift();){const l=r.indexOf("=");if(l!==-1){n=r.slice(0,l),n=decodeURIComponent(n);const u=r.slice(l+1);s[n]!==void 0?s[n]=[].concat(s[n],wE(u)):s[n]=wE(u)}else n=r,n=decodeURIComponent(n),s[n]=""}return s}const VR=QR(JSON.parse),HR=KR(JSON.stringify,JSON.parse);function QR(t){return e=>{e.substring(0,1)==="?"&&(e=e.substring(1));const r=UR(e);for(const n in r){const s=r[n];if(typeof s=="string")try{r[n]=t(s)}catch{}}return r}}function KR(t,e){function r(n){if(typeof n=="object"&&n!==null)try{return t(n)}catch{}else if(typeof n=="string"&&typeof e=="function")try{return e(n),t(n)}catch{}return n}return n=>{n={...n},Object.keys(n).forEach(a=>{const l=n[a];typeof l>"u"||l===void 0?delete n[a]:n[a]=r(l)});const s=zR(n).toString();return s?`?${s}`:""}}function Hd(t){return t[t.length-1]}function GR(t){return typeof t=="function"}function Ll(t,e){return GR(t)?t(e):t}function Mp(t,e){return e.reduce((r,n)=>(r[n]=t[n],r),{})}function gs(t,e){if(t===e)return t;const r=e,n=SE(t)&&SE(r);if(n||pc(t)&&pc(r)){const s=n?t:Object.keys(t),a=s.length,l=n?r:Object.keys(r),u=l.length,d=n?[]:{};let m=0;for(let g=0;g<u;g++){const w=n?g:l[g];(!n&&s.includes(w)||n)&&t[w]===void 0&&r[w]===void 0?(d[w]=void 0,m++):(d[w]=gs(t[w],r[w]),d[w]===t[w]&&t[w]!==void 0&&m++)}return a===u&&m===a?t:d}return r}function pc(t){if(!xE(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const r=e.prototype;return!(!xE(r)||!r.hasOwnProperty("isPrototypeOf"))}function xE(t){return Object.prototype.toString.call(t)==="[object Object]"}function SE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function EE(t,e){let r=Object.keys(t);return e&&(r=r.filter(n=>t[n]!==void 0)),r}function Xu(t,e,r){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(pc(t)&&pc(e)){const n=r?.ignoreUndefined??!0,s=EE(t,n),a=EE(e,n);return!r?.partial&&s.length!==a.length?!1:a.every(l=>Xu(t[l],e[l],r))}return Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:!t.some((n,s)=>!Xu(n,e[s],r)):!1}const Pd=typeof window<"u"?Q.useLayoutEffect:Q.useEffect;function Mu(t){let e,r;const n=new Promise((s,a)=>{e=s,r=a});return n.status="pending",n.resolve=s=>{n.status="resolved",n.value=s,e(s),t?.(s)},n.reject=s=>{n.status="rejected",r(s)},n}function Qv(t){const e=Q.useRef({value:t,prev:null}),r=e.current.value;return t!==r&&(e.current={value:t,prev:r}),e.current.prev}function JR(t,e,r={},n={}){const s=Q.useRef(typeof IntersectionObserver=="function"),a=Q.useRef(null);return Q.useEffect(()=>{if(!(!t.current||!s.current||n.disabled))return a.current=new IntersectionObserver(([l])=>{e(l)},r),a.current.observe(t.current),()=>{var l;(l=a.current)==null||l.disconnect()}},[e,r,n.disabled,t]),a.current}function ZR(t){const e=Q.useRef(null);return Q.useEffect(()=>{t&&(typeof t=="function"?t(e.current):t.current=e.current)}),e}function Ho(t){return uy(t.filter(e=>e!==void 0).join("/"))}function uy(t){return t.replace(/\/{2,}/g,"/")}function Nw(t){return t==="/"?t:t.replace(/^\/{1,}/,"")}function Dl(t){return t==="/"?t:t.replace(/\/{1,}$/,"")}function YR(t){return Dl(Nw(t))}function bm(t,e){return t.endsWith("/")&&t!=="/"&&t!==`${e}/`?t.slice(0,-1):t}function XR(t,e,r){return bm(t,r)===bm(e,r)}function eA({basepath:t,base:e,to:r,trailingSlash:n="never",caseSensitive:s}){var a,l;e=wm(t,e,s),r=wm(t,r,s);let u=mc(e);const d=mc(r);u.length>1&&((a=Hd(u))==null?void 0:a.value)==="/"&&u.pop(),d.forEach((g,w)=>{g.value==="/"?w?w===d.length-1&&u.push(g):u=[g]:g.value===".."?u.pop():g.value==="."||u.push(g)}),u.length>1&&(((l=Hd(u))==null?void 0:l.value)==="/"?n==="never"&&u.pop():n==="always"&&u.push({type:"pathname",value:"/"}));const m=Ho([t,...u.map(g=>g.value)]);return uy(m)}function mc(t){if(!t)return[];t=uy(t);const e=[];if(t.slice(0,1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),!t)return e;const r=t.split("/").filter(Boolean);return e.push(...r.map(n=>n==="$"||n==="*"?{type:"wildcard",value:n}:n.charAt(0)==="$"?{type:"param",value:n}:{type:"pathname",value:decodeURI(n)})),t.slice(-1)==="/"&&(t=t.substring(1),e.push({type:"pathname",value:"/"})),e}function vp({path:t,params:e,leaveWildcards:r,leaveParams:n,decodeCharMap:s}){const a=mc(t),l={};for(const[u,d]of Object.entries(e)){const m=typeof d=="string";["*","_splat"].includes(u)?l[u]=m?encodeURI(d):d:l[u]=m?tA(d,s):d}return Ho(a.map(u=>{if(u.type==="wildcard"){const d=l._splat;return r?`${u.value}${d??""}`:d}if(u.type==="param"){if(n){const d=l[u.value];return`${u.value}${d??""}`}return l[u.value.substring(1)]??"undefined"}return u.value}))}function tA(t,e){let r=encodeURIComponent(t);if(e)for(const[n,s]of e)r=r.replaceAll(n,s);return r}function _p(t,e,r){const n=rA(t,e,r);if(!(r.to&&!n))return n??{}}function wm(t,e,r=!1){const n=r?t:t.toLowerCase(),s=r?e:e.toLowerCase();switch(!0){case n==="/":return e;case s===n:return"";case e.length<t.length:return e;case s[n.length]!=="/":return e;case s.startsWith(n):return e.slice(t.length);default:return e}}function rA(t,e,r){if(t!=="/"&&!e.startsWith(t))return;e=wm(t,e,r.caseSensitive);const n=wm(t,`${r.to??"$"}`,r.caseSensitive),s=mc(e),a=mc(n);e.startsWith("/")||s.unshift({type:"pathname",value:"/"}),n.startsWith("/")||a.unshift({type:"pathname",value:"/"});const l={};return(()=>{for(let d=0;d<Math.max(s.length,a.length);d++){const m=s[d],g=a[d],w=d>=s.length-1,N=d>=a.length-1;if(g){if(g.type==="wildcard"){const k=decodeURI(Ho(s.slice(d).map(O=>O.value)));return l["*"]=k,l._splat=k,!0}if(g.type==="pathname"){if(g.value==="/"&&!m?.value)return!0;if(m){if(r.caseSensitive){if(g.value!==m.value)return!1}else if(g.value.toLowerCase()!==m.value.toLowerCase())return!1}}if(!m)return!1;if(g.type==="param"){if(m.value==="/")return!1;m.value.charAt(0)!=="$"&&(l[g.value.substring(1)]=decodeURIComponent(m.value))}}if(!w&&N)return l["**"]=Ho(s.slice(d+1).map(k=>k.value)),!!r.fuzzy&&g?.value!=="/"}return!0})()?l:void 0}function cy(t){if(t.isRedirect=!0,t.statusCode=t.statusCode||t.code||307,t.headers=t.headers||{},!t.reloadDocument){t.reloadDocument=!1;try{new URL(`${t.href}`),t.reloadDocument=!0}catch{}}if(t.throw)throw t;return t}function ql(t){return!!t?.isRedirect}function Kv(t){return!!t?.isRedirect&&t.href}function kw(t){const e=t.errorComponent??dy;return y.jsx(nA,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:r,reset:n})=>r?Q.createElement(e,{error:r,reset:n}):t.children})}class nA extends Q.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(e){return{resetKey:e.getResetKey()}}static getDerivedStateFromError(e){return{error:e}}reset(){this.setState({error:null})}componentDidUpdate(e,r){r.error&&r.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(e,r){this.props.onCatch&&this.props.onCatch(e,r)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function dy({error:t}){const[e,r]=Q.useState(!1);return y.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[y.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),y.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>r(n=>!n),children:e?"Hide Error":"Show Error"})]}),y.jsx("div",{style:{height:".25rem"}}),e?y.jsx("div",{children:y.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?y.jsx("code",{children:t.message}):null})}):null]})}function hi(t){const e=Ai({warn:t?.router===void 0}),r=t?.router||e,n=Q.useRef();return $R(r.__store,s=>{if(t?.select){if(t.structuralSharing??r.options.defaultStructuralSharing){const a=gs(n.current,t.select(s));return n.current=a,a}return t.select(s)}return s})}function Ds(t){return!!t?.isNotFound}function iA(t){const e=hi({select:r=>`not-found-${r.location.pathname}-${r.status}`});return y.jsx(kw,{getResetKey:()=>e,onCatch:(r,n)=>{var s;if(Ds(r))(s=t.onCatch)==null||s.call(t,r,n);else throw r},errorComponent:({error:r})=>{var n;if(Ds(r))return(n=t.fallback)==null?void 0:n.call(t,r);throw r},children:t.children})}function sA(){return y.jsx("p",{children:"Not Found"})}const oA={stringify:t=>JSON.stringify(t,function(r,n){const s=this[r],a=NE.find(l=>l.stringifyCondition(s));return a?a.stringify(s):n}),parse:t=>JSON.parse(t,function(r,n){const s=this[r],a=NE.find(l=>l.parseCondition(s));return a?a.parse(s):n})},NE=[{stringifyCondition:t=>t instanceof Date,stringify:t=>({$date:t.toISOString()}),parseCondition:t=>pc(t)&&t.$date,parse:t=>new Date(t.$date)},{stringifyCondition:t=>t===void 0,stringify:()=>({$undefined:""}),parseCondition:t=>pc(t)&&t.$undefined==="",parse:()=>{}}],EI=["component","errorComponent","pendingComponent","notFoundComponent"];function aA(t){var e;for(const r of EI)if((e=t.options[r])!=null&&e.preload)return!0;return!1}function Gv(t,e){if(t==null)return{};if("~standard"in t){const r=t["~standard"].validate(e);if(r instanceof Promise)throw new Ib("Async validation not supported");if(r.issues)throw new Ib(JSON.stringify(r.issues,void 0,2));return r.value}return"parse"in t?t.parse(e):typeof t=="function"?t(e):{}}function lA(t){return new uA(t)}class uA{constructor(e){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.startReactTransition=r=>r(),this.update=r=>{var n;r.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/guide/not-found-errors#migrating-from-notfoundroute for more info.");const s=this.options;this.options={...this.options,...r},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(a=>[encodeURIComponent(a),a])):void 0,(!this.basepath||r.basepath&&r.basepath!==s.basepath)&&(r.basepath===void 0||r.basepath===""||r.basepath==="/"?this.basepath="/":this.basepath=`/${YR(r.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?RR({initialEntries:[this.basepath||"/"]}):qR()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new BR(dA(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(a=>!["redirected"].includes(a.status))}}})),typeof window<"u"&&"CSS"in window&&typeof((n=window.CSS)==null?void 0:n.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.buildRouteTree=()=>{this.routesById={},this.routesByPath={};const r=this.options.notFoundRoute;r&&(r.init({originalIndex:0x174876e7ff,defaultSsr:this.options.defaultSsr}),this.routesById[r.id]=r);const n=l=>{l.forEach((u,d)=>{u.init({originalIndex:d,defaultSsr:this.options.defaultSsr});const m=this.routesById[u.id];if(zi(!m,`Duplicate routes found with id: ${String(u.id)}`),this.routesById[u.id]=u,!u.isRoot&&u.path){const w=Dl(u.fullPath);(!this.routesByPath[w]||u.fullPath.endsWith("/"))&&(this.routesByPath[w]=u)}const g=u.children;g?.length&&n(g)})};n([this.routeTree]);const s=[];Object.values(this.routesById).forEach((l,u)=>{var d;if(l.isRoot||!l.path)return;const m=Nw(l.fullPath),g=mc(m);for(;g.length>1&&((d=g[0])==null?void 0:d.value)==="/";)g.shift();const w=g.map(N=>N.value==="/"?.75:N.type==="param"?.5:N.type==="wildcard"?.25:1);s.push({child:l,trimmed:m,parsed:g,index:u,scores:w})}),this.flatRoutes=s.sort((l,u)=>{const d=Math.min(l.scores.length,u.scores.length);for(let m=0;m<d;m++)if(l.scores[m]!==u.scores[m])return u.scores[m]-l.scores[m];if(l.scores.length!==u.scores.length)return u.scores.length-l.scores.length;for(let m=0;m<d;m++)if(l.parsed[m].value!==u.parsed[m].value)return l.parsed[m].value>u.parsed[m].value?1:-1;return l.index-u.index}).map((l,u)=>(l.child.rank=u,l.child))},this.subscribe=(r,n)=>{const s={eventType:r,fn:n};return this.subscribers.add(s),()=>{this.subscribers.delete(s)}},this.emit=r=>{this.subscribers.forEach(n=>{n.eventType===r.type&&n.fn(r)})},this.parseLocation=(r,n)=>{const s=({pathname:d,search:m,hash:g,state:w})=>{const N=this.options.parseSearch(m),k=this.options.stringifySearch(N);return{pathname:d,searchStr:k,search:gs(r?.search,N),hash:g.split("#").reverse()[0]??"",href:`${d}${k}${g}`,state:gs(r?.state,w)}},a=s(n??this.history.location),{__tempLocation:l,__tempKey:u}=a.state;if(l&&(!u||u===this.tempLocationKey)){const d=s(l);return d.state.key=a.state.key,delete d.state.__tempLocation,{...d,maskedLocation:a}}return a},this.resolvePathWithBase=(r,n)=>eA({basepath:this.basepath,base:r,to:uy(n),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.getMatchedRoutes=(r,n)=>{let s={};const a=Dl(r.pathname),l=g=>_p(this.basepath,a,{to:g.fullPath,caseSensitive:g.options.caseSensitive??this.options.caseSensitive,fuzzy:!0});let u=n?.to!==void 0?this.routesByPath[n.to]:void 0;u?s=l(u):u=this.flatRoutes.find(g=>{const w=l(g);return w?(s=w,!0):!1});let d=u||this.routesById[Bi];const m=[d];for(;d.parentRoute;)d=d.parentRoute,m.unshift(d);return{matchedRoutes:m,routeParams:s,foundRoute:u}},this.cancelMatch=r=>{const n=this.getMatch(r);n&&(n.abortController.abort(),clearTimeout(n.pendingTimeout))},this.cancelMatches=()=>{var r;(r=this.state.pendingMatches)==null||r.forEach(n=>{this.cancelMatch(n.id)})},this.buildLocation=r=>{const n=(a={},l)=>{var u,d,m,g,w,N;const k=a._fromLocation?this.matchRoutes(a._fromLocation,{_buildLocation:!0}):this.state.matches,O=a.from!=null?k.find(M=>_p(this.basepath,Dl(M.pathname),{to:a.from,caseSensitive:!1,fuzzy:!1})):void 0,C=O?.pathname||this.latestLocation.pathname;zi(a.from==null||O!=null,"Could not find match for from: "+a.from);const A=(u=this.state.pendingMatches)!=null&&u.length?(d=Hd(this.state.pendingMatches))==null?void 0:d.search:((m=Hd(k))==null?void 0:m.search)||this.latestLocation.search,D=l?.matchedRoutes.filter(M=>k.find(se=>se.routeId===M.id));let j;if(a.to)j=this.resolvePathWithBase(C,`${a.to}`);else{const M=this.routesById[(g=D?.find(se=>{const Y=vp({path:se.fullPath,params:l?.routeParams??{},decodeCharMap:this.pathParamsDecodeCharMap});return Ho([this.basepath,Y])===C}))==null?void 0:g.id];j=this.resolvePathWithBase(C,M?.to??C)}const $={...(w=Hd(k))==null?void 0:w.params};let V=(a.params??!0)===!0?$:{...$,...Ll(a.params,$)};Object.keys(V).length>0&&l?.matchedRoutes.map(M=>{var se;return((se=M.options.params)==null?void 0:se.stringify)??M.options.stringifyParams}).filter(Boolean).forEach(M=>{V={...V,...M(V)}}),j=vp({path:j,params:V??{},leaveWildcards:!1,leaveParams:r.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap});let G=A;if(r._includeValidateSearch&&((N=this.options.search)!=null&&N.strict)){let M={};l?.matchedRoutes.forEach(se=>{try{se.options.validateSearch&&(M={...M,...Gv(se.options.validateSearch,{...M,...G})??{}})}catch{}}),G=M}G=(M=>{const se=l?.matchedRoutes.reduce((Te,Ce)=>{var Fe;const _e=[];if("search"in Ce.options)(Fe=Ce.options.search)!=null&&Fe.middlewares&&_e.push(...Ce.options.search.middlewares);else if(Ce.options.preSearchFilters||Ce.options.postSearchFilters){const ye=({search:Ne,next:H})=>{let Se=Ne;"preSearchFilters"in Ce.options&&Ce.options.preSearchFilters&&(Se=Ce.options.preSearchFilters.reduce((at,dt)=>dt(at),Ne));const lt=H(Se);return"postSearchFilters"in Ce.options&&Ce.options.postSearchFilters?Ce.options.postSearchFilters.reduce((at,dt)=>dt(at),lt):lt};_e.push(ye)}if(r._includeValidateSearch&&Ce.options.validateSearch){const ye=({search:Ne,next:H})=>{try{const Se=H(Ne);return{...Se,...Gv(Ce.options.validateSearch,Se)??{}}}catch{}};_e.push(ye)}return Te.concat(_e)},[])??[],Y=({search:Te})=>a.search?a.search===!0?Te:Ll(a.search,Te):{};se.push(Y);const me=(Te,Ce)=>{if(Te>=se.length)return Ce;const Fe=se[Te];return Fe({search:Ce,next:ye=>me(Te+1,ye)})};return me(0,M)})(G),G=gs(A,G);const Z=this.options.stringifySearch(G),ie=a.hash===!0?this.latestLocation.hash:a.hash?Ll(a.hash,this.latestLocation.hash):void 0,U=ie?`#${ie}`:"";let ne=a.state===!0?this.latestLocation.state:a.state?Ll(a.state,this.latestLocation.state):{};return ne=gs(this.latestLocation.state,ne),{pathname:j,search:G,searchStr:Z,state:ne,hash:ie??"",href:`${j}${Z}${U}`,unmaskOnReload:a.unmaskOnReload}},s=(a={},l)=>{var u;const d=n(a);let m=l?n(l):void 0;if(!m){let N={};const k=(u=this.options.routeMasks)==null?void 0:u.find(O=>{const C=_p(this.basepath,d.pathname,{to:O.from,caseSensitive:!1,fuzzy:!1});return C?(N=C,!0):!1});if(k){const{from:O,...C}=k;l={...Mp(r,["from"]),...C,params:N},m=n(l)}}const g=this.getMatchedRoutes(d,a),w=n(a,g);if(m){const N=this.getMatchedRoutes(m,l),k=n(l,N);w.maskedLocation=k}return w};return r.mask?s(r,{...Mp(r,["from"]),...r.mask}):s(r)},this.commitLocation=({viewTransition:r,ignoreBlocker:n,...s})=>{const a=()=>{s.state.key=this.latestLocation.state.key;const d=Xu(s.state,this.latestLocation.state);return delete s.state.key,d},l=this.latestLocation.href===s.href,u=this.commitLocationPromise;if(this.commitLocationPromise=Mu(()=>{u?.resolve()}),l&&a())this.load();else{let{maskedLocation:d,hashScrollIntoView:m,...g}=s;d&&(g={...d,state:{...d.state,__tempKey:void 0,__tempLocation:{...g,search:g.searchStr,state:{...g.state,__tempKey:void 0,__tempLocation:void 0,key:void 0}}}},(g.unmaskOnReload??this.options.unmaskOnReload??!1)&&(g.state.__tempKey=this.tempLocationKey)),g.state.__hashScrollIntoViewOptions=m??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=r,this.history[s.replace?"replace":"push"](g.href,g.state,{ignoreBlocker:n})}return this.resetNextScroll=s.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:r,resetScroll:n,hashScrollIntoView:s,viewTransition:a,ignoreBlocker:l,href:u,...d}={})=>{if(u){const g=lf(u,{});d.to=g.pathname,d.search=this.options.parseSearch(g.search),d.hash=g.hash.slice(1)}const m=this.buildLocation({...d,_includeValidateSearch:!0});return this.commitLocation({...m,viewTransition:a,replace:r,resetScroll:n,hashScrollIntoView:s,ignoreBlocker:l})},this.navigate=({to:r,reloadDocument:n,href:s,...a})=>{if(n){s||(s=this.buildLocation({to:r,...a}).href),a.replace?window.location.replace(s):window.location.href=s;return}return this.buildAndCommitLocation({...a,href:s,to:r})},this.load=async()=>{this.latestLocation=this.parseLocation(this.latestLocation);let r,n,s;for(s=new Promise(a=>{this.startReactTransition(async()=>{var l;try{const u=this.latestLocation,d=this.state.resolvedLocation,m=d.href!==u.href,g=d.pathname!==u.pathname;this.cancelMatches();let w;this.__store.batch(()=>{w=this.matchRoutes(u),this.__store.setState(N=>({...N,status:"pending",isLoading:!0,location:u,pendingMatches:w,cachedMatches:N.cachedMatches.filter(k=>!w.find(O=>O.id===k.id))}))}),this.state.redirect||this.emit({type:"onBeforeNavigate",fromLocation:d,toLocation:u,pathChanged:g,hrefChanged:m}),this.emit({type:"onBeforeLoad",fromLocation:d,toLocation:u,pathChanged:g,hrefChanged:m}),await this.loadMatches({matches:w,location:u,onReady:async()=>{this.startViewTransition(async()=>{let N,k,O;this.__store.batch(()=>{this.__store.setState(C=>{const A=C.matches,D=C.pendingMatches||C.matches;return N=A.filter(j=>!D.find($=>$.id===j.id)),k=D.filter(j=>!A.find($=>$.id===j.id)),O=A.filter(j=>D.find($=>$.id===j.id)),{...C,isLoading:!1,loadedAt:Date.now(),matches:D,pendingMatches:void 0,cachedMatches:[...C.cachedMatches,...N.filter(j=>j.status!=="error")]}}),this.clearExpiredCache()}),[[N,"onLeave"],[k,"onEnter"],[O,"onStay"]].forEach(([C,A])=>{C.forEach(D=>{var j,$;($=(j=this.looseRoutesById[D.routeId].options)[A])==null||$.call(j,D)})})})}})}catch(u){Kv(u)?(r=u,this.isServer||this.navigate({...r,replace:!0,ignoreBlocker:!0})):Ds(u)&&(n=u),this.__store.setState(d=>({...d,statusCode:r?r.statusCode:n?404:d.matches.some(m=>m.status==="error")?500:200,redirect:r}))}this.latestLoadPromise===s&&((l=this.commitLocationPromise)==null||l.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),a()})}),this.latestLoadPromise=s,await s;this.latestLoadPromise&&s!==this.latestLoadPromise;)await this.latestLoadPromise},this.startViewTransition=r=>{const n=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,n&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let s;typeof n=="object"&&this.isViewTransitionTypesSupported?s={update:r,types:n.types}:s=r,document.startViewTransition(s)}else r()},this.updateMatch=(r,n)=>{var s;let a;const l=(s=this.state.pendingMatches)==null?void 0:s.find(g=>g.id===r),u=this.state.matches.find(g=>g.id===r),d=this.state.cachedMatches.find(g=>g.id===r),m=l?"pendingMatches":u?"matches":d?"cachedMatches":"";return m&&this.__store.setState(g=>{var w;return{...g,[m]:(w=g[m])==null?void 0:w.map(N=>N.id===r?a=n(N):N)}}),a},this.getMatch=r=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(n=>n.id===r),this.loadMatches=async({location:r,matches:n,preload:s,onReady:a,updateMatch:l=this.updateMatch})=>{let u,d=!1;const m=async()=>{d||(d=!0,await a?.())},g=N=>!!(s&&!this.state.matches.find(k=>k.id===N));!this.isServer&&!this.state.matches.length&&m();const w=(N,k)=>{var O,C,A;if(Kv(k)&&!k.reloadDocument)throw k;if(ql(k)||Ds(k)){if(l(N.id,D=>({...D,status:ql(k)?"redirected":Ds(k)?"notFound":"error",isFetching:!1,error:k,beforeLoadPromise:void 0,loaderPromise:void 0})),k.routeId||(k.routeId=N.routeId),(O=N.beforeLoadPromise)==null||O.resolve(),(C=N.loaderPromise)==null||C.resolve(),(A=N.loadPromise)==null||A.resolve(),ql(k))throw d=!0,k=this.resolveRedirect({...k,_fromLocation:r}),k;if(Ds(k))throw this._handleNotFound(n,k,{updateMatch:l}),k}};try{await new Promise((N,k)=>{(async()=>{var O,C,A;try{const D=(V,G,B)=>{var Z,ie;const{id:U,routeId:ne}=n[V],M=this.looseRoutesById[ne];if(G instanceof Promise)throw G;G.routerCode=B,u=u??V,w(this.getMatch(U),G);try{(ie=(Z=M.options).onError)==null||ie.call(Z,G)}catch(se){G=se,w(this.getMatch(U),G)}l(U,se=>{var Y,me;return(Y=se.beforeLoadPromise)==null||Y.resolve(),(me=se.loadPromise)==null||me.resolve(),{...se,error:G,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[V,{id:G,routeId:B}]of n.entries()){const Z=this.getMatch(G),ie=(O=n[V-1])==null?void 0:O.id,U=this.looseRoutesById[B],ne=U.options.pendingMs??this.options.defaultPendingMs,M=!!(a&&!this.isServer&&!g(G)&&(U.options.loader||U.options.beforeLoad)&&typeof ne=="number"&&ne!==1/0&&(U.options.pendingComponent??this.options.defaultPendingComponent));let se=!0;if((Z.beforeLoadPromise||Z.loaderPromise)&&(M&&setTimeout(()=>{try{m()}catch{}},ne),await Z.beforeLoadPromise,se=this.getMatch(G).status!=="success"),se){try{l(G,dt=>({...dt,loadPromise:Mu(()=>{var mt;(mt=dt.loadPromise)==null||mt.resolve()}),beforeLoadPromise:Mu()}));const Y=new AbortController;let me;M&&(me=setTimeout(()=>{try{m()}catch{}},ne));const{paramsError:Te,searchError:Ce}=this.getMatch(G);Te&&D(V,Te,"PARSE_PARAMS"),Ce&&D(V,Ce,"VALIDATE_SEARCH");const Fe=()=>ie?this.getMatch(ie).context:this.options.context??{};l(G,dt=>({...dt,isFetching:"beforeLoad",fetchCount:dt.fetchCount+1,abortController:Y,pendingTimeout:me,context:{...Fe(),...dt.__routeContext,...dt.__beforeLoadContext}}));const{search:_e,params:ye,context:Ne,cause:H}=this.getMatch(G),Se=g(G),lt={search:_e,abortController:Y,params:ye,preload:Se,context:Ne,location:r,navigate:dt=>this.navigate({...dt,_fromLocation:r}),buildLocation:this.buildLocation,cause:Se?"preload":H,matches:n};let at=await ((A=(C=U.options).beforeLoad)==null?void 0:A.call(C,lt))??{};this.serializeLoaderData&&(at=this.serializeLoaderData("__beforeLoadContext",at,{router:this,match:this.getMatch(G)})),(ql(at)||Ds(at))&&D(V,at,"BEFORE_LOAD"),l(G,dt=>({...dt,__beforeLoadContext:at,context:{...Fe(),...dt.__routeContext,...at},abortController:Y}))}catch(Y){D(V,Y,"BEFORE_LOAD")}l(G,Y=>{var me;return(me=Y.beforeLoadPromise)==null||me.resolve(),{...Y,beforeLoadPromise:void 0,isFetching:!1}})}}const j=n.slice(0,u),$=[];j.forEach(({id:V,routeId:G},B)=>{$.push((async()=>{const{loaderPromise:Z}=this.getMatch(V);let ie=!1;if(Z)await Z;else{const U=$[B-1],ne=this.looseRoutesById[G],M=()=>{const{params:Se,loaderDeps:lt,abortController:at,context:dt,cause:mt}=this.getMatch(V),ft=g(V);return{params:Se,deps:lt,preload:!!ft,parentMatchPromise:U,abortController:at,context:dt,location:r,navigate:gt=>this.navigate({...gt,_fromLocation:r}),cause:ft?"preload":mt,route:ne}},se=Date.now()-this.getMatch(V).updatedAt,Y=g(V),me=Y?ne.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:ne.options.staleTime??this.options.defaultStaleTime??0,Te=ne.options.shouldReload,Ce=typeof Te=="function"?Te(M()):Te;l(V,Se=>({...Se,loaderPromise:Mu(),preload:!!Y&&!this.state.matches.find(lt=>lt.id===V)}));const Fe=async()=>{var Se,lt,at,dt,mt,ft,gt,Pt;try{const vt=async()=>{const yt=this.getMatch(V);yt.minPendingPromise&&await yt.minPendingPromise};try{this.loadRouteChunk(ne),l(V,mr=>({...mr,isFetching:"loader"}));let yt=await ((lt=(Se=ne.options).loader)==null?void 0:lt.call(Se,M()));this.serializeLoaderData&&(yt=this.serializeLoaderData("loaderData",yt,{router:this,match:this.getMatch(V)})),w(this.getMatch(V),yt),await ne._lazyPromise,await vt();const Tt=(dt=(at=ne.options).head)==null?void 0:dt.call(at,{matches:n,match:this.getMatch(V),params:this.getMatch(V).params,loaderData:yt}),Ot=Tt?.meta,er=Tt?.links,Zt=Tt?.scripts,ir=(ft=(mt=ne.options).headers)==null?void 0:ft.call(mt,{loaderData:yt});l(V,mr=>({...mr,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:yt,meta:Ot,links:er,scripts:Zt,headers:ir}))}catch(yt){let Tt=yt;await vt(),w(this.getMatch(V),yt);try{(Pt=(gt=ne.options).onError)==null||Pt.call(gt,yt)}catch(Ot){Tt=Ot,w(this.getMatch(V),Ot)}l(V,Ot=>({...Ot,error:Tt,status:"error",isFetching:!1}))}await ne._componentsPromise}catch(vt){l(V,yt=>({...yt,loaderPromise:void 0})),w(this.getMatch(V),vt)}},{status:_e,invalid:ye}=this.getMatch(V);ie=_e==="success"&&(ye||(Ce??se>me)),Y&&ne.options.preload===!1||(ie?(async()=>{try{await Fe()}catch(Se){Kv(Se)&&await this.navigate(Se)}})():_e!=="success"&&await Fe());const{loaderPromise:Ne,loadPromise:H}=this.getMatch(V);Ne?.resolve(),H?.resolve()}return l(V,U=>({...U,isFetching:ie?U.isFetching:!1,loaderPromise:void 0,invalid:!1})),this.getMatch(V)})())}),await Promise.all($),N()}catch(D){k(D)}})()}),await m()}catch(N){if(ql(N)||Ds(N))throw Ds(N)&&!s&&await m(),N}return n},this.invalidate=r=>{const n=s=>{var a;return((a=r?.filter)==null?void 0:a.call(r,s))??!0?{...s,invalid:!0,...s.status==="error"?{status:"pending",error:void 0}:{}}:s};return this.__store.setState(s=>{var a;return{...s,matches:s.matches.map(n),cachedMatches:s.cachedMatches.map(n),pendingMatches:(a=s.pendingMatches)==null?void 0:a.map(n)}}),this.load()},this.resolveRedirect=r=>{const n=r;return n.href||(n.href=this.buildLocation(n).href),n},this.clearCache=r=>{const n=r?.filter;n!==void 0?this.__store.setState(s=>({...s,cachedMatches:s.cachedMatches.filter(a=>!n(a))})):this.__store.setState(s=>({...s,cachedMatches:[]}))},this.clearExpiredCache=()=>{const r=n=>{const s=this.looseRoutesById[n.routeId];if(!s.options.loader)return!0;const a=(n.preload?s.options.preloadGcTime??this.options.defaultPreloadGcTime:s.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return!(n.status!=="error"&&Date.now()-n.updatedAt<a)};this.clearCache({filter:r})},this.loadRouteChunk=r=>(r._lazyPromise===void 0&&(r.lazyFn?r._lazyPromise=r.lazyFn().then(n=>{const{id:s,...a}=n.options;Object.assign(r.options,a)}):r._lazyPromise=Promise.resolve()),r._componentsPromise===void 0&&(r._componentsPromise=r._lazyPromise.then(()=>Promise.all(EI.map(async n=>{const s=r.options[n];s?.preload&&await s.preload()})))),r._componentsPromise),this.preloadRoute=async r=>{const n=this.buildLocation(r);let s=this.matchRoutes(n,{throwOnError:!0,preload:!0,dest:r});const a=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(u=>u.id)),l=new Set([...a,...this.state.cachedMatches.map(u=>u.id)]);this.__store.batch(()=>{s.forEach(u=>{l.has(u.id)||this.__store.setState(d=>({...d,cachedMatches:[...d.cachedMatches,u]}))})});try{return s=await this.loadMatches({matches:s,location:n,preload:!0,updateMatch:(u,d)=>{a.has(u)?s=s.map(m=>m.id===u?d(m):m):this.updateMatch(u,d)}}),s}catch(u){if(ql(u))return u.reloadDocument?void 0:await this.preloadRoute({...u,_fromLocation:n});console.error(u);return}},this.matchRoute=(r,n)=>{const s={...r,to:r.to?this.resolvePathWithBase(r.from||"",r.to):void 0,params:r.params||{},leaveParams:!0},a=this.buildLocation(s);if(n?.pending&&this.state.status!=="pending")return!1;const u=(n?.pending===void 0?!this.state.isLoading:n.pending)?this.latestLocation:this.state.resolvedLocation,d=_p(this.basepath,u.pathname,{...n,to:a.pathname});return!d||r.params&&!Xu(d,r.params,{partial:!0})?!1:d&&(n?.includeSearch??!0)?Xu(u.search,a.search,{partial:!0})?d:!1:d},this.dehydrate=()=>{var r;const n=((r=this.options.errorSerializer)==null?void 0:r.serialize)??fA;return{state:{dehydratedMatches:this.state.matches.map(s=>({...Mp(s,["id","status","updatedAt"]),error:s.error?{data:n(s.error),__isServerError:!0}:void 0}))},manifest:this.manifest}},this.hydrate=()=>{var r,n,s;let a;typeof document<"u"&&(a=this.options.transformer.parse((r=window.__TSR__)==null?void 0:r.dehydrated)),zi(a),this.dehydratedData=a.payload,(s=(n=this.options).hydrate)==null||s.call(n,a.payload);const l=a.router.state,u=this.matchRoutes(this.state.location).map(d=>{const m=l.dehydratedMatches.find(g=>g.id===d.id);return zi(m,`Could not find a client-side match for dehydrated match with id: ${d.id}!`),{...d,...m}});this.__store.setState(d=>({...d,matches:u})),this.manifest=a.router.manifest},this.injectedHtml=[],this.injectHtml=r=>{const n=()=>(this.injectedHtml=this.injectedHtml.filter(s=>s!==n),r);this.injectedHtml.push(n)},this.injectScript=(r,n)=>{this.injectHtml(`<script class='tsr-once'>${r}; if (typeof __TSR__ !== 'undefined') __TSR__.cleanScripts()</script>`)},this.streamedKeys=new Set,this.getStreamedValue=r=>{var n;if(this.isServer)return;const s=(n=window.__TSR__)==null?void 0:n.streamedValues[r];if(s)return s.parsed||(s.parsed=this.options.transformer.parse(s.value)),s.parsed},this.streamValue=(r,n)=>{var s;this.streamedKeys.has(r),this.streamedKeys.add(r),this.injectScript(`__TSR__.streamedValues['${r}'] = { value: ${(s=this.serializer)==null?void 0:s.call(this,this.options.transformer.stringify(n))}}`)},this._handleNotFound=(r,n,{updateMatch:s=this.updateMatch}={})=>{const a=Object.fromEntries(r.map(d=>[d.routeId,d]));let l=(n.global?this.looseRoutesById[Bi]:this.looseRoutesById[n.routeId])||this.looseRoutesById[Bi];for(;!l.options.notFoundComponent&&!this.options.defaultNotFoundComponent&&l.id!==Bi;)l=l.parentRoute,zi(l);const u=a[l.id];zi(u,"Could not find match for route: "+l.id),s(u.id,d=>({...d,status:"notFound",error:n,isFetching:!1})),n.routerCode==="BEFORE_LOAD"&&l.parentRoute&&(n.routeId=l.parentRoute.id,this._handleNotFound(r,n,{updateMatch:s}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(r=>r.status==="notFound"||r.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...e,caseSensitive:e.caseSensitive??!1,notFoundMode:e.notFoundMode??"fuzzy",stringifySearch:e.stringifySearch??HR,parseSearch:e.parseSearch??VR,transformer:e.transformer??oA}),typeof document<"u"&&(window.__TSR__ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutes(e,r,n){return typeof e=="string"?this.matchRoutesInternal({pathname:e,search:r},n):this.matchRoutesInternal(e,r)}matchRoutesInternal(e,r){const{foundRoute:n,matchedRoutes:s,routeParams:a}=this.getMatchedRoutes(e,r?.dest);let l=!1;(n?n.path!=="/"&&a["**"]:Dl(e.pathname))&&(this.options.notFoundRoute?s.push(this.options.notFoundRoute):l=!0);const u=(()=>{if(l){if(this.options.notFoundMode!=="root")for(let w=s.length-1;w>=0;w--){const N=s[w];if(N.children)return N.id}return Bi}})(),d=s.map(w=>{var N;let k;const O=((N=w.options.params)==null?void 0:N.parse)??w.options.parseParams;if(O)try{const C=O(a);Object.assign(a,C)}catch(C){if(k=new cA(C.message,{cause:C}),r?.throwOnError)throw k;return k}}),m=[],g=w=>w?.id?w.context??this.options.context??{}:this.options.context??{};return s.forEach((w,N)=>{var k,O,C,A;const D=m[N-1],[j,$]=(()=>{const Y=D?.search??e.search;try{const me=Gv(w.options.validateSearch,Y)??{};return[{...Y,...me},void 0]}catch(me){const Te=new Ib(me.message,{cause:me});if(r?.throwOnError)throw Te;return[Y,Te]}})(),V=((O=(k=w.options).loaderDeps)==null?void 0:O.call(k,{search:j}))??"",G=V?JSON.stringify(V):"",B=vp({path:w.fullPath,params:a,decodeCharMap:this.pathParamsDecodeCharMap}),Z=vp({path:w.id,params:a,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap})+G,ie=this.getMatch(Z),U=this.state.matches.find(Y=>Y.routeId===w.id),ne=U?"stay":"enter";let M;if(ie)M={...ie,cause:ne,params:U?gs(U.params,a):a,search:gs(U?U.search:ie.search,j)};else{const Y=w.options.loader||w.options.beforeLoad||w.lazyFn||aA(w)?"pending":"success";M={id:Z,index:N,routeId:w.id,params:U?gs(U.params,a):a,pathname:Ho([this.basepath,B]),updatedAt:Date.now(),search:U?gs(U.search,j):j,searchError:void 0,status:Y,isFetching:!1,error:void 0,paramsError:d[N],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:ne,loaderDeps:U?gs(U.loaderDeps,V):V,invalid:!1,preload:!1,links:void 0,scripts:void 0,meta:void 0,staticData:w.options.staticData||{},loadPromise:Mu(),fullPath:w.fullPath}}M.status==="success"&&(M.headers=(A=(C=w.options).headers)==null?void 0:A.call(C,{loaderData:M.loaderData})),r?.preload||(M.globalNotFound=u===w.id),M.searchError=$;const se=g(D);M.context={...se,...M.__routeContext,...M.__beforeLoadContext},m.push(M)}),m.forEach((w,N)=>{var k,O,C,A;const D=this.looseRoutesById[w.routeId];if(!this.getMatch(w.id)&&r?._buildLocation!==!0){const V=m[N-1],G=g(V),B={deps:w.loaderDeps,params:w.params,context:G,location:e,navigate:Z=>this.navigate({...Z,_fromLocation:e}),buildLocation:this.buildLocation,cause:w.cause,abortController:w.abortController,preload:!!w.preload,matches:m};w.__routeContext=((O=(k=D.options).context)==null?void 0:O.call(k,B))??{},w.context={...G,...w.__routeContext,...w.__beforeLoadContext}}const $=(A=(C=D.options).head)==null?void 0:A.call(C,{matches:m,match:w,params:w.params,loaderData:w.loaderData??void 0});w.links=$?.links,w.scripts=$?.scripts,w.meta=$?.meta}),m}}class Ib extends Error{}class cA extends Error{}function dA(t){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:{...t},location:t,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function fA(t){return t instanceof Error?{name:t.name,message:t.message}:{data:t}}function kE(t){return!(typeof t=="object"&&t&&"data"in t)||!("__isServerError"in t&&t.__isServerError)||!(typeof t.data=="object"&&t.data)?!1:t.__isServerError===!0}function IE(t){if("name"in t&&"message"in t){const e=new Error(t.message);return e.name=t.name,e}return t.data}const fy=Q.createContext(void 0),hA=Q.createContext(void 0);function Ka(t){const e=Q.useContext(t.from?hA:fy);return hi({select:n=>{const s=n.matches.find(a=>t.from?t.from===a.routeId:a.id===e);if(zi(!((t.shouldThrow??!0)&&!s),`Could not find ${t.from?`an active match from "${t.from}"`:"a nearest match!"}`),s!==void 0)return t.select?t.select(s):s},structuralSharing:t.structuralSharing})}function ru(t){return Ka({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}function pA(t){const{select:e,...r}=t;return Ka({...r,select:n=>e?e(n.loaderDeps):n.loaderDeps})}function Rn(t){return Ka({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.params):e.params})}function mA(t){return Ka({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}function Iw(t){const{navigate:e}=Ai();return Q.useCallback(r=>e({...r}),[e])}let NI=class{constructor(e){this.init=r=>{var n,s;this.originalIndex=r.originalIndex;const a=this.options,l=!a?.path&&!a?.id;this.parentRoute=(s=(n=this.options).getParentRoute)==null?void 0:s.call(n),l?this._path=Bi:zi(this.parentRoute);let u=l?Bi:a.path;u&&u!=="/"&&(u=Nw(u));const d=a?.id||u;let m=l?Bi:Ho([this.parentRoute.id===Bi?"":this.parentRoute.id,d]);u===Bi&&(u="/"),m!==Bi&&(m=Ho(["/",m]));const g=m===Bi?"/":Ho([this.parentRoute.fullPath,u]);this._path=u,this._id=m,this._fullPath=g,this._to=g,this._ssr=a?.ssr??r.defaultSsr??!0},this.updateLoader=r=>(Object.assign(this.options,r),this),this.update=r=>(Object.assign(this.options,r),this),this.lazy=r=>(this.lazyFn=r,this),this.useMatch=r=>Ka({select:r?.select,from:this.id,structuralSharing:r?.structuralSharing}),this.useRouteContext=r=>Ka({...r,from:this.id,select:n=>r?.select?r.select(n.context):n.context}),this.useSearch=r=>mA({select:r?.select,structuralSharing:r?.structuralSharing,from:this.id}),this.useParams=r=>Rn({select:r?.select,structuralSharing:r?.structuralSharing,from:this.id}),this.useLoaderDeps=r=>pA({...r,from:this.id}),this.useLoaderData=r=>ru({...r,from:this.id}),this.useNavigate=()=>Iw({from:this.id}),this.options=e||{},this.isRoot=!e?.getParentRoute,zi(!(e?.id&&e?.path)),this.$$typeof=Symbol.for("react.memo")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}get ssr(){return this._ssr}addChildren(e){return this._addFileChildren(e)}_addFileChildren(e){return Array.isArray(e)&&(this.children=e),typeof e=="object"&&e!==null&&(this.children=Object.values(e)),this}};function yA(t){return new NI(t)}function gA(){return t=>_A(t)}class vA extends NI{constructor(e){super(e)}addChildren(e){return super.addChildren(e),this}_addFileChildren(e){return super._addFileChildren(e),this}_addFileTypes(){return this}}function _A(t){return new vA(t)}function fr(t){return new bA(t,{silent:!0}).createRoute}class bA{constructor(e,r){this.path=e,this.createRoute=n=>{this.silent;const s=yA(n);return s.isRoot=!1,s},this.silent=r?.silent}}function Bp(t){return y.jsx(y.Fragment,{children:t.children})}function kI(t,e,r){return e.options.notFoundComponent?y.jsx(e.options.notFoundComponent,{data:r}):t.options.defaultNotFoundComponent?y.jsx(t.options.defaultNotFoundComponent,{data:r}):y.jsx(sA,{})}const II=Q.memo(function({matchId:e}){var r,n;const s=Ai(),a=hi({select:A=>{var D;return(D=A.matches.find(j=>j.id===e))==null?void 0:D.routeId}});zi(a);const l=s.routesById[a],u=l.options.pendingComponent??s.options.defaultPendingComponent,d=u?y.jsx(u,{}):null,m=l.options.errorComponent??s.options.defaultErrorComponent,g=l.options.onCatch??s.options.defaultOnCatch,w=l.isRoot?l.options.notFoundComponent??((r=s.options.notFoundRoute)==null?void 0:r.options.component):l.options.notFoundComponent,N=(!l.isRoot||l.options.wrapInSuspense)&&(l.options.wrapInSuspense??u??((n=l.options.errorComponent)==null?void 0:n.preload))?Q.Suspense:Bp,k=m?kw:Bp,O=w?iA:Bp,C=hi({select:A=>A.loadedAt});return y.jsx(fy.Provider,{value:e,children:y.jsx(N,{fallback:d,children:y.jsx(k,{getResetKey:()=>C,errorComponent:m||dy,onCatch:(A,D)=>{if(Ds(A))throw A;g?.(A,D)},children:y.jsx(O,{fallback:A=>{if(!w||A.routeId&&A.routeId!==a||!A.routeId&&!l.isRoot)throw A;return Q.createElement(w,A)},children:y.jsx(wA,{matchId:e})})})})})}),wA=Q.memo(function({matchId:e}){var r,n,s,a,l;const u=Ai(),{match:d,matchIndex:m,routeId:g}=hi({select:O=>{const C=O.matches.findIndex(j=>j.id===e),A=O.matches[C];return{routeId:A.routeId,matchIndex:C,match:Mp(A,["id","status","error"])}},structuralSharing:!0}),w=u.routesById[g],N=Q.useMemo(()=>{const O=w.options.component??u.options.defaultComponent;return O?y.jsx(O,{}):y.jsx(ol,{})},[w.options.component,u.options.defaultComponent]),k=(w.options.errorComponent??u.options.defaultErrorComponent)||dy;if(d.status==="notFound"){let O;return kE(d.error)?O=(((r=u.options.errorSerializer)==null?void 0:r.deserialize)??IE)(d.error.data):O=d.error,zi(Ds(O)),kI(u,w,O)}if(d.status==="redirected")throw zi(ql(d.error)),(n=u.getMatch(d.id))==null?void 0:n.loadPromise;if(d.status==="error"){if(u.isServer)return y.jsx(k,{error:d.error,info:{componentStack:""}});throw kE(d.error)?(((s=u.options.errorSerializer)==null?void 0:s.deserialize)??IE)(d.error.data):d.error}if(d.status==="pending"){const O=w.options.pendingMinMs??u.options.defaultPendingMinMs;if(O&&!((a=u.getMatch(d.id))!=null&&a.minPendingPromise)&&!u.isServer){const C=Mu();Promise.resolve().then(()=>{u.updateMatch(d.id,A=>({...A,minPendingPromise:C}))}),setTimeout(()=>{C.resolve(),u.updateMatch(d.id,A=>({...A,minPendingPromise:void 0}))},O)}throw(l=u.getMatch(d.id))==null?void 0:l.loadPromise}return y.jsxs(y.Fragment,{children:[N,u.AfterEachMatch?y.jsx(u.AfterEachMatch,{match:d,matchIndex:m}):null]})}),ol=Q.memo(function(){const e=Ai(),r=Q.useContext(fy),n=hi({select:m=>{var g;return(g=m.matches.find(w=>w.id===r))==null?void 0:g.routeId}}),s=e.routesById[n],a=hi({select:m=>{const w=m.matches.find(N=>N.id===r);return zi(w),w.globalNotFound}}),l=hi({select:m=>{var g;const w=m.matches,N=w.findIndex(k=>k.id===r);return(g=w[N+1])==null?void 0:g.id}});if(a)return kI(e,s,void 0);if(!l)return null;const u=y.jsx(II,{matchId:l}),d=e.options.defaultPendingComponent?y.jsx(e.options.defaultPendingComponent,{}):null;return r===Bi?y.jsx(Q.Suspense,{fallback:d,children:u}):u});var Jv={exports:{}},Ei={},Zv={exports:{}},Yv={};var OE;function xA(){return OE||(OE=1,function(t){function e(_e,ye){var Ne=_e.length;_e.push(ye);e:for(;0<Ne;){var H=Ne-1>>>1,Se=_e[H];if(0<s(Se,ye))_e[H]=ye,_e[Ne]=Se,Ne=H;else break e}}function r(_e){return _e.length===0?null:_e[0]}function n(_e){if(_e.length===0)return null;var ye=_e[0],Ne=_e.pop();if(Ne!==ye){_e[0]=Ne;e:for(var H=0,Se=_e.length,lt=Se>>>1;H<lt;){var at=2*(H+1)-1,dt=_e[at],mt=at+1,ft=_e[mt];if(0>s(dt,Ne))mt<Se&&0>s(ft,dt)?(_e[H]=ft,_e[mt]=Ne,H=mt):(_e[H]=dt,_e[at]=Ne,H=at);else if(mt<Se&&0>s(ft,Ne))_e[H]=ft,_e[mt]=Ne,H=mt;else break e}}return ye}function s(_e,ye){var Ne=_e.sortIndex-ye.sortIndex;return Ne!==0?Ne:_e.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],m=[],g=1,w=null,N=3,k=!1,O=!1,C=!1,A=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(_e){for(var ye=r(m);ye!==null;){if(ye.callback===null)n(m);else if(ye.startTime<=_e)n(m),ye.sortIndex=ye.expirationTime,e(d,ye);else break;ye=r(m)}}function V(_e){if(C=!1,$(_e),!O)if(r(d)!==null)O=!0,Ce(G);else{var ye=r(m);ye!==null&&Fe(V,ye.startTime-_e)}}function G(_e,ye){O=!1,C&&(C=!1,D(ie),ie=-1),k=!0;var Ne=N;try{for($(ye),w=r(d);w!==null&&(!(w.expirationTime>ye)||_e&&!M());){var H=w.callback;if(typeof H=="function"){w.callback=null,N=w.priorityLevel;var Se=H(w.expirationTime<=ye);ye=t.unstable_now(),typeof Se=="function"?w.callback=Se:w===r(d)&&n(d),$(ye)}else n(d);w=r(d)}if(w!==null)var lt=!0;else{var at=r(m);at!==null&&Fe(V,at.startTime-ye),lt=!1}return lt}finally{w=null,N=Ne,k=!1}}var B=!1,Z=null,ie=-1,U=5,ne=-1;function M(){return!(t.unstable_now()-ne<U)}function se(){if(Z!==null){var _e=t.unstable_now();ne=_e;var ye=!0;try{ye=Z(!0,_e)}finally{ye?Y():(B=!1,Z=null)}}else B=!1}var Y;if(typeof j=="function")Y=function(){j(se)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,Te=me.port2;me.port1.onmessage=se,Y=function(){Te.postMessage(null)}}else Y=function(){A(se,0)};function Ce(_e){Z=_e,B||(B=!0,Y())}function Fe(_e,ye){ie=A(function(){_e(t.unstable_now())},ye)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(_e){_e.callback=null},t.unstable_continueExecution=function(){O||k||(O=!0,Ce(G))},t.unstable_forceFrameRate=function(_e){0>_e||125<_e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<_e?Math.floor(1e3/_e):5},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return r(d)},t.unstable_next=function(_e){switch(N){case 1:case 2:case 3:var ye=3;break;default:ye=N}var Ne=N;N=ye;try{return _e()}finally{N=Ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(_e,ye){switch(_e){case 1:case 2:case 3:case 4:case 5:break;default:_e=3}var Ne=N;N=_e;try{return ye()}finally{N=Ne}},t.unstable_scheduleCallback=function(_e,ye,Ne){var H=t.unstable_now();switch(typeof Ne=="object"&&Ne!==null?(Ne=Ne.delay,Ne=typeof Ne=="number"&&0<Ne?H+Ne:H):Ne=H,_e){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=0x3fffffff;break;case 4:Se=1e4;break;default:Se=5e3}return Se=Ne+Se,_e={id:g++,callback:ye,priorityLevel:_e,startTime:Ne,expirationTime:Se,sortIndex:-1},Ne>H?(_e.sortIndex=Ne,e(m,_e),r(d)===null&&_e===r(m)&&(C?(D(ie),ie=-1):C=!0,Fe(V,Ne-H))):(_e.sortIndex=Se,e(d,_e),O||k||(O=!0,Ce(G))),_e},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(_e){var ye=N;return function(){var Ne=N;N=ye;try{return _e.apply(this,arguments)}finally{N=Ne}}}}(Yv)),Yv}var CE;function SA(){return CE||(CE=1,Zv.exports=xA()),Zv.exports}var TE;function EA(){if(TE)return Ei;TE=1;var t=Lf(),e=SA();function r(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)n.add(o[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},w={};function N(i){return d.call(w,i)?!0:d.call(g,i)?!1:m.test(i)?w[i]=!0:(g[i]=!0,!1)}function k(i,o,c,p){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function O(i,o,c,p){if(o===null||typeof o>"u"||k(i,o,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function C(i,o,c,p,x,E,P){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=p,this.attributeNamespace=x,this.mustUseProperty=c,this.propertyName=i,this.type=o,this.sanitizeURL=E,this.removeEmptyString=P}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){A[i]=new C(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];A[o]=new C(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){A[i]=new C(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){A[i]=new C(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){A[i]=new C(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){A[i]=new C(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){A[i]=new C(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){A[i]=new C(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){A[i]=new C(i,5,!1,i.toLowerCase(),null,!1,!1)});var D=/[\-:]([a-z])/g;function j(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(D,j);A[o]=new C(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(D,j);A[o]=new C(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(D,j);A[o]=new C(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){A[i]=new C(i,1,!1,i.toLowerCase(),null,!1,!1)}),A.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){A[i]=new C(i,1,!1,i.toLowerCase(),null,!0,!0)});function $(i,o,c,p){var x=A.hasOwnProperty(o)?A[o]:null;(x!==null?x.type!==0:p||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(O(o,c,x,p)&&(c=null),p||x===null?N(o)&&(c===null?i.removeAttribute(o):i.setAttribute(o,""+c)):x.mustUseProperty?i[x.propertyName]=c===null?x.type===3?!1:"":c:(o=x.attributeName,p=x.attributeNamespace,c===null?i.removeAttribute(o):(x=x.type,c=x===3||x===4&&c===!0?"":""+c,p?i.setAttributeNS(p,o,c):i.setAttribute(o,c))))}var V=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,G=Symbol.for("react.element"),B=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),ie=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),ne=Symbol.for("react.provider"),M=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),Te=Symbol.for("react.memo"),Ce=Symbol.for("react.lazy"),Fe=Symbol.for("react.offscreen"),_e=Symbol.iterator;function ye(i){return i===null||typeof i!="object"?null:(i=_e&&i[_e]||i["@@iterator"],typeof i=="function"?i:null)}var Ne=Object.assign,H;function Se(i){if(H===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);H=o&&o[1]||""}return`
`+H+i}var lt=!1;function at(i,o){if(!i||lt)return"";lt=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(je){var p=je}Reflect.construct(i,[],o)}else{try{o.call()}catch(je){p=je}i.call(o.prototype)}else{try{throw Error()}catch(je){p=je}i()}}catch(je){if(je&&p&&typeof je.stack=="string"){for(var x=je.stack.split(`
`),E=p.stack.split(`
`),P=x.length-1,oe=E.length-1;1<=P&&0<=oe&&x[P]!==E[oe];)oe--;for(;1<=P&&0<=oe;P--,oe--)if(x[P]!==E[oe]){if(P!==1||oe!==1)do if(P--,oe--,0>oe||x[P]!==E[oe]){var fe=`
`+x[P].replace(" at new "," at ");return i.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",i.displayName)),fe}while(1<=P&&0<=oe);break}}}finally{lt=!1,Error.prepareStackTrace=c}return(i=i?i.displayName||i.name:"")?Se(i):""}function dt(i){switch(i.tag){case 5:return Se(i.type);case 16:return Se("Lazy");case 13:return Se("Suspense");case 19:return Se("SuspenseList");case 0:case 2:case 15:return i=at(i.type,!1),i;case 11:return i=at(i.type.render,!1),i;case 1:return i=at(i.type,!0),i;default:return""}}function mt(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case Z:return"Fragment";case B:return"Portal";case U:return"Profiler";case ie:return"StrictMode";case Y:return"Suspense";case me:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case M:return(i.displayName||"Context")+".Consumer";case ne:return(i._context.displayName||"Context")+".Provider";case se:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Te:return o=i.displayName||null,o!==null?o:mt(i.type)||"Memo";case Ce:o=i._payload,i=i._init;try{return mt(i(o))}catch{}}return null}function ft(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mt(o);case 8:return o===ie?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function gt(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Pt(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function vt(i){var o=Pt(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),p=""+i[o];if(!i.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var x=c.get,E=c.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return x.call(this)},set:function(P){p=""+P,E.call(this,P)}}),Object.defineProperty(i,o,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(P){p=""+P},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function yt(i){i._valueTracker||(i._valueTracker=vt(i))}function Tt(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var c=o.getValue(),p="";return i&&(p=Pt(i)?i.checked?"true":"false":i.value),i=p,i!==c?(o.setValue(i),!0):!1}function Ot(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function er(i,o){var c=o.checked;return Ne({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??i._wrapperState.initialChecked})}function Zt(i,o){var c=o.defaultValue==null?"":o.defaultValue,p=o.checked!=null?o.checked:o.defaultChecked;c=gt(o.value!=null?o.value:c),i._wrapperState={initialChecked:p,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ir(i,o){o=o.checked,o!=null&&$(i,"checked",o,!1)}function mr(i,o){ir(i,o);var c=gt(o.value),p=o.type;if(c!=null)p==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+c):i.value!==""+c&&(i.value=""+c);else if(p==="submit"||p==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?ue(i,o.type,c):o.hasOwnProperty("defaultValue")&&ue(i,o.type,gt(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function ae(i,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var p=o.type;if(!(p!=="submit"&&p!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,c||o===i.value||(i.value=o),i.defaultValue=o}c=i.name,c!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,c!==""&&(i.name=c)}function ue(i,o,c){(o!=="number"||Ot(i.ownerDocument)!==i)&&(c==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+c&&(i.defaultValue=""+c))}var ge=Array.isArray;function qe(i,o,c,p){if(i=i.options,o){o={};for(var x=0;x<c.length;x++)o["$"+c[x]]=!0;for(c=0;c<i.length;c++)x=o.hasOwnProperty("$"+i[c].value),i[c].selected!==x&&(i[c].selected=x),x&&p&&(i[c].defaultSelected=!0)}else{for(c=""+gt(c),o=null,x=0;x<i.length;x++){if(i[x].value===c){i[x].selected=!0,p&&(i[x].defaultSelected=!0);return}o!==null||i[x].disabled||(o=i[x])}o!==null&&(o.selected=!0)}}function De(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(r(91));return Ne({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Ge(i,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(r(92));if(ge(c)){if(1<c.length)throw Error(r(93));c=c[0]}o=c}o==null&&(o=""),c=o}i._wrapperState={initialValue:gt(c)}}function _t(i,o){var c=gt(o.value),p=gt(o.defaultValue);c!=null&&(c=""+c,c!==i.value&&(i.value=c),o.defaultValue==null&&i.defaultValue!==c&&(i.defaultValue=c)),p!=null&&(i.defaultValue=""+p)}function Bt(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function wr(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yr(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?wr(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var $r,si=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,p,x){MSApp.execUnsafeLocalFunction(function(){return i(o,c,p,x)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for($r=$r||document.createElement("div"),$r.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=$r.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function an(i,o){if(o){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=o;return}}i.textContent=o}var gi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Eo=["Webkit","ms","Moz","O"];Object.keys(gi).forEach(function(i){Eo.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),gi[o]=gi[i]})});function An(i,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||gi.hasOwnProperty(i)&&gi[i]?(""+o).trim():o+"px"}function Vt(i,o){i=i.style;for(var c in o)if(o.hasOwnProperty(c)){var p=c.indexOf("--")===0,x=An(c,o[c],p);c==="float"&&(c="cssFloat"),p?i.setProperty(c,x):i[c]=x}}var aa=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function la(i,o){if(o){if(aa[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(r(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(r(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(r(61))}if(o.style!=null&&typeof o.style!="object")throw Error(r(62))}}function ua(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $c=null;function Wc(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var zc=null,eo=null,q=null;function dh(i){if(i=cd(i)){if(typeof zc!="function")throw Error(r(280));var o=i.stateNode;o&&(o=Rh(o),zc(i.stateNode,i.type,o))}}function rr(i){eo?q?q.push(i):q=[i]:eo=i}function fh(){if(eo){var i=eo,o=q;if(q=eo=null,dh(i),o)for(i=0;i<o.length;i++)dh(o[i])}}function hh(i,o){return i(o)}function ph(){}var Uc=!1;function fl(i,o,c){if(Uc)return i(o,c);Uc=!0;try{return hh(i,o,c)}finally{Uc=!1,(eo!==null||q!==null)&&(ph(),fh())}}function as(i,o){var c=i.stateNode;if(c===null)return null;var p=Rh(c);if(p===null)return null;c=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(r(231,o,typeof c));return c}var Vc=!1;if(u)try{var hl={};Object.defineProperty(hl,"passive",{get:function(){Vc=!0}}),window.addEventListener("test",hl,hl),window.removeEventListener("test",hl,hl)}catch{Vc=!1}function eg(i,o,c,p,x,E,P,oe,fe){var je=Array.prototype.slice.call(arguments,3);try{o.apply(c,je)}catch(tt){this.onError(tt)}}var pl=!1,to=null,ou=!1,ro=null,tg={onError:function(i){pl=!0,to=i}};function rg(i,o,c,p,x,E,P,oe,fe){pl=!1,to=null,eg.apply(tg,arguments)}function ng(i,o,c,p,x,E,P,oe,fe){if(rg.apply(this,arguments),pl){if(pl){var je=to;pl=!1,to=null}else throw Error(r(198));ou||(ou=!0,ro=je)}}function No(i){var o=i,c=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(c=o.return),i=o.return;while(i)}return o.tag===3?c:null}function mh(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function yh(i){if(No(i)!==i)throw Error(r(188))}function ig(i){var o=i.alternate;if(!o){if(o=No(i),o===null)throw Error(r(188));return o!==i?null:i}for(var c=i,p=o;;){var x=c.return;if(x===null)break;var E=x.alternate;if(E===null){if(p=x.return,p!==null){c=p;continue}break}if(x.child===E.child){for(E=x.child;E;){if(E===c)return yh(x),i;if(E===p)return yh(x),o;E=E.sibling}throw Error(r(188))}if(c.return!==p.return)c=x,p=E;else{for(var P=!1,oe=x.child;oe;){if(oe===c){P=!0,c=x,p=E;break}if(oe===p){P=!0,p=x,c=E;break}oe=oe.sibling}if(!P){for(oe=E.child;oe;){if(oe===c){P=!0,c=E,p=x;break}if(oe===p){P=!0,p=E,c=x;break}oe=oe.sibling}if(!P)throw Error(r(189))}}if(c.alternate!==p)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?i:o}function gh(i){return i=ig(i),i!==null?vh(i):null}function vh(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=vh(i);if(o!==null)return o;i=i.sibling}return null}var _h=e.unstable_scheduleCallback,Hc=e.unstable_cancelCallback,sg=e.unstable_shouldYield,og=e.unstable_requestPaint,en=e.unstable_now,ag=e.unstable_getCurrentPriorityLevel,Qc=e.unstable_ImmediatePriority,bh=e.unstable_UserBlockingPriority,au=e.unstable_NormalPriority,lg=e.unstable_LowPriority,wh=e.unstable_IdlePriority,lu=null,ls=null;function ug(i){if(ls&&typeof ls.onCommitFiberRoot=="function")try{ls.onCommitFiberRoot(lu,i,void 0,(i.current.flags&128)===128)}catch{}}var vi=Math.clz32?Math.clz32:fg,cg=Math.log,dg=Math.LN2;function fg(i){return i>>>=0,i===0?32:31-(cg(i)/dg|0)|0}var ca=64,uu=4194304;function Is(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return i&0x7c00000;case 0x8000000:return 0x8000000;case 0x10000000:return 0x10000000;case 0x20000000:return 0x20000000;case 0x40000000:return 0x40000000;default:return i}}function cu(i,o){var c=i.pendingLanes;if(c===0)return 0;var p=0,x=i.suspendedLanes,E=i.pingedLanes,P=c&0xfffffff;if(P!==0){var oe=P&~x;oe!==0?p=Is(oe):(E&=P,E!==0&&(p=Is(E)))}else P=c&~x,P!==0?p=Is(P):E!==0&&(p=Is(E));if(p===0)return 0;if(o!==0&&o!==p&&!(o&x)&&(x=p&-p,E=o&-o,x>=E||x===16&&(E&4194240)!==0))return o;if(p&4&&(p|=c&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=p;0<o;)c=31-vi(o),x=1<<c,p|=i[c],o&=~x;return p}function hg(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:return-1;case 0x8000000:case 0x10000000:case 0x20000000:case 0x40000000:return-1;default:return-1}}function pg(i,o){for(var c=i.suspendedLanes,p=i.pingedLanes,x=i.expirationTimes,E=i.pendingLanes;0<E;){var P=31-vi(E),oe=1<<P,fe=x[P];fe===-1?(!(oe&c)||oe&p)&&(x[P]=hg(oe,o)):fe<=o&&(i.expiredLanes|=oe),E&=~oe}}function Kc(i){return i=i.pendingLanes&-0x40000001,i!==0?i:i&0x40000000?0x40000000:0}function xh(){var i=ca;return ca<<=1,!(ca&4194240)&&(ca=64),i}function Gc(i){for(var o=[],c=0;31>c;c++)o.push(i);return o}function ml(i,o,c){i.pendingLanes|=o,o!==0x20000000&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-vi(o),i[o]=c}function mg(i,o){var c=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var p=i.eventTimes;for(i=i.expirationTimes;0<c;){var x=31-vi(c),E=1<<x;o[x]=0,p[x]=-1,i[x]=-1,c&=~E}}function Jc(i,o){var c=i.entangledLanes|=o;for(i=i.entanglements;c;){var p=31-vi(c),x=1<<p;x&o|i[p]&o&&(i[p]|=o),c&=~x}}var xr=0;function Sh(i){return i&=-i,1<i?4<i?i&0xfffffff?16:0x20000000:4:1}var Zc,te,Yc,yl,Xc,f=!1,h=[],_=null,b=null,S=null,I=new Map,X=new Map,re=[],Le="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ue(i,o){switch(i){case"focusin":case"focusout":_=null;break;case"dragenter":case"dragleave":b=null;break;case"mouseover":case"mouseout":S=null;break;case"pointerover":case"pointerout":I.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":X.delete(o.pointerId)}}function Je(i,o,c,p,x,E){return i===null||i.nativeEvent!==E?(i={blockedOn:o,domEventName:c,eventSystemFlags:p,nativeEvent:E,targetContainers:[x]},o!==null&&(o=cd(o),o!==null&&te(o)),i):(i.eventSystemFlags|=p,o=i.targetContainers,x!==null&&o.indexOf(x)===-1&&o.push(x),i)}function rt(i,o,c,p,x){switch(o){case"focusin":return _=Je(_,i,o,c,p,x),!0;case"dragenter":return b=Je(b,i,o,c,p,x),!0;case"mouseover":return S=Je(S,i,o,c,p,x),!0;case"pointerover":var E=x.pointerId;return I.set(E,Je(I.get(E)||null,i,o,c,p,x)),!0;case"gotpointercapture":return E=x.pointerId,X.set(E,Je(X.get(E)||null,i,o,c,p,x)),!0}return!1}function Ae(i){var o=gl(i.target);if(o!==null){var c=No(o);if(c!==null){if(o=c.tag,o===13){if(o=mh(c),o!==null){i.blockedOn=o,Xc(i.priority,function(){Yc(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function xe(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var c=J(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(c===null){c=i.nativeEvent;var p=new c.constructor(c.type,c);$c=p,c.target.dispatchEvent(p),$c=null}else return o=cd(c),o!==null&&te(o),i.blockedOn=c,!1;o.shift()}return!0}function ze(i,o,c){xe(i)&&c.delete(o)}function le(){f=!1,_!==null&&xe(_)&&(_=null),b!==null&&xe(b)&&(b=null),S!==null&&xe(S)&&(S=null),I.forEach(ze),X.forEach(ze)}function pe(i,o){i.blockedOn===o&&(i.blockedOn=null,f||(f=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,le)))}function be(i){function o(x){return pe(x,i)}if(0<h.length){pe(h[0],i);for(var c=1;c<h.length;c++){var p=h[c];p.blockedOn===i&&(p.blockedOn=null)}}for(_!==null&&pe(_,i),b!==null&&pe(b,i),S!==null&&pe(S,i),I.forEach(o),X.forEach(o),c=0;c<re.length;c++)p=re[c],p.blockedOn===i&&(p.blockedOn=null);for(;0<re.length&&(c=re[0],c.blockedOn===null);)Ae(c),c.blockedOn===null&&re.shift()}var $e=V.ReactCurrentBatchConfig,Be=!0;function we(i,o,c,p){var x=xr,E=$e.transition;$e.transition=null;try{xr=1,ht(i,o,c,p)}finally{xr=x,$e.transition=E}}function Me(i,o,c,p){var x=xr,E=$e.transition;$e.transition=null;try{xr=4,ht(i,o,c,p)}finally{xr=x,$e.transition=E}}function ht(i,o,c,p){if(Be){var x=J(i,o,c,p);if(x===null)Cg(i,o,p,F,c),Ue(i,p);else if(rt(x,i,o,c,p))p.stopPropagation();else if(Ue(i,p),o&4&&-1<Le.indexOf(i)){for(;x!==null;){var E=cd(x);if(E!==null&&Zc(E),E=J(i,o,c,p),E===null&&Cg(i,o,p,F,c),E===x)break;x=E}x!==null&&p.stopPropagation()}else Cg(i,o,p,null,c)}}var F=null;function J(i,o,c,p){if(F=null,i=Wc(p),i=gl(i),i!==null)if(o=No(i),o===null)i=null;else if(c=o.tag,c===13){if(i=mh(o),i!==null)return i;i=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return F=i,null}function he(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ag()){case Qc:return 1;case bh:return 4;case au:case lg:return 16;case wh:return 0x20000000;default:return 16}default:return 16}}var Qe=null,z=null,ee=null;function T(){if(ee)return ee;var i,o=z,c=o.length,p,x="value"in Qe?Qe.value:Qe.textContent,E=x.length;for(i=0;i<c&&o[i]===x[i];i++);var P=c-i;for(p=1;p<=P&&o[c-p]===x[E-p];p++);return ee=x.slice(i,1<p?1-p:void 0)}function L(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function W(){return!0}function Oe(){return!1}function He(i){function o(c,p,x,E,P){this._reactName=c,this._targetInst=x,this.type=p,this.nativeEvent=E,this.target=P,this.currentTarget=null;for(var oe in i)i.hasOwnProperty(oe)&&(c=i[oe],this[oe]=c?c(E):E[oe]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?W:Oe,this.isPropagationStopped=Oe,this}return Ne(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=W)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=W)},persist:function(){},isPersistent:W}),o}var Et={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jt=He(Et),$t=Ne({},Et,{view:0,detail:0}),Ze=He($t),ce,ke,Ke,et=Ne({},$t,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ke&&(Ke&&i.type==="mousemove"?(ce=i.screenX-Ke.screenX,ke=i.screenY-Ke.screenY):ke=ce=0,Ke=i),ce)},movementY:function(i){return"movementY"in i?i.movementY:ke}}),qt=He(et),Wt=Ne({},et,{dataTransfer:0}),Ee=He(Wt),Ve=Ne({},$t,{relatedTarget:0}),Ye=He(Ve),bt=Ne({},Et,{animationName:0,elapsedTime:0,pseudoElement:0}),ut=He(bt),Ft=Ne({},Et,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),nr=He(Ft),Nt=Ne({},Et,{data:0}),tn=He(Nt),Pe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},st={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ct={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wt(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=ct[i])?!!o[i]:!1}function sr(){return wt}var qr=Ne({},$t,{key:function(i){if(i.key){var o=Pe[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=L(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?st[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sr,charCode:function(i){return i.type==="keypress"?L(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?L(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Nr=He(qr),Or=Ne({},et,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ko=He(Or),Pn=Ne({},$t,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sr}),yg=He(Pn),gg=Ne({},Et,{propertyName:0,elapsedTime:0,pseudoElement:0}),us=He(gg),vg=Ne({},et,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Eh=He(vg),ed=[9,13,27,32],_g=u&&"CompositionEvent"in window,td=null;u&&"documentMode"in document&&(td=document.documentMode);var WT=u&&"TextEvent"in window&&!td,H0=u&&(!_g||td&&8<td&&11>=td),Q0=" ",K0=!1;function G0(i,o){switch(i){case"keyup":return ed.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J0(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var du=!1;function zT(i,o){switch(i){case"compositionend":return J0(o);case"keypress":return o.which!==32?null:(K0=!0,Q0);case"textInput":return i=o.data,i===Q0&&K0?null:i;default:return null}}function UT(i,o){if(du)return i==="compositionend"||!_g&&G0(i,o)?(i=T(),ee=z=Qe=null,du=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return H0&&o.locale!=="ko"?null:o.data;default:return null}}var VT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Z0(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!VT[i.type]:o==="textarea"}function Y0(i,o,c,p){rr(p),o=Ch(o,"onChange"),0<o.length&&(c=new jt("onChange","change",null,c,p),i.push({event:c,listeners:o}))}var rd=null,nd=null;function HT(i){yx(i,0)}function Nh(i){var o=yu(i);if(Tt(o))return i}function QT(i,o){if(i==="change")return o}var X0=!1;if(u){var bg;if(u){var wg="oninput"in document;if(!wg){var ex=document.createElement("div");ex.setAttribute("oninput","return;"),wg=typeof ex.oninput=="function"}bg=wg}else bg=!1;X0=bg&&(!document.documentMode||9<document.documentMode)}function tx(){rd&&(rd.detachEvent("onpropertychange",rx),nd=rd=null)}function rx(i){if(i.propertyName==="value"&&Nh(nd)){var o=[];Y0(o,nd,i,Wc(i)),fl(HT,o)}}function KT(i,o,c){i==="focusin"?(tx(),rd=o,nd=c,rd.attachEvent("onpropertychange",rx)):i==="focusout"&&tx()}function GT(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Nh(nd)}function JT(i,o){if(i==="click")return Nh(o)}function ZT(i,o){if(i==="input"||i==="change")return Nh(o)}function YT(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Os=typeof Object.is=="function"?Object.is:YT;function id(i,o){if(Os(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var c=Object.keys(i),p=Object.keys(o);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var x=c[p];if(!d.call(o,x)||!Os(i[x],o[x]))return!1}return!0}function nx(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ix(i,o){var c=nx(i);i=0;for(var p;c;){if(c.nodeType===3){if(p=i+c.textContent.length,i<=o&&p>=o)return{node:c,offset:o-i};i=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=nx(c)}}function sx(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?sx(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function ox(){for(var i=window,o=Ot();o instanceof i.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)i=o.contentWindow;else break;o=Ot(i.document)}return o}function xg(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function XT(i){var o=ox(),c=i.focusedElem,p=i.selectionRange;if(o!==c&&c&&c.ownerDocument&&sx(c.ownerDocument.documentElement,c)){if(p!==null&&xg(c)){if(o=p.start,i=p.end,i===void 0&&(i=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(i,c.value.length);else if(i=(o=c.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var x=c.textContent.length,E=Math.min(p.start,x);p=p.end===void 0?E:Math.min(p.end,x),!i.extend&&E>p&&(x=p,p=E,E=x),x=ix(c,E);var P=ix(c,p);x&&P&&(i.rangeCount!==1||i.anchorNode!==x.node||i.anchorOffset!==x.offset||i.focusNode!==P.node||i.focusOffset!==P.offset)&&(o=o.createRange(),o.setStart(x.node,x.offset),i.removeAllRanges(),E>p?(i.addRange(o),i.extend(P.node,P.offset)):(o.setEnd(P.node,P.offset),i.addRange(o)))}}for(o=[],i=c;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)i=o[c],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var eq=u&&"documentMode"in document&&11>=document.documentMode,fu=null,Sg=null,sd=null,Eg=!1;function ax(i,o,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Eg||fu==null||fu!==Ot(p)||(p=fu,"selectionStart"in p&&xg(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),sd&&id(sd,p)||(sd=p,p=Ch(Sg,"onSelect"),0<p.length&&(o=new jt("onSelect","select",null,o,c),i.push({event:o,listeners:p}),o.target=fu)))}function kh(i,o){var c={};return c[i.toLowerCase()]=o.toLowerCase(),c["Webkit"+i]="webkit"+o,c["Moz"+i]="moz"+o,c}var hu={animationend:kh("Animation","AnimationEnd"),animationiteration:kh("Animation","AnimationIteration"),animationstart:kh("Animation","AnimationStart"),transitionend:kh("Transition","TransitionEnd")},Ng={},lx={};u&&(lx=document.createElement("div").style,"AnimationEvent"in window||(delete hu.animationend.animation,delete hu.animationiteration.animation,delete hu.animationstart.animation),"TransitionEvent"in window||delete hu.transitionend.transition);function Ih(i){if(Ng[i])return Ng[i];if(!hu[i])return i;var o=hu[i],c;for(c in o)if(o.hasOwnProperty(c)&&c in lx)return Ng[i]=o[c];return i}var ux=Ih("animationend"),cx=Ih("animationiteration"),dx=Ih("animationstart"),fx=Ih("transitionend"),hx=new Map,px="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function da(i,o){hx.set(i,o),a(o,[i])}for(var kg=0;kg<px.length;kg++){var Ig=px[kg],tq=Ig.toLowerCase(),rq=Ig[0].toUpperCase()+Ig.slice(1);da(tq,"on"+rq)}da(ux,"onAnimationEnd"),da(cx,"onAnimationIteration"),da(dx,"onAnimationStart"),da("dblclick","onDoubleClick"),da("focusin","onFocus"),da("focusout","onBlur"),da(fx,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var od="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nq=new Set("cancel close invalid load scroll toggle".split(" ").concat(od));function mx(i,o,c){var p=i.type||"unknown-event";i.currentTarget=c,ng(p,o,void 0,i),i.currentTarget=null}function yx(i,o){o=(o&4)!==0;for(var c=0;c<i.length;c++){var p=i[c],x=p.event;p=p.listeners;e:{var E=void 0;if(o)for(var P=p.length-1;0<=P;P--){var oe=p[P],fe=oe.instance,je=oe.currentTarget;if(oe=oe.listener,fe!==E&&x.isPropagationStopped())break e;mx(x,oe,je),E=fe}else for(P=0;P<p.length;P++){if(oe=p[P],fe=oe.instance,je=oe.currentTarget,oe=oe.listener,fe!==E&&x.isPropagationStopped())break e;mx(x,oe,je),E=fe}}}if(ou)throw i=ro,ou=!1,ro=null,i}function Hr(i,o){var c=o[Fg];c===void 0&&(c=o[Fg]=new Set);var p=i+"__bubble";c.has(p)||(gx(o,i,2,!1),c.add(p))}function Og(i,o,c){var p=0;o&&(p|=4),gx(c,i,p,o)}var Oh="_reactListening"+Math.random().toString(36).slice(2);function ad(i){if(!i[Oh]){i[Oh]=!0,n.forEach(function(c){c!=="selectionchange"&&(nq.has(c)||Og(c,!1,i),Og(c,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Oh]||(o[Oh]=!0,Og("selectionchange",!1,o))}}function gx(i,o,c,p){switch(he(o)){case 1:var x=we;break;case 4:x=Me;break;default:x=ht}c=x.bind(null,o,c,i),x=void 0,!Vc||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(x=!0),p?x!==void 0?i.addEventListener(o,c,{capture:!0,passive:x}):i.addEventListener(o,c,!0):x!==void 0?i.addEventListener(o,c,{passive:x}):i.addEventListener(o,c,!1)}function Cg(i,o,c,p,x){var E=p;if(!(o&1)&&!(o&2)&&p!==null)e:for(;;){if(p===null)return;var P=p.tag;if(P===3||P===4){var oe=p.stateNode.containerInfo;if(oe===x||oe.nodeType===8&&oe.parentNode===x)break;if(P===4)for(P=p.return;P!==null;){var fe=P.tag;if((fe===3||fe===4)&&(fe=P.stateNode.containerInfo,fe===x||fe.nodeType===8&&fe.parentNode===x))return;P=P.return}for(;oe!==null;){if(P=gl(oe),P===null)return;if(fe=P.tag,fe===5||fe===6){p=E=P;continue e}oe=oe.parentNode}}p=p.return}fl(function(){var je=E,tt=Wc(c),nt=[];e:{var Xe=hx.get(i);if(Xe!==void 0){var kt=jt,At=i;switch(i){case"keypress":if(L(c)===0)break e;case"keydown":case"keyup":kt=Nr;break;case"focusin":At="focus",kt=Ye;break;case"focusout":At="blur",kt=Ye;break;case"beforeblur":case"afterblur":kt=Ye;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":kt=qt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":kt=Ee;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":kt=yg;break;case ux:case cx:case dx:kt=ut;break;case fx:kt=us;break;case"scroll":kt=Ze;break;case"wheel":kt=Eh;break;case"copy":case"cut":case"paste":kt=nr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":kt=ko}var Lt=(o&4)!==0,dn=!Lt&&i==="scroll",Ie=Lt?Xe!==null?Xe+"Capture":null:Xe;Lt=[];for(var ve=je,Re;ve!==null;){Re=ve;var ot=Re.stateNode;if(Re.tag===5&&ot!==null&&(Re=ot,Ie!==null&&(ot=as(ve,Ie),ot!=null&&Lt.push(ld(ve,ot,Re)))),dn)break;ve=ve.return}0<Lt.length&&(Xe=new kt(Xe,At,null,c,tt),nt.push({event:Xe,listeners:Lt}))}}if(!(o&7)){e:{if(Xe=i==="mouseover"||i==="pointerover",kt=i==="mouseout"||i==="pointerout",Xe&&c!==$c&&(At=c.relatedTarget||c.fromElement)&&(gl(At)||At[Io]))break e;if((kt||Xe)&&(Xe=tt.window===tt?tt:(Xe=tt.ownerDocument)?Xe.defaultView||Xe.parentWindow:window,kt?(At=c.relatedTarget||c.toElement,kt=je,At=At?gl(At):null,At!==null&&(dn=No(At),At!==dn||At.tag!==5&&At.tag!==6)&&(At=null)):(kt=null,At=je),kt!==At)){if(Lt=qt,ot="onMouseLeave",Ie="onMouseEnter",ve="mouse",(i==="pointerout"||i==="pointerover")&&(Lt=ko,ot="onPointerLeave",Ie="onPointerEnter",ve="pointer"),dn=kt==null?Xe:yu(kt),Re=At==null?Xe:yu(At),Xe=new Lt(ot,ve+"leave",kt,c,tt),Xe.target=dn,Xe.relatedTarget=Re,ot=null,gl(tt)===je&&(Lt=new Lt(Ie,ve+"enter",At,c,tt),Lt.target=Re,Lt.relatedTarget=dn,ot=Lt),dn=ot,kt&&At)t:{for(Lt=kt,Ie=At,ve=0,Re=Lt;Re;Re=pu(Re))ve++;for(Re=0,ot=Ie;ot;ot=pu(ot))Re++;for(;0<ve-Re;)Lt=pu(Lt),ve--;for(;0<Re-ve;)Ie=pu(Ie),Re--;for(;ve--;){if(Lt===Ie||Ie!==null&&Lt===Ie.alternate)break t;Lt=pu(Lt),Ie=pu(Ie)}Lt=null}else Lt=null;kt!==null&&vx(nt,Xe,kt,Lt,!1),At!==null&&dn!==null&&vx(nt,dn,At,Lt,!0)}}e:{if(Xe=je?yu(je):window,kt=Xe.nodeName&&Xe.nodeName.toLowerCase(),kt==="select"||kt==="input"&&Xe.type==="file")var Dt=QT;else if(Z0(Xe))if(X0)Dt=ZT;else{Dt=GT;var zt=KT}else(kt=Xe.nodeName)&&kt.toLowerCase()==="input"&&(Xe.type==="checkbox"||Xe.type==="radio")&&(Dt=JT);if(Dt&&(Dt=Dt(i,je))){Y0(nt,Dt,c,tt);break e}zt&&zt(i,Xe,je),i==="focusout"&&(zt=Xe._wrapperState)&&zt.controlled&&Xe.type==="number"&&ue(Xe,"number",Xe.value)}switch(zt=je?yu(je):window,i){case"focusin":(Z0(zt)||zt.contentEditable==="true")&&(fu=zt,Sg=je,sd=null);break;case"focusout":sd=Sg=fu=null;break;case"mousedown":Eg=!0;break;case"contextmenu":case"mouseup":case"dragend":Eg=!1,ax(nt,c,tt);break;case"selectionchange":if(eq)break;case"keydown":case"keyup":ax(nt,c,tt)}var Ut;if(_g)e:{switch(i){case"compositionstart":var Jt="onCompositionStart";break e;case"compositionend":Jt="onCompositionEnd";break e;case"compositionupdate":Jt="onCompositionUpdate";break e}Jt=void 0}else du?G0(i,c)&&(Jt="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Jt="onCompositionStart");Jt&&(H0&&c.locale!=="ko"&&(du||Jt!=="onCompositionStart"?Jt==="onCompositionEnd"&&du&&(Ut=T()):(Qe=tt,z="value"in Qe?Qe.value:Qe.textContent,du=!0)),zt=Ch(je,Jt),0<zt.length&&(Jt=new tn(Jt,i,null,c,tt),nt.push({event:Jt,listeners:zt}),Ut?Jt.data=Ut:(Ut=J0(c),Ut!==null&&(Jt.data=Ut)))),(Ut=WT?zT(i,c):UT(i,c))&&(je=Ch(je,"onBeforeInput"),0<je.length&&(tt=new tn("onBeforeInput","beforeinput",null,c,tt),nt.push({event:tt,listeners:je}),tt.data=Ut))}yx(nt,o)})}function ld(i,o,c){return{instance:i,listener:o,currentTarget:c}}function Ch(i,o){for(var c=o+"Capture",p=[];i!==null;){var x=i,E=x.stateNode;x.tag===5&&E!==null&&(x=E,E=as(i,c),E!=null&&p.unshift(ld(i,E,x)),E=as(i,o),E!=null&&p.push(ld(i,E,x))),i=i.return}return p}function pu(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function vx(i,o,c,p,x){for(var E=o._reactName,P=[];c!==null&&c!==p;){var oe=c,fe=oe.alternate,je=oe.stateNode;if(fe!==null&&fe===p)break;oe.tag===5&&je!==null&&(oe=je,x?(fe=as(c,E),fe!=null&&P.unshift(ld(c,fe,oe))):x||(fe=as(c,E),fe!=null&&P.push(ld(c,fe,oe)))),c=c.return}P.length!==0&&i.push({event:o,listeners:P})}var iq=/\r\n?/g,sq=/\u0000|\uFFFD/g;function _x(i){return(typeof i=="string"?i:""+i).replace(iq,`
`).replace(sq,"")}function Th(i,o,c){if(o=_x(o),_x(i)!==o&&c)throw Error(r(425))}function qh(){}var Tg=null,qg=null;function Rg(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ag=typeof setTimeout=="function"?setTimeout:void 0,oq=typeof clearTimeout=="function"?clearTimeout:void 0,bx=typeof Promise=="function"?Promise:void 0,aq=typeof queueMicrotask=="function"?queueMicrotask:typeof bx<"u"?function(i){return bx.resolve(null).then(i).catch(lq)}:Ag;function lq(i){setTimeout(function(){throw i})}function Pg(i,o){var c=o,p=0;do{var x=c.nextSibling;if(i.removeChild(c),x&&x.nodeType===8)if(c=x.data,c==="/$"){if(p===0){i.removeChild(x),be(o);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=x}while(c);be(o)}function fa(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function wx(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return i;o--}else c==="/$"&&o++}i=i.previousSibling}return null}var mu=Math.random().toString(36).slice(2),no="__reactFiber$"+mu,ud="__reactProps$"+mu,Io="__reactContainer$"+mu,Fg="__reactEvents$"+mu,uq="__reactListeners$"+mu,cq="__reactHandles$"+mu;function gl(i){var o=i[no];if(o)return o;for(var c=i.parentNode;c;){if(o=c[Io]||c[no]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(i=wx(i);i!==null;){if(c=i[no])return c;i=wx(i)}return o}i=c,c=i.parentNode}return null}function cd(i){return i=i[no]||i[Io],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function yu(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(r(33))}function Rh(i){return i[ud]||null}var jg=[],gu=-1;function ha(i){return{current:i}}function Qr(i){0>gu||(i.current=jg[gu],jg[gu]=null,gu--)}function Wr(i,o){gu++,jg[gu]=i.current,i.current=o}var pa={},zn=ha(pa),_i=ha(!1),vl=pa;function vu(i,o){var c=i.type.contextTypes;if(!c)return pa;var p=i.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===o)return p.__reactInternalMemoizedMaskedChildContext;var x={},E;for(E in c)x[E]=o[E];return p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=x),x}function bi(i){return i=i.childContextTypes,i!=null}function Ah(){Qr(_i),Qr(zn)}function xx(i,o,c){if(zn.current!==pa)throw Error(r(168));Wr(zn,o),Wr(_i,c)}function Sx(i,o,c){var p=i.stateNode;if(o=o.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var x in p)if(!(x in o))throw Error(r(108,ft(i)||"Unknown",x));return Ne({},c,p)}function Ph(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||pa,vl=zn.current,Wr(zn,i),Wr(_i,_i.current),!0}function Ex(i,o,c){var p=i.stateNode;if(!p)throw Error(r(169));c?(i=Sx(i,o,vl),p.__reactInternalMemoizedMergedChildContext=i,Qr(_i),Qr(zn),Wr(zn,i)):Qr(_i),Wr(_i,c)}var Oo=null,Fh=!1,Lg=!1;function Nx(i){Oo===null?Oo=[i]:Oo.push(i)}function dq(i){Fh=!0,Nx(i)}function ma(){if(!Lg&&Oo!==null){Lg=!0;var i=0,o=xr;try{var c=Oo;for(xr=1;i<c.length;i++){var p=c[i];do p=p(!0);while(p!==null)}Oo=null,Fh=!1}catch(x){throw Oo!==null&&(Oo=Oo.slice(i+1)),_h(Qc,ma),x}finally{xr=o,Lg=!1}}return null}var _u=[],bu=0,jh=null,Lh=0,cs=[],ds=0,_l=null,Co=1,To="";function bl(i,o){_u[bu++]=Lh,_u[bu++]=jh,jh=i,Lh=o}function kx(i,o,c){cs[ds++]=Co,cs[ds++]=To,cs[ds++]=_l,_l=i;var p=Co;i=To;var x=32-vi(p)-1;p&=~(1<<x),c+=1;var E=32-vi(o)+x;if(30<E){var P=x-x%5;E=(p&(1<<P)-1).toString(32),p>>=P,x-=P,Co=1<<32-vi(o)+x|c<<x|p,To=E+i}else Co=1<<E|c<<x|p,To=i}function Dg(i){i.return!==null&&(bl(i,1),kx(i,1,0))}function Mg(i){for(;i===jh;)jh=_u[--bu],_u[bu]=null,Lh=_u[--bu],_u[bu]=null;for(;i===_l;)_l=cs[--ds],cs[ds]=null,To=cs[--ds],cs[ds]=null,Co=cs[--ds],cs[ds]=null}var Fi=null,ji=null,Gr=!1,Cs=null;function Ix(i,o){var c=ms(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=i,o=i.deletions,o===null?(i.deletions=[c],i.flags|=16):o.push(c)}function Ox(i,o){switch(i.tag){case 5:var c=i.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Fi=i,ji=fa(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Fi=i,ji=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=_l!==null?{id:Co,overflow:To}:null,i.memoizedState={dehydrated:o,treeContext:c,retryLane:0x40000000},c=ms(18,null,null,0),c.stateNode=o,c.return=i,i.child=c,Fi=i,ji=null,!0):!1;default:return!1}}function Bg(i){return(i.mode&1)!==0&&(i.flags&128)===0}function $g(i){if(Gr){var o=ji;if(o){var c=o;if(!Ox(i,o)){if(Bg(i))throw Error(r(418));o=fa(c.nextSibling);var p=Fi;o&&Ox(i,o)?Ix(p,c):(i.flags=i.flags&-4097|2,Gr=!1,Fi=i)}}else{if(Bg(i))throw Error(r(418));i.flags=i.flags&-4097|2,Gr=!1,Fi=i}}}function Cx(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Fi=i}function Dh(i){if(i!==Fi)return!1;if(!Gr)return Cx(i),Gr=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Rg(i.type,i.memoizedProps)),o&&(o=ji)){if(Bg(i))throw Tx(),Error(r(418));for(;o;)Ix(i,o),o=fa(o.nextSibling)}if(Cx(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"){if(o===0){ji=fa(i.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}i=i.nextSibling}ji=null}}else ji=Fi?fa(i.stateNode.nextSibling):null;return!0}function Tx(){for(var i=ji;i;)i=fa(i.nextSibling)}function wu(){ji=Fi=null,Gr=!1}function Wg(i){Cs===null?Cs=[i]:Cs.push(i)}var fq=V.ReactCurrentBatchConfig;function dd(i,o,c){if(i=c.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(r(309));var p=c.stateNode}if(!p)throw Error(r(147,i));var x=p,E=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===E?o.ref:(o=function(P){var oe=x.refs;P===null?delete oe[E]:oe[E]=P},o._stringRef=E,o)}if(typeof i!="string")throw Error(r(284));if(!c._owner)throw Error(r(290,i))}return i}function Mh(i,o){throw i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function qx(i){var o=i._init;return o(i._payload)}function Rx(i){function o(Ie,ve){if(i){var Re=Ie.deletions;Re===null?(Ie.deletions=[ve],Ie.flags|=16):Re.push(ve)}}function c(Ie,ve){if(!i)return null;for(;ve!==null;)o(Ie,ve),ve=ve.sibling;return null}function p(Ie,ve){for(Ie=new Map;ve!==null;)ve.key!==null?Ie.set(ve.key,ve):Ie.set(ve.index,ve),ve=ve.sibling;return Ie}function x(Ie,ve){return Ie=Sa(Ie,ve),Ie.index=0,Ie.sibling=null,Ie}function E(Ie,ve,Re){return Ie.index=Re,i?(Re=Ie.alternate,Re!==null?(Re=Re.index,Re<ve?(Ie.flags|=2,ve):Re):(Ie.flags|=2,ve)):(Ie.flags|=1048576,ve)}function P(Ie){return i&&Ie.alternate===null&&(Ie.flags|=2),Ie}function oe(Ie,ve,Re,ot){return ve===null||ve.tag!==6?(ve=Av(Re,Ie.mode,ot),ve.return=Ie,ve):(ve=x(ve,Re),ve.return=Ie,ve)}function fe(Ie,ve,Re,ot){var Dt=Re.type;return Dt===Z?tt(Ie,ve,Re.props.children,ot,Re.key):ve!==null&&(ve.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===Ce&&qx(Dt)===ve.type)?(ot=x(ve,Re.props),ot.ref=dd(Ie,ve,Re),ot.return=Ie,ot):(ot=up(Re.type,Re.key,Re.props,null,Ie.mode,ot),ot.ref=dd(Ie,ve,Re),ot.return=Ie,ot)}function je(Ie,ve,Re,ot){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==Re.containerInfo||ve.stateNode.implementation!==Re.implementation?(ve=Pv(Re,Ie.mode,ot),ve.return=Ie,ve):(ve=x(ve,Re.children||[]),ve.return=Ie,ve)}function tt(Ie,ve,Re,ot,Dt){return ve===null||ve.tag!==7?(ve=Ol(Re,Ie.mode,ot,Dt),ve.return=Ie,ve):(ve=x(ve,Re),ve.return=Ie,ve)}function nt(Ie,ve,Re){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return ve=Av(""+ve,Ie.mode,Re),ve.return=Ie,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case G:return Re=up(ve.type,ve.key,ve.props,null,Ie.mode,Re),Re.ref=dd(Ie,null,ve),Re.return=Ie,Re;case B:return ve=Pv(ve,Ie.mode,Re),ve.return=Ie,ve;case Ce:var ot=ve._init;return nt(Ie,ot(ve._payload),Re)}if(ge(ve)||ye(ve))return ve=Ol(ve,Ie.mode,Re,null),ve.return=Ie,ve;Mh(Ie,ve)}return null}function Xe(Ie,ve,Re,ot){var Dt=ve!==null?ve.key:null;if(typeof Re=="string"&&Re!==""||typeof Re=="number")return Dt!==null?null:oe(Ie,ve,""+Re,ot);if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case G:return Re.key===Dt?fe(Ie,ve,Re,ot):null;case B:return Re.key===Dt?je(Ie,ve,Re,ot):null;case Ce:return Dt=Re._init,Xe(Ie,ve,Dt(Re._payload),ot)}if(ge(Re)||ye(Re))return Dt!==null?null:tt(Ie,ve,Re,ot,null);Mh(Ie,Re)}return null}function kt(Ie,ve,Re,ot,Dt){if(typeof ot=="string"&&ot!==""||typeof ot=="number")return Ie=Ie.get(Re)||null,oe(ve,Ie,""+ot,Dt);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case G:return Ie=Ie.get(ot.key===null?Re:ot.key)||null,fe(ve,Ie,ot,Dt);case B:return Ie=Ie.get(ot.key===null?Re:ot.key)||null,je(ve,Ie,ot,Dt);case Ce:var zt=ot._init;return kt(Ie,ve,Re,zt(ot._payload),Dt)}if(ge(ot)||ye(ot))return Ie=Ie.get(Re)||null,tt(ve,Ie,ot,Dt,null);Mh(ve,ot)}return null}function At(Ie,ve,Re,ot){for(var Dt=null,zt=null,Ut=ve,Jt=ve=0,Tn=null;Ut!==null&&Jt<Re.length;Jt++){Ut.index>Jt?(Tn=Ut,Ut=null):Tn=Ut.sibling;var br=Xe(Ie,Ut,Re[Jt],ot);if(br===null){Ut===null&&(Ut=Tn);break}i&&Ut&&br.alternate===null&&o(Ie,Ut),ve=E(br,ve,Jt),zt===null?Dt=br:zt.sibling=br,zt=br,Ut=Tn}if(Jt===Re.length)return c(Ie,Ut),Gr&&bl(Ie,Jt),Dt;if(Ut===null){for(;Jt<Re.length;Jt++)Ut=nt(Ie,Re[Jt],ot),Ut!==null&&(ve=E(Ut,ve,Jt),zt===null?Dt=Ut:zt.sibling=Ut,zt=Ut);return Gr&&bl(Ie,Jt),Dt}for(Ut=p(Ie,Ut);Jt<Re.length;Jt++)Tn=kt(Ut,Ie,Jt,Re[Jt],ot),Tn!==null&&(i&&Tn.alternate!==null&&Ut.delete(Tn.key===null?Jt:Tn.key),ve=E(Tn,ve,Jt),zt===null?Dt=Tn:zt.sibling=Tn,zt=Tn);return i&&Ut.forEach(function(Ea){return o(Ie,Ea)}),Gr&&bl(Ie,Jt),Dt}function Lt(Ie,ve,Re,ot){var Dt=ye(Re);if(typeof Dt!="function")throw Error(r(150));if(Re=Dt.call(Re),Re==null)throw Error(r(151));for(var zt=Dt=null,Ut=ve,Jt=ve=0,Tn=null,br=Re.next();Ut!==null&&!br.done;Jt++,br=Re.next()){Ut.index>Jt?(Tn=Ut,Ut=null):Tn=Ut.sibling;var Ea=Xe(Ie,Ut,br.value,ot);if(Ea===null){Ut===null&&(Ut=Tn);break}i&&Ut&&Ea.alternate===null&&o(Ie,Ut),ve=E(Ea,ve,Jt),zt===null?Dt=Ea:zt.sibling=Ea,zt=Ea,Ut=Tn}if(br.done)return c(Ie,Ut),Gr&&bl(Ie,Jt),Dt;if(Ut===null){for(;!br.done;Jt++,br=Re.next())br=nt(Ie,br.value,ot),br!==null&&(ve=E(br,ve,Jt),zt===null?Dt=br:zt.sibling=br,zt=br);return Gr&&bl(Ie,Jt),Dt}for(Ut=p(Ie,Ut);!br.done;Jt++,br=Re.next())br=kt(Ut,Ie,Jt,br.value,ot),br!==null&&(i&&br.alternate!==null&&Ut.delete(br.key===null?Jt:br.key),ve=E(br,ve,Jt),zt===null?Dt=br:zt.sibling=br,zt=br);return i&&Ut.forEach(function(Vq){return o(Ie,Vq)}),Gr&&bl(Ie,Jt),Dt}function dn(Ie,ve,Re,ot){if(typeof Re=="object"&&Re!==null&&Re.type===Z&&Re.key===null&&(Re=Re.props.children),typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case G:e:{for(var Dt=Re.key,zt=ve;zt!==null;){if(zt.key===Dt){if(Dt=Re.type,Dt===Z){if(zt.tag===7){c(Ie,zt.sibling),ve=x(zt,Re.props.children),ve.return=Ie,Ie=ve;break e}}else if(zt.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===Ce&&qx(Dt)===zt.type){c(Ie,zt.sibling),ve=x(zt,Re.props),ve.ref=dd(Ie,zt,Re),ve.return=Ie,Ie=ve;break e}c(Ie,zt);break}else o(Ie,zt);zt=zt.sibling}Re.type===Z?(ve=Ol(Re.props.children,Ie.mode,ot,Re.key),ve.return=Ie,Ie=ve):(ot=up(Re.type,Re.key,Re.props,null,Ie.mode,ot),ot.ref=dd(Ie,ve,Re),ot.return=Ie,Ie=ot)}return P(Ie);case B:e:{for(zt=Re.key;ve!==null;){if(ve.key===zt)if(ve.tag===4&&ve.stateNode.containerInfo===Re.containerInfo&&ve.stateNode.implementation===Re.implementation){c(Ie,ve.sibling),ve=x(ve,Re.children||[]),ve.return=Ie,Ie=ve;break e}else{c(Ie,ve);break}else o(Ie,ve);ve=ve.sibling}ve=Pv(Re,Ie.mode,ot),ve.return=Ie,Ie=ve}return P(Ie);case Ce:return zt=Re._init,dn(Ie,ve,zt(Re._payload),ot)}if(ge(Re))return At(Ie,ve,Re,ot);if(ye(Re))return Lt(Ie,ve,Re,ot);Mh(Ie,Re)}return typeof Re=="string"&&Re!==""||typeof Re=="number"?(Re=""+Re,ve!==null&&ve.tag===6?(c(Ie,ve.sibling),ve=x(ve,Re),ve.return=Ie,Ie=ve):(c(Ie,ve),ve=Av(Re,Ie.mode,ot),ve.return=Ie,Ie=ve),P(Ie)):c(Ie,ve)}return dn}var xu=Rx(!0),Ax=Rx(!1),Bh=ha(null),$h=null,Su=null,zg=null;function Ug(){zg=Su=$h=null}function Vg(i){var o=Bh.current;Qr(Bh),i._currentValue=o}function Hg(i,o,c){for(;i!==null;){var p=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),i===c)break;i=i.return}}function Eu(i,o){$h=i,zg=Su=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&o&&(wi=!0),i.firstContext=null)}function fs(i){var o=i._currentValue;if(zg!==i)if(i={context:i,memoizedValue:o,next:null},Su===null){if($h===null)throw Error(r(308));Su=i,$h.dependencies={lanes:0,firstContext:i}}else Su=Su.next=i;return o}var wl=null;function Qg(i){wl===null?wl=[i]:wl.push(i)}function Px(i,o,c,p){var x=o.interleaved;return x===null?(c.next=c,Qg(o)):(c.next=x.next,x.next=c),o.interleaved=c,qo(i,p)}function qo(i,o){i.lanes|=o;var c=i.alternate;for(c!==null&&(c.lanes|=o),c=i,i=i.return;i!==null;)i.childLanes|=o,c=i.alternate,c!==null&&(c.childLanes|=o),c=i,i=i.return;return c.tag===3?c.stateNode:null}var ya=!1;function Kg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fx(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Ro(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function ga(i,o,c){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,vr&2){var x=p.pending;return x===null?o.next=o:(o.next=x.next,x.next=o),p.pending=o,qo(i,c)}return x=p.interleaved,x===null?(o.next=o,Qg(p)):(o.next=x.next,x.next=o),p.interleaved=o,qo(i,c)}function Wh(i,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var p=o.lanes;p&=i.pendingLanes,c|=p,o.lanes=c,Jc(i,c)}}function jx(i,o){var c=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var x=null,E=null;if(c=c.firstBaseUpdate,c!==null){do{var P={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};E===null?x=E=P:E=E.next=P,c=c.next}while(c!==null);E===null?x=E=o:E=E.next=o}else x=E=o;c={baseState:p.baseState,firstBaseUpdate:x,lastBaseUpdate:E,shared:p.shared,effects:p.effects},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=o:i.next=o,c.lastBaseUpdate=o}function zh(i,o,c,p){var x=i.updateQueue;ya=!1;var E=x.firstBaseUpdate,P=x.lastBaseUpdate,oe=x.shared.pending;if(oe!==null){x.shared.pending=null;var fe=oe,je=fe.next;fe.next=null,P===null?E=je:P.next=je,P=fe;var tt=i.alternate;tt!==null&&(tt=tt.updateQueue,oe=tt.lastBaseUpdate,oe!==P&&(oe===null?tt.firstBaseUpdate=je:oe.next=je,tt.lastBaseUpdate=fe))}if(E!==null){var nt=x.baseState;P=0,tt=je=fe=null,oe=E;do{var Xe=oe.lane,kt=oe.eventTime;if((p&Xe)===Xe){tt!==null&&(tt=tt.next={eventTime:kt,lane:0,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null});e:{var At=i,Lt=oe;switch(Xe=o,kt=c,Lt.tag){case 1:if(At=Lt.payload,typeof At=="function"){nt=At.call(kt,nt,Xe);break e}nt=At;break e;case 3:At.flags=At.flags&-65537|128;case 0:if(At=Lt.payload,Xe=typeof At=="function"?At.call(kt,nt,Xe):At,Xe==null)break e;nt=Ne({},nt,Xe);break e;case 2:ya=!0}}oe.callback!==null&&oe.lane!==0&&(i.flags|=64,Xe=x.effects,Xe===null?x.effects=[oe]:Xe.push(oe))}else kt={eventTime:kt,lane:Xe,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},tt===null?(je=tt=kt,fe=nt):tt=tt.next=kt,P|=Xe;if(oe=oe.next,oe===null){if(oe=x.shared.pending,oe===null)break;Xe=oe,oe=Xe.next,Xe.next=null,x.lastBaseUpdate=Xe,x.shared.pending=null}}while(!0);if(tt===null&&(fe=nt),x.baseState=fe,x.firstBaseUpdate=je,x.lastBaseUpdate=tt,o=x.shared.interleaved,o!==null){x=o;do P|=x.lane,x=x.next;while(x!==o)}else E===null&&(x.shared.lanes=0);El|=P,i.lanes=P,i.memoizedState=nt}}function Lx(i,o,c){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var p=i[o],x=p.callback;if(x!==null){if(p.callback=null,p=c,typeof x!="function")throw Error(r(191,x));x.call(p)}}}var fd={},io=ha(fd),hd=ha(fd),pd=ha(fd);function xl(i){if(i===fd)throw Error(r(174));return i}function Gg(i,o){switch(Wr(pd,o),Wr(hd,i),Wr(io,fd),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:yr(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=yr(o,i)}Qr(io),Wr(io,o)}function Nu(){Qr(io),Qr(hd),Qr(pd)}function Dx(i){xl(pd.current);var o=xl(io.current),c=yr(o,i.type);o!==c&&(Wr(hd,i),Wr(io,c))}function Jg(i){hd.current===i&&(Qr(io),Qr(hd))}var rn=ha(0);function Uh(i){for(var o=i;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Zg=[];function Yg(){for(var i=0;i<Zg.length;i++)Zg[i]._workInProgressVersionPrimary=null;Zg.length=0}var Vh=V.ReactCurrentDispatcher,Xg=V.ReactCurrentBatchConfig,Sl=0,nn=null,En=null,On=null,Hh=!1,md=!1,yd=0,hq=0;function Un(){throw Error(r(321))}function ev(i,o){if(o===null)return!1;for(var c=0;c<o.length&&c<i.length;c++)if(!Os(i[c],o[c]))return!1;return!0}function tv(i,o,c,p,x,E){if(Sl=E,nn=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Vh.current=i===null||i.memoizedState===null?gq:vq,i=c(p,x),md){E=0;do{if(md=!1,yd=0,25<=E)throw Error(r(301));E+=1,On=En=null,o.updateQueue=null,Vh.current=_q,i=c(p,x)}while(md)}if(Vh.current=Gh,o=En!==null&&En.next!==null,Sl=0,On=En=nn=null,Hh=!1,o)throw Error(r(300));return i}function rv(){var i=yd!==0;return yd=0,i}function so(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?nn.memoizedState=On=i:On=On.next=i,On}function hs(){if(En===null){var i=nn.alternate;i=i!==null?i.memoizedState:null}else i=En.next;var o=On===null?nn.memoizedState:On.next;if(o!==null)On=o,En=i;else{if(i===null)throw Error(r(310));En=i,i={memoizedState:En.memoizedState,baseState:En.baseState,baseQueue:En.baseQueue,queue:En.queue,next:null},On===null?nn.memoizedState=On=i:On=On.next=i}return On}function gd(i,o){return typeof o=="function"?o(i):o}function nv(i){var o=hs(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var p=En,x=p.baseQueue,E=c.pending;if(E!==null){if(x!==null){var P=x.next;x.next=E.next,E.next=P}p.baseQueue=x=E,c.pending=null}if(x!==null){E=x.next,p=p.baseState;var oe=P=null,fe=null,je=E;do{var tt=je.lane;if((Sl&tt)===tt)fe!==null&&(fe=fe.next={lane:0,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null}),p=je.hasEagerState?je.eagerState:i(p,je.action);else{var nt={lane:tt,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null};fe===null?(oe=fe=nt,P=p):fe=fe.next=nt,nn.lanes|=tt,El|=tt}je=je.next}while(je!==null&&je!==E);fe===null?P=p:fe.next=oe,Os(p,o.memoizedState)||(wi=!0),o.memoizedState=p,o.baseState=P,o.baseQueue=fe,c.lastRenderedState=p}if(i=c.interleaved,i!==null){x=i;do E=x.lane,nn.lanes|=E,El|=E,x=x.next;while(x!==i)}else x===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function iv(i){var o=hs(),c=o.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var p=c.dispatch,x=c.pending,E=o.memoizedState;if(x!==null){c.pending=null;var P=x=x.next;do E=i(E,P.action),P=P.next;while(P!==x);Os(E,o.memoizedState)||(wi=!0),o.memoizedState=E,o.baseQueue===null&&(o.baseState=E),c.lastRenderedState=E}return[E,p]}function Mx(){}function Bx(i,o){var c=nn,p=hs(),x=o(),E=!Os(p.memoizedState,x);if(E&&(p.memoizedState=x,wi=!0),p=p.queue,sv(zx.bind(null,c,p,i),[i]),p.getSnapshot!==o||E||On!==null&&On.memoizedState.tag&1){if(c.flags|=2048,vd(9,Wx.bind(null,c,p,x,o),void 0,null),Cn===null)throw Error(r(349));Sl&30||$x(c,o,x)}return x}function $x(i,o,c){i.flags|=16384,i={getSnapshot:o,value:c},o=nn.updateQueue,o===null?(o={lastEffect:null,stores:null},nn.updateQueue=o,o.stores=[i]):(c=o.stores,c===null?o.stores=[i]:c.push(i))}function Wx(i,o,c,p){o.value=c,o.getSnapshot=p,Ux(o)&&Vx(i)}function zx(i,o,c){return c(function(){Ux(o)&&Vx(i)})}function Ux(i){var o=i.getSnapshot;i=i.value;try{var c=o();return!Os(i,c)}catch{return!0}}function Vx(i){var o=qo(i,1);o!==null&&As(o,i,1,-1)}function Hx(i){var o=so();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gd,lastRenderedState:i},o.queue=i,i=i.dispatch=yq.bind(null,nn,i),[o.memoizedState,i]}function vd(i,o,c,p){return i={tag:i,create:o,destroy:c,deps:p,next:null},o=nn.updateQueue,o===null?(o={lastEffect:null,stores:null},nn.updateQueue=o,o.lastEffect=i.next=i):(c=o.lastEffect,c===null?o.lastEffect=i.next=i:(p=c.next,c.next=i,i.next=p,o.lastEffect=i)),i}function Qx(){return hs().memoizedState}function Qh(i,o,c,p){var x=so();nn.flags|=i,x.memoizedState=vd(1|o,c,void 0,p===void 0?null:p)}function Kh(i,o,c,p){var x=hs();p=p===void 0?null:p;var E=void 0;if(En!==null){var P=En.memoizedState;if(E=P.destroy,p!==null&&ev(p,P.deps)){x.memoizedState=vd(o,c,E,p);return}}nn.flags|=i,x.memoizedState=vd(1|o,c,E,p)}function Kx(i,o){return Qh(8390656,8,i,o)}function sv(i,o){return Kh(2048,8,i,o)}function Gx(i,o){return Kh(4,2,i,o)}function Jx(i,o){return Kh(4,4,i,o)}function Zx(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Yx(i,o,c){return c=c!=null?c.concat([i]):null,Kh(4,4,Zx.bind(null,o,i),c)}function ov(){}function Xx(i,o){var c=hs();o=o===void 0?null:o;var p=c.memoizedState;return p!==null&&o!==null&&ev(o,p[1])?p[0]:(c.memoizedState=[i,o],i)}function eS(i,o){var c=hs();o=o===void 0?null:o;var p=c.memoizedState;return p!==null&&o!==null&&ev(o,p[1])?p[0]:(i=i(),c.memoizedState=[i,o],i)}function tS(i,o,c){return Sl&21?(Os(c,o)||(c=xh(),nn.lanes|=c,El|=c,i.baseState=!0),o):(i.baseState&&(i.baseState=!1,wi=!0),i.memoizedState=c)}function pq(i,o){var c=xr;xr=c!==0&&4>c?c:4,i(!0);var p=Xg.transition;Xg.transition={};try{i(!1),o()}finally{xr=c,Xg.transition=p}}function rS(){return hs().memoizedState}function mq(i,o,c){var p=wa(i);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},nS(i))iS(o,c);else if(c=Px(i,o,c,p),c!==null){var x=ai();As(c,i,p,x),sS(c,o,p)}}function yq(i,o,c){var p=wa(i),x={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(nS(i))iS(o,x);else{var E=i.alternate;if(i.lanes===0&&(E===null||E.lanes===0)&&(E=o.lastRenderedReducer,E!==null))try{var P=o.lastRenderedState,oe=E(P,c);if(x.hasEagerState=!0,x.eagerState=oe,Os(oe,P)){var fe=o.interleaved;fe===null?(x.next=x,Qg(o)):(x.next=fe.next,fe.next=x),o.interleaved=x;return}}catch{}finally{}c=Px(i,o,x,p),c!==null&&(x=ai(),As(c,i,p,x),sS(c,o,p))}}function nS(i){var o=i.alternate;return i===nn||o!==null&&o===nn}function iS(i,o){md=Hh=!0;var c=i.pending;c===null?o.next=o:(o.next=c.next,c.next=o),i.pending=o}function sS(i,o,c){if(c&4194240){var p=o.lanes;p&=i.pendingLanes,c|=p,o.lanes=c,Jc(i,c)}}var Gh={readContext:fs,useCallback:Un,useContext:Un,useEffect:Un,useImperativeHandle:Un,useInsertionEffect:Un,useLayoutEffect:Un,useMemo:Un,useReducer:Un,useRef:Un,useState:Un,useDebugValue:Un,useDeferredValue:Un,useTransition:Un,useMutableSource:Un,useSyncExternalStore:Un,useId:Un,unstable_isNewReconciler:!1},gq={readContext:fs,useCallback:function(i,o){return so().memoizedState=[i,o===void 0?null:o],i},useContext:fs,useEffect:Kx,useImperativeHandle:function(i,o,c){return c=c!=null?c.concat([i]):null,Qh(4194308,4,Zx.bind(null,o,i),c)},useLayoutEffect:function(i,o){return Qh(4194308,4,i,o)},useInsertionEffect:function(i,o){return Qh(4,2,i,o)},useMemo:function(i,o){var c=so();return o=o===void 0?null:o,i=i(),c.memoizedState=[i,o],i},useReducer:function(i,o,c){var p=so();return o=c!==void 0?c(o):o,p.memoizedState=p.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},p.queue=i,i=i.dispatch=mq.bind(null,nn,i),[p.memoizedState,i]},useRef:function(i){var o=so();return i={current:i},o.memoizedState=i},useState:Hx,useDebugValue:ov,useDeferredValue:function(i){return so().memoizedState=i},useTransition:function(){var i=Hx(!1),o=i[0];return i=pq.bind(null,i[1]),so().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,c){var p=nn,x=so();if(Gr){if(c===void 0)throw Error(r(407));c=c()}else{if(c=o(),Cn===null)throw Error(r(349));Sl&30||$x(p,o,c)}x.memoizedState=c;var E={value:c,getSnapshot:o};return x.queue=E,Kx(zx.bind(null,p,E,i),[i]),p.flags|=2048,vd(9,Wx.bind(null,p,E,c,o),void 0,null),c},useId:function(){var i=so(),o=Cn.identifierPrefix;if(Gr){var c=To,p=Co;c=(p&~(1<<32-vi(p)-1)).toString(32)+c,o=":"+o+"R"+c,c=yd++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=hq++,o=":"+o+"r"+c.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},vq={readContext:fs,useCallback:Xx,useContext:fs,useEffect:sv,useImperativeHandle:Yx,useInsertionEffect:Gx,useLayoutEffect:Jx,useMemo:eS,useReducer:nv,useRef:Qx,useState:function(){return nv(gd)},useDebugValue:ov,useDeferredValue:function(i){var o=hs();return tS(o,En.memoizedState,i)},useTransition:function(){var i=nv(gd)[0],o=hs().memoizedState;return[i,o]},useMutableSource:Mx,useSyncExternalStore:Bx,useId:rS,unstable_isNewReconciler:!1},_q={readContext:fs,useCallback:Xx,useContext:fs,useEffect:sv,useImperativeHandle:Yx,useInsertionEffect:Gx,useLayoutEffect:Jx,useMemo:eS,useReducer:iv,useRef:Qx,useState:function(){return iv(gd)},useDebugValue:ov,useDeferredValue:function(i){var o=hs();return En===null?o.memoizedState=i:tS(o,En.memoizedState,i)},useTransition:function(){var i=iv(gd)[0],o=hs().memoizedState;return[i,o]},useMutableSource:Mx,useSyncExternalStore:Bx,useId:rS,unstable_isNewReconciler:!1};function Ts(i,o){if(i&&i.defaultProps){o=Ne({},o),i=i.defaultProps;for(var c in i)o[c]===void 0&&(o[c]=i[c]);return o}return o}function av(i,o,c,p){o=i.memoizedState,c=c(p,o),c=c==null?o:Ne({},o,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var Jh={isMounted:function(i){return(i=i._reactInternals)?No(i)===i:!1},enqueueSetState:function(i,o,c){i=i._reactInternals;var p=ai(),x=wa(i),E=Ro(p,x);E.payload=o,c!=null&&(E.callback=c),o=ga(i,E,x),o!==null&&(As(o,i,x,p),Wh(o,i,x))},enqueueReplaceState:function(i,o,c){i=i._reactInternals;var p=ai(),x=wa(i),E=Ro(p,x);E.tag=1,E.payload=o,c!=null&&(E.callback=c),o=ga(i,E,x),o!==null&&(As(o,i,x,p),Wh(o,i,x))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var c=ai(),p=wa(i),x=Ro(c,p);x.tag=2,o!=null&&(x.callback=o),o=ga(i,x,p),o!==null&&(As(o,i,p,c),Wh(o,i,p))}};function oS(i,o,c,p,x,E,P){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,E,P):o.prototype&&o.prototype.isPureReactComponent?!id(c,p)||!id(x,E):!0}function aS(i,o,c){var p=!1,x=pa,E=o.contextType;return typeof E=="object"&&E!==null?E=fs(E):(x=bi(o)?vl:zn.current,p=o.contextTypes,E=(p=p!=null)?vu(i,x):pa),o=new o(c,E),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Jh,i.stateNode=o,o._reactInternals=i,p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=x,i.__reactInternalMemoizedMaskedChildContext=E),o}function lS(i,o,c,p){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,p),o.state!==i&&Jh.enqueueReplaceState(o,o.state,null)}function lv(i,o,c,p){var x=i.stateNode;x.props=c,x.state=i.memoizedState,x.refs={},Kg(i);var E=o.contextType;typeof E=="object"&&E!==null?x.context=fs(E):(E=bi(o)?vl:zn.current,x.context=vu(i,E)),x.state=i.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(av(i,o,E,c),x.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(o=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),o!==x.state&&Jh.enqueueReplaceState(x,x.state,null),zh(i,c,x,p),x.state=i.memoizedState),typeof x.componentDidMount=="function"&&(i.flags|=4194308)}function ku(i,o){try{var c="",p=o;do c+=dt(p),p=p.return;while(p);var x=c}catch(E){x=`
Error generating stack: `+E.message+`
`+E.stack}return{value:i,source:o,stack:x,digest:null}}function uv(i,o,c){return{value:i,source:null,stack:c??null,digest:o??null}}function cv(i,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var bq=typeof WeakMap=="function"?WeakMap:Map;function uS(i,o,c){c=Ro(-1,c),c.tag=3,c.payload={element:null};var p=o.value;return c.callback=function(){np||(np=!0,Nv=p),cv(i,o)},c}function cS(i,o,c){c=Ro(-1,c),c.tag=3;var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var x=o.value;c.payload=function(){return p(x)},c.callback=function(){cv(i,o)}}var E=i.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(c.callback=function(){cv(i,o),typeof p!="function"&&(_a===null?_a=new Set([this]):_a.add(this));var P=o.stack;this.componentDidCatch(o.value,{componentStack:P!==null?P:""})}),c}function dS(i,o,c){var p=i.pingCache;if(p===null){p=i.pingCache=new bq;var x=new Set;p.set(o,x)}else x=p.get(o),x===void 0&&(x=new Set,p.set(o,x));x.has(c)||(x.add(c),i=Pq.bind(null,i,o,c),o.then(i,i))}function fS(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function hS(i,o,c,p,x){return i.mode&1?(i.flags|=65536,i.lanes=x,i):(i===o?i.flags|=65536:(i.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=Ro(-1,1),o.tag=2,ga(c,o,1))),c.lanes|=1),i)}var wq=V.ReactCurrentOwner,wi=!1;function oi(i,o,c,p){o.child=i===null?Ax(o,null,c,p):xu(o,i.child,c,p)}function pS(i,o,c,p,x){c=c.render;var E=o.ref;return Eu(o,x),p=tv(i,o,c,p,E,x),c=rv(),i!==null&&!wi?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~x,Ao(i,o,x)):(Gr&&c&&Dg(o),o.flags|=1,oi(i,o,p,x),o.child)}function mS(i,o,c,p,x){if(i===null){var E=c.type;return typeof E=="function"&&!Rv(E)&&E.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=E,yS(i,o,E,p,x)):(i=up(c.type,null,p,o,o.mode,x),i.ref=o.ref,i.return=o,o.child=i)}if(E=i.child,!(i.lanes&x)){var P=E.memoizedProps;if(c=c.compare,c=c!==null?c:id,c(P,p)&&i.ref===o.ref)return Ao(i,o,x)}return o.flags|=1,i=Sa(E,p),i.ref=o.ref,i.return=o,o.child=i}function yS(i,o,c,p,x){if(i!==null){var E=i.memoizedProps;if(id(E,p)&&i.ref===o.ref)if(wi=!1,o.pendingProps=p=E,(i.lanes&x)!==0)i.flags&131072&&(wi=!0);else return o.lanes=i.lanes,Ao(i,o,x)}return dv(i,o,c,p,x)}function gS(i,o,c){var p=o.pendingProps,x=p.children,E=i!==null?i.memoizedState:null;if(p.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wr(Ou,Li),Li|=c;else{if(!(c&0x40000000))return i=E!==null?E.baseLanes|c:c,o.lanes=o.childLanes=0x40000000,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Wr(Ou,Li),Li|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=E!==null?E.baseLanes:c,Wr(Ou,Li),Li|=p}else E!==null?(p=E.baseLanes|c,o.memoizedState=null):p=c,Wr(Ou,Li),Li|=p;return oi(i,o,x,c),o.child}function vS(i,o){var c=o.ref;(i===null&&c!==null||i!==null&&i.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function dv(i,o,c,p,x){var E=bi(c)?vl:zn.current;return E=vu(o,E),Eu(o,x),c=tv(i,o,c,p,E,x),p=rv(),i!==null&&!wi?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~x,Ao(i,o,x)):(Gr&&p&&Dg(o),o.flags|=1,oi(i,o,c,x),o.child)}function _S(i,o,c,p,x){if(bi(c)){var E=!0;Ph(o)}else E=!1;if(Eu(o,x),o.stateNode===null)Yh(i,o),aS(o,c,p),lv(o,c,p,x),p=!0;else if(i===null){var P=o.stateNode,oe=o.memoizedProps;P.props=oe;var fe=P.context,je=c.contextType;typeof je=="object"&&je!==null?je=fs(je):(je=bi(c)?vl:zn.current,je=vu(o,je));var tt=c.getDerivedStateFromProps,nt=typeof tt=="function"||typeof P.getSnapshotBeforeUpdate=="function";nt||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(oe!==p||fe!==je)&&lS(o,P,p,je),ya=!1;var Xe=o.memoizedState;P.state=Xe,zh(o,p,P,x),fe=o.memoizedState,oe!==p||Xe!==fe||_i.current||ya?(typeof tt=="function"&&(av(o,c,tt,p),fe=o.memoizedState),(oe=ya||oS(o,c,oe,p,Xe,fe,je))?(nt||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(o.flags|=4194308)):(typeof P.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=fe),P.props=p,P.state=fe,P.context=je,p=oe):(typeof P.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{P=o.stateNode,Fx(i,o),oe=o.memoizedProps,je=o.type===o.elementType?oe:Ts(o.type,oe),P.props=je,nt=o.pendingProps,Xe=P.context,fe=c.contextType,typeof fe=="object"&&fe!==null?fe=fs(fe):(fe=bi(c)?vl:zn.current,fe=vu(o,fe));var kt=c.getDerivedStateFromProps;(tt=typeof kt=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(oe!==nt||Xe!==fe)&&lS(o,P,p,fe),ya=!1,Xe=o.memoizedState,P.state=Xe,zh(o,p,P,x);var At=o.memoizedState;oe!==nt||Xe!==At||_i.current||ya?(typeof kt=="function"&&(av(o,c,kt,p),At=o.memoizedState),(je=ya||oS(o,c,je,p,Xe,At,fe)||!1)?(tt||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(p,At,fe),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(p,At,fe)),typeof P.componentDidUpdate=="function"&&(o.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof P.componentDidUpdate!="function"||oe===i.memoizedProps&&Xe===i.memoizedState||(o.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||oe===i.memoizedProps&&Xe===i.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=At),P.props=p,P.state=At,P.context=fe,p=je):(typeof P.componentDidUpdate!="function"||oe===i.memoizedProps&&Xe===i.memoizedState||(o.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||oe===i.memoizedProps&&Xe===i.memoizedState||(o.flags|=1024),p=!1)}return fv(i,o,c,p,E,x)}function fv(i,o,c,p,x,E){vS(i,o);var P=(o.flags&128)!==0;if(!p&&!P)return x&&Ex(o,c,!1),Ao(i,o,E);p=o.stateNode,wq.current=o;var oe=P&&typeof c.getDerivedStateFromError!="function"?null:p.render();return o.flags|=1,i!==null&&P?(o.child=xu(o,i.child,null,E),o.child=xu(o,null,oe,E)):oi(i,o,oe,E),o.memoizedState=p.state,x&&Ex(o,c,!0),o.child}function bS(i){var o=i.stateNode;o.pendingContext?xx(i,o.pendingContext,o.pendingContext!==o.context):o.context&&xx(i,o.context,!1),Gg(i,o.containerInfo)}function wS(i,o,c,p,x){return wu(),Wg(x),o.flags|=256,oi(i,o,c,p),o.child}var hv={dehydrated:null,treeContext:null,retryLane:0};function pv(i){return{baseLanes:i,cachePool:null,transitions:null}}function xS(i,o,c){var p=o.pendingProps,x=rn.current,E=!1,P=(o.flags&128)!==0,oe;if((oe=P)||(oe=i!==null&&i.memoizedState===null?!1:(x&2)!==0),oe?(E=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(x|=1),Wr(rn,x&1),i===null)return $g(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(o.mode&1?i.data==="$!"?o.lanes=8:o.lanes=0x40000000:o.lanes=1,null):(P=p.children,i=p.fallback,E?(p=o.mode,E=o.child,P={mode:"hidden",children:P},!(p&1)&&E!==null?(E.childLanes=0,E.pendingProps=P):E=cp(P,p,0,null),i=Ol(i,p,c,null),E.return=o,i.return=o,E.sibling=i,o.child=E,o.child.memoizedState=pv(c),o.memoizedState=hv,i):mv(o,P));if(x=i.memoizedState,x!==null&&(oe=x.dehydrated,oe!==null))return xq(i,o,P,p,oe,x,c);if(E){E=p.fallback,P=o.mode,x=i.child,oe=x.sibling;var fe={mode:"hidden",children:p.children};return!(P&1)&&o.child!==x?(p=o.child,p.childLanes=0,p.pendingProps=fe,o.deletions=null):(p=Sa(x,fe),p.subtreeFlags=x.subtreeFlags&0xe00000),oe!==null?E=Sa(oe,E):(E=Ol(E,P,c,null),E.flags|=2),E.return=o,p.return=o,p.sibling=E,o.child=p,p=E,E=o.child,P=i.child.memoizedState,P=P===null?pv(c):{baseLanes:P.baseLanes|c,cachePool:null,transitions:P.transitions},E.memoizedState=P,E.childLanes=i.childLanes&~c,o.memoizedState=hv,p}return E=i.child,i=E.sibling,p=Sa(E,{mode:"visible",children:p.children}),!(o.mode&1)&&(p.lanes=c),p.return=o,p.sibling=null,i!==null&&(c=o.deletions,c===null?(o.deletions=[i],o.flags|=16):c.push(i)),o.child=p,o.memoizedState=null,p}function mv(i,o){return o=cp({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Zh(i,o,c,p){return p!==null&&Wg(p),xu(o,i.child,null,c),i=mv(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function xq(i,o,c,p,x,E,P){if(c)return o.flags&256?(o.flags&=-257,p=uv(Error(r(422))),Zh(i,o,P,p)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(E=p.fallback,x=o.mode,p=cp({mode:"visible",children:p.children},x,0,null),E=Ol(E,x,P,null),E.flags|=2,p.return=o,E.return=o,p.sibling=E,o.child=p,o.mode&1&&xu(o,i.child,null,P),o.child.memoizedState=pv(P),o.memoizedState=hv,E);if(!(o.mode&1))return Zh(i,o,P,null);if(x.data==="$!"){if(p=x.nextSibling&&x.nextSibling.dataset,p)var oe=p.dgst;return p=oe,E=Error(r(419)),p=uv(E,p,void 0),Zh(i,o,P,p)}if(oe=(P&i.childLanes)!==0,wi||oe){if(p=Cn,p!==null){switch(P&-P){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 0x1000000:case 0x2000000:case 0x4000000:x=32;break;case 0x20000000:x=0x10000000;break;default:x=0}x=x&(p.suspendedLanes|P)?0:x,x!==0&&x!==E.retryLane&&(E.retryLane=x,qo(i,x),As(p,i,x,-1))}return qv(),p=uv(Error(r(421))),Zh(i,o,P,p)}return x.data==="$?"?(o.flags|=128,o.child=i.child,o=Fq.bind(null,i),x._reactRetry=o,null):(i=E.treeContext,ji=fa(x.nextSibling),Fi=o,Gr=!0,Cs=null,i!==null&&(cs[ds++]=Co,cs[ds++]=To,cs[ds++]=_l,Co=i.id,To=i.overflow,_l=o),o=mv(o,p.children),o.flags|=4096,o)}function SS(i,o,c){i.lanes|=o;var p=i.alternate;p!==null&&(p.lanes|=o),Hg(i.return,o,c)}function yv(i,o,c,p,x){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:x}:(E.isBackwards=o,E.rendering=null,E.renderingStartTime=0,E.last=p,E.tail=c,E.tailMode=x)}function ES(i,o,c){var p=o.pendingProps,x=p.revealOrder,E=p.tail;if(oi(i,o,p.children,c),p=rn.current,p&2)p=p&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&SS(i,c,o);else if(i.tag===19)SS(i,c,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}if(Wr(rn,p),!(o.mode&1))o.memoizedState=null;else switch(x){case"forwards":for(c=o.child,x=null;c!==null;)i=c.alternate,i!==null&&Uh(i)===null&&(x=c),c=c.sibling;c=x,c===null?(x=o.child,o.child=null):(x=c.sibling,c.sibling=null),yv(o,!1,x,c,E);break;case"backwards":for(c=null,x=o.child,o.child=null;x!==null;){if(i=x.alternate,i!==null&&Uh(i)===null){o.child=x;break}i=x.sibling,x.sibling=c,c=x,x=i}yv(o,!0,c,null,E);break;case"together":yv(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Yh(i,o){!(o.mode&1)&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Ao(i,o,c){if(i!==null&&(o.dependencies=i.dependencies),El|=o.lanes,!(c&o.childLanes))return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,c=Sa(i,i.pendingProps),o.child=c,c.return=o;i.sibling!==null;)i=i.sibling,c=c.sibling=Sa(i,i.pendingProps),c.return=o;c.sibling=null}return o.child}function Sq(i,o,c){switch(o.tag){case 3:bS(o),wu();break;case 5:Dx(o);break;case 1:bi(o.type)&&Ph(o);break;case 4:Gg(o,o.stateNode.containerInfo);break;case 10:var p=o.type._context,x=o.memoizedProps.value;Wr(Bh,p._currentValue),p._currentValue=x;break;case 13:if(p=o.memoizedState,p!==null)return p.dehydrated!==null?(Wr(rn,rn.current&1),o.flags|=128,null):c&o.child.childLanes?xS(i,o,c):(Wr(rn,rn.current&1),i=Ao(i,o,c),i!==null?i.sibling:null);Wr(rn,rn.current&1);break;case 19:if(p=(c&o.childLanes)!==0,i.flags&128){if(p)return ES(i,o,c);o.flags|=128}if(x=o.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),Wr(rn,rn.current),p)break;return null;case 22:case 23:return o.lanes=0,gS(i,o,c)}return Ao(i,o,c)}var NS,gv,kS,IS;NS=function(i,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},gv=function(){},kS=function(i,o,c,p){var x=i.memoizedProps;if(x!==p){i=o.stateNode,xl(io.current);var E=null;switch(c){case"input":x=er(i,x),p=er(i,p),E=[];break;case"select":x=Ne({},x,{value:void 0}),p=Ne({},p,{value:void 0}),E=[];break;case"textarea":x=De(i,x),p=De(i,p),E=[];break;default:typeof x.onClick!="function"&&typeof p.onClick=="function"&&(i.onclick=qh)}la(c,p);var P;c=null;for(je in x)if(!p.hasOwnProperty(je)&&x.hasOwnProperty(je)&&x[je]!=null)if(je==="style"){var oe=x[je];for(P in oe)oe.hasOwnProperty(P)&&(c||(c={}),c[P]="")}else je!=="dangerouslySetInnerHTML"&&je!=="children"&&je!=="suppressContentEditableWarning"&&je!=="suppressHydrationWarning"&&je!=="autoFocus"&&(s.hasOwnProperty(je)?E||(E=[]):(E=E||[]).push(je,null));for(je in p){var fe=p[je];if(oe=x?.[je],p.hasOwnProperty(je)&&fe!==oe&&(fe!=null||oe!=null))if(je==="style")if(oe){for(P in oe)!oe.hasOwnProperty(P)||fe&&fe.hasOwnProperty(P)||(c||(c={}),c[P]="");for(P in fe)fe.hasOwnProperty(P)&&oe[P]!==fe[P]&&(c||(c={}),c[P]=fe[P])}else c||(E||(E=[]),E.push(je,c)),c=fe;else je==="dangerouslySetInnerHTML"?(fe=fe?fe.__html:void 0,oe=oe?oe.__html:void 0,fe!=null&&oe!==fe&&(E=E||[]).push(je,fe)):je==="children"?typeof fe!="string"&&typeof fe!="number"||(E=E||[]).push(je,""+fe):je!=="suppressContentEditableWarning"&&je!=="suppressHydrationWarning"&&(s.hasOwnProperty(je)?(fe!=null&&je==="onScroll"&&Hr("scroll",i),E||oe===fe||(E=[])):(E=E||[]).push(je,fe))}c&&(E=E||[]).push("style",c);var je=E;(o.updateQueue=je)&&(o.flags|=4)}},IS=function(i,o,c,p){c!==p&&(o.flags|=4)};function _d(i,o){if(!Gr)switch(i.tailMode){case"hidden":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function Vn(i){var o=i.alternate!==null&&i.alternate.child===i.child,c=0,p=0;if(o)for(var x=i.child;x!==null;)c|=x.lanes|x.childLanes,p|=x.subtreeFlags&0xe00000,p|=x.flags&0xe00000,x.return=i,x=x.sibling;else for(x=i.child;x!==null;)c|=x.lanes|x.childLanes,p|=x.subtreeFlags,p|=x.flags,x.return=i,x=x.sibling;return i.subtreeFlags|=p,i.childLanes=c,o}function Eq(i,o,c){var p=o.pendingProps;switch(Mg(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vn(o),null;case 1:return bi(o.type)&&Ah(),Vn(o),null;case 3:return p=o.stateNode,Nu(),Qr(_i),Qr(zn),Yg(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&(Dh(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,Cs!==null&&(Ov(Cs),Cs=null))),gv(i,o),Vn(o),null;case 5:Jg(o);var x=xl(pd.current);if(c=o.type,i!==null&&o.stateNode!=null)kS(i,o,c,p,x),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!p){if(o.stateNode===null)throw Error(r(166));return Vn(o),null}if(i=xl(io.current),Dh(o)){p=o.stateNode,c=o.type;var E=o.memoizedProps;switch(p[no]=o,p[ud]=E,i=(o.mode&1)!==0,c){case"dialog":Hr("cancel",p),Hr("close",p);break;case"iframe":case"object":case"embed":Hr("load",p);break;case"video":case"audio":for(x=0;x<od.length;x++)Hr(od[x],p);break;case"source":Hr("error",p);break;case"img":case"image":case"link":Hr("error",p),Hr("load",p);break;case"details":Hr("toggle",p);break;case"input":Zt(p,E),Hr("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!E.multiple},Hr("invalid",p);break;case"textarea":Ge(p,E),Hr("invalid",p)}la(c,E),x=null;for(var P in E)if(E.hasOwnProperty(P)){var oe=E[P];P==="children"?typeof oe=="string"?p.textContent!==oe&&(E.suppressHydrationWarning!==!0&&Th(p.textContent,oe,i),x=["children",oe]):typeof oe=="number"&&p.textContent!==""+oe&&(E.suppressHydrationWarning!==!0&&Th(p.textContent,oe,i),x=["children",""+oe]):s.hasOwnProperty(P)&&oe!=null&&P==="onScroll"&&Hr("scroll",p)}switch(c){case"input":yt(p),ae(p,E,!0);break;case"textarea":yt(p),Bt(p);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(p.onclick=qh)}p=x,o.updateQueue=p,p!==null&&(o.flags|=4)}else{P=x.nodeType===9?x:x.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=wr(c)),i==="http://www.w3.org/1999/xhtml"?c==="script"?(i=P.createElement("div"),i.innerHTML="<script></script>",i=i.removeChild(i.firstChild)):typeof p.is=="string"?i=P.createElement(c,{is:p.is}):(i=P.createElement(c),c==="select"&&(P=i,p.multiple?P.multiple=!0:p.size&&(P.size=p.size))):i=P.createElementNS(i,c),i[no]=o,i[ud]=p,NS(i,o,!1,!1),o.stateNode=i;e:{switch(P=ua(c,p),c){case"dialog":Hr("cancel",i),Hr("close",i),x=p;break;case"iframe":case"object":case"embed":Hr("load",i),x=p;break;case"video":case"audio":for(x=0;x<od.length;x++)Hr(od[x],i);x=p;break;case"source":Hr("error",i),x=p;break;case"img":case"image":case"link":Hr("error",i),Hr("load",i),x=p;break;case"details":Hr("toggle",i),x=p;break;case"input":Zt(i,p),x=er(i,p),Hr("invalid",i);break;case"option":x=p;break;case"select":i._wrapperState={wasMultiple:!!p.multiple},x=Ne({},p,{value:void 0}),Hr("invalid",i);break;case"textarea":Ge(i,p),x=De(i,p),Hr("invalid",i);break;default:x=p}la(c,x),oe=x;for(E in oe)if(oe.hasOwnProperty(E)){var fe=oe[E];E==="style"?Vt(i,fe):E==="dangerouslySetInnerHTML"?(fe=fe?fe.__html:void 0,fe!=null&&si(i,fe)):E==="children"?typeof fe=="string"?(c!=="textarea"||fe!=="")&&an(i,fe):typeof fe=="number"&&an(i,""+fe):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(s.hasOwnProperty(E)?fe!=null&&E==="onScroll"&&Hr("scroll",i):fe!=null&&$(i,E,fe,P))}switch(c){case"input":yt(i),ae(i,p,!1);break;case"textarea":yt(i),Bt(i);break;case"option":p.value!=null&&i.setAttribute("value",""+gt(p.value));break;case"select":i.multiple=!!p.multiple,E=p.value,E!=null?qe(i,!!p.multiple,E,!1):p.defaultValue!=null&&qe(i,!!p.multiple,p.defaultValue,!0);break;default:typeof x.onClick=="function"&&(i.onclick=qh)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Vn(o),null;case 6:if(i&&o.stateNode!=null)IS(i,o,i.memoizedProps,p);else{if(typeof p!="string"&&o.stateNode===null)throw Error(r(166));if(c=xl(pd.current),xl(io.current),Dh(o)){if(p=o.stateNode,c=o.memoizedProps,p[no]=o,(E=p.nodeValue!==c)&&(i=Fi,i!==null))switch(i.tag){case 3:Th(p.nodeValue,c,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Th(p.nodeValue,c,(i.mode&1)!==0)}E&&(o.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[no]=o,o.stateNode=p}return Vn(o),null;case 13:if(Qr(rn),p=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Gr&&ji!==null&&o.mode&1&&!(o.flags&128))Tx(),wu(),o.flags|=98560,E=!1;else if(E=Dh(o),p!==null&&p.dehydrated!==null){if(i===null){if(!E)throw Error(r(318));if(E=o.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[no]=o}else wu(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;Vn(o),E=!1}else Cs!==null&&(Ov(Cs),Cs=null),E=!0;if(!E)return o.flags&65536?o:null}return o.flags&128?(o.lanes=c,o):(p=p!==null,p!==(i!==null&&i.memoizedState!==null)&&p&&(o.child.flags|=8192,o.mode&1&&(i===null||rn.current&1?Nn===0&&(Nn=3):qv())),o.updateQueue!==null&&(o.flags|=4),Vn(o),null);case 4:return Nu(),gv(i,o),i===null&&ad(o.stateNode.containerInfo),Vn(o),null;case 10:return Vg(o.type._context),Vn(o),null;case 17:return bi(o.type)&&Ah(),Vn(o),null;case 19:if(Qr(rn),E=o.memoizedState,E===null)return Vn(o),null;if(p=(o.flags&128)!==0,P=E.rendering,P===null)if(p)_d(E,!1);else{if(Nn!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(P=Uh(i),P!==null){for(o.flags|=128,_d(E,!1),p=P.updateQueue,p!==null&&(o.updateQueue=p,o.flags|=4),o.subtreeFlags=0,p=c,c=o.child;c!==null;)E=c,i=p,E.flags&=0xe00002,P=E.alternate,P===null?(E.childLanes=0,E.lanes=i,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=P.childLanes,E.lanes=P.lanes,E.child=P.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=P.memoizedProps,E.memoizedState=P.memoizedState,E.updateQueue=P.updateQueue,E.type=P.type,i=P.dependencies,E.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),c=c.sibling;return Wr(rn,rn.current&1|2),o.child}i=i.sibling}E.tail!==null&&en()>Cu&&(o.flags|=128,p=!0,_d(E,!1),o.lanes=4194304)}else{if(!p)if(i=Uh(P),i!==null){if(o.flags|=128,p=!0,c=i.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),_d(E,!0),E.tail===null&&E.tailMode==="hidden"&&!P.alternate&&!Gr)return Vn(o),null}else 2*en()-E.renderingStartTime>Cu&&c!==0x40000000&&(o.flags|=128,p=!0,_d(E,!1),o.lanes=4194304);E.isBackwards?(P.sibling=o.child,o.child=P):(c=E.last,c!==null?c.sibling=P:o.child=P,E.last=P)}return E.tail!==null?(o=E.tail,E.rendering=o,E.tail=o.sibling,E.renderingStartTime=en(),o.sibling=null,c=rn.current,Wr(rn,p?c&1|2:c&1),o):(Vn(o),null);case 22:case 23:return Tv(),p=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(o.flags|=8192),p&&o.mode&1?Li&0x40000000&&(Vn(o),o.subtreeFlags&6&&(o.flags|=8192)):Vn(o),null;case 24:return null;case 25:return null}throw Error(r(156,o.tag))}function Nq(i,o){switch(Mg(o),o.tag){case 1:return bi(o.type)&&Ah(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Nu(),Qr(_i),Qr(zn),Yg(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 5:return Jg(o),null;case 13:if(Qr(rn),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));wu()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Qr(rn),null;case 4:return Nu(),null;case 10:return Vg(o.type._context),null;case 22:case 23:return Tv(),null;case 24:return null;default:return null}}var Xh=!1,Hn=!1,kq=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function Iu(i,o){var c=i.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){ln(i,o,p)}else c.current=null}function vv(i,o,c){try{c()}catch(p){ln(i,o,p)}}var OS=!1;function Iq(i,o){if(Tg=Be,i=ox(),xg(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var x=p.anchorOffset,E=p.focusNode;p=p.focusOffset;try{c.nodeType,E.nodeType}catch{c=null;break e}var P=0,oe=-1,fe=-1,je=0,tt=0,nt=i,Xe=null;t:for(;;){for(var kt;nt!==c||x!==0&&nt.nodeType!==3||(oe=P+x),nt!==E||p!==0&&nt.nodeType!==3||(fe=P+p),nt.nodeType===3&&(P+=nt.nodeValue.length),(kt=nt.firstChild)!==null;)Xe=nt,nt=kt;for(;;){if(nt===i)break t;if(Xe===c&&++je===x&&(oe=P),Xe===E&&++tt===p&&(fe=P),(kt=nt.nextSibling)!==null)break;nt=Xe,Xe=nt.parentNode}nt=kt}c=oe===-1||fe===-1?null:{start:oe,end:fe}}else c=null}c=c||{start:0,end:0}}else c=null;for(qg={focusedElem:i,selectionRange:c},Be=!1,Rt=o;Rt!==null;)if(o=Rt,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Rt=i;else for(;Rt!==null;){o=Rt;try{var At=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(At!==null){var Lt=At.memoizedProps,dn=At.memoizedState,Ie=o.stateNode,ve=Ie.getSnapshotBeforeUpdate(o.elementType===o.type?Lt:Ts(o.type,Lt),dn);Ie.__reactInternalSnapshotBeforeUpdate=ve}break;case 3:var Re=o.stateNode.containerInfo;Re.nodeType===1?Re.textContent="":Re.nodeType===9&&Re.documentElement&&Re.removeChild(Re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ot){ln(o,o.return,ot)}if(i=o.sibling,i!==null){i.return=o.return,Rt=i;break}Rt=o.return}return At=OS,OS=!1,At}function bd(i,o,c){var p=o.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var x=p=p.next;do{if((x.tag&i)===i){var E=x.destroy;x.destroy=void 0,E!==void 0&&vv(o,c,E)}x=x.next}while(x!==p)}}function ep(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&i)===i){var p=c.create;c.destroy=p()}c=c.next}while(c!==o)}}function _v(i){var o=i.ref;if(o!==null){var c=i.stateNode;switch(i.tag){case 5:i=c;break;default:i=c}typeof o=="function"?o(i):o.current=i}}function CS(i){var o=i.alternate;o!==null&&(i.alternate=null,CS(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[no],delete o[ud],delete o[Fg],delete o[uq],delete o[cq])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function TS(i){return i.tag===5||i.tag===3||i.tag===4}function qS(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||TS(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function bv(i,o,c){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(i,o):c.insertBefore(i,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(i,c)):(o=c,o.appendChild(i)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=qh));else if(p!==4&&(i=i.child,i!==null))for(bv(i,o,c),i=i.sibling;i!==null;)bv(i,o,c),i=i.sibling}function wv(i,o,c){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?c.insertBefore(i,o):c.appendChild(i);else if(p!==4&&(i=i.child,i!==null))for(wv(i,o,c),i=i.sibling;i!==null;)wv(i,o,c),i=i.sibling}var Fn=null,qs=!1;function va(i,o,c){for(c=c.child;c!==null;)RS(i,o,c),c=c.sibling}function RS(i,o,c){if(ls&&typeof ls.onCommitFiberUnmount=="function")try{ls.onCommitFiberUnmount(lu,c)}catch{}switch(c.tag){case 5:Hn||Iu(c,o);case 6:var p=Fn,x=qs;Fn=null,va(i,o,c),Fn=p,qs=x,Fn!==null&&(qs?(i=Fn,c=c.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)):Fn.removeChild(c.stateNode));break;case 18:Fn!==null&&(qs?(i=Fn,c=c.stateNode,i.nodeType===8?Pg(i.parentNode,c):i.nodeType===1&&Pg(i,c),be(i)):Pg(Fn,c.stateNode));break;case 4:p=Fn,x=qs,Fn=c.stateNode.containerInfo,qs=!0,va(i,o,c),Fn=p,qs=x;break;case 0:case 11:case 14:case 15:if(!Hn&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){x=p=p.next;do{var E=x,P=E.destroy;E=E.tag,P!==void 0&&(E&2||E&4)&&vv(c,o,P),x=x.next}while(x!==p)}va(i,o,c);break;case 1:if(!Hn&&(Iu(c,o),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(oe){ln(c,o,oe)}va(i,o,c);break;case 21:va(i,o,c);break;case 22:c.mode&1?(Hn=(p=Hn)||c.memoizedState!==null,va(i,o,c),Hn=p):va(i,o,c);break;default:va(i,o,c)}}function AS(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var c=i.stateNode;c===null&&(c=i.stateNode=new kq),o.forEach(function(p){var x=jq.bind(null,i,p);c.has(p)||(c.add(p),p.then(x,x))})}}function Rs(i,o){var c=o.deletions;if(c!==null)for(var p=0;p<c.length;p++){var x=c[p];try{var E=i,P=o,oe=P;e:for(;oe!==null;){switch(oe.tag){case 5:Fn=oe.stateNode,qs=!1;break e;case 3:Fn=oe.stateNode.containerInfo,qs=!0;break e;case 4:Fn=oe.stateNode.containerInfo,qs=!0;break e}oe=oe.return}if(Fn===null)throw Error(r(160));RS(E,P,x),Fn=null,qs=!1;var fe=x.alternate;fe!==null&&(fe.return=null),x.return=null}catch(je){ln(x,o,je)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)PS(o,i),o=o.sibling}function PS(i,o){var c=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Rs(o,i),oo(i),p&4){try{bd(3,i,i.return),ep(3,i)}catch(Lt){ln(i,i.return,Lt)}try{bd(5,i,i.return)}catch(Lt){ln(i,i.return,Lt)}}break;case 1:Rs(o,i),oo(i),p&512&&c!==null&&Iu(c,c.return);break;case 5:if(Rs(o,i),oo(i),p&512&&c!==null&&Iu(c,c.return),i.flags&32){var x=i.stateNode;try{an(x,"")}catch(Lt){ln(i,i.return,Lt)}}if(p&4&&(x=i.stateNode,x!=null)){var E=i.memoizedProps,P=c!==null?c.memoizedProps:E,oe=i.type,fe=i.updateQueue;if(i.updateQueue=null,fe!==null)try{oe==="input"&&E.type==="radio"&&E.name!=null&&ir(x,E),ua(oe,P);var je=ua(oe,E);for(P=0;P<fe.length;P+=2){var tt=fe[P],nt=fe[P+1];tt==="style"?Vt(x,nt):tt==="dangerouslySetInnerHTML"?si(x,nt):tt==="children"?an(x,nt):$(x,tt,nt,je)}switch(oe){case"input":mr(x,E);break;case"textarea":_t(x,E);break;case"select":var Xe=x._wrapperState.wasMultiple;x._wrapperState.wasMultiple=!!E.multiple;var kt=E.value;kt!=null?qe(x,!!E.multiple,kt,!1):Xe!==!!E.multiple&&(E.defaultValue!=null?qe(x,!!E.multiple,E.defaultValue,!0):qe(x,!!E.multiple,E.multiple?[]:"",!1))}x[ud]=E}catch(Lt){ln(i,i.return,Lt)}}break;case 6:if(Rs(o,i),oo(i),p&4){if(i.stateNode===null)throw Error(r(162));x=i.stateNode,E=i.memoizedProps;try{x.nodeValue=E}catch(Lt){ln(i,i.return,Lt)}}break;case 3:if(Rs(o,i),oo(i),p&4&&c!==null&&c.memoizedState.isDehydrated)try{be(o.containerInfo)}catch(Lt){ln(i,i.return,Lt)}break;case 4:Rs(o,i),oo(i);break;case 13:Rs(o,i),oo(i),x=i.child,x.flags&8192&&(E=x.memoizedState!==null,x.stateNode.isHidden=E,!E||x.alternate!==null&&x.alternate.memoizedState!==null||(Ev=en())),p&4&&AS(i);break;case 22:if(tt=c!==null&&c.memoizedState!==null,i.mode&1?(Hn=(je=Hn)||tt,Rs(o,i),Hn=je):Rs(o,i),oo(i),p&8192){if(je=i.memoizedState!==null,(i.stateNode.isHidden=je)&&!tt&&i.mode&1)for(Rt=i,tt=i.child;tt!==null;){for(nt=Rt=tt;Rt!==null;){switch(Xe=Rt,kt=Xe.child,Xe.tag){case 0:case 11:case 14:case 15:bd(4,Xe,Xe.return);break;case 1:Iu(Xe,Xe.return);var At=Xe.stateNode;if(typeof At.componentWillUnmount=="function"){p=Xe,c=Xe.return;try{o=p,At.props=o.memoizedProps,At.state=o.memoizedState,At.componentWillUnmount()}catch(Lt){ln(p,c,Lt)}}break;case 5:Iu(Xe,Xe.return);break;case 22:if(Xe.memoizedState!==null){LS(nt);continue}}kt!==null?(kt.return=Xe,Rt=kt):LS(nt)}tt=tt.sibling}e:for(tt=null,nt=i;;){if(nt.tag===5){if(tt===null){tt=nt;try{x=nt.stateNode,je?(E=x.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(oe=nt.stateNode,fe=nt.memoizedProps.style,P=fe!=null&&fe.hasOwnProperty("display")?fe.display:null,oe.style.display=An("display",P))}catch(Lt){ln(i,i.return,Lt)}}}else if(nt.tag===6){if(tt===null)try{nt.stateNode.nodeValue=je?"":nt.memoizedProps}catch(Lt){ln(i,i.return,Lt)}}else if((nt.tag!==22&&nt.tag!==23||nt.memoizedState===null||nt===i)&&nt.child!==null){nt.child.return=nt,nt=nt.child;continue}if(nt===i)break e;for(;nt.sibling===null;){if(nt.return===null||nt.return===i)break e;tt===nt&&(tt=null),nt=nt.return}tt===nt&&(tt=null),nt.sibling.return=nt.return,nt=nt.sibling}}break;case 19:Rs(o,i),oo(i),p&4&&AS(i);break;case 21:break;default:Rs(o,i),oo(i)}}function oo(i){var o=i.flags;if(o&2){try{e:{for(var c=i.return;c!==null;){if(TS(c)){var p=c;break e}c=c.return}throw Error(r(160))}switch(p.tag){case 5:var x=p.stateNode;p.flags&32&&(an(x,""),p.flags&=-33);var E=qS(i);wv(i,E,x);break;case 3:case 4:var P=p.stateNode.containerInfo,oe=qS(i);bv(i,oe,P);break;default:throw Error(r(161))}}catch(fe){ln(i,i.return,fe)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function Oq(i,o,c){Rt=i,FS(i)}function FS(i,o,c){for(var p=(i.mode&1)!==0;Rt!==null;){var x=Rt,E=x.child;if(x.tag===22&&p){var P=x.memoizedState!==null||Xh;if(!P){var oe=x.alternate,fe=oe!==null&&oe.memoizedState!==null||Hn;oe=Xh;var je=Hn;if(Xh=P,(Hn=fe)&&!je)for(Rt=x;Rt!==null;)P=Rt,fe=P.child,P.tag===22&&P.memoizedState!==null?DS(x):fe!==null?(fe.return=P,Rt=fe):DS(x);for(;E!==null;)Rt=E,FS(E),E=E.sibling;Rt=x,Xh=oe,Hn=je}jS(i)}else x.subtreeFlags&8772&&E!==null?(E.return=x,Rt=E):jS(i)}}function jS(i){for(;Rt!==null;){var o=Rt;if(o.flags&8772){var c=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:Hn||ep(5,o);break;case 1:var p=o.stateNode;if(o.flags&4&&!Hn)if(c===null)p.componentDidMount();else{var x=o.elementType===o.type?c.memoizedProps:Ts(o.type,c.memoizedProps);p.componentDidUpdate(x,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var E=o.updateQueue;E!==null&&Lx(o,E,p);break;case 3:var P=o.updateQueue;if(P!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}Lx(o,P,c)}break;case 5:var oe=o.stateNode;if(c===null&&o.flags&4){c=oe;var fe=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":fe.autoFocus&&c.focus();break;case"img":fe.src&&(c.src=fe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var je=o.alternate;if(je!==null){var tt=je.memoizedState;if(tt!==null){var nt=tt.dehydrated;nt!==null&&be(nt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Hn||o.flags&512&&_v(o)}catch(Xe){ln(o,o.return,Xe)}}if(o===i){Rt=null;break}if(c=o.sibling,c!==null){c.return=o.return,Rt=c;break}Rt=o.return}}function LS(i){for(;Rt!==null;){var o=Rt;if(o===i){Rt=null;break}var c=o.sibling;if(c!==null){c.return=o.return,Rt=c;break}Rt=o.return}}function DS(i){for(;Rt!==null;){var o=Rt;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{ep(4,o)}catch(fe){ln(o,c,fe)}break;case 1:var p=o.stateNode;if(typeof p.componentDidMount=="function"){var x=o.return;try{p.componentDidMount()}catch(fe){ln(o,x,fe)}}var E=o.return;try{_v(o)}catch(fe){ln(o,E,fe)}break;case 5:var P=o.return;try{_v(o)}catch(fe){ln(o,P,fe)}}}catch(fe){ln(o,o.return,fe)}if(o===i){Rt=null;break}var oe=o.sibling;if(oe!==null){oe.return=o.return,Rt=oe;break}Rt=o.return}}var Cq=Math.ceil,tp=V.ReactCurrentDispatcher,xv=V.ReactCurrentOwner,ps=V.ReactCurrentBatchConfig,vr=0,Cn=null,vn=null,jn=0,Li=0,Ou=ha(0),Nn=0,wd=null,El=0,rp=0,Sv=0,xd=null,xi=null,Ev=0,Cu=1/0,Po=null,np=!1,Nv=null,_a=null,ip=!1,ba=null,sp=0,Sd=0,kv=null,op=-1,ap=0;function ai(){return vr&6?en():op!==-1?op:op=en()}function wa(i){return i.mode&1?vr&2&&jn!==0?jn&-jn:fq.transition!==null?(ap===0&&(ap=xh()),ap):(i=xr,i!==0||(i=window.event,i=i===void 0?16:he(i.type)),i):1}function As(i,o,c,p){if(50<Sd)throw Sd=0,kv=null,Error(r(185));ml(i,c,p),(!(vr&2)||i!==Cn)&&(i===Cn&&(!(vr&2)&&(rp|=c),Nn===4&&xa(i,jn)),Si(i,p),c===1&&vr===0&&!(o.mode&1)&&(Cu=en()+500,Fh&&ma()))}function Si(i,o){var c=i.callbackNode;pg(i,o);var p=cu(i,i===Cn?jn:0);if(p===0)c!==null&&Hc(c),i.callbackNode=null,i.callbackPriority=0;else if(o=p&-p,i.callbackPriority!==o){if(c!=null&&Hc(c),o===1)i.tag===0?dq(BS.bind(null,i)):Nx(BS.bind(null,i)),aq(function(){!(vr&6)&&ma()}),c=null;else{switch(Sh(p)){case 1:c=Qc;break;case 4:c=bh;break;case 16:c=au;break;case 0x20000000:c=wh;break;default:c=au}c=KS(c,MS.bind(null,i))}i.callbackPriority=o,i.callbackNode=c}}function MS(i,o){if(op=-1,ap=0,vr&6)throw Error(r(327));var c=i.callbackNode;if(Tu()&&i.callbackNode!==c)return null;var p=cu(i,i===Cn?jn:0);if(p===0)return null;if(p&30||p&i.expiredLanes||o)o=lp(i,p);else{o=p;var x=vr;vr|=2;var E=WS();(Cn!==i||jn!==o)&&(Po=null,Cu=en()+500,kl(i,o));do try{Rq();break}catch(oe){$S(i,oe)}while(!0);Ug(),tp.current=E,vr=x,vn!==null?o=0:(Cn=null,jn=0,o=Nn)}if(o!==0){if(o===2&&(x=Kc(i),x!==0&&(p=x,o=Iv(i,x))),o===1)throw c=wd,kl(i,0),xa(i,p),Si(i,en()),c;if(o===6)xa(i,p);else{if(x=i.current.alternate,!(p&30)&&!Tq(x)&&(o=lp(i,p),o===2&&(E=Kc(i),E!==0&&(p=E,o=Iv(i,E))),o===1))throw c=wd,kl(i,0),xa(i,p),Si(i,en()),c;switch(i.finishedWork=x,i.finishedLanes=p,o){case 0:case 1:throw Error(r(345));case 2:Il(i,xi,Po);break;case 3:if(xa(i,p),(p&0x7c00000)===p&&(o=Ev+500-en(),10<o)){if(cu(i,0)!==0)break;if(x=i.suspendedLanes,(x&p)!==p){ai(),i.pingedLanes|=i.suspendedLanes&x;break}i.timeoutHandle=Ag(Il.bind(null,i,xi,Po),o);break}Il(i,xi,Po);break;case 4:if(xa(i,p),(p&4194240)===p)break;for(o=i.eventTimes,x=-1;0<p;){var P=31-vi(p);E=1<<P,P=o[P],P>x&&(x=P),p&=~E}if(p=x,p=en()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*Cq(p/1960))-p,10<p){i.timeoutHandle=Ag(Il.bind(null,i,xi,Po),p);break}Il(i,xi,Po);break;case 5:Il(i,xi,Po);break;default:throw Error(r(329))}}}return Si(i,en()),i.callbackNode===c?MS.bind(null,i):null}function Iv(i,o){var c=xd;return i.current.memoizedState.isDehydrated&&(kl(i,o).flags|=256),i=lp(i,o),i!==2&&(o=xi,xi=c,o!==null&&Ov(o)),i}function Ov(i){xi===null?xi=i:xi.push.apply(xi,i)}function Tq(i){for(var o=i;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var x=c[p],E=x.getSnapshot;x=x.value;try{if(!Os(E(),x))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function xa(i,o){for(o&=~Sv,o&=~rp,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var c=31-vi(o),p=1<<c;i[c]=-1,o&=~p}}function BS(i){if(vr&6)throw Error(r(327));Tu();var o=cu(i,0);if(!(o&1))return Si(i,en()),null;var c=lp(i,o);if(i.tag!==0&&c===2){var p=Kc(i);p!==0&&(o=p,c=Iv(i,p))}if(c===1)throw c=wd,kl(i,0),xa(i,o),Si(i,en()),c;if(c===6)throw Error(r(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Il(i,xi,Po),Si(i,en()),null}function Cv(i,o){var c=vr;vr|=1;try{return i(o)}finally{vr=c,vr===0&&(Cu=en()+500,Fh&&ma())}}function Nl(i){ba!==null&&ba.tag===0&&!(vr&6)&&Tu();var o=vr;vr|=1;var c=ps.transition,p=xr;try{if(ps.transition=null,xr=1,i)return i()}finally{xr=p,ps.transition=c,vr=o,!(vr&6)&&ma()}}function Tv(){Li=Ou.current,Qr(Ou)}function kl(i,o){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;if(c!==-1&&(i.timeoutHandle=-1,oq(c)),vn!==null)for(c=vn.return;c!==null;){var p=c;switch(Mg(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Ah();break;case 3:Nu(),Qr(_i),Qr(zn),Yg();break;case 5:Jg(p);break;case 4:Nu();break;case 13:Qr(rn);break;case 19:Qr(rn);break;case 10:Vg(p.type._context);break;case 22:case 23:Tv()}c=c.return}if(Cn=i,vn=i=Sa(i.current,null),jn=Li=o,Nn=0,wd=null,Sv=rp=El=0,xi=xd=null,wl!==null){for(o=0;o<wl.length;o++)if(c=wl[o],p=c.interleaved,p!==null){c.interleaved=null;var x=p.next,E=c.pending;if(E!==null){var P=E.next;E.next=x,p.next=P}c.pending=p}wl=null}return i}function $S(i,o){do{var c=vn;try{if(Ug(),Vh.current=Gh,Hh){for(var p=nn.memoizedState;p!==null;){var x=p.queue;x!==null&&(x.pending=null),p=p.next}Hh=!1}if(Sl=0,On=En=nn=null,md=!1,yd=0,xv.current=null,c===null||c.return===null){Nn=1,wd=o,vn=null;break}e:{var E=i,P=c.return,oe=c,fe=o;if(o=jn,oe.flags|=32768,fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var je=fe,tt=oe,nt=tt.tag;if(!(tt.mode&1)&&(nt===0||nt===11||nt===15)){var Xe=tt.alternate;Xe?(tt.updateQueue=Xe.updateQueue,tt.memoizedState=Xe.memoizedState,tt.lanes=Xe.lanes):(tt.updateQueue=null,tt.memoizedState=null)}var kt=fS(P);if(kt!==null){kt.flags&=-257,hS(kt,P,oe,E,o),kt.mode&1&&dS(E,je,o),o=kt,fe=je;var At=o.updateQueue;if(At===null){var Lt=new Set;Lt.add(fe),o.updateQueue=Lt}else At.add(fe);break e}else{if(!(o&1)){dS(E,je,o),qv();break e}fe=Error(r(426))}}else if(Gr&&oe.mode&1){var dn=fS(P);if(dn!==null){!(dn.flags&65536)&&(dn.flags|=256),hS(dn,P,oe,E,o),Wg(ku(fe,oe));break e}}E=fe=ku(fe,oe),Nn!==4&&(Nn=2),xd===null?xd=[E]:xd.push(E),E=P;do{switch(E.tag){case 3:E.flags|=65536,o&=-o,E.lanes|=o;var Ie=uS(E,fe,o);jx(E,Ie);break e;case 1:oe=fe;var ve=E.type,Re=E.stateNode;if(!(E.flags&128)&&(typeof ve.getDerivedStateFromError=="function"||Re!==null&&typeof Re.componentDidCatch=="function"&&(_a===null||!_a.has(Re)))){E.flags|=65536,o&=-o,E.lanes|=o;var ot=cS(E,oe,o);jx(E,ot);break e}}E=E.return}while(E!==null)}US(c)}catch(Dt){o=Dt,vn===c&&c!==null&&(vn=c=c.return);continue}break}while(!0)}function WS(){var i=tp.current;return tp.current=Gh,i===null?Gh:i}function qv(){(Nn===0||Nn===3||Nn===2)&&(Nn=4),Cn===null||!(El&0xfffffff)&&!(rp&0xfffffff)||xa(Cn,jn)}function lp(i,o){var c=vr;vr|=2;var p=WS();(Cn!==i||jn!==o)&&(Po=null,kl(i,o));do try{qq();break}catch(x){$S(i,x)}while(!0);if(Ug(),vr=c,tp.current=p,vn!==null)throw Error(r(261));return Cn=null,jn=0,Nn}function qq(){for(;vn!==null;)zS(vn)}function Rq(){for(;vn!==null&&!sg();)zS(vn)}function zS(i){var o=QS(i.alternate,i,Li);i.memoizedProps=i.pendingProps,o===null?US(i):vn=o,xv.current=null}function US(i){var o=i;do{var c=o.alternate;if(i=o.return,o.flags&32768){if(c=Nq(c,o),c!==null){c.flags&=32767,vn=c;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Nn=6,vn=null;return}}else if(c=Eq(c,o,Li),c!==null){vn=c;return}if(o=o.sibling,o!==null){vn=o;return}vn=o=i}while(o!==null);Nn===0&&(Nn=5)}function Il(i,o,c){var p=xr,x=ps.transition;try{ps.transition=null,xr=1,Aq(i,o,c,p)}finally{ps.transition=x,xr=p}return null}function Aq(i,o,c,p){do Tu();while(ba!==null);if(vr&6)throw Error(r(327));c=i.finishedWork;var x=i.finishedLanes;if(c===null)return null;if(i.finishedWork=null,i.finishedLanes=0,c===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0;var E=c.lanes|c.childLanes;if(mg(i,E),i===Cn&&(vn=Cn=null,jn=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||ip||(ip=!0,KS(au,function(){return Tu(),null})),E=(c.flags&15990)!==0,c.subtreeFlags&15990||E){E=ps.transition,ps.transition=null;var P=xr;xr=1;var oe=vr;vr|=4,xv.current=null,Iq(i,c),PS(c,i),XT(qg),Be=!!Tg,qg=Tg=null,i.current=c,Oq(c),og(),vr=oe,xr=P,ps.transition=E}else i.current=c;if(ip&&(ip=!1,ba=i,sp=x),E=i.pendingLanes,E===0&&(_a=null),ug(c.stateNode),Si(i,en()),o!==null)for(p=i.onRecoverableError,c=0;c<o.length;c++)x=o[c],p(x.value,{componentStack:x.stack,digest:x.digest});if(np)throw np=!1,i=Nv,Nv=null,i;return sp&1&&i.tag!==0&&Tu(),E=i.pendingLanes,E&1?i===kv?Sd++:(Sd=0,kv=i):Sd=0,ma(),null}function Tu(){if(ba!==null){var i=Sh(sp),o=ps.transition,c=xr;try{if(ps.transition=null,xr=16>i?16:i,ba===null)var p=!1;else{if(i=ba,ba=null,sp=0,vr&6)throw Error(r(331));var x=vr;for(vr|=4,Rt=i.current;Rt!==null;){var E=Rt,P=E.child;if(Rt.flags&16){var oe=E.deletions;if(oe!==null){for(var fe=0;fe<oe.length;fe++){var je=oe[fe];for(Rt=je;Rt!==null;){var tt=Rt;switch(tt.tag){case 0:case 11:case 15:bd(8,tt,E)}var nt=tt.child;if(nt!==null)nt.return=tt,Rt=nt;else for(;Rt!==null;){tt=Rt;var Xe=tt.sibling,kt=tt.return;if(CS(tt),tt===je){Rt=null;break}if(Xe!==null){Xe.return=kt,Rt=Xe;break}Rt=kt}}}var At=E.alternate;if(At!==null){var Lt=At.child;if(Lt!==null){At.child=null;do{var dn=Lt.sibling;Lt.sibling=null,Lt=dn}while(Lt!==null)}}Rt=E}}if(E.subtreeFlags&2064&&P!==null)P.return=E,Rt=P;else e:for(;Rt!==null;){if(E=Rt,E.flags&2048)switch(E.tag){case 0:case 11:case 15:bd(9,E,E.return)}var Ie=E.sibling;if(Ie!==null){Ie.return=E.return,Rt=Ie;break e}Rt=E.return}}var ve=i.current;for(Rt=ve;Rt!==null;){P=Rt;var Re=P.child;if(P.subtreeFlags&2064&&Re!==null)Re.return=P,Rt=Re;else e:for(P=ve;Rt!==null;){if(oe=Rt,oe.flags&2048)try{switch(oe.tag){case 0:case 11:case 15:ep(9,oe)}}catch(Dt){ln(oe,oe.return,Dt)}if(oe===P){Rt=null;break e}var ot=oe.sibling;if(ot!==null){ot.return=oe.return,Rt=ot;break e}Rt=oe.return}}if(vr=x,ma(),ls&&typeof ls.onPostCommitFiberRoot=="function")try{ls.onPostCommitFiberRoot(lu,i)}catch{}p=!0}return p}finally{xr=c,ps.transition=o}}return!1}function VS(i,o,c){o=ku(c,o),o=uS(i,o,1),i=ga(i,o,1),o=ai(),i!==null&&(ml(i,1,o),Si(i,o))}function ln(i,o,c){if(i.tag===3)VS(i,i,c);else for(;o!==null;){if(o.tag===3){VS(o,i,c);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(_a===null||!_a.has(p))){i=ku(c,i),i=cS(o,i,1),o=ga(o,i,1),i=ai(),o!==null&&(ml(o,1,i),Si(o,i));break}}o=o.return}}function Pq(i,o,c){var p=i.pingCache;p!==null&&p.delete(o),o=ai(),i.pingedLanes|=i.suspendedLanes&c,Cn===i&&(jn&c)===c&&(Nn===4||Nn===3&&(jn&0x7c00000)===jn&&500>en()-Ev?kl(i,0):Sv|=c),Si(i,o)}function HS(i,o){o===0&&(i.mode&1?(o=uu,uu<<=1,!(uu&0x7c00000)&&(uu=4194304)):o=1);var c=ai();i=qo(i,o),i!==null&&(ml(i,o,c),Si(i,c))}function Fq(i){var o=i.memoizedState,c=0;o!==null&&(c=o.retryLane),HS(i,c)}function jq(i,o){var c=0;switch(i.tag){case 13:var p=i.stateNode,x=i.memoizedState;x!==null&&(c=x.retryLane);break;case 19:p=i.stateNode;break;default:throw Error(r(314))}p!==null&&p.delete(o),HS(i,c)}var QS;QS=function(i,o,c){if(i!==null)if(i.memoizedProps!==o.pendingProps||_i.current)wi=!0;else{if(!(i.lanes&c)&&!(o.flags&128))return wi=!1,Sq(i,o,c);wi=!!(i.flags&131072)}else wi=!1,Gr&&o.flags&1048576&&kx(o,Lh,o.index);switch(o.lanes=0,o.tag){case 2:var p=o.type;Yh(i,o),i=o.pendingProps;var x=vu(o,zn.current);Eu(o,c),x=tv(null,o,p,i,x,c);var E=rv();return o.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,bi(p)?(E=!0,Ph(o)):E=!1,o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Kg(o),x.updater=Jh,o.stateNode=x,x._reactInternals=o,lv(o,p,i,c),o=fv(null,o,p,!0,E,c)):(o.tag=0,Gr&&E&&Dg(o),oi(null,o,x,c),o=o.child),o;case 16:p=o.elementType;e:{switch(Yh(i,o),i=o.pendingProps,x=p._init,p=x(p._payload),o.type=p,x=o.tag=Dq(p),i=Ts(p,i),x){case 0:o=dv(null,o,p,i,c);break e;case 1:o=_S(null,o,p,i,c);break e;case 11:o=pS(null,o,p,i,c);break e;case 14:o=mS(null,o,p,Ts(p.type,i),c);break e}throw Error(r(306,p,""))}return o;case 0:return p=o.type,x=o.pendingProps,x=o.elementType===p?x:Ts(p,x),dv(i,o,p,x,c);case 1:return p=o.type,x=o.pendingProps,x=o.elementType===p?x:Ts(p,x),_S(i,o,p,x,c);case 3:e:{if(bS(o),i===null)throw Error(r(387));p=o.pendingProps,E=o.memoizedState,x=E.element,Fx(i,o),zh(o,p,null,c);var P=o.memoizedState;if(p=P.element,E.isDehydrated)if(E={element:p,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},o.updateQueue.baseState=E,o.memoizedState=E,o.flags&256){x=ku(Error(r(423)),o),o=wS(i,o,p,c,x);break e}else if(p!==x){x=ku(Error(r(424)),o),o=wS(i,o,p,c,x);break e}else for(ji=fa(o.stateNode.containerInfo.firstChild),Fi=o,Gr=!0,Cs=null,c=Ax(o,null,p,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(wu(),p===x){o=Ao(i,o,c);break e}oi(i,o,p,c)}o=o.child}return o;case 5:return Dx(o),i===null&&$g(o),p=o.type,x=o.pendingProps,E=i!==null?i.memoizedProps:null,P=x.children,Rg(p,x)?P=null:E!==null&&Rg(p,E)&&(o.flags|=32),vS(i,o),oi(i,o,P,c),o.child;case 6:return i===null&&$g(o),null;case 13:return xS(i,o,c);case 4:return Gg(o,o.stateNode.containerInfo),p=o.pendingProps,i===null?o.child=xu(o,null,p,c):oi(i,o,p,c),o.child;case 11:return p=o.type,x=o.pendingProps,x=o.elementType===p?x:Ts(p,x),pS(i,o,p,x,c);case 7:return oi(i,o,o.pendingProps,c),o.child;case 8:return oi(i,o,o.pendingProps.children,c),o.child;case 12:return oi(i,o,o.pendingProps.children,c),o.child;case 10:e:{if(p=o.type._context,x=o.pendingProps,E=o.memoizedProps,P=x.value,Wr(Bh,p._currentValue),p._currentValue=P,E!==null)if(Os(E.value,P)){if(E.children===x.children&&!_i.current){o=Ao(i,o,c);break e}}else for(E=o.child,E!==null&&(E.return=o);E!==null;){var oe=E.dependencies;if(oe!==null){P=E.child;for(var fe=oe.firstContext;fe!==null;){if(fe.context===p){if(E.tag===1){fe=Ro(-1,c&-c),fe.tag=2;var je=E.updateQueue;if(je!==null){je=je.shared;var tt=je.pending;tt===null?fe.next=fe:(fe.next=tt.next,tt.next=fe),je.pending=fe}}E.lanes|=c,fe=E.alternate,fe!==null&&(fe.lanes|=c),Hg(E.return,c,o),oe.lanes|=c;break}fe=fe.next}}else if(E.tag===10)P=E.type===o.type?null:E.child;else if(E.tag===18){if(P=E.return,P===null)throw Error(r(341));P.lanes|=c,oe=P.alternate,oe!==null&&(oe.lanes|=c),Hg(P,c,o),P=E.sibling}else P=E.child;if(P!==null)P.return=E;else for(P=E;P!==null;){if(P===o){P=null;break}if(E=P.sibling,E!==null){E.return=P.return,P=E;break}P=P.return}E=P}oi(i,o,x.children,c),o=o.child}return o;case 9:return x=o.type,p=o.pendingProps.children,Eu(o,c),x=fs(x),p=p(x),o.flags|=1,oi(i,o,p,c),o.child;case 14:return p=o.type,x=Ts(p,o.pendingProps),x=Ts(p.type,x),mS(i,o,p,x,c);case 15:return yS(i,o,o.type,o.pendingProps,c);case 17:return p=o.type,x=o.pendingProps,x=o.elementType===p?x:Ts(p,x),Yh(i,o),o.tag=1,bi(p)?(i=!0,Ph(o)):i=!1,Eu(o,c),aS(o,p,x),lv(o,p,x,c),fv(null,o,p,!0,i,c);case 19:return ES(i,o,c);case 22:return gS(i,o,c)}throw Error(r(156,o.tag))};function KS(i,o){return _h(i,o)}function Lq(i,o,c,p){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ms(i,o,c,p){return new Lq(i,o,c,p)}function Rv(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Dq(i){if(typeof i=="function")return Rv(i)?1:0;if(i!=null){if(i=i.$$typeof,i===se)return 11;if(i===Te)return 14}return 2}function Sa(i,o){var c=i.alternate;return c===null?(c=ms(i.tag,o,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=o,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&0xe00000,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,o=i.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c}function up(i,o,c,p,x,E){var P=2;if(p=i,typeof i=="function")Rv(i)&&(P=1);else if(typeof i=="string")P=5;else e:switch(i){case Z:return Ol(c.children,x,E,o);case ie:P=8,x|=8;break;case U:return i=ms(12,c,o,x|2),i.elementType=U,i.lanes=E,i;case Y:return i=ms(13,c,o,x),i.elementType=Y,i.lanes=E,i;case me:return i=ms(19,c,o,x),i.elementType=me,i.lanes=E,i;case Fe:return cp(c,x,E,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case ne:P=10;break e;case M:P=9;break e;case se:P=11;break e;case Te:P=14;break e;case Ce:P=16,p=null;break e}throw Error(r(130,i==null?i:typeof i,""))}return o=ms(P,c,o,x),o.elementType=i,o.type=p,o.lanes=E,o}function Ol(i,o,c,p){return i=ms(7,i,p,o),i.lanes=c,i}function cp(i,o,c,p){return i=ms(22,i,p,o),i.elementType=Fe,i.lanes=c,i.stateNode={isHidden:!1},i}function Av(i,o,c){return i=ms(6,i,null,o),i.lanes=c,i}function Pv(i,o,c){return o=ms(4,i.children!==null?i.children:[],i.key,o),o.lanes=c,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function Mq(i,o,c,p,x){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gc(0),this.expirationTimes=Gc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gc(0),this.identifierPrefix=p,this.onRecoverableError=x,this.mutableSourceEagerHydrationData=null}function Fv(i,o,c,p,x,E,P,oe,fe){return i=new Mq(i,o,c,oe,fe),o===1?(o=1,E===!0&&(o|=8)):o=0,E=ms(3,null,null,o),i.current=E,E.stateNode=i,E.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kg(E),i}function Bq(i,o,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:p==null?null:""+p,children:i,containerInfo:o,implementation:c}}function GS(i){if(!i)return pa;i=i._reactInternals;e:{if(No(i)!==i||i.tag!==1)throw Error(r(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(bi(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(r(171))}if(i.tag===1){var c=i.type;if(bi(c))return Sx(i,c,o)}return o}function JS(i,o,c,p,x,E,P,oe,fe){return i=Fv(c,p,!0,i,x,E,P,oe,fe),i.context=GS(null),c=i.current,p=ai(),x=wa(c),E=Ro(p,x),E.callback=o??null,ga(c,E,x),i.current.lanes=x,ml(i,x,p),Si(i,p),i}function dp(i,o,c,p){var x=o.current,E=ai(),P=wa(x);return c=GS(c),o.context===null?o.context=c:o.pendingContext=c,o=Ro(E,P),o.payload={element:i},p=p===void 0?null:p,p!==null&&(o.callback=p),i=ga(x,o,P),i!==null&&(As(i,x,P,E),Wh(i,x,P)),P}function fp(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function ZS(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<o?c:o}}function jv(i,o){ZS(i,o),(i=i.alternate)&&ZS(i,o)}function $q(){return null}var YS=typeof reportError=="function"?reportError:function(i){console.error(i)};function Lv(i){this._internalRoot=i}hp.prototype.render=Lv.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));dp(i,o,null,null)},hp.prototype.unmount=Lv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Nl(function(){dp(null,i,null,null)}),o[Io]=null}};function hp(i){this._internalRoot=i}hp.prototype.unstable_scheduleHydration=function(i){if(i){var o=yl();i={blockedOn:null,target:i,priority:o};for(var c=0;c<re.length&&o!==0&&o<re[c].priority;c++);re.splice(c,0,i),c===0&&Ae(i)}};function Dv(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function pp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function XS(){}function Wq(i,o,c,p,x){if(x){if(typeof p=="function"){var E=p;p=function(){var je=fp(P);E.call(je)}}var P=JS(o,p,i,0,null,!1,!1,"",XS);return i._reactRootContainer=P,i[Io]=P.current,ad(i.nodeType===8?i.parentNode:i),Nl(),P}for(;x=i.lastChild;)i.removeChild(x);if(typeof p=="function"){var oe=p;p=function(){var je=fp(fe);oe.call(je)}}var fe=Fv(i,0,!1,null,null,!1,!1,"",XS);return i._reactRootContainer=fe,i[Io]=fe.current,ad(i.nodeType===8?i.parentNode:i),Nl(function(){dp(o,fe,c,p)}),fe}function mp(i,o,c,p,x){var E=c._reactRootContainer;if(E){var P=E;if(typeof x=="function"){var oe=x;x=function(){var fe=fp(P);oe.call(fe)}}dp(o,P,i,x)}else P=Wq(c,o,i,x,p);return fp(P)}Zc=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var c=Is(o.pendingLanes);c!==0&&(Jc(o,c|1),Si(o,en()),!(vr&6)&&(Cu=en()+500,ma()))}break;case 13:Nl(function(){var p=qo(i,1);if(p!==null){var x=ai();As(p,i,1,x)}}),jv(i,1)}},te=function(i){if(i.tag===13){var o=qo(i,0x8000000);if(o!==null){var c=ai();As(o,i,0x8000000,c)}jv(i,0x8000000)}},Yc=function(i){if(i.tag===13){var o=wa(i),c=qo(i,o);if(c!==null){var p=ai();As(c,i,o,p)}jv(i,o)}},yl=function(){return xr},Xc=function(i,o){var c=xr;try{return xr=i,o()}finally{xr=c}},zc=function(i,o,c){switch(o){case"input":if(mr(i,c),o=c.name,c.type==="radio"&&o!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var p=c[o];if(p!==i&&p.form===i.form){var x=Rh(p);if(!x)throw Error(r(90));Tt(p),mr(p,x)}}}break;case"textarea":_t(i,c);break;case"select":o=c.value,o!=null&&qe(i,!!c.multiple,o,!1)}},hh=Cv,ph=Nl;var zq={usingClientEntryPoint:!1,Events:[cd,yu,Rh,rr,fh,Cv]},Ed={findFiberByHostInstance:gl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Uq={bundleType:Ed.bundleType,version:Ed.version,rendererPackageName:Ed.rendererPackageName,rendererConfig:Ed.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:V.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=gh(i),i===null?null:i.stateNode},findFiberByHostInstance:Ed.findFiberByHostInstance||$q,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yp.isDisabled&&yp.supportsFiber)try{lu=yp.inject(Uq),ls=yp}catch{}}return Ei.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zq,Ei.createPortal=function(i,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dv(o))throw Error(r(200));return Bq(i,o,null,c)},Ei.createRoot=function(i,o){if(!Dv(i))throw Error(r(299));var c=!1,p="",x=YS;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(x=o.onRecoverableError)),o=Fv(i,1,!1,null,null,c,!1,p,x),i[Io]=o.current,ad(i.nodeType===8?i.parentNode:i),new Lv(o)},Ei.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=gh(o),i=i===null?null:i.stateNode,i},Ei.flushSync=function(i){return Nl(i)},Ei.hydrate=function(i,o,c){if(!pp(o))throw Error(r(200));return mp(null,i,o,!0,c)},Ei.hydrateRoot=function(i,o,c){if(!Dv(i))throw Error(r(405));var p=c!=null&&c.hydratedSources||null,x=!1,E="",P=YS;if(c!=null&&(c.unstable_strictMode===!0&&(x=!0),c.identifierPrefix!==void 0&&(E=c.identifierPrefix),c.onRecoverableError!==void 0&&(P=c.onRecoverableError)),o=JS(o,null,i,1,c??null,x,!1,E,P),i[Io]=o.current,ad(i),p)for(i=0;i<p.length;i++)c=p[i],x=c._getVersion,x=x(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,x]:o.mutableSourceEagerHydrationData.push(c,x);return new hp(o)},Ei.render=function(i,o,c){if(!pp(o))throw Error(r(200));return mp(null,i,o,!1,c)},Ei.unmountComponentAtNode=function(i){if(!pp(i))throw Error(r(40));return i._reactRootContainer?(Nl(function(){mp(null,null,i,!1,function(){i._reactRootContainer=null,i[Io]=null})}),!0):!1},Ei.unstable_batchedUpdates=Cv,Ei.unstable_renderSubtreeIntoContainer=function(i,o,c,p){if(!pp(c))throw Error(r(200));if(i==null||i._reactInternals===void 0)throw Error(r(38));return mp(i,o,c,!1,p)},Ei.version="18.3.1-next-f1338f8080-20240426",Ei}var qE;function OI(){if(qE)return Jv.exports;qE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Jv.exports=EA(),Jv.exports}var Ow=OI();const NA="Error preloading route! ";function kA(t,e){const r=Ai(),[n,s]=Q.useState(!1),a=Q.useRef(!1),l=ZR(e),{activeProps:u=()=>({className:"active"}),inactiveProps:d=()=>({}),activeOptions:m,to:g,preload:w,preloadDelay:N,hashScrollIntoView:k,replace:O,startTransition:C,resetScroll:A,viewTransition:D,children:j,target:$,disabled:V,style:G,className:B,onClick:Z,onFocus:ie,onMouseEnter:U,onMouseLeave:ne,onTouchStart:M,ignoreBlocker:se,...Y}=t,{params:me,search:Te,hash:Ce,state:Fe,mask:_e,reloadDocument:ye,...Ne}=Y,H=Q.useMemo(()=>{try{return new URL(`${g}`),"external"}catch{}return"internal"},[g]),Se=hi({select:ge=>ge.location.search,structuralSharing:!0});t={from:Ka({strict:!1,select:ge=>ge.pathname}),...t};const at=Q.useMemo(()=>r.buildLocation(t),[r,t,Se]),dt=Q.useMemo(()=>t.reloadDocument?!1:w??r.options.defaultPreload,[r.options.defaultPreload,w,t.reloadDocument]),mt=N??r.options.defaultPreloadDelay??0,ft=hi({select:ge=>{if(m?.exact){if(!XR(ge.location.pathname,at.pathname,r.basepath))return!1}else{const qe=bm(ge.location.pathname,r.basepath).split("/");if(!bm(at.pathname,r.basepath).split("/").every((_t,Bt)=>_t===qe[Bt]))return!1}return(m?.includeSearch??!0)&&!Xu(ge.location.search,at.search,{partial:!m?.exact,ignoreUndefined:!m?.explicitUndefined})?!1:m?.includeHash?ge.location.hash===at.hash:!0}}),gt=Q.useCallback(()=>{r.preloadRoute(t).catch(ge=>{console.warn(ge),console.warn(NA)})},[t,r]),Pt=Q.useCallback(ge=>{ge?.isIntersecting&&gt()},[gt]);if(JR(l,Pt,{rootMargin:"100px"},{disabled:!!V||dt!=="viewport"}),Pd(()=>{a.current||!V&&dt==="render"&&(gt(),a.current=!0)},[V,gt,dt]),H==="external")return{...Ne,ref:l,type:H,href:g,...j&&{children:j},...$&&{target:$},...V&&{disabled:V},...G&&{style:G},...B&&{className:B},...Z&&{onClick:Z},...ie&&{onFocus:ie},...U&&{onMouseEnter:U},...ne&&{onMouseLeave:ne},...M&&{onTouchStart:M}};const vt=ge=>{if(!V&&!OA(ge)&&!ge.defaultPrevented&&(!$||$==="_self")&&ge.button===0){ge.preventDefault(),Ow.flushSync(()=>{s(!0)});const qe=r.subscribe("onResolved",()=>{qe(),s(!1)});return r.navigate({...t,replace:O,resetScroll:A,hashScrollIntoView:k,startTransition:C,viewTransition:D,ignoreBlocker:se})}},yt=ge=>{V||dt&&gt()},Tt=yt,Ot=ge=>{if(V)return;const qe=ge.target||{};if(dt){if(qe.preloadTimeout)return;qe.preloadTimeout=setTimeout(()=>{qe.preloadTimeout=null,gt()},mt)}},er=ge=>{if(V)return;const qe=ge.target||{};qe.preloadTimeout&&(clearTimeout(qe.preloadTimeout),qe.preloadTimeout=null)},Zt=ge=>qe=>{var De;(De=qe.persist)==null||De.call(qe),ge.filter(Boolean).forEach(Ge=>{qe.defaultPrevented||Ge(qe)})},ir=ft?Ll(u,{})??{}:{},mr=ft?{}:Ll(d,{}),ae=[B,ir.className,mr.className].filter(Boolean).join(" "),ue={...G,...ir.style,...mr.style};return{...Ne,...ir,...mr,href:V?void 0:at.maskedLocation?r.history.createHref(at.maskedLocation.href):r.history.createHref(at.href),ref:l,onClick:Zt([Z,vt]),onFocus:Zt([ie,yt]),onMouseEnter:Zt([U,Ot]),onMouseLeave:Zt([ne,er]),onTouchStart:Zt([M,Tt]),disabled:!!V,target:$,...Object.keys(ue).length&&{style:ue},...ae&&{className:ae},...V&&{role:"link","aria-disabled":!0},...ft&&{"data-status":"active","aria-current":"page"},...n&&{"data-transitioning":"transitioning"}}}function CI(t){return Q.forwardRef(function(r,n){return y.jsx(IA,{...r,_asChild:t,ref:n})})}const IA=Q.forwardRef((t,e)=>{const{_asChild:r,...n}=t,{type:s,ref:a,...l}=kA(n,e),u=typeof n.children=="function"?n.children({isActive:l["data-status"]==="active"}):n.children;return typeof r>"u"&&delete l.disabled,Q.createElement(r||"a",{...l,ref:a},u)});function OA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function CA(){const t=Ai(),e=Q.useRef({router:t,mounted:!1}),r=hi({select:({isLoading:w})=>w}),[n,s]=Q.useState(!1),a=hi({select:w=>w.matches.some(N=>N.status==="pending"),structuralSharing:!0}),l=Qv(r),u=r||n||a,d=Qv(u),m=r||a,g=Qv(m);return t.isServer||(t.startReactTransition=w=>{s(!0),Q.startTransition(()=>{w(),s(!1)})}),Q.useEffect(()=>{const w=t.history.subscribe(t.load),N=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return Dl(t.latestLocation.href)!==Dl(N.href)&&t.commitLocation({...N,replace:!0}),()=>{w()}},[t,t.history]),Pd(()=>{var w;if(typeof window<"u"&&((w=window.__TSR__)!=null&&w.dehydrated)||e.current.router===t&&e.current.mounted)return;e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(k){console.error(k)}})()},[t]),Pd(()=>{if(l&&!r){const w=t.state.location,N=t.state.resolvedLocation,k=N.pathname!==w.pathname,O=N.href!==w.href;t.emit({type:"onLoad",fromLocation:N,toLocation:w,pathChanged:k,hrefChanged:O})}},[l,t,r]),Pd(()=>{if(g&&!m){const w=t.state.location,N=t.state.resolvedLocation,k=N.pathname!==w.pathname,O=N.href!==w.href;t.emit({type:"onBeforeRouteMount",fromLocation:N,toLocation:w,pathChanged:k,hrefChanged:O})}},[m,g,t]),Pd(()=>{if(d&&!u){const w=t.state.location,N=t.state.resolvedLocation,k=N.pathname!==w.pathname,O=N.href!==w.href;if(t.emit({type:"onResolved",fromLocation:N,toLocation:w,pathChanged:k,hrefChanged:O}),t.__store.setState(C=>({...C,status:"idle",resolvedLocation:C.location})),typeof document<"u"&&document.querySelector){const C=t.state.location.state.__hashScrollIntoViewOptions??!0;if(C&&t.state.location.hash!==""){const A=document.getElementById(t.state.location.hash);A&&A.scrollIntoView(C)}}}},[u,d,t]),null}function TA(){const t=Ai(),e=t.options.defaultPendingComponent?y.jsx(t.options.defaultPendingComponent,{}):null,r=t.isServer||typeof document<"u"&&window.__TSR__?Bp:Q.Suspense,n=y.jsxs(r,{fallback:e,children:[y.jsx(CA,{}),y.jsx(qA,{})]});return t.options.InnerWrap?y.jsx(t.options.InnerWrap,{children:n}):n}function qA(){const t=hi({select:r=>{var n;return(n=r.matches[0])==null?void 0:n.id}}),e=hi({select:r=>r.loadedAt});return y.jsx(fy.Provider,{value:t,children:y.jsx(kw,{getResetKey:()=>e,errorComponent:dy,onCatch:r=>{r.message||r.toString()},children:t?y.jsx(II,{matchId:t}):null})})}function TI(){const t=Ai();return hi({select:e=>[e.location.href,e.resolvedLocation.href,e.status],structuralSharing:!0}),Q.useCallback(e=>{const{pending:r,caseSensitive:n,fuzzy:s,includeSearch:a,...l}=e;return t.matchRoute(l,{pending:r,caseSensitive:n,fuzzy:s,includeSearch:a})},[t])}function RA({router:t,children:e,...r}){t.update({...t.options,...r,context:{...t.options.context,...r.context}});const n=SI(),s=y.jsx(n.Provider,{value:t,children:e});return t.options.Wrap?y.jsx(t.options.Wrap,{children:s}):s}function AA({router:t,...e}){return y.jsx(RA,{router:t,...e,children:y.jsx(TA,{})})}const PA=typeof window<"u"?Q.useLayoutEffect:Q.useEffect,Xv="window",RE="___";let e_=new WeakSet;const FA=typeof window<"u"&&window.sessionStorage,Ls=FA?(()=>{const t="tsr-scroll-restoration-v2";return{state:JSON.parse(window.sessionStorage.getItem(t)||"null")||{cached:{},next:{}},set:r=>{Ls.state=Ll(r,Ls.state),window.sessionStorage.setItem(t,JSON.stringify(Ls.state))}}})():void 0,jA=t=>t.state.key||t.href;function LA(t){const e=Ai();PA(()=>{const r=t?.getKey||jA,{history:n}=window;n.scrollRestoration="manual";const s=u=>{if(e_.has(u.target))return;e_.add(u.target);let d="";if(u.target===document||u.target===window)d=Xv;else{const m=u.target.getAttribute("data-scroll-restoration-id");m?d=`[data-scroll-restoration-id="${m}"]`:d=MA(u.target)}Ls.state.next[d]||Ls.set(m=>({...m,next:{...m.next,[d]:{scrollX:NaN,scrollY:NaN}}}))};typeof document<"u"&&document.addEventListener("scroll",s,!0);const a=e.subscribe("onBeforeLoad",u=>{if(u.hrefChanged){const d=r(u.fromLocation);for(const m in Ls.state.next){const g=Ls.state.next[m];if(m===Xv)g.scrollX=window.scrollX||0,g.scrollY=window.scrollY||0;else if(m){const w=document.querySelector(m);g.scrollX=w?.scrollLeft||0,g.scrollY=w?.scrollTop||0}Ls.set(w=>{const N={...w.next};return delete N[m],{...w,next:N,cached:{...w.cached,[[d,m].join(RE)]:g}}})}}}),l=e.subscribe("onBeforeRouteMount",u=>{if(u.hrefChanged){if(!e.resetNextScroll)return;e.resetNextScroll=!0;const d=r(u.toLocation);let m=!1;for(const g in Ls.state.cached){const w=Ls.state.cached[g],[N,k]=g.split(RE);if(N===d){if(k===Xv)m=!0,window.scrollTo(w.scrollX,w.scrollY);else if(k){const O=document.querySelector(k);O&&(O.scrollLeft=w.scrollX,O.scrollTop=w.scrollY)}}}m||window.scrollTo(0,0),Ls.set(g=>({...g,next:{}})),e_=new WeakSet}});return()=>{document.removeEventListener("scroll",s),a(),l()}},[t?.getKey,e])}function DA(t){return LA(t),null}function MA(t){const e=[];let r;for(;r=t.parentNode;)e.unshift(`${t.tagName}:nth-child(${[].indexOf.call(r.children,t)+1})`),t=r;return`${e.join(" > ")}`.toLowerCase()}function In(t){return Ka({...t,select:e=>t.select?t.select(e.context):e.context})}let BA={data:""},$A=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||BA,WA=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,zA=/\/\*[^]*?\*\/|  +/g,AE=/\n+/g,Aa=(t,e)=>{let r="",n="",s="";for(let a in t){let l=t[a];a[0]=="@"?a[1]=="i"?r=a+" "+l+";":n+=a[1]=="f"?Aa(l,a):a+"{"+Aa(l,a[1]=="k"?"":e)+"}":typeof l=="object"?n+=Aa(l,e?e.replace(/([^,])+/g,u=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,u):u?u+" "+d:d)):a):l!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Aa.p?Aa.p(a,l):a+":"+l+";")}return r+(e&&s?e+"{"+s+"}":s)+n},Fo={},qI=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+qI(t[r]);return e}return t},UA=(t,e,r,n,s)=>{let a=qI(t),l=Fo[a]||(Fo[a]=(d=>{let m=0,g=11;for(;m<d.length;)g=101*g+d.charCodeAt(m++)>>>0;return"go"+g})(a));if(!Fo[l]){let d=a!==t?t:(m=>{let g,w,N=[{}];for(;g=WA.exec(m.replace(zA,""));)g[4]?N.shift():g[3]?(w=g[3].replace(AE," ").trim(),N.unshift(N[0][w]=N[0][w]||{})):N[0][g[1]]=g[2].replace(AE," ").trim();return N[0]})(t);Fo[l]=Aa(s?{["@keyframes "+l]:d}:d,r?"":"."+l)}let u=r&&Fo.g?Fo.g:null;return r&&(Fo.g=Fo[l]),((d,m,g,w)=>{w?m.data=m.data.replace(w,d):m.data.indexOf(d)===-1&&(m.data=g?d+m.data:m.data+d)})(Fo[l],e,n,u),l},VA=(t,e,r)=>t.reduce((n,s,a)=>{let l=e[a];if(l&&l.call){let u=l(r),d=u&&u.props&&u.props.className||/^go/.test(u)&&u;l=d?"."+d:u&&typeof u=="object"?u.props?"":Aa(u,""):u===!1?"":u}return n+s+(l??"")},"");function hy(t){let e=this||{},r=t.call?t(e.p):t;return UA(r.unshift?r.raw?VA(r,[].slice.call(arguments,1),e.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(e.p):s),{}):r,$A(e.target),e.g,e.o,e.k)}let RI,Ob,Cb;hy.bind({g:1});let Ko=hy.bind({k:1});function HA(t,e,r,n){Aa.p=e,RI=t,Ob=r,Cb=n}function al(t,e){let r=this||{};return function(){let n=arguments;function s(a,l){let u=Object.assign({},a),d=u.className||s.className;r.p=Object.assign({theme:Ob&&Ob()},u),r.o=/ *go\d+/.test(d),u.className=hy.apply(r,n)+(d?" "+d:"");let m=t;return t[0]&&(m=u.as||t,delete u.as),Cb&&m[0]&&Cb(u),RI(m,u)}return s}}var QA=t=>typeof t=="function",xm=(t,e)=>QA(t)?t(e):t,KA=(()=>{let t=0;return()=>(++t).toString()})(),AI=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),GA=20,$p=new Map,JA=1e3,PE=t=>{if($p.has(t))return;let e=setTimeout(()=>{$p.delete(t),nu({type:4,toastId:t})},JA);$p.set(t,e)},ZA=t=>{let e=$p.get(t);e&&clearTimeout(e)},Tb=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,GA)};case 1:return e.toast.id&&ZA(e.toast.id),{...t,toasts:t.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:r}=e;return t.toasts.find(a=>a.id===r.id)?Tb(t,{type:1,toast:r}):Tb(t,{type:0,toast:r});case 3:let{toastId:n}=e;return n?PE(n):t.toasts.forEach(a=>{PE(a.id)}),{...t,toasts:t.toasts.map(a=>a.id===n||n===void 0?{...a,visible:!1}:a)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+s}))}}},Wp=[],zp={toasts:[],pausedAt:void 0},nu=t=>{zp=Tb(zp,t),Wp.forEach(e=>{e(zp)})},YA={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},XA=(t={})=>{let[e,r]=Q.useState(zp);Q.useEffect(()=>(Wp.push(r),()=>{let s=Wp.indexOf(r);s>-1&&Wp.splice(s,1)}),[e]);let n=e.toasts.map(s=>{var a,l;return{...t,...t[s.type],...s,duration:s.duration||((a=t[s.type])==null?void 0:a.duration)||t?.duration||YA[s.type],style:{...t.style,...(l=t[s.type])==null?void 0:l.style,...s.style}}});return{...e,toasts:n}},eP=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:r?.id||KA()}),Df=t=>(e,r)=>{let n=eP(e,t,r);return nu({type:2,toast:n}),n.id},pr=(t,e)=>Df("blank")(t,e);pr.error=Df("error");pr.success=Df("success");pr.loading=Df("loading");pr.custom=Df("custom");pr.dismiss=t=>{nu({type:3,toastId:t})};pr.remove=t=>nu({type:4,toastId:t});pr.promise=(t,e,r)=>{let n=pr.loading(e.loading,{...r,...r?.loading});return t.then(s=>(pr.success(xm(e.success,s),{id:n,...r,...r?.success}),s)).catch(s=>{pr.error(xm(e.error,s),{id:n,...r,...r?.error})}),t};var tP=(t,e)=>{nu({type:1,toast:{id:t,height:e}})},rP=()=>{nu({type:5,time:Date.now()})},nP=t=>{let{toasts:e,pausedAt:r}=XA(t);Q.useEffect(()=>{if(r)return;let a=Date.now(),l=e.map(u=>{if(u.duration===1/0)return;let d=(u.duration||0)+u.pauseDuration-(a-u.createdAt);if(d<0){u.visible&&pr.dismiss(u.id);return}return setTimeout(()=>pr.dismiss(u.id),d)});return()=>{l.forEach(u=>u&&clearTimeout(u))}},[e,r]);let n=Q.useCallback(()=>{r&&nu({type:6,time:Date.now()})},[r]),s=Q.useCallback((a,l)=>{let{reverseOrder:u=!1,gutter:d=8,defaultPosition:m}=l||{},g=e.filter(k=>(k.position||m)===(a.position||m)&&k.height),w=g.findIndex(k=>k.id===a.id),N=g.filter((k,O)=>O<w&&k.visible).length;return g.filter(k=>k.visible).slice(...u?[N+1]:[0,N]).reduce((k,O)=>k+(O.height||0)+d,0)},[e]);return{toasts:e,handlers:{updateHeight:tP,startPause:rP,endPause:n,calculateOffset:s}}},iP=Ko`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,sP=Ko`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,oP=Ko`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,aP=al("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${iP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${sP} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${oP} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,lP=Ko`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,uP=al("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${lP} 1s linear infinite;
`,cP=Ko`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,dP=Ko`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,fP=al("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${cP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${dP} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,hP=al("div")`
  position: absolute;
`,pP=al("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,mP=Ko`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,yP=al("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${mP} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,gP=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?Q.createElement(yP,null,e):e:r==="blank"?null:Q.createElement(pP,null,Q.createElement(uP,{...n}),r!=="loading"&&Q.createElement(hP,null,r==="error"?Q.createElement(aP,{...n}):Q.createElement(fP,{...n})))},vP=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,_P=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,bP="0%{opacity:0;} 100%{opacity:1;}",wP="0%{opacity:1;} 100%{opacity:0;}",xP=al("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,SP=al("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,EP=(t,e)=>{let r=t.includes("top")?1:-1,[n,s]=AI()?[bP,wP]:[vP(r),_P(r)];return{animation:e?`${Ko(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ko(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},NP=Q.memo(({toast:t,position:e,style:r,children:n})=>{let s=t.height?EP(t.position||e||"top-center",t.visible):{opacity:0},a=Q.createElement(gP,{toast:t}),l=Q.createElement(SP,{...t.ariaProps},xm(t.message,t));return Q.createElement(xP,{className:t.className,style:{...s,...r,...t.style}},typeof n=="function"?n({icon:a,message:l}):Q.createElement(Q.Fragment,null,a,l))});HA(Q.createElement);var kP=({id:t,className:e,style:r,onHeightUpdate:n,children:s})=>{let a=Q.useCallback(l=>{if(l){let u=()=>{let d=l.getBoundingClientRect().height;n(t,d)};u(),new MutationObserver(u).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return Q.createElement("div",{ref:a,className:e,style:r},s)},IP=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:AI()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...s}},OP=hy`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,bp=16,CP=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:s,containerStyle:a,containerClassName:l})=>{let{toasts:u,handlers:d}=nP(r);return Q.createElement("div",{style:{position:"fixed",zIndex:9999,top:bp,left:bp,right:bp,bottom:bp,pointerEvents:"none",...a},className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},u.map(m=>{let g=m.position||e,w=d.calculateOffset(m,{reverseOrder:t,gutter:n,defaultPosition:e}),N=IP(g,w);return Q.createElement(kP,{id:m.id,key:m.id,onHeightUpdate:d.updateHeight,className:m.visible?OP:"",style:N},m.type==="custom"?xm(m.message,m):s?s(m):Q.createElement(NP,{toast:m,position:g}))}))},TP=pr;class iu extends Error{}class qP extends iu{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class RP extends iu{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class AP extends iu{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Uu extends iu{}class PI extends iu{constructor(e){super(`Invalid unit ${e}`)}}class Kn extends iu{}class Na extends iu{constructor(){super("Zone is an abstract class")}}const St="numeric",Hs="short",Ki="long",Sm={year:St,month:St,day:St},FI={year:St,month:Hs,day:St},PP={year:St,month:Hs,day:St,weekday:Hs},jI={year:St,month:Ki,day:St},LI={year:St,month:Ki,day:St,weekday:Ki},DI={hour:St,minute:St},MI={hour:St,minute:St,second:St},BI={hour:St,minute:St,second:St,timeZoneName:Hs},$I={hour:St,minute:St,second:St,timeZoneName:Ki},WI={hour:St,minute:St,hourCycle:"h23"},zI={hour:St,minute:St,second:St,hourCycle:"h23"},UI={hour:St,minute:St,second:St,hourCycle:"h23",timeZoneName:Hs},VI={hour:St,minute:St,second:St,hourCycle:"h23",timeZoneName:Ki},HI={year:St,month:St,day:St,hour:St,minute:St},QI={year:St,month:St,day:St,hour:St,minute:St,second:St},KI={year:St,month:Hs,day:St,hour:St,minute:St},GI={year:St,month:Hs,day:St,hour:St,minute:St,second:St},FP={year:St,month:Hs,day:St,weekday:Hs,hour:St,minute:St},JI={year:St,month:Ki,day:St,hour:St,minute:St,timeZoneName:Hs},ZI={year:St,month:Ki,day:St,hour:St,minute:St,second:St,timeZoneName:Hs},YI={year:St,month:Ki,day:St,weekday:Ki,hour:St,minute:St,timeZoneName:Ki},XI={year:St,month:Ki,day:St,weekday:Ki,hour:St,minute:St,second:St,timeZoneName:Ki};class Mf{get type(){throw new Na}get name(){throw new Na}get ianaName(){return this.name}get isUniversal(){throw new Na}offsetName(e,r){throw new Na}formatOffset(e,r){throw new Na}offset(e){throw new Na}equals(e){throw new Na}get isValid(){throw new Na}}let t_=null;class py extends Mf{static get instance(){return t_===null&&(t_=new py),t_}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return l3(e,r,n)}formatOffset(e,r){return Qd(this.offset(e),r)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let Up={};function jP(t){return Up[t]||(Up[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Up[t]}const LP={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function DP(t,e){const r=t.format(e).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,s,a,l,u,d,m,g]=n;return[l,s,a,u,d,m,g]}function MP(t,e){const r=t.formatToParts(e),n=[];for(let s=0;s<r.length;s++){const{type:a,value:l}=r[s],u=LP[a];a==="era"?n[u]=l:Xt(u)||(n[u]=parseInt(l,10))}return n}let wp={};class Go extends Mf{static create(e){return wp[e]||(wp[e]=new Go(e)),wp[e]}static resetCache(){wp={},Up={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Go.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:r,locale:n}){return l3(e,r,n,this.name)}formatOffset(e,r){return Qd(this.offset(e),r)}offset(e){const r=new Date(e);if(isNaN(r))return NaN;const n=jP(this.name);let[s,a,l,u,d,m,g]=n.formatToParts?MP(n,r):DP(n,r);u==="BC"&&(s=-Math.abs(s)+1);const N=yy({year:s,month:a,day:l,hour:d===24?0:d,minute:m,second:g,millisecond:0});let k=+r;const O=k%1e3;return k-=O>=0?O:1e3+O,(N-k)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let FE={};function BP(t,e={}){const r=JSON.stringify([t,e]);let n=FE[r];return n||(n=new Intl.ListFormat(t,e),FE[r]=n),n}let qb={};function Rb(t,e={}){const r=JSON.stringify([t,e]);let n=qb[r];return n||(n=new Intl.DateTimeFormat(t,e),qb[r]=n),n}let Ab={};function $P(t,e={}){const r=JSON.stringify([t,e]);let n=Ab[r];return n||(n=new Intl.NumberFormat(t,e),Ab[r]=n),n}let Pb={};function WP(t,e={}){const{base:r,...n}=e,s=JSON.stringify([t,n]);let a=Pb[s];return a||(a=new Intl.RelativeTimeFormat(t,e),Pb[s]=a),a}let Fd=null;function zP(){return Fd||(Fd=new Intl.DateTimeFormat().resolvedOptions().locale,Fd)}let jE={};function UP(t){let e=jE[t];if(!e){const r=new Intl.Locale(t);e="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,jE[t]=e}return e}function VP(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const r=t.indexOf("-u-");if(r===-1)return[t];{let n,s;try{n=Rb(t).resolvedOptions(),s=t}catch{const d=t.substring(0,r);n=Rb(d).resolvedOptions(),s=d}const{numberingSystem:a,calendar:l}=n;return[s,a,l]}}function HP(t,e,r){return(r||e)&&(t.includes("-u-")||(t+="-u"),r&&(t+=`-ca-${r}`),e&&(t+=`-nu-${e}`)),t}function QP(t){const e=[];for(let r=1;r<=12;r++){const n=Yt.utc(2009,r,1);e.push(t(n))}return e}function KP(t){const e=[];for(let r=1;r<=7;r++){const n=Yt.utc(2016,11,13+r);e.push(t(n))}return e}function xp(t,e,r,n){const s=t.listingMode();return s==="error"?null:s==="en"?r(e):n(e)}function GP(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class JP{constructor(e,r,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:s,floor:a,...l}=n;if(!r||Object.keys(l).length>0){const u={useGrouping:!1,...n};n.padTo>0&&(u.minimumIntegerDigits=n.padTo),this.inf=$P(e,u)}}format(e){if(this.inf){const r=this.floor?Math.floor(e):e;return this.inf.format(r)}else{const r=this.floor?Math.floor(e):Aw(e,3);return _n(r,this.padTo)}}}class ZP{constructor(e,r,n){this.opts=n,this.originalZone=void 0;let s;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const l=-1*(e.offset/60),u=l>=0?`Etc/GMT+${l}`:`Etc/GMT${l}`;e.offset!==0&&Go.create(u).valid?(s=u,this.dt=e):(s="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,s=e.zone.name):(s="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const a={...this.opts};a.timeZone=a.timeZone||s,this.dtf=Rb(r,a)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(r=>{if(r.type==="timeZoneName"){const n=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:n}}else return r}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class YP{constructor(e,r,n){this.opts={style:"long",...n},!r&&o3()&&(this.rtf=WP(e,n))}format(e,r){return this.rtf?this.rtf.format(e,r):wF(r,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,r){return this.rtf?this.rtf.formatToParts(e,r):[]}}const XP={firstDay:1,minimalDays:4,weekend:[6,7]};class Ir{static fromOpts(e){return Ir.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,r,n,s,a=!1){const l=e||cn.defaultLocale,u=l||(a?"en-US":zP()),d=r||cn.defaultNumberingSystem,m=n||cn.defaultOutputCalendar,g=Fb(s)||cn.defaultWeekSettings;return new Ir(u,d,m,g,l)}static resetCache(){Fd=null,qb={},Ab={},Pb={}}static fromObject({locale:e,numberingSystem:r,outputCalendar:n,weekSettings:s}={}){return Ir.create(e,r,n,s)}constructor(e,r,n,s,a){const[l,u,d]=VP(e);this.locale=l,this.numberingSystem=r||u||null,this.outputCalendar=n||d||null,this.weekSettings=s,this.intl=HP(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=a,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=GP(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&r?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Ir.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,Fb(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,r=!1){return xp(this,e,d3,()=>{const n=r?{month:e,day:"numeric"}:{month:e},s=r?"format":"standalone";return this.monthsCache[s][e]||(this.monthsCache[s][e]=QP(a=>this.extract(a,n,"month"))),this.monthsCache[s][e]})}weekdays(e,r=!1){return xp(this,e,p3,()=>{const n=r?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},s=r?"format":"standalone";return this.weekdaysCache[s][e]||(this.weekdaysCache[s][e]=KP(a=>this.extract(a,n,"weekday"))),this.weekdaysCache[s][e]})}meridiems(){return xp(this,void 0,()=>m3,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Yt.utc(2016,11,13,9),Yt.utc(2016,11,13,19)].map(r=>this.extract(r,e,"dayperiod"))}return this.meridiemCache})}eras(e){return xp(this,e,y3,()=>{const r={era:e};return this.eraCache[e]||(this.eraCache[e]=[Yt.utc(-40,1,1),Yt.utc(2017,1,1)].map(n=>this.extract(n,r,"era"))),this.eraCache[e]})}extract(e,r,n){const s=this.dtFormatter(e,r),a=s.formatToParts(),l=a.find(u=>u.type.toLowerCase()===n);return l?l.value:null}numberFormatter(e={}){return new JP(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,r={}){return new ZP(e,this.intl,r)}relFormatter(e={}){return new YP(this.intl,this.isEnglish(),e)}listFormatter(e={}){return BP(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:a3()?UP(this.locale):XP}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let r_=null;class fi extends Mf{static get utcInstance(){return r_===null&&(r_=new fi(0)),r_}static instance(e){return e===0?fi.utcInstance:new fi(e)}static parseSpecifier(e){if(e){const r=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new fi(gy(r[1],r[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Qd(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Qd(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,r){return Qd(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class eF extends Mf{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Pa(t,e){if(Xt(t)||t===null)return e;if(t instanceof Mf)return t;if(oF(t)){const r=t.toLowerCase();return r==="default"?e:r==="local"||r==="system"?py.instance:r==="utc"||r==="gmt"?fi.utcInstance:fi.parseSpecifier(r)||Go.create(t)}else return $a(t)?fi.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new eF(t)}const Cw={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},LE={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},tF=Cw.hanidec.replace(/[\[|\]]/g,"").split("");function rF(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let r=0;r<t.length;r++){const n=t.charCodeAt(r);if(t[r].search(Cw.hanidec)!==-1)e+=tF.indexOf(t[r]);else for(const s in LE){const[a,l]=LE[s];n>=a&&n<=l&&(e+=n-a)}}return parseInt(e,10)}else return e}let Bu={};function nF(){Bu={}}function Ps({numberingSystem:t},e=""){const r=t||"latn";return Bu[r]||(Bu[r]={}),Bu[r][e]||(Bu[r][e]=new RegExp(`${Cw[r]}${e}`)),Bu[r][e]}let DE=()=>Date.now(),ME="system",BE=null,$E=null,WE=null,zE=60,UE,VE=null;class cn{static get now(){return DE}static set now(e){DE=e}static set defaultZone(e){ME=e}static get defaultZone(){return Pa(ME,py.instance)}static get defaultLocale(){return BE}static set defaultLocale(e){BE=e}static get defaultNumberingSystem(){return $E}static set defaultNumberingSystem(e){$E=e}static get defaultOutputCalendar(){return WE}static set defaultOutputCalendar(e){WE=e}static get defaultWeekSettings(){return VE}static set defaultWeekSettings(e){VE=Fb(e)}static get twoDigitCutoffYear(){return zE}static set twoDigitCutoffYear(e){zE=e%100}static get throwOnInvalid(){return UE}static set throwOnInvalid(e){UE=e}static resetCaches(){Ir.resetCache(),Go.resetCache(),Yt.resetCache(),nF()}}class Ws{constructor(e,r){this.reason=e,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const e3=[0,31,59,90,120,151,181,212,243,273,304,334],t3=[0,31,60,91,121,152,182,213,244,274,305,335];function xs(t,e){return new Ws("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function Tw(t,e,r){const n=new Date(Date.UTC(t,e-1,r));t<100&&t>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const s=n.getUTCDay();return s===0?7:s}function r3(t,e,r){return r+(Bf(t)?t3:e3)[e-1]}function n3(t,e){const r=Bf(t)?t3:e3,n=r.findIndex(a=>a<e),s=e-r[n];return{month:n+1,day:s}}function qw(t,e){return(t-e+7)%7+1}function Em(t,e=4,r=1){const{year:n,month:s,day:a}=t,l=r3(n,s,a),u=qw(Tw(n,s,a),r);let d=Math.floor((l-u+14-e)/7),m;return d<1?(m=n-1,d=uf(m,e,r)):d>uf(n,e,r)?(m=n+1,d=1):m=n,{weekYear:m,weekNumber:d,weekday:u,...vy(t)}}function HE(t,e=4,r=1){const{weekYear:n,weekNumber:s,weekday:a}=t,l=qw(Tw(n,1,e),r),u=ec(n);let d=s*7+a-l-7+e,m;d<1?(m=n-1,d+=ec(m)):d>u?(m=n+1,d-=ec(n)):m=n;const{month:g,day:w}=n3(m,d);return{year:m,month:g,day:w,...vy(t)}}function n_(t){const{year:e,month:r,day:n}=t,s=r3(e,r,n);return{year:e,ordinal:s,...vy(t)}}function QE(t){const{year:e,ordinal:r}=t,{month:n,day:s}=n3(e,r);return{year:e,month:n,day:s,...vy(t)}}function KE(t,e){if(!Xt(t.localWeekday)||!Xt(t.localWeekNumber)||!Xt(t.localWeekYear)){if(!Xt(t.weekday)||!Xt(t.weekNumber)||!Xt(t.weekYear))throw new Uu("Cannot mix locale-based week fields with ISO-based week fields");return Xt(t.localWeekday)||(t.weekday=t.localWeekday),Xt(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),Xt(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function iF(t,e=4,r=1){const n=my(t.weekYear),s=Ss(t.weekNumber,1,uf(t.weekYear,e,r)),a=Ss(t.weekday,1,7);return n?s?a?!1:xs("weekday",t.weekday):xs("week",t.weekNumber):xs("weekYear",t.weekYear)}function sF(t){const e=my(t.year),r=Ss(t.ordinal,1,ec(t.year));return e?r?!1:xs("ordinal",t.ordinal):xs("year",t.year)}function i3(t){const e=my(t.year),r=Ss(t.month,1,12),n=Ss(t.day,1,Nm(t.year,t.month));return e?r?n?!1:xs("day",t.day):xs("month",t.month):xs("year",t.year)}function s3(t){const{hour:e,minute:r,second:n,millisecond:s}=t,a=Ss(e,0,23)||e===24&&r===0&&n===0&&s===0,l=Ss(r,0,59),u=Ss(n,0,59),d=Ss(s,0,999);return a?l?u?d?!1:xs("millisecond",s):xs("second",n):xs("minute",r):xs("hour",e)}function Xt(t){return typeof t>"u"}function $a(t){return typeof t=="number"}function my(t){return typeof t=="number"&&t%1===0}function oF(t){return typeof t=="string"}function aF(t){return Object.prototype.toString.call(t)==="[object Date]"}function o3(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function a3(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function lF(t){return Array.isArray(t)?t:[t]}function GE(t,e,r){if(t.length!==0)return t.reduce((n,s)=>{const a=[e(s),s];return n&&r(n[0],a[0])===n[0]?n:a},null)[1]}function uF(t,e){return e.reduce((r,n)=>(r[n]=t[n],r),{})}function yc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Fb(t){if(t==null)return null;if(typeof t!="object")throw new Kn("Week settings must be an object");if(!Ss(t.firstDay,1,7)||!Ss(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!Ss(e,1,7)))throw new Kn("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function Ss(t,e,r){return my(t)&&t>=e&&t<=r}function cF(t,e){return t-e*Math.floor(t/e)}function _n(t,e=2){const r=t<0;let n;return r?n="-"+(""+-t).padStart(e,"0"):n=(""+t).padStart(e,"0"),n}function qa(t){if(!(Xt(t)||t===null||t===""))return parseInt(t,10)}function Cl(t){if(!(Xt(t)||t===null||t===""))return parseFloat(t)}function Rw(t){if(!(Xt(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function Aw(t,e,r=!1){const n=10**e;return(r?Math.trunc:Math.round)(t*n)/n}function Bf(t){return t%4===0&&(t%100!==0||t%400===0)}function ec(t){return Bf(t)?366:365}function Nm(t,e){const r=cF(e-1,12)+1,n=t+(e-r)/12;return r===2?Bf(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function yy(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function JE(t,e,r){return-qw(Tw(t,1,e),r)+e-1}function uf(t,e=4,r=1){const n=JE(t,e,r),s=JE(t+1,e,r);return(ec(t)-n+s)/7}function jb(t){return t>99?t:t>cn.twoDigitCutoffYear?1900+t:2e3+t}function l3(t,e,r,n=null){const s=new Date(t),a={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(a.timeZone=n);const l={timeZoneName:e,...a},u=new Intl.DateTimeFormat(r,l).formatToParts(s).find(d=>d.type.toLowerCase()==="timezonename");return u?u.value:null}function gy(t,e){let r=parseInt(t,10);Number.isNaN(r)&&(r=0);const n=parseInt(e,10)||0,s=r<0||Object.is(r,-0)?-n:n;return r*60+s}function u3(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new Kn(`Invalid unit value ${t}`);return e}function km(t,e){const r={};for(const n in t)if(yc(t,n)){const s=t[n];if(s==null)continue;r[e(n)]=u3(s)}return r}function Qd(t,e){const r=Math.trunc(Math.abs(t/60)),n=Math.trunc(Math.abs(t%60)),s=t>=0?"+":"-";switch(e){case"short":return`${s}${_n(r,2)}:${_n(n,2)}`;case"narrow":return`${s}${r}${n>0?`:${n}`:""}`;case"techie":return`${s}${_n(r,2)}${_n(n,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function vy(t){return uF(t,["hour","minute","second","millisecond"])}const dF=["January","February","March","April","May","June","July","August","September","October","November","December"],c3=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],fF=["J","F","M","A","M","J","J","A","S","O","N","D"];function d3(t){switch(t){case"narrow":return[...fF];case"short":return[...c3];case"long":return[...dF];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const f3=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],h3=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],hF=["M","T","W","T","F","S","S"];function p3(t){switch(t){case"narrow":return[...hF];case"short":return[...h3];case"long":return[...f3];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const m3=["AM","PM"],pF=["Before Christ","Anno Domini"],mF=["BC","AD"],yF=["B","A"];function y3(t){switch(t){case"narrow":return[...yF];case"short":return[...mF];case"long":return[...pF];default:return null}}function gF(t){return m3[t.hour<12?0:1]}function vF(t,e){return p3(e)[t.weekday-1]}function _F(t,e){return d3(e)[t.month-1]}function bF(t,e){return y3(e)[t.year<0?0:1]}function wF(t,e,r="always",n=!1){const s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},a=["hours","minutes","seconds"].indexOf(t)===-1;if(r==="auto"&&a){const w=t==="days";switch(e){case 1:return w?"tomorrow":`next ${s[t][0]}`;case-1:return w?"yesterday":`last ${s[t][0]}`;case 0:return w?"today":`this ${s[t][0]}`}}const l=Object.is(e,-0)||e<0,u=Math.abs(e),d=u===1,m=s[t],g=n?d?m[1]:m[2]||m[1]:d?s[t][0]:t;return l?`${u} ${g} ago`:`in ${u} ${g}`}function ZE(t,e){let r="";for(const n of t)n.literal?r+=n.val:r+=e(n.val);return r}const xF={D:Sm,DD:FI,DDD:jI,DDDD:LI,t:DI,tt:MI,ttt:BI,tttt:$I,T:WI,TT:zI,TTT:UI,TTTT:VI,f:HI,ff:KI,fff:JI,ffff:YI,F:QI,FF:GI,FFF:ZI,FFFF:XI};class Jn{static create(e,r={}){return new Jn(e,r)}static parseFormat(e){let r=null,n="",s=!1;const a=[];for(let l=0;l<e.length;l++){const u=e.charAt(l);u==="'"?(n.length>0&&a.push({literal:s||/^\s+$/.test(n),val:n}),r=null,n="",s=!s):s||u===r?n+=u:(n.length>0&&a.push({literal:/^\s+$/.test(n),val:n}),n=u,r=u)}return n.length>0&&a.push({literal:s||/^\s+$/.test(n),val:n}),a}static macroTokenToFormatOpts(e){return xF[e]}constructor(e,r){this.opts=r,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...r}).format()}dtFormatter(e,r={}){return this.loc.dtFormatter(e,{...this.opts,...r})}formatDateTime(e,r){return this.dtFormatter(e,r).format()}formatDateTimeParts(e,r){return this.dtFormatter(e,r).formatToParts()}formatInterval(e,r){return this.dtFormatter(e.start,r).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,r){return this.dtFormatter(e,r).resolvedOptions()}num(e,r=0){if(this.opts.forceSimple)return _n(e,r);const n={...this.opts};return r>0&&(n.padTo=r),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,r){const n=this.loc.listingMode()==="en",s=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",a=(k,O)=>this.loc.extract(e,k,O),l=k=>e.isOffsetFixed&&e.offset===0&&k.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,k.format):"",u=()=>n?gF(e):a({hour:"numeric",hourCycle:"h12"},"dayperiod"),d=(k,O)=>n?_F(e,k):a(O?{month:k}:{month:k,day:"numeric"},"month"),m=(k,O)=>n?vF(e,k):a(O?{weekday:k}:{weekday:k,month:"long",day:"numeric"},"weekday"),g=k=>{const O=Jn.macroTokenToFormatOpts(k);return O?this.formatWithSystemDefault(e,O):k},w=k=>n?bF(e,k):a({era:k},"era"),N=k=>{switch(k){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return l({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return l({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return l({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return u();case"d":return s?a({day:"numeric"},"day"):this.num(e.day);case"dd":return s?a({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return m("short",!0);case"cccc":return m("long",!0);case"ccccc":return m("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return m("short",!1);case"EEEE":return m("long",!1);case"EEEEE":return m("narrow",!1);case"L":return s?a({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return s?a({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return d("short",!0);case"LLLL":return d("long",!0);case"LLLLL":return d("narrow",!0);case"M":return s?a({month:"numeric"},"month"):this.num(e.month);case"MM":return s?a({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return d("short",!1);case"MMMM":return d("long",!1);case"MMMMM":return d("narrow",!1);case"y":return s?a({year:"numeric"},"year"):this.num(e.year);case"yy":return s?a({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return s?a({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return s?a({year:"numeric"},"year"):this.num(e.year,6);case"G":return w("short");case"GG":return w("long");case"GGGGG":return w("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return g(k)}};return ZE(Jn.parseFormat(r),N)}formatDurationFromString(e,r){const n=d=>{switch(d[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},s=d=>m=>{const g=n(m);return g?this.num(d.get(g),m.length):m},a=Jn.parseFormat(r),l=a.reduce((d,{literal:m,val:g})=>m?d:d.concat(g),[]),u=e.shiftTo(...l.map(n).filter(d=>d));return ZE(a,s(u))}}const g3=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Ic(...t){const e=t.reduce((r,n)=>r+n.source,"");return RegExp(`^${e}$`)}function Oc(...t){return e=>t.reduce(([r,n,s],a)=>{const[l,u,d]=a(e,s);return[{...r,...l},u||n,d]},[{},null,1]).slice(0,2)}function Cc(t,...e){if(t==null)return[null,null];for(const[r,n]of e){const s=r.exec(t);if(s)return n(s)}return[null,null]}function v3(...t){return(e,r)=>{const n={};let s;for(s=0;s<t.length;s++)n[t[s]]=qa(e[r+s]);return[n,null,r+s]}}const _3=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,SF=`(?:${_3.source}?(?:\\[(${g3.source})\\])?)?`,Pw=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,b3=RegExp(`${Pw.source}${SF}`),Fw=RegExp(`(?:T${b3.source})?`),EF=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,NF=/(\d{4})-?W(\d\d)(?:-?(\d))?/,kF=/(\d{4})-?(\d{3})/,IF=v3("weekYear","weekNumber","weekDay"),OF=v3("year","ordinal"),CF=/(\d{4})-(\d\d)-(\d\d)/,w3=RegExp(`${Pw.source} ?(?:${_3.source}|(${g3.source}))?`),TF=RegExp(`(?: ${w3.source})?`);function tc(t,e,r){const n=t[e];return Xt(n)?r:qa(n)}function qF(t,e){return[{year:tc(t,e),month:tc(t,e+1,1),day:tc(t,e+2,1)},null,e+3]}function Tc(t,e){return[{hours:tc(t,e,0),minutes:tc(t,e+1,0),seconds:tc(t,e+2,0),milliseconds:Rw(t[e+3])},null,e+4]}function $f(t,e){const r=!t[e]&&!t[e+1],n=gy(t[e+1],t[e+2]),s=r?null:fi.instance(n);return[{},s,e+3]}function Wf(t,e){const r=t[e]?Go.create(t[e]):null;return[{},r,e+1]}const RF=RegExp(`^T?${Pw.source}$`),AF=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function PF(t){const[e,r,n,s,a,l,u,d,m]=t,g=e[0]==="-",w=d&&d[0]==="-",N=(k,O=!1)=>k!==void 0&&(O||k&&g)?-k:k;return[{years:N(Cl(r)),months:N(Cl(n)),weeks:N(Cl(s)),days:N(Cl(a)),hours:N(Cl(l)),minutes:N(Cl(u)),seconds:N(Cl(d),d==="-0"),milliseconds:N(Rw(m),w)}]}const FF={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function jw(t,e,r,n,s,a,l){const u={year:e.length===2?jb(qa(e)):qa(e),month:c3.indexOf(r)+1,day:qa(n),hour:qa(s),minute:qa(a)};return l&&(u.second=qa(l)),t&&(u.weekday=t.length>3?f3.indexOf(t)+1:h3.indexOf(t)+1),u}const jF=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function LF(t){const[,e,r,n,s,a,l,u,d,m,g,w]=t,N=jw(e,s,n,r,a,l,u);let k;return d?k=FF[d]:m?k=0:k=gy(g,w),[N,new fi(k)]}function DF(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const MF=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,BF=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,$F=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function YE(t){const[,e,r,n,s,a,l,u]=t;return[jw(e,s,n,r,a,l,u),fi.utcInstance]}function WF(t){const[,e,r,n,s,a,l,u]=t;return[jw(e,u,r,n,s,a,l),fi.utcInstance]}const zF=Ic(EF,Fw),UF=Ic(NF,Fw),VF=Ic(kF,Fw),HF=Ic(b3),x3=Oc(qF,Tc,$f,Wf),QF=Oc(IF,Tc,$f,Wf),KF=Oc(OF,Tc,$f,Wf),GF=Oc(Tc,$f,Wf);function JF(t){return Cc(t,[zF,x3],[UF,QF],[VF,KF],[HF,GF])}function ZF(t){return Cc(DF(t),[jF,LF])}function YF(t){return Cc(t,[MF,YE],[BF,YE],[$F,WF])}function XF(t){return Cc(t,[AF,PF])}const ej=Oc(Tc);function tj(t){return Cc(t,[RF,ej])}const rj=Ic(CF,TF),nj=Ic(w3),ij=Oc(Tc,$f,Wf);function sj(t){return Cc(t,[rj,x3],[nj,ij])}const XE="Invalid Duration",S3={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},oj={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...S3},ys=146097/400,qu=146097/4800,aj={years:{quarters:4,months:12,weeks:ys/7,days:ys,hours:ys*24,minutes:ys*24*60,seconds:ys*24*60*60,milliseconds:ys*24*60*60*1e3},quarters:{months:3,weeks:ys/28,days:ys/4,hours:ys*24/4,minutes:ys*24*60/4,seconds:ys*24*60*60/4,milliseconds:ys*24*60*60*1e3/4},months:{weeks:qu/7,days:qu,hours:qu*24,minutes:qu*24*60,seconds:qu*24*60*60,milliseconds:qu*24*60*60*1e3},...S3},Ml=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],lj=Ml.slice(0).reverse();function ka(t,e,r=!1){const n={values:r?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new _r(n)}function E3(t,e){let r=e.milliseconds??0;for(const n of lj.slice(1))e[n]&&(r+=e[n]*t[n].milliseconds);return r}function eN(t,e){const r=E3(t,e)<0?-1:1;Ml.reduceRight((n,s)=>{if(Xt(e[s]))return n;if(n){const a=e[n]*r,l=t[s][n],u=Math.floor(a/l);e[s]+=u*r,e[n]-=u*l*r}return s},null),Ml.reduce((n,s)=>{if(Xt(e[s]))return n;if(n){const a=e[n]%1;e[n]-=a,e[s]+=a*t[n][s]}return s},null)}function uj(t){const e={};for(const[r,n]of Object.entries(t))n!==0&&(e[r]=n);return e}class _r{constructor(e){const r=e.conversionAccuracy==="longterm"||!1;let n=r?aj:oj;e.matrix&&(n=e.matrix),this.values=e.values,this.loc=e.loc||Ir.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(e,r){return _r.fromObject({milliseconds:e},r)}static fromObject(e,r={}){if(e==null||typeof e!="object")throw new Kn(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new _r({values:km(e,_r.normalizeUnit),loc:Ir.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(e){if($a(e))return _r.fromMillis(e);if(_r.isDuration(e))return e;if(typeof e=="object")return _r.fromObject(e);throw new Kn(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,r){const[n]=XF(e);return n?_r.fromObject(n,r):_r.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,r){const[n]=tj(e);return n?_r.fromObject(n,r):_r.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,r=null){if(!e)throw new Kn("need to specify a reason the Duration is invalid");const n=e instanceof Ws?e:new Ws(e,r);if(cn.throwOnInvalid)throw new AP(n);return new _r({invalid:n})}static normalizeUnit(e){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!r)throw new PI(e);return r}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,r={}){const n={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?Jn.create(this.loc,n).formatDurationFromString(this,e):XE}toHuman(e={}){if(!this.isValid)return XE;const r=Ml.map(n=>{const s=this.values[n];return Xt(s)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:n.slice(0,-1)}).format(s)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Aw(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const r=this.toMillis();return r<0||r>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},Yt.fromMillis(r,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?E3(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const r=_r.fromDurationLike(e),n={};for(const s of Ml)(yc(r.values,s)||yc(this.values,s))&&(n[s]=r.get(s)+this.get(s));return ka(this,{values:n},!0)}minus(e){if(!this.isValid)return this;const r=_r.fromDurationLike(e);return this.plus(r.negate())}mapUnits(e){if(!this.isValid)return this;const r={};for(const n of Object.keys(this.values))r[n]=u3(e(this.values[n],n));return ka(this,{values:r},!0)}get(e){return this[_r.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const r={...this.values,...km(e,_r.normalizeUnit)};return ka(this,{values:r})}reconfigure({locale:e,numberingSystem:r,conversionAccuracy:n,matrix:s}={}){const l={loc:this.loc.clone({locale:e,numberingSystem:r}),matrix:s,conversionAccuracy:n};return ka(this,l)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return eN(this.matrix,e),ka(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=uj(this.normalize().shiftToAll().toObject());return ka(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(l=>_r.normalizeUnit(l));const r={},n={},s=this.toObject();let a;for(const l of Ml)if(e.indexOf(l)>=0){a=l;let u=0;for(const m in n)u+=this.matrix[m][l]*n[m],n[m]=0;$a(s[l])&&(u+=s[l]);const d=Math.trunc(u);r[l]=d,n[l]=(u*1e3-d*1e3)/1e3}else $a(s[l])&&(n[l]=s[l]);for(const l in n)n[l]!==0&&(r[a]+=l===a?n[l]:n[l]/this.matrix[a][l]);return eN(this.matrix,r),ka(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const r of Object.keys(this.values))e[r]=this.values[r]===0?0:-this.values[r];return ka(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function r(n,s){return n===void 0||n===0?s===void 0||s===0:n===s}for(const n of Ml)if(!r(this.values[n],e.values[n]))return!1;return!0}}const Ru="Invalid Interval";function cj(t,e){return!t||!t.isValid?un.invalid("missing or invalid start"):!e||!e.isValid?un.invalid("missing or invalid end"):e<t?un.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class un{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,r=null){if(!e)throw new Kn("need to specify a reason the Interval is invalid");const n=e instanceof Ws?e:new Ws(e,r);if(cn.throwOnInvalid)throw new RP(n);return new un({invalid:n})}static fromDateTimes(e,r){const n=kd(e),s=kd(r),a=cj(n,s);return a??new un({start:n,end:s})}static after(e,r){const n=_r.fromDurationLike(r),s=kd(e);return un.fromDateTimes(s,s.plus(n))}static before(e,r){const n=_r.fromDurationLike(r),s=kd(e);return un.fromDateTimes(s.minus(n),s)}static fromISO(e,r){const[n,s]=(e||"").split("/",2);if(n&&s){let a,l;try{a=Yt.fromISO(n,r),l=a.isValid}catch{l=!1}let u,d;try{u=Yt.fromISO(s,r),d=u.isValid}catch{d=!1}if(l&&d)return un.fromDateTimes(a,u);if(l){const m=_r.fromISO(s,r);if(m.isValid)return un.after(a,m)}else if(d){const m=_r.fromISO(n,r);if(m.isValid)return un.before(u,m)}}return un.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",r){if(!this.isValid)return NaN;const n=this.start.startOf(e,r);let s;return r?.useLocaleWeeks?s=this.end.reconfigure({locale:n.locale}):s=this.end,s=s.startOf(e,r),Math.floor(s.diff(n,e).get(e))+(s.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:r}={}){return this.isValid?un.fromDateTimes(e||this.s,r||this.e):this}splitAt(...e){if(!this.isValid)return[];const r=e.map(kd).filter(l=>this.contains(l)).sort((l,u)=>l.toMillis()-u.toMillis()),n=[];let{s}=this,a=0;for(;s<this.e;){const l=r[a]||this.e,u=+l>+this.e?this.e:l;n.push(un.fromDateTimes(s,u)),s=u,a+=1}return n}splitBy(e){const r=_r.fromDurationLike(e);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:n}=this,s=1,a;const l=[];for(;n<this.e;){const u=this.start.plus(r.mapUnits(d=>d*s));a=+u>+this.e?this.e:u,l.push(un.fromDateTimes(n,a)),n=a,s+=1}return l}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const r=this.s>e.s?this.s:e.s,n=this.e<e.e?this.e:e.e;return r>=n?null:un.fromDateTimes(r,n)}union(e){if(!this.isValid)return this;const r=this.s<e.s?this.s:e.s,n=this.e>e.e?this.e:e.e;return un.fromDateTimes(r,n)}static merge(e){const[r,n]=e.sort((s,a)=>s.s-a.s).reduce(([s,a],l)=>a?a.overlaps(l)||a.abutsStart(l)?[s,a.union(l)]:[s.concat([a]),l]:[s,l],[[],null]);return n&&r.push(n),r}static xor(e){let r=null,n=0;const s=[],a=e.map(d=>[{time:d.s,type:"s"},{time:d.e,type:"e"}]),l=Array.prototype.concat(...a),u=l.sort((d,m)=>d.time-m.time);for(const d of u)n+=d.type==="s"?1:-1,n===1?r=d.time:(r&&+r!=+d.time&&s.push(un.fromDateTimes(r,d.time)),r=null);return un.merge(s)}difference(...e){return un.xor([this].concat(e)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:Ru}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=Sm,r={}){return this.isValid?Jn.create(this.s.loc.clone(r),e).formatInterval(this):Ru}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Ru}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Ru}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Ru}toFormat(e,{separator:r="  "}={}){return this.isValid?`${this.s.toFormat(e)}${r}${this.e.toFormat(e)}`:Ru}toDuration(e,r){return this.isValid?this.e.diff(this.s,e,r):_r.invalid(this.invalidReason)}mapEndpoints(e){return un.fromDateTimes(e(this.s),e(this.e))}}class Sp{static hasDST(e=cn.defaultZone){const r=Yt.now().setZone(e).set({month:12});return!e.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(e){return Go.isValidZone(e)}static normalizeZone(e){return Pa(e,cn.defaultZone)}static getStartOfWeek({locale:e=null,locObj:r=null}={}){return(r||Ir.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:r=null}={}){return(r||Ir.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:r=null}={}){return(r||Ir.create(e)).getWeekendDays().slice()}static months(e="long",{locale:r=null,numberingSystem:n=null,locObj:s=null,outputCalendar:a="gregory"}={}){return(s||Ir.create(r,n,a)).months(e)}static monthsFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:s=null,outputCalendar:a="gregory"}={}){return(s||Ir.create(r,n,a)).months(e,!0)}static weekdays(e="long",{locale:r=null,numberingSystem:n=null,locObj:s=null}={}){return(s||Ir.create(r,n,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:r=null,numberingSystem:n=null,locObj:s=null}={}){return(s||Ir.create(r,n,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Ir.create(e).meridiems()}static eras(e="short",{locale:r=null}={}){return Ir.create(r,null,"gregory").eras(e)}static features(){return{relative:o3(),localeWeek:a3()}}}function tN(t,e){const r=s=>s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(e)-r(t);return Math.floor(_r.fromMillis(n).as("days"))}function dj(t,e,r){const n=[["years",(d,m)=>m.year-d.year],["quarters",(d,m)=>m.quarter-d.quarter+(m.year-d.year)*4],["months",(d,m)=>m.month-d.month+(m.year-d.year)*12],["weeks",(d,m)=>{const g=tN(d,m);return(g-g%7)/7}],["days",tN]],s={},a=t;let l,u;for(const[d,m]of n)r.indexOf(d)>=0&&(l=d,s[d]=m(t,e),u=a.plus(s),u>e?(s[d]--,t=a.plus(s),t>e&&(u=t,s[d]--,t=a.plus(s))):t=u);return[t,s,u,l]}function fj(t,e,r,n){let[s,a,l,u]=dj(t,e,r);const d=e-s,m=r.filter(w=>["hours","minutes","seconds","milliseconds"].indexOf(w)>=0);m.length===0&&(l<e&&(l=s.plus({[u]:1})),l!==s&&(a[u]=(a[u]||0)+d/(l-s)));const g=_r.fromObject(a,n);return m.length>0?_r.fromMillis(d,n).shiftTo(...m).plus(g):g}const hj="missing Intl.DateTimeFormat.formatToParts support";function Sr(t,e=r=>r){return{regex:t,deser:([r])=>e(rF(r))}}const pj="\xa0",N3=`[ ${pj}]`,k3=new RegExp(N3,"g");function mj(t){return t.replace(/\./g,"\\.?").replace(k3,N3)}function rN(t){return t.replace(/\./g,"").replace(k3," ").toLowerCase()}function Fs(t,e){return t===null?null:{regex:RegExp(t.map(mj).join("|")),deser:([r])=>t.findIndex(n=>rN(r)===rN(n))+e}}function nN(t,e){return{regex:t,deser:([,r,n])=>gy(r,n),groups:e}}function Ep(t){return{regex:t,deser:([e])=>e}}function yj(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function gj(t,e){const r=Ps(e),n=Ps(e,"{2}"),s=Ps(e,"{3}"),a=Ps(e,"{4}"),l=Ps(e,"{6}"),u=Ps(e,"{1,2}"),d=Ps(e,"{1,3}"),m=Ps(e,"{1,6}"),g=Ps(e,"{1,9}"),w=Ps(e,"{2,4}"),N=Ps(e,"{4,6}"),k=A=>({regex:RegExp(yj(A.val)),deser:([D])=>D,literal:!0}),C=(A=>{if(t.literal)return k(A);switch(A.val){case"G":return Fs(e.eras("short"),0);case"GG":return Fs(e.eras("long"),0);case"y":return Sr(m);case"yy":return Sr(w,jb);case"yyyy":return Sr(a);case"yyyyy":return Sr(N);case"yyyyyy":return Sr(l);case"M":return Sr(u);case"MM":return Sr(n);case"MMM":return Fs(e.months("short",!0),1);case"MMMM":return Fs(e.months("long",!0),1);case"L":return Sr(u);case"LL":return Sr(n);case"LLL":return Fs(e.months("short",!1),1);case"LLLL":return Fs(e.months("long",!1),1);case"d":return Sr(u);case"dd":return Sr(n);case"o":return Sr(d);case"ooo":return Sr(s);case"HH":return Sr(n);case"H":return Sr(u);case"hh":return Sr(n);case"h":return Sr(u);case"mm":return Sr(n);case"m":return Sr(u);case"q":return Sr(u);case"qq":return Sr(n);case"s":return Sr(u);case"ss":return Sr(n);case"S":return Sr(d);case"SSS":return Sr(s);case"u":return Ep(g);case"uu":return Ep(u);case"uuu":return Sr(r);case"a":return Fs(e.meridiems(),0);case"kkkk":return Sr(a);case"kk":return Sr(w,jb);case"W":return Sr(u);case"WW":return Sr(n);case"E":case"c":return Sr(r);case"EEE":return Fs(e.weekdays("short",!1),1);case"EEEE":return Fs(e.weekdays("long",!1),1);case"ccc":return Fs(e.weekdays("short",!0),1);case"cccc":return Fs(e.weekdays("long",!0),1);case"Z":case"ZZ":return nN(new RegExp(`([+-]${u.source})(?::(${n.source}))?`),2);case"ZZZ":return nN(new RegExp(`([+-]${u.source})(${n.source})?`),2);case"z":return Ep(/[a-z_+-/]{1,256}?/i);case" ":return Ep(/[^\S\n\r]/);default:return k(A)}})(t)||{invalidReason:hj};return C.token=t,C}const vj={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function _j(t,e,r){const{type:n,value:s}=t;if(n==="literal"){const d=/^\s+$/.test(s);return{literal:!d,val:d?" ":s}}const a=e[n];let l=n;n==="hour"&&(e.hour12!=null?l=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?l="hour12":l="hour24":l=r.hour12?"hour12":"hour24");let u=vj[l];if(typeof u=="object"&&(u=u[a]),u)return{literal:!1,val:u}}function bj(t){return[`^${t.map(r=>r.regex).reduce((r,n)=>`${r}(${n.source})`,"")}$`,t]}function wj(t,e,r){const n=t.match(e);if(n){const s={};let a=1;for(const l in r)if(yc(r,l)){const u=r[l],d=u.groups?u.groups+1:1;!u.literal&&u.token&&(s[u.token.val[0]]=u.deser(n.slice(a,a+d))),a+=d}return[n,s]}else return[n,{}]}function xj(t){const e=a=>{switch(a){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,n;return Xt(t.z)||(r=Go.create(t.z)),Xt(t.Z)||(r||(r=new fi(t.Z)),n=t.Z),Xt(t.q)||(t.M=(t.q-1)*3+1),Xt(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),Xt(t.u)||(t.S=Rw(t.u)),[Object.keys(t).reduce((a,l)=>{const u=e(l);return u&&(a[u]=t[l]),a},{}),r,n]}let i_=null;function Sj(){return i_||(i_=Yt.fromMillis(0x16a2e5618e3)),i_}function Ej(t,e){if(t.literal)return t;const r=Jn.macroTokenToFormatOpts(t.val),n=T3(r,e);return n==null||n.includes(void 0)?t:n}function I3(t,e){return Array.prototype.concat(...t.map(r=>Ej(r,e)))}class O3{constructor(e,r){if(this.locale=e,this.format=r,this.tokens=I3(Jn.parseFormat(r),e),this.units=this.tokens.map(n=>gj(n,e)),this.disqualifyingUnit=this.units.find(n=>n.invalidReason),!this.disqualifyingUnit){const[n,s]=bj(this.units);this.regex=RegExp(n,"i"),this.handlers=s}}explainFromTokens(e){if(this.isValid){const[r,n]=wj(e,this.regex,this.handlers),[s,a,l]=n?xj(n):[null,null,void 0];if(yc(n,"a")&&yc(n,"H"))throw new Uu("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:r,matches:n,result:s,zone:a,specificOffset:l}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function C3(t,e,r){return new O3(t,r).explainFromTokens(e)}function Nj(t,e,r){const{result:n,zone:s,specificOffset:a,invalidReason:l}=C3(t,e,r);return[n,s,a,l]}function T3(t,e){if(!t)return null;const n=Jn.create(e,t).dtFormatter(Sj()),s=n.formatToParts(),a=n.resolvedOptions();return s.map(l=>_j(l,t,a))}const s_="Invalid DateTime",iN=864e13;function jd(t){return new Ws("unsupported zone",`the zone "${t.name}" is not supported`)}function o_(t){return t.weekData===null&&(t.weekData=Em(t.c)),t.weekData}function a_(t){return t.localWeekData===null&&(t.localWeekData=Em(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function Tl(t,e){const r={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new Yt({...r,...e,old:r})}function q3(t,e,r){let n=t-e*60*1e3;const s=r.offset(n);if(e===s)return[n,e];n-=(s-e)*60*1e3;const a=r.offset(n);return s===a?[n,s]:[t-Math.min(s,a)*60*1e3,Math.max(s,a)]}function Np(t,e){t+=e*60*1e3;const r=new Date(t);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function Vp(t,e,r){return q3(yy(t),e,r)}function sN(t,e){const r=t.o,n=t.c.year+Math.trunc(e.years),s=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,a={...t.c,year:n,month:s,day:Math.min(t.c.day,Nm(n,s))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},l=_r.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),u=yy(a);let[d,m]=q3(u,r,t.zone);return l!==0&&(d+=l,m=t.zone.offset(d)),{ts:d,o:m}}function Au(t,e,r,n,s,a){const{setZone:l,zone:u}=r;if(t&&Object.keys(t).length!==0||e){const d=e||u,m=Yt.fromObject(t,{...r,zone:d,specificOffset:a});return l?m:m.setZone(u)}else return Yt.invalid(new Ws("unparsable",`the input "${s}" can't be parsed as ${n}`))}function kp(t,e,r=!0){return t.isValid?Jn.create(Ir.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(t,e):null}function l_(t,e){const r=t.c.year>9999||t.c.year<0;let n="";return r&&t.c.year>=0&&(n+="+"),n+=_n(t.c.year,r?6:4),e?(n+="-",n+=_n(t.c.month),n+="-",n+=_n(t.c.day)):(n+=_n(t.c.month),n+=_n(t.c.day)),n}function oN(t,e,r,n,s,a){let l=_n(t.c.hour);return e?(l+=":",l+=_n(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!r)&&(l+=":")):l+=_n(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!r)&&(l+=_n(t.c.second),(t.c.millisecond!==0||!n)&&(l+=".",l+=_n(t.c.millisecond,3))),s&&(t.isOffsetFixed&&t.offset===0&&!a?l+="Z":t.o<0?(l+="-",l+=_n(Math.trunc(-t.o/60)),l+=":",l+=_n(Math.trunc(-t.o%60))):(l+="+",l+=_n(Math.trunc(t.o/60)),l+=":",l+=_n(Math.trunc(t.o%60)))),a&&(l+="["+t.zone.ianaName+"]"),l}const R3={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},kj={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Ij={ordinal:1,hour:0,minute:0,second:0,millisecond:0},A3=["year","month","day","hour","minute","second","millisecond"],Oj=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Cj=["year","ordinal","hour","minute","second","millisecond"];function Tj(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new PI(t);return e}function aN(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return Tj(t)}}function qj(t){return Qp[t]||(Hp===void 0&&(Hp=cn.now()),Qp[t]=t.offset(Hp)),Qp[t]}function lN(t,e){const r=Pa(e.zone,cn.defaultZone);if(!r.isValid)return Yt.invalid(jd(r));const n=Ir.fromObject(e);let s,a;if(Xt(t.year))s=cn.now();else{for(const d of A3)Xt(t[d])&&(t[d]=R3[d]);const l=i3(t)||s3(t);if(l)return Yt.invalid(l);const u=qj(r);[s,a]=Vp(t,u,r)}return new Yt({ts:s,zone:r,loc:n,o:a})}function uN(t,e,r){const n=Xt(r.round)?!0:r.round,s=(l,u)=>(l=Aw(l,n||r.calendary?0:2,!0),e.loc.clone(r).relFormatter(r).format(l,u)),a=l=>r.calendary?e.hasSame(t,l)?0:e.startOf(l).diff(t.startOf(l),l).get(l):e.diff(t,l).get(l);if(r.unit)return s(a(r.unit),r.unit);for(const l of r.units){const u=a(l);if(Math.abs(u)>=1)return s(u,l)}return s(t>e?-0:0,r.units[r.units.length-1])}function cN(t){let e={},r;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],r=Array.from(t).slice(0,t.length-1)):r=Array.from(t),[e,r]}let Hp,Qp={};class Yt{constructor(e){const r=e.zone||cn.defaultZone;let n=e.invalid||(Number.isNaN(e.ts)?new Ws("invalid input"):null)||(r.isValid?null:jd(r));this.ts=Xt(e.ts)?cn.now():e.ts;let s=null,a=null;if(!n)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(r))[s,a]=[e.old.c,e.old.o];else{const u=$a(e.o)&&!e.old?e.o:r.offset(this.ts);s=Np(this.ts,u),n=Number.isNaN(s.year)?new Ws("invalid input"):null,s=n?null:s,a=n?null:u}this._zone=r,this.loc=e.loc||Ir.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=s,this.o=a,this.isLuxonDateTime=!0}static now(){return new Yt({})}static local(){const[e,r]=cN(arguments),[n,s,a,l,u,d,m]=r;return lN({year:n,month:s,day:a,hour:l,minute:u,second:d,millisecond:m},e)}static utc(){const[e,r]=cN(arguments),[n,s,a,l,u,d,m]=r;return e.zone=fi.utcInstance,lN({year:n,month:s,day:a,hour:l,minute:u,second:d,millisecond:m},e)}static fromJSDate(e,r={}){const n=aF(e)?e.valueOf():NaN;if(Number.isNaN(n))return Yt.invalid("invalid input");const s=Pa(r.zone,cn.defaultZone);return s.isValid?new Yt({ts:n,zone:s,loc:Ir.fromObject(r)}):Yt.invalid(jd(s))}static fromMillis(e,r={}){if($a(e))return e<-iN||e>iN?Yt.invalid("Timestamp out of range"):new Yt({ts:e,zone:Pa(r.zone,cn.defaultZone),loc:Ir.fromObject(r)});throw new Kn(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,r={}){if($a(e))return new Yt({ts:e*1e3,zone:Pa(r.zone,cn.defaultZone),loc:Ir.fromObject(r)});throw new Kn("fromSeconds requires a numerical input")}static fromObject(e,r={}){e=e||{};const n=Pa(r.zone,cn.defaultZone);if(!n.isValid)return Yt.invalid(jd(n));const s=Ir.fromObject(r),a=km(e,aN),{minDaysInFirstWeek:l,startOfWeek:u}=KE(a,s),d=cn.now(),m=Xt(r.specificOffset)?n.offset(d):r.specificOffset,g=!Xt(a.ordinal),w=!Xt(a.year),N=!Xt(a.month)||!Xt(a.day),k=w||N,O=a.weekYear||a.weekNumber;if((k||g)&&O)throw new Uu("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(N&&g)throw new Uu("Can't mix ordinal dates with month/day");const C=O||a.weekday&&!k;let A,D,j=Np(d,m);C?(A=Oj,D=kj,j=Em(j,l,u)):g?(A=Cj,D=Ij,j=n_(j)):(A=A3,D=R3);let $=!1;for(const ne of A){const M=a[ne];Xt(M)?$?a[ne]=D[ne]:a[ne]=j[ne]:$=!0}const V=C?iF(a,l,u):g?sF(a):i3(a),G=V||s3(a);if(G)return Yt.invalid(G);const B=C?HE(a,l,u):g?QE(a):a,[Z,ie]=Vp(B,m,n),U=new Yt({ts:Z,zone:n,o:ie,loc:s});return a.weekday&&k&&e.weekday!==U.weekday?Yt.invalid("mismatched weekday",`you can't specify both a weekday of ${a.weekday} and a date of ${U.toISO()}`):U.isValid?U:Yt.invalid(U.invalid)}static fromISO(e,r={}){const[n,s]=JF(e);return Au(n,s,r,"ISO 8601",e)}static fromRFC2822(e,r={}){const[n,s]=ZF(e);return Au(n,s,r,"RFC 2822",e)}static fromHTTP(e,r={}){const[n,s]=YF(e);return Au(n,s,r,"HTTP",r)}static fromFormat(e,r,n={}){if(Xt(e)||Xt(r))throw new Kn("fromFormat requires an input string and a format");const{locale:s=null,numberingSystem:a=null}=n,l=Ir.fromOpts({locale:s,numberingSystem:a,defaultToEN:!0}),[u,d,m,g]=Nj(l,e,r);return g?Yt.invalid(g):Au(u,d,n,`format ${r}`,e,m)}static fromString(e,r,n={}){return Yt.fromFormat(e,r,n)}static fromSQL(e,r={}){const[n,s]=sj(e);return Au(n,s,r,"SQL",e)}static invalid(e,r=null){if(!e)throw new Kn("need to specify a reason the DateTime is invalid");const n=e instanceof Ws?e:new Ws(e,r);if(cn.throwOnInvalid)throw new qP(n);return new Yt({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,r={}){const n=T3(e,Ir.fromObject(r));return n?n.map(s=>s?s.val:null).join(""):null}static expandFormat(e,r={}){return I3(Jn.parseFormat(e),Ir.fromObject(r)).map(s=>s.val).join("")}static resetCache(){Hp=void 0,Qp={}}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?o_(this).weekYear:NaN}get weekNumber(){return this.isValid?o_(this).weekNumber:NaN}get weekday(){return this.isValid?o_(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?a_(this).weekday:NaN}get localWeekNumber(){return this.isValid?a_(this).weekNumber:NaN}get localWeekYear(){return this.isValid?a_(this).weekYear:NaN}get ordinal(){return this.isValid?n_(this.c).ordinal:NaN}get monthShort(){return this.isValid?Sp.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Sp.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Sp.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Sp.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,r=6e4,n=yy(this.c),s=this.zone.offset(n-e),a=this.zone.offset(n+e),l=this.zone.offset(n-s*r),u=this.zone.offset(n-a*r);if(l===u)return[this];const d=n-l*r,m=n-u*r,g=Np(d,l),w=Np(m,u);return g.hour===w.hour&&g.minute===w.minute&&g.second===w.second&&g.millisecond===w.millisecond?[Tl(this,{ts:d}),Tl(this,{ts:m})]:[this]}get isInLeapYear(){return Bf(this.year)}get daysInMonth(){return Nm(this.year,this.month)}get daysInYear(){return this.isValid?ec(this.year):NaN}get weeksInWeekYear(){return this.isValid?uf(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?uf(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:r,numberingSystem:n,calendar:s}=Jn.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:r,numberingSystem:n,outputCalendar:s}}toUTC(e=0,r={}){return this.setZone(fi.instance(e),r)}toLocal(){return this.setZone(cn.defaultZone)}setZone(e,{keepLocalTime:r=!1,keepCalendarTime:n=!1}={}){if(e=Pa(e,cn.defaultZone),e.equals(this.zone))return this;if(e.isValid){let s=this.ts;if(r||n){const a=e.offset(this.ts),l=this.toObject();[s]=Vp(l,a,e)}return Tl(this,{ts:s,zone:e})}else return Yt.invalid(jd(e))}reconfigure({locale:e,numberingSystem:r,outputCalendar:n}={}){const s=this.loc.clone({locale:e,numberingSystem:r,outputCalendar:n});return Tl(this,{loc:s})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const r=km(e,aN),{minDaysInFirstWeek:n,startOfWeek:s}=KE(r,this.loc),a=!Xt(r.weekYear)||!Xt(r.weekNumber)||!Xt(r.weekday),l=!Xt(r.ordinal),u=!Xt(r.year),d=!Xt(r.month)||!Xt(r.day),m=u||d,g=r.weekYear||r.weekNumber;if((m||l)&&g)throw new Uu("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(d&&l)throw new Uu("Can't mix ordinal dates with month/day");let w;a?w=HE({...Em(this.c,n,s),...r},n,s):Xt(r.ordinal)?(w={...this.toObject(),...r},Xt(r.day)&&(w.day=Math.min(Nm(w.year,w.month),w.day))):w=QE({...n_(this.c),...r});const[N,k]=Vp(w,this.o,this.zone);return Tl(this,{ts:N,o:k})}plus(e){if(!this.isValid)return this;const r=_r.fromDurationLike(e);return Tl(this,sN(this,r))}minus(e){if(!this.isValid)return this;const r=_r.fromDurationLike(e).negate();return Tl(this,sN(this,r))}startOf(e,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;const n={},s=_r.normalizeUnit(e);switch(s){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(s==="weeks")if(r){const a=this.loc.getStartOfWeek(),{weekday:l}=this;l<a&&(n.weekNumber=this.weekNumber-1),n.weekday=a}else n.weekday=1;if(s==="quarters"){const a=Math.ceil(this.month/3);n.month=(a-1)*3+1}return this.set(n)}endOf(e,r){return this.isValid?this.plus({[e]:1}).startOf(e,r).minus(1):this}toFormat(e,r={}){return this.isValid?Jn.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,e):s_}toLocaleString(e=Sm,r={}){return this.isValid?Jn.create(this.loc.clone(r),e).formatDateTime(this):s_}toLocaleParts(e={}){return this.isValid?Jn.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:r=!1,suppressMilliseconds:n=!1,includeOffset:s=!0,extendedZone:a=!1}={}){if(!this.isValid)return null;const l=e==="extended";let u=l_(this,l);return u+="T",u+=oN(this,l,r,n,s,a),u}toISODate({format:e="extended"}={}){return this.isValid?l_(this,e==="extended"):null}toISOWeekDate(){return kp(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:r=!1,includeOffset:n=!0,includePrefix:s=!1,extendedZone:a=!1,format:l="extended"}={}){return this.isValid?(s?"T":"")+oN(this,l==="extended",r,e,n,a):null}toRFC2822(){return kp(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return kp(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?l_(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:r=!1,includeOffsetSpace:n=!0}={}){let s="HH:mm:ss.SSS";return(r||e)&&(n&&(s+=" "),r?s+="z":e&&(s+="ZZ")),kp(this,s,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():s_}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const r={...this.c};return e.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,r="milliseconds",n={}){if(!this.isValid||!e.isValid)return _r.invalid("created by diffing an invalid DateTime");const s={locale:this.locale,numberingSystem:this.numberingSystem,...n},a=lF(r).map(_r.normalizeUnit),l=e.valueOf()>this.valueOf(),u=l?this:e,d=l?e:this,m=fj(u,d,a,s);return l?m.negate():m}diffNow(e="milliseconds",r={}){return this.diff(Yt.now(),e,r)}until(e){return this.isValid?un.fromDateTimes(this,e):this}hasSame(e,r,n){if(!this.isValid)return!1;const s=e.valueOf(),a=this.setZone(e.zone,{keepLocalTime:!0});return a.startOf(r,n)<=s&&s<=a.endOf(r,n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const r=e.base||Yt.fromObject({},{zone:this.zone}),n=e.padding?this<r?-e.padding:e.padding:0;let s=["years","months","days","hours","minutes","seconds"],a=e.unit;return Array.isArray(e.unit)&&(s=e.unit,a=void 0),uN(r,this.plus(n),{...e,numeric:"always",units:s,unit:a})}toRelativeCalendar(e={}){return this.isValid?uN(e.base||Yt.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(Yt.isDateTime))throw new Kn("min requires all arguments be DateTimes");return GE(e,r=>r.valueOf(),Math.min)}static max(...e){if(!e.every(Yt.isDateTime))throw new Kn("max requires all arguments be DateTimes");return GE(e,r=>r.valueOf(),Math.max)}static fromFormatExplain(e,r,n={}){const{locale:s=null,numberingSystem:a=null}=n,l=Ir.fromOpts({locale:s,numberingSystem:a,defaultToEN:!0});return C3(l,e,r)}static fromStringExplain(e,r,n={}){return Yt.fromFormatExplain(e,r,n)}static buildFormatParser(e,r={}){const{locale:n=null,numberingSystem:s=null}=r,a=Ir.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0});return new O3(a,e)}static fromFormatParser(e,r,n={}){if(Xt(e)||Xt(r))throw new Kn("fromFormatParser requires an input string and a format parser");const{locale:s=null,numberingSystem:a=null}=n,l=Ir.fromOpts({locale:s,numberingSystem:a,defaultToEN:!0});if(!l.equals(r.locale))throw new Kn(`fromFormatParser called with a locale of ${l}, but the format parser was created for ${r.locale}`);const{result:u,zone:d,specificOffset:m,invalidReason:g}=r.explainFromTokens(e);return g?Yt.invalid(g):Au(u,d,n,`format ${r.format}`,e,m)}static get DATE_SHORT(){return Sm}static get DATE_MED(){return FI}static get DATE_MED_WITH_WEEKDAY(){return PP}static get DATE_FULL(){return jI}static get DATE_HUGE(){return LI}static get TIME_SIMPLE(){return DI}static get TIME_WITH_SECONDS(){return MI}static get TIME_WITH_SHORT_OFFSET(){return BI}static get TIME_WITH_LONG_OFFSET(){return $I}static get TIME_24_SIMPLE(){return WI}static get TIME_24_WITH_SECONDS(){return zI}static get TIME_24_WITH_SHORT_OFFSET(){return UI}static get TIME_24_WITH_LONG_OFFSET(){return VI}static get DATETIME_SHORT(){return HI}static get DATETIME_SHORT_WITH_SECONDS(){return QI}static get DATETIME_MED(){return KI}static get DATETIME_MED_WITH_SECONDS(){return GI}static get DATETIME_MED_WITH_WEEKDAY(){return FP}static get DATETIME_FULL(){return JI}static get DATETIME_FULL_WITH_SECONDS(){return ZI}static get DATETIME_HUGE(){return YI}static get DATETIME_HUGE_WITH_SECONDS(){return XI}}function kd(t){if(Yt.isDateTime(t))return t;if(t&&t.valueOf&&$a(t.valueOf()))return Yt.fromJSDate(t);if(t&&typeof t=="object")return Yt.fromObject(t);throw new Kn(`Unknown datetime argument: ${t}, of type ${typeof t}`)}function P3(t,e){return function(){return t.apply(e,arguments)}}const{toString:Rj}=Object.prototype,{getPrototypeOf:Lw}=Object,_y=(t=>e=>{const r=Rj.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Gs=t=>(t=t.toLowerCase(),e=>_y(e)===t),by=t=>e=>typeof e===t,{isArray:qc}=Array,cf=by("undefined");function Aj(t){return t!==null&&!cf(t)&&t.constructor!==null&&!cf(t.constructor)&&Gi(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const F3=Gs("ArrayBuffer");function Pj(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&F3(t.buffer),e}const Fj=by("string"),Gi=by("function"),j3=by("number"),wy=t=>t!==null&&typeof t=="object",jj=t=>t===!0||t===!1,Kp=t=>{if(_y(t)!=="object")return!1;const e=Lw(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Lj=Gs("Date"),Dj=Gs("File"),Mj=Gs("Blob"),Bj=Gs("FileList"),$j=t=>wy(t)&&Gi(t.pipe),Wj=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Gi(t.append)&&((e=_y(t))==="formdata"||e==="object"&&Gi(t.toString)&&t.toString()==="[object FormData]"))},zj=Gs("URLSearchParams"),[Uj,Vj,Hj,Qj]=["ReadableStream","Request","Response","Headers"].map(Gs),Kj=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function zf(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,s;if(typeof t!="object"&&(t=[t]),qc(t))for(n=0,s=t.length;n<s;n++)e.call(null,t[n],n,t);else{const a=r?Object.getOwnPropertyNames(t):Object.keys(t),l=a.length;let u;for(n=0;n<l;n++)u=a[n],e.call(null,t[u],u,t)}}function L3(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,s;for(;n-- >0;)if(s=r[n],e===s.toLowerCase())return s;return null}const Bl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,D3=t=>!cf(t)&&t!==Bl;function Lb(){const{caseless:t}=D3(this)&&this||{},e={},r=(n,s)=>{const a=t&&L3(e,s)||s;Kp(e[a])&&Kp(n)?e[a]=Lb(e[a],n):Kp(n)?e[a]=Lb({},n):qc(n)?e[a]=n.slice():e[a]=n};for(let n=0,s=arguments.length;n<s;n++)arguments[n]&&zf(arguments[n],r);return e}const Gj=(t,e,r,{allOwnKeys:n}={})=>(zf(e,(s,a)=>{r&&Gi(s)?t[a]=P3(s,r):t[a]=s},{allOwnKeys:n}),t),Jj=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Zj=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Yj=(t,e,r,n)=>{let s,a,l;const u={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),a=s.length;a-- >0;)l=s[a],(!n||n(l,t,e))&&!u[l]&&(e[l]=t[l],u[l]=!0);t=r!==!1&&Lw(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Xj=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},eL=t=>{if(!t)return null;if(qc(t))return t;let e=t.length;if(!j3(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},tL=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Lw(Uint8Array)),rL=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=n.next())&&!s.done;){const a=s.value;e.call(t,a[0],a[1])}},nL=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},iL=Gs("HTMLFormElement"),sL=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),dN=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),oL=Gs("RegExp"),M3=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};zf(r,(s,a)=>{let l;(l=e(s,a,t))!==!1&&(n[a]=l||s)}),Object.defineProperties(t,n)},aL=t=>{M3(t,(e,r)=>{if(Gi(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Gi(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},lL=(t,e)=>{const r={},n=s=>{s.forEach(a=>{r[a]=!0})};return qc(t)?n(t):n(String(t).split(e)),r},uL=()=>{},cL=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e,u_="abcdefghijklmnopqrstuvwxyz",fN="0123456789",B3={DIGIT:fN,ALPHA:u_,ALPHA_DIGIT:u_+u_.toUpperCase()+fN},dL=(t=16,e=B3.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function fL(t){return!!(t&&Gi(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const hL=t=>{const e=new Array(10),r=(n,s)=>{if(wy(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[s]=n;const a=qc(n)?[]:{};return zf(n,(l,u)=>{const d=r(l,s+1);!cf(d)&&(a[u]=d)}),e[s]=void 0,a}}return n};return r(t,0)},pL=Gs("AsyncFunction"),mL=t=>t&&(wy(t)||Gi(t))&&Gi(t.then)&&Gi(t.catch),$3=((t,e)=>t?setImmediate:e?((r,n)=>(Bl.addEventListener("message",({source:s,data:a})=>{s===Bl&&a===r&&n.length&&n.shift()()},!1),s=>{n.push(s),Bl.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Gi(Bl.postMessage)),yL=typeof queueMicrotask<"u"?queueMicrotask.bind(Bl):typeof process<"u"&&process.nextTick||$3,We={isArray:qc,isArrayBuffer:F3,isBuffer:Aj,isFormData:Wj,isArrayBufferView:Pj,isString:Fj,isNumber:j3,isBoolean:jj,isObject:wy,isPlainObject:Kp,isReadableStream:Uj,isRequest:Vj,isResponse:Hj,isHeaders:Qj,isUndefined:cf,isDate:Lj,isFile:Dj,isBlob:Mj,isRegExp:oL,isFunction:Gi,isStream:$j,isURLSearchParams:zj,isTypedArray:tL,isFileList:Bj,forEach:zf,merge:Lb,extend:Gj,trim:Kj,stripBOM:Jj,inherits:Zj,toFlatObject:Yj,kindOf:_y,kindOfTest:Gs,endsWith:Xj,toArray:eL,forEachEntry:rL,matchAll:nL,isHTMLForm:iL,hasOwnProperty:dN,hasOwnProp:dN,reduceDescriptors:M3,freezeMethods:aL,toObjectSet:lL,toCamelCase:sL,noop:uL,toFiniteNumber:cL,findKey:L3,global:Bl,isContextDefined:D3,ALPHABET:B3,generateString:dL,isSpecCompliantForm:fL,toJSONObject:hL,isAsyncFn:pL,isThenable:mL,setImmediate:$3,asap:yL};function or(t,e,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}We.inherits(or,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:We.toJSONObject(this.config),code:this.code,status:this.status}}});const W3=or.prototype,z3={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{z3[t]={value:t}});Object.defineProperties(or,z3);Object.defineProperty(W3,"isAxiosError",{value:!0});or.from=(t,e,r,n,s,a)=>{const l=Object.create(W3);return We.toFlatObject(t,l,function(d){return d!==Error.prototype},u=>u!=="isAxiosError"),or.call(l,t.message,e,r,n,s),l.cause=t,l.name=t.name,a&&Object.assign(l,a),l};const gL=null;function Db(t){return We.isPlainObject(t)||We.isArray(t)}function U3(t){return We.endsWith(t,"[]")?t.slice(0,-2):t}function hN(t,e,r){return t?t.concat(e).map(function(s,a){return s=U3(s),!r&&a?"["+s+"]":s}).join(r?".":""):e}function vL(t){return We.isArray(t)&&!t.some(Db)}const _L=We.toFlatObject(We,{},null,function(e){return/^is[A-Z]/.test(e)});function xy(t,e,r){if(!We.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=We.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(C,A){return!We.isUndefined(A[C])});const n=r.metaTokens,s=r.visitor||g,a=r.dots,l=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&We.isSpecCompliantForm(e);if(!We.isFunction(s))throw new TypeError("visitor must be a function");function m(O){if(O===null)return"";if(We.isDate(O))return O.toISOString();if(!d&&We.isBlob(O))throw new or("Blob is not supported. Use a Buffer instead.");return We.isArrayBuffer(O)||We.isTypedArray(O)?d&&typeof Blob=="function"?new Blob([O]):Buffer.from(O):O}function g(O,C,A){let D=O;if(O&&!A&&typeof O=="object"){if(We.endsWith(C,"{}"))C=n?C:C.slice(0,-2),O=JSON.stringify(O);else if(We.isArray(O)&&vL(O)||(We.isFileList(O)||We.endsWith(C,"[]"))&&(D=We.toArray(O)))return C=U3(C),D.forEach(function($,V){!(We.isUndefined($)||$===null)&&e.append(l===!0?hN([C],V,a):l===null?C:C+"[]",m($))}),!1}return Db(O)?!0:(e.append(hN(A,C,a),m(O)),!1)}const w=[],N=Object.assign(_L,{defaultVisitor:g,convertValue:m,isVisitable:Db});function k(O,C){if(!We.isUndefined(O)){if(w.indexOf(O)!==-1)throw Error("Circular reference detected in "+C.join("."));w.push(O),We.forEach(O,function(D,j){(!(We.isUndefined(D)||D===null)&&s.call(e,D,We.isString(j)?j.trim():j,C,N))===!0&&k(D,C?C.concat(j):[j])}),w.pop()}}if(!We.isObject(t))throw new TypeError("data must be an object");return k(t),e}function pN(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Dw(t,e){this._pairs=[],t&&xy(t,this,e)}const V3=Dw.prototype;V3.append=function(e,r){this._pairs.push([e,r])};V3.toString=function(e){const r=e?function(n){return e.call(this,n,pN)}:pN;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function bL(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function H3(t,e,r){if(!e)return t;const n=r&&r.encode||bL;We.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let a;if(s?a=s(e,r):a=We.isURLSearchParams(e)?e.toString():new Dw(e,r).toString(n),a){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class mN{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){We.forEach(this.handlers,function(n){n!==null&&e(n)})}}const Q3={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},wL=typeof URLSearchParams<"u"?URLSearchParams:Dw,xL=typeof FormData<"u"?FormData:null,SL=typeof Blob<"u"?Blob:null,EL={isBrowser:!0,classes:{URLSearchParams:wL,FormData:xL,Blob:SL},protocols:["http","https","file","blob","url","data"]},Mw=typeof window<"u"&&typeof document<"u",Mb=typeof navigator=="object"&&navigator||void 0,NL=Mw&&(!Mb||["ReactNative","NativeScript","NS"].indexOf(Mb.product)<0),kL=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",IL=Mw&&window.location.href||"http://localhost",OL=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Mw,hasStandardBrowserEnv:NL,hasStandardBrowserWebWorkerEnv:kL,navigator:Mb,origin:IL},Symbol.toStringTag,{value:"Module"})),Zn={...OL,...EL};function CL(t,e){return xy(t,new Zn.classes.URLSearchParams,Object.assign({visitor:function(r,n,s,a){return Zn.isNode&&We.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)}},e))}function TL(t){return We.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function qL(t){const e={},r=Object.keys(t);let n;const s=r.length;let a;for(n=0;n<s;n++)a=r[n],e[a]=t[a];return e}function K3(t){function e(r,n,s,a){let l=r[a++];if(l==="__proto__")return!0;const u=Number.isFinite(+l),d=a>=r.length;return l=!l&&We.isArray(s)?s.length:l,d?(We.hasOwnProp(s,l)?s[l]=[s[l],n]:s[l]=n,!u):((!s[l]||!We.isObject(s[l]))&&(s[l]=[]),e(r,n,s[l],a)&&We.isArray(s[l])&&(s[l]=qL(s[l])),!u)}if(We.isFormData(t)&&We.isFunction(t.entries)){const r={};return We.forEachEntry(t,(n,s)=>{e(TL(n),s,r,0)}),r}return null}function RL(t,e,r){if(We.isString(t))try{return(e||JSON.parse)(t),We.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Uf={transitional:Q3,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,a=We.isObject(e);if(a&&We.isHTMLForm(e)&&(e=new FormData(e)),We.isFormData(e))return s?JSON.stringify(K3(e)):e;if(We.isArrayBuffer(e)||We.isBuffer(e)||We.isStream(e)||We.isFile(e)||We.isBlob(e)||We.isReadableStream(e))return e;if(We.isArrayBufferView(e))return e.buffer;if(We.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return CL(e,this.formSerializer).toString();if((u=We.isFileList(e))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return xy(u?{"files[]":e}:e,d&&new d,this.formSerializer)}}return a||s?(r.setContentType("application/json",!1),RL(e)):e}],transformResponse:[function(e){const r=this.transitional||Uf.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(We.isResponse(e)||We.isReadableStream(e))return e;if(e&&We.isString(e)&&(n&&!this.responseType||s)){const l=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(u){if(l)throw u.name==="SyntaxError"?or.from(u,or.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zn.classes.FormData,Blob:Zn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};We.forEach(["delete","get","head","post","put","patch"],t=>{Uf.headers[t]={}});const AL=We.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),PL=t=>{const e={};let r,n,s;return t&&t.split(`
`).forEach(function(l){s=l.indexOf(":"),r=l.substring(0,s).trim().toLowerCase(),n=l.substring(s+1).trim(),!(!r||e[r]&&AL[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},yN=Symbol("internals");function Id(t){return t&&String(t).trim().toLowerCase()}function Gp(t){return t===!1||t==null?t:We.isArray(t)?t.map(Gp):String(t)}function FL(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const jL=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function c_(t,e,r,n,s){if(We.isFunction(n))return n.call(this,e,r);if(s&&(e=r),!!We.isString(e)){if(We.isString(n))return e.indexOf(n)!==-1;if(We.isRegExp(n))return n.test(e)}}function LL(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function DL(t,e){const r=We.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(s,a,l){return this[n].call(this,e,s,a,l)},configurable:!0})})}let qi=class{constructor(e){e&&this.set(e)}set(e,r,n){const s=this;function a(u,d,m){const g=Id(d);if(!g)throw new Error("header name must be a non-empty string");const w=We.findKey(s,g);(!w||s[w]===void 0||m===!0||m===void 0&&s[w]!==!1)&&(s[w||d]=Gp(u))}const l=(u,d)=>We.forEach(u,(m,g)=>a(m,g,d));if(We.isPlainObject(e)||e instanceof this.constructor)l(e,r);else if(We.isString(e)&&(e=e.trim())&&!jL(e))l(PL(e),r);else if(We.isHeaders(e))for(const[u,d]of e.entries())a(d,u,n);else e!=null&&a(r,e,n);return this}get(e,r){if(e=Id(e),e){const n=We.findKey(this,e);if(n){const s=this[n];if(!r)return s;if(r===!0)return FL(s);if(We.isFunction(r))return r.call(this,s,n);if(We.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Id(e),e){const n=We.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||c_(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let s=!1;function a(l){if(l=Id(l),l){const u=We.findKey(n,l);u&&(!r||c_(n,n[u],u,r))&&(delete n[u],s=!0)}}return We.isArray(e)?e.forEach(a):a(e),s}clear(e){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const a=r[n];(!e||c_(this,this[a],a,e,!0))&&(delete this[a],s=!0)}return s}normalize(e){const r=this,n={};return We.forEach(this,(s,a)=>{const l=We.findKey(n,a);if(l){r[l]=Gp(s),delete r[a];return}const u=e?LL(a):String(a).trim();u!==a&&delete r[a],r[u]=Gp(s),n[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return We.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=e&&We.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[yN]=this[yN]={accessors:{}}).accessors,s=this.prototype;function a(l){const u=Id(l);n[u]||(DL(s,l),n[u]=!0)}return We.isArray(e)?e.forEach(a):a(e),this}};qi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);We.reduceDescriptors(qi.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});We.freezeMethods(qi);function d_(t,e){const r=this||Uf,n=e||r,s=qi.from(n.headers);let a=n.data;return We.forEach(t,function(u){a=u.call(r,a,s.normalize(),e?e.status:void 0)}),s.normalize(),a}function G3(t){return!!(t&&t.__CANCEL__)}function Rc(t,e,r){or.call(this,t??"canceled",or.ERR_CANCELED,e,r),this.name="CanceledError"}We.inherits(Rc,or,{__CANCEL__:!0});function J3(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new or("Request failed with status code "+r.status,[or.ERR_BAD_REQUEST,or.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function ML(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function BL(t,e){t=t||10;const r=new Array(t),n=new Array(t);let s=0,a=0,l;return e=e!==void 0?e:1e3,function(d){const m=Date.now(),g=n[a];l||(l=m),r[s]=d,n[s]=m;let w=a,N=0;for(;w!==s;)N+=r[w++],w=w%t;if(s=(s+1)%t,s===a&&(a=(a+1)%t),m-l<e)return;const k=g&&m-g;return k?Math.round(N*1e3/k):void 0}}function $L(t,e){let r=0,n=1e3/e,s,a;const l=(m,g=Date.now())=>{r=g,s=null,a&&(clearTimeout(a),a=null),t.apply(null,m)};return[(...m)=>{const g=Date.now(),w=g-r;w>=n?l(m,g):(s=m,a||(a=setTimeout(()=>{a=null,l(s)},n-w)))},()=>s&&l(s)]}const Im=(t,e,r=3)=>{let n=0;const s=BL(50,250);return $L(a=>{const l=a.loaded,u=a.lengthComputable?a.total:void 0,d=l-n,m=s(d),g=l<=u;n=l;const w={loaded:l,total:u,progress:u?l/u:void 0,bytes:d,rate:m||void 0,estimated:m&&u&&g?(u-l)/m:void 0,event:a,lengthComputable:u!=null,[e?"download":"upload"]:!0};t(w)},r)},gN=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},vN=t=>(...e)=>We.asap(()=>t(...e)),WL=Zn.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Zn.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Zn.origin),Zn.navigator&&/(msie|trident)/i.test(Zn.navigator.userAgent)):()=>!0,zL=Zn.hasStandardBrowserEnv?{write(t,e,r,n,s,a){const l=[t+"="+encodeURIComponent(e)];We.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),We.isString(n)&&l.push("path="+n),We.isString(s)&&l.push("domain="+s),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function UL(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function VL(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function Z3(t,e){return t&&!UL(e)?VL(t,e):e}const _N=t=>t instanceof qi?{...t}:t;function Kl(t,e){e=e||{};const r={};function n(m,g,w,N){return We.isPlainObject(m)&&We.isPlainObject(g)?We.merge.call({caseless:N},m,g):We.isPlainObject(g)?We.merge({},g):We.isArray(g)?g.slice():g}function s(m,g,w,N){if(We.isUndefined(g)){if(!We.isUndefined(m))return n(void 0,m,w,N)}else return n(m,g,w,N)}function a(m,g){if(!We.isUndefined(g))return n(void 0,g)}function l(m,g){if(We.isUndefined(g)){if(!We.isUndefined(m))return n(void 0,m)}else return n(void 0,g)}function u(m,g,w){if(w in e)return n(m,g);if(w in t)return n(void 0,m)}const d={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:u,headers:(m,g,w)=>s(_N(m),_N(g),w,!0)};return We.forEach(Object.keys(Object.assign({},t,e)),function(g){const w=d[g]||s,N=w(t[g],e[g],g);We.isUndefined(N)&&w!==u||(r[g]=N)}),r}const Y3=t=>{const e=Kl({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:a,headers:l,auth:u}=e;e.headers=l=qi.from(l),e.url=H3(Z3(e.baseURL,e.url),t.params,t.paramsSerializer),u&&l.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let d;if(We.isFormData(r)){if(Zn.hasStandardBrowserEnv||Zn.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((d=l.getContentType())!==!1){const[m,...g]=d?d.split(";").map(w=>w.trim()).filter(Boolean):[];l.setContentType([m||"multipart/form-data",...g].join("; "))}}if(Zn.hasStandardBrowserEnv&&(n&&We.isFunction(n)&&(n=n(e)),n||n!==!1&&WL(e.url))){const m=s&&a&&zL.read(a);m&&l.set(s,m)}return e},HL=typeof XMLHttpRequest<"u",QL=HL&&function(t){return new Promise(function(r,n){const s=Y3(t);let a=s.data;const l=qi.from(s.headers).normalize();let{responseType:u,onUploadProgress:d,onDownloadProgress:m}=s,g,w,N,k,O;function C(){k&&k(),O&&O(),s.cancelToken&&s.cancelToken.unsubscribe(g),s.signal&&s.signal.removeEventListener("abort",g)}let A=new XMLHttpRequest;A.open(s.method.toUpperCase(),s.url,!0),A.timeout=s.timeout;function D(){if(!A)return;const $=qi.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),G={data:!u||u==="text"||u==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:$,config:t,request:A};J3(function(Z){r(Z),C()},function(Z){n(Z),C()},G),A=null}"onloadend"in A?A.onloadend=D:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(D)},A.onabort=function(){A&&(n(new or("Request aborted",or.ECONNABORTED,t,A)),A=null)},A.onerror=function(){n(new or("Network Error",or.ERR_NETWORK,t,A)),A=null},A.ontimeout=function(){let V=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const G=s.transitional||Q3;s.timeoutErrorMessage&&(V=s.timeoutErrorMessage),n(new or(V,G.clarifyTimeoutError?or.ETIMEDOUT:or.ECONNABORTED,t,A)),A=null},a===void 0&&l.setContentType(null),"setRequestHeader"in A&&We.forEach(l.toJSON(),function(V,G){A.setRequestHeader(G,V)}),We.isUndefined(s.withCredentials)||(A.withCredentials=!!s.withCredentials),u&&u!=="json"&&(A.responseType=s.responseType),m&&([N,O]=Im(m,!0),A.addEventListener("progress",N)),d&&A.upload&&([w,k]=Im(d),A.upload.addEventListener("progress",w),A.upload.addEventListener("loadend",k)),(s.cancelToken||s.signal)&&(g=$=>{A&&(n(!$||$.type?new Rc(null,t,A):$),A.abort(),A=null)},s.cancelToken&&s.cancelToken.subscribe(g),s.signal&&(s.signal.aborted?g():s.signal.addEventListener("abort",g)));const j=ML(s.url);if(j&&Zn.protocols.indexOf(j)===-1){n(new or("Unsupported protocol "+j+":",or.ERR_BAD_REQUEST,t));return}A.send(a||null)})},KL=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,s;const a=function(m){if(!s){s=!0,u();const g=m instanceof Error?m:this.reason;n.abort(g instanceof or?g:new Rc(g instanceof Error?g.message:g))}};let l=e&&setTimeout(()=>{l=null,a(new or(`timeout ${e} of ms exceeded`,or.ETIMEDOUT))},e);const u=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(a):m.removeEventListener("abort",a)}),t=null)};t.forEach(m=>m.addEventListener("abort",a));const{signal:d}=n;return d.unsubscribe=()=>We.asap(u),d}},GL=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,s;for(;n<r;)s=n+e,yield t.slice(n,s),n=s},JL=async function*(t,e){for await(const r of ZL(t))yield*GL(r,e)},ZL=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},bN=(t,e,r,n)=>{const s=JL(t,e);let a=0,l,u=d=>{l||(l=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:m,value:g}=await s.next();if(m){u(),d.close();return}let w=g.byteLength;if(r){let N=a+=w;r(N)}d.enqueue(new Uint8Array(g))}catch(m){throw u(m),m}},cancel(d){return u(d),s.return()}},{highWaterMark:2})},Sy=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",X3=Sy&&typeof ReadableStream=="function",YL=Sy&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),eO=(t,...e)=>{try{return!!t(...e)}catch{return!1}},XL=X3&&eO(()=>{let t=!1;const e=new Request(Zn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),wN=64*1024,Bb=X3&&eO(()=>We.isReadableStream(new Response("").body)),Om={stream:Bb&&(t=>t.body)};Sy&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Om[e]&&(Om[e]=We.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new or(`Response type '${e}' is not supported`,or.ERR_NOT_SUPPORT,n)})})})(new Response);const e2=async t=>{if(t==null)return 0;if(We.isBlob(t))return t.size;if(We.isSpecCompliantForm(t))return(await new Request(Zn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(We.isArrayBufferView(t)||We.isArrayBuffer(t))return t.byteLength;if(We.isURLSearchParams(t)&&(t=t+""),We.isString(t))return(await YL(t)).byteLength},t2=async(t,e)=>{const r=We.toFiniteNumber(t.getContentLength());return r??e2(e)},r2=Sy&&(async t=>{let{url:e,method:r,data:n,signal:s,cancelToken:a,timeout:l,onDownloadProgress:u,onUploadProgress:d,responseType:m,headers:g,withCredentials:w="same-origin",fetchOptions:N}=Y3(t);m=m?(m+"").toLowerCase():"text";let k=KL([s,a&&a.toAbortSignal()],l),O;const C=k&&k.unsubscribe&&(()=>{k.unsubscribe()});let A;try{if(d&&XL&&r!=="get"&&r!=="head"&&(A=await t2(g,n))!==0){let G=new Request(e,{method:"POST",body:n,duplex:"half"}),B;if(We.isFormData(n)&&(B=G.headers.get("content-type"))&&g.setContentType(B),G.body){const[Z,ie]=gN(A,Im(vN(d)));n=bN(G.body,wN,Z,ie)}}We.isString(w)||(w=w?"include":"omit");const D="credentials"in Request.prototype;O=new Request(e,{...N,signal:k,method:r.toUpperCase(),headers:g.normalize().toJSON(),body:n,duplex:"half",credentials:D?w:void 0});let j=await fetch(O);const $=Bb&&(m==="stream"||m==="response");if(Bb&&(u||$&&C)){const G={};["status","statusText","headers"].forEach(U=>{G[U]=j[U]});const B=We.toFiniteNumber(j.headers.get("content-length")),[Z,ie]=u&&gN(B,Im(vN(u),!0))||[];j=new Response(bN(j.body,wN,Z,()=>{ie&&ie(),C&&C()}),G)}m=m||"text";let V=await Om[We.findKey(Om,m)||"text"](j,t);return!$&&C&&C(),await new Promise((G,B)=>{J3(G,B,{data:V,headers:qi.from(j.headers),status:j.status,statusText:j.statusText,config:t,request:O})})}catch(D){throw C&&C(),D&&D.name==="TypeError"&&/fetch/i.test(D.message)?Object.assign(new or("Network Error",or.ERR_NETWORK,t,O),{cause:D.cause||D}):or.from(D,D&&D.code,t,O)}}),$b={http:gL,xhr:QL,fetch:r2};We.forEach($b,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const xN=t=>`- ${t}`,n2=t=>We.isFunction(t)||t===null||t===!1,tO={getAdapter:t=>{t=We.isArray(t)?t:[t];const{length:e}=t;let r,n;const s={};for(let a=0;a<e;a++){r=t[a];let l;if(n=r,!n2(r)&&(n=$b[(l=String(r)).toLowerCase()],n===void 0))throw new or(`Unknown adapter '${l}'`);if(n)break;s[l||"#"+a]=n}if(!n){const a=Object.entries(s).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let l=e?a.length>1?`since :
`+a.map(xN).join(`
`):" "+xN(a[0]):"as no adapter specified";throw new or("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:$b};function f_(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Rc(null,t)}function SN(t){return f_(t),t.headers=qi.from(t.headers),t.data=d_.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),tO.getAdapter(t.adapter||Uf.adapter)(t).then(function(n){return f_(t),n.data=d_.call(t,t.transformResponse,n),n.headers=qi.from(n.headers),n},function(n){return G3(n)||(f_(t),n&&n.response&&(n.response.data=d_.call(t,t.transformResponse,n.response),n.response.headers=qi.from(n.response.headers))),Promise.reject(n)})}const rO="1.7.9",Ey={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Ey[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const EN={};Ey.transitional=function(e,r,n){function s(a,l){return"[Axios v"+rO+"] Transitional option '"+a+"'"+l+(n?". "+n:"")}return(a,l,u)=>{if(e===!1)throw new or(s(l," has been removed"+(r?" in "+r:"")),or.ERR_DEPRECATED);return r&&!EN[l]&&(EN[l]=!0,console.warn(s(l," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,l,u):!0}};Ey.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function i2(t,e,r){if(typeof t!="object")throw new or("options must be an object",or.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let s=n.length;for(;s-- >0;){const a=n[s],l=e[a];if(l){const u=t[a],d=u===void 0||l(u,a,t);if(d!==!0)throw new or("option "+a+" must be "+d,or.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new or("Unknown option "+a,or.ERR_BAD_OPTION)}}const Jp={assertOptions:i2,validators:Ey},ao=Jp.validators;let Ul=class{constructor(e){this.defaults=e,this.interceptors={request:new mN,response:new mN}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const a=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Kl(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:a}=r;n!==void 0&&Jp.assertOptions(n,{silentJSONParsing:ao.transitional(ao.boolean),forcedJSONParsing:ao.transitional(ao.boolean),clarifyTimeoutError:ao.transitional(ao.boolean)},!1),s!=null&&(We.isFunction(s)?r.paramsSerializer={serialize:s}:Jp.assertOptions(s,{encode:ao.function,serialize:ao.function},!0)),Jp.assertOptions(r,{baseUrl:ao.spelling("baseURL"),withXsrfToken:ao.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=a&&We.merge(a.common,a[r.method]);a&&We.forEach(["delete","get","head","post","put","patch","common"],O=>{delete a[O]}),r.headers=qi.concat(l,a);const u=[];let d=!0;this.interceptors.request.forEach(function(C){typeof C.runWhen=="function"&&C.runWhen(r)===!1||(d=d&&C.synchronous,u.unshift(C.fulfilled,C.rejected))});const m=[];this.interceptors.response.forEach(function(C){m.push(C.fulfilled,C.rejected)});let g,w=0,N;if(!d){const O=[SN.bind(this),void 0];for(O.unshift.apply(O,u),O.push.apply(O,m),N=O.length,g=Promise.resolve(r);w<N;)g=g.then(O[w++],O[w++]);return g}N=u.length;let k=r;for(w=0;w<N;){const O=u[w++],C=u[w++];try{k=O(k)}catch(A){C.call(this,A);break}}try{g=SN.call(this,k)}catch(O){return Promise.reject(O)}for(w=0,N=m.length;w<N;)g=g.then(m[w++],m[w++]);return g}getUri(e){e=Kl(this.defaults,e);const r=Z3(e.baseURL,e.url);return H3(r,e.params,e.paramsSerializer)}};We.forEach(["delete","get","head","options"],function(e){Ul.prototype[e]=function(r,n){return this.request(Kl(n||{},{method:e,url:r,data:(n||{}).data}))}});We.forEach(["post","put","patch"],function(e){function r(n){return function(a,l,u){return this.request(Kl(u||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}Ul.prototype[e]=r(),Ul.prototype[e+"Form"]=r(!0)});let s2=class nO{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(s=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](s);n._listeners=null}),this.promise.then=s=>{let a;const l=new Promise(u=>{n.subscribe(u),a=u}).then(s);return l.cancel=function(){n.unsubscribe(a)},l},e(function(a,l,u){n.reason||(n.reason=new Rc(a,l,u),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new nO(function(s){e=s}),cancel:e}}};function o2(t){return function(r){return t.apply(null,r)}}function a2(t){return We.isObject(t)&&t.isAxiosError===!0}const Wb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Wb).forEach(([t,e])=>{Wb[e]=t});function iO(t){const e=new Ul(t),r=P3(Ul.prototype.request,e);return We.extend(r,Ul.prototype,e,{allOwnKeys:!0}),We.extend(r,e,null,{allOwnKeys:!0}),r.create=function(s){return iO(Kl(t,s))},r}const mn=iO(Uf);mn.Axios=Ul;mn.CanceledError=Rc;mn.CancelToken=s2;mn.isCancel=G3;mn.VERSION=rO;mn.toFormData=xy;mn.AxiosError=or;mn.Cancel=mn.CanceledError;mn.all=function(e){return Promise.all(e)};mn.spread=o2;mn.isAxiosError=a2;mn.mergeConfig=Kl;mn.AxiosHeaders=qi;mn.formToJSON=t=>K3(We.isHTMLForm(t)?new FormData(t):t);mn.getAdapter=tO.getAdapter;mn.HttpStatusCode=Wb;mn.default=mn;const{Axios:YV,AxiosError:l2,CanceledError:XV,isCancel:e8,CancelToken:t8,VERSION:r8,all:n8,Cancel:i8,isAxiosError:s8,spread:o8,toFormData:a8,AxiosHeaders:l8,HttpStatusCode:u8,formToJSON:c8,getAdapter:d8,mergeConfig:f8}=mn,Bw=({error:t,schema:e,onError:r})=>{if(t instanceof l2){const s=e.safeParse(t.response?.data);return s.success&&r({error:t,data:s.data}),s.success}return!1};var h_,NN;function u2(){if(NN)return h_;NN=1;function t(n){this.queue=[],this.timeslotRequests=0,this.interceptors={request:null,response:null},this.handleRequest=this.handleRequest.bind(this),this.handleResponse=this.handleResponse.bind(this),this.enable(n)}t.prototype.getMaxRPS=function(){var n=this.perMilliseconds/1e3;return this.maxRequests/n},t.prototype.getQueue=function(){return this.queue},t.prototype.setMaxRPS=function(n){this.setRateLimitOptions({maxRequests:n,perMilliseconds:1e3})},t.prototype.setRateLimitOptions=function(n){n.maxRPS?this.setMaxRPS(n.maxRPS):(this.perMilliseconds=n.perMilliseconds,this.maxRequests=n.maxRequests)},t.prototype.enable=function(n){function s(a){return Promise.reject(a)}this.interceptors.request=n.interceptors.request.use(this.handleRequest,s),this.interceptors.response=n.interceptors.response.use(this.handleResponse,s)};function e(n){n.cancelToken&&n.cancelToken.throwIfRequested()}t.prototype.handleRequest=function(n){return new Promise(function(s,a){this.push({resolve:function(){try{e(n)}catch(l){return a(l),!1}return s(n),!0}})}.bind(this))},t.prototype.handleResponse=function(n){return this.shift(),n},t.prototype.push=function(n){this.queue.push(n),this.shiftInitial()},t.prototype.shiftInitial=function(){setTimeout(function(){return this.shift()}.bind(this),0)},t.prototype.shift=function(){if(this.queue.length){if(this.timeslotRequests===this.maxRequests){this.timeoutId&&typeof this.timeoutId.ref=="function"&&this.timeoutId.ref();return}var n=this.queue.shift(),s=n.resolve();if(this.timeslotRequests===0&&(this.timeoutId=setTimeout(function(){this.timeslotRequests=0,this.shift()}.bind(this),this.perMilliseconds),typeof this.timeoutId.unref=="function"&&this.queue.length===0&&this.timeoutId.unref()),!s){this.shift();return}this.timeslotRequests+=1}};function r(n,s){var a=new t(n);return a.setRateLimitOptions(s),n.getQueue=t.prototype.getQueue.bind(a),n.getMaxRPS=t.prototype.getMaxRPS.bind(a),n.setMaxRPS=t.prototype.setMaxRPS.bind(a),n.setRateLimitOptions=t.prototype.setRateLimitOptions.bind(a),n}return h_=r,h_}var c2=u2();const d2=Nc(c2),f2=({instance:t,limit:e}={})=>d2(t||mn,e||{maxRequests:5,perMilliseconds:100}),$w="-",h2=t=>{const e=m2(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:l=>{const u=l.split($w);return u[0]===""&&u.length!==1&&u.shift(),sO(u,e)||p2(l)},getConflictingClassGroupIds:(l,u)=>{const d=r[l]||[];return u&&n[l]?[...d,...n[l]]:d}}},sO=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?sO(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const a=t.join($w);return e.validators.find(({validator:l})=>l(a))?.classGroupId},kN=/^\[(.+)\]$/,p2=t=>{if(kN.test(t)){const e=kN.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},m2=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return g2(Object.entries(t.classGroups),r).forEach(([a,l])=>{zb(l,n,a,e)}),n},zb=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const a=s===""?e:IN(e,s);a.classGroupId=r;return}if(typeof s=="function"){if(y2(s)){zb(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,l])=>{zb(l,IN(e,a),r,n)})})},IN=(t,e)=>{let r=t;return e.split($w).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},y2=t=>t.isThemeGetter,g2=(t,e)=>e?t.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([l,u])=>[e+l,u])):a);return[r,s]}):t,v2=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(a,l)=>{r.set(a,l),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let l=r.get(a);if(l!==void 0)return l;if((l=n.get(a))!==void 0)return s(a,l),l},set(a,l){r.has(a)?r.set(a,l):s(a,l)}}},oO="!",_2=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],a=e.length,l=u=>{const d=[];let m=0,g=0,w;for(let A=0;A<u.length;A++){let D=u[A];if(m===0){if(D===s&&(n||u.slice(A,A+a)===e)){d.push(u.slice(g,A)),g=A+a;continue}if(D==="/"){w=A;continue}}D==="["?m++:D==="]"&&m--}const N=d.length===0?u:u.substring(g),k=N.startsWith(oO),O=k?N.substring(1):N,C=w&&w>g?w-g:void 0;return{modifiers:d,hasImportantModifier:k,baseClassName:O,maybePostfixModifierPosition:C}};return r?u=>r({className:u,parseClassName:l}):l},b2=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},w2=t=>({cache:v2(t.cacheSize),parseClassName:_2(t),...h2(t)}),x2=/\s+/,S2=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,a=[],l=t.trim().split(x2);let u="";for(let d=l.length-1;d>=0;d-=1){const m=l[d],{modifiers:g,hasImportantModifier:w,baseClassName:N,maybePostfixModifierPosition:k}=r(m);let O=!!k,C=n(O?N.substring(0,k):N);if(!C){if(!O){u=m+(u.length>0?" "+u:u);continue}if(C=n(N),!C){u=m+(u.length>0?" "+u:u);continue}O=!1}const A=b2(g).join(":"),D=w?A+oO:A,j=D+C;if(a.includes(j))continue;a.push(j);const $=s(C,O);for(let V=0;V<$.length;++V){const G=$[V];a.push(D+G)}u=m+(u.length>0?" "+u:u)}return u};function E2(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=aO(e))&&(n&&(n+=" "),n+=r);return n}const aO=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=aO(t[n]))&&(r&&(r+=" "),r+=e);return r};function N2(t,...e){let r,n,s,a=l;function l(d){const m=e.reduce((g,w)=>w(g),t());return r=w2(m),n=r.cache.get,s=r.cache.set,a=u,u(d)}function u(d){const m=n(d);if(m)return m;const g=S2(d,r);return s(d,g),g}return function(){return a(E2.apply(null,arguments))}}const Kr=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},lO=/^\[(?:([a-z-]+):)?(.+)\]$/i,k2=/^\d+\/\d+$/,I2=new Set(["px","full","screen"]),O2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,C2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,T2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,q2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,R2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,jo=t=>rc(t)||I2.has(t)||k2.test(t),Ia=t=>Ac(t,"length",B2),rc=t=>!!t&&!Number.isNaN(Number(t)),p_=t=>Ac(t,"number",rc),Od=t=>!!t&&Number.isInteger(Number(t)),A2=t=>t.endsWith("%")&&rc(t.slice(0,-1)),lr=t=>lO.test(t),Oa=t=>O2.test(t),P2=new Set(["length","size","percentage"]),F2=t=>Ac(t,P2,uO),j2=t=>Ac(t,"position",uO),L2=new Set(["image","url"]),D2=t=>Ac(t,L2,W2),M2=t=>Ac(t,"",$2),Cd=()=>!0,Ac=(t,e,r)=>{const n=lO.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},B2=t=>C2.test(t)&&!T2.test(t),uO=()=>!1,$2=t=>q2.test(t),W2=t=>R2.test(t),z2=()=>{const t=Kr("colors"),e=Kr("spacing"),r=Kr("blur"),n=Kr("brightness"),s=Kr("borderColor"),a=Kr("borderRadius"),l=Kr("borderSpacing"),u=Kr("borderWidth"),d=Kr("contrast"),m=Kr("grayscale"),g=Kr("hueRotate"),w=Kr("invert"),N=Kr("gap"),k=Kr("gradientColorStops"),O=Kr("gradientColorStopPositions"),C=Kr("inset"),A=Kr("margin"),D=Kr("opacity"),j=Kr("padding"),$=Kr("saturate"),V=Kr("scale"),G=Kr("sepia"),B=Kr("skew"),Z=Kr("space"),ie=Kr("translate"),U=()=>["auto","contain","none"],ne=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",lr,e],se=()=>[lr,e],Y=()=>["",jo,Ia],me=()=>["auto",rc,lr],Te=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ce=()=>["solid","dashed","dotted","double","none"],Fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],_e=()=>["start","end","center","between","around","evenly","stretch"],ye=()=>["","0",lr],Ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[rc,lr];return{cacheSize:500,separator:":",theme:{colors:[Cd],spacing:[jo,Ia],blur:["none","",Oa,lr],brightness:H(),borderColor:[t],borderRadius:["none","","full",Oa,lr],borderSpacing:se(),borderWidth:Y(),contrast:H(),grayscale:ye(),hueRotate:H(),invert:ye(),gap:se(),gradientColorStops:[t],gradientColorStopPositions:[A2,Ia],inset:M(),margin:M(),opacity:H(),padding:se(),saturate:H(),scale:H(),sepia:ye(),skew:H(),space:se(),translate:se()},classGroups:{aspect:[{aspect:["auto","square","video",lr]}],container:["container"],columns:[{columns:[Oa]}],"break-after":[{"break-after":Ne()}],"break-before":[{"break-before":Ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Te(),lr]}],overflow:[{overflow:ne()}],"overflow-x":[{"overflow-x":ne()}],"overflow-y":[{"overflow-y":ne()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[C]}],"inset-x":[{"inset-x":[C]}],"inset-y":[{"inset-y":[C]}],start:[{start:[C]}],end:[{end:[C]}],top:[{top:[C]}],right:[{right:[C]}],bottom:[{bottom:[C]}],left:[{left:[C]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Od,lr]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",lr]}],grow:[{grow:ye()}],shrink:[{shrink:ye()}],order:[{order:["first","last","none",Od,lr]}],"grid-cols":[{"grid-cols":[Cd]}],"col-start-end":[{col:["auto",{span:["full",Od,lr]},lr]}],"col-start":[{"col-start":me()}],"col-end":[{"col-end":me()}],"grid-rows":[{"grid-rows":[Cd]}],"row-start-end":[{row:["auto",{span:[Od,lr]},lr]}],"row-start":[{"row-start":me()}],"row-end":[{"row-end":me()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",lr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",lr]}],gap:[{gap:[N]}],"gap-x":[{"gap-x":[N]}],"gap-y":[{"gap-y":[N]}],"justify-content":[{justify:["normal",..._e()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",..._e(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[..._e(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[j]}],px:[{px:[j]}],py:[{py:[j]}],ps:[{ps:[j]}],pe:[{pe:[j]}],pt:[{pt:[j]}],pr:[{pr:[j]}],pb:[{pb:[j]}],pl:[{pl:[j]}],m:[{m:[A]}],mx:[{mx:[A]}],my:[{my:[A]}],ms:[{ms:[A]}],me:[{me:[A]}],mt:[{mt:[A]}],mr:[{mr:[A]}],mb:[{mb:[A]}],ml:[{ml:[A]}],"space-x":[{"space-x":[Z]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[Z]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",lr,e]}],"min-w":[{"min-w":[lr,e,"min","max","fit"]}],"max-w":[{"max-w":[lr,e,"none","full","min","max","fit","prose",{screen:[Oa]},Oa]}],h:[{h:[lr,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[lr,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[lr,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[lr,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Oa,Ia]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",p_]}],"font-family":[{font:[Cd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",lr]}],"line-clamp":[{"line-clamp":["none",rc,p_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",jo,lr]}],"list-image":[{"list-image":["none",lr]}],"list-style-type":[{list:["none","disc","decimal",lr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[D]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[D]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ce(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",jo,Ia]}],"underline-offset":[{"underline-offset":["auto",jo,lr]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:se()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",lr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",lr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[D]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Te(),j2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",F2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},D2]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[O]}],"gradient-via-pos":[{via:[O]}],"gradient-to-pos":[{to:[O]}],"gradient-from":[{from:[k]}],"gradient-via":[{via:[k]}],"gradient-to":[{to:[k]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[D]}],"border-style":[{border:[...Ce(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[D]}],"divide-style":[{divide:Ce()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Ce()]}],"outline-offset":[{"outline-offset":[jo,lr]}],"outline-w":[{outline:[jo,Ia]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[D]}],"ring-offset-w":[{"ring-offset":[jo,Ia]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Oa,M2]}],"shadow-color":[{shadow:[Cd]}],opacity:[{opacity:[D]}],"mix-blend":[{"mix-blend":[...Fe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Fe()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[d]}],"drop-shadow":[{"drop-shadow":["","none",Oa,lr]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[w]}],saturate:[{saturate:[$]}],sepia:[{sepia:[G]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[d]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[w]}],"backdrop-opacity":[{"backdrop-opacity":[D]}],"backdrop-saturate":[{"backdrop-saturate":[$]}],"backdrop-sepia":[{"backdrop-sepia":[G]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",lr]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",lr]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",lr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[V]}],"scale-x":[{"scale-x":[V]}],"scale-y":[{"scale-y":[V]}],rotate:[{rotate:[Od,lr]}],"translate-x":[{"translate-x":[ie]}],"translate-y":[{"translate-y":[ie]}],"skew-x":[{"skew-x":[B]}],"skew-y":[{"skew-y":[B]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",lr]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",lr]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":se()}],"scroll-mx":[{"scroll-mx":se()}],"scroll-my":[{"scroll-my":se()}],"scroll-ms":[{"scroll-ms":se()}],"scroll-me":[{"scroll-me":se()}],"scroll-mt":[{"scroll-mt":se()}],"scroll-mr":[{"scroll-mr":se()}],"scroll-mb":[{"scroll-mb":se()}],"scroll-ml":[{"scroll-ml":se()}],"scroll-p":[{"scroll-p":se()}],"scroll-px":[{"scroll-px":se()}],"scroll-py":[{"scroll-py":se()}],"scroll-ps":[{"scroll-ps":se()}],"scroll-pe":[{"scroll-pe":se()}],"scroll-pt":[{"scroll-pt":se()}],"scroll-pr":[{"scroll-pr":se()}],"scroll-pb":[{"scroll-pb":se()}],"scroll-pl":[{"scroll-pl":se()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",lr]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[jo,Ia,p_]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},cO=N2(z2),Ub=new Proxy(()=>Ub,{get:()=>Ub});function hr({use:t,slot:e,variant:r,match:n=[],defaults:s}){return({css:a,...l}={})=>({slots:new Proxy({},{get:(u,d)=>({css:m,...g}={})=>{const w=[],N=t,k={...N?.()?.config.defaults,...s,...l,...g};w.push(N?.(k)?.slots[d]?.(k)),w.push(Array.isArray(e[d])?e[d]:[e[d]]);for(const[O,C]of Object.entries(k)){const A=r[O]?.[C];A&&w.push(A)}for(const O of n)Object.entries(O.if).every(([C,A])=>A===k[C])&&w.push(O.then?.[d]);return w.push(a?.[d]),w.push(m),cO(w)}}),config:{defaults:{...t?.()?.config.defaults,...s},values:{...t?.()?.config.defaults,...s,...l}},type:Ub()})}const Ny=cO;var m_,ON;function U2(){return ON||(ON=1,m_=Object),m_}var y_,CN;function V2(){return CN||(CN=1,y_=Error),y_}var g_,TN;function H2(){return TN||(TN=1,g_=EvalError),g_}var v_,qN;function Q2(){return qN||(qN=1,v_=RangeError),v_}var __,RN;function K2(){return RN||(RN=1,__=ReferenceError),__}var b_,AN;function G2(){return AN||(AN=1,b_=SyntaxError),b_}var w_,PN;function dO(){return PN||(PN=1,w_=TypeError),w_}var x_,FN;function J2(){return FN||(FN=1,x_=URIError),x_}var S_,jN;function Z2(){return jN||(jN=1,S_=Math.abs),S_}var E_,LN;function Y2(){return LN||(LN=1,E_=Math.floor),E_}var N_,DN;function X2(){return DN||(DN=1,N_=Math.max),N_}var k_,MN;function eD(){return MN||(MN=1,k_=Math.min),k_}var I_,BN;function tD(){return BN||(BN=1,I_=Math.pow),I_}var O_,$N;function rD(){return $N||($N=1,O_=Object.getOwnPropertyDescriptor),O_}var C_,WN;function fO(){if(WN)return C_;WN=1;var t=rD();if(t)try{t([],"length")}catch{t=null}return C_=t,C_}var T_,zN;function nD(){if(zN)return T_;zN=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return T_=t,T_}var q_,UN;function hO(){return UN||(UN=1,q_=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var s=42;e[r]=s;for(var a in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var l=Object.getOwnPropertySymbols(e);if(l.length!==1||l[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var u=Object.getOwnPropertyDescriptor(e,r);if(u.value!==s||u.enumerable!==!0)return!1}return!0}),q_}var R_,VN;function iD(){if(VN)return R_;VN=1;var t=typeof Symbol<"u"&&Symbol,e=hO();return R_=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},R_}var A_,HN;function sD(){if(HN)return A_;HN=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,n="[object Function]",s=function(d,m){for(var g=[],w=0;w<d.length;w+=1)g[w]=d[w];for(var N=0;N<m.length;N+=1)g[N+d.length]=m[N];return g},a=function(d,m){for(var g=[],w=m,N=0;w<d.length;w+=1,N+=1)g[N]=d[w];return g},l=function(u,d){for(var m="",g=0;g<u.length;g+=1)m+=u[g],g+1<u.length&&(m+=d);return m};return A_=function(d){var m=this;if(typeof m!="function"||e.apply(m)!==n)throw new TypeError(t+m);for(var g=a(arguments,1),w,N=function(){if(this instanceof w){var D=m.apply(this,s(g,arguments));return Object(D)===D?D:this}return m.apply(d,s(g,arguments))},k=r(0,m.length-g.length),O=[],C=0;C<k;C++)O[C]="$"+C;if(w=Function("binder","return function ("+l(O,",")+"){ return binder.apply(this,arguments); }")(N),m.prototype){var A=function(){};A.prototype=m.prototype,w.prototype=new A,A.prototype=null}return w},A_}var P_,QN;function ky(){if(QN)return P_;QN=1;var t=sD();return P_=Function.prototype.bind||t,P_}var F_,KN;function Ww(){return KN||(KN=1,F_=Function.prototype.call),F_}var j_,GN;function pO(){return GN||(GN=1,j_=Function.prototype.apply),j_}var L_,JN;function oD(){return JN||(JN=1,L_=typeof Reflect<"u"&&Reflect&&Reflect.apply),L_}var D_,ZN;function aD(){if(ZN)return D_;ZN=1;var t=ky(),e=pO(),r=Ww(),n=oD();return D_=n||t.call(r,e),D_}var M_,YN;function mO(){if(YN)return M_;YN=1;var t=ky(),e=dO(),r=Ww(),n=aD();return M_=function(a){if(a.length<1||typeof a[0]!="function")throw new e("a function is required");return n(t,r,a)},M_}var B_,XN;function lD(){if(XN)return B_;XN=1;var t=mO(),e=fO(),r;try{r=[].__proto__===Array.prototype}catch(l){if(!l||typeof l!="object"||!("code"in l)||l.code!=="ERR_PROTO_ACCESS")throw l}var n=!!r&&e&&e(Object.prototype,"__proto__"),s=Object,a=s.getPrototypeOf;return B_=n&&typeof n.get=="function"?t([n.get]):typeof a=="function"?function(u){return a(u==null?u:s(u))}:!1,B_}var $_,e1;function uD(){if(e1)return $_;e1=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=ky();return $_=r.call(t,e),$_}var W_,t1;function cD(){if(t1)return W_;t1=1;var t,e=U2(),r=V2(),n=H2(),s=Q2(),a=K2(),l=G2(),u=dO(),d=J2(),m=Z2(),g=Y2(),w=X2(),N=eD(),k=tD(),O=Function,C=function(mt){try{return O('"use strict"; return ('+mt+").constructor;")()}catch{}},A=fO(),D=nD(),j=function(){throw new u},$=A?function(){try{return arguments.callee,j}catch{try{return A(arguments,"callee").get}catch{return j}}}():j,V=iD()(),G=lD(),B=typeof Reflect=="function"&&Reflect.getPrototypeOf||e.getPrototypeOf||G,Z=pO(),ie=Ww(),U={},ne=typeof Uint8Array>"u"||!B?t:B(Uint8Array),M={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":V&&B?B([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":U,"%AsyncGenerator%":U,"%AsyncGeneratorFunction%":U,"%AsyncIteratorPrototype%":U,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":O,"%GeneratorFunction%":U,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":V&&B?B(B([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!V||!B?t:B(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":A,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":s,"%ReferenceError%":a,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!V||!B?t:B(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":V&&B?B(""[Symbol.iterator]()):t,"%Symbol%":V?Symbol:t,"%SyntaxError%":l,"%ThrowTypeError%":$,"%TypedArray%":ne,"%TypeError%":u,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":d,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":ie,"%Function.prototype.apply%":Z,"%Object.defineProperty%":D,"%Math.abs%":m,"%Math.floor%":g,"%Math.max%":w,"%Math.min%":N,"%Math.pow%":k};if(B)try{null.error}catch(mt){var se=B(B(mt));M["%Error.prototype%"]=se}var Y=function mt(ft){var gt;if(ft==="%AsyncFunction%")gt=C("async function () {}");else if(ft==="%GeneratorFunction%")gt=C("function* () {}");else if(ft==="%AsyncGeneratorFunction%")gt=C("async function* () {}");else if(ft==="%AsyncGenerator%"){var Pt=mt("%AsyncGeneratorFunction%");Pt&&(gt=Pt.prototype)}else if(ft==="%AsyncIteratorPrototype%"){var vt=mt("%AsyncGenerator%");vt&&B&&(gt=B(vt.prototype))}return M[ft]=gt,gt},me={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Te=ky(),Ce=uD(),Fe=Te.call(ie,Array.prototype.concat),_e=Te.call(Z,Array.prototype.splice),ye=Te.call(ie,String.prototype.replace),Ne=Te.call(ie,String.prototype.slice),H=Te.call(ie,RegExp.prototype.exec),Se=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,lt=/\\(\\)?/g,at=function(ft){var gt=Ne(ft,0,1),Pt=Ne(ft,-1);if(gt==="%"&&Pt!=="%")throw new l("invalid intrinsic syntax, expected closing `%`");if(Pt==="%"&&gt!=="%")throw new l("invalid intrinsic syntax, expected opening `%`");var vt=[];return ye(ft,Se,function(yt,Tt,Ot,er){vt[vt.length]=Ot?ye(er,lt,"$1"):Tt||yt}),vt},dt=function(ft,gt){var Pt=ft,vt;if(Ce(me,Pt)&&(vt=me[Pt],Pt="%"+vt[0]+"%"),Ce(M,Pt)){var yt=M[Pt];if(yt===U&&(yt=Y(Pt)),typeof yt>"u"&&!gt)throw new u("intrinsic "+ft+" exists, but is not available. Please file an issue!");return{alias:vt,name:Pt,value:yt}}throw new l("intrinsic "+ft+" does not exist!")};return W_=function(ft,gt){if(typeof ft!="string"||ft.length===0)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof gt!="boolean")throw new u('"allowMissing" argument must be a boolean');if(H(/^%?[^%]*%?$/,ft)===null)throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Pt=at(ft),vt=Pt.length>0?Pt[0]:"",yt=dt("%"+vt+"%",gt),Tt=yt.name,Ot=yt.value,er=!1,Zt=yt.alias;Zt&&(vt=Zt[0],_e(Pt,Fe([0,1],Zt)));for(var ir=1,mr=!0;ir<Pt.length;ir+=1){var ae=Pt[ir],ue=Ne(ae,0,1),ge=Ne(ae,-1);if((ue==='"'||ue==="'"||ue==="`"||ge==='"'||ge==="'"||ge==="`")&&ue!==ge)throw new l("property names with quotes must have matching quotes");if((ae==="constructor"||!mr)&&(er=!0),vt+="."+ae,Tt="%"+vt+"%",Ce(M,Tt))Ot=M[Tt];else if(Ot!=null){if(!(ae in Ot)){if(!gt)throw new u("base intrinsic for "+ft+" exists, but the property is not available.");return}if(A&&ir+1>=Pt.length){var qe=A(Ot,ae);mr=!!qe,mr&&"get"in qe&&!("originalValue"in qe.get)?Ot=qe.get:Ot=Ot[ae]}else mr=Ce(Ot,ae),Ot=Ot[ae];mr&&!er&&(M[Tt]=Ot)}}return Ot},W_}var z_,r1;function dD(){if(r1)return z_;r1=1;var t=cD(),e=mO(),r=e([t("%String.prototype.indexOf%")]);return z_=function(s,a){var l=t(s,!!a);return typeof l=="function"&&r(s,".prototype.")>-1?e([l]):l},z_}var U_,n1;function fD(){if(n1)return U_;n1=1;var t=hO();return U_=function(){return t()&&!!Symbol.toStringTag},U_}var V_,i1;function hD(){if(i1)return V_;i1=1;var t=dD(),e=t("String.prototype.valueOf"),r=function(u){try{return e(u),!0}catch{return!1}},n=t("Object.prototype.toString"),s="[object String]",a=fD()();return V_=function(u){return typeof u=="string"?!0:!u||typeof u!="object"?!1:a?r(u):n(u)===s},V_}var pD=hD();const mD=Nc(pD),Iy=t=>mD(t),yD=(t,e,r={})=>{const n=[];return t.filter((a,l)=>{const u=r.regionLowerCase?a.toLowerCase():a;if(e.includes(u))return n.push({index:l,appLocale:u}),!0;const{isAvailable:d,appLocale:m}=gD(u,e,r);return d&&n.push({index:l,appLocale:r.regionLowerCase?m.toLowerCase():m}),d}).map((a,l)=>!n||n.length===0?a:n[l]?.appLocale)},gD=(t,e,r={})=>{r?.languageOnly||(r.languageOnly=!1);let n=t;return{isAvailable:e.some(a=>{if(!Zp()&&!r.languageOnly&&t.split("-")[1]===void 0)return!1;const l=Zp()?new Intl.Locale(t).minimize().language:t.split("-")[0],u=Zp()?new Intl.Locale(a).minimize().language:a.split("-")[0],d=l===u;return d&&(n=a),d}),appLocale:n}},vD=(t={})=>{t?.regionLowerCase||(t.regionLowerCase=!1);let e=[];return Intl&&"DateTimeFormat"in Intl?e=[Intl.DateTimeFormat().resolvedOptions().locale]:typeof window=="object"&&window?.navigator?.languages&&(e=[...window.navigator.languages]),e.map(r=>t.regionLowerCase?r.toLowerCase():r)},Zp=()=>Intl&&"Locale"in Intl,_D=(t,e={})=>{e?.regionLowerCase||(e.regionLowerCase=!1),e?.languageOnly||(e.languageOnly=!1);const r=t.map(n=>{const s=n.split("-");if(e.languageOnly)return s[0];const a=Zp()?new Intl.Locale(n).maximize():{language:s[0],script:s.length===3?s[1]:void 0,region:s.length===3?s[2]:s[1]},{language:l,script:u}=a;let{region:d}=a;return e.regionLowerCase&&d&&(d=d.toLowerCase()),s.length>2?`${l}-${u}-${d}`:d?`${l}-${d}`:l});return[...new Set(r)]},bD=(t,e,r={})=>{r.regionLowerCase||(r.regionLowerCase=!1),r.languageOnly||(r.languageOnly=!1);const n=vD(r),s=_D([...n,t],r);return yD(s,e,r)[0]||t},wD=({available:t,fallback:e})=>bD(e,t,{languageOnly:!0});var H_={exports:{}};const xD={},SD=Object.freeze(Object.defineProperty({__proto__:null,default:xD},Symbol.toStringTag,{value:"Module"})),s1=Qq(SD);var o1;function ED(){return o1||(o1=1,function(t){(function(){var e="input is invalid type",r=typeof window=="object",n=r?window:{};n.JS_SHA256_NO_WINDOW&&(r=!1);var s=!r&&typeof self=="object",a=!n.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;a?n=bb:s&&(n=self);var l=!n.JS_SHA256_NO_COMMON_JS&&!0&&t.exports,u=!n.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",d="0123456789abcdef".split(""),m=[-0x80000000,8388608,32768,128],g=[24,16,8,0],w=[0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2],N=["hex","array","digest","arrayBuffer"],k=[];(n.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(B){return Object.prototype.toString.call(B)==="[object Array]"}),u&&(n.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(B){return typeof B=="object"&&B.buffer&&B.buffer.constructor===ArrayBuffer});var O=function(B,Z){return function(ie){return new $(Z,!0).update(ie)[B]()}},C=function(B){var Z=O("hex",B);a&&(Z=A(Z,B)),Z.create=function(){return new $(B)},Z.update=function(ne){return Z.create().update(ne)};for(var ie=0;ie<N.length;++ie){var U=N[ie];Z[U]=O(U,B)}return Z},A=function(B,Z){var ie=s1,U=s1.Buffer,ne=Z?"sha224":"sha256",M;U.from&&!n.JS_SHA256_NO_BUFFER_FROM?M=U.from:M=function(Y){return new U(Y)};var se=function(Y){if(typeof Y=="string")return ie.createHash(ne).update(Y,"utf8").digest("hex");if(Y==null)throw new Error(e);return Y.constructor===ArrayBuffer&&(Y=new Uint8Array(Y)),Array.isArray(Y)||ArrayBuffer.isView(Y)||Y.constructor===U?ie.createHash(ne).update(M(Y)).digest("hex"):B(Y)};return se},D=function(B,Z){return function(ie,U){return new V(ie,Z,!0).update(U)[B]()}},j=function(B){var Z=D("hex",B);Z.create=function(ne){return new V(ne,B)},Z.update=function(ne,M){return Z.create(ne).update(M)};for(var ie=0;ie<N.length;++ie){var U=N[ie];Z[U]=D(U,B)}return Z};function $(B,Z){Z?(k[0]=k[16]=k[1]=k[2]=k[3]=k[4]=k[5]=k[6]=k[7]=k[8]=k[9]=k[10]=k[11]=k[12]=k[13]=k[14]=k[15]=0,this.blocks=k):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],B?(this.h0=0xc1059ed8,this.h1=0x367cd507,this.h2=0x3070dd17,this.h3=0xf70e5939,this.h4=0xffc00b31,this.h5=0x68581511,this.h6=0x64f98fa7,this.h7=0xbefa4fa4):(this.h0=0x6a09e667,this.h1=0xbb67ae85,this.h2=0x3c6ef372,this.h3=0xa54ff53a,this.h4=0x510e527f,this.h5=0x9b05688c,this.h6=0x1f83d9ab,this.h7=0x5be0cd19),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=B}$.prototype.update=function(B){if(!this.finalized){var Z,ie=typeof B;if(ie!=="string"){if(ie==="object"){if(B===null)throw new Error(e);if(u&&B.constructor===ArrayBuffer)B=new Uint8Array(B);else if(!Array.isArray(B)&&(!u||!ArrayBuffer.isView(B)))throw new Error(e)}else throw new Error(e);Z=!0}for(var U,ne=0,M,se=B.length,Y=this.blocks;ne<se;){if(this.hashed&&(this.hashed=!1,Y[0]=this.block,this.block=Y[16]=Y[1]=Y[2]=Y[3]=Y[4]=Y[5]=Y[6]=Y[7]=Y[8]=Y[9]=Y[10]=Y[11]=Y[12]=Y[13]=Y[14]=Y[15]=0),Z)for(M=this.start;ne<se&&M<64;++ne)Y[M>>>2]|=B[ne]<<g[M++&3];else for(M=this.start;ne<se&&M<64;++ne)U=B.charCodeAt(ne),U<128?Y[M>>>2]|=U<<g[M++&3]:U<2048?(Y[M>>>2]|=(192|U>>>6)<<g[M++&3],Y[M>>>2]|=(128|U&63)<<g[M++&3]):U<55296||U>=57344?(Y[M>>>2]|=(224|U>>>12)<<g[M++&3],Y[M>>>2]|=(128|U>>>6&63)<<g[M++&3],Y[M>>>2]|=(128|U&63)<<g[M++&3]):(U=65536+((U&1023)<<10|B.charCodeAt(++ne)&1023),Y[M>>>2]|=(240|U>>>18)<<g[M++&3],Y[M>>>2]|=(128|U>>>12&63)<<g[M++&3],Y[M>>>2]|=(128|U>>>6&63)<<g[M++&3],Y[M>>>2]|=(128|U&63)<<g[M++&3]);this.lastByteIndex=M,this.bytes+=M-this.start,M>=64?(this.block=Y[16],this.start=M-64,this.hash(),this.hashed=!0):this.start=M}return this.bytes>0xffffffff&&(this.hBytes+=this.bytes/0x100000000<<0,this.bytes=this.bytes%0x100000000),this}},$.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var B=this.blocks,Z=this.lastByteIndex;B[16]=this.block,B[Z>>>2]|=m[Z&3],this.block=B[16],Z>=56&&(this.hashed||this.hash(),B[0]=this.block,B[16]=B[1]=B[2]=B[3]=B[4]=B[5]=B[6]=B[7]=B[8]=B[9]=B[10]=B[11]=B[12]=B[13]=B[14]=B[15]=0),B[14]=this.hBytes<<3|this.bytes>>>29,B[15]=this.bytes<<3,this.hash()}},$.prototype.hash=function(){var B=this.h0,Z=this.h1,ie=this.h2,U=this.h3,ne=this.h4,M=this.h5,se=this.h6,Y=this.h7,me=this.blocks,Te,Ce,Fe,_e,ye,Ne,H,Se,lt,at,dt;for(Te=16;Te<64;++Te)ye=me[Te-15],Ce=(ye>>>7|ye<<25)^(ye>>>18|ye<<14)^ye>>>3,ye=me[Te-2],Fe=(ye>>>17|ye<<15)^(ye>>>19|ye<<13)^ye>>>10,me[Te]=me[Te-16]+Ce+me[Te-7]+Fe<<0;for(dt=Z&ie,Te=0;Te<64;Te+=4)this.first?(this.is224?(Se=300032,ye=me[0]-0x543c9a5b,Y=ye-0x8f1a6c7<<0,U=ye+0x170e9b5<<0):(Se=0x2a01a605,ye=me[0]-0xc881298,Y=ye-0x5ab00ac6<<0,U=ye+0x8909ae5<<0),this.first=!1):(Ce=(B>>>2|B<<30)^(B>>>13|B<<19)^(B>>>22|B<<10),Fe=(ne>>>6|ne<<26)^(ne>>>11|ne<<21)^(ne>>>25|ne<<7),Se=B&Z,_e=Se^B&ie^dt,H=ne&M^~ne&se,ye=Y+Fe+H+w[Te]+me[Te],Ne=Ce+_e,Y=U+ye<<0,U=ye+Ne<<0),Ce=(U>>>2|U<<30)^(U>>>13|U<<19)^(U>>>22|U<<10),Fe=(Y>>>6|Y<<26)^(Y>>>11|Y<<21)^(Y>>>25|Y<<7),lt=U&B,_e=lt^U&Z^Se,H=Y&ne^~Y&M,ye=se+Fe+H+w[Te+1]+me[Te+1],Ne=Ce+_e,se=ie+ye<<0,ie=ye+Ne<<0,Ce=(ie>>>2|ie<<30)^(ie>>>13|ie<<19)^(ie>>>22|ie<<10),Fe=(se>>>6|se<<26)^(se>>>11|se<<21)^(se>>>25|se<<7),at=ie&U,_e=at^ie&B^lt,H=se&Y^~se&ne,ye=M+Fe+H+w[Te+2]+me[Te+2],Ne=Ce+_e,M=Z+ye<<0,Z=ye+Ne<<0,Ce=(Z>>>2|Z<<30)^(Z>>>13|Z<<19)^(Z>>>22|Z<<10),Fe=(M>>>6|M<<26)^(M>>>11|M<<21)^(M>>>25|M<<7),dt=Z&ie,_e=dt^Z&U^at,H=M&se^~M&Y,ye=ne+Fe+H+w[Te+3]+me[Te+3],Ne=Ce+_e,ne=B+ye<<0,B=ye+Ne<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+B<<0,this.h1=this.h1+Z<<0,this.h2=this.h2+ie<<0,this.h3=this.h3+U<<0,this.h4=this.h4+ne<<0,this.h5=this.h5+M<<0,this.h6=this.h6+se<<0,this.h7=this.h7+Y<<0},$.prototype.hex=function(){this.finalize();var B=this.h0,Z=this.h1,ie=this.h2,U=this.h3,ne=this.h4,M=this.h5,se=this.h6,Y=this.h7,me=d[B>>>28&15]+d[B>>>24&15]+d[B>>>20&15]+d[B>>>16&15]+d[B>>>12&15]+d[B>>>8&15]+d[B>>>4&15]+d[B&15]+d[Z>>>28&15]+d[Z>>>24&15]+d[Z>>>20&15]+d[Z>>>16&15]+d[Z>>>12&15]+d[Z>>>8&15]+d[Z>>>4&15]+d[Z&15]+d[ie>>>28&15]+d[ie>>>24&15]+d[ie>>>20&15]+d[ie>>>16&15]+d[ie>>>12&15]+d[ie>>>8&15]+d[ie>>>4&15]+d[ie&15]+d[U>>>28&15]+d[U>>>24&15]+d[U>>>20&15]+d[U>>>16&15]+d[U>>>12&15]+d[U>>>8&15]+d[U>>>4&15]+d[U&15]+d[ne>>>28&15]+d[ne>>>24&15]+d[ne>>>20&15]+d[ne>>>16&15]+d[ne>>>12&15]+d[ne>>>8&15]+d[ne>>>4&15]+d[ne&15]+d[M>>>28&15]+d[M>>>24&15]+d[M>>>20&15]+d[M>>>16&15]+d[M>>>12&15]+d[M>>>8&15]+d[M>>>4&15]+d[M&15]+d[se>>>28&15]+d[se>>>24&15]+d[se>>>20&15]+d[se>>>16&15]+d[se>>>12&15]+d[se>>>8&15]+d[se>>>4&15]+d[se&15];return this.is224||(me+=d[Y>>>28&15]+d[Y>>>24&15]+d[Y>>>20&15]+d[Y>>>16&15]+d[Y>>>12&15]+d[Y>>>8&15]+d[Y>>>4&15]+d[Y&15]),me},$.prototype.toString=$.prototype.hex,$.prototype.digest=function(){this.finalize();var B=this.h0,Z=this.h1,ie=this.h2,U=this.h3,ne=this.h4,M=this.h5,se=this.h6,Y=this.h7,me=[B>>>24&255,B>>>16&255,B>>>8&255,B&255,Z>>>24&255,Z>>>16&255,Z>>>8&255,Z&255,ie>>>24&255,ie>>>16&255,ie>>>8&255,ie&255,U>>>24&255,U>>>16&255,U>>>8&255,U&255,ne>>>24&255,ne>>>16&255,ne>>>8&255,ne&255,M>>>24&255,M>>>16&255,M>>>8&255,M&255,se>>>24&255,se>>>16&255,se>>>8&255,se&255];return this.is224||me.push(Y>>>24&255,Y>>>16&255,Y>>>8&255,Y&255),me},$.prototype.array=$.prototype.digest,$.prototype.arrayBuffer=function(){this.finalize();var B=new ArrayBuffer(this.is224?28:32),Z=new DataView(B);return Z.setUint32(0,this.h0),Z.setUint32(4,this.h1),Z.setUint32(8,this.h2),Z.setUint32(12,this.h3),Z.setUint32(16,this.h4),Z.setUint32(20,this.h5),Z.setUint32(24,this.h6),this.is224||Z.setUint32(28,this.h7),B};function V(B,Z,ie){var U,ne=typeof B;if(ne==="string"){var M=[],se=B.length,Y=0,me;for(U=0;U<se;++U)me=B.charCodeAt(U),me<128?M[Y++]=me:me<2048?(M[Y++]=192|me>>>6,M[Y++]=128|me&63):me<55296||me>=57344?(M[Y++]=224|me>>>12,M[Y++]=128|me>>>6&63,M[Y++]=128|me&63):(me=65536+((me&1023)<<10|B.charCodeAt(++U)&1023),M[Y++]=240|me>>>18,M[Y++]=128|me>>>12&63,M[Y++]=128|me>>>6&63,M[Y++]=128|me&63);B=M}else if(ne==="object"){if(B===null)throw new Error(e);if(u&&B.constructor===ArrayBuffer)B=new Uint8Array(B);else if(!Array.isArray(B)&&(!u||!ArrayBuffer.isView(B)))throw new Error(e)}else throw new Error(e);B.length>64&&(B=new $(Z,!0).update(B).array());var Te=[],Ce=[];for(U=0;U<64;++U){var Fe=B[U]||0;Te[U]=92^Fe,Ce[U]=54^Fe}$.call(this,Z,ie),this.update(Ce),this.oKeyPad=Te,this.inner=!0,this.sharedMemory=ie}V.prototype=new $,V.prototype.finalize=function(){if($.prototype.finalize.call(this),this.inner){this.inner=!1;var B=this.array();$.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(B),$.prototype.finalize.call(this)}};var G=C();G.sha256=G,G.sha224=C(!0),G.sha256.hmac=j(),G.sha224.hmac=j(!0),l?t.exports=G:(n.sha256=G.sha256,n.sha224=G.sha224)})()}(H_)),H_.exports}var Vb=ED();const ND=Vb.sha224,yO=({index:t,key:e,fallback:r})=>t[ND(e)]?.value??t[e]?.value??r??e,kD=({index:t,key:e,fallback:r})=>yO({index:t,key:e,fallback:r}),ID=({index:t,key:e,fallback:r})=>yO({index:t,key:e,fallback:r}),Dr={index:{},push(t){this.index={...this.index,...t}},text:(t,e)=>kD({index:Dr.index,key:t,fallback:e}),rich:(t,e)=>ID({index:Dr.index,key:t,fallback:e})},gO={hash(t){return Vb.sha224(t)},verify(t,e){return Vb.sha224(t)===e}};var gr;(function(t){t.assertEqual=s=>s;function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const a={};for(const l of s)a[l]=l;return a},t.getValidEnumValues=s=>{const a=t.objectKeys(s).filter(u=>typeof s[s[u]]!="number"),l={};for(const u of a)l[u]=s[u];return t.objectValues(l)},t.objectValues=s=>t.objectKeys(s).map(function(a){return s[a]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const l in s)Object.prototype.hasOwnProperty.call(s,l)&&a.push(l);return a},t.find=(s,a)=>{for(const l of s)if(a(l))return l},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,a=" | "){return s.map(l=>typeof l=="string"?`'${l}'`:l).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(gr||(gr={}));var Hb;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Hb||(Hb={}));const It=gr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),zo=t=>{switch(typeof t){case"undefined":return It.undefined;case"string":return It.string;case"number":return isNaN(t)?It.nan:It.number;case"boolean":return It.boolean;case"function":return It.function;case"bigint":return It.bigint;case"symbol":return It.symbol;case"object":return Array.isArray(t)?It.array:t===null?It.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?It.promise:typeof Map<"u"&&t instanceof Map?It.map:typeof Set<"u"&&t instanceof Set?It.set:typeof Date<"u"&&t instanceof Date?It.date:It.object;default:return It.unknown}},it=gr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),OD=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Ji extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},n={_errors:[]},s=a=>{for(const l of a.issues)if(l.code==="invalid_union")l.unionErrors.map(s);else if(l.code==="invalid_return_type")s(l.returnTypeError);else if(l.code==="invalid_arguments")s(l.argumentsError);else if(l.path.length===0)n._errors.push(r(l));else{let u=n,d=0;for(;d<l.path.length;){const m=l.path[d];d===l.path.length-1?(u[m]=u[m]||{_errors:[]},u[m]._errors.push(r(l))):u[m]=u[m]||{_errors:[]},u=u[m],d++}}};return s(this),n}static assert(e){if(!(e instanceof Ji))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,gr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Ji.create=t=>new Ji(t);const gc=(t,e)=>{let r;switch(t.code){case it.invalid_type:t.received===It.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case it.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,gr.jsonStringifyReplacer)}`;break;case it.unrecognized_keys:r=`Unrecognized key(s) in object: ${gr.joinValues(t.keys,", ")}`;break;case it.invalid_union:r="Invalid input";break;case it.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${gr.joinValues(t.options)}`;break;case it.invalid_enum_value:r=`Invalid enum value. Expected ${gr.joinValues(t.options)}, received '${t.received}'`;break;case it.invalid_arguments:r="Invalid function arguments";break;case it.invalid_return_type:r="Invalid function return type";break;case it.invalid_date:r="Invalid date";break;case it.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:gr.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case it.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case it.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case it.custom:r="Invalid input";break;case it.invalid_intersection_types:r="Intersection results could not be merged";break;case it.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case it.not_finite:r="Number must be finite";break;default:r=e.defaultError,gr.assertNever(t)}return{message:r}};let vO=gc;function CD(t){vO=t}function Cm(){return vO}const Tm=t=>{const{data:e,path:r,errorMaps:n,issueData:s}=t,a=[...r,...s.path||[]],l={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let u="";const d=n.filter(m=>!!m).slice().reverse();for(const m of d)u=m(l,{data:e,defaultError:u}).message;return{...s,path:a,message:u}},TD=[];function xt(t,e){const r=Cm(),n=Tm({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===gc?void 0:gc].filter(s=>!!s)});t.common.issues.push(n)}class Xn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const s of r){if(s.status==="aborted")return Gt;s.status==="dirty"&&e.dirty(),n.push(s.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const s of r){const a=await s.key,l=await s.value;n.push({key:a,value:l})}return Xn.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const s of r){const{key:a,value:l}=s;if(a.status==="aborted"||l.status==="aborted")return Gt;a.status==="dirty"&&e.dirty(),l.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof l.value<"u"||s.alwaysSet)&&(n[a.value]=l.value)}return{status:e.value,value:n}}}const Gt=Object.freeze({status:"aborted"}),Vu=t=>({status:"dirty",value:t}),mi=t=>({status:"valid",value:t}),Qb=t=>t.status==="aborted",Kb=t=>t.status==="dirty",Gl=t=>t.status==="valid",df=t=>typeof Promise<"u"&&t instanceof Promise;function qm(t,e,r,n){if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function _O(t,e,r,n,s){if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var Mt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Mt||(Mt={}));var Ld,Dd;class yo{constructor(e,r,n,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const a1=(t,e)=>{if(Gl(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ji(t.common.issues);return this._error=r,this._error}}};function ar(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:s}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(l,u)=>{var d,m;const{message:g}=t;return l.code==="invalid_enum_value"?{message:g??u.defaultError}:typeof u.data>"u"?{message:(d=g??n)!==null&&d!==void 0?d:u.defaultError}:l.code!=="invalid_type"?{message:u.defaultError}:{message:(m=g??r)!==null&&m!==void 0?m:u.defaultError}},description:s}}class cr{get description(){return this._def.description}_getType(e){return zo(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:zo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Xn,ctx:{common:e.parent.common,data:e.data,parsedType:zo(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(df(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const s={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:zo(e)},a=this._parseSync({data:e,path:s.path,parent:s});return a1(s,a)}"~validate"(e){var r,n;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:zo(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:s});return Gl(a)?{value:a.value}:{issues:s.common.issues}}catch(a){!((n=(r=a?.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:s}).then(a=>Gl(a)?{value:a.value}:{issues:s.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:zo(e)},s=this._parse({data:e,path:n.path,parent:n}),a=await (df(s)?s:Promise.resolve(s));return a1(n,a)}refine(e,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,a)=>{const l=e(s),u=()=>a.addIssue({code:it.custom,...n(s)});return typeof Promise<"u"&&l instanceof Promise?l.then(d=>d?!0:(u(),!1)):l?!0:(u(),!1)})}refinement(e,r){return this._refinement((n,s)=>e(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(e){return new Qs({schema:this,typeName:Qt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return po.create(this,this._def)}nullable(){return Ya.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Us.create(this)}promise(){return _c.create(this,this._def)}or(e){return mf.create([this,e],this._def)}and(e){return yf.create(this,e,this._def)}transform(e){return new Qs({...ar(this._def),schema:this,typeName:Qt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new wf({...ar(this._def),innerType:this,defaultValue:r,typeName:Qt.ZodDefault})}brand(){return new zw({typeName:Qt.ZodBranded,type:this,...ar(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new xf({...ar(this._def),innerType:this,catchValue:r,typeName:Qt.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Vf.create(this,e)}readonly(){return Sf.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const qD=/^c[^\s-]{8,}$/i,RD=/^[0-9a-z]+$/,AD=/^[0-9A-HJKMNP-TV-Z]{26}$/i,PD=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,FD=/^[a-z0-9_-]{21}$/i,jD=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,LD=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,DD=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,MD="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Q_;const BD=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,$D=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,WD=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,zD=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,UD=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,VD=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,bO="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",HD=new RegExp(`^${bO}$`);function wO(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function QD(t){return new RegExp(`^${wO(t)}$`)}function xO(t){let e=`${bO}T${wO(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function KD(t,e){return!!((e==="v4"||!e)&&BD.test(t)||(e==="v6"||!e)&&WD.test(t))}function GD(t,e){if(!jD.test(t))return!1;try{const[r]=t.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||!s.typ||!s.alg||e&&s.alg!==e)}catch{return!1}}function JD(t,e){return!!((e==="v4"||!e)&&$D.test(t)||(e==="v6"||!e)&&zD.test(t))}class zs extends cr{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==It.string){const a=this._getOrReturnCtx(e);return xt(a,{code:it.invalid_type,expected:It.string,received:a.parsedType}),Gt}const n=new Xn;let s;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(s=this._getOrReturnCtx(e,s),xt(s,{code:it.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(s=this._getOrReturnCtx(e,s),xt(s,{code:it.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const l=e.data.length>a.value,u=e.data.length<a.value;(l||u)&&(s=this._getOrReturnCtx(e,s),l?xt(s,{code:it.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):u&&xt(s,{code:it.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")DD.test(e.data)||(s=this._getOrReturnCtx(e,s),xt(s,{validation:"email",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Q_||(Q_=new RegExp(MD,"u")),Q_.test(e.data)||(s=this._getOrReturnCtx(e,s),xt(s,{validation:"emoji",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")PD.test(e.data)||(s=this._getOrReturnCtx(e,s),xt(s,{validation:"uuid",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")FD.test(e.data)||(s=this._getOrReturnCtx(e,s),xt(s,{validation:"nanoid",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")qD.test(e.data)||(s=this._getOrReturnCtx(e,s),xt(s,{validation:"cuid",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")RD.test(e.data)||(s=this._getOrReturnCtx(e,s),xt(s,{validation:"cuid2",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")AD.test(e.data)||(s=this._getOrReturnCtx(e,s),xt(s,{validation:"ulid",code:it.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),xt(s,{validation:"url",code:it.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),xt(s,{validation:"regex",code:it.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(e,s),xt(s,{code:it.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(s=this._getOrReturnCtx(e,s),xt(s,{code:it.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(s=this._getOrReturnCtx(e,s),xt(s,{code:it.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?xO(a).test(e.data)||(s=this._getOrReturnCtx(e,s),xt(s,{code:it.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?HD.test(e.data)||(s=this._getOrReturnCtx(e,s),xt(s,{code:it.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?QD(a).test(e.data)||(s=this._getOrReturnCtx(e,s),xt(s,{code:it.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?LD.test(e.data)||(s=this._getOrReturnCtx(e,s),xt(s,{validation:"duration",code:it.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?KD(e.data,a.version)||(s=this._getOrReturnCtx(e,s),xt(s,{validation:"ip",code:it.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?GD(e.data,a.alg)||(s=this._getOrReturnCtx(e,s),xt(s,{validation:"jwt",code:it.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?JD(e.data,a.version)||(s=this._getOrReturnCtx(e,s),xt(s,{validation:"cidr",code:it.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?UD.test(e.data)||(s=this._getOrReturnCtx(e,s),xt(s,{validation:"base64",code:it.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?VD.test(e.data)||(s=this._getOrReturnCtx(e,s),xt(s,{validation:"base64url",code:it.invalid_string,message:a.message}),n.dirty()):gr.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(s=>e.test(s),{validation:r,code:it.invalid_string,...Mt.errToObj(n)})}_addCheck(e){return new zs({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Mt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Mt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Mt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Mt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Mt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Mt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Mt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Mt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Mt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Mt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Mt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Mt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Mt.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,local:(n=e?.local)!==null&&n!==void 0?n:!1,...Mt.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Mt.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Mt.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Mt.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...Mt.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Mt.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Mt.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Mt.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Mt.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Mt.errToObj(r)})}nonempty(e){return this.min(1,Mt.errToObj(e))}trim(){return new zs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new zs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new zs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}zs.create=t=>{var e;return new zs({checks:[],typeName:Qt.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...ar(t)})};function ZD(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,s=r>n?r:n,a=parseInt(t.toFixed(s).replace(".","")),l=parseInt(e.toFixed(s).replace(".",""));return a%l/Math.pow(10,s)}class Ga extends cr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==It.number){const a=this._getOrReturnCtx(e);return xt(a,{code:it.invalid_type,expected:It.number,received:a.parsedType}),Gt}let n;const s=new Xn;for(const a of this._def.checks)a.kind==="int"?gr.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),xt(n,{code:it.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),xt(n,{code:it.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),xt(n,{code:it.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?ZD(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),xt(n,{code:it.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),xt(n,{code:it.not_finite,message:a.message}),s.dirty()):gr.assertNever(a);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Mt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Mt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Mt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Mt.toString(r))}setLimit(e,r,n,s){return new Ga({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Mt.toString(s)}]})}_addCheck(e){return new Ga({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Mt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Mt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Mt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Mt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Mt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Mt.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Mt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Mt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Mt.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&gr.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Ga.create=t=>new Ga({checks:[],typeName:Qt.ZodNumber,coerce:t?.coerce||!1,...ar(t)});class Ja extends cr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==It.bigint)return this._getInvalidInput(e);let n;const s=new Xn;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),xt(n,{code:it.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),xt(n,{code:it.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),xt(n,{code:it.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):gr.assertNever(a);return{status:s.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return xt(r,{code:it.invalid_type,expected:It.bigint,received:r.parsedType}),Gt}gte(e,r){return this.setLimit("min",e,!0,Mt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Mt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Mt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Mt.toString(r))}setLimit(e,r,n,s){return new Ja({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Mt.toString(s)}]})}_addCheck(e){return new Ja({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Mt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Mt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Mt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Mt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Mt.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Ja.create=t=>{var e;return new Ja({checks:[],typeName:Qt.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...ar(t)})};class ff extends cr{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==It.boolean){const n=this._getOrReturnCtx(e);return xt(n,{code:it.invalid_type,expected:It.boolean,received:n.parsedType}),Gt}return mi(e.data)}}ff.create=t=>new ff({typeName:Qt.ZodBoolean,coerce:t?.coerce||!1,...ar(t)});class Jl extends cr{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==It.date){const a=this._getOrReturnCtx(e);return xt(a,{code:it.invalid_type,expected:It.date,received:a.parsedType}),Gt}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return xt(a,{code:it.invalid_date}),Gt}const n=new Xn;let s;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(s=this._getOrReturnCtx(e,s),xt(s,{code:it.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(s=this._getOrReturnCtx(e,s),xt(s,{code:it.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):gr.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Jl({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Mt.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Mt.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Jl.create=t=>new Jl({checks:[],coerce:t?.coerce||!1,typeName:Qt.ZodDate,...ar(t)});class Rm extends cr{_parse(e){if(this._getType(e)!==It.symbol){const n=this._getOrReturnCtx(e);return xt(n,{code:it.invalid_type,expected:It.symbol,received:n.parsedType}),Gt}return mi(e.data)}}Rm.create=t=>new Rm({typeName:Qt.ZodSymbol,...ar(t)});class hf extends cr{_parse(e){if(this._getType(e)!==It.undefined){const n=this._getOrReturnCtx(e);return xt(n,{code:it.invalid_type,expected:It.undefined,received:n.parsedType}),Gt}return mi(e.data)}}hf.create=t=>new hf({typeName:Qt.ZodUndefined,...ar(t)});class pf extends cr{_parse(e){if(this._getType(e)!==It.null){const n=this._getOrReturnCtx(e);return xt(n,{code:it.invalid_type,expected:It.null,received:n.parsedType}),Gt}return mi(e.data)}}pf.create=t=>new pf({typeName:Qt.ZodNull,...ar(t)});class vc extends cr{constructor(){super(...arguments),this._any=!0}_parse(e){return mi(e.data)}}vc.create=t=>new vc({typeName:Qt.ZodAny,...ar(t)});class Vl extends cr{constructor(){super(...arguments),this._unknown=!0}_parse(e){return mi(e.data)}}Vl.create=t=>new Vl({typeName:Qt.ZodUnknown,...ar(t)});class Jo extends cr{_parse(e){const r=this._getOrReturnCtx(e);return xt(r,{code:it.invalid_type,expected:It.never,received:r.parsedType}),Gt}}Jo.create=t=>new Jo({typeName:Qt.ZodNever,...ar(t)});class Am extends cr{_parse(e){if(this._getType(e)!==It.undefined){const n=this._getOrReturnCtx(e);return xt(n,{code:it.invalid_type,expected:It.void,received:n.parsedType}),Gt}return mi(e.data)}}Am.create=t=>new Am({typeName:Qt.ZodVoid,...ar(t)});class Us extends cr{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),s=this._def;if(r.parsedType!==It.array)return xt(r,{code:it.invalid_type,expected:It.array,received:r.parsedType}),Gt;if(s.exactLength!==null){const l=r.data.length>s.exactLength.value,u=r.data.length<s.exactLength.value;(l||u)&&(xt(r,{code:l?it.too_big:it.too_small,minimum:u?s.exactLength.value:void 0,maximum:l?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(xt(r,{code:it.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(xt(r,{code:it.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((l,u)=>s.type._parseAsync(new yo(r,l,r.path,u)))).then(l=>Xn.mergeArray(n,l));const a=[...r.data].map((l,u)=>s.type._parseSync(new yo(r,l,r.path,u)));return Xn.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new Us({...this._def,minLength:{value:e,message:Mt.toString(r)}})}max(e,r){return new Us({...this._def,maxLength:{value:e,message:Mt.toString(r)}})}length(e,r){return new Us({...this._def,exactLength:{value:e,message:Mt.toString(r)}})}nonempty(e){return this.min(1,e)}}Us.create=(t,e)=>new Us({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Qt.ZodArray,...ar(e)});function $u(t){if(t instanceof sn){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=po.create($u(n))}return new sn({...t._def,shape:()=>e})}else return t instanceof Us?new Us({...t._def,type:$u(t.element)}):t instanceof po?po.create($u(t.unwrap())):t instanceof Ya?Ya.create($u(t.unwrap())):t instanceof go?go.create(t.items.map(e=>$u(e))):t}class sn extends cr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=gr.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==It.object){const m=this._getOrReturnCtx(e);return xt(m,{code:it.invalid_type,expected:It.object,received:m.parsedType}),Gt}const{status:n,ctx:s}=this._processInputParams(e),{shape:a,keys:l}=this._getCached(),u=[];if(!(this._def.catchall instanceof Jo&&this._def.unknownKeys==="strip"))for(const m in s.data)l.includes(m)||u.push(m);const d=[];for(const m of l){const g=a[m],w=s.data[m];d.push({key:{status:"valid",value:m},value:g._parse(new yo(s,w,s.path,m)),alwaysSet:m in s.data})}if(this._def.catchall instanceof Jo){const m=this._def.unknownKeys;if(m==="passthrough")for(const g of u)d.push({key:{status:"valid",value:g},value:{status:"valid",value:s.data[g]}});else if(m==="strict")u.length>0&&(xt(s,{code:it.unrecognized_keys,keys:u}),n.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const g of u){const w=s.data[g];d.push({key:{status:"valid",value:g},value:m._parse(new yo(s,w,s.path,g)),alwaysSet:g in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const m=[];for(const g of d){const w=await g.key,N=await g.value;m.push({key:w,value:N,alwaysSet:g.alwaysSet})}return m}).then(m=>Xn.mergeObjectSync(n,m)):Xn.mergeObjectSync(n,d)}get shape(){return this._def.shape()}strict(e){return Mt.errToObj,new sn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var s,a,l,u;const d=(l=(a=(s=this._def).errorMap)===null||a===void 0?void 0:a.call(s,r,n).message)!==null&&l!==void 0?l:n.defaultError;return r.code==="unrecognized_keys"?{message:(u=Mt.errToObj(e).message)!==null&&u!==void 0?u:d}:{message:d}}}:{}})}strip(){return new sn({...this._def,unknownKeys:"strip"})}passthrough(){return new sn({...this._def,unknownKeys:"passthrough"})}extend(e){return new sn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new sn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Qt.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new sn({...this._def,catchall:e})}pick(e){const r={};return gr.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new sn({...this._def,shape:()=>r})}omit(e){const r={};return gr.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new sn({...this._def,shape:()=>r})}deepPartial(){return $u(this)}partial(e){const r={};return gr.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];e&&!e[n]?r[n]=s:r[n]=s.optional()}),new sn({...this._def,shape:()=>r})}required(e){const r={};return gr.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof po;)a=a._def.innerType;r[n]=a}}),new sn({...this._def,shape:()=>r})}keyof(){return SO(gr.objectKeys(this.shape))}}sn.create=(t,e)=>new sn({shape:()=>t,unknownKeys:"strip",catchall:Jo.create(),typeName:Qt.ZodObject,...ar(e)});sn.strictCreate=(t,e)=>new sn({shape:()=>t,unknownKeys:"strict",catchall:Jo.create(),typeName:Qt.ZodObject,...ar(e)});sn.lazycreate=(t,e)=>new sn({shape:t,unknownKeys:"strip",catchall:Jo.create(),typeName:Qt.ZodObject,...ar(e)});class mf extends cr{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function s(a){for(const u of a)if(u.result.status==="valid")return u.result;for(const u of a)if(u.result.status==="dirty")return r.common.issues.push(...u.ctx.common.issues),u.result;const l=a.map(u=>new Ji(u.ctx.common.issues));return xt(r,{code:it.invalid_union,unionErrors:l}),Gt}if(r.common.async)return Promise.all(n.map(async a=>{const l={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:l}),ctx:l}})).then(s);{let a;const l=[];for(const d of n){const m={...r,common:{...r.common,issues:[]},parent:null},g=d._parseSync({data:r.data,path:r.path,parent:m});if(g.status==="valid")return g;g.status==="dirty"&&!a&&(a={result:g,ctx:m}),m.common.issues.length&&l.push(m.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const u=l.map(d=>new Ji(d));return xt(r,{code:it.invalid_union,unionErrors:u}),Gt}}get options(){return this._def.options}}mf.create=(t,e)=>new mf({options:t,typeName:Qt.ZodUnion,...ar(e)});const Bo=t=>t instanceof vf?Bo(t.schema):t instanceof Qs?Bo(t.innerType()):t instanceof _f?[t.value]:t instanceof Za?t.options:t instanceof bf?gr.objectValues(t.enum):t instanceof wf?Bo(t._def.innerType):t instanceof hf?[void 0]:t instanceof pf?[null]:t instanceof po?[void 0,...Bo(t.unwrap())]:t instanceof Ya?[null,...Bo(t.unwrap())]:t instanceof zw||t instanceof Sf?Bo(t.unwrap()):t instanceof xf?Bo(t._def.innerType):[];class Oy extends cr{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==It.object)return xt(r,{code:it.invalid_type,expected:It.object,received:r.parsedType}),Gt;const n=this.discriminator,s=r.data[n],a=this.optionsMap.get(s);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(xt(r,{code:it.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Gt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const s=new Map;for(const a of r){const l=Bo(a.shape[e]);if(!l.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const u of l){if(s.has(u))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(u)}`);s.set(u,a)}}return new Oy({typeName:Qt.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,...ar(n)})}}function Gb(t,e){const r=zo(t),n=zo(e);if(t===e)return{valid:!0,data:t};if(r===It.object&&n===It.object){const s=gr.objectKeys(e),a=gr.objectKeys(t).filter(u=>s.indexOf(u)!==-1),l={...t,...e};for(const u of a){const d=Gb(t[u],e[u]);if(!d.valid)return{valid:!1};l[u]=d.data}return{valid:!0,data:l}}else if(r===It.array&&n===It.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let a=0;a<t.length;a++){const l=t[a],u=e[a],d=Gb(l,u);if(!d.valid)return{valid:!1};s.push(d.data)}return{valid:!0,data:s}}else return r===It.date&&n===It.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class yf extends cr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=(a,l)=>{if(Qb(a)||Qb(l))return Gt;const u=Gb(a.value,l.value);return u.valid?((Kb(a)||Kb(l))&&r.dirty(),{status:r.value,value:u.data}):(xt(n,{code:it.invalid_intersection_types}),Gt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,l])=>s(a,l)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}yf.create=(t,e,r)=>new yf({left:t,right:e,typeName:Qt.ZodIntersection,...ar(r)});class go extends cr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==It.array)return xt(n,{code:it.invalid_type,expected:It.array,received:n.parsedType}),Gt;if(n.data.length<this._def.items.length)return xt(n,{code:it.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Gt;!this._def.rest&&n.data.length>this._def.items.length&&(xt(n,{code:it.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((l,u)=>{const d=this._def.items[u]||this._def.rest;return d?d._parse(new yo(n,l,n.path,u)):null}).filter(l=>!!l);return n.common.async?Promise.all(a).then(l=>Xn.mergeArray(r,l)):Xn.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new go({...this._def,rest:e})}}go.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new go({items:t,typeName:Qt.ZodTuple,rest:null,...ar(e)})};class gf extends cr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==It.object)return xt(n,{code:it.invalid_type,expected:It.object,received:n.parsedType}),Gt;const s=[],a=this._def.keyType,l=this._def.valueType;for(const u in n.data)s.push({key:a._parse(new yo(n,u,n.path,u)),value:l._parse(new yo(n,n.data[u],n.path,u)),alwaysSet:u in n.data});return n.common.async?Xn.mergeObjectAsync(r,s):Xn.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof cr?new gf({keyType:e,valueType:r,typeName:Qt.ZodRecord,...ar(n)}):new gf({keyType:zs.create(),valueType:e,typeName:Qt.ZodRecord,...ar(r)})}}class Pm extends cr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==It.map)return xt(n,{code:it.invalid_type,expected:It.map,received:n.parsedType}),Gt;const s=this._def.keyType,a=this._def.valueType,l=[...n.data.entries()].map(([u,d],m)=>({key:s._parse(new yo(n,u,n.path,[m,"key"])),value:a._parse(new yo(n,d,n.path,[m,"value"]))}));if(n.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const d of l){const m=await d.key,g=await d.value;if(m.status==="aborted"||g.status==="aborted")return Gt;(m.status==="dirty"||g.status==="dirty")&&r.dirty(),u.set(m.value,g.value)}return{status:r.value,value:u}})}else{const u=new Map;for(const d of l){const m=d.key,g=d.value;if(m.status==="aborted"||g.status==="aborted")return Gt;(m.status==="dirty"||g.status==="dirty")&&r.dirty(),u.set(m.value,g.value)}return{status:r.value,value:u}}}}Pm.create=(t,e,r)=>new Pm({valueType:e,keyType:t,typeName:Qt.ZodMap,...ar(r)});class Zl extends cr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==It.set)return xt(n,{code:it.invalid_type,expected:It.set,received:n.parsedType}),Gt;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(xt(n,{code:it.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(xt(n,{code:it.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const a=this._def.valueType;function l(d){const m=new Set;for(const g of d){if(g.status==="aborted")return Gt;g.status==="dirty"&&r.dirty(),m.add(g.value)}return{status:r.value,value:m}}const u=[...n.data.values()].map((d,m)=>a._parse(new yo(n,d,n.path,m)));return n.common.async?Promise.all(u).then(d=>l(d)):l(u)}min(e,r){return new Zl({...this._def,minSize:{value:e,message:Mt.toString(r)}})}max(e,r){return new Zl({...this._def,maxSize:{value:e,message:Mt.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Zl.create=(t,e)=>new Zl({valueType:t,minSize:null,maxSize:null,typeName:Qt.ZodSet,...ar(e)});class nc extends cr{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==It.function)return xt(r,{code:it.invalid_type,expected:It.function,received:r.parsedType}),Gt;function n(u,d){return Tm({data:u,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Cm(),gc].filter(m=>!!m),issueData:{code:it.invalid_arguments,argumentsError:d}})}function s(u,d){return Tm({data:u,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Cm(),gc].filter(m=>!!m),issueData:{code:it.invalid_return_type,returnTypeError:d}})}const a={errorMap:r.common.contextualErrorMap},l=r.data;if(this._def.returns instanceof _c){const u=this;return mi(async function(...d){const m=new Ji([]),g=await u._def.args.parseAsync(d,a).catch(k=>{throw m.addIssue(n(d,k)),m}),w=await Reflect.apply(l,this,g);return await u._def.returns._def.type.parseAsync(w,a).catch(k=>{throw m.addIssue(s(w,k)),m})})}else{const u=this;return mi(function(...d){const m=u._def.args.safeParse(d,a);if(!m.success)throw new Ji([n(d,m.error)]);const g=Reflect.apply(l,this,m.data),w=u._def.returns.safeParse(g,a);if(!w.success)throw new Ji([s(g,w.error)]);return w.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new nc({...this._def,args:go.create(e).rest(Vl.create())})}returns(e){return new nc({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new nc({args:e||go.create([]).rest(Vl.create()),returns:r||Vl.create(),typeName:Qt.ZodFunction,...ar(n)})}}class vf extends cr{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}vf.create=(t,e)=>new vf({getter:t,typeName:Qt.ZodLazy,...ar(e)});class _f extends cr{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return xt(r,{received:r.data,code:it.invalid_literal,expected:this._def.value}),Gt}return{status:"valid",value:e.data}}get value(){return this._def.value}}_f.create=(t,e)=>new _f({value:t,typeName:Qt.ZodLiteral,...ar(e)});function SO(t,e){return new Za({values:t,typeName:Qt.ZodEnum,...ar(e)})}class Za extends cr{constructor(){super(...arguments),Ld.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return xt(r,{expected:gr.joinValues(n),received:r.parsedType,code:it.invalid_type}),Gt}if(qm(this,Ld)||_O(this,Ld,new Set(this._def.values)),!qm(this,Ld).has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return xt(r,{received:r.data,code:it.invalid_enum_value,options:n}),Gt}return mi(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Za.create(e,{...this._def,...r})}exclude(e,r=this._def){return Za.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Ld=new WeakMap;Za.create=SO;class bf extends cr{constructor(){super(...arguments),Dd.set(this,void 0)}_parse(e){const r=gr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==It.string&&n.parsedType!==It.number){const s=gr.objectValues(r);return xt(n,{expected:gr.joinValues(s),received:n.parsedType,code:it.invalid_type}),Gt}if(qm(this,Dd)||_O(this,Dd,new Set(gr.getValidEnumValues(this._def.values))),!qm(this,Dd).has(e.data)){const s=gr.objectValues(r);return xt(n,{received:n.data,code:it.invalid_enum_value,options:s}),Gt}return mi(e.data)}get enum(){return this._def.values}}Dd=new WeakMap;bf.create=(t,e)=>new bf({values:t,typeName:Qt.ZodNativeEnum,...ar(e)});class _c extends cr{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==It.promise&&r.common.async===!1)return xt(r,{code:it.invalid_type,expected:It.promise,received:r.parsedType}),Gt;const n=r.parsedType===It.promise?r.data:Promise.resolve(r.data);return mi(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}_c.create=(t,e)=>new _c({type:t,typeName:Qt.ZodPromise,...ar(e)});class Qs extends cr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Qt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),s=this._def.effect||null,a={addIssue:l=>{xt(n,l),l.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const l=s.transform(n.data,a);if(n.common.async)return Promise.resolve(l).then(async u=>{if(r.value==="aborted")return Gt;const d=await this._def.schema._parseAsync({data:u,path:n.path,parent:n});return d.status==="aborted"?Gt:d.status==="dirty"||r.value==="dirty"?Vu(d.value):d});{if(r.value==="aborted")return Gt;const u=this._def.schema._parseSync({data:l,path:n.path,parent:n});return u.status==="aborted"?Gt:u.status==="dirty"||r.value==="dirty"?Vu(u.value):u}}if(s.type==="refinement"){const l=u=>{const d=s.refinement(u,a);if(n.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(n.common.async===!1){const u=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return u.status==="aborted"?Gt:(u.status==="dirty"&&r.dirty(),l(u.value),{status:r.value,value:u.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(u=>u.status==="aborted"?Gt:(u.status==="dirty"&&r.dirty(),l(u.value).then(()=>({status:r.value,value:u.value}))))}if(s.type==="transform")if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Gl(l))return l;const u=s.transform(l.value,a);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:u}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>Gl(l)?Promise.resolve(s.transform(l.value,a)).then(u=>({status:r.value,value:u})):l);gr.assertNever(s)}}Qs.create=(t,e,r)=>new Qs({schema:t,typeName:Qt.ZodEffects,effect:e,...ar(r)});Qs.createWithPreprocess=(t,e,r)=>new Qs({schema:e,effect:{type:"preprocess",transform:t},typeName:Qt.ZodEffects,...ar(r)});class po extends cr{_parse(e){return this._getType(e)===It.undefined?mi(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}po.create=(t,e)=>new po({innerType:t,typeName:Qt.ZodOptional,...ar(e)});class Ya extends cr{_parse(e){return this._getType(e)===It.null?mi(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ya.create=(t,e)=>new Ya({innerType:t,typeName:Qt.ZodNullable,...ar(e)});class wf extends cr{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===It.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}wf.create=(t,e)=>new wf({innerType:t,typeName:Qt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ar(e)});class xf extends cr{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return df(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ji(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ji(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}xf.create=(t,e)=>new xf({innerType:t,typeName:Qt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ar(e)});class Fm extends cr{_parse(e){if(this._getType(e)!==It.nan){const n=this._getOrReturnCtx(e);return xt(n,{code:it.invalid_type,expected:It.nan,received:n.parsedType}),Gt}return{status:"valid",value:e.data}}}Fm.create=t=>new Fm({typeName:Qt.ZodNaN,...ar(t)});const YD=Symbol("zod_brand");class zw extends cr{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Vf extends cr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Gt:a.status==="dirty"?(r.dirty(),Vu(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Gt:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(e,r){return new Vf({in:e,out:r,typeName:Qt.ZodPipeline})}}class Sf extends cr{_parse(e){const r=this._def.innerType._parse(e),n=s=>(Gl(s)&&(s.value=Object.freeze(s.value)),s);return df(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Sf.create=(t,e)=>new Sf({innerType:t,typeName:Qt.ZodReadonly,...ar(e)});function EO(t,e={},r){return t?vc.create().superRefine((n,s)=>{var a,l;if(!t(n)){const u=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,d=(l=(a=u.fatal)!==null&&a!==void 0?a:r)!==null&&l!==void 0?l:!0,m=typeof u=="string"?{message:u}:u;s.addIssue({code:"custom",...m,fatal:d})}}):vc.create()}const XD={object:sn.lazycreate};var Qt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Qt||(Qt={}));const eM=(t,e={message:`Input not instance of ${t.name}`})=>EO(r=>r instanceof t,e),NO=zs.create,kO=Ga.create,tM=Fm.create,rM=Ja.create,IO=ff.create,nM=Jl.create,iM=Rm.create,sM=hf.create,oM=pf.create,aM=vc.create,lM=Vl.create,uM=Jo.create,cM=Am.create,dM=Us.create,fM=sn.create,hM=sn.strictCreate,pM=mf.create,mM=Oy.create,yM=yf.create,gM=go.create,vM=gf.create,_M=Pm.create,bM=Zl.create,wM=nc.create,xM=vf.create,SM=_f.create,EM=Za.create,NM=bf.create,kM=_c.create,l1=Qs.create,IM=po.create,OM=Ya.create,CM=Qs.createWithPreprocess,TM=Vf.create,qM=()=>NO().optional(),RM=()=>kO().optional(),AM=()=>IO().optional(),PM={string:t=>zs.create({...t,coerce:!0}),number:t=>Ga.create({...t,coerce:!0}),boolean:t=>ff.create({...t,coerce:!0}),bigint:t=>Ja.create({...t,coerce:!0}),date:t=>Jl.create({...t,coerce:!0})},FM=Gt;var de=Object.freeze({__proto__:null,defaultErrorMap:gc,setErrorMap:CD,getErrorMap:Cm,makeIssue:Tm,EMPTY_PATH:TD,addIssueToContext:xt,ParseStatus:Xn,INVALID:Gt,DIRTY:Vu,OK:mi,isAborted:Qb,isDirty:Kb,isValid:Gl,isAsync:df,get util(){return gr},get objectUtil(){return Hb},ZodParsedType:It,getParsedType:zo,ZodType:cr,datetimeRegex:xO,ZodString:zs,ZodNumber:Ga,ZodBigInt:Ja,ZodBoolean:ff,ZodDate:Jl,ZodSymbol:Rm,ZodUndefined:hf,ZodNull:pf,ZodAny:vc,ZodUnknown:Vl,ZodNever:Jo,ZodVoid:Am,ZodArray:Us,ZodObject:sn,ZodUnion:mf,ZodDiscriminatedUnion:Oy,ZodIntersection:yf,ZodTuple:go,ZodRecord:gf,ZodMap:Pm,ZodSet:Zl,ZodFunction:nc,ZodLazy:vf,ZodLiteral:_f,ZodEnum:Za,ZodNativeEnum:bf,ZodPromise:_c,ZodEffects:Qs,ZodTransformer:Qs,ZodOptional:po,ZodNullable:Ya,ZodDefault:wf,ZodCatch:xf,ZodNaN:Fm,BRAND:YD,ZodBranded:zw,ZodPipeline:Vf,ZodReadonly:Sf,custom:EO,Schema:cr,ZodSchema:cr,late:XD,get ZodFirstPartyTypeKind(){return Qt},coerce:PM,any:aM,array:dM,bigint:rM,boolean:IO,date:nM,discriminatedUnion:mM,effect:l1,enum:EM,function:wM,instanceof:eM,intersection:yM,lazy:xM,literal:SM,map:_M,nan:tM,nativeEnum:NM,never:uM,null:oM,nullable:OM,number:kO,object:fM,oboolean:AM,onumber:RM,optional:IM,ostring:qM,pipeline:TM,preprocess:CM,promise:kM,record:vM,set:bM,strictObject:hM,string:NO,symbol:iM,transformer:l1,tuple:gM,undefined:sM,union:pM,unknown:lM,void:cM,NEVER:FM,ZodIssueCode:it,quotelessJson:OD,ZodError:Ji});const jM=de.object({page:de.number().gte(0,"Page must be greater than zero"),size:de.number().gte(1,"Page size must be greater than one to get any data")}),Yi=de.object({id:de.string().min(1)}),Uw=de.object({message:de.string()}),Xi=de.object({id:de.string().optional(),idIn:de.array(de.string()).optional(),fulltext:de.string().optional()}),LM=de.enum(["asc","desc"]),DM=Yi.merge(de.object({code:de.string().min(1),label:de.string().min(1),group:de.string().nullish(),sort:de.number().default(0)}));var Pu={},Lo={},zr={},js={},u1;function OO(){if(u1)return js;u1=1,Object.defineProperty(js,"__esModule",{value:!0}),js.anumber=t,js.number=t,js.abytes=r,js.bytes=r,js.ahash=n,js.aexists=s,js.aoutput=a;function t(u){if(!Number.isSafeInteger(u)||u<0)throw new Error("positive integer expected, got "+u)}function e(u){return u instanceof Uint8Array||ArrayBuffer.isView(u)&&u.constructor.name==="Uint8Array"}function r(u,...d){if(!e(u))throw new Error("Uint8Array expected");if(d.length>0&&!d.includes(u.length))throw new Error("Uint8Array expected of length "+d+", got length="+u.length)}function n(u){if(typeof u!="function"||typeof u.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");t(u.outputLen),t(u.blockLen)}function s(u,d=!0){if(u.destroyed)throw new Error("Hash instance has been destroyed");if(d&&u.finished)throw new Error("Hash#digest() has already been called")}function a(u,d){r(u);const m=d.outputLen;if(u.length<m)throw new Error("digestInto() expects output buffer of length at least "+m)}const l={number:t,bytes:r,hash:n,exists:s,output:a};return js.default=l,js}var tr={},c1;function MM(){if(c1)return tr;c1=1,Object.defineProperty(tr,"__esModule",{value:!0}),tr.add5L=tr.add5H=tr.add4H=tr.add4L=tr.add3H=tr.add3L=tr.rotlBL=tr.rotlBH=tr.rotlSL=tr.rotlSH=tr.rotr32L=tr.rotr32H=tr.rotrBL=tr.rotrBH=tr.rotrSL=tr.rotrSH=tr.shrSL=tr.shrSH=tr.toBig=void 0,tr.fromBig=r,tr.split=n,tr.add=D;const t=BigInt(2**32-1),e=BigInt(32);function r(U,ne=!1){return ne?{h:Number(U&t),l:Number(U>>e&t)}:{h:Number(U>>e&t)|0,l:Number(U&t)|0}}function n(U,ne=!1){let M=new Uint32Array(U.length),se=new Uint32Array(U.length);for(let Y=0;Y<U.length;Y++){const{h:me,l:Te}=r(U[Y],ne);[M[Y],se[Y]]=[me,Te]}return[M,se]}const s=(U,ne)=>BigInt(U>>>0)<<e|BigInt(ne>>>0);tr.toBig=s;const a=(U,ne,M)=>U>>>M;tr.shrSH=a;const l=(U,ne,M)=>U<<32-M|ne>>>M;tr.shrSL=l;const u=(U,ne,M)=>U>>>M|ne<<32-M;tr.rotrSH=u;const d=(U,ne,M)=>U<<32-M|ne>>>M;tr.rotrSL=d;const m=(U,ne,M)=>U<<64-M|ne>>>M-32;tr.rotrBH=m;const g=(U,ne,M)=>U>>>M-32|ne<<64-M;tr.rotrBL=g;const w=(U,ne)=>ne;tr.rotr32H=w;const N=(U,ne)=>U;tr.rotr32L=N;const k=(U,ne,M)=>U<<M|ne>>>32-M;tr.rotlSH=k;const O=(U,ne,M)=>ne<<M|U>>>32-M;tr.rotlSL=O;const C=(U,ne,M)=>ne<<M-32|U>>>64-M;tr.rotlBH=C;const A=(U,ne,M)=>U<<M-32|ne>>>64-M;tr.rotlBL=A;function D(U,ne,M,se){const Y=(ne>>>0)+(se>>>0);return{h:U+M+(Y/2**32|0)|0,l:Y|0}}const j=(U,ne,M)=>(U>>>0)+(ne>>>0)+(M>>>0);tr.add3L=j;const $=(U,ne,M,se)=>ne+M+se+(U/2**32|0)|0;tr.add3H=$;const V=(U,ne,M,se)=>(U>>>0)+(ne>>>0)+(M>>>0)+(se>>>0);tr.add4L=V;const G=(U,ne,M,se,Y)=>ne+M+se+Y+(U/2**32|0)|0;tr.add4H=G;const B=(U,ne,M,se,Y)=>(U>>>0)+(ne>>>0)+(M>>>0)+(se>>>0)+(Y>>>0);tr.add5L=B;const Z=(U,ne,M,se,Y,me)=>ne+M+se+Y+me+(U/2**32|0)|0;tr.add5H=Z;const ie={fromBig:r,split:n,toBig:s,shrSH:a,shrSL:l,rotrSH:u,rotrSL:d,rotrBH:m,rotrBL:g,rotr32H:w,rotr32L:N,rotlSH:k,rotlSL:O,rotlBH:C,rotlBL:A,add:D,add3L:j,add3H:$,add4L:V,add4H:G,add5H:Z,add5L:B};return tr.default=ie,tr}var K_={},Td={},d1;function BM(){return d1||(d1=1,Object.defineProperty(Td,"__esModule",{value:!0}),Td.crypto=void 0,Td.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),Td}var f1;function $M(){return f1||(f1=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Hash=t.nextTick=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=void 0,t.isBytes=n,t.byteSwap32=g,t.bytesToHex=N,t.hexToBytes=C,t.asyncLoop=D,t.utf8ToBytes=j,t.toBytes=$,t.concatBytes=V,t.checkOpts=B,t.wrapConstructor=Z,t.wrapConstructorWithOpts=ie,t.wrapXOFConstructorWithOpts=U,t.randomBytes=ne;const e=BM(),r=OO();function n(M){return M instanceof Uint8Array||ArrayBuffer.isView(M)&&M.constructor.name==="Uint8Array"}const s=M=>new Uint8Array(M.buffer,M.byteOffset,M.byteLength);t.u8=s;const a=M=>new Uint32Array(M.buffer,M.byteOffset,Math.floor(M.byteLength/4));t.u32=a;const l=M=>new DataView(M.buffer,M.byteOffset,M.byteLength);t.createView=l;const u=(M,se)=>M<<32-se|M>>>se;t.rotr=u;const d=(M,se)=>M<<se|M>>>32-se>>>0;t.rotl=d,t.isLE=new Uint8Array(new Uint32Array([0x11223344]).buffer)[0]===68;const m=M=>M<<24&0xff000000|M<<8&0xff0000|M>>>8&65280|M>>>24&255;t.byteSwap=m,t.byteSwapIfBE=t.isLE?M=>M:M=>(0,t.byteSwap)(M);function g(M){for(let se=0;se<M.length;se++)M[se]=(0,t.byteSwap)(M[se])}const w=Array.from({length:256},(M,se)=>se.toString(16).padStart(2,"0"));function N(M){(0,r.abytes)(M);let se="";for(let Y=0;Y<M.length;Y++)se+=w[M[Y]];return se}const k={_0:48,_9:57,A:65,F:70,a:97,f:102};function O(M){if(M>=k._0&&M<=k._9)return M-k._0;if(M>=k.A&&M<=k.F)return M-(k.A-10);if(M>=k.a&&M<=k.f)return M-(k.a-10)}function C(M){if(typeof M!="string")throw new Error("hex string expected, got "+typeof M);const se=M.length,Y=se/2;if(se%2)throw new Error("hex string expected, got unpadded hex of length "+se);const me=new Uint8Array(Y);for(let Te=0,Ce=0;Te<Y;Te++,Ce+=2){const Fe=O(M.charCodeAt(Ce)),_e=O(M.charCodeAt(Ce+1));if(Fe===void 0||_e===void 0){const ye=M[Ce]+M[Ce+1];throw new Error('hex string expected, got non-hex character "'+ye+'" at index '+Ce)}me[Te]=Fe*16+_e}return me}const A=async()=>{};t.nextTick=A;async function D(M,se,Y){let me=Date.now();for(let Te=0;Te<M;Te++){Y(Te);const Ce=Date.now()-me;Ce>=0&&Ce<se||(await (0,t.nextTick)(),me+=Ce)}}function j(M){if(typeof M!="string")throw new Error("utf8ToBytes expected string, got "+typeof M);return new Uint8Array(new TextEncoder().encode(M))}function $(M){return typeof M=="string"&&(M=j(M)),(0,r.abytes)(M),M}function V(...M){let se=0;for(let me=0;me<M.length;me++){const Te=M[me];(0,r.abytes)(Te),se+=Te.length}const Y=new Uint8Array(se);for(let me=0,Te=0;me<M.length;me++){const Ce=M[me];Y.set(Ce,Te),Te+=Ce.length}return Y}class G{clone(){return this._cloneInto()}}t.Hash=G;function B(M,se){if(se!==void 0&&{}.toString.call(se)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(M,se)}function Z(M){const se=me=>M().update($(me)).digest(),Y=M();return se.outputLen=Y.outputLen,se.blockLen=Y.blockLen,se.create=()=>M(),se}function ie(M){const se=(me,Te)=>M(Te).update($(me)).digest(),Y=M({});return se.outputLen=Y.outputLen,se.blockLen=Y.blockLen,se.create=me=>M(me),se}function U(M){const se=(me,Te)=>M(Te).update($(me)).digest(),Y=M({});return se.outputLen=Y.outputLen,se.blockLen=Y.blockLen,se.create=me=>M(me),se}function ne(M=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(M));if(e.crypto&&typeof e.crypto.randomBytes=="function")return e.crypto.randomBytes(M);throw new Error("crypto.getRandomValues must be defined")}}(K_)),K_}var h1;function WM(){if(h1)return zr;h1=1,Object.defineProperty(zr,"__esModule",{value:!0}),zr.shake256=zr.shake128=zr.keccak_512=zr.keccak_384=zr.keccak_256=zr.keccak_224=zr.sha3_512=zr.sha3_384=zr.sha3_256=zr.sha3_224=zr.Keccak=void 0,zr.keccakP=A;const t=OO(),e=MM(),r=$M(),n=[],s=[],a=[],l=BigInt(0),u=BigInt(1),d=BigInt(2),m=BigInt(7),g=BigInt(256),w=BigInt(113);for(let V=0,G=u,B=1,Z=0;V<24;V++){[B,Z]=[Z,(2*B+3*Z)%5],n.push(2*(5*Z+B)),s.push((V+1)*(V+2)/2%64);let ie=l;for(let U=0;U<7;U++)G=(G<<u^(G>>m)*w)%g,G&d&&(ie^=u<<(u<<BigInt(U))-u);a.push(ie)}const[N,k]=(0,e.split)(a,!0),O=(V,G,B)=>B>32?(0,e.rotlBH)(V,G,B):(0,e.rotlSH)(V,G,B),C=(V,G,B)=>B>32?(0,e.rotlBL)(V,G,B):(0,e.rotlSL)(V,G,B);function A(V,G=24){const B=new Uint32Array(10);for(let Z=24-G;Z<24;Z++){for(let ne=0;ne<10;ne++)B[ne]=V[ne]^V[ne+10]^V[ne+20]^V[ne+30]^V[ne+40];for(let ne=0;ne<10;ne+=2){const M=(ne+8)%10,se=(ne+2)%10,Y=B[se],me=B[se+1],Te=O(Y,me,1)^B[M],Ce=C(Y,me,1)^B[M+1];for(let Fe=0;Fe<50;Fe+=10)V[ne+Fe]^=Te,V[ne+Fe+1]^=Ce}let ie=V[2],U=V[3];for(let ne=0;ne<24;ne++){const M=s[ne],se=O(ie,U,M),Y=C(ie,U,M),me=n[ne];ie=V[me],U=V[me+1],V[me]=se,V[me+1]=Y}for(let ne=0;ne<50;ne+=10){for(let M=0;M<10;M++)B[M]=V[ne+M];for(let M=0;M<10;M++)V[ne+M]^=~B[(M+2)%10]&B[(M+4)%10]}V[0]^=N[Z],V[1]^=k[Z]}B.fill(0)}class D extends r.Hash{constructor(G,B,Z,ie=!1,U=24){if(super(),this.blockLen=G,this.suffix=B,this.outputLen=Z,this.enableXOF=ie,this.rounds=U,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,(0,t.anumber)(Z),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,r.u32)(this.state)}keccak(){r.isLE||(0,r.byteSwap32)(this.state32),A(this.state32,this.rounds),r.isLE||(0,r.byteSwap32)(this.state32),this.posOut=0,this.pos=0}update(G){(0,t.aexists)(this);const{blockLen:B,state:Z}=this;G=(0,r.toBytes)(G);const ie=G.length;for(let U=0;U<ie;){const ne=Math.min(B-this.pos,ie-U);for(let M=0;M<ne;M++)Z[this.pos++]^=G[U++];this.pos===B&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:G,suffix:B,pos:Z,blockLen:ie}=this;G[Z]^=B,B&128&&Z===ie-1&&this.keccak(),G[ie-1]^=128,this.keccak()}writeInto(G){(0,t.aexists)(this,!1),(0,t.abytes)(G),this.finish();const B=this.state,{blockLen:Z}=this;for(let ie=0,U=G.length;ie<U;){this.posOut>=Z&&this.keccak();const ne=Math.min(Z-this.posOut,U-ie);G.set(B.subarray(this.posOut,this.posOut+ne),ie),this.posOut+=ne,ie+=ne}return G}xofInto(G){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(G)}xof(G){return(0,t.anumber)(G),this.xofInto(new Uint8Array(G))}digestInto(G){if((0,t.aoutput)(G,this),this.finished)throw new Error("digest() was already called");return this.writeInto(G),this.destroy(),G}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(G){const{blockLen:B,suffix:Z,outputLen:ie,rounds:U,enableXOF:ne}=this;return G||(G=new D(B,Z,ie,ne,U)),G.state32.set(this.state32),G.pos=this.pos,G.posOut=this.posOut,G.finished=this.finished,G.rounds=U,G.suffix=Z,G.outputLen=ie,G.enableXOF=ne,G.destroyed=this.destroyed,G}}zr.Keccak=D;const j=(V,G,B)=>(0,r.wrapConstructor)(()=>new D(G,V,B));zr.sha3_224=j(6,144,224/8),zr.sha3_256=j(6,136,256/8),zr.sha3_384=j(6,104,384/8),zr.sha3_512=j(6,72,512/8),zr.keccak_224=j(1,144,224/8),zr.keccak_256=j(1,136,256/8),zr.keccak_384=j(1,104,384/8),zr.keccak_512=j(1,72,512/8);const $=(V,G,B)=>(0,r.wrapXOFConstructorWithOpts)((Z={})=>new D(G,V,Z.dkLen===void 0?B:Z.dkLen,!0));return zr.shake128=$(31,168,128/8),zr.shake256=$(31,136,256/8),zr}var p1;function zM(){if(p1)return Lo;p1=1;const{sha3_512:t}=WM(),e=24,r=32,n=(O=4,C=Math.random)=>{let A="";for(;A.length<O;)A=A+Math.floor(C()*36).toString(36);return A};function s(O){let C=8n,A=0n;for(const D of O.values()){const j=BigInt(D);A=(A<<C)+j}return A}const a=(O="")=>s(t(O)).toString(36).slice(1),l=Array.from({length:26},(O,C)=>String.fromCharCode(C+97)),u=O=>l[Math.floor(O()*l.length)],d=({globalObj:O=typeof bb<"u"?bb:typeof window<"u"?window:{},random:C=Math.random}={})=>{const A=Object.keys(O).toString(),D=A.length?A+n(r,C):n(r,C);return a(D).substring(0,r)},m=O=>()=>O++,g=0x1c6b1f1f,w=({random:O=Math.random,counter:C=m(Math.floor(O()*g)),length:A=e,fingerprint:D=d({random:O})}={})=>function(){const $=u(O),V=Date.now().toString(36),G=C().toString(36),B=n(A,O),Z=`${V+B+G+D}`;return`${$+a(Z).substring(1,A)}`},N=w(),k=(O,{minLength:C=2,maxLength:A=r}={})=>{const D=O.length,j=/^[0-9a-z]+$/;try{if(typeof O=="string"&&D>=C&&D<=A&&j.test(O))return!0}finally{}return!1};return Lo.getConstants=()=>({defaultLength:e,bigLength:r}),Lo.init=w,Lo.createId=N,Lo.bufToBigInt=s,Lo.createCounter=m,Lo.createFingerprint=d,Lo.isCuid=k,Lo}var m1;function UM(){if(m1)return Pu;m1=1;const{createId:t,init:e,getConstants:r,isCuid:n}=zM();return Pu.createId=t,Pu.init=e,Pu.getConstants=r,Pu.isCuid=n,Pu}var VM=UM();const Kt=VM.createId,es=({name:t,schema:e,db:r,map:n,select$:s,create$:a,patch$:l,delete$:u,event:d})=>({name:t,schema:e,db:r,async create$({tx:m,entity:g,shape:w}){const N=Kt();await d?.onPreCreate?.({tx:m,entity:g,shape:w}),await a({tx:m}).values(e.entity.parse({...await n?.toCreate?.({entity:g,shape:w})||g,id:N})).execute();const k=await this.getOrThrow$({tx:m,id:N});return await d?.onPostCreate?.({tx:m,entity:k,shape:w}),k},async patch$({tx:m,entity:g,shape:w,where:N,filter:k}){const O=await this.fetchOrThrow$({tx:m,where:N,filter:k,error:"Cannot patch an unknown entity (empty query result)."});await d?.onPrePatch?.({tx:m,entity:g,shape:w}),await l({tx:m}).set(e.entity.partial().parse(await n?.toPatch?.({entity:g,shape:w})||g)).where("id","=",O.id).execute();const C=await this.getOrThrow$({tx:m,id:O.id});return await d?.onPostPatch?.({tx:m,entity:C,shape:w}),C},async delete$({tx:m,where:g,filter:w}){const N=await this.fetchOrThrow$({tx:m,where:g,filter:w,error:"Cannot patch an unknown entity (empty query result)."});return await u({tx:m}).where("id","=",N.id).execute(),N},async fetch$({tx:m,where:g,filter:w,sort:N}){const k=await s({tx:m,where:g,filter:w,sort:N,cursor:{page:0,size:1},use:["where","filter","cursor","sort"]}).executeTakeFirst();if(!k)return;const O=e.entity.parse(k);return(e.output??e.entity).parse(await n?.toOutput?.({tx:m,entity:O})||O)},async fetchOrThrow$({tx:m,where:g,filter:w,sort:N,error:k}){try{const O=e.entity.parse(await s({tx:m,where:g,filter:w,sort:N,cursor:{page:0,size:1},use:["where","filter","cursor","sort"]}).executeTakeFirstOrThrow());return(e.output??e.entity).parse(await n?.toOutput?.({tx:m,entity:O})||O)}catch(O){throw k?new Error(k):O}},async get$({tx:m,id:g}){return this.fetch$({tx:m,where:{id:g}})},async getOrThrow$({tx:m,id:g,error:w}){return this.fetchOrThrow$({tx:m,where:{id:g},error:w})},async list$({tx:m,where:g,filter:w,sort:N,cursor:k}){const O=e.output??e.entity;return Promise.all(de.array(e.entity).parse(await s({tx:m,where:g,filter:w,sort:N,cursor:k,use:["where","filter","cursor","sort"]}).execute()).map(C=>e.entity.parse(C)).map(async C=>O.parse(await n?.toOutput?.({tx:m,entity:C})||C)))},async count$({tx:m,where:g,filter:w}){return{total:(await s({tx:m,use:[]}).select([N=>N.fn.countAll().as("count")]).executeTakeFirst()).count,where:(await s({tx:m,where:g,use:["where"]}).select([N=>N.fn.countAll().as("count")]).executeTakeFirst()).count,filter:(await s({tx:m,where:g,filter:w,use:["where","filter"]}).select([N=>N.fn.countAll().as("count")]).executeTakeFirst()).count}}}),Jb=new Proxy(()=>Jb,{get:()=>Jb}),ts=({entity:t,output:e=t,shape:r,filter:n,sort:s})=>{const a=Jb();return{entity:t,"~entity":a,"~entity-array":[],"~entity-partial-exclude-id":a,shape:r,"~shape":a,"~shape-partial":a,filter:n,"~filter":a,output:e,"~output":a,"~output-array":[],sort:de.array(de.object({name:de.enum(s),sort:LM})),"~sort":a,"~sort-keyof":a}},Ca=(t,e)=>Array.from({length:e-t+1},(r,n)=>n+t),HM=({page:t,total:e,siblings:r=1,boundaries:n=1})=>{const s=Math.max(Math.trunc(e),0);if(r*2+3+n*2>=s)return{type:"simple",page:t,total:e,pages:Ca(1,s),start:[],end:[]};const l=Math.max(t-r,n),u=Math.min(t+r,s-n),d=l>n+2,m=u<s-(n+1);return!d&&m?{type:"end",page:t,total:e,start:[],pages:Ca(1,r*2+n+2),end:Ca(e-(n-1),s)}:d&&!m?{type:"start",page:t,total:e,start:Ca(1,n),pages:Ca(e-(n+1+2*r),s),end:[]}:{type:"both",page:t,total:e,start:Ca(1,n),pages:Ca(l,u),end:Ca(s-n+1,s)}};var Yp={exports:{}},QM=Yp.exports,y1;function KM(){return y1||(y1=1,function(t){(function(e,r){t.exports=r()})(QM,function(){var e=Object.prototype.toString;function r(w,N){return w==null?!1:Object.prototype.hasOwnProperty.call(w,N)}function n(w){if(!w||l(w)&&w.length===0)return!0;if(typeof w!="string"){for(var N in w)if(r(w,N))return!1;return!0}return!1}function s(w){return e.call(w)}function a(w){return typeof w=="object"&&s(w)==="[object Object]"}var l=Array.isArray||function(w){return e.call(w)==="[object Array]"};function u(w){return typeof w=="boolean"||s(w)==="[object Boolean]"}function d(w){var N=parseInt(w);return N.toString()===w?N:w}function m(w){w=w||{};var N=function(D){return Object.keys(N).reduce(function(j,$){return $==="create"||typeof N[$]=="function"&&(j[$]=N[$].bind(N,D)),j},{})},k;w.includeInheritedProps?k=function(){return!0}:k=function(D,j){return typeof j=="number"&&Array.isArray(D)||r(D,j)};function O(D,j){if(k(D,j))return D[j]}var C;w.includeInheritedProps?C=function(D,j){typeof j!="string"&&typeof j!="number"&&(j=String(j));var $=O(D,j);if(j==="__proto__"||j==="prototype"||j==="constructor"&&typeof $=="function")throw new Error("For security reasons, object's magic properties cannot be set");return $}:C=function(D,j){return O(D,j)};function A(D,j,$,V){if(typeof j=="number"&&(j=[j]),!j||j.length===0)return D;if(typeof j=="string")return A(D,j.split(".").map(d),$,V);var G=j[0],B=C(D,G);return j.length===1?((B===void 0||!V)&&(D[G]=$),B):(B===void 0&&(typeof j[1]=="number"?D[G]=[]:D[G]={}),A(D[G],j.slice(1),$,V))}return N.has=function(D,j){if(typeof j=="number"?j=[j]:typeof j=="string"&&(j=j.split(".")),!j||j.length===0)return!!D;for(var $=0;$<j.length;$++){var V=d(j[$]);if(typeof V=="number"&&l(D)&&V<D.length||(w.includeInheritedProps?V in Object(D):r(D,V)))D=D[V];else return!1}return!0},N.ensureExists=function(D,j,$){return A(D,j,$,!0)},N.set=function(D,j,$,V){return A(D,j,$,V)},N.insert=function(D,j,$,V){var G=N.get(D,j);V=~~V,l(G)||(G=[],N.set(D,j,G)),G.splice(V,0,$)},N.empty=function(D,j){if(!n(j)&&D!=null){var $,V;if($=N.get(D,j)){if(typeof $=="string")return N.set(D,j,"");if(u($))return N.set(D,j,!1);if(typeof $=="number")return N.set(D,j,0);if(l($))$.length=0;else if(a($))for(V in $)k($,V)&&delete $[V];else return N.set(D,j,null)}}},N.push=function(D,j){var $=N.get(D,j);l($)||($=[],N.set(D,j,$)),$.push.apply($,Array.prototype.slice.call(arguments,2))},N.coalesce=function(D,j,$){for(var V,G=0,B=j.length;G<B;G++)if((V=N.get(D,j[G]))!==void 0)return V;return $},N.get=function(D,j,$){if(typeof j=="number"&&(j=[j]),!j||j.length===0)return D;if(D==null)return $;if(typeof j=="string")return N.get(D,j.split("."),$);var V=d(j[0]),G=C(D,V);return G===void 0?$:j.length===1?G:N.get(D[V],j.slice(1),$)},N.del=function(j,$){if(typeof $=="number"&&($=[$]),j==null||n($))return j;if(typeof $=="string")return N.del(j,$.split("."));var V=d($[0]);if(C(j,V),!k(j,V))return j;if($.length===1)l(j)?j.splice(V,1):delete j[V];else return N.del(j[V],$.slice(1));return j},N}var g=m();return g.create=m,g.withInheritedProps=m({includeInheritedProps:!0}),g})}(Yp)),Yp.exports}var GM=KM();const g1=Nc(GM);function pi({number:t,empty:e="-",fraction:r=2}){if(t==null)return e;try{return t.toLocaleString(void 0,{maximumFractionDigits:r})}catch(n){return console.error("toHumanNumber",t,n),t.toFixed(2)}}const Vw=({error:t,errors:e,onError:r})=>{const n=e.some(a=>a),s=t instanceof Error;return!n&&s&&r(t),n||s},JM=hr({slot:{base:["flex","flex-row","gap-2","items-center","rounded","px-2","py-0.5","hover:bg-slate-100","text-slate-500","hover:text-blue-500","cursor-pointer"]},variant:{variant:{common:[],warning:["text-amber-500","hover:text-amber-600","hover:bg-amber-100"],danger:["text-red-500","hover:text-red-600","hover:bg-red-100"]},disabled:{true:["cursor-not-allowed","text-slate-300","bg-slate-100","hover:bg-slate-100"]}},defaults:{variant:"common",disabled:!1}});function Cy(){return typeof window<"u"}function ll(t){return CO(t)?(t.nodeName||"").toLowerCase():"#document"}function Ri(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function wo(t){var e;return(e=(CO(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function CO(t){return Cy()?t instanceof Node||t instanceof Ri(t).Node:!1}function Vr(t){return Cy()?t instanceof Element||t instanceof Ri(t).Element:!1}function xn(t){return Cy()?t instanceof HTMLElement||t instanceof Ri(t).HTMLElement:!1}function Zb(t){return!Cy()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ri(t).ShadowRoot}function Hf(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=Ns(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(s)}function ZM(t){return["table","td","th"].includes(ll(t))}function Ty(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Hw(t){const e=qy(),r=Vr(t)?Ns(t):t;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function YM(t){let e=Zo(t);for(;xn(e)&&!Qo(e);){if(Hw(e))return e;if(Ty(e))return null;e=Zo(e)}return null}function qy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Qo(t){return["html","body","#document"].includes(ll(t))}function Ns(t){return Ri(t).getComputedStyle(t)}function Ry(t){return Vr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Zo(t){if(ll(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Zb(t)&&t.host||wo(t);return Zb(e)?e.host:e}function TO(t){const e=Zo(t);return Qo(e)?t.ownerDocument?t.ownerDocument.body:t.body:xn(e)&&Hf(e)?e:TO(e)}function Wa(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=TO(t),a=s===((n=t.ownerDocument)==null?void 0:n.body),l=Ri(s);if(a){const u=Yb(l);return e.concat(l,l.visualViewport||[],Hf(s)?s:[],u&&r?Wa(u):[])}return e.concat(s,Wa(s,[],r))}function Yb(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Bs(t){let e=t.activeElement;for(;((r=e)==null||(r=r.shadowRoot)==null?void 0:r.activeElement)!=null;){var r;e=e.shadowRoot.activeElement}return e}function Dn(t,e){if(!t||!e)return!1;const r=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(r&&Zb(r)){let n=e;for(;n;){if(t===n)return!0;n=n.parentNode||n.host}}return!1}function Qw(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function qO(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:r,version:n}=e;return r+"/"+n}).join(" "):navigator.userAgent}function RO(t){return t.mozInputSource===0&&t.isTrusted?!0:Xb()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function Kw(t){return e4()?!1:!Xb()&&t.width===0&&t.height===0||Xb()&&t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"||t.width<1&&t.height<1&&t.pressure===0&&t.detail===0&&t.pointerType==="touch"}function AO(){return/apple/i.test(navigator.vendor)}function Xb(){const t=/android/i;return t.test(Qw())||t.test(qO())}function XM(){return Qw().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function e4(){return qO().includes("jsdom/")}function Ef(t,e){const r=["mouse","pen"];return e||r.push("",void 0),r.includes(t)}function t4(t){return"nativeEvent"in t}function r4(t){return t.matches("html,body")}function Mn(t){return t?.ownerDocument||document}function G_(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const r=t;return r.target!=null&&e.contains(r.target)}function Fa(t){return"composedPath"in t?t.composedPath()[0]:t.target}const n4="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Gw(t){return xn(t)&&t.matches(n4)}function li(t){t.preventDefault(),t.stopPropagation()}function PO(t){return t?t.getAttribute("role")==="combobox"&&Gw(t):!1}const bc=Math.min,Ui=Math.max,jm=Math.round,Hu=Math.floor,mo=t=>({x:t,y:t}),i4={left:"right",right:"left",bottom:"top",top:"bottom"},s4={start:"end",end:"start"};function v1(t,e,r){return Ui(t,bc(e,r))}function Qf(t,e){return typeof t=="function"?t(e):t}function Xa(t){return t.split("-")[0]}function Kf(t){return t.split("-")[1]}function FO(t){return t==="x"?"y":"x"}function jO(t){return t==="y"?"height":"width"}function Yl(t){return["top","bottom"].includes(Xa(t))?"y":"x"}function LO(t){return FO(Yl(t))}function o4(t,e,r){r===void 0&&(r=!1);const n=Kf(t),s=LO(t),a=jO(s);let l=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=Lm(l)),[l,Lm(l)]}function a4(t){const e=Lm(t);return[ew(t),e,ew(e)]}function ew(t){return t.replace(/start|end/g,e=>s4[e])}function l4(t,e,r){const n=["left","right"],s=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(t){case"top":case"bottom":return r?e?s:n:e?n:s;case"left":case"right":return e?a:l;default:return[]}}function u4(t,e,r,n){const s=Kf(t);let a=l4(Xa(t),r==="start",n);return s&&(a=a.map(l=>l+"-"+s),e&&(a=a.concat(a.map(ew)))),a}function Lm(t){return t.replace(/left|right|bottom|top/g,e=>i4[e])}function c4(t){return{top:0,right:0,bottom:0,left:0,...t}}function d4(t){return typeof t!="number"?c4(t):{top:t,right:t,bottom:t,left:t}}function Dm(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}var f4=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Mm=f4.join(","),DO=typeof Element>"u",wc=DO?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Bm=!DO&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t?.ownerDocument},$m=function t(e,r){var n;r===void 0&&(r=!0);var s=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),a=s===""||s==="true",l=a||r&&e&&t(e.parentNode);return l},h4=function(e){var r,n=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"contenteditable");return n===""||n==="true"},p4=function(e,r,n){if($m(e))return[];var s=Array.prototype.slice.apply(e.querySelectorAll(Mm));return r&&wc.call(e,Mm)&&s.unshift(e),s=s.filter(n),s},m4=function t(e,r,n){for(var s=[],a=Array.from(e);a.length;){var l=a.shift();if(!$m(l,!1))if(l.tagName==="SLOT"){var u=l.assignedElements(),d=u.length?u:l.children,m=t(d,!0,n);n.flatten?s.push.apply(s,m):s.push({scopeParent:l,candidates:m})}else{var g=wc.call(l,Mm);g&&n.filter(l)&&(r||!e.includes(l))&&s.push(l);var w=l.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(l),N=!$m(w,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(l));if(w&&N){var k=t(w===!0?l.children:w.children,!0,n);n.flatten?s.push.apply(s,k):s.push({scopeParent:l,candidates:k})}else a.unshift.apply(a,l.children)}}return s},MO=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},BO=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||h4(e))&&!MO(e)?0:e.tabIndex},y4=function(e,r){var n=BO(e);return n<0&&r&&!MO(e)?0:n},g4=function(e,r){return e.tabIndex===r.tabIndex?e.documentOrder-r.documentOrder:e.tabIndex-r.tabIndex},$O=function(e){return e.tagName==="INPUT"},v4=function(e){return $O(e)&&e.type==="hidden"},_4=function(e){var r=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return r},b4=function(e,r){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===r)return e[n]},w4=function(e){if(!e.name)return!0;var r=e.form||Bm(e),n=function(u){return r.querySelectorAll('input[type="radio"][name="'+u+'"]')},s;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")s=n(window.CSS.escape(e.name));else try{s=n(e.name)}catch(l){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",l.message),!1}var a=b4(s,e.form);return!a||a===e},x4=function(e){return $O(e)&&e.type==="radio"},S4=function(e){return x4(e)&&!w4(e)},E4=function(e){var r,n=e&&Bm(e),s=(r=n)===null||r===void 0?void 0:r.host,a=!1;if(n&&n!==e){var l,u,d;for(a=!!((l=s)!==null&&l!==void 0&&(u=l.ownerDocument)!==null&&u!==void 0&&u.contains(s)||e!=null&&(d=e.ownerDocument)!==null&&d!==void 0&&d.contains(e));!a&&s;){var m,g,w;n=Bm(s),s=(m=n)===null||m===void 0?void 0:m.host,a=!!((g=s)!==null&&g!==void 0&&(w=g.ownerDocument)!==null&&w!==void 0&&w.contains(s))}}return a},_1=function(e){var r=e.getBoundingClientRect(),n=r.width,s=r.height;return n===0&&s===0},N4=function(e,r){var n=r.displayCheck,s=r.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var a=wc.call(e,"details>summary:first-of-type"),l=a?e.parentElement:e;if(wc.call(l,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof s=="function"){for(var u=e;e;){var d=e.parentElement,m=Bm(e);if(d&&!d.shadowRoot&&s(d)===!0)return _1(e);e.assignedSlot?e=e.assignedSlot:!d&&m!==e.ownerDocument?e=m.host:e=d}e=u}if(E4(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return _1(e);return!1},k4=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var r=e.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var n=0;n<r.children.length;n++){var s=r.children.item(n);if(s.tagName==="LEGEND")return wc.call(r,"fieldset[disabled] *")?!0:!s.contains(e)}return!0}r=r.parentElement}return!1},I4=function(e,r){return!(r.disabled||$m(r)||v4(r)||N4(r,e)||_4(r)||k4(r))},tw=function(e,r){return!(S4(r)||BO(r)<0||!I4(e,r))},O4=function(e){var r=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},C4=function t(e){var r=[],n=[];return e.forEach(function(s,a){var l=!!s.scopeParent,u=l?s.scopeParent:s,d=y4(u,l),m=l?t(s.candidates):u;d===0?l?r.push.apply(r,m):r.push(u):n.push({documentOrder:a,tabIndex:d,item:s,isScope:l,content:m})}),n.sort(g4).reduce(function(s,a){return a.isScope?s.push.apply(s,a.content):s.push(a.content),s},[]).concat(r)},Ay=function(e,r){r=r||{};var n;return r.getShadowRoot?n=m4([e],r.includeContainer,{filter:tw.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:O4}):n=p4(e,r.includeContainer,tw.bind(null,r)),C4(n)},T4=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return wc.call(e,Mm)===!1?!1:tw(r,e)};function b1(t,e,r){let{reference:n,floating:s}=t;const a=Yl(e),l=LO(e),u=jO(l),d=Xa(e),m=a==="y",g=n.x+n.width/2-s.width/2,w=n.y+n.height/2-s.height/2,N=n[u]/2-s[u]/2;let k;switch(d){case"top":k={x:g,y:n.y-s.height};break;case"bottom":k={x:g,y:n.y+n.height};break;case"right":k={x:n.x+n.width,y:w};break;case"left":k={x:n.x-s.width,y:w};break;default:k={x:n.x,y:n.y}}switch(Kf(e)){case"start":k[l]-=N*(r&&m?-1:1);break;case"end":k[l]+=N*(r&&m?-1:1);break}return k}const q4=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:l}=r,u=a.filter(Boolean),d=await (l.isRTL==null?void 0:l.isRTL(e));let m=await l.getElementRects({reference:t,floating:e,strategy:s}),{x:g,y:w}=b1(m,n,d),N=n,k={},O=0;for(let C=0;C<u.length;C++){const{name:A,fn:D}=u[C],{x:j,y:$,data:V,reset:G}=await D({x:g,y:w,initialPlacement:n,placement:N,strategy:s,middlewareData:k,rects:m,platform:l,elements:{reference:t,floating:e}});g=j??g,w=$??w,k={...k,[A]:{...k[A],...V}},G&&O<=50&&(O++,typeof G=="object"&&(G.placement&&(N=G.placement),G.rects&&(m=G.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:s}):G.rects),{x:g,y:w}=b1(m,N,d)),C=-1)}return{x:g,y:w,placement:N,strategy:s,middlewareData:k}};async function Jw(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:a,rects:l,elements:u,strategy:d}=t,{boundary:m="clippingAncestors",rootBoundary:g="viewport",elementContext:w="floating",altBoundary:N=!1,padding:k=0}=Qf(e,t),O=d4(k),A=u[N?w==="floating"?"reference":"floating":w],D=Dm(await a.getClippingRect({element:(r=await (a.isElement==null?void 0:a.isElement(A)))==null||r?A:A.contextElement||await (a.getDocumentElement==null?void 0:a.getDocumentElement(u.floating)),boundary:m,rootBoundary:g,strategy:d})),j=w==="floating"?{x:n,y:s,width:l.floating.width,height:l.floating.height}:l.reference,$=await (a.getOffsetParent==null?void 0:a.getOffsetParent(u.floating)),V=await (a.isElement==null?void 0:a.isElement($))?await (a.getScale==null?void 0:a.getScale($))||{x:1,y:1}:{x:1,y:1},G=Dm(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:j,offsetParent:$,strategy:d}):j);return{top:(D.top-G.top+O.top)/V.y,bottom:(G.bottom-D.bottom+O.bottom)/V.y,left:(D.left-G.left+O.left)/V.x,right:(G.right-D.right+O.right)/V.x}}const R4=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:a,rects:l,initialPlacement:u,platform:d,elements:m}=e,{mainAxis:g=!0,crossAxis:w=!0,fallbackPlacements:N,fallbackStrategy:k="bestFit",fallbackAxisSideDirection:O="none",flipAlignment:C=!0,...A}=Qf(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const D=Xa(s),j=Yl(u),$=Xa(u)===u,V=await (d.isRTL==null?void 0:d.isRTL(m.floating)),G=N||($||!C?[Lm(u)]:a4(u)),B=O!=="none";!N&&B&&G.push(...u4(u,C,O,V));const Z=[u,...G],ie=await Jw(e,A),U=[];let ne=((n=a.flip)==null?void 0:n.overflows)||[];if(g&&U.push(ie[D]),w){const me=o4(s,l,V);U.push(ie[me[0]],ie[me[1]])}if(ne=[...ne,{placement:s,overflows:U}],!U.every(me=>me<=0)){var M,se;const me=(((M=a.flip)==null?void 0:M.index)||0)+1,Te=Z[me];if(Te)return{data:{index:me,overflows:ne},reset:{placement:Te}};let Ce=(se=ne.filter(Fe=>Fe.overflows[0]<=0).sort((Fe,_e)=>Fe.overflows[1]-_e.overflows[1])[0])==null?void 0:se.placement;if(!Ce)switch(k){case"bestFit":{var Y;const Fe=(Y=ne.filter(_e=>{if(B){const ye=Yl(_e.placement);return ye===j||ye==="y"}return!0}).map(_e=>[_e.placement,_e.overflows.filter(ye=>ye>0).reduce((ye,Ne)=>ye+Ne,0)]).sort((_e,ye)=>_e[1]-ye[1])[0])==null?void 0:Y[0];Fe&&(Ce=Fe);break}case"initialPlacement":Ce=u;break}if(s!==Ce)return{reset:{placement:Ce}}}return{}}}};async function A4(t,e){const{placement:r,platform:n,elements:s}=t,a=await (n.isRTL==null?void 0:n.isRTL(s.floating)),l=Xa(r),u=Kf(r),d=Yl(r)==="y",m=["left","top"].includes(l)?-1:1,g=a&&d?-1:1,w=Qf(e,t);let{mainAxis:N,crossAxis:k,alignmentAxis:O}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return u&&typeof O=="number"&&(k=u==="end"?O*-1:O),d?{x:k*g,y:N*m}:{x:N*m,y:k*g}}const P4=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:a,placement:l,middlewareData:u}=e,d=await A4(e,t);return l===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:s+d.x,y:a+d.y,data:{...d,placement:l}}}}},F4=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:u={fn:A=>{let{x:D,y:j}=A;return{x:D,y:j}}},...d}=Qf(t,e),m={x:r,y:n},g=await Jw(e,d),w=Yl(Xa(s)),N=FO(w);let k=m[N],O=m[w];if(a){const A=N==="y"?"top":"left",D=N==="y"?"bottom":"right",j=k+g[A],$=k-g[D];k=v1(j,k,$)}if(l){const A=w==="y"?"top":"left",D=w==="y"?"bottom":"right",j=O+g[A],$=O-g[D];O=v1(j,O,$)}const C=u.fn({...e,[N]:k,[w]:O});return{...C,data:{x:C.x-r,y:C.y-n,enabled:{[N]:a,[w]:l}}}}}},j4=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:a,platform:l,elements:u}=e,{apply:d=()=>{},...m}=Qf(t,e),g=await Jw(e,m),w=Xa(s),N=Kf(s),k=Yl(s)==="y",{width:O,height:C}=a.floating;let A,D;w==="top"||w==="bottom"?(A=w,D=N===(await (l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(D=w,A=N==="end"?"top":"bottom");const j=C-g.top-g.bottom,$=O-g.left-g.right,V=bc(C-g[A],j),G=bc(O-g[D],$),B=!e.middlewareData.shift;let Z=V,ie=G;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(ie=$),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(Z=j),B&&!N){const ne=Ui(g.left,0),M=Ui(g.right,0),se=Ui(g.top,0),Y=Ui(g.bottom,0);k?ie=O-2*(ne!==0||M!==0?ne+M:Ui(g.left,g.right)):Z=C-2*(se!==0||Y!==0?se+Y:Ui(g.top,g.bottom))}await d({...e,availableWidth:ie,availableHeight:Z});const U=await l.getDimensions(u.floating);return O!==U.width||C!==U.height?{reset:{rects:!0}}:{}}}};function WO(t){const e=Ns(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=xn(t),a=s?t.offsetWidth:r,l=s?t.offsetHeight:n,u=jm(r)!==a||jm(n)!==l;return u&&(r=a,n=l),{width:r,height:n,$:u}}function Zw(t){return Vr(t)?t:t.contextElement}function ic(t){const e=Zw(t);if(!xn(e))return mo(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:a}=WO(e);let l=(a?jm(r.width):r.width)/n,u=(a?jm(r.height):r.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const L4=mo(0);function zO(t){const e=Ri(t);return!qy()||!e.visualViewport?L4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function D4(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Ri(t)?!1:e}function Xl(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),a=Zw(t);let l=mo(1);e&&(n?Vr(n)&&(l=ic(n)):l=ic(t));const u=D4(a,r,n)?zO(a):mo(0);let d=(s.left+u.x)/l.x,m=(s.top+u.y)/l.y,g=s.width/l.x,w=s.height/l.y;if(a){const N=Ri(a),k=n&&Vr(n)?Ri(n):n;let O=N,C=Yb(O);for(;C&&n&&k!==O;){const A=ic(C),D=C.getBoundingClientRect(),j=Ns(C),$=D.left+(C.clientLeft+parseFloat(j.paddingLeft))*A.x,V=D.top+(C.clientTop+parseFloat(j.paddingTop))*A.y;d*=A.x,m*=A.y,g*=A.x,w*=A.y,d+=$,m+=V,O=Ri(C),C=Yb(O)}}return Dm({width:g,height:w,x:d,y:m})}function Yw(t,e){const r=Ry(t).scrollLeft;return e?e.left+r:Xl(wo(t)).left+r}function UO(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-(r?0:Yw(t,n)),a=n.top+e.scrollTop;return{x:s,y:a}}function M4(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const a=s==="fixed",l=wo(n),u=e?Ty(e.floating):!1;if(n===l||u&&a)return r;let d={scrollLeft:0,scrollTop:0},m=mo(1);const g=mo(0),w=xn(n);if((w||!w&&!a)&&((ll(n)!=="body"||Hf(l))&&(d=Ry(n)),xn(n))){const k=Xl(n);m=ic(n),g.x=k.x+n.clientLeft,g.y=k.y+n.clientTop}const N=l&&!w&&!a?UO(l,d,!0):mo(0);return{width:r.width*m.x,height:r.height*m.y,x:r.x*m.x-d.scrollLeft*m.x+g.x+N.x,y:r.y*m.y-d.scrollTop*m.y+g.y+N.y}}function B4(t){return Array.from(t.getClientRects())}function $4(t){const e=wo(t),r=Ry(t),n=t.ownerDocument.body,s=Ui(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=Ui(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+Yw(t);const u=-r.scrollTop;return Ns(n).direction==="rtl"&&(l+=Ui(e.clientWidth,n.clientWidth)-s),{width:s,height:a,x:l,y:u}}function W4(t,e){const r=Ri(t),n=wo(t),s=r.visualViewport;let a=n.clientWidth,l=n.clientHeight,u=0,d=0;if(s){a=s.width,l=s.height;const m=qy();(!m||m&&e==="fixed")&&(u=s.offsetLeft,d=s.offsetTop)}return{width:a,height:l,x:u,y:d}}function z4(t,e){const r=Xl(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,a=xn(t)?ic(t):mo(1),l=t.clientWidth*a.x,u=t.clientHeight*a.y,d=s*a.x,m=n*a.y;return{width:l,height:u,x:d,y:m}}function w1(t,e,r){let n;if(e==="viewport")n=W4(t,r);else if(e==="document")n=$4(wo(t));else if(Vr(e))n=z4(e,r);else{const s=zO(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Dm(n)}function VO(t,e){const r=Zo(t);return r===e||!Vr(r)||Qo(r)?!1:Ns(r).position==="fixed"||VO(r,e)}function U4(t,e){const r=e.get(t);if(r)return r;let n=Wa(t,[],!1).filter(u=>Vr(u)&&ll(u)!=="body"),s=null;const a=Ns(t).position==="fixed";let l=a?Zo(t):t;for(;Vr(l)&&!Qo(l);){const u=Ns(l),d=Hw(l);!d&&u.position==="fixed"&&(s=null),(a?!d&&!s:!d&&u.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Hf(l)&&!d&&VO(t,l))?n=n.filter(g=>g!==l):s=u,l=Zo(l)}return e.set(t,n),n}function V4(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const l=[...r==="clippingAncestors"?Ty(e)?[]:U4(e,this._c):[].concat(r),n],u=l[0],d=l.reduce((m,g)=>{const w=w1(e,g,s);return m.top=Ui(w.top,m.top),m.right=bc(w.right,m.right),m.bottom=bc(w.bottom,m.bottom),m.left=Ui(w.left,m.left),m},w1(e,u,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function H4(t){const{width:e,height:r}=WO(t);return{width:e,height:r}}function Q4(t,e,r){const n=xn(e),s=wo(e),a=r==="fixed",l=Xl(t,!0,a,e);let u={scrollLeft:0,scrollTop:0};const d=mo(0);if(n||!n&&!a)if((ll(e)!=="body"||Hf(s))&&(u=Ry(e)),n){const N=Xl(e,!0,a,e);d.x=N.x+e.clientLeft,d.y=N.y+e.clientTop}else s&&(d.x=Yw(s));const m=s&&!n&&!a?UO(s,u):mo(0),g=l.left+u.scrollLeft-d.x-m.x,w=l.top+u.scrollTop-d.y-m.y;return{x:g,y:w,width:l.width,height:l.height}}function J_(t){return Ns(t).position==="static"}function x1(t,e){if(!xn(t)||Ns(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return wo(t)===r&&(r=r.ownerDocument.body),r}function HO(t,e){const r=Ri(t);if(Ty(t))return r;if(!xn(t)){let s=Zo(t);for(;s&&!Qo(s);){if(Vr(s)&&!J_(s))return s;s=Zo(s)}return r}let n=x1(t,e);for(;n&&ZM(n)&&J_(n);)n=x1(n,e);return n&&Qo(n)&&J_(n)&&!Hw(n)?r:n||YM(t)||r}const K4=async function(t){const e=this.getOffsetParent||HO,r=this.getDimensions,n=await r(t.floating);return{reference:Q4(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function G4(t){return Ns(t).direction==="rtl"}const J4={convertOffsetParentRelativeRectToViewportRelativeRect:M4,getDocumentElement:wo,getClippingRect:V4,getOffsetParent:HO,getElementRects:K4,getClientRects:B4,getDimensions:H4,getScale:ic,isElement:Vr,isRTL:G4};function Z4(t,e){let r=null,n;const s=wo(t);function a(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),a();const{left:m,top:g,width:w,height:N}=t.getBoundingClientRect();if(u||e(),!w||!N)return;const k=Hu(g),O=Hu(s.clientWidth-(m+w)),C=Hu(s.clientHeight-(g+N)),A=Hu(m),j={rootMargin:-k+"px "+-O+"px "+-C+"px "+-A+"px",threshold:Ui(0,bc(1,d))||1};let $=!0;function V(G){const B=G[0].intersectionRatio;if(B!==d){if(!$)return l();B?l(!1,B):n=setTimeout(()=>{l(!1,1e-7)},1e3)}$=!1}try{r=new IntersectionObserver(V,{...j,root:s.ownerDocument})}catch{r=new IntersectionObserver(V,j)}r.observe(t)}return l(!0),a}function QO(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,m=Zw(t),g=s||a?[...m?Wa(m):[],...Wa(e)]:[];g.forEach(D=>{s&&D.addEventListener("scroll",r,{passive:!0}),a&&D.addEventListener("resize",r)});const w=m&&u?Z4(m,r):null;let N=-1,k=null;l&&(k=new ResizeObserver(D=>{let[j]=D;j&&j.target===m&&k&&(k.unobserve(e),cancelAnimationFrame(N),N=requestAnimationFrame(()=>{var $;($=k)==null||$.observe(e)})),r()}),m&&!d&&k.observe(m),k.observe(e));let O,C=d?Xl(t):null;d&&A();function A(){const D=Xl(t);C&&(D.x!==C.x||D.y!==C.y||D.width!==C.width||D.height!==C.height)&&r(),C=D,O=requestAnimationFrame(A)}return r(),()=>{var D;g.forEach(j=>{s&&j.removeEventListener("scroll",r),a&&j.removeEventListener("resize",r)}),w?.(),(D=k)==null||D.disconnect(),k=null,d&&cancelAnimationFrame(O)}}const Y4=P4,X4=F4,eB=R4,tB=j4,rB=(t,e,r)=>{const n=new Map,s={platform:J4,...r},a={...s.platform,_c:n};return q4(t,e,{...s,platform:a})};var Xp=typeof document<"u"?Q.useLayoutEffect:Q.useEffect;function Wm(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Wm(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&t.$$typeof)&&!Wm(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function KO(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function S1(t,e){const r=KO(t);return Math.round(e*r)/r}function Z_(t){const e=Q.useRef(t);return Xp(()=>{e.current=t}),e}function nB(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:l}={},transform:u=!0,whileElementsMounted:d,open:m}=t,[g,w]=Q.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[N,k]=Q.useState(n);Wm(N,n)||k(n);const[O,C]=Q.useState(null),[A,D]=Q.useState(null),j=Q.useCallback(_e=>{_e!==B.current&&(B.current=_e,C(_e))},[]),$=Q.useCallback(_e=>{_e!==Z.current&&(Z.current=_e,D(_e))},[]),V=a||O,G=l||A,B=Q.useRef(null),Z=Q.useRef(null),ie=Q.useRef(g),U=d!=null,ne=Z_(d),M=Z_(s),se=Z_(m),Y=Q.useCallback(()=>{if(!B.current||!Z.current)return;const _e={placement:e,strategy:r,middleware:N};M.current&&(_e.platform=M.current),rB(B.current,Z.current,_e).then(ye=>{const Ne={...ye,isPositioned:se.current!==!1};me.current&&!Wm(ie.current,Ne)&&(ie.current=Ne,Ow.flushSync(()=>{w(Ne)}))})},[N,e,r,M,se]);Xp(()=>{m===!1&&ie.current.isPositioned&&(ie.current.isPositioned=!1,w(_e=>({..._e,isPositioned:!1})))},[m]);const me=Q.useRef(!1);Xp(()=>(me.current=!0,()=>{me.current=!1}),[]),Xp(()=>{if(V&&(B.current=V),G&&(Z.current=G),V&&G){if(ne.current)return ne.current(V,G,Y);Y()}},[V,G,Y,ne,U]);const Te=Q.useMemo(()=>({reference:B,floating:Z,setReference:j,setFloating:$}),[j,$]),Ce=Q.useMemo(()=>({reference:V,floating:G}),[V,G]),Fe=Q.useMemo(()=>{const _e={position:r,left:0,top:0};if(!Ce.floating)return _e;const ye=S1(Ce.floating,g.x),Ne=S1(Ce.floating,g.y);return u?{..._e,transform:"translate("+ye+"px, "+Ne+"px)",...KO(Ce.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ye,top:Ne}},[r,u,Ce.floating,g.x,g.y]);return Q.useMemo(()=>({...g,update:Y,refs:Te,elements:Ce,floatingStyles:Fe}),[g,Y,Te,Ce,Fe])}const GO=(t,e)=>({...Y4(t),options:[t,e]}),iB=(t,e)=>({...X4(t),options:[t,e]}),JO=(t,e)=>({...eB(t),options:[t,e]}),sB=(t,e)=>({...tB(t),options:[t,e]});function E1(t){return Q.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})},t)}const ZO={...gR},oB=ZO.useInsertionEffect,aB=oB||(t=>t());function Ci(t){const e=Q.useRef(()=>{});return aB(()=>{e.current=t}),Q.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return e.current==null?void 0:e.current(...n)},[])}const Xw="ArrowUp",Gf="ArrowDown",za="ArrowLeft",Ua="ArrowRight";function Ip(t,e,r){return Math.floor(t/e)!==r}function Kd(t,e){return e<0||e>=t.current.length}function Y_(t,e){return Qn(t,{disabledIndices:e})}function N1(t,e){return Qn(t,{decrement:!0,startingIndex:t.current.length,disabledIndices:e})}function Qn(t,e){let{startingIndex:r=-1,decrement:n=!1,disabledIndices:s,amount:a=1}=e===void 0?{}:e;const l=t.current;let u=r;do u+=n?-a:a;while(u>=0&&u<=l.length-1&&em(l,u,s));return u}function lB(t,e){let{event:r,orientation:n,loop:s,rtl:a,cols:l,disabledIndices:u,minIndex:d,maxIndex:m,prevIndex:g,stopEvent:w=!1}=e,N=g;if(r.key===Xw){if(w&&li(r),g===-1)N=m;else if(N=Qn(t,{startingIndex:N,amount:l,decrement:!0,disabledIndices:u}),s&&(g-l<d||N<0)){const k=g%l,O=m%l,C=m-(O-k);O===k?N=m:N=O>k?C:C-l}Kd(t,N)&&(N=g)}if(r.key===Gf&&(w&&li(r),g===-1?N=d:(N=Qn(t,{startingIndex:g,amount:l,disabledIndices:u}),s&&g+l>m&&(N=Qn(t,{startingIndex:g%l-l,amount:l,disabledIndices:u}))),Kd(t,N)&&(N=g)),n==="both"){const k=Hu(g/l);r.key===(a?za:Ua)&&(w&&li(r),g%l!==l-1?(N=Qn(t,{startingIndex:g,disabledIndices:u}),s&&Ip(N,l,k)&&(N=Qn(t,{startingIndex:g-g%l-1,disabledIndices:u}))):s&&(N=Qn(t,{startingIndex:g-g%l-1,disabledIndices:u})),Ip(N,l,k)&&(N=g)),r.key===(a?Ua:za)&&(w&&li(r),g%l!==0?(N=Qn(t,{startingIndex:g,decrement:!0,disabledIndices:u}),s&&Ip(N,l,k)&&(N=Qn(t,{startingIndex:g+(l-g%l),decrement:!0,disabledIndices:u}))):s&&(N=Qn(t,{startingIndex:g+(l-g%l),decrement:!0,disabledIndices:u})),Ip(N,l,k)&&(N=g));const O=Hu(m/l)===k;Kd(t,N)&&(s&&O?N=r.key===(a?Ua:za)?m:Qn(t,{startingIndex:g-g%l-1,disabledIndices:u}):N=g)}return N}function uB(t,e,r){const n=[];let s=0;return t.forEach((a,l)=>{let{width:u,height:d}=a,m=!1;for(r&&(s=0);!m;){const g=[];for(let w=0;w<u;w++)for(let N=0;N<d;N++)g.push(s+w+N*e);s%e+u<=e&&g.every(w=>n[w]==null)?(g.forEach(w=>{n[w]=l}),m=!0):s++}}),[...n]}function cB(t,e,r,n,s){if(t===-1)return-1;const a=r.indexOf(t),l=e[t];switch(s){case"tl":return a;case"tr":return l?a+l.width-1:a;case"bl":return l?a+(l.height-1)*n:a;case"br":return r.lastIndexOf(t)}}function dB(t,e){return e.flatMap((r,n)=>t.includes(r)?[n]:[])}function em(t,e,r){if(r)return r.includes(e);const n=t[e];return n==null||n.hasAttribute("disabled")||n.getAttribute("aria-disabled")==="true"}var Yr=typeof document<"u"?Q.useLayoutEffect:Q.useEffect;function Nf(){return Nf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Nf.apply(this,arguments)}let k1=!1,fB=0;const I1=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+fB++;function hB(){const[t,e]=Q.useState(()=>k1?I1():void 0);return Yr(()=>{t==null&&e(I1())},[]),Q.useEffect(()=>{k1=!0},[]),t}const pB=ZO.useId,e0=pB||hB;function YO(){const t=new Map;return{emit(e,r){var n;(n=t.get(e))==null||n.forEach(s=>s(r))},on(e,r){t.set(e,[...t.get(e)||[],r])},off(e,r){var n;t.set(e,((n=t.get(e))==null?void 0:n.filter(s=>s!==r))||[])}}}const XO=Q.createContext(null),eC=Q.createContext(null),Jf=()=>{var t;return((t=Q.useContext(XO))==null?void 0:t.id)||null},Pc=()=>Q.useContext(eC);function mB(t){const e=e0(),r=Pc(),s=Jf();return Yr(()=>{if(!e)return;const a={id:e,parentId:s};return r?.addNode(a),()=>{r?.removeNode(a)}},[r,e,s]),e}function yB(t){const{children:e,id:r}=t,n=Jf();return Q.createElement(XO.Provider,{value:Q.useMemo(()=>({id:r,parentId:n}),[r,n])},e)}function gB(t){const{children:e}=t,r=Q.useRef([]),n=Q.useCallback(l=>{r.current=[...r.current,l]},[]),s=Q.useCallback(l=>{r.current=r.current.filter(u=>u!==l)},[]),a=Q.useState(()=>YO())[0];return Q.createElement(eC.Provider,{value:Q.useMemo(()=>({nodesRef:r,addNode:n,removeNode:s,events:a}),[n,s,a])},e)}function eu(t){return"data-floating-ui-"+t}function di(t){const e=Q.useRef(t);return Yr(()=>{e.current=t}),e}const O1=eu("safe-polygon");function X_(t,e,r){return r&&!Ef(r)?0:typeof t=="number"?t:t?.[e]}function vB(t,e){e===void 0&&(e={});const{open:r,onOpenChange:n,dataRef:s,events:a,elements:l}=t,{enabled:u=!0,delay:d=0,handleClose:m=null,mouseOnly:g=!1,restMs:w=0,move:N=!0}=e,k=Pc(),O=Jf(),C=di(m),A=di(d),D=di(r),j=Q.useRef(),$=Q.useRef(-1),V=Q.useRef(),G=Q.useRef(-1),B=Q.useRef(!0),Z=Q.useRef(!1),ie=Q.useRef(()=>{}),U=Q.useRef(!1),ne=Q.useCallback(()=>{var Fe;const _e=(Fe=s.current.openEvent)==null?void 0:Fe.type;return _e?.includes("mouse")&&_e!=="mousedown"},[s]);Q.useEffect(()=>{if(!u)return;function Fe(_e){let{open:ye}=_e;ye||(clearTimeout($.current),clearTimeout(G.current),B.current=!0,U.current=!1)}return a.on("openchange",Fe),()=>{a.off("openchange",Fe)}},[u,a]),Q.useEffect(()=>{if(!u||!C.current||!r)return;function Fe(ye){ne()&&n(!1,ye,"hover")}const _e=Mn(l.floating).documentElement;return _e.addEventListener("mouseleave",Fe),()=>{_e.removeEventListener("mouseleave",Fe)}},[l.floating,r,n,u,C,ne]);const M=Q.useCallback(function(Fe,_e,ye){_e===void 0&&(_e=!0),ye===void 0&&(ye="hover");const Ne=X_(A.current,"close",j.current);Ne&&!V.current?(clearTimeout($.current),$.current=window.setTimeout(()=>n(!1,Fe,ye),Ne)):_e&&(clearTimeout($.current),n(!1,Fe,ye))},[A,n]),se=Ci(()=>{ie.current(),V.current=void 0}),Y=Ci(()=>{if(Z.current){const Fe=Mn(l.floating).body;Fe.style.pointerEvents="",Fe.removeAttribute(O1),Z.current=!1}}),me=Ci(()=>s.current.openEvent?["click","mousedown"].includes(s.current.openEvent.type):!1);Q.useEffect(()=>{if(!u)return;function Fe(H){if(clearTimeout($.current),B.current=!1,g&&!Ef(j.current)||w>0&&!X_(A.current,"open"))return;const Se=X_(A.current,"open",j.current);Se?$.current=window.setTimeout(()=>{D.current||n(!0,H,"hover")},Se):r||n(!0,H,"hover")}function _e(H){if(me())return;ie.current();const Se=Mn(l.floating);if(clearTimeout(G.current),U.current=!1,C.current&&s.current.floatingContext){r||clearTimeout($.current),V.current=C.current({...s.current.floatingContext,tree:k,x:H.clientX,y:H.clientY,onClose(){Y(),se(),me()||M(H,!0,"safe-polygon")}});const at=V.current;Se.addEventListener("mousemove",at),ie.current=()=>{Se.removeEventListener("mousemove",at)};return}(j.current==="touch"?!Dn(l.floating,H.relatedTarget):!0)&&M(H)}function ye(H){me()||s.current.floatingContext&&(C.current==null||C.current({...s.current.floatingContext,tree:k,x:H.clientX,y:H.clientY,onClose(){Y(),se(),me()||M(H)}})(H))}if(Vr(l.domReference)){var Ne;const H=l.domReference;return r&&H.addEventListener("mouseleave",ye),(Ne=l.floating)==null||Ne.addEventListener("mouseleave",ye),N&&H.addEventListener("mousemove",Fe,{once:!0}),H.addEventListener("mouseenter",Fe),H.addEventListener("mouseleave",_e),()=>{var Se;r&&H.removeEventListener("mouseleave",ye),(Se=l.floating)==null||Se.removeEventListener("mouseleave",ye),N&&H.removeEventListener("mousemove",Fe),H.removeEventListener("mouseenter",Fe),H.removeEventListener("mouseleave",_e)}}},[l,u,t,g,w,N,M,se,Y,n,r,D,k,A,C,s,me]),Yr(()=>{var Fe;if(u&&r&&(Fe=C.current)!=null&&Fe.__options.blockPointerEvents&&ne()){Z.current=!0;const ye=l.floating;if(Vr(l.domReference)&&ye){var _e;const Ne=Mn(l.floating).body;Ne.setAttribute(O1,"");const H=l.domReference,Se=k==null||(_e=k.nodesRef.current.find(lt=>lt.id===O))==null||(_e=_e.context)==null?void 0:_e.elements.floating;return Se&&(Se.style.pointerEvents=""),Ne.style.pointerEvents="none",H.style.pointerEvents="auto",ye.style.pointerEvents="auto",()=>{Ne.style.pointerEvents="",H.style.pointerEvents="",ye.style.pointerEvents=""}}}},[u,r,O,l,k,C,ne]),Yr(()=>{r||(j.current=void 0,U.current=!1,se(),Y())},[r,se,Y]),Q.useEffect(()=>()=>{se(),clearTimeout($.current),clearTimeout(G.current),Y()},[u,l.domReference,se,Y]);const Te=Q.useMemo(()=>{function Fe(_e){j.current=_e.pointerType}return{onPointerDown:Fe,onPointerEnter:Fe,onMouseMove(_e){const{nativeEvent:ye}=_e;function Ne(){!B.current&&!D.current&&n(!0,ye,"hover")}g&&!Ef(j.current)||r||w===0||U.current&&_e.movementX**2+_e.movementY**2<2||(clearTimeout(G.current),j.current==="touch"?Ne():(U.current=!0,G.current=window.setTimeout(Ne,w)))}}},[g,n,r,D,w]),Ce=Q.useMemo(()=>({onMouseEnter(){clearTimeout($.current)},onMouseLeave(Fe){me()||M(Fe.nativeEvent,!1)}}),[M,me]);return Q.useMemo(()=>u?{reference:Te,floating:Ce}:{},[u,Te,Ce])}let C1=0;function Rl(t,e){e===void 0&&(e={});const{preventScroll:r=!1,cancelPrevious:n=!0,sync:s=!1}=e;n&&cancelAnimationFrame(C1);const a=()=>t?.focus({preventScroll:r});s?a():C1=requestAnimationFrame(a)}function T1(t,e){var r;let n=[],s=(r=t.find(a=>a.id===e))==null?void 0:r.parentId;for(;s;){const a=t.find(l=>l.id===s);s=a?.parentId,a&&(n=n.concat(a))}return n}function sc(t,e){let r=t.filter(s=>{var a;return s.parentId===e&&((a=s.context)==null?void 0:a.open)}),n=r;for(;n.length;)n=t.filter(s=>{var a;return(a=n)==null?void 0:a.some(l=>{var u;return s.parentId===l.id&&((u=s.context)==null?void 0:u.open)})}),r=r.concat(n);return r}function _B(t,e){let r,n=-1;function s(a,l){l>n&&(r=a,n=l),sc(t,a).forEach(d=>{s(d.id,l+1)})}return s(e,0),t.find(a=>a.id===r)}let Fu=new WeakMap,Op=new WeakSet,Cp={},eb=0;const bB=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,tC=t=>t&&(t.host||tC(t.parentNode)),wB=(t,e)=>e.map(r=>{if(t.contains(r))return r;const n=tC(r);return t.contains(n)?n:null}).filter(r=>r!=null);function xB(t,e,r,n){const s="data-floating-ui-inert",a=n?"inert":r?"aria-hidden":null,l=wB(e,t),u=new Set,d=new Set(l),m=[];Cp[s]||(Cp[s]=new WeakMap);const g=Cp[s];l.forEach(w),N(e),u.clear();function w(k){!k||u.has(k)||(u.add(k),k.parentNode&&w(k.parentNode))}function N(k){!k||d.has(k)||[].forEach.call(k.children,O=>{if(ll(O)!=="script")if(u.has(O))N(O);else{const C=a?O.getAttribute(a):null,A=C!==null&&C!=="false",D=Fu.get(O)||0,j=a?D+1:D,$=(g.get(O)||0)+1;Fu.set(O,j),g.set(O,$),m.push(O),j===1&&A&&Op.add(O),$===1&&O.setAttribute(s,""),!A&&a&&O.setAttribute(a,"true")}})}return eb++,()=>{m.forEach(k=>{const O=Fu.get(k)||0,C=a?O-1:O,A=(g.get(k)||0)-1;Fu.set(k,C),g.set(k,A),C||(!Op.has(k)&&a&&k.removeAttribute(a),Op.delete(k)),A||k.removeAttribute(s)}),eb--,eb||(Fu=new WeakMap,Fu=new WeakMap,Op=new WeakSet,Cp={})}}function q1(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);const n=Mn(t[0]).body;return xB(t.concat(Array.from(n.querySelectorAll("[aria-live]"))),n,e,r)}const Py=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function rC(t,e){const r=Ay(t,Py());e==="prev"&&r.reverse();const n=r.indexOf(Bs(Mn(t)));return r.slice(n+1)[0]}function nC(){return rC(document.body,"next")}function iC(){return rC(document.body,"prev")}function Gd(t,e){const r=e||t.currentTarget,n=t.relatedTarget;return!n||!Dn(r,n)}function SB(t){Ay(t,Py()).forEach(r=>{r.dataset.tabindex=r.getAttribute("tabindex")||"",r.setAttribute("tabindex","-1")})}function R1(t){t.querySelectorAll("[data-tabindex]").forEach(r=>{const n=r.dataset.tabindex;delete r.dataset.tabindex,n?r.setAttribute("tabindex",n):r.removeAttribute("tabindex")})}const Fy={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let EB;function A1(t){t.key==="Tab"&&(t.target,clearTimeout(EB))}const zm=Q.forwardRef(function(e,r){const[n,s]=Q.useState();Yr(()=>(AO()&&s("button"),document.addEventListener("keydown",A1),()=>{document.removeEventListener("keydown",A1)}),[]);const a={ref:r,tabIndex:0,role:n,"aria-hidden":n?void 0:!0,[eu("focus-guard")]:"",style:Fy};return Q.createElement("span",Nf({},e,a))}),sC=Q.createContext(null),P1=eu("portal");function NB(t){t===void 0&&(t={});const{id:e,root:r}=t,n=e0(),s=oC(),[a,l]=Q.useState(null),u=Q.useRef(null);return Yr(()=>()=>{a?.remove(),queueMicrotask(()=>{u.current=null})},[a]),Yr(()=>{if(!n||u.current)return;const d=e?document.getElementById(e):null;if(!d)return;const m=document.createElement("div");m.id=n,m.setAttribute(P1,""),d.appendChild(m),u.current=m,l(m)},[e,n]),Yr(()=>{if(r===null||!n||u.current)return;let d=r||s?.portalNode;d&&!Vr(d)&&(d=d.current),d=d||document.body;let m=null;e&&(m=document.createElement("div"),m.id=e,d.appendChild(m));const g=document.createElement("div");g.id=n,g.setAttribute(P1,""),d=m||d,d.appendChild(g),u.current=g,l(g)},[e,r,n,s]),a}function t0(t){const{children:e,id:r,root:n,preserveTabOrder:s=!0}=t,a=NB({id:r,root:n}),[l,u]=Q.useState(null),d=Q.useRef(null),m=Q.useRef(null),g=Q.useRef(null),w=Q.useRef(null),N=l?.modal,k=l?.open,O=!!l&&!l.modal&&l.open&&s&&!!(n||a);return Q.useEffect(()=>{if(!a||!s||N)return;function C(A){a&&Gd(A)&&(A.type==="focusin"?R1:SB)(a)}return a.addEventListener("focusin",C,!0),a.addEventListener("focusout",C,!0),()=>{a.removeEventListener("focusin",C,!0),a.removeEventListener("focusout",C,!0)}},[a,s,N]),Q.useEffect(()=>{a&&(k||R1(a))},[k,a]),Q.createElement(sC.Provider,{value:Q.useMemo(()=>({preserveTabOrder:s,beforeOutsideRef:d,afterOutsideRef:m,beforeInsideRef:g,afterInsideRef:w,portalNode:a,setFocusManagerState:u}),[s,a])},O&&a&&Q.createElement(zm,{"data-type":"outside",ref:d,onFocus:C=>{if(Gd(C,a)){var A;(A=g.current)==null||A.focus()}else{const D=iC()||l?.refs.domReference.current;D?.focus()}}}),O&&a&&Q.createElement("span",{"aria-owns":a.id,style:Fy}),a&&Ow.createPortal(e,a),O&&a&&Q.createElement(zm,{"data-type":"outside",ref:m,onFocus:C=>{if(Gd(C,a)){var A;(A=w.current)==null||A.focus()}else{const D=nC()||l?.refs.domReference.current;D?.focus(),l?.closeOnFocusOut&&l?.onOpenChange(!1,C.nativeEvent,"focus-out")}}}))}const oC=()=>Q.useContext(sC),rw="data-floating-ui-focusable";function nw(t){return t?t.hasAttribute(rw)?t:t.querySelector("["+rw+"]")||t:null}const F1=20;let Al=[];function tb(t){Al=Al.filter(e=>e.isConnected),t&&ll(t)!=="body"&&(Al.push(t),Al.length>F1&&(Al=Al.slice(-F1)))}function j1(){return Al.slice().reverse().find(t=>t.isConnected)}function kB(t){const e=Py();return T4(t,e)?t:Ay(t,e)[0]||t}const IB=Q.forwardRef(function(e,r){return Q.createElement("button",Nf({},e,{type:"button",ref:r,tabIndex:-1,style:Fy}))});function aC(t){const{context:e,children:r,disabled:n=!1,order:s=["content"],guards:a=!0,initialFocus:l=0,returnFocus:u=!0,restoreFocus:d=!1,modal:m=!0,visuallyHiddenDismiss:g=!1,closeOnFocusOut:w=!0,outsideElementsInert:N=!1}=t,{open:k,refs:O,nodeId:C,onOpenChange:A,events:D,dataRef:j,elements:{domReference:$,floating:V}}=e,G=typeof l=="number"&&l<0,B=PO($)&&G,Z=bB(),ie=Z?a:!0,U=!ie||Z&&N,ne=di(s),M=di(l),se=di(u),Y=Pc(),me=oC(),Te=Q.useRef(null),Ce=Q.useRef(null),Fe=Q.useRef(!1),_e=Q.useRef(!1),ye=Q.useRef(-1),Ne=me!=null,H=nw(V),Se=Ci(function(vt){return vt===void 0&&(vt=H),vt?Ay(vt,Py()):[]}),lt=Ci(vt=>{const yt=Se(vt);return ne.current.map(Tt=>$&&Tt==="reference"?$:H&&Tt==="floating"?H:yt).filter(Boolean).flat()});Q.useEffect(()=>{if(n||!m)return;function vt(Tt){if(Tt.key==="Tab"){Dn(H,Bs(Mn(H)))&&Se().length===0&&!B&&li(Tt);const Ot=lt(),er=Fa(Tt);ne.current[0]==="reference"&&er===$&&(li(Tt),Tt.shiftKey?Rl(Ot[Ot.length-1]):Rl(Ot[1])),ne.current[1]==="floating"&&er===H&&Tt.shiftKey&&(li(Tt),Rl(Ot[0]))}}const yt=Mn(H);return yt.addEventListener("keydown",vt),()=>{yt.removeEventListener("keydown",vt)}},[n,$,H,m,ne,B,Se,lt]),Q.useEffect(()=>{if(n||!V)return;function vt(yt){const Tt=Fa(yt),er=Se().indexOf(Tt);er!==-1&&(ye.current=er)}return V.addEventListener("focusin",vt),()=>{V.removeEventListener("focusin",vt)}},[n,V,Se]),Q.useEffect(()=>{if(n||!w)return;function vt(){_e.current=!0,setTimeout(()=>{_e.current=!1})}function yt(Tt){const Ot=Tt.relatedTarget;queueMicrotask(()=>{const er=!(Dn($,Ot)||Dn(V,Ot)||Dn(Ot,V)||Dn(me?.portalNode,Ot)||Ot!=null&&Ot.hasAttribute(eu("focus-guard"))||Y&&(sc(Y.nodesRef.current,C).find(Zt=>{var ir,mr;return Dn((ir=Zt.context)==null?void 0:ir.elements.floating,Ot)||Dn((mr=Zt.context)==null?void 0:mr.elements.domReference,Ot)})||T1(Y.nodesRef.current,C).find(Zt=>{var ir,mr,ae;return[(ir=Zt.context)==null?void 0:ir.elements.floating,nw((mr=Zt.context)==null?void 0:mr.elements.floating)].includes(Ot)||((ae=Zt.context)==null?void 0:ae.elements.domReference)===Ot})));if(d&&er&&Bs(Mn(H))===Mn(H).body){xn(H)&&H.focus();const Zt=ye.current,ir=Se(),mr=ir[Zt]||ir[ir.length-1]||H;xn(mr)&&mr.focus()}(B||!m)&&Ot&&er&&!_e.current&&Ot!==j1()&&(Fe.current=!0,A(!1,Tt,"focus-out"))})}if(V&&xn($))return $.addEventListener("focusout",yt),$.addEventListener("pointerdown",vt),V.addEventListener("focusout",yt),()=>{$.removeEventListener("focusout",yt),$.removeEventListener("pointerdown",vt),V.removeEventListener("focusout",yt)}},[n,$,V,H,m,C,Y,me,A,w,d,Se,B]);const at=Q.useRef(null),dt=Q.useRef(null),mt=E1([at,me?.beforeInsideRef]),ft=E1([dt,me?.afterInsideRef]);Q.useEffect(()=>{var vt;if(n||!V)return;const yt=Array.from((me==null||(vt=me.portalNode)==null?void 0:vt.querySelectorAll("["+eu("portal")+"]"))||[]),Tt=Y&&!m?T1(Y?.nodesRef.current,C).map(Zt=>{var ir;return(ir=Zt.context)==null?void 0:ir.elements.floating}):[],Ot=[V,...yt,...Tt,Te.current,Ce.current,at.current,dt.current,me?.beforeOutsideRef.current,me?.afterOutsideRef.current,ne.current.includes("reference")||B?$:null].filter(Zt=>Zt!=null),er=m||B?q1(Ot,!U,U):q1(Ot);return()=>{er()}},[n,$,V,m,ne,me,B,ie,U,Y,C]),Yr(()=>{if(n||!xn(H))return;const vt=Mn(H),yt=Bs(vt);queueMicrotask(()=>{const Tt=lt(H),Ot=M.current,er=(typeof Ot=="number"?Tt[Ot]:Ot.current)||H,Zt=Dn(H,yt);!G&&!Zt&&k&&Rl(er,{preventScroll:er===H})})},[n,k,H,G,lt,M]),Yr(()=>{if(n||!H)return;let vt=!1;const yt=Mn(H),Tt=Bs(yt);let er=j.current.openEvent;tb(Tt);function Zt(ae){let{open:ue,reason:ge,event:qe,nested:De}=ae;ue&&(er=qe),ge==="escape-key"&&O.domReference.current&&tb(O.domReference.current),["hover","safe-polygon"].includes(ge)&&qe.type==="mouseleave"&&(Fe.current=!0),ge==="outside-press"&&(De?(Fe.current=!1,vt=!0):Fe.current=!(RO(qe)||Kw(qe)))}D.on("openchange",Zt);const ir=yt.createElement("span");ir.setAttribute("tabindex","-1"),ir.setAttribute("aria-hidden","true"),Object.assign(ir.style,Fy),Ne&&$&&$.insertAdjacentElement("afterend",ir);function mr(){return typeof se.current=="boolean"?j1()||ir:se.current.current||ir}return()=>{D.off("openchange",Zt);const ae=Bs(yt),ue=Dn(V,ae)||Y&&sc(Y.nodesRef.current,C).some(De=>{var Ge;return Dn((Ge=De.context)==null?void 0:Ge.elements.floating,ae)});(ue||er&&["click","mousedown"].includes(er.type))&&O.domReference.current&&tb(O.domReference.current);const qe=mr();queueMicrotask(()=>{const De=kB(qe);se.current&&!Fe.current&&xn(De)&&(!(De!==ae&&ae!==yt.body)||ue)&&De.focus({preventScroll:vt}),ir.remove()})}},[n,V,H,se,j,O,D,Y,C,Ne,$]),Q.useEffect(()=>{queueMicrotask(()=>{Fe.current=!1})},[n]),Yr(()=>{if(!n&&me)return me.setFocusManagerState({modal:m,closeOnFocusOut:w,open:k,onOpenChange:A,refs:O}),()=>{me.setFocusManagerState(null)}},[n,me,m,k,A,O,w]),Yr(()=>{if(n||!H||typeof MutationObserver!="function"||G)return;const vt=()=>{const Tt=H.getAttribute("tabindex"),Ot=Se(),er=Bs(Mn(V)),Zt=Ot.indexOf(er);Zt!==-1&&(ye.current=Zt),ne.current.includes("floating")||er!==O.domReference.current&&Ot.length===0?Tt!=="0"&&H.setAttribute("tabindex","0"):Tt!=="-1"&&H.setAttribute("tabindex","-1")};vt();const yt=new MutationObserver(vt);return yt.observe(H,{childList:!0,subtree:!0,attributes:!0}),()=>{yt.disconnect()}},[n,V,H,O,ne,Se,G]);function gt(vt){return n||!g||!m?null:Q.createElement(IB,{ref:vt==="start"?Te:Ce,onClick:yt=>A(!1,yt.nativeEvent)},typeof g=="string"?g:"Dismiss")}const Pt=!n&&ie&&(m?!B:!0)&&(Ne||m);return Q.createElement(Q.Fragment,null,Pt&&Q.createElement(zm,{"data-type":"inside",ref:mt,onFocus:vt=>{if(m){const Tt=lt();Rl(s[0]==="reference"?Tt[0]:Tt[Tt.length-1])}else if(me!=null&&me.preserveTabOrder&&me.portalNode)if(Fe.current=!1,Gd(vt,me.portalNode)){const Tt=nC()||$;Tt?.focus()}else{var yt;(yt=me.beforeOutsideRef.current)==null||yt.focus()}}}),!B&&gt("start"),r,gt("end"),Pt&&Q.createElement(zm,{"data-type":"inside",ref:ft,onFocus:vt=>{if(m)Rl(lt()[0]);else if(me!=null&&me.preserveTabOrder&&me.portalNode)if(w&&(Fe.current=!0),Gd(vt,me.portalNode)){const Tt=iC()||$;Tt?.focus()}else{var yt;(yt=me.afterOutsideRef.current)==null||yt.focus()}}}))}let Tp=0;function OB(){const t=/iP(hone|ad|od)|iOS/.test(Qw()),e=document.body.style,n=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",s=window.innerWidth-document.documentElement.clientWidth,a=e.left?parseFloat(e.left):window.scrollX,l=e.top?parseFloat(e.top):window.scrollY;if(e.overflow="hidden",s&&(e[n]=s+"px"),t){var u,d;const m=((u=window.visualViewport)==null?void 0:u.offsetLeft)||0,g=((d=window.visualViewport)==null?void 0:d.offsetTop)||0;Object.assign(e,{position:"fixed",top:-(l-Math.floor(g))+"px",left:-(a-Math.floor(m))+"px",right:"0"})}return()=>{Object.assign(e,{overflow:"",[n]:""}),t&&(Object.assign(e,{position:"",top:"",left:"",right:""}),window.scrollTo(a,l))}}let L1=()=>{};const CB=Q.forwardRef(function(e,r){const{lockScroll:n=!1,...s}=e;return Yr(()=>{if(n)return Tp++,Tp===1&&(L1=OB()),()=>{Tp--,Tp===0&&L1()}},[n]),Q.createElement("div",Nf({ref:r},s,{style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...s.style}}))});function D1(t){return xn(t.target)&&t.target.tagName==="BUTTON"}function M1(t){return Gw(t)}function r0(t,e){e===void 0&&(e={});const{open:r,onOpenChange:n,dataRef:s,elements:{domReference:a}}=t,{enabled:l=!0,event:u="click",toggle:d=!0,ignoreMouse:m=!1,keyboardHandlers:g=!0,stickIfOpen:w=!0}=e,N=Q.useRef(),k=Q.useRef(!1),O=Q.useMemo(()=>({onPointerDown(C){N.current=C.pointerType},onMouseDown(C){const A=N.current;C.button===0&&u!=="click"&&(Ef(A,!0)&&m||(r&&d&&(!(s.current.openEvent&&w)||s.current.openEvent.type==="mousedown")?n(!1,C.nativeEvent,"click"):(C.preventDefault(),n(!0,C.nativeEvent,"click"))))},onClick(C){const A=N.current;if(u==="mousedown"&&N.current){N.current=void 0;return}Ef(A,!0)&&m||(r&&d&&(!(s.current.openEvent&&w)||s.current.openEvent.type==="click")?n(!1,C.nativeEvent,"click"):n(!0,C.nativeEvent,"click"))},onKeyDown(C){N.current=void 0,!(C.defaultPrevented||!g||D1(C))&&(C.key===" "&&!M1(a)&&(C.preventDefault(),k.current=!0),C.key==="Enter"&&n(!(r&&d),C.nativeEvent,"click"))},onKeyUp(C){C.defaultPrevented||!g||D1(C)||M1(a)||C.key===" "&&k.current&&(k.current=!1,n(!(r&&d),C.nativeEvent,"click"))}}),[s,a,u,m,g,n,r,w,d]);return Q.useMemo(()=>l?{reference:O}:{},[l,O])}const TB={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},qB={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},B1=t=>{var e,r;return{escapeKey:typeof t=="boolean"?t:(e=t?.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(r=t?.outsidePress)!=null?r:!0}};function n0(t,e){e===void 0&&(e={});const{open:r,onOpenChange:n,elements:s,dataRef:a}=t,{enabled:l=!0,escapeKey:u=!0,outsidePress:d=!0,outsidePressEvent:m="pointerdown",referencePress:g=!1,referencePressEvent:w="pointerdown",ancestorScroll:N=!1,bubbles:k,capture:O}=e,C=Pc(),A=Ci(typeof d=="function"?d:()=>!1),D=typeof d=="function"?A:d,j=Q.useRef(!1),$=Q.useRef(!1),{escapeKey:V,outsidePress:G}=B1(k),{escapeKey:B,outsidePress:Z}=B1(O),ie=Q.useRef(!1),U=Ci(Te=>{var Ce;if(!r||!l||!u||Te.key!=="Escape"||ie.current)return;const Fe=(Ce=a.current.floatingContext)==null?void 0:Ce.nodeId,_e=C?sc(C.nodesRef.current,Fe):[];if(!V&&(Te.stopPropagation(),_e.length>0)){let ye=!0;if(_e.forEach(Ne=>{var H;if((H=Ne.context)!=null&&H.open&&!Ne.context.dataRef.current.__escapeKeyBubbles){ye=!1;return}}),!ye)return}n(!1,t4(Te)?Te.nativeEvent:Te,"escape-key")}),ne=Ci(Te=>{var Ce;const Fe=()=>{var _e;U(Te),(_e=Fa(Te))==null||_e.removeEventListener("keydown",Fe)};(Ce=Fa(Te))==null||Ce.addEventListener("keydown",Fe)}),M=Ci(Te=>{var Ce;const Fe=j.current;j.current=!1;const _e=$.current;if($.current=!1,m==="click"&&_e||Fe||typeof D=="function"&&!D(Te))return;const ye=Fa(Te),Ne="["+eu("inert")+"]",H=Mn(s.floating).querySelectorAll(Ne);let Se=Vr(ye)?ye:null;for(;Se&&!Qo(Se);){const mt=Zo(Se);if(Qo(mt)||!Vr(mt))break;Se=mt}if(H.length&&Vr(ye)&&!r4(ye)&&!Dn(ye,s.floating)&&Array.from(H).every(mt=>!Dn(Se,mt)))return;if(xn(ye)&&me){const mt=Qo(ye),ft=Ns(ye),gt=/auto|scroll/,Pt=mt||gt.test(ft.overflowX),vt=mt||gt.test(ft.overflowY),yt=Pt&&ye.clientWidth>0&&ye.scrollWidth>ye.clientWidth,Tt=vt&&ye.clientHeight>0&&ye.scrollHeight>ye.clientHeight,Ot=ft.direction==="rtl",er=Tt&&(Ot?Te.offsetX<=ye.offsetWidth-ye.clientWidth:Te.offsetX>ye.clientWidth),Zt=yt&&Te.offsetY>ye.clientHeight;if(er||Zt)return}const lt=(Ce=a.current.floatingContext)==null?void 0:Ce.nodeId,at=C&&sc(C.nodesRef.current,lt).some(mt=>{var ft;return G_(Te,(ft=mt.context)==null?void 0:ft.elements.floating)});if(G_(Te,s.floating)||G_(Te,s.domReference)||at)return;const dt=C?sc(C.nodesRef.current,lt):[];if(dt.length>0){let mt=!0;if(dt.forEach(ft=>{var gt;if((gt=ft.context)!=null&&gt.open&&!ft.context.dataRef.current.__outsidePressBubbles){mt=!1;return}}),!mt)return}n(!1,Te,"outside-press")}),se=Ci(Te=>{var Ce;const Fe=()=>{var _e;M(Te),(_e=Fa(Te))==null||_e.removeEventListener(m,Fe)};(Ce=Fa(Te))==null||Ce.addEventListener(m,Fe)});Q.useEffect(()=>{if(!r||!l)return;a.current.__escapeKeyBubbles=V,a.current.__outsidePressBubbles=G;let Te=-1;function Ce(H){n(!1,H,"ancestor-scroll")}function Fe(){window.clearTimeout(Te),ie.current=!0}function _e(){Te=window.setTimeout(()=>{ie.current=!1},qy()?5:0)}const ye=Mn(s.floating);u&&(ye.addEventListener("keydown",B?ne:U,B),ye.addEventListener("compositionstart",Fe),ye.addEventListener("compositionend",_e)),D&&ye.addEventListener(m,Z?se:M,Z);let Ne=[];return N&&(Vr(s.domReference)&&(Ne=Wa(s.domReference)),Vr(s.floating)&&(Ne=Ne.concat(Wa(s.floating))),!Vr(s.reference)&&s.reference&&s.reference.contextElement&&(Ne=Ne.concat(Wa(s.reference.contextElement)))),Ne=Ne.filter(H=>{var Se;return H!==((Se=ye.defaultView)==null?void 0:Se.visualViewport)}),Ne.forEach(H=>{H.addEventListener("scroll",Ce,{passive:!0})}),()=>{u&&(ye.removeEventListener("keydown",B?ne:U,B),ye.removeEventListener("compositionstart",Fe),ye.removeEventListener("compositionend",_e)),D&&ye.removeEventListener(m,Z?se:M,Z),Ne.forEach(H=>{H.removeEventListener("scroll",Ce)}),window.clearTimeout(Te)}},[a,s,u,D,m,r,n,N,l,V,G,U,B,ne,M,Z,se]),Q.useEffect(()=>{j.current=!1},[D,m]);const Y=Q.useMemo(()=>({onKeyDown:U,...g&&{[TB[w]]:Te=>{n(!1,Te.nativeEvent,"reference-press")},...w!=="click"&&{onClick(Te){n(!1,Te.nativeEvent,"reference-press")}}}}),[U,n,g,w]),me=Q.useMemo(()=>({onKeyDown:U,onMouseDown(){$.current=!0},onMouseUp(){$.current=!0},[qB[m]]:()=>{j.current=!0}}),[U,m]);return Q.useMemo(()=>l?{reference:Y,floating:me}:{},[l,Y,me])}function RB(t){const{open:e=!1,onOpenChange:r,elements:n}=t,s=e0(),a=Q.useRef({}),[l]=Q.useState(()=>YO()),u=Jf()!=null,[d,m]=Q.useState(n.reference),g=Ci((k,O,C)=>{a.current.openEvent=k?O:void 0,l.emit("openchange",{open:k,event:O,reason:C,nested:u}),r?.(k,O,C)}),w=Q.useMemo(()=>({setPositionReference:m}),[]),N=Q.useMemo(()=>({reference:d||n.reference||null,floating:n.floating||null,domReference:n.reference}),[d,n.reference,n.floating]);return Q.useMemo(()=>({dataRef:a,open:e,onOpenChange:g,elements:N,events:l,floatingId:s,refs:w}),[e,g,N,l,s,w])}function i0(t){t===void 0&&(t={});const{nodeId:e}=t,r=RB({...t,elements:{reference:null,floating:null,...t.elements}}),n=t.rootContext||r,s=n.elements,[a,l]=Q.useState(null),[u,d]=Q.useState(null),g=s?.domReference||a,w=Q.useRef(null),N=Pc();Yr(()=>{g&&(w.current=g)},[g]);const k=nB({...t,elements:{...s,...u&&{reference:u}}}),O=Q.useCallback($=>{const V=Vr($)?{getBoundingClientRect:()=>$.getBoundingClientRect(),contextElement:$}:$;d(V),k.refs.setReference(V)},[k.refs]),C=Q.useCallback($=>{(Vr($)||$===null)&&(w.current=$,l($)),(Vr(k.refs.reference.current)||k.refs.reference.current===null||$!==null&&!Vr($))&&k.refs.setReference($)},[k.refs]),A=Q.useMemo(()=>({...k.refs,setReference:C,setPositionReference:O,domReference:w}),[k.refs,C,O]),D=Q.useMemo(()=>({...k.elements,domReference:g}),[k.elements,g]),j=Q.useMemo(()=>({...k,...n,refs:A,elements:D,nodeId:e}),[k,A,D,e,n]);return Yr(()=>{n.dataRef.current.floatingContext=j;const $=N?.nodesRef.current.find(V=>V.id===e);$&&($.context=j)}),Q.useMemo(()=>({...k,context:j,refs:A,elements:D}),[k,A,D,j])}function AB(t,e){e===void 0&&(e={});const{open:r,onOpenChange:n,events:s,dataRef:a,elements:l}=t,{enabled:u=!0,visibleOnly:d=!0}=e,m=Q.useRef(!1),g=Q.useRef(),w=Q.useRef(!0);Q.useEffect(()=>{if(!u)return;const k=Ri(l.domReference);function O(){!r&&xn(l.domReference)&&l.domReference===Bs(Mn(l.domReference))&&(m.current=!0)}function C(){w.current=!0}return k.addEventListener("blur",O),k.addEventListener("keydown",C,!0),()=>{k.removeEventListener("blur",O),k.removeEventListener("keydown",C,!0)}},[l.domReference,r,u]),Q.useEffect(()=>{if(!u)return;function k(O){let{reason:C}=O;(C==="reference-press"||C==="escape-key")&&(m.current=!0)}return s.on("openchange",k),()=>{s.off("openchange",k)}},[s,u]),Q.useEffect(()=>()=>{clearTimeout(g.current)},[]);const N=Q.useMemo(()=>({onPointerDown(k){Kw(k.nativeEvent)||(w.current=!1)},onMouseLeave(){m.current=!1},onFocus(k){if(m.current)return;const O=Fa(k.nativeEvent);if(d&&Vr(O))try{if(AO()&&XM())throw Error();if(!O.matches(":focus-visible"))return}catch{if(!w.current&&!Gw(O))return}n(!0,k.nativeEvent,"focus")},onBlur(k){m.current=!1;const O=k.relatedTarget,C=k.nativeEvent,A=Vr(O)&&O.hasAttribute(eu("focus-guard"))&&O.getAttribute("data-type")==="outside";g.current=window.setTimeout(()=>{var D;const j=Bs(l.domReference?l.domReference.ownerDocument:document);!O&&j===l.domReference||Dn((D=a.current.floatingContext)==null?void 0:D.refs.floating.current,j)||Dn(l.domReference,j)||A||n(!1,C,"focus")})}}),[a,l.domReference,n,d]);return Q.useMemo(()=>u?{reference:N}:{},[u,N])}const $1="active",W1="selected";function rb(t,e,r){const n=new Map,s=r==="item";let a=t;if(s&&t){const{[$1]:l,[W1]:u,...d}=t;a=d}return{...r==="floating"&&{tabIndex:-1,[rw]:""},...a,...e.map(l=>{const u=l?l[r]:null;return typeof u=="function"?t?u(t):null:u}).concat(t).reduce((l,u)=>(u&&Object.entries(u).forEach(d=>{let[m,g]=d;if(!(s&&[$1,W1].includes(m)))if(m.indexOf("on")===0){if(n.has(m)||n.set(m,[]),typeof g=="function"){var w;(w=n.get(m))==null||w.push(g),l[m]=function(){for(var N,k=arguments.length,O=new Array(k),C=0;C<k;C++)O[C]=arguments[C];return(N=n.get(m))==null?void 0:N.map(A=>A(...O)).find(A=>A!==void 0)}}}else l[m]=g}),l),{})}}function s0(t){t===void 0&&(t=[]);const e=t.map(u=>u?.reference),r=t.map(u=>u?.floating),n=t.map(u=>u?.item),s=Q.useCallback(u=>rb(u,t,"reference"),e),a=Q.useCallback(u=>rb(u,t,"floating"),r),l=Q.useCallback(u=>rb(u,t,"item"),n);return Q.useMemo(()=>({getReferenceProps:s,getFloatingProps:a,getItemProps:l}),[s,a,l])}function jy(t,e,r){switch(t){case"vertical":return e;case"horizontal":return r;default:return e||r}}function z1(t,e){return jy(e,t===Xw||t===Gf,t===za||t===Ua)}function nb(t,e,r){return jy(e,t===Gf,r?t===za:t===Ua)||t==="Enter"||t===" "||t===""}function PB(t,e,r){return jy(e,r?t===za:t===Ua,t===Gf)}function U1(t,e,r){return jy(e,r?t===Ua:t===za,t===Xw)}function FB(t,e){const{open:r,onOpenChange:n,elements:s}=t,{listRef:a,activeIndex:l,onNavigate:u=()=>{},enabled:d=!0,selectedIndex:m=null,allowEscape:g=!1,loop:w=!1,nested:N=!1,rtl:k=!1,virtual:O=!1,focusItemOnOpen:C="auto",focusItemOnHover:A=!0,openOnArrowKeyDown:D=!0,disabledIndices:j=void 0,orientation:$="vertical",cols:V=1,scrollItemIntoView:G=!0,virtualItemRef:B,itemSizes:Z,dense:ie=!1}=e,U=nw(s.floating),ne=di(U),M=Jf(),se=Pc(),Y=Ci(()=>{u(Ce.current===-1?null:Ce.current)}),me=PO(s.domReference),Te=Q.useRef(C),Ce=Q.useRef(m??-1),Fe=Q.useRef(null),_e=Q.useRef(!0),ye=Q.useRef(Y),Ne=Q.useRef(!!s.floating),H=Q.useRef(r),Se=Q.useRef(!1),lt=Q.useRef(!1),at=di(j),dt=di(r),mt=di(G),ft=di(m),[gt,Pt]=Q.useState(),[vt,yt]=Q.useState(),Tt=Ci(()=>{function ue(De){O?(Pt(De.id),se?.events.emit("virtualfocus",De),B&&(B.current=De)):Rl(De,{sync:Se.current,preventScroll:!0})}const ge=a.current[Ce.current];ge&&ue(ge),(Se.current?De=>De():requestAnimationFrame)(()=>{const De=a.current[Ce.current]||ge;if(!De)return;ge||ue(De);const Ge=mt.current;Ge&&er&&(lt.current||!_e.current)&&(De.scrollIntoView==null||De.scrollIntoView(typeof Ge=="boolean"?{block:"nearest",inline:"nearest"}:Ge))})});Yr(()=>{d&&(r&&s.floating?Te.current&&m!=null&&(lt.current=!0,Ce.current=m,Y()):Ne.current&&(Ce.current=-1,ye.current()))},[d,r,s.floating,m,Y]),Yr(()=>{if(d&&r&&s.floating)if(l==null){if(Se.current=!1,ft.current!=null)return;if(Ne.current&&(Ce.current=-1,Tt()),(!H.current||!Ne.current)&&Te.current&&(Fe.current!=null||Te.current===!0&&Fe.current==null)){let ue=0;const ge=()=>{a.current[0]==null?(ue<2&&(ue?requestAnimationFrame:queueMicrotask)(ge),ue++):(Ce.current=Fe.current==null||nb(Fe.current,$,k)||N?Y_(a,at.current):N1(a,at.current),Fe.current=null,Y())};ge()}}else Kd(a,l)||(Ce.current=l,Tt(),lt.current=!1)},[d,r,s.floating,l,ft,N,a,$,k,Y,Tt,at]),Yr(()=>{var ue;if(!d||s.floating||!se||O||!Ne.current)return;const ge=se.nodesRef.current,qe=(ue=ge.find(_t=>_t.id===M))==null||(ue=ue.context)==null?void 0:ue.elements.floating,De=Bs(Mn(s.floating)),Ge=ge.some(_t=>_t.context&&Dn(_t.context.elements.floating,De));qe&&!Ge&&_e.current&&qe.focus({preventScroll:!0})},[d,s.floating,se,M,O]),Yr(()=>{if(!d||!se||!O||M)return;function ue(ge){yt(ge.id),B&&(B.current=ge)}return se.events.on("virtualfocus",ue),()=>{se.events.off("virtualfocus",ue)}},[d,se,O,M,B]),Yr(()=>{ye.current=Y,H.current=r,Ne.current=!!s.floating}),Yr(()=>{r||(Fe.current=null)},[r]);const Ot=l!=null,er=Q.useMemo(()=>{function ue(qe){if(!r)return;const De=a.current.indexOf(qe);De!==-1&&Ce.current!==De&&(Ce.current=De,Y())}return{onFocus(qe){let{currentTarget:De}=qe;Se.current=!0,ue(De)},onClick:qe=>{let{currentTarget:De}=qe;return De.focus({preventScroll:!0})},...A&&{onMouseMove(qe){let{currentTarget:De}=qe;Se.current=!0,lt.current=!1,ue(De)},onPointerLeave(qe){let{pointerType:De}=qe;if(!(!_e.current||De==="touch")&&(Se.current=!0,Ce.current=-1,Y(),!O)){var Ge;(Ge=ne.current)==null||Ge.focus({preventScroll:!0})}}}}},[r,ne,A,a,Y,O]),Zt=Ci(ue=>{if(_e.current=!1,Se.current=!0,ue.which===229||!dt.current&&ue.currentTarget===ne.current)return;if(N&&U1(ue.key,$,k)){li(ue),n(!1,ue.nativeEvent,"list-navigation"),xn(s.domReference)&&(O?se?.events.emit("virtualfocus",s.domReference):s.domReference.focus());return}const ge=Ce.current,qe=Y_(a,j),De=N1(a,j);if(me||(ue.key==="Home"&&(li(ue),Ce.current=qe,Y()),ue.key==="End"&&(li(ue),Ce.current=De,Y())),V>1){const Ge=Z||Array.from({length:a.current.length},()=>({width:1,height:1})),_t=uB(Ge,V,ie),Bt=_t.findIndex($r=>$r!=null&&!em(a.current,$r,j)),wr=_t.reduce(($r,si,an)=>si!=null&&!em(a.current,si,j)?an:$r,-1),yr=_t[lB({current:_t.map($r=>$r!=null?a.current[$r]:null)},{event:ue,orientation:$,loop:w,rtl:k,cols:V,disabledIndices:dB([...j||a.current.map(($r,si)=>em(a.current,si)?si:void 0),void 0],_t),minIndex:Bt,maxIndex:wr,prevIndex:cB(Ce.current>De?qe:Ce.current,Ge,_t,V,ue.key===Gf?"bl":ue.key===(k?za:Ua)?"tr":"tl"),stopEvent:!0})];if(yr!=null&&(Ce.current=yr,Y()),$==="both")return}if(z1(ue.key,$)){if(li(ue),r&&!O&&Bs(ue.currentTarget.ownerDocument)===ue.currentTarget){Ce.current=nb(ue.key,$,k)?qe:De,Y();return}nb(ue.key,$,k)?w?Ce.current=ge>=De?g&&ge!==a.current.length?-1:qe:Qn(a,{startingIndex:ge,disabledIndices:j}):Ce.current=Math.min(De,Qn(a,{startingIndex:ge,disabledIndices:j})):w?Ce.current=ge<=qe?g&&ge!==-1?a.current.length:De:Qn(a,{startingIndex:ge,decrement:!0,disabledIndices:j}):Ce.current=Math.max(qe,Qn(a,{startingIndex:ge,decrement:!0,disabledIndices:j})),Kd(a,Ce.current)&&(Ce.current=-1),Y()}}),ir=Q.useMemo(()=>O&&r&&Ot&&{"aria-activedescendant":vt||gt},[O,r,Ot,vt,gt]),mr=Q.useMemo(()=>({"aria-orientation":$==="both"?void 0:$,...me?{}:ir,onKeyDown:Zt,onPointerMove(){_e.current=!0}}),[ir,Zt,$,me]),ae=Q.useMemo(()=>{function ue(qe){C==="auto"&&RO(qe.nativeEvent)&&(Te.current=!0)}function ge(qe){Te.current=C,C==="auto"&&Kw(qe.nativeEvent)&&(Te.current=!0)}return{...ir,onKeyDown(qe){_e.current=!1;const De=qe.key.startsWith("Arrow"),Ge=["Home","End"].includes(qe.key),_t=De||Ge,Bt=PB(qe.key,$,k),wr=U1(qe.key,$,k),yr=z1(qe.key,$),$r=(N?Bt:yr)||qe.key==="Enter"||qe.key.trim()==="";if(O&&r){const Eo=se?.nodesRef.current.find(Vt=>Vt.parentId==null),An=se&&Eo?_B(se.nodesRef.current,Eo.id):null;if(_t&&An&&B){const Vt=new KeyboardEvent("keydown",{key:qe.key,bubbles:!0});if(Bt||wr){var si,an;const aa=((si=An.context)==null?void 0:si.elements.domReference)===qe.currentTarget,la=wr&&!aa?(an=An.context)==null?void 0:an.elements.domReference:Bt?a.current.find(ua=>ua?.id===gt):null;la&&(li(qe),la.dispatchEvent(Vt),yt(void 0))}if((yr||Ge)&&An.context&&An.context.open&&An.parentId&&qe.currentTarget!==An.context.elements.domReference){var gi;li(qe),(gi=An.context.elements.domReference)==null||gi.dispatchEvent(Vt);return}}return Zt(qe)}if(!(!r&&!D&&De)){if($r&&(Fe.current=N&&yr?null:qe.key),N){Bt&&(li(qe),r?(Ce.current=Y_(a,at.current),Y()):n(!0,qe.nativeEvent,"list-navigation"));return}yr&&(m!=null&&(Ce.current=m),li(qe),!r&&D?n(!0,qe.nativeEvent,"list-navigation"):Zt(qe),r&&Y())}},onFocus(){r&&!O&&(Ce.current=-1,Y())},onPointerDown:ge,onMouseDown:ue,onClick:ue}},[gt,ir,Zt,at,C,a,N,Y,n,r,D,$,k,m,se,O,B]);return Q.useMemo(()=>d?{reference:ae,floating:mr,item:er}:{},[d,ae,mr,er])}const V1=t=>t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(e,r)=>(r?"-":"")+e.toLowerCase());function ju(t,e){return typeof t=="function"?t(e):t}function jB(t,e){const[r,n]=Q.useState(t);return t&&!r&&n(!0),Q.useEffect(()=>{if(!t&&r){const s=setTimeout(()=>n(!1),e);return()=>clearTimeout(s)}},[t,r,e]),r}function LB(t,e){e===void 0&&(e={});const{open:r,elements:{floating:n}}=t,{duration:s=250}=e,l=(typeof s=="number"?s:s.close)||0,[u,d]=Q.useState("unmounted"),m=jB(r,l);return!m&&u==="close"&&d("unmounted"),Yr(()=>{if(n){if(r){d("initial");const g=requestAnimationFrame(()=>{d("open")});return()=>{cancelAnimationFrame(g)}}d("close")}},[r,n]),{isMounted:m,status:u}}function o0(t,e){e===void 0&&(e={});const{initial:r={opacity:0},open:n,close:s,common:a,duration:l=250}=e,u=t.placement,d=u.split("-")[0],m=Q.useMemo(()=>({side:d,placement:u}),[d,u]),g=typeof l=="number",w=(g?l:l.open)||0,N=(g?l:l.close)||0,[k,O]=Q.useState(()=>({...ju(a,m),...ju(r,m)})),{isMounted:C,status:A}=LB(t,{duration:l}),D=di(r),j=di(n),$=di(s),V=di(a);return Yr(()=>{const G=ju(D.current,m),B=ju($.current,m),Z=ju(V.current,m),ie=ju(j.current,m)||Object.keys(G).reduce((U,ne)=>(U[ne]="",U),{});if(A==="initial"&&O(U=>({transitionProperty:U.transitionProperty,...Z,...G})),A==="open"&&O({transitionProperty:Object.keys(ie).map(V1).join(","),transitionDuration:w+"ms",...Z,...ie}),A==="close"){const U=B||G;O({transitionProperty:Object.keys(U).map(V1).join(","),transitionDuration:N+"ms",...Z,...U})}},[N,$,D,j,V,w,A,m]),{isMounted:C,styles:k}}const DB=Q.createContext({close(){}}),MB=hr({slot:{target:["flex","justify-center","items-center"],portal:[]},variant:{mounted:{true:[]}},match:[{if:{mounted:!1},then:{portal:["hidden"]}}],defaults:{mounted:!1}}),BB=({target:t,action:e="hover",disabled:r=!1,closeOnClick:n=!1,delay:s=100,float:a,variant:l,tva:u=MB,css:d,children:m})=>{const[g,w]=Q.useState(!1),{refs:N,floatingStyles:k,context:O}=i0({open:g,onOpenChange:w,placement:"top",whileElementsMounted:QO,middleware:[GO(10),JO({fallbackAxisSideDirection:"start"}),iB()],...a}),{getReferenceProps:C,getFloatingProps:A}=s0([vB(O,{enabled:e==="hover",delay:s}),r0(O,{enabled:e==="click"}),AB(O),n0(O)]),{isMounted:D,styles:j}=o0(O),$=u({mounted:D,...l,css:d}).slots;return y.jsxs(y.Fragment,{children:[y.jsx("button",{type:"button",ref:N.setReference,...C(),disabled:r,className:$.target(),children:t}),y.jsx(t0,{children:y.jsx("div",{ref:N.setFloating,style:{...k,...j},className:$.portal(),...A(),onClick:n?()=>{w(!1)}:void 0,children:y.jsx(DB.Provider,{value:{close(){w(!1)}},children:m})})})]})},lC="icon-[system-uicons--menu-hamburger]",uC=hr({slot:{base:[]},variant:{size:{xs:"text-sm",sm:"text-sm",md:"text-base",lg:"text-lg",xl:"text-xl","2xl":"text-2xl","3xl":"text-3xl","4xl":"text-4xl","5xl":"text-5xl","6xl":"text-6xl","7xl":"text-7xl","8xl":"text-8xl"},disabled:{true:[]}},match:[{if:{disabled:!0},then:{base:["pointer-events-none","cursor-not-allowed","text-gray-400","opacity-50"]}}],defaults:{size:"xl",disabled:!1}}),Er=({icon:t,variant:e,tva:r=uC,css:n,...s})=>{const a=r({...e,css:n}).slots;return t?y.jsx("div",{className:a.base({css:[t]}),...s}):null},$B=hr({slot:{base:["p-1","bg-slate-50","border","border-slate-300","rounded","shadow-md","text-slate-500","flex","flex-col","gap-2"]},variant:{},defaults:{}}),qn=({icon:t=lC,iconProps:e,children:r,variant:n,tva:s=$B,css:a,...l})=>{const u=s({...n,css:a}).slots;return y.jsx(gB,{children:y.jsx(BB,{action:"click",target:y.jsx(Er,{icon:t,...e}),delay:100,float:{placement:"bottom-start"},closeOnClick:!0,...l,children:y.jsx("div",{className:u.base(),children:r})})})},cC="icon-[svg-spinners--90-ring-with-bg]",WB=hr({slot:{base:["flex","items-center","justify-center","gap-2","group","w-fit","h-fit","rounded","cursor-pointer","hover:shadow-md","hover:shadow-slate-200","transition-all","hover:bg-slate-200","text-slate-600","text-2xl","p-1"]},variant:{disabled:{true:["cursor-not-allowed","pointer-events-none"]},loading:{true:["cursor-not-allowed","pointer-events-none"]}},match:[{if:{disabled:!0},then:{base:["opacity-50","hover:bg-blue-400"]}}],defaults:{disabled:!1,loading:!1}}),a0=({iconEnabled:t,iconDisabled:e,iconLoading:r=cC,disabled:n=!1,loading:s=!1,onClick:a,variant:l,tva:u=WB,css:d,children:m,...g})=>{const w=u({disabled:n,loading:s,...l,css:d}).slots;return y.jsxs("div",{className:w.base(),onClick:n?void 0:a,...g,children:[n?y.jsx(Er,{icon:s?r:e??t,variant:{size:"xl"}}):y.jsx(Er,{icon:s?r:t,variant:{size:"xl"}}),m]})},zB="icon-[iconamoon--close-light]",rs=Q.createContext(void 0),UB=hr({slot:{base:["bg-slate-500","bg-opacity-75","backdrop-blur-sm","flex","justify-center","py-12"],target:[],modal:["bg-white","rounded","shadow-lg","p-4","w-fit","h-fit","max-h-full","overflow-y-auto","relative","w-2/3","max-w-1/2"]},variant:{disabled:{true:["pointer-events-none"]},loading:{true:[]}},match:[{if:{loading:!0},then:{base:["pointer-events-none","opacity-50"]}}],defaults:{disabled:!1,loading:!1}}),Ly=({target:t,icon:e,title:r,disabled:n=!1,outside:s=!1,variant:a,css:l,tva:u=UB,children:d})=>{const[m,g]=Q.useState(!1),w=mB(),{refs:N,context:k}=i0({nodeId:w,open:m,onOpenChange:g}),O=r0(k),C=n0(k,{outsidePress:s}),{getReferenceProps:A,getFloatingProps:D}=s0([O,C]),{isMounted:j,styles:$}=o0(k),V=u({disabled:n,...a,css:l}).slots;return y.jsxs(rs.Provider,{value:{close(){g(!1)}},children:[y.jsx("div",{ref:N.setReference,...A({disabled:n}),className:V.target(),children:t}),y.jsx(yB,{id:w,children:j&&y.jsx(y.Fragment,{children:y.jsx(t0,{children:y.jsx(CB,{lockScroll:!0,style:$,className:V.base(),children:y.jsx(aC,{context:k,children:y.jsxs("div",{ref:N.setFloating,...D(),className:V.modal(),children:[y.jsxs("div",{className:"border-b border-slate-200 mb-2 py-1.5 flex flex-row items-center justify-between select-none",children:[y.jsxs("div",{className:"flex flex-row items-center gap-2 pr-4",children:[e&&(Iy(e)?y.jsx(Er,{icon:e,variant:{size:"xl"}}):e),r&&y.jsx("div",{className:"text-lg font-semibold text-slate-700",children:r})]}),y.jsx(a0,{iconEnabled:zB,onClick:()=>g(!1)})]}),d]})})})})})})]})},VB=hr({use:JM,slot:{},variant:{},defaults:{}}),Mr=({icon:t,iconProps:e,label:r,textTitle:n,disabled:s=!1,modalProps:a,hidden:l=!1,variant:u,tva:d=VB,css:m,children:g})=>{const w=d({...u,disabled:s,css:m}).slots;return l?null:y.jsxs("div",{className:w.base(),children:[Iy(t)?y.jsx(Er,{icon:t,...e}):t,y.jsx(Ly,{icon:t,target:r,title:n,disabled:s,css:{modal:["w-1/2"]},...a,children:g})]})},HB=hr({slot:{base:["rounded-2xl","bg-blue-50","border","border-blue-200","text-xs","px-4","py-0.5","font-bold"]},variant:{},defaults:{}}),QB=({variant:t,tva:e=HB,css:r,...n})=>{const s=e({...t,css:r}).slots;return y.jsx("div",{className:s.base(),...n})},dC="icon-[material-symbols-light--check-small]",KB="icon-[material-symbols-light--close-small]",GB="icon-[material-symbols-light--check-indeterminate-small]",JB=hr({use:uC,slot:{},variant:{value:{true:"text-green-600",false:"text-amber-600"}},defaults:{value:!1}}),fC=({value:t,checkIcon:e=dC,unCheckIcon:r=KB,undefinedIcon:n=GB,tva:s=JB,...a})=>t==null?y.jsx(Er,{icon:n,tva:s,...a}):y.jsx(Er,{icon:t?e:r,tva:l=>s({...l,value:t}),...a}),ZB=hr({slot:{base:["flex","items-center","justify-between","text-sm","font-medium","text-slate-900","w-full"],switch:["relative","w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-blue-300","dark:peer-focus:ring-blue-800","rounded-full","peer","dark:bg-gray-700","peer-checked:after:translate-x-full","rtl:peer-checked:after:-translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","dark:border-gray-600","peer-checked:bg-blue-600"]},variant:{},defaults:{}}),hC=({value:t,onChange:e,variant:r,tva:n=ZB,css:s,...a})=>{const l=n({...r,css:s}).slots;return y.jsx("div",{className:l.base(),children:y.jsxs("label",{children:[y.jsx("input",{type:"checkbox",checked:t,className:"sr-only peer",onChange:u=>{e(u.target.checked)},...a}),y.jsx("div",{className:l.switch()})]})})},YB=hr({slot:{base:["flex","flex-row","items-center","justify-center","gap-2","group","rounded","transition-all"]},variant:{variant:{primary:["text-white"],secondary:["text-slate-700"],subtle:["text-slate-600"],danger:["text-slate-50"]},disabled:{true:"cursor-not-allowed"},size:{xs:[],sm:[],md:[]}},match:[{if:{variant:"primary"},then:{base:["bg-blue-400","hover:bg-blue-500"]}},{if:{variant:"primary",disabled:!0},then:{base:["opacity-50","bg-blue-600","hover:bg-blue-600","cursor-not-allowed"]}},{if:{variant:"secondary"},then:{base:["bg-amber-400","hover:bg-amber-500"]}},{if:{variant:"secondary",disabled:!0},then:{base:["opacity-50","bg-amber-600","hover:bg-amber-600","cursor-not-allowed"]}},{if:{variant:"subtle"},then:{base:["text-slate-600","hover:text-slate-800","hover:bg-blue-50"]}},{if:{variant:"subtle",disabled:!0},then:{base:["opacity-50","bg-blue-50","hover:bg-blue-50","cursor-not-allowed"]}},{if:{variant:"danger"},then:{base:["bg-red-400","hover:bg-red-500","hover:text-white"]}},{if:{size:"xs"},then:{base:["py-0.5","px-1"]}},{if:{size:"sm"},then:{base:["py-1","px-2"]}},{if:{size:"md"},then:{base:["py-2","px-4"]}}],defaults:{variant:"primary",disabled:!1,size:"md"}}),Sn=({iconEnabled:t,iconDisabled:e,iconLoading:r=cC,iconProps:n,loading:s,variant:a,tva:l=YB,css:u,children:d,...m})=>{const g=l({disabled:m.disabled,...a,css:u}).slots;return y.jsxs("button",{type:"button",className:g.base({disabled:m.disabled}),...m,children:[m.disabled?y.jsx(Er,{icon:s===!0?r:e,variant:{size:"xl"},...n}):y.jsx(Er,{icon:s===!0?r:t,variant:{size:"xl"},...n}),d]})},l0=Q.createContext({inline:!1}),XB=hr({slot:{base:["border","border-slate-100","px-2","py-1","rounded-md"],label:["text-sm","font-semibold","text-slate-600","border-b","mb-2"],value:[]},variant:{inline:{true:[]},withBackground:{true:[]}},match:[{if:{inline:!0},then:{base:["border-none","flex","flex-row","items-center","gap-2"],label:["mb-0","font-light","text-md","text-slate-600","border-none"],value:["text-md","text-slate-800"]}},{if:{withBackground:!0},then:{base:["bg-slate-50","hover:bg-slate-100"]}}],defaults:{inline:!1,withBackground:!0}}),e$=({inline:t,label:e,value:r,variant:n,tva:s=XB,css:a})=>{const l=Q.useContext(l0),u=t??l?.inline,d=s({inline:u,...n,css:a}).slots;return y.jsxs("div",{className:d.base(),children:[e?y.jsx("div",{className:d.label(),children:e}):null,y.jsx("div",{className:d.value(),children:r})]})},t$=hr({slot:{base:["flex","flex-col","gap-4","border","border-slate-100","p-4","rounded-lg"]},variant:{inline:{true:["flex-row","border-none","gap-1","p-0","flex-1"]}},defaults:{inline:!1}}),pC=({items:t,hidden:e=[],valueOfProps:r,entity:n,variant:s,tva:a=t$,css:l,inline:u=!1})=>{const d=a({inline:u,...s,css:l}).slots;return y.jsx(l0.Provider,{value:{inline:u},children:y.jsx("div",{className:d.base(),children:t.filter(({id:m})=>!e.includes(m)).map(({id:m,render:g,...w})=>y.jsx(e$,{value:y.jsx(g,{entity:n}),...r,...w},m))})})},r$=hr({slot:{base:["flex","flex-col","gap-2"]},variant:{},defaults:{}}),H1="icon-[tabler--dots]",n$=hr({slot:{base:["flex","items-center","justify-between","gap-2"],sums:["flex","items-center","gap-2","text-sm"]},variant:{},defaults:{}}),i$=hr({slot:{base:["select-none"],list:["flex","items-center","-space-x-px","text-xs","gap-2"],page:["flex","items-center","justify-center","w-12","px-2","py-1","rounded","border","border-slate-200","hover:bg-slate-200","cursor-pointer","transition-all","duration-200"]},variant:{current:{true:[]}},match:[{if:{current:!0},then:{page:["bg-slate-100","hover:bg-slate-200","text-slate-800","font-bold"]}}],defaults:{current:!1}}),ib=({pages:t,page:e,onPage:r,variant:n,tva:s=i$,css:a})=>{const l=s({...n,css:a}).slots;return y.jsx("nav",{className:l.base(),children:y.jsx("ul",{className:l.list(),children:t.map((u,d)=>y.jsx("li",{className:l.page({current:e===u-1}),onClick:()=>r(u-1),children:u},`page-${u}-${d}`))})})},s$=hr({slot:{base:["cursor-pointer","bg-slate-50","text-slate-900","text-sm","border","border-slate-300","rounded","focus:border-sky-400","focus:outline-none","p-2.5","hover:shadow-md","transition-all","group"],input:["flex","flex-row","items-center","justify-between","gap-2"],popup:["z-50","cursor-pointer","overflow-y-auto","rounded","border","border-slate-300","bg-white","shadow-lg","focus:outline-none"],item:["focus:outline-none","py-2","px-2.5","flex","items-center","justify-between"]},variant:{disabled:{true:["cursor-not-allowed","hover:shadow-none","focus:border-slate-300","opacity-50"]},active:{true:[]},selected:{true:[]}},match:[{if:{selected:!0},then:{item:["bg-slate-100"]}},{if:{active:!0},then:{item:["bg-slate-200"]}}],defaults:{disabled:!1,selected:!1,active:!1}}),o$=({items:t,icon:e,defaultValue:r,render:n,textSelect:s,disabled:a=!1,onItem:l,onSelect:u,onChange:d,value:m,variant:g,tva:w=s$,css:N})=>{const[k,O]=Q.useState(!1),[C,A]=Q.useState(null),[D,j]=Q.useState(t.findIndex(ye=>ye.id===r));Q.useEffect(()=>{j(t.findIndex(ye=>ye.id===m))},[m]);const{refs:$,floatingStyles:V,context:G}=i0({placement:"bottom-start",open:k,onOpenChange:O,whileElementsMounted:QO,middleware:[GO(5),JO({padding:10}),sB({apply({rects:ye,elements:Ne,availableHeight:H}){Object.assign(Ne.floating.style,{maxHeight:`${H}px`,minWidth:`${ye.reference.width}px`})},padding:10})]}),B=Q.useRef([]),Z=Q.useRef(!1),ie=r0(G,{event:"mousedown"}),U=n0(G),ne=FB(G,{listRef:B,activeIndex:C,selectedIndex:D,onNavigate:A,loop:!0}),{getReferenceProps:M,getFloatingProps:se,getItemProps:Y}=s0([U,ne,ie]),{isMounted:me,styles:Te}=o0(G),Ce=ye=>{j(ye),O(!1);const Ne=t[ye];Ne&&l?.(Ne),u?.(Ne),d?.(Ne?.id)},Fe=D===null?void 0:t[D],_e=w({disabled:a,...g,css:N}).slots;return y.jsxs(y.Fragment,{children:[y.jsx("div",{tabIndex:a?-1:0,ref:a?void 0:$.setReference,"aria-labelledby":"select-label","aria-autocomplete":"none",...a?{}:M(),className:_e.base(),children:y.jsxs("div",{className:_e.input(),children:[e?y.jsx(Er,{icon:e,variant:{size:"xl"},css:{base:["text-slate-400","group-hover:text-slate-600"]}}):null,Fe?y.jsx(n,{entity:Fe}):s||Dr.rich("Select item"),y.jsx(Er,{icon:"icon-[gg--select]",variant:{size:"xl"},css:{base:[!k&&"text-slate-400",k&&"text-slate-600","group-hover:text-slate-600"]}})]})}),me&&y.jsx(t0,{children:y.jsx(aC,{context:G,modal:!1,children:y.jsx("div",{ref:$.setFloating,style:{...V,...Te},className:_e.popup(),...se(),children:t.map((ye,Ne)=>y.jsxs("div",{ref:H=>{B.current[Ne]=H},role:"option",tabIndex:Ne===C?0:-1,"aria-selected":Ne===D&&Ne===C,className:_e.item({selected:Ne===D,active:Ne===C}),...Y({onClick(){Ce(Ne)},onKeyDown(H){H.key==="Enter"&&(H.preventDefault(),Ce(Ne)),H.key===" "&&!Z.current&&(H.preventDefault(),Ce(Ne))}}),children:[y.jsx(n,{entity:ye}),Ne===D&&y.jsx(Er,{icon:"icon-[basil--check-outline]",variant:{size:"xl"}})]},ye.id))})})})]})},a$=({sizes:t=[5,15,30,50,100],size:e,onSize:r,...n})=>y.jsx(o$,{items:t.map(s=>({id:`${s}`,size:s})),defaultValue:`${e}`,value:`${e}`,onItem:({size:s})=>r(s),render:({entity:{size:s}})=>s,css:{base:["px-8","py-1"],item:["px-8","py-1"]},...n}),Q1=({cursor:t,count:e,textTotal:r,onPage:n,onSize:s,variant:a,tva:l=n$,css:u})=>{const d=Q.useMemo(()=>HM({page:t.page,total:Math.ceil(e.filter/t.size),siblings:1,boundaries:1}),[t.page,e.filter,t.size]),m=l({...a,css:u}).slots;return y.jsxs("div",{className:m.base(),children:[d.total>1?y.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[["both","start"].includes(d.type)&&y.jsxs(y.Fragment,{children:[y.jsx(ib,{page:t.page,pages:d.start,onPage:n}),y.jsx(Er,{icon:H1})]}),y.jsx(ib,{page:t.page,pages:d.pages,onPage:n}),["both","end"].includes(d.type)&&y.jsxs(y.Fragment,{children:[y.jsx(Er,{icon:H1}),y.jsx(ib,{page:t.page,pages:d.end,onPage:n})]})]}):null,y.jsxs("div",{className:m.sums(),children:[y.jsx("div",{children:r}),y.jsx("div",{className:"font-bold",children:e.filter}),e.filter!==e.where&&y.jsxs(y.Fragment,{children:[y.jsx("div",{children:"/"}),y.jsx("div",{className:"font-semibold",children:e.where})]})]}),y.jsx(a$,{size:t.size,onSize:s})]})};function Va(t){return typeof t>"u"||t===void 0}function Zi(t){return typeof t=="string"}function Dy(t){return typeof t=="number"}function Um(t){return typeof t=="boolean"}function u0(t){return t===null}function l$(t){return t instanceof Date}function c0(t){return typeof t=="bigint"}function ns(t){return typeof t=="function"}function uo(t){return typeof t=="object"&&t!==null}function R(t){return Object.freeze(t)}function qp(t){return Yo(t)?t:[t]}function Yo(t){return Array.isArray(t)}function Ha(t){return t}const Pr=R({is(t){return t.kind==="AlterTableNode"},create(t){return R({kind:"AlterTableNode",table:t})},cloneWithTableProps(t,e){return R({...t,...e})},cloneWithColumnAlteration(t,e){return R({...t,columnAlterations:t.columnAlterations?[...t.columnAlterations,e]:[e]})}}),Xr=R({is(t){return t.kind==="IdentifierNode"},create(t){return R({kind:"IdentifierNode",name:t})}}),$o=R({is(t){return t.kind==="CreateIndexNode"},create(t){return R({kind:"CreateIndexNode",name:Xr.create(t)})},cloneWith(t,e){return R({...t,...e})},cloneWithColumns(t,e){return R({...t,columns:[...t.columns||[],...e]})}}),mC=R({is(t){return t.kind==="CreateSchemaNode"},create(t,e){return R({kind:"CreateSchemaNode",schema:Xr.create(t),...e})},cloneWith(t,e){return R({...t,...e})}}),u$=["preserve rows","delete rows","drop"],Di=R({is(t){return t.kind==="CreateTableNode"},create(t){return R({kind:"CreateTableNode",table:t,columns:R([])})},cloneWithColumn(t,e){return R({...t,columns:R([...t.columns,e])})},cloneWithConstraint(t,e){return R({...t,constraints:t.constraints?R([...t.constraints,e]):R([e])})},cloneWithFrontModifier(t,e){return R({...t,frontModifiers:t.frontModifiers?R([...t.frontModifiers,e]):R([e])})},cloneWithEndModifier(t,e){return R({...t,endModifiers:t.endModifiers?R([...t.endModifiers,e]):R([e])})},cloneWith(t,e){return R({...t,...e})}}),el=R({is(t){return t.kind==="SchemableIdentifierNode"},create(t){return R({kind:"SchemableIdentifierNode",identifier:Xr.create(t)})},createWithSchema(t,e){return R({kind:"SchemableIdentifierNode",schema:Xr.create(t),identifier:Xr.create(e)})}}),Jd=R({is(t){return t.kind==="DropIndexNode"},create(t,e){return R({kind:"DropIndexNode",name:el.create(t),...e})},cloneWith(t,e){return R({...t,...e})}}),iw=R({is(t){return t.kind==="DropSchemaNode"},create(t,e){return R({kind:"DropSchemaNode",schema:Xr.create(t),...e})},cloneWith(t,e){return R({...t,...e})}}),sw=R({is(t){return t.kind==="DropTableNode"},create(t,e){return R({kind:"DropTableNode",table:t,...e})},cloneWith(t,e){return R({...t,...e})}}),ul=R({is(t){return t.kind==="AliasNode"},create(t,e){return R({kind:"AliasNode",node:t,alias:e})}}),Qa=R({is(t){return t.kind==="TableNode"},create(t){return R({kind:"TableNode",table:el.create(t)})},createWithSchema(t,e){return R({kind:"TableNode",table:el.createWithSchema(t,e)})}});function Pi(t){return uo(t)&&ns(t.toOperationNode)}function c$(t){return uo(t)&&"expressionType"in t&&Pi(t)}function d$(t){return uo(t)&&"expression"in t&&Zi(t.alias)&&Pi(t)}const Do=R({is(t){return t.kind==="SelectModifierNode"},create(t,e){return R({kind:"SelectModifierNode",modifier:t,of:e})},createWithExpression(t){return R({kind:"SelectModifierNode",rawModifier:t})}}),tl=R({is(t){return t.kind==="AndNode"},create(t,e){return R({kind:"AndNode",left:t,right:e})}}),Fc=R({is(t){return t.kind==="OrNode"},create(t,e){return R({kind:"OrNode",left:t,right:e})}}),sb=R({is(t){return t.kind==="OnNode"},create(t){return R({kind:"OnNode",on:t})},cloneWithOperation(t,e,r){return R({...t,on:e==="And"?tl.create(t.on,r):Fc.create(t.on,r)})}}),Zd=R({is(t){return t.kind==="JoinNode"},create(t,e){return R({kind:"JoinNode",joinType:t,table:e,on:void 0})},createWithOn(t,e,r){return R({kind:"JoinNode",joinType:t,table:e,on:sb.create(r)})},cloneWithOn(t,e){return R({...t,on:t.on?sb.cloneWithOperation(t.on,"And",e):sb.create(e)})}}),xc=R({is(t){return t.kind==="BinaryOperationNode"},create(t,e,r){return R({kind:"BinaryOperationNode",leftOperand:t,operator:e,rightOperand:r})}}),f$=["=","==","!=","<>",">",">=","<","<=","in","not in","is","is not","like","not like","match","ilike","not ilike","@>","<@","^@","&&","?","?&","?|","!<","!>","<=>","!~","~","~*","!~*","@@","@@@","!!","<->","regexp","is distinct from","is not distinct from"],h$=["+","-","*","/","%","^","&","|","#","<<",">>"],yC=["->","->>"],p$=[...f$,...h$,"&&","||"],m$=["exists","not exists"],y$=["not","-",...m$],g$=[...p$,...yC,...y$,"between","between symmetric"],rl=R({is(t){return t.kind==="OperatorNode"},create(t){return R({kind:"OperatorNode",operator:t})}});function K1(t){return Zi(t)&&yC.includes(t)}const yn=R({is(t){return t.kind==="ColumnNode"},create(t){return R({kind:"ColumnNode",column:Xr.create(t)})}}),d0=R({is(t){return t.kind==="SelectAllNode"},create(){return R({kind:"SelectAllNode"})}}),My=R({is(t){return t.kind==="ReferenceNode"},create(t,e){return R({kind:"ReferenceNode",table:e,column:t})},createSelectAll(t){return R({kind:"ReferenceNode",table:t,column:d0.create()})}});class v${#e;get dynamicReference(){return this.#e}get refType(){}constructor(e){this.#e=e}toOperationNode(){return wC(this.#e)}}function gC(t){return uo(t)&&Pi(t)&&Zi(t.dynamicReference)}const ow=R({is(t){return t.kind==="OrderByItemNode"},create(t,e){return R({kind:"OrderByItemNode",orderBy:t,direction:e})}}),Gn=R({is(t){return t.kind==="RawNode"},create(t,e){return R({kind:"RawNode",sqlFragments:R(t),parameters:R(e)})},createWithSql(t){return Gn.create([t],[])},createWithChild(t){return Gn.create(["",""],[t])},createWithChildren(t){return Gn.create(new Array(t.length+1).fill(""),t)}});function vC(t){return t==="asc"||t==="desc"}function Zf(t){if(t.length===2)return[ob(t[0],t[1])];if(t.length===1){const[e]=t;return Array.isArray(e)?e.map(r=>ob(r)):[ob(e)]}throw new Error(`Invalid number of arguments at order by! expected 1-2, received ${t.length}`)}function ob(t,e){const r=_$(t);if(ow.is(r)){if(e)throw new Error("Cannot specify direction twice!");return r}return ow.create(r,_C(e))}function _$(t){if(rh(t))return su(t);if(gC(t))return t.toOperationNode();const[e,r]=t.split(" ");if(r){if(!vC(r))throw new Error(`Invalid order by direction: ${r}`);return ow.create(Xo(e),_C(r))}return Xo(t)}function _C(t){if(t)return t==="asc"||t==="desc"?Gn.createWithSql(t):t.toOperationNode()}const Vm=R({is(t){return t.kind==="JSONReferenceNode"},create(t,e){return R({kind:"JSONReferenceNode",reference:t,traversal:e})},cloneWithTraversal(t,e){return R({...t,traversal:e})}}),bC=R({is(t){return t.kind==="JSONOperatorChainNode"},create(t){return R({kind:"JSONOperatorChainNode",operator:t,values:R([])})},cloneWithValue(t,e){return R({...t,values:R([...t.values,e])})}}),Yd=R({is(t){return t.kind==="JSONPathNode"},create(t){return R({kind:"JSONPathNode",inOperator:t,pathLegs:R([])})},cloneWithLeg(t,e){return R({...t,pathLegs:R([...t.pathLegs,e])})}});function wC(t){return Zi(t)?Xo(t):t.toOperationNode()}function kf(t){return Yo(t)?t.map(e=>Vi(e)):[Vi(t)]}function Vi(t){return rh(t)?su(t):wC(t)}function b$(t,e){const r=Xo(t);if(K1(e))return Vm.create(r,bC.create(rl.create(e)));const n=e.slice(0,-1);if(K1(n))return Vm.create(r,Yd.create(rl.create(n)));throw new Error(`Invalid JSON operator: ${e}`)}function Xo(t){const e=".";if(!t.includes(e))return My.create(yn.create(t));const r=t.split(e).map(f0);if(r.length===3)return x$(r);if(r.length===2)return S$(r);throw new Error(`invalid column reference ${t}`)}function w$(t){const e=" as ";if(t.includes(e)){const[r,n]=t.split(e).map(f0);return ul.create(Xo(r),Xr.create(n))}else return Xo(t)}function xC(t){return yn.create(t)}function Hm(t){const e=" ";if(t.includes(e)){const[r,n]=t.split(e).map(f0);if(!vC(n))throw new Error(`invalid order direction "${n}" next to "${r}"`);return Zf([r,n])[0]}else return xC(t)}function x$(t){const[e,r,n]=t;return My.create(yn.create(n),Qa.createWithSchema(e,r))}function S$(t){const[e,r]=t;return My.create(yn.create(r),Qa.create(e))}function f0(t){return t.trim()}const SC=R({is(t){return t.kind==="PrimitiveValueListNode"},create(t){return R({kind:"PrimitiveValueListNode",values:R([...t])})}}),h0=R({is(t){return t.kind==="ValueListNode"},create(t){return R({kind:"ValueListNode",values:R(t)})}}),vo=R({is(t){return t.kind==="ValueNode"},create(t){return R({kind:"ValueNode",value:t})},createImmediate(t){return R({kind:"ValueNode",value:t,immediate:!0})}});function E$(t){return Yo(t)?N$(t):wn(t)}function wn(t){return rh(t)?su(t):vo.create(t)}function p0(t){return Dy(t)||Um(t)||u0(t)}function m0(t){if(!p0(t))throw new Error(`unsafe immediate value ${JSON.stringify(t)}`);return vo.createImmediate(t)}function N$(t){return t.some(rh)?h0.create(t.map(e=>wn(e))):SC.create(t)}const Sc=R({is(t){return t.kind==="ParensNode"},create(t){return R({kind:"ParensNode",node:t})}});function $n(t){if(t.length===3)return y0(t[0],t[1],t[2]);if(t.length===1)return wn(t[0]);throw new Error(`invalid arguments: ${JSON.stringify(t)}`)}function y0(t,e,r){return k$(e)&&EC(r)?xc.create(Vi(t),aw(e),vo.createImmediate(r)):xc.create(Vi(t),aw(e),E$(r))}function _o(t,e,r){return xc.create(Vi(t),aw(e),Vi(r))}function G1(t,e){return Qm(Object.entries(t).filter(([,r])=>!Va(r)).map(([r,n])=>y0(r,EC(n)?"is":"=",n)),e)}function Qm(t,e,r=!0){const n=e==="and"?tl.create:Fc.create;if(t.length===0)return xc.create(vo.createImmediate(1),rl.create("="),vo.createImmediate(e==="and"?1:0));let s=J1(t[0]);for(let a=1;a<t.length;++a)s=n(s,J1(t[a]));return t.length>1&&r?Sc.create(s):s}function k$(t){return t==="is"||t==="is not"}function EC(t){return u0(t)||Um(t)}function aw(t){if(Zi(t)&&g$.includes(t))return rl.create(t);if(Pi(t))return t.toOperationNode();throw new Error(`invalid operator ${JSON.stringify(t)}`)}function J1(t){return Pi(t)?t.toOperationNode():t}const nl=R({is(t){return t.kind==="OrderByNode"},create(t){return R({kind:"OrderByNode",items:R([...t])})},cloneWithItems(t,e){return R({...t,items:R([...t.items,...e])})}}),Z1=R({is(t){return t.kind==="PartitionByNode"},create(t){return R({kind:"PartitionByNode",items:R(t)})},cloneWithItems(t,e){return R({...t,items:R([...t.items,...e])})}}),lw=R({is(t){return t.kind==="OverNode"},create(){return R({kind:"OverNode"})},cloneWithOrderByItems(t,e){return R({...t,orderBy:t.orderBy?nl.cloneWithItems(t.orderBy,e):nl.create(e)})},cloneWithPartitionByItems(t,e){return R({...t,partitionBy:t.partitionBy?Z1.cloneWithItems(t.partitionBy,e):Z1.create(e)})}}),Km=R({is(t){return t.kind==="FromNode"},create(t){return R({kind:"FromNode",froms:R(t)})},cloneWithFroms(t,e){return R({...t,froms:R([...t.froms,...e])})}}),Y1=R({is(t){return t.kind==="GroupByNode"},create(t){return R({kind:"GroupByNode",items:R(t)})},cloneWithItems(t,e){return R({...t,items:R([...t.items,...e])})}}),X1=R({is(t){return t.kind==="HavingNode"},create(t){return R({kind:"HavingNode",having:t})},cloneWithOperation(t,e,r){return R({...t,having:e==="And"?tl.create(t.having,r):Fc.create(t.having,r)})}}),Ar=R({is(t){return t.kind==="SelectQueryNode"},create(t){return R({kind:"SelectQueryNode",...t&&{with:t}})},createFrom(t,e){return R({kind:"SelectQueryNode",from:Km.create(t),...e&&{with:e}})},cloneWithSelections(t,e){return R({...t,selections:t.selections?R([...t.selections,...e]):R(e)})},cloneWithDistinctOn(t,e){return R({...t,distinctOn:t.distinctOn?R([...t.distinctOn,...e]):R(e)})},cloneWithFrontModifier(t,e){return R({...t,frontModifiers:t.frontModifiers?R([...t.frontModifiers,e]):R([e])})},cloneWithOrderByItems(t,e){return R({...t,orderBy:t.orderBy?nl.cloneWithItems(t.orderBy,e):nl.create(e)})},cloneWithGroupByItems(t,e){return R({...t,groupBy:t.groupBy?Y1.cloneWithItems(t.groupBy,e):Y1.create(e)})},cloneWithLimit(t,e){return R({...t,limit:e})},cloneWithOffset(t,e){return R({...t,offset:e})},cloneWithFetch(t,e){return R({...t,fetch:e})},cloneWithHaving(t,e){return R({...t,having:t.having?X1.cloneWithOperation(t.having,"And",e):X1.create(e)})},cloneWithSetOperations(t,e){return R({...t,setOperations:t.setOperations?R([...t.setOperations,...e]):R([...e])})},cloneWithoutSelections(t){return R({...t,selections:[]})},cloneWithoutLimit(t){return R({...t,limit:void 0})},cloneWithoutOffset(t){return R({...t,offset:void 0})},cloneWithoutOrderBy(t){return R({...t,orderBy:void 0})},cloneWithoutGroupBy(t){return R({...t,groupBy:void 0})}});function ur(t,e){Object.defineProperties(t.prototype,{then:{enumerable:!1,value:()=>{throw new Error(e)}}})}class oc{#e;constructor(e){this.#e=R(e)}on(...e){return new oc({...this.#e,joinNode:Zd.cloneWithOn(this.#e.joinNode,$n(e))})}onRef(e,r,n){return new oc({...this.#e,joinNode:Zd.cloneWithOn(this.#e.joinNode,_o(e,r,n))})}onTrue(){return new oc({...this.#e,joinNode:Zd.cloneWithOn(this.#e.joinNode,Gn.createWithSql("true"))})}$call(e){return e(this)}toOperationNode(){return this.#e.joinNode}}ur(oc,"don't await JoinBuilder instances. They are never executed directly and are always just a part of a query.");const I$=R({is(t){return t.kind==="PartitionByItemNode"},create(t){return R({kind:"PartitionByItemNode",partitionBy:t})}});function O$(t){return kf(t).map(I$.create)}class If{#e;constructor(e){this.#e=R(e)}orderBy(e,r){return new If({overNode:lw.cloneWithOrderByItems(this.#e.overNode,Zf([e,r]))})}partitionBy(e){return new If({overNode:lw.cloneWithPartitionByItems(this.#e.overNode,O$(e))})}$call(e){return e(this)}toOperationNode(){return this.#e.overNode}}ur(If,"don't await OverBuilder instances. They are never executed directly and are always just a part of a query.");const Xd=R({is(t){return t.kind==="SelectionNode"},create(t){return R({kind:"SelectionNode",selection:t})},createSelectAll(){return R({kind:"SelectionNode",selection:d0.create()})},createSelectAllFromTable(t){return R({kind:"SelectionNode",selection:My.createSelectAll(t)})}});function Ks(t){return ns(t)?Ks(t(Lc())):Yo(t)?t.map(e=>ek(e)):[ek(t)]}function ek(t){return Zi(t)?Xd.create(w$(t)):gC(t)?Xd.create(t.toOperationNode()):Xd.create(LC(t))}function bo(t){return t?Array.isArray(t)?t.map(tk):[tk(t)]:[Xd.createSelectAll()]}function tk(t){if(Zi(t))return Xd.createSelectAllFromTable(hn(t));throw new Error(`invalid value selectAll expression: ${JSON.stringify(t)}`)}const C$=R({is(t){return t.kind==="ValuesNode"},create(t){return R({kind:"ValuesNode",values:R(t)})}}),T$=R({is(t){return t.kind==="DefaultInsertValueNode"},create(){return R({kind:"DefaultInsertValueNode"})}});function NC(t){const e=ns(t)?t(Lc()):t,r=Yo(e)?e:R([e]);return q$(r)}function q$(t){const e=R$(t);return[R([...e.keys()].map(yn.create)),C$.create(t.map(r=>A$(r,e)))]}function R$(t){const e=new Map;for(const r of t){const n=Object.keys(r);for(const s of n)!e.has(s)&&r[s]!==void 0&&e.set(s,e.size)}return e}function A$(t,e){const r=Object.keys(t),n=Array.from({length:e.size});let s=!1;for(const l of r){const u=e.get(l);if(Va(u))continue;const d=t[l];(Va(d)||rh(d))&&(s=!0),n[u]=d}if(r.length<e.size||s){const l=T$.create();return h0.create(n.map(u=>Va(u)?l:wn(u)))}return SC.create(n)}const $i=R({is(t){return t.kind==="InsertQueryNode"},create(t,e,r){return R({kind:"InsertQueryNode",into:t,...e&&{with:e},replace:r})},createWithoutInto(){return R({kind:"InsertQueryNode"})},cloneWith(t,e){return R({...t,...e})}}),ac=R({is(t){return t.kind==="UpdateQueryNode"},create(t,e){return R({kind:"UpdateQueryNode",table:t,...e&&{with:e}})},createWithoutTable(){return R({kind:"UpdateQueryNode"})},cloneWithFromItems(t,e){return R({...t,from:t.from?Km.cloneWithFroms(t.from,e):Km.create(e)})},cloneWithUpdates(t,e){return R({...t,updates:t.updates?R([...t.updates,...e]):e})},cloneWithLimit(t,e){return R({...t,limit:e})}}),rk=R({is(t){return t.kind==="UsingNode"},create(t){return R({kind:"UsingNode",tables:R(t)})},cloneWithTables(t,e){return R({...t,tables:R([...t.tables,...e])})}}),Fl=R({is(t){return t.kind==="DeleteQueryNode"},create(t,e){return R({kind:"DeleteQueryNode",from:Km.create(t),...e&&{with:e}})},cloneWithOrderByItems(t,e){return R({...t,orderBy:t.orderBy?nl.cloneWithItems(t.orderBy,e):nl.create(e)})},cloneWithoutOrderBy(t){return R({...t,orderBy:void 0})},cloneWithLimit(t,e){return R({...t,limit:e})},cloneWithoutLimit(t){return R({...t,limit:void 0})},cloneWithUsing(t,e){return R({...t,using:t.using!==void 0?rk.cloneWithTables(t.using,e):rk.create(e)})}}),Oi=R({is(t){return t.kind==="WhereNode"},create(t){return R({kind:"WhereNode",where:t})},cloneWithOperation(t,e,r){return R({...t,where:e==="And"?tl.create(t.where,r):Fc.create(t.where,r)})}}),nk=R({is(t){return t.kind==="ReturningNode"},create(t){return R({kind:"ReturningNode",selections:R(t)})},cloneWithSelections(t,e){return R({...t,selections:t.selections?R([...t.selections,...e]):R(e)})}}),P$=R({is(t){return t.kind==="ExplainNode"},create(t,e){return R({kind:"ExplainNode",format:t,options:e})}}),Yf=R({is(t){return t.kind==="WhenNode"},create(t){return R({kind:"WhenNode",condition:t})},cloneWithResult(t,e){return R({...t,result:e})}}),Ti=R({is(t){return t.kind==="MergeQueryNode"},create(t,e){return R({kind:"MergeQueryNode",into:t,...e&&{with:e}})},cloneWithUsing(t,e){return R({...t,using:e})},cloneWithWhen(t,e){return R({...t,whens:t.whens?R([...t.whens,e]):R([e])})},cloneWithThen(t,e){return R({...t,whens:t.whens?R([...t.whens.slice(0,-1),Yf.cloneWithResult(t.whens[t.whens.length-1],e)]):void 0})}}),ik=R({is(t){return t.kind==="OutputNode"},create(t){return R({kind:"OutputNode",selections:R(t)})},cloneWithSelections(t,e){return R({...t,selections:t.selections?R([...t.selections,...e]):R(e)})}}),Ct=R({is(t){return Ar.is(t)||$i.is(t)||ac.is(t)||Fl.is(t)||Ti.is(t)},cloneWithEndModifier(t,e){return R({...t,endModifiers:t.endModifiers?R([...t.endModifiers,e]):R([e])})},cloneWithWhere(t,e){return R({...t,where:t.where?Oi.cloneWithOperation(t.where,"And",e):Oi.create(e)})},cloneWithJoin(t,e){return R({...t,joins:t.joins?R([...t.joins,e]):R([e])})},cloneWithReturning(t,e){return R({...t,returning:t.returning?nk.cloneWithSelections(t.returning,e):nk.create(e)})},cloneWithoutReturning(t){return R({...t,returning:void 0})},cloneWithoutWhere(t){return R({...t,where:void 0})},cloneWithExplain(t,e,r){return R({...t,explain:P$.create(e,r?.toOperationNode())})},cloneWithTop(t,e){return R({...t,top:e})},cloneWithOutput(t,e){return R({...t,output:t.output?ik.cloneWithSelections(t.output,e):ik.create(e)})}}),kC=R({is(t){return t.kind==="ColumnUpdateNode"},create(t,e){return R({kind:"ColumnUpdateNode",column:t,value:e})}});function F$(...t){return t.length===2?[kC.create(Vi(t[0]),wn(t[1]))]:g0(t[0])}function g0(t){const e=ns(t)?t(Lc()):t;return Object.entries(e).filter(([r,n])=>n!==void 0).map(([r,n])=>kC.create(yn.create(r),wn(n)))}const j$=R({is(t){return t.kind==="OnDuplicateKeyNode"},create(t){return R({kind:"OnDuplicateKeyNode",updates:t})}});class L${insertId;numInsertedOrUpdatedRows;constructor(e,r){this.insertId=e,this.numInsertedOrUpdatedRows=r}}class Xf extends Error{node;constructor(e){super("no result"),this.node=e}}function eh(t){return Object.prototype.hasOwnProperty.call(t,"prototype")}const Mi=R({is(t){return t.kind==="OnConflictNode"},create(){return R({kind:"OnConflictNode"})},cloneWith(t,e){return R({...t,...e})},cloneWithIndexWhere(t,e){return R({...t,indexWhere:t.indexWhere?Oi.cloneWithOperation(t.indexWhere,"And",e):Oi.create(e)})},cloneWithIndexOrWhere(t,e){return R({...t,indexWhere:t.indexWhere?Oi.cloneWithOperation(t.indexWhere,"Or",e):Oi.create(e)})},cloneWithUpdateWhere(t,e){return R({...t,updateWhere:t.updateWhere?Oi.cloneWithOperation(t.updateWhere,"And",e):Oi.create(e)})},cloneWithUpdateOrWhere(t,e){return R({...t,updateWhere:t.updateWhere?Oi.cloneWithOperation(t.updateWhere,"Or",e):Oi.create(e)})},cloneWithoutIndexWhere(t){return R({...t,indexWhere:void 0})},cloneWithoutUpdateWhere(t){return R({...t,updateWhere:void 0})}});class lo{#e;constructor(e){this.#e=R(e)}column(e){const r=yn.create(e);return new lo({...this.#e,onConflictNode:Mi.cloneWith(this.#e.onConflictNode,{columns:this.#e.onConflictNode.columns?R([...this.#e.onConflictNode.columns,r]):R([r])})})}columns(e){const r=e.map(yn.create);return new lo({...this.#e,onConflictNode:Mi.cloneWith(this.#e.onConflictNode,{columns:this.#e.onConflictNode.columns?R([...this.#e.onConflictNode.columns,...r]):R(r)})})}constraint(e){return new lo({...this.#e,onConflictNode:Mi.cloneWith(this.#e.onConflictNode,{constraint:Xr.create(e)})})}expression(e){return new lo({...this.#e,onConflictNode:Mi.cloneWith(this.#e.onConflictNode,{indexExpression:e.toOperationNode()})})}where(...e){return new lo({...this.#e,onConflictNode:Mi.cloneWithIndexWhere(this.#e.onConflictNode,$n(e))})}whereRef(e,r,n){return new lo({...this.#e,onConflictNode:Mi.cloneWithIndexWhere(this.#e.onConflictNode,_o(e,r,n))})}clearWhere(){return new lo({...this.#e,onConflictNode:Mi.cloneWithoutIndexWhere(this.#e.onConflictNode)})}doNothing(){return new IC({...this.#e,onConflictNode:Mi.cloneWith(this.#e.onConflictNode,{doNothing:!0})})}doUpdateSet(e){return new lc({...this.#e,onConflictNode:Mi.cloneWith(this.#e.onConflictNode,{updates:g0(e)})})}$call(e){return e(this)}}ur(lo,"don't await OnConflictBuilder instances.");class IC{#e;constructor(e){this.#e=R(e)}toOperationNode(){return this.#e.onConflictNode}}ur(IC,"don't await OnConflictDoNothingBuilder instances.");class lc{#e;constructor(e){this.#e=R(e)}where(...e){return new lc({...this.#e,onConflictNode:Mi.cloneWithUpdateWhere(this.#e.onConflictNode,$n(e))})}whereRef(e,r,n){return new lc({...this.#e,onConflictNode:Mi.cloneWithUpdateWhere(this.#e.onConflictNode,_o(e,r,n))})}clearWhere(){return new lc({...this.#e,onConflictNode:Mi.cloneWithoutUpdateWhere(this.#e.onConflictNode)})}$call(e){return e(this)}toOperationNode(){return this.#e.onConflictNode}}ur(lc,"don't await OnConflictUpdateBuilder instances.");const D$=R({is(t){return t.kind==="TopNode"},create(t,e){return R({kind:"TopNode",expression:t,modifiers:e})}});function jc(t,e){if(!Dy(t)&&!c0(t))throw new Error(`Invalid top expression: ${t}`);if(!Va(e)&&!M$(e))throw new Error(`Invalid top modifiers: ${e}`);return D$.create(t,e)}function M$(t){return t==="percent"||t==="with ties"||t==="percent with ties"}class Jr{#e;constructor(e){this.#e=R(e)}values(e){const[r,n]=NC(e);return new Jr({...this.#e,queryNode:$i.cloneWith(this.#e.queryNode,{columns:r,values:n})})}columns(e){return new Jr({...this.#e,queryNode:$i.cloneWith(this.#e.queryNode,{columns:R(e.map(yn.create))})})}expression(e){return new Jr({...this.#e,queryNode:$i.cloneWith(this.#e.queryNode,{values:su(e)})})}defaultValues(){return new Jr({...this.#e,queryNode:$i.cloneWith(this.#e.queryNode,{defaultValues:!0})})}modifyEnd(e){return new Jr({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}ignore(){return new Jr({...this.#e,queryNode:$i.cloneWith(this.#e.queryNode,{ignore:!0})})}top(e,r){return new Jr({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,jc(e,r))})}onConflict(e){return new Jr({...this.#e,queryNode:$i.cloneWith(this.#e.queryNode,{onConflict:e(new lo({onConflictNode:Mi.create()})).toOperationNode()})})}onDuplicateKeyUpdate(e){return new Jr({...this.#e,queryNode:$i.cloneWith(this.#e.queryNode,{onDuplicateKey:j$.create(g0(e))})})}returning(e){return new Jr({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,Ks(e))})}returningAll(){return new Jr({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,bo())})}output(e){return new Jr({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,Ks(e))})}outputAll(e){return new Jr({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,bo(e))})}clearReturning(){return new Jr({...this.#e,queryNode:Ct.cloneWithoutReturning(this.#e.queryNode)})}$call(e){return e(this)}$if(e,r){return e?r(this):new Jr({...this.#e})}$castTo(){return new Jr(this.#e)}$narrowType(){return new Jr(this.#e)}$assertType(){return new Jr(this.#e)}withPlugin(e){return new Jr({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),r=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:n}=this.#e.executor,s=e.query;return s.returning&&n.supportsReturning||s.output&&n.supportsOutput?r.rows:[new L$(r.insertId,r.numAffectedRows??r.numUpdatedOrDeletedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Xf){const r=await this.executeTakeFirst();if(r===void 0)throw eh(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async *stream(e=100){const r=this.compile(),n=this.#e.executor.stream(r,e,this.#e.queryId);for await(const s of n)yield*s.rows}async explain(e,r){return await new Jr({...this.#e,queryNode:Ct.cloneWithExplain(this.#e.queryNode,e,r)}).execute()}}ur(Jr,"don't await InsertQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class B${numDeletedRows;constructor(e){this.numDeletedRows=e}}const v0=R({is(t){return t.kind==="LimitNode"},create(t){return R({kind:"LimitNode",limit:t})}});class Rr{#e;constructor(e){this.#e=R(e)}where(...e){return new Rr({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,$n(e))})}whereRef(e,r,n){return new Rr({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,_o(e,r,n))})}clearWhere(){return new Rr({...this.#e,queryNode:Ct.cloneWithoutWhere(this.#e.queryNode)})}top(e,r){return new Rr({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,jc(e,r))})}using(e){return new Rr({...this.#e,queryNode:Fl.cloneWithUsing(this.#e.queryNode,Tf(e))})}innerJoin(...e){return new Rr({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,ci("InnerJoin",e))})}leftJoin(...e){return new Rr({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,ci("LeftJoin",e))})}rightJoin(...e){return new Rr({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,ci("RightJoin",e))})}fullJoin(...e){return new Rr({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,ci("FullJoin",e))})}returning(e){return new Rr({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,Ks(e))})}returningAll(e){return new Rr({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,bo(e))})}output(e){return new Rr({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,Ks(e))})}outputAll(e){return new Rr({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,bo(e))})}clearReturning(){return new Rr({...this.#e,queryNode:Ct.cloneWithoutReturning(this.#e.queryNode)})}clearLimit(){return new Rr({...this.#e,queryNode:Fl.cloneWithoutLimit(this.#e.queryNode)})}clearOrderBy(){return new Rr({...this.#e,queryNode:Fl.cloneWithoutOrderBy(this.#e.queryNode)})}orderBy(e,r){return new Rr({...this.#e,queryNode:Fl.cloneWithOrderByItems(this.#e.queryNode,Zf([e,r]))})}limit(e){return new Rr({...this.#e,queryNode:Fl.cloneWithLimit(this.#e.queryNode,v0.create(wn(e)))})}modifyEnd(e){return new Rr({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}$call(e){return e(this)}$if(e,r){return e?r(this):new Rr({...this.#e})}$castTo(){return new Rr(this.#e)}$narrowType(){return new Rr(this.#e)}$assertType(){return new Rr(this.#e)}withPlugin(e){return new Rr({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),r=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:n}=this.#e.executor,s=e.query;return s.returning&&n.supportsReturning||s.output&&n.supportsOutput?r.rows:[new B$(r.numAffectedRows??r.numUpdatedOrDeletedRows??BigInt(0))]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Xf){const r=await this.executeTakeFirst();if(r===void 0)throw eh(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async *stream(e=100){const r=this.compile(),n=this.#e.executor.stream(r,e,this.#e.queryId);for await(const s of n)yield*s.rows}async explain(e,r){return await new Rr({...this.#e,queryNode:Ct.cloneWithExplain(this.#e.queryNode,e,r)}).execute()}}ur(Rr,"don't await DeleteQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");class $${numUpdatedRows;numChangedRows;constructor(e,r){this.numUpdatedRows=e,this.numChangedRows=r}}class jr{#e;constructor(e){this.#e=R(e)}where(...e){return new jr({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,$n(e))})}whereRef(e,r,n){return new jr({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,_o(e,r,n))})}clearWhere(){return new jr({...this.#e,queryNode:Ct.cloneWithoutWhere(this.#e.queryNode)})}top(e,r){return new jr({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,jc(e,r))})}from(e){return new jr({...this.#e,queryNode:ac.cloneWithFromItems(this.#e.queryNode,Tf(e))})}innerJoin(...e){return new jr({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,ci("InnerJoin",e))})}leftJoin(...e){return new jr({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,ci("LeftJoin",e))})}rightJoin(...e){return new jr({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,ci("RightJoin",e))})}fullJoin(...e){return new jr({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,ci("FullJoin",e))})}limit(e){return new jr({...this.#e,queryNode:ac.cloneWithLimit(this.#e.queryNode,v0.create(wn(e)))})}set(...e){return new jr({...this.#e,queryNode:ac.cloneWithUpdates(this.#e.queryNode,F$(...e))})}returning(e){return new jr({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,Ks(e))})}returningAll(e){return new jr({...this.#e,queryNode:Ct.cloneWithReturning(this.#e.queryNode,bo(e))})}output(e){return new jr({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,Ks(e))})}outputAll(e){return new jr({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,bo(e))})}modifyEnd(e){return new jr({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}clearReturning(){return new jr({...this.#e,queryNode:Ct.cloneWithoutReturning(this.#e.queryNode)})}$call(e){return e(this)}$if(e,r){return e?r(this):new jr({...this.#e})}$castTo(){return new jr(this.#e)}$narrowType(){return new jr(this.#e)}$assertType(){return new jr(this.#e)}withPlugin(e){return new jr({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),r=await this.#e.executor.executeQuery(e,this.#e.queryId),{adapter:n}=this.#e.executor,s=e.query;return s.returning&&n.supportsReturning||s.output&&n.supportsOutput?r.rows:[new $$(r.numAffectedRows??r.numUpdatedOrDeletedRows??BigInt(0),r.numChangedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Xf){const r=await this.executeTakeFirst();if(r===void 0)throw eh(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async *stream(e=100){const r=this.compile(),n=this.#e.executor.stream(r,e,this.#e.queryId);for await(const s of n)yield*s.rows}async explain(e,r){return await new jr({...this.#e,queryNode:Ct.cloneWithExplain(this.#e.queryNode,e,r)}).execute()}}ur(jr,"don't await UpdateQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");const sk=R({is(t){return t.kind==="CommonTableExpressionNameNode"},create(t,e){return R({kind:"CommonTableExpressionNameNode",table:Qa.create(t),columns:e?R(e.map(yn.create)):void 0})}}),Gm=R({is(t){return t.kind==="CommonTableExpressionNode"},create(t,e){return R({kind:"CommonTableExpressionNode",name:t,expression:e})},cloneWith(t,e){return R({...t,...e})}});class Of{#e;constructor(e){this.#e=R(e)}materialized(){return new Of({...this.#e,node:Gm.cloneWith(this.#e.node,{materialized:!0})})}notMaterialized(){return new Of({...this.#e,node:Gm.cloneWith(this.#e.node,{materialized:!1})})}toOperationNode(){return this.#e.node}}ur(Of,"don't await CTEBuilder instances. They are never executed directly and are always just a part of a query.");function ok(t,e){const r=e(X$()).toOperationNode();return ns(t)?t(W$(r)).toOperationNode():Gm.create(OC(t),r)}function W$(t){return e=>new Of({node:Gm.create(OC(e),t)})}function OC(t){if(t.includes("(")){const e=t.split(/[\(\)]/),r=e[0],n=e[1].split(",").map(s=>s.trim());return sk.create(r,n)}else return sk.create(t)}const Rp=R({is(t){return t.kind==="WithNode"},create(t,e){return R({kind:"WithNode",expressions:R([t]),...e})},cloneWithExpression(t,e){return R({...t,expressions:R([...t.expressions,e])})}}),ak=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9"];function z$(t){let e="";for(let r=0;r<t;++r)e+=U$();return e}function U$(){return ak[~~(Math.random()*ak.length)]}function Fr(){return new V$}class V${#e;get queryId(){return this.#e===void 0&&(this.#e=z$(8)),this.#e}}class CC{nodeStack=[];#e=R({AliasNode:this.transformAlias.bind(this),ColumnNode:this.transformColumn.bind(this),IdentifierNode:this.transformIdentifier.bind(this),SchemableIdentifierNode:this.transformSchemableIdentifier.bind(this),RawNode:this.transformRaw.bind(this),ReferenceNode:this.transformReference.bind(this),SelectQueryNode:this.transformSelectQuery.bind(this),SelectionNode:this.transformSelection.bind(this),TableNode:this.transformTable.bind(this),FromNode:this.transformFrom.bind(this),SelectAllNode:this.transformSelectAll.bind(this),AndNode:this.transformAnd.bind(this),OrNode:this.transformOr.bind(this),ValueNode:this.transformValue.bind(this),ValueListNode:this.transformValueList.bind(this),PrimitiveValueListNode:this.transformPrimitiveValueList.bind(this),ParensNode:this.transformParens.bind(this),JoinNode:this.transformJoin.bind(this),OperatorNode:this.transformOperator.bind(this),WhereNode:this.transformWhere.bind(this),InsertQueryNode:this.transformInsertQuery.bind(this),DeleteQueryNode:this.transformDeleteQuery.bind(this),ReturningNode:this.transformReturning.bind(this),CreateTableNode:this.transformCreateTable.bind(this),AddColumnNode:this.transformAddColumn.bind(this),ColumnDefinitionNode:this.transformColumnDefinition.bind(this),DropTableNode:this.transformDropTable.bind(this),DataTypeNode:this.transformDataType.bind(this),OrderByNode:this.transformOrderBy.bind(this),OrderByItemNode:this.transformOrderByItem.bind(this),GroupByNode:this.transformGroupBy.bind(this),GroupByItemNode:this.transformGroupByItem.bind(this),UpdateQueryNode:this.transformUpdateQuery.bind(this),ColumnUpdateNode:this.transformColumnUpdate.bind(this),LimitNode:this.transformLimit.bind(this),OffsetNode:this.transformOffset.bind(this),OnConflictNode:this.transformOnConflict.bind(this),OnDuplicateKeyNode:this.transformOnDuplicateKey.bind(this),CreateIndexNode:this.transformCreateIndex.bind(this),DropIndexNode:this.transformDropIndex.bind(this),ListNode:this.transformList.bind(this),PrimaryKeyConstraintNode:this.transformPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.transformUniqueConstraint.bind(this),ReferencesNode:this.transformReferences.bind(this),CheckConstraintNode:this.transformCheckConstraint.bind(this),WithNode:this.transformWith.bind(this),CommonTableExpressionNode:this.transformCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.transformCommonTableExpressionName.bind(this),HavingNode:this.transformHaving.bind(this),CreateSchemaNode:this.transformCreateSchema.bind(this),DropSchemaNode:this.transformDropSchema.bind(this),AlterTableNode:this.transformAlterTable.bind(this),DropColumnNode:this.transformDropColumn.bind(this),RenameColumnNode:this.transformRenameColumn.bind(this),AlterColumnNode:this.transformAlterColumn.bind(this),ModifyColumnNode:this.transformModifyColumn.bind(this),AddConstraintNode:this.transformAddConstraint.bind(this),DropConstraintNode:this.transformDropConstraint.bind(this),ForeignKeyConstraintNode:this.transformForeignKeyConstraint.bind(this),CreateViewNode:this.transformCreateView.bind(this),DropViewNode:this.transformDropView.bind(this),GeneratedNode:this.transformGenerated.bind(this),DefaultValueNode:this.transformDefaultValue.bind(this),OnNode:this.transformOn.bind(this),ValuesNode:this.transformValues.bind(this),SelectModifierNode:this.transformSelectModifier.bind(this),CreateTypeNode:this.transformCreateType.bind(this),DropTypeNode:this.transformDropType.bind(this),ExplainNode:this.transformExplain.bind(this),DefaultInsertValueNode:this.transformDefaultInsertValue.bind(this),AggregateFunctionNode:this.transformAggregateFunction.bind(this),OverNode:this.transformOver.bind(this),PartitionByNode:this.transformPartitionBy.bind(this),PartitionByItemNode:this.transformPartitionByItem.bind(this),SetOperationNode:this.transformSetOperation.bind(this),BinaryOperationNode:this.transformBinaryOperation.bind(this),UnaryOperationNode:this.transformUnaryOperation.bind(this),UsingNode:this.transformUsing.bind(this),FunctionNode:this.transformFunction.bind(this),CaseNode:this.transformCase.bind(this),WhenNode:this.transformWhen.bind(this),JSONReferenceNode:this.transformJSONReference.bind(this),JSONPathNode:this.transformJSONPath.bind(this),JSONPathLegNode:this.transformJSONPathLeg.bind(this),JSONOperatorChainNode:this.transformJSONOperatorChain.bind(this),TupleNode:this.transformTuple.bind(this),MergeQueryNode:this.transformMergeQuery.bind(this),MatchedNode:this.transformMatched.bind(this),AddIndexNode:this.transformAddIndex.bind(this),CastNode:this.transformCast.bind(this),FetchNode:this.transformFetch.bind(this),TopNode:this.transformTop.bind(this),OutputNode:this.transformOutput.bind(this)});transformNode(e){if(!e)return e;this.nodeStack.push(e);const r=this.transformNodeImpl(e);return this.nodeStack.pop(),R(r)}transformNodeImpl(e){return this.#e[e.kind](e)}transformNodeList(e){return e&&R(e.map(r=>this.transformNode(r)))}transformSelectQuery(e){return{kind:"SelectQueryNode",from:this.transformNode(e.from),selections:this.transformNodeList(e.selections),distinctOn:this.transformNodeList(e.distinctOn),joins:this.transformNodeList(e.joins),groupBy:this.transformNode(e.groupBy),orderBy:this.transformNode(e.orderBy),where:this.transformNode(e.where),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),limit:this.transformNode(e.limit),offset:this.transformNode(e.offset),with:this.transformNode(e.with),having:this.transformNode(e.having),explain:this.transformNode(e.explain),setOperations:this.transformNodeList(e.setOperations),fetch:this.transformNode(e.fetch),top:this.transformNode(e.top)}}transformSelection(e){return{kind:"SelectionNode",selection:this.transformNode(e.selection)}}transformColumn(e){return{kind:"ColumnNode",column:this.transformNode(e.column)}}transformAlias(e){return{kind:"AliasNode",node:this.transformNode(e.node),alias:this.transformNode(e.alias)}}transformTable(e){return{kind:"TableNode",table:this.transformNode(e.table)}}transformFrom(e){return{kind:"FromNode",froms:this.transformNodeList(e.froms)}}transformReference(e){return{kind:"ReferenceNode",column:this.transformNode(e.column),table:this.transformNode(e.table)}}transformAnd(e){return{kind:"AndNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformOr(e){return{kind:"OrNode",left:this.transformNode(e.left),right:this.transformNode(e.right)}}transformValueList(e){return{kind:"ValueListNode",values:this.transformNodeList(e.values)}}transformParens(e){return{kind:"ParensNode",node:this.transformNode(e.node)}}transformJoin(e){return{kind:"JoinNode",joinType:e.joinType,table:this.transformNode(e.table),on:this.transformNode(e.on)}}transformRaw(e){return{kind:"RawNode",sqlFragments:R([...e.sqlFragments]),parameters:this.transformNodeList(e.parameters)}}transformWhere(e){return{kind:"WhereNode",where:this.transformNode(e.where)}}transformInsertQuery(e){return{kind:"InsertQueryNode",into:this.transformNode(e.into),columns:this.transformNodeList(e.columns),values:this.transformNode(e.values),returning:this.transformNode(e.returning),onConflict:this.transformNode(e.onConflict),onDuplicateKey:this.transformNode(e.onDuplicateKey),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),ignore:e.ignore,replace:e.replace,explain:this.transformNode(e.explain),defaultValues:e.defaultValues,top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformValues(e){return{kind:"ValuesNode",values:this.transformNodeList(e.values)}}transformDeleteQuery(e){return{kind:"DeleteQueryNode",from:this.transformNode(e.from),using:this.transformNode(e.using),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),returning:this.transformNode(e.returning),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),orderBy:this.transformNode(e.orderBy),limit:this.transformNode(e.limit),explain:this.transformNode(e.explain),top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformReturning(e){return{kind:"ReturningNode",selections:this.transformNodeList(e.selections)}}transformCreateTable(e){return{kind:"CreateTableNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),constraints:this.transformNodeList(e.constraints),temporary:e.temporary,ifNotExists:e.ifNotExists,onCommit:e.onCommit,frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),selectQuery:this.transformNode(e.selectQuery)}}transformColumnDefinition(e){return{kind:"ColumnDefinitionNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),references:this.transformNode(e.references),primaryKey:e.primaryKey,autoIncrement:e.autoIncrement,unique:e.unique,notNull:e.notNull,unsigned:e.unsigned,defaultTo:this.transformNode(e.defaultTo),check:this.transformNode(e.check),generated:this.transformNode(e.generated),frontModifiers:this.transformNodeList(e.frontModifiers),endModifiers:this.transformNodeList(e.endModifiers),nullsNotDistinct:e.nullsNotDistinct,identity:e.identity,ifNotExists:e.ifNotExists}}transformAddColumn(e){return{kind:"AddColumnNode",column:this.transformNode(e.column)}}transformDropTable(e){return{kind:"DropTableNode",table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformOrderBy(e){return{kind:"OrderByNode",items:this.transformNodeList(e.items)}}transformOrderByItem(e){return{kind:"OrderByItemNode",orderBy:this.transformNode(e.orderBy),direction:this.transformNode(e.direction)}}transformGroupBy(e){return{kind:"GroupByNode",items:this.transformNodeList(e.items)}}transformGroupByItem(e){return{kind:"GroupByItemNode",groupBy:this.transformNode(e.groupBy)}}transformUpdateQuery(e){return{kind:"UpdateQueryNode",table:this.transformNode(e.table),from:this.transformNode(e.from),joins:this.transformNodeList(e.joins),where:this.transformNode(e.where),updates:this.transformNodeList(e.updates),returning:this.transformNode(e.returning),endModifiers:this.transformNodeList(e.endModifiers),with:this.transformNode(e.with),explain:this.transformNode(e.explain),limit:this.transformNode(e.limit),top:this.transformNode(e.top),output:this.transformNode(e.output)}}transformColumnUpdate(e){return{kind:"ColumnUpdateNode",column:this.transformNode(e.column),value:this.transformNode(e.value)}}transformLimit(e){return{kind:"LimitNode",limit:this.transformNode(e.limit)}}transformOffset(e){return{kind:"OffsetNode",offset:this.transformNode(e.offset)}}transformOnConflict(e){return{kind:"OnConflictNode",columns:this.transformNodeList(e.columns),constraint:this.transformNode(e.constraint),indexExpression:this.transformNode(e.indexExpression),indexWhere:this.transformNode(e.indexWhere),updates:this.transformNodeList(e.updates),updateWhere:this.transformNode(e.updateWhere),doNothing:e.doNothing}}transformOnDuplicateKey(e){return{kind:"OnDuplicateKeyNode",updates:this.transformNodeList(e.updates)}}transformCreateIndex(e){return{kind:"CreateIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists,where:this.transformNode(e.where),nullsNotDistinct:e.nullsNotDistinct}}transformList(e){return{kind:"ListNode",items:this.transformNodeList(e.items)}}transformDropIndex(e){return{kind:"DropIndexNode",name:this.transformNode(e.name),table:this.transformNode(e.table),ifExists:e.ifExists,cascade:e.cascade}}transformPrimaryKeyConstraint(e){return{kind:"PrimaryKeyConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name)}}transformUniqueConstraint(e){return{kind:"UniqueConstraintNode",columns:this.transformNodeList(e.columns),name:this.transformNode(e.name),nullsNotDistinct:e.nullsNotDistinct}}transformForeignKeyConstraint(e){return{kind:"ForeignKeyConstraintNode",columns:this.transformNodeList(e.columns),references:this.transformNode(e.references),name:this.transformNode(e.name),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformSetOperation(e){return{kind:"SetOperationNode",operator:e.operator,expression:this.transformNode(e.expression),all:e.all}}transformReferences(e){return{kind:"ReferencesNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns),onDelete:e.onDelete,onUpdate:e.onUpdate}}transformCheckConstraint(e){return{kind:"CheckConstraintNode",expression:this.transformNode(e.expression),name:this.transformNode(e.name)}}transformWith(e){return{kind:"WithNode",expressions:this.transformNodeList(e.expressions),recursive:e.recursive}}transformCommonTableExpression(e){return{kind:"CommonTableExpressionNode",name:this.transformNode(e.name),materialized:e.materialized,expression:this.transformNode(e.expression)}}transformCommonTableExpressionName(e){return{kind:"CommonTableExpressionNameNode",table:this.transformNode(e.table),columns:this.transformNodeList(e.columns)}}transformHaving(e){return{kind:"HavingNode",having:this.transformNode(e.having)}}transformCreateSchema(e){return{kind:"CreateSchemaNode",schema:this.transformNode(e.schema),ifNotExists:e.ifNotExists}}transformDropSchema(e){return{kind:"DropSchemaNode",schema:this.transformNode(e.schema),ifExists:e.ifExists,cascade:e.cascade}}transformAlterTable(e){return{kind:"AlterTableNode",table:this.transformNode(e.table),renameTo:this.transformNode(e.renameTo),setSchema:this.transformNode(e.setSchema),columnAlterations:this.transformNodeList(e.columnAlterations),addConstraint:this.transformNode(e.addConstraint),dropConstraint:this.transformNode(e.dropConstraint),addIndex:this.transformNode(e.addIndex),dropIndex:this.transformNode(e.dropIndex)}}transformDropColumn(e){return{kind:"DropColumnNode",column:this.transformNode(e.column)}}transformRenameColumn(e){return{kind:"RenameColumnNode",column:this.transformNode(e.column),renameTo:this.transformNode(e.renameTo)}}transformAlterColumn(e){return{kind:"AlterColumnNode",column:this.transformNode(e.column),dataType:this.transformNode(e.dataType),dataTypeExpression:this.transformNode(e.dataTypeExpression),setDefault:this.transformNode(e.setDefault),dropDefault:e.dropDefault,setNotNull:e.setNotNull,dropNotNull:e.dropNotNull}}transformModifyColumn(e){return{kind:"ModifyColumnNode",column:this.transformNode(e.column)}}transformAddConstraint(e){return{kind:"AddConstraintNode",constraint:this.transformNode(e.constraint)}}transformDropConstraint(e){return{kind:"DropConstraintNode",constraintName:this.transformNode(e.constraintName),ifExists:e.ifExists,modifier:e.modifier}}transformCreateView(e){return{kind:"CreateViewNode",name:this.transformNode(e.name),temporary:e.temporary,orReplace:e.orReplace,ifNotExists:e.ifNotExists,materialized:e.materialized,columns:this.transformNodeList(e.columns),as:this.transformNode(e.as)}}transformDropView(e){return{kind:"DropViewNode",name:this.transformNode(e.name),ifExists:e.ifExists,materialized:e.materialized,cascade:e.cascade}}transformGenerated(e){return{kind:"GeneratedNode",byDefault:e.byDefault,always:e.always,identity:e.identity,stored:e.stored,expression:this.transformNode(e.expression)}}transformDefaultValue(e){return{kind:"DefaultValueNode",defaultValue:this.transformNode(e.defaultValue)}}transformOn(e){return{kind:"OnNode",on:this.transformNode(e.on)}}transformSelectModifier(e){return{kind:"SelectModifierNode",modifier:e.modifier,rawModifier:this.transformNode(e.rawModifier),of:this.transformNodeList(e.of)}}transformCreateType(e){return{kind:"CreateTypeNode",name:this.transformNode(e.name),enum:this.transformNode(e.enum)}}transformDropType(e){return{kind:"DropTypeNode",name:this.transformNode(e.name),ifExists:e.ifExists}}transformExplain(e){return{kind:"ExplainNode",format:e.format,options:this.transformNode(e.options)}}transformSchemableIdentifier(e){return{kind:"SchemableIdentifierNode",schema:this.transformNode(e.schema),identifier:this.transformNode(e.identifier)}}transformAggregateFunction(e){return{kind:"AggregateFunctionNode",aggregated:this.transformNodeList(e.aggregated),distinct:e.distinct,orderBy:this.transformNode(e.orderBy),filter:this.transformNode(e.filter),func:e.func,over:this.transformNode(e.over)}}transformOver(e){return{kind:"OverNode",orderBy:this.transformNode(e.orderBy),partitionBy:this.transformNode(e.partitionBy)}}transformPartitionBy(e){return{kind:"PartitionByNode",items:this.transformNodeList(e.items)}}transformPartitionByItem(e){return{kind:"PartitionByItemNode",partitionBy:this.transformNode(e.partitionBy)}}transformBinaryOperation(e){return{kind:"BinaryOperationNode",leftOperand:this.transformNode(e.leftOperand),operator:this.transformNode(e.operator),rightOperand:this.transformNode(e.rightOperand)}}transformUnaryOperation(e){return{kind:"UnaryOperationNode",operator:this.transformNode(e.operator),operand:this.transformNode(e.operand)}}transformUsing(e){return{kind:"UsingNode",tables:this.transformNodeList(e.tables)}}transformFunction(e){return{kind:"FunctionNode",func:e.func,arguments:this.transformNodeList(e.arguments)}}transformCase(e){return{kind:"CaseNode",value:this.transformNode(e.value),when:this.transformNodeList(e.when),else:this.transformNode(e.else),isStatement:e.isStatement}}transformWhen(e){return{kind:"WhenNode",condition:this.transformNode(e.condition),result:this.transformNode(e.result)}}transformJSONReference(e){return{kind:"JSONReferenceNode",reference:this.transformNode(e.reference),traversal:this.transformNode(e.traversal)}}transformJSONPath(e){return{kind:"JSONPathNode",inOperator:this.transformNode(e.inOperator),pathLegs:this.transformNodeList(e.pathLegs)}}transformJSONPathLeg(e){return{kind:"JSONPathLegNode",type:e.type,value:e.value}}transformJSONOperatorChain(e){return{kind:"JSONOperatorChainNode",operator:this.transformNode(e.operator),values:this.transformNodeList(e.values)}}transformTuple(e){return{kind:"TupleNode",values:this.transformNodeList(e.values)}}transformMergeQuery(e){return{kind:"MergeQueryNode",into:this.transformNode(e.into),using:this.transformNode(e.using),whens:this.transformNodeList(e.whens),with:this.transformNode(e.with),top:this.transformNode(e.top),endModifiers:this.transformNodeList(e.endModifiers),output:this.transformNode(e.output)}}transformMatched(e){return{kind:"MatchedNode",not:e.not,bySource:e.bySource}}transformAddIndex(e){return{kind:"AddIndexNode",name:this.transformNode(e.name),columns:this.transformNodeList(e.columns),unique:e.unique,using:this.transformNode(e.using),ifNotExists:e.ifNotExists}}transformCast(e){return{kind:"CastNode",expression:this.transformNode(e.expression),dataType:this.transformNode(e.dataType)}}transformFetch(e){return{kind:"FetchNode",rowCount:this.transformNode(e.rowCount),modifier:e.modifier}}transformTop(e){return{kind:"TopNode",expression:e.expression,modifiers:e.modifiers}}transformOutput(e){return{kind:"OutputNode",selections:this.transformNodeList(e.selections)}}transformDataType(e){return e}transformSelectAll(e){return e}transformIdentifier(e){return e}transformValue(e){return e}transformPrimitiveValueList(e){return e}transformOperator(e){return e}transformDefaultInsertValue(e){return e}}const H$=R({AlterTableNode:!0,CreateIndexNode:!0,CreateSchemaNode:!0,CreateTableNode:!0,CreateTypeNode:!0,CreateViewNode:!0,DeleteQueryNode:!0,DropIndexNode:!0,DropSchemaNode:!0,DropTableNode:!0,DropTypeNode:!0,DropViewNode:!0,InsertQueryNode:!0,RawNode:!0,SelectQueryNode:!0,UpdateQueryNode:!0,MergeQueryNode:!0});class Q$ extends CC{#e;#t=new Set;#r=new Set;constructor(e){super(),this.#e=e}transformNodeImpl(e){if(!this.#n(e))return super.transformNodeImpl(e);const r=this.#s(e);for(const a of r)this.#r.add(a);const n=this.#i(e);for(const a of n)this.#t.add(a);const s=super.transformNodeImpl(e);for(const a of n)this.#t.delete(a);for(const a of r)this.#r.delete(a);return s}transformSchemableIdentifier(e){const r=super.transformSchemableIdentifier(e);return r.schema||!this.#t.has(e.identifier.name)?r:{...r,schema:Xr.create(this.#e)}}transformReferences(e){const r=super.transformReferences(e);return r.table.table.schema?r:{...r,table:Qa.createWithSchema(this.#e,r.table.table.identifier.name)}}#n(e){return e.kind in H$}#i(e){const r=new Set;if("name"in e&&e.name&&el.is(e.name)&&this.#a(e.name,r),"from"in e&&e.from)for(const n of e.from.froms)this.#o(n,r);if("into"in e&&e.into&&this.#o(e.into,r),"table"in e&&e.table&&this.#o(e.table,r),"joins"in e&&e.joins)for(const n of e.joins)this.#o(n.table,r);return"using"in e&&e.using&&this.#o(e.using,r),r}#s(e){const r=new Set;return"with"in e&&e.with&&this.#u(e.with,r),r}#o(e,r){const n=Qa.is(e)?e:ul.is(e)&&Qa.is(e.node)?e.node:null;n&&this.#a(n.table,r)}#a(e,r){const n=e.identifier.name;!this.#t.has(n)&&!this.#r.has(n)&&r.add(n)}#u(e,r){for(const n of e.expressions){const s=n.name.table.table.identifier.name;this.#r.has(s)||r.add(s)}}}class th{#e;constructor(e){this.#e=new Q$(e)}transformQuery(e){return this.#e.transformNode(e.node)}async transformResult(e){return e.result}}const K$=R({is(t){return t.kind==="MatchedNode"},create(t,e=!1){return R({kind:"MatchedNode",not:t,bySource:e})}});function lk(t,e,r){return Yf.create(Qm([K$.create(!t.isMatched,t.bySource),...e&&e.length>0?[e.length===3&&r?_o(e[0],e[1],e[2]):$n(e)]:[]],"and",!1))}function ef(t){return Zi(t)?Gn.create([t],[]):Pi(t)?t.toOperationNode():t}class uk{#e;#t;#r;constructor(){this.#e=new Promise((e,r)=>{this.#r=r,this.#t=e})}get promise(){return this.#e}resolve=e=>{this.#t&&this.#t(e)};reject=e=>{this.#r&&this.#r(e)}}const ck=new Set;function G$(t){ck.has(t)||(ck.add(t),console.log(t))}const J$=R([]);class TC{#e;constructor(e=J$){this.#e=e}get plugins(){return this.#e}transformQuery(e,r){for(const n of this.#e){const s=n.transformQuery({node:e,queryId:r});if(s.kind===e.kind)e=s;else throw new Error(["KyselyPlugin.transformQuery must return a node","of the same kind that was given to it.",`The plugin was given a ${e.kind}`,`but it returned a ${s.kind}`].join(" "))}return e}async executeQuery(e,r){return await this.provideConnection(async n=>{const s=await n.executeQuery(e),a=await this.#t(s,r);return Z$(s,a),a})}async *stream(e,r,n){const s=new uk,a=new uk;this.provideConnection(async u=>(s.resolve(u),await a.promise)).catch(u=>s.reject(u));const l=await s.promise;try{for await(const u of l.streamQuery(e,r))yield await this.#t(u,n)}finally{a.resolve()}}async #t(e,r){for(const n of this.#e)e=await n.transformResult({result:e,queryId:r});return e}}function Z$(t,e){const{numAffectedRows:r}=t;r===void 0&&t.numUpdatedOrDeletedRows===void 0||r!==void 0&&e.numAffectedRows!==void 0||G$("kysely:warning: outdated driver/plugin detected! QueryResult.numUpdatedOrDeletedRows is deprecated and will be removed in a future release.")}class Qu extends TC{get adapter(){throw new Error("this query cannot be compiled to SQL")}compileQuery(){throw new Error("this query cannot be compiled to SQL")}provideConnection(){throw new Error("this query cannot be executed")}withConnectionProvider(){throw new Error("this query cannot have a connection provider")}withPlugin(e){return new Qu([...this.plugins,e])}withPlugins(e){return new Qu([...this.plugins,...e])}withPluginAtFront(e){return new Qu([e,...this.plugins])}withoutPlugins(){return new Qu([])}}const By=new Qu;class Y${numChangedRows;constructor(e){this.numChangedRows=e}}class $l{#e;constructor(e){this.#e=R(e)}modifyEnd(e){return new $l({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}top(e,r){return new $l({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,jc(e,r))})}using(...e){return new Hi({...this.#e,queryNode:Ti.cloneWithUsing(this.#e.queryNode,ci("Using",e))})}output(e){return new $l({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,Ks(e))})}outputAll(e){return new $l({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,bo(e))})}}ur($l,"don't await MergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class Hi{#e;constructor(e){this.#e=R(e)}modifyEnd(e){return new Hi({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,e.toOperationNode())})}top(e,r){return new Hi({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,jc(e,r))})}whenMatched(){return this.#t([])}whenMatchedAnd(...e){return this.#t(e)}whenMatchedAndRef(e,r,n){return this.#t([e,r,n],!0)}#t(e,r){return new uw({...this.#e,queryNode:Ti.cloneWithWhen(this.#e.queryNode,lk({isMatched:!0},e,r))})}whenNotMatched(){return this.#r([])}whenNotMatchedAnd(...e){return this.#r(e)}whenNotMatchedAndRef(e,r,n){return this.#r([e,r,n],!0)}whenNotMatchedBySource(){return this.#r([],!1,!0)}whenNotMatchedBySourceAnd(...e){return this.#r(e,!1,!0)}whenNotMatchedBySourceAndRef(e,r,n){return this.#r([e,r,n],!0,!0)}output(e){return new Hi({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,Ks(e))})}outputAll(e){return new Hi({...this.#e,queryNode:Ct.cloneWithOutput(this.#e.queryNode,bo(e))})}#r(e,r=!1,n=!1){const s={...this.#e,queryNode:Ti.cloneWithWhen(this.#e.queryNode,lk({isMatched:!1,bySource:n},e,r))},a=n?uw:qC;return new a(s)}$call(e){return e(this)}$if(e,r){return e?r(this):new Hi({...this.#e})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile(),r=await this.#e.executor.executeQuery(e,this.#e.queryId);return e.query.output&&this.#e.executor.adapter.supportsOutput?r.rows:[new Y$(r.numAffectedRows)]}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Xf){const r=await this.executeTakeFirst();if(r===void 0)throw eh(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}}ur(Hi,"don't await WheneableMergeQueryBuilder instances directly. To execute the query you need to call `execute`.");class uw{#e;constructor(e){this.#e=R(e)}thenDelete(){return new Hi({...this.#e,queryNode:Ti.cloneWithThen(this.#e.queryNode,ef("delete"))})}thenDoNothing(){return new Hi({...this.#e,queryNode:Ti.cloneWithThen(this.#e.queryNode,ef("do nothing"))})}thenUpdate(e){return new Hi({...this.#e,queryNode:Ti.cloneWithThen(this.#e.queryNode,ef(e(new jr({queryId:this.#e.queryId,executor:By,queryNode:ac.createWithoutTable()}))))})}thenUpdateSet(...e){return this.thenUpdate(r=>r.set(...e))}}ur(uw,"don't await MatchedThenableMergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class qC{#e;constructor(e){this.#e=R(e)}thenDoNothing(){return new Hi({...this.#e,queryNode:Ti.cloneWithThen(this.#e.queryNode,ef("do nothing"))})}thenInsertValues(e){const[r,n]=NC(e);return new Hi({...this.#e,queryNode:Ti.cloneWithThen(this.#e.queryNode,ef($i.cloneWith($i.createWithoutInto(),{columns:r,values:n})))})}}ur(qC,"don't await NotMatchedThenableMergeQueryBuilder instances directly. To execute the query you need to call `execute` when available.");class ja{#e;constructor(e){this.#e=R(e)}selectFrom(e){return cw({queryId:Fr(),executor:this.#e.executor,queryNode:Ar.createFrom(Tf(e),this.#e.withNode)})}selectNoFrom(e){return cw({queryId:Fr(),executor:this.#e.executor,queryNode:Ar.cloneWithSelections(Ar.create(this.#e.withNode),Ks(e))})}insertInto(e){return new Jr({queryId:Fr(),executor:this.#e.executor,queryNode:$i.create(hn(e),this.#e.withNode)})}replaceInto(e){return new Jr({queryId:Fr(),executor:this.#e.executor,queryNode:$i.create(hn(e),this.#e.withNode,!0)})}deleteFrom(e){return new Rr({queryId:Fr(),executor:this.#e.executor,queryNode:Fl.create(Tf(e),this.#e.withNode)})}updateTable(e){return new jr({queryId:Fr(),executor:this.#e.executor,queryNode:ac.create(qf(e),this.#e.withNode)})}mergeInto(e){return new $l({queryId:Fr(),executor:this.#e.executor,queryNode:Ti.create(DC(e),this.#e.withNode)})}with(e,r){const n=ok(e,r);return new ja({...this.#e,withNode:this.#e.withNode?Rp.cloneWithExpression(this.#e.withNode,n):Rp.create(n)})}withRecursive(e,r){const n=ok(e,r);return new ja({...this.#e,withNode:this.#e.withNode?Rp.cloneWithExpression(this.#e.withNode,n):Rp.create(n,{recursive:!0})})}withPlugin(e){return new ja({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new ja({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new ja({...this.#e,executor:this.#e.executor.withPluginAtFront(new th(e))})}}function X$(){return new ja({executor:By})}function eW(t,e){return new oc({joinNode:Zd.create(t,qf(e))})}function tW(){return new If({overNode:lw.create()})}function ci(t,e){if(e.length===3)return nW(t,e[0],e[1],e[2]);if(e.length===2)return rW(t,e[0],e[1]);throw new Error("not implemented")}function rW(t,e,r){return r(eW(t,e)).toOperationNode()}function nW(t,e,r,n){return Zd.createWithOn(t,qf(e),_o(r,"=",n))}const iW=R({is(t){return t.kind==="OffsetNode"},create(t){return R({kind:"OffsetNode",offset:t})}}),sW=R({is(t){return t.kind==="GroupByItemNode"},create(t){return R({kind:"GroupByItemNode",groupBy:t})}});function oW(t){return t=ns(t)?t(Lc()):t,kf(t).map(sW.create)}const RC=R({is(t){return t.kind==="SetOperationNode"},create(t,e,r){return R({kind:"SetOperationNode",operator:t,expression:e,all:r})}});function Lu(t,e,r){return ns(e)&&(e=e(b0())),Yo(e)||(e=[e]),e.map(n=>RC.create(t,su(n),r))}class Lr{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new _0(this,e)}or(...e){return new Jm(Fc.create(this.#e,$n(e)))}and(...e){return new Zm(tl.create(this.#e,$n(e)))}$castTo(){return new Lr(this.#e)}$notNull(){return new Lr(this.#e)}toOperationNode(){return this.#e}}class _0{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return ul.create(this.#e.toOperationNode(),Pi(this.#t)?this.#t.toOperationNode():Xr.create(this.#t))}}class Jm{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new _0(this,e)}or(...e){return new Jm(Fc.create(this.#e,$n(e)))}$castTo(){return new Jm(this.#e)}toOperationNode(){return Sc.create(this.#e)}}class Zm{#e;constructor(e){this.#e=e}get expressionType(){}as(e){return new _0(this,e)}and(...e){return new Zm(tl.create(this.#e,$n(e)))}$castTo(){return new Zm(this.#e)}toOperationNode(){return Sc.create(this.#e)}}const aW={is(t){return t.kind==="FetchNode"},create(t,e){return{kind:"FetchNode",rowCount:vo.create(t),modifier:e}}};function lW(t,e){if(!Dy(t)&&!c0(t))throw new Error(`Invalid fetch row count: ${t}`);if(!uW(e))throw new Error(`Invalid fetch modifier: ${e}`);return aW.create(t,e)}function uW(t){return t==="only"||t==="with ties"}class Ht{#e;constructor(e){this.#e=R(e)}get expressionType(){}get isSelectQueryBuilder(){return!0}where(...e){return new Ht({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,$n(e))})}whereRef(e,r,n){return new Ht({...this.#e,queryNode:Ct.cloneWithWhere(this.#e.queryNode,_o(e,r,n))})}having(...e){return new Ht({...this.#e,queryNode:Ar.cloneWithHaving(this.#e.queryNode,$n(e))})}havingRef(e,r,n){return new Ht({...this.#e,queryNode:Ar.cloneWithHaving(this.#e.queryNode,_o(e,r,n))})}select(e){return new Ht({...this.#e,queryNode:Ar.cloneWithSelections(this.#e.queryNode,Ks(e))})}distinctOn(e){return new Ht({...this.#e,queryNode:Ar.cloneWithDistinctOn(this.#e.queryNode,kf(e))})}modifyFront(e){return new Ht({...this.#e,queryNode:Ar.cloneWithFrontModifier(this.#e.queryNode,Do.createWithExpression(e.toOperationNode()))})}modifyEnd(e){return new Ht({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,Do.createWithExpression(e.toOperationNode()))})}distinct(){return new Ht({...this.#e,queryNode:Ar.cloneWithFrontModifier(this.#e.queryNode,Do.create("Distinct"))})}forUpdate(e){return new Ht({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,Do.create("ForUpdate",e?qp(e).map(hn):void 0))})}forShare(e){return new Ht({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,Do.create("ForShare",e?qp(e).map(hn):void 0))})}forKeyShare(e){return new Ht({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,Do.create("ForKeyShare",e?qp(e).map(hn):void 0))})}forNoKeyUpdate(e){return new Ht({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,Do.create("ForNoKeyUpdate",e?qp(e).map(hn):void 0))})}skipLocked(){return new Ht({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,Do.create("SkipLocked"))})}noWait(){return new Ht({...this.#e,queryNode:Ct.cloneWithEndModifier(this.#e.queryNode,Do.create("NoWait"))})}selectAll(e){return new Ht({...this.#e,queryNode:Ar.cloneWithSelections(this.#e.queryNode,bo(e))})}innerJoin(...e){return new Ht({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,ci("InnerJoin",e))})}leftJoin(...e){return new Ht({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,ci("LeftJoin",e))})}rightJoin(...e){return new Ht({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,ci("RightJoin",e))})}fullJoin(...e){return new Ht({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,ci("FullJoin",e))})}innerJoinLateral(...e){return new Ht({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,ci("LateralInnerJoin",e))})}leftJoinLateral(...e){return new Ht({...this.#e,queryNode:Ct.cloneWithJoin(this.#e.queryNode,ci("LateralLeftJoin",e))})}orderBy(...e){return new Ht({...this.#e,queryNode:Ar.cloneWithOrderByItems(this.#e.queryNode,Zf(e))})}groupBy(e){return new Ht({...this.#e,queryNode:Ar.cloneWithGroupByItems(this.#e.queryNode,oW(e))})}limit(e){return new Ht({...this.#e,queryNode:Ar.cloneWithLimit(this.#e.queryNode,v0.create(wn(e)))})}offset(e){return new Ht({...this.#e,queryNode:Ar.cloneWithOffset(this.#e.queryNode,iW.create(wn(e)))})}fetch(e,r="only"){return new Ht({...this.#e,queryNode:Ar.cloneWithFetch(this.#e.queryNode,lW(e,r))})}top(e,r){return new Ht({...this.#e,queryNode:Ct.cloneWithTop(this.#e.queryNode,jc(e,r))})}union(e){return new Ht({...this.#e,queryNode:Ar.cloneWithSetOperations(this.#e.queryNode,Lu("union",e,!1))})}unionAll(e){return new Ht({...this.#e,queryNode:Ar.cloneWithSetOperations(this.#e.queryNode,Lu("union",e,!0))})}intersect(e){return new Ht({...this.#e,queryNode:Ar.cloneWithSetOperations(this.#e.queryNode,Lu("intersect",e,!1))})}intersectAll(e){return new Ht({...this.#e,queryNode:Ar.cloneWithSetOperations(this.#e.queryNode,Lu("intersect",e,!0))})}except(e){return new Ht({...this.#e,queryNode:Ar.cloneWithSetOperations(this.#e.queryNode,Lu("except",e,!1))})}exceptAll(e){return new Ht({...this.#e,queryNode:Ar.cloneWithSetOperations(this.#e.queryNode,Lu("except",e,!0))})}as(e){return new AC(this,e)}clearSelect(){return new Ht({...this.#e,queryNode:Ar.cloneWithoutSelections(this.#e.queryNode)})}clearWhere(){return new Ht({...this.#e,queryNode:Ct.cloneWithoutWhere(this.#e.queryNode)})}clearLimit(){return new Ht({...this.#e,queryNode:Ar.cloneWithoutLimit(this.#e.queryNode)})}clearOffset(){return new Ht({...this.#e,queryNode:Ar.cloneWithoutOffset(this.#e.queryNode)})}clearOrderBy(){return new Ht({...this.#e,queryNode:Ar.cloneWithoutOrderBy(this.#e.queryNode)})}clearGroupBy(){return new Ht({...this.#e,queryNode:Ar.cloneWithoutGroupBy(this.#e.queryNode)})}$call(e){return e(this)}$if(e,r){return e?r(this):new Ht({...this.#e})}$castTo(){return new Ht(this.#e)}$narrowType(){return new Ht(this.#e)}$assertType(){return new Ht(this.#e)}$asTuple(){return new Lr(this.toOperationNode())}withPlugin(e){return new Ht({...this.#e,executor:this.#e.executor.withPlugin(e)})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.queryNode,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){const e=this.compile();return(await this.#e.executor.executeQuery(e,this.#e.queryId)).rows}async executeTakeFirst(){const[e]=await this.execute();return e}async executeTakeFirstOrThrow(e=Xf){const r=await this.executeTakeFirst();if(r===void 0)throw eh(e)?new e(this.toOperationNode()):e(this.toOperationNode());return r}async *stream(e=100){const r=this.compile(),n=this.#e.executor.stream(r,e,this.#e.queryId);for await(const s of n)yield*s.rows}async explain(e,r){return await new Ht({...this.#e,queryNode:Ct.cloneWithExplain(this.#e.queryNode,e,r)}).execute()}}ur(Ht,"don't await SelectQueryBuilder instances directly. To execute the query you need to call `execute` or `executeTakeFirst`.");function cw(t){return new Ht(t)}class AC{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}get isAliasedSelectQueryBuilder(){return!0}toOperationNode(){return ul.create(this.#e.toOperationNode(),Xr.create(this.#t))}}ur(AC,"don't await AliasedSelectQueryBuilder instances directly. AliasedSelectQueryBuilder should never be executed directly since it's always a part of another query.");const La=R({is(t){return t.kind==="AggregateFunctionNode"},create(t,e=[]){return R({kind:"AggregateFunctionNode",func:t,aggregated:e})},cloneWithDistinct(t){return R({...t,distinct:!0})},cloneWithOrderBy(t,e){return R({...t,orderBy:t.orderBy?nl.cloneWithItems(t.orderBy,e):nl.create(e)})},cloneWithFilter(t,e){return R({...t,filter:t.filter?Oi.cloneWithOperation(t.filter,"And",e):Oi.create(e)})},cloneWithOrFilter(t,e){return R({...t,filter:t.filter?Oi.cloneWithOperation(t.filter,"Or",e):Oi.create(e)})},cloneWithOver(t,e){return R({...t,over:e})}}),dk=R({is(t){return t.kind==="FunctionNode"},create(t,e){return R({kind:"FunctionNode",func:t,arguments:e})}});class bs{#e;constructor(e){this.#e=R(e)}get expressionType(){}as(e){return new cW(this,e)}distinct(){return new bs({...this.#e,aggregateFunctionNode:La.cloneWithDistinct(this.#e.aggregateFunctionNode)})}orderBy(e,r){return new bs({...this.#e,aggregateFunctionNode:La.cloneWithOrderBy(this.#e.aggregateFunctionNode,Zf([e,r]))})}filterWhere(...e){return new bs({...this.#e,aggregateFunctionNode:La.cloneWithFilter(this.#e.aggregateFunctionNode,$n(e))})}filterWhereRef(e,r,n){return new bs({...this.#e,aggregateFunctionNode:La.cloneWithFilter(this.#e.aggregateFunctionNode,_o(e,r,n))})}over(e){const r=tW();return new bs({...this.#e,aggregateFunctionNode:La.cloneWithOver(this.#e.aggregateFunctionNode,(e?e(r):r).toOperationNode())})}$call(e){return e(this)}$castTo(){return new bs(this.#e)}$notNull(){return new bs(this.#e)}toOperationNode(){return this.#e.aggregateFunctionNode}}ur(bs,"don't await AggregateFunctionBuilder instances. They are never executed directly and are always just a part of a query.");class cW{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return ul.create(this.#e.toOperationNode(),Xr.create(this.#t))}}function PC(){const t=(r,n)=>new Lr(dk.create(r,kf(n??[]))),e=(r,n)=>new bs({aggregateFunctionNode:La.create(r,n?kf(n):void 0)});return Object.assign(t,{agg:e,avg(r){return e("avg",[r])},coalesce(...r){return t("coalesce",r)},count(r){return e("count",[r])},countAll(r){return new bs({aggregateFunctionNode:La.create("count",bo(r))})},max(r){return e("max",[r])},min(r){return e("min",[r])},sum(r){return e("sum",[r])},any(r){return t("any",[r])},jsonAgg(r){return new bs({aggregateFunctionNode:La.create("json_agg",[Zi(r)?hn(r):r.toOperationNode()])})},toJson(r){return new Lr(dk.create("to_json",[Zi(r)?hn(r):r.toOperationNode()]))}})}const dW=R({is(t){return t.kind==="UnaryOperationNode"},create(t,e){return R({kind:"UnaryOperationNode",operator:t,operand:e})}});function fW(t,e){return dW.create(rl.create(t),Vi(e))}const fo=R({is(t){return t.kind==="CaseNode"},create(t){return R({kind:"CaseNode",value:t})},cloneWithWhen(t,e){return R({...t,when:R(t.when?[...t.when,e]:[e])})},cloneWithThen(t,e){return R({...t,when:t.when?R([...t.when.slice(0,-1),Yf.cloneWithResult(t.when[t.when.length-1],e)]):void 0})},cloneWith(t,e){return R({...t,...e})}});class FC{#e;constructor(e){this.#e=R(e)}when(...e){return new jC({...this.#e,node:fo.cloneWithWhen(this.#e.node,Yf.create($n(e)))})}}class jC{#e;constructor(e){this.#e=R(e)}then(e){return new hW({...this.#e,node:fo.cloneWithThen(this.#e.node,p0(e)?m0(e):wn(e))})}}class hW{#e;constructor(e){this.#e=R(e)}when(...e){return new jC({...this.#e,node:fo.cloneWithWhen(this.#e.node,Yf.create($n(e)))})}else(e){return new pW({...this.#e,node:fo.cloneWith(this.#e.node,{else:p0(e)?m0(e):wn(e)})})}end(){return new Lr(fo.cloneWith(this.#e.node,{isStatement:!1}))}endCase(){return new Lr(fo.cloneWith(this.#e.node,{isStatement:!0}))}}class pW{#e;constructor(e){this.#e=R(e)}end(){return new Lr(fo.cloneWith(this.#e.node,{isStatement:!1}))}endCase(){return new Lr(fo.cloneWith(this.#e.node,{isStatement:!0}))}}const fk=R({is(t){return t.kind==="JSONPathLegNode"},create(t,e){return R({kind:"JSONPathLegNode",type:t,value:e})}});class dw{#e;constructor(e){this.#e=e}at(e){return this.#t("ArrayLocation",e)}key(e){return this.#t("Member",e)}#t(e,r){return Vm.is(this.#e)?new Cf(Vm.cloneWithTraversal(this.#e,Yd.is(this.#e.traversal)?Yd.cloneWithLeg(this.#e.traversal,fk.create(e,r)):bC.cloneWithValue(this.#e.traversal,vo.createImmediate(r)))):new Cf(Yd.cloneWithLeg(this.#e,fk.create(e,r)))}}class Cf extends dw{#e;constructor(e){super(e),this.#e=e}get expressionType(){}as(e){return new mW(this,e)}$castTo(){return new Cf(this.#e)}$notNull(){return new Cf(this.#e)}toOperationNode(){return this.#e}}class mW{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}toOperationNode(){return ul.create(this.#e.toOperationNode(),Pi(this.#t)?this.#t.toOperationNode():Xr.create(this.#t))}}const hk=R({is(t){return t.kind==="TupleNode"},create(t){return R({kind:"TupleNode",values:R(t)})}}),yW=["varchar","char","text","integer","int2","int4","int8","smallint","bigint","boolean","real","double precision","float4","float8","decimal","numeric","binary","bytea","date","datetime","time","timetz","timestamp","timestamptz","serial","bigserial","uuid","json","jsonb","blob","varbinary","int4range","int4multirange","int8range","int8multirange","numrange","nummultirange","tsrange","tsmultirange","tstzrange","tstzmultirange","daterange","datemultirange"],gW=[/^varchar\(\d+\)$/,/^char\(\d+\)$/,/^decimal\(\d+, \d+\)$/,/^numeric\(\d+, \d+\)$/,/^binary\(\d+\)$/,/^datetime\(\d+\)$/,/^time\(\d+\)$/,/^timetz\(\d+\)$/,/^timestamp\(\d+\)$/,/^timestamptz\(\d+\)$/,/^varbinary\(\d+\)$/],vW=R({is(t){return t.kind==="DataTypeNode"},create(t){return R({kind:"DataTypeNode",dataType:t})}});function _W(t){return!!(yW.includes(t)||gW.some(e=>e.test(t)))}function tu(t){if(Pi(t))return t.toOperationNode();if(_W(t))return vW.create(t);throw new Error(`invalid column data type ${JSON.stringify(t)}`)}const bW=R({is(t){return t.kind==="CastNode"},create(t,e){return R({kind:"CastNode",expression:t,dataType:e})}});function b0(t=By){function e(s,a,l){return new Lr(y0(s,a,l))}function r(s,a){return new Lr(fW(s,a))}const n=Object.assign(e,{fn:void 0,eb:void 0,selectFrom(s){return cw({queryId:Fr(),executor:t,queryNode:Ar.createFrom(Tf(s))})},case(s){return new FC({node:fo.create(Va(s)?void 0:Vi(s))})},ref(s,a){return Va(a)?new Lr(Xo(s)):new dw(b$(s,a))},jsonPath(){return new dw(Yd.create())},table(s){return new Lr(hn(s))},val(s){return new Lr(wn(s))},refTuple(...s){return new Lr(hk.create(s.map(Vi)))},tuple(...s){return new Lr(hk.create(s.map(wn)))},lit(s){return new Lr(m0(s))},unary:r,not(s){return r("not",s)},exists(s){return r("exists",s)},neg(s){return r("-",s)},between(s,a,l){return new Lr(xc.create(Vi(s),rl.create("between"),tl.create(wn(a),wn(l))))},betweenSymmetric(s,a,l){return new Lr(xc.create(Vi(s),rl.create("between symmetric"),tl.create(wn(a),wn(l))))},and(s){return Yo(s)?new Lr(Qm(s,"and")):new Lr(G1(s,"and"))},or(s){return Yo(s)?new Lr(Qm(s,"or")):new Lr(G1(s,"or"))},parens(...s){const a=$n(s);return Sc.is(a)?new Lr(a):new Lr(Sc.create(a))},cast(s,a){return new Lr(bW.create(Vi(s),tu(a)))},withSchema(s){return b0(t.withPluginAtFront(new th(s)))}});return n.fn=PC(),n.eb=n,n}function Lc(t){return b0()}function su(t){if(Pi(t))return t.toOperationNode();if(ns(t))return t(Lc()).toOperationNode();throw new Error(`invalid expression: ${JSON.stringify(t)}`)}function LC(t){if(Pi(t))return t.toOperationNode();if(ns(t))return t(Lc()).toOperationNode();throw new Error(`invalid aliased expression: ${JSON.stringify(t)}`)}function rh(t){return c$(t)||d$(t)||ns(t)}function Tf(t){return Yo(t)?t.map(e=>qf(e)):[qf(t)]}function qf(t){return Zi(t)?DC(t):LC(t)}function DC(t){const e=" as ";if(t.includes(e)){const[r,n]=t.split(e).map(MC);return ul.create(hn(r),Xr.create(n))}else return hn(t)}function hn(t){const e=".";if(t.includes(e)){const[r,n]=t.split(e).map(MC);return Qa.createWithSchema(r,n)}else return Qa.create(t)}function MC(t){return t.trim()}const BC=R({is(t){return t.kind==="AddColumnNode"},create(t){return R({kind:"AddColumnNode",column:t})}}),Zr=R({is(t){return t.kind==="ColumnDefinitionNode"},create(t,e){return R({kind:"ColumnDefinitionNode",column:yn.create(t),dataType:e})},cloneWithFrontModifier(t,e){return R({...t,frontModifiers:t.frontModifiers?R([...t.frontModifiers,e]):[e]})},cloneWithEndModifier(t,e){return R({...t,endModifiers:t.endModifiers?R([...t.endModifiers,e]):[e]})},cloneWith(t,e){return R({...t,...e})}}),$C=R({is(t){return t.kind==="DropColumnNode"},create(t){return R({kind:"DropColumnNode",column:yn.create(t)})}}),WC=R({is(t){return t.kind==="RenameColumnNode"},create(t,e){return R({kind:"RenameColumnNode",column:yn.create(t),renameTo:yn.create(e)})}}),w0=R({is(t){return t.kind==="CheckConstraintNode"},create(t,e){return R({kind:"CheckConstraintNode",expression:t,name:e?Xr.create(e):void 0})}}),wW=["no action","restrict","cascade","set null","set default"],tm=R({is(t){return t.kind==="ReferencesNode"},create(t,e){return R({kind:"ReferencesNode",table:t,columns:R([...e])})},cloneWithOnDelete(t,e){return R({...t,onDelete:e})},cloneWithOnUpdate(t,e){return R({...t,onUpdate:e})}});function zC(t){return Pi(t)?t.toOperationNode():vo.createImmediate(t)}const Ap=R({is(t){return t.kind==="GeneratedNode"},create(t){return R({kind:"GeneratedNode",...t})},createWithExpression(t){return R({kind:"GeneratedNode",always:!0,expression:t})},cloneWith(t,e){return R({...t,...e})}}),xW=R({is(t){return t.kind==="DefaultValueNode"},create(t){return R({kind:"DefaultValueNode",defaultValue:t})}});function Ym(t){if(wW.includes(t))return t;throw new Error(`invalid OnModifyForeignAction ${t}`)}class Ur{#e;constructor(e){this.#e=e}autoIncrement(){return new Ur(Zr.cloneWith(this.#e,{autoIncrement:!0}))}identity(){return new Ur(Zr.cloneWith(this.#e,{identity:!0}))}primaryKey(){return new Ur(Zr.cloneWith(this.#e,{primaryKey:!0}))}references(e){const r=Xo(e);if(!r.table||d0.is(r.column))throw new Error(`invalid call references('${e}'). The reference must have format table.column or schema.table.column`);return new Ur(Zr.cloneWith(this.#e,{references:tm.create(r.table,[r.column])}))}onDelete(e){if(!this.#e.references)throw new Error("on delete constraint can only be added for foreign keys");return new Ur(Zr.cloneWith(this.#e,{references:tm.cloneWithOnDelete(this.#e.references,Ym(e))}))}onUpdate(e){if(!this.#e.references)throw new Error("on update constraint can only be added for foreign keys");return new Ur(Zr.cloneWith(this.#e,{references:tm.cloneWithOnUpdate(this.#e.references,Ym(e))}))}unique(){return new Ur(Zr.cloneWith(this.#e,{unique:!0}))}notNull(){return new Ur(Zr.cloneWith(this.#e,{notNull:!0}))}unsigned(){return new Ur(Zr.cloneWith(this.#e,{unsigned:!0}))}defaultTo(e){return new Ur(Zr.cloneWith(this.#e,{defaultTo:xW.create(zC(e))}))}check(e){return new Ur(Zr.cloneWith(this.#e,{check:w0.create(e.toOperationNode())}))}generatedAlwaysAs(e){return new Ur(Zr.cloneWith(this.#e,{generated:Ap.createWithExpression(e.toOperationNode())}))}generatedAlwaysAsIdentity(){return new Ur(Zr.cloneWith(this.#e,{generated:Ap.create({identity:!0,always:!0})}))}generatedByDefaultAsIdentity(){return new Ur(Zr.cloneWith(this.#e,{generated:Ap.create({identity:!0,byDefault:!0})}))}stored(){if(!this.#e.generated)throw new Error("stored() can only be called after generatedAlwaysAs");return new Ur(Zr.cloneWith(this.#e,{generated:Ap.cloneWith(this.#e.generated,{stored:!0})}))}modifyFront(e){return new Ur(Zr.cloneWithFrontModifier(this.#e,e.toOperationNode()))}nullsNotDistinct(){return new Ur(Zr.cloneWith(this.#e,{nullsNotDistinct:!0}))}ifNotExists(){return new Ur(Zr.cloneWith(this.#e,{ifNotExists:!0}))}modifyEnd(e){return new Ur(Zr.cloneWithEndModifier(this.#e,e.toOperationNode()))}$call(e){return e(this)}toOperationNode(){return this.#e}}ur(Ur,"don't await ColumnDefinitionBuilder instances directly.");const UC=R({is(t){return t.kind==="ModifyColumnNode"},create(t){return R({kind:"ModifyColumnNode",column:t})}}),Xm=R({is(t){return t.kind==="ForeignKeyConstraintNode"},create(t,e,r,n){return R({kind:"ForeignKeyConstraintNode",columns:t,references:tm.create(e,r),name:n?Xr.create(n):void 0})},cloneWith(t,e){return R({...t,...e})}});class Ec{#e;constructor(e){this.#e=e}onDelete(e){return new Ec(Xm.cloneWith(this.#e,{onDelete:Ym(e)}))}onUpdate(e){return new Ec(Xm.cloneWith(this.#e,{onUpdate:Ym(e)}))}$call(e){return e(this)}toOperationNode(){return this.#e}}ur(Ec,"don't await ForeignKeyConstraintBuilder instances directly.");const rm=R({is(t){return t.kind==="AddConstraintNode"},create(t){return R({kind:"AddConstraintNode",constraint:t})}}),x0=R({is(t){return t.kind==="UniqueConstraintNode"},create(t,e,r){return R({kind:"UniqueConstraintNode",columns:R(t.map(yn.create)),name:e?Xr.create(e):void 0,nullsNotDistinct:r})},cloneWith(t,e){return R({...t,...e})}}),nm=R({is(t){return t.kind==="DropConstraintNode"},create(t){return R({kind:"DropConstraintNode",constraintName:Xr.create(t)})},cloneWith(t,e){return R({...t,...e})}}),qd=R({is(t){return t.kind==="AlterColumnNode"},create(t,e,r){return R({kind:"AlterColumnNode",column:yn.create(t),[e]:r})}});class S0{#e;constructor(e){this.#e=e}setDataType(e){return new Wu(qd.create(this.#e,"dataType",tu(e)))}setDefault(e){return new Wu(qd.create(this.#e,"setDefault",zC(e)))}dropDefault(){return new Wu(qd.create(this.#e,"dropDefault",!0))}setNotNull(){return new Wu(qd.create(this.#e,"setNotNull",!0))}dropNotNull(){return new Wu(qd.create(this.#e,"dropNotNull",!0))}$call(e){return e(this)}}ur(S0,"don't await AlterColumnBuilder instances");class Wu{#e;constructor(e){this.#e=e}toOperationNode(){return this.#e}}ur(Wu,"don't await AlteredColumnBuilder instances");class Pl{#e;constructor(e){this.#e=R(e)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}ur(Pl,"don't await AlterTableExecutor instances directly. To execute the query you need to call `execute`");class Rf{#e;constructor(e){this.#e=R(e)}onDelete(e){return new Rf({...this.#e,constraintBuilder:this.#e.constraintBuilder.onDelete(e)})}onUpdate(e){return new Rf({...this.#e,constraintBuilder:this.#e.constraintBuilder.onUpdate(e)})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(Pr.cloneWithTableProps(this.#e.node,{addConstraint:rm.create(this.#e.constraintBuilder.toOperationNode())}),this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}ur(Rf,"don't await AlterTableAddForeignKeyConstraintBuilder instances directly. To execute the query you need to call `execute`");class uc{#e;constructor(e){this.#e=R(e)}ifExists(){return new uc({...this.#e,node:Pr.cloneWithTableProps(this.#e.node,{dropConstraint:nm.cloneWith(this.#e.node.dropConstraint,{ifExists:!0})})})}cascade(){return new uc({...this.#e,node:Pr.cloneWithTableProps(this.#e.node,{dropConstraint:nm.cloneWith(this.#e.node.dropConstraint,{modifier:"cascade"})})})}restrict(){return new uc({...this.#e,node:Pr.cloneWithTableProps(this.#e.node,{dropConstraint:nm.cloneWith(this.#e.node.dropConstraint,{modifier:"restrict"})})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}ur(uc,"don't await AlterTableDropConstraintBuilder instances directly. To execute the query you need to call `execute`");const VC=R({is(t){return t.kind==="PrimaryKeyConstraintNode"},create(t,e){return R({kind:"PrimaryKeyConstraintNode",columns:R(t.map(yn.create)),name:e?Xr.create(e):void 0})}}),zu=R({is(t){return t.kind==="AddIndexNode"},create(t){return R({kind:"AddIndexNode",name:Xr.create(t)})},cloneWith(t,e){return R({...t,...e})},cloneWithColumns(t,e){return R({...t,columns:[...t.columns||[],...e]})}});class Da{#e;constructor(e){this.#e=R(e)}unique(){return new Da({...this.#e,node:Pr.cloneWithTableProps(this.#e.node,{addIndex:zu.cloneWith(this.#e.node.addIndex,{unique:!0})})})}column(e){return new Da({...this.#e,node:Pr.cloneWithTableProps(this.#e.node,{addIndex:zu.cloneWithColumns(this.#e.node.addIndex,[Hm(e)])})})}columns(e){return new Da({...this.#e,node:Pr.cloneWithTableProps(this.#e.node,{addIndex:zu.cloneWithColumns(this.#e.node.addIndex,e.map(Hm))})})}expression(e){return new Da({...this.#e,node:Pr.cloneWithTableProps(this.#e.node,{addIndex:zu.cloneWithColumns(this.#e.node.addIndex,[e.toOperationNode()])})})}using(e){return new Da({...this.#e,node:Pr.cloneWithTableProps(this.#e.node,{addIndex:zu.cloneWith(this.#e.node.addIndex,{using:Gn.createWithSql(e)})})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}ur(Da,"don't await AlterTableAddIndexBuilder instances directly. To execute the query you need to call `execute`");class nh{#e;constructor(e){this.#e=e}toOperationNode(){return this.#e}nullsNotDistinct(){return new nh(x0.cloneWith(this.#e,{nullsNotDistinct:!0}))}}ur(nh,"don't await UniqueConstraintNodeBuilder instances directly.");class HC{#e;constructor(e){this.#e=R(e)}renameTo(e){return new Pl({...this.#e,node:Pr.cloneWithTableProps(this.#e.node,{renameTo:hn(e)})})}setSchema(e){return new Pl({...this.#e,node:Pr.cloneWithTableProps(this.#e.node,{setSchema:Xr.create(e)})})}alterColumn(e,r){const n=r(new S0(e));return new ws({...this.#e,node:Pr.cloneWithColumnAlteration(this.#e.node,n.toOperationNode())})}dropColumn(e){return new ws({...this.#e,node:Pr.cloneWithColumnAlteration(this.#e.node,$C.create(e))})}renameColumn(e,r){return new ws({...this.#e,node:Pr.cloneWithColumnAlteration(this.#e.node,WC.create(e,r))})}addColumn(e,r,n=Ha){const s=n(new Ur(Zr.create(e,tu(r))));return new ws({...this.#e,node:Pr.cloneWithColumnAlteration(this.#e.node,BC.create(s.toOperationNode()))})}modifyColumn(e,r,n=Ha){const s=n(new Ur(Zr.create(e,tu(r))));return new ws({...this.#e,node:Pr.cloneWithColumnAlteration(this.#e.node,UC.create(s.toOperationNode()))})}addUniqueConstraint(e,r,n=Ha){const s=n(new nh(x0.create(r,e)));return new Pl({...this.#e,node:Pr.cloneWithTableProps(this.#e.node,{addConstraint:rm.create(s.toOperationNode())})})}addCheckConstraint(e,r){return new Pl({...this.#e,node:Pr.cloneWithTableProps(this.#e.node,{addConstraint:rm.create(w0.create(r.toOperationNode(),e))})})}addForeignKeyConstraint(e,r,n,s){return new Rf({...this.#e,constraintBuilder:new Ec(Xm.create(r.map(yn.create),hn(n),s.map(yn.create),e))})}addPrimaryKeyConstraint(e,r){return new Pl({...this.#e,node:Pr.cloneWithTableProps(this.#e.node,{addConstraint:rm.create(VC.create(r,e))})})}dropConstraint(e){return new uc({...this.#e,node:Pr.cloneWithTableProps(this.#e.node,{dropConstraint:nm.create(e)})})}addIndex(e){return new Da({...this.#e,node:Pr.cloneWithTableProps(this.#e.node,{addIndex:zu.create(e)})})}dropIndex(e){return new Pl({...this.#e,node:Pr.cloneWithTableProps(this.#e.node,{dropIndex:Jd.create(e)})})}$call(e){return e(this)}}ur(HC,"don't await AlterTableBuilder instances");class ws{#e;constructor(e){this.#e=R(e)}alterColumn(e,r){const n=r(new S0(e));return new ws({...this.#e,node:Pr.cloneWithColumnAlteration(this.#e.node,n.toOperationNode())})}dropColumn(e){return new ws({...this.#e,node:Pr.cloneWithColumnAlteration(this.#e.node,$C.create(e))})}renameColumn(e,r){return new ws({...this.#e,node:Pr.cloneWithColumnAlteration(this.#e.node,WC.create(e,r))})}addColumn(e,r,n=Ha){const s=n(new Ur(Zr.create(e,tu(r))));return new ws({...this.#e,node:Pr.cloneWithColumnAlteration(this.#e.node,BC.create(s.toOperationNode()))})}modifyColumn(e,r,n=Ha){const s=n(new Ur(Zr.create(e,tu(r))));return new ws({...this.#e,node:Pr.cloneWithColumnAlteration(this.#e.node,UC.create(s.toOperationNode()))})}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}ur(ws,"don't await AlterTableColumnAlteringBuilder instances directly. To execute the query you need to call `execute`");class QC extends CC{transformValue(e){return{...super.transformValue(e),immediate:!0}}}class vs{#e;constructor(e){this.#e=R(e)}ifNotExists(){return new vs({...this.#e,node:$o.cloneWith(this.#e.node,{ifNotExists:!0})})}unique(){return new vs({...this.#e,node:$o.cloneWith(this.#e.node,{unique:!0})})}nullsNotDistinct(){return new vs({...this.#e,node:$o.cloneWith(this.#e.node,{nullsNotDistinct:!0})})}on(e){return new vs({...this.#e,node:$o.cloneWith(this.#e.node,{table:hn(e)})})}column(e){return new vs({...this.#e,node:$o.cloneWithColumns(this.#e.node,[Hm(e)])})}columns(e){return new vs({...this.#e,node:$o.cloneWithColumns(this.#e.node,e.map(Hm))})}expression(e){return new vs({...this.#e,node:$o.cloneWithColumns(this.#e.node,[e.toOperationNode()])})}using(e){return new vs({...this.#e,node:$o.cloneWith(this.#e.node,{using:Gn.createWithSql(e)})})}where(...e){const r=new QC;return new vs({...this.#e,node:Ct.cloneWithWhere(this.#e.node,r.transformNode($n(e)))})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}ur(vs,"don't await CreateIndexBuilder instances directly. To execute the query you need to call `execute`");class $y{#e;constructor(e){this.#e=R(e)}ifNotExists(){return new $y({...this.#e,node:mC.cloneWith(this.#e.node,{ifNotExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}ur($y,"don't await CreateSchemaBuilder instances directly. To execute the query you need to call `execute`");function SW(t){if(u$.includes(t))return t;throw new Error(`invalid OnCommitAction ${t}`)}class Ni{#e;constructor(e){this.#e=R(e)}temporary(){return new Ni({...this.#e,node:Di.cloneWith(this.#e.node,{temporary:!0})})}onCommit(e){return new Ni({...this.#e,node:Di.cloneWith(this.#e.node,{onCommit:SW(e)})})}ifNotExists(){return new Ni({...this.#e,node:Di.cloneWith(this.#e.node,{ifNotExists:!0})})}addColumn(e,r,n=Ha){const s=n(new Ur(Zr.create(e,tu(r))));return new Ni({...this.#e,node:Di.cloneWithColumn(this.#e.node,s.toOperationNode())})}addPrimaryKeyConstraint(e,r){return new Ni({...this.#e,node:Di.cloneWithConstraint(this.#e.node,VC.create(r,e))})}addUniqueConstraint(e,r,n=Ha){const s=n(new nh(x0.create(r,e)));return new Ni({...this.#e,node:Di.cloneWithConstraint(this.#e.node,s.toOperationNode())})}addCheckConstraint(e,r){return new Ni({...this.#e,node:Di.cloneWithConstraint(this.#e.node,w0.create(r.toOperationNode(),e))})}addForeignKeyConstraint(e,r,n,s,a=Ha){const l=a(new Ec(Xm.create(r.map(yn.create),hn(n),s.map(yn.create),e)));return new Ni({...this.#e,node:Di.cloneWithConstraint(this.#e.node,l.toOperationNode())})}modifyFront(e){return new Ni({...this.#e,node:Di.cloneWithFrontModifier(this.#e.node,e.toOperationNode())})}modifyEnd(e){return new Ni({...this.#e,node:Di.cloneWithEndModifier(this.#e.node,e.toOperationNode())})}as(e){return new Ni({...this.#e,node:Di.cloneWith(this.#e.node,{selectQuery:su(e)})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}ur(Ni,"don't await CreateTableBuilder instances directly. To execute the query you need to call `execute`");class cc{#e;constructor(e){this.#e=R(e)}on(e){return new cc({...this.#e,node:Jd.cloneWith(this.#e.node,{table:hn(e)})})}ifExists(){return new cc({...this.#e,node:Jd.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new cc({...this.#e,node:Jd.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}ur(cc,"don't await DropIndexBuilder instances directly. To execute the query you need to call `execute`");class Af{#e;constructor(e){this.#e=R(e)}ifExists(){return new Af({...this.#e,node:iw.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new Af({...this.#e,node:iw.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}ur(Af,"don't await DropSchemaBuilder instances directly. To execute the query you need to call `execute`");class Pf{#e;constructor(e){this.#e=R(e)}ifExists(){return new Pf({...this.#e,node:sw.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new Pf({...this.#e,node:sw.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}ur(Pf,"don't await DropTableBuilder instances directly. To execute the query you need to call `execute`");const Ra=R({is(t){return t.kind==="CreateViewNode"},create(t){return R({kind:"CreateViewNode",name:el.create(t)})},cloneWith(t,e){return R({...t,...e})}});class EW{#e=new QC;transformQuery(e){return this.#e.transformNode(e.node)}transformResult(e){return Promise.resolve(e.result)}}class Uo{#e;constructor(e){this.#e=R(e)}temporary(){return new Uo({...this.#e,node:Ra.cloneWith(this.#e.node,{temporary:!0})})}materialized(){return new Uo({...this.#e,node:Ra.cloneWith(this.#e.node,{materialized:!0})})}ifNotExists(){return new Uo({...this.#e,node:Ra.cloneWith(this.#e.node,{ifNotExists:!0})})}orReplace(){return new Uo({...this.#e,node:Ra.cloneWith(this.#e.node,{orReplace:!0})})}columns(e){return new Uo({...this.#e,node:Ra.cloneWith(this.#e.node,{columns:e.map(xC)})})}as(e){const r=e.withPlugin(new EW).toOperationNode();return new Uo({...this.#e,node:Ra.cloneWith(this.#e.node,{as:r})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}ur(Uo,"don't await CreateViewBuilder instances directly. To execute the query you need to call `execute`");const im=R({is(t){return t.kind==="DropViewNode"},create(t){return R({kind:"DropViewNode",name:el.create(t)})},cloneWith(t,e){return R({...t,...e})}});class dc{#e;constructor(e){this.#e=R(e)}materialized(){return new dc({...this.#e,node:im.cloneWith(this.#e.node,{materialized:!0})})}ifExists(){return new dc({...this.#e,node:im.cloneWith(this.#e.node,{ifExists:!0})})}cascade(){return new dc({...this.#e,node:im.cloneWith(this.#e.node,{cascade:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}ur(dc,"don't await DropViewBuilder instances directly. To execute the query you need to call `execute`");const KC=R({is(t){return t.kind==="CreateTypeNode"},create(t){return R({kind:"CreateTypeNode",name:t})},cloneWithEnum(t,e){return R({...t,enum:h0.create(e.map(r=>vo.createImmediate(r)))})}});class Wy{#e;constructor(e){this.#e=R(e)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}asEnum(e){return new Wy({...this.#e,node:KC.cloneWithEnum(this.#e.node,e)})}$call(e){return e(this)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}ur(Wy,"don't await CreateTypeBuilder instances directly. To execute the query you need to call `execute`");const GC=R({is(t){return t.kind==="DropTypeNode"},create(t){return R({kind:"DropTypeNode",name:t})},cloneWith(t,e){return R({...t,...e})}});class zy{#e;constructor(e){this.#e=R(e)}ifExists(){return new zy({...this.#e,node:GC.cloneWith(this.#e.node,{ifExists:!0})})}$call(e){return e(this)}toOperationNode(){return this.#e.executor.transformQuery(this.#e.node,this.#e.queryId)}compile(){return this.#e.executor.compileQuery(this.toOperationNode(),this.#e.queryId)}async execute(){await this.#e.executor.executeQuery(this.compile(),this.#e.queryId)}}ur(zy,"don't await DropTypeBuilder instances directly. To execute the query you need to call `execute`");function pk(t){const e=".";if(t.includes(e)){const r=t.split(e).map(NW);if(r.length===2)return el.createWithSchema(r[0],r[1]);throw new Error(`invalid schemable identifier ${t}`)}else return el.create(t)}function NW(t){return t.trim()}class tf{#e;constructor(e){this.#e=e}createTable(e){return new Ni({queryId:Fr(),executor:this.#e,node:Di.create(hn(e))})}dropTable(e){return new Pf({queryId:Fr(),executor:this.#e,node:sw.create(hn(e))})}createIndex(e){return new vs({queryId:Fr(),executor:this.#e,node:$o.create(e)})}dropIndex(e){return new cc({queryId:Fr(),executor:this.#e,node:Jd.create(e)})}createSchema(e){return new $y({queryId:Fr(),executor:this.#e,node:mC.create(e)})}dropSchema(e){return new Af({queryId:Fr(),executor:this.#e,node:iw.create(e)})}alterTable(e){return new HC({queryId:Fr(),executor:this.#e,node:Pr.create(hn(e))})}createView(e){return new Uo({queryId:Fr(),executor:this.#e,node:Ra.create(e)})}dropView(e){return new dc({queryId:Fr(),executor:this.#e,node:im.create(e)})}createType(e){return new Wy({queryId:Fr(),executor:this.#e,node:KC.create(pk(e))})}dropType(e){return new zy({queryId:Fr(),executor:this.#e,node:GC.create(pk(e))})}withPlugin(e){return new tf(this.#e.withPlugin(e))}withoutPlugins(){return new tf(this.#e.withoutPlugins())}withSchema(e){return new tf(this.#e.withPluginAtFront(new th(e)))}}class kW{ref(e){return new v$(e)}}class IW{#e;constructor(e){this.#e=e}async provideConnection(e){const r=await this.#e.acquireConnection();try{return await e(r)}finally{await this.#e.releaseConnection(r)}}}class jl extends TC{#e;#t;#r;constructor(e,r,n,s=[]){super(s),this.#e=e,this.#t=r,this.#r=n}get adapter(){return this.#t}compileQuery(e){return this.#e.compileQuery(e)}provideConnection(e){return this.#r.provideConnection(e)}withPlugins(e){return new jl(this.#e,this.#t,this.#r,[...this.plugins,...e])}withPlugin(e){return new jl(this.#e,this.#t,this.#r,[...this.plugins,e])}withPluginAtFront(e){return new jl(this.#e,this.#t,this.#r,[e,...this.plugins])}withConnectionProvider(e){return new jl(this.#e,this.#t,e,[...this.plugins])}withoutPlugins(){return new jl(this.#e,this.#t,this.#r,[])}}function mk(){return typeof performance<"u"&&ns(performance.now)?performance.now():Date.now()}class OW{#e;#t;#r;#n;#i;#s=new WeakSet;constructor(e,r){this.#n=!1,this.#e=e,this.#t=r}async init(){if(this.#i)throw new Error("driver has already been destroyed");this.#r||(this.#r=this.#e.init().then(()=>{this.#n=!0}).catch(e=>(this.#r=void 0,Promise.reject(e)))),await this.#r}async acquireConnection(){if(this.#i)throw new Error("driver has already been destroyed");this.#n||await this.init();const e=await this.#e.acquireConnection();return this.#s.has(e)||(this.#o()&&this.#a(e),this.#s.add(e)),e}async releaseConnection(e){await this.#e.releaseConnection(e)}beginTransaction(e,r){return this.#e.beginTransaction(e,r)}commitTransaction(e){return this.#e.commitTransaction(e)}rollbackTransaction(e){return this.#e.rollbackTransaction(e)}async destroy(){this.#r&&(await this.#r,this.#i||(this.#i=this.#e.destroy().catch(e=>(this.#i=void 0,Promise.reject(e)))),await this.#i)}#o(){return this.#t.isLevelEnabled("query")||this.#t.isLevelEnabled("error")}#a(e){const r=e.executeQuery;e.executeQuery=async n=>{let s;const a=mk();try{return await r.call(e,n)}catch(l){throw s=l,await this.#u(l,n,a),l}finally{s||await this.#l(n,a)}}}async #u(e,r,n){await this.#t.error(()=>({level:"error",error:e,query:r,queryDurationMillis:this.#c(n)}))}async #l(e,r){await this.#t.query(()=>({level:"query",query:e,queryDurationMillis:this.#c(r)}))}#c(e){return mk()-e}}const CW=()=>{};class JC{#e;#t;constructor(e){this.#e=e}async provideConnection(e){for(;this.#t;)await this.#t.catch(CW);return this.#t=this.#r(e).finally(()=>{this.#t=void 0}),this.#t}async #r(e){return await e(this.#e)}}const TW=["read uncommitted","read committed","repeatable read","serializable","snapshot"];R(["query","error"]);class qW{#e;#t;constructor(e){ns(e)?(this.#t=e,this.#e=R({query:!0,error:!0})):(this.#t=RW,this.#e=R({query:e.includes("query"),error:e.includes("error")}))}isLevelEnabled(e){return this.#e[e]}async query(e){this.#e.query&&await this.#t(e())}async error(e){this.#e.error&&await this.#t(e())}}function RW(t){t.level==="query"?(console.log(`kysely:query: ${t.query.sql}`),console.log(`kysely:query: duration: ${t.queryDurationMillis.toFixed(1)}ms`)):t.level==="error"&&(t.error instanceof Error?console.error(`kysely:error: ${t.error.stack??t.error.message}`):console.error(`kysely:error: ${JSON.stringify({error:t.error,query:t.query.sql,queryDurationMillis:t.queryDurationMillis})}`))}function AW(t){return uo(t)&&ns(t.compile)}class Ba extends ja{#e;constructor(e){let r,n;if(PW(e))r={executor:e.executor},n={...e};else{const s=e.dialect,a=s.createDriver(),l=s.createQueryCompiler(),u=s.createAdapter(),d=new qW(e.log??[]),m=new OW(a,d),g=new IW(m),w=new jl(l,u,g,e.plugins??[]);r={executor:w},n={config:e,executor:w,dialect:s,driver:m}}super(r),this.#e=R(n)}get schema(){return new tf(this.#e.executor)}get dynamic(){return new kW}get introspection(){return this.#e.dialect.createIntrospector(this.withoutPlugins())}case(e){return new FC({node:fo.create(Va(e)?void 0:su(e))})}get fn(){return PC()}transaction(){return new Uy({...this.#e})}connection(){return new ZC({...this.#e})}withPlugin(e){return new Ba({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new Ba({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new Ba({...this.#e,executor:this.#e.executor.withPluginAtFront(new th(e))})}withTables(){return new Ba({...this.#e})}async destroy(){await this.#e.driver.destroy()}get isTransaction(){return!1}getExecutor(){return this.#e.executor}executeQuery(e,r=Fr()){const n=AW(e)?e.compile():e;return this.getExecutor().executeQuery(n,r)}}class Ku extends Ba{#e;constructor(e){super(e),this.#e=e}get isTransaction(){return!0}transaction(){throw new Error("calling the transaction method for a Transaction is not supported")}connection(){throw new Error("calling the connection method for a Transaction is not supported")}async destroy(){throw new Error("calling the destroy method for a Transaction is not supported")}withPlugin(e){return new Ku({...this.#e,executor:this.#e.executor.withPlugin(e)})}withoutPlugins(){return new Ku({...this.#e,executor:this.#e.executor.withoutPlugins()})}withSchema(e){return new Ku({...this.#e,executor:this.#e.executor.withPluginAtFront(new th(e))})}withTables(){return new Ku({...this.#e})}}function PW(t){return uo(t)&&uo(t.config)&&uo(t.driver)&&uo(t.executor)&&uo(t.dialect)}class ZC{#e;constructor(e){this.#e=R(e)}async execute(e){return this.#e.executor.provideConnection(async r=>{const n=this.#e.executor.withConnectionProvider(new JC(r)),s=new Ba({...this.#e,executor:n});return await e(s)})}}ur(ZC,"don't await ConnectionBuilder instances directly. To execute the query you need to call the `execute` method");class Uy{#e;constructor(e){this.#e=R(e)}setIsolationLevel(e){return new Uy({...this.#e,isolationLevel:e})}async execute(e){const{isolationLevel:r,...n}=this.#e,s={isolationLevel:r};return FW(s),this.#e.executor.provideConnection(async a=>{const l=this.#e.executor.withConnectionProvider(new JC(a)),u=new Ku({...n,executor:l});try{await this.#e.driver.beginTransaction(a,s);const d=await e(u);return await this.#e.driver.commitTransaction(a),d}catch(d){throw await this.#e.driver.rollbackTransaction(a),d}})}}ur(Uy,"don't await TransactionBuilder instances directly. To execute the transaction you need to call the `execute` method");function FW(t){if(t.isolationLevel&&!TW.includes(t.isolationLevel))throw new Error(`invalid transaction isolation level ${t.isolationLevel}`)}class fc{#e;constructor(e){this.#e=R(e)}get expressionType(){}get isRawBuilder(){return!0}as(e){return new YC(this,e)}$castTo(){return new fc({...this.#e})}$notNull(){return new fc(this.#e)}withPlugin(e){return new fc({...this.#e,plugins:this.#e.plugins!==void 0?R([...this.#e.plugins,e]):R([e])})}toOperationNode(){return this.#r(this.#t())}compile(e){return this.#n(this.#t(e))}async execute(e){const r=this.#t(e);return r.executeQuery(this.#n(r),this.#e.queryId)}#t(e){const r=e!==void 0?e.getExecutor():By;return this.#e.plugins!==void 0?r.withPlugins(this.#e.plugins):r}#r(e){return e.transformQuery(this.#e.rawNode,this.#e.queryId)}#n(e){return e.compileQuery(this.#r(e),this.#e.queryId)}}function Ta(t){return new fc(t)}ur(fc,"don't await RawBuilder instances directly. To execute the query you need to call `execute`");class YC{#e;#t;constructor(e,r){this.#e=e,this.#t=r}get expression(){return this.#e}get alias(){return this.#t}get rawBuilder(){return this.#e}toOperationNode(){return ul.create(this.#e.toOperationNode(),Pi(this.#t)?this.#t.toOperationNode():Xr.create(this.#t))}}ur(YC,"don't await AliasedRawBuilder instances directly. AliasedRawBuilder should never be executed directly since it's always a part of another query.");const E0=Object.assign((t,...e)=>Ta({queryId:Fr(),rawNode:Gn.create(t,e?.map(yk)??[])}),{ref(t){return Ta({queryId:Fr(),rawNode:Gn.createWithChild(Xo(t))})},val(t){return Ta({queryId:Fr(),rawNode:Gn.createWithChild(wn(t))})},value(t){return this.val(t)},table(t){return Ta({queryId:Fr(),rawNode:Gn.createWithChild(hn(t))})},id(...t){const e=new Array(t.length+1).fill(".");return e[0]="",e[e.length-1]="",Ta({queryId:Fr(),rawNode:Gn.create(e,t.map(Xr.create))})},lit(t){return Ta({queryId:Fr(),rawNode:Gn.createWithChild(vo.createImmediate(t))})},literal(t){return this.lit(t)},raw(t){return Ta({queryId:Fr(),rawNode:Gn.createWithSql(t)})},join(t,e=E0`, `){const r=new Array(2*t.length-1),n=e.toOperationNode();for(let s=0;s<t.length;++s)r[2*s]=yk(t[s]),s!==t.length-1&&(r[2*s+1]=n);return Ta({queryId:Fr(),rawNode:Gn.createWithChildren(r)})}});function yk(t){return Pi(t)?t.toOperationNode():wn(t)}class jW{nodeStack=[];get parentNode(){return this.nodeStack[this.nodeStack.length-2]}#e=R({AliasNode:this.visitAlias.bind(this),ColumnNode:this.visitColumn.bind(this),IdentifierNode:this.visitIdentifier.bind(this),SchemableIdentifierNode:this.visitSchemableIdentifier.bind(this),RawNode:this.visitRaw.bind(this),ReferenceNode:this.visitReference.bind(this),SelectQueryNode:this.visitSelectQuery.bind(this),SelectionNode:this.visitSelection.bind(this),TableNode:this.visitTable.bind(this),FromNode:this.visitFrom.bind(this),SelectAllNode:this.visitSelectAll.bind(this),AndNode:this.visitAnd.bind(this),OrNode:this.visitOr.bind(this),ValueNode:this.visitValue.bind(this),ValueListNode:this.visitValueList.bind(this),PrimitiveValueListNode:this.visitPrimitiveValueList.bind(this),ParensNode:this.visitParens.bind(this),JoinNode:this.visitJoin.bind(this),OperatorNode:this.visitOperator.bind(this),WhereNode:this.visitWhere.bind(this),InsertQueryNode:this.visitInsertQuery.bind(this),DeleteQueryNode:this.visitDeleteQuery.bind(this),ReturningNode:this.visitReturning.bind(this),CreateTableNode:this.visitCreateTable.bind(this),AddColumnNode:this.visitAddColumn.bind(this),ColumnDefinitionNode:this.visitColumnDefinition.bind(this),DropTableNode:this.visitDropTable.bind(this),DataTypeNode:this.visitDataType.bind(this),OrderByNode:this.visitOrderBy.bind(this),OrderByItemNode:this.visitOrderByItem.bind(this),GroupByNode:this.visitGroupBy.bind(this),GroupByItemNode:this.visitGroupByItem.bind(this),UpdateQueryNode:this.visitUpdateQuery.bind(this),ColumnUpdateNode:this.visitColumnUpdate.bind(this),LimitNode:this.visitLimit.bind(this),OffsetNode:this.visitOffset.bind(this),OnConflictNode:this.visitOnConflict.bind(this),OnDuplicateKeyNode:this.visitOnDuplicateKey.bind(this),CreateIndexNode:this.visitCreateIndex.bind(this),DropIndexNode:this.visitDropIndex.bind(this),ListNode:this.visitList.bind(this),PrimaryKeyConstraintNode:this.visitPrimaryKeyConstraint.bind(this),UniqueConstraintNode:this.visitUniqueConstraint.bind(this),ReferencesNode:this.visitReferences.bind(this),CheckConstraintNode:this.visitCheckConstraint.bind(this),WithNode:this.visitWith.bind(this),CommonTableExpressionNode:this.visitCommonTableExpression.bind(this),CommonTableExpressionNameNode:this.visitCommonTableExpressionName.bind(this),HavingNode:this.visitHaving.bind(this),CreateSchemaNode:this.visitCreateSchema.bind(this),DropSchemaNode:this.visitDropSchema.bind(this),AlterTableNode:this.visitAlterTable.bind(this),DropColumnNode:this.visitDropColumn.bind(this),RenameColumnNode:this.visitRenameColumn.bind(this),AlterColumnNode:this.visitAlterColumn.bind(this),ModifyColumnNode:this.visitModifyColumn.bind(this),AddConstraintNode:this.visitAddConstraint.bind(this),DropConstraintNode:this.visitDropConstraint.bind(this),ForeignKeyConstraintNode:this.visitForeignKeyConstraint.bind(this),CreateViewNode:this.visitCreateView.bind(this),DropViewNode:this.visitDropView.bind(this),GeneratedNode:this.visitGenerated.bind(this),DefaultValueNode:this.visitDefaultValue.bind(this),OnNode:this.visitOn.bind(this),ValuesNode:this.visitValues.bind(this),SelectModifierNode:this.visitSelectModifier.bind(this),CreateTypeNode:this.visitCreateType.bind(this),DropTypeNode:this.visitDropType.bind(this),ExplainNode:this.visitExplain.bind(this),DefaultInsertValueNode:this.visitDefaultInsertValue.bind(this),AggregateFunctionNode:this.visitAggregateFunction.bind(this),OverNode:this.visitOver.bind(this),PartitionByNode:this.visitPartitionBy.bind(this),PartitionByItemNode:this.visitPartitionByItem.bind(this),SetOperationNode:this.visitSetOperation.bind(this),BinaryOperationNode:this.visitBinaryOperation.bind(this),UnaryOperationNode:this.visitUnaryOperation.bind(this),UsingNode:this.visitUsing.bind(this),FunctionNode:this.visitFunction.bind(this),CaseNode:this.visitCase.bind(this),WhenNode:this.visitWhen.bind(this),JSONReferenceNode:this.visitJSONReference.bind(this),JSONPathNode:this.visitJSONPath.bind(this),JSONPathLegNode:this.visitJSONPathLeg.bind(this),JSONOperatorChainNode:this.visitJSONOperatorChain.bind(this),TupleNode:this.visitTuple.bind(this),MergeQueryNode:this.visitMergeQuery.bind(this),MatchedNode:this.visitMatched.bind(this),AddIndexNode:this.visitAddIndex.bind(this),CastNode:this.visitCast.bind(this),FetchNode:this.visitFetch.bind(this),TopNode:this.visitTop.bind(this),OutputNode:this.visitOutput.bind(this)});visitNode=e=>{this.nodeStack.push(e),this.#e[e.kind](e),this.nodeStack.pop()}}class LW extends jW{#e="";#t=[];get numParameters(){return this.#t.length}compileQuery(e){return this.#e="",this.#t=[],this.nodeStack.splice(0,this.nodeStack.length),this.visitNode(e),R({query:e,sql:this.getSql(),parameters:[...this.#t]})}getSql(){return this.#e}visitSelectQuery(e){const r=this.parentNode!==void 0&&!Sc.is(this.parentNode)&&!$i.is(this.parentNode)&&!Di.is(this.parentNode)&&!Ra.is(this.parentNode)&&!RC.is(this.parentNode);this.parentNode===void 0&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("select"),e.distinctOn&&(this.append(" "),this.compileDistinctOn(e.distinctOn)),e.frontModifiers?.length&&(this.append(" "),this.compileList(e.frontModifiers," ")),e.top&&(this.append(" "),this.visitNode(e.top)),e.selections&&(this.append(" "),this.compileList(e.selections)),e.from&&(this.append(" "),this.visitNode(e.from)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.groupBy&&(this.append(" "),this.visitNode(e.groupBy)),e.having&&(this.append(" "),this.visitNode(e.having)),e.setOperations&&(this.append(" "),this.compileList(e.setOperations," ")),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.offset&&(this.append(" "),this.visitNode(e.offset)),e.fetch&&(this.append(" "),this.visitNode(e.fetch)),e.endModifiers?.length&&(this.append(" "),this.compileList(this.sortSelectModifiers([...e.endModifiers])," ")),r&&this.append(")")}visitFrom(e){this.append("from "),this.compileList(e.froms)}visitSelection(e){this.visitNode(e.selection)}visitColumn(e){this.visitNode(e.column)}compileDistinctOn(e){this.append("distinct on ("),this.compileList(e),this.append(")")}compileList(e,r=", "){const n=e.length-1;for(let s=0;s<=n;s++)this.visitNode(e[s]),s<n&&this.append(r)}visitWhere(e){this.append("where "),this.visitNode(e.where)}visitHaving(e){this.append("having "),this.visitNode(e.having)}visitInsertQuery(e){const r=this.nodeStack.find(Ct.is),n=r!==e;!n&&e.explain&&(this.visitNode(e.explain),this.append(" ")),n&&!Ti.is(r)&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append(e.replace?"replace":"insert"),e.ignore&&this.append(" ignore"),e.top&&(this.append(" "),this.visitNode(e.top)),e.into&&(this.append(" into "),this.visitNode(e.into)),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.output&&(this.append(" "),this.visitNode(e.output)),e.values&&(this.append(" "),this.visitNode(e.values)),e.defaultValues&&(this.append(" "),this.append("default values")),e.onConflict&&(this.append(" "),this.visitNode(e.onConflict)),e.onDuplicateKey&&(this.append(" "),this.visitNode(e.onDuplicateKey)),e.returning&&(this.append(" "),this.visitNode(e.returning)),n&&!Ti.is(r)&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitValues(e){this.append("values "),this.compileList(e.values)}visitDeleteQuery(e){const r=this.nodeStack.find(Ct.is)!==e;!r&&e.explain&&(this.visitNode(e.explain),this.append(" ")),r&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("delete "),e.top&&(this.visitNode(e.top),this.append(" ")),this.visitNode(e.from),e.output&&(this.append(" "),this.visitNode(e.output)),e.using&&(this.append(" "),this.visitNode(e.using)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.returning&&(this.append(" "),this.visitNode(e.returning)),r&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitReturning(e){this.append("returning "),this.compileList(e.selections)}visitAlias(e){this.visitNode(e.node),this.append(" as "),this.visitNode(e.alias)}visitReference(e){e.table&&(this.visitNode(e.table),this.append(".")),this.visitNode(e.column)}visitSelectAll(e){this.append("*")}visitIdentifier(e){this.append(this.getLeftIdentifierWrapper()),this.compileUnwrappedIdentifier(e),this.append(this.getRightIdentifierWrapper())}compileUnwrappedIdentifier(e){if(!Zi(e.name))throw new Error("a non-string identifier was passed to compileUnwrappedIdentifier.");this.append(this.sanitizeIdentifier(e.name))}visitAnd(e){this.visitNode(e.left),this.append(" and "),this.visitNode(e.right)}visitOr(e){this.visitNode(e.left),this.append(" or "),this.visitNode(e.right)}visitValue(e){e.immediate?this.appendImmediateValue(e.value):this.appendValue(e.value)}visitValueList(e){this.append("("),this.compileList(e.values),this.append(")")}visitTuple(e){this.append("("),this.compileList(e.values),this.append(")")}visitPrimitiveValueList(e){this.append("(");const{values:r}=e;for(let n=0;n<r.length;++n)this.appendValue(r[n]),n!==r.length-1&&this.append(", ");this.append(")")}visitParens(e){this.append("("),this.visitNode(e.node),this.append(")")}visitJoin(e){this.append(MW[e.joinType]),this.append(" "),this.visitNode(e.table),e.on&&(this.append(" "),this.visitNode(e.on))}visitOn(e){this.append("on "),this.visitNode(e.on)}visitRaw(e){const{sqlFragments:r,parameters:n}=e;for(let s=0;s<r.length;++s)this.append(r[s]),n.length>s&&this.visitNode(n[s])}visitOperator(e){this.append(e.operator)}visitTable(e){this.visitNode(e.table)}visitSchemableIdentifier(e){e.schema&&(this.visitNode(e.schema),this.append(".")),this.visitNode(e.identifier)}visitCreateTable(e){this.append("create "),e.frontModifiers&&e.frontModifiers.length>0&&(this.compileList(e.frontModifiers," "),this.append(" ")),e.temporary&&this.append("temporary "),this.append("table "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.table),e.selectQuery?(this.append(" as "),this.visitNode(e.selectQuery)):(this.append(" ("),this.compileList([...e.columns,...e.constraints??[]]),this.append(")"),e.onCommit&&(this.append(" on commit "),this.append(e.onCommit)),e.endModifiers&&e.endModifiers.length>0&&(this.append(" "),this.compileList(e.endModifiers," ")))}visitColumnDefinition(e){e.ifNotExists&&this.append("if not exists "),this.visitNode(e.column),this.append(" "),this.visitNode(e.dataType),e.unsigned&&this.append(" unsigned"),e.frontModifiers&&e.frontModifiers.length>0&&(this.append(" "),this.compileList(e.frontModifiers," ")),e.generated&&(this.append(" "),this.visitNode(e.generated)),e.identity&&this.append(" identity"),e.defaultTo&&(this.append(" "),this.visitNode(e.defaultTo)),e.notNull&&this.append(" not null"),e.unique&&this.append(" unique"),e.nullsNotDistinct&&this.append(" nulls not distinct"),e.primaryKey&&this.append(" primary key"),e.autoIncrement&&(this.append(" "),this.append(this.getAutoIncrement())),e.references&&(this.append(" "),this.visitNode(e.references)),e.check&&(this.append(" "),this.visitNode(e.check)),e.endModifiers&&e.endModifiers.length>0&&(this.append(" "),this.compileList(e.endModifiers," "))}getAutoIncrement(){return"auto_increment"}visitReferences(e){this.append("references "),this.visitNode(e.table),this.append(" ("),this.compileList(e.columns),this.append(")"),e.onDelete&&(this.append(" on delete "),this.append(e.onDelete)),e.onUpdate&&(this.append(" on update "),this.append(e.onUpdate))}visitDropTable(e){this.append("drop table "),e.ifExists&&this.append("if exists "),this.visitNode(e.table),e.cascade&&this.append(" cascade")}visitDataType(e){this.append(e.dataType)}visitOrderBy(e){this.append("order by "),this.compileList(e.items)}visitOrderByItem(e){this.visitNode(e.orderBy),e.direction&&(this.append(" "),this.visitNode(e.direction))}visitGroupBy(e){this.append("group by "),this.compileList(e.items)}visitGroupByItem(e){this.visitNode(e.groupBy)}visitUpdateQuery(e){const r=this.nodeStack.find(Ct.is),n=r!==e;!n&&e.explain&&(this.visitNode(e.explain),this.append(" ")),n&&!Ti.is(r)&&this.append("("),e.with&&(this.visitNode(e.with),this.append(" ")),this.append("update "),e.top&&(this.visitNode(e.top),this.append(" ")),e.table&&(this.visitNode(e.table),this.append(" ")),this.append("set "),e.updates&&this.compileList(e.updates),e.output&&(this.append(" "),this.visitNode(e.output)),e.from&&(this.append(" "),this.visitNode(e.from)),e.joins&&(this.append(" "),this.compileList(e.joins," ")),e.where&&(this.append(" "),this.visitNode(e.where)),e.limit&&(this.append(" "),this.visitNode(e.limit)),e.returning&&(this.append(" "),this.visitNode(e.returning)),n&&!Ti.is(r)&&this.append(")"),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitColumnUpdate(e){this.visitNode(e.column),this.append(" = "),this.visitNode(e.value)}visitLimit(e){this.append("limit "),this.visitNode(e.limit)}visitOffset(e){this.append("offset "),this.visitNode(e.offset)}visitOnConflict(e){this.append("on conflict"),e.columns?(this.append(" ("),this.compileList(e.columns),this.append(")")):e.constraint?(this.append(" on constraint "),this.visitNode(e.constraint)):e.indexExpression&&(this.append(" ("),this.visitNode(e.indexExpression),this.append(")")),e.indexWhere&&(this.append(" "),this.visitNode(e.indexWhere)),e.doNothing===!0?this.append(" do nothing"):e.updates&&(this.append(" do update set "),this.compileList(e.updates),e.updateWhere&&(this.append(" "),this.visitNode(e.updateWhere)))}visitOnDuplicateKey(e){this.append("on duplicate key update "),this.compileList(e.updates)}visitCreateIndex(e){this.append("create "),e.unique&&this.append("unique "),this.append("index "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),e.table&&(this.append(" on "),this.visitNode(e.table)),e.using&&(this.append(" using "),this.visitNode(e.using)),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.nullsNotDistinct&&this.append(" nulls not distinct"),e.where&&(this.append(" "),this.visitNode(e.where))}visitDropIndex(e){this.append("drop index "),e.ifExists&&this.append("if exists "),this.visitNode(e.name),e.table&&(this.append(" on "),this.visitNode(e.table)),e.cascade&&this.append(" cascade")}visitCreateSchema(e){this.append("create schema "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.schema)}visitDropSchema(e){this.append("drop schema "),e.ifExists&&this.append("if exists "),this.visitNode(e.schema),e.cascade&&this.append(" cascade")}visitPrimaryKeyConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("primary key ("),this.compileList(e.columns),this.append(")")}visitUniqueConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("unique"),e.nullsNotDistinct&&this.append(" nulls not distinct"),this.append(" ("),this.compileList(e.columns),this.append(")")}visitCheckConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("check ("),this.visitNode(e.expression),this.append(")")}visitForeignKeyConstraint(e){e.name&&(this.append("constraint "),this.visitNode(e.name),this.append(" ")),this.append("foreign key ("),this.compileList(e.columns),this.append(") "),this.visitNode(e.references),e.onDelete&&(this.append(" on delete "),this.append(e.onDelete)),e.onUpdate&&(this.append(" on update "),this.append(e.onUpdate))}visitList(e){this.compileList(e.items)}visitWith(e){this.append("with "),e.recursive&&this.append("recursive "),this.compileList(e.expressions)}visitCommonTableExpression(e){this.visitNode(e.name),this.append(" as "),Um(e.materialized)&&(e.materialized||this.append("not "),this.append("materialized ")),this.visitNode(e.expression)}visitCommonTableExpressionName(e){this.visitNode(e.table),e.columns&&(this.append("("),this.compileList(e.columns),this.append(")"))}visitAlterTable(e){this.append("alter table "),this.visitNode(e.table),this.append(" "),e.renameTo&&(this.append("rename to "),this.visitNode(e.renameTo)),e.setSchema&&(this.append("set schema "),this.visitNode(e.setSchema)),e.addConstraint&&this.visitNode(e.addConstraint),e.dropConstraint&&this.visitNode(e.dropConstraint),e.columnAlterations&&this.compileColumnAlterations(e.columnAlterations),e.addIndex&&this.visitNode(e.addIndex),e.dropIndex&&this.visitNode(e.dropIndex)}visitAddColumn(e){this.append("add column "),this.visitNode(e.column)}visitRenameColumn(e){this.append("rename column "),this.visitNode(e.column),this.append(" to "),this.visitNode(e.renameTo)}visitDropColumn(e){this.append("drop column "),this.visitNode(e.column)}visitAlterColumn(e){this.append("alter column "),this.visitNode(e.column),this.append(" "),e.dataType&&(this.announcesNewColumnDataType()&&this.append("type "),this.visitNode(e.dataType),e.dataTypeExpression&&(this.append("using "),this.visitNode(e.dataTypeExpression))),e.setDefault&&(this.append("set default "),this.visitNode(e.setDefault)),e.dropDefault&&this.append("drop default"),e.setNotNull&&this.append("set not null"),e.dropNotNull&&this.append("drop not null")}visitModifyColumn(e){this.append("modify column "),this.visitNode(e.column)}visitAddConstraint(e){this.append("add "),this.visitNode(e.constraint)}visitDropConstraint(e){this.append("drop constraint "),e.ifExists&&this.append("if exists "),this.visitNode(e.constraintName),e.modifier==="cascade"?this.append(" cascade"):e.modifier==="restrict"&&this.append(" restrict")}visitSetOperation(e){this.append(e.operator),this.append(" "),e.all&&this.append("all "),this.visitNode(e.expression)}visitCreateView(e){this.append("create "),e.orReplace&&this.append("or replace "),e.materialized&&this.append("materialized "),e.temporary&&this.append("temporary "),this.append("view "),e.ifNotExists&&this.append("if not exists "),this.visitNode(e.name),this.append(" "),e.columns&&(this.append("("),this.compileList(e.columns),this.append(") ")),e.as&&(this.append("as "),this.visitNode(e.as))}visitDropView(e){this.append("drop "),e.materialized&&this.append("materialized "),this.append("view "),e.ifExists&&this.append("if exists "),this.visitNode(e.name),e.cascade&&this.append(" cascade")}visitGenerated(e){this.append("generated "),e.always&&this.append("always "),e.byDefault&&this.append("by default "),this.append("as "),e.identity&&this.append("identity"),e.expression&&(this.append("("),this.visitNode(e.expression),this.append(")")),e.stored&&this.append(" stored")}visitDefaultValue(e){this.append("default "),this.visitNode(e.defaultValue)}visitSelectModifier(e){e.rawModifier?this.visitNode(e.rawModifier):this.append(DW[e.modifier]),e.of&&(this.append(" of "),this.compileList(e.of,", "))}visitCreateType(e){this.append("create type "),this.visitNode(e.name),e.enum&&(this.append(" as enum "),this.visitNode(e.enum))}visitDropType(e){this.append("drop type "),e.ifExists&&this.append("if exists "),this.visitNode(e.name)}visitExplain(e){this.append("explain"),(e.options||e.format)&&(this.append(" "),this.append(this.getLeftExplainOptionsWrapper()),e.options&&(this.visitNode(e.options),e.format&&this.append(this.getExplainOptionsDelimiter())),e.format&&(this.append("format"),this.append(this.getExplainOptionAssignment()),this.append(e.format)),this.append(this.getRightExplainOptionsWrapper()))}visitDefaultInsertValue(e){this.append("default")}visitAggregateFunction(e){this.append(e.func),this.append("("),e.distinct&&this.append("distinct "),this.compileList(e.aggregated),e.orderBy&&(this.append(" "),this.visitNode(e.orderBy)),this.append(")"),e.filter&&(this.append(" filter("),this.visitNode(e.filter),this.append(")")),e.over&&(this.append(" "),this.visitNode(e.over))}visitOver(e){this.append("over("),e.partitionBy&&(this.visitNode(e.partitionBy),e.orderBy&&this.append(" ")),e.orderBy&&this.visitNode(e.orderBy),this.append(")")}visitPartitionBy(e){this.append("partition by "),this.compileList(e.items)}visitPartitionByItem(e){this.visitNode(e.partitionBy)}visitBinaryOperation(e){this.visitNode(e.leftOperand),this.append(" "),this.visitNode(e.operator),this.append(" "),this.visitNode(e.rightOperand)}visitUnaryOperation(e){this.visitNode(e.operator),this.isMinusOperator(e.operator)||this.append(" "),this.visitNode(e.operand)}isMinusOperator(e){return rl.is(e)&&e.operator==="-"}visitUsing(e){this.append("using "),this.compileList(e.tables)}visitFunction(e){this.append(e.func),this.append("("),this.compileList(e.arguments),this.append(")")}visitCase(e){this.append("case"),e.value&&(this.append(" "),this.visitNode(e.value)),e.when&&(this.append(" "),this.compileList(e.when," ")),e.else&&(this.append(" else "),this.visitNode(e.else)),this.append(" end"),e.isStatement&&this.append(" case")}visitWhen(e){this.append("when "),this.visitNode(e.condition),e.result&&(this.append(" then "),this.visitNode(e.result))}visitJSONReference(e){this.visitNode(e.reference),this.visitNode(e.traversal)}visitJSONPath(e){e.inOperator&&this.visitNode(e.inOperator),this.append("'$");for(const r of e.pathLegs)this.visitNode(r);this.append("'")}visitJSONPathLeg(e){const r=e.type==="ArrayLocation";this.append(r?"[":"."),this.append(String(e.value)),r&&this.append("]")}visitJSONOperatorChain(e){for(let r=0,n=e.values.length;r<n;r++)r===n-1?this.visitNode(e.operator):this.append("->"),this.visitNode(e.values[r])}visitMergeQuery(e){e.with&&(this.visitNode(e.with),this.append(" ")),this.append("merge "),e.top&&(this.visitNode(e.top),this.append(" ")),this.append("into "),this.visitNode(e.into),e.using&&(this.append(" "),this.visitNode(e.using)),e.whens&&(this.append(" "),this.compileList(e.whens," ")),e.output&&(this.append(" "),this.visitNode(e.output)),e.endModifiers?.length&&(this.append(" "),this.compileList(e.endModifiers," "))}visitMatched(e){e.not&&this.append("not "),this.append("matched"),e.bySource&&this.append(" by source")}visitAddIndex(e){this.append("add "),e.unique&&this.append("unique "),this.append("index "),this.visitNode(e.name),e.columns&&(this.append(" ("),this.compileList(e.columns),this.append(")")),e.using&&(this.append(" using "),this.visitNode(e.using))}visitCast(e){this.append("cast("),this.visitNode(e.expression),this.append(" as "),this.visitNode(e.dataType),this.append(")")}visitFetch(e){this.append("fetch next "),this.visitNode(e.rowCount),this.append(` rows ${e.modifier}`)}visitOutput(e){this.append("output "),this.compileList(e.selections)}visitTop(e){this.append(`top(${e.expression})`),e.modifiers&&this.append(` ${e.modifiers}`)}append(e){this.#e+=e}appendValue(e){this.addParameter(e),this.append(this.getCurrentParameterPlaceholder())}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getCurrentParameterPlaceholder(){return"$"+this.numParameters}getLeftExplainOptionsWrapper(){return"("}getExplainOptionAssignment(){return" "}getExplainOptionsDelimiter(){return", "}getRightExplainOptionsWrapper(){return")"}sanitizeIdentifier(e){const r=this.getLeftIdentifierWrapper(),n=this.getRightIdentifierWrapper();let s="";for(const a of e)s+=a,a===r?s+=r:a===n&&(s+=n);return s}addParameter(e){this.#t.push(e)}appendImmediateValue(e){if(Zi(e))this.append(`'${e}'`);else if(Dy(e)||Um(e))this.append(e.toString());else if(u0(e))this.append("null");else if(l$(e))this.appendImmediateValue(e.toISOString());else if(c0(e))this.appendImmediateValue(e.toString());else throw new Error(`invalid immediate value ${e}`)}sortSelectModifiers(e){return e.sort((r,n)=>r.modifier&&n.modifier?gk[r.modifier]-gk[n.modifier]:1),R(e)}compileColumnAlterations(e){this.compileList(e)}announcesNewColumnDataType(){return!0}}const DW=R({ForKeyShare:"for key share",ForNoKeyUpdate:"for no key update",ForUpdate:"for update",ForShare:"for share",NoWait:"nowait",SkipLocked:"skip locked",Distinct:"distinct"}),gk=R({ForKeyShare:1,ForNoKeyUpdate:1,ForUpdate:1,ForShare:1,NoWait:2,SkipLocked:2,Distinct:0}),MW=R({InnerJoin:"inner join",LeftJoin:"left join",RightJoin:"right join",FullJoin:"full join",LateralInnerJoin:"inner join lateral",LateralLeftJoin:"left join lateral",Using:"using"});class BW{get supportsCreateIfNotExists(){return!0}get supportsTransactionalDdl(){return!1}get supportsReturning(){return!1}get supportsOutput(){return!1}}const $W=/"/g;class WW extends LW{getCurrentParameterPlaceholder(){return"?"}getLeftExplainOptionsWrapper(){return""}getRightExplainOptionsWrapper(){return""}getLeftIdentifierWrapper(){return'"'}getRightIdentifierWrapper(){return'"'}getAutoIncrement(){return"autoincrement"}sanitizeIdentifier(e){return e.replace($W,'""')}visitDefaultInsertValue(e){this.append("null")}}const zW="kysely_migration",UW="kysely_migration_lock";R({__noMigrations__:!0});class VW{#e;constructor(e){this.#e=e}async getSchemas(){return[]}async getTables(e={withInternalKyselyTables:!1}){let r=this.#e.selectFrom("sqlite_master").where("type","in",["table","view"]).where("name","not like","sqlite_%").select("name").orderBy("name").$castTo();e.withInternalKyselyTables||(r=r.where("name","!=",zW).where("name","!=",UW));const n=await r.execute();return Promise.all(n.map(({name:s})=>this.#t(s)))}async getMetadata(e){return{tables:await this.getTables(e)}}async #t(e){const r=this.#e,n=await r.selectFrom("sqlite_master").where("name","=",e).select(["sql","type"]).$castTo().executeTakeFirstOrThrow(),s=n.sql?.split(/[\(\),]/)?.find(l=>l.toLowerCase().includes("autoincrement"))?.trimStart()?.split(/\s+/)?.[0]?.replace(/["`]/g,""),a=await r.selectFrom(E0`pragma_table_info(${e})`.as("table_info")).select(["name","type","notnull","dflt_value"]).orderBy("cid").execute();return{name:e,isView:n.type==="view",columns:a.map(l=>({name:l.name,dataType:l.type,isNullable:!l.notnull,isAutoIncrementing:l.name===s,hasDefaultValue:l.dflt_value!=null,comment:void 0}))}}}class HW extends BW{get supportsTransactionalDdl(){return!1}get supportsReturning(){return!0}async acquireMigrationLock(e,r){}async releaseMigrationLock(e,r){}}const vk="function",Gu="64e10b34-2bf7-4616-9668-f99de5aa046e",QW="get",KW="has",GW="set",{isArray:sm}=Array;let{SharedArrayBuffer:ey,window:JW}=globalThis,{notify:XC,wait:eT,waitAsync:ty}=Atomics,tT=null;ty||(ty=t=>({value:new Promise(e=>{let r=new Worker("data:application/javascript,onmessage%3D(%7Bdata%3Ab%7D)%3D%3E(Atomics.wait(b%2C0)%2CpostMessage(0))");r.onmessage=e,r.postMessage(t)})}));try{new ey(4)}catch{ey=ArrayBuffer;const e=new WeakMap;if(JW){const r=new Map,{prototype:{postMessage:n}}=Worker,s=a=>{const l=a.data?.[Gu];if(!sm(l)){a.stopImmediatePropagation();const{id:u,sb:d}=l;r.get(u)(d)}};tT=function(a,...l){const u=a?.[Gu];if(sm(u)){const[d,m]=u;e.set(m,d),this.addEventListener("message",s)}return n.call(this,a,...l)},ty=a=>({value:new Promise(l=>{r.set(e.get(a),l)}).then(l=>{r.delete(e.get(a)),e.delete(a);for(let u=0;u<l.length;u++)a[u]=l[u];return"ok"})})}else{const r=(n,s)=>({[Gu]:{id:n,sb:s}});XC=n=>{postMessage(r(e.get(n),n))},addEventListener("message",n=>{const s=n.data?.[Gu];if(sm(s)){const[a,l]=s;e.set(l,a)}})}}const{Int32Array:fw,Map:_k,Uint16Array:hw}=globalThis,{BYTES_PER_ELEMENT:bk}=fw,{BYTES_PER_ELEMENT:ZW}=hw,YW=(t,e,r)=>{for(;eT(t,0,0,e)==="timed-out";)r()},pw=new WeakSet,ab=new WeakMap,XW={value:{then:t=>t()}};let e6=0;const N0=(t,{parse:e=JSON.parse,stringify:r=JSON.stringify,transform:n,interrupt:s}=JSON)=>{if(!ab.has(t)){const a=tT||t.postMessage,l=(N,...k)=>a.call(t,{[Gu]:k},{transfer:N}),u=typeof s===vk?s:s?.handler,d=s?.delay||42,m=new TextDecoder("utf-16"),g=(N,k)=>N?ty(k,0):(u?YW(k,d,u):eT(k,0),XW);let w=!1;ab.set(t,new Proxy(new _k,{[KW]:(N,k)=>typeof k=="string"&&!k.startsWith("_"),[QW]:(N,k)=>k==="then"?null:(...O)=>{const C=e6++;let A=new fw(new ey(bk*2)),D=[];pw.has(O.at(-1)||D)&&pw.delete(D=O.pop()),l(D,C,A,k,n?O.map(n):O);const j=t!==globalThis;let $=0;return w&&j&&($=setTimeout(console.warn,1e3,` - Possible deadlock if proxy.${k}(...args) is awaited`)),g(j,A).value.then(()=>{clearTimeout($);const V=A[1];if(!V)return;const G=ZW*V;return A=new fw(new ey(G+G%bk)),l([],C,A),g(j,A).value.then(()=>e(m.decode(new hw(A.buffer).slice(0,V))))})},[GW](N,k,O){const C=typeof O;if(C!==vk)throw new Error(`Unable to assign ${k} as ${C}`);if(!N.size){const A=new _k;t.addEventListener("message",async D=>{const j=D.data?.[Gu];if(sm(j)){D.stopImmediatePropagation();const[$,V,...G]=j;let B;if(G.length){const[Z,ie]=G;if(N.has(Z)){w=!0;try{const U=await N.get(Z)(...ie);if(U!==void 0){const ne=r(n?n(U):U);A.set($,ne),V[1]=ne.length}}catch(U){B=U}finally{w=!1}}else B=new Error(`Unsupported action: ${Z}`);V[0]=1}else{const Z=A.get($);A.delete($);for(let ie=new hw(V.buffer),U=0;U<Z.length;U++)ie[U]=Z.charCodeAt(U)}if(XC(V,0),B)throw B}})}return!!N.set(k,O)}}))}return ab.get(t)};N0.transfer=(...t)=>(pw.add(t),t);var k0=(()=>{var t=import.meta.url;return function(e={}){var r,n=e,s,a,l=new Promise((f,h)=>{s=f,a=h}),u=typeof window=="object",d=typeof importScripts=="function";typeof process=="object"&&typeof process.versions=="object"&&process.versions.node;const m=globalThis.sqlite3InitModuleState||Object.assign(Object.create(null),{debugModule:()=>{}});delete globalThis.sqlite3InitModuleState,m.debugModule("globalThis.location =",globalThis.location);var g=Object.assign({},n),w="./this.program",N="";function k(f){return n.locateFile?n.locateFile(f,N):N+f}var O,C;(u||d)&&(d?N=self.location.href:typeof document<"u"&&document.currentScript&&(N=document.currentScript.src),t&&(N=t),N.startsWith("blob:")?N="":N=N.substr(0,N.replace(/[?#].*/,"").lastIndexOf("/")+1),d&&(C=f=>{var h=new XMLHttpRequest;return h.open("GET",f,!1),h.responseType="arraybuffer",h.send(null),new Uint8Array(h.response)}),O=f=>fetch(f,{credentials:"same-origin"}).then(h=>h.ok?h.arrayBuffer():Promise.reject(new Error(h.status+" : "+h.url))));var A=n.print||console.log.bind(console),D=n.printErr||console.error.bind(console);Object.assign(n,g),g=null,n.arguments&&n.arguments,n.thisProgram&&(w=n.thisProgram);var j=n.wasmBinary,$,V=!1,G,B,Z,ie,U,ne;function M(){var f=$.buffer;n.HEAP8=G=new Int8Array(f),n.HEAP16=Z=new Int16Array(f),n.HEAPU8=B=new Uint8Array(f),n.HEAPU16=new Uint16Array(f),n.HEAP32=ie=new Int32Array(f),n.HEAPU32=U=new Uint32Array(f),n.HEAPF32=new Float32Array(f),n.HEAPF64=new Float64Array(f),n.HEAP64=ne=new BigInt64Array(f),n.HEAPU64=new BigUint64Array(f)}if(n.wasmMemory)$=n.wasmMemory;else{var se=n.INITIAL_MEMORY||0x1000000;$=new WebAssembly.Memory({initial:se/65536,maximum:32768})}M();var Y=[],me=[],Te=[];function Ce(){if(n.preRun)for(typeof n.preRun=="function"&&(n.preRun=[n.preRun]);n.preRun.length;)ye(n.preRun.shift());ae(Y)}function Fe(){!n.noFSInit&&!q.initialized&&q.init(),q.ignorePermissions=!1,ae(me)}function _e(){if(n.postRun)for(typeof n.postRun=="function"&&(n.postRun=[n.postRun]);n.postRun.length;)H(n.postRun.shift());ae(Te)}function ye(f){Y.unshift(f)}function Ne(f){me.unshift(f)}function H(f){Te.unshift(f)}var Se=0,lt=null;function at(f){return f}function dt(f){Se++,n.monitorRunDependencies?.(Se)}function mt(f){if(Se--,n.monitorRunDependencies?.(Se),Se==0&&lt){var h=lt;lt=null,h()}}function ft(f){n.onAbort?.(f),f="Aborted("+f+")",D(f),V=!0,f+=". Build with -sASSERTIONS for more info.";var h=new WebAssembly.RuntimeError(f);throw a(h),h}var gt="data:application/octet-stream;base64,",Pt=f=>f.startsWith(gt);function vt(){if(n.locateFile){var f="sqlite3.wasm";return Pt(f)?f:k(f)}return new URL("/assets/sqlite3-CgX3seBP.wasm",import.meta.url).href}var yt;function Tt(f){if(f==yt&&j)return new Uint8Array(j);if(C)return C(f);throw"both async and sync fetching of the wasm failed"}function Ot(f){return j?Promise.resolve().then(()=>Tt(f)):O(f).then(h=>new Uint8Array(h),()=>Tt(f))}function er(f,h,_){return Ot(f).then(b=>WebAssembly.instantiate(b,h)).then(_,b=>{D(`failed to asynchronously prepare wasm: ${b}`),ft(b)})}function Zt(f,h,_,b){return!f&&typeof WebAssembly.instantiateStreaming=="function"&&!Pt(h)&&typeof fetch=="function"?fetch(h,{credentials:"same-origin"}).then(S=>{var I=WebAssembly.instantiateStreaming(S,_);return I.then(b,function(X){return D(`wasm streaming compile failed: ${X}`),D("falling back to ArrayBuffer instantiation"),er(h,_,b)})}):er(h,_,b)}function ir(){return{env:Zc,wasi_snapshot_preview1:Zc}}function mr(){var f=ir();function h(b,S){return te=b.exports,Ne(te.__wasm_call_ctors),mt(),te}dt();function _(b){h(b.instance)}if(n.instantiateWasm)try{return n.instantiateWasm(f,h)}catch(b){D(`Module.instantiateWasm callback failed with error: ${b}`),a(b)}return yt||(yt=vt()),Zt(j,yt,f,_).catch(a),{}}var ae=f=>{for(;f.length>0;)f.shift()(n)};n.noExitRuntime;var ue={isAbs:f=>f.charAt(0)==="/",splitPath:f=>{var h=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return h.exec(f).slice(1)},normalizeArray:(f,h)=>{for(var _=0,b=f.length-1;b>=0;b--){var S=f[b];S==="."?f.splice(b,1):S===".."?(f.splice(b,1),_++):_&&(f.splice(b,1),_--)}if(h)for(;_;_--)f.unshift("..");return f},normalize:f=>{var h=ue.isAbs(f),_=f.substr(-1)==="/";return f=ue.normalizeArray(f.split("/").filter(b=>!!b),!h).join("/"),!f&&!h&&(f="."),f&&_&&(f+="/"),(h?"/":"")+f},dirname:f=>{var h=ue.splitPath(f),_=h[0],b=h[1];return!_&&!b?".":(b&&(b=b.substr(0,b.length-1)),_+b)},basename:f=>{if(f==="/")return"/";f=ue.normalize(f),f=f.replace(/\/$/,"");var h=f.lastIndexOf("/");return h===-1?f:f.substr(h+1)},join:(...f)=>ue.normalize(f.join("/")),join2:(f,h)=>ue.normalize(f+"/"+h)},ge=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return f=>crypto.getRandomValues(f);ft("initRandomDevice")},qe=f=>(qe=ge())(f),De={resolve:(...f)=>{for(var h="",_=!1,b=f.length-1;b>=-1&&!_;b--){var S=b>=0?f[b]:q.cwd();if(typeof S!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!S)return"";h=S+"/"+h,_=ue.isAbs(S)}return h=ue.normalizeArray(h.split("/").filter(I=>!!I),!_).join("/"),(_?"/":"")+h||"."},relative:(f,h)=>{f=De.resolve(f).substr(1),h=De.resolve(h).substr(1);function _(Ue){for(var Je=0;Je<Ue.length&&Ue[Je]==="";Je++);for(var rt=Ue.length-1;rt>=0&&Ue[rt]==="";rt--);return Je>rt?[]:Ue.slice(Je,rt-Je+1)}for(var b=_(f.split("/")),S=_(h.split("/")),I=Math.min(b.length,S.length),X=I,re=0;re<I;re++)if(b[re]!==S[re]){X=re;break}for(var Le=[],re=X;re<b.length;re++)Le.push("..");return Le=Le.concat(S.slice(X)),Le.join("/")}},Ge=typeof TextDecoder<"u"?new TextDecoder:void 0,_t=(f,h,_)=>{for(var b=h+_,S=h;f[S]&&!(S>=b);)++S;if(S-h>16&&f.buffer&&Ge)return Ge.decode(f.subarray(h,S));for(var I="";h<S;){var X=f[h++];if(!(X&128)){I+=String.fromCharCode(X);continue}var re=f[h++]&63;if((X&224)==192){I+=String.fromCharCode((X&31)<<6|re);continue}var Le=f[h++]&63;if((X&240)==224?X=(X&15)<<12|re<<6|Le:X=(X&7)<<18|re<<12|Le<<6|f[h++]&63,X<65536)I+=String.fromCharCode(X);else{var Ue=X-65536;I+=String.fromCharCode(55296|Ue>>10,56320|Ue&1023)}}return I},Bt=[],wr=f=>{for(var h=0,_=0;_<f.length;++_){var b=f.charCodeAt(_);b<=127?h++:b<=2047?h+=2:b>=55296&&b<=57343?(h+=4,++_):h+=3}return h},yr=(f,h,_,b)=>{if(!(b>0))return 0;for(var S=_,I=_+b-1,X=0;X<f.length;++X){var re=f.charCodeAt(X);if(re>=55296&&re<=57343){var Le=f.charCodeAt(++X);re=65536+((re&1023)<<10)|Le&1023}if(re<=127){if(_>=I)break;h[_++]=re}else if(re<=2047){if(_+1>=I)break;h[_++]=192|re>>6,h[_++]=128|re&63}else if(re<=65535){if(_+2>=I)break;h[_++]=224|re>>12,h[_++]=128|re>>6&63,h[_++]=128|re&63}else{if(_+3>=I)break;h[_++]=240|re>>18,h[_++]=128|re>>12&63,h[_++]=128|re>>6&63,h[_++]=128|re&63}}return h[_]=0,_-S};function $r(f,h,_){var b=wr(f)+1,S=new Array(b),I=yr(f,S,0,S.length);return S.length=I,S}var si=()=>{if(!Bt.length){var f=null;if(typeof window<"u"&&typeof window.prompt=="function"&&(f=window.prompt("Input: "),f!==null&&(f+=`
`)),!f)return null;Bt=$r(f)}return Bt.shift()},an={ttys:[],init(){},shutdown(){},register(f,h){an.ttys[f]={input:[],output:[],ops:h},q.registerDevice(f,an.stream_ops)},stream_ops:{open(f){var h=an.ttys[f.node.rdev];if(!h)throw new q.ErrnoError(43);f.tty=h,f.seekable=!1},close(f){f.tty.ops.fsync(f.tty)},fsync(f){f.tty.ops.fsync(f.tty)},read(f,h,_,b,S){if(!f.tty||!f.tty.ops.get_char)throw new q.ErrnoError(60);for(var I=0,X=0;X<b;X++){var re;try{re=f.tty.ops.get_char(f.tty)}catch{throw new q.ErrnoError(29)}if(re===void 0&&I===0)throw new q.ErrnoError(6);if(re==null)break;I++,h[_+X]=re}return I&&(f.node.timestamp=Date.now()),I},write(f,h,_,b,S){if(!f.tty||!f.tty.ops.put_char)throw new q.ErrnoError(60);try{for(var I=0;I<b;I++)f.tty.ops.put_char(f.tty,h[_+I])}catch{throw new q.ErrnoError(29)}return b&&(f.node.timestamp=Date.now()),I}},default_tty_ops:{get_char(f){return si()},put_char(f,h){h===null||h===10?(A(_t(f.output,0)),f.output=[]):h!=0&&f.output.push(h)},fsync(f){f.output&&f.output.length>0&&(A(_t(f.output,0)),f.output=[])},ioctl_tcgets(f){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(f,h,_){return 0},ioctl_tiocgwinsz(f){return[24,80]}},default_tty1_ops:{put_char(f,h){h===null||h===10?(D(_t(f.output,0)),f.output=[]):h!=0&&f.output.push(h)},fsync(f){f.output&&f.output.length>0&&(D(_t(f.output,0)),f.output=[])}}},gi=(f,h)=>(B.fill(0,f,f+h),f),Eo=(f,h)=>Math.ceil(f/h)*h,An=f=>{f=Eo(f,65536);var h=Yc(65536,f);return h?gi(h,f):0},Vt={ops_table:null,mount(f){return Vt.createNode(null,"/",16895,0)},createNode(f,h,_,b){if(q.isBlkdev(_)||q.isFIFO(_))throw new q.ErrnoError(63);Vt.ops_table||={dir:{node:{getattr:Vt.node_ops.getattr,setattr:Vt.node_ops.setattr,lookup:Vt.node_ops.lookup,mknod:Vt.node_ops.mknod,rename:Vt.node_ops.rename,unlink:Vt.node_ops.unlink,rmdir:Vt.node_ops.rmdir,readdir:Vt.node_ops.readdir,symlink:Vt.node_ops.symlink},stream:{llseek:Vt.stream_ops.llseek}},file:{node:{getattr:Vt.node_ops.getattr,setattr:Vt.node_ops.setattr},stream:{llseek:Vt.stream_ops.llseek,read:Vt.stream_ops.read,write:Vt.stream_ops.write,allocate:Vt.stream_ops.allocate,mmap:Vt.stream_ops.mmap,msync:Vt.stream_ops.msync}},link:{node:{getattr:Vt.node_ops.getattr,setattr:Vt.node_ops.setattr,readlink:Vt.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Vt.node_ops.getattr,setattr:Vt.node_ops.setattr},stream:q.chrdev_stream_ops}};var S=q.createNode(f,h,_,b);return q.isDir(S.mode)?(S.node_ops=Vt.ops_table.dir.node,S.stream_ops=Vt.ops_table.dir.stream,S.contents={}):q.isFile(S.mode)?(S.node_ops=Vt.ops_table.file.node,S.stream_ops=Vt.ops_table.file.stream,S.usedBytes=0,S.contents=null):q.isLink(S.mode)?(S.node_ops=Vt.ops_table.link.node,S.stream_ops=Vt.ops_table.link.stream):q.isChrdev(S.mode)&&(S.node_ops=Vt.ops_table.chrdev.node,S.stream_ops=Vt.ops_table.chrdev.stream),S.timestamp=Date.now(),f&&(f.contents[h]=S,f.timestamp=S.timestamp),S},getFileDataAsTypedArray(f){return f.contents?f.contents.subarray?f.contents.subarray(0,f.usedBytes):new Uint8Array(f.contents):new Uint8Array(0)},expandFileStorage(f,h){var _=f.contents?f.contents.length:0;if(!(_>=h)){var b=1024*1024;h=Math.max(h,_*(_<b?2:1.125)>>>0),_!=0&&(h=Math.max(h,256));var S=f.contents;f.contents=new Uint8Array(h),f.usedBytes>0&&f.contents.set(S.subarray(0,f.usedBytes),0)}},resizeFileStorage(f,h){if(f.usedBytes!=h)if(h==0)f.contents=null,f.usedBytes=0;else{var _=f.contents;f.contents=new Uint8Array(h),_&&f.contents.set(_.subarray(0,Math.min(h,f.usedBytes))),f.usedBytes=h}},node_ops:{getattr(f){var h={};return h.dev=q.isChrdev(f.mode)?f.id:1,h.ino=f.id,h.mode=f.mode,h.nlink=1,h.uid=0,h.gid=0,h.rdev=f.rdev,q.isDir(f.mode)?h.size=4096:q.isFile(f.mode)?h.size=f.usedBytes:q.isLink(f.mode)?h.size=f.link.length:h.size=0,h.atime=new Date(f.timestamp),h.mtime=new Date(f.timestamp),h.ctime=new Date(f.timestamp),h.blksize=4096,h.blocks=Math.ceil(h.size/h.blksize),h},setattr(f,h){h.mode!==void 0&&(f.mode=h.mode),h.timestamp!==void 0&&(f.timestamp=h.timestamp),h.size!==void 0&&Vt.resizeFileStorage(f,h.size)},lookup(f,h){throw q.genericErrors[44]},mknod(f,h,_,b){return Vt.createNode(f,h,_,b)},rename(f,h,_){if(q.isDir(f.mode)){var b;try{b=q.lookupNode(h,_)}catch{}if(b)for(var S in b.contents)throw new q.ErrnoError(55)}delete f.parent.contents[f.name],f.parent.timestamp=Date.now(),f.name=_,h.contents[_]=f,h.timestamp=f.parent.timestamp},unlink(f,h){delete f.contents[h],f.timestamp=Date.now()},rmdir(f,h){var _=q.lookupNode(f,h);for(var b in _.contents)throw new q.ErrnoError(55);delete f.contents[h],f.timestamp=Date.now()},readdir(f){var h=[".",".."];for(var _ of Object.keys(f.contents))h.push(_);return h},symlink(f,h,_){var b=Vt.createNode(f,h,41471,0);return b.link=_,b},readlink(f){if(!q.isLink(f.mode))throw new q.ErrnoError(28);return f.link}},stream_ops:{read(f,h,_,b,S){var I=f.node.contents;if(S>=f.node.usedBytes)return 0;var X=Math.min(f.node.usedBytes-S,b);if(X>8&&I.subarray)h.set(I.subarray(S,S+X),_);else for(var re=0;re<X;re++)h[_+re]=I[S+re];return X},write(f,h,_,b,S,I){if(h.buffer===G.buffer&&(I=!1),!b)return 0;var X=f.node;if(X.timestamp=Date.now(),h.subarray&&(!X.contents||X.contents.subarray)){if(I)return X.contents=h.subarray(_,_+b),X.usedBytes=b,b;if(X.usedBytes===0&&S===0)return X.contents=h.slice(_,_+b),X.usedBytes=b,b;if(S+b<=X.usedBytes)return X.contents.set(h.subarray(_,_+b),S),b}if(Vt.expandFileStorage(X,S+b),X.contents.subarray&&h.subarray)X.contents.set(h.subarray(_,_+b),S);else for(var re=0;re<b;re++)X.contents[S+re]=h[_+re];return X.usedBytes=Math.max(X.usedBytes,S+b),b},llseek(f,h,_){var b=h;if(_===1?b+=f.position:_===2&&q.isFile(f.node.mode)&&(b+=f.node.usedBytes),b<0)throw new q.ErrnoError(28);return b},allocate(f,h,_){Vt.expandFileStorage(f.node,h+_),f.node.usedBytes=Math.max(f.node.usedBytes,h+_)},mmap(f,h,_,b,S){if(!q.isFile(f.node.mode))throw new q.ErrnoError(43);var I,X,re=f.node.contents;if(!(S&2)&&re&&re.buffer===G.buffer)X=!1,I=re.byteOffset;else{if(X=!0,I=An(h),!I)throw new q.ErrnoError(48);re&&((_>0||_+h<re.length)&&(re.subarray?re=re.subarray(_,_+h):re=Array.prototype.slice.call(re,_,_+h)),G.set(re,I))}return{ptr:I,allocated:X}},msync(f,h,_,b,S){return Vt.stream_ops.write(f,h,0,b,_,!1),0}}},aa=(f,h,_,b)=>{var S=`al ${f}`;O(f).then(I=>{h(new Uint8Array(I)),S&&mt()},I=>{if(_)_();else throw`Loading data file "${f}" failed.`}),S&&dt()},la=(f,h,_,b,S,I)=>{q.createDataFile(f,h,_,b,S,I)},ua=n.preloadPlugins||[],$c=(f,h,_,b)=>{typeof Browser<"u"&&Browser.init();var S=!1;return ua.forEach(I=>{S||I.canHandle(h)&&(I.handle(f,h,_,b),S=!0)}),S},Wc=(f,h,_,b,S,I,X,re,Le,Ue)=>{var Je=h?De.resolve(ue.join2(f,h)):f;function rt(Ae){function xe(ze){Ue?.(),re||la(f,h,ze,b,S,Le),I?.(),mt()}$c(Ae,Je,xe,()=>{X?.(),mt()})||xe(Ae)}dt(),typeof _=="string"?aa(_,rt,X):rt(_)},zc=f=>{var h={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},_=h[f];if(typeof _>"u")throw new Error(`Unknown file open mode: ${f}`);return _},eo=(f,h)=>{var _=0;return f&&(_|=365),h&&(_|=146),_},q={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:class{constructor(f){this.name="ErrnoError",this.errno=f}},genericErrors:{},filesystems:null,syncFSRequests:0,FSStream:class{constructor(){this.shared={}}get object(){return this.node}set object(f){this.node=f}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(f){this.shared.flags=f}get position(){return this.shared.position}set position(f){this.shared.position=f}},FSNode:class{constructor(f,h,_,b){f||(f=this),this.parent=f,this.mount=f.mount,this.mounted=null,this.id=q.nextInode++,this.name=h,this.mode=_,this.node_ops={},this.stream_ops={},this.rdev=b,this.readMode=365,this.writeMode=146}get read(){return(this.mode&this.readMode)===this.readMode}set read(f){f?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(f){f?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return q.isDir(this.mode)}get isDevice(){return q.isChrdev(this.mode)}},lookupPath(f,h={}){if(f=De.resolve(f),!f)return{path:"",node:null};var _={follow_mount:!0,recurse_count:0};if(h=Object.assign(_,h),h.recurse_count>8)throw new q.ErrnoError(32);for(var b=f.split("/").filter(rt=>!!rt),S=q.root,I="/",X=0;X<b.length;X++){var re=X===b.length-1;if(re&&h.parent)break;if(S=q.lookupNode(S,b[X]),I=ue.join2(I,b[X]),q.isMountpoint(S)&&(!re||re&&h.follow_mount)&&(S=S.mounted.root),!re||h.follow)for(var Le=0;q.isLink(S.mode);){var Ue=q.readlink(I);I=De.resolve(ue.dirname(I),Ue);var Je=q.lookupPath(I,{recurse_count:h.recurse_count+1});if(S=Je.node,Le++>40)throw new q.ErrnoError(32)}}return{path:I,node:S}},getPath(f){for(var h;;){if(q.isRoot(f)){var _=f.mount.mountpoint;return h?_[_.length-1]!=="/"?`${_}/${h}`:_+h:_}h=h?`${f.name}/${h}`:f.name,f=f.parent}},hashName(f,h){for(var _=0,b=0;b<h.length;b++)_=(_<<5)-_+h.charCodeAt(b)|0;return(f+_>>>0)%q.nameTable.length},hashAddNode(f){var h=q.hashName(f.parent.id,f.name);f.name_next=q.nameTable[h],q.nameTable[h]=f},hashRemoveNode(f){var h=q.hashName(f.parent.id,f.name);if(q.nameTable[h]===f)q.nameTable[h]=f.name_next;else for(var _=q.nameTable[h];_;){if(_.name_next===f){_.name_next=f.name_next;break}_=_.name_next}},lookupNode(f,h){var _=q.mayLookup(f);if(_)throw new q.ErrnoError(_);for(var b=q.hashName(f.id,h),S=q.nameTable[b];S;S=S.name_next){var I=S.name;if(S.parent.id===f.id&&I===h)return S}return q.lookup(f,h)},createNode(f,h,_,b){var S=new q.FSNode(f,h,_,b);return q.hashAddNode(S),S},destroyNode(f){q.hashRemoveNode(f)},isRoot(f){return f===f.parent},isMountpoint(f){return!!f.mounted},isFile(f){return(f&61440)===32768},isDir(f){return(f&61440)===16384},isLink(f){return(f&61440)===40960},isChrdev(f){return(f&61440)===8192},isBlkdev(f){return(f&61440)===24576},isFIFO(f){return(f&61440)===4096},isSocket(f){return(f&49152)===49152},flagsToPermissionString(f){var h=["r","w","rw"][f&3];return f&512&&(h+="w"),h},nodePermissions(f,h){return q.ignorePermissions?0:h.includes("r")&&!(f.mode&292)||h.includes("w")&&!(f.mode&146)||h.includes("x")&&!(f.mode&73)?2:0},mayLookup(f){if(!q.isDir(f.mode))return 54;var h=q.nodePermissions(f,"x");return h||(f.node_ops.lookup?0:2)},mayCreate(f,h){try{var _=q.lookupNode(f,h);return 20}catch{}return q.nodePermissions(f,"wx")},mayDelete(f,h,_){var b;try{b=q.lookupNode(f,h)}catch(I){return I.errno}var S=q.nodePermissions(f,"wx");if(S)return S;if(_){if(!q.isDir(b.mode))return 54;if(q.isRoot(b)||q.getPath(b)===q.cwd())return 10}else if(q.isDir(b.mode))return 31;return 0},mayOpen(f,h){return f?q.isLink(f.mode)?32:q.isDir(f.mode)&&(q.flagsToPermissionString(h)!=="r"||h&512)?31:q.nodePermissions(f,q.flagsToPermissionString(h)):44},MAX_OPEN_FDS:4096,nextfd(){for(var f=0;f<=q.MAX_OPEN_FDS;f++)if(!q.streams[f])return f;throw new q.ErrnoError(33)},getStreamChecked(f){var h=q.getStream(f);if(!h)throw new q.ErrnoError(8);return h},getStream:f=>q.streams[f],createStream(f,h=-1){return f=Object.assign(new q.FSStream,f),h==-1&&(h=q.nextfd()),f.fd=h,q.streams[h]=f,f},closeStream(f){q.streams[f]=null},dupStream(f,h=-1){var _=q.createStream(f,h);return _.stream_ops?.dup?.(_),_},chrdev_stream_ops:{open(f){var h=q.getDevice(f.node.rdev);f.stream_ops=h.stream_ops,f.stream_ops.open?.(f)},llseek(){throw new q.ErrnoError(70)}},major:f=>f>>8,minor:f=>f&255,makedev:(f,h)=>f<<8|h,registerDevice(f,h){q.devices[f]={stream_ops:h}},getDevice:f=>q.devices[f],getMounts(f){for(var h=[],_=[f];_.length;){var b=_.pop();h.push(b),_.push(...b.mounts)}return h},syncfs(f,h){typeof f=="function"&&(h=f,f=!1),q.syncFSRequests++,q.syncFSRequests>1&&D(`warning: ${q.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var _=q.getMounts(q.root.mount),b=0;function S(X){return q.syncFSRequests--,h(X)}function I(X){if(X)return I.errored?void 0:(I.errored=!0,S(X));++b>=_.length&&S(null)}_.forEach(X=>{if(!X.type.syncfs)return I(null);X.type.syncfs(X,f,I)})},mount(f,h,_){var b=_==="/",S=!_,I;if(b&&q.root)throw new q.ErrnoError(10);if(!b&&!S){var X=q.lookupPath(_,{follow_mount:!1});if(_=X.path,I=X.node,q.isMountpoint(I))throw new q.ErrnoError(10);if(!q.isDir(I.mode))throw new q.ErrnoError(54)}var re={type:f,opts:h,mountpoint:_,mounts:[]},Le=f.mount(re);return Le.mount=re,re.root=Le,b?q.root=Le:I&&(I.mounted=re,I.mount&&I.mount.mounts.push(re)),Le},unmount(f){var h=q.lookupPath(f,{follow_mount:!1});if(!q.isMountpoint(h.node))throw new q.ErrnoError(28);var _=h.node,b=_.mounted,S=q.getMounts(b);Object.keys(q.nameTable).forEach(X=>{for(var re=q.nameTable[X];re;){var Le=re.name_next;S.includes(re.mount)&&q.destroyNode(re),re=Le}}),_.mounted=null;var I=_.mount.mounts.indexOf(b);_.mount.mounts.splice(I,1)},lookup(f,h){return f.node_ops.lookup(f,h)},mknod(f,h,_){var b=q.lookupPath(f,{parent:!0}),S=b.node,I=ue.basename(f);if(!I||I==="."||I==="..")throw new q.ErrnoError(28);var X=q.mayCreate(S,I);if(X)throw new q.ErrnoError(X);if(!S.node_ops.mknod)throw new q.ErrnoError(63);return S.node_ops.mknod(S,I,h,_)},create(f,h){return h=h!==void 0?h:438,h&=4095,h|=32768,q.mknod(f,h,0)},mkdir(f,h){return h=h!==void 0?h:511,h&=1023,h|=16384,q.mknod(f,h,0)},mkdirTree(f,h){for(var _=f.split("/"),b="",S=0;S<_.length;++S)if(_[S]){b+="/"+_[S];try{q.mkdir(b,h)}catch(I){if(I.errno!=20)throw I}}},mkdev(f,h,_){return typeof _>"u"&&(_=h,h=438),h|=8192,q.mknod(f,h,_)},symlink(f,h){if(!De.resolve(f))throw new q.ErrnoError(44);var _=q.lookupPath(h,{parent:!0}),b=_.node;if(!b)throw new q.ErrnoError(44);var S=ue.basename(h),I=q.mayCreate(b,S);if(I)throw new q.ErrnoError(I);if(!b.node_ops.symlink)throw new q.ErrnoError(63);return b.node_ops.symlink(b,S,f)},rename(f,h){var _=ue.dirname(f),b=ue.dirname(h),S=ue.basename(f),I=ue.basename(h),X,re,Le;if(X=q.lookupPath(f,{parent:!0}),re=X.node,X=q.lookupPath(h,{parent:!0}),Le=X.node,!re||!Le)throw new q.ErrnoError(44);if(re.mount!==Le.mount)throw new q.ErrnoError(75);var Ue=q.lookupNode(re,S),Je=De.relative(f,b);if(Je.charAt(0)!==".")throw new q.ErrnoError(28);if(Je=De.relative(h,_),Je.charAt(0)!==".")throw new q.ErrnoError(55);var rt;try{rt=q.lookupNode(Le,I)}catch{}if(Ue!==rt){var Ae=q.isDir(Ue.mode),xe=q.mayDelete(re,S,Ae);if(xe)throw new q.ErrnoError(xe);if(xe=rt?q.mayDelete(Le,I,Ae):q.mayCreate(Le,I),xe)throw new q.ErrnoError(xe);if(!re.node_ops.rename)throw new q.ErrnoError(63);if(q.isMountpoint(Ue)||rt&&q.isMountpoint(rt))throw new q.ErrnoError(10);if(Le!==re&&(xe=q.nodePermissions(re,"w"),xe))throw new q.ErrnoError(xe);q.hashRemoveNode(Ue);try{re.node_ops.rename(Ue,Le,I),Ue.parent=Le}catch(ze){throw ze}finally{q.hashAddNode(Ue)}}},rmdir(f){var h=q.lookupPath(f,{parent:!0}),_=h.node,b=ue.basename(f),S=q.lookupNode(_,b),I=q.mayDelete(_,b,!0);if(I)throw new q.ErrnoError(I);if(!_.node_ops.rmdir)throw new q.ErrnoError(63);if(q.isMountpoint(S))throw new q.ErrnoError(10);_.node_ops.rmdir(_,b),q.destroyNode(S)},readdir(f){var h=q.lookupPath(f,{follow:!0}),_=h.node;if(!_.node_ops.readdir)throw new q.ErrnoError(54);return _.node_ops.readdir(_)},unlink(f){var h=q.lookupPath(f,{parent:!0}),_=h.node;if(!_)throw new q.ErrnoError(44);var b=ue.basename(f),S=q.lookupNode(_,b),I=q.mayDelete(_,b,!1);if(I)throw new q.ErrnoError(I);if(!_.node_ops.unlink)throw new q.ErrnoError(63);if(q.isMountpoint(S))throw new q.ErrnoError(10);_.node_ops.unlink(_,b),q.destroyNode(S)},readlink(f){var h=q.lookupPath(f),_=h.node;if(!_)throw new q.ErrnoError(44);if(!_.node_ops.readlink)throw new q.ErrnoError(28);return De.resolve(q.getPath(_.parent),_.node_ops.readlink(_))},stat(f,h){var _=q.lookupPath(f,{follow:!h}),b=_.node;if(!b)throw new q.ErrnoError(44);if(!b.node_ops.getattr)throw new q.ErrnoError(63);return b.node_ops.getattr(b)},lstat(f){return q.stat(f,!0)},chmod(f,h,_){var b;if(typeof f=="string"){var S=q.lookupPath(f,{follow:!_});b=S.node}else b=f;if(!b.node_ops.setattr)throw new q.ErrnoError(63);b.node_ops.setattr(b,{mode:h&4095|b.mode&-4096,timestamp:Date.now()})},lchmod(f,h){q.chmod(f,h,!0)},fchmod(f,h){var _=q.getStreamChecked(f);q.chmod(_.node,h)},chown(f,h,_,b){var S;if(typeof f=="string"){var I=q.lookupPath(f,{follow:!b});S=I.node}else S=f;if(!S.node_ops.setattr)throw new q.ErrnoError(63);S.node_ops.setattr(S,{timestamp:Date.now()})},lchown(f,h,_){q.chown(f,h,_,!0)},fchown(f,h,_){var b=q.getStreamChecked(f);q.chown(b.node,h,_)},truncate(f,h){if(h<0)throw new q.ErrnoError(28);var _;if(typeof f=="string"){var b=q.lookupPath(f,{follow:!0});_=b.node}else _=f;if(!_.node_ops.setattr)throw new q.ErrnoError(63);if(q.isDir(_.mode))throw new q.ErrnoError(31);if(!q.isFile(_.mode))throw new q.ErrnoError(28);var S=q.nodePermissions(_,"w");if(S)throw new q.ErrnoError(S);_.node_ops.setattr(_,{size:h,timestamp:Date.now()})},ftruncate(f,h){var _=q.getStreamChecked(f);if(!(_.flags&2097155))throw new q.ErrnoError(28);q.truncate(_.node,h)},utime(f,h,_){var b=q.lookupPath(f,{follow:!0}),S=b.node;S.node_ops.setattr(S,{timestamp:Math.max(h,_)})},open(f,h,_){if(f==="")throw new q.ErrnoError(44);h=typeof h=="string"?zc(h):h,h&64?(_=typeof _>"u"?438:_,_=_&4095|32768):_=0;var b;if(typeof f=="object")b=f;else{f=ue.normalize(f);try{var S=q.lookupPath(f,{follow:!(h&131072)});b=S.node}catch{}}var I=!1;if(h&64)if(b){if(h&128)throw new q.ErrnoError(20)}else b=q.mknod(f,_,0),I=!0;if(!b)throw new q.ErrnoError(44);if(q.isChrdev(b.mode)&&(h&=-513),h&65536&&!q.isDir(b.mode))throw new q.ErrnoError(54);if(!I){var X=q.mayOpen(b,h);if(X)throw new q.ErrnoError(X)}h&512&&!I&&q.truncate(b,0),h&=-131713;var re=q.createStream({node:b,path:q.getPath(b),flags:h,seekable:!0,position:0,stream_ops:b.stream_ops,ungotten:[],error:!1});return re.stream_ops.open&&re.stream_ops.open(re),n.logReadFiles&&!(h&1)&&(q.readFiles||(q.readFiles={}),f in q.readFiles||(q.readFiles[f]=1)),re},close(f){if(q.isClosed(f))throw new q.ErrnoError(8);f.getdents&&(f.getdents=null);try{f.stream_ops.close&&f.stream_ops.close(f)}catch(h){throw h}finally{q.closeStream(f.fd)}f.fd=null},isClosed(f){return f.fd===null},llseek(f,h,_){if(q.isClosed(f))throw new q.ErrnoError(8);if(!f.seekable||!f.stream_ops.llseek)throw new q.ErrnoError(70);if(_!=0&&_!=1&&_!=2)throw new q.ErrnoError(28);return f.position=f.stream_ops.llseek(f,h,_),f.ungotten=[],f.position},read(f,h,_,b,S){if(b<0||S<0)throw new q.ErrnoError(28);if(q.isClosed(f))throw new q.ErrnoError(8);if((f.flags&2097155)===1)throw new q.ErrnoError(8);if(q.isDir(f.node.mode))throw new q.ErrnoError(31);if(!f.stream_ops.read)throw new q.ErrnoError(28);var I=typeof S<"u";if(!I)S=f.position;else if(!f.seekable)throw new q.ErrnoError(70);var X=f.stream_ops.read(f,h,_,b,S);return I||(f.position+=X),X},write(f,h,_,b,S,I){if(b<0||S<0)throw new q.ErrnoError(28);if(q.isClosed(f))throw new q.ErrnoError(8);if(!(f.flags&2097155))throw new q.ErrnoError(8);if(q.isDir(f.node.mode))throw new q.ErrnoError(31);if(!f.stream_ops.write)throw new q.ErrnoError(28);f.seekable&&f.flags&1024&&q.llseek(f,0,2);var X=typeof S<"u";if(!X)S=f.position;else if(!f.seekable)throw new q.ErrnoError(70);var re=f.stream_ops.write(f,h,_,b,S,I);return X||(f.position+=re),re},allocate(f,h,_){if(q.isClosed(f))throw new q.ErrnoError(8);if(h<0||_<=0)throw new q.ErrnoError(28);if(!(f.flags&2097155))throw new q.ErrnoError(8);if(!q.isFile(f.node.mode)&&!q.isDir(f.node.mode))throw new q.ErrnoError(43);if(!f.stream_ops.allocate)throw new q.ErrnoError(138);f.stream_ops.allocate(f,h,_)},mmap(f,h,_,b,S){if(b&2&&!(S&2)&&(f.flags&2097155)!==2)throw new q.ErrnoError(2);if((f.flags&2097155)===1)throw new q.ErrnoError(2);if(!f.stream_ops.mmap)throw new q.ErrnoError(43);if(!h)throw new q.ErrnoError(28);return f.stream_ops.mmap(f,h,_,b,S)},msync(f,h,_,b,S){return f.stream_ops.msync?f.stream_ops.msync(f,h,_,b,S):0},ioctl(f,h,_){if(!f.stream_ops.ioctl)throw new q.ErrnoError(59);return f.stream_ops.ioctl(f,h,_)},readFile(f,h={}){if(h.flags=h.flags||0,h.encoding=h.encoding||"binary",h.encoding!=="utf8"&&h.encoding!=="binary")throw new Error(`Invalid encoding type "${h.encoding}"`);var _,b=q.open(f,h.flags),S=q.stat(f),I=S.size,X=new Uint8Array(I);return q.read(b,X,0,I,0),h.encoding==="utf8"?_=_t(X,0):h.encoding==="binary"&&(_=X),q.close(b),_},writeFile(f,h,_={}){_.flags=_.flags||577;var b=q.open(f,_.flags,_.mode);if(typeof h=="string"){var S=new Uint8Array(wr(h)+1),I=yr(h,S,0,S.length);q.write(b,S,0,I,void 0,_.canOwn)}else if(ArrayBuffer.isView(h))q.write(b,h,0,h.byteLength,void 0,_.canOwn);else throw new Error("Unsupported data type");q.close(b)},cwd:()=>q.currentPath,chdir(f){var h=q.lookupPath(f,{follow:!0});if(h.node===null)throw new q.ErrnoError(44);if(!q.isDir(h.node.mode))throw new q.ErrnoError(54);var _=q.nodePermissions(h.node,"x");if(_)throw new q.ErrnoError(_);q.currentPath=h.path},createDefaultDirectories(){q.mkdir("/tmp"),q.mkdir("/home"),q.mkdir("/home/web_user")},createDefaultDevices(){q.mkdir("/dev"),q.registerDevice(q.makedev(1,3),{read:()=>0,write:(b,S,I,X,re)=>X}),q.mkdev("/dev/null",q.makedev(1,3)),an.register(q.makedev(5,0),an.default_tty_ops),an.register(q.makedev(6,0),an.default_tty1_ops),q.mkdev("/dev/tty",q.makedev(5,0)),q.mkdev("/dev/tty1",q.makedev(6,0));var f=new Uint8Array(1024),h=0,_=()=>(h===0&&(h=qe(f).byteLength),f[--h]);q.createDevice("/dev","random",_),q.createDevice("/dev","urandom",_),q.mkdir("/dev/shm"),q.mkdir("/dev/shm/tmp")},createSpecialDirectories(){q.mkdir("/proc");var f=q.mkdir("/proc/self");q.mkdir("/proc/self/fd"),q.mount({mount(){var h=q.createNode(f,"fd",16895,73);return h.node_ops={lookup(_,b){var S=+b,I=q.getStreamChecked(S),X={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>I.path}};return X.parent=X,X}},h}},{},"/proc/self/fd")},createStandardStreams(f,h,_){f?q.createDevice("/dev","stdin",f):q.symlink("/dev/tty","/dev/stdin"),h?q.createDevice("/dev","stdout",null,h):q.symlink("/dev/tty","/dev/stdout"),_?q.createDevice("/dev","stderr",null,_):q.symlink("/dev/tty1","/dev/stderr"),q.open("/dev/stdin",0),q.open("/dev/stdout",1),q.open("/dev/stderr",1)},staticInit(){[44].forEach(f=>{q.genericErrors[f]=new q.ErrnoError(f),q.genericErrors[f].stack="<generic error, no stack>"}),q.nameTable=new Array(4096),q.mount(Vt,{},"/"),q.createDefaultDirectories(),q.createDefaultDevices(),q.createSpecialDirectories(),q.filesystems={MEMFS:Vt}},init(f,h,_){q.initialized=!0,f??=n.stdin,h??=n.stdout,_??=n.stderr,q.createStandardStreams(f,h,_)},quit(){q.initialized=!1;for(var f=0;f<q.streams.length;f++){var h=q.streams[f];h&&q.close(h)}},findObject(f,h){var _=q.analyzePath(f,h);return _.exists?_.object:null},analyzePath(f,h){try{var _=q.lookupPath(f,{follow:!h});f=_.path}catch{}var b={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var _=q.lookupPath(f,{parent:!0});b.parentExists=!0,b.parentPath=_.path,b.parentObject=_.node,b.name=ue.basename(f),_=q.lookupPath(f,{follow:!h}),b.exists=!0,b.path=_.path,b.object=_.node,b.name=_.node.name,b.isRoot=_.path==="/"}catch(S){b.error=S.errno}return b},createPath(f,h,_,b){f=typeof f=="string"?f:q.getPath(f);for(var S=h.split("/").reverse();S.length;){var I=S.pop();if(I){var X=ue.join2(f,I);try{q.mkdir(X)}catch{}f=X}}return X},createFile(f,h,_,b,S){var I=ue.join2(typeof f=="string"?f:q.getPath(f),h),X=eo(b,S);return q.create(I,X)},createDataFile(f,h,_,b,S,I){var X=h;f&&(f=typeof f=="string"?f:q.getPath(f),X=h?ue.join2(f,h):f);var re=eo(b,S),Le=q.create(X,re);if(_){if(typeof _=="string"){for(var Ue=new Array(_.length),Je=0,rt=_.length;Je<rt;++Je)Ue[Je]=_.charCodeAt(Je);_=Ue}q.chmod(Le,re|146);var Ae=q.open(Le,577);q.write(Ae,_,0,_.length,0,I),q.close(Ae),q.chmod(Le,re)}},createDevice(f,h,_,b){var S=ue.join2(typeof f=="string"?f:q.getPath(f),h),I=eo(!!_,!!b);q.createDevice.major||(q.createDevice.major=64);var X=q.makedev(q.createDevice.major++,0);return q.registerDevice(X,{open(re){re.seekable=!1},close(re){b?.buffer?.length&&b(10)},read(re,Le,Ue,Je,rt){for(var Ae=0,xe=0;xe<Je;xe++){var ze;try{ze=_()}catch{throw new q.ErrnoError(29)}if(ze===void 0&&Ae===0)throw new q.ErrnoError(6);if(ze==null)break;Ae++,Le[Ue+xe]=ze}return Ae&&(re.node.timestamp=Date.now()),Ae},write(re,Le,Ue,Je,rt){for(var Ae=0;Ae<Je;Ae++)try{b(Le[Ue+Ae])}catch{throw new q.ErrnoError(29)}return Je&&(re.node.timestamp=Date.now()),Ae}}),q.mkdev(S,I,X)},forceLoadFile(f){if(f.isDevice||f.isFolder||f.link||f.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");try{f.contents=C(f.url),f.usedBytes=f.contents.length}catch{throw new q.ErrnoError(29)}},createLazyFile(f,h,_,b,S){class I{constructor(){this.lengthKnown=!1,this.chunks=[]}get(xe){if(!(xe>this.length-1||xe<0)){var ze=xe%this.chunkSize,le=xe/this.chunkSize|0;return this.getter(le)[ze]}}setDataGetter(xe){this.getter=xe}cacheLength(){var xe=new XMLHttpRequest;if(xe.open("HEAD",_,!1),xe.send(null),!(xe.status>=200&&xe.status<300||xe.status===304))throw new Error("Couldn't load "+_+". Status: "+xe.status);var ze=Number(xe.getResponseHeader("Content-length")),le,pe=(le=xe.getResponseHeader("Accept-Ranges"))&&le==="bytes",be=(le=xe.getResponseHeader("Content-Encoding"))&&le==="gzip",$e=1024*1024;pe||($e=ze);var Be=(Me,ht)=>{if(Me>ht)throw new Error("invalid range ("+Me+", "+ht+") or no bytes requested!");if(ht>ze-1)throw new Error("only "+ze+" bytes available! programmer error!");var F=new XMLHttpRequest;if(F.open("GET",_,!1),ze!==$e&&F.setRequestHeader("Range","bytes="+Me+"-"+ht),F.responseType="arraybuffer",F.overrideMimeType&&F.overrideMimeType("text/plain; charset=x-user-defined"),F.send(null),!(F.status>=200&&F.status<300||F.status===304))throw new Error("Couldn't load "+_+". Status: "+F.status);return F.response!==void 0?new Uint8Array(F.response||[]):$r(F.responseText||"")},we=this;we.setDataGetter(Me=>{var ht=Me*$e,F=(Me+1)*$e-1;if(F=Math.min(F,ze-1),typeof we.chunks[Me]>"u"&&(we.chunks[Me]=Be(ht,F)),typeof we.chunks[Me]>"u")throw new Error("doXHR failed!");return we.chunks[Me]}),(be||!ze)&&($e=ze=1,ze=this.getter(0).length,$e=ze,A("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=ze,this._chunkSize=$e,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(typeof XMLHttpRequest<"u"){if(!d)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var X=new I,re={isDevice:!1,contents:X}}else var re={isDevice:!1,url:_};var Le=q.createFile(f,h,re,b,S);re.contents?Le.contents=re.contents:re.url&&(Le.contents=null,Le.url=re.url),Object.defineProperties(Le,{usedBytes:{get:function(){return this.contents.length}}});var Ue={},Je=Object.keys(Le.stream_ops);Je.forEach(Ae=>{var xe=Le.stream_ops[Ae];Ue[Ae]=(...ze)=>(q.forceLoadFile(Le),xe(...ze))});function rt(Ae,xe,ze,le,pe){var be=Ae.node.contents;if(pe>=be.length)return 0;var $e=Math.min(be.length-pe,le);if(be.slice)for(var Be=0;Be<$e;Be++)xe[ze+Be]=be[pe+Be];else for(var Be=0;Be<$e;Be++)xe[ze+Be]=be.get(pe+Be);return $e}return Ue.read=(Ae,xe,ze,le,pe)=>(q.forceLoadFile(Le),rt(Ae,xe,ze,le,pe)),Ue.mmap=(Ae,xe,ze,le,pe)=>{q.forceLoadFile(Le);var be=An(xe);if(!be)throw new q.ErrnoError(48);return rt(Ae,G,be,xe,ze),{ptr:be,allocated:!0}},Le.stream_ops=Ue,Le}},dh=(f,h)=>f?_t(B,f,h):"",rr={DEFAULT_POLLMASK:5,calculateAt(f,h,_){if(ue.isAbs(h))return h;var b;if(f===-100)b=q.cwd();else{var S=rr.getStreamFromFD(f);b=S.path}if(h.length==0){if(!_)throw new q.ErrnoError(44);return b}return ue.join2(b,h)},doStat(f,h,_){var b=f(h);ie[_>>2]=b.dev,ie[_+4>>2]=b.mode,U[_+8>>2]=b.nlink,ie[_+12>>2]=b.uid,ie[_+16>>2]=b.gid,ie[_+20>>2]=b.rdev,ne[_+24>>3]=BigInt(b.size),ie[_+32>>2]=4096,ie[_+36>>2]=b.blocks;var S=b.atime.getTime(),I=b.mtime.getTime(),X=b.ctime.getTime();return ne[_+40>>3]=BigInt(Math.floor(S/1e3)),U[_+48>>2]=S%1e3*1e3*1e3,ne[_+56>>3]=BigInt(Math.floor(I/1e3)),U[_+64>>2]=I%1e3*1e3*1e3,ne[_+72>>3]=BigInt(Math.floor(X/1e3)),U[_+80>>2]=X%1e3*1e3*1e3,ne[_+88>>3]=BigInt(b.ino),0},doMsync(f,h,_,b,S){if(!q.isFile(h.node.mode))throw new q.ErrnoError(43);if(b&2)return 0;var I=B.slice(f,f+_);q.msync(h,I,S,_,b)},getStreamFromFD(f){var h=q.getStreamChecked(f);return h},varargs:void 0,getStr(f){var h=dh(f);return h}};function fh(f,h){try{return f=rr.getStr(f),q.chmod(f,h),0}catch(_){if(typeof q>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function hh(f,h,_,b){try{if(h=rr.getStr(h),h=rr.calculateAt(f,h),_&-8)return-28;var S=q.lookupPath(h,{follow:!0}),I=S.node;if(!I)return-44;var X="";return _&4&&(X+="r"),_&2&&(X+="w"),_&1&&(X+="x"),X&&q.nodePermissions(I,X)?-2:0}catch(re){if(typeof q>"u"||re.name!=="ErrnoError")throw re;return-re.errno}}function ph(f,h){try{return q.fchmod(f,h),0}catch(_){if(typeof q>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function Uc(f,h,_){try{return q.fchown(f,h,_),0}catch(b){if(typeof q>"u"||b.name!=="ErrnoError")throw b;return-b.errno}}function fl(){var f=ie[+rr.varargs>>2];return rr.varargs+=4,f}var as=fl;function Vc(f,h,_){rr.varargs=_;try{var b=rr.getStreamFromFD(f);switch(h){case 0:{var S=fl();if(S<0)return-28;for(;q.streams[S];)S++;var I;return I=q.dupStream(b,S),I.fd}case 1:case 2:return 0;case 3:return b.flags;case 4:{var S=fl();return b.flags|=S,0}case 12:{var S=as(),X=0;return Z[S+X>>1]=2,0}case 13:case 14:return 0}return-28}catch(re){if(typeof q>"u"||re.name!=="ErrnoError")throw re;return-re.errno}}function hl(f,h){try{var _=rr.getStreamFromFD(f);return rr.doStat(q.stat,_.path,h)}catch(b){if(typeof q>"u"||b.name!=="ErrnoError")throw b;return-b.errno}}var eg=0x20000000000000,pl=-0x20000000000000,to=f=>f<pl||f>eg?NaN:Number(f);function ou(f,h){h=to(h);try{return isNaN(h)?61:(q.ftruncate(f,h),0)}catch(_){if(typeof q>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}var ro=(f,h,_)=>yr(f,B,h,_);function tg(f,h){try{if(h===0)return-28;var _=q.cwd(),b=wr(_)+1;return h<b?-68:(ro(_,f,h),b)}catch(S){if(typeof q>"u"||S.name!=="ErrnoError")throw S;return-S.errno}}function rg(f,h,_){rr.varargs=_;try{var b=rr.getStreamFromFD(f);switch(h){case 21509:return b.tty?0:-59;case 21505:{if(!b.tty)return-59;if(b.tty.ops.ioctl_tcgets){var S=b.tty.ops.ioctl_tcgets(b),I=as();ie[I>>2]=S.c_iflag||0,ie[I+4>>2]=S.c_oflag||0,ie[I+8>>2]=S.c_cflag||0,ie[I+12>>2]=S.c_lflag||0;for(var X=0;X<32;X++)G[I+X+17]=S.c_cc[X]||0;return 0}return 0}case 21510:case 21511:case 21512:return b.tty?0:-59;case 21506:case 21507:case 21508:{if(!b.tty)return-59;if(b.tty.ops.ioctl_tcsets){for(var I=as(),re=ie[I>>2],Le=ie[I+4>>2],Ue=ie[I+8>>2],Je=ie[I+12>>2],rt=[],X=0;X<32;X++)rt.push(G[I+X+17]);return b.tty.ops.ioctl_tcsets(b.tty,h,{c_iflag:re,c_oflag:Le,c_cflag:Ue,c_lflag:Je,c_cc:rt})}return 0}case 21519:{if(!b.tty)return-59;var I=as();return ie[I>>2]=0,0}case 21520:return b.tty?-28:-59;case 21531:{var I=as();return q.ioctl(b,h,I)}case 21523:{if(!b.tty)return-59;if(b.tty.ops.ioctl_tiocgwinsz){var Ae=b.tty.ops.ioctl_tiocgwinsz(b.tty),I=as();Z[I>>1]=Ae[0],Z[I+2>>1]=Ae[1]}return 0}case 21524:return b.tty?0:-59;case 21515:return b.tty?0:-59;default:return-28}}catch(xe){if(typeof q>"u"||xe.name!=="ErrnoError")throw xe;return-xe.errno}}function ng(f,h){try{return f=rr.getStr(f),rr.doStat(q.lstat,f,h)}catch(_){if(typeof q>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function No(f,h,_){try{return h=rr.getStr(h),h=rr.calculateAt(f,h),h=ue.normalize(h),h[h.length-1]==="/"&&(h=h.substr(0,h.length-1)),q.mkdir(h,_,0),0}catch(b){if(typeof q>"u"||b.name!=="ErrnoError")throw b;return-b.errno}}function mh(f,h,_,b){try{h=rr.getStr(h);var S=b&256,I=b&4096;return b=b&-6401,h=rr.calculateAt(f,h,I),rr.doStat(S?q.lstat:q.stat,h,_)}catch(X){if(typeof q>"u"||X.name!=="ErrnoError")throw X;return-X.errno}}function yh(f,h,_,b){rr.varargs=b;try{h=rr.getStr(h),h=rr.calculateAt(f,h);var S=b?fl():0;return q.open(h,_,S).fd}catch(I){if(typeof q>"u"||I.name!=="ErrnoError")throw I;return-I.errno}}function ig(f,h,_,b){try{if(h=rr.getStr(h),h=rr.calculateAt(f,h),b<=0)return-28;var S=q.readlink(h),I=Math.min(b,wr(S)),X=G[_+I];return ro(S,_,b+1),G[_+I]=X,I}catch(re){if(typeof q>"u"||re.name!=="ErrnoError")throw re;return-re.errno}}function gh(f){try{return f=rr.getStr(f),q.rmdir(f),0}catch(h){if(typeof q>"u"||h.name!=="ErrnoError")throw h;return-h.errno}}function vh(f,h){try{return f=rr.getStr(f),rr.doStat(q.stat,f,h)}catch(_){if(typeof q>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function _h(f,h,_){try{return h=rr.getStr(h),h=rr.calculateAt(f,h),_===0?q.unlink(h):_===512?q.rmdir(h):ft("Invalid flags passed to unlinkat"),0}catch(b){if(typeof q>"u"||b.name!=="ErrnoError")throw b;return-b.errno}}var Hc=f=>U[f>>2]+ie[f+4>>2]*0x100000000;function sg(f,h,_,b){try{h=rr.getStr(h),h=rr.calculateAt(f,h,!0);var S=Date.now(),I,X;if(!_)I=S,X=S;else{var re=Hc(_),Le=ie[_+8>>2];Le==0x3fffffff?I=S:Le==0x3ffffffe?I=-1:I=re*1e3+Le/(1e3*1e3),_+=16,re=Hc(_),Le=ie[_+8>>2],Le==0x3fffffff?X=S:Le==0x3ffffffe?X=-1:X=re*1e3+Le/(1e3*1e3)}return(X!=-1||I!=-1)&&q.utime(h,I,X),0}catch(Ue){if(typeof q>"u"||Ue.name!=="ErrnoError")throw Ue;return-Ue.errno}}var og=1,en=()=>og,ag=f=>f%4===0&&(f%100!==0||f%400===0),Qc=[0,31,60,91,121,152,182,213,244,274,305,335],bh=[0,31,59,90,120,151,181,212,243,273,304,334],au=f=>{var h=ag(f.getFullYear()),_=h?Qc:bh,b=_[f.getMonth()]+f.getDate()-1;return b};function lg(f,h){f=to(f);var _=new Date(f*1e3);ie[h>>2]=_.getSeconds(),ie[h+4>>2]=_.getMinutes(),ie[h+8>>2]=_.getHours(),ie[h+12>>2]=_.getDate(),ie[h+16>>2]=_.getMonth(),ie[h+20>>2]=_.getFullYear()-1900,ie[h+24>>2]=_.getDay();var b=au(_)|0;ie[h+28>>2]=b,ie[h+36>>2]=-(_.getTimezoneOffset()*60);var S=new Date(_.getFullYear(),0,1),I=new Date(_.getFullYear(),6,1).getTimezoneOffset(),X=S.getTimezoneOffset(),re=(I!=X&&_.getTimezoneOffset()==Math.min(X,I))|0;ie[h+32>>2]=re}function wh(f,h,_,b,S,I,X){S=to(S);try{if(isNaN(S))return 61;var re=rr.getStreamFromFD(b),Le=q.mmap(re,f,S,h,_),Ue=Le.ptr;return ie[I>>2]=Le.allocated,U[X>>2]=Ue,0}catch(Je){if(typeof q>"u"||Je.name!=="ErrnoError")throw Je;return-Je.errno}}function lu(f,h,_,b,S,I){I=to(I);try{var X=rr.getStreamFromFD(S);_&2&&rr.doMsync(f,X,h,b,I)}catch(re){if(typeof q>"u"||re.name!=="ErrnoError")throw re;return-re.errno}}var ls=(f,h,_,b)=>{var S=new Date().getFullYear(),I=new Date(S,0,1),X=new Date(S,6,1),re=I.getTimezoneOffset(),Le=X.getTimezoneOffset(),Ue=Math.max(re,Le);U[f>>2]=Ue*60,ie[h>>2]=+(re!=Le);var Je=xe=>{var ze=xe>=0?"-":"+",le=Math.abs(xe),pe=String(Math.floor(le/60)).padStart(2,"0"),be=String(le%60).padStart(2,"0");return`UTC${ze}${pe}${be}`},rt=Je(re),Ae=Je(Le);Le<re?(ro(rt,_,17),ro(Ae,b,17)):(ro(rt,b,17),ro(Ae,_,17))},ug=()=>Date.now(),vi;vi=()=>performance.now();var cg=()=>0x80000000,dg=f=>{var h=$.buffer,_=(f-h.byteLength+65535)/65536;try{return $.grow(_),M(),1}catch{}},fg=f=>{var h=B.length;f>>>=0;var _=cg();if(f>_)return!1;for(var b=1;b<=4;b*=2){var S=h*(1+.2/b);S=Math.min(S,f+0x6000000);var I=Math.min(_,Eo(Math.max(f,S),65536)),X=dg(I);if(X)return!0}return!1},ca={},uu=()=>w||"./this.program",Is=()=>{if(!Is.strings){var f=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",h={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:f,_:uu()};for(var _ in ca)ca[_]===void 0?delete h[_]:h[_]=ca[_];var b=[];for(var _ in h)b.push(`${_}=${h[_]}`);Is.strings=b}return Is.strings},cu=(f,h)=>{for(var _=0;_<f.length;++_)G[h++]=f.charCodeAt(_);G[h]=0},hg=(f,h)=>{var _=0;return Is().forEach((b,S)=>{var I=h+_;U[f+S*4>>2]=I,cu(b,I),_+=b.length+1}),0},pg=(f,h)=>{var _=Is();U[f>>2]=_.length;var b=0;return _.forEach(S=>b+=S.length+1),U[h>>2]=b,0};function Kc(f){try{var h=rr.getStreamFromFD(f);return q.close(h),0}catch(_){if(typeof q>"u"||_.name!=="ErrnoError")throw _;return _.errno}}function xh(f,h){try{var _=0,b=0,S=0,I=rr.getStreamFromFD(f),X=I.tty?2:q.isDir(I.mode)?3:q.isLink(I.mode)?7:4;return G[h]=X,Z[h+2>>1]=S,ne[h+8>>3]=BigInt(_),ne[h+16>>3]=BigInt(b),0}catch(re){if(typeof q>"u"||re.name!=="ErrnoError")throw re;return re.errno}}var Gc=(f,h,_,b)=>{for(var S=0,I=0;I<_;I++){var X=U[h>>2],re=U[h+4>>2];h+=8;var Le=q.read(f,G,X,re,b);if(Le<0)return-1;if(S+=Le,Le<re)break}return S};function ml(f,h,_,b){try{var S=rr.getStreamFromFD(f),I=Gc(S,h,_);return U[b>>2]=I,0}catch(X){if(typeof q>"u"||X.name!=="ErrnoError")throw X;return X.errno}}function mg(f,h,_,b){h=to(h);try{if(isNaN(h))return 61;var S=rr.getStreamFromFD(f);return q.llseek(S,h,_),ne[b>>3]=BigInt(S.position),S.getdents&&h===0&&_===0&&(S.getdents=null),0}catch(I){if(typeof q>"u"||I.name!=="ErrnoError")throw I;return I.errno}}function Jc(f){try{var h=rr.getStreamFromFD(f);return h.stream_ops?.fsync?h.stream_ops.fsync(h):0}catch(_){if(typeof q>"u"||_.name!=="ErrnoError")throw _;return _.errno}}var xr=(f,h,_,b)=>{for(var S=0,I=0;I<_;I++){var X=U[h>>2],re=U[h+4>>2];h+=8;var Le=q.write(f,G,X,re,b);if(Le<0)return-1;if(S+=Le,Le<re)break}return S};function Sh(f,h,_,b){try{var S=rr.getStreamFromFD(f),I=xr(S,h,_);return U[b>>2]=I,0}catch(X){if(typeof q>"u"||X.name!=="ErrnoError")throw X;return X.errno}}q.createPreloadedFile=Wc,q.staticInit();var Zc={__syscall_chmod:fh,__syscall_faccessat:hh,__syscall_fchmod:ph,__syscall_fchown32:Uc,__syscall_fcntl64:Vc,__syscall_fstat64:hl,__syscall_ftruncate64:ou,__syscall_getcwd:tg,__syscall_ioctl:rg,__syscall_lstat64:ng,__syscall_mkdirat:No,__syscall_newfstatat:mh,__syscall_openat:yh,__syscall_readlinkat:ig,__syscall_rmdir:gh,__syscall_stat64:vh,__syscall_unlinkat:_h,__syscall_utimensat:sg,_emscripten_get_now_is_monotonic:en,_localtime_js:lg,_mmap_js:wh,_munmap_js:lu,_tzset_js:ls,emscripten_date_now:ug,emscripten_get_now:vi,emscripten_resize_heap:fg,environ_get:hg,environ_sizes_get:pg,fd_close:Kc,fd_fdstat_get:xh,fd_read:ml,fd_seek:mg,fd_sync:Jc,fd_write:Sh,memory:$},te=mr();n._sqlite3_status64=(f,h,_,b)=>(n._sqlite3_status64=te.sqlite3_status64)(f,h,_,b),n._sqlite3_status=(f,h,_,b)=>(n._sqlite3_status=te.sqlite3_status)(f,h,_,b),n._sqlite3_db_status=(f,h,_,b,S)=>(n._sqlite3_db_status=te.sqlite3_db_status)(f,h,_,b,S),n._sqlite3_msize=f=>(n._sqlite3_msize=te.sqlite3_msize)(f),n._sqlite3_vfs_find=f=>(n._sqlite3_vfs_find=te.sqlite3_vfs_find)(f),n._sqlite3_initialize=()=>(n._sqlite3_initialize=te.sqlite3_initialize)(),n._sqlite3_malloc=f=>(n._sqlite3_malloc=te.sqlite3_malloc)(f),n._sqlite3_free=f=>(n._sqlite3_free=te.sqlite3_free)(f),n._sqlite3_vfs_register=(f,h)=>(n._sqlite3_vfs_register=te.sqlite3_vfs_register)(f,h),n._sqlite3_vfs_unregister=f=>(n._sqlite3_vfs_unregister=te.sqlite3_vfs_unregister)(f),n._sqlite3_malloc64=f=>(n._sqlite3_malloc64=te.sqlite3_malloc64)(f),n._sqlite3_realloc=(f,h)=>(n._sqlite3_realloc=te.sqlite3_realloc)(f,h),n._sqlite3_realloc64=(f,h)=>(n._sqlite3_realloc64=te.sqlite3_realloc64)(f,h),n._sqlite3_value_text=f=>(n._sqlite3_value_text=te.sqlite3_value_text)(f),n._sqlite3_randomness=(f,h)=>(n._sqlite3_randomness=te.sqlite3_randomness)(f,h),n._sqlite3_stricmp=(f,h)=>(n._sqlite3_stricmp=te.sqlite3_stricmp)(f,h),n._sqlite3_strnicmp=(f,h,_)=>(n._sqlite3_strnicmp=te.sqlite3_strnicmp)(f,h,_),n._sqlite3_uri_parameter=(f,h)=>(n._sqlite3_uri_parameter=te.sqlite3_uri_parameter)(f,h),n._sqlite3_uri_boolean=(f,h,_)=>(n._sqlite3_uri_boolean=te.sqlite3_uri_boolean)(f,h,_),n._sqlite3_serialize=(f,h,_,b)=>(n._sqlite3_serialize=te.sqlite3_serialize)(f,h,_,b),n._sqlite3_prepare_v2=(f,h,_,b,S)=>(n._sqlite3_prepare_v2=te.sqlite3_prepare_v2)(f,h,_,b,S),n._sqlite3_step=f=>(n._sqlite3_step=te.sqlite3_step)(f),n._sqlite3_column_int64=(f,h)=>(n._sqlite3_column_int64=te.sqlite3_column_int64)(f,h),n._sqlite3_reset=f=>(n._sqlite3_reset=te.sqlite3_reset)(f),n._sqlite3_exec=(f,h,_,b,S)=>(n._sqlite3_exec=te.sqlite3_exec)(f,h,_,b,S),n._sqlite3_column_int=(f,h)=>(n._sqlite3_column_int=te.sqlite3_column_int)(f,h),n._sqlite3_finalize=f=>(n._sqlite3_finalize=te.sqlite3_finalize)(f),n._sqlite3_file_control=(f,h,_,b)=>(n._sqlite3_file_control=te.sqlite3_file_control)(f,h,_,b),n._sqlite3_column_name=(f,h)=>(n._sqlite3_column_name=te.sqlite3_column_name)(f,h),n._sqlite3_column_text=(f,h)=>(n._sqlite3_column_text=te.sqlite3_column_text)(f,h),n._sqlite3_column_type=(f,h)=>(n._sqlite3_column_type=te.sqlite3_column_type)(f,h),n._sqlite3_errmsg=f=>(n._sqlite3_errmsg=te.sqlite3_errmsg)(f),n._sqlite3_deserialize=(f,h,_,b,S,I)=>(n._sqlite3_deserialize=te.sqlite3_deserialize)(f,h,_,b,S,I),n._sqlite3_clear_bindings=f=>(n._sqlite3_clear_bindings=te.sqlite3_clear_bindings)(f),n._sqlite3_value_blob=f=>(n._sqlite3_value_blob=te.sqlite3_value_blob)(f),n._sqlite3_value_bytes=f=>(n._sqlite3_value_bytes=te.sqlite3_value_bytes)(f),n._sqlite3_value_double=f=>(n._sqlite3_value_double=te.sqlite3_value_double)(f),n._sqlite3_value_int=f=>(n._sqlite3_value_int=te.sqlite3_value_int)(f),n._sqlite3_value_int64=f=>(n._sqlite3_value_int64=te.sqlite3_value_int64)(f),n._sqlite3_value_subtype=f=>(n._sqlite3_value_subtype=te.sqlite3_value_subtype)(f),n._sqlite3_value_pointer=(f,h)=>(n._sqlite3_value_pointer=te.sqlite3_value_pointer)(f,h),n._sqlite3_value_type=f=>(n._sqlite3_value_type=te.sqlite3_value_type)(f),n._sqlite3_value_nochange=f=>(n._sqlite3_value_nochange=te.sqlite3_value_nochange)(f),n._sqlite3_value_frombind=f=>(n._sqlite3_value_frombind=te.sqlite3_value_frombind)(f),n._sqlite3_value_dup=f=>(n._sqlite3_value_dup=te.sqlite3_value_dup)(f),n._sqlite3_value_free=f=>(n._sqlite3_value_free=te.sqlite3_value_free)(f),n._sqlite3_result_blob=(f,h,_,b)=>(n._sqlite3_result_blob=te.sqlite3_result_blob)(f,h,_,b),n._sqlite3_result_error_toobig=f=>(n._sqlite3_result_error_toobig=te.sqlite3_result_error_toobig)(f),n._sqlite3_result_error_nomem=f=>(n._sqlite3_result_error_nomem=te.sqlite3_result_error_nomem)(f),n._sqlite3_result_double=(f,h)=>(n._sqlite3_result_double=te.sqlite3_result_double)(f,h),n._sqlite3_result_error=(f,h,_)=>(n._sqlite3_result_error=te.sqlite3_result_error)(f,h,_),n._sqlite3_result_int=(f,h)=>(n._sqlite3_result_int=te.sqlite3_result_int)(f,h),n._sqlite3_result_int64=(f,h)=>(n._sqlite3_result_int64=te.sqlite3_result_int64)(f,h),n._sqlite3_result_null=f=>(n._sqlite3_result_null=te.sqlite3_result_null)(f),n._sqlite3_result_pointer=(f,h,_,b)=>(n._sqlite3_result_pointer=te.sqlite3_result_pointer)(f,h,_,b),n._sqlite3_result_subtype=(f,h)=>(n._sqlite3_result_subtype=te.sqlite3_result_subtype)(f,h),n._sqlite3_result_text=(f,h,_,b)=>(n._sqlite3_result_text=te.sqlite3_result_text)(f,h,_,b),n._sqlite3_result_zeroblob=(f,h)=>(n._sqlite3_result_zeroblob=te.sqlite3_result_zeroblob)(f,h),n._sqlite3_result_zeroblob64=(f,h)=>(n._sqlite3_result_zeroblob64=te.sqlite3_result_zeroblob64)(f,h),n._sqlite3_result_error_code=(f,h)=>(n._sqlite3_result_error_code=te.sqlite3_result_error_code)(f,h),n._sqlite3_user_data=f=>(n._sqlite3_user_data=te.sqlite3_user_data)(f),n._sqlite3_context_db_handle=f=>(n._sqlite3_context_db_handle=te.sqlite3_context_db_handle)(f),n._sqlite3_vtab_nochange=f=>(n._sqlite3_vtab_nochange=te.sqlite3_vtab_nochange)(f),n._sqlite3_vtab_in_first=(f,h)=>(n._sqlite3_vtab_in_first=te.sqlite3_vtab_in_first)(f,h),n._sqlite3_vtab_in_next=(f,h)=>(n._sqlite3_vtab_in_next=te.sqlite3_vtab_in_next)(f,h),n._sqlite3_aggregate_context=(f,h)=>(n._sqlite3_aggregate_context=te.sqlite3_aggregate_context)(f,h),n._sqlite3_get_auxdata=(f,h)=>(n._sqlite3_get_auxdata=te.sqlite3_get_auxdata)(f,h),n._sqlite3_set_auxdata=(f,h,_,b)=>(n._sqlite3_set_auxdata=te.sqlite3_set_auxdata)(f,h,_,b),n._sqlite3_column_count=f=>(n._sqlite3_column_count=te.sqlite3_column_count)(f),n._sqlite3_data_count=f=>(n._sqlite3_data_count=te.sqlite3_data_count)(f),n._sqlite3_column_blob=(f,h)=>(n._sqlite3_column_blob=te.sqlite3_column_blob)(f,h),n._sqlite3_column_bytes=(f,h)=>(n._sqlite3_column_bytes=te.sqlite3_column_bytes)(f,h),n._sqlite3_column_double=(f,h)=>(n._sqlite3_column_double=te.sqlite3_column_double)(f,h),n._sqlite3_column_value=(f,h)=>(n._sqlite3_column_value=te.sqlite3_column_value)(f,h),n._sqlite3_column_decltype=(f,h)=>(n._sqlite3_column_decltype=te.sqlite3_column_decltype)(f,h),n._sqlite3_bind_blob=(f,h,_,b,S)=>(n._sqlite3_bind_blob=te.sqlite3_bind_blob)(f,h,_,b,S),n._sqlite3_bind_double=(f,h,_)=>(n._sqlite3_bind_double=te.sqlite3_bind_double)(f,h,_),n._sqlite3_bind_int=(f,h,_)=>(n._sqlite3_bind_int=te.sqlite3_bind_int)(f,h,_),n._sqlite3_bind_int64=(f,h,_)=>(n._sqlite3_bind_int64=te.sqlite3_bind_int64)(f,h,_),n._sqlite3_bind_null=(f,h)=>(n._sqlite3_bind_null=te.sqlite3_bind_null)(f,h),n._sqlite3_bind_pointer=(f,h,_,b,S)=>(n._sqlite3_bind_pointer=te.sqlite3_bind_pointer)(f,h,_,b,S),n._sqlite3_bind_text=(f,h,_,b,S)=>(n._sqlite3_bind_text=te.sqlite3_bind_text)(f,h,_,b,S),n._sqlite3_bind_parameter_count=f=>(n._sqlite3_bind_parameter_count=te.sqlite3_bind_parameter_count)(f),n._sqlite3_bind_parameter_name=(f,h)=>(n._sqlite3_bind_parameter_name=te.sqlite3_bind_parameter_name)(f,h),n._sqlite3_bind_parameter_index=(f,h)=>(n._sqlite3_bind_parameter_index=te.sqlite3_bind_parameter_index)(f,h),n._sqlite3_db_handle=f=>(n._sqlite3_db_handle=te.sqlite3_db_handle)(f),n._sqlite3_stmt_readonly=f=>(n._sqlite3_stmt_readonly=te.sqlite3_stmt_readonly)(f),n._sqlite3_stmt_isexplain=f=>(n._sqlite3_stmt_isexplain=te.sqlite3_stmt_isexplain)(f),n._sqlite3_stmt_explain=(f,h)=>(n._sqlite3_stmt_explain=te.sqlite3_stmt_explain)(f,h),n._sqlite3_stmt_busy=f=>(n._sqlite3_stmt_busy=te.sqlite3_stmt_busy)(f),n._sqlite3_stmt_status=(f,h,_)=>(n._sqlite3_stmt_status=te.sqlite3_stmt_status)(f,h,_),n._sqlite3_sql=f=>(n._sqlite3_sql=te.sqlite3_sql)(f),n._sqlite3_expanded_sql=f=>(n._sqlite3_expanded_sql=te.sqlite3_expanded_sql)(f),n._sqlite3_preupdate_old=(f,h,_)=>(n._sqlite3_preupdate_old=te.sqlite3_preupdate_old)(f,h,_),n._sqlite3_preupdate_count=f=>(n._sqlite3_preupdate_count=te.sqlite3_preupdate_count)(f),n._sqlite3_preupdate_depth=f=>(n._sqlite3_preupdate_depth=te.sqlite3_preupdate_depth)(f),n._sqlite3_preupdate_blobwrite=f=>(n._sqlite3_preupdate_blobwrite=te.sqlite3_preupdate_blobwrite)(f),n._sqlite3_preupdate_new=(f,h,_)=>(n._sqlite3_preupdate_new=te.sqlite3_preupdate_new)(f,h,_),n._sqlite3_value_numeric_type=f=>(n._sqlite3_value_numeric_type=te.sqlite3_value_numeric_type)(f),n._sqlite3_set_authorizer=(f,h,_)=>(n._sqlite3_set_authorizer=te.sqlite3_set_authorizer)(f,h,_),n._sqlite3_strglob=(f,h)=>(n._sqlite3_strglob=te.sqlite3_strglob)(f,h),n._sqlite3_strlike=(f,h,_)=>(n._sqlite3_strlike=te.sqlite3_strlike)(f,h,_),n._sqlite3_auto_extension=f=>(n._sqlite3_auto_extension=te.sqlite3_auto_extension)(f),n._sqlite3_cancel_auto_extension=f=>(n._sqlite3_cancel_auto_extension=te.sqlite3_cancel_auto_extension)(f),n._sqlite3_reset_auto_extension=()=>(n._sqlite3_reset_auto_extension=te.sqlite3_reset_auto_extension)(),n._sqlite3_prepare_v3=(f,h,_,b,S,I)=>(n._sqlite3_prepare_v3=te.sqlite3_prepare_v3)(f,h,_,b,S,I),n._sqlite3_create_module=(f,h,_,b)=>(n._sqlite3_create_module=te.sqlite3_create_module)(f,h,_,b),n._sqlite3_create_module_v2=(f,h,_,b,S)=>(n._sqlite3_create_module_v2=te.sqlite3_create_module_v2)(f,h,_,b,S),n._sqlite3_drop_modules=(f,h)=>(n._sqlite3_drop_modules=te.sqlite3_drop_modules)(f,h),n._sqlite3_declare_vtab=(f,h)=>(n._sqlite3_declare_vtab=te.sqlite3_declare_vtab)(f,h),n._sqlite3_vtab_on_conflict=f=>(n._sqlite3_vtab_on_conflict=te.sqlite3_vtab_on_conflict)(f),n._sqlite3_vtab_collation=(f,h)=>(n._sqlite3_vtab_collation=te.sqlite3_vtab_collation)(f,h),n._sqlite3_vtab_in=(f,h,_)=>(n._sqlite3_vtab_in=te.sqlite3_vtab_in)(f,h,_),n._sqlite3_vtab_rhs_value=(f,h,_)=>(n._sqlite3_vtab_rhs_value=te.sqlite3_vtab_rhs_value)(f,h,_),n._sqlite3_vtab_distinct=f=>(n._sqlite3_vtab_distinct=te.sqlite3_vtab_distinct)(f),n._sqlite3_keyword_name=(f,h,_)=>(n._sqlite3_keyword_name=te.sqlite3_keyword_name)(f,h,_),n._sqlite3_keyword_count=()=>(n._sqlite3_keyword_count=te.sqlite3_keyword_count)(),n._sqlite3_keyword_check=(f,h)=>(n._sqlite3_keyword_check=te.sqlite3_keyword_check)(f,h),n._sqlite3_complete=f=>(n._sqlite3_complete=te.sqlite3_complete)(f),n._sqlite3_libversion=()=>(n._sqlite3_libversion=te.sqlite3_libversion)(),n._sqlite3_libversion_number=()=>(n._sqlite3_libversion_number=te.sqlite3_libversion_number)(),n._sqlite3_shutdown=()=>(n._sqlite3_shutdown=te.sqlite3_shutdown)(),n._sqlite3_last_insert_rowid=f=>(n._sqlite3_last_insert_rowid=te.sqlite3_last_insert_rowid)(f),n._sqlite3_set_last_insert_rowid=(f,h)=>(n._sqlite3_set_last_insert_rowid=te.sqlite3_set_last_insert_rowid)(f,h),n._sqlite3_changes64=f=>(n._sqlite3_changes64=te.sqlite3_changes64)(f),n._sqlite3_changes=f=>(n._sqlite3_changes=te.sqlite3_changes)(f),n._sqlite3_total_changes64=f=>(n._sqlite3_total_changes64=te.sqlite3_total_changes64)(f),n._sqlite3_total_changes=f=>(n._sqlite3_total_changes=te.sqlite3_total_changes)(f),n._sqlite3_txn_state=(f,h)=>(n._sqlite3_txn_state=te.sqlite3_txn_state)(f,h),n._sqlite3_close_v2=f=>(n._sqlite3_close_v2=te.sqlite3_close_v2)(f),n._sqlite3_busy_handler=(f,h,_)=>(n._sqlite3_busy_handler=te.sqlite3_busy_handler)(f,h,_),n._sqlite3_progress_handler=(f,h,_,b)=>(n._sqlite3_progress_handler=te.sqlite3_progress_handler)(f,h,_,b),n._sqlite3_busy_timeout=(f,h)=>(n._sqlite3_busy_timeout=te.sqlite3_busy_timeout)(f,h),n._sqlite3_interrupt=f=>(n._sqlite3_interrupt=te.sqlite3_interrupt)(f),n._sqlite3_is_interrupted=f=>(n._sqlite3_is_interrupted=te.sqlite3_is_interrupted)(f),n._sqlite3_create_function=(f,h,_,b,S,I,X,re)=>(n._sqlite3_create_function=te.sqlite3_create_function)(f,h,_,b,S,I,X,re),n._sqlite3_create_function_v2=(f,h,_,b,S,I,X,re,Le)=>(n._sqlite3_create_function_v2=te.sqlite3_create_function_v2)(f,h,_,b,S,I,X,re,Le),n._sqlite3_create_window_function=(f,h,_,b,S,I,X,re,Le,Ue)=>(n._sqlite3_create_window_function=te.sqlite3_create_window_function)(f,h,_,b,S,I,X,re,Le,Ue),n._sqlite3_overload_function=(f,h,_)=>(n._sqlite3_overload_function=te.sqlite3_overload_function)(f,h,_),n._sqlite3_trace_v2=(f,h,_,b)=>(n._sqlite3_trace_v2=te.sqlite3_trace_v2)(f,h,_,b),n._sqlite3_commit_hook=(f,h,_)=>(n._sqlite3_commit_hook=te.sqlite3_commit_hook)(f,h,_),n._sqlite3_update_hook=(f,h,_)=>(n._sqlite3_update_hook=te.sqlite3_update_hook)(f,h,_),n._sqlite3_rollback_hook=(f,h,_)=>(n._sqlite3_rollback_hook=te.sqlite3_rollback_hook)(f,h,_),n._sqlite3_preupdate_hook=(f,h,_)=>(n._sqlite3_preupdate_hook=te.sqlite3_preupdate_hook)(f,h,_),n._sqlite3_error_offset=f=>(n._sqlite3_error_offset=te.sqlite3_error_offset)(f),n._sqlite3_errcode=f=>(n._sqlite3_errcode=te.sqlite3_errcode)(f),n._sqlite3_extended_errcode=f=>(n._sqlite3_extended_errcode=te.sqlite3_extended_errcode)(f),n._sqlite3_errstr=f=>(n._sqlite3_errstr=te.sqlite3_errstr)(f),n._sqlite3_limit=(f,h,_)=>(n._sqlite3_limit=te.sqlite3_limit)(f,h,_),n._sqlite3_open=(f,h)=>(n._sqlite3_open=te.sqlite3_open)(f,h),n._sqlite3_open_v2=(f,h,_,b)=>(n._sqlite3_open_v2=te.sqlite3_open_v2)(f,h,_,b),n._sqlite3_create_collation=(f,h,_,b,S)=>(n._sqlite3_create_collation=te.sqlite3_create_collation)(f,h,_,b,S),n._sqlite3_create_collation_v2=(f,h,_,b,S,I)=>(n._sqlite3_create_collation_v2=te.sqlite3_create_collation_v2)(f,h,_,b,S,I),n._sqlite3_collation_needed=(f,h,_)=>(n._sqlite3_collation_needed=te.sqlite3_collation_needed)(f,h,_),n._sqlite3_get_autocommit=f=>(n._sqlite3_get_autocommit=te.sqlite3_get_autocommit)(f),n._sqlite3_table_column_metadata=(f,h,_,b,S,I,X,re,Le)=>(n._sqlite3_table_column_metadata=te.sqlite3_table_column_metadata)(f,h,_,b,S,I,X,re,Le),n._sqlite3_extended_result_codes=(f,h)=>(n._sqlite3_extended_result_codes=te.sqlite3_extended_result_codes)(f,h),n._sqlite3_uri_key=(f,h)=>(n._sqlite3_uri_key=te.sqlite3_uri_key)(f,h),n._sqlite3_uri_int64=(f,h,_)=>(n._sqlite3_uri_int64=te.sqlite3_uri_int64)(f,h,_),n._sqlite3_db_name=(f,h)=>(n._sqlite3_db_name=te.sqlite3_db_name)(f,h),n._sqlite3_db_filename=(f,h)=>(n._sqlite3_db_filename=te.sqlite3_db_filename)(f,h),n._sqlite3_db_readonly=(f,h)=>(n._sqlite3_db_readonly=te.sqlite3_db_readonly)(f,h),n._sqlite3_compileoption_used=f=>(n._sqlite3_compileoption_used=te.sqlite3_compileoption_used)(f),n._sqlite3_compileoption_get=f=>(n._sqlite3_compileoption_get=te.sqlite3_compileoption_get)(f),n._sqlite3session_diff=(f,h,_,b)=>(n._sqlite3session_diff=te.sqlite3session_diff)(f,h,_,b),n._sqlite3session_attach=(f,h)=>(n._sqlite3session_attach=te.sqlite3session_attach)(f,h),n._sqlite3session_create=(f,h,_)=>(n._sqlite3session_create=te.sqlite3session_create)(f,h,_),n._sqlite3session_delete=f=>(n._sqlite3session_delete=te.sqlite3session_delete)(f),n._sqlite3session_table_filter=(f,h,_)=>(n._sqlite3session_table_filter=te.sqlite3session_table_filter)(f,h,_),n._sqlite3session_changeset=(f,h,_)=>(n._sqlite3session_changeset=te.sqlite3session_changeset)(f,h,_),n._sqlite3session_changeset_strm=(f,h,_)=>(n._sqlite3session_changeset_strm=te.sqlite3session_changeset_strm)(f,h,_),n._sqlite3session_patchset_strm=(f,h,_)=>(n._sqlite3session_patchset_strm=te.sqlite3session_patchset_strm)(f,h,_),n._sqlite3session_patchset=(f,h,_)=>(n._sqlite3session_patchset=te.sqlite3session_patchset)(f,h,_),n._sqlite3session_enable=(f,h)=>(n._sqlite3session_enable=te.sqlite3session_enable)(f,h),n._sqlite3session_indirect=(f,h)=>(n._sqlite3session_indirect=te.sqlite3session_indirect)(f,h),n._sqlite3session_isempty=f=>(n._sqlite3session_isempty=te.sqlite3session_isempty)(f),n._sqlite3session_memory_used=f=>(n._sqlite3session_memory_used=te.sqlite3session_memory_used)(f),n._sqlite3session_object_config=(f,h,_)=>(n._sqlite3session_object_config=te.sqlite3session_object_config)(f,h,_),n._sqlite3session_changeset_size=f=>(n._sqlite3session_changeset_size=te.sqlite3session_changeset_size)(f),n._sqlite3changeset_start=(f,h,_)=>(n._sqlite3changeset_start=te.sqlite3changeset_start)(f,h,_),n._sqlite3changeset_start_v2=(f,h,_,b)=>(n._sqlite3changeset_start_v2=te.sqlite3changeset_start_v2)(f,h,_,b),n._sqlite3changeset_start_strm=(f,h,_)=>(n._sqlite3changeset_start_strm=te.sqlite3changeset_start_strm)(f,h,_),n._sqlite3changeset_start_v2_strm=(f,h,_,b)=>(n._sqlite3changeset_start_v2_strm=te.sqlite3changeset_start_v2_strm)(f,h,_,b),n._sqlite3changeset_next=f=>(n._sqlite3changeset_next=te.sqlite3changeset_next)(f),n._sqlite3changeset_op=(f,h,_,b,S)=>(n._sqlite3changeset_op=te.sqlite3changeset_op)(f,h,_,b,S),n._sqlite3changeset_pk=(f,h,_)=>(n._sqlite3changeset_pk=te.sqlite3changeset_pk)(f,h,_),n._sqlite3changeset_old=(f,h,_)=>(n._sqlite3changeset_old=te.sqlite3changeset_old)(f,h,_),n._sqlite3changeset_new=(f,h,_)=>(n._sqlite3changeset_new=te.sqlite3changeset_new)(f,h,_),n._sqlite3changeset_conflict=(f,h,_)=>(n._sqlite3changeset_conflict=te.sqlite3changeset_conflict)(f,h,_),n._sqlite3changeset_fk_conflicts=(f,h)=>(n._sqlite3changeset_fk_conflicts=te.sqlite3changeset_fk_conflicts)(f,h),n._sqlite3changeset_finalize=f=>(n._sqlite3changeset_finalize=te.sqlite3changeset_finalize)(f),n._sqlite3changeset_invert=(f,h,_,b)=>(n._sqlite3changeset_invert=te.sqlite3changeset_invert)(f,h,_,b),n._sqlite3changeset_invert_strm=(f,h,_,b)=>(n._sqlite3changeset_invert_strm=te.sqlite3changeset_invert_strm)(f,h,_,b),n._sqlite3changeset_apply_v2=(f,h,_,b,S,I,X,re,Le)=>(n._sqlite3changeset_apply_v2=te.sqlite3changeset_apply_v2)(f,h,_,b,S,I,X,re,Le),n._sqlite3changeset_apply=(f,h,_,b,S,I)=>(n._sqlite3changeset_apply=te.sqlite3changeset_apply)(f,h,_,b,S,I),n._sqlite3changeset_apply_v2_strm=(f,h,_,b,S,I,X,re,Le)=>(n._sqlite3changeset_apply_v2_strm=te.sqlite3changeset_apply_v2_strm)(f,h,_,b,S,I,X,re,Le),n._sqlite3changeset_apply_strm=(f,h,_,b,S,I)=>(n._sqlite3changeset_apply_strm=te.sqlite3changeset_apply_strm)(f,h,_,b,S,I),n._sqlite3changegroup_new=f=>(n._sqlite3changegroup_new=te.sqlite3changegroup_new)(f),n._sqlite3changegroup_add=(f,h,_)=>(n._sqlite3changegroup_add=te.sqlite3changegroup_add)(f,h,_),n._sqlite3changegroup_output=(f,h,_)=>(n._sqlite3changegroup_output=te.sqlite3changegroup_output)(f,h,_),n._sqlite3changegroup_add_strm=(f,h,_)=>(n._sqlite3changegroup_add_strm=te.sqlite3changegroup_add_strm)(f,h,_),n._sqlite3changegroup_output_strm=(f,h,_)=>(n._sqlite3changegroup_output_strm=te.sqlite3changegroup_output_strm)(f,h,_),n._sqlite3changegroup_delete=f=>(n._sqlite3changegroup_delete=te.sqlite3changegroup_delete)(f),n._sqlite3changeset_concat=(f,h,_,b,S,I)=>(n._sqlite3changeset_concat=te.sqlite3changeset_concat)(f,h,_,b,S,I),n._sqlite3changeset_concat_strm=(f,h,_,b,S,I)=>(n._sqlite3changeset_concat_strm=te.sqlite3changeset_concat_strm)(f,h,_,b,S,I),n._sqlite3session_config=(f,h)=>(n._sqlite3session_config=te.sqlite3session_config)(f,h),n._sqlite3_sourceid=()=>(n._sqlite3_sourceid=te.sqlite3_sourceid)(),n._sqlite3__wasm_pstack_ptr=()=>(n._sqlite3__wasm_pstack_ptr=te.sqlite3__wasm_pstack_ptr)(),n._sqlite3__wasm_pstack_restore=f=>(n._sqlite3__wasm_pstack_restore=te.sqlite3__wasm_pstack_restore)(f),n._sqlite3__wasm_pstack_alloc=f=>(n._sqlite3__wasm_pstack_alloc=te.sqlite3__wasm_pstack_alloc)(f),n._sqlite3__wasm_pstack_remaining=()=>(n._sqlite3__wasm_pstack_remaining=te.sqlite3__wasm_pstack_remaining)(),n._sqlite3__wasm_pstack_quota=()=>(n._sqlite3__wasm_pstack_quota=te.sqlite3__wasm_pstack_quota)(),n._sqlite3__wasm_db_error=(f,h,_)=>(n._sqlite3__wasm_db_error=te.sqlite3__wasm_db_error)(f,h,_),n._sqlite3__wasm_test_struct=f=>(n._sqlite3__wasm_test_struct=te.sqlite3__wasm_test_struct)(f),n._sqlite3__wasm_enum_json=()=>(n._sqlite3__wasm_enum_json=te.sqlite3__wasm_enum_json)(),n._sqlite3__wasm_vfs_unlink=(f,h)=>(n._sqlite3__wasm_vfs_unlink=te.sqlite3__wasm_vfs_unlink)(f,h),n._sqlite3__wasm_db_vfs=(f,h)=>(n._sqlite3__wasm_db_vfs=te.sqlite3__wasm_db_vfs)(f,h),n._sqlite3__wasm_db_reset=f=>(n._sqlite3__wasm_db_reset=te.sqlite3__wasm_db_reset)(f),n._sqlite3__wasm_db_export_chunked=(f,h)=>(n._sqlite3__wasm_db_export_chunked=te.sqlite3__wasm_db_export_chunked)(f,h),n._sqlite3__wasm_db_serialize=(f,h,_,b,S)=>(n._sqlite3__wasm_db_serialize=te.sqlite3__wasm_db_serialize)(f,h,_,b,S),n._sqlite3__wasm_vfs_create_file=(f,h,_,b)=>(n._sqlite3__wasm_vfs_create_file=te.sqlite3__wasm_vfs_create_file)(f,h,_,b),n._sqlite3__wasm_posix_create_file=(f,h,_)=>(n._sqlite3__wasm_posix_create_file=te.sqlite3__wasm_posix_create_file)(f,h,_),n._sqlite3__wasm_kvvfsMakeKeyOnPstack=(f,h)=>(n._sqlite3__wasm_kvvfsMakeKeyOnPstack=te.sqlite3__wasm_kvvfsMakeKeyOnPstack)(f,h),n._sqlite3__wasm_kvvfs_methods=()=>(n._sqlite3__wasm_kvvfs_methods=te.sqlite3__wasm_kvvfs_methods)(),n._sqlite3__wasm_vtab_config=(f,h,_)=>(n._sqlite3__wasm_vtab_config=te.sqlite3__wasm_vtab_config)(f,h,_),n._sqlite3__wasm_db_config_ip=(f,h,_,b)=>(n._sqlite3__wasm_db_config_ip=te.sqlite3__wasm_db_config_ip)(f,h,_,b),n._sqlite3__wasm_db_config_pii=(f,h,_,b,S)=>(n._sqlite3__wasm_db_config_pii=te.sqlite3__wasm_db_config_pii)(f,h,_,b,S),n._sqlite3__wasm_db_config_s=(f,h,_)=>(n._sqlite3__wasm_db_config_s=te.sqlite3__wasm_db_config_s)(f,h,_),n._sqlite3__wasm_config_i=(f,h)=>(n._sqlite3__wasm_config_i=te.sqlite3__wasm_config_i)(f,h),n._sqlite3__wasm_config_ii=(f,h,_)=>(n._sqlite3__wasm_config_ii=te.sqlite3__wasm_config_ii)(f,h,_),n._sqlite3__wasm_config_j=(f,h)=>(n._sqlite3__wasm_config_j=te.sqlite3__wasm_config_j)(f,h),n._sqlite3__wasm_qfmt_token=(f,h)=>(n._sqlite3__wasm_qfmt_token=te.sqlite3__wasm_qfmt_token)(f,h),n._sqlite3__wasm_init_wasmfs=f=>(n._sqlite3__wasm_init_wasmfs=te.sqlite3__wasm_init_wasmfs)(f),n._sqlite3__wasm_test_intptr=f=>(n._sqlite3__wasm_test_intptr=te.sqlite3__wasm_test_intptr)(f),n._sqlite3__wasm_test_voidptr=f=>(n._sqlite3__wasm_test_voidptr=te.sqlite3__wasm_test_voidptr)(f),n._sqlite3__wasm_test_int64_max=()=>(n._sqlite3__wasm_test_int64_max=te.sqlite3__wasm_test_int64_max)(),n._sqlite3__wasm_test_int64_min=()=>(n._sqlite3__wasm_test_int64_min=te.sqlite3__wasm_test_int64_min)(),n._sqlite3__wasm_test_int64_times2=f=>(n._sqlite3__wasm_test_int64_times2=te.sqlite3__wasm_test_int64_times2)(f),n._sqlite3__wasm_test_int64_minmax=(f,h)=>(n._sqlite3__wasm_test_int64_minmax=te.sqlite3__wasm_test_int64_minmax)(f,h),n._sqlite3__wasm_test_int64ptr=f=>(n._sqlite3__wasm_test_int64ptr=te.sqlite3__wasm_test_int64ptr)(f),n._sqlite3__wasm_test_stack_overflow=f=>(n._sqlite3__wasm_test_stack_overflow=te.sqlite3__wasm_test_stack_overflow)(f),n._sqlite3__wasm_test_str_hello=f=>(n._sqlite3__wasm_test_str_hello=te.sqlite3__wasm_test_str_hello)(f),n._sqlite3__wasm_SQLTester_strglob=(f,h)=>(n._sqlite3__wasm_SQLTester_strglob=te.sqlite3__wasm_SQLTester_strglob)(f,h),n._malloc=f=>(n._malloc=te.malloc)(f),n._free=f=>(n._free=te.free)(f),n._realloc=(f,h)=>(n._realloc=te.realloc)(f,h);var Yc=(f,h)=>(Yc=te.emscripten_builtin_memalign)(f,h);n.wasmMemory=$;var yl;lt=function f(){yl||Xc(),yl||(lt=f)};function Xc(){if(Se>0||(Ce(),Se>0))return;function f(){yl||(yl=!0,n.calledRun=!0,!V&&(Fe(),s(n),n.onRuntimeInitialized?.(),_e()))}n.setStatus?(n.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>n.setStatus(""),1),f()},1)):f()}if(n.preInit)for(typeof n.preInit=="function"&&(n.preInit=[n.preInit]);n.preInit.length>0;)n.preInit.pop()();return Xc(),n.postRun||(n.postRun=[]),n.postRun.push(function(f){if(globalThis.sqlite3ApiBootstrap=function h(_=globalThis.sqlite3ApiConfig||h.defaultConfig){if(h.sqlite3)return(h.sqlite3.config||console).warn("sqlite3ApiBootstrap() called multiple times.","Config and external initializers are ignored on calls after the first."),h.sqlite3;const b=Object.assign(Object.create(null),{exports:void 0,memory:void 0,bigIntEnabled:typeof f<"u"&&f.HEAPU64?!0:!!globalThis.BigInt64Array,debug:console.debug.bind(console),warn:console.warn.bind(console),error:console.error.bind(console),log:console.log.bind(console),wasmfsOpfsDir:"/opfs",useStdAlloc:!1},_||{});Object.assign(b,{allocExportName:b.useStdAlloc?"malloc":"sqlite3_malloc",deallocExportName:b.useStdAlloc?"free":"sqlite3_free",reallocExportName:b.useStdAlloc?"realloc":"sqlite3_realloc"},b),["exports","memory","wasmfsOpfsDir"].forEach(T=>{typeof b[T]=="function"&&(b[T]=b[T]())}),delete globalThis.sqlite3ApiConfig,delete h.defaultConfig;const S=Object.create(null),I=Object.create(null),X=T=>S.sqlite3_js_rc_str&&S.sqlite3_js_rc_str(T)||"Unknown result code #"+T,re=T=>typeof T=="number"&&T===(T|0);class Le extends Error{constructor(...L){let W;if(L.length)if(re(L[0]))if(W=L[0],L.length===1)super(X(L[0]));else{const Oe=X(W);typeof L[1]=="object"?super(Oe,L[1]):(L[0]=Oe+":",super(L.join(" ")))}else L.length===2&&typeof L[1]=="object"?super(...L):super(L.join(" "));this.resultCode=W||S.SQLITE_ERROR,this.name="SQLite3Error"}}Le.toss=(...T)=>{throw new Le(...T)};const Ue=Le.toss;b.wasmfsOpfsDir&&!/^\/[^/]+$/.test(b.wasmfsOpfsDir)&&Ue("config.wasmfsOpfsDir must be falsy or in the form '/dir-name'.");const Je=T=>typeof T!="bigint"&&T===(T|0)&&T<=0x7fffffff&&T>=-0x80000000,rt=function T(L){return T._max||(T._max=BigInt("0x7fffffffffffffff"),T._min=~T._max),L>=T._min&&L<=T._max},Ae=T=>T>=-2147483647n-1n&&T<=2147483647n,xe=function T(L){return T._min||(T._min=Number.MIN_SAFE_INTEGER,T._max=Number.MAX_SAFE_INTEGER),L>=T._min&&L<=T._max},ze=T=>T&&T.constructor&&Je(T.constructor.BYTES_PER_ELEMENT)?T:!1,le=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,pe=T=>T.buffer instanceof le,be=(T,L,W)=>pe(T)?T.slice(L,W):T.subarray(L,W),$e=T=>T&&(T instanceof Uint8Array||T instanceof Int8Array||T instanceof ArrayBuffer),Be=T=>T&&(T instanceof Uint8Array||T instanceof Int8Array||T instanceof ArrayBuffer),we=T=>$e(T)||Ue("Value is not of a supported TypedArray type."),Me=new TextDecoder("utf-8"),ht=function(T,L,W){return Me.decode(be(T,L,W))},F=function(T){return Be(T)?ht(T instanceof ArrayBuffer?new Uint8Array(T):T):Array.isArray(T)?T.join(""):(I.isPtr(T)&&(T=I.cstrToJs(T)),T)};class J extends Error{constructor(...L){L.length===2&&typeof L[1]=="object"?super(...L):L.length?super(L.join(" ")):super("Allocation failed."),this.resultCode=S.SQLITE_NOMEM,this.name="WasmAllocError"}}J.toss=(...T)=>{throw new J(...T)},Object.assign(S,{sqlite3_bind_blob:void 0,sqlite3_bind_text:void 0,sqlite3_create_function_v2:(T,L,W,Oe,He,Et,jt,$t,Ze)=>{},sqlite3_create_function:(T,L,W,Oe,He,Et,jt,$t)=>{},sqlite3_create_window_function:(T,L,W,Oe,He,Et,jt,$t,Ze,ce)=>{},sqlite3_prepare_v3:(T,L,W,Oe,He,Et)=>{},sqlite3_prepare_v2:(T,L,W,Oe,He)=>{},sqlite3_exec:(T,L,W,Oe,He)=>{},sqlite3_randomness:(T,L)=>{}});const he={affirmBindableTypedArray:we,flexibleString:F,bigIntFits32:Ae,bigIntFits64:rt,bigIntFitsDouble:xe,isBindableTypedArray:$e,isInt32:Je,isSQLableTypedArray:Be,isTypedArray:ze,typedArrayToString:ht,isUIThread:()=>globalThis.window===globalThis&&!!globalThis.document,isSharedTypedArray:pe,toss:function(...T){throw new Error(T.join(" "))},toss3:Ue,typedArrayPart:be,affirmDbHeader:function(T){T instanceof ArrayBuffer&&(T=new Uint8Array(T));const L="SQLite format 3";L.length>T.byteLength&&Ue("Input does not contain an SQLite3 database header.");for(let W=0;W<L.length;++W)L.charCodeAt(W)!==T[W]&&Ue("Input does not contain an SQLite3 database header.")},affirmIsDb:function(T){T instanceof ArrayBuffer&&(T=new Uint8Array(T));const L=T.byteLength;(L<512||L%512!==0)&&Ue("Byte array size",L,"is invalid for an SQLite3 db."),he.affirmDbHeader(T)}};Object.assign(I,{ptrSizeof:b.wasmPtrSizeof||4,ptrIR:b.wasmPtrIR||"i32",bigIntEnabled:!!b.bigIntEnabled,exports:b.exports||Ue("Missing API config.exports (WASM module exports)."),memory:b.memory||b.exports.memory||Ue("API config object requires a WebAssembly.Memory object","in either config.exports.memory (exported)","or config.memory (imported)."),alloc:void 0,realloc:void 0,dealloc:void 0}),I.allocFromTypedArray=function(T){T instanceof ArrayBuffer&&(T=new Uint8Array(T)),we(T);const L=I.alloc(T.byteLength||1);return I.heapForSize(T.constructor).set(T.byteLength?T:[0],L),L};{const T=b.allocExportName,L=b.deallocExportName,W=b.reallocExportName;for(const Oe of[T,L,W])I.exports[Oe]instanceof Function||Ue("Missing required exports[",Oe,"] function.");I.alloc=function Oe(He){return Oe.impl(He)||J.toss("Failed to allocate",He," bytes.")},I.alloc.impl=I.exports[T],I.realloc=function Oe(He,Et){const jt=Oe.impl(He,Et);return Et?jt||J.toss("Failed to reallocate",Et," bytes."):0},I.realloc.impl=I.exports[W],I.dealloc=I.exports[L]}I.compileOptionUsed=function T(L){if(arguments.length){if(Array.isArray(L)){const W={};return L.forEach(Oe=>{W[Oe]=S.sqlite3_compileoption_used(Oe)}),W}else if(typeof L=="object")return Object.keys(L).forEach(W=>{L[W]=S.sqlite3_compileoption_used(W)}),L}else{if(T._result)return T._result;T._opt||(T._rx=/^([^=]+)=(.+)/,T._rxInt=/^-?\d+$/,T._opt=function(jt,$t){const Ze=T._rx.exec(jt);$t[0]=Ze?Ze[1]:jt,$t[1]=Ze?T._rxInt.test(Ze[2])?+Ze[2]:Ze[2]:!0});const W={},Oe=[0,0];let He=0,Et;for(;Et=S.sqlite3_compileoption_get(He++);)T._opt(Et,Oe),W[Oe[0]]=Oe[1];return T._result=W}return typeof L=="string"?!!S.sqlite3_compileoption_used(L):!1},I.pstack=Object.assign(Object.create(null),{restore:I.exports.sqlite3__wasm_pstack_restore,alloc:function(T){return typeof T=="string"&&!(T=I.sizeofIR(T))&&J.toss("Invalid value for pstack.alloc(",arguments[0],")"),I.exports.sqlite3__wasm_pstack_alloc(T)||J.toss("Could not allocate",T,"bytes from the pstack.")},allocChunks:function(T,L){typeof L=="string"&&!(L=I.sizeofIR(L))&&J.toss("Invalid size value for allocChunks(",arguments[1],")");const W=I.pstack.alloc(T*L),Oe=[];let He=0,Et=0;for(;He<T;++He,Et+=L)Oe.push(W+Et);return Oe},allocPtr:(T=1,L=!0)=>T===1?I.pstack.alloc(L?8:I.ptrSizeof):I.pstack.allocChunks(T,L?8:I.ptrSizeof),call:function(T){const L=I.pstack.pointer;try{return T(ee)}finally{I.pstack.restore(L)}}}),Object.defineProperties(I.pstack,{pointer:{configurable:!1,iterable:!0,writeable:!1,get:I.exports.sqlite3__wasm_pstack_ptr},quota:{configurable:!1,iterable:!0,writeable:!1,get:I.exports.sqlite3__wasm_pstack_quota},remaining:{configurable:!1,iterable:!0,writeable:!1,get:I.exports.sqlite3__wasm_pstack_remaining}}),S.sqlite3_randomness=(...T)=>{if(T.length===1&&he.isTypedArray(T[0])&&T[0].BYTES_PER_ELEMENT===1){const L=T[0];if(L.byteLength===0)return I.exports.sqlite3_randomness(0,0),L;const W=I.pstack.pointer;try{let Oe=L.byteLength,He=0;const Et=I.exports.sqlite3_randomness,jt=I.heap8u(),$t=Oe<512?Oe:512,Ze=I.pstack.alloc($t);do{const ce=Oe>$t?$t:Oe;Et(ce,Ze),L.set(be(jt,Ze,Ze+ce),He),Oe-=ce,He+=ce}while(Oe>0)}catch(Oe){console.error("Highly unexpected (and ignored!) exception in sqlite3_randomness():",Oe)}finally{I.pstack.restore(W)}return L}I.exports.sqlite3_randomness(...T)};let Qe;if(S.sqlite3_wasmfs_opfs_dir=function(){if(Qe!==void 0)return Qe;const T=b.wasmfsOpfsDir;if(!T||!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle)return Qe="";try{return T&&I.xCallWrapped("sqlite3__wasm_init_wasmfs","i32",["string"],T)===0?Qe=T:Qe=""}catch{return Qe=""}},S.sqlite3_wasmfs_filename_is_persistent=function(T){const L=S.sqlite3_wasmfs_opfs_dir();return L&&T?T.startsWith(L+"/"):!1},S.sqlite3_js_db_uses_vfs=function(T,L,W=0){try{const Oe=S.sqlite3_vfs_find(L);return Oe?T?Oe===S.sqlite3_js_db_vfs(T,W)?Oe:!1:Oe===S.sqlite3_vfs_find(0)?Oe:!1:!1}catch{return!1}},S.sqlite3_js_vfs_list=function(){const T=[];let L=S.sqlite3_vfs_find(0);for(;L;){const W=new S.sqlite3_vfs(L);T.push(I.cstrToJs(W.$zName)),L=W.$pNext,W.dispose()}return T},S.sqlite3_js_db_export=function(T,L=0){T=I.xWrap.testConvertArg("sqlite3*",T),T||Ue("Invalid sqlite3* argument."),I.bigIntEnabled||Ue("BigInt64 support is not enabled.");const W=I.scopedAllocPush();let Oe;try{const He=I.scopedAlloc(8+I.ptrSizeof),Et=He+8,jt=L?I.isPtr(L)?L:I.scopedAllocCString(""+L):0;let $t=I.exports.sqlite3__wasm_db_serialize(T,jt,Et,He,0);$t&&Ue("Database serialization failed with code",ee.capi.sqlite3_js_rc_str($t)),Oe=I.peekPtr(Et);const Ze=I.peek(He,"i64");return $t=Ze?I.heap8u().slice(Oe,Oe+Number(Ze)):new Uint8Array,$t}finally{Oe&&I.exports.sqlite3_free(Oe),I.scopedAllocPop(W)}},S.sqlite3_js_db_vfs=(T,L=0)=>he.sqlite3__wasm_db_vfs(T,L),S.sqlite3_js_aggregate_context=(T,L)=>S.sqlite3_aggregate_context(T,L)||(L?J.toss("Cannot allocate",L,"bytes for sqlite3_aggregate_context()"):0),S.sqlite3_js_posix_create_file=function(T,L,W){let Oe;L&&I.isPtr(L)?Oe=L:L instanceof ArrayBuffer||L instanceof Uint8Array?(Oe=I.allocFromTypedArray(L),(arguments.length<3||!he.isInt32(W)||W<0)&&(W=L.byteLength)):Le.toss("Invalid 2nd argument for sqlite3_js_posix_create_file().");try{(!he.isInt32(W)||W<0)&&Le.toss("Invalid 3rd argument for sqlite3_js_posix_create_file().");const He=he.sqlite3__wasm_posix_create_file(T,Oe,W);He&&Le.toss("Creation of file failed with sqlite3 result code",S.sqlite3_js_rc_str(He))}finally{I.dealloc(Oe)}},S.sqlite3_js_vfs_create_file=function(T,L,W,Oe){b.warn("sqlite3_js_vfs_create_file() is deprecated and","should be avoided because it can lead to C-level crashes.","See its documentation for alternative options.");let He;W?(I.isPtr(W)?He=W:W instanceof ArrayBuffer&&(W=new Uint8Array(W)),W instanceof Uint8Array?(He=I.allocFromTypedArray(W),(arguments.length<4||!he.isInt32(Oe)||Oe<0)&&(Oe=W.byteLength)):Le.toss("Invalid 3rd argument type for sqlite3_js_vfs_create_file().")):He=0,(!he.isInt32(Oe)||Oe<0)&&(I.dealloc(He),Le.toss("Invalid 4th argument for sqlite3_js_vfs_create_file()."));try{const Et=he.sqlite3__wasm_vfs_create_file(T,L,He,Oe);Et&&Le.toss("Creation of file failed with sqlite3 result code",S.sqlite3_js_rc_str(Et))}finally{I.dealloc(He)}},S.sqlite3_js_sql_to_string=T=>{if(typeof T=="string")return T;const L=F(v);return L===v?void 0:L},he.isUIThread()){const T=function(L){const W=Object.create(null);return W.prefix="kvvfs-"+L,W.stores=[],(L==="session"||L==="")&&W.stores.push(globalThis.sessionStorage),(L==="local"||L==="")&&W.stores.push(globalThis.localStorage),W};S.sqlite3_js_kvvfs_clear=function(L=""){let W=0;const Oe=T(L);return Oe.stores.forEach(He=>{const Et=[];let jt;for(jt=0;jt<He.length;++jt){const $t=He.key(jt);$t.startsWith(Oe.prefix)&&Et.push($t)}Et.forEach($t=>He.removeItem($t)),W+=Et.length}),W},S.sqlite3_js_kvvfs_size=function(L=""){let W=0;const Oe=T(L);return Oe.stores.forEach(He=>{let Et;for(Et=0;Et<He.length;++Et){const jt=He.key(Et);jt.startsWith(Oe.prefix)&&(W+=jt.length,W+=He.getItem(jt).length)}}),W*2}}S.sqlite3_db_config=function(T,L,...W){switch(this.s||(this.s=I.xWrap("sqlite3__wasm_db_config_s","int",["sqlite3*","int","string:static"]),this.pii=I.xWrap("sqlite3__wasm_db_config_pii","int",["sqlite3*","int","*","int","int"]),this.ip=I.xWrap("sqlite3__wasm_db_config_ip","int",["sqlite3*","int","int","*"])),L){case S.SQLITE_DBCONFIG_ENABLE_FKEY:case S.SQLITE_DBCONFIG_ENABLE_TRIGGER:case S.SQLITE_DBCONFIG_ENABLE_FTS3_TOKENIZER:case S.SQLITE_DBCONFIG_ENABLE_LOAD_EXTENSION:case S.SQLITE_DBCONFIG_NO_CKPT_ON_CLOSE:case S.SQLITE_DBCONFIG_ENABLE_QPSG:case S.SQLITE_DBCONFIG_TRIGGER_EQP:case S.SQLITE_DBCONFIG_RESET_DATABASE:case S.SQLITE_DBCONFIG_DEFENSIVE:case S.SQLITE_DBCONFIG_WRITABLE_SCHEMA:case S.SQLITE_DBCONFIG_LEGACY_ALTER_TABLE:case S.SQLITE_DBCONFIG_DQS_DML:case S.SQLITE_DBCONFIG_DQS_DDL:case S.SQLITE_DBCONFIG_ENABLE_VIEW:case S.SQLITE_DBCONFIG_LEGACY_FILE_FORMAT:case S.SQLITE_DBCONFIG_TRUSTED_SCHEMA:case S.SQLITE_DBCONFIG_STMT_SCANSTATUS:case S.SQLITE_DBCONFIG_REVERSE_SCANORDER:return this.ip(T,L,W[0],W[1]||0);case S.SQLITE_DBCONFIG_LOOKASIDE:return this.pii(T,L,W[0],W[1],W[2]);case S.SQLITE_DBCONFIG_MAINDBNAME:return this.s(T,L,W[0]);default:return S.SQLITE_MISUSE}}.bind(Object.create(null)),S.sqlite3_value_to_js=function(T,L=!0){let W;const Oe=S.sqlite3_value_type(T);switch(Oe){case S.SQLITE_INTEGER:I.bigIntEnabled?(W=S.sqlite3_value_int64(T),he.bigIntFitsDouble(W)&&(W=Number(W))):W=S.sqlite3_value_double(T);break;case S.SQLITE_FLOAT:W=S.sqlite3_value_double(T);break;case S.SQLITE_TEXT:W=S.sqlite3_value_text(T);break;case S.SQLITE_BLOB:{const He=S.sqlite3_value_bytes(T),Et=S.sqlite3_value_blob(T);He&&!Et&&ee.WasmAllocError.toss("Cannot allocate memory for blob argument of",He,"byte(s)"),W=He?I.heap8u().slice(Et,Et+Number(He)):null;break}case S.SQLITE_NULL:W=null;break;default:L&&Ue(S.SQLITE_MISMATCH,"Unhandled sqlite3_value_type():",Oe),W=void 0}return W},S.sqlite3_values_to_js=function(T,L,W=!0){let Oe;const He=[];for(Oe=0;Oe<T;++Oe)He.push(S.sqlite3_value_to_js(I.peekPtr(L+I.ptrSizeof*Oe),W));return He},S.sqlite3_result_error_js=function(T,L){L instanceof J?S.sqlite3_result_error_nomem(T):S.sqlite3_result_error(T,""+L,-1)},S.sqlite3_result_js=function(T,L){if(L instanceof Error){S.sqlite3_result_error_js(T,L);return}try{switch(typeof L){case"undefined":break;case"boolean":S.sqlite3_result_int(T,L?1:0);break;case"bigint":he.bigIntFits32(L)?S.sqlite3_result_int(T,Number(L)):he.bigIntFitsDouble(L)?S.sqlite3_result_double(T,Number(L)):I.bigIntEnabled?he.bigIntFits64(L)?S.sqlite3_result_int64(T,L):Ue("BigInt value",L.toString(),"is too BigInt for int64."):Ue("BigInt value",L.toString(),"is too BigInt.");break;case"number":{let W;he.isInt32(L)?W=S.sqlite3_result_int:I.bigIntEnabled&&Number.isInteger(L)&&he.bigIntFits64(BigInt(L))?W=S.sqlite3_result_int64:W=S.sqlite3_result_double,W(T,L);break}case"string":{const[W,Oe]=I.allocCString(L,!0);S.sqlite3_result_text(T,W,Oe,S.SQLITE_WASM_DEALLOC);break}case"object":if(L===null){S.sqlite3_result_null(T);break}else if(he.isBindableTypedArray(L)){const W=I.allocFromTypedArray(L);S.sqlite3_result_blob(T,W,L.byteLength,S.SQLITE_WASM_DEALLOC);break}default:Ue("Don't not how to handle this UDF result value:",typeof L,L)}}catch(W){S.sqlite3_result_error_js(T,W)}},S.sqlite3_column_js=function(T,L,W=!0){const Oe=S.sqlite3_column_value(T,L);return Oe===0?void 0:S.sqlite3_value_to_js(Oe,W)};const z=function(T,L,W){W=S[W],this.ptr?I.pokePtr(this.ptr,0):this.ptr=I.allocPtr();const Oe=W(T,L,this.ptr);if(Oe)return Le.toss(Oe,arguments[2]+"() failed with code "+Oe);const He=I.peekPtr(this.ptr);return He?S.sqlite3_value_to_js(He,!0):void 0}.bind(Object.create(null));S.sqlite3_preupdate_new_js=(T,L)=>z(T,L,"sqlite3_preupdate_new"),S.sqlite3_preupdate_old_js=(T,L)=>z(T,L,"sqlite3_preupdate_old"),S.sqlite3changeset_new_js=(T,L)=>z(T,L,"sqlite3changeset_new"),S.sqlite3changeset_old_js=(T,L)=>z(T,L,"sqlite3changeset_old");const ee={WasmAllocError:J,SQLite3Error:Le,capi:S,util:he,wasm:I,config:b,version:Object.create(null),client:void 0,asyncPostInit:async function T(){if(T.isReady instanceof Promise)return T.isReady;let L=h.initializersAsync;delete h.initializersAsync;const W=async()=>(ee.__isUnderTest||(delete ee.util,delete ee.StructBinder),ee),Oe=Et=>{throw b.error("an async sqlite3 initializer failed:",Et),Et};if(!L||!L.length)return T.isReady=W().catch(Oe);L=L.map(Et=>Et instanceof Function?async jt=>Et(ee):Et),L.push(W);let He=Promise.resolve(ee);for(;L.length;)He=He.then(L.shift());return T.isReady=He.catch(Oe)},scriptInfo:void 0};try{h.initializers.forEach(T=>{T(ee)})}catch(T){throw console.error("sqlite3 bootstrap initializer threw:",T),T}return delete h.initializers,h.sqlite3=ee,ee},globalThis.sqlite3ApiBootstrap.initializers=[],globalThis.sqlite3ApiBootstrap.initializersAsync=[],globalThis.sqlite3ApiBootstrap.defaultConfig=Object.create(null),globalThis.sqlite3ApiBootstrap.sqlite3=void 0,globalThis.WhWasmUtilInstaller=function(h){h.bigIntEnabled===void 0&&(h.bigIntEnabled=!!globalThis.BigInt64Array);const _=(...F)=>{throw new Error(F.join(" "))};h.exports||Object.defineProperty(h,"exports",{enumerable:!0,configurable:!0,get:()=>h.instance&&h.instance.exports});const b=h.pointerIR||"i32",S=h.ptrSizeof=b==="i32"?4:b==="i64"?8:_("Unhandled ptrSizeof:",b),I=Object.create(null);I.heapSize=0,I.memory=null,I.freeFuncIndexes=[],I.scopedAlloc=[],I.utf8Decoder=new TextDecoder,I.utf8Encoder=new TextEncoder("utf-8"),h.sizeofIR=F=>{switch(F){case"i8":return 1;case"i16":return 2;case"i32":case"f32":case"float":return 4;case"i64":case"f64":case"double":return 8;case"*":return S;default:return(""+F).endsWith("*")?S:void 0}};const X=function(){if(!I.memory)I.memory=h.memory instanceof WebAssembly.Memory?h.memory:h.exports.memory;else if(I.heapSize===I.memory.buffer.byteLength)return I;const F=I.memory.buffer;return I.HEAP8=new Int8Array(F),I.HEAP8U=new Uint8Array(F),I.HEAP16=new Int16Array(F),I.HEAP16U=new Uint16Array(F),I.HEAP32=new Int32Array(F),I.HEAP32U=new Uint32Array(F),h.bigIntEnabled&&(I.HEAP64=new BigInt64Array(F),I.HEAP64U=new BigUint64Array(F)),I.HEAP32F=new Float32Array(F),I.HEAP64F=new Float64Array(F),I.heapSize=F.byteLength,I};h.heap8=()=>X().HEAP8,h.heap8u=()=>X().HEAP8U,h.heap16=()=>X().HEAP16,h.heap16u=()=>X().HEAP16U,h.heap32=()=>X().HEAP32,h.heap32u=()=>X().HEAP32U,h.heapForSize=function(F,J=!0){const he=I.memory&&I.heapSize===I.memory.buffer.byteLength?I:X();switch(F){case Int8Array:return he.HEAP8;case Uint8Array:return he.HEAP8U;case Int16Array:return he.HEAP16;case Uint16Array:return he.HEAP16U;case Int32Array:return he.HEAP32;case Uint32Array:return he.HEAP32U;case 8:return J?he.HEAP8U:he.HEAP8;case 16:return J?he.HEAP16U:he.HEAP16;case 32:return J?he.HEAP32U:he.HEAP32;case 64:if(he.HEAP64)return J?he.HEAP64U:he.HEAP64;break;default:if(h.bigIntEnabled){if(F===globalThis.BigUint64Array)return he.HEAP64U;if(F===globalThis.BigInt64Array)return he.HEAP64;break}}_("Invalid heapForSize() size: expecting 8, 16, 32,","or (if BigInt is enabled) 64.")},h.functionTable=function(){return h.exports.__indirect_function_table},h.functionEntry=function(F){const J=h.functionTable();return F<J.length?J.get(F):void 0},h.jsFuncToWasm=function F(J,he){if(F._||(F._={sigTypes:Object.assign(Object.create(null),{i:"i32",p:"i32",P:"i32",s:"i32",j:"i64",f:"f32",d:"f64"}),typeCodes:Object.assign(Object.create(null),{f64:124,f32:125,i64:126,i32:127}),uleb128Encode:function(ee,T,L){L<128?ee[T](L):ee[T](L%128|128,L>>7)},rxJSig:/^(\w)\((\w*)\)$/,sigParams:function(ee){const T=F._.rxJSig.exec(ee);return T?T[2]:ee.substr(1)},letterType:ee=>F._.sigTypes[ee]||_("Invalid signature letter:",ee),pushSigType:(ee,T)=>ee.push(F._.typeCodes[F._.letterType(T)])}),typeof J=="string"){const ee=he;he=J,J=ee}const Qe=F._.sigParams(he),z=[1,96];F._.uleb128Encode(z,"push",Qe.length);for(const ee of Qe)F._.pushSigType(z,ee);return he[0]==="v"?z.push(0):(z.push(1),F._.pushSigType(z,he[0])),F._.uleb128Encode(z,"unshift",z.length),z.unshift(0,97,115,109,1,0,0,0,1),z.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array(z)),{e:{f:J}}).exports.f};const re=function(J,he,Qe){if(Qe&&!I.scopedAlloc.length&&_("No scopedAllocPush() scope is active."),typeof J=="string"){const L=he;he=J,J=L}(typeof he!="string"||!(J instanceof Function))&&_("Invalid arguments: expecting (function,signature) or (signature,function).");const z=h.functionTable(),ee=z.length;let T;for(;I.freeFuncIndexes.length&&(T=I.freeFuncIndexes.pop(),z.get(T));){T=null;continue}T||(T=ee,z.grow(1));try{return z.set(T,J),Qe&&I.scopedAlloc[I.scopedAlloc.length-1].push(T),T}catch(L){if(!(L instanceof TypeError))throw T===ee&&I.freeFuncIndexes.push(ee),L}try{const L=h.jsFuncToWasm(J,he);z.set(T,L),Qe&&I.scopedAlloc[I.scopedAlloc.length-1].push(T)}catch(L){throw T===ee&&I.freeFuncIndexes.push(ee),L}return T};h.installFunction=(F,J)=>re(F,J,!1),h.scopedInstallFunction=(F,J)=>re(F,J,!0),h.uninstallFunction=function(F){if(!F&&F!==0)return;const J=I.freeFuncIndexes,he=h.functionTable();J.push(F);const Qe=he.get(F);return he.set(F,null),Qe},h.peek=function(J,he="i8"){he.endsWith("*")&&(he=b);const Qe=I.memory&&I.heapSize===I.memory.buffer.byteLength?I:X(),z=Array.isArray(J)?[]:void 0;let ee;do{switch(z&&(J=arguments[0].shift()),he){case"i1":case"i8":ee=Qe.HEAP8[J>>0];break;case"i16":ee=Qe.HEAP16[J>>1];break;case"i32":ee=Qe.HEAP32[J>>2];break;case"float":case"f32":ee=Qe.HEAP32F[J>>2];break;case"double":case"f64":ee=Number(Qe.HEAP64F[J>>3]);break;case"i64":if(h.bigIntEnabled){ee=BigInt(Qe.HEAP64[J>>3]);break}default:_("Invalid type for peek():",he)}z&&z.push(ee)}while(z&&arguments[0].length);return z||ee},h.poke=function(F,J,he="i8"){he.endsWith("*")&&(he=b);const Qe=I.memory&&I.heapSize===I.memory.buffer.byteLength?I:X();for(const z of Array.isArray(F)?F:[F])switch(he){case"i1":case"i8":Qe.HEAP8[z>>0]=J;continue;case"i16":Qe.HEAP16[z>>1]=J;continue;case"i32":Qe.HEAP32[z>>2]=J;continue;case"float":case"f32":Qe.HEAP32F[z>>2]=J;continue;case"double":case"f64":Qe.HEAP64F[z>>3]=J;continue;case"i64":if(Qe.HEAP64){Qe.HEAP64[z>>3]=BigInt(J);continue}default:_("Invalid type for poke(): "+he)}return this},h.peekPtr=(...F)=>h.peek(F.length===1?F[0]:F,b),h.pokePtr=(F,J=0)=>h.poke(F,J,b),h.peek8=(...F)=>h.peek(F.length===1?F[0]:F,"i8"),h.poke8=(F,J)=>h.poke(F,J,"i8"),h.peek16=(...F)=>h.peek(F.length===1?F[0]:F,"i16"),h.poke16=(F,J)=>h.poke(F,J,"i16"),h.peek32=(...F)=>h.peek(F.length===1?F[0]:F,"i32"),h.poke32=(F,J)=>h.poke(F,J,"i32"),h.peek64=(...F)=>h.peek(F.length===1?F[0]:F,"i64"),h.poke64=(F,J)=>h.poke(F,J,"i64"),h.peek32f=(...F)=>h.peek(F.length===1?F[0]:F,"f32"),h.poke32f=(F,J)=>h.poke(F,J,"f32"),h.peek64f=(...F)=>h.peek(F.length===1?F[0]:F,"f64"),h.poke64f=(F,J)=>h.poke(F,J,"f64"),h.getMemValue=h.peek,h.getPtrValue=h.peekPtr,h.setMemValue=h.poke,h.setPtrValue=h.pokePtr,h.isPtr32=F=>typeof F=="number"&&F===(F|0)&&F>=0,h.isPtr=h.isPtr32,h.cstrlen=function(F){if(!F||!h.isPtr(F))return null;const J=X().HEAP8U;let he=F;for(;J[he]!==0;++he);return he-F};const Le=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,Ue=function(F,J,he){return I.utf8Decoder.decode(F.buffer instanceof Le?F.slice(J,he):F.subarray(J,he))};h.cstrToJs=function(F){const J=h.cstrlen(F);return J?Ue(X().HEAP8U,F,F+J):J===null?J:""},h.jstrlen=function(F){if(typeof F!="string")return null;const J=F.length;let he=0;for(let Qe=0;Qe<J;++Qe){let z=F.charCodeAt(Qe);z>=55296&&z<=57343&&(z=65536+((z&1023)<<10)|F.charCodeAt(++Qe)&1023),z<=127?++he:z<=2047?he+=2:z<=65535?he+=3:he+=4}return he},h.jstrcpy=function(F,J,he=0,Qe=-1,z=!0){if((!J||!(J instanceof Int8Array)&&!(J instanceof Uint8Array))&&_("jstrcpy() target must be an Int8Array or Uint8Array."),Qe<0&&(Qe=J.length-he),!(Qe>0)||!(he>=0))return 0;let ee=0,T=F.length;const L=he,W=he+Qe-(z?1:0);for(;ee<T&&he<W;++ee){let Oe=F.charCodeAt(ee);if(Oe>=55296&&Oe<=57343&&(Oe=65536+((Oe&1023)<<10)|F.charCodeAt(++ee)&1023),Oe<=127){if(he>=W)break;J[he++]=Oe}else if(Oe<=2047){if(he+1>=W)break;J[he++]=192|Oe>>6,J[he++]=128|Oe&63}else if(Oe<=65535){if(he+2>=W)break;J[he++]=224|Oe>>12,J[he++]=128|Oe>>6&63,J[he++]=128|Oe&63}else{if(he+3>=W)break;J[he++]=240|Oe>>18,J[he++]=128|Oe>>12&63,J[he++]=128|Oe>>6&63,J[he++]=128|Oe&63}}return z&&(J[he++]=0),he-L},h.cstrncpy=function(F,J,he){if((!F||!J)&&_("cstrncpy() does not accept NULL strings."),he<0)he=h.cstrlen(strPtr)+1;else if(!(he>0))return 0;const Qe=h.heap8u();let z=0,ee;for(;z<he&&(ee=Qe[J+z]);++z)Qe[F+z]=ee;return z<he&&(Qe[F+z++]=0),z},h.jstrToUintArray=(F,J=!1)=>I.utf8Encoder.encode(J?F+"\0":F);const Je=(F,J)=>{(!(F.alloc instanceof Function)||!(F.dealloc instanceof Function))&&_("Object is missing alloc() and/or dealloc() function(s)","required by",J+"().")},rt=function(F,J,he,Qe){if(Je(h,Qe),typeof F!="string")return null;{const z=I.utf8Encoder.encode(F),ee=he(z.length+1),T=X().HEAP8U;return T.set(z,ee),T[ee+z.length]=0,J?[ee,z.length]:ee}};h.allocCString=(F,J=!1)=>rt(F,J,h.alloc,"allocCString()"),h.scopedAllocPush=function(){Je(h,"scopedAllocPush");const F=[];return I.scopedAlloc.push(F),F},h.scopedAllocPop=function(F){Je(h,"scopedAllocPop");const J=arguments.length?I.scopedAlloc.indexOf(F):I.scopedAlloc.length-1;J<0&&_("Invalid state object for scopedAllocPop()."),arguments.length===0&&(F=I.scopedAlloc[J]),I.scopedAlloc.splice(J,1);for(let he;he=F.pop();)h.functionEntry(he)?h.uninstallFunction(he):h.dealloc(he)},h.scopedAlloc=function(F){I.scopedAlloc.length||_("No scopedAllocPush() scope is active.");const J=h.alloc(F);return I.scopedAlloc[I.scopedAlloc.length-1].push(J),J},Object.defineProperty(h.scopedAlloc,"level",{configurable:!1,enumerable:!1,get:()=>I.scopedAlloc.length,set:()=>_("The 'active' property is read-only.")}),h.scopedAllocCString=(F,J=!1)=>rt(F,J,h.scopedAlloc,"scopedAllocCString()");const Ae=function(F,J){const he=h[F?"scopedAlloc":"alloc"]((J.length+1)*h.ptrSizeof);let Qe=0;return J.forEach(z=>{h.pokePtr(he+h.ptrSizeof*Qe++,h[F?"scopedAllocCString":"allocCString"](""+z))}),h.pokePtr(he+h.ptrSizeof*Qe,0),he};h.scopedAllocMainArgv=F=>Ae(!0,F),h.allocMainArgv=F=>Ae(!1,F),h.cArgvToJs=(F,J)=>{const he=[];for(let Qe=0;Qe<F;++Qe){const z=h.peekPtr(J+h.ptrSizeof*Qe);he.push(z?h.cstrToJs(z):null)}return he},h.scopedAllocCall=function(F){h.scopedAllocPush();try{return F()}finally{h.scopedAllocPop()}};const xe=function(F,J,he){Je(h,he);const Qe=J?"i64":b;let z=h[he](F*(J?8:S));if(h.poke(z,0,Qe),F===1)return z;const ee=[z];for(let T=1;T<F;++T)z+=J?8:S,ee[T]=z,h.poke(z,0,Qe);return ee};h.allocPtr=(F=1,J=!0)=>xe(F,J,"alloc"),h.scopedAllocPtr=(F=1,J=!0)=>xe(F,J,"scopedAlloc"),h.xGet=function(F){return h.exports[F]||_("Cannot find exported symbol:",F)};const ze=(F,J)=>_(F+"() requires",J,"argument(s).");h.xCall=function(F,...J){const he=F instanceof Function?F:h.xGet(F);return he instanceof Function||_("Exported symbol",F,"is not a function."),he.length!==J.length&&ze(he===F?he.name:F,he.length),arguments.length===2&&Array.isArray(arguments[1])?he.apply(null,arguments[1]):he.apply(null,J)},I.xWrap=Object.create(null),I.xWrap.convert=Object.create(null),I.xWrap.convert.arg=new Map,I.xWrap.convert.result=new Map;const le=I.xWrap.convert.arg,pe=I.xWrap.convert.result;h.bigIntEnabled&&le.set("i64",F=>BigInt(F));const be=b==="i32"?F=>F|0:F=>BigInt(F)|BigInt(0);le.set("i32",be).set("i16",F=>(F|0)&65535).set("i8",F=>(F|0)&255).set("f32",F=>Number(F).valueOf()).set("float",le.get("f32")).set("f64",le.get("f32")).set("double",le.get("f64")).set("int",le.get("i32")).set("null",F=>F).set(null,le.get("null")).set("**",be).set("*",be),pe.set("*",be).set("pointer",be).set("number",F=>Number(F)).set("void",F=>{}).set("null",F=>F).set(null,pe.get("null"));{const F=["i8","i16","i32","int","f32","float","f64","double"];h.bigIntEnabled&&F.push("i64");const J=le.get(b);for(const he of F)le.set(he+"*",J),pe.set(he+"*",J),pe.set(he,le.get(he)||_("Missing arg converter:",he))}const $e=function(F){return typeof F=="string"?h.scopedAllocCString(F):F?be(F):null};le.set("string",$e).set("utf8",$e).set("pointer",$e),pe.set("string",F=>h.cstrToJs(F)).set("utf8",pe.get("string")).set("string:dealloc",F=>{try{return F?h.cstrToJs(F):null}finally{h.dealloc(F)}}).set("utf8:dealloc",pe.get("string:dealloc")).set("json",F=>JSON.parse(h.cstrToJs(F))).set("json:dealloc",F=>{try{return F?JSON.parse(h.cstrToJs(F)):null}finally{h.dealloc(F)}});const Be=class{constructor(F){this.name=F.name||"unnamed adapter"}convertArg(F,J,he){_("AbstractArgAdapter must be subclassed.")}};le.FuncPtrAdapter=class Wo extends Be{constructor(J){super(J),le.FuncPtrAdapter.warnOnUse&&console.warn("xArg.FuncPtrAdapter is an internal-only API","and is not intended to be invoked from","client-level code. Invoked with:",J),this.name=J.name||"unnamed",this.signature=J.signature,J.contextKey instanceof Function&&(this.contextKey=J.contextKey,J.bindScope||(J.bindScope="context")),this.bindScope=J.bindScope||_("FuncPtrAdapter options requires a bindScope (explicit or implied)."),Wo.bindScopes.indexOf(J.bindScope)<0&&_("Invalid options.bindScope ("+J.bindMod+") for FuncPtrAdapter. Expecting one of: ("+Wo.bindScopes.join(", ")+")"),this.isTransient=this.bindScope==="transient",this.isContext=this.bindScope==="context",this.isPermanent=this.bindScope==="permanent",this.singleton=this.bindScope==="singleton"?[]:void 0,this.callProxy=J.callProxy instanceof Function?J.callProxy:void 0}contextKey(J,he){return this}contextMap(J){const he=this.__cmap||(this.__cmap=new Map);let Qe=he.get(J);return Qe===void 0&&he.set(J,Qe=[]),Qe}convertArg(J,he,Qe){let z=this.singleton;if(!z&&this.isContext&&(z=this.contextMap(this.contextKey(he,Qe))),z&&z[0]===J)return z[1];if(J instanceof Function){this.callProxy&&(J=this.callProxy(J));const ee=re(J,this.signature,this.isTransient);if(Wo.debugFuncInstall&&Wo.debugOut("FuncPtrAdapter installed",this,this.contextKey(he,Qe),"@"+ee,J),z){if(z[1]){Wo.debugFuncInstall&&Wo.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(he,Qe),"@"+z[1],J);try{I.scopedAlloc[I.scopedAlloc.length-1].push(z[1])}catch{}}z[0]=J,z[1]=ee}return ee}else if(h.isPtr(J)||J===null||J===void 0){if(z&&z[1]&&z[1]!==J){Wo.debugFuncInstall&&Wo.debugOut("FuncPtrAdapter uninstalling",this,this.contextKey(he,Qe),"@"+z[1],J);try{I.scopedAlloc[I.scopedAlloc.length-1].push(z[1])}catch{}z[0]=z[1]=J|0}return J||0}else throw new TypeError("Invalid FuncPtrAdapter argument type. Expecting a function pointer or a "+(this.name?this.name+" ":"")+"function matching signature "+this.signature+".")}},le.FuncPtrAdapter.warnOnUse=!1,le.FuncPtrAdapter.debugFuncInstall=!1,le.FuncPtrAdapter.debugOut=console.debug.bind(console),le.FuncPtrAdapter.bindScopes=["transient","context","singleton","permanent"];const we=F=>le.get(F)||_("Argument adapter not found:",F),Me=F=>pe.get(F)||_("Result adapter not found:",F);I.xWrap.convertArg=(F,...J)=>we(F)(...J),I.xWrap.convertArgNoCheck=(F,...J)=>le.get(F)(...J),I.xWrap.convertResult=(F,J)=>F===null?J:F?Me(F)(J):void 0,I.xWrap.convertResultNoCheck=(F,J)=>F===null?J:F?pe.get(F)(J):void 0,h.xWrap=function(F,J,...he){arguments.length===3&&Array.isArray(arguments[2])&&(he=arguments[2]),h.isPtr(F)&&(F=h.functionEntry(F)||_("Function pointer not found in WASM function table."));const Qe=F instanceof Function,z=Qe?F:h.xGet(F);if(Qe&&(F=z.name||"unnamed function"),he.length!==z.length&&ze(F,z.length),J===null&&z.length===0)return z;J!=null&&Me(J);for(const T of he)T instanceof Be?le.set(T,(...L)=>T.convertArg(...L)):we(T);const ee=I.xWrap;return z.length===0?(...T)=>T.length?ze(F,z.length):ee.convertResult(J,z.call(null)):function(...T){T.length!==z.length&&ze(F,z.length);const L=h.scopedAllocPush();try{let W=0;for(;W<T.length;++W)T[W]=ee.convertArgNoCheck(he[W],T[W],T,W);return ee.convertResultNoCheck(J,z.apply(null,T))}finally{h.scopedAllocPop(L)}}};const ht=function(F,J,he,Qe,z,ee){if(typeof he=="string"){if(J===1)return ee.get(he);if(J===2){if(Qe)Qe instanceof Function||_(z,"requires a function argument.");else return delete ee.get(he),F;return ee.set(he,Qe),F}}_("Invalid arguments to",z)};return h.xWrap.resultAdapter=function F(J,he){return ht(F,arguments.length,J,he,"resultAdapter()",pe)},h.xWrap.argAdapter=function F(J,he){return ht(F,arguments.length,J,he,"argAdapter()",le)},h.xWrap.FuncPtrAdapter=le.FuncPtrAdapter,h.xCallWrapped=function(F,J,he,...Qe){return Array.isArray(arguments[3])&&(Qe=arguments[3]),h.xWrap(F,J,he||[]).apply(null,Qe||[])},h.xWrap.testConvertArg=I.xWrap.convertArg,h.xWrap.testConvertResult=I.xWrap.convertResult,h},globalThis.WhWasmUtilInstaller.yawl=function(h){const _=()=>fetch(h.uri,{credentials:"same-origin"}),b=this,S=function(X){if(h.wasmUtilTarget){const re=(...Ue)=>{throw new Error(Ue.join(" "))},Le=h.wasmUtilTarget;if(Le.module=X.module,Le.instance=X.instance,Le.instance.exports.memory||(Le.memory=h.imports&&h.imports.env&&h.imports.env.memory||re("Missing 'memory' object!")),!Le.alloc&&X.instance.exports.malloc){const Ue=X.instance.exports;Le.alloc=function(Je){return Ue.malloc(Je)||re("Allocation of",Je,"bytes failed.")},Le.dealloc=function(Je){Ue.free(Je)}}b(Le)}return h.onload&&h.onload(X,h),X};return WebAssembly.instantiateStreaming?function(){return WebAssembly.instantiateStreaming(_(),h.imports||{}).then(S)}:function(){return _().then(re=>re.arrayBuffer()).then(re=>WebAssembly.instantiate(re,h.imports||{})).then(S)}}.bind(globalThis.WhWasmUtilInstaller),globalThis.Jaccwabyt=function h(_){const b=(...Pe)=>{throw new Error(Pe.join(" "))};!(_.heap instanceof WebAssembly.Memory)&&!(_.heap instanceof Function)&&b("config.heap must be WebAssembly.Memory instance or a function."),["alloc","dealloc"].forEach(function(Pe){_[Pe]instanceof Function||b("Config option '"+Pe+"' must be a function.")});const S=h,I=_.heap instanceof Function?_.heap:()=>new Uint8Array(_.heap.buffer),X=_.alloc,re=_.dealloc,Le=_.log||console.log.bind(console),Ue=_.memberPrefix||"",Je=_.memberSuffix||"",rt=_.bigIntEnabled===void 0?!!globalThis.BigInt64Array:!!_.bigIntEnabled,Ae=globalThis.BigInt,xe=globalThis.BigInt64Array,ze=_.ptrSizeof||4,le=_.ptrIR||"i32";S.debugFlags||(S.__makeDebugFlags=function(Pe=null){Pe&&Pe.__flags&&(Pe=Pe.__flags);const st=function ct(wt){return arguments.length===0?ct.__flags:(wt<0?(delete ct.__flags.getter,delete ct.__flags.setter,delete ct.__flags.alloc,delete ct.__flags.dealloc):(ct.__flags.getter=(1&wt)!==0,ct.__flags.setter=(2&wt)!==0,ct.__flags.alloc=(4&wt)!==0,ct.__flags.dealloc=(8&wt)!==0),ct._flags)};return Object.defineProperty(st,"__flags",{iterable:!1,writable:!1,value:Object.create(Pe)}),Pe||st(0),st},S.debugFlags=S.__makeDebugFlags());const pe=function(){const Pe=new ArrayBuffer(2);return new DataView(Pe).setInt16(0,256,!0),new Int16Array(Pe)[0]===256}(),be=Pe=>Pe[1]==="(",$e=Pe=>Pe==="P",Be=Pe=>be(Pe)?"p":Pe[0],we=function(Pe){switch(Be(Pe)){case"c":case"C":return"i8";case"i":return"i32";case"p":case"P":case"s":return le;case"j":return"i64";case"f":return"float";case"d":return"double"}b("Unhandled signature IR:",Pe)},Me=xe?()=>!0:()=>b("BigInt64Array is not available."),ht=function(Pe){switch(Be(Pe)){case"p":case"P":case"s":{switch(ze){case 4:return"getInt32";case 8:return Me()&&"getBigInt64"}break}case"i":return"getInt32";case"c":return"getInt8";case"C":return"getUint8";case"j":return Me()&&"getBigInt64";case"f":return"getFloat32";case"d":return"getFloat64"}b("Unhandled DataView getter for signature:",Pe)},F=function(Pe){switch(Be(Pe)){case"p":case"P":case"s":{switch(ze){case 4:return"setInt32";case 8:return Me()&&"setBigInt64"}break}case"i":return"setInt32";case"c":return"setInt8";case"C":return"setUint8";case"j":return Me()&&"setBigInt64";case"f":return"setFloat32";case"d":return"setFloat64"}b("Unhandled DataView setter for signature:",Pe)},J=function(Pe){switch(Be(Pe)){case"i":case"f":case"c":case"C":case"d":return Number;case"j":return Me()&&Ae;case"p":case"P":case"s":switch(ze){case 4:return Number;case 8:return Me()&&Ae}break}b("Unhandled DataView set wrapper for signature:",Pe)},he=(Pe,st)=>Pe+"::"+st,Qe=function(Pe,st){return()=>b(he(Pe,st),"is read-only.")},z=new WeakMap,ee="(pointer-is-external)",T=function(Pe,st,ct){if(ct||(ct=z.get(st)),ct){if(z.delete(st),Array.isArray(st.ondispose)){let wt;for(;wt=st.ondispose.shift();)try{wt instanceof Function?wt.call(st):wt instanceof Ft?wt.dispose():typeof wt=="number"&&re(wt)}catch(sr){console.warn("ondispose() for",Pe.structName,"@",ct,"threw. NOT propagating it.",sr)}}else if(st.ondispose instanceof Function)try{st.ondispose()}catch(wt){console.warn("ondispose() for",Pe.structName,"@",ct,"threw. NOT propagating it.",wt)}delete st.ondispose,Pe.debugFlags.__flags.dealloc&&Le("debug.dealloc:",st[ee]?"EXTERNAL":"",Pe.structName,"instance:",Pe.structInfo.sizeof,"bytes @"+ct),st[ee]||re(ct)}},L=Pe=>({configurable:!1,writable:!1,iterable:!1,value:Pe}),W=function(Pe,st,ct){let wt=!ct;ct?Object.defineProperty(st,ee,L(ct)):(ct=X(Pe.structInfo.sizeof),ct||b("Allocation of",Pe.structName,"structure failed."));try{Pe.debugFlags.__flags.alloc&&Le("debug.alloc:",wt?"":"EXTERNAL",Pe.structName,"instance:",Pe.structInfo.sizeof,"bytes @"+ct),wt&&I().fill(0,ct,ct+Pe.structInfo.sizeof),z.set(st,ct)}catch(sr){throw T(Pe,st,ct),sr}},Oe=function(){const Pe=this.pointer;return Pe?new Uint8Array(I().slice(Pe,Pe+this.structInfo.sizeof)):null},Et=L(Pe=>Ue+Pe+Je),jt=function(Pe,st,ct=!0){let wt=Pe.members[st];if(!wt&&(Ue||Je)){for(const sr of Object.values(Pe.members))if(sr.key===st){wt=sr;break}!wt&&ct&&b(he(Pe.name,st),"is not a mapped struct member.")}return wt},$t=function Pe(st,ct,wt=!1){Pe._||(Pe._=qr=>qr.replace(/[^vipPsjrdcC]/g,"").replace(/[pPscC]/g,"i"));const sr=jt(st.structInfo,ct,!0);return wt?Pe._(sr.signature):sr.signature},Ze={configurable:!1,enumerable:!1,get:function(){return z.get(this)},set:()=>b("Cannot assign the 'pointer' property of a struct.")},ce=L(function(){const Pe=[];for(const st of Object.keys(this.structInfo.members))Pe.push(this.memberKey(st));return Pe}),ke=new TextDecoder("utf-8"),Ke=new TextEncoder,et=typeof SharedArrayBuffer>"u"?function(){}:SharedArrayBuffer,qt=function(Pe,st,ct){return ke.decode(Pe.buffer instanceof et?Pe.slice(st,ct):Pe.subarray(st,ct))},Wt=function(Pe,st,ct=!1){const wt=jt(Pe.structInfo,st,ct);return wt&&wt.signature.length===1&&wt.signature[0]==="s"?wt:!1},Ee=function(Pe){Pe.signature!=="s"&&b("Invalid member type signature for C-string value:",JSON.stringify(Pe))},Ve=function(st,ct){const wt=jt(st.structInfo,ct,!0);Ee(wt);const sr=st[wt.key];if(!sr)return null;let qr=sr;const Nr=I();for(;Nr[qr]!==0;++qr);return sr===qr?"":qt(Nr,sr,qr)},Ye=function(Pe,...st){Pe.ondispose?Array.isArray(Pe.ondispose)||(Pe.ondispose=[Pe.ondispose]):Pe.ondispose=[],Pe.ondispose.push(...st)},bt=function(Pe){const st=Ke.encode(Pe),ct=X(st.length+1);ct||b("Allocation error while duplicating string:",Pe);const wt=I();return wt.set(st,ct),wt[ct+st.length]=0,ct},ut=function(Pe,st,ct){const wt=jt(Pe.structInfo,st,!0);Ee(wt);const sr=bt(ct);return Pe[wt.key]=sr,Ye(Pe,sr),Pe},Ft=function(st,ct){arguments[2]!==L&&b("Do not call the StructType constructor","from client-level code."),Object.defineProperties(this,{structName:L(st),structInfo:L(ct)})};Ft.prototype=Object.create(null,{dispose:L(function(){T(this.constructor,this)}),lookupMember:L(function(Pe,st=!0){return jt(this.structInfo,Pe,st)}),memberToJsString:L(function(Pe){return Ve(this,Pe)}),memberIsString:L(function(Pe,st=!0){return Wt(this,Pe,st)}),memberKey:Et,memberKeys:ce,memberSignature:L(function(Pe,st=!1){return $t(this,Pe,st)}),memoryDump:L(Oe),pointer:Ze,setMemberCString:L(function(Pe,st){return ut(this,Pe,st)})}),Object.assign(Ft.prototype,{addOnDispose:function(...Pe){return Ye(this,...Pe),this}}),Object.defineProperties(Ft,{allocCString:L(bt),isA:L(Pe=>Pe instanceof Ft),hasExternalPointer:L(Pe=>Pe instanceof Ft&&!!Pe[ee]),memberKey:Et});const nr=Pe=>Number.isFinite(Pe)||Pe instanceof(Ae||Number),Nt=function Pe(st,ct,wt){if(!Pe._){Pe._={getters:{},setters:{},sw:{}};const Pn=["i","c","C","p","P","s","f","d","v()"];rt&&Pn.push("j"),Pn.forEach(function(us){Pe._.getters[us]=ht(us),Pe._.setters[us]=F(us),Pe._.sw[us]=J(us)});const yg=/^[ipPsjfdcC]$/,gg=/^[vipPsjfdcC]\([ipPsjfdcC]*\)$/;Pe.sigCheck=function(us,vg,Eh,ed){Object.prototype.hasOwnProperty.call(us,Eh)&&b(us.structName,"already has a property named",Eh+"."),yg.test(ed)||gg.test(ed)||b("Malformed signature for",he(us.structName,vg)+":",ed)}}const sr=st.memberKey(ct);Pe.sigCheck(st.prototype,ct,sr,wt.signature),wt.key=sr,wt.name=ct;const qr=Be(wt.signature),Nr=he(st.prototype.structName,sr),Or=st.prototype.debugFlags.__flags,ko=Object.create(null);ko.configurable=!1,ko.enumerable=!1,ko.get=function(){Or.getter&&Le("debug.getter:",Pe._.getters[qr],"for",we(qr),Nr,"@",this.pointer,"+",wt.offset,"sz",wt.sizeof);let Pn=new DataView(I().buffer,this.pointer+wt.offset,wt.sizeof)[Pe._.getters[qr]](0,pe);return Or.getter&&Le("debug.getter:",Nr,"result =",Pn),Pn},wt.readOnly?ko.set=Qe(st.prototype.structName,sr):ko.set=function(Pn){if(Or.setter&&Le("debug.setter:",Pe._.setters[qr],"for",we(qr),Nr,"@",this.pointer,"+",wt.offset,"sz",wt.sizeof,Pn),this.pointer||b("Cannot set struct property on disposed instance."),Pn===null)Pn=0;else for(;!nr(Pn);){if($e(wt.signature)&&Pn instanceof Ft){Pn=Pn.pointer||0,Or.setter&&Le("debug.setter:",Nr,"resolved to",Pn);break}b("Invalid value for pointer-type",Nr+".")}new DataView(I().buffer,this.pointer+wt.offset,wt.sizeof)[Pe._.setters[qr]](0,Pe._.sw[qr](Pn),pe)},Object.defineProperty(st.prototype,sr,ko)},tn=function Pe(st,ct){arguments.length===1?(ct=st,st=ct.name):ct.name||(ct.name=st),st||b("Struct name is required.");let wt=!1;Object.keys(ct.members).forEach(Nr=>{const Or=ct.members[Nr];Or.sizeof?Or.sizeof===1?Or.signature==="c"||Or.signature==="C"||b("Unexpected sizeof==1 member",he(ct.name,Nr),"with signature",Or.signature):(Or.sizeof%4!==0&&(console.warn("Invalid struct member description =",Or,"from",ct),b(st,"member",Nr,"sizeof is not aligned. sizeof="+Or.sizeof)),Or.offset%4!==0&&(console.warn("Invalid struct member description =",Or,"from",ct),b(st,"member",Nr,"offset is not aligned. offset="+Or.offset))):b(st,"member",Nr,"is missing sizeof."),(!wt||wt.offset<Or.offset)&&(wt=Or)}),wt?ct.sizeof<wt.offset+wt.sizeof&&b("Invalid struct config:",st,"max member offset ("+wt.offset+") ","extends past end of struct (sizeof="+ct.sizeof+")."):b("No member property descriptions found.");const sr=L(S.__makeDebugFlags(Pe.debugFlags)),qr=function Nr(Or){this instanceof Nr?arguments.length?((Or!==(Or|0)||Or<=0)&&b("Invalid pointer value for",st,"constructor."),W(Nr,this,Or)):W(Nr,this):b("The",st,"constructor may only be called via 'new'.")};return Object.defineProperties(qr,{debugFlags:sr,isA:L(Nr=>Nr instanceof qr),memberKey:Et,memberKeys:ce,methodInfoForKey:L(function(Nr){}),structInfo:L(ct),structName:L(st)}),qr.prototype=new Ft(st,ct,L),Object.defineProperties(qr.prototype,{debugFlags:sr,constructor:L(qr)}),Object.keys(ct.members).forEach(Nr=>Nt(qr,Nr,ct.members[Nr])),qr};return tn.StructType=Ft,tn.config=_,tn.allocCString=bt,tn.debugFlags||(tn.debugFlags=S.__makeDebugFlags(S.debugFlags)),tn},globalThis.sqlite3ApiBootstrap.initializers.push(function(h){const _=(...le)=>{throw new Error(le.join(" "))};h.SQLite3Error.toss;const b=h.capi,S=h.wasm,I=h.util;if(globalThis.WhWasmUtilInstaller(S),delete globalThis.WhWasmUtilInstaller,S.bindingSignatures=[["sqlite3_aggregate_context","void*","sqlite3_context*","int"],["sqlite3_bind_double","int","sqlite3_stmt*","int","f64"],["sqlite3_bind_int","int","sqlite3_stmt*","int","int"],["sqlite3_bind_null",void 0,"sqlite3_stmt*","int"],["sqlite3_bind_parameter_count","int","sqlite3_stmt*"],["sqlite3_bind_parameter_index","int","sqlite3_stmt*","string"],["sqlite3_bind_parameter_name","string","sqlite3_stmt*","int"],["sqlite3_bind_pointer","int","sqlite3_stmt*","int","*","string:static","*"],["sqlite3_busy_handler","int",["sqlite3*",new S.xWrap.FuncPtrAdapter({signature:"i(pi)",contextKey:(le,pe)=>le[0]}),"*"]],["sqlite3_busy_timeout","int","sqlite3*","int"],["sqlite3_changes","int","sqlite3*"],["sqlite3_clear_bindings","int","sqlite3_stmt*"],["sqlite3_collation_needed","int","sqlite3*","*","*"],["sqlite3_column_blob","*","sqlite3_stmt*","int"],["sqlite3_column_bytes","int","sqlite3_stmt*","int"],["sqlite3_column_count","int","sqlite3_stmt*"],["sqlite3_column_decltype","string","sqlite3_stmt*","int"],["sqlite3_column_double","f64","sqlite3_stmt*","int"],["sqlite3_column_int","int","sqlite3_stmt*","int"],["sqlite3_column_name","string","sqlite3_stmt*","int"],["sqlite3_column_text","string","sqlite3_stmt*","int"],["sqlite3_column_type","int","sqlite3_stmt*","int"],["sqlite3_column_value","sqlite3_value*","sqlite3_stmt*","int"],["sqlite3_commit_hook","void*",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_commit_hook",signature:"i(p)",contextKey:le=>le[0]}),"*"]],["sqlite3_compileoption_get","string","int"],["sqlite3_compileoption_used","int","string"],["sqlite3_complete","int","string:flexible"],["sqlite3_context_db_handle","sqlite3*","sqlite3_context*"],["sqlite3_data_count","int","sqlite3_stmt*"],["sqlite3_db_filename","string","sqlite3*","string"],["sqlite3_db_handle","sqlite3*","sqlite3_stmt*"],["sqlite3_db_name","string","sqlite3*","int"],["sqlite3_db_readonly","int","sqlite3*","string"],["sqlite3_db_status","int","sqlite3*","int","*","*","int"],["sqlite3_errcode","int","sqlite3*"],["sqlite3_errmsg","string","sqlite3*"],["sqlite3_error_offset","int","sqlite3*"],["sqlite3_errstr","string","int"],["sqlite3_exec","int",["sqlite3*","string:flexible",new S.xWrap.FuncPtrAdapter({signature:"i(pipp)",bindScope:"transient",callProxy:le=>{let pe;return(be,$e,Be,we)=>{try{const Me=S.cArgvToJs($e,Be);return pe||(pe=S.cArgvToJs($e,we)),le(Me,pe)|0}catch(Me){return Me.resultCode||b.SQLITE_ERROR}}}}),"*","**"]],["sqlite3_expanded_sql","string","sqlite3_stmt*"],["sqlite3_extended_errcode","int","sqlite3*"],["sqlite3_extended_result_codes","int","sqlite3*","int"],["sqlite3_file_control","int","sqlite3*","string","int","*"],["sqlite3_finalize","int","sqlite3_stmt*"],["sqlite3_free",void 0,"*"],["sqlite3_get_autocommit","int","sqlite3*"],["sqlite3_get_auxdata","*","sqlite3_context*","int"],["sqlite3_initialize",void 0],["sqlite3_interrupt",void 0,"sqlite3*"],["sqlite3_is_interrupted","int","sqlite3*"],["sqlite3_keyword_count","int"],["sqlite3_keyword_name","int",["int","**","*"]],["sqlite3_keyword_check","int",["string","int"]],["sqlite3_libversion","string"],["sqlite3_libversion_number","int"],["sqlite3_limit","int",["sqlite3*","int","int"]],["sqlite3_malloc","*","int"],["sqlite3_open","int","string","*"],["sqlite3_open_v2","int","string","*","int","string"],["sqlite3_realloc","*","*","int"],["sqlite3_reset","int","sqlite3_stmt*"],["sqlite3_result_blob",void 0,"sqlite3_context*","*","int","*"],["sqlite3_result_double",void 0,"sqlite3_context*","f64"],["sqlite3_result_error",void 0,"sqlite3_context*","string","int"],["sqlite3_result_error_code",void 0,"sqlite3_context*","int"],["sqlite3_result_error_nomem",void 0,"sqlite3_context*"],["sqlite3_result_error_toobig",void 0,"sqlite3_context*"],["sqlite3_result_int",void 0,"sqlite3_context*","int"],["sqlite3_result_null",void 0,"sqlite3_context*"],["sqlite3_result_pointer",void 0,"sqlite3_context*","*","string:static","*"],["sqlite3_result_subtype",void 0,"sqlite3_value*","int"],["sqlite3_result_text",void 0,"sqlite3_context*","string","int","*"],["sqlite3_result_zeroblob",void 0,"sqlite3_context*","int"],["sqlite3_rollback_hook","void*",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_rollback_hook",signature:"v(p)",contextKey:le=>le[0]}),"*"]],["sqlite3_set_auxdata",void 0,["sqlite3_context*","int","*",new S.xWrap.FuncPtrAdapter({name:"xDestroyAuxData",signature:"v(*)",contextKey:(le,pe)=>le[0]})]],["sqlite3_shutdown",void 0],["sqlite3_sourceid","string"],["sqlite3_sql","string","sqlite3_stmt*"],["sqlite3_status","int","int","*","*","int"],["sqlite3_step","int","sqlite3_stmt*"],["sqlite3_stmt_busy","int","sqlite3_stmt*"],["sqlite3_stmt_readonly","int","sqlite3_stmt*"],["sqlite3_stmt_status","int","sqlite3_stmt*","int","int"],["sqlite3_strglob","int","string","string"],["sqlite3_stricmp","int","string","string"],["sqlite3_strlike","int","string","string","int"],["sqlite3_strnicmp","int","string","string","int"],["sqlite3_table_column_metadata","int","sqlite3*","string","string","string","**","**","*","*","*"],["sqlite3_total_changes","int","sqlite3*"],["sqlite3_trace_v2","int",["sqlite3*","int",new S.xWrap.FuncPtrAdapter({name:"sqlite3_trace_v2::callback",signature:"i(ippp)",contextKey:(le,pe)=>le[0]}),"*"]],["sqlite3_txn_state","int",["sqlite3*","string"]],["sqlite3_uri_boolean","int","sqlite3_filename","string","int"],["sqlite3_uri_key","string","sqlite3_filename","int"],["sqlite3_uri_parameter","string","sqlite3_filename","string"],["sqlite3_user_data","void*","sqlite3_context*"],["sqlite3_value_blob","*","sqlite3_value*"],["sqlite3_value_bytes","int","sqlite3_value*"],["sqlite3_value_double","f64","sqlite3_value*"],["sqlite3_value_dup","sqlite3_value*","sqlite3_value*"],["sqlite3_value_free",void 0,"sqlite3_value*"],["sqlite3_value_frombind","int","sqlite3_value*"],["sqlite3_value_int","int","sqlite3_value*"],["sqlite3_value_nochange","int","sqlite3_value*"],["sqlite3_value_numeric_type","int","sqlite3_value*"],["sqlite3_value_pointer","*","sqlite3_value*","string:static"],["sqlite3_value_subtype","int","sqlite3_value*"],["sqlite3_value_text","string","sqlite3_value*"],["sqlite3_value_type","int","sqlite3_value*"],["sqlite3_vfs_find","*","string"],["sqlite3_vfs_register","int","sqlite3_vfs*","int"],["sqlite3_vfs_unregister","int","sqlite3_vfs*"]],S.exports.sqlite3_progress_handler&&S.bindingSignatures.push(["sqlite3_progress_handler",void 0,["sqlite3*","int",new S.xWrap.FuncPtrAdapter({name:"xProgressHandler",signature:"i(p)",bindScope:"context",contextKey:(le,pe)=>le[0]}),"*"]]),S.exports.sqlite3_stmt_explain&&S.bindingSignatures.push(["sqlite3_stmt_explain","int","sqlite3_stmt*","int"],["sqlite3_stmt_isexplain","int","sqlite3_stmt*"]),S.exports.sqlite3_set_authorizer&&S.bindingSignatures.push(["sqlite3_set_authorizer","int",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_set_authorizer::xAuth",signature:"i(pissss)",contextKey:(le,pe)=>le[0],callProxy:le=>(pe,be,$e,Be,we,Me)=>{try{return $e=$e&&S.cstrToJs($e),Be=Be&&S.cstrToJs(Be),we=we&&S.cstrToJs(we),Me=Me&&S.cstrToJs(Me),le(pe,be,$e,Be,we,Me)||0}catch(ht){return ht.resultCode||b.SQLITE_ERROR}}}),"*"]]),S.bindingSignatures.int64=[["sqlite3_bind_int64","int",["sqlite3_stmt*","int","i64"]],["sqlite3_changes64","i64",["sqlite3*"]],["sqlite3_column_int64","i64",["sqlite3_stmt*","int"]],["sqlite3_deserialize","int","sqlite3*","string","*","i64","i64","int"],["sqlite3_last_insert_rowid","i64",["sqlite3*"]],["sqlite3_malloc64","*","i64"],["sqlite3_msize","i64","*"],["sqlite3_overload_function","int",["sqlite3*","string","int"]],["sqlite3_realloc64","*","*","i64"],["sqlite3_result_int64",void 0,"*","i64"],["sqlite3_result_zeroblob64","int","*","i64"],["sqlite3_serialize","*","sqlite3*","string","*","int"],["sqlite3_set_last_insert_rowid",void 0,["sqlite3*","i64"]],["sqlite3_status64","int","int","*","*","int"],["sqlite3_total_changes64","i64",["sqlite3*"]],["sqlite3_update_hook","*",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_update_hook",signature:"v(iippj)",contextKey:le=>le[0],callProxy:le=>(pe,be,$e,Be,we)=>{le(pe,be,S.cstrToJs($e),S.cstrToJs(Be),we)}}),"*"]],["sqlite3_uri_int64","i64",["sqlite3_filename","string","i64"]],["sqlite3_value_int64","i64","sqlite3_value*"]],S.bigIntEnabled&&S.exports.sqlite3_declare_vtab&&S.bindingSignatures.int64.push(["sqlite3_create_module","int",["sqlite3*","string","sqlite3_module*","*"]],["sqlite3_create_module_v2","int",["sqlite3*","string","sqlite3_module*","*","*"]],["sqlite3_declare_vtab","int",["sqlite3*","string:flexible"]],["sqlite3_drop_modules","int",["sqlite3*","**"]],["sqlite3_vtab_collation","string","sqlite3_index_info*","int"],["sqlite3_vtab_distinct","int","sqlite3_index_info*"],["sqlite3_vtab_in","int","sqlite3_index_info*","int","int"],["sqlite3_vtab_in_first","int","sqlite3_value*","**"],["sqlite3_vtab_in_next","int","sqlite3_value*","**"],["sqlite3_vtab_nochange","int","sqlite3_context*"],["sqlite3_vtab_on_conflict","int","sqlite3*"],["sqlite3_vtab_rhs_value","int","sqlite3_index_info*","int","**"]),S.bigIntEnabled&&S.exports.sqlite3_preupdate_hook&&S.bindingSignatures.int64.push(["sqlite3_preupdate_blobwrite","int","sqlite3*"],["sqlite3_preupdate_count","int","sqlite3*"],["sqlite3_preupdate_depth","int","sqlite3*"],["sqlite3_preupdate_hook","*",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"sqlite3_preupdate_hook",signature:"v(ppippjj)",contextKey:le=>le[0],callProxy:le=>(pe,be,$e,Be,we,Me,ht)=>{le(pe,be,$e,S.cstrToJs(Be),S.cstrToJs(we),Me,ht)}}),"*"]],["sqlite3_preupdate_new","int",["sqlite3*","int","**"]],["sqlite3_preupdate_old","int",["sqlite3*","int","**"]]),S.bigIntEnabled&&S.exports.sqlite3changegroup_add&&S.exports.sqlite3session_create&&S.exports.sqlite3_preupdate_hook){const le={signature:"i(ps)",callProxy:pe=>(be,$e)=>{try{return pe(be,S.cstrToJs($e))|0}catch(Be){return Be.resultCode||b.SQLITE_ERROR}}};S.bindingSignatures.int64.push(["sqlite3changegroup_add","int",["sqlite3_changegroup*","int","void*"]],["sqlite3changegroup_add_strm","int",["sqlite3_changegroup*",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changegroup_delete",void 0,["sqlite3_changegroup*"]],["sqlite3changegroup_new","int",["**"]],["sqlite3changegroup_output","int",["sqlite3_changegroup*","int*","**"]],["sqlite3changegroup_output_strm","int",["sqlite3_changegroup*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply","int",["sqlite3*","int","void*",new S.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...le}),new S.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_strm","int",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...le}),new S.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*"]],["sqlite3changeset_apply_v2","int",["sqlite3*","int","void*",new S.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...le}),new S.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_apply_v2_strm","int",["sqlite3*",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xFilter",bindScope:"transient",...le}),new S.xWrap.FuncPtrAdapter({name:"xConflict",signature:"i(pip)",bindScope:"transient"}),"void*","**","int*","int"]],["sqlite3changeset_concat","int",["int","void*","int","void*","int*","**"]],["sqlite3changeset_concat_strm","int",[new S.xWrap.FuncPtrAdapter({name:"xInputA",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xInputB",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_conflict","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_finalize","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_fk_conflicts","int",["sqlite3_changeset_iter*","int*"]],["sqlite3changeset_invert","int",["int","void*","int*","**"]],["sqlite3changeset_invert_strm","int",[new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppi)",bindScope:"transient"}),"void*"]],["sqlite3changeset_new","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_next","int",["sqlite3_changeset_iter*"]],["sqlite3changeset_old","int",["sqlite3_changeset_iter*","int","**"]],["sqlite3changeset_op","int",["sqlite3_changeset_iter*","**","int*","int*","int*"]],["sqlite3changeset_pk","int",["sqlite3_changeset_iter*","**","int*"]],["sqlite3changeset_start","int",["**","int","*"]],["sqlite3changeset_start_strm","int",["**",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3changeset_start_v2","int",["**","int","*","int"]],["sqlite3changeset_start_v2_strm","int",["**",new S.xWrap.FuncPtrAdapter({name:"xInput",signature:"i(ppp)",bindScope:"transient"}),"void*","int"]],["sqlite3session_attach","int",["sqlite3_session*","string"]],["sqlite3session_changeset","int",["sqlite3_session*","int*","**"]],["sqlite3session_changeset_size","i64",["sqlite3_session*"]],["sqlite3session_changeset_strm","int",["sqlite3_session*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_config","int",["int","void*"]],["sqlite3session_create","int",["sqlite3*","string","**"]],["sqlite3session_diff","int",["sqlite3_session*","string","string","**"]],["sqlite3session_enable","int",["sqlite3_session*","int"]],["sqlite3session_indirect","int",["sqlite3_session*","int"]],["sqlite3session_isempty","int",["sqlite3_session*"]],["sqlite3session_memory_used","i64",["sqlite3_session*"]],["sqlite3session_object_config","int",["sqlite3_session*","int","void*"]],["sqlite3session_patchset","int",["sqlite3_session*","*","**"]],["sqlite3session_patchset_strm","int",["sqlite3_session*",new S.xWrap.FuncPtrAdapter({name:"xOutput",signature:"i(ppp)",bindScope:"transient"}),"void*"]],["sqlite3session_table_filter",void 0,["sqlite3_session*",new S.xWrap.FuncPtrAdapter({name:"xFilter",...le,contextKey:(pe,be)=>pe[0]}),"*"]])}S.bindingSignatures.wasmInternal=[["sqlite3__wasm_db_reset","int","sqlite3*"],["sqlite3__wasm_db_vfs","sqlite3_vfs*","sqlite3*","string"],["sqlite3__wasm_vfs_create_file","int","sqlite3_vfs*","string","*","int"],["sqlite3__wasm_posix_create_file","int","string","*","int"],["sqlite3__wasm_vfs_unlink","int","sqlite3_vfs*","string"],["sqlite3__wasm_qfmt_token","string:dealloc","string","int"]],h.StructBinder=globalThis.Jaccwabyt({heap:S.heap8u,alloc:S.alloc,dealloc:S.dealloc,bigIntEnabled:S.bigIntEnabled,memberPrefix:"$"}),delete globalThis.Jaccwabyt;{const le=S.xWrap.argAdapter("string");S.xWrap.argAdapter("string:flexible",we=>le(I.flexibleString(we))),S.xWrap.argAdapter("string:static",function(we){return S.isPtr(we)?we:(we=""+we,this[we]||(this[we]=S.allocCString(we)))}.bind(Object.create(null)));const pe=S.xWrap.argAdapter("*"),be=function(){};S.xWrap.argAdapter("sqlite3_filename",pe)("sqlite3_context*",pe)("sqlite3_value*",pe)("void*",pe)("sqlite3_changegroup*",pe)("sqlite3_changeset_iter*",pe)("sqlite3_session*",pe)("sqlite3_stmt*",we=>pe(we instanceof(h?.oo1?.Stmt||be)?we.pointer:we))("sqlite3*",we=>pe(we instanceof(h?.oo1?.DB||be)?we.pointer:we))("sqlite3_vfs*",we=>typeof we=="string"?b.sqlite3_vfs_find(we)||h.SQLite3Error.toss(b.SQLITE_NOTFOUND,"Unknown sqlite3_vfs name:",we):pe(we instanceof(b.sqlite3_vfs||be)?we.pointer:we)),S.exports.sqlite3_declare_vtab&&S.xWrap.argAdapter("sqlite3_index_info*",we=>pe(we instanceof(b.sqlite3_index_info||be)?we.pointer:we))("sqlite3_module*",we=>pe(we instanceof(b.sqlite3_module||be)?we.pointer:we));const $e=S.xWrap.resultAdapter("*");S.xWrap.resultAdapter("sqlite3*",$e)("sqlite3_context*",$e)("sqlite3_stmt*",$e)("sqlite3_value*",$e)("sqlite3_vfs*",$e)("void*",$e),S.exports.sqlite3_step.length===0&&(S.xWrap.doArgcCheck=!1,h.config.warn("Disabling sqlite3.wasm.xWrap.doArgcCheck due to environmental quirks."));for(const we of S.bindingSignatures)b[we[0]]=S.xWrap.apply(null,we);for(const we of S.bindingSignatures.wasmInternal)I[we[0]]=S.xWrap.apply(null,we);const Be=function(we){return()=>_(we+"() is unavailable due to lack","of BigInt support in this build.")};for(const we of S.bindingSignatures.int64)b[we[0]]=S.bigIntEnabled?S.xWrap.apply(null,we):Be(we[0]);if(delete S.bindingSignatures,S.exports.sqlite3__wasm_db_error){const we=S.xWrap("sqlite3__wasm_db_error","int","sqlite3*","int","string");I.sqlite3__wasm_db_error=function(Me,ht,F){return ht instanceof h.WasmAllocError?(ht=b.SQLITE_NOMEM,F=0):ht instanceof Error&&(F=F||""+ht,ht=ht.resultCode||b.SQLITE_ERROR),Me?we(Me,ht,F):ht}}else I.sqlite3__wasm_db_error=function(we,Me,ht){return console.warn("sqlite3__wasm_db_error() is not exported.",arguments),Me}}{const le=S.xCall("sqlite3__wasm_enum_json");le||_("Maintenance required: increase sqlite3__wasm_enum_json()'s","static buffer size!"),S.ctype=JSON.parse(S.cstrToJs(le));const pe=["access","authorizer","blobFinalizers","changeset","config","dataTypes","dbConfig","dbStatus","encodings","fcntl","flock","ioCap","limits","openFlags","prepareFlags","resultCodes","sqlite3Status","stmtStatus","syncFlags","trace","txnState","udfFlags","version"];S.bigIntEnabled&&pe.push("serialize","session","vtab");for(const Be of pe)for(const we of Object.entries(S.ctype[Be]))b[we[0]]=we[1];S.functionEntry(b.SQLITE_WASM_DEALLOC)||_("Internal error: cannot resolve exported function","entry SQLITE_WASM_DEALLOC (=="+b.SQLITE_WASM_DEALLOC+").");const be=Object.create(null);for(const Be of["resultCodes"])for(const we of Object.entries(S.ctype[Be]))be[we[1]]=we[0];b.sqlite3_js_rc_str=Be=>be[Be];const $e=Object.assign(Object.create(null),{WasmTestStruct:!0,sqlite3_kvvfs_methods:!I.isUIThread(),sqlite3_index_info:!S.bigIntEnabled,sqlite3_index_constraint:!S.bigIntEnabled,sqlite3_index_orderby:!S.bigIntEnabled,sqlite3_index_constraint_usage:!S.bigIntEnabled});for(const Be of S.ctype.structs)$e[Be.name]||(b[Be.name]=h.StructBinder(Be));if(b.sqlite3_index_info){for(const Be of["sqlite3_index_constraint","sqlite3_index_orderby","sqlite3_index_constraint_usage"])b.sqlite3_index_info[Be]=b[Be],delete b[Be];b.sqlite3_vtab_config=S.xWrap("sqlite3__wasm_vtab_config","int",["sqlite3*","int","int"])}}const X=(le,pe,be)=>I.sqlite3__wasm_db_error(le,b.SQLITE_MISUSE,pe+"() requires "+be+" argument"+(be===1?"":"s")+"."),re=le=>I.sqlite3__wasm_db_error(le,b.SQLITE_FORMAT,"SQLITE_UTF8 is the only supported encoding."),Le=le=>S.xWrap.argAdapter("sqlite3*")(le),Ue=le=>S.isPtr(le)?S.cstrToJs(le):le,Je=function(le,pe){le=Le(le);let be=this.dbMap.get(le);if(pe)!be&&pe>0&&this.dbMap.set(le,be=Object.create(null));else return this.dbMap.delete(le),be;return be}.bind(Object.assign(Object.create(null),{dbMap:new Map}));Je.addCollation=function(le,pe){const be=Je(le,1);be.collation||(be.collation=new Set),be.collation.add(Ue(pe).toLowerCase())},Je._addUDF=function(le,pe,be,$e){pe=Ue(pe).toLowerCase();let Be=$e.get(pe);Be||$e.set(pe,Be=new Set),Be.add(be<0?-1:be)},Je.addFunction=function(le,pe,be){const $e=Je(le,1);$e.udf||($e.udf=new Map),this._addUDF(le,pe,be,$e.udf)},S.exports.sqlite3_create_window_function&&(Je.addWindowFunc=function(le,pe,be){const $e=Je(le,1);$e.wudf||($e.wudf=new Map),this._addUDF(le,pe,be,$e.wudf)}),Je.cleanup=function(le){le=Le(le);const pe=[le];for(const Be of["sqlite3_busy_handler","sqlite3_commit_hook","sqlite3_preupdate_hook","sqlite3_progress_handler","sqlite3_rollback_hook","sqlite3_set_authorizer","sqlite3_trace_v2","sqlite3_update_hook"]){const we=S.exports[Be];if(we){pe.length=we.length;try{b[Be](...pe)}catch(Me){h.config.warn("close-time call of",Be+"(",pe,") threw:",Me)}}}const be=Je(le,0);if(!be)return;if(be.collation){for(const Be of be.collation)try{b.sqlite3_create_collation_v2(le,Be,b.SQLITE_UTF8,0,0,0)}catch{}delete be.collation}let $e;for($e=0;$e<2;++$e){const Be=$e?be.wudf:be.udf;if(!Be)continue;const we=$e?b.sqlite3_create_window_function:b.sqlite3_create_function_v2;for(const Me of Be){const ht=Me[0],F=Me[1],J=[le,ht,0,b.SQLITE_UTF8,0,0,0,0,0];$e&&J.push(0);for(const he of F)try{J[2]=he,we.apply(null,J)}catch{}F.clear()}Be.clear()}delete be.udf,delete be.wudf};{const le=S.xWrap("sqlite3_close_v2","int","sqlite3*");b.sqlite3_close_v2=function(pe){if(arguments.length!==1)return X(pe,"sqlite3_close_v2",1);if(pe)try{Je.cleanup(pe)}catch{}return le(pe)}}if(b.sqlite3session_create){const le=S.xWrap("sqlite3session_delete",void 0,["sqlite3_session*"]);b.sqlite3session_delete=function(pe){if(arguments.length!==1)return X(pDb,"sqlite3session_delete",1);pe&&b.sqlite3session_table_filter(pe,0,0),le(pe)}}{const le=(be,$e)=>"argv["+$e+"]:"+be[0]+":"+S.cstrToJs(be[1]).toLowerCase(),pe=S.xWrap("sqlite3_create_collation_v2","int",["sqlite3*","string","int","*",new S.xWrap.FuncPtrAdapter({name:"xCompare",signature:"i(pipip)",contextKey:le}),new S.xWrap.FuncPtrAdapter({name:"xDestroy",signature:"v(p)",contextKey:le})]);b.sqlite3_create_collation_v2=function(be,$e,Be,we,Me,ht){if(arguments.length!==6)return X(be,"sqlite3_create_collation_v2",6);if(!(Be&15))Be|=b.SQLITE_UTF8;else if(b.SQLITE_UTF8!==(Be&15))return re(be);try{const F=pe(be,$e,Be,we,Me,ht);return F===0&&Me instanceof Function&&Je.addCollation(be,$e),F}catch(F){return I.sqlite3__wasm_db_error(be,F)}},b.sqlite3_create_collation=(be,$e,Be,we,Me)=>arguments.length===5?b.sqlite3_create_collation_v2(be,$e,Be,we,Me,0):X(be,"sqlite3_create_collation",5)}{const le=function(Be,we){return Be[0]+":"+(Be[2]<0?-1:Be[2])+":"+we+":"+S.cstrToJs(Be[1]).toLowerCase()},pe=Object.assign(Object.create(null),{xInverseAndStep:{signature:"v(pip)",contextKey:le,callProxy:Be=>(we,Me,ht)=>{try{Be(we,...b.sqlite3_values_to_js(Me,ht))}catch(F){b.sqlite3_result_error_js(we,F)}}},xFinalAndValue:{signature:"v(p)",contextKey:le,callProxy:Be=>we=>{try{b.sqlite3_result_js(we,Be(we))}catch(Me){b.sqlite3_result_error_js(we,Me)}}},xFunc:{signature:"v(pip)",contextKey:le,callProxy:Be=>(we,Me,ht)=>{try{b.sqlite3_result_js(we,Be(we,...b.sqlite3_values_to_js(Me,ht)))}catch(F){b.sqlite3_result_error_js(we,F)}}},xDestroy:{signature:"v(p)",contextKey:le,callProxy:Be=>we=>{try{Be(we)}catch(Me){console.error("UDF xDestroy method threw:",Me)}}}}),be=S.xWrap("sqlite3_create_function_v2","int",["sqlite3*","string","int","int","*",new S.xWrap.FuncPtrAdapter({name:"xFunc",...pe.xFunc}),new S.xWrap.FuncPtrAdapter({name:"xStep",...pe.xInverseAndStep}),new S.xWrap.FuncPtrAdapter({name:"xFinal",...pe.xFinalAndValue}),new S.xWrap.FuncPtrAdapter({name:"xDestroy",...pe.xDestroy})]),$e=S.exports.sqlite3_create_window_function?S.xWrap("sqlite3_create_window_function","int",["sqlite3*","string","int","int","*",new S.xWrap.FuncPtrAdapter({name:"xStep",...pe.xInverseAndStep}),new S.xWrap.FuncPtrAdapter({name:"xFinal",...pe.xFinalAndValue}),new S.xWrap.FuncPtrAdapter({name:"xValue",...pe.xFinalAndValue}),new S.xWrap.FuncPtrAdapter({name:"xInverse",...pe.xInverseAndStep}),new S.xWrap.FuncPtrAdapter({name:"xDestroy",...pe.xDestroy})]):void 0;b.sqlite3_create_function_v2=function Be(we,Me,ht,F,J,he,Qe,z,ee){if(Be.length!==arguments.length)return X(we,"sqlite3_create_function_v2",Be.length);if(!(F&15))F|=b.SQLITE_UTF8;else if(b.SQLITE_UTF8!==(F&15))return re(we);try{const T=be(we,Me,ht,F,J,he,Qe,z,ee);return T===0&&(he instanceof Function||Qe instanceof Function||z instanceof Function||ee instanceof Function)&&Je.addFunction(we,Me,ht),T}catch(T){return console.error("sqlite3_create_function_v2() setup threw:",T),I.sqlite3__wasm_db_error(we,T,"Creation of UDF threw: "+T)}},b.sqlite3_create_function=function Be(we,Me,ht,F,J,he,Qe,z){return Be.length===arguments.length?b.sqlite3_create_function_v2(we,Me,ht,F,J,he,Qe,z,0):X(we,"sqlite3_create_function",Be.length)},$e?b.sqlite3_create_window_function=function Be(we,Me,ht,F,J,he,Qe,z,ee,T){if(Be.length!==arguments.length)return X(we,"sqlite3_create_window_function",Be.length);if(!(F&15))F|=b.SQLITE_UTF8;else if(b.SQLITE_UTF8!==(F&15))return re(we);try{const L=$e(we,Me,ht,F,J,he,Qe,z,ee,T);return L===0&&(he instanceof Function||Qe instanceof Function||z instanceof Function||ee instanceof Function||T instanceof Function)&&Je.addWindowFunc(we,Me,ht),L}catch(L){return console.error("sqlite3_create_window_function() setup threw:",L),I.sqlite3__wasm_db_error(we,L,"Creation of UDF threw: "+L)}}:delete b.sqlite3_create_window_function,b.sqlite3_create_function_v2.udfSetResult=b.sqlite3_create_function.udfSetResult=b.sqlite3_result_js,b.sqlite3_create_window_function&&(b.sqlite3_create_window_function.udfSetResult=b.sqlite3_result_js),b.sqlite3_create_function_v2.udfConvertArgs=b.sqlite3_create_function.udfConvertArgs=b.sqlite3_values_to_js,b.sqlite3_create_window_function&&(b.sqlite3_create_window_function.udfConvertArgs=b.sqlite3_values_to_js),b.sqlite3_create_function_v2.udfSetError=b.sqlite3_create_function.udfSetError=b.sqlite3_result_error_js,b.sqlite3_create_window_function&&(b.sqlite3_create_window_function.udfSetError=b.sqlite3_result_error_js)}{const le=(be,$e)=>(typeof be=="string"?$e=-1:I.isSQLableTypedArray(be)?($e=be.byteLength,be=I.typedArrayToString(be instanceof ArrayBuffer?new Uint8Array(be):be)):Array.isArray(be)&&(be=be.join(""),$e=-1),[be,$e]),pe={basic:S.xWrap("sqlite3_prepare_v3","int",["sqlite3*","string","int","int","**","**"]),full:S.xWrap("sqlite3_prepare_v3","int",["sqlite3*","*","int","int","**","**"])};b.sqlite3_prepare_v3=function be($e,Be,we,Me,ht,F){if(be.length!==arguments.length)return X($e,"sqlite3_prepare_v3",be.length);const[J,he]=le(Be,we);switch(typeof J){case"string":return pe.basic($e,J,he,Me,ht,null);case"number":return pe.full($e,J,he,Me,ht,F);default:return I.sqlite3__wasm_db_error($e,b.SQLITE_MISUSE,"Invalid SQL argument type for sqlite3_prepare_v2/v3().")}},b.sqlite3_prepare_v2=function be($e,Be,we,Me,ht){return be.length===arguments.length?b.sqlite3_prepare_v3($e,Be,we,0,Me,ht):X($e,"sqlite3_prepare_v2",be.length)}}{const le=S.xWrap("sqlite3_bind_text","int",["sqlite3_stmt*","int","string","int","*"]),pe=S.xWrap("sqlite3_bind_blob","int",["sqlite3_stmt*","int","*","int","*"]);b.sqlite3_bind_text=function be($e,Be,we,Me,ht){if(be.length!==arguments.length)return X(b.sqlite3_db_handle($e),"sqlite3_bind_text",be.length);if(S.isPtr(we)||we===null)return le($e,Be,we,Me,ht);we instanceof ArrayBuffer?we=new Uint8Array(we):Array.isArray(pMem)&&(we=pMem.join(""));let F,J;try{if(I.isSQLableTypedArray(we))F=S.allocFromTypedArray(we),J=we.byteLength;else if(typeof we=="string")[F,J]=S.allocCString(we);else return I.sqlite3__wasm_db_error(b.sqlite3_db_handle($e),b.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_text().");return le($e,Be,F,J,b.SQLITE_WASM_DEALLOC)}catch(he){return S.dealloc(F),I.sqlite3__wasm_db_error(b.sqlite3_db_handle($e),he)}},b.sqlite3_bind_blob=function be($e,Be,we,Me,ht){if(be.length!==arguments.length)return X(b.sqlite3_db_handle($e),"sqlite3_bind_blob",be.length);if(S.isPtr(we)||we===null)return pe($e,Be,we,Me,ht);we instanceof ArrayBuffer?we=new Uint8Array(we):Array.isArray(we)&&(we=we.join(""));let F,J;try{if(I.isBindableTypedArray(we))F=S.allocFromTypedArray(we),J=Me>=0?Me:we.byteLength;else if(typeof we=="string")[F,J]=S.allocCString(we);else return I.sqlite3__wasm_db_error(b.sqlite3_db_handle($e),b.SQLITE_MISUSE,"Invalid 3rd argument type for sqlite3_bind_blob().");return pe($e,Be,F,J,b.SQLITE_WASM_DEALLOC)}catch(he){return S.dealloc(F),I.sqlite3__wasm_db_error(b.sqlite3_db_handle($e),he)}}}b.sqlite3_config=function(le,...pe){if(arguments.length<2)return b.SQLITE_MISUSE;switch(le){case b.SQLITE_CONFIG_COVERING_INDEX_SCAN:case b.SQLITE_CONFIG_MEMSTATUS:case b.SQLITE_CONFIG_SMALL_MALLOC:case b.SQLITE_CONFIG_SORTERREF_SIZE:case b.SQLITE_CONFIG_STMTJRNL_SPILL:case b.SQLITE_CONFIG_URI:return S.exports.sqlite3__wasm_config_i(le,pe[0]);case b.SQLITE_CONFIG_LOOKASIDE:return S.exports.sqlite3__wasm_config_ii(le,pe[0],pe[1]);case b.SQLITE_CONFIG_MEMDB_MAXSIZE:return S.exports.sqlite3__wasm_config_j(le,pe[0]);case b.SQLITE_CONFIG_GETMALLOC:case b.SQLITE_CONFIG_GETMUTEX:case b.SQLITE_CONFIG_GETPCACHE2:case b.SQLITE_CONFIG_GETPCACHE:case b.SQLITE_CONFIG_HEAP:case b.SQLITE_CONFIG_LOG:case b.SQLITE_CONFIG_MALLOC:case b.SQLITE_CONFIG_MMAP_SIZE:case b.SQLITE_CONFIG_MULTITHREAD:case b.SQLITE_CONFIG_MUTEX:case b.SQLITE_CONFIG_PAGECACHE:case b.SQLITE_CONFIG_PCACHE2:case b.SQLITE_CONFIG_PCACHE:case b.SQLITE_CONFIG_PCACHE_HDRSZ:case b.SQLITE_CONFIG_PMASZ:case b.SQLITE_CONFIG_SERIALIZED:case b.SQLITE_CONFIG_SINGLETHREAD:case b.SQLITE_CONFIG_SQLLOG:case b.SQLITE_CONFIG_WIN32_HEAPSIZE:default:return b.SQLITE_NOTFOUND}};{const le=new Set;b.sqlite3_auto_extension=function(pe){if(pe instanceof Function)pe=S.installFunction("i(ppp)",pe);else if(arguments.length!==1||!S.isPtr(pe))return b.SQLITE_MISUSE;const be=S.exports.sqlite3_auto_extension(pe);return pe!==arguments[0]&&(be===0?le.add(pe):S.uninstallFunction(pe)),be},b.sqlite3_cancel_auto_extension=function(pe){return!pe||arguments.length!==1||!S.isPtr(pe)?0:S.exports.sqlite3_cancel_auto_extension(pe)},b.sqlite3_reset_auto_extension=function(){S.exports.sqlite3_reset_auto_extension();for(const pe of le)S.uninstallFunction(pe);le.clear()}}const rt=b.sqlite3_vfs_find("kvvfs");if(rt)if(I.isUIThread()){const le=new b.sqlite3_kvvfs_methods(S.exports.sqlite3__wasm_kvvfs_methods());delete b.sqlite3_kvvfs_methods;const pe=S.exports.sqlite3__wasm_kvvfsMakeKeyOnPstack,be=S.pstack,$e=we=>S.peek(we)===115?sessionStorage:localStorage,Be={xRead:(we,Me,ht,F)=>{const J=be.pointer,he=S.scopedAllocPush();try{const Qe=pe(we,Me);if(!Qe)return-3;const z=S.cstrToJs(Qe),ee=$e(we).getItem(z);if(!ee)return-1;const T=ee.length;if(F<=0)return T;if(F===1)return S.poke(ht,0),T;const L=S.scopedAllocCString(ee);return F>T+1&&(F=T+1),S.heap8u().copyWithin(ht,L,L+F-1),S.poke(ht+F-1,0),F-1}catch(Qe){return console.error("kvstorageRead()",Qe),-2}finally{be.restore(J),S.scopedAllocPop(he)}},xWrite:(we,Me,ht)=>{const F=be.pointer;try{const J=pe(we,Me);if(!J)return 1;const he=S.cstrToJs(J);return $e(we).setItem(he,S.cstrToJs(ht)),0}catch(J){return console.error("kvstorageWrite()",J),b.SQLITE_IOERR}finally{be.restore(F)}},xDelete:(we,Me)=>{const ht=be.pointer;try{const F=pe(we,Me);return F?($e(we).removeItem(S.cstrToJs(F)),0):1}catch(F){return console.error("kvstorageDelete()",F),b.SQLITE_IOERR}finally{be.restore(ht)}}};for(const we of Object.keys(Be))le[le.memberKey(we)]=S.installFunction(le.memberSignature(we),Be[we])}else b.sqlite3_vfs_unregister(rt);S.xWrap.FuncPtrAdapter.warnOnUse=!0;const Ae=h.StructBinder,xe=function le(pe,be,$e,Be=le.installMethodArgcCheck){if(pe instanceof Ae.StructType?!($e instanceof Function)&&!S.isPtr($e)&&_("Usage errror: expecting a Function or WASM pointer to one."):_("Usage error: target object is-not-a StructType."),arguments.length===1)return(F,J)=>le(pe,F,J,Be);le.argcProxy||(le.argcProxy=function(F,J,he,Qe){return function(...z){return he.length!==arguments.length&&_("Argument mismatch for",F.structInfo.name+"::"+J+": Native signature is:",Qe),he.apply(this,z)}},le.removeFuncList=function(){this.ondispose.__removeFuncList&&(this.ondispose.__removeFuncList.forEach((F,J)=>{if(typeof F=="number")try{S.uninstallFunction(F)}catch{}}),delete this.ondispose.__removeFuncList)});const we=pe.memberSignature(be);we.length<2&&_("Member",be,"does not have a function pointer signature:",we);const Me=pe.memberKey(be),ht=Be&&!S.isPtr($e)?le.argcProxy(pe,Me,$e,we):$e;if(S.isPtr(ht))ht&&!S.functionEntry(ht)&&_("Pointer",ht,"is not a WASM function table entry."),pe[Me]=ht;else{const F=S.installFunction(ht,pe.memberSignature(be,!0));pe[Me]=F,(!pe.ondispose||!pe.ondispose.__removeFuncList)&&(pe.addOnDispose("ondispose.__removeFuncList handler",le.removeFuncList),pe.ondispose.__removeFuncList=[]),pe.ondispose.__removeFuncList.push(Me,F)}return(F,J)=>le(pe,F,J,Be)};xe.installMethodArgcCheck=!1;const ze=function(le,pe,be=xe.installMethodArgcCheck){const $e=new Map;for(const Be of Object.keys(pe)){const we=pe[Be],Me=$e.get(we);if(Me){const ht=le.memberKey(Be);le[ht]=le[le.memberKey(Me)]}else xe(le,Be,we,be),$e.set(we,Be)}return le};Ae.StructType.prototype.installMethod=function(pe,be,$e=xe.installMethodArgcCheck){return arguments.length<3&&pe&&typeof pe=="object"?ze(this,...arguments):xe(this,...arguments)},Ae.StructType.prototype.installMethods=function(le,pe=xe.installMethodArgcCheck){return ze(this,le,pe)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(h){h.version={libVersion:"3.47.1",libVersionNumber:3047001,sourceId:"2024-11-25 12:07:48 b95d11e958643b969c47a8e5857f3793b9e69700b8f1469371386369a26e577e",downloadVersion:3470100}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(h){const _=(...z)=>{throw new h.SQLite3Error(...z)},b=h.capi,S=h.wasm,I=h.util,X=new WeakMap,re=new WeakMap,Le=(z,ee,T)=>{const L=Object.getOwnPropertyDescriptor(z,ee);return L?L.value:T},Ue=function(z,ee){return ee&&(z instanceof xe&&(z=z.pointer),_(ee,"sqlite3 result code",ee+":",z?b.sqlite3_errmsg(z):b.sqlite3_errstr(ee))),arguments[0]},Je=S.installFunction("i(ippp)",function(z,ee,T,L){b.SQLITE_TRACE_STMT===z&&console.log("SQL TRACE #"+ ++this.counter+" via sqlite3@"+ee+":",S.cstrToJs(L))}.bind({counter:0})),rt=Object.create(null),Ae=function z(...ee){if(!z._name2vfs){z._name2vfs=Object.create(null);const ce=typeof importScripts=="function"?ke=>_("The VFS for",ke,"is only available in the main window thread."):!1;z._name2vfs[":localStorage:"]={vfs:"kvvfs",filename:ce||(()=>"local")},z._name2vfs[":sessionStorage:"]={vfs:"kvvfs",filename:ce||(()=>"session")}}const T=z.normalizeArgs(...ee);let L=T.filename,W=T.vfs,Oe=T.flags;(typeof L!="string"&&typeof L!="number"||typeof Oe!="string"||W&&typeof W!="string"&&typeof W!="number")&&(h.config.error("Invalid DB ctor args",T,arguments),_("Invalid arguments for DB constructor."));let He=typeof L=="number"?S.cstrToJs(L):L;const Et=z._name2vfs[He];Et&&(W=Et.vfs,L=He=Et.filename(He));let jt,$t=0;Oe.indexOf("c")>=0&&($t|=b.SQLITE_OPEN_CREATE|b.SQLITE_OPEN_READWRITE),Oe.indexOf("w")>=0&&($t|=b.SQLITE_OPEN_READWRITE),$t===0&&($t|=b.SQLITE_OPEN_READONLY),$t|=b.SQLITE_OPEN_EXRESCODE;const Ze=S.pstack.pointer;try{const ce=S.pstack.allocPtr();let ke=b.sqlite3_open_v2(L,ce,$t,W||0);jt=S.peekPtr(ce),Ue(jt,ke),b.sqlite3_extended_result_codes(jt,1),Oe.indexOf("t")>=0&&b.sqlite3_trace_v2(jt,b.SQLITE_TRACE_STMT,Je,jt)}catch(ce){throw jt&&b.sqlite3_close_v2(jt),ce}finally{S.pstack.restore(Ze)}this.filename=He,X.set(this,jt),re.set(this,Object.create(null));try{const ce=b.sqlite3_js_db_vfs(jt)||_("Internal error: cannot get VFS for new db handle."),ke=rt[ce];ke&&(ke instanceof Function?ke(this,h):Ue(jt,b.sqlite3_exec(jt,ke,0,0,0)))}catch(ce){throw this.close(),ce}};Ae.setVfsPostOpenCallback=function(z,ee){ee instanceof Function||_("dbCtorHelper.setVfsPostOpenCallback() should not be used with a non-function argument.",arguments),rt[z]=ee},Ae.normalizeArgs=function(z=":memory:",ee="c",T=null){const L={};return arguments.length===1&&arguments[0]&&typeof arguments[0]=="object"?(Object.assign(L,arguments[0]),L.flags===void 0&&(L.flags="c"),L.vfs===void 0&&(L.vfs=null),L.filename===void 0&&(L.filename=":memory:")):(L.filename=z,L.flags=ee,L.vfs=T),L};const xe=function(...z){Ae.apply(this,z)};xe.dbCtorHelper=Ae;const ze={null:1,number:2,string:3,boolean:4,blob:5};ze.undefined==ze.null,S.bigIntEnabled&&(ze.bigint=ze.number);const le=function(){ze!==arguments[2]&&_(b.SQLITE_MISUSE,"Do not call the Stmt constructor directly. Use DB.prepare()."),this.db=arguments[0],X.set(this,arguments[1]),this.parameterCount=b.sqlite3_bind_parameter_count(this.pointer)},pe=function(z){return z.pointer||_("DB has been closed."),z},be=function(z,ee){return(ee!==(ee|0)||ee<0||ee>=z.columnCount)&&_("Column index",ee,"is out of range."),z},$e=function(z,ee){const T=Object.create(null);switch(T.opt=Object.create(null),ee.length){case 1:typeof ee[0]=="string"||I.isSQLableTypedArray(ee[0])||Array.isArray(ee[0])?T.sql=ee[0]:ee[0]&&typeof ee[0]=="object"&&(T.opt=ee[0],T.sql=T.opt.sql);break;case 2:T.sql=ee[0],T.opt=ee[1];break;default:_("Invalid argument count for exec().")}T.sql=I.flexibleString(T.sql),typeof T.sql!="string"&&_("Missing SQL argument or unsupported SQL value type.");const L=T.opt;switch(L.returnValue){case"resultRows":L.resultRows||(L.resultRows=[]),T.returnVal=()=>L.resultRows;break;case"saveSql":L.saveSql||(L.saveSql=[]),T.returnVal=()=>L.saveSql;break;case void 0:case"this":T.returnVal=()=>z;break;default:_("Invalid returnValue value:",L.returnValue)}if(!L.callback&&!L.returnValue&&L.rowMode!==void 0&&(L.resultRows||(L.resultRows=[]),T.returnVal=()=>L.resultRows),L.callback||L.resultRows)switch(L.rowMode===void 0?"array":L.rowMode){case"object":T.cbArg=(W,Oe)=>{Oe.columnNames||(Oe.columnNames=W.getColumnNames([]));const He=W.get([]),Et=Object.create(null);for(const jt in Oe.columnNames)Et[Oe.columnNames[jt]]=He[jt];return Et};break;case"array":T.cbArg=W=>W.get([]);break;case"stmt":Array.isArray(L.resultRows)&&_("exec(): invalid rowMode for a resultRows array: must","be one of 'array', 'object',","a result column number, or column name reference."),T.cbArg=W=>W;break;default:if(I.isInt32(L.rowMode)){T.cbArg=W=>W.get(L.rowMode);break}else if(typeof L.rowMode=="string"&&L.rowMode.length>1&&L.rowMode[0]==="$"){const W=L.rowMode.substr(1);T.cbArg=Oe=>{const He=Oe.get(Object.create(null))[W];return He===void 0?_(b.SQLITE_NOTFOUND,"exec(): unknown result column:",W):He};break}_("Invalid rowMode:",L.rowMode)}return T},Be=(z,ee,T,...L)=>{const W=z.prepare(ee);try{const Oe=W.bind(T).step()?W.get(...L):void 0;return W.reset(),Oe}finally{W.finalize()}},we=(z,ee,T,L)=>z.exec({sql:ee,bind:T,rowMode:L,returnValue:"resultRows"});xe.checkRc=(z,ee)=>Ue(z,ee),xe.prototype={isOpen:function(){return!!this.pointer},affirmOpen:function(){return pe(this)},close:function(){if(this.pointer){if(this.onclose&&this.onclose.before instanceof Function)try{this.onclose.before(this)}catch{}const z=this.pointer;if(Object.keys(re.get(this)).forEach((ee,T)=>{if(T&&T.pointer)try{T.finalize()}catch{}}),X.delete(this),re.delete(this),b.sqlite3_close_v2(z),this.onclose&&this.onclose.after instanceof Function)try{this.onclose.after(this)}catch{}delete this.filename}},changes:function(z=!1,ee=!1){const T=pe(this).pointer;return z?ee?b.sqlite3_total_changes64(T):b.sqlite3_total_changes(T):ee?b.sqlite3_changes64(T):b.sqlite3_changes(T)},dbFilename:function(z="main"){return b.sqlite3_db_filename(pe(this).pointer,z)},dbName:function(z=0){return b.sqlite3_db_name(pe(this).pointer,z)},dbVfsName:function(z=0){let ee;const T=b.sqlite3_js_db_vfs(pe(this).pointer,z);if(T){const L=new b.sqlite3_vfs(T);try{ee=S.cstrToJs(L.$zName)}finally{L.dispose()}}return ee},prepare:function(z){pe(this);const ee=S.pstack.pointer;let T,L;try{T=S.pstack.alloc(8),xe.checkRc(this,b.sqlite3_prepare_v2(this.pointer,z,-1,T,null)),L=S.peekPtr(T)}finally{S.pstack.restore(ee)}L||_("Cannot prepare empty SQL.");const W=new le(this,L,ze);return re.get(this)[L]=W,W},exec:function(){pe(this);const z=$e(this,arguments);if(!z.sql)return _("exec() requires an SQL string.");const ee=z.opt,T=ee.callback,L=Array.isArray(ee.resultRows)?ee.resultRows:void 0;let W,Oe=ee.bind,He=!!(z.cbArg||ee.columnNames||L);const Et=S.scopedAllocPush(),jt=Array.isArray(ee.saveSql)?ee.saveSql:void 0;try{const $t=I.isSQLableTypedArray(z.sql);let Ze=$t?z.sql.byteLength:S.jstrlen(z.sql);const ce=S.scopedAlloc(2*S.ptrSizeof+(Ze+1)),ke=ce+S.ptrSizeof;let Ke=ke+S.ptrSizeof;const et=Ke+Ze;for($t?S.heap8().set(z.sql,Ke):S.jstrcpy(z.sql,S.heap8(),Ke,Ze,!1),S.poke(Ke+Ze,0);Ke&&S.peek(Ke,"i8");){S.pokePtr([ce,ke],0),xe.checkRc(this,b.sqlite3_prepare_v3(this.pointer,Ke,Ze,0,ce,ke));const qt=S.peekPtr(ce);if(Ke=S.peekPtr(ke),Ze=et-Ke,!!qt){if(jt&&jt.push(b.sqlite3_sql(qt).trim()),W=new le(this,qt,ze),Oe&&W.parameterCount&&(W.bind(Oe),Oe=null),He&&W.columnCount){let Wt=Array.isArray(ee.columnNames)?0:1;if(He=!1,z.cbArg||L){const Ee=Object.create(null);for(;W.step();W._lockedByExec=!1){Wt++===0&&W.getColumnNames(Ee.columnNames=ee.columnNames||[]),W._lockedByExec=!0;const Ve=z.cbArg(W,Ee);if(L&&L.push(Ve),T&&T.call(ee,Ve,W)===!1)break}W._lockedByExec=!1}Wt===0&&W.getColumnNames(ee.columnNames)}else W.step();W.reset().finalize(),W=null}}}finally{S.scopedAllocPop(Et),W&&(delete W._lockedByExec,W.finalize())}return z.returnVal()},createFunction:function(ee,T,L){const W=Ee=>Ee instanceof Function;switch(arguments.length){case 1:L=ee,ee=L.name,T=L.xFunc||0;break;case 2:W(T)||(L=T,T=L.xFunc||0);break}L||(L={}),typeof ee!="string"&&_("Invalid arguments: missing function name.");let Oe=L.xStep||0,He=L.xFinal||0;const Et=L.xValue||0,jt=L.xInverse||0;let $t;W(T)?($t=!1,(W(Oe)||W(He))&&_("Ambiguous arguments: scalar or aggregate?"),Oe=He=null):W(Oe)?(W(He)||_("Missing xFinal() callback for aggregate or window UDF."),T=null):W(He)?_("Missing xStep() callback for aggregate or window UDF."):_("Missing function-type properties."),$t===!1?(W(Et)||W(jt))&&_("xValue and xInverse are not permitted for non-window UDFs."):W(Et)?(W(jt)||_("xInverse must be provided if xValue is."),$t=!0):W(jt)&&_("xValue must be provided if xInverse is.");const Ze=L.pApp;Ze!=null&&(typeof Ze!="number"||!I.isInt32(Ze))&&_("Invalid value for pApp property. Must be a legal WASM pointer value.");const ce=L.xDestroy||0;ce&&!W(ce)&&_("xDestroy property must be a function.");let ke=0;Le(L,"deterministic")&&(ke|=b.SQLITE_DETERMINISTIC),Le(L,"directOnly")&&(ke|=b.SQLITE_DIRECTONLY),Le(L,"innocuous")&&(ke|=b.SQLITE_INNOCUOUS),ee=ee.toLowerCase();const Ke=T||Oe,et=Le(L,"arity"),qt=typeof et=="number"?et:Ke.length?Ke.length-1:0;let Wt;return $t?Wt=b.sqlite3_create_window_function(this.pointer,ee,qt,b.SQLITE_UTF8|ke,Ze||0,Oe,He,Et,jt,ce):Wt=b.sqlite3_create_function_v2(this.pointer,ee,qt,b.SQLITE_UTF8|ke,Ze||0,T,Oe,He,ce),xe.checkRc(this,Wt),this},selectValue:function(z,ee,T){return Be(this,z,ee,0,T)},selectValues:function(z,ee,T){const L=this.prepare(z),W=[];try{for(L.bind(ee);L.step();)W.push(L.get(0,T));L.reset()}finally{L.finalize()}return W},selectArray:function(z,ee){return Be(this,z,ee,[])},selectObject:function(z,ee){return Be(this,z,ee,{})},selectArrays:function(z,ee){return we(this,z,ee,"array")},selectObjects:function(z,ee){return we(this,z,ee,"object")},openStatementCount:function(){return this.pointer?Object.keys(re.get(this)).length:0},transaction:function(z){let ee="BEGIN";arguments.length>1&&(/[^a-zA-Z]/.test(arguments[0])&&_(b.SQLITE_MISUSE,"Invalid argument for BEGIN qualifier."),ee+=" "+arguments[0],z=arguments[1]),pe(this).exec(ee);try{const T=z(this);return this.exec("COMMIT"),T}catch(T){throw this.exec("ROLLBACK"),T}},savepoint:function(z){pe(this).exec("SAVEPOINT oo1");try{const ee=z(this);return this.exec("RELEASE oo1"),ee}catch(ee){throw this.exec("ROLLBACK to SAVEPOINT oo1; RELEASE SAVEPOINT oo1"),ee}},checkRc:function(z){return Ue(this,z)}};const Me=function(z){return z.pointer||_("Stmt has been closed."),z},ht=function(z){let ee=ze[z==null?"null":typeof z];switch(ee){case ze.boolean:case ze.null:case ze.number:case ze.string:return ee;case ze.bigint:if(S.bigIntEnabled)return ee;default:return I.isBindableTypedArray(z)?ze.blob:void 0}},F=function(z){return ht(z)||_("Unsupported bind() argument type:",typeof z)},J=function(z,ee){const T=typeof ee=="number"?ee:b.sqlite3_bind_parameter_index(z.pointer,ee);return T===0||!I.isInt32(T)?_("Invalid bind() parameter name: "+ee):(T<1||T>z.parameterCount)&&_("Bind index",ee,"is out of range."),T},he=function(z,ee){return z._lockedByExec&&_("Operation is illegal when statement is locked:",ee),z},Qe=function z(ee,T,L,W){he(Me(ee),"bind()"),z._||(z._tooBigInt=He=>_("BigInt value is too big to store without precision loss:",He),z._={string:function(He,Et,jt,$t){const[Ze,ce]=S.allocCString(jt,!0);return($t?b.sqlite3_bind_blob:b.sqlite3_bind_text)(He.pointer,Et,Ze,ce,b.SQLITE_WASM_DEALLOC)}}),F(W),T=J(ee,T);let Oe=0;switch(W==null?ze.null:L){case ze.null:Oe=b.sqlite3_bind_null(ee.pointer,T);break;case ze.string:Oe=z._.string(ee,T,W,!1);break;case ze.number:{let He;I.isInt32(W)?He=b.sqlite3_bind_int:typeof W=="bigint"?I.bigIntFits64(W)?S.bigIntEnabled?He=b.sqlite3_bind_int64:I.bigIntFitsDouble(W)?(W=Number(W),He=b.sqlite3_bind_double):z._tooBigInt(W):z._tooBigInt(W):(W=Number(W),S.bigIntEnabled&&Number.isInteger(W)?He=b.sqlite3_bind_int64:He=b.sqlite3_bind_double),Oe=He(ee.pointer,T,W);break}case ze.boolean:Oe=b.sqlite3_bind_int(ee.pointer,T,W?1:0);break;case ze.blob:{if(typeof W=="string"){Oe=z._.string(ee,T,W,!0);break}else W instanceof ArrayBuffer?W=new Uint8Array(W):I.isBindableTypedArray(W)||_("Binding a value as a blob requires","that it be a string, Uint8Array, Int8Array, or ArrayBuffer.");const He=S.alloc(W.byteLength||1);S.heap8().set(W.byteLength?W:[0],He),Oe=b.sqlite3_bind_blob(ee.pointer,T,He,W.byteLength,b.SQLITE_WASM_DEALLOC);break}default:h.config.warn("Unsupported bind() argument type:",W),_("Unsupported bind() argument type: "+typeof W)}return Oe&&xe.checkRc(ee.db.pointer,Oe),ee._mayGet=!1,ee};le.prototype={finalize:function(){if(this.pointer){he(this,"finalize()");const z=b.sqlite3_finalize(this.pointer);return delete re.get(this.db)[this.pointer],X.delete(this),delete this._mayGet,delete this.parameterCount,delete this._lockedByExec,delete this.db,z}},clearBindings:function(){return he(Me(this),"clearBindings()"),b.sqlite3_clear_bindings(this.pointer),this._mayGet=!1,this},reset:function(z){he(this,"reset()"),z&&this.clearBindings();const ee=b.sqlite3_reset(Me(this).pointer);return this._mayGet=!1,Ue(this.db,ee),this},bind:function(){Me(this);let z,ee;switch(arguments.length){case 1:z=1,ee=arguments[0];break;case 2:z=arguments[0],ee=arguments[1];break;default:_("Invalid bind() arguments.")}return ee===void 0?this:(this.parameterCount||_("This statement has no bindable parameters."),this._mayGet=!1,ee===null?Qe(this,z,ze.null,ee):Array.isArray(ee)?(arguments.length!==1&&_("When binding an array, an index argument is not permitted."),ee.forEach((T,L)=>Qe(this,L+1,F(T),T)),this):(ee instanceof ArrayBuffer&&(ee=new Uint8Array(ee)),typeof ee=="object"&&!I.isBindableTypedArray(ee)?(arguments.length!==1&&_("When binding an object, an index argument is not permitted."),Object.keys(ee).forEach(T=>Qe(this,T,F(ee[T]),ee[T])),this):Qe(this,z,F(ee),ee)))},bindAsBlob:function(z,ee){Me(this),arguments.length===1&&(ee=z,z=1);const T=F(ee);return ze.string!==T&&ze.blob!==T&&ze.null!==T&&_("Invalid value type for bindAsBlob()"),Qe(this,z,ze.blob,ee)},step:function(){he(this,"step()");const z=b.sqlite3_step(Me(this).pointer);switch(z){case b.SQLITE_DONE:return this._mayGet=!1;case b.SQLITE_ROW:return this._mayGet=!0;default:this._mayGet=!1,h.config.warn("sqlite3_step() rc=",z,b.sqlite3_js_rc_str(z),"SQL =",b.sqlite3_sql(this.pointer)),xe.checkRc(this.db.pointer,z)}},stepReset:function(){return this.step(),this.reset()},stepFinalize:function(){try{const z=this.step();return this.reset(),z}finally{try{this.finalize()}catch{}}},get:function(z,ee){if(Me(this)._mayGet||_("Stmt.step() has not (recently) returned true."),Array.isArray(z)){let T=0;const L=this.columnCount;for(;T<L;)z[T]=this.get(T++);return z}else if(z&&typeof z=="object"){let T=0;const L=this.columnCount;for(;T<L;)z[b.sqlite3_column_name(this.pointer,T)]=this.get(T++);return z}switch(be(this,z),ee===void 0?b.sqlite3_column_type(this.pointer,z):ee){case b.SQLITE_NULL:return null;case b.SQLITE_INTEGER:if(S.bigIntEnabled){const T=b.sqlite3_column_int64(this.pointer,z);return T>=Number.MIN_SAFE_INTEGER&&T<=Number.MAX_SAFE_INTEGER?Number(T).valueOf():T}else{const T=b.sqlite3_column_double(this.pointer,z);return(T>Number.MAX_SAFE_INTEGER||T<Number.MIN_SAFE_INTEGER)&&_("Integer is out of range for JS integer range: "+T),I.isInt32(T)?T|0:T}case b.SQLITE_FLOAT:return b.sqlite3_column_double(this.pointer,z);case b.SQLITE_TEXT:return b.sqlite3_column_text(this.pointer,z);case b.SQLITE_BLOB:{const T=b.sqlite3_column_bytes(this.pointer,z),L=b.sqlite3_column_blob(this.pointer,z),W=new Uint8Array(T);return T&&W.set(S.heap8u().slice(L,L+T),0),T&&this.db._blobXfer instanceof Array&&this.db._blobXfer.push(W.buffer),W}default:_("Don't know how to translate","type of result column #"+z+".")}_("Not reached.")},getInt:function(z){return this.get(z,b.SQLITE_INTEGER)},getFloat:function(z){return this.get(z,b.SQLITE_FLOAT)},getString:function(z){return this.get(z,b.SQLITE_TEXT)},getBlob:function(z){return this.get(z,b.SQLITE_BLOB)},getJSON:function(z){const ee=this.get(z,b.SQLITE_STRING);return ee===null?ee:JSON.parse(ee)},getColumnName:function(z){return b.sqlite3_column_name(be(Me(this),z).pointer,z)},getColumnNames:function(z=[]){be(Me(this),0);const ee=this.columnCount;for(let T=0;T<ee;++T)z.push(b.sqlite3_column_name(this.pointer,T));return z},getParamIndex:function(z){return Me(this).parameterCount?b.sqlite3_bind_parameter_index(this.pointer,z):void 0},getParamName:function(z){return Me(this).parameterCount?b.sqlite3_bind_parameter_name(this.pointer,z):void 0},isBusy:function(){return b.sqlite3_stmt_busy(Me(this))!==0},isReadOnly:function(){return b.sqlite3_stmt_readonly(Me(this))!==0}};{const z={enumerable:!0,get:function(){return X.get(this)},set:()=>_("The pointer property is read-only.")};Object.defineProperty(le.prototype,"pointer",z),Object.defineProperty(xe.prototype,"pointer",z)}if(Object.defineProperty(le.prototype,"columnCount",{enumerable:!1,get:function(){return b.sqlite3_column_count(this.pointer)},set:()=>_("The columnCount property is read-only.")}),h.oo1={DB:xe,Stmt:le},I.isUIThread()){h.oo1.JsStorageDb=function(ee="session"){const T=Ae.normalizeArgs(...arguments);ee=T.filename,ee!=="session"&&ee!=="local"&&_("JsStorageDb db name must be one of 'session' or 'local'."),T.vfs="kvvfs",Ae.call(this,T)};const z=h.oo1.JsStorageDb;z.prototype=Object.create(xe.prototype),z.clearStorage=b.sqlite3_js_kvvfs_clear,z.prototype.clearStorage=function(){return z.clearStorage(pe(this).filename)},z.storageSize=b.sqlite3_js_kvvfs_size,z.prototype.storageSize=function(){return z.storageSize(pe(this).filename)}}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(h){const _=h.util;h.initWorker1API=function(){const b=(...Ae)=>{throw new Error(Ae.join(" "))};globalThis.WorkerGlobalScope instanceof Function||b("initWorker1API() must be run from a Worker thread.");const S=this.sqlite3||b("Missing this.sqlite3 object."),I=S.oo1.DB,X=function(Ae){let xe=re.idMap.get(Ae);return xe||(xe="db#"+ ++re.idSeq+"@"+Ae.pointer,re.idMap.set(Ae,xe),xe)},re={dbList:[],idSeq:0,idMap:new WeakMap,xfer:[],open:function(Ae){const xe=new I(Ae);return this.dbs[X(xe)]=xe,this.dbList.indexOf(xe)<0&&this.dbList.push(xe),xe},close:function(Ae,xe){if(Ae){delete this.dbs[X(Ae)];const ze=Ae.filename,le=_.sqlite3__wasm_db_vfs(Ae.pointer,0);Ae.close();const pe=this.dbList.indexOf(Ae);pe>=0&&this.dbList.splice(pe,1),xe&&ze&&le&&_.sqlite3__wasm_vfs_unlink(le,ze)}},post:function(Ae,xe){xe&&xe.length?(globalThis.postMessage(Ae,Array.from(xe)),xe.length=0):globalThis.postMessage(Ae)},dbs:Object.create(null),getDb:function(Ae,xe=!0){return this.dbs[Ae]||(xe?b("Unknown (or closed) DB ID:",Ae):void 0)}},Le=function(Ae=re.dbList[0]){return Ae&&Ae.pointer?Ae:b("DB is not opened.")},Ue=function(Ae,xe=!0){const ze=re.getDb(Ae.dbId,!1)||re.dbList[0];return xe?Le(ze):ze},Je=function(){return re.dbList[0]&&X(re.dbList[0])},rt={open:function(Ae){const xe=Object.create(null),ze=Ae.args||Object.create(null);ze.simulateError&&b("Throwing because of simulateError flag.");const le=Object.create(null);xe.vfs=ze.vfs,xe.filename=ze.filename||"";const pe=re.open(xe);return le.filename=pe.filename,le.persistent=!!S.capi.sqlite3_js_db_uses_vfs(pe.pointer,"opfs"),le.dbId=X(pe),le.vfs=pe.dbVfsName(),le},close:function(Ae){const xe=Ue(Ae,!1),ze={filename:xe&&xe.filename};if(xe){const le=Ae.args&&typeof Ae.args=="object"?!!Ae.args.unlink:!1;re.close(xe,le)}return ze},exec:function(Ae){const xe=typeof Ae.args=="string"?{sql:Ae.args}:Ae.args||Object.create(null);xe.rowMode==="stmt"?b("Invalid rowMode for 'exec': stmt mode","does not work in the Worker API."):xe.sql||b("'exec' requires input SQL.");const ze=Ue(Ae);(xe.callback||Array.isArray(xe.resultRows))&&(ze._blobXfer=re.xfer);const le=xe.callback;let pe=0;const be=!!xe.columnNames;typeof le=="string"&&(be||(xe.columnNames=[]),xe.callback=function($e,Be){re.post({type:le,columnNames:xe.columnNames,rowNumber:++pe,row:$e},re.xfer)});try{const $e=xe.countChanges?ze.changes(!0,xe.countChanges===64):void 0;ze.exec(xe),$e!==void 0&&(xe.changeCount=ze.changes(!0,xe.countChanges===64)-$e),xe.callback instanceof Function&&(xe.callback=le,re.post({type:le,columnNames:xe.columnNames,rowNumber:null,row:void 0}))}finally{delete ze._blobXfer,xe.callback&&(xe.callback=le)}return xe},"config-get":function(){const Ae=Object.create(null),xe=S.config;return["bigIntEnabled"].forEach(function(ze){Object.getOwnPropertyDescriptor(xe,ze)&&(Ae[ze]=xe[ze])}),Ae.version=S.version,Ae.vfsList=S.capi.sqlite3_js_vfs_list(),Ae},export:function(Ae){const xe=Ue(Ae),ze={byteArray:S.capi.sqlite3_js_db_export(xe.pointer),filename:xe.filename,mimetype:"application/x-sqlite3"};return re.xfer.push(ze.byteArray.buffer),ze},toss:function(Ae){b("Testing worker exception")}};globalThis.onmessage=async function(Ae){Ae=Ae.data;let xe,ze=Ae.dbId,le=Ae.type;const pe=performance.now();try{rt.hasOwnProperty(le)&&rt[le]instanceof Function?xe=await rt[le](Ae):b("Unknown db worker message type:",Ae.type)}catch(be){le="error",xe={operation:Ae.type,message:be.message,errorClass:be.name,input:Ae},be.stack&&(xe.stack=typeof be.stack=="string"?be.stack.split(/\n\s*/):be.stack)}ze||(ze=xe.dbId||Je()),re.post({type:le,dbId:ze,messageId:Ae.messageId,workerReceivedTime:pe,workerRespondTime:performance.now(),departureTime:Ae.departureTime,result:xe},re.xfer)},globalThis.postMessage({type:"sqlite3-api",result:"worker1-ready"})}.bind({sqlite3:h})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(h){const _=h.wasm,b=h.capi,S=h.util.toss3,I=Object.create(null);h.vfs=I,b.sqlite3_vfs.prototype.registerVfs=function(X=!1){this instanceof h.capi.sqlite3_vfs||S("Expecting a sqlite3_vfs-type argument.");const re=b.sqlite3_vfs_register(this,X?1:0);return re&&S("sqlite3_vfs_register(",this,") failed with rc",re),this.pointer!==b.sqlite3_vfs_find(this.$zName)&&S("BUG: sqlite3_vfs_find(vfs.$zName) failed for just-installed VFS",this),this},I.installVfs=function(X){let re=0;const Le=["io","vfs"];for(const Ue of Le){const Je=X[Ue];Je&&(++re,Je.struct.installMethods(Je.methods,!!Je.applyArgcCheck),Ue==="vfs"&&(!Je.struct.$zName&&typeof Je.name=="string"&&Je.struct.addOnDispose(Je.struct.$zName=_.allocCString(Je.name)),Je.struct.registerVfs(!!Je.asDefault)))}return re||S("Misuse: installVfs() options object requires at least","one of:",Le),this}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(h){if(!h.wasm.exports.sqlite3_declare_vtab)return;const _=h.wasm,b=h.capi,S=h.util.toss3,I=Object.create(null);h.vtab=I;const X=b.sqlite3_index_info;X.prototype.nthConstraint=function(Ue,Je=!1){if(Ue<0||Ue>=this.$nConstraint)return!1;const rt=this.$aConstraint+X.sqlite3_index_constraint.structInfo.sizeof*Ue;return Je?rt:new X.sqlite3_index_constraint(rt)},X.prototype.nthConstraintUsage=function(Ue,Je=!1){if(Ue<0||Ue>=this.$nConstraint)return!1;const rt=this.$aConstraintUsage+X.sqlite3_index_constraint_usage.structInfo.sizeof*Ue;return Je?rt:new X.sqlite3_index_constraint_usage(rt)},X.prototype.nthOrderBy=function(Ue,Je=!1){if(Ue<0||Ue>=this.$nOrderBy)return!1;const rt=this.$aOrderBy+X.sqlite3_index_orderby.structInfo.sizeof*Ue;return Je?rt:new X.sqlite3_index_orderby(rt)};const re=function(Ue,Je){return function(rt,Ae=!1){if(arguments.length===0&&(rt=new Je),rt instanceof Je)return this.set(rt.pointer,rt),rt;_.isPtr(rt)||h.SQLite3Error.toss("Invalid argument to",Ue+"()");let xe=this.get(rt);return Ae&&this.delete(rt),xe}.bind(new Map)},Le=function(Ue,Je){const rt=re(Ue,Je);return Object.assign(Object.create(null),{StructType:Je,create:Ae=>{const xe=rt();return _.pokePtr(Ae,xe.pointer),xe},get:Ae=>rt(Ae),unget:Ae=>rt(Ae,!0),dispose:Ae=>{const xe=rt(Ae,!0);xe&&xe.dispose()}})};I.xVtab=Le("xVtab",b.sqlite3_vtab),I.xCursor=Le("xCursor",b.sqlite3_vtab_cursor),I.xIndexInfo=Ue=>new b.sqlite3_index_info(Ue),I.xError=function Ue(Je,rt,Ae){if(Ue.errorReporter instanceof Function)try{Ue.errorReporter("sqlite3_module::"+Je+"(): "+rt.message)}catch{}let xe;return rt instanceof h.WasmAllocError?xe=b.SQLITE_NOMEM:arguments.length>2?xe=Ae:rt instanceof h.SQLite3Error&&(xe=rt.resultCode),xe||b.SQLITE_ERROR},I.xError.errorReporter=console.error.bind(console),I.xRowid=(Ue,Je)=>_.poke(Ue,Je,"i64"),I.setupModule=function(Ue){let Je=!1;const rt=this instanceof b.sqlite3_module?this:Ue.struct||(Je=new b.sqlite3_module);try{const Ae=Ue.methods||S("Missing 'methods' object.");for(const xe of Object.entries({xConnect:"xCreate",xDisconnect:"xDestroy"})){const ze=xe[0],le=xe[1];Ae[ze]===!0?Ae[ze]=Ae[le]:Ae[le]===!0&&(Ae[le]=Ae[ze])}if(Ue.catchExceptions){const xe=function(pe,be){return["xConnect","xCreate"].indexOf(pe)>=0?function($e,Be,we,Me,ht,F){try{return be(...arguments)||0}catch(J){return J instanceof h.WasmAllocError||(_.dealloc(_.peekPtr(F)),_.pokePtr(F,_.allocCString(J.message))),I.xError(pe,J)}}:function(...$e){try{return be(...$e)||0}catch(Be){return I.xError(pe,Be)}}},ze=["xCreate","xConnect","xBestIndex","xDisconnect","xDestroy","xOpen","xClose","xFilter","xNext","xEof","xColumn","xRowid","xUpdate","xBegin","xSync","xCommit","xRollback","xFindFunction","xRename","xSavepoint","xRelease","xRollbackTo","xShadowName"],le=Object.create(null);for(const pe of ze){const be=Ae[pe];if(be instanceof Function)pe==="xConnect"&&Ae.xCreate===be?le[pe]=Ae.xCreate:pe==="xCreate"&&Ae.xConnect===be?le[pe]=Ae.xConnect:le[pe]=xe(pe,be);else continue}rt.installMethods(le,!1)}else rt.installMethods(Ae,!!Ue.applyArgcCheck);if(rt.$iVersion===0){let xe;typeof Ue.iVersion=="number"?xe=Ue.iVersion:rt.$xShadowName?xe=3:rt.$xSavePoint||rt.$xRelease||rt.$xRollbackTo?xe=2:xe=1,rt.$iVersion=xe}}catch(Ae){throw Je&&Je.dispose(),Ae}return rt},b.sqlite3_module.prototype.setupModule=function(Ue){return I.setupModule.call(this,Ue)}}),globalThis.sqlite3ApiBootstrap.initializers.push(function(h){const _=function b(S){if(!globalThis.SharedArrayBuffer||!globalThis.Atomics)return Promise.reject(new Error("Cannot install OPFS: Missing SharedArrayBuffer and/or Atomics. The server must emit the COOP/COEP response headers to enable those. See https://sqlite.org/wasm/doc/trunk/persistence.md#coop-coep"));if(typeof WorkerGlobalScope>"u")return Promise.reject(new Error("The OPFS sqlite3_vfs cannot run in the main thread because it requires Atomics.wait()."));if(!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory)return Promise.reject(new Error("Missing required OPFS APIs."));(!S||typeof S!="object")&&(S=Object.create(null));const I=new URL(globalThis.location.href).searchParams;return I.has("opfs-disable")?Promise.resolve(h):(S.verbose===void 0&&(S.verbose=I.has("opfs-verbose")?+I.get("opfs-verbose")||2:1),S.sanityChecks===void 0&&(S.sanityChecks=I.has("opfs-sanity-check")),S.proxyUri===void 0&&(S.proxyUri=b.defaultProxyUri),typeof S.proxyUri=="function"&&(S.proxyUri=S.proxyUri()),new Promise(function(re,Le){const Ue=[h.config.error,h.config.warn,h.config.log],Je=(Ee,...Ve)=>{S.verbose>Ee&&Ue[Ee]("OPFS syncer:",...Ve)},rt=(...Ee)=>Je(2,...Ee),Ae=(...Ee)=>Je(1,...Ee),xe=(...Ee)=>Je(0,...Ee),ze=h.util.toss,le=h.capi,pe=h.util,be=h.wasm,$e=le.sqlite3_vfs,Be=le.sqlite3_file,we=le.sqlite3_io_methods,Me=Object.create(null),ht=()=>globalThis.FileSystemHandle&&globalThis.FileSystemDirectoryHandle&&globalThis.FileSystemFileHandle&&globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle&&navigator?.storage?.getDirectory;Me.metrics={dump:function(){let Ee,Ve=0,Ye=0,bt=0;for(Ee in W.opIds){const ut=Oe[Ee];Ve+=ut.count,Ye+=ut.time,bt+=ut.wait,ut.avgTime=ut.count&&ut.time?ut.time/ut.count:0,ut.avgWait=ut.count&&ut.wait?ut.wait/ut.count:0}h.config.log(globalThis.location.href,"metrics for",globalThis.location.href,":",Oe,`
Total of`,Ve,"op(s) for",Ye,"ms (incl. "+bt+" ms of waiting on the async side)"),h.config.log("Serialization metrics:",Oe.s11n),ee.postMessage({type:"opfs-async-metrics"})},reset:function(){let Ee;const Ve=bt=>bt.count=bt.time=bt.wait=0;for(Ee in W.opIds)Ve(Oe[Ee]=Object.create(null));let Ye=Oe.s11n=Object.create(null);Ye=Ye.serialize=Object.create(null),Ye.count=Ye.time=0,Ye=Oe.s11n.deserialize=Object.create(null),Ye.count=Ye.time=0}};const F=new we,J=new $e().addOnDispose(()=>F.dispose());let he;const Qe=Ee=>(he=!0,J.dispose(),Le(Ee)),z=()=>(he=!1,re(h)),ee=new Worker(new URL("/assets/sqlite3-opfs-async-proxy-C_otN2ZJ.js",import.meta.url));setTimeout(()=>{he===void 0&&Qe(new Error("Timeout while waiting for OPFS async proxy worker."))},4e3),ee._originalOnError=ee.onerror,ee.onerror=function(Ee){xe("Error initializing OPFS asyncer:",Ee),Qe(new Error("Loading OPFS async Worker failed for unknown reasons."))};const T=le.sqlite3_vfs_find(null),L=T?new $e(T):null;F.$iVersion=1,J.$iVersion=2,J.$szOsFile=le.sqlite3_file.structInfo.sizeof,J.$mxPathname=1024,J.$zName=be.allocCString("opfs"),J.$xDlOpen=J.$xDlError=J.$xDlSym=J.$xDlClose=null,J.addOnDispose("$zName",J.$zName,"cleanup default VFS wrapper",()=>L?L.dispose():null);const W=Object.create(null);W.verbose=S.verbose,W.littleEndian=(()=>{const Ee=new ArrayBuffer(2);return new DataView(Ee).setInt16(0,256,!0),new Int16Array(Ee)[0]===256})(),W.asyncIdleWaitTime=150,W.asyncS11nExceptions=1,W.fileBufferSize=1024*64,W.sabS11nOffset=W.fileBufferSize,W.sabS11nSize=J.$mxPathname*2,W.sabIO=new SharedArrayBuffer(W.fileBufferSize+W.sabS11nSize),W.opIds=Object.create(null);const Oe=Object.create(null);{let Ee=0;W.opIds.whichOp=Ee++,W.opIds.rc=Ee++,W.opIds.xAccess=Ee++,W.opIds.xClose=Ee++,W.opIds.xDelete=Ee++,W.opIds.xDeleteNoWait=Ee++,W.opIds.xFileSize=Ee++,W.opIds.xLock=Ee++,W.opIds.xOpen=Ee++,W.opIds.xRead=Ee++,W.opIds.xSleep=Ee++,W.opIds.xSync=Ee++,W.opIds.xTruncate=Ee++,W.opIds.xUnlock=Ee++,W.opIds.xWrite=Ee++,W.opIds.mkdir=Ee++,W.opIds["opfs-async-metrics"]=Ee++,W.opIds["opfs-async-shutdown"]=Ee++,W.opIds.retry=Ee++,W.sabOP=new SharedArrayBuffer(Ee*4),Me.metrics.reset()}W.sq3Codes=Object.create(null),["SQLITE_ACCESS_EXISTS","SQLITE_ACCESS_READWRITE","SQLITE_BUSY","SQLITE_CANTOPEN","SQLITE_ERROR","SQLITE_IOERR","SQLITE_IOERR_ACCESS","SQLITE_IOERR_CLOSE","SQLITE_IOERR_DELETE","SQLITE_IOERR_FSYNC","SQLITE_IOERR_LOCK","SQLITE_IOERR_READ","SQLITE_IOERR_SHORT_READ","SQLITE_IOERR_TRUNCATE","SQLITE_IOERR_UNLOCK","SQLITE_IOERR_WRITE","SQLITE_LOCK_EXCLUSIVE","SQLITE_LOCK_NONE","SQLITE_LOCK_PENDING","SQLITE_LOCK_RESERVED","SQLITE_LOCK_SHARED","SQLITE_LOCKED","SQLITE_MISUSE","SQLITE_NOTFOUND","SQLITE_OPEN_CREATE","SQLITE_OPEN_DELETEONCLOSE","SQLITE_OPEN_MAIN_DB","SQLITE_OPEN_READONLY"].forEach(Ee=>{(W.sq3Codes[Ee]=le[Ee])===void 0&&ze("Maintenance required: not found:",Ee)}),W.opfsFlags=Object.assign(Object.create(null),{OPFS_UNLOCK_ASAP:1,OPFS_UNLINK_BEFORE_OPEN:2,defaultUnlockAsap:!1});const He=(Ee,...Ve)=>{const Ye=W.opIds[Ee]||ze("Invalid op ID:",Ee);W.s11n.serialize(...Ve),Atomics.store(W.sabOPView,W.opIds.rc,-1),Atomics.store(W.sabOPView,W.opIds.whichOp,Ye),Atomics.notify(W.sabOPView,W.opIds.whichOp);const bt=performance.now();for(;Atomics.wait(W.sabOPView,W.opIds.rc,-1)!=="not-equal";);const ut=Atomics.load(W.sabOPView,W.opIds.rc);if(Oe[Ee].wait+=performance.now()-bt,ut&&W.asyncS11nExceptions){const Ft=W.s11n.deserialize();Ft&&xe(Ee+"() async error:",...Ft)}return ut};Me.debug={asyncShutdown:()=>{Ae("Shutting down OPFS async listener. The OPFS VFS will no longer work."),He("opfs-async-shutdown")},asyncRestart:()=>{Ae("Attempting to restart OPFS VFS async listener. Might work, might not."),ee.postMessage({type:"opfs-async-restart"})}};const Et=()=>{if(W.s11n)return W.s11n;const Ee=new TextDecoder,Ve=new TextEncoder("utf-8"),Ye=new Uint8Array(W.sabIO,W.sabS11nOffset,W.sabS11nSize),bt=new DataView(W.sabIO,W.sabS11nOffset,W.sabS11nSize);W.s11n=Object.create(null);const ut=Object.create(null);ut.number={id:1,size:8,getter:"getFloat64",setter:"setFloat64"},ut.bigint={id:2,size:8,getter:"getBigInt64",setter:"setBigInt64"},ut.boolean={id:3,size:4,getter:"getInt32",setter:"setInt32"},ut.string={id:4};const Ft=Nt=>ut[typeof Nt]||ze("Maintenance required: this value type cannot be serialized.",Nt),nr=Nt=>{switch(Nt){case ut.number.id:return ut.number;case ut.bigint.id:return ut.bigint;case ut.boolean.id:return ut.boolean;case ut.string.id:return ut.string;default:ze("Invalid type ID:",Nt)}};return W.s11n.deserialize=function(Nt=!1){++Oe.s11n.deserialize.count;const tn=performance.now(),Pe=Ye[0],st=Pe?[]:null;if(Pe){const ct=[];let wt=1,sr,qr,Nr;for(sr=0;sr<Pe;++sr,++wt)ct.push(nr(Ye[wt]));for(sr=0;sr<Pe;++sr){const Or=ct[sr];Or.getter?(Nr=bt[Or.getter](wt,W.littleEndian),wt+=Or.size):(qr=bt.getInt32(wt,W.littleEndian),wt+=4,Nr=Ee.decode(Ye.slice(wt,wt+qr)),wt+=qr),st.push(Nr)}}return Nt&&(Ye[0]=0),Oe.s11n.deserialize.time+=performance.now()-tn,st},W.s11n.serialize=function(...Nt){const tn=performance.now();if(++Oe.s11n.serialize.count,Nt.length){const Pe=[];let st=0,ct=1;for(Ye[0]=Nt.length&255;st<Nt.length;++st,++ct)Pe.push(Ft(Nt[st])),Ye[ct]=Pe[st].id;for(st=0;st<Nt.length;++st){const wt=Pe[st];if(wt.setter)bt[wt.setter](ct,Nt[st],W.littleEndian),ct+=wt.size;else{const sr=Ve.encode(Nt[st]);bt.setInt32(ct,sr.byteLength,W.littleEndian),ct+=4,Ye.set(sr,ct),ct+=sr.byteLength}}}else Ye[0]=0;Oe.s11n.serialize.time+=performance.now()-tn},W.s11n},jt=function Ee(Ve=16){Ee._chars||(Ee._chars="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ012346789",Ee._n=Ee._chars.length);const Ye=[];let bt=0;for(;bt<Ve;++bt){const ut=Math.random()*(Ee._n*64)%Ee._n|0;Ye[bt]=Ee._chars[ut]}return Ye.join("")},$t=Object.create(null),Ze=Object.create(null);Ze.op=void 0,Ze.start=void 0;const ce=Ee=>{Ze.start=performance.now(),Ze.op=Ee,++Oe[Ee].count},ke=()=>Oe[Ze.op].time+=performance.now()-Ze.start,Ke={xCheckReservedLock:function(Ee,Ve){return be.poke(Ve,0,"i32"),0},xClose:function(Ee){ce("xClose");let Ve=0;const Ye=$t[Ee];return Ye&&(delete $t[Ee],Ve=He("xClose",Ee),Ye.sq3File&&Ye.sq3File.dispose()),ke(),Ve},xDeviceCharacteristics:function(Ee){return le.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(Ee,Ve,Ye){return le.SQLITE_NOTFOUND},xFileSize:function(Ee,Ve){ce("xFileSize");let Ye=He("xFileSize",Ee);if(Ye==0)try{const bt=W.s11n.deserialize()[0];be.poke(Ve,bt,"i64")}catch(bt){xe("Unexpected error reading xFileSize() result:",bt),Ye=W.sq3Codes.SQLITE_IOERR}return ke(),Ye},xLock:function(Ee,Ve){ce("xLock");const Ye=$t[Ee];let bt=0;return Ye.lockType?Ye.lockType=Ve:(bt=He("xLock",Ee,Ve),bt===0&&(Ye.lockType=Ve)),ke(),bt},xRead:function(Ee,Ve,Ye,bt){ce("xRead");const ut=$t[Ee];let Ft;try{Ft=He("xRead",Ee,Ye,Number(bt)),(Ft===0||le.SQLITE_IOERR_SHORT_READ===Ft)&&be.heap8u().set(ut.sabView.subarray(0,Ye),Ve)}catch(nr){xe("xRead(",arguments,") failed:",nr,ut),Ft=le.SQLITE_IOERR_READ}return ke(),Ft},xSync:function(Ee,Ve){ce("xSync"),++Oe.xSync.count;const Ye=He("xSync",Ee,Ve);return ke(),Ye},xTruncate:function(Ee,Ve){ce("xTruncate");const Ye=He("xTruncate",Ee,Number(Ve));return ke(),Ye},xUnlock:function(Ee,Ve){ce("xUnlock");const Ye=$t[Ee];let bt=0;return le.SQLITE_LOCK_NONE===Ve&&Ye.lockType&&(bt=He("xUnlock",Ee,Ve)),bt===0&&(Ye.lockType=Ve),ke(),bt},xWrite:function(Ee,Ve,Ye,bt){ce("xWrite");const ut=$t[Ee];let Ft;try{ut.sabView.set(be.heap8u().subarray(Ve,Ve+Ye)),Ft=He("xWrite",Ee,Ye,Number(bt))}catch(nr){xe("xWrite(",arguments,") failed:",nr,ut),Ft=le.SQLITE_IOERR_WRITE}return ke(),Ft}},et={xAccess:function(Ee,Ve,Ye,bt){ce("xAccess");const ut=He("xAccess",be.cstrToJs(Ve));return be.poke(bt,ut?0:1,"i32"),ke(),0},xCurrentTime:function(Ee,Ve){return be.poke(Ve,2440587.5+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(Ee,Ve){return be.poke(Ve,2440587.5*864e5+new Date().getTime(),"i64"),0},xDelete:function(Ee,Ve,Ye){ce("xDelete");const bt=He("xDelete",be.cstrToJs(Ve),Ye,!1);return ke(),bt},xFullPathname:function(Ee,Ve,Ye,bt){return be.cstrncpy(bt,Ve,Ye)<Ye?0:le.SQLITE_CANTOPEN},xGetLastError:function(Ee,Ve,Ye){return Ae("OPFS xGetLastError() has nothing sensible to return."),0},xOpen:function(Ve,Ye,bt,ut,Ft){ce("xOpen");let nr=0;Ye===0?Ye=jt():be.isPtr(Ye)&&(le.sqlite3_uri_boolean(Ye,"opfs-unlock-asap",0)&&(nr|=W.opfsFlags.OPFS_UNLOCK_ASAP),le.sqlite3_uri_boolean(Ye,"delete-before-open",0)&&(nr|=W.opfsFlags.OPFS_UNLINK_BEFORE_OPEN),Ye=be.cstrToJs(Ye));const Nt=Object.create(null);Nt.fid=bt,Nt.filename=Ye,Nt.sab=new SharedArrayBuffer(W.fileBufferSize),Nt.flags=ut,Nt.readOnly=!(h.SQLITE_OPEN_CREATE&ut)&&!!(ut&le.SQLITE_OPEN_READONLY);const tn=He("xOpen",bt,Ye,ut,nr);return tn||(Nt.readOnly&&be.poke(Ft,le.SQLITE_OPEN_READONLY,"i32"),$t[bt]=Nt,Nt.sabView=W.sabFileBufView,Nt.sq3File=new Be(bt),Nt.sq3File.$pMethods=F.pointer,Nt.lockType=le.SQLITE_LOCK_NONE),ke(),tn}};L&&(J.$xRandomness=L.$xRandomness,J.$xSleep=L.$xSleep),J.$xRandomness||(et.xRandomness=function(Ee,Ve,Ye){const bt=be.heap8u();let ut=0;for(;ut<Ve;++ut)bt[Ye+ut]=Math.random()*255e3&255;return ut}),J.$xSleep||(et.xSleep=function(Ee,Ve){return Atomics.wait(W.sabOPView,W.opIds.xSleep,0,Ve),0}),Me.getResolvedPath=function(Ee,Ve){const Ye=new URL(Ee,"file://irrelevant").pathname;return Ve?Ye.split("/").filter(bt=>!!bt):Ye},Me.getDirForFilename=async function(Ve,Ye=!1){const bt=Me.getResolvedPath(Ve,!0),ut=bt.pop();let Ft=Me.rootDirectory;for(const nr of bt)nr&&(Ft=await Ft.getDirectoryHandle(nr,{create:!!Ye}));return[Ft,ut]},Me.mkdir=async function(Ee){try{return await Me.getDirForFilename(Ee+"/filepart",!0),!0}catch{return!1}},Me.entryExists=async function(Ee){try{const[Ve,Ye]=await Me.getDirForFilename(Ee);return await Ve.getFileHandle(Ye),!0}catch{return!1}},Me.randomFilename=jt,Me.treeList=async function(){const Ee=async function Ye(bt,ut){ut.name=bt.name,ut.dirs=[],ut.files=[];for await(const Ft of bt.values())if(Ft.kind==="directory"){const nr=Object.create(null);ut.dirs.push(nr),await Ye(Ft,nr)}else ut.files.push(Ft.name)},Ve=Object.create(null);return await Ee(Me.rootDirectory,Ve),Ve},Me.rmfr=async function(){const Ee=Me.rootDirectory,Ve={recurse:!0};for await(const Ye of Ee.values())Ee.removeEntry(Ye.name,Ve)},Me.unlink=async function(Ee,Ve=!1,Ye=!1){try{const[bt,ut]=await Me.getDirForFilename(Ee,!1);return await bt.removeEntry(ut,{recursive:Ve}),!0}catch(bt){if(Ye)throw new Error("unlink(",arguments[0],") failed: "+bt.message,{cause:bt});return!1}},Me.traverse=async function(Ee){const Ve={recursive:!0,directory:Me.rootDirectory};typeof Ee=="function"&&(Ee={callback:Ee}),Ee=Object.assign(Ve,Ee||{}),async function bt(ut,Ft){for await(const nr of ut.values()){if(Ee.callback(nr,ut,Ft)===!1)return!1;if(Ee.recursive&&nr.kind==="directory"&&await bt(nr,Ft+1)===!1)break}}(Ee.directory,0)};const qt=async function(Ee,Ve){const[Ye,bt]=await Me.getDirForFilename(Ee,!0);let Ft=await (await Ye.getFileHandle(bt,{create:!0})).createSyncAccessHandle(),nr=0,Nt,tn=!1;try{for(Ft.truncate(0);(Nt=await Ve())!==void 0;)Nt instanceof ArrayBuffer&&(Nt=new Uint8Array(Nt)),nr===0&&Nt.byteLength>=15&&(pe.affirmDbHeader(Nt),tn=!0),Ft.write(Nt,{at:nr}),nr+=Nt.byteLength;if((nr<512||nr%512!==0)&&ze("Input size",nr,"is not correct for an SQLite database."),!tn){const Pe=new Uint8Array(20);Ft.read(Pe,{at:0}),pe.affirmDbHeader(Pe)}return Ft.write(new Uint8Array([1,1]),{at:18}),nr}catch(Pe){throw await Ft.close(),Ft=void 0,await Ye.removeEntry(bt).catch(()=>{}),Pe}finally{Ft&&await Ft.close()}};if(Me.importDb=async function(Ee,Ve){if(Ve instanceof Function)return qt(Ee,Ve);Ve instanceof ArrayBuffer&&(Ve=new Uint8Array(Ve)),pe.affirmIsDb(Ve);const Ye=Ve.byteLength,[bt,ut]=await Me.getDirForFilename(Ee,!0);let Ft,nr=0;try{return Ft=await (await bt.getFileHandle(ut,{create:!0})).createSyncAccessHandle(),Ft.truncate(0),nr=Ft.write(Ve,{at:0}),nr!=Ye&&ze("Expected to write "+Ye+" bytes but wrote "+nr+"."),Ft.write(new Uint8Array([1,1]),{at:18}),nr}catch(Nt){throw Ft&&(await Ft.close(),Ft=void 0),await bt.removeEntry(ut).catch(()=>{}),Nt}finally{Ft&&await Ft.close()}},h.oo1){const Ee=function(...Ve){const Ye=h.oo1.DB.dbCtorHelper.normalizeArgs(...Ve);Ye.vfs=J.$zName,h.oo1.DB.dbCtorHelper.call(this,Ye)};Ee.prototype=Object.create(h.oo1.DB.prototype),h.oo1.OpfsDb=Ee,Ee.importDb=Me.importDb,h.oo1.DB.dbCtorHelper.setVfsPostOpenCallback(J.pointer,function(Ve,Ye){Ye.capi.sqlite3_busy_timeout(Ve,1e4)})}const Wt=function(){const Ee=be.scopedAllocPush(),Ve=new Be;try{const Ye=Ve.pointer,bt=le.SQLITE_OPEN_CREATE|le.SQLITE_OPEN_READWRITE|le.SQLITE_OPEN_MAIN_DB,ut=be.scopedAlloc(8),Ft="/sanity/check/file"+jt(8),nr=be.scopedAllocCString(Ft);let Nt;if(W.s11n.serialize("This is \xe4 string."),Nt=W.s11n.deserialize(),rt("deserialize() says:",Nt),Nt[0]!=="This is \xe4 string."&&ze("String d13n error."),et.xAccess(J.pointer,nr,0,ut),Nt=be.peek(ut,"i32"),rt("xAccess(",Ft,") exists ?=",Nt),Nt=et.xOpen(J.pointer,nr,Ye,bt,ut),rt("open rc =",Nt,"state.sabOPView[xOpen] =",W.sabOPView[W.opIds.xOpen]),Nt!==0){xe("open failed with code",Nt);return}et.xAccess(J.pointer,nr,0,ut),Nt=be.peek(ut,"i32"),Nt||ze("xAccess() failed to detect file."),Nt=Ke.xSync(Ve.pointer,0),Nt&&ze("sync failed w/ rc",Nt),Nt=Ke.xTruncate(Ve.pointer,1024),Nt&&ze("truncate failed w/ rc",Nt),be.poke(ut,0,"i64"),Nt=Ke.xFileSize(Ve.pointer,ut),Nt&&ze("xFileSize failed w/ rc",Nt),rt("xFileSize says:",be.peek(ut,"i64")),Nt=Ke.xWrite(Ve.pointer,nr,10,1),Nt&&ze("xWrite() failed!");const tn=be.scopedAlloc(16);Nt=Ke.xRead(Ve.pointer,tn,6,2),be.poke(tn+6,0);let Pe=be.cstrToJs(tn);rt("xRead() got:",Pe),Pe!=="sanity"&&ze("Unexpected xRead() value."),et.xSleep&&(rt("xSleep()ing before close()ing..."),et.xSleep(J.pointer,2e3),rt("waking up from xSleep()")),Nt=Ke.xClose(Ye),rt("xClose rc =",Nt,"sabOPView =",W.sabOPView),rt("Deleting file:",Ft),et.xDelete(J.pointer,nr,4660),et.xAccess(J.pointer,nr,0,ut),Nt=be.peek(ut,"i32"),Nt&&ze("Expecting 0 from xAccess(",Ft,") after xDelete()."),Ae("End of OPFS sanity checks.")}finally{Ve.dispose(),be.scopedAllocPop(Ee)}};ee.onmessage=function({data:Ee}){switch(Ee.type){case"opfs-unavailable":Qe(new Error(Ee.payload.join(" ")));break;case"opfs-async-loaded":ee.postMessage({type:"opfs-async-init",args:W});break;case"opfs-async-inited":{if(he===!0)break;try{h.vfs.installVfs({io:{struct:F,methods:Ke},vfs:{struct:J,methods:et}}),W.sabOPView=new Int32Array(W.sabOP),W.sabFileBufView=new Uint8Array(W.sabIO,0,W.fileBufferSize),W.sabS11nView=new Uint8Array(W.sabIO,W.sabS11nOffset,W.sabS11nSize),Et(),S.sanityChecks&&(Ae("Running sanity checks because of opfs-sanity-check URL arg..."),Wt()),ht()?navigator.storage.getDirectory().then(Ve=>{ee.onerror=ee._originalOnError,delete ee._originalOnError,h.opfs=Me,Me.rootDirectory=Ve,rt("End of OPFS sqlite3_vfs setup.",J),z()}).catch(Qe):z()}catch(Ve){xe(Ve),Qe(Ve)}break}default:{const Ve="Unexpected message from the OPFS async worker: "+JSON.stringify(Ee);xe(Ve),Qe(new Error(Ve));break}}}}))};_.defaultProxyUri="sqlite3-opfs-async-proxy.js",globalThis.sqlite3ApiBootstrap.initializersAsync.push(async b=>{try{let S=_.defaultProxyUri;return b.scriptInfo.sqlite3Dir&&(_.defaultProxyUri=b.scriptInfo.sqlite3Dir+S),_().catch(I=>{b.config.warn("Ignoring inability to install OPFS sqlite3_vfs:",I.message)})}catch(S){return b.config.error("installOpfsVfs() exception:",S),Promise.reject(S)}})}),globalThis.sqlite3ApiBootstrap.initializers.push(function(h){const _=h.util.toss,b=h.util.toss3,S=Object.create(null),I=h.capi,X=h.util,re=h.wasm,Le=4096,Ue=512,Je=4,rt=8,Ae=Ue+Je,xe=Ue,ze=Ae,le=Le,pe=I.SQLITE_OPEN_MAIN_DB|I.SQLITE_OPEN_MAIN_JOURNAL|I.SQLITE_OPEN_SUPER_JOURNAL|I.SQLITE_OPEN_WAL,be=".opaque",$e=()=>Math.random().toString(36).slice(2),Be=new TextDecoder,we=new TextEncoder,Me=Object.assign(Object.create(null),{name:"opfs-sahpool",directory:void 0,initialCapacity:6,clearOnInit:!1,verbosity:2,forceReinitIfPreviouslyFailed:!1}),ht=[h.config.error,h.config.warn,h.config.log];h.config.log;const F=h.config.warn;h.config.error;const J=new Map,he=Ze=>J.get(Ze),Qe=(Ze,ce)=>{ce?J.set(Ze,ce):J.delete(Ze)},z=new Map,ee=Ze=>z.get(Ze),T=(Ze,ce)=>{ce?z.set(Ze,ce):z.delete(Ze)},L={xCheckReservedLock:function(Ze,ce){const ke=ee(Ze);return ke.log("xCheckReservedLock"),ke.storeErr(),re.poke32(ce,1),0},xClose:function(Ze){const ce=ee(Ze);ce.storeErr();const ke=ce.getOFileForS3File(Ze);if(ke)try{ce.log(`xClose ${ke.path}`),ce.mapS3FileToOFile(Ze,!1),ke.sah.flush(),ke.flags&I.SQLITE_OPEN_DELETEONCLOSE&&ce.deletePath(ke.path)}catch(Ke){return ce.storeErr(Ke,I.SQLITE_IOERR)}return 0},xDeviceCharacteristics:function(Ze){return I.SQLITE_IOCAP_UNDELETABLE_WHEN_OPEN},xFileControl:function(Ze,ce,ke){return I.SQLITE_NOTFOUND},xFileSize:function(Ze,ce){const ke=ee(Ze);ke.log("xFileSize");const et=ke.getOFileForS3File(Ze).sah.getSize()-le;return re.poke64(ce,BigInt(et)),0},xLock:function(Ze,ce){const ke=ee(Ze);ke.log(`xLock ${ce}`),ke.storeErr();const Ke=ke.getOFileForS3File(Ze);return Ke.lockType=ce,0},xRead:function(Ze,ce,ke,Ke){const et=ee(Ze);et.storeErr();const qt=et.getOFileForS3File(Ze);et.log(`xRead ${qt.path} ${ke} @ ${Ke}`);try{const Wt=qt.sah.read(re.heap8u().subarray(ce,ce+ke),{at:le+Number(Ke)});return Wt<ke?(re.heap8u().fill(0,ce+Wt,ce+ke),I.SQLITE_IOERR_SHORT_READ):0}catch(Wt){return et.storeErr(Wt,I.SQLITE_IOERR)}},xSectorSize:function(Ze){return Le},xSync:function(Ze,ce){const ke=ee(Ze);ke.log(`xSync ${ce}`),ke.storeErr();const Ke=ke.getOFileForS3File(Ze);try{return Ke.sah.flush(),0}catch(et){return ke.storeErr(et,I.SQLITE_IOERR)}},xTruncate:function(Ze,ce){const ke=ee(Ze);ke.log(`xTruncate ${ce}`),ke.storeErr();const Ke=ke.getOFileForS3File(Ze);try{return Ke.sah.truncate(le+Number(ce)),0}catch(et){return ke.storeErr(et,I.SQLITE_IOERR)}},xUnlock:function(Ze,ce){const ke=ee(Ze);ke.log("xUnlock");const Ke=ke.getOFileForS3File(Ze);return Ke.lockType=ce,0},xWrite:function(Ze,ce,ke,Ke){const et=ee(Ze);et.storeErr();const qt=et.getOFileForS3File(Ze);et.log(`xWrite ${qt.path} ${ke} ${Ke}`);try{const Wt=qt.sah.write(re.heap8u().subarray(ce,ce+ke),{at:le+Number(Ke)});return ke===Wt?0:_("Unknown write() failure.")}catch(Wt){return et.storeErr(Wt,I.SQLITE_IOERR)}}},W=new I.sqlite3_io_methods;W.$iVersion=1,h.vfs.installVfs({io:{struct:W,methods:L}});const Oe={xAccess:function(Ze,ce,ke,Ke){const et=he(Ze);et.storeErr();try{const qt=et.getPath(ce);re.poke32(Ke,et.hasFilename(qt)?1:0)}catch{re.poke32(Ke,0)}return 0},xCurrentTime:function(Ze,ce){return re.poke(ce,2440587.5+new Date().getTime()/864e5,"double"),0},xCurrentTimeInt64:function(Ze,ce){return re.poke(ce,2440587.5*864e5+new Date().getTime(),"i64"),0},xDelete:function(Ze,ce,ke){const Ke=he(Ze);Ke.log(`xDelete ${re.cstrToJs(ce)}`),Ke.storeErr();try{return Ke.deletePath(Ke.getPath(ce)),0}catch(et){return Ke.storeErr(et),I.SQLITE_IOERR_DELETE}},xFullPathname:function(Ze,ce,ke,Ke){return re.cstrncpy(Ke,ce,ke)<ke?0:I.SQLITE_CANTOPEN},xGetLastError:function(Ze,ce,ke){const Ke=he(Ze),et=Ke.popErr();if(Ke.log(`xGetLastError ${ce} e =`,et),et){const qt=re.scopedAllocPush();try{const[Wt,Ee]=re.scopedAllocCString(et.message,!0);re.cstrncpy(ke,Wt,ce),Ee>ce&&re.poke8(ke+ce-1,0)}catch{return I.SQLITE_NOMEM}finally{re.scopedAllocPop(qt)}}return et?et.sqlite3Rc||I.SQLITE_IOERR:0},xOpen:function(ce,ke,Ke,et,qt){const Wt=he(ce);try{Wt.log(`xOpen ${re.cstrToJs(ke)} ${et}`);const Ee=ke&&re.peek8(ke)?Wt.getPath(ke):$e();let Ve=Wt.getSAHForPath(Ee);!Ve&&et&I.SQLITE_OPEN_CREATE&&(Wt.getFileCount()<Wt.getCapacity()?(Ve=Wt.nextAvailableSAH(),Wt.setAssociatedPath(Ve,Ee,et)):_("SAH pool is full. Cannot create file",Ee)),Ve||_("file not found:",Ee);const Ye={path:Ee,flags:et,sah:Ve};Wt.mapS3FileToOFile(Ke,Ye),Ye.lockType=I.SQLITE_LOCK_NONE;const bt=new I.sqlite3_file(Ke);return bt.$pMethods=W.pointer,bt.dispose(),re.poke32(qt,et),0}catch(Ee){return Wt.storeErr(Ee),I.SQLITE_CANTOPEN}}},He=function(Ze){h.capi.sqlite3_vfs_find(Ze)&&b("VFS name is already registered:",Ze);const ce=new I.sqlite3_vfs,ke=I.sqlite3_vfs_find(null),Ke=ke?new I.sqlite3_vfs(ke):null;return ce.$iVersion=2,ce.$szOsFile=I.sqlite3_file.structInfo.sizeof,ce.$mxPathname=Ue,ce.addOnDispose(ce.$zName=re.allocCString(Ze),()=>Qe(ce.pointer,0)),Ke&&(ce.$xRandomness=Ke.$xRandomness,ce.$xSleep=Ke.$xSleep,Ke.dispose()),!ce.$xRandomness&&!Oe.xRandomness&&(Oe.xRandomness=function(et,qt,Wt){const Ee=re.heap8u();let Ve=0;for(;Ve<qt;++Ve)Ee[Wt+Ve]=Math.random()*255e3&255;return Ve}),!ce.$xSleep&&!Oe.xSleep&&(Oe.xSleep=(et,qt)=>0),h.vfs.installVfs({vfs:{struct:ce,methods:Oe}}),ce};class Et{vfsDir;#e;#t;#r;#n=new Map;#i=new Map;#s=new Set;#o=new Map;#a=new Uint8Array(Ae);#u;#l;#c;constructor(ce=Object.create(null)){this.#c=ce.verbosity??Me.verbosity,this.vfsName=ce.name||Me.name,this.#l=He(this.vfsName),Qe(this.#l.pointer,this),this.vfsDir=ce.directory||"."+this.vfsName,this.#u=new DataView(this.#a.buffer,this.#a.byteOffset),this.isReady=this.reset(!!(ce.clearOnInit??Me.clearOnInit)).then(()=>{if(this.$error)throw this.$error;return this.getCapacity()?Promise.resolve(void 0):this.addCapacity(ce.initialCapacity||Me.initialCapacity)})}#d(ce,...ke){this.#c>ce&&ht[ce](this.vfsName+":",...ke)}log(...ce){this.#d(2,...ce)}warn(...ce){this.#d(1,...ce)}error(...ce){this.#d(0,...ce)}getVfs(){return this.#l}getCapacity(){return this.#n.size}getFileCount(){return this.#i.size}getFileNames(){const ce=[],ke=this.#i.keys();for(const Ke of ke)ce.push(Ke);return ce}async addCapacity(ce){for(let ke=0;ke<ce;++ke){const Ke=$e(),qt=await (await this.#t.getFileHandle(Ke,{create:!0})).createSyncAccessHandle();this.#n.set(qt,Ke),this.setAssociatedPath(qt,"",0)}return this.getCapacity()}async reduceCapacity(ce){let ke=0;for(const Ke of Array.from(this.#s)){if(ke===ce||this.getFileCount()===this.getCapacity())break;const et=this.#n.get(Ke);Ke.close(),await this.#t.removeEntry(et),this.#n.delete(Ke),this.#s.delete(Ke),++ke}return ke}releaseAccessHandles(){for(const ce of this.#n.keys())ce.close();this.#n.clear(),this.#i.clear(),this.#s.clear()}async acquireAccessHandles(ce){const ke=[];for await(const[Ke,et]of this.#t)et.kind==="file"&&ke.push([Ke,et]);return Promise.all(ke.map(async([Ke,et])=>{try{const qt=await et.createSyncAccessHandle();if(this.#n.set(qt,Ke),ce)qt.truncate(le),this.setAssociatedPath(qt,"",0);else{const Wt=this.getAssociatedPath(qt);Wt?this.#i.set(Wt,qt):this.#s.add(qt)}}catch(qt){throw this.storeErr(qt),this.releaseAccessHandles(),qt}}))}getAssociatedPath(ce){ce.read(this.#a,{at:0});const ke=this.#u.getUint32(xe);if(this.#a[0]&&(ke&I.SQLITE_OPEN_DELETEONCLOSE||!(ke&pe)))return F(`Removing file with unexpected flags ${ke.toString(16)}`,this.#a),this.setAssociatedPath(ce,"",0),"";const Ke=new Uint32Array(rt/4);ce.read(Ke,{at:ze});const et=this.computeDigest(this.#a);if(Ke.every((qt,Wt)=>qt===et[Wt])){const qt=this.#a.findIndex(Wt=>Wt===0);return qt===0&&ce.truncate(le),qt?Be.decode(this.#a.subarray(0,qt)):""}else return F("Disassociating file with bad digest."),this.setAssociatedPath(ce,"",0),""}setAssociatedPath(ce,ke,Ke){const et=we.encodeInto(ke,this.#a);Ue<=et.written+1&&_("Path too long:",ke),this.#a.fill(0,et.written,Ue),this.#u.setUint32(xe,Ke);const qt=this.computeDigest(this.#a);ce.write(this.#a,{at:0}),ce.write(qt,{at:ze}),ce.flush(),ke?(this.#i.set(ke,ce),this.#s.delete(ce)):(ce.truncate(le),this.#s.add(ce))}computeDigest(ce){let ke=0xdeadbeef,Ke=0x41c6ce57;for(const et of ce)ke=31*ke+et*307,Ke=31*Ke+et*307;return new Uint32Array([ke>>>0,Ke>>>0])}async reset(ce){await this.isReady;let ke=await navigator.storage.getDirectory(),Ke;for(const et of this.vfsDir.split("/"))et&&(Ke=ke,ke=await ke.getDirectoryHandle(et,{create:!0}));return this.#e=ke,this.#r=Ke,this.#t=await this.#e.getDirectoryHandle(be,{create:!0}),this.releaseAccessHandles(),this.acquireAccessHandles(ce)}getPath(ce){return re.isPtr(ce)&&(ce=re.cstrToJs(ce)),(ce instanceof URL?ce:new URL(ce,"file://localhost/")).pathname}deletePath(ce){const ke=this.#i.get(ce);return ke&&(this.#i.delete(ce),this.setAssociatedPath(ke,"",0)),!!ke}storeErr(ce,ke){return ce&&(ce.sqlite3Rc=ke||I.SQLITE_IOERR,this.error(ce)),this.$error=ce,ke}popErr(){const ce=this.$error;return this.$error=void 0,ce}nextAvailableSAH(){const[ce]=this.#s.keys();return ce}getOFileForS3File(ce){return this.#o.get(ce)}mapS3FileToOFile(ce,ke){ke?(this.#o.set(ce,ke),T(ce,this)):(this.#o.delete(ce),T(ce,!1))}hasFilename(ce){return this.#i.has(ce)}getSAHForPath(ce){return this.#i.get(ce)}async removeVfs(){if(!this.#l.pointer||!this.#t)return!1;I.sqlite3_vfs_unregister(this.#l.pointer),this.#l.dispose(),delete S[this.vfsName];try{this.releaseAccessHandles(),await this.#e.removeEntry(be,{recursive:!0}),this.#t=void 0,await this.#r.removeEntry(this.#e.name,{recursive:!0}),this.#e=this.#r=void 0}catch(ce){h.config.error(this.vfsName,"removeVfs() failed:",ce)}return!0}exportFile(ce){const ke=this.#i.get(ce)||_("File not found:",ce),Ke=ke.getSize()-le,et=new Uint8Array(Ke>0?Ke:0);if(Ke>0){const qt=ke.read(et,{at:le});qt!=Ke&&_("Expected to read "+Ke+" bytes but read "+qt+".")}return et}async importDbChunked(ce,ke){const Ke=this.#i.get(ce)||this.nextAvailableSAH()||_("No available handles to import to.");Ke.truncate(0);let et=0,qt,Wt=!1;try{for(;(qt=await ke())!==void 0;)qt instanceof ArrayBuffer&&(qt=new Uint8Array(qt)),et===0&&qt.byteLength>=15&&(X.affirmDbHeader(qt),Wt=!0),Ke.write(qt,{at:le+et}),et+=qt.byteLength;if((et<512||et%512!==0)&&_("Input size",et,"is not correct for an SQLite database."),!Wt){const Ee=new Uint8Array(20);Ke.read(Ee,{at:0}),X.affirmDbHeader(Ee)}Ke.write(new Uint8Array([1,1]),{at:le+18})}catch(Ee){throw this.setAssociatedPath(Ke,"",0),Ee}return this.setAssociatedPath(Ke,ce,I.SQLITE_OPEN_MAIN_DB),et}importDb(ce,ke){if(ke instanceof ArrayBuffer)ke=new Uint8Array(ke);else if(ke instanceof Function)return this.importDbChunked(ce,ke);const Ke=this.#i.get(ce)||this.nextAvailableSAH()||_("No available handles to import to."),et=ke.byteLength;(et<512||et%512!=0)&&_("Byte array size is invalid for an SQLite db.");const qt="SQLite format 3";for(let Ee=0;Ee<qt.length;++Ee)qt.charCodeAt(Ee)!==ke[Ee]&&_("Input does not contain an SQLite database header.");const Wt=Ke.write(ke,{at:le});return Wt!=et?(this.setAssociatedPath(Ke,"",0),_("Expected to write "+et+" bytes but wrote "+Wt+".")):(Ke.write(new Uint8Array([1,1]),{at:le+18}),this.setAssociatedPath(Ke,ce,I.SQLITE_OPEN_MAIN_DB)),Wt}}class jt{#e;constructor(ce){this.#e=ce,this.vfsName=ce.vfsName}async addCapacity(ce){return this.#e.addCapacity(ce)}async reduceCapacity(ce){return this.#e.reduceCapacity(ce)}getCapacity(){return this.#e.getCapacity(this.#e)}getFileCount(){return this.#e.getFileCount()}getFileNames(){return this.#e.getFileNames()}async reserveMinimumCapacity(ce){const ke=this.#e.getCapacity();return ke<ce?this.#e.addCapacity(ce-ke):ke}exportFile(ce){return this.#e.exportFile(ce)}importDb(ce,ke){return this.#e.importDb(ce,ke)}async wipeFiles(){return this.#e.reset(!0)}unlink(ce){return this.#e.deletePath(ce)}async removeVfs(){return this.#e.removeVfs()}}const $t=async()=>{const Ze=await navigator.storage.getDirectory(),ce=".opfs-sahpool-sync-check-"+$e(),et=(await (await Ze.getFileHandle(ce,{create:!0})).createSyncAccessHandle()).close();return await et,await Ze.removeEntry(ce),et?.then&&_("The local OPFS API is too old for opfs-sahpool:","it has an async FileSystemSyncAccessHandle.close() method."),!0};h.installOpfsSAHPoolVfs=async function(Ze=Object.create(null)){Ze=Object.assign(Object.create(null),Me,Ze||{});const ce=Ze.name;if(Ze.$testThrowPhase1)throw Ze.$testThrowPhase1;if(S[ce])try{return await S[ce]}catch(ke){if(Ze.forceReinitIfPreviouslyFailed)delete S[ce];else throw ke}return!globalThis.FileSystemHandle||!globalThis.FileSystemDirectoryHandle||!globalThis.FileSystemFileHandle||!globalThis.FileSystemFileHandle.prototype.createSyncAccessHandle||!navigator?.storage?.getDirectory?S[ce]=Promise.reject(new Error("Missing required OPFS APIs.")):S[ce]=$t().then(async function(){if(Ze.$testThrowPhase2)throw Ze.$testThrowPhase2;const ke=new Et(Ze);return ke.isReady.then(async()=>{const Ke=new jt(ke);if(h.oo1){const et=h.oo1,qt=ke.getVfs(),Wt=function(...Ee){const Ve=et.DB.dbCtorHelper.normalizeArgs(...Ee);Ve.vfs=qt.$zName,et.DB.dbCtorHelper.call(this,Ve)};Wt.prototype=Object.create(et.DB.prototype),Ke.OpfsSAHPoolDb=Wt}return ke.log("VFS initialized."),Ke}).catch(async Ke=>{throw await ke.removeVfs().catch(()=>{}),Ke})}).catch(ke=>S[ce]=Promise.reject(ke))}}),typeof f<"u"){const h=Object.assign(Object.create(null),{exports:typeof te>"u"?f.asm:te,memory:f.wasmMemory},globalThis.sqlite3ApiConfig||{});globalThis.sqlite3ApiConfig=h;let _;try{_=globalThis.sqlite3ApiBootstrap()}catch(b){throw console.error("sqlite3ApiBootstrap() error:",b),b}finally{delete globalThis.sqlite3ApiBootstrap,delete globalThis.sqlite3ApiConfig}f.sqlite3=_}else console.warn("This is not running in an Emscripten module context, so","globalThis.sqlite3ApiBootstrap() is _not_ being called due to lack","of config info for the WASM environment.","It must be called manually.")}),r=l,r}})();const t6=function(){const t=k0;if(!t)throw new Error("Expecting globalThis.sqlite3InitModule to be defined by the Emscripten build.");const e=globalThis.sqlite3InitModuleState=Object.assign(Object.create(null),{moduleScript:globalThis?.document?.currentScript,isWorker:typeof WorkerGlobalScope<"u",location:globalThis.location,urlParams:globalThis?.location?.href?new URL(globalThis.location.href).searchParams:new URLSearchParams});if(e.debugModule=e.urlParams.has("sqlite3.debugModule")?(...r)=>console.warn("sqlite3.debugModule:",...r):()=>{},e.urlParams.has("sqlite3.dir"))e.sqlite3Dir=e.urlParams.get("sqlite3.dir")+"/";else if(e.moduleScript){const r=e.moduleScript.src.split("/");r.pop(),e.sqlite3Dir=r.join("/")+"/"}if(globalThis.sqlite3InitModule=function r(...n){return t(...n).then(s=>{const a=s.sqlite3;a.scriptInfo=e,r.__isUnderTest&&(a.__isUnderTest=!0);const l=a.asyncPostInit;return delete a.asyncPostInit,l()}).catch(s=>{throw console.error("Exception loading sqlite3 module:",s),s})},globalThis.sqlite3InitModule.ready=t.ready,globalThis.sqlite3InitModuleState.moduleScript){const r=globalThis.sqlite3InitModuleState;let n=r.moduleScript.src.split("/");n.pop(),r.scriptDir=n.join("/")+"/"}return e.debugModule("sqlite3InitModuleState =",e),globalThis.sqlite3InitModule}();k0=t6;const r6=k0;globalThis.sqlite3Worker1Promiser=function t(e=t.defaultConfig){if(arguments.length===1&&typeof arguments[0]=="function"){const w=e;e=Object.assign(Object.create(null),t.defaultConfig),e.onready=w}else e=Object.assign(Object.create(null),t.defaultConfig,e);const r=Object.create(null),n=function(){},s=e.onerror||n,a=e.debug||n,l=e.generateMessageId?void 0:Object.create(null),u=e.generateMessageId||function(w){return w.type+"#"+(l[w.type]=(l[w.type]||0)+1)},d=(...w)=>{throw new Error(w.join(" "))};e.worker||(e.worker=t.defaultConfig.worker),typeof e.worker=="function"&&(e.worker=e.worker());let m,g;return e.worker.onmessage=function(w){w=w.data,a("worker1.onmessage",w);let N=r[w.messageId];if(!N){if(w&&w.type==="sqlite3-api"&&w.result==="worker1-ready"){e.onready&&e.onready(g);return}if(N=r[w.type],N&&N.onrow){N.onrow(w);return}e.onunhandled?e.onunhandled(arguments[0]):s("sqlite3Worker1Promiser() unhandled worker message:",w);return}switch(delete r[w.messageId],w.type){case"error":N.reject(w);return;case"open":m||(m=w.dbId);break;case"close":w.dbId===m&&(m=void 0);break}try{N.resolve(w)}catch(k){N.reject(k)}},g=function(){let w;arguments.length===1?w=arguments[0]:arguments.length===2?(w=Object.create(null),w.type=arguments[0],w.args=arguments[1],w.dbId=w.args.dbId):d("Invalid arguments for sqlite3Worker1Promiser()-created factory."),!w.dbId&&w.type!=="open"&&(w.dbId=m),w.messageId=u(w),w.departureTime=performance.now();const N=Object.create(null);N.message=w;let k;w.type==="exec"&&w.args&&(typeof w.args.callback=="function"?(k=w.messageId+":row",N.onrow=w.args.callback,w.args.callback=k,r[k]=N):typeof w.args.callback=="string"&&d("exec callback may not be a string when using the Promise interface."));let O=new Promise(function(C,A){N.resolve=C,N.reject=A,r[w.messageId]=N,a("Posting",w.type,"message to Worker dbId="+(m||"default")+":",w),e.worker.postMessage(w)});return k&&(O=O.finally(()=>delete r[k])),O}};globalThis.sqlite3Worker1Promiser.defaultConfig={worker:function(){return new Worker(new URL("/assets/sqlite3-worker1-bundler-friendly-BF9rosUC.js",import.meta.url),{type:"module"})},onerror:(...t)=>console.error("worker1 promiser error",...t)};sqlite3Worker1Promiser.v2=function(t){let e;typeof t=="function"?(e=t,t={}):typeof t?.onready=="function"&&(e=t.onready,delete t.onready);const r=Object.create(null);t=Object.assign(t||Object.create(null),{onready:async function(s){try{e&&await e(s),r.resolve(s)}catch(a){r.reject(a)}}});const n=new Promise(function(s,a){r.resolve=s,r.reject=a});try{this.original(t)}catch(s){r.reject(s)}return n}.bind({original:sqlite3Worker1Promiser});sqlite3Worker1Promiser.v2;function wk(){let t,e;return{lock:async()=>{for(;t;)await t;t=new Promise(s=>{e=s})},unlock:async()=>{const s=e;t=void 0,e=void 0,s?.()}}}function lb(t,e){const r={rows:[],columns:[]},n=t.exec({sql:e.sql,bind:e.params,returnValue:"resultRows",rowMode:"array",columnNames:r.columns});switch(e.method){case"run":break;case"get":r.rows=n[0]??[];break;case"all":default:r.rows=n;break}return r}function rT(t){const e=t.split(/[\\/]/).filter(a=>a!==""),r=e.pop();if(!r)throw new Error("Database path is invalid.");const n=["journal","wal","shm"].map(a=>`${r}-${a}`);return{directories:e,fileName:r,tempFileNames:n,getDirectoryHandle:async()=>{let a=await navigator.storage.getDirectory();for(let l of e)a=await a.getDirectoryHandle(l);return a}}}async function mw(t,e){let r;if(t instanceof Blob?r=t.stream():r=t,r instanceof ReadableStream&&e){const s=r.getReader();switch(e){case"callback":return async()=>(await s.read()).value;case"buffer":const a=[];let l=!1;for(;!l;){const g=await s.read();g.value&&a.push(g.value),l=g.done}const u=a.reduce((g,w)=>g+w.length,0),d=new Uint8Array(u);let m=0;return a.forEach(g=>{d.set(g,m),m+=g.length}),d}}else return r}class n6{constructor(e){Object.defineProperty(this,"sqlite3",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"db",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dbStorageType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"pointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"userFunctions",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"initMutex",{enumerable:!0,configurable:!0,writable:!0,value:wk()}),Object.defineProperty(this,"transactionMutex",{enumerable:!0,configurable:!0,writable:!0,value:wk()}),Object.defineProperty(this,"transactionKey",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"proxy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reinitChannel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onmessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"init",{enumerable:!0,configurable:!0,writable:!0,value:async n=>{if(!this.config.databasePath)return;await this.initMutex.lock();const{databasePath:s,readOnly:a,verbose:l}=this.config,u=[a===!0?"r":"cw",l===!0?"t":""].join("");try{this.sqlite3||(this.sqlite3=await r6()),this.db&&this.destroy(),"opfs"in this.sqlite3&&s!==":memory:"?(this.db=new this.sqlite3.oo1.OpfsDb(s,u),this.dbStorageType="opfs"):(this.db=new this.sqlite3.oo1.DB(s,u),this.dbStorageType="memory",s!==":memory:"&&console.warn(`The origin private file system is not available, so ${s} will not be persisted. Make sure your web server is configured to use the correct HTTP response headers (See https://sqlocal.dallashoffman.com/guide/setup#cross-origin-isolation).`)),this.dbStorageType!=="memory"&&(this.reinitChannel=new BroadcastChannel(`_sqlocal_reinit_(${s})`),this.reinitChannel.onmessage=d=>{this.config.clientKey!==d.data.clientKey&&this.init(d.data.reason)}),this.userFunctions.forEach(this.initUserFunction),this.execInitStatements(),this.emitMessage({type:"event",event:"connect",reason:n})}catch(d){this.emitMessage({type:"error",error:d,queryKey:null}),this.destroy()}finally{await this.initMutex.unlock()}}}),Object.defineProperty(this,"postMessage",{enumerable:!0,configurable:!0,writable:!0,value:async(n,s)=>{const a=n instanceof MessageEvent?n.data:n;switch(await this.initMutex.lock(),a.type){case"config":this.editConfig(a);break;case"query":case"batch":case"transaction":this.exec(a);break;case"function":this.createUserFunction(a);break;case"getinfo":this.getDatabaseInfo(a);break;case"import":this.importDb(a);break;case"export":this.exportDb(a);break;case"delete":this.deleteDb(a);break;case"destroy":this.destroy(a);break}await this.initMutex.unlock()}}),Object.defineProperty(this,"emitMessage",{enumerable:!0,configurable:!0,writable:!0,value:(n,s=[])=>{this.onmessage&&this.onmessage(n,s)}}),Object.defineProperty(this,"editConfig",{enumerable:!0,configurable:!0,writable:!0,value:n=>{this.config=n.config,this.init("initial")}}),Object.defineProperty(this,"exec",{enumerable:!0,configurable:!0,writable:!0,value:async n=>{if(this.db)try{const s={type:"data",queryKey:n.queryKey,data:[]};switch(n.type){case"query":const a=this.transactionKey!==null&&this.transactionKey===n.transactionKey;try{a||await this.transactionMutex.lock();const l=lb(this.db,n);s.data.push(l)}finally{a||await this.transactionMutex.unlock()}break;case"batch":try{await this.transactionMutex.lock(),this.db.transaction(l=>{for(let u of n.statements){const d=lb(l,u);s.data.push(d)}})}finally{await this.transactionMutex.unlock()}break;case"transaction":if(n.action==="begin"&&(await this.transactionMutex.lock(),this.transactionKey=n.transactionKey,this.db.exec({sql:"BEGIN"})),(n.action==="commit"||n.action==="rollback")&&this.transactionKey!==null&&this.transactionKey===n.transactionKey){const l=n.action==="commit"?"COMMIT":"ROLLBACK";this.db.exec({sql:l}),this.transactionKey=null,await this.transactionMutex.unlock()}break}this.emitMessage(s)}catch(s){this.emitMessage({type:"error",error:s,queryKey:n.queryKey})}}}),Object.defineProperty(this,"execInitStatements",{enumerable:!0,configurable:!0,writable:!0,value:()=>{if(this.db&&this.config.onInitStatements)for(let n of this.config.onInitStatements)lb(this.db,n)}}),Object.defineProperty(this,"getDatabaseInfo",{enumerable:!0,configurable:!0,writable:!0,value:async n=>{try{const s=this.config.databasePath,a=this.dbStorageType,l=a!==void 0?a!=="memory"?await navigator.storage?.persisted():!1:void 0,d=this.db?.exec({sql:"SELECT page_count * page_size AS size FROM pragma_page_count(), pragma_page_size()",returnValue:"resultRows",rowMode:"array"})?.[0]?.[0],m=typeof d=="number"?d:void 0;this.emitMessage({type:"info",queryKey:n.queryKey,info:{databasePath:s,databaseSizeBytes:m,storageType:a,persisted:l}})}catch(s){this.emitMessage({type:"error",queryKey:n.queryKey,error:s})}}}),Object.defineProperty(this,"createUserFunction",{enumerable:!0,configurable:!0,writable:!0,value:n=>{const{functionName:s,functionType:a,queryKey:l}=n;let u;if(this.userFunctions.has(s)){this.emitMessage({type:"error",error:new Error(`A user-defined function with the name "${s}" has already been created for this SQLocal instance.`),queryKey:l});return}a==="callback"?u=(...d)=>{this.emitMessage({type:"callback",name:s,args:d})}:u=this.proxy[`_sqlocal_func_${s}`];try{this.initUserFunction({type:a,name:s,func:u}),this.emitMessage({type:"success",queryKey:l})}catch(d){this.emitMessage({type:"error",error:d,queryKey:l})}}}),Object.defineProperty(this,"initUserFunction",{enumerable:!0,configurable:!0,writable:!0,value:n=>{this.db&&(this.db.createFunction({name:n.name,xFunc:(s,...a)=>n.func(...a),arity:-1}),this.userFunctions.set(n.name,n))}}),Object.defineProperty(this,"importDb",{enumerable:!0,configurable:!0,writable:!0,value:async n=>{if(!this.sqlite3||!this.config.databasePath||!this.db)return;const{queryKey:s,database:a}=n;let l=!1;try{if(this.dbStorageType==="opfs"){this.destroy();const u=await mw(a,"callback");await this.sqlite3.oo1.OpfsDb.importDb(this.config.databasePath,u)}else{const u=await mw(a,"buffer"),d=this.sqlite3.wasm.allocFromTypedArray(u);this.pointers.push(d);const m=this.sqlite3.capi.sqlite3_deserialize(this.db,"main",d,u.byteLength,u.byteLength,this.config.readOnly?this.sqlite3.capi.SQLITE_DESERIALIZE_READONLY:this.sqlite3.capi.SQLITE_DESERIALIZE_RESIZEABLE);this.db.checkRc(m),this.execInitStatements()}}catch(u){this.emitMessage({type:"error",error:u,queryKey:s}),l=!0}finally{this.dbStorageType!=="memory"&&await this.init("overwrite")}l||this.emitMessage({type:"success",queryKey:s})}}),Object.defineProperty(this,"exportDb",{enumerable:!0,configurable:!0,writable:!0,value:n=>{if(!this.sqlite3||!this.db)return;const{queryKey:s}=n;try{const a=this.sqlite3.capi.sqlite3_js_db_export(this.db);this.emitMessage({type:"buffer",queryKey:s,buffer:a},[a])}catch(a){this.emitMessage({type:"error",error:a,queryKey:s})}}}),Object.defineProperty(this,"deleteDb",{enumerable:!0,configurable:!0,writable:!0,value:async n=>{if(!this.config.databasePath)return;const{queryKey:s}=n;let a=!1;try{if(this.dbStorageType==="opfs"){const{getDirectoryHandle:l,fileName:u,tempFileNames:d}=rT(this.config.databasePath),m=await l(),g=[u,...d];this.destroy(),await Promise.all(g.map(async w=>m.removeEntry(w).catch(N=>{if(!(N instanceof DOMException&&N.name==="NotFoundError"))throw N})))}else this.destroy()}catch(l){this.emitMessage({type:"error",error:l,queryKey:s}),a=!0}finally{await this.init("delete")}a||this.emitMessage({type:"success",queryKey:s})}}),Object.defineProperty(this,"destroy",{enumerable:!0,configurable:!0,writable:!0,value:n=>{this.db&&(this.db.exec({sql:"PRAGMA optimize"}),this.db.close(),this.db=void 0,this.dbStorageType=void 0),this.reinitChannel&&(this.reinitChannel.close(),this.reinitChannel=void 0),this.pointers.forEach(s=>this.sqlite3?.wasm.dealloc(s)),this.pointers=[],n&&this.emitMessage({type:"success",queryKey:n.queryKey})}});const r=e?globalThis:N0(globalThis);this.proxy=r,this.init("initial")}}function ry(t,...e){return{sql:t.join("?"),params:e}}function i6(t){return!t.some(e=>!Array.isArray(e))}function ub(t,e){let r;return i6(t)?r=t:r=[t],r.map(n=>{const s={};return e.forEach((a,l)=>{s[a]=n[l]}),s})}function s6(t){return typeof t=="object"&&t!==null&&"getSQL"in t&&typeof t.getSQL=="function"}function o6(t){return typeof t=="object"&&t!==null&&"sql"in t&&typeof t.sql=="string"&&"params"in t}function a6(t){if(typeof t=="function"&&(t=t(ry)),s6(t))try{if(!("toSQL"in t&&typeof t.toSQL=="function"))throw 1;const n=t.toSQL();if(!o6(n))throw 2;return n}catch{throw new Error("The passed statement could not be parsed.")}const e=t.sql;let r=[];return"params"in t?r=t.params:"parameters"in t&&(r=t.parameters),{sql:e,params:r}}function cb(){return crypto.randomUUID()}function xk(t,e){let r;return typeof t=="string"?r={sql:t,params:e}:r=ry(t,...e),r}async function Pp(t,e,r,n){return!e&&"locks"in navigator?navigator.locks.request(`_sqlocal_mutation_(${r.databasePath})`,{mode:t},n):n()}class l6{constructor(e){Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"isDestroyed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"bypassMutationLock",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"userCallbacks",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"queriesInProgress",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"proxy",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reinitChannel",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"processMessageEvent",{enumerable:!0,configurable:!0,writable:!0,value:l=>{const u=l instanceof MessageEvent?l.data:l,d=this.queriesInProgress;switch(u.type){case"success":case"data":case"buffer":case"info":case"error":if(u.queryKey&&d.has(u.queryKey)){const[g,w]=d.get(u.queryKey);u.type==="error"?w(u.error):g(u),d.delete(u.queryKey)}else if(u.type==="error")throw u.error;break;case"callback":const m=this.userCallbacks.get(u.name);m&&m(...u.args??[]);break;case"event":this.config.onConnect?.(u.reason);break}}}),Object.defineProperty(this,"createQuery",{enumerable:!0,configurable:!0,writable:!0,value:async l=>Pp("shared",this.bypassMutationLock||l.type==="import"||l.type==="delete",this.config,async()=>{if(this.isDestroyed===!0)throw new Error("This SQLocal client has been destroyed. You will need to initialize a new client in order to make further queries.");const u=cb();switch(l.type){case"import":this.processor.postMessage({...l,queryKey:u},[l.database]);break;default:this.processor.postMessage({...l,queryKey:u});break}return new Promise((d,m)=>{this.queriesInProgress.set(u,[d,m])})})}),Object.defineProperty(this,"exec",{enumerable:!0,configurable:!0,writable:!0,value:async(l,u,d="all",m)=>{const g=await this.createQuery({type:"query",transactionKey:m,sql:l,params:u,method:d}),w={rows:[],columns:[]};return g.type==="data"&&(w.rows=g.data[0]?.rows??[],w.columns=g.data[0]?.columns??[]),w}}),Object.defineProperty(this,"execBatch",{enumerable:!0,configurable:!0,writable:!0,value:async l=>{const u=await this.createQuery({type:"batch",statements:l}),d=new Array(l.length).fill({rows:[],columns:[]});return u.type==="data"&&u.data.forEach((m,g)=>{d[g]=m}),d}}),Object.defineProperty(this,"sql",{enumerable:!0,configurable:!0,writable:!0,value:async(l,...u)=>{const d=xk(l,u),{rows:m,columns:g}=await this.exec(d.sql,d.params,"all");return ub(m,g)}}),Object.defineProperty(this,"batch",{enumerable:!0,configurable:!0,writable:!0,value:async l=>{const u=l(ry);return(await this.execBatch(u)).map(({rows:m,columns:g})=>ub(m,g))}}),Object.defineProperty(this,"beginTransaction",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{const l=cb();await this.createQuery({type:"transaction",transactionKey:l,action:"begin"});const u=async w=>{const N=a6(w),{rows:k,columns:O}=await this.exec(N.sql,N.params,"all",l);return ub(k,O)};return{query:u,sql:async(w,...N)=>{const k=xk(w,N);return await u(k)},commit:async()=>{await this.createQuery({type:"transaction",transactionKey:l,action:"commit"})},rollback:async()=>{await this.createQuery({type:"transaction",transactionKey:l,action:"rollback"})}}}}),Object.defineProperty(this,"transaction",{enumerable:!0,configurable:!0,writable:!0,value:async l=>Pp("exclusive",!1,this.config,async()=>{let u;this.bypassMutationLock=!0;try{u=await this.beginTransaction();const d=await l({sql:u.sql,query:u.query});return await u.commit(),d}catch(d){throw await u?.rollback(),d}finally{this.bypassMutationLock=!1}})}),Object.defineProperty(this,"createCallbackFunction",{enumerable:!0,configurable:!0,writable:!0,value:async(l,u)=>{await this.createQuery({type:"function",functionName:l,functionType:"callback"}),this.userCallbacks.set(l,u)}}),Object.defineProperty(this,"createScalarFunction",{enumerable:!0,configurable:!0,writable:!0,value:async(l,u)=>{const d=`_sqlocal_func_${l}`;this.proxy===globalThis&&(this.proxy[d]=u),await this.createQuery({type:"function",functionName:l,functionType:"scalar"}),this.proxy!==globalThis&&(this.proxy[d]=u)}}),Object.defineProperty(this,"getDatabaseInfo",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{const l=await this.createQuery({type:"getinfo"});if(l.type==="info")return l.info;throw new Error("The database failed to return valid information.")}}),Object.defineProperty(this,"getDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{let l,u;const{storageType:d}=await this.getDatabaseInfo();if(d==="opfs"){const m=rT(this.config.databasePath),{directories:g,getDirectoryHandle:w}=m;l=m.fileName;const N=`backup-${Date.now()}--${l}`,k=`${g.join("/")}/${N}`;await this.exec("VACUUM INTO ?",[k]);const O=await w();u=await (await (await O.getFileHandle(N)).getFile()).arrayBuffer(),await O.removeEntry(N)}else{const m=await this.createQuery({type:"export"});if(m.type==="buffer")l="database.sqlite3",u=m.buffer;else throw new Error("The database failed to export.")}return new File([u],l,{type:"application/x-sqlite3"})}}),Object.defineProperty(this,"overwriteDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async(l,u)=>{await Pp("exclusive",!1,this.config,async()=>{try{const d=await mw(l);await this.createQuery({type:"import",database:d}),typeof u=="function"&&(this.bypassMutationLock=!0,await u()),this.reinitChannel.postMessage({clientKey:this.clientKey,reason:"overwrite"})}finally{this.bypassMutationLock=!1}})}}),Object.defineProperty(this,"deleteDatabaseFile",{enumerable:!0,configurable:!0,writable:!0,value:async l=>{await Pp("exclusive",!1,this.config,async()=>{try{await this.createQuery({type:"delete"}),typeof l=="function"&&(this.bypassMutationLock=!0,await l()),this.reinitChannel.postMessage({clientKey:this.clientKey,reason:"delete"})}finally{this.bypassMutationLock=!1}})}}),Object.defineProperty(this,"destroy",{enumerable:!0,configurable:!0,writable:!0,value:async()=>{await this.createQuery({type:"destroy"}),this.processor instanceof Worker&&(this.processor.removeEventListener("message",this.processMessageEvent),this.processor.terminate()),this.queriesInProgress.clear(),this.userCallbacks.clear(),this.reinitChannel.close(),this.isDestroyed=!0}});const r=typeof e=="string"?{databasePath:e}:e,{onInit:n,onConnect:s,...a}=r;this.config=r,this.clientKey=cb(),this.reinitChannel=new BroadcastChannel(`_sqlocal_reinit_(${a.databasePath})`),typeof globalThis.Worker<"u"&&a.databasePath!==":memory:"?(this.processor=new Worker(new URL("/assets/worker-DxuAzsZq.js",import.meta.url),{type:"module"}),this.processor.addEventListener("message",this.processMessageEvent),this.proxy=N0(this.processor)):(this.processor=new n6(!0),this.processor.onmessage=l=>this.processMessageEvent(l),this.proxy=globalThis),this.processor.postMessage({type:"config",config:{...a,clientKey:this.clientKey,onInitStatements:n?.(ry)??[]}})}}class u6 extends l6{constructor(){super(...arguments),Object.defineProperty(this,"dialect",{enumerable:!0,configurable:!0,writable:!0,value:{createAdapter:()=>new HW,createDriver:()=>new c6(this),createIntrospector:e=>new VW(e),createQueryCompiler:()=>new WW}})}}class c6{constructor(e){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:e})}async init(){}async acquireConnection(){return new d6(this.client)}async releaseConnection(){}async beginTransaction(e){e.transaction=await this.client.beginTransaction()}async commitTransaction(e){await e.transaction?.commit(),e.transaction=null}async rollbackTransaction(e){await e.transaction?.rollback(),e.transaction=null}async destroy(){await this.client.destroy()}}class d6{constructor(e){Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"transaction",{enumerable:!0,configurable:!0,writable:!0,value:null})}async executeQuery(e){let r;return this.transaction===null?r=await this.client.sql(e.sql,...e.parameters):r=await this.transaction.query(e),{rows:r}}async *streamQuery(){throw new Error("SQLite3 does not support streaming.")}}const f6=({database:t,bootstrap:e})=>{const{dialect:r}=new u6({databasePath:`${t}.sqlite3`}),n=new Ba({dialect:r});return{kysely:n,bootstrap(){return e({kysely:n})}}},Js=hr({slot:{base:["border","border-gray-300","rounded-md","p-4","flex","flex-col","gap-2","items-center"],input:["w-full","border","border-gray-300","rounded-md","p-2","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"]},variant:{isLoading:{true:[]},isSubmitting:{true:[]}},match:[{if:{isSubmitting:!0},then:{base:["opacity-50","pointer-events-none","select-none"]}}],defaults:{isLoading:!1,isSubmitting:!1}}),h6="icon-[material-symbols--error-outline]",p6=hr({slot:{base:["flex","flex-row","gap-1","items-center","text-red-600","p-2"]},variant:{highlight:{true:[]},compact:{true:[]}},match:[{if:{highlight:!0},then:{base:["bg-red-100","p-2","font-bold","border","border-red-200","rounded-md","w-full"]}},{if:{compact:!0},then:{base:["p-0"]}}],defaults:{highlight:!1,compact:!1}}),ks=({error:t,variant:e,tva:r=p6,css:n})=>{const s=r({...e,css:n}).slots;return t?.message?y.jsxs("div",{className:s.base(),children:[y.jsx(Er,{icon:h6}),y.jsx("span",{children:Dr.rich(t.message)})]}):null},m6=hr({slot:{base:["flex","flex-col","gap-1","w-full"],input:[]},variant:{required:{true:[]},disabled:{true:[]},isSubmitting:{true:[]},isLoading:{true:[]},isError:{true:[]}},match:[{if:{isError:!0},then:{base:["text-red-600"]}},{if:{required:!0},then:{base:["text-amber-600"]}}],defaults:{required:!1,disabled:!1,isSubmitting:!1,isLoading:!1,isError:!1}}),Tr=({label:t,hint:e,required:r=!1,formState:n,name:s,children:a,variant:l,tva:u=m6,css:d})=>{const m=u({isSubmitting:n.isSubmitting,isLoading:n.isLoading,isError:!!n.errors[s],required:r,...l,css:d}).slots;return y.jsxs("div",{className:m.base(),children:[y.jsxs("div",{className:"flex flex-row justify-between",children:[t?y.jsx("label",{htmlFor:s,children:t}):null,y.jsx(ks,{variant:{compact:!0},error:n.errors[s]})]}),e?y.jsx("div",{className:"text-sm italic",children:e}):null,y.jsx("div",{className:m.input(),children:a})]})},na=({form:t,mutation:e,onSuccess:r})=>{const n=t.handleSubmit(async s=>e.mutateAsync(s,{onSuccess:r,onError:a=>{Vw({error:a,errors:[Bw({error:a,schema:Uw,onError:({data:l})=>{t.setError("root",{message:l.message})}})],onError:l=>{t.setError("root",{message:l.message})}})}}).catch(()=>{}));return s=>{s.stopPropagation(),n(s)}};function y6(t,e,r,n={leading:!1}){const[s,a]=Q.useState(t),[l,u]=Q.useState(t),d=Q.useRef(null),m=Q.useRef(!0),g=()=>window.clearTimeout(d.current||void 0);Q.useEffect(()=>g,[]),Q.useEffect(()=>{e(s)},[s]),Q.useEffect(()=>{u(t),a(t)},[t]);const w=Q.useCallback(N=>{u(N),g(),m.current&&n.leading?a(N):d.current=window.setTimeout(()=>{m.current=!0,a(N)},r),m.current=!1},[n.leading]);return[l,w]}const g6=hr({slot:{base:["relative","w-full"],search:["absolute","inset-y-0","left-2","flex","items-center","pointer-events-none","text-slate-500"],input:["pl-8","py-1","w-full","bg-slate-50","text-slate-900","text-sm","border","border-slate-300","rounded","focus:border-sky-400","focus:outline-none","block"],clear:["absolute","inset-y-0","right-2","flex","items-center","cursor-pointer","text-slate-300","hover:text-slate-500"]},variant:{},defaults:{}}),v6=({value:t="",onFulltext:e,textPlaceholder:r,variant:n,tva:s=g6,css:a})=>{const l=s({...n,css:a}).slots,[u,d]=y6(t,m=>{e(m||"")},500);return y.jsxs("div",{className:l.base(),children:[y.jsx("div",{className:l.search(),children:y.jsx(Er,{icon:"icon-[material-symbols-light--search]",variant:{size:"xl"}})}),y.jsx("input",{value:u||"",className:l.input(),type:"text",placeholder:r||Dr.text("Fulltext (placeholder)"),onChange:m=>{d(m.target.value)}}),t&&y.jsx("div",{className:l.clear(),onClick:()=>{e("")},children:y.jsx(Er,{icon:"icon-[gridicons--cross]",variant:{size:"md"}})})]})},Ff="icon-[pajamas--go-back]",ny="icon-[line-md--confirm-circle]",_6="icon-[mage--edit]",b6="icon-[arcticons--nothing-x]",w6="icon-[tabler--filter-plus]",Sk="icon-[tabler--filter-minus]",I0="icon-[ph--list-dashes-thin]",O0="icon-[material-symbols-light--logout-sharp]",x6="icon-[fluent--shape-intersect-20-regular]",Vy="icon-[fluent--checkbox-unchecked-20-regular]",Hy="icon-[fluent--checkbox-checked-20-regular]",S6="icon-[ph--gear-thin]",iy="icon-[teenyicons--tag-outline]",xo="icon-[ph--trash]",C0="icon-[ph--user]",E6=async({queryClient:t,keys:e})=>Promise.all(e.map(r=>t.refetchQueries({queryKey:r}))).catch(r=>{console.error(r)}),N6=hr({slot:{base:[],header:["flex","flex-row","items-center","bg-slate-50","shadow-sm","border-b","border-b-slate-200","w-full","gap-4","p-4"],content:["min-h-screen","border-b","border-b-slate-200","mb-4","p-2"]},variant:{},defaults:{}}),k6=()=>y.jsx("div",{className:"text-center text-xs text-gray-500 mb-8",children:void 0}),nT=({logo:t,menu:e,actions:r,variant:n,tva:s=N6,css:a,children:l})=>{const u=s({...n,css:a}).slots;return y.jsxs("div",{className:u.base(),children:[y.jsx(CP,{position:"top-center"}),y.jsxs("div",{className:u.header(),children:[y.jsx("div",{children:t}),y.jsx("div",{className:"flex-grow",children:e}),y.jsx("div",{className:"flex flex-row gap-2 items-center",children:r})]}),y.jsx("div",{className:u.content(),children:l??y.jsx(ol,{})}),y.jsx(k6,{})]})},I6=hr({slot:{base:["flex","flex-row","gap-2","items-center","justify-between","text-blue-500","rounded","px-1","py-0.5","hover:text-blue-700","focus:outline-none","w-fit"]},variant:{},defaults:{}}),O6=Q.forwardRef(({icon:t,iconProps:e,variant:r,tva:n=I6,css:s,children:a,...l},u)=>{const d=n({...r,css:s}).slots;return y.jsxs("a",{...l,ref:u,className:d.base(),children:[t&&y.jsx(Er,{icon:t,...e}),a]})}),C6=CI(O6),Yn=t=>y.jsx(C6,{preload:"intent",...t}),T6=hr({slot:{base:["fixed","inset-0","h-full","items-center","justify-center","bg-slate-100","flex","transition-all","duration-200","z-[10]","pointer-events-none","bg-opacity-0","backdrop-blur-none"]},variant:{show:{true:["bg-opacity-50","backdrop-blur-sm","pointer-events-auto"]}},defaults:{show:!0}}),q6=({show:t=!0,variant:e,tva:r=T6,css:n})=>{const s=r({show:t,...e,css:n}).slots;return t?y.jsx("div",{className:s.base(),children:y.jsx(Er,{icon:"icon-[svg-spinners--pulse-rings-multiple]",variant:{size:"8xl"},css:{base:["text-sky-400"]}})}):null};var om={exports:{}},R6=om.exports,Ek;function A6(){return Ek||(Ek=1,function(t,e){(function(r,n){t.exports=n()})(R6,()=>(()=>{var r={d:(O,C)=>{for(var A in C)r.o(C,A)&&!r.o(O,A)&&Object.defineProperty(O,A,{enumerable:!0,get:C[A]})},o:(O,C)=>Object.prototype.hasOwnProperty.call(O,C)},n={};r.d(n,{default:()=>k});const s=(...O)=>{},a=O=>O!==null&&O?.constructor.name==="Object";let l,u;const d=()=>{if(!l){l=!0;try{u=w.storage||localStorage,u.getItem("")}catch{u=(()=>{const O={getItem:A=>C[A]||null,setItem:(A,D)=>{C[A]=D},removeItem:A=>{C[A]=void 0},clear:()=>{C={__proto__:O}}};let C={__proto__:O};return C})()}N()}},m="\0",g=(O,C,A=!0)=>A?[...JSON.stringify(O)].map(D=>String.fromCharCode(D.charCodeAt(0)+C)).join(""):JSON.parse([...O].map(D=>String.fromCharCode(D.charCodeAt(0)-C)).join("")),w={ttl:null,encrypt:!1,encrypter:g,decrypter:(O,C)=>g(O,C,!1),secret:75,storage:void 0};Object.seal(w);const N=(O=!1)=>{d();for(const C of Object.keys(u)){const A=u.getItem(C);let D;try{D=JSON.parse(A||"")}catch{continue}a(D)&&m in D&&(Date.now()>D.ttl||O)&&u.removeItem(C)}},k={config:w,set:(O,C,A={})=>{d();const D={...w,...A,encrypt:A.encrypt!==!1&&(A.encrypt||w.encrypt),ttl:A.ttl===null?null:A.ttl||w.ttl};try{const j=D.ttl&&!isNaN(D.ttl)&&D.ttl>0;let $=j?{[m]:C,ttl:Date.now()+1e3*D.ttl}:C;D.encrypt&&(j?$[m]=(D.encrypter||s)($[m],D.secret):$=(D.encrypter||s)($,D.secret)),u.setItem(O,JSON.stringify($))}catch{return!1}},get:(O,C={})=>{d();const A=u.getItem(O),D={...w,...C,encrypt:C.encrypt!==!1&&(C.encrypt||w.encrypt),ttl:C.ttl===null?null:C.ttl||w.ttl};let j,$;try{j=JSON.parse(A||""),$=a(j)&&m in j,(D.decrypt||D.encrypt)&&($?j[m]=(D.decrypter||s)(j[m],D.secret):j=(D.decrypter||s)(j,D.secret))}catch{}return $?Date.now()>j.ttl?(u.removeItem(O),null):j[m]:j!==void 0?j:A},flush:N,clear:()=>{d(),u.clear()},remove:O=>{d(),u.removeItem(O)}};return n.default})())}(om)),om.exports}var P6=A6();const F6=Nc(P6),ih=F6,j6=hr({slot:{base:["flex","flex-row","gap-2","items-center"]},variant:{},defaults:{}}),sh=({variant:t,tva:e=j6,css:r,children:n})=>{const s=e({...t,css:r}).slots;return y.jsx("div",{className:s.base(),children:n})},L6=hr({slot:{base:["group","relative","cursor-pointer"],label:["flex","flex-row","gap-2","items-center","rounded","px-2","py-1","border","border-b-2","border-transparent","hover:text-slate-500"],items:["flex flex-col w-max gap-2","invisible absolute","group-hover:visible","shadow-md","z-20","bg-white","px-4","py-2"]},variant:{active:{true:[]}},match:[{if:{active:!0},then:{label:["border","border-b-2","border-blue-400","bg-blue-50","hover:border-blue-500","text-slate-800","hover:text-blue-800"]}}],defaults:{active:!1}}),Nk=({icon:t,label:e,active:r=[],variant:n,tva:s=L6,css:a,children:l})=>{const u=TI(),d=r.some(g=>!!u(g)),m=s({active:d,...n,css:a}).slots;return y.jsxs("div",{className:m.base(),children:[y.jsxs("div",{className:m.label(),children:[t?y.jsx(Er,{icon:t}):null,e]}),y.jsx("div",{className:m.items(),children:l})]})},D6=hr({slot:{base:["flex","flex-row","gap-2","items-center","rounded","px-2","py-1","border","border-b-2","border-transparent","hover:text-slate-500"]},variant:{active:{true:[]},inner:{true:[]},subtle:{true:[]}},match:[{if:{active:!0,inner:!1},then:{base:["border","border-b-2","border-blue-400","bg-blue-50","hover:border-blue-500","text-slate-800","hover:text-blue-800"]}},{if:{active:!0,inner:!0},then:{base:["border-none","text-blue-600","hover:text-blue-800"]}},{if:{subtle:!0},then:{base:["hover:bg-slate-50","hover:border-slate-300","hover:text-slate-600"]}},{if:{active:!0,subtle:!0},then:{base:["bg-slate-100","border-slate-400"]}}],defaults:{active:!1,inner:!1,subtle:!1}}),M6=Q.forwardRef(({icon:t=null,variant:e,tva:r=D6,css:n,children:s,...a},l)=>{const u=r({...e,css:n}).slots;return y.jsxs("a",{...a,className:u.base(),ref:l,children:[Iy(t)?y.jsx(Er,{icon:t}):t,s]})}),B6=CI(M6),fn=({active:t=[],variant:e,...r})=>{const n=TI(),s=t.some(a=>!!n(a));return y.jsx(B6,{preload:"intent",variant:{active:!!n({to:r.to,params:r.params})||s,...e},...r})},$6=hr({slot:{base:["flex","flex-row","items-center","gap-2","text-sm","font-semibold"],item:["border","border-blue-200","bg-blue-50","rounded-md","px-2","py-1"]},variant:{},defaults:{}}),W6=({textTitle:t,textEmpty:e,items:r,render:n,limit:s,variant:a,tva:l=$6,css:u})=>{const d=s?r.slice(0,s):r,m=l({...a,css:u}).slots;return y.jsxs("div",{className:m.base(),children:[r.length?null:e,d.map(g=>y.jsx(n,{entity:g},`items-${g.id}`)),s&&r.length>s&&y.jsx(Ly,{title:t,target:y.jsx(a0,{iconEnabled:lC}),outside:!0,children:y.jsx("div",{className:"flex flex-col gap-2",children:r.map(g=>y.jsx(n,{entity:g},`items-${g.id}`))})})]})},z6=hr({slot:{base:[]},variant:{},defaults:{}}),K=({label:t,fallback:e,variant:r,tva:n=z6,css:s})=>{const a=n({...r,css:s}).slots;return y.jsx("div",{className:a.base(),children:Dr.rich(t,e)})},iT=hr({slot:{base:["flex","flex-col","gap-2"],input:["py-2","px-2","flex","flex-row","gap-2","items-center","cursor-pointer","hover:bg-slate-50","border","border-gray-300","rounded-md","text-slate-400","hover:text-slate-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent"],content:[],footer:["flex","items-center","justify-between","gap-2","border-t-2","border-slate-100","mt-4","pt-2"]},variant:{loading:{true:[]},selected:{true:[]}},match:[{if:{loading:!0},then:{input:["text-slate-300"]}},{if:{selected:!0},then:{input:["bg-slate-50","text-slate-700","hover:bg-slate-100","hover:text-slate-800"]}}],defaults:{loading:!1,selected:!1}}),U6=hr({use:iT,slot:{},variant:{},defaults:{}}),V6=({icon:t,titleText:e,modalProps:r,table:n,render:s,allowEmpty:a=!1,source:l,useListQuery:u,value:d,onChange:m,variant:g,tva:w=U6,css:N})=>{const k=w({...g,css:N}).slots,[O,C]=Q.useState(0),[A,D]=Q.useState(15),[j,$]=Q.useState(d||[]),[V,G]=Q.useState(void 0),B=u({source:l,filter:{fulltext:V},cursor:{page:O,size:A}}),Z=u({source:l,where:{idIn:d},options:{enabled:!!d}});return y.jsx(Ly,{icon:t,target:y.jsxs("label",{className:k.input({loading:Z.isLoading,selected:!!Z.data?.data.length}),children:[y.jsx(Er,{icon:Z.data?.data?.length?Hy:Vy}),Z.data&&Z.data.data.length?y.jsx(s,{entities:Z.data.data}):y.jsx(K,{label:"Select item (label)"})]}),title:e,variant:{loading:B.isLoading},disabled:B.isLoading,...r,children:y.jsxs("div",{className:k.base(),children:[y.jsx("div",{className:k.content(),children:y.jsx(n,{cursor:{cursor:{page:O,size:A},count:B.data?.count?B.data.count:{filter:-1,total:-1,where:-1},textTotal:y.jsx(K,{label:"Total count of items (label)"}),onPage(ie){C(ie)},onSize(ie){D(ie),C(0)}},fulltext:{value:V,set(ie){G(ie)}},table:{data:B.data?.data??[],selection:{type:"multi",value:j,set(ie){$(ie)}}}})}),y.jsx(rs.Consumer,{children:ie=>y.jsxs("div",{className:k.footer(),children:[y.jsx(Sn,{iconEnabled:Ff,iconDisabled:Ff,onClick:()=>{ie?.close()},variant:{variant:"subtle"},children:y.jsx(K,{label:"Close (label)"})}),y.jsx(Sn,{iconEnabled:ny,iconDisabled:ny,disabled:!j.length&&!a,onClick:()=>{m(j),ie?.close()},children:y.jsx(K,{label:"Confirm selection (label)"})})]})})]})})},sT=({icon:t,titleText:e,modalProps:r,table:n,render:s,allowEmpty:a=!1,source:l,useListQuery:u,value:d,onChange:m,variant:g,tva:w=iT,css:N})=>{const k=w({...g,css:N}).slots,[O,C]=Q.useState(0),[A,D]=Q.useState(10),[j,$]=Q.useState(d?[d]:[]),[V,G]=Q.useState(void 0),B=u({source:l,where:{fulltext:V},cursor:{page:O,size:A}}),Z=u({source:l,where:{id:d},options:{enabled:!!d}});return y.jsx(Ly,{icon:t,target:y.jsxs("label",{className:k.input({loading:Z.isLoading,selected:!!Z.data?.data?.length}),children:[y.jsx(Er,{icon:Z.data?.data?.[0]?Hy:Vy}),Z.data?.data?.[0]?y.jsx(s,{entity:Z.data?.data?.[0]}):y.jsx(K,{label:"Select item (label)"})]}),title:e,variant:{loading:B.isLoading},disabled:B.isLoading,...r,children:y.jsxs("div",{className:k.base(),children:[y.jsx("div",{className:k.content(),children:y.jsx(n,{cursor:{cursor:{page:O,size:A},count:B.data?.count?B.data.count:{filter:-1,total:-1,where:-1},textTotal:y.jsx(K,{label:"Total count of items (label)"}),onPage(ie){C(ie)},onSize(ie){D(ie)}},fulltext:{value:V,set(ie){G(ie)}},table:{data:B.data?.data??[],selection:{type:"single",value:j,set(ie){$(ie)}}}})}),y.jsx(rs.Consumer,{children:ie=>y.jsxs("div",{className:k.footer(),children:[y.jsx(Sn,{iconEnabled:Ff,iconDisabled:Ff,onClick:()=>{ie?.close()},variant:{variant:"subtle"},children:y.jsx(K,{label:"Close (label)"})}),y.jsx(Sn,{iconEnabled:ny,iconDisabled:ny,disabled:!j.length&&!a,onClick:()=>{m(j?.[0]),ie?.close()},children:y.jsx(K,{label:"Confirm selection (label)"})})]})})]})})},H6=hr({slot:{base:["bg-blue-50","p-2","rounded-md","border","border-blue-200"],container:["grid","grid-cols-2","grid-rows-2","gap-1"],title:["col-span-1","row-span-1","border-b","border-b-slate-300","pb-2"],links:["col-span-1","row-span-1","border-b","border-b-slate-300","pb-2","flex","flex-row","items-center","gap-4","justify-end"],actions:["col-span-1","row-span-1","flex","flex-row","items-center","gap-4"],extra:["col-span-1","row-span-1","flex","flex-row","gap-4","justify-end"]},variant:{},defaults:{}}),T0=({entity:t,title:e=()=>null,links:r=()=>null,actions:n=()=>null,extra:s=()=>null,variant:a,tva:l=H6,css:u})=>{const d=l({...a,css:u}).slots;return y.jsx(l0.Provider,{value:{inline:!0},children:y.jsx("div",{className:d.base(),children:y.jsxs("div",{className:d.container(),children:[y.jsx("div",{className:d.title(),children:y.jsx(e,{entity:t})}),y.jsx("div",{className:d.links(),children:y.jsx(r,{entity:t})}),y.jsx("div",{className:d.actions(),children:y.jsx(n,{entity:t})}),y.jsx("div",{className:d.extra(),children:y.jsx(s,{entity:t})})]})})})},Q6=t=>e=>{t({search:({cursor:r,...n})=>({...n,cursor:{...r,page:e}})})},K6=t=>e=>{t({search:({cursor:r,...n})=>({...n,cursor:{...r,size:e,page:0}})})},ei=t=>({onPage:Q6(t),onSize:K6(t)}),ti=t=>e=>t({search:({cursor:r,...n})=>({...n,filter:e,cursor:{...r,page:0}})}),ri=t=>e=>{t({search:({cursor:r,filter:n,...s})=>({...s,filter:{...n,fulltext:e},cursor:{...r,page:e?0:r.page}}),replace:!!e})},yi=t=>e=>{t({search(r){return{...r,selection:e}}})},G6=hr({slot:{base:["flex","flex-col","gap-4"],content:["text-bold","text-red-500","font-bold"],footer:["flex","flex-row","items-center","justify-between","gap-4"]},variant:{},defaults:{}}),J6=({source:t,wrap:e=s=>s(),onSuccess:r,options:n})=>{const s=il(),a=Ai();return sl({mutationKey:["useRemoveMutation",t.name],async mutationFn({where:l,filter:u}){return e(async()=>t.db.transaction().execute(async d=>{const m=await t.delete$({tx:d,where:l,filter:u});return await r?.({queryClient:s,router:a,entity:m}),m}))},...n})},ia=({source:t,textContent:e,filter:r,onCancel:n,invalidator:s,variant:a,tva:l=G6,css:u})=>{const d=l({...a,css:u}).slots,m=Q.useContext(rs),g=J6({source:t,async wrap(w){return TP.promise(w(),{loading:y.jsx(K,{label:"Deleting... (label)"}),success:y.jsx(K,{label:"Items deleted (label)"}),error:y.jsx(K,{label:"Items cannot be removed (label)"})})},options:{async onSuccess(){await s?.(),m?.close()}}});return y.jsxs("div",{className:d.base(),children:[y.jsx("div",{className:d.content(),children:e}),y.jsxs("div",{className:d.footer(),children:[y.jsx(Sn,{variant:{variant:"subtle",size:"sm"},iconEnabled:Ff,onClick:()=>{m?.close(),n?.()},children:y.jsx(K,{label:"Cancel (button)"})}),y.jsx(Sn,{variant:{variant:"danger",size:"md"},iconEnabled:xo,onClick:()=>g.mutate({filter:r}),children:y.jsx(K,{label:"Delete (button)"})})]})]})},Z6=({source:t,where:e,filter:r,options:n})=>Ew({queryKey:["useCountQuery",t.name,{where:e,filter:r}],async queryFn(){return t.db.transaction().execute(async s=>t.count$({tx:s,where:e,filter:r}))},...n}),sa=({source:t,wrap:e=async s=>s(),toCreate:r=async({shape:s})=>({entity:s,shape:s}),onSuccess:n})=>{const s=il(),a=Ai();return sl({mutationKey:["useCreateMutation",t.name],async mutationFn(l){return e(async()=>t.db.transaction().execute(async u=>{const d=await t.create$({tx:u,...await r({shape:l}),shape:l});return await n?.({queryClient:s,router:a,entity:d}),d}))}})},Wn=async({tx:t,queryClient:e,source:r,where:n,filter:s,cursor:a,sort:l})=>e.ensureQueryData({queryKey:["withListCountLoader",r.name,{where:n,filter:s,cursor:a,sort:l}],async queryFn(){return{data:await r.list$({tx:t,where:n,filter:s,cursor:a,sort:l}),count:await r.count$({tx:t,where:n,filter:s})}}}),q0=({source:t,where:e,filter:r,cursor:n,options:s})=>{const a=il();return Ew({queryKey:["useListQuery",t.name,{where:e,filter:r,cursor:n}],async queryFn(){return t.db.transaction().execute(async l=>Wn({queryClient:a,tx:l,source:t,where:e,filter:r,cursor:n}))},...s})},So=({source:t,wrap:e=async s=>s(),toPatch:r,onSuccess:n})=>{const s=il(),a=Ai();return sl({mutationKey:["usePatchMutation",t.name],async mutationFn(l){return e(async()=>t.db.transaction().execute(async u=>{const d=await t.patch$({tx:u,entity:l,shape:l,...await r({shape:l})});return await n?.({queryClient:s,router:a,entity:d}),d}))}})},oa=({sources:t,route:e=!0,queries:r=[]})=>{const n=il(),s=Ai();return async()=>{await E6({queryClient:n,keys:[...t.map(({name:a})=>["withCountLoader",a]),...t.map(({name:a})=>["withFetchLoader",a]),...t.map(({name:a})=>["withListLoader",a]),...t.map(({name:a})=>["useListQuery",a]),...t.map(({name:a})=>["withListCountLoader",a]),...t.map(({name:a})=>["useCountQuery",a]),...r]}),e&&await s.invalidate()}},R0=async({tx:t,queryClient:e,source:r,where:n,filter:s})=>e.ensureQueryData({queryKey:["withFetchLoader",r.name,{where:n,filter:s}],async queryFn(){return r.fetchOrThrow$({tx:t,where:n,filter:s})}}),ni=t=>{const e="input"in t?t.input:"input",r="output"in t?t.output:"output",n="schema"in t?t.schema._input:t._input,s="schema"in t?t.schema._output:t._output;return{types:{input:e==="output"?s:n,output:r==="input"?n:s},parse:a=>"schema"in t?t.schema.parse(a):t.parse(a)}},Fp=(t,e)=>de.custom().pipe(t.catch(e)),ii=({filter:t,sort:e})=>de.object({filter:Fp(t.optional(),void 0),cursor:Fp(jM,{page:0,size:15}).default({page:0,size:15}),sort:Fp(e.optional(),void 0),selection:Fp(de.array(de.string()),[]).default([])}),Y6=hr({slot:{base:["w-full","flex","flex-col","items-center","justify-center"],title:["text-xl","text-bold"],message:["text-base","text-slate-500"],body:["pt-2"]},variant:{},defaults:{}}),oT=({textTitle:t,textMessage:e,icon:r,iconProps:n,variant:s,tva:a=Y6,css:l,children:u})=>{const d=a({...s,css:l}).slots;return y.jsxs("div",{className:d.base(),children:[r?y.jsx(Er,{icon:r,variant:{size:"6xl"},css:{base:["text-slate-500","opacity-50"]},...n}):null,y.jsx("div",{className:d.title(),children:t}),y.jsx("div",{className:d.message(),children:e}),y.jsx("div",{className:d.body(),children:u})]})},A0=hr({slot:{base:["min-w-full","flex","flex-col","gap-2","text-sm"],table:["min-w-full","w-max","table-fixed"],thead:["border","border-slate-200","bg-slate-100"],th:["text-left","px-2","py-1","border-t","border-b","border-slate-300"],tbody:[],tr:["border-b","border-b-slate-200","odd:bg-slate-50","hover:bg-purple-100","hover:border-purple-300"],td:["px-2","py-1"],tfoot:[],select:["cursor-pointer","text-slate-400","hover:text-slate-600"]},variant:{selected:{true:[]}},match:[{if:{selected:!0},then:{tr:["bg-blue-100","odd:bg-blue-50","border-blue-300"],select:["text-slate-600"]}}],defaults:{selected:!1}}),X6=({table:t,cell:{column:e,data:r,value:n},variant:s,tva:a=A0,css:l})=>{const u=e.def.render,d=a({...s,css:l}).slots;return y.jsx("td",{className:d.td(),children:y.jsxs("div",{className:"group flex flex-row items-center gap-2 justify-between",children:[y.jsx(u,{table:t,data:r,value:n,context:t.context}),e.filter&&!e.filter.is()?y.jsx(Er,{icon:w6,css:{base:["group-hover:visible","invisible","opacity-50 hover:opacity-100","cursor-pointer"]},variant:{size:"xl"},onClick:()=>{e.filter&&(e.def.filter?.onFilter({data:r,filter:e.filter}),window.scrollTo({top:0,behavior:"smooth"}))}}):null]})})},ez=({table:t,row:e,action:r,variant:n,tva:s=A0,css:a})=>{const l=s({...n,css:a}).slots,u=r?.table,d=r?.row;return y.jsxs("tr",{className:l.tr({selected:t.selection.isSelected(e)}),children:[u||d||t.selection.enabled?y.jsx("td",{className:"w-0",children:y.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.selection.enabled?y.jsx(Er,{icon:t.selection.isSelected(e)?Hy:Vy,css:{base:l.select({selected:t.selection.isSelected(e)})},onClick:t.selection.withRowHandler(e)}):null,d?y.jsx(d,{table:t,data:e.data}):null]})}):null,e.cells.map(m=>y.jsx(X6,{table:t,cell:m,variant:n,tva:s,css:a},`${e.id}-${m.column.id}`)),y.jsx("td",{})]})},is=({table:t,fulltext:e,cursor:r,empty:n=()=>y.jsx(oT,{icon:b6,textTitle:y.jsx(K,{label:"Nothing here"}),textMessage:y.jsx(K,{label:"There is nothing to see right now."})}),action:s,variant:a,tva:l=A0,css:u})=>{const d=l({...a,css:u}).slots,m=s?.table,g=s?.row;return y.jsxs("div",{className:d.base(),children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("div",{className:"flex items-center gap-6 w-1/3",children:e?y.jsx(v6,{value:e.value,onFulltext:e.set}):null}),y.jsxs("div",{className:"flex flex-row items-center justify-center gap-2",children:[y.jsx(Q1,{...r}),t.filter.is()&&y.jsx(a0,{iconEnabled:Sk,css:{base:["text-amber-500"]},onClick:()=>t.filter.reset()})]})]}),y.jsx("div",{className:"relative overflow-x-auto",children:y.jsxs("table",{className:d.table(),children:[y.jsx("thead",{className:d.thead(),children:y.jsxs("tr",{children:[m||g||t.selection.enabled?y.jsx("th",{className:"w-0",children:y.jsxs("div",{className:"flex flex-row items-center gap-2",children:[t.selection.enabled?y.jsx(Er,{icon:t.selection.isAll()?Hy:t.selection.isAny()?x6:Vy,variant:{disabled:t.selection.isSingle},css:{base:d.select({selected:t.selection.isAny()})},onClick:t.selection.withAllHandler()}):null,m?y.jsx(m,{table:t}):null]})}):null,t.visible.map(w=>{const N=w.def.header||(()=>null);return y.jsx("th",{className:d.th(),style:w.def.size?{width:`${w.def.size}rem`}:void 0,children:y.jsxs("div",{className:"flex flex-row items-center justify-between",children:[y.jsx(N,{table:t}),y.jsx("div",{className:"flex flex-row items-center gap-2",children:w.filter?.is()&&y.jsx(Er,{icon:Sk,variant:{size:"md"},css:{base:["opacity-50","hover:opacity-100","cursor-pointer"]},onClick:()=>{w.filter?.reset()}})})]})},w.id)}),y.jsx("th",{})]})}),t.isEmpty?null:y.jsx("tbody",{className:d.tbody(),children:t.rows?.map(w=>y.jsx(ez,{row:w,table:t,action:s,variant:a,tva:l,css:u},w.id))})]})}),t.isEmpty?y.jsx(n,{}):null,y.jsxs("div",{className:"flex flex-row items-center justify-end gap-2",children:[y.jsx("div",{}),y.jsx(Q1,{...r})]})]})},Ln=[];for(let t=0;t<256;++t)Ln.push((t+256).toString(16).slice(1));function tz(t,e=0){return(Ln[t[e+0]]+Ln[t[e+1]]+Ln[t[e+2]]+Ln[t[e+3]]+"-"+Ln[t[e+4]]+Ln[t[e+5]]+"-"+Ln[t[e+6]]+Ln[t[e+7]]+"-"+Ln[t[e+8]]+Ln[t[e+9]]+"-"+Ln[t[e+10]]+Ln[t[e+11]]+Ln[t[e+12]]+Ln[t[e+13]]+Ln[t[e+14]]+Ln[t[e+15]]).toLowerCase()}let db;const rz=new Uint8Array(16);function nz(){if(!db){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");db=crypto.getRandomValues.bind(crypto)}return db(rz)}const iz=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),kk={randomUUID:iz};function Ik(t,e,r){if(kk.randomUUID&&!e&&!t)return kk.randomUUID();t=t||{};const n=t.random||(t.rng||nz)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,tz(n)}const ss=({columns:t,order:e=t.map(d=>d.name),hidden:r=[],visible:n=t.map(d=>d.name),data:s,filter:a,selection:l,context:u})=>{const d={...a?.value||{}},m=g1(d||{}),g=new Set(l?.value),w=t.map(k=>({id:Ik(),def:k,filter:k.filter?{is(){return k.filter?m.get(k.filter.path)!==void 0:!1},reset(){k.filter&&m.set(k.filter.path,void 0),a?.set({...d})},shallow(O,C){k.filter&&m.set(O,C),a?.set({...d})},set(O){a?.set({...O})}}:void 0})),N=w.filter(k=>n.includes(k.def.name)&&!r.includes(k.def.name)).sort((k,O)=>{const C=e.indexOf(k.def.name),A=e.indexOf(O.def.name);return(C===-1?1/0:C)-(A===-1?1/0:A)});return{columns:w,visible:N,rows:s?.map(k=>({id:Ik(),data:k,cells:N.map(O=>({column:O,data:k,value:g1(k).get(O.def.name)}))})),isEmpty:s.length===0,filter:{is(){return w.some(k=>k.filter?.is())},reset(){a?.set({})},set(k){a?.set({...k})},shallow(k,O){m.set(k,O)}},selection:{enabled:!!l&&s.length>0,selection:Array.from(g),isSingle:l?.type==="single",isMulti:l?.type==="multi",isSelected({data:k}){return g.has(k.id)||!1},isAll(){return s.every(k=>g.has(k.id))},isAny(){return s.some(k=>g.has(k.id))},withRowHandler({data:k}){return()=>{if(l?.type==="single"){const O=g.has(k.id);g.clear(),O?g.delete(k.id):g.add(k.id)}else g.has(k.id)?g.delete(k.id):g.add(k.id);l?.set(Array.from(g))}},withAllHandler(){return()=>{s.every(k=>g.has(k.id))?g.clear():s.forEach(({id:k})=>g.add(k)),l?.set(Array.from(g))}}},context:u}},os=()=>t=>t,aT=({tags:t=[],render:e=({tag:s})=>s.label,onClick:r,textEmpty:n})=>{const s=t.filter(Boolean).sort((a,l)=>a.sort-l.sort);return y.jsx("div",{className:"flex flex-wrap flex-row gap-2 items-center",children:s.length?s.map(a=>y.jsx(QB,{onClick:()=>r?.(a),children:e({tag:a})},a.id)):n||y.jsx(K,{label:"No tags (label)"})})},sz=hr({slot:{base:["flex","flex-row","gap-2","items-center"],title:["flex","flex-row","gap-2","items-center","text-lg","text-slate-500"],subtitle:["flex","flex-row","gap-4","items-center","text-lg"]},variant:{withSubtitle:{true:[]}},match:[{if:{withSubtitle:!0},then:{title:["border-r","border-r-slate-300","pr-2"]}}],defaults:{withSubtitle:!1}}),P0=({icon:t,title:e,subtitle:r,variant:n,tva:s=sz,css:a})=>{const l=s({withSubtitle:!!r,...n,css:a}).slots;return y.jsxs("div",{className:l.base(),children:[y.jsxs("div",{className:l.title(),children:[t?y.jsx(Er,{icon:t}):null,e]}),r?y.jsx("div",{className:l.subtitle(),children:r}):null]})};var jp={},Ok;function oz(){if(Ok)return jp;Ok=1;var t=OI();return jp.createRoot=t.createRoot,jp.hydrateRoot=t.hydrateRoot,jp}var az=oz();const lz=Nc(az),F0=gA()({component:()=>y.jsxs(y.Fragment,{children:[y.jsx(DA,{}),y.jsx(ol,{})]})}),uz="modulepreload",cz=function(t){return"/"+t},Ck={},Tk=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=l?.nonce||l?.getAttribute("nonce");s=Promise.allSettled(r.map(d=>{if(d=cz(d),d in Ck)return;Ck[d]=!0;const m=d.endsWith(".css"),g=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const w=document.createElement("link");if(w.rel=m?"stylesheet":uz,m||(w.as="script"),w.crossOrigin="",w.href=d,u&&w.setAttribute("nonce",u),document.head.appendChild(w),m)return new Promise((N,k)=>{w.addEventListener("load",N),w.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})},dz=fr("/$locale")({component:ol,loader:async({params:{locale:t}})=>{try{Dr.push((await fz(`../translation/${t}.yaml`)).default)}catch(e){console.error(e)}}});function fz(t){switch(t){case"../translation/cs":case"../translation/cs.yaml":return Tk(()=>import("./cs-Dh1e1bLx.js"),[]);case"../translation/en":case"../translation/en.yaml":return Tk(()=>import("./en-DMOk3_J_.js"),[]);default:return new Promise(function(e,r){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(r.bind(null,new Error("Unknown variable dynamic import: "+t)))})}}const lT="cs",hz=[lT,"en"],pz=fr("/")({loader:async()=>{throw cy({to:"/$locale",params:{locale:wD({available:hz,fallback:lT})}})}}),mz=fr("/$locale/")({component:()=>{const{locale:t}=Rn({from:"/$locale"});return y.jsx("div",{className:"flex flex-col items-center justify-center h-screen w-screen",children:y.jsxs("div",{className:"rounded bg-slate-50 p-4 shadow-md border border-slate-300",children:[y.jsx("h1",{className:"text-3xl text-center",children:"Apps"}),y.jsx("ul",{children:y.jsx("li",{children:y.jsx(Yn,{icon:"icon-[bx--game]",to:"/$locale/apps/derivean/public/login",params:{locale:t},children:"DeRivean"})})})]})})}}),{kysely:gn,bootstrap:yz}=f6({database:"derivean",async bootstrap({kysely:t}){const e="varchar(36)",r=async()=>{await t.schema.createTable("User").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("name","varchar(64)",l=>l.notNull()).addColumn("login","varchar(128)",l=>l.notNull().unique()).addColumn("password","varchar(256)",l=>l.notNull()).execute(),await t.schema.createTable("Tag").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("code","varchar(64)",l=>l.notNull()).addColumn("label","varchar(128)",l=>l.notNull()).addColumn("group","varchar(64)").addColumn("sort","integer",l=>l.notNull().defaultTo(0)).addUniqueConstraint("Tag_code_group",["code","group"]).execute(),await t.schema.createTable("Cycle").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("userId",e,l=>l.references("User.id").onDelete("cascade").notNull()).addColumn("stamp","datetime",l=>l.defaultTo(E0`CURRENT_TIMESTAMP`).notNull()).execute()},n=async()=>{await t.schema.createTable("Resource").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("name","varchar(64)",l=>l.notNull().unique()).execute(),await t.schema.createTable("Resource_Tag").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("resourceId",e,l=>l.references("Resource.id").onDelete("cascade").notNull()).addColumn("tagId",e,l=>l.references("Tag.id").onDelete("cascade").notNull()).addUniqueConstraint("Resource_Tag_resourceId_tagId",["resourceId","tagId"]).execute(),await t.schema.createTable("Inventory").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("userId",e,l=>l.references("User.id").onDelete("cascade").notNull()).addColumn("resourceId",e,l=>l.references("Resource.id").onDelete("cascade").notNull()).addColumn("amount","float8",l=>l.notNull()).addUniqueConstraint("Inventory_userId_resourceId",["userId","resourceId"]).execute()},s=async()=>{await t.schema.createTable("BaseBuilding").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("name","varchar(64)",l=>l.notNull().unique()).addColumn("preview","boolean",l=>l.notNull()).addColumn("cycles","int2",l=>l.notNull()).addColumn("limit","int2",l=>l.notNull()).execute(),await t.schema.createTable("BaseBuilding_Requirement").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("baseBuildingId",e,l=>l.references("BaseBuilding.id").onDelete("cascade").notNull()).addColumn("resourceId",e,l=>l.references("Resource.id").onDelete("cascade").notNull()).addColumn("amount","float8",l=>l.notNull()).addColumn("passive","boolean",l=>l.notNull()).addUniqueConstraint("BaseBuilding_Requirement_baseBuildingId_resourceId",["baseBuildingId","resourceId"]).execute(),await t.schema.createTable("BaseBuilding_Limit").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("baseBuildingId",e,l=>l.references("BaseBuilding.id").onDelete("cascade").notNull()).addColumn("resourceId",e,l=>l.references("Resource.id").onDelete("cascade").notNull()).addColumn("limit","float8",l=>l.notNull()).addUniqueConstraint("BaseBuilding_Limit_baseBuildingId_resourceId",["baseBuildingId","resourceId"]).execute(),await t.schema.createTable("BaseBuildingProduction").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("baseBuildingId",e,l=>l.references("BaseBuilding.id").onDelete("cascade").notNull()).addColumn("resourceId",e,l=>l.references("User.id").onDelete("cascade").notNull()).addColumn("amount","float8",l=>l.notNull()).addColumn("cycles","float8",l=>l.notNull()).execute()},a=async()=>{await t.schema.createTable("Building").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("userId",e,l=>l.references("User.id").onDelete("cascade").notNull()).addColumn("baseBuildingId",e,l=>l.references("BaseBuilding.id").onDelete("cascade").notNull()).execute(),await t.schema.createTable("Building_Resource").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("buildingId",e,l=>l.references("Building.id").onDelete("cascade").notNull()).addColumn("resourceId",e,l=>l.references("Resource.id").onDelete("cascade").notNull()).addColumn("amount","float8",l=>l.notNull()).addUniqueConstraint("Building_Storage_buildingId_resourceId",["buildingId","resourceId"]).execute(),await t.schema.createTable("BuildingQueue").ifNotExists().addColumn("id",e,l=>l.primaryKey()).addColumn("userId",e,l=>l.references("User.id").onDelete("cascade").notNull()).addColumn("baseBuildingId",e,l=>l.references("BaseBuilding.id").onDelete("cascade").notNull()).addColumn("start","float8",l=>l.notNull()).addColumn("current","float8",l=>l.notNull()).addColumn("finish","float8",l=>l.notNull()).execute()};await r(),await n(),await s(),await a()}}),gz=fr("/$locale/apps/derivean")({loader:yz}),uT="icon-[proicons--game]",vz=hr({slot:{base:["text-orange-500","font-bold","text-2xl","shadow-md","hover:shadow-lg","hover:text-orange-600","rounded","px-2","py-1","bg-slate-100"]},variant:{},defaults:{}}),cT=({variant:t,tva:e=vz,css:r})=>{const n=e({...t,css:r}).slots;return y.jsx("div",{className:n.base(),children:"DeRivean"})},ea="icon-[material-symbols-light--construction-rounded]",ta="icon-[fluent--building-shop-20-regular]",Br="icon-[hugeicons--resources-add]",_z=t=>{const{locale:e}=Rn({from:"/$locale"});return y.jsxs(sh,{...t,children:[y.jsx(fn,{icon:C0,to:"/$locale/apps/derivean/root/user/list",params:{locale:e},active:[{to:"/$locale/apps/derivean/root/user/$id/view"},{to:"/$locale/apps/derivean/root/user/$id/building/list"}],children:y.jsx(K,{label:"User list (menu)"})}),y.jsxs(Nk,{icon:ta,label:y.jsx(K,{label:"Buildings (menu)"}),active:[{to:"/$locale/apps/derivean/root/building/base/list"},{to:"/$locale/apps/derivean/root/building/list"},{to:"/$locale/apps/derivean/root/building/$id/view"},{to:"/$locale/apps/derivean/root/building/base/$id/view"},{to:"/$locale/apps/derivean/root/building/base/$id/requirement/list"},{to:"/$locale/apps/derivean/root/building/base/$id/limit/list"},{to:"/$locale/apps/derivean/root/building/base/$id/edit"},{to:"/$locale/apps/derivean/root/building/$id/resource/list"}],children:[y.jsx(fn,{icon:ea,to:"/$locale/apps/derivean/root/building/base/list",params:{locale:e},variant:{inner:!0},children:y.jsx(K,{label:"Base building list (menu)"})}),y.jsx(fn,{icon:ta,to:"/$locale/apps/derivean/root/building/list",params:{locale:e},variant:{inner:!0},children:y.jsx(K,{label:"Building list (menu)"})})]}),y.jsx(fn,{icon:Br,to:"/$locale/apps/derivean/root/resource/list",params:{locale:e},children:y.jsx(K,{label:"Resource list (menu)"})}),y.jsx(Nk,{icon:S6,label:y.jsx(K,{label:"Settings (menu)"}),children:y.jsx(fn,{icon:iy,to:"/$locale/apps/derivean/root/tag/list",params:{locale:e},variant:{inner:!0},children:y.jsx(K,{label:"Tag list (menu)"})})})]})},Qy=de.object({id:de.string(),name:de.string(),login:de.string()}),bz=fr("/$locale/apps/derivean/root")({async beforeLoad({context:t,params:{locale:e}}){return{...t,async session(){try{return Qy.parse(ih.get("session"))}catch{throw cy({to:"/$locale/apps/derivean/public/login",params:{locale:e}})}}}},async loader({context:{session:t}}){return{session:await t()}},component:()=>{const{locale:t}=Rn({from:"/$locale"}),{session:e}=ru({from:"/$locale/apps/derivean/root"});return y.jsx(nT,{logo:y.jsx(Yn,{to:"/$locale/apps/derivean/root",params:{locale:t},children:y.jsx(cT,{})}),menu:y.jsx(_z,{}),actions:y.jsxs(y.Fragment,{children:[e.name,y.jsx(Yn,{icon:uT,to:"/$locale/apps/derivean/game",params:{locale:t}}),y.jsx(Yn,{icon:O0,to:"/$locale/apps/derivean/public/logout",params:{locale:t},preload:!1})]})})}}),wz=ts({entity:Yi.merge(de.object({userId:de.string().min(1),stamp:de.string().min(1)})),shape:de.object({}),filter:Xi.merge(de.object({userId:de.string().optional()})),sort:["stamp"]}),Ju=es({name:"CycleSource",schema:wz,db:gn,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:s}){let a=t.selectFrom("Cycle as c").selectAll("c").leftJoin("User as u","u.id","c.userId");const l=d=>{const m=`%${d}%`;return a.where(g=>g.or([g("c.id","like",m),g("u.id","like",m)]))},u=d=>{d?.id&&(a=a.where("c.id","=",d.id)),d?.idIn&&(a=a.where("c.id","in",d.idIn)),d?.userId&&(a=a.where("c.userId","=",d.userId)),d?.fulltext&&(a=l(d.fulltext))};return s.includes("filter")&&u(r||{}),s.includes("where")&&u(e||{}),s.includes("cursor")&&(a=a.limit(n.size).offset(n.page*n.size)),a},create$({tx:t}){return t.insertInto("Cycle")},patch$({tx:t}){return t.updateTable("Cycle")},delete$({tx:t}){return t.deleteFrom("Cycle")},map:{async toCreate({entity:t}){return{...t,stamp:Yt.utc().toSQLTime()}}}}),Ky=ts({entity:DM,shape:de.object({code:de.string().min(1),label:de.string().min(1),group:de.string().nullish(),sort:de.union([de.number().int().nonnegative(),de.string().transform(t=>parseInt(t,10)).refine(t=>!isNaN(t),{message:Dr.text("Sort must be a number")})])}),filter:Xi.merge(de.object({code:de.string().optional(),group:de.string().optional()})),sort:["sort","code","label","group"]}),qk=Yi.merge(de.object({name:de.string().min(1)})),cl=ts({entity:qk,output:qk.merge(de.object({tagIds:de.array(de.string()),tags:de.array(Ky.output)})),shape:de.object({name:de.string().min(1),tagIds:de.array(de.string()).optional()}),filter:Xi.merge(de.object({name:de.string().optional()})),sort:["name"]}),Rk=Yi.merge(de.object({baseBuildingId:de.string().min(1),resourceId:de.string().min(1),limit:de.number().positive()})),Gy=ts({entity:Rk,output:Rk.merge(de.object({resource:cl.output})),shape:de.object({resourceId:de.string().min(1),limit:de.union([de.number().positive(),de.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:Dr.text("Limit must be a number")})])}),filter:Xi.merge(de.object({resourceId:de.string().optional(),baseBuildingId:de.string().optional()})),sort:["name","resource"]}),Ak=Yi.merge(de.object({baseBuildingId:de.string().min(1),resourceId:de.string().min(1),amount:de.number().positive(),passive:de.union([de.boolean(),de.number().int().refine(t=>t===0||t===1).transform(t=>typeof t=="boolean"?t:t===1)])})),Jy=ts({entity:Ak,output:Ak.merge(de.object({resource:cl.output})),shape:de.object({resourceId:de.string().min(1),amount:de.union([de.number().positive(),de.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:Dr.text("Amount must be a number")})]),passive:de.boolean()}),filter:Xi.merge(de.object({baseBuildingId:de.string().optional(),resourceId:de.string().optional(),passive:de.boolean().optional()})),sort:["name","resource","passive"]}),Pk=Yi.merge(de.object({name:de.string().min(1),preview:de.union([de.boolean(),de.number().int().refine(t=>t===0||t===1).transform(t=>typeof t=="boolean"?t:t===1)]),cycles:de.number().int().positive(),limit:de.number().int().nonnegative()})),Dc=ts({entity:Pk,output:Pk.merge(de.object({requirements:de.array(Jy.output),limits:de.array(Gy.output)})),shape:de.object({name:de.string().min(1),preview:de.boolean(),cycles:de.union([de.number().int().positive(),de.string().transform(t=>parseInt(t,10)).refine(t=>!isNaN(t),{message:Dr.text("Cycles must be a number")})]),limit:de.union([de.number().int().nonnegative(),de.string().transform(t=>parseInt(t,10)).refine(t=>!isNaN(t),{message:Dr.text("Limit must be a number")})])}),filter:Xi.merge(de.object({name:de.string().optional(),preview:de.boolean().optional()})),sort:["name"]}),xz=ts({entity:Yi.merge(de.object({resourceId:de.string().min(1),tagId:de.string().min(1)})),shape:de.object({resourceId:de.string().min(1),tagId:de.string().min(1)}),filter:Xi.merge(de.object({resourceId:de.string().optional(),tagId:de.string().optional()})),sort:["name","sort"]}),rf=es({name:"ResourceTagSource",schema:xz,db:gn,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:s}){let a=t.selectFrom("Resource_Tag as rt").selectAll("rt").leftJoin("Resource as r","r.id","rt.resourceId").leftJoin("Tag as t","t.id","rt.tagId");const l=d=>{const m=`%${d}%`;return a.where(g=>g.or([g("rt.id","like",m),g("r.id","like",m),g("t.id","like",m),g("r.name","like",m),g("t.code","like",m),g("t.label","like",m),g("t.group","like",m)]))},u=d=>{d?.id&&(a=a.where("rt.id","=",d.id)),d?.idIn&&(a=a.where("rt.id","in",d.idIn)),d?.resourceId&&(a=a.where("rt.resourceId","=",d.resourceId)),d?.tagId&&(a=a.where("rt.tagId","=",d.tagId)),d?.fulltext&&(a=l(d.fulltext))};return s.includes("filter")&&u(r||{}),s.includes("where")&&u(e||{}),s.includes("cursor")&&(a=a.limit(n.size).offset(n.page*n.size)),a},create$({tx:t}){return t.insertInto("Resource_Tag")},patch$({tx:t}){return t.updateTable("Resource_Tag")},delete$({tx:t}){return t.deleteFrom("Resource_Tag")}}),Wl=es({name:"TagSource",schema:Ky,db:gn,select$({tx:t,where:e,filter:r,sort:n,cursor:s={page:0,size:10},use:a}){let l=t.selectFrom("Tag as t").selectAll("t");const u={code:"t.code",group:"t.group",label:"t.label",sort:"t.sort"};n?.forEach(({name:g,sort:w})=>{l=l.orderBy(u[g],w)});const d=g=>{const w=`%${g}%`;return l.where(N=>N.or([N("t.id","like",w),N("t.code","like",w),N("t.group","like",w),N("t.label","like",w)]))},m=g=>{g?.id&&(l=l.where("t.id","=",g.id)),g?.idIn&&(l=l.where("t.id","in",g.idIn)),g?.code&&(l=l.where("t.code","=",g.code)),g?.group&&(l=l.where("t.group","=",g.group)),g?.fulltext&&(l=d(g.fulltext))};return a.includes("filter")&&m(r||{}),a.includes("where")&&m(e||{}),a.includes("cursor")&&(l=l.limit(s.size).offset(s.page*s.size)),l},create$({tx:t}){return t.insertInto("Tag")},patch$({tx:t}){return t.updateTable("Tag")},delete$({tx:t}){return t.deleteFrom("Tag")}}),Qi=es({name:"ResourceSource",schema:cl,db:gn,select$({tx:t,where:e,filter:r,sort:n,cursor:s={page:0,size:10},use:a}){let l=t.selectFrom("Resource as r").selectAll("r");const u={name:"r.name"};n?.forEach(({name:g,sort:w})=>{l=l.orderBy(u[g],w)});const d=g=>{const w=`%${g}%`;return l.where(N=>N.or([N("r.id","like",w),N("r.name","like",w)]))},m=g=>{g?.id&&(l=l.where("r.id","=",g.id)),g?.idIn&&(l=l.where("r.id","in",g.idIn)),g?.name&&(l=l.where("r.name","=",g.name)),g?.fulltext&&(l=d(g.fulltext))};return a.includes("filter")&&m(r||{}),a.includes("where")&&m(e||{}),a.includes("cursor")&&(l=l.limit(s.size).offset(s.page*s.size)),l},create$({tx:t}){return t.insertInto("Resource")},patch$({tx:t}){return t.updateTable("Resource")},delete$({tx:t}){return t.deleteFrom("Resource")},map:{async toOutput({tx:t,entity:e}){const r=(await rf.list$({tx:t,where:{resourceId:e.id}})).map(({tagId:n})=>n);return{...e,tagIds:r,tags:await Wl.list$({tx:t,where:{idIn:r}})}}},event:{async onPostCreate({tx:t,entity:e,shape:r}){await Promise.all(r.tagIds?.forEach(async n=>rf.create$({tx:t,entity:{resourceId:e.id,tagId:n},shape:{resourceId:e.id,tagId:n}}))||[])},async onPostPatch({tx:t,entity:e,shape:r}){Array.isArray(r.tagIds)&&(await t.deleteFrom("Resource_Tag").where("resourceId","=",e.id).execute(),await Promise.all(r.tagIds.map(async n=>rf.create$({tx:t,entity:{resourceId:e.id,tagId:n},shape:{resourceId:e.id,tagId:n}}))))}}}),nf=es({name:"BaseBuildingLimitSource",schema:Gy,db:gn,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:s}){let a=t.selectFrom("BaseBuilding_Limit as bbl").selectAll("bbl").leftJoin("BaseBuilding as bb","bb.id","bbl.baseBuildingId").leftJoin("Resource as r","r.id","bbl.resourceId");const l=d=>{const m=`%${d}%`;return a.where(g=>g.or([g("bbl.id","like",m),g("bb.id","like",m),g("r.id","like",m),g("bb.name","like",m),g("r.name","like",m)]))},u=d=>{d?.id&&(a=a.where("bb.id","=",d.id)),d?.idIn&&(a=a.where("bb.id","in",d.idIn)),d?.resourceId&&(a=a.where("bbl.resourceId","=",d.resourceId)),d?.baseBuildingId&&(a=a.where("bbl.baseBuildingId","=",d.baseBuildingId)),d?.fulltext&&(a=l(d.fulltext))};return s.includes("filter")&&u(r||{}),s.includes("where")&&u(e||{}),s.includes("cursor")&&(a=a.limit(n.size).offset(n.page*n.size)),a},create$({tx:t}){return t.insertInto("BaseBuilding_Limit")},patch$({tx:t}){return t.updateTable("BaseBuilding_Limit")},delete$({tx:t}){return t.deleteFrom("BaseBuilding_Limit")},map:{async toOutput({tx:t,entity:e}){return{...e,resource:await Qi.getOrThrow$({tx:t,id:e.resourceId})}}}}),Zu=es({name:"BaseBuildingRequirementSource",schema:Jy,db:gn,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:s}){let a=t.selectFrom("BaseBuilding_Requirement as bbr").selectAll("bbr").leftJoin("BaseBuilding as bb","bb.id","bbr.baseBuildingId").leftJoin("Resource as r","r.id","bbr.resourceId");const l=d=>{const m=`%${d}%`;return a.where(g=>g.or([g("bbr.id","like",m),g("bb.id","like",m),g("r.id","like",m),g("bb.name","like",m),g("r.name","like",m)]))},u=d=>{d?.id&&(a=a.where("bbr.id","=",d.id)),d?.idIn&&(a=a.where("bbr.id","in",d.idIn)),d?.baseBuildingId&&(a=a.where("bbr.baseBuildingId","=",d.baseBuildingId)),d?.resourceId&&(a=a.where("bbr.resourceId","=",d.resourceId)),d?.fulltext&&(a=l(d.fulltext))};return s.includes("filter")&&u(r||{}),s.includes("where")&&u(e||{}),s.includes("cursor")&&(a=a.limit(n.size).offset(n.page*n.size)),a},create$({tx:t}){return t.insertInto("BaseBuilding_Requirement")},patch$({tx:t}){return t.updateTable("BaseBuilding_Requirement")},delete$({tx:t}){return t.deleteFrom("BaseBuilding_Requirement")},map:{async toOutput({tx:t,entity:e}){return{...e,resource:await Qi.getOrThrow$({tx:t,id:e.resourceId})}}}}),Bn=es({name:"BaseBuildingSource",schema:Dc,db:gn,select$({tx:t,where:e,filter:r,sort:n,cursor:s={page:0,size:10},use:a}){let l=t.selectFrom("BaseBuilding as bb").selectAll("bb");const u={name:"bb.name"};n?.forEach(({name:g,sort:w})=>{l=l.orderBy(u[g],w)});const d=g=>{const w=`%${g}%`;return l.where(N=>N.or([N("bb.id","like",w),N("bb.name","like",w)]))},m=g=>{g?.id&&(l=l.where("bb.id","=",g.id)),g?.idIn&&(l=l.where("bb.id","in",g.idIn)),g?.name&&(l=l.where("bb.name","=",g.name)),g?.fulltext&&(l=d(g.fulltext)),g?.preview!==void 0&&(l=l.where("bb.preview","=",g.preview))};return a.includes("filter")&&m(r||{}),a.includes("where")&&m(e||{}),a.includes("cursor")&&(l=l.limit(s.size).offset(s.page*s.size)),l},create$({tx:t}){return t.insertInto("BaseBuilding")},patch$({tx:t}){return t.updateTable("BaseBuilding")},delete$({tx:t}){return t.deleteFrom("BaseBuilding")},map:{async toOutput({tx:t,entity:e}){return{...e,requirements:await Zu.list$({tx:t,where:{baseBuildingId:e.id}}),limits:await nf.list$({tx:t,where:{baseBuildingId:e.id}})}}}}),Fk=Yi.merge(de.object({userId:de.string().min(1),baseBuildingId:de.string().min(1)})),oh=ts({entity:Fk,output:Fk.merge(de.object({baseBuilding:Dc.output})),shape:de.object({baseBuildingId:de.string().min(1)}),filter:Xi.merge(de.object({userId:de.string().optional(),baseBuildingId:de.string().optional(),name:de.string().optional()})),sort:["name"]}),Vs=es({name:"BuildingSource",db:gn,schema:oh,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:s}){let a=t.selectFrom("Building as b").selectAll("b").leftJoin("BaseBuilding as bb","bb.id","b.baseBuildingId");const l=d=>{const m=`%${d}%`;return a.where(g=>g.or([g("b.id","like",m),g("bb.id","like",m),g("bb.name","like",m)]))},u=d=>{d?.id&&(a=a.where("b.id","=",d.id)),d?.idIn&&(a=a.where("b.id","in",d.idIn)),d?.baseBuildingId&&(a=a.where("b.baseBuildingId","=",d.baseBuildingId)),d?.name&&(a=a.where("bb.name","=",d.name)),d?.fulltext&&(a=l(d.fulltext))};return s.includes("filter")&&u(r||{}),s.includes("where")&&u(e||{}),s.includes("cursor")&&(a=a.limit(n.size).offset(n.page*n.size)),a},create$({tx:t}){return t.insertInto("Building")},patch$({tx:t}){return t.updateTable("Building")},delete$({tx:t}){return t.deleteFrom("Building")},map:{async toOutput({tx:t,entity:e}){return{...e,baseBuilding:await Bn.getOrThrow$({tx:t,id:e.baseBuildingId})}}}}),jk=Yi.merge(de.object({userId:de.string().min(1),baseBuildingId:de.string().min(1),start:de.number().nonnegative(),current:de.number().nonnegative(),finish:de.number().nonnegative()})),dT=ts({entity:jk,output:jk.merge(de.object({baseBuilding:Dc.output})),shape:de.object({baseBuildingId:de.string().min(1),start:de.number().nonnegative(),current:de.number().nonnegative(),finish:de.number().nonnegative()}),filter:Xi.merge(de.object({userId:de.string().optional(),baseBuildingId:de.string().optional(),finishGte:de.number().optional(),finishGt:de.number().optional()})),sort:["name","start","current","finish"]}),Vo=es({name:"BuildingQueueSource",schema:dT,db:gn,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:s}){let a=t.selectFrom("BuildingQueue as bq").selectAll("bq");const l=d=>{const m=`%${d}%`;return a.where(g=>g.or([g("bq.id","like",m)]))},u=d=>{d?.id&&(a=a.where("bq.id","=",d.id)),d?.idIn&&(a=a.where("bq.id","in",d.idIn)),d?.userId&&(a=a.where("bq.userId","=",d.userId)),d?.baseBuildingId&&(a=a.where("bq.baseBuildingId","=",d.baseBuildingId)),d?.finishGte&&(a=a.where("bq.finish","<=",d.finishGte)),d?.finishGt&&(a=a.where("bq.finish","<",d.finishGt)),d?.fulltext&&(a=l(d.fulltext))};return s.includes("filter")&&u(r||{}),s.includes("where")&&u(e||{}),s.includes("cursor")&&(a=a.limit(n.size).offset(n.page*n.size)),a},create$({tx:t}){return t.insertInto("BuildingQueue")},patch$({tx:t}){return t.updateTable("BuildingQueue")},delete$({tx:t}){return t.deleteFrom("BuildingQueue")},map:{async toOutput({tx:t,entity:e}){return{...e,baseBuilding:await Bn.getOrThrow$({tx:t,id:e.baseBuildingId,error:"Cannot find base building for building queue"})}}}}),Sz=({userId:t})=>{const e=oa({sources:[Ju,Vo,Vs]});return sl({mutationKey:["useCycleMutation"],async mutationFn(){return Ju.db.transaction().execute(async r=>{await Ju.create$({tx:r,shape:{},entity:{userId:t}});const{filter:n}=await Ju.count$({tx:r,where:{userId:t}});await (async()=>{const a=await Vo.list$({tx:r,cursor:{page:0,size:500},where:{userId:t}});for await(const u of a)await Vo.patch$({tx:r,entity:{current:u.current+1},shape:{current:u.current+1},where:{id:u.id}});const l=await Vo.list$({tx:r,cursor:{page:0,size:500},where:{userId:t,finishGt:n}});for await(const u of l)await Vs.create$({tx:r,shape:{baseBuildingId:u.baseBuildingId},entity:{baseBuildingId:u.baseBuildingId,userId:t}}),await Vo.delete$({tx:r,where:{id:u.id}})})()})},async onSuccess(){await e()}})},Lk="icon-[iconamoon--clock-thin]",Ez=({userId:t,...e})=>{const r=Sz({userId:t}),n=Z6({source:Ju,where:{userId:t}});return y.jsxs(Sn,{iconEnabled:Lk,iconDisabled:Lk,onClick:async()=>pr.promise(r.mutateAsync(),{loading:Dr.text("Running cycle (toast)"),success:Dr.text("Cycle success (toast)"),error:Dr.text("Cycle failed (toast)")}),disabled:r.isPending,loading:n.isLoading,...e,children:[y.jsx(K,{label:"New cycle (label)"}),n.isSuccess?` (${pi({number:n.data.filter})})`:""]})},Nz="icon-[emojione-monotone--construction]",jf="icon-[mingcute--inventory-line]",kz=t=>{const{locale:e}=Rn({from:"/$locale"});return y.jsxs(sh,{...t,children:[y.jsx(fn,{icon:ea,to:"/$locale/apps/derivean/game/building/base/list",params:{locale:e},children:y.jsx(K,{label:"Building build list (label)"})}),y.jsx(fn,{icon:ta,to:"/$locale/apps/derivean/game/building/list",params:{locale:e},children:y.jsx(K,{label:"Building list (label)"})}),y.jsx(fn,{icon:Nz,to:"/$locale/apps/derivean/game/building/queue/list",params:{locale:e},children:y.jsx(K,{label:"Building queue list (label)"})}),y.jsx(fn,{icon:Br,to:"/$locale/apps/derivean/game/building/resource/list",params:{locale:e},children:y.jsx(K,{label:"Resource list (menu)"})}),y.jsx(fn,{icon:jf,to:"/$locale/apps/derivean/game/inventory",params:{locale:e},children:y.jsx(K,{label:"Inventory (menu)"})})]})},Dk=Yi.merge(de.object({userId:de.string().min(1),resourceId:de.string().min(1),amount:de.number().nonnegative()})),Zy=ts({entity:Dk,output:Dk.merge(de.object({resource:cl.output})),shape:de.object({resourceId:de.string().min(1),amount:de.union([de.number().nonnegative(),de.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:Dr.text("Amount must be a number")})])}),filter:Xi.merge(de.object({userId:de.string().optional(),resourceId:de.string().optional()})),sort:["resource","amount"]}),Es=es({name:"InventorySource",db:gn,schema:Zy,select$({tx:t,where:e,filter:r,sort:n,cursor:s={page:0,size:10},use:a}){let l=t.selectFrom("Inventory as i").selectAll("i").leftJoin("Resource as r","r.id","i.resourceId");const u={resource:"r.name",amount:"i.amount"};n?.forEach(({name:g,sort:w})=>{l=l.orderBy(u[g],w)});const d=g=>{const w=`%${g}%`;return l.where(N=>N.or([N("i.id","like",w),N("r.id","like",w),N("r.name","like",w)]))},m=g=>{g?.id&&(l=l.where("i.id","=",g.id)),g?.idIn&&(l=l.where("i.id","in",g.idIn)),g?.resourceId&&(l=l.where("i.resourceId","=",g.resourceId)),g?.userId&&(l=l.where("i.userId","=",g.userId)),g?.fulltext&&(l=d(g.fulltext))};return a.includes("filter")&&m(r||{}),a.includes("where")&&m(e||{}),a.includes("cursor")&&(l=l.limit(s.size).offset(s.page*s.size)),l},create$({tx:t}){return t.insertInto("Inventory")},patch$({tx:t}){return t.updateTable("Inventory")},delete$({tx:t}){return t.deleteFrom("Inventory")},map:{async toOutput({tx:t,entity:e}){return{...e,resource:await Qi.getOrThrow$({tx:t,id:e.resourceId})}}}}),Iz=fr("/$locale/apps/derivean/game")({async beforeLoad({context:t,params:{locale:e}}){return{...t,async session(){try{return Qy.parse(ih.get("session"))}catch{throw cy({to:"/$locale/apps/derivean/public/login",params:{locale:e}})}}}},async loader({context:{kysely:t,session:e}}){const r=await e();return t.transaction().execute(async n=>({session:r,inventory:await Es.list$({tx:n,where:{userId:r.id}})}))},component:()=>{const{locale:t}=Rn({from:"/$locale"}),{session:e}=ru({from:"/$locale/apps/derivean/game"}),r=TR({filters:{status:"pending",mutationKey:["useCycleMutation"]},select(n){return n.state.status}});return y.jsx(nT,{logo:y.jsx(Yn,{to:"/$locale/apps/derivean/game",params:{locale:t},children:y.jsx(cT,{})}),menu:y.jsxs("div",{className:"flex flex-row items-center gap-4",children:[y.jsx(kz,{}),y.jsx(Ez,{userId:e.id})]}),actions:y.jsxs(y.Fragment,{children:[e.name,y.jsx(Yn,{icon:"icon-[clarity--crown-line]",to:"/$locale/apps/derivean/root",params:{locale:t}}),y.jsx(Yn,{icon:O0,to:"/$locale/apps/derivean/public/logout",params:{locale:t},preload:!1})]}),css:{base:r.length?["select-none","pointer-events-none","opacity-50"]:void 0},children:y.jsx(ol,{})})}}),Oz=async t=>{const e={castle:Kt(),storage:Kt(),resource:{wood:Kt(),plank:Kt(),stone:Kt(),sand:Kt(),glass:Kt(),coal:Kt(),flour:Kt(),dressedStone:Kt(),gold:Kt(),silver:Kt(),coin:Kt(),storageBlueprint:Kt(),castleBlueprint:Kt()},tag:{material:Kt(),product:Kt(),food:Kt(),valuables:Kt(),blueprint:Kt()}};try{await t.insertInto("BaseBuilding").values([{id:e.castle,name:"Castle",preview:!0,cycles:5,limit:0},{id:e.storage,name:"Storage",preview:!0,cycles:1,limit:0}]).execute()}catch{}try{await t.insertInto("Tag").values([{id:e.tag.material,code:"material",label:"Material",sort:0,group:"resource"},{id:e.tag.valuables,code:"valuables",label:"Valuables",sort:0,group:"resource"},{id:e.tag.blueprint,code:"blueprint",label:"Blueprint",sort:1,group:"resource"},{id:e.tag.product,code:"product",label:"Product",sort:1,group:"resource"}]).execute()}catch{}try{await t.insertInto("Resource").values([{id:e.resource.coal,name:"Coal"},{id:e.resource.flour,name:"Flour"},{id:e.resource.sand,name:"Sand"},{id:e.resource.glass,name:"Glass"},{id:e.resource.wood,name:"Wood"},{id:e.resource.plank,name:"Plank"},{id:e.resource.stone,name:"Stone"},{id:e.resource.dressedStone,name:"Dressed Stone"},{id:e.resource.silver,name:"Silver"},{id:e.resource.gold,name:"Gold"},{id:e.resource.coin,name:"Coin"},{id:e.resource.storageBlueprint,name:"Storage - Blueprint"},{id:e.resource.castleBlueprint,name:"Castle - Blueprint"}]).execute()}catch{}try{await t.insertInto("Resource_Tag").values([{id:Kt(),resourceId:e.resource.stone,tagId:e.tag.material},{id:Kt(),resourceId:e.resource.flour,tagId:e.tag.material},{id:Kt(),resourceId:e.resource.coal,tagId:e.tag.material},{id:Kt(),resourceId:e.resource.sand,tagId:e.tag.material},{id:Kt(),resourceId:e.resource.glass,tagId:e.tag.product},{id:Kt(),resourceId:e.resource.plank,tagId:e.tag.material},{id:Kt(),resourceId:e.resource.dressedStone,tagId:e.tag.material},{id:Kt(),resourceId:e.resource.wood,tagId:e.tag.material},{id:Kt(),resourceId:e.resource.storageBlueprint,tagId:e.tag.blueprint},{id:Kt(),resourceId:e.resource.castleBlueprint,tagId:e.tag.blueprint},{id:Kt(),resourceId:e.resource.coin,tagId:e.tag.valuables},{id:Kt(),resourceId:e.resource.gold,tagId:e.tag.valuables},{id:Kt(),resourceId:e.resource.silver,tagId:e.tag.valuables}]).execute()}catch{}try{await t.insertInto("BaseBuilding_Requirement").values([{id:Kt(),baseBuildingId:e.storage,resourceId:e.resource.stone,passive:!1,amount:3},{id:Kt(),baseBuildingId:e.storage,resourceId:e.resource.wood,passive:!1,amount:5},{id:Kt(),baseBuildingId:e.storage,resourceId:e.resource.storageBlueprint,passive:!0,amount:1},{id:Kt(),baseBuildingId:e.castle,resourceId:e.resource.stone,passive:!1,amount:10},{id:Kt(),baseBuildingId:e.castle,resourceId:e.resource.dressedStone,passive:!1,amount:25},{id:Kt(),baseBuildingId:e.castle,resourceId:e.resource.wood,passive:!1,amount:25},{id:Kt(),baseBuildingId:e.castle,resourceId:e.resource.plank,passive:!1,amount:50},{id:Kt(),baseBuildingId:e.castle,resourceId:e.resource.coin,passive:!1,amount:2e3},{id:Kt(),baseBuildingId:e.castle,resourceId:e.resource.gold,passive:!1,amount:25},{id:Kt(),baseBuildingId:e.castle,resourceId:e.resource.castleBlueprint,passive:!0,amount:1}]).execute()}catch{}try{await t.insertInto("BaseBuilding_Limit").values([{id:Kt(),baseBuildingId:e.storage,resourceId:e.resource.stone,limit:100},{id:Kt(),baseBuildingId:e.storage,resourceId:e.resource.wood,limit:150},{id:Kt(),baseBuildingId:e.castle,resourceId:e.resource.stone,limit:25},{id:Kt(),baseBuildingId:e.castle,resourceId:e.resource.wood,limit:50}]).execute()}catch{}},Cz=fr("/$locale/apps/derivean/root/")({component(){const t=sl({mutationKey:["base-game"],async mutationFn(){return pr.promise(Oz(gn),{success:Dr.text("Base game installed (toast)"),error:Dr.text("Base game installation failed (toast)"),loading:Dr.text("Installing base game (toast)")})}});return y.jsx("div",{className:"flex items-center justify-center mt-10",children:y.jsx(Sn,{iconEnabled:uT,loading:t.isPending,onClick:()=>t.mutate(),children:y.jsx(K,{label:"Install base game (label)"})})})}}),Tz=fr("/$locale/apps/derivean/game/")({component:()=>y.jsx("div",{children:"game dashboard here :)"})});var ah=t=>t.type==="checkbox",zl=t=>t instanceof Date,ui=t=>t==null;const fT=t=>typeof t=="object";var pn=t=>!ui(t)&&!Array.isArray(t)&&fT(t)&&!zl(t),hT=t=>pn(t)&&t.target?ah(t.target)?t.target.checked:t.target.value:t,qz=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,pT=(t,e)=>t.has(qz(e)),Rz=t=>{const e=t.constructor&&t.constructor.prototype;return pn(e)&&e.hasOwnProperty("isPrototypeOf")},j0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ki(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(j0&&(t instanceof Blob||n))&&(r||pn(t)))if(e=r?[]:{},!r&&!Rz(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=ki(t[s]));else return t;return e}var Yy=t=>Array.isArray(t)?t.filter(Boolean):[],on=t=>t===void 0,pt=(t,e,r)=>{if(!e||!pn(t))return r;const n=Yy(e.split(/[,[\].]+?/)).reduce((s,a)=>ui(s)?s:s[a],t);return on(n)||n===t?on(t[e])?r:t[e]:n},Wi=t=>typeof t=="boolean",L0=t=>/^\w*$/.test(t),mT=t=>Yy(t.replace(/["|']|\]/g,"").split(/\.|\[/)),kr=(t,e,r)=>{let n=-1;const s=L0(e)?[e]:mT(e),a=s.length,l=a-1;for(;++n<a;){const u=s[n];let d=r;if(n!==l){const m=t[u];d=pn(m)||Array.isArray(m)?m:isNaN(+s[n+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;t[u]=d,t=t[u]}return t};const sy={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},$s={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Mo={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Az=Cr.createContext(null),D0=()=>Cr.useContext(Az);var yT=(t,e,r,n=!0)=>{const s={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(s,a,{get:()=>{const l=a;return e._proxyFormState[l]!==$s.all&&(e._proxyFormState[l]=!n||$s.all),r&&(r[l]=!0),t[l]}});return s},Ii=t=>pn(t)&&!Object.keys(t).length,gT=(t,e,r,n)=>{r(t);const{name:s,...a}=t;return Ii(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(l=>e[l]===(!n||$s.all))},sf=t=>Array.isArray(t)?t:[t],vT=(t,e,r)=>!t||!e||t===e||sf(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n)));function M0(t){const e=Cr.useRef(t);e.current=t,Cr.useEffect(()=>{const r=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{r&&r.unsubscribe()}},[t.disabled])}function Pz(t){const e=D0(),{control:r=e.control,disabled:n,name:s,exact:a}=t||{},[l,u]=Cr.useState(r._formState),d=Cr.useRef(!0),m=Cr.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),g=Cr.useRef(s);return g.current=s,M0({disabled:n,next:w=>d.current&&vT(g.current,w.name,a)&&gT(w,m.current,r._updateFormState)&&u({...r._formState,...w}),subject:r._subjects.state}),Cr.useEffect(()=>(d.current=!0,m.current.isValid&&r._updateValid(!0),()=>{d.current=!1}),[r]),Cr.useMemo(()=>yT(l,r,m.current,!1),[l,r])}var ho=t=>typeof t=="string",_T=(t,e,r,n,s)=>ho(t)?(n&&e.watch.add(t),pt(r,t,s)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),pt(r,a))):(n&&(e.watchAll=!0),r);function Fz(t){const e=D0(),{control:r=e.control,name:n,defaultValue:s,disabled:a,exact:l}=t||{},u=Cr.useRef(n);u.current=n,M0({disabled:a,subject:r._subjects.values,next:g=>{vT(u.current,g.name,l)&&m(ki(_T(u.current,r._names,g.values||r._formValues,!1,s)))}});const[d,m]=Cr.useState(r._getWatch(n,s));return Cr.useEffect(()=>r._removeUnmounted()),d}function jz(t){const e=D0(),{name:r,disabled:n,control:s=e.control,shouldUnregister:a}=t,l=pT(s._names.array,r),u=Fz({control:s,name:r,defaultValue:pt(s._formValues,r,pt(s._defaultValues,r,t.defaultValue)),exact:!0}),d=Pz({control:s,name:r,exact:!0}),m=Cr.useRef(s.register(r,{...t.rules,value:u,...Wi(t.disabled)?{disabled:t.disabled}:{}})),g=Cr.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!pt(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!pt(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!pt(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!pt(d.validatingFields,r)},error:{enumerable:!0,get:()=>pt(d.errors,r)}}),[d,r]),w=Cr.useMemo(()=>({name:r,value:u,...Wi(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:N=>m.current.onChange({target:{value:hT(N),name:r},type:sy.CHANGE}),onBlur:()=>m.current.onBlur({target:{value:pt(s._formValues,r),name:r},type:sy.BLUR}),ref:N=>{const k=pt(s._fields,r);k&&N&&(k._f.ref={focus:()=>N.focus(),select:()=>N.select(),setCustomValidity:O=>N.setCustomValidity(O),reportValidity:()=>N.reportValidity()})}}),[r,s._formValues,n,d.disabled,u,s._fields]);return Cr.useEffect(()=>{const N=s._options.shouldUnregister||a,k=(O,C)=>{const A=pt(s._fields,O);A&&A._f&&(A._f.mount=C)};if(k(r,!0),N){const O=ki(pt(s._options.defaultValues,r));kr(s._defaultValues,r,O),on(pt(s._formValues,r))&&kr(s._formValues,r,O)}return()=>{(l?N&&!s._state.action:N)?s.unregister(r):k(r,!1)}},[r,s,l,a]),Cr.useEffect(()=>{Wi(n)&&pt(s._fields,r)&&s._updateDisabledField({disabled:n,fields:s._fields,name:r,value:pt(s._fields,r)._f.value})},[n,r,s]),Cr.useMemo(()=>({field:w,formState:d,fieldState:g}),[w,d,g])}const ra=t=>t.render(jz(t));var bT=(t,e,r,n,s)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:s||!0}}:{},Mk=t=>({isOnSubmit:!t||t===$s.onSubmit,isOnBlur:t===$s.onBlur,isOnChange:t===$s.onChange,isOnAll:t===$s.all,isOnTouch:t===$s.onTouched}),Bk=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const of=(t,e,r,n)=>{for(const s of r||Object.keys(t)){const a=pt(t,s);if(a){const{_f:l,...u}=a;if(l){if(l.refs&&l.refs[0]&&e(l.refs[0],s)&&!n)return!0;if(l.ref&&e(l.ref,l.name)&&!n)return!0;if(of(u,e))break}else if(pn(u)&&of(u,e))break}}};var Lz=(t,e,r)=>{const n=sf(pt(t,r));return kr(n,"root",e[r]),kr(t,r,n),t},B0=t=>t.type==="file",co=t=>typeof t=="function",oy=t=>{if(!j0)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},am=t=>ho(t),$0=t=>t.type==="radio",ay=t=>t instanceof RegExp;const $k={value:!1,isValid:!1},Wk={value:!0,isValid:!0};var wT=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!on(t[0].attributes.value)?on(t[0].value)||t[0].value===""?Wk:{value:t[0].value,isValid:!0}:Wk:$k}return $k};const zk={isValid:!1,value:null};var xT=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,zk):zk;function Uk(t,e,r="validate"){if(am(t)||Array.isArray(t)&&t.every(am)||Wi(t)&&!t)return{type:r,message:am(t)?t:"",ref:e}}var Du=t=>pn(t)&&!ay(t)?t:{value:t,message:""},Vk=async(t,e,r,n,s)=>{const{ref:a,refs:l,required:u,maxLength:d,minLength:m,min:g,max:w,pattern:N,validate:k,name:O,valueAsNumber:C,mount:A,disabled:D}=t._f,j=pt(e,O);if(!A||D)return{};const $=l?l[0]:a,V=se=>{n&&$.reportValidity&&($.setCustomValidity(Wi(se)?"":se||""),$.reportValidity())},G={},B=$0(a),Z=ah(a),ie=B||Z,U=(C||B0(a))&&on(a.value)&&on(j)||oy(a)&&a.value===""||j===""||Array.isArray(j)&&!j.length,ne=bT.bind(null,O,r,G),M=(se,Y,me,Te=Mo.maxLength,Ce=Mo.minLength)=>{const Fe=se?Y:me;G[O]={type:se?Te:Ce,message:Fe,ref:a,...ne(se?Te:Ce,Fe)}};if(s?!Array.isArray(j)||!j.length:u&&(!ie&&(U||ui(j))||Wi(j)&&!j||Z&&!wT(l).isValid||B&&!xT(l).isValid)){const{value:se,message:Y}=am(u)?{value:!!u,message:u}:Du(u);if(se&&(G[O]={type:Mo.required,message:Y,ref:$,...ne(Mo.required,Y)},!r))return V(Y),G}if(!U&&(!ui(g)||!ui(w))){let se,Y;const me=Du(w),Te=Du(g);if(!ui(j)&&!isNaN(j)){const Ce=a.valueAsNumber||j&&+j;ui(me.value)||(se=Ce>me.value),ui(Te.value)||(Y=Ce<Te.value)}else{const Ce=a.valueAsDate||new Date(j),Fe=Ne=>new Date(new Date().toDateString()+" "+Ne),_e=a.type=="time",ye=a.type=="week";ho(me.value)&&j&&(se=_e?Fe(j)>Fe(me.value):ye?j>me.value:Ce>new Date(me.value)),ho(Te.value)&&j&&(Y=_e?Fe(j)<Fe(Te.value):ye?j<Te.value:Ce<new Date(Te.value))}if((se||Y)&&(M(!!se,me.message,Te.message,Mo.max,Mo.min),!r))return V(G[O].message),G}if((d||m)&&!U&&(ho(j)||s&&Array.isArray(j))){const se=Du(d),Y=Du(m),me=!ui(se.value)&&j.length>+se.value,Te=!ui(Y.value)&&j.length<+Y.value;if((me||Te)&&(M(me,se.message,Y.message),!r))return V(G[O].message),G}if(N&&!U&&ho(j)){const{value:se,message:Y}=Du(N);if(ay(se)&&!j.match(se)&&(G[O]={type:Mo.pattern,message:Y,ref:a,...ne(Mo.pattern,Y)},!r))return V(Y),G}if(k){if(co(k)){const se=await k(j,e),Y=Uk(se,$);if(Y&&(G[O]={...Y,...ne(Mo.validate,Y.message)},!r))return V(Y.message),G}else if(pn(k)){let se={};for(const Y in k){if(!Ii(se)&&!r)break;const me=Uk(await k[Y](j,e),$,Y);me&&(se={...me,...ne(Y,me.message)},V(me.message),r&&(G[O]=se))}if(!Ii(se)&&(G[O]={ref:$,...se},!r))return G}}return V(!0),G};function Dz(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=on(t)?n++:t[e[n++]];return t}function Mz(t){for(const e in t)if(t.hasOwnProperty(e)&&!on(t[e]))return!1;return!0}function kn(t,e){const r=Array.isArray(e)?e:L0(e)?[e]:mT(e),n=r.length===1?t:Dz(t,r),s=r.length-1,a=r[s];return n&&delete n[a],s!==0&&(pn(n)&&Ii(n)||Array.isArray(n)&&Mz(n))&&kn(t,r.slice(0,-1)),t}var fb=()=>{let t=[];return{get observers(){return t},next:s=>{for(const a of t)a.next&&a.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(a=>a!==s)}}),unsubscribe:()=>{t=[]}}},yw=t=>ui(t)||!fT(t);function Ma(t,e){if(yw(t)||yw(e))return t===e;if(zl(t)&&zl(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const s of r){const a=t[s];if(!n.includes(s))return!1;if(s!=="ref"){const l=e[s];if(zl(a)&&zl(l)||pn(a)&&pn(l)||Array.isArray(a)&&Array.isArray(l)?!Ma(a,l):a!==l)return!1}}return!0}var ST=t=>t.type==="select-multiple",Bz=t=>$0(t)||ah(t),hb=t=>oy(t)&&t.isConnected,ET=t=>{for(const e in t)if(co(t[e]))return!0;return!1};function ly(t,e={}){const r=Array.isArray(t);if(pn(t)||r)for(const n in t)Array.isArray(t[n])||pn(t[n])&&!ET(t[n])?(e[n]=Array.isArray(t[n])?[]:{},ly(t[n],e[n])):ui(t[n])||(e[n]=!0);return e}function NT(t,e,r){const n=Array.isArray(t);if(pn(t)||n)for(const s in t)Array.isArray(t[s])||pn(t[s])&&!ET(t[s])?on(e)||yw(r[s])?r[s]=Array.isArray(t[s])?ly(t[s],[]):{...ly(t[s])}:NT(t[s],ui(e)?{}:e[s],r[s]):r[s]=!Ma(t[s],e[s]);return r}var Rd=(t,e)=>NT(t,e,ly(e)),kT=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>on(t)?t:e?t===""?NaN:t&&+t:r&&ho(t)?new Date(t):n?n(t):t;function pb(t){const e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return B0(e)?e.files:$0(e)?xT(t.refs).value:ST(e)?[...e.selectedOptions].map(({value:r})=>r):ah(e)?wT(t.refs).value:kT(on(e.value)?t.ref.value:e.value,t)}var $z=(t,e,r,n)=>{const s={};for(const a of t){const l=pt(e,a);l&&kr(s,a,l._f)}return{criteriaMode:r,names:[...t],fields:s,shouldUseNativeValidation:n}},Ad=t=>on(t)?t:ay(t)?t.source:pn(t)?ay(t.value)?t.value.source:t.value:t;const Hk="AsyncFunction";var Wz=t=>!!t&&!!t.validate&&!!(co(t.validate)&&t.validate.constructor.name===Hk||pn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===Hk)),zz=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function Qk(t,e,r){const n=pt(t,r);if(n||L0(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const a=s.join("."),l=pt(e,a),u=pt(t,a);if(l&&!Array.isArray(l)&&r!==a)return{name:r};if(u&&u.type)return{name:a,error:u};s.pop()}return{name:r}}var Uz=(t,e,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(e||t):(r?n.isOnBlur:s.isOnBlur)?!t:(r?n.isOnChange:s.isOnChange)?t:!0,Vz=(t,e)=>!Yy(pt(t,e)).length&&kn(t,e);const Hz={mode:$s.onSubmit,reValidateMode:$s.onChange,shouldFocusError:!0};function Qz(t={}){let e={...Hz,...t},r={submitCount:0,isDirty:!1,isLoading:co(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},s=pn(e.defaultValues)||pn(e.values)?ki(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:ki(s),l={action:!1,mount:!1,watch:!1},u={mount:new Set,unMount:new Set,array:new Set,watch:new Set},d,m=0;const g={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},w={values:fb(),array:fb(),state:fb()},N=Mk(e.mode),k=Mk(e.reValidateMode),O=e.criteriaMode===$s.all,C=ae=>ue=>{clearTimeout(m),m=setTimeout(ae,ue)},A=async ae=>{if(!e.disabled&&(g.isValid||ae)){const ue=e.resolver?Ii((await ie()).errors):await ne(n,!0);ue!==r.isValid&&w.state.next({isValid:ue})}},D=(ae,ue)=>{!e.disabled&&(g.isValidating||g.validatingFields)&&((ae||Array.from(u.mount)).forEach(ge=>{ge&&(ue?kr(r.validatingFields,ge,ue):kn(r.validatingFields,ge))}),w.state.next({validatingFields:r.validatingFields,isValidating:!Ii(r.validatingFields)}))},j=(ae,ue=[],ge,qe,De=!0,Ge=!0)=>{if(qe&&ge&&!e.disabled){if(l.action=!0,Ge&&Array.isArray(pt(n,ae))){const _t=ge(pt(n,ae),qe.argA,qe.argB);De&&kr(n,ae,_t)}if(Ge&&Array.isArray(pt(r.errors,ae))){const _t=ge(pt(r.errors,ae),qe.argA,qe.argB);De&&kr(r.errors,ae,_t),Vz(r.errors,ae)}if(g.touchedFields&&Ge&&Array.isArray(pt(r.touchedFields,ae))){const _t=ge(pt(r.touchedFields,ae),qe.argA,qe.argB);De&&kr(r.touchedFields,ae,_t)}g.dirtyFields&&(r.dirtyFields=Rd(s,a)),w.state.next({name:ae,isDirty:se(ae,ue),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else kr(a,ae,ue)},$=(ae,ue)=>{kr(r.errors,ae,ue),w.state.next({errors:r.errors})},V=ae=>{r.errors=ae,w.state.next({errors:r.errors,isValid:!1})},G=(ae,ue,ge,qe)=>{const De=pt(n,ae);if(De){const Ge=pt(a,ae,on(ge)?pt(s,ae):ge);on(Ge)||qe&&qe.defaultChecked||ue?kr(a,ae,ue?Ge:pb(De._f)):Te(ae,Ge),l.mount&&A()}},B=(ae,ue,ge,qe,De)=>{let Ge=!1,_t=!1;const Bt={name:ae};if(!e.disabled){const wr=!!(pt(n,ae)&&pt(n,ae)._f&&pt(n,ae)._f.disabled);if(!ge||qe){g.isDirty&&(_t=r.isDirty,r.isDirty=Bt.isDirty=se(),Ge=_t!==Bt.isDirty);const yr=wr||Ma(pt(s,ae),ue);_t=!!(!wr&&pt(r.dirtyFields,ae)),yr||wr?kn(r.dirtyFields,ae):kr(r.dirtyFields,ae,!0),Bt.dirtyFields=r.dirtyFields,Ge=Ge||g.dirtyFields&&_t!==!yr}if(ge){const yr=pt(r.touchedFields,ae);yr||(kr(r.touchedFields,ae,ge),Bt.touchedFields=r.touchedFields,Ge=Ge||g.touchedFields&&yr!==ge)}Ge&&De&&w.state.next(Bt)}return Ge?Bt:{}},Z=(ae,ue,ge,qe)=>{const De=pt(r.errors,ae),Ge=g.isValid&&Wi(ue)&&r.isValid!==ue;if(e.delayError&&ge?(d=C(()=>$(ae,ge)),d(e.delayError)):(clearTimeout(m),d=null,ge?kr(r.errors,ae,ge):kn(r.errors,ae)),(ge?!Ma(De,ge):De)||!Ii(qe)||Ge){const _t={...qe,...Ge&&Wi(ue)?{isValid:ue}:{},errors:r.errors,name:ae};r={...r,..._t},w.state.next(_t)}},ie=async ae=>{D(ae,!0);const ue=await e.resolver(a,e.context,$z(ae||u.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return D(ae),ue},U=async ae=>{const{errors:ue}=await ie(ae);if(ae)for(const ge of ae){const qe=pt(ue,ge);qe?kr(r.errors,ge,qe):kn(r.errors,ge)}else r.errors=ue;return ue},ne=async(ae,ue,ge={valid:!0})=>{for(const qe in ae){const De=ae[qe];if(De){const{_f:Ge,..._t}=De;if(Ge){const Bt=u.array.has(Ge.name),wr=De._f&&Wz(De._f);wr&&g.validatingFields&&D([qe],!0);const yr=await Vk(De,a,O,e.shouldUseNativeValidation&&!ue,Bt);if(wr&&g.validatingFields&&D([qe]),yr[Ge.name]&&(ge.valid=!1,ue))break;!ue&&(pt(yr,Ge.name)?Bt?Lz(r.errors,yr,Ge.name):kr(r.errors,Ge.name,yr[Ge.name]):kn(r.errors,Ge.name))}!Ii(_t)&&await ne(_t,ue,ge)}}return ge.valid},M=()=>{for(const ae of u.unMount){const ue=pt(n,ae);ue&&(ue._f.refs?ue._f.refs.every(ge=>!hb(ge)):!hb(ue._f.ref))&&mt(ae)}u.unMount=new Set},se=(ae,ue)=>!e.disabled&&(ae&&ue&&kr(a,ae,ue),!Ma(H(),s)),Y=(ae,ue,ge)=>_T(ae,u,{...l.mount?a:on(ue)?s:ho(ae)?{[ae]:ue}:ue},ge,ue),me=ae=>Yy(pt(l.mount?a:s,ae,e.shouldUnregister?pt(s,ae,[]):[])),Te=(ae,ue,ge={})=>{const qe=pt(n,ae);let De=ue;if(qe){const Ge=qe._f;Ge&&(!Ge.disabled&&kr(a,ae,kT(ue,Ge)),De=oy(Ge.ref)&&ui(ue)?"":ue,ST(Ge.ref)?[...Ge.ref.options].forEach(_t=>_t.selected=De.includes(_t.value)):Ge.refs?ah(Ge.ref)?Ge.refs.length>1?Ge.refs.forEach(_t=>(!_t.defaultChecked||!_t.disabled)&&(_t.checked=Array.isArray(De)?!!De.find(Bt=>Bt===_t.value):De===_t.value)):Ge.refs[0]&&(Ge.refs[0].checked=!!De):Ge.refs.forEach(_t=>_t.checked=_t.value===De):B0(Ge.ref)?Ge.ref.value="":(Ge.ref.value=De,Ge.ref.type||w.values.next({name:ae,values:{...a}})))}(ge.shouldDirty||ge.shouldTouch)&&B(ae,De,ge.shouldTouch,ge.shouldDirty,!0),ge.shouldValidate&&Ne(ae)},Ce=(ae,ue,ge)=>{for(const qe in ue){const De=ue[qe],Ge=`${ae}.${qe}`,_t=pt(n,Ge);(u.array.has(ae)||pn(De)||_t&&!_t._f)&&!zl(De)?Ce(Ge,De,ge):Te(Ge,De,ge)}},Fe=(ae,ue,ge={})=>{const qe=pt(n,ae),De=u.array.has(ae),Ge=ki(ue);kr(a,ae,Ge),De?(w.array.next({name:ae,values:{...a}}),(g.isDirty||g.dirtyFields)&&ge.shouldDirty&&w.state.next({name:ae,dirtyFields:Rd(s,a),isDirty:se(ae,Ge)})):qe&&!qe._f&&!ui(Ge)?Ce(ae,Ge,ge):Te(ae,Ge,ge),Bk(ae,u)&&w.state.next({...r}),w.values.next({name:l.mount?ae:void 0,values:{...a}})},_e=async ae=>{l.mount=!0;const ue=ae.target;let ge=ue.name,qe=!0;const De=pt(n,ge),Ge=()=>ue.type?pb(De._f):hT(ae),_t=Bt=>{qe=Number.isNaN(Bt)||zl(Bt)&&isNaN(Bt.getTime())||Ma(Bt,pt(a,ge,Bt))};if(De){let Bt,wr;const yr=Ge(),$r=ae.type===sy.BLUR||ae.type===sy.FOCUS_OUT,si=!zz(De._f)&&!e.resolver&&!pt(r.errors,ge)&&!De._f.deps||Uz($r,pt(r.touchedFields,ge),r.isSubmitted,k,N),an=Bk(ge,u,$r);kr(a,ge,yr),$r?(De._f.onBlur&&De._f.onBlur(ae),d&&d(0)):De._f.onChange&&De._f.onChange(ae);const gi=B(ge,yr,$r,!1),Eo=!Ii(gi)||an;if(!$r&&w.values.next({name:ge,type:ae.type,values:{...a}}),si)return g.isValid&&(e.mode==="onBlur"?$r&&A():A()),Eo&&w.state.next({name:ge,...an?{}:gi});if(!$r&&an&&w.state.next({...r}),e.resolver){const{errors:An}=await ie([ge]);if(_t(yr),qe){const Vt=Qk(r.errors,n,ge),aa=Qk(An,n,Vt.name||ge);Bt=aa.error,ge=aa.name,wr=Ii(An)}}else D([ge],!0),Bt=(await Vk(De,a,O,e.shouldUseNativeValidation))[ge],D([ge]),_t(yr),qe&&(Bt?wr=!1:g.isValid&&(wr=await ne(n,!0)));qe&&(De._f.deps&&Ne(De._f.deps),Z(ge,wr,Bt,gi))}},ye=(ae,ue)=>{if(pt(r.errors,ue)&&ae.focus)return ae.focus(),1},Ne=async(ae,ue={})=>{let ge,qe;const De=sf(ae);if(e.resolver){const Ge=await U(on(ae)?ae:De);ge=Ii(Ge),qe=ae?!De.some(_t=>pt(Ge,_t)):ge}else ae?(qe=(await Promise.all(De.map(async Ge=>{const _t=pt(n,Ge);return await ne(_t&&_t._f?{[Ge]:_t}:_t)}))).every(Boolean),!(!qe&&!r.isValid)&&A()):qe=ge=await ne(n);return w.state.next({...!ho(ae)||g.isValid&&ge!==r.isValid?{}:{name:ae},...e.resolver||!ae?{isValid:ge}:{},errors:r.errors}),ue.shouldFocus&&!qe&&of(n,ye,ae?De:u.mount),qe},H=ae=>{const ue={...l.mount?a:s};return on(ae)?ue:ho(ae)?pt(ue,ae):ae.map(ge=>pt(ue,ge))},Se=(ae,ue)=>({invalid:!!pt((ue||r).errors,ae),isDirty:!!pt((ue||r).dirtyFields,ae),error:pt((ue||r).errors,ae),isValidating:!!pt(r.validatingFields,ae),isTouched:!!pt((ue||r).touchedFields,ae)}),lt=ae=>{ae&&sf(ae).forEach(ue=>kn(r.errors,ue)),w.state.next({errors:ae?r.errors:{}})},at=(ae,ue,ge)=>{const qe=(pt(n,ae,{_f:{}})._f||{}).ref,De=pt(r.errors,ae)||{},{ref:Ge,message:_t,type:Bt,...wr}=De;kr(r.errors,ae,{...wr,...ue,ref:qe}),w.state.next({name:ae,errors:r.errors,isValid:!1}),ge&&ge.shouldFocus&&qe&&qe.focus&&qe.focus()},dt=(ae,ue)=>co(ae)?w.values.subscribe({next:ge=>ae(Y(void 0,ue),ge)}):Y(ae,ue,!0),mt=(ae,ue={})=>{for(const ge of ae?sf(ae):u.mount)u.mount.delete(ge),u.array.delete(ge),ue.keepValue||(kn(n,ge),kn(a,ge)),!ue.keepError&&kn(r.errors,ge),!ue.keepDirty&&kn(r.dirtyFields,ge),!ue.keepTouched&&kn(r.touchedFields,ge),!ue.keepIsValidating&&kn(r.validatingFields,ge),!e.shouldUnregister&&!ue.keepDefaultValue&&kn(s,ge);w.values.next({values:{...a}}),w.state.next({...r,...ue.keepDirty?{isDirty:se()}:{}}),!ue.keepIsValid&&A()},ft=({disabled:ae,name:ue,field:ge,fields:qe,value:De})=>{if(Wi(ae)&&l.mount||ae){const Ge=ae?void 0:on(De)?pb(ge?ge._f:pt(qe,ue)._f):De;(ae||!ae&&!on(Ge))&&kr(a,ue,Ge),B(ue,Ge,!1,!1,!0)}},gt=(ae,ue={})=>{let ge=pt(n,ae);const qe=Wi(ue.disabled)||Wi(e.disabled);return kr(n,ae,{...ge||{},_f:{...ge&&ge._f?ge._f:{ref:{name:ae}},name:ae,mount:!0,...ue}}),u.mount.add(ae),ge?ft({field:ge,disabled:Wi(ue.disabled)?ue.disabled:e.disabled,name:ae,value:ue.value}):G(ae,!0,ue.value),{...qe?{disabled:ue.disabled||e.disabled}:{},...e.progressive?{required:!!ue.required,min:Ad(ue.min),max:Ad(ue.max),minLength:Ad(ue.minLength),maxLength:Ad(ue.maxLength),pattern:Ad(ue.pattern)}:{},name:ae,onChange:_e,onBlur:_e,ref:De=>{if(De){gt(ae,ue),ge=pt(n,ae);const Ge=on(De.value)&&De.querySelectorAll&&De.querySelectorAll("input,select,textarea")[0]||De,_t=Bz(Ge),Bt=ge._f.refs||[];if(_t?Bt.find(wr=>wr===Ge):Ge===ge._f.ref)return;kr(n,ae,{_f:{...ge._f,..._t?{refs:[...Bt.filter(hb),Ge,...Array.isArray(pt(s,ae))?[{}]:[]],ref:{type:Ge.type,name:ae}}:{ref:Ge}}}),G(ae,!1,void 0,Ge)}else ge=pt(n,ae,{}),ge._f&&(ge._f.mount=!1),(e.shouldUnregister||ue.shouldUnregister)&&!(pT(u.array,ae)&&l.action)&&u.unMount.add(ae)}}},Pt=()=>e.shouldFocusError&&of(n,ye,u.mount),vt=ae=>{Wi(ae)&&(w.state.next({disabled:ae}),of(n,(ue,ge)=>{const qe=pt(n,ge);qe&&(ue.disabled=qe._f.disabled||ae,Array.isArray(qe._f.refs)&&qe._f.refs.forEach(De=>{De.disabled=qe._f.disabled||ae}))},0,!1))},yt=(ae,ue)=>async ge=>{let qe;if(ge&&(ge.preventDefault&&ge.preventDefault(),ge.persist&&ge.persist()),e.disabled){ue&&await ue({...r.errors},ge);return}let De=ki(a);if(w.state.next({isSubmitting:!0}),e.resolver){const{errors:Ge,values:_t}=await ie();r.errors=Ge,De=_t}else await ne(n);if(kn(r.errors,"root"),Ii(r.errors)){w.state.next({errors:{}});try{await ae(De,ge)}catch(Ge){qe=Ge}}else ue&&await ue({...r.errors},ge),Pt(),setTimeout(Pt);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ii(r.errors)&&!qe,submitCount:r.submitCount+1,errors:r.errors}),qe)throw qe},Tt=(ae,ue={})=>{pt(n,ae)&&(on(ue.defaultValue)?Fe(ae,ki(pt(s,ae))):(Fe(ae,ue.defaultValue),kr(s,ae,ki(ue.defaultValue))),ue.keepTouched||kn(r.touchedFields,ae),ue.keepDirty||(kn(r.dirtyFields,ae),r.isDirty=ue.defaultValue?se(ae,ki(pt(s,ae))):se()),ue.keepError||(kn(r.errors,ae),g.isValid&&A()),w.state.next({...r}))},Ot=(ae,ue={})=>{const ge=ae?ki(ae):s,qe=ki(ge),De=Ii(ae),Ge=De?s:qe;if(ue.keepDefaultValues||(s=ge),!ue.keepValues){if(ue.keepDirtyValues){const _t=new Set([...u.mount,...Object.keys(Rd(s,a))]);for(const Bt of Array.from(_t))pt(r.dirtyFields,Bt)?kr(Ge,Bt,pt(a,Bt)):Fe(Bt,pt(Ge,Bt))}else{if(j0&&on(ae))for(const _t of u.mount){const Bt=pt(n,_t);if(Bt&&Bt._f){const wr=Array.isArray(Bt._f.refs)?Bt._f.refs[0]:Bt._f.ref;if(oy(wr)){const yr=wr.closest("form");if(yr){yr.reset();break}}}}n={}}a=e.shouldUnregister?ue.keepDefaultValues?ki(s):{}:ki(Ge),w.array.next({values:{...Ge}}),w.values.next({values:{...Ge}})}u={mount:ue.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!g.isValid||!!ue.keepIsValid||!!ue.keepDirtyValues,l.watch=!!e.shouldUnregister,w.state.next({submitCount:ue.keepSubmitCount?r.submitCount:0,isDirty:De?!1:ue.keepDirty?r.isDirty:!!(ue.keepDefaultValues&&!Ma(ae,s)),isSubmitted:ue.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:De?{}:ue.keepDirtyValues?ue.keepDefaultValues&&a?Rd(s,a):r.dirtyFields:ue.keepDefaultValues&&ae?Rd(s,ae):ue.keepDirty?r.dirtyFields:{},touchedFields:ue.keepTouched?r.touchedFields:{},errors:ue.keepErrors?r.errors:{},isSubmitSuccessful:ue.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},er=(ae,ue)=>Ot(co(ae)?ae(a):ae,ue);return{control:{register:gt,unregister:mt,getFieldState:Se,handleSubmit:yt,setError:at,_executeSchema:ie,_getWatch:Y,_getDirty:se,_updateValid:A,_removeUnmounted:M,_updateFieldArray:j,_updateDisabledField:ft,_getFieldArray:me,_reset:Ot,_resetDefaultValues:()=>co(e.defaultValues)&&e.defaultValues().then(ae=>{er(ae,e.resetOptions),w.state.next({isLoading:!1})}),_updateFormState:ae=>{r={...r,...ae}},_disableForm:vt,_subjects:w,_proxyFormState:g,_setErrors:V,get _fields(){return n},get _formValues(){return a},get _state(){return l},set _state(ae){l=ae},get _defaultValues(){return s},get _names(){return u},set _names(ae){u=ae},get _formState(){return r},set _formState(ae){r=ae},get _options(){return e},set _options(ae){e={...e,...ae}}},trigger:Ne,register:gt,handleSubmit:yt,watch:dt,setValue:Fe,getValues:H,reset:er,resetField:Tt,clearErrors:lt,unregister:mt,setError:at,setFocus:(ae,ue={})=>{const ge=pt(n,ae),qe=ge&&ge._f;if(qe){const De=qe.refs?qe.refs[0]:qe.ref;De.focus&&(De.focus(),ue.shouldSelect&&co(De.select)&&De.select())}},getFieldState:Se}}function Zs(t={}){const e=Cr.useRef(void 0),r=Cr.useRef(void 0),[n,s]=Cr.useState({isDirty:!1,isValidating:!1,isLoading:co(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:co(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...Qz(t),formState:n});const a=e.current.control;return a._options=t,M0({subject:a._subjects.state,next:l=>{gT(l,a._proxyFormState,a._updateFormState,!0)&&s({...a._formState})}}),Cr.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),Cr.useEffect(()=>{if(a._proxyFormState.isDirty){const l=a._getDirty();l!==n.isDirty&&a._subjects.state.next({isDirty:l})}},[a,n.isDirty]),Cr.useEffect(()=>{t.values&&!Ma(t.values,r.current)?(a._reset(t.values,a._options.resetOptions),r.current=t.values,s(l=>({...l}))):a._resetDefaultValues()},[t.values,a]),Cr.useEffect(()=>{t.errors&&a._setErrors(t.errors)},[t.errors,a]),Cr.useEffect(()=>{a._state.mount||(a._updateValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),Cr.useEffect(()=>{t.shouldUnregister&&a._subjects.values.next({values:a._getWatch()})},[t.shouldUnregister,a]),e.current.formState=yT(n,a),e.current}const Kk=(t,e,r)=>{if(t&&"reportValidity"in t){const n=pt(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},IT=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?Kk(n.ref,r,t):n.refs&&n.refs.forEach(s=>Kk(s,r,t))}},Kz=(t,e)=>{e.shouldUseNativeValidation&&IT(t,e);const r={};for(const n in t){const s=pt(e.fields,n),a=Object.assign(t[n]||{},{ref:s&&s.ref});if(Gz(e.names||Object.keys(t),n)){const l=Object.assign({},pt(r,n));kr(l,"root",a),kr(r,n,l)}else kr(r,n,a)}return r},Gz=(t,e)=>t.some(r=>r.startsWith(e+"."));var Jz=function(t,e){for(var r={};t.length;){var n=t[0],s=n.code,a=n.message,l=n.path.join(".");if(!r[l])if("unionErrors"in n){var u=n.unionErrors[0].errors[0];r[l]={message:u.message,type:u.code}}else r[l]={message:a,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(g){return g.errors.forEach(function(w){return t.push(w)})}),e){var d=r[l].types,m=d&&d[n.code];r[l]=bT(l,e,r,s,m?[].concat(m,n.message):n.message)}t.shift()}return r},Ys=function(t,e,r){return r===void 0&&(r={}),function(n,s,a){try{return Promise.resolve(function(l,u){try{var d=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(m){return a.shouldUseNativeValidation&&IT({},a),{errors:{},values:r.raw?n:m}})}catch(m){return u(m)}return d&&d.then?d.then(void 0,u):d}(0,function(l){if(function(u){return Array.isArray(u?.errors)}(l))return{values:{},errors:Kz(Jz(l.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw l}))}catch(l){return Promise.reject(l)}}};const OT=({inventory:t,requirements:e})=>{const r=[];for(const n of e){const s=t.find(a=>a.resourceId===n.resourceId);s?s.amount<n.amount&&r.push({...n,amount:n.amount-s.amount}):r.push(n)}return r.length?{check:!1,missing:r}:{check:!0,missing:r}},CT=async({tx:t,userId:e,baseBuildingId:r,bypass:n=!1})=>{const s=await Bn.getOrThrow$({tx:t,id:r});if(!n&&!OT({requirements:s.requirements,inventory:await Es.list$({tx:t,where:{userId:e}})}).check)throw new Error(Dr.text("Not enough resources to construct the building."));for await(const u of s.requirements){if(u.passive)continue;const d=await Es.fetchOrThrow$({tx:t,where:{userId:e,resourceId:u.resourceId}});await Es.patch$({tx:t,entity:{amount:d.amount-u.amount},shape:{amount:d.amount-u.amount},where:{userId:e,resourceId:u.resourceId}})}const{filter:a}=await Ju.count$({tx:t,where:{userId:e}}),l={userId:e,baseBuildingId:s.id,start:a,current:0,finish:a+s.cycles};await Vo.create$({tx:t,shape:l,entity:l})},Zz=async({tx:t,userId:e})=>{const r=["Castle","Storage"];for await(const s of r)await CT({tx:t,userId:e,baseBuildingId:(await Bn.fetchOrThrow$({tx:t,where:{name:s},error:`Cannot find building [${s}]`})).id,bypass:!0});const n=[{resource:"Wood",amount:25},{resource:"Stone",amount:10},{resource:"Storage - Blueprint",amount:1}];for await(const s of n){const a={userId:e,resourceId:(await Qi.fetchOrThrow$({tx:t,where:{name:s.resource},error:`Cannot find resource [${s}]`})).id,amount:s.amount};await Es.create$({tx:t,shape:a,entity:a})}},TT=ts({entity:Yi.merge(de.object({name:de.string().min(1),login:de.string().min(1),password:de.string().min(1)})),shape:de.object({name:de.string().min(1),login:de.string().min(1),password:de.string().min(1)}),filter:Xi.merge(de.object({login:de.string().optional(),password:de.string().optional()})),sort:["name","login"]}),Xy=es({name:"UserSource",schema:TT,db:gn,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:s}){let a=t.selectFrom("User as u").selectAll("u");const l=d=>{const m=`%${d}%`;return a.where(g=>g.or([g("u.id","like",m),g("u.name","like",m),g("u.login","like",m)]))},u=d=>{d?.id&&(a=a.where("u.id","=",d.id)),d?.password&&(a=a.where("u.password","=",d.password)),d?.login&&(a=a.where("u.login","=",d.login)),d?.fulltext&&(a=l(d.fulltext))};return s.includes("filter")&&u(r||{}),s.includes("where")&&u(e||{}),s.includes("cursor")&&(a=a.limit(n.size).offset(n.page*n.size)),a},create$({tx:t}){return t.insertInto("User")},patch$({tx:t}){return t.updateTable("User")},delete$({tx:t}){return t.deleteFrom("User")},map:{async toCreate({entity:{password:t,...e}}){return{...e,password:t?gO.hash(t):void 0}}}}),Yz=()=>sl({mutationKey:["useRegisterMutation"],async mutationFn({login:t,name:e,password1:r}){return gn.transaction().execute(async n=>{const s=Qy.parse(await Xy.create$({tx:n,shape:{name:e,login:t,password:r},entity:{name:e,login:t,password:r}}));try{await Zz({tx:n,userId:s.id})}catch(a){console.error(a)}return s})}}),Xz=de.object({name:de.string().min(1),login:de.string().min(1),password1:de.string().min(1),password2:de.string().min(1)}).refine(t=>t.password1===t.password2,{message:"Passwords must match",path:["password1"]}),eU=({onSuccess:t})=>{const e=Yz(),r=Zs({resolver:Ys(Xz)}),n=Js({isLoading:r.formState.isLoading,isSubmitting:r.formState.isSubmitting}).slots;return y.jsxs("form",{className:n.base(),onSubmit:r.handleSubmit(async s=>e.mutateAsync(s,{onSuccess:t,onError:a=>{Vw({error:a,errors:[Bw({error:a,schema:Uw,onError:({data:l})=>{r.setError("root",{message:l.message})}})],onError:l=>{r.setError("root",{message:l.message})}})}}).catch(()=>{})),children:[y.jsx(ks,{variant:{highlight:!0},error:r.formState.errors.root}),y.jsx(Tr,{formState:r.formState,name:"name",label:y.jsx(K,{label:"Name (label)"}),children:y.jsx("input",{type:"text",className:n.input(),...r.register("name")})}),y.jsx(Tr,{formState:r.formState,name:"login",label:y.jsx(K,{label:"Login (label)"}),children:y.jsx("input",{type:"text",className:n.input(),...r.register("login")})}),y.jsx(Tr,{formState:r.formState,name:"password1",label:y.jsx(K,{label:"Password 1 (label)"}),children:y.jsx("input",{type:"password",className:n.input(),...r.register("password1")})}),y.jsx(Tr,{formState:r.formState,name:"password2",label:y.jsx(K,{label:"Password 2 (label)"}),children:y.jsx("input",{type:"password",className:n.input(),...r.register("password2")})}),y.jsx(Sn,{type:"submit",children:y.jsx(K,{label:"Register (submit)"})})]})},tU=fr("/$locale/apps/derivean/public/register")({component:()=>{const t=Iw();return y.jsx("div",{className:Ny(["flex","justify-center","h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:y.jsxs("div",{className:"flex flex-col bg-slate-100 p-20 w-1/2 m-10 drop-shadow-xl",children:[y.jsx("hr",{className:"my-12 h-0.5 border-t-0 bg-slate-300"}),y.jsx(eU,{onSuccess:async e=>{ih.set("session",e),await t({to:"/$locale/apps/derivean/game"})}})]})})}}),rU=fr("/$locale/apps/derivean/public/logout")({pendingComponent(){return y.jsx("div",{className:Ny(["flex items-center justify-center h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:y.jsx(oT,{icon:O0,textTitle:y.jsx(K,{label:"Logout (label)"}),textMessage:y.jsx(K,{label:"Logout in progress..."}),css:{base:["p-4","bg-slate-200","rounded"]}})})},async loader({params:{locale:t}}){throw ih.remove("session"),cy({to:"/$locale/apps/derivean/public/login",params:{locale:t}})}}),nU=()=>sl({mutationKey:["useLoginMutation"],async mutationFn({login:t,password:e}){return gn.transaction().execute(async r=>{const n=await Xy.fetchOrThrow$({tx:r,where:{login:t,password:gO.hash(e)},error:"Invalid login or password"});return{id:n.id,login:n.login,name:n.name}})}}),iU=de.object({login:de.string().min(1),password:de.string().min(1)}),sU=({onSuccess:t})=>{const{locale:e}=Rn({from:"/$locale"}),r=nU(),n=Zs({resolver:Ys(iU)}),s=Js({isLoading:n.formState.isLoading,isSubmitting:n.formState.isSubmitting}).slots;return y.jsxs("form",{className:s.base(),onSubmit:n.handleSubmit(async a=>r.mutateAsync(a,{onSuccess:t,onError:l=>{Vw({error:l,errors:[Bw({error:l,schema:Uw,onError:({data:u})=>{n.setError("root",{message:u.message})}})],onError:u=>{n.setError("root",{message:u.message})}})}}).catch(()=>{})),children:[y.jsx(ks,{variant:{highlight:!0},error:n.formState.errors.root}),y.jsx(Tr,{formState:n.formState,name:"login",label:y.jsx(K,{label:"Login (label)"}),children:y.jsx("input",{type:"text",className:s.input(),...n.register("login")})}),y.jsx(Tr,{formState:n.formState,name:"password",label:y.jsx(K,{label:"Password (label)"}),children:y.jsx("input",{type:"password",className:s.input(),...n.register("password")})}),y.jsxs("div",{className:"flex flex-row justify-between gap-8",children:[y.jsx(Yn,{to:"/$locale/apps/derivean/public/register",params:{locale:e},children:y.jsx(K,{label:"Register (link)"})}),y.jsx(Sn,{type:"submit",children:y.jsx(K,{label:"Login (submit)"})})]})]})},oU=fr("/$locale/apps/derivean/public/login")({component:()=>{const t=Iw();return y.jsx("div",{className:Ny(["flex","justify-center","h-screen","bg-gradient-to-tr","from-blue-700","to-blue-400"]),children:y.jsxs("div",{className:"flex flex-col bg-slate-100 p-20 w-1/2 m-10 drop-shadow-xl",children:[y.jsx("hr",{className:"my-12 h-0.5 border-t-0 bg-slate-300"}),y.jsx(sU,{onSuccess:async e=>{ih.set("session",e),await t({to:"/$locale/apps/derivean/game"})}})]})})}}),Gk=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:s=Js,css:a})=>{const l=Zs({resolver:Ys(Ky.shape),defaultValues:{sort:0,...e}}),u=Q.useContext(rs),d=s({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return y.jsxs("form",{className:d.base(),onSubmit:na({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:u})}}),children:[y.jsx(ks,{variant:{highlight:!0},error:l.formState.errors.root}),y.jsx(Tr,{formState:l.formState,name:"code",label:y.jsx(K,{label:"Tag code (label)"}),required:!0,children:y.jsx("input",{type:"text",className:d.input(),...l.register("code")})}),y.jsx(Tr,{formState:l.formState,name:"label",label:y.jsx(K,{label:"Resource description (label)"}),required:!0,children:y.jsx("input",{type:"text",className:d.input(),...l.register("label")})}),y.jsx(Tr,{formState:l.formState,name:"group",label:y.jsx(K,{label:"Tag group (label)"}),children:y.jsx("input",{type:"text",className:d.input(),...l.register("group")})}),y.jsx(Tr,{formState:l.formState,name:"sort",label:y.jsx(K,{label:"Tag sort (label)"}),children:y.jsx("input",{type:"number",className:d.input(),...l.register("sort")})}),y.jsx("div",{className:"flex flex-row justify-between gap-8",children:y.jsx(Sn,{iconEnabled:iy,type:"submit",children:y.jsx(K,{label:"Save tag (submit)"})})})]})},mb=os(),aU=[mb({name:"code",header(){return y.jsx(K,{label:"Tag code (label)"})},render({value:t}){return t},size:14}),mb({name:"label",header(){return y.jsx(K,{label:"Tag label (label)"})},render({value:t}){return t},size:14}),mb({name:"group",header(){return y.jsx(K,{label:"Tag group (label)"})},render({value:t}){return t},filter:{path:"group",onFilter({data:t,filter:e}){e.shallow("group",t.group)}},size:24})],qT=({group:t,table:e,...r})=>{const n=oa({sources:[Wl,Qi,rf]});return y.jsx(is,{table:ss({...e,columns:aU}),action:{table(){return y.jsx(qn,{children:y.jsx(Mr,{label:y.jsx(K,{label:"Create tag (menu)"}),textTitle:y.jsx(K,{label:"Create tag (modal)"}),icon:iy,children:y.jsx(Gk,{defaultValues:{group:t},mutation:sa({source:Wl,async wrap(s){return pr.promise(s(),{loading:y.jsx(K,{label:"Saving tag (label)"}),success:y.jsx(K,{label:"Tag successfully saved (label)"}),error:y.jsx(K,{label:"Cannot save tag (label)"})})}}),onSuccess:async({modalContext:s})=>{await n(),s?.close()}})})})},row({data:s}){return y.jsxs(qn,{children:[y.jsx(Mr,{label:y.jsx(K,{label:"Edit tag (menu)"}),textTitle:y.jsx(K,{label:"Edit tag (modal)"}),icon:iy,children:y.jsx(Gk,{defaultValues:{group:t,...s},mutation:So({source:Wl,async wrap(a){return pr.promise(a(),{loading:y.jsx(K,{label:"Saving tag (label)"}),success:y.jsx(K,{label:"Tag successfully saved (label)"}),error:y.jsx(K,{label:"Cannot save tag (label)"})})},async toPatch({shape:a}){return{entity:a,filter:{id:s.id}}}}),onSuccess:async({modalContext:a})=>{await n(),a?.close()}})}),y.jsx(Mr,{icon:xo,label:y.jsx(K,{label:"Delete tag (label)"}),textTitle:y.jsx(K,{label:"Delete tag (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:y.jsx(ia,{source:Wl,textContent:y.jsx(K,{label:"Tag delete (content)"}),filter:{id:s.id},invalidator:n})})]})}},...r})},lU=({group:t,...e})=>y.jsx(V6,{table:r=>y.jsx(qT,{group:t,...r}),render:({entities:r})=>y.jsx(aT,{tags:r}),source:Wl,useListQuery:({where:r,...n})=>q0({...n,where:{...r,group:t}}),...e}),Jk=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:s=Js,css:a})=>{const l=Zs({resolver:Ys(cl.shape),defaultValues:e}),u=Q.useContext(rs),d=s({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return y.jsxs("form",{className:d.base(),onSubmit:na({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:u})}}),children:[y.jsx(ks,{variant:{highlight:!0},error:l.formState.errors.root}),y.jsx(Tr,{formState:l.formState,name:"name",label:y.jsx(K,{label:"Resource name (label)"}),children:y.jsx("input",{type:"text",className:d.input(),...l.register("name")})}),y.jsx(Tr,{formState:l.formState,name:"tagIds",label:y.jsx(K,{label:"Resource tags (label)"}),children:y.jsx(ra,{control:l.control,name:"tagIds",render:({field:{ref:m,...g}})=>y.jsx(lU,{icon:Br,group:"resource",titleText:y.jsx(K,{label:"Select resource tags (title)"}),allowEmpty:!0,...g})})}),y.jsx("div",{className:"flex flex-row justify-between gap-8",children:y.jsx(Sn,{iconEnabled:Br,type:"submit",children:y.jsx(K,{label:"Save resource (submit)"})})})]})},Zk=os(),uU=[Zk({name:"name",header(){return y.jsx(K,{label:"Resource name (label)"})},render({data:t,value:e}){const{locale:r}=Rn({from:"/$locale"});return y.jsx(Yn,{to:"/$locale/apps/derivean/root/resource/$id/view",params:{locale:r,id:t.id},children:e})},size:18}),Zk({name:"tags",header(){return y.jsx(K,{label:"Resource tags (label)"})},render({value:t}){return y.jsx(aT,{tags:t})},size:32})],RT=({table:t,...e})=>{const r=oa({sources:[Qi,rf]});return y.jsx(is,{table:ss({...t,columns:uU}),action:{table(){return y.jsx(qn,{children:y.jsx(Mr,{label:y.jsx(K,{label:"Create resource (menu)"}),textTitle:y.jsx(K,{label:"Create resource (modal)"}),icon:Br,children:y.jsx(Jk,{mutation:sa({source:Qi,async wrap(n){return pr.promise(n(),{loading:y.jsx(K,{label:"Saving resource (label)"}),success:y.jsx(K,{label:"Resource successfully saved (label)"}),error:y.jsx(K,{label:"Cannot save resource (label)"})})}}),onSuccess:async({modalContext:n})=>{await r(),n?.close()}})})})},row({data:n}){return y.jsxs(qn,{children:[y.jsx(Mr,{label:y.jsx(K,{label:"Edit resource (menu)"}),textTitle:y.jsx(K,{label:"Edit resource (modal)"}),icon:Br,children:y.jsx(Jk,{defaultValues:n,mutation:So({source:Qi,async wrap(s){return pr.promise(s(),{loading:y.jsx(K,{label:"Saving resource (label)"}),success:y.jsx(K,{label:"Resource successfully saved (label)"}),error:y.jsx(K,{label:"Cannot save resource (label)"})})},async toPatch(){return{filter:{id:n.id}}}}),onSuccess:async({modalContext:s})=>{await r(),s?.close()}})}),y.jsx(Mr,{icon:xo,label:y.jsx(K,{label:"Delete resource (label)"}),textTitle:y.jsx(K,{label:"Delete resource (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:y.jsx(ia,{source:Qi,textContent:y.jsx(K,{label:"Resource delete (content)"}),filter:{id:n.id},invalidator:r})})]})}},...e})},lh=t=>y.jsx(sT,{icon:Br,titleText:y.jsx(K,{label:"Select resource (title)"}),table:RT,render:({entity:e})=>e.name,source:Qi,useListQuery:q0,...t}),Yk=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:s=Js,css:a})=>{const l=Zs({resolver:Ys(Zy.shape),defaultValues:e}),u=Q.useContext(rs),d=s({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return y.jsxs("form",{className:d.base(),onSubmit:na({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:u})}}),children:[y.jsx(ks,{variant:{highlight:!0},error:l.formState.errors.root}),y.jsx(Tr,{formState:l.formState,name:"resourceId",label:y.jsx(K,{label:"Resource name (label)"}),children:y.jsx(ra,{control:l.control,name:"resourceId",render:({field:{ref:m,...g}})=>y.jsx(lh,{icon:Br,titleText:y.jsx(K,{label:"Select resource (title)"}),allowEmpty:!0,...g})})}),y.jsx(Tr,{formState:l.formState,name:"amount",label:y.jsx(K,{label:"Amount (label)"}),children:y.jsx("input",{type:"number",className:d.input(),...l.register("amount")})}),y.jsx("div",{className:"flex flex-row justify-between gap-8",children:y.jsx(Sn,{iconEnabled:jf,type:"submit",children:y.jsx(K,{label:"Save inventory item (submit)"})})})]})},Xk=os(),cU=[Xk({name:"resource.name",header(){return y.jsx(K,{label:"Resource name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceId",t.resourceId)}},size:18}),Xk({name:"amount",header(){return y.jsx(K,{label:"Amount (label)"})},render({value:t}){return pi({number:t})},size:18})],AT=({userId:t,table:e,...r})=>{const n=oa({sources:[Es]});return y.jsx(is,{table:ss({...e,columns:cU}),action:{table:t?()=>y.jsx(qn,{children:y.jsx(Mr,{label:y.jsx(K,{label:"Create inventory item (menu)"}),textTitle:y.jsx(K,{label:"Create inventory item (modal)"}),icon:jf,children:y.jsx(Yk,{mutation:sa({source:Es,async wrap(s){return pr.promise(s(),{loading:y.jsx(K,{label:"Saving inventory item (label)"}),success:y.jsx(K,{label:"Inventory item successfully saved (label)"}),error:y.jsx(K,{label:"Cannot save inventory item (label)"})})},async toCreate({shape:s}){return{entity:{...s,userId:t}}}}),onSuccess:async({modalContext:s})=>{await n(),s?.close()}})})}):void 0,row({data:s}){return y.jsxs(qn,{children:[t?y.jsx(Mr,{label:y.jsx(K,{label:"Edit inventory item (menu)"}),textTitle:y.jsx(K,{label:"Edit inventory item (modal)"}),icon:jf,children:y.jsx(Yk,{defaultValues:s,mutation:So({source:Es,async wrap(a){return pr.promise(a(),{loading:y.jsx(K,{label:"Saving inventory item (label)"}),success:y.jsx(K,{label:"Inventory item successfully saved (label)"}),error:y.jsx(K,{label:"Cannot save inventory item (label)"})})},async toPatch(){return{filter:{id:s.id}}}}),onSuccess:async({modalContext:a})=>{await n(),a?.close()}})}):null,y.jsx(Mr,{icon:xo,label:y.jsx(K,{label:"Delete inventory item (label)"}),textTitle:y.jsx(K,{label:"Delete inventory item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:y.jsx(ia,{source:Es,textContent:y.jsx(K,{label:"Inventory item delete (content)"}),filter:{id:s.id},invalidator:n})})]})}},...r})},lm=fr("/$locale/apps/derivean/game/inventory/")({validateSearch:ni(ii(Zy)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e,session:r},deps:{filter:n,cursor:s}}){const a=await r();return e.transaction().execute(l=>Wn({tx:l,queryClient:t,source:Es,filter:n,cursor:s,where:{userId:a.id}}))},component(){const{data:t,count:e}=lm.useLoaderData(),{filter:r,cursor:n,selection:s}=lm.useSearch(),a=lm.useNavigate(),{tva:l}=In({from:"__root__"}),u=l().slots;return y.jsx("div",{className:u.base(),children:y.jsx(AT,{table:{data:t,filter:{value:r,set:ti(a)},selection:{type:"multi",value:s,set:yi(a)}},fulltext:{value:r?.fulltext,set:ri(a)},cursor:{count:e,cursor:n,textTotal:y.jsx(K,{label:"Number of items"}),...ei(a)}})})}}),dU=({entity:t,...e})=>{const{locale:r}=Rn({from:"/$locale"});return y.jsxs(sh,{...e,children:[y.jsx(fn,{icon:C0,to:"/$locale/apps/derivean/root/user/$id/view",params:{locale:r,id:t.id},children:y.jsx(K,{label:"View detail (menu)"})}),y.jsx(fn,{icon:ta,to:"/$locale/apps/derivean/root/user/$id/building/list",params:{locale:r,id:t.id},children:y.jsx(K,{label:"Building list (menu)"})}),y.jsx(fn,{icon:Br,to:"/$locale/apps/derivean/root/user/$id/building/resource/list",params:{locale:r,id:t.id},children:y.jsx(K,{label:"Building resource list (label)"})}),y.jsx(fn,{icon:jf,to:"/$locale/apps/derivean/root/user/$id/inventory",params:{locale:r,id:t.id},children:y.jsx(K,{label:"Inventory (label)"})})]})},fU=t=>{const{locale:e}=Rn({from:"/$locale"});return y.jsx(T0,{title:({entity:r})=>y.jsx(P0,{icon:C0,title:r.name}),actions:()=>y.jsx(y.Fragment,{children:y.jsx(Yn,{icon:I0,to:"/$locale/apps/derivean/root/user/list",params:{locale:e},children:y.jsx(K,{label:"User list (label)"})})}),...t})},PT=fr("/$locale/apps/derivean/root/user/$id")({async loader({context:{queryClient:t},params:{id:e}}){return gn.transaction().execute(async r=>({entity:await R0({tx:r,queryClient:t,source:Xy,where:{id:e}})}))},component(){const{tva:t}=In({from:"__root__"}),{entity:e}=PT.useLoaderData(),r=t().slots;return y.jsxs("div",{className:r.base(),children:[y.jsx(fU,{entity:e}),y.jsx(dU,{entity:e}),y.jsx(ol,{})]})}}),hU=fr("/$locale/apps/derivean/root/resource/$id")({component:()=>y.jsx("div",{children:'Hello "/$locale/apps/derivean/root/resource/$id"!'})}),pU=({entity:t,...e})=>{const{locale:r}=Rn({from:"/$locale"});return y.jsxs(sh,{...e,children:[y.jsx(fn,{icon:ta,to:"/$locale/apps/derivean/root/building/$id/view",params:{locale:r,id:t.id},children:y.jsx(K,{label:"Building detail (label)"})}),y.jsx(fn,{icon:Br,to:"/$locale/apps/derivean/root/building/$id/resource/list",params:{locale:r,id:t.id},children:y.jsx(K,{label:"Building resource list (label)"})})]})},mU=t=>{const{locale:e}=Rn({from:"/$locale"});return y.jsx(T0,{title:({entity:r})=>y.jsx(P0,{icon:ta,title:r.baseBuilding.name}),actions:()=>y.jsx(y.Fragment,{children:y.jsx(Yn,{icon:I0,to:"/$locale/apps/derivean/root/building/list",params:{locale:e},children:y.jsx(K,{label:"Building list (label)"})})}),...t})},FT=fr("/$locale/apps/derivean/root/building/$id")({component(){const{tva:t}=In({from:"__root__"}),{entity:e}=FT.useLoaderData(),r=t().slots;return y.jsxs("div",{className:r.base(),children:[y.jsx(mU,{entity:e}),y.jsx(pU,{entity:e}),y.jsx(ol,{})]})},async loader({context:{kysely:t,queryClient:e},params:{id:r}}){return t.transaction().execute(async n=>({entity:await R0({tx:n,queryClient:e,source:Vs,where:{id:r}})}))}}),eI=os(),yU=[eI({name:"name",header(){return y.jsx(K,{label:"User name (label)"})},render({data:t,value:e}){const{locale:r}=Rn({from:"/$locale"});return y.jsx(Yn,{to:"/$locale/apps/derivean/root/user/$id/view",params:{locale:r,id:t.id},children:e})},size:14}),eI({name:"login",header(){return y.jsx(K,{label:"User login (label)"})},render({value:t}){return t},size:14})],gU=({table:t,...e})=>y.jsx(is,{table:ss({...t,columns:yU}),...e}),um=fr("/$locale/apps/derivean/root/user/list/")({validateSearch:ni(ii(TT)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n}}){return e.transaction().execute(s=>Wn({tx:s,queryClient:t,source:Xy,filter:r,cursor:n}))},component:()=>{const{data:t,count:e}=um.useLoaderData(),{filter:r,cursor:n,selection:s}=um.useSearch(),a=um.useNavigate(),{tva:l}=In({from:"__root__"}),u=l().slots;return y.jsx("div",{className:u.base(),children:y.jsx(gU,{table:{data:t,filter:{value:r,set:ti(a)},selection:{type:"multi",value:s,set:yi(a)}},fulltext:{value:r?.fulltext,set:ri(a)},cursor:{count:e,cursor:n,textTotal:y.jsx(K,{label:"Number of items"}),...ei(a)}})})}}),cm=fr("/$locale/apps/derivean/root/tag/list/")({validateSearch:ni(ii(Ky)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n}}){return e.transaction().execute(async s=>Wn({tx:s,queryClient:t,source:Wl,filter:r,cursor:n,sort:[{name:"sort",sort:"asc"},{name:"group",sort:"asc"},{name:"label",sort:"asc"}]}))},component:()=>{const{data:t,count:e}=cm.useLoaderData(),{filter:r,cursor:n,selection:s}=cm.useSearch(),a=cm.useNavigate(),{tva:l}=In({from:"__root__"}),u=l().slots;return y.jsx("div",{className:u.base(),children:y.jsx(qT,{table:{data:t,filter:{value:r,set:ti(a)},selection:{type:"multi",value:s,set:yi(a)}},fulltext:{value:r?.fulltext,set:ri(a)},cursor:{count:e,cursor:n,textTotal:y.jsx(K,{label:"Number of items"}),...ei(a)}})})}}),dm=fr("/$locale/apps/derivean/root/resource/list/")({validateSearch:ni(ii(cl)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n}}){return e.transaction().execute(s=>Wn({tx:s,queryClient:t,source:Qi,filter:r,cursor:n,sort:[{name:"name",sort:"asc"}]}))},component:()=>{const{data:t,count:e}=dm.useLoaderData(),{filter:r,cursor:n,selection:s}=dm.useSearch(),a=dm.useNavigate(),{tva:l}=In({from:"__root__"}),u=l().slots;return y.jsx("div",{className:u.base(),children:y.jsx(RT,{table:{data:t,filter:{value:r,set:ti(a)},selection:{type:"multi",value:s,set:yi(a)}},fulltext:{value:r?.fulltext,set:ri(a)},cursor:{count:e,cursor:n,textTotal:y.jsx(K,{label:"Number of items"}),...ei(a)}})})}}),vU=fr("/$locale/apps/derivean/root/building/list/")({component:()=>y.jsx("div",{children:'Hello "/$locale/apps/derivean/root/building/list/"!'})}),_U=os(),bU=[_U({name:"baseBuilding.name",header(){return y.jsx(K,{label:"Base building name (label)"})},render({data:t,value:e}){const{locale:r}=Rn({from:"/$locale"});return y.jsx(Yn,{to:"/$locale/apps/derivean/game/building/$id/view",params:{locale:r,id:t.id},children:e})},size:14})],wU=({table:t,...e})=>y.jsx(is,{table:ss({...t,columns:bU}),...e}),fm=fr("/$locale/apps/derivean/game/building/list/")({validateSearch:ni(ii(oh)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e,session:r},deps:{filter:n,cursor:s}}){const a=await r();return e.transaction().execute(async l=>Wn({tx:l,queryClient:t,source:Vs,where:{userId:a.id},filter:n,cursor:s}))},component:()=>{const{data:t,count:e}=fm.useLoaderData(),{filter:r,cursor:n,selection:s}=fm.useSearch(),a=fm.useNavigate(),{tva:l}=In({from:"__root__"}),u=l().slots;return y.jsx("div",{className:u.base(),children:y.jsx(wU,{table:{data:t,filter:{value:r,set:ti(a)},selection:{type:"multi",value:s,set:yi(a)}},fulltext:{value:r?.fulltext,set:ri(a)},cursor:{count:e,cursor:n,textTotal:y.jsx(K,{label:"Number of items"}),...ei(a)}})})}}),xU="icon-[fluent-mdl2--production-floor-management]",gw="icon-[vaadin--storage]",SU=({entity:t,...e})=>{const{locale:r}=Rn({from:"/$locale"});return y.jsxs(sh,{...e,children:[y.jsx(fn,{icon:ea,to:"/$locale/apps/derivean/root/building/base/$id/view",params:{locale:r,id:t.id},children:y.jsx(K,{label:"View detail (menu)"})}),y.jsx(fn,{icon:Br,to:"/$locale/apps/derivean/root/building/base/$id/requirement/list",params:{locale:r,id:t.id},children:y.jsx(K,{label:"Base building resource requirement (menu)"})}),y.jsx(fn,{icon:gw,to:"/$locale/apps/derivean/root/building/base/$id/limit/list",params:{locale:r,id:t.id},children:y.jsx(K,{label:"Base building limit list (menu)"})}),y.jsx(fn,{icon:xU,to:"/$locale/apps/derivean/root/building/base/$id/production",params:{locale:r,id:t.id},children:y.jsx(K,{label:"Base building production (menu)"})}),y.jsx(fn,{icon:_6,to:"/$locale/apps/derivean/root/building/base/$id/edit",params:{locale:r,id:t.id},children:y.jsx(K,{label:"Base building edit (menu)"})})]})},EU=t=>{const{locale:e}=Rn({from:"/$locale"});return y.jsx(T0,{title:({entity:r})=>y.jsx(P0,{icon:ea,title:r.name}),actions:()=>y.jsx(Yn,{icon:I0,to:"/$locale/apps/derivean/root/building/base/list",params:{locale:e},children:y.jsx(K,{label:"Base building list (label)"})}),...t})},jT=fr("/$locale/apps/derivean/root/building/base/$id")({async loader({context:{queryClient:t},params:{id:e}}){return gn.transaction().execute(async r=>({entity:await R0({tx:r,queryClient:t,source:Bn,where:{id:e}})}))},component(){const{tva:t}=In({from:"__root__"}),{entity:e}=jT.useLoaderData(),r=t().slots;return y.jsxs("div",{className:r.base(),children:[y.jsx(EU,{entity:e}),y.jsx(SU,{entity:e}),y.jsx(ol,{})]})}}),NU=fr("/$locale/apps/derivean/root/user/$id/view/")({component:()=>"yep"}),Md=fr("/$locale/apps/derivean/root/user/$id/inventory/")({validateSearch:ni(ii(Zy)),loaderDeps({search:{filter:t,cursor:e,sort:r}}){return{filter:t,cursor:e,sort:r}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n,sort:s},params:{id:a}}){return e.transaction().execute(l=>Wn({tx:l,queryClient:t,source:Es,filter:r,cursor:n,where:{userId:a},sort:s||[{name:"resource",sort:"asc"},{name:"amount",sort:"desc"}]}))},component(){const{data:t,count:e}=Md.useLoaderData(),{filter:r,cursor:n,selection:s}=Md.useSearch(),a=Md.useNavigate(),{id:l}=Md.useParams(),{tva:u}=In({from:"__root__"}),d=u().slots;return y.jsx("div",{className:d.base(),children:y.jsx(AT,{userId:l,table:{data:t,filter:{value:r,set:ti(a)},selection:{type:"multi",value:s,set:yi(a)}},fulltext:{value:r?.fulltext,set:ri(a)},cursor:{count:e,cursor:n,textTotal:y.jsx(K,{label:"Number of items"}),...ei(a)}})})}}),kU=fr("/$locale/apps/derivean/root/resource/$id/view/")({component:()=>y.jsx("div",{children:'Hello "/$locale/apps/derivean/root/resource/$id/view/"!'})}),vw=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:s=Js,css:a})=>{const l=Zs({resolver:Ys(Dc.shape),defaultValues:{cycles:1,limit:0,preview:!0,...e}}),u=Q.useContext(rs),d=s({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return y.jsxs("form",{className:d.base(),onSubmit:na({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:u})}}),children:[y.jsx(ks,{variant:{highlight:!0},error:l.formState.errors.root}),y.jsx(Tr,{formState:l.formState,name:"name",label:y.jsx(K,{label:"Base building name (label)"}),required:!0,children:y.jsx("input",{type:"text",className:d.input(),...l.register("name")})}),y.jsx(Tr,{formState:l.formState,name:"preview",label:y.jsx(K,{label:"Base building preview (label)"}),hint:y.jsx(K,{label:"Base building preview (hint)"}),required:!0,children:y.jsx(ra,{control:l.control,name:"preview",render:({field:{ref:m,...g}})=>y.jsx(hC,{...g})})}),y.jsx(Tr,{formState:l.formState,name:"cycles",label:y.jsx(K,{label:"Base building cycles (label)"}),hint:y.jsx(K,{label:"Base building cycles (hint)"}),required:!0,children:y.jsx("input",{type:"number",className:d.input(),...l.register("cycles")})}),y.jsx(Tr,{formState:l.formState,name:"limit",label:y.jsx(K,{label:"Base building limit (label)"}),hint:y.jsx(K,{label:"Base building limit (hint)"}),required:!0,children:y.jsx("input",{type:"number",className:d.input(),...l.register("limit")})}),y.jsx("div",{className:"flex flex-row justify-between gap-8",children:y.jsx(Sn,{iconEnabled:ea,type:"submit",children:y.jsx(K,{label:"Save base building (submit)"})})})]})},Lp=os(),IU=[Lp({name:"name",header(){return y.jsx(K,{label:"Base building name (label)"})},render({data:t,value:e}){const{locale:r}=Rn({from:"/$locale"});return y.jsx(Yn,{to:"/$locale/apps/derivean/root/building/base/$id/view",params:{locale:r,id:t.id},children:e})},size:10}),Lp({name:"preview",header(){return y.jsx(K,{label:"Base building preview (label)"})},render({value:t}){return y.jsx(fC,{value:t})},size:14}),Lp({name:"cycles",header(){return y.jsx(K,{label:"Base building cycles (label)"})},render({value:t}){return pi({number:t})},size:14}),Lp({name:"limit",header(){return y.jsx(K,{label:"Base building limit (label)"})},render({value:t}){return t===0?Dr.text("Unlimited (label)"):pi({number:t})},size:14})],LT=({table:t,...e})=>{const r=oa({sources:[Bn]});return y.jsx(is,{table:ss({...t,columns:IU}),action:{table(){return y.jsx(qn,{children:y.jsx(Mr,{label:y.jsx(K,{label:"Create base building (menu)"}),textTitle:y.jsx(K,{label:"Create base building (modal)"}),icon:ea,children:y.jsx(vw,{mutation:sa({source:Bn,async wrap(n){return pr.promise(n(),{loading:y.jsx(K,{label:"Saving base building (label)"}),success:y.jsx(K,{label:"Base building successfully saved (label)"}),error:y.jsx(K,{label:"Cannot save base building (label)"})})}}),onSuccess:async({modalContext:n})=>{await r(),n?.close()}})})})},row({data:n}){return y.jsxs(qn,{children:[y.jsx(Mr,{label:y.jsx(K,{label:"Edit base building (menu)"}),textTitle:y.jsx(K,{label:"Edit base building (modal)"}),icon:ea,children:y.jsx(vw,{defaultValues:n,mutation:So({source:Bn,async wrap(s){return pr.promise(s(),{loading:y.jsx(K,{label:"Saving base building (label)"}),success:y.jsx(K,{label:"Base building successfully saved (label)"}),error:y.jsx(K,{label:"Cannot save base building (label)"})})},async toPatch(){return{filter:{id:n.id}}}}),onSuccess:async({modalContext:s})=>{await r(),s?.close()}})}),y.jsx(Mr,{icon:xo,label:y.jsx(K,{label:"Delete base building (label)"}),textTitle:y.jsx(K,{label:"Delete base building (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:y.jsx(ia,{source:Bn,textContent:y.jsx(K,{label:"Base building delete (content)"}),filter:{id:n.id},invalidator:r})})]})}},...e})},hm=fr("/$locale/apps/derivean/root/building/base/list/")({validateSearch:ni(ii(Dc)),loaderDeps({search:{filter:t,cursor:e,sort:r}}){return{filter:t,cursor:e,sort:r}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n,sort:s}}){return e.transaction().execute(async a=>Wn({tx:a,queryClient:t,source:Bn,filter:r,cursor:n,sort:s||[{name:"name",sort:"asc"}]}))},component:()=>{const{data:t,count:e}=hm.useLoaderData(),{filter:r,cursor:n,selection:s}=hm.useSearch(),a=hm.useNavigate(),{tva:l}=In({from:"__root__"}),u=l().slots;return y.jsx("div",{className:u.base(),children:y.jsx(LT,{table:{data:t,filter:{value:r,set:ti(a)},selection:{type:"multi",value:s,set:yi(a)}},fulltext:{value:r?.fulltext,set:ri(a)},cursor:{count:e,cursor:n,textTotal:y.jsx(K,{label:"Number of items"}),...ei(a)}})})}}),OU=t=>y.jsx(pC,{items:[{id:"name",label:y.jsx(K,{label:"Building name (label)"}),render({entity:e}){return e.baseBuilding.name}}],...t}),CU=fr("/$locale/apps/derivean/root/building/$id/view/")({component(){const{entity:t}=ru({from:"/$locale/apps/derivean/root/building/$id"});return y.jsx("div",{className:"w-1/2 mx-auto",children:y.jsx(OU,{entity:t})})}}),tI=Yi.merge(de.object({buildingId:de.string().min(1),resourceId:de.string().min(1),amount:de.number().nonnegative()})),uh=ts({entity:tI,output:tI.merge(de.object({building:oh.output,resource:cl.output})),shape:de.object({resourceId:de.string().min(1),amount:de.union([de.number().nonnegative(),de.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:Dr.text("Amount must be a number")})])}),filter:Xi.merge(de.object({userId:de.string().optional(),buildingId:de.string().optional(),resourceId:de.string().optional(),baseBuildingId:de.string().optional()})),sort:["name","resource"]}),hc=es({name:"BuildingResourceSource",schema:uh,db:gn,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:s}){let a=t.selectFrom("Building_Resource as br").selectAll("br").leftJoin("Building as b","b.id","br.buildingId").leftJoin("BaseBuilding as bb","bb.id","b.baseBuildingId").leftJoin("Resource as r","r.id","br.resourceId");const l=d=>{const m=`%${d}%`;return a.where(g=>g.or([g("br.id","like",m),g("bb.id","like",m),g("r.id","like",m),g("bb.name","like",m),g("r.name","like",m)]))},u=d=>{d?.id&&(a=a.where("br.id","=",d.id)),d?.idIn&&(a=a.where("br.id","in",d.idIn)),d?.buildingId&&(a=a.where("br.buildingId","=",d.buildingId)),d?.baseBuildingId&&(a=a.where("b.baseBuildingId","=",d.baseBuildingId)),d?.resourceId&&(a=a.where("br.resourceId","=",d.resourceId)),d?.fulltext&&(a=l(d.fulltext))};return s.includes("filter")&&u(r||{}),s.includes("where")&&u(e||{}),s.includes("cursor")&&(a=a.limit(n.size).offset(n.page*n.size)),a},create$({tx:t}){return t.insertInto("Building_Resource")},patch$({tx:t}){return t.updateTable("Building_Resource")},delete$({tx:t}){return t.deleteFrom("Building_Resource")},map:{async toOutput({tx:t,entity:e}){return{...e,building:await Vs.getOrThrow$({tx:t,id:e.buildingId}),resource:await Qi.getOrThrow$({tx:t,id:e.resourceId})}}}}),rI=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:s=Js,css:a})=>{const l=Zs({resolver:Ys(uh.shape),defaultValues:e}),u=Q.useContext(rs),d=s({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return y.jsxs("form",{className:d.base(),onSubmit:na({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:u})}}),children:[y.jsx(ks,{variant:{highlight:!0},error:l.formState.errors.root}),y.jsx(Tr,{formState:l.formState,name:"resourceId",label:y.jsx(K,{label:"Resource name (label)"}),children:y.jsx(ra,{control:l.control,name:"resourceId",render:({field:{ref:m,...g}})=>y.jsx(lh,{icon:Br,titleText:y.jsx(K,{label:"Select resource (title)"}),allowEmpty:!0,...g})})}),y.jsx(Tr,{formState:l.formState,name:"amount",label:y.jsx(K,{label:"Amount (label)"}),children:y.jsx("input",{type:"number",className:d.input(),...l.register("amount")})}),y.jsx("div",{className:"flex flex-row justify-between gap-8",children:y.jsx(Sn,{iconEnabled:Br,type:"submit",children:y.jsx(K,{label:"Save resources item (submit)"})})})]})},TU=({source:t,resourceId:e,fallback:r=void 0})=>{const n=t.find(s=>s.resourceId===e);return n===void 0?r:n.limit},qU=({limits:t,resourceId:e,amount:r})=>{const n=TU({source:t,resourceId:e});return y.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[y.jsx("div",{className:"",children:pi({number:r})}),n===void 0?null:y.jsxs(y.Fragment,{children:[y.jsx("div",{className:"text-slate-500",children:"/"}),y.jsx("div",{className:"font-light text-slate-500",children:n})]})]})},yb=os(),RU=[yb({name:"building.baseBuilding.name",header(){return y.jsx(K,{label:"Building name (label)"})},render({value:t}){return t},filter:{path:"buildingId",onFilter({data:t,filter:e}){e.shallow("buildingId",t.buildingId)}},size:15}),yb({name:"resource.name",header(){return y.jsx(K,{label:"Resource name (label)"})},render({value:t}){return t},filter:{path:"resourceId",onFilter({data:t,filter:e}){e.shallow("resourceId",t.resourceId)}},size:18}),yb({name:"amount",header(){return y.jsx(K,{label:"Amount (label)"})},render({data:t,value:e}){return y.jsx(qU,{limits:t.building.baseBuilding.limits,resourceId:t.resourceId,amount:e})},size:18})],W0=({buildingId:t,table:e,...r})=>y.jsx(is,{table:ss({...e,columns:RU}),action:{table(){return y.jsx(qn,{children:y.jsx(Mr,{label:y.jsx(K,{label:"Create resource item (menu)"}),textTitle:y.jsx(K,{label:"Create resource item (modal)"}),icon:Br,hidden:!t,children:y.jsx(rI,{mutation:sa({source:hc,async wrap(n){return pr.promise(n(),{loading:y.jsx(K,{label:"Saving resource item (label)"}),success:y.jsx(K,{label:"Resource item successfully saved (label)"}),error:y.jsx(K,{label:"Cannot save resource item (label)"})})},async toCreate({shape:n}){return{entity:{...n,buildingId:t}}}}),onSuccess:async({modalContext:n})=>{n?.close()}})})})},row({data:n}){return y.jsxs(qn,{children:[y.jsx(Mr,{label:y.jsx(K,{label:"Edit resource item (menu)"}),textTitle:y.jsx(K,{label:"Edit resource item (modal)"}),icon:Br,children:y.jsx(rI,{defaultValues:n,mutation:So({source:hc,async wrap(s){return pr.promise(s(),{loading:y.jsx(K,{label:"Saving resource item (label)"}),success:y.jsx(K,{label:"Resource item successfully saved (label)"}),error:y.jsx(K,{label:"Cannot save resource item (label)"})})},async toPatch(){return{filter:{id:n.id}}}}),onSuccess:async({modalContext:s})=>{s?.close()}})}),y.jsx(Mr,{icon:xo,label:y.jsx(K,{label:"Delete resource item (label)"}),textTitle:y.jsx(K,{label:"Delete resource item (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:y.jsx(ia,{source:hc,textContent:y.jsx(K,{label:"Resource item delete (content)"}),filter:{id:n.id}})})]})}},...r}),DT=({icon:t,title:e,amount:r})=>y.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[t?Iy(t)?y.jsx(Er,{icon:t,css:{base:["text-slate-500"]}}):t:null,y.jsx("div",{className:"text-slate-500",children:e}),y.jsx("div",{className:"font-bold text-slate-700",children:pi({number:r.map(({amount:n})=>n).reduce((n,s)=>n+s,0)})})]}),pm=fr("/$locale/apps/derivean/game/building/resource/list/")({validateSearch:ni(ii(uh)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e,session:r},deps:{filter:n,cursor:s}}){const a=await r();return e.transaction().execute(async l=>Wn({tx:l,queryClient:t,source:hc,filter:n,cursor:s,where:{userId:a.id}}))},component(){const{data:t,count:e}=pm.useLoaderData(),{filter:r,cursor:n,selection:s}=pm.useSearch(),a=pm.useNavigate(),{tva:l}=In({from:"__root__"}),u=l().slots;return y.jsxs("div",{className:u.base(),children:[y.jsx(DT,{icon:Br,title:y.jsx(K,{label:"Resource sum (label)"}),amount:t}),y.jsx(W0,{table:{data:t,filter:{value:r,set:ti(a)},selection:{type:"multi",value:s,set:yi(a)}},fulltext:{value:r?.fulltext,set:ri(a)},cursor:{count:e,cursor:n,textTotal:y.jsx(K,{label:"Number of items"}),...ei(a)}})]})}}),Dp=os(),AU=[Dp({name:"baseBuilding.name",header(){return y.jsx(K,{label:"Base building name (label)"})},render({value:t}){return t},size:10}),Dp({name:"current",header(){return y.jsx(K,{label:"Building queue - current (label)"})},render({data:t,value:e}){return y.jsxs("div",{className:"flex flex-row gap-2 items-center",children:[y.jsx("div",{className:"font-bold",children:pi({number:e})}),"/",y.jsx("div",{className:"text-sm text-slate-600",children:t.baseBuilding.cycles})]})},size:10}),Dp({name:"start",header(){return y.jsx(K,{label:"Building queue - started (label)"})},render({value:t}){return pi({number:t})},size:10}),Dp({name:"finish",header(){return y.jsx(K,{label:"Building queue - finish (label)"})},render({value:t}){return pi({number:t})},size:10})],PU=({table:t,...e})=>y.jsx(is,{table:ss({...t,columns:AU}),...e}),mm=fr("/$locale/apps/derivean/game/building/queue/list/")({validateSearch:ni(ii(dT)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e,session:r},deps:{filter:n,cursor:s}}){const a=await r();return e.transaction().execute(l=>Wn({tx:l,queryClient:t,source:Vo,filter:n,cursor:s,where:{userId:a.id}}))},component(){const{data:t,count:e}=mm.useLoaderData(),{filter:r,cursor:n,selection:s}=mm.useSearch(),a=mm.useNavigate(),{tva:l}=In({from:"__root__"}),u=l().slots;return y.jsx("div",{className:u.base(),children:y.jsx(PU,{table:{data:t,filter:{value:r,set:ti(a)},selection:{type:"multi",value:s,set:yi(a)}},fulltext:{value:r?.fulltext,set:ri(a)},cursor:{count:e,cursor:n,textTotal:y.jsx(K,{label:"Number of items"}),...ei(a)}})})}}),nI=({baseBuildingId:t,userId:e})=>Ew({queryKey:["useBuildingCount",t,e],async queryFn(){return gn.transaction().execute(async r=>{const{filter:n}=await Vs.count$({tx:r,filter:{baseBuildingId:t,userId:e}}),{filter:s}=await Vo.count$({tx:r,filter:{baseBuildingId:t,userId:e}});return{count:n,queue:s,total:n+s}})}}),FU=({userId:t})=>{const e=oa({sources:[Vo,Vs,Bn,Es],queries:[["useBuildingCount"]]});return sl({mutationKey:["useConstructMutation"],async mutationFn({baseBuildingId:r}){return gn.transaction().execute(async n=>pr.promise(CT({tx:n,baseBuildingId:r,userId:t}),{success:Dr.text("Building queued."),error:Dr.text("Failed to queue building."),loading:Dr.text("Queuing building...")}))},async onSuccess(){await e()}})},gb=os(),jU=[gb({name:"name",header(){return y.jsx(K,{label:"Base building name (label)"})},render({data:t,value:e,context:{inventory:r,userId:n}}){const s=FU({userId:n}),a=nI({baseBuildingId:t.id,userId:n}),{check:l}=OT({inventory:r,requirements:t.requirements}),u=l&&(t.limit>0?(a.data?.total||0)<t.limit:!0);return y.jsx(Sn,{iconEnabled:ta,iconDisabled:ta,variant:{variant:!u||a.isLoading?"subtle":"primary"},onClick:()=>{s.mutate({baseBuildingId:t.id})},disabled:!u,loading:s.isPending||a.isLoading,css:{base:["w-full"]},children:e})},size:10}),gb({name:"cycles",header(){return y.jsx(K,{label:"Base building cycles (label)"})},render({value:t}){return pi({number:t})},size:14}),gb({name:"limit",header(){return y.jsx(K,{label:"Base building limit (label)"})},render({data:t,value:e,context:{userId:r}}){const n=nI({baseBuildingId:t.id,userId:r});return y.jsxs("div",{className:Ny(["flex","flex-row","gap-2","text-sm"]),children:[y.jsx("div",{children:n.data?.total||0}),y.jsx("div",{children:"/"}),y.jsx("div",{children:e===0?y.jsx(K,{label:"Unlimited (label)"}):e})]})},size:14})],LU=({userId:t,inventory:e,table:r,...n})=>y.jsx(is,{table:ss({...r,columns:jU,context:{userId:t,inventory:e}}),...n}),ym=fr("/$locale/apps/derivean/game/building/base/list/")({validateSearch:ni(ii(Dc)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n}}){return e.transaction().execute(async s=>Wn({tx:s,queryClient:t,source:Bn,filter:r,cursor:n}))},component(){const{data:t,count:e}=ym.useLoaderData(),{filter:r,cursor:n}=ym.useSearch(),s=ym.useNavigate(),{tva:a}=In({from:"__root__"}),l=a().slots,{inventory:u,session:d}=ru({from:"/$locale/apps/derivean/game"});return y.jsx("div",{className:l.base(),children:y.jsx(LU,{userId:d.id,inventory:u,table:{data:t,filter:{value:r,set:ti(s)}},fulltext:{value:r?.fulltext,set:ri(s)},cursor:{count:e,cursor:n,textTotal:y.jsx(K,{label:"Number of items"}),...ei(s)}})})}}),DU=fr("/$locale/apps/derivean/game/building/$id/view/")({component(){return"detail"}}),MU=t=>y.jsx(sT,{icon:ea,titleText:y.jsx(K,{label:"Select base building (title)"}),table:LT,render:({entity:e})=>e.name,source:Bn,useListQuery:q0,...t}),iI=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:s=Js,css:a})=>{const l=Zs({resolver:Ys(oh.shape),defaultValues:e}),u=Q.useContext(rs),d=s({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return y.jsxs("form",{className:d.base(),onSubmit:na({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:u})}}),children:[y.jsx(ks,{variant:{highlight:!0},error:l.formState.errors.root}),y.jsx(Tr,{formState:l.formState,name:"baseBuildingId",label:y.jsx(K,{label:"Base building name (label)"}),children:y.jsx(ra,{control:l.control,name:"baseBuildingId",render:({field:{ref:m,...g}})=>y.jsx(MU,{icon:ea,titleText:y.jsx(K,{label:"Select base building (title)"}),allowEmpty:!0,...g})})}),y.jsx("div",{className:"flex flex-row justify-between gap-8",children:y.jsx(Sn,{iconEnabled:Br,type:"submit",children:y.jsx(K,{label:"Save Building (submit)"})})})]})},BU=os(),$U=[BU({name:"baseBuilding.name",header(){return y.jsx(K,{label:"Base building name (label)"})},render({data:t,value:e}){const{locale:r}=Rn({from:"/$locale"});return y.jsx(Yn,{to:"/$locale/apps/derivean/root/building/$id/view",params:{locale:r,id:t.id},children:e})},size:14})],WU=({userId:t,table:e,...r})=>y.jsx(is,{table:ss({...e,columns:$U}),action:{table(){return y.jsx(qn,{children:y.jsx(Mr,{label:y.jsx(K,{label:"Create building (menu)"}),textTitle:y.jsx(K,{label:"Create building (modal)"}),icon:Br,children:y.jsx(iI,{mutation:sa({source:Vs,async wrap(n){return pr.promise(n(),{loading:y.jsx(K,{label:"Saving building (label)"}),success:y.jsx(K,{label:"Building successfully saved (label)"}),error:y.jsx(K,{label:"Cannot save building (label)"})})},async toCreate({shape:n}){return{entity:{...n,userId:t}}}}),onSuccess:async({modalContext:n})=>{n?.close()}})})})},row({data:n}){return y.jsxs(qn,{children:[y.jsx(Mr,{label:y.jsx(K,{label:"Edit building (menu)"}),textTitle:y.jsx(K,{label:"Edit building (modal)"}),icon:ta,children:y.jsx(iI,{defaultValues:n,mutation:So({source:Vs,async wrap(s){return pr.promise(s(),{loading:y.jsx(K,{label:"Saving building (label)"}),success:y.jsx(K,{label:"Building successfully saved (label)"}),error:y.jsx(K,{label:"Cannot save building (label)"})})},async toPatch(){return{filter:{id:n.id}}}}),onSuccess:async({modalContext:s})=>{s?.close()}})}),y.jsx(Mr,{icon:xo,label:y.jsx(K,{label:"Delete building (label)"}),textTitle:y.jsx(K,{label:"Delete building (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:y.jsx(ia,{source:Vs,textContent:y.jsx(K,{label:"Building delete (content)"}),filter:{id:n.id}})})]})}},...r}),Bd=fr("/$locale/apps/derivean/root/user/$id/building/list/")({validateSearch:ni(ii(oh)),loaderDeps({search:{filter:t,cursor:e,sort:r}}){return{filter:t,cursor:e,sort:r}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n,sort:s},params:{id:a}}){return e.transaction().execute(l=>Wn({tx:l,queryClient:t,source:Vs,filter:r,cursor:n,sort:s,where:{userId:a}}))},component(){const{data:t,count:e}=Bd.useLoaderData(),{filter:r,cursor:n,selection:s}=Bd.useSearch(),{id:a}=Bd.useParams(),l=Bd.useNavigate(),{tva:u}=In({from:"__root__"}),d=u().slots;return y.jsx("div",{className:d.base(),children:y.jsx(WU,{userId:a,table:{data:t,filter:{value:r,set:ti(l)},selection:{type:"multi",value:s,set:yi(l)}},fulltext:{value:r?.fulltext,set:ri(l)},cursor:{count:e,cursor:n,textTotal:y.jsx(K,{label:"Number of items"}),...ei(l)}})})}}),zU=hr({slot:{item:["flex","flex-row","gap-2","items-center","bg-sky-100","border","rounded","border-sky-300","py-1","px-2"]},variant:{passive:{true:[]},missing:{true:[]}},match:[{if:{passive:!0},then:{item:["bg-purple-100","border-purple-300","text-purple-500"]}},{if:{passive:!1},then:{item:["bg-sky-100","border-sky-300","text-sky-500"]}},{if:{missing:!0},then:{item:["bg-amber-100","border-amber-300"]}}],defaults:{passive:!1,missing:!1}}),UU=({resources:t,diff:e,variant:r,tva:n=zU,css:s,...a})=>{const l=n({...r,css:s}).slots;return y.jsx(W6,{items:t,render:({entity:u})=>{const d=e?.find(m=>m.resourceId===u.resourceId);return y.jsxs("div",{className:l.item({passive:u.passive}),children:[y.jsx("div",{children:u.resource.name}),y.jsxs("div",{className:"text-md font-bold text-slate-500",children:["x",pi({number:u.amount})]}),d?y.jsx("div",{children:y.jsxs("div",{className:"text-sm text-red-500",children:["(-",pi({number:d.amount}),")"]})}):e?y.jsx(Er,{icon:dC}):null]})},...a})},VU=t=>y.jsx(pC,{items:[{id:"name",label:y.jsx(K,{label:"Base building name (label)"}),render({entity:e}){return e.name}},{id:"cycles",label:y.jsx(K,{label:"Base building cycles (label)"}),render({entity:e}){return e.cycles}},{id:"limit",label:y.jsx(K,{label:"Base building limit (label)"}),render({entity:e}){return e.limit===0?y.jsx(K,{label:"Unlimited (label)"}):e.limit}},{id:"requirement.resources",label:y.jsx(K,{label:"Base building requirements (label)"}),render({entity:e}){return y.jsx(UU,{resources:e.requirements,limit:5})}}],...t}),HU=fr("/$locale/apps/derivean/root/building/base/$id/view/")({component:()=>{const{entity:t}=ru({from:"/$locale/apps/derivean/root/building/base/$id"});return y.jsx("div",{className:"w-1/2 mx-auto",children:y.jsx(VU,{entity:t})})}}),sI=Yi.merge(de.object({baseBuildingId:de.string().min(1),resourceId:de.string().min(1),amount:de.number().nonnegative(),cycles:de.number().nonnegative()})),z0=ts({entity:sI,output:sI.merge(de.object({resource:cl.output})),shape:de.object({resourceId:de.string().min(1),amount:de.union([de.number().positive(),de.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:Dr.text("Amount must be a number")})]),cycles:de.union([de.number().positive(),de.string().transform(t=>parseFloat(t)).refine(t=>!isNaN(t),{message:Dr.text("Cycles must be a number")})])}),filter:Xi.merge(de.object({baseBuildingId:de.string().optional(),resourceId:de.string().optional()})),sort:["name","resource"]}),$d=es({name:"BaseBuildingProductionSource",schema:z0,db:gn,select$({tx:t,where:e,filter:r,cursor:n={page:0,size:10},use:s}){let a=t.selectFrom("BaseBuildingProduction as bbp").selectAll("bbp").leftJoin("BaseBuilding as bb","bb.id","bbp.baseBuildingId").leftJoin("Resource as r","r.id","bbp.resourceId");const l=d=>{const m=`%${d}%`;return a.where(g=>g.or([g("bbp.id","like",m),g("bb.id","like",m),g("r.id","like",m),g("bb.name","like",m),g("r.name","like",m)]))},u=d=>{d?.id&&(a=a.where("bbp.id","=",d.id)),d?.idIn&&(a=a.where("bbp.id","in",d.idIn)),d?.baseBuildingId&&(a=a.where("bbp.baseBuildingId","=",d.baseBuildingId)),d?.resourceId&&(a=a.where("bbp.resourceId","=",d.resourceId)),d?.fulltext&&(a=l(d.fulltext))};return s.includes("filter")&&u(r||{}),s.includes("where")&&u(e||{}),s.includes("cursor")&&(a=a.limit(n.size).offset(n.page*n.size)),a},create$({tx:t}){return t.insertInto("BaseBuildingProduction")},patch$({tx:t}){return t.updateTable("BaseBuildingProduction")},delete$({tx:t}){return t.deleteFrom("BaseBuildingProduction")},map:{async toOutput({tx:t,entity:e}){return{...e,resource:await Qi.getOrThrow$({tx:t,id:e.resourceId})}}}}),oI=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:s=Js,css:a})=>{const l=Zs({resolver:Ys(z0.shape),defaultValues:{amount:1,cycles:1,...e}}),u=Q.useContext(rs),d=s({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return y.jsxs("form",{className:d.base(),onSubmit:na({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:u})}}),children:[y.jsx(ks,{variant:{highlight:!0},error:l.formState.errors.root}),y.jsx(Tr,{formState:l.formState,name:"resourceId",label:y.jsx(K,{label:"Resource name (label)"}),children:y.jsx(ra,{control:l.control,name:"resourceId",render:({field:{ref:m,...g}})=>y.jsx(lh,{...g})})}),y.jsx(Tr,{formState:l.formState,name:"amount",label:y.jsx(K,{label:"Amount (label)"}),children:y.jsx("input",{type:"number",className:d.input(),...l.register("amount")})}),y.jsx(Tr,{formState:l.formState,name:"cycles",label:y.jsx(K,{label:"Cycle count (label)"}),hint:y.jsx(K,{label:"Cycle count (hint)"}),children:y.jsx("input",{type:"number",className:d.input(),...l.register("cycles")})}),y.jsx("div",{className:"flex flex-row justify-between gap-8",children:y.jsx(Sn,{iconEnabled:Br,type:"submit",children:y.jsx(K,{label:"Save resource production (submit)"})})})]})},vb=os(),QU=[vb({name:"resource.name",header(){return y.jsx(K,{label:"Resource name (label)"})},render({value:t}){return t},size:18}),vb({name:"amount",header(){return y.jsx(K,{label:"Amount (label)"})},render({value:t}){return pi({number:t})},size:14}),vb({name:"cycles",header(){return y.jsx(K,{label:"Cycle count (label)"})},render({value:t}){return pi({number:t})},size:14})],KU=({baseBuildingId:t,table:e,...r})=>{const n=oa({sources:[Bn,$d]});return y.jsx(is,{table:ss({...e,columns:QU}),action:{table(){return y.jsx(qn,{children:y.jsx(Mr,{label:y.jsx(K,{label:"Create production resource (menu)"}),textTitle:y.jsx(K,{label:"Create production resource (modal)"}),icon:Br,children:y.jsx(oI,{mutation:sa({source:$d,async wrap(s){return pr.promise(s(),{loading:y.jsx(K,{label:"Saving production resource (label)"}),success:y.jsx(K,{label:"Production resource successfully saved (label)"}),error:y.jsx(K,{label:"Cannot save production resource (label)"})})},async toCreate({shape:s}){return{entity:{...s,baseBuildingId:t}}}}),onSuccess:async({modalContext:s})=>{await n(),s?.close()}})})})},row({data:s}){return y.jsxs(qn,{children:[y.jsx(Mr,{label:y.jsx(K,{label:"Edit production resource (menu)"}),textTitle:y.jsx(K,{label:"Edit production resource (modal)"}),icon:Br,children:y.jsx(oI,{defaultValues:s,mutation:So({source:$d,async wrap(a){return pr.promise(a(),{loading:y.jsx(K,{label:"Saving production resource (label)"}),success:y.jsx(K,{label:"Production resource successfully saved (label)"}),error:y.jsx(K,{label:"Cannot save production resource (label)"})})},async toPatch({shape:a}){return{entity:{...a,baseBuildingId:t},filter:{id:s.id}}}}),onSuccess:async({modalContext:a})=>{await n(),a?.close()}})}),y.jsx(Mr,{icon:xo,label:y.jsx(K,{label:"Delete production resource (label)"}),textTitle:y.jsx(K,{label:"Delete production resource (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:y.jsx(ia,{source:$d,textContent:y.jsx(K,{label:"Production resource delete (content)"}),filter:{id:s.id},invalidator:n})})]})}},...r})},Wd=fr("/$locale/apps/derivean/root/building/base/$id/production/")({validateSearch:ni(ii(z0)),loaderDeps({search:{filter:t,cursor:e,sort:r}}){return{filter:t,cursor:e,sort:r}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n,sort:s},params:{id:a}}){return e.transaction().execute(async l=>Wn({tx:l,queryClient:t,source:$d,filter:r,cursor:n,sort:s,where:{baseBuildingId:a}}))},component:()=>{const{data:t,count:e}=Wd.useLoaderData(),{filter:r,cursor:n,selection:s}=Wd.useSearch(),{id:a}=Wd.useParams(),l=Wd.useNavigate(),{tva:u}=In({from:"__root__"}),d=u().slots;return y.jsx("div",{className:d.base(),children:y.jsx(KU,{baseBuildingId:a,table:{data:t,filter:{value:r,set:ti(l)},selection:{type:"multi",value:s,set:yi(l)}},fulltext:{value:r?.fulltext,set:ri(l)},cursor:{count:e,cursor:n,textTotal:y.jsx(K,{label:"Number of items"}),...ei(l)}})})}}),MT=fr("/$locale/apps/derivean/root/building/base/$id/edit/")({component:()=>{const{entity:t}=ru({from:"/$locale/apps/derivean/root/building/base/$id"}),e=MT.useNavigate(),r=oa({sources:[Bn]});return y.jsx("div",{className:"w-1/2 mx-auto",children:y.jsx(vw,{defaultValues:t,mutation:So({source:Bn,async wrap(n){return pr.promise(n(),{loading:y.jsx(K,{label:"Saving base building (label)"}),success:y.jsx(K,{label:"Base building successfully saved (label)"}),error:y.jsx(K,{label:"Cannot save base building (label)"})})},async toPatch(){return{filter:{id:t.id}}}}),onSuccess:async()=>{await r(),e({to:"/$locale/apps/derivean/root/building/base/$id/view",params:{id:t.id}})}})})}}),zd=fr("/$locale/apps/derivean/root/building/$id/resource/list/")({validateSearch:ni(ii(uh)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n},params:{id:s}}){return e.transaction().execute(a=>Wn({tx:a,queryClient:t,source:hc,filter:r,cursor:n,where:{buildingId:s}}))},component(){const{data:t,count:e}=zd.useLoaderData(),{filter:r,cursor:n,selection:s}=zd.useSearch(),{id:a}=zd.useParams(),l=zd.useNavigate(),{tva:u}=In({from:"__root__"}),d=u().slots;return y.jsx("div",{className:d.base(),children:y.jsx(W0,{buildingId:a,table:{data:t,filter:{value:r,set:ti(l)},selection:{type:"multi",value:s,set:yi(l)}},fulltext:{value:r?.fulltext,set:ri(l)},cursor:{count:e,cursor:n,textTotal:y.jsx(K,{label:"Number of items"}),...ei(l)}})})}}),gm=fr("/$locale/apps/derivean/root/user/$id/building/resource/list/")({validateSearch:ni(ii(uh)),loaderDeps({search:{filter:t,cursor:e}}){return{filter:t,cursor:e}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n},params:{id:s}}){return e.transaction().execute(a=>Wn({tx:a,queryClient:t,source:hc,filter:r,where:{userId:s},cursor:n}))},component(){const{data:t,count:e}=gm.useLoaderData(),{filter:r,cursor:n,selection:s}=gm.useSearch(),a=gm.useNavigate(),{tva:l}=In({from:"__root__"}),u=l().slots;return y.jsxs("div",{className:u.base(),children:[y.jsx(DT,{icon:Br,title:y.jsx(K,{label:"Resource sum (label)"}),amount:t}),y.jsx(W0,{table:{data:t,filter:{value:r,set:ti(a)},selection:{type:"multi",value:s,set:yi(a)}},fulltext:{value:r?.fulltext,set:ri(a)},cursor:{count:e,cursor:n,textTotal:y.jsx(K,{label:"Number of items"}),...ei(a)}})]})}}),aI=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:s=Js,css:a})=>{const l=Zs({resolver:Ys(Jy.shape),defaultValues:{passive:!1,...e}}),u=Q.useContext(rs),d=s({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return y.jsxs("form",{className:d.base(),onSubmit:na({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:u})}}),children:[y.jsx(ks,{variant:{highlight:!0},error:l.formState.errors.root}),y.jsx(Tr,{formState:l.formState,name:"resourceId",label:y.jsx(K,{label:"Resource name (label)"}),children:y.jsx(ra,{control:l.control,name:"resourceId",render:({field:{ref:m,...g}})=>y.jsx(lh,{...g})})}),y.jsx(Tr,{formState:l.formState,name:"amount",label:y.jsx(K,{label:"Amount (label)"}),children:y.jsx("input",{type:"number",className:d.input(),...l.register("amount")})}),y.jsx(Tr,{formState:l.formState,name:"passive",label:y.jsx(K,{label:"Passive requirement (label)"}),hint:y.jsx(K,{label:"Passive requirement (hint)"}),children:y.jsx(ra,{control:l.control,name:"passive",render:({field:{ref:m,...g}})=>y.jsx(hC,{...g})})}),y.jsx("div",{className:"flex flex-row justify-between gap-8",children:y.jsx(Sn,{iconEnabled:Br,type:"submit",children:y.jsx(K,{label:"Save resource requirement (submit)"})})})]})},_b=os(),GU=[_b({name:"resource.name",header(){return y.jsx(K,{label:"Resource name (label)"})},render({value:t}){return t},size:18}),_b({name:"amount",header(){return y.jsx(K,{label:"Amount (label)"})},render({value:t}){return pi({number:t})},size:14}),_b({name:"passive",header(){return y.jsx(K,{label:"Passive requirement (label)"})},render({value:t}){return y.jsx(fC,{value:t})},size:14})],JU=({baseBuildingId:t,table:e,...r})=>{const n=oa({sources:[Bn,Zu]});return y.jsx(is,{table:ss({...e,columns:GU}),action:{table(){return y.jsx(qn,{children:y.jsx(Mr,{label:y.jsx(K,{label:"Create resource requirement (menu)"}),textTitle:y.jsx(K,{label:"Create resource requirement (modal)"}),icon:Br,children:y.jsx(aI,{mutation:sa({source:Zu,async wrap(s){return pr.promise(s(),{loading:y.jsx(K,{label:"Saving resource requirement (label)"}),success:y.jsx(K,{label:"Resource requirement successfully saved (label)"}),error:y.jsx(K,{label:"Cannot save resource requirement (label)"})})},async toCreate({shape:s}){return{entity:{...s,baseBuildingId:t}}}}),onSuccess:async({modalContext:s})=>{await n(),s?.close()}})})})},row({data:s}){return y.jsxs(qn,{children:[y.jsx(Mr,{label:y.jsx(K,{label:"Edit resource requirement (menu)"}),textTitle:y.jsx(K,{label:"Edit resource requirement (modal)"}),icon:Br,children:y.jsx(aI,{defaultValues:s,mutation:So({source:Zu,async wrap(a){return pr.promise(a(),{loading:y.jsx(K,{label:"Saving resource requirement (label)"}),success:y.jsx(K,{label:"Resource requirement successfully saved (label)"}),error:y.jsx(K,{label:"Cannot save resource requirement (label)"})})},async toPatch({shape:a}){return{entity:{...a,baseBuildingId:t},filter:{id:s.id}}}}),onSuccess:async({modalContext:a})=>{await n(),a?.close()}})}),y.jsx(Mr,{icon:xo,label:y.jsx(K,{label:"Delete resource requirement (label)"}),textTitle:y.jsx(K,{label:"Delete resource requirement (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:y.jsx(ia,{source:Zu,textContent:y.jsx(K,{label:"Resource requirement delete (content)"}),filter:{id:s.id},invalidator:n})})]})}},...r})},Ud=fr("/$locale/apps/derivean/root/building/base/$id/requirement/list/")({validateSearch:ni(ii(Jy)),loaderDeps({search:{filter:t,cursor:e,sort:r}}){return{filter:t,cursor:e,sort:r}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n,sort:s},params:{id:a}}){return e.transaction().execute(async l=>Wn({tx:l,queryClient:t,source:Zu,filter:r,cursor:n,sort:s||[{name:"resource",sort:"asc"}],where:{baseBuildingId:a}}))},component:()=>{const{data:t,count:e}=Ud.useLoaderData(),{filter:r,cursor:n,selection:s}=Ud.useSearch(),{id:a}=Ud.useParams(),l=Ud.useNavigate(),{tva:u}=In({from:"__root__"}),d=u().slots;return y.jsx("div",{className:d.base(),children:y.jsx(JU,{baseBuildingId:a,table:{data:t,filter:{value:r,set:ti(l)},selection:{type:"multi",value:s,set:yi(l)}},fulltext:{value:r?.fulltext,set:ri(l)},cursor:{count:e,cursor:n,textTotal:y.jsx(K,{label:"Number of items"}),...ei(l)}})})}}),lI=({mutation:t,defaultValues:e,onSuccess:r,variant:n,tva:s=Js,css:a})=>{const l=Zs({resolver:Ys(Gy.shape),defaultValues:e}),u=Q.useContext(rs),d=s({...n,isLoading:l.formState.isLoading,isSubmitting:l.formState.isSubmitting,css:a}).slots;return y.jsxs("form",{className:d.base(),onSubmit:na({form:l,mutation:t,async onSuccess(m){r?.({entity:m,modalContext:u})}}),children:[y.jsx(ks,{variant:{highlight:!0},error:l.formState.errors.root}),y.jsx(Tr,{formState:l.formState,name:"resourceId",label:y.jsx(K,{label:"Resource name (label)"}),children:y.jsx(ra,{control:l.control,name:"resourceId",render:({field:{ref:m,...g}})=>y.jsx(lh,{icon:Br,titleText:y.jsx(K,{label:"Select resource (title)"}),allowEmpty:!0,...g})})}),y.jsx(Tr,{formState:l.formState,name:"limit",label:y.jsx(K,{label:"Limit (label)"}),children:y.jsx("input",{type:"number",className:d.input(),...l.register("limit")})}),y.jsx("div",{className:"flex flex-row justify-between gap-8",children:y.jsx(Sn,{iconEnabled:Br,type:"submit",children:y.jsx(K,{label:"Save resource limit (submit)"})})})]})},uI=os(),ZU=[uI({name:"resource.name",header(){return y.jsx(K,{label:"Resource name (label)"})},render({value:t}){return t},size:18}),uI({name:"limit",header(){return y.jsx(K,{label:"Storage limit (label)"})},render({value:t}){return t},size:18})],YU=({baseBuildingId:t,table:e,...r})=>y.jsx(is,{table:ss({...e,columns:ZU}),action:{table(){return y.jsx(qn,{children:y.jsx(Mr,{label:y.jsx(K,{label:"Create resource limit (menu)"}),textTitle:y.jsx(K,{label:"Create resource limit (modal)"}),icon:gw,children:y.jsx(lI,{mutation:sa({source:nf,async wrap(n){return pr.promise(n(),{loading:y.jsx(K,{label:"Saving resource limit (label)"}),success:y.jsx(K,{label:"Resource limit successfully saved (label)"}),error:y.jsx(K,{label:"Cannot resource limit storage (label)"})})},async toCreate({shape:n}){return{entity:{...n,baseBuildingId:t}}}}),onSuccess:async({modalContext:n})=>{n?.close()}})})})},row({data:n}){return y.jsxs(qn,{children:[y.jsx(Mr,{label:y.jsx(K,{label:"Edit base storage (menu)"}),textTitle:y.jsx(K,{label:"Edit base storage (modal)"}),icon:gw,children:y.jsx(lI,{defaultValues:n,mutation:So({source:nf,async wrap(s){return pr.promise(s(),{loading:y.jsx(K,{label:"Saving base storage (label)"}),success:y.jsx(K,{label:"Base storage successfully saved (label)"}),error:y.jsx(K,{label:"Cannot save base storage (label)"})})},async toPatch(){return{filter:{id:n.id}}}}),onSuccess:async({modalContext:s})=>{s?.close()}})}),y.jsx(Mr,{icon:xo,label:y.jsx(K,{label:"Delete base storage (label)"}),textTitle:y.jsx(K,{label:"Delete base storage (modal)"}),css:{base:["text-red-500","hover:text-red-600","hover:bg-red-50"]},children:y.jsx(ia,{source:nf,textContent:y.jsx(K,{label:"Base storage delete (content)"}),filter:{id:n.id}})})]})}},...r}),Vd=fr("/$locale/apps/derivean/root/building/base/$id/limit/list/")({validateSearch:ni(ii(Gy)),loaderDeps({search:{filter:t,cursor:e,sort:r}}){return{filter:t,cursor:e,sort:r}},async loader({context:{queryClient:t,kysely:e},deps:{filter:r,cursor:n,sort:s},params:{id:a}}){return e.transaction().execute(async l=>Wn({tx:l,queryClient:t,source:nf,filter:r,cursor:n,sort:s,where:{baseBuildingId:a}}))},component(){const{data:t,count:e}=Vd.useLoaderData(),{filter:r,cursor:n,selection:s}=Vd.useSearch(),{id:a}=Vd.useParams(),l=Vd.useNavigate(),{tva:u}=In({from:"__root__"}),d=u().slots;return y.jsx("div",{className:d.base(),children:y.jsx(YU,{baseBuildingId:a,table:{data:t,filter:{value:r,set:ti(l)},selection:{type:"multi",value:s,set:yi(l)}},fulltext:{value:r?.fulltext,set:ri(l)},cursor:{count:e,cursor:n,textTotal:y.jsx(K,{label:"Number of items"}),...ei(l)}})})}}),U0=dz.update({id:"/$locale",path:"/$locale",getParentRoute:()=>F0}),XU=pz.update({id:"/",path:"/",getParentRoute:()=>F0}),eV=mz.update({id:"/",path:"/",getParentRoute:()=>U0}),Mc=gz.update({id:"/apps/derivean",path:"/apps/derivean",getParentRoute:()=>U0}),Xs=bz.update({id:"/root",path:"/root",getParentRoute:()=>Mc}),dl=Iz.update({id:"/game",path:"/game",getParentRoute:()=>Mc}),tV=Cz.update({id:"/",path:"/",getParentRoute:()=>Xs}),rV=Tz.update({id:"/",path:"/",getParentRoute:()=>dl}),nV=tU.update({id:"/public/register",path:"/public/register",getParentRoute:()=>Mc}),iV=rU.update({id:"/public/logout",path:"/public/logout",getParentRoute:()=>Mc}),sV=oU.update({id:"/public/login",path:"/public/login",getParentRoute:()=>Mc}),oV=lm.update({id:"/inventory/",path:"/inventory/",getParentRoute:()=>dl}),ch=PT.update({id:"/user/$id",path:"/user/$id",getParentRoute:()=>Xs}),BT=hU.update({id:"/resource/$id",path:"/resource/$id",getParentRoute:()=>Xs}),V0=FT.update({id:"/building/$id",path:"/building/$id",getParentRoute:()=>Xs}),aV=um.update({id:"/user/list/",path:"/user/list/",getParentRoute:()=>Xs}),lV=cm.update({id:"/tag/list/",path:"/tag/list/",getParentRoute:()=>Xs}),uV=dm.update({id:"/resource/list/",path:"/resource/list/",getParentRoute:()=>Xs}),cV=vU.update({id:"/building/list/",path:"/building/list/",getParentRoute:()=>Xs}),dV=fm.update({id:"/building/list/",path:"/building/list/",getParentRoute:()=>dl}),Bc=jT.update({id:"/building/base/$id",path:"/building/base/$id",getParentRoute:()=>Xs}),fV=NU.update({id:"/view/",path:"/view/",getParentRoute:()=>ch}),hV=Md.update({id:"/inventory/",path:"/inventory/",getParentRoute:()=>ch}),pV=kU.update({id:"/view/",path:"/view/",getParentRoute:()=>BT}),mV=hm.update({id:"/building/base/list/",path:"/building/base/list/",getParentRoute:()=>Xs}),yV=CU.update({id:"/view/",path:"/view/",getParentRoute:()=>V0}),gV=pm.update({id:"/building/resource/list/",path:"/building/resource/list/",getParentRoute:()=>dl}),vV=mm.update({id:"/building/queue/list/",path:"/building/queue/list/",getParentRoute:()=>dl}),_V=ym.update({id:"/building/base/list/",path:"/building/base/list/",getParentRoute:()=>dl}),bV=DU.update({id:"/building/$id/view/",path:"/building/$id/view/",getParentRoute:()=>dl}),wV=Bd.update({id:"/building/list/",path:"/building/list/",getParentRoute:()=>ch}),xV=HU.update({id:"/view/",path:"/view/",getParentRoute:()=>Bc}),SV=Wd.update({id:"/production/",path:"/production/",getParentRoute:()=>Bc}),EV=MT.update({id:"/edit/",path:"/edit/",getParentRoute:()=>Bc}),NV=zd.update({id:"/resource/list/",path:"/resource/list/",getParentRoute:()=>V0}),kV=gm.update({id:"/building/resource/list/",path:"/building/resource/list/",getParentRoute:()=>ch}),IV=Ud.update({id:"/requirement/list/",path:"/requirement/list/",getParentRoute:()=>Bc}),OV=Vd.update({id:"/limit/list/",path:"/limit/list/",getParentRoute:()=>Bc}),CV={LocaleAppsDeriveanGameIndexRoute:rV,LocaleAppsDeriveanGameInventoryIndexRoute:oV,LocaleAppsDeriveanGameBuildingListIndexRoute:dV,LocaleAppsDeriveanGameBuildingIdViewIndexRoute:bV,LocaleAppsDeriveanGameBuildingBaseListIndexRoute:_V,LocaleAppsDeriveanGameBuildingQueueListIndexRoute:vV,LocaleAppsDeriveanGameBuildingResourceListIndexRoute:gV},TV=dl._addFileChildren(CV),qV={LocaleAppsDeriveanRootBuildingIdViewIndexRoute:yV,LocaleAppsDeriveanRootBuildingIdResourceListIndexRoute:NV},RV=V0._addFileChildren(qV),AV={LocaleAppsDeriveanRootResourceIdViewIndexRoute:pV},PV=BT._addFileChildren(AV),FV={LocaleAppsDeriveanRootUserIdInventoryIndexRoute:hV,LocaleAppsDeriveanRootUserIdViewIndexRoute:fV,LocaleAppsDeriveanRootUserIdBuildingListIndexRoute:wV,LocaleAppsDeriveanRootUserIdBuildingResourceListIndexRoute:kV},jV=ch._addFileChildren(FV),LV={LocaleAppsDeriveanRootBuildingBaseIdEditIndexRoute:EV,LocaleAppsDeriveanRootBuildingBaseIdProductionIndexRoute:SV,LocaleAppsDeriveanRootBuildingBaseIdViewIndexRoute:xV,LocaleAppsDeriveanRootBuildingBaseIdLimitListIndexRoute:OV,LocaleAppsDeriveanRootBuildingBaseIdRequirementListIndexRoute:IV},DV=Bc._addFileChildren(LV),MV={LocaleAppsDeriveanRootIndexRoute:tV,LocaleAppsDeriveanRootBuildingIdRoute:RV,LocaleAppsDeriveanRootResourceIdRoute:PV,LocaleAppsDeriveanRootUserIdRoute:jV,LocaleAppsDeriveanRootBuildingBaseIdRoute:DV,LocaleAppsDeriveanRootBuildingListIndexRoute:cV,LocaleAppsDeriveanRootResourceListIndexRoute:uV,LocaleAppsDeriveanRootTagListIndexRoute:lV,LocaleAppsDeriveanRootUserListIndexRoute:aV,LocaleAppsDeriveanRootBuildingBaseListIndexRoute:mV},BV=Xs._addFileChildren(MV),$V={LocaleAppsDeriveanGameRoute:TV,LocaleAppsDeriveanRootRoute:BV,LocaleAppsDeriveanPublicLoginRoute:sV,LocaleAppsDeriveanPublicLogoutRoute:iV,LocaleAppsDeriveanPublicRegisterRoute:nV},WV=Mc._addFileChildren($V),zV={LocaleIndexRoute:eV,LocaleAppsDeriveanRoute:WV},UV=U0._addFileChildren(zV),VV={IndexRoute:XU,LocaleRoute:UV},HV=F0._addFileChildren(VV)._addFileTypes(),$T=new fR({defaultOptions:{queries:{placeholderData:Xq}}}),QV=lA({routeTree:HV,context:{queryClient:$T,tva:r$,async session(){return Qy.parse(null)},kysely:gn},defaultPendingComponent:q6,defaultPreload:"intent",defaultPreloadStaleTime:0,defaultPendingMinMs:200}),cI=document.getElementById("app");f2({limit:{maxRequests:10,perMilliseconds:100}});cI.innerHTML||lz.createRoot(cI).render(y.jsx(vR,{client:$T,children:y.jsx(AA,{router:QV})}))})();